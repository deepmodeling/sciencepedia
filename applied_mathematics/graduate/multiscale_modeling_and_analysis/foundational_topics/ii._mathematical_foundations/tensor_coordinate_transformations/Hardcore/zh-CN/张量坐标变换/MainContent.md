## 引言
张量坐标变换是现代物理学、工程学及应用数学中的一块基石。它提供了一套严谨的数学语言，用于描述物理量如何在不同的观测视角（即坐标系）下表现，并确保物理定律的客观性与普适性。无论是在描述[弯曲时空](@entry_id:159822)的广义相对论，还是在分析复合材料复杂力学行为的连续介质力学中，正确理解和应用[张量变换](@entry_id:183453)都是不可或缺的能力。

然而，对于许多初学者而言，张量的抽象性及其分量变换的复杂规则（如逆变与协变）常常构成一道难以逾越的障碍。混淆张量这一“几何对象”与其在特定坐标系下的“分量矩阵”，是导致物理建模中出现错误的关键原因。本文旨在系统性地攻克这一难题，从最基本的[向量空间对偶](@entry_id:150169)性出发，逐步构建张量[坐标变换](@entry_id:172727)的完整理论框架。

通过本文的学习，读者将掌握[张量变换](@entry_id:183453)的核心原理、其在不同学科中的具体应用，并能通过实践练习来巩固理解。我们将首先在“原理与机制”一章中，深入探讨向量、[余向量](@entry_id:157727)、[度规张量](@entry_id:160222)以及[协变导数](@entry_id:152476)等基本概念，揭示坐标变换法则的内在逻辑。随后，在“应用与交叉学科联系”一章中，我们将展示这些理论如何在[连续介质力学](@entry_id:155125)、材料科学和[计算建模](@entry_id:144775)等领域中发挥关键作用。最后，“动手实践”部分将提供精选的计算与思辨问题，帮助读者将理论知识转化为解决实际问题的能力。

## 原理与机制

本章旨在深入探讨张量[坐标变换](@entry_id:172727)的根本原理与核心机制。在前一章介绍其背景与重要性之后，我们将从[向量空间的基](@entry_id:191509)本属性出发，系统地构建[张量分析](@entry_id:161423)所需的数学框架。我们将阐明向量、[余向量](@entry_id:157727)、张量及其分量在不同坐标系下如何变换，并揭示[度规张量](@entry_id:160222)、[协变导数](@entry_id:152476)等关键概念在确保物理定律的[坐标无关性](@entry_id:159715)中所扮演的角色。

### 基础：向量、[余向量](@entry_id:157727)与对偶性

在任何物理或工程模型中，状态变量（如位移、速度、力）通常被抽象为[向量空间](@entry_id:151108)中的元素。让我们从一个维度为 $n$ 的有限维实向量空间 $V$ 开始。为描述该空间中的向量，我们首先需要选择一组基。设 $\mathcal{B} = \{e_i\}_{i=1}^n$ 是 $V$ 的一组基底。空间中的任意向量 $v \in V$ 都可以唯一地表示为这组[基向量](@entry_id:199546)的线性组合：

$$
v = v^1 e_1 + v^2 e_2 + \dots + v^n e_n = v^i e_i
$$

在此，我们采用了爱因斯坦求和约定，即当一个指标在一个单项式中同时以一上一下标形式出现时，表示对该指标从 $1$ 到 $n$ 求和。系数 $\{v^i\}$ 称为向量 $v$ 在基 $\mathcal{B}$ 下的**[逆变分量](@entry_id:185440) (contravariant components)**。上标的使用是特意的，它标志着这些分量在坐标变换下的特定行为，我们稍后将详细讨论。

与向量空间 $V$ 紧密相关的是它的**[对偶空间](@entry_id:146945) (dual space)**，记作 $V^*$。$V^*$ 由所有从 $V$ 到[实数域](@entry_id:151347) $\mathbb{R}$ 的[线性映射](@entry_id:185132)（或称[线性泛函](@entry_id:276136)）构成。这些[线性泛函](@entry_id:276136)通常被称为**[余向量](@entry_id:157727) (covectors)** 或 **[1-形式](@entry_id:270392) (1-forms)**。

给定 $V$ 的一组基 $\{e_i\}$，我们可以唯一地确定 $V^*$ 中的一组相应基底，称为**对偶基 (dual basis)**，记作 $\{e^j\}_{j=1}^n$。对偶基的定义依赖于它与原基底的作用关系：

$$
e^j(e_i) = \delta^j_i
$$

其中 $\delta^j_i$ 是 **克罗内克符号 (Kronecker delta)**，当 $i=j$ 时为 $1$，否则为 $0$。这个简单的关系是[张量分析](@entry_id:161423)中上下标写法的基石，它建立了一个完美的“配对”关系。正如向量可以表示为[基向量](@entry_id:199546)的[线性组合](@entry_id:154743)，一个[余向量](@entry_id:157727) $\alpha \in V^*$ 也可以唯一地表示为其对偶基的[线性组合](@entry_id:154743)：

$$
\alpha = \alpha_1 e^1 + \alpha_2 e^2 + \dots + \alpha_n e^n = \alpha_j e^j
$$

这里的系数 $\{\alpha_j\}$ 被称为[余向量](@entry_id:157727) $\alpha$ 在对偶基 $\{e^j\}$ 下的**协变分量 (covariant components)**。下标的使用同样是为了标识其特定的变换性质。

[向量和余向量](@entry_id:181128)的分量可以通过与基和对偶基的“收缩”来提取。对于向量 $v=v^j e_j$，其第 $i$ 个[逆变分量](@entry_id:185440)可以通过将 $v$ 作为对偶基向量 $e^i$ 的输入得到：

$$
e^i(v) = e^i(v^j e_j) = v^j e^i(e_j) = v^j \delta^i_j = v^i
$$

类似地，对于[余向量](@entry_id:157727) $\alpha=\alpha_i e^i$，其第 $j$ 个[协变](@entry_id:634097)分量可以通过将基向量 $e_j$ 作为 $\alpha$ 的输入得到：

$$
\alpha(e_j) = (\alpha_i e^i)(e_j) = \alpha_i e^i(e_j) = \alpha_i \delta^i_j = \alpha_j
$$

[向量与余向量](@entry_id:180712)之间最自然的操作是**自然配对 (natural pairing)**，即一个[余向量](@entry_id:157727)作用于一个向量上，产生一个标量。这个标量的值是坐标无关的，是几何内在的。在分量形式下，这个操作表现为一个上标和一个下标的收缩：

$$
\alpha(v) = (\alpha_i e^i)(v^j e_j) = \alpha_i v^j e^i(e_j) = \alpha_i v^j \delta^i_j = \alpha_i v^i
$$

这个简单的结果 $\alpha(v) = \alpha_i v^i$ 体现了对偶性和分量表示的优雅之处。

### 核心原理：坐标变换

物理定律的普适性要求其表达形式不依赖于观察者选择的特定坐标系。张量正是为满足这一要求而生的数学工具。张量本身是一个不依赖于坐标的“几何对象”，但它在不同坐标系下的分量表示是不同的。理解这些分量如何变换，是掌握[张量分析](@entry_id:161423)的关键。

假设我们有两个基底，$\mathcal{B}=\{e_i\}$ 和 $\widetilde{\mathcal{B}}=\{\tilde{e}_i\}$。它们之间通过一个可逆的[线性变换矩阵](@entry_id:186379) $A$ 联系，其分量为 $A^j{}_i$：

$$
\tilde{e}_i = A^j{}_i e_j
$$

这意味着新的第 $i$ 个基向量 $\tilde{e}_i$ 是旧[基向量](@entry_id:199546) $\{e_j\}$ 的线性组合。现在我们来探究[向量和余向量](@entry_id:181128)的分量如何相应地变换。

向量 $v$ 本身是固定不变的，因此它在两个基底下的展开式必须相等：

$$
v = v^j e_j = \tilde{v}^i \tilde{e}_i
$$

将新基底的表达式代入，我们得到 $v = \tilde{v}^i (A^j{}_i e_j) = (A^j{}_i \tilde{v}^i) e_j$。通过比较 $e_j$ 的系数，我们发现旧分量 $v^j$ 和新分量 $\tilde{v}^i$ 之间的关系是 $v^j = A^j{}_i \tilde{v}^i$。为了求解新分量 $\tilde{v}^i$，我们需要左乘 $A$ 的逆矩阵，记为 $A^{-1}$，其分量为 $(A^{-1})^k{}_j$。于是，我们得到[逆变分量](@entry_id:185440)的变换法则：

$$
\tilde{v}^k = (A^{-1})^k{}_j v^j
$$

这个结果表明，当基向量以矩阵 $A$ 变换时，向量的[逆变分量](@entry_id:185440)必须以逆矩阵 $A^{-1}$ 进行变换。这种“反向”的变换行为正是“逆变”一词的由来。它确保了 $v^j e_j$ 的组合在[坐标变换](@entry_id:172727)下保持不变。

接下来，我们考察对偶基的变换。新的对偶基 $\{\tilde{e}^i\}$ 必须满足与新基 $\{\tilde{e}_j\}$ 的对偶关系 $\tilde{e}^i(\tilde{e}_j) = \delta^i_j$。假设新对偶基是旧对偶基的[线性组合](@entry_id:154743) $\tilde{e}^i = M^i{}_k e^k$，其中 $M$ 是待定矩阵。代入变换关系：

$$
\delta^i_j = \tilde{e}^i(\tilde{e}_j) = (M^i{}_k e^k)(A^l{}_j e_l) = M^i{}_k A^l{}_j e^k(e_l) = M^i{}_k A^l{}_j \delta^k_l = M^i_k A^k_j
$$

矩阵形式即 $M A = I$（[单位矩阵](@entry_id:156724)），因此 $M = A^{-1}$。对偶基的变换法则是：

$$
\tilde{e}^i = (A^{-1})^i{}_j e^j
$$

这表明对偶基的变换方式与[逆变分量](@entry_id:185440)相同，都使用逆矩阵 $A^{-1}$。

最后，我们来推导[余向量](@entry_id:157727)协变分量的变换法则。[余向量](@entry_id:157727) $\alpha$ 也是一个不变的几何对象：

$$
\alpha = \alpha_j e^j = \tilde{\alpha}_i \tilde{e}^i
$$

代入对偶基的变换法则：$\alpha = \tilde{\alpha}_i ((A^{-1})^i{}_j e^j) = (\tilde{\alpha}_i (A^{-1})^i{}_j) e^j$。比较 $e^j$ 的系数，得到 $\alpha_j = \tilde{\alpha}_i (A^{-1})^i{}_j$。为了求解新分量 $\tilde{\alpha}_i$，我们右乘矩阵 $A$：

$$
\tilde{\alpha}_k = \alpha_j A^j{}_k
$$

[协变](@entry_id:634097)分量以矩阵 $A$ 进行变换，与[基向量](@entry_id:199546)的变换方式相同（尽管索引位置不同，但都涉及矩阵 $A$ 而非 $A^{-1}$），这正是“协变”的含义。

至此，我们看到自然配对 $\alpha(v)$ 的不依赖于坐标系的性质得到了完美的体现。在新坐标系下计算：

$$
\tilde{\alpha}_k \tilde{v}^k = (\alpha_j A^j{}_k) ((A^{-1})^k{}_i v^i) = \alpha_j (A^j{}_k (A^{-1})^k{}_i) v^i = \alpha_j \delta^j_i v^i = \alpha_i v^i
$$

无论在哪一个坐标系下计算，结果都完全相同。

### 推广至张量

张量是[向量和余向量](@entry_id:181128)概念的直接推广。一个 $k$ 阶张量本质上是一个[多重线性映射](@entry_id:274221)。一个具有 $r$ 个协变指标（下标）和 $s$ 个逆变指标（上标）的 $(r,s)$ 型张量 $T$，可以被严谨地定义为一个从 $r$ 个原空间和 $s$ 个对偶[空间的[笛卡尔](@entry_id:276174)积](@entry_id:154642)到[实数域](@entry_id:151347)的[多重线性映射](@entry_id:274221)：

$$
T: \underbrace{V \times \dots \times V}_{r \text{ times}} \times \underbrace{V^* \times \dots \times V^*}_{s \text{ times}} \to \mathbb{R}
$$

张量的分量是通过将[基向量](@entry_id:199546)和对偶[基向量](@entry_id:199546)代入其各个“槽”中得到的标量值：

$$
T_{i_1 \dots i_r}{}^{j_1 \dots j_s} = T(e_{i_1}, \dots, e_{i_r}, e^{j_1}, \dots, e^{j_s})
$$

张量 $T$ 本身是坐标无关的几何实体，但其分量依赖于基底的选择。根据[多重线性](@entry_id:151506)的定义，我们可以推导出张量分量的普适变换法则。在新基底下，张量的分量为：

$$
\widetilde{T}_{p_1 \dots p_r}{}^{q_1 \dots q_s} = T(\tilde{e}_{p_1}, \dots, \tilde{e}_{p_r}, \tilde{e}^{q_1}, \dots, \tilde{e}^{q_s})
$$

将基底和对偶基底的变换关系 $\tilde{e}_p = A^i{}_p e_i$ 和 $\tilde{e}^q = (A^{-1})^q{}_j e^j$ 代入，并利用 $T$ 的[多重线性](@entry_id:151506)性质，我们可以得到每个指标相应的[变换矩阵](@entry_id:151616)。每个协变指标（下标）都像[余向量](@entry_id:157727)分量一样变换（乘以 $A$），而每个逆变指标（上标）都像向量分量一样变换（乘以 $A^{-1}$）。最终的变换法则汇集了所有这些独立的变换：

$$
\widetilde{T}{}_{p_1 \dots p_r}^{q_1 \dots q_s} = T{}_{i_1 \dots i_r}^{j_1 \dots j_s} A^{i_1}{}_{p_1} \dots A^{i_r}{}_{p_r} (A^{-1})^{q_1}{}_{j_1} \dots (A^{-1})^{q_s}{}_{j_s}
$$

这个公式是张量[坐标变换](@entry_id:172727)的核心。它表明，张量分量的变换方式，是其每个指标所对应的向量或余[向量变换法则](@entry_id:182717)的直接乘积。

#### 示例：张量与其分量矩阵的辨析

混淆张量这个几何对象与其在特定坐标系下的分量矩阵是初学者常犯的错误。为了具体说明这一点，我们来考察一个在[多尺度建模](@entry_id:154964)中常见的场景：二维[各向异性材料](@entry_id:184874)的热导率或电导率。这种性质可以用一个二阶[协变张量](@entry_id:634493) $K$ 来描述，它是一个[双线性映射](@entry_id:186502) $K: V \times V \to \mathbb{R}$。

假设在[标准正交基](@entry_id:147779) $\mathcal{E} = \{e_1, e_2\}$ 下，[电导率张量](@entry_id:155827) $K$ 的分量矩阵为：

$$
[K]_{\mathcal{E}} = \begin{pmatrix} 2  0 \\ 0  1 \end{pmatrix}
$$

这表示材料在 $e_1$ 方向的导电性是在 $e_2$ 方向的两倍。现在，考虑一个由 $\mathcal{E}$ 逆时针旋转 $45^\circ$ 得到的新[正交基](@entry_id:264024) $\mathcal{F} = \{f_1, f_2\}$。如果一位工程师错误地认为张量的分量矩阵不随坐标系改变，而在新基 $\mathcal{F}$ 中直接使用相同的数值矩阵 $[K]_{\mathcal{F}}^{\text{naive}} = \begin{pmatrix} 2  0 \\ 0  1 \end{pmatrix}$，会发生什么呢？这实际上定义了一个完全不同的物理性质。

为了验证这一点，我们计算一个物理量，即沿某个方向的[能量耗散](@entry_id:147406)率，它由 $K(u, u)$ 给出，其中 $u$ 是代表电流方向的物理向量。这个值是一个标量，不应随坐标系的改变而改变。设物理向量 $u$ 在 $\mathcal{E}$ 基下的分量为 $[u]_{\mathcal{E}} = \begin{pmatrix} 1 \\ 0 \end{pmatrix}$（即沿 $e_1$ 方向）。那么，正确的能量耗散率为：

$$
K(u, u) = [u]_{\mathcal{E}}^{\top} [K]_{\mathcal{E}} [u]_{\mathcal{E}} = \begin{pmatrix} 1  0 \end{pmatrix} \begin{pmatrix} 2  0 \\ 0  1 \end{pmatrix} \begin{pmatrix} 1 \\ 0 \end{pmatrix} = 2
$$

现在，我们在新基 $\mathcal{F}$ 中进行计算。首先，需要找到向量 $u$ 和张量 $K$ 在新基下的正确分量。[基向量](@entry_id:199546)的[变换矩阵](@entry_id:151616)为 $R = \frac{1}{\sqrt{2}}\begin{pmatrix} 1  -1 \\ 1  1 \end{pmatrix}$ （这里 $R$ 将 $\mathcal{F}$ 分量映射到 $\mathcal{E}$ 分量）。向量分量（逆变）的变换法则是 $[u]_{\mathcal{F}} = R^{-1} [u]_{\mathcal{E}} = R^{\top} [u]_{\mathcal{E}}$，计算得到 $[u]_{\mathcal{F}} = \frac{1}{\sqrt{2}} \begin{pmatrix} 1 \\ -1 \end{pmatrix}$。

如果使用错误的张量分量矩阵 $[K]_{\mathcal{F}}^{\text{naive}}$，计算出的耗散率为：

$$
\text{Value}_{\text{naive}} = [u]_{\mathcal{F}}^{\top} [K]_{\mathcal{F}}^{\text{naive}} [u]_{\mathcal{F}} = \left( \frac{1}{\sqrt{2}} \begin{pmatrix} 1  -1 \end{pmatrix} \right) \begin{pmatrix} 2  0 \\ 0  1 \end{pmatrix} \left( \frac{1}{\sqrt{2}} \begin{pmatrix} 1 \\ -1 \end{pmatrix} \right) = \frac{1}{2}(2 \cdot 1^2 + 1 \cdot (-1)^2) = \frac{3}{2}
$$

这个结果 $\frac{3}{2}$ 与正确的标量值 $2$ 不符。这明确地证明了，在旋转后的坐标系中使用相同的分量矩阵，所描述的不再是原来的物理张量 $K$。

正确的做法是根据二阶[协变张量](@entry_id:634493)的变换法则来计算 $[K]$ 在 $\mathcal{F}$ 基下的分量：$[K]_{\mathcal{F}} = R^{\top} [K]_{\mathcal{E}} R$。如果使用这个正确变换后的分量矩阵（读者可以自行验证其为 $\frac{1}{2} \begin{pmatrix} 3  -1 \\ -1  3 \end{pmatrix}$），计算出的 $K(u,u)$ 将会精确地等于 $2$，从而验证了物理定律的坐标不变性。

#### 示例：三阶张量分量变换的具体计算

为了进一步巩固对变换法则的理解，让我们来看一个三阶[协变张量](@entry_id:634493) $T$（类型为 (0,3)）的具体计算。假设在微观坐标系 $\{x^i\}$（基向量为 $\mathbf{e}_i$）和介观坐标系 $\{X^a\}$（[基向量](@entry_id:199546)为 $\mathbf{E}_a$）之间存在一个[线性映射](@entry_id:185132)关系 $\mathbf{E}_a = L^i{}_a \mathbf{e}_i$。三阶[协变张量](@entry_id:634493) $T$ 在新基（介观）下的分量 $T'_{abc}$ 定义为 $T(\mathbf{E}_a, \mathbf{E}_b, \mathbf{E}_c)$。利用 $T$ 的三线性性质，我们得到其变换法则：

$$
T'_{abc} = T(L^i{}_a \mathbf{e}_i, L^j{}_b \mathbf{e}_j, L^k{}_c \mathbf{e}_c) = L^i{}_a L^j{}_b L^k{}_c T(\mathbf{e}_i, \mathbf{e}_j, \mathbf{e}_k) = L^i{}_a L^j{}_b L^k{}_c T_{ijk}
$$

这个公式的直观解释是：要计算 $T$ 在新基向量 $(\mathbf{E}_a, \mathbf{E}_b, \mathbf{E}_c)$ 上的值，我们首先需要通过矩阵 $L$ 将这些新基向量分解到旧基上，然后利用 $T$ 在旧基上的分量 $T_{ijk}$ 进行计算。

假设[变换矩阵](@entry_id:151616) $L$ 是一个平面旋转与拉伸的复合，具体为 $L = \begin{pmatrix} 1  -\sqrt{3}/4  0 \\ \sqrt{3}  1/4  0 \\ 0  0  3 \end{pmatrix}$。并且，张量 $T$ 在微观坐标系下的非零分量仅为 $T_{113}=2, T_{123}=-1, T_{213}=4, T_{223}=1/2$。我们来计算新分量 $T'_{123}$。

根据变换法则，并注意到只有当 $k=3$ 时 $T_{ijk}$ 才不为零：

$$
T'_{123} = L^i{}_1 L^j{}_2 L^k{}_3 T_{ijk} = L^i{}_1 L^j{}_2 L^3{}_3 T_{ij3}
$$

展开对 $i$ 和 $j$ 的求和（仅限于 $1,2$，因为只有这些分量非零）：

$$
T'_{123} = L^3{}_3 \left( L^1{}_1 L^1{}_2 T_{113} + L^1{}_1 L^2{}_2 T_{123} + L^2{}_1 L^1{}_2 T_{213} + L^2{}_1 L^2{}_2 T_{223} \right)
$$

从矩阵 $L$ 中读取相应分量 ($L^i{}_a$ 是 $L$ 的第 $i$ 行第 $a$ 列元素)：
$L^1{}_1 = 1$, $L^2{}_1 = \sqrt{3}$
$L^1{}_2 = -\frac{\sqrt{3}}{4}$, $L^2{}_2 = \frac{1}{4}$
$L^3{}_3 = 3$

代入数值：
$$
T'_{123} = 3 \left( (1)(-\frac{\sqrt{3}}{4})(2) + (1)(\frac{1}{4})(-1) + (\sqrt{3})(-\frac{\sqrt{3}}{4})(4) + (\sqrt{3})(\frac{1}{4})(\frac{1}{2}) \right)
$$
$$
T'_{123} = 3 \left( -\frac{\sqrt{3}}{2} - \frac{1}{4} - 3 + \frac{\sqrt{3}}{8} \right) = 3 \left( -\frac{13}{4} - \frac{3\sqrt{3}}{8} \right) = \frac{-78 - 9\sqrt{3}}{8}
$$

这个计算过程虽然繁琐，但清晰地展示了[张量变换法则](@entry_id:185176)如何将不同坐标系下的分量精确地联系起来。

### [几何映射](@entry_id:749852)与变换

在[连续介质力学](@entry_id:155125)和[多尺度建模](@entry_id:154964)中，我们通常处理的不是单一向量空间中的基底变换，而是[光滑流形](@entry_id:160799)之间的映射。例如，一个从微观参考构型（坐标为 $\xi$）到宏观物理构型（坐标为 $x$）的[光滑映射](@entry_id:203730) $x = \chi(\xi)$。

这种映射在每一点都诱导了一个切空间之间的[线性映射](@entry_id:185132)，即**[雅可比矩阵](@entry_id:178326) (Jacobian matrix)** $J$，其分量定义为输出坐标对输入坐标的偏导数：

$$
J^i{}_a = \frac{\partial x^i}{\partial \xi^a}
$$

它描述了一个在 $\xi$ 空间的[无穷小位移](@entry_id:202209) $d\xi$ 如何映射到 $x$ 空间的[无穷小位移](@entry_id:202209) $dx$：$dx^i = J^i{}_a d\xi^a$。这个[线性映射](@entry_id:185132)就是**前推 (pushforward)** 作用于切向量上的具体体现。一个在 $\xi$ 点的[切向量](@entry_id:265494) $v = v^a \frac{\partial}{\partial \xi^a}$ 被 $F=\chi$ 映射到 $x = \chi(\xi)$ 点的一个切向量 $F_*v$，其分量为：

$$
(F_*v)^i = J^i{}_a v^a
$$

这正是[逆变向量](@entry_id:272483)的变换法则，[雅可比矩阵](@entry_id:178326) $J$ 扮演了之前[变换矩阵](@entry_id:151616) $A$ 的角色。

相应地，这个映射也诱导了[余切空间](@entry_id:270516)之间的映射，称为**拉回 (pullback)**。拉回作用于[余向量](@entry_id:157727)（1-形式）上，其定义要求保持与向量的自然配对。对于 $x$ 点的一个[余向量](@entry_id:157727) $\omega = \omega_i dx^i$，其拉回 $F^*\omega$ 是 $\xi$ 点的一个[余向量](@entry_id:157727)，其分量变换法则为：

$$
(F^*\omega)_a = \omega_i J^i{}_a
$$

如果我们将向量分量写成列向量，[余向量](@entry_id:157727)分量写成行向量，那么前推是用[雅可比矩阵](@entry_id:178326) $J$ 左乘向量分量，而拉回是用 $J$ 的[转置](@entry_id:142115)矩阵 $J^\top$ 右乘[余向量](@entry_id:157727)分量。这再次体现了[协变与逆变](@entry_id:189600)之间的对偶关系。

雅可比[矩阵的行列式](@entry_id:148198)，记为 $\det(J)$，具有重要的几何意义。它描述了映射在局部对体积的缩放效应。微观[体积元](@entry_id:267802) $dV_\xi$ 与宏观体积元 $dV_x$ 之间的关系由换元[积分定理](@entry_id:183680)给出：

$$
dV_x = |\det(J)| dV_\xi
$$

这里的绝对值是必需的，因为体积元本质上是度量，必须为非负。$\det(J)$ 的符号则表示映射是否保持[局部定向](@entry_id:264384)。

### 度规张量的作用

到目前为止，我们讨论的[向量空间](@entry_id:151108) $V$ 和其对偶空间 $V^*$ 是两个不同的空间。在没有额外结构的情况下，它们之间没有“自然”的或“典范”的同构关系。我们可以通过选择一组基并将其映射到其对偶基来定义一个同构，但这个同构依赖于基底的选择，因此不是坐标无关的。

然而，在许多物理应用中，空间被赋予了额外的结构——一个**[度规张量](@entry_id:160222) (metric tensor)** $g$。度规 $g$ 是一个特殊的二阶、对称、正定的[协变张量](@entry_id:634493)。它在每一点的切空间上定义了一个[内积](@entry_id:750660)（或[标量积](@entry_id:138996)），使我们能够测量向量的长度和它们之间的角度。

[度规张量](@entry_id:160222)的存在，为我们提供了一个典范的、不依赖于坐标系的同构映射，用于在[向量空间](@entry_id:151108) $T_p M$ 和其[对偶空间](@entry_id:146945) $T_p^* M$ 之间进行识别。这个映射被称为**[音乐同构](@entry_id:199976) (musical isomorphism)**。

1.  **[降指标](@entry_id:272166) (Lowering an index)**：给定一个[逆变向量](@entry_id:272483) $v \in T_p M$，度规 $g$ 可以将它映射到一个[协变向量](@entry_id:263917)（[余向量](@entry_id:157727)）$\alpha \in T_p^* M$，该映射定义为 $\alpha(\cdot) = g(v, \cdot)$。在坐标分量下，这个操作表现为：

    $$
    v_i = g_{ij} v^j
    $$

    这里 $g_{ij} = g(\frac{\partial}{\partial x^i}, \frac{\partial}{\partial x^j})$ 是度规张量的[协变](@entry_id:634097)分量。这个过程将一个逆变指标 $j$ “降低”为一个协变指标 $i$。所得到的 $\{v_i\}$ 称为向量 $v$ 的[协变](@entry_id:634097)分量。

2.  **[升指标](@entry_id:265340) (Raising an index)**：反过来，给定一个[余向量](@entry_id:157727) $\alpha$，我们可以通过度规找到与之对应的唯一向量 $v$。这需要用到度规的逆矩阵 $g^{ij}$ (满足 $g^{ik}g_{kj} = \delta^i_j$)。这个操作在分量下表现为：

    $$
    v^i = g^{ij} \alpha_j
    $$

    这个过程将一个[协变](@entry_id:634097)指标 $j$ “升高”为一个逆变指标 $i$。

[降指标](@entry_id:272166)和[升指标](@entry_id:265340)的操作是互逆的。从一个向量 $v$ 的[逆变分量](@entry_id:185440) $v^k$ 出发，先[降指标](@entry_id:272166)得到 $v_j = g_{jk}v^k$，再[升指标](@entry_id:265340)，会得到 $u^i = g^{ij}v_j = g^{ij}(g_{jk}v^k) = (g^{ij}g_{jk})v^k = \delta^i_k v^k = v^i$。这表明操作是自洽的。

关键在于，尽管[升降指标](@entry_id:161292)的具体计算依赖于特定坐标系下的度规分量 $g_{ij}$ 和 $g^{ij}$，但这个识别过程本身是**张量性**的，即其结果在不同坐标系之间遵循正确的[张量变换法则](@entry_id:185176)。例如，通过 $v^i = g^{ij}\alpha_j$ 得到的 $v^i$ 确实是一个[逆变向量](@entry_id:272483)的分量，其坐标变换行为与我们之前推导的一致。这保证了由度规诱导的[向量和余向量](@entry_id:181128)的等同性在几何上是有意义的。

有了度规，两个向量 $u, v$ 的[内积](@entry_id:750660)可以写成多种等价的收缩形式，其结果是一个与坐标系无关的标量：

$$
g(u, v) = g_{ij} u^i v^j = u_j v^j = u^i v_i
$$

“$u$ 的[协变](@entry_id:634097)分量与 $v$ 的[逆变分量](@entry_id:185440)收缩”或反之，都给出了同一个标量[内积](@entry_id:750660)。这正是[张量表示法](@entry_id:272140)确保物理量[坐标无关性](@entry_id:159715)的威力所在。

### 进阶主题：导数与密度

#### [协变导数](@entry_id:152476)

一个自然的问题是：一个向量场（或[张量场](@entry_id:190170)）分量的普通偏导数，是否也构成一个张量？例如，对于向量场 $v^k(x)$，其偏导数 $\partial_i v^k = \frac{\partial v^k}{\partial x^i}$ 的变换性质是什么？通过[链式法则](@entry_id:190743)可以证明，$\partial_i v^k$ 的变换法则包含[雅可比矩阵](@entry_id:178326)的二阶导数项，这导致它并不遵循张量的变换规则（除非坐标变换是仿射的）。

为了解决这个问题，[黎曼几何](@entry_id:160508)引入了**[协变导数](@entry_id:152476) (covariant derivative)** $\nabla$ 的概念。[协变导数](@entry_id:152476)通过引入一个称为**[克里斯托费尔符号](@entry_id:159831) (Christoffel symbols)** 的“修正项”，来抵消普通[偏导数](@entry_id:146280)的非张量性变换部分。对于一个由度规 $g$ 自然诱导的[列维-奇维塔联络](@entry_id:161107)，[克里斯托费尔符号](@entry_id:159831)（第二类）由度规及其[一阶导数](@entry_id:749425)定义：

$$
\Gamma^k{}_{ij} = \frac{1}{2}g^{kl}\left(\partial_i g_{jl} + \partial_j g_{il} - \partial_l g_{ij}\right)
$$

值得注意的是，[克里斯托费尔符号](@entry_id:159831)本身**不是**张量的分量，它们的变换法则是非齐次的，正好可以“修正”[偏导数](@entry_id:146280)的变换。

利用[克里斯托费尔符号](@entry_id:159831)，[逆变向量](@entry_id:272483)场 $v^k$ 的[协变导数](@entry_id:152476)定义为：

$$
\nabla_i v^k = \partial_i v^k + \Gamma^k{}_{ij} v^j
$$

这个新定义的量 $\nabla_i v^k$ 被构造为一个真正的 $(1,1)$ 型张量。类似地，标量场 $\varphi$ 的[二阶协变导数](@entry_id:193368)（[协变黑塞矩阵](@entry_id:637103)）为：

$$
\nabla_i \nabla_j \varphi = \partial_i \partial_j \varphi - \Gamma^k{}_{ij} \partial_k \varphi
$$

它是一个真正的 $(0,2)$ 型[协变张量](@entry_id:634493)。[协变导数](@entry_id:152476)的引入使得我们可以在弯曲空间或任意[曲线坐标系](@entry_id:172561)中进行[微分](@entry_id:158422)运算，并保证结果的物理意义（即[坐标无关性](@entry_id:159715)）。

#### [张量密度](@entry_id:191194)

最后，我们讨论一类特殊的“类张量”对象——**[张量密度](@entry_id:191194) (tensor densities)**。并非所有在物理学中有用的、带指标的量都遵循标准的[张量变换法则](@entry_id:185176)。一个典型的例子是**[列维-奇维塔符号](@entry_id:193594) (Levi-Civita symbol)** $\epsilon_{ijk}$，其在任意坐标系下都被代数地定义为：当 $(i,j,k)$ 是 $(1,2,3)$ 的偶排列时为 $+1$，奇排列时为 $-1$，有重复指标时为 $0$。

由于 $\epsilon_{ijk}$ 的数值在所有坐标系中都保持不变，这本身就意味着它不可能是个真正的张量。事实上，一个其分量在任何坐标系下都由数值 $\epsilon_{ijk}$ 定义的对象，是一个权重为 $-1$ 的[协变张量](@entry_id:634493)密度。一个**权重为 $w$ 的[张量密度](@entry_id:191194)**的变换法则，会比普通张量多出一个因子 $(\det J)^w$。

然而，我们可以利用[度规张量](@entry_id:160222)从这个[张量密度](@entry_id:191194)构造一个**[伪张量](@entry_id:193048) (pseudo-tensor)**。度规张量的行列式 $g = \det(g_{ij})$ 在坐标变换下的变换法则是 $g' = (\det J)^{-2} g$。因此，$\sqrt{g'}$ 与 $\sqrt{g}$ 的关系是 $\sqrt{g'} = |\det J|^{-1} \sqrt{g}$。

现在，我们定义**[列维-奇维塔张量](@entry_id:191101) (Levi-Civita tensor)** 或**[交替张量](@entry_id:190072) (alternating tensor)** $\varepsilon_{ijk}$ 如下：

$$
\varepsilon_{ijk} = \sqrt{g} \epsilon_{ijk}
$$

让我们检验这个新定义的对象的变换性质。一个三阶[协变张量](@entry_id:634493)的分量应遵循 $T'_{abc} = J^i_a J^j_b J^k_c T_{ijk}$。将 $\varepsilon_{ijk}$ 代入右侧，得到 $J^i_a J^j_b J^k_c (\sqrt{g} \epsilon_{ijk}) = \sqrt{g} (J^i_a J^j_b J^k_c \epsilon_{ijk}) = \sqrt{g} \det(J) \epsilon_{abc}$。而左侧 $\varepsilon'_{abc}$ 根据定义等于 $\sqrt{g'} \epsilon_{abc} = \sqrt{g} |\det J| \epsilon_{abc}$。

比较左右两侧，我们发现等式成立的条件是 $\det(J) = |\det J|$，即[坐标变换](@entry_id:172727)必须保持定向 $(\det(J) > 0)$。因此，$\varepsilon_{ijk}$ 并不是一个严格意义上的张量，而是一个[伪张量](@entry_id:193048)。它在所有保持定向的[坐标变换](@entry_id:172727)下，其行为与真张量无异。

类似地，逆变[交替张量](@entry_id:190072)被定义为 $\varepsilon^{ijk} = \frac{1}{\sqrt{g}} \epsilon^{ijk}$，它是一个真正的三阶逆变[伪张量](@entry_id:193048)。这些[交替张量](@entry_id:190072)在定义[体积形式](@entry_id:203000)、旋度和叉乘等操作中至关重要，它们是确保这些物理概念在[广义坐标](@entry_id:156576)系下具有良好定义的关键。

本章通过从基本定义到高级应用的层层递进，系统地阐述了张量坐标变换的原理和机制。掌握这些内容，是深入学习连续介质力学、广义相对论以及高级[多尺度建模](@entry_id:154964)方法的坚实基础。