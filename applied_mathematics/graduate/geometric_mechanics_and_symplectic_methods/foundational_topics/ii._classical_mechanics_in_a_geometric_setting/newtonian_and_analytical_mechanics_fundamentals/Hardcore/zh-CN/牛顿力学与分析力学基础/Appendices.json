{
    "hands_on_practices": [
        {
            "introduction": "分析力学的威力在于其使用广义坐标的灵活性，这使我们能够为给定问题选择最自然的描述方式。本练习将引导你完成一个基础但至关重要的步骤：在不同坐标系之间转换动能表达式。通过为平面极坐标系推导雅可比矩阵，你将亲身体验从笛卡尔速度到广义速度的变换，并构建出拉格朗日量中动能部分的正确形式 。",
            "id": "3758451",
            "problem": "考虑一个质点 $m$ 在欧几里得平面上自由运动，其笛卡尔坐标为 $(x,y)$，在位形流形 $Q=\\mathbb{R}^{2}$ 上有另一种平面极坐标图 $(r,\\theta)$。将速度视为切丛 $TQ$ 的元素，并把从 $(r,\\theta)$ 到 $(x,y)$ 的变换看作一个光滑的坐标变换。仅使用速度的基本定义、坐标变换的链式法则以及由 $T=\\frac{1}{2}m\\,|\\dot{\\boldsymbol{x}}|^{2}$（其中 $|\\dot{\\boldsymbol{x}}|^{2}=\\dot{x}^{2}+\\dot{y}^{2}$）给出的欧几里得动能 $T$，推导通过 $\\begin{pmatrix}\\dot{x}\\\\ \\dot{y}\\end{pmatrix}=J(r,\\theta)\\begin{pmatrix}\\dot{r}\\\\ \\dot{\\theta}\\end{pmatrix}$ 线性关联广义速度 $(\\dot{r},\\dot{\\theta})$ 和笛卡尔速度 $(\\dot{x},\\dot{y})$ 的雅可比矩阵 $J(r,\\theta)$，并求出用 $m$、$r$、$\\dot{r}$ 和 $\\dot{\\theta}$ 表示的动能 $T$。极角 $\\theta$ 以弧度为单位。如果计算动能的数值，请以国际单位制（SI）中的焦耳为单位表示。不需要进行数值计算或四舍五入；请提供闭式解析表达式。您最终的方框答案必须按规定将雅可比矩阵和动能表达式一同给出。",
            "solution": "该问题要求推导关联笛卡尔速度和极坐标广义速度的雅可比矩阵，以及在欧几里得平面中运动的质点 $m$ 在极坐标下的动能表达式。这是分析力学中关于位形流形 $Q = \\mathbb{R}^{2}$ 上坐标变换的一个基本问题。\n\n首先，我们建立笛卡尔坐标 $(x, y)$ 和平面极坐标 $(r, \\theta)$ 之间的关系。从极坐标到笛卡尔坐标的标准变换由以下公式给出：\n$$x(r, \\theta) = r \\cos\\theta$$\n$$y(r, \\theta) = r \\sin\\theta$$\n\n笛卡尔速度分量 $(\\dot{x}, \\dot{y})$ 是位置坐标的全时间导数。由于 $x$ 和 $y$ 是 $r$ 和 $\\theta$ 的函数，而 $r$ 和 $\\theta$ 本身又是时间 $t$ 的函数，我们必须应用多元链式法则：\n$$\\dot{x} = \\frac{dx}{dt} = \\frac{\\partial x}{\\partial r} \\frac{dr}{dt} + \\frac{\\partial x}{\\partial \\theta} \\frac{d\\theta}{dt} = \\frac{\\partial x}{\\partial r} \\dot{r} + \\frac{\\partial x}{\\partial \\theta} \\dot{\\theta}$$\n$$\\dot{y} = \\frac{dy}{dt} = \\frac{\\partial y}{\\partial r} \\frac{dr}{dt} + \\frac{\\partial y}{\\partial \\theta} \\frac{d\\theta}{dt} = \\frac{\\partial y}{\\partial r} \\dot{r} + \\frac{\\partial y}{\\partial \\theta} \\dot{\\theta}$$\n\n这个线性方程组将笛卡尔速度 $(\\dot{x}, \\dot{y})$ 与广义极坐标速度 $(\\dot{r}, \\dot{\\theta})$ 联系起来。它可以按问题陈述中指定的方式表示为矩阵形式：\n$$\\begin{pmatrix}\\dot{x}\\\\ \\dot{y}\\end{pmatrix} = J(r, \\theta) \\begin{pmatrix}\\dot{r}\\\\ \\dot{\\theta}\\end{pmatrix}$$\n其中 $J(r, \\theta)$ 是从 $(r, \\theta)$到 $(x, y)$ 的坐标变换的雅可比矩阵：\n$$J(r, \\theta) = \\begin{pmatrix} \\frac{\\partial x}{\\partial r}  \\frac{\\partial x}{\\partial \\theta} \\\\ \\frac{\\partial y}{\\partial r}  \\frac{\\partial y}{\\partial \\theta} \\end{pmatrix}$$\n\n为了确定 $J(r, \\theta)$ 的显式形式，我们从变换方程中计算必要的偏导数：\n$$\\frac{\\partial x}{\\partial r} = \\frac{\\partial}{\\partial r}(r \\cos\\theta) = \\cos\\theta$$\n$$\\frac{\\partial x}{\\partial \\theta} = \\frac{\\partial}{\\partial \\theta}(r \\cos\\theta) = -r \\sin\\theta$$\n$$\\frac{\\partial y}{\\partial r} = \\frac{\\partial}{\\partial r}(r \\sin\\theta) = \\sin\\theta$$\n$$\\frac{\\partial y}{\\partial \\theta} = \\frac{\\partial}{\\partial \\theta}(r \\sin\\theta) = r \\cos\\theta$$\n\n将这些偏导数代入矩阵，得到雅可比矩阵：\n$$J(r, \\theta) = \\begin{pmatrix} \\cos\\theta  -r\\sin\\theta \\\\ \\sin\\theta  r\\cos\\theta \\end{pmatrix}$$\n这完成了推导的第一部分。\n\n接下来，我们推导极坐标下的动能 $T$ 的表达式。给定笛卡尔坐标下的动能定义：\n$$T = \\frac{1}{2}m \\, |\\dot{\\boldsymbol{x}}|^{2} = \\frac{1}{2}m (\\dot{x}^{2} + \\dot{y}^{2})$$\n\n我们将用极坐标速度表示的 $\\dot{x}$ 和 $\\dot{y}$ 的表达式代入：\n$$\\dot{x} = \\dot{r}\\cos\\theta - r\\dot{\\theta}\\sin\\theta$$\n$$\\dot{y} = \\dot{r}\\sin\\theta + r\\dot{\\theta}\\cos\\theta$$\n\n现在我们计算它们的平方和 $\\dot{x}^{2} + \\dot{y}^{2}$：\n$$\\dot{x}^{2} = (\\dot{r}\\cos\\theta - r\\dot{\\theta}\\sin\\theta)^{2} = \\dot{r}^{2}\\cos^{2}\\theta - 2r\\dot{r}\\dot{\\theta}\\sin\\theta\\cos\\theta + r^{2}\\dot{\\theta}^{2}\\sin^{2}\\theta$$\n$$\\dot{y}^{2} = (\\dot{r}\\sin\\theta + r\\dot{\\theta}\\cos\\theta)^{2} = \\dot{r}^{2}\\sin^{2}\\theta + 2r\\dot{r}\\dot{\\theta}\\sin\\theta\\cos\\theta + r^{2}\\dot{\\theta}^{2}\\cos^{2}\\theta$$\n\n将这两个结果相加：\n$$\\dot{x}^{2} + \\dot{y}^{2} = (\\dot{r}^{2}\\cos^{2}\\theta + \\dot{r}^{2}\\sin^{2}\\theta) + (r^{2}\\dot{\\theta}^{2}\\sin^{2}\\theta + r^{2}\\dot{\\theta}^{2}\\cos^{2}\\theta)$$\n交叉项 $-2r\\dot{r}\\dot{\\theta}\\sin\\theta\\cos\\theta$ 和 $+2r\\dot{r}\\dot{\\theta}\\sin\\theta\\cos\\theta$ 相互抵消。\n\n对剩余项进行因式分解：\n$$\\dot{x}^{2} + \\dot{y}^{2} = \\dot{r}^{2}(\\cos^{2}\\theta + \\sin^{2}\\theta) + r^{2}\\dot{\\theta}^{2}(\\sin^{2}\\theta + \\cos^{2}\\theta)$$\n\n使用基本三角恒等式 $\\cos^{2}\\theta + \\sin^{2}\\theta = 1$，表达式显著简化为：\n$$\\dot{x}^{2} + \\dot{y}^{2} = \\dot{r}^{2}(1) + r^{2}\\dot{\\theta}^{2}(1) = \\dot{r}^{2} + r^{2}\\dot{\\theta}^{2}$$\n\n最后，我们将此结果代回动能 $T$ 的公式中：\n$$T = \\frac{1}{2}m(\\dot{r}^{2} + r^{2}\\dot{\\theta}^{2})$$\n\n这是所要求的用极坐标及其相应广义速度表示的动能表达式。值得注意的是，$T$ 依赖于坐标 $r$ 但与坐标 $\\theta$ 无关，这反映了欧几里得空间中自由粒子的动能具有旋转对称性。",
            "answer": "$$\\boxed{\\begin{pmatrix} \\begin{pmatrix} \\cos\\theta  -r\\sin\\theta \\\\ \\sin\\theta  r\\cos\\theta \\end{pmatrix}  \\frac{1}{2}m(\\dot{r}^{2} + r^{2}\\dot{\\theta}^{2}) \\end{pmatrix}}$$"
        },
        {
            "introduction": "现实世界中的力学系统常常受到约束，例如珠子在铁丝上滑动或行星在特定轨道上运行。拉格朗日乘数法提供了一种优雅而系统的方法，将这些约束整合到动力学方程中，而无需明确求解约束力。这个练习将从达朗贝尔虚功原理出发，揭示拉格朗日乘数的理论基础，并让你通过计算一个具体例子中的乘数值，来理解它如何量化维持约束所需的物理力 。",
            "id": "3758383",
            "problem": "一个质量为 $m$ 的单粒子在平面内于中心势 $V(r)$ 下运动，其中 $r$ 是粒子到一固定原点的距离。该运动受到一个完整且定常的约束，即粒子必须始终保持在半径为 $R$ 的圆周上，也就是说，在所有时间 $r=R$。考虑广义坐标 $q^{1}=r$ 和 $q^{2}=\\theta$。\n\n任务1（概念推导）：从达朗贝尔虚功原理的陈述出发，即对于任何具有广义坐标 $q^{i}$ 和动能 $T(q,\\dot{q})$ 的系统，对于所有与约束兼容的虚位移 $\\delta q^{i}$，作用力和惯性力的虚功之和为零，\n$$\n\\sum_{i}\\left(Q_{i}-\\frac{d}{dt}\\frac{\\partial T}{\\partial \\dot{q}^{i}}+\\frac{\\partial T}{\\partial q^{i}}\\right)\\delta q^{i}=0,\n$$\n解释拉格朗日乘数法如何在该虚功框架内实现形式为 $f_{\\alpha}(q)=0$ 的完整约束。特别地，推导约束效应等同于增加了形式如下的广义约束力\n$$\nQ^{(c)}_{i}=\\sum_{\\alpha}\\lambda_{\\alpha}\\,\\frac{\\partial f_{\\alpha}}{\\partial q^{i}},\n$$\n对于某些乘子 $\\lambda_{\\alpha}$，通过展示在强制执行 $f_{\\alpha}(q)=0$ 的同时允许任意虚位移 $\\delta q^{i}$ 时这些项是如何产生的。\n\n任务2（计算）：具体到单个约束 $f(r)=r-R=0$ 的情况。使用拉格朗日量 $L=T-V$ 以及\n$$\nT=\\frac{1}{2}m\\left(\\dot{r}^{2}+r^{2}\\dot{\\theta}^{2}\\right),\\qquad V=V(r),\n$$\n并在变分或虚功表述中使用拉格朗日乘数法实现该约束，推导包含约束力的欧拉-拉格朗日方程，并计算当 $r=R$ 在所有时间都成立时，与 $f(r)=0$ 相关联的乘子 $\\lambda(t)$ 的显式表达式。你的推导必须仅使用上述定义、$T$ 和 $V$ 的形式以及约束 $r=R$。你可以使用对于定常完整约束 $r=R$，有 $\\dot{r}=0$ 和 $\\ddot{r}=0$。\n\n答案规范：以 $m$、$R$、$\\dot{\\theta}(t)$ 和 $V'(R)$（其中 $V'(R)=\\left.\\frac{dV}{dr}\\right|_{r=R}$）的形式，为 $\\lambda(t)$ 提供一个单一的封闭形式符号表达式。结果以牛顿（国际单位制中的力单位）表示，但不要在你最终的方框表达式中包含单位。",
            "solution": "该问题被验证为具有科学依据、问题明确且客观。这是一个分析力学中的标准问题，旨在检验对 d'Alembert 原理以及针对完整约束的拉格朗日乘数法的理解。所有必要的数据和定义均已提供，不存在矛盾或含糊之处。\n\n### 任务1：概念推导\n\n分析始于 d'Alembert 原理，该原理指出，对于与系统约束兼容的任何虚位移 $\\delta q^i$，作用力和惯性力所做的总虚功为零。该原理表述为：\n$$\n\\sum_{i}\\left(Q_{i}-\\left(\\frac{d}{dt}\\frac{\\partial T}{\\partial \\dot{q}^{i}}-\\frac{\\partial T}{\\partial q^{i}}\\right)\\right)\\delta q^{i}=0\n$$\n其中 $Q_i$ 是广义作用力，$T$ 是动能，$q^i$ 是广义坐标。项 $\\frac{d}{dt}\\frac{\\partial T}{\\partial \\dot{q}^{i}}-\\frac{\\partial T}{\\partial q^{i}}$ 代表广义惯性力。我们将括号中的表达式记为 $E_i = Q_{i} - \\left(\\frac{d}{dt}\\frac{\\partial T}{\\partial \\dot{q}^{i}}-\\frac{\\partial T}{\\partial q^{i}}\\right)$。于是 d'Alembert 原理就是 $\\sum_i E_i \\delta q^i = 0$。\n\n如果广义坐标 $q^i$ 都是独立的，那么虚位移 $\\delta q^i$ 也将是独立的，我们可以得出结论，每个系数 $E_i$ 都必须为零。这将导出无约束系统的标准欧拉-拉格朗日方程（假设作用力是保守力 $Q_i = -\\partial V/\\partial q^i$）。\n\n然而，系统受到一组 $k$ 个形式为 $f_{\\alpha}(q) = 0$（其中 $\\alpha = 1, \\dots, k$）的完整约束。这些约束限制了系统的可能位形，因此，虚位移 $\\delta q^i$ 不再是独立的。虚位移是与约束一致的坐标变分 $\\delta q^i$。对于约束 $f_{\\alpha}(q)=0$，任何有效的虚位移都必须满足约束在一阶上仍然成立的条件。这可以通过对每个约束方程取变分来表示：\n$$\n\\delta f_{\\alpha} = \\sum_{i} \\frac{\\partial f_{\\alpha}}{\\partial q^i} \\delta q^i = 0 \\qquad (\\text{for each } \\alpha = 1, \\dots, k)\n$$\n这 $k$ 个方程表示了虚位移 $\\delta q^i$ 之间的线性关系。因此，在 $n$ 个总广义坐标中，只有 $n-k$ 个 $\\delta q^i$ 是独立的，其中 $n$ 是广义坐标的总数。\n\n拉格朗日乘数法提供了一种处理这种情况的方法。我们有来自 d'Alembert 原理的方程 $\\sum_i E_i \\delta q^i = 0$，该方程对于所有满足 $k$ 个线性约束方程 $\\sum_i \\frac{\\partial f_{\\alpha}}{\\partial q^i} \\delta q^i = 0$ 的 $\\delta q^i$ 都必须成立。线性代数（或在此背景下为微积分）的一个基本定理指出，如果一个线性形式 $\\sum_i A_i x_i$ 对于所有满足一组线性约束 $\\sum_i B_{\\alpha i}x_i = 0$ 的 $x_i$ 都为零，那么系数向量 $A_i$ 必须是约束系数向量 $B_{\\alpha i}$ 的线性组合。\n\n将此定理应用于我们的问题，我们确定 $A_i = E_i$，$x_i = \\delta q^i$，以及 $B_{\\alpha i} = \\frac{\\partial f_{\\alpha}}{\\partial q^i}$。由此可知，必然存在一组 $k$ 个乘子 $\\lambda_{\\alpha}$（它们可以是时间的函数），使得：\n$$\nE_i = \\sum_{\\alpha=1}^{k} \\lambda_{\\alpha} \\frac{\\partial f_{\\alpha}}{\\partial q^i}\n$$\n将 $E_i$ 的定义代回此方程，得到：\n$$\nQ_{i} - \\left(\\frac{d}{dt}\\frac{\\partial T}{\\partial \\dot{q}^{i}}-\\frac{\\partial T}{\\partial q^{i}}\\right) = \\sum_{\\alpha} \\lambda_{\\alpha} \\frac{\\partial f_{\\alpha}}{\\partial q^i}\n$$\n这个方程可以重排为修正的欧拉-拉格朗日方程形式：\n$$\n\\frac{d}{dt}\\frac{\\partial T}{\\partial \\dot{q}^{i}}-\\frac{\\partial T}{\\partial q^{i}} = Q_{i} - \\sum_{\\alpha} \\lambda_{\\alpha} \\frac{\\partial f_{\\alpha}}{\\partial q^i}\n$$\n项 $\\sum_{\\alpha} \\lambda_{\\alpha} \\frac{\\partial f_{\\alpha}}{\\partial q^i}$ 可以被解释为一个广义力。具体来说，它是广义约束力 $Q_i^{(c)}$，源于维持完整约束的要求。按照惯例，约束力通常被移到欧拉-拉格朗日方程的右边，从而得到：\n$$\n\\frac{d}{dt}\\frac{\\partial L}{\\partial \\dot{q}^{i}} - \\frac{\\partial L}{\\partial q^{i}} = \\sum_{\\alpha} \\lambda_{\\alpha} \\frac{\\partial f_{\\alpha}}{\\partial q^{i}}\n$$\n其中我们使用了拉格朗日量 $L=T-V$ 并假设作用力是保守的，$Q_i = -\\frac{\\partial V}{\\partial q^i}$。右边的项，我们可以称之为 $Q_i^{\\text{constraint}}$，正是为强制执行约束而必须添加到动力学中的广义约束力 $Q^{(c)}_{i}=\\sum_{\\alpha}\\lambda_{\\alpha}\\,\\frac{\\partial f_{\\alpha}}{\\partial q^{i}}$。乘子 $\\lambda_\\alpha$ 是通过要求解 $q^i(t)$ 在所有时间内满足约束方程 $f_\\alpha(q(t))=0$ 来确定的。\n\n### 任务2：计算\n\n我们现在将这个形式体系应用于具体问题。\n广义坐标为 $q^1 = r$ 和 $q^2 = \\theta$。\n拉格朗日量为 $L = T - V$，其中 $T = \\frac{1}{2}m(\\dot{r}^2 + r^2\\dot{\\theta}^2)$ 且 $V = V(r)$。\n$$\nL(r, \\theta, \\dot{r}, \\dot{\\theta}) = \\frac{1}{2}m(\\dot{r}^2 + r^2\\dot{\\theta}^2) - V(r)\n$$\n该系统有一个单一的完整约束，$f(r, \\theta) = r - R = 0$。\n\n修正的欧拉-拉格朗日方程为：\n$$\n\\frac{d}{dt}\\frac{\\partial L}{\\partial \\dot{q}^i} - \\frac{\\partial L}{\\partial q^i} = \\lambda \\frac{\\partial f}{\\partial q^i}\n$$\n我们对每个坐标推导这些方程。\n\n对于 $q^1 = r$：\n所需的偏导数为：\n$$\n\\frac{\\partial L}{\\partial \\dot{r}} = m\\dot{r} \\implies \\frac{d}{dt}\\left(\\frac{\\partial L}{\\partial \\dot{r}}\\right) = m\\ddot{r}\n$$\n$$\n\\frac{\\partial L}{\\partial r} = mr\\dot{\\theta}^2 - \\frac{dV}{dr}\n$$\n$$\n\\frac{\\partial f}{\\partial r} = \\frac{\\partial}{\\partial r}(r-R) = 1\n$$\n$r$ 坐标的欧拉-拉格朗日方程是：\n$$\nm\\ddot{r} - \\left(mr\\dot{\\theta}^2 - \\frac{dV}{dr}\\right) = \\lambda (1)\n$$\n$$\nm\\ddot{r} - mr\\dot{\\theta}^2 + \\frac{dV}{dr} = \\lambda\n$$\n\n对于 $q^2 = \\theta$：\n所需的偏导数为：\n$$\n\\frac{\\partial L}{\\partial \\dot{\\theta}} = mr^2\\dot{\\theta}\n$$\n$$\n\\frac{\\partial L}{\\partial \\theta} = 0\n$$\n$$\n\\frac{\\partial f}{\\partial \\theta} = \\frac{\\partial}{\\partial \\theta}(r-R) = 0\n$$\n$\\theta$ 坐标的欧拉-拉格朗日方程是：\n$$\n\\frac{d}{dt}(mr^2\\dot{\\theta}) - 0 = \\lambda(0)\n$$\n$$\n\\frac{d}{dt}(mr^2\\dot{\\theta}) = 0\n$$\n该方程表明角动量 $p_{\\theta} = mr^2\\dot{\\theta}$ 是一个守恒量。\n\n为了求出拉格朗日乘子 $\\lambda(t)$，我们使用 $r$ 方程以及约束条件。约束为在所有时间 $t$ 内 $r=R$。这意味着径向的速度和加速度必须为零：\n$$\nr(t) = R \\implies \\dot{r}(t) = 0 \\text{ and } \\ddot{r}(t) = 0\n$$\n将这些条件代入 $r$ 的运动方程中：\n$$\nm(0) - mR\\dot{\\theta}^2 + \\left.\\frac{dV}{dr}\\right|_{r=R} = \\lambda\n$$\n这就给出了拉格朗日乘子 $\\lambda(t)$ 的表达式。使用记号 $V'(R) = \\left.\\frac{dV}{dr}\\right|_{r=R}$：\n$$\n\\lambda(t) = V'(R) - mR\\dot{\\theta}^2\n$$\n$\\lambda(t)$ 的值被解释为对应于坐标 $r$ 的广义约束力。由于 $q^1=r$，这就是约束机制为使粒子保持在半径为 $R$ 的圆周上而施加的物理径向力。此径向约束力 $\\lambda$ 与势产生的径向力 $-V'(R)$ 之和，必须提供圆周运动所需的向心力 $-mR\\dot{\\theta}^2$。由 $\\lambda - V'(R) = -mR\\dot{\\theta}^2$ 可解得 $\\lambda(t) = V'(R) - mR\\dot{\\theta}^2$。注意 $\\dot{\\theta}$ 可以是时间的函数，即 $\\dot{\\theta}(t)$，除非势能恰好为零或常数，在这种情况下，对于常数 $r=R$ 的 $\\theta$ 方程意味着 $\\ddot{\\theta}=0$。$\\dot\\theta$ 不一定是常数。最终表达式必须按要求以 $\\dot{\\theta}(t)$ 的形式给出。\n\n$$\n\\lambda(t) = V'(R) - mR(\\dot{\\theta}(t))^2\n$$\n问题陈述中使用了 $\\dot{\\theta}^2$ 和 $\\dot{\\theta}(t)$，在此上下文中它们是等价的记法。",
            "answer": "$$\\boxed{V'(R) - mR(\\dot{\\theta}(t))^2}$$"
        },
        {
            "introduction": "从拉格朗日形式过渡到哈密顿形式是分析力学的核心步骤，它通过勒让德变换将位形空间提升到相空间。然而，当拉格朗日量对于某些广义速度是线性（而非二次）时，这个变换是“奇异的”，无法求解出所有的速度。这个练习将引导你分析一个奇异拉格朗日系统，展示这种奇异性如何直接导致哈密顿动力学中的“第一类约束”，这是理解规范理论和约束哈密顿系统（如狄拉克理论）的入门关键 。",
            "id": "3758488",
            "problem": "考虑一个力学系统，其位形流形为 $Q = \\mathbb{R}^{4}$，全局坐标为 $q = (x,y,z,w)$。其动力学由拉格朗日量 $L(q,\\dot{q})$ 描述，该拉格朗日量在速度 $\\dot{x}$ 和 $\\dot{y}$ 上是正则的，但在速度 $\\dot{z}$ 和 $\\dot{w}$ 上是线性的。具体而言，设\n$$\nL(q,\\dot{q}) \\;=\\; \\frac{1}{2}\\, m_{x}\\, \\dot{x}^{2} \\;+\\; \\frac{1}{2}\\, m_{y}\\, \\nu(x)\\, \\dot{y}^{2} \\;+\\; \\alpha(x,y)\\, \\dot{z} \\;+\\; \\beta(y,w)\\, \\dot{w} \\;-\\; V(x,y,z,w),\n$$\n其中 $m_{x}  0$ 和 $m_{y}  0$ 是常数，$\\nu(x)$ 是一个对所有 $x$ 都满足 $\\nu(x)  0$ 的光滑函数，而 $\\alpha(x,y)$、$\\beta(y,w)$ 和 $V(x,y,z,w)$ 是光滑函数。利用正则动量的基本定义 $p_{i} = \\partial L / \\partial \\dot{q}^{i}$ 以及从切丛 $TQ$到余切丛 $T^{*}Q$ 的勒让德映射（Legendre map）（它将 $(q,\\dot{q})$ 映为 $(q,p)$），分析由 $L$ 在 $\\dot{z}$ 和 $\\dot{w}$ 上的线性性质所导致的结构。\n\n推导由勒让德映射施加的主约束，并将它们明确地表示为 $T^{*}Q$ 上的函数。你的推导应从分析力学的核心定义出发，并解释为什么约束会因速度海森矩阵（velocity Hessian）在线性方向上的奇异性而产生。将最终的主约束集表示为单行矩阵 $\\begin{pmatrix}\\phi_{1}(q,p)  \\phi_{2}(q,p)\\end{pmatrix}$。\n\n请用封闭形式的解析表达式给出最终答案。无需单位。无需四舍五入。",
            "solution": "所述问题是有效的。这是一个分析力学中的适定问题，具体涉及具有奇异拉格朗日量的系统从拉格朗日描述到哈密顿描述的过渡。其前提在科学上是合理的，术语精确且标准。所有必要信息均已提供。\n\n从切丛 $TQ$ 上的拉格朗日形式到余切丛 $T^{*}Q$ 上的哈密顿形式的过渡是通过纤维导数（fiber derivative）实现的，该过程也称为勒让德变换（Legendre transformation）。该映射将 $TQ$ 中的每个点 $(q, \\dot{q})$ 与 $T^{*}Q$ 中的一个点 $(q, p)$ 相关联，其中坐标 $q$ 保持不变，正则动量 $p$ 由以下关系定义\n$$p_{i} = \\frac{\\partial L}{\\partial \\dot{q}^{i}}.$$\n对于给定系统，位形流形为 $Q = \\mathbb{R}^{4}$，坐标为 $q = (q^1, q^2, q^3, q^4) = (x, y, z, w)$。拉格朗日量由下式给出\n$$L(q,\\dot{q}) = \\frac{1}{2} m_{x} \\dot{x}^{2} + \\frac{1}{2} m_{y} \\nu(x) \\dot{y}^{2} + \\alpha(x,y) \\dot{z} + \\beta(y,w) \\dot{w} - V(x,y,z,w).$$\n我们通过计算 $L$ 对每个广义速度的偏导数来计算正则动量。\n\n对于坐标 $x$：\n$$p_{x} = \\frac{\\partial L}{\\partial \\dot{x}} = \\frac{\\partial}{\\partial \\dot{x}} \\left( \\frac{1}{2} m_{x} \\dot{x}^{2} + \\dots \\right) = m_{x} \\dot{x}。$$\n\n对于坐标 $y$：\n$$p_{y} = \\frac{\\partial L}{\\partial \\dot{y}} = \\frac{\\partial}{\\partial \\dot{y}} \\left( \\frac{1}{2} m_{y} \\nu(x) \\dot{y}^{2} + \\dots \\right) = m_{y} \\nu(x) \\dot{y}。$$\n\n对于坐标 $z$：\n$$p_{z} = \\frac{\\partial L}{\\partial \\dot{z}} = \\frac{\\partial}{\\partial \\dot{z}} \\left( \\alpha(x,y) \\dot{z} + \\dots \\right) = \\alpha(x,y)。$$\n\n对于坐标 $w$：\n$$p_{w} = \\frac{\\partial L}{\\partial \\dot{w}} = \\frac{\\partial}{\\partial \\dot{w}} \\left( \\beta(y,w) \\dot{w} + \\dots \\right) = \\beta(y,w)。$$\n\n勒让德变换的本质是将速度 $\\dot{q}^{i}$ 表示为相空间坐标 $(q,p)$ 的函数。我们来对每个坐标检验这种可能性。\n由于 $m_{x}  0$，关于 $p_x$ 的方程可以反解，得到 $\\dot{x} = p_{x} / m_{x}$。\n由于 $m_{y}  0$ 且 $\\nu(x)  0$，关于 $p_y$ 的方程可以反解，得到 $\\dot{y} = p_{y} / (m_{y} \\nu(x))$。\n这两个关系式用相空间变量定义了速度 $\\dot{x}$ 和 $\\dot{y}$。\n\n然而，关于 $p_{z}$ 和 $p_{w}$ 的方程不涉及相应的速度 $\\dot{z}$ 和 $\\dot{w}$。这些表达式是\n$$p_{z} = \\alpha(x,y)$$\n$$p_{w} = \\beta(y,w)$$\n这些方程无法求解出 $\\dot{z}$ 或 $\\dot{w}$。相反，它们表示了正则动量和位形坐标之间的关系。这种在勒让德变换层面本身出现的关系被称为主约束。它们定义了余切丛 $T^{*}Q$ 的一个子流形，动力学被约束在该子流形上。\n\n为了将其原因形式化，我们考察拉格朗日量关于速度的海森矩阵，$W_{ij}(q, \\dot{q}) = \\frac{\\partial^{2} L}{\\partial \\dot{q}^{i} \\partial \\dot{q}^{j}}$。当且仅当该海森矩阵非奇异（即其行列式不为零）时，勒让德变换才是局部可逆的。一个拉格朗日量如果其 $\\det(W) = 0$，则被称为奇异或退化拉格朗日量。\n\n对于我们的系统，海森矩阵为\n$$\nW =\n\\begin{pmatrix}\n\\frac{\\partial^{2} L}{\\partial \\dot{x}^{2}}  \\frac{\\partial^{2} L}{\\partial \\dot{x}\\partial \\dot{y}}  \\frac{\\partial^{2} L}{\\partial \\dot{x}\\partial \\dot{z}}  \\frac{\\partial^{2} L}{\\partial \\dot{x}\\partial \\dot{w}} \\\\\n\\frac{\\partial^{2} L}{\\partial \\dot{y}\\partial \\dot{x}}  \\frac{\\partial^{2} L}{\\partial \\dot{y}^{2}}  \\frac{\\partial^{2} L}{\\partial \\dot{y}\\partial \\dot{z}}  \\frac{\\partial^{2} L}{\\partial \\dot{y}\\partial \\dot{w}} \\\\\n\\frac{\\partial^{2} L}{\\partial \\dot{z}\\partial \\dot{x}}  \\frac{\\partial^{2} L}{\\partial \\dot{z}\\partial \\dot{y}}  \\frac{\\partial^{2} L}{\\partial \\dot{z}^{2}}  \\frac{\\partial^{2} L}{\\partial \\dot{z}\\partial \\dot{w}} \\\\\n\\frac{\\partial^{2} L}{\\partial \\dot{w}\\partial \\dot{x}}  \\frac{\\partial^{2} L}{\\partial \\dot{w}\\partial \\dot{y}}  \\frac{\\partial^{2 L}}{\\partial \\dot{w}\\partial \\dot{z}}  \\frac{\\partial^{2} L}{\\partial \\dot{w}^{2}}\n\\end{pmatrix}\n=\n\\begin{pmatrix}\nm_{x}  0  0  0 \\\\\n0  m_{y} \\nu(x)  0  0 \\\\\n0  0  0  0 \\\\\n0  0  0  0\n\\end{pmatrix}.\n$$\n该矩阵的行列式显然为零：$\\det(W) = m_{x} \\cdot m_{y}\\nu(x) \\cdot 0 \\cdot 0 = 0$。该拉格朗日量是奇异的。海森矩阵的秩为 $2$，小于位形空间的维数 $4$。主约束的数量等于海森矩阵的余秩，即 $\\text{dim}(Q) - \\text{rank}(W) = 4 - 2 = 2$。\n\n这些约束是相空间 $T^{*}Q$ 上的函数，对于任何物理轨迹，它们都必须为零。习惯上，我们将其写成 $\\phi(q,p) = 0$ 的形式。从我们推导出的动量关系可知：\n第一个约束是 $\\phi_{1}(q,p) = p_{z} - \\alpha(x,y) = 0$。\n第二个约束是 $\\phi_{2}(q,p) = p_{w} - \\beta(y,w) = 0$。\n\n这就是由给定拉格朗日量的结构所施加的两个主约束。它们之所以直接产生，是因为拉格朗日量在速度 $\\dot{z}$ 和 $\\dot{w}$ 上是线性的，而非二次的，这导致了奇异的速度海森矩阵。因此，勒让德映射的像不是整个余切丛 $T^{*}Q$，而是由 $\\phi_1 = 0$ 和 $\\phi_2 = 0$ 定义的子流形。\n\n问题要求将主约束集表示为单行矩阵。我们将推导出的约束函数组合成这种格式。\n第一个约束函数是 $\\phi_{1}(q,p) = p_{z} - \\alpha(x,y)$。\n第二个约束函数是 $\\phi_{2}(q,p) = p_{w} - \\beta(y,w)$。\n最终得到的行矩阵是 $\\begin{pmatrix} p_{z} - \\alpha(x,y)  p_{w} - \\beta(y,w) \\end{pmatrix}$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\np_{z} - \\alpha(x,y)  p_{w} - \\beta(y,w)\n\\end{pmatrix}\n}\n$$"
        }
    ]
}