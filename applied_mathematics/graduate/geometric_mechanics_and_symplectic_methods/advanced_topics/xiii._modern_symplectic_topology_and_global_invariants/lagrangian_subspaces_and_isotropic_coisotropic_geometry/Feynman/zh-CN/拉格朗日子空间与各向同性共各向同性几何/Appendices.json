{
    "hands_on_practices": [
        {
            "introduction": "理论学习之后，最有效的巩固方式莫过于亲手实践。这个练习将带领我们直接应用迷向子流形的定义。通过为一个具体参数化的子流形计算辛形式的拉回（pullback），我们将直接检验其是否满足迷向条件，并借此机会辨析“迷向”（isotropic）与“拉格朗日”（Lagrangian）这两个核心概念之间的关键区别。",
            "id": "3752217",
            "problem": "考虑标准辛向量空间 $(\\mathbb{R}^{8},\\omega)$，其中辛形式 $\\omega$ 由 $\\omega=\\sum_{i=1}^{4} dq_{i}\\wedge dp_{i}$ 给出，$\\mathbb{R}^{8}$ 上的典范坐标为 $(q_{1},q_{2},q_{3},q_{4},p_{1},p_{2},p_{3},p_{4})$。如果 $\\omega$ 沿着嵌入 $i:S\\hookrightarrow \\mathbb{R}^{8}$ 的拉回 $i^{\\ast}\\omega$ 是 $S$ 上的零 2-形式，则光滑嵌入子流形 $S\\subset \\mathbb{R}^{8}$ 被称为迷向子流形。如果辛流形的一个子流形是迷向的，并且其维数等于背景辛流形维数的一半，则称其为拉格朗日子流形。\n\n定义光滑嵌入 $i:\\mathbb{R}^{3}\\rightarrow \\mathbb{R}^{8}$ 如下：\n$$\ni(u,v,w)=\\big(q_{1},q_{2},q_{3},q_{4},p_{1},p_{2},p_{3},p_{4}\\big)=\\big(u,\\,v,\\,w,\\,0,\\,u^{2},\\,v^{2},\\,w^{2},\\,0\\big).\n$$\n仅使用辛形式和迷向子流形的基本定义，计算拉回 $i^{\\ast}\\omega$ 作为 $\\mathbb{R}^{3}$（坐标为 $(u,v,w)$）上的微分 2-形式的显式表达式，并从第一性原理出发，判断 $S=i(\\mathbb{R}^{3})$ 是否是迷向的以及是否是拉格朗日的。以单一的闭式解析表达式形式给出 $i^{\\ast}\\omega$ 的最终结果。无需四舍五入。",
            "solution": "问题要求计算给定的 $\\mathbb{R}^{8}$ 上的辛形式 $\\omega$ 通过光滑嵌入 $i:\\mathbb{R}^{3}\\rightarrow \\mathbb{R}^{8}$ 的拉回 $i^{*}\\omega$。随后，我们必须根据所给出的基本定义，确定像子流形 $S=i(\\mathbb{R}^{3})$ 是否是迷向的和/或拉格朗日的。\n\n背景空间是辛向量空间 $(\\mathbb{R}^{8}, \\omega)$。$\\mathbb{R}^{8}$ 上的典范坐标为 $(q_{1},q_{2},q_{3},q_{4},p_{1},p_{2},p_{3},p_{4})$。辛形式由下式给出：\n$$\n\\omega = \\sum_{j=1}^{4} dq_{j}\\wedge dp_{j} = dq_{1}\\wedge dp_{1} + dq_{2}\\wedge dp_{2} + dq_{3}\\wedge dp_{3} + dq_{4}\\wedge dp_{4}\n$$\n嵌入的定义域是 $\\mathbb{R}^{3}$，其坐标为 $(u,v,w)$。嵌入 $i:\\mathbb{R}^{3}\\rightarrow \\mathbb{R}^{8}$ 定义为：\n$$\ni(u,v,w) = \\big(q_{1}(u,v,w), \\dots, q_{4}(u,v,w), p_{1}(u,v,w), \\dots, p_{4}(u,v,w)\\big) = \\big(u, v, w, 0, u^{2}, v^{2}, w^{2}, 0\\big)\n$$\n微分形式的拉回是微分几何中的一个基本运算。对于给定的 2-形式 $\\omega$，其拉回 $i^{*}\\omega$ 是 $\\mathbb{R}^{3}$ 上的一个 2-形式。拉回运算与外微分 ($d$) 可交换，并对加法满足分配律。因此，我们可以逐项计算 $\\omega$ 的拉回：\n$$\ni^{*}\\omega = i^{*}\\left(\\sum_{j=1}^{4} dq_{j}\\wedge dp_{j}\\right) = \\sum_{j=1}^{4} i^{*}(dq_{j}\\wedge dp_{j})\n$$\n利用楔积的拉回是拉回的楔积这一性质，$i^{*}(\\alpha \\wedge \\beta) = i^{*}\\alpha \\wedge i^{*}\\beta$，以及拉回与外微分可交换的性质，$i^{*}(d\\alpha) = d(i^{*}\\alpha) = d(\\alpha \\circ i)$，我们得到：\n$$\ni^{*}(dq_{j}\\wedge dp_{j}) = i^{*}(dq_{j}) \\wedge i^{*}(dp_{j}) = d(q_{j}\\circ i) \\wedge d(p_{j}\\circ i)\n$$\n此处，$q_j \\circ i$ 和 $p_j \\circ i$ 是 $\\mathbb{R}^{8}$ 上的坐标函数与映射 $i$ 的复合，从而得到 $\\mathbb{R}^{3}$ 上的函数。我们现在对每个 $j \\in \\{1,2,3,4\\}$ 计算这些复合函数及其外微分。\n\n对于 $j=1$：\n坐标函数为 $q_{1}\\circ i = u$ 和 $p_{1}\\circ i = u^{2}$。\n它们的外微分是：\n$d(q_{1}\\circ i) = d(u) = \\frac{\\partial u}{\\partial u}du + \\frac{\\partial u}{\\partial v}dv + \\frac{\\partial u}{\\partial w}dw = du$。\n$d(p_{1}\\circ i) = d(u^{2}) = \\frac{\\partial (u^{2})}{\\partial u}du + \\frac{\\partial (u^{2})}{\\partial v}dv + \\frac{\\partial (u^{2})}{\\partial w}dw = 2u\\,du$。\n楔积是：\n$d(q_{1}\\circ i)\\wedge d(p_{1}\\circ i) = du \\wedge (2u\\,du) = 2u\\,(du \\wedge du) = 0$，因为任何 1-形式与自身的楔积为零。\n\n对于 $j=2$：\n坐标函数为 $q_{2}\\circ i = v$ 和 $p_{2}\\circ i = v^{2}$。\n它们的外微分是：\n$d(q_{2}\\circ i) = d(v) = dv$。\n$d(p_{2}\\circ i) = d(v^{2}) = 2v\\,dv$。\n楔积是：\n$d(q_{2}\\circ i)\\wedge d(p_{2}\\circ i) = dv \\wedge (2v\\,dv) = 2v\\,(dv \\wedge dv) = 0$。\n\n对于 $j=3$：\n坐标函数为 $q_{3}\\circ i = w$ 和 $p_{3}\\circ i = w^{2}$。\n它们的外微分是：\n$d(q_{3}\\circ i) = d(w) = dw$。\n$d(p_{3}\\circ i) = d(w^{2}) = 2w\\,dw$。\n楔积是：\n$d(q_{3}\\circ i)\\wedge d(p_{3}\\circ i) = dw \\wedge (2w\\,dw) = 2w\\,(dw \\wedge dw) = 0$。\n\n对于 $j=4$：\n坐标函数为 $q_{4}\\circ i = 0$ 和 $p_{4}\\circ i = 0$。\n它们的外微分是：\n$d(q_{4}\\circ i) = d(0) = 0$。\n$d(p_{4}\\circ i) = d(0) = 0$。\n楔积是：\n$d(q_{4}\\circ i)\\wedge d(p_{4}\\circ i) = 0 \\wedge 0 = 0$。\n\n将所有四项的贡献相加，我们得到拉回 $i^{*}\\omega$ 在 $\\mathbb{R}^{3}$ 上的显式表达式：\n$$\ni^{*}\\omega = 0 + 0 + 0 + 0 = 0\n$$\n所得到的拉回是 $\\mathbb{R}^{3}$ 上的零 2-形式。\n\n现在，我们评估子流形 $S=i(\\mathbb{R}^{3})$ 是否是迷向的和拉格朗日的。\n\n1.  **迷向条件：** 如果辛形式到子流形 $S$ 上的拉回为零，则该子流形是迷向的。我们的计算表明 $i^{*}\\omega = 0$。因此，子流形 $S$ 是迷向的。\n\n2.  **拉格朗日条件：** 如果一个子流形是迷向的，并且其维数是背景辛流形维数的一半，则该子流形是拉格朗日的。\n    背景流形 $\\mathbb{R}^{8}$ 的维数是 8。该维数的一半是 $\\frac{1}{2}\\dim(\\mathbb{R}^{8}) = \\frac{8}{2} = 4$。\n    子流形 $S$ 是 $\\mathbb{R}^{3}$ 在嵌入 $i$ 下的像。$S$ 的维数等于其定义域的维数，即 $\\dim(\\mathbb{R}^{3}) = 3$。\n    要使 $S$ 成为拉格朗日子流形，其维数必须为 4。由于 $\\dim(S)=3$，条件 $\\dim(S) = \\frac{1}{2}\\dim(\\mathbb{R}^{8})$ 不满足。\n\n总而言之，拉回 $i^{*}\\omega$ 的显式表达式是零 2-形式。子流形 $S$ 是迷向的，因为 $i^{*}\\omega=0$，但它不是拉格朗日的，因为它的维数（3）不等于背景空间维数的一半（4）。",
            "answer": "$$\n\\boxed{0}\n$$"
        },
        {
            "introduction": "从迷向性过渡到余迷向性，我们来探讨一个在哈密顿力学中至关重要的概念。在相空间中，约束条件定义了一个子流形，而其余迷向性是确保约束系统行为良好的关键属性。此练习将几何定义（通过辛补）与代数条件（通过约束函数的泊松括号）联系起来，通过一个不满足条件的典型反例，深刻揭示余迷向性条件的内涵。",
            "id": "3752213",
            "problem": "考虑标准辛向量空间 $\\left(\\mathbb{R}^{4},\\omega_{0}\\right)$，其全局Darboux坐标为 $(q_{1},q_{2},p_{1},p_{2})$，标准辛形式为 $\\omega_{0}=dq_{1}\\wedge dp_{1}+dq_{2}\\wedge dp_{2}$。定义约束函数 $\\varphi_{1}(q_{1},q_{2},p_{1},p_{2})=q_{1}$ 和 $\\varphi_{2}(q_{1},q_{2},p_{1},p_{2})=p_{1}$，并令 $C\\subset \\mathbb{R}^{4}$ 是由 $\\varphi_{1}=0$ 和 $\\varphi_{2}=0$ 给出的约束子流形。仅使用辛几何中的基本定义（即通过 $\\iota_{X_{f}}\\omega_{0}=df$ 定义的哈密顿向量场和导出的泊松括号），分析 $C$ 是否是余迷向的，即其消失理想 $I(C)$ 在泊松括号下是否闭合。如果余迷向条件不满足，计算一对能够证明此不满足性的约束函数的泊松括号，并在 $C$ 上对其求值。\n\n将最终答案表示为单个泊松括号 $\\{\\varphi_{1},\\varphi_{2}\\}$ 在 $C$ 上的限制的明确值。不需要四舍五入，也不涉及单位。",
            "solution": "问题要求我们判断由约束 $\\varphi_{1}=q_{1}=0$ 和 $\\varphi_{2}=p_{1}=0$ 定义的子流形 $C \\subset \\mathbb{R}^{4}$ 是否是余迷向的。我们已知在 $\\mathbb{R}^{4}$ 上，坐标为 $(q_{1},q_{2},p_{1},p_{2})$，标准辛形式为 $\\omega_{0}=dq_{1}\\wedge dp_{1}+dq_{2}\\wedge dp_{2}$。\n\n分析必须基于一个基本定义：一个子流形是余迷向的，当且仅当在其上为零的光滑函数理想 $I(C)$ 在泊松括号下是闭合的。对于由一组独立函数 $\\{\\varphi_{i}\\}$ 的零点集定义的子流形 $C$，此条件简化为要求任意两个此类生成函数的泊松括号 $\\{\\varphi_{i}, \\varphi_{j}\\}$ 在限制到 $C$ 上时必须为零。即 $\\{\\varphi_{i}, \\varphi_{j}\\}|_{C} = 0$。\n\n在本问题中，消失理想的生成函数是 $\\varphi_{1}=q_{1}$ 和 $\\varphi_{2}=p_{1}$。泊松括号是反对称的，因此 $\\{\\varphi_{1}, \\varphi_{1}\\} = 0$ 和 $\\{\\varphi_{2}, \\varphi_{2}\\} = 0$ 是平凡成立的。需要检查的关键条件是 $\\{\\varphi_{1}, \\varphi_{2}\\}|_{C} = 0$ 是否成立。\n\n根据题目要求，我们需使用哈密顿向量场和导出的泊松括号的定义。函数 $f$ 的哈密顿向量场 $X_{f}$ 由关系式 $\\iota_{X_{f}}\\omega_{0} = df$ 定义，其中 $\\iota$ 表示内积。两个函数 $f$ 和 $g$ 的泊松括号则定义为 $\\{f, g\\} = \\omega_{0}(X_{f}, X_{g})$。\n\n首先，我们来推导在给定坐标下哈密顿向量场的一般表达式。设 $X_{f}$ 是一个一般向量场，$X_{f} = \\sum_{k=1}^{2} \\left( A_{k} \\frac{\\partial}{\\partial q_{k}} + B_{k} \\frac{\\partial}{\\partial p_{k}} \\right)$。它与 $\\omega_{0}$ 的内积为：\n$$\n\\iota_{X_{f}}\\omega_{0} = \\iota_{X_{f}}(dq_{1}\\wedge dp_{1}+dq_{2}\\wedge dp_{2}) = \\sum_{k=1}^{2} \\left( \\iota_{X_{f}}(dq_{k}\\wedge dp_{k}) \\right)\n$$\n$$\n= \\sum_{k=1}^{2} \\left( (\\iota_{X_{f}}dq_{k})dp_{k} - (\\iota_{X_{f}}dp_{k})dq_{k} \\right) = \\sum_{k=1}^{2} \\left( A_{k}dp_{k} - B_{k}dq_{k} \\right)\n$$\n$f$ 的外微分由下式给出：\n$$\ndf = \\sum_{k=1}^{2} \\left( \\frac{\\partial f}{\\partial q_{k}}dq_{k} + \\frac{\\partial f}{\\partial p_{k}}dp_{k} \\right)\n$$\n通过令方程 $\\iota_{X_{f}}\\omega_{0} = df$ 中基1-形式的系数相等，我们得到：\n$$\nA_{k} = \\frac{\\partial f}{\\partial p_{k}} \\quad \\text{和} \\quad -B_{k} = \\frac{\\partial f}{\\partial q_{k}} \\implies B_{k} = -\\frac{\\partial f}{\\partial q_{k}}\n$$\n因此，哈密顿向量场由下式给出：\n$$\nX_{f} = \\sum_{k=1}^{2} \\left( \\frac{\\partial f}{\\partial p_{k}}\\frac{\\partial}{\\partial q_{k}} - \\frac{\\partial f}{\\partial q_{k}}\\frac{\\partial}{\\partial p_{k}} \\right)\n$$\n现在，我们将此结果应用于我们的约束函数 $\\varphi_{1}=q_{1}$ 和 $\\varphi_{2}=p_{1}$。\n\n对于 $\\varphi_{1} = q_{1}$：\n其偏导数为 $\\frac{\\partial \\varphi_{1}}{\\partial q_{1}}=1$，$\\frac{\\partial \\varphi_{1}}{\\partial p_{1}}=0$，所有其他偏导数均为零。\n$$\nX_{\\varphi_{1}} = \\left( \\frac{\\partial \\varphi_{1}}{\\partial p_{1}}\\frac{\\partial}{\\partial q_{1}} - \\frac{\\partial \\varphi_{1}}{\\partial q_{1}}\\frac{\\partial}{\\partial p_{1}} \\right) + \\left( \\frac{\\partial \\varphi_{1}}{\\partial p_{2}}\\frac{\\partial}{\\partial q_{2}} - \\frac{\\partial \\varphi_{1}}{\\partial q_{2}}\\frac{\\partial}{\\partial p_{2}} \\right) = \\left( 0 \\cdot \\frac{\\partial}{\\partial q_{1}} - 1 \\cdot \\frac{\\partial}{\\partial p_{1}} \\right) + (0-0) = -\\frac{\\partial}{\\partial p_{1}}\n$$\n对于 $\\varphi_{2} = p_{1}$：\n其偏导数为 $\\frac{\\partial \\varphi_{2}}{\\partial p_{1}}=1$，$\\frac{\\partial \\varphi_{2}}{\\partial q_{1}}=0$，所有其他偏导数均为零。\n$$\nX_{\\varphi_{2}} = \\left( \\frac{\\partial \\varphi_{2}}{\\partial p_{1}}\\frac{\\partial}{\\partial q_{1}} - \\frac{\\partial \\varphi_{2}}{\\partial q_{1}}\\frac{\\partial}{\\partial p_{1}} \\right) + \\left( \\frac{\\partial \\varphi_{2}}{\\partial p_{2}}\\frac{\\partial}{\\partial q_{2}} - \\frac{\\partial \\varphi_{2}}{\\partial q_{2}}\\frac{\\partial}{\\partial p_{2}} \\right) = \\left( 1 \\cdot \\frac{\\partial}{\\partial q_{1}} - 0 \\cdot \\frac{\\partial}{\\partial p_{1}} \\right) + (0-0) = \\frac{\\partial}{\\partial q_{1}}\n$$\n现在我们使用定义 $\\{f, g\\} = \\omega_{0}(X_{f}, X_{g})$ 来计算泊松括号 $\\{\\varphi_{1}, \\varphi_{2}\\}$：\n$$\n\\{\\varphi_{1}, \\varphi_{2}\\} = \\omega_{0}(X_{\\varphi_{1}}, X_{\\varphi_{2}}) = \\omega_{0}\\left(-\\frac{\\partial}{\\partial p_{1}}, \\frac{\\partial}{\\partial q_{1}}\\right)\n$$\n代入 $\\omega_{0}$ 的表达式：\n$$\n\\{\\varphi_{1}, \\varphi_{2}\\} = \\left(dq_{1}\\wedge dp_{1}+dq_{2}\\wedge dp_{2}\\right)\\left(-\\frac{\\partial}{\\partial p_{1}}, \\frac{\\partial}{\\partial q_{1}}\\right)\n$$\n项 $dq_{2}\\wedge dp_{2}$ 在这对向量上的求值为零。我们剩下：\n$$\n\\{\\varphi_{1}, \\varphi_{2}\\} = (dq_{1}\\wedge dp_{1})\\left(-\\frac{\\partial}{\\partial p_{1}}, \\frac{\\partial}{\\partial q_{1}}\\right) = dq_{1}\\left(-\\frac{\\partial}{\\partial p_{1}}\\right)dp_{1}\\left(\\frac{\\partial}{\\partial q_{1}}\\right) - dq_{1}\\left(\\frac{\\partial}{\\partial q_{1}}\\right)dp_{1}\\left(-\\frac{\\partial}{\\partial p_{1}}\\right)\n$$\n由于 $dq_{i}(\\frac{\\partial}{\\partial q_{j}}) = \\delta_{ij}$，$dp_{i}(\\frac{\\partial}{\\partial p_{j}}) = \\delta_{ij}$，以及像 $dq_{i}(\\frac{\\partial}{\\partial p_{j}})$ 这样的混合求值为零，我们得到：\n$$\n\\{\\varphi_{1}, \\varphi_{2}\\} = (0)(0) - (1)(-1) = 1\n$$\n泊松括号 $\\{\\varphi_{1}, \\varphi_{2}\\}$ 是值为 $1$ 的常数函数。\n\n为检验余迷向条件，我们必须在由 $q_{1}=0$ 和 $p_{1}=0$ 定义的约束子流形 $C$ 上对此结果求值。一个常数函数在任何子流形上的限制都是其自身。因此：\n$$\n\\{\\varphi_{1}, \\varphi_{2}\\}|_{C} = 1\n$$\n由于 $\\{\\varphi_{1}, \\varphi_{2}\\}|_{C} = 1 \\neq 0$，消失理想 $I(C)$ 在泊松括号下不闭合。因此，子流形 $C$ 不是余迷向的。问题要求给出此泊松括号在 $C$ 上求值的明确值。此值为 $1$。",
            "answer": "$$\\boxed{1}$$"
        },
        {
            "introduction": "掌握了子空间的分类后，我们转向一个更具构造性的任务：为辛空间构建一组“完美”的基，即辛基（或达布基）。辛格拉姆-施密特过程是一个强大的算法，它迭代地利用辛补的概念来从任意一组基向量中提炼出辛基。这个练习不仅要求理论上的论证，还需要您亲手完成这一基本过程，从而深入理解辛空间的内在结构。",
            "id": "3752207",
            "problem": "设 $V = \\mathbb{R}^{4}$ 具有标准辛形式 $\\omega(u,v) = u^{\\top} J v$，其中\n$$\nJ = \\begin{pmatrix}\n0  0  1  0 \\\\\n0  0  0  1 \\\\\n-1  0  0  0 \\\\\n0  -1  0  0\n\\end{pmatrix}.\n$$\n如果一个子空间 $L \\subset V$ 满足 $\\omega|_{L \\times L} \\equiv 0$，则称其为迷向的（isotropic）；如果满足 $L^{\\perp_{\\omega}} \\subseteq L$，则称其为余迷向的（coisotropic）；如果是极大迷向的（等价于 $L = L^{\\perp_{\\omega}}$ 且 $\\dim L = 2$），则称其为拉格朗日的（Lagrangian）。$V$ 中的一个向量序列 $\\{e_{1}, f_{1}, \\dots, e_{n}, f_{n}\\}$ 是一个辛基，如果 $\\omega(e_{i}, f_{j}) = \\delta_{ij}$ 并且这些向量之间的所有其他配对都为零。\n\n考虑辛 Gram-Schmidt 过程，该过程从 $V$ 中的一个有序向量列表开始，试图通过迭代生成一个辛基：\n- 选取一对 $(v_{k}, w_{k})$ 使得 $\\omega(v_{k}, w_{k}) \\neq 0$，然后进行缩放以使 $\\omega(v_{k}, w_{k}) = 1$，以及\n- 通过加上 $v_{k}$ 和 $w_{k}$ 的线性组合来修改剩余的向量，使它们与 $v_{k}$ 和 $w_{k}$ 是 $\\omega$-正交的。\n\n任务：\n1) 从 $\\omega$ 的非退化性和双线性出发，论证为什么对于 $\\mathbb{R}^{2n}$ 中一个一般的 $2n$ 个向量的有序列表，上述过程可以完整执行以产生一个辛基。你的论证必须仅依赖于非退化反对称双线性形式的基本性质和辛补的维数计算，而不能依赖任何预先引用的专门公式。\n\n2) 对于 $V = \\mathbb{R}^{4}$ 中的具体有序列表，\n$$\nu_{1} = \\begin{pmatrix} 2 \\\\ -1 \\\\ 1 \\\\ 0 \\end{pmatrix}, \\quad\nu_{2} = \\begin{pmatrix} 0 \\\\ 3 \\\\ 0 \\\\ 2 \\end{pmatrix}, \\quad\nu_{3} = \\begin{pmatrix} 1 \\\\ 1 \\\\ 2 \\\\ -1 \\end{pmatrix}, \\quad\nu_{4} = \\begin{pmatrix} 0 \\\\ 2 \\\\ -1 \\\\ 1 \\end{pmatrix},\n$$\n显式地执行辛 Gram-Schmidt 过程的前两个步骤，以产生前两对辛对 $(v_{1}, w_{1})$ 和 $(v_{2}, w_{2})$，使得 $\\omega(v_{i}, w_{i}) = 1$ 且这四个向量之间的所有其他配对均为零。将这些向量作为列向量，组装成一个 $4 \\times 4$ 矩阵 $S = [\\, v_{1} \\;\\; w_{1} \\;\\; v_{2} \\;\\; w_{2} \\,]$。\n\n将你的最终答案表示为单个矩阵 $S$。不需要四舍五入；给出精确的有理数项。",
            "solution": "该问题被验证为线性辛代数中一个定义良好且科学合理的问题。\n\n### 第1部分：辛 Gram-Schmidt 过程的合理性论证\n\n设 $(V, \\omega)$ 是一个装备有辛形式 $\\omega$ 的 $2n$ 维实向量空间，其中 $\\omega$ 是一个非退化、反对称的双线性形式。任务是论证对于构成 $V$ 的一组基的一个一般有序向量列表 $\\{u_1, u_2, \\dots, u_{2n}\\}$，辛 Gram-Schmidt 过程可以被执行以产生一个辛基 $\\{v_1, w_1, \\dots, v_n, w_n\\}$。一个辛基满足对于所有 $i,j \\in \\{1, \\dots, n\\}$，有 $\\omega(v_i, w_j) = \\delta_{ij}$，$\\omega(v_i, v_j) = 0$ 和 $\\omega(w_i, w_j)=0$。\n\n论证通过对空间维数进行归纳来进行。\n\n**归纳基础**：该过程从选择第一个向量 $v_1 = u_1$ 开始。由于列表是一般的，所以 $u_1 \\neq 0$。$\\omega$ 的非退化性意味着由 $\\phi_{v_1}(x) = \\omega(v_1, x)$ 定义的线性映射 $\\phi_{v_1}: V \\to \\mathbb{R}$ 不是零映射。这个映射的核 $(\\text{span}\\{v_1\\})^{\\perp_\\omega}$ 是由 $v_1$ 生成的子空间的辛正交补。根据秩-零化度定理，$\\dim((\\text{span}\\{v_1\\})^{\\perp_\\omega}) = \\dim(V) - \\dim(\\text{Im}(\\phi_{v_1})) = 2n-1$。\n因为原始列表 $\\{u_i\\}$ 构成了 $V$ 的一组基，所以向量 $\\{u_2, \\dots, u_{2n}\\}$ 不可能全都位于 $(2n-1)$ 维子空间 $(\\text{span}\\{v_1\\})^{\\perp_\\omega}$ 中。因此，必然存在某个 $u_k$（其中 $k1$）使得 $\\omega(v_1, u_k) \\neq 0$。一般情况下，对于 $u_2$ 这是成立的。我们选取列表中的第一个这样的向量，记为 $u_k$。\n\n令 $\\alpha = \\omega(v_1, u_k)$。我们定义 $w_1 = \\frac{1}{\\alpha} u_k$。根据构造，$\\omega(v_1, w_1) = \\frac{1}{\\alpha} \\omega(v_1, u_k) = 1$。$\\omega$ 的反对称性确保了 $\\omega(v_1, v_1) = 0$ 和 $\\omega(w_1, w_1) = 0$。\n\n**归纳步骤**：我们已经构造了第一对 $(v_1, w_1)$。设 $W_1 = \\text{span}\\{v_1, w_1\\}$。这是 $V$ 的一个 $2$ 维子空间。$\\omega$ 限制在 $W_1$ 上关于基 $\\{v_1, w_1\\}$ 的矩阵是 $\\begin{pmatrix} \\omega(v_1,v_1)  \\omega(v_1,w_1) \\\\ \\omega(w_1,v_1)  \\omega(w_1,w_1) \\end{pmatrix} = \\begin{pmatrix} 0  1 \\\\ -1  0 \\end{pmatrix}$。由于该矩阵非奇异，$\\omega|_{W_1}$ 是非退化的，且 $W_1$ 是一个辛子空间。\n\n从非退化性导出的一个基本性质是 $V$ 允许一个直和分解 $V = W_1 \\oplus W_1^{\\perp_\\omega}$，其中 $W_1^{\\perp_\\omega} = \\{ x \\in V \\mid \\omega(x, y) = 0 \\text{ for all } y \\in W_1 \\}$ 是 $W_1$ 的辛正交补。维数计算给出 $\\dim(W_1^{\\perp_\\omega}) = \\dim(V) - \\dim(W_1) = 2n - 2$。此外，$W_1^{\\perp_\\omega}$ 本身也是一个辛空间，其上的辛形式是 $\\omega$ 限制于其上的形式。\n\n过程的下一步是修改剩余的向量 $u_j$（对于 $j \\neq 1, k$），使它们位于 $W_1^{\\perp_\\omega}$ 中。这是通过减去它们在 $W_1$ 上的辛投影来实现的。对于任何向量 $u \\in V$，其到 $W_1^{\\perp_\\omega}$ 上的投影由下式给出：\n$$\nu' = u - \\text{proj}_{W_1}(u) = u - \\omega(u, w_1)v_1 + \\omega(u, v_1)w_1\n$$\n可以验证 $\\omega(u', v_1) = 0$ 和 $\\omega(u', w_1) = 0$，这证实了 $u' \\in W_1^{\\perp_\\omega}$。\n\n我们将这个投影应用于我们列表中剩下的 $2n-2$ 个向量，以获得一个新的向量列表 $\\{u'_j\\}$，它张成 $W_1^{\\perp_\\omega}$（假设原始列表是一组基）。我们现在面临同样的问题，但在一个更小的 $(2n-2)$ 维辛空间 $W_1^{\\perp_\\omega}$ 中。\n\n通过归纳法，我们可以再重复这个过程 $n-1$ 次。在每个步骤 $k$，我们从当前在 $\\text{span}\\{v_1, w_1, \\dots, v_{k-1}, w_{k-1}\\}$ 的辛正交补中的向量列表中取出第一个向量 $v_k$，找到另一个向量 $u$ 以形成具有非零辛积的配对，缩放它以得到 $w_k$，并投影剩余的向量。经过 $n$ 个步骤后，我们将用尽整个空间并构造出完整的辛基 $\\{v_1, w_1, \\dots, v_n, w_n\\}$。初始列表的“一般性”确保了在每个阶段，剩余子空间中的可用向量列表是非退化的（即，它张成该子空间，并且我们总能找到具有非零辛积的一对）。\n\n### 第2部分：显式计算\n\n给定 $V = \\mathbb{R}^4$ 及其上的 $\\omega(u,v) = u^{\\top} J v$，其中 $u=(u_1, u_2, u_3, u_4)^\\top$，$v=(v_1, v_2, v_3, v_4)^\\top$，且 $\\omega(u,v)=u_1v_3 + u_2v_4 - u_3v_1 - u_4v_2$。初始向量为：\n$u_{1} = (2, -1, 1, 0)^{\\top}$，$u_{2} = (0, 3, 0, 2)^{\\top}$，$u_{3} = (1, 1, 2, -1)^{\\top}$，$u_{4} = (0, 2, -1, 1)^{\\top}$。\n\n**步骤1：构造第一对 $(v_1, w_1)$**\n\n设 $v_1 = u_1 = (2, -1, 1, 0)^{\\top}$。\n我们寻找一个向量 $u_k$（其中 $k1$）使得 $\\omega(v_1, u_k) \\neq 0$。我们测试 $u_2$：\n$$\n\\omega(v_1, u_2) = (2)(0) + (-1)(2) - (1)(0) - (0)(3) = -2\n$$\n因为这个值非零，我们用 $u_2$ 来构造 $w_1$。我们需要 $\\omega(v_1, w_1) = 1$。设 $w_1 = c \\cdot u_2$。\n$c \\cdot \\omega(v_1, u_2) = 1 \\implies c(-2) = 1 \\implies c = -1/2$。\n所以，$w_1 = -\\frac{1}{2} u_2 = (0, -3/2, 0, -1)^{\\top}$。\n第一对是 $v_1 = (2, -1, 1, 0)^{\\top}$ 和 $w_1 = (0, -3/2, 0, -1)^{\\top}$。\n\n**步骤2：构造第二对 $(v_2, w_2)$**\n\n我们将剩余的向量 $u_3$ 和 $u_4$ 投影到 $W_1 = \\text{span}\\{v_1, w_1\\}$ 的辛正交补上。投影公式为 $u' = u - \\omega(u, w_1)v_1 + \\omega(u, v_1)w_1$。\n\n对于 $u_3 = (1, 1, 2, -1)^{\\top}$：\n$\\omega(u_3, v_1) = (1)(1) + (1)(0) - (2)(2) - (-1)(-1) = 1 - 4 - 1 = -4$。\n$\\omega(u_3, w_1) = (1)(0) + (1)(-1) - (2)(0) - (-1)(-3/2) = -1 - 3/2 = -5/2$。\n$u_3' = u_3 - (-\\frac{5}{2})v_1 + (-4)w_1 = u_3 + \\frac{5}{2}v_1 - 4w_1$\n$u_3' = \\begin{pmatrix} 1 \\\\ 1 \\\\ 2 \\\\ -1 \\end{pmatrix} + \\frac{5}{2}\\begin{pmatrix} 2 \\\\ -1 \\\\ 1 \\\\ 0 \\end{pmatrix} - 4\\begin{pmatrix} 0 \\\\ -3/2 \\\\ 0 \\\\ -1 \\end{pmatrix} = \\begin{pmatrix} 1+5 \\\\ 1 - 5/2 + 6 \\\\ 2 + 5/2 \\\\ -1 + 4 \\end{pmatrix} = \\begin{pmatrix} 6 \\\\ 9/2 \\\\ 9/2 \\\\ 3 \\end{pmatrix}$。\n\n对于 $u_4 = (0, 2, -1, 1)^{\\top}$：\n$\\omega(u_4, v_1) = (0)(1) + (2)(0) - (-1)(2) - (1)(-1) = 2 + 1 = 3$。\n$\\omega(u_4, w_1) = (0)(0) + (2)(-1) - (-1)(0) - (1)(-3/2) = -2 + 3/2 = -1/2$。\n$u_4' = u_4 - (-\\frac{1}{2})v_1 + (3)w_1 = u_4 + \\frac{1}{2}v_1 + 3w_1$\n$u_4' = \\begin{pmatrix} 0 \\\\ 2 \\\\ -1 \\\\ 1 \\end{pmatrix} + \\frac{1}{2}\\begin{pmatrix} 2 \\\\ -1 \\\\ 1 \\\\ 0 \\end{pmatrix} + 3\\begin{pmatrix} 0 \\\\ -3/2 \\\\ 0 \\\\ -1 \\end{pmatrix} = \\begin{pmatrix} 0+1 \\\\ 2 - 1/2 - 9/2 \\\\ -1 + 1/2 \\\\ 1 - 3 \\end{pmatrix} = \\begin{pmatrix} 1 \\\\ -3 \\\\ -1/2 \\\\ -2 \\end{pmatrix}$。\n\n现在，我们在 $W_1^{\\perp_\\omega}$ 中处理向量 $u_3'$ 和 $u_4'$。设 $v_2 = u_3' = (6, 9/2, 9/2, 3)^{\\top}$。我们必须将其与 $u_4'$配对。\n$\\omega(v_2, u_4') = (6)(-1/2) + (9/2)(-2) - (9/2)(1) - (3)(-3) = -3 - 9 - 9/2 + 9 = -3 - 9/2 = -15/2$。\n为了得到 $\\omega(v_2, w_2) = 1$，我们设 $w_2 = c \\cdot u_4'$，其中 $c(-15/2) = 1 \\implies c = -2/15$。\n$w_2 = -\\frac{2}{15} u_4' = -\\frac{2}{15} \\begin{pmatrix} 1 \\\\ -3 \\\\ -1/2 \\\\ -2 \\end{pmatrix} = \\begin{pmatrix} -2/15 \\\\ 6/15 \\\\ 1/15 \\\\ 4/15 \\end{pmatrix} = \\begin{pmatrix} -2/15 \\\\ 2/5 \\\\ 1/15 \\\\ 4/15 \\end{pmatrix}$。\n\n得到的辛基是 $\\{v_1, w_1, v_2, w_2\\}$：\n$v_1 = (2, -1, 1, 0)^{\\top}$\n$w_1 = (0, -3/2, 0, -1)^{\\top}$\n$v_2 = (6, 9/2, 9/2, 3)^{\\top}$\n$w_2 = (-2/15, 2/5, 1/15, 4/15)^{\\top}$\n\n最终的矩阵是 $S = [v_1 \\;\\; w_1 \\;\\; v_2 \\;\\; w_2]$。\n$$\nS = \\begin{pmatrix}\n2  0  6  -2/15 \\\\\n-1  -3/2  9/2  2/5 \\\\\n1  0  9/2  1/15 \\\\\n0  -1  3  4/15\n\\end{pmatrix}\n$$",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 2  0  6  -\\frac{2}{15} \\\\ -1  -\\frac{3}{2}  \\frac{9}{2}  \\frac{2}{5} \\\\ 1  0  \\frac{9}{2}  \\frac{1}{15} \\\\ 0  -1  3  \\frac{4}{15} \\end{pmatrix}}\n$$"
        }
    ]
}