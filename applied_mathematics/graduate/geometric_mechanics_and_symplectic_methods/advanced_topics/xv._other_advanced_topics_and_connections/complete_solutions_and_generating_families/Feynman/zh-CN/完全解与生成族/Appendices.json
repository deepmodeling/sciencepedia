{
    "hands_on_practices": [
        {
            "introduction": "在哈密顿力学中，不同的生成函数“类型”为描述同一个正则变换提供了灵活的视角。通过勒让德变换在不同类型的生成函数之间进行转换，是几何力学中的一项基本技能。本练习 () 提供了一个具体二次型生成函数的例子，让你亲手实践如何通过对其中一个变量进行勒让德变换，从第一类生成函数 $F_1(q, Q)$ 得到等价的第二类生成函数 $F_2(q, P)$。",
            "id": "3733703",
            "problem": "考虑一个有限维组态流形 $Q$，其上的余切丛 $T^{*}Q$ 配备了典范1-形式 $\\theta = p \\,\\mathrm{d}q$ 和辛形式 $\\omega = \\mathrm{d}\\theta$。正则变换是 $T^{*}Q$ 上的一个辛同胚，它可以实现为一个精确拉格朗日子流形，该子流形由一个从生成族导出的精确1-形式的图像给出。在哈密顿-雅可比（HJ）框架中，一个完全解会导出一个这样的生成族，并且可以通过使用凸分析中的勒让德对偶性来交换类组态变量和类动量变量，从而在不同类型的生成函数之间进行转换。设 $F_{1}(q,Q)$ 是一个第1类生成函数，它依赖于旧组态变量 $q$ 和新组态变量 $Q$，并满足正则性条件，即 $\\partial^{2}F_{1}/\\partial Q^{2}$ 是可逆的，从而关于 $Q$ 的偏勒让德变换存在。\n\n给定具体的第1类生成函数\n$$\nF_{1}(q,Q) \\;=\\; \\tfrac{1}{2}\\,a\\,q^{2} \\;+\\; b\\,q\\,Q \\;+\\; \\tfrac{1}{2}\\,c\\,Q^{2},\n$$\n其中 $a$、$b$ 和 $c$ 为常数参数且满足 $c \\neq 0$，对变量 $Q$ 执行适当的勒让德对偶变换，以获得等价的、依赖于旧组态变量 $q$ 和新动量变量 $P$ 的第2类生成函数 $F_{2}(q,P)$。将你的最终答案表示为 $F_{2}(q,P)$ 关于 $q$、$P$、$a$、$b$ 和 $c$ 的单个闭式解析表达式。无需进行数值计算，也不涉及单位。最终答案必须是单个解析表达式。",
            "solution": "该问题是有效的。这是一个几何力学中适定的问题，基于正则变换和勒让德对偶性的既定原理。所有必要的信息均已提供，条件一致，术语精确。\n\n目标是通过对变量 $Q$ 进行勒让德变换，找到与给定第1类生成函数 $F_{1}(q,Q)$ 对应的第2类生成函数 $F_{2}(q,P)$。\n\n第1类生成函数 $F_1(q,Q)$ 依赖于旧组态变量 $q$ 和新组态变量 $Q$。它通过以下关系定义了一个正则变换：\n$$\np = \\frac{\\partial F_1}{\\partial q}\n$$\n$$\nP = -\\frac{\\partial F_1}{\\partial Q}\n$$\n其中 $p$ 是旧动量，$P$ 是新动量。\n\n第2类生成函数 $F_2(q,P)$ 依赖于旧组态变量 $q$ 和新动量变量 $P$。它通过以下关系定义了相同的正则变换：\n$$\np = \\frac{\\partial F_2}{\\partial q}\n$$\n$$\nQ = \\frac{\\partial F_2}{\\partial P}\n$$\n\n这两种生成函数之间的关系由勒让德变换给出。具体而言，$F_2(q,P)$ 是通过以下公式从 $F_1(q,Q)$ 获得的：\n$$\nF_{2}(q,P) = F_{1}(q,Q) + P Q\n$$\n在这个表达式中，变量 $Q$ 必须表示为 $F_2$ 的变量 $q$ 和 $P$ 的函数。这个函数依赖关系 $Q(q,P)$ 是通过对新动量的关系式 $P = -\\frac{\\partial F_1}{\\partial Q}$ 进行求逆得到的。\n\n给定的第1类生成函数是：\n$$\nF_{1}(q,Q) = \\frac{1}{2}aq^{2} + bqQ + \\frac{1}{2}cQ^{2}\n$$\n参数 $a$、$b$ 和 $c$ 是常数，并给定条件 $c \\neq 0$。\n\n首先，我们建立新动量 $P$ 和 $F_1$ 变量之间的关系：\n$$\nP = -\\frac{\\partial F_1}{\\partial Q} = -\\frac{\\partial}{\\partial Q} \\left(\\frac{1}{2}aq^{2} + bqQ + \\frac{1}{2}cQ^{2}\\right)\n$$\n对 $Q$ 进行偏微分，得到：\n$$\nP = -(bq + cQ) = -bq - cQ\n$$\n问题要求我们将 $Q$ 表示为 $q$ 和 $P$ 的函数。我们可以重排上述方程来解出 $Q$：\n$$\ncQ = -P - bq\n$$\n$$\nQ = -\\frac{P+bq}{c}\n$$\n这个求逆操作是可能的，因为给定条件 $c \\neq 0$。该条件等价于所述的正则性条件，即 $\\frac{\\partial^2 F_1}{\\partial Q^2} = c$ 是可逆的。\n\n现在，我们将这个 $Q$ 的表达式代入 $F_2(q,P)$ 的勒让德变换公式中：\n$$\nF_{2}(q,P) = F_{1}(q, Q(q,P)) + P Q(q,P)\n$$\n$$\nF_2(q,P) = \\left[ \\frac{1}{2}aq^2 + bq\\left(-\\frac{P+bq}{c}\\right) + \\frac{1}{2}c\\left(-\\frac{P+bq}{c}\\right)^2 \\right] + P\\left(-\\frac{P+bq}{c}\\right)\n$$\n为简化此表达式，我们可以有条不紊地进行。让我们采用一种高效的简化策略。变换公式可以写成 $F_2(q,P) = \\frac{1}{2}aq^2 + Q(bq+P) + \\frac{1}{2}cQ^2$。从关系式 $P = -bq - cQ$ 中，我们有 $bq+P = -cQ$。将此代入 $F_2$ 的表达式中，得到：\n$$\nF_2(q,P) = \\frac{1}{2}aq^2 + Q(-cQ) + \\frac{1}{2}cQ^2 = \\frac{1}{2}aq^2 - cQ^2 + \\frac{1}{2}cQ^2\n$$\n$$\nF_2(q,P) = \\frac{1}{2}aq^2 - \\frac{1}{2}cQ^2\n$$\n这提供了一个简单得多的中间形式。现在，我们将表达式 $Q = -\\frac{P+bq}{c}$ 代入这个结果中：\n$$\nF_2(q,P) = \\frac{1}{2}aq^2 - \\frac{1}{2}c \\left( -\\frac{P+bq}{c} \\right)^2\n$$\n$$\nF_2(q,P) = \\frac{1}{2}aq^2 - \\frac{1}{2}c \\frac{(P+bq)^2}{c^2}\n$$\n$$\nF_2(q,P) = \\frac{1}{2}aq^2 - \\frac{(P+bq)^2}{2c}\n$$\n展开分子中的平方项：\n$$\nF_2(q,P) = \\frac{1}{2}aq^2 - \\frac{P^2 + 2bqP + b^2q^2}{2c}\n$$\n为了得到单个闭式表达式，我们可以合并各项：\n$$\nF_2(q,P) = \\frac{acq^2}{2c} - \\frac{P^2 + 2bqP + b^2q^2}{2c} = \\frac{acq^2 - (P^2 + 2bqP + b^2q^2)}{2c}\n$$\n$$\nF_2(q,P) = \\frac{(ac-b^2)q^2 - 2bqP - P^2}{2c}\n$$\n这个表达式可以写成关于变量 $q$ 和 $P$ 的二次型：\n$$\nF_{2}(q,P) = \\frac{ac-b^2}{2c}q^2 - \\frac{b}{c}qP - \\frac{1}{2c}P^2\n$$\n这就是第2类生成函数 $F_2(q,P)$ 的最终表达式。",
            "answer": "$$\n\\boxed{\\frac{ac-b^2}{2c}q^2 - \\frac{b}{c}qP - \\frac{1}{2c}P^2}\n$$"
        },
        {
            "introduction": "生成函数理论的威力并不仅限于自治系统，它同样优雅地适用于含时系统。本练习 () 将引导你处理一个含时谐振子，从基本的庞加莱-嘉当一形式出发，推导在特定的含时正则变换下新的哈密顿量 $K(Q, P, t)$。这个过程将加深你对该理论几何基础的理解，并展示如何处理非自治哈密顿系统中的变换。",
            "id": "3733691",
            "problem": "考虑一个单自由度哈密顿系统，其位形坐标为 $q$，共轭动量为 $p$，时间为 $t$，哈密顿量由下式给出\n$$\nH(q,p,t) = \\frac{p^{2}}{2 m} + \\frac{1}{2} m \\omega^{2}(t)\\, q^{2},\n$$\n其中 $m>0$ 是一个恒定的质量，$\\omega(t)>0$ 是一个光滑、严格为正、含时的频率。一个含时正则变换 $(q,p,t) \\mapsto (Q,P,t)$ 通过第二类生成函数 $F_{2}(q,P,t)$ 指定，该函数假定对所有变量都光滑，其关系式为\n$$\np = \\frac{\\partial F_{2}}{\\partial q}(q,P,t), \\qquad Q = \\frac{\\partial F_{2}}{\\partial P}(q,P,t),\n$$\n且变换后的哈密顿量 $K(Q,P,t)$ 由以下条件定义：庞加莱-嘉当一形式 $p\\,\\mathrm{d}q - H\\,\\mathrm{d}t$ 被映射为 $P\\,\\mathrm{d}Q - K\\,\\mathrm{d}t$，两者相差一个恰当微分 $\\mathrm{d}F_{2}$。设生成函数取以下二次型形式\n$$\nF_{2}(q,P,t) = \\mu(t)\\, q\\, P + \\frac{1}{2}\\, \\nu(t)\\, P^{2},\n$$\n其中 $\\mu(t)$ 和 $\\nu(t)$ 是给定的光滑函数，且对所有 $t$ 都有 $\\mu(t)\\neq 0$。\n\n从通过生成函数和庞加莱-嘉当一形式定义的含时正则变换的基本定义出发，用 $Q$、$P$、$t$、$m$、$\\omega(t)$、$\\mu(t)$、$\\nu(t)$ 及其时间导数明确地推导变换后的哈密顿量 $K(Q,P,t)$。你的推导必须从庞加莱-嘉当一形式的条件以及定义关系式 $p = \\partial F_{2}/\\partial q$ 和 $Q = \\partial F_{2}/\\partial P$ 开始；不要在没有从第一性原理证明的情况下假设 $K$ 的任何目标公式。最终答案必须是 $K(Q,P,t)$ 的一个单一闭式解析表达式，写成关于 $Q$ 和 $P$ 的、具有含时系数的二次型。使用记号 $\\dot{\\mu}(t) = \\mathrm{d}\\mu/\\mathrm{d}t$ 和 $\\dot{\\nu}(t) = \\mathrm{d}\\nu/\\mathrm{d}t$ 表示时间导数。无需进行数值计算或四舍五入。",
            "solution": "问题要求推导一个含时谐振子在由第二类生成函数 $F_{2}(q,P,t)$ 定义的特定含时正则变换下，其变换后的哈密顿量 $K(Q,P,t)$。推导必须从庞加莱-嘉当一形式的基本条件出发。\n\n定义含时正则变换 $(q,p) \\mapsto (Q,P)$ 的基本原理是，庞加莱-嘉当一形式 $p\\,\\mathrm{d}q - H\\,\\mathrm{d}t$ 和 $P\\,\\mathrm{d}Q - K\\,\\mathrm{d}t$ 相差一个恰当微分，我们记为 $\\mathrm{d}F$。问题指出，这个恰当微分是 $\\mathrm{d}F_2$，其中 $F_2$ 是旧坐标 $q$、新动量 $P$ 和时间 $t$ 的函数。精确的关系是：\n$$\np\\,\\mathrm{d}q - H\\,\\mathrm{d}t = P\\,\\mathrm{d}Q - K\\,\\mathrm{d}t + \\mathrm{d}F_{2}(q,P,t)\n$$\n这个方程可以重排以表达生成函数的微分：\n$$\n\\mathrm{d}F_{2} = p\\,\\mathrm{d}q - P\\,\\mathrm{d}Q + (K - H)\\,\\mathrm{d}t\n$$\n生成函数 $F_{2}$ 是作为变量 $(q, P, t)$ 的函数给出的，这些变量被视作独立的。然而，上述方程的右边包含微分 $\\mathrm{d}Q$，而不是 $\\mathrm{d}P$。为了协调这一点，我们对 $-P\\,\\mathrm{d}Q$ 项进行勒让德变换。使用微分的乘积法则，我们写出 $\\mathrm{d}(PQ) = P\\,\\mathrm{d}Q + Q\\,\\mathrm{d}P$，这意味着 $-P\\,\\mathrm{d}Q = Q\\,\\mathrm{d}P - \\mathrm{d}(PQ)$。将此代入 $\\mathrm{d}F_2$ 的方程中得到：\n$$\n\\mathrm{d}F_{2} = p\\,\\mathrm{d}q + Q\\,\\mathrm{d}P - \\mathrm{d}(PQ) + (K - H)\\,\\mathrm{d}t\n$$\n将恰当微分 $\\mathrm{d}(PQ)$ 移到左边，我们得到：\n$$\n\\mathrm{d}(F_{2} + PQ) = p\\,\\mathrm{d}q + Q\\,\\mathrm{d}P + (K - H)\\,\\mathrm{d}t\n$$\n函数 $F_{2}+PQ$ 必须被看作是 $(q, P, t)$ 的函数，因为 $F_2$ 是这些变量的函数，而 $Q$ 本身也由它们决定。让我们记一个新的生成函数 $\\tilde{F}(q,P,t) = F_2 + PQ$。问题在于这不是标准的定义。让我们重新考虑基本方程 $\\mathrm{d}F = p\\,\\mathrm{d}q - P\\,\\mathrm{d}Q - (H-K)\\,\\mathrm{d}t$。函数 $F$ 取决于所选的坐标。为了得到 $F_2(q,P,t)$，我们定义 $F_2(q,P,t) = F(q,Q(q,P,t),t) + P Q(q,P,t)$。那么它的微分是 $\\mathrm{d}F_2 = \\mathrm{d}F + P\\mathrm{d}Q + Q\\mathrm{d}P$。代入 $\\mathrm{d}F$，我们得到：\n$$\n\\mathrm{d}F_2 = (p\\,\\mathrm{d}q - P\\,\\mathrm{d}Q - (H-K)\\,\\mathrm{d}t) + P\\,\\mathrm{d}Q + Q\\,\\mathrm{d}P\n$$\n$\\pm P\\,\\mathrm{d}Q$ 项相互抵消，得到：\n$$\n\\mathrm{d}F_2 = p\\,\\mathrm{d}q + Q\\,\\mathrm{d}P + (K - H)\\,\\mathrm{d}t\n$$\n这个基本关系将自变量 $(q, P, t)$ 的微分与生成函数 $F_2(q,P,t)$ 的微分联系起来。根据多元微积分的法则，$F_2(q,P,t)$ 的全微分也由下式给出：\n$$\n\\mathrm{d}F_2 = \\frac{\\partial F_2}{\\partial q} \\mathrm{d}q + \\frac{\\partial F_2}{\\partial P} \\mathrm{d}P + \\frac{\\partial F_2}{\\partial t} \\mathrm{d}t\n$$\n比较 $\\mathrm{d}F_2$ 的这两个表达式中独立微分 $\\mathrm{d}q$、$\\mathrm{d}P$ 和 $\\mathrm{d}t$ 的系数，我们推导出正则变换方程：\n$$\np = \\frac{\\partial F_2}{\\partial q}, \\qquad Q = \\frac{\\partial F_2}{\\partial P}, \\qquad K - H = \\frac{\\partial F_2}{\\partial t}\n$$\n这些方程中的最后一个给出了变换哈密顿量的规则：\n$$\nK(Q,P,t) = H(q,p,t) + \\frac{\\partial F_2}{\\partial t}(q,P,t)\n$$\n为了找到 $K(Q, P, t)$ 的显式形式，我们必须将右边完全用新变量 $(Q, P)$ 和时间 $t$ 来表示。给定的生成函数是：\n$$\nF_{2}(q,P,t) = \\mu(t)\\, q\\, P + \\frac{1}{2}\\, \\nu(t)\\, P^{2}\n$$\n首先，我们通过对 $F_2$ 求导来找到变换关系：\n$$\np = \\frac{\\partial F_{2}}{\\partial q}(q,P,t) = \\mu(t)\\, P\n$$\n$$\nQ = \\frac{\\partial F_{2}}{\\partial P}(q,P,t) = \\mu(t)\\, q + \\nu(t)\\, P\n$$\n接下来，我们求 $F_2$ 对时间的偏导数：\n$$\n\\frac{\\partial F_{2}}{\\partial t}(q,P,t) = \\dot{\\mu}(t)\\, q\\, P + \\frac{1}{2}\\, \\dot{\\nu}(t)\\, P^{2}\n$$\n现在，我们必须用新变量 $(Q,P)$ 来表示旧变量 $(q,p)$。$p$ 的表达式已经用 $P$ 表示了。为了求 $q$，我们解关于 $Q$ 的方程。由于 $\\mu(t) \\neq 0$：\n$$\n\\mu(t)\\, q = Q - \\nu(t)\\, P \\implies q = \\frac{1}{\\mu(t)} \\left( Q - \\nu(t)\\, P \\right)\n$$\n现在我们将 $p$ 和 $q$ 的这些表达式代入 $K(Q,P,t)$ 的公式中：\n$$\nK(Q,P,t) = \\left( \\frac{p^2}{2m} + \\frac{1}{2} m \\omega(t)^2 q^2 \\right) + \\left( \\dot{\\mu}(t) q P + \\frac{1}{2} \\dot{\\nu}(t) P^2 \\right)\n$$\n$$\nK(Q,P,t) = \\frac{(\\mu(t)P)^{2}}{2 m} + \\frac{1}{2} m \\omega(t)^{2} \\left(\\frac{Q - \\nu(t)P}{\\mu(t)}\\right)^{2} + \\dot{\\mu}(t) \\left(\\frac{Q - \\nu(t)P}{\\mu(t)}\\right) P + \\frac{1}{2} \\dot{\\nu}(t) P^2\n$$\n为了得到关于 $Q$ 和 $P$ 的最终二次型，我们展开并合并同类项：\n$$\nK(Q,P,t) = \\frac{\\mu(t)^2}{2m} P^2 + \\frac{m \\omega(t)^2}{2\\mu(t)^2} \\left( Q^2 - 2\\nu(t)QP + \\nu(t)^2 P^2 \\right) + \\frac{\\dot{\\mu}(t)}{\\mu(t)} \\left( QP - \\nu(t) P^2 \\right) + \\frac{1}{2} \\dot{\\nu}(t) P^2\n$$\n我们按 $Q$ 和 $P$ 的幂次对各项进行分组：\n$Q^2$ 的系数是：\n$$\n\\frac{m \\omega(t)^2}{2\\mu(t)^2}\n$$\n$QP$ 的系数是：\n$$\n-\\frac{m \\omega(t)^2 \\nu(t)}{\\mu(t)^2} + \\frac{\\dot{\\mu}(t)}{\\mu(t)}\n$$\n$P^2$ 的系数是所有剩余项的和：\n$$\n\\frac{\\mu(t)^2}{2m} + \\frac{m \\omega(t)^2 \\nu(t)^2}{2\\mu(t)^2} - \\frac{\\dot{\\mu}(t)\\nu(t)}{\\mu(t)} + \\frac{\\dot{\\nu}(t)}{2}\n$$\n结合这些系数，我们得到变换后的哈密顿量 $K(Q,P,t)$ 作为二次型的最终表达式：\n$$\nK(Q,P,t) = \\left(\\frac{m \\omega(t)^2}{2\\mu(t)^2}\\right) Q^2 + \\left(\\frac{\\dot{\\mu}(t)}{\\mu(t)} - \\frac{m \\omega(t)^2 \\nu(t)}{\\mu(t)^2}\\right) QP + \\left(\\frac{\\mu(t)^2}{2m} + \\frac{m \\omega(t)^2 \\nu(t)^2}{2\\mu(t)^2} - \\frac{\\dot{\\mu}(t)\\nu(t)}{\\mu(t)} + \\frac{\\dot{\\nu}(t)}{2}\\right) P^2\n$$\n这个表达式是新哈密顿量用新正则变量 $(Q,P)$、时间 $t$ 以及给定的函数和参数表示的完整和显式形式，符合要求。",
            "answer": "$$\n\\boxed{\\frac{m \\omega(t)^2}{2\\mu(t)^2} Q^2 + \\left(\\frac{\\dot{\\mu}(t)}{\\mu(t)} - \\frac{m \\omega(t)^2 \\nu(t)}{\\mu(t)^2}\\right) QP + \\left(\\frac{\\mu(t)^2}{2m} + \\frac{m \\omega(t)^2 \\nu(t)^2}{2\\mu(t)^2} - \\frac{\\dot{\\mu}(t)\\nu(t)}{\\mu(t)} + \\frac{\\dot{\\nu}(t)}{2}\\right) P^2}\n$$"
        }
    ]
}