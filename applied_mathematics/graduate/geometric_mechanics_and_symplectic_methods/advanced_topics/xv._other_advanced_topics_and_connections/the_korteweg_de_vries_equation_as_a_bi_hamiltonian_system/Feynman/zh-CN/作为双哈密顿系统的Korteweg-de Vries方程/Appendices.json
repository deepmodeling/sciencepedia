{
    "hands_on_practices": [
        {
            "introduction": "在哈密顿场论中，能量和动量等物理量由泛函表示。为了推导运动方程或使用泊松括号，我们需要计算这些泛函的“梯度”，即变分导数。本练习 () 是计算该导数的一项基本实践，它依赖于在周期性边界条件下使用分部积分法，这是掌握本主题所需的一项核心技能。",
            "id": "3777386",
            "problem": "在Korteweg–de Vries (KdV)方程的双哈密顿表述中，哈密顿泛函及其变分导数通过相容泊松算子在生成流方面起着核心作用。考虑定义在圆 $S^{1}$ 上的泛函，\n$$\nF[u] \\;=\\; \\int_{0}^{2\\pi} u(x)\\,u_{xx}(x)\\,dx,\n$$\n其中 $u \\colon S^{1} \\to \\mathbb{R}$ 是一个光滑的 $2\\pi$ 周期函数，而 $u_{xx}$ 表示关于 $x$ 的二阶导数。利用变分法的第一性原理，即光滑变分 $v$ 方向上的 Gâteaux 导数定义以及通过 $L^{2}$ 配对表示的变分导数，\n$$\n\\delta F[u;v] \\;=\\; \\left.\\frac{d}{d\\varepsilon}\\right|_{\\varepsilon=0} F[u+\\varepsilon v] \\;=\\; \\int_{0}^{2\\pi} \\frac{\\delta F}{\\delta u}(x)\\,v(x)\\,dx,\n$$\n计算变分导数 $\\delta F/\\delta u$，并通过在周期性边界条件下系统地应用分部积分，将其简化为用 $u$ 及其导数表示的局域表达式。将您的最终答案表示为关于 $u$ 及其导数的单个闭式解析表达式。不需要数值近似或舍入，也不涉及物理单位。",
            "solution": "该问题要求计算泛函 $F[u] = \\int_{0}^{2\\pi} u(x)\\,u_{xx}(x)\\,dx$ 的变分导数，记作 $\\frac{\\delta F}{\\delta u}$。函数 $u(x)$ 定义在圆 $S^{1}$ 上，这意味着它是一个光滑的 $2\\pi$ 周期函数。计算将使用变分法的第一性原理，特别是利用光滑、$2\\pi$ 周期变分 $v(x)$ 方向上的 Gâteaux 导数定义，以及通过 $L^{2}$ 配对表示的变分导数。\n\n泛函 $F[u]$ 在变分 $v$ 方向上的 Gâteaux 导数定义为：\n$$\n\\delta F[u;v] = \\left.\\frac{d}{d\\varepsilon}\\right|_{\\varepsilon=0} F[u+\\varepsilon v]\n$$\n首先，我们将受扰函数 $u + \\varepsilon v$ 代入泛函 $F$ 中：\n$$\nF[u+\\varepsilon v] = \\int_{0}^{2\\pi} (u(x)+\\varepsilon v(x)) \\frac{d^2}{dx^2}(u(x)+\\varepsilon v(x)) \\,dx\n$$\n根据微分算子的线性性，$(u+\\varepsilon v)_{xx} = u_{xx} + \\varepsilon v_{xx}$。表达式变为：\n$$\nF[u+\\varepsilon v] = \\int_{0}^{2\\pi} (u+\\varepsilon v) (u_{xx}+\\varepsilon v_{xx}) \\,dx\n$$\n展开被积函数，我们得到一个关于 $\\varepsilon$ 的多项式：\n$$\nF[u+\\varepsilon v] = \\int_{0}^{2\\pi} (u u_{xx} + \\varepsilon u v_{xx} + \\varepsilon v u_{xx} + \\varepsilon^2 v v_{xx}) \\,dx\n$$\n为了求 Gâteaux 导数，我们对该表达式关于 $\\varepsilon$ 求导。假设函数具有足够的光滑性，允许在积分号下求导，我们得到：\n$$\n\\frac{d}{d\\varepsilon} F[u+\\varepsilon v] = \\int_{0}^{2\\pi} \\frac{\\partial}{\\partial\\varepsilon} (u u_{xx} + \\varepsilon(u v_{xx} + v u_{xx}) + \\varepsilon^2 v v_{xx}) \\,dx\n$$\n$$\n\\frac{d}{d\\varepsilon} F[u+\\varepsilon v] = \\int_{0}^{2\\pi} (u v_{xx} + v u_{xx} + 2\\varepsilon v v_{xx}) \\,dx\n$$\n在 $\\varepsilon = 0$ 处计算此导数，得到一阶变分 $\\delta F[u;v]$：\n$$\n\\delta F[u;v] = \\left.\\frac{d}{d\\varepsilon}\\right|_{\\varepsilon=0} F[u+\\varepsilon v] = \\int_{0}^{2\\pi} (u v_{xx} + u_{xx} v) \\,dx\n$$\n变分导数 $\\frac{\\delta F}{\\delta u}$ 由以下关系隐式定义：\n$$\n\\delta F[u;v] = \\int_{0}^{2\\pi} \\frac{\\delta F}{\\delta u}(x)\\,v(x)\\,dx\n$$\n为了求出 $\\frac{\\delta F}{\\delta u}$，我们必须处理 $\\delta F[u;v]$ 的表达式，使得变分 $v(x)$ 在被积函数中作为一个简单的因子出现，且没有导数作用于其上。这需要使用分部积分。项 $\\int_{0}^{2\\pi} u_{xx} v \\,dx$ 已经是所需的形式。我们必须处理另一项 $\\int_{0}^{2\\pi} u v_{xx} \\,dx$。\n\n对 $\\int_{0}^{2\\pi} u v_{xx} \\,dx$ 应用分部积分，我们设 $f = u$ 和 $dg = v_{xx}\\,dx$。这得到 $df = u_x\\,dx$ 和 $g = v_x$。\n$$\n\\int_{0}^{2\\pi} u v_{xx} \\,dx = \\left[ u v_x \\right]_{0}^{2\\pi} - \\int_{0}^{2\\pi} u_x v_x \\,dx\n$$\n边界项 $\\left[ u v_x \\right]_{0}^{2\\pi}$ 计算为 $u(2\\pi)v_x(2\\pi) - u(0)v_x(0)$。由于函数 $u$ 和 $v$ 是 $2\\pi$ 周期的，它们的导数 $u_x$ 和 $v_x$ 也是 $2\\pi$ 周期的。因此，$u(2\\pi)=u(0)$ 且 $v_x(2\\pi)=v_x(0)$。边界项为零：\n$$\nu(2\\pi)v_x(2\\pi) - u(0)v_x(0) = u(0)v_x(0) - u(0)v_x(0) = 0\n$$\n这使得表达式简化为：\n$$\n\\int_{0}^{2\\pi} u v_{xx} \\,dx = - \\int_{0}^{2\\pi} u_x v_x \\,dx\n$$\n右侧的积分仍然包含 $v$ 的导数。我们第二次应用分部积分。设 $f = u_x$ 和 $dg = v_x\\,dx$。这得到 $df = u_{xx}\\,dx$ 和 $g = v$。\n$$\n- \\int_{0}^{2\\pi} u_x v_x \\,dx = - \\left( \\left[ u_x v \\right]_{0}^{2\\pi} - \\int_{0}^{2\\pi} u_{xx} v \\,dx \\right)\n$$\n新的边界项 $\\left[ u_x v \\right]_{0}^{2\\pi}$ 是 $u_x(2\\pi)v(2\\pi) - u_x(0)v(0)$。由于周期性，$u_x(2\\pi)=u_x(0)$ 且 $v(2\\pi)=v(0)$，所以该项也为零。\n因此，表达式进一步简化为：\n$$\n- \\int_{0}^{2\\pi} u_x v_x \\,dx = - \\left( 0 - \\int_{0}^{2\\pi} u_{xx} v \\,dx \\right) = \\int_{0}^{2\\pi} u_{xx} v \\,dx\n$$\n我们现在已经确定，在周期性边界条件下，$\\int_{0}^{2\\pi} u v_{xx} \\,dx = \\int_{0}^{2\\pi} u_{xx} v \\,dx$。\n\n我们将此结果代回 $\\delta F[u;v]$ 的表达式中：\n$$\n\\delta F[u;v] = \\int_{0}^{2\\pi} u v_{xx} \\,dx + \\int_{0}^{2\\pi} u_{xx} v \\,dx = \\int_{0}^{2\\pi} u_{xx} v \\,dx + \\int_{0}^{2\\pi} u_{xx} v \\,dx\n$$\n$$\n\\delta F[u;v] = \\int_{0}^{2\\pi} 2 u_{xx} v \\,dx\n$$\n通过将此结果与定义 $\\delta F[u;v] = \\int_{0}^{2\\pi} \\frac{\\delta F}{\\delta u}(x)\\,v(x)\\,dx$ 进行比较，我们可以通过观察确定变分导数。被积函数中乘以变分 $v(x)$ 的函数就是所求的量。\n因此，泛函 $F[u]$ 的变分导数是：\n$$\n\\frac{\\delta F}{\\delta u}(x) = 2 u_{xx}(x)\n$$\n这是关于 $u$ 及其导数的最终局域表达式。",
            "answer": "$$\\boxed{2u_{xx}}$$"
        },
        {
            "introduction": "KdV方程的双哈密顿结构的非凡之处在于它提供了一种系统性生成无穷守恒量序列的方法，从而证明了其可积性。这是通过Lenard-Magri递归方案实现的，该方案通过两个泊松算子 $J_0$ 和 $J_1$ 将哈密顿量的梯度联系起来。在本练习 () 中，您将直接应用此方案，从一个已知的简单哈密顿量出发，生成该层级中的下一个守恒量。",
            "id": "3777407",
            "problem": "考虑实线上的 Korteweg–de Vries 方程的双哈密顿框架。令 $u(x)$ 为 $\\mathbb{R}$ 上的光滑、快速衰减函数。定义第一和第二哈密顿算子为\n$$\nJ_{0} := \\partial_{x}, \n\\qquad\nJ_{1} := \\partial_{x}^{3} + 4\\,u\\,\\partial_{x} + 2u_{x},\n$$\n其中 $\\partial_{x}$ 表示对 $x$ 的微分，且 $u_{x} := \\partial_{x} u$。对于一个局域泛函 $H[u] = \\int_{\\mathbb{R}} h(u, u_{x}, u_{xx}, \\dots)\\,dx$，在通常的变分法意义下，定义其 $L^{2}$-梯度（变分导数）$\\nabla H = \\delta H/\\delta u$。从基础哈密顿量\n$$\nH_{0}[u] := \\int_{\\mathbb{R}} u(x)\\,dx,\n$$\n开始，并使用关系式\n$$\nJ_{1}\\,\\nabla H_{0} \\;=\\; J_{0}\\,\\nabla H_{1}\n$$\n在当 $u \\equiv 0$ 时 $\\nabla H_{1}$ 为零的归一化条件下，唯一地确定 $\\nabla H_{1}$。通过直接计算，仅使用上述定义和由无穷远处衰减性保证的标准分部积分法，显式地验证您的结果对所有光滑、快速衰减的 $u(x)$ 满足所给关系式。\n\n以 $\\nabla H_{1}$ 的单个闭式解析表达式的形式提供您的最终答案。无需四舍五入，也不涉及物理单位。",
            "solution": "我们的任务是利用递推关系 $J_1\\,\\nabla H_0 = J_0\\,\\nabla H_1$ 来求解 $\\nabla H_1$。\n\n第一步是计算基础哈密顿量 $H_0[u] := \\int_{\\mathbb{R}} u(x)\\,dx$ 的变分导数 $\\nabla H_0$。\n根据变分导数的定义，对于任意光滑且快速衰减的微扰 $\\delta u$，我们有：\n$$\n\\delta H_0 = \\int_{\\mathbb{R}} (\\nabla H_0) \\delta u(x) \\,dx.\n$$\n同时，通过直接计算 $H_0$ 的变分，我们得到：\n$$\n\\delta H_0 = H_0[u+\\delta u] - H_0[u] = \\int_{\\mathbb{R}} (u(x)+\\delta u(x))\\,dx - \\int_{\\mathbb{R}} u(x)\\,dx = \\int_{\\mathbb{R}} 1 \\cdot \\delta u(x)\\,dx.\n$$\n比较这两个表达式，我们立即得出：\n$$\n\\nabla H_0 = 1.\n$$\n\n第二步是计算递推关系的左侧（LHS）：$J_1\\,\\nabla H_0$。\n我们将算子 $J_1 := \\partial_x^3 + 4u\\partial_x + 2u_x$ 作用于常数函数 $1$：\n$$\nJ_1(\\nabla H_0) = J_1(1) = (\\partial_x^3 + 4u\\partial_x + 2u_x)(1).\n$$\n分别计算每一项：\n$$\n\\partial_x^3(1) = 0\n$$\n$$\n4u\\partial_x(1) = 4u(0) = 0\n$$\n$$\n2u_x(1) = 2u_x \\cdot 1 = 2u_x\n$$\n将它们相加，得到：\n$$\n\\text{LHS} = J_1\\,\\nabla H_0 = 2u_x.\n$$\n\n第三步是处理递推关系的右侧（RHS）：$J_0\\,\\nabla H_1$。\n将算子 $J_0 := \\partial_x$ 作用于未知的 $\\nabla H_1$：\n$$\n\\text{RHS} = J_0\\,\\nabla H_1 = \\partial_x(\\nabla H_1).\n$$\n\n第四步是令两侧相等，求解 $\\nabla H_1$。\n$$\n\\partial_x(\\nabla H_1) = 2u_x.\n$$\n对两边关于 $x$ 积分，可得：\n$$\n\\nabla H_1(x) = \\int 2u_x \\,dx = 2u(x) + C,\n$$\n其中 $C$ 是一个积分常数。\n\n为了确定常数 $C$，我们应用归一化条件：当 $u \\equiv 0$ 时，$\\nabla H_1$ 为零。\n将 $u(x) = 0$ 代入表达式：\n$$\n\\nabla H_1 = 2(0) + C = C.\n$$\n根据条件，这必须等于 $0$，所以 $C=0$。\n因此，$\\nabla H_1$ 的唯一解是：\n$$\n\\nabla H_1 = 2u.\n$$\n\n最后，我们验证这个结果满足原始关系式 $J_1\\,\\nabla H_0 = J_0\\,\\nabla H_1$。\n我们已经计算出 LHS $= 2u_x$。\n现在我们用我们的解 $\\nabla H_1 = 2u$ 来计算 RHS：\n$$\n\\text{RHS} = J_0\\,\\nabla H_1 = \\partial_x(2u) = 2u_x.\n$$\n由于 LHS = RHS，我们的解得到了验证。",
            "answer": "$$\\boxed{2u}$$"
        },
        {
            "introduction": "在前面的练习中，我们使用了递归算子 $\\mathcal{R} = \\mathcal{J}_2 \\mathcal{J}_1^{-1}$ 来生成新的守恒量。这个算子的定义涉及一个逆算子 $\\mathcal{J}_1^{-1} = \\partial_x^{-1}$，而它并非一个简单的局域算子。本练习 () 旨在深入探讨这个逆算子的数学精妙之处，特别是它的非局域性以及在周期性定义域上正确定义它所需的条件，这对于完全理解递归算子的结构至关重要。",
            "id": "3777353",
            "problem": "考虑周期域 $S^1$ 上的 Korteweg–de Vries (KdV) 方程，\n$$\nu_t + 6\\,u\\,u_x + u_{xxx} = 0,\n$$\n将其视为一个具有两个相容 Poisson 算子的双哈密顿系统\n$$\n\\mathcal{J}_1 = \\partial_x, \\qquad \\mathcal{J}_2 = \\partial_x^3 + 2\\,u\\,\\partial_x + u_x,\n$$\n因此递归算子为 $\\mathcal{R} = \\mathcal{J}_2 \\mathcal{J}_1^{-1}$。在周期为 $2\\pi$ 的周期函数的 Sobolev 空间 $H^s(S^1)$ 中进行研究，其中 $s$ 足够大以保证以下运算的合理性。根据定义，点 $x$ 处的一个有限阶局部微分算子，其在点 $x$ 的值仅依赖于输入在点 $x$ 的有限多阶导数。在 $S^1$ 上，$\\partial_x$ 的核由常数函数组成。\n\n仅使用上述基本定义，推断在此背景下 $\\partial_x^{-1}$ 作为一个算子的性质，以及如何使其在圆上是良定义的。特别地，确定哪些陈述正确解释了为什么 $\\partial_x^{-1}$ 是非局部的，以及如何通过在函数空间上施加零均值约束 $\\int_{S^1} u\\,dx = 0$ 来解决在求逆 $\\partial_x$ 时的模糊性。\n\n选择所有适用的选项。\n\nA. $(\\partial_x^{-1} f)(x)$ 是通过将 $f$ 沿一个区间积分到 $x$ 得到的，因此它依赖于 $f$ 在 $x$ 之外的值；因此它是非局部的。在 $S^1$ 上，常数位于 $\\ker(\\partial_x)$ 中，因此限制在子空间 $\\{f \\in H^s(S^1): \\int_{S^1} f\\,dx = 0\\}$ 上可以确保周期性原函数的存在，并且固定其均值（例如，为零）使得 $\\partial_x^{-1}$ 唯一。这使得 $\\mathcal{R}$ 成为良定义但非局部的。\n\nB. $\\partial_x^{-1}$ 是局部的，因为微分和积分是逐点互逆的，所以 $(\\partial_x^{-1} f)(x)$ 仅依赖于 $f(x)$。零均值约束与在 $S^1$ 上定义 $\\partial_x^{-1}$ 无关。\n\nC. 在 $S^1$ 上的傅里叶变量中，$\\partial_x$ 的作用是在第 $k$ 个傅里叶模式上乘以 $i k$。将 $\\partial_x^{-1}$ 定义为对于 $k \\neq 0$ 乘以 $1/(i k)$，并将 $k=0$ 模式设为零，这消除了 $k=0$ 处的奇点，并且等价于编码了零均值限制。这个定义仍然产生一个非局部算子。\n\nD. 在 $S^1$ 上，通过傅里叶级数，$\\partial_x$ 在所有 $L^2$ 函数上都是可逆的，因为可以在 $k=0$ 处一致地定义 $1/(i\\cdot 0)$。因此 $\\partial_x^{-1}$ 是一个局部算子，并且对于 KdV Poisson 结构而言，零均值约束是不必要的。\n\nE. 对 $u$ 施加的零均值约束确定了 Poisson 算子 $\\mathcal{J}_1 = \\partial_x$ 的一个辛叶，因为守恒量 $M(u) = \\int_{S^1} u\\,dx$ 是 $\\mathcal{J}_1$ 的一个 Casimir。在这个叶上，$\\partial_x$ 在模常数的意义下是可逆的，选择一个归一化（例如，零均值原函数）使得 $\\partial_x^{-1}$ 良定义。因为逆算子是通过积分实现的，所以它是非局部的，因此 $\\mathcal{R}$ 也是非局部的。",
            "solution": "我们从所给的定义开始。点 $x$ 处的一个有限阶局部微分算子仅使用输入在 $x$ 处的一个有限射流（jet） $(f(x), f_x(x), \\dots, f^{(m)}(x))$。微分算子 $\\partial_x$ 是局部的。它的逆算子（如果存在）必须求解 $g_x = f$。在直线上，这样一个 $g$ 由 $g(x) = \\int_{x_0}^x f(\\xi)\\,d\\xi + C$ 给出，除非 $f \\equiv 0$，否则它依赖于 $f$ 在一个从 $x$ 延伸出去的区间上的值。这已经表明了非局部性：计算 $g(x)$ 需要在整个区间上对 $f$ 进行积分。在圆 $S^1$ 上，还必须确保 $g$ 是周期的；这要求 $\\int_{S^1} f\\,dx = 0$，从而使得 $g(x+2\\pi) - g(x) = \\int_x^{x+2\\pi} f(\\xi)\\,d\\xi = 0$。因此，在 $S^1$ 上，周期性原函数存在的充要条件是 $f$ 的均值为零。此外，任何两个周期性原函数都相差一个常数；可以通过指定一个归一化来确定唯一性，例如对 $g$ 施加零均值或固定 $g(x_0)=0$。任何归一化都会导致 $g$ 用 $f$ 的积分表达式表示，从而使得 $\\partial_x^{-1}$ 成为非局部的。\n\n在 Korteweg–de Vries 的背景下，第一个 Poisson 算子是 $\\mathcal{J}_1=\\partial_x$，它是退化的，因为常数在其核中。泛函 $M(u)=\\int_{S^1} u\\,dx$ 是 $\\mathcal{J}_1$ 的一个 Casimir，因此其水平集是辛叶。限制在 $\\int_{S^1} u\\,dx = 0$ 的叶上，可以移除常数模式，并允许（在模归一化的意义下）对 $\\mathcal{J}_1$ 求逆，从而定义 $\\partial_x^{-1}$。因此，递归算子 $\\mathcal{R}=\\mathcal{J}_2 \\mathcal{J}_1^{-1}$ 从 $\\partial_x^{-1}$ 继承了非局部性。\n\n一个互补的观点是使用傅里叶级数。将 $f(x)$ 写为 $f(x) = \\sum_{k\\in \\mathbb{Z}} f_k e^{i k x}$，算子 $\\partial_x$ 的作用是乘以 $i k$，因此逆算子将在 $k\\neq 0$ 时乘以 $1/(i k)$。$k=0$ 模式对应于 $f$ 的均值，并且位于 $\\partial_x$ 的核中。丢弃或将 $k=0$ 模式设为零等价于限制在零均值函数上。符号 $1/(i k)$ 不是 $k$ 的多项式，所以相应的算子是一个具有非局部积分核的伪微分算子；这编码了非局部性。\n\n有了这个基于原理的推理，我们现在来分析每个选项。\n\n选项A：正确。通过沿区间积分来描述非局部性的方式是准确的。在 $S^1$ 上，周期性原函数存在的零均值条件的必要性来自于 $\\int_{S^1} f\\,dx = \\int_0^{2\\pi} g_x\\,dx = g(2\\pi)-g(0)$，对于周期的 $g$，该值必须为零。固定均值（或任何归一化）可得到唯一性。这使得 $\\mathcal{R}$ 良定义但非局部。\n\n选项B：不正确。在局部性的意义上，积分不是微分的逐点逆。$(\\partial_x^{-1} f)(x)$ 依赖于 $f$ 在一个区间上的积分，而不仅仅是 $f(x)$。此外，在 $S^1$ 上，零均值约束直接关系到周期性原函数的存在，因此也关系到 $\\partial_x^{-1}$ 的定义。\n\n选项C：正确。在傅里叶空间中，$\\partial_x$ 的符号是 $i k$。逆符号 $1/(i k)$ 在 $k=0$ 处未定义，这对应于均值。将 $\\partial_x^{-1} f$ 的 $k=0$ 模式声明为零等价于施加 $\\int_{S^1} f\\,dx=0$ 并消除了奇点。因为 $1/(i k)$ 不是多项式，所以逆算子是伪微分的且非局部的。\n\n选项D：不正确。无法一致地定义 $1/(i\\cdot 0)$；$k=0$ 模式是奇异的，反映了 $\\partial_x$ 在整个空间上的不可逆性。此外，具有非多项式符号的傅里叶乘子通常是非局部的；因此 $\\partial_x^{-1}$ 不是局部的，而零均值限制对于使逆算子有意义是必要的。\n\n选项E：正确。泛函 $M(u)=\\int_{S^1} u\\,dx$ 是 $\\mathcal{J}_1=\\partial_x$ 的一个 Casimir，因此水平集 $M(u)=\\text{const}$ 是辛叶。在这样一个叶上，可以通过固定一个归一化（在模常数的意义下）来对 $\\mathcal{J}_1$ 求逆，从而定义 $\\partial_x^{-1}$。由于这个逆是通过积分给出的，所以它是非局部的。因此，递归算子 $\\mathcal{R}$ 在零均值叶上是良定义但非局部的。\n\n因此，正确的选项是 A、C 和 E。",
            "answer": "$$\\boxed{ACE}$$"
        }
    ]
}