{
    "hands_on_practices": [
        {
            "introduction": "Understanding the Nonholonomic Momentum Equation begins with seeing how momentum conservation can fail. This first exercise provides a foundational example, starting with a simple nonholonomic constraint on $\\mathbb{R}^{3}$. You will first verify the non-integrability of the constraint distribution using the Lie bracket of vector fields, a direct application of the Frobenius theorem, before deriving the dynamical consequence of this geometric fact—a non-zero rate of change for the momentum associated with a translational symmetry .",
            "id": "3780670",
            "problem": "Consider the configuration manifold $Q=\\mathbb{R}^{3}$ with global Cartesian coordinates $(x,y,z)$ and the mechanical Lagrangian $L(q,\\dot{q})=\\tfrac{1}{2}\\left(\\dot{x}^{2}+\\dot{y}^{2}+\\dot{z}^{2}\\right)$ induced by the Euclidean metric. Impose the single nonholonomic velocity constraint given by the one-form $\\omega=dz-x\\,dy$, so that admissible velocities satisfy $\\omega(\\dot{q})=0$, i.e., $\\dot{z}-x\\,\\dot{y}=0$. \n\nTasks:\n1. Construct the constraint distribution $\\mathcal{D}\\subset TQ$ as the kernel of $\\omega$ and provide a global basis of vector fields $\\{X_{1},X_{2}\\}$ spanning $\\mathcal{D}$. Compute the Lie bracket $[X_{1},X_{2}]$ and use it to verify nonintegrability by showing that $[\\Gamma(\\mathcal{D}),\\Gamma(\\mathcal{D})]\\not\\subset\\Gamma(\\mathcal{D})$, where $\\Gamma(\\mathcal{D})$ denotes smooth sections of $\\mathcal{D}$. Your reasoning must begin from the definition of $\\mathcal{D}=\\ker\\omega$ and the definition of the Lie bracket of vector fields.\n2. Let the Lie group $G=\\mathbb{R}$ act on $Q$ by translations in the $z$-coordinate, with infinitesimal generator $\\xi_{Q}=\\partial/\\partial z$. Starting from the Lagrange–d’Alembert principle for linear velocity constraints and the definition of the mechanical momentum map $J$ associated to a Lie group action on a Riemannian manifold, derive the Nonholonomic Momentum Equation (NME) for this symmetry: compute the time derivative $\\tfrac{d}{dt}\\langle J,\\xi\\rangle$ and express it entirely in terms of $x$, $\\dot{x}$, and $\\dot{y}$. \n\nAnswer format requirement:\n- Provide the final answer as a single closed-form analytic expression for $\\tfrac{d}{dt}\\langle J,\\xi\\rangle$. No numerical rounding is required and no units are to be included in the final expression.",
            "solution": "The problem is divided into two parts. The first part requires an analysis of the nonholonomic constraint distribution, and the second requires the derivation of the nonholonomic momentum equation for a given symmetry.\n\n**Part 1: Constraint Distribution and Nonintegrability**\n\nThe configuration manifold is $Q = \\mathbb{R}^{3}$ with coordinates $q = (x, y, z)$. The nonholonomic constraint is given by the one-form $\\omega = dz - x\\,dy$. An admissible velocity vector $\\dot{q} = (\\dot{x}, \\dot{y}, \\dot{z}) \\in T_q Q$ must satisfy the linear constraint equation $\\omega_q(\\dot{q}) = 0$. In coordinates, this is $\\dot{z} - x\\dot{y} = 0$.\n\nThe constraint distribution $\\mathcal{D}$ is a subbundle of the tangent bundle $TQ$ defined by $\\mathcal{D} = \\bigcup_{q \\in Q} \\mathcal{D}_q$, where $\\mathcal{D}_q = \\ker(\\omega_q) = \\{ v \\in T_q Q \\mid \\omega_q(v) = 0 \\}$. For an arbitrary vector field $V = V^{x}\\frac{\\partial}{\\partial x} + V^{y}\\frac{\\partial}{\\partial y} + V^{z}\\frac{\\partial}{\\partial z}$, the condition $\\omega(V)=0$ translates to $V^{z} - xV^{y} = 0$, or $V^{z} = xV^{y}$.\nThis indicates that any vector field in $\\Gamma(\\mathcal{D})$ (the space of smooth sections of $\\mathcal{D}$) can be written as a linear combination of two basis vector fields. We can construct a global basis for $\\mathcal{D}$ by choosing linearly independent values for the components $V^{x}$ and $V^{y}$.\nA natural choice is:\n$1$. Let $V^{x} = 1$ and $V^{y} = 0$. This implies $V^{z} = x(0) = 0$. This gives the vector field $X_1 = \\frac{\\partial}{\\partial x}$.\n$2$. Let $V^{x} = 0$ and $V^{y} = 1$. This implies $V^{z} = x(1) = x$. This gives the vector field $X_2 = \\frac{\\partial}{\\partial y} + x\\frac{\\partial}{\\partial z}$.\nThe set $\\{X_1, X_2\\}$ forms a global basis for the distribution $\\mathcal{D}$.\n\nTo verify the nonintegrability of the distribution $\\mathcal{D}$, we use the Frobenius theorem. The distribution is integrable if and only if the set of its sections $\\Gamma(\\mathcal{D})$ is closed under the Lie bracket operation, i.e., for any $Y_1, Y_2 \\in \\Gamma(\\mathcal{D})$, their Lie bracket $[Y_1, Y_2]$ is also in $\\Gamma(\\mathcal{D})$. We compute the Lie bracket of our basis vector fields, $[X_1, X_2]$.\nThe Lie bracket of two vector fields $X$ and $Y$ is defined by $[X,Y](f) = X(Y(f)) - Y(X(f))$ for any smooth function $f: Q \\to \\mathbb{R}$.\nLet's compute $[X_1, X_2]$:\n$X_1 = \\frac{\\partial}{\\partial x}$ and $X_2 = \\frac{\\partial}{\\partial y} + x\\frac{\\partial}{\\partial z}$.\n$$\n[X_1, X_2] = \\left[\\frac{\\partial}{\\partial x}, \\frac{\\partial}{\\partial y} + x\\frac{\\partial}{\\partial z}\\right] = \\left[\\frac{\\partial}{\\partial x}, \\frac{\\partial}{\\partial y}\\right] + \\left[\\frac{\\partial}{\\partial x}, x\\frac{\\partial}{\\partial z}\\right]\n$$\nThe first term is zero since partial derivatives commute: $\\left[\\frac{\\partial}{\\partial x}, \\frac{\\partial}{\\partial y}\\right] = 0$.\nFor the second term, we apply it to a test function $f(x,y,z)$:\n$$\n\\left[\\frac{\\partial}{\\partial x}, x\\frac{\\partial}{\\partial z}\\right](f) = \\frac{\\partial}{\\partial x}\\left(x\\frac{\\partial f}{\\partial z}\\right) - x\\frac{\\partial}{\\partial z}\\left(\\frac{\\partial f}{\\partial x}\\right) = \\left(1 \\cdot \\frac{\\partial f}{\\partial z} + x\\frac{\\partial^2 f}{\\partial x \\partial z}\\right) - x\\frac{\\partial^2 f}{\\partial z \\partial x} = \\frac{\\partial f}{\\partial z}\n$$\nThus, the Lie bracket is $[X_1, X_2] = \\frac{\\partial}{\\partial z}$.\n\nNow we must check if this resulting vector field lies in the distribution $\\mathcal{D}$. A vector field $V$ is in $\\Gamma(\\mathcal{D})$ if $\\omega(V) = 0$. Let's apply $\\omega$ to $[X_1, X_2]$:\n$$\n\\omega([X_1, X_2]) = \\omega\\left(\\frac{\\partial}{\\partial z}\\right) = (dz - x\\,dy)\\left(\\frac{\\partial}{\\partial z}\\right) = dz\\left(\\frac{\\partial}{\\partial z}\\right) - x\\,dy\\left(\\frac{\\partial}{\\partial z}\\right) = 1 - x \\cdot 0 = 1\n$$\nSince $\\omega([X_1, X_2]) = 1 \\neq 0$, the vector field $[X_1, X_2]$ is not a section of $\\mathcal{D}$. This shows that $[\\Gamma(\\mathcal{D}), \\Gamma(\\mathcal{D})] \\not\\subset \\Gamma(\\mathcal{D})$, and by the Frobenius theorem, the distribution $\\mathcal{D}$ is nonintegrable. The constraint is nonholonomic.\n\n**Part 2: Nonholonomic Momentum Equation (NME)**\n\nThe system is described by the Lagrangian $L = \\frac{1}{2}(\\dot{x}^2 + \\dot{y}^2 + \\dot{z}^2)$ subject to the constraint $\\dot{z} - x\\dot{y} = 0$. The dynamics are governed by the Lagrange-d'Alembert principle. For a system with constraints given by one-forms $\\omega^a$, the equations of motion are\n$$\n\\frac{d}{dt}\\frac{\\partial L}{\\partial \\dot{q}^i} - \\frac{\\partial L}{\\partial q^i} = \\sum_a \\lambda_a \\omega^a_i\n$$\nIn our case, there is a single constraint, so we have a single Lagrange multiplier $\\lambda$. The components of the constraint one-form $\\omega = dz - x\\,dy$ are $\\omega_x = 0$, $\\omega_y = -x$, and $\\omega_z = 1$. The Lagrangian derivatives are $\\frac{\\partial L}{\\partial \\dot{q}} = (\\dot{x}, \\dot{y}, \\dot{z})$ and $\\frac{\\partial L}{\\partial q} = (0, 0, 0)$.\nThe equations of motion are:\n\\begin{align*}\n\\ddot{x} &= \\lambda \\omega_x = 0 \\\\\n\\ddot{y} &= \\lambda \\omega_y = -\\lambda x \\\\\n\\ddot{z} &= \\lambda \\omega_z = \\lambda\n\\end{align*}\nTo find the multiplier $\\lambda$, we differentiate the constraint equation $\\dot{z} - x\\dot{y} = 0$ with respect to time:\n$$\n\\ddot{z} - \\dot{x}\\dot{y} - x\\ddot{y} = 0\n$$\nSubstituting the expressions for $\\ddot{y}$ and $\\ddot{z}$ from the equations of motion:\n$$\n\\lambda - \\dot{x}\\dot{y} - x(-\\lambda x) = 0 \\implies \\lambda - \\dot{x}\\dot{y} + \\lambda x^2 = 0 \\implies \\lambda(1+x^2) = \\dot{x}\\dot{y}\n$$\nSolving for $\\lambda$ gives:\n$$\n\\lambda = \\frac{\\dot{x}\\dot{y}}{1+x^2}\n$$\nThe problem specifies a symmetry group $G=\\mathbb{R}$ acting by translation in the $z$-coordinate: $(x,y,z) \\mapsto (x,y,z+s)$. The infinitesimal generator of this action on $Q$ is the vector field $\\xi_Q = \\frac{\\partial}{\\partial z}$. The mechanical momentum map $J: TQ \\to \\mathfrak{g}^*$ is defined by its pairing with an element $\\xi \\in \\mathfrak{g}$, which we take to be the basis element $1 \\in \\mathbb{R}$. The corresponding conserved momentum in the unconstrained case is $p_z = \\langle J, \\xi \\rangle = \\frac{\\partial L}{\\partial \\dot{q}} \\cdot \\xi_Q$.\n$$\np_z = \\left(\\frac{\\partial L}{\\partial \\dot{x}}, \\frac{\\partial L}{\\partial \\dot{y}}, \\frac{\\partial L}{\\partial \\dot{z}}\\right) \\cdot \\left(0, 0, 1\\right) = \\frac{\\partial L}{\\partial \\dot{z}} = \\dot{z}\n$$\nThe Nonholonomic Momentum Equation (NME) describes the time evolution of this quantity. We need to compute its time derivative, $\\frac{d}{dt}\\langle J, \\xi \\rangle = \\frac{dp_z}{dt} = \\ddot{z}$.\nFrom the equations of motion derived earlier, we have $\\ddot{z} = \\lambda$.\nSubstituting the expression we found for $\\lambda$:\n$$\n\\frac{d}{dt}\\langle J, \\xi \\rangle = \\ddot{z} = \\lambda = \\frac{\\dot{x}\\dot{y}}{1+x^2}\n$$\nThis expression gives the rate of change of the momentum associated with the $z$-translation symmetry entirely in terms of the state variables $x$, $\\dot{x}$, and $\\dot{y}$, as requested. The non-zero value of this derivative shows that the momentum $p_z$ is not conserved, which is a hallmark of nonholonomic systems with symmetry.",
            "answer": "$$\n\\boxed{\\frac{\\dot{x}\\dot{y}}{1+x^{2}}}\n$$"
        },
        {
            "introduction": "After establishing that nonholonomic constraints can break momentum conservation, we now explore the subtle conditions under which a related quantity might still be conserved. This practice introduces a system with a non-Euclidean kinetic energy metric and investigates a symmetry that is also a Killing field, meaning it preserves the metric. By analyzing the time evolution of a specially defined 'constrained' momentum, you will discover a non-trivial scenario where a conservation law persists despite the nonholonomic nature of the system .",
            "id": "3780645",
            "problem": "Consider the mechanical system with configuration manifold $Q=\\mathbb{R}^{2}$ and global coordinates $q=(x,y)$. The kinetic energy is determined by a Riemannian metric $g$ whose matrix in the coordinate basis $\\{\\partial_{x},\\partial_{y}\\}$ is\n$$\nM(q)=\\begin{pmatrix}\n1 & x \\\\\nx & 1+x^{2}\n\\end{pmatrix},\n$$\nso that the Lagrangian is $L(q,\\dot{q})=\\tfrac{1}{2}\\,g_{ij}(q)\\,\\dot{q}^{i}\\dot{q}^{j}-V(x)$ with a potential $V$ that depends only on $x$. Impose the nonholonomic constraint given by the linear velocity one-form $\\omega=\\mathrm{d}x$, i.e., admissible velocities satisfy $\\dot{x}=0$. Let the symmetry generator be the infinitesimal generator of translations in $y$, namely $\\xi_{Q}(q)=\\partial_{y}$.\n\nUsing only fundamental definitions of the Lie derivative of a tensor field and the Lagrange–d’Alembert principle for nonholonomic systems of mechanical type, perform the following tasks:\n\n1. Evaluate the Lie derivative $\\mathcal{L}_{\\xi_{Q}}g$ and verify whether the Killing condition $\\mathcal{L}_{\\xi_{Q}}g=0$ holds.\n2. Define the constrained (nonholonomic) momentum associated with $\\xi_{Q}$ by $J^{\\mathrm{nh}}_{\\xi}(q,\\dot{q})=g_{q}\\big(\\dot{q},\\mathcal{P}_{\\mathcal{D}}(q)\\xi_{Q}(q)\\big)$, where $\\mathcal{D}=\\ker\\omega\\subset TQ$ is the constraint distribution and $\\mathcal{P}_{\\mathcal{D}}(q):T_{q}Q\\to\\mathcal{D}_{q}$ is the $g$-orthogonal projector. Using the Lagrange–d’Alembert equations, derive an explicit expression for $\\dfrac{\\mathrm{d}}{\\mathrm{d}t}J^{\\mathrm{nh}}_{\\xi}$ along solutions satisfying the constraint $\\dot{x}=0$, and simplify your result by exploiting the outcome of Part 1 and the $y$-invariance of the potential $V$.\n3. Provide the final simplified expression for $\\dfrac{\\mathrm{d}}{\\mathrm{d}t}J^{\\mathrm{nh}}_{\\xi}$ as a single closed-form analytic expression in terms of the system variables and parameters.\n\nExpress your final answer as a single analytic expression. No units are required. If any numerical approximation is needed, round to four significant figures; however, the problem is designed to admit an exact expression.",
            "solution": "The problem is first validated to ensure it is well-posed, scientifically sound, and internally consistent before a solution is attempted.\n\n### Problem Validation\n\n**Step 1: Extract Givens**\n- Configuration manifold: $Q=\\mathbb{R}^{2}$ with coordinates $q=(x,y)$.\n- Kinetic energy metric (mass matrix): $M(q)=\\begin{pmatrix} 1 & x \\\\ x & 1+x^{2} \\end{pmatrix}$. The metric components are $g_{11}=1$, $g_{12}=g_{21}=x$, and $g_{22}=1+x^{2}$.\n- Lagrangian: $L(q,\\dot{q})=\\tfrac{1}{2}\\,g_{ij}(q)\\,\\dot{q}^{i}\\dot{q}^{j}-V(x) = \\frac{1}{2}(\\dot{x}^2 + 2x\\dot{x}\\dot{y} + (1+x^2)\\dot{y}^2) - V(x)$.\n- Potential: $V=V(x)$, a function of $x$ only.\n- Nonholonomic constraint: $\\omega=\\mathrm{d}x$, implying admissible velocities satisfy $\\dot{x}=0$.\n- Symmetry generator: $\\xi_{Q}(q)=\\partial_{y}$. In coordinates, $\\xi_Q$ is represented by the vector $(0,1)$.\n- Definition of constrained momentum: $J^{\\mathrm{nh}}_{\\xi}(q,\\dot{q})=g_{q}\\big(\\dot{q},\\mathcal{P}_{\\mathcal{D}}(q)\\xi_{Q}(q)\\big)$, where $\\mathcal{D}=\\ker\\omega$ and $\\mathcal{P}_{\\mathcal{D}}$ is the $g$-orthogonal projector onto $\\mathcal{D}$.\n- Tasks:\n  1. Evaluate the Lie derivative $\\mathcal{L}_{\\xi_{Q}}g$ and check the Killing condition.\n  2. Derive an expression for $\\dfrac{\\mathrm{d}}{\\mathrm{d}t}J^{\\mathrm{nh}}_{\\xi}$ using the Lagrange–d’Alembert principle.\n  3. Provide the final simplified expression.\n\n**Step 2: Validate Using Extracted Givens**\n- **Scientifically Grounded**: The problem is formulated within the standard framework of geometric mechanics and nonholonomic systems. The concepts used (Riemannian metric, Lagrangian, nonholonomic constraint, Lie derivative, Lagrange-d'Alembert principle) are all fundamental and well-defined in this field. The provided metric matrix $M(q)$ has determinant $\\det(M) = 1(1+x^2) - x^2 = 1 > 0$, and its leading principal minor is $1>0$, so it is positive definite and represents a valid Riemannian metric.\n- **Well-Posed**: The problem is self-contained and provides all necessary definitions and data to perform the requested tasks. The objectives are clear and a unique solution is attainable.\n- **Objective**: The problem is stated in precise, formal mathematical language, free from any subjectivity or ambiguity.\n\n**Step 3: Verdict and Action**\nThe problem is deemed **valid**. A full solution will be provided.\n\n### Solution\n\nThe solution is presented in three parts as requested.\n\n**Part 1: Lie Derivative of the Metric**\n\nThe Lie derivative of a $(0,2)$ tensor field $g$ with components $g_{ij}$ along a vector field $\\xi$ with components $\\xi^k$ is given in local coordinates by:\n$$\n(\\mathcal{L}_{\\xi}g)_{ij} = \\xi^k \\frac{\\partial g_{ij}}{\\partial q^k} + g_{kj} \\frac{\\partial \\xi^k}{\\partial q^i} + g_{ik} \\frac{\\partial \\xi^k}{\\partial q^j}\n$$\nIn this problem, the coordinates are $q^1=x, q^2=y$, and the symmetry generator is $\\xi_Q = \\partial_y$. The components of this vector field are $\\xi^1=0$ and $\\xi^2=1$. Since these components are constant, all their partial derivatives are zero: $\\frac{\\partial \\xi^k}{\\partial q^i} = 0$ for all $i,k \\in \\{1,2\\}$. The formula for the Lie derivative simplifies to:\n$$\n(\\mathcal{L}_{\\xi_Q}g)_{ij} = \\xi^k \\frac{\\partial g_{ij}}{\\partial q^k} = \\xi^1 \\frac{\\partial g_{ij}}{\\partial x} + \\xi^2 \\frac{\\partial g_{ij}}{\\partial y} = 0 \\cdot \\frac{\\partial g_{ij}}{\\partial x} + 1 \\cdot \\frac{\\partial g_{ij}}{\\partial y} = \\frac{\\partial g_{ij}}{\\partial y}\n$$\nThe components of the metric tensor are given by the matrix $M(q)$:\n$g_{11}(x,y) = 1$\n$g_{12}(x,y) = x$\n$g_{21}(x,y) = x$\n$g_{22}(x,y) = 1+x^2$\n\nNone of these components depend on the coordinate $y$. Therefore, their partial derivatives with respect to $y$ are all zero:\n$$\n\\frac{\\partial g_{ij}}{\\partial y} = 0 \\quad \\text{for all } i,j \\in \\{1,2\\}\n$$\nThis implies that $(\\mathcal{L}_{\\xi_Q}g)_{ij} = 0$ for all $i,j$. In other words, $\\mathcal{L}_{\\xi_Q}g=0$. The Killing condition holds, which means that the symmetry generated by $\\xi_Q$ (translation in the $y$-direction) is an isometry of the metric $g$.\n\n**Part 2: Derivation of the Rate of Change of Nonholonomic Momentum**\n\nWe first construct the nonholonomic momentum $J^{\\mathrm{nh}}_{\\xi}$. This requires finding the orthogonal projection $\\mathcal{P}_{\\mathcal{D}}(q)\\xi_{Q}(q)$.\n\nThe constraint one-form is $\\omega = \\mathrm{d}x$. The constraint distribution $\\mathcal{D}_q = \\ker(\\omega_q)$ consists of tangent vectors $v = v^1 \\partial_x + v^2 \\partial_y \\in T_qQ$ such that $\\omega_q(v) = (\\mathrm{d}x)(v) = v^1 = 0$. Thus, the constraint distribution is spanned by $\\partial_y$: $\\mathcal{D}_q = \\mathrm{span}\\{\\partial_y\\}$.\n\nThe symmetry generator is $\\xi_Q = \\partial_y$. Since $\\xi_Q$ is a basis vector for the distribution $\\mathcal{D}_q$, it is already an element of $\\mathcal{D}_q$. The projection of a vector already in a subspace onto that same subspace is the vector itself. Therefore,\n$$\n\\mathcal{P}_{\\mathcal{D}}(q)\\xi_{Q}(q) = \\xi_Q(q) = \\partial_y\n$$\nNow we can evaluate the nonholonomic momentum:\n$$\nJ^{\\mathrm{nh}}_{\\xi}(q,\\dot{q}) = g_{q}\\big(\\dot{q},\\mathcal{P}_{\\mathcal{D}}(q)\\xi_{Q}(q)\\big) = g_q(\\dot{q}, \\xi_Q)\n$$\nIn coordinates, with $\\dot{q} = \\dot{x}\\partial_x + \\dot{y}\\partial_y$ and $\\xi_Q = \\partial_y$ (components $\\xi^1=0, \\xi^2=1$), this is:\n$$\nJ^{\\mathrm{nh}}_{\\xi} = g_{ij}\\dot{q}^i\\xi^j = g_{i2}\\dot{q}^i = g_{12}\\dot{x} + g_{22}\\dot{y} = x\\dot{x} + (1+x^2)\\dot{y}\n$$\nNext, we use the Lagrange-d'Alembert equations. For a mechanical system with Lagrangian $L(q, \\dot{q})$ and constraints $\\omega^a_i(q)\\dot{q}^i=0$, the equations are:\n$$\n\\frac{\\mathrm{d}}{\\mathrm{d}t}\\left(\\frac{\\partial L}{\\partial \\dot{q}^i}\\right) - \\frac{\\partial L}{\\partial q^i} = \\lambda_a \\omega^a_i(q)\n$$\nIn our case, there is one constraint $\\dot{x}=0$, so $\\omega^1 = \\mathrm{d}x$, which has components $\\omega_1=1$ and $\\omega_2=0$. The equations of motion are:\n1. ($i=1$, for $x$): $\\dfrac{\\mathrm{d}}{\\mathrm{d}t}\\left(\\dfrac{\\partial L}{\\partial \\dot{x}}\\right) - \\dfrac{\\partial L}{\\partial x} = \\lambda$\n2. ($i=2$, for $y$): $\\dfrac{\\mathrm{d}}{\\mathrm{d}t}\\left(\\dfrac{\\partial L}{\\partial \\dot{y}}\\right) - \\dfrac{\\partial L}{\\partial y} = 0$\n\nWe focus on the second equation. The partial derivatives of the Lagrangian $L = \\frac{1}{2}(\\dot{x}^2 + 2x\\dot{x}\\dot{y} + (1+x^2)\\dot{y}^2) - V(x)$ are:\n$$\n\\frac{\\partial L}{\\partial \\dot{y}} = \\frac{1}{2}(2x\\dot{x} + 2(1+x^2)\\dot{y}) = x\\dot{x} + (1+x^2)\\dot{y}\n$$\n$$\n\\frac{\\partial L}{\\partial y} = 0\n$$\nThe derivative $\\frac{\\partial L}{\\partial y}$ is zero because neither the metric components $g_{ij}$ nor the potential $V(x)$ depend on $y$. The former is the result verified in Part 1 ($\\mathcal{L}_{\\partial_y} g = 0$), and the latter is given in the problem statement.\n\nSubstituting these into the $y$-equation of motion, we get:\n$$\n\\frac{\\mathrm{d}}{\\mathrm{d}t}\\left( x\\dot{x} + (1+x^2)\\dot{y} \\right) - 0 = 0\n$$\nWe observe that the term inside the time derivative is precisely the expression for the nonholonomic momentum we derived:\n$$\nJ^{\\mathrm{nh}}_{\\xi} = x\\dot{x} + (1+x^2)\\dot{y}\n$$\nTherefore, the $y$-component of the Lagrange-d'Alembert equations directly states that the time derivative of the nonholonomic momentum is zero for any valid trajectory of the system.\n$$\n\\frac{\\mathrm{d}}{\\mathrm{d}t}J^{\\mathrm{nh}}_{\\xi} = 0\n$$\nThis result holds for any solution $(x(t), y(t))$ that satisfies the full equations of motion and the constraint $\\dot{x}=0$.\n\n**Part 3: Final Simplified Expression**\n\nThe expression for the time derivative of the nonholonomic momentum along the solutions is derived directly from the equations of motion. As shown in Part 2, the expression is:\n$$\n\\frac{\\mathrm{d}}{\\mathrm{d}t}J^{\\mathrm{nh}}_{\\xi} = 0\n$$\nThis result is already in its simplest form. The conservation of $J^{\\mathrm{nh}}_{\\xi}$ is a consequence of the fact that the symmetry generator $\\xi_Q = \\partial_y$ (a) is a Killing field for the metric $g$ (Part 1), (b) leaves the potential $V$ invariant, and (c) has no component in the direction of the constraint force, since $F_\\text{constraint} = \\lambda \\mathrm{d}x$ and $\\langle \\lambda \\mathrm{d}x, \\partial_y \\rangle = 0$.",
            "answer": "$$\\boxed{0}$$"
        },
        {
            "introduction": "Our final practice synthesizes these ideas by examining the different factors that contribute to the nonholonomic momentum balance. You will follow a systematic workflow to test for momentum conservation by checking three key properties: the horizontality of the symmetry generator, its status as a Killing field for the metric, and the invariance of the potential energy. This exercise is designed to clearly distinguish the momentum change caused by external forces from the geometric effects of the constraints themselves, providing a complete picture of the terms that appear in the Nonholonomic Momentum Equation .",
            "id": "3780707",
            "problem": "Consider the mechanical system with configuration space $\\mathbb{R}^{3}$ with coordinates $(x,y,z)$, kinetic energy metric $\\mathbf{g}$ given by the constant diagonal matrix with entries $(a,b,c)$ for fixed positive constants $a$, $b$, and $c$, and Lagrangian $L=T-V$ with\n$$\nT=\\frac{1}{2}\\left(a\\,\\dot{x}^{2}+b\\,\\dot{y}^{2}+c\\,\\dot{z}^{2}\\right),\\qquad V=\\alpha\\,y,\n$$\nwhere $\\alpha$ is a fixed nonzero constant. The system is subject to a nonholonomic constraint given by the velocity-level one-form\n$$\n\\mu=\\mathrm{d}z-y\\,\\mathrm{d}x,\n$$\nso that admissible velocities satisfy $\\mu(\\dot{q})=0$, i.e., $\\dot{z}-y\\,\\dot{x}=0$. The corresponding nonholonomic distribution $\\mathcal{D}\\subset T\\mathbb{R}^{3}$ is the kernel of $\\mu$, and it is spanned by the vector fields\n$$\nE_{1}=\\frac{\\partial}{\\partial x}+y\\,\\frac{\\partial}{\\partial z},\\qquad E_{2}=\\frac{\\partial}{\\partial y}.\n$$\n\nLet the Lie group $\\mathbb{R}$ act by translations in the $y$-coordinate, $\\Phi_{s}(x,y,z)=(x,y+s,z)$, with infinitesimal generator $\\xi_{\\mathbb{R}^{3}}=\\frac{\\partial}{\\partial y}$. Consider the candidate gauge momentum associated with this generator defined by the kinetic pairing\n$$\nJ_{\\mathrm{gauge}}(q,\\dot{q})=\\mathbf{g}\\left(\\dot{q},\\xi_{\\mathbb{R}^{3}}(q)\\right)=b\\,\\dot{y}.\n$$\n\nProvide a rigorous workflow to test conservation of $J_{\\mathrm{gauge}}$ along the nonholonomic flow by verifying:\n1) horizontality of $\\xi_{\\mathbb{R}^{3}}$ relative to $\\mathcal{D}$,\n2) the Killing property of $\\xi_{\\mathbb{R}^{3}}$ for the kinetic energy metric restricted to $\\mathcal{D}$,\n3) potential invariance along $\\xi_{\\mathbb{R}^{3}}$.\n\nUsing only fundamental principles, including the Lagrange–d’Alembert principle and core definitions from geometric mechanics, derive the nonholonomic momentum balance for $J_{\\mathrm{gauge}}$ along admissible motions and compute its time derivative $\\frac{\\mathrm{d}}{\\mathrm{d}t}J_{\\mathrm{gauge}}$. Your final answer must be a single closed-form analytic expression. No numerical rounding is required and no physical units should be included in the final expression.",
            "solution": "The objective is to compute the time derivative of the candidate gauge momentum, $\\frac{\\mathrm{d}}{\\mathrm{d}t}J_{\\mathrm{gauge}}$, for the given nonholonomic system. The quantity $J_{\\mathrm{gauge}}$ is defined as $J_{\\mathrm{gauge}}(q, \\dot{q}) = \\mathbf{g}(\\dot{q}, \\xi_{\\mathbb{R}^3}(q))$, where $\\xi_{\\mathbb{R}^3} = \\frac{\\partial}{\\partial y}$ is the infinitesimal generator of translations in the $y$-coordinate.\n\nWe begin by computing the time derivative of $J_{\\mathrm{gauge}}$ using the product rule and the definition of the covariant derivative $\\nabla$ associated with the Levi-Civita connection of the metric $\\mathbf{g}$. Since the metric $\\mathbf{g}$ has constant coefficients in Cartesian coordinates, the Christoffel symbols are zero, and the covariant derivative of a vector field along a curve is simply its standard time derivative.\n$$\n\\frac{\\mathrm{d}}{\\mathrm{d}t}J_{\\mathrm{gauge}} = \\frac{\\mathrm{d}}{\\mathrm{d}t}\\mathbf{g}(\\dot{q}, \\xi_{\\mathbb{R}^3}) = \\mathbf{g}(\\nabla_{\\dot{q}}\\dot{q}, \\xi_{\\mathbb{R}^3}) + \\mathbf{g}(\\dot{q}, \\nabla_{\\dot{q}}\\xi_{\\mathbb{R}^3})\n$$\nThe term $\\nabla_{\\dot{q}}\\dot{q}$ represents the system's acceleration, and $\\nabla_{\\dot{q}}\\xi_{\\mathbb{R}^3}$ represents the covariant change of the symmetry vector field along the trajectory. The Lagrange-d'Alembert principle for this system dictates that the acceleration projected onto the nonholonomic distribution $\\mathcal{D}$ is determined by the projection of the external force derived from the potential $V$.\n\nWe will now analyze each term in the expression for $\\frac{\\mathrm{d}}{\\mathrm{d}t}J_{\\mathrm{gauge}}$ guided by the three verification steps specified in the problem statement.\n\n1) Verification of the horizontality of $\\xi_{\\mathbb{R}^{3}}$ relative to $\\mathcal{D}$:\nA vector field is horizontal if it lies within the distribution $\\mathcal{D}$ at every point. This is equivalent to the condition $\\mu(\\xi_{\\mathbb{R}^3}) = 0$, where $\\mu = \\mathrm{d}z - y\\,\\mathrm{d}x$ is the constraint one-form. The infinitesimal generator is $\\xi_{\\mathbb{R}^3} = \\frac{\\partial}{\\partial y}$. We compute:\n$$\n\\mu(\\xi_{\\mathbb{R}^3}) = (\\mathrm{d}z - y\\,\\mathrm{d}x)\\left(\\frac{\\partial}{\\partial y}\\right) = \\mathrm{d}z\\left(\\frac{\\partial}{\\partial y}\\right) - y\\,\\mathrm{d}x\\left(\\frac{\\partial}{\\partial y}\\right) = 0 - y \\cdot 0 = 0\n$$\nSince $\\mu(\\xi_{\\mathbb{R}^3}) = 0$, the vector field $\\xi_{\\mathbb{R}^3}$ is horizontal, i.e., $\\xi_{\\mathbb{R}^3}(q) \\in \\mathcal{D}_q$ for all $q \\in \\mathbb{R}^3$.\nThe implication of this property is that we can evaluate the first term $\\mathbf{g}(\\nabla_{\\dot{q}}\\dot{q}, \\xi_{\\mathbb{R}^3})$. The nonholonomic equations of motion state that the acceleration $\\nabla_{\\dot{q}}\\dot{q}$ and the applied forces are related by $\\mathbb{P}(\\nabla_{\\dot{q}}\\dot{q} + \\mathbf{g}^{-1}\\mathrm{d}V) = 0$, where $\\mathbb{P}$ is the orthogonal projection onto $\\mathcal{D}$. This means that for any vector field $X \\in \\mathcal{D}$, we have $\\mathbf{g}(\\nabla_{\\dot{q}}\\dot{q} + \\mathbf{g}^{-1}\\mathrm{d}V, X) = 0$. Since $\\xi_{\\mathbb{R}^3}$ is in $\\mathcal{D}$, we can set $X = \\xi_{\\mathbb{R}^3}$, which yields:\n$$\n\\mathbf{g}(\\nabla_{\\dot{q}}\\dot{q}, \\xi_{\\mathbb{R}^3}) = -\\mathbf{g}(\\mathbf{g}^{-1}\\mathrm{d}V, \\xi_{\\mathbb{R}^3}) = -\\mathrm{d}V(\\xi_{\\mathbb{R}^3})\n$$\nThe term $-\\mathrm{d}V(\\xi_{\\mathbb{R}^3})$ is, by definition, $-\\mathcal{L}_{\\xi_{\\mathbb{R}^3}}V$, the negative of the Lie derivative of the potential along the symmetry generator.\n\n2) Verification of the Killing property of $\\xi_{\\mathbb{R}^{3}}$ for the metric $\\mathbf{g}$:\nA vector field $\\xi$ is a Killing field for a metric $\\mathbf{g}$ if the Lie derivative of the metric with respect to the vector field is zero, i.e., $\\mathcal{L}_{\\xi}\\mathbf{g} = 0$. In coordinates, the components of the Lie derivative are given by:\n$$\n(\\mathcal{L}_{\\xi}\\mathbf{g})_{ij} = \\xi^k \\frac{\\partial g_{ij}}{\\partial x^k} + g_{kj}\\frac{\\partial \\xi^k}{\\partial x^i} + g_{ik}\\frac{\\partial \\xi^k}{\\partial x^j}\n$$\nIn our case, $\\xi_{\\mathbb{R}^3}$ has components $(\\xi^x, \\xi^y, \\xi^z) = (0, 1, 0)$, and the metric $\\mathbf{g}$ has components $g_{xx}=a$, $g_{yy}=b$, $g_{zz}=c$, with all other components being zero. Since both the metric components and the vector field components are constant, all their partial derivatives are zero. Thus, $(\\mathcal{L}_{\\xi_{\\mathbb{R}^3}}\\mathbf{g})_{ij} = 0$ for all $i,j$. This confirms that $\\xi_{\\mathbb{R}^3}$ is a Killing field for $\\mathbf{g}$.\nThe implication of the Killing property is the simplification of the term $\\mathbf{g}(\\dot{q}, \\nabla_{\\dot{q}}\\xi_{\\mathbb{R}^3})$. The condition $\\mathcal{L}_{\\xi}\\mathbf{g}=0$ is equivalent to $\\mathbf{g}(\\nabla_U \\xi, V) + \\mathbf{g}(U, \\nabla_V \\xi) = 0$ for all vector fields $U,V$. Choosing $U=V=\\dot{q}$ gives $2\\mathbf{g}(\\nabla_{\\dot{q}}\\xi_{\\mathbb{R}^3}, \\dot{q}) = 0$. Therefore:\n$$\n\\mathbf{g}(\\dot{q}, \\nabla_{\\dot{q}}\\xi_{\\mathbb{R}^3}) = 0\n$$\n\n3) Verification of potential invariance along $\\xi_{\\mathbb{R}^{3}}$:\nThe potential $V$ is invariant along $\\xi_{\\mathbb{R}^3}$ if its Lie derivative is zero, i.e., $\\mathcal{L}_{\\xi_{\\mathbb{R}^3}}V = 0$. We compute this derivative:\n$$\n\\mathcal{L}_{\\xi_{\\mathbb{R}^3}}V = \\xi_{\\mathbb{R}^3}(V) = \\frac{\\partial}{\\partial y}(\\alpha\\,y) = \\alpha\n$$\nSince $\\alpha$ is a nonzero constant, $\\mathcal{L}_{\\xi_{\\mathbb{R}^3}}V = \\alpha \\neq 0$. The potential is not invariant under the symmetry action. This is the source of non-conservation of the momentum.\n\nHaving analyzed each component based on the prescribed workflow, we can now assemble the final nonholonomic momentum balance. The general equation for the rate of change of the momentum simplifies as follows:\n$$\n\\frac{\\mathrm{d}}{\\mathrm{d}t}J_{\\mathrm{gauge}} = \\mathbf{g}(\\nabla_{\\dot{q}}\\dot{q}, \\xi_{\\mathbb{R}^3}) + \\mathbf{g}(\\dot{q}, \\nabla_{\\dot{q}}\\xi_{\\mathbb{R}^3})\n$$\nFrom step 1 (using horizontality), we found $\\mathbf{g}(\\nabla_{\\dot{q}}\\dot{q}, \\xi_{\\mathbb{R}^3}) = -\\mathcal{L}_{\\xi_{\\mathbb{R}^3}}V$.\nFrom step 2 (using the Killing property), we found $\\mathbf{g}(\\dot{q}, \\nabla_{\\dot{q}}\\xi_{\\mathbb{R}^3}) = 0$.\nFrom step 3, we calculated $\\mathcal{L}_{\\xi_{\\mathbb{R}^3}}V = \\alpha$.\n\nSubstituting these results, we obtain the nonholonomic momentum equation for $J_{\\mathrm{gauge}}$:\n$$\n\\frac{\\mathrm{d}}{\\mathrm{d}t}J_{\\mathrm{gauge}} = -\\mathcal{L}_{\\xi_{\\mathbb{R}^3}}V + 0 = -\\alpha\n$$\nThis result can be verified directly from the Lagrange-d'Alembert equations. The equation for the $y$-coordinate is:\n$$\n\\frac{\\mathrm{d}}{\\mathrm{d}t}\\left(\\frac{\\partial L}{\\partial \\dot{y}}\\right) - \\frac{\\partial L}{\\partial y} = \\lambda \\mu_y\n$$\nwhere $L = \\frac{1}{2}(a\\dot{x}^2+b\\dot{y}^2+c\\dot{z}^2) - \\alpha y$ and $\\mu_y$ is the $y$-component of the constraint covector $\\mu = -y\\,\\mathrm{d}x + 0\\,\\mathrm{d}y + 1\\,\\mathrm{d}z$.\nWe have $\\frac{\\partial L}{\\partial \\dot{y}} = b\\dot{y} = J_{\\mathrm{gauge}}$, $\\frac{\\partial L}{\\partial y} = -\\alpha$, and $\\mu_y = 0$.\nThe equation becomes:\n$$\n\\frac{\\mathrm{d}}{\\mathrm{d}t}(J_{\\mathrm{gauge}}) - (-\\alpha) = \\lambda \\cdot 0\n$$\nThis gives the final expression for the time derivative of the gauge momentum:\n$$\n\\frac{\\mathrm{d}}{\\mathrm{d}t}J_{\\mathrm{gauge}} = -\\alpha\n$$\nThe non-conservation of $J_{\\mathrm{gauge}}$ is due solely to the lack of invariance of the potential energy under the symmetry group action.",
            "answer": "$$\\boxed{-\\alpha}$$"
        }
    ]
}