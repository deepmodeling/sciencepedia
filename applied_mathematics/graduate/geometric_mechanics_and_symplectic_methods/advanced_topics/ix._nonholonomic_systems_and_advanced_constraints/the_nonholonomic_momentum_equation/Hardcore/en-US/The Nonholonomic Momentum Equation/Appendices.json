{
    "hands_on_practices": [
        {
            "introduction": "We begin our hands-on exploration with a canonical example that lies at the heart of nonholonomic mechanics. This exercise  asks you to consider a simple particle in Euclidean space subject to a velocity constraint that is not integrable. By explicitly computing the Lie bracket of the constraint vector fields, you will first prove the nonholonomic nature of the constraint and then directly derive the resulting equation for the non-conserved momentum, linking the abstract geometric property of non-integrability to a tangible physical consequence.",
            "id": "3780670",
            "problem": "Consider the configuration manifold $Q=\\mathbb{R}^{3}$ with global Cartesian coordinates $(x,y,z)$ and the mechanical Lagrangian $L(q,\\dot{q})=\\tfrac{1}{2}\\left(\\dot{x}^{2}+\\dot{y}^{2}+\\dot{z}^{2}\\right)$ induced by the Euclidean metric. Impose the single nonholonomic velocity constraint given by the one-form $\\omega=dz-x\\,dy$, so that admissible velocities satisfy $\\omega(\\dot{q})=0$, i.e., $\\dot{z}-x\\,\\dot{y}=0$. \n\nTasks:\n1. Construct the constraint distribution $\\mathcal{D}\\subset TQ$ as the kernel of $\\omega$ and provide a global basis of vector fields $\\{X_{1},X_{2}\\}$ spanning $\\mathcal{D}$. Compute the Lie bracket $[X_{1},X_{2}]$ and use it to verify nonintegrability by showing that $[\\Gamma(\\mathcal{D}),\\Gamma(\\mathcal{D})]\\not\\subset\\Gamma(\\mathcal{D})$, where $\\Gamma(\\mathcal{D})$ denotes smooth sections of $\\mathcal{D}$. Your reasoning must begin from the definition of $\\mathcal{D}=\\ker\\omega$ and the definition of the Lie bracket of vector fields.\n2. Let the Lie group $G=\\mathbb{R}$ act on $Q$ by translations in the $z$-coordinate, with infinitesimal generator $\\xi_{Q}=\\partial/\\partial z$. Starting from the Lagrange–d’Alembert principle for linear velocity constraints and the definition of the mechanical momentum map $J$ associated to a Lie group action on a Riemannian manifold, derive the Nonholonomic Momentum Equation (NME) for this symmetry: compute the time derivative $\\tfrac{d}{dt}\\langle J,\\xi\\rangle$ and express it entirely in terms of $x$, $\\dot{x}$, and $\\dot{y}$. \n\nAnswer format requirement:\n- Provide the final answer as a single closed-form analytic expression for $\\tfrac{d}{dt}\\langle J,\\xi\\rangle$. No numerical rounding is required and no units are to be included in the final expression.",
            "solution": "The problem is divided into two parts. The first part requires an analysis of the nonholonomic constraint distribution, and the second requires the derivation of the nonholonomic momentum equation for a given symmetry.\n\n**Part 1: Constraint Distribution and Nonintegrability**\n\nThe configuration manifold is $Q = \\mathbb{R}^{3}$ with coordinates $q = (x, y, z)$. The nonholonomic constraint is given by the one-form $\\omega = dz - x\\,dy$. An admissible velocity vector $\\dot{q} = (\\dot{x}, \\dot{y}, \\dot{z}) \\in T_q Q$ must satisfy the linear constraint equation $\\omega_q(\\dot{q}) = 0$. In coordinates, this is $\\dot{z} - x\\dot{y} = 0$.\n\nThe constraint distribution $\\mathcal{D}$ is a subbundle of the tangent bundle $TQ$ defined by $\\mathcal{D} = \\bigcup_{q \\in Q} \\mathcal{D}_q$, where $\\mathcal{D}_q = \\ker(\\omega_q) = \\{ v \\in T_q Q \\mid \\omega_q(v) = 0 \\}$. For an arbitrary vector field $V = V^{x}\\frac{\\partial}{\\partial x} + V^{y}\\frac{\\partial}{\\partial y} + V^{z}\\frac{\\partial}{\\partial z}$, the condition $\\omega(V)=0$ translates to $V^{z} - xV^{y} = 0$, or $V^{z} = xV^{y}$.\nThis indicates that any vector field in $\\Gamma(\\mathcal{D})$ (the space of smooth sections of $\\mathcal{D}$) can be written as a linear combination of two basis vector fields. We can construct a global basis for $\\mathcal{D}$ by choosing linearly independent values for the components $V^{x}$ and $V^{y}$.\nA natural choice is:\n$1$. Let $V^{x} = 1$ and $V^{y} = 0$. This implies $V^{z} = x(0) = 0$. This gives the vector field $X_1 = \\frac{\\partial}{\\partial x}$.\n$2$. Let $V^{x} = 0$ and $V^{y} = 1$. This implies $V^{z} = x(1) = x$. This gives the vector field $X_2 = \\frac{\\partial}{\\partial y} + x\\frac{\\partial}{\\partial z}$.\nThe set $\\{X_1, X_2\\}$ forms a global basis for the distribution $\\mathcal{D}$.\n\nTo verify the nonintegrability of the distribution $\\mathcal{D}$, we use the Frobenius theorem. The distribution is integrable if and only if the set of its sections $\\Gamma(\\mathcal{D})$ is closed under the Lie bracket operation, i.e., for any $Y_1, Y_2 \\in \\Gamma(\\mathcal{D})$, their Lie bracket $[Y_1, Y_2]$ is also in $\\Gamma(\\mathcal{D})$. We compute the Lie bracket of our basis vector fields, $[X_1, X_2]$.\nThe Lie bracket of two vector fields $X$ and $Y$ is defined by $[X,Y](f) = X(Y(f)) - Y(X(f))$ for any smooth function $f: Q \\to \\mathbb{R}$.\nLet's compute $[X_1, X_2]$:\n$X_1 = \\frac{\\partial}{\\partial x}$ and $X_2 = \\frac{\\partial}{\\partial y} + x\\frac{\\partial}{\\partial z}$.\n$$\n[X_1, X_2] = \\left[\\frac{\\partial}{\\partial x}, \\frac{\\partial}{\\partial y} + x\\frac{\\partial}{\\partial z}\\right] = \\left[\\frac{\\partial}{\\partial x}, \\frac{\\partial}{\\partial y}\\right] + \\left[\\frac{\\partial}{\\partial x}, x\\frac{\\partial}{\\partial z}\\right]\n$$\nThe first term is zero since partial derivatives commute: $\\left[\\frac{\\partial}{\\partial x}, \\frac{\\partial}{\\partial y}\\right] = 0$.\nFor the second term, we apply it to a test function $f(x,y,z)$:\n$$\n\\left[\\frac{\\partial}{\\partial x}, x\\frac{\\partial}{\\partial z}\\right](f) = \\frac{\\partial}{\\partial x}\\left(x\\frac{\\partial f}{\\partial z}\\right) - x\\frac{\\partial}{\\partial z}\\left(\\frac{\\partial f}{\\partial x}\\right) = \\left(1 \\cdot \\frac{\\partial f}{\\partial z} + x\\frac{\\partial^2 f}{\\partial x \\partial z}\\right) - x\\frac{\\partial^2 f}{\\partial z \\partial x} = \\frac{\\partial f}{\\partial z}\n$$\nThus, the Lie bracket is $[X_1, X_2] = \\frac{\\partial}{\\partial z}$.\n\nNow we must check if this resulting vector field lies in the distribution $\\mathcal{D}$. A vector field $V$ is in $\\Gamma(\\mathcal{D})$ if $\\omega(V) = 0$. Let's apply $\\omega$ to $[X_1, X_2]$:\n$$\n\\omega([X_1, X_2]) = \\omega\\left(\\frac{\\partial}{\\partial z}\\right) = (dz - x\\,dy)\\left(\\frac{\\partial}{\\partial z}\\right) = dz\\left(\\frac{\\partial}{\\partial z}\\right) - x\\,dy\\left(\\frac{\\partial}{\\partial z}\\right) = 1 - x \\cdot 0 = 1\n$$\nSince $\\omega([X_1, X_2]) = 1 \\neq 0$, the vector field $[X_1, X_2]$ is not a section of $\\mathcal{D}$. This shows that $[\\Gamma(\\mathcal{D}), \\Gamma(\\mathcal{D})] \\not\\subset \\Gamma(\\mathcal{D})$, and by the Frobenius theorem, the distribution $\\mathcal{D}$ is nonintegrable. The constraint is nonholonomic.\n\n**Part 2: Nonholonomic Momentum Equation (NME)**\n\nThe system is described by the Lagrangian $L = \\frac{1}{2}(\\dot{x}^2 + \\dot{y}^2 + \\dot{z}^2)$ subject to the constraint $\\dot{z} - x\\dot{y} = 0$. The dynamics are governed by the Lagrange-d'Alembert principle. For a system with constraints given by one-forms $\\omega^a$, the equations of motion are\n$$\n\\frac{d}{dt}\\frac{\\partial L}{\\partial \\dot{q}^i} - \\frac{\\partial L}{\\partial q^i} = \\sum_a \\lambda_a \\omega^a_i\n$$\nIn our case, there is a single constraint, so we have a single Lagrange multiplier $\\lambda$. The components of the constraint one-form $\\omega = dz - x\\,dy$ are $\\omega_x = 0$, $\\omega_y = -x$, and $\\omega_z = 1$. The Lagrangian derivatives are $\\frac{\\partial L}{\\partial \\dot{q}} = (\\dot{x}, \\dot{y}, \\dot{z})$ and $\\frac{\\partial L}{\\partial q} = (0, 0, 0)$.\nThe equations of motion are:\n\\begin{align*}\n\\ddot{x} &= \\lambda \\omega_x = 0 \\\\\n\\ddot{y} &= \\lambda \\omega_y = -\\lambda x \\\\\n\\ddot{z} &= \\lambda \\omega_z = \\lambda\n\\end{align*}\nTo find the multiplier $\\lambda$, we differentiate the constraint equation $\\dot{z} - x\\dot{y} = 0$ with respect to time:\n$$\n\\ddot{z} - \\dot{x}\\dot{y} - x\\ddot{y} = 0\n$$\nSubstituting the expressions for $\\ddot{y}$ and $\\ddot{z}$ from the equations of motion:\n$$\n\\lambda - \\dot{x}\\dot{y} - x(-\\lambda x) = 0 \\implies \\lambda - \\dot{x}\\dot{y} + \\lambda x^2 = 0 \\implies \\lambda(1+x^2) = \\dot{x}\\dot{y}\n$$\nSolving for $\\lambda$ gives:\n$$\n\\lambda = \\frac{\\dot{x}\\dot{y}}{1+x^2}\n$$\nThe problem specifies a symmetry group $G=\\mathbb{R}$ acting by translation in the $z$-coordinate: $(x,y,z) \\mapsto (x,y,z+s)$. The infinitesimal generator of this action on $Q$ is the vector field $\\xi_Q = \\frac{\\partial}{\\partial z}$. The mechanical momentum map $J: TQ \\to \\mathfrak{g}^*$ is defined by its pairing with an element $\\xi \\in \\mathfrak{g}$, which we take to be the basis element $1 \\in \\mathbb{R}$. The corresponding conserved momentum in the unconstrained case is $p_z = \\langle J, \\xi \\rangle = \\frac{\\partial L}{\\partial \\dot{q}} \\cdot \\xi_Q$.\n$$\np_z = \\left(\\frac{\\partial L}{\\partial \\dot{x}}, \\frac{\\partial L}{\\partial \\dot{y}}, \\frac{\\partial L}{\\partial \\dot{z}}\\right) \\cdot \\left(0, 0, 1\\right) = \\frac{\\partial L}{\\partial \\dot{z}} = \\dot{z}\n$$\nThe Nonholonomic Momentum Equation (NME) describes the time evolution of this quantity. We need to compute its time derivative, $\\frac{d}{dt}\\langle J, \\xi \\rangle = \\frac{dp_z}{dt} = \\ddot{z}$.\nFrom the equations of motion derived earlier, we have $\\ddot{z} = \\lambda$.\nSubstituting the expression we found for $\\lambda$:\n$$\n\\frac{d}{dt}\\langle J, \\xi \\rangle = \\ddot{z} = \\lambda = \\frac{\\dot{x}\\dot{y}}{1+x^2}\n$$\nThis expression gives the rate of change of the momentum associated with the $z$-translation symmetry entirely in terms of the state variables $x$, $\\dot{x}$, and $\\dot{y}$, as requested. The non-zero value of this derivative shows that the momentum $p_z$ is not conserved, which is a hallmark of nonholonomic systems with symmetry.",
            "answer": "$$\n\\boxed{\\frac{\\dot{x}\\dot{y}}{1+x^{2}}}\n$$"
        },
        {
            "introduction": "Building on the foundational concepts, this next practice  shifts our focus to a more complex and physically intuitive system, akin to a rolling wheel. The problem investigates how planar translation symmetries behave under rolling-without-slipping constraints. By deriving the evolution of the associated momentum, you will see how its rate of change elegantly separates into terms reflecting the object's angular acceleration and a purely geometric term arising from the coupling between rolling and turning, a hallmark of nonholonomic dynamics.",
            "id": "3780713",
            "problem": "Consider a free mechanical system with configuration manifold described by coordinates $(x,y,\\theta,\\phi)$, where $(x,y)$ are planar coordinates, $\\theta$ is an in-plane orientation angle, and $\\phi$ is a rotation parameter. The Lagrangian is the standard kinetic energy\n$$\nL(x,y,\\theta,\\phi,\\dot{x},\\dot{y},\\dot{\\theta},\\dot{\\phi})=\\frac{1}{2}m\\left(\\dot{x}^{2}+\\dot{y}^{2}\\right)+\\frac{1}{2}I_{\\theta}\\,\\dot{\\theta}^{2}+\\frac{1}{2}I_{\\phi}\\,\\dot{\\phi}^{2},\n$$\nwith constant positive parameters $m$, $I_{\\theta}$, and $I_{\\phi}$. The motion is subject to nonholonomic Pfaffian constraints\n$$\ndx - R\\cos\\theta\\,d\\phi=0,\\qquad dy - R\\sin\\theta\\,d\\phi=0,\n$$\nequivalently, at the velocity level,\n$$\n\\dot{x}=R\\cos\\theta\\,\\dot{\\phi},\\qquad \\dot{y}=R\\sin\\theta\\,\\dot{\\phi},\n$$\nwith $R>0$ constant. Let the planar translation group $\\mathbb{R}^{2}$ act by $(x,y)\\mapsto (x+a,y+b)$, and let $\\xi=(\\xi_{x},\\xi_{y})\\in\\mathbb{R}^{2}$ generate infinitesimal translations via the vector field\n$$\n\\xi_{Q}(x,y,\\theta,\\phi)=\\xi_{x}\\,\\frac{\\partial}{\\partial x}+\\xi_{y}\\,\\frac{\\partial}{\\partial y}.\n$$\nDefine the momentum pairing $J_{\\xi}(q,\\dot{q})$ associated to $\\xi$ by the standard Legendre transform pairing $J_{\\xi}=\\left\\langle \\frac{\\partial L}{\\partial \\dot{q}},\\,\\xi_{Q}(q)\\right\\rangle$, where $q=(x,y,\\theta,\\phi)$ and $\\dot{q}=(\\dot{x},\\dot{y},\\dot{\\theta},\\dot{\\phi})$.\n\nStarting from the Lagrange–d’Alembert principle and the definition of the momentum pairing under symmetry, derive the expression for $J_{\\xi}$ in these coordinates and evaluate its time derivative $\\dot{J}_{\\xi}$ along an arbitrary constrained trajectory obeying the given nonholonomic constraints. Express your final answer as a single closed-form analytic expression in terms of $m$, $R$, $\\theta$, $\\phi$, $\\dot{\\theta}$, $\\dot{\\phi}$, $\\ddot{\\phi}$, and the components $\\xi_{x}$ and $\\xi_{y}$. No numerical evaluation is required.",
            "solution": "The system is free and mechanical with Lagrangian\n$$\nL=\\frac{1}{2}m\\left(\\dot{x}^{2}+\\dot{y}^{2}\\right)+\\frac{1}{2}I_{\\theta}\\,\\dot{\\theta}^{2}+\\frac{1}{2}I_{\\phi}\\,\\dot{\\phi}^{2}.\n$$\nBy the Legendre transform, the canonical momenta are\n$$\np_{x}=\\frac{\\partial L}{\\partial \\dot{x}}=m\\,\\dot{x},\\qquad p_{y}=\\frac{\\partial L}{\\partial \\dot{y}}=m\\,\\dot{y},\\qquad p_{\\theta}=\\frac{\\partial L}{\\partial \\dot{\\theta}}=I_{\\theta}\\,\\dot{\\theta},\\qquad p_{\\phi}=\\frac{\\partial L}{\\partial \\dot{\\phi}}=I_{\\phi}\\,\\dot{\\phi}.\n$$\nFor the symmetry generated by planar translations, the infinitesimal generator is\n$$\n\\xi_{Q}=\\xi_{x}\\,\\frac{\\partial}{\\partial x}+\\xi_{y}\\,\\frac{\\partial}{\\partial y}.\n$$\nThe momentum pairing associated with $\\xi$ is defined by\n$$\nJ_{\\xi}(q,\\dot{q})=\\left\\langle \\frac{\\partial L}{\\partial \\dot{q}},\\,\\xi_{Q}(q)\\right\\rangle=\\xi_{x}\\,p_{x}+\\xi_{y}\\,p_{y}=\\xi_{x}\\,m\\,\\dot{x}+\\xi_{y}\\,m\\,\\dot{y}.\n$$\nAlong admissible motions, the nonholonomic constraints at the velocity level impose\n$$\n\\dot{x}=R\\cos\\theta\\,\\dot{\\phi},\\qquad \\dot{y}=R\\sin\\theta\\,\\dot{\\phi}.\n$$\nSubstituting these into the expression for $J_{\\xi}$ gives\n$$\nJ_{\\xi}=m\\left(\\xi_{x}\\,R\\cos\\theta\\,\\dot{\\phi}+\\xi_{y}\\,R\\sin\\theta\\,\\dot{\\phi}\\right)\n= m R \\dot{\\phi}\\left(\\xi_{x}\\cos\\theta+\\xi_{y}\\sin\\theta\\right).\n$$\nWe now evaluate the time derivative $\\dot{J}_{\\xi}$ along any curve that satisfies the constraints. Differentiate $J_{\\xi}$:\n\\begin{align*}\n\\dot{J}_{\\xi}\n&= m R \\left[\\ddot{\\phi}\\left(\\xi_{x}\\cos\\theta+\\xi_{y}\\sin\\theta\\right)+\\dot{\\phi}\\,\\frac{d}{dt}\\left(\\xi_{x}\\cos\\theta+\\xi_{y}\\sin\\theta\\right)\\right].\n\\end{align*}\nSince $\\xi_{x}$ and $\\xi_{y}$ are constants (they are fixed components of the generator), we have\n$$\n\\frac{d}{dt}\\left(\\xi_{x}\\cos\\theta+\\xi_{y}\\sin\\theta\\right)\n= \\xi_{x}\\left(-\\sin\\theta\\,\\dot{\\theta}\\right)+\\xi_{y}\\left(\\cos\\theta\\,\\dot{\\theta}\\right)\n= \\left(-\\xi_{x}\\sin\\theta+\\xi_{y}\\cos\\theta\\right)\\dot{\\theta}.\n$$\nTherefore,\n\\begin{align*}\n\\dot{J}_{\\xi}\n&= m R \\left[\\ddot{\\phi}\\left(\\xi_{x}\\cos\\theta+\\xi_{y}\\sin\\theta\\right)+\\dot{\\phi}\\left(-\\xi_{x}\\sin\\theta+\\xi_{y}\\cos\\theta\\right)\\dot{\\theta}\\right].\n\\end{align*}\nThis expression is valid along any constrained trajectory, independent of the detailed form of the reaction forces, as it follows from the kinematic constraints and the definition of the momentum pairing associated to the translation symmetry via the Legendre transform.\n\nIt is often illuminating to note that the first term $m R \\left(\\xi_{x}\\cos\\theta+\\xi_{y}\\sin\\theta\\right)\\ddot{\\phi}$ reflects changes in the speed of rolling along the body axis aligned with $(\\cos\\theta,\\sin\\theta)$, while the second term $m R \\left(-\\xi_{x}\\sin\\theta+\\xi_{y}\\cos\\theta\\right)\\dot{\\theta}\\dot{\\phi}$ is a geometric coupling induced by the change in orientation $\\dot{\\theta}$, which can be interpreted in terms of the curvature of the nonholonomic connection associated with the constraints. However, the derivation above requires only the Lagrange–d’Alembert framework, the symmetry generator, and the constraints.",
            "answer": "$$\\boxed{m R \\left[\\left(\\xi_{x}\\cos\\theta+\\xi_{y}\\sin\\theta\\right)\\ddot{\\phi}+\\left(-\\xi_{x}\\sin\\theta+\\xi_{y}\\cos\\theta\\right)\\dot{\\theta}\\,\\dot{\\phi}\\right]}$$"
        },
        {
            "introduction": "To deepen our understanding, it is essential to explore not only when momentum is lost but also the specific conditions under which it might be conserved, even within a nonholonomic framework. This problem  presents a carefully constructed scenario involving a non-Euclidean kinetic energy and a specific symmetry. By analyzing the geometry of the system—specifically, whether the symmetry generator is a Killing field and how it relates to the constraint distribution—you will uncover a situation where a component of momentum is perfectly conserved, revealing the subtle geometric underpinnings of the nonholonomic momentum equation.",
            "id": "3780645",
            "problem": "Consider the mechanical system with configuration manifold $Q=\\mathbb{R}^{2}$ and global coordinates $q=(x,y)$. The kinetic energy is determined by a Riemannian metric $g$ whose matrix in the coordinate basis $\\{\\partial_{x},\\partial_{y}\\}$ is\n$$\nM(q)=\\begin{pmatrix}\n1 & x \\\\\nx & 1+x^{2}\n\\end{pmatrix},\n$$\nso that the Lagrangian is $L(q,\\dot{q})=\\tfrac{1}{2}\\,g_{ij}(q)\\,\\dot{q}^{i}\\dot{q}^{j}-V(x)$ with a potential $V$ that depends only on $x$. Impose the nonholonomic constraint given by the linear velocity one-form $\\omega=\\mathrm{d}x$, i.e., admissible velocities satisfy $\\dot{x}=0$. Let the symmetry generator be the infinitesimal generator of translations in $y$, namely $\\xi_{Q}(q)=\\partial_{y}$.\n\nUsing only fundamental definitions of the Lie derivative of a tensor field and the Lagrange–d’Alembert principle for nonholonomic systems of mechanical type, perform the following tasks:\n\n1. Evaluate the Lie derivative $\\mathcal{L}_{\\xi_{Q}}g$ and verify whether the Killing condition $\\mathcal{L}_{\\xi_{Q}}g=0$ holds.\n2. Define the constrained (nonholonomic) momentum associated with $\\xi_{Q}$ by $J^{\\mathrm{nh}}_{\\xi}(q,\\dot{q})=g_{q}\\big(\\dot{q},\\mathcal{P}_{\\mathcal{D}}(q)\\xi_{Q}(q)\\big)$, where $\\mathcal{D}=\\ker\\omega\\subset TQ$ is the constraint distribution and $\\mathcal{P}_{\\mathcal{D}}(q):T_{q}Q\\to\\mathcal{D}_{q}$ is the $g$-orthogonal projector. Using the Lagrange–d’Alembert equations, derive an explicit expression for $\\dfrac{\\mathrm{d}}{\\mathrm{d}t}J^{\\mathrm{nh}}_{\\xi}$ along solutions satisfying the constraint $\\dot{x}=0$, and simplify your result by exploiting the outcome of Part 1 and the $y$-invariance of the potential $V$.\n3. Provide the final simplified expression for $\\dfrac{\\mathrm{d}}{\\mathrm{d}t}J^{\\mathrm{nh}}_{\\xi}$ as a single closed-form analytic expression in terms of the system variables and parameters.\n\nExpress your final answer as a single analytic expression. No units are required. If any numerical approximation is needed, round to four significant figures; however, the problem is designed to admit an exact expression.",
            "solution": "**Part 1: Lie Derivative of the Metric**\n\nThe Lie derivative of a $(0,2)$ tensor field $g$ with components $g_{ij}$ along a vector field $\\xi$ with components $\\xi^k$ is given in local coordinates by:\n$$\n(\\mathcal{L}_{\\xi}g)_{ij} = \\xi^k \\frac{\\partial g_{ij}}{\\partial q^k} + g_{kj} \\frac{\\partial \\xi^k}{\\partial q^i} + g_{ik} \\frac{\\partial \\xi^k}{\\partial q^j}\n$$\nIn this problem, the coordinates are $q^1=x, q^2=y$, and the symmetry generator is $\\xi_Q = \\partial_y$. The components of this vector field are $\\xi^1=0$ and $\\xi^2=1$. Since these components are constant, all their partial derivatives are zero: $\\frac{\\partial \\xi^k}{\\partial q^i} = 0$ for all $i,k \\in \\{1,2\\}$. The formula for the Lie derivative simplifies to:\n$$\n(\\mathcal{L}_{\\xi_Q}g)_{ij} = \\xi^k \\frac{\\partial g_{ij}}{\\partial q^k} = \\xi^1 \\frac{\\partial g_{ij}}{\\partial x} + \\xi^2 \\frac{\\partial g_{ij}}{\\partial y} = 0 \\cdot \\frac{\\partial g_{ij}}{\\partial x} + 1 \\cdot \\frac{\\partial g_{ij}}{\\partial y} = \\frac{\\partial g_{ij}}{\\partial y}\n$$\nThe components of the metric tensor are given by the matrix $M(q)$:\n$g_{11}(x,y) = 1$\n$g_{12}(x,y) = x$\n$g_{21}(x,y) = x$\n$g_{22}(x,y) = 1+x^2$\n\nNone of these components depend on the coordinate $y$. Therefore, their partial derivatives with respect to $y$ are all zero:\n$$\n\\frac{\\partial g_{ij}}{\\partial y} = 0 \\quad \\text{for all } i,j \\in \\{1,2\\}\n$$\nThis implies that $(\\mathcal{L}_{\\xi_Q}g)_{ij} = 0$ for all $i,j$. In other words, $\\mathcal{L}_{\\xi_Q}g=0$. The Killing condition holds, which means that the symmetry generated by $\\xi_Q$ (translation in the $y$-direction) is an isometry of the metric $g$.\n\n**Part 2: Derivation of the Rate of Change of Nonholonomic Momentum**\n\nWe first construct the nonholonomic momentum $J^{\\mathrm{nh}}_{\\xi}$. This requires finding the orthogonal projection $\\mathcal{P}_{\\mathcal{D}}(q)\\xi_{Q}(q)$.\n\nThe constraint one-form is $\\omega = \\mathrm{d}x$. The constraint distribution $\\mathcal{D}_q = \\ker(\\omega_q)$ consists of tangent vectors $v = v^1 \\partial_x + v^2 \\partial_y \\in T_qQ$ such that $\\omega_q(v) = (\\mathrm{d}x)(v) = v^1 = 0$. Thus, the constraint distribution is spanned by $\\partial_y$: $\\mathcal{D}_q = \\mathrm{span}\\{\\partial_y\\}$.\n\nThe symmetry generator is $\\xi_Q = \\partial_y$. Since $\\xi_Q$ is a basis vector for the distribution $\\mathcal{D}_q$, it is already an element of $\\mathcal{D}_q$. The projection of a vector already in a subspace onto that same subspace is the vector itself. Therefore,\n$$\n\\mathcal{P}_{\\mathcal{D}}(q)\\xi_{Q}(q) = \\xi_Q(q) = \\partial_y\n$$\nNow we can evaluate the nonholonomic momentum:\n$$\nJ^{\\mathrm{nh}}_{\\xi}(q,\\dot{q}) = g_{q}\\big(\\dot{q},\\mathcal{P}_{\\mathcal{D}}(q)\\xi_{Q}(q)\\big) = g_q(\\dot{q}, \\xi_Q)\n$$\nIn coordinates, with $\\dot{q} = \\dot{x}\\partial_x + \\dot{y}\\partial_y$ and $\\xi_Q = \\partial_y$ (components $\\xi^1=0, \\xi^2=1$), this is:\n$$\nJ^{\\mathrm{nh}}_{\\xi} = g_{ij}\\dot{q}^i\\xi^j = g_{i2}\\dot{q}^i = g_{12}\\dot{x} + g_{22}\\dot{y} = x\\dot{x} + (1+x^2)\\dot{y}\n$$\nNext, we use the Lagrange-d'Alembert equations. For a mechanical system with Lagrangian $L(q, \\dot{q})$ and constraints $\\omega^a_i(q)\\dot{q}^i=0$, the equations are:\n$$\n\\frac{\\mathrm{d}}{\\mathrm{d}t}\\left(\\frac{\\partial L}{\\partial \\dot{q}^i}\\right) - \\frac{\\partial L}{\\partial q^i} = \\lambda_a \\omega^a_i(q)\n$$\nIn our case, there is one constraint $\\dot{x}=0$, so $\\omega^1 = \\mathrm{d}x$, which has components $\\omega_1=1$ and $\\omega_2=0$. The equations of motion are:\n1. ($i=1$, for $x$): $\\dfrac{\\mathrm{d}}{\\mathrm{d}t}\\left(\\dfrac{\\partial L}{\\partial \\dot{x}}\\right) - \\dfrac{\\partial L}{\\partial x} = \\lambda$\n2. ($i=2$, for $y$): $\\dfrac{\\mathrm{d}}{\\mathrm{d}t}\\left(\\dfrac{\\partial L}{\\partial \\dot{y}}\\right) - \\dfrac{\\partial L}{\\partial y} = 0$\n\nWe focus on the second equation. The partial derivatives of the Lagrangian $L = \\frac{1}{2}(\\dot{x}^2 + 2x\\dot{x}\\dot{y} + (1+x^2)\\dot{y}^2) - V(x)$ are:\n$$\n\\frac{\\partial L}{\\partial \\dot{y}} = \\frac{1}{2}(2x\\dot{x} + 2(1+x^2)\\dot{y}) = x\\dot{x} + (1+x^2)\\dot{y}\n$$\n$$\n\\frac{\\partial L}{\\partial y} = 0\n$$\nThe derivative $\\frac{\\partial L}{\\partial y}$ is zero because neither the metric components $g_{ij}$ nor the potential $V(x)$ depend on $y$. The former is the result verified in Part 1 ($\\mathcal{L}_{\\partial_y} g = 0$), and the latter is given in the problem statement.\n\nSubstituting these into the $y$-equation of motion, we get:\n$$\n\\frac{\\mathrm{d}}{\\mathrm{d}t}\\left( x\\dot{x} + (1+x^2)\\dot{y} \\right) - 0 = 0\n$$\nWe observe that the term inside the time derivative is precisely the expression for the nonholonomic momentum we derived:\n$$\nJ^{\\mathrm{nh}}_{\\xi} = x\\dot{x} + (1+x^2)\\dot{y}\n$$\nTherefore, the $y$-component of the Lagrange-d'Alembert equations directly states that the time derivative of the nonholonomic momentum is zero for any valid trajectory of the system.\n$$\n\\frac{\\mathrm{d}}{\\mathrm{d}t}J^{\\mathrm{nh}}_{\\xi} = 0\n$$\nThis result holds for any solution $(x(t), y(t))$ that satisfies the full equations of motion and the constraint $\\dot{x}=0$.\n\n**Part 3: Final Simplified Expression**\n\nThe expression for the time derivative of the nonholonomic momentum along the solutions is derived directly from the equations of motion. As shown in Part 2, the expression is:\n$$\n\\frac{\\mathrm{d}}{\\mathrm{d}t}J^{\\mathrm{nh}}_{\\xi} = 0\n$$\nThis result is already in its simplest form. The conservation of $J^{\\mathrm{nh}}_{\\xi}$ is a consequence of the fact that the symmetry generator $\\xi_Q = \\partial_y$ (a) is a Killing field for the metric $g$ (Part 1), (b) leaves the potential $V$ invariant, and (c) has no component in the direction of the constraint force, since $F_\\text{constraint} = \\lambda \\mathrm{d}x$ and $\\langle \\lambda \\mathrm{d}x, \\partial_y \\rangle = 0$.",
            "answer": "$$\\boxed{0}$$"
        }
    ]
}