{
    "hands_on_practices": [
        {
            "introduction": "在分析非完整系统时，第一步是理解其约束的性质。这些约束通常以1-形式给出，它们会湮灭所有允许的切向量。这个练习  提供了将约束分布的抽象定义转化为具体矩阵问题的实践。通过求解约束系数矩阵的零空间，你将确定允许运动空间的维度（或秩）。",
            "id": "3766099",
            "problem": "考虑一个非完整运动系统，其模型建立在位形流形 $Q=\\mathrm{SE}(2)\\times \\mathbb{R}^{2}$ 上，其中 $\\mathrm{SE}(2)$ 表示二维特殊欧几里得群 (SE(2))。在 $Q$ 上使用局部坐标 $(x,y,\\theta,s_{1},s_{2})$，其中 $(x,y)\\in\\mathbb{R}^{2}$ 是平面位置坐标，$\\theta\\in\\mathbb{R}$ 是以弧度为单位的方向角，$(s_{1},s_{2})\\in\\mathbb{R}^{2}$ 是内部形状变量。\n\n假设该系统受到以下理想化的非完整约束，这些约束由普法夫 (Pfaffian) $1$-形式给出：\n$$\n\\omega^{1}=-\\sin(\\theta)\\,dx+\\cos(\\theta)\\,dy,\n\\qquad\n\\omega^{2}=d\\theta - s_{1}\\,ds_{1}- 2 s_{2}\\,ds_{2}.\n$$\n这些约束定义了约束分布\n$$\n\\mathcal{D}(q)=\\{v\\in T_{q}Q\\mid \\omega^{\\alpha}(v)=0 \\text{ for }\\alpha=1,2\\},\n$$\n它可以被解释为主丛 $Q=\\mathrm{SE}(2)\\times M$ 中，形状空间 $M=\\mathbb{R}^{2}$ 上的一个非完整联络的水平分布。\n\n从约束分布是约束 $1$-形式的公共核这一定义出发，推导 $\\mathcal{D}(q)$ 的坐标实现，即一个作用于速度坐标的系数矩阵的零空间。然后，利用线性代数的基本原理，验证约束 $1$-形式的秩，并推导出在特定位形下 $\\mathcal{D}(q)$ 的秩\n$$\nq^{\\ast}=(x^{\\ast},y^{\\ast},\\theta^{\\ast},s_{1}^{\\ast},s_{2}^{\\ast})=(0,1,\\tfrac{\\pi}{4},1,-1).\n$$\n\n您的最终答案必须是 $\\mathcal{D}(q^{\\ast})$ 的秩，表示为一个不带单位的整数。",
            "solution": "该问题在几何力学领域内提法得当且具有科学依据。我们可以开始求解。\n\n该系统的位形流形是 $Q=\\mathrm{SE}(2)\\times \\mathbb{R}^{2}$，这是一个 $5$ 维流形。局部坐标由 $q = (x, y, \\theta, s_{1}, s_{2})$ 给出。在点 $q \\in Q$ 的一个切向量 $v \\in T_{q}Q$ 可以在这些坐标中由其速度分量表示，我们用列向量 $\\dot{q}$ 表示：\n$$\n\\dot{q} = \\begin{pmatrix} \\dot{x} \\\\ \\dot{y} \\\\ \\dot{\\theta} \\\\ \\dot{s}_{1} \\\\ \\dot{s}_{2} \\end{pmatrix} \\in \\mathbb{R}^{5}\n$$\n该系统受到两个非完整约束，由普法夫 (Pfaffian) $1$-形式给出：\n$$\n\\begin{align*}\n\\omega^{1} = -\\sin(\\theta)\\,dx+\\cos(\\theta)\\,dy \\\\\n\\omega^{2} = d\\theta - s_{1}\\,ds_{1} - 2s_{2}\\,ds_{2}\n\\end{align*}\n$$\n约束分布 $\\mathcal{D}(q)$ 定义为所有被两个约束形式零化的切向量 $v \\in T_{q}Q$ 的集合。也就是说，$v \\in \\mathcal{D}(q)$ 当且仅当 $\\omega^{1}(v)=0$ 且 $\\omega^{2}(v)=0$。将这些 $1$-形式应用于具有速度分量 $\\dot{q}$ 的切向量，可以得到一个关于这些分量的两个线性方程组：\n$$\n\\begin{align*}\n\\omega^{1}(v) = -\\sin(\\theta)\\dot{x} + \\cos(\\theta)\\dot{y} + 0\\cdot\\dot{\\theta} + 0\\cdot\\dot{s}_{1} + 0\\cdot\\dot{s}_{2} = 0 \\\\\n\\omega^{2}(v) = 0\\cdot\\dot{x} + 0\\cdot\\dot{y} + 1\\cdot\\dot{\\theta} - s_{1}\\dot{s}_{1} - 2s_{2}\\dot{s}_{2} = 0\n\\end{align*}\n$$\n这个方程组可以写成矩阵形式 $A(q)\\dot{q}=0$，其中 $A(q)$ 是由 $1$-形式在坐标基 $\\{dx, dy, d\\theta, ds_{1}, ds_{2}\\}$ 中的系数导出的系数矩阵。这提供了 $\\mathcal{D}(q)$ 作为 $A(q)$ 的零空间（或核）的坐标实现：\n$$\nA(q) = \\begin{pmatrix}\n-\\sin(\\theta)  \\cos(\\theta)  0  0  0 \\\\\n0  0  1  -s_{1}  -2s_{2}\n\\end{pmatrix}\n$$\n分布 $\\mathcal{D}(q)$ 正是这个 $2 \\times 5$ 矩阵的零空间：$\\mathcal{D}(q) = \\ker(A(q))$。\n\n下一步是确定约束 $1$-形式集合的秩，这等价于矩阵 $A(q)$ 的秩。矩阵的秩是线性无关的行（或列）的数量。$A(q)$ 的两个行向量是：\n$$\n\\begin{align*}\n\\mathbf{r}_1 = \\begin{pmatrix} -\\sin(\\theta)  \\cos(\\theta)  0  0  0 \\end{pmatrix} \\\\\n\\mathbf{r}_2 = \\begin{pmatrix} 0  0  1  -s_{1}  -2s_{2} \\end{pmatrix}\n\\end{align*}\n$$\n要使这两个向量线性相关，其中一个必须是另一个的标量倍。我们假设存在某个标量 $c \\in \\mathbb{R}$，使得 $\\mathbf{r}_2 = c \\cdot \\mathbf{r}_1$。比较第三个分量，我们得到 $1 = c \\cdot 0$，这是一个矛盾。因此，$\\mathbf{r}_2$ 不可能是 $\\mathbf{r}_1$ 的倍数。类似地，假设 $\\mathbf{r}_1 = c \\cdot \\mathbf{r}_2$ 也会导致矛盾，因为 $\\sin(\\theta)$ 和 $\\cos(\\theta)$ 不能同时为零，而 $\\mathbf{r}_2$ 的前两个分量都为零。因此，对于所有的 $q \\in Q$，这两行都是线性无关的。\n这验证了约束 $1$-形式集合的秩，即 $\\mathrm{rank}(A(q))$，对于任何位形 $q$（包括特定位形 $q^{\\ast}$）都为 $2$。\n\n分布 $\\mathcal{D}(q)$ 的秩是它作为切空间 $T_q Q$ 的向量子空间的维数。根据线性代数中的秩-零度定理，对于由 $A(q):T_q Q \\rightarrow \\mathbb{R}^2$ 表示的线性映射，我们有：\n$$\n\\dim(T_q Q) = \\mathrm{rank}(A(q)) + \\mathrm{nullity}(A(q))\n$$\n这里，$\\dim(T_q Q) = \\dim(Q) = 5$，$\\mathrm{rank}(A(q))$ 是矩阵 $A(q)$ 的秩，而 $\\mathrm{nullity}(A(q))$ 是零空间的维数，根据定义，它就是分布 $\\mathcal{D}(q)$ 的秩。\n$$\n\\mathrm{rank}(\\mathcal{D}(q)) = \\dim(\\ker(A(q))) = \\mathrm{nullity}(A(q))\n$$\n重新整理秩-零度定理，我们得到：\n$$\n\\mathrm{rank}(\\mathcal{D}(q)) = \\dim(Q) - \\mathrm{rank}(A(q))\n$$\n我们已经确定了对于所有 $q$，$\\mathrm{rank}(A(q)) = 2$。因此，该分布的秩在整个位形空间中是恒定的：\n$$\n\\mathrm{rank}(\\mathcal{D}(q)) = 5 - 2 = 3\n$$\n这个结果与具体位形无关。因此，对于给定的点 $q^{\\ast}=(0,1,\\tfrac{\\pi}{4},1,-1)$，分布 $\\mathcal{D}(q^{\\ast})$ 的秩也是 $3$。\n\n为完整起见，我们计算矩阵 $A(q)$ 在 $q^{\\ast}$ 处的值：\n$$\nq^{\\ast} = (x^{\\ast},y^{\\ast},\\theta^{\\ast},s_{1}^{\\ast},s_{2}^{\\ast}) = (0, 1, \\tfrac{\\pi}{4}, 1, -1)\n$$\n在该点，$\\sin(\\theta^{\\ast}) = \\frac{\\sqrt{2}}{2}$ 且 $\\cos(\\theta^{\\ast}) = \\frac{\\sqrt{2}}{2}$。矩阵变为：\n$$\nA(q^{\\ast}) = \\begin{pmatrix}\n-\\frac{\\sqrt{2}}{2}  \\frac{\\sqrt{2}}{2}  0  0  0 \\\\\n0  0  1  -1  2\n\\end{pmatrix}\n$$\n如预期的那样，这两行是线性无关的，该矩阵的秩为 $2$。应用公式：\n$$\n\\mathrm{rank}(\\mathcal{D}(q^{\\ast})) = \\dim(Q) - \\mathrm{rank}(A(q^{\\ast})) = 5 - 2 = 3\n$$\n在指定位形 $q^{\\ast}$ 处，约束分布 $\\mathcal{D}(q)$ 的秩为 $3$。",
            "answer": "$$\n\\boxed{3}\n$$"
        },
        {
            "introduction": "在具有对称性的系统中，例如带有内部运动部件的物体，将群的整体运动（如位置和姿态）与内部“形状”变化分离开来通常很有用。机械联络是形式化这种分离的几何工具，它直接源于系统的动能，该动能定义了位形空间上的一个黎曼度规。这个练习  将指导你从第一性原理出发，通过计算作为关键物理量的锁定惯量张量和动量映射，为经典的圆盘-转子系统显式推导机械联络。",
            "id": "3766143",
            "problem": "考虑一个平面刚体，它由一个绕其固定中心枢轴转动的均匀圆盘（转动惯量为 $I_{b}$）和一个安装在同一轴上的同轴内部转子（转动惯量为 $I_{r}$）组成。位形空间是乘积 $Q = \\mathrm{SO}(2) \\times S^{1}$，其中 $\\mathrm{SO}(2)$ 表示描述圆盘取向的平面旋转的特殊正交群 (SO(2))，$S^{1}$ 描述转子的相对自旋角。令群 $G = \\mathrm{SO}(2)$ 通过在圆盘取向坐标上的左乘作用于 $Q$。用 $(\\theta, \\alpha)$ 表示 $Q$ 上的坐标，其中 $\\theta$ 是圆盘的取向，$\\alpha$ 是转子的内部角，两者均以弧度为单位。圆盘的绝对角速度为 $\\omega = \\dot{\\theta}$，而由于转子安装在圆盘上，其绝对角速度为 $\\omega_{r} = \\dot{\\theta} + \\dot{\\alpha}$。\n\n动能导出了一个在 $Q$ 上的 $G$-不变的黎曼度量 $g$。使用李代数 $\\mathfrak{so}(2)$ 与 $\\mathbb{R}$ 的标准等同，在 $q = (\\theta, \\alpha)$ 处的锁定惯性张量 $\\mathbb{I}(q): \\mathfrak{so}(2) \\to \\mathfrak{so}(2)^{*}$ 由以下规则定义\n$$\\langle \\mathbb{I}(q)\\xi, \\eta \\rangle = g_{q}\\big(\\xi_{Q}(q), \\eta_{Q}(q)\\big), \\quad \\text{对所有 } \\xi, \\eta \\in \\mathfrak{so}(2),$$\n其中 $\\xi_{Q}$ 是与 $\\xi$ 相关联的无穷小生成元。\n\n类似地，动量映射 $J(q): T_{q}Q \\to \\mathfrak{so}(2)^{*}$ 定义为\n$$\\langle J(q)(v), \\xi \\rangle = g_{q}\\big(v, \\xi_{Q}(q)\\big), \\quad \\text{对所有 } \\xi \\in \\mathfrak{so}(2), \\ v \\in T_{q}Q.$$\n\n机械联络 $A(q): T_{q}Q \\to \\mathfrak{so}(2)$ 由下式隐式定义\n$$\\mathbb{I}(q)\\,A(q) = J(q).$$\n\n从刚体动能的第一性原理出发，完成以下任务：\n- 推导由圆盘-转子系统动能导出的 $Q$ 上的 $G$-不变黎曼度量 $g$。\n- 计算锁定惯性张量 $\\mathbb{I}(q)$。\n- 计算动量映射 $J(q)$。\n- 使用这些结果，获得作用在切向量 $v = (\\dot{\\theta}, \\dot{\\alpha}) \\in T_{q}Q$ 上的机械联络 $A(q)$ 的显式坐标表达式。\n\n角度必须以弧度处理。将你的最终答案表示为关于 $I_{b}$、$I_{r}$、$\\dot{\\theta}$ 和 $\\dot{\\alpha}$ 的 $A(q)(\\dot{\\theta}, \\dot{\\alpha})$ 的单一闭式解析表达式。",
            "solution": "该问题要求推导一个由圆盘和同轴转子组成的平面刚体系统的机械联络。推导过程将首先建立系统的动能，动能进而在位形空间上定义了一个黎曼度量。随后，将根据其几何定义计算锁定惯性张量和动量映射。最后，将从这些量之间的关系确定机械联络。\n\n首先，我们确定系统的总动能 $T$。系统的位形由坐标 $(\\theta, \\alpha) \\in Q = \\mathrm{SO}(2) \\times S^1$ 描述。圆盘的绝对角速度为 $\\omega = \\dot{\\theta}$，转子的绝对角速度为 $\\omega_r = \\dot{\\theta} + \\dot{\\alpha}$。圆盘和转子绕枢轴的转动惯量分别为 $I_b$ 和 $I_r$。\n\n圆盘的动能 $T_b$ 由下式给出：\n$$ T_b = \\frac{1}{2} I_b \\omega^2 = \\frac{1}{2} I_b \\dot{\\theta}^2 $$\n转子的动能 $T_r$ 由下式给出：\n$$ T_r = \\frac{1}{2} I_r \\omega_r^2 = \\frac{1}{2} I_r (\\dot{\\theta} + \\dot{\\alpha})^2 $$\n总动能 $T$ 是 $T_b$ 和 $T_r$ 的和：\n$$ T = \\frac{1}{2} I_b \\dot{\\theta}^2 + \\frac{1}{2} I_r (\\dot{\\theta} + \\dot{\\alpha})^2 $$\n展开此表达式得到：\n$$ T = \\frac{1}{2} I_b \\dot{\\theta}^2 + \\frac{1}{2} I_r (\\dot{\\theta}^2 + 2\\dot{\\theta}\\dot{\\alpha} + \\dot{\\alpha}^2) = \\frac{1}{2} (I_b + I_r)\\dot{\\theta}^2 + I_r \\dot{\\theta}\\dot{\\alpha} + \\frac{1}{2} I_r \\dot{\\alpha}^2 $$\n\n1.  **黎曼度量 $g$ 的推导**\n\n动能通过关系式 $T = \\frac{1}{2} g_q(v, v)$ 在位形流形 $Q$ 上导出一个黎曼度量 $g$，其中 $q = (\\theta, \\alpha) \\in Q$ 且 $v = (\\dot{\\theta}, \\dot{\\alpha}) \\in T_qQ$。在局部坐标 $(\\theta, \\alpha)$ 中，度量 $g$ 可以用其分量 $g_{ij}$ 的矩阵表示，使得 $T = \\frac{1}{2} \\sum_{i,j} g_{ij}\\dot{q}^i\\dot{q}^j$。通过将此一般形式与我们得到的 $T$ 的表达式进行比较，我们可以直接确定度量张量的分量：\n$$ g_{\\theta\\theta} = I_b + I_r $$\n$$ g_{\\theta\\alpha} = g_{\\alpha\\theta} = I_r $$\n$$ g_{\\alpha\\alpha} = I_r $$\n因此，度量 $g$ 在坐标基 $\\{\\frac{\\partial}{\\partial\\theta}, \\frac{\\partial}{\\partial\\alpha}\\}$ 中的矩阵表示为：\n$$ g = \\begin{pmatrix} I_b + I_r  I_r \\\\ I_r  I_r \\end{pmatrix} $$\n由于 $g$ 的所有分量都是常数，该度量与位形 $q = (\\theta, \\alpha)$ 无关，因此在指定的群 $G = \\mathrm{SO}(2)$ 对 $\\theta$ 的作用下是不变的。\n\n2.  **锁定惯性张量 $\\mathbb{I}(q)$ 的计算**\n\n群 $G = \\mathrm{SO}(2)$ 的李代数是 $\\mathfrak{so}(2)$，我们将其等同于 $\\mathbb{R}$。因此，一个元素 $\\xi \\in \\mathfrak{so}(2)$ 被表示为一个标量 $\\xi \\in \\mathbb{R}$。群在 $Q$ 上的作用由在第一个分量上的左平移给出：对于对应于 $\\mathrm{SO}(2)$ 中一个元素的角度为 $\\phi$ 的旋转，其作用为 $(\\theta, \\alpha) \\mapsto (\\theta + \\phi, \\alpha)$。对于一个元素 $\\xi \\in \\mathfrak{so}(2)$，其无穷小生成元 $\\xi_Q(q)$ 是通过对该作用求导得到的 $Q$ 上的向量场：\n$$ \\xi_Q(q) = \\frac{d}{dt}\\bigg|_{t=0} (\\theta + t\\xi, \\alpha) = (\\xi, 0) $$\n这里，$(\\xi, 0)$ 是 $T_qQ$ 中的一个切向量。锁定惯性张量 $\\mathbb{I}(q): \\mathfrak{so}(2) \\to \\mathfrak{so}(2)^*$ 由 $\\langle \\mathbb{I}(q)\\xi, \\eta \\rangle = g_q(\\xi_Q(q), \\eta_Q(q))$ 对所有 $\\xi, \\eta \\in \\mathfrak{so}(2)$ 定义。利用等同关系 $\\mathfrak{so}(2) \\cong \\mathbb{R}$，配对 $\\langle \\cdot, \\cdot \\rangle$ 变为标量乘法。\n我们使用度量 $g$ 计算内积：\n$$ g_q(\\xi_Q(q), \\eta_Q(q)) = g_q((\\xi, 0), (\\eta, 0)) = \\begin{pmatrix} \\xi  0 \\end{pmatrix} \\begin{pmatrix} I_b + I_r  I_r \\\\ I_r  I_r \\end{pmatrix} \\begin{pmatrix} \\eta \\\\ 0 \\end{pmatrix} = (I_b + I_r)\\xi\\eta $$\n根据定义，我们有 $\\langle \\mathbb{I}(q)\\xi, \\eta \\rangle = (I_b + I_r)\\xi\\eta$。由于这对所有 $\\eta$ 都必须成立，我们得到 $\\mathbb{I}(q)\\xi = (I_b+I_r)\\xi$。作为一个作用于 $\\mathfrak{so}(2) \\cong \\mathbb{R}$ 上的算子，$\\mathbb{I}(q)$ 是乘以标量 $(I_b + I_r)$。因此，我们将锁定惯性张量等同于这个值：\n$$ \\mathbb{I}(q) = I_b + I_r $$\n\n3.  **动量映射 $J(q)$ 的计算**\n\n动量映射 $J(q): T_qQ \\to \\mathfrak{so}(2)^*$ 对任意 $v \\in T_qQ$ 和 $\\xi \\in \\mathfrak{so}(2)$ 定义为 $\\langle J(q)(v), \\xi \\rangle = g_q(v, \\xi_Q(q))$。令 $v = (\\dot{\\theta}, \\dot{\\alpha})$。我们有 $\\xi_Q(q) = (\\xi, 0)$。\n我们计算内积：\n$$ g_q(v, \\xi_Q(q)) = g_q((\\dot{\\theta}, \\dot{\\alpha}), (\\xi, 0)) = \\begin{pmatrix} \\dot{\\theta}  \\dot{\\alpha} \\end{pmatrix} \\begin{pmatrix} I_b + I_r  I_r \\\\ I_r  I_r \\end{pmatrix} \\begin{pmatrix} \\xi \\\\ 0 \\end{pmatrix} $$\n$$ = (\\dot{\\theta}(I_b+I_r) + \\dot{\\alpha}I_r)\\xi $$\n根据定义，我们有 $\\langle J(q)(v), \\xi \\rangle = ((I_b+I_r)\\dot{\\theta} + I_r\\dot{\\alpha})\\xi$。由于这对所有 $\\xi \\in \\mathfrak{so}(2)$ 都成立，动量映射 $J(q)(v)$ 被等同于 $\\mathfrak{so}(2)^* \\cong \\mathbb{R}$ 中的标量值：\n$$ J(q)(v) = (I_b + I_r)\\dot{\\theta} + I_r\\dot{\\alpha} $$\n这个值代表了系统的总角动量。\n\n4.  **机械联络 $A(q)$ 的计算**\n\n机械联络 $A(q): T_qQ \\to \\mathfrak{so}(2)$ 由方程 $\\mathbb{I}(q)A(q)(v) = J(q)(v)$ 隐式定义。由于我们使用了与 $\\mathbb{R}$ 的等同，这是一个关于 $A(q)(v)$ 标量值的代数方程。我们代入 $\\mathbb{I}(q)$ 和 $J(q)(v)$ 的表达式：\n$$ (I_b + I_r) A(q)(\\dot{\\theta}, \\dot{\\alpha}) = (I_b + I_r)\\dot{\\theta} + I_r\\dot{\\alpha} $$\n通过除以严格为正的锁定惯量 $\\mathbb{I}(q) = I_b + I_r$ 来求解 $A(q)(\\dot{\\theta}, \\dot{\\alpha})$：\n$$ A(q)(\\dot{\\theta}, \\dot{\\alpha}) = \\frac{(I_b + I_r)\\dot{\\theta} + I_r\\dot{\\alpha}}{I_b + I_r} $$\n化简表达式得到机械联络的最终结果：\n$$ A(q)(\\dot{\\theta}, \\dot{\\alpha}) = \\dot{\\theta} + \\frac{I_r}{I_b + I_r}\\dot{\\alpha} $$\n这就是作用在切向量 $v = (\\dot{\\theta}, \\dot{\\alpha})$ 上的机械联络的显式坐标表达式。",
            "answer": "$$ \\boxed{\\dot{\\theta} + \\frac{I_r}{I_b + I_r}\\dot{\\alpha}} $$"
        },
        {
            "introduction": "我们之前发展的几何框架的主要好处在于它能够简化复杂问题。对于一类特殊的非完整系统，即所谓的 Chaplygin 系统，我们可以从运动方程中完全消除群变量。这种称为 Chaplygin 约化或压缩的简化方法，通过使用非完整联络来表示群速度与形状速度的关系来实现。这项实践  展示了这种强大的约化技术，通过将约束方程代入完整的拉格朗日量，你将推导出“约化”或“压缩”的拉格朗日量，它完全在较低维的形状空间上描述系统动力学。",
            "id": "3766150",
            "problem": "考虑一个位形流形为 $Q = G \\times S$ 的机械查普雷金系统，其中 $G$ 是自由且正当地作用于 $Q$ 上的特殊正交群 $\\mathrm{SO}(2)$，形状空间为 $S = \\mathbb{R}^{2}$，坐标为 $s = (x,y)$。该系统具有一个 $\\mathrm{SO}(2)$-不变的黎曼度量，在体坐标 $(\\xi,\\dot{s}) \\in \\mathbb{R} \\times \\mathbb{R}^{2}$（其中 $\\xi \\in \\mathfrak{so}(2) \\cong \\mathbb{R}$ 是群速度，$\\dot{s} = (\\dot{x},\\dot{y})$）下，其块形式给出了拉格朗日量\n$$\nL(s,\\dot{s},\\xi) = \\frac{1}{2}\\,m(s)\\left(\\dot{x}^{2}+\\dot{y}^{2}\\right) + 2\\,\\xi\\,b(s)^{\\top}\\dot{s} + \\frac{1}{2}\\,J(s)\\,\\xi^{2} - V(s),\n$$\n其中 $m(s) = 1 + x^{2} + y^{2}$，$J(s) = 2 + x$，$b(s) = \\begin{pmatrix} y \\\\ x \\end{pmatrix}$，且 $V(s) = x\\,y$。非完整约束分布 $D \\subset TQ$ 由一个线性速度约束定义，该约束通过非完整联络 $A^{\\mathrm{nh}}(s)$ 确定了水平子空间，此处由条件指定\n$$\n\\xi + a(s)^{\\top}\\dot{s} = 0, \\quad \\text{其中} \\quad a(s) = \\begin{pmatrix} x \\\\ 1 \\end{pmatrix}.\n$$\n这编码了非完整联络 $A^{\\mathrm{nh}}(s) = a(s)^{\\top}$，它将形状速度映射到受约束的群速度。假设 $x > -1$，从而 $J(s) > 1$ 并且动能在群方向上保持正定。\n\n从机械拉格朗日量（动能减去势能）的基本定义、主丛约化以及非完整联络在定义消除群速度的水平提升中的作用出发，通过使用约束 $\\xi = -a(s)^{\\top}\\dot{s}$ 来消除 $\\xi$，推导出形状空间上的约化（压缩）拉格朗日量 $L_{c}(s,\\dot{s})$。将您的最终答案表示为仅包含 $x$、$y$、$\\dot{x}$ 和 $\\dot{y}$ 的单个闭式解析表达式。不需要四舍五入，也不涉及单位。",
            "solution": "在尝试任何解答之前，需对问题进行验证。\n\n### 步骤1：提取已知条件\n- 位形流形：$Q = G \\times S$，其中 $G = \\mathrm{SO}(2)$ 且 $S = \\mathbb{R}^{2}$。\n- 形状空间坐标：$s = (x,y)$。\n- 群速度：$\\xi \\in \\mathfrak{so}(2) \\cong \\mathbb{R}$。\n- 形状空间速度：$\\dot{s} = (\\dot{x},\\dot{y})$。\n- TQ 上的拉格朗日量：$L(s,\\dot{s},\\xi) = \\frac{1}{2}\\,m(s)\\left(\\dot{x}^{2}+\\dot{y}^{2}\\right) + 2\\,\\xi\\,b(s)^{\\top}\\dot{s} + \\frac{1}{2}\\,J(s)\\,\\xi^{2} - V(s)$。\n- 拉格朗日量各分量：\n  - $m(s) = 1 + x^{2} + y^{2}$\n  - $J(s) = 2 + x$\n  - $b(s) = \\begin{pmatrix} y \\\\ x \\end{pmatrix}$\n  - $V(s) = x\\,y$\n- 非完整约束：$\\xi + a(s)^{\\top}\\dot{s} = 0$。\n- 约束分量：$a(s) = \\begin{pmatrix} x \\\\ 1 \\end{pmatrix}$。\n- 条件：$x > -1$。\n- 目标：推导形状空间上的约化（压缩）拉格朗日量 $L_{c}(s,\\dot{s})$。\n\n### 步骤2：使用提取的已知条件进行验证\n该问题在几何力学的数学框架内是良定义的。它描述了一个查普雷金系统，这是非完整动力学研究中的一个标准课题。\n- **科学依据：** 该设置是具有对称性和非完整约束的系统进行拉格朗日约化的教科书式例子。所有定义，包括拉格朗日结构和线性速度约束，都是该领域的标准定义。条件 $x > -1$ 确保了转动惯量 $J(s) = 2+x$ 是严格为正的（$J(s) > 1$），从而保证了动能度量在群方向上是正定的，这是一个必要的物理和数学条件。\n- **适定性：** 问题提供了执行所要求的推导所需的所有必要定义和函数（$m(s)$, $J(s)$, $b(s)$, $a(s)$, $V(s)$）。任务是使用给定的约束从表达式中消除一个变量，这是一个直接的代数过程，可导向唯一的解析解。\n- **目标：** 问题使用精确、无歧义的数学语言和符号进行陈述。没有主观或定性元素。\n\n### 步骤3：结论与行动\n问题有效。这是一个适定的、有科学依据的几何力学练习。现在可以开始求解过程。\n\n#### 约化拉格朗日量的推导\n目标是推导约化拉格朗日量，或称压缩拉格朗日量 $L_{c}(s,\\dot{s})$，它描述了形状空间 $S = \\mathbb{R}^2$ 上的动力学。这通过使用非完整约束从完整拉格朗日量 $L(s,\\dot{s},\\xi)$ 中消除群速度 $\\xi$ 来实现。\n\n给定的完整拉格朗日量为：\n$$L(s,\\dot{s},\\xi) = \\frac{1}{2}\\,m(s)\\left(\\dot{x}^{2}+\\dot{y}^{2}\\right) + 2\\,\\xi\\,b(s)^{\\top}\\dot{s} + \\frac{1}{2}\\,J(s)\\,\\xi^{2} - V(s)$$\n非完整约束由以下线性方程给出：\n$$\\xi + a(s)^{\\top}\\dot{s} = 0$$\n从此约束中，我们解出群速度 $\\xi$：\n$$\\xi = -a(s)^{\\top}\\dot{s}$$\n将 $\\xi$ 的这个表达式代回到完整拉格朗日量 $L(s,\\dot{s},\\xi)$ 中，即可得到压缩拉格朗日量 $L_c(s,\\dot{s})$：\n$$L_c(s,\\dot{s}) = L(s,\\dot{s},\\xi)\\big|_{\\xi = -a(s)^{\\top}\\dot{s}}$$\n$$L_c(s,\\dot{s}) = \\frac{1}{2}\\,m(s)(\\dot{x}^{2}+\\dot{y}^{2}) + 2(-a(s)^{\\top}\\dot{s})b(s)^{\\top}\\dot{s} + \\frac{1}{2}\\,J(s)(-a(s)^{\\top}\\dot{s})^{2} - V(s)$$\n$$L_c(s,\\dot{s}) = \\frac{1}{2}\\,m(s)(\\dot{x}^{2}+\\dot{y}^{2}) - 2(a(s)^{\\top}\\dot{s})(b(s)^{\\top}\\dot{s}) + \\frac{1}{2}\\,J(s)(a(s)^{\\top}\\dot{s})^{2} - V(s)$$\n现在，我们必须计算涉及向量 $a(s)$、$b(s)$ 和形状速度 $\\dot{s} = \\begin{pmatrix} \\dot{x} \\\\ \\dot{y} \\end{pmatrix}$ 的标量积。\n给定的向量是 $a(s) = \\begin{pmatrix} x \\\\ 1 \\end{pmatrix}$ 和 $b(s) = \\begin{pmatrix} y \\\\ x \\end{pmatrix}$。\n标量积为：\n$$a(s)^{\\top}\\dot{s} = \\begin{pmatrix} x  1 \\end{pmatrix} \\begin{pmatrix} \\dot{x} \\\\ \\dot{y} \\end{pmatrix} = x\\dot{x} + \\dot{y}$$\n$$b(s)^{\\top}\\dot{s} = \\begin{pmatrix} y  x \\end{pmatrix} \\begin{pmatrix} \\dot{x} \\\\ \\dot{y} \\end{pmatrix} = y\\dot{x} + x\\dot{y}$$\n将这些代入 $L_c(s,\\dot{s})$ 的表达式中：\n$$L_c(s,\\dot{s}) = \\frac{1}{2}\\,m(s)(\\dot{x}^{2}+\\dot{y}^{2}) - 2(x\\dot{x} + \\dot{y})(y\\dot{x} + x\\dot{y}) + \\frac{1}{2}\\,J(s)(x\\dot{x} + \\dot{y})^{2} - V(s)$$\n接下来，我们代入给定的函数 $m(s) = 1 + x^{2} + y^{2}$、$J(s) = 2 + x$ 和 $V(s) = x\\,y$：\n$$L_c(s,\\dot{s}) = \\frac{1}{2}(1 + x^{2} + y^{2})(\\dot{x}^{2}+\\dot{y}^{2}) - 2(x\\dot{x} + \\dot{y})(y\\dot{x} + x\\dot{y}) + \\frac{1}{2}(2 + x)(x\\dot{x} + \\dot{y})^{2} - x\\,y$$\n我们现在展开速度的二次项：\n第二项：\n$$ -2(x\\dot{x} + \\dot{y})(y\\dot{x} + x\\dot{y}) = -2(xy\\dot{x}^{2} + x^{2}\\dot{x}\\dot{y} + y\\dot{x}\\dot{y} + x\\dot{y}^{2}) = -2xy\\dot{x}^{2} - 2(x^{2}+y)\\dot{x}\\dot{y} - 2x\\dot{y}^{2} $$\n第三项：\n$$ \\frac{1}{2}(2 + x)(x\\dot{x} + \\dot{y})^{2} = \\frac{1}{2}(2 + x)(x^{2}\\dot{x}^{2} + 2x\\dot{x}\\dot{y} + \\dot{y}^{2}) = \\frac{1}{2}(2+x)x^{2}\\dot{x}^{2} + (2+x)x\\dot{x}\\dot{y} + \\frac{1}{2}(2+x)\\dot{y}^{2} $$\n现在我们将拉格朗日量的所有部分组合起来，并收集 $\\dot{x}^{2}$、$\\dot{y}^{2}$ 和 $\\dot{x}\\dot{y}$ 的系数。\n\n压缩拉格朗日量的总动能部分 $T_c(s, \\dot{s})$ 是：\n$$ T_c = \\bigg(\\frac{1}{2}(1 + x^{2} + y^{2}) - 2xy + \\frac{1}{2}(2+x)x^{2}\\bigg)\\dot{x}^{2} + \\bigg(\\frac{1}{2}(1 + x^{2} + y^{2}) - 2x + \\frac{1}{2}(2+x)\\bigg)\\dot{y}^{2} + \\big(-2(x^{2}+y) + (2+x)x\\big)\\dot{x}\\dot{y} $$\n让我们简化每个系数。\n\n$\\dot{x}^{2}$ 的系数：\n$$ \\frac{1}{2}(1 + x^{2} + y^{2}) - 2xy + \\frac{1}{2}(2x^{2} + x^{3}) = \\frac{1}{2} + \\frac{1}{2}x^{2} + \\frac{1}{2}y^{2} - 2xy + x^{2} + \\frac{1}{2}x^{3} = \\frac{1}{2}x^{3} + \\frac{3}{2}x^{2} - 2xy + \\frac{1}{2}y^{2} + \\frac{1}{2} $$\n$$ = \\frac{1}{2}(x^{3} + 3x^{2} - 4xy + y^{2} + 1) $$\n$\\dot{y}^{2}$ 的系数：\n$$ \\frac{1}{2}(1 + x^{2} + y^{2}) - 2x + \\frac{1}{2}(2+x) = \\frac{1}{2} + \\frac{1}{2}x^{2} + \\frac{1}{2}y^{2} - 2x + 1 + \\frac{1}{2}x = \\frac{1}{2}x^{2} - \\frac{3}{2}x + \\frac{1}{2}y^{2} + \\frac{3}{2} $$\n$$ = \\frac{1}{2}(x^{2} - 3x + y^{2} + 3) $$\n$\\dot{x}\\dot{y}$ 的系数：\n$$ -2(x^{2}+y) + (2+x)x = -2x^{2} - 2y + 2x + x^{2} = -x^{2} + 2x - 2y $$\n组合成完整的压缩拉格朗日量 $L_c = T_c - V$：\n$$ L_c(x,y,\\dot{x},\\dot{y}) = \\frac{1}{2}(x^{3} + 3x^{2} - 4xy + y^{2} + 1)\\dot{x}^{2} + \\frac{1}{2}(x^{2} - 3x + y^{2} + 3)\\dot{y}^{2} + (-x^{2} + 2x - 2y)\\dot{x}\\dot{y} - x\\,y $$\n这就是形状空间上压缩拉格朗日量的最终表达式。",
            "answer": "$$\n\\boxed{\\frac{1}{2}(x^{3} + 3x^{2} - 4xy + y^{2} + 1)\\dot{x}^{2} + \\frac{1}{2}(x^{2} - 3x + y^{2} + 3)\\dot{y}^{2} + (-x^{2} + 2x - 2y)\\dot{x}\\dot{y} - xy}\n$$"
        }
    ]
}