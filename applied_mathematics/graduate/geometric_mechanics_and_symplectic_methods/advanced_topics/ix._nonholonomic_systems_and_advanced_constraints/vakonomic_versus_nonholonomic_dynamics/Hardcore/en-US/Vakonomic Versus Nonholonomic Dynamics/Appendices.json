{
    "hands_on_practices": [
        {
            "introduction": "The most direct way to appreciate the distinction between vakonomic and nonholonomic dynamics is to apply both formalisms to the same physical system and compare the outcomes. This exercise guides you through deriving the equations of motion for a system in $\\mathbb{R}^3$ with a common type of linear velocity constraint . By calculating the acceleration vectors predicted by each theory, you will uncover a concrete, quantifiable difference, revealing that these are not merely different mathematical descriptions but fundamentally distinct physical models.",
            "id": "3783683",
            "problem": "Consider a mechanical system with configuration space $Q=\\mathbb{R}^{3}$, coordinates $q=(q_{1},q_{2},q_{3})$, and kinetic energy determined by a constant positive-definite mass matrix taken to be the identity for simplicity. The Lagrangian is $L(q,\\dot q)=\\tfrac{1}{2}\\dot q^{T}\\dot q$, and the system is subject to a linear velocity constraint of full rank given by $A(q)\\dot q=0$, where the single constraint one-form $a(q)\\in\\mathbb{R}^{3}$ is\n$$\na(q)=\\big(q_{2},\\,-q_{1},\\,1\\big).\n$$\nTwo distinct constrained variational principles are considered:\n- the nonholonomic Lagrange–d’Alembert principle, and\n- the vakonomic (variational axiomatic) principle, in which one augments the action by the multiplier term $\\lambda(t)\\,a(q)\\cdot\\dot q$ with $\\lambda(t)$ a scalar function.\n\nStarting from first principles (Hamilton’s principle for unconstrained dynamics and the Lagrange–d’Alembert principle for nonholonomic dynamics), derive the equations of motion under each principle for general $q,\\dot q$, and then evaluate the resulting accelerations at the configuration $q=(1,0,0)$ with a velocity $\\dot q=(u,v,v)$, where $u$ and $v$ are real numbers chosen to satisfy the constraint $a(q)\\cdot\\dot q=0$ at $q=(1,0,0)$.\n\nCompute:\n1. The nonholonomic acceleration vector $\\ddot q_{\\mathrm{nh}}$ at $q=(1,0,0)$ and $\\dot q=(u,v,v)$.\n2. The vakonomic acceleration vector $\\ddot q_{\\mathrm{vak}}$ at the same state, expressing your result in terms of the vakonomic multiplier $\\lambda(t)$ and its time derivative $\\dot\\lambda(t)$ as needed, and then use the time derivative of the constraint to eliminate $\\dot\\lambda(t)$ in favor of $\\lambda(t)$, $u$, and $v$.\n3. The difference $\\Delta\\ddot q=\\ddot q_{\\mathrm{vak}}-\\ddot q_{\\mathrm{nh}}$ at this state, expressed purely in terms of $\\lambda(t)$, $u$, and $v$.\n\nYour final answer must be the single vector expression for $\\Delta\\ddot q$ as a closed-form analytic expression. Express the final vector as a row matrix.",
            "solution": "The unconstrained Euler–Lagrange equations for $L(q,\\dot q)=\\tfrac{1}{2}\\dot q^{T}\\dot q$ are\n$$\n\\frac{d}{dt}\\left(\\frac{\\partial L}{\\partial \\dot q}\\right)-\\frac{\\partial L}{\\partial q}=0\n\\;\\;\\Longrightarrow\\;\\;\n\\ddot q=0,\n$$\nsince the mass matrix is the identity and there is no potential.\n\nThe system is subject to the linear velocity constraint $A(q)\\dot q=0$ where $A(q)$ is $1\\times 3$ with row $a(q)=(q_{2},-q_{1},1)$. At $q=(1,0,0)$, one has $a(q)=(0,-1,1)$, so the constraint $a(q)\\cdot\\dot q=0$ implies $-\\dot q_{2}+\\dot q_{3}=0$, which is satisfied by $\\dot q=(u,v,v)$ for any real $u,v$.\n\nNonholonomic dynamics (Lagrange–d’Alembert):\nFor an ideal linear velocity constraint $A(q)\\dot q=0$, the nonholonomic equations with multiplier $\\mu(t)\\in\\mathbb{R}$ read\n$$\n\\ddot q = A(q)^{T}\\mu,\n$$\ntogether with the kinematic constraint and its compatibility (obtained by differentiating $A(q)\\dot q=0$):\n$$\nA(q)\\dot q=0,\\qquad A(q)\\ddot q+\\dot A(q)\\dot q=0.\n$$\nHere $\\dot A(q)\\dot q$ denotes the time derivative of $A(q)$ multiplied by $\\dot q$. With $a(q)=(q_{2},-q_{1},1)$, its time derivative is\n$$\n\\dot a(q)=\\left(\\dot q_{2},\\,-\\dot q_{1},\\,0\\right),\n$$\nand for $m=1$ the compatibility reduces to\n$$\na(q)\\cdot\\ddot q+\\dot a(q)\\cdot\\dot q=0.\n$$\nUsing $\\ddot q = a(q)^{T}\\mu$ gives\n$$\n\\mu\\,\\big(a(q)\\cdot a(q)\\big) + \\dot a(q)\\cdot\\dot q = 0\n\\;\\;\\Longrightarrow\\;\\;\n\\mu = -\\frac{\\dot a(q)\\cdot\\dot q}{|a(q)|^{2}}.\n$$\nAt the chosen state, $a(q)=(0,-1,1)$ so $|a(q)|^{2}=2$, and $\\dot a(q)=(v,-u,0)$, hence\n$$\n\\dot a(q)\\cdot\\dot q = v\\,u + (-u)\\,v + 0\\cdot v = 0,\n$$\nwhich yields $\\mu=0$. Therefore,\n$$\n\\ddot q_{\\mathrm{nh}} = a(q)^{T}\\mu = 0.\n$$\n\nVakonomic dynamics:\nIn the vakonomic formulation, the augmented Lagrangian is $\\mathcal{L}(q,\\dot q,\\lambda)=L(q,\\dot q)+\\lambda\\,a(q)\\cdot\\dot q$. The Euler–Lagrange equations for $q$ are\n$$\n\\frac{d}{dt}\\left(\\frac{\\partial \\mathcal{L}}{\\partial \\dot q}\\right) - \\frac{\\partial \\mathcal{L}}{\\partial q} = 0.\n$$\nCompute the necessary derivatives:\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial \\dot q} = \\dot q + \\lambda\\,a(q),\\qquad\n\\frac{d}{dt}\\left(\\frac{\\partial \\mathcal{L}}{\\partial \\dot q}\\right) = \\ddot q + \\lambda\\,\\dot a(q) + \\dot\\lambda\\,a(q),\n$$\nand\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial q} = \\lambda\\,\\frac{\\partial}{\\partial q}\\big(a(q)\\cdot\\dot q\\big) = \\lambda\\,B(q,\\dot q),\n$$\nwhere the vector $B(q,\\dot q)$ has components\n$$\nB_{k}(q,\\dot q) = \\frac{\\partial}{\\partial q_{k}}\\big(a(q)\\cdot\\dot q\\big) = \\sum_{i=1}^{3}\\frac{\\partial a_{i}}{\\partial q_{k}}\\,\\dot q_{i}.\n$$\nIn matrix form, if $D(q)=\\partial a/\\partial q$ is the $3\\times 3$ Jacobian with entries $D_{ik}=\\partial a_{i}/\\partial q_{k}$, then $B(q,\\dot q)=D(q)^{T}\\dot q$ and $\\dot a(q)=D(q)\\dot q$. Thus the vakonomic equation is\n$$\n\\ddot q + \\lambda\\,\\dot a(q) + \\dot\\lambda\\,a(q) - \\lambda\\,B(q,\\dot q) = 0\n\\;\\;\\Longrightarrow\\;\\;\n\\ddot q_{\\mathrm{vak}} = -\\lambda\\,\\dot a(q) - \\dot\\lambda\\,a(q) + \\lambda\\,B(q,\\dot q).\n$$\nIn addition, the constraint $a(q)\\cdot\\dot q=0$ holds for all time; differentiating gives the kinematic compatibility\n$$\na(q)\\cdot\\ddot q + \\dot a(q)\\cdot\\dot q = 0.\n$$\nSubstitute $\\ddot q_{\\mathrm{vak}}$ to obtain an expression for $\\dot\\lambda$:\n$$\na(q)\\cdot\\big(-\\lambda\\,\\dot a(q) - \\dot\\lambda\\,a(q) + \\lambda\\,B(q,\\dot q)\\big) + \\dot a(q)\\cdot\\dot q = 0,\n$$\nwhich simplifies to\n$$\n-\\dot\\lambda\\,|a(q)|^{2} + \\lambda\\big(a(q)\\cdot B(q,\\dot q) - a(q)\\cdot \\dot a(q)\\big) + \\dot a(q)\\cdot\\dot q = 0,\n$$\nand hence\n$$\n\\dot\\lambda = \\frac{\\lambda\\big(a(q)\\cdot B(q,\\dot q) - a(q)\\cdot \\dot a(q)\\big) + \\dot a(q)\\cdot\\dot q}{|a(q)|^{2}}.\n$$\n\nEvaluation at $q=(1,0,0)$ and $\\dot q=(u,v,v)$:\nCompute the Jacobian $D(q)=\\partial a/\\partial q$ for $a(q)=(q_{2},-q_{1},1)$:\n$$\nD(q)=\\begin{pmatrix}\n\\frac{\\partial a_{1}}{\\partial q_{1}} & \\frac{\\partial a_{1}}{\\partial q_{2}} & \\frac{\\partial a_{1}}{\\partial q_{3}} \\\\\n\\frac{\\partial a_{2}}{\\partial q_{1}} & \\frac{\\partial a_{2}}{\\partial q_{2}} & \\frac{\\partial a_{2}}{\\partial q_{3}} \\\\\n\\frac{\\partial a_{3}}{\\partial q_{1}} & \\frac{\\partial a_{3}}{\\partial q_{2}} & \\frac{\\partial a_{3}}{\\partial q_{3}}\n\\end{pmatrix}\n=\n\\begin{pmatrix}\n0 & 1 & 0\\\\\n-1 & 0 & 0\\\\\n0 & 0 & 0\n\\end{pmatrix}.\n$$\nThus at any $(q,\\dot q)$,\n$$\n\\dot a(q)=D(q)\\dot q=\\big(\\dot q_{2},\\,-\\dot q_{1},\\,0\\big),\\qquad\nB(q,\\dot q)=D(q)^{T}\\dot q=\\big(-\\dot q_{2},\\,\\dot q_{1},\\,0\\big).\n$$\nAt $(q,\\dot q)=\\big((1,0,0),(u,v,v)\\big)$,\n$$\na(q)=(0,-1,1),\\quad |a(q)|^{2}=2,\\quad \\dot a(q)=(v,-u,0),\\quad B(q,\\dot q)=(-v,u,0).\n$$\nMoreover,\n$$\n\\dot a(q)\\cdot\\dot q = v\\,u + (-u)\\,v + 0\\cdot v = 0,\\qquad\na(q)\\cdot B(q,\\dot q) = (0)(-v) + (-1)(u) + (1)(0) = -u,\n$$\nand\n$$\na(q)\\cdot \\dot a(q) = (0)(v) + (-1)(-u) + (1)(0) = u.\n$$\nTherefore,\n$$\na(q)\\cdot B(q,\\dot q) - a(q)\\cdot \\dot a(q) = -u - u = -2u,\n$$\nand the multiplier evolution is\n$$\n\\dot\\lambda = \\frac{\\lambda(-2u) + 0}{2} = -\\lambda\\,u.\n$$\nSubstitute into the vakonomic acceleration:\n$$\n\\ddot q_{\\mathrm{vak}} = -\\lambda\\,(v,-u,0)\\;-\\;\\dot\\lambda\\,(0,-1,1)\\;+\\;\\lambda\\,(-v,u,0).\n$$\nUsing $\\dot\\lambda=-\\lambda u$,\n$$\n-\\dot\\lambda\\,(0,-1,1) = \\lambda u\\,(0,-1,1) = (0,-\\lambda u,\\lambda u),\n$$\nso\n$$\n\\ddot q_{\\mathrm{vak}} = (-\\lambda v,\\,\\lambda u,\\,0) + (0,-\\lambda u,\\,\\lambda u) + (-\\lambda v,\\,\\lambda u,\\,0)\n= \\big(-2\\lambda v,\\;\\lambda u,\\;\\lambda u\\big).\n$$\n\nComparison:\nWe found $\\ddot q_{\\mathrm{nh}}=0$ and $\\ddot q_{\\mathrm{vak}}=(-2\\lambda v,\\lambda u,\\lambda u)$. Hence the difference at the specified state is\n$$\n\\Delta\\ddot q \\;=\\; \\ddot q_{\\mathrm{vak}} - \\ddot q_{\\mathrm{nh}} \\;=\\; \\big(-2\\lambda v,\\;\\lambda u,\\;\\lambda u\\big).\n$$\nThis is expressed purely in terms of the vakonomic multiplier $\\lambda(t)$ and the velocity components $u$ and $v$ at the state $q=(1,0,0)$, $\\dot q=(u,v,v)$.",
            "answer": "$$\\boxed{\\begin{pmatrix}-2\\lambda v & \\lambda u & \\lambda u\\end{pmatrix}}$$"
        },
        {
            "introduction": "Beyond the equations of motion, a crucial point of divergence between the two models lies in their predictions regarding fundamental conservation laws. This practice investigates the evolution of mechanical energy for a general system under both vakonomic and nonholonomic dynamics . Deriving the rate of energy change in each case illuminates the precise conditions for energy conservation and reveals how the two frameworks treat the work done by constraint forces differently.",
            "id": "3783665",
            "problem": "Consider a mechanical system with configuration coordinates $q \\in \\mathbb{R}^{n}$, velocities $\\dot{q} \\in \\mathbb{R}^{n}$, a smooth Lagrangian $L(q,\\dot{q},t)$, and $m$ smooth linear velocity constraints of full rank $m$ given by $A(q,t)\\,\\dot{q} = 0$, where $A(q,t) \\in \\mathbb{R}^{m \\times n}$. Let the mechanical energy be defined by $E(q,\\dot{q},t) = \\dot{q}^{T}\\,\\frac{\\partial L}{\\partial \\dot{q}}(q,\\dot{q},t) - L(q,\\dot{q},t)$.\n\nTwo dynamical models are considered:\n\n1. Vakonomic dynamics: the motion extremizes the action $\\int \\left(L(q,\\dot{q},t) + \\lambda(t)^{T} A(q,t)\\,\\dot{q}\\right)\\,dt$ via Hamilton's Principle (HP), where $\\lambda(t) \\in \\mathbb{R}^{m}$ are Lagrange multipliers.\n\n2. Nonholonomic dynamics: the motion satisfies the Lagrange–d'Alembert principle with Chetaev reaction forces, yielding equations $\\frac{d}{dt}\\frac{\\partial L}{\\partial \\dot{q}} - \\frac{\\partial L}{\\partial q} = A(q,t)^{T}\\,\\lambda(t)$ and the constraints $A(q,t)\\,\\dot{q} = 0$.\n\nStarting only from the core definitions of Hamilton's Principle and the Euler–Lagrange equations, together with the definition of mechanical energy above, and the assumption that Chetaev reaction forces do no power along admissible velocities when $A(q,t)\\,\\dot{q} = 0$, perform the following derivations:\n\n- Derive the energy rate $\\frac{dE}{dt}$ along vakonomic trajectories and state the condition under which $E$ is conserved in the vakonomic setting.\n- Derive the energy rate $\\frac{dE}{dt}$ along nonholonomic trajectories and state the condition under which $E$ is conserved in the nonholonomic setting.\n- Explicitly exhibit how time dependence in the Lagrangian $L(q,\\dot{q},t)$ and in the constraint matrix $A(q,t)$ enters the energy rate in each setting.\n\nYour final answer must be a single closed-form analytic expression giving the energy rates in the vakonomic and nonholonomic cases as a two-entry row matrix, with the vakonomic rate first and the nonholonomic rate second. No numerical evaluation is required. Express the final answer using only symbolic quantities $q$, $\\dot{q}$, $t$, $L$, $A$, and $\\lambda$ and their derivatives where needed. Do not include any units in your final answer.",
            "solution": "The problem requires the derivation of the rate of change of mechanical energy for a system subject to linear velocity constraints under two different dynamical frameworks: vakonomic and nonholonomic. We will first establish a general expression for the energy rate and then specialize it for each case.\n\nLet the configuration of the system be described by coordinates $q(t) \\in \\mathbb{R}^{n}$. The system is governed by a smooth Lagrangian $L(q,\\dot{q},t)$. The mechanical energy $E$ is defined as\n$$E(q,\\dot{q},t) = \\dot{q}^{T} \\frac{\\partial L}{\\partial \\dot{q}} - L(q,\\dot{q},t)$$\nwhere we adopt the convention that $\\frac{\\partial L}{\\partial \\dot{q}}$ is a column vector of partial derivatives, i.e., $(\\frac{\\partial L}{\\partial \\dot{q}})_i = \\frac{\\partial L}{\\partial \\dot{q}_i}$.\n\nWe first derive a general expression for the total time derivative of energy, $\\frac{dE}{dt}$, along an arbitrary trajectory $q(t)$. Using the chain rule:\n$$\\frac{dE}{dt} = \\frac{d}{dt} \\left( \\dot{q}^{T} \\frac{\\partial L}{\\partial \\dot{q}} \\right) - \\frac{dL}{dt}$$\nThe first term expands to:\n$$\\frac{d}{dt} \\left( \\dot{q}^{T} \\frac{\\partial L}{\\partial \\dot{q}} \\right) = \\ddot{q}^{T} \\frac{\\partial L}{\\partial \\dot{q}} + \\dot{q}^{T} \\frac{d}{dt}\\left(\\frac{\\partial L}{\\partial \\dot{q}}\\right)$$\nThe total time derivative of the Lagrangian $L(q(t), \\dot{q}(t), t)$ is:\n$$\\frac{dL}{dt} = \\left(\\frac{\\partial L}{\\partial q}\\right)^{T} \\dot{q} + \\left(\\frac{\\partial L}{\\partial \\dot{q}}\\right)^{T} \\ddot{q} + \\frac{\\partial L}{\\partial t}$$\nwhere $\\frac{\\partial L}{\\partial q}$ is the column vector of partials with respect to $q$.\nSubstituting these into the expression for $\\frac{dE}{dt}$:\n$$\\frac{dE}{dt} = \\left( \\ddot{q}^{T} \\frac{\\partial L}{\\partial \\dot{q}} + \\dot{q}^{T} \\frac{d}{dt}\\frac{\\partial L}{\\partial \\dot{q}} \\right) - \\left( \\left(\\frac{\\partial L}{\\partial q}\\right)^{T} \\dot{q} + \\left(\\frac{\\partial L}{\\partial \\dot{q}}\\right)^{T} \\ddot{q} + \\frac{\\partial L}{\\partial t} \\right)$$\nSince $\\ddot{q}^{T} \\frac{\\partial L}{\\partial \\dot{q}} = (\\frac{\\partial L}{\\partial \\dot{q}})^{T} \\ddot{q}$ is a scalar, these terms cancel. The expression simplifies to:\n$$\\frac{dE}{dt} = \\dot{q}^{T} \\frac{d}{dt}\\frac{\\partial L}{\\partial \\dot{q}} - \\left(\\frac{\\partial L}{\\partial q}\\right)^{T} \\dot{q} - \\frac{\\partial L}{\\partial t}$$\nThis can be compactly written as:\n$$\\frac{dE}{dt} = \\dot{q}^{T} \\left( \\frac{d}{dt}\\frac{\\partial L}{\\partial \\dot{q}} - \\frac{\\partial L}{\\partial q} \\right) - \\frac{\\partial L}{\\partial t}$$\nThis general formula relates the rate of change of energy to the Euler-Lagrange expression. We now apply this to the two specified dynamical frameworks.\n\n**Nonholonomic Dynamics**\n\nFor nonholonomic dynamics, the motion is described by the Lagrange-d'Alembert principle, which yields the equations of motion:\n$$ \\frac{d}{dt}\\frac{\\partial L}{\\partial \\dot{q}} - \\frac{\\partial L}{\\partial q} = A(q,t)^{T} \\lambda(t) $$\nHere, $A^{T}\\lambda$ represents the constraint forces. This must be supplemented by the constraint equation itself:\n$$ A(q,t) \\dot{q} = 0 $$\nThe problem states that these Chetaev reaction forces do no power, which is the physical interpretation of the mathematical structure.\nTo find the energy rate, we substitute the nonholonomic equation of motion into our general expression for $\\frac{dE}{dt}$:\n$$ \\frac{dE_{nh}}{dt} = \\dot{q}^{T} \\left( A^{T} \\lambda \\right) - \\frac{\\partial L}{\\partial t} $$\nThe first term can be rewritten using the property of the transpose of a product:\n$$ \\dot{q}^{T} A^{T} \\lambda = (A \\dot{q})^{T} \\lambda $$\nUsing the constraint equation $A \\dot{q} = 0$, this term becomes zero:\n$$ (A \\dot{q})^{T} \\lambda = (0)^{T} \\lambda = 0 $$\nTherefore, the rate of change of energy for the nonholonomic system is:\n$$ \\frac{dE_{nh}}{dt} = - \\frac{\\partial L}{\\partial t} $$\nIn this setting, the energy is conserved if and only if the Lagrangian $L$ does not explicitly depend on time (a scleronomic system). Note that an explicit time-dependence in the constraint matrix $A(q,t)$ does not affect the energy conservation, as the constraint forces are, by construction, always orthogonal to the direction of motion.\n\n**Vakonomic Dynamics**\n\nIn vakonomic dynamics, a different approach is taken. The constraints are incorporated into the action integral using Lagrange multipliers $\\lambda(t)$, and one seeks stationary paths of this new action. The augmented Lagrangian is:\n$$ L_{vak}(q,\\dot{q},t,\\lambda) = L(q,\\dot{q},t) + \\lambda(t)^{T} A(q,t) \\dot{q} $$\nThe dynamics are governed by the Euler-Lagrange equations for $L_{vak}$, where variations are taken with respect to both $q(t)$ and $\\lambda(t)$. The variation with respect to $\\lambda$ yields the constraint $A \\dot{q} = 0$. The variation with respect to $q$ gives the equations of motion.\n\nA general result stemming directly from the Euler-Lagrange equations is that for any Lagrangian $L'$, the associated energy function $E_{L'} = \\dot{q}^{T} \\frac{\\partial L'}{\\partial \\dot{q}} - L'$ evolves as $\\frac{dE_{L'}}{dt} = -\\frac{\\partial L'}{\\partial t}$. We apply this to $L' = L_{vak}$.\nFirst, we find the energy function associated with $L_{vak}$. The \"velocities\" in this extended system are $\\dot{q}$ and $\\dot{\\lambda}$, but since $\\frac{\\partial L_{vak}}{\\partial \\dot{\\lambda}} = 0$, the energy function only depends on $\\dot{q}$:\n$$ E_{L_{vak}} = \\dot{q}^{T} \\frac{\\partial L_{vak}}{\\partial \\dot{q}} - L_{vak} $$\n$$ \\frac{\\partial L_{vak}}{\\partial \\dot{q}} = \\frac{\\partial L}{\\partial \\dot{q}} + \\frac{\\partial}{\\partial \\dot{q}}(\\lambda^{T}A\\dot{q}) = \\frac{\\partial L}{\\partial \\dot{q}} + A^{T}\\lambda $$\nSubstituting this into the expression for $E_{L_{vak}}$:\n$$ E_{L_{vak}} = \\dot{q}^{T} \\left( \\frac{\\partial L}{\\partial \\dot{q}} + A^{T}\\lambda \\right) - (L + \\lambda^{T}A\\dot{q}) $$\n$$ E_{L_{vak}} = \\left( \\dot{q}^{T} \\frac{\\partial L}{\\partial \\dot{q}} - L \\right) + \\dot{q}^{T}A^{T}\\lambda - \\lambda^{T}A\\dot{q} $$\nThe term $\\lambda^{T}A\\dot{q}$ is a scalar, so it is equal to its own transpose, $(\\lambda^{T}A\\dot{q})^T = \\dot{q}^{T}A^{T}\\lambda$. Thus, the two final terms cancel:\n$$ \\dot{q}^{T}A^{T}\\lambda - \\lambda^{T}A\\dot{q} = 0 $$\nThis reveals that the energy function for the vakonomic Lagrangian is identical to the original mechanical energy:\n$$ E_{L_{vak}} = \\dot{q}^{T}\\frac{\\partial L}{\\partial \\dot{q}} - L = E $$\nNow, applying the energy evolution theorem to $L_{vak}$:\n$$ \\frac{dE_{vak}}{dt} = \\frac{dE}{dt} = - \\frac{\\partial L_{vak}}{\\partial t} $$\nWe compute the partial derivative of $L_{vak}$ with respect to time $t$. This derivative acts on the explicit time dependence in $L$ and $A$, but not on the time dependence of the path $q(t)$ or the multiplier $\\lambda(t)$.\n$$ \\frac{\\partial L_{vak}}{\\partial t} = \\frac{\\partial}{\\partial t} \\left( L(q,\\dot{q},t) + \\lambda^{T} A(q,t) \\dot{q} \\right) = \\frac{\\partial L}{\\partial t} + \\lambda^{T} \\frac{\\partial A}{\\partial t} \\dot{q} $$\nTherefore, the rate of change of energy for the vakonomic system is:\n$$ \\frac{dE_{vak}}{dt} = - \\frac{\\partial L}{\\partial t} - \\lambda^{T} \\frac{\\partial A}{\\partial t} \\dot{q} $$\nIn this setting, energy is conserved if $\\frac{\\partial L}{\\partial t} + \\lambda^{T} \\frac{\\partial A}{\\partial t} \\dot{q} = 0$. This requires not only that the Lagrangian be scleronomic ($\\frac{\\partial L}{\\partial t} = 0$) but also that the constraints are scleronomic ($\\frac{\\partial A}{\\partial t} = 0$), or that the non-conservative term fortuitously vanishes.\n\n**Summary of Time Dependence**\n\n-   **Vakonomic Dynamics**: The energy rate $\\frac{dE_{vak}}{dt} = -\\frac{\\partial L}{\\partial t} - \\lambda^T \\frac{\\partial A}{\\partial t} \\dot{q}$ is affected by explicit time dependence in both the Lagrangian $L$ and the constraint matrix $A$. A time-dependent constraint (rheonomic constraint) will generally lead to non-conservation of energy.\n-   **Nonholonomic Dynamics**: The energy rate $\\frac{dE_{nh}}{dt} = -\\frac{\\partial L}{\\partial t}$ is affected only by explicit time dependence in the Lagrangian $L$. Time dependence in the constraint matrix $A$ does not directly contribute to the change in energy. This is a fundamental distinction between the two models.\n\nThe final answer is a row matrix containing the two derived energy rates.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix} -\\frac{\\partial L}{\\partial t} - \\lambda^{T} \\frac{\\partial A}{\\partial t} \\dot{q} & -\\frac{\\partial L}{\\partial t} \\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "The term \"nonholonomic\" has a deep geometric meaning related to path-dependence, which can be visualized through the concept of holonomy. This practice frames a nonholonomic constraint system, the Heisenberg distribution, as an Ehresmann connection that specifies a rule for \"parallel transport\" . By calculating the outcome of moving along a closed loop, you will directly compute the holonomy and gain a powerful geometric intuition for why non-integrable systems have a \"memory\" of the path taken.",
            "id": "3783715",
            "problem": "Consider the Heisenberg distribution on $\\mathbb{R}^{3}$ with coordinates $(x,y,z)$, defined as the rank-$2$ distribution $D = \\ker \\alpha$, where the one-form is $\\alpha = dz - \\frac{1}{2}\\big(x\\,dy - y\\,dx\\big)$. Regard $\\pi : \\mathbb{R}^{3} \\to \\mathbb{R}^{2}$, $\\pi(x,y,z) = (x,y)$, as a trivial fiber bundle with base $\\mathbb{R}^{2}$ and fiber coordinate $z$, and view $D$ as an Ehresmann connection specifying horizontal directions via $\\alpha=0$. Parallel transport within $D$ along a base curve $\\gamma_{\\mathrm{base}}(t) = \\big(x(t),y(t)\\big)$ means lifting it to a curve $\\gamma(t) = \\big(x(t),y(t),z(t)\\big)$ whose velocity lies in $D$, i.e., $\\alpha(\\dot{\\gamma}(t))=0$ for all $t$.\n\nStarting at $(x,y,z)=(0,0,0)$, consider the positively oriented rectangular loop in the base with side lengths $a>0$ and $b>0$, composed of the four segments:\n1. $\\sigma_{1}$: $t \\in [0,1]$, $x(t) = a t$, $y(t) = 0$,\n2. $\\sigma_{2}$: $t \\in [0,1]$, $x(t) = a$, $y(t) = b t$,\n3. $\\sigma_{3}$: $t \\in [0,1]$, $x(t) = a(1-t)$, $y(t) = b$,\n4. $\\sigma_{4}$: $t \\in [0,1]$, $x(t) = 0$, $y(t) = b(1-t)$.\n\nUsing only the defining properties of the distribution $D$ and the notion of horizontal lift in an Ehresmann connection, compute the holonomy of this loop, defined as the net change $\\Delta z$ in the fiber coordinate $z$ after horizontally lifting the loop and returning to the initial base point. Provide the exact closed-form expression for $\\Delta z$ in terms of $a$ and $b$ as your final answer.",
            "solution": "The problem asks for the holonomy, defined as the net change in the fiber coordinate $\\Delta z$, resulting from the parallel transport of a point along a closed loop in the base space. The starting point of the lifted curve is $(x,y,z)=(0,0,0)$. The connection is defined by the horizontal distribution $D = \\ker \\alpha$, where $\\alpha = dz - \\frac{1}{2}(x\\,dy - y\\,dx)$.\n\nA curve $\\gamma(t) = \\big(x(t), y(t), z(t)\\big)$ is a horizontal lift of a base curve $\\gamma_{\\mathrm{base}}(t) = \\big(x(t), y(t)\\big)$ if its velocity vector $\\dot{\\gamma}(t)$ belongs to the distribution $D$ for all $t$. This is expressed by the condition $\\alpha(\\dot{\\gamma}(t)) = 0$.\n\nThe velocity vector is $\\dot{\\gamma}(t) = \\dot{x}(t) \\frac{\\partial}{\\partial x} + \\dot{y}(t) \\frac{\\partial}{\\partial y} + \\dot{z}(t) \\frac{\\partial}{\\partial z}$. Applying the one-form $\\alpha$ to $\\dot{\\gamma}(t)$ yields:\n$$\n\\alpha(\\dot{\\gamma}(t)) = \\left(dz - \\frac{1}{2}(x\\,dy - y\\,dx)\\right)\\left(\\dot{x}(t) \\frac{\\partial}{\\partial x} + \\dot{y}(t) \\frac{\\partial}{\\partial y} + \\dot{z}(t) \\frac{\\partial}{\\partial z}\\right)\n$$\n$$\n= \\dot{z}(t) - \\frac{1}{2}\\left(x(t)\\dot{y}(t) - y(t)\\dot{x}(t)\\right)\n$$\nThe horizontal lift condition $\\alpha(\\dot{\\gamma}(t)) = 0$ implies a differential equation for the fiber coordinate $z(t)$:\n$$\n\\dot{z}(t) = \\frac{1}{2}\\left(x(t)\\dot{y}(t) - y(t)\\dot{x}(t)\\right)\n$$\nThe total change in $z$ after traversing the entire loop is found by integrating $\\dot{z}(t)$ over the duration of the loop. If the base loop is denoted by $C$, this is equivalent to computing the line integral:\n$$\n\\Delta z = z_{\\text{final}} - z_{\\text{initial}} = \\oint_C dz = \\oint_C \\frac{1}{2}\\left(x\\,dy - y\\,dx\\right)\n$$\nSince the initial condition is $z_{\\text{initial}} = 0$, the holonomy $\\Delta z$ is simply the value of this line integral over the specified rectangular loop. The loop consists of four segments, $\\sigma_1, \\sigma_2, \\sigma_3, \\sigma_4$. We will compute the integral for each segment and sum the results.\n\nSegment 1: $\\sigma_1$\nThe parametrization is $x(t) = at$ and $y(t) = 0$ for $t \\in [0,1]$.\nThe derivatives are $\\dot{x}(t) = a$ and $\\dot{y}(t) = 0$.\nThe integral for this segment is:\n$$\n\\Delta z_1 = \\int_0^1 \\frac{1}{2}\\left(x(t)\\dot{y}(t) - y(t)\\dot{x}(t)\\right) dt = \\int_0^1 \\frac{1}{2}\\left((at)(0) - (0)(a)\\right) dt = \\int_0^1 0\\,dt = 0\n$$\n\nSegment 2: $\\sigma_2$\nThe parametrization is $x(t) = a$ and $y(t) = bt$ for $t \\in [0,1]$.\nThe derivatives are $\\dot{x}(t) = 0$ and $\\dot{y}(t) = b$.\nThe integral for this segment is:\n$$\n\\Delta z_2 = \\int_0^1 \\frac{1}{2}\\left(x(t)\\dot{y}(t) - y(t)\\dot{x}(t)\\right) dt = \\int_0^1 \\frac{1}{2}\\left((a)(b) - (bt)(0)\\right) dt = \\int_0^1 \\frac{ab}{2} dt = \\frac{ab}{2}\n$$\n\nSegment 3: $\\sigma_3$\nThe parametrization is $x(t) = a(1-t)$ and $y(t) = b$ for $t \\in [0,1]$.\nThe derivatives are $\\dot{x}(t) = -a$ and $\\dot{y}(t) = 0$.\nThe integral for this segment is:\n$$\n\\Delta z_3 = \\int_0^1 \\frac{1}{2}\\left(x(t)\\dot{y}(t) - y(t)\\dot{x}(t)\\right) dt = \\int_0^1 \\frac{1}{2}\\left((a(1-t))(0) - (b)(-a)\\right) dt = \\int_0^1 \\frac{ab}{2} dt = \\frac{ab}{2}\n$$\n\nSegment 4: $\\sigma_4$\nThe parametrization is $x(t) = 0$ and $y(t) = b(1-t)$ for $t \\in [0,1]$.\nThe derivatives are $\\dot{x}(t) = 0$ and $\\dot{y}(t) = -b$.\nThe integral for this segment is:\n$$\n\\Delta z_4 = \\int_0^1 \\frac{1}{2}\\left(x(t)\\dot{y}(t) - y(t)\\dot{x}(t)\\right) dt = \\int_0^1 \\frac{1}{2}\\left((0)(-b) - (b(1-t))(0)\\right) dt = \\int_0^1 0\\,dt = 0\n$$\n\nThe total holonomy $\\Delta z$ is the sum of the changes in $z$ over the four segments:\n$$\n\\Delta z = \\Delta z_1 + \\Delta z_2 + \\Delta z_3 + \\Delta z_4 = 0 + \\frac{ab}{2} + \\frac{ab}{2} + 0 = ab\n$$\nThe net change in the fiber coordinate $z$ after horizontally lifting the rectangular loop is $ab$. This non-zero result indicates that the Ehresmann connection defined by the distribution $D$ is curved. The holonomy is equal to the area of the loop in the base space, a direct consequence of the structure of the connection one-form (related via Stokes' theorem to its curvature).",
            "answer": "$$\n\\boxed{ab}\n$$"
        }
    ]
}