{
    "hands_on_practices": [
        {
            "introduction": "掌握非完整联络的第一步是能够根据其基本定义进行计算。这个练习将以经典的查普雷金雪橇（Chaplygin sleigh）为模型，指导你通过将黎维-奇维塔（Levi-Civita）联络投影到约束分布上，来显式地计算非完整克氏符号（Christoffel symbols）。通过这项直接的计算 ，你将巩固对非完整联络 $\\nabla^{\\mathrm{nh}}$ 作为黎维-奇维塔联络 $\\nabla$ 的投影这一几何本质的理解。",
            "id": "3780354",
            "problem": "考虑一个平面刚体（“刀刃”或 Chaplygin 雪橇），其位形流形为 $Q=\\mathbb{R}^{2}\\times S^{1}$，坐标为 $q=(x,y,\\theta)$。其动能度规为\n$$\ng = m\\,dx^{2} + m\\,dy^{2} + I\\,d\\theta^{2},\n$$\n其中 $m$ 和 $I$ 是正常数，分别代表质量和绕平面外轴的转动惯量。沿刚体纵轴横向无滑动的非完整约束由单个线性速度约束给出\n$$\nA(q)\\,\\dot{q}=0,\\qquad A(q)=\\begin{bmatrix}-\\sin\\theta  \\cos\\theta  0\\end{bmatrix},\n$$\n因此允许的速度满足 $-\\sin\\theta\\,\\dot{x}+\\cos\\theta\\,\\dot{y}=0$。令 $D=\\ker A(q)\\subset TQ$ 表示约束分布。\n\n仅使用基本定义，即 $g$ 的 Levi-Civita 联络 $\\nabla$ 是唯一的无挠、度规相容联络，以及非完整联络 $\\nabla^{\\mathrm{nh}}$ 是通过将 $\\nabla$ 在两个变量上 $g$-正交投影到 $D$ 上得到的（即，对于取值于 $D$ 的矢量场 $X,Y$，有 $\\nabla^{\\mathrm{nh}}_{X}Y = P\\big(\\nabla_{X}Y\\big)$，其中 $P:TQ\\to D$ 是 $g$-正交投影算子），为该系统显式构造 $\\nabla^{\\mathrm{nh}}$。\n\n选择非完整标架\n$$\ne_{1}(q)=\\cos\\theta\\,\\partial_{x}+\\sin\\theta\\,\\partial_{y},\\qquad e_{2}(q)=\\partial_{\\theta},\n$$\n其张成 $D$。通过下式定义非完整 Christoffel 符号 $\\Gamma^{c}_{ab}(q)$\n$$\n\\nabla^{\\mathrm{nh}}_{e_{a}}e_{b}=\\Gamma^{c}_{ab}\\,e_{c},\\quad a,b,c\\in\\{1,2\\}。\n$$\n计算单个分量 $\\Gamma^{1}_{22}(q)$ 作为 $q$ 的显式表达式。您的最终答案必须是单一的、无单位的闭式解析表达式。",
            "solution": "用户希望计算 Chaplygin 雪橇的非完整 Christoffel 符号 $\\Gamma^{1}_{22}(q)$。求解的逻辑路径是遵循问题陈述中给出的定义。\n\n待计算的量 $\\Gamma^{1}_{22}$ 定义为 $\\nabla^{\\mathrm{nh}}_{e_{2}}e_{2}$ 在基 $\\{e_{1}, e_{2}\\}$ 下展开式中 $e_{1}$ 的系数：\n$$\n\\nabla^{\\mathrm{nh}}_{e_{2}}e_{2} = \\Gamma^{1}_{22}\\,e_{1} + \\Gamma^{2}_{22}\\,e_{2}\n$$\n非完整联络 $\\nabla^{\\mathrm{nh}}$ 定义为度规 $g$ 的 Levi-Civita 联络 $\\nabla$ 到约束分布 $D$ 上的 $g$-正交投影。对于张成 $D$ 的矢量场 $X, Y$，其定义为：\n$$\n\\nabla^{\\mathrm{nh}}_{X}Y = P(\\nabla_{X}Y)\n$$\n其中 $P: TQ \\to D$ 是 $g$-正交投影算子。\n\n将此定义应用于 $X=e_{2}$ 和 $Y=e_{2}$ 的特定情况，我们得到：\n$$\n\\nabla^{\\mathrm{nh}}_{e_{2}}e_{2} = P(\\nabla_{e_{2}}e_{2})\n$$\n因此，问题简化为两个主要步骤：\n1.  计算 Levi-Civita 协变导数 $\\nabla_{e_{2}}e_{2}$。\n2.  将得到的矢量场投影到分布 $D$ 上。\n\n**步骤 1：计算 Levi-Civita 协变导数 $\\nabla_{e_{2}}e_{2}$。**\n\nLevi-Civita 联络 $\\nabla$ 由度规 $g$ 确定。在坐标基 $\\{\\partial_x, \\partial_y, \\partial_\\theta\\}$ 中，度规由下式给出：\n$$\ng = m\\,dx^{2} + m\\,dy^{2} + I\\,d\\theta^{2}\n$$\n这对应于一个度规张量矩阵 $G$，其分量 $g_{ij} = g(\\partial_i, \\partial_j)$ 是对角且恒定的：\n$$\nG = \\begin{pmatrix} m  0  0 \\\\ 0  m  0 \\\\ 0  0  I \\end{pmatrix}\n$$\n其中 $m$ 和 $I$ 是正常数。\n\nLevi-Civita 联络的第一类 Christoffel 符号由下式给出：\n$$\n\\Gamma_{ijk} = \\frac{1}{2}\\left(\\frac{\\partial g_{jk}}{\\partial q^i} + \\frac{\\partial g_{ik}}{\\partial q^j} - \\frac{\\partial g_{ij}}{\\partial q^k}\\right)\n$$\n第二类 Christoffel 符号为 $\\Gamma^k_{ij} = g^{kl}\\Gamma_{lij}$。由于所有度规分量 $g_{ij}$ 都是常数，它们对坐标 $(x, y, \\theta)$ 的所有偏导数均为零。\n$$\n\\frac{\\partial g_{ij}}{\\partial q^k} = 0 \\quad \\text{for all } i,j,k \\in \\{x,y,\\theta\\}\n$$\n因此，在此坐标系中，Levi-Civita 联络的所有 Christoffel 符号均为零：$\\Gamma^k_{ij} = 0$。\n\n一个坐标基矢量场沿另一个坐标基矢量场的协变导数由 $\\nabla_{\\partial_i}\\partial_j = \\Gamma^k_{ij}\\partial_k$ 给出。由于所有 $\\Gamma^k_{ij}$ 均为零，我们有 $\\nabla_{\\partial_i}\\partial_j = 0$。这意味着该联络在 $(x, y, \\theta)$ 坐标下是平坦的。\n\n问题给出的标架矢量 $e_{2}$ 是一个坐标基矢量：\n$$\ne_{2}(q) = \\partial_{\\theta}\n$$\n我们现在可以计算 $\\nabla_{e_{2}}e_{2}$：\n$$\n\\nabla_{e_{2}}e_{2} = \\nabla_{\\partial_{\\theta}}\\partial_{\\theta}\n$$\n使用公式 $\\nabla_{\\partial_{\\theta}}\\partial_{\\theta} = \\Gamma^k_{\\theta\\theta}\\partial_k$ 以及所有 $\\Gamma^k_{\\theta\\theta}=0$ 这一事实，我们发现：\n$$\n\\nabla_{e_{2}}e_{2} = 0\n$$\n得到的矢量场是零矢量场。\n\n**步骤 2：将 $\\nabla_{e_{2}}e_{2}$ 投影到分布 $D$ 上。**\n\n非完整联络是通过使用投影算子 $P$ 将此结果投影到分布 $D$ 上得到的。投影算子 $P$ 是一个线性映射。它作用于零矢量上产生零矢量：\n$$\nP(0) = 0\n$$\n因此，我们有：\n$$\n\\nabla^{\\mathrm{nh}}_{e_{2}}e_{2} = P(\\nabla_{e_{2}}e_{2}) = P(0) = 0\n$$\n\n**步骤 3：确定系数 $\\Gamma^{1}_{22}$。**\n\n我们将步骤 2 的结果与非完整 Christoffel 符号的定义相等：\n$$\n\\Gamma^{1}_{22}\\,e_{1} + \\Gamma^{2}_{22}\\,e_{2} = 0\n$$\n标架矢量 $e_{1} = \\cos\\theta\\,\\partial_{x}+\\sin\\theta\\,\\partial_{y}$ 和 $e_{2} = \\partial_{\\theta}$ 在每个点 $q \\in Q$ 处都是线性无关的。要使它们的线性组合为零矢量，系数必须为零。\n$$\n\\Gamma^{1}_{22} = 0 \\quad \\text{and} \\quad \\Gamma^{2}_{22} = 0\n$$\n问题要求计算分量 $\\Gamma^{1}_{22}(q)$。结果是 $0$。该值是常数，因此与 $q$ 无关。",
            "answer": "$$\n\\boxed{0}\n$$"
        },
        {
            "introduction": "在学会如何构造非完整联络之后，下一步是利用它来确定系统的运动轨迹。非完整联络的自平行曲线（autoparallels）被称为非完整测地线，它描述了系统在约束下的“无力”运动。本练习  将探讨海森堡（Heisenberg）分布上的非完整测地线，并揭示一个约束力恰好为零的特殊情况，从而极大地简化了动力学。这个例子清晰地展示了约束的几何结构与系统最终运动之间的微妙关系。",
            "id": "3780406",
            "problem": "设 $\\mathbb{R}^{3}$ 在笛卡尔坐标系 $(x,y,z)$ 下具有欧几里得度量 $g$，并考虑由 1-形式 $\\alpha = dz - \\tfrac{1}{2}\\left(x\\,dy - y\\,dx\\right)$ 定义的 Heisenberg 型不可积分布 $\\mathcal{D}=\\ker \\alpha$。其正交补由欧几里得音乐同构 $g^{\\sharp}$ 确定，非完整联络通过正交投影算子 $P:\\,T\\mathbb{R}^{3}\\to \\mathcal{D}$ 将 $g$ 的 Levi-Civita 联络 $\\nabla$ 投影到 $\\mathcal{D}$ 上来定义。一条非完整测地线是一条曲线 $\\gamma(t)$，满足对所有 $t$ 都有 $\\dot{\\gamma}(t)\\in \\mathcal{D}$ 且 $P\\left(\\nabla_{\\dot{\\gamma}}\\dot{\\gamma}\\right)=0$。\n\n从 d’Alembert-Lagrange 非完整变分原理的第一性原理出发，针对动能拉格朗日量 $L=\\tfrac{1}{2}\\|\\dot{\\gamma}\\|^{2}$ 和速度约束 $\\alpha(\\dot{\\gamma})=0$，推导非完整测地线的控制运动方程，并针对以下初值问题求解：\n$$\n\\gamma(0)=(0,0,0),\\qquad \\dot{\\gamma}(0)=(v_{1},\\,v_{2},\\,0),\n$$\n其中 $v_{1}$ 和 $v_{2}$ 是实常数。然后，使用亚黎曼几何的基本哈密顿框架和 Pontryagin 极大值原理 (PMP)，将得到的非完整测地线与通过声明向量场 $X_{1}=\\partial_{x}-\\tfrac{y}{2}\\partial_{z}$ 和 $X_{2}=\\partial_{y}+\\tfrac{x}{2}\\partial_{z}$ 在 $\\mathcal{D}$ 上为标准正交而得到的 Heisenberg 结构的正规亚黎曼测地线进行比较。\n\n给出给定初始条件下非完整测地线 $\\gamma_{\\mathrm{nh}}(t)$ 的显式参数形式。将最终答案表示为包含三个分量函数 $(x(t),\\,y(t),\\,z(t))$ 的单行矩阵。无需数值近似。",
            "solution": "首先验证问题以确保其是适定的、有科学依据且内部一致的。\n\n### 步骤 1：提取已知条件\n-   **位形空间**：$\\mathbb{R}^3$ 及笛卡尔坐标 $(x,y,z)$。\n-   **度量**：标准欧几里得度量 $g$。\n-   **拉格朗日量**：动能拉格朗日量 $L = \\frac{1}{2}\\|\\dot{\\gamma}\\|^2 = \\frac{1}{2}(\\dot{x}^2 + \\dot{y}^2 + \\dot{z}^2)$。\n-   **非完整约束**：速度向量 $\\dot{\\gamma}=(\\dot{x}, \\dot{y}, \\dot{z})$ 必须位于分布 $\\mathcal{D} = \\ker \\alpha$ 中，其中 $\\alpha = dz - \\frac{1}{2}(x\\,dy - y\\,dx)$。该约束由 Pfaffian 方程 $\\alpha(\\dot{\\gamma}) = 0$ 给出，即 $\\dot{z} - \\frac{1}{2}(x\\dot{y} - y\\dot{x}) = 0$。\n-   **初始条件**：$\\gamma(0) = (x(0), y(0), z(0)) = (0,0,0)$ 且 $\\dot{\\gamma}(0) = (\\dot{x}(0), \\dot{y}(0), \\dot{z}(0)) = (v_1, v_2, 0)$，其中 $v_1, v_2 \\in \\mathbb{R}$ 是常数。\n-   **任务**：使用 d'Alembert-Lagrange 原理，推导并求解在给定初始条件下的非完整测地线方程。此外，将此结果与正规亚黎曼测地线进行比较。\n\n### 步骤 2：使用提取的已知条件进行验证\n-   **科学依据**：该问题是非完整几何和亚黎曼几何中的一个标准练习，这两个领域是微分几何和几何力学中已成熟的分支。Heisenberg 分布是一个典范例子。该问题在科学上是合理的。\n-   **适定性与一致性**：该问题提供了一个拉格朗日量、一个有效的非完整约束和一套完整的初始条件。在点 $\\gamma(0)=(0,0,0)$ 处的初始速度 $\\dot{\\gamma}(0)=(v_1, v_2, 0)$ 必须满足约束：$\\dot{z}(0) - \\frac{1}{2}(x(0)\\dot{y}(0) - y(0)\\dot{x}(0)) = 0 - \\frac{1}{2}(0 \\cdot v_2 - 0 \\cdot v_1) = 0$。初始条件与约束一致。问题是适定的。\n-   **客观性**：问题以精确的数学语言陈述，没有任何主观性或歧义。\n\n### 步骤 3：结论与行动\n问题被判定为**有效**的。将提供完整解答。\n\n### 运动方程的推导\n\n我们使用 d'Alembert-Lagrange 非完整变分原理。对于具有拉格朗日量 $L(q, \\dot{q})$ 并受线性速度约束 $C(q, \\dot{q}) = \\sum_i A_i(q) \\dot{q}^i = 0$ 的系统，其运动方程由下式给出：\n$$\n\\frac{d}{dt}\\left(\\frac{\\partial L}{\\partial \\dot{q}^i}\\right) - \\frac{\\partial L}{\\partial q^i} = \\lambda A_i(q)\n$$\n其中 $\\lambda$ 是一个拉格朗日乘子，由约束的持续性确定。\n\n拉格朗日量为 $L = \\frac{1}{2}(\\dot{x}^2 + \\dot{y}^2 + \\dot{z}^2)$。坐标为 $q = (x, y, z)$。$L$ 的偏导数为：\n$$\n\\frac{\\partial L}{\\partial \\dot{x}} = \\dot{x}, \\quad \\frac{\\partial L}{\\partial \\dot{y}} = \\dot{y}, \\quad \\frac{\\partial L}{\\partial \\dot{z}} = \\dot{z}\n$$\n$$\n\\frac{\\partial L}{\\partial x} = 0, \\quad \\frac{\\partial L}{\\partial y} = 0, \\quad \\frac{\\partial L}{\\partial z} = 0\n$$\n约束方程 $\\dot{z} - \\frac{1}{2}(x\\dot{y} - y\\dot{x}) = 0$ 可以写为 $A_x \\dot{x} + A_y \\dot{y} + A_z \\dot{z} = 0$，其中：\n$$\nA_x = \\frac{y}{2}, \\quad A_y = -\\frac{x}{2}, \\quad A_z = 1\n$$\n对于坐标 $(x,y,z)$ 的 Lagrange-d'Alembert 方程为：\n1.  $\\ddot{x} = \\lambda A_x = \\lambda \\frac{y}{2}$\n2.  $\\ddot{y} = \\lambda A_y = -\\lambda \\frac{x}{2}$\n3.  $\\ddot{z} = \\lambda A_z = \\lambda$\n\n为了求出拉格朗日乘子 $\\lambda$，我们将约束方程对时间 $t$ 求导：\n$$\n\\frac{d}{dt}\\left(\\dot{z} - \\frac{1}{2}(x\\dot{y} - y\\dot{x})\\right) = 0\n$$\n$$\n\\ddot{z} - \\frac{1}{2}(\\dot{x}\\dot{y} + x\\ddot{y} - \\dot{y}\\dot{x} - y\\ddot{x}) = 0\n$$\n$$\n\\ddot{z} - \\frac{1}{2}(x\\ddot{y} - y\\ddot{x}) = 0\n$$\n现在，将运动方程中 $\\ddot{x}$、$\\ddot{y}$ 和 $\\ddot{z}$ 的表达式代入这个微分后的约束方程中：\n$$\n\\lambda - \\frac{1}{2}\\left(x\\left(-\\lambda \\frac{x}{2}\\right) - y\\left(\\lambda \\frac{y}{2}\\right)\\right) = 0\n$$\n$$\n\\lambda - \\frac{1}{2}\\left(-\\frac{\\lambda x^2}{2} - \\frac{\\lambda y^2}{2}\\right) = 0\n$$\n$$\n\\lambda + \\frac{\\lambda}{4}(x^2 + y^2) = 0\n$$\n$$\n\\lambda \\left(1 + \\frac{x^2 + y^2}{4}\\right) = 0\n$$\n由于对于所有实数 $x$ 和 $y$，项 $1 + \\frac{1}{4}(x^2 + y^2)$ 恒为正，唯一的可能性是乘子 $\\lambda$ 恒等于零，即对所有 $t$ 都有 $\\lambda(t) = 0$。\n\n这一结果表明，对于这个特定的非完整系统，约束力为零。运动方程简化为：\n$$\n\\ddot{x} = 0, \\quad \\ddot{y} = 0, \\quad \\ddot{z} = 0\n$$\n这些方程描述了以恒定速度进行的直线运动。\n\n### 求解初值问题\n\n我们将运动方程积分两次。一次积分得到：\n$$\n\\dot{x}(t) = c_1, \\quad \\dot{y}(t) = c_2, \\quad \\dot{z}(t) = c_3\n$$\n应用初始速度条件 $\\dot{\\gamma}(0)=(v_1, v_2, 0)$，我们求出积分常数：\n$$\nc_1 = v_1, \\quad c_2 = v_2, \\quad c_3 = 0\n$$\n因此，速度向量是恒定的：$\\dot{\\gamma}(t) = (v_1, v_2, 0)$。\n\n再次积分得到轨迹：\n$$\nx(t) = v_1 t + d_1, \\quad y(t) = v_2 t + d_2, \\quad z(t) = 0 \\cdot t + d_3\n$$\n应用初始位置条件 $\\gamma(0)=(0,0,0)$：\n$$\nd_1 = 0, \\quad d_2 = 0, \\quad d_3 = 0\n$$\n因此，非完整测地线的显式参数形式为：\n$$\n\\gamma_{\\mathrm{nh}}(t) = (v_1 t, v_2 t, 0)\n$$\n我们必须验证该解在所有时刻 $t$ 都满足非完整约束：\n$$\n\\dot{z}(t) - \\frac{1}{2}\\left(x(t)\\dot{y}(t) - y(t)\\dot{x}(t)\\right) = 0 - \\frac{1}{2}\\left((v_1 t)(v_2) - (v_2 t)(v_1)\\right) = -\\frac{1}{2}(v_1 v_2 t - v_2 v_1 t) = 0\n$$\n该约束在所有时刻都得到满足。\n\n### 与亚黎曼测地线的比较\n\n该问题还要求与从 Pontryagin 极大值原理 (PMP) 得到的、针对相同分布的正规亚黎曼测地线进行比较。Heisenberg 群的亚黎曼测地线方程已知为：\n$$\n\\ddot{x} = -p_z \\dot{y}, \\quad \\ddot{y} = p_z \\dot{x}\n$$\n其中 $p_z$ 是与 $z$ 坐标共轭的常动量。这些方程描述了 $(x,y)$-平面上的圆周运动（当 $p_z \\neq 0$ 时），从而在 $\\mathbb{R}^3$ 中形成螺旋线路径。这通常与上面求出的直线非完整测地线不同。\n\n但是，存在一个特殊情况。如果 PMP 的初始余态向量满足 $p_z(0)=0$，那么亚黎曼测地线方程变为 $\\ddot{x}=0$ 和 $\\ddot{y}=0$。这也意味着 $\\ddot{z}=0$。这恰好是我们为非完整测地线求解的系统。因此，对于这个特定问题，非完整测地线 $\\gamma_{\\mathrm{nh}}(t)$ 对应于共轭动量 $p_z$ 为零的特殊情况下的亚黎曼测地线。\n\n指定初值问题的非完整测地线解是一条直线路径。\n\n最终答案是 $\\gamma_{\\mathrm{nh}}(t)$ 的分量函数集合。\n$$\nx(t) = v_1 t\n$$\n$$\ny(t) = v_2 t\n$$\n$$\nz(t) = 0\n$$",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\nv_1 t & v_2 t & 0\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "非完整力学中一个至关重要且有悖直觉的结论是：“最直”的路径（非完整联络的自平行曲线）通常并非“最短”的路径（亚黎曼测地线）。本练习  旨在通过一个具体的计算来无可辩驳地证明这一点。通过比较连接相同端点的一条非完整自平行曲线和另一条分段可行路径的长度，你将能够量化它们之间的差异，从而深刻理解为什么在非完整系统中，测地线和长度最小化路径是两个不同的概念。",
            "id": "3780377",
            "problem": "考虑位形空间 $M = \\mathbb{R}^2 \\times S^1$，其全局坐标为 $(x,y,\\theta)$，配备了黎曼度量 $g_{\\lambda}$，定义为 $g_{\\lambda}(\\partial_{x},\\partial_{x})=1$，$g_{\\lambda}(\\partial_{y},\\partial_{y})=1$，$g_{\\lambda}(\\partial_{\\theta},\\partial_{\\theta})=\\lambda^{2}$，且所有交叉项均为零，其中 $\\lambda>0$ 是一个固定参数。施加禁止横向滑移的非完整约束，该约束由秩为 2 的分布 $D=\\mathrm{span}\\{X_{1},X_{2}\\}$ 建模，其中 $X_{1}=\\cos\\theta\\,\\partial_{x}+\\sin\\theta\\,\\partial_{y}$ 且 $X_{2}=\\partial_{\\theta}$。令 $\\nabla$ 为 $g_{\\lambda}$ 的 Levi-Civita 联络，并令 $\\nabla^{\\mathrm{nh}}$ 表示非完整联络，其定义为 $\\nabla$ 在 $g_{\\lambda}$ 度量下到 $D$ 上的正交投影，即对于 $U,V\\in\\Gamma(D)$，有 $\\nabla^{\\mathrm{nh}}_{U}V := P\\big(\\nabla_{U}V\\big)$，其中 $P:T M\\to D$ 是 $g_{\\lambda}$-正交投影算子。\n\n一条曲线 $\\gamma(t)=(x(t),y(t),\\theta(t))$，若其满足 $\\dot{\\gamma}(t)\\in D$，则当 $P\\big(\\nabla_{\\dot{\\gamma}}\\dot{\\gamma}\\big)=0$ 时，称其为 $\\nabla^{\\mathrm{nh}}$ 的自平行曲线。在 $D$ 上的次黎曼度量是 $g_{\\lambda}$ 在 $D$ 上的限制；一条容许曲线的长度是其速度关于此受限度量的逐点范数的积分。\n\n从 $\\gamma(0)=(0,0,0)$ 出发，固定参数 $R>0$ 和 $\\Delta\\theta\\in(0,2\\pi)$，并考虑目标终点 $\\gamma(T)=(x_{f},y_{f},\\theta_{f})$，其中 $x_{f}=R\\sin\\Delta\\theta$，$y_{f}=R(1-\\cos\\Delta\\theta)$，且 $\\theta_{f}=\\Delta\\theta$。该终点可以通过以下方式到达：\n- 一条单一的 $\\nabla^{\\mathrm{nh}}$-自平行曲线，其体速度和角速率为常数，满足 $\\dot{x}=u_{1}\\cos\\theta$，$\\dot{y}=u_{1}\\sin\\theta$，$\\dot{\\theta}=u_{2}$ 且 $R=u_{1}/u_{2}$；并且也可以通过\n- 一条三段式容许路径，它首先旋转 $\\Delta\\theta/2$，然后沿着 $X_{1}$（其中 $\\dot{\\theta}=0$）平移距离 $2R\\sin(\\Delta\\theta/2)$，最后再次旋转 $\\Delta\\theta/2$。\n\n仅使用上述定义以及 Levi-Civita 联络和正交投影的第一性原理，推导这两条路径的次黎曼长度 $L_{\\mathrm{arc}}$ 和 $L_{\\mathrm{piece}}$，并计算精确的符号差\n$$D(R,\\lambda,\\Delta\\theta)=L_{\\mathrm{arc}}-L_{\\mathrm{piece}}.$$\n你的最终答案必须是关于 $R$、$\\lambda$ 和 $\\Delta\\theta$ 的单个 $D(R,\\lambda,\\Delta\\theta)$ 的闭式解析表达式。不要近似；不要四舍五入；请给出精确表达式。",
            "solution": "该问题提法恰当且科学上合理，包含了唯一解所需的所有信息。我们开始推导。\n\n位形空间为 $M = \\mathbb{R}^2 \\times S^1$，坐标为 $(x,y,\\theta)$。黎曼度量 $g_{\\lambda}$ 由其在坐标基矢量上的作用给出：\n$$\ng_{\\lambda}(\\partial_{x},\\partial_{x})=1, \\quad g_{\\lambda}(\\partial_{y},\\partial_{y})=1, \\quad g_{\\lambda}(\\partial_{\\theta},\\partial_{\\theta})=\\lambda^{2}\n$$\n所有交叉项均为零。在基 $(\\partial_x, \\partial_y, \\partial_\\theta)$下，度量张量的矩阵形式为：\n$$\n[g_{\\lambda}] = \\begin{pmatrix} 1 & 0 & 0 \\\\ 0 & 1 & 0 \\\\ 0 & 0 & \\lambda^2 \\end{pmatrix}\n$$\n非完整约束由分布 $D = \\mathrm{span}\\{X_1, X_2\\}$ 定义，其中的矢量场为：\n$$\nX_1 = \\cos\\theta\\,\\partial_x + \\sin\\theta\\,\\partial_y \\\\\nX_2 = \\partial_\\theta\n$$\n一条容许路径 $\\gamma(t)$ 是指其速度矢量 $\\dot{\\gamma}(t)$ 对所有 $t$ 都位于 $D$ 中。这样一条路径的次黎曼长度为 $L = \\int \\sqrt{g_{\\lambda}(\\dot{\\gamma}(t), \\dot{\\gamma}(t))} \\, dt$。\n\n首先，我们计算在基 $\\{X_1, X_2\\}$ 下的度量分量，该基构成了分布 $D$ 的一个（局部）标架。\n$$\ng_{\\lambda}(X_1, X_1) = g_{\\lambda}(\\cos\\theta\\,\\partial_x + \\sin\\theta\\,\\partial_y, \\cos\\theta\\,\\partial_x + \\sin\\theta\\,\\partial_y) \\\\\n= \\cos^2\\theta \\, g_{\\lambda}(\\partial_x, \\partial_x) + \\sin^2\\theta \\, g_{\\lambda}(\\partial_y, \\partial_y) = \\cos^2\\theta \\cdot 1 + \\sin^2\\theta \\cdot 1 = 1\n$$\n$$\ng_{\\lambda}(X_2, X_2) = g_{\\lambda}(\\partial_\\theta, \\partial_\\theta) = \\lambda^2\n$$\n$$\ng_{\\lambda}(X_1, X_2) = g_{\\lambda}(\\cos\\theta\\,\\partial_x + \\sin\\theta\\,\\partial_y, \\partial_\\theta) = 0\n$$\n因此，$\\{X_1, X_2\\}$ 构成了 $D$ 的一个 $g_{\\lambda}$-正交但非标准正交的标架。\n\n接下来，我们计算第一条路径的长度 $L_{\\mathrm{arc}}$。\n该路径由运动学方程 $\\dot{x}=u_{1}\\cos\\theta$，$\\dot{y}=u_{1}\\sin\\theta$ 和 $\\dot{\\theta}=u_{2}$ 描述，其中 $u_1$ 和 $u_2$ 是常数。速度矢量可以写为：\n$$\n\\dot{\\gamma}(t) = \\dot{x}\\partial_x + \\dot{y}\\partial_y + \\dot{\\theta}\\partial_\\theta = u_1(\\cos\\theta\\,\\partial_x + \\sin\\theta\\,\\partial_y) + u_2\\partial_\\theta = u_1 X_1 + u_2 X_2\n$$\n这证实了该路径是容许的。速度矢量的范数平方为：\n$$\ng_{\\lambda}(\\dot{\\gamma}, \\dot{\\gamma}) = g_{\\lambda}(u_1 X_1 + u_2 X_2, u_1 X_1 + u_2 X_2) = u_1^2 g_{\\lambda}(X_1, X_1) + u_2^2 g_{\\lambda}(X_2, X_2) = u_1^2 + \\lambda^2 u_2^2\n$$\n由于 $u_1$ 和 $u_2$ 是常数，速度 $s = \\sqrt{u_1^2 + \\lambda^2 u_2^2}$ 沿着路径是恒定的。\n路径从 $\\gamma(0)=(0,0,0)$ 开始，结束于 $\\gamma(T)=(x_f,y_f,\\theta_f)$。\n由 $\\dot{\\theta}=u_2$，我们得到 $\\theta(t) = u_2 t$。在最终时刻 $T$，有 $\\theta_f = \\Delta\\theta = u_2 T$，这给出 $T = \\Delta\\theta / u_2$。因为 $\\Delta\\theta \\in (0, 2\\pi)$，为了使 $T>0$，必须有 $u_2>0$。\n弧长为 $L_{\\mathrm{arc}} = s \\cdot T = \\sqrt{u_1^2 + \\lambda^2 u_2^2} \\cdot (\\Delta\\theta/u_2)$。\n我们已知关系 $R = u_1/u_2$，因此 $u_1 = R u_2$。将此代入长度表达式中：\n$$\nL_{\\mathrm{arc}} = \\sqrt{(R u_2)^2 + \\lambda^2 u_2^2} \\frac{\\Delta\\theta}{u_2} = \\sqrt{u_2^2(R^2 + \\lambda^2)} \\frac{\\Delta\\theta}{u_2}\n$$\n因为 $u_2 > 0$，所以 $\\sqrt{u_2^2} = u_2$。\n$$\nL_{\\mathrm{arc}} = u_2 \\sqrt{R^2 + \\lambda^2} \\frac{\\Delta\\theta}{u_2} = \\Delta\\theta \\sqrt{R^2 + \\lambda^2}\n$$\n\n现在，我们计算第二条路径的长度 $L_{\\mathrm{piece}}$。该路径由三段组成。\n第一段：旋转 $\\Delta\\theta/2$。\n在此段中，$\\dot{x}=\\dot{y}=0$，$\\theta$ 从 $0$ 变为 $\\Delta\\theta/2$。速度为 $\\dot{\\gamma}_1(t) = \\dot{\\theta}(t)\\partial_\\theta = \\dot{\\theta}(t) X_2$。假设旋转是单调的，则 $\\dot{\\theta}(t) \\geq 0$。\n此段的长度为：\n$$\nL_1 = \\int_{t_0}^{t_1} \\sqrt{g_{\\lambda}(\\dot{\\gamma}_1, \\dot{\\gamma}_1)} \\, dt = \\int_{t_0}^{t_1} \\sqrt{\\dot{\\theta}^2 g_{\\lambda}(X_2, X_2)} \\, dt = \\int_{t_0}^{t_1} \\dot{\\theta} \\lambda \\, dt = \\lambda \\int_0^{\\Delta\\theta/2} d\\theta = \\frac{\\lambda \\Delta\\theta}{2}\n$$\n\n第二段：沿 $X_{1}$ 平移距离 $d = 2R\\sin(\\Delta\\theta/2)$，其中 $\\dot{\\theta}=0$。\n在此段中，$\\theta$ 恒为 $\\Delta\\theta/2$。速度为 $\\dot{\\gamma}_2(t) = v(t) X_1|_{\\theta=\\Delta\\theta/2}$，其中 $v(t) \\geq 0$ 为某个标量函数。\n此段的长度为：\n$$\nL_2 = \\int_{t_1}^{t_2} \\sqrt{g_{\\lambda}(\\dot{\\gamma}_2, \\dot{\\gamma}_2)} \\, dt = \\int_{t_1}^{t_2} \\sqrt{v(t)^2 g_{\\lambda}(X_1, X_1)} \\, dt = \\int_{t_1}^{t_2} v(t) \\, dt\n$$\n问题陈述该路径段覆盖了“距离” $d=2R\\sin(\\Delta\\theta/2)$。该路径由弧长 s 参数化。速度矢量是 $X_1$，其 $g_\\lambda$-范数为单位1。因此，次黎曼长度就是总距离参数。\n$$\nL_2 = 2R\\sin\\left(\\frac{\\Delta\\theta}{2}\\right)\n$$\n在问题验证期间已经证实，该路径长度也对应于在 $(x,y)$-平面上所覆盖的欧几里得距离。\n\n第三段：旋转 $\\Delta\\theta/2$。\n此段与第一段对称。$\\theta$ 从 $\\Delta\\theta/2$ 变为 $\\Delta\\theta$，而 $x$ 和 $y$ 保持不变。\n其长度计算方法与第一段类似：\n$$\nL_3 = \\int_{t_2}^{t_3} \\lambda \\dot{\\theta} \\, dt = \\lambda \\int_{\\Delta\\theta/2}^{\\Delta\\theta} d\\theta = \\lambda \\left(\\Delta\\theta - \\frac{\\Delta\\theta}{2}\\right) = \\frac{\\lambda \\Delta\\theta}{2}\n$$\n\n分段路径的总长度是其各段长度之和：\n$$\nL_{\\mathrm{piece}} = L_1 + L_2 + L_3 = \\frac{\\lambda \\Delta\\theta}{2} + 2R\\sin\\left(\\frac{\\Delta\\theta}{2}\\right) + \\frac{\\lambda \\Delta\\theta}{2} = \\lambda \\Delta\\theta + 2R\\sin\\left(\\frac{\\Delta\\theta}{2}\\right)\n$$\n\n最后，我们计算差值 $D(R, \\lambda, \\Delta\\theta) = L_{\\mathrm{arc}} - L_{\\mathrm{piece}}$：\n$$\nD(R, \\lambda, \\Delta\\theta) = \\Delta\\theta \\sqrt{R^2 + \\lambda^2} - \\left( \\lambda \\Delta\\theta + 2R\\sin\\left(\\frac{\\Delta\\theta}{2}\\right) \\right)\n$$\n$$\nD(R, \\lambda, \\Delta\\theta) = \\Delta\\theta \\left( \\sqrt{R^2 + \\lambda^2} - \\lambda \\right) - 2R\\sin\\left(\\frac{\\Delta\\theta}{2}\\right)\n$$\n这就是长度差的最终符号表达式。",
            "answer": "$$\\boxed{\\Delta\\theta \\left( \\sqrt{R^2 + \\lambda^2} - \\lambda \\right) - 2R\\sin\\left(\\frac{\\Delta\\theta}{2}\\right)}$$"
        }
    ]
}