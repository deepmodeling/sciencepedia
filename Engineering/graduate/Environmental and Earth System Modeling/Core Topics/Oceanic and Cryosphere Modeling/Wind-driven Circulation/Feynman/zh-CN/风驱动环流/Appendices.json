{
    "hands_on_practices": [
        {
            "introduction": "在深入研究任何物理定律之前，首先要确保其在量纲上的一致性。本练习将引导你通过量纲分析，验证斯维尔德鲁普平衡中各项的单位，从而加深对行星涡度平流和风应力旋度这两个核心物理量内在联系的理解。这个基础性的检验是建立对风生环流动力学直观感受的第一步。",
            "id": "3932825",
            "problem": "在大尺度风生海洋环流的背景下，考虑科里奥利参数的经向梯度和一个深度积分的经向输送，以及风应力水平旋度的垂直分量（该分量已通过一个恒定的参考密度进行缩放）。从以下基本定义和事实出发：\n- 科里奥利参数定义为 $f = 2 \\Omega \\sin \\varphi$，其中 $\\Omega$ 是地球自转速率，量纲为 $\\mathrm{s}^{-1}$，$\\varphi$ 是纬度（无量纲）。经向梯度为 $\\beta = \\partial f / \\partial y$，其中 $y$ 是一个经向坐标，量纲为 $\\mathrm{m}$。\n- 经向输送 $V$ 是经向速度 $v$ 在深度 $z$ 上的垂直积分，即 $V = \\int v \\, \\mathrm{d}z$，其中 $v$ 的量纲为 $\\mathrm{m}\\,\\mathrm{s}^{-1}$，$z$ 的量纲为 $\\mathrm{m}$。\n- 风应力 $\\boldsymbol{\\tau} = (\\tau_x, \\tau_y)$ 是大气施加在海洋表面的单位面积上的力，量纲为 $\\mathrm{N}\\,\\mathrm{m}^{-2}$；根据牛顿第二定律，我们知道 $\\mathrm{N} = \\mathrm{kg}\\,\\mathrm{m}\\,\\mathrm{s}^{-2}$。\n- 水平旋度的垂直分量为 $\\operatorname{curl}_z \\boldsymbol{\\tau} = \\partial \\tau_y / \\partial x - \\partial \\tau_x / \\partial y$，在量纲分析中，对 $x$ 和 $y$ 的偏导数各贡献一个逆长度因子 $\\mathrm{m}^{-1}$。\n- 恒定参考密度 $\\rho_0$ 的量纲为 $\\mathrm{kg}\\,\\mathrm{m}^{-3}$。\n\n仅使用这些基础知识，确定两个构造量 $\\beta V$ 和 $(\\operatorname{curl}_z \\boldsymbol{\\tau}) / \\rho_0$ 各自的国际单位制（SI）基本单位幂向量，并验证它们是相同的。将共同的SI基本单位幂向量以 $(\\mathrm{kg}, \\mathrm{m}, \\mathrm{s})$ 的顺序表示为单行矩阵。不需要数值，也无需四舍五入。在最终的方框答案中不要包含单位；只提供对应于 $(\\mathrm{kg}, \\mathrm{m}, \\mathrm{s})$ 的整数指数。",
            "solution": "该问题要求对风生海洋环流中Sverdrup平衡的核心两个量进行量纲分析：行星涡度平流项 $\\beta V$ 和风应力旋度项 $(\\operatorname{curl}_z \\boldsymbol{\\tau}) / \\rho_0$。目标是确定每个量的SI基本单位幂向量并验证它们相同。我们将使用质量（$M$）、长度（$L$）和时间（$T$）这些基本量纲，它们分别对应于SI基本单位千克（$\\mathrm{kg}$）、米（$\\mathrm{m}$）和秒（$\\mathrm{s}$）。\n\n首先，我们分析 $\\beta V$ 项。这需要分别找出 $\\beta$ 和 $V$ 的量纲。\n\n科里奥利参数的经向梯度为 $\\beta = \\partial f / \\partial y$。$\\beta$ 的量纲记为 $[\\beta]$，是 $f$ 的量纲除以 $y$ 的量纲。\n科里奥利参数 $f$ 由 $f = 2 \\Omega \\sin \\varphi$ 给出。\n- 因子 $2$ 是一个无量纲数。\n- 地球自转速率 $\\Omega$ 给定的量纲是时间的倒数，所以 $[\\Omega] = T^{-1}$。\n- 纬度 $\\varphi$ 及其正弦值 $\\sin \\varphi$ 都是无量纲量。\n因此，科里奥利参数的量纲是 $[f] = T^{-1}$。\n经向坐标 $y$ 是一个长度，所以 $[y] = L$。\n结合这些，$\\beta$ 的量纲是：\n$$ [\\beta] = \\frac{[f]}{[y]} = \\frac{T^{-1}}{L} = L^{-1} T^{-1} $$\n\n接下来，我们求经向输送 $V$ 的量纲。其定义为 $V = \\int v \\, \\mathrm{d}z$。积分的量纲是被积函数与微分的量纲之积。\n- 经向速度 $v$ 的量纲是长度每时间，所以 $[v] = L T^{-1}$。\n- 深度坐标 $z$ 是一个长度，所以微分 $\\mathrm{d}z$ 的量纲也是长度，$[\\mathrm{d}z] = L$。\n因此，经向输送 $V$ 的量纲是：\n$$ [V] = [v] [z] = (L T^{-1}) (L) = L^2 T^{-1} $$\n\n现在，我们可以求出乘积 $\\beta V$ 的量纲：\n$$ [\\beta V] = [\\beta] [V] = (L^{-1} T^{-1}) (L^2 T^{-1}) = L^{(-1+2)} T^{(-1-1)} = L^1 T^{-2} $$\n就基本SI单位 $(\\mathrm{kg}, \\mathrm{m}, \\mathrm{s})$ 而言，对应的量纲是 $M^0 L^1 T^{-2}$。这给出的幂向量为 $(0, 1, -2)$。\n\n其次，我们分析 $(\\operatorname{curl}_z \\boldsymbol{\\tau}) / \\rho_0$ 项。我们首先确定分子 $\\operatorname{curl}_z \\boldsymbol{\\tau}$ 的量纲。\n\n风应力 $\\boldsymbol{\\tau}$ 是单位面积上的力，其量纲为 $\\mathrm{N}\\,\\mathrm{m}^{-2}$。\n- 牛顿（$\\mathrm{N}$）是力的单位，根据牛顿第二定律（$F=ma$），其量纲为质量乘以加速度。所以，$[\\mathrm{N}] = M L T^{-2}$。\n- 面积的量纲是 $L^2$。\n因此，风应力的量纲是：\n$$ [\\boldsymbol{\\tau}] = \\frac{M L T^{-2}}{L^2} = M L^{-1} T^{-2} $$\n\n风应力水平旋度的垂直分量是 $\\operatorname{curl}_z \\boldsymbol{\\tau} = \\partial \\tau_y / \\partial x - \\partial \\tau_x / \\partial y$。对空间坐标（$x$ 或 $y$）的微分引入了一个逆长度的量纲 $L^{-1}$。\n因此，$\\operatorname{curl}_z \\boldsymbol{\\tau}$ 的量纲是：\n$$ [\\operatorname{curl}_z \\boldsymbol{\\tau}] = \\frac{[\\boldsymbol{\\tau}]}{L} = \\frac{M L^{-1} T^{-2}}{L} = M L^{-2} T^{-2} $$\n\n接下来，我们考虑分母，即参考密度 $\\rho_0$。\n- 密度是单位体积的质量。体积的量纲是 $L^3$。\n$\\rho_0$ 的量纲给定为 $\\mathrm{kg}\\,\\mathrm{m}^{-3}$，对应于：\n$$ [\\rho_0] = M L^{-3} $$\n\n最后，我们将分子和分母的量纲结合起来，求出整个表达式的量纲：\n$$ \\left[\\frac{\\operatorname{curl}_z \\boldsymbol{\\tau}}{\\rho_0}\\right] = \\frac{[\\operatorname{curl}_z \\boldsymbol{\\tau}]}{[\\rho_0]} = \\frac{M L^{-2} T^{-2}}{M L^{-3}} = M^{(1-1)} L^{(-2 - (-3))} T^{-2} = M^0 L^1 T^{-2} $$\n就基本SI单位 $(\\mathrm{kg}, \\mathrm{m}, \\mathrm{s})$ 而言，这对应于量纲 $M^0 L^1 T^{-2}$。这给出的幂向量为 $(0, 1, -2)$。\n\n$\\beta V$ 和 $(\\operatorname{curl}_z \\boldsymbol{\\tau}) / \\rho_0$ 这两个量都具有 $L T^{-2}$ 的量纲，即加速度的量纲。量纲分析证实它们是相同的，这与被称为 Sverdrup 平衡的物理定律一致。按 $(\\mathrm{kg}, \\mathrm{m}, \\mathrm{s})$ 顺序排列的共同SI基本单位幂向量是 $(0, 1, -2)$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0  1  -2\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "理论模型的价值在于它能清晰地揭示物理过程的核心机制。通过为一个理想化的风场计算风应力旋度，本练习让你能够直观地看到风的模式是如何转化为海洋内部的涡度输入的。进一步地，通过从基本方程推导斯维尔德鲁普关系，你将把风应力旋度的空间分布与大洋环流（如副热带环流）的南北向输送直接联系起来。",
            "id": "3932888",
            "problem": "考虑一个中纬度矩形海洋区域，其水平坐标为 $x \\in [0,W]$ 和 $y \\in [0,L]$，其中 $W$ 和 $L$ 是正常数，分别表示纬向和经向范围。海面风应力矢量场由分量 $ \\tau_{x}(x,y) = \\tau_{0} \\sin\\!\\left( \\frac{2\\pi y}{L} \\right)$ 和 $ \\tau_{y}(x,y) = \\alpha \\tau_{0} \\cos\\!\\left( \\frac{2\\pi x}{W} \\right)$ 指定，其中 $\\tau_{0} > 0$ 是一个恒定振幅，$\\alpha$ 是一个调节应力模式纬向不对称性的无量纲常数。\n\n(a) 从水平矢量场二维旋度的垂直分量的定义出发，计算风应力旋度 $ \\left( \\nabla \\times \\boldsymbol{\\tau} \\right)_{z} $，并用 $x$、$y$、$W$、$L$、$\\tau_{0}$ 和 $\\alpha$ 明确表示。您的答案必须是一个解析表达式。请用牛顿每立方米（$\\mathrm{N\\,m^{-3}}$）作为风应力旋度的单位。\n\n(b) 使用β平面上均匀内部海洋的稳态、大尺度、线性、垂直积分涡度平衡，并忽略非线性平流、侧向粘性和时间依赖性，推导风应力旋度符号与内部经向地转输送符号之间的定性关系。解释给定风模式下正负风应力旋度的空间分布，并说明在北半球条件下，内部输送在何处是向极的，何处是向赤道的。不要引用任何预先给出的公式；从旋转、静水、Boussinesq动量方程、地转平衡和旋度的定义开始，通过进行适当的求导和垂直积分来获得涡度平衡。\n\n最终报告的答案应为(a)部分推导出的风应力旋度的解析表达式。不需要四舍五入。",
            "solution": "将通过首先提取给定信息，然后审查其科学依据、一致性和完整性来验证该问题。\n\n### 步骤 1：提取已知条件\n- 海洋区域：由 $x \\in [0,W]$ 和 $y \\in [0,L]$ 定义的矩形。\n- 常数：$W > 0$（纬向范围），$L > 0$（经向范围），$\\tau_0 > 0$（应力振幅），$\\alpha$（无量纲常数）。\n- 风应力矢量分量：\n  - $\\tau_x(x,y) = \\tau_{0} \\sin\\left( \\frac{2\\pi y}{L} \\right)$\n  - $\\tau_y(x,y) = \\alpha \\tau_{0} \\cos\\left( \\frac{2\\pi x}{W} \\right)$\n- 任务(a)：计算风应力旋度的垂直分量 $(\\nabla \\times \\boldsymbol{\\tau})_z$，作为解析表达式。\n- 任务(b)：从基本方程出发，推导风应力旋度的符号与内部经向地转输送符号之间的定性关系。解释在北半球给定风模式下的空间分布。\n- 最终答案要求：最终答案应为(a)部分得到的风应力旋度的解析表达式。\n\n### 步骤 2：使用提取的已知条件进行验证\n1.  **科学依据**：该问题是地球物理流体动力学中的一个标准练习，具体涉及风生海洋环流理论（Sverdrup平衡）。β平面近似、地转平衡和风应力旋度概念的使用是物理海洋学中基本且公认的原理。指定的风应力场虽然是理想化的，但对于模拟海洋环流是一个有效的数学构造。\n2.  **适定性**：(a)部分是对一个明确定义的矢量场旋度的直接计算，它有唯一解。(b)部分要求从第一性原理进行标准推导，这是一个在问题陈述中已概述的明确定义的程序。\n3.  **客观性**：该问题以精确、定量且无偏见的数学和物理术语陈述。\n4.  **完整性和一致性**：(a)部分所需的所有函数和参数都已提供。(b)部分被构造为一个推导过程，其起点（基本方程）和简化假设（稳态、线性、无侧向粘性）都已明确说明。没有矛盾之处。\n\n### 步骤 3：结论和行动\n该问题被认为是有效的，因为它在科学上是合理的、适定的、客观的和自洽的。将提供完整的解答。\n\n---\n\n### (a)部分：风应力旋度的计算\n\n风应力矢量由 $\\boldsymbol{\\tau} = \\tau_x \\hat{\\mathbf{i}} + \\tau_y \\hat{\\mathbf{j}}$ 给出，其中 $\\hat{\\mathbf{i}}$ 和 $\\hat{\\mathbf{j}}$ 分别是纬向（$x$）和经向（$y$）的单位矢量。在笛卡尔坐标系中，这个二维水平矢量场旋度的垂直分量定义为：\n$$\n(\\nabla \\times \\boldsymbol{\\tau})_z = \\frac{\\partial \\tau_y}{\\partial x} - \\frac{\\partial \\tau_x}{\\partial y}\n$$\n给定的风应力分量为：\n$$\n\\tau_x(x,y) = \\tau_{0} \\sin\\left( \\frac{2\\pi y}{L} \\right)\n$$\n$$\n\\tau_y(x,y) = \\alpha \\tau_{0} \\cos\\left( \\frac{2\\pi x}{W} \\right)\n$$\n首先，我们计算 $\\tau_y$ 对 $x$ 的偏导数：\n$$\n\\frac{\\partial \\tau_y}{\\partial x} = \\frac{\\partial}{\\partial x} \\left[ \\alpha \\tau_{0} \\cos\\left( \\frac{2\\pi x}{W} \\right) \\right] = \\alpha \\tau_{0} \\left[ -\\sin\\left( \\frac{2\\pi x}{W} \\right) \\cdot \\frac{d}{dx}\\left(\\frac{2\\pi x}{W}\\right) \\right] = -\\frac{2\\pi \\alpha \\tau_{0}}{W} \\sin\\left( \\frac{2\\pi x}{W} \\right)\n$$\n接下来，我们计算 $\\tau_x$ 对 $y$ 的偏导数：\n$$\n\\frac{\\partial \\tau_x}{\\partial y} = \\frac{\\partial}{\\partial y} \\left[ \\tau_{0} \\sin\\left( \\frac{2\\pi y}{L} \\right) \\right] = \\tau_{0} \\left[ \\cos\\left( \\frac{2\\pi y}{L} \\right) \\cdot \\frac{d}{dy}\\left(\\frac{2\\pi y}{L}\\right) \\right] = \\frac{2\\pi \\tau_{0}}{L} \\cos\\left( \\frac{2\\pi y}{L} \\right)\n$$\n将这些偏导数代入旋度的定义，得到：\n$$\n(\\nabla \\times \\boldsymbol{\\tau})_z = -\\frac{2\\pi \\alpha \\tau_{0}}{W} \\sin\\left( \\frac{2\\pi x}{W} \\right) - \\frac{2\\pi \\tau_{0}}{L} \\cos\\left( \\frac{2\\pi y}{L} \\right)\n$$\n通过提取公因式 $-2\\pi \\tau_0$，可以重新整理此表达式：\n$$\n(\\nabla \\times \\boldsymbol{\\tau})_z = -2\\pi \\tau_{0} \\left[ \\frac{\\alpha}{W} \\sin\\left( \\frac{2\\pi x}{W} \\right) + \\frac{1}{L} \\cos\\left( \\frac{2\\pi y}{L} \\right) \\right]\n$$\n关于单位，风应力 $\\boldsymbol{\\tau}$ 的单位是力每面积，即 $\\mathrm{N\\,m^{-2}}$。旋度运算涉及对空间坐标（$x$, $y$）的微分，其单位为长度 $\\mathrm{m}$。因此，风应力旋度的单位是 $(\\mathrm{N\\,m^{-2}})/\\mathrm{m} = \\mathrm{N\\,m^{-3}}$，符合要求。\n\n### (b)部分：风应力旋度与经向输送之间的关系\n\n我们从Boussinesq近似下β平面上旋转流体的水平动量方程开始，忽略非线性平流、侧向粘性和时间依赖性（稳态）：\n$$\n-fv = -\\frac{1}{\\rho_0} \\frac{\\partial p}{\\partial x} + \\frac{1}{\\rho_0} \\frac{\\partial \\mathcal{T}_x}{\\partial z} \\quad (1)\n$$\n$$\nfu = -\\frac{1}{\\rho_0} \\frac{\\partial p}{\\partial y} + \\frac{1}{\\rho_0} \\frac{\\partial \\mathcal{T}_y}{\\partial z} \\quad (2)\n$$\n这里，$(u, v)$ 是纬向和经向速度分量，$f$ 是科里奥利参数，$\\rho_0$ 是恒定参考密度，$p$ 是压力，$(\\mathcal{T}_x, \\mathcal{T}_y)$ 是内部湍流切应力。在垂直方向上满足静水力平衡。\n\n在海洋内部，远离表面和底部边界层，摩擦效应可以忽略。动量平衡简化为地转平衡：\n$$\n-fv_g = -\\frac{1}{\\rho_0} \\frac{\\partial p}{\\partial x}\n$$\n$$\nfu_g = -\\frac{1}{\\rho_0} \\frac{\\partial p}{\\partial y}\n$$\n其中 $(u_g, v_g)$ 是地转速度。\n\n为了将内部流动与海面风应力联系起来，我们将完整的动量方程(1)和(2)从海底 $z = -H$ 垂直积分到海面 $z = \\eta \\approx 0$。设 $U = \\int_{-H}^{0} u \\, dz$ 和 $V = \\int_{-H}^{0} v \\, dz$ 分别为单位宽度的纬向和经向体积输送。对(1)和(2)进行积分得到：\n$$\n-fV = -\\frac{1}{\\rho_0} \\frac{\\partial P}{\\partial x} + \\frac{1}{\\rho_0} [\\mathcal{T}_x(z=0) - \\mathcal{T}_x(z=-H)]\n$$\n$$\nfU = -\\frac{1}{\\rho_0} \\frac{\\partial P}{\\partial y} + \\frac{1}{\\rho_0} [\\mathcal{T}_y(z=0) - \\mathcal{T}_y(z=-H)]\n$$\n其中 $P = \\int_{-H}^{0} p \\, dz$ 是积分压力。海面的湍流应力就是风应力，所以 $\\mathcal{T}(z=0) = \\boldsymbol{\\tau}$。问题隐含地要求忽略底部摩擦，所以海底的应力为零，$\\mathcal{T}(z=-H) = 0$。因此，积分后的动量方程变为：\n$$\n-fV = -\\frac{1}{\\rho_0} \\frac{\\partial P}{\\partial x} + \\frac{\\tau_x}{\\rho_0} \\quad (3)\n$$\n$$\nfU = -\\frac{1}{\\rho_0} \\frac{\\partial P}{\\partial y} + \\frac{\\tau_y}{\\rho_0} \\quad (4)\n$$\n为了形成涡度平衡，我们对输送方程取旋度。我们计算 $\\frac{\\partial}{\\partial x}(4) - \\frac{\\partial}{\\partial y}(3)$：\n$$\n\\frac{\\partial(fU)}{\\partial x} - \\frac{\\partial(-fV)}{\\partial y} = -\\frac{1}{\\rho_0} \\frac{\\partial^2 P}{\\partial x \\partial y} + \\frac{1}{\\rho_0} \\frac{\\partial \\tau_y}{\\partial x} - \\left( -\\frac{1}{\\rho_0} \\frac{\\partial^2 P}{\\partial y \\partial x} + \\frac{1}{\\rho_0} \\frac{\\partial \\tau_x}{\\partial y} \\right)\n$$\n由于偏导数的交换性（$\\frac{\\partial^2 P}{\\partial x \\partial y} = \\frac{\\partial^2 P}{\\partial y \\partial x}$），压力项相互抵消。方程简化为：\n$$\n\\frac{\\partial(fU)}{\\partial x} + \\frac{\\partial(fV)}{\\partial y} = \\frac{1}{\\rho_0} \\left( \\frac{\\partial \\tau_y}{\\partial x} - \\frac{\\partial \\tau_x}{\\partial y} \\right)\n$$\n右侧是 $\\frac{1}{\\rho_0} (\\nabla \\times \\boldsymbol{\\tau})_z$。我们展开左侧：\n$$\nf\\left(\\frac{\\partial U}{\\partial x} + \\frac{\\partial V}{\\partial y}\\right) + U\\frac{\\partial f}{\\partial x} + V\\frac{\\partial f}{\\partial y} = \\frac{1}{\\rho_0} (\\nabla \\times \\boldsymbol{\\tau})_z\n$$\n对于大尺度、稳态、不可压缩流，垂直积分的连续性方程为 $\\frac{\\partial U}{\\partial x} + \\frac{\\partial V}{\\partial y} = 0$。β平面近似表明，$f$ 随纬度 $y$ 线性变化，因此 $f \\approx f_0 + \\beta y$，其中 $\\beta = \\frac{df}{dy}$ 是一个常数。这意味着 $\\frac{\\partial f}{\\partial x} = 0$ 和 $\\frac{\\partial f}{\\partial y} = \\beta$。方程简化为：\n$$\n\\beta V = \\frac{1}{\\rho_0} (\\nabla \\times \\boldsymbol{\\tau})_z\n$$\n这就是Sverdrup平衡。由于总输送 $V$ 主要由内部地转输送 $V_g$ 主导，我们可以写出 $V \\approx V_g$。因此：\n$$\nV_g \\approx \\frac{1}{\\beta \\rho_0} (\\nabla \\times \\boldsymbol{\\tau})_z\n$$\n在北半球，科里奥利参数随纬度增加而增加，所以 $\\beta > 0$。参考密度 $\\rho_0$ 也是正的。因此，经向地转输送 $V_g$ 的符号与风应力旋度 $(\\nabla \\times \\boldsymbol{\\tau})_z$ 的符号成正比。\n- **定性关系**：$\\mathrm{sgn}(V_g) = \\mathrm{sgn}((\\nabla \\times \\boldsymbol{\\tau})_z)$。\n- **解释**：正风应力旋度（$(\\nabla \\times \\boldsymbol{\\tau})_z > 0$）驱动向极的内部输送（$V_g > 0$）。负风应力旋度（$(\\nabla \\times \\boldsymbol{\\tau})_z < 0$）驱动向赤道的内部输送（$V_g < 0$）。\n\n**给定风模式下的空间分布**：\n风应力旋度为 $(\\nabla \\times \\boldsymbol{\\tau})_z = -2\\pi \\tau_{0} \\left[ \\frac{\\alpha}{W} \\sin\\left( \\frac{2\\pi x}{W} \\right) + \\frac{1}{L} \\cos\\left( \\frac{2\\pi y}{L} \\right) \\right]$。旋度的符号，也即经向输送的方向，取决于方括号中项的符号。\n- 项 $\\frac{1}{L} \\cos\\left( \\frac{2\\pi y}{L} \\right)$ 在 $y \\in [0, L/4) \\cup (3L/4, L]$ 时为正，在 $y \\in (L/4, 3L/4)$ 时为负。仅此一项会在海盆的最北和最南四分之一区域产生负旋度（向赤道流），并在海盆的中央一半区域产生正旋度（向极流）。\n- 项 $\\frac{\\alpha}{W} \\sin\\left( \\frac{2\\pi x}{W} \\right)$ 在海盆东半部（$x \\in (0, W/2)$）为正，在西半部（$x \\in (W/2, W)$）为负，假设 $\\alpha > 0$。仅此一项会在东半部产生负旋度（向赤道流），在西半部产生正旋度（向极流）。\n- 总模式是这两种效应的叠加。例如，在区域的中西部（$x$ 在西半部，$y$ 接近 $L/2$），方括号中的两项都为负，使得旋度为正，驱动向极输送。在东南部（$x$ 在东半部，$y$ 接近 $0$），方括号中的两项都为正，使得旋度为负，驱动向赤道输送。因此，该区域被划分为向极流和向赤道流的区域，从而建立起一个由多个海洋环流组成的复杂模式。",
            "answer": "$$\n\\boxed{-2\\pi \\tau_{0} \\left( \\frac{\\alpha}{W} \\sin\\left( \\frac{2\\pi x}{W} \\right) + \\frac{1}{L} \\cos\\left( \\frac{2\\pi y}{L} \\right) \\right)}\n$$"
        },
        {
            "introduction": "最终，理论的有效性需要通过与真实世界观测数据的对比来检验。这个综合性练习将理论与实践相结合，要求你利用真实的 climatological（气候学）风应力旋度数据，通过数值积分来计算整个大洋盆地的内部向南或向北的总输送。通过将计算结果与观测到的强大西边界流的输送量进行比较，你可以亲手验证斯维尔德鲁普平衡这一理论支柱在解释大规模海洋环流方面的强大能力和局限性。",
            "id": "3932892",
            "problem": "一名开发者被要求计算由风强迫引起的、跨越给定纬度的海盆积分内部经向体积输运，并将其大小与测得的西边界流输运进行比较，两者均以斯维尔德鲁普（Sv）为单位表示。此计算必须从适用于旋转球体上大尺度风生环流的基本原理推导得出，并采用定常、线性、地转-静力近似。从水平积分的动量方程及其涡度形式开始，采用定常状态、内部非线性相对涡度平流和底应力可忽略不计以及风应力施加于表面的假设。除了行星参数和运动学转换的标准定义外，不要使用任何快捷公式。程序必须沿经度对内部经向输运密度进行数值积分，以获得跨越该纬度的总输运。\n\n使用以下基本且经过充分检验的事实和定义：\n- 地球半径 $R = 6.371 \\times 10^{6}$ 米。\n- 地球自转速率 $\\Omega = 7.2921 \\times 10^{-5}$ 弧度/秒。\n- 海洋参考密度 $\\rho_0 = 1025$ 千克/立方米。\n- 在纬度 $\\phi$ 处，科里奥利参数的经向导数（“行星涡度梯度”）为 $\\beta(\\phi) = \\dfrac{2 \\Omega \\cos \\phi}{R}$，其中 $\\phi$ 以弧度为单位。\n- 经度 $\\lambda$ 以度为单位给出；通过 $dx = R \\cos \\phi \\, \\Delta \\lambda \\, \\dfrac{\\pi}{180}$ 将其在纬度 $\\phi$ 处的差值转换为米。\n- 一斯维尔德鲁普（Sv）等于 $10^{6}$ 立方米/秒。\n\n任务：\n1. 对于每个测试用例，给定一个以度为单位的纬度 $\\phi$，一个从东边界到西边界的经度序列 $\\{\\lambda_i\\}$（以度为单位），以及沿该纬度同地点的气候学风应力旋度值序列 $\\{\\left(\\nabla \\times \\boldsymbol{\\tau}\\right)_i\\}$（以 $\\mathrm{N}/\\mathrm{m}^{3}$ 为单位）。将给定序列视为在指定经度处的样本。\n2. 从定常、深度积分的涡度平衡（适用于地转和静力近似下受表面风应力强迫的旋转、分层海洋）出发，推导出内部经向输运密度，并使用梯形法则沿纬向进行数值积分，以获得跨越该纬度的带符号的海盆积分输运，单位为 Sv。使用符号约定，即通过推导出的关系，由风应力旋度项的符号决定，在北半球向北为正输运，在南半球向南为正输运。\n3. 将计算出的内部输运的大小与每个测试用例中提供的测得的西边界流输运（单位为 Sv）进行比较，并报告绝对差值（单位为 Sv）。\n4. 所有角度输入均以度为单位；在进行三角函数计算时，需将纬度转换为弧度。最终差值以 Sv 为单位表示，并四舍五入到三位小数。\n\n测试套件（四个案例）：\n- 案例A（大西洋，北半球中纬度）：\n  - 纬度 $\\phi = 26$ 度。\n  - 经度 $\\{\\lambda_i\\} = [0, -10, -20, -35, -50, -60]$ 度。\n  - 风应力旋度 $\\{\\left(\\nabla \\times \\boldsymbol{\\tau}\\right)_i\\} = [-0.6 \\times 10^{-7}, -0.8 \\times 10^{-7}, -1.1 \\times 10^{-7}, -1.2 \\times 10^{-7}, -0.9 \\times 10^{-7}, -0.7 \\times 10^{-7}]$ $\\mathrm{N}/\\mathrm{m}^{3}$。\n  - 测得的西边界流输运 $= 27.3$ $\\mathrm{Sv}$。\n- 案例B（对照组，风应力旋度为零）：\n  - 纬度 $\\phi = 30$ 度。\n  - 经度 $\\{\\lambda_i\\} = [0, -30]$ 度。\n  - 风应力旋度 $\\{\\left(\\nabla \\times \\boldsymbol{\\tau}\\right)_i\\} = [0.0, 0.0]$ $\\mathrm{N}/\\mathrm{m}^{3}$。\n  - 测得的西边界流输运 $= 0.0$ $\\mathrm{Sv}$。\n- 案例C（太平洋，北半球较高纬度，旋度有符号变化）：\n  - 纬度 $\\phi = 40$ 度。\n  - 经度 $\\{\\lambda_i\\} = [100, 80, 60, 40, 20, 0, -20]$ 度。\n  - 风应力旋度 $\\{\\left(\\nabla \\times \\boldsymbol{\\tau}\\right)_i\\} = [0.1 \\times 10^{-7}, 0.05 \\times 10^{-7}, -0.05 \\times 10^{-7}, -0.15 \\times 10^{-7}, -0.2 \\times 10^{-7}, -0.1 \\times 10^{-7}, 0.0]$ $\\mathrm{N}/\\mathrm{m}^{3}$。\n  - 测得的西边界流输运 $= 37.9$ $\\mathrm{Sv}$。\n- 案例D（印度洋，南半球）：\n  - 纬度 $\\phi = -20$ 度。\n  - 经度 $\\{\\lambda_i\\} = [60, 40, 20, 0, -20]$ 度。\n  - 风应力旋度 $\\{\\left(\\nabla \\times \\boldsymbol{\\tau}\\right)_i\\} = [0.05 \\times 10^{-7}, 0.07 \\times 10^{-7}, 0.09 \\times 10^{-7}, 0.08 \\times 10^{-7}, 0.06 \\times 10^{-7}]$ $\\mathrm{N}/\\mathrm{m}^{3}$。\n  - 测得的西边界流输运 $= 28.0$ $\\mathrm{Sv}$。\n\n您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表（例如，$[result_1,result_2,result_3,result_4]$），其中每个 $result_i$ 是第 $i$ 个案例中计算出的内部输运大小与提供的实测西边界流输运之间的绝对差值，单位为 Sv，四舍五入到三位小数。",
            "solution": "该问题具有科学依据，内容自洽，表述清晰，代表了斯维尔德鲁普平衡理论在物理海洋学中的一个典型应用。所有必要的物理常数、边界条件和数据均已提供。任务是从第一性原理出发，推导海盆积分的经向输运，并将其大小与西边界流的观测数据进行比较，这是对斯维尔德鲁普理论的直接检验。因此，该问题是有效的。\n\n**斯维尔德鲁普平衡的推导**\n\n斯维尔德鲁普平衡描述了海洋内部（远离边界层）的定常、大尺度、风生环流。推导始于旋转球体上不可压缩流体的水平动量方程，并采用地转和静力近似。对于定常状态（$\\partial / \\partial t = 0$），并忽略非线性平流和侧向摩擦，方程为：\n\n$$\n-f v = -\\frac{1}{\\rho_0} \\frac{\\partial p}{\\partial x} + \\frac{1}{\\rho_0} \\frac{\\partial \\tau_x}{\\partial z} \\\\\nf u = -\\frac{1}{\\rho_0} \\frac{\\partial p}{\\partial y} + \\frac{1}{\\rho_0} \\frac{\\partial \\tau_y}{\\partial z}\n$$\n\n这里，$u$ 和 $v$ 分别是纬向（东西向）和经向（南北向）速度分量。坐标 $x$ 和 $y$ 分别指向东和北。$p$ 是压力，$\\rho_0$ 是海水的恒定参考密度，$\\boldsymbol{\\tau} = (\\tau_x, \\tau_y)$ 是水平应力矢量。科里奥利参数为 $f = 2\\Omega\\sin\\phi$，其中 $\\Omega$ 是地球的自转速率，$\\phi$ 是纬度。\n\n我们将这些方程从海底 $z = -H(x, y)$ 到海面 $z = 0$ 进行垂直积分。设 $U = \\int_{-H}^{0} u \\, dz$ 和 $V = \\int_{-H}^{0} v \\, dz$ 分别为单位宽度的纬向和经向体积输运（单位为 $\\mathrm{m}^2/\\mathrm{s}$）。\n\n对动量方程进行积分得到：\n\n$$\n-f V = -\\frac{1}{\\rho_0} \\int_{-H}^{0} \\frac{\\partial p}{\\partial x} dz + \\frac{1}{\\rho_0} \\left[ \\tau_x \\right]_{-H}^{0} \\\\\nf U = -\\frac{1}{\\rho_0} \\int_{-H}^{0} \\frac{\\partial p}{\\partial y} dz + \\frac{1}{\\rho_0} \\left[ \\tau_y \\right]_{-H}^{0}\n$$\n\n表面（$z=0$）的应力是风应力，$\\boldsymbol{\\tau}^w = (\\tau_x^w, \\tau_y^w)$。问题陈述我们可以忽略海洋内部的底应力，因此在 $z=-H$ 处的应力为零。方程变为：\n\n$$\n-f V = -\\frac{1}{\\rho_0} \\int_{-H}^{0} \\frac{\\partial p}{\\partial x} dz + \\frac{\\tau_x^w}{\\rho_0} \\\\\nf U = -\\frac{1}{\\rho_0} \\int_{-H}^{0} \\frac{\\partial p}{\\partial y} dz + \\frac{\\tau_y^w}{\\rho_0}\n$$\n\n为了得到涡度方程，我们对这个深度积分系统取旋度，即我们计算 $\\frac{\\partial}{\\partial x}(\\text{y-方程}) - \\frac{\\partial}{\\partial y}(\\text{x-方程})$：\n\n$$\n\\frac{\\partial}{\\partial x}(f U) - \\frac{\\partial}{\\partial y}(-f V) = -\\frac{1}{\\rho_0} \\frac{\\partial}{\\partial x} \\left( \\int_{-H}^{0} \\frac{\\partial p}{\\partial y} dz \\right) + \\frac{1}{\\rho_0} \\frac{\\partial}{\\partial y} \\left( \\int_{-H}^{0} \\frac{\\partial p}{\\partial x} dz \\right) + \\frac{1}{\\rho_0} \\left( \\frac{\\partial \\tau_y^w}{\\partial x} - \\frac{\\partial \\tau_x^w}{\\partial y} \\right)\n$$\n\n假设压力足够平滑，可以交换微分和积分的顺序，压力项相互抵消：$\\frac{\\partial^2 p}{\\partial x \\partial y} = \\frac{\\partial^2 p}{\\partial y \\partial x}$。右侧简化为风应力旋度的垂直分量，$(\\nabla \\times \\boldsymbol{\\tau}^w)_z = \\frac{\\partial \\tau_y^w}{\\partial x} - \\frac{\\partial \\tau_x^w}{\\partial y}$，除以 $\\rho_0$。\n\n左侧展开为：\n$$\n\\frac{\\partial(fU)}{\\partial x} + \\frac{\\partial(fV)}{\\partial y} = f \\left( \\frac{\\partial U}{\\partial x} + \\frac{\\partial V}{\\partial y} \\right) + U \\frac{\\partial f}{\\partial x} + V \\frac{\\partial f}{\\partial y}\n$$\n\n不可压缩流体的深度积分连续性方程是 $\\frac{\\partial U}{\\partial x} + \\frac{\\partial V}{\\partial y} = 0$，因此第一项消失。使用β平面近似，科里奥利参数 $f$ 仅被视为纬度 $y$ 的函数，所以 $\\frac{\\partial f}{\\partial x} = 0$。$f$ 的经向梯度定义为行星涡度梯度，$\\beta = \\frac{df}{dy}$。问题给出了球面坐标形式，$\\beta(\\phi) = \\frac{2\\Omega\\cos\\phi}{R}$，其中 $R$ 是地球半径。因此，左侧简化为 $\\beta V$。\n\n合并简化后的各项，我们得到斯维尔德鲁普关系：\n$$\n\\beta V = \\frac{1}{\\rho_0} (\\nabla \\times \\boldsymbol{\\tau}^w)_z\n$$\n这个方程表明，单位宽度的经向输运 $V$ 与当地风应力旋度的垂直分量成正比。我们可以解出 $V$，我们称之为经向输运密度：\n$$\nV(x, y) = \\frac{1}{\\rho_0 \\beta(y)} (\\nabla \\times \\boldsymbol{\\tau}^w)_z(x, y)\n$$\n\n为了找到跨越一条纬线的总内部经向输运 $M_y$，我们必须将 $V$ 在整个海盆内从东边界 ($x_E$) 到西边界 ($x_W$) 进行纬向积分：\n$$\nM_y = \\int_{x_E}^{x_W} V(x) dx = \\int_{x_E}^{x_W} \\frac{1}{\\rho_0 \\beta} (\\nabla \\times \\boldsymbol{\\tau}^w)_z dx\n$$\n风生环流理论假设，这种宽广、缓慢的内部流动由一条狭窄、快速的西边界流来补偿。为了质量守恒，西边界流的输运 $M_{WBC}$ 必须与内部输运相平衡：$M_y + M_{WBC} = 0$，这意味着 $|M_y| = |M_{WBC}|$。本问题通过比较计算出的内部输运大小 $|M_y|$ 与测得的西边界流输运来检验这一理论等价性。\n\n**数值计算**\n\n对于每个固定纬度 $\\phi$ 的测试用例：\n1.  计算行星涡度梯度 $\\beta = \\frac{2\\Omega\\cos\\phi}{R}$。注意，$\\phi$ 在余弦函数中必须是弧度。由于 $-90^\\circ < \\phi < 90^\\circ$，$\\cos\\phi > 0$，因此 $\\beta$ 始终为正。\n2.  对于每个经度点 $i$，计算被积函数，即经向输运密度 $V_i = \\frac{1}{\\rho_0 \\beta} (\\nabla \\times \\boldsymbol{\\tau})_i$。\n3.  使用纬度 $\\phi$ 处的圆柱投影，从经度 $\\lambda_i$（以度为单位）计算纬向坐标位置 $x_i$：$x_i = R \\cos\\phi \\cdot (\\lambda_i \\cdot \\frac{\\pi}{180})$。这将角度位置转换为沿纬线的公制距离。\n4.  使用梯形法则 `numpy.trapz(V, x)`，对离散集合 $\\{V_i\\}$ 和 $\\{x_i\\}$ 进行操作，通过对 $V(x)$ 关于 $x$ 进行数值积分，计算总内部输运 $M_y$（单位为 $\\mathrm{m}^3/\\mathrm{s}$）。经度是从东到西给出的，所以 $x_i$ 值的数组是单调递减的。`trapz` 函数能正确处理这种情况。\n5.  将计算出的输运从 $\\mathrm{m}^3/\\mathrm{s}$ 转换为斯维尔德鲁普（Sv），即除以 $10^6$。\n6.  最终结果是该计算输运的大小与提供的实测西边界流输运之间的绝对差值，即 $| |M_{y, \\text{computed}}| - M_{WBC, \\text{measured}} |$，四舍五入到三位小数。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes the Sverdrup interior transport, compares it to measured western\n    boundary current transport, and reports the absolute difference.\n    \"\"\"\n    # Define physical constants.\n    R_EARTH = 6.371e6  # Earth radius in meters\n    OMEGA = 7.2921e-5  # Earth rotation rate in radians per second\n    RHO_0 = 1025.0     # Reference ocean density in kilograms per cubic meter\n    SV_CONVERSION = 1e6 # Conversion factor from m^3/s to Sverdrups (Sv)\n\n    # Define the test cases from the problem statement.\n    test_cases = [\n        {\n            \"case_id\": \"A\",\n            \"phi_deg\": 26.0,\n            \"lons_deg\": np.array([0, -10, -20, -35, -50, -60]),\n            \"curl_tau\": np.array([-0.6e-7, -0.8e-7, -1.1e-7, -1.2e-7, -0.9e-7, -0.7e-7]),\n            \"measured_transport_sv\": 27.3\n        },\n        {\n            \"case_id\": \"B\",\n            \"phi_deg\": 30.0,\n            \"lons_deg\": np.array([0, -30]),\n            \"curl_tau\": np.array([0.0, 0.0]),\n            \"measured_transport_sv\": 0.0\n        },\n        {\n            \"case_id\": \"C\",\n            \"phi_deg\": 40.0,\n            \"lons_deg\": np.array([100, 80, 60, 40, 20, 0, -20]),\n            \"curl_tau\": np.array([0.1e-7, 0.05e-7, -0.05e-7, -0.15e-7, -0.2e-7, -0.1e-7, 0.0]),\n            \"measured_transport_sv\": 37.9\n        },\n        {\n            \"case_id\": \"D\",\n            \"phi_deg\": -20.0,\n            \"lons_deg\": np.array([60, 40, 20, 0, -20]),\n            \"curl_tau\": np.array([0.05e-7, 0.07e-7, 0.09e-7, 0.08e-7, 0.06e-7]),\n            \"measured_transport_sv\": 28.0\n        }\n    ]\n\n    results = []\n    for case in test_cases:\n        phi_deg = case[\"phi_deg\"]\n        lons_deg = case[\"lons_deg\"]\n        curl_tau = case[\"curl_tau\"]\n        measured_sv = case[\"measured_transport_sv\"]\n\n        # 1. Convert latitude from degrees to radians for trigonometric functions.\n        phi_rad = np.deg2rad(phi_deg)\n\n        # 2. Calculate the planetary vorticity gradient (beta).\n        # beta = (2 * Omega * cos(phi)) / R\n        beta = (2.0 * OMEGA * np.cos(phi_rad)) / R_EARTH\n\n        # 3. Calculate the meridional transport density V (in m^2/s) from Sverdrup relation.\n        # V = (1 / (rho_0 * beta)) * curl_tau_z\n        meridional_transport_density = (1.0 / (RHO_0 * beta)) * curl_tau\n\n        # 4. Convert longitudes (degrees) to zonal distance x (meters) at the given latitude.\n        # This creates the x-coordinates for the numerical integration.\n        # x = R * cos(phi) * lambda_rad\n        x_coords_m = R_EARTH * np.cos(phi_rad) * np.deg2rad(lons_deg)\n\n        # 5. Integrate transport density V along x using the trapezoidal rule to get total transport.\n        # The longitudes are given from east to west, so x_coords_m is a decreasing array.\n        # np.trapz correctly computes the signed integral for a non-monotonic coordinate array.\n        computed_transport_m3s = np.trapz(meridional_transport_density, x_coords_m)\n\n        # 6. Convert computed transport from m^3/s to Sverdrups (Sv).\n        computed_transport_sv = computed_transport_m3s / SV_CONVERSION\n\n        # 7. Compare the magnitude of the computed transport to the measured transport.\n        # The Sverdrup balance implies |M_interior| = |M_WBC|. We test this.\n        magnitude_computed_sv = np.abs(computed_transport_sv)\n        \n        # 8. Calculate the absolute difference and round to three decimal places.\n        absolute_difference = np.abs(magnitude_computed_sv - measured_sv)\n        results.append(round(absolute_difference, 3))\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        }
    ]
}