{
    "hands_on_practices": [
        {
            "introduction": "A common temptation when faced with a multiplex network is to simplify it by aggregating all layers into a single graph. This exercise demonstrates the potential pitfalls of such an approach. By working through a concrete example , you will see how aggregating layers can invert the ranking of node importance calculated via eigenvector centrality, providing a powerful argument for why a genuine multiplex treatment is often necessary.",
            "id": "4131650",
            "problem": "Consider a multiplex network with two layers defined on the same node set $\\{1,2,3\\}$. In each layer, the topology is a weighted path: node $1$ is connected to node $2$ with weight $a$, and node $2$ is connected to node $3$ with weight $b$, with no other edges. The adjacency matrix of a single layer with weights $a$ and $b$ is\n$$\nA(a,b) \\;=\\; \\begin{pmatrix}\n0 & a & 0 \\\\\na & 0 & b \\\\\n0 & b & 0\n\\end{pmatrix}.\n$$\nLet layer $1$ have weights $a_{1} = 2.5$ and $b_{1} = 1$, and let layer $2$ have weights $a_{2} = 0.2$ and $b_{2} = 2.6$. Define aggregated eigenvector centrality (EC) as the dominant eigenvector of the aggregated adjacency $A^{\\mathrm{agg}} = A(a_{1},b_{1}) + A(a_{2},b_{2})$, and define multiplex EC as follows: form the supra-adjacency matrix\n$$\n\\mathcal{A}(\\omega) \\;=\\; \\begin{pmatrix}\nA(a_{1},b_{1}) & \\omega I \\\\\n\\omega I & A(a_{2},b_{2})\n\\end{pmatrix},\n$$\nwhere $I$ is the $3 \\times 3$ identity matrix and $\\omega \\ge 0$ is an interlayer coupling parameter. The multiplex EC of node $i$ is the sum of the components of the dominant eigenvector of $\\mathcal{A}(\\omega)$ corresponding to node $i$ across the two layers. Assume the extreme weak-coupling regime $\\omega = 0$.\n\nStarting from the definition of eigenvector centrality (EC) for a symmetric adjacency matrix $A$, which is the positive eigenvector $x$ satisfying $A x = \\lambda x$ for the spectral radius $\\lambda$, derive from first principles the node-wise EC ratios for the path topology. Use these derivations to demonstrate that the aggregated EC can mis-rank nodes relative to the multiplex EC by explicitly comparing the ranking of node $1$ versus node $3$ for the given two-layer network under the definitions above with $\\omega = 0$. Then, compute the inversion factor\n$$\nI \\;=\\; \\left(\\frac{x^{\\mathrm{agg}}_{3}}{x^{\\mathrm{agg}}_{1}}\\right) \\Big/ \\left(\\frac{x^{\\mathrm{mux}}_{3}}{x^{\\mathrm{mux}}_{1}}\\right),\n$$\nwhere $x^{\\mathrm{agg}}_{i}$ denotes the aggregated EC of node $i$ and $x^{\\mathrm{mux}}_{i}$ denotes the multiplex EC of node $i$. Express $I$ as a single exact number. No rounding is required. There are no physical units in this problem.",
            "solution": "The problem is well-posed, scientifically grounded, and contains all necessary information to derive a unique solution. We begin by addressing the components of the problem in sequence.\n\nFirst, we derive the eigenvector centrality (EC) ratios for a general $3$-node path topology with adjacency matrix\n$$\nA(a,b) = \\begin{pmatrix} 0 & a & 0 \\\\ a & 0 & b \\\\ 0 & b & 0 \\end{pmatrix}\n$$\nwhere $a > 0$ and $b > 0$. The eigenvector centrality vector $x = (x_1, x_2, x_3)^T$ is the dominant eigenvector of $A$, which satisfies the equation $A x = \\lambda x$ where $\\lambda$ is the spectral radius of $A$. We start by finding the eigenvalues by solving the characteristic equation $\\det(A - \\lambda I) = 0$.\n$$\n\\det\\begin{pmatrix} -\\lambda & a & 0 \\\\ a & -\\lambda & b \\\\ 0 & b & -\\lambda \\end{pmatrix} = -\\lambda(\\lambda^2 - b^2) - a(-a\\lambda) = -\\lambda^3 + \\lambda b^2 + a^2 \\lambda = -\\lambda(\\lambda^2 - (a^2+b^2)) = 0\n$$\nThe eigenvalues are $\\lambda_1 = \\sqrt{a^2+b^2}$, $\\lambda_2 = 0$, and $\\lambda_3 = -\\sqrt{a^2+b^2}$. The spectral radius is the largest absolute value of the eigenvalues, which is $\\lambda_{\\max} = \\sqrt{a^2+b^2}$.\n\nNow we find the corresponding eigenvector $x$ for $\\lambda = \\lambda_{\\max}$:\n$$\n\\begin{pmatrix} 0 & a & 0 \\\\ a & 0 & b \\\\ 0 & b & 0 \\end{pmatrix} \\begin{pmatrix} x_1 \\\\ x_2 \\\\ x_3 \\end{pmatrix} = \\lambda_{\\max} \\begin{pmatrix} x_1 \\\\ x_2 \\\\ x_3 \\end{pmatrix}\n$$\nThis gives the system of linear equations:\n$1.$ $a x_2 = \\lambda_{\\max} x_1$\n$2.$ $a x_1 + b x_3 = \\lambda_{\\max} x_2$\n$3.$ $b x_2 = \\lambda_{\\max} x_3$\n\nFrom equation (1), we have $x_1 = \\frac{a}{\\lambda_{\\max}} x_2$.\nFrom equation (3), we have $x_3 = \\frac{b}{\\lambda_{\\max}} x_2$.\nBy the Perron-Frobenius theorem for non-negative matrices, the dominant eigenvector can be chosen to have strictly positive components, so $x_2 \\neq 0$. The ratio of the centralities of node $3$ and node $1$ is:\n$$\n\\frac{x_3}{x_1} = \\frac{\\frac{b}{\\lambda_{\\max}} x_2}{\\frac{a}{\\lambda_{\\max}} x_2} = \\frac{b}{a}\n$$\nThis demonstrates that for this path topology, the ratio of the eigenvector centralities of the two end-nodes is equal to the ratio of the weights of their respective links to the central node. The full eigenvector is proportional to $(a, \\lambda_{\\max}, b)^T$, which is $(a, \\sqrt{a^2+b^2}, b)^T$.\n\nNext, we calculate the aggregated eigenvector centrality. The aggregated adjacency matrix $A^{\\mathrm{agg}}$ is the sum of the layer adjacency matrices:\n$$\nA^{\\mathrm{agg}} = A(a_{1},b_{1}) + A(a_{2},b_{2}) = \\begin{pmatrix} 0 & a_1 & 0 \\\\ a_1 & 0 & b_1 \\\\ 0 & b_1 & 0 \\end{pmatrix} + \\begin{pmatrix} 0 & a_2 & 0 \\\\ a_2 & 0 & b_2 \\\\ 0 & b_2 & 0 \\end{pmatrix} = \\begin{pmatrix} 0 & a_1+a_2 & 0 \\\\ a_1+a_2 & 0 & b_1+b_2 \\\\ 0 & b_1+b_2 & 0 \\end{pmatrix}\n$$\nThis aggregated matrix is of the form $A(a_{\\mathrm{agg}}, b_{\\mathrm{agg}})$ with $a_{\\mathrm{agg}} = a_1+a_2$ and $b_{\\mathrm{agg}} = b_1+b_2$.\nUsing the given values $a_1 = 2.5$, $b_1 = 1$, $a_2 = 0.2$, and $b_2 = 2.6$:\n$a_{\\mathrm{agg}} = 2.5 + 0.2 = 2.7$\n$b_{\\mathrm{agg}} = 1 + 2.6 = 3.6$\nUsing our derived formula, the ratio of the aggregated ECs for nodes $3$ and $1$ is:\n$$\n\\frac{x^{\\mathrm{agg}}_{3}}{x^{\\mathrm{agg}}_{1}} = \\frac{b_{\\mathrm{agg}}}{a_{\\mathrm{agg}}} = \\frac{3.6}{2.7} = \\frac{36}{27} = \\frac{4}{3}\n$$\nSince $\\frac{4}{3} > 1$, for the aggregated network, $x^{\\mathrm{agg}}_{3} > x^{\\mathrm{agg}}_{1}$, meaning node $3$ is ranked as more central than node $1$.\n\nNow, we calculate the multiplex eigenvector centrality. The supra-adjacency matrix is given by:\n$$\n\\mathcal{A}(\\omega) = \\begin{pmatrix} A(a_{1},b_{1}) & \\omega I \\\\ \\omega I & A(a_{2},b_{2}) \\end{pmatrix}\n$$\nWe are in the extreme weak-coupling regime, $\\omega=0$. The matrix becomes block-diagonal:\n$$\n\\mathcal{A}(0) = \\begin{pmatrix} A(a_{1},b_{1}) & \\mathbf{0} \\\\ \\mathbf{0} & A(a_{2},b_{2}) \\end{pmatrix}\n$$\nThe eigenvalues of a block-diagonal matrix are the union of the eigenvalues of its blocks. Let $\\lambda_{\\max}^{(1)}$ and $\\lambda_{\\max}^{(2)}$ be the spectral radii of $A(a_1,b_1)$ and $A(a_2,b_2)$ respectively.\n$\\lambda_{\\max}^{(1)} = \\sqrt{a_1^2 + b_1^2} = \\sqrt{(2.5)^2 + 1^2} = \\sqrt{6.25 + 1} = \\sqrt{7.25}$\n$\\lambda_{\\max}^{(2)} = \\sqrt{a_2^2 + b_2^2} = \\sqrt{(0.2)^2 + (2.6)^2} = \\sqrt{0.04 + 6.76} = \\sqrt{6.8}$\nThe spectral radius of $\\mathcal{A}(0)$ is $\\lambda_{\\max} = \\max(\\lambda_{\\max}^{(1)}, \\lambda_{\\max}^{(2)}) = \\sqrt{7.25} = \\lambda_{\\max}^{(1)}$.\nThe dominant eigenvector $\\mathbf{x}_{\\mathrm{mux}}$ of $\\mathcal{A}(0)$ has the block structure $\\mathbf{x}_{\\mathrm{mux}} = (x^{(1)}, x^{(2)})^T$. The eigenvector equation $\\mathcal{A}(0)\\mathbf{x}_{\\mathrm{mux}} = \\lambda_{\\max}\\mathbf{x}_{\\mathrm{mux}}$ decouples into:\n$A(a_1, b_1) x^{(1)} = \\lambda_{\\max} x^{(1)} = \\lambda_{\\max}^{(1)} x^{(1)}$\n$A(a_2, b_2) x^{(2)} = \\lambda_{\\max} x^{(2)} = \\lambda_{\\max}^{(1)} x^{(2)}$\nThe first equation means $x^{(1)}$ is the dominant eigenvector of $A(a_1, b_1)$. Since $\\lambda_{\\max}^{(1)} \\neq \\lambda_{\\max}^{(2)}$, $\\lambda_{\\max}^{(1)}$ is not an eigenvalue of $A(a_2,b_2)$, so the only solution to the second equation is $x^{(2)} = \\mathbf{0}$.\nThus, the dominant eigenvector of $\\mathcal{A}(0)$ localizes entirely on layer $1$.\nThe multiplex EC of node $i$, $x_i^{\\mathrm{mux}}$, is the sum of the components corresponding to node $i$ across layers. With $x^{(2)}=\\mathbf{0}$, we have $x_i^{\\mathrm{mux}} = x_i^{(1)} + x_i^{(2)} = x_i^{(1)}$. The multiplex EC is identical to the EC of the dominant layer (layer $1$).\nUsing our general formula for the EC ratio on layer $1$:\n$$\n\\frac{x^{\\mathrm{mux}}_{3}}{x^{\\mathrm{mux}}_{1}} = \\frac{x^{(1)}_{3}}{x^{(1)}_{1}} = \\frac{b_1}{a_1} = \\frac{1}{2.5} = \\frac{2}{5}\n$$\nSince $\\frac{2}{5} < 1$, for the multiplex network, $x^{\\mathrm{mux}}_{1} > x^{\\mathrm{mux}}_{3}$, meaning node $1$ is ranked as more central than node $3$. This is an inversion of the ranking found with the aggregated network.\n\nFinally, we compute the inversion factor $I$:\n$$\nI = \\left(\\frac{x^{\\mathrm{agg}}_{3}}{x^{\\mathrm{agg}}_{1}}\\right) \\Big/ \\left(\\frac{x^{\\mathrm{mux}}_{3}}{x^{\\mathrm{mux}}_{1}}\\right)\n$$\nSubstituting the values we calculated:\n$$\nI = \\frac{4/3}{2/5} = \\frac{4}{3} \\times \\frac{5}{2} = \\frac{20}{6} = \\frac{10}{3}\n$$\nThe value of the inversion factor is an exact rational number.",
            "answer": "$$\n\\boxed{\\frac{10}{3}}\n$$"
        },
        {
            "introduction": "The supra-graph is the cornerstone of multiplex network analysis, providing a complete representation where paths can traverse both within and between layers. This practice  offers a fundamental workout in navigating this structure by asking you to compute the betweenness centrality of a node from first principles. This process will sharpen your understanding of how interlayer connections create new shortest path possibilities that are invisible in single-layer projections.",
            "id": "4131652",
            "problem": "Consider a multiplex network with two layers, labeled $\\alpha \\in \\{1,2\\}$, over a physical node set $V_{p} = \\{1,2,3\\}$. The supra-graph has vertex set $U = \\{(i,\\alpha) : i \\in V_{p}, \\alpha \\in \\{1,2\\}\\}$ and undirected edges defined as follows. Intra-layer edges in layer $\\alpha=1$ are $E^{(1)} = \\{(1,2),(2,3)\\}$, and intra-layer edges in layer $\\alpha=2$ are $E^{(2)} = \\{(1,2),(2,3),(1,3)\\}$. Interlayer coupling edges connect replicas of the same physical node: for each $i \\in \\{1,2,3\\}$, there is an undirected interlayer edge between $(i,1)$ and $(i,2)$. All edges have unit weight $1$. Treat the supra-graph as undirected.\n\nLet $v = (2,1)$ denote the supra-node corresponding to physical node $2$ in layer $1$. Using the standard definition of node betweenness centrality for undirected graphs, compute the raw betweenness centrality of $v$ on the supra-graph, defined by\n$$\nC_{B}(v) \\;=\\; \\sum_{\\substack{s,t \\in U \\\\ s \\neq t,\\, s \\neq v,\\, t \\neq v,\\, s<t}} \\frac{\\sigma_{st}(v)}{\\sigma_{st}},\n$$\nwhere $\\sigma_{st}$ is the total number of geodesic (shortest) paths between $s$ and $t$ in the supra-graph, $\\sigma_{st}(v)$ is the number of those geodesic paths that pass through $v$, and $s<t$ indicates that unordered pairs are counted once.\n\nIn your derivation, begin from core definitions of multiplex networks, supra-graph construction, geodesic paths, and betweenness centrality, and reason from first principles to enumerate geodesics and their counts. In addition, explain within your solution how the presence of interlayer edges changes geodesic counts relative to a single-layer projection $G^{(1)} \\cup G^{(2)}$ over physical nodes.\n\nProvide the final value of $C_{B}(v)$ as an exact number. No rounding is required, and no physical units are involved.",
            "solution": "The problem requires the computation of the betweenness centrality of a specific node in a two-layer multiplex network. The solution proceeds in three stages: first, a formal construction of the supra-graph representing the multiplex network; second, a systematic enumeration of geodesic paths to calculate the betweenness centrality; and third, an analysis of the role of interlayer edges in shaping network paths.\n\n**1. Supra-graph Construction**\nThe multiplex network consists of two layers, $\\alpha \\in \\{1,2\\}$, defined over a set of $3$ physical nodes, $V_p = \\{1,2,3\\}$. The supra-graph $G_S$ is constructed from this specification.\n\nThe vertex set of the supra-graph, denoted by $U$, is the set of all node-layer pairs. With $3$ physical nodes and $2$ layers, we have $|U| = 3 \\times 2 = 6$ vertices. Let us denote a vertex as $(i,\\alpha)$, where $i \\in V_p$ is the physical node and $\\alpha$ is the layer. The vertices are:\n$U = \\{(1,1), (2,1), (3,1), (1,2), (2,2), (3,2)\\}$.\n\nThe edge set of the supra-graph is the union of intra-layer and inter-layer edges. All edges are undirected and have a unit weight of $1$.\nThe intra-layer edges for layer $\\alpha=1$ are given by $E^{(1)} = \\{(1,2), (2,3)\\}$. In the supra-graph, these correspond to the edges $\\{((1,1),(2,1)), ((2,1),(3,1))\\}$. This layer forms a path graph.\nThe intra-layer edges for layer $\\alpha=2$ are given by $E^{(2)} = \\{(1,2), (2,3), (1,3)\\}$. In the supra-graph, these correspond to the edges $\\{((1,2),(2,2)), ((2,2),(3,2)), ((1,2),(3,2))\\}$. This layer forms a complete graph (a triangle).\nThe interlayer edges connect replicas of the same physical node. For each $i \\in \\{1,2,3\\}$, there is an edge between $(i,1)$ and $(i,2)$. This gives the edge set $\\{((1,1),(1,2)), ((2,1),(2,2)), ((3,1),(3,2))\\}$.\n\n**2. Betweenness Centrality Calculation**\nWe are asked to compute the betweenness centrality $C_B(v)$ for the node $v=(2,1)$. The provided formula is:\n$$C_{B}(v) = \\sum_{\\substack{s,t \\in U \\\\ s \\neq t,\\, s \\neq v,\\, t \\neq v,\\, s<t}} \\frac{\\sigma_{st}(v)}{\\sigma_{st}}$$\nwhere $\\sigma_{st}$ is the number of geodesic (shortest) paths between nodes $s$ and $t$, and $\\sigma_{st}(v)$ is the number of those geodesics that pass through $v=(2,1)$. The condition $s<t$ signifies that we sum over all unordered pairs of distinct nodes, neither of which is $v$.\n\nThe set of nodes other than $v=(2,1)$ is $U' = U \\setminus \\{(2,1)\\} = \\{(1,1), (3,1), (1,2), (2,2), (3,2)\\}$.\nThere are $\\binom{5}{2} = 10$ unique pairs of nodes $(s, t)$ from $U'$. We will analyze each pair to determine its contribution to the sum. The distance between two nodes, $d(s,t)$, is the length of a geodesic path.\n\n1.  **Pair $s=(1,1), t=(3,1)$**:\n    - Path 1: $(1,1) \\to (2,1) \\to (3,1)$. The length is $2$. This path passes through $v=(2,1)$.\n    - An alternative path through the other layer would be $(1,1) \\to (1,2) \\to (3,2) \\to (3,1)$. Its length is $1+1+1=3$.\n    - Thus, the geodesic path is unique. $d(s,t)=2$, $\\sigma_{st}=1$.\n    - The number of geodesics passing through $v$ is $\\sigma_{st}(v)=1$.\n    - Contribution: $\\frac{1}{1} = 1$.\n\n2.  **Pair $s=(1,1), t=(1,2)$**:\n    - These nodes are directly connected by an interlayer edge.\n    - $d(s,t)=1$. A geodesic of length $1$ cannot pass through any intermediate node.\n    - Contribution: $\\frac{0}{\\sigma_{st}} = 0$.\n\n3.  **Pair $s=(1,1), t=(2,2)$**:\n    - Path 1: $(1,1) \\to (2,1) \\to (2,2)$. The length is $1+1=2$. This path passes through $v=(2,1)$.\n    - Path 2: $(1,1) \\to (1,2) \\to (2,2)$. The length is $1+1=2$. This path does not pass through $v$.\n    - Both paths are geodesics. $d(s,t)=2$, $\\sigma_{st}=2$.\n    - The number of geodesics passing through $v$ is $\\sigma_{st}(v)=1$.\n    - Contribution: $\\frac{1}{2}$.\n\n4.  **Pair $s=(1,1), t=(3,2)$**:\n    - Path 1: $(1,1) \\to (1,2) \\to (3,2)$. The length is $1+1=2$. This path does not pass through $v$.\n    - Alternative paths, such as $(1,1) \\to (2,1) \\to (2,2) \\to (3,2)$, have length $3$.\n    - The geodesic path is unique. $d(s,t)=2$, $\\sigma_{st}=1$.\n    - The number of geodesics passing through $v$ is $\\sigma_{st}(v)=0$.\n    - Contribution: $\\frac{0}{1} = 0$.\n\n5.  **Pair $s=(3,1), t=(1,2)$**:\n    - Path 1: $(3,1) \\to (3,2) \\to (1,2)$. The length is $1+1=2$. This path does not pass through $v$.\n    - Alternative paths, such as $(3,1) \\to (2,1) \\to (1,1) \\to (1,2)$, have length $3$.\n    - The geodesic path is unique. $d(s,t)=2$, $\\sigma_{st}=1$.\n    - The number of geodesics passing through $v$ is $\\sigma_{st}(v)=0$.\n    - Contribution: $\\frac{0}{1} = 0$.\n\n6.  **Pair $s=(3,1), t=(2,2)$**:\n    - Path 1: $(3,1) \\to (2,1) \\to (2,2)$. The length is $1+1=2$. This path passes through $v$.\n    - Path 2: $(3,1) \\to (3,2) \\to (2,2)$. The length is $1+1=2$. This path does not pass through $v$.\n    - Both paths are geodesics. $d(s,t)=2$, $\\sigma_{st}=2$.\n    - The number of geodesics passing through $v$ is $\\sigma_{st}(v)=1$.\n    - Contribution: $\\frac{1}{2}$.\n\n7.  **Pair $s=(3,1), t=(3,2)$**:\n    - These nodes are directly connected by an interlayer edge. $d(s,t)=1$.\n    - Contribution: $0$.\n\n8.  **Pair $s=(1,2), t=(2,2)$**:\n    - These nodes are directly connected by an intra-layer edge in layer $2$. $d(s,t)=1$.\n    - Contribution: $0$.\n\n9.  **Pair $s=(1,2), t=(3,2)$**:\n    - These nodes are directly connected by an intra-layer edge in layer $2$. $d(s,t)=1$.\n    - Contribution: $0$.\n\n10. **Pair $s=(2,2), t=(3,2)$**:\n    - These nodes are directly connected by an intra-layer edge in layer $2$. $d(s,t)=1$.\n    - Contribution: $0$.\n\nThe total betweenness centrality is the sum of these contributions:\n$$C_B((2,1)) = 1 + 0 + \\frac{1}{2} + 0 + 0 + \\frac{1}{2} + 0 + 0 + 0 + 0 = 2$$\n\n**3. Effect of Interlayer Edges**\nThe problem asks for an explanation of how interlayer edges affect geodesic counts relative to a single-layer projection. The single-layer projection $G_{proj} = G^{(1)} \\cup G^{(2)}$ is a graph on the physical nodes $V_p = \\{1,2,3\\}$ with an edge set $E_{proj} = E^{(1)} \\cup E^{(2)} = \\{(1,2), (2,3)\\} \\cup \\{(1,2), (2,3), (1,3)\\} = \\{(1,2), (2,3), (1,3)\\}$. This projected graph is the complete graph $K_3$.\n\nThe role of interlayer edges in the supra-graph is fundamentally different from the simplification offered by the projection.\nFirst, the interlayer edges are what make the supra-graph connected. Without them, the graph would consist of two disconnected components (layer $1$ and layer $2$), and no path would exist between a node $(i,\\alpha)$ and a node $(j,\\beta)$ if $\\alpha \\neq \\beta$. The number of geodesics $\\sigma_{st}$ would be $0$ for any such pair. The interlayer edges create paths between layers, allowing for communication and influence to spread across the entire multiplex system. For example, for the pair $s=(1,1), t=(2,2)$, the interlayer edges enable two distinct geodesic paths of length $2$, where $\\sigma_{st}$ would otherwise be $0$.\n\nSecond, for nodes within the same layer, interlayer edges provide alternative routes that pass through other layers. These new paths may be shorter, longer, or of equal length to the existing intra-layer paths. If these new paths are also geodesics, they increase the total count $\\sigma_{st}$. If they are shorter than any intra-layer path, they redefine the geodesic distance $d(s,t)$ and become the new sole geodesics. In the specific problem given, for path $(1,1) \\to (3,1)$, the intra-layer path in layer $1$ has length $2$. The alternative path via layer $2$, $(1,1) \\to (1,2) \\to (3,2) \\to (3,1)$, has length $3$. Thus, the interlayer edges do not provide a shorter path or an alternative geodesic in this case.\n\nThe single-layer projection $G_{proj}$ is a lossy representation. It aggregates all connections onto a single set of nodes, ignoring the layer structure. This leads to a different topology and, consequently, different path information. For instance, in $G_{proj}$, the edge $(1,3)$ exists, so the distance $d_{proj}(1,3)=1$ and the geodesic count $\\sigma_{1,3}=1$. In the supra-graph, however, the shortest path between the corresponding nodes in layer $1$, i.e., from $(1,1)$ to $(3,1)$, has a length of $2$. The direct connection $(1,3)$ is only available in layer $2$. To use it, a path starting at $(1,1)$ must first switch to layer $2$ (cost $1$), traverse the edge (cost $1$), and switch back (cost $1$), for a total path length of at least $3$. The supra-graph formalism correctly captures the \"cost\" of traversing layers, a critical detail that is lost in the simple projection. The interlayer edges, with their unit weight, are the mechanism that quantifies this cost.",
            "answer": "$$\n\\boxed{2}\n$$"
        },
        {
            "introduction": "Beyond adapting single-layer metrics, the study of multiplex networks involves creating entirely new measures to capture unique cross-layer phenomena. This exercise  guides you through the process of deriving and calculating a measure for cross-layer degree assortativity, which quantifies how node degrees in one layer correlate with the degrees of their neighbors in another. Mastering this skill is essential for discovering and describing the rich, interdependent patterns that define complex systems.",
            "id": "4131614",
            "problem": "Consider a simple undirected duplex (two-layer) network on node set $\\{1,2,3,4\\}$ with symmetric adjacency matrices $A^{(1)}$ and $A^{(2)}$ for layers $\\alpha=1$ and $\\beta=2$, respectively. The adjacency matrices are\n$$\nA^{(1)} \\;=\\;\n\\begin{pmatrix}\n0 & 1 & 0 & 1 \\\\\n1 & 0 & 1 & 1 \\\\\n0 & 1 & 0 & 1 \\\\\n1 & 1 & 1 & 0\n\\end{pmatrix}, \n\\qquad\nA^{(2)} \\;=\\;\n\\begin{pmatrix}\n0 & 1 & 1 & 0 \\\\\n1 & 0 & 1 & 0 \\\\\n1 & 1 & 0 & 1 \\\\\n0 & 0 & 1 & 0\n\\end{pmatrix}.\n$$\nAssume the following foundational definitions:\n- A multiplex network comprises multiple layers over the same node set, with layer-specific adjacency matrices.\n- For an undirected simple graph on a given layer, the degree of node $i$ on layer $\\ell$ is $k_{i}^{(\\ell)}=\\sum_{j} A_{ij}^{(\\ell)}$.\n- The Pearson correlation coefficient (PCC) between two lists of real numbers $\\{x_{m}\\}_{m=1}^{M}$ and $\\{y_{m}\\}_{m=1}^{M}$ is defined as\n$$\n\\rho \\;=\\; \\frac{\\sum_{m=1}^{M} (x_{m}-\\bar{x})(y_{m}-\\bar{y})}{\\sqrt{\\left(\\sum_{m=1}^{M} (x_{m}-\\bar{x})^{2}\\right)\\left(\\sum_{m=1}^{M} (y_{m}-\\bar{y})^{2}\\right)}},\n$$\nwhere $\\bar{x}$ and $\\bar{y}$ are the empirical means of $\\{x_{m}\\}$ and $\\{y_{m}\\}$.\n\nStarting only from these definitions, do the following:\n- Derive a cross-layer assortativity measure $R_{12}$ that quantifies degree-degree correlation across layers by comparing the degree of a source node on layer $\\alpha=1$ to the degree of the corresponding target node on layer $\\beta=2$ over the set of node pairs connected by an edge in both layers. Treat each undirected common edge as two oppositely directed ordered pairs so that the observation set consists of all directed pairs induced by the intersection of the edge sets on the two layers.\n- Then compute the value of $R_{12}$ for the specified duplex.\n\nReport your final answer as a unitless number rounded to $4$ significant figures.",
            "solution": "The problem is valid as it is scientifically grounded in network theory, mathematically well-posed, objective, and self-contained. We proceed with the solution in two parts: first, deriving the cross-layer assortativity measure $R_{12}$, and second, computing its value for the given duplex network.\n\nThe problem asks for a cross-layer assortativity measure, $R_{12}$, that quantifies the degree-degree correlation across two layers, $\\alpha=1$ and $\\beta=2$. This measure is defined as the Pearson correlation coefficient (PCC) between the degrees of source nodes on layer $1$ and the degrees of target nodes on layer $2$, sampled over a specific set of ordered node pairs.\n\nThe set of observations is defined as all directed pairs $(i,j)$ corresponding to edges that exist in both layers. Let $A^{(1)}$ and $A^{(2)}$ be the adjacency matrices for layer $1$ and layer $2$, respectively. An edge exists between nodes $i$ and $j$ in both layers if and only if $A_{ij}^{(1)} = 1$ and $A_{ij}^{(2)} = 1$. The set of such directed edges can be represented by the adjacency matrix of the intersection graph, $A^{(c)}$, where $A_{ij}^{(c)} = A_{ij}^{(1)} A_{ij}^{(2)}$. Since the given graphs are undirected, their adjacency matrices are symmetric. Thus, if an edge $(i,j)$ exists, the edge $(j,i)$ also exists, and this is consistent with the instruction to treat each undirected common edge as two oppositely directed ordered pairs.\n\nLet $E_{\\text{int}} = \\{ (i, j) \\mid A_{ij}^{(c)} = 1 \\}$ be the set of all directed edges common to both layers. The total number of such edges is $M = |E_{\\text{int}}| = \\sum_{i,j} A_{ij}^{(c)}$.\nFor each directed edge $(i, j) \\in E_{\\text{int}}$, we form a data point by taking the degree of the source node $i$ on layer $1$, which is $k_i^{(1)}$, and the degree of the target node $j$ on layer $2$, which is $k_j^{(2)}$. This gives us two lists of data, $X$ and $Y$, of size $M$. Let the edges in $E_{\\text{int}}$ be indexed by $m=1, \\dots, M$, so that the $m$-th edge is $(i_m, j_m)$. Then the lists are $X = \\{x_m\\}_{m=1}^M = \\{k_{i_m}^{(1)}\\}_{m=1}^M$ and $Y = \\{y_m\\}_{m=1}^M = \\{k_{j_m}^{(2)}\\}_{m=1}^M$.\n\nThe measure $R_{12}$ is the PCC of these two lists. Using the provided definition of PCC:\n$$\nR_{12} = \\frac{\\sum_{m=1}^{M} (x_{m}-\\bar{x})(y_{m}-\\bar{y})}{\\sqrt{\\left(\\sum_{m=1}^{M} (x_{m}-\\bar{x})^{2}\\right)\\left(\\sum_{m=1}^{M} (y_{m}-\\bar{y})^{2}\\right)}}\n$$\nwhere $\\bar{x} = \\frac{1}{M}\\sum_{m=1}^{M} x_m$ and $\\bar{y} = \\frac{1}{M}\\sum_{m=1}^{M} y_m$. Expressing this in terms of the network's properties:\n$$\n\\bar{x} = \\frac{1}{M} \\sum_{(i,j) \\in E_{\\text{int}}} k_i^{(1)} \\qquad \\text{and} \\qquad \\bar{y} = \\frac{1}{M} \\sum_{(i,j) \\in E_{\\text{int}}} k_j^{(2)}\n$$\nThe formal derivation of the measure $R_{12}$ is thus:\n$$\nR_{12} = \\frac{\\sum_{(i,j) \\in E_{\\text{int}}} (k_i^{(1)} - \\bar{x})(k_j^{(2)} - \\bar{y})}{\\sqrt{\\left(\\sum_{(i,j) \\in E_{\\text{int}}} (k_i^{(1)} - \\bar{x})^2 \\right) \\left(\\sum_{(i,j) \\in E_{\\text{int}}} (k_j^{(2)} - \\bar{y})^2 \\right)}}\n$$\nThis completes the derivation part of the problem. Next, we compute the value of $R_{12}$ for the specific duplex network provided.\n\nFirst, we compute the node degrees for each layer using the definition $k_{i}^{(\\ell)}=\\sum_{j} A_{ij}^{(\\ell)}$.\nFor layer $\\ell=1$:\n$A^{(1)} = \\begin{pmatrix} 0 & 1 & 0 & 1 \\\\ 1 & 0 & 1 & 1 \\\\ 0 & 1 & 0 & 1 \\\\ 1 & 1 & 1 & 0 \\end{pmatrix}$\n$k_1^{(1)} = 0+1+0+1 = 2$\n$k_2^{(1)} = 1+0+1+1 = 3$\n$k_3^{(1)} = 0+1+0+1 = 2$\n$k_4^{(1)} = 1+1+1+0 = 3$\nThe degree sequence for layer $1$ is $K^{(1)} = (2, 3, 2, 3)$.\n\nFor layer $\\ell=2$:\n$A^{(2)} = \\begin{pmatrix} 0 & 1 & 1 & 0 \\\\ 1 & 0 & 1 & 0 \\\\ 1 & 1 & 0 & 1 \\\\ 0 & 0 & 1 & 0 \\end{pmatrix}$\n$k_1^{(2)} = 0+1+1+0 = 2$\n$k_2^{(2)} = 1+0+1+0 = 2$\n$k_3^{(2)} = 1+1+0+1 = 3$\n$k_4^{(2)} = 0+0+1+0 = 1$\nThe degree sequence for layer $2$ is $K^{(2)} = (2, 2, 3, 1)$.\n\nNext, we identify the common edges by finding the intersection of the two edge sets. This corresponds to the element-wise product of the adjacency matrices, $A^{(c)} = A^{(1)} \\circ A^{(2)}$.\n$$\nA^{(c)} = \\begin{pmatrix} 0 & 1 & 0 & 1 \\\\ 1 & 0 & 1 & 1 \\\\ 0 & 1 & 0 & 1 \\\\ 1 & 1 & 1 & 0 \\end{pmatrix} \\circ \\begin{pmatrix} 0 & 1 & 1 & 0 \\\\ 1 & 0 & 1 & 0 \\\\ 1 & 1 & 0 & 1 \\\\ 0 & 0 & 1 & 0 \\end{pmatrix} = \\begin{pmatrix} 0\\cdot0 & 1\\cdot1 & 0\\cdot1 & 1\\cdot0 \\\\ 1\\cdot1 & 0\\cdot0 & 1\\cdot1 & 1\\cdot0 \\\\ 0\\cdot1 & 1\\cdot1 & 0\\cdot0 & 1\\cdot1 \\\\ 1\\cdot0 & 1\\cdot0 & 1\\cdot1 & 0\\cdot0 \\end{pmatrix} = \\begin{pmatrix} 0 & 1 & 0 & 0 \\\\ 1 & 0 & 1 & 0 \\\\ 0 & 1 & 0 & 1 \\\\ 0 & 0 & 1 & 0 \\end{pmatrix}\n$$\nFrom $A^{(c)}$, the set of directed common edges is $E_{\\text{int}} = \\{(1,2), (2,1), (2,3), (3,2), (3,4), (4,3)\\}$. The number of observations is $M=6$.\n\nWe now construct the two lists of degrees, $X = \\{k_{i}^{(1)}\\}$ and $Y = \\{k_{j}^{(2)}\\}$ for each edge $(i, j) \\in E_{\\text{int}}$:\n$m=1$: edge $(1,2) \\rightarrow x_1=k_1^{(1)}=2, y_1=k_2^{(2)}=2$\n$m=2$: edge $(2,1) \\rightarrow x_2=k_2^{(1)}=3, y_2=k_1^{(2)}=2$\n$m=3$: edge $(2,3) \\rightarrow x_3=k_2^{(1)}=3, y_3=k_3^{(2)}=3$\n$m=4$: edge $(3,2) \\rightarrow x_4=k_3^{(1)}=2, y_4=k_2^{(2)}=2$\n$m=5$: edge $(3,4) \\rightarrow x_5=k_3^{(1)}=2, y_5=k_4^{(2)}=1$\n$m=6$: edge $(4,3) \\rightarrow x_6=k_4^{(1)}=3, y_6=k_3^{(2)}=3$\nThe two lists are $X = \\{2, 3, 3, 2, 2, 3\\}$ and $Y = \\{2, 2, 3, 2, 1, 3\\}$.\n\nWe calculate the means of these lists:\n$\\bar{x} = \\frac{1}{6}(2+3+3+2+2+3) = \\frac{15}{6} = \\frac{5}{2} = 2.5$\n$\\bar{y} = \\frac{1}{6}(2+2+3+2+1+3) = \\frac{13}{6}$\n\nNow we compute the terms in the PCC formula. The numerator is the covariance term:\n$\\sum_{m=1}^{6} (x_m - \\bar{x})(y_m - \\bar{y}) = (2 - \\frac{5}{2})(2 - \\frac{13}{6}) + (3 - \\frac{5}{2})(2 - \\frac{13}{6}) + (3 - \\frac{5}{2})(3 - \\frac{13}{6}) + (2 - \\frac{5}{2})(2 - \\frac{13}{6}) + (2 - \\frac{5}{2})(1 - \\frac{13}{6}) + (3 - \\frac{5}{2})(3 - \\frac{13}{6})$\n$= (-\\frac{1}{2})(-\\frac{1}{6}) + (\\frac{1}{2})(-\\frac{1}{6}) + (\\frac{1}{2})(\\frac{5}{6}) + (-\\frac{1}{2})(-\\frac{1}{6}) + (-\\frac{1}{2})(-\\frac{7}{6}) + (\\frac{1}{2})(\\frac{5}{6})$\n$= \\frac{1}{12} - \\frac{1}{12} + \\frac{5}{12} + \\frac{1}{12} + \\frac{7}{12} + \\frac{5}{12} = \\frac{18}{12} = \\frac{3}{2}$\n\nThe denominator contains two sum-of-squares terms:\n$\\sum_{m=1}^{6} (x_m - \\bar{x})^2 = (2 - 2.5)^2 + (3 - 2.5)^2 + (3 - 2.5)^2 + (2 - 2.5)^2 + (2 - 2.5)^2 + (3 - 2.5)^2$\n$= (-0.5)^2 + (0.5)^2 + (0.5)^2 + (-0.5)^2 + (-0.5)^2 + (0.5)^2 = 6 \\times 0.25 = 1.5 = \\frac{3}{2}$\n\n$\\sum_{m=1}^{6} (y_m - \\bar{y})^2 = (2 - \\frac{13}{6})^2 + (2 - \\frac{13}{6})^2 + (3 - \\frac{13}{6})^2 + (2 - \\frac{13}{6})^2 + (1 - \\frac{13}{6})^2 + (3 - \\frac{13}{6})^2$\n$= (-\\frac{1}{6})^2 + (-\\frac{1}{6})^2 + (\\frac{5}{6})^2 + (-\\frac{1}{6})^2 + (-\\frac{7}{6})^2 + (\\frac{5}{6})^2$\n$= \\frac{1}{36} + \\frac{1}{36} + \\frac{25}{36} + \\frac{1}{36} + \\frac{49}{36} + \\frac{25}{36} = \\frac{1+1+25+1+49+25}{36} = \\frac{102}{36} = \\frac{17}{6}$\n\nFinally, we assemble $R_{12}$:\n$$\nR_{12} = \\frac{\\frac{3}{2}}{\\sqrt{(\\frac{3}{2})(\\frac{17}{6})}} = \\frac{\\frac{3}{2}}{\\sqrt{\\frac{51}{12}}} = \\frac{\\frac{3}{2}}{\\sqrt{\\frac{17}{4}}} = \\frac{\\frac{3}{2}}{\\frac{\\sqrt{17}}{2}} = \\frac{3}{\\sqrt{17}}\n$$\nTo get the final numerical answer, we compute the value and round to $4$ significant figures:\n$R_{12} = \\frac{3}{\\sqrt{17}} \\approx 0.727606875...$\nRounding to $4$ significant figures gives $0.7276$.",
            "answer": "$$\n\\boxed{0.7276}\n$$"
        }
    ]
}