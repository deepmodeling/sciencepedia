{
    "hands_on_practices": [
        {
            "introduction": "To appreciate the 'small-world' phenomenon, we first need a baseline for comparison. This exercise guides you through calculating the number of triangles in the perfectly ordered ring lattice at $p=0$, which forms the starting point of the Watts-Strogatz model. Mastering this fundamental calculation is key to understanding the model's characteristic high clustering coefficient.",
            "id": "4143504",
            "problem": "Consider the Watts–Strogatz (WS) small-world network model at rewiring probability $p=0$, which yields a regular ring lattice. There are $N$ nodes placed on a ring with periodic boundary conditions, labeled by integers modulo $N$. Each node is connected to its $m$ nearest neighbors on each side, for a total degree $2m$, with $1 \\leq m$ and $N \\geq 2m+1$ to avoid degeneracies. A triangle is defined as an unordered triple of distinct nodes $\\{i,j,k\\}$ such that all three pairs $\\{i,j\\}$, $\\{j,k\\}$, and $\\{k,i\\}$ are edges. Let the graph-theoretic distance on the ring between nodes $i$ and $j$ be $d(i,j) = \\min\\{|i-j|, N - |i-j|\\}$.\n\nStarting from these definitions and the general principles of combinatorial counting in graphs, determine a closed-form analytic expression for the total number of distinct triangles $T_{\\text{tot}}$ in terms of $N$ and $m$. Your answer must be a single symbolic expression. If you introduce any intermediate quantities, they must be rigorously justified from first principles. Express your final answer without units and do not round.",
            "solution": "The problem requires the determination of the total number of triangles, $T_{\\text{tot}}$, in a specific type of regular graph. The graph is generated by the Watts-Strogatz model with a rewiring probability of $p=0$. This constructs a regular ring lattice.\n\nFirst, we formalize the structure of the graph based on the provided definitions. The set of nodes is $V = \\{0, 1, \\dots, N-1\\}$, representing $N$ nodes on a ring with periodic boundary conditions. An edge exists between two distinct nodes $i$ and $j$ if each is among the $m$ nearest neighbors of the other. The distance measure is the graph-theoretic distance on the ring, $d(i,j) = \\min\\{|i-j|, N - |i-j|\\}$. Thus, an edge $(i,j)$ exists if and only if $1 \\le d(i,j) \\le m$. The degree of every node is constant, $k=2m$, due to the regular structure. The constraint $N \\ge 2m+1$ ensures that for any node, its $m$ nearest neighbors on the \"left\" and $m$ on the \"right\" are all distinct from each other and from the node itself.\n\nA triangle is an unordered set of three distinct nodes $\\{i,j,k\\}$ where all three pairs are connected by edges. The total number of triangles $T_{\\text{tot}}$ can be found by summing the number of triangles associated with each node and dividing by $3$, since each triangle is counted once for each of its three vertices. Let $T_i$ be the number of triangles that include node $i$. Due to the rotational symmetry of the ring lattice, $T_i$ is the same for all nodes $i \\in V$. Let us denote this constant value by $T_{\\text{node}}$. The total number of triangles is then:\n$$T_{\\text{tot}} = \\frac{1}{3} \\sum_{i=0}^{N-1} T_i = \\frac{1}{3} N T_{\\text{node}}$$\nOur task reduces to finding $T_{\\text{node}}$.\n\nLet us calculate $T_{\\text{node}}$ for an arbitrary node, which we can label as node $0$ without loss of generality. A triangle involving node $0$ must be of the form $\\{0, u, v\\}$, where $u$ and $v$ are neighbors of $0$, and $u$ and $v$ are also neighbors of each other. Thus, $T_{\\text{node}}$ is the number of pairs of neighbors of node $0$ that have an edge between them.\n\nThe neighborhood of node $0$, denoted $\\mathcal{N}(0)$, consists of nodes at distances $1, 2, \\dots, m$. These are the nodes $\\{1, 2, \\dots, m\\}$ (the \"right\" neighbors, $\\mathcal{N}_R$) and $\\{N-1, N-2, \\dots, N-m\\}$ (the \"left\" neighbors, $\\mathcal{N}_L$).\n$\\mathcal{N}(0) = \\mathcal{N}_R \\cup \\mathcal{N}_L$, where $\\mathcal{N}_R = \\{1, 2, \\dots, m\\}$ and $\\mathcal{N}_L = \\{N-m, N-m+1, \\dots, N-1\\}$.\nThe size of each set is $|\\mathcal{N}_R| = |\\mathcal{N}_L| = m$. The total degree is $|\\mathcal{N}(0)| = 2m$.\n\nWe count the number of pairs $\\{u,v\\}$ with $u, v \\in \\mathcal{N}(0)$ and $d(u,v) \\le m$. We partition this counting problem into three cases.\n\nCase 1: Both nodes are in $\\mathcal{N}_R$.\nLet $u, v \\in \\mathcal{N}_R$ with $1 \\le u < v \\le m$. The distance is $d(u,v) = \\min(v-u, N-(v-u))$. Since $1 \\le v-u \\le m-1$ and the problem states $N \\ge 2m+1$, we have $N > 2m$, which implies $N-(v-u) > 2m-(m-1) = m+1 > v-u$. Therefore, $d(u,v) = v-u$. The condition for an edge is $v-u \\le m$. Since $v \\le m$ and $u \\ge 1$, $v-u$ is at most $m-1$. The condition is always satisfied. Thus, any pair of distinct nodes in $\\mathcal{N}_R$ is connected. The number of such pairs is the number of ways to choose $2$ nodes from a set of $m$, which is $\\binom{m}{2}$.\n\nCase 2: Both nodes are in $\\mathcal{N}_L$.\nBy the symmetry of the graph, the number of connected pairs within $\\mathcal{N}_L$ must be the same as within $\\mathcal{N}_R$. This number is also $\\binom{m}{2}$.\n\nCase 3: One node is in $\\mathcal{N}_R$ and the other is in $\\mathcal{N}_L$.\nLet $u \\in \\mathcal{N}_R$ and $v \\in \\mathcal{N}_L$. We can write $u=i$ for some $i \\in \\{1, 2, \\dots, m\\}$, and $v=N-j$ for some $j \\in \\{1, 2, \\dots, m\\}$. The distance is $d(i, N-j) = \\min(|i-(N-j)|, N-|i-(N-j)|) = \\min(|i+j-N|, N-|i+j-N|)$.\nSince $1 \\le i \\le m$ and $1 \\le j \\le m$, we have $2 \\le i+j \\le 2m$. The condition $N \\ge 2m+1$ ensures that $i+j < N$. Thus, $i+j-N$ is negative, and $|i+j-N| = N-(i+j)$.\nThe distance becomes $d(i, N-j) = \\min(N-(i+j), N - (N-(i+j))) = \\min(N-(i+j), i+j)$.\nAgain using $N \\ge 2m+1$, we have $N > 2m \\ge i+j$. Specifically, $N > 2(i+j)$ is not guaranteed, but $N-(i+j) > i+j$ is equivalent to $N > 2(i+j)$. Since the maximum value of $i+j$ is $2m$, and $N > 2m$, the inequality holds for all relevant $i,j$. Thus, $d(i, N-j) = i+j$.\nThe condition for an edge between $u$ and $v$ is $i+j \\le m$.\n\nWe must count the number of integer pairs $(i,j)$ such that $1 \\le i \\le m$, $1 \\le j \\le m$, and $i+j \\le m$. We can sum over possible values of $i$:\nIf $i=1$, then $j$ can be $1, 2, \\dots, m-1$. There are $m-1$ choices for $j$.\nIf $i=2$, then $j$ can be $1, 2, \\dots, m-2$. There are $m-2$ choices for $j$.\n...\nIf $i=m-1$, then $j$ can be $1$. There is $1$ choice for $j$.\nIf $i \\ge m$, there are no possible values for $j$ since $j \\ge 1 \\implies i+j > m$.\nThe total number of such pairs is the sum $\\sum_{k=1}^{m-1} k = \\frac{(m-1)m}{2} = \\binom{m}{2}$.\n\nSumming the counts from all three cases, the number of triangles involving node $0$ is:\n$$T_{\\text{node}} = \\binom{m}{2} + \\binom{m}{2} + \\binom{m}{2} = 3\\binom{m}{2} = \\frac{3m(m-1)}{2}$$\n\nFinally, we substitute this into the expression for the total number of triangles:\n$$T_{\\text{tot}} = \\frac{N T_{\\text{node}}}{3} = \\frac{N}{3} \\left( \\frac{3m(m-1)}{2} \\right) = \\frac{Nm(m-1)}{2}$$\nThis is the closed-form analytic expression for the total number of triangles in the graph. The expression is an integer for any integer $m \\ge 1$ because $m(m-1)$ is always an even number.",
            "answer": "$$\\boxed{\\frac{N m (m-1)}{2}}$$"
        },
        {
            "introduction": "Having established the highly ordered nature of the initial lattice, we now introduce a small amount of disorder by rewiring edges with probability $p$. This practice uses a powerful 'mean-field' argument to approximate how the network's clustering decays as randomness is added. This derivation will reveal why the network can retain significant local structure even as global properties begin to change.",
            "id": "4143554",
            "problem": "Consider the Watts–Strogatz small-world network model in which a ring lattice of $N$ nodes is constructed by connecting each node to its $k$ nearest neighbors ($k$ even) and then each undirected edge is independently rewired with probability $p \\in [0,1]$ to a uniformly random node, avoiding self-loops and duplicate edges. The degree $k$ of each node is preserved by construction. Let the global clustering coefficient $C(p)$ be defined as the average of the local clustering coefficients across all nodes, where the local clustering coefficient at node $i$ is $C_{i} = \\frac{2 T_{i}}{k_{i}(k_{i}-1)}$, with $T_{i}$ the number of triangles incident on node $i$ and $k_{i}=k$ the degree of node $i$. Denote by $C(0)$ the clustering coefficient of the initial ring lattice before rewiring.\n\nStarting from the definitions above and using a mean-field argument grounded in the following assumptions:\n- Each undirected edge is rewired independently with probability $p$.\n- Triangles present at $p=0$ are formed exclusively by the local ring edges and survive only if all of their three constituent local edges are not rewired.\n- The creation of new triangles due to rewiring is negligible in the limit of large $N$ with $k \\ll N$ and small $p$, so that the dominant contribution to $C(p)$ comes from the survival of triangles present at $p=0$.\n- Degree preservation ensures that the denominator $k(k-1)$ in the local clustering coefficient remains unchanged by rewiring.\n\nDerive an analytic expression for $C(p)$ in terms of $C(0)$ and $p$ under these assumptions. Your final answer must be a single closed-form expression. No rounding is required and no units should be included in your final expression.",
            "solution": "The global clustering coefficient, $C(p)$, is the average of the local clustering coefficients, $C_i(p)$, over all $N$ nodes. Due to the statistical homogeneity of the Watts-Strogatz model, all nodes are equivalent on average, so we can focus on an arbitrary node $i$. The local clustering coefficient is given by:\n$$C_i(p) = \\frac{2 E[T_i(p)]}{k(k-1)}$$\nwhere $E[T_i(p)]$ is the expected number of triangles incident on node $i$ after rewiring with probability $p$, and $k$ is the constant degree of each node.\n\nThe problem asks for a mean-field approximation based on several key assumptions. The most critical is that the change in clustering is dominated by the *destruction* of triangles that existed in the original regular lattice (at $p=0$), and the *creation* of new triangles through random rewiring is negligible.\n\nLet $T_i(0)$ be the number of triangles incident on node $i$ in the initial lattice. The clustering coefficient at $p=0$ is:\n$$C(0) = \\frac{2 T_i(0)}{k(k-1)}$$\nA triangle consists of three nodes connected by three edges. For a triangle that exists at $p=0$ to also exist at probability $p$, all three of its constituent edges must survive the rewiring process.\n\nAccording to the model, each edge is independently considered for rewiring with probability $p$. Therefore, the probability that a single specific edge is *not* rewired is $(1-p)$. Since the rewiring events for each edge are independent, the probability that all three edges of a given triangle survive is the product of their individual survival probabilities:\n$$P(\\text{triangle survives}) = (1-p) \\times (1-p) \\times (1-p) = (1-p)^3$$\nThe expected number of triangles incident on node $i$ after rewiring, $E[T_i(p)]$, is the initial number of triangles, $T_i(0)$, multiplied by the probability of survival for any given triangle. This follows from the linearity of expectation and the assumption that new triangles do not form.\n$$E[T_i(p)] = T_i(0) \\times P(\\text{triangle survives}) = T_i(0) (1-p)^3$$\nNow, we can substitute this expected number of triangles back into the formula for the clustering coefficient at probability $p$:\n$$C(p) = \\frac{2 E[T_i(p)]}{k(k-1)} = \\frac{2 \\left[ T_i(0) (1-p)^3 \\right]}{k(k-1)}$$\nWe can rearrange this expression to separate the terms related to the initial state:\n$$C(p) = \\left( \\frac{2 T_i(0)}{k(k-1)} \\right) (1-p)^3$$\nRecognizing the term in the parentheses as the definition of $C(0)$, we arrive at the final expression relating $C(p)$ to $C(0)$ and $p$:\n$$C(p) = C(0) (1-p)^3$$\nThis result shows that, under the mean-field approximation, the clustering coefficient decays cubically with the survival probability of a single edge, reflecting the fact that a triangle is a structure of order three.",
            "answer": "$$\\boxed{C(0)(1-p)^3}$$"
        },
        {
            "introduction": "Here we investigate the most celebrated feature of the Watts-Strogatz model: the emergence of the 'small-world' property. This advanced exercise guides you in analyzing how a few random 'shortcut' edges dramatically shrink the network's characteristic path length, $L(p)$. By connecting the model to concepts from percolation theory, you will pinpoint the critical threshold at which the network's global structure fundamentally transforms.",
            "id": "4143523",
            "problem": "Consider the Watts–Strogatz small-world network model on a one-dimensional ring with $N$ nodes, where each node is connected to its $2K$ nearest neighbors ($K$ on each side). Each of the $M = N K$ undirected edges is independently rewired with probability $p$ to connect to a uniformly random node, preserving the total number of edges. Define the expected shortcut density per node as $\\rho = p M / N$. Assume $N$ is asymptotically large, $K$ is fixed, and $p$ is small enough that degree fluctuations remain concentrated around $2K$. Treat the ensemble of rewired edges as forming a random overlay on top of the ring that can be approximated, in mean-field, by an Erdős–Rényi random graph with average overlay degree $c = 2 \\rho$.\n\nUsing a branching-process mean-field argument and widely accepted asymptotic properties of Erdős–Rényi graphs, derive an explicit asymptotic approximation for the average shortest path length $L(p)$ in terms of $\\rho$ in the regime where the overlay is subcritical ($c < 1$) and the regime where it is supercritical ($c > 1$). Based on these approximations, argue that $L(p)$ changes its scaling behavior from linear in $N$ to logarithmic in $N$ once $\\rho$ exceeds a constant, and determine this constant exactly. Express your final answer as a single exact number with no units. If you need to state any asymptotic form for $L(p)$ in your derivation, write all forms explicitly in terms of $N$, $K$, and $\\rho$. No rounding is required.",
            "solution": "We start from the construction and definitions of the Watts–Strogatz model. The base graph is a ring with $N$ nodes and degree $2K$. The number of undirected edges is $M = N K$. Each edge is independently rewired with probability $p$, giving an expected number of rewired edges $p M$. Define the expected shortcut density per node as\n$$\n\\rho = \\frac{p M}{N} = p K,\n$$\nwhich is the expected number of shortcut endpoints per node contributed by rewiring. Each rewired edge contributes degree $1$ to each of its two endpoint nodes within the random overlay; thus, the overlay formed by the shortcuts has mean degree\n$$\nc = 2 \\rho.\n$$\n\nWe next outline a mean-field approximation for average shortest path length $L(p)$, relying on two well-tested facts about large random graphs:\n- In an Erdős–Rényi random graph $G(N, c/N)$ with average degree $c$, there is a giant connected component if and only if $c > 1$. Typical distances within the giant component scale as $\\ln N / \\ln c$ for fixed $c > 1$ and large $N$.\n- In the absence of a supercritical random overlay ($c \\leq 1$), typical distances in the base ring scale linearly in $N$, specifically $L(0) \\sim N/(2K)$.\n\nWe will approximate the Watts–Strogatz graph as the union of a one-dimensional ring (providing short-range edges) and a random overlay of shortcuts (providing long-range edges with mean degree $c$). The shortest path structure is controlled by whichever mechanism produces the dominant growth of the breadth-first search (BFS) frontier from a typical node.\n\nSubcritical overlay regime ($c < 1$):\n- When $c = 2 \\rho < 1$, the overlay is subcritical and does not contain a giant component. The random overlay contributes only finite-size clusters whose typical size is $O(1)$, and thus cannot fundamentally change the scaling of distances. In this regime, reaching nodes at graph distance $\\ell$ proceeds primarily along the ring structure. Since each additional step along the ring explores $\\Theta(1)$ new nodes per step, the mean distance between two randomly chosen nodes scales linearly with $N$. A standard estimate for the ring is\n$$\nL(p) \\approx \\frac{N}{2K}, \\quad \\text{for } c = 2 \\rho < 1.\n$$\nThis maintains the baseline scaling $L(p) = \\Theta(N)$ and reflects that shortcuts are too sparse, in a percolation sense, to alter global distances.\n\nSupercritical overlay regime ($c > 1$):\n- When $c = 2 \\rho > 1$, the overlay produces a giant component and BFS on the overlay expands exponentially with base $c$ in the mean-field sense. From classic random graph theory, typical graph distances supported by the overlay scale as\n$$\nL_{\\text{overlay}} \\approx \\frac{\\ln N}{\\ln c} = \\frac{\\ln N}{\\ln (2 \\rho)}, \\quad \\text{for } c = 2 \\rho > 1.\n$$\nBecause the ring is already connected, access to the giant overlay requires at most an $O(1)$ number of ring steps as $N \\to \\infty$. Such constant offsets are negligible in asymptotics compared with the $\\ln N$ term. Hence, the leading-order scaling of the overall average shortest path length becomes\n$$\nL(p) \\approx \\frac{\\ln N}{\\ln (2 \\rho)}, \\quad \\text{for } c = 2 \\rho > 1.\n$$\n\nTransition in scaling and the critical constant:\n- The change from linear scaling $L(p) = \\Theta(N)$ to logarithmic scaling $L(p) = \\Theta(\\ln N)$ occurs when the overlay crosses the percolation threshold that creates a giant component. This threshold is the classical condition $c = 1$, that is,\n$$\n2 \\rho = 1 \\quad \\Longrightarrow \\quad \\rho = \\frac{1}{2}.\n$$\nThis is a constant that does not depend on $N$ or $K$; it is determined purely by the branching factor of the random overlay. For $\\rho \\leq \\frac{1}{2}$, the overlay is subcritical and cannot induce small-world scaling. For $\\rho > \\frac{1}{2}$, the overlay is supercritical, and distances are asymptotically dominated by the logarithmic behavior inherited from the giant component.\n\nTherefore, the requested mean-field approximations are\n$$\nL(p) \\approx \\frac{N}{2K} \\quad \\text{for } \\rho < \\frac{1}{2},\n$$\nand\n$$\nL(p) \\approx \\frac{\\ln N}{\\ln(2 \\rho)} \\quad \\text{for } \\rho > \\frac{1}{2},\n$$\nand the transition occurs when $\\rho$ exceeds the constant $\\rho_{c} = \\frac{1}{2}$.\n\nWe conclude that the critical shortcut density per node at which the average path length transitions from linear to logarithmic scaling is exactly\n$$\n\\rho_{c} = \\frac{1}{2}.\n$$",
            "answer": "$$\\boxed{\\frac{1}{2}}$$"
        }
    ]
}