{
    "hands_on_practices": [
        {
            "introduction": "量化网络的局部结构是理解其功能和韧性的基础。本练习将介绍一种经典方法，通过利用图的邻接矩阵的代数性质来计算网络中三角形（最简单的非平凡簇）的数量。通过完成此练习 ，您将深刻体会到网络拓扑与其矩阵表示之间的强大联系。",
            "id": "4131980",
            "problem": "考虑一个复杂自适应系统（CAS）背景下的简单无向交互网络，该网络由一个没有自环的简单无向图表示。设该图由其邻接矩阵 $A$ 指定，其中 $A$ 是一个对称的 $n \\times n$ 矩阵，其元素 $A_{ij} \\in \\{0,1\\}$ 表示节点 $i$ 和 $j$ 之间是否存在边，并且对所有 $i$ 都有 $A_{ii} = 0$。从邻接矩阵和矩阵乘法的核心定义出发，推导一个封闭形式的表达式，该表达式将图中不同的 3 节点团（三角形）的数量与邻接矩阵的某个幂的迹相关联。您的推导必须从第一性原理出发，并且仅依赖于由邻接矩阵的幂所编码的图中游走的基本事实。\n\n完成推导后，对邻接矩阵为\n$$\nA \\;=\\;\n\\begin{pmatrix}\n0  1  1  0  0 \\\\\n1  0  1  0  0 \\\\\n1  1  0  1  1 \\\\\n0  0  1  0  1 \\\\\n0  0  1  1  0\n\\end{pmatrix}.\n$$\n的特定网络，计算该表达式的值。\n\n以单个整数形式提供三角形数量的最终结果。无需四舍五入。如果您选择计算中间量，请确保所有步骤与从第一性原理出发的推导一致，并且所使用的任何矩阵运算都由开篇所述的基本定义来证明其合理性。",
            "solution": "该问题要求推导一个计算简单无向图中三角形数量的公式（该图由其邻接矩阵 $A$ 表示），并将此公式应用于一个特定案例。\n\n首先，我们从第一性原理进行推导。\n\n设 $G=(V, E)$ 是一个有 $n$ 个顶点的简单无向图，其中 $V=\\{1, 2, ..., n\\}$。该图没有自环。邻接矩阵 $A$ 是一个 $n \\times n$ 矩阵，其元素定义如下：\n$$\nA_{ij} =\n\\begin{cases}\n1  \\text{如果节点 } i \\text{ 和 } j \\text{ 之间存在边} \\\\\n0  \\text{否则}\n\\end{cases}\n$$\n由于图是简单的无向图，$A$ 是对称的（$A_{ij} = A_{ji}$）并且其主对角线上的元素为零（对所有 $i \\in V$ 都有 $A_{ii} = 0$）。\n\n将矩阵的幂与图中游走联系起来的核心原理指出，矩阵 $A^k$ 的元素 $(A^k)_{ij}$ 表示从节点 $i$ 到节点 $j$ 的长度为 $k$ 的不同游走数量。长度为 $k$ 的游走是一个顶点序列 $(v_0, v_1, \\dots, v_k)$，使得对于所有 $m \\in \\{0, \\dots, k-1\\}$，顶点 $v_m$ 和 $v_{m+1}$ 之间都存在一条边。对于这样一条从 $i$ 到 $j$ 的游走，我们有 $v_0 = i$ 和 $v_k = j$。\n\n我们关心的是三角形，即 3 节点团。一个三角形是三个不同顶点的集合 $\\{i, j, k\\}$，使得边 $(i, j)$、$(j, k)$ 和 $(k, i)$ 都存在于图中。这三条边构成一个长度为 3 的闭合游走，例如，$i \\to j \\to k \\to i$。\n\n让我们考虑矩阵 $A^3$。元素 $(A^3)_{ij}$ 给出了从节点 $i$ 到节点 $j$ 的长度为 3 的游走数量。因此，对角线元素 $(A^3)_{ii}$ 给出了从节点 $i$ 开始并结束于节点 $i$ 的长度为 3 的闭合游走数量。\n根据矩阵乘法的定义，我们有：\n$$\n(A^3)_{ii} = \\sum_{j=1}^{n} \\sum_{k=1}^{n} A_{ij} A_{jk} A_{ki}\n$$\n这个双重求和中的每一项 $A_{ij} A_{jk} A_{ki}$，都对应于一条从 $i$ 出发，经过中间节点 $j$ 和 $k$ 后返回到 $i$ 的特定长度为 3 的游走。当且仅当边 $(i, j)$、$(j, k)$ 和 $(k, i)$ 都存在时，该项等于 $1$，否则为 $0$。\n\n由于图是简单的，对于任何节点 $m$，$A_{mm} = 0$。让我们分析游走 $i \\to j \\to k \\to i$ 中的节点序列。\n1. 如果 $j=i$，则项 $A_{ij}$ 将为 $A_{ii}=0$。\n2. 如果 $k=j$，则项 $A_{jk}$ 将为 $A_{jj}=0$。\n3. 如果 $k=i$，则项 $A_{ki}$ 将为 $A_{ii}=0$。然而，游走是 $i \\to j \\to i$。这是一个长度为 2 的闭合游走，而不是 3。\n求和是针对长度为 3 的游走：$(v_0, v_1, v_2, v_3)$，其中 $v_0 = v_3 = i$。顶点序列是 $i \\to v_1 \\to v_2 \\to i$。求和是针对中间顶点 $j=v_1$ 和 $k=v_2$。所以路径是 $i \\to j \\to k \\to i$。\n为了使乘积 $A_{ij} A_{jk} A_{ki}$ 不为零，我们必须有 $A_{ij}=1$、$A_{jk}=1$ 和 $A_{ki}=1$。\n在一个简单图中：\n- $A_{ij}=1 \\implies i \\neq j$。\n- $A_{jk}=1 \\implies j \\neq k$。\n- $A_{ki}=1 \\implies k \\neq i$。\n因此，对于和中的任何非零项，三个顶点 $i$、$j$ 和 $k$ 必须是不同的。这意味着在简单图中，每个长度为 3 的闭合游走都对应于一个唯一三角形的遍历。\n\n$A^3$ 的所有对角线元素之和是该矩阵的迹，$\\mathrm{Tr}(A^3)$：\n$$\n\\mathrm{Tr}(A^3) = \\sum_{i=1}^{n} (A^3)_{ii} = \\sum_{i=1}^{n} \\sum_{j=1}^{n} \\sum_{k=1}^{n} A_{ij} A_{jk} A_{ki}\n$$\n这个和计算了图中长度为 3 的闭合游走的总数。\n\n现在，我们必须将这个计数与不同三角形的数量联系起来，我们将其表示为 $N_{\\triangle}$。一个三角形由三个顶点组成，例如 $\\{u, v, w\\}$。这一个三角形会产生多个不同的长度为 3 的闭合游走。我们可以从三个顶点中的任何一个开始。从每个起始顶点，我们可以沿两个相反的方向遍历三角形。\n对于三角形 $\\{u, v, w\\}$，可能的游走有：\n- 从 $u$ 开始：$u \\to v \\to w \\to u$ 和 $u \\to w \\to v \\to u$。\n- 从 $v$ 开始：$v \\to u \\to w \\to v$ 和 $v \\to w \\to u \\to v$。\n- 从 $w$ 开始：$w \\to u \\to v \\to w$ 和 $w \\to v \\to u \\to w$。\n因此，在计算 $\\mathrm{Tr}(A^3)$ 时，每个三角形被计数了 $3 \\times 2 = 6$ 次。\n\n为了找到唯一三角形的数量，我们必须将游走的总数除以这个 6 倍的重复计数因子。由此得到的表达式是：\n$$\nN_{\\triangle} = \\frac{\\mathrm{Tr}(A^3)}{6}\n$$\n这就是所要求的封闭形式表达式。\n\n现在，我们将此公式应用于给定的邻接矩阵：\n$$\nA \\;=\\;\n\\begin{pmatrix}\n0  1  1  0  0 \\\\\n1  0  1  0  0 \\\\\n1  1  0  1  1 \\\\\n0  0  1  0  1 \\\\\n0  0  1  1  0\n\\end{pmatrix}\n$$\n首先，我们计算 $A^2$：\n$$\nA^2 = A \\times A =\n\\begin{pmatrix}\n0  1  1  0  0 \\\\\n1  0  1  0  0 \\\\\n1  1  0  1  1 \\\\\n0  0  1  0  1 \\\\\n0  0  1  1  0\n\\end{pmatrix}\n\\begin{pmatrix}\n0  1  1  0  0 \\\\\n1  0  1  0  0 \\\\\n1  1  0  1  1 \\\\\n0  0  1  0  1 \\\\\n0  0  1  1  0\n\\end{pmatrix}\n=\n\\begin{pmatrix}\n2  1  1  1  1 \\\\\n1  2  1  1  1 \\\\\n1  1  4  1  1 \\\\\n1  1  1  2  1 \\\\\n1  1  1  1  2\n\\end{pmatrix}\n$$\n接下来，我们计算 $A^3 = A \\cdot A^2$。我们只需要 $A^3$ 的对角线元素来计算其迹。对角线元素 $(A^3)_{ii}$ 是 $A$ 的第 $i$ 行与 $A^2$ 的第 $i$ 列的点积。由于 $A$ 和 $A^2$ 都是对称的，这也是 $A$ 的第 $i$ 行与 $A^2$ 的第 $i$ 行的点积。\n让我们计算每个对角线元素 $(A^3)_{ii} = \\sum_{k=1}^5 A_{ik} (A^2)_{ki}$。\n$$\n(A^3)_{11} = A_{12}(A^2)_{21} + A_{13}(A^2)_{31} = 1 \\cdot 1 + 1 \\cdot 1 = 2\n$$\n$$\n(A^3)_{22} = A_{21}(A^2)_{12} + A_{23}(A^2)_{32} = 1 \\cdot 1 + 1 \\cdot 1 = 2\n$$\n$$\n(A^3)_{33} = A_{31}(A^2)_{13} + A_{32}(A^2)_{23} + A_{34}(A^2)_{43} + A_{35}(A^2)_{53} = 1 \\cdot 1 + 1 \\cdot 1 + 1 \\cdot 1 + 1 \\cdot 1 = 4\n$$\n$$\n(A^3)_{44} = A_{43}(A^2)_{34} + A_{45}(A^2)_{54} = 1 \\cdot 1 + 1 \\cdot 1 = 2\n$$\n$$\n(A^3)_{55} = A_{53}(A^2)_{35} + A_{54}(A^2)_{45} = 1 \\cdot 1 + 1 \\cdot 1 = 2\n$$\n$A^3$ 的迹是这些对角线元素的总和：\n$$\n\\mathrm{Tr}(A^3) = (A^3)_{11} + (A^3)_{22} + (A^3)_{33} + (A^3)_{44} + (A^3)_{55} = 2 + 2 + 4 + 2 + 2 = 12\n$$\n最后，我们将这个值代入我们推导出的三角形数量公式中：\n$$\nN_{\\triangle} = \\frac{\\mathrm{Tr}(A^3)}{6} = \\frac{12}{6} = 2\n$$\n因此，该网络中有 2 个三角形。",
            "answer": "$$\n\\boxed{2}\n$$"
        },
        {
            "introduction": "除了局部模式，识别网络中作为桥梁或瓶颈的关键节点也至关重要。介数中心性通过量化一个节点出现在其他节点之间最短路径上的频率来衡量其重要性。这个实践问题  将指导您计算这一关键指标，从而提高您评估复杂系统中不同参与者角色的能力。",
            "id": "4131991",
            "problem": "考虑一个简单、无向、无权重的网络，作为复杂自适应系统（CAS）中信息流的模型。该网络由图 $G = (V,E)$ 表示，其中 $V = \\{v_1, v_2, v_3, v_4, v_5, v_6\\}$ 且 $E = \\{(v_1,v_2), (v_2,v_3), (v_1,v_3), (v_2,v_4), (v_3,v_4), (v_4,v_5), (v_5,v_6), (v_4,v_6)\\}$。路径代表可行的信息传输序列，在同质链接权重下，最短路径代表最小延迟路由。\n\n从基本网络定义出发，推导节点介数中心性，将其定义为通过一个节点的最短路径的归一化分数。请明确地从以下几点构建推导过程：\n- 路径和路径长度的定义，\n- 连接两个不同节点 $s$ 和 $t$ 的测地线（最短路径）的概念以及测地线的数量 $\\sigma_{st}$，\n- 以及通过一个中间节点 $v$ 的 $s$ 和 $t$ 之间测地线的分数 $\\sigma_{st}(v)/\\sigma_{st}$。\n\n对于节点 $v \\in V$，使用一个对所有满足 $s \\neq t$、$s \\neq v$ 和 $t \\neq v$ 的无序对 $(s,t)$ 的分数进行平均的归一化方法，形式化地定义节点介数中心性 $C_B(v)$。此外，根据穿过边的最短路径分数，陈述边介数中心性 $C_B(e)$（对于边 $e \\in E$）的类似定义。\n\n然后，对给定图中的所有节点 $v_i$（其中 $i \\in \\{1,2,3,4,5,6\\}$），计算其 $C_B(v_i)$。使用以下归一化公式\n$$\nC_B(v) \\;=\\; \\frac{1}{\\binom{N-1}{2}} \\sum_{\\substack{s,t \\in V \\\\ s  t \\\\ s \\neq v, \\; t \\neq v}} \\frac{\\sigma_{st}(v)}{\\sigma_{st}},\n$$\n其中 $N = |V|$。以精确有理数形式提供最终数值。将最终答案表示为 $(C_B(v_1), C_B(v_2), C_B(v_3), C_B(v_4), C_B(v_5), C_B(v_6))$ 顺序的单行矩阵。无需四舍五入，不涉及单位。",
            "solution": "图 $G=(V, E)$ 中从节点 $s$ 到节点 $t$ 的一条**路径**是一个不同的顶点序列 $(u_0, u_1, \\dots, u_k)$，使得 $u_0 = s$，$u_k = t$，并且对于所有 $i \\in \\{0, \\dots, k-1\\}$，边 $(u_i, u_{i+1})$ 都在 $E$ 中。**路径的长度**是它包含的边的数量，即 $k$。\n\n两个节点 $s$ 和 $t$ 之间的**测地线**（或最短路径）是具有最小可能长度的路径。这个最小长度称为距离 $d(s,t)$。在无权重图中，这可以通过广度优先搜索（BFS）算法找到。我们将 $s$ 和 $t$ 之间不同测地线的数量表示为 $\\sigma_{st}$。\n\n对于一个中间节点 $v$（即 $v \\neq s$ 且 $v \\neq t$），我们将通过 $v$ 的 $s$ 和 $t$ 之间的测地线数量表示为 $\\sigma_{st}(v)$。此类测地线的分数是 $\\frac{\\sigma_{st}(v)}{\\sigma_{st}}$。\n\n节点 $v$ 的**节点介数中心性** $C_B(v)$ 是衡量其在网络中作为桥梁重要性的指标。它被定义为对所有其他节点对的分数贡献的总和，并进行归一化。正如问题中所给出的，对于一个无向图：\n$$\nC_B(v) = \\frac{1}{\\binom{N-1}{2}} \\sum_{\\substack{s,t \\in V \\\\ s  t \\\\ s \\neq v, \\; t \\neq v}} \\frac{\\sigma_{st}(v)}{\\sigma_{st}}\n$$\n其中 $N = |V|$。\n\n对于边 $e \\in E$ 的**边介数中心性** $C_B(e)$ 的类似定义，衡量的是穿过该边的最短路径的分数。一个一致的归一化将是针对所有可能的节点对，即 $\\binom{N}{2}$：\n$$\nC_B(e) = \\frac{1}{\\binom{N}{2}} \\sum_{\\substack{s,t \\in V \\\\ s  t}} \\frac{\\sigma_{st}(e)}{\\sigma_{st}}\n$$\n其中 $\\sigma_{st}(e)$ 是 $s$ 和 $t$ 之间包含边 $e$ 的最短路径数量。\n\n### 图分析与计算\n\n给定图 $G$ 有 $N=|V|=6$ 个顶点。节点介数中心性的归一化常数是 $\\frac{1}{\\binom{6-1}{2}} = \\frac{1}{\\binom{5}{2}} = \\frac{1}{10}$。\n\n图的结构是两个三角形。边集为 $E = \\{(v_1,v_2), (v_2,v_3), (v_1,v_3), (v_2,v_4), (v_3,v4), (v_4,v5), (v_5,v6), (v_4,v6)\\}$。仔细检查 $E$ 会发现：\n- 顶点 $\\{v_1, v_2, v_3\\}$ 构成一个完全子图 $K_3$（一个三角形）。\n- 顶点 $\\{v_4, v_5, v_6\\}$ 也构成一个完全子图 $K_3$（一个三角形），因为边是 $(v_4,v_5)$、$(v_5,v_6)$ 和 $(v_4,v_6)$。\n- 这两个三角形通过边 $(v_2, v_4)$ 和 $(v_3, v_4)$ 连接。\n\n该图表现出对称性：\n- 节点 $v_2$ 和 $v_3$ 在结构上是等价的。因此，$C_B(v_2) = C_B(v_3)$。\n- 节点 $v_5$ 和 $v_6$ 在结构上是等价的。因此，$C_B(v_5) = C_B(v_6)$。\n我们需要为 $v \\in \\{v_1, v_2, v_4, v_5\\}$ 计算 $C_B(v)$。\n\n我们将系统地分析所有 $\\binom{6}{2}=15$ 对顶点的最短路径。节点 $v$ 对其自身中心性的贡献来自 $s, t \\neq v$ 的节点对 $(s,t)$。\n\n**$C_B(v_1)$ 的计算：**\n一条最短路径只有在连接其邻居 $v_2$ 和 $v_3$ 时才可能通过 $v_1$。$v_2$ 和 $v_3$ 之间的最短路径是直接边 $(v_2,v_3)$，长度为 $d(v_2,v_3)=1$。路径 $(v_2,v_1,v_3)$ 长度为 $2$，不是测地线。来自 $\\{v_2, v_3, v_4, v_5, v_6\\}$ 的任何其他节点对 $(s,t)$ 的最短路径都不会涉及 $v_1$ 所在的图的“死胡同”部分。因此，对于所有 $s,t \\neq v_1$ 的节点对，$\\sigma_{st}(v_1) = 0$。\n因此，$C_B(v_1) = 0$。\n\n**$C_B(v_5)$（以及 $C_B(v_6)$）的计算：**\n与 $v_1$ 类比，节点 $v_5$ 是一个末端三角形 $\\{v_4, v_5, v_6\\}$ 的一部分。一条最短路径只有在连接其邻居 $v_4$ 和 $v_6$ 时才可能通过 $v_5$。直接边 $(v_4,v_6)$ 的长度为 $d(v_4,v_6)=1$。路径 $(v_4,v_5,v_6)$ 的长度为 $2$，不是测地线。不在 $\\{v_4,v_6\\}$ 中的节点之间的任何最短路径都不会通过 $v_5$，因为存在更短的路径。因此，对于所有 $s,t \\neq v_5$ 的节点对，$\\sigma_{st}(v_5)=0$。\n因此，$C_B(v_5) = 0$，并且根据对称性，$C_B(v_6)=0$。\n\n**$C_B(v_2)$（以及 $C_B(v_3)$）的计算：**\n我们对所有不包括 $v_2$ 的节点对 $(s,t)$ 求和贡献 $\\frac{\\sigma_{st}(v_2)}{\\sigma_{st}}$。\n- 节点对 $(v_1, v_4)$：最短路径长度为 $2$。它们是 $(v_1,v_2,v_4)$ 和 $(v_1,v_3,v_4)$。所以 $\\sigma_{14}=2$。其中一条通过 $v_2$。贡献：$\\frac{\\sigma_{14}(v_2)}{\\sigma_{14}} = \\frac{1}{2}$。\n- 节点对 $(v_1, v_5)$：最短路径长度为 $3$。它们是 $(v_1,v_2,v_4,v_5)$ 和 $(v_1,v_3,v_4,v_5)$。所以 $\\sigma_{15}=2$。其中一条通过 $v_2$。贡献：$\\frac{\\sigma_{15}(v_2)}{\\sigma_{15}} = \\frac{1}{2}$。\n- 节点对 $(v_1, v_6)$：最短路径长度为 $3$。它们是 $(v_1,v_2,v_4,v_6)$ 和 $(v_1,v_3,v_4,v_6)$。所以 $\\sigma_{16}=2$。其中一条通过 $v_2$。贡献：$\\frac{\\sigma_{16}(v_2)}{\\sigma_{16}} = \\frac{1}{2}$。\n- 所有其他节点对，如 $(v_1,v_3)$、$(v_3, v_4)$ 等，其最短路径不涉及 $v_2$。例如，$d(v_3,v_4)=1$ 通过边 $(v_3,v_4)$，而任何通过 $v_2$ 的路径，如 $(v_3,v_2,v_4)$，长度为 $2$。\n对 $v_2$ 的贡献总和是 $\\frac{1}{2} + \\frac{1}{2} + \\frac{1}{2} = \\frac{3}{2}$。\n$C_B(v_2) = \\frac{1}{10} \\left( \\frac{3}{2} \\right) = \\frac{3}{20}$。根据对称性，$C_B(v_3) = \\frac{3}{20}$。\n\n**$C_B(v_4)$ 的计算：**\n我们对所有不包括 $v_4$ 的节点对 $(s,t)$ 求和贡献 $\\frac{\\sigma_{st}(v_4)}{\\sigma_{st}}$。对于某些节点对，节点 $v_4$ 是图两个部分之间的唯一桥梁。\n- 节点对 $(v_1, v_5)$：最短路径是 $(v_1,v_2,v_4,v_5)$ 和 $(v_1,v_3,v_4,v_5)$。长度为 $3$。$\\sigma_{15}=2$。两条都通过 $v_4$。贡献：$\\frac{\\sigma_{15}(v_4)}{\\sigma_{15}} = \\frac{2}{2} = 1$。\n- 节点对 $(v_1, v_6)$：最短路径是 $(v_1,v_2,v_4,v_6)$ 和 $(v_1,v_3,v_4,v_6)$。长度为 $3$。$\\sigma_{16}=2$。两条都通过 $v_4$。贡献：$\\frac{\\sigma_{16}(v_4)}{\\sigma_{16}} = \\frac{2}{2} = 1$。\n- 节点对 $(v_2, v_5)$：最短路径是 $(v_2,v_4,v_5)$。长度为 $2$。$\\sigma_{25}=1$。通过 $v_4$。贡献：$\\frac{\\sigma_{25}(v_4)}{\\sigma_{25}} = \\frac{1}{1} = 1$。\n- 节点对 $(v_2, v_6)$：最短路径是 $(v_2,v_4,v_6)$。长度为 $2$。$\\sigma_{26}=1$。通过 $v_4$。贡献：$\\frac{\\sigma_{26}(v_4)}{\\sigma_{26}} = \\frac{1}{1} = 1$。\n- 节点对 $(v_3, v_5)$：最短路径是 $(v_3,v_4,v_5)$。长度为 $2$。$\\sigma_{35}=1$。通过 $v_4$。贡献：$\\frac{\\sigma_{35}(v_4)}{\\sigma_{35}} = \\frac{1}{1} = 1$。\n- 节点对 $(v_3, v_6)$：最短路径是 $(v_3,v_4,v_6)$。长度为 $2$。$\\sigma_{36}=1$。通过 $v_4$。贡献：$\\frac{\\sigma_{36}(v_4)}{\\sigma_{36}} = \\frac{1}{1} = 1$。\n- 所有其他节点对，例如 $(v_1,v_2)$ 或 $(v_5,v_6)$，其最短路径包含在其中一个三角形内，因此不通过 $v_4$。\n对 $v_4$ 的贡献总和是 $1+1+1+1+1+1 = 6$。\n$C_B(v_4) = \\frac{1}{10} (6) = \\frac{6}{10} = \\frac{3}{5}$。\n\n### 结果摘要\n所有节点的介数中心性值为：\n- $C_B(v_1) = 0$\n- $C_B(v_2) = \\frac{3}{20}$\n- $C_B(v_3) = \\frac{3}{20}$\n- $C_B(v_4) = \\frac{3}{5}$\n- $C_B(v_5) = 0$\n- $C_B(v_6) = 0$\n\n这些结果可以表示为所要求的行矩阵。",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 0  \\frac{3}{20}  \\frac{3}{20}  \\frac{3}{5}  0  0 \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "分析网络的中尺度结构，即社群，可以揭示其功能组织。模块度是评估网络划分质量的常用指标，但它并非没有缺陷。这个高级实践  探讨了模块度著名的“分辨率极限”问题，通过一个具体的场景展示了该方法如何反直觉地倾向于合并界限清晰的紧密社群。这对于应用社群发现算法的研究者来说是至关重要的一课。",
            "id": "4131943",
            "problem": "考虑一个按如下方式构建的无向、无权、简单图。取 $m$ 个大小为 $n$ 的团（每个团都是一个完全图 $K_n$），将它们排列成一个环，使得每个团与其两个相邻的团都恰好有一条边相连；因此，这 $m$ 个团通过 $m$ 条不同的独立团间边连接成一个环。假设 $m$ 为偶数。令 $A_{ij}$ 为邻接矩阵，$k_i$ 为节点 $i$ 的度，$L$ 为总边数。一个划分 $\\{c_i\\}$ 的模块度 $Q$ 由标准表达式定义为\n$$\nQ \\;=\\; \\frac{1}{2L} \\sum_{i,j} \\left( A_{ij} - \\frac{k_i k_j}{2L} \\right) \\delta(c_i, c_j),\n$$\n其中 $\\delta(c_i,c_j)$ 是克罗内克δ函数，当 $c_i=c_j$ 时等于 $1$，否则等于 $0$。\n\n考虑这个“团之环”图的两种划分：\n- 划分 $\\mathcal{P}_1$：每个团自成一个社区。\n- 划分 $\\mathcal{P}_2$：将每对相邻的团合并成一个社区，从而得到 $m/2$ 个社区。\n\n从上面 $Q$ 的定义出发，仅使用图和度的基本性质，推导出 $Q(\\mathcal{P}_1)$ 和 $Q(\\mathcal{P}_2)$ 的封闭形式表达式。然后，确定使 $Q(\\mathcal{P}_2)  Q(\\mathcal{P}_1)$ 成立的关于 $m$ 和 $n$ 的精确阈值条件，并给出临界值 $m_c(n)$，使得对于所有 $m  m_c(n)$，模块度优化严格倾向于合并相邻的团（即 $\\mathcal{P}_2$ 比 $\\mathcal{P}_1$ 产生更大的模块度）。将你的最终答案表示为单个封闭形式表达式 $m_c(n)$；无需四舍五入，不涉及单位。",
            "solution": "我们首先描述图的基本属性。\n图中的节点总数为 $N=mn$。\n\n总边数 $L$ 是所有团内部的边和连接团的边的总和。\n-   单个 $n$-团（$K_n$）中的边数为 $\\binom{n}{2} = \\frac{n(n-1)}{2}$。\n-   $m$ 个团内部的总边数：$m \\frac{n(n-1)}{2}$。\n-   团间边数：$m$。\n-   总边数：$L = m \\frac{n(n-1)}{2} + m = \\frac{m(n(n-1)+2)}{2} = \\frac{m(n^2-n+2)}{2}$。\n-   对于模块度公式，我们需要 $2L = m(n^2-n+2)$。\n\n接下来，我们确定节点的度。在每个团中，有两种类型的节点：\n-   $n-2$ 个“内部”节点，它们只与同一团内的其他节点相连。它们的度为 $k_{\\text{int}} = n-1$。\n-   $2$ 个“桥接”节点，每个节点都与自身团内的 $n-1$ 个节点和一个相邻团中的一个节点相连。它们的度为 $k_{\\text{bridge}} = (n-1)+1 = n$。\n\n一个划分 $\\mathcal{C} = \\{c_s\\}$ 的模块度 $Q$ 可以表示为对所有社区的求和：\n$$\nQ = \\sum_{s} \\left[ \\frac{L_{in}(c_s)}{L} - \\left( \\frac{K(c_s)}{2L} \\right)^2 \\right]\n$$\n其中 $L_{in}(c_s)$ 是完全在社区 $c_s$ 内部的边数，而 $K(c_s) = \\sum_{i \\in c_s} k_i$ 是社区 $c_s$ 中所有节点度的总和。\n\n**划分 $\\mathcal{P}_1$ 的模块度**\n\n在划分 $\\mathcal{P}_1$ 中，有 $m$ 个社区，每个社区都是一个原始的团。由于环的对称性，所有社区都是相同的。我们来分析其中一个社区，记为 $c$。\n-   内部边数等于一个 $K_n$ 中的边数：$L_{in}(c) = \\binom{n}{2} = \\frac{n(n-1)}{2}$。\n-   $c$ 中节点的度之和为 $K(c) = (n-2)k_{\\text{int}} + 2k_{\\text{bridge}} = (n-2)(n-1) + 2n = (n^2-3n+2) + 2n = n^2-n+2$。\n\n因为有 $m$ 个相同的社区，总模块度 $Q(\\mathcal{P}_1)$ 为：\n$$\nQ(\\mathcal{P}_1) = m \\left[ \\frac{L_{in}(c)}{L} - \\left( \\frac{K(c)}{2L} \\right)^2 \\right]\n$$\n代入 $L_{in}(c)$、$K(c)$、$L$ 和 $2L$ 的表达式：\n$$\nQ(\\mathcal{P}_1) = m \\left[ \\frac{n(n-1)/2}{m(n^2-n+2)/2} - \\left( \\frac{n^2-n+2}{m(n^2-n+2)} \\right)^2 \\right]\n$$\n$$\nQ(\\mathcal{P}_1) = m \\left[ \\frac{n(n-1)}{m(n^2-n+2)} - \\left( \\frac{1}{m} \\right)^2 \\right] = \\frac{n(n-1)}{n^2-n+2} - \\frac{1}{m}\n$$\n我们记 $n^2-n$ 为 $X$。那么 $Q(\\mathcal{P}_1) = \\frac{X}{X+2} - \\frac{1}{m}$。\n\n**划分 $\\mathcal{P}_2$ 的模块度**\n\n在划分 $\\mathcal{P}_2$ 中，有 $m/2$ 个社区，每个社区由两个相邻的团合并而成。同样，所有社区在结构上都是相同的。我们来分析其中一个社区，记为 $c'$。\n-   一个社区 $c'$ 由两个团（比如说 $K_n^{(a)}$ 和 $K_n^{(b)}$）以及连接它们的单条边组成。\n-   内部边数 $L_{in}(c')$ 是 $K_n^{(a)}$ 中的边数、$K_n^{(b)}$ 中的边数以及那条连接边的总和：$L_{in}(c') = \\binom{n}{2} + \\binom{n}{2} + 1 = n(n-1)+1 = n^2-n+1$。\n-   度之和 $K(c')$ 是构成社区的两个团中所有节点的度之和。由于单个团的 $K(c)$ 是 $n^2-n+2$，对于一个双团社区，我们有：$K(c') = 2(n^2-n+2)$。\n\n因为有 $m/2$ 个相同的社区，总模块度 $Q(\\mathcal{P}_2)$ 为：\n$$\nQ(\\mathcal{P}_2) = \\frac{m}{2} \\left[ \\frac{L_{in}(c')}{L} - \\left( \\frac{K(c')}{2L} \\right)^2 \\right]\n$$\n代入 $L_{in}(c')$、$K(c')$、$L$ 和 $2L$ 的表达式：\n$$\nQ(\\mathcal{P}_2) = \\frac{m}{2} \\left[ \\frac{n^2-n+1}{m(n^2-n+2)/2} - \\left( \\frac{2(n^2-n+2)}{m(n^2-n+2)} \\right)^2 \\right]\n$$\n$$\nQ(\\mathcal{P}_2) = \\frac{m}{2} \\left[ \\frac{2(n^2-n+1)}{m(n^2-n+2)} - \\left( \\frac{2}{m} \\right)^2 \\right] = \\frac{n^2-n+1}{n^2-n+2} - \\frac{m}{2}\\frac{4}{m^2} = \\frac{n^2-n+1}{n^2-n+2} - \\frac{2}{m}\n$$\n使用换元法 $X = n^2-n$，我们得到 $Q(\\mathcal{P}_2) = \\frac{X+1}{X+2} - \\frac{2}{m}$。\n\n**阈值条件**\n\n我们需要找到模块度严格倾向于合并相邻团的条件，即 $Q(\\mathcal{P}_2)  Q(\\mathcal{P}_1)$。\n$$\n\\frac{n^2-n+1}{n^2-n+2} - \\frac{2}{m}  \\frac{n(n-1)}{n^2-n+2} - \\frac{1}{m}\n$$\n我们整理各项来求解 $m$：\n$$\n\\left( \\frac{n^2-n+1}{n^2-n+2} - \\frac{n^2-n}{n^2-n+2} \\right)  \\left( \\frac{2}{m} - \\frac{1}{m} \\right)\n$$\n左侧化简为：\n$$\n\\frac{(n^2-n+1) - (n^2-n)}{n^2-n+2}  \\frac{1}{m}\n$$\n$$\n\\frac{1}{n^2-n+2}  \\frac{1}{m}\n$$\n由于 $m$ 和 $n^2-n+2 = n(n-1)+2$ 都是正数（当 $n \\ge 1$ 时），我们可以取倒数并反转不等号：\n$$\nm  n^2-n+2\n$$\n这就是精确的阈值条件。对于任何满足此严格不等式的偶数 $m$，划分 $\\mathcal{P}_2$ 的模块度将高于划分 $\\mathcal{P}_1$。\n\n问题要求的是临界值 $m_c(n)$，使得对于所有 $m  m_c(n)$，该条件都成立。根据我们推导出的不等式，这个临界值就是阈值本身。\n$$\nm_c(n) = n^2-n+2\n$$\n对于任何有效的 $m$（即偶数），只要 $m  m_c(n)$，合并就是更优选择。",
            "answer": "$$\\boxed{n^2-n+2}$$"
        }
    ]
}