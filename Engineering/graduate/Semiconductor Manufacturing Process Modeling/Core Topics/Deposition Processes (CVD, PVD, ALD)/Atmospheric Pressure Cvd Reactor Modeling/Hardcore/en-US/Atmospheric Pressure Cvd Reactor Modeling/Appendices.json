{
    "hands_on_practices": [
        {
            "introduction": "Before we can apply the powerful equations of fluid dynamics to model a Chemical Vapor Deposition (CVD) reactor, we must first confirm that the gas can be treated as a continuous medium. This exercise demonstrates how to validate this fundamental continuum assumption by calculating the Knudsen number, $Kn$. By relating macroscopic process conditions like pressure and temperature to the microscopic mean free path of molecules, you will determine if the continuum model is appropriate for a typical atmospheric pressure reactor. ",
            "id": "4108337",
            "problem": "In Atmospheric Pressure Chemical Vapor Deposition (APCVD) modeling of a horizontal parallel-plate reactor used for silicon dioxide growth from silane, the validity of the continuum fluid assumption hinges on the Knudsen number, defined as $Kn=\\lambda/L$, where $\\lambda$ is the molecular mean free path and $L$ is a characteristic reactor length scale. Consider a reactor operated at total pressure $p=1.01325\\times 10^{5}\\ \\mathrm{Pa}$ and gas temperature $T=1000\\ \\mathrm{K}$. The characteristic length is the plate spacing $L=1.0\\times 10^{-2}\\ \\mathrm{m}$. The gas mixture is dominated by a carrier with effective hard-sphere diameter $d=4.0\\times 10^{-10}\\ \\mathrm{m}$ for collisional interactions with the silane precursor. Use as fundamental bases the Ideal Gas Law and kinetic theory for hard-sphere molecules, together with the definition of mean free path as the average distance traveled between collisions.\n\nStarting only from these bases, first derive an expression for the mean free path $\\lambda$ of a dilute gas in terms of $p$, $T$, $d$, and $k_{B}$, where $k_{B}$ is the Boltzmann constant. Then evaluate $\\lambda$ numerically using $k_{B}=1.380\\,649\\times 10^{-23}\\ \\mathrm{J/K}$ and compute the Knudsen number $Kn=\\lambda/L$ for the reactor described. Express the final answer as a pure number (dimensionless) and round to three significant figures.",
            "solution": "The problem is first validated against the specified criteria.\n\n### Problem Validation\n\n**Step 1: Extract Givens**\n-   System: Atmospheric Pressure Chemical Vapor Deposition (APCVD) horizontal parallel-plate reactor.\n-   Knudsen number definition: $Kn = \\lambda/L$.\n-   Molecular mean free path: $\\lambda$.\n-   Characteristic reactor length scale: $L = 1.0\\times 10^{-2}\\ \\mathrm{m}$.\n-   Total pressure: $p = 1.01325\\times 10^{5}\\ \\mathrm{Pa}$.\n-   Gas temperature: $T = 1000\\ \\mathrm{K}$.\n-   Effective hard-sphere diameter of carrier gas: $d = 4.0\\times 10^{-10}\\ \\mathrm{m}$.\n-   Required bases for derivation: Ideal Gas Law, kinetic theory for hard-sphere molecules, definition of mean free path.\n-   Boltzmann constant: $k_{B} = 1.380\\,649\\times 10^{-23}\\ \\mathrm{J/K}$.\n-   Objective 1: Derive an expression for $\\lambda$ in terms of $p$, $T$, $d$, and $k_{B}$.\n-   Objective 2: Compute the numerical value of $Kn$ and round to three significant figures.\n\n**Step 2: Validate Using Extracted Givens**\n-   **Scientifically Grounded:** The problem is firmly based on the principles of the kinetic theory of gases and its application to reactor modeling in chemical engineering, a standard topic in the field. The provided physical parameters ($p$, $T$, $L$, d) are realistic for an APCVD process.\n-   **Well-Posed:** The problem is well-posed. It provides all necessary data and constants to derive the requested expression and compute the final numerical value. The objectives are clearly stated.\n-   **Objective:** The problem is stated in precise, objective, and quantitative terms, free from any subjective elements.\n-   **Conclusion:** The problem is self-contained, scientifically sound, and well-posed. It is deemed **valid**.\n\n### Solution Derivation\n\nThe primary objective is to derive an expression for the mean free path, $\\lambda$, and subsequently calculate the Knudsen number, $Kn$.\n\nThe mean free path, $\\lambda$, is defined as the average distance a molecule travels between successive collisions. It can be expressed as the ratio of the mean molecular speed, $\\langle v \\rangle$, to the collision frequency, $\\nu$.\n$$\n\\lambda = \\frac{\\langle v \\rangle}{\\nu}\n$$\n\nThe collision frequency, $\\nu$, for a single molecule moving through a gas of other molecules must account for the relative motion of all particles. For a gas composed of identical hard-sphere molecules, a rigorous derivation from kinetic theory shows that the collision frequency is given by:\n$$\n\\nu = n \\sigma \\langle v_{rel} \\rangle\n$$\nwhere $n$ is the number density of molecules (number of molecules per unit volume), $\\sigma$ is the collision cross-section, and $\\langle v_{rel} \\rangle$ is the mean relative speed between molecules. For a gas in thermal equilibrium, the mean relative speed is related to the mean speed of a single molecule by $\\langle v_{rel} \\rangle = \\sqrt{2} \\langle v \\rangle$.\n\nSubstituting this into the expression for collision frequency gives:\n$$\n\\nu = \\sqrt{2} n \\sigma \\langle v \\rangle\n$$\n\nNow, we can find the expression for the mean free path:\n$$\n\\lambda = \\frac{\\langle v \\rangle}{\\nu} = \\frac{\\langle v \\rangle}{\\sqrt{2} n \\sigma \\langle v \\rangle} = \\frac{1}{\\sqrt{2} n \\sigma}\n$$\n\nThe collision cross-section, $\\sigma$, for two identical hard spheres of diameter $d$ is the area of a circle of radius $d$. This is because a collision occurs if the center of one molecule comes within a distance $d$ of the center of another molecule.\n$$\n\\sigma = \\pi d^2\n$$\n\nSubstituting this into the expression for $\\lambda$ yields:\n$$\n\\lambda = \\frac{1}{\\sqrt{2} n \\pi d^2}\n$$\n\nThe next step is to express the number density, $n$, in terms of the macroscopic properties of the gas: pressure $p$ and temperature $T$. As stipulated, we use the Ideal Gas Law:\n$$\npV = N k_B T\n$$\nwhere $N$ is the total number of molecules in a volume $V$, and $k_B$ is the Boltzmann constant. The number density $n$ is defined as $n = N/V$. Rearranging the Ideal Gas Law gives:\n$$\nn = \\frac{N}{V} = \\frac{p}{k_B T}\n$$\n\nFinally, substituting this expression for $n$ into our equation for $\\lambda$ gives the desired relationship. This completes the first part of the problem.\n$$\n\\lambda = \\frac{1}{\\sqrt{2} \\left(\\frac{p}{k_B T}\\right) \\pi d^2} = \\frac{k_B T}{\\sqrt{2} \\pi d^2 p}\n$$\n\n### Numerical Calculation\n\nNow we proceed to the numerical evaluation using the provided data:\n-   $k_{B} = 1.380\\,649\\times 10^{-23}\\ \\mathrm{J/K}$\n-   $T = 1000\\ \\mathrm{K}$\n-   $d = 4.0\\times 10^{-10}\\ \\mathrm{m}$\n-   $p = 1.01325\\times 10^{5}\\ \\mathrm{Pa}$\n-   $L = 1.0\\times 10^{-2}\\ \\mathrm{m}$\n\nFirst, we calculate the mean free path $\\lambda$:\n$$\n\\lambda = \\frac{(1.380\\,649\\times 10^{-23}\\ \\mathrm{J/K}) (1000\\ \\mathrm{K})}{\\sqrt{2} \\pi (4.0\\times 10^{-10}\\ \\mathrm{m})^2 (1.01325\\times 10^{5}\\ \\mathrm{Pa})}\n$$\n$$\n\\lambda = \\frac{1.380\\,649\\times 10^{-20}}{\\sqrt{2} \\pi (1.6\\times 10^{-19}) (1.01325\\times 10^{5})} \\ \\mathrm{m}\n$$\n$$\n\\lambda = \\frac{1.380\\,649\\times 10^{-20}}{7.20227\\times 10^{-14}} \\ \\mathrm{m} \\approx 1.91696\\times 10^{-7}\\ \\mathrm{m}\n$$\nNext, we compute the Knudsen number $Kn$ using its definition, $Kn=\\lambda/L$:\n$$\nKn = \\frac{\\lambda}{L} = \\frac{1.91696\\times 10^{-7}\\ \\mathrm{m}}{1.0\\times 10^{-2}\\ \\mathrm{m}}\n$$\n$$\nKn = 1.91696\\times 10^{-5}\n$$\nThe problem requires the final answer to be rounded to three significant figures.\n$$\nKn \\approx 1.92\\times 10^{-5}\n$$\nThis value is dimensionless, as expected for the Knudsen number, which is a ratio of two lengths. A value of $Kn \\ll 1$ confirms that the continuum fluid assumption is highly valid for this reactor configuration.",
            "answer": "$$\\boxed{1.92 \\times 10^{-5}}$$"
        },
        {
            "introduction": "With the continuum model established, we can analyze how precursor gases are transported within the reactor. This practice focuses on convection, the bulk movement of the gas, by tracking the propagation of a concentration front through the system. You will solve the one-dimensional transport equation in a non-isothermal environment, revealing how temperature gradients influence gas velocity and precursor residence time, which are key factors in process control. ",
            "id": "4108313",
            "problem": "Consider an Atmospheric Pressure Chemical Vapor Deposition (APCVD) horizontal reactor of length $L = 0.50\\,\\mathrm{m}$ with a constant rectangular cross-section of area $A = 0.0050\\,\\mathrm{m}^{2}$. The total pressure is uniform and constant at $p = 1.013 \\times 10^{5}\\,\\mathrm{Pa}$. A dilute precursor is carried by an inert gas stream with a constant total molar flow rate $\\dot{n} = 0.0100\\,\\mathrm{mol}\\,\\mathrm{s}^{-1}$. The gas is heated by the reactor walls so that the cross-sectionally averaged gas temperature varies linearly along the axial coordinate $z$ according to $T(z) = T_{0} + (T_{L} - T_{0})\\,z/L$, with $T_{0} = 300\\,\\mathrm{K}$ at $z=0$ and $T_{L} = 1000\\,\\mathrm{K}$ at $z=L$. Assume the cross-section is well mixed (negligible radial gradients), the precursor behaves as a passive scalar (no gas-phase or surface reaction, no diffusive/dispersion transport), and the ideal gas law holds everywhere. The wafer is located at $z=L$ and is exposed to the bulk gas composition.\n\nAt time $t=0$, the inlet at $z=0$ is switched instantaneously from precursor $\\mathrm{A}$ to precursor $\\mathrm{B}$, effecting a step change in the inlet mole fraction of $\\mathrm{B}$ from zero to a constant value. Starting from conservation of species and fundamental relations for compressible ideal-gas flow at constant pressure, model the axial propagation of this step change by the one-dimensional convective transport equation for the mole fraction of $\\mathrm{B}$. By solving this equation, determine the arrival time $t_{f}$ of the composition front at the wafer location $z=L$, defined as the time at which the center of the advected step reaches $z=L$.\n\nUse the universal gas constant $R = 8.314\\,\\mathrm{J}\\,\\mathrm{mol}^{-1}\\,\\mathrm{K}^{-1}$. Express your final answer for $t_{f}$ in seconds, and round to four significant figures.",
            "solution": "The problem is valid as it is scientifically grounded, well-posed, and self-contained. All necessary parameters and conditions for a unique solution are provided, and they are physically consistent and realistic within the context of chemical vapor deposition modeling.\n\nThe physical process is the one-dimensional convective transport of a species B in a non-isothermal flow. The governing equation for the mole fraction of species B, $x_B$, can be derived from the species conservation equation. In one dimension, the general form is:\n$$\n\\frac{\\partial C_B}{\\partial t} + \\frac{\\partial N_{B,z}}{\\partial z} = R_B\n$$\nwhere $C_B$ is the molar concentration of species B, $t$ is time, $z$ is the axial coordinate, $N_{B,z}$ is the axial molar flux of B, and $R_B$ is the molar rate of production of B.\n\nThe problem states that the precursor is a passive scalar, meaning there are no gas-phase or surface reactions, so $R_B = 0$. It also specifies that diffusive and dispersive transport are negligible. Therefore, the flux is purely convective:\n$$\nN_{B,z} = C_B v(z)\n$$\nwhere $v(z)$ is the axial gas velocity, which may vary with position $z$. The conservation equation becomes:\n$$\n\\frac{\\partial C_B}{\\partial t} + \\frac{\\partial (C_B v(z))}{\\partial z} = 0\n$$\nThe molar concentration of species B is related to its mole fraction $x_B$ and the total molar concentration $C(z)$ by $C_B = x_B C(z)$. Substituting this gives:\n$$\n\\frac{\\partial (x_B C(z))}{\\partial t} + \\frac{\\partial (x_B C(z) v(z))}{\\partial z} = 0\n$$\nSince the temperature profile $T(z)$ and pressure $p$ are independent of time, the total concentration $C(z) = \\frac{p}{RT(z)}$ is also independent of time. The first term becomes $C(z) \\frac{\\partial x_B}{\\partial t}$.\n\nThe term $C(z)v(z)$ represents the total molar flux, $N_z = \\frac{\\dot{n}}{A}$, where $\\dot{n}$ is the total molar flow rate and $A$ is the cross-sectional area. The problem states that $\\dot{n}$ and $A$ are constant, so the total molar flux $N_z$ is constant along the reactor length.\nThe conservation equation simplifies to:\n$$\nC(z)\\frac{\\partial x_B}{\\partial t} + N_z \\frac{\\partial x_B}{\\partial z} = 0\n$$\n$$\n\\frac{p}{RT(z)}\\frac{\\partial x_B}{\\partial t} + \\frac{\\dot{n}}{A} \\frac{\\partial x_B}{\\partial z} = 0\n$$\nRearranging to isolate the time derivative gives the required one-dimensional convective transport model for the mole fraction:\n$$\n\\frac{\\partial x_B}{\\partial t} + \\frac{\\dot{n}RT(z)}{pA} \\frac{\\partial x_B}{\\partial z} = 0\n$$\nThis is the pure advection equation, $\\frac{\\partial x_B}{\\partial t} + v(z) \\frac{\\partial x_B}{\\partial z} = 0$, where the advection velocity is the local gas velocity $v(z)$:\n$$\nv(z) = \\frac{\\dot{n}RT(z)}{pA}\n$$\nThe problem specifies a linear temperature profile:\n$$\nT(z) = T_0 + (T_L - T_0)\\frac{z}{L}\n$$\nwhere $T_0 = 300\\,\\mathrm{K}$ is the temperature at the inlet ($z=0$) and $T_L = 1000\\,\\mathrm{K}$ is the temperature at the outlet ($z=L=0.50\\,\\mathrm{m}$).\n\nThe equation $\\frac{\\partial x_B}{\\partial t} + v(z) \\frac{\\partial x_B}{\\partial z} = 0$ implies that the mole fraction $x_B$ is constant along characteristic curves defined by $\\frac{dz}{dt} = v(z)$. The arrival time $t_f$ of the composition front (the center of the advected step) at the wafer location $z=L$ is the time it takes for a fluid element that enters the reactor at $t=0$ to travel the full length $L$.\nThis time can be found by separating variables and integrating:\n$$\ndt = \\frac{dz}{v(z)}\n$$\n$$\nt_f = \\int_0^{t_f} dt = \\int_0^L \\frac{dz}{v(z)}\n$$\nSubstituting the expressions for $v(z)$ and $T(z)$:\n$$\nt_f = \\int_0^L \\frac{pA}{\\dot{n}RT(z)} dz = \\frac{pA}{\\dot{n}R} \\int_0^L \\frac{dz}{T_0 + (T_L - T_0)\\frac{z}{L}}\n$$\nTo evaluate the integral, let $u = T_0 + (T_L - T_0)\\frac{z}{L}$. Then $du = \\frac{T_L - T_0}{L} dz$, so $dz = \\frac{L}{T_L - T_0} du$. The limits of integration for $u$ are $T_0$ (at $z=0$) and $T_L$ (at $z=L$).\n$$\n\\int_{T_0}^{T_L} \\frac{1}{u} \\left(\\frac{L}{T_L - T_0}\\right) du = \\frac{L}{T_L - T_0} [\\ln|u|]_{T_0}^{T_L} = \\frac{L}{T_L - T_0} (\\ln(T_L) - \\ln(T_0)) = \\frac{L}{T_L - T_0} \\ln\\left(\\frac{T_L}{T_0}\\right)\n$$\nTherefore, the expression for the arrival time $t_f$ is:\n$$\nt_f = \\frac{pA}{\\dot{n}R} \\left( \\frac{L}{T_L - T_0} \\ln\\left(\\frac{T_L}{T_0}\\right) \\right)\n$$\nNow, we substitute the given numerical values:\n$p = 1.013 \\times 10^5\\,\\mathrm{Pa}$\n$A = 0.0050\\,\\mathrm{m}^2$\n$\\dot{n} = 0.0100\\,\\mathrm{mol}\\,\\mathrm{s}^{-1}$\n$R = 8.314\\,\\mathrm{J}\\,\\mathrm{mol}^{-1}\\,\\mathrm{K}^{-1}$\n$L = 0.50\\,\\mathrm{m}$\n$T_0 = 300\\,\\mathrm{K}$\n$T_L = 1000\\,\\mathrm{K}$\n\n$$\nt_f = \\frac{(1.013 \\times 10^5)(0.0050)}{(0.0100)(8.314)} \\left( \\frac{0.50}{1000 - 300} \\ln\\left(\\frac{1000}{300}\\right) \\right)\n$$\n$$\nt_f = \\frac{506.5}{0.08314} \\left( \\frac{0.50}{700} \\ln\\left(\\frac{10}{3}\\right) \\right)\n$$\n$$\nt_f \\approx (6092.1337) \\left( (7.142857 \\times 10^{-4}) \\times (1.2039728) \\right)\n$$\n$$\nt_f \\approx (6092.1337) (8.599806 \\times 10^{-4})\n$$\n$$\nt_f \\approx 5.239106\\,\\mathrm{s}\n$$\nRounding the result to four significant figures as required gives $t_f = 5.239\\,\\mathrm{s}$.",
            "answer": "$$\\boxed{5.239}$$"
        },
        {
            "introduction": "The ultimate power of modeling lies in its ability to guide process design and optimization. This comprehensive practice challenges you to integrate multiple physical phenomena—fluid flow, mass transfer, and chemical kinetics—into a unified model of an APCVD reactor. Your goal is to navigate the critical engineering trade-off between achieving a high deposition rate and minimizing the formation of undesirable gas-phase particles, using the model to identify feasible operating windows. ",
            "id": "4108298",
            "problem": "You are tasked with modeling the trade-off between temperature and flow in an Atmospheric Pressure Chemical Vapor Deposition (APCVD) reactor to achieve a target film deposition rate while minimizing particle formation. Use a physically consistent kinetic-transport framework grounded in fundamental laws and well-tested correlations, and implement a program that evaluates specified scenarios and reports quantitative metrics.\n\nAssume a horizontal laminar-flow APCVD reactor with a rectangular channel of length $L$, width $W$, and height $H$, containing a single wafer placed along the flow direction. A precursor species with inlet molar fraction $y_{A0}$ in an inert carrier gas flows at volumetric rate $Q$ and total pressure $P$. The reactor operates at uniform temperature $T$. The following foundational relations and definitions must be used:\n\n- Ideal Gas Law: the total molar concentration is $c_{\\text{tot}} = P / (R T)$, where $R$ is the universal gas constant, and the bulk precursor concentration is $c_A = y_{A0} c_{\\text{tot}}$.\n- Flow kinematics: the mean velocity is $u = Q / (W H)$, and the residence time is $\\tau_{\\text{res}} = (W H L) / Q$.\n- Gas properties:\n  - Dynamic viscosity modeled by a power law: $\\mu(T) = \\mu_{\\text{ref}} \\left(T/T_{\\text{ref}}\\right)^{0.7}$.\n  - Binary diffusivity modeled by a temperature-pressure correlation: $D(T,P) = D_{\\text{ref}} \\left(T/T_{\\text{ref}}\\right)^{1.75} \\left(P_{\\text{ref}}/P\\right)$.\n  - Gas density is $\\rho(T) = P M_{\\text{mix}} / (R T)$, where $M_{\\text{mix}}$ is the mean molar mass of the gas mixture.\n- Laminar convective mass transfer over a flat plate: use the well-tested average Sherwood number correlation $Sh_L = 0.664 \\, Re_L^{1/2} \\, Sc^{1/3}$,\n  where $Re_L = \\rho u L / \\mu$ and $Sc = \\mu / (\\rho D)$, and $k_m = Sh_L \\, D / L$ is the mass transfer coefficient.\n- Surface reaction kinetics follow Arrhenius behavior: $k_s(T) = k_{s0} \\exp\\!\\left(-E_s / (R T)\\right)$, where $k_{s0}$ is the pre-exponential factor and $E_s$ is the activation energy. The effective transport-reaction conductance is given by\n  $$k_{\\text{eff}} = \\frac{k_m k_s}{k_m + k_s}.$$\n- The molar flux to the surface is $J = k_{\\text{eff}} c_A$. The film thickness growth rate in meters per second is $g = J \\, V_{m,f}$, where $V_{m,f} = M_f / \\rho_f$ is the molar volume of the film based on its molar mass $M_f$ and density $\\rho_f$.\n- Gas-phase particle formation hazard is quantified by a first-order homogeneous reaction with Arrhenius rate constant $k_g(T) = k_{g0} \\exp\\!\\left(-E_g / (R T)\\right)$. Define a dimensionless risk metric as\n  $$\\mathcal{R} = 1 - \\exp\\!\\left(-k_g \\, \\tau_{\\text{res}}\\right),$$\n  which approximates the probability that particle formation events occur during the average residence time.\n\nYour program must compute, for each specified test case, the following quantities:\n- The film deposition rate $g$ expressed in nanometers per minute (nm/min), rounded to three decimal places.\n- The particle formation risk metric $\\mathcal{R}$ expressed as a decimal in $[0,1]$, rounded to three decimal places.\n- A feasibility boolean indicating whether the deposition rate is within a specified tolerance of a target rate and the risk metric is below a specified threshold, defined by\n  $$\\left|\\frac{g - g_{\\text{target}}}{g_{\\text{target}}}\\right| \\le \\varepsilon_g \\quad \\text{and} \\quad \\mathcal{R} \\le \\mathcal{R}_{\\max}.$$\n\nUse the following parameter values and physical constants in all calculations:\n- Geometry: $L = 0.50$ (m), $W = 0.10$ (m), $H = 0.05$ (m).\n- Operating pressure: $P = 101325$ (Pa).\n- Gas constant: $R = 8.314$ (J/mol/K).\n- Gas mixture molar mass: $M_{\\text{mix}} = 0.029$ (kg/mol).\n- Precursor molar fraction: $y_{A0} = 0.05$ (dimensionless).\n- Reference temperature and pressure: $T_{\\text{ref}} = 300$ (K), $P_{\\text{ref}} = 101325$ (Pa).\n- Dynamic viscosity reference: $\\mu_{\\text{ref}} = 1.85 \\times 10^{-5}$ (Pa·s).\n- Binary diffusivity reference: $D_{\\text{ref}} = 1.00 \\times 10^{-5}$ (m$^2$/s).\n- Surface reaction parameters: $k_{s0} = 250$ (m/s), $E_s = 85\\,000$ (J/mol).\n- Film properties: $M_f = 60.08 \\times 10^{-3}$ (kg/mol), $\\rho_f = 2200$ (kg/m$^3$), so $V_{m,f} = M_f / \\rho_f$ (m$^3$/mol).\n- Gas-phase particle formation parameters: $k_{g0} = 2.00 \\times 10^{7}$ (s$^{-1}$), $E_g = 180\\,000$ (J/mol).\n- Target and constraints: $g_{\\text{target}} = 0.350$ (nm/min), tolerance $\\varepsilon_g = 0.15$ (dimensionless), and risk threshold $\\mathcal{R}_{\\max} = 0.10$ (dimensionless).\n\nTest Suite:\nCompute the outputs for the following four cases, each defined by the pair $(T,Q)$:\n1. Case A (happy path): $T = 850$ (K), $Q = 1.60 \\times 10^{-5}$ (m$^3$/s).\n2. Case B (high temperature, low flow; particle-risk edge): $T = 1000$ (K), $Q = 8.00 \\times 10^{-6}$ (m$^3$/s).\n3. Case C (moderate temperature, high flow; transport edge): $T = 800$ (K), $Q = 4.00 \\times 10^{-5}$ (m$^3$/s).\n4. Case D (low temperature, moderate flow; rate shortfall edge): $T = 700$ (K), $Q = 2.00 \\times 10^{-5}$ (m$^3$/s).\n\nAnswer specification:\n- Express the deposition rate $g$ in nanometers per minute (nm/min), rounded to three decimal places.\n- Express the risk metric $\\mathcal{R}$ as a decimal rounded to three decimal places.\n- The feasibility must be a boolean.\n- Your program should produce a single line of output containing the results for all four cases as a comma-separated Python-style list of lists in the form\n  $$\\left[ [g_1, \\mathcal{R}_1, f_1], [g_2, \\mathcal{R}_2, f_2], [g_3, \\mathcal{R}_3, f_3], [g_4, \\mathcal{R}_4, f_4] \\right],$$\nwhere $g_i$ and $\\mathcal{R}_i$ are floats rounded to three decimals and $f_i$ are booleans.",
            "solution": "The goal is to integrate fundamental transport and kinetics to quantify film growth and particle formation risk in an Atmospheric Pressure Chemical Vapor Deposition (APCVD) reactor. We proceed from first principles and well-tested correlations.\n\nFirst, we model the gas phase using the Ideal Gas Law. At pressure $P$ and temperature $T$, the total molar concentration is $c_{\\text{tot}} = P / (R T)$, and the precursor concentration is $c_A = y_{A0} c_{\\text{tot}}$. The channel cross-sectional area is $A = W H$, so the mean velocity is $u = Q / A$. The residence time of gas in the reactor of volume $V = W H L$ is $\\tau_{\\text{res}} = V / Q$.\n\nThe flow regime is laminar due to small mean velocities typical of APCVD. Transport coefficients are computed via well-tested empirical correlations:\n- Dynamic viscosity follows a temperature power law $\\mu(T) = \\mu_{\\text{ref}} \\left(T/T_{\\text{ref}}\\right)^{0.7}$, appropriate for many gases over moderate temperature ranges.\n- Binary diffusivity scales as $D(T,P) = D_{\\text{ref}} \\left(T/T_{\\text{ref}}\\right)^{1.75} \\left(P_{\\text{ref}}/P\\right)$, reflecting kinetic-theory-like behavior: increased temperature enhances diffusivity, while increased pressure suppresses it.\n- The density is $\\rho(T) = P M_{\\text{mix}} / (R T)$.\n\nFor convective mass transfer to a wafer along a flat plate, we use the classical laminar boundary-layer Sherwood number correlation $Sh_L = 0.664 \\, Re_L^{1/2} \\, Sc^{1/3}$, where the Reynolds number and Schmidt number are\n$$Re_L = \\frac{\\rho u L}{\\mu}, \\qquad Sc = \\frac{\\mu}{\\rho D}.$$\nThe mass transfer coefficient is then $k_m = Sh_L \\, D / L$.\n\nReaction at the surface consumes the precursor with Arrhenius kinetics $k_s(T) = k_{s0} \\exp\\!\\left(-E_s / (R T)\\right)$. The coupled transport-reaction problem at the surface reduces to an effective conductance $k_{\\text{eff}} = \\frac{k_m k_s}{k_m + k_s}$, derived by equating the diffusive flux $k_m (c_A - c_{A,s})$ to the reactive flux $k_s c_{A,s}$, which yields $c_{A,s} = c_A \\, \\frac{k_m}{k_m + k_s}$ and thus $J = k_m (c_A - c_{A,s}) = \\frac{k_m k_s}{k_m + k_s} c_A$. This is a standard series-resistance model combining transport and surface reaction.\n\nThe molar flux $J$ translates to a film thickness growth rate via the film molar volume $V_{m,f} = M_f / \\rho_f$:\n$$g = J \\, V_{m,f}.$$\nTo compare to process targets, we convert $g$ from meters per second to nanometers per minute via the factor $60 \\times 10^9$, since $1$ meter equals $10^9$ nanometers.\n\nParticle formation in the gas phase is modeled as a first-order homogeneous reaction with Arrhenius rate $k_g(T) = k_{g0} \\exp\\!\\left(-E_g / (R T)\\right)$. The hazard accumulated over the residence time is $H = k_g \\, \\tau_{\\text{res}}$. A physically meaningful risk metric is the complement of the survival probability for a Poisson process, $\\mathcal{R} = 1 - \\exp(-H)$, lying in $[0,1]$.\n\nFeasibility requires meeting both performance and contamination constraints:\n$$\\left|\\frac{g - g_{\\text{target}}}{g_{\\text{target}}}\\right| \\le \\varepsilon_g, \\qquad \\mathcal{R} \\le \\mathcal{R}_{\\max}.$$\n\nAlgorithmic steps per test case $(T,Q)$:\n1. Compute $c_{\\text{tot}} = P / (R T)$ and $c_A = y_{A0} c_{\\text{tot}}$.\n2. Compute $\\mu(T) = \\mu_{\\text{ref}} \\left(T/T_{\\text{ref}}\\right)^{0.7}$ and $D(T,P) = D_{\\text{ref}} \\left(T/T_{\\text{ref}}\\right)^{1.75} \\left(P_{\\text{ref}}/P\\right)$.\n3. Compute $\\rho(T) = P M_{\\text{mix}} / (R T)$ and $u = Q / (W H)$.\n4. Compute $Re_L = \\rho u L / \\mu$ and $Sc = \\mu / (\\rho D)$.\n5. Compute $Sh_L = 0.664 \\, Re_L^{1/2} \\, Sc^{1/3}$ and $k_m = Sh_L D / L$.\n6. Compute $k_s = k_{s0} \\exp(-E_s / (R T))$ and $k_{\\text{eff}} = \\frac{k_m k_s}{k_m + k_s}$.\n7. Compute $J = k_{\\text{eff}} c_A$, $V_{m,f} = M_f / \\rho_f$, and thickness rate in nanometers per minute $g_{\\text{nm/min}} = J \\, V_{m,f} \\times 60 \\times 10^9$.\n8. Compute $\\tau_{\\text{res}} = (W H L) / Q$, $k_g = k_{g0} \\exp(-E_g / (R T))$, and $\\mathcal{R} = 1 - \\exp(-k_g \\tau_{\\text{res}})$.\n9. Evaluate feasibility using $g_{\\text{target}}$, $\\varepsilon_g$, and $\\mathcal{R}_{\\max}$.\n10. Round $g_{\\text{nm/min}}$ and $\\mathcal{R}$ to three decimal places and return $[g_{\\text{nm/min}}, \\mathcal{R}, \\text{feasible}]$.\n\nThe provided test suite spans:\n- A happy path with moderate $T$ and $Q$ yielding near-target rates and low risk.\n- A high-temperature, low-flow case stressing particle risk via increased $k_g$ and large $\\tau_{\\text{res}}$.\n- A high-flow case emphasizing transport enhancement and risk reduction via shorter residence time.\n- A low-temperature case illustrating rate shortfall under reaction-limited conditions.\n\nThe final program aggregates all four case results into a single line in the required list-of-lists format.",
            "answer": "```python\n# Atmospheric Pressure CVD reactor modeling: temperature-flow trade-off evaluation\n# Python 3.12, numpy 1.23.5, scipy 1.11.4 (not used)\nimport numpy as np\n\ndef compute_case(T, Q, params):\n    # Unpack parameters\n    L = params[\"L\"]\n    W = params[\"W\"]\n    H = params[\"H\"]\n    P = params[\"P\"]\n    R = params[\"R\"]\n    M_mix = params[\"M_mix\"]\n    yA0 = params[\"yA0\"]\n    T_ref = params[\"T_ref\"]\n    P_ref = params[\"P_ref\"]\n    mu_ref = params[\"mu_ref\"]\n    D_ref = params[\"D_ref\"]\n    ks0 = params[\"ks0\"]\n    Es = params[\"Es\"]\n    Mf = params[\"Mf\"]\n    rho_f = params[\"rho_f\"]\n    kg0 = params[\"kg0\"]\n    Eg = params[\"Eg\"]\n    g_target = params[\"g_target\"]\n    eps_g = params[\"eps_g\"]\n    R_max = params[\"R_max\"]\n\n    # Geometry and gas properties\n    A = W * H  # cross-sectional area\n    V = W * H * L  # reactor volume\n\n    # Ideal gas concentrations\n    c_tot = P / (R * T)\n    c_A = yA0 * c_tot\n\n    # Transport properties\n    mu = mu_ref * (T / T_ref) ** 0.7\n    D = D_ref * (T / T_ref) ** 1.75 * (P_ref / P)\n    rho = P * M_mix / (R * T)\n\n    # Flow and dimensionless groups\n    u = Q / A\n    Re_L = rho * u * L / mu\n    Sc = mu / (rho * D)\n\n    # Sherwood number and mass transfer coefficient\n    Sh_L = 0.664 * (Re_L ** 0.5) * (Sc ** (1.0 / 3.0))\n    k_m = Sh_L * D / L\n\n    # Surface reaction kinetics and effective conductance\n    k_s = ks0 * np.exp(-Es / (R * T))\n    # Avoid division by zero if both are zero (not expected with physical params)\n    if (k_m + k_s) > 0:\n        k_eff = (k_m * k_s) / (k_m + k_s)\n    else:\n        k_eff = 0.0\n\n    # Molar flux and film growth rate (m/s)\n    J = k_eff * c_A\n    V_m_f = Mf / rho_f\n    g_m_per_s = J * V_m_f\n\n    # Convert to nm/min\n    g_nm_per_min = g_m_per_s * 60.0 * 1e9\n\n    # Gas-phase particle formation risk\n    tau_res = V / Q\n    k_g = kg0 * np.exp(-Eg / (R * T))\n    hazard = k_g * tau_res\n    risk = 1.0 - np.exp(-hazard)\n\n    # Feasibility: rate within tolerance and risk below threshold\n    feasible_rate = abs(g_nm_per_min - g_target) / g_target = eps_g\n    feasible_risk = risk = R_max\n    feasible = bool(feasible_rate and feasible_risk)\n\n    # Round outputs\n    g_out = round(float(g_nm_per_min), 3)\n    r_out = round(float(risk), 3)\n    return [g_out, r_out, feasible]\n\ndef solve():\n    # Parameters\n    params = {\n        \"L\": 0.50,           # m\n        \"W\": 0.10,           # m\n        \"H\": 0.05,           # m\n        \"P\": 101325.0,       # Pa\n        \"R\": 8.314,          # J/mol/K\n        \"M_mix\": 0.029,      # kg/mol\n        \"yA0\": 0.05,         # mol fraction\n        \"T_ref\": 300.0,      # K\n        \"P_ref\": 101325.0,   # Pa\n        \"mu_ref\": 1.85e-5,   # Pa*s\n        \"D_ref\": 1.00e-5,    # m^2/s\n        \"ks0\": 250.0,        # m/s\n        \"Es\": 85_000.0,      # J/mol\n        \"Mf\": 60.08e-3,      # kg/mol\n        \"rho_f\": 2200.0,     # kg/m^3\n        \"kg0\": 2.00e7,       # s^-1\n        \"Eg\": 180_000.0,     # J/mol\n        \"g_target\": 0.350,   # nm/min\n        \"eps_g\": 0.15,       # tolerance (fraction)\n        \"R_max\": 0.10        # risk threshold\n    }\n\n    # Test cases: (T in K, Q in m^3/s)\n    test_cases = [\n        (850.0, 1.60e-5),   # Case A\n        (1000.0, 8.00e-6),  # Case B\n        (800.0, 4.00e-5),   # Case C\n        (700.0, 2.00e-5),   # Case D\n    ]\n\n    results = []\n    for T, Q in test_cases:\n        results.append(compute_case(T, Q, params))\n\n    print(f\"{results}\")\n\nif __name__ == \"__main__\":\n    solve()\n```"
        }
    ]
}