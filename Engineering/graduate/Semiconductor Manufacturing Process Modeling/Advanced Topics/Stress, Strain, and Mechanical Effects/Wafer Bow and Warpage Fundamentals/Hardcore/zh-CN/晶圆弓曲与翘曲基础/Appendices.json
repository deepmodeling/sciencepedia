{
    "hands_on_practices": [
        {
            "introduction": "斯通尼方程是理解薄膜应力与晶圆弯曲之间关系的核心工具。本练习至关重要，因为它将带你从第一性原理出发，展示该方程是如何从经典板理论推导出来的，并将其应用于一个直接的计算。通过这个实践，你将不仅学会如何使用该公式，更会理解其背后的物理基础，为更复杂的分析建立坚实的直觉。",
            "id": "4178577",
            "problem": "一个厚度为 $t_s$ 的圆形各向同性硅基底，其上表面沉积了一层厚度为 $t_f$、薄得多的各向同性薄膜。该薄膜具有均匀的等双轴残余应力 $\\sigma_f$（拉伸应力为正）。假设为小挠度、线性弹性，并且 $t_f \\ll t_s$，因此弯曲中性轴实际保持在基底中面上，且薄膜对弯曲刚度的贡献可以忽略不计。基底的杨氏模量为 $E_s$，泊松比为 $\\nu_s$。在这些条件下，晶圆呈现出等双轴曲率 $\\kappa$。\n\n从各向同性板的经典板弯曲理论以及薄膜-基底系统的面内力/力矩平衡出发，根据所述假设，推导晶圆曲率 $\\kappa$ 与薄膜应力 $\\sigma_f$ 之间的关系，并用 $E_s$、$\\nu_s$、$t_s$ 和 $t_f$ 表示。然后对以下数值进行计算：\n- $E_s = 130\\ \\text{GPa}$，\n- $\\nu_s = 0.28$，\n- $t_s = 775\\ \\mu\\text{m}$，\n- $\\sigma_f = 300\\ \\text{MPa}$，\n- $t_f = 1\\ \\mu\\text{m}$。\n\n采用符号约定，正曲率 $\\kappa>0$ 对应于晶圆弯曲，使得薄膜一侧为凹面（即，晶圆中面弯曲时，基底上表面受压）。报告曲率 $\\kappa$ 和相应的曲率半径 $R = 1/\\kappa$。将答案四舍五入至四位有效数字。曲率单位为 $\\text{m}^{-1}$，半径单位为 $\\text{m}$。最后，根据此约定，简要评论拉伸应力与压缩应力 $\\sigma_f$ 分别导致的 $\\kappa$ 的符号。",
            "solution": "在尝试解答之前，对问题进行验证。\n\n### 步骤 1：提取已知条件\n-   基底材料：圆形、各向同性硅\n-   基底厚度：$t_s$\n-   薄膜材料：各向同性\n-   薄膜厚度：$t_f$\n-   薄膜应力：均匀等双轴残余应力 $\\sigma_f$（拉伸时为正）\n-   假设：\n    1.  小挠度\n    2.  线性弹性\n    3.  $t_f \\ll t_s$\n    4.  弯曲中性轴位于基底中面上。\n    5.  薄膜对弯曲刚度的贡献可以忽略不计。\n-   基底杨氏模量：$E_s$\n-   基底泊松比：$\\nu_s$\n-   产生的晶圆曲率：等双轴 $\\kappa$\n-   任务1：推导 $\\kappa$ 和 $\\sigma_f$ 之间的关系，用 $E_s$、$\\nu_s$、$t_s$ 和 $t_f$ 表示。\n-   任务2：对以下数值进行计算：\n    -   $E_s = 130\\ \\text{GPa}$\n    -   $\\nu_s = 0.28$\n    -   $t_s = 775\\ \\mu\\text{m}$\n    -   $\\sigma_f = 300\\ \\text{MPa}$\n    -   $t_f = 1\\ \\mu\\text{m}$\n-   任务3：报告曲率 $\\kappa$（单位 $\\text{m}^{-1}$）和曲率半径 $R = 1/\\kappa$（单位 $\\text{m}$），四舍五入至四位有效数字。\n-   任务4：评论拉伸与压缩 $\\sigma_f$ 所对应的 $\\kappa$ 的符号。\n-   符号约定：$\\kappa > 0$ 表示薄膜一侧为凹面弯曲。\n\n### 步骤 2：使用提取的已知条件进行验证\n该问题具有科学依据、提法恰当且客观。\n-   **科学依据**：该问题涉及 Stoney 方程的推导，这是薄膜力学中的一个基本概念，基于经典板理论和力/力矩平衡。这些原理是固体力学和材料科学的基础。所有概念都已得到充分确立。\n-   **提法恰当性**：该问题提供了一套清晰的假设（$t_f \\ll t_s$、薄膜刚度可忽略、中性轴位于基底中面），将系统简化为一个确定的系统。推导和数值计算所需的所有变量和常数均已提供。要求具体，并能得出唯一解。\n-   **客观性**：问题以精确的技术语言陈述，没有歧义或主观看法。曲率的符号约定已明确定义。\n-   **缺陷检查表**：该问题不违反任何无效标准。它在科学上是合理的、可形式化的、完整的、现实的、结构良好的、非平凡的且可验证的。\n\n### 步骤 3：结论与行动\n该问题有效。将提供完整解答。\n\n***\n\n该问题要求在特定的简化假设下，推导薄膜应力与晶圆曲率之间的关系，即著名的 Stoney 方程。\n\n**推导**\n\n1.  **由薄膜应力产生的弯矩**：厚度为 $t_f$、带有均匀双轴应力 $\\sigma_f$ 的薄膜沉积在厚度为 $t_s$ 的基底上。薄膜中的应力产生一个作用在界面上的单位长度力 $F'$。该力由下式给出：\n    $$F' = \\sigma_f t_f$$\n    根据 $t_f \\ll t_s$ 的假设，薄膜-基底复合结构的弯曲中性轴被假定在基底的中面上。薄膜力 $F'$ 作用于基底的上表面，该表面距离中性轴大约 $t_s/2$。该力产生一个单位长度弯矩 $M'$，由下式给出：\n    $$M' = F' \\left(\\frac{t_s}{2}\\right) = \\frac{\\sigma_f t_f t_s}{2}$$\n    该弯矩是等双轴的，意味着它在晶圆平面内的任意两个正交方向上作用均等。\n\n2.  **板理论的弯矩-曲率关系**：根据各向同性材料的经典板理论，所施加的单位长度弯矩（$M_x$, $M_y$）与曲率（$\\kappa_x$, $\\kappa_y$）之间的关系为：\n    $$M_x = D (\\kappa_x + \\nu_s \\kappa_y)$$\n    $$M_y = D (\\kappa_y + \\nu_s \\kappa_x)$$\n    其中 $D$ 是板的抗弯刚度。对于厚度为 $t_s$、杨氏模量为 $E_s$、泊松比为 $\\nu_s$ 的板，其抗弯刚度为：\n    $$D = \\frac{E_s t_s^3}{12(1-\\nu_s^2)}$$\n    问题指出曲率是等双轴的，因此 $\\kappa_x = \\kappa_y = \\kappa$。因此，弯矩也必须是等双轴的，即 $M_x = M_y = M'$。将此代入板弯曲方程：\n    $$M' = D (\\kappa + \\nu_s \\kappa) = D \\kappa (1+\\nu_s)$$\n    现在，代入 $D$ 的表达式：\n    $$M' = \\frac{E_s t_s^3}{12(1-\\nu_s^2)} \\kappa (1+\\nu_s) = \\frac{E_s t_s^3}{12(1-\\nu_s)(1+\\nu_s)} \\kappa (1+\\nu_s)$$\n    $$M' = \\frac{E_s t_s^3}{12(1-\\nu_s)} \\kappa$$\n    这个方程将基底中的内部弯矩与其曲率联系起来。注意，量 $\\frac{E_s}{1-\\nu_s}$ 通常被称为基底的双轴模量，记作 $M_s$。\n\n3.  **力矩平衡**：由薄膜应力产生的外部弯矩必须由弯曲基底的内部恢复力矩来平衡。因此，我们令 $M'$ 的两个表达式相等：\n    $$\\frac{\\sigma_f t_f t_s}{2} = \\frac{E_s t_s^3}{12(1-\\nu_s)} \\kappa$$\n    求解曲率 $\\kappa$：\n    $$\\kappa = \\frac{\\sigma_f t_f t_s}{2} \\cdot \\frac{12(1-\\nu_s)}{E_s t_s^3}$$\n    $$\\kappa = \\frac{6 \\sigma_f t_f (1-\\nu_s)}{E_s t_s^2}$$\n    这就是著名的 Stoney 方程，它将晶圆曲率与薄膜应力以及薄膜和基底的性质联系起来。\n\n**数值计算**\n\n给定值必须转换为国际单位制基本单位（米，帕斯卡）。\n-   $E_s = 130\\ \\text{GPa} = 130 \\times 10^9\\ \\text{Pa}$\n-   $\\nu_s = 0.28$\n-   $t_s = 775\\ \\mu\\text{m} = 775 \\times 10^{-6}\\ \\text{m}$\n-   $\\sigma_f = 300\\ \\text{MPa} = 300 \\times 10^6\\ \\text{Pa}$\n-   $t_f = 1\\ \\mu\\text{m} = 1 \\times 10^{-6}\\ \\text{m}$\n\n将这些值代入推导出的 $\\kappa$ 公式中：\n$$\\kappa = \\frac{6 (300 \\times 10^6) (1 \\times 10^{-6}) (1 - 0.28)}{(130 \\times 10^9) (775 \\times 10^{-6})^2}$$\n$$\\kappa = \\frac{6 \\times 300 \\times 10^6 \\times 10^{-6} \\times 0.72}{130 \\times 10^9 \\times (775^2 \\times 10^{-12})}$$\n$$\\kappa = \\frac{1800 \\times 0.72}{130 \\times 10^9 \\times 600625 \\times 10^{-12}} = \\frac{1296}{130 \\times 600625 \\times 10^{-3}}$$\n$$\\kappa = \\frac{1296}{78081.25} \\approx 0.0165979\\ \\text{m}^{-1}$$\n四舍五入到四位有效数字，曲率为：\n$$\\kappa \\approx 0.01660\\ \\text{m}^{-1}$$\n\n曲率半径 $R$ 是曲率 $\\kappa$ 的倒数：\n$$R = \\frac{1}{\\kappa} = \\frac{1}{0.0165979\\ \\text{m}^{-1}} \\approx 60.2485\\ \\text{m}$$\n四舍五入到四位有效数字，曲率半径为：\n$$R \\approx 60.25\\ \\text{m}$$\n\n**关于 $\\kappa$ 符号的评论**\n\n推导出的关系是 $\\kappa = \\frac{6(1-\\nu_s)}{E_s} \\frac{\\sigma_f t_f}{t_s^2}$。在此表达式中，材料属性（$E_s$, $\\nu_s$）和几何尺寸（$t_s$, $t_f$）都是正量。具体来说，对于大多数工程材料，$0  \\nu_s  0.5$，因此 $(1-\\nu_s)$ 是正的。所以，曲率 $\\kappa$ 的符号直接由薄膜应力 $\\sigma_f$ 的符号决定。\n\n-   **拉伸薄膜应力 ($\\sigma_f > 0$)**：如果薄膜应力是拉伸的，那么 $\\kappa > 0$。根据问题的符号约定，这对应于晶圆弯曲，使得薄膜一侧为凹面。这在物理上是直观的：拉伸的薄膜试图收缩，从而将基底的边缘向上拉。\n-   **压缩薄膜应力 ($\\sigma_f  0$)**：如果薄膜应力是压缩的，那么 $\\kappa  0$。这对应于晶圆弯曲，使得薄膜一侧为凸面（即晶圆中心向上凸起）。这也是直观的：压缩的薄膜试图扩张，将基底推成穹顶形状。",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 0.01660  60.25 \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "在我们掌握了如何将应力与曲率关联起来之后，一个关键问题随之而来：应力从何而来？本练习将探讨半导体制造中应力的一个主要来源——热失配。你将亲手计算由于材料热膨胀系数（CTE）不同而产生的热应力，并进一步预测它所引起的晶圆曲率。这项实践将抽象的应力概念与真实世界的物理现象紧密联系起来。",
            "id": "4178619",
            "problem": "一层薄铜膜沉积在一片厚得多的硅片上。制造完成后，该组件相对于其无应力参考状态，经历了一个均匀的温度变化。以下材料和几何属性是已知的，并且在半导体制造中具有科学代表性：\n\n- 薄膜（铜）：杨氏模量 $E_{f} = 110\\ \\text{GPa}$，泊松比 $\\nu_{f} = 0.34$，厚度 $t_{f} = 1.0\\ \\mu\\text{m}$。\n- 基底（硅）：杨氏模量 $E_{s} = 130\\ \\text{GPa}$，泊松比 $\\nu_{s} = 0.28$，厚度 $t_{s} = 775\\ \\mu\\text{m}$。\n- 热膨胀系数失配 $\\Delta \\alpha = \\alpha_{f} - \\alpha_{s} = 16 \\times 10^{-6}\\ \\text{K}^{-1}$。\n- 组件相对于无应力参考状态的温升 $\\Delta T = 200\\ \\text{K}$。\n\n假设完美结合、线性各向同性弹性、薄膜内等双轴面内应力，并且薄膜厚度远小于基底厚度，因此Stoney极限适用。使用以下符号约定：拉伸面内应力为正；如果晶圆中心向远离薄膜侧（即薄膜侧为凸面）的方向偏转，则曲率 $k$ 定义为正。从平面应力下各向同性线性弹性的本构关系和薄各向同性板在等双轴弯曲下的经典力矩-曲率关系出发，推导由受约束的热失配引起的薄膜内等双轴热应力的表达式，然后推导由此应力引起的晶圆曲率。计算其数值。\n\n- 以 $\\text{MPa}$ 为单位表示热应力，并四舍五入到四位有效数字。\n- 以 $\\text{m}^{-1}$ 为单位表示曲率，并四舍五入到三位有效数字。\n\n按照上述四舍五入和单位说明，按顺序 $\\sigma_{f}$（薄膜应力），$k$（曲率）报告你的最终答案，以两个数字的形式。",
            "solution": "问题陈述已经过验证，被认为是科学合理的、适定的、客观的和自洽的。它提出了一个薄膜力学中的典型问题，即计算热应力和晶圆曲率，这对于半导体制造过程建模至关重要。所有提供的数据和参数都是物理上真实且一致的。因此，该问题被认为是有效的，可以构建一个完整的解决方案。\n\n解决方案将分两部分推导。首先，将推导并计算铜膜中的等双轴热应力（$\\sigma_{f}$）。其次，将使用Stoney方程确定由此产生的硅片曲率（$k$），并特别注意指定的符号约定。\n\n**第一部分：薄膜应力（$\\sigma_{f}$）**\n\n假设薄膜处于等双轴平面应力状态，意味着面内应力分量相等，$\\sigma_{xx} = \\sigma_{yy} = \\sigma_{f}$，而面外应力为零，$\\sigma_{zz} = 0$。对于线性各向同性弹性材料，面内机械应变（$\\epsilon_{\\text{mech}}$）通过本构方程与应力相关：\n$$ \\epsilon_{xx, \\text{mech}} = \\frac{1}{E_{f}}[\\sigma_{xx} - \\nu_{f}(\\sigma_{yy} + \\sigma_{zz})] $$\n$$ \\epsilon_{yy, \\text{mech}} = \\frac{1}{E_{f}}[\\sigma_{yy} - \\nu_{f}(\\sigma_{xx} + \\sigma_{zz})] $$\n代入 $\\sigma_{xx} = \\sigma_{yy} = \\sigma_{f}$ 和 $\\sigma_{zz} = 0$，我们发现机械应变也是等双轴的：\n$$ \\epsilon_{\\text{mech}} = \\epsilon_{xx, \\text{mech}} = \\epsilon_{yy, \\text{mech}} = \\frac{1}{E_{f}}(\\sigma_f - \\nu_f \\sigma_f) = \\frac{1-\\nu_f}{E_f} \\sigma_f $$\n这个关系可以反转，以机械应变的函数形式表示应力：\n$$ \\sigma_f = \\frac{E_f}{1-\\nu_f} \\epsilon_{\\text{mech}} = M_f \\epsilon_{\\text{mech}} $$\n其中 $M_f = \\frac{E_f}{1-\\nu_f}$ 是薄膜的双轴模量。\n\n薄膜中的总应变 $\\epsilon_{\\text{total}}$ 是此机械应变与自由热应变 $\\epsilon_{\\text{th},f} = \\alpha_f \\Delta T$ 之和。\n$$ \\epsilon_{\\text{total}} = \\epsilon_{\\text{mech}} + \\epsilon_{\\text{th},f} = \\epsilon_{\\text{mech}} + \\alpha_f \\Delta T $$\n问题假设薄膜和基底之间是完美结合的，并且基底比薄膜厚得多（$t_s \\gg t_f$）。这就是“Stoney极限”，即厚基底作为一个刚性约束，决定了复合结构的总应变。因此，薄膜中的总应变被迫等于基底的自由热应变，$\\epsilon_{\\text{th},s} = \\alpha_s \\Delta T$。\n$$ \\epsilon_{\\text{total}} = \\epsilon_{\\text{th},s} = \\alpha_s \\Delta T $$\n将总应变的两个表达式相等，可以求解薄膜中的机械应变：\n$$ \\alpha_s \\Delta T = \\epsilon_{\\text{mech}} + \\alpha_f \\Delta T $$\n$$ \\epsilon_{\\text{mech}} = (\\alpha_s - \\alpha_f) \\Delta T = -(\\alpha_f - \\alpha_s) \\Delta T = -\\Delta \\alpha \\Delta T $$\n最后，我们将这个机械应变的表达式代入应力-应变关系，得到薄膜中等双轴热应力的公式：\n$$ \\sigma_f = M_f \\epsilon_{\\text{mech}} = \\frac{E_f}{1-\\nu_f} (-\\Delta \\alpha \\Delta T) $$\n现在，我们使用给定的参数计算应力的数值：\n- $E_{f} = 110\\ \\text{GPa} = 110 \\times 10^9\\ \\text{Pa}$\n- $\\nu_{f} = 0.34$\n- $\\Delta \\alpha = 16 \\times 10^{-6}\\ \\text{K}^{-1}$\n- $\\Delta T = 200\\ \\text{K}$\n\n$$ \\sigma_f = \\frac{110 \\times 10^9\\ \\text{Pa}}{1 - 0.34} \\times (-(16 \\times 10^{-6}\\ \\text{K}^{-1}) \\times 200\\ \\text{K}) $$\n$$ \\sigma_f = \\frac{110 \\times 10^9}{0.66} \\times (-3200 \\times 10^{-6})\\ \\text{Pa} $$\n$$ \\sigma_f = (1.66\\overline{6} \\times 10^{11}) \\times (-3.2 \\times 10^{-3})\\ \\text{Pa} $$\n$$ \\sigma_f = -5.33\\overline{3} \\times 10^8\\ \\text{Pa} = -533.\\overline{3}\\ \\text{MPa} $$\n负号表示应力是压应力。这是预料之中的，因为薄膜具有更高的热膨胀系数（$\\alpha_f > \\alpha_s$），并且温度升高（$\\Delta T > 0$），所以基底约束了薄膜的膨胀。四舍五入到四位有效数字，薄膜应力为 $\\sigma_f = -533.3\\ \\text{MPa}$。\n\n**第二部分：晶圆曲率（$k$）**\n\n薄膜中的应力在基底中引起弯矩，使其弯曲。对于厚基底上的薄膜，这种关系由Stoney方程描述。薄膜中每单位宽度的力是 $F' = \\sigma_f t_f$。这个力产生一个每单位宽度的弯矩 $M'$，它与弯曲基底的恢复力矩相平衡。经典的Stoney方程将曲率与薄膜应力联系起来：\n$$ k = \\frac{6 \\sigma_f t_f (1-\\nu_s)}{E_s t_s^2} $$\n精确掌握符号约定至关重要。问题陈述指出“如果晶圆中心向远离薄膜侧（即薄膜侧为凸面）的方向偏转，则曲率 $k$ 定义为正”。\n薄膜中的压应力（$\\sigma_f  0$）将使其相对于基底膨胀，迫使结构弯曲，使得薄膜位于外侧的凸面。根据问题的定义，这对应于正曲率（$k > 0$）。\n相反，拉应力（$\\sigma_f > 0$）将导致薄膜收缩，使晶圆弯曲，薄膜位于内侧的凹面，对应于负曲率（$k  0$）。\n因此，曲率 $k$ 和薄膜应力 $\\sigma_f$ 必须有相反的符号。上面写出的标准公式意味着它们有相同的符号。为了与问题明确的符号约定保持一致，我们必须引入一个负号：\n$$ k = - \\frac{6 \\sigma_f t_f (1-\\nu_s)}{E_s t_s^2} $$\n现在，我们使用 $\\sigma_f$ 的结果和给定的基底属性来计算曲率的数值：\n- $\\sigma_f = -5.33\\overline{3} \\times 10^8\\ \\text{Pa}$\n- $t_{f} = 1.0\\ \\mu\\text{m} = 1.0 \\times 10^{-6}\\ \\text{m}$\n- $E_{s} = 130\\ \\text{GPa} = 130 \\times 10^9\\ \\text{Pa}$\n- $\\nu_{s} = 0.28$\n- $t_{s} = 775\\ \\mu\\text{m} = 775 \\times 10^{-6}\\ \\text{m}$\n\n$$ k = - \\frac{6 \\times (-5.33\\overline{3} \\times 10^8\\ \\text{Pa}) \\times (1.0 \\times 10^{-6}\\ \\text{m}) \\times (1 - 0.28)}{(130 \\times 10^9\\ \\text{Pa}) \\times (775 \\times 10^{-6}\\ \\text{m})^2} $$\n$$ k = \\frac{6 \\times (5.33\\overline{3} \\times 10^8) \\times (1.0 \\times 10^{-6}) \\times 0.72}{130 \\times 10^9 \\times (775^2 \\times 10^{-12})}\\ \\text{m}^{-1} $$\n$$ k = \\frac{2304}{130 \\times 10^9 \\times 600625 \\times 10^{-12}}\\ \\text{m}^{-1} $$\n$$ k = \\frac{2304}{78081.25}\\ \\text{m}^{-1} \\approx 0.029505\\ \\text{m}^{-1} $$\n正如预期的那样，压应力导致正曲率。四舍五入到三位有效数字，曲率为 $k = 0.0295\\ \\text{m}^{-1}$。\n\n最终答案是薄膜应力 $\\sigma_f = -533.3\\ \\text{MPa}$ 和晶圆曲率 $k = 0.0295\\ \\text{m}^{-1}$。",
            "answer": "$$ \\boxed{ \\begin{pmatrix} -533.3  0.0295 \\end{pmatrix} } $$"
        },
        {
            "introduction": "对于研究生水平的学习者而言，理解模型的适用范围与局限性是至关重要的一步。虽然斯通尼方程非常强大，但它本质上是一个近似。本练习将挑战你建立一个更精确的双层板模型，并用它来量化斯通尼方程在特定情况（如厚膜）下的预测误差。这项进阶实践旨在培养你对模型保真度的批判性思维，并理解其在工艺建模中的实际意义。",
            "id": "4178608",
            "problem": "一块厚度为 $t_s$ 的圆形单晶硅片，其一个表面沉积了厚度为 $t_f$ 的氮化硅 (SiN$_x$) 薄膜，该薄膜中带有均匀、均等的双轴残余应力 $\\sigma_f$。在小挠度、平面应力及线性弹性的假设下，该系统会弯曲成一个近似球面的形状，其曲率 $k$ 取决于薄膜的本征应变与衬底响应之间的失配。被称为 Stoney 近似的经典薄膜极限通过忽略薄膜的抗弯刚度，为曲率提供了一个解析预测。然而，在实际的半导体制造环境中，有限的薄膜刚度可能会导致与此近似的差异。在本问题中，您将从第一性原理出发推导一个模型，以比较基于 Stoney 的预测与沿厚度方向对双层结构进行数值有限元分析 (FEA) 式离散化的结果，然后量化由有限薄膜刚度引起的差异。\n\n使用基础材料力学作为基础：平面应力本构关系 $\\sigma = M \\,\\varepsilon$，其中双轴模量 $M = E/(1-\\nu)$；应变协调 $\\varepsilon(z) = \\varepsilon_0 + k z$ (Kirchhoff–Love 板运动学)；以及在零外力和零力矩下的能量最小化。将薄膜的残余应力视为源于一个仅限于薄膜内的均匀本征应变 $\\varepsilon^{*}$，因此如果薄膜是自由的，它将承受应力 $\\sigma_f = M_f \\,\\varepsilon^{*}$，其中 $M_f$ 是薄膜的双轴模量。衬底的双轴模量为 $M_s$，且无本征应变。\n\n您必须：\n- 从所述基础出发，通过在零合平面内力和零弯矩（无外部载荷）的约束下，对应变能关于自由度 $\\varepsilon_0$ 和 $k$ 进行最小化，推导出未知中面应变 $\\varepsilon_0$ 和曲率 $k$ 的线性系统。\n- 实现两种曲率预测：\n  1. 基于 Stoney 的曲率 $k_{\\text{Stoney}}$，它使用薄膜近似和衬底双轴模量。\n  2. 数值 FEA 式曲率 $k_{\\text{FEA}}$，通过将厚度离散为多个层，积分模量加权的应变和本征应变项以构建关于 $(\\varepsilon_0,k)$ 的 $2\\times 2$ 系统，并精确求解。\n- 对每种情况，通过计算小数比率 $\\delta = (k_{\\text{FEA}} - k_{\\text{Stoney}})/k_{\\text{FEA}}$ 来量化由有限薄膜刚度引起的差异。\n- 同时计算晶圆边缘半径 $a$ 处的球冠弓高 (矢高) 为 $w_{\\text{bow}} = k_{\\text{FEA}}\\,a^2/2$。\n\n曲率单位表示为 $\\text{m}^{-1}$，应力单位为 $\\text{Pa}$，模量单位为 $\\text{Pa}$，厚度和半径单位为 $\\text{m}$，弓高单位为 $\\text{m}$。以小数形式（而非百分比）返回差异 $\\delta$。\n\n您的程序必须生成单行输出，其中包含一个用方括号括起来的逗号分隔列表，列表中的每个元素对应一个测试用例，并且本身是一个包含四个浮点数的列表，顺序为 $[k_{\\text{Stoney}}, k_{\\text{FEA}}, \\delta, w_{\\text{bow}}]$。\n\n使用以下测试套件，涵盖典型、边界和边缘情况。对于氮化硅和硅，假设其各向同性有效性质如指定。\n\n对于每种情况，参数为 $(t_f, t_s, \\sigma_f, E_f, \\nu_f, E_s, \\nu_s, a)$:\n1. 200 mm 晶圆上的基准薄膜：$t_f = 1\\times 10^{-6}\\ \\text{m}$, $t_s = 5.25\\times 10^{-4}\\ \\text{m}$, $\\sigma_f = +4.00\\times 10^{8}\\ \\text{Pa}$, $E_f = 2.50\\times 10^{11}\\ \\text{Pa}$, $\\nu_f = 0.23$, $E_s = 1.30\\times 10^{11}\\ \\text{Pa}$, $\\nu_s = 0.28$, $a = 1.00\\times 10^{-1}\\ \\text{m}$。\n2. 较厚薄膜：$t_f = 5\\times 10^{-6}\\ \\text{m}$, $t_s = 5.25\\times 10^{-4}\\ \\text{m}$, $\\sigma_f = +4.00\\times 10^{8}\\ \\text{Pa}$, $E_f = 2.50\\times 10^{11}\\ \\text{Pa}$, $\\nu_f = 0.23$, $E_s = 1.30\\times 10^{11}\\ \\text{Pa}$, $\\nu_s = 0.28$, $a = 1.00\\times 10^{-1}\\ \\text{m}$。\n3. 更厚薄膜：$t_f = 5.0\\times 10^{-5}\\ \\text{m}$, $t_s = 5.25\\times 10^{-4}\\ \\text{m}$, $\\sigma_f = +4.00\\times 10^{8}\\ \\text{Pa}$, $E_f = 2.50\\times 10^{11}\\ \\text{Pa}$, $\\nu_f = 0.23$, $E_s = 1.30\\times 10^{11}\\ \\text{Pa}$, $\\nu_s = 0.28$, $a = 1.00\\times 10^{-1}\\ \\text{m}$。\n4. 极薄薄膜：$t_f = 1.0\\times 10^{-7}\\ \\text{m}$, $t_s = 5.25\\times 10^{-4}\\ \\text{m}$, $\\sigma_f = +4.00\\times 10^{8}\\ \\text{Pa}$, $E_f = 2.50\\times 10^{11}\\ \\text{Pa}$, $\\nu_f = 0.23$, $E_s = 1.30\\times 10^{11}\\ \\text{Pa}$, $\\nu_s = 0.28$, $a = 1.00\\times 10^{-1}\\ \\text{m}$。\n5. 零应力边缘情况：$t_f = 1\\times 10^{-6}\\ \\text{m}$, $t_s = 5.25\\times 10^{-4}\\ \\text{m}$, $\\sigma_f = 0.0\\ \\text{Pa}$, $E_f = 2.50\\times 10^{11}\\ \\text{Pa}$, $\\nu_f = 0.23$, $E_s = 1.30\\times 10^{11}\\ \\text{Pa}$, $\\nu_s = 0.28$, $a = 1.00\\times 10^{-1}\\ \\text{m}$。\n6. 模量均等性检查：$t_f = 1\\times 10^{-6}\\ \\text{m}$, $t_s = 5.25\\times 10^{-4}\\ \\text{m}$, $\\sigma_f = +4.00\\times 10^{8}\\ \\text{Pa}$, $E_f = 1.30\\times 10^{11}\\ \\text{Pa}$, $\\nu_f = 0.28$, $E_s = 1.30\\times 10^{11}\\ \\text{Pa}$, $\\nu_s = 0.28$, $a = 1.00\\times 10^{-1}\\ \\text{m}$。\n\n您的实现必须是通用的，并精确使用这些输入来产生所需的输出格式。",
            "solution": "该解决方案源于连续介质力学的第一性原理，用于处理内应力下的双层板问题。\n\n**1. 理论框架**\n我们将薄膜-衬底系统建模为一个复合板。建立一个坐标系，原点 $z=0$ 位于衬底的中面上。衬底占据 $z \\in [-t_s/2, t_s/2]$ 区域，薄膜占据 $z \\in [t_s/2, t_s/2 + t_f]$ 区域。\n\n根据 Kirchhoff-Love 板理论运动学，任意垂直位置 $z$ 处的总应变 $\\varepsilon(z)$ 为：\n$$ \\varepsilon(z) = \\varepsilon_0 + k z $$\n其中 $\\varepsilon_0$ 是参考平面 ($z=0$) 处的应变， $k$ 是板的均匀曲率。\n\n均等双轴应力 $\\sigma(z)$ 通过双轴模量 $M(z) = E(z)/(1-\\nu(z))$ 与弹性应变 $\\varepsilon_{el}(z)$ 相关。总应变是弹性应变与任何非机械性本征应变 $\\varepsilon^*(z)$ 之和：$\\varepsilon(z) = \\varepsilon_{el}(z) + \\varepsilon^*(z)$。因此，应力为：\n$$ \\sigma(z) = M(z) \\varepsilon_{el}(z) = M(z) [\\varepsilon(z) - \\varepsilon^*(z)] = M(z)[\\varepsilon_0 + k z - \\varepsilon^*(z)] $$\n本征应变 $\\varepsilon^*(z)$ 在衬底中为零，在薄膜中为均匀值 $\\varepsilon_f^* = \\sigma_f/M_f$，其中 $\\sigma_f$ 是给定的残余应力参数。\n\n**2. 基于能量最小化的控制方程**\n储存在双层结构中单位面积的总应变能 $U$ 为：\n$$ U = \\frac{1}{2} \\int_{-t_s/2}^{t_s/2+t_f} \\sigma(z) \\varepsilon_{el}(z) dz = \\frac{1}{2} \\int_{-t_s/2}^{t_s/2+t_f} M(z)[\\varepsilon_0 + kz - \\varepsilon^*(z)]^2 dz $$\n对于一个无外部载荷的平衡系统，应变能相对于运动学自由度 $\\varepsilon_0$ 和 $k$ 达到最小化。\n$$ \\frac{\\partial U}{\\partial \\varepsilon_0} = \\int M(z)[\\varepsilon_0 + kz - \\varepsilon^*(z)] dz = 0 $$\n$$ \\frac{\\partial U}{\\partial k} = \\int z M(z)[\\varepsilon_0 + kz - \\varepsilon^*(z)] dz = 0 $$\n这两个条件分别对应于净平面内力合力 $N$ 和净弯矩合力 $M$ 必须为零的要求。\n\n**3. $k_{\\text{FEA}}$ 的通用矩阵公式**\n控制方程构成了关于未知数 $(\\varepsilon_0, k)$ 的一个 $2 \\times 2$ 线性系统。我们可以将方程重写为：\n$$\n\\begin{pmatrix}\n\\int M(z)dz  \\int zM(z)dz \\\\\n\\int zM(z)dz  \\int z^2M(z)dz\n\\end{pmatrix}\n\\begin{pmatrix} \\varepsilon_0 \\\\ k \\end{pmatrix}\n=\n\\begin{pmatrix}\n\\int M(z)\\varepsilon^*(z)dz \\\\\n\\int zM(z)\\varepsilon^*(z)dz\n\\end{pmatrix}\n$$\n其形式为 $\\mathbf{K} \\mathbf{u} = \\mathbf{F}^*$，其中 $\\mathbf{K}$ 是刚度矩阵，$\\mathbf{F}^*$ 是由本征应变引起的载荷向量。我们定义以下系数：\n-   轴向刚度: $A = \\int M(z)dz = M_s t_s + M_f t_f$\n-   耦合刚度: $B = \\int zM(z)dz = M_f t_f (t_s/2 + t_f/2)$\n-   抗弯刚度: $D = \\int z^2M(z)dz = M_s \\frac{t_s^3}{12} + M_f \\left( \\frac{t_f^3}{12} + t_f \\left( \\frac{t_s}{2} + \\frac{t_f}{2} \\right)^2 \\right)$ (使用平行轴定理计算薄膜的贡献)。\n-   本征力: $N^* = \\int M(z)\\varepsilon^*(z)dz = M_f \\varepsilon_f^* t_f = \\sigma_f t_f$\n-   本征力矩: $M^* = \\int zM(z)\\varepsilon^*(z)dz = M_f \\varepsilon_f^* t_f (t_s/2 + t_f/2) = \\sigma_f t_f (t_s/2 + t_f/2)$\n\n该系统为：\n$$\n\\begin{pmatrix} A  B \\\\ B  D \\end{pmatrix}\n\\begin{pmatrix} \\varepsilon_0 \\\\ k \\end{pmatrix}\n=\n\\begin{pmatrix} N^* \\\\ M^* \\end{pmatrix}\n$$\n使用克莱姆法则求解曲率 $k$ (即 $k_{\\text{FEA}}$) 得到：\n$$ k_{\\text{FEA}} = \\frac{A M^* - B N^*}{A D - B^2} $$\n此表达式是基于双层板理论的曲率精确解，并将用于 $k_{\\text{FEA}}$ 的计算。这种“FEA 式”方法对应于从第一性原理系统地构建控制矩阵系统。\n\n**4. $k_{\\text{Stoney}}$ 的 Stoney 近似**\nStoney 公式是通用解在薄膜近似下的一个极限，其中 $t_f \\ll t_s$ 且薄膜的刚度与衬底相比可以忽略不计 ($M_f t_f \\ll M_s t_s$)。一个简化的推导考虑了力矩平衡。薄膜中单位宽度的力近似为 $\\sigma_f t_f$。该力作用于距离衬底中面约 $t_s/2$ 的力臂上，产生一个力矩 $M_{load} = (\\sigma_f t_f)(t_s/2)$。该力矩由衬底的弹性响应平衡，$M_{resist} = k D_s$，其中 $D_s = M_s t_s^3/12$ 是仅衬底的板刚度。令力矩相等，可得：\n$$ k_{\\text{Stoney}} D_s = M_{load} \\implies k_{\\text{Stoney}} \\left( M_s \\frac{t_s^3}{12} \\right) = \\sigma_f t_f \\frac{t_s}{2} $$\n求解 $k_{\\text{Stoney}}$ 得到经典的 Stoney 公式：\n$$ k_{\\text{Stoney}} = \\frac{6 \\sigma_f t_f}{M_s t_s^2} $$\n\n**5. 差异与弓高计算**\n两个模型之间的差异 $\\delta$ 按规定计算为相对差：\n$$ \\delta = \\frac{k_{\\text{FEA}} - k_{\\text{Stoney}}}{k_{\\text{FEA}}} $$\n如果 $k_{\\text{FEA}} = 0$ (例如，如果 $\\sigma_f = 0$)，物理上差异为零，因此我们定义 $\\delta=0$。\n\n对于小挠度情况，半径为 $a$ 的球形弯曲圆形板的最大挠度（弓高或矢高）$w_{\\text{bow}}$ 由下式给出：\n$$ w_{\\text{bow}} = \\frac{k_{\\text{FEA}} a^2}{2} $$\n至此，所有需要公式的推导完成。",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the wafer bow problem for a suite of test cases.\n    \"\"\"\n\n    # Test cases parameters:\n    # (t_f, t_s, sigma_f, E_f, nu_f, E_s, nu_s, a)\n    # in (m, m, Pa, Pa, -, Pa, -, m)\n    test_cases = [\n        (1.0e-6, 5.25e-4, 4.00e8, 2.50e11, 0.23, 1.30e11, 0.28, 1.00e-1),\n        (5.0e-6, 5.25e-4, 4.00e8, 2.50e11, 0.23, 1.30e11, 0.28, 1.00e-1),\n        (5.0e-5, 5.25e-4, 4.00e8, 2.50e11, 0.23, 1.30e11, 0.28, 1.00e-1),\n        (1.0e-7, 5.25e-4, 4.00e8, 2.50e11, 0.23, 1.30e11, 0.28, 1.00e-1),\n        (1.0e-6, 5.25e-4, 0.0, 2.50e11, 0.23, 1.30e11, 0.28, 1.00e-1),\n        (1.0e-6, 5.25e-4, 4.00e8, 1.30e11, 0.28, 1.30e11, 0.28, 1.00e-1)\n    ]\n\n    results = []\n    for params in test_cases:\n        results.append(calculate_bow_metrics(params))\n\n    # Format the final output string as specified: [[r1,r2,...], [s1,s2,...]]\n    # str() on a list correctly formats it as \"[item1, item2, ...]\"\n    # Joining these strings with a comma creates the desired list of lists format.\n    print(f\"[{','.join(map(str, results))}]\")\n\ndef calculate_bow_metrics(params):\n    \"\"\"\n    Calculates curvature, discrepancy, and bow for a single film-substrate system.\n    \n    Args:\n        params (tuple): A tuple containing the system parameters:\n                        (t_f, t_s, sigma_f, E_f, nu_f, E_s, nu_s, a).\n\n    Returns:\n        list: A list of four floats: [k_stoney, k_fea, delta, w_bow].\n    \"\"\"\n    tf, ts, sigma_f, Ef, nuf, Es, nus, a = params\n\n    # Trivial case: zero residual stress results in zero curvature and bow.\n    if sigma_f == 0.0:\n        return [0.0, 0.0, 0.0, 0.0]\n\n    # Calculate biaxial moduli M = E / (1 - nu)\n    Mf = Ef / (1.0 - nuf)\n    Ms = Es / (1.0 - nus)\n\n    # 1. Stoney-based curvature (k_stoney)\n    # k_stoney = 6 * sigma_f * t_f / (M_s * t_s^2)\n    k_stoney = (6.0 * sigma_f * tf) / (Ms * ts**2)\n\n    # 2. FEA-style curvature from exact bilayer plate theory (k_fea)\n    # This involves solving the 2x2 system derived from first principles.\n    # [ A B ] [epsilon_0] = [N*]\n    # [ B D ] [    k    ]   [M*]\n\n    # Assemble stiffness matrix components (integrals over thickness)\n    # A = integral(M(z) dz)\n    A = Ms * ts + Mf * tf\n    \n    # B = integral(z*M(z) dz), with z=0 at substrate midplane\n    B = Mf * tf * (ts / 2.0 + tf / 2.0)\n    \n    # D = integral(z^2*M(z) dz), using parallel axis theorem for convenience\n    D_s = Ms * ts**3 / 12.0\n    d_film_centroid = ts / 2.0 + tf / 2.0\n    D_f = Mf * tf**3 / 12.0 + Mf * tf * d_film_centroid**2\n    D = D_s + D_f\n\n    # Assemble load vector components from eigenstrain\n    # N* = integral(M(z)*eps*(z) dz) = sigma_f * t_f\n    N_star = sigma_f * tf\n    # M* = integral(z*M(z)*eps*(z) dz)\n    M_star = sigma_f * tf * (ts / 2.0 + tf / 2.0)\n\n    # Solve for curvature k_fea = (A*M* - B*N*) / (A*D - B^2)\n    determinant = A * D - B**2\n    if np.isclose(determinant, 0):\n        k_fea = 0.0 # Occurs only in physically degenerate cases\n    else:\n        k_fea = (A * M_star - B * N_star) / determinant\n\n    # 3. Discrepancy (delta)\n    # delta = (k_fea - k_stoney) / k_fea\n    if np.isclose(k_fea, 0):\n        delta = 0.0 # Physically, no curvature means no discrepancy\n    else:\n        # Note: The problem asks for (k_fea - k_stoney) / k_fea.\n        # It is known Stoney's formula often overpredicts curvature for non-ideal\n        # thin films, which would make k_stoney  k_fea, and thus delta negative.\n        # This implementation strictly follows the provided formula.\n        delta = (k_fea - k_stoney) / k_fea\n\n    # 4. Bow at wafer edge (w_bow)\n    # w_bow = k_fea * a^2 / 2\n    w_bow = k_fea * a**2 / 2.0\n\n    return [k_stoney, k_fea, delta, w_bow]\n\nif __name__ == \"__main__\":\n    solve()\n```"
        }
    ]
}