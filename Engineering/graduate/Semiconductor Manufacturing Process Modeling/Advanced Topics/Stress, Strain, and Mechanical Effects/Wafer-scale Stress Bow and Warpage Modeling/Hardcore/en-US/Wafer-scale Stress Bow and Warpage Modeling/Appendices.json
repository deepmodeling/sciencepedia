{
    "hands_on_practices": [
        {
            "introduction": "The starting point for modeling wafer warpage is a precise mathematical description of its deformed shape. In practice, metrology tools provide a map of the wafer's out-of-plane displacement, $w(x,y)$. This exercise provides hands-on practice in translating this geometric data into physically meaningful metrics like principal curvatures and bow, which are essential for diagnosing stress states and qualifying manufacturing processes. By working through the relationship between a polynomial surface and these metrics , you will solidify your understanding of the fundamental language used to quantify wafer shape.",
            "id": "4179267",
            "problem": "A circular silicon wafer of radius $R$ exhibits out-of-plane deflection modeled by the quadratic polynomial surface $w(x,y)=a x^{2}+b y^{2}+c x y$, where $x$ and $y$ are in meters and $w$ is in meters. Assume small slopes consistent with Kirchhoff–Love (KL) plate theory so that the curvature tensor equals the Hessian of $w(x,y)$. In this small-slope regime, define the two principal curvatures as the eigenvalues of the curvature tensor. Over the circular domain of radius $R$, define the signed bow metric $B$ as the difference between the center displacement and the mean displacement along the wafer perimeter, i.e., $B = w(0,0) - \\overline{w}|_{r=R}$, where the perimeter average is taken as an angular average over $\\theta \\in [0,2\\pi]$ with $\\theta$ in radians. Derive the principal curvatures from first principles under the KL assumptions and then derive $B$ explicitly in terms of $a$, $b$, $c$, and $R$. Report only the final closed-form analytical expression for $B$. Express the bow metric in meters. No numerical values are provided; give your answer symbolically. The final answer must be a single closed-form expression.",
            "solution": "The problem statement is evaluated to be self-contained, scientifically grounded in the principles of continuum mechanics and plate theory, and mathematically well-posed. All provided information is consistent and sufficient to derive a unique solution. The problem is therefore deemed valid.\n\nThe out-of-plane deflection of the wafer is given by the quadratic surface:\n$$\nw(x,y) = a x^{2} + b y^{2} + c x y\n$$\nwhere $a$, $b$, and $c$ are constant coefficients with units of length$^{-1}$.\n\nFirst, as requested, we derive the principal curvatures from first principles under the Kirchhoff-Love (KL) plate theory assumption for small slopes. In this regime, the curvature tensor $\\boldsymbol{\\kappa}$ is approximated by the Hessian matrix of the deflection function $w(x,y)$.\nThe components of the Hessian matrix are the second partial derivatives of $w(x,y)$:\n$$\n\\kappa_{xx} = \\frac{\\partial^2 w}{\\partial x^2} = \\frac{\\partial}{\\partial x}(2ax + cy) = 2a\n$$\n$$\n\\kappa_{yy} = \\frac{\\partial^2 w}{\\partial y^2} = \\frac{\\partial}{\\partial y}(2by + cx) = 2b\n$$\n$$\n\\kappa_{xy} = \\kappa_{yx} = \\frac{\\partial^2 w}{\\partial x \\partial y} = \\frac{\\partial}{\\partial x}(2by + cx) = c\n$$\nThe curvature tensor is thus a constant matrix over the entire wafer surface:\n$$\n\\boldsymbol{\\kappa} = \\begin{pmatrix} 2a & c \\\\ c & 2b \\end{pmatrix}\n$$\nThe principal curvatures, denoted as $\\kappa_1$ and $\\kappa_2$, are the eigenvalues of this matrix. The eigenvalues $\\lambda$ are found by solving the characteristic equation $\\det(\\boldsymbol{\\kappa} - \\lambda \\mathbf{I}) = 0$, where $\\mathbf{I}$ is the identity matrix.\n$$\n\\det \\begin{pmatrix} 2a - \\lambda & c \\\\ c & 2b - \\lambda \\end{pmatrix} = 0\n$$\n$$\n(2a - \\lambda)(2b - \\lambda) - c^2 = 0\n$$\n$$\n\\lambda^2 - 2(a+b)\\lambda + 4ab - c^2 = 0\n$$\nUsing the quadratic formula to solve for $\\lambda$:\n$$\n\\lambda = \\frac{-(-2(a+b)) \\pm \\sqrt{(-2(a+b))^2 - 4(1)(4ab - c^2)}}{2(1)}\n$$\n$$\n\\lambda = (a+b) \\pm \\frac{\\sqrt{4(a+b)^2 - 16ab + 4c^2}}{2}\n$$\n$$\n\\lambda = (a+b) \\pm \\sqrt{(a^2 + 2ab + b^2) - 4ab + c^2}\n$$\n$$\n\\lambda = (a+b) \\pm \\sqrt{a^2 - 2ab + b^2 + c^2}\n$$\n$$\n\\lambda = (a+b) \\pm \\sqrt{(a-b)^2 + c^2}\n$$\nThus, the two principal curvatures are $\\kappa_1, \\kappa_2 = (a+b) \\pm \\sqrt{(a-b)^2 + c^2}$.\n\nNext, we derive the bow metric $B$. The definition provided is:\n$$\nB = w(0,0) - \\overline{w}|_{r=R}\n$$\nThe first term is the displacement at the center of the wafer. Substituting $(x,y) = (0,0)$ into the deflection equation:\n$$\nw(0,0) = a(0)^2 + b(0)^2 + c(0)(0) = 0\n$$\nThe second term, $\\overline{w}|_{r=R}$, is the mean displacement along the wafer perimeter, which is a circle of radius $R$. This is defined as an angular average over $\\theta \\in [0, 2\\pi]$. To compute this, we first express the deflection $w$ in polar coordinates, where $x = r\\cos\\theta$ and $y = r\\sin\\theta$. Along the perimeter, $r=R$:\n$$\nw(R\\cos\\theta, R\\sin\\theta) = a(R\\cos\\theta)^2 + b(R\\sin\\theta)^2 + c(R\\cos\\theta)(R\\sin\\theta)\n$$\n$$\nw(R\\cos\\theta, R\\sin\\theta) = aR^2\\cos^2\\theta + bR^2\\sin^2\\theta + cR^2\\cos\\theta\\sin\\theta\n$$\nThe average value is found by integrating this expression over the angle $\\theta$ from $0$ to $2\\pi$ and dividing by the interval length, $2\\pi$:\n$$\n\\overline{w}|_{r=R} = \\frac{1}{2\\pi} \\int_{0}^{2\\pi} w(R\\cos\\theta, R\\sin\\theta) \\, d\\theta\n$$\n$$\n\\overline{w}|_{r=R} = \\frac{1}{2\\pi} \\int_{0}^{2\\pi} (aR^2\\cos^2\\theta + bR^2\\sin^2\\theta + cR^2\\cos\\theta\\sin\\theta) \\, d\\theta\n$$\nWe can factor out the constant $R^2$:\n$$\n\\overline{w}|_{r=R} = \\frac{R^2}{2\\pi} \\int_{0}^{2\\pi} (a\\cos^2\\theta + b\\sin^2\\theta + c\\cos\\theta\\sin\\theta) \\, d\\theta\n$$\nWe evaluate the integral of each trigonometric term over the interval $[0, 2\\pi]$:\n\\begin{enumerate}\n    \\item $\\int_{0}^{2\\pi} \\cos^2\\theta \\, d\\theta = \\int_{0}^{2\\pi} \\frac{1+\\cos(2\\theta)}{2} \\, d\\theta = \\left[ \\frac{\\theta}{2} + \\frac{\\sin(2\\theta)}{4} \\right]_{0}^{2\\pi} = \\frac{2\\pi}{2} - 0 = \\pi$\n    \\item $\\int_{0}^{2\\pi} \\sin^2\\theta \\, d\\theta = \\int_{0}^{2\\pi} \\frac{1-\\cos(2\\theta)}{2} \\, d\\theta = \\left[ \\frac{\\theta}{2} - \\frac{\\sin(2\\theta)}{4} \\right]_{0}^{2\\pi} = \\frac{2\\pi}{2} - 0 = \\pi$\n    \\item $\\int_{0}^{2\\pi} \\cos\\theta\\sin\\theta \\, d\\theta = \\int_{0}^{2\\pi} \\frac{\\sin(2\\theta)}{2} \\, d\\theta = \\left[ -\\frac{\\cos(2\\theta)}{4} \\right]_{0}^{2\\pi} = -\\frac{1}{4}(\\cos(4\\pi) - \\cos(0)) = -\\frac{1}{4}(1-1) = 0$\n\\end{enumerate}\nSubstituting these results back into the expression for the average displacement:\n$$\n\\overline{w}|_{r=R} = \\frac{R^2}{2\\pi} [a(\\pi) + b(\\pi) + c(0)] = \\frac{R^2}{2\\pi} (a+b)\\pi = \\frac{(a+b)R^2}{2}\n$$\nFinally, we substitute the expressions for $w(0,0)$ and $\\overline{w}|_{r=R}$ into the definition of the bow metric $B$:\n$$\nB = 0 - \\frac{(a+b)R^2}{2}\n$$\n$$\nB = -\\frac{(a+b)R^2}{2}\n$$\nThe units are consistent: $a$ and $b$ have units of $m^{-1}$ and $R$ has units of $m$, so $B$ has units of $m^{-1} \\cdot m^2 = m$, as required for a displacement.",
            "answer": "$$\n\\boxed{-\\frac{(a+b)R^{2}}{2}}\n$$"
        },
        {
            "introduction": "Once curvature is quantified, the next step is to relate it to the underlying cause: thin-film stress. The celebrated Stoney's equation provides this link, but in any real manufacturing environment, measurements are imperfect. This practice problem  bridges the gap between the idealized model and engineering reality by asking you to analyze how measurement noise in wafer bow propagates to uncertainty in the inferred film stress. Mastering this type of error analysis is critical for setting realistic process control limits and interpreting metrology data correctly.",
            "id": "4179204",
            "problem": "A thin, uniformly stressed film of thickness $t_{f}$ is deposited on a circular, isotropic silicon substrate (wafer) of radius $a$, thickness $t_{s}$, elastic modulus $E_{s}$, and Poisson’s ratio $\\nu_{s}$. The average biaxial film stress $\\,\\sigma_{f}\\,$ is inferred from the substrate’s mean curvature $\\,\\kappa\\,$ using the classic Stoney relation for thin films on thick substrates. The wafer metrology measures the out-of-plane “bow” $\\,b\\,$ defined as the center deflection relative to the plane of the wafer edge. Assume the deflection is a shallow spherical cap so that the curvature and bow are related by the small-slope geometry for a circular plate. The metrology noise on the bow measurement is modeled as zero-mean Gaussian with standard deviation $\\,\\eta\\,$ and is the only source of uncertainty; all material and geometric parameters are known exactly.\n\nUsing first-order linear error propagation from bow to inferred film stress, determine the standard deviation of the inferred average film stress. Use the following parameter values: $a = 150\\,\\text{mm}$, $t_{s} = 725\\,\\mu\\text{m}$, $t_{f} = 100\\,\\text{nm}$, $E_{s} = 130\\,\\text{GPa}$, $\\nu_{s} = 0.27$, and $\\eta = 0.10\\,\\mu\\text{m}$. Express the final standard deviation in megapascal (MPa) and round your answer to four significant figures.\n\nYour answer must be a single real number.",
            "solution": "The objective is to determine the standard deviation of the inferred film stress, $\\delta\\sigma_f$, based on the standard deviation of the bow measurement, $\\eta = \\delta b$. Using first-order linear error propagation, this relationship is:\n$$ \\delta\\sigma_{f} = \\left| \\frac{d\\sigma_{f}}{db} \\right| \\delta b $$\nTo find the derivative $\\frac{d\\sigma_{f}}{db}$, we must first establish the functional relationship between the film stress $\\sigma_f$ and the bow $b$.\n\n1.  **Stoney's Equation**: The average film stress $\\sigma_f$ is related to the substrate curvature $\\kappa$ by Stoney's equation:\n    $$ \\sigma_{f} = \\frac{M_s t_s^2}{6 t_f} \\kappa $$\n    where $M_s = \\frac{E_s}{1-\\nu_s}$ is the biaxial modulus of the substrate. Substituting this gives:\n    $$ \\sigma_{f} = \\frac{E_{s} t_{s}^2}{6(1 - \\nu_{s})t_{f}} \\kappa $$\n\n2.  **Geometric Relation**: For a shallow spherical cap, the curvature $\\kappa$ is related to the bow $b$ and wafer radius $a$ by:\n    $$ \\kappa \\approx \\frac{2b}{a^2} $$\n\n3.  **Combined Relationship**: Substituting the geometric relation into Stoney's equation gives the direct dependence of stress on bow:\n    $$ \\sigma_{f} = \\frac{E_{s} t_{s}^2}{6(1 - \\nu_{s})t_{f}} \\left( \\frac{2b}{a^2} \\right) = \\left( \\frac{E_{s} t_{s}^2}{3(1 - \\nu_{s})t_{f} a^2} \\right) b $$\n\nNow we can calculate the derivative:\n$$ \\frac{d\\sigma_{f}}{db} = \\frac{E_{s} t_{s}^2}{3(1 - \\nu_{s})t_{f} a^2} $$\n\nThe standard deviation of the stress is therefore:\n$$ \\delta\\sigma_{f} = \\left( \\frac{E_{s} t_{s}^2}{3(1 - \\nu_{s})t_{f} a^2} \\right) \\eta $$\n\nNext, we substitute the given numerical values, ensuring consistent units (SI base units: meters, Pascals).\n*   $a = 150\\,\\text{mm} = 0.15\\,\\text{m}$\n*   $t_{s} = 725\\,\\mu\\text{m} = 725 \\times 10^{-6}\\,\\text{m}$\n*   $t_{f} = 100\\,\\text{nm} = 1 \\times 10^{-7}\\,\\text{m}$\n*   $E_{s} = 130\\,\\text{GPa} = 130 \\times 10^9\\,\\text{Pa}$\n*   $\\nu_{s} = 0.27$\n*   $\\eta = 0.10\\,\\mu\\text{m} = 1 \\times 10^{-7}\\,\\text{m}$\n\nPlugging these into the equation:\n$$ \\delta\\sigma_{f} = \\frac{(130 \\times 10^9\\,\\text{Pa}) (725 \\times 10^{-6}\\,\\text{m})^2}{3(1 - 0.27)(1 \\times 10^{-7}\\,\\text{m}) (0.15\\,\\text{m})^2} (1 \\times 10^{-7}\\,\\text{m}) $$\nThe terms for $t_f$ and $\\eta$ cancel, simplifying the expression:\n$$ \\delta\\sigma_{f} = \\frac{(130 \\times 10^9\\,\\text{Pa}) (725 \\times 10^{-6}\\,\\text{m})^2}{3(0.73) (0.15\\,\\text{m})^2} $$\n$$ \\delta\\sigma_{f} = \\frac{(130 \\times 10^9) (5.25625 \\times 10^{-7})}{3(0.73) (0.0225)} \\,\\text{Pa} $$\n$$ \\delta\\sigma_{f} = \\frac{68331.25}{0.049275} \\,\\text{Pa} \\approx 1,386,733\\,\\text{Pa} $$\n\nThe problem asks for the answer in megapascal (MPa).\n$$ \\delta\\sigma_{f} \\approx 1.386733\\,\\text{MPa} $$\nRounding to four significant figures gives:\n$$ \\delta\\sigma_{f} \\approx 1.387\\,\\text{MPa} $$",
            "answer": "$$\\boxed{1.387}$$"
        },
        {
            "introduction": "While simple models often assume a uniform stress, many advanced films exhibit stress that varies with depth, $\\sigma(z)$. Determining this stress profile requires a more sophisticated approach than a single measurement. This exercise  challenges you to think like an experimentalist and devise a valid protocol for measuring $\\sigma(z)$ using *in situ* curvature monitoring. By evaluating different potential methodologies, you will develop a critical understanding of how to design experiments that isolate the variable of interest while controlling for confounding factors like thermal stress and instrumental drift.",
            "id": "4179229",
            "problem": "An equi-biaxially flat, single-side polished, monocrystalline silicon wafer of thickness $t_s$ is used as a substrate for the deposition of an amorphous thin film whose residual biaxial stress is a function of depth, denoted $\\sigma(z)$, where $z$ is the distance measured from the film/substrate interface into the film. The wafer thickness satisfies $t_s \\gg h$, where $h$ is the cumulative film thickness at any intermediate time during growth, and the wafer is monitored using an optical curvature tool that reports the equi-biaxial curvature $\\kappa(h)$ after each growth increment. The deposition is performed in small, nominally identical steps that build up thickness from $h=0$ to a final $h=h_f$. Assume small deflections, linear elasticity, and that the film’s own bending stiffness is negligible compared to the substrate’s bending stiffness. Consider that temperature-dependent effects and viscoelastic relaxation may occur unless the protocol is chosen carefully.\n\nFrom first principles of thin plate bending and in-plane force and moment balance, there is a unique relationship between the wafer curvature and the resultant in-plane force per unit width generated by the deposited film. You are asked to identify a scientifically sound experimental protocol that yields $\\kappa(h)$ suitable for inferring $\\sigma(z)$ with minimal confounding effects, and to justify a mathematically consistent inversion procedure that recovers $\\sigma(z)$ from the measured $\\kappa(h)$ while addressing experimental noise and model assumptions.\n\nWhich of the following experimental protocol and inversion method combinations is the most appropriate to infer $\\sigma(z)$ from stepwise deposition curvature data, under the stated assumptions?\n\nA. Perform stepwise deposition in an instrument that allows in situ curvature measurement at a fixed deposition temperature $T_0$. After each small thickness increment $\\Delta h$, wait a fixed short dwell time sufficient for the intrinsic stress of the just-deposited increment to stabilize at $T_0$ without cooling the wafer. Record $\\kappa(h)$ after each step up to $h=h_f$. Infer $\\sigma(z)$ by differentiating a smooth, regularized fit to $\\kappa(h)$ with respect to $h$, and scale by the substrate biaxial stiffness to obtain $\\sigma(z)$ at $z=h$. Use smoothing (for example, Tikhonov regularization or cubic splines with cross-validated smoothing) to mitigate noise amplification by differentiation. Validate by a blank run with no deposition to remove instrumental drift. State and check applicability conditions $h \\ll t_s$, small $\\kappa$, and negligible alteration of pre-existing stress by subsequent steps.\n\nB. Deposit the entire film in a single step to $h=h_f$ at $T_0$, then cool to room temperature $T_R$ and measure $\\kappa(h_f)$ ex situ. To infer $\\sigma(z)$, assume that the stress is uniform through thickness so that $\\sigma(z)$ equals a constant given by the measured curvature and the film biaxial modulus at $T_R$. Justify this by noting that nonuniform stress cannot be resolved without destructive sectioning, so the best estimate is a uniform value.\n\nC. Perform stepwise deposition, but after each increment $\\Delta h$ remove the wafer from the chamber, cool to $T_R$, and measure $\\kappa(h)$ ex situ. Fit $\\kappa(h)$ by a high-order polynomial and compute the second derivative with respect to $h$ to estimate $\\sigma(z)$, arguing that the curvature must be proportional to the first moment of the stress profile so that the second derivative isolates the local stress. Use the film’s biaxial modulus to scale the result and ignore thermal mismatch because it is common to all steps.\n\nD. To avoid curvature measurement noise, fabricate nominally identical films on both sides of identical wafers in $N$ equal steps, alternating sides to approximately cancel curvature at each step. After the final step, etch away the film on one side and measure the resulting curvature change to back-calculate the average $\\sigma$ over the entire thickness. Attribute the depth profile $\\sigma(z)$ by distributing this average uniformly over $z$, since cancellation during growth guarantees that stress nonuniformity is negligible.",
            "solution": "To determine the correct methodology, we must first derive the relationship between the measured curvature $\\kappa(h)$ and the depth-dependent stress $\\sigma(z)$. This analysis is based on Stoney's equation applied differentially during film growth.\n\n**1. Governing Equation**\nThe total in-plane force per unit width, $F(h)$, in a film of thickness $h$ with a stress profile $\\sigma(z)$ is the integral of the stress:\n$$ F(h) = \\int_0^h \\sigma(z) \\, dz $$\nStoney's equation relates this force to the measured substrate curvature $\\kappa(h)$:\n$$ F(h) = M_s \\frac{t_s^2}{6} \\kappa(h) $$\nwhere $M_s = E_s / (1-\\nu_s)$ is the substrate's biaxial modulus. Combining these gives an integral equation for the stress profile:\n$$ \\int_0^h \\sigma(z) \\, dz = \\frac{M_s t_s^2}{6} \\kappa(h) $$\nTo find the local stress $\\sigma(h)$ at the currently growing surface, we differentiate both sides with respect to thickness $h$. Using the Fundamental Theorem of Calculus on the left side, we get:\n$$ \\sigma(h) = \\frac{M_s t_s^2}{6} \\frac{d\\kappa(h)}{dh} $$\nThis fundamental result shows that the stress of the layer being deposited at thickness $h$ is directly proportional to the rate of change of curvature with respect to thickness.\n\n**2. Experimental Requirements and Analysis of Options**\nThe derived equation dictates the experimental and analytical requirements:\n*   **Measurement**: Curvature $\\kappa$ must be measured at multiple points during growth to approximate the derivative $d\\kappa/dh$.\n*   **Temperature**: To isolate the intrinsic (growth) stress, measurements must be isothermal to prevent confounding thermal stresses.\n*   **Analysis**: Differentiation amplifies noise, so a robust data processing method (e.g., smoothing, regularization) is required.\n\nWith these principles, we can evaluate the options:\n\n**A. In situ, isothermal stepwise measurement with regularized differentiation.** This protocol correctly implements all the necessary requirements. The *in situ* measurement at constant temperature $T_0$ isolates intrinsic stress. The stepwise deposition provides the $\\kappa(h)$ data. The use of a smooth, regularized fit before differentiation is the correct way to handle noisy experimental data. Performing a blank run to correct for instrumental drift is a key part of good experimental practice. This option is scientifically sound and complete.\n\n**B. Single ex situ measurement after full deposition and cooling.** This method yields only one data point for the average stress (intrinsic + thermal) and cannot resolve the depth profile $\\sigma(z)$. It fails to meet the problem's objective.\n\n**C. Ex situ stepwise measurement with thermal cycling.** This protocol is fundamentally flawed. Each cooling/heating cycle introduces a large, complex thermal stress component that convolutes with the intrinsic stress, making the data impossible to interpret simply. The proposed analysis (using the *second* derivative and scaling by the *film's* modulus) is also mathematically incorrect.\n\n**D. Double-sided deposition and final etch-back.** This method is designed to cancel curvature during growth, thereby destroying the very information needed to find the stress profile. It can only determine the average stress of the entire film.\n\n**Conclusion:** Option A is the only one that describes a scientifically valid protocol and a mathematically correct inversion procedure for determining the depth-dependent stress profile $\\sigma(z)$.",
            "answer": "$$\\boxed{A}$$"
        }
    ]
}