{
    "hands_on_practices": [
        {
            "introduction": "理论知识为我们理解相移掩模（PSM）为何能提升分辨率提供了定性基础，但真正的工程洞见来自于定量分析。本实践将指导您从第一性原理出发，构建一个基于标量傅里叶光学和部分相干成像理论的光刻仿真模型。通过亲手实现这个模型，您将能够直接量化并比较在相同光学条件下，边缘型相移掩模相对于传统二进制掩模在图像对比度上的显著提升，从而深刻理解相移技术的核心优势 。",
            "id": "4150342",
            "problem": "您需要实现一个基于物理和数学的光学光刻中一维光场图像模型，以量化与传统二元掩模相比，在透明孔径旁引入一个 $180^\\circ$ 相位边缘（一种轮圈式相移掩模 (PSM) 特征）所带来的图像对比度改善。建模背景为半导体制造过程建模，特别是相移掩模和光罩增强技术 (RET)，其推导必须从标量傅里叶光学和部分相干成像开始。\n\n给定一个由数值孔径 (NA) 表征的投影系统和一个由部分相干因子 $\\sigma$ 表征的常规光源，为两种掩模配置建模其光场图像：\n- 具有半无限透明区域的二元掩模：当 $x>0$ 时，$m_{\\mathrm{BIN}}(x)=1$；当 $x\\le 0$ 时，$m_{\\mathrm{BIN}}(x)=0$。\n- 具有 $180^\\circ$ 相移透射轮圈且邻近不透明侧的轮圈式相移掩模 (PSM)：当 $x>0$ 时，$m_{\\mathrm{PSM}}(x)=1$；当 $-w<x\\le 0$ 时，$m_{\\mathrm{PSM}}(x)=-1$（表示单位振幅的 $\\pi$ 相移）；当 $x\\le -w$ 时，$m_{\\mathrm{PSM}}(x)=0$。其中轮圈宽度 $w$ 固定为 $w=\\alpha \\,\\lambda/\\mathrm{NA}$，且 $\\alpha=0.25$。\n\n使用用于部分相干照明的标量阿贝成像公式：光场图像强度 $I(x)$ 是由半径为 $k_s=\\sigma\\,k_c$ 的均匀圆形光源上的点状光源元产生的相干图像的非相干平均，其中 $k_c=\\mathrm{NA}/\\lambda$ 是相干截止空间频率。在一维中，通过在光瞳轴上采样光源位移 $s\\in[-k_s,k_s]$ 来对光源建模。对于每个光源点 $s$，相干传递函数为 $H_s(k)=P(k-s)$，其中光瞳 $P(k)=1$（对于 $|k|\\le k_c$）否则 $P(k)=0$，电场为 $E_s(x)=\\mathcal{F}^{-1}\\{ H_s(k)\\,M(k)\\}$，其中 $M(k)=\\mathcal{F}\\{m(x)\\}$ 是掩模透射率的傅里叶变换。部分相干光场图像为 $I(x)=\\langle |E_s(x)|^2\\rangle_s$，其中 $\\langle\\cdot\\rangle_s$ 表示对光源样本的平均。\n\n将边缘周围对称评估窗口中的局部对比度定义为迈克尔逊对比度\n$$\nC=\\frac{I_{\\max}-I_{\\min}}{I_{\\max}+I_{\\min}},\n$$\n其中 $I_{\\max}$ 和 $I_{\\min}$ 是 $I(x)$ 在 $x\\in[-x_w,x_w]$ 上的最大值和最小值，其中 $x_w=0.5\\,\\lambda/\\mathrm{NA}$。分别计算二元掩模和 PSM 掩模的 $C_{\\mathrm{BIN}}$ 和 $C_{\\mathrm{PSM}}$，并报告改善因子\n$$\nF=\\frac{C_{\\mathrm{PSM}}}{C_{\\mathrm{BIN}}}.\n$$\n\n需使用的基本建模假设：\n- 标量傅里叶光学，具有小角度傍轴近似和理想圆形光瞳：相干传递函数的支撑域受 $k_c=\\mathrm{NA}/\\lambda$ 限制。\n- 部分相干照明的阿贝成像：强度是从均匀分布在半径为 $k_s=\\sigma\\,k_c$ 的光源盘上的点光源元产生的相干图像的非相干平均。\n- 针对沿不变维度取向的边缘的一维掩模和成像。\n- 波长固定为 $\\lambda=193\\,\\mathrm{nm}$，空间坐标 $x$ 内部必须以 $\\mu\\mathrm{m}$ 单位建模和报告。\n- 评估窗口宽度为 $x_w=0.5\\,\\lambda/\\mathrm{NA}$，以 $\\mu\\mathrm{m}$ 为单位测量。\n- 轮圈式相移掩模的宽度为 $w=\\alpha\\,\\lambda/\\mathrm{NA}$，其中固定 $\\alpha=0.25$，并且 $180^\\circ$ 相移在轮圈区域中被建模为负单位振幅。\n\n数值实现要求：\n- 离散化一个长度为 $L=4.0\\,\\mu\\mathrm{m}$ 的一维空间域，使用 $N_x=4096$ 个均匀样本。\n- 在 $-k_s$ 和 $k_s$ 之间（含端点）使用 $N_s=51$ 个均匀间隔的光源样本；当 $\\sigma=0$ 时，将其视为 $N_s=1$ 且 $s=0$。\n- 使用离散傅里叶变换进行 $\\mathcal{F}$ 和 $\\mathcal{F}^{-1}$，并通过离散傅里叶频率定义频率网格 $k$（单位：周期/$\\mu\\mathrm{m}$）。\n\n您的程序必须为每个测试用例计算 $F$，并生成最终输出，形式为单行，包含在方括号中的逗号分隔列表，每个浮点数四舍五入到六位小数，例如 $[f_1,f_2,\\ldots,f_n]$。输出中没有物理单位，因为 $F$ 是无量纲的；所有中间空间量必须在内部以 $\\mu\\mathrm{m}$ 处理。\n\n覆盖典型和边缘条件的测试套件：\n- 测试用例 1: $\\mathrm{NA}=0.85$, $\\sigma=0.50$。\n- 测试用例 2: $\\mathrm{NA}=0.20$, $\\sigma=0.50$。\n- 测试用例 3: $\\mathrm{NA}=0.93$, $\\sigma=0.30$。\n- 测试用例 4: $\\mathrm{NA}=0.85$, $\\sigma=0.00$。\n- 测试用例 5: $\\mathrm{NA}=0.85$, $\\sigma=1.00$。\n\n您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表的结果（例如，$[f_1,f_2,f_3,f_4,f_5]$），每个条目是四舍五入到六位小数的改善因子 $F$。",
            "solution": "该问题已经过验证，被认为是具有科学依据、提法恰当且客观的。它提出了计算光刻中一个标准的、尽管是简化的任务：使用标量衍射理论对边缘的光场图像进行建模，并量化一种光罩增强技术 (RET)——具体来说是轮圈式相移掩模 (PSM)——相对于传统二元掩模的性能。所有必要的参数和基于 Abbe 部分相干成像理论的清晰方法都已提供。\n\n解决方案首先构建指定成像模型的数值实现。该模型计算对于给定的以为掩模透射率 $m(x)$、数值孔径 $\\mathrm{NA}$、波长 $\\lambda$ 和部分相干因子 $\\sigma$，晶圆上的光场图像强度 $I(x)$。对二元掩模 ($m_{\\mathrm{BIN}}$) 和相移掩模 ($m_{\\mathrm{PSM}}$) 都执行此过程。随后，计算每种情况下的图像对比度并确定它们的比率。\n\n理论基础是 Abbe 的部分相干成像公式。在此模型中，部分相干光源被视为一组互不相干的点光源的集合。最终的图像强度是每个光源点产生的图像强度的总和。对于一维系统，位于对应于空间频率 $s$ 的横向位置上的点光源会产生像平面电场 $E_s(x)$。总强度 $I(x)$ 是对所有光源点的平均：\n$$\nI(x) = \\left\\langle |E_s(x)|^2 \\right\\rangle_s\n$$\n光源由频域中半径为 $k_s = \\sigma k_c$ 的区域内点的均匀分布定义，其中 $k_c = \\mathrm{NA}/\\lambda$ 是投影透镜光瞳的相干截止频率。对于这个一维问题，我们在区间 $s \\in [-k_s, k_s]$ 内用 $N_s$ 个点对光源进行均匀采样。\n\n单个光源点 $s$ 的电场 $E_s(x)$ 使用傅里叶光学计算。它是掩模的傅里叶变换 $M(k) = \\mathcal{F}\\{m(x)\\}$ 与相干传递函数 $H_s(k)$ 乘积的逆傅里叶变换：\n$$\nE_s(x) = \\mathcal{F}^{-1}\\left\\{ M(k) H_s(k) \\right\\}\n$$\n相干传递函数 $H_s(k)$ 由光瞳函数 $P(k)$ 平移 $s$ 得到，即 $H_s(k) = P(k-s)$。光瞳函数代表一个理想的低通滤波器，定义为当 $|k| \\le k_c$ 时 $P(k) = 1$，否则 $P(k) = 0$。这意味着对于每个光源点 $s$，成像系统会通过掩模在 $[s - k_c, s + k_c]$ 范围内的空间频率。\n\n数值实现过程如下：\n$1$. 定义一个长度为 $L = 4.0\\,\\mu\\mathrm{m}$、包含 $N_x = 4096$ 个点的一维空间网格 $x$。固定波长为 $\\lambda = 193\\,\\mathrm{nm} = 0.193\\,\\mu\\mathrm{m}$。相应的离散空间频率网格 $k$ 是利用离散傅里叶变换 (DFT) 的性质获得的。\n\n$2$. 对每个测试用例 $(\\mathrm{NA}, \\sigma)$，计算相关的物理参数：$k_c = \\mathrm{NA}/\\lambda$，$k_s = \\sigma k_c$，PSM 轮圈宽度 $w = \\alpha\\lambda/\\mathrm{NA}$（其中 $\\alpha=0.25$），以及对比度评估窗口半宽 $x_w = 0.5\\lambda/\\mathrm{NA}$。\n\n$3$. 在离散空间网格 $x$ 上定义两个掩模的透射函数：\n- **二元掩模 ($m_{\\mathrm{BIN}}$):** 当 $x > 0$ 时，$m_{\\mathrm{BIN}}(x) = 1$；当 $x \\le 0$ 时，$m_{\\mathrm{BIN}}(x) = 0$。\n- **相移掩模 ($m_{\\mathrm{PSM}}$):** 当 $x>0$ 时，$m_{\\mathrm{PSM}}(x) = 1$；当 $-w  x \\le 0$ 时，$m_{\\mathrm{PSM}}(x)=-1$；当 $x \\le -w$ 时，$m_{\\mathrm{PSM}}(x)=0$。\n\n$4$. 对每个掩模，计算其光场图像：\n    a. 通过对 $m(x)$ 进行快速傅里叶变换 (FFT) 计算掩模频谱 $M(k)$。\n    b. 对 $[-k_s, k_s]$ 区间内 $N_s=51$ 个均匀间隔的光源点 $s$ 执行循环。对于相干情况 $\\sigma=0$，使用单个点 $s=0$。\n    c. 在每次迭代中，构造移位后的光瞳函数 $P(k-s)$。\n    d. 找到电场频谱 $E_s(k) = M(k)P(k-s)$，并通过逆 FFT 获得电场 $E_s(x)$。\n    e. 将强度 $|E_s(x)|^2$ 添加到一个运行总和中。\n    f. 循环结束后，将总和除以光源点数（相干情况下为 $N_s$ 或 1）以获得最终的光场图像 $I(x)$。\n\n$5$. 为每个光场图像计算迈克尔逊对比度 $C = (I_{\\max} - I_{\\min}) / (I_{\\max} + I_{\\min})$。$I_{\\max}$ 和 $I_{\\min}$ 是对称评估窗口 $x \\in [-x_w, x_w]$ 内的最大和最小强度值。这就得到了 $C_{\\mathrm{BIN}}$ 和 $C_{\\mathrm{PSM}}$。\n\n$6$. 最终的改善因子计算为比率 $F = C_{\\mathrm{PSM}} / C_{\\mathrm{BIN}}$。对问题描述中提供的所有测试用例重复这整个过程。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n# from scipy import ...\n\ndef calculate_improvement_factor(NA, sigma):\n    \"\"\"\n    Calculates the contrast improvement factor for a PSM over a binary mask.\n    \"\"\"\n    # Fundamental constants and numerical parameters\n    LAMBDA = 0.193  # Wavelength in um\n    L = 4.0         # Spatial domain length in um\n    NX = 4096       # Number of spatial samples\n\n    # Calculate image for binary mask\n    I_bin, x_grid = compute_aerial_image('BIN', NA, sigma, LAMBDA, L, NX)\n    C_bin = calculate_contrast(I_bin, x_grid, NA, LAMBDA)\n\n    # Calculate image for PSM mask\n    I_psm, _ = compute_aerial_image('PSM', NA, sigma, LAMBDA, L, NX)\n    C_psm = calculate_contrast(I_psm, x_grid, NA, LAMBDA)\n    \n    if C_bin == 0:\n        # Avoid division by zero, though physically unlikely for this problem.\n        return np.inf\n\n    return C_psm / C_bin\n\ndef compute_aerial_image(mask_type, NA, sigma, lambda_um, L, Nx):\n    \"\"\"\n    Computes the 1D aerial image using the Abbe model of partially coherent imaging.\n    \"\"\"\n    # Number of source samples\n    NS = 51\n\n    # Discretized spatial and frequency grids\n    dx = L / Nx\n    x = dx * (np.arange(Nx) - Nx / 2)  # Centered spatial grid\n    k = np.fft.fftfreq(Nx, d=dx)      # Frequency grid in cycles/um\n\n    # System parameters in physical units\n    kc = NA / lambda_um  # Coherent cutoff frequency\n    ks = sigma * kc      # Source radius in frequency space\n\n    # Define the mask transmission function m(x)\n    if mask_type == 'BIN':\n        mask = (x > 0).astype(float)\n    elif mask_type == 'PSM':\n        alpha = 0.25\n        w = alpha * lambda_um / NA  # Rim width\n        mask = np.zeros(Nx, dtype=float)\n        mask[x > 0] = 1.0\n        mask[(-w  x)  (x = 0)] = -1.0\n    else:\n        raise ValueError(\"Unknown mask type specified.\")\n\n    # Compute mask spectrum via FFT\n    M = np.fft.fft(mask)\n\n    # Define source samples\n    if sigma == 0:\n        s_samples = np.array([0.0])\n        num_s_samples = 1\n    else:\n        s_samples = np.linspace(-ks, ks, NS)\n        num_s_samples = NS\n    \n    # Incoherent summation over source points (Abbe's method)\n    total_intensity = np.zeros(Nx, dtype=float)\n    for s in s_samples:\n        # Coherent Transfer Function (pupil shifted by source point s)\n        # It's a low-pass filter centered at s.\n        pupil_s = (np.abs(k - s) = kc).astype(float)\n        \n        # E-field spectrum at image plane\n        E_spectrum = M * pupil_s\n        \n        # E-field at image plane via inverse FFT\n        E_field = np.fft.ifft(E_spectrum)\n        \n        # Accumulate intensity from this source point\n        total_intensity += np.abs(E_field)**2\n\n    # Average the intensities to get the final aerial image\n    aerial_image = total_intensity / num_s_samples\n    \n    return aerial_image, x\n\ndef calculate_contrast(intensity, x, NA, lambda_um):\n    \"\"\"\n    Calculates the Michelson contrast of an aerial image within a defined window.\n    \"\"\"\n    # Define the evaluation window half-width\n    xw = 0.5 * lambda_um / NA\n    \n    # Find indices within the evaluation window\n    eval_indices = np.where(np.abs(x) = xw)\n    \n    I_window = intensity[eval_indices]\n\n    # Handle case where window is empty (should not happen with given params)\n    if I_window.size == 0:\n        return 0.0\n\n    I_max = np.max(I_window)\n    I_min = np.min(I_window)\n    \n    denominator = I_max + I_min\n    if denominator  1e-9: # Check for near-zero denominator to avoid instability\n        return 0.0\n    \n    contrast = (I_max - I_min) / denominator\n    return contrast\n\ndef solve():\n    \"\"\"\n    Main function to run the test cases and print the results.\n    \"\"\"\n    # (Parameter set 1), (Parameter set 2), ...\n    test_cases = [\n        (0.85, 0.50),\n        (0.20, 0.50),\n        (0.93, 0.30),\n        (0.85, 0.00),\n        (0.85, 1.00),\n    ]\n\n    results = []\n    for NA, sigma in test_cases:\n        improvement_factor = calculate_improvement_factor(NA, sigma)\n        results.append(round(improvement_factor, 6))\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        },
        {
            "introduction": "尽管交替相移掩模等先进技术能极大地增强关键特征的成像质量，但在复杂的版图区域，如T型结或线端附近，相位分配会变得异常困难甚至不可行。本练习旨在解决这一现实挑战，引导您探索光学邻近校正（OPC）作为一种替代增强方案。通过一个基于高斯点扩展函数（PSF）和阈值模型的简化但富有洞察力的框架，您将推导出用于补偿线端缩短和拐角钝化的“锤头”与“衬线”特征的解析尺寸，从而掌握如何通过预先修正掩模图形来确保最终晶圆图形的保真度 。",
            "id": "4150393",
            "problem": "一台先进的ArF扫描仪（波长 $\\lambda = 193 \\,\\mathrm{nm}$）用于印刷具有开放线端和包含$\\mathrm{T}$形结的接触孔阵列的密集线条。交替相移掩模（Alternating Phase-Shift Masks, PSM）通过在相邻清晰区域之间引入$\\pi$相移来提高分辨率，但在接触孔和$\\mathrm{T}$形结附近的相位分配可能不可行，这会导致相位冲突，从而降低成像质量并引起线端缩短和拐角变圆。在这些邻域中，一个基于傅里叶光学的工艺模型将投影系统视为一个线性移不变滤波器：空中影像是掩模透射率与点扩展函数（Point Spread Function, PSF）的卷积，而光刻胶则充当阈值检测器。在一个孤立直边的附近，假设归一化的空中光强分布可以很好地近似为一个单位阶跃函数与标准差为$\\sigma$的高斯PSF的卷积，从而得到一个一维边缘光强$I(x)$，它在边缘处从$0$单调过渡到$1$。\n\n要求您在接触孔和$\\mathrm{T}$形结附近禁用相移特征，并提出光学邻近校正（Optical Proximity Correction, OPC）替代方案——具体来说，是使用一个单一的标量OPC长度，既用作线端的锤头延伸，也用作拐角的衬线腿长——以在标称边缘位置保持目标关键尺寸（Critical Dimension, CD）。使用以下建模假设和参数：\n- 成像系统被建模为掩模与标准差为$\\sigma = 12 \\,\\mathrm{nm}$的高斯PSF的线性卷积。\n- 在半无限透明到不透明边缘附近的歸一化空中光强可视为单位阶跃函数与高斯PSF的卷积，光刻胶在空中光强等于光刻胶阈值$T$的位置形成图形边缘。\n- 在最大明场强度为$1$的归一化强度标度上，光刻胶阈值为$T = 0.25$。\n- 对于名义上位于$x=0$的线端，印刷出的边缘出现在$I(x) = T$的位置$x$处。长度为$L_{\\mathrm{opc}}$的锤头延伸将有效掩模边缘向左移动$L_{\\mathrm{opc}}$，因此相对于名义设计，印刷出的边缘位置变为$x + L_{\\mathrm{opc}}$。为了在名义位置保持目标CD，选择$L_{\\mathrm{opc}}$使得印刷出的边缘与$x=0$重合。在相同的PSF和阈值假设下，使用相同的$L_{\\mathrm{opc}}$作为拐角的衬线腿长，以一阶近似抵消拐角变圆效应。\n\n从所述的基本原理和假设出发，推导$L_{\\mathrm{opc}}$的解析表达式，并根据给定参数计算其数值。最终数值结果以纳米为单位表示，并四舍五入至四位有效数字。只陈述最终数值作为答案。",
            "solution": "首先对问题陈述进行严格的验证过程。\n\n### 步骤1：提取已知条件\n- **系统：** 先进的ArF扫描仪。\n- **波长：** $\\lambda = 193 \\,\\mathrm{nm}$。\n- **背景：** 光学邻近校正（OPC）被用作相移掩模（PSM）的替代方案，应用于接触孔和T形结附近，以抵消线端缩短和拐角变圆。\n- **OPC策略：** 一个单一的标量长度$L_{\\mathrm{opc}}$，既用作线端的锤头延伸，也用作拐角的衬线腿长。\n- **成像模型：** 系统被视为一个线性移不变滤波器。空中影像是掩模透射率与高斯点扩展函数（PSF）的卷积。\n- **PSF：** PSF为高斯函数，标准差为$\\sigma = 12 \\,\\mathrm{nm}$。\n- **空中光强模型：** 对于孤立的半无限边缘，归一化的空中光强$I(x)$是单位阶跃函数与高斯PSF的卷积。光强标度被归一化，使得最大明场强度为$1$。\n- **光刻胶模型：** 光刻胶是一个阈值检测器。边缘在空中光强等于光刻胶阈值$T$的位置形成图形。\n- **光刻胶阈值：** $T = 0.25$。\n- **校正目标：** 对于名义上位于$x=0$的线端，长度为$L_{\\mathrm{opc}}$的锤头将有效掩模边缘移至$x = -L_{\\mathrm{opc}}$。必须选择$L_{\\mathrm{opc}}$的值，使得印刷出的边缘位于名义位置$x=0$。\n\n### 步骤2：使用提取的已知条件进行验证\n- **科学依据：** 该问题牢固地植根于傅里叶光学在半导体光刻中的应用原理。将投影系统建模为线性移不变系统，使用高斯PSF近似复合模糊效应，以及基于阈值的光刻胶模型，这些都是工艺建模中使用的标准简化方法。所提供的参数（$\\lambda = 193 \\,\\mathrm{nm}$，$\\sigma = 12 \\,\\mathrm{nm}$，$T=0.25$）对于先进的光刻工艺是物理上合理的。使用锤头和衬线等OPC特征是现代制造业中的一项基本技术。该问题在科学上是合理的。\n- **适定性：** 该问题提供了明确的目标（计算$L_{\\mathrm{opc}}$）和充分的信息（光强分布的函数形式、PSF参数$\\sigma$和阈值$T$）。所得光强分布在边缘处的单调性确保了唯一解的存在。\n- **客观性：** 该问题以精确、定量且无偏见的技術語言陈述。\n\n### 步骤3：结论与行动\n该问题被认为是有效的，因为它具有科学依据、适定性、客观性且内部一致。可以继续进行求解过程。\n\n### 推导\n半无限边缘附近的归一化空中光强$I(x)$被建模为掩模透射函数$M(x)$与高斯PSF $G(x)$的卷积。\n\n高斯PSF定义为：\n$$G(x) = \\frac{1}{\\sigma \\sqrt{2\\pi}} \\exp\\left(-\\frac{x^2}{2\\sigma^2}\\right)$$\n其中 $\\sigma = 12 \\,\\mathrm{nm}$。\n\n问题描述了一个长度为$L_{\\mathrm{opc}}$的锤头延伸，它将有效掩模边缘向左移动。这意味着当$x  -L_{\\mathrm{opc}}$时掩模是透明的（透射率为$1$），而当$x > -L_{\\mathrm{opc}}$时是不透明的（透射率为$0$）。掩模透射函数$M(x)$可以使用赫维赛德阶跃函数$H(x)$建模，其中当$x>0$时$H(x)=1$，当$x \\le 0$时$H(x)=0$。掩模边缘位于$x_0 = -L_{\\mathrm{opc}}$，因此透明区域由$x  -L_{\\mathrm{opc}}$描述，即$-L_{\\mathrm{opc}} - x > 0$。因此，掩模透射率为$M(x) = H(-L_{\\mathrm{opc}} - x)$。\n\n空中光强$I(x)$是卷积$(M * G)(x)$：\n$$I(x) = \\int_{-\\infty}^{\\infty} M(\\tau) G(x-\\tau) \\, d\\tau = \\int_{-\\infty}^{\\infty} H(-L_{\\mathrm{opc}} - \\tau) G(x-\\tau) \\, d\\tau$$\n赫维赛德函数仅在$-L_{\\mathrm{opc}} - \\tau > 0$时非零，即$\\tau  -L_{\\mathrm{opc}}$。积分变为：\n$$I(x) = \\int_{-\\infty}^{-L_{\\mathrm{opc}}} G(x-\\tau) \\, d\\tau$$\n我们进行变量替换，令$u = x-\\tau$。这得到$du = -d\\tau$。积分上下限变为：当$\\tau \\to -\\infty$时，$u \\to \\infty$；当$\\tau \\to -L_{\\mathrm{opc}}$时，$u \\to x - (-L_{\\mathrm{opc}}) = x+L_{\\mathrm{opc}}$。\n$$I(x) = \\int_{\\infty}^{x+L_{\\mathrm{opc}}} G(u) (-du) = \\int_{x+L_{\\mathrm{opc}}}^{\\infty} G(u) \\, du$$\n该积分与互补误差函数$\\mathrm{erfc}(z)$相关，其定义为$\\mathrm{erfc}(z) = \\frac{2}{\\sqrt{\\pi}} \\int_{z}^{\\infty} \\exp(-t^2) \\, dt$。为了使用这种形式，我们进行另一次替换：$t = \\frac{u}{\\sigma\\sqrt{2}}$，这意味着$u = t\\sigma\\sqrt{2}$且$du = \\sigma\\sqrt{2} \\, dt$。积分下限变为$t = \\frac{x+L_{\\mathrm{opc}}}{\\sigma\\sqrt{2}}$。\n$$I(x) = \\int_{\\frac{x+L_{\\mathrm{opc}}}{\\sigma\\sqrt{2}}}^{\\infty} \\frac{1}{\\sigma\\sqrt{2\\pi}} \\exp(-t^2) (\\sigma\\sqrt{2} \\, dt) = \\frac{1}{\\sqrt{\\pi}} \\int_{\\frac{x+L_{\\mathrm{opc}}}{\\sigma\\sqrt{2}}}^{\\infty} \\exp(-t^2) \\, dt$$\n$$I(x) = \\frac{1}{2} \\mathrm{erfc}\\left(\\frac{x+L_{\\mathrm{opc}}}{\\sigma\\sqrt{2}}\\right)$$\n问题指出，光刻胶在光强等于阈值$T$的位置形成图形。OPC的目标是将这个印刷出的边缘放置在名义位置$x=0$处。因此，我们必须满足条件$I(0) = T$。\n$$I(0) = \\frac{1}{2} \\mathrm{erfc}\\left(\\frac{0+L_{\\mathrm{opc}}}{\\sigma\\sqrt{2}}\\right) = T$$\n我们也可以使用误差函数$\\mathrm{erf}(z) = 1 - \\mathrm{erfc}(z)$来表示这一点。\n$$\\frac{1}{2} \\left[1 - \\mathrm{erf}\\left(\\frac{L_{\\mathrm{opc}}}{\\sigma\\sqrt{2}}\\right)\\right] = T$$\n现在，我们求解$L_{\\mathrm{opc}}$。\n$$1 - \\mathrm{erf}\\left(\\frac{L_{\\mathrm{opc}}}{\\sigma\\sqrt{2}}\\right) = 2T$$\n$$\\mathrm{erf}\\left(\\frac{L_{\\mathrm{opc}}}{\\sigma\\sqrt{2}}\\right) = 1 - 2T$$\n对两边应用反误差函数$\\mathrm{erf}^{-1}$：\n$$\\frac{L_{\\mathrm{opc}}}{\\sigma\\sqrt{2}} = \\mathrm{erf}^{-1}(1 - 2T)$$\n这给出了$L_{\\mathrm{opc}}$的解析表达式：\n$$L_{\\mathrm{opc}} = \\sigma\\sqrt{2} \\cdot \\mathrm{erf}^{-1}(1 - 2T)$$\n给定数值$\\sigma = 12 \\,\\mathrm{nm}$和$T = 0.25$。将这些值代入表达式中：\n$$L_{\\mathrm{opc}} = (12 \\,\\mathrm{nm})\\sqrt{2} \\cdot \\mathrm{erf}^{-1}(1 - 2(0.25))$$\n$$L_{\\mathrm{opc}} = (12 \\,\\mathrm{nm})\\sqrt{2} \\cdot \\mathrm{erf}^{-1}(1 - 0.5)$$\n$$L_{\\mathrm{opc}} = (12 \\,\\mathrm{nm})\\sqrt{2} \\cdot \\mathrm{erf}^{-1}(0.5)$$\n$\\mathrm{erf}^{-1}(0.5)$的值是一个数值常数，约等于$0.476936276$。\n$$L_{\\mathrm{opc}} \\approx (12 \\,\\mathrm{nm}) \\times 1.41421356 \\times 0.476936276$$\n$$L_{\\mathrm{opc}} \\approx 8.093877 \\,\\mathrm{nm}$$\n按要求将结果四舍五入至四位有效数字：\n$$L_{\\mathrm{opc}} \\approx 8.094 \\,\\mathrm{nm}$$\n在给定的模型假设下，这是为抵消线端回缩和一阶拐角变圆效应所需的锤头延伸和衬线腿的长度。",
            "answer": "$$\n\\boxed{8.094}\n$$"
        },
        {
            "introduction": "一个理想设计的性能在很大程度上取决于其制造的精确度，在相移掩模制造中，工艺偏差是不可避免的。本实践聚焦于一个常见的制造缺陷：蚀刻到石英基底中的相位沟槽具有非垂直的侧壁。您将应用光程（OPL）的基本定义，对这种梯形沟槽截面所引入的有效相位误差进行建模。通过推导该相位偏差的一阶校正项，您将学会如何量化分析工艺变化对光刻增强技术性能的影响，并理解制造公差在高端掩模技术中的重要性 。",
            "id": "4150409",
            "problem": "考虑一种交替相移掩模 (PSM) 作为光刻增强技术 (RET) 的实现，其方法是在折射率为 $n_{m}$ 的熔融石英掩模基底上刻蚀一个深度为 $h$ 的沟槽，沟槽中填充折射率为 $n_{a}$ 的空气。一束自由空间波长为 $\\lambda$ 的平面波垂直入射穿过该掩模。出射表面的局部光学相位由光程长度 (OPL) 的定义决定，其中相位累积与 $\\int n(\\mathbf{r})\\,ds$ 成正比。在侧壁垂直的理想情况下，该沟槽旨在使透过未刻蚀区域和刻蚀区域的光之间产生 $\\Delta \\phi = \\pi$ 的相对相移。然而，实际的刻蚀产生了一个梯形的沟槽横截面：沟槽侧壁与垂直方向偏离了一个小角度 $\\delta$，因此顶部宽度为 $w_{t}$，底部宽度为 $w_{b} = w_{t} - 2 h \\tan(\\delta)$。\n\n从光学相位定义为 $k_{0}$ 乘以 OPL (其中 $k_{0} = 2\\pi/\\lambda$) 出发，通过在顶部孔径上对局部相位进行面积平均，来建模梯形沟槽的有效相移。推导一个表达式，表示由梯形侧壁引起、对理想相移的一阶修正 $\\Delta \\phi^{(1)}$ (针对小角度 $\\delta$)，该表达式用 $\\lambda$, $n_{m}$, $n_{a}$, $h$, $w_{t}$ 和 $\\delta$ 表示。然后，利用理想矩形沟槽深度 $h$ 的选择需满足在垂直入射时产生 $\\Delta \\phi = \\pi$ 这一物理要求，对下列参数进行 $\\Delta \\phi^{(1)}$ 的数值计算：\n$\\lambda = 193\\,\\mathrm{nm}$, $n_{m} = 1.56$, $n_{a} = 1.00$, $w_{t} = 200\\,\\mathrm{nm}$，以及 $\\delta = 0.035\\,\\mathrm{rad}$。\n\n将最终的相位修正以弧度为单位表示，并将答案四舍五入到四位有效数字。",
            "solution": "### 步骤1：提取已知条件\n-   掩模类型：交替相移掩模 (PSM)\n-   增强技术：光刻增强技术 (RET)\n-   沟槽深度：$h$\n-   掩模基底折射率：$n_m$\n-   沟槽填充物折射率（空气）：$n_a$\n-   入射波：垂直入射平面波\n-   自由空间波长：$\\lambda$\n-   光学相位定义：$k_0 \\times \\text{OPL}$，其中 $k_0 = 2\\pi/\\lambda$ 且 OPL 是光程长度 $\\int n(\\mathbf{r})\\,ds$。\n-   理想相对相移：$\\Delta \\phi = \\pi$\n-   实际沟槽几何形状：梯形横截面\n-   侧壁与垂直方向的偏离角：$\\delta$ (小角度)\n-   沟槽顶部宽度：$w_{t}$\n-   沟槽底部宽度：$w_{b} = w_{t} - 2 h \\tan(\\delta)$\n-   建模方法：在顶部孔径上对局部相位进行面积平均。\n-   任务1：推导由梯形侧壁引起、对理想相移的一阶修正 $\\Delta \\phi^{(1)}$ (针对小角度 $\\delta$)。\n-   任务2：对 $\\Delta \\phi^{(1)}$ 进行数值计算。\n-   数值参数：\n    -   $\\lambda = 193\\,\\mathrm{nm}$\n    -   $n_{m} = 1.56$\n    -   $n_{a} = 1.00$\n    -   $w_{t} = 200\\,\\mathrm{nm}$\n    -   $\\delta = 0.035\\,\\mathrm{rad}$\n-   最终答案格式：以弧度为单位，四舍五入到四位有效数字。\n\n### 步骤2：使用提取的已知条件进行验证\n对问题进行验证。\n-   **科学依据**：问题陈述基于波动光学的基本原理，特别是光程长度、相位累积和折射率等概念。所描述的应用，即相移掩模，是半导体光刻中一种标准且关键的光刻增强技术。具有梯形侧壁的非理想沟槽模型是制造误差的现实表示。通过平均计算有效相位的方法是物理和工程分析中常用且有效的简化方法。各方面都具有科学合理性。\n-   **适定性**：该问题是适定的。它清晰地定义了几何形状、要使用的物理原理以及待推导的量。它为数值计算提供了所有必要的参数。目标是找到一阶修正，这意味着一个明确定义的数学过程（针对小角度 $\\delta$ 的泰勒展开）。问题结构导向一个唯一的解。\n-   **客观性**：该问题以精确、客观的语言陈述。它使用了光学和半导体加工领域的标准术语。没有主观或基于观点的陈述。\n\n### 步骤3：结论与行动\n该问题是**有效的**。它科学合理、适定且客观。我将继续进行解答。\n\n首先，我们建立理想相移为 $\\Delta \\phi = \\pi$ 的条件。相移是波穿过刻蚀区域与未刻蚀区域所累积相位的差异。对于深度为 $h$ 的理想矩形沟槽，光程差 (OPD) 为 $(n_m - n_a)h$。相移 $\\Delta \\phi$ 由 $k_0 \\times \\text{OPD}$ 给出，其中 $k_0 = 2\\pi/\\lambda$。\n$$ \\Delta \\phi_{\\text{ideal}} = k_0 (n_m - n_a) h = \\frac{2\\pi}{\\lambda} (n_m - n_a) h $$\n问题陈述该理想相移为 $\\pi$。\n$$ \\pi = \\frac{2\\pi}{\\lambda} (n_m - n_a) h $$\n这使我们能够确定所需的刻蚀深度 $h$：\n$$ h = \\frac{\\lambda}{2(n_m - n_a)} $$\n这个关系式将在稍后的数值计算中使用。\n\n接下来，我们为非理想的梯形沟槽建立相移模型。我们被要求通过在宽度为 $w_t$ 的顶部孔径上对局部相位进行平均，来求得有效相移。让我们定义一个坐标系，其中 $x$ 是穿过沟槽的横向位置，中心在 $x=0$。在位置 $x$ 处的沟槽底部深度由函数 $z_f(x)$ 给出。沟槽具有梯形横截面，顶部宽度为 $w_t$，底部宽度为 $w_b = w_t - 2h\\tan(\\delta)$，深度为 $h$。\n深度剖面 $z_f(x)$ 为：\n-   对于 $|x| \\leq w_b/2$（平坦底部），$z_f(x) = h$\n-   在斜坡区域 $w_b/2  |x|  w_t/2$，$z_f(x)$ 从 $h$ 线性变化到 $0$。\n\n在位置 $x$ 处，相对于未刻蚀区域的局部相移为 $\\Delta\\phi(x) = k_0 (n_m - n_a) z_f(x)$。有效相移 $\\overline{\\Delta\\phi}$ 是 $\\Delta\\phi(x)$ 在顶部孔径宽度 $w_t$ 上的平均值：\n$$ \\overline{\\Delta\\phi} = \\frac{1}{w_t} \\int_{-w_t/2}^{w_t/2} \\Delta\\phi(x) \\, dx = \\frac{k_0(n_m - n_a)}{w_t} \\int_{-w_t/2}^{w_t/2} z_f(x) \\, dx $$\n积分 $\\int_{-w_t/2}^{w_t/2} z_f(x) \\, dx$ 就是梯形横截面的面积。梯形的面积 $A$ 由公式 $A = \\text{高} \\times \\frac{\\text{底}_1 + \\text{底}_2}{2}$ 给出。在我们的情况下，“高”是沟槽深度 $h$，“底”是顶部和底部宽度 $w_t$ 和 $w_b$。\n$$ A = h \\frac{w_t + w_b}{2} $$\n代入 $w_b = w_t - 2h\\tan(\\delta)$：\n$$ A = h \\frac{w_t + (w_t - 2h\\tan(\\delta))}{2} = h \\frac{2w_t - 2h\\tan(\\delta)}{2} = h(w_t - h\\tan(\\delta)) $$\n现在，我们将这个面积代回到平均相移的表达式中：\n$$ \\overline{\\Delta\\phi} = \\frac{k_0(n_m - n_a)}{w_t} [h(w_t - h\\tan(\\delta))] $$\n$$ \\overline{\\Delta\\phi} = k_0(n_m - n_a)h \\left(1 - \\frac{h}{w_t}\\tan(\\delta)\\right) $$\n我们认出 $k_0(n_m - n_a)h$ 这一项就是理想相移，它等于 $\\pi$。\n$$ \\overline{\\Delta\\phi} = \\pi \\left(1 - \\frac{h}{w_t}\\tan(\\delta)\\right) = \\pi - \\frac{\\pi h}{w_t}\\tan(\\delta) $$\n问题要求对小角度 $\\delta$ 的一阶修正。对于小角度 $\\delta$（以弧度为单位），我们可以使用泰勒展开 $\\tan(\\delta) \\approx \\delta$。总相移可以写成理想部分加上一个修正项：$\\overline{\\Delta\\phi} = \\Delta \\phi_{\\text{ideal}} + \\Delta \\phi^{(\\text{修正})}$。对 $\\delta$ 取一阶近似，这变为：\n$$ \\overline{\\Delta\\phi} \\approx \\pi - \\frac{\\pi h \\delta}{w_t} $$\n一阶修正 $\\Delta\\phi^{(1)}$ 是关于 $\\delta$ 的线性项：\n$$ \\Delta\\phi^{(1)} = -\\frac{\\pi h \\delta}{w_t} $$\n这就是推导出来的一阶修正表达式。\n\n为了进行数值计算，我们首先代入 $h$ 的表达式：\n$$ \\Delta\\phi^{(1)} = -\\frac{\\pi \\delta}{w_t} \\left(\\frac{\\lambda}{2(n_m - n_a)}\\right) = -\\frac{\\pi \\lambda \\delta}{2w_t(n_m - n_a)} $$\n现在我们代入给定的数值：\n-   $\\lambda = 193\\,\\mathrm{nm}$\n-   $n_{m} = 1.56$\n-   $n_{a} = 1.00$\n-   $w_{t} = 200\\,\\mathrm{nm}$\n-   $\\delta = 0.035\\,\\mathrm{rad}$\n\n$$ \\Delta\\phi^{(1)} = -\\frac{\\pi (193\\,\\mathrm{nm}) (0.035)}{2 (200\\,\\mathrm{nm}) (1.56 - 1.00)} $$\n纳米（nm）的单位相互抵消，结果按要求以弧度为单位。\n$$ \\Delta\\phi^{(1)} = -\\frac{\\pi \\times 193 \\times 0.035}{2 \\times 200 \\times 0.56} = -\\frac{\\pi \\times 6.755}{400 \\times 0.56} = -\\frac{6.755\\pi}{224} $$\n计算数值：\n$$ \\Delta\\phi^{(1)} \\approx -0.03015625 \\times \\pi \\approx -0.09473901... $$\n问题要求答案四舍五入到四位有效数字。\n$$ \\Delta\\phi^{(1)} \\approx -0.09474 \\, \\text{rad} $$",
            "answer": "$$\\boxed{-0.09474}$$"
        }
    ]
}