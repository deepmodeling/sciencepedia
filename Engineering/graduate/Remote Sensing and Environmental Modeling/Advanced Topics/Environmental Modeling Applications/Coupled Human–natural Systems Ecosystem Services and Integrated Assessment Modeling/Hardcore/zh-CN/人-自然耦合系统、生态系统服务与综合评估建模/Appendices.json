{
    "hands_on_practices": [
        {
            "introduction": "我们将从一项基本技能开始：为人与自然耦合系统的关键组成部分建立动态模型。这项练习  使用一个简化的碳循环模型，根据一个假设的排放情景来预测未来的大气 $CO_2$ 浓度，从而将人类活动与一项关键的气候指标——辐射强迫直接联系起来。这个实践展示了微分方程如何构成许多综合评估模型的支柱。",
            "id": "3803179",
            "problem": "一位政策制定者使用综合评估模型，结合基于卫星的大气二氧化碳遥感反演数据，评估一个人类—自然耦合系统情景。一个遥感数据同化系统报告称，在时间 $t=0$ 时的初始全球平均大气二氧化碳浓度为 $C(0)=415\\,\\mathrm{ppm}$。人为排放被预测为时间 $t$（单位：$\\mathrm{yr}$）的函数，其路径由一个预设的、反映社会经济驱动因素和减排政策的方案给出：\n$$\nE(t)=\n\\begin{cases}\n11 + 0.3\\,t \\text{ 当 } 0 \\le t \\le 30,\\\\\n20\\,\\exp\\!\\big(-0.04\\,(t-30)\\big) \\text{ 当 } 30  t \\le 100,\n\\end{cases}\n$$\n其中 $E(t)$ 的单位是 $\\mathrm{PgC\\,yr^{-1}}$（拍克碳/年）。对于大气碳箱室模型，假设大气碳质量守恒，且地表汇的吸收相对于一个基线浓度是线性的，由此得到以下常微分方程\n$$\n\\frac{dC}{dt} = \\frac{E(t)}{M_a} - \\lambda\\big(C(t)-C_b\\big),\n$$\n其中 $C(t)$ 是大气二氧化碳浓度，单位为 $\\mathrm{ppm}$，$C_b=280\\,\\mathrm{ppm}$ 是前工业化时期的基线浓度，$M_a=2.12\\,\\mathrm{PgC\\,ppm^{-1}}$ 是将碳质量转换为浓度的转换系数，$\\lambda=0.02\\,\\mathrm{yr^{-1}}$ 是有效线性汇率。\n\n根据辐射强迫的定义和基本的辐射传输原理（包括 Beer–Lambert 吸收定律以及热红外波段的谱线饱和与展宽），对于一种充分混合的温室气体，其浓度 $C$ 相对于参考浓度 $C_0$ 所产生的瞬时大气层顶辐射强迫与 $C/C_0$ 成对数关系；使用比例常数 $\\alpha=5.35\\,\\mathrm{W\\,m^{-2}}$（该常数反映了标准条件下二氧化碳的辐射核），并取 $C_0=C_b$。\n\n仅从上述质量守恒方程和基本辐射传输原理（Beer–Lambert 定律和饱和效应）出发，推导 $C(t)$ 的闭式表达式，计算给定 $E(t)$ 下的 $C(100)$，然后计算在 $t=100\\,\\mathrm{yr}$ 时对应的辐射强迫。将最终的辐射强迫值四舍五入到四位有效数字，并以 $\\mathrm{W\\,m^{-2}}$ 为单位表示。您的最终答案必须是一个实数。",
            "solution": "### 问题验证\n\n**步骤 1：提取已知条件**\n\n- **初始条件**：在 $t=0$ 时的大气二氧化碳浓度为 $C(0)=415\\,\\mathrm{ppm}$。\n- **人为排放函数, $E(t)$**：\n$$\nE(t)=\n\\begin{cases}\n11 + 0.3\\,t \\text{ 当 } 0 \\le t \\le 30,\\\\\n20\\,\\exp\\!\\big(-0.04\\,(t-30)\\big) \\text{ 当 } 30  t \\le 100,\n\\end{cases}\n$$\n其中 $t$ 是时间，单位为年 ($\\mathrm{yr}$)，$E(t)$ 的单位是拍克碳/年 ($\\mathrm{PgC\\,yr^{-1}}$)。\n- **大气碳箱室模型常微分方程**：\n$$\n\\frac{dC}{dt} = \\frac{E(t)}{M_a} - \\lambda\\big(C(t)-C_b\\big)\n$$\n- **常数**：\n  - 前工业化时期基线浓度：$C_b=280\\,\\mathrm{ppm}$。\n  - 碳质量-浓度转换系数：$M_a=2.12\\,\\mathrm{PgC\\,ppm^{-1}}$。\n  - 有效线性汇率：$\\lambda=0.02\\,\\mathrm{yr^{-1}}$。\n- **辐射强迫 (RF) 关系式**：RF 与浓度 $C$ 相对于参考浓度 $C_0$ 的比值成对数关系：$RF = \\alpha \\ln(C/C_0)$。\n- **RF 常数**：\n  - 比例常数：$\\alpha=5.35\\,\\mathrm{W\\,m^{-2}}$。\n  - 参考浓度：$C_0=C_b=280\\,\\mathrm{ppm}$。\n\n**步骤 2：使用提取的已知条件进行验证**\n\n该问题是在简化气候模型的背景下一个定义明确的数理物理问题。\n1.  **科学上合理**：该问题使用了一个标准但简化的碳循环箱室模型（一个一阶线性常微分方程）和已确立的二氧化碳辐射强迫对数关系。这些是气候科学中的基本且广泛使用的概念。像 $M_a$、$C_b$ 和 $\\alpha$ 这样的常数值与文献值一致。排放情景 $E(t)$ 是对一个达峰后下降路径的合理、程式化的表示。该模型是简化的，但没有违反任何基本原理。\n2.  **适定的**：该问题提供了一个带有给定初始条件 $C(0)$ 的一阶常微分方程。强迫函数 $E(t)$ 是分段连续的，这确保了对于 $t \\ge 0$，$C(t)$ 存在唯一且连续的解。所有参数都已指定。要求在特定时间找到一个值，这是一个定义明确的任务。\n3.  **客观的**：该问题以精确的数学和物理术语陈述，没有主观或模糊的语言。\n4.  **完整性和一致性**：该问题是自洽的。所有必要的方程、常数和初始条件都已提供。没有内部矛盾。\n\n**步骤 3：结论和行动**\n\n该问题是有效的，因为它在科学上是合理的、适定的、客观的和自洽的。可以进行求解过程。\n\n### 解的推导\n\n核心任务是求解关于大气二氧化碳浓度 $C(t)$ 的一阶线性常微分方程 (ODE)。该 ODE 可以重写为标准形式：\n$$\n\\frac{dC}{dt} + \\lambda C(t) = \\frac{E(t)}{M_a} + \\lambda C_b\n$$\n这是一个形式为 $y' + p(t)y = q(t)$ 的线性 ODE，其积分因子为 $\\exp(\\int p(t) dt) = \\exp(\\lambda t)$。解由以下公式给出：\n$$\nC(t) = \\exp(-\\lambda t) \\left[ \\int \\exp(\\lambda t) \\left( \\frac{E(t)}{M_a} + \\lambda C_b \\right) dt + K \\right]\n$$\n其中 $K$ 是一个积分常数。由于 $E(t)$ 是一个分段函数，我们必须分别求解这两个时间区间的 ODE。\n\n**第一部分：$0 \\le t \\le 30$ 的解**\n\n在这个区间内，$E(t) = 11 + 0.3t$。ODE 为：\n$$\n\\frac{dC}{dt} + \\lambda C(t) = \\frac{11 + 0.3t}{M_a} + \\lambda C_b\n$$\n方程右边是 $t$ 的一个线性函数。我们来求解：\n$$\nC_1(t) = \\exp(-\\lambda t) \\left[ \\int \\exp(\\lambda t) \\left( \\frac{11}{M_a} + \\lambda C_b + \\frac{0.3}{M_a}t \\right) dt + K_1 \\right]\n$$\n对于包含 $t$ 的项，该积分使用分部积分法求解：\n$$\n\\int \\exp(\\lambda t) \\left( \\frac{11}{M_a} + \\lambda C_b \\right) dt = \\frac{1}{\\lambda}\\left(\\frac{11}{M_a} + \\lambda C_b\\right)\\exp(\\lambda t)\n$$\n$$\n\\int \\frac{0.3t}{M_a} \\exp(\\lambda t) dt = \\frac{0.3}{M_a} \\left( \\frac{t}{\\lambda}\\exp(\\lambda t) - \\frac{1}{\\lambda^2}\\exp(\\lambda t) \\right)\n$$\n结合这些结果，这个区间的通解是：\n$$\nC_1(t) = \\frac{1}{\\lambda}\\left(\\frac{11}{M_a} + \\lambda C_b\\right) + \\frac{0.3}{M_a\\lambda}t - \\frac{0.3}{M_a\\lambda^2} + K_1\\exp(-\\lambda t)\n$$\n这可以简化为：\n$$\nC_1(t) = C_b + \\frac{11}{M_a\\lambda} - \\frac{0.3}{M_a\\lambda^2} + \\frac{0.3t}{M_a\\lambda} + K_1\\exp(-\\lambda t)\n$$\n我们使用初始条件 $C(0) = 415$ 来求 $K_1$：\n$$\nC(0) = 415 = C_b + \\frac{11}{M_a\\lambda} - \\frac{0.3}{M_a\\lambda^2} + K_1\n$$\n$$\nK_1 = C(0) - C_b - \\frac{11}{M_a\\lambda} + \\frac{0.3}{M_a\\lambda^2}\n$$\n因此，对于 $0 \\le t \\le 30$，$C(t)$ 的闭式表达式为：\n$$\nC_1(t) = C_b + \\frac{11+0.3t}{M_a\\lambda} - \\frac{0.3}{M_a\\lambda^2} + \\left( C(0) - C_b - \\frac{11}{M_a\\lambda} + \\frac{0.3}{M_a\\lambda^2} \\right) \\exp(-\\lambda t)\n$$\n\n**第二部分：$30  t \\le 100$ 的解**\n\n对于这个区间，我们定义一个新的时间变量 $\\tau = t - 30$，其范围从 0 到 70。排放函数为 $E(\\tau) = 20\\exp(-0.04\\tau)$。令 $\\beta = 0.04\\,\\mathrm{yr^{-1}}$。ODE 变为：\n$$\n\\frac{dC}{d\\tau} + \\lambda C(\\tau) = \\frac{20\\exp(-\\beta\\tau)}{M_a} + \\lambda C_b\n$$\n解 $C_2(\\tau)$ 可类似地求得：\n$$\nC_2(\\tau) = \\exp(-\\lambda \\tau) \\left[ \\int \\exp(\\lambda \\tau) \\left( \\frac{20\\exp(-\\beta\\tau)}{M_a} + \\lambda C_b \\right) d\\tau + K_2 \\right]\n$$\n积分为：\n$$\n\\int \\left( \\frac{20}{M_a}\\exp((\\lambda-\\beta)\\tau) + \\lambda C_b \\exp(\\lambda\\tau) \\right) d\\tau = \\frac{20}{M_a(\\lambda-\\beta)}\\exp((\\lambda-\\beta)\\tau) + C_b\\exp(\\lambda\\tau)\n$$\n这里我们假设 $\\lambda \\ne \\beta$，这是成立的 ($0.02 \\ne 0.04$)。通解是：\n$$\nC_2(\\tau) = \\frac{20}{M_a(\\lambda-\\beta)}\\exp(-\\beta\\tau) + C_b + K_2\\exp(-\\lambda\\tau)\n$$\n这个区间的初始条件是在 $t=30$ 时的浓度，即 $C_1(30)$。所以，$C_2(0) = C_1(30)$。\n$$\nC_2(0) = C_1(30) = \\frac{20}{M_a(\\lambda-\\beta)} + C_b + K_2\n$$\n$$\nK_2 = C_1(30) - C_b - \\frac{20}{M_a(\\lambda-\\beta)}\n$$\n对于 $30  t \\le 100$，$C(t)$ 以 $\\tau=t-30$ 表示的闭式表达式为：\n$$\nC_2(\\tau) = C_b + \\frac{20\\exp(-\\beta\\tau)}{M_a(\\lambda-\\beta)} + \\left( C_1(30) - C_b - \\frac{20}{M_a(\\lambda-\\beta)} \\right) \\exp(-\\lambda\\tau)\n$$\n\n**$C(t)$ 的完整闭式表达式**\n结合两个部分，完整的解是：\n$$\nC(t)=\n\\begin{cases}\nC_b + \\frac{11+0.3t}{M_a\\lambda} - \\frac{0.3}{M_a\\lambda^2} + \\left( C(0) - C_b - \\frac{11}{M_a\\lambda} + \\frac{0.3}{M_a\\lambda^2} \\right) \\exp(-\\lambda t) \\text{ 当 } 0 \\le t \\le 30, \\\\\nC_b + \\frac{20\\exp(-0.04(t-30))}{M_a(\\lambda-0.04)} + \\left( C_1(30) - C_b - \\frac{20}{M_a(\\lambda-0.04)} \\right) \\exp(-\\lambda(t-30)) \\text{ 当 } 30  t \\le 100,\n\\end{cases}\n$$\n其中 $C_1(30)$ 是第一个表达式在 $t=30$ 时的值。\n\n**第三部分：数值计算**\n\n给定数值：$C(0)=415$, $C_b=280$, $M_a=2.12$, $\\lambda=0.02$, $\\beta=0.04$。\n\n首先，计算 $C_1(30)$：\n$$\nC_1(30) = 280 + \\frac{11+0.3(30)}{2.12(0.02)} - \\frac{0.3}{2.12(0.02)^2} + \\left( 415 - 280 - \\frac{11}{2.12(0.02)} + \\frac{0.3}{2.12(0.02)^2} \\right) \\exp(-0.02 \\times 30)\n$$\n$$\nC_1(30) = 280 + \\frac{20}{0.0424} - \\frac{0.3}{0.000848} + \\left( 135 - \\frac{11}{0.0424} + \\frac{0.3}{0.000848} \\right) \\exp(-0.6)\n$$\n$$\nC_1(30) \\approx 280 + 471.6981 - 353.7736 + (135 - 259.4340 + 353.7736) \\exp(-0.6)\n$$\n$$\nC_1(30) \\approx 397.9245 + (229.3396) \\exp(-0.6) \\approx 397.9245 + 229.3396 (0.5488116)\n$$\n$$\nC_1(30) \\approx 397.9245 + 125.8606 \\approx 523.7851\\,\\mathrm{ppm}\n$$\n\n接下来，计算 $C(100)$，这对应于 $\\tau=70$：\n$$\nC(100) = C_2(70) = C_b + \\frac{20\\exp(-0.04 \\times 70)}{2.12(0.02-0.04)} + \\left( C_1(30) - C_b - \\frac{20}{2.12(0.02-0.04)} \\right) \\exp(-0.02 \\times 70)\n$$\n$$\nC(100) = 280 + \\frac{20\\exp(-2.8)}{-0.0424} + \\left( 523.7851 - 280 - \\frac{20}{-0.0424} \\right) \\exp(-1.4)\n$$\n$$\nC(100) \\approx 280 - 471.6981 \\exp(-2.8) + (243.7851 + 471.6981) \\exp(-1.4)\n$$\n$$\nC(100) \\approx 280 - 471.6981 (0.060810) + (715.4832) (0.246597)\n$$\n$$\nC(100) \\approx 280 - 28.6831 + 176.4710 \\approx 427.7879\\,\\mathrm{ppm}\n$$\n\n**第四部分：辐射强迫计算**\n\n最后，使用给定公式 $RF = \\alpha \\ln(C/C_0)$ 计算在 $t=100$ 时的辐射强迫：\n$$\nRF(100) = \\alpha \\ln\\left(\\frac{C(100)}{C_b}\\right) = 5.35 \\ln\\left(\\frac{427.7879}{280}\\right)\n$$\n$$\nRF(100) \\approx 5.35 \\ln(1.527814) \\approx 5.35 \\times 0.423800\n$$\n$$\nRF(100) \\approx 2.26733\\,\\mathrm{W\\,m^{-2}}\n$$\n四舍五入到四位有效数字，辐射强迫为 $2.267\\,\\mathrm{W\\,m^{-2}}$。",
            "answer": "$$\\boxed{2.267}$$"
        },
        {
            "introduction": "现实世界的环境管理很少是关于单一目标的，它常常涉及在复杂的权衡中做出抉择。这项实践  直面这一挑战，将一个土地利用分配问题构建为一个多目标优化问题。你将使用加权求和法来探索帕累托前沿，寻找能够平衡农业生产、碳封存和生物多样性等相互竞争需求的解决方案。",
            "id": "3803125",
            "problem": "考虑一个在人类—自然耦合系统和综合评估建模领域中的空间显式土地分配问题，该问题通过遥感和环境监测进行参数化。您会得到一组地块，索引为 $i \\in \\{1,\\dots,N\\}$，其中 $N=4$，每个地块的面积为 $a_i$ 公顷。决策变量 $x_{i,L}$ 代表地块 $i$ 分配给土地利用类型 $L \\in \\{\\text{农业 (A)}, \\text{林业 (F)}, \\text{保护 (C)}\\}$ 的比例。每个地块必须被完全分配，满足 $\\sum_{L \\in \\{A,F,C\\}} x_{i,L} = 1$ 和 $0 \\leq x_{i,L} \\leq 1$。遥感和生态评估提供了每公顷的系数，包括以公吨二氧化碳/年 (tCO$_2$/yr) 为单位的碳汇 $c_{i,L}$、以吨/年为单位的农业产量 $y_i$，以及生物多样性指数 $b_{i,L}$（无量纲），所有这些系数都假定相对于 $x_{i,L}$ 是恒定的。总的系统级目标是所有地块和土地利用类型的总和：总碳汇 $C = \\sum_i \\sum_L a_i c_{i,L} x_{i,L}$，总农业产量 $P = \\sum_i a_i y_i x_{i,A}$，以及总生物多样性 $B = \\sum_i \\sum_L a_i b_{i,L} x_{i,L}$。该分配还必须满足以下由社会生态可行性驱动的系统级约束：最低产量要求 $P \\geq P_{\\min}$，最低生物多样性要求 $B \\geq B_{\\min}$，以及灌溉能力约束 $\\sum_i a_i x_{i,A} \\leq A_{\\max}$。\n\n此问题的理论基础：\n- 帕累托效率的定义：一个可行分配是帕累托有效的，当且仅当不存在另一个可行分配，在不减少任何其他目标的情况下，至少能改进一个目标。\n- 凸多目标优化的加权和标量化原理：对于总和为一的非负权重，在凸可行集上最大化各目标的凸组合可以得到帕累托有效解。\n\n参数化 (所有数组均与地块对齐，并按 $i=1,2,3,4$ 的顺序给出)：\n- 面积（公顷）：$a = [100,80,120,60]$。\n- 碳汇密度（tCO$_2$/年/公顷）：\n  - 农业：$c_{A} = [2.0,2.5,1.5,2.0]$，\n  - 林业：$c_{F} = [8.0,10.0,7.5,9.0]$，\n  - 保护：$c_{C} = [6.0,7.0,5.5,6.5]$。\n- 农业产量（吨/年/公顷）：$y = [3.0,4.0,2.5,3.5]$。\n- 生物多样性指数（无量纲/公顷）：\n  - 农业：$b_{A} = [0.30,0.35,0.25,0.32]$，\n  - 林业：$b_{F} = [0.70,0.75,0.65,0.72]$，\n  - 保护：$b_{C} = [0.90,0.85,0.80,0.88]$。\n- 系统级约束：\n  - 最低产量：$P_{\\min} = 500$ 吨/年，\n  - 最低生物多样性：$B_{\\min} = 180$，\n  - 最大农业面积：$A_{\\max} = 220$ 公顷。\n\n在给定约束条件下，定义碳汇、农业产量和生物多样性之间权衡的帕累托前沿。使用加权和方法，通过满足 $w_C + w_P + w_B = 1$ 的非负权重 $(w_C,w_P,w_B)$，计算一组帕累托有效分配。由于各目标具有不同的单位和尺度，需要通过将每个目标除以其在约束下的最大值来进行无量纲化：如果 $C_{\\max}$、$P_{\\max}$ 和 $B_{\\max}$ 分别表示在相同约束下 $C$、$P$ 和 $B$ 可达到的最大值，那么需要最大化的标量化目标是 $w_C \\cdot \\frac{C}{C_{\\max}} + w_P \\cdot \\frac{P}{P_{\\max}} + w_B \\cdot \\frac{B}{B_{\\max}}$。\n\n您的程序必须：\n- 构建并求解所需的约束线性规划问题，以计算 $C_{\\max}$、$P_{\\max}$、$B_{\\max}$，并对于每个权重向量，通过最大化归一化目标的加权和来计算相应的帕累托有效分配。\n- 对于每个权重向量，报告未归一化的目标值三元组 $(C,P,B)$。\n\n单位和输出规范：\n- 碳汇 $C$ 以 tCO$_2$/yr 表示，农业产量 $P$ 以 吨/年 表示，生物多样性指数 $B$ 为无量纲量。将报告的每个数字四舍五入到 $2$ 位小数。\n\n测试套件 (按顺序评估的权重)：\n- 平衡型：$[1/3,1/3,1/3]$，\n- 碳汇优先型：$[0.7,0.2,0.1]$，\n- 产量优先型：$[0.1,0.8,0.1]$，\n- 生物多样性优先型：$[0.2,0.1,0.7]$，\n- 边界情况（生物多样性权重为零）：$[0.5,0.5,0.0]$。\n\n最终输出格式：\n- 您的程序应生成单行输出，其中包含一个由方括号括起来的逗号分隔列表。列表中的每个元素是对应权重向量的结果列表 $[C,P,B]$（单位和舍入如上所述），顺序与测试套件中的顺序相同。例如：$[[c_1,p_1,b_1],[c_2,p_2,b_2],\\dots]$。",
            "solution": "所提出的问题是一个应用于土地利用分配的多目标线性规划 (MOLP) 问题。其目标是确定一组帕累托有效土地分配方案，这些方案代表了在三个相互冲突的目标——最大化总碳汇 ($C$)、总农业产量 ($P$) 和总生物多样性 ($B$)——之间的最优权衡。该解决方案是使用加权和标量化方法推导出来的，这是解决 MOLP 问题的标准技术。\n\n### 数学公式\n该问题被形式化为一个线性规划 (LP) 问题。\n\n**1. 决策变量**\n核心决策变量是 $x_{i,L}$，代表地块 $i$ 中分配给土地利用类型 $L$ 的土地比例。共有 $N=4$ 个地块和 $3$ 种土地利用类型，即 $\\{\\text{农业 (A)}, \\text{林业 (F)}, \\text{保护 (C)}\\}$，因此总共有 $4 \\times 3 = 12$ 个决策变量。\n这些变量受以下边界约束：\n$$0 \\leq x_{i,L} \\leq 1 \\quad \\forall i \\in \\{1,2,3,4\\}, L \\in \\{A,F,C\\}$$\n\n**2. 目标函数**\n三个目标都是决策变量的线性函数。\n- **总碳汇 ($C$)：** 总固碳量是每个地块和土地利用类型贡献的总和。\n  $$C = \\sum_{i=1}^{4} \\sum_{L \\in \\{A,F,C\\}} a_i c_{i,L} x_{i,L}$$\n  其中 $a_i$ 是地块 $i$ 的面积，$c_{i,L}$ 是每公顷的碳汇系数。\n\n- **总农业产量 ($P$)：** 产量仅发生在分配给农业的土地上。\n  $$P = \\sum_{i=1}^{4} a_i y_i x_{i,A}$$\n  其中 $y_i$ 是地块 $i$ 的每公顷农业产量。\n\n- **总生物多样性 ($B$)：** 总生物多样性得分是每个地块和土地利用类型贡献的总和。\n  $$B = \\sum_{i=1}^{4} \\sum_{L \\in \\{A,F,C\\}} a_i b_{i,L} x_{i,L}$$\n  其中 $b_{i,L}$ 是每公顷的生物多样性指数。\n\n**3. 约束条件**\n分配必须在地块和系统层面满足若干约束。\n- **地块的完全分配：** 每个地块必须在三种土地利用类型中被完全分配。\n  $$\\sum_{L \\in \\{A,F,C\\}} x_{i,L} = 1 \\quad \\forall i \\in \\{1,2,3,4\\}$$\n\n- **最低农业产量：** 总产量必须满足最低社会需求。\n  $$P \\geq P_{\\min} \\quad (P_{\\min} = 500 \\text{ 吨/年})$$\n\n- **最低生物多样性：** 总生物多样性得分不得低于某个阈值。\n  $$B \\geq B_{\\min} \\quad (B_{\\min} = 180)$$\n\n- **最大农业面积：** 由于灌溉等资源限制，用于农业的总面积有上限。\n  $$\\sum_{i=1}^{4} a_i x_{i,A} \\leq A_{\\max} \\quad (A_{\\max} = 220 \\text{ 公顷})$$\n\n### 求解方法\n同时最大化 $C$、$P$ 和 $B$ 的问题，可以通过使用加权和方法将 MOLP 转化为一系列单目标 LP 来解决。\n\n**1. 加权和标量化**\n核心思想是最大化目标函数的加权和。由于可行集（由线性约束定义）是凸的，且目标函数是线性的，最大化目标的凸组合（即，总和为 $1$ 的非负权重）保证能产生帕累托有效解。\n\n**2. 目标归一化**\n这些目标具有不同的单位（tCO$_2$/年、吨/年和无量纲）和差异巨大的数值尺度。为确保权重 $(w_C, w_P, w_B)$ 真实反映对每个目标的偏好，在组合它们之前必须对目标进行归一化。问题指定通过将每个目标除以其在给定约束下的最大可能值（$C_{\\max}, P_{\\max}, B_{\\max}$）来进行归一化。需要最大化的标量化目标函数是：\n$$Z_{norm} = w_C \\frac{C}{C_{\\max}} + w_P \\frac{P}{P_{\\max}} + w_B \\frac{B}{B_{\\max}}$$\n其中 $w_C + w_P + w_B = 1$ 且 $w_C, w_P, w_B \\ge 0$。\n\n### 算法步骤\n解决方案通过以下步骤计算得出：\n\n**步骤 1：计算归一化因子**\n首先，我们单独确定每个目标在所有系统约束下的最大可能值。这需要求解三个独立的 LP：\n- 在所有约束条件下最大化 $C$，以找到 $C_{\\max}$。\n- 在所有约束条件下最大化 $P$，以找到 $P_{\\max}$。\n- 在所有约束条件下最大化 $B$，以找到 $B_{\\max}$。\n\n**步骤 2：为每个权重向量求解加权和问题**\n对于每个给定的权重向量 $(w_C, w_P, w_B)$，求解一个新的 LP。目标是最大化 $Z_{norm}$。由于 $C$、$P$ 和 $B$ 是 $x_{i,L}$ 的线性函数，且 $C_{\\max}$、$P_{\\max}$、$B_{\\max}$ 是常数，因此 $Z_{norm}$ 也是 $x_{i,L}$ 的线性函数。该问题是：\n$$\\text{最大化} \\quad \\left( \\frac{w_C}{C_{\\max}} \\sum_{i,L} a_i c_{i,L} x_{i,L} + \\frac{w_P}{P_{\\max}} \\sum_{i} a_i y_i x_{i,A} + \\frac{w_B}{B_{\\max}} \\sum_{i,L} a_i b_{i,L} x_{i,L} \\right)$$\n受所有上述约束条件的限制。\n\n**步骤 3：报告结果**\n步骤 2 中 LP 的解是一个最优分配向量 $\\{x_{i,L}^*\\}$。我们使用这个向量来计算三个目标的未归一化值：$(C^*, P^*, B^*)$。这个三元组代表了权衡曲面上的一个帕累托有效点。对所有测试权重向量重复此过程。\n\n### 实现\n该算法使用 Python 实现，其中 `numpy` 库用于数值运算，`scipy.optimize.linprog` 用于求解线性规划问题。决策变量 $x_{i,L}$ 被展平成一个包含 $12$ 个元素的单一向量。目标函数和约束被形式化为 `linprog` 所需的标准矩阵表示：$\\min \\mathbf{c}^T \\mathbf{x}$，约束条件为 $\\mathbf{A}_{ub} \\mathbf{x} \\le \\mathbf{b}_{ub}$ 和 $\\mathbf{A}_{eq} \\mathbf{x} = \\mathbf{b}_{eq}$。最大化问题通过将目标系数向量 $\\mathbf{c}$ 取反来转换为最小化问题。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy.optimize import linprog\n\ndef solve():\n    # =========================================================================\n    # 1. Define Givens from the Problem Statement\n    # =========================================================================\n    \n    # Parcels (i=1,2,3,4), Land Uses (L=A,F,C)\n    N_parcels = 4\n    N_land_uses = 3\n    n_vars = N_parcels * N_land_uses\n\n    # Parcel areas (hectares)\n    a = np.array([100, 80, 120, 60])\n\n    # Carbon sequestration densities (tCO2/yr per ha)\n    c_A = np.array([2.0, 2.5, 1.5, 2.0])\n    c_F = np.array([8.0, 10.0, 7.5, 9.0])\n    c_C = np.array([6.0, 7.0, 5.5, 6.5])\n    \n    # Agricultural yields (tonnes/yr per ha)\n    y = np.array([3.0, 4.0, 2.5, 3.5])\n\n    # Biodiversity indices (dimensionless)\n    b_A = np.array([0.30, 0.35, 0.25, 0.32])\n    b_F = np.array([0.70, 0.75, 0.65, 0.72])\n    b_C = np.array([0.90, 0.85, 0.80, 0.88])\n\n    # System-level constraints\n    P_min = 500.0\n    B_min = 180.0\n    A_max = 220.0\n\n    # Test cases: weight vectors (wC, wP, wB)\n    test_weights = [\n        [1/3, 1/3, 1/3],       # Balanced\n        [0.7, 0.2, 0.1],      # Carbon-focused\n        [0.1, 0.8, 0.1],      # Production-focused\n        [0.2, 0.1, 0.7],      # Biodiversity-focused\n        [0.5, 0.5, 0.0]       # Boundary case\n    ]\n\n    # =========================================================================\n    # 2. Formulate LP in Matrix Form for scipy.optimize.linprog\n    # =========================================================================\n    # Variables are flattened: [x_1A, x_1F, x_1C, x_2A, x_2F, x_2C, ...]\n\n    # Objective Coefficient Vectors (for unnormalized C, P, B)\n    c_coeffs_matrix = np.vstack([c_A, c_F, c_C]).T # 4x3\n    b_coeffs_matrix = np.vstack([b_A, b_F, b_C]).T # 4x3\n\n    C_coeffs = (a[:, np.newaxis] * c_coeffs_matrix).flatten()\n    B_coeffs = (a[:, np.newaxis] * b_coeffs_matrix).flatten()\n    \n    P_coeffs = np.zeros(n_vars)\n    P_coeffs[0::N_land_uses] = a * y\n\n    # Equality Constraints: sum(x_i,L for L) = 1 for each i\n    A_eq = np.kron(np.eye(N_parcels), np.ones(N_land_uses))\n    b_eq = np.ones(N_parcels)\n\n    # Inequality Constraints: P >= P_min, B >= B_min, AgArea = A_max\n    # Re-arranged for linprog: -P = -P_min, -B = -B_min\n    ag_area_coeffs = np.zeros(n_vars)\n    ag_area_coeffs[0::N_land_uses] = a\n    \n    A_ub = np.array([\n        -P_coeffs,\n        -B_coeffs,\n        ag_area_coeffs\n    ])\n    b_ub = np.array([-P_min, -B_min, A_max])\n\n    # Bounds for decision variables: 0 = x_i,L = 1\n    bounds = (0, 1)\n\n    # =========================================================================\n    # 3. Calculate Normalization Factors (C_max, P_max, B_max)\n    # =========================================================================\n    \n    # For maximization, we minimize the negative of the objective function.\n    \n    # C_max\n    res_C = linprog(c=-C_coeffs, A_ub=A_ub, b_ub=b_ub, A_eq=A_eq, b_eq=b_eq, bounds=bounds, method='highs')\n    C_max = -res_C.fun if res_C.success else 0\n\n    # P_max\n    res_P = linprog(c=-P_coeffs, A_ub=A_ub, b_ub=b_ub, A_eq=A_eq, b_eq=b_eq, bounds=bounds, method='highs')\n    P_max = -res_P.fun if res_P.success else 0\n\n    # B_max\n    res_B = linprog(c=-B_coeffs, A_ub=A_ub, b_ub=b_ub, A_eq=A_eq, b_eq=b_eq, bounds=bounds, method='highs')\n    B_max = -res_B.fun if res_B.success else 0\n\n    if not all([C_max > 0, P_max > 0, B_max > 0]):\n        # This case would indicate an issue with the problem setup, e.g., infeasible.\n        # Based on validation, this should not happen.\n        # Fallback to prevent division by zero.\n        C_max = C_max if C_max > 0 else 1\n        P_max = P_max if P_max > 0 else 1\n        B_max = B_max if B_max > 0 else 1\n\n    # =========================================================================\n    # 4. Solve for each weight vector and collect results\n    # =========================================================================\n    final_results = []\n    for w in test_weights:\n        w_C, w_P, w_B = w\n        \n        # Formulate weighted objective function\n        c_weighted = -(w_C/C_max * C_coeffs + w_P/P_max * P_coeffs + w_B/B_max * B_coeffs)\n        \n        # Solve the LP for the weighted objective\n        res = linprog(c=c_weighted, A_ub=A_ub, b_ub=b_ub, A_eq=A_eq, b_eq=b_eq, bounds=bounds, method='highs')\n        \n        if res.success:\n            x_opt = res.x\n            # Calculate unnormalized objective values\n            C_val = np.dot(C_coeffs, x_opt)\n            P_val = np.dot(P_coeffs, x_opt)\n            B_val = np.dot(B_coeffs, x_opt)\n            final_results.append([C_val, P_val, B_val])\n        else:\n            # Append nulls if solver fails, to maintain output structure\n            final_results.append([0.0, 0.0, 0.0])\n\n    # =========================================================================\n    # 5. Format and Print Final Output\n    # =========================================================================\n    sublist_strings = []\n    for c, p, b in final_results:\n        sublist_strings.append(f\"[{c:.2f},{p:.2f},{b:.2f}]\")\n    \n    print(f\"[{','.join(sublist_strings)}]\")\n\nsolve()\n```"
        },
        {
            "introduction": "我们用来为决策提供信息的模型并非完美。这最后一个实践  探讨了一个模型的统计准确性与其在决策环境中的实际价值之间的关键区别。通过在一个成本效益框架下分析两种不同的遥感分类器，你将了解到为什么一个总体准确率较低的模型有时反而能带来更好的现实世界结果，这是有效应用综合评估模型的一个关键见解。",
            "id": "3803151",
            "problem": "一个沿海城市利用多光谱光学和合成孔径雷达（SAR）遥感的监督分类方法，来识别那些如果恢复为湿地便能提供洪水缓解这一生态系统服务的地块。综合评估模型评估一项决策策略，该策略对分类器预测为正例的地块执行恢复措施。考虑一个包含 $N=1000$ 个地块的验证集，其中有 $N_{+}=100$ 个地块真正适合湿地恢复（正例），以及 $N_{-}=900$ 个地块不适合（负例）。两个分类器X和Y在该集合上产生以下混淆计数：\n- 分类器X：$TP=20$, $FP=0$, $FN=80$, $TN=900$。\n- 分类器Y：$TP=70$, $FP=100$, $FN=30$, $TN=800$。\n\n假设一个被预测为正例的地块被恢复，会产生恢复成本 $C$，并且如果该地块确实是正例，则会产生价值为 $B$ 的避免洪水损失的效益。恢复一个真正的负例地块不会产生任何效益，只会产生成本 $C$。不恢复任何地块不会产生相对于基线的变化。设 $B=50$ 和 $C=10$，单位为同一货币单位。\n\n选择所有正确的陈述：\n\nA. 在此验证集上，分类器X的总体准确率高于分类器Y。\n\nB. 当 $B=50$ 和 $C=10$ 时，根据分类器Y的正例预测采取行动所实现的预期净效益，超过了根据分类器X的正例预测所实现的预期净效益。\n\nC. 如果恢复成本增加到 $C=60$（而 $B=50$ 不变），根据分类器Y的正例预测采取行动会产生负的预期净效益，而根据分类器X的正例预测采取行动会产生非负的预期净效益。\n\nD. 当正例类别稀少且正确行动的效益相对于成本较大时，一个总体准确率较低的分类器从以决策为中心的角度来看可能更优。",
            "solution": "首先将验证问题陈述的科学合理性、一致性和完整性。\n\n**步骤1：提取已知条件**\n- 验证地块总数：$N=1000$\n- 真正适合的地块（正例）：$N_{+}=100$\n- 不适合的地块（负例）：$N_{-}=900$\n- 分类器X的混淆计数：$TP_X=20$, $FP_X=0$, $FN_X=80$, $TN_X=900$\n- 分类器Y的混淆计数：$TP_Y=70$, $FP_Y=100$, $FN_Y=30$, $TN_Y=800$\n- 每个地块的恢复成本：$C$\n- 恢复一个真正例地块的效益（避免的损失）：$B$\n- 决策策略是恢复任何被预测为正例的地块。\n- 恢复一个真正例的净收益为 $B-C$。\n- 恢复一个真负例的净收益为 $-C$。\n- 不恢复任何地块的净收益为 $0$。\n- 初始经济价值：$B=50$ 货币单位， $C=10$ 货币单位。\n\n**步骤2：使用提取的已知条件进行验证**\n该问题具有科学依据。它提出了一个用于评估分类器的标准决策分析框架，这是遥感、环境建模和资源管理中的一项常见任务。使用混淆矩阵统计数据（$TP, FP, FN, TN$）和成本效益模型是教科书式的方法。\n\n该问题是适定且自洽的。给定的数字内部一致：\n- 对于分类器X：$TP_X + FN_X = 20 + 80 = 100 = N_{+}$，并且 $FP_X + TN_X = 0 + 900 = 900 = N_{-}$。\n- 对于分类器Y：$TP_Y + FN_Y = 70 + 30 = 100 = N_{+}$，并且 $FP_Y + TN_Y = 100 + 800 = 900 = N_{-}$。\n所有计数总和正确。所提供的数据足以评估所有陈述。术语精确客观。问题设置中没有明显的科学或逻辑缺陷。\n\n**步骤3：结论与行动**\n问题有效。解题过程将通过评估每个陈述来进行。\n\n**陈述评估**\n\n需要计算的核心指标是总体准确率和预期净效益。\n\n总体准确率（$ACC$）定义为正确预测的比例：\n$$ACC = \\frac{TP + TN}{N} = \\frac{TP + TN}{TP + FP + FN + TN}$$\n\n决策策略是恢复分类器预测为正例的所有地块。这类地块的数量是 $TP + FP$。总效益仅来自被恢复的真正例（$TP$），产生 $TP \\times B$ 的效益。总成本则针对所有被恢复的地块产生，总计为 $(TP + FP) \\times C$。因此，对于这 $N$ 个地块的总净效益（$ENB$）为：\n$$ENB = (TP \\times B) - ((TP + FP) \\times C) = TP \\times (B-C) - FP \\times C$$\n\n**A. 在此验证集上，分类器X的总体准确率高于分类器Y。**\n\n对于分类器X：\n$$ACC_X = \\frac{TP_X + TN_X}{N} = \\frac{20 + 900}{1000} = \\frac{920}{1000} = 0.92$$\n\n对于分类器Y：\n$$ACC_Y = \\frac{TP_Y + TN_Y}{N} = \\frac{70 + 800}{1000} = \\frac{870}{1000} = 0.87$$\n\n比较两个准确率，$0.92 > 0.87$。因此，分类器X的总体准确率高于分类器Y。\n\n结论：**正确**。\n\n**B. 当 $B=50$ 和 $C=10$ 时，根据分类器Y的正例预测采取行动所实现的预期净效益，超过了根据分类器X的正例预测所实现的预期净效益。**\n\n使用给定的值 $B=50$ 和 $C=10$，我们计算每个分类器的 $ENB$。\n\n对于分类器X：\n$$ENB_X = TP_X \\times B - (TP_X + FP_X) \\times C$$\n$$ENB_X = 20 \\times 50 - (20 + 0) \\times 10 = 1000 - 200 = 800$$\n\n对于分类器Y：\n$$ENB_Y = TP_Y \\times B - (TP_Y + FP_Y) \\times C$$\n$$ENB_Y = 70 \\times 50 - (70 + 100) \\times 10 = 3500 - 170 \\times 10 = 3500 - 1700 = 1800$$\n\n比较净效益，$ENB_Y = 1800$ 且 $ENB_X = 800$。显然，$1800 > 800$。根据分类器Y的预测采取行动所带来的净效益超过了分类器X。\n\n结论：**正确**。\n\n**C. 如果恢复成本增加到 $C=60$（而 $B=50$ 不变），根据分类器Y的正例预测采取行动会产生负的预期净效益，而根据分类器X的正例预测采取行动会产生非负的预期净效益。**\n\n我们用新的成本 $C=60$ 和原始效益 $B=50$ 重新计算 $ENB$。\n\n对于分类器X：\n$$ENB_X = TP_X \\times B - (TP_X + FP_X) \\times C$$\n$$ENB_X = 20 \\times 50 - (20 + 0) \\times 60 = 1000 - 1200 = -200$$\n\n该陈述声称对于分类器X，其 $ENB$ 是非负的（$ENB_X \\ge 0$）。我们的计算显示 $ENB_X = -200$，这是负值。因此，陈述的这一部分是错误的。\n\n为完整起见，我们还计算分类器Y的 $ENB$：\n$$ENB_Y = TP_Y \\times B - (TP_Y + FP_Y) \\times C$$\n$$ENB_Y = 70 \\times 50 - (70 + 100) \\times 60 = 3500 - 170 \\times 60 = 3500 - 10200 = -6700$$\n陈述的第一部分，即根据分类器Y的预测采取行动会产生负的预期净效益，是正确的，因为 $-6700  0$。\n\n然而，由于该陈述是一个联合判断，并且其中一个分句（关于分类器X的那个）是错误的，所以整个陈述是错误的。\n\n结论：**错误**。\n\n**D. 当正例类别稀少且正确行动的效益相对于成本较大时，一个总体准确率较低的分类器从以决策为中心的角度来看可能更优。**\n\n这是一个一般性陈述。我们可以验证本题的数据是否提供了一个支持该原则的实例。\n- **正例类别是否稀少？** 正例的流行率为 $p = N_{+}/N = 100/1000 = 0.1$。这是一个典型的类别不平衡场景，其中正例类别被认为是稀少的。\n- **效益是否相对于成本较大？** 在B部分中，我们使用了 $B=50$ 和 $C=10$。一次正确行动的效益与成本之比为 $B/C = 50/10 = 5$，效益减去成本的值为 $B-C=40$。这符合效益显著大于成本的场景。\n- **准确率较低的分类器是否更优？**\n    - 从A部分可知，$ACC_X=0.92$ 且 $ACC_Y=0.87$，所以Y的准确率较低。\n    - 从B部分可知，$ENB_X=800$ 且 $ENB_Y=1800$。“以决策为中心的角度”由 $ENB$ 来量化。\n    - 由于 $ENB_Y > ENB_X$，准确率较低的分类器Y在这个决策背景下确实更优。\n\n本题提供了一个具体的例子，完美地说明了D中所述的原则。高的总体准确率通常是由在多数类（此处为负例）上的高性能驱动的。分类器X是一个“保守的”分类器，具有完美的特异性（$TN/(TN+FP) = 900/900 = 1$），但召回率非常低（$TP/(TP+FN) = 20/100 = 0.2$）。分类器Y则不那么保守，它接受了更多的假正例（$FP_Y=100$），以实现更高的召回率（$TP_Y/(TP_Y+FN_Y)=70/100=0.7$）。当发现正例非常有价值时（$B \\gg C$），分类器Y的更高召回率带来了更好的经济结果，尽管其总体准确率较低。该陈述是在将机器学习应用于具有不对称成本和收益的现实世界决策问题时的一个基本概念。\n\n结论：**正确**。",
            "answer": "$$\\boxed{ABD}$$"
        }
    ]
}