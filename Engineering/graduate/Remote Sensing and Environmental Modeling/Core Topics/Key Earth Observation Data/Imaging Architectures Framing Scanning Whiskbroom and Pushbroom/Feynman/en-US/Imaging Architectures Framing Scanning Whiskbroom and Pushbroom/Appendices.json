{
    "hands_on_practices": [
        {
            "introduction": "The foundation of any remote sensing measurement is achieving a sufficient Signal-to-Noise Ratio (SNR). This first practice explores this fundamental requirement by calculating the minimum exposure time needed for a framing camera to capture a quality image. By working through this problem , you will connect scene radiance and sensor characteristics to the core concept of shot-noise-limited performance, a cornerstone of instrument design.",
            "id": "3821360",
            "problem": "A nadir-viewing framing camera is used to image an extended, spatially uniform Earth scene of constant spectral radiance $L$ across a narrow spectral band. The optics have clear aperture area $A$ and define a per-pixel instantaneous field of view of solid angle $\\Omega$ (assume no vignetting). The optical train has spectral transmission $\\tau(\\lambda)$, the detector has quantum efficiency $\\eta$ that is spectrally flat across the band, and the spectral band limits are $\\lambda_{1}$ and $\\lambda_{2}$ with $\\lambda_{2} - \\lambda_{1} \\ll \\lambda_{1}$ so that $L$ can be treated as constant over the band. The camera operates in a photon shot noise limited regime with negligible dark current and read noise, and the detector full-well capacity per pixel is $Q$ electrons. Planckâ€™s constant is $h$ and the speed of light is $c$.\n\nDefine the system bandwidth parameter\n$$\nB \\equiv \\int_{\\lambda_{1}}^{\\lambda_{2}} \\Omega\\,\\tau(\\lambda)\\,\\frac{\\lambda}{h\\,c}\\,d\\lambda,\n$$\nso that the photon arrival rate for a pixel is proportional to $A\\,L\\,B$. The signal-to-noise ratio (SNR) is defined as the ratio of the mean detected signal electrons to the standard deviation of the noise in that pixel.\n\nAssuming the target SNR, denoted $S$, satisfies $S^{2} \\le Q$ so that saturation does not preclude achieving the target in a single exposure, derive from first principles an expression for the minimal exposure time $t_{\\min}$ required to achieve SNR $S$ in a single frame. Express your final answer in seconds as a closed-form expression in terms of $S$, $\\eta$, $A$, $L$, and $B$. Do not introduce any additional parameters. The final answer must be a single analytic expression.",
            "solution": "The user wants to derive an expression for the minimal exposure time $t_{\\min}$ required for a nadir-viewing framing camera to achieve a target signal-to-noise ratio $S$. The derivation must be from first principles and expressed in terms of the given parameters $S$, $\\eta$, $A$, $L$, and $B$.\n\nFirst, we establish the rate at which photons from the scene arrive at a single detector pixel. The problem states that the scene has a constant spectral radiance $L$ and provides a system bandwidth parameter $B \\equiv \\int_{\\lambda_{1}}^{\\lambda_{2}} \\Omega\\,\\tau(\\lambda)\\,\\frac{\\lambda}{h\\,c}\\,d\\lambda$. It is also given that the photon arrival rate is proportional to $A\\,L\\,B$. Based on the fundamental principles of radiometry, the rate of photons incident on the detector pixel, $R_{ph}$, is given by the product of the scene radiance, the system etendue (product of aperture area $A$ and pixel solid angle $\\Omega$), and the integral of the spectral effects, which is encapsulated in the given parameter $B$. The precise relationship is:\n$$\nR_{ph} = A L B\n$$\nThe units of $L$ are energy per time per area per solid angle per wavelength, and the integral $B$ effectively converts this to a photon count rate when multiplied by $A$ and $L$.\n\nNext, we determine the rate at which signal electrons are generated in the detector pixel. The detector has a quantum efficiency $\\eta$, which is the probability that an incident photon generates a photoelectron. Assuming $\\eta$ is constant across the narrow spectral band, the rate of electron generation, $R_e$, is:\n$$\nR_e = \\eta R_{ph} = \\eta A L B\n$$\n\nFor an exposure time $t$, the mean number of signal electrons, $\\mu_e$, collected in a single pixel is the product of the electron generation rate and the time:\n$$\n\\mu_e(t) = R_e t = \\eta A L B t\n$$\nThis represents the \"signal\" component of the measurement.\n\nThe problem specifies that the camera operates in a photon shot noise limited regime, with negligible dark current and read noise. Shot noise arises from the quantum nature of light and the discrete arrival of photons. The number of detected photons (and thus generated electrons) in a given time interval follows a Poisson distribution. A key property of the Poisson distribution is that its variance is equal to its mean. Therefore, the variance of the number of collected electrons, $\\sigma_e^2$, is equal to the mean number of collected electrons, $\\mu_e(t)$.\n$$\n\\sigma_e^2(t) = \\mu_e(t)\n$$\nThe noise is the standard deviation of this distribution, which is the square root of the variance:\n$$\n\\sigma_e(t) = \\sqrt{\\sigma_e^2(t)} = \\sqrt{\\mu_e(t)}\n$$\n\nThe signal-to-noise ratio, $S$, is defined as the ratio of the mean detected signal electrons to the standard deviation of the noise.\n$$\nS = \\frac{\\mu_e(t)}{\\sigma_e(t)}\n$$\nSubstituting the relationship between the standard deviation and the mean for a shot-noise limited system:\n$$\nS = \\frac{\\mu_e(t)}{\\sqrt{\\mu_e(t)}} = \\sqrt{\\mu_e(t)}\n$$\nThis is a fundamental result for any shot-noise limited measurement: the signal-to-noise ratio is equal to the square root of the mean number of signal events (in this case, electrons).\n\nTo achieve a target SNR of $S$, the required mean number of electrons is therefore:\n$$\n\\mu_e = S^2\n$$\nThe problem provides the condition $S^2 \\le Q$, where $Q$ is the full-well capacity. This confirms that the number of electrons required to achieve the target SNR does not exceed the detector's capacity, meaning the measurement is possible within a single, non-saturating exposure.\n\nWe can now find the exposure time required to collect this number of electrons. Let this time be $t_{\\min}$. We set our expression for $\\mu_e(t)$ equal to $S^2$:\n$$\n\\mu_e(t_{\\min}) = \\eta A L B t_{\\min} = S^2\n$$\nSolving for the minimal exposure time, $t_{\\min}$, we get:\n$$\nt_{\\min} = \\frac{S^2}{\\eta A L B}\n$$\nThis expression provides the minimal time required to achieve the target signal-to-noise ratio $S$ in terms of the specified system parameters.",
            "answer": "$$\n\\boxed{\\frac{S^2}{\\eta A L B}}\n$$"
        },
        {
            "introduction": "Pushbroom imagers with Time-Delay Integration (TDI) offer enhanced sensitivity by electronically tracking the scene's motion across the focal plane. This exercise  delves into the critical engineering challenge of this architecture: synchronizing the detector's charge transfer rate with the image velocity. You will apply principles of geometric optics and kinematics to derive the precise timing required, providing a tangible understanding of how these sophisticated systems operate.",
            "id": "3821381",
            "problem": "A nadir-pointing pushbroom imaging system uses Time Delay Integration (TDI), where accumulated charge is synchronously shifted along the detector columns to follow the motion of the projected ground image on the focal plane. To avoid image smear and to maximize signal-to-noise ratio, the charge transfer between adjacent TDI stages must be synchronized so that the charge advances by exactly one pixel pitch during the same time that the image moves by one pixel pitch on the focal plane.\n\nAssume the optical system is well-approximated by a pinhole camera with focal length $f$, and the instantaneous projection of a ground point onto the focal plane lies at lateral coordinate $x$ described by the perspective relation $x = f \\tan(\\theta)$, where $\\theta$ is the instantaneous look angle measured from nadir in the along-track direction. The ground-track motion of the platform causes $\\theta$ to vary in time with instantaneous angular rate $v$ (in radians per second). The square pixels on the detector have pitch $p$ (in meters). Assume imaging near nadir such that the small-angle approximation is valid at the operating point, and take the instantaneous angular rate $v$ as constant over the time window of interest.\n\nStarting from first principles (geometric projection and kinematics), derive the required TDI stage period $\\tau$ that ensures the charge transfer speed exactly matches the image motion on the focal plane. Then, evaluate $\\tau$ for the following realistic parameters: $v = 0.012$ radians per second, $f = 0.35$ meters, and $p = 6.5 \\times 10^{-6}$ meters. Express the final timing in microseconds and round your numerical answer to four significant figures.",
            "solution": "The problem statement is assessed to be valid. It is scientifically grounded in the principles of geometric optics and kinematics, well-posed with sufficient information for a unique solution, and expressed in objective, formal language. All parameters are physically realistic for an Earth observation satellite.\n\nThe primary objective is to derive the required Time Delay Integration (TDI) stage period, denoted as $\\tau$. This period must ensure that the charge packet on the detector moves by one pixel pitch, $p$, in the exact same time that the image of a ground point moves by one pixel pitch on the focal plane.\n\nThe analysis begins with the provided geometric relationship between the along-track look angle $\\theta$ (measured from nadir) and the corresponding lateral position $x$ on the focal plane:\n$$x = f \\tan(\\theta)$$\nwhere $f$ is the focal length of the optical system.\n\nThe speed of the image on the focal plane, $v_{\\text{image}}$, is the time derivative of the position $x$:\n$$v_{\\text{image}} = \\frac{dx}{dt}$$\n\nTo evaluate this derivative, we apply the chain rule, differentiating $x$ with respect to time $t$:\n$$v_{\\text{image}} = \\frac{d}{dt}(f \\tan(\\theta)) = f \\frac{d}{dt}(\\tan(\\theta))$$\nUsing the chain rule for the term $\\tan(\\theta)$:\n$$v_{\\text{image}} = f \\left(\\frac{d(\\tan(\\theta))}{d\\theta}\\right) \\left(\\frac{d\\theta}{dt}\\right)$$\n\nThe derivative of $\\tan(\\theta)$ with respect to $\\theta$ is $\\sec^2(\\theta)$. The term $\\frac{d\\theta}{dt}$ represents the instantaneous angular rate of the look angle, which is given in the problem as $v$.\nSubstituting these into the expression for $v_{\\text{image}}$ yields:\n$$v_{\\text{image}} = f \\cdot \\sec^2(\\theta) \\cdot v$$\n\nThe problem states that imaging occurs near nadir, where the small-angle approximation is valid. For angles $\\theta$ approaching zero, $\\cos(\\theta) \\approx 1$. Since $\\sec(\\theta) = \\frac{1}{\\cos(\\theta)}$, it follows that $\\sec(\\theta) \\approx 1$ and $\\sec^2(\\theta) \\approx 1$. Applying this approximation simplifies the expression for the image speed:\n$$v_{\\text{image}} \\approx fv$$\n\nThe TDI synchronization condition requires that the image moves a distance equal to one pixel pitch, $p$, during one TDI stage period, $\\tau$. This can be expressed as:\n$$p = v_{\\text{image}} \\cdot \\tau$$\n\nSubstituting the approximated image speed into this condition gives:\n$$p \\approx (fv) \\tau$$\n\nSolving for the TDI stage period $\\tau$, we obtain the final symbolic expression:\n$$\\tau = \\frac{p}{fv}$$\n\nNow, we evaluate this expression using the provided numerical values:\n- Pixel pitch, $p = 6.5 \\times 10^{-6}$ meters\n- Focal length, $f = 0.35$ meters\n- Instantaneous angular rate, $v = 0.012$ radians per second\n\nSubstituting these values into the derived formula:\n$$\\tau = \\frac{6.5 \\times 10^{-6} \\, \\text{m}}{(0.35 \\, \\text{m}) \\cdot (0.012 \\, \\text{rad/s})}$$\n\nFirst, calculate the product in the denominator:\n$$f \\cdot v = 0.35 \\cdot 0.012 = 0.0042 \\, \\text{m/s}$$\n\nNow, compute the value of $\\tau$:\n$$\\tau = \\frac{6.5 \\times 10^{-6}}{0.0042} \\, \\text{s} \\approx 0.001547619 \\, \\text{s}$$\n\nThe problem requires the final answer to be expressed in microseconds ($\\mu\\text{s}$) and rounded to four significant figures. To convert from seconds to microseconds, we multiply by $10^6$:\n$$\\tau \\approx 0.001547619 \\times 10^6 \\, \\mu\\text{s}$$\n$$\\tau \\approx 1547.619 \\, \\mu\\text{s}$$\n\nRounding this result to four significant figures gives:\n$$\\tau \\approx 1548 \\, \\mu\\text{s}$$",
            "answer": "$$\\boxed{1548}$$"
        },
        {
            "introduction": "Choosing an imaging architecture often involves complex trade-offs between different performance metrics. This final practice  presents a scenario to directly compare the SNR performance of a framing camera and a pushbroom TDI imager under a common operational constraint: avoiding saturation when imaging bright targets. The derivation reveals a surprisingly elegant relationship, challenging you to think critically about how exposure control strategies can level the playing field between seemingly different systems.",
            "id": "3821361",
            "problem": "Consider a nadir-viewing Earth-observing instrument that must accommodate variability in at-sensor spectral radiance across a scene while avoiding detector saturation and preserving Signal-to-Noise Ratio (SNR). Let the scene radiance $L$ be modeled as a random variable with mean $\\mu_{L}$ and standard deviation $\\sigma_{L}$. For design control, define a bright quantile $L_{b} = \\mu_{L} + z\\,\\sigma_{L}$ and a dark quantile $L_{d} = \\mu_{L} - z\\,\\sigma_{L}$, where $z$ is a fixed positive constant and $L_{d} > 0$. The detector has well capacity $Q$ electrons, per-read Gaussian read noise with root-variance $\\sigma_{r}$ electrons, and it converts radiance to collected electrons through a radiometric constant $k$ with units electrons per (radiance-second). Assume Poisson statistics for photon arrival so that for an expected signal of $m$ electrons accumulated prior to a single read, the shot noise variance is $m$ and the total noise root-variance is $\\sqrt{m + \\sigma_{r}^{2}}$. Define Signal-to-Noise Ratio (SNR) as $m/\\sqrt{m + \\sigma_{r}^{2}}$. \n\nTwo imaging architectures are considered:\n- A framing camera that uses a single exposure time $t_{f}$ for the entire frame; the expected electrons from a pixel of radiance $L$ are $m = k\\,L\\,t_{f}$.\n- A pushbroom imager based on analog Time-Delay Integration (TDI) in a Charge-Coupled Device (CCD), with $N$ TDI stages and a fixed per-stage dwell time $t_{0}$ set by along-track motion and sampling. Charges are summed prior to a single read, so the expected electrons from a pixel of radiance $L$ are $m = k\\,L\\,N\\,t_{0}$ and the read noise is incurred once.\n\nExposure control strategies are as follows:\n- Framing: choose $t_{f}$ as large as possible while ensuring that the bright quantile does not saturate, i.e., $k\\,L_{b}\\,t_{f} \\le Q$. \n- Pushbroom: choose $N$ as large as possible while ensuring that the bright quantile does not saturate, i.e., $k\\,L_{b}\\,N\\,t_{0} \\le Q$.\n\nFor both architectures, these choices are intended to avoid saturation at the bright quantile while maximizing the SNR at the dark quantile. Using only the definitions above and the assumption of Poisson photon statistics with additive Gaussian read noise, derive the dark-quantile SNR under each architecture at its respective optimal control setting and compute the ratio\n$$\nR \\equiv \\frac{\\mathrm{SNR} \\text{ at } L_{d} \\text{ for framing at its optimal } t_{f}}{\\mathrm{SNR} \\text{ at } L_{d} \\text{ for pushbroom at its optimal } N}.\n$$\nExpress the final ratio as a single exact symbolic expression. No numerical rounding is required. The final ratio $R$ is dimensionless and should be reported as such.",
            "solution": "We begin from the core definitions. For a radiance $L$ and accumulated exposure resulting in an expected signal of $m$ electrons prior to a single read, the photon shot noise variance equals $m$ by Poisson statistics, and the read noise variance equals $\\sigma_{r}^{2}$. The Signal-to-Noise Ratio (SNR) by definition is the ratio of the mean to the root-variance of the total noise:\n$$\n\\mathrm{SNR}(m) = \\frac{m}{\\sqrt{m + \\sigma_{r}^{2}}}.\n$$\n\nWe next impose the saturation constraints implied by the well capacity $Q$ at the bright quantile $L_{b}$ under each architecture:\n\nFraming architecture:\n- The expected electrons at $L_{b}$ for exposure $t_{f}$ are $m_{b,\\mathrm{fr}} = k\\,L_{b}\\,t_{f}$.\n- Avoiding saturation requires $k\\,L_{b}\\,t_{f} \\le Q$.\n- To maximize SNR at the dark quantile subject to no saturation at $L_{b}$, the exposure time should be as large as allowed, hence the optimal choice is\n$$\nt_{f}^{\\star} = \\frac{Q}{k\\,L_{b}}.\n$$\n- Under this optimal exposure, the expected electrons for the dark quantile $L_{d}$ are\n$$\nm_{d,\\mathrm{fr}}^{\\star} = k\\,L_{d}\\,t_{f}^{\\star} = k\\,L_{d}\\,\\frac{Q}{k\\,L_{b}} = \\frac{Q\\,L_{d}}{L_{b}}.\n$$\n- The corresponding dark-quantile SNR for the framing architecture is\n$$\n\\mathrm{SNR}_{\\mathrm{fr}}^{\\star} = \\frac{m_{d,\\mathrm{fr}}^{\\star}}{\\sqrt{m_{d,\\mathrm{fr}}^{\\star} + \\sigma_{r}^{2}}} = \\frac{\\frac{Q\\,L_{d}}{L_{b}}}{\\sqrt{\\frac{Q\\,L_{d}}{L_{b}} + \\sigma_{r}^{2}}}.\n$$\n\nPushbroom architecture with analog Time-Delay Integration (TDI) in a Charge-Coupled Device (CCD):\n- The expected electrons at $L_{b}$ for $N$ stages with per-stage dwell time $t_{0}$ are $m_{b,\\mathrm{pb}} = k\\,L_{b}\\,N\\,t_{0}$.\n- Avoiding saturation requires $k\\,L_{b}\\,N\\,t_{0} \\le Q$.\n- To maximize SNR at the dark quantile subject to no saturation at $L_{b}$, select the largest feasible $N$:\n$$\nN^{\\star} = \\frac{Q}{k\\,L_{b}\\,t_{0}}.\n$$\n- Under this optimal $N$, the expected electrons for the dark quantile $L_{d}$ are\n$$\nm_{d,\\mathrm{pb}}^{\\star} = k\\,L_{d}\\,N^{\\star}\\,t_{0} = k\\,L_{d}\\,\\frac{Q}{k\\,L_{b}\\,t_{0}}\\,t_{0} = \\frac{Q\\,L_{d}}{L_{b}}.\n$$\n- Because the analog TDI sums charges prior to a single read, the read noise is incurred once with root-variance $\\sigma_{r}$. Thus, the dark-quantile SNR for the pushbroom architecture at $N^{\\star}$ is\n$$\n\\mathrm{SNR}_{\\mathrm{pb}}^{\\star} = \\frac{m_{d,\\mathrm{pb}}^{\\star}}{\\sqrt{m_{d,\\mathrm{pb}}^{\\star} + \\sigma_{r}^{2}}} = \\frac{\\frac{Q\\,L_{d}}{L_{b}}}{\\sqrt{\\frac{Q\\,L_{d}}{L_{b}} + \\sigma_{r}^{2}}}.\n$$\n\nWe now compute the requested ratio\n$$\nR \\equiv \\frac{\\mathrm{SNR} \\text{ at } L_{d} \\text{ for framing at } t_{f}^{\\star}}{\\mathrm{SNR} \\text{ at } L_{d} \\text{ for pushbroom at } N^{\\star}} = \\frac{\\mathrm{SNR}_{\\mathrm{fr}}^{\\star}}{\\mathrm{SNR}_{\\mathrm{pb}}^{\\star}}.\n$$\nSubstituting the expressions derived above for $\\mathrm{SNR}_{\\mathrm{fr}}^{\\star}$ and $\\mathrm{SNR}_{\\mathrm{pb}}^{\\star}$ shows that both SNRs are identical functions of $\\frac{Q\\,L_{d}}{L_{b}}$ and $\\sigma_{r}^{2}$:\n$$\n\\mathrm{SNR}_{\\mathrm{fr}}^{\\star} = \\mathrm{SNR}_{\\mathrm{pb}}^{\\star} = \\frac{\\frac{Q\\,L_{d}}{L_{b}}}{\\sqrt{\\frac{Q\\,L_{d}}{L_{b}} + \\sigma_{r}^{2}}}.\n$$\nTherefore,\n$$\nR = 1.\n$$\n\nThis result follows from first principles because in both architectures the optimal control strategy is to drive the bright-quantile exposure up to, but not exceeding, the well capacity $Q$, which forces the dark-quantile expected electrons to be the same, namely $m_{d}^{\\star} = \\frac{Q\\,L_{d}}{L_{b}}$, and both architectures incur a single read with root-variance $\\sigma_{r}$ under the stated analog TDI assumption. Hence the SNR functions coincide, yielding $R = 1$.",
            "answer": "$$\\boxed{1}$$"
        }
    ]
}