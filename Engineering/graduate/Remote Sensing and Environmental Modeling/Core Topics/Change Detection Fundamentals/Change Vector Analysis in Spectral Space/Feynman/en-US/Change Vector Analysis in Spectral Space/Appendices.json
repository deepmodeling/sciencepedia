{
    "hands_on_practices": [
        {
            "introduction": "The foundation of Change Vector Analysis (CVA) lies in representing spectral observations as points in a multidimensional Euclidean space. This allows change to be defined geometrically as the vector connecting these points across two different times. This fundamental exercise will guide you through calculating this change vector and its magnitude, and interpreting its components to understand the spectral nature of the change .",
            "id": "3800777",
            "problem": "A single Landsat-like surface reflectance pixel is observed at two dates, producing two spectral reflectance vectors in a four-dimensional spectral space. Assume the four bands are ordered Blue, Green, Red, and Near-Infrared (NIR). Let the first-epoch reflectance vector be $\\boldsymbol{\\rho}_{1} = (0.12, 0.18, 0.22, 0.08)$ and the second-epoch reflectance vector be $\\boldsymbol{\\rho}_{2} = (0.15, 0.17, 0.28, 0.09)$. \n\nStarting only from the definition of a spectral reflectance vector as a point in a Euclidean vector space and the Euclidean vector norm as the standard length measure in that space, derive an expression for the spectral change between the two epochs as a vector quantity in this four-dimensional spectral space. Then compute this change vector and its Euclidean length. Finally, determine whether the change is predominantly in the Red or Near-Infrared (NIR) bands by quantitatively justifying your conclusion from your derived expressions.\n\nInstructions:\n- Treat reflectance as dimensionless.\n- Express the Euclidean length of the change vector to four significant figures.\n- No other rounding is required.\n- Your final reported answer must contain the entries of the change vector followed by its Euclidean length, in that order.",
            "solution": "The principles of this problem are founded on the algebra of vectors in a Euclidean space. The spectral reflectance of a surface at a given pixel is represented as a vector in an $n$-dimensional space, where $n$ is the number of spectral bands. Each component of the vector corresponds to the reflectance value in a specific band.\n\nThe problem defines a four-dimensional spectral space corresponding to the Blue, Green, Red, and Near-Infrared (NIR) bands. The state of a single pixel at two different times, epoch $1$ and epoch $2$, is given by two spectral reflectance vectors, $\\boldsymbol{\\rho}_{1}$ and $\\boldsymbol{\\rho}_{2}$, respectively.\n\nThe given vectors are:\n$$\n\\boldsymbol{\\rho}_{1} = \\begin{pmatrix} 0.12 \\\\ 0.18 \\\\ 0.22 \\\\ 0.08 \\end{pmatrix}\n$$\nand\n$$\n\\boldsymbol{\\rho}_{2} = \\begin{pmatrix} 0.15 \\\\ 0.17 \\\\ 0.28 \\\\ 0.09 \\end{pmatrix}\n$$\nwhere the components correspond to the Blue, Green, Red, and NIR bands in that order.\n\nThe spectral change between these two epochs is a vector quantity that describes the displacement from the point $\\boldsymbol{\\rho}_{1}$ to the point $\\boldsymbol{\\rho}_{2}$ in the four-dimensional spectral space. In any vector space, the change from one vector state to another is defined by their vector difference. Therefore, the spectral change vector, which we will denote as $\\Delta\\boldsymbol{\\rho}$, is derived by subtracting the initial-state vector from the final-state vector:\n$$\n\\Delta\\boldsymbol{\\rho} = \\boldsymbol{\\rho}_{2} - \\boldsymbol{\\rho}_{1}\n$$\nThis expression represents the change as a vector quantity, as required.\n\nWe can compute the components of this change vector by performing element-wise subtraction:\n$$\n\\Delta\\boldsymbol{\\rho} = \\begin{pmatrix} 0.15 - 0.12 \\\\ 0.17 - 0.18 \\\\ 0.28 - 0.22 \\\\ 0.09 - 0.08 \\end{pmatrix} = \\begin{pmatrix} 0.03 \\\\ -0.01 \\\\ 0.06 \\\\ 0.01 \\end{pmatrix}\n$$\nSo, the computed spectral change vector is $\\Delta\\boldsymbol{\\rho} = (0.03, -0.01, 0.06, 0.01)$. Each component represents the change in reflectance for the corresponding spectral band. For instance, the reflectance in the Red band increased by $0.06$, while the reflectance in the Green band decreased by $0.01$.\n\nThe problem then requires the computation of the Euclidean length, or magnitude, of this change vector. The Euclidean length (or norm) of a vector $\\mathbf{v} = (v_1, v_2, \\dots, v_n)$ in an $n$-dimensional space is given by the formula:\n$$\n\\|\\mathbf{v}\\| = \\sqrt{\\sum_{i=1}^{n} v_i^2}\n$$\nApplying this definition to our four-dimensional change vector $\\Delta\\boldsymbol{\\rho} = (\\Delta\\rho_{\\text{Blue}}, \\Delta\\rho_{\\text{Green}}, \\Delta\\rho_{\\text{Red}}, \\Delta\\rho_{\\text{NIR}})$, its magnitude is:\n$$\n\\|\\Delta\\boldsymbol{\\rho}\\| = \\sqrt{(\\Delta\\rho_{\\text{Blue}})^2 + (\\Delta\\rho_{\\text{Green}})^2 + (\\Delta\\rho_{\\text{Red}})^2 + (\\Delta\\rho_{\\text{NIR}})^2}\n$$\nSubstituting the computed component values:\n$$\n\\|\\Delta\\boldsymbol{\\rho}\\| = \\sqrt{(0.03)^2 + (-0.01)^2 + (0.06)^2 + (0.01)^2}\n$$\n$$\n\\|\\Delta\\boldsymbol{\\rho}\\| = \\sqrt{0.0009 + 0.0001 + 0.0036 + 0.0001}\n$$\n$$\n\\|\\Delta\\boldsymbol{\\rho}\\| = \\sqrt{0.0047}\n$$\nThe problem requires this value to be expressed to four significant figures.\n$$\n\\|\\Delta\\boldsymbol{\\rho}\\| \\approx 0.0685565...\n$$\nRounding to four significant figures, we get $0.06856$. This scalar value represents the total magnitude of spectral change between the two epochs.\n\nFinally, we must determine whether the change is predominantly in the Red or Near-Infrared (NIR) bands. This is quantitatively justified by comparing the magnitudes of the components of the change vector $\\Delta\\boldsymbol{\\rho}$ corresponding to these two bands. The change vector components are:\n- Change in Red band: $\\Delta\\rho_{\\text{Red}} = 0.06$\n- Change in NIR band: $\\Delta\\rho_{\\text{NIR}} = 0.01$\n\nTo assess the contribution of each band to the overall change, we compare the absolute values of these components:\n$$\n|\\Delta\\rho_{\\text{Red}}| = |0.06| = 0.06\n$$\n$$\n|\\Delta\\rho_{\\text{NIR}}| = |0.01| = 0.01\n$$\nSince $|\\Delta\\rho_{\\text{Red}}| > |\\Delta\\rho_{\\text{NIR}}|$, specifically $0.06 > 0.01$, the change in reflectance in the Red band is of a greater magnitude than the change in the NIR band. The change in the Red band is six times larger than the change in the NIR band. This provides a clear quantitative justification that the spectral change is predominantly in the Red band. A further justification can be made by examining each component's contribution to the squared magnitude of the change vector. The contribution from the Red band is $(\\Delta\\rho_{\\text{Red}})^2 = 0.0036$, while the contribution from the NIR band is $(\\Delta\\rho_{\\text{NIR}})^2 = 0.0001$. The Red band's contribution is $36$ times larger than the NIR band's contribution to the total squared change, reinforcing the conclusion.\n\nThe final reportable answer consists of the components of the change vector followed by its Euclidean length.\nChange vector components: $(0.03, -0.01, 0.06, 0.01)$\nEuclidean length: $0.06856$",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.03 & -0.01 & 0.06 & 0.01 & 0.06856\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "While the magnitude of a change vector quantifies the intensity of change, its direction reveals the *type* of change that has occurred. By comparing the angle of an observed change vector to that of a known \"prototype\" vector (e.g., one representing vegetation greening), we can perform a thematic classification. This practice demonstrates this powerful concept, moving from simple change detection to more sophisticated change characterization .",
            "id": "3800784",
            "problem": "A multispectral change detection study uses Change Vector Analysis (CVA) in spectral feature space to evaluate whether a pixel’s multi-temporal change aligns with a vegetation greening prototype. Consider a three-dimensional feature space constructed from orthonormalized, atmospherically corrected and seasonally standardized components derived from surface reflectance and vegetation indices, where each axis represents an independent greenness-sensitive component. Let the pixel’s change vector be $c = (0.01, 0.03, 0.02)$ and the vegetation greening prototype (estimated from a training set of known greening events) be $e = (0.05, 0.15, 0.10)$. Assume this feature space is endowed with the standard Euclidean inner product consistent with radiometrically calibrated and orthonormalized features. Starting from the definition of angle in an inner product space, determine the angle $\\theta$ between the vectors $c$ and $e$ and use this angle to assess whether the pixel’s change direction aligns with vegetation greening. Express the angle in degrees and round your numerical answer to four significant figures. For the alignment assessment, use the criterion that an angle strictly less than $90$ degrees indicates directional alignment with the prototype in change vector analysis.",
            "solution": "The problem is valid as it is scientifically grounded in the principles of Change Vector Analysis (CVA) within remote sensing, is mathematically well-posed, and uses objective, unambiguous language.\n\nThe objective is to determine the angle $\\theta$ between a pixel's change vector, $c$, and a vegetation greening prototype vector, $e$, in a three-dimensional Euclidean feature space. The given vectors are $c = (0.01, 0.03, 0.02)$ and $e = (0.05, 0.15, 0.10)$. The feature space is endowed with the standard Euclidean inner product.\n\nThe angle $\\theta$ between two non-zero vectors in an inner product space is defined by the relation:\n$$ c \\cdot e = \\|c\\| \\|e\\| \\cos(\\theta) $$\nwhere $c \\cdot e$ is the dot product (or inner product) of the vectors, and $\\|c\\|$ and $\\|e\\|$ are their respective magnitudes (or norms). This formula can be rearranged to solve for $\\theta$:\n$$ \\theta = \\arccos\\left(\\frac{c \\cdot e}{\\|c\\| \\|e\\|}\\right) $$\nFirst, we analyze the provided vectors. We can observe by inspection that the prototype vector $e$ is a scalar multiple of the change vector $c$:\n$$ e = (0.05, 0.15, 0.10) = 5 \\times (0.01, 0.03, 0.02) = 5c $$\nSince one vector is a positive scalar multiple of the other, the vectors are collinear and point in the same direction. Consequently, the angle between them must be exactly $0$ degrees. We will proceed with the full calculation to formally verify this conclusion.\n\nFirst, we compute the dot product, $c \\cdot e$:\n$$ c \\cdot e = (0.01)(0.05) + (0.03)(0.15) + (0.02)(0.10) $$\n$$ c \\cdot e = 0.0005 + 0.0045 + 0.0020 = 0.007 $$\nNext, we compute the magnitudes of the vectors $c$ and $e$. The magnitude of a vector $v=(v_1, v_2, v_3)$ is given by $\\|v\\| = \\sqrt{v_1^2 + v_2^2 + v_3^2}$.\n$$ \\|c\\| = \\sqrt{0.01^2 + 0.03^2 + 0.02^2} = \\sqrt{0.0001 + 0.0009 + 0.0004} = \\sqrt{0.0014} $$\n$$ \\|e\\| = \\sqrt{0.05^2 + 0.15^2 + 0.10^2} = \\sqrt{0.0025 + 0.0225 + 0.0100} = \\sqrt{0.0350} $$\nNow, we compute the product of the magnitudes:\n$$ \\|c\\| \\|e\\| = \\sqrt{0.0014} \\times \\sqrt{0.0350} = \\sqrt{0.0014 \\times 0.0350} = \\sqrt{0.000049} = 0.007 $$\nWe substitute the dot product and the product of the magnitudes into the cosine formula:\n$$ \\cos(\\theta) = \\frac{c \\cdot e}{\\|c\\| \\|e\\|} = \\frac{0.007}{0.007} = 1 $$\nThe angle $\\theta$ is found by taking the arccosine of this result:\n$$ \\theta = \\arccos(1) = 0 \\text{ radians} $$\nThe problem requires the angle to be expressed in degrees. The conversion from radians to degrees is given by multiplying by $\\frac{180^\\circ}{\\pi}$:\n$$ \\theta = 0 \\times \\frac{180^\\circ}{\\pi} = 0^\\circ $$\nThe calculated angle is exactly $0^\\circ$. The instruction to round the numerical answer to four significant figures is not strictly applicable, as the result is an exact integer. The concept of significant figures is used to convey the precision of a measurement or a calculation derived from measurements, and it is ambiguous for an exact integer like $0$. The most accurate and scientifically appropriate representation is the exact value itself.\n\nFinally, we assess the alignment based on the given criterion: an angle strictly less than $90^\\circ$ indicates directional alignment with the prototype. Since our calculated angle is $\\theta = 0^\\circ$, and it is true that $0^\\circ < 90^\\circ$, we conclude that the pixel’s change direction exhibits a perfect alignment with the vegetation greening prototype.",
            "answer": "$$ \\boxed{0} $$"
        },
        {
            "introduction": "A critical task in operational change detection is distinguishing significant environmental changes from background noise and measurement error. This challenge is formally addressed using statistical hypothesis testing, where the change vector's magnitude is evaluated against a statistical model of no-change. This problem will guide you through setting a decision threshold based on the chi-squared distribution, a standard method for controlling the false alarm rate in CVA and generating statistically robust results .",
            "id": "3800801",
            "problem": "A supervised change detection workflow based on Change Vector Analysis (CVA) is applied to two atmospherically corrected, co-registered multispectral satellite images of the same scene acquired at two times. Each pixel is represented by a spectral vector in $d=6$ bands, and for a given pixel the inter-temporal spectral difference vector is $\\Delta \\mathbf{x} \\in \\mathbb{R}^{6}$. A background training set of pixels confidently labeled as no-change is used to estimate a positive-definite spectral covariance matrix $\\boldsymbol{\\Sigma} \\in \\mathbb{R}^{6 \\times 6}$ for $\\Delta \\mathbf{x}$ under no change. Assume that, under the no-change null hypothesis, the difference vectors are distributed as a multivariate normal with zero mean and covariance $\\boldsymbol{\\Sigma}$.\n\nA scalar test statistic $T$ is formed for each pixel as the squared Mahalanobis norm of $\\Delta \\mathbf{x}$ with respect to $\\boldsymbol{\\Sigma}$, and a Neyman–Pearson test is used that rejects the no-change hypothesis for sufficiently large values of $T$. The desired per-pixel significance level is $\\alpha = 0.01$.\n\nTasks:\n- From the assumptions, derive the null distribution of $T$ and the definition of the decision threshold $\\tau_{\\alpha}$ implied by the requirement that the false alarm probability equals $\\alpha$.\n- Compute the numerical value of the threshold $\\tau_{\\alpha}$ for $d=6$ and $\\alpha=0.01$.\n- For a particular pixel with observed $T=15.7$, decide whether change is declared under the test.\n- As part of your derivation, explain what the choice $\\alpha=0.01$ implies about the false alarm behavior at the per-pixel level.\n\nAnswer specification:\n- Report your final answer as a row vector $\\begin{pmatrix} \\tau_{\\alpha} & \\text{decision} \\end{pmatrix}$, where the decision is $1$ if change is declared and $0$ otherwise.\n- Round $\\tau_{\\alpha}$ to four significant figures.\n- The threshold and decision are dimensionless quantities; no units are required.",
            "solution": "The problem as stated is scientifically sound and well-posed, providing all necessary information for a complete statistical analysis. We proceed with the solution.\n\nThe problem describes a hypothesis test for detecting change in a pixel between two points in time. Let the spectral vector for a pixel at time $t_1$ be $\\mathbf{x}_1 \\in \\mathbb{R}^d$ and at time $t_2$ be $\\mathbf{x}_2 \\in \\mathbb{R}^d$, where $d=6$ is the number of spectral bands. The inter-temporal difference vector is defined as $\\Delta \\mathbf{x} = \\mathbf{x}_2 - \\mathbf{x}_1$.\n\nThe null hypothesis, $H_0$, is that no change has occurred. Under this hypothesis, the difference vectors for a population of no-change pixels are assumed to follow a multivariate normal distribution with a mean of zero and a covariance matrix $\\boldsymbol{\\Sigma}$. Mathematically, this is expressed as:\n$$\nH_0: \\Delta \\mathbf{x} \\sim \\mathcal{N}(\\mathbf{0}, \\boldsymbol{\\Sigma})\n$$\nThe covariance matrix $\\boldsymbol{\\Sigma} \\in \\mathbb{R}^{6 \\times 6}$ is given as positive-definite, which ensures it is invertible and that the probability distribution is well-defined.\n\nThe test statistic $T$ for a given pixel's difference vector $\\Delta \\mathbf{x}$ is defined as its squared Mahalanobis norm with respect to the covariance matrix $\\boldsymbol{\\Sigma}$:\n$$\nT = (\\Delta \\mathbf{x} - \\mathbf{0})^T \\boldsymbol{\\Sigma}^{-1} (\\Delta \\mathbf{x} - \\mathbf{0}) = \\Delta \\mathbf{x}^T \\boldsymbol{\\Sigma}^{-1} \\Delta \\mathbf{x}\n$$\nThis is a quadratic form involving a normally distributed vector.\n\nFirst Task: Derive the null distribution of $T$ and define the decision threshold $\\tau_{\\alpha}$.\nA fundamental theorem of multivariate statistics states that if a $d$-dimensional random vector $\\mathbf{z}$ follows a multivariate normal distribution $\\mathcal{N}(\\boldsymbol{\\mu}, \\boldsymbol{\\Sigma})$, then the quadratic form $(\\mathbf{z} - \\boldsymbol{\\mu})^T \\boldsymbol{\\Sigma}^{-1} (\\mathbf{z} - \\boldsymbol{\\mu})$ follows a chi-squared distribution with $d$ degrees of freedom, denoted as $\\chi^2_d$.\n\nIn our case, under the null hypothesis $H_0$, the vector $\\Delta \\mathbf{x}$ is analogous to $\\mathbf{z}$, its mean $\\boldsymbol{\\mu}$ is the zero vector $\\mathbf{0}$, and its dimensionality is $d=6$. Therefore, the test statistic $T$ follows a chi-squared distribution with $d=6$ degrees of freedom:\n$$\nT | H_0 \\sim \\chi^2_6\n$$\nThis is the null distribution of the test statistic $T$.\n\nThe test is a one-tailed test that rejects $H_0$ for sufficiently large values of $T$. A large value of $T$ indicates that the observed difference vector $\\Delta \\mathbf{x}$ is far from the expected mean of zero, considering the correlation structure of the spectral bands encoded in $\\boldsymbol{\\Sigma}$. The region of rejection is $T > \\tau_{\\alpha}$, where $\\tau_{\\alpha}$ is the decision threshold.\n\nThe significance level, $\\alpha$, is the probability of a Type I error (a false alarm), which is the probability of rejecting $H_0$ when it is true. We are given $\\alpha = 0.01$. The threshold $\\tau_{\\alpha}$ is defined such that this probability is met:\n$$\nP(T > \\tau_{\\alpha} | H_0) = \\alpha\n$$\nThis means that $\\tau_{\\alpha}$ is the upper-tail critical value of the $\\chi^2_6$ distribution. It is the value that leaves an area (probability) of $\\alpha$ to its right under the probability density function of the $\\chi^2_6$ distribution. Equivalently, it is the $(1-\\alpha)$-quantile of the distribution. If $F_{\\chi^2_6}(t)$ is the cumulative distribution function (CDF) of the $\\chi^2_6$ distribution, then $F_{\\chi^2_6}(\\tau_{\\alpha}) = 1 - \\alpha$, and thus:\n$$\n\\tau_{\\alpha} = F_{\\chi^2_6}^{-1}(1-\\alpha)\n$$\n\nFourth Task (Explanation): The choice $\\alpha=0.01$ implies that for any pixel that has not actually undergone change, there is a $1\\%$ probability that random fluctuations in its spectral signature will be large enough for the test to classify it incorrectly as \"changed\". If this test were applied to a large region containing $N$ no-change pixels, one would expect approximately $0.01 \\times N$ of them to be flagged as false alarms.\n\nSecond Task: Compute the numerical value of the threshold $\\tau_{\\alpha}$ for $d=6$ and $\\alpha=0.01$.\nWe need to find the value $\\tau_{0.01}$ such that $P(T > \\tau_{0.01}) = 0.01$ for $T \\sim \\chi^2_6$. This is the $99^{th}$ percentile of the chi-squared distribution with $6$ degrees of freedom. Using standard statistical tables or computational software, we find this value.\n$$\n\\tau_{0.01} = F_{\\chi^2_6}^{-1}(1 - 0.01) = F_{\\chi^2_6}^{-1}(0.99) \\approx 16.81189\n$$\nRounding to four significant figures as required, the threshold is:\n$$\n\\tau_{0.01} \\approx 16.81\n$$\n\nThird Task: For a pixel with observed $T=15.7$, decide if change is declared.\nThe decision rule is:\n- If $T_{obs} > \\tau_{0.01}$, reject $H_0$ and declare change.\n- If $T_{obs} \\le \\tau_{0.01}$, do not reject $H_0$ and declare no change.\n\nThe observed value is $T_{obs} = 15.7$. We compare this to the threshold:\n$$\n15.7 \\le 16.81\n$$\nSince the observed test statistic $T_{obs}$ does not exceed the critical threshold $\\tau_{0.01}$, we do not reject the null hypothesis. The decision is \"no change\".\nAccording to the answer specification, \"no change\" is coded as $0$.\n\nFinal Answer Assembly:\nThe final answer is a row vector containing the threshold and the decision.\n- Threshold $\\tau_{\\alpha} \\approx 16.81$\n- Decision: no change, coded as $0$.\nThe vector is $\\begin{pmatrix} 16.81 & 0 \\end{pmatrix}$.",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 16.81 & 0 \\end{pmatrix}}\n$$"
        }
    ]
}