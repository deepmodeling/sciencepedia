{
    "hands_on_practices": [
        {
            "introduction": "遥感指数的威力在于其能够将复杂的光谱信息提炼成一个单一且有意义的数值。本实践将带您深入指数构建的核心过程。您将从代表不同地物类型的假设但物理上合理的反射率数据出发，一步步构建基于指数的建成区指数（IBI）。通过该练习，您将理解IBI是如何通过组合多个基础指数——每个指数分别用于捕捉植被、水体等特定地物特征——来实现对建成区信号的增强并同时抑制其他地物类型的，从而对IBI的设计原理获得一个具体而深刻的认识 。",
            "id": "3800024",
            "problem": "一个类似于 Landsat 8–9 Operational Land Imager (OLI) 的多光谱传感器记录了绿光、红光、近红外和短波红外波段的大气层顶反射率，分别表示为 $G$、$R$、$N$ 和 $S$。考虑三个分别代表植被、水体和建筑区表面的光谱均匀像元，其物理上合理的反射率如下：\n- 植被: $G = 0.09$, $R = 0.04$, $N = 0.52$, $S = 0.19$。\n- 水体: $G = 0.03$, $R = 0.01$, $N = 0.01$, $S = 0.005$。\n- 建筑区: $G = 0.15$, $R = 0.13$, $N = 0.24$, $S = 0.31$。\n\n采用两个正值波段反射率 $X$ 和 $Y$ 的归一化差异变换作为基本构建模块，对于 $X>0, Y>0$，该变换定义为将辐射比率映射为有界、保极性对比度的变换：\n$$\\mathrm{ND}(X,Y) \\equiv \\frac{X - Y}{X + Y}.$$\n\n使用以下广泛观察到的光谱排序事实作为唯一的物理先验：相对于其他地物覆盖类型，水体在短波红外波段较暗，在绿光波段相对较亮；健康植被在红光波段较暗，在近红外波段较亮；建筑区在短波红外波段比近红外波段相对较亮。仅使用这些先验和归一化差异变换，完成以下所有任务：\n\n- 在红光-近红外双波段公式中，通过土壤调节参数 $L = 0.5$ 构建一个减少土壤背景影响的植被代理指标。\n- 使用绿光-短波红外归一化差异构建一个水体代理指标，其极性应使水体产生正值。\n- 使用短波红外-近红外归一化差异构建一个建筑区代理指标，其极性应使建筑区产生正值。\n- 根据这三个代理指标，通过从建筑区代理指标中减去植被和水体代理指标的算术平均值，合成一个能够线性增强建筑区并抑制植被和水体的单一建筑区指数。将此合成指数表示为 $\\mathrm{IBI}$。\n\n使用上述反射率计算这三个像元中每一个的 $\\mathrm{IBI}$ 值，然后通过以下单一数值对比度来量化相对于建筑区对植被和水体的抑制效果：\n$$C \\equiv \\mathrm{IBI}_{\\text{built}} - \\frac{\\mathrm{IBI}_{\\text{veg}} + \\mathrm{IBI}_{\\text{water}}}{2}.$$\n\n只报告 $C$ 的值，四舍五入到四位有效数字。不需要单位，因为根据定义，所有指数都是无量纲的。",
            "solution": "问题陈述已经过验证，并被确定为是合理的。它在科学上基于遥感原理，问题设定良好，包含所有必要数据和明确目标，并以客观、正式的语言表述。因此，我们可以开始解题。\n\n问题要求基于一个合成的建筑区指数 $\\mathrm{IBI}$ 来计算对比度度量 $C$。这包括几个步骤：为植被、水体和建筑区地物覆盖构建三个代理指标；从这些代理指标合成 $\\mathrm{IBI}$；为三个代表性像元计算 $\\mathrm{IBI}$；最后，计算对比度 $C$。\n\n首先，我们根据问题描述和提供的归一化差异变换 $\\mathrm{ND}(X,Y) \\equiv \\frac{X - Y}{X + Y}$ 来定义三个代理指标。传感器波段为绿光 ($G$)、红光 ($R$)、近红外 ($N$) 和短波红外 ($S$)。\n\n1.  **植被代理指标 ($P_V$)**：问题指定了“在红光-近红外双波段公式中，通过土壤调节参数 $L = 0.5$ 构建一个减少土壤背景影响的植被代理指标”。这是对土壤调节植被指数 (SAVI) 的精确描述。植被的物理先验是其在近红外 ($N$) 波段的高反射率和在红光 ($R$) 波段的低反射率。SAVI 公式是基本归一化差异概念的一个修正，其形式如下：\n    $$P_V \\equiv \\frac{N - R}{N + R + L} (1 + L)$$\n    根据给定的土壤调节参数 $L = 0.5$，公式变为：\n    $$P_V = \\frac{N - R}{N + R + 0.5} (1.5)$$\n\n2.  **水体代理指标 ($P_W$)**：这被定义为“使用绿光-短波红外归一化差异构建一个水体代理指标，其极性应使水体产生正值”。水体的物理先验是它在绿光 ($G$) 波段相对较亮，在短波红外 ($S$) 波段较暗，这意味着 $G > S$。为确保水体的值为正，分子必须是 $G-S$。因此，水体代理指标是：\n    $$P_W \\equiv \\mathrm{ND}(G, S) = \\frac{G - S}{G + S}$$\n\n3.  **建筑区代理指标 ($P_B$)**：这被定义为“使用短波红外-近红外归一化差异构建一个建筑区代理指标，其极性应使建筑区产生正值”。建筑区的物理先验是它们在短波红外 ($S$) 波段比在近红外 ($N$) 波段相对较亮，这意味着 $S > N$。为确保建筑区的值为正，分子必须是 $S-N$。这对应于标准的归一化差异建筑指数 (NDBI)：\n    $$P_B \\equiv \\mathrm{ND}(S, N) = \\frac{S - N}{S + N}$$\n\n接下来，我们按照指示定义合成的基于指数的建筑区指数 ($\\mathrm{IBI}$)，即从建筑区代理指标中减去植被和水体代理指标的算术平均值：\n$$\\mathrm{IBI} = P_B - \\frac{P_V + P_W}{2}$$\n\n现在，我们为给定的三种像元类型计算这些指数的值：\n- 植被 (veg): $G = 0.09$, $R = 0.04$, $N = 0.52$, $S = 0.19$。\n- 水体 (water): $G = 0.03$, $R = 0.01$, $N = 0.01$, $S = 0.005$。\n- 建筑区 (built): $G = 0.15$, $R = 0.13$, $N = 0.24$, $S = 0.31$。\n\n**对于植被像元 ($\\text{veg}$):**\n$P_{V, \\text{veg}} = \\frac{0.52 - 0.04}{0.52 + 0.04 + 0.5} (1.5) = \\frac{0.48}{1.06} (1.5) = \\frac{0.72}{1.06} = \\frac{36}{53} \\approx 0.679245$\n$P_{W, \\text{veg}} = \\frac{0.09 - 0.19}{0.09 + 0.19} = \\frac{-0.10}{0.28} = -\\frac{5}{14} \\approx -0.357143$\n$P_{B, \\text{veg}} = \\frac{0.19 - 0.52}{0.19 + 0.52} = \\frac{-0.33}{0.71} = -\\frac{33}{71} \\approx -0.464789$\n$\\mathrm{IBI}_{\\text{veg}} = P_{B, \\text{veg}} - \\frac{P_{V, \\text{veg}} + P_{W, \\text{veg}}}{2} \\approx -0.464789 - \\frac{0.679245 + (-0.357143)}{2} = -0.464789 - \\frac{0.322102}{2} = -0.464789 - 0.161051 = -0.625840$\n\n**对于水体像元 ($\\text{water}$):**\n$P_{V, \\text{water}} = \\frac{0.01 - 0.01}{0.01 + 0.01 + 0.5} (1.5) = \\frac{0}{0.52} (1.5) = 0$\n$P_{W, \\text{water}} = \\frac{0.03 - 0.005}{0.03 + 0.005} = \\frac{0.025}{0.035} = \\frac{5}{7} \\approx 0.714286$\n$P_{B, \\text{water}} = \\frac{0.005 - 0.01}{0.005 + 0.01} = \\frac{-0.005}{0.015} = -\\frac{1}{3} \\approx -0.333333$\n$\\mathrm{IBI}_{\\text{water}} = P_{B, \\text{water}} - \\frac{P_{V, \\text{water}} + P_{W, \\text{water}}}{2} \\approx -0.333333 - \\frac{0 + 0.714286}{2} = -0.333333 - 0.357143 = -0.690476$\n\n**对于建筑区像元 ($\\text{built}$):**\n$P_{V, \\text{built}} = \\frac{0.24 - 0.13}{0.24 + 0.13 + 0.5} (1.5) = \\frac{0.11}{0.87} (1.5) = \\frac{0.165}{0.87} = \\frac{11}{58} \\approx 0.189655$\n$P_{W, \\text{built}} = \\frac{0.15 - 0.31}{0.15 + 0.31} = \\frac{-0.16}{0.46} = -\\frac{8}{23} \\approx -0.347826$\n$P_{B, \\text{built}} = \\frac{0.31 - 0.24}{0.31 + 0.24} = \\frac{0.07}{0.55} = \\frac{7}{55} \\approx 0.127273$\n$\\mathrm{IBI}_{\\text{built}} = P_{B, \\text{built}} - \\frac{P_{V, \\text{built}} + P_{W, \\text{built}}}{2} \\approx 0.127273 - \\frac{0.189655 + (-0.347826)}{2} = 0.127273 - \\frac{-0.158171}{2} = 0.127273 - (-0.0790855) = 0.2063585$\n\n最后，我们计算对比度度量 $C$：\n$$C \\equiv \\mathrm{IBI}_{\\text{built}} - \\frac{\\mathrm{IBI}_{\\text{veg}} + \\mathrm{IBI}_{\\text{water}}}{2}$$\n代入计算出的 $\\mathrm{IBI}$ 值：\n$$C \\approx 0.2063585 - \\frac{-0.625840 + (-0.690476)}{2}$$\n$$C \\approx 0.2063585 - \\frac{-1.316316}{2}$$\n$$C \\approx 0.2063585 - (-0.658158)$$\n$$C \\approx 0.2063585 + 0.658158 = 0.8645165$$\n\n问题要求将 $C$ 的值四舍五入到四位有效数字。\n$$C \\approx 0.8645$$",
            "answer": "$$\\boxed{0.8645}$$"
        },
        {
            "introduction": "计算指数值只是第一步，下一个关键任务是利用它进行分类。本实践旨在解决如何将连续的指数值转换为离散的类别标签（例如，“建成区”或“裸地”）这一挑战。您将应用作为统计模式识别基石的贝叶斯决策理论，在考虑不同地物类型先验概率不相等的情况下，推导出一个能够最小化错分风险的最优决策阈值。该练习将引导您超越简单的经验阈值法，掌握一种严谨的、基于模型的分类方法 。",
            "id": "3800039",
            "problem": "一位遥感分析师正在设计一个二元分类器，用于利用归一化差异建成区指数（NDBI）区分建成区地表和裸地。NDBI 是根据近红外（NIR）和短波红外（SWIR）反射率定义的一个指数值统计量。在一个干旱的城市边缘区，探索性分析和质量控制的定标表明，属于建成区类别和裸地类别的像元的 NDBI 值，可以很好地用一维高斯类条件密度进行建模。由于传感器噪声和场景内不变的大气条件，这两个类别具有共同的方差。基于指数的建成区指数（IBI）也可用，但为了确保与历史基线的可比性，对于此场景的决策将仅基于 NDBI。\n\n令 $X$ 表示一个随机选择的像元的 NDBI 值。该分析师对两个类别下的 $X$ 建模如下：建成区类别 $\\omega_{b}$，其中 $X \\sim \\mathcal{N}(\\mu_{b}, \\sigma^{2})$；裸地类别 $\\omega_{r}$，其中 $X \\sim \\mathcal{N}(\\mu_{r}, \\sigma^{2})$。场景特定的估计值为 $\\mu_{b} = 0.30$，$\\mu_{r} = 0.05$，以及 $\\sigma = 0.10$。对该区域的环境建模表明，两个类别的先验概率不相等：$\\pi_{b} = P(\\omega_{b}) = 0.40$ 和 $\\pi_{r} = P(\\omega_{r}) = 0.60$。假设采用 $0$-$1$ 损失结构（即错分代价相等），并且决策规则为阈值类型：如果 $X \\geq \\tau$ 则判定为建成区，否则判定为裸地。\n\n从最小化期望错分风险的基本贝叶斯决策原理出发，推导最优决策规则，并计算在给定假设下最小化期望风险的贝叶斯最优阈值 $\\tau$。提供 $\\tau$ 的最终数值。将最终阈值四舍五入至五位有效数字。",
            "solution": "该分析师旨在寻找一个二元分类问题的最优决策阈值 $\\tau$。推导的基础是贝叶斯决策规则，该规则旨在最小化总错分概率（也称为在 $0$-$1$ 损失函数下的期望风险）。该规则规定，对于随机变量 $X$ 的一个观测值 $x$，我们应该选择具有最高后验概率的类别。\n\n两个类别分别是建成区类别 $\\omega_{b}$ 和裸地类别 $\\omega_{r}$。根据贝叶斯定理，后验概率由下式给出：\n$$\nP(\\omega_{b} | x) = \\frac{p(x | \\omega_{b}) P(\\omega_{b})}{p(x)}\n$$\n$$\nP(\\omega_{r} | x) = \\frac{p(x | \\omega_{r}) P(\\omega_{r})}{p(x)}\n$$\n其中 $p(x | \\omega_{j})$ 是类别 $\\omega_{j}$ 的类条件概率密度函数（PDF），$P(\\omega_{j})$ 是类别 $\\omega_{j}$ 的先验概率（记作 $\\pi_{j}$），而 $p(x)$ 是证据。\n\n贝叶斯决策规则是：如果 $P(\\omega_{b} | x) > P(\\omega_{r} | x)$，则将像元分类为建成区；如果 $P(\\omega_{b} | x)  P(\\omega_{r} | x)$，则分类为裸地。定义阈值 $\\tau$ 的决策边界出现在后验概率相等的地方：$P(\\omega_{b} | \\tau) = P(\\omega_{r} | \\tau)$。\n\n这个等式可以表示为：\n$$\n\\frac{p(\\tau | \\omega_{b}) P(\\omega_{b})}{p(\\tau)} = \\frac{p(\\tau | \\omega_{r}) P(\\omega_{r})}{p(\\tau)}\n$$\n证据项 $p(\\tau)$ 可以消去，将条件简化为：\n$$\np(\\tau | \\omega_{b}) P(\\omega_{b}) = p(\\tau | \\omega_{r}) P(\\omega_{r})\n$$\n使用给定的先验概率 $\\pi_{b}$ 和 $\\pi_{r}$：\n$$\np(\\tau | \\omega_{b}) \\pi_{b} = p(\\tau | \\omega_{r}) \\pi_{r}\n$$\n问题陈述中指出，类条件概率密度函数是具有共同方差 $\\sigma^{2}$ 的高斯分布：\n$$\np(x | \\omega_{b}) = \\frac{1}{\\sqrt{2\\pi}\\sigma} \\exp\\left(-\\frac{(x - \\mu_{b})^{2}}{2\\sigma^{2}}\\right)\n$$\n$$\np(x | \\omega_{r}) = \\frac{1}{\\sqrt{2\\pi}\\sigma} \\exp\\left(-\\frac{(x - \\mu_{r})^{2}}{2\\sigma^{2}}\\right)\n$$\n为了求解 $\\tau$，处理决策边界方程的自然对数更为方便：\n$$\n\\ln(p(\\tau | \\omega_{b})) + \\ln(\\pi_{b}) = \\ln(p(\\tau | \\omega_{r})) + \\ln(\\pi_{r})\n$$\n代入高斯概率密度函数的表达式：\n$$\n\\ln\\left(\\frac{1}{\\sqrt{2\\pi}\\sigma}\\right) - \\frac{(\\tau - \\mu_{b})^{2}}{2\\sigma^{2}} + \\ln(\\pi_{b}) = \\ln\\left(\\frac{1}{\\sqrt{2\\pi}\\sigma}\\right) - \\frac{(\\tau - \\mu_{r})^{2}}{2\\sigma^{2}} + \\ln(\\pi_{r})\n$$\n归一化常数项 $\\ln\\left(\\frac{1}{\\sqrt{2\\pi}\\sigma}\\right)$ 在等式两边同时出现，可以消去：\n$$\n- \\frac{(\\tau - \\mu_{b})^{2}}{2\\sigma^{2}} + \\ln(\\pi_{b}) = - \\frac{(\\tau - \\mu_{r})^{2}}{2\\sigma^{2}} + \\ln(\\pi_{r})\n$$\n重新整理各项以求解 $\\tau$：\n$$\n\\frac{(\\tau - \\mu_{r})^{2}}{2\\sigma^{2}} - \\frac{(\\tau - \\mu_{b})^{2}}{2\\sigma^{2}} = \\ln(\\pi_{r}) - \\ln(\\pi_{b})\n$$\n$$\n(\\tau - \\mu_{r})^{2} - (\\tau - \\mu_{b})^{2} = 2\\sigma^{2} \\ln\\left(\\frac{\\pi_{r}}{\\pi_{b}}\\right)\n$$\n展开平方项：\n$$\n(\\tau^{2} - 2\\tau\\mu_{r} + \\mu_{r}^{2}) - (\\tau^{2} - 2\\tau\\mu_{b} + \\mu_{b}^{2}) = 2\\sigma^{2} \\ln\\left(\\frac{\\pi_{r}}{\\pi_{b}}\\right)\n$$\n$\\tau^{2}$ 项相互抵消：\n$$\n2\\tau\\mu_{b} - 2\\tau\\mu_{r} + \\mu_{r}^{2} - \\mu_{b}^{2} = 2\\sigma^{2} \\ln\\left(\\frac{\\pi_{r}}{\\pi_{b}}\\right)\n$$\n分离出包含 $\\tau$ 的项：\n$$\n2\\tau(\\mu_{b} - \\mu_{r}) = \\mu_{b}^{2} - \\mu_{r}^{2} + 2\\sigma^{2} \\ln\\left(\\frac{\\pi_{r}}{\\pi_{b}}\\right)\n$$\n使用平方差公式分解 $\\mu_{b}^{2} - \\mu_{r}^{2} = (\\mu_{b} - \\mu_{r})(\\mu_{b} + \\mu_{r})$：\n$$\n2\\tau(\\mu_{b} - \\mu_{r}) = (\\mu_{b} - \\mu_{r})(\\mu_{b} + \\mu_{r}) + 2\\sigma^{2} \\ln\\left(\\frac{\\pi_{r}}{\\pi_{b}}\\right)\n$$\n假设 $\\mu_{b} \\neq \\mu_{r}$，我们可以将等式两边同时除以 $2(\\mu_{b} - \\mu_{r})$：\n$$\n\\tau = \\frac{\\mu_{b} + \\mu_{r}}{2} + \\frac{2\\sigma^{2}}{2(\\mu_{b} - \\mu_{r})} \\ln\\left(\\frac{\\pi_{r}}{\\pi_{b}}\\right)\n$$\n这简化为具有相同方差的两个一维高斯类的贝叶斯最优阈值的通用公式：\n$$\n\\tau = \\frac{\\mu_{b} + \\mu_{r}}{2} + \\frac{\\sigma^{2}}{\\mu_{b} - \\mu_{r}} \\ln\\left(\\frac{\\pi_{r}}{\\pi_{b}}\\right)\n$$\n决策规则是：如果一个像元的 NDBI 值 $X \\ge \\tau$，则将其分类为建成区（$\\omega_{b}$）。根据数据，$\\mu_{b} = 0.30 > \\mu_{r} = 0.05$，因此较高的 NDBI 值确实与建成区类别相关，这与决策规则的形式一致。\n\n现在，我们代入给定的数值：\n$\\mu_{b} = 0.30$\n$\\mu_{r} = 0.05$\n$\\sigma = 0.10$，所以 $\\sigma^{2} = (0.10)^{2} = 0.01$\n$\\pi_{b} = 0.40$\n$\\pi_{r} = 0.60$\n\n将这些值代入推导出的 $\\tau$ 公式中：\n$$\n\\tau = \\frac{0.30 + 0.05}{2} + \\frac{0.01}{0.30 - 0.05} \\ln\\left(\\frac{0.60}{0.40}\\right)\n$$\n$$\n\\tau = \\frac{0.35}{2} + \\frac{0.01}{0.25} \\ln(1.5)\n$$\n$$\n\\tau = 0.175 + 0.04 \\ln(1.5)\n$$\n使用值 $\\ln(1.5) \\approx 0.405465108$：\n$$\n\\tau \\approx 0.175 + 0.04 \\times 0.405465108\n$$\n$$\n\\tau \\approx 0.175 + 0.01621860432\n$$\n$$\n\\tau \\approx 0.19121860432\n$$\n题目要求将最终阈值四舍五入至五位有效数字。\n$$\n\\tau \\approx 0.19122\n$$\n该阈值代表了一个 NDBI 值，在该值上，一个像元属于建成区类别和裸地类别的后验概率相等。高于此阈值的值具有更高的后验概率属于建成区。",
            "answer": "$$\n\\boxed{0.19122}\n$$"
        },
        {
            "introduction": "任何分类器的优劣最终都取决于其可量化的性能。在应用分类器之后，我们如何客观地评估其准确性？本实践将带您掌握性能验证的核心流程。您将学习构建混淆矩阵来系统地梳理分类结果，并计算一系列标准评价指标——包括总体精度、精确率、召回率以及$F_1$分数——从而对分类器的性能进行定量评估。掌握这些评估技术对于理解模型在实际应用中的有效性以及比较不同分类方法的优劣至关重要 。",
            "id": "3800058",
            "problem": "考虑一个监督二元分类任务，该任务使用基于指数的建成区指数（IBI）将土地覆盖分为建成区与非建成区。IBI是根据多光谱反射率计算得出的，旨在增强不透水表面相对于植被和水体的光谱对比度。分类规则是一个单阈值检测器：如果一个像素的IBI值 $I$ 满足 $I \\geq \\tau$，则该像素被标记为建成区；如果 $I  \\tau$，则被标记为非建成区。其中 $\\tau$ 是一个通过独立校准确定的固定阈值。\n\n一个验证区域包含400个具有地面真实标签和IBI值的像素。地面真实标签被平均分配：200个像素是建成区，200个像素是非建成区。将阈值 $\\tau = 0.22$ 应用于IBI值。验证检查发现以下频数统计：\n- 在200个地面真实建成区像素中，140个满足 $I \\geq \\tau$，60个满足 $I  \\tau$。\n- 在200个地面真实非建成区像素中，20个满足 $I \\geq \\tau$，180个满足 $I  \\tau$。\n\n从二元检测的混淆矩阵的基本定义和由阈值引出的集合隶属规则出发，构建混淆矩阵，并使用基于正确和错误决策计数的基本定义，为正类（建成区）计算以下四种性能指标：\n- 总体准确率，\n- 精确率，\n- 召回率，\n- $F_{1}$ 分数。\n\n将每个指标四舍五入到四位有效数字。将最终答案以上述顺序列于一个单行矩阵中，其中每个条目均为四舍五入后的小数值。这些指标无需单位。",
            "solution": "该问题要求为一个二元分类任务构建一个混淆矩阵并计算四种标准性能指标。对问题陈述的验证确认了其具有科学依据、是适定的、客观的，并包含了完整解答所需的所有信息。\n\n首先，我们根据问题的定义确定混淆矩阵的组成部分。该二元分类涉及两个类别：\n-   正类：建成区\n-   负类：非建成区\n\n分类规则基于应用于IBI值 $I$ 的阈值 $\\tau = 0.22$：\n-   如果像素的IBI值 $I \\geq \\tau$，则预测为“建成区”（预测为正类）。\n-   如果 $I  \\tau$，则预测为“非建成区”（预测为负类）。\n\n混淆矩阵有四个组成部分，定义如下：\n-   **真阳性 ($TP$)**：实际上是建成区且被正确分类为建成区的像素数量。\n-   **假阴性 ($FN$)**：实际上是建成区但被错误分类为非建成区的像素数量。\n-   **假阳性 ($FP$)**：实际上是非建成区但被错误分类为建成区的像素数量。\n-   **真阴性 ($TN$)**：实际上是非建成区且被正确分类为非建成区的像素数量。\n\n根据所提供的数据：\n-   地面真实建成区像素总数为200。其中，140个像素满足 $I \\geq \\tau$，60个像素满足 $I  \\tau$。\n    -   实际上是建成区且被预测为建成区（$I \\geq \\tau$）的140个像素对应于真阳性。因此，$TP = 140$。\n    -   实际上是建成区但被预测为非建成区（$I  \\tau$）的60个像素对应于假阴性。因此，$FN = 60$。\n\n-   地面真实非建成区像素总数为200。其中，20个像素满足 $I \\geq \\tau$，180个像素满足 $I  \\tau$。\n    -   实际上是非建成区但被预测为建成区（$I \\geq \\tau$）的20个像素对应于假阳性。因此，$FP = 20$。\n    -   实际上是非建成区且被预测为非建成区（$I  \\tau$）的180个像素对应于真阴性。因此，$TN = 180$。\n\n验证集中的像素总数为 $N = TP + TN + FP + FN = 140 + 180 + 20 + 60 = 400$，与给定信息相符。\n\n混淆矩阵可以构建如下：\n$$\n\\begin{array}{cc|cc}\n  \\text{预测为正类}  \\text{预测为负类} \\\\\n\\hline\n\\text{实际为正类}  (TP)  140  (FN) \\quad 60 \\\\\n\\text{实际为负类}  (FP)   20  (TN) \\quad 180\n\\end{array}\n$$\n\n现在，我们使用基于这些计数的基本定义来计算所要求的四种性能指标。\n\n1.  **总体准确率 ($A$)**：这是正确分类的总数与像素总数的比率。\n    $$A = \\frac{TP + TN}{TP + TN + FP + FN}$$\n    代入数值：\n    $$A = \\frac{140 + 180}{140 + 180 + 20 + 60} = \\frac{320}{400} = 0.8$$\n    四舍五入到四位有效数字，结果为 $0.8000$。\n\n2.  **精确率 ($P$)**：也称为阳性预测值，这是真阳性分类数与阳性预测总数的比率。它衡量了阳性预测的准确性。\n    $$P = \\frac{TP}{TP + FP}$$\n    代入数值：\n    $$P = \\frac{140}{140 + 20} = \\frac{140}{160} = \\frac{7}{8} = 0.875$$\n    四舍五入到四位有效数字，结果为 $0.8750$。\n\n3.  **召回率 ($R$)**：也称为灵敏度或真阳性率，这是真阳性分类数与实际正类总数的比率。它衡量了分类器找出所有正类样本的能力。\n    $$R = \\frac{TP}{TP + FN}$$\n    代入数值：\n    $$R = \\frac{140}{140 + 60} = \\frac{140}{200} = \\frac{7}{10} = 0.7$$\n    四舍五入到四位有效数字，结果为 $0.7000$。\n\n4.  **$F_1$ 分数**：这是精确率和召回率的调和平均数，提供了一个平衡两者的单一指标。\n    $$F_1 = 2 \\cdot \\frac{P \\cdot R}{P + R} = \\frac{2TP}{2TP + FP + FN}$$\n    使用第二种形式直接计算：\n    $$F_1 = \\frac{2 \\cdot 140}{2 \\cdot 140 + 20 + 60} = \\frac{280}{280 + 80} = \\frac{280}{360} = \\frac{28}{36} = \\frac{7}{9}$$\n    数值上，这约等于 $0.777777...$。\n    四舍五入到四位有效数字，结果为 $0.7778$。\n\n最终结果，四舍五入到四位有效数字，如下：\n-   总体准确率: $0.8000$\n-   精确率: $0.8750$\n-   召回率: $0.7000$\n-   $F_1$ 分数: $0.7778$\n\n这些值将按指定顺序呈现在一个单行矩阵中。",
            "answer": "$$\\boxed{\\begin{pmatrix} 0.8000  0.8750  0.7000  0.7778 \\end{pmatrix}}$$"
        }
    ]
}