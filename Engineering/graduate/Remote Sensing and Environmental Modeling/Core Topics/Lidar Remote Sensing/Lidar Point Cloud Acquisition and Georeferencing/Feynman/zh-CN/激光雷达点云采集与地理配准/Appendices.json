{
    "hands_on_practices": [
        {
            "introduction": "激光雷达（LiDAR）技术的核心在于精确测量距离。然而，任何测量系统的精度都存在物理极限。本练习旨在探讨影响LiDAR测距精度的两个基本因素：激光脉冲的有限宽度和接收器电子器件的时间抖动。通过这个练习，你将学习如何量化这些不确定性来源，并推导出系统的整体距离分辨率，这是评估和比较LiDAR性能的关键指标。",
            "id": "3824599",
            "problem": "一个机载激光雷达（LiDAR）系统通过测量光脉冲的飞行时间来估计到目标的距离。假设距离估算是通过相对于参考时钟对接收到的波形进行时间戳记，并利用光速将经过的时间转换为距离来形成的。假设单次测量的时序不确定性遵循以下基于物理的模型。\n\n1. 发射的光脉冲具有有限的时间宽度。将由脉冲形状和匹配滤波引起的系统有效脉冲响应建模为一个零均值高斯时间随机变量，其标准差为 $\\tau$，代表了由脉冲时间宽度继承的不可约时序展宽。\n\n2. 接收器的时钟和鉴别器引入了与脉冲形状引起的时序展宽在统计上独立的时序抖动。将此接收器时序抖动建模为一个零均值高斯随机变量，其标准差为 $\\sigma_{t}$。\n\n3. 飞行时间估算是通过线性时间戳记操作形成的，距离是通过基于光速 $c$ 的标准飞行时间映射从时间中获得的。\n\n将有效距离分辨率定义为单次距离估计的单标准差不确定性（标准差），并假设两个独立的高斯时序不确定性通过其时间分布的卷积相结合。仅从距离和传播时间之间的飞行时间关系以及独立高斯随机变量在卷积和线性缩放下的性质出发，推导有效距离分辨率关于 $c$、$\\tau$ 和 $\\sigma_{t}$ 的闭式解析表达式。以一个关于 $c$、$\\tau$ 和 $\\sigma_{t}$ 的单一简化解析表达式的形式提供最终答案，不进行数值代入。",
            "solution": "问题陈述已经过验证，被认为是有效的。它是科学严谨、定义明确且客观的。它提出了一个标准的、尽管简化的LiDAR测距不确定性模型，提供了推导唯一、有意义解所需的所有定义和约束。\n\n问题要求推导有效距离分辨率，其定义为单次距离估计的单标准差不确定性。此推导将基于所提供的时序不确定性模型以及LiDAR的基本飞行时间原理。\n\n令 $T_p$ 为表示由光脉冲的有限时间宽度和系统脉冲响应引入的时序不确定性的随机变量。根据问题陈述，这是一个标准差为 $\\tau$ 的零均值高斯随机变量。其概率密度函数为 $\\mathcal{N}(0, \\tau^2)$，其方差为 $Var(T_p) = \\tau^2$。\n\n令 $T_j$ 为表示来自接收器时钟和鉴别器的时序抖动的随机变量。这也是一个标准差为 $\\sigma_t$ 的零均值高斯随机变量。其概率密度函数为 $\\mathcal{N}(0, \\sigma_t^2)$，其方差为 $Var(T_j) = \\sigma_t^2$。\n\n问题陈述指出，这两个时序不确定性来源在统计上是独立的。单次测量中的总时序不确定性，我们称此随机变量为 $T_{total}$，是各个不确定性之和：\n$$T_{total} = T_p + T_j$$\n\n独立高斯随机变量的一个基本性质是它们的和也是一个高斯随机变量。和的均值是均值的和，和的方差是方差的和。\n\n总时序不确定性的均值为：\n$$E[T_{total}] = E[T_p] + E[T_j] = 0 + 0 = 0$$\n\n由于 $T_p$ 和 $T_j$ 的独立性，总时序不确定性的方差为：\n$$Var(T_{total}) = Var(T_p) + Var(T_j) = \\tau^2 + \\sigma_t^2$$\n\n总时序不确定性的标准差 $\\sigma_{T_{total}}$ 是其方差的平方根：\n$$\\sigma_{T_{total}} = \\sqrt{Var(T_{total})} = \\sqrt{\\tau^2 + \\sigma_t^2}$$\n\n接下来，我们必须将此时序不确定性与距离不确定性联系起来。LiDAR系统测量的距离 $R$ 由光脉冲的往返飞行时间 $t$ 决定，根据以下关系：\n$$R = \\frac{c \\cdot t}{2}$$\n其中 $c$ 是光速。因子 $\\frac{1}{2}$ 是因为测量的时间 $t$ 对应于脉冲传播到目标再返回的过程。\n\n测量的飞行时间 $t_{meas}$ 可以建模为真实的、确定性的飞行时间 $t_{true}$ 与随机的总时序误差 $T_{total}$ 之和：\n$$t_{meas} = t_{true} + T_{total}$$\n\n因此，估计的距离 $R_{est}$ 是一个随机变量，通过将飞行时间公式应用于测量的时间得到：\n$$R_{est} = \\frac{c \\cdot t_{meas}}{2} = \\frac{c}{2} (t_{true} + T_{total})$$\n展开此表达式，我们得到：\n$$R_{est} = \\frac{c \\cdot t_{true}}{2} + \\frac{c}{2} T_{total}$$\n项 $\\frac{c \\cdot t_{true}}{2}$ 是真实距离 $R_{true}$，对于给定的测量，它是一个常数。因此，估计的距离为：\n$$R_{est} = R_{true} + \\frac{c}{2} T_{total}$$\n\n问题将有效距离分辨率定义为距离估计的单标准差不确定性，我们记为 $\\sigma_R$。这就是 $std(R_{est})$。为了求得此值，我们首先计算 $R_{est}$ 的方差。我们使用线性变换后的随机变量 $X$ 的方差性质，即对于常数 $a$ 和 $b$，$Var(aX + b) = a^2 Var(X)$。\n\n在我们的例子中，随机变量是 $T_{total}$，缩放常数是 $a = \\frac{c}{2}$，加法常数是 $b = R_{true}$。\n$$Var(R_{est}) = Var\\left(R_{true} + \\frac{c}{2} T_{total}\\right) = \\left(\\frac{c}{2}\\right)^2 Var(T_{total})$$\n代入我们之前找到的 $Var(T_{total})$ 的表达式：\n$$Var(R_{est}) = \\frac{c^2}{4} (\\tau^2 + \\sigma_t^2)$$\n\n有效距离分辨率 $\\sigma_R$ 是标准差，即方差的平方根：\n$$\\sigma_R = std(R_{est}) = \\sqrt{Var(R_{est})} = \\sqrt{\\frac{c^2}{4} (\\tau^2 + \\sigma_t^2)}$$\n\n最后，简化此表达式可得到距离分辨率的闭式解析表达式：\n$$\\sigma_R = \\frac{c}{2} \\sqrt{\\tau^2 + \\sigma_t^2}$$\n此表达式代表了基于所提供参数的单次距离测量中的单标准差不确定性。",
            "answer": "$$\\boxed{\\frac{c}{2} \\sqrt{\\tau^2 + \\sigma_{t}^{2}}}$$"
        },
        {
            "introduction": "在确定了到目标的距离后，下一个关键问题是“这个距离是在哪个方向上测量的？”。本练习将深入探讨LiDAR扫描仪内部复杂的光束指向几何学。你将运用物理学的反射定律，为包含旋转和倾斜的反射镜系统建立精确的光束方向模型，并将其与一个简化的校准模型进行比较。这个过程不仅能让你洞悉点云数据中系统性误差的来源，还能加深对传感器精确标定重要性的理解。",
            "id": "3824516",
            "problem": "一部激光雷达（LiDAR）扫描仪使用一个平面振荡镜来偏转一束在扫描仪坐标系中沿固定轴发射的激光束。考虑扫描仪坐标系 $\\mathcal{S}$，其坐标轴为 $(x_{\\mathcal{S}}, y_{\\mathcal{S}}, z_{\\mathcal{S}})$，其中入射光线方向为单位向量 $d_{\\mathrm{in}} = [0,\\,0,\\,1]^{\\top}$。在零扫描角时，镜面的标称单位法向量为 $n_{0} = [\\sin\\beta,\\,0,\\,\\cos\\beta]^{\\top}$，其中 $\\beta = \\pi/4$。镜面绕 $y_{\\mathcal{S}}$ 轴旋转一个扫描角 $\\theta$，且镜面支架有一个小的固定高程偏移量 $\\delta$，该偏移量实现为绕 $x_{\\mathcal{S}}$ 轴的一次旋转。因此，扫描过程中的镜面法向量为 $n(\\theta,\\delta) = R_{x}(\\delta)\\,R_{y}(\\theta)\\,n_{0}$，其中 $R_{x}$ 和 $R_{y}$ 分别是绕 $x$ 轴和 $y$ 轴的标准右手旋转矩阵。出射光束方向（单位视线向量）由反射定律得出：$u_{s}(\\theta,\\delta) = d_{\\mathrm{in}} - 2\\,(d_{\\mathrm{in}}\\cdot n(\\theta,\\delta))\\,n(\\theta,\\delta)$。\n\n一个用于地理参考的传感器校准模型，通过对零扫描角时的标称反射方向施加一个绕 $y_{\\mathcal{S}}$ 轴的 $2\\theta$ 偏航旋转，随后再施加一个绕 $x_{\\mathcal{S}}$ 轴的高程偏移 $\\delta$，来近似从镜面扫描角到出射方向的映射。也就是说，设 $u_{0} = d_{\\mathrm{in}} - 2\\,(d_{\\mathrm{in}}\\cdot n_{0})\\,n_{0}$，则校准模型预测的单位向量为 $u_{\\mathrm{cal}}(\\theta,\\delta) = R_{x}(\\delta)\\,R_{y}(2\\theta)\\,u_{0}$。\n\n从基本反射定律以及 $R_{x}$ 和 $R_{y}$ 的定义出发，推导在扫描仪坐标系中 $u_{s}(\\theta,\\delta)$ 的显式表达式，然后构造 $u_{\\mathrm{cal}}(\\theta,\\delta)$。利用这些表达式，计算 $u_{s}$ 和 $u_{\\mathrm{cal}}$ 之间的角残差 $\\Delta\\varphi(\\theta,\\delta)$，其定义为 $\\Delta\\varphi(\\theta,\\delta) = \\arccos\\!\\big(u_{s}(\\theta,\\delta)\\cdot u_{\\mathrm{cal}}(\\theta,\\delta)\\big)$。计算当 $\\theta = 30^{\\circ}$ 且 $\\delta = 2^{\\circ}$ 时 $\\Delta\\varphi$ 的值，并将最终角度以度表示。将答案四舍五入到四位有效数字。",
            "solution": "主要任务是确定物理上正确的视线向量 $u_{s}(\\theta,\\delta)$ 与从校准模型推导出的近似向量 $u_{\\mathrm{cal}}(\\theta,\\delta)$ 之间的角残差 $\\Delta\\varphi(\\theta,\\delta)$。该残差定义为 $\\Delta\\varphi(\\theta,\\delta) = \\arccos\\!\\big(u_{s}(\\theta,\\delta)\\cdot u_{\\mathrm{cal}}(\\theta,\\delta)\\big)$。分析过程需要推导两个向量的显式表达式，计算它们的点积，然后对给定的角度 $\\theta = 30^{\\circ}$ 和 $\\delta = 2^{\\circ}$ 计算结果。\n\n首先，我们建立基本的数学实体。绕 $x$ 轴和 $y$ 轴的标准右手旋转矩阵由下式给出：\n$$ R_{x}(\\alpha) = \\begin{pmatrix} 1 & 0 & 0 \\\\ 0 & \\cos\\alpha & -\\sin\\alpha \\\\ 0 & \\sin\\alpha & \\cos\\alpha \\end{pmatrix}, \\quad R_{y}(\\alpha) = \\begin{pmatrix} \\cos\\alpha & 0 & \\sin\\alpha \\\\ 0 & 1 & 0 \\\\ -\\sin\\alpha & 0 & \\cos\\alpha \\end{pmatrix} $$\n入射激光束方向为 $d_{\\mathrm{in}} = [0,\\,0,\\,1]^{\\top}$。标称镜面法向量为 $n_{0} = [\\sin\\beta,\\,0,\\,\\cos\\beta]^{\\top}$，其中 $\\beta = \\pi/4$。\n将 $\\beta = \\pi/4$ 代入，我们得到 $\\sin(\\pi/4) = 1/\\sqrt{2}$ 和 $\\cos(\\pi/4) = 1/\\sqrt{2}$。因此，\n$$ n_{0} = \\begin{pmatrix} 1/\\sqrt{2} \\\\ 0 \\\\ 1/\\sqrt{2} \\end{pmatrix} $$\n我们首先使用反射定律计算零扫描角时的标称反射方向 $u_{0}$：\n$$ u_{0} = d_{\\mathrm{in}} - 2\\,(d_{\\mathrm{in}}\\cdot n_{0})\\,n_{0} $$\n点积为 $d_{\\mathrm{in}}\\cdot n_{0} = (0)(1/\\sqrt{2}) + (0)(0) + (1)(1/\\sqrt{2}) = 1/\\sqrt{2}$。\n将此代入 $u_0$ 的表达式中：\n$$ u_{0} = \\begin{pmatrix} 0 \\\\ 0 \\\\ 1 \\end{pmatrix} - 2\\left(\\frac{1}{\\sqrt{2}}\\right) \\begin{pmatrix} 1/\\sqrt{2} \\\\ 0 \\\\ 1/\\sqrt{2} \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ 0 \\\\ 1 \\end{pmatrix} - \\begin{pmatrix} 1 \\\\ 0 \\\\ 1 \\end{pmatrix} = \\begin{pmatrix} -1 \\\\ 0 \\\\ 0 \\end{pmatrix} $$\n\n接下来，我们推导物理上正确的反射向量 $u_{s}(\\theta,\\delta)$ 的表达式。这需要首先求出扫描过程中的镜面法向量 $n(\\theta,\\delta) = R_{x}(\\delta)\\,R_{y}(\\theta)\\,n_{0}$。\n$$ R_{y}(\\theta)n_{0} = \\begin{pmatrix} \\cos\\theta & 0 & \\sin\\theta \\\\ 0 & 1 & 0 \\\\ -\\sin\\theta & 0 & \\cos\\theta \\end{pmatrix} \\begin{pmatrix} 1/\\sqrt{2} \\\\ 0 \\\\ 1/\\sqrt{2} \\end{pmatrix} = \\frac{1}{\\sqrt{2}} \\begin{pmatrix} \\cos\\theta + \\sin\\theta \\\\ 0 \\\\ \\cos\\theta - \\sin\\theta \\end{pmatrix} $$\n$$ n(\\theta,\\delta) = R_{x}(\\delta)(R_{y}(\\theta)n_{0}) = \\begin{pmatrix} 1 & 0 & 0 \\\\ 0 & \\cos\\delta & -\\sin\\delta \\\\ 0 & \\sin\\delta & \\cos\\delta \\end{pmatrix} \\frac{1}{\\sqrt{2}} \\begin{pmatrix} \\cos\\theta + \\sin\\theta \\\\ 0 \\\\ \\cos\\theta - \\sin\\theta \\end{pmatrix} = \\frac{1}{\\sqrt{2}} \\begin{pmatrix} \\cos\\theta + \\sin\\theta \\\\ -\\sin\\delta(\\cos\\theta - \\sin\\theta) \\\\ \\cos\\delta(\\cos\\theta - \\sin\\theta) \\end{pmatrix} $$\n与入射光线的点积为 $d_{\\mathrm{in}}\\cdot n(\\theta,\\delta) = n_z(\\theta,\\delta) = \\frac{1}{\\sqrt{2}}\\cos\\delta(\\cos\\theta - \\sin\\theta)$。\n现在，我们计算 $u_{s}(\\theta,\\delta) = d_{\\mathrm{in}} - 2\\,(d_{\\mathrm{in}}\\cdot n(\\theta,\\delta))\\,n(\\theta,\\delta)$：\n$$ u_{s} = \\begin{pmatrix} 0 \\\\ 0 \\\\ 1 \\end{pmatrix} - 2\\left(\\frac{1}{\\sqrt{2}}\\cos\\delta(\\cos\\theta - \\sin\\theta)\\right) \\left(\\frac{1}{\\sqrt{2}} \\begin{pmatrix} \\cos\\theta + \\sin\\theta \\\\ -\\sin\\delta(\\cos\\theta - \\sin\\theta) \\\\ \\cos\\delta(\\cos\\theta - \\sin\\theta) \\end{pmatrix}\\right) $$\n$$ u_{s} = \\begin{pmatrix} 0 \\\\ 0 \\\\ 1 \\end{pmatrix} - \\cos\\delta(\\cos\\theta - \\sin\\theta) \\begin{pmatrix} \\cos\\theta + \\sin\\theta \\\\ -\\sin\\delta(\\cos\\theta - \\sin\\theta) \\\\ \\cos\\delta(\\cos\\theta - \\sin\\theta) \\end{pmatrix} $$\n$u_s$ 的分量是：\n$(u_{s})_x = -\\cos\\delta(\\cos\\theta - \\sin\\theta)(\\cos\\theta + \\sin\\theta) = -\\cos\\delta(\\cos^2\\theta - \\sin^2\\theta) = -\\cos\\delta\\cos(2\\theta)$.\n$(u_{s})_y = \\sin\\delta\\cos\\delta(\\cos\\theta - \\sin\\theta)^2 = \\sin\\delta\\cos\\delta(\\cos^2\\theta - 2\\sin\\theta\\cos\\theta + \\sin^2\\theta) = \\frac{1}{2}\\sin(2\\delta)(1 - \\sin(2\\theta))$.\n$(u_{s})_z = 1 - \\cos^2\\delta(\\cos\\theta - \\sin\\theta)^2 = 1 - \\cos^2\\delta(1 - \\sin(2\\theta)) = \\sin^2\\delta + \\cos^2\\delta\\sin(2\\theta)$.\n所以，$u_{s}(\\theta,\\delta) = \\begin{pmatrix} -\\cos\\delta\\cos(2\\theta) \\\\ \\frac{1}{2}\\sin(2\\delta)(1 - \\sin(2\\theta)) \\\\ \\sin^2\\delta + \\cos^2\\delta\\sin(2\\theta) \\end{pmatrix}$。\n\n现在，我们推导校准模型预测的向量 $u_{\\mathrm{cal}}(\\theta,\\delta) = R_{x}(\\delta)\\,R_{y}(2\\theta)\\,u_{0}$。\n$$ R_{y}(2\\theta)u_{0} = \\begin{pmatrix} \\cos(2\\theta) & 0 & \\sin(2\\theta) \\\\ 0 & 1 & 0 \\\\ -\\sin(2\\theta) & 0 & \\cos(2\\theta) \\end{pmatrix} \\begin{pmatrix} -1 \\\\ 0 \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} -\\cos(2\\theta) \\\\ 0 \\\\ \\sin(2\\theta) \\end{pmatrix} $$\n$$ u_{\\mathrm{cal}}(\\theta,\\delta) = R_{x}(\\delta) (R_{y}(2\\theta)u_{0}) = \\begin{pmatrix} 1 & 0 & 0 \\\\ 0 & \\cos\\delta & -\\sin\\delta \\\\ 0 & \\sin\\delta & \\cos\\delta \\end{pmatrix} \\begin{pmatrix} -\\cos(2\\theta) \\\\ 0 \\\\ \\sin(2\\theta) \\end{pmatrix} = \\begin{pmatrix} -\\cos(2\\theta) \\\\ -\\sin\\delta\\sin(2\\theta) \\\\ \\cos\\delta\\sin(2\\theta) \\end{pmatrix} $$\n\n下一步是计算点积 $u_{s}(\\theta,\\delta)\\cdot u_{\\mathrm{cal}}(\\theta,\\delta)$。\n$$ (u_s \\cdot u_{\\mathrm{cal}}) = (-\\cos\\delta\\cos(2\\theta))(-\\cos(2\\theta)) + \\left(\\frac{1}{2}\\sin(2\\delta)(1 - \\sin(2\\theta))\\right)(-\\sin\\delta\\sin(2\\theta)) + (\\sin^2\\delta + \\cos^2\\delta\\sin(2\\theta))(\\cos\\delta\\sin(2\\theta)) $$\n让我们逐项展开并简化这个表达式：\n第 1 项： $\\cos\\delta\\cos^2(2\\theta)$。\n第 2 项： 使用 $\\frac{1}{2}\\sin(2\\delta) = \\sin\\delta\\cos\\delta$，此项变为 $-\\sin^2\\delta\\cos\\delta\\sin(2\\theta)(1 - \\sin(2\\theta)) = -\\sin^2\\delta\\cos\\delta\\sin(2\\theta) + \\sin^2\\delta\\cos\\delta\\sin^2(2\\theta)$。\n第 3 项： $\\sin^2\\delta\\cos\\delta\\sin(2\\theta) + \\cos^3\\delta\\sin^2(2\\theta)$。\n将所有项相加：\n$$ u_s \\cdot u_{\\mathrm{cal}} = \\cos\\delta\\cos^2(2\\theta) - \\sin^2\\delta\\cos\\delta\\sin(2\\theta) + \\sin^2\\delta\\cos\\delta\\sin^2(2\\theta) + \\sin^2\\delta\\cos\\delta\\sin(2\\theta) + \\cos^3\\delta\\sin^2(2\\theta) $$\n项 $-\\sin^2\\delta\\cos\\delta\\sin(2\\theta)$ 和 $+\\sin^2\\delta\\cos\\delta\\sin(2\\theta)$ 相互抵消。\n$$ u_s \\cdot u_{\\mathrm{cal}} = \\cos\\delta\\cos^2(2\\theta) + \\sin^2\\delta\\cos\\delta\\sin^2(2\\theta) + \\cos^3\\delta\\sin^2(2\\theta) $$\n从第一项中提出因子 $\\cos\\delta$，从后两项中提出因子 $\\cos\\delta\\sin^2(2\\theta)$：\n$$ u_s \\cdot u_{\\mathrm{cal}} = \\cos\\delta\\cos^2(2\\theta) + (\\sin^2\\delta + \\cos^2\\delta)\\cos\\delta\\sin^2(2\\theta) $$\n使用恒等式 $\\sin^2\\delta + \\cos^2\\delta = 1$：\n$$ u_s \\cdot u_{\\mathrm{cal}} = \\cos\\delta\\cos^2(2\\theta) + \\cos\\delta\\sin^2(2\\theta) = \\cos\\delta(\\cos^2(2\\theta) + \\sin^2(2\\theta)) $$\n使用恒等式 $\\cos^2(2\\theta) + \\sin^2(2\\theta) = 1$：\n$$ u_{s}(\\theta,\\delta)\\cdot u_{\\mathrm{cal}}(\\theta,\\delta) = \\cos\\delta $$\n这个非常简洁的结果可以从几何上理解。校准模型 $u_{\\mathrm{cal}} = R_x(\\delta) R_y(2\\theta) u_0$ 等价于 $R_x(\\delta) u_s(\\theta,0)$。使用反射在旋转下的行为恒等式，$R_x(\\delta) u_s(\\theta,0) = R_x(\\delta) \\mathrm{Refl}_{R_y(\\theta)n_0}(d_{in}) = \\mathrm{Refl}_{R_x(\\delta)R_y(\\theta)n_0}(R_x(\\delta)d_{in})$。真实的向量是 $u_s(\\theta,\\delta) = \\mathrm{Refl}_{R_x(\\delta)R_y(\\theta)n_0}(d_{in})$。由于反射是一种等距变换，它保持向量之间的角度不变。因此，$u_s$ 和 $u_{\\mathrm{cal}}$ 之间的角度等于原像向量 $d_{in}$ 和 $R_x(\\delta)d_{in}$ 之间的角度。它们的点积是 $d_{in} \\cdot (R_x(\\delta)d_{in}) = [0,0,1]^\\top \\cdot [0, -\\sin\\delta, \\cos\\delta]^\\top = \\cos\\delta$。\n\n因此，角残差为：\n$$ \\Delta\\varphi(\\theta,\\delta) = \\arccos(u_s \\cdot u_{\\mathrm{cal}}) = \\arccos(\\cos\\delta) $$\n对于任何物理上现实的小偏移角 $\\delta$，我们可以取主值，所以 $\\Delta\\varphi(\\theta,\\delta) = \\delta$。\n残余角与扫描角 $\\theta$ 无关，等于高程偏移角 $\\delta$。\n\n问题要求计算在 $\\theta = 30^{\\circ}$ 和 $\\delta = 2^{\\circ}$ 时的值。\n$$ \\Delta\\varphi = 2^{\\circ} $$\n四舍五入到四位有效数字得到 $2.000^{\\circ}$。",
            "answer": "$$ \\boxed{2.000} $$"
        },
        {
            "introduction": "理解了LiDAR系统如何测量距离和方向后，最后的实践环节将探讨激光束如何与真实地表环境相互作用。本练习聚焦于在崎岖地形测量中一个至关重要的问题：几何遮挡（geometric shadowing or occlusion）。你将通过第一性原理的几何推理，建立扫描角度、波束发散角与地形坡度之间的解析关系，从而确定避免数据空洞的最大地形坡度。这项技能对于飞行任务规划和评估最终点云数据的完整性至关重要。",
            "id": "3824553",
            "problem": "一个机载激光雷达（LiDAR）系统在勘测山区地形时，其平台通过全球导航卫星系统（GNSS）和惯性测量单元（IMU）进行地理配准，因此离天底扫描角相对于平台的当地垂直线是已知的。考虑一条沿跨轨轴方向的单一扫描线，该扫描线扫过一个局部平坦的地形块，其坡度与扫描方向一致且背向传感器。激光束的总发散角为 $2\\delta$（因此半角为 $\\delta$），光束中心指向与当地垂直线成 $\\theta$ 的离天底角。令 $\\alpha$ 表示在扫描方向上地形坡度与当地水平面所成的角度，并假设几何阴影定义为当视线与地形相切时发生，此时更远下坡点的回波将被地形本身遮挡。\n\n使用关于视线和射线-表面相切的第一性原理几何推理，推导出一个解析表达式，用于表示在光束内避免任何几何阴影的最大地形坡度角 $\\alpha_{\\max}$。该表达式需用离天底扫描角 $\\theta$ 和发散半角 $\\delta$ 来表示。所有角度必须以弧度表示。\n\n为了将此几何阈值与崎岖地形中的遮挡概率联系起来，假设在小坡度情况下，地形可以被建模为一个各向同性高斯随机表面，其中在与扫描对齐的水平轴上的表面梯度分量 $\\partial z/\\partial x$ 和 $\\partial z/\\partial y$ 是独立的、均值为零、共同方差为 $\\sigma_{g}^{2}$ 的高斯随机变量。在此模型下，梯度大小 $g=\\sqrt{(\\partial z/\\partial x)^{2}+(\\partial z/\\partial y)^{2}}$ 服从尺度参数为 $\\sigma_{g}$ 的 Rayleigh 分布。坡度角 $\\alpha$ 和梯度大小 $g$ 通过 $\\tan(\\alpha)=g$ 相关联。\n\n将遮挡概率 $P_{\\mathrm{occ}}$ 定义为局部坡度角 $\\alpha$ 超过 $\\alpha_{\\max}$ 的概率，此时对于给定的扫描几何和发散角，会发生几何阴影。从所述的梯度模型出发，推导出一个以 $\\theta$、$\\delta$ 和 $\\sigma_{g}$ 表示的 $P_{\\mathrm{occ}}$ 的闭式解析表达式。\n\n请以单行矩阵的形式提供最终答案对 $\\left(\\alpha_{\\max}, P_{\\mathrm{occ}}\\right)$。所有角度必须以弧度为单位。不需要数值近似；请提供精确的解析表达式。",
            "solution": "该问题经评估具有科学依据、问题明确且客观。所有必要信息均已提供，且无矛盾之处。该问题可以使用第一性原理几何学和应用于遥感领域的标准概率论来解决。\n\n根据题目要求，解答分为两部分推导。首先，我们确定避免几何阴影的最大地形坡度角 $\\alpha_{\\max}$。其次，我们基于给定的统计地形模型推导遮挡概率 $P_{\\mathrm{occ}}$。\n\n**第一部分：最大坡度角 $\\alpha_{\\max}$ 的推导**\n\n我们考虑扫描方向上的一个二维横截面。设当地垂直线为 $z$ 轴，当地水平线为 $x$ 轴。不失一般性，我们可以将激光雷达传感器的位置设为 $(0, H)$。地形是一个背向传感器倾斜的平面，因此对于 $x>0$，其高程减小。地形与水平面所成的坡度角为 $\\alpha$。因此，地形表面线的方程为 $z(x) = -x \\tan(\\alpha)$。该线的斜率为 $m_{\\text{terrain}} = -\\tan(\\alpha)$。\n\n一束激光从传感器以相对于当地垂直线（负 $z$ 轴）的离天底角 $\\phi$ 发射。在 $(x, z)$ 坐标系中，这样一条射线的斜率为 $m_{\\text{ray}} = \\frac{dz}{dx} = -\\cot(\\phi)$。\n\n几何阴影定义为当视线与地形相切时发生。在我们平面地形的模型中，这种相切条件对应于射线与地形表面平行。这发生在它们的斜率相等时：\n$$m_{\\text{ray}} = m_{\\text{terrain}}$$\n$$-\\cot(\\phi) = -\\tan(\\alpha)$$\n使用三角恒等式 $\\cot(\\phi) = \\tan\\left(\\frac{\\pi}{2} - \\phi\\right)$，我们得到：\n$$\\tan\\left(\\frac{\\pi}{2} - \\phi\\right) = \\tan(\\alpha)$$\n假设 $\\alpha$ 和 $\\frac{\\pi}{2} - \\phi$ 都是第一象限的角，我们可以令它们的自变量相等：\n$$\\alpha = \\frac{\\pi}{2} - \\phi$$\n该方程给出了在离天底角 $\\phi$ 下单条射线的临界坡度角 $\\alpha$。如果地形坡度大于此值，即 $\\alpha > \\frac{\\pi}{2} - \\phi$，则地形比射线的路径（相对于水平面）更陡，对于更远的下坡点将发生遮挡。避免该射线发生遮挡的条件是 $\\alpha \\le \\frac{\\pi}{2} - \\phi$，等价于 $\\alpha + \\phi \\le \\frac{\\pi}{2}$。\n\n题目要求我们避免光束*内部*的任何几何阴影。激光束中心位于离天底角 $\\theta$，发散半角为 $\\delta$。因此，光束内射线的角度 $\\phi$ 覆盖区间 $[\\theta - \\delta, \\theta + \\delta]$。为防止任何阴影，条件 $\\alpha + \\phi \\le \\frac{\\pi}{2}$ 必须对该区间内所有的 $\\phi$ 都成立。\n\n为了在 $\\phi$ 的整个范围内满足该不等式，我们必须确保它对于使表达式 $\\alpha + \\phi$ 最大的 $\\phi$ 值成立。这发生在区间中的最大角度处，即 $\\phi_{\\max} = \\theta + \\delta$。因此条件变为：\n$$\\alpha + (\\theta + \\delta) \\le \\frac{\\pi}{2}$$\n最大地形坡度角 $\\alpha_{\\max}$ 是使此不等式变为等式时的 $\\alpha$ 值。\n$$\\alpha_{\\max} = \\frac{\\pi}{2} - (\\theta + \\delta) = \\frac{\\pi}{2} - \\theta - \\delta$$\n\n**第二部分：遮挡概率 $P_{\\mathrm{occ}}$ 的推导**\n\n遮挡概率 $P_{\\mathrm{occ}}$ 定义为局部坡度角 $\\alpha$ 超过推导出的最大无阴影坡度 $\\alpha_{\\max}$ 的概率。\n$$P_{\\mathrm{occ}} = P(\\alpha > \\alpha_{\\max})$$\n题目指出，坡度角 $\\alpha$ 通过 $\\tan(\\alpha) = g$ 与地形梯度大小 $g$ 相关。由于 $\\tan(\\cdot)$ 在角度区间 $[0, \\frac{\\pi}{2})$ 上是单调递增函数，不等式 $\\alpha > \\alpha_{\\max}$ 等价于 $\\tan(\\alpha) > \\tan(\\alpha_{\\max})$。因此：\n$$P_{\\mathrm{occ}} = P(g > \\tan(\\alpha_{\\max}))$$\n给定的地形梯度大小 $g$ 服从尺度参数为 $\\sigma_g$ 的 Rayleigh 分布。 $g$ 的概率密度函数 (PDF) 为：\n$$f_g(x) = \\frac{x}{\\sigma_g^2} \\exp\\left(-\\frac{x^2}{2\\sigma_g^2}\\right), \\quad \\text{for } x \\ge 0$$\n概率 $P(g > g_{\\text{crit}})$ 可以通过将 PDF 从 $g_{\\text{crit}} = \\tan(\\alpha_{\\max})$ 积分到无穷大来求得。这等价于生存函数 $1-F_g(g_{\\text{crit}})$，其中 $F_g(x)$ 是累积分布函数 (CDF)。Rayleigh 分布的 CDF 为：\n$$F_g(x) = P(g \\le x) = 1 - \\exp\\left(-\\frac{x^2}{2\\sigma_g^2}\\right)$$\n因此，遮挡概率为：\n$$P_{\\mathrm{occ}} = P(g > \\tan(\\alpha_{\\max})) = 1 - F_g(\\tan(\\alpha_{\\max})) = 1 - \\left(1 - \\exp\\left(-\\frac{\\tan^2(\\alpha_{\\max})}{2\\sigma_g^2}\\right)\\right)$$\n$$P_{\\mathrm{occ}} = \\exp\\left(-\\frac{\\tan^2(\\alpha_{\\max})}{2\\sigma_g^2}\\right)$$\n现在，我们代入第一部分中 $\\alpha_{\\max}$ 的表达式：\n$$\\tan(\\alpha_{\\max}) = \\tan\\left(\\frac{\\pi}{2} - (\\theta + \\delta)\\right) = \\cot(\\theta + \\delta)$$\n将此结果代回 $P_{\\mathrm{occ}}$ 的表达式中，得到最终的闭式表达式：\n$$P_{\\mathrm{occ}} = \\exp\\left(-\\frac{\\cot^2(\\theta + \\delta)}{2\\sigma_g^2}\\right)$$\n最终答案由推导出的 $\\alpha_{\\max}$ 和 $P_{\\mathrm{occ}}$ 的表达式对组成。",
            "answer": "$$\\boxed{\\begin{pmatrix} \\frac{\\pi}{2} - \\theta - \\delta & \\exp\\left(-\\frac{\\cot^2(\\theta + \\delta)}{2\\sigma_g^2}\\right) \\end{pmatrix}}$$"
        }
    ]
}