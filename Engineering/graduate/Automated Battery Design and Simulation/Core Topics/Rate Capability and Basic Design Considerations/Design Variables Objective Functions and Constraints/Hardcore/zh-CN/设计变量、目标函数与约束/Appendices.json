{
    "hands_on_practices": [
        {
            "introduction": "本节的第一个实践将我们的讨论置于一个切实的工程权衡问题中。我们将探讨如何通过平衡增加的储能所带来的经济价值与不断上升的制造成本及性能衰减，来确定电池电极的最佳厚度。通过这个练习，您将应用基本的微积分概念来寻找一个“盈亏平衡点”，这是电池设计技术经济分析中的一项核心技能。",
            "id": "3906108",
            "problem": "在一个自动化的电池设计和仿真工作流程下，正为一个固定的放电速率设计一种多孔锂离子正极。设计变量是电极厚度 $L$（单位为米）。在此放电速率下，单位面积储存的能量被建模为 $E_{a}(L) = e_{v} \\, L \\, \\eta(L)$，其中 $e_{v}$ 是活性材料的体积能量密度，$\\eta(L)$ 是在输运限制操作下的利用率因子。对于一维多孔电极中的中等速率，基于扩散-反应理论的经验拟合通常将 $\\eta(L)$ 建模为 $\\eta(L) = \\frac{1}{1 + \\beta L}$，其中 $\\beta$ 是一个正的常数，其量纲为长度的倒数。\n\n单位面积制造成本被建模为 $C_{a}(L) = c_{o} + c_{m} \\, L$，其中 $c_{o}$ 是与面积无关的固定开销，$c_{m}$ 是每单位厚度的有效边际成本（材料和加工），其量纲为 $\\text{currency/m}^3$。储存能量的价值以 $p_{E}$ 进行货币化，单位为 $\\text{currency/Joule}$。放电时间约束施加了一个由 $\\tau_{d}(L) = \\frac{L^{2}}{D} \\leq \\tau_{\\mathrm{req}}$ 给出的扩散限制，其中 $D$ 是多孔电极中的有效离子扩散系数，$\\tau_{\\mathrm{req}}$ 是要求的最大放电时间。\n\n给定以下参数：\n- $e_{v} = 3.6 \\times 10^{9} \\ \\text{J} \\cdot \\text{m}^{-3}$，\n- $\\beta = 1.0 \\times 10^{4} \\ \\text{m}^{-1}$，\n- $c_{o} = 5 \\ \\text{currency} \\cdot \\text{m}^{-2}$，\n- $c_{m} = 2.0 \\times 10^{4} \\ \\text{currency} \\cdot \\text{m}^{-3}$，\n- $p_{E} = 1.389 \\times 10^{-5} \\ \\text{currency} \\cdot \\text{J}^{-1}$，\n- $D = 5.0 \\times 10^{-10} \\ \\text{m}^{2} \\cdot \\text{s}^{-1}$，\n- $\\tau_{\\mathrm{req}} = 100 \\ \\text{s}$，\n\n从 $E_{a}(L)$ 和 $C_{a}(L)$ 的定义出发，计算将 $L$ 增加一个微小增量 $\\Delta L$ 的一阶边际成本，以及相应的货币化储存能量的一阶边际收益。然后，在满足放电时间约束的条件下，确定收支平衡厚度 $L^{\\ast}$，在该厚度下，边际货币化收益等于边际成本。最后，使用给定参数对 $L^{\\ast}$ 进行数值计算，验证其是否满足扩散约束，并报告收支平衡厚度。将最终数值答案四舍五入至四位有效数字，并以微米表示厚度。",
            "solution": "该问题要求找到收支平衡的电极厚度 $L^{\\ast}$，在该厚度下，增加厚度的边际成本与增加的储存能量所带来的边际收益完全平衡，同时受限于放电时间的物理约束。\n\n单位面积制造成本由 $C_{a}(L) = c_{o} + c_{m} L$ 给出。单位面积储存能量的货币化价值为 $V_{a}(L) = p_{E} E_{a}(L)$。代入给定的 $E_{a}(L)$ 和 $\\eta(L)$ 表达式，我们得到：\n$$V_{a}(L) = p_{E} \\left( e_{v} L \\frac{1}{1 + \\beta L} \\right) = \\frac{p_{E} e_{v} L}{1 + \\beta L}$$\n\n问题要求边际成本和边际收益。在此背景下，“边际”指的是相对于设计变量 $L$ 的变化率。因此，我们必须计算 $C_{a}(L)$ 和 $V_{a}(L)$ 关于 $L$ 的一阶导数。\n\n一阶边际成本是成本函数的导数：\n$$\\text{Marginal Cost} = \\frac{dC_{a}}{dL} = \\frac{d}{dL}(c_{o} + c_{m} L) = c_{m}$$\n\n一阶边际收益是货币化能量价值函数的导数：\n$$\\text{Marginal Gain} = \\frac{dV_{a}}{dL} = \\frac{d}{dL} \\left( \\frac{p_{E} e_{v} L}{1 + \\beta L} \\right)$$\n使用除法求导法则 $\\frac{d}{dx}\\left(\\frac{u}{v}\\right) = \\frac{u'v - uv'}{v^2}$，令 $u = p_{E} e_{v} L$ 和 $v = 1 + \\beta L$，我们得到 $u' = p_{E} e_{v}$ 和 $v' = \\beta$。\n$$\\frac{dV_{a}}{dL} = \\frac{(p_{E} e_{v})(1 + \\beta L) - (p_{E} e_{v} L)(\\beta)}{(1 + \\beta L)^2} = \\frac{p_{E} e_{v} + p_{E} e_{v} \\beta L - p_{E} e_{v} \\beta L}{(1 + \\beta L)^2} = \\frac{p_{E} e_{v}}{(1 + \\beta L)^2}$$\n\n收支平衡厚度 $L^{\\ast}$ 是边际收益等于边际成本时的 $L$ 值：\n$$\\frac{p_{E} e_{v}}{(1 + \\beta L^{\\ast})^2} = c_{m}$$\n我们现在解这个方程求 $L^{\\ast}$：\n$$(1 + \\beta L^{\\ast})^2 = \\frac{p_{E} e_{v}}{c_{m}}$$\n对两边取正平方根（因为 $L^{\\ast}$ 必须为正，所以 $1 + \\beta L^{\\ast}$ 也必须为正）：\n$$1 + \\beta L^{\\ast} = \\sqrt{\\frac{p_{E} e_{v}}{c_{m}}}$$\n$$\\beta L^{\\ast} = \\sqrt{\\frac{p_{E} e_{v}}{c_{m}}} - 1$$\n$$L^{\\ast} = \\frac{1}{\\beta} \\left( \\sqrt{\\frac{p_{E} e_{v}}{c_{m}}} - 1 \\right)$$\n这是收支平衡厚度的解析表达式。\n\n接下来，我们必须根据放电时间约束来检查此解：\n$$\\frac{L^2}{D} \\leq \\tau_{\\mathrm{req}} \\implies L^2 \\leq D \\tau_{\\mathrm{req}} \\implies L \\leq \\sqrt{D \\tau_{\\mathrm{req}}}$$\n让我们定义最大允许厚度为 $L_{\\mathrm{max}} = \\sqrt{D \\tau_{\\mathrm{req}}}$。计算出的 $L^{\\ast}$ 仅在 $L^{\\ast} \\leq L_{\\mathrm{max}}$ 时为有效解。\n\n现在，我们代入给定的数值。\n首先，计算 $L^{\\ast}$ 表达式中平方根内的项：\n$$\\frac{p_{E} e_{v}}{c_{m}} = \\frac{(1.389 \\times 10^{-5} \\ \\text{currency} \\cdot \\text{J}^{-1}) (3.6 \\times 10^{9} \\ \\text{J} \\cdot \\text{m}^{-3})}{2.0 \\times 10^{4} \\ \\text{currency} \\cdot \\text{m}^{-3}} = \\frac{5.0004 \\times 10^4}{2.0 \\times 10^{4}} = 2.5002$$\n现在，将此值代入 $L^{\\ast}$ 的表达式中：\n$$L^{\\ast} = \\frac{1}{1.0 \\times 10^{4} \\ \\text{m}^{-1}} \\left( \\sqrt{2.5002} - 1 \\right)$$\n$$L^{\\ast} \\approx \\frac{1}{1.0 \\times 10^{4}} \\left( 1.58120207 - 1 \\right) \\ \\text{m} = \\frac{0.58120207}{1.0 \\times 10^{4}} \\ \\text{m} \\approx 5.81202 \\times 10^{-5} \\ \\text{m}$$\n\n现在，我们通过计算 $L_{\\mathrm{max}}$ 来验证该值是否满足放电时间约束：\n$$L_{\\mathrm{max}} = \\sqrt{D \\tau_{\\mathrm{req}}} = \\sqrt{(5.0 \\times 10^{-10} \\ \\text{m}^{2} \\cdot \\text{s}^{-1})(100 \\ \\text{s})} = \\sqrt{5.0 \\times 10^{-8} \\ \\text{m}^2}$$\n$$L_{\\mathrm{max}} = \\sqrt{5} \\times 10^{-4} \\ \\text{m} \\approx 2.23607 \\times 10^{-4} \\ \\text{m}$$\n比较数值：\n$$L^{\\ast} \\approx 5.812 \\times 10^{-5} \\ \\text{m}$$\n$$L_{\\mathrm{max}} \\approx 2.236 \\times 10^{-4} \\ \\text{m}$$\n由于 $5.812 \\times 10^{-5}  2.236 \\times 10^{-4}$，条件 $L^{\\ast} \\leq L_{\\mathrm{max}}$ 得到满足。收支平衡厚度在物理允许的范围内。\n\n最后，我们报告以微米为单位、四舍五入至四位有效数字的 $L^{\\ast}$ 值。\n$$L^{\\ast} = 5.81202 \\times 10^{-5} \\ \\text{m} \\times \\left( \\frac{10^6 \\ \\mu\\text{m}}{1 \\ \\text{m}} \\right) = 58.1202 \\ \\mu\\text{m}$$\n四舍五入至四位有效数字得到 $58.12 \\ \\mu\\text{m}$。",
            "answer": "$$\\boxed{58.12}$$"
        },
        {
            "introduction": "现实世界的电池设计很少只涉及单一变量，它是在严格的操作约束下多个参数相互作用的复杂过程。这个练习通过引入一个受所需容量和热安全限制双重约束的双变量问题，提升了挑战的难度。您将学习应用强大的 Karush-Kuhn-Tucker (KKT) 条件来解决这个问题，并且至关重要的是，学会将得到的拉格朗日乘子解释为敏感度，从而对设计权衡获得深刻的理解。",
            "id": "3906150",
            "problem": "一个自动化的电池设计和仿真工作流考虑了单层软包电池模型的两个标量设计变量：无量纲的正极涂层厚度 $x$（通过参考厚度归一化）和正极孔隙率 $y$（无量纲）。一个从高保真仿真中派生出的代理目标函数 $f(x,y)$，量化了在目标放电速率下，由于传输和热损失所导致的体积能量密度的预测惩罚。该代理函数是严格凸的，由 $f(x,y) = (x - 1)^{2} + (y - 0.5)^{2} + 0.1 \\, x \\, y$ 给出。设计必须满足一个源于定义 $Q_{\\mathrm{areal}} = \\alpha \\, x \\, (1 - y)$ 的所需面容量，其中 $\\alpha$ 是一个综合了材料负载和活性分数的比例系数。等式约束为 $g(x,y) = \\alpha \\, x \\, (1 - y) - C_{0} = 0$，其中 $\\alpha = 2$ 且 $C_{0} = 1$。为了限制在指定放电速率下的最大温升，施加了一个线性化的热预算不等式约束 $h(x,y) = x + y - 1.2 \\le 0$，该约束是通过对速率相关的产热和散热平衡进行一阶展开得到的。\n\n从约束优化的基本定义出发，利用 Karush-Kuhn-Tucker (KKT) 条件，并将 $h(x,y)$ 在最优点处视为活动约束，建立拉格朗日函数并推导 KKT 系统。对其进行数值求解，以找到最优设计及相关的乘子。解释乘子在最优目标对约束松弛的边际灵敏度方面的物理意义。报告最优点处不等式约束乘子 $\\mu$ 的值。将您的答案四舍五入到四位有效数字。以无单位形式表达您的最终答案（该乘子是无量纲的）。",
            "solution": "问题要求解一个电池优化问题的最优设计变量和拉格朗日乘子，特别是求不等式约束乘子 $\\mu$ 的值。该优化问题是在一个等式约束 $g(x,y)=0$ 和一个不等式约束 $h(x,y) \\le 0$ 的条件下，最小化目标函数 $f(x,y)$。\n\n给定的函数和常数如下：\n目标函数（待最小化）：$f(x,y) = (x - 1)^{2} + (y - 0.5)^{2} + 0.1xy$\n等式约束：$g(x,y) = \\alpha x (1 - y) - C_{0} = 0$，其中 $\\alpha = 2$ 且 $C_{0} = 1$。这变为 $g(x,y) = 2x(1-y) - 1 = 0$。\n不等式约束：$h(x,y) = x + y - 1.2 \\le 0$。\n\n解是利用 Karush-Kuhn-Tucker (KKT) 条件找到的。此问题的拉格朗日函数 $L(x, y, \\lambda, \\mu)$ 是通过将目标函数与约束增广而构建的，其中使用拉格朗日乘子 $\\lambda$ 对应等式约束，$\\mu$ 对应不等式约束。\n$$L(x, y, \\lambda, \\mu) = f(x,y) + \\lambda g(x,y) + \\mu h(x,y)$$\n$$L(x, y, \\lambda, \\mu) = \\left((x - 1)^{2} + (y - 0.5)^{2} + 0.1xy\\right) + \\lambda(2x(1-y) - 1) + \\mu(x + y - 1.2)$$\n最优点 $(x^*, y^*, \\lambda^*, \\mu^*)$ 的 KKT 条件如下：\n1.  平稳性 (Stationarity)：拉格朗日函数相对于设计变量的梯度必须为零。\n    $$\\frac{\\partial L}{\\partial x} = 2(x - 1) + 0.1y + 2\\lambda(1-y) + \\mu = 0$$\n    $$\\frac{\\partial L}{\\partial y} = 2(y - 0.5) + 0.1x - 2\\lambda x + \\mu = 0$$\n2.  原始可行性 (Primal Feasibility)：必须满足约束条件。\n    $$g(x,y) = 2x(1-y) - 1 = 0$$\n    $$h(x,y) = x + y - 1.2 \\le 0$$\n3.  对偶可行性 (Dual Feasibility)：不等式乘子必须为非负。\n    $$\\mu \\ge 0$$\n4.  互补松弛性 (Complementary Slackness)：不等式乘子与不等式约束函数的乘积必须为零。\n    $$\\mu h(x,y) = \\mu(x + y - 1.2) = 0$$\n\n问题陈述我们必须将不等式约束 $h(x,y)$ 在最优点处视为活动约束。活动约束意味着它以等式形式被满足：\n$$h(x,y) = x + y - 1.2 = 0$$\n只要解存在，这就满足了互补松弛性条件 $\\mu(x+y-1.2)=0$。这个假设简化了方程组。我们可以用 $x$ 表示 $y$：\n$$y = 1.2 - x$$\n我们将其代入等式约束 $g(x,y)=0$ 中：\n$$2x(1 - (1.2 - x)) - 1 = 0$$\n$$2x(x - 0.2) - 1 = 0$$\n$$2x^2 - 0.4x - 1 = 0$$\n这是一个关于 $x$ 的二次方程。我们使用二次公式 $x = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}$ 来求解：\n$$x = \\frac{0.4 \\pm \\sqrt{(-0.4)^2 - 4(2)(-1)}}{2(2)} = \\frac{0.4 \\pm \\sqrt{0.16 + 8}}{4} = \\frac{0.4 \\pm \\sqrt{8.16}}{4}$$\n由于 $x$ 代表物理厚度，它必须是正数。我们取正根：\n$$x = \\frac{0.4 + \\sqrt{8.16}}{4} \\approx 0.8141428$$\n现在我们求 $y$ 的对应值：\n$$y = 1.2 - x \\approx 1.2 - 0.8141428 = 0.3858572$$\n设计变量 $x > 0$ 且 $y$（孔隙率）在 0 和 1 之间，因此这些值在物理上是合理的。\n\n接下来，我们使用两个平稳性方程来求解乘子 $\\lambda$ 和 $\\mu$。\n1. $2(x - 1) + 0.1y + 2\\lambda(1-y) + \\mu = 0$\n2. $2(y - 0.5) + 0.1x - 2\\lambda x + \\mu = 0$\n\n这是一个关于 $\\lambda$ 和 $\\mu$ 的线性系统。我们可以重新整理它们：\n1. $2\\lambda(1-y) + \\mu = -2(x - 1) - 0.1y$\n2. $-2\\lambda x + \\mu = -2(y - 0.5) - 0.1x$\n\n为了求解 $\\mu$，我们可以消去 $\\lambda$。将方程(1)乘以 $x$，将方程(2)乘以 $(1-y)$，然后将它们相加：\n$$x(2\\lambda(1-y) + \\mu) + (1-y)(-2\\lambda x + \\mu) = x(-2(x - 1) - 0.1y) + (1-y)(-2(y - 0.5) - 0.1x)$$\n含有 $\\lambda$ 的项被消掉了：\n$$\\mu x + \\mu(1-y) = -2x^2 + 2x - 0.1xy - (1-y)(2y-1+0.1x)$$\n$$\\mu(x + 1 - y) = -2x^2 + 2x - 0.1xy - (2y-1+0.1x - 2y^2+y-0.1xy)$$\n$$\\mu(x + 1 - y) = -2x^2 + 2x - 0.1xy - (3y - 1 + 0.1x - 2y^2 - 0.1xy)$$\n$$\\mu(x + 1 - y) = -2x^2 + 2y^2 + 1.9x - 3y + 1$$\n$$\\mu = \\frac{-2x^2 + 2y^2 + 1.9x - 3y + 1}{x - y + 1}$$\n将 $y = 1.2 - x$ 代入此表达式以简化它。\n分母：$x - (1.2-x) + 1 = 2x - 0.2$\n分子：$-2x^2 + 2(1.2-x)^2 + 1.9x - 3(1.2-x) + 1$\n$= -2x^2 + 2(1.44 - 2.4x + x^2) + 1.9x - 3.6 + 3x + 1$\n$= -2x^2 + 2.88 - 4.8x + 2x^2 + 1.9x - 3.6 + 3x + 1$\n$x^2$ 项相互抵消。合并 $x$ 项：$(-4.8 + 1.9 + 3)x = 0.1x$。合并常数项：$2.88 - 3.6 + 1 = 0.28$。\n分子简化为 $0.1x + 0.28$。\n因此，$\\mu$ 的表达式为：\n$$\\mu = \\frac{0.1x + 0.28}{2x - 0.2}$$\n使用计算出的值 $x \\approx 0.8141428$：\n$$\\mu \\approx \\frac{0.1(0.8141428) + 0.28}{2(0.8141428) - 0.2} = \\frac{0.08141428 + 0.28}{1.6282856 - 0.2} = \\frac{0.36141428}{1.4282856} \\approx 0.253041$$\n这个值是正数，满足对偶可行性条件 $\\mu \\ge 0$。\n\n拉格朗日乘子的物理意义是，最优目标函数值对相应约束的微小松弛的灵敏度。\n对于等式约束 $g(x,y) = 2x(1-y) - C_0 = 0$，乘子 $\\lambda$ 近似表示最优惩罚 $f_{opt}$ 相对于所需面容量变化的速率，即 $\\lambda \\approx \\frac{\\partial f_{opt}}{\\partial C_0}$。\n对于不等式约束 $h(x,y) = x+y - 1.2 \\le 0$，乘子 $\\mu$ 给出 $f_{opt}$ 相对于约束右侧值变化的速率。也就是说，对于一个约束 $h(x,y) \\le b$，有 $\\mu \\approx -\\frac{\\partial f_{opt}}{\\partial b}$。一个正的 $\\mu$ 表示放宽约束（例如，增加热预算的值 $1.2$）将会减小可达到的最小惩罚 $f_{opt}$。\n\n问题要求将 $\\mu$ 的值四舍五入到四位有效数字。\n$\\mu \\approx 0.2530$。",
            "answer": "$$ \\boxed{0.2530} $$"
        },
        {
            "introduction": "所有的设计约束都是绝对的吗？这项高级实践通过比较“硬”约束和“软”约束（可以在付出一定代价的情况下被违反）来挑战这一观念。通过引入一个松弛变量和一个惩罚参数，您将研究这种灵活性如何影响最优设计，并发现“精确惩罚阈值”的概念，这是一种在自动化设计流程中用于处理复杂且有时相互冲突的需求的先进技术。",
            "id": "3906112",
            "problem": "一个自动化的电池设计和仿真工作流程选择单个设计变量，即正极厚度 $t$（单位一致），以平衡快充性能、热安全性和容量。设计者使用一个标量聚合目标进行最小化，该目标由基于第一性原理和经过充分验证的代理模型推导出的基本贡献的加权和构成：\n\n- 根据单位体积容量和均匀活性材料负载的定义，面容量与厚度成正比，即 $C(t) = \\kappa t$。\n- 在恒定电流 $I$ 下充电，充电时间与厚度成正比，即 $T(t) = \\frac{C(t)}{I} = \\frac{\\kappa}{I} t$。\n- 电流 $I$ 下的焦耳热遵循 $P(t) = I^2 R(t)$，其中对于一维传导代理模型，$R(t) = r t$；充电时间内的发热能量为 $E_{\\mathrm{heat}}(t) = \\int_0^{T(t)} P(t) \\, dt = I^2 r t \\, T(t) = \\frac{r \\kappa}{I} I^2 t^2$，可简化为 $t^2$ 的一个常数倍。\n\n这些基本模块构成了一个加权目标函数 $F(t)$，形式为 $F(t) = \\omega_T T(t) + \\omega_H E_{\\mathrm{heat}}(t) - \\omega_C C(t)$，其中 $\\omega_T$、$\\omega_H$ 和 $\\omega_C$ 是设计者选择的非负权衡权重，分别代表时间惩罚、发热惩罚和容量奖励。对于一个特定的程序实例，仿真团队对代理模型进行了归一化并选择了权重，使得聚合目标简化为\n$$\nf(t) = a t^2 + (b - c) t\n$$\n其中 $a = 0.02$，$b = 1.2$，$c = 2.0$。\n\n为确保快充过程中的安全，施加了两个不等式约束：\n\n- 一个温升约束，通过将 $I^2 R(t)$ 限制在硬件极限以下得到，并转化为厚度上限 $t \\le t_T$，其中 $t_T = 25$。\n- 一个锂析出风险约束，由校准的线性代理模型 $g(t) = \\lambda t - \\sigma \\le 0$ 建模，其中 $\\lambda = 0.05$ 和 $\\sigma = 0.6$，这意味着硬性析锂极限为 $t \\le t_P$，其中 $t_P = \\frac{\\sigma}{\\lambda} = 12$。\n\n为了比较析锂约束的软执行与硬执行，团队引入了一个松弛变量 $s \\ge 0$，用 $g(t) \\le s$ 替代 $g(t) \\le 0$，并在目标函数中增加一个线性惩罚项 $\\rho s$，其中 $\\rho \\ge 0$ 是惩罚参数。温度约束 $t \\le t_T$ 仍然是硬约束。\n\n考虑由此产生的以 $(t, s)$ 为决策变量的一维优化问题：\n$$\n\\min_{t, s} \\quad f(t) + \\rho s \\quad \\text{subject to} \\quad t \\le t_T, \\quad \\lambda t - \\sigma \\le s, \\quad s \\ge 0, \\quad t \\ge 0,\n$$\n并将其与通过去掉 $s$ 和强制执行 $t \\le t_P$ 得到的硬约束析锂公式进行比较。基于第一性原理、精确罚函数理论和给定的数值实例，以下哪些陈述是正确的？\n\nA. 对于惩罚系数 $0  \\rho  \\rho^{\\star}$，其中 $\\rho^{\\star} = \\frac{c - b - 2 a t_P}{\\lambda}$，软约束最优点违反了析锂极限，此时 $s^{\\star} = \\lambda t^{\\star} - \\sigma > 0$ 且 $t^{\\star} = \\min\\left( t_T, \\frac{c - b - \\rho \\lambda}{2 a} \\right)$。\n\nB. 如果 $\\rho \\ge \\rho^{\\star}$，最优松弛量为 $s^{\\star} = 0$，且软约束最优点与硬约束最优点 $t^{\\star} = \\min(t_T, t_P)$ 一致。\n\nC. 对于任何 $\\rho > 0$，软约束公式在最优点处强制 $s^{\\star} = 0$，因此无论 $\\rho$ 的值如何，它都与硬约束完全等效。\n\nD. 精确性阈值满足 $\\rho^{\\star} = \\mu_P^{\\star}/\\lambda$，其中 $\\mu_P^{\\star}$ 是硬约束最优点处硬性析锂约束的 Karush-Kuhn-Tucker (KKT) 乘子。\n\nE. 在此模型中，将 $\\rho$ 增加到超过 $\\rho^{\\star}$ 会迫使温度约束变为激活状态（即 $t^{\\star} = t_T$），因为惩罚总是将激活状态从软化的约束转移到剩余的约束上。\n\n选择所有适用项。",
            "solution": "首先验证问题陈述，以确保其科学基础可靠、问题定义良好、客观且内容完整。\n\n### 步骤 1：提取已知条件\n-   待最小化的目标函数：$f(t) = a t^2 + (b - c) t$。\n-   系数：$a = 0.02$，$b = 1.2$，$c = 2.0$。\n-   温度约束：$t \\le t_T$，其中 $t_T = 25$。\n-   析锂风险约束代理模型：$g(t) = \\lambda t - \\sigma \\le 0$。\n-   析锂参数：$\\lambda = 0.05$，$\\sigma = 0.6$。\n-   隐含的硬性析锂极限：$t \\le t_P = \\frac{\\sigma}{\\lambda} = \\frac{0.6}{0.05} = 12$。\n-   隐含的非负约束：$t \\ge 0$。\n-   软约束问题公式：\n    $$\n    \\min_{t, s} \\quad f(t) + \\rho s\n    $$\n    约束条件为：\n    $$\n    t \\le t_T, \\quad \\lambda t - \\sigma \\le s, \\quad s \\ge 0, \\quad t \\ge 0.\n    $$\n-   硬约束问题公式为：\n    $$\n    \\min_{t} \\quad f(t)\n    $$\n    约束条件为：\n    $$\n    t \\le t_T, \\quad t \\le t_P, \\quad t \\ge 0.\n    $$\n\n### 步骤 2：使用提取的已知条件进行验证\n-   **科学基础可靠**：该问题提出了一个简化但有物理动机的电池设计优化模型。目标函数聚合了相互竞争的性能指标（充电时间、发热、容量），约束代表了物理极限（温度、锂析出）。这是工程设计中的标准方法，并基于既定原理。\n-   **问题定义良好**：硬约束和软约束问题都是带线性约束的二次规划问题。目标函数是凸的（因为 $a > 0$），可行域是一个凸集（硬约束情况下为一个区间，软约束情况下为一个凸多面体）。此类问题是适定 (well-posed) 的，并且有唯一解。\n-   **客观性**：问题使用精确的数学语言陈述，所有术语和参数都有明确定义。它没有主观或含糊不清的陈述。\n-   **完整性和一致性**：提供了所有必要的数值。约束是一致的（$t_P = 12  t_T = 25$）。问题是自洽的。\n\n### 步骤 3：结论和行动\n问题陈述有效。我们可以继续进行求解。\n\n### 硬约束问题分析\n\n优化问题是：\n$$\n\\min_t \\quad f(t) = 0.02 t^2 + (1.2 - 2.0) t = 0.02 t^2 - 0.8 t\n$$\n约束条件为 $t \\ge 0$，$t \\le t_T=25$ 和 $t \\le t_P=12$。\n这些约束共同定义了可行域为区间 $[0, 12]$。\n\n目标函数 $f(t)$ 是一个凸抛物线。其无约束最小值可以通过将其导数设为零来找到：\n$$\nf'(t) = 0.04 t - 0.8 = 0 \\implies t = \\frac{0.8}{0.04} = 20.\n$$\n无约束最小值点 $t=20$ 位于可行域 $[0, 12]$ 之外。由于该函数是一个开口向上的抛物线，且其顶点在区间 $[0, 12]$ 的右侧，因此函数 $f(t)$ 在此区间上是单调递减的。因此，$f(t)$ 在 $[0, 12]$ 上的最小值出现在最右侧的边界点，即 $t^{\\star}_{\\text{hard}} = 12$。\n\n### 软约束问题分析\n\n问题是：\n$$\n\\min_{t, s} \\quad F(t, s) = (0.02 t^2 - 0.8 t) + \\rho s\n$$\n约束条件为 $t \\in [0, 25]$，$s \\ge 0$，以及 $s \\ge \\lambda t - \\sigma = 0.05 t - 0.6$。\n\n由于惩罚参数 $\\rho \\ge 0$，为了最小化目标函数，我们必须为松弛变量 $s$ 选择尽可能小的值。对 $s$ 的约束要求 $s \\ge \\max(0, \\lambda t - \\sigma)$。因此，在最优点，我们将有 $s = \\max(0, \\lambda t - \\sigma)$。将此代入目标函数，可将问题简化为在可行范围 $t \\in [0, 25]$ 内对 $t$ 的单变量优化问题：\n$$\n\\min_{t \\in [0, 25]} \\quad J(t) = f(t) + \\rho \\max(0, \\lambda t - \\sigma)\n$$\n表达式 $\\max(0, \\lambda t - \\sigma)$ 仅在 $\\lambda t - \\sigma > 0$ 时非零，这等价于 $t > \\sigma/\\lambda = t_P = 12$。我们可以将 $J(t)$ 写成分段函数：\n$$\nJ(t) = \\begin{cases} f(t) = 0.02 t^2 - 0.8 t  \\text{若 } 0 \\le t \\le 12 \\\\ f(t) + \\rho(\\lambda t - \\sigma) = 0.02 t^2 + (0.05 \\rho - 0.8) t - 0.6 \\rho  \\text{若 } 12  t \\le 25 \\end{cases}\n$$\n函数 $J(t)$ 是凸函数，因为它是一个凸函数 $f(t)$ 和另一个凸函数 $\\rho \\max(0, \\lambda t - \\sigma)$ 的和。$J(t)$ 在 $[0, 25]$ 上的最小值可以通过分析其导数（或在不可导点 $t=12$ 处的次梯度）来找到。\n\n导数为：\n$$\nJ'(t) = \\begin{cases} 0.04 t - 0.8  \\text{若 } t  12 \\\\ 0.04 t + 0.05 \\rho - 0.8  \\text{若 } t > 12 \\end{cases}\n$$\n在点 $t=12$ 处，函数是连续的，但其导数有跳跃。左导数和右导数为：\n$$\nJ'_{-}(12) = 0.04(12) - 0.8 = 0.48 - 0.8 = -0.32\n$$\n$$\nJ'_{+}(12) = 0.04(12) + 0.05 \\rho - 0.8 = -0.32 + 0.05 \\rho\n$$\n凸函数 $J(t)$ 的最小值在 $t=12$ 处取到，当且仅当 $t=12$ 处的次梯度包含零。次梯度是区间 $[J'_{-}(12), J'_{+}(12)]$。为了让 $0$ 包含在该区间内，我们需要 $J'_{-}(12) \\le 0$ 和 $J'_{+}(12) \\ge 0$。第一个条件 $-0.32 \\le 0$ 总是成立。第二个条件 $-0.32 + 0.05 \\rho \\ge 0$ 给出 $\\rho \\ge \\frac{0.32}{0.05} = 6.4$。\n\n这定义了精确惩罚阈值：$\\rho^{\\star} = 6.4$。\n\n-   **情况 1：$\\rho \\ge \\rho^{\\star} = 6.4$**\n    最小值在 $t^{\\star} = 12$ 处取得。在这种情况下，$s^{\\star} = \\max(0, \\lambda(12) - \\sigma) = \\max(0, 0) = 0$。解 $(t^{\\star}, s^{\\star}) = (12, 0)$ 意味着软约束最优点与硬约束最优点重合，并且析锂约束被精确满足。\n\n-   **情况 2：$0 \\le \\rho  \\rho^{\\star} = 6.4$**\n    右导数 $J'_{+}(12)$ 为负，因此函数在 $t > 12$ 时继续减小。当 $t > 12$ 时，最小值出现在 $J'(t) = 0$ 的地方，即 $0.04 t + 0.05 \\rho - 0.8 = 0$。这给出了第二段的无约束最小化点：$t = \\frac{0.8 - 0.05 \\rho}{0.04} = 20 - 1.25 \\rho$。对于 $\\rho \\in [0, 6.4)$，这个 $t$ 值在范围 $(12, 20]$ 内。这在整个关注区间 $[0, 25]$ 之内，并且也小于 $t_T=25$。因此，最优点是 $t^{\\star} = 20 - 1.25 \\rho$。由于 $t^{\\star} > 12$，松弛变量为正：$s^{\\star} = \\lambda t^{\\star} - \\sigma > 0$。软约束最优点违反了硬性析锂极限 $t \\le 12$。\n\n### 选项评估\n\n**A. 对于惩罚系数 $0  \\rho  \\rho^{\\star}$，其中 $\\rho^{\\star} = \\frac{c - b - 2 a t_P}{\\lambda}$，软约束最优点违反了析锂极限，此时 $s^{\\star} = \\lambda t^{\\star} - \\sigma > 0$ 且 $t^{\\star} = \\min\\left( t_T, \\frac{c - b - \\rho \\lambda}{2 a} \\right)$。**\n\n我们来检查 $\\rho^{\\star}$ 的公式。项 $c - b - 2 a t_P = 2.0 - 1.2 - 2(0.02)(12) = 0.8 - 0.48 = 0.32$。那么 $\\frac{c - b - 2 a t_P}{\\lambda} = \\frac{0.32}{0.05} = 6.4$。这与我们推导的 $\\rho^{\\star}$ 相符。\n现在，我们来检查 $t^{\\star}$ 的公式。项 $\\frac{c - b - \\rho \\lambda}{2 a} = \\frac{2.0 - 1.2 - \\rho(0.05)}{2(0.02)} = \\frac{0.8 - 0.05 \\rho}{0.04} = 20 - 1.25 \\rho$。正如在情况2中确定的，对于 $0  \\rho  \\rho^{\\star}$，最优点确实是 $t^{\\star} = 20 - 1.25 \\rho$。由于这个值小于 $t_T=25$，公式 $t^{\\star} = \\min\\left( t_T, 20 - 1.25 \\rho \\right)$ 是正确的。此外，由于 $t^{\\star} > t_P = 12$，松弛量为正，$s^{\\star} > 0$。因此，该陈述是正确的。\n**结论：正确。**\n\n**B. 如果 $\\rho \\ge \\rho^{\\star}$，最优松弛量为 $s^{\\star} = 0$，且软约束最优点与硬约束最优点 $t^{\\star} = \\min(t_T, t_P)$ 一致。**\n\n正如在情况1中推导的，对于 $\\rho \\ge \\rho^{\\star} = 6.4$，最优点是 $t^{\\star} = 12$ 且 $s^{\\star} = 0$。\n硬约束最优点是 $t^{\\star}_{\\text{hard}} = \\min(t_T, t_P) = \\min(25, 12) = 12$。\n软约束最优点 $t^{\\star}=12$ 确实与硬约束最优点一致。该陈述是正确的。\n**结论：正确。**\n\n**C. 对于任何 $\\rho > 0$，软约束公式在最优点处强制 $s^{\\star} = 0$，因此无论 $\\rho$ 的值如何，它都与硬约束完全等效。**\n\n这是错误的。如情况2所示以及在选项A的分析中提到的，对于范围 $0  \\rho  \\rho^{\\star} = 6.4$ 内的任何 $\\rho$，最优松弛量 $s^{\\star} > 0$。硬约束被违反。仅当 $\\rho \\ge \\rho^{\\star}$ 时，等价性才成立。\n**结论：不正确。**\n\n**D. 精确性阈值满足 $\\rho^{\\star} = \\mu_P^{\\star}/\\lambda$，其中 $\\mu_P^{\\star}$ 是硬约束最优点处硬性析锂约束的 Karush-Kuhn-Tucker (KKT) 乘子。**\n\n我们将硬性析锂约束正式定义为 $t - t_P \\le 0$。硬约束问题的拉格朗日函数是 $L(t, \\mu_P, \\dots) = f(t) + \\mu_P(t-t_P) + \\dots$。在最优点 $t^{\\star} = t_P = 12$ 处的KKT平稳性条件给出 $f'(t^{\\star}) + \\mu_P^{\\star} = 0$。\n$f'(12) = 0.04(12) - 0.8 = -0.32$。\n因此，KKT乘子是 $\\mu_P^{\\star} = -f'(12) = 0.32$。\n现在我们检查选项中给出的关系：$\\frac{\\mu_P^{\\star}}{\\lambda} = \\frac{0.32}{0.05} = 6.4$。\n这个值恰好是我们推导出的精确性阈值 $\\rho^{\\star}$。该陈述反映了罚函数理论中的一个标准结果，并且对于本问题在数学上是正确的。\n**结论：正确。**\n\n**E. 在此模型中，将 $\\rho$ 增加到超过 $\\rho^{\\star}$ 会迫使温度约束变为激活状态（即 $t^{\\star} = t_T$），因为惩罚总是将激活状态从软化的约束转移到剩余的约束上。**\n\n对于任何 $\\rho \\ge \\rho^{\\star}$，最优解固定在 $t^{\\star} = 12$。温度约束是 $t \\le t_T = 25$。由于 $12  25$，温度约束是严格非激活的。在这种情况下，将 $\\rho$ 增加到超过 $\\rho^{\\star}$ 根本不会改变最优的 $t^{\\star}$。所提供的推理是一个无效的过度概括。\n**结论：不正确。**\n\n正确的陈述是 A、B 和 D。",
            "answer": "$$\\boxed{ABD}$$"
        }
    ]
}