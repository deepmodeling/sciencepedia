{
    "hands_on_practices": [
        {
            "introduction": "This first exercise explores a critical aspect of numerical simulation: ensuring that the solution respects fundamental physical laws. We will use the explicit Euler method, a foundational time integration technique, to model a simple concentration decay process relevant to battery side reactions . Through this practice, you will derive the condition under which the numerical solution preserves positivity, a non-negotiable physical constraint, and see how the choice of time step $h$ is crucial for obtaining physically meaningful results.",
            "id": "3957718",
            "problem": "An automated battery design algorithm must simulate the evolution of a non-dimensional electrolyte concentration $c(t)$ within a porous electrode under a homogeneous, first-order consumption mechanism driven by side reactions. The rate of change of $c(t)$ is modeled by the ordinary differential equation (ODE) $\\dot{c}(t) = -k\\,c(t)$, where $k  0$ is a constant reaction rate, and the initial condition satisfies $c(0) = c_0 \\ge 0$. In this workflow, an explicit one-step method is used with a uniform time step $h  0$ to approximate the solution. Positivity of the numerical concentration is a strict physical requirement in the design loop, because negative concentrations are non-physical and lead to infeasible designs.\n\nStarting only from the definition of the time derivative $\\dot{c}(t) = \\frac{dc}{dt}$ and the first-order reaction law $\\dot{c}(t) = -k\\,c(t)$, derive the explicit forward update used by the explicit Euler method at discrete times $t_n = n h$, and assess whether this method preserves positivity of $c_n$ provided $c_0 \\ge 0$. Then, determine the necessary and sufficient condition on the time step $h$ that guarantees the numerical solution $c_n$ remains non-negative for all integer $n \\ge 0$. Finally, provide the largest admissible uniform time step $h_{\\mathrm{max}}$ expressed as a symbolic function of $k$ only. Express the final answer for $h_{\\mathrm{max}}$ in seconds. No rounding is required.",
            "solution": "The problem requires the derivation of the explicit Euler method for the given ODE, an analysis of its positivity-preserving property, and the determination of the stability constraint on the time step $h$.\n\nFirst, we derive the numerical scheme. The definition of the time derivative is $\\dot{c}(t) = \\frac{dc}{dt}$. At a discrete time $t_n = n h$, we can approximate this derivative using a forward difference formula with a finite time step $h$:\n$$\n\\dot{c}(t_n) \\approx \\frac{c(t_{n+1}) - c(t_n)}{h}\n$$\nLet $c_n$ be the numerical approximation of $c(t_n)$. The approximation for the derivative is then written as:\n$$\n\\dot{c}(t_n) \\approx \\frac{c_{n+1} - c_n}{h}\n$$\nThe explicit Euler method evaluates the right-hand side of the ODE, $-k\\,c(t)$, at the current time step $t_n$, using the current state $c_n$. Thus, we equate the forward difference approximation of the derivative with the ODE's right-hand side evaluated at $t_n$:\n$$\n\\frac{c_{n+1} - c_n}{h} = -k\\,c_n\n$$\nThis equation provides the update rule for the explicit Euler method. To find $c_{n+1}$ as a function of $c_n$, we rearrange the terms:\n$$\nc_{n+1} - c_n = -h k c_n\n$$\n$$\nc_{n+1} = c_n - h k c_n\n$$\nFactoring out $c_n$, we obtain the explicit forward update rule:\n$$\nc_{n+1} = (1 - h k) c_n\n$$\nThis is a linear recurrence relation. We can express $c_n$ directly in terms of the initial condition $c_0$ by applying this relation recursively:\n$$\nc_1 = (1 - h k) c_0\n$$\n$$\nc_2 = (1 - h k) c_1 = (1 - h k) (1 - h k) c_0 = (1 - h k)^2 c_0\n$$\nBy induction, the solution at the $n$-th time step is given by:\n$$\nc_n = (1 - h k)^n c_0\n$$\nNext, we assess whether this method preserves positivity. The problem requires that if $c_0 \\ge 0$, then $c_n \\ge 0$ must hold for all integers $n \\ge 0$.\nIf $c_0 = 0$, then $c_n = 0$ for all $n$, so non-negativity is trivially satisfied.\nConsider the case where $c_0 > 0$. For $c_n = (1 - h k)^n c_0$ to be non-negative for all $n \\ge 0$, the term $(1 - h k)^n$ must be non-negative for all $n \\ge 0$.\nIf the base of the power, $(1 - h k)$, is negative, then for any odd integer $n$, the term $(1 - h k)^n$ will be negative. This would lead to a negative, non-physical concentration $c_n  0$. For example, at $n=1$, $c_1 = (1 - h k)c_0$. If $(1 - h k)  0$, then $c_1  0$, violating the positivity requirement. Therefore, the explicit Euler method does not unconditionally preserve positivity.\n\nTo guarantee $c_n \\ge 0$ for all $n \\ge 0$, the base $(1 - h k)$ must be non-negative. This leads to the necessary and sufficient condition on the time step $h$.\nThe condition is:\n$$\n1 - h k \\ge 0\n$$\nWe now solve this inequality for $h$. Given that $k > 0$ and $h > 0$, we can proceed as follows:\n$$\n1 \\ge h k\n$$\nDividing by the positive constant $k$, we get:\n$$\n\\frac{1}{k} \\ge h \\quad \\text{or} \\quad h \\le \\frac{1}{k}\n$$\nThis is the necessary and sufficient condition on the time step $h$ to ensure that the numerical solution $c_n$ remains non-negative for all $n \\ge 0$, given $c_0 \\ge 0$.\n- **Sufficiency**: If $h \\le 1/k$, then $0 \\le (1 - hk) \\le 1$. Since $c_{n+1} = (1 - hk)c_n$ and $c_0 \\ge 0$, an inductive argument shows that if $c_n \\ge 0$, then $c_{n+1} \\ge 0$. Thus, all $c_n$ remain non-negative.\n- **Necessity**: If $h > 1/k$, then $hk > 1$, which implies $(1 - hk)  0$. For any $c_0 > 0$, the first step yields $c_1 = (1-hk)c_0  0$, which violates the non-negativity constraint. Thus, the condition $h \\le 1/k$ is necessary.\n\nFinally, we must determine the largest admissible uniform time step, $h_{\\mathrm{max}}$, that satisfies this condition. The set of all admissible time steps is the interval $(0, 1/k]$. The largest value in this set is:\n$$\nh_{\\mathrm{max}} = \\frac{1}{k}\n$$\nThe problem specifies that $c(t)$ is non-dimensional. From the ODE $\\dot{c} = -k c$, the units must be consistent. Let $[X]$ denote the units of a quantity $X$. Then $[c]/[t] = [k][c]$. Since $[c] = 1$ (non-dimensional), we have $1/[t] = [k]$. If time is measured in seconds (s), then the units of $k$ are $\\mathrm{s}^{-1}$. Consequently, the units of $h_{\\mathrm{max}} = 1/k$ are $(\\mathrm{s}^{-1})^{-1} = \\mathrm{s}$, which is consistent with the problem's request to provide the answer in seconds.",
            "answer": "$$\\boxed{\\frac{1}{k}}$$"
        },
        {
            "introduction": "Building on the concept of step-size constraints, this practice delves into the crucial topic of numerical stability. You will analyze the behavior of the explicit Euler method when applied to a lumped-parameter thermal model of a battery module, a common simplification in system-level simulations . This exercise will guide you through deriving the maximum time step for stable integration and will illuminate the direct relationship between this numerical limit and the physical thermal time constant of the system.",
            "id": "3957767",
            "problem": "An automated battery thermal management controller uses a lumped-parameter thermal model of a single battery module to predict temperature evolution between control updates. The module is modeled as a uniform thermal mass with total thermal capacitance $C_{\\mathrm{th}}$ and a single thermal resistance $R_{\\mathrm{th}}$ to the coolant loop at temperature $T_{\\mathrm{c}}$. Under a cooling-only interval with negligible internal heat generation and a fixed $T_{\\mathrm{c}}$, the energy balance for the temperature deviation $\\theta(t) = T(t) - T_{\\mathrm{c}}$ follows an ordinary differential equation (ODE):\n$$\n\\frac{d\\theta}{dt} = -\\kappa\\,\\theta,\\quad \\kappa  0,\n$$\nwhere $\\kappa$ is determined by the thermo-physical properties of the module and its thermal interface to the coolant. The controller’s simulator integrates this ODE using the explicit Euler method (also known as the forward Euler method), with a constant time step $h$. The simulation team requires the largest time step $h$ for which the explicit Euler method remains stable in the sense of absolute stability for the linear test equation.\n\nStarting from first principles, derive the condition for stability of the explicit Euler update applied to the above ODE and obtain the maximal admissible time step $h_{\\max}$ in terms of $\\kappa$. Then, connect $\\kappa$ to the thermal time constant $\\tau$ of the module by deriving $\\tau$ from the lumped thermal energy balance. Express $h_{\\max}$ in terms of $\\tau$.\n\nFinally, for a battery module with mass $m = 28\\,\\mathrm{kg}$, specific heat capacity $c_{p} = 900\\,\\mathrm{J}\\,\\mathrm{kg}^{-1}\\,\\mathrm{K}^{-1}$, and thermal resistance to coolant $R_{\\mathrm{th}} = 0.15\\,\\mathrm{K}\\,\\mathrm{W}^{-1}$, compute the numerical value of $h_{\\max}$ in $\\mathrm{s}$. Round your final numerical answer to four significant figures and express the final time step in seconds.",
            "solution": "The solution proceeds in four parts as requested.\n\nFirst, we derive the stability condition for the explicit Euler method applied to the given ordinary differential equation (ODE). The ODE is:\n$$\n\\frac{d\\theta}{dt} = -\\kappa\\,\\theta\n$$\nThe explicit Euler method provides an update rule for a generic ODE $\\frac{dy}{dt} = f(t, y)$ as $y_{n+1} = y_n + h f(t_n, y_n)$, where $h$ is the time step. Applying this to the given ODE, we have $f(t, \\theta) = -\\kappa\\theta$. The update rule for $\\theta$ is:\n$$\n\\theta_{n+1} = \\theta_n + h(-\\kappa \\theta_n) = (1 - \\kappa h)\\theta_n\n$$\nThis equation describes a geometric progression where the solution at each step is multiplied by an amplification factor $G = 1 - \\kappa h$. For the numerical solution to remain stable (not grow unboundedly with time), the magnitude of the amplification factor must be less than or equal to $1$. This is the condition for absolute stability.\n$$\n|G| \\leq 1 \\implies |1 - \\kappa h| \\leq 1\n$$\nThis inequality can be expanded as:\n$$\n-1 \\leq 1 - \\kappa h \\leq 1\n$$\nThe right-hand side gives $1 - \\kappa h \\leq 1 \\implies -\\kappa h \\leq 0 \\implies \\kappa h \\geq 0$. Since $\\kappa > 0$ and $h \\geq 0$, this is always satisfied. The left-hand side gives $-1 \\leq 1 - \\kappa h \\implies \\kappa h \\leq 2 \\implies h \\leq \\frac{2}{\\kappa}$. The explicit Euler method is therefore stable for time steps $h$ in the range $0 \\leq h \\leq \\frac{2}{\\kappa}$. The maximal admissible time step is:\n$$\nh_{\\max} = \\frac{2}{\\kappa}\n$$\nSecond, we relate the parameter $\\kappa$ to the thermal time constant $\\tau$. The energy balance for the lumped-parameter model is given by Newton's law of cooling:\n$$\nC_{\\mathrm{th}}\\frac{dT}{dt} = -\\frac{T(t) - T_c}{R_{\\mathrm{th}}}\n$$\nUsing the temperature deviation $\\theta(t) = T(t) - T_c$ (so $\\frac{d\\theta}{dt} = \\frac{dT}{dt}$), we get:\n$$\nC_{\\mathrm{th}}\\frac{d\\theta}{dt} = -\\frac{\\theta}{R_{\\mathrm{th}}} \\implies \\frac{d\\theta}{dt} = -\\frac{1}{R_{\\mathrm{th}}C_{\\mathrm{th}}}\\theta\n$$\nComparing this with $\\frac{d\\theta}{dt} = -\\kappa\\theta$, we identify $\\kappa = \\frac{1}{R_{\\mathrm{th}}C_{\\mathrm{th}}}$. A first-order system's time constant, $\\tau$, is the coefficient in the form $\\tau \\frac{dy}{dt} + y = 0$. Our equation can be written $R_{\\mathrm{th}}C_{\\mathrm{th}}\\frac{d\\theta}{dt} + \\theta = 0$. Thus, the thermal time constant is $\\tau = R_{\\mathrm{th}}C_{\\mathrm{th}}$, and consequently, $\\kappa = \\frac{1}{\\tau}$.\n\nThird, we express $h_{\\max}$ in terms of $\\tau$. Substituting $\\kappa = \\frac{1}{\\tau}$ into the expression for $h_{\\max}$:\n$$\nh_{\\max} = \\frac{2}{\\kappa} = \\frac{2}{1/\\tau} = 2\\tau\n$$\nFinally, we compute the numerical value of $h_{\\max}$. The total thermal capacitance is $C_{\\mathrm{th}} = m c_p$.\nGiven: $m = 28\\,\\mathrm{kg}$ and $c_p = 900\\,\\mathrm{J}\\,\\mathrm{kg}^{-1}\\,\\mathrm{K}^{-1}$.\n$$\nC_{\\mathrm{th}} = m c_p = 28\\,\\mathrm{kg} \\times 900\\,\\mathrm{J}\\,\\mathrm{kg}^{-1}\\,\\mathrm{K}^{-1} = 25200\\,\\mathrm{J}\\,\\mathrm{K}^{-1}\n$$\nThe thermal resistance is given as $R_{\\mathrm{th}} = 0.15\\,\\mathrm{K}\\,\\mathrm{W}^{-1}$. The thermal time constant $\\tau$ is:\n$$\n\\tau = R_{\\mathrm{th}}C_{\\mathrm{th}} = 0.15\\,\\mathrm{K}\\,\\mathrm{W}^{-1} \\times 25200\\,\\mathrm{J}\\,\\mathrm{K}^{-1} = 3780\\,\\mathrm{J}\\,\\mathrm{W}^{-1}\n$$\nSince $1\\,\\mathrm{W} = 1\\,\\mathrm{J}\\,\\mathrm{s}^{-1}$, the unit becomes $\\mathrm{J}\\,(\\mathrm{J}\\,\\mathrm{s}^{-1})^{-1} = \\mathrm{s}$. So, $\\tau = 3780\\,\\mathrm{s}$.\nThe maximum stable time step is:\n$$\nh_{\\max} = 2\\tau = 2 \\times 3780\\,\\mathrm{s} = 7560\\,\\mathrm{s}\n$$\nThe problem requires the answer to be rounded to four significant figures. To express this with four significant figures, we use scientific notation: $7.560 \\times 10^3$.",
            "answer": "$$\\boxed{7.560 \\times 10^3}$$"
        },
        {
            "introduction": "While explicit methods are simple, their stability constraints often make them impractical for the stiff, coupled systems found in battery models. This final practice transitions to the robust backward Euler method, an implicit scheme capable of handling these challenges. You will work with a coupled thermal-electrochemical model and derive the Jacobian matrix of the nonlinear residual, a critical component for the Newton-Raphson solvers used to advance the simulation in time . This exercise provides hands-on experience with the mathematical machinery behind advanced battery simulation tools.",
            "id": "3957766",
            "problem": "Consider a lumped thermal–electrochemical cell model used in automated battery design and simulation. The state vector is $y = [x_p, x_n, c_e, T]^{\\top}$, where $x_p$ and $x_n$ are dimensionless surface stoichiometries for the positive and negative electrodes, $c_e$ is the spatially averaged electrolyte concentration, and $T$ is the cell temperature. The governing Ordinary Differential Equation (ODE) for $y$ is $y^{\\prime} = f(y,t)$, with the right-hand-side $f(y,t)$ defined componentwise by mass and energy conservation principles and standard kinetic/transport closures:\n- Positive electrode mass balance (Faraday’s law): \n$$f_1(y,t) = -\\kappa_p I(t),$$\n- Negative electrode mass balance (Faraday’s law):\n$$f_2(y,t) = +\\kappa_n I(t),$$\n- Electrolyte mass balance (volume-averaged source–sink form):\n$$f_3(y,t) = \\beta I(t) - k_e \\left(c_e - c_e^{\\mathrm{bath}}\\right),$$\n- Lumped thermal energy balance (ohmic plus reversible heat with Arrhenius-type resistance and linear entropic coefficient):\n$$f_4(y,t) = \\frac{1}{C}\\left[I(t)^{2} R_0\\, c_e^{-\\nu}\\, \\exp\\!\\left(\\frac{E_a}{R_g T}\\right) + I(t)\\, T\\, \\sigma(x_p,x_n) - h_c \\left(T - T_{\\mathrm{amb}}\\right)\\right],$$\nwhere $\\kappa_p$, $\\kappa_n$, $\\beta$, $k_e$, $R_0$, $E_a$, $R_g$, $\\nu$, $C$, $h_c$, and $T_{\\mathrm{amb}}$ are positive parameters. The applied current $I(t)$ is a known function of time and is treated as a given constant $I_{n+1} = I(t_{n+1})$ at the implicit time level. The entropic coefficient is approximated linearly as \n$$\\sigma(x_p,x_n) = \\alpha_p x_p + \\alpha_n x_n,$$\nwith constants $\\alpha_p$ and $\\alpha_n$. Consider a backward Euler time integration with step size $h0$ from time $t_n$ to $t_{n+1}=t_n+h$, whose nonlinear residual is\n$$r(y) = y - y_n - h\\, f\\!\\left(y, t_{n+1}\\right).$$\n\nStarting from the fundamental definitions of the residual for backward Euler and using the chain rule, derive the Jacobian matrix $J_r(y) = \\partial r/\\partial y$ for this step, explicitly in terms of the state variables and parameters, evaluated at time $t_{n+1}$ (with $I_{n+1}$ treated as a known constant). Then, using physically grounded reasoning about the modeling closures above, discuss the sparsity structure of $J_r(y)$ by identifying which blocks are identically zero and which are nonzero, and explain the physical origin of each nonzero coupling.\n\nProvide the final answer as a single explicit analytical matrix expression for $J_r(y)$ (no numerical values and no units).",
            "solution": "The problem requires the derivation of the Jacobian matrix for the nonlinear residual of a backward Euler time integration step applied to a lumped thermal–electrochemical model of a battery cell.\n\nFirst, we establish the fundamental definitions. The state vector is $y = [x_p, x_n, c_e, T]^{\\top}$, where the components are $y_1=x_p$, $y_2=x_n$, $y_3=c_e$, and $y_4=T$. The governing Ordinary Differential Equation (ODE) is $y^{\\prime} = f(y,t)$.\n\nThe backward Euler method approximates the solution at time $t_{n+1} = t_n+h$ by solving the implicit equation:\n$$y_{n+1} - y_n = h\\, f(y_{n+1}, t_{n+1})$$\nThe nonlinear residual function $r(y)$ for this equation, where $y$ represents the unknown state $y_{n+1}$, is defined as:\n$$r(y) = y - y_n - h\\, f(y, t_{n+1})$$\nHere, $y_n$ is the known state from the previous time step and is treated as a constant vector in the calculation of the Jacobian. The current at the implicit time level, $I(t_{n+1})$, is treated as a known constant denoted by $I_{n+1}$.\n\nThe Jacobian matrix of the residual, $J_r(y)$, is given by the partial derivative of $r(y)$ with respect to the state vector $y$:\n$$J_r(y) = \\frac{\\partial r}{\\partial y} = \\frac{\\partial}{\\partial y} \\left( y - y_n - h\\, f(y, t_{n+1}) \\right)$$\nApplying the rules of vector calculus, the Jacobian of the residual is $J_r(y) = I - h\\, J_f(y)$, where $I$ is the $4 \\times 4$ identity matrix and $J_f(y)$ is the Jacobian of the function $f(y, t_{n+1})$ with components $(J_f)_{ij} = \\frac{\\partial f_i}{\\partial y_j}$. Let us evaluate these derivatives.\n\nThe components of $f(y, t_{n+1})$ are:\n$f_1(y) = -\\kappa_p I_{n+1}$\n$f_2(y) = +\\kappa_n I_{n+1}$\n$f_3(y) = \\beta I_{n+1} - k_e (c_e - c_e^{\\mathrm{bath}})$\n$f_4(y) = \\frac{1}{C}\\left[I_{n+1}^{2} R_0\\, c_e^{-\\nu}\\, \\exp\\!\\left(\\frac{E_a}{R_g T}\\right) + I_{n+1}\\, T\\, (\\alpha_p x_p + \\alpha_n x_n) - h_c \\left(T - T_{\\mathrm{amb}}\\right)\\right]$\n\nNow, we compute the partial derivatives for each row of $J_f(y)$.\n\nRows 1 and 2: $f_1$ and $f_2$ do not depend on any component of $y$.\n$\\frac{\\partial f_1}{\\partial y_j} = 0$ and $\\frac{\\partial f_2}{\\partial y_j} = 0$ for $j=1,2,3,4$.\n\nRow 3: $f_3$ depends only on $c_e$ ($y_3$).\n$\\frac{\\partial f_3}{\\partial x_p} = 0$, $\\frac{\\partial f_3}{\\partial x_n} = 0$, $\\frac{\\partial f_3}{\\partial T} = 0$.\n$\\frac{\\partial f_3}{\\partial c_e} = \\frac{\\partial}{\\partial c_e} (\\beta I_{n+1} - k_e c_e + k_e c_e^{\\mathrm{bath}}) = -k_e$.\n\nRow 4: $f_4(y)$ depends on all state variables.\n$\\frac{\\partial f_4}{\\partial x_p} = \\frac{\\alpha_p I_{n+1} T}{C}$\n$\\frac{\\partial f_4}{\\partial x_n} = \\frac{\\alpha_n I_{n+1} T}{C}$\n$\\frac{\\partial f_4}{\\partial c_e} = \\frac{I_{n+1}^{2} R_0}{C} \\exp\\!\\left(\\frac{E_a}{R_g T}\\right) (-\\nu c_e^{-\\nu-1}) = -\\frac{\\nu I_{n+1}^{2} R_0}{C} c_e^{-\\nu-1} \\exp\\!\\left(\\frac{E_a}{R_g T}\\right)$\n$\\frac{\\partial f_4}{\\partial T} = \\frac{1}{C} \\left[ I_{n+1}^{2} R_0\\, c_e^{-\\nu}\\, \\exp\\!\\left(\\frac{E_a}{R_g T}\\right) \\left(-\\frac{E_a}{R_g T^2}\\right) + I_{n+1}(\\alpha_p x_p + \\alpha_n x_n) - h_c \\right]$\n$= \\frac{1}{C} \\left[ -\\frac{E_a I_{n+1}^{2} R_0}{R_g T^2} c_e^{-\\nu} \\exp\\!\\left(\\frac{E_a}{R_g T}\\right) + I_{n+1}(\\alpha_p x_p + \\alpha_n x_n) - h_c \\right]$\n\nAssembling $J_r(y) = I - h J_f(y)$:\n$$J_r(y) = \\begin{pmatrix}\n1  0  0  0 \\\\\n0  1  0  0 \\\\\n0  0  1 + h k_e  0 \\\\\n-h \\frac{\\partial f_4}{\\partial x_p}  -h \\frac{\\partial f_4}{\\partial x_n}  -h \\frac{\\partial f_4}{\\partial c_e}  1 - h \\frac{\\partial f_4}{\\partial T}\n\\end{pmatrix}$$\nSubstituting the expressions for the partial derivatives gives the final explicit matrix.\n\n**Sparsity Structure and Physical Origin**\n\nThe Jacobian matrix $J_r(y)$ is lower triangular. This structure arises directly from the physical couplings (or lack thereof) assumed in the model equations for $f(y,t)$.\n\n**Zero Blocks:** The upper triangle of $J_r(y)$ (for elements $(i,j)$ with $ij$) is identically zero, inherited from $J_f(y)$.\n- Rows 1 and 2 of $J_f(y)$ are zero because the electrode mass balances are modeled to depend only on the external current $I(t)$, not the system's internal states $(x_p, x_n, c_e, T)$.\n- The elements $(J_f)_{3,1}$, $(J_f)_{3,2}$, and $(J_f)_{3,4}$ are zero because the electrolyte mass balance is modeled to depend only on the current and its own concentration $c_e$, not on electrode stoichiometries or temperature.\n\n**Nonzero Off-diagonal Blocks:**\n- $(J_r)_{4,1}$ and $(J_r)_{4,2}$: These terms arise from the reversible (entropic) heat, $I(t)T\\sigma(x_p, x_n)$, coupling the thermal dynamics to the state of charge of each electrode.\n- $(J_r)_{4,3}$: This term arises from the ohmic (Joule) heating, where the internal resistance is modeled as a function of electrolyte concentration $c_e$.\n\nThis lower-triangular structure signifies a one-way coupling: the electrochemical states $(x_p, x_n, c_e)$ influence the thermal state $(T)$, but the temperature (in this simplified model) does not feed back into the dynamics of $f_1, f_2, f_3$.\n\n**Nonzero Diagonal Blocks:**\n- $(J_r)_{3,3}$: The underlying term $\\frac{\\partial f_3}{\\partial c_e} = -k_e$ represents the self-damping of the electrolyte concentration via a relaxation process.\n- $(J_r)_{4,4}$: The term $\\frac{\\partial f_4}{\\partial T}$ captures how the rate of temperature change depends on temperature itself, through three physical effects: the Arrhenius dependence of resistance, the entropic heat term, and Newtonian cooling.",
            "answer": "$$\\boxed{\n\\begin{pmatrix}\n1  0  0  0 \\\\\n0  1  0  0 \\\\\n0  0  1 + h k_e  0 \\\\\n-\\frac{h \\alpha_p I_{n+1} T}{C}  -\\frac{h \\alpha_n I_{n+1} T}{C}  \\frac{h \\nu I_{n+1}^{2} R_0}{C} c_e^{-\\nu-1} \\exp\\left(\\frac{E_a}{R_g T}\\right)  1 - \\frac{h}{C} \\left[ -\\frac{E_a I_{n+1}^{2} R_0}{R_g T^2} c_e^{-\\nu} \\exp\\left(\\frac{E_a}{R_g T}\\right) + I_{n+1}(\\alpha_p x_p + \\alpha_n x_n) - h_c \\right]\n\\end{pmatrix}\n}$$"
        }
    ]
}