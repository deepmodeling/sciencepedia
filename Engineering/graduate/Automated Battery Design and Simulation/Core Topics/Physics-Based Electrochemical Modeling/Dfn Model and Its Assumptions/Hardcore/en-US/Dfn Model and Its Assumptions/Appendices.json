{
    "hands_on_practices": [
        {
            "introduction": "The Butler-Volmer equation is the cornerstone of electrochemical reaction kinetics within the Doyle-Fuller-Newman (DFN) model. This exercise focuses on deriving the Tafel approximation, a crucial simplification valid for large overpotentials, directly from the Butler-Volmer relation. By quantifying the error of this approximation , you will develop a deeper intuition for the regimes where such simplifications are justified in battery modeling.",
            "id": "3906571",
            "problem": "In the Doyle–Fuller–Newman (DFN) model of porous electrodes, interfacial electrochemical reaction kinetics at the solid–electrolyte interface are described by the Butler–Volmer relation, which couples the overpotential to the interfacial current density. Consider a single-electron transfer reaction ($n=1$) with symmetric charge-transfer coefficients $\\alpha_{a}=\\alpha_{c}=0.5$ at uniform temperature $T$. Starting from first principles of electron transfer kinetics and the Butler–Volmer relation, derive the Tafel approximation for the anodic branch under the large positive overpotential assumption. Then, quantify the dimensionless relative error of this Tafel approximation with respect to the full Butler–Volmer expression at the specified overpotential.\n\nLet the overpotential be $\\eta=100\\ \\text{mV}>0$, the temperature be $T=298\\ \\text{K}$, the universal gas constant be $R=8.314462618\\ \\text{J mol}^{-1}\\ \\text{K}^{-1}$, and the Faraday constant be $F=96485.33212\\ \\text{C mol}^{-1}$. Define the dimensionless relative error as\n$$\nE(\\eta) \\equiv \\frac{\\left|i_{\\text{Tafel}}(\\eta)-i_{\\text{BV}}(\\eta)\\right|}{i_{\\text{BV}}(\\eta)},\n$$\nwhere $i_{\\text{BV}}(\\eta)$ is the interfacial current density predicted by the full Butler–Volmer relation and $i_{\\text{Tafel}}(\\eta)$ is the anodic Tafel approximation obtained under the large positive overpotential assumption.\n\nAssume the exchange current density $i_{0}$ is finite and positive and note that it cancels out in the definition of $E(\\eta)$. Express the final answer for $E(100\\ \\text{mV})$ as a decimal fraction. Round your answer to four significant figures. No unit should be included in the final answer.",
            "solution": "The problem requires the derivation of the anodic Tafel approximation from the Butler-Volmer equation and the subsequent calculation of the relative error of this approximation at a specified overpotential. The problem is scientifically grounded, well-posed, and contains all necessary information for a unique solution.\n\nThe analysis begins with the general form of the Butler-Volmer equation, which describes the current density $i_{\\text{BV}}$ as a function of the overpotential $\\eta$ at the solid-electrolyte interface:\n$$\ni_{\\text{BV}}(\\eta) = i_{0} \\left( \\exp\\left(\\frac{\\alpha_{a} n F \\eta}{RT}\\right) - \\exp\\left(-\\frac{\\alpha_{c} n F \\eta}{RT}\\right) \\right)\n$$\nHere, $i_{0}$ is the exchange current density, $\\alpha_{a}$ and $\\alpha_{c}$ are the anodic and cathodic charge-transfer coefficients, respectively, $n$ is the number of electrons transferred in the elementary reaction step, $F$ is the Faraday constant, $R$ is the universal gas constant, and $T$ is the absolute temperature.\n\nThe problem provides specific values for the parameters: a single-electron transfer reaction, so $n=1$, and symmetric charge-transfer coefficients, $\\alpha_{a} = \\alpha_{c} = 0.5$. Substituting these values into the general equation yields the specific form for this system:\n$$\ni_{\\text{BV}}(\\eta) = i_{0} \\left( \\exp\\left(\\frac{0.5 F \\eta}{RT}\\right) - \\exp\\left(-\\frac{0.5 F \\eta}{RT}\\right) \\right)\n$$\n\nThe Tafel approximation is derived under the assumption of a large overpotential. For the anodic branch, this corresponds to a large positive overpotential, $\\eta \\gg 0$. In this regime, the argument of the first exponential term, $\\frac{0.5 F \\eta}{RT}$, is large and positive, while the argument of the second exponential term, $-\\frac{0.5 F \\eta}{RT}$, is large and negative. Consequently, the second term becomes negligible compared to the first:\n$$\n\\exp\\left(\\frac{0.5 F \\eta}{RT}\\right) \\gg \\exp\\left(-\\frac{0.5 F \\eta}{RT}\\right)\n$$\nBy neglecting the second (cathodic) term, we obtain the anodic Tafel approximation for the current density, $i_{\\text{Tafel}}(\\eta)$:\n$$\ni_{\\text{Tafel}}(\\eta) = i_{0} \\exp\\left(\\frac{0.5 F \\eta}{RT}\\right)\n$$\n\nThe next step is to quantify the dimensionless relative error, $E(\\eta)$, of this approximation. The error is defined as:\n$$\nE(\\eta) \\equiv \\frac{\\left|i_{\\text{Tafel}}(\\eta)-i_{\\text{BV}}(\\eta)\\right|}{i_{\\text{BV}}(\\eta)}\n$$\nFor a positive overpotential $\\eta > 0$, the anodic current is larger than the cathodic current, so $i_{\\text{BV}}(\\eta) > 0$. The Tafel approximation $i_{\\text{Tafel}}(\\eta)$ is derived by omitting a positive term (the magnitude of the cathodic current), so $i_{\\text{Tafel}}(\\eta)$ is always greater than $i_{\\text{BV}}(\\eta)$. Therefore, the absolute value can be removed:\n$$\nE(\\eta) = \\frac{i_{\\text{Tafel}}(\\eta)-i_{\\text{BV}}(\\eta)}{i_{\\text{BV}}(\\eta)} = \\frac{i_{\\text{Tafel}}(\\eta)}{i_{\\text{BV}}(\\eta)} - 1\n$$\nWe substitute the derived expressions for $i_{\\text{Tafel}}(\\eta)$ and $i_{\\text{BV}}(\\eta)$:\n$$\nE(\\eta) = \\frac{i_{0} \\exp\\left(\\frac{0.5 F \\eta}{RT}\\right)}{i_{0} \\left( \\exp\\left(\\frac{0.5 F \\eta}{RT}\\right) - \\exp\\left(-\\frac{0.5 F \\eta}{RT}\\right) \\right)} - 1\n$$\nThe exchange current density $i_{0}$ cancels out, as stated in the problem:\n$$\nE(\\eta) = \\frac{\\exp\\left(\\frac{0.5 F \\eta}{RT}\\right)}{\\exp\\left(\\frac{0.5 F \\eta}{RT}\\right) - \\exp\\left(-\\frac{0.5 F \\eta}{RT}\\right)} - 1\n$$\nTo simplify this expression, we can multiply the numerator and denominator of the fraction by $\\exp\\left(-\\frac{0.5 F \\eta}{RT}\\right)$:\n$$\nE(\\eta) = \\frac{1}{1 - \\exp\\left(-\\frac{F \\eta}{RT}\\right)} - 1\n$$\nCombining the terms over a common denominator gives the final analytical expression for the relative error:\n$$\nE(\\eta) = \\frac{1 - \\left(1 - \\exp\\left(-\\frac{F \\eta}{RT}\\right)\\right)}{1 - \\exp\\left(-\\frac{F \\eta}{RT}\\right)} = \\frac{\\exp\\left(-\\frac{F \\eta}{RT}\\right)}{1 - \\exp\\left(-\\frac{F \\eta}{RT}\\right)}\n$$\nNow, we must evaluate this expression numerically for the given conditions:\n$\\eta = 100\\ \\text{mV} = 0.1\\ \\text{V}$\n$T = 298\\ \\text{K}$\n$R = 8.314462618\\ \\text{J mol}^{-1}\\ \\text{K}^{-1}$\n$F = 96485.33212\\ \\text{C mol}^{-1}$\n\nFirst, we compute the dimensionless exponent $\\frac{F \\eta}{RT}$:\n$$\n\\frac{F \\eta}{RT} = \\frac{(96485.33212\\ \\text{C mol}^{-1}) \\times (0.1\\ \\text{V})}{(8.314462618\\ \\text{J mol}^{-1}\\ \\text{K}^{-1}) \\times (298\\ \\text{K})} \\approx \\frac{9648.533212}{2477.57086} \\approx 3.894376\n$$\nLet $x = \\frac{F \\eta}{RT}$. The error is $E = \\frac{\\exp(-x)}{1 - \\exp(-x)}$.\nUsing the calculated value of $x$:\n$$\n\\exp(-x) \\approx \\exp(-3.894376) \\approx 0.0203565\n$$\nNow, we substitute this into the error expression:\n$$\nE \\approx \\frac{0.0203565}{1 - 0.0203565} = \\frac{0.0203565}{0.9796435} \\approx 0.02077958\n$$\nThe problem requires the answer to be rounded to four significant figures. The first four significant figures are $2$, $0$, $7$, $7$. The fifth significant figure is $9$, which is greater than or equal to $5$, so we round up the fourth significant figure.\n$$\nE \\approx 0.02078\n$$",
            "answer": "$$\n\\boxed{0.02078}\n$$"
        },
        {
            "introduction": "A core assumption of the DFN model is that electrodes are porous media, where the structure significantly impacts ion transport. This practice connects a key microstructural parameter, porosity ($\\varepsilon$), to the effective transport properties of the electrolyte using the Bruggeman relation. You will quantify how a decrease in porosity hinders ion movement, leading to larger concentration gradients and increased concentration polarization , a primary mechanism of voltage loss at high currents.",
            "id": "3906585",
            "problem": "Consider the Doyle–Fuller–Newman (DFN) porous electrode model of a lithium-ion battery electrolyte domain under one-dimensional transport in the electrolyte-filled pore space. The electrolyte is assumed to be a binary, dilute solution, isothermal, electroneutral, and the porous medium is homogeneous with constant porosity. The pore-scale transport is upscaled with tortuosity captured via a Bruggeman-type power-law. The effective properties of the electrolyte in the porous medium are treated as functions of porosity. The objective is to quantify how a decrease in porosity affects the effective salt diffusion coefficient and ionic conductivity, and to estimate the resulting change in the electrolyte concentration polarization at a specified operating condition.\n\nFundamental base:\n- Electrolyte salt conservation in a porous medium is given by the mass balance,\n$$\\frac{\\partial}{\\partial t}\\left(\\varepsilon c_{\\mathrm{e}}\\right) = \\frac{\\partial}{\\partial x}\\left(D_{\\mathrm{eff}} \\frac{\\partial c_{\\mathrm{e}}}{\\partial x}\\right) + \\frac{(1-t_+^0)}{F} a_{\\mathrm{s}} j,$$\nwhere $x$ is the through-thickness coordinate, $\\varepsilon$ is porosity, $c_{\\mathrm{e}}$ is salt concentration, $D_{\\mathrm{eff}}$ is the effective (porous-medium) salt diffusion coefficient, $t_+^0$ is the cation transference number, $F$ is Faraday’s constant, $a_{\\mathrm{s}}$ is specific surface area, and $j$ is the interfacial current density. Under uniform reaction distribution over an electrode of thickness $L_{\\mathrm{e}}$, the volumetric current density is $a_{\\mathrm{s}} j = i_{\\mathrm{app}}/L_{\\mathrm{e}}$, where $i_{\\mathrm{app}}$ is the applied current density.\n- The electrolyte potential gradient in the DFN model is decomposed into an ohmic term and a concentration polarization term by\n$$\\frac{\\partial \\phi_{\\mathrm{e}}}{\\partial x} = -\\frac{i_{\\mathrm{e}}}{\\kappa_{\\mathrm{eff}}} + \\frac{2 R T (1-t_+^0)}{F} \\frac{\\partial \\ln c_{\\mathrm{e}}}{\\partial x},$$\nwhere $\\phi_{\\mathrm{e}}$ is electrolyte potential, $i_{\\mathrm{e}}$ is electrolyte current density, $\\kappa_{\\mathrm{eff}}$ is the effective ionic conductivity, $R$ is the universal gas constant, and $T$ is temperature. The second term embodies concentration polarization due to salt gradients.\n- The effective transport properties obey a porosity–tortuosity scaling law (Bruggeman-type), so that\n$$D_{\\mathrm{eff}} = \\varepsilon^{\\beta} D, \\qquad \\kappa_{\\mathrm{eff}} = \\varepsilon^{\\beta} \\kappa,$$\nwhere $D$ and $\\kappa$ are intrinsic liquid-phase properties and $\\beta$ is the Bruggeman exponent.\n- The $C$-rate and areal capacity $Q_{\\mathrm{areal}}$ determine $i_{\\mathrm{app}}$ via\n$$i_{\\mathrm{app}} = (\\mathrm{C\\mbox{-}rate}) \\times Q_{\\mathrm{areal}},$$\nwith $Q_{\\mathrm{areal}}$ expressed in $\\mathrm{A\\,h}/\\mathrm{m}^2$ and $i_{\\mathrm{app}}$ in $\\mathrm{A}/\\mathrm{m}^2$.\n\nAssumptions for the polarization estimate:\n- Consider the electrode electrolyte sub-domain $x \\in [0, L_{\\mathrm{e}}]$ with boundary conditions $c_{\\mathrm{e}}(0) = c_{\\mathrm{e}}(L_{\\mathrm{e}}) = c_0$, where $c_0$ is the bulk salt concentration. This Dirichlet closure approximates a well-buffered interface to adjacent regions, enabling a closed-form estimate for the spatial salt deviation inside the electrode under uniform source.\n- Under steady conditions with a uniform source term $S = \\frac{(1-t_+^0)}{F} \\frac{i_{\\mathrm{app}}}{L_{\\mathrm{e}}}$, the one-dimensional solution of the diffusion equation provides a parabolic salt profile whose extremum (at $x=L_{\\mathrm{e}}/2$) deviates from $c_0$ by\n$$\\Delta c_{\\mathrm{amp}} = \\frac{S L_{\\mathrm{e}}^2}{8 D_{\\mathrm{eff}}} = \\frac{(1-t_+^0)\\, i_{\\mathrm{app}}\\, L_{\\mathrm{e}}}{8 F D_{\\mathrm{eff}}}.$$\n- The corresponding local concentration polarization amplitude between the electrode mid-plane and its boundary is approximated by integrating the concentration-polarization term of the electrolyte potential equation,\n$$\\Delta \\phi_{\\mathrm{e,conc}} = \\frac{2 R T (1-t_+^0)}{F} \\ln\\!\\left(\\frac{c_0 + \\Delta c_{\\mathrm{amp}}}{c_0}\\right).$$\n\nTask:\nFor each test case, compute the change in effective transport properties when porosity decreases by $0.1$ at a fixed Bruggeman exponent $\\beta = 1.5$, and quantify the resulting increase in the concentration polarization amplitude at $2\\mathrm{C}$ based on the above assumptions. Specifically:\n1. Given initial porosity $\\varepsilon_0$, intrinsic properties $D$ and $\\kappa$, compute $D_{\\mathrm{eff,0}} = \\varepsilon_0^\\beta D$ and $\\kappa_{\\mathrm{eff,0}} = \\varepsilon_0^\\beta \\kappa$.\n2. Define $\\varepsilon_1 = \\varepsilon_0 - 0.1$ and compute $D_{\\mathrm{eff,1}} = \\varepsilon_1^\\beta D$ and $\\kappa_{\\mathrm{eff,1}} = \\varepsilon_1^\\beta \\kappa$.\n3. Compute the changes $\\Delta D = D_{\\mathrm{eff,1}} - D_{\\mathrm{eff,0}}$ (in $\\mathrm{m}^2/\\mathrm{s}$) and $\\Delta \\kappa = \\kappa_{\\mathrm{eff,1}} - \\kappa_{\\mathrm{eff,0}}$ (in $\\mathrm{S}/\\mathrm{m}$).\n4. For $i_{\\mathrm{app}}$ set by $2\\mathrm{C}$, compute the concentration polarization amplitude $\\Delta \\phi_{\\mathrm{e,conc}}$ (in $\\mathrm{V}$) at both $\\varepsilon_0$ and $\\varepsilon_1$, and report the increase $\\Delta \\phi_{\\mathrm{inc}} = \\Delta \\phi_{\\mathrm{e,conc}}(\\varepsilon_1) - \\Delta \\phi_{\\mathrm{e,conc}}(\\varepsilon_0)$.\n\nUse the following test suite of parameter values to exercise the computation across typical, high, and low porosity regimes. All quantities must be treated in the International System of Units (SI) as given. Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, in the order $[\\Delta D_1, \\Delta \\kappa_1, \\Delta \\phi_{\\mathrm{inc},1}, \\Delta D_2, \\Delta \\kappa_2, \\Delta \\phi_{\\mathrm{inc},2}, \\Delta D_3, \\Delta \\kappa_3, \\Delta \\phi_{\\mathrm{inc},3}]$, where subscript indices refer to the test case number.\n\nConstants for all cases:\n- $R = 8.314\\,\\mathrm{J}/(\\mathrm{mol}\\,\\mathrm{K})$, $F = 96485\\,\\mathrm{C}/\\mathrm{mol}$, $T = 298.15\\,\\mathrm{K}$, $\\beta = 1.5$.\n\nTest cases:\n- Case $1$ (happy path):\n  - $\\varepsilon_0 = 0.65$, $D = 2.0\\times 10^{-10}\\,\\mathrm{m}^2/\\mathrm{s}$, $\\kappa = 1.1\\,\\mathrm{S}/\\mathrm{m}$, $L_{\\mathrm{e}} = 70\\times 10^{-6}\\,\\mathrm{m}$, $Q_{\\mathrm{areal}} = 30\\,\\mathrm{A\\,h}/\\mathrm{m}^2$, $t_+^0 = 0.39$, $c_0 = 1000\\,\\mathrm{mol}/\\mathrm{m}^3$.\n- Case $2$ (near-high porosity boundary):\n  - $\\varepsilon_0 = 0.85$, $D = 2.2\\times 10^{-10}\\,\\mathrm{m}^2/\\mathrm{s}$, $\\kappa = 1.0\\,\\mathrm{S}/\\mathrm{m}$, $L_{\\mathrm{e}} = 60\\times 10^{-6}\\,\\mathrm{m}$, $Q_{\\mathrm{areal}} = 35\\,\\mathrm{A\\,h}/\\mathrm{m}^2$, $t_+^0 = 0.38$, $c_0 = 1000\\,\\mathrm{mol}/\\mathrm{m}^3$.\n- Case $3$ (low porosity edge case):\n  - $\\varepsilon_0 = 0.25$, $D = 1.8\\times 10^{-10}\\,\\mathrm{m}^2/\\mathrm{s}$, $\\kappa = 0.9\\,\\mathrm{S}/\\mathrm{m}$, $L_{\\mathrm{e}} = 80\\times 10^{-6}\\,\\mathrm{m}$, $Q_{\\mathrm{areal}} = 25\\,\\mathrm{A\\,h}/\\mathrm{m}^2$, $t_+^0 = 0.40$, $c_0 = 1000\\,\\mathrm{mol}/\\mathrm{m}^3$.\n\nAngle units do not apply. Express all computed changes with units as specified: $\\Delta D$ in $\\mathrm{m}^2/\\mathrm{s}$, $\\Delta \\kappa$ in $\\mathrm{S}/\\mathrm{m}$, and $\\Delta \\phi_{\\mathrm{inc}}$ in $\\mathrm{V}$. The $2\\mathrm{C}$ current density should be computed using $i_{\\mathrm{app}} = 2 \\times Q_{\\mathrm{areal}}$ with $Q_{\\mathrm{areal}}$ converted to $\\mathrm{A}/\\mathrm{m}^2$ using $1\\,\\mathrm{A\\,h} = 3600\\,\\mathrm{C}$ implicitly in the dimensional analysis of current density. Your program must implement the computations and print the results exactly in the specified single-line format.",
            "solution": "The problem is valid. It is scientifically grounded in the established Doyle-Fuller-Newman (DFN) model for lithium-ion batteries, is well-posed with sufficient data for a unique solution, and is presented objectively.\n\nThe solution involves a quantitative analysis of how a specified decrease in electrode porosity, $\\varepsilon$, affects key electrolyte transport properties and the resulting concentration polarization. This analysis is based on a simplified, one-dimensional, steady-state interpretation of the transport equations within the DFN framework. The required calculations will be performed for three distinct test cases, each defined by a set of material and operational parameters.\n\nThe core principles are the relationships between porosity, effective transport properties, and concentration gradients.\n\nFirst, the effective salt diffusion coefficient, $D_{\\mathrm{eff}}$, and the effective ionic conductivity, $\\kappa_{\\mathrm{eff}}$, are related to the intrinsic liquid-phase properties ($D$ and $\\kappa$, respectively) and the porosity, $\\varepsilon$, through a Bruggeman-type power law:\n$$D_{\\mathrm{eff}} = \\varepsilon^{\\beta} D$$\n$$\\kappa_{\\mathrm{eff}} = \\varepsilon^{\\beta} \\kappa$$\nHere, $\\beta = 1.5$ is the given Bruggeman exponent, a constant that accounts for the tortuosity of the porous medium. A decrease in porosity restricts ion transport pathways, increasing tortuosity and thereby reducing the effective transport coefficients.\n\nOur first step is to quantify this reduction. For each test case, we are given an initial porosity, $\\varepsilon_0$. A new porosity, $\\varepsilon_1 = \\varepsilon_0 - 0.1$, is defined. The initial effective properties ($D_{\\mathrm{eff,0}}$, $\\kappa_{\\mathrm{eff,0}}$) and final effective properties ($D_{\\mathrm{eff,1}}$, $\\kappa_{\\mathrm{eff,1}}$) are calculated using the Bruggeman relations above. The changes are then computed as:\n$$\\Delta D = D_{\\mathrm{eff,1}} - D_{\\mathrm{eff,0}} = (\\varepsilon_1^{\\beta} - \\varepsilon_0^{\\beta}) D$$\n$$\\Delta \\kappa = \\kappa_{\\mathrm{eff,1}} - \\kappa_{\\mathrm{eff,0}} = (\\varepsilon_1^{\\beta} - \\varepsilon_0^{\\beta}) \\kappa$$\nSince $\\varepsilon_1 < \\varepsilon_0$, these changes will be negative, representing a degradation in transport properties.\n\nSecond, we must assess the impact of this degradation on concentration polarization. Under the assumption of steady-state operation with a uniform reaction current density, the deviation of the electrolyte salt concentration from its bulk value, $c_0$, reaches a maximum amplitude, $\\Delta c_{\\mathrm{amp}}$, at the center of the electrode. This amplitude is given by:\n$$\\Delta c_{\\mathrm{amp}} = \\frac{(1-t_+^0)\\, i_{\\mathrm{app}}\\, L_{\\mathrm{e}}}{8 F D_{\\mathrm{eff}}}$$\nwhere $t_+^0$ is the cation transference number, $L_{\\mathrm{e}}$ is the electrode thickness, $F$ is Faraday's constant, and $i_{\\mathrm{app}}$ is the applied current density. The applied current density is determined by the $C$-rate and the areal capacity, $Q_{\\mathrm{areal}}$:\n$$i_{\\mathrm{app}} = (\\mathrm{C\\mbox{-}rate}) \\times Q_{\\mathrm{areal}}$$\nFor this problem, the $C$-rate is specified as $2\\mathrm{C}$, which corresponds to a rate of $2\\,\\mathrm{h}^{-1}$. Thus, for $Q_{\\mathrm{areal}}$ given in $\\mathrm{A\\,h}/\\mathrm{m}^2$, $i_{\\mathrm{app}}$ is calculated as $2 \\times Q_{\\mathrm{areal}}$ to yield units of $\\mathrm{A}/\\mathrm{m}^2$.\n\nThe concentration polarization, $\\Delta \\phi_{\\mathrm{e,conc}}$, is the potential drop arising from this salt concentration gradient. It is approximated by:\n$$\\Delta \\phi_{\\mathrm{e,conc}} = \\frac{2 R T (1-t_+^0)}{F} \\ln\\!\\left(\\frac{c_0 + \\Delta c_{\\mathrm{amp}}}{c_0}\\right) = \\frac{2 R T (1-t_+^0)}{F} \\ln\\!\\left(1 + \\frac{\\Delta c_{\\mathrm{amp}}}{c_0}\\right)$$\nwhere $R$ is the universal gas constant and $T$ is the temperature. This equation shows that as $\\Delta c_{\\mathrm{amp}}$ increases, the concentration polarization becomes more severe. Since $\\Delta c_{\\mathrm{amp}}$ is inversely proportional to $D_{\\mathrm{eff}}$, a decrease in porosity (which lowers $D_{\\mathrm{eff}}$) will inevitably increase $\\Delta c_{\\mathrm{amp}}$ and, consequently, $\\Delta \\phi_{\\mathrm{e,conc}}$.\n\nThe final task is to compute the increase in this polarization amplitude, $\\Delta \\phi_{\\mathrm{inc}}$, when the porosity is reduced from $\\varepsilon_0$ to $\\varepsilon_1$:\n$$\\Delta \\phi_{\\mathrm{inc}} = \\Delta \\phi_{\\mathrm{e,conc}}(\\varepsilon_1) - \\Delta \\phi_{\\mathrm{e,conc}}(\\varepsilon_0)$$\nTo compute this, we first calculate $\\Delta c_{\\mathrm{amp},0}$ and $\\Delta c_{\\mathrm{amp},1}$ using the respective effective diffusion coefficients, $D_{\\mathrm{eff,0}}$ and $D_{\\mathrm{eff,1}}$. Then, we use these values to find $\\Delta \\phi_{\\mathrm{e,conc}}(\\varepsilon_0)$ and $\\Delta \\phi_{\\mathrm{e,conc}}(\\varepsilon_1)$ and take their difference.\n\nThe calculation procedure for each test case is as follows:\n1.  Identify the case-specific parameters: $\\varepsilon_0$, $D$, $\\kappa$, $L_{\\mathrm{e}}$, $Q_{\\mathrm{areal}}$, $t_+^0$, and $c_0$.\n2.  Use the global constants: $R = 8.314\\,\\mathrm{J}/(\\mathrm{mol}\\,\\mathrm{K})$, $F = 96485\\,\\mathrm{C}/\\mathrm{mol}$, $T = 298.15\\,\\mathrm{K}$, and $\\beta = 1.5$.\n3.  Calculate the applied current density for a $2\\mathrm{C}$ rate: $i_{\\mathrm{app}} = 2 \\times Q_{\\mathrm{areal}}$.\n4.  Calculate the final porosity $\\varepsilon_1 = \\varepsilon_0 - 0.1$.\n5.  Compute the changes $\\Delta D$ and $\\Delta \\kappa$ using the formulas derived from the Bruggeman relation.\n6.  Calculate the concentration amplitude $\\Delta c_{\\mathrm{amp}}$ for both $\\varepsilon_0$ and $\\varepsilon_1$ using their respective effective diffusion coefficients, $D_{\\mathrm{eff,0}} = \\varepsilon_0^{\\beta} D$ and $D_{\\mathrm{eff,1}} = \\varepsilon_1^{\\beta} D$.\n7.  Calculate the concentration polarization $\\Delta \\phi_{\\mathrm{e,conc}}$ for both porosities.\n8.  Determine the increase in polarization, $\\Delta \\phi_{\\mathrm{inc}} = \\Delta \\phi_{\\mathrm{e,conc}}(\\varepsilon_1) - \\Delta \\phi_{\\mathrm{e,conc}}(\\varepsilon_0)$.\n9.  Collect the three results ($\\Delta D$, $\\Delta \\kappa$, $\\Delta \\phi_{\\mathrm{inc}}$) for each of the three test cases and format them as specified.",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the battery transport problem for three test cases.\n    \"\"\"\n\n    # Global constants\n    R = 8.314      # J/(mol K), universal gas constant\n    F = 96485      # C/mol, Faraday's constant\n    T = 298.15     # K, temperature\n    BETA = 1.5     # Bruggeman exponent\n    C_RATE = 2.0   # 2C rate, in h^-1\n\n    # Test cases: (eps0, D, kappa, Le, Q_areal, t_plus_0, c0)\n    test_cases = [\n        # Case 1: happy path\n        (0.65, 2.0e-10, 1.1, 70e-6, 30.0, 0.39, 1000.0),\n        # Case 2: near-high porosity boundary\n        (0.85, 2.2e-10, 1.0, 60e-6, 35.0, 0.38, 1000.0),\n        # Case 3: low porosity edge case\n        (0.25, 1.8e-10, 0.9, 80e-6, 25.0, 0.40, 1000.0),\n    ]\n\n    results = []\n\n    def calculate_changes(eps0, D, kappa, Le, Q_areal, t_plus_0, c0):\n        \"\"\"\n        Computes the changes in transport properties and concentration polarization.\n        \"\"\"\n        # Step 1: Calculate applied current density\n        # i_app = (C-rate [h^-1]) * Q_areal [A h / m^2] -> [A / m^2]\n        i_app = C_RATE * Q_areal\n\n        # Step 2: Define porosities\n        eps1 = eps0 - 0.1\n\n        # Step 3: Compute initial and final effective properties\n        D_eff0 = (eps0 ** BETA) * D\n        kappa_eff0 = (eps0 ** BETA) * kappa\n        \n        D_eff1 = (eps1 ** BETA) * D\n        kappa_eff1 = (eps1 ** BETA) * kappa\n\n        # Step 4: Compute changes in transport properties\n        delta_D = D_eff1 - D_eff0\n        delta_kappa = kappa_eff1 - kappa_eff0\n\n        # Step 5: Compute concentration polarization increase\n        \n        # Helper function for polarization calculation\n        def get_conc_polarization(D_eff):\n            # Calculate concentration amplitude\n            # Formula: delta_c_amp = (1-t+^0) * i_app * Le / (8 * F * D_eff)\n            delta_c_amp = (1 - t_plus_0) * i_app * Le / (8 * F * D_eff)\n\n            if c0 + delta_c_amp <= 0:\n                # Physically not expected given the problem statement but a safe check\n                return float('nan')\n            \n            # Calculate concentration polarization amplitude\n            # Formula: delta_phi = (2*R*T*(1-t+^0)/F) * ln(1 + delta_c_amp/c0)\n            prefactor = (2 * R * T * (1 - t_plus_0)) / F\n            delta_phi = prefactor * np.log(1 + delta_c_amp / c0)\n            return delta_phi\n\n        # Polarization at eps0 and eps1\n        delta_phi_conc_0 = get_conc_polarization(D_eff0)\n        delta_phi_conc_1 = get_conc_polarization(D_eff1)\n        \n        # Increase in polarization\n        delta_phi_inc = delta_phi_conc_1 - delta_phi_conc_0\n        \n        return delta_D, delta_kappa, delta_phi_inc\n\n    all_results = []\n    for case in test_cases:\n        delta_D, delta_kappa, delta_phi_inc = calculate_changes(*case)\n        all_results.extend([delta_D, delta_kappa, delta_phi_inc])\n\n    # Format the final output string as required\n    # Example format: [-2.31e-11,-0.127,0.000265,...]\n    # We use a general formatter to handle scientific notation gracefully.\n    formatted_results = [f\"{res:.6g}\" for res in all_results]\n    print(f\"[{','.join(formatted_results)}]\")\n\nsolve()\n\n```"
        },
        {
            "introduction": "The true predictive power of the DFN model emerges from its coupling of transport phenomena and electrochemical kinetics. This advanced practice synthesizes previous concepts, challenging you to quantify how electrolyte concentration depletion near an electrode surface directly impacts the local overpotential ($\\eta$). By deriving the change in electrolyte potential ($\\phi_e$) from both ohmic and diffusional effects , you will gain a rigorous understanding of the intricate interplay that governs battery performance under load.",
            "id": "3906561",
            "problem": "Consider a lithium-ion cell modeled using the Doyle–Fuller–Newman (DFN) porous electrode framework. The local interfacial overpotential is defined as $\\eta = \\phi_s - \\phi_e - U$, where $\\phi_s$ is the solid-phase potential, $\\phi_e$ is the electrolyte-phase potential, and $U$ is the open-circuit potential of the active material. In the DFN model, the electrolyte current density $i_e$ in one dimension can be related to the electrolyte potential gradient and concentration gradient through concentrated-solution theory. Use the following foundational bases without invoking any shortcut formulas:\n- Charge neutrality in the electrolyte, constant-valence transport, and the one-dimensional form of Ohm’s law for ionic conduction in porous media, together with the migration contribution from the Nernst–Planck equation, which collectively imply that the electrolyte current density $i_e$ depends on $\\partial \\phi_e / \\partial x$ and $\\partial \\ln c_e / \\partial x$.\n- The definition of overpotential $\\eta = \\phi_s - \\phi_e - U$ and the principle that changes in $\\phi_e$ at the reaction interface directly modify $\\eta$ when $\\phi_s$ and $U$ are held fixed.\n- A Bruggeman-type scaling for effective electrolyte conductivity $\\kappa_{\\mathrm{eff}} = \\kappa(c_e)\\,\\varepsilon^{b}$, with $\\kappa(c_e)$ a concentration-dependent bulk conductivity.\n\nAssume the following scenario and modeling assumptions, consistent with DFN model practice at high-rate operation:\n- The cell is driven at a constant C-rate equal to $3$ C, so the applied areal current density is determined entirely by the electrode areal capacity.\n- Near the separator–positive electrode interface, the electrolyte experiences a thin depletion boundary layer of thickness $\\delta_{\\mathrm{bl}}$, across which the electrolyte concentration decreases monotonically from $c_0$ at the separator side to $c_0 - \\Delta c$ at the positive-electrode entrance. Outside this layer, the electrolyte concentration is uniform and equal to $c_0$.\n- Within this boundary layer, assume the electrolyte current density $i_e$ is approximately constant and equal to the applied areal current density.\n- The bulk electrolyte conductivity scales as $\\kappa(c_e) = \\kappa_0 \\left( \\dfrac{c_e}{c_0} \\right)^s$, with exponent $s$ reflecting nonideal concentration dependence, and the effective conductivity in the porous medium is $\\kappa_{\\mathrm{eff}}(x) = \\kappa(c_e(x))\\,\\varepsilon^b$.\n- The migration contribution uses the thermodynamic factor equal to unity (activity coefficient variation neglected), and the cation transference number in the electrolyte is $t_+$.\n- The contribution of electrolyte depletion to the cell overpotential at the interface is defined as the incremental increase in $\\eta$ at the reaction surface due solely to the change in $\\phi_e$ caused by the boundary-layer depletion, compared with the baseline case with uniform concentration $c_e(x) = c_0$ over the same thickness $\\delta_{\\mathrm{bl}}$.\n\nStarting from the foundational bases listed above, derive a computable expression for the incremental contribution of electrolyte depletion to the interfacial overpotential at $3$ C in terms of the parameters $(\\delta_{\\mathrm{bl}}, c_0, \\Delta c, \\varepsilon, b, \\kappa_0, s, t_+, T)$ and the applied areal current density determined from the areal capacity. Implement this expression as a program and evaluate it for the following test suite. All physical quantities must be expressed in coherent International System of Units (SI), and the outputs must be expressed in volts (V), rounded to $6$ decimal places.\n\nLet the applied areal current density at $3$ C be calculated from the areal capacity $Q_{\\mathrm{areal}}$ in $\\mathrm{mAh}/\\mathrm{cm}^2$ via\n$$\ni_{\\mathrm{app}} = 30\\,Q_{\\mathrm{areal}} \\quad \\text{in} \\quad \\mathrm{A}/\\mathrm{m}^2,\n$$\nusing the conversion $1\\,\\mathrm{mA}/\\mathrm{cm}^2 = 10\\,\\mathrm{A}/\\mathrm{m}^2$ and the factor $3$ for $3$ C.\n\nUse the universal constants $R = 8.314\\,\\mathrm{J}\\,\\mathrm{mol}^{-1}\\,\\mathrm{K}^{-1}$ and $F = 96485\\,\\mathrm{C}\\,\\mathrm{mol}^{-1}$.\n\nTest suite parameters:\n- Case A (happy path): $Q_{\\mathrm{areal}} = 4.0\\,\\mathrm{mAh}/\\mathrm{cm}^2$, $c_0 = 1000.0\\,\\mathrm{mol}/\\mathrm{m}^3$, $\\Delta c = 200.0\\,\\mathrm{mol}/\\mathrm{m}^3$, $\\delta_{\\mathrm{bl}} = 2.0\\times 10^{-5}\\,\\mathrm{m}$, $\\varepsilon = 0.40$, $b = 1.5$, $\\kappa_0 = 1.2\\,\\mathrm{S}/\\mathrm{m}$, $s = 1.0$, $t_+ = 0.38$, $T = 298.15\\,\\mathrm{K}$.\n- Case B (near-uniform concentration boundary): $Q_{\\mathrm{areal}} = 4.0\\,\\mathrm{mAh}/\\mathrm{cm}^2$, $c_0 = 1000.0\\,\\mathrm{mol}/\\mathrm{m}^3$, $\\Delta c = 20.0\\,\\mathrm{mol}/\\mathrm{m}^3$, $\\delta_{\\mathrm{bl}} = 2.0\\times 10^{-5}\\,\\mathrm{m}$, $\\varepsilon = 0.40$, $b = 1.5$, $\\kappa_0 = 1.2\\,\\mathrm{S}/\\mathrm{m}$, $s = 1.0$, $t_+ = 0.38$, $T = 298.15\\,\\mathrm{K}$.\n- Case C (severe depletion and lower conductivity): $Q_{\\mathrm{areal}} = 5.0\\,\\mathrm{mAh}/\\mathrm{cm}^2$, $c_0 = 1000.0\\,\\mathrm{mol}/\\mathrm{m}^3$, $\\Delta c = 400.0\\,\\mathrm{mol}/\\mathrm{m}^3$, $\\delta_{\\mathrm{bl}} = 5.0\\times 10^{-5}\\,\\mathrm{m}$, $\\varepsilon = 0.35$, $b = 1.5$, $\\kappa_0 = 0.9\\,\\mathrm{S}/\\mathrm{m}$, $s = 1.0$, $t_+ = 0.38$, $T = 298.15\\,\\mathrm{K}$.\n- Case D (nonlinear conductivity exponent and higher transference number): $Q_{\\mathrm{areal}} = 3.0\\,\\mathrm{mAh}/\\mathrm{cm}^2$, $c_0 = 1200.0\\,\\mathrm{mol}/\\mathrm{m}^3$, $\\Delta c = 300.0\\,\\mathrm{mol}/\\mathrm{m}^3$, $\\delta_{\\mathrm{bl}} = 1.0\\times 10^{-5}\\,\\mathrm{m}$, $\\varepsilon = 0.45$, $b = 1.5$, $\\kappa_0 = 1.1\\,\\mathrm{S}/\\mathrm{m}$, $s = 0.8$, $t_+ = 0.50$, $T = 308.15\\,\\mathrm{K}$.\n\nYour program should produce a single line of output containing the depletion-induced incremental overpotential for the four cases as a comma-separated list enclosed in square brackets in volts, rounded to $6$ decimal places, for example, $\\left[\\eta_A,\\eta_B,\\eta_C,\\eta_D\\right]$ printed as $\\left[\\text{value}_A,\\text{value}_B,\\text{value}_C,\\text{value}_D\\right]$.",
            "solution": "The problem is valid as it is scientifically grounded in the principles of electrochemical transport phenomena, specifically the Doyle-Fuller-Newman (DFN) model, and is well-posed, objective, and complete, assuming a linear concentration profile as the most reasonable interpretation of a monotonic decrease across a thin boundary layer.\n\nThe objective is to derive an expression for the incremental contribution of electrolyte depletion to the interfacial overpotential, denoted as $\\Delta\\eta_{\\mathrm{dep}}$. This quantity is defined as the increase in overpotential $\\eta$ at the reaction surface (positive-electrode entrance, $x=\\delta_{\\mathrm{bl}}$) due to electrolyte concentration depletion, compared to a baseline case with a uniform concentration $c_e(x) = c_0$.\n\nThe overpotential is given by $\\eta = \\phi_s - \\phi_e - U$. Since the solid-phase potential $\\phi_s$ and the open-circuit potential $U$ are considered fixed, the change in overpotential is due solely to the change in electrolyte potential $\\phi_e$ at the reaction surface ($x=\\delta_{\\mathrm{bl}}$):\n$$\n\\Delta\\eta_{\\mathrm{dep}} = \\eta_{\\mathrm{dep}} - \\eta_{\\mathrm{base}} = (\\phi_s - \\phi_{e, \\mathrm{dep}}(\\delta_{\\mathrm{bl}}) - U) - (\\phi_s - \\phi_{e, \\mathrm{base}}(\\delta_{\\mathrm{bl}}) - U) = -(\\phi_{e, \\mathrm{dep}}(\\delta_{\\mathrm{bl}}) - \\phi_{e, \\mathrm{base}}(\\delta_{\\mathrm{bl}}))\n$$\nWe can set a reference potential at the separator side of the boundary layer, $\\phi_e(0) = 0$, for both cases. The potential at the electrode interface is then found by integrating the potential gradient across the boundary layer of thickness $\\delta_{\\mathrm{bl}}$.\n\nThe governing equation for the electrolyte current density $i_e$ in a concentrated binary electrolyte, as per the foundations provided (concentrated-solution theory simplified for a thermodynamic factor of 1), is:\n$$\ni_e = -\\kappa_{\\mathrm{eff}}(x) \\frac{\\partial \\phi_e}{\\partial x} + \\frac{2 R T \\kappa_{\\mathrm{eff}}(x)}{F}(1 - t_+) \\frac{\\partial \\ln c_e}{\\partial x}\n$$\nwhere $R$ is the universal gas constant, $T$ is the temperature, $F$ is the Faraday constant, and $t_+$ is the cation transference number. We rearrange this to solve for the electrolyte potential gradient:\n$$\n\\frac{\\partial \\phi_e}{\\partial x} = -\\frac{i_e}{\\kappa_{\\mathrm{eff}}(x)} + \\frac{2 R T}{F}(1 - t_+) \\frac{\\partial \\ln c_e}{\\partial x}\n$$\nWithin the boundary layer, we assume $i_e$ is constant and equal to the applied areal current density, $i_e = i_{\\mathrm{app}}$. Integrating from $x=0$ to $x=\\delta_{\\mathrm{bl}}$ gives the potential drop across the layer:\n$$\n\\phi_e(\\delta_{\\mathrm{bl}}) = \\int_0^{\\delta_{\\mathrm{bl}}} \\frac{\\partial \\phi_e}{\\partial x} dx = \\int_0^{\\delta_{\\mathrm{bl}}} \\left( -\\frac{i_{\\mathrm{app}}}{\\kappa_{\\mathrm{eff}}(x)} \\right) dx + \\int_0^{\\delta_{\\mathrm{bl}}} \\left( \\frac{2 R T}{F}(1 - t_+) \\frac{\\partial \\ln c_e}{\\partial x} \\right) dx\n$$\nThe first term is the ohmic potential drop, $\\Delta\\phi_{\\mathrm{ohm}}$, and the second is the diffusional potential drop, $\\Delta\\phi_{\\mathrm{diff}}$.\n$$\n\\Delta\\phi_{\\mathrm{diff}} = \\frac{2 R T}{F}(1 - t_+) \\int_{c_e(0)}^{c_e(\\delta_{\\mathrm{bl}})} d(\\ln c_e) = \\frac{2 R T}{F}(1 - t_+) \\ln\\left(\\frac{c_e(\\delta_{\\mathrm{bl}})}{c_e(0)}\\right)\n$$\nIn the depletion case, $c_e(0) = c_0$ and $c_e(\\delta_{\\mathrm{bl}}) = c_0 - \\Delta c$.\nIn the baseline case, $c_e(x)=c_0$, so $\\frac{\\partial \\ln c_e}{\\partial x} = 0$, and $\\Delta\\phi_{\\mathrm{diff, base}} = 0$.\n\nThe incremental overpotential can be decomposed as:\n$$\n\\Delta\\eta_{\\mathrm{dep}} = -[(\\Delta\\phi_{\\mathrm{ohm, dep}} + \\Delta\\phi_{\\mathrm{diff, dep}}) - (\\Delta\\phi_{\\mathrm{ohm, base}} + \\Delta\\phi_{\\mathrm{diff, base}})] = -(\\Delta\\phi_{\\mathrm{ohm, dep}} - \\Delta\\phi_{\\mathrm{ohm, base}}) - \\Delta\\phi_{\\mathrm{diff, dep}}\n$$\nLet's define the ohmic and diffusional contributions to the incremental overpotential:\n$\\Delta\\eta_{\\mathrm{ohm}} = -(\\Delta\\phi_{\\mathrm{ohm, dep}} - \\Delta\\phi_{\\mathrm{ohm, base}})$\n\n$\\Delta\\eta_{\\mathrm{diff}} = - \\Delta\\phi_{\\mathrm{diff, dep}}$\n\nSo, $\\Delta\\eta_{\\mathrm{dep}} = \\Delta\\eta_{\\mathrm{ohm}} + \\Delta\\eta_{\\mathrm{diff}}$.\n\nFirst, we calculate the diffusional contribution:\n$$\n\\Delta\\eta_{\\mathrm{diff}} = - \\frac{2 R T}{F}(1 - t_+) \\ln\\left(\\frac{c_0 - \\Delta c}{c_0}\\right) = - \\frac{2 R T}{F}(1 - t_+) \\ln\\left(1 - \\frac{\\Delta c}{c_0}\\right)\n$$\nThis term is positive since $\\Delta c > 0$, causing the logarithmic term to be negative.\n\nNext, we calculate the ohmic contribution. We assume a linear concentration profile across the boundary layer, $c_e(x) = c_0 - \\frac{\\Delta c}{\\delta_{\\mathrm{bl}}}x$. The effective conductivity is $\\kappa_{\\mathrm{eff}}(x) = \\kappa_0 \\varepsilon^b \\left(\\frac{c_e(x)}{c_0}\\right)^s = \\kappa_0 \\varepsilon^b \\left(1 - \\frac{\\Delta c}{c_0} \\frac{x}{\\delta_{\\mathrm{bl}}}\\right)^s$.\nThe ohmic potential drop in the depletion case is:\n$$\n\\Delta\\phi_{\\mathrm{ohm, dep}} = -i_{\\mathrm{app}} \\int_0^{\\delta_{\\mathrm{bl}}} \\frac{dx}{\\kappa_{\\mathrm{eff}}(x)} = -\\frac{i_{\\mathrm{app}}}{\\kappa_0 \\varepsilon^b} \\int_0^{\\delta_{\\mathrm{bl}}} \\left(1 - \\frac{\\Delta c}{c_0} \\frac{x}{\\delta_{\\mathrm{bl}}}\\right)^{-s} dx\n$$\nIn the baseline case, $c_e(x) = c_0$, so $\\kappa_{\\mathrm{eff, base}} = \\kappa_0 \\varepsilon^b$.\n$$\n\\Delta\\phi_{\\mathrm{ohm, base}} = -i_{\\mathrm{app}} \\int_0^{\\delta_{\\mathrm{bl}}} \\frac{dx}{\\kappa_0 \\varepsilon^b} = -\\frac{i_{\\mathrm{app}} \\delta_{\\mathrm{bl}}}{\\kappa_0 \\varepsilon^b}\n$$\nThe ohmic contribution to the incremental overpotential is:\n$$\n\\Delta\\eta_{\\mathrm{ohm}} = -(\\Delta\\phi_{\\mathrm{ohm, dep}} - \\Delta\\phi_{\\mathrm{ohm, base}}) = i_{\\mathrm{app}} \\left( \\int_0^{\\delta_{\\mathrm{bl}}} \\frac{dx}{\\kappa_{\\mathrm{eff}}(x)} - \\frac{\\delta_{\\mathrm{bl}}}{\\kappa_0 \\varepsilon^b} \\right) = \\frac{i_{\\mathrm{app}}}{\\kappa_0 \\varepsilon^b} \\left( \\int_0^{\\delta_{\\mathrm{bl}}} \\left(1 - \\frac{\\Delta c}{c_0} \\frac{x}{\\delta_{\\mathrm{bl}}}\\right)^{-s} dx - \\delta_{\\mathrm{bl}} \\right)\n$$\nWe evaluate the integral. Let $A = \\frac{\\Delta c}{c_0}$ and $y = \\frac{x}{\\delta_{\\mathrm{bl}}}$, so $dx = \\delta_{\\mathrm{bl}} dy$.\n$$\n\\int_0^{\\delta_{\\mathrm{bl}}} (1 - A \\frac{x}{\\delta_{\\mathrm{bl}}})^{-s} dx = \\delta_{\\mathrm{bl}} \\int_0^1 (1 - Ay)^{-s} dy\n$$\nFor the case $s=1$:\n$$\n\\int_0^1 (1 - Ay)^{-1} dy = \\left[ \\frac{\\ln(1 - Ay)}{-A} \\right]_0^1 = -\\frac{\\ln(1 - A)}{A}\n$$\nFor the case $s \\neq 1$:\n$$\n\\int_0^1 (1 - Ay)^{-s} dy = \\left[ \\frac{(1 - Ay)^{-s+1}}{(-s+1)(-A)} \\right]_0^1 = \\frac{(1-A)^{1-s} - 1}{A(s-1)}\n$$\nSubstituting these back into the expression for $\\Delta\\eta_{\\mathrm{ohm}}$:\nFor $s=1$, let $A = \\Delta c / c_0$:\n$$\n\\Delta\\eta_{\\mathrm{ohm}} = \\frac{i_{\\mathrm{app}} \\delta_{\\mathrm{bl}}}{\\kappa_0 \\varepsilon^b} \\left( -\\frac{1}{A} \\ln(1 - A) - 1 \\right)\n$$\nFor $s \\neq 1$:\n$$\n\\Delta\\eta_{\\mathrm{ohm}} = \\frac{i_{\\mathrm{app}} \\delta_{\\mathrm{bl}}}{\\kappa_0 \\varepsilon^b} \\left( \\frac{(1 - A)^{1-s} - 1}{A(s-1)} - 1 \\right)\n$$\nThe total incremental overpotential $\\Delta\\eta_{\\mathrm{dep}}$ is the sum $\\Delta\\eta_{\\mathrm{ohm}} + \\Delta\\eta_{\\mathrm{diff}}$. This provides a complete, computable expression.\n\nThe applied current density is calculated using the provided formula $i_{\\mathrm{app}} = 30\\,Q_{\\mathrm{areal}}$, which correctly converts from $\\mathrm{mAh/cm^2}$ to $\\mathrm{A/m^2}$ for a 3C rate.\n\nWe will now implement these derived expressions to calculate the results for the given test suite.",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Calculates the incremental contribution of electrolyte depletion\n    to the interfacial overpotential in a Li-ion cell based on the DFN model.\n    \"\"\"\n\n    # Universal constants\n    R = 8.314  # J mol^-1 K^-1\n    F = 96485  # C mol^-1\n\n    # Test suite parameters\n    test_cases = [\n        # Case A: happy path\n        {'Q_areal': 4.0, 'c0': 1000.0, 'dc': 200.0, 'd_bl': 2.0e-5, 'eps': 0.40, 'b': 1.5, 'k0': 1.2, 's': 1.0, 't_plus': 0.38, 'T': 298.15},\n        # Case B: near-uniform concentration boundary\n        {'Q_areal': 4.0, 'c0': 1000.0, 'dc': 20.0, 'd_bl': 2.0e-5, 'eps': 0.40, 'b': 1.5, 'k0': 1.2, 's': 1.0, 't_plus': 0.38, 'T': 298.15},\n        # Case C: severe depletion and lower conductivity\n        {'Q_areal': 5.0, 'c0': 1000.0, 'dc': 400.0, 'd_bl': 5.0e-5, 'eps': 0.35, 'b': 1.5, 'k0': 0.9, 's': 1.0, 't_plus': 0.38, 'T': 298.15},\n        # Case D: nonlinear conductivity and higher transference number\n        {'Q_areal': 3.0, 'c0': 1200.0, 'dc': 300.0, 'd_bl': 1.0e-5, 'eps': 0.45, 'b': 1.5, 'k0': 1.1, 's': 0.8, 't_plus': 0.50, 'T': 308.15},\n    ]\n\n    results = []\n\n    for params in test_cases:\n        Q_areal = params['Q_areal']    # mAh/cm^2\n        c0 = params['c0']              # mol/m^3\n        dc = params['dc']              # mol/m^3\n        d_bl = params['d_bl']          # m\n        eps = params['eps']            # dimensionless\n        b = params['b']                # dimensionless\n        k0 = params['k0']              # S/m\n        s = params['s']                # dimensionless\n        t_plus = params['t_plus']      # dimensionless\n        T = params['T']                # K\n\n        # Calculate applied current density in A/m^2\n        i_app = 30 * Q_areal\n\n        # Handle trivial case of no depletion\n        if dc == 0:\n            results.append(0.0)\n            continue\n\n        # Relative concentration drop\n        rel_dc = dc / c0\n\n        # --- 1. Calculate diffusional contribution to overpotential (eta_diff) ---\n        # This term is positive as ln(1-rel_dc) is negative.\n        eta_diff = - (2 * R * T / F) * (1 - t_plus) * np.log(1 - rel_dc)\n\n        # --- 2. Calculate ohmic contribution to overpotential (eta_ohm) ---\n        # Effective conductivity in the baseline case (uniform concentration)\n        kappa_eff_base = k0 * (eps ** b)\n        \n        # Prefactor for the ohmic overpotential term\n        ohmic_prefactor = (i_app * d_bl) / kappa_eff_base\n        \n        # The core term depends on the conductivity exponent 's'\n        if np.isclose(s, 1.0):\n            # Special case for s = 1\n            # Using L'Hopital's rule, as rel_dc -> 0, ohmic_term -> rel_dc/2\n            if np.isclose(rel_dc, 0.0):\n                 ohmic_term_multiplier = 0.0\n            else:\n                 ohmic_term_multiplier = - (1 / rel_dc) * np.log(1 - rel_dc) - 1\n        else:\n            # General case for s != 1\n            # Using Taylor expansion, as rel_dc -> 0, ohmic_term -> s*rel_dc/2\n            if np.isclose(rel_dc, 0.0):\n                ohmic_term_multiplier = 0.0\n            else:\n                 ohmic_term_multiplier = ((1 - rel_dc)**(1 - s) - 1) / (rel_dc * (s - 1)) - 1\n        \n        eta_ohm = ohmic_prefactor * ohmic_term_multiplier\n\n        # --- 3. Total incremental overpotential ---\n        eta_depletion = eta_ohm + eta_diff\n\n        results.append(round(eta_depletion, 6))\n\n    # Format output as a comma-separated list in brackets\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        }
    ]
}