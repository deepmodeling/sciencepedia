{
    "hands_on_practices": [
        {
            "introduction": "A robust Lifecycle Assessment begins with an accurate inventory of energy and material flows. This practice focuses on a critical, energy-intensive step in battery manufacturing: the high-temperature synthesis of cathode active materials. By constructing a mass and energy balance from first principles, you will calculate the minimum thermal energy required for a batch process, a key parameter for estimating the \"cradle-to-gate\" environmental impact.  This exercise sharpens skills in applying fundamental stoichiometry and thermodynamics to model industrial processes for LCA.",
            "id": "3923357",
            "problem": "An automated battery design and simulation workflow must estimate the unit process energy of high-temperature synthesis for Life Cycle Assessment (LCA). Consider calcination and sintering of a layered oxide lithium nickel manganese cobalt cathode with nominal composition $\\mathrm{LiNi_{0.8}Mn_{0.1}Co_{0.1}O_2}$ (often called NMC811). The synthesis proceeds by firing a stoichiometric mixture of a mixed transition-metal hydroxide precursor $\\mathrm{M(OH)_2}$, where $\\mathrm{M} = 0.8\\,\\mathrm{Ni} + 0.1\\,\\mathrm{Mn} + 0.1\\,\\mathrm{Co}$, and lithium carbonate $\\mathrm{Li_2CO_3}$ in air. The overall reaction during calcination can be idealized as\n$$\\mathrm{Li_2CO_3} + 2\\,\\mathrm{M(OH)_2} + \\tfrac{1}{2}\\,\\mathrm{O_2} \\rightarrow 2\\,\\mathrm{LiMO_2} + \\mathrm{CO_2} + 2\\,\\mathrm{H_2O}.$$\nThe target batch produces $\\mathrm{LiMO_2}$ at a total mass of $100\\,\\mathrm{kg}$. Use the following atomic weights: $\\mathrm{Li}=6.94\\,\\mathrm{g/mol}$, $\\mathrm{C}=12.01\\,\\mathrm{g/mol}$, $\\mathrm{O}=16.00\\,\\mathrm{g/mol}$, $\\mathrm{H}=1.008\\,\\mathrm{g/mol}$, $\\mathrm{Ni}=58.69\\,\\mathrm{g/mol}$, $\\mathrm{Mn}=54.94\\,\\mathrm{g/mol}$, and $\\mathrm{Co}=58.93\\,\\mathrm{g/mol}$. The furnace temperature program is a linear ramp from ambient $298\\,\\mathrm{K}$ to a sintering setpoint $1073\\,\\mathrm{K}$ over $3.0\\,\\mathrm{h}$, followed by a hold at $1073\\,\\mathrm{K}$ for $2.0\\,\\mathrm{h}$. The furnace experiences heat losses to the room at ambient $298\\,\\mathrm{K}$ characterized by a constant overall heat loss coefficient $U A = 30\\,\\mathrm{W/K}$.\n\nConstruct a stoichiometric mass balance for the batch to compute the total solid charge mass that is heated in the furnace prior to off-gassing. Then, starting from the first law of thermodynamics for a closed system and core definitions of sensible heat and conductive-convective heat loss, derive and calculate the minimum required thermal energy input to the furnace as the sum of (i) sensible heat to raise the solid charge from $298\\,\\mathrm{K}$ to $1073\\,\\mathrm{K}$ and (ii) the time-integrated heat losses over the ramp and hold segments. Make the following physically realistic simplifying assumptions: the effective constant specific heat capacity of the solid charge is $c_p = 0.85\\,\\mathrm{kJ/(kg\\cdot K)}$ over the temperature range; reaction enthalpies and gas-phase sensible heats are neglected in the minimum; no mechanical work is exchanged; cooling energy is not counted; and the furnaceâ€™s heat loss coefficient is time-invariant. Express the final energy in $\\mathrm{MJ}$ and round your answer to four significant figures. Ensure all steps are scientifically consistent and self-contained, with all quantities defined and justified by fundamental laws and well-tested formulas.",
            "solution": "The user-provided problem statement has been critically validated and is deemed scientifically grounded, well-posed, and objective. It contains a complete and consistent set of givens, allowing for a unique and meaningful solution. The problem is a standard application of stoichiometry and thermodynamics relevant to materials process engineering and Life Cycle Assessment.\n\nThe objective is to calculate the minimum required thermal energy input for a high-temperature synthesis process. This energy, $Q_{\\mathrm{total}}$, is the sum of two components: the sensible heat required to raise the temperature of the solid reactants, $Q_{\\mathrm{sensible}}$, and the total heat lost to the surroundings during the process, $Q_{\\mathrm{loss}}$.\n\nThe solution is structured in two main parts:\n$1$. Stoichiometric mass balance to determine the initial mass of solid reactants.\n$2$. Thermodynamic calculation of the required energy components.\n\n**Part 1: Stoichiometric Mass Balance**\n\nFirst, we must determine the molar masses ($MW$) of the species involved in the reaction based on the provided atomic weights ($AW$). The composition of the mixed transition metal site is $\\mathrm{M} = 0.8\\,\\mathrm{Ni} + 0.1\\,\\mathrm{Mn} + 0.1\\,\\mathrm{Co}$.\n$AW_{\\mathrm{Li}} = 6.94\\,\\mathrm{g/mol}$\n$AW_{\\mathrm{C}} = 12.01\\,\\mathrm{g/mol}$\n$AW_{\\mathrm{O}} = 16.00\\,\\mathrm{g/mol}$\n$AW_{\\mathrm{H}} = 1.008\\,\\mathrm{g/mol}$\n$AW_{\\mathrm{Ni}} = 58.69\\,\\mathrm{g/mol}$\n$AW_{\\mathrm{Mn}} = 54.94\\,\\mathrm{g/mol}$\n$AW_{\\mathrm{Co}} = 58.93\\,\\mathrm{g/mol}$\n\nThe average molar mass of the metal site, $MW_{\\mathrm{M}}$, is:\n$$MW_{\\mathrm{M}} = 0.8 \\times AW_{\\mathrm{Ni}} + 0.1 \\times AW_{\\mathrm{Mn}} + 0.1 \\times AW_{\\mathrm{Co}}$$\n$$MW_{\\mathrm{M}} = 0.8 \\times 58.69\\,\\mathrm{g/mol} + 0.1 \\times 54.94\\,\\mathrm{g/mol} + 0.1 \\times 58.93\\,\\mathrm{g/mol}$$\n$$MW_{\\mathrm{M}} = 46.952\\,\\mathrm{g/mol} + 5.494\\,\\mathrm{g/mol} + 5.893\\,\\mathrm{g/mol} = 58.339\\,\\mathrm{g/mol}$$\n\nThe molar mass of the final product, $\\mathrm{LiMO_2}$:\n$$MW_{\\mathrm{LiMO_2}} = AW_{\\mathrm{Li}} + MW_{\\mathrm{M}} + 2 \\times AW_{\\mathrm{O}}$$\n$$MW_{\\mathrm{LiMO_2}} = 6.94\\,\\mathrm{g/mol} + 58.339\\,\\mathrm{g/mol} + 2 \\times 16.00\\,\\mathrm{g/mol} = 97.279\\,\\mathrm{g/mol}$$\n\nThe molar masses of the solid reactants, lithium carbonate ($\\mathrm{Li_2CO_3}$) and the mixed metal hydroxide ($\\mathrm{M(OH)_2}$), are:\n$$MW_{\\mathrm{Li_2CO_3}} = 2 \\times AW_{\\mathrm{Li}} + AW_{\\mathrm{C}} + 3 \\times AW_{\\mathrm{O}}$$\n$$MW_{\\mathrm{Li_2CO_3}} = 2 \\times 6.94\\,\\mathrm{g/mol} + 12.01\\,\\mathrm{g/mol} + 3 \\times 16.00\\,\\mathrm{g/mol} = 73.89\\,\\mathrm{g/mol}$$\n$$MW_{\\mathrm{M(OH)_2}} = MW_{\\mathrm{M}} + 2 \\times (AW_{\\mathrm{O}} + AW_{\\mathrm{H}})$$\n$$MW_{\\mathrm{M(OH)_2}} = 58.339\\,\\mathrm{g/mol} + 2 \\times (16.00\\,\\mathrm{g/mol} + 1.008\\,\\mathrm{g/mol}) = 92.355\\,\\mathrm{g/mol}$$\n\nThe process yields a target mass $m_{\\mathrm{LiMO_2}} = 100\\,\\mathrm{kg}$. The number of moles of product, $n_{\\mathrm{LiMO_2}}$, is:\n$$n_{\\mathrm{LiMO_2}} = \\frac{m_{\\mathrm{LiMO_2}}}{MW_{\\mathrm{LiMO_2}}} = \\frac{100 \\times 10^3\\,\\mathrm{g}}{97.279\\,\\mathrm{g/mol}} \\approx 1027.97\\,\\mathrm{mol}$$\n\nThe reaction stoichiometry is given as: $$\\mathrm{Li_2CO_3} + 2\\,\\mathrm{M(OH)_2} + \\tfrac{1}{2}\\,\\mathrm{O_2} \\rightarrow 2\\,\\mathrm{LiMO_2} + \\mathrm{CO_2} + 2\\,\\mathrm{H_2O}$$\nFrom this, we determine the moles of each solid reactant:\n$$n_{\\mathrm{Li_2CO_3}} = n_{\\mathrm{LiMO_2}} \\times \\frac{1}{2} = 513.985\\,\\mathrm{mol}$$\n$$n_{\\mathrm{M(OH)_2}} = n_{\\mathrm{LiMO_2}} \\times \\frac{2}{2} = n_{\\mathrm{LiMO_2}} = 1027.97\\,\\mathrm{mol}$$\n\nThe masses of the reactants are:\n$$m_{\\mathrm{Li_2CO_3}} = n_{\\mathrm{Li_2CO_3}} \\times MW_{\\mathrm{Li_2CO_3}} = 513.985\\,\\mathrm{mol} \\times 73.89\\,\\mathrm{g/mol} \\approx 37978\\,\\mathrm{g} \\approx 37.978\\,\\mathrm{kg}$$\n$$m_{\\mathrm{M(OH)_2}} = n_{\\mathrm{M(OH)_2}} \\times MW_{\\mathrm{M(OH)_2}} = 1027.97\\,\\mathrm{mol} \\times 92.355\\,\\mathrm{g/mol} \\approx 94958\\,\\mathrm{g} \\approx 94.958\\,\\mathrm{kg}$$\n\nThe total initial solid charge mass, $m_{\\mathrm{charge}}$, is the sum of the solid reactant masses:\n$$m_{\\mathrm{charge}} = m_{\\mathrm{Li_2CO_3}} + m_{\\mathrm{M(OH)_2}} \\approx 37.978\\,\\mathrm{kg} + 94.958\\,\\mathrm{kg} \\approx 132.936\\,\\mathrm{kg}$$\nFor higher precision, we express $m_{\\mathrm{charge}}$ symbolically:\n$$m_{\\mathrm{charge}} = \\frac{m_{\\mathrm{LiMO_2}}}{MW_{\\mathrm{LiMO_2}}} \\left( \\frac{1}{2} MW_{\\mathrm{Li_2CO_3}} + MW_{\\mathrm{M(OH)_2}} \\right)$$\n$$m_{\\mathrm{charge}} = 100\\,\\mathrm{kg} \\times \\frac{\\frac{1}{2}(73.89) + 92.355}{97.279} = 100\\,\\mathrm{kg} \\times \\frac{129.300}{97.279} \\approx 132.917\\,\\mathrm{kg}$$\n\n**Part 2: Thermodynamic Energy Calculation**\n\nThe total energy input $Q_{\\mathrm{total}}$ is the sum of the sensible heat $Q_{\\mathrm{sensible}}$ and the heat loss $Q_{\\mathrm{loss}}$. This is a direct consequence of the first law of thermodynamics $(\\Delta U = Q_{\\mathrm{input}} - Q_{\\mathrm{loss}})$ where the change in internal energy $\\Delta U$ of the charge is approximated by the sensible heat.\n\n**i) Sensible Heat ($Q_{\\mathrm{sensible}}$)**\nThe sensible heat is the energy required to raise the temperature of the initial solid mass from the ambient temperature $T_0$ to the final sintering temperature $T_f$.\nGiven:\n$m_{\\mathrm{charge}} \\approx 132.917\\,\\mathrm{kg}$\n$c_p = 0.85\\,\\mathrm{kJ/(kg\\cdot K)} = 850\\,\\mathrm{J/(kg\\cdot K)}$\n$T_0 = 298\\,\\mathrm{K}$\n$T_f = 1073\\,\\mathrm{K}$\n\nThe change in temperature is $\\Delta T = T_f - T_0 = 1073\\,\\mathrm{K} - 298\\,\\mathrm{K} = 775\\,\\mathrm{K}$.\n$$Q_{\\mathrm{sensible}} = m_{\\mathrm{charge}} c_p \\Delta T$$\n$$Q_{\\mathrm{sensible}} = 132.917\\,\\mathrm{kg} \\times 850\\,\\mathrm{J/(kg\\cdot K)} \\times 775\\,\\mathrm{K} \\approx 87,586,558\\,\\mathrm{J} \\approx 87.587\\,\\mathrm{MJ}$$\n\n**ii) Heat Loss ($Q_{\\mathrm{loss}}$)**\nHeat loss occurs over the entire heating profile, which consists of a ramp phase and a hold phase. The rate of heat loss at any time $t$ is given by $\\dot{Q}_{\\mathrm{loss}}(t) = UA(T(t) - T_{\\mathrm{amb}})$.\nGiven:\n$UA = 30\\,\\mathrm{W/K}$\n$T_{\\mathrm{amb}} = 298\\,\\mathrm{K}$\n$t_{\\mathrm{ramp}} = 3.0\\,\\mathrm{h} = 10800\\,\\mathrm{s}$\n$t_{\\mathrm{hold}} = 2.0\\,\\mathrm{h} = 7200\\,\\mathrm{s}$\n\nThe total heat loss is the time integral of the rate over both phases: $Q_{\\mathrm{loss}} = Q_{\\mathrm{loss, ramp}} + Q_{\\mathrm{loss, hold}}$.\n\n**Ramp Phase:** The temperature increases linearly with time:\n$$T(t) = T_0 + \\frac{T_f - T_0}{t_{\\mathrm{ramp}}} t \\quad \\text{for } 0 \\le t \\le t_{\\mathrm{ramp}}$$\nSince $T_0 = T_{\\mathrm{amb}}$, the temperature difference is $T(t) - T_{\\mathrm{amb}} = \\frac{T_f - T_0}{t_{\\mathrm{ramp}}} t$.\n$$Q_{\\mathrm{loss, ramp}} = \\int_{0}^{t_{\\mathrm{ramp}}} UA \\left( \\frac{T_f - T_0}{t_{\\mathrm{ramp}}} t \\right) dt = \\frac{UA(T_f - T_0)}{t_{\\mathrm{ramp}}} \\left[ \\frac{t^2}{2} \\right]_{0}^{t_{\\mathrm{ramp}}}$$\n$$Q_{\\mathrm{loss, ramp}} = \\frac{UA(T_f - T_0)}{t_{\\mathrm{ramp}}} \\frac{t_{\\mathrm{ramp}}^2}{2} = \\frac{1}{2} UA (T_f - T_0) t_{\\mathrm{ramp}}$$\nSubstituting values:\n$$Q_{\\mathrm{loss, ramp}} = \\frac{1}{2} (30\\,\\mathrm{W/K})(775\\,\\mathrm{K})(10800\\,\\mathrm{s}) = 125,550,000\\,\\mathrm{J} = 125.55\\,\\mathrm{MJ}$$\n\n**Hold Phase:** The temperature is constant at $T(t) = T_f$.\nThe heat loss rate is constant: $\\dot{Q}_{\\mathrm{loss}} = UA(T_f - T_{\\mathrm{amb}}) = UA(T_f - T_0)$.\n$$Q_{\\mathrm{loss, hold}} = UA (T_f - T_0) t_{\\mathrm{hold}}$$\nSubstituting values:\n$$Q_{\\mathrm{loss, hold}} = (30\\,\\mathrm{W/K})(775\\,\\mathrm{K})(7200\\,\\mathrm{s}) = 167,400,000\\,\\mathrm{J} = 167.40\\,\\mathrm{MJ}$$\n\nTotal heat loss is the sum:\n$$Q_{\\mathrm{loss}} = Q_{\\mathrm{loss, ramp}} + Q_{\\mathrm{loss, hold}} = 125.55\\,\\mathrm{MJ} + 167.40\\,\\mathrm{MJ} = 292.95\\,\\mathrm{MJ}$$\n\n**Total Required Thermal Energy**\nThe total minimum energy input is the sum of the sensible heat and total heat loss.\n$$Q_{\\mathrm{total}} = Q_{\\mathrm{sensible}} + Q_{\\mathrm{loss}}$$\n$$Q_{\\mathrm{total}} \\approx 87.587\\,\\mathrm{MJ} + 292.95\\,\\mathrm{MJ} \\approx 380.537\\,\\mathrm{MJ}$$\n\nRounding the result to four significant figures as requested:\n$$Q_{\\mathrm{total}} \\approx 380.5\\,\\mathrm{MJ}$$",
            "answer": "$$\\boxed{380.5}$$"
        },
        {
            "introduction": "The true impact of a battery must be judged relative to the total service it provides over its lifespan. This practice explores the concept of the \"functional unit,\" which for a battery is typically the total energy delivered before it reaches its end-of-life. Using a common empirical model for capacity degradation, you will calculate the lifetime delivered energy for a battery pack under a specified duty cycle.  This calculation is essential for normalizing LCA impacts and making fair comparisons between different battery designs and technologies.",
            "id": "3923414",
            "problem": "A design optimization workflow for an Automated Battery Design and Simulation platform requires a physically grounded estimate of lifetime delivered energy, to be used in Life Cycle Assessment (LCA) normalization. Consider a lithium-ion battery pack whose rated capacity at beginning of life is $Q_0$ in ampere-hours $\\mathrm{Ah}$, and whose capacity fade with cycle count $n$ is empirically described by a power-law degradation model $Q(n) = Q_0 - \\alpha n^{\\gamma}$, where $\\alpha$ has units $\\mathrm{Ah}\\cdot\\mathrm{cycle}^{-\\gamma}$ and $\\gamma > 0$. The end-of-life (EOL) criterion is defined by a capacity fraction $f_{\\mathrm{EOL}}$ such that the battery is retired at the first cycle index $N$ for which $Q(N) = f_{\\mathrm{EOL}} Q_0$.\n\nUnder a fixed duty cycle, each cycle discharges a constant depth of discharge fraction $d$ of the cycle-dependent capacity $Q(n)$. Assume the instantaneous terminal voltage is an affine function of state of charge (SOC), $V(\\mathrm{SOC}) = V_{\\mathrm{nom}} + k\\left(\\mathrm{SOC} - \\frac{1}{2}\\right)$, where $V_{\\mathrm{nom}}$ is the nominal voltage and $k$ is a small slope capturing voltage variation with SOC. Let the system delivery efficiency (including conversion, wiring, and thermal overheads) be $\\eta_{\\mathrm{sys}}$, treated as constant. Neglect calendar aging. Use the first-principles definition that the delivered energy per cycle is the integral of the instantaneous terminal voltage over the discharged charge, scaled by the delivery efficiency.\n\nTreat the cycle index $n$ as a continuous variable and compute the lifetime delivered energy $E_{\\mathrm{life}}$ by integrating the per-cycle delivered energy from $n = 0$ to $n = N$, where $N$ is determined by the EOL capacity fraction. Use the following scientifically plausible parameters:\n- $Q_0 = 250\\,\\mathrm{Ah}$,\n- $\\alpha = 0.01\\,\\mathrm{Ah}\\cdot\\mathrm{cycle}^{-1}$,\n- $\\gamma = 1$,\n- $f_{\\mathrm{EOL}} = 0.8$,\n- $d = 0.8$,\n- $V_{\\mathrm{nom}} = 400\\,\\mathrm{V}$,\n- $k = 40\\,\\mathrm{V}$,\n- $\\eta_{\\mathrm{sys}} = 0.95$.\n\nExpress the final energy in $\\mathrm{MWh}$ and round your answer to four significant figures. Your final answer must be a single real-valued number.",
            "solution": "The problem is scientifically sound and well-posed, providing all necessary parameters and a clear objective. The goal is to calculate the total energy delivered by a battery pack over its entire operational lifetime. This quantity, $E_{\\text{life}}$, serves as the functional unit for Life Cycle Assessment (LCA) normalization.\n\nThe solution strategy involves three main steps:\n1.  Determine the battery's End-of-Life (EOL) in terms of cycle count, $N$.\n2.  Formulate an expression for the energy delivered in a single cycle, $E_{\\text{cycle}}(n)$, which depends on the battery's state of health.\n3.  Integrate the per-cycle energy from the beginning of life ($n=0$) to the EOL ($n=N$) to find the total lifetime delivered energy.\n\n**Step 1: Calculate End-of-Life (EOL) Cycle Count**\nThe EOL is reached when the battery's capacity, $Q(N)$, fades to a specified fraction, $f_{\\text{EOL}}$, of its initial capacity, $Q_0$. The capacity fade is modeled by $Q(n) = Q_0 - \\alpha n^{\\gamma}$.\nThe EOL condition is:\n$$Q(N) = f_{\\text{EOL}} Q_0$$\nSubstituting the degradation model:\n$$Q_0 - \\alpha N^{\\gamma} = f_{\\text{EOL}} Q_0$$\nSolving for $N$:\n$$N = \\left( \\frac{Q_0(1 - f_{\\text{EOL}})}{\\alpha} \\right)^{1/\\gamma}$$\nUsing the given parameters: $Q_0 = 250\\,\\text{Ah}$, $f_{\\text{EOL}} = 0.8$, $\\alpha = 0.01\\,\\text{Ah}\\cdot\\text{cycle}^{-1}$, and $\\gamma = 1$:\n$$N = \\frac{250\\,\\text{Ah} \\cdot (1 - 0.8)}{0.01\\,\\text{Ah}\\cdot\\text{cycle}^{-1}} = \\frac{50}{0.01} = 5000\\,\\text{cycles}$$\n\n**Step 2: Derive Per-Cycle Delivered Energy**\nThe energy delivered in cycle $n$ is the product of the total charge discharged ($\\Delta Q_n$), the average voltage during discharge ($V_{\\text{avg}}$), and the system efficiency ($\\eta_{\\text{sys}}$).\nThe charge discharged in a cycle is $\\Delta Q_n = d \\cdot Q(n)$.\nThe voltage is an affine function of State of Charge (SOC): $V(\\text{SOC}) = V_{\\text{nom}} + k\\left(\\text{SOC} - \\frac{1}{2}\\right)$. Since the discharge occurs over the SOC range $[1, 1-d]$, the average voltage is the value at the midpoint of this range, $\\text{SOC} = 1 - d/2$.\n$$V_{\\text{avg}} = V\\left(1 - \\frac{d}{2}\\right) = V_{\\text{nom}} + k\\left(\\left(1 - \\frac{d}{2}\\right) - \\frac{1}{2}\\right) = V_{\\text{nom}} + \\frac{k}{2}(1 - d)$$\nUsing the given parameters: $V_{\\text{nom}} = 400\\,\\text{V}$, $k = 40\\,\\text{V}$, and $d = 0.8$:\n$$V_{\\text{avg}} = 400\\,\\text{V} + \\frac{40\\,\\text{V}}{2}(1 - 0.8) = 400 + 20(0.2) = 404\\,\\text{V}$$\nThe energy delivered in cycle $n$ is therefore:\n$$E_{\\text{cycle}}(n) = \\eta_{\\text{sys}} \\cdot \\Delta Q_n \\cdot V_{\\text{avg}} = \\eta_{\\text{sys}} d V_{\\text{avg}} Q(n)$$\n\n**Step 3: Integrate to Find Total Lifetime Energy**\nTreating the cycle index $n$ as a continuous variable, the total lifetime energy is the integral of the per-cycle energy:\n$$E_{\\text{life}} = \\int_0^N E_{\\text{cycle}}(n) dn = \\int_0^N \\eta_{\\text{sys}} d V_{\\text{avg}} Q(n) dn$$\nSince $\\eta_{\\text{sys}}$, $d$, and $V_{\\text{avg}}$ are constant, we can pull them out of the integral:\n$$E_{\\text{life}} = \\eta_{\\text{sys}} d V_{\\text{avg}} \\int_0^N (Q_0 - \\alpha n) dn$$\nEvaluating the integral:\n$$\\int_0^N (Q_0 - \\alpha n) dn = \\left[ Q_0 n - \\frac{\\alpha n^2}{2} \\right]_0^N = Q_0 N - \\frac{\\alpha N^2}{2}$$\nSubstituting the numerical values for $Q_0$, $\\alpha$, and $N=5000$:\n$$\\int_0^N Q(n) dn = (250\\,\\text{Ah})(5000) - \\frac{0.01\\,\\text{Ah}}{2}(5000)^2 = 1,250,000 - 125,000 = 1,125,000\\,\\text{Ah}$$\nFinally, we calculate the total lifetime energy:\n$$E_{\\text{life}} = \\eta_{\\text{sys}} \\cdot d \\cdot V_{\\text{avg}} \\cdot \\left( \\int_0^N Q(n) dn \\right)$$\n$$E_{\\text{life}} = (0.95) \\cdot (0.8) \\cdot (404\\,\\text{V}) \\cdot (1,125,000\\,\\text{Ah})$$\n$$E_{\\text{life}} = 345,420,000\\,\\text{Wh} = 345.42\\,\\text{MWh}$$\nRounding to four significant figures as requested, the lifetime delivered energy is $345.4\\,\\text{MWh}$.",
            "answer": "$$\\boxed{345.4}$$"
        },
        {
            "introduction": "Effective design optimization rarely involves a single objective; it is almost always a balancing act between competing goals, such as minimizing environmental impact while maximizing performance. This capstone exercise places you in the role of a design engineer evaluating a switch from a conventional to a more sustainable manufacturing process, a common challenge in the industry. By modeling the trade-offs between manufacturing Global Warming Potential (GWP) and battery performance, you will compute and analyze a Pareto front to identify optimal operating points.  This practice demonstrates how multi-objective optimization provides a powerful framework for making informed, data-driven decisions in sustainable engineering.",
            "id": "3923426",
            "problem": "Consider a two-objective design optimization for automated electrode manufacturing in lithium-ion battery production that compares N-Methyl-2-pyrrolidone (NMP) solvent-based processing and water-based processing. The goal is to compute a Pareto set under Life Cycle Assessment (LCA) principles and identify operating points that jointly improve climate impact and performance when switching partially or fully from NMP to water-based processing. The derivation must start from the following foundational principles.\n\nUse the fundamental LCA definition: the climate impact for a functional unit equals the sum of elementary flows multiplied by their characterization factors, divided by the service delivered by the product system. For this problem, take the functional unit as one unit of delivered battery energy. Let the climate objective be the manufacturing Global Warming Potential (GWP) per delivered energy. Assume linear mixing of process attributes with respect to the water-based adoption fraction and a stationary product-level performance under each processing choice.\n\nDefine the following decision variables and discrete design sets:\n- Water-based adoption fraction $f \\in \\{0,0.25,0.5,0.75,1.0\\}$ (dimensionless).\n- A water-process operating intensity parameter $\\theta \\in \\{0.5,1.0,1.5\\}$ (dimensionless), monotonically increasing with drying intensity and thus with energy input to water-based drying.\n\nAssume the following physical and logical modeling assumptions grounded in first principles:\n- Energy is conserved and additive across process steps. Manufacturing electricity use per nominal battery energy unit is additive when mixing process shares, hence linear in $f$.\n- Performance is represented by a deliverable-energy fraction that scales the nominal energy to delivered energy, and is linear in $f$ when processes are mixed over production volume.\n- Manufacturing electricity is characterized by the grid emission factor, with units of $\\text{kg CO}_2\\text{e kWh}_{\\text{e}}^{-1}$.\n- NMP-based processing has an additional solvent loss term contributing a constant climate penalty per nominal energy unit produced.\n- The climate objective is the manufacturing GWP per delivered energy, explicitly normalized by the deliverable fraction to respect the LCA functional unit.\n\nFor each test case below, you must derive and implement from first principles:\n- A formula for the total electricity use per nominal energy unit, $E_{\\mathrm{tot}}(f,\\theta)$, as a linear mixture of the NMP route and the water route.\n- A formula for the deliverable-energy fraction, $S_{\\mathrm{tot}}(f,\\theta)$, as a linear mixture of the NMP route and the water route.\n- A formula for the manufacturing GWP per delivered energy, $I_{\\mathrm{clim}}(f,\\theta)$, that uses the grid emission factor for electricity and the NMP solvent penalty, normalized by $S_{\\mathrm{tot}}(f,\\theta)$.\n- A discrete Pareto set of nondominated operating points in the objective vector $(I_{\\mathrm{clim}}(f,\\theta), -S_{\\mathrm{tot}}(f,\\theta))$, where $I_{\\mathrm{clim}}$ is minimized and $S_{\\mathrm{tot}}$ is maximized. A point $(f_1,\\theta_1)$ dominates $(f_2,\\theta_2)$ if and only if $I_{\\mathrm{clim}}(f_1,\\theta_1) \\le I_{\\mathrm{clim}}(f_2,\\theta_2)$ and $S_{\\mathrm{tot}}(f_1,\\theta_1) \\ge S_{\\mathrm{tot}}(f_2,\\theta_2)$, with at least one strict inequality. Treat identical objective tuples as a single operating point when reporting counts.\n\nBase parameterization to be used in all test cases:\n- NMP route electricity use per nominal unit: $E_{\\mathrm{NMP}}$ in $\\text{kWh}_{\\text{e}}\\,\\text{kWh}_{\\text{nom}}^{-1}$.\n- Water route electricity use per nominal unit: $E_{\\mathrm{H_2O}}(\\theta) = E_{w0} + c_e \\,\\theta$ in $\\text{kWh}_{\\text{e}}\\,\\text{kWh}_{\\text{nom}}^{-1}$, an increasing affine function of $\\theta$.\n- NMP deliverable-energy fraction: $S_{\\mathrm{NMP}}$ (dimensionless).\n- Water deliverable-energy fraction: $S_{\\mathrm{H_2O}}(\\theta)$ defined by linear interpolation over $\\theta \\in [0.5,1.5]$ from $S_{w,\\min}$ at $\\theta = 0.5$ to $S_{w,\\max}$ at $\\theta = 1.5$; that is, assume $S_{\\mathrm{H_2O}}(\\theta)$ is linear in $\\theta$ with slope $(S_{w,\\max}-S_{w,\\min})/(1.0)$.\n- Grid emission factor: $\\mathrm{EF}$ in $\\text{kg CO}_2\\text{e kWh}_{\\text{e}}^{-1}$.\n- NMP solvent penalty per nominal energy unit: $G_{\\mathrm{NMP}}$ in $\\text{kg CO}_2\\text{e kWh}_{\\text{nom}}^{-1}$.\n\nFrom these, you must compute:\n- The baseline operating point is the pure NMP process, $f = 0$. Use it to define baseline climate impact per delivered energy and baseline deliverable fraction.\n- The Pareto set over the discrete design grid $\\{f\\} \\times \\{\\theta\\}$.\n- The count of Pareto points that achieve a joint improvement over the baseline, i.e., strictly lower climate impact per delivered energy and strictly higher deliverable-energy fraction.\n\nExpress the climate objective $I_{\\mathrm{clim}}$ in $\\text{kg CO}_2\\text{e kWh}_{\\text{del}}^{-1}$, rounded to three decimal places, and the deliverable fraction $S_{\\mathrm{tot}}$ as a decimal rounded to three decimal places.\n\nTest suite. For each test case below, use the specified parameters:\n- Test case $1$ (happy path):\n  - $\\mathrm{EF} = 0.40$ $\\text{kg CO}_2\\text{e kWh}_{\\text{e}}^{-1}$, $E_{\\mathrm{NMP}} = 0.90$ $\\text{kWh}_{\\text{e}}\\,\\text{kWh}_{\\text{nom}}^{-1}$, $G_{\\mathrm{NMP}} = 0.06$ $\\text{kg CO}_2\\text{e kWh}_{\\text{nom}}^{-1}$, $S_{\\mathrm{NMP}} = 0.97$.\n  - $E_{w0} = 0.45$ $\\text{kWh}_{\\text{e}}\\,\\text{kWh}_{\\text{nom}}^{-1}$, $c_e = 0.10$ $\\text{kWh}_{\\text{e}}\\,\\text{kWh}_{\\text{nom}}^{-1}$.\n  - $S_{w,\\min} = 0.92$, $S_{w,\\max} = 0.98$.\n- Test case $2$ (clean grid, solvent-dominated NMP penalty):\n  - $\\mathrm{EF} = 0.05$ $\\text{kg CO}_2\\text{e kWh}_{\\text{e}}^{-1}$, $E_{\\mathrm{NMP}} = 0.90$ $\\text{kWh}_{\\text{e}}\\,\\text{kWh}_{\\text{nom}}^{-1}$, $G_{\\mathrm{NMP}} = 0.08$ $\\text{kg CO}_2\\text{e kWh}_{\\text{nom}}^{-1}$, $S_{\\mathrm{NMP}} = 0.97$.\n  - $E_{w0} = 0.44$ $\\text{kWh}_{\\text{e}}\\,\\text{kWh}_{\\text{nom}}^{-1}$, $c_e = 0.12$ $\\text{kWh}_{\\text{e}}\\,\\text{kWh}_{\\text{nom}}^{-1}$.\n  - $S_{w,\\min} = 0.95$, $S_{w,\\max} = 0.99$.\n- Test case $3$ (stringent performance sensitivity, limited solvent penalty):\n  - $\\mathrm{EF} = 0.60$ $\\text{kg CO}_2\\text{e kWh}_{\\text{e}}^{-1}$, $E_{\\mathrm{NMP}} = 0.85$ $\\text{kWh}_{\\text{e}}\\,\\text{kWh}_{\\text{nom}}^{-1}$, $G_{\\mathrm{NMP}} = 0.03$ $\\text{kg CO}_2\\text{e kWh}_{\\text{nom}}^{-1}$, $S_{\\mathrm{NMP}} = 0.98$.\n  - $E_{w0} = 0.50$ $\\text{kWh}_{\\text{e}}\\,\\text{kWh}_{\\text{nom}}^{-1}$, $c_e = 0.08$ $\\text{kWh}_{\\text{e}}\\,\\text{kWh}_{\\text{nom}}^{-1}$.\n  - $S_{w,\\min} = 0.85$, $S_{w,\\max} = 0.93$.\n\nFinal output specification. Your program should produce a single line of output containing a list of length $3$, where each element corresponds to one test case in order and is itself a list of four values $[n_{\\mathrm{Pareto}}, n_{\\mathrm{joint}}, I_{\\min}, S_{\\max}]$, defined as follows:\n- $n_{\\mathrm{Pareto}}$: the integer count of nondominated operating points over the discrete grid after collapsing identical objective tuples.\n- $n_{\\mathrm{joint}}$: the integer count of Pareto points that strictly improve both the climate objective and the deliverable fraction over the baseline.\n- $I_{\\min}$: the minimal climate impact per delivered energy over the Pareto set, in $\\text{kg CO}_2\\text{e kWh}_{\\text{del}}^{-1}$, rounded to three decimal places.\n- $S_{\\max}$: the maximal deliverable-energy fraction over the Pareto set, as a decimal, rounded to three decimal places.\n\nThe final printout must have the exact format of a JSON-like nested list, for example, $[[3,2,0.245,0.980],[\\dots],[\\dots]]$, with no units or additional text, and values rounded as specified. All computations must be done using the definitions above with $f \\in \\{0,0.25,0.5,0.75,1.0\\}$ and $\\theta \\in \\{0.5,1.0,1.5\\}$.",
            "solution": "The user-provided problem is a well-posed, scientifically grounded exercise in multi-objective optimization applied to Life Cycle Assessment (LCA) for battery manufacturing. It is internally consistent, provides all necessary data, and lays out a clear set of requirements. Therefore, the problem is deemed valid and a full solution is provided below.\n\n### 1. Derivation of Objective Function Models\n\nThe analysis requires two objective functions: the climate impact per delivered energy, $I_{\\mathrm{clim}}(f,\\theta)$, which is to be minimized, and the deliverable-energy fraction, $S_{\\mathrm{tot}}(f,\\theta)$, which is to be maximized. These functions depend on two decision variables: the water-based adoption fraction, $f$, and the water-process operating intensity, $\\theta$.\n\n#### 1.1. Water-Based Process Models\nThe models for the water-based process ($f=1$) depend on the operating intensity $\\theta$.\n\n**Electricity Use, $E_{\\mathrm{H_2O}}(\\theta)$**:\nThe electricity use per nominal energy unit for the water-based process is given as an affine function of $\\theta$:\n$$E_{\\mathrm{H_2O}}(\\theta) = E_{w0} + c_e \\theta$$\nwhere $E_{w0}$ is the base electricity use and $c_e$ is the sensitivity to drying intensity. The units are $\\text{kWh}_{\\text{e}}\\,\\text{kWh}_{\\text{nom}}^{-1}$.\n\n**Deliverable-Energy Fraction, $S_{\\mathrm{H_2O}}(\\theta)$**:\nThe deliverable-energy fraction for the water-based process is stated to be a linear interpolation over $\\theta \\in [0.5, 1.5]$, with $S_{\\mathrm{H_2O}}(0.5) = S_{w,\\min}$ and $S_{\\mathrm{H_2O}}(1.5) = S_{w,\\max}$. The equation of a line passing through $(\\theta_1, y_1)$ with slope $m$ is $y - y_1 = m(\\theta - \\theta_1)$. The slope $m_S$ is:\n$$m_S = \\frac{S_{w,\\max} - S_{w,\\min}}{1.5 - 0.5} = S_{w,\\max} - S_{w,\\min}$$\nUsing the point $(\\theta_1, y_1) = (0.5, S_{w,\\min})$, the formula for $S_{\\mathrm{H_2O}}(\\theta)$ is:\n$$S_{\\mathrm{H_2O}}(\\theta) = S_{w,\\min} + m_S (\\theta - 0.5) = S_{w,\\min} + (S_{w,\\max} - S_{w,\\min})(\\theta - 0.5)$$\n\n#### 1.2. Mixed-Process Models\nThe properties of the mixed process are derived using the principle of linear mixing with respect to the water-based adoption fraction $f$. A fraction $(1-f)$ of production follows the NMP-based route, and a fraction $f$ follows the water-based route.\n\n**Total Electricity Use, $E_{\\mathrm{tot}}(f, \\theta)$**:\nBased on the principles of energy conservation and additivity, the total electricity use per nominal unit is the weighted average of the NMP and water-based routes:\n$$E_{\\mathrm{tot}}(f, \\theta) = (1-f) E_{\\mathrm{NMP}} + f E_{\\mathrm{H_2O}}(\\theta)$$\nSubstituting the expression for $E_{\\mathrm{H_2O}}(\\theta)$:\n$$E_{\\mathrm{tot}}(f, \\theta) = (1-f) E_{\\mathrm{NMP}} + f (E_{w0} + c_e \\theta)$$\n\n**Total Deliverable-Energy Fraction, $S_{\\mathrm{tot}}(f, \\theta)$**:\nSimilarly, the total deliverable-energy fraction is the weighted average of the performance of the two routes:\n$$S_{\\mathrm{tot}}(f, \\theta) = (1-f) S_{\\mathrm{NMP}} + f S_{\\mathrm{H_2O}}(\\theta)$$\nSubstituting the expression for $S_{\\mathrm{H_2O}}(\\theta)$:\n$$S_{\\mathrm{tot}}(f, \\theta) = (1-f) S_{\\mathrm{NMP}} + f [S_{w,\\min} + (S_{w,\\max} - S_{w,\\min})(\\theta - 0.5)]$$\n\n#### 1.3. Climate Impact Objective, $I_{\\mathrm{clim}}(f,\\theta)$\nThe fundamental LCA definition states that climate impact is the sum of characterized elementary flows divided by the service delivered. Here, the service is one unit of delivered energy, $\\text{kWh}_{\\text{del}}$.\n\nFirst, we compute the total Global Warming Potential (GWP) per nominal energy unit, $\\mathrm{GWP_{nom}}$. This impact arises from two sources: electricity consumption and NMP solvent loss.\n- The GWP from electricity is $E_{\\mathrm{tot}}(f, \\theta) \\cdot \\mathrm{EF}$.\n- The NMP solvent penalty, $G_{\\mathrm{NMP}}$, is incurred only for the fraction of production using the NMP route, which is $(1-f)$.\n\nThus, the total GWP per nominal kWh is:\n$$\\mathrm{GWP_{nom}}(f, \\theta) = E_{\\mathrm{tot}}(f, \\theta) \\cdot \\mathrm{EF} + (1-f) G_{\\mathrm{NMP}}$$\n\nThe climate objective, $I_{\\mathrm{clim}}$, is this nominal impact normalized by the delivered energy per nominal unit, which is the deliverable fraction $S_{\\mathrm{tot}}(f, \\theta)$.\n$$I_{\\mathrm{clim}}(f, \\theta) = \\frac{\\mathrm{GWP_{nom}}(f, \\theta)}{S_{\\mathrm{tot}}(f, \\theta)}$$\nSubstituting the expressions for $\\mathrm{GWP_{nom}}$ and $S_{\\mathrm{tot}}$ yields the final formula for the climate objective in units of $\\text{kg CO}_2\\text{e kWh}_{\\text{del}}^{-1}$:\n$$I_{\\mathrm{clim}}(f, \\theta) = \\frac{((1-f) E_{\\mathrm{NMP}} + f (E_{w0} + c_e \\theta)) \\cdot \\mathrm{EF} + (1-f) G_{\\mathrm{NMP}}}{(1-f) S_{\\mathrm{NMP}} + f [S_{w,\\min} + (S_{w,\\max} - S_{w,\\min})(\\theta - 0.5)]}$$\n\n### 2. Algorithmic Procedure\n\nFor each test case, the following procedure is executed to find the required outputs.\n\n1.  **Generate Design Space**: The discrete design space is constructed from the Cartesian product of the specified sets for $f$ and $\\theta$. The case $f=0$ is special as its objectives are independent of $\\theta$, resulting in $1 + (5-1) \\times 3 = 13$ unique design points $(f, \\theta)$.\n\n2.  **Evaluate Objectives**: For each design point $(f_i, \\theta_j)$, the two objective functions, $I_{\\mathrm{clim}}(f_i, \\theta_j)$ and $S_{\\mathrm{tot}}(f_i, \\theta_j)$, are calculated using the derived formulas.\n\n3.  **Identify Unique Objective Vectors**: The problem requires treating operating points with identical objective values as a single point. The calculated objective values $(I_{\\mathrm{clim}}, S_{\\mathrm{tot}})$ are rounded to three decimal places. A dictionary is used to store the unique rounded objective vectors, ensuring no duplicates are processed in the next step.\n\n4.  **Find the Pareto Set**: A standard algorithm is used to identify the set of non-dominated points. A point $p_1$ with objective vector $(I_1, S_1)$ is dominated by another point $p_2$ with vector $(I_2, S_2)$ if $I_2 \\le I_1$ and $S_2 \\ge S_1$, with at least one inequality being strict. The algorithm iterates through all pairs of unique points, marking any point that is dominated. The set of points that are not dominated by any other point constitutes the Pareto set. The count of these points is $n_{\\mathrm{Pareto}}$.\n\n5.  **Compute Metrics**:\n    - **Baseline Point**: The objectives for the baseline case (pure NMP process, $f=0$) are calculated as $I_{\\mathrm{baseline}} = I_{\\mathrm{clim}}(0, \\cdot)$ and $S_{\\mathrm{baseline}} = S_{\\mathrm{tot}}(0, \\cdot)$.\n    - **Joint Improvement**: The algorithm iterates through the identified Pareto set. For each Pareto point $(I_p, S_p)$, it checks for strict improvement over the baseline, i.e., if $I_p < I_{\\mathrm{baseline}}$ and $S_p > S_{\\mathrm{baseline}}$. The count of such points is $n_{\\mathrm{joint}}$.\n    - **Extremal Values**: The minimum climate impact, $I_{\\min}$, and the maximum deliverable-energy fraction, $S_{\\max}$, are found by taking the minimum and maximum of the respective objective values across all points in the Pareto set.\n\n6.  **Format Output**: The four computed values ($n_{\\mathrm{Pareto}}$, $n_{\\mathrm{joint}}$, $I_{\\min}$, $S_{\\max}$) are collected for each test case and formatted into the specified nested list structure for the final output. The floating-point numbers are formatted to three decimal places.",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Main function to solve the multi-objective optimization problem for all test cases.\n    \"\"\"\n    test_cases = [\n        # Test case 1 (happy path)\n        {\n            \"EF\": 0.40, \"E_NMP\": 0.90, \"G_NMP\": 0.06, \"S_NMP\": 0.97,\n            \"E_w0\": 0.45, \"c_e\": 0.10, \"S_w_min\": 0.92, \"S_w_max\": 0.98\n        },\n        # Test case 2 (clean grid, solvent-dominated NMP penalty)\n        {\n            \"EF\": 0.05, \"E_NMP\": 0.90, \"G_NMP\": 0.08, \"S_NMP\": 0.97,\n            \"E_w0\": 0.44, \"c_e\": 0.12, \"S_w_min\": 0.95, \"S_w_max\": 0.99\n        },\n        # Test case 3 (stringent performance sensitivity, limited solvent penalty)\n        {\n            \"EF\": 0.60, \"E_NMP\": 0.85, \"G_NMP\": 0.03, \"S_NMP\": 0.98,\n            \"E_w0\": 0.50, \"c_e\": 0.08, \"S_w_min\": 0.85, \"S_w_max\": 0.93\n        },\n    ]\n\n    all_results = []\n    for params in test_cases:\n        result = calculate_pareto_metrics(**params)\n        all_results.append(result)\n\n    # Format the final output string as specified\n    formatted_results = []\n    for n_p, n_j, i_m, s_m in all_results:\n        formatted_results.append(f\"[{n_p},{n_j},{i_m:.3f},{s_m:.3f}]\")\n    \n    print(f\"[{','.join(formatted_results)}]\")\n\ndef calculate_pareto_metrics(EF, E_NMP, G_NMP, S_NMP, E_w0, c_e, S_w_min, S_w_max):\n    \"\"\"\n    Calculates the required metrics for a single set of parameters.\n    \"\"\"\n    f_vals = [0.0, 0.25, 0.5, 0.75, 1.0]\n    theta_vals = [0.5, 1.0, 1.5]\n\n    # Use a dictionary to store unique points based on their rounded objective values\n    # Key: (rounded_I_clim, rounded_S_tot), Value: (f, theta)\n    unique_points = {}\n\n    for f in f_vals:\n        if f == 0.0:\n            # For f=0, objectives are independent of theta\n            # Calculate for a single arbitrary theta\n            I_clim, S_tot = calculate_objectives(f, theta_vals[0], EF, E_NMP, G_NMP, S_NMP, E_w0, c_e, S_w_min, S_w_max)\n            # Round objectives for uniqueness check and comparison\n            rounded_I = round(I_clim, 3)\n            rounded_S = round(S_tot, 3)\n            if (rounded_I, rounded_S) not in unique_points:\n                unique_points[(rounded_I, rounded_S)] = (f, theta_vals[0])\n        else:\n            for theta in theta_vals:\n                I_clim, S_tot = calculate_objectives(f, theta, EF, E_NMP, G_NMP, S_NMP, E_w0, c_e, S_w_min, S_w_max)\n                # Round objectives\n                rounded_I = round(I_clim, 3)\n                rounded_S = round(S_tot, 3)\n                if (rounded_I, rounded_S) not in unique_points:\n                    unique_points[(rounded_I, rounded_S)] = (f, theta)\n\n    objective_vectors = list(unique_points.keys())\n\n    # Find the Pareto set\n    pareto_set = []\n    for p1 in objective_vectors:\n        is_dominated = False\n        for p2 in objective_vectors:\n            if p1 == p2:\n                continue\n            # p2 dominates p1 if I2 <= I1 and S2 >= S1, with at least one inequality strict\n            if p2[0] <= p1[0] and p2[1] >= p1[1] and (p2[0] < p1[0] or p2[1] > p1[1]):\n                is_dominated = True\n                break\n        if not is_dominated:\n            pareto_set.append(p1)\n\n    n_Pareto = len(pareto_set)\n\n    # Calculate baseline\n    I_base_raw, S_base_raw = calculate_objectives(0.0, theta_vals[0], EF, E_NMP, G_NMP, S_NMP, E_w0, c_e, S_w_min, S_w_max)\n    I_baseline = round(I_base_raw, 3)\n    S_baseline = round(S_base_raw, 3)\n\n    # Count joint improvers\n    n_joint = 0\n    for p_pareto in pareto_set:\n        if p_pareto[0] < I_baseline and p_pareto[1] > S_baseline:\n            n_joint += 1\n\n    # Find min I and max S in the Pareto set\n    if not pareto_set:\n      return [0, 0, 0.0, 0.0]\n\n    I_min = min(p[0] for p in pareto_set)\n    S_max = max(p[1] for p in pareto_set)\n\n    return [n_Pareto, n_joint, I_min, S_max]\n\ndef calculate_objectives(f, theta, EF, E_NMP, G_NMP, S_NMP, E_w0, c_e, S_w_min, S_w_max):\n    \"\"\"\n    Calculates the two objective functions I_clim and S_tot for a given (f, theta) point.\n    \"\"\"\n    # 1. Water-based process models\n    E_H2O = E_w0 + c_e * theta\n    \n    # S_H2O is a linear interpolation\n    slope_S = (S_w_max - S_w_min) / (1.5 - 0.5)\n    S_H2O = S_w_min + slope_S * (theta - 0.5)\n\n    # 2. Mixed-process models (linear mixing)\n    E_tot = (1 - f) * E_NMP + f * E_H2O\n    S_tot = (1 - f) * S_NMP + f * S_H2O\n\n    # 3. Climate Impact objective\n    GWP_nom = E_tot * EF + (1 - f) * G_NMP\n    \n    # Avoid division by zero if S_tot is non-positive, though unlikely with given params.\n    if S_tot <= 0:\n        I_clim = float('inf')\n    else:\n        I_clim = GWP_nom / S_tot\n        \n    return I_clim, S_tot\n\n# Execute the solution\nsolve()\n```"
        }
    ]
}