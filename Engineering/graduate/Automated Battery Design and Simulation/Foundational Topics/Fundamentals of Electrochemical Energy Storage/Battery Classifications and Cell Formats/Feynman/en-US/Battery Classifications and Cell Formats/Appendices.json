{
    "hands_on_practices": [
        {
            "introduction": "A battery's internal resistance is a critical factor limiting its power output and efficiency, with a significant contribution arising from the electrical resistance of the current collectors. This practice moves beyond simple geometries to model the effective resistance in a cylindrical jelly-roll, a format defined by its complex spiral-wound structure. By deriving the mean current path length from first principles , you will develop a more accurate picture of ohmic losses and appreciate how cell format directly impacts electrical performance modeling.",
            "id": "3894425",
            "problem": "A cylindrical Lithium-ion cell in the jelly-roll format (a spiral-wound electrode stack characteristic of cylindrical cells) has inner radius $r_{i} = 3\\ \\mathrm{mm}$, outer radius $r_{o} = 9\\ \\mathrm{mm}$, and height $h = 65\\ \\mathrm{mm}$. The copper current collector for the negative electrode is a continuous foil of thickness $t = 20\\ \\mu\\mathrm{m}$ and width equal to the active height $h$. Assume a single tab is located at a fixed azimuthal angle on the outermost radius, that the interfacial reaction current density is spatially uniform over the collector-supported active area, and that in-plane conduction along the collector is the dominant path to the tab. Using the definition of the Direct Current (DC) resistance $R$ of a uniform conductor segment, $R = \\rho L / A$, where $\\rho$ is the resistivity, $L$ is the conduction path length, and $A$ is the cross-sectional area perpendicular to the current flow, derive from first principles an expression for the mean azimuthal collector path length $\\bar{L}$ across the jelly-roll, and then estimate $R$ for copper foil with resistivity $\\rho = 1.68 \\times 10^{-8}\\ \\Omega\\cdot\\mathrm{m}$ at $25^{\\circ}\\mathrm{C}$.\n\nYou must:\n- Begin from geometric and averaging principles for a spiral-wound annulus, not from any pre-stated formulas for $\\bar{L}$.\n- Treat the mean path at a given radius $r$ as the average of the shortest azimuthal arc to the tab over all azimuthal positions, and then average radially with a weighting consistent with uniform reaction over area.\n- Use the copper cross-sectional area $A = t h$ for conduction around the azimuth.\n- Express the mean collector path length $\\bar{L}$ in $\\mathrm{m}$ and the resistance $R$ in $\\Omega$.\n- Round both $\\bar{L}$ and $R$ to four significant figures.\n\nProvide your final numerical results as specified, and ensure all mathematical entities are written in LaTeX. The final answer must be a single composite answer containing both values.",
            "solution": "The problem is deemed valid as it is scientifically grounded, well-posed, objective, and contains sufficient information for a unique solution. The physical model, while simplified, is based on established principles of electrical resistance and geometry. All provided values are physically realistic for a standard cylindrical Li-ion cell.\n\nThe solution proceeds in two stages: first, the derivation and calculation of the mean azimuthal collector path length, $\\bar{L}$, and second, the calculation of the DC resistance, $R$.\n\n**Part 1: Derivation and Calculation of Mean Path Length $\\bar{L}$**\n\nThe derivation is based on a two-step averaging process as specified in the problem statement.\n\nFirst, we determine the mean path length at a fixed radius $r$, denoted as $\\bar{L}_r$. The collector is modeled as a circular loop of radius $r$. A single tab is located at a fixed azimuthal angle, which we can set to $\\theta=0$ without loss of generality. For any point on the loop at an angle $\\theta \\in [0, 2\\pi)$, the shortest path to the tab is along the arc. The length of this path, $L(\\theta)$, is the shorter of the two possible arc lengths: $r\\theta$ and $r(2\\pi - \\theta)$.\nThus, the shortest path length is:\n$$\nL(\\theta) =\n\\begin{cases}\nr\\theta & \\text{for } 0 \\leq \\theta \\leq \\pi \\\\\nr(2\\pi - \\theta) & \\text{for } \\pi < \\theta \\leq 2\\pi\n\\end{cases}\n$$\nThe problem requires computing the average of this path length over all azimuthal positions. This average, $\\bar{L}_r$, is found by integrating $L(\\theta)$ over the full circle and dividing by the total angle, $2\\pi$:\n$$ \\bar{L}_r = \\frac{1}{2\\pi} \\int_{0}^{2\\pi} L(\\theta) \\, d\\theta $$\nSubstituting the expression for $L(\\theta)$:\n$$ \\bar{L}_r = \\frac{1}{2\\pi} \\left[ \\int_{0}^{\\pi} r\\theta \\, d\\theta + \\int_{\\pi}^{2\\pi} r(2\\pi - \\theta) \\, d\\theta \\right] $$\nWe evaluate the two integrals separately:\n$$ \\int_{0}^{\\pi} r\\theta \\, d\\theta = r \\left[ \\frac{\\theta^2}{2} \\right]_{0}^{\\pi} = r \\left( \\frac{\\pi^2}{2} - 0 \\right) = \\frac{r\\pi^2}{2} $$\n$$ \\int_{\\pi}^{2\\pi} r(2\\pi - \\theta) \\, d\\theta = r \\left[ 2\\pi\\theta - \\frac{\\theta^2}{2} \\right]_{\\pi}^{2\\pi} = r \\left[ \\left(4\\pi^2 - \\frac{4\\pi^2}{2}\\right) - \\left(2\\pi^2 - \\frac{\\pi^2}{2}\\right) \\right] = r \\left[ 2\\pi^2 - \\frac{3\\pi^2}{2} \\right] = \\frac{r\\pi^2}{2} $$\nSubstituting these results back into the expression for $\\bar{L}_r$:\n$$ \\bar{L}_r = \\frac{1}{2\\pi} \\left( \\frac{r\\pi^2}{2} + \\frac{r\\pi^2}{2} \\right) = \\frac{1}{2\\pi} (r\\pi^2) = \\frac{r\\pi}{2} $$\n\nSecond, we find the overall mean path length, $\\bar{L}$, by averaging $\\bar{L}_r$ over the radial dimension of the jelly roll, from the inner radius $r_i$ to the outer radius $r_o$. The problem specifies a weighting consistent with a uniform reaction over the area. For a differential annulus of radius $r$ and thickness $dr$, the area element is $dA = 2\\pi r \\, dr$. The total active area is the integral of $dA$ from $r_i$ to $r_o$. The weighted average $\\bar{L}$ is therefore:\n$$ \\bar{L} = \\frac{\\int_{r_i}^{r_o} \\bar{L}_r \\, dA}{\\int_{r_i}^{r_o} dA} = \\frac{\\int_{r_i}^{r_o} \\left(\\frac{r\\pi}{2}\\right) (2\\pi r \\, dr)}{\\int_{r_i}^{r_o} 2\\pi r \\, dr} $$\nLet's evaluate the numerator and the denominator.\nNumerator:\n$$ \\int_{r_i}^{r_o} \\pi^2 r^2 \\, dr = \\pi^2 \\left[ \\frac{r^3}{3} \\right]_{r_i}^{r_o} = \\frac{\\pi^2}{3}(r_o^3 - r_i^3) $$\nDenominator:\n$$ \\int_{r_i}^{r_o} 2\\pi r \\, dr = 2\\pi \\left[ \\frac{r^2}{2} \\right]_{r_i}^{r_o} = \\pi(r_o^2 - r_i^2) $$\nDividing the numerator by the denominator gives the expression for $\\bar{L}$:\n$$ \\bar{L} = \\frac{\\frac{\\pi^2}{3}(r_o^3 - r_i^3)}{\\pi(r_o^2 - r_i^2)} = \\frac{\\pi}{3} \\frac{r_o^3 - r_i^3}{r_o^2 - r_i^2} $$\nUsing the algebraic identities $r_o^3 - r_i^3 = (r_o - r_i)(r_o^2 + r_o r_i + r_i^2)$ and $r_o^2 - r_i^2 = (r_o - r_i)(r_o + r_i)$, we can simplify the expression:\n$$ \\bar{L} = \\frac{\\pi}{3} \\frac{r_o^2 + r_o r_i + r_i^2}{r_o + r_i} $$\nNow we substitute the given values: $r_i = 3\\ \\mathrm{mm} = 3 \\times 10^{-3}\\ \\mathrm{m}$ and $r_o = 9\\ \\mathrm{mm} = 9 \\times 10^{-3}\\ \\mathrm{m}$.\n$$ \\bar{L} = \\frac{\\pi}{3} \\frac{(9 \\times 10^{-3})^2 + (9 \\times 10^{-3})(3 \\times 10^{-3}) + (3 \\times 10^{-3})^2}{(9 \\times 10^{-3}) + (3 \\times 10^{-3})} $$\n$$ \\bar{L} = \\frac{\\pi}{3} \\frac{(81 \\times 10^{-6}) + (27 \\times 10^{-6}) + (9 \\times 10^{-6})}{12 \\times 10^{-3}} = \\frac{\\pi}{3} \\frac{117 \\times 10^{-6}}{12 \\times 10^{-3}} $$\n$$ \\bar{L} = \\frac{\\pi}{3} (9.75 \\times 10^{-3}) = \\pi (3.25 \\times 10^{-3}) \\approx 0.010210176\\ \\mathrm{m} $$\nRounding to four significant figures, the mean collector path length is:\n$$ \\bar{L} \\approx 0.01021\\ \\mathrm{m} $$\n\n**Part 2: Calculation of DC Resistance $R$**\n\nThe DC resistance $R$ is given by the formula $R = \\rho L / A$. In this context, $L$ is the mean path length $\\bar{L}$, and $A$ is the cross-sectional area perpendicular to the azimuthal current flow. This area is the product of the foil thickness $t$ and height $h$.\nThe given values are:\n$\\rho = 1.68 \\times 10^{-8}\\ \\Omega\\cdot\\mathrm{m}$\n$t = 20\\ \\mu\\mathrm{m} = 20 \\times 10^{-6}\\ \\mathrm{m} = 2 \\times 10^{-5}\\ \\mathrm{m}$\n$h = 65\\ \\mathrm{mm} = 65 \\times 10^{-3}\\ \\mathrm{m} = 6.5 \\times 10^{-2}\\ \\mathrm{m}$\nFirst, we calculate the cross-sectional area $A$:\n$$ A = t h = (2 \\times 10^{-5}\\ \\mathrm{m}) (6.5 \\times 10^{-2}\\ \\mathrm{m}) = 13 \\times 10^{-7}\\ \\mathrm{m}^2 = 1.3 \\times 10^{-6}\\ \\mathrm{m}^2 $$\nNow, we calculate the resistance $R$ using the value of $\\bar{L}$ before rounding for better precision:\n$$ R = \\rho \\frac{\\bar{L}}{A} = (1.68 \\times 10^{-8}\\ \\Omega\\cdot\\mathrm{m}) \\frac{0.010210176\\ \\mathrm{m}}{1.3 \\times 10^{-6}\\ \\mathrm{m}^2} $$\n$$ R = \\frac{1.68 \\times 0.010210176}{1.3} \\times 10^{-2}\\ \\Omega \\approx 0.013194689 \\times 10^{-2}\\ \\Omega $$\n$$ R \\approx 1.3194689 \\times 10^{-4}\\ \\Omega $$\nRounding to four significant figures, the resistance is:\n$$ R \\approx 1.319 \\times 10^{-4}\\ \\Omega $$\nThe final answer consists of the values for $\\bar{L}$ and $R$.",
            "answer": "$$ \\boxed{\\begin{pmatrix} 0.01021 & 1.319 \\times 10^{-4} \\end{pmatrix}} $$"
        },
        {
            "introduction": "The choice of cell format extends beyond mere packaging; it fundamentally determines a battery's performance envelope and its suitability for specific applications, from laboratory research to commercial deployment. This exercise explores the critical link between electrode thickness—a primary design variable tied to format—and the cell's rate capability by deriving the characteristic diffusion time $t_D = L^2/D$ . This analysis clarifies why thin-electrode formats like coin cells are indispensable for rapid material screening, whereas formats with thicker electrodes are necessary to achieve high energy density.",
            "id": "3894412",
            "problem": "An automated battery design and simulation workflow must decide whether to prototype a new Lithium-ion (Li-ion) cathode in a coin cell or a high-energy cylindrical cell. One critical differentiator is the characteristic time scale for species transport across the electrode thickness, which governs whether rapid screening measurements can be made without transport-limited artifacts. Consider one-dimensional (1D) solid diffusion of intercalant concentration $c(x,t)$ in a slab electrode occupying $0 \\le x \\le L$, with diffusion coefficient $D$ treated as constant over the relevant composition range. The transient response to a step change in surface condition can be modeled by Fick’s second law with physically appropriate boundary conditions representing a clamped concentration at the separator side and no-flux symmetry at the current collector. Starting from first principles and without invoking pre-derived transport time formulas, derive the characteristic time scale that controls the decay of transients in this slab, by nondimensionalizing the governing equation and identifying the single time scale that renders the dimensionless form parameter-free. Explain, based on your derivation, why small characteristic lengths $L$ in coin cells favor rapid transport-limited equilibration suitable for material screening, whereas thicker electrodes in high-energy formats do not.\n\nThen, for a coin cell with electrode thickness $L_{\\mathrm{coin}} = 50 \\,\\mu\\mathrm{m}$ and a cylindrical cell with $L_{\\mathrm{cyl}} = 500 \\,\\mu\\mathrm{m}$, both operating with the same solid diffusion coefficient $D = 2.0 \\times 10^{-14} \\,\\mathrm{m^{2}\\,s^{-1}}$, compute the dimensionless ratio of their characteristic diffusion times $t_{D,\\mathrm{coin}}/t_{D,\\mathrm{cyl}}$. Express your final answer as a unitless number and round your answer to three significant figures.",
            "solution": "The problem statement is scientifically grounded, well-posed, objective, and contains all necessary information for a solution. It describes a standard transient diffusion problem in chemical engineering and electrochemistry. Therefore, the problem is valid and a solution can be derived.\n\nThe problem asks for the characteristic time scale for one-dimensional solid-state diffusion in a slab electrode of thickness $L$. The governing equation is Fick's second law:\n$$\n\\frac{\\partial c(x, t)}{\\partial t} = D \\frac{\\partial^2 c(x, t)}{\\partial x^2}\n$$\nwhere $c(x, t)$ is the concentration of the intercalating species at position $x$ and time $t$, and $D$ is the constant diffusion coefficient. The domain is the slab thickness, $x \\in [0, L]$.\n\nThe boundary conditions are specified as:\n1.  A no-flux condition at the current collector. Let's place the current collector at $x=0$. The no-flux condition is expressed mathematically as:\n    $$\n    \\left. \\frac{\\partial c}{\\partial x} \\right|_{x=0} = 0\n    $$\n2.  A clamped concentration at the separator side, which we place at $x=L$. This represents a sudden change to a fixed surface concentration, $C_s$:\n    $$\n    c(L, t) = C_s \\quad \\text{for } t > 0\n    $$\nTo model the transient response, we must also specify an initial condition. We assume the electrode starts at a uniform initial concentration, $C_0$:\n$$\nc(x, 0) = C_0\n$$\n\nTo find the characteristic time scale, we nondimensionalize the problem. We introduce the following dimensionless variables:\n-   Dimensionless position: $\\xi = \\frac{x}{L}$, so $\\xi \\in [0, 1]$.\n-   Dimensionless time: $\\tau = \\frac{t}{t_D}$, where $t_D$ is the characteristic diffusion time we seek to determine.\n-   Dimensionless concentration: $\\theta(\\xi, \\tau) = \\frac{c(x, t) - C_s}{C_0 - C_s}$. This normalizes the concentration to be between $1$ (initial state) and $0$ (final surface state).\n\nNext, we transform the derivatives in Fick's law using the chain rule:\nThe time derivative becomes:\n$$\n\\frac{\\partial c}{\\partial t} = \\frac{\\partial}{\\partial t} \\left[ (C_0 - C_s)\\theta + C_s \\right] = (C_0 - C_s) \\frac{\\partial \\theta}{\\partial \\tau} \\frac{\\partial \\tau}{\\partial t} = (C_0 - C_s) \\frac{\\partial \\theta}{\\partial \\tau} \\frac{1}{t_D}\n$$\nThe spatial derivatives become:\n$$\n\\frac{\\partial c}{\\partial x} = \\frac{\\partial}{\\partial x} \\left[ (C_0 - C_s)\\theta + C_s \\right] = (C_0 - C_s) \\frac{\\partial \\theta}{\\partial \\xi} \\frac{\\partial \\xi}{\\partial x} = (C_0 - C_s) \\frac{\\partial \\theta}{\\partial \\xi} \\frac{1}{L}\n$$\n$$\n\\frac{\\partial^2 c}{\\partial x^2} = \\frac{\\partial}{\\partial x} \\left[ (C_0 - C_s) \\frac{1}{L} \\frac{\\partial \\theta}{\\partial \\xi} \\right] = (C_0 - C_s) \\frac{1}{L} \\frac{\\partial}{\\partial \\xi} \\left( \\frac{\\partial \\theta}{\\partial \\xi} \\right) \\frac{\\partial \\xi}{\\partial x} = (C_0 - C_s) \\frac{1}{L^2} \\frac{\\partial^2 \\theta}{\\partial \\xi^2}\n$$\nSubstituting these transformed derivatives back into Fick's second law:\n$$\n(C_0 - C_s) \\frac{1}{t_D} \\frac{\\partial \\theta}{\\partial \\tau} = D \\left[ (C_0 - C_s) \\frac{1}{L^2} \\frac{\\partial^2 \\theta}{\\partial \\xi^2} \\right]\n$$\nAssuming $C_0 \\neq C_s$, we can cancel the term $(C_0 - C_s)$ from both sides and rearrange to get:\n$$\n\\frac{\\partial \\theta}{\\partial \\tau} = \\left( \\frac{D t_D}{L^2} \\right) \\frac{\\partial^2 \\theta}{\\partial \\xi^2}\n$$\nThe problem requires us to find the time scale $t_D$ that makes this dimensionless equation parameter-free. This is achieved by setting the dimensionless group in the parenthesis to unity:\n$$\n\\frac{D t_D}{L^2} = 1\n$$\nSolving for $t_D$, we find the characteristic time scale for diffusion:\n$$\nt_D = \\frac{L^2}{D}\n$$\nThis is the fundamental time scale that governs the transient diffusion process in the slab.\n\nWith this choice, the entire problem becomes parameter-free:\n-   PDE: $\\frac{\\partial \\theta}{\\partial \\tau} = \\frac{\\partial^2 \\theta}{\\partial \\xi^2}$\n-   IC: $\\theta(\\xi, 0) = \\frac{c(x,0) - C_s}{C_0 - C_s} = \\frac{C_0 - C_s}{C_0 - C_s} = 1$\n-   BC1: $\\left. \\frac{\\partial \\theta}{\\partial \\xi} \\right|_{\\xi=0} = \\left. \\frac{L}{C_0 - C_s} \\frac{\\partial c}{\\partial x} \\right|_{x=0} = 0$\n-   BC2: $\\theta(1, \\tau) = \\frac{c(L,t) - C_s}{C_0 - C_s} = \\frac{C_s - C_s}{C_0 - C_s} = 0$\n\nBased on the derived relationship $t_D = \\frac{L^2}{D}$, we can explain the difference between coin cells and high-energy formats. The characteristic time for concentration gradients to dissipate scales with the square of the electrode thickness, $L^2$.\n-   For coin cells, the electrode thickness $L$ is small (e.g., $L_{\\mathrm{coin}} = 50 \\,\\mu\\mathrm{m}$). This results in a very short characteristic time $t_{D,\\mathrm{coin}}$. Consequently, the system equilibrates rapidly after any perturbation. This is highly advantageous for material screening, as it allows for the measurement of intrinsic material properties (like reaction kinetics or thermodynamic potential) without the confounding influence of slow mass transport. The measurement reflects the material's inherent behavior rather than a system-level transport limitation.\n-   For high-energy cylindrical cells, the electrode thickness $L$ is significantly larger (e.g., $L_{\\mathrm{cyl}} = 500 \\,\\mu\\mathrm{m}$) to maximize the amount of active material and thus the cell's energy capacity. Due to the quadratic relationship, the characteristic diffusion time $t_{D,\\mathrm{cyl}}$ is much longer. This means that under typical operating conditions, substantial concentration gradients will persist within the electrode. Transport limitations become a dominant factor in the cell's performance, particularly at high charge or discharge rates. While this is critical for evaluating the performance of a full cell, it makes it difficult to quickly and cleanly isolate and screen for fundamental material properties.\n\nFinally, we compute the dimensionless ratio of the characteristic diffusion times for the given coin cell and cylindrical cell configurations.\nThe characteristic times are:\n$$\nt_{D,\\mathrm{coin}} = \\frac{L_{\\mathrm{coin}}^2}{D}\n$$\n$$\nt_{D,\\mathrm{cyl}} = \\frac{L_{\\mathrm{cyl}}^2}{D}\n$$\nThe diffusion coefficient $D$ is the same for both. The ratio is therefore:\n$$\n\\frac{t_{D,\\mathrm{coin}}}{t_{D,\\mathrm{cyl}}} = \\frac{L_{\\mathrm{coin}}^2 / D}{L_{\\mathrm{cyl}}^2 / D} = \\left( \\frac{L_{\\mathrm{coin}}}{L_{\\mathrm{cyl}}} \\right)^2\n$$\nSubstituting the given values $L_{\\mathrm{coin}} = 50 \\,\\mu\\mathrm{m}$ and $L_{\\mathrm{cyl}} = 500 \\,\\mu\\mathrm{m}$:\n$$\n\\frac{t_{D,\\mathrm{coin}}}{t_{D,\\mathrm{cyl}}} = \\left( \\frac{50 \\,\\mu\\mathrm{m}}{500 \\,\\mu\\mathrm{m}} \\right)^2 = \\left( \\frac{1}{10} \\right)^2 = \\frac{1}{100} = 0.01\n$$\nThe problem asks for the answer to be rounded to three significant figures.\n$$\n0.0100\n$$\nIn scientific notation, this is $1.00 \\times 10^{-2}$.",
            "answer": "$$\\boxed{1.00 \\times 10^{-2}}$$"
        },
        {
            "introduction": "Ensuring the mechanical integrity of a battery is as important as its electrochemical performance, directly influencing both safety and cycle life. The unavoidable swelling and contraction of electrode materials during operation induce significant internal stresses, which are managed differently by various cell formats. This advanced practice integrates solid mechanics with electrochemistry to model and contrast the stress distributions in spirally wound jelly-rolls and stacked prismatic cells , providing hands-on experience in simulating the chemo-mechanical behavior that governs battery degradation and failure.",
            "id": "3894397",
            "problem": "Consider two canonical cell formats in electrochemical energy storage devices within the context of automated battery design and simulation: a jelly-roll winding (cylindrical spiral) and a stacked-sheet prismatic assembly. For the jelly-roll format, model the winding as an axisymmetric, homogeneous, isotropic, linearly elastic thick cylindrical continuum with inner radius $r_i$ and outer radius $r_o$, undergoing a uniform in-plane free swelling strain of magnitude $\\varepsilon_s$ due to lithiation. Assume plane strain along the axial direction and small deformation kinematics. The inner surface is traction-free, and the outer radius is constrained by a rigid case such that the total radial displacement is zero at $r=r_o$. For the stacked-sheet format, model the assembly as a one-dimensional slab with uniform external stack pressure $p_{\\mathrm{stack}}$ applied on the faces normal to the stack direction, with frictionless platens, such that the through-thickness stress is spatially uniform and equal to the applied pressure at equilibrium.\n\nYour task is to derive, implement, and evaluate the radial stress distribution $\\sigma_r(r)$ in the jelly-roll under the given constrained swelling, starting from fundamental mechanical principles: linear isotropic elasticity with eigenstrain (free swelling), axisymmetric equilibrium without body forces, and kinematic compatibility in cylindrical coordinates. Use the following base ingredients:\n- The linear elastic constitutive law in three dimensions with eigenstrain (free swelling), expressed via Lamé parameters $\\lambda$ and shear modulus $G$, where for an isotropic material with Young’s modulus $E$ and Poisson’s ratio $\\nu$, $G = \\dfrac{E}{2(1+\\nu)}$ and $\\lambda = \\dfrac{E \\nu}{(1+\\nu)(1-2\\nu)}$.\n- Axisymmetric strain-displacement relations in cylindrical coordinates for radial displacement $u(r)$ under plane strain: $\\varepsilon_r = \\dfrac{du}{dr}$, $\\varepsilon_\\theta = \\dfrac{u}{r}$, and $\\varepsilon_z = 0$.\n- Axisymmetric radial equilibrium without body forces: $\\dfrac{d\\sigma_r}{dr} + \\dfrac{\\sigma_r - \\sigma_\\theta}{r} = 0$.\n\nDo not use any pre-derived “shortcut” formulas for cylinders under thermal or swelling loads; instead, derive the elastic correction field necessary to enforce the boundary conditions on top of the free swelling field. The final program must compute the radial stress distribution in the jelly-roll and compare the outer reaction pressure to the uniform stress in the stacked-sheet configuration.\n\nImplementation requirements:\n- For the jelly-roll, superpose the free swelling field with an elastic correction field, determine the constants from the boundary conditions, and compute $\\sigma_r(r)$ across the radius. Use three evaluation radii: $r_1 = r_i$, $r_2 = \\dfrac{r_i + r_o}{2}$, and $r_3 = r_o$.\n- Define the outer reaction pressure as $p_{\\mathrm{out}} = -\\sigma_r(r_o)$ (positive when compressive), and compute the comparison ratio $R = \\dfrac{p_{\\mathrm{out}}}{p_{\\mathrm{stack}}}$.\n- All stresses must be expressed in $\\mathrm{Pa}$ and strains as dimensionless quantities. Radii must be in $\\mathrm{m}$. The output must be numerical floats.\n\nTest suite:\nProvide results for the following parameter sets (all symbols are as defined above, and all numbers must be interpreted in the stated units):\n1. Case A (happy path): $E = 1.0 \\times 10^{10}\\ \\mathrm{Pa}$, $\\nu = 0.3$, $\\varepsilon_s = 0.01$, $r_i = 0.005\\ \\mathrm{m}$, $r_o = 0.010\\ \\mathrm{m}$, $p_{\\mathrm{stack}} = 1.0 \\times 10^{6}\\ \\mathrm{Pa}$.\n2. Case B (zero swelling boundary case): $E = 5.0 \\times 10^{9}\\ \\mathrm{Pa}$, $\\nu = 0.3$, $\\varepsilon_s = 0.0$, $r_i = 0.004\\ \\mathrm{m}$, $r_o = 0.012\\ \\mathrm{m}$, $p_{\\mathrm{stack}} = 2.0 \\times 10^{6}\\ \\mathrm{Pa}$.\n3. Case C (near solid cylinder): $E = 2.5 \\times 10^{10}\\ \\mathrm{Pa}$, $\\nu = 0.35$, $\\varepsilon_s = 0.005$, $r_i = 0.0005\\ \\mathrm{m}$, $r_o = 0.010\\ \\mathrm{m}$, $p_{\\mathrm{stack}} = 5.0 \\times 10^{5}\\ \\mathrm{Pa}$.\n4. Case D (thin ring): $E = 1.5 \\times 10^{10}\\ \\mathrm{Pa}$, $\\nu = 0.45$, $\\varepsilon_s = 0.02$, $r_i = 0.009\\ \\mathrm{m}$, $r_o = 0.010\\ \\mathrm{m}$, $p_{\\mathrm{stack}} = 1.0 \\times 10^{6}\\ \\mathrm{Pa}$.\n5. Case E (high Poisson ratio): $E = 3.0 \\times 10^{10}\\ \\mathrm{Pa}$, $\\nu = 0.48$, $\\varepsilon_s = 0.015$, $r_i = 0.002\\ \\mathrm{m}$, $r_o = 0.015\\ \\mathrm{m}$, $p_{\\mathrm{stack}} = 3.0 \\times 10^{6}\\ \\mathrm{Pa}$.\n\nYour program must produce a single line of output containing the results as a comma-separated list enclosed in square brackets. For each case, return a list of four floats in the order $[\\sigma_r(r_1), \\sigma_r(r_2), \\sigma_r(r_3), R]$, where all $\\sigma_r$ entries are in $\\mathrm{Pa}$ and $R$ is dimensionless. The final output must therefore be a list of five sublists, one per case, aggregated into one line, for example: $[[x_1,x_2,x_3,x_4],[\\dots],\\dots]$.",
            "solution": "The problem is valid as it is scientifically grounded in continuum mechanics, well-posed with sufficient boundary conditions, and objectively stated. It represents a standard boundary value problem in linear elasticity. We proceed with a solution derived from first principles.\n\nThe solution is based on the theory of linear elasticity for an axisymmetric body under a uniform eigenstrain. The core principles are:\n1.  **Linear Isotropic Elasticity**: The stress is linearly proportional to the elastic strain. The material properties are uniform and direction-independent. The constitutive law is expressed in terms of Lamé parameters $\\lambda$ and $G$.\n2.  **Superposition**: The total strain field $\\boldsymbol{\\varepsilon}$ is the sum of an elastic strain field $\\boldsymbol{\\varepsilon}_e$ and a free swelling (eigenstrain) field $\\boldsymbol{\\varepsilon}^*$. Stress is generated only by the elastic strain: $\\boldsymbol{\\sigma} = \\mathbf{C} : \\boldsymbol{\\varepsilon}_e$.\n3.  **Axisymmetric Equilibrium**: In the absence of body forces, the stresses must satisfy the radial equilibrium equation.\n4.  **Kinematic Compatibility**: The strain field must be derivable from a continuous single-valued displacement field.\n\nWe begin with the provided governing equations in cylindrical coordinates for a plane strain ($\\varepsilon_z=0$) problem.\nThe strain-displacement relations are:\n$$\n\\varepsilon_r = \\frac{du}{dr}, \\quad \\varepsilon_\\theta = \\frac{u}{r}, \\quad \\varepsilon_z = 0\n$$\nThe equilibrium equation is:\n$$\n\\frac{d\\sigma_r}{dr} + \\frac{\\sigma_r - \\sigma_\\theta}{r} = 0\n$$\nThe constitutive law for an isotropic material with an eigenstrain tensor $\\boldsymbol{\\varepsilon}^*$ is $\\sigma_{ij} = \\lambda \\varepsilon_{kk}^e \\delta_{ij} + 2G \\varepsilon_{ij}^e$, where $\\boldsymbol{\\varepsilon}^e = \\boldsymbol{\\varepsilon} - \\boldsymbol{\\varepsilon}^*$.\nFor this problem, the free swelling is uniform and in-plane, so the eigenstrain tensor is:\n$$\n\\varepsilon_r^* = \\varepsilon_s, \\quad \\varepsilon_\\theta^* = \\varepsilon_s, \\quad \\varepsilon_z^* = 0\n$$\nThe elastic strains are therefore $\\varepsilon_r^e = \\varepsilon_r - \\varepsilon_s$, $\\varepsilon_\\theta^e = \\varepsilon_\\theta - \\varepsilon_s$, and $\\varepsilon_z^e = \\varepsilon_z - \\varepsilon_z^* = 0 - 0 = 0$.\nThe stress components are thus:\n$$\n\\sigma_r = \\lambda(\\varepsilon_r^e + \\varepsilon_\\theta^e) + 2G\\varepsilon_r^e = \\lambda(\\varepsilon_r + \\varepsilon_\\theta - 2\\varepsilon_s) + 2G(\\varepsilon_r - \\varepsilon_s)\n$$\n$$\n\\sigma_\\theta = \\lambda(\\varepsilon_r^e + \\varepsilon_\\theta^e) + 2G\\varepsilon_\\theta^e = \\lambda(\\varepsilon_r + \\varepsilon_\\theta - 2\\varepsilon_s) + 2G(\\varepsilon_\\theta - \\varepsilon_s)\n$$\nThe difference in principal in-plane stresses is:\n$$\n\\sigma_r - \\sigma_\\theta = 2G(\\varepsilon_r^e - \\varepsilon_\\theta^e) = 2G(\\varepsilon_r - \\varepsilon_\\theta)\n$$\nSubstituting the strain-displacement relations, we have $\\sigma_r - \\sigma_\\theta = 2G(\\frac{du}{dr} - \\frac{u}{r})$.\nLet's now derive the governing differential equation for the radial displacement $u(r)$ by substituting the constitutive relations into the equilibrium equation.\nThe stress $\\sigma_r$ can be written as:\n$$\n\\sigma_r = (\\lambda+2G)\\varepsilon_r + \\lambda\\varepsilon_\\theta - (2\\lambda+2G)\\varepsilon_s = (\\lambda+2G)\\frac{du}{dr} + \\lambda\\frac{u}{r} - (2\\lambda+2G)\\varepsilon_s\n$$\nSubstituting this and the stress difference into the equilibrium equation:\n$$\n\\frac{d}{dr}\\left( (\\lambda+2G)\\frac{du}{dr} + \\lambda\\frac{u}{r} - (2\\lambda+2G)\\varepsilon_s \\right) + \\frac{1}{r}\\left( 2G\\left(\\frac{du}{dr} - \\frac{u}{r}\\right) \\right) = 0\n$$\nThe term involving $\\varepsilon_s$ is a constant, so its derivative is zero.\n$$\n(\\lambda+2G)\\frac{d^2u}{dr^2} + \\lambda\\left(\\frac{1}{r}\\frac{du}{dr} - \\frac{u}{r^2}\\right) + \\frac{2G}{r}\\frac{du}{dr} - \\frac{2G}{r^2}u = 0\n$$\nCollecting terms:\n$$\n(\\lambda+2G)\\frac{d^2u}{dr^2} + \\frac{\\lambda+2G}{r}\\frac{du}{dr} - \\frac{\\lambda+2G}{r^2}u = 0\n$$\nDividing by the non-zero constant $(\\lambda+2G)$ yields the simplified form:\n$$\n\\frac{d^2u}{dr^2} + \\frac{1}{r}\\frac{du}{dr} - \\frac{u}{r^2} = 0\n$$\nThis is a Cauchy-Euler equation, which can also be written as $\\frac{d}{dr}\\left(\\frac{1}{r}\\frac{d(ru)}{dr}\\right) = 0$. The general solution for the total displacement $u(r)$ is:\n$$\nu(r) = C_1 r + \\frac{C_2}{r}\n$$\nwhere $C_1$ and $C_2$ are integration constants to be determined from the boundary conditions.\nFrom this displacement field, we find the total strains:\n$$\n\\varepsilon_r(r) = \\frac{du}{dr} = C_1 - \\frac{C_2}{r^2}\n$$\n$$\n\\varepsilon_\\theta(r) = \\frac{u}{r} = C_1 + \\frac{C_2}{r^2}\n$$\nNow, we express the radial stress $\\sigma_r$ in terms of $C_1$ and $C_2$:\n$$\n\\sigma_r(r) = \\lambda(\\varepsilon_r + \\varepsilon_\\theta - 2\\varepsilon_s) + 2G(\\varepsilon_r - \\varepsilon_s)\n$$\n$$\n\\sigma_r(r) = \\lambda(2C_1 - 2\\varepsilon_s) + 2G\\left(C_1 - \\frac{C_2}{r^2} - \\varepsilon_s\\right)\n$$\n$$\n\\sigma_r(r) = (2\\lambda + 2G)C_1 - \\frac{2GC_2}{r^2} - (2\\lambda+2G)\\varepsilon_s\n$$\nThe boundary conditions are:\n1.  Traction-free inner surface: $\\sigma_r(r_i) = 0$.\n2.  Zero radial displacement at the outer case: $u(r_o) = 0$.\n\nApplying the second boundary condition to the displacement field:\n$$\nu(r_o) = C_1 r_o + \\frac{C_2}{r_o} = 0 \\implies C_2 = -C_1 r_o^2\n$$\nApplying the first boundary condition to the stress field:\n$$\n\\sigma_r(r_i) = (2\\lambda + 2G)C_1 - \\frac{2GC_2}{r_i^2} - (2\\lambda+2G)\\varepsilon_s = 0\n$$\nSubstitute $C_2 = -C_1 r_o^2$ into this equation:\n$$\n(2\\lambda + 2G)C_1 - \\frac{2G(-C_1 r_o^2)}{r_i^2} - (2\\lambda+2G)\\varepsilon_s = 0\n$$\n$$\nC_1 \\left( (2\\lambda + 2G) + \\frac{2Gr_o^2}{r_i^2} \\right) = (2\\lambda+2G)\\varepsilon_s\n$$\nDividing by $2G$:\n$$\nC_1 \\left( \\frac{\\lambda}{G} + 1 + \\frac{r_o^2}{r_i^2} \\right) = \\left(\\frac{\\lambda}{G} + 1\\right)\\varepsilon_s\n$$\nUsing the relation $\\lambda = \\frac{2G\\nu}{1-2\\nu}$, we have $\\frac{\\lambda}{G} = \\frac{2\\nu}{1-2\\nu}$. Thus, $\\frac{\\lambda}{G} + 1 = \\frac{1}{1-2\\nu}$.\n$$\nC_1 \\left( \\frac{1}{1-2\\nu} + \\frac{r_o^2}{r_i^2} \\right) = \\frac{\\varepsilon_s}{1-2\\nu}\n$$\n$$\nC_1 \\left( \\frac{r_i^2 + (1-2\\nu)r_o^2}{(1-2\\nu)r_i^2} \\right) = \\frac{\\varepsilon_s}{1-2\\nu}\n$$\nSolving for $C_1$:\n$$\nC_1 = \\frac{\\varepsilon_s r_i^2}{r_i^2 + (1-2\\nu)r_o^2}\n$$\nAnd for $C_2$:\n$$\nC_2 = -\\frac{\\varepsilon_s r_i^2 r_o^2}{r_i^2 + (1-2\\nu)r_o^2}\n$$\nNow we substitute $C_1$ and $C_2$ back into the expression for $\\sigma_r(r)$:\n$$\n\\sigma_r(r) = (2\\lambda+2G)(C_1 - \\varepsilon_s) - \\frac{2GC_2}{r^2}\n$$\nUsing $2\\lambda+2G = \\frac{2G}{1-2\\nu}$ and $C_2 = -C_1 r_o^2$:\n$$\n\\sigma_r(r) = \\frac{2G}{1-2\\nu}(C_1 - \\varepsilon_s) + \\frac{2GC_1 r_o^2}{r^2} = 2GC_1\\left(\\frac{1}{1-2\\nu} + \\frac{r_o^2}{r^2}\\right) - \\frac{2G\\varepsilon_s}{1-2\\nu}\n$$\nSubstitute the expression for $C_1$:\n$$\n\\sigma_r(r) = 2G \\frac{\\varepsilon_s r_i^2}{r_i^2 + (1-2\\nu)r_o^2} \\left(\\frac{r^2 + (1-2\\nu)r_o^2}{(1-2\\nu)r^2}\\right) - \\frac{2G\\varepsilon_s}{1-2\\nu}\n$$\n$$\n\\sigma_r(r) = \\frac{2G\\varepsilon_s}{1-2\\nu} \\left[ \\frac{r_i^2(r^2 + (1-2\\nu)r_o^2)}{r^2(r_i^2 + (1-2\\nu)r_o^2)} - 1 \\right]\n$$\n$$\n\\sigma_r(r) = \\frac{2G\\varepsilon_s}{1-2\\nu} \\left[ \\frac{r_i^2 r^2 + r_i^2(1-2\\nu)r_o^2 - r^2 r_i^2 - r^2(1-2\\nu)r_o^2}{r^2(r_i^2 + (1-2\\nu)r_o^2)} \\right]\n$$\n$$\n\\sigma_r(r) = \\frac{2G\\varepsilon_s}{1-2\\nu} \\left[ \\frac{(1-2\\nu)r_o^2(r_i^2 - r^2)}{r^2(r_i^2 + (1-2\\nu)r_o^2)} \\right]\n$$\nThis simplifies to the final expression for the radial stress distribution:\n$$\n\\sigma_r(r) = \\frac{2G\\varepsilon_s r_o^2(r_i^2 - r^2)}{r^2(r_i^2 + (1-2\\nu)r_o^2)}\n$$\nWe can also write this as:\n$$\n\\sigma_r(r) = \\frac{2 G \\varepsilon_s r_o^2 (r_i^2/r^2 - 1)}{r_i^2 + (1-2\\nu)r_o^2}\n$$\nThis formula will be used for computation. We evaluate this at $r_1=r_i$, $r_2=(r_i+r_o)/2$, and $r_3=r_o$.\nAt $r_1 = r_i$:\n$$\n\\sigma_r(r_i) = \\frac{2 G \\varepsilon_s r_o^2 (r_i^2/r_i^2 - 1)}{\\dots} = 0\n$$\nAt $r_3 = r_o$:\n$$\n\\sigma_r(r_o) = \\frac{2 G \\varepsilon_s r_o^2 (r_i^2/r_o^2 - 1)}{r_i^2 + (1-2\\nu)r_o^2} = \\frac{2 G \\varepsilon_s (r_i^2 - r_o^2)}{r_i^2 + (1-2\\nu)r_o^2}\n$$\nThe outer reaction pressure is $p_{\\mathrm{out}} = -\\sigma_r(r_o)$:\n$$\np_{\\mathrm{out}} = - \\frac{2 G \\varepsilon_s (r_i^2 - r_o^2)}{r_i^2 + (1-2\\nu)r_o^2} = \\frac{2 G \\varepsilon_s (r_o^2 - r_i^2)}{r_i^2 + (1-2\\nu)r_o^2}\n$$\nThe comparison ratio $R$ is then calculated as $R = \\frac{p_{\\mathrm{out}}}{p_{\\mathrm{stack}}}$. The provided value for $p_{\\mathrm{stack}}$ is a constant for each case.",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the battery mechanics problem for the given test cases.\n\n    Derivation Summary:\n    The problem is solved using linear elasticity for an axisymmetric cylinder\n    under plane strain. The total displacement u(r) is C1*r + C2/r.\n    The constants C1 and C2 are found by applying boundary conditions:\n    1. Radial stress sigma_r(r_i) = 0 (traction-free inner surface)\n    2. Radial displacement u(r_o) = 0 (rigid outer case)\n    The swelling strain eps_s is incorporated as an eigenstrain.\n\n    The final derived formula for radial stress is:\n    sigma_r(r) = (2 * G * eps_s * ro**2 * ( (ri/r)**2 - 1) ) / ( ri**2 + (1 - 2*nu) * ro**2 )\n\n    The reaction pressure at the outer wall is p_out = -sigma_r(r_o).\n    The comparison ratio is R = p_out / p_stack.\n    \"\"\"\n\n    test_cases = [\n        # Case A (happy path)\n        {'E': 1.0e10, 'nu': 0.3, 'eps_s': 0.01, 'ri': 0.005, 'ro': 0.010, 'p_stack': 1.0e6},\n        # Case B (zero swelling boundary case)\n        {'E': 5.0e9, 'nu': 0.3, 'eps_s': 0.0, 'ri': 0.004, 'ro': 0.012, 'p_stack': 2.0e6},\n        # Case C (near solid cylinder)\n        {'E': 2.5e10, 'nu': 0.35, 'eps_s': 0.005, 'ri': 0.0005, 'ro': 0.010, 'p_stack': 5.0e5},\n        # Case D (thin ring)\n        {'E': 1.5e10, 'nu': 0.45, 'eps_s': 0.02, 'ri': 0.009, 'ro': 0.010, 'p_stack': 1.0e6},\n        # Case E (high Poisson ratio)\n        {'E': 3.0e10, 'nu': 0.48, 'eps_s': 0.015, 'ri': 0.002, 'ro': 0.015, 'p_stack': 3.0e6}\n    ]\n\n    all_results = []\n\n    for case in test_cases:\n        E = case['E']\n        nu = case['nu']\n        eps_s = case['eps_s']\n        ri = case['ri']\n        ro = case['ro']\n        p_stack = case['p_stack']\n\n        # If swelling is zero, all stresses are zero.\n        if eps_s == 0.0:\n            all_results.append([0.0, 0.0, 0.0, 0.0])\n            continue\n        \n        # Calculate shear modulus G\n        G = E / (2.0 * (1.0 + nu))\n\n        # Define evaluation radii\n        r1 = ri\n        r2 = (ri + ro) / 2.0\n        r3 = ro\n        \n        eval_radii = [r1, r2, r3]\n        stresses = []\n        \n        # Denominator of the stress formula, which is constant for a given case\n        denominator = ri**2 + (1.0 - 2.0*nu) * ro**2\n\n        # Calculate stresses\n        # Special case for r=r_i, sigma_r is exactly 0\n        sigma_r1 = 0.0\n        stresses.append(sigma_r1)\n\n        # Stress at r2\n        numerator_r2 = 2.0 * G * eps_s * ro**2 * ((ri/r2)**2 - 1.0)\n        sigma_r2 = numerator_r2 / denominator\n        stresses.append(sigma_r2)\n\n        # Stress at r3=r_o, using the simplified form for r=ro\n        numerator_r3 = 2.0 * G * eps_s * (ri**2 - ro**2)\n        sigma_r3 = numerator_r3 / denominator\n        stresses.append(sigma_r3)\n        \n        # Calculate comparison ratio R\n        p_out = -sigma_r3\n        \n        # Handle p_stack=0 to avoid division by zero, although not in test cases\n        if p_stack == 0.0:\n            R = np.inf if p_out != 0.0 else 0.0\n        else:\n            R = p_out / p_stack\n            \n        case_results = stresses + [R]\n        all_results.append(case_results)\n\n    # Format the final output string as a list of lists.\n    # e.g., [[-0.0, -1.2, -3.4, 5.6], [....]]\n    output_str = \"[\" + \",\".join([f\"[{','.join(map(str, res))}]\" for res in all_results]) + \"]\"\n    print(output_str)\n\nsolve()\n```"
        }
    ]
}