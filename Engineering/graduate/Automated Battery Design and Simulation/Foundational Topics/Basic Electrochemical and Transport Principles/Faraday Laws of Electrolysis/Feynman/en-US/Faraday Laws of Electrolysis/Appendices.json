{
    "hands_on_practices": [
        {
            "introduction": "Moving beyond idealized textbook scenarios, this first practice delves into a critical aspect of modern battery science: coulombic inefficiency. In practical electrochemical systems, especially during the initial cycles of a lithium-metal battery, not all charge contributes to the desired reaction. This exercise  challenges you to apply Faraday's laws while accounting for charge consumed by a parasitic side reaction—the formation of the Solid Electrolyte Interphase (SEI)—providing a more realistic model of electrode deposition.",
            "id": "1561153",
            "problem": "In a research laboratory developing next-generation lithium-metal batteries, an experiment is conducted to study the initial plating of lithium onto a copper current collector. A non-aqueous electrolyte containing lithium hexafluorophosphate ($\\text{LiPF}_6$) is used. The deposition process is carried out under galvanostatic (constant current) conditions. A constant current, $I = 25.0 \\text{ mA}$, is passed through the electrochemical cell for a duration, $t = 3.00 \\text{ hours}$.\n\nDuring this initial deposition, not all the electrical charge contributes to the formation of lithium metal. A fraction of the charge is consumed by an unavoidable side reaction: the reductive decomposition of the electrolyte solvent molecules at the electrode surface. This process forms a passivating layer known as the Solid Electrolyte Interphase (SEI). It is determined that $\\eta_{\\text{loss}} = 15.0\\%$ of the total charge passed is lost to this side reaction.\n\nThe electrochemical deposition of lithium metal from its singly-charged ion proceeds as: $\\text{Li}^+ + e^- \\to \\text{Li(s)}$.\n\nGiven the following constants:\n- Faraday's constant, $F = 96485 \\text{ C/mol}$\n- Molar mass of lithium, $M_{\\text{Li}} = 6.941 \\text{ g/mol}$\n\nCalculate the total mass of lithium metal that is actually deposited on the copper collector. Express your answer in milligrams (mg), rounded to three significant figures.",
            "solution": "Under galvanostatic conditions, the total charge passed is $Q_{\\text{tot}} = I t$. Only a fraction $(1 - \\eta_{\\text{loss}})$ contributes to lithium deposition due to side reactions, so the effective charge for deposition is\n$$\nQ_{\\text{eff}} = (1 - \\eta_{\\text{loss}})\\, I t.\n$$\nLithium is deposited via $\\text{Li}^{+} + e^{-} \\to \\text{Li(s)}$ with $z=1$ electron per lithium atom. By Faraday’s law, the moles of lithium deposited are\n$$\nn_{\\text{Li}} = \\frac{Q_{\\text{eff}}}{z F} = \\frac{(1 - \\eta_{\\text{loss}}) I t}{F}.\n$$\nThe deposited mass is\n$$\nm_{\\text{Li}} = n_{\\text{Li}} M_{\\text{Li}} = \\frac{(1 - \\eta_{\\text{loss}}) I t M_{\\text{Li}}}{F}.\n$$\nConvert the given quantities to consistent units and substitute:\n- $I = 25.0 \\times 10^{-3}\\ \\text{A}$,\n- $t = 3.00 \\times 3600\\ \\text{s} = 1.08 \\times 10^{4}\\ \\text{s}$,\n- $\\eta_{\\text{loss}} = 0.150$,\n- $F = 96485\\ \\text{C/mol}$,\n- $M_{\\text{Li}} = 6.941\\ \\text{g/mol}$.\n\nCompute the total and effective charge:\n$$\nQ_{\\text{tot}} = (25.0 \\times 10^{-3})(1.08 \\times 10^{4}) = 270\\ \\text{C}, \\quad\nQ_{\\text{eff}} = (1 - 0.150)\\times 270 = 0.850 \\times 270 = 229.5\\ \\text{C}.\n$$\nMoles and mass:\n$$\nn_{\\text{Li}} = \\frac{229.5}{96485} \\approx 2.3786 \\times 10^{-3}\\ \\text{mol},\n$$\n$$\nm_{\\text{Li}} = (2.3786 \\times 10^{-3})(6.941)\\ \\text{g} \\approx 1.65099 \\times 10^{-2}\\ \\text{g} = 16.5099\\ \\text{mg}.\n$$\nRounded to three significant figures in milligrams, the deposited mass is $16.5\\ \\text{mg}$.",
            "answer": "$$\\boxed{16.5}$$"
        },
        {
            "introduction": "In real-world applications, batteries and electrochemical cells rarely operate under a perfectly constant current. This next exercise introduces the complexity of time-dependent current profiles. To correctly apply Faraday's laws in such dynamic scenarios, we must move from simple multiplication ($Q = I \\times t$) to integration ($Q = \\int I(t) dt$) to determine the total charge passed. This practice  will build your skills in analyzing systems where the rate of reaction changes over time, a common occurrence during battery charging and discharging.",
            "id": "1561174",
            "problem": "An electrochemical cell is set up for the electroplating of zinc from an aqueous solution containing an excess of zinc chloride ($ZnCl_2$). The process is driven by an external power source that supplies a time-dependent current, $I(t)$, to the cell. The current is found to decrease exponentially over time according to the function:\n$$I(t) = I_0 \\exp(-t/\\tau)$$\nwhere $I_0$ is the initial current, $t$ is the time in seconds, and $\\tau$ is the characteristic time constant of the decay.\n\nThe experiment is run for a total duration of $T$. You are given the following parameters:\n- Initial current, $I_0 = 5.00 \\text{ A}$\n- Time constant, $\\tau = 600 \\text{ s}$\n- Total duration of electrolysis, $T = 1800 \\text{ s}$\n- Faraday's constant, $F = 96485 \\text{ C} \\cdot \\text{mol}^{-1}$\n- Molar mass of Zinc, $M_{Zn} = 65.38 \\text{ g} \\cdot \\text{mol}^{-1}$\n\nAssuming the efficiency of the deposition process is 100%, calculate the total mass of zinc metal plated onto the cathode. Express your answer in grams, rounded to three significant figures.",
            "solution": "The mass of metal deposited during electrolysis with time-dependent current is obtained from Faraday's laws. For a metal ion of charge number $z$, the deposited mass is\n$$\nm=\\frac{M_{Zn}}{zF}\\int_{0}^{T} I(t)\\,dt,\n$$\nwhere $M_{Zn}$ is the molar mass of zinc, $F$ is Faraday's constant, and $z=2$ for the half-reaction $Zn^{2+}+2e^{-}\\rightarrow Zn(s)$.\n\nGiven $I(t)=I_{0}\\exp(-t/\\tau)$, the total charge passed is\n$$\nQ=\\int_{0}^{T} I(t)\\,dt=\\int_{0}^{T} I_{0}\\exp\\!\\left(-\\frac{t}{\\tau}\\right) dt\n= I_{0}\\tau\\left[1-\\exp\\!\\left(-\\frac{T}{\\tau}\\right)\\right].\n$$\nThus,\n$$\nm=\\frac{M_{Zn}}{2F}\\,I_{0}\\tau\\left[1-\\exp\\!\\left(-\\frac{T}{\\tau}\\right)\\right].\n$$\n\nSubstituting the given values $I_{0}=5.00\\ \\text{A}$, $\\tau=600\\ \\text{s}$, $T=1800\\ \\text{s}$, $F=96485\\ \\text{C}\\cdot\\text{mol}^{-1}$, and $M_{Zn}=65.38\\ \\text{g}\\cdot\\text{mol}^{-1}$:\n$$\nQ=5.00\\times 600\\left[1-\\exp\\!\\left(-\\frac{1800}{600}\\right)\\right]\n=3000\\left[1-\\exp(-3)\\right]\\ \\text{C}.\n$$\nNumerically,\n$$\n\\exp(-3)\\approx 0.049787,\\quad 1-\\exp(-3)\\approx 0.950213,\n$$\nso\n$$\nQ\\approx 3000\\times 0.950213=2850.639\\ \\text{C}.\n$$\nMoles of $Zn$ deposited are\n$$\nn_{Zn}=\\frac{Q}{2F}=\\frac{2850.639}{2\\times 96485}\\ \\text{mol}\\approx 0.014772.\n$$\nTherefore, the mass of zinc plated is\n$$\nm=n_{Zn}M_{Zn}\\approx 0.014772\\times 65.38\\ \\text{g}\\approx 0.965822\\ \\text{g}.\n$$\nRounding to three significant figures gives $0.966$ in grams.",
            "answer": "$$\\boxed{0.966}$$"
        },
        {
            "introduction": "This final practice serves as a bridge from analytical electrochemistry to the world of computational simulation, the cornerstone of automated battery design. When current profiles are too complex for straightforward integration, numerical methods are essential. This advanced problem  guides you through implementing a fundamental numerical scheme to approximate charge transfer and then asks you to quantify the discretization error against the exact analytical solution. Mastering this concept is crucial for developing, validating, and interpreting the results of sophisticated battery simulation software.",
            "id": "3913658",
            "problem": "Consider a one-dimensional, time-discretized electrochemical simulation of charge transfer and electrode mass change in an automated battery design context. The fundamental basis is the relation between electric current and charge, $I(t)=\\frac{dQ}{dt}$, and Faraday's first law of electrolysis, which states that the deposited or dissolved mass $m(t)$ is proportional to the transferred charge, $m(t)=\\nu Q(t)$, where $\\nu=\\frac{M\\,\\eta}{z\\,F}$, $M$ is the molar mass in $\\mathrm{kg/mol}$, $z$ is the charge number (dimensionless), $F$ is the Faraday constant in $\\mathrm{C/mol}$, and $\\eta$ is the coulombic efficiency (dimensionless). The discrete simulation advances charge by the explicit scheme $Q^{n+1}=Q^{n}+I^{n}\\Delta t$, where $I^{n}=I(t_n)$, $t_n=n\\,\\Delta t$, and $\\Delta t$ is the time step. The exact continuous-time charge over a horizon $[0,T]$ satisfies $Q(T)=Q(0)+\\int_{0}^{T}I(t)\\,dt$, while the discrete estimate after $N=\\frac{T}{\\Delta t}$ steps is $Q^N=Q^0+\\sum_{n=0}^{N-1}I(t_n)\\,\\Delta t$. The quantity of interest is the absolute mass error $E_m=\\left|m(T)-m^N\\right|=\\nu\\,\\left|\\int_{0}^{T}I(t)\\,dt-\\sum_{n=0}^{N-1}I(t_n)\\,\\Delta t\\right|$.\n\nYour task is to derive from first principles the algorithmic computation of $E_m$ given $I(t)$ and to implement it as a complete, runnable program. You must use the foundational relations $I(t)=\\frac{dQ}{dt}$ and $m(t)=\\nu Q(t)$ only, without introducing shortcut formulas that bypass the derivation. The current waveforms to be analyzed are of the form\n$$\nI(t)=I_0+\\sum_{k=1}^{K}A_k\\,\\sin\\!\\big(\\omega_k t+\\phi_k\\big),\n$$\nwith $I_0$ in $\\mathrm{A}$, $A_k$ in $\\mathrm{A}$, $\\omega_k$ in $\\mathrm{rad/s}$, and $\\phi_k$ in $\\mathrm{rad}$. Angles must be treated in radians, time $t$ in $\\mathrm{s}$, and mass in $\\mathrm{kg}$. Assume $Q(0)=Q^0=0$ and $m(0)=m^0=0$.\n\nDesign a program that, for each specified test case, computes:\n- The exact charge $Q(T)$ via the time integral of $I(t)$,\n- The discrete charge $Q^N$ via the left Riemann sum defined by $Q^{n+1}=Q^{n}+I(t_n)\\Delta t$,\n- The absolute mass error $E_m=\\nu\\,|Q(T)-Q^N|$.\n\nUse the following material constants for Lithium deposition: $M=6.94\\times 10^{-3}$ in $\\mathrm{kg/mol}$, $z=1$, $F=96485$ in $\\mathrm{C/mol}$, and $\\eta=1$.\n\nTest Suite (all angles in radians, all times in $\\mathrm{s}$):\n- Case $1$ (happy path, constant current): $I_0=1.234$, $K=0$ (no sinusoidal terms), $\\Delta t=0.1$, $T=10.0$.\n- Case $2$ (smooth variation, moderate frequency): $I_0=2.0$, $K=1$, $A_1=1.0$, $\\omega_1=50.0$, $\\phi_1=0.0$, $\\Delta t=0.005$, $T=0.5$.\n- Case $3$ (rapid variation relative to step, aliasing prone): $I_0=2.0$, $K=1$, $A_1=2.0$, $\\omega_1=500.0$, $\\phi_1=0.7$, $\\Delta t=0.01$, $T=0.2$.\n- Case $4$ (multi-frequency rapid variation): $I_0=1.5$, $K=2$, $A_1=0.5$, $\\omega_1=500.0$, $\\phi_1=0.3$, $A_2=0.2$, $\\omega_2=4500.0$, $\\phi_2=1.0$, $\\Delta t=0.00075$, $T=0.3$.\n\nProgram Output Specification:\n- For each case, compute $E_m$ in $\\mathrm{kg}$.\n- Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, with each entry being a decimal number rounded to nine significant digits in $\\mathrm{kg}$, ordered as $\\big[E_{m,1},E_{m,2},E_{m,3},E_{m,4}\\big]$.\n\nDo not read any input; hard-code the test suite. The implementation must rely only on the defined physical laws and be universally understandable and verifiable. Ensure scientific realism and internal consistency of units and numerical values throughout.",
            "solution": "The problem statement has been critically examined and is determined to be valid. It is scientifically grounded in the principles of electrochemistry (Faraday's laws) and numerical analysis (Euler's method for integration), well-posed with a complete and consistent set of definitions and parameters, and objectively formulated. The task is to derive and implement a computational method to find the numerical error in mass deposition due to time discretization.\n\nThe solution proceeds from the first principles provided. The mass $m(t)$ of a substance deposited or dissolved at an electrode is directly proportional to the total electric charge $Q(t)$ that has passed through the system:\n$$\nm(t) = \\nu Q(t)\n$$\nThe proportionality constant, $\\nu$, is given by $\\nu = \\frac{M\\eta}{zF}$, where $M$ is the molar mass of the substance in $\\mathrm{kg/mol}$, $\\eta$ is the dimensionless coulombic efficiency, $z$ is the charge number of the ions of the substance, and $F$ is the Faraday constant in $\\mathrm{C/mol}$.\n\nThe electric charge $Q(t)$ is the time integral of the electric current $I(t)$, as defined by the relation $I(t) = \\frac{dQ}{dt}$. With the initial condition $Q(0)=0$ specified in the problem, the exact charge at a time $T$ is given by the definite integral:\n$$\nQ(T) = \\int_0^T I(\\tau) d\\tau\n$$\nThe current $I(t)$ is specified as a sum of a constant component and a series of sinusoidal components:\n$$\nI(t)=I_0+\\sum_{k=1}^{K}A_k\\,\\sin\\!\\big(\\omega_k t+\\phi_k\\big)\n$$\nTo find the exact charge $Q(T)$, we integrate $I(t)$ from $t=0$ to $t=T$:\n$$\nQ(T) = \\int_0^T \\left( I_0+\\sum_{k=1}^{K}A_k\\,\\sin\\!\\big(\\omega_k t+\\phi_k\\big) \\right) dt\n$$\nBy the linearity of integration, we can integrate term by term:\n$$\nQ(T) = \\int_0^T I_0 dt + \\sum_{k=1}^{K} \\int_0^T A_k\\,\\sin\\!\\big(\\omega_k t+\\phi_k\\big) dt\n$$\nThe integral of the constant term is:\n$$\n\\int_0^T I_0 dt = I_0 T\n$$\nThe integral of each sinusoidal term is:\n$$\n\\int_0^T A_k\\,\\sin\\!\\big(\\omega_k t+\\phi_k\\big) dt = A_k \\left[ -\\frac{1}{\\omega_k} \\cos(\\omega_k t + \\phi_k) \\right]_0^T = A_k \\left( \\left(-\\frac{\\cos(\\omega_k T + \\phi_k)}{\\omega_k}\\right) - \\left(-\\frac{\\cos(\\phi_k)}{\\omega_k}\\right) \\right) = \\frac{A_k}{\\omega_k} \\left( \\cos(\\phi_k) - \\cos(\\omega_k T + \\phi_k) \\right)\n$$\nCombining these results gives the analytical expression for the exact total charge $Q(T)$:\n$$\nQ(T) = I_0 T + \\sum_{k=1}^{K} \\frac{A_k}{\\omega_k} \\left( \\cos(\\phi_k) - \\cos(\\omega_k T + \\phi_k) \\right)\n$$\nThe corresponding exact mass at time $T$ is $m(T) = \\nu Q(T)$.\n\nNext, we evaluate the discrete approximation of the charge, $Q^N$. The problem defines a discrete-time simulation using an explicit scheme, $Q^{n+1}=Q^{n}+I^{n}\\Delta t$, with $Q^0=0$. This is equivalent to a left Riemann sum for the integral of the current. After $N$ steps, where $N=T/\\Delta t$ and $t_n=n\\,\\Delta t$, the accumulated charge $Q^N$ is:\n$$\nQ^N = Q^0 + \\sum_{n=0}^{N-1} I(t_n) \\Delta t\n$$\nGiven $Q^0=0$, this simplifies to:\n$$\nQ^N = \\Delta t \\sum_{n=0}^{N-1} I(t_n) = \\Delta t \\sum_{n=0}^{N-1} \\left( I_0+\\sum_{k=1}^{K}A_k\\,\\sin\\!\\big(\\omega_k t_n+\\phi_k\\big) \\right)\n$$\nThe corresponding approximate mass is $m^N = \\nu Q^N$. This summation will be computed numerically.\n\nThe quantity of interest is the absolute mass error, $E_m$, defined as the absolute difference between the exact mass $m(T)$ and the discrete approximation $m^N$:\n$$\nE_m = |m(T) - m^N| = |\\nu Q(T) - \\nu Q^N| = \\nu |Q(T) - Q^N|\n$$\nThe algorithm to compute $E_m$ for each test case is as follows:\n$1$. Calculate the electrochemical proportionality constant $\\nu = \\frac{M\\eta}{zF}$ using the provided values for Lithium: $M=6.94\\times 10^{-3}\\,\\mathrm{kg/mol}$, $\\eta=1$, $z=1$, and $F=96485\\,\\mathrm{C/mol}$.\n$2$. For each test case, specified by parameters $I_0$, $K$, $\\{A_k, \\omega_k, \\phi_k\\}_{k=1}^K$, $\\Delta t$, and $T$:\n    a. Compute the exact charge $Q(T)$ using the derived analytical formula.\n    b. Compute the number of discrete steps, $N = \\frac{T}{\\Delta t}$.\n    c. Generate the discrete time points $t_n = n \\Delta t$ for $n = 0, 1, \\ldots, N-1$.\n    d. Compute the discrete current values $I(t_n)$ at these time points.\n    e. Calculate the approximate charge $Q^N$ by summing $I(t_n) \\Delta t$ over all $n$.\n    f. Calculate the absolute mass error $E_m = \\nu |Q(T) - Q^N|$.\n\nThis procedure is implemented in the provided Python program. The program defines the constants and test cases, then iterates through them, performing the calculations described above for each case. It uses the `numpy` library for efficient numerical computation. The final results are formatted to nine significant digits as specified.",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes the absolute mass error for electrochemical deposition\n    for several test cases based on Faraday's laws.\n    \"\"\"\n    # Material and physical constants\n    M_LITHIUM = 6.94e-3  # Molar mass of Lithium (kg/mol)\n    Z_LITHIUM = 1        # Charge number of Li+\n    F_FARADAY = 96485    # Faraday constant (C/mol)\n    ETA_COULOMBIC = 1.0  # Coulombic efficiency\n\n    # Calculate the electrochemical proportionality constant nu\n    nu = (M_LITHIUM * ETA_COULOMBIC) / (Z_LITHIUM * F_FARADAY)\n\n    # Test cases from the problem statement.\n    # Format: (I0, list_of_A, list_of_omega, list_of_phi, dt, T)\n    test_cases = [\n        # Case 1: Constant current\n        (1.234, [], [], [], 0.1, 10.0),\n        # Case 2: Smooth variation\n        (2.0, [1.0], [50.0], [0.0], 0.005, 0.5),\n        # Case 3: Rapid variation, aliasing-prone\n        (2.0, [2.0], [500.0], [0.7], 0.01, 0.2),\n        # Case 4: Multi-frequency rapid variation\n        (1.5, [0.5, 0.2], [500.0, 4500.0], [0.3, 1.0], 0.00075, 0.3),\n    ]\n\n    results = []\n    for case in test_cases:\n        I0, A_k_list, omega_k_list, phi_k_list, dt, T = case\n        \n        # --- 1. Calculate Exact Charge Q(T) ---\n        # Contribution from the constant term I0\n        Q_T = I0 * T\n        \n        # Contribution from sinusoidal terms\n        for k in range(len(A_k_list)):\n            A_k = A_k_list[k]\n            omega_k = omega_k_list[k]\n            phi_k = phi_k_list[k]\n            # Assumes omega_k is not zero.\n            term = (A_k / omega_k) * (np.cos(phi_k) - np.cos(omega_k * T + phi_k))\n            Q_T += term\n            \n        # --- 2. Calculate Discrete Charge Q^N ---\n        # Number of steps N. Ensure it's an integer.\n        N = int(round(T / dt))\n        \n        # Generate time points t_n for n=0 to N-1\n        t_n = np.arange(0, N) * dt\n        \n        # Calculate current I(t_n) at each time point\n        I_n = I0\n        for k in range(len(A_k_list)):\n            A_k = A_k_list[k]\n            omega_k = omega_k_list[k]\n            phi_k = phi_k_list[k]\n            I_n += A_k * np.sin(omega_k * t_n + phi_k)\n            \n        # Calculate discrete charge Q^N using left Riemann sum\n        Q_N = np.sum(I_n) * dt\n        \n        # --- 3. Calculate Absolute Mass Error E_m ---\n        E_m = nu * abs(Q_T - Q_N)\n        results.append(E_m)\n\n    # Format output to 9 significant digits and print\n    formatted_results = ['{:.9g}'.format(r) for r in results]\n    print(f\"[{','.join(formatted_results)}]\")\n\nsolve()\n```"
        }
    ]
}