{
    "hands_on_practices": [
        {
            "introduction": "任何系统级的碳预算模型都必须建立在对各个组成部分精确描述的基础之上。本练习将引导你从基本物理原理出发，推导火力发电机组的边际排放强度——这是能源系统模型中的一个基本参数 。通过这项实践，你将学会如何将燃料碳含量、发电效率和碳捕集率等物理特性与最终的单位发电量碳排放联系起来。",
            "id": "4075572",
            "problem": "考虑一个在时间段 $t$ 运行的热力发电机组 $i$。设 $c_i$ 表示燃料的碳含量，表示为每单位燃料能量输入的二氧化碳排放量，以低位热值（LHV）为基准，单位为 $\\mathrm{kg\\,CO_2/GJ_{fuel}}$。设 $\\eta_{i,t}$ 表示净发电效率，定义为输送的电能输出与燃料能量输入之比；设 $\\kappa_{i,t}$ 表示在时间段 $t$ 内，由燃烧后碳捕获系统捕获并永久封存的二氧化碳的比例。假设过程边界仅包括燃烧产生的直接烟囱排放，不包括上游燃料循环排放；$\\eta_{i,t}$ 是扣除与碳捕获相关的任何能量惩罚后的净值；$\\kappa_{i,t}$ 表示燃烧产生的二氧化碳中未排放到大气中的部分所占的比例。\n\n严格从这些定义和碳质量平衡出发，推导发电机组的边际排放强度 $\\phi_{i,t}$ 的表达式，该强度定义为每单位输送电能的二氧化碳排放量。仔细论证推导过程中使用的量纲一致性和任何建模假设。然后，对于一个联合循环天然气发电机组，使用参数 $c_i=56.1\\,\\mathrm{kg\\,CO_2/GJ}$，$\\eta_{i,t}=0.54$ 和 $\\kappa_{i,t}=0.85$ 对 $\\phi_{i,t}$ 进行数值计算。将最终数值答案以 $\\mathrm{kg\\,CO_2/MWh}$（电力）为单位表示，并四舍五入到四位有效数字。",
            "solution": "该问题是有效的，因为它具有科学依据、提法明确且客观。它提供了来自能源系统工程领域的明确定义和实际参数，以推导一个标准的性能指标。\n\n边际排放强度 $\\phi_{i,t}$ 的推导始于将给定数量之间的关系形式化。设 $E_{fuel, i, t}$ 表示在时间段 $t$ 内输入发电机组 $i$ 的燃料能量，设 $E_{elec, i, t}$ 表示净输送的电能输出。设 $M_{\\mathrm{CO_2}, form, i, t}$、$M_{\\mathrm{CO_2}, capt, i, t}$ 和 $M_{\\mathrm{CO_2}, emit, i, t}$ 分别表示燃烧过程中形成、捕获和排放到大气中的二氧化碳质量。\n\n根据问题的定义：\n1.  净发电效率 $\\eta_{i,t}$ 是电能输出与燃料输入之比：\n    $$ \\eta_{i,t} = \\frac{E_{elec, i, t}}{E_{fuel, i, t}} $$\n2.  燃料碳含量 $c_i$ 将形成的 $\\mathrm{CO_2}$ 质量与燃料能量输入联系起来：\n    $$ c_i = \\frac{M_{\\mathrm{CO_2}, form, i, t}}{E_{fuel, i, t}} $$\n3.  碳捕获比例 $\\kappa_{i,t}$ 是捕获的 $\\mathrm{CO_2}$ 与形成的 $\\mathrm{CO_2}$ 之比：\n    $$ \\kappa_{i,t} = \\frac{M_{\\mathrm{CO_2}, capt, i, t}}{M_{\\mathrm{CO_2}, form, i, t}} $$\n\n推导基于发电机组的碳质量平衡。排放的 $\\mathrm{CO_2}$ 质量是燃烧过程中形成的总质量减去被捕获和封存的质量。\n$$ M_{\\mathrm{CO_2}, emit, i, t} = M_{\\mathrm{CO_2}, form, i, t} - M_{\\mathrm{CO_2}, capt, i, t} $$\n将方程(3)中 $\\kappa_{i,t}$ 的定义代入质量平衡方程，得到：\n$$ M_{\\mathrm{CO_2}, emit, i, t} = M_{\\mathrm{CO_2}, form, i, t} - \\kappa_{i,t} M_{\\mathrm{CO_2}, form, i, t} = (1 - \\kappa_{i,t}) M_{\\mathrm{CO_2}, form, i, t} $$\n接下来，使用方程(2)中 $c_i$ 的定义来表示形成的 $\\mathrm{CO_2}$ 质量：\n$$ M_{\\mathrm{CO_2}, emit, i, t} = (1 - \\kappa_{i,t}) (c_i E_{fuel, i, t}) $$\n\n边际排放强度 $\\phi_{i,t}$ 定义为每单位输送电能所排放的 $\\mathrm{CO_2}$：\n$$ \\phi_{i,t} = \\frac{M_{\\mathrm{CO_2}, emit, i, t}}{E_{elec, i, t}} $$\n代入推导出的 $M_{\\mathrm{CO_2}, emit, i, t}$ 的表达式：\n$$ \\phi_{i,t} = \\frac{(1 - \\kappa_{i,t}) c_i E_{fuel, i, t}}{E_{elec, i, t}} $$\n根据方程(1)中效率的定义，燃料能量输入与电能输出之比是效率的倒数，即 $E_{fuel, i, t} / E_{elec, i, t} = 1/\\eta_{i,t}$。将此代入 $\\phi_{i,t}$ 的表达式，得到最终的解析公式：\n$$ \\phi_{i,t} = \\frac{c_i (1 - \\kappa_{i,t})}{\\eta_{i,t}} $$\n\n此推导基于所提供的定义和质量守恒原理。如前所述，关键的建模假设是分析仅考虑直接烟囱排放。$\\eta_{i,t}$ 是扣除捕获能量惩罚后的净值这一规定至关重要，因为它将所有能耗正确地分配给最终的电力产品，从而提供了对电厂性能的真实度量。\n\n为保证量纲一致性，$c_i$ 的单位为 $\\mathrm{kg\\,CO_2/GJ_{fuel}}$。$\\eta_{i,t}$ 和 $\\kappa_{i,t}$ 都是无量纲量。因此，推导出的 $\\phi_{i,t}$ 表达式的单位是 $\\mathrm{kg\\,CO_2/GJ}$。由于 $\\eta_{i,t}$ 将燃料能量与电能联系起来，$\\phi_{i,t}$ 分母中的能量单位是吉焦耳（电能）（$\\mathrm{GJ}_{elec}$）。问题要求结果以 $\\mathrm{kg\\,CO_2/MWh}$ 为单位表示。因此需要进行单位换算。\n兆瓦时（$\\mathrm{MWh}$）和吉焦耳（$\\mathrm{GJ}$）之间的换算因子是：\n$$ 1 \\, \\mathrm{MWh} = 1 \\times 10^6 \\, \\mathrm{W} \\cdot \\mathrm{h} = (1 \\times 10^6 \\, \\mathrm{J/s}) \\times (3600 \\, \\mathrm{s}) = 3.6 \\times 10^9 \\, \\mathrm{J} $$\n因为 $1 \\, \\mathrm{GJ} = 10^9 \\, \\mathrm{J}$，所以 $1 \\, \\mathrm{MWh} = 3.6 \\, \\mathrm{GJ}$。因此，换算因子为 $3.6 \\, \\mathrm{GJ/MWh}$。\n用于计算的最终公式是：\n$$ \\phi_{i,t} \\, [\\mathrm{kg/MWh}] = \\left( \\frac{c_i (1 - \\kappa_{i,t})}{\\eta_{i,t}} \\right) [\\mathrm{kg/GJ}] \\times 3.6 \\, [\\mathrm{GJ/MWh}] $$\n\n现在，使用为联合循环天然气发电机组提供的参数进行数值计算：$c_i=56.1\\,\\mathrm{kg\\,CO_2/GJ}$，$\\eta_{i,t}=0.54$ 和 $\\kappa_{i,t}=0.85$。\n将这些值代入公式：\n$$ \\phi_{i,t} = \\frac{56.1 \\cdot (1 - 0.85)}{0.54} \\times 3.6 $$\n$$ \\phi_{i,t} = \\frac{56.1 \\cdot 0.15}{0.54} \\times 3.6 $$\n$$ \\phi_{i,t} = \\frac{8.415}{0.54} \\times 3.6 $$\n$$ \\phi_{i,t} = 15.58\\overline{3} \\times 3.6 $$\n$$ \\phi_{i,t} = 56.1 $$\n计算得出的精确值为 $56.1$。问题要求将答案四舍五入到四位有效数字。因此，结果是 $56.10 \\, \\mathrm{kg\\,CO_2/MWh}$。",
            "answer": "$$\n\\boxed{56.10}\n$$"
        },
        {
            "introduction": "在理解了单个机组的排放特性后，我们进而探讨更复杂的系统互动。本练习将分析储能技术通过在不同时间段内转移电能，如何影响整个电力系统的净碳排放 。它引入了系统边际排放强度的关键概念，并揭示了即使是零直接排放的技术（如储能），其最终的碳影响也取决于其具体的运行策略。",
            "id": "4075569",
            "problem": "考虑一个两期电力系统模型，一个高排放期（索引为 $H$）和一个低排放期（索引为 $L$）。设时间 $t$ 的全系统边际排放强度为 $\\gamma_{t}$，单位为吨二氧化碳/兆瓦时 (tCO$_2$/MWh)。单个储能设备执行一个完整的充放电循环，将能量从 $H$ 时期转移到 $L$ 时期（即，在 $H$ 时期充电，在 $L$ 时期放电）。该储能设备的往返效率 $\\eta_{\\text{rt}} \\in (0,1)$ 为常数，定义为一个循环中放电电能与充电电能之比。\n\n使用以下基本依据：\n- 经济范围内的碳预算的碳核算意味着，满足负荷的碳成本是边际排放强度与满足净负荷所需发电量乘积的时间总和，即，在时间 $t$，任何导致发电量增加 $\\Delta G_{t}$ 的干预所造成的总碳排放量变化为 $\\sum_{t}\\gamma_{t}\\Delta G_{t}$。\n- 储能的能量守恒意味着，如果 $C$ 是一个循环中充电的能量， $D$ 是放电的能量，则 $D = \\eta_{\\text{rt}}\\,C$。\n\n设 $D$ 表示储能设备在 $L$ 时期输送的电能，单位为兆瓦时 (MWh)。假设给定以下条件：\n- $\\gamma_{H} = 0.60$ tCO$_2$/MWh,\n- $\\gamma_{L} = 0.20$ tCO$_2$/MWh,\n- $\\eta_{\\text{rt}} = 0.90$,\n- $D = 40$ MWh.\n\n任务：\n1. 仅从上述基本依据出发，推导该单个储能循环导致的总排放净变化 $E^{\\text{net}}$ 的闭式表达式，该表达式应为 $\\gamma_{H}$、$\\gamma_{L}$、$\\eta_{\\text{rt}}$ 和 $D$ 的函数。您的表达式必须包含 $H$ 时期充电的贡献以及 $L$ 时期放电导致的发电量置换。\n2. 使用您推导的表达式，计算给定参数下 $E^{\\text{net}}$ 的数值。\n\n以吨二氧化碳 (tCO$_2$) 为单位表示最终结果，并将答案四舍五入到四位有效数字。仅报告最终数值作为您的答案。",
            "solution": "首先对问题进行严格的验证过程。\n\n### 步骤 1：提取已知条件\n问题陈述中明确提供的数据、变量和定义如下：\n- 两个时期：高排放期 ($H$) 和低排放期 ($L$)。\n- 时间 $t$ 的边际排放强度：$\\gamma_{t}$，单位为 tCO$_2$/MWh。\n- 单个储能设备执行一个循环：在 $H$ 时期充电，在 $L$ 时期放电。\n- 储能设备的往返效率：$\\eta_{\\text{rt}} \\in (0,1)$。\n- 碳核算的基本依据：对于导致发电量变化为 $\\Delta G_{t}$ 的干预，总碳排放量的变化为 $\\sum_{t}\\gamma_{t}\\Delta G_{t}$。\n- 储能的能量守恒基本依据：$D = \\eta_{\\text{rt}}\\,C$，其中 $C$ 是充电能量， $D$ 是放电能量。\n- $D$ 是储能设备在 $L$ 时期输送的电能。\n- 给定数值：\n    - $\\gamma_{H} = 0.60$ tCO$_2$/MWh\n    - $\\gamma_{L} = 0.20$ tCO$_2$/MWh\n    - $\\eta_{\\text{rt}} = 0.90$\n    - $D = 40$ MWh\n\n### 步骤 2：使用提取的已知条件进行验证\n根据验证标准对问题进行评估。\n- **科学依据：** 该问题使用了能源系统分析中的标准简化模型。边际排放强度、往返效率和能量套利等概念是公认且科学合理的。提供的数值对于现代电网是物理上现实的。\n- **适定性：** 问题提供了推导唯一解析表达式和计算确定数值结果所需的所有必要数据和定义。任务陈述清晰。\n- **客观性：** 问题以精确、定量的术语表述。没有主观或基于观点的陈述。\n- **完整性和一致性：** 问题设置是自洽的。提供的两个基本依据相互一致，足以解决问题。没有缺失或矛盾的条件。\n\n### 步骤 3：结论与行动\n问题被判定为**有效**，因为它具有科学依据、适定性、客观性且内部一致。现在开始求解过程。\n\n### 求解推导\n主要任务是推导储能循环导致的总排放净变化 $E^{\\text{net}}$ 的表达式。\n\n根据碳核算的基本依据，排放净变化是每个时期排放变化的总和。储能循环影响 $H$ 时期和 $L$ 时期的发电量。因此，净排放的表达式为：\n$$E^{\\text{net}} = \\gamma_{H}\\Delta G_{H} + \\gamma_{L}\\Delta G_{L}$$\n其中 $\\Delta G_{H}$ 和 $\\Delta G_{L}$ 分别是 $H$ 时期和 $L$ 时期所需的电网发电量变化。\n\n**1. 充电时期（$H$）分析**\n在 $H$ 时期，储能设备充电，从电网吸收能量 $C$。这个额外的能量消耗必须通过电网发电厂增加发电来满足。因此，该时期的发电量变化是等于充电能量的增加量：\n$$\\Delta G_{H} = +C$$\n\n**2. 放电时期（$L$）分析**\n在 $L$ 时期，储能设备放电，向电网供应能量 $D$。供应的能量满足了一部分系统负荷，从而置换或减少了电网发电厂所需的发电量。因此，该时期的发电量变化是等于放电能量的减少量：\n$$\\Delta G_{L} = -D$$\n\n**3. 组合净排放表达式**\n将 $\\Delta G_{H}$ 和 $\\Delta G_{L}$ 的表达式代入净排放方程，得到：\n$$E^{\\text{net}} = \\gamma_{H}C - \\gamma_{L}D$$\n这个表达式依赖于 $C$ 和 $D$。问题要求最终表达式是 $D$、$\\gamma_{H}$、$\\gamma_{L}$ 和 $\\eta_{\\text{rt}}$ 的函数。我们使用储能的能量守恒基本依据 $D = \\eta_{\\text{rt}}C$ 来消去 $C$。重新整理这个关系式得到：\n$$C = \\frac{D}{\\eta_{\\text{rt}}}$$\n将这个 $C$ 的表达式代入 $E^{\\text{net}}$ 的方程中：\n$$E^{\\text{net}} = \\gamma_{H}\\left(\\frac{D}{\\eta_{\\text{rt}}}\\right) - \\gamma_{L}D$$\n\n**4. 最终闭式表达式（任务1）**\n将 $D$ 项提出，得到所需的总排放净变化的闭式表达式：\n$$E^{\\text{net}} = D\\left(\\frac{\\gamma_{H}}{\\eta_{\\text{rt}}} - \\gamma_{L}\\right)$$\n\n### 数值计算（任务2）\n使用推导出的表达式，我们现在可以用给定的参数计算 $E^{\\text{net}}$ 的数值：\n- $D = 40$ MWh\n- $\\gamma_{H} = 0.60$ tCO$_2$/MWh\n- $\\gamma_{L} = 0.20$ tCO$_2$/MWh\n- $\\eta_{\\text{rt}} = 0.90$\n\n将这些值代入方程：\n$$E^{\\text{net}} = 40 \\left(\\frac{0.60}{0.90} - 0.20\\right)$$\n首先，计算括号内的项：\n$$\\frac{0.60}{0.90} = \\frac{6}{9} = \\frac{2}{3}$$\n$$E^{\\text{net}} = 40 \\left(\\frac{2}{3} - 0.20\\right)$$\n为了对各项进行减法运算，我们可以通分。注意 $0.20 = \\frac{1}{5}$。\n$$E^{\\text{net}} = 40 \\left(\\frac{2}{3} - \\frac{1}{5}\\right) = 40 \\left(\\frac{10 - 3}{15}\\right) = 40 \\left(\\frac{7}{15}\\right)$$\n现在，进行最后的乘法运算：\n$$E^{\\text{net}} = \\frac{40 \\times 7}{15} = \\frac{(8 \\times 5) \\times 7}{3 \\times 5} = \\frac{8 \\times 7}{3} = \\frac{56}{3}$$\n数值约为 $18.666...$ tCO$_2$。\n\n问题要求将答案四舍五入到四位有效数字。\n$$E^{\\text{net}} \\approx 18.67 \\text{ tCO}_2$$\n正值表示该储能循环导致了碳排放的净增加。这是因为在低排放时期避免的排放量不足以抵消在高排放时期产生的排放量，再加上由往返效率 $\\eta_{\\text{rt}}  1$ 所代表的能量损失。",
            "answer": "$$\\boxed{18.67}$$"
        },
        {
            "introduction": "最后，我们将挑战一个更宏观、更具动态性的长期规划问题。本练习引入了“减排速率”这一现实约束，它反映了能源系统在物理和经济上能够多快地降低其排放水平 。你将通过构建一个算法来确定一个给定的碳预算是否在物理上可行，从而深刻理解转型路径的动态特性在气候政策建模中的核心重要性。",
            "id": "4075568",
            "problem": "您的任务是评估在一个离散时间能源系统模型中，受减排速率限制的情况下，实现累计碳预算的可行性。考虑一个由离散时间周期 $t \\in \\{1,2,\\dots,T\\}$ 索引的规划期，其中 $T$ 是一个正整数。设 $E_t$ 为决策变量，表示周期 $t$ 的能源系统碳排放量，单位为百万吨二氧化碳/年（$\\mathrm{MtCO_2/yr}$）。设 $E_0$ 为规划期开始前（周期 $t=0$）的初始排放水平，单位为 $\\mathrm{MtCO_2/yr}$。模型设定了一个最大可行减排速率 $r^{\\max}$，单位为 $\\mathrm{MtCO_2/yr}$，使得跨期变化满足以下不等式\n$$\n\\Delta E_t \\equiv E_t - E_{t-1} \\geq - r^{\\max} \\quad \\text{对所有 } t \\in \\{1,\\dots,T\\}.\n$$\n此外，排放量为非负，并且可能受到一个随时间变化的最低排放下限 $L_t \\ge 0$（代表不可替代的服务需求）的约束，使得\n$$\nE_t \\ge 0 \\quad \\text{且} \\quad E_t \\ge L_t \\quad \\text{对所有 } t \\in \\{1,\\dots,T\\}.\n$$\n累计碳预算约束要求\n$$\n\\sum_{t=1}^{T} E_t \\le B,\n$$\n其中 $B$ 是预算，单位为 $\\mathrm{MtCO_2}$。\n\n从上述定义和基本可行性逻辑出发，推导一种基于原理的方法，以确定在减排速率限制 $r^{\\max}$ 和排放下限 $L_t$ 的条件下，预算 $B$ 是否可以实现。您的推导必须从第一性原理出发，展示如何构建一个序列 $\\{E_t\\}$，该序列在满足约束条件的前提下，最小化累计排放量 $\\sum_{t=1}^{T} E_t$，并解释为什么这个最小序列为预算可行性提供了充分必要性检验。您的程序的最终输出必须是一个布尔值列表，为每个测试用例指出预算 $B$ 是否可行。\n\n单位和输出格式：\n- 所有排放量 $E_t$、下限值 $L_t$ 和减排速率 $r^{\\max}$ 的单位均为 $\\mathrm{MtCO_2/yr}$。\n- 所有预算 $B$ 的单位均为 $\\mathrm{MtCO_2}$。\n- 您的程序应生成一行输出，包含一个用方括号括起来的逗号分隔列表，例如 $\\texttt{[True,False,True]}$。\n\n测试套件：\n评估以下参数集，每个参数集由 $(T, E_0, r^{\\max}, \\{L_t\\}_{t=1}^T, B)$ 指定：\n1.  案例 A（理想情况，下限无约束力）：$(T=\\;10,\\; E_0=\\;300,\\; r^{\\max}=\\;30,\\; L_t=\\;0 \\text{ 对所有 } t,\\; B=\\;1400)$。\n2.  案例 B（边界相等，预算恰好满足）：$(T=\\;12,\\; E_0=\\;400,\\; r^{\\max}=\\;40,\\; L_t=\\;0 \\text{ 对所有 } t,\\; B=\\;1800)$。\n3.  案例 C（因预算紧张和中等减排速率而不可行）：$(T=\\;10,\\; E_0=\\;350,\\; r^{\\max}=\\;20,\\; L_t=\\;0 \\text{ 对所有 } t,\\; B=\\;2200)$。\n4.  案例 D（后期时段排放下限具有约束力）：$(T=\\;12,\\; E_0=\\;300,\\; r^{\\max}=\\;30,\\; L_t=\\;50 \\text{ 对所有 } t,\\; B=\\;1490)$。\n5.  案例 E（零减排速率）：$(T=\\;5,\\; E_0=\\;200,\\; r^{\\max}=\\;0,\\; L_t=\\;0 \\text{ 对所有 } t,\\; B=\\;1000)$。\n6.  案例 F（规划期中段增长的服务下限具有约束力）：$(T=\\;5,\\; E_0=\\;180,\\; r^{\\max}=\\;30,\\; L_t=\\;(0,0,130,130,130),\\; B=\\;700)$。\n\n您的程序必须对每个案例判断其可行性，并在一行内输出六个布尔值的结果，格式为用方括号括起来的逗号分隔列表。",
            "solution": "该问题要求推导一种有原则的方法，以确定在减排速率和最低排放下限的约束下，累计碳预算 $B$ 的可行性。如果至少存在一个排放序列 $\\{E_t\\}_{t=1}^T$ 能同时满足所有给定约束，则该预算被认为是可行的。这一条件等价于确定在约束条件下，可能的最低累计排放量是否小于或等于预算 $B$。因此，我们必须找到目标函数 $C_{total} = \\sum_{t=1}^{T} E_t$ 的最小值。\n\n系统定义在一个离散的规划期 $t \\in \\{1, 2, \\dots, T\\}$ 上。决策变量是每个周期 $t$ 的排放水平 $E_t$。约束这些变量的条件是：\n1.  **减排速率约束：** $E_t - E_{t-1} \\ge -r^{\\max}$，可重写为 $E_t \\ge E_{t-1} - r^{\\max}$，对所有 $t \\in \\{1, \\dots, T\\}$。\n2.  **排放下限约束：** $E_t \\ge L_t$，对所有 $t \\in \\{1, \\dots, T\\}$。\n3.  **非负约束：** $E_t \\ge 0$，对所有 $t \\in \\{1, \\dots, T\\}$。\n\n问题陈述中指明下限值为非负，$L_t \\ge 0$。因此，排放下限约束 $E_t \\ge L_t$ 意味着 $E_t \\ge 0$，使得非负约束变得冗余。对于任何周期 $t$，排放量 $E_t$ 必须同时满足减排速率和排放下限约束。因此，$E_t$ 的值受制于这两个表达式中较大者的下限：\n$$E_t \\ge \\max(E_{t-1} - r^{\\max}, L_t)$$\n\n为了最小化总和 $C_{total} = \\sum_{t=1}^{T} E_t$，我们必须为每个单独的项 $E_t$ 选择允许的最小值。这一观察结果提示我们采用一种贪婪的递归策略来构建最优排放路径。让我们定义一个候选序列，表示为 $\\{E_t^*\\}_{t=1}^T$，通过从已知的初始状态 $E_0$ 开始，在每个时间步选择可能的最低排放值来构建。\n\n序列 $\\{E_t^*\\}$ 通过以下递推关系构建，对 $t \\in \\{1, \\dots, T\\}$：\n$$E_t^* = \\max(E_{t-1}^* - r^{\\max}, L_t)$$\n其中，我们用 $E_0^* = E_0$ 来初始化该序列。这种构造定义了一条最快速可行减排的路径。\n\n现在我们证明该序列 $\\{E_t^*\\}$ 确实产生了可能的最小累计排放量 $C_{min}$。为此，我们通过归纳法证明，对于任何其他可行的排放序列 $\\{E_t\\}$，必然有 $E_t \\ge E_t^*$ 对所有 $t \\in \\{1, \\dots, T\\}$ 成立。\n\n**归纳法证明：**\n\n**基本情况 ($t=1$)：**\n对于任何可行序列，第一个周期的排放量 $E_1$ 必须满足 $E_1 \\ge \\max(E_0 - r^{\\max}, L_1)$。根据我们的构造，$E_1^* = \\max(E_0 - r^{\\max}, L_1)$。因此，可以立即得出 $E_1 \\ge E_1^*$。\n\n**归纳假设：**\n假设对于某个整数 $k$（其中 $1 \\le k  T$），对于任何可行序列 $\\{E_t\\}$，不等式 $E_k \\ge E_k^*$ 成立。\n\n**归纳步骤：**\n我们必须证明 $E_{k+1} \\ge E_{k+1}^*$。根据定义，任何可行的排放水平 $E_{k+1}$ 必须满足以下约束：\n$$E_{k+1} \\ge \\max(E_k - r^{\\max}, L_{k+1})$$\n根据归纳假设，我们有 $E_k \\ge E_k^*$，这意味着 $E_k - r^{\\max} \\ge E_k^* - r^{\\max}$。由于 $\\max$ 函数对其参数是单调不减的，因此可得：\n$$\\max(E_k - r^{\\max}, L_{k+1}) \\ge \\max(E_k^* - r^{\\max}, L_{k+1})$$\n该不等式的右侧正是 $E_{k+1}^*$ 的定义。结合这些不等式，我们得到：\n$$E_{k+1} \\ge \\max(E_k - r^{\\max}, L_{k+1}) \\ge E_{k+1}^*$$\n因此，我们证明了 $E_{k+1} \\ge E_{k+1}^*$。\n\n根据数学归纳法原理，我们得出结论：$E_t \\ge E_t^*$ 对所有 $t \\in \\{1, \\dots, T\\}$ 成立。这证明了序列 $\\{E_t^*\\}$ 构成了逐点最小的可行排放路径。\n\n从这个结果直接可以推断，任何可行排放序列 $\\{E_t\\}$ 的总和都有一个下限，即我们构建的序列 $\\{E_t^*\\}$ 的总和：\n$$\\sum_{t=1}^{T} E_t \\ge \\sum_{t=1}^{T} E_t^*$$\n因此，可能的最小累计排放量由下式给出：\n$$C_{min} = \\sum_{t=1}^{T} E_t^*$$\n\n碳预算 $B$ 的可行性取决于是否存在至少一条有效的排放路径，其总排放量不超过 $B$。这样的路径存在的充分必要条件是，可能的最小总排放量 $C_{min}$ 满足预算约束。\n\n**可行性检验：**\n预算 $B$ 是可实现的，当且仅当：\n$$C_{min} \\le B$$\n这为可行性提供了充分必要条件。\n- **充分性：** 如果 $C_{min} \\le B$，那么构建的路径 $\\{E_t^*\\}$ 是一条满足预算约束的有效且存在的轨迹。\n- **必要性：** 如果 $C_{min}  B$，那么没有可行的轨迹能够满足预算，因为所有此类轨迹的累计排放量至少为 $C_{min}$。\n\n因此，这种基于原理的方法是一个算法，它首先递归地构建最小排放序列 $\\{E_t^*\\}$，然后通过对其元素求和来计算总累计排放量 $C_{min}$，最后将此总和与预算 $B$进行比较以确定可行性。",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves for the feasibility of carbon budgets for several test cases.\n    \"\"\"\n    \n    # Each test case is a tuple: (T, E0, r_max, L_spec, B)\n    # L_spec is either a number (for constant L_t) or a tuple/list.\n    test_cases = [\n        # Case A: (T=10, E0=300, r_max=30, L_t=0, B=1400)\n        (10, 300, 30, 0, 1400),\n        # Case B: (T=12, E0=400, r_max=40, L_t=0, B=1800)\n        (12, 400, 40, 0, 1800),\n        # Case C: (T=10, E0=350, r_max=20, L_t=0, B=2200)\n        (10, 350, 20, 0, 2200),\n        # Case D: (T=12, E0=300, r_max=30, L_t=50, B=1490)\n        (12, 300, 30, 50, 1490),\n        # Case E: (T=5, E0=200, r_max=0, L_t=0, B=1000)\n        (5, 200, 0, 0, 1000),\n        # Case F: (T=5, E0=180, r_max=30, L_t=(0,0,130,130,130), B=700)\n        (5, 180, 30, (0, 0, 130, 130, 130), 700),\n    ]\n\n    def check_feasibility(T, E0, r_max, L_spec, B):\n        \"\"\"\n        Determines if a carbon budget is feasible given the parameters.\n\n        Args:\n            T (int): The planning horizon (number of periods).\n            E0 (float): The initial emissions level at t=0.\n            r_max (float): The maximum emissions reduction ramp-rate.\n            L_spec (float or tuple/list): The specification for the emissions floor L_t.\n            B (float): The cumulative carbon budget.\n\n        Returns:\n            bool: True if the budget is feasible, False otherwise.\n        \"\"\"\n        # Create the emissions floor vector L_t for t=1 to T.\n        if isinstance(L_spec, (int, float)):\n            L = np.full(T, float(L_spec))\n        else:\n            L = np.array(L_spec, dtype=float)\n\n        # Initialize variables for the greedy calculation.\n        min_cumulative_emissions = 0.0\n        # E_prev corresponds to E_{t-1}^* in the derivation.\n        E_prev = float(E0)\n\n        # Iterate from t=1 to T to construct the minimum emissions path {E_t^*}.\n        for t in range(T):\n            # Calculate the emissions level based on the ramp-rate constraint.\n            ramp_limited_E = E_prev - r_max\n            \n            # The current period's floor is L[t] (0-indexed for t=1,...,T).\n            floor_E = L[t]\n            \n            # E_t^* = max(E_{t-1}^* - r_max, L_t)\n            E_current = max(ramp_limited_E, floor_E)\n            \n            # Add the minimum possible emissions for this period to the total.\n            min_cumulative_emissions += E_current\n            \n            # Update E_prev for the next iteration.\n            E_prev = E_current\n            \n        # The budget is feasible if and only if the minimum cumulative emissions\n        # are less than or equal to the available budget.\n        return min_cumulative_emissions = B\n\n    results = []\n    for case in test_cases:\n        T_val, E0_val, r_max_val, L_spec_val, B_val = case\n        is_feasible = check_feasibility(T_val, E0_val, r_max_val, L_spec_val, B_val)\n        results.append(is_feasible)\n\n    # Format the final output as a comma-separated list of booleans in brackets.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        }
    ]
}