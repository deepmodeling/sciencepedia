{
    "hands_on_practices": [
        {
            "introduction": "在评估和模拟排放政策时，我们首先需要掌握一个基本关系：发电厂的排放强度如何由其核心工程参数决定。这项练习将通过一个基础推导，帮助您建立燃料碳含量、净热耗率与最终电力排放强度之间的直接联系。掌握这个关系是理解更复杂排放约束和进行准确能源系统建模的第一步。",
            "id": "4088143",
            "problem": "某个管辖区通过将单位净发电量的直接烟道排放量与以 $\\mathrm{kgCO_2e/MWh}$ 为单位规定的限值进行比较，来评估电力排放强度标准的合规性，其中二氧化碳当量 (CO2e) 是利用各种温室气体与二氧化碳的等效性来汇总所有温室气体的指标。考虑一个使用单一均质燃料的稳态火电厂。设 $CC$ 表示基于直接烟道排放的燃料碳含量，单位为 $\\mathrm{kgCO_2e/MMBtu}$，其中百万英热单位 (MMBtu) 是热能单位；设 $HR$ 表示电厂的净热耗率，单位为 $\\mathrm{MMBtu/MWh}$，其中兆瓦时 (MWh) 是净输出电量。假设燃料中的碳在烟道处完全氧化为二氧化碳，无现场碳捕获，且 $CC$ 和 $HR$ 采用一致的高位或低位热值基准。\n\n请仅从热耗率为单位电力输出的热输入、碳含量为单位热输入的直接烟道排放这两个基本定义出发，并利用质量和能量守恒定律，推导该电厂的电力直接烟道排放强度 $EI$（单位为 $\\mathrm{kgCO_2e/MWh}$）作为 $CC$ 和 $HR$ 的函数的符号表达式。\n\n请将您的最终结果表示为 $EI$ 关于 $CC$ 和 $HR$ 的单一闭式解析表达式，并明确其数值将以 $\\mathrm{kgCO_2e/MWh}$ 为单位报告。不要进行任何数值代入，也不要在最终的方框表达式中包含单位。",
            "solution": "问题陈述需经过验证。\n\n### 第一步：提取已知条件\n- **系统：**一个使用单一均质燃料的稳态火电厂。\n- **变量 $EI$：**电厂的电力直接烟道排放强度，单位为 $\\mathrm{kgCO_2e/MWh}$。\n- **变量 $CC$：**基于直接烟道排放的燃料碳含量，单位为 $\\mathrm{kgCO_2e/MMBtu}$。`MMBtu` 代表百万英热单位。\n- **变量 $HR$：**电厂的净热耗率，单位为 $\\mathrm{MMBtu/MWh}$。`MWh` 代表净输出电量的兆瓦时。\n- **基本定义1：**热耗率 (`HR`) 定义为单位电力输出的热输入。\n- **基本定义2：**碳含量 (`CC`) 定义为单位热输入的直接烟道排放。\n- **假设1：**燃料中的碳在烟道处完全氧化为二氧化碳。\n- **假设2：**无现场碳捕获。\n- **假设3：**$CC$ 和 $HR$ 均采用一致的高位或低位热值基准。\n- **目标：**从基本定义出发，利用质量和能量守恒原理，推导 $EI$ 作为 $CC$ 和 $HR$ 函数的符号表达式。\n\n### 第二步：使用提取的已知条件进行验证\n根据验证标准对问题进行评估。\n- **科学基础：**该问题坚实地植根于热力学和能源系统工程的基本原理。变量 $EI$、$CC$ 和 $HR$ 是电厂分析中的标准、明确定义的度量指标。质量和能量守恒原理被正确地引用。\n- **适定性：**该问题是适定的。它提供了足够的信息和清晰的定义，以在指定的变量之间建立唯一的数学关系。其目标是从另外两个量推导出一个量，这是一种标准的表述方式。\n- **客观性：**语言技术性强、精确，没有任何主观或模棱两可的术语。\n\n该问题没有表现出所列的任何缺陷：\n1.  **科学或事实不健全：**对于一个标准的热力学模型，其物理和化学前提是合理的。\n2.  **无法形式化或不相关：**该问题可以直接形式化为数学推导，并且是能源系统中排放核算主题的核心。\n3.  **不完整或矛盾的设置：**该问题是自洽的。假设（例如，无碳捕获）是明确的，并且用于利用给定信息创建一个可解的系统。\n4.  **不切实际或不可行：**虽然经过简化，但这些假设（例如，完全氧化）对于一阶工程模型是标准的，并不代表物理上的不可能。单位是一致的。\n5.  **病态或结构不良：**该问题结构清晰，并能导出一个唯一且有意义的解。\n6.  **伪深刻、琐碎或同义反复：**该推导虽然对领域内的专业人士来说很简单，但需要正确应用定义和量纲推理，是对基本理解的有效检验。\n7.  **无法通过科学方法验证：**所得表达式可通过量纲分析和应用于经验数据进行验证。\n\n### 第三步：结论与行动\n问题是**有效的**。将推导解答。\n\n推导从提供的基本定义开始。设 $M_{emissions}$ 表示直接烟道排放的质量（单位为 $\\mathrm{kgCO_2e}$），$E_{thermal}$ 表示来自燃料的热能输入（单位为 $\\mathrm{MMBtu}$），$E_{elec}$ 表示净电能输出（单位为 $\\mathrm{MWh}$）。\n\n根据问题陈述，排放强度 $EI$ 定义为单位净发电量的直接烟道排放。\n$$\nEI = \\frac{M_{emissions}}{E_{elec}}\n$$\n$EI$ 的单位是 $\\mathrm{kgCO_2e/MWh}$。\n\n燃料碳含量 $CC$ 定义为单位热能输入的直接烟道排放。\n$$\nCC = \\frac{M_{emissions}}{E_{thermal}}\n$$\n$CC$ 的单位是 $\\mathrm{kgCO_2e/MMBtu}$。\n\n电厂的净热耗率 $HR$ 定义为单位净电能输出所需的热能输入。\n$$\nHR = \\frac{E_{thermal}}{E_{elec}}\n$$\n$HR$ 的单位是 $\\mathrm{MMBtu/MWh}$。\n\n问题要求一个 $EI$ 作为 $CC$ 和 $HR$ 函数的表达式。我们可以通过基于所提供定义的代数替换来实现这一点。质量守恒（对于碳）隐含在 $CC$ 的定义中，因为它将排放质量与消耗的燃料（通过其能量含量）联系起来。能量守恒则体现在 $HR$ 的定义中，它代表了将热能转换为电能的效率。\n\n我们从 $EI$ 的定义开始。\n$$\nEI = \\frac{M_{emissions}}{E_{elec}}\n$$\n根据 $CC$ 的定义，我们可以将排放质量 $M_{emissions}$ 表示为：\n$$\nM_{emissions} = CC \\cdot E_{thermal}\n$$\n将这个 $M_{emissions}$ 的表达式代入 $EI$ 的方程中得到：\n$$\nEI = \\frac{CC \\cdot E_{thermal}}{E_{elec}}\n$$\n这可以重写为：\n$$\nEI = CC \\cdot \\left( \\frac{E_{thermal}}{E_{elec}} \\right)\n$$\n我们识别出括号中的项 $\\frac{E_{thermal}}{E_{elec}}$ 是净热耗率 $HR$ 的定义。\n$$\n\\frac{E_{thermal}}{E_{elec}} = HR\n$$\n将 $HR$ 代入 $EI$ 的表达式中，得到最终关系：\n$$\nEI = CC \\cdot HR\n$$\n为了确认此推导的有效性，我们进行量纲分析。\n$$\n\\text{$EI$ 的单位} = (\\text{$CC$ 的单位}) \\times (\\text{$HR$ 的单位})\n$$\n$$\n\\frac{\\mathrm{kgCO_2e}}{\\mathrm{MWh}} = \\left( \\frac{\\mathrm{kgCO_2e}}{\\mathrm{MMBtu}} \\right) \\cdot \\left( \\frac{\\mathrm{MMBtu}}{\\mathrm{MWh}} \\right)\n$$\n`MMBtu` 单位相消，剩下：\n$$\n\\frac{\\mathrm{kgCO_2e}}{\\mathrm{MWh}} = \\frac{\\mathrm{kgCO_2e}}{\\mathrm{MWh}}\n$$\n量纲上的一致性证实了推导出的表达式 $EI = CC \\cdot HR$ 是正确的。",
            "answer": "$$\n\\boxed{CC \\cdot HR}\n$$"
        },
        {
            "introduction": "能源系统通常同时受到多种环境法规的约束，例如总排放上限和平均排放强度限制，而这些政策之间可能存在复杂的相互作用。这项练习将挑战您运用约束优化的基本原理，特别是KKT条件，来判断在特定场景下哪项政策是真正起作用的“约束性”政策。这种分析能力对于准确评估政策效果和预测市场行为至关重要。",
            "id": "4088110",
            "problem": "一个系统运营商在满足固定电力需求和遵守排放法规的同时，最小化总发电成本。设决策变量为发电量 $q_{\\mathrm{coal}}$、$q_{\\mathrm{gas}}$ 和 $q_{\\mathrm{wind}}$（单位均为 $\\mathrm{MWh}$）。目标是在满足需求和排放约束的条件下，最小化总成本 $\\sum_i c_i q_i$。参数如下：需求 $D = 100$；可变成本 $c_{\\mathrm{coal}} = 20$、$c_{\\mathrm{gas}} = 35$、$c_{\\mathrm{wind}} = 50$（单位均为 \\$/MWh）；排放强度 $e_{\\mathrm{coal}} = 0.9$、$e_{\\mathrm{gas}} = 0.5$、$e_{\\mathrm{wind}} = 0$（单位均为 吨 $\\mathrm{CO_2}$/MWh）。所有发电技术都有足够的容量，因此容量不是约束性条件。该系统受到平均排放强度限制 $\\bar{I} = 0.6$（单位为 吨 $\\mathrm{CO_2}$/MWh），此外，还有一个总排放上限 $\\bar{E}$（单位为 吨 $\\mathrm{CO_2}$），该上限可能取两个值之一：$\\bar{E}^{(1)} = 70$ 或 $\\bar{E}^{(2)} = 55$。\n\n形式上，运营商求解以下问题\n$$\n\\min_{q_{\\mathrm{coal}}, q_{\\mathrm{gas}}, q_{\\mathrm{wind}} \\ge 0} \\; c_{\\mathrm{coal}} q_{\\mathrm{coal}} + c_{\\mathrm{gas}} q_{\\mathrm{gas}} + c_{\\mathrm{wind}} q_{\\mathrm{wind}}\n$$\n约束条件为\n$$\nq_{\\mathrm{coal}} + q_{\\mathrm{gas}} + q_{\\mathrm{wind}} = D,\n$$\n$$\ne_{\\mathrm{coal}} q_{\\mathrm{coal}} + e_{\\mathrm{gas}} q_{\\mathrm{gas}} + e_{\\mathrm{wind}} q_{\\mathrm{wind}} \\le \\bar{E},\n$$\n$$\ne_{\\mathrm{coal}} q_{\\mathrm{coal}} + e_{\\mathrm{gas}} q_{\\mathrm{gas}} + e_{\\mathrm{wind}} q_{\\mathrm{wind}} \\le \\bar{I} \\left(q_{\\mathrm{coal}} + q_{\\mathrm{gas}} + q_{\\mathrm{wind}}\\right).\n$$\n\n仅使用约束优化的基本原理，即 Karush-Kuhn-Tucker (KKT) 条件中的原始可行性、平稳性和互补松弛性，判断下列哪个陈述正确地指出了如何通过检验互补松弛性和无排放上限时的解的排放量来检测排放上限是否为非约束性条件。考虑两种上限值 $\\bar{E}^{(1)}$ 和 $\\bar{E}^{(2)}$。\n\n选择所有适用项。\n\nA. 移除总排放上限，只用需求和强度约束来求解问题。成本最小化的组合使用 $q_{\\mathrm{coal}} = 200/3$ 和 $q_{\\mathrm{wind}} = 100/3$（其中 $q_{\\mathrm{gas}} = 0$），产生的总排放量为 $60$。由于 $60 \\le \\bar{E}^{(1)} = 70$，因此在 $\\bar{E}^{(1)}$ 下，该上限是非约束性的，并且根据互补松弛性，该上限的拉格朗日乘子为 $0$。\n\nB. 在 $\\bar{E}^{(1)} = 70$ 的情况下，排放上限可以是非约束性的，同时其拉格朗日乘子为严格正值，因为强度约束与排放上限相互作用。\n\nC. 检验上限非约束性的唯一正确方法是重新求解包含该上限的完整问题，然后检查在最优解处该上限约束是否松弛；在存在强度限制的情况下，将 $\\bar{E}$ 与无上限解的总排放量进行比较是无效的。\n\nD. 因为强度限制迫使平均排放最多为 $\\bar{I} = 0.6$，所以对于 $\\bar{E}^{(1)} = 70$ 和 $\\bar{E}^{(2)} = 55$ 这两种情况，排放上限都是非约束性的；因此，在这两种情况下，该上限的拉格朗日乘子都为 $0$。\n\nE. 对于 $\\bar{E}^{(2)} = 55$，将 $\\bar{E}^{(2)}$ 与无上限解的总排放量进行比较表明，该上限是约束性的，这使得强度约束变为松弛；该上限的拉格朗日乘子是严格正值，并且等于在各种运行的技术之间使 $c_i + \\lambda e_i$ 相等的影子碳价格。",
            "solution": "用户希望我验证并解决一个与排放法规下电力系统经济调度相关的约束优化问题。核心任务是根据 Karush-Kuhn-Tucker (KKT) 理论的原理，从一系列选项中确定正确的方法，以判断总排放上限是否为约束性条件。\n\n首先，我将验证问题陈述。\n\n### 步骤 1：提取已知条件\n-   **决策变量**：发电量 $q_{\\mathrm{coal}}$、$q_{\\mathrm{gas}}$、$q_{\\mathrm{wind}}$，单位为 $\\mathrm{MWh}$，且 $q_i \\ge 0$。\n-   **目标函数**：最小化总成本 $C = c_{\\mathrm{coal}} q_{\\mathrm{coal}} + c_{\\mathrm{gas}} q_{\\mathrm{gas}} + c_{\\mathrm{wind}} q_{\\mathrm{wind}}$。\n-   **参数**：\n    -   需求：$D = 100$ $\\mathrm{MWh}$。\n    -   可变成本 (\\$/MWh)：$c_{\\mathrm{coal}} = 20$，$c_{\\mathrm{gas}} = 35$，$c_{\\mathrm{wind}} = 50$。\n    -   排放强度 (吨 $\\mathrm{CO_2}$/MWh)：$e_{\\mathrm{coal}} = 0.9$，$e_{\\mathrm{gas}} = 0.5$，$e_{\\mathrm{wind}} = 0$。\n    -   平均排放强度限制：$\\bar{I} = 0.6$ 吨 $\\mathrm{CO_2}$/MWh。\n    -   总排放上限 (吨 $\\mathrm{CO_2}$)：$\\bar{E}$，有两个可能的值 $\\bar{E}^{(1)} = 70$ 和 $\\bar{E}^{(2)} = 55$。\n-   **优化问题**：\n    $$\n    \\min_{q_{\\mathrm{coal}}, q_{\\mathrm{gas}}, q_{\\mathrm{wind}} \\ge 0} \\; 20 q_{\\mathrm{coal}} + 35 q_{\\mathrm{gas}} + 50 q_{\\mathrm{wind}}\n    $$\n    约束条件为：\n    1.  $q_{\\mathrm{coal}} + q_{\\mathrm{gas}} + q_{\\mathrm{wind}} = 100$\n    2.  $0.9 q_{\\mathrm{coal}} + 0.5 q_{\\mathrm{gas}} \\le \\bar{E}$\n    3.  $0.9 q_{\\mathrm{coal}} + 0.5 q_{\\mathrm{gas}} \\le 0.6 (q_{\\mathrm{coal}} + q_{\\mathrm{gas}} + q_{\\mathrm{wind}})$\n\n### 步骤 2：使用提取的已知条件进行验证\n该问题是经济调度问题的标准线性规划表述，是能源系统工程和经济学中的常见应用。\n-   **科学依据**：该问题在优化理论及其在能源市场中的应用方面有充分的依据。可变成本、排放强度、排放上限和强度限制等概念在该领域都是标准概念。所提供的值在形式上是现实的。\n-   **适定性**：这是一个线性规划问题，具有明确定义的目标函数和一个非空、紧凑的可行域（需求等式和非负性约束限制了变量）。因此，保证存在最优解。\n-   **客观性**：语言精确，使用了成熟的数学和经济学术语。没有主观或模棱两可的陈述。\n\n通过代入需求约束，可以简化强度约束：$0.9 q_{\\mathrm{coal}} + 0.5 q_{\\mathrm{gas}} \\le 0.6 \\times (100)$，简化为 $0.9 q_{\\mathrm{coal}} + 0.5 q_{\\mathrm{gas}} \\le 60$。令 $E_{total} = 0.9 q_{\\mathrm{coal}} + 0.5 q_{\\mathrm{gas}}$。两个与排放相关的约束是 $E_{total} \\le \\bar{E}$ 和 $E_{total} \\le 60$。实际上，这意味着系统受制于一个更严格的单一约束：$E_{total} \\le \\min(\\bar{E}, 60)$。这一观察并未使问题无效；相反，它是分析两个政策之间相互作用的关键。问题表述是一致和完整的。\n\n### 步骤 3：结论和行动\n问题有效。我将继续进行求解。\n\n### 推导\n问题要求使用基本原理确定总排放上限 $\\bar{E}$ 的约束状态。约束优化的一个基本原则指出，如果一个不含特定约束的问题的最优解恰好满足该约束，那么该解对于完整问题也是最优的，并且新增的约束是非约束性的（其拉格朗日乘子为零）。\n\n问题提示我们考虑求解不含总排放上限的问题。我们来定义这个“无上限”问题。它包括需求约束和强度限制。\n\n**“无上限”问题分析**\n最小化 $C = 20 q_{\\mathrm{coal}} + 35 q_{\\mathrm{gas}} + 50 q_{\\mathrm{wind}}$\n约束条件为：\n1.  $q_{\\mathrm{coal}} + q_{\\mathrm{gas}} + q_{\\mathrm{wind}} = 100$ (乘子 $\\lambda_D$)\n2.  $0.9 q_{\\mathrm{coal}} + 0.5 q_{\\mathrm{gas}} \\le 60$ (乘子 $\\mu_I \\ge 0$)\n3.  $q_i \\ge 0$ for $i \\in \\{\\mathrm{coal}, \\mathrm{gas}, \\mathrm{wind}\\}$\n\nKKT 平稳性条件意味着，对于任何运行的发电机 $i$（$q_i > 0$），其经排放影子价格调整后的边际成本必须等于系统的能源边际成本 $\\lambda_D$：$c_i + e_i \\mu_I = \\lambda_D$。对于未运行的发电机，$c_j + e_j \\mu_I \\ge \\lambda_D$。\n\n-   如果强度约束是非约束性的（$\\mu_I = 0$），我们将只调度最便宜的发电机，即燃煤。解 $q_{\\mathrm{coal}}=100$ 产生的总排放量为 $0.9 \\times 100 = 90$，这违反了约束 $90 \\le 60$。因此，强度约束必须是约束性的，这意味着 $\\mu_I > 0$ 并且 $0.9 q_{\\mathrm{coal}} + 0.5 q_{\\mathrm{gas}} = 60$。\n\n-   在有两个约束性条件（需求和强度）的情况下，最优解通常会涉及两个运行的发电机。我们测试发电机对，它们的调整后成本可以在某个 $\\mu_I > 0$ 的情况下相等：\n    -   **燃煤和风能**：$q_{\\mathrm{gas}}=0$。运行发电机的 KKT 条件是 $c_{\\mathrm{coal}} + e_{\\mathrm{coal}} \\mu_I = c_{\\mathrm{wind}} + e_{\\mathrm{wind}} \\mu_I$，即 $20 + 0.9 \\mu_I = 50 + 0 \\cdot \\mu_I$。这得出 $0.9 \\mu_I = 30$，所以 $\\mu_I = 30/0.9 = 100/3 \\approx 33.33$。因为 $\\mu_I > 0$，这是一个有效的候选解。电力的边际成本是 $\\lambda_D = 50$。我们必须检查未运行的发电机（燃气）是否确实更昂贵：$c_{\\mathrm{gas}} + e_{\\mathrm{gas}} \\mu_I = 35 + 0.5(100/3) = 35 + 50/3 \\approx 35 + 16.67 = 51.67$。由于 $51.67 > \\lambda_D = 50$，不调度燃气是正确的。这就是最优解。\n    -   发电量通过求解以下方程组得到：\n        $q_{\\mathrm{coal}} + q_{\\mathrm{wind}} = 100$\n        $0.9 q_{\\mathrm{coal}} = 60 \\implies q_{\\mathrm{coal}} = 60/0.9 = 200/3 \\approx 66.67$。\n        $q_{\\mathrm{wind}} = 100 - 200/3 = 100/3 \\approx 33.33$。\n    -   总排放量为 $E^* = 0.9(200/3) = 60$ 吨。\n\n仅有需求和强度约束的问题的最优解是 $q_{\\mathrm{coal}} = 200/3$ MWh，$q_{\\mathrm{wind}} = 100/3$ MWh，$q_{\\mathrm{gas}} = 0$ MWh，总排放量为 $E^*=60$ 吨。\n\n**含上限的完整问题分析**\n现在，我们将上限约束 $0.9 q_{\\mathrm{coal}} + 0.5 q_{\\mathrm{gas}} \\le \\bar{E}$ 加回到问题中。设其乘子为 $\\mu_E \\ge 0$。\n\n**情况 1：上限为 $\\bar{E}^{(1)} = 70$ 吨。**\n我们检查“无上限”解在此上限下是否可行。排放量为 $E^* = 60$ 吨。由于 $60 \\le 70$，该解是可行的。因为这个解对于约束较少的问题是最优的，所以它对于完整问题仍然是最优的。上限约束 $E \\le 70$ 被严格满足（$60  70$），意味着它是非约束性的。根据互补松弛性条件 $\\mu_E (E - \\bar{E}^{(1)}) = 0$，其拉格朗日乘子必须为零：$\\mu_E = 0$。\n\n**情况 2：上限为 $\\bar{E}^{(2)} = 55$ 吨。**\n我们检查“无上限”解。其排放量为 $E^* = 60$ 吨。由于 $60 > 55$，该解对于完整问题是不可行的。因此，上限约束 $E \\le 55$ 在新的最优解中必须是约束性的，这意味着其乘子 $\\mu_E$ 将为严格正值。强度约束 $E \\le 60$ 现在将变为松弛，因此其乘子 $\\mu_I$ 将为零。总的排放影子价格是 $\\mu_E + \\mu_I = \\mu_E$。\n\n### 逐项分析\n\n**A. 移除总排放上限，只用需求和强度约束来求解问题。成本最小化的组合使用 $q_{\\mathrm{coal}} = 200/3$ 和 $q_{\\mathrm{wind}} = 100/3$（其中 $q_{\\mathrm{gas}}=0$），产生的总排放量为 $60$ 吨。由于 $60 \\le \\bar{E}^{(1)} = 70$，该上限是非约束性的，并且根据互补松弛性，其乘子为零。**\n- 我对“无上限”问题的推导证实了发电组合（$q_{\\mathrm{coal}} = 200/3$，$q_{\\mathrm{wind}} = 100/3$，$q_{\\mathrm{gas}}=0$）和产生的总排放量（$60$ 吨）。所提出的逻辑是，由于这些排放量（$60$）小于上限（$\\bar{E}^{(1)} = 70$），所以该上限是非约束性的，其乘子为零。这个推理是 KKT 理论的直接且正确的应用。\n- **结论：正确**\n\n**B. 在 $\\bar{E}^{(1)} = 70$ 的情况下，排放上限可以是非约束性的，同时其拉格朗日乘子为严格正值，因为强度约束与排放上限相互作用。**\n- 一个非约束性条件是指被严格满足的条件。在这种情况下，最优解的排放量为 $60$ 吨，严格小于 $70$ 吨的上限。互补松弛性条件 $\\mu_E (60 - 70) = 0$ 要求 $\\mu_E = 0$。一个非约束性条件的严格正乘子违反了这一基本的 KKT 条件。约束之间的相互作用决定了哪个是约束性的，但它不允许违反互补松弛性。\n- **结论：不正确**\n\n**C. 检验上限非约束性的唯一正确方法是重新求解包含该上限的完整问题，然后检查在最优解处该上限约束是否松弛；在存在强度限制的情况下，将 $\\bar{E}$ 与无上限解的总排放量进行比较是无效的。**\n- 该陈述声称选项 A 中使用的方法无效。求解一个松弛问题并对照松弛的约束检查可行性是优化中一种标准、有效且高效的技术。“无上限”解被正确地表述为包含强度限制，因此它的存在并不会使比较无效。虽然求解完整问题也是一种有效的方法，但它不是*唯一*正确的方法。\n- **结论：不正确**\n\n**D. 因为强度限制迫使平均排放最多为 $\\bar{I} = 0.6$，所以对于 $\\bar{E}^{(1)} = 70$ 和 $\\bar{E}^{(2)} = 55$ 这两种情况，排放上限都是非约束性的；因此，在这两种情况下，该上限的拉格朗日乘子都为 $0$。**\n- 强度限制对排放量施加了 $60$ 吨的上限。对于 $\\bar{E}^{(1)} = 70$，上限确实是非约束性的，因为它比强度限制更宽松。然而，对于 $\\bar{E}^{(2)} = 55$，上限比强度限制更严格（$55  60$）。如初步分析所示，“无上限”问题的解违反了这个更紧的上限，这意味着该上限必须是约束性的。该陈述对于 $\\bar{E}^{(2)} = 55$ 的情况是错误的。\n- **结论：不正确**\n\n**E. 对于 $\\bar{E}^{(2)} = 55$，将 $\\bar{E}^{(2)}$ 与无上限解的总排放量进行比较表明，该上限是约束性的，这使得强度约束变为松弛；该上限的拉格朗日乘子是严格正值，并且等于在各种运行的技术之间使 $c_i + \\lambda e_i$ 相等的影子碳价格。**\n- “无上限”解的排放量为 $60$ 吨。由于 $60 > \\bar{E}^{(2)} = 55$，上限约束被违反，证明它在完整问题中必定是约束性的。这个在 $55$ 吨处的约束性上限使得 $60$ 吨的强度约束限制变为松弛。由于上限是约束性的，其拉格朗日乘子（$\\mu_E$）必须为正。这个乘子是碳的影子价格，其值由使得所有运行技术的碳调整边际成本（$c_i + \\mu_E e_i$，选项中用 $\\lambda$ 表示乘子）相等来决定。该陈述准确地描述了 $\\bar{E}^{(2)} = 55$ 的情况，并根据 KKT 理论正确地解释了拉格朗日乘子的作用和意义。\n- **结论：正确**",
            "answer": "$$\\boxed{AE}$$"
        },
        {
            "introduction": "理论模型为了简化分析，常常忽略发电机组运行中的一些非线性排放特征，但这在实际合规评估中可能导致显著偏差。这项实践练习将引导您深入了解排放核算的细节，特别是发电机组的启动和空载排放，并量化忽略这些因素对排放总量和排放强度计算所造成的系统性偏差。这有助于您构建更精确、更符合实际运行情况的能源系统模型。",
            "id": "4088133",
            "problem": "考虑一个发电系统，该系统由一组有限的发电机组成，索引为 $g \\in \\{1,\\dots,G\\}$，以及一个离散的时间范围，索引为 $t \\in \\{1,\\dots,T\\}$，每个时段的持续时间统一为 $\\Delta t$ 小时。对于每个发电机 $g$ 和时段 $t$，令 $p_{g,t}$ 表示以兆瓦 (MW) 为单位的输出电功率，令 $u_{g,t} \\in \\{0,1\\}$ 表示启停状态指示符，其中 $u_{g,t} = 1$ 表示发电机开启，$u_{g,t} = 0$ 表示关闭。启动指示符 $v_{g,t}$ 定义为 $v_{g,t} = \\max\\{0, u_{g,t} - u_{g,t-1}\\}$，并约定 $u_{g,0} = 0$。对于每个发电机 $g$，负荷相关排放率 $r_g$ 以千克/兆瓦时 (kg/MWh) 为单位，空载排放率 $n_g$ 在发电机开启时以千克/小时 (kg/h) 为单位，启动排放量 $s_g$ 以千克/次启动 (kg) 为单位。\n\n发电机 $g$ 在时段 $t$ 内产生的总电能为 $e_{g,t} = p_{g,t} \\Delta t$，单位为兆瓦时 (MWh)。发电机 $g$ 在时段 $t$ 内产生的负荷相关排放与 $e_{g,t}$ 成正比，比例常数为 $r_g$。发电机 $g$ 在时段 $t$ 内产生的空载排放等于 $n_g u_{g,t} \\Delta t$。发电机 $g$ 在时段 $t$ 内产生的启动排放等于 $s_g v_{g,t}$。令 $E^{\\text{gen}} = \\sum_{g=1}^{G} \\sum_{t=1}^{T} e_{g,t}$ 表示在整个时间范围内产生的总电能（单位 MWh）。定义全核算总排放量\n$$\nE^{\\text{full}} = \\sum_{g=1}^{G} \\sum_{t=1}^{T} \\left( r_g e_{g,t} + n_g u_{g,t} \\Delta t + s_g v_{g,t} \\right)\n$$\n和部分核算总排放量（忽略启动和空载贡献）\n$$\nE^{\\text{partial}} = \\sum_{g=1}^{G} \\sum_{t=1}^{T} r_g e_{g,t}.\n$$\n定义全核算下的平均排放强度为 $I^{\\text{full}} = E^{\\text{full}} / E^{\\text{gen}}$，部分核算下的平均排放强度为 $I^{\\text{partial}} = E^{\\text{partial}} / E^{\\text{gen}}$，两者均以千克/兆瓦时 (kg/MWh) 表示。如果 $E^{\\text{gen}} = 0$，则在合规性评估中视 $I^{\\text{full}} = +\\infty$ 和 $I^{\\text{partial}} = +\\infty$。\n\n给定一个绝对排放上限 $C$（单位为千克 kg）和一个强度限值 $L$（单位为千克/兆瓦时 kg/MWh），合规条件如下：全核算上限合规要求 $E^{\\text{full}} \\le C$，部分核算上限合规要求 $E^{\\text{partial}} \\le C$，全核算强度合规要求 $I^{\\text{full}} \\le L$，部分核算强度合规要求 $I^{\\text{partial}} \\le L$。令忽略启动和空载部分时总排放的偏差为 $B_E = E^{\\text{partial}} - E^{\\text{full}}$，单位为千克 (kg)；强度的偏差为 $B_I = I^{\\text{partial}} - I^{\\text{full}}$，单位为千克/兆瓦时 (kg/MWh)。\n\n您的任务是实现一个程序，针对每个给定的测试用例，计算：\n- $B_E$，单位为千克 (kg)，\n- $B_I$，单位为千克/兆瓦时 (kg/MWh)，\n- 全核算上限合规布尔值（如果 $E^{\\text{full}} \\le C$ 则为 true，否则为 false），\n- 部分核算上限合规布尔值（如果 $E^{\\text{partial}} \\le C$ 则为 true，否则为 false），\n- 全核算强度合规布尔值（如果 $I^{\\text{full}} \\le L$ 则为 true，否则为 false），\n- 部分核算强度合规布尔值（如果 $I^{\\text{partial}} \\le L$ 则为 true，否则为 false）。\n\n所有强度均以千克/兆瓦时 (kg/MWh) 表示。不涉及角度。输出的任何地方都不允许使用百分号；请使用十进制数。\n\n使用以下参数值的测试套件。在所有情况下，时段持续时间为 $\\Delta t = 1$ 小时。\n\n测试用例 1（正常情况，全核算与部分核算下的合规性不同）：\n- 发电机数量 $G = 2$，时段数量 $T = 4$。\n- 发电机 1：$r_1 = 800$ kg/MWh, $n_1 = 60$ kg/h, $s_1 = 500$ kg。\n- 发电机 2：$r_2 = 400$ kg/MWh, $n_2 = 30$ kg/h, $s_2 = 300$ kg。\n- 状态数组 $u_{1,t}$ 在 $t = 1 \\dots 4$ 期间：$\\{1, 1, 0, 1\\}$；$u_{2,t}$：$\\{0, 1, 1, 1\\}$。\n- 输出数组 $p_{1,t}$ (MW) 在 $t = 1 \\dots 4$ 期间：$\\{50, 60, 0, 30\\}$；$p_{2,t}$：$\\{0, 40, 70, 50\\}$。\n- 排放上限 $C = 176500$ kg。\n- 强度限值 $L = 590$ kg/MWh。\n\n测试用例 2（边界条件，全核算值等于限值）：\n- 发电机数量 $G = 1$，时段数量 $T = 3$。\n- 发电机 1：$r_1 = 500$ kg/MWh, $n_1 = 50$ kg/h, $s_1 = 200$ kg。\n- 状态数组 $u_{1,t}$ 在 $t = 1 \\dots 3$ 期间：$\\{1, 1, 0\\}$。\n- 输出数组 $p_{1,t}$ (MW) 在 $t = 1 \\dots 3$ 期间：$\\{20, 20, 0\\}$。\n- 排放上限 $C = 20300$ kg。\n- 强度限值 $L = 507.5$ kg/MWh。\n\n测试用例 3（边缘情况，频繁启停且启动排放量大）：\n- 发电机数量 $G = 1$，时段数量 $T = 6$。\n- 发电机 1：$r_1 = 300$ kg/MWh, $n_1 = 100$ kg/h, $s_1 = 1000$ kg。\n- 状态数组 $u_{1,t}$ 在 $t = 1 \\dots 6$ 期间：$\\{1, 0, 1, 0, 1, 0\\}$。\n- 输出数组 $p_{1,t}$ (MW) 在 $t = 1 \\dots 6$ 期间：$\\{30, 0, 35, 0, 40, 0\\}$。\n- 排放上限 $C = 33000$ kg。\n- 强度限值 $L = 320$ kg/MWh。\n\n测试用例 4（低负荷下持续运行；全核算和部分核算均合规，以证明合规性无变化）：\n- 发电机数量 $G = 1$，时段数量 $T = 5$。\n- 发电机 1：$r_1 = 100$ kg/MWh, $n_1 = 80$ kg/h, $s_1 = 50$ kg。\n- 状态数组 $u_{1,t}$ 在 $t = 1 \\dots 5$ 期间：$\\{1, 1, 1, 1, 1\\}$。\n- 输出数组 $p_{1,t}$ (MW) 在 $t = 1 \\dots 5$ 期间：$\\{10, 10, 10, 10, 10\\}$。\n- 排放上限 $C = 6000$ kg。\n- 强度限值 $L = 120$ kg/MWh。\n\n您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表形式的结果，其中每个测试用例的结果是一个按 $[B_E, B_I, \\text{cap\\_compliance\\_full}, \\text{cap\\_compliance\\_partial}, \\text{intensity\\_compliance\\_full}, \\text{intensity\\_compliance\\_partial}]$ 顺序排列的列表。例如，整体输出格式必须为 $[[\\dots],[\\dots],[\\dots],[\\dots]]$，其中包含四个对应于四个测试用例的内部列表，所有强度均以千克/兆瓦时 (kg/MWh) 表示，所有排放量均以千克 (kg) 表示。",
            "solution": "该问题要求在一个电力系统中，根据两种不同的核算方案（全核算和部分核算）计算与排放相关的指标。该系统由 $G$ 台发电机组成，在 $T$ 个离散时段内运行。解决方案需要系统地应用问题中给出的关于排放、能量和合规性的数学定义。\n\n首先，我们重述问题陈述中提供的基本量和定义。时段持续时间为 $\\Delta t$。对于每个发电机 $g \\in \\{1, \\dots, G\\}$ 和时段 $t \\in \\{1, \\dots, T\\}$：\n- $p_{g,t}$ 是以兆瓦 (MW) 为单位的功率输出。\n- $u_{g,t} \\in \\{0, 1\\}$ 是二进制的启停状态。\n- $v_{g,t} = \\max\\{0, u_{g,t} - u_{g,t-1}\\}$ 是启动事件指示符，初始条件为 $u_{g,0} = 0$。\n\n每个发电机 $g$ 的参数如下：\n- $r_g$：负荷相关排放率 (kg/MWh)。\n- $n_g$：空载排放率 (kg/h)。\n- $s_g$：启动排放量 (kg/start)。\n\n基于这些，我们推导出以下量。发电机 $g$ 在时段 $t$ 内产生的电能为：\n$$e_{g,t} = p_{g,t} \\Delta t$$\n在整个时间范围内产生的总电能是所有发电机和所有时段的总和：\n$$E^{\\text{gen}} = \\sum_{g=1}^{G} \\sum_{t=1}^{T} e_{g,t}$$\n\n问题定义了两种计算总排放量的方法。部分核算方法仅考虑负荷相关排放：\n$$E^{\\text{partial}} = \\sum_{g=1}^{G} \\sum_{t=1}^{T} r_g e_{g,t}$$\n全核算方法包括负荷相关排放、空载排放和启动排放：\n$$E^{\\text{full}} = \\sum_{g=1}^{G} \\sum_{t=1}^{T} \\left( r_g e_{g,t} + n_g u_{g,t} \\Delta t + s_g v_{g,t} \\right)$$\n这可以分解为 $E^{\\text{full}} = E^{\\text{partial}} + E^{\\text{no-load}} + E^{\\text{start-up}}$，其中：\n$$E^{\\text{no-load}} = \\sum_{g=1}^{G} \\sum_{t=1}^{T} n_g u_{g,t} \\Delta t$$\n$$E^{\\text{start-up}} = \\sum_{g=1}^{G} \\sum_{t=1}^{T} s_g v_{g,t}$$\n相应的平均排放强度定义为：\n$$I^{\\text{partial}} = \\frac{E^{\\text{partial}}}{E^{\\text{gen}}}$$\n$$I^{\\text{full}} = \\frac{E^{\\text{full}}}{E^{\\text{gen}}}$$\n如果 $E^{\\text{gen}} = 0$，则强度被视为无限大。\n\n要求的输出是排放和强度的偏差，以及四个合规性布尔值。\n总排放的偏差是：\n$$B_E = E^{\\text{partial}} - E^{\\text{full}} = - (E^{\\text{no-load}} + E^{\\text{start-up}})$$\n强度的偏差是：\n$$B_I = I^{\\text{partial}} - I^{\\text{full}} = \\frac{E^{\\text{partial}}}{E^{\\text{gen}}} - \\frac{E^{\\text{full}}}{E^{\\text{gen}}} = \\frac{B_E}{E^{\\text{gen}}}$$\n合规条件是根据排放上限 $C$ 和强度限值 $L$ 进行检查的：\n1.  全核算上限合规：$E^{\\text{full}} \\le C$\n2.  部分核算上限合规：$E^{\\text{partial}} \\le C$\n3.  全核算强度合规：$I^{\\text{full}} \\le L$\n4.  部分核算强度合规：$I^{\\text{partial}} \\le L$\n\n每个测试用例的算法步骤如下：\n1.  给定每个发电机 $g$ 的 $u_{g,t}$ 和 $p_{g,t}$ 输入数组，以及参数 $r_g, n_g, s_g$，和全局参数 $\\Delta t, C, L$。\n2.  对每个发电机 $g$，使用定义 $v_{g,t} = \\max\\{0, u_{g,t} - u_{g,t-1}\\}$ 和 $u_{g,0}=0$ 计算 $t=1,\\dots,T$ 的启动指示符向量 $v_{g,t}$。\n3.  计算能量矩阵 $e_{g,t} = p_{g,t} \\Delta t$。\n4.  通过对 $e_{g,t}$ 矩阵的所有元素求和，计算总发电量 $E^{\\text{gen}}$。\n5.  如果 $E^{\\text{gen}} = 0$，处理无限强度的情况。否则，继续。\n6.  通过对能量矩阵 $e_{g,t}$ 以权重 $r_g$ 进行加权求和，计算总部分排放 $E^{\\text{partial}}$。\n7.  通过对状态矩阵 $u_{g,t}$ 以权重 $n_g$ 进行加权求和并乘以 $\\Delta t$，计算总空载排放 $E^{\\text{no-load}}$。\n8.  通过对启动矩阵 $v_{g,t}$ 以权重 $s_g$ 进行加权求和，计算总启动排放 $E^{\\text{start-up}}$。\n9.  计算总全核算排放 $E^{\\text{full}} = E^{\\text{partial}} + E^{\\text{no-load}} + E^{\\text{start-up}}$。\n10. 计算排放偏差 $B_E = E^{\\text{partial}} - E^{\\text{full}}$。\n11. 计算部分强度 $I^{\\text{partial}} = E^{\\text{partial}} / E^{\\text{gen}}$ 和全强度 $I^{\\text{full}} = E^{\\text{full}} / E^{\\text{gen}}$。\n12. 计算强度偏差 $B_I = I^{\\text{partial}} - I^{\\text{full}}$。\n13. 通过将计算出的排放量和强度与给定的上限 $C$ 和限值 $L$ 进行比较，评估四个布尔合规条件。\n14. 将六个结果（$B_E$、$B_I$ 和四个布尔值）组合成当前测试用例的列表。\n\n该过程针对提供的每个测试用例实施，利用数值库进行高效的数组运算。最终输出是一个列表，其中包含每个测试用例的结果列表。",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the emissions calculation and compliance checking problem for a given set of test cases.\n    \"\"\"\n\n    test_cases = [\n        {\n            # Test Case 1\n            \"G\": 2, \"T\": 4, \"delta_t\": 1.0,\n            \"r\": np.array([800.0, 400.0]),\n            \"n\": np.array([60.0, 30.0]),\n            \"s\": np.array([500.0, 300.0]),\n            \"u\": np.array([[1, 1, 0, 1],\n                           [0, 1, 1, 1]]),\n            \"p\": np.array([[50.0, 60.0, 0.0, 30.0],\n                           [0.0, 40.0, 70.0, 50.0]]),\n            \"C\": 176500.0, \"L\": 590.0\n        },\n        {\n            # Test Case 2\n            \"G\": 1, \"T\": 3, \"delta_t\": 1.0,\n            \"r\": np.array([500.0]),\n            \"n\": np.array([50.0]),\n            \"s\": np.array([200.0]),\n            \"u\": np.array([[1, 1, 0]]),\n            \"p\": np.array([[20.0, 20.0, 0.0]]),\n            \"C\": 20300.0, \"L\": 507.5\n        },\n        {\n            # Test Case 3\n            \"G\": 1, \"T\": 6, \"delta_t\": 1.0,\n            \"r\": np.array([300.0]),\n            \"n\": np.array([100.0]),\n            \"s\": np.array([1000.0]),\n            \"u\": np.array([[1, 0, 1, 0, 1, 0]]),\n            \"p\": np.array([[30.0, 0.0, 35.0, 0.0, 40.0, 0.0]]),\n            \"C\": 33000.0, \"L\": 320.0\n        },\n        {\n            # Test Case 4\n            \"G\": 1, \"T\": 5, \"delta_t\": 1.0,\n            \"r\": np.array([100.0]),\n            \"n\": np.array([80.0]),\n            \"s\": np.array([50.0]),\n            \"u\": np.array([[1, 1, 1, 1, 1]]),\n            \"p\": np.array([[10.0, 10.0, 10.0, 10.0, 10.0]]),\n            \"C\": 6000.0, \"L\": 120.0\n        }\n    ]\n\n    all_results = []\n    \n    for case in test_cases:\n        # Extract data from the case dictionary\n        G, T, delta_t = case[\"G\"], case[\"T\"], case[\"delta_t\"]\n        r, n, s = case[\"r\"], case[\"n\"], case[\"s\"]\n        u, p = case[\"u\"], case[\"p\"]\n        C, L = case[\"C\"], case[\"L\"]\n\n        # Ensure parameters are column vectors for broadcasting\n        r_col = r.reshape(-1, 1)\n        n_col = n.reshape(-1, 1)\n        s_col = s.reshape(-1, 1)\n\n        # 1. Calculate startup indicator v\n        # Prepend a column of zeros for u_g,0\n        u_padded = np.hstack((np.zeros((G, 1)), u))\n        v = np.maximum(0, np.diff(u_padded, axis=1))\n\n        # 2. Calculate energy e_g,t\n        e = p * delta_t\n\n        # 3. Calculate total generated energy E_gen\n        E_gen = np.sum(e)\n\n        # 4. Calculate partial emissions E_partial\n        E_partial = np.sum(r_col * e)\n\n        # 5. Calculate full emissions E_full\n        E_no_load = np.sum(n_col * u * delta_t)\n        E_startup = np.sum(s_col * v)\n        E_full = E_partial + E_no_load + E_startup\n\n        # 6. Calculate biases\n        B_E = E_partial - E_full\n        \n        # 7. Calculate intensities and intensity bias\n        if E_gen == 0:\n            I_full = float('inf')\n            I_partial = float('inf')\n            B_I = float('nan')\n        else:\n            I_full = E_full / E_gen\n            I_partial = E_partial / E_gen\n            B_I = I_partial - I_full\n\n        # 8. Perform compliance checks\n        cap_compliance_full = E_full = C\n        cap_compliance_partial = E_partial = C\n        intensity_compliance_full = I_full = L\n        intensity_compliance_partial = I_partial = L\n\n        # 9. Store results for this case\n        case_results = [\n            B_E,\n            B_I,\n            str(cap_compliance_full).lower(),\n            str(cap_compliance_partial).lower(),\n            str(intensity_compliance_full).lower(),\n            str(intensity_compliance_partial).lower()\n        ]\n        all_results.append(case_results)\n\n    def format_inner_list(lst):\n        return \"[\" + \",\".join(map(str, lst)) + \"]\"\n\n    output_str = \"[\" + \",\".join([format_inner_list(res) for res in all_results]) + \"]\"\n    print(output_str)\n\nsolve()\n```"
        }
    ]
}