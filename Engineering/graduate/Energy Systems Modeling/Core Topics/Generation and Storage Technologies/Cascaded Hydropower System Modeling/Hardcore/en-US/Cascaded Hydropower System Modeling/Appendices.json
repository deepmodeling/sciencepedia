{
    "hands_on_practices": [
        {
            "introduction": "At the heart of any hydropower model is the conversion of water's potential energy into electricity. This exercise guides you through deriving the fundamental power generation equation from first principles by applying a control-volume analysis to a turbine. Mastering this relationship between net head $H$, volumetric flow rate $Q$, and efficiency $\\eta$ is the essential first step toward analyzing and optimizing complex hydropower systems. ",
            "id": "4076947",
            "problem": "A river reach hosts a cascaded pair of hydroelectric power plants (Hydroelectric Power Plant (HPP) units) operating in steady state. The upstream HPP releases a constant discharge that immediately forms the inflow to the downstream HPP through a short reach with negligible storage, so the volumetric flow rate through the downstream turbine can be treated as steady and equal to the upstream release. The downstream HPP is designed so that the gross head is reduced by internal losses in the conveyance system and by tailrace submergence effects; the resulting effective net head across the turbine-generator is measured as the difference in piezometric head between the intake and the draft tube outlet. Assume the working fluid is water, which can be modeled as incompressible, and that all unsteady and kinetic energy terms at the reservoir surfaces are negligible relative to the head difference. The combined electro-mechanical efficiency of the downstream unit aggregates turbine and generator losses into a single constant factor.\n\nUsing a control-volume argument based on the conservation of mass and the mechanical energy balance for incompressible flow, derive the expression for the electrical power output of the downstream unit in terms of the fluid density, gravitational acceleration, volumetric flow rate, net head, and the combined efficiency. Then evaluate the power for the downstream HPP for the following scientifically consistent parameters: fluid density $\\rho = 1000\\,\\mathrm{kg/m^{3}}$, gravitational acceleration $g = 9.81\\,\\mathrm{m/s^{2}}$, volumetric flow rate $Q = 250\\,\\mathrm{m^{3}/s}$, net head $H = 80\\,\\mathrm{m}$, and combined efficiency $\\eta = 0.92$.\n\nExpress the final power in megawatts (MW) and round your answer to four significant figures.",
            "solution": "The derivation of the electrical power output of the hydroelectric power plant is based on the steady-flow energy equation, which is an expression of the conservation of energy for an open system (a control volume).\n\nWe define a control volume that encloses the water path through the downstream HPP, with an inlet section $1$ at the turbine intake and an outlet section $2$ at the draft tube exit.\n\nThe mechanical energy balance for a steady, incompressible flow through this control volume states that the power extracted by the turbine runner, known as the hydraulic power $P_h$, is equal to the rate of decrease of the mechanical energy of the fluid flow between the inlet and outlet.\n\nThe specific mechanical energy $e$ (energy per unit mass) of the fluid at any point is the sum of its potential energy (due to pressure and elevation) and kinetic energy:\n$$e = \\frac{p}{\\rho} + gz + \\frac{V^2}{2}$$\nwhere $p$ is the pressure, $\\rho$ is the fluid density, $g$ is the gravitational acceleration, $z$ is the elevation, and $V$ is the flow velocity.\n\nThe rate of energy flow (power) at any section is the product of the mass flow rate $\\dot{m}$ and the specific energy $e$. The mass flow rate is given by $\\dot{m} = \\rho Q$, where $Q$ is the volumetric flow rate.\n\nThe hydraulic power $P_h$ extracted by the turbine is the difference between the power of the incoming flow at section $1$ and the outgoing flow at section $2$:\n$$P_h = \\dot{m}(e_1 - e_2) = \\dot{m} \\left[ \\left(\\frac{p_1}{\\rho} + gz_1 + \\frac{V_1^2}{2}\\right) - \\left(\\frac{p_2}{\\rho} + gz_2 + \\frac{V_2^2}{2}\\right) \\right]$$\n\nThis expression can be rewritten in terms of head (energy per unit weight). The total head $H_{total}$ is the specific energy divided by $g$:\n$$H_{total} = \\frac{e}{g} = \\frac{p}{\\rho g} + z + \\frac{V^2}{2g}$$\nThe power equation then becomes:\n$$P_h = \\dot{m}g(H_{total,1} - H_{total,2}) = \\rho Q g (H_{total,1} - H_{total,2})$$\nThe term $(H_{total,1} - H_{total,2})$ represents the total drop in head across the turbine, which is precisely the definition of the net head $H$. The problem simplifies the formal definition by stating that the effective net head $H$ is measured as the difference in *piezometric head* $(p/(\\rho g) + z)$. While a more rigorous definition of net head would include the difference in kinetic energy heads $(V^2/(2g))$, the problem explicitly provides $H=80\\,\\mathrm{m}$ as the effective net head to be used for the power calculation. Therefore, we use this given $H$ as the total energy head available to the turbine.\n\nThe hydraulic power available from the flow is thus:\n$$P_h = \\rho g Q H$$\n\nThis hydraulic power is the mechanical power transferred from the water to the turbine runner. The conversion of this mechanical power to electrical power is not perfectly efficient. The problem provides a combined electro-mechanical efficiency $\\eta$, which accounts for all losses in the turbine and the generator. The final electrical power output, $P_{elec}$, is the hydraulic power multiplied by this efficiency factor:\n$$P_{elec} = \\eta P_h$$\nSubstituting the expression for $P_h$, we arrive at the desired formula:\n$$P_{elec} = \\eta \\rho g Q H$$\nThis completes the derivation part of the problem.\n\nNext, we evaluate this expression using the provided numerical parameters:\n- $\\eta = 0.92$\n- $\\rho = 1000\\,\\mathrm{kg/m^{3}}$\n- $g = 9.81\\,\\mathrm{m/s^{2}}$\n- $Q = 250\\,\\mathrm{m^{3}/s}$\n- $H = 80\\,\\mathrm{m}$\n\nSubstituting these values into the power equation:\n$$P_{elec} = (0.92) \\times (1000\\,\\mathrm{kg/m^{3}}) \\times (9.81\\,\\mathrm{m/s^{2}}) \\times (250\\,\\mathrm{m^{3}/s}) \\times (80\\,\\mathrm{m})$$\nThe calculation proceeds as follows:\n$$P_{elec} = 0.92 \\times 1000 \\times 9.81 \\times 250 \\times 80$$\n$$P_{elec} = 180,504,000\\,\\mathrm{W}$$\nThe unit of the result is Watts, as can be verified by dimensional analysis:\n$$[\\mathrm{kg/m^3}] \\times [\\mathrm{m/s^2}] \\times [\\mathrm{m^3/s}] \\times [\\mathrm{m}] = [\\mathrm{kg \\cdot m/s^2}] \\times [\\mathrm{m/s}] = [\\mathrm{N} \\cdot \\mathrm{m/s}] = [\\mathrm{J/s}] = [\\mathrm{W}]$$\nThe problem requires the answer to be in megawatts ($\\mathrm{MW}$) and rounded to four significant figures. Since $1\\,\\mathrm{MW} = 10^6\\,\\mathrm{W}$, we convert the power:\n$$P_{elec} = \\frac{180,504,000}{10^6}\\,\\mathrm{MW} = 180.504\\,\\mathrm{MW}$$\nRounding this value to four significant figures gives $180.5\\,\\mathrm{MW}$.",
            "answer": "$$\\boxed{180.5}$$"
        },
        {
            "introduction": "Hydropower systems are fundamentally about managing water storage over time, balancing inflows against releases for power generation and flood control. This practice introduces the core dynamic equation of any reservoir model: the discrete-time water balance, derived from the principle of mass conservation. By modeling the evolution of reservoir storage $S_t$, you will practice handling the critical state variable that connects operational decisions across different time periods. ",
            "id": "4076973",
            "problem": "Consider an upstream reservoir in a two-reservoir cascade used for hydropower. The upstream reservoir receives exogenous river inflow and discharges a controlled release to the downstream reservoir. Over a control interval of length $\\Delta t$, assume that all boundary flows can be approximated as piecewise constant. Neglect precipitation on the reservoir surface, infiltration, and seepage. Treat evaporation as a known volumetric outflow rate equal to the product of an observed evaporation flux and the surface area, already aggregated into a volumetric rate.\n\nLet $S_t$ denote the storage at time $t$, $I_t$ the external inflow to the reservoir, $R_t$ the turbine release to the downstream reservoir, $\\mathrm{Sp}_t$ the spill (if any) over the spillway, and $\\mathrm{Ev}_t$ the volumetric evaporation rate from the reservoir surface. All flows are in $\\mathrm{m^3/s}$, storage is in $\\mathrm{m^3}$, and $\\Delta t$ is in $\\mathrm{s}$. Using the conservation of mass as the fundamental starting point, derive the discrete-time storage balance over $\\Delta t$ and compute the next storage $S_{t+1}$ for the following data:\n- $S_t = 10^7\\,\\mathrm{m^3}$,\n- $I_t = 120\\,\\mathrm{m^3/s}$,\n- $R_t = 100\\,\\mathrm{m^3/s}$,\n- $\\mathrm{Sp}_t = 0\\,\\mathrm{m^3/s}$,\n- $\\mathrm{Ev}_t = 2\\,\\mathrm{m^3/s}$,\n- $\\Delta t = 86400\\,\\mathrm{s}$ (one day).\n\nExpress the final storage in $\\mathrm{m^3}$. Do not round unless it is necessary; if rounding is needed, use significant figures, not decimal places.",
            "solution": "The problem requires the derivation of the discrete-time mass balance equation for a reservoir and its application to compute the storage at the next time step. The fundamental principle governing this system is the conservation of mass.\n\nLet $S(t')$ represent the volume of water (storage) in the reservoir at a continuous time $t'$. Assuming the density of water is constant, the conservation of mass is equivalent to the conservation of volume. The time rate of change of the storage volume is equal to the total volumetric inflow rate minus the total volumetric outflow rate. This relationship can be expressed as a differential equation:\n$$\n\\frac{dS(t')}{dt'} = Q_{\\text{in}}(t') - Q_{\\text{out}}(t')\n$$\nwhere $Q_{\\text{in}}(t')$ is the total inflow rate and $Q_{\\text{out}}(t')$ is the total outflow rate at time $t'$.\n\nFrom the problem statement, the total inflow is the exogenous river inflow, which we can denote as $I(t')$. The total outflow is the sum of the turbine release $R(t')$, the spill $\\mathrm{Sp}(t')$, and the evaporation $\\mathrm{Ev}(t')$. Thus, the differential equation for the reservoir storage becomes:\n$$\n\\frac{dS(t')}{dt'} = I(t') - \\left(R(t') + \\mathrm{Sp}(t') + \\mathrm{Ev}(t')\\right)\n$$\nTo obtain the discrete-time balance equation over a time interval of length $\\Delta t$, we integrate this equation from an initial time $t$ to a final time $t+\\Delta t$:\n$$\n\\int_{t}^{t+\\Delta t} \\frac{dS(t')}{dt'} dt' = \\int_{t}^{t+\\Delta t} \\left( I(t') - R(t') - \\mathrm{Sp}(t') - \\mathrm{Ev}(t') \\right) dt'\n$$\nBy the Fundamental Theorem of Calculus, the left-hand side evaluates to $S(t+\\Delta t) - S(t)$. We adopt the notation from the problem, where $S_t$ denotes the storage at the beginning of the interval (i.e., $S(t)$) and $S_{t+1}$ denotes the storage at the end of the interval (i.e., $S(t+\\Delta t)$). The change in storage is therefore $S_{t+1} - S_t$.\n\nThe problem states that all boundary flows can be approximated as piecewise constant over the control interval $\\Delta t$. This implies that for the duration of the interval from $t$ to $t+\\Delta t$, the flow rates $I(t')$, $R(t')$, $\\mathrm{Sp}(t')$, and $\\mathrm{Ev}(t')$ are constant and equal to the values given for that interval, which are denoted as $I_t$, $R_t$, $\\mathrm{Sp}_t$, and $\\mathrm{Ev}_t$, respectively. With this simplifying assumption, the integrand on the right-hand side is constant and can be moved outside the integral:\n$$\nS_{t+1} - S_t = (I_t - R_t - \\mathrm{Sp}_t - \\mathrm{Ev}_t) \\int_{t}^{t+\\Delta t} dt'\n$$\nThe remaining integral evaluates to the length of the time interval, $(t+\\Delta t) - t = \\Delta t$:\n$$\nS_{t+1} - S_t = (I_t - R_t - \\mathrm{Sp}_t - \\mathrm{Ev}_t) \\Delta t\n$$\nRearranging to solve for the storage at the next time step, $S_{t+1}$, we arrive at the required discrete-time storage balance equation:\n$$\nS_{t+1} = S_t + (I_t - R_t - \\mathrm{Sp}_t - \\mathrm{Ev}_t) \\Delta t\n$$\nThis completes the derivation. We now substitute the provided numerical values to compute $S_{t+1}$. The given data are:\n- Initial storage: $S_t = 10^7\\,\\mathrm{m^3}$\n- Inflow: $I_t = 120\\,\\mathrm{m^3/s}$\n- Release: $R_t = 100\\,\\mathrm{m^3/s}$\n- Spill: $\\mathrm{Sp}_t = 0\\,\\mathrm{m^3/s}$\n- Evaporation: $\\mathrm{Ev}_t = 2\\,\\mathrm{m^3/s}$\n- Time step: $\\Delta t = 86400\\,\\mathrm{s}$\n\nFirst, we calculate the net volumetric flow rate into the reservoir:\n$$\n\\text{Net Flow Rate} = I_t - R_t - \\mathrm{Sp}_t - \\mathrm{Ev}_t = 120\\,\\mathrm{\\frac{m^3}{s}} - 100\\,\\mathrm{\\frac{m^3}{s}} - 0\\,\\mathrm{\\frac{m^3}{s}} - 2\\,\\mathrm{\\frac{m^3}{s}} = 18\\,\\mathrm{\\frac{m^3}{s}}\n$$\nNext, we calculate the total change in storage volume, $\\Delta S$, over the time interval $\\Delta t$. This change is the product of the net flow rate and the duration of the interval:\n$$\n\\Delta S = \\left(18\\,\\mathrm{\\frac{m^3}{s}}\\right) \\times (86400\\,\\mathrm{s})\n$$\n$$\n\\Delta S = 1,555,200\\,\\mathrm{m^3}\n$$\nFinally, we compute the storage at the end of the interval, $S_{t+1}$, by adding the change in storage to the initial storage:\n$$\nS_{t+1} = S_t + \\Delta S = 10^7\\,\\mathrm{m^3} + 1,555,200\\,\\mathrm{m^3}\n$$\n$$\nS_{t+1} = 10,000,000\\,\\mathrm{m^3} + 1,555,200\\,\\mathrm{m^3} = 11,555,200\\,\\mathrm{m^3}\n$$\nThe calculation is exact, and no rounding is necessary. The final storage is $11,555,200\\,\\mathrm{m^3}$.",
            "answer": "$$\n\\boxed{11555200}\n$$"
        },
        {
            "introduction": "To model a cascaded system computationally, we must first translate its physical layout into a formal mathematical structure. This exercise demonstrates how to represent a river network as a directed graph and construct its corresponding node-arc incidence matrix, a standard technique in energy systems analysis. This matrix provides a powerful and systematic way to enforce mass conservation constraints across the entire cascade, forming the topological backbone of large-scale optimization models. ",
            "id": "4076977",
            "problem": "A cascaded hydropower river system is composed of three reservoirs $A$, $B$, and $C$ aligned along the main stem in the downstream direction $A \\to B \\to C$. Two tributaries, $T_{1}$ and $T_{2}$, enter the main stem between $A$ and $B$ and between $B$ and $C$, respectively. To represent hydraulic connectivity in a directed network suitable for energy systems modeling, introduce junction nodes at the confluences so that each arc represents a single-reach, unidirectional connection with no intermediate inflows. Using the law of conservation of mass and the definition of a node-arc incidence matrix for a directed graph, construct the directed graph and write the node-arc incidence matrix $H$.\n\nAdopt the following node ordering and arc ordering:\n- Nodes: $(A, J_{AB}, B, J_{BC}, C, T_{1}, T_{2})$, where $J_{AB}$ is the confluence between the main stem reach from $A$ to $B$ and tributary $T_{1}$, and $J_{BC}$ is the confluence between the main stem reach from $B$ to $C$ and tributary $T_{2}$.\n- Arcs: $(e_{1}: A \\to J_{AB},\\ e_{2}: J_{AB} \\to B,\\ e_{3}: B \\to J_{BC},\\ e_{4}: J_{BC} \\to C,\\ e_{5}: T_{1} \\to J_{AB},\\ e_{6}: T_{2} \\to J_{BC})$.\n\nUse the sign convention that each column of $H$ corresponds to an arc, with entry $-1$ at the tail node (outflow), entry $+1$ at the head node (inflow), and entry $0$ otherwise. Provide the explicit matrix $H \\in \\mathbb{R}^{7 \\times 6}$ using the specified node and arc orderings. The final answer must be the explicit matrix with integer entries. No rounding is required.",
            "solution": "The problem requires the construction of the node-arc incidence matrix $H$ for a directed graph representing a cascaded hydropower system. The matrix $H$ will have dimensions $7 \\times 6$, where the rows correspond to the nodes and the columns correspond to the arcs, following the specified orderings.\n\nThe set of nodes is $N = \\{A, J_{AB}, B, J_{BC}, C, T_{1}, T_{2}\\}$, ordered accordingly.\nThe set of arcs (edges) is $E = \\{e_{1}, e_{2}, e_{3}, e_{4}, e_{5}, e_{6}\\}$, ordered accordingly.\nThe connections are:\n- $e_{1}: A \\to J_{AB}$\n- $e_{2}: J_{AB} \\to B$\n- $e_{3}: B \\to J_{BC}$\n- $e_{4}: J_{BC} \\to C$\n- $e_{5}: T_{1} \\to J_{AB}$\n- $e_{6}: T_{2} \\to J_{BC}$\n\nThe element $H_{ij}$ of the matrix is determined by the connection of node $i$ to arc $j$. According to the given convention:\n- $H_{ij} = -1$ if node $i$ is the tail (origin) of arc $j$.\n- $H_{ij} = +1$ if node $i$ is the head (destination) of arc $j$.\n- $H_{ij} = 0$ if node $i$ is not incident to arc $j$.\n\nWe can construct the matrix column by column, considering each arc one at a time. The rows are ordered as $(A, J_{AB}, B, J_{BC}, C, T_{1}, T_{2})$.\n\n- **Column 1 (for arc $e_{1}: A \\to J_{AB}$):** The tail node is $A$ (1st node), so $H_{11} = -1$. The head node is $J_{AB}$ (2nd node), so $H_{21} = +1$. All other entries in this column are $0$.\n\n- **Column 2 (for arc $e_{2}: J_{AB} \\to B$):** The tail node is $J_{AB}$ (2nd node), so $H_{22} = -1$. The head node is $B$ (3rd node), so $H_{32} = +1$. All other entries in this column are $0$.\n\n- **Column 3 (for arc $e_{3}: B \\to J_{BC}$):** The tail node is $B$ (3rd node), so $H_{33} = -1$. The head node is $J_{BC}$ (4th node), so $H_{43} = +1$. All other entries in this column are $0$.\n\n- **Column 4 (for arc $e_{4}: J_{BC} \\to C$):** The tail node is $J_{BC}$ (4th node), so $H_{44} = -1$. The head node is $C$ (5th node), so $H_{54} = +1$. All other entries in this column are $0$.\n\n- **Column 5 (for arc $e_{5}: T_{1} \\to J_{AB}$):** The tail node is $T_{1}$ (6th node), so $H_{65} = -1$. The head node is $J_{AB}$ (2nd node), so $H_{25} = +1$. All other entries in this column are $0$.\n\n- **Column 6 (for arc $e_{6}: T_{2} \\to J_{BC}$):** The tail node is $T_{2}$ (7th node), so $H_{76} = -1$. The head node is $J_{BC}$ (4th node), so $H_{46} = +1$. All other entries in this column are $0$.\n\nAssembling these columns into the matrix $H$ gives:\n$$\nH = \n\\begin{pmatrix}\n-1 & 0 & 0 & 0 & 0 & 0 \\\\\n1 & -1 & 0 & 0 & 1 & 0 \\\\\n0 & 1 & -1 & 0 & 0 & 0 \\\\\n0 & 0 & 1 & -1 & 0 & 1 \\\\\n0 & 0 & 0 & 1 & 0 & 0 \\\\\n0 & 0 & 0 & 0 & -1 & 0 \\\\\n0 & 0 & 0 & 0 & 0 & -1\n\\end{pmatrix}\n$$\nThis matrix accurately represents the topology of the specified river network according to the rules of graph theory and the provided conventions. For instance, the second row, corresponding to node $J_{AB}$, is $[1, -1, 0, 0, 1, 0]$. If multiplied by a vector of arc flows $\\mathbf{q} = [q_1, q_2, \\dots, q_6]^T$, this row represents the mass balance equation at the junction: $q_1 - q_2 + q_5 = 0$ (assuming no storage at the junction), correctly stating that inflows ($A \\to J_{AB}$ and $T_1 \\to J_{AB}$) must equal the outflow ($J_{AB} \\to B$). The same logic applies to all other nodes.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n-1 & 0 & 0 & 0 & 0 & 0 \\\\\n1 & -1 & 0 & 0 & 1 & 0 \\\\\n0 & 1 & -1 & 0 & 0 & 0 \\\\\n0 & 0 & 1 & -1 & 0 & 1 \\\\\n0 & 0 & 0 & 1 & 0 & 0 \\\\\n0 & 0 & 0 & 0 & -1 & 0 \\\\\n0 & 0 & 0 & 0 & 0 & -1\n\\end{pmatrix}\n}\n$$"
        }
    ]
}