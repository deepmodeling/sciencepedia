{
    "hands_on_practices": [
        {
            "introduction": "Understanding the performance of the steam turbine is central to modeling the power generation side of a Combined Heat and Power (CHP) plant. This practice applies the First Law of Thermodynamics and the concept of isentropic efficiency to bridge the gap between an ideal thermodynamic process and the actual work output of a real-world turbine. By calculating the power generated from given steam conditions and mass flow, you will gain a foundational skill in analyzing the core power block of a CHP system .",
            "id": "4079166",
            "problem": "A combined heat and power (CHP) plant uses a multistage back-pressure steam turbine to generate electricity and deliver exhaust steam at elevated pressure to a district heating heat exchanger. The turbine can be modeled as an adiabatic, steady-flow device with negligible changes in kinetic and potential energies. The inlet to the turbine is superheated steam at pressure $60~\\mathrm{bar}$ and temperature $500~^{\\circ}\\mathrm{C}$ with measured specific enthalpy $h_{1} = 3375~\\mathrm{kJ/kg}$ and specific entropy $s_{1} = 6.700~\\mathrm{kJ/(kg\\cdot K)}$. The turbine exhaust pressure is $3~\\mathrm{bar}$, and the exhaust state approaches saturation at this pressure. Saturated liquid and saturated vapor properties of water at $3~\\mathrm{bar}$ are given as:\n- $h_{f} = 561.38~\\mathrm{kJ/kg}$, $s_{f} = 1.8607~\\mathrm{kJ/(kg\\cdot K)}$,\n- $h_{g} = 2725.71~\\mathrm{kJ/kg}$, $s_{g} = 7.3540~\\mathrm{kJ/(kg\\cdot K)}$.\nThe overall turbine isentropic efficiency is $\\eta_{\\mathrm{is}} = 0.85$. The steam mass flow rate is $\\dot{m}_{s} = 14.8~\\mathrm{kg/s}$.\n\nStarting from the steady-flow energy equation (SFEE) and the definition of an isentropic (reversible adiabatic) process for a turbine, and using the standard mixture property relations for saturated water/steam, derive:\n1. The isentropic enthalpy drop per unit mass from the inlet state to the exhaust pressure, $\\Delta h_{\\mathrm{is}}$.\n2. The actual turbine specific work, $w_{\\mathrm{t}}$, in terms of $\\eta_{\\mathrm{is}}$ and $\\Delta h_{\\mathrm{is}}$.\n\nThen, compute the turbine shaft power $P_{ST}$ from $w_{\\mathrm{t}}$ and $\\dot{m}_{s}$. Express the final power in $\\mathrm{kW}$ and round the numerical answer to four significant figures.",
            "solution": "The problem is validated as scientifically grounded, well-posed, and objective. All necessary data are provided, and the setup describes a standard thermodynamic problem concerning a steam turbine in a combined heat and power plant. The provided steam properties, while not perfectly matching standard tables, are internally consistent and must be used as given. We can therefore proceed with the solution.\n\nThe problem asks for the derivation of the isentropic enthalpy drop and the actual specific work, followed by the calculation of the turbine shaft power.\n\nThe first step is to apply the Steady-Flow Energy Equation (SFEE) to the turbine, which is a control volume at steady state. The SFEE is given by:\n$$\n\\dot{Q} - \\dot{W} = \\dot{m} \\left( (h_{out} - h_{in}) + \\frac{V_{out}^2 - V_{in}^2}{2} + g(z_{out} - z_{in}) \\right)\n$$\nwhere $\\dot{Q}$ is the rate of heat transfer, $\\dot{W}$ is the power output, $\\dot{m}$ is the mass flow rate, $h$ is the specific enthalpy, $V$ is the velocity, and $z$ is the elevation.\n\nThe problem states that the turbine is adiabatic, so $\\dot{Q} = 0$. It also states that changes in kinetic and potential energies are negligible, so $\\frac{V_{out}^2 - V_{in}^2}{2} \\approx 0$ and $g(z_{out} - z_{in}) \\approx 0$. Let the inlet state be state $1$ and the actual exhaust state be state $2$. The SFEE simplifies to:\n$$\n-\\dot{W}_{t} = \\dot{m}_{s} (h_{2} - h_{1})\n$$\nwhere $\\dot{W}_t$ is the turbine shaft power. The specific work output, $w_t = \\frac{\\dot{W}_t}{\\dot{m}_s}$, is therefore:\n$$\nw_{t} = h_{1} - h_{2}\n$$\n\nAn ideal turbine operates isentropically (reversibly and adiabatically). For an isentropic expansion from state $1$ to the exhaust pressure $P_2$, the entropy remains constant, i.e., $s_{2s} = s_1$, where state $2s$ denotes the isentropic exhaust state. The ideal or isentropic specific work, $w_{is}$, is:\n$$\nw_{is} = h_{1} - h_{2s}\n$$\n\n1. **Derivation of the isentropic enthalpy drop, $\\Delta h_{\\mathrm{is}}$**\n\nThe isentropic enthalpy drop, $\\Delta h_{\\mathrm{is}}$, is defined as the decrease in enthalpy during an ideal isentropic expansion from the inlet state to the exhaust pressure.\n$$\n\\Delta h_{\\mathrm{is}} = h_{1} - h_{2s}\n$$\nThis is numerically equal to the isentropic specific work, $w_{is}$. To calculate its value, we first need to determine the properties at the isentropic exhaust state, $2s$.\n\nThe inlet state is given by $P_1 = 60~\\mathrm{bar}$, $h_1 = 3375~\\mathrm{kJ/kg}$, and $s_1 = 6.700~\\mathrm{kJ/(kg\\cdot K)}$.\nThe isentropic exhaust state $2s$ has pressure $P_{2s} = P_2 = 3~\\mathrm{bar}$ and specific entropy $s_{2s} = s_1 = 6.700~\\mathrm{kJ/(kg\\cdot K)}$.\n\nWe compare $s_{2s}$ with the saturation properties provided for water at $P_2 = 3~\\mathrm{bar}$:\n- Saturated liquid entropy, $s_f = 1.8607~\\mathrm{kJ/(kg\\cdot K)}$\n- Saturated vapor entropy, $s_g = 7.3540~\\mathrm{kJ/(kg\\cdot K)}$\n\nSince $s_f < s_{2s} < s_g$ ($1.8607 < 6.700 < 7.3540$), state $2s$ is a saturated liquid-vapor mixture. The quality (dryness fraction) at state $2s$, denoted by $x_{2s}$, is calculated using the relation:\n$$\ns_{2s} = s_f + x_{2s} s_{fg}\n$$\nwhere $s_{fg} = s_g - s_f$ is the entropy of vaporization.\n$$\ns_{fg} = 7.3540 - 1.8607 = 5.4933~\\mathrm{kJ/(kg\\cdot K)}\n$$\nSolving for $x_{2s}$:\n$$\nx_{2s} = \\frac{s_{2s} - s_f}{s_{fg}} = \\frac{6.700 - 1.8607}{5.4933} = \\frac{4.8393}{5.4933} \\approx 0.880956\n$$\nNow we can calculate the specific enthalpy at state $2s$, $h_{2s}$, using the quality $x_{2s}$ and the given saturation enthalpies at $3~\\mathrm{bar}$ ($h_f = 561.38~\\mathrm{kJ/kg}$, $h_g = 2725.71~\\mathrm{kJ/kg}$):\n$$\nh_{2s} = h_f + x_{2s} h_{fg}\n$$\nwhere $h_{fg} = h_g - h_f$ is the enthalpy of vaporization.\n$$\nh_{fg} = 2725.71 - 561.38 = 2164.33~\\mathrm{kJ/kg}\n$$\nSubstituting the value of $x_{2s}$:\n$$\nh_{2s} = 561.38 + \\left(\\frac{4.8393}{5.4933}\\right) \\times 2164.33 \\approx 561.38 + 1906.666 = 2468.046~\\mathrm{kJ/kg}\n$$\nFinally, the isentropic enthalpy drop is:\n$$\n\\Delta h_{\\mathrm{is}} = h_1 - h_{2s} = 3375 - 2468.046 = 906.954~\\mathrm{kJ/kg}\n$$\n\n2. **Derivation of the actual turbine specific work, $w_{\\mathrm{t}}$**\n\nThe isentropic efficiency of a turbine, $\\eta_{\\mathrm{is}}$, is defined as the ratio of the actual specific work output to the ideal (isentropic) specific work output.\n$$\n\\eta_{\\mathrm{is}} = \\frac{w_t}{w_{is}}\n$$\nAs established earlier, $w_t = h_1 - h_2$ and $w_{is} = h_1 - h_{2s} = \\Delta h_{\\mathrm{is}}$. Substituting these into the efficiency definition gives:\n$$\n\\eta_{\\mathrm{is}} = \\frac{h_1 - h_2}{h_1 - h_{2s}} = \\frac{w_t}{\\Delta h_{\\mathrm{is}}}\n$$\nRearranging this equation gives the expression for the actual turbine specific work, $w_t$, in terms of $\\eta_{\\mathrm{is}}$ and $\\Delta h_{\\mathrm{is}}$:\n$$\nw_t = \\eta_{\\mathrm{is}} \\times \\Delta h_{\\mathrm{is}}\n$$\nThis is the required derivation.\n\nNow, we compute the turbine shaft power, $P_{ST}$. The total power is the product of the steam mass flow rate, $\\dot{m}_s$, and the actual specific work, $w_t$.\n$$\nP_{ST} = \\dot{W}_t = \\dot{m}_s \\times w_t = \\dot{m}_s \\times \\eta_{\\mathrm{is}} \\times \\Delta h_{\\mathrm{is}}\n$$\nUsing the given values:\n- $\\dot{m}_s = 14.8~\\mathrm{kg/s}$\n- $\\eta_{\\mathrm{is}} = 0.85$\n- $\\Delta h_{\\mathrm{is}} = 906.954~\\mathrm{kJ/kg}$\n\n$$\nP_{ST} = 14.8~\\mathrm{kg/s} \\times 0.85 \\times 906.954~\\mathrm{kJ/kg}\n$$\n$$\nP_{ST} = 12.58~\\mathrm{kg/s} \\times 906.954~\\mathrm{kJ/kg} \\approx 11409.48~\\mathrm{kJ/s}\n$$\nSince $1~\\mathrm{kJ/s} = 1~\\mathrm{kW}$, the power is $P_{ST} \\approx 11409.48~\\mathrm{kW}$.\nThe problem requires the answer to be rounded to four significant figures.\n$$\nP_{ST} = 11410~\\mathrm{kW}\n$$",
            "answer": "$$\n\\boxed{11410}\n$$"
        },
        {
            "introduction": "The \"heat\" in CHP is made possible by efficient heat recovery, typically accomplished in a Heat Recovery Steam Generator (HRSG). This exercise explores how to model the performance of a counter-flow heat exchanger using the critical concept of the pinch point temperature difference, which limits the amount of heat that can be recovered. You will analyze how operational issues like fouling degrade performance and what corrective actions, such as increasing the gas turbine exhaust temperature, might be necessary to compensate, providing insight into real-world operational challenges .",
            "id": "4079210",
            "problem": "A natural-gas-fired Combined Heat and Power (CHP) plant uses a counter-flow Heat Recovery Steam Generator (HRSG) section to recover sensible heat from the Gas Turbine (GT) exhaust to heat a district heating water loop. Assume steady operation, negligible heat losses to the environment, constant specific heats, and that the minimum temperature approach (pinch) occurs at the cold end because the hot-stream heat capacity rate is smaller than the cold-stream heat capacity rate.\n\nThe GT exhaust (hot fluid) has mass flow rate $m_{g}$ and specific heat at constant pressure $c_{p,g}$, giving capacity rate $C_{h} = m_{g} c_{p,g}$. The district heating water (cold fluid) has mass flow rate $m_{w}$ and specific heat $c_{p,w}$, giving capacity rate $C_{c} = m_{w} c_{p,w}$. The water inlet temperature is $T_{w,\\mathrm{in}}$, and the GT exhaust inlet temperature to the HRSG is $T_{g,\\mathrm{in}}$. The HRSG pinch constraint at the cold end is enforced as $T_{g,\\mathrm{out}} - T_{w,\\mathrm{in}} = \\Delta T_{\\mathrm{pinch}}$, where $T_{g,\\mathrm{out}}$ is the GT exhaust outlet temperature from the HRSG.\n\nUsing the First Law of Thermodynamics for steady-flow heat exchange, the recovered heat $Q_{h}$ equals the enthalpy decrease of the hot stream and the enthalpy increase of the cold stream:\n$$Q_{h} = C_{h} \\left( T_{g,\\mathrm{in}} - T_{g,\\mathrm{out}} \\right) = C_{c} \\left( T_{w,\\mathrm{out}} - T_{w,\\mathrm{in}} \\right),$$\nsubject to the pinch constraint at the cold end.\n\nData:\n- $m_{g} = 50\\,\\mathrm{kg/s}$, $c_{p,g} = 1.10\\,\\mathrm{kJ/(kg\\cdot K)}$.\n- $m_{w} = 140\\,\\mathrm{kg/s}$, $c_{p,w} = 4.18\\,\\mathrm{kJ/(kg\\cdot K)}$.\n- $T_{w,\\mathrm{in}} = 60^\\circ\\mathrm{C}$.\n- Baseline GT exhaust temperature $T_{g,\\mathrm{in}} = 500^\\circ\\mathrm{C}$.\n- Baseline pinch $\\Delta T_{\\mathrm{pinch},0} = 15^\\circ\\mathrm{C}$.\n\nA fouling factor increase effectively raises the minimum approach temperature by $10^\\circ\\mathrm{C}$, so the new pinch is $\\Delta T_{\\mathrm{pinch},1} = \\Delta T_{\\mathrm{pinch},0} + 10^\\circ\\mathrm{C}$.\n\nTasks:\n1. Starting from the steady-flow energy balance and the cold-end pinch constraint, derive an expression for $Q_{h}$ as a function of $C_{h}$, $T_{g,\\mathrm{in}}$, $T_{w,\\mathrm{in}}$, and $\\Delta T_{\\mathrm{pinch}}$ when the pinch occurs at the cold end and limits the hot-stream outlet temperature.\n2. Compute the baseline recovered heat $Q_{h,0}$ for $\\Delta T_{\\mathrm{pinch},0}$.\n3. With the increased pinch $\\Delta T_{\\mathrm{pinch},1}$, compute the new recovered heat $Q_{h,1}$ and the degradation $\\Delta Q_{h} = Q_{h,1} - Q_{h,0}$.\n4. Determine the required GT exhaust temperature $T_{g,\\mathrm{in,req}}$ (with the fouled pinch $\\Delta T_{\\mathrm{pinch},1}$) that would restore the recovered heat to the baseline value $Q_{h,0}$.\n\nRound your final numerical answers to four significant figures. Express $Q_{h}$ and $\\Delta Q_{h}$ in $\\mathrm{MW}$ and the temperature in $^\\circ\\mathrm{C}$. Report your final numerical answers in the order: degradation in $Q_{h}$ (in $\\mathrm{MW}$), then required gas turbine exhaust temperature (in $^\\circ\\mathrm{C}$).",
            "solution": "The problem statement is first subjected to a rigorous validation process.\n\n### Step 1: Extract Givens\n- **System**: Counter-flow Heat Recovery Steam Generator (HRSG)\n- **Hot Fluid (Gas)**: Mass flow rate $m_{g} = 50\\,\\mathrm{kg/s}$, specific heat $c_{p,g} = 1.10\\,\\mathrm{kJ/(kg\\cdot K)}$, heat capacity rate $C_{h} = m_{g} c_{p,g}$.\n- **Cold Fluid (Water)**: Mass flow rate $m_{w} = 140\\,\\mathrm{kg/s}$, specific heat $c_{p,w} = 4.18\\,\\mathrm{kJ/(kg\\cdot K)}$, heat capacity rate $C_{c} = m_{w} c_{p,w}$.\n- **Inlet Temperatures**: Water inlet $T_{w,\\mathrm{in}} = 60^\\circ\\mathrm{C}$, baseline gas inlet $T_{g,\\mathrm{in}} = 500^\\circ\\mathrm{C}$.\n- **Assumptions**: Steady operation, negligible heat loss, constant specific heats.\n- **Pinch Constraint**: The minimum temperature approach occurs at the cold end, where $T_{g,\\mathrm{out}} - T_{w,\\mathrm{in}} = \\Delta T_{\\mathrm{pinch}}$. This is because the hot-stream heat capacity rate is smaller than the cold-stream heat capacity rate ($C_h < C_c$).\n- **Energy Balance**: $Q_{h} = C_{h} \\left( T_{g,\\mathrm{in}} - T_{g,\\mathrm{out}} \\right) = C_{c} \\left( T_{w,\\mathrm{out}} - T_{w,\\mathrm{in}} \\right)$.\n- **Pinch Values**: Baseline pinch $\\Delta T_{\\mathrm{pinch},0} = 15^\\circ\\mathrm{C}$. Fouled pinch $\\Delta T_{\\mathrm{pinch},1} = \\Delta T_{\\mathrm{pinch},0} + 10^\\circ\\mathrm{C} = 25^\\circ\\mathrm{C}$.\n- **Tasks**:\n  1. Derive an expression for $Q_{h}$ as a function of $C_{h}$, $T_{g,\\mathrm{in}}$, $T_{w,\\mathrm{in}}$, and $\\Delta T_{\\mathrm{pinch}}$.\n  2. Compute baseline recovered heat $Q_{h,0}$.\n  3. Compute new heat $Q_{h,1}$ and degradation $\\Delta Q_{h} = Q_{h,1} - Q_{h,0}$.\n  4. Determine the required $T_{g,\\mathrm{in,req}}$ to restore $Q_{h,0}$ with the fouled pinch $\\Delta T_{\\mathrm{pinch},1}$.\n- **Reporting**: Final numerical answers rounded to four significant figures. $Q_{h}$ and $\\Delta Q_{h}$ in $\\mathrm{MW}$, temperature in $^\\circ\\mathrm{C}$.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is evaluated against the validation criteria.\n- **Scientifically Grounded**: The problem is based on the First Law of Thermodynamics applied to a steady-flow heat exchanger, a standard topic in engineering thermodynamics and heat transfer. The concept of pinch point analysis is also a fundamental principle in heat exchanger design. The physical premise that the pinch occurs at the cold end is explicitly justified by the condition $C_h < C_c$. Let's verify this: $C_h = 50\\,\\mathrm{kg/s} \\times 1.10\\,\\mathrm{kJ/(kg\\cdot K)} = 55\\,\\mathrm{kW/K}$ and $C_c = 140\\,\\mathrm{kg/s} \\times 4.18\\,\\mathrm{kJ/(kg\\cdot K)} = 585.2\\,\\mathrm{kW/K}$. Since $55 < 585.2$, the condition holds true. The provided data values are physically realistic for a gas turbine and a district heating loop. The problem is scientifically sound.\n- **Well-Posed**: The problem is well-posed. It provides clear definitions, a governing equation, all necessary constraints and data, and a set of unambiguous tasks that lead to a unique solution.\n- **Objective**: The problem is stated in precise, objective, and quantitative terms, free of any subjective or speculative content.\n\nAll other invalidity criteria are checked and not found. The problem is self-contained, consistent, and scientifically formalizable.\n\n### Step 3: Verdict and Action\nThe problem is deemed **valid**. A full solution will be provided.\n\nThe solution proceeds by addressing the four tasks outlined in the problem statement. First, we calculate the heat capacity rates, which are constant throughout the problem. Note that a temperature difference in Kelvin is numerically equal to a temperature difference in degrees Celsius, so the units $\\mathrm{kJ/(kg\\cdot K)}$ and $\\mathrm{kJ/(kg\\cdot ^\\circ C)}$ can be used interchangeably when dealing with temperature differences.\n\nHot stream (gas) heat capacity rate:\n$$C_{h} = m_{g} c_{p,g} = (50\\,\\mathrm{kg/s}) \\times (1.10\\,\\mathrm{kJ/(kg\\cdot K)}) = 55\\,\\mathrm{kW/K}$$\nCold stream (water) heat capacity rate:\n$$C_{c} = m_{w} c_{p,w} = (140\\,\\mathrm{kg/s}) \\times (4.18\\,\\mathrm{kJ/(kg\\cdot K)}) = 585.2\\,\\mathrm{kW/K}$$\n\n**Task 1: Derive an expression for $Q_{h}$**\n\nThe rate of heat recovered, $Q_{h}$, is given by the enthalpy change of the hot stream:\n$$Q_{h} = C_{h} (T_{g,\\mathrm{in}} - T_{g,\\mathrm{out}})$$\nThe problem states that the heat exchange is limited by the pinch point constraint at the cold end of the heat exchanger. This constraint defines the minimum possible outlet temperature for the hot gas stream:\n$$T_{g,\\mathrm{out}} - T_{w,\\mathrm{in}} = \\Delta T_{\\mathrm{pinch}}$$\nWe can express the gas outlet temperature, $T_{g,\\mathrm{out}}$, in terms of the known water inlet temperature and the pinch temperature difference:\n$$T_{g,\\mathrm{out}} = T_{w,\\mathrm{in}} + \\Delta T_{\\mathrm{pinch}}$$\nSubstituting this expression for $T_{g,\\mathrm{out}}$ into the energy balance equation for $Q_{h}$ yields the desired relationship:\n$$Q_{h} = C_{h} (T_{g,\\mathrm{in}} - (T_{w,\\mathrm{in}} + \\Delta T_{\\mathrm{pinch}}))$$\n$$Q_{h} = C_{h} (T_{g,\\mathrm{in}} - T_{w,\\mathrm{in}} - \\Delta T_{\\mathrm{pinch}})$$\nThis equation expresses the recovered heat as a function of the hot stream's capacity rate and the temperatures that define the overall thermal driving force, limited by the pinch.\n\n**Task 2: Compute the baseline recovered heat $Q_{h,0}$**\n\nUsing the derived expression and the baseline operating conditions:\n- $C_{h} = 55\\,\\mathrm{kW/K}$\n- $T_{g,\\mathrm{in}} = 500^\\circ\\mathrm{C}$\n- $T_{w,\\mathrm{in}} = 60^\\circ\\mathrm{C}$\n- $\\Delta T_{\\mathrm{pinch},0} = 15^\\circ\\mathrm{C}$\n\nThe baseline recovered heat, $Q_{h,0}$, is:\n$$Q_{h,0} = 55\\,\\mathrm{kW/K} \\times (500^\\circ\\mathrm{C} - 60^\\circ\\mathrm{C} - 15^\\circ\\mathrm{C})$$\n$$Q_{h,0} = 55 \\times (440 - 15)\\,\\mathrm{kW} = 55 \\times 425\\,\\mathrm{kW}$$\n$$Q_{h,0} = 23375\\,\\mathrm{kW} = 23.375\\,\\mathrm{MW}$$\nRounding to four significant figures, $Q_{h,0} = 23.38\\,\\mathrm{MW}$.\n\n**Task 3: Compute the new recovered heat $Q_{h,1}$ and the degradation $\\Delta Q_{h}$**\n\nFouling increases the pinch temperature to $\\Delta T_{\\mathrm{pinch},1} = 25^\\circ\\mathrm{C}$. All other parameters remain the same. The new recovered heat, $Q_{h,1}$, is:\n$$Q_{h,1} = C_{h} (T_{g,\\mathrm{in}} - T_{w,\\mathrm{in}} - \\Delta T_{\\mathrm{pinch},1})$$\n$$Q_{h,1} = 55\\,\\mathrm{kW/K} \\times (500^\\circ\\mathrm{C} - 60^\\circ\\mathrm{C} - 25^\\circ\\mathrm{C})$$\n$$Q_{h,1} = 55 \\times (440 - 25)\\,\\mathrm{kW} = 55 \\times 415\\,\\mathrm{kW}$$\n$$Q_{h,1} = 22825\\,\\mathrm{kW} = 22.825\\,\\mathrm{MW}$$\nThe degradation in recovered heat is the difference $\\Delta Q_{h} = Q_{h,1} - Q_{h,0}$:\n$$\\Delta Q_{h} = 22825\\,\\mathrm{kW} - 23375\\,\\mathrm{kW} = -550\\,\\mathrm{kW}$$\n$$\\Delta Q_{h} = -0.55\\,\\mathrm{MW}$$\nRounding to four significant figures, the degradation is $\\Delta Q_{h} = -0.5500\\,\\mathrm{MW}$.\n\n**Task 4: Determine the required GT exhaust temperature $T_{g,\\mathrm{in,req}}$**\n\nThis task requires finding the new gas inlet temperature, $T_{g,\\mathrm{in,req}}$, that restores the recovered heat to its baseline value, $Q_{h,0} = 23375\\,\\mathrm{kW}$, under the fouled condition with $\\Delta T_{\\mathrm{pinch},1} = 25^\\circ\\mathrm{C}$. We rearrange the derived expression for $Q_h$ to solve for $T_{g,\\mathrm{in}}$:\n$$T_{g,\\mathrm{in}} = \\frac{Q_{h}}{C_{h}} + T_{w,\\mathrm{in}} + \\Delta T_{\\mathrm{pinch}}$$\nSubstituting the required values:\n$$T_{g,\\mathrm{in,req}} = \\frac{23375\\,\\mathrm{kW}}{55\\,\\mathrm{kW/K}} + 60^\\circ\\mathrm{C} + 25^\\circ\\mathrm{C}$$\n$$T_{g,\\mathrm{in,req}} = 425^\\circ\\mathrm{C} + 60^\\circ\\mathrm{C} + 25^\\circ\\mathrm{C}$$\n$$T_{g,\\mathrm{in,req}} = 510^\\circ\\mathrm{C}$$\nThis is an exact result. To report to four significant figures, we write $510.0^\\circ\\mathrm{C}$. This result demonstrates that to counteract the $10^\\circ\\mathrm{C}$ increase in the minimum temperature approach (pinch), the inlet temperature of the hot gas must be raised by the same amount ($10^\\circ\\mathrm{C}$) to maintain the same heat duty, as all other parameters are held constant.\n\nThe final numerical answers requested are the degradation $\\Delta Q_{h}$ in $\\mathrm{MW}$ and the required temperature $T_{g,\\mathrm{in,req}}$ in $^\\circ\\mathrm{C}$.\n- $\\Delta Q_{h} = -0.5500\\,\\mathrm{MW}$\n- $T_{g,\\mathrm{in,req}} = 510.0^\\circ\\mathrm{C}$",
            "answer": "$$\\boxed{\\begin{pmatrix} -0.5500 & 510.0 \\end{pmatrix}}$$"
        },
        {
            "introduction": "To integrate a CHP plant into a larger energy system for economic dispatch or capacity planning, its physical operating logic must be translated into a mathematical form. This practice introduces the essential technique of using Big-$M$ constraints to model the unit's on/off status and its minimum and maximum load requirements within a mixed-integer linear programming framework. Mastering this formulation is crucial for building sophisticated optimization models that determine when and how to run the CHP plant most effectively .",
            "id": "4079173",
            "problem": "A Combined Heat and Power (CHP) unit produces electricity and heat simultaneously. Let the binary commitment variable be $u_t \\in \\{0,1\\}$ at time $t$, with $u_t = 0$ meaning the unit is offline and $u_t = 1$ meaning the unit is online. Let the decision variables be electric output $P_e \\ge 0$ and heat output $Q_h \\ge 0$ at a given time step. When the unit is online, these outputs must lie within known capacity bounds: $P_e^{min} \\le P_e \\le P_e^{max}$ and $Q_h^{min} \\le Q_h \\le Q_h^{max}$, all expressed in kilowatts (kW). When the unit is offline, both $P_e$ and $Q_h$ must be exactly zero.\n\nStarting only from the following modeling primitives and facts:\n- Binary variable semantics: $u_t \\in \\{0,1\\}$ encodes an on/off decision, and logical implications can be linearized via Big-$M$ inequalities.\n- Nonnegativity of power and heat: $P_e \\ge 0$, $Q_h \\ge 0$.\n- Capacity limits observed in practice: $P_e \\in [0, P_e^{max}]$, $Q_h \\in [0, Q_h^{max}]$ when allowed, and minimum load thresholds when the unit is online.\n\nDerive a set of linear Big-$M$ constraints that implement the following logical conditions:\n- If $u_t = 0$, then $P_e = 0$ and $Q_h = 0$.\n- If $u_t = 1$, then $P_e^{min} \\le P_e \\le P_e^{max}$ and $Q_h^{min} \\le Q_h \\le Q_h^{max}$.\n\nYour derivation must demonstrate the choice of the smallest valid Big-$M$ constants to avoid numerical weakness in the linear programming relaxation. Explain why the chosen constants are correct and tight given the provided bounds.\n\nThen, implement a program that:\n1. Computes the recommended Big-$M$ constants for electricity and heat, denoted $M_e$ and $M_h$, from the given capacity bounds.\n2. Verifies, for each test case, that the derived constraints correctly enforce zero outputs when $u_t=1$, enforce minimum loads when $u_t=1$, and do not exclude any admissible values within the capacity bounds when $u_t=1$.\n3. Uses a small positive tolerance $\\varepsilon = 10^{-6}$ kW to probe boundary behavior.\n\nUse the following test suite of capacity parameters, all in kilowatts (kW):\n- Test case $1$: $P_e^{min} = 50$, $P_e^{max} = 200$, $Q_h^{min} = 100$, $Q_h^{max} = 400$.\n- Test case $2$: $P_e^{min} = 0$, $P_e^{max} = 150$, $Q_h^{min} = 0$, $Q_h^{max} = 300$.\n- Test case $3$: $P_e^{min} = 100$, $P_e^{max} = 100$, $Q_h^{min} = 250$, $Q_h^{max} = 250$.\n- Test case $4$: $P_e^{min} = 2000$, $P_e^{max} = 5000$, $Q_h^{min} = 3000$, $Q_h^{max} = 7000$.\n- Test case $5$: $P_e^{min} = 5.0$, $P_e^{max} = 5.5$, $Q_h^{min} = 12.0$, $Q_h^{max} = 12.5$.\n\nFor each test case, produce a boolean indicating whether the constraints pass all of the following checks:\n- Offline correctness: With $u_t = 0$, the assignment $(P_e, Q_h) = (0,0)$ is feasible, and any assignment with $P_e = \\varepsilon$ and $Q_h = 0$, or $P_e = 0$ and $Q_h = \\varepsilon$, is infeasible.\n- Online correctness: With $u_t = 1$, the assignment $(P_e, Q_h) = \\left(\\frac{P_e^{min} + P_e^{max}}{2}, \\frac{Q_h^{min} + Q_h^{max}}{2}\\right)$ is feasible; $(P_e, Q_h) = (P_e^{max} + \\varepsilon, Q_h^{max} + \\varepsilon)$ is infeasible; and, when $P_e^{min} > 0$, $(P_e, Q_h) = (P_e^{min} - \\varepsilon, Q_h)$ is infeasible for any nonnegative $Q_h$, and similarly when $Q_h^{min} > 0$, $(P_e, Q_h) = (P_e, Q_h^{min} - \\varepsilon)$ is infeasible for any nonnegative $P_e$.\n- Tightness of Big-$M$: The chosen $M_e$ and $M_h$ equal the smallest valid values consistent with the capacity bounds.\n\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets (e.g., \"[result1,result2,result3,result4,result5]\"). Each result must be a boolean. There is no angle involved, so no angle unit is required. All physical quantities in the parameters use kilowatts (kW).",
            "solution": "The task is to derive and verify a set of linear constraints that model the operational logic of a Combined Heat and Power (CHP) unit. The logic depends on a binary commitment variable $u_t \\in \\{0, 1\\}$, which indicates if the unit is offline ($u_t=0$) or online ($u_t=1$). The continuous decision variables are the electric power output $P_e$ and heat output $Q_h$. All physical quantities are in kilowatts (kW).\n\nThe specified logical conditions are:\n1. If $u_t = 0$, then $P_e = 0$ and $Q_h = 0$.\n2. If $u_t = 1$, then $P_e$ and $Q_h$ must lie within their respective operational bounds: $P_e^{min} \\le P_e \\le P_e^{max}$ and $Q_h^{min} \\le Q_h \\le Q_h^{max}$.\n\nWe also have the fundamental non-negativity constraints $P_e \\ge 0$ and $Q_h \\ge 0$. The derivation will use the Big-$M$ formulation technique to linearize these logical implications. We will drop the time subscript $t$ for notational simplicity, as the constraints apply at each time step independently.\n\n**Derivation of Constraints**\n\nWe will formulate four linear inequalities that collectively enforce the specified behavior.\n\n**1. Upper Bounds on Power and Heat**\n\nThis set of constraints enforces that if the unit is offline ($u=0$), the outputs must be zero. They also serve as the upper capacity limits when the unit is online ($u=1$).\n\nConsider the electric power output $P_e$. The condition is that if $u=0$, then $P_e=0$. Combined with the non-negativity $P_e \\ge 0$, this requires $P_e \\le 0$. A standard Big-$M$ constraint to model this is:\n$$P_e \\le M_e \\cdot u$$\nIf $u=0$, this inequality becomes $P_e \\le 0$. Together with $P_e \\ge 0$, this correctly forces $P_e=0$.\nIf $u=1$, the inequality becomes $P_e \\le M_e$. For this constraint to be valid, it must not improperly restrict the operation of the unit. When online, the power output can be any value up to its maximum capacity, $P_e^{max}$. Therefore, the point $(u, P_e) = (1, P_e^{max})$ must be feasible. Substituting this into the inequality yields $P_e^{max} \\le M_e$. To ensure the tightest possible formulation, which is crucial for the numerical stability and efficiency of mixed-integer linear programming solvers, we must choose the smallest valid value for the Big-$M$ constant $M_e$. The smallest value that satisfies $M_e \\ge P_e^{max}$ is $M_e = P_e^{max}$.\n\nThus, the first constraint for electric power is:\n$$P_e \\le P_e^{max} \\cdot u$$\nThis single constraint correctly enforces $P_e=0$ when $u=0$ (given $P_e \\ge 0$) and $P_e \\le P_e^{max}$ when $u=1$.\n\nBy identical reasoning for the heat output $Q_h$, with a maximum capacity $Q_h^{max}$, the tightest Big-$M$ constant is $M_h = Q_h^{max}$, and the corresponding constraint is:\n$$Q_h \\le Q_h^{max} \\cdot u$$\n\n**2. Lower Bounds on Power and Heat**\n\nThis set of constraints enforces the minimum stable load requirement when the unit is online ($u=1$).\n\nConsider the electric power output $P_e$. The condition is that if $u=1$, then $P_e \\ge P_e^{min}$. We require a linear constraint that is active only when $u=1$. A suitable formulation is:\n$$P_e \\ge P_e^{min} \\cdot u$$\nIf $u=1$, the inequality becomes $P_e \\ge P_e^{min}$, which is the desired minimum load constraint.\nIf $u=0$, the inequality becomes $P_e \\ge 0$. This is consistent with the non-negativity of power and the previously derived condition that $P_e=0$ when the unit is offline.\n\nBy identical reasoning for the heat output $Q_h$, which has a minimum stable load of $Q_h^{min}$, the constraint is:\n$$Q_h \\ge Q_h^{min} \\cdot u$$\n\n**Summary of the Final Model**\n\nThe complete set of linear inequalities that models the CHP unit's operational logic is:\n1.  $P_e \\ge P_e^{min} \\cdot u$\n2.  $P_e \\le P_e^{max} \\cdot u$\n3.  $Q_h \\ge Q_h^{min} \\cdot u$\n4.  $Q_h \\le Q_h^{max} \\cdot u$\n\nThese four constraints, combined with the binary nature of $u \\in \\{0, 1\\}$, fully specify the feasible operating region for $P_e$ and $Q_h$. The non-negativity constraints $P_e \\ge 0$ and $Q_h \\ge 0$ are implicitly satisfied by this formulation, as the physical minimum load levels are always non-negative ($P_e^{min} \\ge 0$ and $Q_h^{min} \\ge 0$). The Big-$M$ constants required by the problem are identified as $M_e = P_e^{max}$ and $M_h = Q_h^{max}$, and this choice has been shown to be the smallest possible, thus \"tightest\". The following Python program computes these constants and verifies the correctness of the derived constraints against a suite of test cases.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Derives and verifies Big-M constraints for a Combined Heat and Power (CHP) unit.\n    \"\"\"\n    \n    # Define the test cases from the problem statement.\n    # Each case is a tuple: (Pe_min, Pe_max, Qh_min, Qh_max) in kW.\n    test_cases = [\n        (50.0, 200.0, 100.0, 400.0),\n        (0.0, 150.0, 0.0, 300.0),\n        (100.0, 100.0, 250.0, 250.0),\n        (2000.0, 5000.0, 3000.0, 7000.0),\n        (5.0, 5.5, 12.0, 12.5),\n    ]\n\n    # Tolerance for boundary checks.\n    epsilon = 1e-6\n\n    def verify_constraints(params):\n        \"\"\"\n        Verifies the derived constraints for a single set of parameters.\n        \n        Args:\n            params (tuple): A tuple containing (Pe_min, Pe_max, Qh_min, Qh_max).\n            \n        Returns:\n            bool: True if all checks pass, False otherwise.\n        \"\"\"\n        Pe_min, Pe_max, Qh_min, Qh_max = params\n\n        # 1. Compute the recommended (tightest) Big-M constants.\n        M_e = Pe_max\n        M_h = Qh_max\n\n        def check_all_constraints(u, Pe, Qh):\n            \"\"\"Evaluate if a point (u, Pe, Qh) satisfies all four constraints.\"\"\"\n            c1 = Pe >= Pe_min * u - epsilon # Add tolerance for float comparison\n            c2 = Pe = Pe_max * u + epsilon # Add tolerance for float comparison\n            c3 = Qh >= Qh_min * u - epsilon # Add tolerance for float comparison\n            c4 = Qh = Qh_max * u + epsilon # Add tolerance for float comparison\n            return c1 and c2 and c3 and c4\n\n        # 2. Perform verification checks.\n        \n        # Check 1: Tightness of Big-M\n        # This is true by our definition, as we chose the smallest valid values.\n        tightness_ok = (M_e == Pe_max) and (M_h == Qh_max)\n\n        # Check 2: Offline correctness (u=0)\n        u_offline = 0\n        \n        # Check 2a: (Pe, Qh) = (0, 0) must be feasible.\n        offline_check_feasible_zero = check_all_constraints(u_offline, 0.0, 0.0)\n        \n        # Check 2b: A small positive output must be infeasible.\n        offline_check_infeasible_pe = not check_all_constraints(u_offline, epsilon, 0.0)\n        offline_check_infeasible_qh = not check_all_constraints(u_offline, 0.0, epsilon)\n        \n        offline_ok = (offline_check_feasible_zero and \n                      offline_check_infeasible_pe and \n                      offline_check_infeasible_qh)\n\n        # Check 3: Online correctness (u=1)\n        u_online = 1\n        \n        # Mid-point values for testing feasibility within the range.\n        Pe_mid = (Pe_min + Pe_max) / 2.0\n        Qh_mid = (Qh_min + Qh_max) / 2.0\n        \n        # Check 3a: Mid-point must be feasible.\n        online_check_feasible_mid = check_all_constraints(u_online, Pe_mid, Qh_mid)\n        \n        # Check 3b: A point just above the max capacity must be infeasible.\n        online_check_infeasible_max = not check_all_constraints(u_online, Pe_max + epsilon, Qh_mid)\n        \n        # Check 3c: A point just below the min load (if > 0) must be infeasible.\n        online_check_infeasible_pe_min = True\n        if Pe_min > 0:\n            online_check_infeasible_pe_min = not check_all_constraints(u_online, Pe_min - epsilon, Qh_mid)\n\n        # Check 3d: A point just below the min heat load (if > 0) must be infeasible.\n        online_check_infeasible_qh_min = True\n        if Qh_min > 0:\n            online_check_infeasible_qh_min = not check_all_constraints(u_online, Pe_mid, Qh_min - epsilon)\n            \n        online_ok = (online_check_feasible_mid and \n                     online_check_infeasible_max and \n                     online_check_infeasible_pe_min and \n                     online_check_infeasible_qh_min)\n\n        return tightness_ok and offline_ok and online_ok\n\n    results = []\n    for case in test_cases:\n        result = verify_constraints(case)\n        results.append(result)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results)).lower()}]\")\n\nsolve()\n```"
        }
    ]
}