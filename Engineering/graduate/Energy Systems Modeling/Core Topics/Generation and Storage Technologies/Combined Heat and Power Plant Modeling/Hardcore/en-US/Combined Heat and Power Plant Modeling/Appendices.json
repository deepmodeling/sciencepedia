{
    "hands_on_practices": [
        {
            "introduction": "The back-pressure steam turbine is a cornerstone of many combined heat and power systems, simultaneously generating electricity and providing useful steam for heating. To accurately model its contribution, we must quantify the conversion of thermal energy into mechanical work, accounting for real-world irreversibilities. This practice  will guide you through calculating the power output by first determining the ideal (isentropic) energy extraction and then applying the isentropic efficiency, $\\eta_{\\mathrm{is}}$, to find the actual work, a foundational skill in turbomachinery analysis.",
            "id": "4079166",
            "problem": "A combined heat and power (CHP) plant uses a multistage back-pressure steam turbine to generate electricity and deliver exhaust steam at elevated pressure to a district heating heat exchanger. The turbine can be modeled as an adiabatic, steady-flow device with negligible changes in kinetic and potential energies. The inlet to the turbine is superheated steam at pressure $60~\\mathrm{bar}$ and temperature $500~^{\\circ}\\mathrm{C}$ with measured specific enthalpy $h_{1} = 3375~\\mathrm{kJ/kg}$ and specific entropy $s_{1} = 6.700~\\mathrm{kJ/(kg\\cdot K)}$. The turbine exhaust pressure is $3~\\mathrm{bar}$, and the exhaust state approaches saturation at this pressure. Saturated liquid and saturated vapor properties of water at $3~\\mathrm{bar}$ are given as:\n- $h_{f} = 561.38~\\mathrm{kJ/kg}$, $s_{f} = 1.8607~\\mathrm{kJ/(kg\\cdot K)}$,\n- $h_{g} = 2725.71~\\mathrm{kJ/kg}$, $s_{g} = 7.3540~\\mathrm{kJ/(kg\\cdot K)}$.\nThe overall turbine isentropic efficiency is $\\eta_{\\mathrm{is}} = 0.85$. The steam mass flow rate is $\\dot{m}_{s} = 14.8~\\mathrm{kg/s}$.\n\nStarting from the steady-flow energy equation (SFEE) and the definition of an isentropic (reversible adiabatic) process for a turbine, and using the standard mixture property relations for saturated water/steam, derive:\n1. The isentropic enthalpy drop per unit mass from the inlet state to the exhaust pressure, $\\Delta h_{\\mathrm{is}}$.\n2. The actual turbine specific work, $w_{\\mathrm{t}}$, in terms of $\\eta_{\\mathrm{is}}$ and $\\Delta h_{\\mathrm{is}}$.\n\nThen, compute the turbine shaft power $P_{ST}$ from $w_{\\mathrm{t}}$ and $\\dot{m}_{s}$. Express the final power in $\\mathrm{kW}$ and round the numerical answer to four significant figures.",
            "solution": "The problem is validated as scientifically grounded, well-posed, and objective. All necessary data are provided, and the setup describes a standard thermodynamic problem concerning a steam turbine in a combined heat and power plant. The provided steam properties, while not perfectly matching standard tables, are internally consistent and must be used as given. We can therefore proceed with the solution.\n\nThe problem asks for the derivation of the isentropic enthalpy drop and the actual specific work, followed by the calculation of the turbine shaft power.\n\nThe first step is to apply the Steady-Flow Energy Equation (SFEE) to the turbine, which is a control volume at steady state. The SFEE is given by:\n$$\n\\dot{Q} - \\dot{W} = \\dot{m} \\left( (h_{out} - h_{in}) + \\frac{V_{out}^2 - V_{in}^2}{2} + g(z_{out} - z_{in}) \\right)\n$$\nwhere $\\dot{Q}$ is the rate of heat transfer, $\\dot{W}$ is the power output, $\\dot{m}$ is the mass flow rate, $h$ is the specific enthalpy, $V$ is the velocity, and $z$ is the elevation.\n\nThe problem states that the turbine is adiabatic, so $\\dot{Q} = 0$. It also states that changes in kinetic and potential energies are negligible, so $\\frac{V_{out}^2 - V_{in}^2}{2} \\approx 0$ and $g(z_{out} - z_{in}) \\approx 0$. Let the inlet state be state $1$ and the actual exhaust state be state $2$. The SFEE simplifies to:\n$$\n-\\dot{W}_{t} = \\dot{m}_{s} (h_{2} - h_{1})\n$$\nwhere $\\dot{W}_t$ is the turbine shaft power. The specific work output, $w_t = \\frac{\\dot{W}_t}{\\dot{m}_s}$, is therefore:\n$$\nw_{t} = h_{1} - h_{2}\n$$\n\nAn ideal turbine operates isentropically (reversibly and adiabatically). For an isentropic expansion from state $1$ to the exhaust pressure $P_2$, the entropy remains constant, i.e., $s_{2s} = s_1$, where state $2s$ denotes the isentropic exhaust state. The ideal or isentropic specific work, $w_{is}$, is:\n$$\nw_{is} = h_{1} - h_{2s}\n$$\n\n1. **Derivation of the isentropic enthalpy drop, $\\Delta h_{\\mathrm{is}}$**\n\nThe isentropic enthalpy drop, $\\Delta h_{\\mathrm{is}}$, is defined as the decrease in enthalpy during an ideal isentropic expansion from the inlet state to the exhaust pressure.\n$$\n\\Delta h_{\\mathrm{is}} = h_{1} - h_{2s}\n$$\nThis is numerically equal to the isentropic specific work, $w_{is}$. To calculate its value, we first need to determine the properties at the isentropic exhaust state, $2s$.\n\nThe inlet state is given by $P_1 = 60~\\mathrm{bar}$, $h_1 = 3375~\\mathrm{kJ/kg}$, and $s_1 = 6.700~\\mathrm{kJ/(kg\\cdot K)}$.\nThe isentropic exhaust state $2s$ has pressure $P_{2s} = P_2 = 3~\\mathrm{bar}$ and specific entropy $s_{2s} = s_1 = 6.700~\\mathrm{kJ/(kg\\cdot K)}$.\n\nWe compare $s_{2s}$ with the saturation properties provided for water at $P_2 = 3~\\mathrm{bar}$:\n- Saturated liquid entropy, $s_f = 1.8607~\\mathrm{kJ/(kg\\cdot K)}$\n- Saturated vapor entropy, $s_g = 7.3540~\\mathrm{kJ/(kg\\cdot K)}$\n\nSince $s_f  s_{2s}  s_g$ ($1.8607  6.700  7.3540$), state $2s$ is a saturated liquid-vapor mixture. The quality (dryness fraction) at state $2s$, denoted by $x_{2s}$, is calculated using the relation:\n$$\ns_{2s} = s_f + x_{2s} s_{fg}\n$$\nwhere $s_{fg} = s_g - s_f$ is the entropy of vaporization.\n$$\ns_{fg} = 7.3540 - 1.8607 = 5.4933~\\mathrm{kJ/(kg\\cdot K)}\n$$\nSolving for $x_{2s}$:\n$$\nx_{2s} = \\frac{s_{2s} - s_f}{s_{fg}} = \\frac{6.700 - 1.8607}{5.4933} = \\frac{4.8393}{5.4933} \\approx 0.880956\n$$\nNow we can calculate the specific enthalpy at state $2s$, $h_{2s}$, using the quality $x_{2s}$ and the given saturation enthalpies at $3~\\mathrm{bar}$ ($h_f = 561.38~\\mathrm{kJ/kg}$, $h_g = 2725.71~\\mathrm{kJ/kg}$):\n$$\nh_{2s} = h_f + x_{2s} h_{fg}\n$$\nwhere $h_{fg} = h_g - h_f$ is the enthalpy of vaporization.\n$$\nh_{fg} = 2725.71 - 561.38 = 2164.33~\\mathrm{kJ/kg}\n$$\nSubstituting the value of $x_{2s}$:\n$$\nh_{2s} = 561.38 + \\left(\\frac{4.8393}{5.4933}\\right) \\times 2164.33 \\approx 561.38 + 1906.666 = 2468.046~\\mathrm{kJ/kg}\n$$\nFinally, the isentropic enthalpy drop is:\n$$\n\\Delta h_{\\mathrm{is}} = h_1 - h_{2s} = 3375 - 2468.046 = 906.954~\\mathrm{kJ/kg}\n$$\n\n2. **Derivation of the actual turbine specific work, $w_{\\mathrm{t}}$**\n\nThe isentropic efficiency of a turbine, $\\eta_{\\mathrm{is}}$, is defined as the ratio of the actual specific work output to the ideal (isentropic) specific work output.\n$$\n\\eta_{\\mathrm{is}} = \\frac{w_t}{w_{is}}\n$$\nAs established earlier, $w_t = h_1 - h_2$ and $w_{is} = h_1 - h_{2s} = \\Delta h_{\\mathrm{is}}$. Substituting these into the efficiency definition gives:\n$$\n\\eta_{\\mathrm{is}} = \\frac{h_1 - h_2}{h_1 - h_{2s}} = \\frac{w_t}{\\Delta h_{\\mathrm{is}}}\n$$\nRearranging this equation gives the expression for the actual turbine specific work, $w_t$, in terms of $\\eta_{\\mathrm{is}}$ and $\\Delta h_{\\mathrm{is}}$:\n$$\nw_t = \\eta_{\\mathrm{is}} \\times \\Delta h_{\\mathrm{is}}\n$$\nThis is the required derivation.\n\nNow, we compute the turbine shaft power, $P_{ST}$. The total power is the product of the steam mass flow rate, $\\dot{m}_s$, and the actual specific work, $w_t$.\n$$\nP_{ST} = \\dot{W}_t = \\dot{m}_s \\times w_t = \\dot{m}_s \\times \\eta_{\\mathrm{is}} \\times \\Delta h_{\\mathrm{is}}\n$$\nUsing the given values:\n- $\\dot{m}_s = 14.8~\\mathrm{kg/s}$\n- $\\eta_{\\mathrm{is}} = 0.85$\n- $\\Delta h_{\\mathrm{is}} = 906.954~\\mathrm{kJ/kg}$\n\n$$\nP_{ST} = 14.8~\\mathrm{kg/s} \\times 0.85 \\times 906.954~\\mathrm{kJ/kg}\n$$\n$$\nP_{ST} = 12.58~\\mathrm{kg/s} \\times 906.954~\\mathrm{kJ/kg} \\approx 11409.48~\\mathrm{kJ/s}\n$$\nSince $1~\\mathrm{kJ/s} = 1~\\mathrm{kW}$, the power is $P_{ST} \\approx 11409.48~\\mathrm{kW}$.\nThe problem requires the answer to be rounded to four significant figures.\n$$\nP_{ST} = 11410~\\mathrm{kW}\n$$",
            "answer": "$$\n\\boxed{11410}\n$$"
        },
        {
            "introduction": "The efficiency of a CHP plant hinges on its ability to effectively recover waste heat, a task performed by components like the Heat Recovery Steam Generator (HRSG). The performance of these heat exchangers is not infinite but is limited by the minimum temperature approach, or \"pinch point.\" This exercise  provides hands-on practice in modeling heat transfer subject to a pinch constraint, $\\Delta T_{\\mathrm{pinch}}$, and analyzing how performance degrades due to real-world factors like fouling, developing your ability to connect physical phenomena to model parameters.",
            "id": "4079210",
            "problem": "A natural-gas-fired Combined Heat and Power (CHP) plant uses a counter-flow Heat Recovery Steam Generator (HRSG) section to recover sensible heat from the Gas Turbine (GT) exhaust to heat a district heating water loop. Assume steady operation, negligible heat losses to the environment, constant specific heats, and that the minimum temperature approach (pinch) occurs at the cold end because the hot-stream heat capacity rate is smaller than the cold-stream heat capacity rate.\n\nThe GT exhaust (hot fluid) has mass flow rate $m_{g}$ and specific heat at constant pressure $c_{p,g}$, giving capacity rate $C_{h} = m_{g} c_{p,g}$. The district heating water (cold fluid) has mass flow rate $m_{w}$ and specific heat $c_{p,w}$, giving capacity rate $C_{c} = m_{w} c_{p,w}$. The water inlet temperature is $T_{w,\\mathrm{in}}$, and the GT exhaust inlet temperature to the HRSG is $T_{g,\\mathrm{in}}$. The HRSG pinch constraint at the cold end is enforced as $T_{g,\\mathrm{out}} - T_{w,\\mathrm{in}} = \\Delta T_{\\mathrm{pinch}}$, where $T_{g,\\mathrm{out}}$ is the GT exhaust outlet temperature from the HRSG.\n\nUsing the First Law of Thermodynamics for steady-flow heat exchange, the recovered heat $Q_{h}$ equals the enthalpy decrease of the hot stream and the enthalpy increase of the cold stream:\n$$Q_{h} = C_{h} \\left( T_{g,\\mathrm{in}} - T_{g,\\mathrm{out}} \\right) = C_{c} \\left( T_{w,\\mathrm{out}} - T_{w,\\mathrm{in}} \\right),$$\nsubject to the pinch constraint at the cold end.\n\nData:\n- $m_{g} = 50\\,\\mathrm{kg/s}$, $c_{p,g} = 1.10\\,\\mathrm{kJ/(kg\\cdot K)}$.\n- $m_{w} = 140\\,\\mathrm{kg/s}$, $c_{p,w} = 4.18\\,\\mathrm{kJ/(kg\\cdot K)}$.\n- $T_{w,\\mathrm{in}} = 60^\\circ\\mathrm{C}$.\n- Baseline GT exhaust temperature $T_{g,\\mathrm{in}} = 500^\\circ\\mathrm{C}$.\n- Baseline pinch $\\Delta T_{\\mathrm{pinch},0} = 15^\\circ\\mathrm{C}$.\n\nA fouling factor increase effectively raises the minimum approach temperature by $10^\\circ\\mathrm{C}$, so the new pinch is $\\Delta T_{\\mathrm{pinch},1} = \\Delta T_{\\mathrm{pinch},0} + 10^\\circ\\mathrm{C}$.\n\nTasks:\n1. Starting from the steady-flow energy balance and the cold-end pinch constraint, derive an expression for $Q_{h}$ as a function of $C_{h}$, $T_{g,\\mathrm{in}}$, $T_{w,\\mathrm{in}}$, and $\\Delta T_{\\mathrm{pinch}}$ when the pinch occurs at the cold end and limits the hot-stream outlet temperature.\n2. Compute the baseline recovered heat $Q_{h,0}$ for $\\Delta T_{\\mathrm{pinch},0}$.\n3. With the increased pinch $\\Delta T_{\\mathrm{pinch},1}$, compute the new recovered heat $Q_{h,1}$ and the degradation $\\Delta Q_{h} = Q_{h,1} - Q_{h,0}$.\n4. Determine the required GT exhaust temperature $T_{g,\\mathrm{in,req}}$ (with the fouled pinch $\\Delta T_{\\mathrm{pinch},1}$) that would restore the recovered heat to the baseline value $Q_{h,0}$.\n\nRound your final numerical answers to four significant figures. Express $Q_{h}$ and $\\Delta Q_{h}$ in $\\mathrm{MW}$ and the temperature in $\\ ^\\circ\\mathrm{C}$. Report your final numerical answers in the order: degradation in $Q_{h}$ (in $\\mathrm{MW}$), then required gas turbine exhaust temperature (in $\\ ^\\circ\\mathrm{C}$).",
            "solution": "The problem statement is first subjected to a rigorous validation process.\n\n### Step 1: Extract Givens\n- **System**: Counter-flow Heat Recovery Steam Generator (HRSG)\n- **Hot Fluid (Gas)**: Mass flow rate $m_{g} = 50\\,\\mathrm{kg/s}$, specific heat $c_{p,g} = 1.10\\,\\mathrm{kJ/(kg\\cdot K)}$, heat capacity rate $C_{h} = m_{g} c_{p,g}$.\n- **Cold Fluid (Water)**: Mass flow rate $m_{w} = 140\\,\\mathrm{kg/s}$, specific heat $c_{p,w} = 4.18\\,\\mathrm{kJ/(kg\\cdot K)}$, heat capacity rate $C_{c} = m_{w} c_{p,w}$.\n- **Inlet Temperatures**: Water inlet $T_{w,\\mathrm{in}} = 60^\\circ\\mathrm{C}$, baseline gas inlet $T_{g,\\mathrm{in}} = 500^\\circ\\mathrm{C}$.\n- **Assumptions**: Steady operation, negligible heat loss, constant specific heats.\n- **Pinch Constraint**: The minimum temperature approach occurs at the cold end, where $T_{g,\\mathrm{out}} - T_{w,\\mathrm{in}} = \\Delta T_{\\mathrm{pinch}}$. This is because the hot-stream heat capacity rate is smaller than the cold-stream heat capacity rate ($C_h  C_c$).\n- **Energy Balance**: $Q_{h} = C_{h} \\left( T_{g,\\mathrm{in}} - T_{g,\\mathrm{out}} \\right) = C_{c} \\left( T_{w,\\mathrm{out}} - T_{w,\\mathrm{in}} \\right)$.\n- **Pinch Values**: Baseline pinch $\\Delta T_{\\mathrm{pinch},0} = 15^\\circ\\mathrm{C}$. Fouled pinch $\\Delta T_{\\mathrm{pinch},1} = \\Delta T_{\\mathrm{pinch},0} + 10^\\circ\\mathrm{C} = 25^\\circ\\mathrm{C}$.\n- **Tasks**:\n  1. Derive an expression for $Q_{h}$ as a function of $C_{h}$, $T_{g,\\mathrm{in}}$, $T_{w,\\mathrm{in}}$, and $\\Delta T_{\\mathrm{pinch}}$.\n  2. Compute baseline recovered heat $Q_{h,0}$.\n  3. Compute new heat $Q_{h,1}$ and degradation $\\Delta Q_{h} = Q_{h,1} - Q_{h,0}$.\n  4. Determine the required $T_{g,\\mathrm{in,req}}$ to restore $Q_{h,0}$ with the fouled pinch $\\Delta T_{\\mathrm{pinch},1}$.\n- **Reporting**: Final numerical answers rounded to four significant figures. $Q_{h}$ and $\\Delta Q_{h}$ in $\\mathrm{MW}$, temperature in $^\\circ\\mathrm{C}$.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is evaluated against the validation criteria.\n- **Scientifically Grounded**: The problem is based on the First Law of Thermodynamics applied to a steady-flow heat exchanger, a standard topic in engineering thermodynamics and heat transfer. The concept of pinch point analysis is also a fundamental principle in heat exchanger design. The physical premise that the pinch occurs at the cold end is explicitly justified by the condition $C_h  C_c$. Let's verify this: $C_h = 50\\,\\mathrm{kg/s} \\times 1.10\\,\\mathrm{kJ/(kg\\cdot K)} = 55\\,\\mathrm{kW/K}$ and $C_c = 140\\,\\mathrm{kg/s} \\times 4.18\\,\\mathrm{kJ/(kg\\cdot K)} = 585.2\\,\\mathrm{kW/K}$. Since $55  585.2$, the condition holds true. The provided data values are physically realistic for a gas turbine and a district heating loop. The problem is scientifically sound.\n- **Well-Posed**: The problem is well-posed. It provides clear definitions, a governing equation, all necessary constraints and data, and a set of unambiguous tasks that lead to a unique solution.\n- **Objective**: The problem is stated in precise, objective, and quantitative terms, free of any subjective or speculative content.\n\nAll other invalidity criteria are checked and not found. The problem is self-contained, consistent, and scientifically formalizable.\n\n### Step 3: Verdict and Action\nThe problem is deemed **valid**. A full solution will be provided.\n\nThe solution proceeds by addressing the four tasks outlined in the problem statement. First, we calculate the heat capacity rates, which are constant throughout the problem. Note that a temperature difference in Kelvin is numerically equal to a temperature difference in degrees Celsius, so the units $\\mathrm{kJ/(kg\\cdot K)}$ and $\\mathrm{kJ/(kg\\cdot ^\\circ C)}$ can be used interchangeably when dealing with temperature differences.\n\nHot stream (gas) heat capacity rate:\n$$C_{h} = m_{g} c_{p,g} = (50\\,\\mathrm{kg/s}) \\times (1.10\\,\\mathrm{kJ/(kg\\cdot K)}) = 55\\,\\mathrm{kW/K}$$\nCold stream (water) heat capacity rate:\n$$C_{c} = m_{w} c_{p,w} = (140\\,\\mathrm{kg/s}) \\times (4.18\\,\\mathrm{kJ/(kg\\cdot K)}) = 585.2\\,\\mathrm{kW/K}$$\n\n**Task 1: Derive an expression for $Q_{h}$**\n\nThe rate of heat recovered, $Q_{h}$, is given by the enthalpy change of the hot stream:\n$$Q_{h} = C_{h} (T_{g,\\mathrm{in}} - T_{g,\\mathrm{out}})$$\nThe problem states that the heat exchange is limited by the pinch point constraint at the cold end of the heat exchanger. This constraint defines the minimum possible outlet temperature for the hot gas stream:\n$$T_{g,\\mathrm{out}} - T_{w,\\mathrm{in}} = \\Delta T_{\\mathrm{pinch}}$$\nWe can express the gas outlet temperature, $T_{g,\\mathrm{out}}$, in terms of the known water inlet temperature and the pinch temperature difference:\n$$T_{g,\\mathrm{out}} = T_{w,\\mathrm{in}} + \\Delta T_{\\mathrm{pinch}}$$\nSubstituting this expression for $T_{g,\\mathrm{out}}$ into the energy balance equation for $Q_{h}$ yields the desired relationship:\n$$Q_{h} = C_{h} (T_{g,\\mathrm{in}} - (T_{w,\\mathrm{in}} + \\Delta T_{\\mathrm{pinch}}))$$\n$$Q_{h} = C_{h} (T_{g,\\mathrm{in}} - T_{w,\\mathrm{in}} - \\Delta T_{\\mathrm{pinch}})$$\nThis equation expresses the recovered heat as a function of the hot stream's capacity rate and the temperatures that define the overall thermal driving force, limited by the pinch.\n\n**Task 2: Compute the baseline recovered heat $Q_{h,0}$**\n\nUsing the derived expression and the baseline operating conditions:\n- $C_{h} = 55\\,\\mathrm{kW/K}$\n- $T_{g,\\mathrm{in}} = 500^\\circ\\mathrm{C}$\n- $T_{w,\\mathrm{in}} = 60^\\circ\\mathrm{C}$\n- $\\Delta T_{\\mathrm{pinch},0} = 15^\\circ\\mathrm{C}$\n\nThe baseline recovered heat, $Q_{h,0}$, is:\n$$Q_{h,0} = 55\\,\\mathrm{kW/K} \\times (500^\\circ\\mathrm{C} - 60^\\circ\\mathrm{C} - 15^\\circ\\mathrm{C})$$\n$$Q_{h,0} = 55 \\times (440 - 15)\\,\\mathrm{kW} = 55 \\times 425\\,\\mathrm{kW}$$\n$$Q_{h,0} = 23375\\,\\mathrm{kW} = 23.375\\,\\mathrm{MW}$$\nRounding to four significant figures, $Q_{h,0} = 23.38\\,\\mathrm{MW}$.\n\n**Task 3: Compute the new recovered heat $Q_{h,1}$ and the degradation $\\Delta Q_{h}$**\n\nFouling increases the pinch temperature to $\\Delta T_{\\mathrm{pinch},1} = 25^\\circ\\mathrm{C}$. All other parameters remain the same. The new recovered heat, $Q_{h,1}$, is:\n$$Q_{h,1} = C_{h} (T_{g,\\mathrm{in}} - T_{w,\\mathrm{in}} - \\Delta T_{\\mathrm{pinch},1})$$\n$$Q_{h,1} = 55\\,\\mathrm{kW/K} \\times (500^\\circ\\mathrm{C} - 60^\\circ\\mathrm{C} - 25^\\circ\\mathrm{C})$$\n$$Q_{h,1} = 55 \\times (440 - 25)\\,\\mathrm{kW} = 55 \\times 415\\,\\mathrm{kW}$$\n$$Q_{h,1} = 22825\\,\\mathrm{kW} = 22.825\\,\\mathrm{MW}$$\nThe degradation in recovered heat is the difference $\\Delta Q_{h} = Q_{h,1} - Q_{h,0}$:\n$$\\Delta Q_{h} = 22825\\,\\mathrm{kW} - 23375\\,\\mathrm{kW} = -550\\,\\mathrm{kW}$$\n$$\\Delta Q_{h} = -0.55\\,\\mathrm{MW}$$\nRounding to four significant figures, the degradation is $\\Delta Q_{h} = -0.5500\\,\\mathrm{MW}$.\n\n**Task 4: Determine the required GT exhaust temperature $T_{g,\\mathrm{in,req}}$**\n\nThis task requires finding the new gas inlet temperature, $T_{g,\\mathrm{in,req}}$, that restores the recovered heat to its baseline value, $Q_{h,0} = 23375\\,\\mathrm{kW}$, under the fouled condition with $\\Delta T_{\\mathrm{pinch},1} = 25^\\circ\\mathrm{C}$. We rearrange the derived expression for $Q_h$ to solve for $T_{g,\\mathrm{in}}$:\n$$T_{g,\\mathrm{in}} = \\frac{Q_{h}}{C_{h}} + T_{w,\\mathrm{in}} + \\Delta T_{\\mathrm{pinch}}$$\nSubstituting the required values:\n$$T_{g,\\mathrm{in,req}} = \\frac{23375\\,\\mathrm{kW}}{55\\,\\mathrm{kW/K}} + 60^\\circ\\mathrm{C} + 25^\\circ\\mathrm{C}$$\n$$T_{g,\\mathrm{in,req}} = 425^\\circ\\mathrm{C} + 60^\\circ\\mathrm{C} + 25^\\circ\\mathrm{C}$$\n$$T_{g,\\mathrm{in,req}} = 510^\\circ\\mathrm{C}$$\nThis is an exact result. To report to four significant figures, we write $510.0^\\circ\\mathrm{C}$. This result demonstrates that to counteract the $10^\\circ\\mathrm{C}$ increase in the minimum temperature approach (pinch), the inlet temperature of the hot gas must be raised by the same amount ($10^\\circ\\mathrm{C}$) to maintain the same heat duty, as all other parameters are held constant.\n\nThe final numerical answers requested are the degradation $\\Delta Q_{h}$ in $\\mathrm{MW}$ and the required temperature $T_{g,\\mathrm{in,req}}$ in $^\\circ\\mathrm{C}$.\n- $\\Delta Q_{h} = -0.5500\\,\\mathrm{MW}$\n- $T_{g,\\mathrm{in,req}} = 510.0^\\circ\\mathrm{C}$",
            "answer": "$$\\boxed{\\begin{pmatrix} -0.5500  510.0 \\end{pmatrix}}$$"
        },
        {
            "introduction": "While detailed thermodynamic models are crucial for component design, system-level operational planning requires more abstract representations that are computationally efficient. A common and powerful technique is to approximate the non-linear relationship between a plant's output and its efficiency using a piecewise-linear function. In this practice , you will construct such a model to calculate a CHP plant's fuel consumption under varying loads, a fundamental skill for developing economic dispatch and unit commitment models. Note that this exercise employs a simplified model where heat and power outputs are considered separable for pedagogical clarity.",
            "id": "4079192",
            "problem": "A combined heat and power (CHP) plant converts the chemical energy rate of a single fuel stream into both electricity and heat. Let the fuel mass flow rate be $\\,\\dot{m}_f(t)\\,$, and the Lower Heating Value (LHV) be $\\,H_{\\mathrm{L}}\\,$ in $\\mathrm{J/kg}$. By the First Law of Thermodynamics and the definition of efficiency, the fuel energy rate $\\,\\dot{m}_f(t) H_{\\mathrm{L}}\\,$ must equal the sum of the energy rates required to produce the electric and thermal outputs, adjusted by their respective part-load efficiencies. Assume separability of electric and thermal conversion streams. Let $\\,P_e(t)\\,$ be the electric power output and $\\,Q_h(t)\\,$ be the useful heat output, both nonnegative. Define part-load electric efficiency $\\,\\eta_e(P_e)\\,$ and part-load thermal efficiency $\\,\\eta_h(Q_h)\\,$. The instantaneous fuel energy rate is modeled as\n$$\n\\dot{m}_f(t) H_{\\mathrm{L}} \\;=\\; \\frac{P_e(t)}{\\eta_e\\!\\left(P_e(t)\\right)} \\;+\\; \\frac{Q_h(t)}{\\eta_h\\!\\left(Q_h(t)\\right)}.\n$$\nYou must derive a piecewise-linear approximation for $\\,\\eta_e(P_e)\\,$ and $\\,\\eta_h(Q_h)\\,$ over specified operating ranges and use them in the objective function to compute the minimal fuel consumption over given time horizons, under the assumption that $\\,P_e(t)\\,$ and $\\,Q_h(t)\\,$ are fixed demands that must be met in each time step and the plant operates within the defined ranges.\n\nFundamental base:\n- Conservation of energy for the plant under steady-state operation in each time step: the input fuel energy rate equals the sum of useful outputs and losses.\n- Efficiency definition for each stream: $\\,\\eta_e = \\frac{P_e}{\\text{fuel energy rate allocated to electricity}}\\,$, $\\,\\eta_h = \\frac{Q_h}{\\text{fuel energy rate allocated to heat}}\\,$.\n- Lower Heating Value (LHV) definition: the chemical energy per unit mass of fuel is $\\,H_{\\mathrm{L}}\\,$, so fuel energy rate is $\\,\\dot{m}_f H_{\\mathrm{L}}\\,$.\n\nApproximation mandate:\n- Approximate $\\,\\eta_e(P_e)\\,$ and $\\,\\eta_h(Q_h)\\,$ as piecewise-linear functions using breakpoints and linear interpolation between them. Values outside the ranges must be clipped to the nearest breakpoint to remain within physically defined operating bounds.\n\nOperating ranges and breakpoints:\n- Electric power breakpoints (in $\\mathrm{MW_e}$) and efficiencies:\n  $\\,P_e \\in [\\,20,\\,50,\\,80,\\,100\\,]\\,$ with $\\,\\eta_e \\in [\\,0.30,\\,0.35,\\,0.38,\\,0.40\\,]\\,$.\n- Thermal power breakpoints (in $\\mathrm{MW_{th}}$) and efficiencies:\n  $\\,Q_h \\in [\\,30,\\,80,\\,120\\,]\\,$ with $\\,\\eta_h \\in [\\,0.60,\\,0.70,\\,0.75\\,]\\,$.\n- Lower Heating Value:\n  $\\,H_{\\mathrm{L}} = 50 \\times 10^6\\,\\mathrm{J/kg}\\,$.\n\nUse linear interpolation between consecutive breakpoints $\\,x_k\\,$ and $\\,x_{k+1}\\,$ for any $\\,x\\in[x_k,x_{k+1}]\\,$ to define $\\,\\eta(x)\\,$. If $\\,x\\,$ is below the minimum breakpoint, set $\\,x\\,$ to the minimum; if above the maximum, set $\\,x\\,$ to the maximum. All inputs $\\,P_e(t)\\,$ and $\\,Q_h(t)\\,$ are given in $\\mathrm{MW}$ and must be converted to $\\mathrm{W}$ when computing $\\,\\dot{m}_f\\,$. The time step duration $\\,\\Delta t\\,$ is given in $\\mathrm{s}\\,$. The total fuel mass consumed over a horizon is\n$$\nm_{\\text{total}} \\;=\\; \\sum_{t} \\dot{m}_f(t) \\,\\Delta t,\n$$\nwhich must be expressed in $\\mathrm{kg}$.\n\nTest suite:\nProvide three test cases with specified time series for $\\,P_e(t)\\,$, $\\,Q_h(t)\\,$, and $\\,\\Delta t\\,$. For each case, compute the minimal total fuel mass $\\,m_{\\text{total}}\\,$ in $\\mathrm{kg}$ using the derived piecewise-linear efficiencies.\n\n- Test Case $\\,1\\,$ (happy path, all interior points):\n  - $\\,P_e(t)\\,$ in $\\mathrm{MW_e}$: $[\\,30,\\,55,\\,82,\\,95\\,]$.\n  - $\\,Q_h(t)\\,$ in $\\mathrm{MW_{th}}$: $[\\,40,\\,90,\\,110,\\,70\\,]$.\n  - $\\,\\Delta t\\,$ in $\\mathrm{s}$: $[\\,3600,\\,3600,\\,3600,\\,3600\\,]$.\n- Test Case $\\,2\\,$ (boundary conditions at minimum and maximum):\n  - $\\,P_e(t)\\,$ in $\\mathrm{MW_e}$: $[\\,20,\\,100\\,]$.\n  - $\\,Q_h(t)\\,$ in $\\mathrm{MW_{th}}$: $[\\,30,\\,120\\,]$.\n  - $\\,\\Delta t\\,$ in $\\mathrm{s}$: $[\\,3600,\\,3600\\,]$.\n- Test Case $\\,3\\,$ (mixed durations and exact breakpoints):\n  - $\\,P_e(t)\\,$ in $\\mathrm{MW_e}$: $[\\,20,\\,50,\\,100\\,]$.\n  - $\\,Q_h(t)\\,$ in $\\mathrm{MW_{th}}$: $[\\,120,\\,80,\\,30\\,]$.\n  - $\\,\\Delta t\\,$ in $\\mathrm{s}$: $[\\,1800,\\,7200,\\,1800\\,]$.\n\nYour program must:\n- Implement the piecewise-linear efficiency functions $\\,\\eta_e(P_e)\\,$ and $\\,\\eta_h(Q_h)\\,$ by linear interpolation over the given breakpoints.\n- Compute $\\,\\dot{m}_f(t)\\,$ for each time step and sum to obtain $\\,m_{\\text{total}}\\,$ for each test case.\n- Express the final results as three floating-point numbers representing total fuel mass in $\\mathrm{kg}$.\n- Produce a single line of output containing the results as a comma-separated list enclosed in square brackets, for example $\\,\\texttt{[result1,result2,result3]}\\,$. No additional text should be printed.",
            "solution": "The problem requires the computation of the total fuel mass consumed by a combined heat and power (CHP) plant over several time horizons. The plant's operation is dictated by specified time-varying demand for electricity and heat. The solution is derived by first modeling the plant's part-load efficiencies and then applying the principle of conservation of energy.\n\nThe fundamental governing equation for the CHP plant, as provided, is based on the First Law of Thermodynamics, stating that the rate of energy input from the fuel equals the sum of the rates of energy required to produce the useful electric and thermal outputs. This relationship is expressed as:\n$$\n\\dot{m}_f(t) H_{\\mathrm{L}} = \\frac{P_e(t)}{\\eta_e(P_e(t))} + \\frac{Q_h(t)}{\\eta_h(Q_h(t))}\n$$\nHere, $\\dot{m}_f(t)$ is the instantaneous fuel mass flow rate in $\\mathrm{kg/s}$, $H_{\\mathrm{L}}$ is the Lower Heating Value of the fuel in $\\mathrm{J/kg}$, $P_e(t)$ is the electrical power output in $\\mathrm{W}$, and $Q_h(t)$ is the useful thermal power output in $\\mathrm{W}$. The functions $\\eta_e(P_e)$ and $\\eta_h(Q_h)$ represent the part-load efficiencies for the electrical and thermal conversion processes, respectively. These efficiencies are dimensionless and vary with the output level.\n\nA key aspect of this problem is the modeling of the part-load efficiencies, $\\eta_e(P_e)$ and $\\eta_h(Q_h)$, as piecewise-linear functions. This is a common and practical approximation for the performance of thermal machinery. For any given input value $x$ (representing either $P_e$ or $Q_h$), the corresponding efficiency $\\eta(x)$ is determined by linear interpolation between the two nearest breakpoints that bracket $x$. Given two consecutive breakpoints $(x_k, y_k)$ and $(x_{k+1}, y_{k+1})$, where $y_k = \\eta(x_k)$, the efficiency for any $x \\in [x_k, x_{k+1}]$ is calculated as:\n$$\n\\eta(x) = y_k + (y_{k+1} - y_k) \\frac{x - x_k}{x_{k+1} - x_k}\n$$\nThe problem specifies that if an input value $x$ falls outside the defined range of breakpoints, it must be clipped to the nearest boundary. That is, if $x  \\min(x_{\\text{points}})$, we use $x = \\min(x_{\\text{points}})$, and if $x  \\max(x_{\\text{points}})$, we use $x = \\max(x_{\\text{points}})$. This ensures the plant operates within its defined physical limits.\n\nThe specific breakpoints are provided:\nFor electrical efficiency $\\eta_e(P_e)$:\n- Power breakpoints $P_e \\in [20, 50, 80, 100]$ in units of $\\mathrm{MW_e}$.\n- Corresponding efficiencies $\\eta_e \\in [0.30, 0.35, 0.38, 0.40]$.\n\nFor thermal efficiency $\\eta_h(Q_h)$:\n- Power breakpoints $Q_h \\in [30, 80, 120]$ in units of $\\mathrm{MW_{th}}$.\n- Corresponding efficiencies $\\eta_h \\in [0.60, 0.70, 0.75]$.\n\nTo calculate the total fuel mass, we first solve the governing equation for the instantaneous mass flow rate $\\dot{m}_f(t)$:\n$$\n\\dot{m}_f(t) = \\frac{1}{H_{\\mathrm{L}}} \\left( \\frac{P_e(t)}{\\eta_e(P_e(t))} + \\frac{Q_h(t)}{\\eta_h(Q_h(t))} \\right)\n$$\nIt is critical to maintain unit consistency. The given power demands $P_e(t)$ and $Q_h(t)$ are in megawatts ($\\mathrm{MW}$), while the LHV $H_{\\mathrm{L}}$ is in $\\mathrm{J/kg}$. Since $1\\,\\mathrm{W} = 1\\,\\mathrm{J/s}$, we must convert the power values to watts by multiplying by $10^6$. The LHV is given as $H_{\\mathrm{L}} = 50 \\times 10^6\\,\\mathrm{J/kg}$. With $P_e$ and $Q_h$ in $\\mathrm{W}$ (or $\\mathrm{J/s}$), the expression in the parenthesis has units of $\\mathrm{J/s}$, and dividing by $H_{\\mathrm{L}}$ in $\\mathrm{J/kg}$ correctly yields $\\dot{m}_f(t)$ in $\\mathrm{kg/s}$.\n\nThe total fuel mass, $m_{\\text{total}}$, consumed over a time horizon composed of discrete time steps is the sum of the mass consumed in each step. The mass consumed in a single time step of duration $\\Delta t$ is $\\dot{m}_f(t) \\Delta t$. Therefore, the total mass is:\n$$\nm_{\\text{total}} = \\sum_{t} m_t = \\sum_{t} \\dot{m}_f(t) \\Delta t\n$$\nThe computational algorithm for each test case is as follows:\n1. Initialize the total fuel mass for the case, $m_{\\text{total}} = 0$.\n2. For each time step $t$ in the provided time series:\n    a. Retrieve the demands $P_e(t)$ (in $\\mathrm{MW_e}$), $Q_h(t)$ (in $\\mathrm{MW_{th}}$), and the duration $\\Delta t$ (in $\\mathrm{s}$).\n    b. Calculate the part-load efficiencies $\\eta_e(P_e(t))$ and $\\eta_h(Q_h(t))$ using piecewise-linear interpolation with the provided breakpoints. The input power values for this interpolation are in $\\mathrm{MW}$.\n    c. Convert the power demands from $\\mathrm{MW}$ to $\\mathrm{W}$: $P_{e,W}(t) = P_e(t) \\times 10^6$ and $Q_{h,W}(t) = Q_h(t) \\times 10^6$.\n    d. Calculate the total fuel energy rate required: $\\dot{E}_{\\text{fuel}}(t) = \\frac{P_{e,W}(t)}{\\eta_e(P_e(t))} + \\frac{Q_{h,W}(t)}{\\eta_h(Q_h(t))}$.\n    e. Compute the instantaneous mass flow rate: $\\dot{m}_f(t) = \\dot{E}_{\\text{fuel}}(t) / H_{\\mathrm{L}}$.\n    f. Calculate the fuel mass for the time step: $m_t = \\dot{m}_f(t) \\times \\Delta t$.\n    g. Add this mass to the total: $m_{\\text{total}} = m_{\\text{total}} + m_t$.\n3. After iterating through all time steps, the final value of $m_{\\text{total}}$ is the result for the test case, expressed in $\\mathrm{kg}$. This procedure is repeated for all three test cases.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes the total fuel consumption for a CHP plant based on a piecewise-linear efficiency model.\n    \"\"\"\n\n    # Define the constants and breakpoints from the problem statement.\n    H_L = 50e6  # Lower Heating Value in J/kg\n\n    # Electric power breakpoints (MW) and corresponding efficiencies\n    P_e_breakpoints = np.array([20.0, 50.0, 80.0, 100.0])\n    eta_e_values = np.array([0.30, 0.35, 0.38, 0.40])\n\n    # Thermal power breakpoints (MW) and corresponding efficiencies\n    Q_h_breakpoints = np.array([30.0, 80.0, 120.0])\n    eta_h_values = np.array([0.60, 0.70, 0.75])\n\n    # Define the test cases\n    test_cases = [\n        # Test Case 1 (happy path, all interior points)\n        {\n            \"Pe_t\": [30.0, 55.0, 82.0, 95.0],  # MW_e\n            \"Qh_t\": [40.0, 90.0, 110.0, 70.0],  # MW_th\n            \"dt\":   [3600.0, 3600.0, 3600.0, 3600.0],  # s\n        },\n        # Test Case 2 (boundary conditions at minimum and maximum)\n        {\n            \"Pe_t\": [20.0, 100.0],\n            \"Qh_t\": [30.0, 120.0],\n            \"dt\":   [3600.0, 3600.0],\n        },\n        # Test Case 3 (mixed durations and exact breakpoints)\n        {\n            \"Pe_t\": [20.0, 50.0, 100.0],\n            \"Qh_t\": [120.0, 80.0, 30.0],\n            \"dt\":   [1800.0, 7200.0, 1800.0],\n        },\n    ]\n\n    results = []\n\n    for case in test_cases:\n        total_mass = 0.0\n        \n        # Unpack the time series for the current case\n        Pe_series = case[\"Pe_t\"]\n        Qh_series = case[\"Qh_t\"]\n        dt_series = case[\"dt\"]\n\n        # Iterate over each time step in the horizon\n        for Pe, Qh, dt in zip(Pe_series, Qh_series, dt_series):\n            # Calculate efficiencies using piecewise-linear interpolation.\n            # numpy.interp handles clipping for values outside the breakpoint range as specified.\n            eta_e = np.interp(Pe, P_e_breakpoints, eta_e_values)\n            eta_h = np.interp(Qh, Q_h_breakpoints, eta_h_values)\n\n            # Convert power from MW to W (1 MW = 1e6 W)\n            Pe_W = Pe * 1e6\n            Qh_W = Qh * 1e6\n\n            # Calculate the required fuel energy rate (in W or J/s)\n            # FuelEnergyRate = Pe / eta_e + Qh / eta_h\n            fuel_energy_rate = (Pe_W / eta_e) + (Qh_W / eta_h)\n\n            # Calculate the fuel mass flow rate (in kg/s)\n            # m_dot_f = FuelEnergyRate / H_L\n            m_dot_f = fuel_energy_rate / H_L\n\n            # Calculate the fuel mass for this time step (in kg)\n            mass_step = m_dot_f * dt\n\n            # Add to the total mass for the case\n            total_mass += mass_step\n        \n        results.append(total_mass)\n\n    # Final print statement in the apxact required format.\n    print(f\"[{','.join(f'{r:.6f}' for r in results)}]\")\n\nsolve()\n```"
        }
    ]
}