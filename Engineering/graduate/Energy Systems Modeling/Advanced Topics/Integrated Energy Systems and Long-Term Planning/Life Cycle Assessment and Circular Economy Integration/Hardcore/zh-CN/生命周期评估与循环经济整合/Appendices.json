{
    "hands_on_practices": [
        {
            "introduction": "任何严谨的生命周期评估都始于清晰明确的目标与范围定义。第一个实践练习聚焦于两个基石概念：功能单位和参考流。通过一个与当今能源系统密切相关的电池储能系统（BESS）案例，你将学习如何区分系统提供的抽象“服务”与交付该服务所需的具体物理“流”。掌握这种区分对于确保不同技术之间的比较是公平且有意义的至关重要。",
            "id": "4101059",
            "problem": "一个并网的锂离子电池储能系统（BESS）参与循环经济商业模式，在该模式下，它经过翻新并在多个服务生命周期中被重复使用。对于生命周期评估（LCA），其目标和范围定义采用的功能单位是：在稳定的环境条件下，于单个充放电循环期间，在并网点交付 $1 \\text{ MWh}$ 的电能。该电池表现出恒定的往返效率（Round-Trip Efficiency, RTE）为 $\\eta_{\\mathrm{RTE}} = 0.85$，该效率涵盖了循环过程中的充电、放电和辅助损耗。假设循环内无自放电或日历老化，并忽略待机能耗。\n\n仅使用LCA和能量转换的核心定义，并从第一性原理（能量守恒和效率定义为有用输出能量除以输入能量）出发，推导为满足该功能单位而必须输入电池的充电电量 $E_{\\mathrm{in}}$ 的表达式。解释在所选功能单位的LCA框架中，这个量如何体现为参考流。然后，当交付的功能单位为 $1 \\text{ MWh}$ 时，计算 $\\eta_{\\mathrm{RTE}} = 0.85$ 情况下 $E_{\\mathrm{in}}$ 的数值。将答案四舍五入至四位有效数字。以 $\\text{MWh}$ 为单位表示最终能量。",
            "solution": "问题要求推导电池储能系统（BESS）为提供特定功能单位的能量 $E_{\\mathrm{out}}$ 所需的充电能量 $E_{\\mathrm{in}}$ 的表达式，然后计算其数值。推导必须从第一性原理开始。\n\n让我们首先根据问题陈述来定义相关量。\n充电阶段供给电池的能量记为 $E_{\\mathrm{in}}$。\n放电阶段电池向电网输送的有用电能记为 $E_{\\mathrm{out}}$。\n在一个完整的充放电循环中，电池及其相关电力电子设备内部以热量和其他形式耗散的能量记为 $E_{\\mathrm{loss}}$。\n\n应用的第一个原理是能量守恒定律。对于包含BESS的系统边界，进入系统的总能量必须等于离开系统的有用能量与系统内损失或储存的能量之和。对于一个完整的充放电循环，电池的荷电状态回到初始值，因此储存能量的净变化为零。在给定的假设（无自放电，无日历老化）下，单个循环的能量平衡为：\n$$E_{\\mathrm{in}} = E_{\\mathrm{out}} + E_{\\mathrm{loss}}$$\n\n第二个原理是效率的定义。往返效率 $\\eta_{\\mathrm{RTE}}$ 定义为在一个完整循环中，有用输出能量与总输入能量之比。\n$$ \\eta_{\\mathrm{RTE}} = \\frac{\\text{有用输出能量}}{\\text{总输入能量}} $$\n使用我们定义的变量，这可以表示为：\n$$ \\eta_{\\mathrm{RTE}} = \\frac{E_{\\mathrm{out}}}{E_{\\mathrm{in}}} $$\n问题陈述指出 $\\eta_{\\mathrm{RTE}}$ 是一个常数，其值为 $0.85$。\n\n目标是求出必须供给电池的充电电量 $E_{\\mathrm{in}}$ 的表达式。我们可以重新排列效率方程来求解 $E_{\\mathrm{in}}$：\n$$ E_{\\mathrm{in}} = \\frac{E_{\\mathrm{out}}}{\\eta_{\\mathrm{RTE}}} $$\n这就是基于第一性原理推导出的所需输入能量的表达式。\n\n接下来，问题要求解释在生命周期评估（LCA）框架中，这个量 $E_{\\mathrm{in}}$ 如何体现为参考流。\n在LCA中，**功能单位** 是对所研究产品系统提供的功能或服务的量化度量。在这里，功能单位被明确定义为“在并网点交付 $1 \\text{ MWh}$ 的电能”。因此，$E_{\\mathrm{out}} = 1 \\text{ MWh}$。\n\n**参考流** 是为实现所定义的功能单位所需的产品量，或者在本例中，所需的能量输入量。它是抽象功能（功能单位）与LCA中盘查的物理流之间的桥梁。为了提供向电网输送 $E_{\\mathrm{out}} = 1 \\text{ MWh}$ 的服务，系统必须从电网获取特定量的电能 $E_{\\mathrm{in}}$ 用于充电。这个量 $E_{\\mathrm{in}}$ 是与提供该功能直接相关的主要输入流。因此，$E_{\\mathrm{in}}$ 是本次LCA的参考流。所有其他生命周期输入和输出（例如，制造材料、寿命终末废物）通常都相对于此参考流进行缩放。\n\n最后，我们必须计算 $E_{\\mathrm{in}}$ 的数值。\n问题提供了以下数值：\n功能单位，对应于有用能量输出：$E_{\\mathrm{out}} = 1 \\text{ MWh}$。\n往返效率：$\\eta_{\\mathrm{RTE}} = 0.85$。\n\n将这些值代入我们推导的 $E_{\\mathrm{in}}$ 表达式中：\n$$ E_{\\mathrm{in}} = \\frac{1 \\text{ MWh}}{0.85} $$\n进行计算：\n$$ E_{\\mathrm{in}} \\approx 1.176470588... \\text{ MWh} $$\n问题要求将答案四舍五入至四位有效数字。\n$$ E_{\\mathrm{in}} \\approx 1.176 \\text{ MWh} $$\n这意味着，为了输送 $1 \\text{ MWh}$ 的能量，电池必须用大约 $1.176 \\text{ MWh}$ 的能量进行充电，其差额 $0.176 \\text{ MWh}$ 因系统效率不足而作为热量损失。",
            "answer": "$$\\boxed{1.176}$$"
        },
        {
            "introduction": "将循环经济原则整合到生命周期评估中，需要我们超越对回收利用的简单假设。本实践练习将深入探讨回收回路的量化建模，引入材料质量下降（降级回收）和市场限制等关键的现实约束。你将推导出一个“有效替代分数”的表达式，它量化了在考虑供应可用性和功能性能后，原始材料被回收成分真正替代的程度。这个练习为你提供了一个关键工具，以准确评估循环策略的净环境效益。",
            "id": "4100984",
            "problem": "一个用于公用事业规模光伏逆变器外壳的聚合物组件，在一个能源系统建模框架内，使用生命周期评估（LCA）进行评估。功能单位是：在一个使用寿命内，为一个单位的外壳提供$1\\,\\mathrm{kg}$具有特定机械和热性能的聚合物。该聚合物在其寿命终结时进行机械回收，遵循以下循环参数：收集率 $c$，分拣和再处理产率 $y$，以及市场吸收上限 $m$。由于性能和规格限制，市场吸收上限 $m$ 限制了可由回收等级材料满足的原始功能质量需求的分数。机械回收产生一种降级再生材料，其单位质量的功能性能相对于原生聚合物有所降低，用质量因子 $q \\in [0,1]$ 表示。\n\n假设寿命终结时的回收系统具有以下数值指定的参数：$c = 0.75$，$y = 0.85$，$m = 0.80$ 和 $q = 0.65$。原生生产的从摇篮到大门的全球变暖潜能值（GWP）强度为 $I_{\\mathrm{v}}$，机械回收的从摇篮到大门的GWP强度为 $I_{\\mathrm{r}}$，其中 $I_{\\mathrm{v}}$ 和 $I_{\\mathrm{r}}$ 是有限的正常量，此处未给出具体数值。使用系统扩展方法，其中避免的环境负担被计算为功能等效的回收材料对原生生产的替代。有效替代分数 $s$ 定义为，在考虑了可用性限制和因降级再生导致的功能等效性降低后，被回收聚合物替代的原生聚合物功能单位的分数。\n\n从寿命终结流的质量守恒和LCA中要求替代物功能性能匹配的等效性原则出发，推导有效替代分数 $s$ 关于已定义参数的表达式，然后使用所提供的数据计算其数值。您必须确保您的推导遵循以下约束：由回收材料满足的原生需求分数不能超过市场吸收上限 $m$，也不能超过收集和产率损失后可用的回收质量。\n\n将您的最终数值结果四舍五入至四位有效数字，并以无量纲的小数分数表示。请勿在最终答案框中包含任何单位。",
            "solution": "该问题经确认为具有科学依据、问题明确且客观。它展示了生命周期评估（LCA）中关于将回收材料整合到产品系统中的一个标准情景，遵循了质量平衡和功能等效的既定原则。所提供的参数对于推导所要求的量是充分且一致的。\n\n目标是推导有效替代分数 $s$ 的表达式，然后计算其数值。分数 $s$ 代表被回收材料有效替代的原生聚合物功能单位的比例。这种替代受到材料可用性、处理产率、功能质量和市场吸收的限制。\n\n设功能单位是提供与 $M_{\\mathrm{FU}} = 1\\,\\mathrm{kg}$ 原生聚合物等效的功能。在其使用寿命结束时，这部分质量的聚合物 $M_{\\mathrm{EOL}} = M_{\\mathrm{FU}}$ 可用于回收。\n\n首先，我们确定从寿命终结材料中成功生产出的回收聚合物的质量。\n收集到的聚合物质量是总可用质量的一部分 $c$：\n$$M_{\\mathrm{coll}} = c \\cdot M_{\\mathrm{EOL}} = c \\cdot M_{\\mathrm{FU}}$$\n这部分收集的质量经过分拣和再处理，其产率为 $y$。因此，生产出的回收聚合物质量 $M_{\\mathrm{rec}}$ 为：\n$$M_{\\mathrm{rec}} = y \\cdot M_{\\mathrm{coll}} = y \\cdot (c \\cdot M_{\\mathrm{FU}}) = c \\cdot y \\cdot M_{\\mathrm{FU}}$$\n\n接下来，我们必须考虑回收聚合物的功能等效性。质量因子 $q$ 代表回收材料相对于原生材料的性能。质量为 $M_{\\mathrm{rec}}$ 的回收聚合物提供的功能与质量为 $q \\cdot M_{\\mathrm{rec}}$ 的原生聚合物相同。基于回收材料供应的总可用功能替代量为：\n$$F_{\\mathrm{avail}} = q \\cdot M_{\\mathrm{rec}} = q \\cdot c \\cdot y \\cdot M_{\\mathrm{FU}}$$\n这个量代表理论上可以被替代的原生聚合物的最大质量，仅受限于所生产回收材料的数量和质量。\n\n然而，还有第二个限制：市场吸收上限 $m$。该参数限制了可由回收等级材料满足的原始功能需求的分数。市场允许的最大功能替代量为：\n$$F_{\\mathrm{market}} = m \\cdot M_{\\mathrm{FU}}$$\n\n实际的功能替代量，我们可以表示为 $M_{\\mathrm{displaced}}$，受这两个因素中更严格的一个限制：可用的功能供应量和市场的吸收能力。因此，实际功能替代量是 $F_{\\mathrm{avail}}$ 和 $F_{\\mathrm{market}}$ 中的最小值：\n$$M_{\\mathrm{displaced}} = \\min(F_{\\mathrm{avail}}, F_{\\mathrm{market}}) = \\min(q \\cdot c \\cdot y \\cdot M_{\\mathrm{FU}}, m \\cdot M_{\\mathrm{FU}})$$\n\n有效替代分数 $s$ 定义为被替代的原生聚合物功能单位的分数。这是被替代的功能质量与总功能单位质量的比率：\n$$s = \\frac{M_{\\mathrm{displaced}}}{M_{\\mathrm{FU}}} = \\frac{\\min(q \\cdot c \\cdot y \\cdot M_{\\mathrm{FU}}, m \\cdot M_{\\mathrm{FU}})}{M_{\\mathrm{FU}}}$$\n简化此表达式得到 $s$ 的通用公式：\n$$s = \\min(q \\cdot c \\cdot y, m)$$\n\n现在，我们可以使用给定的参数计算 $s$ 的数值：\n$c = 0.75$\n$y = 0.85$\n$m = 0.80$\n$q = 0.65$\n\n首先，我们计算供应方限制项 $q \\cdot c \\cdot y$：\n$$q \\cdot c \\cdot y = 0.65 \\times 0.75 \\times 0.85$$\n$$q \\cdot c \\cdot y = 0.65 \\times 0.6375$$\n$$q \\cdot c \\cdot y = 0.414375$$\n\n接下来，我们将此值与市场吸收上限 $m$ 进行比较：\n$$m = 0.80$$\n\n我们应用最小值函数来求 $s$：\n$$s = \\min(0.414375, 0.80)$$\n由于 $0.414375  0.80$，有效替代受限于回收材料的可用性和质量，而不是市场的吸收能力。\n$$s = 0.414375$$\n\n问题要求将结果四舍五入到四位有效数字。\n$$s \\approx 0.4144$$\n这个无量纲值表明，每需要 $1\\,\\mathrm{kg}$ 的原生聚合物功能，指定的回收系统可以有效替代 $0.4144\\,\\mathrm{kg}$。GWP强度 $I_{\\mathrm{v}}$ 和 $I_{\\mathrm{r}}$ 虽然对于完整的LCA环境影响计算是相关的，但对于确定替代分数 $s$ 并非必需。",
            "answer": "$$\\boxed{0.4144}$$"
        },
        {
            "introduction": "确定性的生命周期评估模型提供了环境影响的单点估计值，但在现实中，许多输入参数都存在不确定性。这个高级实践将向你介绍全局敏感性分析，这是一种理解输入不确定性如何影响模型输出方差的强大技术。通过为电池的LCA模型推导和应用Sobol指数，你将定量地确定不同不确定性因素（例如电网碳强度与制造能耗）的相对重要性。对于任何旨在构建稳健模型并为决策者提供关键影响驱动因素洞察的能源系统建模者来说，这项技能都是不可或缺的。",
            "id": "4100998",
            "problem": "您正在为锂离子电池组的生命周期温室气体排放进行建模，通过报废回收材料抵免来整合循环经济效应，并使用基于方差的全局敏感性分析来量化参数不确定性。考虑一个标量生命周期评估 (LCA) 响应函数 $f$，它定义在两个独立的不确定性输入上：使用阶段充电期间的电网碳强度和制造能耗。令 $g$ 表示电网碳强度（单位 $\\mathrm{kg\\ CO_2/kWh}$），$M$ 表示制造能耗（单位 $\\mathrm{kWh}$），$U$ 表示生命周期充电用电量（单位 $\\mathrm{kWh}$），$g_m$ 表示制造电网碳强度（单位 $\\mathrm{kg\\ CO_2/kWh}$），$\\eta_r$ 表示通过闭环回收避免的制造能耗比例（无量纲），$B$ 表示不由 $g$ 或 $M$ 参数化的其他固定生命周期排放（单位 $\\mathrm{kg\\ CO_2}$），例如运输和非电力过程排放。在一个通过避免的制造能耗来整合循环经济效应的线性加性模型下，定义\n$$\nY = f(g,M) = g\\,U + g_m\\,M\\,(1-\\eta_r) + B,\n$$\n其中 $g$ 和 $M$ 是反映参数不确定性的独立随机变量，分别服从独立的连续均匀分布 $g \\sim \\mathcal{U}(g_a, g_b)$ 和 $M \\sim \\mathcal{U}(M_a, M_b)$。\n\n从方差分析-高维模型表示 (ANOVA–HDMR) 方差分解和一阶 Sobol 指数 $S_i = \\mathrm{Var}(\\mathbb{E}[Y|X_i])/\\mathrm{Var}(Y)$ 的定义出发，推导该模型的一阶 Sobol 指数 $S_g$ 和 $S_M$ 的闭式表达式。",
            "solution": "目标是为生命周期评估模型输出 $Y = f(g, M)$ 推导一阶 Sobol 指数 $S_g$ 和 $S_M$ 的闭式表达式。模型由下式给出：\n$$\nY = g\\,U + g_m\\,M\\,(1-\\eta_r) + B\n$$\n这里，$g$ 和 $M$ 是独立的随机变量，$U$、$g_m$、$\\eta_r$ 和 $B$ 是常数。为方便表示，令 $C_g = U$ 和 $C_M = g_m(1-\\eta_r)$。该模型可以写成：\n$$\nY = C_g g + C_M M + B\n$$\n这是一个关于其不确定性输入 $g$ 和 $M$ 的线性加性模型。\n\n输入 $X_i$ 的一阶 Sobol 指数定义为 $S_i = V_i / \\mathrm{Var}(Y)$，其中 $V_i = \\mathrm{Var}(\\mathbb{E}[Y | X_i])$ 是与 $X_i$ 相关的一阶部分方差。\n\n首先，我们计算输出的总方差 $\\mathrm{Var}(Y)$。由于 $g$ 和 $M$ 是独立的，并且 $C_g$、$C_M$ 和 $B$ 是常数，我们有：\n$$\n\\mathrm{Var}(Y) = \\mathrm{Var}(C_g g + C_M M + B)\n$$\n使用方差的性质，对于独立的 $A, B$，有 $\\mathrm{Var}(A+B) = \\mathrm{Var}(A) + \\mathrm{Var}(B)$，对于常数 $a, b$，有 $\\mathrm{Var}(aX+b) = a^2\\mathrm{Var}(X)$，我们得到：\n$$\n\\mathrm{Var}(Y) = \\mathrm{Var}(C_g g) + \\mathrm{Var}(C_M M) = C_g^2 \\mathrm{Var}(g) + C_M^2 \\mathrm{Var}(M)\n$$\n输入 $g$ 和 $M$ 服从连续均匀分布，$g \\sim \\mathcal{U}(g_a, g_b)$ 和 $M \\sim \\mathcal{U}(M_a, M_b)$。均匀分布 $\\mathcal{U}(a,b)$ 的方差为 $\\frac{(b-a)^2}{12}$。因此：\n$$\n\\mathrm{Var}(g) = \\frac{(g_b - g_a)^2}{12}\n$$\n$$\n\\mathrm{Var}(M) = \\frac{(M_b - M_a)^2}{12}\n$$\n将这些代入 $\\mathrm{Var}(Y)$ 的表达式中：\n$$\n\\mathrm{Var}(Y) = C_g^2 \\frac{(g_b - g_a)^2}{12} + C_M^2 \\frac{(M_b - M_a)^2}{12}\n$$\n\n接下来，我们推导 $g$ 的部分方差 $V_g = \\mathrm{Var}(\\mathbb{E}[Y | g])$。我们首先求在给定 $g$ 的条件下 $Y$ 的条件期望。\n$$\n\\mathbb{E}[Y | g] = \\mathbb{E}[C_g g + C_M M + B | g]\n$$\n根据期望的线性性质，并在期望中将 $g$ 视为常数：\n$$\n\\mathbb{E}[Y | g] = C_g g + C_M \\mathbb{E}[M | g] + B\n$$\n由于 $g$ 和 $M$ 是独立的，$\\mathbb{E}[M | g] = \\mathbb{E}[M]$。项 $\\mathbb{E}[M]$ 是一个常数。因此：\n$$\n\\mathbb{E}[Y | g] = C_g g + C_M \\mathbb{E}[M] + B\n$$\n现在，我们对这个表达式求关于 $g$ 的方差：\n$$\nV_g = \\mathrm{Var}(\\mathbb{E}[Y | g]) = \\mathrm{Var}(C_g g + C_M \\mathbb{E}[M] + B)\n$$\n由于 $C_M \\mathbb{E}[M]$ 和 $B$ 是常数，它们对方差没有贡献：\n$$\nV_g = \\mathrm{Var}(C_g g) = C_g^2 \\mathrm{Var}(g) = C_g^2 \\frac{(g_b - g_a)^2}{12}\n$$\n\n类似地，我们推导 $M$ 的部分方差 $V_M = \\mathrm{Var}(\\mathbb{E}[Y | M])$。\n$$\n\\mathbb{E}[Y | M] = \\mathbb{E}[C_g g + C_M M + B | M] = C_g \\mathbb{E}[g | M] + C_M M + B\n$$\n由于独立性，$\\mathbb{E}[g | M] = \\mathbb{E}[g]$，这是一个常数。\n$$\n\\mathbb{E}[Y | M] = C_g \\mathbb{E}[g] + C_M M + B\n$$\n对 $M$ 求方差：\n$$\nV_M = \\mathrm{Var}(\\mathbb{E}[Y | M]) = \\mathrm{Var}(C_g \\mathbb{E}[g] + C_M M + B) = \\mathrm{Var}(C_M M) = C_M^2 \\mathrm{Var}(M) = C_M^2 \\frac{(M_b - M_a)^2}{12}\n$$\n\n现在我们可以构建 Sobol 指数了。\n对于 $g$，一阶指数 $S_g$ 是：\n$$\nS_g = \\frac{V_g}{\\mathrm{Var}(Y)} = \\frac{C_g^2 \\mathrm{Var}(g)}{C_g^2 \\mathrm{Var}(g) + C_M^2 \\mathrm{Var}(M)} = \\frac{C_g^2 \\frac{(g_b-g_a)^2}{12}}{C_g^2 \\frac{(g_b-g_a)^2}{12} + C_M^2 \\frac{(M_b-M_a)^2}{12}}\n$$\n消去公因子 $1/12$ 并代回 $C_g = U$ 和 $C_M = g_m(1-\\eta_r)$：\n$$\nS_g = \\frac{U^2(g_b-g_a)^2}{U^2(g_b-g_a)^2 + (g_m(1-\\eta_r))^2(M_b-M_a)^2}\n$$\n对于 $M$，一阶指数 $S_M$ 是：\n$$\nS_M = \\frac{V_M}{\\mathrm{Var}(Y)} = \\frac{C_M^2 \\mathrm{Var}(M)}{C_g^2 \\mathrm{Var}(g) + C_M^2 \\mathrm{Var}(M)} = \\frac{C_M^2 \\frac{(M_b-M_a)^2}{12}}{C_g^2 \\frac{(g_b-g_a)^2}{12} + C_M^2 \\frac{(M_b-M_a)^2}{12}}\n$$\n类似地，化简并代入：\n$$\nS_M = \\frac{(g_m(1-\\eta_r))^2(M_b-M_a)^2}{U^2(g_b-g_a)^2 + (g_m(1-\\eta_r))^2(M_b-M_a)^2}\n$$\n这些就是在程序中实现的最终闭式表达式。注意，对于这个纯加性模型，$V_g + V_M = \\mathrm{Var}(Y)$，所以 $S_g + S_M = 1$，并且所有高阶和交互作用的 Sobol 指数都为零。常数项 $B$ 不影响方差，因此对 Sobol 指数没有影响。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes first-order Sobol indices for a linear LCA model\n    and determines which input parameter contributes more to the output variance.\n    \"\"\"\n    \n    # Test suite from the problem statement. B is ignored as it's an additive constant.\n    # Format: (U, (g_a, g_b), (M_a, M_b), g_m, eta_r)\n    test_cases = [\n        # Case 1 (baseline)\n        (30000, (0.2, 0.8), (4000, 6000), 0.6, 0.3),\n        # Case 2 (clean grid)\n        (30000, (0.02, 0.08), (4000, 6000), 0.6, 0.3),\n        # Case 3 (dirty grid and low manufacturing energy)\n        (30000, (0.6, 0.9), (2000, 3000), 0.6, 0.3),\n        # Case 4 (high manufacturing uncertainty, weak circular economy)\n        (30000, (0.2, 0.4), (2000, 20000), 0.6, 0.1),\n        # Case 5 (grid fixed, manufacturing uncertain)\n        (30000, (0.4, 0.4), (4000, 6000), 0.6, 0.3),\n        # Case 6 (manufacturing fixed, grid uncertain)\n        (30000, (0.2, 0.8), (5000, 5000), 0.6, 0.3),\n    ]\n\n    results = []\n    \n    for case in test_cases:\n        U, g_range, M_range, g_m, eta_r = case\n        g_a, g_b = g_range\n        M_a, M_b = M_range\n\n        # The closed-form expressions for Sobol indices S_g and S_M are\n        # derived from the variance decomposition of the output Y.\n        # Y = g*U + g_m*M*(1-eta_r) + B\n        # Let's denote the two terms contributing to variance as T_g and T_M.\n        # These terms are proportional to the partial variances. The factor 1/12\n        # from the uniform distribution variance formula cancels out.\n        \n        # Term related to grid carbon intensity (g)\n        # T_g = U^2 * (g_b - g_a)^2\n        term_g = U**2 * (g_b - g_a)**2\n        \n        # Term related to manufacturing energy (M)\n        # T_M = (g_m * (1 - eta_r))^2 * (M_b - M_a)^2\n        term_m = (g_m * (1 - eta_r))**2 * (M_b - M_a)**2\n        \n        # The total variance is proportional to the sum of these terms\n        total_term = term_g + term_m\n        \n        # Calculate Sobol indices\n        # S_g = T_g / (T_g + T_M)\n        # S_M = T_M / (T_g + T_M)\n        \n        if total_term == 0:\n            # This case occurs if both inputs are fixed (no uncertainty).\n            # The total variance is 0, and Sobol indices are ill-defined (0/0).\n            # A common convention is to set them to 0.\n            S_g = 0.0\n            S_M = 0.0\n        else:\n            S_g = term_g / total_term\n            S_M = term_m / total_term\n            \n        # Determine if grid uncertainty contribution is larger than manufacturing's\n        grid_more = S_g  S_M\n        \n        results.append([S_g, S_M, grid_more])\n\n    # Format the output as a string according to the problem specification.\n    # Example: [[0.100000,0.900000,False],[...]]\n    output_parts = []\n    for res in results:\n        s_g_val, s_m_val, grid_more_val = res\n        # Format floats to 6 decimal places and convert boolean to its string representation\n        part = f\"[{s_g_val:.6f},{s_m_val:.6f},{grid_more_val}]\"\n        output_parts.append(part)\n    \n    final_output_string = f\"[{','.join(output_parts)}]\"\n    \n    print(final_output_string)\n\nsolve()\n```"
        }
    ]
}