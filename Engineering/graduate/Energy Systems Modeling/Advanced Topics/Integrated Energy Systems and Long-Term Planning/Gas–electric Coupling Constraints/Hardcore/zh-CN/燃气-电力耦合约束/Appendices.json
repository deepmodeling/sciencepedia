{
    "hands_on_practices": [
        {
            "introduction": "本练习聚焦于最基本的耦合环节：将发电厂的电力输出转换为其所需的天然气消耗量。我们将从第一性原理出发，推导耦合系数，并借此强调单位一致性的至关重要性。这个实践练习  旨在作为一个关键提醒——如果基础参数处理不当，即使是最复杂的模型也会失效。",
            "id": "4092839",
            "problem": "考虑一个为燃气发电厂供气的单管天然气网络。源节点的压力为 $p_s$，电厂节点的压力为 $p_g$，且必须满足最低输送压力要求 $p_g \\geq p_{\\min}$。该管道在稳态下通过平方律关系建模\n$$\np_s^2 - p_g^2 = K q^2,\n$$\n其中 $q$ 是标准体积气体流量，单位为 $\\text{Sm}^3/\\text{s}$（标准立方米每秒），$p_s$ 和 $p_g$ 的单位为 $\\text{Pa}$（帕斯卡），$K$ 是一个由管道特性决定的已知正常数。电厂以 $\\eta$ 的发电效率将燃料转化为电能，燃料的低热值（LHV）以每标准立方米为单位给出。\n\n一个耦合约束通过燃料-能量平衡将以 $\\text{MW}$（兆瓦）为单位的电功率 $P$ 与气体流量联系起来，\n$$\nq = \\alpha P,\n$$\n其中 $\\alpha$ 是气-电耦合系数，单位为 $\\text{Sm}^3\\,\\text{s}^{-1}\\,\\text{MW}^{-1}$。\n\n假设使用以下数据：\n- 源压力 $p_s = 6.0 \\times 10^{6}\\ \\text{Pa}$。\n- 最低输送压力 $p_{\\min} = 4.0 \\times 10^{6}\\ \\text{Pa}$。\n- 管道常数 $K = 1.0 \\times 10^{5}\\ \\text{Pa}^2\\,\\text{s}^2\\,\\text{Sm}^{-6}$。\n- 电厂发电效率 $\\eta = 0.58$。\n- 天然气低热值（LHV）$= 35.8\\ \\text{MJ}/\\text{Sm}^3$。\n- 电厂输出功率 $P = 300\\ \\text{MW}$。\n\n一位工程师错误地将低热值（LHV）当作 $35.8\\ \\text{kJ}/\\text{Sm}^3$ 而不是 $35.8\\ \\text{MJ}/\\text{Sm}^3$，并根据基本能量平衡计算了 $\\alpha$。使用这个不一致的单位，将得到的 $q$ 代入管道方程时，违反了最低压力约束，导致气-电耦合不可行。\n\n从能量平衡的第一性原理和给定的管道关系出发，推导与国际单位制（SI）一致的 $\\alpha$ 的正确表达式，说明单位不一致如何导致电厂节点压力不可行，然后计算恢复可行性的修正后耦合系数 $\\alpha$。\n\n将修正后的耦合系数 $\\alpha$ 的最终数值答案四舍五入到四位有效数字。用 $\\text{Sm}^3\\,\\text{s}^{-1}\\,\\text{MW}^{-1}$ 表示您的答案。",
            "solution": "问题陈述已经过评估并被认为是有效的。它在科学上基于能源系统工程的原理，特别是流体动力学和热力学。该问题是适定的，提供了完整且一致的数据和约束，从而能够得到唯一解。该场景涉及单位换算错误，是工程实践中一个现实且具有指导意义的例子。\n\n解题过程将按要求分为三部分：首先，推导气-电耦合系数 $\\alpha$；其次，证明单位不一致导致不可行性；第三，计算修正后的系数。\n\n首先，我们根据能量守恒原理推导耦合系数 $\\alpha$ 的表达式。电厂的电功率输出 $P_e$ 通过发电效率 $\\eta$ 与燃料能量输入率 $Q_{fuel}$ 相关联。\n$$\nP_e = \\eta Q_{fuel}\n$$\n燃料能量输入率是体积气体流量 $q$ 与气体的低热值 $\\text{LHV}$ 的乘积。\n$$\nQ_{fuel} = q \\cdot \\text{LHV}\n$$\n将这些结合起来，得到发电厂的基本能量平衡方程：\n$$\nP_e = \\eta \\cdot q \\cdot \\text{LHV}\n$$\n为确保一致性，我们必须使用一套统一的单位。我们以国际单位制（SI）为基础。功率 $P_e$ 的单位是瓦特（$\\text{W}$），流量 $q$ 的单位是标准立方米每秒（$\\text{Sm}^3/\\text{s}$），能量含量 $\\text{LHV}$ 的单位是焦耳每标准立方米（$\\text{J}/\\text{Sm}^3$）。\n\n问题定义了耦合约束 $q = \\alpha P$，其中 $P$ 的数值以兆瓦（$\\text{MW}$）为单位，$q$ 的单位为 $\\text{Sm}^3/\\text{s}$。因此，系数 $\\alpha$ 的单位是 $\\text{Sm}^3\\,\\text{s}^{-1}\\,\\text{MW}^{-1}$。问题还规定了 $\\text{LHV}$ 的单位是兆焦耳每标准立方米（$\\text{MJ}/\\text{Sm}^3$）。我们用 $P_{MW}$ 表示以兆瓦为单位的功率，用 $\\text{LHV}_{MJ}$ 表示以 $\\text{MJ}/\\text{Sm}^3$ 为单位的低热值。单位换算如下：\n$$\nP_e \\,[\\text{W}] = P_{MW} \\,[\\text{MW}] \\times 10^6 \\frac{\\text{W}}{\\text{MW}}\n$$\n$$\n\\text{LHV} \\,[\\text{J}/\\text{Sm}^3] = \\text{LHV}_{MJ} \\,[\\text{MJ}/\\text{Sm}^3] \\times 10^6 \\frac{\\text{J}}{\\text{MJ}}\n$$\n将这些表达式和耦合关系 $q = \\alpha P_{MW}$ 代入基于国际单位制的能量平衡方程中：\n$$\nP_{MW} \\times 10^6 = \\eta \\cdot (\\alpha \\cdot P_{MW}) \\cdot (\\text{LHV}_{MJ} \\times 10^6)\n$$\n假设电厂正在运行，因此 $P_{MW} \\neq 0$，我们可以将方程两边同时除以 $P_{MW} \\times 10^6$：\n$$\n1 = \\eta \\cdot \\alpha \\cdot \\text{LHV}_{MJ}\n$$\n这就得到了用电厂效率和热值表示的耦合系数 $\\alpha$ 的表达式：\n$$\n\\alpha = \\frac{1}{\\eta \\cdot \\text{LHV}_{MJ}}\n$$\n该表达式的单位是 $(\\text{MJ}/\\text{Sm}^3)^{-1} = \\text{Sm}^3/\\text{MJ}$。关键是要认识到 $1 \\text{ MW} = 1 \\text{ MJ}/\\text{s}$。因此，$\\alpha$ 的要求单位是 $\\text{Sm}^3\\,\\text{s}^{-1}\\,\\text{MW}^{-1} = \\text{Sm}^3\\,\\text{s}^{-1}\\,(\\text{MJ}/\\text{s})^{-1} = \\text{Sm}^3\\,\\text{s}^{-1}\\,\\text{s}\\,\\text{MJ}^{-1} = \\text{Sm}^3/\\text{MJ}$。因此，推导出的表达式与要求的单位是一致的。\n\n第二，我们演示工程师的单位不一致如何导致不可行的运行条件。工程师错误地使用了 $35.8\\ \\text{kJ}/\\text{Sm}^3$ 的低热值。为了使用我们推导的公式，这个值必须换算成 $\\text{MJ}/\\text{Sm}^3$：\n$$\n\\text{LHV}_{\\text{error}} = 35.8\\ \\text{kJ}/\\text{Sm}^3 = 35.8 \\times 10^{-3}\\ \\text{MJ}/\\text{Sm}^3 = 0.0358\\ \\text{MJ}/\\text{Sm}^3\n$$\n使用这个错误的值，工程师计算出一个错误的耦合系数 $\\alpha_{\\text{error}}$：\n$$\n\\alpha_{\\text{error}} = \\frac{1}{\\eta \\cdot \\text{LHV}_{\\text{error}}} = \\frac{1}{0.58 \\times 0.0358} \\approx \\frac{1}{0.020764} \\approx 48.160277\\ \\text{Sm}^3\\,\\text{s}^{-1}\\,\\text{MW}^{-1}\n$$\n对于 $P = 300\\ \\text{MW}$ 的电厂输出，计算出的气体流量 $q_{\\text{error}}$ 为：\n$$\nq_{\\text{error}} = \\alpha_{\\text{error}} \\cdot P \\approx 48.160277 \\times 300 \\approx 14448.08\\ \\text{Sm}^3/\\text{s}\n$$\n然后用这个错误的高流量来检查管道水力学。我们使用管道方程 $p_s^2 - p_g^2 = K q^2$ 求解输送压力 $p_g$：\n$$\np_g^2 = p_s^2 - K q_{\\text{error}}^2\n$$\n代入给定值：$p_s = 6.0 \\times 10^{6}\\ \\text{Pa}$，$K = 1.0 \\times 10^{5}\\ \\text{Pa}^2\\,\\text{s}^2\\,\\text{Sm}^{-6}$。\n$$\np_g^2 = (6.0 \\times 10^{6})^2 - (1.0 \\times 10^{5}) \\cdot (14448.08)^2\n$$\n$$\np_g^2 \\approx (3.6 \\times 10^{13}) - (1.0 \\times 10^{5}) \\cdot (2.08746 \\times 10^8)\n$$\n$$\np_g^2 \\approx 3.6 \\times 10^{13} - 2.08746 \\times 10^{13} = 1.51254 \\times 10^{13}\\ \\text{Pa}^2\n$$\n取平方根求输送压力：\n$$\np_g = \\sqrt{1.51254 \\times 10^{13}} \\approx 3.88914 \\times 10^{6}\\ \\text{Pa}\n$$\n最低要求的输送压力为 $p_{\\min} = 4.0 \\times 10^{6}\\ \\text{Pa}$。由于 $p_g \\approx 3.89 \\times 10^{6}\\ \\text{Pa}  4.0 \\times 10^{6}\\ \\text{Pa}$，最低压力约束 $p_g \\geq p_{\\min}$ 被违反。单位错误导致对所需气体流量的大量高估，这反过来又导致过大的压降，使运行变得不可行。\n\n第三，我们使用正确的数据计算修正后的耦合系数 $\\alpha_{\\text{correct}}$。正确的低热值为 $\\text{LHV} = 35.8\\ \\text{MJ}/\\text{Sm}^3$。效率为 $\\eta = 0.58$。\n$$\n\\alpha_{\\text{correct}} = \\frac{1}{\\eta \\cdot \\text{LHV}} = \\frac{1}{0.58 \\times 35.8}\n$$\n$$\n\\alpha_{\\text{correct}} = \\frac{1}{20.764} \\approx 0.048160277\\ \\text{Sm}^3\\,\\text{s}^{-1}\\,\\text{MW}^{-1}\n$$\n问题要求将此答案四舍五入到四位有效数字。\n$$\n\\alpha_{\\text{correct}} \\approx 0.04816\\ \\text{Sm}^3\\,\\text{s}^{-1}\\,\\text{MW}^{-1}\n$$\n使用这个修正后的系数，所需的气体流量为 $q_{\\text{correct}} \\approx 0.04816 \\times 300 \\approx 14.448\\ \\text{Sm}^3/\\text{s}$，这个值比错误的值小 $1000$ 倍。相关的压降将可以忽略不计，从而轻松满足压力约束并恢复可行性。",
            "answer": "$$\n\\boxed{0.04816}\n$$"
        },
        {
            "introduction": "在简单的能量转换之上，本练习将探讨天然气管道的物理限制如何直接约束发电机的输出。通过从流体动力学原理推导压力-流量关系，您将确定最大可行发电功率 ，从而揭示天然气网络为电力系统施加的硬物理边界。",
            "id": "4092794",
            "problem": "一台燃气发电机由一条水平输气管道直接供气，该管道连接上游气体节点和发电机入口。假设气体为实际气体，其流动为一维、稳态、等温流动，遵循经压缩因子修正的理想气体定律，并忽略海拔变化。摩擦损失由 Darcy–Weisbach 公式描述。管道长度为 $L$，内径为 $D$，横截面积为 $A$，Darcy 摩擦系数为 $f$。气体在管道内的比气体常数为 $R_{s}$，平均温度为 $T$，压缩因子为 $Z$。上游节点压力 $p_{u}$ 有上限，而发电机入口压力 $p_{g}$ 为满足燃烧器/调节器约束不得低于一个最小值。发电机将燃料的化学能转化为电能，其电效率为 $\\eta$，消耗质量流量为 $\\dot{m}$、低热值 (LHV) 为特定值的燃料。\n\n从包含 Darcy–Weisbach 摩擦和经压缩因子修正的理想气体定律的稳态一维动量平衡方程出发，推导将管道的 $\\dot{m}$ 与 $p_{u}$ 和 $p_{g}$ 联系起来的稳态压力-流量耦合关系。然后，利用该关系以及燃料-功率转换关系，确定在以下边界条件下最大可行发电功率输出 $P_{e}^{\\max}$：\n- $p_{u} \\leq p_{u}^{\\max}$，\n- $p_{g} \\geq p_{g}^{\\min}$，\n以及管道和燃料-功率耦合约束。使用以下参数值：\n- $L = 60{,}000\\,\\mathrm{m}$, $D = 0.30\\,\\mathrm{m}$, $f = 0.02$, $T = 288\\,\\mathrm{K}$, $Z = 0.90$, $R_{s} = 518\\,\\mathrm{J}\\,\\mathrm{kg}^{-1}\\,\\mathrm{K}^{-1}$，\n- $p_{u}^{\\max} = 5.5 \\times 10^{6}\\,\\mathrm{Pa}$, $p_{g}^{\\min} = 4.8 \\times 10^{6}\\,\\mathrm{Pa}$，\n- $\\eta = 0.58$, $\\mathrm{LHV} = 49 \\times 10^{6}\\,\\mathrm{J}\\,\\mathrm{kg}^{-1}$。\n\n明确指出在达到最大值时哪个耦合约束是起作用的，并从第一性原理出发进行论证。最终功率以 $\\mathrm{MW}$ 为单位表示，并将答案四舍五入至三位有效数字。",
            "solution": "我们将首先验证问题的陈述，如果问题被认为是有效的，则继续提供完整的解决方案。\n\n### 第1步：提取已知条件\n-   **管道几何参数：** 长度 $L = 60{,}000\\,\\mathrm{m}$，内径 $D = 0.30\\,\\mathrm{m}$，横截面积 $A$。\n-   **流动与气体性质：** Darcy 摩擦系数 $f = 0.02$，平均气体温度 $T = 288\\,\\mathrm{K}$，比气体常数 $R_{s} = 518\\,\\mathrm{J}\\,\\mathrm{kg}^{-1}\\,\\mathrm{K}^{-1}$，压缩因子 $Z = 0.90$。\n-   **流动状态：** 实际气体的一维、稳态、等温流动。忽略海拔变化。\n-   **压力约束：** 上游节点压力 $p_{u} \\leq p_{u}^{\\max} = 5.5 \\times 10^{6}\\,\\mathrm{Pa}$。发电机入口压力 $p_{g} \\geq p_{g}^{\\min} = 4.8 \\times 10^{6}\\,\\mathrm{Pa}$。\n-   **发电机属性：** 电效率 $\\eta = 0.58$，燃料低热值 $\\mathrm{LHV} = 49 \\times 10^{6}\\,\\mathrm{J}\\,\\mathrm{kg}^{-1}$。\n-   **变量：** 质量流量 $\\dot{m}$，发电功率输出 $P_{e}$。\n\n### 第2步：使用提取的已知条件进行验证\n-   **科学依据：** 该问题基于流体动力学（Darcy-Weisbach 摩擦）、热力学（通过压缩因子的实际气体定律）和能量转换的既定原理。所描述的模型（长管道中的等温流动）是气体输送网络分析中一个标准且广泛使用的简化模型。所有假设都已明确说明。\n-   **适定性：** 该问题提供了确定唯一最大功率输出所需的所有必要参数和约束。目标定义明确。\n-   **客观性：** 语言技术性强且精确，没有主观性或歧义。\n-   **完整性与一致性：** 所提供的数据是自洽的并且看起来是一致的。例如，比气体常数 ($R_{s}$) 的单位与其在理想气体定律公式 $p = \\rho R_s T$ 中的定义相符。压力值是输送管道的典型值。\n\n### 第3步：结论与行动\n该问题是有效的。这是一个能源系统工程领域中适定的、有科学依据的问题。将提供完整的解答。\n\n### 解答推导\n\n推导始于管道长度为 $dx$ 的微分单元的一维稳态动量平衡。忽略动量通量的变化（这对于亚音速流动的长管道来说是一个标准且准确的假设），压力与摩擦力之间的平衡为：\n$$A dp + \\tau_w P dx = 0$$\n其中 $dp$ 是压差变化， $A$ 是横截面积， $\\tau_w$ 是壁面剪切应力， $P$ 是湿周。\n\n壁面剪切应力通过 Darcy-Weisbach 摩擦系数 $f$ 与以下各项相关：\n$$\\tau_w = \\frac{f}{8} \\rho v^2$$\n其中 $\\rho$ 是气体密度， $v$ 是流速。管道几何关系给出 $A = \\frac{\\pi D^2}{4}$ 和 $P = \\pi D$，因此比值 $\\frac{P}{A} = \\frac{4}{D}$。将这些代入动量平衡方程可得：\n$$A dp + \\left(\\frac{f}{8} \\rho v^2\\right) (\\pi D) dx = 0$$\n$$dp = -\\frac{f}{8} \\rho v^2 \\frac{\\pi D}{A} dx = -\\frac{f}{2D} \\rho v^2 dx$$\n在稳态下，质量流量 $\\dot{m}$ 是恒定的：$\\dot{m} = \\rho A v$。因此，速度为 $v = \\frac{\\dot{m}}{\\rho A}$。代入 $v$：\n$$dp = -\\frac{f}{2D} \\rho \\left(\\frac{\\dot{m}}{\\rho A}\\right)^2 dx = -\\frac{f \\dot{m}^2}{2DA^2} \\frac{1}{\\rho} dx$$\n气体由实际气体定律 $p = Z \\rho R_s T$ 描述。我们可以将密度项 $\\frac{1}{\\rho}$ 表示为：\n$$\\frac{1}{\\rho} = \\frac{Z R_s T}{p}$$\n将其代入压力微分方程得：\n$$dp = -\\frac{f \\dot{m}^2}{2DA^2} \\frac{Z R_s T}{p} dx$$\n这是一个可分离的常微分方程。我们重新整理它，以便在管道长度上进行积分，从 $x=0$（此处 $p = p_u$）到 $x=L$（此处 $p = p_g$）：\n$$p \\, dp = -\\frac{f Z R_s T \\dot{m}^2}{2DA^2} dx$$\n$$\\int_{p_u}^{p_g} p \\, dp = -\\frac{f Z R_s T \\dot{m}^2}{2DA^2} \\int_{0}^{L} dx$$\n假设参数 $f$、$Z$、$R_s$、$T$、$\\dot{m}$、$D$ 和 $A$ 在整个管道中为常数。对两边积分可得：\n$$\\frac{p_g^2}{2} - \\frac{p_u^2}{2} = -\\frac{f L Z R_s T \\dot{m}^2}{2DA^2}$$\n两边乘以 $-2$ 得到管道的压力-流量耦合关系：\n$$p_u^2 - p_g^2 = \\frac{f L Z R_s T \\dot{m}^2}{DA^2}$$\n代入 $A = \\frac{\\pi D^2}{4}$，则 $A^2 = \\frac{\\pi^2 D^4}{16}$：\n$$p_u^2 - p_g^2 = \\frac{f L Z R_s T \\dot{m}^2}{D (\\frac{\\pi^2 D^4}{16})} = \\frac{16 f L Z R_s T}{\\pi^2 D^5} \\dot{m}^2$$\n这就是所要求的稳态管道耦合约束。\n\n接下来，我们将质量流量 $\\dot{m}$ 与发电功率输出 $P_e$ 联系起来。燃料输入的热功率为 $P_{th} = \\dot{m} \\cdot \\mathrm{LHV}$。发电机以效率 $\\eta$ 将其转化为电能：\n$$P_e = \\eta P_{th} = \\eta \\dot{m} \\mathrm{LHV}$$\n由此，我们可以表示给定功率输出所需的质量流量：\n$$\\dot{m} = \\frac{P_e}{\\eta \\mathrm{LHV}}$$\n将 $\\dot{m}$ 的表达式代入管道方程：\n$$p_u^2 - p_g^2 = \\frac{16 f L Z R_s T}{\\pi^2 D^5} \\left(\\frac{P_e}{\\eta \\mathrm{LHV}}\\right)^2$$\n我们需要找到最大可行发电功率输出 $P_e^{\\max}$。求解 $P_e$：\n$$P_e = (\\eta \\mathrm{LHV}) \\sqrt{\\frac{\\pi^2 D^5}{16 f L Z R_s T} (p_u^2 - p_g^2)}$$\n为了最大化 $P_e$，我们必须在约束条件 $p_u \\leq p_u^{\\max}$ 和 $p_g \\geq p_g^{\\min}$ 下，最大化平方根内的项，特别是压力差项 $(p_u^2 - p_g^2)$。\n\n函数 $F(p_u, p_g) = p_u^2 - p_g^2$ 随 $p_u$ 单调递增（因为 $\\frac{\\partial F}{\\partial p_u} = 2p_u  0$），随 $p_g$ 单调递减（因为 $\\frac{\\partial F}{\\partial p_g} = -2p_g  0$）。因此，为了最大化 $F$，我们必须为 $p_u$ 选择可能的最大值，为 $p_g$ 选择可能的最小值。这些值由边界条件给出：\n$$p_u = p_u^{\\max}$$\n$$p_g = p_g^{\\min}$$\n因此，在最大功率输出时，上游压力限制和下游压力限制都是起作用的约束。\n\n现在我们计算 $P_e^{\\max}$ 的数值。让我们为管道特性定义一个常数：\n$$C_p = \\frac{16 f L Z R_s T}{\\pi^2 D^5}$$\n使用给定值：\n- $f = 0.02$\n- $L = 60000\\,\\mathrm{m}$\n- $Z = 0.90$\n- $R_{s} = 518\\,\\mathrm{J}\\,\\mathrm{kg}^{-1}\\,\\mathrm{K}^{-1}$\n- $T = 288\\,\\mathrm{K}$\n- $D = 0.30\\,\\mathrm{m}$\n$$C_p = \\frac{16(0.02)(60000)(0.90)(518)(288)}{\\pi^2 (0.30)^5} = \\frac{2,577,692,160}{9.8696 \\times 0.00243} \\approx \\frac{2.5777 \\times 10^9}{0.023983} \\approx 1.0748 \\times 10^{11}\\,\\mathrm{m}^{-2}\\mathrm{s}^{-2}$$\n最大平方压力差为：\n$$(p_{u}^{\\max})^2 - (p_{g}^{\\min})^2 = (5.5 \\times 10^6)^2 - (4.8 \\times 10^6)^2 = (30.25 - 23.04) \\times 10^{12} = 7.21 \\times 10^{12}\\,\\mathrm{Pa}^2$$\n最大质量流量的平方为：\n$$\\dot{m}_{\\max}^2 = \\frac{(p_{u}^{\\max})^2 - (p_{g}^{\\min})^2}{C_p} = \\frac{7.21 \\times 10^{12}\\,\\mathrm{Pa}^2}{1.0748 \\times 10^{11}\\,\\mathrm{m}^{-2}\\mathrm{s}^{-2}} \\approx 67.085\\,\\mathrm{kg}^2\\mathrm{s}^{-2}$$\n最大质量流量为：\n$$\\dot{m}_{\\max} = \\sqrt{67.085\\,\\mathrm{kg}^2\\mathrm{s}^{-2}} \\approx 8.1905\\,\\mathrm{kg}\\,\\mathrm{s}^{-1}$$\n最后，最大发电功率输出为：\n$$P_e^{\\max} = \\eta \\dot{m}_{\\max} \\mathrm{LHV} = (0.58) (8.1905\\,\\mathrm{kg}\\,\\mathrm{s}^{-1}) (49 \\times 10^6\\,\\mathrm{J}\\,\\mathrm{kg}^{-1})$$\n$$P_e^{\\max} \\approx 232,716,000\\,\\mathrm{W} = 232.716\\,\\mathrm{MW}$$\n四舍五入到三位有效数字，最大功率输出为 $233\\,\\mathrm{MW}$。",
            "answer": "$$\\boxed{233}$$"
        },
        {
            "introduction": "现实世界中的气-电联合调度通常涉及大规模优化，其中非线性约束（如魏茅斯方程）在计算上具有挑战性。本练习  介绍了一种实用的技术——为非线性约束创建分段线性代理模型。您将分析其近似误差，并量化其对运行决策的影响，从而深入理解模型精度与计算易解性之间的权衡。",
            "id": "4092852",
            "problem": "考虑一条为燃气发电机供气的单一天然气管道。在稳态下，将 Weymouth 关系式作为管道标准条件下的体积流量 $q$ (单位为 $\\mathrm{Sm}^3/\\mathrm{s}$) 与压降平方之间的基本耦合约束，即 $p_{\\mathrm{in}}^2 - p_{\\mathrm{out}}^2 = \\beta q^2$，其中 $\\beta$ 是一个由管道参数决定的正常数。一个数值优化器使用分段线性代理模型替换了非线性映射，该代理模型由连接流量范围 $q \\in [0, Q_{\\max}]$ 内点 $\\left(q_i, \\beta q_i^2\\right)$ 的直线段定义。假设给定以下数据：$Q_{\\max} = 40$ $\\mathrm{Sm}^3/\\mathrm{s}$，断点 $q_0 = 0$、$q_1 = 20$、$q_2 = 40$ $\\mathrm{Sm}^3/\\mathrm{s}$，以及 Weymouth 系数 $\\beta = 0.011$ $\\mathrm{MPa}^2/\\left(\\mathrm{Sm}^3/\\mathrm{s}\\right)^2$。发电机必须维持出口压力 $p_{\\mathrm{out}} \\ge p_{\\min}$，其中 $p_{\\mathrm{in}} = 6$ $\\mathrm{MPa}$ 且 $p_{\\min} = 5$ $\\mathrm{MPa}$。发电机产生的电功率 $P$ 通过能量转换关系 $P = \\eta H q$ 与燃气流量耦合，其中 $\\eta$ 是总发电效率， $H$ 是每标准立方米天然气的低热值 (LHV)。取 $\\eta = 0.55$ 和 $H = 35.8$ $\\mathrm{MJ}/\\mathrm{Sm}^3$。\n\n仅使用上述基本定律和定义，首先确定在指定流量范围内，$p_{\\mathrm{in}}^2 - p_{\\mathrm{out}}^2$ 的分段线性代理模型的最大绝对近似误差。然后，在出口压力约束为紧约束的情况下，量化因使用代理模型而非精确 Weymouth 关系式所导致的可行发电机电功率的减少量。以 $\\mathrm{MW}$ 为单位，给出电功率减少量的量值，并将最终答案四舍五入到四位有效数字。",
            "solution": "该问题要求分析天然气管道的精确非线性模型与其分段线性 (PWL) 代理模型之间的差异，以及这种差异对耦合的燃气发电机计算出的运行能力所产生的影响。分析分两部分进行：首先，确定代理模型的最大近似误差；其次，在压力约束为紧约束的情况下，量化由该近似引起的发电量减少。\n\n基本物理关系如下：\n1.  稳态气体流动的 Weymouth 关系式：$p_{\\mathrm{in}}^2 - p_{\\mathrm{out}}^2 = \\beta q^2$。此处，$p_{\\mathrm{in}}$ 是入口压力，$p_{\\mathrm{out}}$ 是出口压力，$q$ 是标准条件下的体积流量，$\\beta$ 是管道的 Weymouth 系数。\n2.  发电功率关系式：$P = \\eta H q$，其中 $P$ 是电功率，$\\eta$ 是发电机效率，$H$ 是燃气的低热值。\n\nWeymouth 关系式中的非线性项 $f(q) = \\beta q^2$ 由一个 PWL 代理模型 $f_{\\mathrm{PWL}}(q)$ 近似，该模型通过连接 $f(q)$ 曲线上的一系列点 $(q_i, \\beta q_i^2)$ 构建。给定的断点是 $q_0 = 0$、$q_1 = 20$ 和 $q_2 = 40$ $\\mathrm{Sm}^3/\\mathrm{s}$。流量范围是 $q \\in [0, 40]$。\n\n**第 1 部分：最大绝对近似误差**\n\n待近似的函数是 $f(q) = \\beta q^2$。由于系数 $\\beta = 0.011$ 为正，对于 $q \\ge 0$，$f(q)$ 是一个严格凸函数。分段线性代理模型由连接该凸曲线上各点的弦构成。连接凸函数上两点的弦位于函数曲线上或其下方。因此，近似误差 $E(q) = f(q) - f_{\\mathrm{PWL}}(q)$ 是非负的，且绝对误差等于 $E(q)$。\n\n考虑在区间 $[a, b]$ 上的一个近似段。构成代理模型的直线穿过点 $(a, f(a))$ 和 $(b, f(b))$。其方程为：\n$$L(q) = f(a) + \\frac{f(b) - f(a)}{b - a}(q - a)$$\n代入 $f(q) = \\beta q^2$：\n$$L(q) = \\beta a^2 + \\frac{\\beta b^2 - \\beta a^2}{b - a}(q - a) = \\beta a^2 + \\beta(b+a)(q-a)$$\n该段上的误差为 $E(q) = f(q) - L(q)$：\n$$E(q) = \\beta q^2 - [\\beta a^2 + \\beta(b+a)(q-a)]$$\n$$E(q) = \\beta [q^2 - a^2 - (b+a)(q-a)] = \\beta [(q-a)(q+a) - (b+a)(q-a)]$$\n$$E(q) = \\beta (q-a) [ (q+a) - (b+a) ] = \\beta (q-a)(q-b)$$\n该误差函数是一个开口向下的抛物线，其根在 $q=a$ 和 $q=b$。最大误差出现在顶点处，即 $q = \\frac{a+b}{2}$。最大误差的值为：\n$$E_{\\max} = \\left| \\beta \\left(\\frac{a+b}{2} - a\\right) \\left(\\frac{a+b}{2} - b\\right) \\right| = \\left| \\beta \\left(\\frac{b-a}{2}\\right) \\left(\\frac{a-b}{2}\\right) \\right| = \\frac{\\beta(b-a)^2}{4}$$\n\n我们将此公式应用于由断点定义的两个分段：\n1.  分段 1：$[q_0, q_1] = [0, 20]$。此分段上的最大误差为：\n    $$E_{\\max,1} = \\frac{\\beta(20 - 0)^2}{4} = \\frac{400\\beta}{4} = 100\\beta$$\n2.  分段 2：$[q_1, q_2] = [20, 40]$。此分段上的最大误差为：\n    $$E_{\\max,2} = \\frac{\\beta(40 - 20)^2}{4} = \\frac{20^2\\beta}{4} = \\frac{400\\beta}{4} = 100\\beta$$\n\n总体的最大绝对近似误差是每个分段上误差的最大值。由于它们相等：\n$$E_{\\max} = 100\\beta = 100 \\times 0.011 \\, \\frac{\\mathrm{MPa}^2}{(\\mathrm{Sm}^3/\\mathrm{s})^2} = 1.1 \\, \\mathrm{MPa}^2$$\n\n**第 2 部分：可行电功率的减少**\n\n问题指明发电机必须维持出口压力 $p_{\\mathrm{out}} \\ge p_{\\min}$。当此约束为紧约束时，即 $p_{\\mathrm{out}} = p_{\\min}$，评估功率的减少量。\n给定 $p_{\\mathrm{in}} = 6 \\, \\mathrm{MPa}$ 和 $p_{\\min} = 5 \\, \\mathrm{MPa}$，最大允许的压降平方为：\n$$\\Delta p^2_{\\max} = p_{\\mathrm{in}}^2 - p_{\\min}^2 = 6^2 - 5^2 = 36 - 25 = 11 \\, \\mathrm{MPa}^2$$\n\n现在我们根据这个压降限制，确定精确模型和代理模型预测的最大可行燃气流量。\n\n*   **精确模型下的最大流量 ($q_{\\mathrm{exact}}$):**\n    使用 Weymouth 关系式，我们将压降设置为其最大值：\n    $$\\beta q_{\\mathrm{exact}}^2 = \\Delta p^2_{\\max} = 11$$\n    $$q_{\\mathrm{exact}}^2 = \\frac{11}{\\beta} = \\frac{11}{0.011} = 1000$$\n    $$q_{\\mathrm{exact}} = \\sqrt{1000} = 10\\sqrt{10} \\, \\mathrm{Sm}^3/\\mathrm{s}$$\n\n*   **代理模型下的最大流量 ($q_{\\mathrm{pwl}}$):**\n    我们需要求解 $f_{\\mathrm{PWL}}(q_{\\mathrm{pwl}}) = 11$。首先，我们确定哪个线性分段对应于此压降值。我们在断点处评估代理模型的值：\n    $$f_{\\mathrm{PWL}}(q_0=0) = \\beta \\cdot 0^2 = 0$$\n    $$f_{\\mathrm{PWL}}(q_1=20) = \\beta \\cdot 20^2 = 0.011 \\cdot 400 = 4.4 \\, \\mathrm{MPa}^2$$\n    $$f_{\\mathrm{PWL}}(q_2=40) = \\beta \\cdot 40^2 = 0.011 \\cdot 1600 = 17.6 \\, \\mathrm{MPa}^2$$\n    由于 $4.4  11  17.6$，解 $q_{\\mathrm{pwl}}$ 必须位于第二个分段上，即在 $q_1 = 20$ 和 $q_2 = 40$ 之间。该分段的直线方程连接点 $(20, 4.4)$ 和 $(40, 17.6)$。斜率 $m$ 为：\n    $$m = \\frac{17.6 - 4.4}{40 - 20} = \\frac{13.2}{20} = 0.66 \\, \\frac{\\mathrm{MPa}^2}{\\mathrm{Sm}^3/\\mathrm{s}}$$\n    直线方程为 $f_{\\mathrm{PWL}}(q) - 4.4 = 0.66(q - 20)$。我们令 $f_{\\mathrm{PWL}}(q_{\\mathrm{pwl}}) = 11$：\n    $$11 - 4.4 = 0.66(q_{\\mathrm{pwl}} - 20)$$\n    $$6.6 = 0.66(q_{\\mathrm{pwl}} - 20)$$\n    $$q_{\\mathrm{pwl}} - 20 = \\frac{6.6}{0.66} = 10$$\n    $$q_{\\mathrm{pwl}} = 30 \\, \\mathrm{Sm}^3/\\mathrm{s}$$\n\n代理模型由于低估了给定流量下的真实压降，导致优化器得出最大可行流量为 $q_{\\mathrm{pwl}} = 30 \\, \\mathrm{Sm}^3/\\mathrm{s}$ 的结论。真实的物理最大值为 $q_{\\mathrm{exact}} = 10\\sqrt{10} \\approx 31.62 \\, \\mathrm{Sm}^3/\\mathrm{s}$。因此，使用代理模型导致了所识别的可行操作范围的减小。\n\n电功率的减少量 $\\Delta P$ 是指在真实最大流量下可以产生的功率与代理模型所允许的最大流量下产生的功率之差。\n$$\\Delta P = P_{\\mathrm{exact}} - P_{\\mathrm{pwl}} = \\eta H q_{\\mathrm{exact}} - \\eta H q_{\\mathrm{pwl}} = \\eta H (q_{\\mathrm{exact}} - q_{\\mathrm{pwl}})$$\n\n给定 $\\eta = 0.55$ 和 $H = 35.8 \\, \\mathrm{MJ}/\\mathrm{Sm}^3$。由于 $1 \\, \\mathrm{MJ}/\\mathrm{s} = 1 \\, \\mathrm{MW}$，乘积 $\\eta H q$ 的单位是兆瓦 (MW)。\n$$\\Delta P = (0.55 \\times 35.8) \\times (\\sqrt{1000} - 30) \\, \\mathrm{MW}$$\n$$\\Delta P = 19.69 \\times (\\sqrt{1000} - 30) \\, \\mathrm{MW}$$\n使用 $\\sqrt{1000}$ 的数值：\n$$\\Delta P \\approx 19.69 \\times (31.6227766 - 30) \\, \\mathrm{MW}$$\n$$\\Delta P \\approx 19.69 \\times 1.6227766 \\, \\mathrm{MW}$$\n$$\\Delta P \\approx 31.95400... \\, \\mathrm{MW}$$\n\n按要求四舍五入到四位有效数字，电功率减少的量值为 $31.95 \\, \\mathrm{MW}$。",
            "answer": "$$\\boxed{31.95}$$"
        }
    ]
}