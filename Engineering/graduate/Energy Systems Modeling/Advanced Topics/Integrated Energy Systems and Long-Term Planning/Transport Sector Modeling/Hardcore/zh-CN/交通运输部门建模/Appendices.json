{
    "hands_on_practices": [
        {
            "introduction": "要精确地为交通部门建模，首先需要理解单体车辆的能量消耗机制。本实践练习将基础的车辆动力学原理（如滚动阻力和空气动力学阻力）与交通流理论相结合。通过这个练习，你将学习如何量化交通拥堵对电动汽车能耗的影响，揭示为何速度降低反而可能导致行驶固定距离的能耗增加，并理解行驶时间和辅助设备功耗在其中的关键作用。",
            "id": "4132971",
            "problem": "考虑在一段长度为 $L = 10\\,\\text{km}$ 的水平路段上，有一股由纯电动汽车 (BEV) 组成的均匀、稳定的交通流。每条车道的交通流量为 $q = 1800\\,\\text{veh}\\,\\text{h}^{-1}\\,\\text{lane}^{-1}$。在基准（自由流）状况下，密度为 $k_0 = 20\\,\\text{veh}\\,\\text{km}^{-1}\\,\\text{lane}^{-1}$。在拥堵状况下，密度增加到 $k_1 = 60\\,\\text{veh}\\,\\text{km}^{-1}\\,\\text{lane}^{-1}$。假设每辆代表性的 BEV 都以平均车流速度行驶，忽略启动瞬态，且在该路段上没有加速或减速。\n\n使用车辆守恒（基本图）关系式 $q = k\\,u$ 来分别求出基准状态和拥堵状态下的平均速度 $u_0$ 和 $u_1$。然后，根据基本力学原理对牵引功率 $P_t(u)$ 进行如下建模。阻力包括滚动阻力 $F_{\\text{roll}} = C_{\\text{rr}}\\,m\\,g$ 和空气动力阻力 $F_{\\text{aero}}(u) = \\frac{1}{2}\\,\\rho\\,C_d\\,A\\,u^2$。车轮处的机械功率为 $P_{\\text{mech}}(u) = \\left(F_{\\text{roll}} + F_{\\text{aero}}(u)\\right)u$。电池牵引功率为 $P_t(u) = \\frac{P_{\\text{mech}}(u)}{\\eta} + P_{\\text{aux}}$，其中 $\\eta$ 是传动系统效率，而 $P_{\\text{aux}}$ 是恒定的辅助设备功率。该路段是水平的，因此坡度阻力为零，并且根据假设，车辆通过该路段时动能没有变化。\n\n车辆和环境参数为：$m = 1500\\,\\text{kg}$，$C_{\\text{rr}} = 0.010$，$g = 9.81\\,\\text{m}\\,\\text{s}^{-2}$，$\\rho = 1.225\\,\\text{kg}\\,\\text{m}^{-3}$，$C_d = 0.30$，$A = 2.2\\,\\text{m}^2$，$\\eta = 0.92$，$P_{\\text{aux}} = 5000\\,\\text{W}$。在每种状态下，都将速度 $u_0$ 和 $u_1$ 视为在整个路段上是恒定的。\n\n使用公式 $E(u) = P_t(u)\\,T(u)$（其中 $T(u) = L/u$）计算每辆车在速度为 $u_0$ 和 $u_1$ 时通过该路段所需的能量，分别记为 $E(u_0)$ 和 $E(u_1)$。确定每辆车的拥堵能量惩罚 $\\Delta E = E(u_1) - E(u_0)$。将最终的能量惩罚以 $\\text{kWh}$ 为单位表示，并将答案四舍五入到四位有效数字。",
            "solution": "用户需要我解决一个问题。\n\n**1. 问题验证**\n\n*   **步骤 1：提取已知条件**\n    *   道路长度: $L = 10\\,\\text{km}$\n    *   交通流量: $q = 1800\\,\\text{veh}\\,\\text{h}^{-1}\\,\\text{lane}^{-1}$\n    *   基准密度: $k_0 = 20\\,\\text{veh}\\,\\text{km}^{-1}\\,\\text{lane}^{-1}$\n    *   拥堵密度: $k_1 = 60\\,\\text{veh}\\,\\text{km}^{-1}\\,\\text{lane}^{-1}$\n    *   基本图关系: $q = k\\,u$\n    *   BEV 质量: $m = 1500\\,\\text{kg}$\n    *   滚动阻力系数: $C_{\\text{rr}} = 0.010$\n    *   重力加速度: $g = 9.81\\,\\text{m}\\,\\text{s}^{-2}$\n    *   空气密度: $\\rho = 1.225\\,\\text{kg}\\,\\text{m}^{-3}$\n    *   风阻系数: $C_d = 0.30$\n    *   迎风面积: $A = 2.2\\,\\text{m}^2$\n    *   传动系统效率: $\\eta = 0.92$\n    *   辅助设备功率: $P_{\\text{aux}} = 5000\\,\\text{W}$\n    *   滚动阻力: $F_{\\text{roll}} = C_{\\text{rr}}\\,m\\,g$\n    *   空气动力阻力: $F_{\\text{aero}}(u) = \\frac{1}{2}\\,\\rho\\,C_d\\,A\\,u^2$\n    *   车轮处机械功率: $P_{\\text{mech}}(u) = \\left(F_{\\text{roll}} + F_{\\text{aero}}(u)\\right)u$\n    *   电池牵引功率: $P_t(u) = \\frac{P_{\\text{mech}}(u)}{\\eta} + P_{\\text{aux}}$\n    *   每车能耗: $E(u) = P_t(u)\\,T(u)$\n    *   行驶时间: $T(u) = L/u$\n    *   要求输出: $\\Delta E = E(u_1) - E(u_0)$，以 $\\text{kWh}$ 为单位，保留四位有效数字。\n\n*   **步骤 2：使用提取的已知条件进行验证**\n    *   **科学依据：** 该问题基于交通流理论（基本图 $q=ku$）和车辆动力学（滚动阻力、空气动力阻力以及功率-能量关系）的既定原则。这些是交通和汽车工程中的标准模型。所有参数都是物理上现实的。\n    *   **良构问题：** 该问题是自洽的，提供了所有必要的参数和方程。目标陈述清晰，获得唯一解的路径定义明确。\n    *   **客观性：** 该问题以精确、客观的语言陈述。\n    *   **缺陷检查：**\n        *   问题没有科学或事实上的不健全之处。\n        *   问题是能源系统/交通建模中一个可形式化且相关的问题。\n        *   设置完整且一致，尽管需要仔细管理单位，这是物理问题求解的标准部分。\n        *   条件和数据是现实可行的。\n        *   问题是良构的，结构明确。\n        *   问题是一个实质性的多步计算，并非微不足道或同义反复。\n        *   问题是科学上可验证的。\n\n*   **步骤 3：结论与行动**\n    *   该问题是**有效的**。现在开始求解过程。\n\n**2. 求解**\n\n目标是计算每辆车的拥堵能量惩罚 $\\Delta E = E(u_1) - E(u_0)$，其中 $u_0$ 和 $u_1$ 分别是基准和拥堵状况下的平均车速。\n\n首先，我们使用交通流基本图 $q = k\\,u$ 来确定速度，这意味着 $u = q/k$。两种状态下的流量 $q$ 是恒定的。\n\n基准速度 $u_0$ 为：\n$$u_0 = \\frac{q}{k_0} = \\frac{1800\\,\\text{veh}\\,\\text{h}^{-1}\\,\\text{lane}^{-1}}{20\\,\\text{veh}\\,\\text{km}^{-1}\\,\\text{lane}^{-1}} = 90\\,\\text{km}\\,\\text{h}^{-1}$$\n拥堵速度 $u_1$ 为：\n$$u_1 = \\frac{q}{k_1} = \\frac{1800\\,\\text{veh}\\,\\text{h}^{-1}\\,\\text{lane}^{-1}}{60\\,\\text{veh}\\,\\text{km}^{-1}\\,\\text{lane}^{-1}} = 30\\,\\text{km}\\,\\text{h}^{-1}$$\n\n对于功率和能量计算，所有单位都必须转换为国际单位制 (SI)。速度从 $\\text{km}\\,\\text{h}^{-1}$ 到 $\\text{m}\\,\\text{s}^{-1}$ 的转换因子为 $\\frac{1000}{3600} = \\frac{1}{3.6}$。\n$$u_0 = 90\\,\\text{km}\\,\\text{h}^{-1} = \\frac{90}{3.6}\\,\\text{m}\\,\\text{s}^{-1} = 25\\,\\text{m}\\,\\text{s}^{-1}$$\n$$u_1 = 30\\,\\text{km}\\,\\text{h}^{-1} = \\frac{30}{3.6}\\,\\text{m}\\,\\text{s}^{-1} = \\frac{25}{3}\\,\\text{m}\\,\\text{s}^{-1}$$\n路段长度为 $L = 10\\,\\text{km} = 10000\\,\\text{m}$。\n\n接下来，我们构建车辆通过该路段所消耗总能量 $E(u)$ 的表达式。能量是总功率 $P_t(u)$ 乘以行驶时间 $T(u) = L/u$。\n$$E(u) = P_t(u) \\cdot T(u) = P_t(u) \\frac{L}{u}$$\n从电池输出的总功率 $P_t(u)$ 由下式给出：\n$$P_t(u) = \\frac{P_{\\text{mech}}(u)}{\\eta} + P_{\\text{aux}}$$\n车轮处的机械功率 $P_{\\text{mech}}(u)$ 是总阻力与车速的乘积：\n$$P_{\\text{mech}}(u) = \\left(F_{\\text{roll}} + F_{\\text{aero}}(u)\\right)u$$\n其中 $F_{\\text{roll}} = C_{\\text{rr}}\\,m\\,g$ 且 $F_{\\text{aero}}(u) = \\frac{1}{2}\\,\\rho\\,C_d\\,A\\,u^2$。\n\n将这些代入能量方程：\n$$E(u) = \\left[ \\frac{\\left(C_{\\text{rr}}\\,m\\,g + \\frac{1}{2}\\,\\rho\\,C_d\\,A\\,u^2\\right)u}{\\eta} + P_{\\text{aux}} \\right] \\frac{L}{u}$$\n将 $\\frac{L}{u}$ 项分配进去，得到：\n$$E(u) = \\frac{L \\left(C_{\\text{rr}}\\,m\\,g + \\frac{1}{2}\\,\\rho\\,C_d\\,A\\,u^2\\right)u}{\\eta u} + \\frac{L P_{\\text{aux}}}{u}$$\n$$E(u) = \\frac{L}{\\eta}\\left(C_{\\text{rr}}\\,m\\,g + \\frac{1}{2}\\,\\rho\\,C_d\\,A\\,u^2\\right) + \\frac{L P_{\\text{aux}}}{u}$$\n\n拥堵能量惩罚为 $\\Delta E = E(u_1) - E(u_0)$。\n$$\\Delta E = \\left[ \\frac{L}{\\eta}\\left(C_{\\text{rr}}\\,m\\,g + \\frac{1}{2}\\,\\rho\\,C_d\\,A\\,u_1^2\\right) + \\frac{L P_{\\text{aux}}}{u_1} \\right] - \\left[ \\frac{L}{\\eta}\\left(C_{\\text{rr}}\\,m\\,g + \\frac{1}{2}\\,\\rho\\,C_d\\,A\\,u_0^2\\right) + \\frac{L P_{\\text{aux}}}{u_0} \\right]$$\n与滚动阻力对应的项 $\\frac{L}{\\eta}C_{\\text{rr}}\\,m\\,g$ 与速度无关，因此被抵消。\n$$\\Delta E = \\left(\\frac{L}{2\\eta}\\rho\\,C_d\\,A\\,u_1^2 + \\frac{L P_{\\text{aux}}}{u_1}\\right) - \\left(\\frac{L}{2\\eta}\\rho\\,C_d\\,A\\,u_0^2 + \\frac{L P_{\\text{aux}}}{u_0}\\right)$$\n合并同类项得到惩罚的简化表达式：\n$$\\Delta E = \\frac{L\\,\\rho\\,C_d\\,A}{2\\eta}(u_1^2 - u_0^2) + L\\,P_{\\text{aux}}\\left(\\frac{1}{u_1} - \\frac{1}{u_0}\\right)$$\n该表达式将惩罚分为两个部分：一部分来自空气动力阻力能量的变化，另一部分来自因行驶时间不同而导致的辅助能量消耗的变化。\n\n现在我们将数值代入此表达式。\n第一项（空气动力惩罚）：\n$$u_1^2 - u_0^2 = \\left(\\frac{25}{3}\\right)^2 - (25)^2 = \\frac{625}{9} - 625 = 625\\left(\\frac{1}{9} - 1\\right) = 625\\left(-\\frac{8}{9}\\right) = -\\frac{5000}{9}\\,\\text{m}^2\\,\\text{s}^{-2}$$\n$$\\Delta E_{\\text{aero}} = \\frac{(10000\\,\\text{m})(1.225\\,\\text{kg}\\,\\text{m}^{-3})(0.30)(2.2\\,\\text{m}^2)}{2(0.92)} \\left(-\\frac{5000}{9}\\,\\text{m}^2\\,\\text{s}^{-2}\\right)$$\n$$\\Delta E_{\\text{aero}} = \\frac{8085}{1.84} \\left(-\\frac{5000}{9}\\right)\\,\\text{J} = 4394.0217... \\times (-555.555...)\\,\\text{J} \\approx -2441123.188\\,\\text{J}$$\n负号表示在较低的拥堵速度下，由于空气动力阻力减小而节省了能量。\n\n第二项（辅助设备惩罚）：\n$$\\frac{1}{u_1} - \\frac{1}{u_0} = \\frac{1}{25/3} - \\frac{1}{25} = \\frac{3}{25} - \\frac{1}{25} = \\frac{2}{25}\\,\\text{s}\\,\\text{m}^{-1}$$\n$$\\Delta E_{\\text{aux}} = (10000\\,\\text{m})(5000\\,\\text{W})\\left(\\frac{2}{25}\\,\\text{s}\\,\\text{m}^{-1}\\right)$$\n$$\\Delta E_{\\text{aux}} = (5 \\times 10^7\\,\\text{J}\\,\\text{s}^{-1}\\,\\text{m})\\left(\\frac{2}{25}\\,\\text{s}\\,\\text{m}^{-1}\\right) = \\frac{10 \\times 10^7}{25}\\,\\text{J} = 4 \\times 10^6\\,\\text{J}$$\n正号表示由于行驶时间更长，运行辅助设备产生了能量惩罚。\n\n以焦耳为单位的总能量惩罚是这两个部分的总和：\n$$\\Delta E = \\Delta E_{\\text{aero}} + \\Delta E_{\\text{aux}} = -2441123.188\\,\\text{J} + 4000000\\,\\text{J} = 1558876.812\\,\\text{J}$$\n总惩罚为正，意味着拥堵增加了总体能耗，因为来自辅助功率的惩罚超过了因空气动力阻力减小而节省的能量。\n\n最后，我们将结果转换为千瓦时（$\\text{kWh}$）。转换因子为 $1\\,\\text{kWh} = 3.6 \\times 10^6\\,\\text{J}$。\n$$\\Delta E \\text{ [kWh]} = \\frac{1558876.812\\,\\text{J}}{3.6 \\times 10^6\\,\\text{J}\\,\\text{kWh}^{-1}} \\approx 0.433021336...\\,\\text{kWh}$$\n根据题目要求，四舍五入到四位有效数字：\n$$\\Delta E \\approx 0.4330\\,\\text{kWh}$$",
            "answer": "$$\n\\boxed{0.4330}\n$$"
        },
        {
            "introduction": "评估车辆对环境的真实影响，需要超越排气管的狭隘视角，采用全生命周期的分析方法。本练习将引导你应用“从油井到车轮” (Well-To-Wheel, WTW) 的评估框架，为传统的内燃机汽车 (ICEV) 和纯电动汽车 (BEV) 构建碳排放模型。你将通过亲手计算发现，燃料或电力的上游来源（例如原油类型或电网结构）如何从根本上决定了一辆汽车的真实碳足迹 。",
            "id": "4132969",
            "problem": "一个建模团队以每公里为基准，比较了内燃机汽车 (ICEV) 和纯电动汽车 (BEV) 的油井到车轮 (WTW) 二氧化碳排放。目标是从第一性原理出发，为每种动力系统构建 WTW 二氧化碳排放模型，并量化其如何依赖于燃料原料和过程排放。\n\n从以下基本定义和定律开始：\n- 油箱到车轮 (TTW) 排放等于车辆每公里能耗与每单位输送能量的尾气二氧化碳排放因子的乘积。\n- 上游排放等于车辆每公里能耗与燃料或电力每单位输送能量的上游排放因子的乘积，该因子本身是供应能量的原料和过程的加权平均值。\n- 油井到车轮排放是 TTW 排放和上游排放的总和，反映了碳流的质量守恒以及总生命周期排放等于尾气排放加上游排放的能量核算恒等式。\n\n假设 ICEV 使用汽油，其 TTW 排放因子为 $c_{\\text{TTW},g} = 73\\,\\text{g\\,CO}_2\\text{/MJ}$，车辆能耗为 $E_{\\text{ICE}} = 2.5\\,\\text{MJ/km}$。上游汽油排放因子取决于原油原料和过程能源。设油砂原油的份额为 $\\alpha$（其中 $0 \\leq \\alpha \\leq 1$），因此每单位输送汽油能量的原油原料加权上游排放因子为 $(1-\\alpha) \\, EF_{g,\\text{conv}} + \\alpha \\, EF_{g,\\text{sands}}$，其中 $EF_{g,\\text{conv}} = 18\\,\\text{g\\,CO}_2\\text{/MJ}$ 且 $EF_{g,\\text{sands}} = 80\\,\\text{g\\,CO}_2\\text{/MJ}$。精炼过程排放包括制氢，其强度随油砂份额的增加而增加，建模为 $h(\\alpha) = h_0 + h_1 \\alpha$，其中 $h_0 = 4\\,\\text{g\\,CO}_2\\text{/MJ}$ 且 $h_1 = 6\\,\\text{g\\,CO}_2\\text{/MJ}$。将每单位输送能量的上游汽油排放视为原料项和 $h(\\alpha)$ 的总和。\n\n假设 BEV 的尾气排放为零，其耗电量为 $E_{\\text{BEV}} = 0.18\\,\\text{kWh/km}$。电网发电结构为：煤炭份额为 $\\beta$，天然气份额为 $\\gamma$，风能份额为 $1-\\beta-\\gamma$。发电排放因子分别为：煤炭 $e_c = 900\\,\\text{g\\,CO}_2\\text{/kWh}$，天然气 $e_g = 400\\,\\text{g\\,CO}_2\\text{/kWh}$，以及风能 $e_w = 12\\,\\text{g\\,CO}_2\\text{/kWh}$。每单位输送电力的上游排放是混合加权平均值 $ \\beta \\, e_c + \\gamma \\, e_g + (1-\\beta-\\gamma) \\, e_w$。\n\n(a) 使用上述基本定义，构建 ICEV 和 BEV 每公里 WTW 二氧化碳排放的表达式，将其表示为 $\\alpha$、$\\beta$ 和 $\\gamma$ 的函数。保持表达式为符号形式。\n\n(b) 在 $\\alpha = 0.25$ 和 $\\gamma = 0.50$ 的条件下，求解当 ICEV 和 BEV 每公里 WTW 二氧化碳排放相等时的煤炭份额 $\\beta^{\\star}$。将你的最终答案 $\\beta^{\\star}$ 四舍五入到四位有效数字。将 $\\beta^{\\star}$ 表示为无单位的小数。",
            "solution": "该问题要求构建和比较使用汽油的内燃机汽车 (ICEV) 和纯电动汽车 (BEV) 的油井到车轮 (WTW) 二氧化碳排放。分析将分两部分进行：(a) 推导两种车辆每公里 WTW 排放的符号表达式，以及 (b) 在给定条件下，计算当它们的排放相等时，电力结构中特定的煤炭份额。\n\n### (a)部分：WTW 排放表达式\n\n我们首先根据所提供的定义和参数构建表达式。WTW 排放定义为油箱到车轮 (TTW) 排放和上游 (油井到油箱) 排放的总和。\n\n**内燃机汽车 (ICEV)**\n\nICEV 的 WTW 排放（表示为 $W_{\\text{ICE}}$）由下式给出：\n$$W_{\\text{ICE}} = \\text{TTW}_{\\text{ICE}} + \\text{Upstream}_{\\text{ICE}}$$\n\nTTW 排放是车辆每公里能耗 $E_{\\text{ICE}}$ 与汽油尾气排放因子 $c_{\\text{TTW},g}$ 的乘积。\n$$\\text{TTW}_{\\text{ICE}} = E_{\\text{ICE}} \\cdot c_{\\text{TTW},g}$$\n\n上游排放是 $E_{\\text{ICE}}$ 与汽油上游排放因子（我们表示为 $c_{\\text{up},g}(\\alpha)$）的乘积。该因子是油砂原油份额 $\\alpha$ 的函数。它由一个原料部分和一个精炼过程部分组成。\n原料部分为 $(1-\\alpha) \\, EF_{g,\\text{conv}} + \\alpha \\, EF_{g,\\text{sands}}$。\n精炼过程部分为 $h(\\alpha) = h_0 + h_1 \\alpha$。\n总的上游排放因子是它们的和：\n$$c_{\\text{up},g}(\\alpha) = \\left( (1-\\alpha) \\, EF_{g,\\text{conv}} + \\alpha \\, EF_{g,\\text{sands}} \\right) + (h_0 + h_1 \\alpha)$$\n\n因此，上游排放为：\n$$\\text{Upstream}_{\\text{ICE}} = E_{\\text{ICE}} \\cdot c_{\\text{up},g}(\\alpha)$$\n\n结合这些部分，ICEV 的总 WTW 排放作为 $\\alpha$ 的函数为：\n$$W_{\\text{ICE}}(\\alpha) = E_{\\text{ICE}} \\cdot c_{\\text{TTW},g} + E_{\\text{ICE}} \\cdot \\left[ (1-\\alpha) \\, EF_{g,\\text{conv}} + \\alpha \\, EF_{g,\\text{sands}} + h_0 + h_1 \\alpha \\right]$$\n提出公因子 $E_{\\text{ICE}}$ 并按 $\\alpha$ 合并项，得到最终表达式：\n$$W_{\\text{ICE}}(\\alpha) = E_{\\text{ICE}} \\left[ c_{\\text{TTW},g} + EF_{g,\\text{conv}} + h_0 + \\alpha (EF_{g,\\text{sands}} - EF_{g,\\text{conv}} + h_1) \\right]$$\n\n**纯电动汽车 (BEV)**\n\nBEV 的 WTW 排放（表示为 $W_{\\text{BEV}}$）为：\n$$W_{\\text{BEV}} = \\text{TTW}_{\\text{BEV}} + \\text{Upstream}_{\\text{BEV}}$$\n\n问题指出 BEV 的尾气排放为零，因此 $\\text{TTW}_{\\text{BEV}} = 0$。所以 WTW 排放等于上游排放。\n$$\\text{Upstream}_{\\text{BEV}} = E_{\\text{BEV}} \\cdot c_{\\text{up},e}(\\beta, \\gamma)$$\n其中 $E_{\\text{BEV}}$ 是车辆的耗电量，而 $c_{\\text{up},e}(\\beta, \\gamma)$ 是电力的上游排放因子。该因子取决于发电结构，由煤炭 ($\\beta$)、天然气 ($\\gamma$) 和风能 ($1-\\beta-\\gamma$) 的份额定义。\n\n上游排放因子是每种发电来源排放因子的加权平均值：\n$$c_{\\text{up},e}(\\beta, \\gamma) = \\beta \\, e_c + \\gamma \\, e_g + (1-\\beta-\\gamma) \\, e_w$$\n其中 $e_c$、$e_g$ 和 $e_w$ 分别是煤炭、天然气和风能的发电排放因子。\n\nBEV 的总 WTW 排放作为 $\\beta$ 和 $\\gamma$ 的函数为：\n$$W_{\\text{BEV}}(\\beta, \\gamma) = E_{\\text{BEV}} \\left[ \\beta \\, e_c + \\gamma \\, e_g + (1-\\beta-\\gamma) \\, e_w \\right]$$\n按 $\\beta$ 和 $\\gamma$ 合并项得到：\n$$W_{\\text{BEV}}(\\beta, \\gamma) = E_{\\text{BEV}} \\left[ e_w + \\beta (e_c - e_w) + \\gamma (e_g - e_w) \\right]$$\n\n### (b)部分：煤炭份额持平点计算\n\n我们被要求在给定 $\\alpha = 0.25$ 和 $\\gamma = 0.50$ 的条件下，找出使两种车辆的 WTW 排放相等的煤炭份额 $\\beta^{\\star}$。条件是：\n$$W_{\\text{ICE}}(\\alpha=0.25) = W_{\\text{BEV}}(\\beta^{\\star}, \\gamma=0.50)$$\n\n首先，我们使用提供的参数计算 ICEV 的 WTW 排放的数值：\n$E_{\\text{ICE}} = 2.5\\,\\text{MJ/km}$\n$c_{\\text{TTW},g} = 73\\,\\text{g\\,CO}_2\\text{/MJ}$\n$EF_{g,\\text{conv}} = 18\\,\\text{g\\,CO}_2\\text{/MJ}$\n$EF_{g,\\text{sands}} = 80\\,\\text{g\\,CO}_2\\text{/MJ}$\n$h_0 = 4\\,\\text{g\\,CO}_2\\text{/MJ}$\n$h_1 = 6\\,\\text{g\\,CO}_2\\text{/MJ}$\n$\\alpha = 0.25$\n\n汽油的总上游因子为：\n$c_{\\text{up},g}(0.25) = (1-0.25) \\cdot 18 + 0.25 \\cdot 80 + 4 + 6 \\cdot 0.25$\n$c_{\\text{up},g}(0.25) = 0.75 \\cdot 18 + 0.25 \\cdot 80 + 4 + 1.5$\n$c_{\\text{up},g}(0.25) = 13.5 + 20 + 4 + 1.5 = 39\\,\\text{g\\,CO}_2\\text{/MJ}$\n\n汽油的总 WTW 排放因子为 $c_{\\text{TTW},g} + c_{\\text{up},g}(0.25) = 73 + 39 = 112\\,\\text{g\\,CO}_2\\text{/MJ}$。\n因此，ICEV 的排放为：\n$W_{\\text{ICE}}(0.25) = E_{\\text{ICE}} \\cdot 112 = 2.5 \\cdot 112 = 280\\,\\text{g\\,CO}_2\\text{/km}$。\n\n接下来，我们用 $\\gamma = 0.50$ 和给定的参数写出 BEV 的排放表达式：\n$E_{\\text{BEV}} = 0.18\\,\\text{kWh/km}$\n$e_c = 900\\,\\text{g\\,CO}_2\\text{/kWh}$\n$e_g = 400\\,\\text{g\\,CO}_2\\text{/kWh}$\n$e_w = 12\\,\\text{g\\,CO}_2\\text{/kWh}$\n$\\gamma = 0.50$\n\n$W_{\\text{BEV}}(\\beta, 0.50) = 0.18 \\left[ \\beta \\cdot 900 + 0.50 \\cdot 400 + (1-\\beta-0.50) \\cdot 12 \\right]$\n$W_{\\text{BEV}}(\\beta, 0.50) = 0.18 \\left[ 900\\beta + 200 + (0.50-\\beta) \\cdot 12 \\right]$\n$W_{\\text{BEV}}(\\beta, 0.50) = 0.18 \\left[ 900\\beta + 200 + 6 - 12\\beta \\right]$\n$W_{\\text{BEV}}(\\beta, 0.50) = 0.18 \\left[ 888\\beta + 206 \\right]$\n\n现在，我们令排放相等以求出 $\\beta^{\\star}$：\n$$280 = 0.18 \\left( 888\\beta^{\\star} + 206 \\right)$$\n为了求解 $\\beta^{\\star}$，我们重排方程：\n$$\\frac{280}{0.18} = 888\\beta^{\\star} + 206$$\n$$1555.\\overline{5} = 888\\beta^{\\star} + 206$$\n$$1555.\\overline{5} - 206 = 888\\beta^{\\star}$$\n$$1349.\\overline{5} = 888\\beta^{\\star}$$\n$$\\beta^{\\star} = \\frac{1349.\\overline{5}}{888} = \\frac{12146/9}{888} = \\frac{12146}{7992} = \\frac{6073}{3996} \\approx 1.5197697...$$\n四舍五入到四位有效数字，我们得到 $\\beta^{\\star} = 1.520$。\n\n必须注意这个结果的物理解释。变量 $\\beta$ 代表电力结构中的一个份额，因此它必须有界，即 $0 \\leq \\beta \\leq 1$。此外，所有份额的总和必须为 1，所以 $\\beta + \\gamma \\leq 1$。给定 $\\gamma = 0.50$，$\\beta$ 的物理可能范围是 $0 \\leq \\beta \\leq 0.50$。我们计算出的值 $\\beta^{\\star} \\approx 1.520$ 在这个范围之外。\n这个数学结果表明，在指定条件下（$\\alpha=0.25, \\gamma=0.50$），不存在物理上可实现的电力结构，使得 BEV 的 WTW 排放等于 ICEV 的排放。\n由于 BEV 的 WTW 排放是 $\\beta$ 的增函数（因为 $e_c > e_w$），BEV 在有效范围内的最大排放发生在 $\\beta=0.50$ 时。在这一点上，$W_{\\text{BEV}}(0.50, 0.50) = E_{\\text{BEV}}(0.5e_c + 0.5e_g) = 0.18(0.5 \\cdot 900 + 0.5 \\cdot 400) = 0.18(450+200) = 117\\,\\text{g\\,CO}_2\\text{/km}$。由于 $117  280$，对于任何有效的 $\\beta$，BEV 的污染总是低于 ICEV。这个持平点纯粹是一个数学外推。问题要求解 $\\beta^{\\star}$，我们已经完成了计算。\n最终答案必须四舍五入到四位有效数字。\n\n$\\beta^{\\star} = 1.5197697... \\approx 1.520$。",
            "answer": "$$\n\\boxed{1.520}\n$$"
        },
        {
            "introduction": "交通部门的长期能源和排放情景预测，其核心在于准确模拟车辆存量的动态演变。本实践将带你掌握存量-流量动态模型这一基本工具。通过编写一个离散时间模型，你将模拟新车销售和车辆报废率如何共同决定车队总规模的逐年变化，并量化一项旨在影响新车销售的政策对未来车辆存量的累积效应。",
            "id": "4132927",
            "problem": "考虑交通运输部门中车辆存量的离散时间表示。设 $N_t$ 表示第 $t$ 年末的车辆存量（单位：辆），设 $\\sigma_t \\in [0,1]$ 表示年度报废率（无量纲，以小数表示，不使用百分号），并设 $S_t$ 表示年度新车销量（单位：辆/年）。假设时间步长为一年。以下定义适用：留存率是指在某一年报废后仍然存在的车辆比例，而车辆的流入量由销量给出。\n\n从存量-流量守恒原则出发，推导车辆存量的运动定律。然后，对于给定的基准销量序列 $S_t^{\\mathrm{b}}$ 和一个由政策调整的销量序列 $S_t^{\\mathrm{p}}$（定义为 $S_t^{\\mathrm{p}} = S_t^{\\mathrm{b}} (1 + p_t)$，其中 $p_t$ 是政策引起的销量分数变化，无量纲，以小数表示，不使用百分号），计算在基准和政策两种情景下的总存量路径。对于每个测试用例，报告 $T$ 年后最终存量的差异，定义为 $N_T^{\\mathrm{p}} - N_T^{\\mathrm{b}}$（单位：辆）。\n\n所有答案必须以车辆为单位表示，并四舍五入到一位小数。不涉及角度。时间以年为单位。\n\n实现一个程序，对于每个测试用例，执行以下步骤：\n- 使用给定的 $N_0$ 初始化 $t=0$ 时的存量。\n- 对于 $t = 0, 1, \\dots, T-1$，使用推导出的存量-流量定律，在基准和政策销量序列下更新存量。\n- 计算 $N_T^{\\mathrm{b}}$ 和 $N_T^{\\mathrm{p}}$，然后计算差值 $N_T^{\\mathrm{p}} - N_T^{\\mathrm{b}}$。\n- 将最终差值四舍五入到一位小数。\n\n测试套件规范：\n- 案例 1（具有恒定报废率和早期政策增长的通用情况）：\n  - $T = 10$， $N_0 = 1{,}000{,}000$ 辆。\n  - 基准销量序列 $S_t^{\\mathrm{b}}$（辆/年）： $[80{,}000, 82{,}000, 84{,}000, 86{,}000, 88{,}000, 90{,}000, 92{,}000, 94{,}000, 96{,}000, 98{,}000]$。\n  - 报废率 $\\sigma_t$: $[0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05]$。\n  - 政策乘数 $p_t$: $[0.10, 0.10, 0.10, 0.10, 0.10, 0.00, 0.00, 0.00, 0.00, 0.00]$。\n\n- 案例 2（零报废率的边界情况）：\n  - $T = 5$， $N_0 = 500{,}000$ 辆。\n  - 基准销量序列 $S_t^{\\mathrm{b}}$: $[50{,}000, 50{,}000, 50{,}000, 50{,}000, 50{,}000]$。\n  - 报废率 $\\sigma_t$: $[0.00, 0.00, 0.00, 0.00, 0.00]$。\n  - 政策乘数 $p_t$: $[0.20, 0.20, 0.20, 0.20, 0.20]$。\n\n- 案例 3（高报废率和对销量的负面政策影响的边缘情况）：\n  - $T = 8$， $N_0 = 200{,}000$ 辆。\n  - 基准销量序列 $S_t^{\\mathrm{b}}$: $[30{,}000, 29{,}000, 28{,}000, 27{,}000, 26{,}000, 25{,}000, 24{,}000, 23{,}000]$。\n  - 报废率 $\\sigma_t$: $[0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15]$。\n  - 政策乘数 $p_t$: $[-0.25, -0.25, -0.25, -0.25, -0.25, -0.25, -0.25, -0.25]$。\n\n- 案例 4（时变报废率、零初始存量和后期政策激增的情况）：\n  - $T = 6$， $N_0 = 0$ 辆。\n  - 基准销量序列 $S_t^{\\mathrm{b}}$: $[10{,}000, 12{,}000, 14{,}000, 16{,}000, 18{,}000, 20{,}000]$。\n  - 报废率 $\\sigma_t$: $[0.00, 0.05, 0.10, 0.00, 0.20, 0.05]$。\n  - 政策乘数 $p_t$: $[0.00, 0.00, 0.50, 0.00, 0.00, 1.00]$。\n\n你的程序应产生一行输出，其中包含按测试用例顺序排列的结果，形式为方括号括起来的逗号分隔列表（例如，$[r_1,r_2,r_3,r_4]$），其中每个 $r_i$ 是最终存量差 $N_T^{\\mathrm{p}} - N_T^{\\mathrm{b}}$（单位：辆），四舍五入到一位小数。",
            "solution": "首先，我们基于存量-流量守恒原则推导车辆存量的运动定律。设 $N_t$ 为第 $t$ 年末的车辆存量。第 $t+1$ 年末的存量，记为 $N_{t+1}$，等于第 $t$ 年末的存量 $N_t$，经过从第 $t$ 年末到第 $t+1$ 年末这一年间发生的流出（报废）和流入（销售）调整后的结果。\n\n问题陈述 $\\sigma_t$ 是第 $t$ 年的年度报废率。根据措辞和标准建模惯例，输入序列中以 $t$ 为索引的参数（$\\sigma_t$, $S_t$）是控制从第 $t$ 年末到第 $t+1$ 年末动态变化的参数。报废量是此期间初存量 $N_t$ 的一部分。因此，报废的车辆数量为 $\\sigma_t N_t$。在同一时期内销售的新车数量（流入量）为 $S_t$。\n\n存量-流量守恒方程为：\n$$N_{t+1} = (\\text{期初存量}) - (\\text{期内流出量}) + (\\text{期内流入量})$$\n$$N_{t+1} = N_t - \\sigma_t N_t + S_t$$\n这可以重写为车辆存量的运动定律：\n$$N_{t+1} = N_t (1 - \\sigma_t) + S_t$$\n该方程将从初始条件 $N_0$ 开始，对 $t = 0, 1, \\dots, T-1$ 进行迭代。\n\n接下来，我们将此定律应用于两个指定的场景：基准和政策。\n\n在基准情景下，存量 $N_t^{\\text{b}}$ 按以下方式演变：\n$$N_{t+1}^{\\text{b}} = N_t^{\\text{b}}(1 - \\sigma_t) + S_t^{\\text{b}}$$\n初始条件为 $N_0^{\\text{b}} = N_0$。\n\n在政策情景下，新车销量由一个分数变化 $p_t$ 进行调整，使得 $S_t^{\\text{p}} = S_t^{\\text{b}} (1 + p_t)$。存量 $N_t^{\\text{p}}$ 按以下方式演变：\n$$N_{t+1}^{\\text{p}} = N_t^{\\text{p}}(1 - \\sigma_t) + S_t^{\\text{p}}$$\n$$N_{t+1}^{\\text{p}} = N_t^{\\text{p}}(1 - \\sigma_t) + S_t^{\\text{b}}(1 + p_t)$$\n初始条件为 $N_0^{\\text{p}} = N_0$。\n\n目标是计算最终存量的差异 $\\Delta_T = N_T^{\\text{p}} - N_T^{\\text{b}}$。我们可以不独立模拟两条路径并在最后相减，而是为差值 $\\Delta_t = N_t^{\\text{p}} - N_t^{\\text{b}}$ 推导一个更直接、更简洁的递推关系。\n\n初始差值为 $\\Delta_0 = N_0^{\\text{p}} - N_0^{\\text{b}} = N_0 - N_0 = 0$。\n\n对于后续的时间步，我们从政策方程中减去基准方程：\n$$\\Delta_{t+1} = N_{t+1}^{\\text{p}} - N_{t+1}^{\\text{b}}$$\n$$= \\left( N_t^{\\text{p}}(1 - \\sigma_t) + S_t^{\\text{b}}(1 + p_t) \\right) - \\left( N_t^{\\text{b}}(1 - \\sigma_t) + S_t^{\\text{b}} \\right)$$\n$$= (N_t^{\\text{p}} - N_t^{\\text{b}})(1 - \\sigma_t) + S_t^{\\text{b}}(1 + p_t) - S_t^{\\text{b}}$$\n$$= \\Delta_t(1 - \\sigma_t) + S_t^{\\text{b}} p_t$$\n\n这为存量差值提供了一个递推公式：\n$$\\Delta_{t+1} = \\Delta_t(1 - \\sigma_t) + S_t^{\\text{b}} p_t$$\n我们可以从 $\\Delta_0 = 0$ 开始，对 $t = 0, 1, \\dots, T-1$ 进行迭代求解，以找到最终的差值 $\\Delta_T$。\n\n以下是实现此逻辑的 Python 程序：\n```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the vehicle stock modeling problem for the given test suite.\n    \"\"\"\n\n    test_cases = [\n        {\n            \"T\": 10, \"N0\": 1000000,\n            \"S_b\": [80000, 82000, 84000, 86000, 88000, 90000, 92000, 94000, 96000, 98000],\n            \"sigma\": [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05],\n            \"p\": [0.10, 0.10, 0.10, 0.10, 0.10, 0.00, 0.00, 0.00, 0.00, 0.00],\n        },\n        {\n            \"T\": 5, \"N0\": 500000,\n            \"S_b\": [50000, 50000, 50000, 50000, 50000],\n            \"sigma\": [0.00, 0.00, 0.00, 0.00, 0.00],\n            \"p\": [0.20, 0.20, 0.20, 0.20, 0.20],\n        },\n        {\n            \"T\": 8, \"N0\": 200000,\n            \"S_b\": [30000, 29000, 28000, 27000, 26000, 25000, 24000, 23000],\n            \"sigma\": [0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15],\n            \"p\": [-0.25, -0.25, -0.25, -0.25, -0.25, -0.25, -0.25, -0.25],\n        },\n        {\n            \"T\": 6, \"N0\": 0,\n            \"S_b\": [10000, 12000, 14000, 16000, 18000, 20000],\n            \"sigma\": [0.00, 0.05, 0.10, 0.00, 0.20, 0.05],\n            \"p\": [0.00, 0.00, 0.50, 0.00, 0.00, 1.00],\n        }\n    ]\n\n    results = []\n\n    for case in test_cases:\n        T = case[\"T\"]\n        S_b_seq = np.array(case[\"S_b\"], dtype=np.float64)\n        sigma_seq = np.array(case[\"sigma\"], dtype=np.float64)\n        p_seq = np.array(case[\"p\"], dtype=np.float64)\n\n        # Initialize the stock difference Delta_t = N_t^p - N_t^b.\n        # At t=0, Delta_0 = N_0 - N_0 = 0.\n        stock_diff = 0.0\n\n        # Iterate from t=0 to T-1 to find Delta_T.\n        # The recurrence relation is Delta_{t+1} = Delta_t * (1 - sigma_t) + S_b_t * p_t.\n        for t in range(T):\n            survival_fraction = 1.0 - sigma_seq[t]\n            policy_sales_diff = S_b_seq[t] * p_seq[t]\n            \n            # This calculates Delta_{t+1} from Delta_t\n            stock_diff = stock_diff * survival_fraction + policy_sales_diff\n\n        # The final stock_diff is Delta_T.\n        # Round the result to one decimal place.\n        results.append(round(stock_diff, 1))\n\n    # The problem asks for a single line of output in a specific format.\n    # The calculated results are the final answer.\n    # print(f\"[{','.join(map(str, results))}]\")\n\n# The function call is commented out as this code block serves as the solution description.\n# The execution of this code yields the final answer.\n```",
            "answer": "[29479.1,50000.0,-31125.6,25320.0]"
        }
    ]
}