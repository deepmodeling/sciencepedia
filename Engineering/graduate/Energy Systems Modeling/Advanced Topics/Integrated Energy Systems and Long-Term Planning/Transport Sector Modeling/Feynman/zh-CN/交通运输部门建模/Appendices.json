{
    "hands_on_practices": [
        {
            "introduction": "车辆的能源消耗并非一个固定值，它深受驾驶条件，特别是速度的深刻影响。本练习旨在连接宏观交通流理论与微观车辆物理学，量化交通拥堵带来的实际能源惩罚。通过解决这个问题 ，您将学习如何应用交通基本图来确定车速，并使用基于物理的模型来计算由此产生的能源消耗，从而在系统级动态与个体车辆性能之间建立起关键的联系。",
            "id": "4132971",
            "problem": "考虑一个由纯电动汽车（BEV）组成的均匀、稳定的交通流，行驶在一段长度为 $L = 10\\,\\text{km}$ 的水平路段上。每车道交通流为 $q = 1800\\,\\text{veh}\\,\\text{h}^{-1}\\,\\text{lane}^{-1}$。在基准（自由流）状况下，密度为 $k_0 = 20\\,\\text{veh}\\,\\text{km}^{-1}\\,\\text{lane}^{-1}$。在拥堵状况下，密度增加到 $k_1 = 60\\,\\text{veh}\\,\\text{km}^{-1}\\,\\text{lane}^{-1}$。假设每辆代表性纯电动汽车都以平均车流速度行驶，忽略启动瞬态，且在整个路段上没有加速或减速。\n\n使用车辆守恒（基本图）$q = k\\,u$ 分别求出基准和拥堵状态下的平均速度 $u_0$ 和 $u_1$。然后，基于基本力学对牵引功率 $P_t(u)$ 进行如下建模。阻力包括滚动阻力 $F_{\\text{roll}} = C_{\\text{rr}}\\,m\\,g$ 和空气动力阻力 $F_{\\text{aero}}(u) = \\frac{1}{2}\\,\\rho\\,C_d\\,A\\,u^2$。车轮处的机械功率为 $P_{\\text{mech}}(u) = \\left(F_{\\text{roll}} + F_{\\text{aero}}(u)\\right)u$。电池牵引功率为 $P_t(u) = \\frac{P_{\\text{mech}}(u)}{\\eta} + P_{\\text{aux}}$，其中 $\\eta$ 是传动系统效率，$P_{\\text{aux}}$ 是恒定的附件功率。该路段为水平路段，因此坡度阻力为零，且根据假设，动能在整个路段上没有变化。\n\n车辆和环境参数为：$m = 1500\\,\\text{kg}$，$C_{\\text{rr}} = 0.010$，$g = 9.81\\,\\text{m}\\,\\text{s}^{-2}$，$\\rho = 1.225\\,\\text{kg}\\,\\text{m}^{-3}$，$C_d = 0.30$，$A = 2.2\\,\\text{m}^2$，$\\eta = 0.92$，$P_{\\text{aux}} = 5000\\,\\text{W}$。在每种状态下，都将速度 $u_0$ 和 $u_1$ 视为在整个路段上是恒定的。\n\n使用 $E(u) = P_t(u)\\,T(u)$ 和 $T(u) = L/u$，计算单车在速度为 $u_0$ 和 $u_1$ 时通过该路段的能耗，分别表示为 $E(u_0)$ 和 $E(u_1)$。确定单车拥堵能量惩罚 $\\Delta E = E(u_1) - E(u_0)$。以千瓦时（$\\text{kWh}$）为单位表示最终的能量惩罚，并将答案四舍五入到四位有效数字。",
            "solution": "用户希望我解决一个问题。\n\n**1. 问题验证**\n\n*   **步骤 1：提取已知条件**\n    *   道路长度：$L = 10\\,\\text{km}$\n    *   交通流：$q = 1800\\,\\text{veh}\\,\\text{h}^{-1}\\,\\text{lane}^{-1}$\n    *   基准密度：$k_0 = 20\\,\\text{veh}\\,\\text{km}^{-1}\\,\\text{lane}^{-1}$\n    *   拥堵密度：$k_1 = 60\\,\\text{veh}\\,\\text{km}^{-1}\\,\\text{lane}^{-1}$\n    *   基本图关系：$q = k\\,u$\n    *   纯电动汽车质量：$m = 1500\\,\\text{kg}$\n    *   滚动阻力系数：$C_{\\text{rr}} = 0.010$\n    *   重力加速度：$g = 9.81\\,\\text{m}\\,\\text{s}^{-2}$\n    *   空气密度：$\\rho = 1.225\\,\\text{kg}\\,\\text{m}^{-3}$\n    *   风阻系数：$C_d = 0.30$\n    *   迎风面积：$A = 2.2\\,\\text{m}^2$\n    *   传动系统效率：$\\eta = 0.92$\n    *   附件功率：$P_{\\text{aux}} = 5000\\,\\text{W}$\n    *   滚动阻力：$F_{\\text{roll}} = C_{\\text{rr}}\\,m\\,g$\n    *   空气动力阻力：$F_{\\text{aero}}(u) = \\frac{1}{2}\\,\\rho\\,C_d\\,A\\,u^2$\n    *   车轮处机械功率：$P_{\\text{mech}}(u) = \\left(F_{\\text{roll}} + F_{\\text{aero}}(u)\\right)u$\n    *   电池牵引功率：$P_t(u) = \\frac{P_{\\text{mech}}(u)}{\\eta} + P_{\\text{aux}}$\n    *   单车能耗：$E(u) = P_t(u)\\,T(u)$\n    *   行驶时间：$T(u) = L/u$\n    *   要求输出：$\\Delta E = E(u_1) - E(u_0)$，单位为 kWh，四舍五入到四位有效数字。\n\n*   **步骤 2：使用提取的已知条件进行验证**\n    *   **科学依据：** 该问题基于交通流理论的既定原则（基本图 $q=ku$）和车辆动力学（滚动阻力、空气动力阻力和功率-能量关系）。这些是交通和汽车工程领域的标准模型。所有参数都符合物理现实。\n    *   **良态问题：** 该问题是自洽的，提供了所有必需的参数和方程。目标陈述清晰，并且通往唯一解的路径定义明确。\n    *   **客观性：** 该问题以精确、客观的语言陈述。\n    *   **缺陷检查：**\n        *   该问题在科学上或事实上没有不健全之处。\n        *   该问题是能源系统/交通建模领域一个可形式化且相关的问题。\n        *   问题设定完整且一致，尽管需要仔细的单位管理，这是物理问题求解的标准部分。\n        *   条件和数据是现实可行的。\n        *   问题是良态的，结构明确。\n        *   该问题是一个实质性的多步计算，并非微不足道或同义反复。\n        *   该问题是科学上可验证的。\n\n*   **步骤 3：结论与行动**\n    *   该问题是**有效的**。现在开始求解过程。\n\n**2. 求解**\n\n目标是计算单车拥堵能量惩罚 $\\Delta E = E(u_1) - E(u_0)$，其中 $u_0$ 和 $u_1$ 分别是基准和拥堵状况下的平均车速。\n\n首先，我们使用交通流基本图 $q = k\\,u$ 来确定速度，这意味着 $u = q/k$。两种状态下的流量 $q$ 是恒定的。\n\n基准速度 $u_0$ 为：\n$$u_0 = \\frac{q}{k_0} = \\frac{1800\\,\\text{veh}\\,\\text{h}^{-1}\\,\\text{lane}^{-1}}{20\\,\\text{veh}\\,\\text{km}^{-1}\\,\\text{lane}^{-1}} = 90\\,\\text{km}\\,\\text{h}^{-1}$$\n拥堵速度 $u_1$ 为：\n$$u_1 = \\frac{q}{k_1} = \\frac{1800\\,\\text{veh}\\,\\text{h}^{-1}\\,\\text{lane}^{-1}}{60\\,\\text{veh}\\,\\text{km}^{-1}\\,\\text{lane}^{-1}} = 30\\,\\text{km}\\,\\text{h}^{-1}$$\n\n对于功率和能量计算，所有单位都必须转换为国际单位制（SI）。从 $\\text{km}\\,\\text{h}^{-1}$ 到 $\\text{m}\\,\\text{s}^{-1}$ 的速度转换因子为 $\\frac{1000}{3600} = \\frac{1}{3.6}$。\n$$u_0 = 90\\,\\text{km}\\,\\text{h}^{-1} = \\frac{90}{3.6}\\,\\text{m}\\,\\text{s}^{-1} = 25\\,\\text{m}\\,\\text{s}^{-1}$$\n$$u_1 = 30\\,\\text{km}\\,\\text{h}^{-1} = \\frac{30}{3.6}\\,\\text{m}\\,\\text{s}^{-1} = \\frac{25}{3}\\,\\text{m}\\,\\text{s}^{-1}$$\n路段长度为 $L = 10\\,\\text{km} = 10000\\,\\text{m}$。\n\n接下来，我们构建车辆通过该路段所消耗的总能量 $E(u)$ 的表达式。能量是总功率 $P_t(u)$ 乘以行驶时间 $T(u) = L/u$。\n$$E(u) = P_t(u) \\cdot T(u) = P_t(u) \\frac{L}{u}$$\n电池的总功率 $P_t(u)$ 由下式给出：\n$$P_t(u) = \\frac{P_{\\text{mech}}(u)}{\\eta} + P_{\\text{aux}}$$\n车轮处的机械功率 $P_{\\text{mech}}(u)$ 是总阻力与车速的乘积：\n$$P_{\\text{mech}}(u) = \\left(F_{\\text{roll}} + F_{\\text{aero}}(u)\\right)u$$\n其中 $F_{\\text{roll}} = C_{\\text{rr}}\\,m\\,g$ 且 $F_{\\text{aero}}(u) = \\frac{1}{2}\\,\\rho\\,C_d\\,A\\,u^2$。\n\n将这些代入能量方程：\n$$E(u) = \\left[ \\frac{\\left(C_{\\text{rr}}\\,m\\,g + \\frac{1}{2}\\,\\rho\\,C_d\\,A\\,u^2\\right)u}{\\eta} + P_{\\text{aux}} \\right] \\frac{L}{u}$$\n将 $\\frac{L}{u}$ 项展开可得：\n$$E(u) = \\frac{L \\left(C_{\\text{rr}}\\,m\\,g + \\frac{1}{2}\\,\\rho\\,C_d\\,A\\,u^2\\right)u}{\\eta u} + \\frac{L P_{\\text{aux}}}{u}$$\n$$E(u) = \\frac{L}{\\eta}\\left(C_{\\text{rr}}\\,m\\,g + \\frac{1}{2}\\,\\rho\\,C_d\\,A\\,u^2\\right) + \\frac{L P_{\\text{aux}}}{u}$$\n\n拥堵能量惩罚为 $\\Delta E = E(u_1) - E(u_0)$。\n$$\\Delta E = \\left[ \\frac{L}{\\eta}\\left(C_{\\text{rr}}\\,m\\,g + \\frac{1}{2}\\,\\rho\\,C_d\\,A\\,u_1^2\\right) + \\frac{L P_{\\text{aux}}}{u_1} \\right] - \\left[ \\frac{L}{\\eta}\\left(C_{\\text{rr}}\\,m\\,g + \\frac{1}{2}\\,\\rho\\,C_d\\,A\\,u_0^2\\right) + \\frac{L P_{\\text{aux}}}{u_0} \\right]$$\n与滚动阻力相对应的项 $\\frac{L}{\\eta}C_{\\text{rr}}\\,m\\,g$ 与速度无关，因此被抵消。\n$$\\Delta E = \\left(\\frac{L}{2\\eta}\\rho\\,C_d\\,A\\,u_1^2 + \\frac{L P_{\\text{aux}}}{u_1}\\right) - \\left(\\frac{L}{2\\eta}\\rho\\,C_d\\,A\\,u_0^2 + \\frac{L P_{\\text{aux}}}{u_0}\\right)$$\n合并同类项得到惩罚的简化表达式：\n$$\\Delta E = \\frac{L\\,\\rho\\,C_d\\,A}{2\\eta}(u_1^2 - u_0^2) + L\\,P_{\\text{aux}}\\left(\\frac{1}{u_1} - \\frac{1}{u_0}\\right)$$\n该表达式将惩罚分为两个部分：一个来自空气动力阻力能量的变化，另一个来自因行驶时间不同而导致的附件能耗的变化。\n\n现在我们将数值代入该表达式。\n第一项（空气动力学惩罚）：\n$$u_1^2 - u_0^2 = \\left(\\frac{25}{3}\\right)^2 - (25)^2 = \\frac{625}{9} - 625 = 625\\left(\\frac{1}{9} - 1\\right) = 625\\left(-\\frac{8}{9}\\right) = -\\frac{5000}{9}\\,\\text{m}^2\\,\\text{s}^{-2}$$\n$$\\Delta E_{\\text{aero}} = \\frac{(10000\\,\\text{m})(1.225\\,\\text{kg}\\,\\text{m}^{-3})(0.30)(2.2\\,\\text{m}^2)}{2(0.92)} \\left(-\\frac{5000}{9}\\,\\text{m}^2\\,\\text{s}^{-2}\\right)$$\n$$\\Delta E_{\\text{aero}} = \\frac{8085}{1.84} \\left(-\\frac{5000}{9}\\right)\\,\\text{J} = 4394.0217... \\times (-555.555...)\\,\\text{J} \\approx -2441123.188\\,\\text{J}$$\n负号表示在较低的拥堵速度下，由于空气动力阻力减小而节省了能量。\n\n第二项（附件惩罚）：\n$$\\frac{1}{u_1} - \\frac{1}{u_0} = \\frac{1}{25/3} - \\frac{1}{25} = \\frac{3}{25} - \\frac{1}{25} = \\frac{2}{25}\\,\\text{s}\\,\\text{m}^{-1}$$\n$$\\Delta E_{\\text{aux}} = (10000\\,\\text{m})(5000\\,\\text{W})\\left(\\frac{2}{25}\\,\\text{s}\\,\\text{m}^{-1}\\right)$$\n$$\\Delta E_{\\text{aux}} = (5 \\times 10^7\\,\\text{J}\\,\\text{s}^{-1}\\,\\text{m})\\left(\\frac{2}{25}\\,\\text{s}\\,\\text{m}^{-1}\\right) = \\frac{10 \\times 10^7}{25}\\,\\text{J} = 4 \\times 10^6\\,\\text{J}$$\n正号表示由于附件运行时间更长而产生的能量惩罚。\n\n以焦耳为单位的总能量惩罚是这两个分量的和：\n$$\\Delta E = \\Delta E_{\\text{aero}} + \\Delta E_{\\text{aux}} = -2441123.188\\,\\text{J} + 4000000\\,\\text{J} = 1558876.812\\,\\text{J}$$\n总惩罚为正，意味着拥堵增加了总体能耗，因为附件功率造成的惩罚超过了空气动力阻力减小所节省的能量。\n\n最后，我们将结果转换为千瓦时（$\\text{kWh}$）。转换因子为 $1\\,\\text{kWh} = 3.6 \\times 10^6\\,\\text{J}$。\n$$\\Delta E \\text{ [kWh]} = \\frac{1558876.812\\,\\text{J}}{3.6 \\times 10^6\\,\\text{J}\\,\\text{kWh}^{-1}} \\approx 0.433021336...\\,\\text{kWh}$$\n根据题目要求四舍五入到四位有效数字：\n$$\\Delta E \\approx 0.4330\\,\\text{kWh}$$",
            "answer": "$$\n\\boxed{0.4330}\n$$"
        },
        {
            "introduction": "分析道路行驶表现只是问题的一部分。要对不同车辆技术（如汽油车与电动车）进行全面比较，需要采用完整的“油井到车轮”（Well-to-Wheel, WTW）生命周期视角。本练习  将指导您从基本原理出发，构建一个WTW排放模型。您将发现，上游因素——从汽油所用的原油来源到电力的发电结构——如何关键性地决定了一辆汽车的总碳足迹。",
            "id": "4132969",
            "problem": "一个建模团队以每公里为基础，比较了一辆内燃机汽车 (ICEV) 和一辆纯电动汽车 (BEV) 的从油井到车轮 (WTW) 的二氧化碳排放量。其目标是根据基本原理构建每种动力总成的 WTW 二氧化碳排放模型，并量化其如何依赖于燃料原料和工艺排放。\n\n从以下基本定义和定律开始：\n- 从油箱到车轮 (TTW) 的排放量等于每公里的车辆能耗与每单位输送能量的尾气二氧化碳排放因子的乘积。\n- 上游排放等于每公里的车辆能耗与燃料或电力每单位输送能量的上游排放因子的乘积，该因子本身是供应能量的原料和过程的加权平均值。\n- 从油井到车轮的排放量是 TTW 排放量和上游排放量之和，反映了碳流的质量守恒以及总生命周期排放量等于尾气排放量加上游排放量的能量核算恒等式。\n\n假设 ICEV 使用汽油，其 TTW 排放因子为 $c_{\\mathrm{TTW},g} = 73\\,\\mathrm{g\\,CO_2/MJ}$，车辆能耗为 $E_{\\mathrm{ICE}} = 2.5\\,\\mathrm{MJ/km}$。上游汽油排放因子取决于原油原料和工艺能量。设油砂原油的份额为 $\\alpha$ ($0 \\leq \\alpha \\leq 1$)，则每单位输送汽油能量的原油原料加权上游排放因子为 $(1-\\alpha) \\, EF_{g,\\mathrm{conv}} + \\alpha \\, EF_{g,\\mathrm{sands}}$，其中 $EF_{g,\\mathrm{conv}} = 18\\,\\mathrm{g\\,CO_2/MJ}$ 且 $EF_{g,\\mathrm{sands}} = 80\\,\\mathrm{g\\,CO_2/MJ}$。精炼过程排放包括制氢，其强度随油砂份额的增加而增加，模型为 $h(\\alpha) = h_0 + h_1 \\alpha$，其中 $h_0 = 4\\,\\mathrm{g\\,CO_2/MJ}$ 且 $h_1 = 6\\,\\mathrm{g\\,CO_2/MJ}$。将每单位输送能量的上游汽油排放量视为原料项和 $h(\\alpha)$ 的总和。\n\n假设 BEV 的尾气排放为零，电力消耗为 $E_{\\mathrm{BEV}} = 0.18\\,\\mathrm{kWh/km}$。电网发电结构为：煤炭份额为 $\\beta$，天然气份额为 $\\gamma$，风能份额为 $1-\\beta-\\gamma$。发电排放因子分别为：煤炭 $e_c = 900\\,\\mathrm{g\\,CO_2/kWh}$，天然气 $e_g = 400\\,\\mathrm{g\\,CO_2/kWh}$，风能 $e_w = 12\\,\\mathrm{g\\,CO_2/kWh}$。每单位输送电力的上游排放量是发电结构加权平均值 $ \\beta \\, e_c + \\gamma \\, e_g + (1-\\beta-\\gamma) \\, e_w$。\n\n(a) 使用上述基本定义，构建 ICEV 和 BEV 每公里 WTW 二氧化碳排放量的表达式，作为 $\\alpha$、$\\beta$ 和 $\\gamma$ 的函数。保持表达式为符号形式。\n\n(b) 在 $\\alpha = 0.25$ 和 $\\gamma = 0.50$ 的条件下，求解当 ICEV 和 BEV 每公里的 WTW 二氧化碳排放量相等时的煤炭份额 $\\beta^{\\star}$。将 $\\beta^{\\star}$ 的最终答案四舍五入到四位有效数字。将 $\\beta^{\\star}$ 表示为无单位的小数。",
            "solution": "该问题要求构建和比较使用汽油的内燃机汽车 (ICEV) 和纯电动汽车 (BEV) 的从油井到车轮 (WTW) 的二氧化碳排放量。分析将分两部分进行：(a) 推导两种车辆每公里 WTW 排放的符号表达式，以及 (b) 在给定条件下，计算当它们的排放量相等时，电力结构中特定的煤炭份额。\n\n### (a) 部分：WTW 排放表达式\n\n我们首先根据提供的定义和参数构建表达式。WTW 排放量定义为从油箱到车轮 (TTW) 排放量和上游 (从油井到油箱) 排放量之和。\n\n**内燃机汽车 (ICEV)**\n\nICEV 的 WTW 排放量，记为 $W_{\\mathrm{ICE}}$，由下式给出：\n$$W_{\\mathrm{ICE}} = \\text{TTW}_{\\mathrm{ICE}} + \\text{Upstream}_{\\mathrm{ICE}}$$\n\nTTW 排放量是车辆每公里能耗 $E_{\\mathrm{ICE}}$ 与汽油的尾气排放因子 $c_{\\mathrm{TTW},g}$ 的乘积。\n$$\\text{TTW}_{\\mathrm{ICE}} = E_{\\mathrm{ICE}} \\cdot c_{\\mathrm{TTW},g}$$\n\n上游排放量是 $E_{\\mathrm{ICE}}$ 与汽油的上游排放因子（我们记为 $c_{\\mathrm{up},g}(\\alpha)$）的乘积。该因子是油砂原油份额 $\\alpha$ 的函数。它由原料部分和精炼过程部分组成。\n原料部分为 $(1-\\alpha) \\, EF_{g,\\mathrm{conv}} + \\alpha \\, EF_{g,\\mathrm{sands}}$。\n精炼过程部分为 $h(\\alpha) = h_0 + h_1 \\alpha$。\n总的上游排放因子是它们的和：\n$$c_{\\mathrm{up},g}(\\alpha) = \\left( (1-\\alpha) \\, EF_{g,\\mathrm{conv}} + \\alpha \\, EF_{g,\\mathrm{sands}} \\right) + (h_0 + h_1 \\alpha)$$\n\n因此，上游排放量为：\n$$\\text{Upstream}_{\\mathrm{ICE}} = E_{\\mathrm{ICE}} \\cdot c_{\\mathrm{up},g}(\\alpha)$$\n\n结合这些部分，ICEV 的总 WTW 排放量作为 $\\alpha$ 的函数为：\n$$W_{\\mathrm{ICE}}(\\alpha) = E_{\\mathrm{ICE}} \\cdot c_{\\mathrm{TTW},g} + E_{\\mathrm{ICE}} \\cdot \\left[ (1-\\alpha) \\, EF_{g,\\mathrm{conv}} + \\alpha \\, EF_{g,\\mathrm{sands}} + h_0 + h_1 \\alpha \\right]$$\n提取公因子 $E_{\\mathrm{ICE}}$ 并按 $\\alpha$ 合并项，得到最终表达式：\n$$W_{\\mathrm{ICE}}(\\alpha) = E_{\\mathrm{ICE}} \\left[ c_{\\mathrm{TTW},g} + EF_{g,\\mathrm{conv}} + h_0 + \\alpha (EF_{g,\\mathrm{sands}} - EF_{g,\\mathrm{conv}} + h_1) \\right]$$\n\n**纯电动汽车 (BEV)**\n\nBEV 的 WTW 排放量，记为 $W_{\\mathrm{BEV}}$，为：\n$$W_{\\mathrm{BEV}} = \\text{TTW}_{\\mathrm{BEV}} + \\text{Upstream}_{\\mathrm{BEV}}$$\n\n问题指出 BEV 的尾气排放为零，所以 $\\text{TTW}_{\\mathrm{BEV}} = 0$。因此，WTW 排放量等于上游排放量。\n$$\\text{Upstream}_{\\mathrm{BEV}} = E_{\\mathrm{BEV}} \\cdot c_{\\mathrm{up},e}(\\beta, \\gamma)$$\n其中 $E_{\\mathrm{BEV}}$ 是车辆的电力消耗，而 $c_{\\mathrm{up},e}(\\beta, \\gamma)$ 是电力的上游排放因子。该因子取决于发电结构，由煤炭 ($\\beta$)、天然气 ($\\gamma$) 和风能 ($1-\\beta-\\gamma$) 的份额定义。\n\n上游排放因子是各种发电来源排放因子的加权平均值：\n$$c_{\\mathrm{up},e}(\\beta, \\gamma) = \\beta \\, e_c + \\gamma \\, e_g + (1-\\beta-\\gamma) \\, e_w$$\n其中 $e_c$、$e_g$ 和 $e_w$ 分别是煤炭、天然气和风能的发电排放因子。\n\nBEV 的总 WTW 排放量作为 $\\beta$ 和 $\\gamma$ 的函数为：\n$$W_{\\mathrm{BEV}}(\\beta, \\gamma) = E_{\\mathrm{BEV}} \\left[ \\beta \\, e_c + \\gamma \\, e_g + (1-\\beta-\\gamma) \\, e_w \\right]$$\n按 $\\beta$ 和 $\\gamma$ 合并项可得：\n$$W_{\\mathrm{BEV}}(\\beta, \\gamma) = E_{\\mathrm{BEV}} \\left[ e_w + \\beta (e_c - e_w) + \\gamma (e_g - e_w) \\right]$$\n\n### (b) 部分：平衡煤炭份额计算\n\n我们被要求在给定 $\\alpha = 0.25$ 和 $\\gamma = 0.50$ 的条件下，找到使两种车辆的 WTW 排放量相等的煤炭份额 $\\beta^{\\star}$。条件是：\n$$W_{\\mathrm{ICE}}(\\alpha=0.25) = W_{\\mathrm{BEV}}(\\beta^{\\star}, \\gamma=0.50)$$\n\n首先，我们使用提供的参数计算 ICEV 的 WTW 排放量的数值：\n$E_{\\mathrm{ICE}} = 2.5\\,\\mathrm{MJ/km}$\n$c_{\\mathrm{TTW},g} = 73\\,\\mathrm{g\\,CO_2/MJ}$\n$EF_{g,\\mathrm{conv}} = 18\\,\\mathrm{g\\,CO_2/MJ}$\n$EF_{g,\\mathrm{sands}} = 80\\,\\mathrm{g\\,CO_2/MJ}$\n$h_0 = 4\\,\\mathrm{g\\,CO_2/MJ}$\n$h_1 = 6\\,\\mathrm{g\\,CO_2/MJ}$\n$\\alpha = 0.25$\n\n汽油的总上游因子是：\n$c_{\\mathrm{up},g}(0.25) = (1-0.25) \\cdot 18 + 0.25 \\cdot 80 + 4 + 6 \\cdot 0.25$\n$c_{\\mathrm{up},g}(0.25) = 0.75 \\cdot 18 + 0.25 \\cdot 80 + 4 + 1.5$\n$c_{\\mathrm{up},g}(0.25) = 13.5 + 20 + 4 + 1.5 = 39\\,\\mathrm{g\\,CO_2/MJ}$\n\n汽油的总 WTW 排放因子为 $c_{\\mathrm{TTW},g} + c_{\\mathrm{up},g}(0.25) = 73 + 39 = 112\\,\\mathrm{g\\,CO_2/MJ}$。\n因此，ICEV 的排放量为：\n$W_{\\mathrm{ICE}}(0.25) = E_{\\mathrm{ICE}} \\cdot 112 = 2.5 \\cdot 112 = 280\\,\\mathrm{g\\,CO_2/km}$。\n\n接下来，我们用 $\\gamma = 0.50$ 和给定的参数写出 BEV 的排放表达式：\n$E_{\\mathrm{BEV}} = 0.18\\,\\mathrm{kWh/km}$\n$e_c = 900\\,\\mathrm{g\\,CO_2/kWh}$\n$e_g = 400\\,\\mathrm{g\\,CO_2/kWh}$\n$e_w = 12\\,\\mathrm{g\\,CO_2/kWh}$\n$\\gamma = 0.50$\n\n$W_{\\mathrm{BEV}}(\\beta, 0.50) = 0.18 \\left[ \\beta \\cdot 900 + 0.50 \\cdot 400 + (1-\\beta-0.50) \\cdot 12 \\right]$\n$W_{\\mathrm{BEV}}(\\beta, 0.50) = 0.18 \\left[ 900\\beta + 200 + (0.50-\\beta) \\cdot 12 \\right]$\n$W_{\\mathrm{BEV}}(\\beta, 0.50) = 0.18 \\left[ 900\\beta + 200 + 6 - 12\\beta \\right]$\n$W_{\\mathrm{BEV}}(\\beta, 0.50) = 0.18 \\left[ 888\\beta + 206 \\right]$\n\n现在，我们令排放量相等来求解 $\\beta^{\\star}$：\n$$280 = 0.18 \\left( 888\\beta^{\\star} + 206 \\right)$$\n为了求解 $\\beta^{\\star}$，我们整理方程：\n$$\\frac{280}{0.18} = 888\\beta^{\\star} + 206$$\n$$1555.\\overline{5} = 888\\beta^{\\star} + 206$$\n$$1555.\\overline{5} - 206 = 888\\beta^{\\star}$$\n$$1349.\\overline{5} = 888\\beta^{\\star}$$\n$$\\beta^{\\star} = \\frac{1349.\\overline{5}}{888} = \\frac{12146/9}{888} = \\frac{12146}{7992} = \\frac{6073}{3996} \\approx 1.5197697...$$\n四舍五入到四位有效数字，我们得到 $\\beta^{\\star} = 1.520$。\n\n必须注意这个结果的物理解释。变量 $\\beta$ 代表电力结构中的一个份额，因此它必须是有界的，即 $0 \\leq \\beta \\leq 1$。此外，各份额之和必须为 1，因此 $\\beta + \\gamma \\leq 1$。在给定 $\\gamma = 0.50$ 的情况下，$\\beta$ 的物理可能范围是 $0 \\leq \\beta \\leq 0.50$。我们计算出的值 $\\beta^{\\star} \\approx 1.520$ 超出了这个范围。\n这个数学结果表明，在指定的条件 ($\\alpha=0.25, \\gamma=0.50$)下，不存在一个物理上可实现的电力结构，使得 BEV 的 WTW 排放量等于 ICEV 的。由于 BEV 的 WTW 排放量是 $\\beta$ 的增函数（因为 $e_c > e_w$），BEV 在有效范围内的最大排放量出现在 $\\beta=0.50$ 时。此时，$W_{\\mathrm{BEV}}(0.50, 0.50) = E_{\\mathrm{BEV}}(0.5e_c + 0.5e_g) = 0.18(0.5 \\cdot 900 + 0.5 \\cdot 400) = 0.18(450+200) = 117\\,\\mathrm{g\\,CO_2/km}$。由于 $117  280$，对于任何有效的 $\\beta$，BEV 的污染总是低于 ICEV。这个平衡点纯粹是一个数学外推。问题要求解 $\\beta^{\\star}$，我们已经完成了计算。\n最终答案必须四舍五入到四位有效数字。\n\n$\\beta^{\\star} = 1.5197697... \\approx 1.520$。",
            "answer": "$$\n\\boxed{1.520}\n$$"
        },
        {
            "introduction": "交通领域的政策，例如电动汽车补贴，旨在经过多年时间来改变车辆存量的构成。这最后一个练习将介绍存量-流量模型，这是分析长期系统动态的一种基本方法。通过实施一个离散时间模型 ，您将模拟由政策驱动的汽车销量变化，与自然的报废率相结合，如何共同塑造整个车辆存量随时间的演变。",
            "id": "4132927",
            "problem": "考虑运输部门车辆存量的离散时间表示。设 $N_t$ 表示第 $t$ 年末的车辆存量（单位：辆），设 $\\sigma_t \\in [0,1]$ 表示年报废率（无量纲，以小数表示，不使用百分号），设 $S_t$ 表示新车年销量（单位：辆/年）。假设时间步长为一年。适用以下定义：留存率是指某一年报废后剩余车辆的比例，车辆流入由销量给出。\n\n从存量-流量守恒原理出发，推导车辆存量的运动定律。然后，对于给定的基准销量序列 $S_t^{\\mathrm{b}}$ 和一个由政策调整的销量序列 $S_t^{\\mathrm{p}}$（定义为 $S_t^{\\mathrm{p}} = S_t^{\\mathrm{b}} (1 + p_t)$，其中 $p_t$ 是政策引起的销量比例变化，无量纲，以小数表示，不使用百分号），计算在基准和政策两种情景下的总存量路径。对于每个测试用例，报告 $T$ 年后最终存量的差异，定义为 $N_T^{\\mathrm{p}} - N_T^{\\mathrm{b}}$（单位：辆）。\n\n所有答案必须以车辆为单位表示，并四舍五入到一位小数。不涉及角度。时间以年为单位计量。\n\n实现一个程序，对每个测试用例执行以下步骤：\n- 用给定的 $N_0$ 初始化 $t=0$ 时的存量。\n- 对于 $t = 0, 1, \\dots, T-1$，使用推导出的存量-流量定律，在基准和政策两种销量序列下更新存量。\n- 计算 $N_T^{\\mathrm{b}}$ 和 $N_T^{\\mathrm{p}}$，然后计算差值 $N_T^{\\mathrm{p}} - N_T^{\\mathrm{b}}$。\n- 将最终差值四舍五入到一位小数。\n\n测试套件规范：\n- 用例 $1$（一般情况，具有恒定报废率和早期政策增长）：\n  - $T = 10$，$N_0 = 1{,}000{,}000$ 辆车。\n  - 基准销量序列 $S_t^{\\mathrm{b}}$（辆/年）：$[80{,}000, 82{,}000, 84{,}000, 86{,}000, 88{,}000, 90{,}000, 92{,}000, 94{,}000, 96{,}000, 98{,}000]$。\n  - 报废率 $\\sigma_t$：$[0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05]$。\n  - 政策乘数 $p_t$：$[0.10, 0.10, 0.10, 0.10, 0.10, 0.00, 0.00, 0.00, 0.00, 0.00]$。\n\n- 用例 $2$（边界情况，报废率为零）：\n  - $T = 5$，$N_0 = 500{,}000$ 辆车。\n  - 基准销量序列 $S_t^{\\mathrm{b}}$：$[50{,}000, 50{,}000, 50{,}000, 50{,}000, 50{,}000]$。\n  - 报废率 $\\sigma_t$：$[0.00, 0.00, 0.00, 0.00, 0.00]$。\n  - 政策乘数 $p_t$：$[0.20, 0.20, 0.20, 0.20, 0.20]$。\n\n- 用例 $3$（边缘情况，高报废率和对销量的负面政策影响）：\n  - $T = 8$，$N_0 = 200{,}000$ 辆车。\n  - 基准销量序列 $S_t^{\\mathrm{b}}$：$[30{,}000, 29{,}000, 28{,}000, 27{,}000, 26{,}000, 25{,}000, 24{,}000, 23{,}000]$。\n  - 报废率 $\\sigma_t$：$[0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15, 0.15]$。\n  - 政策乘数 $p_t$：$[-0.25, -0.25, -0.25, -0.25, -0.25, -0.25, -0.25, -0.25]$。\n\n- 用例 $4$（时变报废率、零初始存量和后期政策激增）：\n  - $T = 6$，$N_0 = 0$ 辆车。\n  - 基准销量序列 $S_t^{\\mathrm{b}}$：$[10{,}000, 12{,}000, 14{,}000, 16{,}000, 18{,}000, 20{,}000]$。\n  - 报废率 $\\sigma_t$：$[0.00, 0.05, 0.10, 0.00, 0.20, 0.05]$。\n  - 政策乘数 $p_t$：$[0.00, 0.00, 0.50, 0.00, 0.00, 1.00]$。\n\n您的程序应生成单行输出，其中包含按测试用例顺序排列的结果，形式为方括号括起来的逗号分隔列表（例如 $[r_1,r_2,r_3,r_4]$），其中每个 $r_i$ 是最终存量差 $N_T^{\\mathrm{p}} - N_T^{\\mathrm{b}}$（单位：辆），四舍五入到一位小数。",
            "solution": "该问题要求推导并应用一个车辆保有量的存量-流量模型，然后分析一项销售政策的影响。该问题具有科学依据，提法明确，且客观，因此被认为是有效的。\n\n首先，我们基于存量-流量守恒原理推导车辆存量的运动定律。设 $N_t$ 为第 $t$ 年末的车辆存量。第 $t+1$ 年末的存量（记为 $N_{t+1}$）等于第 $t$ 年末的存量 $N_t$，根据从第 $t$ 年末到第 $t+1$ 年末这一年间发生的流出（报废）和流入（销售）进行调整。\n\n问题指出 $\\sigma_{t'}$ 是第 $t'$ 年的年报废率。根据措辞和标准建模惯例，输入序列中以 $t$ 为索引的参数（$\\sigma_t$, $S_t$）是控制从第 $t$ 年末到第 $t+1$ 年末动态变化的参数。报废量是该时期初存量 $N_t$ 的一部分。因此，报废的车辆数量为 $\\sigma_t N_t$。同期新售车辆（流入）的数量为 $S_t$。\n\n存量-流量守恒方程为：\n$$N_{t+1} = (\\text{期初存量}) - (\\text{期内流出}) + (\\text{期内流入})$$\n$$N_{t+1} = N_t - \\sigma_t N_t + S_t$$\n这可以重写为车辆存量的运动定律：\n$$N_{t+1} = N_t (1 - \\sigma_t) + S_t$$\n此方程将从初始条件 $N_0$ 开始，对 $t = 0, 1, \\dots, T-1$ 进行迭代。\n\n接下来，我们将此定律应用于两种指定情景：基准情景和政策情景。\n\n在基准情景下，存量 $N_t^{\\mathrm{b}}$ 的演化遵循：\n$$N_{t+1}^{\\mathrm{b}} = N_t^{\\mathrm{b}}(1 - \\sigma_t) + S_t^{\\mathrm{b}}$$\n初始条件为 $N_0^{\\mathrm{b}} = N_0$。\n\n在政策情景下，新车销量会因比例变化 $p_t$ 而调整，使得 $S_t^{\\mathrm{p}} = S_t^{\\mathrm{b}} (1 + p_t)$。存量 $N_t^{\\mathrm{p}}$ 的演化遵循：\n$$N_{t+1}^{\\mathrm{p}} = N_t^{\\mathrm{p}}(1 - \\sigma_t) + S_t^{\\mathrm{p}}$$\n$$N_{t+1}^{\\mathrm{p}} = N_t^{\\mathrm{p}}(1 - \\sigma_t) + S_t^{\\mathrm{b}}(1 + p_t)$$\n初始条件为 $N_0^{\\mathrm{p}} = N_0$。\n\n目标是计算最终存量的差异 $\\Delta_T = N_T^{\\mathrm{p}} - N_T^{\\mathrm{b}}$。我们不必独立模拟两条路径然后在最后相减，而是可以为差值 $\\Delta_t = N_t^{\\mathrm{p}} - N_t^{\\mathrm{b}}$ 推导出一个更直接、更简洁的递推关系。\n\n初始差值为 $\\Delta_0 = N_0^{\\mathrm{p}} - N_0^{\\mathrm{b}} = N_0 - N_0 = 0$。\n\n对于后续的时间步，我们将基准情景方程从政策情景方程中减去：\n$$\\Delta_{t+1} = N_{t+1}^{\\mathrm{p}} - N_{t+1}^{\\mathrm{b}}$$\n$$= \\left( N_t^{\\mathrm{p}}(1 - \\sigma_t) + S_t^{\\mathrm{b}}(1 + p_t) \\right) - \\left( N_t^{\\mathrm{b}}(1 - \\sigma_t) + S_t^{\\mathrm{b}} \\right)$$\n$$= (N_t^{\\mathrm{p}} - N_t^{\\mathrm{b}})(1 - \\sigma_t) + S_t^{\\mathrm{b}}(1 + p_t) - S_t^{\\mathrm{b}}$$\n$$= \\Delta_t(1 - \\sigma_t) + S_t^{\\mathrm{b}} p_t$$\n\n这就为存量差值提供了一个递推公式：\n$$\\Delta_{t+1} = \\Delta_t(1 - \\sigma_t) + S_t^{\\mathrm{b}} p_t$$\n我们可以从 $\\Delta_0 = 0$ 开始，对 $t = 0, 1, \\dots, T-1$ 进行迭代求解，以找到最终的差值 $\\Delta_T$。\n\n每个测试用例的算法如下：\n1.  初始化存量差值 $\\Delta$ 为 $0.0$。\n2.  对 $t$ 从 $0$ 到 $T-1$ 进行迭代。在每次迭代中，使用输入序列中的 $S_t^{\\mathrm{b}}$、$\\sigma_t$ 和 $p_t$ 的值。\n3.  应用递推关系：$\\Delta \\leftarrow \\Delta \\cdot (1 - \\sigma_t) + S_t^{\\mathrm{b}} \\cdot p_t$。\n4.  循环完成后，$\\Delta$ 的最终值就是所求的量 $N_T^{\\mathrm{p}} - N_T^{\\mathrm{b}}$。\n5.  将此最终值四舍五入到一位小数。\n\n让我们以用例 1 为例来追踪此算法：\n- 给定：$T = 10$，$N_0 = 1,000,000$，恒定 $\\sigma_t=0.05$。$S_t^{\\mathrm{b}}$ 和 $p_t$ 是给定的序列。\n- 初始化 $\\Delta_0 = 0$。\n- $t=0$：$\\Delta_1 = \\Delta_0(1 - 0.05) + S_0^{\\mathrm{b}}p_0 = 0 \\cdot (0.95) + 80000 \\cdot 0.10 = 8000$。\n- $t=1$：$\\Delta_2 = \\Delta_1(1 - 0.05) + S_1^{\\mathrm{b}}p_1 = 8000 \\cdot (0.95) + 82000 \\cdot 0.10 = 7600 + 8200 = 15800$。\n- $t=2$：$\\Delta_3 = \\Delta_2(1 - 0.05) + S_2^{\\mathrm{b}}p_2 = 15800 \\cdot (0.95) + 84000 \\cdot 0.10 = 15010 + 8400 = 23410$。\n- ...以此类推，共进行 $T$ 步。\n- $t=4$：此步之后，政策效应 $p_t$ 变为零。存量差值的变化仅由先前累积的差值的留存来维持。对于 $t \\ge 5$，$S_t^{\\mathrm{b}}p_t = 0$。\n- $t=5$：$\\Delta_6 = \\Delta_5(1 - 0.05) + S_5^{\\mathrm{b}}p_5 = \\Delta_5 \\cdot 0.95 + 90000 \\cdot 0.0 = \\Delta_5 \\cdot 0.95$。\n- 此过程一直持续到计算出 $\\Delta_{10}$。\n\n这个迭代计算将对所有测试用例实施。使用 NumPy 数组存储输入序列很方便，但并非绝对必要；标准的 Python 列表就足够了。",
            "answer": "[29479.1, 50000.0, -31125.6, 25320.0]"
        }
    ]
}