{
    "hands_on_practices": [
        {
            "introduction": "Before optimizing an entire system, it's essential to understand the physical capabilities of a single generator. This exercise focuses on two fundamental operational constraints: minimum stable generation and ramping limits. By manually checking if a generator can feasibly follow a required output schedule, you will gain a concrete feel for how these physical characteristics dictate a unit's operational boundaries .",
            "id": "4134246",
            "problem": "Consider a single thermal generating unit in a Unit Commitment (UC) setting that is required to follow a known hourly load profile exactly over a finite horizon. The generation time series is discretized with a uniform time step of $\\Delta t = 1$ hour, and the unit is committed for the entire horizon. Denote the load at hour $t$ by $L_t$ and the unit’s dispatch by $P_t$. The unit must satisfy power balance $P_t = L_t$ at all times, a minimum stable generation constraint $P_t \\geq P^{\\min}$ when committed, and symmetric ramping constraints defined per hour: ramp-up $R^{\\uparrow}$ and ramp-down $R^{\\downarrow}$. The initial dispatch at time $t=0$ is $P_0$. Assume the unit’s maximum generation is sufficiently high that it never binds in this scenario.\n\nThe fundamental constraints governing feasibility are:\n- Power balance: $P_t = L_t$ for all $t$.\n- Minimum generation: $P_t \\geq P^{\\min}$ for all $t$.\n- Ramp-up: $P_t - P_{t-1} \\leq R^{\\uparrow} \\Delta t$ for all $t \\geq 1$.\n- Ramp-down: $P_{t-1} - P_t \\leq R^{\\downarrow} \\Delta t$ for all $t \\geq 1$.\n\nYou are given:\n- Minimum generation $P^{\\min} = 150$ megawatts.\n- Ramp-up limit $R^{\\uparrow} = 90$ megawatts per hour.\n- Ramp-down limit $R^{\\downarrow} = 110$ megawatts per hour.\n- Initial dispatch $P_0 = 200$ megawatts.\n- Load profile over $t = 1, 2, \\dots, 8$ hours:\n  - $L_1 = 260$, $L_2 = 340$, $L_3 = 280$, $L_4 = 170$, $L_5 = 150$, $L_6 = 220$, $L_7 = 310$, $L_8 = 180$ megawatts.\n\nDefine the feasibility indicator $I$ by\n$$\nI = \\begin{cases}\n1, & \\text{if there exists a dispatch } \\{P_t\\}_{t=1}^{8} \\text{ satisfying all constraints with } P_t = L_t \\text{ for all } t, \\\\\n0, & \\text{otherwise.}\n\\end{cases}\n$$\n\nCompute $I$. The final answer must be a single real number without units. No rounding is required.",
            "solution": "The problem asks whether the unit can track the given load exactly subject to minimum generation and ramping limits. The foundational principles are the equality of dispatch and load at each time, $P_t = L_t$, when the unit is committed, and the intra-temporal constraints on changes in dispatch, known as ramping constraints. These are standard operational constraints in Unit Commitment (UC) formulations within energy systems modeling.\n\nWe proceed by checking the constraints systematically.\n\nFirst, the minimum generation constraint requires $P_t \\geq P^{\\min}$ for all $t$. Since $P_t = L_t$, we must have $L_t \\geq P^{\\min}$ for all $t$. The given values are\n$$\nL_1 = 260, \\quad L_2 = 340, \\quad L_3 = 280, \\quad L_4 = 170, \\quad L_5 = 150, \\quad L_6 = 220, \\quad L_7 = 310, \\quad L_8 = 180.\n$$\nWith $P^{\\min} = 150$, we check each:\n- $L_1 = 260 \\geq 150$ holds.\n- $L_2 = 340 \\geq 150$ holds.\n- $L_3 = 280 \\geq 150$ holds.\n- $L_4 = 170 \\geq 150$ holds.\n- $L_5 = 150 \\geq 150$ holds (binding but feasible).\n- $L_6 = 220 \\geq 150$ holds.\n- $L_7 = 310 \\geq 150$ holds.\n- $L_8 = 180 \\geq 150$ holds.\n\nThus, the minimum generation constraint is satisfied at all hours if the unit tracks load exactly.\n\nSecond, consider ramping constraints. With time discretization $\\Delta t = 1$ hour, the maximum allowed increase in dispatch between consecutive hours is $R^{\\uparrow} \\Delta t = 90 \\times 1 = 90$ megawatts, and the maximum allowed decrease is $R^{\\downarrow} \\Delta t = 110 \\times 1 = 110$ megawatts. Since $P_t = L_t$, we can check the ramping constraints by examining the differences $L_t - L_{t-1}$, starting from the initial dispatch $P_0 = 200$ which must transition to $L_1$.\n\nCompute the sequential differences and compare to ramp limits:\n- From $t=0$ to $t=1$: $L_1 - P_0 = 260 - 200 = 60$. Ramp-up check: $60 \\leq 90$ holds.\n- From $t=1$ to $t=2$: $L_2 - L_1 = 340 - 260 = 80$. Ramp-up check: $80 \\leq 90$ holds.\n- From $t=2$ to $t=3$: $L_3 - L_2 = 280 - 340 = -60$. Ramp-down magnitude: $|{-60}| = 60 \\leq 110$ holds.\n- From $t=3$ to $t=4$: $L_4 - L_3 = 170 - 280 = -110$. Ramp-down magnitude: $|{-110}| = 110 \\leq 110$ holds (exactly at the limit, which is permitted because the inequality is non-strict).\n- From $t=4$ to $t=5$: $L_5 - L_4 = 150 - 170 = -20$. Ramp-down magnitude: $|{-20}| = 20 \\leq 110$ holds.\n- From $t=5$ to $t=6$: $L_6 - L_5 = 220 - 150 = 70$. Ramp-up check: $70 \\leq 90$ holds.\n- From $t=6$ to $t=7$: $L_7 - L_6 = 310 - 220 = 90$. Ramp-up check: $90 \\leq 90$ holds (at the limit).\n- From $t=7$ to $t=8$: $L_8 - L_7 = 180 - 310 = -130$. Ramp-down magnitude: $|{-130}| = 130$. Compare to the ramp-down limit $110$: $130 > 110$. The constraint is violated.\n\nTherefore, there is a ramp-down violation between $t=7$ and $t=8$. Since the unit must track load exactly and the change required exceeds the ramp-down capability, there is no feasible dispatch that satisfies all constraints. The feasibility indicator is thus $I = 0$.\n\nNo other constraints are binding or violated, and the minimum generation constraints are satisfied, but the single ramp-down violation suffices to establish infeasibility.\n\nHence, the computed feasibility indicator is $I = 0$.",
            "answer": "$$\\boxed{0}$$"
        },
        {
            "introduction": "The core decisions in unit commitment involve when to turn generators on or off, actions that incur significant costs. This practice explores the logic of translating a commitment schedule, represented by the binary variable $u_t$, into discrete startup and shutdown events. You will learn to calculate the associated costs, including how they vary based on the unit's preceding downtime—a concept known as hot, warm, and cold starts .",
            "id": "4134201",
            "problem": "Consider a single thermal generating unit over a discrete time horizon of length $T=16$ with time index set $\\mathcal{T}=\\{1,2,\\dots,16\\}$. The binary on/off commitment status at time $t$ is $u_t \\in \\{0,1\\}$, where $u_t=1$ indicates the unit is on and $u_t=0$ indicates the unit is off. The initial status at the boundary is $u_0=1$. The fixed on/off schedule is given by the sequence\n$$\n(u_1,u_2,\\dots,u_{16})=(1,1,0,0,1,1,1,0,0,1,0,1,1,0,0,1).\n$$\nDefine the startup indicator $y_t \\in \\{0,1\\}$ to be $1$ if a startup occurs at the beginning of period $t$ and $0$ otherwise, and the shutdown indicator $z_t \\in \\{0,1\\}$ to be $1$ if a shutdown occurs at the beginning of period $t$ and $0$ otherwise. A startup is a transition from off to on at the boundary between time $t-1$ and $t$; a shutdown is a transition from on to off at the same boundary.\n\nUsing first principles of binary transitions and conservation of changes in a two-state process, determine the sequences $(y_t)_{t \\in \\mathcal{T}}$ and $(z_t)_{t \\in \\mathcal{T}}$ implied by the fixed $u_t$, and verify both of the following logical consistency properties:\n1. The net number of transitions satisfies that the total number of startups minus the total number of shutdowns over $\\mathcal{T}$ equals the change in status between $t=0$ and $t=T$.\n2. There is no time $t \\in \\mathcal{T}$ for which both a startup and a shutdown occur simultaneously.\n\nFor each startup time $t$ with $y_t=1$, define the downtime length immediately preceding $t$ to be\n$$\n\\ell_t \\equiv \\max\\{k \\in \\mathbb{Z}_{\\ge 0}: u_{t-1}=0, u_{t-2}=0, \\dots, u_{t-k}=0\\},\n$$\nwith the convention that if $u_{t-1}=1$ then $\\ell_t=0$. Categorize each startup according to the downtime thresholding rule:\n- Hot if $\\ell_t=1$,\n- Warm if $\\ell_t=2$,\n- Cold if $\\ell_t \\ge 3$.\nLet the per-event costs be $C_{\\text{hot}}=3\\text{ k\\$}$, $C_{\\text{warm}}=5\\text{ k\\$}$, $C_{\\text{cold}}=9\\text{ k\\$}$, and shutdown cost $C_{\\downarrow}=0.8\\text{ k\\$}$ per shutdown. Compute the total startup and shutdown cost over the horizon,\n$$\nC_{\\text{total}}=\\sum_{t=1}^{T} \\big( C_{\\text{hot}} \\cdot \\mathbf{1}\\{\\ell_t=1\\} + C_{\\text{warm}} \\cdot \\mathbf{1}\\{\\ell_t=2\\} + C_{\\text{cold}} \\cdot \\mathbf{1}\\{\\ell_t \\ge 3\\} \\big) y_t \\;+\\; \\sum_{t=1}^{T} C_{\\downarrow}\\, z_t,\n$$\nwhere $\\mathbf{1}\\{\\cdot\\}$ is the indicator function. Round your final value of $C_{\\text{total}}$ to four significant figures and express it in kilo-dollars (k$). Your final answer must be a single real number.",
            "solution": "The problem statement has been validated and is deemed sound. It is scientifically grounded in the principles of energy systems modeling, specifically unit commitment, and is well-posed, objective, and complete. All necessary data and definitions for a unique solution are provided.\n\nThe core of the problem is to determine the sequence of startup and shutdown events from a given on/off schedule for a thermal generating unit, and then to calculate the total associated costs.\n\nFirst, we establish the definitions for the startup and shutdown indicators, $y_t$ and $z_t$, in terms of the binary commitment status $u_t$. A startup occurs at time $t$ if the unit transitions from off ($u_{t-1}=0$) to on ($u_t=1$). A shutdown occurs if the unit transitions from on ($u_{t-1}=1$) to off ($u_t=0$). These can be expressed mathematically for $t \\in \\mathcal{T}=\\{1, 2, \\dots, 16\\}$:\n$$\ny_t = \\max(0, u_t - u_{t-1})\n$$\n$$\nz_t = \\max(0, u_{t-1} - u_t)\n$$\nThe problem provides the initial status $u_0=1$ and the commitment schedule for the time horizon $T=16$:\n$$\n(u_1, u_2, \\dots, u_{16}) = (1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 0, 1, 1, 0, 0, 1)\n$$\nWe can now generate the full sequence of states, $u_t$, for $t \\in \\{0, 1, \\dots, 16\\}$:\n$$\n(u_0, u_1, \\dots, u_{16}) = (1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 0, 1, 1, 0, 0, 1)\n$$\nUsing this sequence, we determine the times at which startups and shutdowns occur:\n- For $t=3$: $u_2=1, u_3=0 \\implies z_3=1$.\n- For $t=5$: $u_4=0, u_5=1 \\implies y_5=1$.\n- For $t=8$: $u_7=1, u_8=0 \\implies z_8=1$.\n- For $t=10$: $u_9=0, u_{10}=1 \\implies y_{10}=1$.\n- For $t=11$: $u_{10}=1, u_{11}=0 \\implies z_{11}=1$.\n- For $t=12$: $u_{11}=0, u_{12}=1 \\implies y_{12}=1$.\n- For $t=14$: $u_{13}=1, u_{14}=0 \\implies z_{14}=1$.\n- For $t=16$: $u_{15}=0, u_{16}=1 \\implies y_{16}=1$.\nAll other $y_t$ and $z_t$ are $0$.\nThe startup sequence $(y_t)_{t \\in \\mathcal{T}}$ has ones at $t \\in \\{5, 10, 12, 16\\}$.\nThe shutdown sequence $(z_t)_{t \\in \\mathcal{T}}$ has ones at $t \\in \\{3, 8, 11, 14\\}$.\n\nNext, we verify the two logical consistency properties.\n1. The total number of startups is $\\sum_{t=1}^{16} y_t = 4$. The total number of shutdowns is $\\sum_{t=1}^{16} z_t = 4$. The net number of transitions is $\\sum y_t - \\sum z_t = 4 - 4 = 0$. The change in status between $t=0$ and $t=T=16$ is $u_{16} - u_0 = 1 - 1 = 0$. The property is verified as $0=0$. This is expected, as $\\sum_{t=1}^{T} (y_t - z_t) = \\sum_{t=1}^{T} (u_t - u_{t-1}) = u_T - u_0$ is a telescoping sum.\n2. The definitions $y_t = \\max(0, u_t-u_{t-1})$ and $z_t=\\max(0, u_{t-1}-u_t)$ ensure that for any given transition, only one of them can be non-zero. If $u_t=u_{t-1}$, both are $0$. If $u_t \\ne u_{t-1}$, one is $1$ and the other is $0$. Thus, $y_t + z_t \\in \\{0, 1\\}$ for all $t$, which satisfies $y_t+z_t \\le 1$. No simultaneous startup and shutdown occurs.\n\nNow, we categorize each startup by calculating the preceding downtime length, $\\ell_t$.\n- For the startup at $t=5$: We inspect the statuses $u_4, u_3, \\dots$. We have $u_4=0$ and $u_3=0$, but $u_2=1$. The length of consecutive off-states is $2$. Thus, $\\ell_5=2$. This is a Warm start.\n- For the startup at $t=10$: We inspect $u_9, u_8, \\dots$. We have $u_9=0$ and $u_8=0$, but $u_7=1$. The length of consecutive off-states is $2$. Thus, $\\ell_{10}=2$. This is a Warm start.\n- For the startup at $t=12$: We inspect $u_{11}, u_{10}, \\dots$. We have $u_{11}=0$, but $u_{10}=1$. The length of consecutive off-states is $1$. Thus, $\\ell_{12}=1$. This is a Hot start.\n- For the startup at $t=16$: We inspect $u_{15}, u_{14}, \\dots$. We have $u_{15}=0$ and $u_{14}=0$, but $u_{13}=1$. The length of consecutive off-states is $2$. Thus, $\\ell_{16}=2$. This is a Warm start.\n\nThere are no cold starts ($\\ell_t \\ge 3$) in this schedule.\nThe total startup cost is the sum of costs for each startup event:\n- $t=5$: Warm start, cost is $C_{\\text{warm}} = 5$ k\\$.\n- $t=10$: Warm start, cost is $C_{\\text{warm}} = 5$ k\\$.\n- $t=12$: Hot start, cost is $C_{\\text{hot}} = 3$ k\\$.\n- $t=16$: Warm start, cost is $C_{\\text{warm}} = 5$ k\\$.\n$$\n\\text{Total Startup Cost} = C_{\\text{warm}} + C_{\\text{warm}} + C_{\\text{hot}} + C_{\\text{warm}} = 5 + 5 + 3 + 5 = 18 \\text{ k\\$}\n$$\nThe total shutdown cost is the number of shutdowns multiplied by the cost per shutdown, $C_{\\downarrow}=0.8$ k\\$. There are $4$ shutdowns.\n$$\n\\text{Total Shutdown Cost} = 4 \\times C_{\\downarrow} = 4 \\times 0.8 = 3.2 \\text{ k\\$}\n$$\nThe total cost over the horizon is the sum of the startup and shutdown costs:\n$$\nC_{\\text{total}} = (\\text{Total Startup Cost}) + (\\text{Total Shutdown Cost}) = 18 + 3.2 = 21.2 \\text{ k\\$}\n$$\nThe problem requires the final answer to be rounded to four significant figures. The value $21.2$ has three significant figures. To express it with four, we add a trailing zero.\n$$\nC_{\\text{total}} = 21.20 \\text{ k\\$}\n$$",
            "answer": "$$\n\\boxed{21.20}\n$$"
        },
        {
            "introduction": "This final practice serves as a capstone, integrating the concepts of physical limits and commitment costs into a complete optimization problem for a small power system. You are tasked with formulating a full Mixed-Integer Linear Program (MILP) to co-optimize the on/off decisions and dispatch levels for multiple generators over several time periods. Solving this problem will provide direct experience with the fundamental economic trade-offs that system operators manage to ensure reliable and cost-effective electricity supply .",
            "id": "4134179",
            "problem": "Consider a small thermal generation system with two dispatchable units and three discrete scheduling periods. Each period has duration $1$ hour, so energy in megawatt-hour ($MWh$) equals power in megawatt ($MW$) produced continuously over the period. The task is to construct a Mixed-Integer Linear Program (MILP) and solve it to determine the binary on/off commitment states and continuous dispatch that minimize total cost under scientifically defensible physical and economic constraints.\n\nStart from the following fundamental basis:\n- Conservation of energy in steady state implies that aggregate supply equals aggregate demand in each period, hence the supply-demand balance constraint must hold exactly.\n- Physical operational bounds imply that when a unit is online its dispatch is constrained by minimum and maximum capacity limits, and it must produce at least its minimum stable output if committed.\n- Costs are additive across units and periods and consist of a fixed no-load component incurred when the unit is online, a linear marginal generation component proportional to dispatched energy, and a startup component incurred only when transitioning from offline to online.\n\nDefine the decision variables for unit $i \\in \\{1,2\\}$ and period $t \\in \\{1,2,3\\}$:\n- $u_{i,t} \\in \\{0,1\\}$ is the binary on/off state.\n- $y_{i,t} \\in \\{0,1\\}$ is the binary startup indicator, equal to $1$ if and only if the unit transitions from $0$ to $1$ between $t-1$ and $t$.\n- $p_{i,t} \\ge 0$ is the continuous dispatch in $MW$ (equivalently $MWh$ given $1$ hour period length).\n\nParameters:\n- $P^{\\min}_i$ and $P^{\\max}_i$ are the minimum and maximum capacities in $MW$.\n- $C^{\\text{su}}_i$ is the startup cost in $\\text{USD}$ per event.\n- $C^{\\text{nl}}_i$ is the no-load cost in $\\text{USD}$ per hour when online.\n- $C^{\\text{m}}_i$ is the marginal generation cost in $\\text{USD}/MWh$.\n- $D_t$ is the fixed demand in $MW$ in period $t$.\n- $u_{i,0} \\in \\{0,1\\}$ is the given initial on/off state immediately before period $t=1$.\n\nFormulate the MILP that minimizes the total cost over $t=1,2,3$, subject to:\n- Exact supply-demand balance in each period.\n- Capacity constraints linking $p_{i,t}$ to $u_{i,t}$ via $P^{\\min}_i$ and $P^{\\max}_i$.\n- Startup logic constraints linking $y_{i,t}$ to $u_{i,t}$ and $u_{i,t-1}$.\n- Nonnegativity of $p_{i,t}$ and integrality of $u_{i,t}$ and $y_{i,t}$.\n\nSolve the MILP and return the optimal $u_{i,t}$ and $p_{i,t}$, together with the minimized total cost. Express dispatch values $p_{i,t}$ in $MW$ rounded to two decimals and total cost in $\\text{USD}$ rounded to two decimals. Angles do not appear in this problem; no angle unit is required. Percentages do not appear; do not use the percentage sign.\n\nTest Suite. For coverage across typical and boundary conditions, solve the four parameterized instances below. Each instance specifies arrays for two units and three periods.\n\nInstance $1$ (general case, both units potentially needed):\n- $P^{\\min} = [30, 50]$ $MW$\n- $P^{\\max} = [100, 150]$ $MW$\n- $C^{\\text{m}} = [20, 15]$ $\\text{USD}/MWh$\n- $C^{\\text{nl}} = [100, 200]$ $\\text{USD}/h$\n- $C^{\\text{su}} = [500, 800]$ $\\text{USD}$\n- $D = [140, 180, 120]$ $MW$\n- $u_{\\cdot,0} = [0, 0]$\n\nInstance $2$ (low-to-moderate load with an initially online unit and high startup for the other):\n- $P^{\\min} = [30, 50]$ $MW$\n- $P^{\\max} = [80, 90]$ $MW$\n- $C^{\\text{m}} = [30, 10]$ $\\text{USD}/MWh$\n- $C^{\\text{nl}} = [70, 220]$ $\\text{USD}/h$\n- $C^{\\text{su}} = [400, 900]$ $\\text{USD}$\n- $D = [65, 75, 60]$ $MW$\n- $u_{\\cdot,0} = [1, 0]$\n\nInstance $3$ (high load requiring both units, with one initially online, and a boundary at total maximum):\n- $P^{\\min} = [40, 60]$ $MW$\n- $P^{\\max} = [90, 110]$ $MW$\n- $C^{\\text{m}} = [18, 16]$ $\\text{USD}/MWh$\n- $C^{\\text{nl}} = [120, 160]$ $\\text{USD}/h$\n- $C^{\\text{su}} = [400, 700]$ $\\text{USD}$\n- $D = [170, 190, 200]$ $MW$\n- $u_{\\cdot,0} = [0, 1]$\n\nInstance $4$ (zero startup costs, enabling frequent switching; medium load varies):\n- $P^{\\min} = [25, 55]$ $MW$\n- $P^{\\max} = [75, 95]$ $MW$\n- $C^{\\text{m}} = [22, 14]$ $\\text{USD}/MWh$\n- $C^{\\text{nl}} = [90, 180]$ $\\text{USD}/h$\n- $C^{\\text{su}} = [0, 0]$ $\\text{USD}$\n- $D = [110, 80, 130]$ $MW$\n- $u_{\\cdot,0} = [0, 0]$\n\nFinal Output Format. Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets. Each instance’s result must be a list of length $13$ structured as follows:\n- First $6$ integers are $[u_{1,1}, u_{1,2}, u_{1,3}, u_{2,1}, u_{2,2}, u_{2,3}]$.\n- Next $6$ floats are $[p_{1,1}, p_{1,2}, p_{1,3}, p_{2,1}, p_{2,2}, p_{2,3}]$ in $MW$, each rounded to two decimals.\n- Final float is the minimized total cost in $\\text{USD}$ rounded to two decimals.\n\nTherefore the complete output must be a single line representing a list of four such lists, for instances $1$ through $4$, in that order (for example, $[[\\dots],[\\dots],[\\dots],[\\dots]]$).",
            "solution": "The problem requires the formulation and solution of a Mixed-Integer Linear Program (MILP) for the unit commitment (UC) of a two-generator, three-period power system. The objective is to determine the on/off status and power dispatch for each generator in each period to meet a given demand profile at minimum total cost. The solution must adhere to physical and economic constraints.\n\nFirst, we formalize the problem mathematically.\n\n**1. Indices, Parameters, and Decision Variables**\n\n- **Indices**:\n    - $i \\in \\{1, 2\\}$: index for generation units.\n    - $t \\in \\{1, 2, 3\\}$: index for time periods.\n\n- **Parameters**:\n    - $D_t$: system demand in period $t$ [MW].\n    - $P^{\\min}_i, P^{\\max}_i$: minimum and maximum power output of unit $i$ [MW].\n    - $C^{\\text{m}}_i$: marginal (variable) cost of generation for unit $i$ [USD/MWh].\n    - $C^{\\text{nl}}_i$: no-load (fixed) cost for unit $i$ when online [USD/h].\n    - $C^{\\text{su}}_i$: startup cost for unit $i$ [USD/event].\n    - $u_{i,0}$: initial on/off state of unit $i$ at $t=0$.\n    - Period duration is $1$ hour, so power in MW is numerically equal to energy in MWh.\n\n- **Decision Variables**:\n    - $u_{i,t} \\in \\{0, 1\\}$: binary variable representing the on/off state of unit $i$ in period $t$ ($1$ if on, $0$ if off).\n    - $p_{i,t} \\ge 0$: continuous variable for the power dispatch of unit $i$ in period $t$ [MW].\n    - $y_{i,t} \\in \\{0, 1\\}$: binary variable indicating if unit $i$ starts up at the beginning of period $t$ ($1$ if it turns on, $0$ otherwise).\n\n**2. MILP Formulation**\n\nThe objective is to minimize the total cost, which is the sum of no-load, marginal generation, and startup costs over all units and periods.\n\n**Objective Function:**\n$$\n\\text{Minimize} \\quad Z = \\sum_{t=1}^{3} \\sum_{i=1}^{2} \\left( C^{\\text{nl}}_i \\cdot u_{i,t} + C^{\\text{m}}_i \\cdot p_{i,t} + C^{\\text{su}}_i \\cdot y_{i,t} \\right)\n$$\n\nThis objective function is minimized subject to the following constraints:\n\n**Constraints:**\n\n1.  **Supply-Demand Balance**: The total power generated must exactly meet the system demand in each period.\n    $$\n    \\sum_{i=1}^{2} p_{i,t} = D_t \\quad \\forall t \\in \\{1, 2, 3\\}\n    $$\n\n2.  **Generation Capacity Limits**: The power output of each unit, if online, must be within its minimum and maximum stable levels. If a unit is offline, its power output must be zero. These two conditions are concisely modeled by coupling the dispatch variable $p_{i,t}$ with the commitment variable $u_{i,t}$.\n    $$\n    u_{i,t} \\cdot P^{\\min}_i \\le p_{i,t} \\le u_{i,t} \\cdot P^{\\max}_i \\quad \\forall i \\in \\{1, 2\\}, \\forall t \\in \\{1, 2, 3\\}\n    $$\n    If $u_{i,t} = 1$, this enforces $P^{\\min}_i \\le p_{i,t} \\le P^{\\max}_i$. If $u_{i,t} = 0$, it enforces $0 \\le p_{i,t} \\le 0$, forcing $p_{i,t} = 0$.\n\n3.  **Startup Logic**: The startup variable $y_{i,t}$ must be $1$ if and only if unit $i$ transitions from an offline state in period $t-1$ to an online state in period $t$. This is captured by the following inequality, noting that the minimization of cost will prevent $y_{i,t}$ from being spuriously equal to $1$.\n    $$\n    y_{i,t} \\ge u_{i,t} - u_{i,t-1} \\quad \\forall i \\in \\{1, 2\\}, \\forall t \\in \\{1, 2, 3\\}\n    $$\n    The state at $t=0$, $u_{i,0}$, is a given parameter.\n\n4.  **Variable Domains**: The nature of the decision variables must be specified.\n    $$\n    u_{i,t} \\in \\{0, 1\\} \\\\\n    y_{i,t} \\in \\{0, 1\\} \\\\\n    p_{i,t} \\ge 0\n    $$\n\n**3. Solution Methodology**\n\nThe formulated problem is a Mixed-Integer Linear Program. As the specified execution environment does not permit specialized MILP solvers, we leverage the small scale of the problem to find the exact optimal solution. The number of binary commitment variables $u_{i,t}$ is $2 \\times 3 = 6$. This results in $2^6 = 64$ possible commitment schedules for the two units over the three periods. We can therefore solve the problem via exhaustive enumeration.\n\nThe algorithm proceeds as follows:\n1.  **Enumerate Commitment Schedules**: Generate all $64$ possible binary sequences for $(u_{1,1}, u_{1,2}, u_{1,3}, u_{2,1}, u_{2,2}, u_{2,3})$.\n2.  **For Each Schedule**:\n    a.  **Calculate Commitment Costs**: For the given schedule and the initial states $u_{i,0}$, calculate the fixed costs. This includes the no-load costs for all periods where a unit is online and the startup costs for all periods where a unit transitions from off to on.\n    b.  **Solve Economic Dispatch Subproblems**: For each of the three periods, check if the committed set of units can meet the demand. A schedule is feasible for a period $t$ if the demand $D_t$ is between the sum of minimum capacities and the sum of maximum capacities of the online units. If the schedule is infeasible for any period, it is discarded.\n    c.  If feasible for a period, solve the economic dispatch problem to determine the optimal power outputs $p_{i,t}$ for the committed units. This is a linear program whose solution follows a merit order loading principle:\n        i.  Initially, set the dispatch of all online units to their minimum power $P^{\\min}_i$.\n        ii. The remaining demand is covered by increasing the output of the online units in increasing order of their marginal cost $C^{\\text{m}}_i$, up to their maximum capacity $P^{\\max}_i$.\n    d.  **Calculate Total Cost**: If the schedule is feasible for all three periods, sum the commitment costs and the generation costs (from economic dispatch) to find the total cost for that schedule.\n3.  **Identify Optimal Solution**: The optimal solution is the schedule and its corresponding dispatch that yields the minimum total cost among all feasible schedules.\n\nThis method guarantees finding the global optimum because it systematically evaluates every possible commitment strategy. The Python code below implements this logic.\n\n```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nimport itertools\n\ndef solve():\n    \"\"\"\n    Main function to define test cases and print the final results.\n    \"\"\"\n    test_cases = [\n        # Instance 1\n        {\n            \"P_min\": [30, 50], \"P_max\": [100, 150], \"C_m\": [20, 15],\n            \"C_nl\": [100, 200], \"C_su\": [500, 800], \"D\": [140, 180, 120],\n            \"u_0\": [0, 0]\n        },\n        # Instance 2\n        {\n            \"P_min\": [30, 50], \"P_max\": [80, 90], \"C_m\": [30, 10],\n            \"C_nl\": [70, 220], \"C_su\": [400, 900], \"D\": [65, 75, 60],\n            \"u_0\": [1, 0]\n        },\n        # Instance 3\n        {\n            \"P_min\": [40, 60], \"P_max\": [90, 110], \"C_m\": [18, 16],\n            \"C_nl\": [120, 160], \"C_su\": [400, 700], \"D\": [170, 190, 200],\n            \"u_0\": [0, 1]\n        },\n        # Instance 4\n        {\n            \"P_min\": [25, 55], \"P_max\": [75, 95], \"C_m\": [22, 14],\n            \"C_nl\": [90, 180], \"C_su\": [0, 0], \"D\": [110, 80, 130],\n            \"u_0\": [0, 0]\n        }\n    ]\n\n    results = []\n    for case in test_cases:\n        result = solve_instance(case)\n        results.append(result)\n\n    print(f\"[{','.join(map(str, results))}]\")\n\ndef solve_instance(params):\n    \"\"\"\n    Solves a single unit commitment instance by enumerating all commitment schedules.\n    \"\"\"\n    P_min, P_max, C_m, C_nl, C_su, D, u_0 = (np.array(p) for p in [params[\"P_min\"], params[\"P_max\"], params[\"C_m\"], params[\"C_nl\"], params[\"C_su\"], params[\"D\"], params[\"u_0\"]])\n    num_units, num_periods = 2, 3\n    best_cost = float('inf')\n    best_u, best_p = None, None\n\n    for schedule_flat in itertools.product([0, 1], repeat=num_units * num_periods):\n        u = np.array(schedule_flat).reshape((num_units, num_periods), order='C')\n        p = np.zeros_like(u, dtype=float)\n        is_schedule_feasible = True\n        \n        commitment_cost = 0\n        u_full = np.hstack([u_0[:, None], u])\n        for i in range(num_units):\n            for t in range(num_periods):\n                commitment_cost += C_nl[i] * u[i, t]\n                if u_full[i, t+1] == 1 and u_full[i, t] == 0:\n                    commitment_cost += C_su[i]\n\n        generation_cost = 0\n        for t in range(num_periods):\n            demand_t = D[t]\n            online_mask = u[:, t] == 1\n            online_idx = np.where(online_mask)[0]\n            \n            sum_p_min = np.sum(P_min[online_mask])\n            sum_p_max = np.sum(P_max[online_mask])\n\n            if not (sum_p_min - 1e-6 = demand_t = sum_p_max + 1e-6):\n                is_schedule_feasible = False\n                break\n            \n            p_t = np.zeros(num_units)\n            p_t[online_mask] = P_min[online_mask]\n            rem_demand = demand_t - sum_p_min\n            \n            sorted_online_idx = sorted(online_idx, key=lambda i: C_m[i])\n            \n            for i in sorted_online_idx:\n                if rem_demand  1e-6:\n                    break\n                increase = min(rem_demand, P_max[i] - P_min[i])\n                p_t[i] += increase\n                rem_demand -= increase\n            \n            p[:, t] = p_t\n            generation_cost += np.dot(p_t, C_m)\n\n        if not is_schedule_feasible:\n            continue\n\n        total_cost = commitment_cost + generation_cost\n        if total_cost  best_cost:\n            best_cost = total_cost\n            best_u = u\n            best_p = p\n    \n    u_flat = [int(val) for val in best_u.flatten(order='C')]\n    p_flat = [round(val, 2) for val in best_p.flatten(order='C')]\n    cost_rounded = round(best_cost, 2)\n    \n    return u_flat + p_flat + [cost_rounded]\n```",
            "answer": "[[1, 1, 1, 1, 1, 0], [30.0, 30.0, 30.0, 110.0, 150.0, 90.0], 8550.0],[[0, 0, 0, 1, 1, 1], [0.0, 0.0, 0.0, 65.0, 75.0, 60.0], 3560.0],[[1, 1, 1, 1, 1, 1], [60.0, 80.0, 90.0, 110.0, 110.0, 110.0], 10170.0],[[1, 0, 1, 1, 1, 1], [25.0, 0.0, 35.0, 85.0, 80.0, 95.0], 4805.0]]"
        }
    ]
}