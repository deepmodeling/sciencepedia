{
    "hands_on_practices": [
        {
            "introduction": "理论知识需要通过实践来巩固。本节的第一个练习将带您从头开始，手动执行一次完整的 N-1 应急分析。这个练习基于直流潮流模型，要求您利用其基本原理，通过构建和求解线性方程组，来计算单条线路故障前后的系统状态。通过亲手完成这些计算，您将对电网中功率的重新分布建立起核心的直观认识，并掌握识别潜在过载的第一手技能。",
            "id": "4080881",
            "problem": "考虑一个无损输电网络，该网络在小角度假设下采用线性直流（DC）潮流近似模型进行建模，其基准视在功率为 $S_{\\text{base}} = 100$ MVA。该网络包含母线 $\\{1,2,3,4\\}$ 和输电线路，各线路的串联电抗（以标幺值计）如下：\n- 线路 $1$–$2$: $x_{12} = 0.2$ p.u.\n- 线路 $1$–$3$: $x_{13} = 0.25$ p.u.\n- 线路 $2$–$3$: $x_{23} = 0.2$ p.u.\n- 线路 $2$–$4$: $x_{24} = 0.25$ p.u.\n- 线路 $3$–$4$: $x_{34} = 0.3$ p.u.\n\n所有线路具有相同的长期热极限 $\\overline{F}_{\\ell} = 150$ MW。各母线的有功注入功率（正值表示净发电，负值表示净负荷）以兆瓦为单位，具体如下：\n- $P_{1} = +200$ MW, $P_{2} = -80$ MW, $P_{3} = -60$ MW, $P_{4} = -60$ MW。\n\n选取母线 $1$ 作为参考（平衡）母线，其相角 $\\theta_{1} = 0$ 弧度。仅使用直流模型的基本原理（节点有功功率平衡以及由串联电抗构建的电纳拉普拉斯矩阵），并通过消除平衡母线所在的行和列来进行网络简化，执行以下操作：\n- 计算预想事故前母线 $i \\in \\{2,3,4\\}$ 的直流母线电压相角 $\\theta_{i}$，以及所有现有线路上对应的预想事故前线路潮流 $F_{ij}$（单位为 MW）。\n- 模拟线路 $1$–$3$ 断开所对应的 $N-1$ 预想事故，方法是从网络中移除该支路，然后重新计算预想事故后的直流母线电压相角 $\\theta_{i}$ 和剩余线路上的预想事故后线路潮流 $F_{ij}$（单位为 MW）。\n- 定义线路 $\\ell$ 上的事故后过载量为 $\\max(0, |F_{\\ell}| - \\overline{F}_{\\ell})$。确定该事故后，剩余线路中的最大过载量。\n\n将最终答案表示为单个最大过载量，单位为兆瓦（MW）。将答案四舍五入至四位有效数字。相角应以弧度为单位。",
            "solution": "用户提供的问题经评估有效。该问题是自洽的，在电气工程原理（特别是直流潮流近似）方面有科学依据，并且在数学上是适定的。给定的数据是完整且一致的；例如，指定的有功注入功率之和为 $P_{1} + P_{2} + P_{3} + P_{4} = (+200) + (-80) + (-60) + (-60) = 0$ MW，这与无损网络模型相符。我们可以开始求解。\n\n直流潮流模型通过方程 $P = B\\theta$ 将母线有功注入功率 $P$ 与母线电压相角 $\\theta$ 联系起来，其中 $B$ 是母线电纳矩阵。$B$ 矩阵的元素由线路电抗 $x_{ij}$ 导出，对于 $i \\neq j$，$B_{ij} = -1/x_{ij}$，而 $B_{ii} = \\sum_{k \\neq i} 1/x_{ik}$。从母线 $i$ 到母线 $j$ 的线路上有功潮流 $F_{ij}$ 由 $F_{ij} = \\frac{1}{x_{ij}}(\\theta_i - \\theta_j)$ 给出。所有计算都将在标幺（p.u.）系统中进行。\n\n首先，我们以 $S_{\\text{base}} = 100$ MVA 为基准，将所有物理量转换为标幺值。由于是直流模型，我们使用 $P_{\\text{base}} = 100$ MW。\n注入功率的标幺值为：\n- $P_{1} = \\frac{200 \\text{ MW}}{100 \\text{ MW}} = 2.0$ p.u.\n- $P_{2} = \\frac{-80 \\text{ MW}}{100 \\text{ MW}} = -0.8$ p.u.\n- $P_{3} = \\frac{-60 \\text{ MW}}{100 \\text{ MW}} = -0.6$ p.u.\n- $P_{4} = \\frac{-60 \\text{ MW}}{100 \\text{ MW}} = -0.6$ p.u.\n线路热极限为 $\\overline{F}_{\\ell} = \\frac{150 \\text{ MW}}{100 \\text{ MW}} = 1.5$ p.u.\n\n线路电纳 $b_{ij} = 1/x_{ij}$ 为：\n- $b_{12} = 1/0.2 = 5.0$ p.u.\n- $b_{13} = 1/0.25 = 4.0$ p.u.\n- $b_{23} = 1/0.2 = 5.0$ p.u.\n- $b_{24} = 1/0.25 = 4.0$ p.u.\n- $b_{34} = 1/0.3 = 10/3$ p.u.\n\n**第1部分：事故前分析**\n\n我们首先为基准情况下的网络构建电纳矩阵 $B^{(0)}$。\n$B^{(0)}_{11} = b_{12} + b_{13} = 5 + 4 = 9$\n$B^{(0)}_{22} = b_{12} + b_{23} + b_{24} = 5 + 5 + 4 = 14$\n$B^{(0)}_{33} = b_{13} + b_{23} + b_{34} = 4 + 5 + 10/3 = 37/3$\n$B^{(0)}_{44} = b_{24} + b_{34} = 4 + 10/3 = 22/3$\n非对角元素为 $B^{(0)}_{ij} = -b_{ij}$。\n$$ B^{(0)} = \\begin{pmatrix} 9  -5  -4  0 \\\\ -5  14  -5  -4 \\\\ -4  -5  37/3  -10/3 \\\\ 0  -4  -10/3  22/3 \\end{pmatrix} $$\n以母线 $1$ 为平衡母线 ($\\theta_1 = 0$)，我们通过移除第一行和第一列来使用简化系统。\n$$ B_{\\text{red}}^{(0)} = \\begin{pmatrix} 14  -5  -4 \\\\ -5  37/3  -10/3 \\\\ -4  -10/3  22/3 \\end{pmatrix}, \\quad P_{\\text{red}} = \\begin{pmatrix} P_2 \\\\ P_3 \\\\ P_4 \\end{pmatrix} = \\begin{pmatrix} -0.8 \\\\ -0.6 \\\\ -0.6 \\end{pmatrix} $$\n求解 $B_{\\text{red}}^{(0)} \\theta^{(0)}_{\\text{red}} = P_{\\text{red}}$ 得到事故前的相角：\n$$ \\theta^{(0)}_{\\text{red}} = \\begin{pmatrix} \\theta_2^{(0)} \\\\ \\theta_3^{(0)} \\\\ \\theta_4^{(0)} \\end{pmatrix} = \\begin{pmatrix} -0.150279 \\\\ -0.160894 \\\\ -0.224581 \\end{pmatrix} \\text{rad} $$\n事故前的线路潮流计算公式为 $F_{ij}^{(0)} = S_{\\text{base}} \\times b_{ij} (\\theta_i^{(0)} - \\theta_j^{(0)})$。例如，$F_{12}^{(0)} = 100 \\times 5 \\times (0 - (-0.150279)) \\approx 75.14$ MW。所有事故前的潮流都在 $150$ MW 的极限之内。\n\n**第2部分：N-1 预想事故分析（线路 1–3 断开）**\n\n线路 1–3 的断开通过从网络中移除其电纳 $b_{13} = 4.0$ p.u. 来建模。新的电纳矩阵 $B^{(1)}$ 通过调整 $B^{(0)}$ 的元素来构建：\n- $B^{(1)}_{11} = B^{(0)}_{11} - b_{13} = 9 - 4 = 5$\n- $B^{(1)}_{33} = B^{(0)}_{33} - b_{13} = 37/3 - 4 = 25/3$\n- $B^{(1)}_{13} = B^{(1)}_{31} = 0$\n新的简化矩阵 $B_{\\text{red}}^{(1)}$ 是：\n$$ B_{\\text{red}}^{(1)} = \\begin{pmatrix} 14  -5  -4 \\\\ -5  25/3  -10/3 \\\\ -4  -10/3  22/3 \\end{pmatrix} $$\n注入功率向量 $P_{\\text{red}}$ 保持不变。我们求解新的线性系统 $B_{\\text{red}}^{(1)} \\theta^{(1)}_{\\text{red}} = P_{\\text{red}}$ 以获得事故后的相角 $\\theta^{(1)}_{\\text{red}}$。\n$$ \\begin{pmatrix} 14  -5  -4 \\\\ -5  25/3  -10/3 \\\\ -4  -10/3  22/3 \\end{pmatrix} \\begin{pmatrix} \\theta_2^{(1)} \\\\ \\theta_3^{(1)} \\\\ \\theta_4^{(1)} \\end{pmatrix} = \\begin{pmatrix} -0.8 \\\\ -0.6 \\\\ -0.6 \\end{pmatrix} $$\n为求解此系统，我们可以先将最后两行乘以 $3$ 来消去分母：\n1. $14 \\theta_2^{(1)} - 5 \\theta_3^{(1)} - 4 \\theta_4^{(1)} = -0.8$\n2. $-15 \\theta_2^{(1)} + 25 \\theta_3^{(1)} - 10 \\theta_4^{(1)} = -1.8$\n3. $-12 \\theta_2^{(1)} - 10 \\theta_3^{(1)} + 22 \\theta_4^{(1)} = -1.8$\n\n由方程(3)，两边除以 $2$ 得 $-6 \\theta_2^{(1)} - 5 \\theta_3^{(1)} + 11 \\theta_4^{(1)} = -0.9$。\n由方程(2)，两边除以 $5$ 得 $-3 \\theta_2^{(1)} + 5 \\theta_3^{(1)} - 2 \\theta_4^{(1)} = -0.36$。\n由此可得 $5 \\theta_3^{(1)} = 3 \\theta_2^{(1)} + 2 \\theta_4^{(1)} - 0.36$。\n将此代入修改后的方程(3)：\n$-6 \\theta_2^{(1)} - (3 \\theta_2^{(1)} + 2 \\theta_4^{(1)} - 0.36) + 11 \\theta_4^{(1)} = -0.9$\n$-9 \\theta_2^{(1)} + 9 \\theta_4^{(1)} + 0.36 = -0.9 \\implies -9 \\theta_2^{(1)} + 9 \\theta_4^{(1)} = -1.26 \\implies -\\theta_2^{(1)} + \\theta_4^{(1)} = -0.14$。\n所以，$\\theta_4^{(1)} = \\theta_2^{(1)} - 0.14$。\n\n将 $5 \\theta_3^{(1)}$ 和 $\\theta_4^{(1)}$ 代入方程(1)：\n$14 \\theta_2^{(1)} - (3 \\theta_2^{(1)} + 2 \\theta_4^{(1)} - 0.36) - 4 \\theta_4^{(1)} = -0.8$\n$11 \\theta_2^{(1)} - 6 \\theta_4^{(1)} + 0.36 = -0.8$\n$11 \\theta_2^{(1)} - 6 (\\theta_2^{(1)} - 0.14) = -1.16$\n$11 \\theta_2^{(1)} - 6 \\theta_2^{(1)} + 0.84 = -1.16$\n$5 \\theta_2^{(1)} = -2.0 \\implies \\theta_2^{(1)} = -0.4$ rad.\n\n现在我们反向代入以求得其他相角：\n$\\theta_4^{(1)} = -0.4 - 0.14 = -0.54$ rad.\n$5 \\theta_3^{(1)} = 3(-0.4) + 2(-0.54) - 0.36 = -1.2 - 1.08 - 0.36 = -2.64 \\implies \\theta_3^{(1)} = -0.528$ rad.\n事故后的相角为 $\\theta_1^{(1)}=0$, $\\theta_2^{(1)}=-0.4$, $\\theta_3^{(1)}=-0.528$, 和 $\\theta_4^{(1)}=-0.54$ 弧度。\n\n**第3部分：过载计算**\n\n我们使用 $F_{ij}^{(1)} = S_{\\text{base}} \\times b_{ij} (\\theta_i^{(1)} - \\theta_j^{(1)})$ 计算剩余线路上的事故后潮流 $F^{(1)}_{ij}$。热极限为 $\\overline{F}_{\\ell} = 150$ MW。\n- 线路 1–2: $F_{12}^{(1)} = 100 \\times 5.0 \\times (0 - (-0.4)) = 500 \\times 0.4 = 200$ MW.\n- 线路 2–3: $F_{23}^{(1)} = 100 \\times 5.0 \\times (-0.4 - (-0.528)) = 500 \\times 0.128 = 64$ MW.\n- 线路 2–4: $F_{24}^{(1)} = 100 \\times 4.0 \\times (-0.4 - (-0.54)) = 400 \\times 0.14 = 56$ MW.\n- 线路 3–4: $F_{34}^{(1)} = 100 \\times (10/3) \\times (-0.528 - (-0.54)) = (1000/3) \\times 0.012 = 4$ MW.\n\n线路 $\\ell$ 上的过载量为 $\\max(0, |F^{(1)}_{\\ell}| - \\overline{F}_{\\ell})$。\n- 线路 1–2 过载: $\\max(0, |200| - 150) = 50$ MW.\n- 线路 2–3 过载: $\\max(0, |64| - 150) = 0$ MW.\n- 线路 2–4 过载: $\\max(0, |56| - 150) = 0$ MW.\n- 线路 3–4 过载: $\\max(0, |4| - 150) = 0$ MW.\n\n所有剩余线路中的最大过载量是 $50$ MW。题目要求将答案四舍五入至四位有效数字，因此我们表示为 $50.00$。",
            "answer": "$$ \\boxed{50.00} $$"
        },
        {
            "introduction": "某些严重故障（例如关键联络线的丢失）不仅仅会引起潮流过载，甚至可能将整个电网分裂成若干个独立的“孤岛”。在这种情况下，首要任务是确保每个孤岛内部的功率平衡。本练习模拟了这样一个孤岛事件，要求您在考虑发电机容量和爬坡率限制的条件下，确定恢复系统稳定所需的最小负荷削减量。这个过程将您的关注点从输电热极限扩展到发电资源充裕性，并让您体验在紧急调度和负荷削减之间进行权衡决策的过程。",
            "id": "4080862",
            "problem": "考虑一个在直流潮流近似下的无损五节点输电网络。节点标记为 $1,2,3,4,5$。输电线路连接节点 $(1,2)$, $(2,3)$, $(4,5)$，以及一条联络线 $(3,4)$。忽略无功功率，并假设 $(1,2)$, $(2,3)$ 和 $(4,5)$ 上的所有内部支路热极限都足够大，以至于在所考虑的重新调度下它们永远不会成为约束。联络线 $(3,4)$ 初始处于运行状态。\n\n故障前，有功发电和负荷情况如下：\n- 节点 $1$：发电机 $G_1$ 发出 $170\\,\\mathrm{MW}$；发电机极限为 $P_{1}^{\\min}=120\\,\\mathrm{MW}$ 和 $P_{1}^{\\max}=200\\,\\mathrm{MW}$。\n- 节点 $3$：发电机 $G_3$ 发出 $50\\,\\mathrm{MW}$；发电机极限为 $P_{3}^{\\min}=30\\,\\mathrm{MW}$ 和 $P_{3}^{\\max}=90\\,\\mathrm{MW}$。还有一个 $40\\,\\mathrm{MW}$ 的负荷。\n- 节点 $2$：$120\\,\\mathrm{MW}$ 的负荷。\n- 节点 $4$：发电机 $G_4$ 发出 $80\\,\\mathrm{MW}$；发电机极限为 $P_{4}^{\\min}=0\\,\\mathrm{MW}$ 和 $P_{4}^{\\max}=130\\,\\mathrm{MW}$。还有一个 $100\\,\\mathrm{MW}$ 的负荷。\n- 节点 $5$：发电机 $G_5$ 发出 $20\\,\\mathrm{MW}$；发电机极限为 $P_{5}^{\\min}=0\\,\\mathrm{MW}$ 和 $P_{5}^{\\max}=70\\,\\mathrm{MW}$。还有一个 $60\\,\\mathrm{MW}$ 的负荷。\n\n所有发电机都有向上爬坡率限制，这限制了它们在故障后即时重新调度中允许的出力增量：$R_{1}^{\\uparrow}=20\\,\\mathrm{MW}$, $R_{3}^{\\uparrow}=20\\,\\mathrm{MW}$, $R_{4}^{\\uparrow}=30\\,\\mathrm{MW}$, $R_{5}^{\\uparrow}=25\\,\\mathrm{MW}$。假设向下重新调度除了受给定的最小出力限制外，不受其他约束。故障前，从 $\\{\\text{1,2,3}\\}$ 侧通过 $(3,4)$ 联络线向 $\\{\\text{4,5}\\}$ 侧输送的有功功率净值为 $60\\,\\mathrm{MW}$，这与给定的发电和负荷值一致。\n\n发生了一个单一故障：联络线 $(3,4)$ 跳闸停运，形成了两个孤岛 $\\mathcal{I}_\\mathrm{W}=\\{\\text{1,2,3}\\}$ 和 $\\mathcal{I}_\\mathrm{E}=\\{\\text{4,5}\\}$。根据称为“N-1可靠性”（N-1 reliability）的安全准则，系统必须通过发电机重新调度，以及在必要时通过非自愿甩负荷，在每个孤岛内重新平衡，以满足有功功率平衡，同时遵守发电机容量和爬坡率限制。\n\n仅使用功率平衡的基本原理（孤岛级别的有功功率的Kirchhoff电流定律）以及给定的发电机极限和爬坡约束，确定在故障发生后为立即恢复可行性，两个孤岛所需的最小总非自願甩负荷量。以 $\\mathrm{MW}$ 为单位表示最终答案，并将答案四舍五入到四位有效数字。",
            "solution": "该问题经验证是自洽的，科学上基于电力系统分析的原理，并且在数学上是一致的。故障前的功率平衡已得到验证，并且提供了故障后分析所需的所有数据。该问题是良定的，并旨在根据这些数据寻求一个唯一、可量化的答案。因此，我将进行正式的求解。\n\n控制系统响应的基本原理是有功功率平衡，在故障发生后，每个孤立的子系统（孤岛）内部都必须维持这一平衡。故障是联络线 $(3,4)$ 的断开，这将五节点系统分裂成两个电气上隔离的孤岛：$\\mathcal{I}_\\mathrm{W}=\\{1,2,3\\}$ 和 $\\mathcal{I}_\\mathrm{E}=\\{4,5\\}$。对于每个孤岛，故障后的功率平衡方程必须成立：\n$$\n\\sum_{i \\in \\mathcal{I}} P_{G,i} - \\sum_{j \\in \\mathcal{I}} (P_{L,j} - S_j) = 0\n$$\n其中 $P_{G,i}$ 是故障后节点 $i$ 的发电量，$P_{L,j}$ 是故障前节点 $j$ 的负荷，$S_j$ 是节点 $j$ 的非自愿甩负荷量。目标是通过在发电机的运行极限内最大化利用可用的重新调度，来最小化总甩负荷量 $S_{\\text{total}} = \\sum S_j$。我们分别分析每个孤岛。\n\n首先，我们分析孤岛 $\\mathcal{I}_\\mathrm{W} = \\{1,2,3\\}$。\n该孤岛内故障前的发电和负荷情况为：\n总发电量：$P_{G,\\mathrm{W},0} = P_{1,0} + P_{3,0} = 170\\,\\mathrm{MW} + 50\\,\\mathrm{MW} = 220\\,\\mathrm{MW}$。\n总负荷：$L_{\\mathrm{W}} = L_2 + L_3 = 120\\,\\mathrm{MW} + 40\\,\\mathrm{MW} = 160\\,\\mathrm{MW}$。\n孤岛 $\\mathcal{I}_\\mathrm{W}$ 故障前的净功率平衡是盈余：\n$$\n\\Delta P_{\\mathrm{W},0} = P_{G,\\mathrm{W},0} - L_{\\mathrm{W}} = 220\\,\\mathrm{MW} - 160\\,\\mathrm{MW} = 60\\,\\mathrm{MW}\n$$\n这 $60\\,\\mathrm{MW}$ 的盈余功率正通过联络线 $(3,4)$ 输出到孤岛 $\\mathcal{I}_\\mathrm{E}$。联络线断开后，该输出路径消失，孤岛内出现 $60\\,\\mathrm{MW}$ 的过剩发电。为了恢复平衡，孤岛 $\\mathcal{I}_\\mathrm{W}$ 内的发电机必须将其总出力降低 $60\\,\\mathrm{MW}$。我们必须检查这在其最小发电极限内是否可行。\n所需的发电量变化为 $\\Delta P_{\\mathrm{W,req}} = -60\\,\\mathrm{MW}$。\n每个发电机的可用向下重新调度量由其最小功率输出 $P^{\\min}$ 决定：\n对于发电机 $G_1$：最小出力为 $P_{1}^{\\min} = 120\\,\\mathrm{MW}$。最大可能减少量为 $\\Delta P_{1,\\max\\downarrow} = P_{1}^{\\min} - P_{1,0} = 120\\,\\mathrm{MW} - 170\\,\\mathrm{MW} = -50\\,\\mathrm{MW}$。\n对于发电机 $G_3$：最小出力为 $P_{3}^{\\min} = 30\\,\\mathrm{MW}$。最大可能减少量为 $\\Delta P_{3,\\max\\downarrow} = P_{3}^{\\min} - P_{3,0} = 30\\,\\mathrm{MW} - 50\\,\\mathrm{MW} = -20\\,\\mathrm{MW}$。\n孤岛 $\\mathcal{I}_\\mathrm{W}$ 的总可用向下重新调度量为：\n$$\n\\Delta P_{\\mathrm{W,avail}\\downarrow} = \\Delta P_{1,\\max\\downarrow} + \\Delta P_{3,\\max\\downarrow} = (-50\\,\\mathrm{MW}) + (-20\\,\\mathrm{MW}) = -70\\,\\mathrm{MW}\n$$\n需要减少 $60\\,\\mathrm{MW}$。总可用减少量为 $70\\,\\mathrm{MW}$。由于可用的向下重新调度量（$70\\,\\mathrm{MW}$）大于所需的减少量（$60\\,\\mathrm{MW}$），发电机可以成功降低其出力以重新平衡孤岛。因此，孤岛 $\\mathcal{I}_\\mathrm{W}$ 无需甩负荷。\n孤岛 $\\mathcal{I}_\\mathrm{W}$ 的甩负荷量为 $S_{\\mathrm{W}} = 0\\,\\mathrm{MW}$。\n\n接下来，我们分析孤岛 $\\mathcal{I}_\\mathrm{E} = \\{4,5\\}$。\n该孤岛内故障前的发电和负荷情况为：\n总发电量：$P_{G,\\mathrm{E},0} = P_{4,0} + P_{5,0} = 80\\,\\mathrm{MW} + 20\\,\\mathrm{MW} = 100\\,\\mathrm{MW}$。\n总负荷：$L_{\\mathrm{E}} = L_4 + L_5 = 100\\,\\mathrm{MW} + 60\\,\\mathrm{MW} = 160\\,\\mathrm{MW}$。\n孤岛 $\\mathcal{I}_\\mathrm{E}$ 故障前的净功率平衡是缺额：\n$$\n\\Delta P_{\\mathrm{E},0} = P_{G,\\mathrm{E},0} - L_{\\mathrm{E}} = 100\\,\\mathrm{MW} - 160\\,\\mathrm{MW} = -60\\,\\mathrm{MW}\n$$\n这 $60\\,\\mathrm{MW}$ 的缺额由通过联络线从孤岛 $\\mathcal{I}_\\mathrm{W}$ 输入的功率来满足。联络线断开后，该孤岛经历 $60\\,\\mathrm{MW}$ 的发电缺口。为了恢复平衡，孤岛 $\\mathcal{I}_\\mathrm{E}$ 内的发电机必须尽可能地增加其出力。任何剩余的缺口都必须通过甩负荷来弥补。\n所需的额外发电量为 $60\\,\\mathrm{MW}$。我们必须检查可用的最大向上重新调度量，它受到最大容量极限（$P^{\\max}$）和即时爬坡率限制（$R^{\\uparrow}$）的双重约束。对于每个发电机，最大即时出力增量是两者中的较小值。\n对于发电机 $G_4$：\n可用裕度为 $P_{4}^{\\max} - P_{4,0} = 130\\,\\mathrm{MW} - 80\\,\\mathrm{MW} = 50\\,\\mathrm{MW}$。\n爬坡率限制为 $R_{4}^{\\uparrow} = 30\\,\\mathrm{MW}$。\n最大可能增加量为 $\\Delta P_{4,\\max\\uparrow} = \\min(50\\,\\mathrm{MW}, 30\\,\\mathrm{MW}) = 30\\,\\mathrm{MW}$。\n对于发电机 $G_5$：\n可用裕度为 $P_{5}^{\\max} - P_{5,0} = 70\\,\\mathrm{MW} - 20\\,\\mathrm{MW} = 50\\,\\mathrm{MW}$。\n爬坡率限制为 $R_{5}^{\\uparrow} = 25\\,\\mathrm{MW}$。\n最大可能增加量为 $\\Delta P_{5,\\max\\uparrow} = \\min(50\\,\\mathrm{MW}, 25\\,\\mathrm{MW}) = 25\\,\\mathrm{MW}$。\n孤岛 $\\mathcal{I}_\\mathrm{E}$ 的总可用向上重新调度量为：\n$$\n\\Delta P_{\\mathrm{E,avail}\\uparrow} = \\Delta P_{4,\\max\\uparrow} + \\Delta P_{5,\\max\\uparrow} = 30\\,\\mathrm{MW} + 25\\,\\mathrm{MW} = 55\\,\\mathrm{MW}\n$$\n发电缺口为 $60\\,\\mathrm{MW}$，但发电机在故障发生后立即能增加的总出力最大为 $55\\,\\mathrm{MW}$。剩余的缺口必须通过甩负荷来平衡。\n孤岛 $\\mathcal{I}_\\mathrm{E}$ 所需的最小甩负荷量为：\n$$\nS_{\\mathrm{E}} = (\\text{缺额}) - \\Delta P_{\\mathrm{E,avail}\\uparrow} = 60\\,\\mathrm{MW} - 55\\,\\mathrm{MW} = 5\\,\\mathrm{MW}\n$$\n\n最后，两个孤岛的总最小非自愿甩负荷量是每个孤岛甩负荷量之和：\n$$\nS_{\\text{total}} = S_{\\mathrm{W}} + S_{\\mathrm{E}} = 0\\,\\mathrm{MW} + 5\\,\\mathrm{MW} = 5\\,\\mathrm{MW}\n$$\n问题要求答案四舍五入到四位有效数字。精确答案是 $5\\,\\mathrm{MW}$，为满足此要求写作 $5.000\\,\\mathrm{MW}$。",
            "answer": "$$\n\\boxed{5.000}\n$$"
        },
        {
            "introduction": "在真实的电力系统中，需要分析的潜在故障数以千计，逐一手动计算是不现实的。因此，工程师们使用高效的筛选工具来快速评估和排序大量故障。本练习将引导您实现一个基于功率转移分布因子（PTDF）和线路开断分布因子（LODF）的自动化应急筛选程序。您将学习如何利用这些线性灵敏度因子来快速估算故障后的潮流，并根据严重性指标对故障进行排序，这正是现代电网可靠性管理的核心实践。",
            "id": "4080859",
            "problem": "给定一个直流潮流（DC-PF）筛选任务，用于在“N-1”可靠性原则下对单一元件故障进行分析，该原则要求系统能够在承受任何单一故障时，不违反热稳定极限。此任务必须使用功率转移分布因子（PTDF）和线路开断分布因子（LODF）的概念来解决，这些概念基于基尔霍夫电流定律（KCL）和线性化潮流近似。具体而言：\n\n- 基尔霍夫电流定律（KCL）强制节点功率平衡，在直流近似下，该定律与线性化的支路潮流关系共同构成了从节点净注入功率到线路潮流的线性映射。\n- 功率转移分布因子（PTDF）将净注入功率的变化映射为线路潮流的增量变化。\n- 线路开断分布因子（LODF）将故障线路上的故障前潮流映射为所有其他线路上的潮流增量变化。\n\n任务。对于给定列表中的每个预想事故：\n1. 从给定的基准情况潮流向量出发，使用PTDF计算注入功率变化引起的潮流，使用LODF计算线路开断引起的潮流，从而计算出事故后的线路潮流。\n2. 定义一个标量严重性评分，用以量化所有非故障线路超出热稳定极限的总量。对于每条线路，严重性必须通过以下方式计算：取事故后潮流的绝对值，减去热稳定极限，将负值截断为零，按极限值进行归一化，然后平方，最后对所有非故障线路求和。该评分为无量纲值。\n3. 按严重性降序对事故进行排序。如果出现平局（严重性相等），则按事故索引的升序打破平局。\n4. 为每个测试用例返回前$k$个事故的索引。\n\n使用符合科学实际的假设。特别是：\n- 基准情况下的线路潮流和极限值以兆瓦（MW）为单位。在适用的情况下，中间和最终功率也以兆瓦表示。\n- 角度不会显式出现，因为直流潮流（DC-PF）模型在注入功率上是线性的，我们直接使用PTDF和LODF数据。\n\n最终输出格式：\n您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表。列表中的每一项对应一个测试用例，其本身是按严重性降序排列（并按上述规则打破平局）的前$k$个事故的索引（整数）列表。例如，一个有效的输出将如下所示：`[[...], [...], [...]]`。\n\n测试套件。使用以下四个测试用例来验证您的实现。对于所有情况，在与极限值比较时，请使用线路潮流的绝对值。\n\n- 测试用例 $1$（一般情况）：\n  - 基准情况线路潮流（MW）：$$f_{0} = \\begin{bmatrix} 80 \\\\ 50 \\\\ 90 \\\\ 30 \\\\ 60 \\end{bmatrix}。$$\n  - 热稳定极限（MW）：$$F_{\\max} = \\begin{bmatrix} 100 \\\\ 100 \\\\ 90 \\\\ 70 \\\\ 80 \\end{bmatrix}。$$\n  - PTDF 矩阵（线路数 $\\times$ 母线数）：$$\\text{PTDF} = \\begin{bmatrix}\n  0.3  -0.1  0.2  -0.4 \\\\\n  -0.2  0.3  -0.1  0.0 \\\\\n  0.1  0.2  -0.2  -0.1 \\\\\n  -0.1  0.0  0.3  -0.2 \\\\\n  0.0  -0.2  0.1  0.3\n  \\end{bmatrix}。$$\n  - LODF 矩阵（线路数 $\\times$ 线路数）：$$\\text{LODF} = \\begin{bmatrix}\n  -1.0  0.2  -0.1  0.0  0.3 \\\\\n  0.1  -1.0  0.25  -0.05  0.0 \\\\\n  -0.15  0.2  -1.0  0.1  -0.05 \\\\\n  0.0  -0.1  0.2  -1.0  0.15 \\\\\n  0.2  0.0  -0.1  0.3  -1.0\n  \\end{bmatrix}。$$\n  - 事故列表：\n    - 索引 $0$：线路 $\\ell = 2$ 发生线路开断。\n    - 索引 $1$：注入功率变化 $$p_{\\Delta} = \\begin{bmatrix} 20 \\\\ -10 \\\\ -5 \\\\ -5 \\end{bmatrix} \\text{ MW}。$$\n    - 索引 $2$：线路 $\\ell = 0$ 发生线路开断。\n  - 前$k$个：$$k = 2。$$\n\n- 测试用例 $2$（边界与平局行为）：\n  - 基准情况线路潮流（MW）：$$f_{0} = \\begin{bmatrix} 100 \\\\ 100 \\\\ 90 \\\\ 70 \\\\ 80 \\end{bmatrix}。$$\n  - 热稳定极限（MW）：$$F_{\\max} = \\begin{bmatrix} 100 \\\\ 100 \\\\ 90 \\\\ 70 \\\\ 80 \\end{bmatrix}。$$\n  - PTDF 矩阵：使用与测试用例 $1$ 中相同的 $$\\text{PTDF}$$。\n  - LODF 矩阵：使用与测试用例 $1$ 中相同的 $$\\text{LODF}$$。\n  - 事故列表：\n    - 索引 $0$：线路 $\\ell = 4$ 发生线路开断。\n    - 索引 $1$：注入功率变化 $$p_{\\Delta} = \\begin{bmatrix} 0 \\\\ 0 \\\\ 0 \\\\ 0 \\end{bmatrix} \\text{ MW}。$$\n    - 索引 $2$：线路 $\\ell = 2$ 发生线路开断。\n  - 前$k$个：$$k = 1。$$\n\n- 测试用例 $3$（具有强潮流再分配的边缘情况）：\n  - 基准情况线路潮流（MW）：$$f_{0} = \\begin{bmatrix} 95 \\\\ 85 \\\\ 90 \\\\ 60 \\\\ 70 \\end{bmatrix}。$$\n  - 热稳定极限（MW）：$$F_{\\max} = \\begin{bmatrix} 100 \\\\ 90 \\\\ 95 \\\\ 65 \\\\ 75 \\end{bmatrix}。$$\n  - PTDF 矩阵：使用与测试用例 $1$ 中相同的 $$\\text{PTDF}$$。\n  - LODF 矩阵修改为包含从索引为 $1$ 的线路开断到线路 $0$ 的大潮流转移：$$\\text{LODF} = \\begin{bmatrix}\n  -1.0  0.9  -0.1  0.0  0.3 \\\\\n  0.1  -1.0  0.25  -0.05  0.0 \\\\\n  -0.15  0.2  -1.0  0.1  -0.05 \\\\\n  0.0  -0.1  0.2  -1.0  0.15 \\\\\n  0.2  0.0  -0.1  0.3  -1.0\n  \\end{bmatrix}。$$\n  - 事故列表：\n    - 索引 $0$：线路 $\\ell = 1$ 发生线路开断。\n    - 索引 $1$：注入功率变化 $$p_{\\Delta} = \\begin{bmatrix} 30 \\\\ -10 \\\\ -10 \\\\ -10 \\end{bmatrix} \\text{ MW}。$$\n  - 前$k$个：$$k = 2。$$\n\n- 测试用例 $4$（预计无过载）：\n  - 基准情况线路潮流（MW）：$$f_{0} = \\begin{bmatrix} 20 \\\\ 10 \\\\ 15 \\\\ 5 \\\\ 12 \\end{bmatrix}。$$\n  - 热稳定极限（MW）：$$F_{\\max} = \\begin{bmatrix} 100 \\\\ 100 \\\\ 100 \\\\ 100 \\\\ 100 \\end{bmatrix}。$$\n  - PTDF 矩阵：使用与测试用例 $1$ 中相同的 $$\\text{PTDF}$$。\n  - LODF 矩阵具有可忽略的非对角线再分配：$$\\text{LODF} = \\begin{bmatrix}\n  -1.0  0.0  0.0  0.0  0.0 \\\\\n  0.0  -1.0  0.0  0.0  0.0 \\\\\n  0.0  0.0  -1.0  0.0  0.0 \\\\\n  0.0  0.0  0.0  -1.0  0.0 \\\\\n  0.0  0.0  0.0  0.0  -1.0\n  \\end{bmatrix}。$$\n  - 事故列表：\n    - 索引 $0$：线路 $\\ell = 0$ 发生线路开断。\n    - 索引 $1$：注入功率变化 $$p_{\\Delta} = \\begin{bmatrix} 10 \\\\ -10 \\\\ 0 \\\\ 0 \\end{bmatrix} \\text{ MW}。$$\n  - 前$k$个：$$k = 2。$$\n\n程序要求：\n- 根据上述规则，为每个测试用例中的每个事故计算严重性评分。\n- 为每个测试用例生成前$k$个事故索引的列表。\n- 您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表，列表中的每一项是针对一个测试用例的索引列表，按严重性降序排列，并通过升序索引打破平局。",
            "solution": "本问题的解决方案是实现一个程序，该程序对每个测试用例执行指定的应急分析协议。对每个测试用例，程序会遍历其定义的应急事件列表，并为每个事件执行以下计算步骤：\n\n1.  **识别事故类型**：确定该事故是线路开断还是节点注入功率变化。\n\n2.  **计算事故后潮流 ($f_{\\text{post}}$)**：\n    *   **注入功率变化**：若事故为注入功率变化 $p_{\\Delta}$，则线路潮流的变化量 $\\Delta f$ 通过矩阵向量乘积 $\\Delta f = \\text{PTDF} \\cdot p_{\\Delta}$ 计算得出。事故后潮流为 $f_{\\text{post}} = f_0 + \\Delta f$。\n    *   **线路开断**：若事故为线路 $\\ell$ 开断，则利用该线路的事故前潮流 $f_{0,\\ell}$ 计算潮流再分布。对于任意线路 $x$，其潮流变化量为 $\\Delta f_x = \\text{LODF}_{x,\\ell} \\cdot f_{0,\\ell}$。事故后潮流为 $f_{\\text{post}} = f_0 + \\Delta f$。特别地，故障线路本身的潮流被置为零：$f_{\\text{post},\\ell} = 0$。\n\n3.  **计算严重性评分 ($S$)**：\n    *   对于每条被监控的线路 $x$（注入功率变化时为所有线路，线路开断时为所有非故障线路），首先计算其过载量：$\\text{overload}_x = \\max(0, |f_{\\text{post},x}| - F_{\\max,x})$。\n    *   然后将该过载量按线路的热极限 $F_{\\max,x}$ 进行归一化。\n    *   将归一化后的值平方。\n    *   严重性评分 $S$ 是所有被监控线路上这些值的总和：\n    $$S = \\sum_{x} \\left( \\frac{\\text{overload}_x}{F_{\\max,x}} \\right)^2$$\n\n4.  **存储与排序**：\n    *   将计算出的严重性评分 $S$ 及其对应的事故索引作为一个元组 $(S, \\text{index})$ 存储。\n    *   处理完一个测试用例中的所有事故后，对此列表进行排序。主排序键为严重性评分（降序），次排序键为事故索引（升序），用于打破平局。\n\n5.  **提取前 $k$ 个结果**：\n    *   从排好序的列表中，提取前 $k$ 个事故的索引，作为该测试用例的最终结果。\n\n将此过程应用于所有四个测试用例，并将结果汇总，即可得到最终答案。",
            "answer": "```\n[[1, 0], [2], [0, 1], [0, 1]]\n```"
        }
    ]
}