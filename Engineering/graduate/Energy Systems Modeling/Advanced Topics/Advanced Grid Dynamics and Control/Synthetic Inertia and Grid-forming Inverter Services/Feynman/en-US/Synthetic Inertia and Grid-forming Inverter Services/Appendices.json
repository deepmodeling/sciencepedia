{
    "hands_on_practices": [
        {
            "introduction": "The foundation of synthetic inertia lies in emulating the behavior of a physical synchronous generator, a concept central to the Virtual Synchronous Machine (VSM) control strategy. This exercise guides you through the essential process of translating desired dynamic performance, specified by a target damping ratio $\\zeta$ and natural frequency $\\omega_n$, into the concrete control parameters $M$ and $D$ that govern the inverter's response . By working from the fundamental power-angle relationship, you will gain hands-on experience with the pole placement technique, a cornerstone of control systems engineering applied to modern power electronics.",
            "id": "4127863",
            "problem": "A grid-forming inverter connected to a strong grid is controlled to provide synthetic inertia and damping through a frequency control loop. The inverter terminal voltage magnitude is held at $1.0$ per-unit (p.u.), and the grid bus voltage magnitude is $1.0$ p.u. The inverter is connected to the grid through an equivalent reactance $X_{\\mathrm{eq}}$, and the steady-state power transfer follows the power-angle relation, which at small angles is well-approximated by the linearized synchronizing torque (power-angle sensitivity). The inverter’s frequency control loop emulates a second-order electromechanical dynamic by commanding the inverter’s active power such that the angle $\\delta(t)$ (in radians) and the frequency deviation $\\omega(t) = \\dot{\\delta}(t)$ are governed by an effective inertia parameter $M$ and damping parameter $D$.\n\nStarting from first principles and well-tested formulas, do the following:\n\n1. Use the sinusoidal power-flow relation between a source behind reactance and the grid, and its small-angle linearization, to express the synchronizing power coefficient $K_{s}$ in terms of $V_{\\mathrm{inv}}$, $V_{\\mathrm{g}}$, and $X_{\\mathrm{eq}}$. Assume the operating point satisfies $\\delta_{0} \\approx 0$ and use radians for angles.\n2. Using the synthetic inertia and damping control law that emulates the swing-like dynamics, derive the small-signal homogeneous second-order differential equation in $\\delta(t)$ and identify the corresponding closed-loop characteristic polynomial.\n3. Given a design target of damping ratio $\\zeta = 0.7$ and natural frequency $\\omega_{n}$, place the closed-loop poles at the desired locations by solving for $M$ and $D$ in terms of $K_{s}$, $\\zeta$, and $\\omega_{n}$.\n4. For a specific case with $V_{\\mathrm{inv}} = 1.0$ p.u., $V_{\\mathrm{g}} = 1.0$ p.u., $X_{\\mathrm{eq}} = 0.3$ p.u., and desired $\\omega_{n} = 20$ radians per second, compute the numerical values of $M$ and $D$ corresponding to the pole placement in Part 3.\n\nExpress the final numerical values as follows:\n- Use radians for angles.\n- Round your numerical values to four significant figures.\n- Express $M$ in p.u.$\\cdot$s$^2$.\n- Express $D$ in p.u.$\\cdot$s.\n\nYour final answer must be a single row matrix containing $M$ and $D$ in the specified units and rounding.",
            "solution": "### Problem Validation\n#### Step 1: Extract Givens\nThe problem provides the following information:\n-   Inverter terminal voltage magnitude: $V_{\\mathrm{inv}} = 1.0$ per-unit (p.u.).\n-   Grid bus voltage magnitude: $V_{\\mathrm{g}} = 1.0$ p.u.\n-   Equivalent reactance: $X_{\\mathrm{eq}} = 0.3$ p.u.\n-   Steady-state operating point angle: $\\delta_{0} \\approx 0$ radians.\n-   The system dynamics are governed by an effective inertia parameter $M$ and damping parameter $D$.\n-   The angle is denoted by $\\delta(t)$ in radians.\n-   The frequency deviation is defined as $\\omega(t) = \\dot{\\delta}(t)$.\n-   The control system emulates a second-order electromechanical dynamic.\n-   Design target for damping ratio: $\\zeta = 0.7$.\n-   Design target for natural frequency: $\\omega_{n} = 20$ radians per second.\n-   Required units for final answer: $M$ in p.u.$\\cdot$s$^2$, $D$ in p.u.$\\cdot$s.\n-   Required precision for final answer: round to four significant figures.\n\n#### Step 2: Validate Using Extracted Givens\nThe problem is scientifically grounded, well-posed, and objective.\n-   **Scientifically Grounded:** The problem is based on fundamental principles of power system analysis, including the power-angle relationship for AC power flow and the second-order swing equation model used for stability analysis. The concept of synthetic inertia provided by grid-forming inverters is a well-established topic in modern power systems research and engineering. All physical quantities and their relationships are sound.\n-   **Well-Posed:** The problem is structured as a standard control design task. It provides sufficient information (system parameters, control objectives) to determine a unique solution for the control parameters ($M$ and $D$). The steps are logical and lead to a clear, computable result.\n-   **Objective:** The language is precise and quantitative. All terms like \"synthetic inertia,\" \"damping ratio,\" and \"natural frequency\" are standard in control theory and power engineering.\n\nThe problem does not exhibit any of the invalidity flaws. It is a textbook example of control parameter design for a grid-forming inverter providing ancillary services. The request for specific units for $M$ and $D$ clarifies the common convention in this field where the angle in radians is treated as a dimensionless quantity within the state-space formulation, resolving potential ambiguity.\n\n#### Step 3: Verdict and Action\nThe problem is valid. A complete solution will be provided.\n\n### Solution\nThe problem asks for a multi-part derivation and calculation concerning the control design of a grid-forming inverter providing synthetic inertia.\n\n#### Part 1: Synchronizing Power Coefficient ($K_s$)\nThe active power $P$ transferred from the inverter to the grid through a reactance $X_{\\mathrm{eq}}$ is given by the power-flow relation:\n$$P(\\delta) = \\frac{V_{\\mathrm{inv}} V_{\\mathrm{g}}}{X_{\\mathrm{eq}}} \\sin(\\delta)$$\nwhere $\\delta$ is the angle of the inverter's voltage with respect to the grid's voltage.\n\nThe synchronizing power coefficient, $K_s$, represents the stiffness of the electrical connection and is defined as the slope of the power-angle curve at the operating point $\\delta_0$. It is the first derivative of power with respect to the angle:\n$$K_s = \\frac{dP}{d\\delta} \\bigg|_{\\delta=\\delta_0} = \\frac{V_{\\mathrm{inv}} V_{\\mathrm{g}}}{X_{\\mathrm{eq}}} \\cos(\\delta_0)$$\nThe problem specifies a small-angle linearization around the operating point $\\delta_0 \\approx 0$. At this point, $\\cos(\\delta_0) \\approx \\cos(0) = 1$. Therefore, the synchronizing power coefficient is:\n$$K_s = \\frac{V_{\\mathrm{inv}} V_{\\mathrm{g}}}{X_{\\mathrm{eq}}}$$\n\n#### Part 2: Dynamic Equation and Characteristic Polynomial\nThe inverter's control loop emulates the electromechanical swing equation, which is a second-order system. The general form of this equation relates the inertial and damping torques (powers) to the accelerating torque (power), which is the difference between the reference power $P_{\\mathrm{ref}}$ (analogous to mechanical power) and the electrical power output $P_e$.\n$$M \\frac{d^2\\delta(t)}{dt^2} + D \\frac{d\\delta(t)}{dt} = P_{\\mathrm{ref}}(t) - P_e(t)$$\nFor small-signal stability analysis, we analyze the system's response to small perturbations around a steady-state operating point $(\\delta_0, P_{e0})$, where $P_{e0} = P_{\\mathrm{ref}}$. Let $\\delta(t) = \\delta_0 + \\Delta\\delta(t)$ and $P_e(t) = P_{e0} + \\Delta P_e(t)$. Assuming the power reference is constant ($\\Delta P_{\\mathrm{ref}} = 0$), the linearized equation for the perturbations becomes:\n$$M \\frac{d^2(\\Delta\\delta)}{dt^2} + D \\frac{d(\\Delta\\delta)}{dt} = -\\Delta P_e(t)$$\nThe change in electrical power $\\Delta P_e$ is related to the change in angle $\\Delta\\delta$ by the synchronizing power coefficient $K_s$ from Part 1:\n$$\\Delta P_e(t) \\approx K_s \\Delta\\delta(t)$$\nSubstituting this into the dynamic equation, we obtain the homogeneous second-order linear differential equation. For notational simplicity, we let $\\delta(t)$ represent the deviation $\\Delta\\delta(t)$.\n$$M \\ddot{\\delta}(t) + D \\dot{\\delta}(t) = -K_s \\delta(t)$$\nThis rearranges to:\n$$M \\ddot{\\delta}(t) + D \\dot{\\delta}(t) + K_s \\delta(t) = 0$$\nTo find the characteristic polynomial, we take the Laplace transform of this equation, assuming zero initial conditions:\n$$M s^2 \\Delta(s) + D s \\Delta(s) + K_s \\Delta(s) = 0$$\nDividing by $\\Delta(s)$, the characteristic polynomial $C(s)$ is:\n$$C(s) = M s^2 + D s + K_s = 0$$\n\n#### Part 3: Pole Placement for $M$ and $D$\nThe goal is to place the closed-loop poles to achieve a desired damping ratio $\\zeta$ and natural frequency $\\omega_n$. The standard characteristic polynomial for a second-order system is:\n$$s^2 + 2\\zeta\\omega_n s + \\omega_n^2 = 0$$\nTo match our derived characteristic equation to this standard form, we divide by $M$:\n$$s^2 + \\frac{D}{M} s + \\frac{K_s}{M} = 0$$\nBy comparing the coefficients of the two polynomial forms, we obtain two algebraic equations:\n1.  $\\omega_n^2 = \\frac{K_s}{M}$\n2.  $2\\zeta\\omega_n = \\frac{D}{M}$\n\nWe can now solve for $M$ and $D$ in terms of $K_s$, $\\zeta$, and $\\omega_n$. From equation (1):\n$$M = \\frac{K_s}{\\omega_n^2}$$\nFrom equation (2), we solve for $D$:\n$$D = 2\\zeta\\omega_n M$$\nSubstituting the expression for $M$ into the equation for $D$:\n$$D = 2\\zeta\\omega_n \\left( \\frac{K_s}{\\omega_n^2} \\right) = \\frac{2\\zeta K_s}{\\omega_n}$$\nThese are the required expressions for the synthetic inertia $M$ and damping $D$.\n\n#### Part 4: Numerical Calculation\nWe are given the following specific values:\n-   $V_{\\mathrm{inv}} = 1.0$ p.u.\n-   $V_{\\mathrm{g}} = 1.0$ p.u.\n-   $X_{\\mathrm{eq}} = 0.3$ p.u.\n-   $\\zeta = 0.7$\n-   $\\omega_n = 20$ rad/s\n\nFirst, we calculate the synchronizing power coefficient $K_s$ from Part 1. Based on the problem's units specification, $K_s$ is in p.u.\n$$K_s = \\frac{V_{\\mathrm{inv}} V_{\\mathrm{g}}}{X_{\\mathrm{eq}}} = \\frac{1.0 \\times 1.0}{0.3} = \\frac{10}{3} \\text{ p.u.}$$\nNext, we use the formulas from Part 3 to compute $M$ and $D$.\n\nFor the inertia parameter $M$:\n$$M = \\frac{K_s}{\\omega_n^2} = \\frac{10/3}{(20)^2} = \\frac{10}{3 \\times 400} = \\frac{10}{1200} = \\frac{1}{120} \\text{ p.u.}\\cdot\\text{s}^2$$\nAs a decimal, $M = 0.0083333...$ p.u.$\\cdot$s$^2$. Rounding to four significant figures gives:\n$$M \\approx 0.008333 \\text{ p.u.}\\cdot\\text{s}^2$$\nFor the damping parameter $D$:\n$$D = \\frac{2\\zeta K_s}{\\omega_n} = \\frac{2 \\times 0.7 \\times (10/3)}{20} = \\frac{1.4 \\times 10}{3 \\times 20} = \\frac{14}{60} = \\frac{7}{30} \\text{ p.u.}\\cdot\\text{s}$$\nAs a decimal, $D = 0.23333...$ p.u.$\\cdot$s. Rounding to four significant figures gives:\n$$D \\approx 0.2333 \\text{ p.u.}\\cdot\\text{s}$$\nThe calculated values for $M$ and $D$ will place the system's poles to meet the specified performance of $\\zeta=0.7$ and $\\omega_n=20$ rad/s.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.008333 & 0.2333\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "A key principle of synthetic inertia is that it provides a temporary, dynamic service to counteract sudden grid disturbances, rather than a sustained response to long-term frequency deviations. To ensure this transient-only actuation, control engineers employ a high-pass or \"washout\" filter. This practice explores the design of such a filter, demonstrating how it prevents the synthetic inertia mechanism from reacting to steady-state frequency errors, which are managed by other layers of grid control . You will use tools from Laplace analysis to prove the filter's effectiveness and then determine its crucial parameter $\\alpha$ based on time-domain performance requirements.",
            "id": "4127867",
            "problem": "A grid-forming (GFM) inverter implements synthetic inertia by modulating active power in response to measured frequency deviation. To avoid sustained power offset from a constant frequency error and to limit action to the immediate aftermath of a disturbance, the frequency measurement pathway includes a washout filter with transfer function $W(s)=\\frac{s}{s+\\alpha}$, where $\\alpha>0$ is a design parameter. Consider a disturbance in which the measured frequency deviation $\\Delta f(t)$ contains a constant offset modeled as a unit step input. Starting from the definitions of the Laplace transform and the final value theorem, demonstrate that the washout filter eliminates direct current (DC) bias in the synthetic inertia pathway, meaning its output converges to zero for a step input. Then, impose a design requirement that the actuation be effectively confined to the first $5$ seconds of the event, formalized as the condition that the magnitude of the washout output for the unit step be no greater than $1\\%$ of its initial value for all $t\\geq 5$. Under this requirement, determine the value of $\\alpha$ that minimally satisfies this confinement. Express the final numerical value of $\\alpha$ in $\\text{s}^{-1}$ and round your answer to four significant figures.",
            "solution": "The problem statement is evaluated and found to be valid. It is scientifically grounded in control theory and power systems engineering, specifically relating to the function of grid-forming inverters. The problem is well-posed, with all necessary data and conditions provided to arrive at a unique, meaningful solution. The language is objective and the requirements are mathematically formalizable.\n\nThe problem asks for two main results: first, a demonstration that a washout filter rejects a direct current (DC) bias, and second, the calculation of a specific filter parameter based on a performance requirement.\n\nFirst, we will demonstrate that the washout filter eliminates the steady-state response to a step input using the final value theorem of the Laplace transform.\nThe washout filter's transfer function is given as $W(s) = \\frac{s}{s+\\alpha}$, where $\\alpha > 0$.\nThe input, a constant frequency deviation, is modeled as a unit step function, $\\Delta f(t) = u(t)$.\nThe Laplace transform of the input is $\\Delta F(s) = \\mathcal{L}\\{\\Delta f(t)\\} = \\mathcal{L}\\{u(t)\\} = \\frac{1}{s}$.\n\nThe output of the filter in the Laplace domain, which we denote as $Y(s)$, is the product of the filter's transfer function and the input's Laplace transform:\n$$Y(s) = W(s) \\Delta F(s) = \\left(\\frac{s}{s+\\alpha}\\right) \\left(\\frac{1}{s}\\right)$$\n$$Y(s) = \\frac{1}{s+\\alpha}$$\nThe final value theorem states that for a function $y(t)$ with Laplace transform $Y(s)$, the final value of the function as time approaches infinity is given by:\n$$\\lim_{t \\to \\infty} y(t) = \\lim_{s \\to 0} sY(s)$$\nThis theorem is applicable only if all the poles of the function $sY(s)$ lie in the left half of the complex s-plane. Let us check this condition for our system.\n$$sY(s) = s \\left(\\frac{1}{s+\\alpha}\\right) = \\frac{s}{s+\\alpha}$$\nThe poles of $sY(s)$ are the roots of the denominator polynomial, $s+\\alpha=0$, which gives a single pole at $s = -\\alpha$. Since the problem specifies that $\\alpha > 0$, the pole is on the negative real axis, which is strictly in the left half-plane. Thus, the condition for the final value theorem is satisfied.\n\nWe now apply the theorem:\n$$\\lim_{t \\to \\infty} y(t) = \\lim_{s \\to 0} \\frac{s}{s+\\alpha} = \\frac{0}{0+\\alpha} = 0$$\nThe result is zero, which demonstrates that the output of the washout filter converges to zero for a constant (step) input. This confirms that the filter effectively eliminates, or \"washes out,\" any DC bias in the signal path, ensuring the synthetic inertia response is purely transient.\n\nNext, we determine the value of the parameter $\\alpha$ based on the given design requirement. This requires us to find the time-domain response of the filter, $y(t)$. We do this by taking the inverse Laplace transform of $Y(s)$:\n$$y(t) = \\mathcal{L}^{-1}\\{Y(s)\\} = \\mathcal{L}^{-1}\\left\\{\\frac{1}{s+\\alpha}\\right\\}$$\nFrom standard Laplace transform tables, this corresponds to a decaying exponential function:\n$$y(t) = \\exp(-\\alpha t) \\quad \\text{for } t \\ge 0$$\nThe design requirement is that the magnitude of the output, $|y(t)|$, must be no greater than $1\\%$ of its initial value for all times $t \\ge 5$ seconds. The initial value is the value at $t=0$:\n$$y(0) = \\exp(-\\alpha \\times 0) = \\exp(0) = 1$$\nThe requirement can be formally written as:\n$$|y(t)| \\le 0.01 \\times |y(0)| \\quad \\text{for } t \\ge 5$$\nSubstituting the expressions for $y(t)$ and $y(0)$:\n$$|\\exp(-\\alpha t)| \\le 0.01 \\times 1 \\quad \\text{for } t \\ge 5$$\nSince $\\alpha > 0$ and $t \\ge 0$, the exponential term $\\exp(-\\alpha t)$ is always positive, so the absolute value signs can be removed:\n$$\\exp(-\\alpha t) \\le 0.01 \\quad \\text{for } t \\ge 5$$\nThe function $f(t) = \\exp(-\\alpha t)$ is a monotonically decreasing function of time $t$. Therefore, if the condition is satisfied at the beginning of the interval, i.e., at $t=5$ s, it will automatically be satisfied for all $t > 5$ s. The problem reduces to satisfying the condition at the boundary time $t=5$:\n$$\\exp(-5\\alpha) \\le 0.01$$\nThe problem asks for the value of $\\alpha$ that *minimally* satisfies this confinement. A larger $\\alpha$ would lead to a faster decay, more strongly satisfying the inequality. The minimal value of $\\alpha$ that meets the requirement is the one that satisfies the equality:\n$$\\exp(-5\\alpha) = 0.01$$\nTo solve for $\\alpha$, we take the natural logarithm of both sides:\n$$\\ln(\\exp(-5\\alpha)) = \\ln(0.01)$$\n$$-5\\alpha = \\ln(10^{-2})$$\nUsing the property of logarithms $\\ln(x^p) = p\\ln(x)$:\n$$-5\\alpha = -2\\ln(10)$$\n$$\\alpha = \\frac{2\\ln(10)}{5}$$\nNow, we calculate the numerical value of $\\alpha$. Using the value $\\ln(10) \\approx 2.302585$:\n$$\\alpha = \\frac{2 \\times 2.302585}{5} = \\frac{4.60517}{5} = 0.921034$$\nThe problem requires the answer to be rounded to four significant figures.\n$$\\alpha \\approx 0.9210$$\nThe units of $\\alpha$ must be such that the argument of the exponential, $\\alpha t$, is dimensionless. Since $t$ is in seconds (s), $\\alpha$ must have units of inverse seconds ($\\text{s}^{-1}$), which is consistent with its role in the transfer function denominator $s+\\alpha$.",
            "answer": "$$\n\\boxed{0.9210}\n$$"
        },
        {
            "introduction": "While designing a single inverter is a crucial first step, the true challenge often emerges when multiple grid-forming inverters interact within a microgrid. The dynamic coupling between these devices can give rise to system-wide oscillations, potentially jeopardizing stability. This practice scales up our analysis from a single device to a small, interconnected ring network of three inverters . By constructing a state-space model that incorporates the network topology via the graph Laplacian matrix, you will use eigenvalue analysis to investigate modal stability and identify the control parameter settings that prevent these harmful inter-inverter oscillations.",
            "id": "4127833",
            "problem": "Consider a three-node ring microgrid whose nodes are Grid-Forming Inverters (GFI). Each GFI implements a Virtual Synchronous Machine (VSM) style active power-frequency loop modeled, after small-signal linearization, by a system of coupled differential equations. Let $\\delta = [\\delta_1,\\delta_2,\\delta_3]^\\top$ be the vector of small angle deviations (in radians) from a synchronous reference frame, and let $\\omega = [\\omega_1,\\omega_2,\\omega_3]^\\top$ be the vector of small electrical frequency deviations (in radians per second), where $\\omega = \\dot{\\delta}$. The linearized dynamics for the stacked state vector $x = [\\delta^\\top, \\omega^\\top]^\\top$ are given by the linear time-invariant system $\\dot{x} = A x$. The dynamics are defined by the block equations:\n$$\n\\dot{\\delta} = \\omega, \\quad \\dot{\\omega} = -\\frac{1}{M} L \\, \\delta - \\frac{D}{M} \\, \\omega,\n$$\nwhere the block structure is determined by the graph Laplacian $L$ of the three-node ring with edge weight $K_e$. Assume identical inverters with inertia-like coefficient $M$ (in seconds), and damping-like coefficient $D$ (dimensionless). Assume identical lines around the ring such that the linearized synchronizing stiffness per edge is $K_e$ (in inverse seconds). The Laplacian $L$ has diagonal entries equal to $2 K_e$ and off-diagonal entries equal to $-K_e$ for connected nodes, and $0$ otherwise. Angles are in radians, frequencies are in radians per second, $M$ is in seconds, $D$ is dimensionless, and $K_e$ is in inverse seconds.\n\nYour task is to analyze modal stability and oscillatory behavior due to circulating power in this ring. Starting from the above first principles, carry out the following for each parameter set $(M, D, K_e)$:\n\n1. Construct the state matrix $A$ using the provided block form.\n2. Compute all eigenvalues of $A$ and determine if the system is asymptotically stable excluding the uniform angle reference mode. Specifically, declare the system \"stable\" if every eigenvalue except a single eigenvalue at exactly zero (corresponding to uniform angle shift) has strictly negative real part. Use a numerical tolerance of $10^{-9}$ on real parts and a magnitude tolerance of $10^{-7}$ to identify and exclude the single reference-mode eigenvalue at zero.\n3. Determine whether any mode is oscillatory. Declare \"oscillatory\" true if any eigenvalue has a nonzero imaginary part in magnitude greater than $10^{-9}$ (regardless of its real part sign).\n4. Using the modal decomposition of the Laplacian, define the worst-case damping ratio across the nonzero Laplacian modes as\n$$\n\\zeta_{\\text{worst}} = \\frac{D}{2 \\sqrt{M \\, \\lambda_{\\max}}},\n$$\nwhere $\\lambda_{\\max}$ is the largest positive eigenvalue of $L$ (in inverse seconds). The damping ratio is dimensionless. Compute $\\zeta_{\\text{worst}}$.\n5. Propose a tuning to avoid circulating power oscillations entirely by ensuring non-oscillatory real modes. Provide the minimum damping $D_{\\text{no\\_osc}}$ required to make all nonzero modes non-oscillatory (i.e., critically damped or overdamped), given by\n$$\nD_{\\text{no\\_osc}} = 2 \\sqrt{M \\, \\lambda_{\\max}},\n$$\nwhere $D_{\\text{no\\_osc}}$ is dimensionless.\n\nAll angles must be treated in radians and all time-related quantities in seconds. For each test case, return a list of four items in the following order: the boolean stability flag, the boolean oscillation flag, the float $\\zeta_{\\text{worst}}$ (rounded to six decimal places), and the float $D_{\\text{no\\_osc}}$ (rounded to six decimal places).\n\nTest suite (four cases):\n- Case $1$: $(M, D, K_e) = (0.5, 0.4, 10.0)$.\n- Case $2$: $(M, D, K_e) = (0.2, 6.0, 12.0)$.\n- Case $3$ (boundary, critical damping): $(M, D, K_e) = (1.0, 2 \\sqrt{15}, 5.0)$, where $2 \\sqrt{15}$ should be computed numerically.\n- Case $4$ (no damping): $(M, D, K_e) = (0.5, 0.0, 8.0)$.\n\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, where each result corresponds to one test case in order and is itself a list in the format\n$$\n[\\text{stable}, \\text{oscillatory}, \\zeta_{\\text{worst}}, D_{\\text{no\\_osc}}],\n$$\nwith booleans unquoted and floats rounded to six decimal places. For example, a valid output format is\n$$\n[[\\text{True}, \\text{False}, 0.123456, 7.890123],[\\dots],\\dots].\n$$",
            "solution": "The problem statement is evaluated and found to be valid. It presents a standard state-space model for the small-signal dynamics of a multi-inverter microgrid. The model, defined by the inertia coefficient $M$, damping coefficient $D$, and the graph Laplacian $L$ representing the network topology, is a cornerstone of modern power system stability analysis. The questions posed—regarding stability, oscillatory modes, and control parameter tuning—are fundamental and well-posed tasks in control engineering. All physical quantities, units, and objectives are clearly defined, making the problem solvable and scientifically sound.\n\nThe solution proceeds systematically for each parameter set.\n\n**Step 1: Construct the Graph Laplacian, $L$**\nThe microgrid is a three-node ring. The graph Laplacian $L$ for a network with uniform edge weights $K_e$ is a symmetric matrix where diagonal entries $L_{ii}$ are the sum of weights of edges connected to node $i$, and off-diagonal entries $L_{ij}$ are the negative of the weight of the edge between nodes $i$ and $j$. For a three-node ring, each node has two neighbors. Therefore, the Laplacian is:\n$$\nL = K_e\n\\begin{pmatrix}\n2 & -1 & -1 \\\\\n-1 & 2 & -1 \\\\\n-1 & -1 & 2\n\\end{pmatrix}\n$$\nThe eigenvalues of this $3 \\times 3$ circulant matrix are known to be $\\lambda_0 = 0$, $\\lambda_1 = 3K_e$, and $\\lambda_2 = 3K_e$. The largest positive eigenvalue is thus $\\lambda_{\\max} = 3K_e$.\n\n**Step 2: Construct the State Matrix, $A$**\nThe state vector is $x = [\\delta^\\top, \\omega^\\top]^\\top$, where $\\delta = [\\delta_1, \\delta_2, \\delta_3]^\\top$ and $\\omega = [\\omega_1, \\omega_2, \\omega_3]^\\top$. The state-space representation $\\dot{x} = Ax$ is derived from the given block equations. The state matrix $A$ is a $6 \\times 6$ block matrix:\n$$\nA =\n\\begin{pmatrix}\n0_{3 \\times 3} & I_{3 \\times 3} \\\\\n-\\frac{1}{M} L & -\\frac{D}{M} I_{3 \\times 3}\n\\end{pmatrix}\n$$\nwhere $0_{3 \\times 3}$ is the $3 \\times 3$ zero matrix and $I_{3 \\times 3}$ is the $3 \\times 3$ identity matrix.\n\n**Step 3: Modal Analysis and Eigenvalue Computation**\nThe eigenvalues of the block matrix $A$ determine the system's stability and oscillatory nature. These eigenvalues can be found by relating them to the eigenvalues of the Laplacian, $\\lambda_k$. For each eigenvalue $\\lambda_k$ of $L$, there is a corresponding pair of eigenvalues for $A$, which are the roots of the characteristic equation:\n$$\ns^2 + \\frac{D}{M} s + \\frac{\\lambda_k}{M} = 0\n$$\n- For the zero eigenvalue of the Laplacian, $\\lambda_0 = 0$, the equation is $s^2 + \\frac{D}{M}s = 0$, which yields two eigenvalues for $A$: $s_1 = 0$ and $s_2 = -D/M$. The $s_1=0$ eigenvalue corresponds to the system's invariance to a uniform shift in all rotor angles, representing the freedom to choose a reference angle.\n- For the repeated positive eigenvalues $\\lambda_{1,2} = \\lambda_{\\max} = 3K_e$, we have two identical characteristic equations:\n$$\ns^2 + \\frac{D}{M} s + \\frac{3K_e}{M} = 0\n$$\nThis gives two pairs of identical roots. The nature of these roots (real or complex) determines the oscillatory behavior of the inter-inverter modes.\n\n**Step 4: System Analysis for Each Test Case**\nFor each given parameter set $(M, D, K_e)$, the following quantities are computed:\n1.  **Stability (`stable`)**: The full matrix $A$ is constructed and its six eigenvalues are computed numerically. The system is declared \"stable\" if exactly one eigenvalue has a magnitude less than $10^{-7}$ (the zero mode) and all other five eigenvalues have real parts strictly less than $-10^{-9}$.\n2.  **Oscillatory Behavior (`oscillatory`)**: The system is \"oscillatory\" if any of the six eigenvalues of $A$ has an imaginary part with a magnitude greater than $10^{-9}$.\n3.  **Worst-Case Damping Ratio ($\\zeta_{\\text{worst}}$)**: This is calculated for the least-damped oscillatory mode, which corresponds to the largest Laplacian eigenvalue, $\\lambda_{\\max}$. The formula is:\n$$\n\\zeta_{\\text{worst}} = \\frac{D}{2 \\sqrt{M \\lambda_{\\max}}} = \\frac{D}{2 \\sqrt{3 M K_e}}\n$$\n4.  **Minimum Damping for Non-Oscillatory Modes ($D_{\\text{no\\_osc}}$)**: This is the value of $D$ that makes the worst-case damping ratio equal to one ($\\zeta_{\\text{worst}} = 1$), which is the boundary for critical damping.\n$$\nD_{\\text{no\\_osc}} = 2 \\sqrt{M \\lambda_{\\max}} = 2 \\sqrt{3 M K_e}\n$$\n\nThe calculations are performed for each test case, and the results are compiled as specified.\n- **Case 1**: $(M, D, K_e) = (0.5, 0.4, 10.0)$. The system is underdamped ($\\zeta_{\\text{worst}} < 1$), resulting in stable oscillations.\n- **Case 2**: $(M, D, K_e) = (0.2, 6.0, 12.0)$. The system is overdamped ($\\zeta_{\\text{worst}} > 1$), resulting in stable, non-oscillatory decay of disturbances.\n- **Case 3**: $(M, D, K_e) = (1.0, 2\\sqrt{15}, 5.0)$. The damping is set exactly to the critical damping value, $D = D_{\\text{no\\_osc}}$, yielding $\\zeta_{\\text{worst}} = 1$. The system is stable and non-oscillatory.\n- **Case 4**: $(M, D, K_e) = (0.5, 0.0, 8.0)$. With zero damping ($D=0$), the system is only marginally stable. There is a double eigenvalue at zero, violating the condition for asymptotic stability. The other modes are undamped and purely oscillatory. The system is flagged as not stable.\n\nThe final output is generated by implementing these steps in a runnable program.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the microgrid stability analysis problem for a suite of test cases.\n    \"\"\"\n    # Define the test cases from the problem statement.\n    test_cases = [\n        (0.5, 0.4, 10.0),\n        (0.2, 6.0, 12.0),\n        (1.0, 2 * np.sqrt(15), 5.0),\n        (0.5, 0.0, 8.0),\n    ]\n\n    # Tolerances for numerical checks\n    ZERO_MAG_TOL = 1e-7\n    NEG_REAL_TOL = -1e-9\n    IMAG_TOL = 1e-9\n\n    results = []\n    \n    for M, D, Ke in test_cases:\n        # Step 1: Construct the Graph Laplacian L for a 3-node ring\n        L = Ke * np.array([\n            [2, -1, -1],\n            [-1, 2, -1],\n            [-1, -1, 2]\n        ])\n\n        # Step 2: Construct the State Matrix A\n        n_nodes = 3\n        Z = np.zeros((n_nodes, n_nodes))\n        I = np.eye(n_nodes)\n        \n        A_top = np.block([Z, I])\n        # Handle M=0 case to avoid division by zero, though not in test cases.\n        if M == 0:\n            # System dynamics are ill-defined if M=0. For robustness, treat as unstable.\n            results.append([False, False, float('inf'), float('inf')])\n            continue\n            \n        A_bottom = np.block([(-1 / M) * L, (-D / M) * I])\n        A = np.block([[A_top], [A_bottom]])\n\n        # Step 3: Compute eigenvalues of A\n        eigenvalues = np.linalg.eigvals(A)\n\n        # Step 4: Analyze eigenvalues for stability and oscillations\n\n        # Task 2: Stability check\n        # Identify eigenvalues that are numerically close to zero.\n        zero_eigs = [eig for eig in eigenvalues if np.abs(eig) < ZERO_MAG_TOL]\n        \n        # Identify non-zero eigenvalues.\n        non_zero_eigs = [eig for eig in eigenvalues if np.abs(eig) >= ZERO_MAG_TOL]\n        \n        # Stability requires a single zero eigenvalue and all others to have strictly negative real parts.\n        is_stable = False\n        if len(zero_eigs) == 1:\n            if all(eig.real < NEG_REAL_TOL for eig in non_zero_eigs):\n                is_stable = True\n        \n        # Task 3: Oscillation check\n        # Check if any eigenvalue has a significant imaginary part.\n        is_oscillatory = any(np.abs(eig.imag) > IMAG_TOL for eig in eigenvalues)\n\n        # Task 4: Compute worst-case damping ratio\n        # The largest positive eigenvalue of L for a 3-node ring is 3*Ke\n        lambda_max = 3 * Ke\n        \n        # Denominator for zeta_worst and D_no_osc\n        denominator_term = 2 * np.sqrt(M * lambda_max) if M * lambda_max > 0 else 0\n        \n        # Avoid division by zero if M or Ke is zero\n        if denominator_term > 0:\n            zeta_worst = D / denominator_term\n        else:\n            # If D > 0, damping is infinite. If D=0, it is undefined.\n            # Given problem constraints, this case is not critical.\n            zeta_worst = float('inf') if D > 0 else 0.0\n\n        # Task 5: Compute minimum damping for non-oscillatory behavior\n        D_no_osc = denominator_term\n\n        # Collect results for this case\n        results.append([is_stable, is_oscillatory, zeta_worst, D_no_osc])\n\n    # Format the final output string as specified\n    formatted_results = []\n    for res in results:\n        stable, oscillatory, zeta, d_no_osc = res\n        # Python's bool __str__ is 'True' or 'False'.\n        s = f\"[{stable}, {oscillatory}, {zeta:.6f}, {d_no_osc:.6f}]\"\n        formatted_results.append(s)\n    \n    # Final print statement in the exact required format.\n    print(f\"[{','.join(formatted_results)}]\")\n\nsolve()\n```"
        }
    ]
}