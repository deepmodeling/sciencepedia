{
    "hands_on_practices": [
        {
            "introduction": "The immediate moments following a large power imbalance, such as the sudden loss of a generator, are critical for grid stability. The system's inherent rotational inertia is the first line of defense, resisting the change in frequency. This practice provides a foundational exercise in calculating the initial Rate of Change of Frequency (RoCoF), deriving it from the first principles of energy conservation. By aggregating the contributions of a diverse fleet of synchronous machines, you will develop a tangible understanding of how a system's generation portfolio directly determines its resilience to sudden disturbances.",
            "id": "4092121",
            "problem": "A bulk power system at nominal frequency $f_{0}$ experiences a sudden net loss of generation $\\Delta P$ at time $t=0$, before any governor or primary frequency response. The system is supplied by multiple synchronous machines with different inertia constants $H_{i}$ and rated apparent powers $S_{i}$. Assume unity power factor so that megavolt-amperes (MVA) equal megawatts (MW) for base conversions. You may ignore load damping and friction over the initial transient.\n\nStarting from first principles of rotational dynamics and energy balance, derive the expression for the initial Rate of Change of Frequency (RoCoF), defined as $df/dt$ at $t=0^{+}$, in terms of a system-level inertia coefficient $M_{\\text{sys}}$ constructed from the portfolio $\\{H_{i},S_{i}\\}$ and the system base power $S_{\\text{base}}$. Then, compute the numerical value of the initial RoCoF for the following data:\n- Nominal frequency $f_{0} = 50\\,\\text{Hz}$.\n- System base power $S_{\\text{base}} = 1500\\,\\text{MW}$.\n- Synchronous machine portfolio:\n  - Machine $1$: $H_{1} = 6.0\\,\\text{s}$, $S_{1} = 600\\,\\text{MVA}$.\n  - Machine $2$: $H_{2} = 4.5\\,\\text{s}$, $S_{2} = 400\\,\\text{MVA}$.\n  - Machine $3$: $H_{3} = 3.0\\,\\text{s}$, $S_{3} = 300\\,\\text{MVA}$.\n  - Machine $4$: $H_{4} = 2.0\\,\\text{s}$, $S_{4} = 200\\,\\text{MVA}$.\n- Net generation loss magnitude $\\Delta P = 220\\,\\text{MW}$.\n\nReport the initial RoCoF as a signed value (negative if frequency falls) in $\\text{Hz}\\,\\text{s}^{-1}$. Round your answer to four significant figures. Finally, comment qualitatively on the sensitivity of the initial RoCoF to portfolio composition based on the structure of the derived expression.",
            "solution": "The solution consists of three parts: first, a derivation of the initial Rate of Change of Frequency (RoCoF) from first principles; second, a numerical calculation for the given system parameters; and third, a qualitative discussion of the result.\n\n**Part 1: Derivation of the Initial RoCoF**\n\nThe analysis begins with the rotational dynamics of the synchronous machines that comprise the power system. For a single rotating mass, the kinetic energy ($E_k$) is given by:\n$$\nE_k = \\frac{1}{2} J \\omega_m^2\n$$\nwhere $J$ is the moment of inertia and $\\omega_m$ is the mechanical angular velocity.\n\nThe inertia constant, $H_i$, of a synchronous machine $i$ is defined as the kinetic energy stored in the rotating mass at synchronous speed, $\\omega_{m,s}$, normalized by the machine's MVA rating, $S_i$:\n$$\nH_i = \\frac{E_{k,i,s}}{S_i} = \\frac{\\frac{1}{2} J_i \\omega_{m,s}^2}{S_i}\n$$\nThe total kinetic energy of a system of $n$ machines, all operating coherently at a frequency $f$, can be expressed in terms of their kinetic energy at nominal frequency $f_0$. The mechanical speed $\\omega_m$ is proportional to the electrical frequency $f$. Therefore, the kinetic energy is proportional to $f^2$. The kinetic energy of machine $i$ at frequency $f$ is:\n$$\nE_{k,i}(f) = E_{k,i,s} \\left(\\frac{f}{f_0}\\right)^2 = (H_i S_i) \\left(\\frac{f}{f_0}\\right)^2\n$$\nThe total kinetic energy of the system is the sum of the individual kinetic energies:\n$$\nE_{k, \\text{sys}}(f) = \\sum_{i=1}^{n} E_{k,i}(f) = \\left(\\frac{f}{f_0}\\right)^2 \\sum_{i=1}^{n} H_i S_i\n$$\nThe fundamental principle of energy conservation dictates that the rate of change of the system's kinetic energy must equal the power imbalance between the total mechanical power input, $P_m$, and the total electrical power output, $P_e$.\n$$\n\\frac{dE_{k, \\text{sys}}}{dt} = P_m - P_e\n$$\nAt time $t=0$, the system experiences a sudden loss of generation, $\\Delta P$. This creates an instantaneous power imbalance where the electrical load exceeds the mechanical power input. The problem states we can ignore governor response, so $P_m$ does not change initially. The imbalance is thus:\n$$\nP_m - P_e = -\\Delta P\n$$\nThe deficit in mechanical power is supplied by the kinetic energy stored in the rotating masses, causing them to decelerate. We can write:\n$$\n\\frac{dE_{k, \\text{sys}}}{dt} = -\\Delta P\n$$\nNow, we differentiate the expression for $E_{k, \\text{sys}}(f)$ with respect to time $t$:\n$$\n\\frac{dE_{k, \\text{sys}}}{dt} = \\frac{d}{dt} \\left[ \\left(\\frac{f}{f_0}\\right)^2 \\sum_{i=1}^{n} H_i S_i \\right] = \\left(\\sum_{i=1}^{n} H_i S_i\\right) \\frac{d}{dt} \\left(\\frac{f^2}{f_0^2}\\right)\n$$\nUsing the chain rule:\n$$\n\\frac{dE_{k, \\text{sys}}}{dt} = \\left(\\sum_{i=1}^{n} H_i S_i\\right) \\frac{2f}{f_0^2} \\frac{df}{dt}\n$$\nEquating the two expressions for $\\frac{dE_{k, \\text{sys}}}{dt}$:\n$$\n\\left(\\sum_{i=1}^{n} H_i S_i\\right) \\frac{2f}{f_0^2} \\frac{df}{dt} = -\\Delta P\n$$\nThe initial RoCoF is the value of $\\frac{df}{dt}$ at $t=0^+$. At this instant, the frequency has not yet deviated significantly from its nominal value, so we can approximate $f \\approx f_0$.\n$$\n\\left(\\sum_{i=1}^{n} H_i S_i\\right) \\frac{2f_0}{f_0^2} \\frac{df}{dt}\\bigg|_{t=0^+} = -\\Delta P\n$$\n$$\n\\frac{2}{f_0}\\left(\\sum_{i=1}^{n} H_i S_i\\right) \\frac{df}{dt}\\bigg|_{t=0^+} = -\\Delta P\n$$\nSolving for the initial RoCoF gives:\n$$\n\\frac{df}{dt}\\bigg|_{t=0^+} = -\\frac{\\Delta P \\cdot f_0}{2 \\sum_{i=1}^{n} H_i S_i}\n$$\nThe problem asks for this expression in terms of a system-level inertia coefficient $M_{\\text{sys}}$ constructed from $\\{H_i, S_i\\}$ and $S_{\\text{base}}$. A standard approach in power systems analysis is to define a per-unit system inertia constant, $M_{pu}$. First, we define the equivalent system inertia constant $H_{\\text{sys}}$ on the common system base $S_{\\text{base}}$:\n$$\nH_{\\text{sys}} = \\frac{\\text{Total Kinetic Energy at } f_0}{\\text{System Base Power}} = \\frac{\\sum_{i=1}^{n} H_i S_i}{S_{\\text{base}}}\n$$\nThe standard per-unit swing equation is $2H_{\\text{sys}} \\frac{d\\omega_{pu}}{dt} = \\Delta P_{pu}$, where $\\omega_{pu} = f/f_0$ and $\\Delta P_{pu} = \\Delta P/S_{\\text{base}}$. For a generation loss, the sign is negative. Let's define the system inertia coefficient $M_{\\text{sys}}$ as the per-unit coefficient $M_{pu} = 2H_{\\text{sys}}$.\n$$\nM_{\\text{sys}} = 2H_{\\text{sys}} = \\frac{2 \\sum_{i=1}^{n} H_i S_i}{S_{\\text{base}}}\n$$\nSubstituting this definition and the other per-unit quantities into the swing equation:\n$$\nM_{\\text{sys}} \\frac{d(f/f_0)}{dt} = -\\frac{\\Delta P}{S_{\\text{base}}} \\implies \\frac{M_{\\text{sys}}}{f_0} \\frac{df}{dt} = -\\frac{\\Delta P}{S_{\\text{base}}}\n$$\nSolving for RoCoF:\n$$\n\\frac{df}{dt}\\bigg|_{t=0^+} = -\\frac{\\Delta P \\cdot f_0}{M_{\\text{sys}} S_{\\text{base}}}\n$$\nSubstituting the expression for $M_{\\text{sys}}$ back into this equation confirms our first derivation:\n$$\n\\frac{df}{dt} = -\\frac{\\Delta P \\cdot f_0}{\\left(\\frac{2 \\sum H_i S_i}{S_{\\text{base}}}\\right) S_{\\text{base}}} = -\\frac{\\Delta P \\cdot f_0}{2 \\sum H_i S_i}\n$$\nBoth formulations are equivalent. We will use the derived expression for the numerical calculation.\n\n**Part 2: Numerical Calculation**\n\nFirst, we compute the total system kinetic energy at nominal frequency, represented by the term $\\sum_{i=1}^{4} H_i S_i$. The problem states unity power factor, so MVA can be treated as MW. The units of $H_i S_i$ are MW-s (megajoules).\n\nGiven data:\n- $H_1 = 6.0\\,\\text{s}$, $S_1 = 600\\,\\text{MW}$\n- $H_2 = 4.5\\,\\text{s}$, $S_2 = 400\\,\\text{MW}$\n- $H_3 = 3.0\\,\\text{s}$, $S_3 = 300\\,\\text{MW}$\n- $H_4 = 2.0\\,\\text{s}$, $S_4 = 200\\,\\text{MW}$\n\nCalculation of individual $H_i S_i$ products:\n- $H_1 S_1 = (6.0\\,\\text{s}) \\times (600\\,\\text{MW}) = 3600\\,\\text{MW}\\cdot\\text{s}$\n- $H_2 S_2 = (4.5\\,\\text{s}) \\times (400\\,\\text{MW}) = 1800\\,\\text{MW}\\cdot\\text{s}$\n- $H_3 S_3 = (3.0\\,\\text{s}) \\times (300\\,\\text{MW}) = 900\\,\\text{MW}\\cdot\\text{s}$\n- $H_4 S_4 = (2.0\\,\\text{s}) \\times (200\\,\\text{MW}) = 400\\,\\text{MW}\\cdot\\text{s}$\n\nSumming these values gives the total stored kinetic energy:\n$$\n\\sum_{i=1}^{4} H_i S_i = 3600 + 1800 + 900 + 400 = 6700\\,\\text{MW}\\cdot\\text{s}\n$$\nNow, we can calculate the initial RoCoF using the derived formula and the given parameters:\n- $\\Delta P = 220\\,\\text{MW}$\n- $f_0 = 50\\,\\text{Hz}$\n$$\n\\frac{df}{dt}\\bigg|_{t=0^+} = -\\frac{\\Delta P \\cdot f_0}{2 \\sum_{i=1}^{4} H_i S_i} = -\\frac{(220\\,\\text{MW}) \\times (50\\,\\text{Hz})}{2 \\times (6700\\,\\text{MW}\\cdot\\text{s})}\n$$\n$$\n\\frac{df}{dt}\\bigg|_{t=0^+} = -\\frac{11000}{13400}\\,\\text{Hz}\\cdot\\text{s}^{-1} = -\\frac{110}{134}\\,\\text{Hz}\\cdot\\text{s}^{-1} = -\\frac{55}{67}\\,\\text{Hz}\\cdot\\text{s}^{-1}\n$$\nConverting this to a decimal value:\n$$\n\\frac{df}{dt}\\bigg|_{t=0^+} \\approx -0.8208955... \\,\\text{Hz}\\cdot\\text{s}^{-1}\n$$\nRounding to four significant figures, the initial RoCoF is $-0.8209\\,\\text{Hz}\\cdot\\text{s}^{-1}$. The negative sign indicates that the frequency is decreasing, as expected for a loss of generation.\n\n**Part 3: Qualitative Comment on Sensitivity**\n\nThe derived expression for the initial RoCoF, $\\frac{df}{dt} = -\\frac{\\Delta P \\cdot f_0}{2 \\sum H_i S_i}$, reveals the key factors influencing frequency stability immediately following a disturbance. The RoCoF is directly proportional to the size of the power imbalance $\\Delta P$ but inversely proportional to the total stored kinetic energy of the system, $\\sum H_i S_i$.\n\nThis denominator term, $\\sum H_i S_i$, represents the system's rotational inertia. Its composition is critical. The contribution of each machine $i$ to this total is the product of its inertia constant $H_i$ and its size $S_i$. Therefore, machines that are both large (high $S_i$) and possess high inertia constants (high $H_i$) are disproportionately important for maintaining system frequency stability. For example, in our calculation, Machine $1$ ($H_1=6$, $S_1=600$) contributes $3600\\,\\text{MW}\\cdot\\text{s}$, which is over half ($53.7\\%$) of the total system inertia.\n\nConsequently, the initial RoCoF is highly sensitive to the composition of the generation portfolio. A shift in the portfolio away from conventional synchronous generators (which inherently have high $H$ values) towards generation technologies with lower or zero intrinsic inertia (such as many inverter-based resources like solar PV or Type-4 wind turbines) will decrease the total system inertia $\\sum H_i S_i$. According to the derived formula, a lower value for this denominator will result in a proportionally larger magnitude of RoCoF for the same power imbalance $\\Delta P$. A higher RoCoF makes the system more susceptible to rapid frequency decay, potentially triggering under-frequency load shedding relays and increasing the risk of cascading failures.",
            "answer": "$$\n\\boxed{-0.8209}\n$$"
        },
        {
            "introduction": "While the initial RoCoF describes the frequency's instantaneous behavior, the subsequent trajectory is shaped by additional forces, most notably system damping. Damping effects, arising from frequency-sensitive loads and generator windings, counteract the frequency deviation and are essential for reaching a new stable operating point. This exercise moves beyond the initial instant by modeling the complete time-domain response of frequency to a power disturbance, requiring you to solve the classic first-order swing equation. This will illustrate how the interplay between inertia ($M$) and damping ($D$) determines both the speed of the response and the final steady-state frequency error.",
            "id": "4092150",
            "problem": "A single synchronous generator is connected to a stiff grid that can be modeled as an infinite bus with fixed electrical angular frequency $\\omega_{s}$. Consider small deviations of the generator’s rotor speed about $\\omega_{s}$ and define the frequency deviation as $\\Delta \\omega(t) \\equiv \\omega(t)-\\omega_{s}$. The generator has an effective inertia parameter $M>0$ (mapping power imbalance to acceleration) and an aggregate damping coefficient $D>0$ (mapping frequency deviation to a power dissipation term), both treated as constants over the time horizon of interest. Prior to $t=0$, the system is in steady state with $\\Delta \\omega(t)=0$ and mechanical input power $P_{m}$ exactly balancing electrical output power $P_{e}$. At $t=0^{+}$, the electrical power demanded by the grid steps by a constant amount $\\Delta P>0$ so that the electrical power becomes $P_{e}+\\Delta P$ for all $t \\geq 0$, while the mechanical input power is held constant at $P_{m}$ over the short time window of interest (no primary control action). Assume small-signal operation so that linearization about $\\omega_{s}$ is valid and that resistive and load-frequency effects are captured by $D$.\n\nStarting from first principles of rotational dynamics for a rigid rotor (torque balance and conservation of rotational kinetic energy), derive the linear ordinary differential equation governing $\\Delta \\omega(t)$ under these assumptions, and solve it for $t \\geq 0$ with the initial condition $\\Delta \\omega(0)=0$. Then determine the asymptotic frequency deviation $\\lim_{t \\to \\infty} \\Delta \\omega(t)$. Express your results as closed-form expressions in terms of $M$, $D$, $\\Delta P$, and $t$. Provide your final answer as a row matrix whose first entry is $\\Delta \\omega(t)$ and whose second entry is the asymptotic deviation. No numerical evaluation or rounding is required. Do not include units in your final answer.",
            "solution": "### Derivation and Solution\n\nThe rotational dynamics of the synchronous generator are governed by the principle of conservation of energy or, equivalently, by the torque balance on the rotor. The rate of change of the rotor's kinetic energy, $E_k$, is equal to the accelerating power, which is the difference between the mechanical input power, $P_{mech}$, and the total electrical output power, $P_{elec,total}$.\n\nThe kinetic energy of the rotor is given by $E_k = \\frac{1}{2}J\\omega^2$, where $J$ is the moment of inertia and $\\omega$ is the rotor's angular speed. The power balance equation is:\n$$ \\frac{dE_k}{dt} = P_{mech} - P_{elec,total} $$\nThe rate of change of kinetic energy is $\\frac{dE_k}{dt} = \\frac{d}{dt}\\left(\\frac{1}{2}J\\omega^2\\right) = J\\omega\\frac{d\\omega}{dt}$.\nIn power systems, it is standard to use an inertia parameter $M$ that directly relates the power imbalance to the angular acceleration of the frequency deviation $\\Delta \\omega(t)$. The fundamental equation of motion is defined as:\n$$ M \\frac{d(\\Delta \\omega)}{dt} = P_{accel} $$\nwhere $P_{accel}$ is the accelerating power. Since $\\Delta \\omega(t) = \\omega(t) - \\omega_s$ and $\\omega_s$ is a constant, $\\frac{d(\\Delta \\omega)}{dt} = \\frac{d\\omega}{dt}$. Thus, the equation becomes:\n$$ M \\frac{d(\\Delta \\omega)}{dt} = P_{mech} - P_{elec,total} $$\nFor the time period $t \\geq 0$, the mechanical input power is held constant at its pre-disturbance value, $P_m$. So, $P_{mech} = P_m$.\nThe total electrical power output, $P_{elec,total}$, consists of two parts. First, the load that was present before the disturbance, $P_e$, plus the sudden step increase in load, $\\Delta P$. Second, there is a damping power component that is proportional to the frequency deviation, $D\\Delta\\omega(t)$. This term represents frequency-sensitive loads and generator electrical damping effects. A positive $\\Delta\\omega$ leads to an increase in electrical power output, opposing the frequency increase. So, for $t \\geq 0$:\n$$ P_{elec,total} = P_e + \\Delta P + D \\Delta \\omega(t) $$\nSubstituting the expressions for $P_{mech}$ and $P_{elec,total}$ into the swing equation:\n$$ M \\frac{d(\\Delta \\omega)}{dt} = P_m - \\left( P_e + \\Delta P + D \\Delta \\omega(t) \\right) $$\nPrior to the disturbance at $t=0$, the system was in steady state, which implies that the mechanical power perfectly balanced the electrical power: $P_m = P_e$. Substituting this identity into the equation yields:\n$$ M \\frac{d(\\Delta \\omega)}{dt} = P_e - \\left( P_e + \\Delta P + D \\Delta \\omega(t) \\right) $$\n$$ M \\frac{d(\\Delta \\omega)}{dt} = - \\Delta P - D \\Delta \\omega(t) $$\nThis is the linear ordinary differential equation (ODE) governing the frequency deviation $\\Delta \\omega(t)$. To solve it, we rearrange it into standard form:\n$$ M \\frac{d(\\Delta \\omega)}{dt} + D \\Delta \\omega(t) = - \\Delta P $$\nDividing by $M$ (which is non-zero) gives:\n$$ \\frac{d(\\Delta \\omega)}{dt} + \\frac{D}{M} \\Delta \\omega(t) = - \\frac{\\Delta P}{M} $$\nThis is a first-order linear non-homogeneous ODE of the form $y' + ay = b$, with $y(t) = \\Delta \\omega(t)$, $a = \\frac{D}{M}$, and $b = -\\frac{\\Delta P}{M}$.\n\nThe solution is the sum of a homogeneous solution, $\\Delta \\omega_h(t)$, and a particular solution, $\\Delta \\omega_p(t)$.\nThe homogeneous equation is $\\frac{d(\\Delta \\omega_h)}{dt} + \\frac{D}{M} \\Delta \\omega_h(t) = 0$. The solution is of the form $\\Delta \\omega_h(t) = C \\exp\\left(-\\frac{D}{M}t\\right)$, where $C$ is an integration constant.\n\nFor the particular solution, since the right-hand side is a constant, we assume a constant solution $\\Delta \\omega_p(t) = K$. Substituting this into the ODE:\n$$ \\frac{d(K)}{dt} + \\frac{D}{M} K = - \\frac{\\Delta P}{M} $$\n$$ 0 + \\frac{D}{M} K = - \\frac{\\Delta P}{M} $$\nSolving for $K$ gives $K = -\\frac{\\Delta P}{D}$. Thus, $\\Delta \\omega_p(t) = -\\frac{\\Delta P}{D}$.\n\nThe general solution is the sum of the homogeneous and particular solutions:\n$$ \\Delta \\omega(t) = \\Delta \\omega_h(t) + \\Delta \\omega_p(t) = C \\exp\\left(-\\frac{D}{M}t\\right) - \\frac{\\Delta P}{D} $$\nTo find the constant $C$, we apply the initial condition $\\Delta \\omega(0) = 0$:\n$$ \\Delta \\omega(0) = C \\exp(0) - \\frac{\\Delta P}{D} = 0 $$\n$$ C - \\frac{\\Delta P}{D} = 0 \\implies C = \\frac{\\Delta P}{D} $$\nSubstituting the value of $C$ back into the general solution gives the final expression for $\\Delta \\omega(t)$ for $t \\geq 0$:\n$$ \\Delta \\omega(t) = \\frac{\\Delta P}{D} \\exp\\left(-\\frac{D}{M}t\\right) - \\frac{\\Delta P}{D} $$\nThis can be factored to a more common form:\n$$ \\Delta \\omega(t) = -\\frac{\\Delta P}{D} \\left(1 - \\exp\\left(-\\frac{D}{M}t\\right)\\right) $$\nNext, we determine the asymptotic frequency deviation as $t \\to \\infty$. Since $M > 0$ and $D > 0$, the ratio $\\frac{D}{M}$ is positive. Therefore, the exponential term will decay to zero as time increases.\n$$ \\lim_{t \\to \\infty} \\Delta \\omega(t) = \\lim_{t \\to \\infty} \\left[ -\\frac{\\Delta P}{D} \\left(1 - \\exp\\left(-\\frac{D}{M}t\\right)\\right) \\right] $$\n$$ = -\\frac{\\Delta P}{D} \\left(1 - \\lim_{t \\to \\infty} \\exp\\left(-\\frac{D}{M}t\\right)\\right) $$\n$$ = -\\frac{\\Delta P}{D} (1 - 0) = -\\frac{\\Delta P}{D} $$\nThe asymptotic frequency deviation is $-\\frac{\\Delta P}{D}$. This is the new steady-state frequency deviation where the damping power $D \\Delta \\omega$ exactly balances the power deficit $-\\Delta P$.\n\nThe two required results are $\\Delta \\omega(t)$ and its asymptotic value.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n-\\frac{\\Delta P}{D} \\left(1 - \\exp\\left(-\\frac{D}{M}t\\right)\\right) & -\\frac{\\Delta P}{D}\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "As power systems transition towards higher shares of inverter-based resources (IBRs) like solar and wind, the provision of inertia is no longer an inherent property but an engineered service. This practice explores the concept of *synthetic inertia*, where IBRs use control algorithms to emulate the response of traditional generators. You will analyze the critical physical limitations of this emulation—namely, the finite power ($P_{\\text{lim}}$) and energy ($E_{\\text{avail}}$) capacity of the resource—to determine the maximum duration for which an inertial response can be sustained. This exercise highlights the fundamental engineering trade-offs that distinguish synthetic inertia from the intrinsic inertia of rotating machines.",
            "id": "4092161",
            "problem": "A grid-connected inverter-based resource implements inertial emulation by commanding active power in response to changes in system frequency. Let the system frequency be $f(t)$ with nominal value $f_{0}$, angular frequency $\\omega(t) = 2\\pi f(t)$, and Rate of Change of Frequency (RoCoF) defined as $\\dot{f}(t) = \\frac{d f(t)}{dt}$. The synthetic inertia controller is parameterized by a derivative gain $K_{d}$ whose physical meaning is a proportionality between the commanded active power and RoCoF. The device is subject to a hard active power limit $P_{\\text{lim}}$ and a finite available energy budget $E_{\\text{avail}}$ for inertial emulation, and it cannot replenish energy during the emulation window.\n\nConsider a worst-case event in which the magnitude of RoCoF is bounded by a constant $R$ over a contiguous window of duration $T$ following the disturbance, i.e., $|\\dot{f}(t)| = R$ for $0 \\leq t \\leq T$. Assume the sign of $\\dot{f}(t)$ is such that the inertial emulation injects power (discharging the device) during the entire interval. Starting from the swing-equation definition of inertial power as being proportional to $\\frac{d\\omega}{dt}$ and the energy–power relationship $E(t) = \\int_{0}^{t} P(\\tau)\\,d\\tau$, derive from first principles the constraints on the synthetic inertia action imposed by the power limit $P_{\\text{lim}}$ and the energy budget $E_{\\text{avail}}$. Then, using these constraints, compute the maximum duration $T_{\\max}$ for which inertial emulation can be sustained at the given derivative gain $K_{d}$ under the described event.\n\nUse the following parameter values:\n- Derivative gain $K_{d} = 163\\,\\text{MW}\\cdot\\text{s}/\\text{Hz}$,\n- RoCoF magnitude $R = 0.42\\,\\text{Hz}/\\text{s}$,\n- Power limit $P_{\\text{lim}} = 58\\,\\text{MW}$,\n- Available energy $E_{\\text{avail}} = 820\\,\\text{MW}\\cdot\\text{s}$.\n\nExpress the final time in seconds, and round your answer to four significant figures.",
            "solution": "First, we formalize the power response of the inverter-based resource. The problem states that the commanded active power, $P_{cmd}(t)$, is proportional to the RoCoF, $\\dot{f}(t)$. The gain is given as $K_d$. Since the device is injecting power, and we are given the magnitude of the RoCoF, we can write the commanded power magnitude as:\n$$P_{cmd}(t) = K_{d} |\\dot{f}(t)|$$\nDuring the event, where $|\\dot{f}(t)| = R$ for $0 \\leq t \\leq T$, the commanded power is constant:\n$$P_{cmd} = K_{d} R$$\n\nThis commanded power is subject to the physical limitations of the device. The first constraint is the active power limit, $P_{\\text{lim}}$. The actual power injected into the grid, $P_{inj}(t)$, cannot exceed this limit. Therefore, the injected power is the minimum of the commanded power and the power limit:\n$$P_{inj}(t) = \\min(P_{cmd}(t), P_{\\text{lim}})$$\nFor the specified event, the injected power is constant throughout the duration of the emulation:\n$$P_{inj} = \\min(K_{d} R, P_{\\text{lim}})$$\nThis equation represents the first constraint on the synthetic inertia action, imposed by the power limit.\n\nNext, we consider the second constraint: the available energy budget, $E_{\\text{avail}}$. The total energy delivered, $E(T)$, over a time interval of duration $T$ is the integral of the injected power:\n$$E(T) = \\int_{0}^{T} P_{inj}(\\tau) \\, d\\tau$$\nSince $P_{inj}$ is constant during the event, the integral simplifies to:\n$$E(T) = P_{inj} \\cdot T$$\nThe total energy delivered cannot exceed the available budget. This gives us the second constraint:\n$$E(T) \\leq E_{\\text{avail}}$$\nSubstituting the expression for $E(T)$, we get:\n$$T \\cdot \\min(K_{d} R, P_{\\text{lim}}) \\leq E_{\\text{avail}}$$\n\nThe maximum duration of the emulation, $T_{\\max}$, is the time at which the energy budget is fully depleted. We find this by setting the energy constraint to equality:\n$$T_{\\max} \\cdot \\min(K_{d} R, P_{\\text{lim}}) = E_{\\text{avail}}$$\nSolving for $T_{\\max}$:\n$$T_{\\max} = \\frac{E_{\\text{avail}}}{\\min(K_{d} R, P_{\\text{lim}})}$$\nThis expression provides the maximum sustainable duration, accounting for both power and energy constraints. The denominator represents the actual power being delivered, which is limited by either the control command or the physical hardware limit, whichever is smaller.\n\nNow, we substitute the given numerical values:\n-   $K_{d} = 163\\,\\text{MW}\\cdot\\text{s}/\\text{Hz}$\n-   $R = 0.42\\,\\text{Hz}/\\text{s}$\n-   $P_{\\text{lim}} = 58\\,\\text{MW}$\n-   $E_{\\text{avail}} = 820\\,\\text{MW}\\cdot\\text{s}$\n\nFirst, we calculate the commanded power, $K_{d} R$:\n$$K_{d} R = (163\\,\\text{MW}\\cdot\\text{s}/\\text{Hz}) \\cdot (0.42\\,\\text{Hz}/\\text{s}) = 68.46\\,\\text{MW}$$\nNext, we determine the actual injected power, $P_{inj}$, by applying the power limit:\n$$P_{inj} = \\min(68.46\\,\\text{MW}, 58\\,\\text{MW}) = 58\\,\\text{MW}$$\nThe result shows that the inertial response is saturated; the device cannot deliver the full commanded power and is limited by its maximum power rating, $P_{\\text{lim}}$.\n\nFinally, we calculate the maximum duration $T_{\\max}$ using the actual injected power and the available energy:\n$$T_{\\max} = \\frac{E_{\\text{avail}}}{P_{inj}} = \\frac{820\\,\\text{MW}\\cdot\\text{s}}{58\\,\\text{MW}}$$\n$$T_{\\max} \\approx 14.137931... \\,\\text{s}$$\n\nThe problem requires rounding the final answer to four significant figures.\n$$T_{\\max} \\approx 14.14\\,\\text{s}$$",
            "answer": "$$\\boxed{14.14}$$"
        }
    ]
}