{
    "hands_on_practices": [
        {
            "introduction": "The core of any agent-based market simulation is the mechanism that determines price and quantity. This exercise demonstrates how an Independent System Operator (ISO) constructs an aggregate supply curve from individual generator agent offers and clears the market against inelastic demand. By working through this process, you will gain a concrete understanding of how the fundamental uniform-price auction translates agent-level decisions into a system-wide market outcome .",
            "id": "4068982",
            "problem": "Consider a stylized agent-based wholesale electricity market operated by an Independent System Operator (ISO), in which $3$ generator agents submit continuous quantity offers as functions of the market price $p$ under a uniform-price auction. Each generator $i \\in \\{1,2,3\\}$ has a capacity constraint $\\bar{q}_{i}$ and an offer curve defined by the nondecreasing mapping $q_{i}(p)$ from price to offered quantity. The ISO aggregates these offers into a supply function $S(p)=\\sum_{i=1}^{3} q_{i}(p)$ and sets the clearing price $p^{\\ast}$ according to the standard market clearing rule for perfectly inelastic demand: choose the lowest price $p^{\\ast}$ such that $S(p^{\\ast}) \\geq D$, where $D$ is the fixed demand.\n\nAssume the following structural specifications reflecting simple marginal-cost-driven offers with capacity limits and a reservation price:\n- For each generator $i$, the offer curve is $q_{i}(p) = \\max\\{\\,0,\\ \\min\\{\\,\\bar{q}_{i},\\ \\frac{p-10}{0.2}\\}\\,\\}$.\n- The capacity vector is $\\bar{q} = (50,80,120)$, where each component is measured in megawatts (MW).\n- Demand is perfectly inelastic at $D=180$ MW.\n\nStarting from the definitions of aggregated supply and the clearing rule described above, and using only the given structural form for $q_{i}(p)$ and the capacity constraints, compute:\n- The aggregate supply $S(30)$ at the price $p=30$.\n- The clearing price $p^{\\ast}$ for demand $D=180$.\n\nExpress $S(30)$ in megawatts (MW) and $p^{\\ast}$ in dollars per megawatt-hour ($\\$/\\mathrm{MWh}$). Provide exact values; no rounding is required.",
            "solution": "This problem requires calculating the aggregate supply at a specific price and determining the market-clearing price based on a given demand. We'll solve this in two parts.\n\n**Part 1: Calculate Aggregate Supply at $p = \\$30/\\mathrm{MWh}$**\n\nFirst, we calculate the potential unconstrained supply for any generator at this price using the linear part of the offer curve:\n$$ \\text{Potential Supply} = \\frac{p-10}{0.2} = \\frac{30-10}{0.2} = \\frac{20}{0.2} = 100 \\text{ MW} $$\nFor each generator $i$, the offered quantity $q_i(30)$ is the minimum of its capacity $\\bar{q}_i$ and this potential supply. The capacities are given by $\\bar{q} = (50, 80, 120)$ MW.\n\n- Generator 1: $q_1(30) = \\min\\{50, 100\\} = 50$ MW.\n- Generator 2: $q_2(30) = \\min\\{80, 100\\} = 80$ MW.\n- Generator 3: $q_3(30) = \\min\\{120, 100\\} = 100$ MW.\n\nThe aggregate supply $S(30)$ is the sum of these individual quantities:\n$$ S(30) = q_1(30) + q_2(30) + q_3(30) = 50 + 80 + 100 = 230 \\text{ MW} $$\n\n**Part 2: Calculate the Market Clearing Price $p^{\\ast}$**\n\nThe market clears where aggregate supply equals demand, $S(p^{\\ast}) = D = 180$ MW. To find this price, we must construct the aggregate supply curve $S(p)$, which is piecewise linear. The \"kinks\" in the curve occur when generators reach their capacity limits. A generator $i$ reaches its capacity $\\bar{q}_i$ at the price $p$ that solves $\\frac{p-10}{0.2} = \\bar{q}_i$, which gives $p = 10 + 0.2\\bar{q}_i$.\n\nLet's calculate these capacity-hitting prices:\n- Generator 1 hits capacity at $p = 10 + 0.2(50) = \\$20/\\mathrm{MWh}$.\n- Generator 2 hits capacity at $p = 10 + 0.2(80) = \\$26/\\mathrm{MWh}$.\n- Generator 3 hits capacity at $p = 10 + 0.2(120) = \\$34/\\mathrm{MWh}$.\n\nNow, we define the aggregate supply function $S(p)$ in segments:\n1.  For $10  p \\le 20$: All three generators are on their sloped offer curve.\n    $S(p) = 3 \\times \\frac{p-10}{0.2} = 15p - 150$.\n    At the end of this segment, $S(20) = 15(20) - 150 = 150$ MW.\n2.  For $20  p \\le 26$: Generator 1 is at its capacity ($50$ MW), while Generators 2 and 3 are still on their sloped curves.\n    $S(p) = 50 + 2 \\times \\frac{p-10}{0.2} = 50 + 10p - 100 = 10p - 50$.\n\nThe demand is $D=180$ MW. Since $S(20) = 150$ MW, which is less than the demand, the clearing price must be in the next segment. We use the supply function for the second segment to find the price that meets the demand:\n$$ S(p^{\\ast}) = 10p^{\\ast} - 50 = 180 $$\n$$ 10p^{\\ast} = 230 $$\n$$ p^{\\ast} = 23 $$\nThe clearing price is $p^{\\ast} = \\$23/\\mathrm{MWh}$. This price is within the valid range for this segment ($20  23 \\le 26$), confirming our calculation.\n\nThe two computed values are $S(30) = 230$ MW and $p^{\\ast} = 23$ $/MWh.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix} 230  23 \\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "In real-world electricity markets, the simple market-clearing price may not always cover the full operating costs of essential generators, especially those with high start-up or no-load costs. This practice explores the concept of make-whole payments, also known as uplift, a critical settlement mechanism designed to ensure cost recovery for centrally committed units. Calculating this uplift payment helps illuminate the economic trade-offs in unit commitment and the financial adjustments needed to maintain system reliability beyond simple energy market revenue .",
            "id": "4069000",
            "problem": "Consider an agent-based simulation of a centrally committed wholesale electricity market in which an Independent System Operator (ISO) (Independent System Operator) clears unit commitments and settles payments for a single settlement interval. A generator agent is committed and dispatched, earning energy revenue equal to the product of the cleared quantity and the locational marginal price for that interval. The realized energy revenue for the interval is $\\$2{,}000$. The generator’s incurred costs for the interval comprise a variable operating cost of $\\$2{,}100$ corresponding to the delivered energy, a startup cost of $\\$400$ reflecting the commitment decision, and a minimum load cost of $\\$150$ associated with operating at minimum stable output.\n\nUnder the cost-recovery principle that governs make-whole payment (also known as uplift), the ISO ensures that a committed unit’s net market settlement relative to its verifiable, as-offered production costs is not negative. Using first principles of settlement and cost recovery, compute the make-whole uplift amount $U$ for this generator as a non-negative dollar value. Express the final answer in dollars. In your reasoning, also indicate whether the ISO must pay uplift to the generator in this interval. The final answer must be a single real-valued number.",
            "solution": "The core principle for calculating the make-whole payment, or uplift, is that a generator dispatched by the Independent System Operator (ISO) should not incur a net financial loss for its operation within a settlement interval, based on its offered costs. The uplift payment, denoted by $U$, is the non-negative amount paid by the ISO to the generator to cover any shortfall between its total incurred costs and its market revenues.\n\nLet's define the relevant financial quantities for the generator agent in the specified settlement interval.\nThe realized energy revenue is given as $R_E = \\$2,000$.\nThe total incurred cost, $C_{\\text{Tot}}$, is the sum of the variable operating cost, $C_V$, the startup cost, $C_S$, and the minimum load cost, $C_{ML}$.\nThe problem provides the following cost components:\n- Variable operating cost, $C_V = \\$2,100$.\n- Startup cost, $C_S = \\$400$.\n- Minimum load cost, $C_{ML} = \\$150$.\n\nThe total incurred cost for the interval is the sum of these components:\n$$ C_{\\text{Tot}} = C_V + C_S + C_{ML} $$\nSubstituting the given values:\n$$ C_{\\text{Tot}} = \\$2,100 + \\$400 + \\$150 = \\$2,650 $$\n\nThe generator's net profit or loss from market operations, before any uplift payment, is the difference between its energy revenue and its total costs. Let's denote this net position as $P_N$.\n$$ P_N = R_E - C_{\\text{Tot}} $$\nSubstituting the values for revenue and total cost:\n$$ P_N = \\$2,000 - \\$2,650 = -\\$650 $$\nThis negative value indicates that the generator incurred a loss of $\\$650$ from its market participation in this interval.\n\nThe make-whole payment principle states that the generator's final settlement position, including uplift, must be non-negative. The uplift $U$ is defined as the minimum non-negative payment required to make the generator \"whole\" (i.e., cover the deficit). The uplift payment $U$ can be expressed formally as:\n$$ U = \\max(0, C_{\\text{Tot}} - R_E) $$\nUsing the calculated values:\n$$ U = \\max(0, \\$2,650 - \\$2,000) $$\n$$ U = \\max(0, \\$650) $$\n$$ U = \\$650 $$\n\nThe make-whole uplift amount is $\\$650$. Since the calculated value of $U$ is greater than $0$, the ISO must pay this uplift amount to the generator for this interval. This payment ensures that the generator's verifiable, as-offered costs of $\\$2,650$ are exactly covered by the sum of its energy revenue ($\\$2,000$) and the uplift payment ($\\$650$).",
            "answer": "$$\n\\boxed{650}\n$$"
        },
        {
            "introduction": "Modern electricity markets operate across multiple timescales, from day-ahead scheduling to real-time dispatch, exposing participants to price volatility and deviation risk. This problem simulates a two-settlement system, where deviations between an agent's scheduled day-ahead position and its actual real-time production are settled financially. Analyzing the net monetary outcome, including imbalance charges and penalties, is fundamental for modeling strategic agent behavior and understanding the financial risks inherent in electricity trading .",
            "id": "4069020",
            "problem": "Consider an agent-based model of a generator participating in a two-settlement electricity market comprising a Day-Ahead Market (DAM) and a Real-Time Market (RTM). In the two-settlement design, the following foundational definitions apply: the DAM clears a scheduled production quantity at the day-ahead price, while the RTM settles any deviation between realized production and the day-ahead schedule at the real-time price. In addition, suppose the system operator applies a linear deviation penalty that is proportional to the absolute deviation magnitude. Assume a single settlement interval of duration $\\Delta t = 1$ hour so that power in megawatts corresponds numerically to energy in megawatt-hours over the interval.\n\nA generator agent commits a day-ahead quantity of $q^{DA} = 50$ megawatts and realizes $q = 45$ megawatts in real time. The day-ahead price is $\\pi^{DA} = 30$ dollars per megawatt-hour and the real-time price is $\\pi^{RT} = 60$ dollars per megawatt-hour. A deviation penalty with rate $\\gamma = 5$ dollars per megawatt-hour is assessed on the absolute deviation.\n\nUsing only the definitions of the two-settlement design and the linear deviation penalty, derive the net monetary outcome by combining the day-ahead settlement for the scheduled quantity, the real-time imbalance settlement for the deviation, and the deviation penalty. Express the final net monetary outcome in dollars as a single real number. No rounding is required.",
            "solution": "The net monetary outcome for the generator is the sum of its revenues and costs from the Day-Ahead Market (DAM), the Real-Time Market (RTM), and any deviation penalties. We'll calculate each component and then sum them.\n\n**1. Define the Settlement Components:**\nThe net monetary outcome, $M_{\\text{net}}$, is determined by three parts:\n-   **Day-Ahead Settlement ($M_{\\text{DA}}$):** Revenue from the scheduled quantity.\n-   **Real-Time Imbalance Settlement ($M_{\\text{RT}}$):** Revenue or cost from the deviation.\n-   **Deviation Penalty ($M_{\\text{penalty}}$):** Cost for deviating from the schedule.\n\nThe general formula is:\n$$ M_{\\text{net}} = (q^{DA} \\times \\pi^{DA}) + ((q - q^{DA}) \\times \\pi^{RT}) - (\\gamma \\times |q - q^{DA}|) $$\n\n**2. Identify Given Values:**\n-   Day-ahead quantity $q^{DA} = 50$ MWh.\n-   Real-time quantity $q = 45$ MWh.\n-   Day-ahead price $\\pi^{DA} = \\$30/\\text{MWh}$.\n-   Real-time price $\\pi^{RT} = \\$60/\\text{MWh}$.\n-   Penalty rate $\\gamma = \\$5/\\text{MWh}$.\n\n**3. Calculate Each Financial Component:**\n\nFirst, determine the deviation quantity:\n$$ \\Delta q = q - q^{DA} = 45 - 50 = -5 \\text{ MWh} $$\nThe generator under-produced by $5$ MWh. The absolute deviation is $|\\Delta q| = 5$ MWh.\n\n-   **Day-Ahead Settlement:** The generator is paid for its scheduled 50 MWh at the day-ahead price.\n    $$ M_{\\text{DA}} = 50 \\text{ MWh} \\times \\$30/\\text{MWh} = \\$1,500 $$\n\n-   **Real-Time Imbalance Settlement:** The generator has a deficit of 5 MWh, which it must effectively buy back from the real-time market at the real-time price. This is a cost.\n    $$ M_{\\text{RT}} = (-5 \\text{ MWh}) \\times \\$60/\\text{MWh} = -\\$300 $$\n\n-   **Deviation Penalty:** A penalty is applied to the 5 MWh absolute deviation. This is a cost.\n    $$ M_{\\text{penalty}} = - (\\gamma \\times |\\Delta q|) = - (\\$5/\\text{MWh} \\times 5 \\text{ MWh}) = -\\$25 $$\n\n**4. Sum the Components for the Net Outcome:**\nFinally, add the components to find the total net monetary outcome for the generator.\n$$ M_{\\text{net}} = M_{\\text{DA}} + M_{\\text{RT}} + M_{\\text{penalty}} = \\$1,500 - \\$300 - \\$25 = \\$1,175 $$\n\nThe final net monetary outcome for the generator is $\\$1,175$.",
            "answer": "$$\\boxed{1175}$$"
        }
    ]
}