{
    "hands_on_practices": [
        {
            "introduction": "在实际规划中，我们有时会发现一个方案即使在最乐观的（名义）情景下也无法满足性能要求。这种情况在 IGDT 框架下会得到一个明确的诊断信号：稳健性为零 。这个练习将引导你分析稳健性 $\\hat{\\alpha}(d)=0$ 的情况，理解其背后的含义，并探讨如何修正初始决策以获得正的稳健性，从而将理论与实际的方案调整联系起来。",
            "id": "4097063",
            "problem": "一位规划者在电力系统中应用信息鸿沟决策理论（IGDT）进行确定性容量规划。决策变量是已安装的确定性容量，用 $d$ 表示（单位为 $\\mathrm{GW}$）。不确定参数是年度峰值需求 $u$（单位为 $\\mathrm{GW}$），只有一个基准估计值 $\\tilde{u}$ 可用。IGDT的不确定性集合由一个相对偏差范围 $\\alpha \\geq 0$ 定义为\n$$\n\\mathcal{U}(\\alpha) = \\{\\, u \\;:\\; |u - \\tilde{u}| \\leq \\alpha \\tilde{u} \\,\\} = [\\,\\tilde{u}(1-\\alpha),\\, \\tilde{u}(1+\\alpha)\\,].\n$$\n可靠性通过失负荷概率（LOLP）来评估，该概率由 logistic 函数建模\n$$\nL(d,u) = \\frac{1}{1 + \\exp\\!\\big(\\beta (d - u)\\big)},\n$$\n其中 $\\beta > 0$ 是一个陡度参数。可靠性要求为\n$$\nB:\\quad L(d,u) \\leq \\bar{L},\n$$\n其中 $\\bar{L}$ 是一个用小数表示的微小容差。在IGDT的稳健满意方法中，稳健性函数定义为\n$$\n\\hat{\\alpha}(d) = \\sup\\big\\{\\, \\alpha \\geq 0 \\;:\\; \\max_{u \\in \\mathcal{U}(\\alpha)} L(d,u) \\leq \\bar{L} \\,\\big\\}.\n$$\n\n考虑一个特定规划方案的以下数据：$d = 10$ $\\mathrm{GW}$，$\\tilde{u} = 9.5$ $\\mathrm{GW}$，$\\beta = 5$，以及 $\\bar{L} = 0.05$。使用上述定义和给定数据：\n\n- 计算稳健性 $\\hat{\\alpha}(d)$。\n- 然后，在相同模型的假设下，简要解释为什么在这种情况下 $\\hat{\\alpha}(d)$ 取该值，并对情况进行诊断，同时提供至少一种能使 $\\hat{\\alpha}(d) > 0$ 的定量补救措施。\n\n最终答案必须是计算出的 $\\hat{\\alpha}(d)$ 的值，表示为一个没有单位的实数。由于本例中的答案是精确值，因此不需要进行舍入。任何讨论都应只出现在解题说明中，而不是最终答案框中。",
            "solution": "该问题要求计算信息鸿沟决策理论（IGDT）中的稳健性函数 $\\hat{\\alpha}(d)$，然后对情况进行诊断并提出补救措施。决策 $d$ 的稳健性函数定义为满足所需性能约束的最大不确定性范围 $\\alpha$。其定义为：\n$$\n\\hat{\\alpha}(d) = \\sup\\big\\{\\, \\alpha \\geq 0 \\;:\\; \\max_{u \\in \\mathcal{U}(\\alpha)} L(d,u) \\leq \\bar{L} \\,\\big\\}\n$$\n主要任务是评估上确界内的约束条件：$\\max_{u \\in \\mathcal{U}(\\alpha)} L(d,u) \\leq \\bar{L}$。为了找到失负荷概率（LOLP）函数 $L(d,u)$ 在不确定性集合 $\\mathcal{U}(\\alpha)$ 上的最大值，我们首先分析 $L(d,u)$ 相对于不确定参数 $u$ 的行为。该函数如下：\n$$\nL(d,u) = \\frac{1}{1 + \\exp(\\beta (d - u))}\n$$\n为了确定该函数是否关于 $u$ 是单调的，我们计算它对 $u$ 的偏导数：\n$$\n\\frac{\\partial L}{\\partial u} = \\frac{\\partial}{\\partial u} \\left[ (1 + \\exp(\\beta(d-u)))^{-1} \\right]\n$$\n使用链式法则，这变为：\n$$\n\\frac{\\partial L}{\\partial u} = -1 \\cdot (1 + \\exp(\\beta(d-u)))^{-2} \\cdot \\frac{\\partial}{\\partial u} (\\exp(\\beta(d-u))) = - (1 + \\exp(\\beta(d-u)))^{-2} \\cdot \\exp(\\beta(d-u)) \\cdot (-\\beta)\n$$\n$$\n\\frac{\\partial L}{\\partial u} = \\frac{\\beta \\exp(\\beta(d-u))}{(1 + \\exp(\\beta(d-u)))^2}\n$$\n鉴于陡度参数 $\\beta > 0$ 且指数函数始终为正，导数 $\\frac{\\partial L}{\\partial u}$ 对其所有参数值都严格为正。这证明了 $L(d,u)$ 是峰值需求 $u$ 的一个单调递增函数。因此，更高的峰值需求 $u$ 必然导致更高的失负荷概率。\n\n$u$ 的不确定性由区间 $\\mathcal{U}(\\alpha) = [\\,\\tilde{u}(1-\\alpha),\\, \\tilde{u}(1+\\alpha)\\,]$ 建模。因为 $L(d,u)$ 是 $u$ 的单调递增函数，它在该区间上的最大值将在区间的上界处达到，即 $u$ 取其最大可能值时：\n$$\nu_{\\max} = \\tilde{u}(1+\\alpha)\n$$\n因此，定义稳健性的约束简化为在这种最坏情况下的需求下评估LOLP函数：\n$$\nL(d, u_{\\max}) \\leq \\bar{L} \\quad \\implies \\quad L(d, \\tilde{u}(1+\\alpha)) \\leq \\bar{L}\n$$\n要使稳健性 $\\hat{\\alpha}(d)$ 大于零，这个不等式必须对某个 $\\alpha > 0$ 的范围成立。一个必要条件是，该不等式必须在没有不确定性的基本情况（即 $\\alpha=0$）下成立。当 $\\alpha=0$ 时，不确定性集合坍缩为单点估计 $\\mathcal{U}(0) = \\{\\tilde{u}\\}$，性能要求变为：\n$$\nL(d, \\tilde{u}) \\leq \\bar{L}\n$$\n我们现在必须用所提供的数据来检验这个条件：$d = 10 \\ \\mathrm{GW}$，$\\tilde{u} = 9.5 \\ \\mathrm{GW}$，$\\beta = 5$，以及 $\\bar{L} = 0.05$。我们计算名义上的LOLP，$L(10, 9.5)$：\n$$\nL(10, 9.5) = \\frac{1}{1 + \\exp(5 \\cdot (10 - 9.5))} = \\frac{1}{1 + \\exp(5 \\cdot 0.5)} = \\frac{1}{1 + \\exp(2.5)}\n$$\n$\\exp(2.5)$ 的值约为 $12.1825$。代入此值可得：\n$$\nL(10, 9.5) \\approx \\frac{1}{1 + 12.1825} = \\frac{1}{13.1825} \\approx 0.075859\n$$\n我们现在将计算出的名义LOLP与要求的容差 $\\bar{L}$ 进行比较：\n$$\n0.075859 > 0.05\n$$\n条件 $L(d, \\tilde{u}) \\leq \\bar{L}$ 不被满足。这个电力系统，在建议容量为 $d=10 \\ \\mathrm{GW}$ 的情况下，即使在峰值需求恰好为其基准估计值 $\\tilde{u}$ 时，也未能满足可靠性要求。\n\n由于 $L(d, \\tilde{u}(1+\\alpha))$ 是 $\\alpha$ 的一个增函数（因为 $u_{\\max}$ 随 $\\alpha$ 增加而增加），并且该条件在 $\\alpha=0$ 时不成立，那么它必然对所有 $\\alpha > 0$ 都不成立。这意味着满足可靠性要求的非负 $\\alpha$ 值的集合，即 $\\{\\, \\alpha \\geq 0 \\;:\\; \\max_{u \\in \\mathcal{U}(\\alpha)} L(d,u) \\leq \\bar{L} \\,\\}$，是空集。根据IGDT的惯例，一个非负数空集的上确界是 $0$。\n因此，该决策的稳健性为 $\\hat{\\alpha}(d) = 0$。\n\n对情况的诊断很简单：计划容量 $d=10 \\ \\mathrm{GW}$ 对系统的可靠性目标来说是不够的。甚至在考虑任何不确定性之前，它在名义上的、最佳估计的条件下都无法达到可接受的性能。该系统对任何未预见的峰值需求增长都具有零稳健性，因为它在名义场景下就已经失效了。\n\n为了实现正的稳健性，即 $\\hat{\\alpha}(d) > 0$，必须调整系统参数，以使名义性能是可接受的，即 $L(d, \\tilde{u}) \\le \\bar{L}$。最直接的定量补救措施是增加已安装容量 $d$。我们可以计算恰好满足名义目标所需的最小临界容量 $d_{\\text{crit}}$：$L(d_{\\text{crit}}, \\tilde{u}) = \\bar{L}$。\n$$\n\\frac{1}{1 + \\exp(\\beta(d_{\\text{crit}} - \\tilde{u}))} = \\bar{L}\n$$\n求解 $d_{\\text{crit}}$：\n$$\n1 + \\exp(\\beta(d_{\\text{crit}} - \\tilde{u})) = \\frac{1}{\\bar{L}} \\implies \\exp(\\beta(d_{\\text{crit}} - \\tilde{u})) = \\frac{1}{\\bar{L}} - 1 = \\frac{1-\\bar{L}}{\\bar{L}}\n$$\n$$\nd_{\\text{crit}} = \\tilde{u} + \\frac{1}{\\beta} \\ln\\left(\\frac{1-\\bar{L}}{\\bar{L}}\\right)\n$$\n代入给定值：\n$$\nd_{\\text{crit}} = 9.5 + \\frac{1}{5} \\ln\\left(\\frac{1 - 0.05}{0.05}\\right) = 9.5 + 0.2 \\ln\\left(19\\right)\n$$\n使用 $\\ln(19) \\approx 2.9444$，我们发现：\n$$\nd_{\\text{crit}} \\approx 9.5 + 0.2 \\cdot 2.9444 = 9.5 + 0.58888 = 10.08888 \\ \\mathrm{GW}\n$$\n因此，一个具体的定量补救措施是将已安装容量增加到任何大于 $10.08888 \\ \\mathrm{GW}$ 的值，例如，设 $d = 10.1 \\ \\mathrm{GW}$。这一措施将确保 $L(10.1, 9.5)  0.05$，从而保证 $\\hat{\\alpha}(10.1) > 0$。",
            "answer": "$$\n\\boxed{0}\n$$"
        },
        {
            "introduction": "能源规划者常常在基于概率的期望值最优化和基于不确定性的稳健性分析之间进行权衡。最后一个练习通过一个具体的反例，深刻揭示了期望成本最优的决策可能在面对严重不确定性时表现得非常脆弱 。通过完成这个练习，你将能更清晰地认识到，当规避灾难性失败比追求平均最优表现更重要时，IGDT 所提供的稳健满意策略的独特价值。",
            "id": "4097080",
            "problem": "一个能源规划机构必须选择一个单周期发电容量决策 $k$（单位：兆瓦，MW），以满足在一个标准化的单小时周期内的不确定性需求 $D$（单位：兆瓦时，MWh）。在决策 $k$ 下，针对已实现的需求 $D$ 的总成本模型如下：\n$$\nC(k,D) \\;=\\; r\\,k \\;+\\; g\\,\\min\\{D,k\\} \\;+\\; \\lambda\\,\\max\\{D-k,0\\},\n$$\n其中，$r$ 是单位容量的资本成本，$g$ 是单位服务能源的可变生产成本，$\\lambda$ 是单位未满足需求的短缺惩罚。假设 $r = \\$\\,50$，$g = \\$\\,20$，且 $\\lambda = \\$\\,200$。\n\n假设该机构使用概率方法对需求进行建模，需求 $D$ 以 $0.9$ 的概率等于 $60$，以 $0.1$ 的概率等于 $140$，并且独立地有一个用于信息鸿沟决策理论（IGDT）的名义预测值 $D_0 = 100$。IGDT 需求不确定性集合为\n$$\n\\mathcal{U}(\\alpha) \\;=\\; \\{\\,D \\in \\mathbb{R}_{+} : |D - D_0| \\le \\alpha\\,D_0 \\,\\},\n$$\n对于 $\\alpha \\ge 0$，决策 $k$ 的稳健性函数是在 $\\mathcal{U}(\\alpha)$ 上的最坏情况成本不超过临界性能界限 $\\Gamma$ 的最大不确定性水平 $\\hat{\\alpha}(k)$。设临界性能界限为 $\\Gamma = \\$\\,13000$。\n\n从期望值和 IGDT 稳健性概念的定义出发，首先通过在给定的需求分布下最小化期望成本 $\\mathbb{E}[C(k,D)]$ 来确定期望成本最优决策 $k_E$。然后，使用 IGDT 不确定性集合和临界性能界限 $\\Gamma$，计算 IGDT 稳健性 $\\hat{\\alpha}(k_E)$，其定义为\n$$\n\\hat{\\alpha}(k_E) \\;=\\; \\sup\\left\\{ \\alpha \\ge 0 \\,:\\, \\sup_{D \\in \\mathcal{U}(\\alpha)} C(k_E,D) \\le \\Gamma \\right\\}.\n$$\n\n为证实期望成本最优的决策可能表现出较低的 IGDT 稳健性，如果需要，您可以将 $\\hat{\\alpha}(k_E)$ 与您选择的任何其他决策 $k_R$ 的 $\\hat{\\alpha}(k_R)$ 进行比较；但是，最终报告的量必须仅为 $\\hat{\\alpha}(k_E)$。\n\n将您计算的 $\\hat{\\alpha}(k_E)$ 最终答案表示为不带单位的小数。无需四舍五入；请报告精确值。",
            "solution": "该问题是适定的、有科学依据且内部一致的。所有必要的数据和定义都已提供，以确定一个唯一且有意义的解。\n\n总成本函数由下式给出：\n$$\nC(k,D) = r\\,k + g\\,\\min\\{D,k\\} + \\lambda\\,\\max\\{D-k,0\\}\n$$\n参数为 $r = 50$，$g = 20$，$\\lambda = 200$。该函数可以根据容量 $k$ 和需求 $D$ 之间的关系表示为分段形式：\n1.  如果需求不超过容量（$D \\le k$）：成本为 $C(k,D) = rk + gD$。\n2.  如果需求超过容量（$D  k$）：成本为 $C(k,D) = rk + gk + \\lambda(D-k) = (r+g-\\lambda)k + \\lambda D$。\n\n第一步是确定最小化期望成本 $\\mathbb{E}[C(k,D)]$ 的最优决策 $k_E$。需求 $D$ 是一个离散随机变量，其分布如下：$D_1 = 60$ 的概率为 $p_1 = 0.9$，$D_2 = 140$ 的概率为 $p_2 = 0.1$。\n\n期望成本，记作 $F(k) = \\mathbb{E}[C(k,D)]$，计算如下：\n$$\nF(k) = p_1 C(k, D_1) + p_2 C(k, D_2)\n$$\n函数 $F(k)$ 是分段线性的凸函数，其斜率仅在需求水平 $D_1=60$ 和 $D_2=140$ 处发生变化。这种函数的最小值必然出现在这两个点之一。我们在由这些点定义的区间内分析 $F(k)$ 的导数。\n\n\n情况1：$k  60$。在此区域，$k  D_1$ 且 $k  D_2$。\n$$\nF(k) = p_1 ((r+g-\\lambda)k + \\lambda D_1) + p_2 ((r+g-\\lambda)k + \\lambda D_2)\n$$\n$$\nF(k) = (r+g-\\lambda)k + \\lambda(p_1 D_1 + p_2 D_2)\n$$\n$F(k)$ 的斜率为 $\\frac{dF}{dk} = r+g-\\lambda = 50 + 20 - 200 = -130$。由于斜率为负，期望成本随着 $k$ 增加到 $60$ 而减小。\n\n情况2：$60 \\le k  140$。在此区域，$D_1 \\le k$ 但 $D_2  k$。\n$$\nF(k) = p_1(rk + gD_1) + p_2((r+g-\\lambda)k + \\lambda D_2)\n$$\n$$\nF(k) = (p_1 r + p_2(r+g-\\lambda))k + p_1 g D_1 + p_2 \\lambda D_2\n$$\n$F(k)$ 的斜率为 $\\frac{dF}{dk} = p_1 r + p_2(r+g-\\lambda) = (p_1+p_2)r + p_2(g-\\lambda) = r + p_2(g-\\lambda)$。\n代入数值：$\\frac{dF}{dk} = 50 + 0.1(20 - 200) = 50 + 0.1(-180) = 50 - 18 = 32$。由于斜率为正，期望成本在此区间内随着 $k$ 的增加而增加。\n\n期望成本函数 $F(k)$ 的斜率在 $k=60$ 处从负值（$-130$）变为正值（$32$）。因此，期望成本在 $k=60$ 时最小化。期望成本最优决策为 $k_E = 60$。\n\n第二步是计算决策 $k_E=60$ 的信息鸿沟决策理论（IGDT）稳健性 $\\hat{\\alpha}(k_E)$。稳健性定义为成本保证不超过临界值 $\\Gamma = 13000$ 的最大不确定性水平 $\\alpha$。\n$$\n\\hat{\\alpha}(k_E) = \\sup\\left\\{ \\alpha \\ge 0 \\,:\\, \\sup_{D \\in \\mathcal{U}(\\alpha)} C(k_E,D) \\le \\Gamma \\right\\}\n$$\n需求的不确定性集合为 $\\mathcal{U}(\\alpha) = \\{D \\in \\mathbb{R}_{+} : |D - D_0| \\le \\alpha D_0\\}$。在名义预测值 $D_0 = 100$ 的情况下，这变为：\n$$\n\\mathcal{U}(\\alpha) = \\{D \\ge 0 : |D - 100| \\le 100\\alpha\\} = [\\max(0, 100(1-\\alpha)), 100(1+\\alpha)]\n$$\n我们需要找到 $k_E = 60$ 时的最坏情况成本，即 $\\sup_{D \\in \\mathcal{U}(\\alpha)} C(60,D)$。让我们分析 $C(60,D)$ 作为 $D$ 的函数：\n$$\nC(60,D) = r(60) + g\\,\\min\\{D,60\\} + \\lambda\\,\\max\\{D-60,0\\}\n$$\n$$\nC(60,D) = 50(60) + 20\\min\\{D,60\\} + 200\\max\\{D-60,0\\}\n$$\n- 如果 $D \\le 60$：$C(60,D) = 3000 + 20D$。关于 $D$ 的偏导数为 $\\frac{\\partial C}{\\partial D} = 20$。\n- 如果 $D  60$：$C(60,D) = 3000 + 20(60) + 200(D-60) = 4200 + 200D - 12000 = 200D - 7800$。偏导数为 $\\frac{\\partial C}{\\partial D} = 200$。\n\n由于对所有 $D \\ge 0$ 斜率均为正，成本函数 $C(60,D)$ 在 $D$ 上是单调递增的。因此，在不确定性区间 $\\mathcal{U}(\\alpha)$ 上的最大成本将出现在可能的最大需求处，即 $D_{max} = 100(1+\\alpha)$。\n\n对于任何 $\\alpha \\ge 0$，$D_{max} = 100(1+\\alpha) \\ge 100$，这大于 $k_E = 60$。因此，我们使用 $D  60$ 的成本表达式：\n$$\n\\sup_{D \\in \\mathcal{U}(\\alpha)} C(60,D) = C(60, D_{max}) = 200 D_{max} - 7800\n$$\n$$\nC(60, 100(1+\\alpha)) = 200(100(1+\\alpha)) - 7800 = 20000(1+\\alpha) - 7800\n$$\n为了找到稳健性 $\\hat{\\alpha}(60)$，我们将这个最坏情况成本设为等于临界成本 $\\Gamma = 13000$ 并求解 $\\alpha$：\n$$\n20000(1+\\alpha) - 7800 = 13000\n$$\n$$\n20000(1+\\alpha) = 13000 + 7800 = 20800\n$$\n$$\n1+\\alpha = \\frac{20800}{20000} = \\frac{208}{200} = 1.04\n$$\n$$\n\\alpha = 1.04 - 1 = 0.04\n$$\n因此，期望成本最优决策 $k_E=60$ 的 IGDT 稳健性为 $\\hat{\\alpha}(k_E) = 0.04$。",
            "answer": "$$\\boxed{0.04}$$"
        }
    ]
}