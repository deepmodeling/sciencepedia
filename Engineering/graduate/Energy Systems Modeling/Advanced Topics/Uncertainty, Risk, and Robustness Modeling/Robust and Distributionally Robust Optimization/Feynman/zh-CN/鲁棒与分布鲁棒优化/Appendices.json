{
    "hands_on_practices": [
        {
            "introduction": "鲁棒优化的核心在于确保约束条件在不确定性的任何实现下都成立，本次练习是掌握该方法的关键第一步。通过从第一性原理出发，推导一个简单线性约束在盒式不确定集下的鲁棒对等形式，您将巩固如何制定能够抵御特定不确定性范围的决策的理解。这项基本技能是构建所有复杂鲁棒模型的基础。",
            "id": "4119827",
            "problem": "一个聚合商计划为一组 $n$ 种技术进行容量采购，以在可用性不确定的情况下满足一个确定的容量需求。设 $x \\in \\mathbb{R}^{n}$ 表示采购决策向量，其中 $x_{i}$ 代表技术 $i$ 的采购铭牌容量。设 $a \\in \\mathbb{R}^{n}$ 表示不确定的可用性乘数，其中 $a_{i}$ 是在需要时可交付的采购容量的实现比例。确定容量需求为 $b \\in \\mathbb{R}$，单位为兆瓦 (MW)。可靠性约束要求实现的確定容量满足 $a^{\\top} x \\ge b$。\n\n假设围绕标称可用性向量 $\\bar a \\in \\mathbb{R}^{n}$ 有一个盒式不确定性集合，其分量半径为 $\\Delta \\in \\mathbb{R}_{+}^{n}$，定义如下\n$$\n\\mathcal{U} \\;=\\; \\left\\{ a \\in \\mathbb{R}^{n} \\;:\\; |a_{i} - \\bar a_{i}| \\le \\Delta_{i},\\;\\; i=1,\\dots,n \\right\\}.\n$$\n根据鲁棒优化的基本定义，一个鲁棒约束必须对所有实现 $a \\in \\mathcal{U}$ 都成立，这等效于要求 $a^{\\top} x$ 在 $\\mathcal{U}$ 上的最坏情况（最小值）至少为 $b$。\n\n从第一性原理出发，且不借助任何预先记忆的公式，推导最坏情况值\n$$\n\\min_{a \\in \\mathcal{U}} a^{\\top} x\n$$\n的一个闭式解析表达式，将其表示为 $\\bar a$、$\\Delta$ 和 $x$ 的函数。然后，仅用 $x$ 写出 $a^{\\top} x \\ge b$ 的鲁棒对等形式。将你的最终答案表示为 $\\min_{a \\in \\mathcal{U}} a^{\\top} x$ 的闭式解析表达式。不需要数值近似或四舍五入。",
            "solution": "在尝试求解之前，将对问题进行验证。\n\n### 第 1 步：提取已知条件\n- 决策向量：$x \\in \\mathbb{R}^{n}$，其中 $x_{i}$ 是技术 $i$ 的采购铭牌容量。\n- 不确定性参数向量：$a \\in \\mathbb{R}^{n}$，其中 $a_{i}$ 是实现的可用性乘数。\n- 确定容量需求：$b \\in \\mathbb{R}$。\n- 可靠性约束：$a^{\\top} x \\ge b$。\n- 标称可用性向量：$\\bar a \\in \\mathbb{R}^{n}$。\n- 不确定性半径向量：$\\Delta \\in \\mathbb{R}_{+}^{n}$。\n- 不确定性集合定义：$\\mathcal{U} \\;=\\; \\left\\{ a \\in \\mathbb{R}^{n} \\;:\\; |a_{i} - \\bar a_{i}| \\le \\Delta_{i},\\;\\; i=1,\\dots,n \\right\\}$。\n- 任务 1：推导 $\\min_{a \\in \\mathcal{U}} a^{\\top} x$ 的闭式解析表达式。\n- 任务 2：写出 $a^{\\top} x \\ge b$ 的鲁棒对等形式。\n\n### 第 2 步：使用提取的已知条件进行验证\n根据验证标准评估问题陈述。\n\n- **科学依据**：该问题是鲁棒优化的一个标准应用，而鲁棒优化是数学优化领域一个成熟的分支。该公式为不确定性下的容量规划建模，这是能源系统工程中一个常见且重要的问题。所使用的概念是标准的，模型虽然简化，但科学上是合理的。\n- **适定性**：该问题要求解线性函数 $f(a) = a^{\\top}x$ 在一个非空、紧致且凸的集合 $\\mathcal{U}$（一个超矩形）上的最小值。根据魏尔斯特拉斯极值定理，一个在紧集上的连续函数（本例中为线性函数）必能达到其最小值和最大值。最小值是唯一的。因此，该问题是适定的。\n- **客观性**：问题陈述使用了来自优化和能源系统的精确、无歧义的数学语言和标准术语。\n- **完整性与一致性**：该问题提供了推導所要求表达式的所有必要信息。向量和不确定性集合的定义清晰且自洽。没有内部矛盾。虽然“采购容量”的物理解释表明 $x_i \\ge 0$，但问题更一般地表述为 $x \\in \\mathbb{R}^n$，这在数学上是连贯的。推导将针对一般情况进行。\n- **其他缺陷**：该问题没有违反任何其他标准，例如不切实际、结构不良、过于简单或包含伪科学。它是鲁棒优化中一个基础且具有指导意义的练习。\n\n### 第 3 步：结论与行动\n问题是**有效的**。将提供一个完整的、有理有据的解答。\n\n### 解题推导\n目标是找到实现容量最坏情况值的闭式解析表达式，该问题被表述为以下最小化问题：\n$$\n\\min_{a \\in \\mathcal{U}} a^{\\top} x\n$$\n目标函数可以写成各个分量的和：\n$$\na^{\\top} x = \\sum_{i=1}^{n} a_{i} x_{i}\n$$\n不确定性集合 $\\mathcal{U}$ 为每个分量 $a_i$ 定义了独立的约束。具体来说，对于每个 $i \\in \\{1, \\dots, n\\}$，变量 $a_i$ 被约束在闭区间 $[\\bar{a}_{i} - \\Delta_{i}, \\bar{a}_{i} + \\Delta_{i}]$ 内。\n\n由于目标函数是各项之和，其中每一项 $a_i x_i$ 只涉及一个变量 $a_i$，并且每个 $a_i$ 的约束与其他变量 $a_j$（$j \\neq i$）无关，因此最小化问题是可分的。这允许我们交换求和与最小化运算符：\n$$\n\\min_{a \\in \\mathcal{U}} \\left( \\sum_{i=1}^{n} a_{i} x_{i} \\right) = \\sum_{i=1}^{n} \\left( \\min_{\\bar{a}_{i} - \\Delta_{i} \\le a_{i} \\le \\bar{a}_{i} + \\Delta_{i}} a_{i} x_{i} \\right)\n$$\n我们现在分析每个分量 $i$ 的内部最小化问题：\n$$\n\\min_{\\bar{a}_{i} - \\Delta_{i} \\le a_{i} \\le \\bar{a}_{i} + \\Delta_{i}} a_{i} x_{i}\n$$\n待最小化的函数 $f(a_i) = a_i x_i$ 是变量 $a_i$ 的一个线性函数。线性函数在闭区间上的最小值必然出现在区间的某个端点上。$a_i$ 的两个端点是 $\\bar{a}_{i} - \\Delta_{i}$ 和 $\\bar{a}_{i} + \\Delta_{i}$。使得 $a_i x_i$ 最小化的端点选择取决于固定系数 $x_i$ 的符号。\n\n1.  如果 $x_{i} > 0$：为了最小化乘积 $a_i x_i$，我们必须为 $a_i$ 选择可能的最小值。这个值是区间的下界，$a_{i}^{*} = \\bar{a}_{i} - \\Delta_{i}$。该项的最小值为 $(\\bar{a}_{i} - \\Delta_{i}) x_{i}$。\n\n2.  如果 $x_{i}  0$：为了最小化乘积 $a_i x_i$，我们必须为 $a_i$ 选择可能的最大值，因为乘以一个负数 $x_i$ 会反转大小关系。这个值是区间的上界，$a_{i}^{*} = \\bar{a}_{i} + \\Delta_{i}$。该项的最小值为 $(\\bar{a}_{i} + \\Delta_{i}) x_{i}$。\n\n3.  如果 $x_{i} = 0$：无论 $a_i$ 的值是多少，乘积 $a_i x_i$ 总是 $0$。最小值为 $0$。\n\n这三种情况可以统一为一个表达式。我们可以将 $a_i x_i$ 项的最小值表示如下：\n- 当 $x_i  0$ 时： $\\bar{a}_{i}x_{i} - \\Delta_{i}x_{i} = \\bar{a}_{i}x_{i} - \\Delta_{i}|x_{i}|$\n- 当 $x_i  0$ 时： $\\bar{a}_{i}x_{i} + \\Delta_{i}x_{i} = \\bar{a}_{i}x_{i} - \\Delta_{i}(-x_{i}) = \\bar{a}_{i}x_{i} - \\Delta_{i}|x_{i}|$\n- 当 $x_i = 0$ 时： $0 = \\bar{a}_{i}(0) - \\Delta_{i}|0| = \\bar{a}_{i}x_{i} - \\Delta_{i}|x_{i}|$\n\n因此，对于任何 $x_i \\in \\mathbb{R}$，在其可行区间上 $a_i x_i$ 的最小值由下式给出：\n$$\n\\min_{a_{i}} a_{i} x_{i} = \\bar{a}_{i}x_{i} - \\Delta_{i}|x_{i}|\n$$\n达到这个最小值的 $a_i$ 的值为 $a_i^* = \\bar{a}_i - \\Delta_i \\cdot \\text{sgn}(x_i)$，其中 $\\text{sgn}(\\cdot)$ 是符号函数。\n\n将这些单独的最小值对所有 $i$ 从 $1$到 $n$ 求和，得到 $a^{\\top}x$ 的总最小值：\n$$\n\\min_{a \\in \\mathcal{U}} a^{\\top} x = \\sum_{i=1}^{n} (\\bar{a}_{i}x_{i} - \\Delta_{i}|x_{i}|)\n$$\n这个表达式可以分成两部分：\n$$\n\\min_{a \\in \\mathcal{U}} a^{\\top} x = \\sum_{i=1}^{n} \\bar{a}_{i}x_{i} - \\sum_{i=1}^{n} \\Delta_{i}|x_{i}|\n$$\n第一项是标称可用性向量 $\\bar a$ 与决策向量 $x$ 的点积。最终表达式为：\n$$\n\\min_{a \\in \\mathcal{U}} a^{\\top} x = \\bar{a}^{\\top}x - \\sum_{i=1}^{n} \\Delta_{i}|x_{i}|\n$$\n这就是所要求的闭式解析表达式。\n\n原始约束 $a^{\\top} x \\ge b$ 的鲁棒对等形式要求该约束对不确定性集合 $\\mathcal{U}$ 中所有 $a$ 的可能实现都成立。这等效于确保左侧的最小可能值大于或等于右侧：\n$$\n\\min_{a \\in \\mathcal{U}} (a^{\\top} x) \\ge b\n$$\n代入推导出的最小值表达式，我们得到鲁棒对等形式，它是一个仅关于 $x$ 的不等式约束：\n$$\n\\bar{a}^{\\top}x - \\sum_{i=1}^{n} \\Delta_{i}|x_{i}| \\ge b\n$$\n这是一个凸约束，因为 $\\bar{a}^{\\top}x$ 是线性的，而 $\\sum_{i=1}^{n} \\Delta_{i}|x_{i}|$ 是一个凸函数（一个加权L1范数）。\n所要求的最终答案是最小值本身的闭式表达式。",
            "answer": "$$\n\\boxed{\\bar{a}^{\\top}x - \\sum_{i=1}^{n} \\Delta_{i} |x_{i}|}\n$$"
        },
        {
            "introduction": "掌握了基本原理之后，下一步是将鲁棒优化应用于现实的、网络化的系统中，本练习模拟了在不确定需求下电力系统的经济调度问题。这项练习要求您处理更复杂的预算不确定集，并将其与直流潮流模型相结合。通过推导其易于求解的线性规划形式，您将学会如何将一个复杂的现实世界鲁棒规划问题转化为一个可解的数学模型。",
            "id": "4119881",
            "problem": "考虑一个在直流（DC）潮流近似下建模的三母线输电网络。母线索引为 $1, 2, 3$，其中母线 $1$ 被选为平衡母线，因此 $\\theta_{1} = 0$。线路 $(1,2)$ 和 $(2,3)$ 的电纳分别为 $b_{12} = 10$ 和 $b_{23} = 5$。直流节点方程源于基尔霍夫电流定律和线性化欧姆定律：$\\boldsymbol{B}\\boldsymbol{\\theta} = \\boldsymbol{y}$，其中 $\\boldsymbol{B}$ 是基于线路电纳的网络拉普拉斯矩阵，$\\boldsymbol{\\theta}$ 是母线电压相角，$\\boldsymbol{y}$ 是母线上的净注入功率（发电减去需求）。线路潮流为 $f_{12} = b_{12}(\\theta_{1} - \\theta_{2})$ 和 $f_{23} = b_{23}(\\theta_{2} - \\theta_{3})$。线路热极限为 $|f_{12}| \\leq F_{12}$ 和 $|f_{23}| \\leq F_{23}$。\n\n母线 $1$ 和 $2$ 上有发电机，其输出分别为 $g_{1}$ 和 $g_{2}$，线性成本分别为 $c_{1} = 20$ 和 $c_{2} = 40$（单位：美元/兆瓦时）。发电机容量满足 $0 \\leq g_{1} \\leq 120$ 和 $0 \\leq g_{2} \\leq 120$。标称需求为 $d_{2}^{0} = 90$ 和 $d_{3}^{0} = 30$。标称功率平衡必须保持：$g_{1} + g_{2} = d_{2}^{0} + d_{3}^{0}$。母线 $3$ 上没有发电机。\n\n母线 $2$ 和 $3$ 上的需求是不确定的，并由一个 Bertsimas–Sim 预算不确定性集建模：$d_{i} = d_{i}^{0} + \\hat{d}_{i} s_{i}$，其中 $i \\in \\{2,3\\}$，$\\hat{d}_{2} = 12$，$\\hat{d}_{3} = 10$，$0 \\leq s_{i} \\leq 1$，以及 $s_{2} + s_{3} \\leq \\Gamma$，其中 $\\Gamma = 1.5$。不确定性仅反映需求的向上偏差；根据直流模型的构造，任何净不平衡都由平衡母线吸收。\n\n任务：\n1. 从直流潮流关系和 Bertsimas–Sim 预算不确定性集的定义出发，推导一个用于鲁棒发电机调度的易于处理的线性规划（LP），该规划对不确定性集中的所有需求实现都强制执行线路约束 $|f_{12}| \\leq F_{12}$ 和 $|f_{23}| \\leq F_{23}$。你必须通过将每个绝对值拆分为两个线性不等式来消除绝对值，然后使用线性规划对偶性对预算不确定性进行鲁棒化处理，以获得等价的确定性LP。引入在鲁棒对等推导中出现的任何必要的辅助变量，并清楚地陈述所得到的约束。\n\n2. 对于以下数值参数，评估推导出的LP：$F_{12} = 80$ 和 $F_{23} = 40$。计算最优鲁棒调度成本并提供最终的数值。最终成本以美元/小时（$/h）表示。无需四舍五入；报告精确值。\n\n你的最终答案必须是代表最优鲁棒调度成本的单个实数。",
            "solution": "我们从直流潮流近似开始，该近似是通过在线性化小角度假设下的有功潮流方程推导出来的。电纳加权的拉普拉斯矩阵 $\\boldsymbol{B}$ 是\n$$\n\\boldsymbol{B} = \\begin{pmatrix}\n10  -10  0 \\\\\n-10  15  -5 \\\\\n0  -5  5\n\\end{pmatrix},\n$$\n在平衡母线角度 $\\theta_{1} = 0$ 的情况下，母线 $2$ 和 $3$ 的简化系统为\n$$\n\\begin{pmatrix}\n15  -5 \\\\\n-5  5\n\\end{pmatrix}\n\\begin{pmatrix}\n\\theta_{2} \\\\\n\\theta_{3}\n\\end{pmatrix}\n=\n\\begin{pmatrix}\ny_{2} \\\\\ny_{3}\n\\end{pmatrix},\n$$\n其中 $y_{i}$ 表示母线 $i$ 的净注入功率。仅在母线 $1$ 和 $2$ 有发电，所以 $y_{2} = g_{2} - d_{2}$ 和 $y_{3} = -d_{3}$。\n\n计算该 $2 \\times 2$ 矩阵的逆：\n$$\n\\begin{pmatrix}\n15  -5 \\\\\n-5  5\n\\end{pmatrix}^{-1}\n= \\frac{1}{50}\n\\begin{pmatrix}\n5  5 \\\\\n5  15\n\\end{pmatrix}.\n$$\n因此\n$$\n\\theta_{2} = \\frac{1}{50}(5 y_{2} + 5 y_{3}) = \\frac{1}{10}(y_{2} + y_{3}), \\quad\n\\theta_{3} = \\frac{1}{50}(5 y_{2} + 15 y_{3}) = \\frac{1}{10} y_{2} + \\frac{3}{10} y_{3}.\n$$\n线路潮流为\n$$\nf_{12} = b_{12}(\\theta_{1} - \\theta_{2}) = -10 \\theta_{2} = - (y_{2} + y_{3}),\n$$\n$$\nf_{23} = b_{23}(\\theta_{2} - \\theta_{3}) = 5(\\theta_{2} - \\theta_{3}) = - y_{3}.\n$$\n代入 $y_{2} = g_{2} - d_{2}$ 和 $y_{3} = -d_{3}$ 得到仿射形式\n$$\nf_{12} = d_{2} + d_{3} - g_{2}, \\quad f_{23} = d_{3}.\n$$\n\n我们必须对 Bertsimas–Sim 预算集中的所有需求 $d_{2}, d_{3}$ 鲁棒地强制执行 $|f_{12}| \\leq F_{12}$ 和 $|f_{23}| \\leq F_{23}$：\n$$\n\\mathcal{U} = \\left\\{ (d_{2}, d_{3}) : d_{i} = d_{i}^{0} + \\hat{d}_{i} s_{i}, \\; 0 \\leq s_{i} \\leq 1, \\; s_{2} + s_{3} \\leq \\Gamma \\right\\},\n$$\n其中 $d_{2}^{0} = 90$，$d_{3}^{0} = 30$，$\\hat{d}_{2} = 12$，$\\hat{d}_{3} = 10$，以及 $\\Gamma = 1.5$。\n\n每个绝对值不等式可拆分为两个线性不等式：\n1. $f_{12} \\leq F_{12}$ 和 $-f_{12} \\leq F_{12}$，\n2. $f_{23} \\leq F_{23}$ 和 $-f_{23} \\leq F_{23}$。\n\n用不确定需求表示每个不等式：\n- 对于线路 $(1,2)$：\n$$\nd_{2}^{0} + \\hat{d}_{2} s_{2} + d_{3}^{0} + \\hat{d}_{3} s_{3} - g_{2} \\leq F_{12} \\quad \\text{对于所有 } (s_{2}, s_{3}) \\in \\mathcal{S},\n$$\n$$\n- d_{2}^{0} - \\hat{d}_{2} s_{2} - d_{3}^{0} - \\hat{d}_{3} s_{3} + g_{2} \\leq F_{12} \\quad \\text{对于所有 } (s_{2}, s_{3}) \\in \\mathcal{S},\n$$\n其中 $\\mathcal{S} = \\{ (s_{2}, s_{3}) : 0 \\leq s_{i} \\leq 1, \\; s_{2} + s_{3} \\leq \\Gamma \\}$。\n\n- 对于线路 $(2,3)$：\n$$\nd_{3}^{0} + \\hat{d}_{3} s_{3} \\leq F_{23} \\quad \\text{对于所有 } (s_{2}, s_{3}) \\in \\mathcal{S},\n$$\n$$\n- d_{3}^{0} - \\hat{d}_{3} s_{3} \\leq F_{23} \\quad \\text{对于所有 } (s_{2}, s_{3}) \\in \\mathcal{S}.\n$$\n\n鲁棒化过程是通过对任何乘以 $s_{i}$ 的系数为正的不等式，在 $\\mathcal{S}$ 上取最坏情况。鲁棒对等的基本基础是线性规划对偶性。具体来说，对于\n$$\n\\sup_{(s_{2}, s_{3}) \\in \\mathcal{S}} \\left( w_{2} s_{2} + w_{3} s_{3} \\right),\n$$\n其对偶问题是\n$$\n\\inf_{z \\geq 0, \\; u_{2} \\geq 0, \\; u_{3} \\geq 0} \\left( \\Gamma z + u_{2} + u_{3} \\right) \\quad \\text{约束条件为} \\quad z + u_{2} \\geq w_{2}, \\; z + u_{3} \\geq w_{3}.\n$$\n将此应用于每个不等式：\n\n- 对于 $f_{12} \\leq F_{12}$，不确定项是 $w_{2} s_{2} + w_{3} s_{3}$，其中 $w_{2} = \\hat{d}_{2}$，$w_{3} = \\hat{d}_{3}$。其鲁棒对等引入辅助变量 $z_{12} \\geq 0$, $u_{12,2} \\geq 0$, $u_{12,3} \\geq 0$ 并强制执行\n$$\nd_{2}^{0} + d_{3}^{0} - g_{2} + \\Gamma z_{12} + u_{12,2} + u_{12,3} \\leq F_{12},\n$$\n$$\nz_{12} + u_{12,2} \\geq \\hat{d}_{2}, \\quad z_{12} + u_{12,3} \\geq \\hat{d}_{3}.\n$$\n\n- 对于 $-f_{12} \\leq F_{12}$，不确定项是 $- \\hat{d}_{2} s_{2} - \\hat{d}_{3} s_{3}$，其在 $\\mathcal{S}$ 上的上确界为 $0$，因为系数非正且 $s_{i} \\geq 0$。因此，其鲁棒对等就是\n$$\n- d_{2}^{0} - d_{3}^{0} + g_{2} \\leq F_{12}.\n$$\n\n- 对于 $f_{23} \\leq F_{23}$，不确定项是 $w_{3} s_{3}$，其中 $w_{3} = \\hat{d}_{3}$。其鲁棒对等引入 $z_{23} \\geq 0$, $u_{23,3} \\geq 0$：\n$$\nd_{3}^{0} + \\Gamma z_{23} + u_{23,3} \\leq F_{23},\n$$\n$$\nz_{23} + u_{23,3} \\geq \\hat{d}_{3}.\n$$\n\n- 对于 $-f_{23} \\leq F_{23}$，不确定项是 $- \\hat{d}_{3} s_{3}$，其上确界为 $0$，得到\n$$\n- d_{3}^{0} \\leq F_{23}.\n$$\n\n综上，易于处理的鲁棒LP为\n$$\n\\min_{g_{1}, g_{2}, z_{12}, u_{12,2}, u_{12,3}, z_{23}, u_{23,3}} \\; 20 g_{1} + 40 g_{2}\n$$\n约束条件为\n$$\ng_{1} + g_{2} = d_{2}^{0} + d_{3}^{0},\n$$\n$$\n0 \\leq g_{1} \\leq 120, \\quad 0 \\leq g_{2} \\leq 120,\n$$\n$$\nd_{2}^{0} + d_{3}^{0} - g_{2} + \\Gamma z_{12} + u_{12,2} + u_{12,3} \\leq F_{12}, \\quad z_{12} + u_{12,2} \\geq \\hat{d}_{2}, \\quad z_{12} + u_{12,3} \\geq \\hat{d}_{3}, \\quad z_{12} \\geq 0, \\; u_{12,2} \\geq 0, \\; u_{12,3} \\geq 0,\n$$\n$$\n- d_{2}^{0} - d_{3}^{0} + g_{2} \\leq F_{12},\n$$\n$$\nd_{3}^{0} + \\Gamma z_{23} + u_{23,3} \\leq F_{23}, \\quad z_{23} + u_{23,3} \\geq \\hat{d}_{3}, \\quad z_{23} \\geq 0, \\; u_{23,3} \\geq 0,\n$$\n$$\n- d_{3}^{0} \\leq F_{23}.\n$$\n\n我们现在使用所提供的数据评估此LP：$d_{2}^{0} = 90$，$d_{3}^{0} = 30$，$\\hat{d}_{2} = 12$，$\\hat{d}_{3} = 10$，$\\Gamma = 1.5$，$F_{12} = 80$，$F_{23} = 40$，$c_{1} = 20$，$c_{2} = 40$，以及容量 $0 \\leq g_{1}, g_{2} \\leq 120$。\n\n首先，观察到约束 $- d_{2}^{0} - d_{3}^{0} + g_{2} \\leq F_{12}$ 是\n$$\n-120 + g_{2} \\leq 80 \\quad \\Rightarrow \\quad g_{2} \\leq 200,\n$$\n考虑到 $g_{2} \\leq 120$，此约束是非紧的。\n\n对于 $f_{12}$ 的鲁棒上界，对偶变量 $(z_{12}, u_{12,2}, u_{12,3})$ 在约束 $z_{12} + u_{12,2} \\geq 12$ 和 $z_{12} + u_{12,3} \\geq 10$，$z_{12}, u_{12,2}, u_{12,3} \\geq 0$ 下最小化 $\\Gamma z_{12} + u_{12,2} + u_{12,3}$。该子问题的最优值等于 $\\mathcal{S}$ 的支撑函数，对于两个权重 $12$ 和 $10$ 以及 $\\Gamma = 1.5$，可得\n$$\n\\sup_{(s_{2}, s_{3}) \\in \\mathcal{S}} (12 s_{2} + 10 s_{3}) = 12 \\cdot 1 + 10 \\cdot 0.5 = 17.\n$$\n因此，鲁棒的 $f_{12}$ 上界约束变为\n$$\nd_{2}^{0} + d_{3}^{0} - g_{2} + 17 \\leq F_{12} \\quad \\Rightarrow \\quad 120 - g_{2} + 17 \\leq 80 \\quad \\Rightarrow \\quad g_{2} \\geq 57.\n$$\n\n对于 $f_{23}$ 的鲁棒上界，不确定项仅涉及 $s_{3}$，因此\n$$\n\\sup_{(s_{2}, s_{3}) \\in \\mathcal{S}} (10 s_{3}) = 10 \\cdot \\min\\{ \\Gamma, 1 \\} = 10 \\cdot 1 = 10.\n$$\n因此\n$$\nd_{3}^{0} + 10 \\leq F_{23} \\quad \\Rightarrow \\quad 30 + 10 \\leq 40,\n$$\n此约束等号成立，且不涉及 $g_{1}, g_{2}$。下界约束 $- d_{3}^{0} \\leq F_{23}$ 和 $g_{2} \\leq 200$ 是松弛的。\n\n剩余的约束是标称平衡 $g_{1} + g_{2} = 120$ 和发电机容量。目标是在 $g_{2} \\geq 57$ 和 $g_{1} = 120 - g_{2}$ 的条件下最小化 $20 g_{1} + 40 g_{2}$。代入 $g_{1}$，\n$$\n\\min_{57 \\leq g_{2} \\leq 120} \\; 20(120 - g_{2}) + 40 g_{2} = 2400 + 20 g_{2}.\n$$\n该式关于 $g_{2}$ 是递增的，因此最小值在可行的最小 $g_{2}$ 处取到：\n$$\ng_{2}^{\\star} = 57, \\quad g_{1}^{\\star} = 120 - 57 = 63.\n$$\n最优鲁棒调度成本为\n$$\n20 \\cdot 63 + 40 \\cdot 57 = 1260 + 2280 = 3540.\n$$\n以美元/小时表示，最终成本为 $3540$/h。",
            "answer": "$$\\boxed{3540}$$"
        },
        {
            "introduction": "鲁棒优化考虑的是最坏情况的“实现”，而分布鲁棒优化（DRO）防范的则是最坏情况的“概率分布”，本练习将带您探索这一功能强大的扩展。这个问题要求您在仅知道线路潮流均值和方差的情况下，构造一个使违反输电极限风险最大化的对抗性概率分布。这将让您深刻洞察DRO的核心机制，并理解当部分统计信息可用时，它如何提供一种更精妙的不确定性管理方法。",
            "id": "4119953",
            "problem": "考虑一个电力网络中的单条输电线路，该线路在直流（DC）潮流近似下建模。设不确定的实时线路潮流由随机变量 $F$ 表示，其真实概率分布未知，但已知其满足从预测和历史数据中获得的以下矩信息：其均值为 $\\mu_{F}$，方差为 $\\sigma_{F}^{2}$。一项规划决策施加了机会约束，要求线路潮流以高概率不超过热极限 $\\bar{F}$。具体来说，在分布鲁棒优化（DRO）的意义上，该决策对于与此矩信息一致的任何 $F$ 分布都必须是可行的。\n\n形式上，将模糊集定义为 $\\mathbb{R}$ 上所有均值为 $\\mu_{F}$、方差为 $\\sigma_{F}^{2}$ 的概率分布族。分布鲁棒机会约束要求对于此模糊集中的所有分布，$\\mathbb{P}(F \\leq \\bar{F}) \\geq 1 - \\varepsilon$。假设 $\\bar{F}  \\mu_{F}$，因此该极限高于平均线路潮流。构建（在模糊集内）使违规概率 $\\mathbb{P}(F  \\bar{F})$ 最大化的最坏情况分布，并解释其概率质量相对于违规边界 $F = \\bar{F}$ 的排列方式以最大化风险。然后，计算相应的最坏情况违规概率，以 $\\mu_{F}$、$\\sigma_{F}$ 和 $\\bar{F}$ 的闭式表达式表示。\n\n将最终答案表示为单个闭式解析表达式。无需四舍五入，最终表达式中不应包含任何物理单位。",
            "solution": "该问题是有效的。它在概率论和分布鲁棒优化领域有科学依据，问题提法得当且客观。所有必要信息均已提供。\n\n该问题要求计算电力输电线路潮流 $F$ 的机会约束的最坏情况违规概率。约束条件是潮流 $F$ 不得超过热极限 $\\bar{F}$。因此，违规事件为 $F  \\bar{F}$。我们已知不确定潮流 $F$ 是一个随机变量，其分布未知，但其均值 $\\mathbb{E}[F] = \\mu_{F}$ 和方差 $\\mathbb{V}[F] = \\sigma_{F}^{2}$ 是已知的。该问题是在分布鲁棒优化（DRO）框架下提出的，这意味着我们必须在与给定矩信息一致的所有可能的 $F$ 分布中，找到最大的违规概率。\n\n设 $\\mathcal{P}$ 为模糊集，即 $\\mathbb{R}$ 上所有均值为 $\\mu_{F}$、方差为 $\\sigma_{F}^{2}$ 的概率分布族。任务是求解以下优化问题：\n$$ \\sup_{P \\in \\mathcal{P}} \\mathbb{P}(F  \\bar{F}) $$\n这是矩理论中的一个经典问题。对于此类在矩约束下最大化或最小化事件概率的问题，其极值分布已知是具有有限数量支持点的离散分布。\n\n为了最大化区域 $( \\bar{F}, \\infty)$ 内的概率质量，最坏情况分布应避免通过分散来“浪费”概率质量。直观地说，它应该将质量集中在特定的点上。让我们假设最坏情况分布是一个具有两个支持点 $x_1$ 和 $x_2$ 的离散分布。设相应的概率为 $p_1$ 和 $p_2$。为了使违规概率不为零，至少有一个点必须在违规区域内。设 $x_2  \\bar{F}$ 且 $x_1 \\le \\bar{F}$。违规概率为 $p_2 = \\mathbb{P}(F  \\bar{F})$。\n\n该分布必须满足由矩信息和全概率定律给出的三个约束：\n1.  $p_1 + p_2 = 1$\n2.  $p_1 x_1 + p_2 x_2 = \\mu_F$\n3.  $p_1 (x_1 - \\mu_F)^2 + p_2 (x_2 - \\mu_F)^2 = \\sigma_F^2$\n\n根据约束 (1)，$p_1 = 1 - p_2$。将此代入约束 (2)：\n$(1 - p_2) x_1 + p_2 x_2 = \\mu_F$\n$x_1 - p_2 x_1 + p_2 x_2 = \\mu_F$\n$x_1 = \\mu_F - p_2(x_2 - x_1)$\n这个表达式不是很有用。让我们用 $x_1$ 和 $x_2$ 与均值的偏差来表示它们。根据约束 (2)：\n$p_1(x_1 - \\mu_F) + p_2(x_2 - \\mu_F) = 0 \\implies (1-p_2)(x_1 - \\mu_F) = -p_2(x_2 - \\mu_F)$。\n所以，$x_1 - \\mu_F = -\\frac{p_2}{1-p_2}(x_2 - \\mu_F)$。\n\n现在，将此代入方差约束 (3)：\n$(1-p_2) \\left( -\\frac{p_2}{1-p_2}(x_2 - \\mu_F) \\right)^2 + p_2 (x_2 - \\mu_F)^2 = \\sigma_F^2$\n$(1-p_2) \\frac{p_2^2}{(1-p_2)^2} (x_2 - \\mu_F)^2 + p_2 (x_2 - \\mu_F)^2 = \\sigma_F^2$\n$\\frac{p_2^2}{1-p_2} (x_2 - \\mu_F)^2 + p_2 (x_2 - \\mu_F)^2 = \\sigma_F^2$\n$(x_2 - \\mu_F)^2 \\left( \\frac{p_2^2}{1-p_2} + p_2 \\right) = \\sigma_F^2$\n$(x_2 - \\mu_F)^2 \\left( \\frac{p_2^2 + p_2(1-p_2)}{1-p_2} \\right) = \\sigma_F^2$\n$(x_2 - \\mu_F)^2 \\left( \\frac{p_2^2 + p_2 - p_2^2}{1-p_2} \\right) = \\sigma_F^2$\n$(x_2 - \\mu_F)^2 \\frac{p_2}{1-p_2} = \\sigma_F^2$\n\n我们现在可以解出 $p_2$，即我们希望最大化的违规概率：\n$p_2(x_2 - \\mu_F)^2 = (1-p_2)\\sigma_F^2 = \\sigma_F^2 - p_2 \\sigma_F^2$\n$p_2 \\left( (x_2 - \\mu_F)^2 + \\sigma_F^2 \\right) = \\sigma_F^2$\n$$ p_2 = \\frac{\\sigma_F^2}{\\sigma_F^2 + (x_2 - \\mu_F)^2} $$\n为了最大化 $p_2$，我们必须最小化分母。这意味着我们必须在 $x_2$ 代表违规结果（即 $x_2  \\bar{F}$）的约束下，最小化 $(x_2 - \\mu_F)^2$ 这一项。\n我们已知 $\\bar{F}  \\mu_F$。函数 $g(x_2) = (x_2 - \\mu_F)^2$ 在 $x_2  \\mu_F$ 时是一个增函数。由于我们的 $x_2$ 的定义域是 $(\\bar{F}, \\infty)$，它是 $(\\mu_F, \\infty)$ 的一个子集，我们必须选择尽可能小的 $x_2$。在集合 $(\\bar{F}, \\infty)$ 上，$x_2$ 的下确界是 $\\bar{F}$。\n因此，当 $x_2$ 从上方趋近于 $\\bar{F}$ 时，概率 $p_2$ 的上确界得以实现：\n$$ \\sup_{x_2  \\bar{F}} p_2 = \\lim_{x_2 \\to \\bar{F}^+} \\frac{\\sigma_F^2}{\\sigma_F^2 + (x_2 - \\mu_F)^2} = \\frac{\\sigma_F^2}{\\sigma_F^2 + (\\bar{F} - \\mu_F)^2} $$\n这个表达式代表了最坏情况的违规概率。这个结果是单边 Chebyshev 不等式的一种形式，也称为 Cantelli 不等式。\n\n问题还要求构建最坏情况分布并解释其结构。对于严格不等式 $\\mathbb{P}(F  \\bar{F})$，这个上确界在技术上是无法通过一个分布达到的。然而，对于非严格不等式 $\\mathbb{P}(F \\ge \\bar{F})$，该值是最大值，并且是可以达到的。在工程和优化实践中，这种区别通常被忽略，而将达到非严格不等式最大值的分布称为“最坏情况分布”。\n\n这种最坏情况分布将所有概率质量集中在两个点上。一个点正好位于违规边界 $x_2 = \\bar{F}$ 上。另一个点 $x_1$ 的位置则要满足均值和方差约束。\n在 $x_2 = \\bar{F}$ 处的概率质量就是最坏情况概率本身：\n$$ p_2 = \\mathbb{P}(F = \\bar{F}) = \\frac{\\sigma_F^2}{\\sigma_F^2 + (\\bar{F} - \\mu_F)^2} $$\n$x_1$ 处的概率质量是：\n$$ p_1 = 1 - p_2 = 1 - \\frac{\\sigma_F^2}{\\sigma_F^2 + (\\bar{F} - \\mu_F)^2} = \\frac{(\\bar{F} - \\mu_F)^2}{\\sigma_F^2 + (\\bar{F} - \\mu_F)^2} $$\n点 $x_1$ 的位置可以从关系式 $x_1 - \\mu_F = -\\frac{p_2}{1-p_2}(x_2 - \\mu_F)$ 中找到：\n$$ \\frac{p_2}{1-p_2} = \\frac{\\sigma_F^2 / (\\dots)}{(\\bar{F} - \\mu_F)^2 / (\\dots)} = \\frac{\\sigma_F^2}{(\\bar{F} - \\mu_F)^2} $$\n所以，当 $x_2 = \\bar{F}$ 时：\n$$ x_1 = \\mu_F - \\frac{\\sigma_F^2}{(\\bar{F} - \\mu_F)^2}(\\bar{F} - \\mu_F) = \\mu_F - \\frac{\\sigma_F^2}{\\bar{F} - \\mu_F} $$\n这种分布的解释是，自然或不确定性扮演着一个对手的角色。为了最大化违反极限 $\\bar{F}$ 的概率，它创造了一个二元世界。以概率 $p_2$ 发生“坏”结果，此时线路潮流恰好落在最关键的点，即边界 $\\bar{F}$ 上。以概率 $p_1$ 发生“好”结果，但为了满足矩约束，这个结果 $x_1$ 必须位于均值左侧很远的位置。这种结构代表了在仅给定均值和方差信息的情况下，不确定性可能造成的最具破坏性的实现，它避开了像高斯分布这样行为良好的分布，而选择了极端的、两极分化的结果。\n\n最终答案是最坏情况违规概率的闭式表达式。",
            "answer": "$$\\boxed{\\frac{\\sigma_{F}^{2}}{\\sigma_{F}^{2} + (\\bar{F} - \\mu_{F})^{2}}}$$"
        }
    ]
}