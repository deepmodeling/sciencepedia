{
    "hands_on_practices": [
        {
            "introduction": "At the heart of any reactor simulation lies the solution of the $k$-eigenvalue problem to determine the system's criticality. This practice delves into the power iteration method, the foundational numerical algorithm used to find the effective multiplication factor, $k_{\\text{eff}}$, and its corresponding fundamental neutron mode. By implementing and analyzing this method, you will gain crucial insight into the computational engine that powers modern reactor physics codes. ",
            "id": "4244683",
            "problem": "You are given a discrete, linear neutronics operator that maps a fission source vector to the next-generation fission source vector, which is the standard algebraic form arising from steady-state neutron balance after discretization and elimination of the removal-leakage operator. In the algebraic $k$-eigenvalue formulation, the fundamental multiplication factor $k$ equals the spectral radius of a nonnegative matrix $B$ defined by $B = A^{-1} F$, where $A$ is the removal-leakage operator and $F$ is the fission production operator. Under assumptions of physical realism, $B$ is nonnegative and often irreducible. The $k$-eigenproblem reduces to finding the dominant eigenpair of $B$:\n$$\nB \\, \\phi = k \\, \\phi,\n$$\nwhere $k$ is the largest (in magnitude) eigenvalue and $\\phi$ is the associated nonnegative eigenvector (the fundamental mode). In practice, $B$ is obtained from fundamental laws of neutron balance: absorption, leakage, scattering, and fission, assembled into well-tested discretized operators. For this problem, you will treat $B$ as a given nonnegative matrix and implement the power iteration to approximate $k$ and the fundamental mode.\n\nYour tasks:\n- Implement the power iteration for the $k$-eigenproblem. Given a matrix $B$, an initial vector $x_0$, a tolerance $\\epsilon$, and a maximum iteration count $N_{\\max}$, iteratively compute\n$$\ny_n = B \\, x_n, \\quad x_{n+1} = \\frac{y_n}{\\|y_n\\|_1},\n$$\nwith the convergence check\n$$\n\\|x_{n+1} - x_n\\|_{\\infty}  \\epsilon.\n$$\nAt each iteration, estimate $k_n$ using the Rayleigh quotient\n$$\nk_n = \\frac{x_{n}^{\\top} \\, B \\, x_{n}}{x_{n}^{\\top} x_{n}},\n$$\nand return the last $k_n$, the number of iterations performed, and a boolean indicating convergence according to the above criterion.\n- Prove, in your accompanying solution write-up, the convergence conditions of the power iteration based on spectral dominance of the fundamental mode. Specifically, starting from the definitions of the operators and the power iteration, prove that if the spectral radius $k_1$ of a nonnegative irreducible matrix $B$ satisfies $k_1  |\\lambda_2|$ for all other eigenvalues $\\lambda_2$, and if the initial vector $x_0$ has a nonzero component along the fundamental eigenvector, then the power iteration converges to the fundamental mode and the Rayleigh quotient converges to $k_1$. Discuss boundary cases where convergence may be slow (near-degenerate eigenvalues) or may fail (imprimitive matrix leading to cyclic behavior, or initial vector orthogonal to the fundamental eigenvector due to block structure).\n\nImplement your program to run the following test suite. All quantities are dimensionless, and no physical units are required. Your program must produce a single line of output containing the results as a comma-separated list enclosed in square brackets, as specified below.\n\nTest suite:\n- Test case $1$ (happy path, primitive nonnegative matrix with spectral gap): \n  - $B = \\begin{bmatrix} 0.3  1.2  0.0 \\\\ 0.4  0.1  0.5 \\\\ 0.0  0.8  0.2 \\end{bmatrix}$,\n  - $x_0 = \\begin{bmatrix} 1 \\\\ 1 \\\\ 1 \\end{bmatrix}$,\n  - $\\epsilon = 10^{-12}$,\n  - $N_{\\max} = 1000$.\n  - Output for this case: the final dominant eigenvalue estimate $k$ rounded to $6$ decimal places (a float).\n- Test case $2$ (near-degenerate spectrum causing slow convergence):\n  - $B = \\begin{bmatrix} 0.95  0.05 \\\\ 0.05  0.95 \\end{bmatrix}$,\n  - $x_0 = \\begin{bmatrix} 1 \\\\ 0 \\end{bmatrix}$,\n  - $\\epsilon = 10^{-12}$,\n  - $N_{\\max} = 10000$.\n  - Output for this case: the integer number of iterations required to satisfy $\\|x_{n+1} - x_n\\|_{\\infty}  \\epsilon$.\n- Test case $3$ (imprimitive nonnegative matrix with cyclic behavior, no convergence of iterates to a fixed vector):\n  - $B = \\begin{bmatrix} 0  1 \\\\ 1  0 \\end{bmatrix}$,\n  - $x_0 = \\begin{bmatrix} 1 \\\\ 0 \\end{bmatrix}$,\n  - $\\epsilon = 10^{-12}$,\n  - $N_{\\max} = 500$.\n  - Output for this case: the boolean indicating convergence (expected to be false).\n- Test case $4$ (block-diagonal matrix demonstrating the necessity of a nonzero component along the fundamental mode):\n  - $B = \\mathrm{blockdiag}\\!\\left( \\begin{bmatrix} 1.3  0.0 \\\\ 0.1  1.1 \\end{bmatrix}, \\begin{bmatrix} 0.9  0.0 \\\\ 0.0  0.9 \\end{bmatrix} \\right)$,\n  - $x_0 = \\begin{bmatrix} 0 \\\\ 0 \\\\ 1 \\\\ 0 \\end{bmatrix}$,\n  - $\\epsilon = 10^{-12}$,\n  - $N_{\\max} = 1000$.\n  - Output for this case: the final dominant eigenvalue estimate $k$ rounded to $6$ decimal places (a float). This case illustrates that if $x_0$ has zero component in the invariant subspace of the block with the largest eigenvalue, the iteration converges to the dominant eigenpair of the subspace containing $x_0$.\n\nFinal output format:\n- Your program should produce a single line of output containing the results of the four test cases in order as a comma-separated list enclosed in square brackets, for example, $[k_1,\\mathrm{iters}_2,\\mathrm{conv}_3,k_4]$, where $k_1$ and $k_4$ are floats rounded to $6$ decimal places, $\\mathrm{iters}_2$ is an integer, and $\\mathrm{conv}_3$ is a boolean.",
            "solution": "The problem requires the implementation and theoretical justification of the power iteration method to find the dominant eigenvalue, $k$, of a matrix operator $B$. This formulation is central to steady-state nuclear reactor physics, where $k$ represents the effective neutron multiplication factor. The operator $B$ maps the fission source distribution from one neutron generation to the next. A value of $k=1$ signifies a critical reactor, $k1$ is subcritical, and $k1$ is supercritical. The vector $\\phi$ associated with the dominant eigenvalue $k$ represents the fundamental mode of the fission source distribution. The analysis hinges on the Perron-Frobenius theorem, which, for a nonnegative and irreducible matrix $B$ (a common case for realistic reactor models), guarantees the existence of a unique, simple, positive eigenvalue equal to the spectral radius of $B$, with a corresponding positive eigenvector.\n\nThe task is twofold: first, to provide a formal proof of the convergence of the power iteration method under specific spectral conditions, and second, to implement the algorithm and apply it to a given test suite.\n\n**Proof of Convergence for the Power Iteration Method**\n\nThe power iteration algorithm is defined by the iterative sequence:\n$$\nx_{n+1} = \\frac{B x_n}{\\| B x_n \\|_{\\text{norm}}}\n$$\nwhere `norm` can be any vector norm. The problem specifies the $L_1$ norm. The eigenvalue $k$ is approximated at each step. We will prove that this process converges to the dominant eigenpair of $B$ under certain conditions.\n\n**Assumptions:**\n$1$. The matrix $B$, of size $m \\times m$, is diagonalizable. It has a full set of $m$ linearly independent eigenvectors, denoted $v_1, v_2, \\dots, v_m$.\n$2$. The corresponding eigenvalues, $\\lambda_1, \\lambda_2, \\dots, \\lambda_m$, are ordered such that there is a unique dominant eigenvalue: $|\\lambda_1|  |\\lambda_2| \\ge |\\lambda_3| \\ge \\dots \\ge |\\lambda_m|$. For the physical problem of neutron multiplication with a non-negative matrix $B$, the Perron-Frobenius theorem ensures that $\\lambda_1$ is real, positive, and typically simple. We denote this dominant eigenvalue as $k = \\lambda_1$.\n$3$. The initial vector $x_0$ has a non-zero component in the direction of the dominant eigenvector $v_1$. That is, if we express $x_0$ as a linear combination of the eigenvectors:\n$$\nx_0 = c_1 v_1 + c_2 v_2 + \\dots + c_m v_m = \\sum_{i=1}^{m} c_i v_i\n$$\nthen the coefficient $c_1$ must be non-zero, $c_1 \\neq 0$.\n\n**Derivation of Convergence:**\nLet us analyze the vector $B^n x_0$ after $n$ applications of the matrix $B$ to the initial vector $x_0$.\nUsing the eigenvector property $B v_i = \\lambda_i v_i$, we can write $B^n v_i = \\lambda_i^n v_i$. Applying this to the expansion of $x_0$:\n$$\nB^n x_0 = B^n \\left(\\sum_{i=1}^{m} c_i v_i\\right) = \\sum_{i=1}^{m} c_i (B^n v_i) = \\sum_{i=1}^{m} c_i \\lambda_i^n v_i\n$$\nWe can factor out the term $\\lambda_1^n$:\n$$\nB^n x_0 = \\lambda_1^n \\left( c_1 v_1 + c_2 \\left(\\frac{\\lambda_2}{\\lambda_1}\\right)^n v_2 + \\dots + c_m \\left(\\frac{\\lambda_m}{\\lambda_1}\\right)^n v_m \\right) = \\lambda_1^n \\left( c_1 v_1 + \\sum_{i=2}^{m} c_i \\left(\\frac{\\lambda_i}{\\lambda_1}\\right)^n v_i \\right)\n$$\nFrom our assumption of a unique dominant eigenvalue, $|\\lambda_1|  |\\lambda_i|$ for all $i  1$. This implies that the ratio $|\\frac{\\lambda_i}{\\lambda_1}|  1$ for $i=2, \\dots, m$. As the number of iterations $n$ approaches infinity, these ratio terms raised to the power of $n$ will approach zero:\n$$\n\\lim_{n \\to \\infty} \\left(\\frac{\\lambda_i}{\\lambda_1}\\right)^n = 0 \\quad \\text{for } i  1\n$$\nConsequently, the summation term in the expression for $B^n x_0$ vanishes:\n$$\n\\lim_{n \\to \\infty} \\left( \\sum_{i=2}^{m} c_i \\left(\\frac{\\lambda_i}{\\lambda_1}\\right)^n v_i \\right) = 0\n$$\nTherefore, for large $n$, the vector $B^n x_0$ becomes asymptotically proportional to the dominant eigenvector $v_1$:\n$$\nB^n x_0 \\approx \\lambda_1^n c_1 v_1\n$$\nThe power iteration includes a normalization step at each iteration. The vector sequence is $x_n = \\frac{B^n x_0}{\\|B^n x_0\\|_{\\text{norm}}}$. Substituting the asymptotic behavior:\n$$\nx_n \\approx \\frac{\\lambda_1^n c_1 v_1}{\\|\\lambda_1^n c_1 v_1\\|_{\\text{norm}}} = \\frac{\\lambda_1^n c_1}{|\\lambda_1^n c_1|} \\frac{v_1}{\\|v_1\\|_{\\text{norm}}}\n$$\nThe term $\\frac{\\lambda_1^n c_1}{|\\lambda_1^n c_1|}$ is a scalar of unit magnitude. Thus, as $n \\to \\infty$, the vector sequence $x_n$ converges to a vector that is parallel to the dominant eigenvector $v_1$.\n\n**Convergence of the Eigenvalue Estimate:**\nThe problem specifies using the Rayleigh quotient to estimate the eigenvalue at each step $n$:\n$$\nk_n = \\frac{x_n^\\top B x_n}{x_n^\\top x_n}\n$$\nAs $n \\to \\infty$, we have established that $x_n$ approaches a multiple of $v_1$, i.e., $x_n \\to C v_1$ for some non-zero constant $C$. Substituting this into the Rayleigh quotient expression:\n$$\n\\lim_{n \\to \\infty} k_n = \\frac{(C v_1)^\\top B (C v_1)}{(C v_1)^\\top (C v_1)} = \\frac{C^2 v_1^\\top (B v_1)}{C^2 v_1^\\top v_1}\n$$\nSince $Bv_1 = \\lambda_1 v_1$:\n$$\n\\lim_{n \\to \\infty} k_n = \\frac{v_1^\\top (\\lambda_1 v_1)}{v_1^\\top v_1} = \\frac{\\lambda_1 (v_1^\\top v_1)}{v_1^\\top v_1} = \\lambda_1\n$$\nThis proves that the sequence of Rayleigh quotients $k_n$ converges to the dominant eigenvalue $\\lambda_1 = k$.\n\n**Discussion of Boundary and Failure Cases:**\nThe proof relies on the stated assumptions. When these are violated, the method's behavior changes.\n$1$. **Slow Convergence (Near-Degenerate Spectrum):** The rate of convergence is determined by the ratio $|\\lambda_2/\\lambda_1|$. If this ratio is close to $1$, the terms $(\\lambda_i/\\lambda_1)^n$ decay very slowly, requiring many iterations to achieve a given tolerance. This is demonstrated in Test Case $2$, where the eigenvalues are $\\lambda_1 = 1.0$ and $\\lambda_2 = 0.9$, giving a slow convergence rate governed by $(0.9)^n$.\n$2$. **Non-Convergence (Imprimitive/Cyclic Matrix):** If there are multiple eigenvalues with the same maximum magnitude, the assumption $|\\lambda_1|  |\\lambda_2|$ is violated. A common case is for imprimitive (cyclic) nonnegative matrices, where $\\lambda_2 = -\\lambda_1$ or, more generally, there is a set of eigenvalues on the spectral circle $|\\lambda| = \\lambda_1$. In this case, the vector iterates may enter a cycle instead of converging to a single vector. Test Case $3$ uses $B=\\begin{bmatrix} 0  1 \\\\ 1  0 \\end{bmatrix}$ with eigenvalues $\\pm 1$. The iterates $x_n$ oscillate and do not converge.\n$3$. **Convergence to Wrong Eigenpair (Orthogonal Initial Vector):** The assumption $c_1 \\neq 0$ is crucial. If the initial vector $x_0$ is orthogonal to the dominant eigenvector $v_1$, then $c_1 = 0$. The expansion of $x_0$ lacks the $v_1$ component. The power iteration will then effectively operate in the subspace spanned by $\\{v_2, \\dots, v_m\\}$ and will converge to the next dominant eigenpair, $(\\lambda_2, v_2)$, provided $|\\lambda_2|  |\\lambda_3|$ and $c_2 \\neq 0$. Test Case $4$ illustrates this with a block-diagonal matrix. The true dominant eigenvalue is $1.3$, but the initial vector is chosen to lie entirely within the invariant subspace of a different block, whose dominant eigenvalue is $0.9$. The iteration remains confined to this subspace and converges to $0.9$.\n\n**Algorithmic Design:**\nThe implementation directly translates the iterative formula. A loop runs for a maximum of $N_{\\max}$ iterations. In each iteration $n$, starting from a vector $x_n$, a new vector $y_n = B x_n$ is computed. This vector is then normalized using the $L_1$ norm to produce $x_{n+1}$. The convergence criterion $\\|x_{n+1} - x_n\\|_{\\infty}  \\epsilon$ is checked. The eigenvalue $k_n$ is estimated using the Rayleigh quotient with the vector $x_n$. If convergence is achieved, the loop terminates, returning the last computed eigenvalue estimate, the number of iterations, and a boolean flag indicating success. If the loop completes without convergence, it returns the final computed values and indicates failure.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef power_iteration(B: np.ndarray, x0: np.ndarray, epsilon: float, N_max: int):\n    \"\"\"\n    Performs power iteration to find the dominant eigenvalue and eigenvector.\n\n    Args:\n        B: The matrix operator.\n        x0: The initial vector.\n        epsilon: The convergence tolerance.\n        N_max: The maximum number of iterations.\n\n    Returns:\n        A tuple containing:\n        - The final estimate of the dominant eigenvalue.\n        - The number of iterations performed.\n        - A boolean indicating whether the iteration converged.\n    \"\"\"\n    x_prev = x0.astype(np.float64)\n    k_val = np.nan\n    converged = False\n\n    for i in range(N_max):\n        # Calculate k_n using x_n (here, x_prev represents x_n in the n-th iter)\n        # y_n = B * x_n\n        y_current = B @ x_prev\n        \n        # Rayleigh quotient: k_n = (x_n^T * B * x_n) / (x_n^T * x_n)\n        # Using y_current = B @ x_prev, this is (x_prev^T * y_current) / (x_prev^T * x_prev)\n        # This is more numerically stable than forming B * x_n again.\n        # Avoid division by zero if x_prev is zero vector\n        denom = x_prev.T @ x_prev\n        if denom == 0:\n            k_val = 0.0 # Eigenvalue is 0 if x_prev is in the nullspace of B\n            converged = True\n            return k_val, i, converged\n\n        k_val = (x_prev.T @ y_current) / denom\n        \n        # Calculate the next iterate x_{n+1}\n        # x_{n+1} = y_n / ||y_n||_1\n        norm_y = np.linalg.norm(y_current, ord=1)\n\n        # Handle case where y_current is zero vector.\n        if norm_y == 0:\n            # The matrix maps x_prev to the zero vector, implying the eigenvalue is 0.\n            # The sequence has converged.\n            k_val = 0.0\n            converged = True\n            return k_val, i + 1, converged\n\n        x_current = y_current / norm_y\n\n        # Check for convergence: ||x_{n+1} - x_n||_inf  epsilon\n        if np.linalg.norm(x_current - x_prev, ord=np.inf)  epsilon:\n            converged = True\n            return k_val, i + 1, converged\n\n        # Prepare for the next iteration\n        x_prev = x_current\n    \n    # If the loop completes, max iterations were reached without convergence\n    return k_val, N_max, converged\n\ndef solve():\n    \"\"\"\n    Executes the test suite for the power iteration problem and prints the results.\n    \"\"\"\n    test_cases = [\n        {\n            \"B\": np.array([[0.3, 1.2, 0.0], [0.4, 0.1, 0.5], [0.0, 0.8, 0.2]]),\n            \"x0\": np.array([1, 1, 1]),\n            \"epsilon\": 1e-12,\n            \"N_max\": 1000,\n            \"output_type\": \"k_float\"\n        },\n        {\n            \"B\": np.array([[0.95, 0.05], [0.05, 0.95]]),\n            \"x0\": np.array([1, 0]),\n            \"epsilon\": 1e-12,\n            \"N_max\": 10000,\n            \"output_type\": \"iters_int\"\n        },\n        {\n            \"B\": np.array([[0, 1], [1, 0]]),\n            \"x0\": np.array([1, 0]),\n            \"epsilon\": 1e-12,\n            \"N_max\": 500,\n            \"output_type\": \"conv_bool\"\n        },\n        {\n            \"B\": np.array([[1.3, 0.0, 0.0, 0.0],\n                           [0.1, 1.1, 0.0, 0.0],\n                           [0.0, 0.0, 0.9, 0.0],\n                           [0.0, 0.0, 0.0, 0.9]]),\n            \"x0\": np.array([0, 0, 1, 0]),\n            \"epsilon\": 1e-12,\n            \"N_max\": 1000,\n            \"output_type\": \"k_float\"\n        },\n    ]\n\n    results = []\n    for case in test_cases:\n        k, iters, conv = power_iteration(case[\"B\"], case[\"x0\"], case[\"epsilon\"], case[\"N_max\"])\n        \n        if case[\"output_type\"] == \"k_float\":\n            results.append(f\"{k:.6f}\")\n        elif case[\"output_type\"] == \"iters_int\":\n            results.append(str(iters))\n        elif case[\"output_type\"] == \"conv_bool\":\n            results.append(str(conv).lower())\n\n    print(f\"[{','.join(results)}]\")\n\nsolve()\n\n```"
        },
        {
            "introduction": "While the eigenvalue $k_{\\text{eff}}$ provides a precise mathematical measure of criticality, its direct physical interpretation can be enriched by defining reactivity, $\\rho$. This exercise focuses on contextualizing $\\rho$ by normalizing it against the effective delayed neutron fraction, $\\beta$, to express it in \"dollars.\" This unit is not just a convenience; it provides immediate physical intuition about the reactor's kinetic behavior and its margin to the prompt supercritical state. ",
            "id": "4244684",
            "problem": "A reactor-physics simulation of a homogeneous thermal core uses the $k$-eigenvalue formulation, where the effective multiplication factor $k_{\\mathrm{eff}}$ relates to the reactivity $\\rho$ through the definition $\\rho = (k_{\\mathrm{eff}} - 1)/k_{\\mathrm{eff}}$. The kinetics of the neutron population are governed by the point-kinetics equations with effective delayed neutron fraction $\\beta$ and mean neutron generation time, where the threshold between prompt supercritical and prompt subcritical dynamics is determined by the balance of prompt and delayed neutron production. In this simulation, an instantaneous control-rod insertion produces a reactivity $\\rho = -500$ per cent mille (pcm), and the effective delayed neutron fraction is $\\beta = 650$ pcm, values representative of a low-enrichment thermal system.\n\nUsing only foundational definitions, normalize the reactivity by the effective delayed neutron fraction to express the reactivity in dollars, and use the point-kinetics prompt/delayed balance to determine whether the post-insertion state is prompt subcritical or prompt supercritical. Express the reactivity in dollars as a dimensionless number and round your answer to four significant figures. No unit symbols should be included in your final numerical answer.",
            "solution": "The user has provided a problem from the domain of nuclear reactor physics. The first step is to validate the problem statement.\n\n### Step 1: Extract Givens\n-   Definition of reactivity: $\\rho = (k_{\\mathrm{eff}} - 1)/k_{\\mathrm{eff}}$\n-   Reactivity from instantaneous control-rod insertion: $\\rho = -500$ pcm (per cent mille)\n-   Effective delayed neutron fraction: $\\beta = 650$ pcm\n-   Definition of reactivity in dollars ($\\$$): Normalize the reactivity by the effective delayed neutron fraction.\n-   Task 1: Express the reactivity in dollars, rounded to four significant figures.\n-   Task 2: Determine if the post-insertion state is prompt subcritical or prompt supercritical.\n\n### Step 2: Validate Using Extracted Givens\n1.  **Scientifically Grounded**: The problem is based on fundamental concepts of nuclear reactor kinetics. The definition of reactivity $\\rho$, the role of the effective delayed neutron fraction $\\beta$, the use of the unit \"pcm\" ($1 \\text{ pcm} = 10^{-5}$), and the definition of reactivity in \"dollars\" are all standard and factual within this field. The provided values, $\\rho = -500$ pcm and $\\beta = 650$ pcm, are physically realistic for a low-enrichment thermal reactor, such as a Pressurized Water Reactor (PWR) or Boiling Water Reactor (BWR).\n2.  **Well-Posed**: The problem is self-contained and provides all necessary information to perform the requested calculations. The questions are specific and yield a unique, stable, and meaningful solution.\n3.  **Objective**: The language is technical, precise, and devoid of any subjective or opinion-based statements.\n\nThe problem does not violate any of the invalidity criteria. It is not scientifically unsound, non-formalizable, incomplete, contradictory, unrealistic, ill-posed, or trivial.\n\n### Step 3: Verdict and Action\nThe problem is **valid**. A solution will be provided.\n\n### Solution\nThe problem requires us to perform two tasks based on the provided data from a reactor-physics simulation. First, we must calculate the reactivity in the unit of \"dollars\". Second, we must determine whether the reactor state, after the control rod insertion, is prompt subcritical or prompt supercritical.\n\nThe unit \"per cent mille\" (pcm) is a standard unit of reactivity, defined as $1 \\text{ pcm} = 10^{-5}$. The given reactivity and effective delayed neutron fraction can be expressed as dimensionless quantities:\n-   Reactivity: $\\rho = -500 \\text{ pcm} = -500 \\times 10^{-5} = -0.005$.\n-   Effective delayed neutron fraction: $\\beta = 650 \\text{ pcm} = 650 \\times 10^{-5} = 0.0065$.\n\n**1. Calculate Reactivity in Dollars**\n\nReactivity in dollars, denoted here as $\\rho_{\\$}$, is defined as the reactivity $\\rho$ normalized by the effective delayed neutron fraction $\\beta$. This quantity provides a convenient measure of reactivity relative to the condition of prompt criticality.\nThe formula is:\n$$ \\rho_{\\$} = \\frac{\\rho}{\\beta} $$\nSubstituting the given values in pcm (the conversion factor of $10^{-5}$ cancels out, so we can use the pcm values directly):\n$$ \\rho_{\\$} = \\frac{-500 \\text{ pcm}}{650 \\text{ pcm}} = \\frac{-500}{650} $$\nSimplifying the fraction:\n$$ \\rho_{\\$} = -\\frac{50}{65} = -\\frac{10}{13} $$\nTo provide a numerical answer rounded to four significant figures, we perform the division:\n$$ \\rho_{\\$} \\approx -0.7692307... $$\nRounding to four significant figures gives:\n$$ \\rho_{\\$} \\approx -0.7692 $$\n\n**2. Determine the Reactor State (Prompt Subcritical vs. Prompt Supercritical)**\n\nThe behavior of a reactor's neutron population is dictated by the balance between prompt and delayed neutrons. The threshold between a prompt subcritical and a prompt supercritical state is the condition of \"prompt critical\". A reactor is prompt critical when the reactivity introduced is exactly equal to the effective delayed neutron fraction, i.e., $\\rho = \\beta$.\n\n-   If $\\rho  \\beta$, the reactor is **prompt subcritical**. In this condition, the chain reaction cannot be sustained by prompt neutrons alone. The reactor can still be critical or even supercritical (i.e., $k_{\\mathrm{eff}}  1$, or $\\rho  0$), but the rate of power change is governed by the much slower timescale of delayed neutron emission. This regime includes all subcritical states ($\\rho  0$) and delayed supercritical states ($0  \\rho  \\beta$).\n-   If $\\rho \\ge \\beta$, the reactor is **prompt supercritical**. In this condition, the chain reaction is self-sustaining on prompt neutrons alone, leading to a very rapid, exponential power excursion that is difficult to control.\n\nA convenient way to evaluate this condition is to use the reactivity in dollars:\n-   If $\\rho_{\\$} = \\frac{\\rho}{\\beta}  1$, the reactor is prompt subcritical.\n-   If $\\rho_{\\$} = \\frac{\\rho}{\\beta} \\ge 1$, the reactor is prompt supercritical.\n\nIn this problem, the inserted reactivity is $\\rho = -500 \\text{ pcm}$ and the effective delayed neutron fraction is $\\beta = 650 \\text{ pcm}$.\nWe can directly compare these values:\n$$ -500 \\text{ pcm}  650 \\text{ pcm} \\implies \\rho  \\beta $$\nAlternatively, using the reactivity in dollars calculated previously:\n$$ \\rho_{\\$} \\approx -0.7692 $$\nSince $\\rho_{\\$}  1$, the condition for being prompt subcritical is met. The insertion of a negative reactivity of $500$ pcm makes the reactor subcritical, and since any subcritical state is inherently prompt subcritical, the conclusion is straightforward. The post-insertion state is **prompt subcritical**.\n\nThe problem explicitly asks for the numerical value of the reactivity in dollars, rounded to four significant figures. This is the primary quantitative result.",
            "answer": "$$\n\\boxed{-0.7692}\n$$"
        },
        {
            "introduction": "This final practice synthesizes the concepts of reactivity and prompt criticality into a tangible engineering safety analysis. You will translate the fundamental safety limit, $\\rho \\lt \\beta$, into an operational constraint on a physical component: a control rod. By determining the maximum allowable differential worth for a control rod, you will directly connect the abstract theory of reactor kinetics to a practical design parameter that is essential for ensuring safe reactor operation. ",
            "id": "4244696",
            "problem": "A thermal power reactor is operating at steady-state critical conditions with an effective multiplication factor $k_{\\mathrm{eff}}=1$ and reactivity $ \\rho = 0$. The effective delayed neutron fraction is measured as $\\beta = 0.0065$. Consider a single, strong control rod that is partially inserted within the active core region. During a maintenance test, the rod is commanded to undergo a rapid upward withdrawal over a planned stroke of $\\Delta x = 0.30\\,\\mathrm{m}$ entirely within the neutronically active region. Over this stroke, the local rod-induced reactivity change is well-approximated as linear with position, so the incremental reactivity insertion can be modeled by a constant differential worth $w'$, defined as $w' = d\\rho/dx$.\n\nAssume the withdrawal is fast compared to the characteristic lifetimes of delayed neutron precursors, so that the reactivity insertion can be treated as effectively step-like over the precursor timescale. Under this assumption, prompt criticality is the limiting condition for safety, and the design requirement is that the instantaneous reactivity at any time during the withdrawal must not exceed the threshold that would induce prompt supercritical behavior.\n\nUsing the standard point kinetics framework and the eigenvalue-based definition of reactivity, derive the quantitative criterion that constrains $w'$ so that prompt criticality is avoided during the entire stroke $\\Delta x$. Then, for the given parameters, compute the maximum allowable differential worth $w'_{\\mathrm{max}}$.\n\nExpress your final result in units of $\\mathrm{pcm}/\\mathrm{cm}$, where $1\\,\\mathrm{pcm} = 10^{-5}$ in $\\Delta k/k$. Round your final numerical answer to four significant figures.",
            "solution": "The user wants me to solve a problem in nuclear reactor physics, specifically concerning the safety limits on control rod withdrawal.\n\n### Step 1: Extract Givens\n- Initial state: Steady-state critical, $k_{\\mathrm{eff}}=1$, $\\rho = 0$.\n- Effective delayed neutron fraction: $\\beta = 0.0065$.\n- Control rod withdrawal stroke: $\\Delta x = 0.30\\,\\mathrm{m}$.\n- Reactivity change model: Linear with position, characterized by a constant differential worth $w' = d\\rho/dx$.\n- Withdrawal speed: Fast compared to delayed neutron precursor lifetimes, allowing reactivity insertion to be treated as a step-like change.\n- Safety constraint: Avoid prompt criticality, meaning the instantaneous reactivity must not reach the prompt criticality threshold.\n\n### Step 2: Validate Using Extracted Givens\n- **Scientific Grounding**: The problem is well-grounded in the principles of nuclear reactor kinetics. It utilizes standard, well-defined concepts such as reactivity ($\\rho$), the effective multiplication factor ($k_{\\mathrm{eff}}$), the effective delayed neutron fraction ($\\beta$), control rod differential worth ($w'$), and the condition for prompt criticality. The point kinetics model and the assumptions made (linear worth, rapid withdrawal) are standard simplifications in reactor safety analysis.\n- **Well-Posedness**: The problem is well-posed. It provides all necessary parameters ($\\beta$, $\\Delta x$) and a clear physical model ($w' = \\mathrm{constant}$) to derive a unique quantitative constraint on $w'$. The objective is explicitly stated.\n- **Objectivity**: The problem is stated in precise, objective, and technical language. There are no subjective elements.\n\n### Step 3: Verdict and Action\nThe problem is scientifically sound, well-posed, and objective. It is deemed **valid**. I will proceed with the solution.\n\n### Solution Derivation\nThe problem requires deriving a constraint on the differential control rod worth, $w'$, to ensure the reactor does not become prompt critical during a rapid rod withdrawal.\n\nIn reactor physics, reactivity, $\\rho$, is defined in terms of the effective multiplication factor, $k_{\\mathrm{eff}}$, as:\n$$\n\\rho = \\frac{k_{\\mathrm{eff}} - 1}{k_{\\mathrm{eff}}}\n$$\nA reactor is exactly critical when $k_{\\mathrm{eff}} = 1$ and $\\rho = 0$.\n\nNeutrons are produced from fission in two categories: prompt neutrons and delayed neutrons. The fraction of fission neutrons that are delayed is given by the effective delayed neutron fraction, $\\beta$. The condition for the reactor to be critical on prompt neutrons alone is known as prompt criticality. This occurs when the reactivity inserted into the core is equal to or greater than the delayed neutron fraction. The physical condition for prompt criticality is that the prompt neutron multiplication factor, $k_p = k_{\\mathrm{eff}}(1-\\beta)$, becomes greater than or equal to $1$.\n$$\nk_{\\mathrm{eff}}(1-\\beta) \\ge 1\n$$\n$$\nk_{\\mathrm{eff}} - k_{\\mathrm{eff}}\\beta \\ge 1\n$$\n$$\nk_{\\mathrm{eff}} - 1 \\ge k_{\\mathrm{eff}}\\beta\n$$\nDividing by $k_{\\mathrm{eff}}$ (which is close to $1$) gives the condition in terms of reactivity:\n$$\n\\frac{k_{\\mathrm{eff}} - 1}{k_{\\mathrm{eff}}} \\ge \\beta\n$$\n$$\n\\rho \\ge \\beta\n$$\nThe safety requirement is to avoid prompt criticality. This means the total positive reactivity in the core, $\\rho(t)$, must remain strictly less than $\\beta$ at all times.\n$$\n\\rho(t)  \\beta\n$$\nThe problem states that a control rod is withdrawn from a steady-state critical core ($\\rho=0$ at the start). The reactivity added by withdrawing the rod a distance $x$ is given by the integral of the differential worth, $w'$. Since $w' = d\\rho/dx$ is assumed constant over the stroke, the reactivity inserted for a withdrawal of distance $x$ is:\n$$\n\\rho(x) = \\int_0^x w' \\,d\\xi = w'x\n$$\nThis assumes the initial reactivity at $x=0$ is zero. The rod is withdrawn over a total stroke of $\\Delta x$. During this process, the rod position $x$ varies from $0$ to $\\Delta x$. The reactivity is a monotonically increasing function of $x$ (since withdrawing a control rod adds positive reactivity, $w'  0$). Therefore, the maximum reactivity is inserted at the end of the full stroke, where $x = \\Delta x$.\n$$\n\\rho_{\\mathrm{max}} = \\rho(\\Delta x) = w' \\Delta x\n$$\nTo satisfy the safety criterion for the entire withdrawal process, the maximum inserted reactivity must be less than $\\beta$.\n$$\n\\rho_{\\mathrm{max}}  \\beta\n$$\nSubstituting the expression for $\\rho_{\\mathrm{max}}$, we obtain the quantitative criterion that constrains $w'$:\n$$\nw' \\Delta x  \\beta\n$$\nThis leads to the constraint on the differential worth:\n$$\nw'  \\frac{\\beta}{\\Delta x}\n$$\nThe maximum allowable differential worth, $w'_{\\mathrm{max}}$, is the value that brings the reactor to the brink of prompt criticality at the end of the stroke.\n$$\nw'_{\\mathrm{max}} = \\frac{\\beta}{\\Delta x}\n$$\nNow, we can compute the numerical value for $w'_{\\mathrm{max}}$ using the given parameters.\nGiven:\n- $\\beta = 0.0065$ (dimensionless, in units of $\\Delta k/k$)\n- $\\Delta x = 0.30\\,\\mathrm{m}$\n\nThe final answer must be in units of $\\mathrm{pcm}/\\mathrm{cm}$. We must perform unit conversions.\nFirst, convert the stroke length $\\Delta x$ to centimeters:\n$$\n\\Delta x = 0.30\\,\\mathrm{m} \\times \\frac{100\\,\\mathrm{cm}}{1\\,\\mathrm{m}} = 30\\,\\mathrm{cm}\n$$\nNext, calculate $w'_{\\mathrm{max}}$ in its natural units of $(\\Delta k/k)/\\mathrm{cm}$:\n$$\nw'_{\\mathrm{max}} = \\frac{0.0065}{30\\,\\mathrm{cm}} \\approx 0.00021666... \\frac{\\Delta k/k}{\\mathrm{cm}}\n$$\nThe unit `pcm` (per cent mille) represents a reactivity of $10^{-5}$.\n$$\n1\\,\\mathrm{pcm} = 10^{-5} \\, (\\Delta k/k)\n$$\nTo convert from a value in $\\Delta k/k$ to pcm, we multiply by $10^5$.\n$$\nw'_{\\mathrm{max}} \\left[ \\frac{\\mathrm{pcm}}{\\mathrm{cm}} \\right] = w'_{\\mathrm{max}} \\left[ \\frac{\\Delta k/k}{\\mathrm{cm}} \\right] \\times 10^5\n$$\n$$\nw'_{\\mathrm{max}} = \\left( \\frac{0.0065}{30} \\right) \\times 10^5 \\, \\frac{\\mathrm{pcm}}{\\mathrm{cm}}\n$$\n$$\nw'_{\\mathrm{max}} = \\frac{650}{30} \\, \\frac{\\mathrm{pcm}}{\\mathrm{cm}} = \\frac{65}{3} \\, \\frac{\\mathrm{pcm}}{\\mathrm{cm}}\n$$\n$$\nw'_{\\mathrm{max}} \\approx 21.6666... \\, \\frac{\\mathrm{pcm}}{\\mathrm{cm}}\n$$\nThe problem requires rounding the final answer to four significant figures.\n$$\nw'_{\\mathrm{max}} \\approx 21.67 \\, \\frac{\\mathrm{pcm}}{\\mathrm{cm}}\n$$\nThis is the maximum allowable differential rod worth to ensure the reactor does not become prompt critical during the specified rod withdrawal.",
            "answer": "$$\n\\boxed{21.67}\n$$"
        }
    ]
}