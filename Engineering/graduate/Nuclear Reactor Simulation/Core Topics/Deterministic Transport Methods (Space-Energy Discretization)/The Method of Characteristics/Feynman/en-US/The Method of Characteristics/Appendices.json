{
    "hands_on_practices": [
        {
            "introduction": "The Method of Characteristics is built upon the principle of integrating the transport equation along straight-line paths, or characteristics. A crucial step in this process is calculating the optical thickness, $\\tau$, which represents the cumulative probability of interaction along a ray's journey. This exercise () provides fundamental practice in ray tracing and calculating $\\tau$ across a heterogeneous domain, a foundational skill for implementing MOC.",
            "id": "4255876",
            "problem": "A two-dimensional rectangular domain used in steady-state, monoenergetic neutron transport modeling with the Method of Characteristics (MOC) spans $x \\in [0, 4] \\ \\mathrm{cm}$ and $y \\in [0, 3] \\ \\mathrm{cm}$. The domain is partitioned into two materials by a vertical interface at $x = 1.25 \\ \\mathrm{cm}$. The material in the region $x < 1.25 \\ \\mathrm{cm}$ has total macroscopic cross section $\\Sigma_{t,1} = 0.8 \\ \\mathrm{cm}^{-1}$, and the material in the region $x \\ge 1.25 \\ \\mathrm{cm}$ has total macroscopic cross section $\\Sigma_{t,2} = 2.2 \\ \\mathrm{cm}^{-1}$.\n\nConsider a single characteristic ray entering the domain at the left boundary point $(x_0, y_0) = (0, 0.6) \\ \\mathrm{cm}$ with a normalized direction vector $\\boldsymbol{\\Omega} = \\left( \\frac{3}{5}, \\frac{4}{5} \\right)$. The ray continues until it exits the domain.\n\nUsing the steady-state, monoenergetic Linear Boltzmann Equation (LBE) projected along a characteristic and the definition of optical thickness as the path integral of the total macroscopic cross section along the ray, determine the total optical thickness accumulated by this ray from entry to exit. Assume piecewise-homogeneous materials and that the ray intersects the material interface and then exits at a boundary without reflection or scattering-induced path changes.\n\nExpress your final answer as a dimensionless value and round your result to five significant figures.",
            "solution": "The problem requires the calculation of the total optical thickness accumulated by a neutron ray as it traverses a two-dimensional, two-material domain. The optical thickness, $\\tau$, is defined as the path integral of the total macroscopic cross section, $\\Sigma_t$, along the characteristic path of the ray. For a path parameterized by length $s$, this is given by:\n$$\n\\tau = \\int_{path} \\Sigma_t(\\mathbf{r}(s)) \\, ds\n$$\nwhere $\\mathbf{r}(s)$ is the position vector along the ray's path.\n\nFirst, we establish the parametric equation for the ray's path. The ray enters at the initial point $\\mathbf{r}_0 = (x_0, y_0) = (0, 0.6) \\ \\mathrm{cm}$ and travels in the direction of the normalized vector $\\boldsymbol{\\Omega} = (\\Omega_x, \\Omega_y) = \\left( \\frac{3}{5}, \\frac{4}{5} \\right)$. The position vector $\\mathbf{r}(s) = (x(s), y(s))$ at a path length $s$ from the entry point is given by:\n$$\n\\mathbf{r}(s) = \\mathbf{r}_0 + s \\boldsymbol{\\Omega}\n$$\nThe component-wise equations are:\n$$\nx(s) = x_0 + s \\Omega_x = 0 + s \\left(\\frac{3}{5}\\right) = \\frac{3}{5}s\n$$\n$$\ny(s) = y_0 + s \\Omega_y = 0.6 + s \\left(\\frac{4}{5}\\right) = \\frac{3}{5} + \\frac{4}{5}s\n$$\nThe domain is a rectangle defined by $x \\in [0, 4]$ and $y \\in [0, 3]$. It is divided into two material regions by a vertical interface at $x_I = 1.25 \\ \\mathrm{cm}$.\nRegion 1: $0 \\le x < 1.25 \\ \\mathrm{cm}$, with total cross section $\\Sigma_{t,1} = 0.8 \\ \\mathrm{cm}^{-1}$.\nRegion 2: $1.25 \\le x \\le 4 \\ \\mathrm{cm}$, with total cross section $\\Sigma_{t,2} = 2.2 \\ \\mathrm{cm}^{-1}$.\n\nSince the cross sections are piecewise-constant, the integral for the optical thickness can be split into a sum over the segments of the path in each material region:\n$$\n\\tau = \\tau_1 + \\tau_2 = \\Sigma_{t,1} \\Delta s_1 + \\Sigma_{t,2} \\Delta s_2\n$$\nwhere $\\Delta s_1$ and $\\Delta s_2$ are the path lengths in Region 1 and Region 2, respectively.\n\nWe must determine the path of the ray by finding its intersection points with the material interface and the domain boundaries.\n\n1.  Find the intersection with the material interface at $x_I = 1.25 \\ \\mathrm{cm}$.\n    Let $s_1$ be the path length from the entry point to the interface. We set $x(s_1) = 1.25$:\n    $$\n    \\frac{3}{5}s_1 = 1.25 = \\frac{5}{4}\n    $$\n    Solving for $s_1$:\n    $$\n    s_1 = \\frac{5}{4} \\times \\frac{5}{3} = \\frac{25}{12} \\ \\mathrm{cm}\n    $$\n    The path length in Region 1 is $\\Delta s_1 = s_1 - 0 = \\frac{25}{12} \\ \\mathrm{cm}$. We check the $y$-coordinate at this point to ensure the intersection occurs within the domain's vertical bounds $[0, 3]$:\n    $$\n    y(s_1) = \\frac{3}{5} + \\frac{4}{5}s_1 = \\frac{3}{5} + \\frac{4}{5}\\left(\\frac{25}{12}\\right) = \\frac{3}{5} + \\frac{5}{3} = \\frac{9+25}{15} = \\frac{34}{15} \\ \\mathrm{cm}\n    $$\n    Since $0 \\le \\frac{34}{15} \\approx 2.267 \\le 3$, the ray intersects the material interface within the domain.\n\n2.  Find the exit point from the domain.\n    After crossing the interface, the ray is in Region 2. Since both components of $\\boldsymbol{\\Omega}$ are positive, the ray will exit either at the top boundary ($y=3$) or the right boundary ($x=4$). Let $s_{exit}$ be the total path length from entry to exit. We find the path length required to reach each boundary and take the minimum.\n    Path length to reach the top boundary ($y=3$):\n    $$\n    y(s_{exit}) = 3 \\implies \\frac{3}{5} + \\frac{4}{5}s_{exit} = 3 \\implies \\frac{4}{5}s_{exit} = 3 - \\frac{3}{5} = \\frac{12}{5} \\implies s_{exit} = \\frac{12}{5} \\times \\frac{5}{4} = 3 \\ \\mathrm{cm}\n    $$\n    Path length to reach the right boundary ($x=4$):\n    $$\n    x(s_{exit}) = 4 \\implies \\frac{3}{5}s_{exit} = 4 \\implies s_{exit} = \\frac{20}{3} \\approx 6.67 \\ \\mathrm{cm}\n    $$\n    Comparing the two path lengths, the smaller value corresponds to the actual exit event. Since $3 < \\frac{20}{3}$, the ray exits at the top boundary $y=3$. The total path length inside the domain is $L = 3 \\ \\mathrm{cm}$. The exit point is $(x(3), y(3)) = (\\frac{3}{5}(3), 3) = (1.8, 3)$, which is on the boundary.\n\n3.  Calculate the path length in Region 2.\n    The ray enters Region 2 at path length $s_1 = \\frac{25}{12} \\ \\mathrm{cm}$ and exits the domain at path length $L = 3 \\ \\mathrm{cm}$. The path length in Region 2 is:\n    $$\n    \\Delta s_2 = L - s_1 = 3 - \\frac{25}{12} = \\frac{36-25}{12} = \\frac{11}{12} \\ \\mathrm{cm}\n    $$\n\n4.  Calculate the total optical thickness.\n    Now we can sum the optical thicknesses from both segments:\n    $$\n    \\tau = \\Sigma_{t,1} \\Delta s_1 + \\Sigma_{t,2} \\Delta s_2\n    $$\n    Substituting the given values and calculated path lengths:\n    $$\n    \\tau = (0.8 \\ \\mathrm{cm}^{-1}) \\left(\\frac{25}{12} \\ \\mathrm{cm}\\right) + (2.2 \\ \\mathrm{cm}^{-1}) \\left(\\frac{11}{12} \\ \\mathrm{cm}\\right)\n    $$\n    Using fractional representation for the cross sections, $\\Sigma_{t,1} = \\frac{4}{5}$ and $\\Sigma_{t,2} = \\frac{22}{10} = \\frac{11}{5}$:\n    $$\n    \\tau = \\left(\\frac{4}{5}\\right) \\left(\\frac{25}{12}\\right) + \\left(\\frac{11}{5}\\right) \\left(\\frac{11}{12}\\right)\n    $$\n    $$\n    \\tau = \\frac{100}{60} + \\frac{121}{60} = \\frac{221}{60}\n    $$\n    The total optical thickness is a dimensionless quantity. Converting the fraction to a decimal:\n    $$\n    \\tau = \\frac{221}{60} \\approx 3.683333...\n    $$\n    The problem asks for the result to be rounded to five significant figures.\n    $$\n    \\tau \\approx 3.6833\n    $$",
            "answer": "$$\n\\boxed{3.6833}\n$$"
        },
        {
            "introduction": "Because the scattering source depends on the neutron flux itself, the transport equation is typically solved iteratively. This exercise () explores the convergence of the widely used Source Iteration (SI) method. By applying a fundamental result from transport theory, you will connect the material properties of the system—specifically, the scattering ratio—to the computational effort required to achieve a converged solution.",
            "id": "4255835",
            "problem": "Consider a one-speed, steady-state neutron transport problem in a one-dimensional slab with vacuum boundaries at the two ends, solved using the Method of Characteristics (MOC). The slab consists of two contiguous homogeneous regions, denoted as region 1 and region 2. The neutron angular flux is denoted by $\\psi(\\mathbf{r}, \\mathbf{\\Omega})$, the scalar flux by $\\phi(\\mathbf{r}) = \\int_{4\\pi} \\psi(\\mathbf{r}, \\mathbf{\\Omega}) \\,\\mathrm{d}\\Omega$, and the total and scattering macroscopic cross sections in region $i \\in \\{1,2\\}$ by $\\Sigma_{t,i}$ and $\\Sigma_{s,i}$, respectively. Assume isotropic scattering and no fission. The vacuum boundary condition implies that any characteristic exiting the domain carries zero incoming flux. The problem is discretized with straight characteristic tracks and flat sources per region consistent with the Method of Characteristics (MOC).\n\nThe material properties are:\n- Region 1: $\\Sigma_{t,1} = 1.2\\,\\mathrm{cm}^{-1}$, $\\Sigma_{s,1} = 1.08\\,\\mathrm{cm}^{-1}$.\n- Region 2: $\\Sigma_{t,2} = 0.8\\,\\mathrm{cm}^{-1}$, $\\Sigma_{s,2} = 0.56\\,\\mathrm{cm}^{-1}$.\n\nDefine the scattering ratio in region $i$ as $c_i = \\Sigma_{s,i}/\\Sigma_{t,i}$. Suppose Source Iteration (SI) is employed to converge the within-group scattering source, and let $R^{(m)}$ denote the $L^{\\infty}$-norm of the residual in the scattering source at iteration $m$, starting from a zero-flux initial guess so that $R^{(0)}$ equals the $L^{\\infty}$-norm of the initial scattering source driven by external fixed sources (normalize this initial residual to $R^{(0)} = 1$ for the purpose of estimating convergence).\n\nUsing a spectral radius estimate derived from the fundamental properties of the transport sweep and scattering operators under vacuum boundary conditions, determine the minimum number of source iterations $n$ required to ensure $R^{(n)} < \\varepsilon$ with tolerance $\\varepsilon = 10^{-8}$. Express the final answer as a single integer. No rounding by significant figures is needed because the iteration count is inherently an integer.",
            "solution": "The problem asks for the minimum number of Source Iterations (SI) required to reduce the residual of the scattering source to a given tolerance. The convergence rate of the SI method is determined by the spectral radius of the iteration operator.\n\nThe one-speed, steady-state neutron transport equation in a non-fissioning medium with isotropic scattering and a fixed external source $Q(\\mathbf{r})$ is given by:\n$$ \\mathbf{\\Omega} \\cdot \\nabla \\psi(\\mathbf{r}, \\mathbf{\\Omega}) + \\Sigma_t(\\mathbf{r}) \\psi(\\mathbf{r}, \\mathbf{\\Omega}) = \\frac{\\Sigma_s(\\mathbf{r})}{4\\pi} \\phi(\\mathbf{r}) + \\frac{Q(\\mathbf{r})}{4\\pi} $$\nwhere $\\psi(\\mathbf{r}, \\mathbf{\\Omega})$ is the angular neutron flux, $\\phi(\\mathbf{r})$ is the scalar neutron flux, $\\Sigma_t(\\mathbf{r})$ is the total macroscopic cross section, and $\\Sigma_s(\\mathbf{r})$ is the scattering macroscopic cross section.\n\nThe Source Iteration method solves this equation iteratively. Let $m$ be the iteration index. The scheme is defined as:\n$$ \\mathbf{\\Omega} \\cdot \\nabla \\psi^{(m+1)}(\\mathbf{r}, \\mathbf{\\Omega}) + \\Sigma_t(\\mathbf{r}) \\psi^{(m+1)}(\\mathbf{r}, \\mathbf{\\Omega}) = \\frac{\\Sigma_s(\\mathbf{r})}{4\\pi} \\phi^{(m)}(\\mathbf{r}) + \\frac{Q(\\mathbf{r})}{4\\pi} $$\nwhere $\\phi^{(m)}(\\mathbf{r})$ is the scalar flux from the previous iteration. By integrating over the solid angle $\\mathbf{\\Omega}$, we can express the iteration in terms of an operator $\\mathcal{L}$ acting on the scalar flux:\n$$ \\phi^{(m+1)} = \\mathcal{L} \\phi^{(m)} + S_Q $$\nwhere the iteration operator $\\mathcal{L}$ represents the action of a transport sweep on the scattering source generated by the previous flux iterate, and $S_Q$ is the flux resulting from the external source $Q$.\n\nThe asymptotic convergence rate of this iterative process is governed by the spectral radius, $\\rho(\\mathcal{L})$, of the iteration operator $\\mathcal{L}$. The norm of the residual (or error) at iteration $m$, denoted $R^{(m)}$, decreases according to the relation:\n$$ R^{(m)} \\approx [\\rho(\\mathcal{L})]^m R^{(0)} $$\nFor the steady-state, one-speed transport equation with no fission and vacuum boundary conditions, a fundamental result from transport theory states that the spectral radius of the SI operator is equal to the supremum of the scattering ratio, $c(\\mathbf{r})$, over the problem domain.\nThe scattering ratio is defined as:\n$$ c(\\mathbf{r}) = \\frac{\\Sigma_s(\\mathbf{r})}{\\Sigma_t(\\mathbf{r})} $$\nTherefore, the spectral radius is given by:\n$$ \\rho(\\mathcal{L}) = \\sup_{\\mathbf{r}} c(\\mathbf{r}) $$\nThe problem describes a domain with two homogeneous regions. The scattering ratio is constant within each region. We must calculate the scattering ratio for each region and find the maximum.\n\nFor region $1$:\nThe given cross sections are $\\Sigma_{t,1} = 1.2\\,\\mathrm{cm}^{-1}$ and $\\Sigma_{s,1} = 1.08\\,\\mathrm{cm}^{-1}$.\nThe scattering ratio $c_1$ is:\n$$ c_1 = \\frac{\\Sigma_{s,1}}{\\Sigma_{t,1}} = \\frac{1.08}{1.2} = 0.9 $$\n\nFor region $2$:\nThe given cross sections are $\\Sigma_{t,2} = 0.8\\,\\mathrm{cm}^{-1}$ and $\\Sigma_{s,2} = 0.56\\,\\mathrm{cm}^{-1}$.\nThe scattering ratio $c_2$ is:\n$$ c_2 = \\frac{\\Sigma_{s,2}}{\\Sigma_{t,2}} = \\frac{0.56}{0.8} = 0.7 $$\n\nThe spectral radius for the entire system is the maximum of these values:\n$$ \\rho(\\mathcal{L}) = \\max(c_1, c_2) = \\max(0.9, 0.7) = 0.9 $$\nThis value, $\\rho(\\mathcal{L}) = 0.9$, is the factor by which the residual is reduced in each iteration.\n\nWe need to find the minimum number of iterations, $n$, such that the residual $R^{(n)}$ is less than a tolerance $\\varepsilon = 10^{-8}$. We are given that the initial residual is normalized to $R^{(0)} = 1$. The condition is:\n$$ R^{(n)} < \\varepsilon $$\nUsing the convergence relation:\n$$ [\\rho(\\mathcal{L})]^n R^{(0)} < \\varepsilon $$\nSubstituting the known values $\\rho(\\mathcal{L})=0.9$, $R^{(0)}=1$, and $\\varepsilon=10^{-8}$:\n$$ (0.9)^n \\cdot 1 < 10^{-8} $$\nTo solve for $n$, we take the natural logarithm of both sides of the inequality:\n$$ \\ln\\left((0.9)^n\\right) < \\ln(10^{-8}) $$\n$$ n \\ln(0.9) < -8 \\ln(10) $$\nSince $\\ln(0.9)$ is a negative number ($0.9 < 1$), we must reverse the inequality sign when dividing by it:\n$$ n > \\frac{-8 \\ln(10)}{\\ln(0.9)} $$\nNow we evaluate this expression numerically:\n$$ n > \\frac{-8 \\times 2.302585...}{-0.105360...} \\approx \\frac{18.42068}{0.105360} \\approx 174.8356 $$\nSince the number of iterations $n$ must be an integer, we must find the smallest integer that is strictly greater than $174.8356$.\n$$ n = \\lceil 174.8356 \\rceil = 175 $$\nThus, a minimum of $175$ iterations are required to achieve the desired tolerance.",
            "answer": "$$\\boxed{175}$$"
        },
        {
            "introduction": "One of the main strengths of the Method of Characteristics is its flexibility in handling complex geometries, like the cylindrical fuel pins found in nuclear reactors. However, this often requires approximating curved surfaces with polygonal segments, which introduces a geometric discretization error. This coding practice () allows you to investigate this important trade-off by quantifying how such approximations affect calculated reaction rates, a critical aspect of validating any MOC simulation.",
            "id": "4255848",
            "problem": "Consider the two-dimensional, steady-state, one-speed neutron transport equation with an isotropic internal source in a homogeneous cladding region of a pin cell. The cladding is modeled as an annulus with inner radius $r_i$ and outer radius $r_o$, with spatially uniform total macroscopic cross section $\\Sigma_t$ and absorption macroscopic cross section $\\Sigma_a$. The internal isotropic source density is $q$ (neutrons per cubic centimeter per second). We focus on the Method of Characteristics (MOC), defined here as the integration of the transport equation along straight-line trajectories (characteristics) through homogeneous regions.\n\nAssume a flat source approximation within the homogeneous cladding region and that leakage terms arising from external boundaries are negligible at leading order for the volume-averaged flux, so that the first-order impact of small geometric perturbations to the region boundary primarily enters through changes in the region’s measure (area in two dimensions, per unit axial length). Under these assumptions, the reaction rate tally in the cladding region can be approximated to first order by the product of the region’s area, the region-averaged scalar flux, and $\\Sigma_a$.\n\nTo study geometric discretization error introduced by straight-line boundary approximations in MOC, replace the inner and outer circular boundaries by regular polygons with $N$ equally spaced vertices. Consider two approximation strategies:\n- Inscribed strategy: both the inner and the outer boundary circles are approximated by regular polygons whose vertices lie on the circles.\n- Circumscribed strategy: both the inner and the outer boundary circles are approximated by regular polygons that circumscribe the circles (i.e., the circles are tangent to the polygon sides).\n\nAngles for any trigonometric relations shall be treated in radians. All lengths are in centimeters, cross sections in inverse centimeters, and the source density in neutrons per cubic centimeter per second. The reaction rate shall be expressed in reactions per second per unit axial length (centimeter).\n\nTask:\n- Starting from fundamental transport theory and the characteristic form of the transport equation, derive a first-order estimate of the change in the cladding reaction rate tally due to boundary discretization by regular polygons with $N$ sides. Use only the assumption that the volume-averaged scalar flux in the homogeneous region under a flat source approximation is proportional to $q/\\Sigma_t$ at leading order, and that the leading-order impact of geometry replacement enters linearly through the region’s area.\n- Implement a program that, for each test case, computes:\n  1. The absolute error in the reaction rate tally for the inscribed approximation, $\\Delta R_{\\text{in}}$.\n  2. The absolute error in the reaction rate tally for the circumscribed approximation, $\\Delta R_{\\text{out}}$.\n  3. The relative error in the reaction rate tally for the inscribed approximation, defined as a decimal fraction $\\Delta R_{\\text{in}} / R_{\\text{circle}}$.\n  4. The relative error in the reaction rate tally for the circumscribed approximation, defined as a decimal fraction $\\Delta R_{\\text{out}} / R_{\\text{circle}}$.\n  \nHere $R_{\\text{circle}}$ is the reaction rate tally when the cladding is modeled by the exact circular annulus with inner radius $r_i$ and outer radius $r_o$.\n\nTest suite:\nProvide results for the following parameter sets $(r_i, r_o, \\Sigma_t, \\Sigma_a, q, N)$:\n- Case A: $(0.40, 0.45, 3.0, 0.3, 1.5, 16)$.\n- Case B: $(0.40, 0.45, 3.0, 0.3, 1.5, 64)$.\n- Case C (thin cladding): $(0.495, 0.50, 3.0, 0.3, 1.5, 8)$.\n- Case D (coarse polygon): $(0.40, 0.45, 3.0, 0.3, 1.5, 3)$.\n- Case E (thick cladding, strong attenuation): $(0.20, 0.50, 10.0, 0.9, 4.0, 32)$.\n\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, where each test case result is a four-item list in the order $[\\Delta R_{\\text{in}}, \\Delta R_{\\text{out}}, \\Delta R_{\\text{in}} / R_{\\text{circle}}, \\Delta R_{\\text{out}} / R_{\\text{circle}}]$. All absolute errors must be in reactions per second per unit axial length, and all relative errors must be decimal fractions. For example, the overall format is $[[r_{1,1}, r_{1,2}, r_{1,3}, r_{1,4}],[r_{2,1}, r_{2,2}, r_{2,3}, r_{2,4}],\\dots]$.\n\nNo intermediate formulas are provided in the problem statement; your derivation must start from the transport equation and the characteristic solution structure, then proceed to the geometric relations required to quantify the area differences between circular and polygonal annuli.",
            "solution": "The problem is valid. It is scientifically grounded in the principles of neutron transport theory, well-posed, objective, and contains all necessary information and assumptions to derive a unique solution. The core of the problem involves applying a set of specified simplifications to the transport equation to estimate the geometric discretization error in the Method of Characteristics (MOC).\n\nThe task is to derive a first-order estimate for the change in the cladding absorption reaction rate when its circular boundaries are approximated by regular polygons with $N$ sides. This derivation must begin from fundamental principles of transport theory.\n\nThe total reaction rate, $R$, for a given reaction type in a two-dimensional region with area $A$ is defined as the integral of the product of the macroscopic cross section $\\Sigma_x(\\vec{r})$ and the scalar neutron flux $\\phi(\\vec{r})$ over the area:\n$$\nR = \\int_A \\Sigma_x(\\vec{r}) \\phi(\\vec{r}) dA\n$$\nFor this problem, we are interested in the absorption reaction rate in the cladding, so the relevant cross section is the absorption cross section, $\\Sigma_a$. The cladding is a homogeneous region, meaning $\\Sigma_a$ is spatially constant. The expression for the reaction rate simplifies to:\n$$\nR = \\Sigma_a \\int_A \\phi(\\vec{r}) dA\n$$\nWe introduce the region-averaged scalar flux, $\\bar{\\phi}$, defined as:\n$$\n\\bar{\\phi} = \\frac{1}{A} \\int_A \\phi(\\vec{r}) dA\n$$\nSubstituting this definition into the expression for $R$ yields a simple relationship between the reaction rate, material properties, geometry, and the average flux:\n$$\nR = \\Sigma_a \\bar{\\phi} A\n$$\nThe problem states that for a first-order estimate of the error, the impact of the geometric perturbation (replacing the circular boundary with a polygon) enters primarily through the change in the region's area, $A$. This implies that the average scalar flux, $\\bar{\\phi}$, can be treated as approximately constant for both the exact and the discretized geometries.\n\nTo quantify $R$, we need an estimate for $\\bar{\\phi}$. The problem provides the crucial assumption that the volume-averaged scalar flux is, at leading order, proportional to $q/\\Sigma_t$: $\\bar{\\phi} \\propto q/\\Sigma_t$. We take this as a given physical model for the problem, which is a plausible simplification in transport problems where the mean free path, $1/\\Sigma_t$, sets the spatial scale for flux attenuation. The simplest form of this proportionality, which we will adopt, is an equality:\n$$\n\\bar{\\phi} \\approx \\frac{q}{\\Sigma_t}\n$$\nwhere $q$ is the uniform internal source density and $\\Sigma_t$ is the total cross section. Substituting this approximation for $\\bar{\\phi}$ into our equation for $R$, we obtain the first-order estimate for the reaction rate in a region of area $A$:\n$$\nR \\approx \\frac{q \\Sigma_a}{\\Sigma_t} A\n$$\nThis model connects the reaction rate directly to the area of the region. The absolute error, $\\Delta R$, in the reaction rate due to replacing the exact circular annulus geometry ($A_{\\text{circle}}$) with a polygonal approximation ($A_{\\text{poly}}$) is thus:\n$$\n\\Delta R = R_{\\text{poly}} - R_{\\text{circle}} = \\frac{q \\Sigma_a}{\\Sigma_t} (A_{\\text{poly}} - A_{\\text{circle}}) = \\frac{q \\Sigma_a}{\\Sigma_t} \\Delta A\n$$\nThe relative error is defined with respect to the exact reaction rate, $R_{\\text{circle}}$:\n$$\n\\frac{\\Delta R}{R_{\\text{circle}}} = \\frac{\\frac{q \\Sigma_a}{\\Sigma_t} \\Delta A}{\\frac{q \\Sigma_a}{\\Sigma_t} A_{\\text{circle}}} = \\frac{\\Delta A}{A_{\\text{circle}}}\n$$\nThe problem now reduces to calculating the areas of the exact and approximated annuli.\n\nFirst, the area of the exact circular annulus with inner radius $r_i$ and outer radius $r_o$ is:\n$$\nA_{\\text{circle}} = \\pi r_o^2 - \\pi r_i^2 = \\pi (r_o^2 - r_i^2)\n$$\nNext, we determine the area of a regular $N$-sided polygon as a function of the radius $r$ of a related circle.\nFor the inscribed strategy, the polygon's $N$ vertices lie on a circle of radius $r$. The polygon can be decomposed into $N$ identical isosceles triangles, each with two sides of length $r$ and an included angle of $2\\pi/N$. The area of one such triangle is $\\frac{1}{2}r^2\\sin(2\\pi/N)$. The total area of the inscribed polygon is:\n$$\nA_{\\text{insc}}(r, N) = \\frac{N}{2} r^2 \\sin\\left(\\frac{2\\pi}{N}\\right)\n$$\nFor the circumscribed strategy, the $N$ sides of the polygon are tangent to a circle of radius $r$. The polygon can be decomposed into $N$ identical isosceles triangles where the radius $r$ is the apothem. The angle at the center for each triangle is $2\\pi/N$. Splitting this into two right-angled triangles, the angle at the center is $\\pi/N$. The side opposite this angle is half the polygon's side length, and the side adjacent is the apothem $r$. Thus, half the side length is $r \\tan(\\pi/N)$. The area of one of the $N$ isosceles triangles is $r \\times (r \\tan(\\pi/N)) = r^2 \\tan(\\pi/N)$. The total area of the circumscribed polygon is:\n$$\nA_{\\text{circ}}(r, N) = N r^2 \\tan\\left(\\frac{\\pi}{N}\\right)\n$$\nThe area of the polygonal annulus is the difference between the areas of the outer and inner polygons.\nFor the inscribed strategy:\n$$\nA_{\\text{in}} = A_{\\text{insc}}(r_o, N) - A_{\\text{insc}}(r_i, N) = \\frac{N}{2} \\sin\\left(\\frac{2\\pi}{N}\\right) (r_o^2 - r_i^2)\n$$\nFor the circumscribed strategy:\n$$\nA_{\\text{out}} = A_{\\text{circ}}(r_o, N) - A_{\\text{circ}}(r_i, N) = N \\tan\\left(\\frac{\\pi}{N}\\right) (r_o^2 - r_i^2)\n$$\nNow we can write the final expressions for the absolute and relative errors. Let the common physical factor be $K_{\\text{phys}} = q \\Sigma_a / \\Sigma_t$ and the common geometric factor be $K_{\\text{geom}} = r_o^2 - r_i^2$.\nThe absolute error for the inscribed case, $\\Delta R_{\\text{in}}$, is:\n$$\n\\Delta R_{\\text{in}} = K_{\\text{phys}} (A_{\\text{in}} - A_{\\text{circle}}) = \\frac{q \\Sigma_a}{\\Sigma_t} (r_o^2 - r_i^2) \\left[ \\frac{N}{2} \\sin\\left(\\frac{2\\pi}{N}\\right) - \\pi \\right]\n$$\nThe absolute error for the circumscribed case, $\\Delta R_{\\text{out}}$, is:\n$$\n\\Delta R_{\\text{out}} = K_{\\text{phys}} (A_{\\text{out}} - A_{\\text{circle}}) = \\frac{q \\Sigma_a}{\\Sigma_t} (r_o^2 - r_i^2) \\left[ N \\tan\\left(\\frac{\\pi}{N}\\right) - \\pi \\right]\n$$\nThe relative error for the inscribed case is:\n$$\n\\frac{\\Delta R_{\\text{in}}}{R_{\\text{circle}}} = \\frac{A_{\\text{in}} - A_{\\text{circle}}}{A_{\\text{circle}}} = \\frac{\\frac{N}{2} \\sin\\left(\\frac{2\\pi}{N}\\right) (r_o^2 - r_i^2) - \\pi(r_o^2 - r_i^2)}{\\pi(r_o^2 - r_i^2)} = \\frac{\\frac{N}{2} \\sin\\left(\\frac{2\\pi}{N}\\right)}{\\pi} - 1\n$$\nThe relative error for the circumscribed case is:\n$$\n\\frac{\\Delta R_{\\text{out}}}{R_{\\text{circle}}} = \\frac{A_{\\text{out}} - A_{\\text{circle}}}{A_{\\text{circle}}} = \\frac{N \\tan\\left(\\frac{\\pi}{N}\\right) (r_o^2 - r_i^2) - \\pi(r_o^2 - r_i^2)}{\\pi(r_o^2 - r_i^2)} = \\frac{N \\tan\\left(\\frac{\\pi}{N}\\right)}{\\pi} - 1\n$$\nThese formulae are implemented to compute the required values for each test case.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n# from scipy import ...\n\ndef solve():\n    \"\"\"\n    Computes the absolute and relative errors in reaction rate tallies\n    for a cladding region when its circular boundaries are approximated\n    by regular polygons using inscribed and circumscribed strategies.\n    \"\"\"\n    # Define the test cases from the problem statement.\n    # Format: (r_i, r_o, Sigma_t, Sigma_a, q, N)\n    test_cases = [\n        (0.40, 0.45, 3.0, 0.3, 1.5, 16),\n        (0.40, 0.45, 3.0, 0.3, 1.5, 64),\n        (0.495, 0.50, 3.0, 0.3, 1.5, 8),\n        (0.40, 0.45, 3.0, 0.3, 1.5, 3),\n        (0.20, 0.50, 10.0, 0.9, 4.0, 32),\n    ]\n\n    results = []\n    for case in test_cases:\n        r_i, r_o, sigma_t, sigma_a, q, N = case\n\n        # Physical scaling factor for reaction rate, derived as (q * Sigma_a) / Sigma_t.\n        # Units: (n/cm^3/s) * (cm^-1) / (cm^-1) = n/cm^3/s\n        k_phys = (q * sigma_a) / sigma_t\n\n        # Common geometric factor from the annulus area formula.\n        # Units: cm^2\n        k_geom = r_o**2 - r_i**2\n        \n        # The term multiplying k_geom in the area formulas.\n        # For a circle, this is pi.\n        # For inscribed polygon: (N/2) * sin(2*pi/N)\n        # For circumscribed polygon: N * tan(pi/N)\n        \n        # Calculate area factors for polygonal approximations\n        area_factor_in = (N / 2.0) * np.sin(2.0 * np.pi / N)\n        area_factor_out = N * np.tan(np.pi / N)\n\n        # 1. Absolute error for inscribed approximation, Delta_R_in\n        # Delta_R = k_phys * (A_poly - A_circle) = k_phys * k_geom * (area_factor - pi)\n        # Units: (n/cm^3/s) * (cm^2) = n/cm/s, which is reactions per second per unit axial length.\n        delta_R_in = k_phys * k_geom * (area_factor_in - np.pi)\n\n        # 2. Absolute error for circumscribed approximation, Delta_R_out\n        delta_R_out = k_phys * k_geom * (area_factor_out - np.pi)\n        \n        # 3. Relative error for inscribed approximation\n        # Rel_Err = (A_poly - A_circle) / A_circle = (area_factor - pi) / pi\n        # This is a dimensionless decimal fraction.\n        rel_err_in = (area_factor_in / np.pi) - 1.0\n\n        # 4. Relative error for circumscribed approximation\n        rel_err_out = (area_factor_out / np.pi) - 1.0\n\n        results.append([delta_R_in, delta_R_out, rel_err_in, rel_err_out])\n\n    # Final print statement in the exact required format.\n    # The format is a list of lists, represented as a string.\n    # e.g., [[val1, val2, ...], [val1, val2, ...]]\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        }
    ]
}