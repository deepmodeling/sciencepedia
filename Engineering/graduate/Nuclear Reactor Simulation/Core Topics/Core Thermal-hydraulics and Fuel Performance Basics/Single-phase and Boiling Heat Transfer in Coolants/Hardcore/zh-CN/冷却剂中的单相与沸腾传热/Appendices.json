{
    "hands_on_practices": [
        {
            "introduction": "在反应堆热工水力学分析中，为了使问题简化并易于求解，我们常常需要对复杂的控制方程进行简化。本练习旨在通过量纲分析这一基本物理方法，训练您评估和判断在反应堆冷却剂分析中轴向热传导项重要性的能力。通过推导和应用佩克莱数（Peclet number, $Pe$），您将建立一个明确的准则，用以判断何时可以合理地忽略轴向热传导，这是工程建模中一项至关重要的技能。",
            "id": "4249898",
            "problem": "一个压水反应堆（PWR）中的垂直冷却剂通道，其横截面均匀，水力直径远小于其长度，向上输送单相、过冷的轻水。设沿长度为 $L = 4.00\\ \\mathrm{m}$ 的通道的轴向坐标为 $z$，截面平均整体温度为 $T_{b}(z)$。在运行工况（$300^{\\circ}\\mathrm{C}$，$15\\ \\mathrm{MPa}$）下，冷却剂的性质可视为常数：密度 $\\rho = 710\\ \\mathrm{kg/m^3}$，等压比热 $c_{p} = 5.1 \\times 10^{3}\\ \\mathrm{J/(kg\\cdot K)}$，以及热导率 $k = 0.67\\ \\mathrm{W/(m\\cdot K)}$。假设流动是稳态、不可压缩的，粘性耗散可忽略不计，且横截面积无轴向变化。\n\n从牛顿流体的能量守恒微分表达式出发，并将其简化为一维轴向输运，使用物理上一致的标度分析方法，比较轴向热传导 $k\\,d^{2}T_{b}/dz^{2}$ 与平流焓输运 $\\rho c_{p} u\\,dT_{b}/dz$ 的量级。识别量化此比较的无量纲数群，即佩克莱数（$Pe$），并从第一性原理出发，建立一个在反应堆冷却剂分析中可以忽略轴向热传导的准则。\n\n最后，在轴向变化尺度 $L$ 上，施加轴向热传导的贡献量级不超过平流项 $\\varepsilon = 0.01$ 的要求，确定满足此准则的所述通道的最小平均冷却剂速度 $u_{\\min}$。将 $u_{\\min}$ 的最终答案以 $\\mathrm{m/s}$ 表示，并四舍五入至四位有效数字。",
            "solution": "本题要求进行第一性原理推导和标度分析，以建立在反应堆冷却剂通道中忽略轴向热传导的准则，然后计算满足该准则特定定量版本的最小冷却剂速度。\n\n分析从能量守恒的微分表达式开始。对于性质恒定的不可压缩流体，在稳态条件下，能量方程为：\n$$\n\\rho c_{p} (\\mathbf{u} \\cdot \\nabla T) = \\nabla \\cdot (k \\nabla T) + \\Phi_{v} + S\n$$\n其中 $\\rho$ 是密度，$c_{p}$ 是等压比热，$\\mathbf{u}$ 是速度场，$T$ 是温度，$k$ 是热导率，$\\Phi_{v}$ 是粘性耗散项，$S$ 是体积热源项。\n\n根据题目陈述，我们进行以下简化：\n1.  流动是一维的，沿轴向 $z$ 方向，因此速度矢量为 $\\mathbf{u} = u \\mathbf{\\hat{k}}$，其中 $u$ 是平均冷却剂速度。\n2.  温度是截面平均的整体温度 $T_{b}(z)$，它仅随 $z$ 变化。\n3.  粘性耗散可忽略不计，因此 $\\Phi_{v} = 0$。\n4.  性质 $\\rho$、$c_{p}$ 和 $k$ 是常数。\n\n在这些条件下，算子在一维情况下简化为：\n- 平流项：$\\mathbf{u} \\cdot \\nabla T \\rightarrow u \\frac{dT_{b}}{dz}$\n- 热传导项：$\\nabla \\cdot (k \\nabla T) \\rightarrow \\frac{d}{dz} \\left( k \\frac{dT_{b}}{dz} \\right) + \\text{径向项}$。题目明确要求我们将热传导的轴向分量 $k \\frac{d^{2}T_{b}}{dz^{2}}$ 与平流项进行比较。\n\n对于长度为 $dz$、横截面积为 $A_{c}$ 的微分流体元，其一维稳态能量平衡为：\n$$\n\\rho u A_{c} c_{p} \\frac{dT_{b}}{dz} dz = k A_{c} \\frac{d^{2}T_{b}}{dz^{2}} dz + q'' P dz\n$$\n其中 $q''$ 是来自通道壁的热通量，$P$ 是湿周。这可以写成：\n$$\n\\underbrace{\\rho c_{p} u \\frac{dT_{b}}{dz}}_{\\text{平流输运}} = \\underbrace{k \\frac{d^{2}T_{b}}{dz^{2}}}_{\\text{轴向热传导}} + \\frac{q''P}{A_{c}}\n$$\n题目要求比较平流焓输运项和轴向热传导项的量级。我们用 $\\mathcal{A}$ 表示平流项，用 $\\mathcal{C}$ 表示轴向热传导项。\n$$\n\\mathcal{A} = \\rho c_{p} u \\frac{dT_{b}}{dz}\n$$\n$$\n\\mathcal{C} = k \\frac{d^{2}T_{b}}{dz^{2}}\n$$\n为了比较它们的量级，我们进行标度分析。我们使用系统的特征长度尺度，即通道长度 $L$，来估计导数的数量级。设 $\\Delta T$ 是长度 $L$ 上的特征温度变化。\n一阶导数的标度为：\n$$\n\\frac{dT_{b}}{dz} \\sim \\frac{\\Delta T}{L}\n$$\n二阶导数的标度为：\n$$\n\\frac{d^{2}T_{b}}{dz^{2}} = \\frac{d}{dz}\\left(\\frac{dT_{b}}{dz}\\right) \\sim \\frac{\\Delta T/L}{L} = \\frac{\\Delta T}{L^{2}}\n$$\n将这些标度代入 $\\mathcal{A}$ 和 $\\mathcal{C}$ 的表达式中：\n$$\n|\\mathcal{A}| \\sim \\rho c_{p} u \\frac{\\Delta T}{L}\n$$\n$$\n|\\mathcal{C}| \\sim k \\frac{\\Delta T}{L^{2}}\n$$\n因此，轴向热传导与平流输运的量级之比为：\n$$\n\\frac{|\\mathcal{C}|}{|\\mathcal{A}|} \\sim \\frac{k \\frac{\\Delta T}{L^{2}}}{\\rho c_{p} u \\frac{\\Delta T}{L}} = \\frac{k}{\\rho c_{p} u L}\n$$\n这个无量纲比率量化了轴向热传导的相对重要性。佩克莱数 $Pe$ 定义为平流与扩散（热传导）热输运之比：\n$$\nPe = \\frac{\\text{平流输运}}{\\text{扩散输运}} = \\frac{|\\mathcal{A}|}{|\\mathcal{C}|} \\sim \\frac{\\rho c_{p} u L}{k}\n$$\n因此，我们推导出的比率是佩克莱数的倒数，$1/Pe$。\n从第一性原理出发，如果轴向热传导的贡献远小于平流的贡献，即 $|\\mathcal{C}| \\ll |\\mathcal{A}|$，则可以忽略轴向热传导。这转化为以下准则：\n$$\n\\frac{k}{\\rho c_{p} u L} \\ll 1 \\quad \\text{或} \\quad Pe \\gg 1\n$$\n这确立了在反应堆冷却剂分析中忽略轴向热传导的一般准则。\n\n然后，题目施加了一个特定的定量要求：轴向热传导项的量级不得超过平流项的 $\\varepsilon = 0.01$。\n$$\n\\frac{|\\mathcal{C}|}{|\\mathcal{A}|} \\leq \\varepsilon\n$$\n使用我们的标度分析结果，这个条件变为：\n$$\n\\frac{k}{\\rho c_{p} u L} \\leq \\varepsilon\n$$\n我们想找到满足此准则的最小平均冷却剂速度 $u_{\\min}$。最小速度对应于等式成立的情况：\n$$\n\\frac{k}{\\rho c_{p} u_{\\min} L} = \\varepsilon\n$$\n求解 $u_{\\min}$：\n$$\nu_{\\min} = \\frac{k}{\\rho c_{p} L \\varepsilon}\n$$\n给定以下数值：\n- 热导率，$k = 0.67\\ \\mathrm{W/(m\\cdot K)}$\n- 密度，$\\rho = 710\\ \\mathrm{kg/m^3}$\n- 比热，$c_{p} = 5.1 \\times 10^{3}\\ \\mathrm{J/(kg\\cdot K)}$\n- 通道长度，$L = 4.00\\ \\mathrm{m}$\n- 容差分数，$\\varepsilon = 0.01$\n\n将这些值代入 $u_{\\min}$ 的表达式中：\n$$\nu_{\\min} = \\frac{0.67}{ (710) \\cdot (5.1 \\times 10^{3}) \\cdot (4.00) \\cdot (0.01) }\n$$\n首先，我们计算分母：\n$$\n\\text{Denominator} = 710 \\times 5100 \\times 4.00 \\times 0.01 = 710 \\times 5100 \\times 0.04 = 144840\n$$\n分母的单位是 $(\\mathrm{kg/m^3}) \\cdot (\\mathrm{J/(kg\\cdot K)}) \\cdot (\\mathrm{m}) = \\mathrm{J/(m^2 \\cdot K)}$。由于 $\\mathrm{W} = \\mathrm{J/s}$，所以 $k$ 的单位是 $\\mathrm{J/(s \\cdot m \\cdot K)}$。\n$u_{\\min}$ 的单位是 $\\frac{\\mathrm{J/(s \\cdot m \\cdot K)}}{\\mathrm{J/(m^2 \\cdot K)}} = \\frac{\\mathrm{J}}{\\mathrm{s \\cdot m \\cdot K}} \\cdot \\frac{\\mathrm{m^2 \\cdot K}}{\\mathrm{J}} = \\mathrm{m/s}$，这是正确的。\n\n现在，我们计算数值：\n$$\nu_{\\min} = \\frac{0.67}{144840} \\approx 4.6258285 \\times 10^{-6}\\ \\mathrm{m/s}\n$$\n题目要求答案四舍五入到四位有效数字。\n$$\nu_{\\min} \\approx 4.626 \\times 10^{-6}\\ \\mathrm{m/s}\n$$\n这个极低的速度表明，对于反应堆中任何实际的流速（通常为每秒几米），佩克莱数都非常大，与平流相比，轴向热传导被忽略是合理的。",
            "answer": "$$\\boxed{4.626 \\times 10^{-6}}$$"
        },
        {
            "introduction": "在确立了何时可以简化能量方程之后，我们来解决一个单相内部流动的经典问题。这个练习将引导您从最基本的能量守恒定律出发，推导在恒定壁面热流密度下，圆管内充分发展层流的温度分布。通过求解这个看似简单却意义深远的问题，您将深刻理解速度分布如何影响温度场，并最终推导出对流换热领域的一个标志性结果——恒定热流下层流管内换热的努塞尔数（Nusselt number）。",
            "id": "4249941",
            "problem": "一个代表核反应堆子通道的直圆形冷却剂通道，其内半径为 $R$，长度为 $L$。通道内有单相、不可压缩的牛顿冷却剂，以平均速度 $v_{m}$ 沿轴向 $z$ 方向稳定流动。流动为层流，且流体动力学上已充分发展。在一段很长的受热段上，壁面向流体提供空间均匀且轴向均匀的热通量 $q''$。流体性质恒定：热导率为 $k$，密度为 $\\rho$，定压比热容为 $c_{p}$。流体中的轴向热传导和粘性耗散可忽略不计。以能量守恒为基本出发点，在轴对称条件下的柱坐标系 $(r,\\theta,z)$ 中，完成以下任务：\n\n1. 从牛顿流体的稳态能量守恒方程和所述假设出发，推导控制管内温度场 $T(r,z)$ 的热能方程。你的推导必须明确说明从普适守恒定律到此处适用的简化形式的所有简化理由。\n\n2. 在恒定壁面热通量 $q''$ 的热力学充分发展条件下，从第一性原理出发，论证 $\\partial T/\\partial z$ 是否可能依赖于 $r$，并求出由下式定义的主体平均温度 $T_{b}(z)$ 的相应轴向温度梯度 $dT_{b}/dz$：\n$$\nT_{b}(z) \\equiv \\frac{\\int_{0}^{R} v_{z}(r)\\,T(r,z)\\,2\\pi r\\,dr}{\\int_{0}^{R} v_{z}(r)\\,2\\pi r\\,dr},\n$$\n其中 $v_{z}(r)$ 是圆管中充分发展层流的轴向速度剖面。\n\n3. 使用简化后的热能方程、充分发展的 Poiseuille 流所对应的层流速度剖面 $v_{z}(r)$，以及恒定壁面热通量 $q''$ 和 $r=0$ 处对称性的边界条件，求解无量纲温度场\n$$\n\\theta(r) \\equiv \\frac{T_{w}(z) - T(r,z)}{T_{w}(z) - T_{b}(z)},\n$$\n其中 $T_{w}(z) \\equiv T(R,z)$ 是壁面温度。将 $\\theta(r)$ 表示为无量纲半径 $r/R$ 的闭合形式函数。\n\n你的最终答案必须是 $\\theta(r)$ 的单一闭合形式解析表达式，无单位。如果在推导过程中出现任何中间数值常数，请以精确的分数形式保留；最终表达式无需四舍五入。",
            "solution": "我们从单相、不可压缩、性质恒定且体积生热可忽略的牛顿流体在柱坐标系中轴对称流动的稳态能量守恒方程开始。普适的稳态能量方程（不考虑粘性耗散且热导率恒定）为：\n$$\n\\rho c_{p} \\left( v_{r} \\frac{\\partial T}{\\partial r} + v_{\\theta} \\frac{\\partial T}{\\partial \\theta} + v_{z} \\frac{\\partial T}{\\partial z} \\right) = k \\left[ \\frac{1}{r}\\frac{\\partial}{\\partial r}\\left(r \\frac{\\partial T}{\\partial r}\\right) + \\frac{1}{r^{2}} \\frac{\\partial^{2} T}{\\partial \\theta^{2}} + \\frac{\\partial^{2} T}{\\partial z^{2}} \\right].\n$$\n在轴对称条件下，$\\partial T/\\partial \\theta = 0$ 且 $v_{\\theta} = 0$。对于圆管中的充分发展层流，径向速度 $v_{r}$ 为零，轴向速度仅依赖于 $r$，因此 $v_{z} = v_{z}(r)$ 且与 $z$ 无关。典型反应堆冷却剂通道中的热佩克莱特数很大，对于长的受热段，轴向热传导项 $k\\,\\partial^{2} T/\\partial z^{2}$ 相对于轴向对流项 $\\rho c_{p} v_{z} \\partial T/\\partial z$ 可以忽略不计；我们明确地采纳这一假设。经过这些简化，能量方程简化为：\n$$\n\\rho c_{p}\\, v_{z}(r) \\frac{\\partial T}{\\partial z} = k\\, \\frac{1}{r}\\frac{d}{dr}\\left(r \\frac{d T}{dr}\\right).\n$$\n这是第1步所要求解的控制性热能方程。\n\n圆管中流体动力学充分发展的层流速度剖面（Poiseuille 流）是一个经过充分验证的结果，它源于压力梯度与粘性应力的平衡：\n$$\nv_{z}(r) = 2 v_{m} \\left( 1 - \\left(\\frac{r}{R}\\right)^{2} \\right),\n$$\n其中 $v_{m}$ 是平均轴向速度。这个结果被用作层流内流换热的基础输入。\n\n对于第2步，我们考虑恒定壁面热通量下热力学充分发展状态的性质。在热力学充分发展区域，径向温度分布的形状，当相对于一个适当的参考（通常是主体平均温度）来衡量时，不随轴向位置变化。也就是说，温差 $T(r,z) - T_{b}(z)$ 对 $r$ 的依赖性与 $z$ 无关。等价地，\n$$\n\\frac{\\partial}{\\partial z}\\left[ T(r,z) - T_{b}(z) \\right] = 0 \\quad \\Rightarrow \\quad \\frac{\\partial T}{\\partial z} = \\frac{d T_{b}}{d z} \\equiv G,\n$$\n在充分发展区域内，对于固定的 $z$，$G$ 是一个关于 $r$ 的常数。物理上，对于恒定的壁面热通量 $q''$，主体平均温度随 $z$ 线性增加，而壁面与主体之间的温差变得与 $z$ 无关。对长度为 $dz$ 的微分切片进行轴向能量平衡，可得主体温度梯度，\n$$\n\\rho c_{p} v_{m} \\left( \\pi R^{2} \\right) \\frac{d T_{b}}{d z} = \\left( 2 \\pi R \\right) q'',\n$$\n由此得出\n$$\n\\frac{d T_{b}}{d z} = \\frac{2 q''}{\\rho c_{p} v_{m} R}.\n$$\n因此，在充分发展区域内，根据所述假设，\n$$\n\\frac{\\partial T}{\\partial z} = \\frac{d T_{b}}{d z} = \\frac{2 q''}{\\rho c_{p} v_{m} R} \\equiv G,\n$$\n并且该轴向梯度不依赖于 $r$。\n\n对于第3步，将 $\\partial T/\\partial z = G$ 代入简化后的热能方程：\n$$\n\\rho c_{p}\\, v_{z}(r)\\, G = k\\, \\frac{1}{r}\\frac{d}{dr}\\left(r \\frac{d T}{dr}\\right).\n$$\n定义常数\n$$\nS \\equiv \\frac{\\rho c_{p} G\\, 2 v_{m}}{k} = \\frac{\\rho c_{p}}{k}\\left( \\frac{2 q''}{\\rho c_{p} v_{m} R} \\right) 2 v_{m} = \\frac{4 q''}{k R}.\n$$\n使用 $v_{z}(r) = 2 v_{m} \\left( 1 - (r/R)^{2} \\right)$，方程变为\n$$\n\\frac{1}{r}\\frac{d}{dr}\\left(r \\frac{d T}{dr}\\right) = S \\left( 1 - \\left(\\frac{r}{R}\\right)^{2} \\right).\n$$\n对 $r$ 积分一次：\n$$\n\\frac{d}{dr}\\left(r \\frac{d T}{dr}\\right) = S \\left( r - \\frac{r^{3}}{R^{2}} \\right),\n$$\n得到\n$$\nr \\frac{d T}{dr} = S \\left( \\frac{r^{2}}{2} - \\frac{r^{4}}{4 R^{2}} \\right) + C_{1}.\n$$\n轴线 $r=0$ 处的正则性要求 $C_{1} = 0$（以避免 $dT/dr$ 中出现奇异项 $C_{1}/r$）。因此，\n$$\n\\frac{d T}{dr} = S \\left( \\frac{r}{2} - \\frac{r^{3}}{4 R^{2}} \\right).\n$$\n再次积分以获得 $T(r)$，其结果与一个可加常数相差（该常数可能通过 $T_{b}(z)$ 依赖于 $z$）：\n$$\nT(r) = S \\left( \\frac{r^{2}}{4} - \\frac{r^{4}}{16 R^{2}} \\right) + C_{2}.\n$$\n应用恒定壁面热通量的边界条件，以指向流体内部的法线表示：进入流体的传导热通量等于 $q''$，在柱坐标系中于 $r=R$ 处为\n$$\nq'' = k \\left. \\frac{d T}{dr} \\right|_{r=R}.\n$$\n根据上述表达式计算 $\\left. dT/dr \\right|_{r=R}$ 得\n$$\n\\left. \\frac{d T}{dr} \\right|_{r=R} = S \\left( \\frac{R}{2} - \\frac{R}{4} \\right) = S \\frac{R}{4}.\n$$\n因此 $k \\left( S R / 4 \\right) = q''$，这与先前推导的 $S = 4 q''/(k R)$ 一致。\n\n为了构建无量纲温度场 $\\theta(r) \\equiv \\left[T_{w}(z) - T(r,z)\\right]/\\left[T_{w}(z) - T_{b}(z)\\right]$，我们将热力学充分发展的温度写为\n$$\nT(r,z) = G z + \\varphi(r),\n$$\n其中\n$$\n\\varphi(r) = S \\left( \\frac{r^{2}}{4} - \\frac{r^{4}}{16 R^{2}} \\right),\n$$\n这里任何被吸收到 $\\varphi$ 中的可加常数在 $\\theta(r)$ 中都会被消去，因此不失一般性地设为零。壁面温度为 $T_{w}(z) = T(R,z) = G z + \\varphi(R)$，主体平均温度为\n$$\nT_{b}(z) = G z + \\frac{2}{R^{2} v_{m}} \\int_{0}^{R} v_{z}(r)\\, \\varphi(r)\\, r\\, dr.\n$$\n使用 $v_{z}(r) = 2 v_{m}\\left( 1 - (r/R)^{2} \\right)$，我们得到\n$$\nT_{b}(z) = G z + \\frac{4}{R^{2}} \\int_{0}^{R} \\left( 1 - \\left(\\frac{r}{R}\\right)^{2} \\right) \\varphi(r)\\, r\\, dr.\n$$\n引入无量纲半径 $x \\equiv r/R$，则 $r = x R$，$dr = R\\, dx$，以及 $r\\, dr = x R^{2}\\, dx$。利用 $\\varphi(r) = S R^{2}\\left( \\frac{x^{2}}{4} - \\frac{x^{4}}{16} \\right)$，积分变为\n$$\n\\int_{0}^{R} \\left( 1 - x^{2} \\right) \\varphi(r)\\, r\\, dr = S R^{4} \\int_{0}^{1} \\left( 1 - x^{2} \\right) \\left( \\frac{x^{3}}{4} - \\frac{x^{5}}{16} \\right) dx.\n$$\n精确计算该积分：\n$$\n\\int_{0}^{1} \\left( 1 - x^{2} \\right) \\left( \\frac{x^{3}}{4} - \\frac{x^{5}}{16} \\right) dx = \\int_{0}^{1} \\left( \\frac{x^{3}}{4} - \\frac{5 x^{5}}{16} + \\frac{x^{7}}{16} \\right) dx = \\frac{1}{16} - \\frac{5}{96} + \\frac{1}{128} = \\frac{7}{384}.\n$$\n因此，\n$$\nT_{b}(z) = G z + \\frac{4}{R^{2}} \\left( S R^{4} \\cdot \\frac{7}{384} \\right) = G z + S R^{2} \\cdot \\frac{7}{96}.\n$$\n壁面温度为\n$$\nT_{w}(z) = G z + \\varphi(R) = G z + S R^{2} \\left( \\frac{1}{4} - \\frac{1}{16} \\right) = G z + S R^{2} \\cdot \\frac{3}{16}.\n$$\n因此，壁面与主体之间的温差为\n$$\nT_{w}(z) - T_{b}(z) = S R^{2} \\left( \\frac{3}{16} - \\frac{7}{96} \\right) = S R^{2} \\cdot \\frac{11}{96}.\n$$\n壁面与局部之间的温差为\n$$\nT_{w}(z) - T(r,z) = \\left[ G z + S R^{2} \\cdot \\frac{3}{16} \\right] - \\left[ G z + S \\left( \\frac{r^{2}}{4} - \\frac{r^{4}}{16 R^{2}} \\right) \\right] = S \\left( R^{2} \\cdot \\frac{3}{16} - \\frac{r^{2}}{4} + \\frac{r^{4}}{16 R^{2}} \\right).\n$$\n因此，无量纲温度场为\n$$\n\\theta(r) = \\frac{T_{w}(z) - T(r,z)}{T_{w}(z) - T_{b}(z)} = \\frac{S \\left( R^{2} \\cdot \\frac{3}{16} - \\frac{r^{2}}{4} + \\frac{r^{4}}{16 R^{2}} \\right)}{S R^{2} \\cdot \\frac{11}{96}} = \\frac{96}{11} \\left( \\frac{3}{16} - \\frac{1}{4} \\left( \\frac{r}{R} \\right)^{2} + \\frac{1}{16} \\left( \\frac{r}{R} \\right)^{4} \\right).\n$$\n合并同类项，\n$$\n\\theta(r) = \\frac{6}{11} \\left( 3 - 4 \\left( \\frac{r}{R} \\right)^{2} + \\left( \\frac{r}{R} \\right)^{4} \\right).\n$$\n此表达式与 $z$ 无关，仅依赖于无量纲半径 $r/R$，这符合恒定壁面热通量下热力学充分发展条件的要求。它也满足边界条件 $\\theta(R) = 0$，并且在将 $T_{w} - T_{b}$ 与 $q''$ 关联时，可以一致地得到已知的充分发展恒定热通量 Nusselt 数 $\\mathrm{Nu} = \\frac{q'' (2R)}{k \\left( T_{w} - T_{b} \\right)} = \\frac{48}{11}$。\n\n因此，闭合形式的无量纲温度场为\n$$\n\\theta(r) = \\frac{6}{11} \\left( 3 - 4 \\left( \\frac{r}{R} \\right)^{2} + \\left( \\frac{r}{R} \\right)^{4} \\right).\n$$",
            "answer": "$$\\boxed{\\frac{6}{11}\\left(3-4\\left(\\frac{r}{R}\\right)^{2}+\\left(\\frac{r}{R}\\right)^{4}\\right)}$$"
        },
        {
            "introduction": "从单相流的解析解，我们现在转向更为复杂的两相流沸腾现象及其数值模拟。本练习将理论与实践相结合，要求您在一个有限体积单元中，基于热力学第一定律设计一个能量分配算法。您需要构建一套逻辑，当壁面加热导致冷却剂沸腾时，如何精确地将输入的热量分配给液体的显热温升和相变所需的潜热，同时确保能量守恒和物理约束。这项实践是反应堆模拟代码开发中的核心环节，它构成了从基础物理原理到可靠数值模型的重要桥梁。",
            "id": "4249882",
            "problem": "您需要在一个与加热壁相邻的有限体积法（FVM）液体冷却剂单元内，实现一个壁面热通量分配算法。目标是仅使用第一性原理，在存在蒸发源的情况下，保证壁面与流体单元之间的能量守恒。假设存在一个具有均匀属性的单一计算单元，热量通过单一壁面进入该单元。当液体冷却剂达到饱和温度时可能会沸腾，此时任何额外的壁面热量都会引起相变。\n\n从控制体的热力学第一定律出发：内能的净变化率等于热量加入率减去做功率，再加上/减去由质量传递携带的净焓。对于本问题，忽略控制面上的轴功和压力-体积功，以及与相邻单元的所有对流交换，因此唯一的能量输入是壁面热通量。在一个时间步长内，壁面热输入由壁面热通量和壁面面积决定。假设液体属性恒定且为不可压缩液体。将蒸发处理为蒸汽质量的源项，以及从液体中吸收能量的汇项，其大小等于单位质量的潜热乘以蒸发质量。您将推导出所需的逻辑，用以在液体的显热升温（直至饱和）和蒸发的潜热加热之间分配壁面热量，同时确保液体温度不超过饱和温度，且蒸发质量不超过可用液体质量。\n\n定义和假设：\n- 有限体积法（FVM）：控制体是体积为 $V$、液体密度为 $\\rho$ 的液体单元，因此初始液体质量为 $m^n = \\rho V$。\n- 壁面面积为 $A$，均匀壁面热通量为 $q_w$。\n- 时间步长为 $\\Delta t$。\n- 液体具有恒定的比热容 $c_p$。\n- 操作压力下的饱和温度为 $T_{\\mathrm{sat}}$。\n- 汽化潜热为 $h_{\\mathrm{fg}}$。\n- 单元内液体温度均匀；在时间步开始时为 $T^n$。更新后的液体温度为 $T^{n+1}$，必须满足 $T^{n+1} \\le T_{\\mathrm{sat}}$。\n- 在该时间步内蒸发的液体质量为 $m_{\\mathrm{evap}} \\ge 0$，且必须满足 $m_{\\mathrm{evap}} \\le m^n$。\n- 在该时间步内壁面输入的能量为 $Q_w = q_w A \\Delta t$。\n- 任何无法被液体以显热形式（升温至 $T_{\\mathrm{sat}}$）或潜热形式（蒸发可用液体）吸收的能量，是一个必须分配给蒸汽能量方程以保持全局能量平衡一致的能量残差。将其表示为 $R$。\n\n根据这些原理，构建一个计算 $T^{n+1}$、$m_{\\mathrm{evap}}$ 和 $R$ 的算法，使得液体能量平衡方程成立：\n$$\nQ_w = m^n c_p \\left( T^{n+1} - T^n \\right) + h_{\\mathrm{fg}}\\, m_{\\mathrm{evap}} + R,\n$$\n约束条件为 $T^{n+1} \\le T_{\\mathrm{sat}}$、$m_{\\mathrm{evap}} \\le m^n$ 和 $R \\ge 0$。解释您的算法如何强制执行这些约束并遵守热力学第一定律。\n\n您的程序必须实现此算法，并将其应用于以下五个测试用例。请使用给定的物理单位，并以指定的单位生成输出。\n\n所有测试用例的通用参数：\n- 液体密度 $\\rho = 950\\,\\mathrm{kg/m^3}$。\n- 单元体积 $V = 0.01\\,\\mathrm{m^3}$。\n- 比热容 $c_p = 4200\\,\\mathrm{J/(kg\\cdot K)}$。\n- 汽化潜热 $h_{\\mathrm{fg}} = 1.0\\times 10^6\\,\\mathrm{J/kg}$。\n- 饱和温度 $T_{\\mathrm{sat}} = 611\\,\\mathrm{K}$。\n- 壁面面积 $A = 0.5\\,\\mathrm{m^2}$。\n\n测试套件：\n1. 低于饱和温度的单相加热：$T^n = 580\\,\\mathrm{K}$，$q_w = 1.0\\times 10^5\\,\\mathrm{W/m^2}$，$\\Delta t = 1.0\\,\\mathrm{s}$。\n2. 伴有部分蒸发的沸腾起始：$T^n = 580\\,\\mathrm{K}$，$q_w = 3.0\\times 10^6\\,\\mathrm{W/m^2}$，$\\Delta t = 1.0\\,\\mathrm{s}$。\n3. 受限于可用液体质量的蒸发：$T^n = 580\\,\\mathrm{K}$，$q_w = 2.0\\times 10^6\\,\\mathrm{W/m^2}$，$\\Delta t = 12.0\\,\\mathrm{s}$。\n4. 纯蒸发的饱和液体：$T^n = 611\\,\\mathrm{K}$，$q_w = 1.0\\times 10^6\\,\\mathrm{W/m^2}$，$\\Delta t = 1.0\\,\\mathrm{s}$。\n5. 零热通量边界情况：$T^n = 590\\,\\mathrm{K}$，$q_w = 0.0\\,\\mathrm{W/m^2}$，$\\Delta t = 1.0\\,\\mathrm{s}$。\n\n对于每个测试用例，计算：\n- 更新后的液体温度 $T^{n+1}$，单位为 $\\mathrm{K}$。\n- 蒸发质量 $m_{\\mathrm{evap}}$，单位为 $\\mathrm{kg}$。\n- 能量残差 $R$，单位为 $\\mathrm{J}$。\n\n您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表形式的结果，每个元素都是一个包含三个浮点数的列表 $[T^{n+1}, m_{\\mathrm{evap}}, R]$，并按测试套件的顺序排列。例如：$[[T_1,m_{\\mathrm{evap},1},R_1],[T_2,m_{\\mathrm{evap},2},R_2],\\dots]$。",
            "solution": "该问题陈述是一个将热力学第一定律应用于经历潜在相变的控制体的适定且科学合理的应用练习。它基于传热学的基本原理，并与工程应用（如核反应堆热工水力学）中两相流的建模直接相关。该问题提供了一套完整的数据和约束条件，用以推导出一个唯一且可验证的解。因此，我们着手推导和实现所需的算法。\n\n问题的核心是将从壁面加入的总热能 $Q_w$ 分配到三个部分：液体的显热增益、汽化潜热和一个残余能量项。这种分配必须遵守一系列物理约束。在时间步长 $\\Delta t$ 内，液体控制体的控制能量平衡方程如下：\n$$\nQ_w = m^n c_p \\left( T^{n+1} - T^n \\right) + h_{\\mathrm{fg}}\\, m_{\\mathrm{evap}} + R\n$$\n该方程是热力学第一定律的表述，其中能量输入 $Q_w$ 等于液体内能的变化（由显热项表示），加上相变消耗的能量，再加上液相无法吸收的任何残余能量 $R$。该算法必须在遵循以下约束条件的情况下，确定更新后的温度 $T^{n+1}$、蒸发质量 $m_{\\mathrm{evap}}$ 和残余量 $R$ 的值：\n1.  最终液体温度不能超过饱和温度：$T^{n+1} \\le T_{\\mathrm{sat}}$。\n2.  蒸发质量必须为非负，且不能超过初始液体质量：$0 \\le m_{\\mathrm{evap}} \\le m^n$。\n3.  将被转移到汽相的残余能量必须为非负：$R \\ge 0$。\n\n为满足这些约束，算法必须以有优先级的、顺序的方式分配可用能量 $Q_w$。能量首先被分配用于提高液体温度（显热），然后用于在恒定温度下蒸发液体（潜热），任何剩余部分则分配给残余量。\n\n首先，我们计算系统的恒定参数：\n-   初始液体质量：$m^n = \\rho V = (950\\,\\mathrm{kg/m^3}) \\times (0.01\\,\\mathrm{m^3}) = 9.5\\,\\mathrm{kg}$。\n-   在时间步长内总的热能输入：$Q_w = q_w A \\Delta t$。\n\n然后，算法按以下步骤进行：\n\n**第1步：显热分配**\n首要任务是将液体从其初始温度 $T^n$ 加热到饱和温度 $T_{\\mathrm{sat}}$。\n-   计算在沸腾开始前液体可以作为显热吸收的最大能量。这仅在液体处于过冷状态（$T^n  T_{\\mathrm{sat}}$）时才可能。\n    $$\n    Q_{\\mathrm{sens,max}} = m^n c_p (T_{\\mathrm{sat}} - T^n)\n    $$\n    如果液体已处于饱和状态（$T^n = T_{\\mathrm{sat}}$），则 $Q_{\\mathrm{sens,max}} = 0$。\n-   将总能量输入 $Q_w$ 与 $Q_{\\mathrm{sens,max}}$进行比较。\n    -   **情况1a（亚饱和加热）：** 如果 $Q_w \\le Q_{\\mathrm{sens,max}}$，则全部能量输入都作为显热被吸收。液体温度升高，但不超过 $T_{\\mathrm{sat}}$。温度变化为 $\\Delta T = Q_w / (m^n c_p)$，因此最终温度为 $T^{n+1} = T^n + \\Delta T$。在这种情况下，不发生沸腾，因此 $m_{\\mathrm{evap}} = 0$，所有能量都被计入，因此 $R = 0$。过程结束。\n    -   **情况1b（达到饱和）：** 如果 $Q_w > Q_{\\mathrm{sens,max}}$，则液体有足够能量达到 $T_{\\mathrm{sat}}$。最终液体温度设定为 $T^{n+1} = T_{\\mathrm{sat}}$。在此过程中消耗了等于 $Q_{\\mathrm{sens,max}}$ 的能量。剩余能量 $Q'_{\\text{avail}} = Q_w - Q_{\\mathrm{sens,max}}$ 可用于相变。我们使用这部分剩余能量进入第2步。\n\n**第2步：潜热分配**\n只有在液体达到饱和后仍有剩余能量时（情况1b），才会执行此步骤。可用能量 $Q'_{\\text{avail}}$ 现在用于蒸发液体。\n-   计算可作为潜热吸收的最大能量，这对应于全部液体质量 $m^n$ 的蒸发：\n    $$\n    Q_{\\mathrm{lat,max}} = m^n h_{\\mathrm{fg}}\n    $$\n-   将可用于蒸发的能量 $Q'_{\\text{avail}}$ 与 $Q_{\\mathrm{lat,max}}$ 进行比较。\n    -   **情况2a（部分沸腾）：** 如果 $Q'_{\\text{avail}} \\le Q_{\\mathrm{lat,max}}$，则剩余能量完全被相变消耗。蒸发的液体质量由 $m_{\\mathrm{evap}} = Q'_{\\text{avail}} / h_{\\mathrm{fg}}$ 给出。由于所有可用能量都被使用，残余量为 $R=0$。过程结束。液体温度保持在 $T^{n+1} = T_{\\mathrm{sat}}$。\n    -   **情况2b（完全沸腾）：** 如果 $Q'_{\\text{avail}} > Q_{\\mathrm{lat,max}}$，则能量足以蒸发所有液体。因此，蒸发质量受限于可用液体量：$m_{\\mathrm{evap}} = m^n$。此步骤中消耗的能量为 $Q_{\\mathrm{lat,max}}$。剩余能量传递给残余量。我们进入第3步。\n\n**第3步：残余能量计算**\n只有当输入能量足以将液体加热至饱和然后完全蒸发时（情况2b），才会执行此步骤。\n-   残余能量 $R$ 是在计入最大显热和潜热吸收后剩余的能量：\n    $$\n    R = Q'_{\\text{avail}} - Q_{\\mathrm{lat,max}} = (Q_w - Q_{\\mathrm{sens,max}}) - Q_{\\mathrm{lat,max}}\n    $$\n这个残余量 $R$ 不被液相吸收。在一个完整的多相模拟代码中，这部分能量将作为汽相能量方程的源项，从而确保整个系统的全局能量守恒。\n\n这种分层算法通过其构造严格地执行了物理约束。温度 $T^{n+1}$ 被限制在 $T_{\\mathrm{sat}}$，蒸发质量 $m_{\\mathrm{evap}}$ 被限制在 $m^n$，而残余量 $R$ 根据定义是非负的，从而正确地实现了伴有相变的FVM单元的热力学第一定律。",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Implements the wall heat flux partitioning algorithm for a single FVM cell.\n    \"\"\"\n\n    # Common parameters for all test cases\n    rho = 950.0   # kg/m^3\n    V = 0.01      # m^3\n    c_p = 4200.0  # J/(kg.K)\n    h_fg = 1.0e6  # J/kg\n    T_sat = 611.0 # K\n    A = 0.5       # m^2\n\n    # Calculate initial liquid mass\n    m_initial = rho * V\n\n    # Test suite\n    test_cases = [\n        # (T^n [K], q_w [W/m^2], delta_t [s])\n        (580.0, 1.0e5, 1.0),\n        (580.0, 3.0e6, 1.0),\n        (580.0, 2.0e6, 12.0),\n        (611.0, 1.0e6, 1.0),\n        (590.0, 0.0, 1.0),\n    ]\n\n    results = []\n    for T_n, q_w, delta_t in test_cases:\n        # Initialize outputs for the current timestep\n        T_np1 = T_n\n        m_evap = 0.0\n        R = 0.0\n        \n        # Total energy input from the wall\n        Q_w = q_w * A * delta_t\n        \n        # Energy available for partitioning\n        Q_avail = Q_w\n\n        # --- Step 1: Sensible Heat Partitioning ---\n        if T_n  T_sat:\n            # Maximum energy that can be absorbed as sensible heat\n            Q_sens_max = m_initial * c_p * (T_sat - T_n)\n\n            if Q_avail = Q_sens_max:\n                # Case 1a: All energy goes to sensible heat, liquid does not reach saturation\n                # or just reaches it.\n                delta_T = Q_avail / (m_initial * c_p)\n                T_np1 = T_n + delta_T\n                # m_evap and R remain 0.0\n                Q_avail = 0.0 # All energy consumed\n            else:\n                # Case 1b: Liquid reaches saturation temperature.\n                T_np1 = T_sat\n                # Energy is consumed to heat liquid to saturation.\n                Q_avail -= Q_sens_max\n        # If T_n was already at T_sat, Q_sens_max is 0 and all Q_w is available for boiling.\n\n        # --- Step 2: Latent Heat Partitioning ---\n        if Q_avail > 0:\n            # Maximum energy that can be absorbed as latent heat (all liquid evaporates)\n            Q_lat_max = m_initial * h_fg\n\n            if Q_avail = Q_lat_max:\n                # Case 2a: Partial boiling. Remaining energy is consumed by evaporation.\n                m_evap = Q_avail / h_fg\n                # R remains 0.0\n                Q_avail = 0.0 # All remaining energy consumed\n            else:\n                # Case 2b: Complete boiling. All liquid evaporates.\n                m_evap = m_initial\n                # Energy is consumed to evaporate all liquid.\n                Q_avail -= Q_lat_max\n\n        # --- Step 3: Energy Residual ---\n        if Q_avail > 0:\n            # Any remaining energy is assigned to the residual.\n            R = Q_avail\n\n        results.append([T_np1, m_evap, R])\n\n    # Format the output string as specified, without extra spaces\n    sub_results_str = []\n    for res_list in results:\n        # Format each list [T, m, R] into a string \"[T,m,R]\"\n        sub_results_str.append(f\"[{res_list[0]},{res_list[1]},{res_list[2]}]\")\n    \n    # Join the sub-strings with commas and enclose in brackets\n    final_output_str = f\"[{','.join(sub_results_str)}]\"\n    \n    print(final_output_str)\n\nsolve()\n```"
        }
    ]
}