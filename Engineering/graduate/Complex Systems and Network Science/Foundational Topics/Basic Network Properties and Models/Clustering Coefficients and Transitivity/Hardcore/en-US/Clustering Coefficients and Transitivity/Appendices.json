{
    "hands_on_practices": [
        {
            "introduction": "This exercise provides a foundational workout in counting the essential motifs for clustering analysis: triangles and wedges. Starting from a network's adjacency matrix, you will apply matrix algebra to count these structures, a process that reveals the elegant connection between graph theory and linear algebra. This practice will solidify your understanding of how these counts are performed and why correcting for overcounting is a critical step in the calculation .",
            "id": "4327881",
            "problem": "In systems biomedicine, small-scale interaction networks often exhibit nontrivial local clustering arising from biochemical cooperativity. Consider a simple undirected Protein-Protein Interaction (PPI) network on $6$ proteins, represented by the symmetric adjacency matrix $A$ with zero diagonal:\n$$\nA \\;=\\;\n\\begin{pmatrix}\n0  1  1  0  0  0 \\\\\n1  0  1  0  1  1 \\\\\n1  1  0  1  1  0 \\\\\n0  0  1  0  1  0 \\\\\n0  1  1  1  0  1 \\\\\n0  1  0  0  1  0\n\\end{pmatrix}.\n$$\nStarting from the core definitions of an adjacency matrix, a triangle (a $3$-cycle), and a connected triple (a wedge: two edges sharing exactly one central node), determine the total number $N_{\\triangle}$ of triangles and the total number $N_{\\wedge}$ of wedges in this network. In your derivation, explicitly explain how double counting arises when using matrix-power-based counts for closed walks and length-$2$ walks, and how this is removed to obtain $N_{\\triangle}$ and $N_{\\wedge}$. Express the final answers as exact integers. No rounding is required, and there are no physical units.",
            "solution": "The problem requires us to determine the total number of triangles, $N_{\\triangle}$, and the total number of wedges (connected triples), $N_{\\wedge}$, in a given protein-protein interaction network. The network comprises $6$ proteins and is described by a symmetric adjacency matrix $A$.\n\nThe adjacency matrix $A$ for this simple undirected graph is given as:\n$$\nA =\n\\begin{pmatrix}\n0  1  1  0  0  0 \\\\\n1  0  1  0  1  1 \\\\\n1  1  0  1  1  0 \\\\\n0  0  1  0  1  0 \\\\\n0  1  1  1  0  1 \\\\\n0  1  0  0  1  0\n\\end{pmatrix}\n$$\nThe entry $A_{ij} = 1$ if an edge exists between node $i$ and node $j$, and $A_{ij} = 0$ otherwise. Since the graph is simple, there are no self-loops, meaning the diagonal entries are all zero, $A_{ii} = 0$.\n\n### Determination of the Number of Wedges ($N_{\\wedge}$)\n\nA wedge, or connected triple, is a structure consisting of two edges sharing a common central node, forming a path of length $2$ (e.g., $i-j-k$). The most direct way to count wedges is to consider each node as a potential center of a wedge.\n\nFor a given node $j$, the number of wedges centered at $j$ is the number of ways to choose two distinct edges incident to it. If the degree of node $j$ is $d_j$ (i.e., it has $d_j$ neighbors), then the number of pairs of neighbors is given by the binomial coefficient $\\binom{d_j}{2}$.\n\nThe total number of wedges in the network, $N_{\\wedge}$, is the sum of the wedges centered at each node:\n$$\nN_{\\wedge} = \\sum_{j=1}^{6} \\binom{d_j}{2}\n$$\nThe degree $d_j$ of each node $j$ is the sum of the entries in the $j$-th row (or column) of the adjacency matrix $A$.\n$d_1 = 1+1 = 2$\n$d_2 = 1+1+1+1 = 4$\n$d_3 = 1+1+1+1 = 4$\n$d_4 = 1+1 = 2$\n$d_5 = 1+1+1+1 = 4$\n$d_6 = 1+1 = 2$\n\nNow we can compute $N_{\\wedge}$:\n$$\nN_{\\wedge} = \\binom{2}{2} + \\binom{4}{2} + \\binom{4}{2} + \\binom{2}{2} + \\binom{4}{2} + \\binom{2}{2}\n$$\nCalculating the binomial coefficients:\n$\\binom{2}{2} = \\frac{2!}{2!(2-2)!} = 1$\n$\\binom{4}{2} = \\frac{4!}{2!(4-2)!} = \\frac{4 \\times 3}{2} = 6$\n\nSubstituting these values:\n$$\nN_{\\wedge} = 1 + 6 + 6 + 1 + 6 + 1 = 21\n$$\n\nAs required by the problem, we must relate this to matrix powers and double counting. The number of paths of length $2$ in a graph is related to the matrix $A^2$. Specifically, the entry $(A^2)_{ik}$ gives the number of paths of length $2$ from node $i$ to node $k$. The diagonal entry $(A^2)_{jj} = \\sum_k A_{jk}A_{kj}$ represents the number of paths of length $2$ from $j$ back to $j$. Since the graph is simple and undirected ($A_{jj}=0$, $A_{jk}=A_{kj}$), these paths are of the form $j-k-j$. The number of such paths equals the number of neighbors of $j$, so $(A^2)_{jj} = d_j$.\nA common method to count wedges is by enumerating all ordered paths of length $2$ of the form $i-j-k$ where $i \\neq k$. For a central node $j$ with degree $d_j$, there are $d_j$ choices for the first step (to a neighbor $i$) and $d_j-1$ choices for the second step (to a different neighbor $k$). This gives $d_j(d_j-1)$ ordered paths centered at $j$. The total number of such paths in the network is $\\sum_j d_j(d_j-1)$. Each unordered wedge $\\{i-j, j-k\\}$ corresponds to two ordered paths, $i \\to j \\to k$ and $k \\to j \\to i$. This constitutes the double counting mentioned. Therefore, $N_{\\wedge} = \\frac{1}{2}\\sum_j d_j(d_j-1) = \\sum_j \\frac{d_j(d_j-1)}{2} = \\sum_j \\binom{d_j}{2}$, which confirms our initial formula.\n\n### Determination of the Number of Triangles ($N_{\\triangle}$)\n\nA triangle is a $3$-cycle, which is a closed walk of length $3$ involving three distinct vertices (e.g., $i \\to j \\to k \\to i$). The number of walks of length $L$ between any two nodes $i$ and $j$ is given by the entry $(A^L)_{ij}$ of the matrix power $A^L$.\n\nThe total number of closed walks of length $3$ in the graph is the sum of the diagonal entries of $A^3$, which is its trace, $\\text{tr}(A^3)$.\n$$\n\\text{Total closed walks of length } 3 = \\text{tr}(A^3) = \\sum_{i=1}^{6} (A^3)_{ii}\n$$\nIn a simple graph (no self-loops), any closed walk of length $3$ must be a triangle. A walk like $i \\to j \\to i \\to i$ is not possible because $A_{ii}=0$.\n\nThe trace $\\text{tr}(A^3)$ counts ordered closed walks. A single triangle with vertices $\\{i, j, k\\}$ corresponds to multiple entries in this sum. We can start at any of the $3$ vertices. From each starting vertex, we can traverse the triangle in $2$ directions (e.g., from $i$, we can go $i \\to j \\to k \\to i$ or $i \\to k \\to j \\to i$). Thus, each triangle is counted $3 \\times 2 = 6$ times in the trace of $A^3$. This is the double (or rather, sextuple) counting that must be removed.\nThe total number of triangles is therefore:\n$$\nN_{\\triangle} = \\frac{\\text{tr}(A^3)}{6}\n$$\n\nTo calculate this, we first compute $A^2$:\n$$\nA^2 = A \\times A = \n\\begin{pmatrix}\n0  1  1  0  0  0 \\\\\n1  0  1  0  1  1 \\\\\n1  1  0  1  1  0 \\\\\n0  0  1  0  1  0 \\\\\n0  1  1  1  0  1 \\\\\n0  1  0  0  1  0\n\\end{pmatrix}\n\\begin{pmatrix}\n0  1  1  0  0  0 \\\\\n1  0  1  0  1  1 \\\\\n1  1  0  1  1  0 \\\\\n0  0  1  0  1  0 \\\\\n0  1  1  1  0  1 \\\\\n0  1  0  0  1  0\n\\end{pmatrix}\n=\n\\begin{pmatrix}\n2  1  1  1  2  1 \\\\\n1  4  2  2  2  1 \\\\\n1  2  4  1  2  2 \\\\\n1  2  1  2  1  1 \\\\\n2  2  2  1  4  1 \\\\\n1  1  2  1  1  2\n\\end{pmatrix}\n$$\nNext, we\ncompute the diagonal elements of $A^3 = A^2 \\times A$. The $i$-th diagonal element is the dot product of the $i$-th row of $A^2$ and the $i$-th column of $A$ (which is the same as the $i$-th row of $A$ due to symmetry).\n$(A^3)_{11} = (2,1,1,1,2,1) \\cdot (0,1,1,0,0,0) = 0+1+1+0+0+0=2$\n$(A^3)_{22} = (1,4,2,2,2,1) \\cdot (1,0,1,0,1,1) = 1+0+2+0+2+1=6$\n$(A^3)_{33} = (1,2,4,1,2,2) \\cdot (1,1,0,1,1,0) = 1+2+0+1+2+0=6$\n$(A^3)_{44} = (1,2,1,2,1,1) \\cdot (0,0,1,0,1,0) = 0+0+1+0+1+0=2$\n$(A^3)_{55} = (2,2,2,1,4,1) \\cdot (0,1,1,1,0,1) = 0+2+2+1+0+1=6$\n$(A^3)_{66} = (1,1,2,1,1,2) \\cdot (0,1,0,0,1,0) = 0+1+0+0+1+0=2$\n\nThe trace of $A^3$ is the sum of these diagonal elements:\n$$\n\\text{tr}(A^3) = 2 + 6 + 6 + 2 + 6 + 2 = 24\n$$\nFinally, we calculate the number of triangles:\n$$\nN_{\\triangle} = \\frac{24}{6} = 4\n$$\n\nIn summary, there are $N_{\\triangle} = 4$ triangles and $N_{\\wedge} = 21$ wedges in the network.",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 4  21 \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "While local clustering is straightforward, summarizing it for an entire network can be tricky. This practice explores the crucial distinction between two widely used global measures: the network's overall transitivity ($C_{\\mathrm{trans}}$) and the average of all local clustering coefficients ($\\bar{C}$). By analyzing a specially designed heterogeneous network, you will see firsthand how these two metrics can yield very different results and learn why this difference is so important for correctly interpreting the structure of real-world systems .",
            "id": "4268647",
            "problem": "Consider the following explicit construction of a degree-heterogeneous simple, undirected, unweighted graph parameterized by an integer $m \\geq 3$. Let $G_{m}$ be formed by taking $m$ disjoint triangles with vertex sets $\\{a_{j}, b_{j}, c_{j}\\}$ for $j \\in \\{1,\\dots,m\\}$ and edges $\\{(a_{j},b_{j}), (b_{j},c_{j}), (c_{j},a_{j})\\}$ in each triangle, and then adding a single new hub vertex $h$ together with edges $\\{(h,a_{j}) : j \\in \\{1,\\dots,m\\}\\}$. No other edges are present.\n\nUsing only core definitions from network science, compute the following for $G_{m}$:\n- The transitivity (also called global clustering coefficient) $C_{\\mathrm{trans}}$ defined as the ratio of the number of closed connected triplets (triangles counted three times, once per center) to the number of connected triplets of vertices.\n- The average of the local clustering coefficients $\\bar{C}$, where the local clustering coefficient (LCC) of a node $i$ with degree $k_{i} \\geq 2$ is defined as $C_{i} = \\dfrac{2 t_{i}}{k_{i}(k_{i}-1)}$, with $t_{i}$ the number of triangles incident to node $i$, and for $k_{i}  2$ is defined to be $C_{i} = 0$.\n\nFirst, verify from the construction that the hub $h$ has high degree and low local clustering coefficient, and that many low-degree nodes have high local clustering coefficients. Then derive exact, fully simplified, closed-form expressions for $C_{\\mathrm{trans}}$ and $\\bar{C}$ as functions of $m$. Provide exact expressions in terms of $m$; do not approximate. Report your final answer as a row matrix $\\left(C_{\\mathrm{trans}}\\ \\ \\bar{C}\\right)$. No rounding is required. No physical units are involved.",
            "solution": "The problem statement has been validated and found to be scientifically grounded, well-posed, and objective. It is a formal problem within network science that is self-contained and free of contradictions. The construction of the graph $G_m$ is unambiguous, and the definitions provided for transitivity and local clustering coefficient are standard. Thus, a complete solution can be derived.\n\nLet us begin by characterizing the graph $G_m$ for a given integer $m \\geq 3$.\n\nThe total number of vertices, $N$, is the sum of the vertices in the $m$ triangles and the central hub vertex. Each triangle has $3$ vertices.\n$$N = 3m + 1$$\n\nNext, we determine the degree $k_i$ for each vertex $i$ in the graph. The vertices can be classified into three types:\n$1$. The hub vertex, $h$. It is connected to one vertex, $a_j$, from each of the $m$ triangles. Therefore, its degree is $k_h = m$.\n$2$. The vertices $a_j$ for $j \\in \\{1, \\dots, m\\}$. Each vertex $a_j$ is part of a triangle, connected to $b_j$ and $c_j$. It is also connected to the hub $h$. Thus, its degree is $k_{a_j} = 3$. There are $m$ such vertices.\n$3$. The vertices $b_j$ and $c_j$ for $j \\in \\{1, \\dots, m\\}$. Each of these vertices is only connected within its own triangle. For instance, $b_j$ is connected to $a_j$ and $c_j$. Therefore, its degree is $k_{b_j} = 2$. By symmetry, $k_{c_j} = 2$. There are $2m$ such vertices in total.\n\nBefore proceeding, we verify the properties mentioned in the problem. The hub $h$ has degree $k_h = m$. For large $m$, this is a high degree. The peripheral nodes $b_j$ and $c_j$ have a low degree of $2$. To check the local clustering coefficients (LCC), we first need the number of triangles $t_i$ incident to each vertex $i$. The LCC is given by $C_i = \\frac{2t_i}{k_i(k_i - 1)}$ for $k_i \\geq 2$ and $C_i=0$ for $k_i  2$.\n\nFor the hub $h$, its neighbors are the set $\\{a_1, a_2, \\dots, a_m\\}$. By construction, there are no edges between any two distinct vertices $a_i$ and $a_j$ (where $i \\neq j$). Therefore, no triangle is formed with $h$ as a vertex. So, $t_h = 0$. Since $m \\geq 3$, $k_h \\geq 3$, and its LCC is:\n$$C_h = \\frac{2 \\cdot 0}{m(m-1)} = 0$$\nThis confirms the hub has low LCC.\n\nFor the vertices $b_j$ (and by symmetry $c_j$), the degree is $k_{b_j}=2$. The neighbors of $b_j$ are $a_j$ and $c_j$. The edge $(a_j, c_j)$ exists as part of the initial triangle construction. Thus, the vertices $\\{a_j, b_j, c_j\\}$ form a triangle, and this is the only triangle incident to $b_j$. So, $t_{b_j} = 1$. The LCC is:\n$$C_{b_j} = \\frac{2 t_{b_j}}{k_{b_j}(k_{b_j}-1)} = \\frac{2 \\cdot 1}{2(2-1)} = 1$$\nThis confirms that the $2m$ low-degree nodes of degree $2$ have a high LCC (in fact, the maximum possible value).\n\nNow we compute the two required quantities.\n\n**1. Transitivity ($C_{\\mathrm{trans}}$)**\n\nThe transitivity is defined as $C_{\\mathrm{trans}} = \\frac{3 \\times (\\text{number of triangles})}{(\\text{number of connected triplets})}$.\nLet $N_{\\triangle}$ be the total number of triangles in the graph. As established, the only triangles are the $m$ constituent triangles $\\{a_j, b_j, c_j\\}$. There are no triangles involving the hub $h$. Thus, $N_{\\triangle} = m$.\nThe numerator is $3 N_{\\triangle} = 3m$.\n\nThe number of connected triplets (paths of length $2$) can be calculated by summing over all vertices $i$ the number of pairs of neighbors of $i$, which is $\\binom{k_i}{2}$. Let $N_3$ denote the total number of connected triplets.\n$$N_3 = \\sum_{i \\in V} \\binom{k_i}{2}$$\nWe sum the contributions from each type of vertex:\n- Hub $h$ ($1$ vertex, degree $m$): $\\binom{k_h}{2} = \\binom{m}{2} = \\frac{m(m-1)}{2}$.\n- Vertices $a_j$ ($m$ vertices, degree $3$): $m \\cdot \\binom{k_{a_j}}{2} = m \\binom{3}{2} = m \\cdot \\frac{3 \\cdot 2}{2} = 3m$.\n- Vertices $b_j$ and $c_j$ ($2m$ vertices, degree $2$): $2m \\cdot \\binom{k_{b_j}}{2} = 2m \\binom{2}{2} = 2m \\cdot \\frac{2 \\cdot 1}{2} = 2m$.\n\nThe total number of connected triplets is the sum of these contributions:\n$$N_3 = \\frac{m(m-1)}{2} + 3m + 2m = \\frac{m^2-m}{2} + 5m = \\frac{m^2-m+10m}{2} = \\frac{m^2+9m}{2} = \\frac{m(m+9)}{2}$$\nNow, we can compute the transitivity. Since $m \\geq 3$, $m \\neq 0$.\n$$C_{\\mathrm{trans}} = \\frac{3 N_{\\triangle}}{N_3} = \\frac{3m}{\\frac{m(m+9)}{2}} = \\frac{6m}{m(m+9)} = \\frac{6}{m+9}$$\n\n**2. Average Local Clustering Coefficient ($\\bar{C}$)**\n\nThe average LCC is defined as $\\bar{C} = \\frac{1}{N} \\sum_{i \\in V} C_i$.\nWe have already calculated $C_h=0$ and $C_{b_j}=C_{c_j}=1$. We now need the LCC for the vertices $a_j$.\nFor a vertex $a_j$, the degree is $k_{a_j}=3$. Its neighbors are $\\{h, b_j, c_j\\}$. To find the number of triangles $t_{a_j}$, we check for edges between these neighbors. The only edge is $(b_j, c_j)$. Thus, there is exactly one triangle incident to $a_j$, namely $\\{a_j, b_j, c_j\\}$. So, $t_{a_j}=1$.\nThe LCC for $a_j$ is:\n$$C_{a_j} = \\frac{2 t_{a_j}}{k_{a_j}(k_{a_j}-1)} = \\frac{2 \\cdot 1}{3(3-1)} = \\frac{2}{6} = \\frac{1}{3}$$\nNow we sum the LCCs over all vertices:\n$$\\sum_{i \\in V} C_i = C_h + \\sum_{j=1}^{m} C_{a_j} + \\sum_{j=1}^{m} C_{b_j} + \\sum_{j=1}^{m} C_{c_j}$$\n$$\\sum_{i \\in V} C_i = 1 \\cdot 0 + m \\cdot \\frac{1}{3} + m \\cdot 1 + m \\cdot 1 = \\frac{m}{3} + 2m = \\frac{m+6m}{3} = \\frac{7m}{3}$$\nFinally, we calculate the average LCC using $N = 3m+1$:\n$$\\bar{C} = \\frac{1}{N} \\sum_{i \\in V} C_i = \\frac{1}{3m+1} \\left(\\frac{7m}{3}\\right) = \\frac{7m}{3(3m+1)} = \\frac{7m}{9m+3}$$\nThe two derived expressions are $C_{\\mathrm{trans}} = \\frac{6}{m+9}$ and $\\bar{C} = \\frac{7m}{9m+3}$. These are the exact, fully simplified, closed-form expressions required.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\frac{6}{m+9}  \\frac{7m}{9m+3}\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "Real-world networks are dynamic entities that grow and change over time. This exercise moves from static analysis to the dynamics of network structure, asking a fundamental question: how does adding a single edge affect the network's overall transitivity? You will derive the precise mathematical condition that governs this change, uncovering the trade-off between forming new triangles and creating new open wedges, which is a key mechanism driving the evolution of clustered networks .",
            "id": "4268629",
            "problem": "Consider a finite, simple, undirected graph $G=(V,E)$ with vertex set $V$ and edge set $E$. For each vertex $i \\in V$, let its degree be $k_i$. Define a triangle as a $3$-cycle, and define a connected triple (also called a wedge) as an unordered set of three vertices $\\{i,j,\\ell\\}$ for which there exist exactly two edges that share a unique central vertex (equivalently, a path of length two). Let $T$ denote the total number of triangles in $G$, and let $W$ denote the total number of connected triples in $G$, i.e., $W=\\sum_{i \\in V} \\binom{k_i}{2}$. The global clustering coefficient (global transitivity) is defined as $C_{\\mathrm{trans}}=\\frac{3 T}{W}$, with the convention that it is only defined when $W0$. Define the open wedge count $L$ by $L:=W-3T$. Now suppose an edge $e^{\\ast}=\\{u,v\\}$ is added between two currently non-adjacent vertices $u,v \\in V$. Let the degrees of $u$ and $v$ in $G$ be $d_u$ and $d_v$, respectively, and let $t:=|N(u)\\cap N(v)|$ be the number of common neighbors of $u$ and $v$, where $N(i)$ denotes the neighbor set of vertex $i$ in $G$. Using only these definitions, derive how $T$, $W$, and $L$ change under the addition of $e^{\\ast}$, and explain qualitatively why the global transitivity $C_{\\mathrm{trans}}$ can either increase or decrease depending on the placement of $e^{\\ast}$ (in particular, in terms of open wedge creation versus destruction). Then, compute the exact closed-form expression for the change in global transitivity $\\Delta C_{\\mathrm{trans}} := C_{\\mathrm{trans}}(G \\cup \\{e^{\\ast}\\}) - C_{\\mathrm{trans}}(G)$ solely in terms of $T$, $W$, $d_u$, $d_v$, and $t$. Your final answer must be a single closed-form analytic expression with no units.",
            "solution": "The problem statement is validated as scientifically grounded, well-posed, and objective. It is a standard derivation in network science and contains no inconsistencies or ambiguities. We may proceed with the solution.\n\nLet the original graph be $G=(V,E)$ and the new graph after adding the edge $e^{\\ast}=\\{u,v\\}$ be $G'=(V, E \\cup \\{e^{\\ast}\\})$. The quantities in $G$ are denoted by $T$, $W$, and $C_{\\mathrm{trans}}$, while the corresponding quantities in $G'$ are $T'$, $W'$, and $C'_{\\mathrm{trans}}$. The degrees of vertices $u$ and $v$ in $G$ are given as $d_u$ and $d_v$, respectively. The number of common neighbors of $u$ and $v$ in $G$ is $t = |N(u) \\cap N(v)|$.\n\nFirst, we determine the changes in the number of triangles ($T$), the number of connected triples ($W$), and the number of open wedges ($L$).\n\n**Change in the number of triangles, $\\Delta T$**\nA triangle is a $3$-cycle. Any new triangle formed in $G'$ must contain the newly added edge $e^{\\ast}=\\{u,v\\}$. Such a triangle is completed by a third vertex, say $w$, which must be adjacent to both $u$ and $v$ in the original graph $G$. Therefore, $w$ must be a common neighbor of $u$ and $v$. The set of such vertices is $N(u) \\cap N(v)$. The number of such common neighbors is given as $t$. Each common neighbor $w \\in N(u) \\cap N(v)$ forms exactly one new triangle $\\{u,v,w\\}$.\nThus, the number of new triangles is precisely $t$.\n$$T' = T + t$$\nThe change in the number of triangles is:\n$$\\Delta T = T' - T = t$$\n\n**Change in the number of connected triples, $\\Delta W$**\nThe total number of connected triples (wedges) is defined as $W=\\sum_{i \\in V} \\binom{k_i}{2}$, where $k_i$ is the degree of vertex $i$.\nUpon adding the edge $e^{\\ast}=\\{u,v\\}$, only the degrees of vertices $u$ and $v$ change. Their new degrees, $k'_u$ and $k'_v$, are:\n$$k'_u = d_u + 1$$\n$$k'_v = d_v + 1$$\nFor all other vertices $i \\in V \\setminus \\{u,v\\}$, the degree remains unchanged, i.e., $k'_i = k_i$.\nThe new total number of wedges, $W'$, is:\n$$W' = \\sum_{i \\in V} \\binom{k'_i}{2} = \\left( \\sum_{i \\in V \\setminus \\{u,v\\}} \\binom{k_i}{2} \\right) + \\binom{k'_u}{2} + \\binom{k'_v}{2}$$\nWe can rewrite the sum as:\n$$W' = \\left( \\sum_{i \\in V} \\binom{k_i}{2} - \\binom{d_u}{2} - \\binom{d_v}{2} \\right) + \\binom{d_u+1}{2} + \\binom{d_v+1}{2}$$\n$$W' = W + \\left[ \\binom{d_u+1}{2} - \\binom{d_u}{2} \\right] + \\left[ \\binom{d_v+1}{2} - \\binom{d_v}{2} \\right]$$\nUsing the identity $\\binom{n+1}{2} - \\binom{n}{2} = \\frac{(n+1)n}{2} - \\frac{n(n-1)}{2} = \\frac{n(n+1 - n + 1)}{2} = n$, we find:\n$$\\binom{d_u+1}{2} - \\binom{d_u}{2} = d_u$$\n$$\\binom{d_v+1}{2} - \\binom{d_v}{2} = d_v$$\nSubstituting these into the expression for $W'$:\n$$W' = W + d_u + d_v$$\nThe change in the number of connected triples is:\n$$\\Delta W = W' - W = d_u + d_v$$\n\n**Change in the number of open wedges, $\\Delta L$**\nThe number of open wedges is defined as $L := W - 3T$. The change, $\\Delta L = L' - L$, is therefore:\n$$\\Delta L = (W' - 3T') - (W - 3T) = (W' - W) - 3(T' - T)$$\nSubstituting the previously derived changes $\\Delta W$ and $\\Delta T$:\n$$\\Delta L = \\Delta W - 3\\Delta T = (d_u + d_v) - 3t$$\n\n**Qualitative explanation for the change in Global Transitivity, $C_{\\mathrm{trans}}$**\nThe global transitivity is the ratio of the number of closed triples to the total number of triples: $C_{\\mathrm{trans}} = \\frac{3T}{W}$. Adding an edge $e^{\\ast}$ changes the numerator by $3\\Delta T = 3t$ and the denominator by $\\Delta W = d_u+d_v$.\nThe new transitivity is $C'_{\\mathrm{trans}} = \\frac{3T'}{W'} = \\frac{3(T+t)}{W+d_u+d_v}$.\nThe change in transitivity, $\\Delta C_{\\mathrm{trans}} = C'_{\\mathrm{trans}} - C_{\\mathrm{trans}}$, can be positive, negative, or zero depending on the specific placement of the edge. The sign of the change is determined by whether the fraction increases or decreases. The fraction $\\frac{A}{B}$ increases upon adding $\\Delta A$ and $\\Delta B$ if the relative increase in the numerator is greater than the relative increase in the denominator, i.e., $\\frac{\\Delta A}{A}  \\frac{\\Delta B}{B}$.\nIn our case, $A = 3T$, $B = W$, $\\Delta A = 3t$, and $\\Delta B = d_u+d_v$. Thus, $C_{\\mathrm{trans}}$ increases if:\n$$\\frac{3t}{3T}  \\frac{d_u+d_v}{W} \\implies \\frac{t}{T}  \\frac{d_u+d_v}{W}$$\nThis inequality highlights the competition between triangle formation and wedge creation.\n*   **Increase in $C_{\\mathrm{trans}}$**: Transitivity increases when the new edge is efficient at closing open wedges into triangles. This occurs when the edge is placed between two vertices $u$ and $v$ that share many common neighbors (large $t$), but do not necessarily have very high degrees themselves (moderate $d_u, d_v$). A large $t$ leads to a significant increase in the number of triangles ($T$), boosting the numerator. If the number of newly created wedges ($d_u+d_v$) is not excessively large, the relative increase in the numerator ($3t/3T$) will outpace the relative increase in the denominator ($ (d_u+d_v)/W $), causing $C_{\\mathrm{trans}}$ to rise. This corresponds to a \"densification\" process within a community.\n*   **Decrease in $C_{\\mathrm{trans}}$**: Transitivity decreases when the new edge is inefficient at closing wedges but prolific at creating new open ones. This occurs when an edge is placed between two high-degree vertices ($d_u, d_v$ are large) that share few or no common neighbors (small $t$). In this scenario, few or no new triangles are formed, so the numerator $3T$ changes little. However, a large number of new wedges ($d_u+d_v$) are created, substantially increasing the denominator $W$. The result is a \"dilution\" of the graph's transitivity. This corresponds to adding a \"long-range\" link between previously disconnected parts of the network.\n\n**Derivation of the exact expression for $\\Delta C_{\\mathrm{trans}}$**\nWe seek to find the expression for $\\Delta C_{\\mathrm{trans}} = C'_{\\mathrm{trans}} - C_{\\mathrm{trans}}$.\n$$\\Delta C_{\\mathrm{trans}} = \\frac{3(T+t)}{W+d_u+d_v} - \\frac{3T}{W}$$\nTo combine these terms, we find a common denominator, which is $W(W+d_u+d_v)$:\n$$\\Delta C_{\\mathrm{trans}} = \\frac{3(T+t)W - 3T(W+d_u+d_v)}{W(W+d_u+d_v)}$$\nExpanding the numerator:\n$$\\Delta C_{\\mathrm{trans}} = \\frac{3TW + 3tW - 3TW - 3T(d_u+d_v)}{W(W+d_u+d_v)}$$\nThe $3TW$ terms cancel out, leaving:\n$$\\Delta C_{\\mathrm{trans}} = \\frac{3tW - 3T(d_u+d_v)}{W(W+d_u+d_v)}$$\nFactoring out the constant $3$ from the numerator gives the final expression:\n$$\\Delta C_{\\mathrm{trans}} = \\frac{3(tW - T(d_u+d_v))}{W(W+d_u+d_v)}$$\nThis expression is in terms of the required quantities $T$, $W$, $d_u$, $d_v$, and $t$. The sign of the numerator, $tW - T(d_u+d_v)$, determines whether the transitivity increases, decreases, or remains unchanged, which is consistent with our qualitative analysis.",
            "answer": "$$\\boxed{\\frac{3(tW - T(d_u+d_v))}{W(W+d_u+d_v)}}$$"
        }
    ]
}