{
    "hands_on_practices": [
        {
            "introduction": "A foundational question when analyzing a multilayer system is how to represent it. This exercise challenges the common practice of aggregating layers into a single network by demonstrating a scenario where this simplification leads to incorrect conclusions about node importance. By calculating and comparing eigenvector centrality on an aggregated network versus its true multiplex form, you will uncover the critical information that is lost during aggregation .",
            "id": "4131650",
            "problem": "Consider a multiplex network with two layers defined on the same node set $\\{1,2,3\\}$. In each layer, the topology is a weighted path: node $1$ is connected to node $2$ with weight $a$, and node $2$ is connected to node $3$ with weight $b$, with no other edges. The adjacency matrix of a single layer with weights $a$ and $b$ is\n$$\nA(a,b) \\;=\\; \\begin{pmatrix}\n0 & a & 0 \\\\\na & 0 & b \\\\\n0 & b & 0\n\\end{pmatrix}.\n$$\nLet layer $1$ have weights $a_{1} = 2.5$ and $b_{1} = 1$, and let layer $2$ have weights $a_{2} = 0.2$ and $b_{2} = 2.6$. Define aggregated eigenvector centrality (EC) as the dominant eigenvector of the aggregated adjacency $A^{\\mathrm{agg}} = A(a_{1},b_{1}) + A(a_{2},b_{2})$, and define multiplex EC as follows: form the supra-adjacency matrix\n$$\n\\mathcal{A}(\\omega) \\;=\\; \\begin{pmatrix}\nA(a_{1},b_{1}) & \\omega I \\\\\n\\omega I & A(a_{2},b_{2})\n\\end{pmatrix},\n$$\nwhere $I$ is the $3 \\times 3$ identity matrix and $\\omega \\ge 0$ is an interlayer coupling parameter. The multiplex EC of node $i$ is the sum of the components of the dominant eigenvector of $\\mathcal{A}(\\omega)$ corresponding to node $i$ across the two layers. Assume the extreme weak-coupling regime $\\omega = 0$.\n\nStarting from the definition of eigenvector centrality (EC) for a symmetric adjacency matrix $A$, which is the positive eigenvector $x$ satisfying $A x = \\lambda x$ for the spectral radius $\\lambda$, derive from first principles the node-wise EC ratios for the path topology. Use these derivations to demonstrate that the aggregated EC can mis-rank nodes relative to the multiplex EC by explicitly comparing the ranking of node $1$ versus node $3$ for the given two-layer network under the definitions above with $\\omega = 0$. Then, compute the inversion factor\n$$\nI \\;=\\; \\left(\\frac{x^{\\mathrm{agg}}_{3}}{x^{\\mathrm{agg}}_{1}}\\right) \\Big/ \\left(\\frac{x^{\\mathrm{mux}}_{3}}{x^{\\mathrm{mux}}_{1}}\\right),\n$$\nwhere $x^{\\mathrm{agg}}_{i}$ denotes the aggregated EC of node $i$ and $x^{\\mathrm{mux}}_{i}$ denotes the multiplex EC of node $i$. Express $I$ as a single exact number. No rounding is required. There are no physical units in this problem.",
            "solution": "The problem is well-posed, scientifically grounded, and contains all necessary information to derive a unique solution. We begin by addressing the components of the problem in sequence.\n\nFirst, we derive the eigenvector centrality (EC) ratios for a general $3$-node path topology with adjacency matrix\n$$\nA(a,b) = \\begin{pmatrix} 0 & a & 0 \\\\ a & 0 & b \\\\ 0 & b & 0 \\end{pmatrix}\n$$\nwhere $a > 0$ and $b > 0$. The eigenvector centrality vector $x = (x_1, x_2, x_3)^T$ is the dominant eigenvector of $A$, which satisfies the equation $A x = \\lambda x$ where $\\lambda$ is the spectral radius of $A$. We start by finding the eigenvalues by solving the characteristic equation $\\det(A - \\lambda I) = 0$.\n$$\n\\det\\begin{pmatrix} -\\lambda & a & 0 \\\\ a & -\\lambda & b \\\\ 0 & b & -\\lambda \\end{pmatrix} = -\\lambda(\\lambda^2 - b^2) - a(-a\\lambda) = -\\lambda^3 + \\lambda b^2 + a^2 \\lambda = -\\lambda(\\lambda^2 - (a^2+b^2)) = 0\n$$\nThe eigenvalues are $\\lambda_1 = \\sqrt{a^2+b^2}$, $\\lambda_2 = 0$, and $\\lambda_3 = -\\sqrt{a^2+b^2}$. The spectral radius is the largest absolute value of the eigenvalues, which is $\\lambda_{\\max} = \\sqrt{a^2+b^2}$.\n\nNow we find the corresponding eigenvector $x$ for $\\lambda = \\lambda_{\\max}$:\n$$\n\\begin{pmatrix} 0 & a & 0 \\\\ a & 0 & b \\\\ 0 & b & 0 \\end{pmatrix} \\begin{pmatrix} x_1 \\\\ x_2 \\\\ x_3 \\end{pmatrix} = \\lambda_{\\max} \\begin{pmatrix} x_1 \\\\ x_2 \\\\ x_3 \\end{pmatrix}\n$$\nThis gives the system of linear equations:\n$1.$ $a x_2 = \\lambda_{\\max} x_1$\n$2.$ $a x_1 + b x_3 = \\lambda_{\\max} x_2$\n$3.$ $b x_2 = \\lambda_{\\max} x_3$\n\nFrom equation (1), we have $x_1 = \\frac{a}{\\lambda_{\\max}} x_2$.\nFrom equation (3), we have $x_3 = \\frac{b}{\\lambda_{\\max}} x_2$.\nBy the Perron-Frobenius theorem for non-negative matrices, the dominant eigenvector can be chosen to have strictly positive components, so $x_2 \\neq 0$. The ratio of the centralities of node $3$ and node $1$ is:\n$$\n\\frac{x_3}{x_1} = \\frac{\\frac{b}{\\lambda_{\\max}} x_2}{\\frac{a}{\\lambda_{\\max}} x_2} = \\frac{b}{a}\n$$\nThis demonstrates that for this path topology, the ratio of the eigenvector centralities of the two end-nodes is equal to the ratio of the weights of their respective links to the central node. The full eigenvector is proportional to $(a, \\lambda_{\\max}, b)^T$, which is $(a, \\sqrt{a^2+b^2}, b)^T$.\n\nNext, we calculate the aggregated eigenvector centrality. The aggregated adjacency matrix $A^{\\mathrm{agg}}$ is the sum of the layer adjacency matrices:\n$$\nA^{\\mathrm{agg}} = A(a_{1},b_{1}) + A(a_{2},b_{2}) = \\begin{pmatrix} 0 & a_1 & 0 \\\\ a_1 & 0 & b_1 \\\\ 0 & b_1 & 0 \\end{pmatrix} + \\begin{pmatrix} 0 & a_2 & 0 \\\\ a_2 & 0 & b_2 \\\\ 0 & b_2 & 0 \\end{pmatrix} = \\begin{pmatrix} 0 & a_1+a_2 & 0 \\\\ a_1+a_2 & 0 & b_1+b_2 \\\\ 0 & b_1+b_2 & 0 \\end{pmatrix}\n$$\nThis aggregated matrix is of the form $A(a_{\\mathrm{agg}}, b_{\\mathrm{agg}})$ with $a_{\\mathrm{agg}} = a_1+a_2$ and $b_{\\mathrm{agg}} = b_1+b_2$.\nUsing the given values $a_1 = 2.5$, $b_1 = 1$, $a_2 = 0.2$, and $b_2 = 2.6$:\n$a_{\\mathrm{agg}} = 2.5 + 0.2 = 2.7$\n$b_{\\mathrm{agg}} = 1 + 2.6 = 3.6$\nUsing our derived formula, the ratio of the aggregated ECs for nodes $3$ and $1$ is:\n$$\n\\frac{x^{\\mathrm{agg}}_{3}}{x^{\\mathrm{agg}}_{1}} = \\frac{b_{\\mathrm{agg}}}{a_{\\mathrm{agg}}} = \\frac{3.6}{2.7} = \\frac{36}{27} = \\frac{4}{3}\n$$\nSince $\\frac{4}{3} > 1$, for the aggregated network, $x^{\\mathrm{agg}}_{3} > x^{\\mathrm{agg}}_{1}$, meaning node $3$ is ranked as more central than node $1$.\n\nNow, we calculate the multiplex eigenvector centrality. The supra-adjacency matrix is given by:\n$$\n\\mathcal{A}(\\omega) = \\begin{pmatrix} A(a_{1},b_{1}) & \\omega I \\\\ \\omega I & A(a_{2},b_{2}) \\end{pmatrix}\n$$\nWe are in the extreme weak-coupling regime, $\\omega=0$. The matrix becomes block-diagonal:\n$$\n\\mathcal{A}(0) = \\begin{pmatrix} A(a_{1},b_{1}) & \\mathbf{0} \\\\ \\mathbf{0} & A(a_{2},b_{2}) \\end{pmatrix}\n$$\nThe eigenvalues of a block-diagonal matrix are the union of the eigenvalues of its blocks. Let $\\lambda_{\\max}^{(1)}$ and $\\lambda_{\\max}^{(2)}$ be the spectral radii of $A(a_1,b_1)$ and $A(a_2,b_2)$ respectively.\n$\\lambda_{\\max}^{(1)} = \\sqrt{a_1^2 + b_1^2} = \\sqrt{(2.5)^2 + 1^2} = \\sqrt{6.25 + 1} = \\sqrt{7.25}$\n$\\lambda_{\\max}^{(2)} = \\sqrt{a_2^2 + b_2^2} = \\sqrt{(0.2)^2 + (2.6)^2} = \\sqrt{0.04 + 6.76} = \\sqrt{6.8}$\nThe spectral radius of $\\mathcal{A}(0)$ is $\\lambda_{\\max} = \\max(\\lambda_{\\max}^{(1)}, \\lambda_{\\max}^{(2)}) = \\sqrt{7.25} = \\lambda_{\\max}^{(1)}$.\nThe dominant eigenvector $\\mathbf{x}_{\\mathrm{mux}}$ of $\\mathcal{A}(0)$ has the block structure $\\mathbf{x}_{\\mathrm{mux}} = (x^{(1)}, x^{(2)})^T$. The eigenvector equation $\\mathcal{A}(0)\\mathbf{x}_{\\mathrm{mux}} = \\lambda_{\\max}\\mathbf{x}_{\\mathrm{mux}}$ decouples into:\n$A(a_1, b_1) x^{(1)} = \\lambda_{\\max} x^{(1)} = \\lambda_{\\max}^{(1)} x^{(1)}$\n$A(a_2, b_2) x^{(2)} = \\lambda_{\\max} x^{(2)} = \\lambda_{\\max}^{(1)} x^{(2)}$\nThe first equation means $x^{(1)}$ is the dominant eigenvector of $A(a_1, b_1)$. Since $\\lambda_{\\max}^{(1)} \\neq \\lambda_{\\max}^{(2)}$, $\\lambda_{\\max}^{(1)}$ is not an eigenvalue of $A(a_2,b_2)$, so the only solution to the second equation is $x^{(2)} = \\mathbf{0}$.\nThus, the dominant eigenvector of $\\mathcal{A}(0)$ localizes entirely on layer $1$.\nThe multiplex EC of node $i$, $x_i^{\\mathrm{mux}}$, is the sum of the components corresponding to node $i$ across layers. With $x^{(2)}=\\mathbf{0}$, we have $x_i^{\\mathrm{mux}} = x_i^{(1)} + x_i^{(2)} = x_i^{(1)}$. The multiplex EC is identical to the EC of the dominant layer (layer $1$).\nUsing our general formula for the EC ratio on layer $1$:\n$$\n\\frac{x^{\\mathrm{mux}}_{3}}{x^{\\mathrm{mux}}_{1}} = \\frac{x^{(1)}_{3}}{x^{(1)}_{1}} = \\frac{b_1}{a_1} = \\frac{1}{2.5} = \\frac{2}{5}\n$$\nSince $\\frac{2}{5} < 1$, for the multiplex network, $x^{\\mathrm{mux}}_{1} > x^{\\mathrm{mux}}_{3}$, meaning node $1$ is ranked as more central than node $3$. This is an inversion of the ranking found with the aggregated network.\n\nFinally, we compute the inversion factor $I$:\n$$\nI = \\left(\\frac{x^{\\mathrm{agg}}_{3}}{x^{\\mathrm{agg}}_{1}}\\right) \\Big/ \\left(\\frac{x^{\\mathrm{mux}}_{3}}{x^{\\mathrm{mux}}_{1}}\\right)\n$$\nSubstituting the values we calculated:\n$$\nI = \\frac{4/3}{2/5} = \\frac{4}{3} \\times \\frac{5}{2} = \\frac{20}{6} = \\frac{10}{3}\n$$\nThe value of the inversion factor is an exact rational number.",
            "answer": "$$\n\\boxed{\\frac{10}{3}}\n$$"
        },
        {
            "introduction": "The supra-graph is a powerful tool that explicitly maps the structure of a multiplex network, but understanding how information flows within it requires careful analysis of its paths. This practice focuses on computing betweenness centrality, a key path-based metric, directly on the supra-graph. Through this calculation, you will gain first-hand experience in how interlayer edges create new shortest paths and alter the roles of nodes in the system .",
            "id": "4131652",
            "problem": "Consider a multiplex network with two layers, labeled $\\alpha \\in \\{1,2\\}$, over a physical node set $V_{p} = \\{1,2,3\\}$. The supra-graph has vertex set $U = \\{(i,\\alpha) : i \\in V_{p}, \\alpha \\in \\{1,2\\}\\}$ and undirected edges defined as follows. Intra-layer edges in layer $\\alpha=1$ are $E^{(1)} = \\{(1,2),(2,3)\\}$, and intra-layer edges in layer $\\alpha=2$ are $E^{(2)} = \\{(1,2),(2,3),(1,3)\\}$. Interlayer coupling edges connect replicas of the same physical node: for each $i \\in \\{1,2,3\\}$, there is an undirected interlayer edge between $(i,1)$ and $(i,2)$. All edges have unit weight $1$. Treat the supra-graph as undirected.\n\nLet $v = (2,1)$ denote the supra-node corresponding to physical node $2$ in layer $1$. Using the standard definition of node betweenness centrality for undirected graphs, compute the raw betweenness centrality of $v$ on the supra-graph, defined by\n$$\nC_{B}(v) \\;=\\; \\sum_{\\substack{s,t \\in U \\\\ s \\neq t,\\, s \\neq v,\\, t \\neq v,\\, s<t}} \\frac{\\sigma_{st}(v)}{\\sigma_{st}},\n$$\nwhere $\\sigma_{st}$ is the total number of geodesic (shortest) paths between $s$ and $t$ in the supra-graph, $\\sigma_{st}(v)$ is the number of those geodesic paths that pass through $v$, and $s<t$ indicates that unordered pairs are counted once.\n\nIn your derivation, begin from core definitions of multiplex networks, supra-graph construction, geodesic paths, and betweenness centrality, and reason from first principles to enumerate geodesics and their counts. In addition, explain within your solution how the presence of interlayer edges changes geodesic counts relative to a single-layer projection $G^{(1)} \\cup G^{(2)}$ over physical nodes.\n\nProvide the final value of $C_{B}(v)$ as an exact number. No rounding is required, and no physical units are involved.",
            "solution": "The problem requires the computation of the betweenness centrality of a specific node in a two-layer multiplex network. The solution proceeds in three stages: first, a formal construction of the supra-graph representing the multiplex network; second, a systematic enumeration of geodesic paths to calculate the betweenness centrality; and third, an analysis of the role of interlayer edges in shaping network paths.\n\n**1. Supra-graph Construction**\nThe multiplex network consists of two layers, $\\alpha \\in \\{1,2\\}$, defined over a set of $3$ physical nodes, $V_p = \\{1,2,3\\}$. The supra-graph $G_S$ is constructed from this specification.\n\nThe vertex set of the supra-graph, denoted by $U$, is the set of all node-layer pairs. With $3$ physical nodes and $2$ layers, we have $|U| = 3 \\times 2 = 6$ vertices. Let us denote a vertex as $(i,\\alpha)$, where $i \\in V_p$ is the physical node and $\\alpha$ is the layer. The vertices are:\n$U = \\{(1,1), (2,1), (3,1), (1,2), (2,2), (3,2)\\}$.\n\nThe edge set of the supra-graph is the union of intra-layer and inter-layer edges. All edges are undirected and have a unit weight of $1$.\nThe intra-layer edges for layer $\\alpha=1$ are given by $E^{(1)} = \\{(1,2), (2,3)\\}$. In the supra-graph, these correspond to the edges $\\{((1,1),(2,1)), ((2,1),(3,1))\\}$. This layer forms a path graph.\nThe intra-layer edges for layer $\\alpha=2$ are given by $E^{(2)} = \\{(1,2), (2,3), (1,3)\\}$. In the supra-graph, these correspond to the edges $\\{((1,2),(2,2)), ((2,2),(3,2)), ((1,2),(3,2))\\}$. This layer forms a complete graph (a triangle).\nThe interlayer edges connect replicas of the same physical node. For each $i \\in \\{1,2,3\\}$, there is an edge between $(i,1)$ and $(i,2)$. This gives the edge set $\\{((1,1),(1,2)), ((2,1),(2,2)), ((3,1),(3,2))\\}$.\n\n**2. Betweenness Centrality Calculation**\nWe are asked to compute the betweenness centrality $C_B(v)$ for the node $v=(2,1)$. The provided formula is:\n$$C_{B}(v) = \\sum_{\\substack{s,t \\in U \\\\ s \\neq t,\\, s \\neq v,\\, t \\neq v,\\, s<t}} \\frac{\\sigma_{st}(v)}{\\sigma_{st}}$$\nwhere $\\sigma_{st}$ is the number of geodesic (shortest) paths between nodes $s$ and $t$, and $\\sigma_{st}(v)$ is the number of those geodesics that pass through $v=(2,1)$. The condition $s<t$ signifies that we sum over all unordered pairs of distinct nodes, neither of which is $v$.\n\nThe set of nodes other than $v=(2,1)$ is $U' = U \\setminus \\{(2,1)\\} = \\{(1,1), (3,1), (1,2), (2,2), (3,2)\\}$.\nThere are $\\binom{5}{2} = 10$ unique pairs of nodes $(s, t)$ from $U'$. We will analyze each pair to determine its contribution to the sum. The distance between two nodes, $d(s,t)$, is the length of a geodesic path.\n\n1.  **Pair $s=(1,1), t=(3,1)$**:\n    - Path 1: $(1,1) \\to (2,1) \\to (3,1)$. The length is $2$. This path passes through $v=(2,1)$.\n    - An alternative path through the other layer would be $(1,1) \\to (1,2) \\to (3,2) \\to (3,1)$. Its length is $1+1+1=3$.\n    - Thus, the geodesic path is unique. $d(s,t)=2$, $\\sigma_{st}=1$.\n    - The number of geodesics passing through $v$ is $\\sigma_{st}(v)=1$.\n    - Contribution: $\\frac{1}{1} = 1$.\n\n2.  **Pair $s=(1,1), t=(1,2)$**:\n    - These nodes are directly connected by an interlayer edge.\n    - $d(s,t)=1$. A geodesic of length $1$ cannot pass through any intermediate node.\n    - Contribution: $\\frac{0}{\\sigma_{st}} = 0$.\n\n3.  **Pair $s=(1,1), t=(2,2)$**:\n    - Path 1: $(1,1) \\to (2,1) \\to (2,2)$. The length is $1+1=2$. This path passes through $v=(2,1)$.\n    - Path 2: $(1,1) \\to (1,2) \\to (2,2)$. The length is $1+1=2$. This path does not pass through $v$.\n    - Both paths are geodesics. $d(s,t)=2$, $\\sigma_{st}=2$.\n    - The number of geodesics passing through $v$ is $\\sigma_{st}(v)=1$.\n    - Contribution: $\\frac{1}{2}$.\n\n4.  **Pair $s=(1,1), t=(3,2)$**:\n    - Path 1: $(1,1) \\to (1,2) \\to (3,2)$. The length is $1+1=2$. This path does not pass through $v$.\n    - Alternative paths, such as $(1,1) \\to (2,1) \\to (2,2) \\to (3,2)$, have length $3$.\n    - The geodesic path is unique. $d(s,t)=2$, $\\sigma_{st}=1$.\n    - The number of geodesics passing through $v$ is $\\sigma_{st}(v)=0$.\n    - Contribution: $\\frac{0}{1} = 0$.\n\n5.  **Pair $s=(3,1), t=(1,2)$**:\n    - Path 1: $(3,1) \\to (3,2) \\to (1,2)$. The length is $1+1=2$. This path does not pass through $v$.\n    - Alternative paths, such as $(3,1) \\to (2,1) \\to (1,1) \\to (1,2)$, have length $3$.\n    - The geodesic path is unique. $d(s,t)=2$, $\\sigma_{st}=1$.\n    - The number of geodesics passing through $v$ is $\\sigma_{st}(v)=0$.\n    - Contribution: $\\frac{0}{1} = 0$.\n\n6.  **Pair $s=(3,1), t=(2,2)$**:\n    - Path 1: $(3,1) \\to (2,1) \\to (2,2)$. The length is $1+1=2$. This path passes through $v$.\n    - Path 2: $(3,1) \\to (3,2) \\to (2,2)$. The length is $1+1=2$. This path does not pass through $v$.\n    - Both paths are geodesics. $d(s,t)=2$, $\\sigma_{st}=2$.\n    - The number of geodesics passing through $v$ is $\\sigma_{st}(v)=1$.\n    - Contribution: $\\frac{1}{2}$.\n\n7.  **Pair $s=(3,1), t=(3,2)$**:\n    - These nodes are directly connected by an interlayer edge. $d(s,t)=1$.\n    - Contribution: $0$.\n\n8.  **Pair $s=(1,2), t=(2,2)$**:\n    - These nodes are directly connected by an intra-layer edge in layer $2$. $d(s,t)=1$.\n    - Contribution: $0$.\n\n9.  **Pair $s=(1,2), t=(3,2)$**:\n    - These nodes are directly connected by an intra-layer edge in layer $2$. $d(s,t)=1$.\n    - Contribution: $0$.\n\n10. **Pair $s=(2,2), t=(3,2)$**:\n    - These nodes are directly connected by an intra-layer edge in layer $2$. $d(s,t)=1$.\n    - Contribution: $0$.\n\nThe total betweenness centrality is the sum of these contributions:\n$$C_B((2,1)) = 1 + 0 + \\frac{1}{2} + 0 + 0 + \\frac{1}{2} + 0 + 0 + 0 + 0 = 2$$\n\n**3. Effect of Interlayer Edges**\nThe problem asks for an explanation of how interlayer edges affect geodesic counts relative to a single-layer projection. The single-layer projection $G_{proj} = G^{(1)} \\cup G^{(2)}$ is a graph on the physical nodes $V_p = \\{1,2,3\\}$ with an edge set $E_{proj} = E^{(1)} \\cup E^{(2)} = \\{(1,2), (2,3)\\} \\cup \\{(1,2), (2,3), (1,3)\\} = \\{(1,2), (2,3), (1,3)\\}$. This projected graph is the complete graph $K_3$.\n\nThe role of interlayer edges in the supra-graph is fundamentally different from the simplification offered by the projection.\nFirst, the interlayer edges are what make the supra-graph connected. Without them, the graph would consist of two disconnected components (layer $1$ and layer $2$), and no path would exist between a node $(i,\\alpha)$ and a node $(j,\\beta)$ if $\\alpha \\neq \\beta$. The number of geodesics $\\sigma_{st}$ would be $0$ for any such pair. The interlayer edges create paths between layers, allowing for communication and influence to spread across the entire multiplex system. For example, for the pair $s=(1,1), t=(2,2)$, the interlayer edges enable two distinct geodesic paths of length $2$, where $\\sigma_{st}$ would otherwise be $0$.\n\nSecond, for nodes within the same layer, interlayer edges provide alternative routes that pass through other layers. These new paths may be shorter, longer, or of equal length to the existing intra-layer paths. If these new paths are also geodesics, they increase the total count $\\sigma_{st}$. If they are shorter than any intra-layer path, they redefine the geodesic distance $d(s,t)$ and become the new sole geodesics. In the specific problem given, for path $(1,1) \\to (3,1)$, the intra-layer path in layer $1$ has length $2$. The alternative path via layer $2$, $(1,1) \\to (1,2) \\to (3,2) \\to (3,1)$, has length $3$. Thus, the interlayer edges do not provide a shorter path or an alternative geodesic in this case.\n\nThe single-layer projection $G_{proj}$ is a lossy representation. It aggregates all connections onto a single set of nodes, ignoring the layer structure. This leads to a different topology and, consequently, different path information. For instance, in $G_{proj}$, the edge $(1,3)$ exists, so the distance $d_{proj}(1,3)=1$ and the geodesic count $\\sigma_{1,3}=1$. In the supra-graph, however, the shortest path between the corresponding nodes in layer $1$, i.e., from $(1,1)$ to $(3,1)$, has a length of $2$. The direct connection $(1,3)$ is only available in layer $2$. To use it, a path starting at $(1,1)$ must first switch to layer $2$ (cost $1$), traverse the edge (cost $1$), and switch back (cost $1$), for a total path length of at least $3$. The supra-graph formalism correctly captures the \"cost\" of traversing layers, a critical detail that is lost in the simple projection. The interlayer edges, with their unit weight, are the mechanism that quantifies this cost.",
            "answer": "$$\n\\boxed{2}\n$$"
        },
        {
            "introduction": "Identifying mesoscale structures, like communities, is a central goal in network science, and multiplex networks introduce a new layer of complexity to this task. This problem delves into multilayer modularity, a key metric for detecting communities that may be consistent or varied across layers. By evaluating the modularity of different community assignments, you will quantitatively explore the trade-off between layer-specific structure and cross-layer stability, controlled by the interlayer coupling parameter $\\omega$ .",
            "id": "4289169",
            "problem": "Consider a multiplex network with two layers ($L=2$) and six nodes ($N=6$). Each layer is an undirected, unweighted graph on the same labeled node set $\\{1,2,3,4,5,6\\}$. The interlayer coupling is diagonal: each node is connected to its counterpart across layers with weight $\\omega \\geq 0$.\n\nLayer $1$ consists of two disjoint triangles: one on nodes $\\{1,2,3\\}$ and one on nodes $\\{4,5,6\\}$; that is, the intralayer edges in layer $1$ are $\\{(1,2),(2,3),(1,3)\\}$ and $\\{(4,5),(5,6),(4,6)\\}$. Layer $2$ consists of two disjoint triangles: one on nodes $\\{1,2,4\\}$ and one on nodes $\\{3,5,6\\}$; that is, the intralayer edges in layer $2$ are $\\{(1,2),(2,4),(1,4)\\}$ and $\\{(3,5),(5,6),(3,6)\\}$.\n\nAdopt the standard Newmanâ€“Girvan (NG) null model within each layer, with resolution parameter $\\gamma=1$ on all layers, and use the diagonal interlayer coupling with weight $\\omega$ as described above. Let $Q(\\omega)$ denote the multilayer modularity of a community assignment under these choices.\n\nEvaluate $Q(\\omega)$ for each of the following two candidate multilayer community assignments:\n\n- Candidate $\\mathcal{C}$ (consistent across layers): assign the same two communities in both layers, namely $C_{1}=\\{1,2,3\\}$ and $C_{2}=\\{4,5,6\\}$.\n- Candidate $\\mathcal{A}$ (adaptive per layer): in layer $1$ assign $C_{1}^{(1)}=\\{1,2,3\\}$ and $C_{2}^{(1)}=\\{4,5,6\\}$; in layer $2$ assign $C_{1}^{(2)}=\\{1,2,4\\}$ and $C_{2}^{(2)}=\\{3,5,6\\}$.\n\nUsing only the fundamental definitions of single-layer modularity and its multilayer extension with diagonal interlayer coupling, compute the exact value of the interlayer coupling weight $\\omega^{\\star}$ at which the two candidate assignments yield equal multilayer modularity $Q_{\\mathcal{C}}(\\omega^{\\star})=Q_{\\mathcal{A}}(\\omega^{\\star})$. Express your final answer as an exact real number. No rounding is required.",
            "solution": "The problem requires us to find the interlayer coupling weight $\\omega^{\\star}$ at which two different multilayer community assignments, $\\mathcal{C}$ and $\\mathcal{A}$, have the same multilayer modularity $Q$. We begin by stating the general formula for multilayer modularity for a network with $L$ layers, $N$ nodes, and diagonal interlayer coupling.\n\nThe multilayer modularity $Q$ is given by the formula:\n$$Q = \\frac{1}{2\\mu} \\sum_{i,j,s,r} \\left[ \\left(A_{ijs} - \\gamma_s \\frac{k_{is}k_{js}}{2m_s}\\right)\\delta_{sr} + \\delta_{ij} C_{jsr} \\right] \\delta(c_{is}, c_{jr})$$\nwhere $A_{ijs}$ is the adjacency matrix element for nodes $i,j$ in layer $s$, $k_{is}$ is the degree of node $i$ in layer $s$, $m_s = \\frac{1}{2}\\sum_i k_{is}$ is the total number of edges in layer $s$, and $\\gamma_s$ is the resolution parameter for layer $s$. The term $c_{is}$ denotes the community assignment of node $i$ in layer $s$, and $\\delta(c_{is}, c_{jr})$ is $1$ if they are in the same community and $0$ otherwise. The term $C_{jsr}$ represents the weight of the interlayer edge between node $j$ in layer $s$ and node $j$ in layer $r$. Given the problem statement, we have undirected interlayer connections, so $C_{jsr} = C_{jrs}$. For this problem, we have diagonal coupling with weight $\\omega$, so $C_{jsr} = \\omega$ for $s \\neq r$ and $C_{jss} = 0$. The normalization factor $2\\mu$ is the total edge weight in the multilayer network, given by $2\\mu = \\sum_{js} k_{js} + \\sum_{j,s,r} C_{jsr} = \\sum_s 2m_s + \\sum_{j, s \\neq r} C_{jsr}$.\n\nWe can separate the sum into intralayer ($s=r$) and interlayer ($s \\neq r$) contributions:\n$$Q = \\frac{1}{2\\mu} \\left[ \\sum_s \\sum_{i,j} \\left(A_{ijs} - \\gamma_s \\frac{k_{is}k_{js}}{2m_s}\\right)\\delta(c_{is}, c_{js}) + \\sum_{j, s \\neq r} C_{jsr} \\delta(c_{js}, c_{jr}) \\right]$$\nThe first term is the sum of single-layer modularities. Let $Q_s$ be the single-layer modularity for layer $s$ with partition $\\{c_{js}\\}_{j=1}^N$. Then $\\sum_{i,j} (A_{ijs} - \\gamma_s \\frac{k_{is}k_{js}}{2m_s})\\delta(c_{is}, c_{js}) = 2m_s Q_s$.\nWith $L=2$ layers, $\\gamma_s=1$, and $C_{j12}=C_{j21}=\\omega$, the formula becomes:\n$$Q = \\frac{1}{2\\mu} \\left( 2m_1 Q_1 + 2m_2 Q_2 + 2\\omega \\sum_{j=1}^N \\delta(c_{j1}, c_{j2}) \\right)$$\nThe term $\\sum_{j=1}^N \\delta(c_{j1}, c_{j2})$ counts the number of nodes assigned to the same community label across the two layers.\n\nFirst, we calculate the properties of the given network layers.\n- Number of nodes $N=6$. Number of layers $L=2$.\n- **Layer 1**: Two disjoint triangles on $\\{1,2,3\\}$ and $\\{4,5,6\\}$. The number of edges is $m_1 = 3+3=6$. The degree of every node is $k_{i1}=2$ for all $i \\in \\{1, \\dots, 6\\}$. Thus, $2m_1 = \\sum_i k_{i1} = 6 \\times 2 = 12$.\n- **Layer 2**: Two disjoint triangles on $\\{1,2,4\\}$ and $\\{3,5,6\\}$. The number of edges is $m_2 = 3+3=6$. The degree of every node is $k_{i2}=2$ for all $i \\in \\{1, \\dots, 6\\}$. Thus, $2m_2 = \\sum_i k_{i2} = 6 \\times 2 = 12$.\n\nThe total normalization factor is $2\\mu = 2m_1 + 2m_2 + \\sum_{j, s \\neq r} C_{jsr} = 12 + 12 + \\sum_{j=1}^6 (C_{j12}+C_{j21}) = 24 + \\sum_{j=1}^6 (\\omega+\\omega) = 24 + 12\\omega$.\n\nNow we evaluate $Q(\\omega)$ for each candidate partition.\n\n**Candidate $\\mathcal{C}$ (consistent assignment):**\nThe communities are $C_1=\\{1,2,3\\}$ and $C_2=\\{4,5,6\\}$ in both layers.\n- **Layer 1:** The partition $C_{1}^{(1)}=\\{1,2,3\\}, C_{2}^{(1)}=\\{4,5,6\\}$ corresponds to the connected components. The modularity is maximal.\nFor community $C_1^{(1)}$, the sum of degrees is $K_1 = k_{11}+k_{21}+k_{31} = 2+2+2=6$. The number of internal edges is $l_1=3$.\nFor community $C_2^{(1)}$, the sum of degrees is $K_2 = k_{41}+k_{51}+k_{61} = 2+2+2=6$. The number of internal edges is $l_2=3$.\nSingle-layer modularity $Q_1^{(\\mathcal{C})} = \\frac{1}{2m_1} \\sum_{c=1}^2 (2l_c - \\frac{K_c^2}{2m_1}) = \\frac{1}{12} \\left[ (2\\cdot3 - \\frac{6^2}{12}) + (2\\cdot3 - \\frac{6^2}{12}) \\right] = \\frac{1}{12}[(6-3)+(6-3)] = \\frac{6}{12} = \\frac{1}{2}$.\n- **Layer 2:** The partition is $C_{1}^{(2)}=\\{1,2,3\\}, C_{2}^{(2)}=\\{4,5,6\\}$.\nFor community $C_1^{(2)}$, the nodes are $\\{1,2,3\\}$. The only edge within this set in layer 2 is $(1,2)$, so $l_1=1$. The sum of degrees is $K_1=k_{12}+k_{22}+k_{32}=2+2+2=6$.\nFor community $C_2^{(2)}$, the nodes are $\\{4,5,6\\}$. The only edge within this set in layer 2 is $(5,6)$, so $l_2=1$. The sum of degrees is $K_2=k_{42}+k_{52}+k_{62}=2+2+2=6$.\nSingle-layer modularity $Q_2^{(\\mathcal{C})} = \\frac{1}{12} \\left[ (2\\cdot1 - \\frac{6^2}{12}) + (2\\cdot1 - \\frac{6^2}{12}) \\right] = \\frac{1}{12}[(2-3)+(2-3)] = \\frac{-2}{12} = -\\frac{1}{6}$.\n- **Interlayer term:** The community assignment is identical across layers, so $c_{j1}=c_{j2}$ for all $j=1,\\dots,6$. The number of consistent nodes is $6$.\n- **Total Modularity $Q_{\\mathcal{C}}(\\omega)$:**\n$Q_{\\mathcal{C}}(\\omega) = \\frac{1}{24+12\\omega} \\left( 2m_1 Q_1^{(\\mathcal{C})} + 2m_2 Q_2^{(\\mathcal{C})} + 2\\omega \\cdot 6 \\right) = \\frac{1}{24+12\\omega} \\left( 12 \\cdot \\frac{1}{2} + 12 \\cdot (-\\frac{1}{6}) + 12\\omega \\right) = \\frac{6-2+12\\omega}{24+12\\omega} = \\frac{4+12\\omega}{24+12\\omega}$.\n\n**Candidate $\\mathcal{A}$ (adaptive assignment):**\nLayer 1 communities: $C_{1}^{(1)}=\\{1,2,3\\}, C_{2}^{(1)}=\\{4,5,6\\}$.\nLayer 2 communities: $C_{1}^{(2)}=\\{1,2,4\\}, C_{2}^{(2)}=\\{3,5,6\\}$.\n- **Layer 1:** The partition is identical to that in $\\mathcal{C}$. Thus, $Q_1^{(\\mathcal{A})} = Q_1^{(\\mathcal{C})} = \\frac{1}{2}$.\n- **Layer 2:** The partition $C_{1}^{(2)}=\\{1,2,4\\}, C_{2}^{(2)}=\\{3,5,6\\}$ corresponds to the connected components of layer 2. By symmetry with layer 1, the modularity will be maximal.\n$Q_2^{(\\mathcal{A})} = \\frac{1}{2m_2} \\sum_{c=1}^2 (2l_c - \\frac{K_c^2}{2m_2}) = \\frac{1}{12} \\left[ (2\\cdot3 - \\frac{6^2}{12}) + (2\\cdot3 - \\frac{6^2}{12}) \\right] = \\frac{1}{12}[(6-3)+(6-3)] = \\frac{6}{12} = \\frac{1}{2}$.\n- **Interlayer term:** We count the nodes $j$ for which $c_{j1}=c_{j2}$.\n  - Node 1: $c_{11}=1, c_{12}=1$. Consistent.\n  - Node 2: $c_{21}=1, c_{22}=1$. Consistent.\n  - Node 3: $c_{31}=1, c_{32}=2$. Inconsistent.\n  - Node 4: $c_{41}=2, c_{42}=1$. Inconsistent.\n  - Node 5: $c_{51}=2, c_{52}=2$. Consistent.\n  - Node 6: $c_{61}=2, c_{62}=2$. Consistent.\nThe number of consistent nodes is $4$.\n- **Total Modularity $Q_{\\mathcal{A}}(\\omega)$:**\n$Q_{\\mathcal{A}}(\\omega) = \\frac{1}{24+12\\omega} \\left( 2m_1 Q_1^{(\\mathcal{A})} + 2m_2 Q_2^{(\\mathcal{A})} + 2\\omega \\cdot 4 \\right) = \\frac{1}{24+12\\omega} \\left( 12 \\cdot \\frac{1}{2} + 12 \\cdot \\frac{1}{2} + 8\\omega \\right) = \\frac{6+6+8\\omega}{24+12\\omega} = \\frac{12+8\\omega}{24+12\\omega}$.\n\n**Find $\\omega^{\\star}$:**\nWe set $Q_{\\mathcal{C}}(\\omega^{\\star}) = Q_{\\mathcal{A}}(\\omega^{\\star})$:\n$$\\frac{4+12\\omega^{\\star}}{24+12\\omega^{\\star}} = \\frac{12+8\\omega^{\\star}}{24+12\\omega^{\\star}}$$\nSince $\\omega \\geq 0$, the denominator $24+12\\omega^{\\star}$ is strictly positive and can be cancelled.\n$$4+12\\omega^{\\star} = 12+8\\omega^{\\star}$$\n$$4\\omega^{\\star} = 8$$\n$$\\omega^{\\star} = 2$$\nThe value of the interlayer coupling weight at which the two candidate assignments yield equal multilayer modularity is $\\omega^{\\star}=2$.",
            "answer": "$$\\boxed{2}$$"
        }
    ]
}