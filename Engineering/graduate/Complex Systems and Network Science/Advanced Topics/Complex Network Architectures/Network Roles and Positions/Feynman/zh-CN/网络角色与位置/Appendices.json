{
    "hands_on_practices": [
        {
            "introduction": "中心性是量化网络中节点重要性的基础。Katz中心性是一个强大而灵活的指标，因为它统一了其他几种度量方法。本练习  旨在通过严格的数学推导，揭示Katz中心性与度中心性和特征向量中心性之间的深刻联系，帮助您理解其参数如何调节节点重要性的定义。",
            "id": "4292574",
            "problem": "给定一个包含 $n$ 个节点的有向强连通网络，其非负邻接矩阵为 $A \\in \\mathbb{R}^{n \\times n}$，其中如果存在从节点 $i$ 到节点 $j$ 的有向边，则 $A_{ij} = 1$，否则 $A_{ij} = 0$。令 $\\mathbf{1} \\in \\mathbb{R}^{n}$ 表示全一向量。定义出度中心性向量 $d^{\\mathrm{out}} \\in \\mathbb{R}^{n}$ 为 $d^{\\mathrm{out}} = A \\mathbf{1}$。定义特征向量中心性为满足 $A v = \\rho(A) v$ 的任意向量 $v \\in \\mathbb{R}^{n}_{>0}$，其中 $\\rho(A)$ 表示 $A$ 的谱半径；其存在性和正性可由非负不可约矩阵的 Perron–Frobenius 定理得出。考虑一个参数化的中心性向量 $x \\in \\mathbb{R}^{n}$，对于参数 $\\alpha \\ge 0$ 和 $\\beta > 0$ 且满足 $\\alpha  1/\\rho(A)$，它由线性递归关系\n$x = \\beta \\mathbf{1} + \\alpha A x.$\n隐式定义。\n仅使用 (i) 矩阵预解式的 Neumann 级数，和 (ii) 非负不可约矩阵的 Perron–Frobenius 定理，完成以下任务：\n1. 证明 $x$ 具有收敛级数表示 $x = \\beta \\sum_{k=0}^{\\infty} \\alpha^{k} A^{k} \\mathbf{1}$。然后严格证明当 $\\alpha \\to 0^{+}$ 时，\n$x = \\beta \\mathbf{1} + \\beta \\alpha A \\mathbf{1} + o(\\alpha),$\n从而在一个加性基线 $\\beta \\mathbf{1}$ 的基础上，中心性增量在 $\\alpha$ 的一阶项上与出度中心性 $d^{\\mathrm{out}}$ 成正比。\n2. 证明当 $\\alpha$ 从下方趋近于 $1/\\rho(A)$ 时，$x$ 的方向与特征向量中心性一致，即 $x$ 的任意单位范数归一化都收敛于 Perron 右特征向量 $v/\\|v\\|$，也就是 $x/\\|x\\| \\to v/\\|v\\|$。\n3. 现在专门考虑节点为 $1 \\to 2 \\to 3 \\to 1$ 的有向 3-圈。对于此图，取 $\\alpha = 1/2$ 和 $\\beta = 1$。精确计算 $x$。将最终答案表示为行向量，无单位，且无需四舍五入。",
            "solution": "问题通过方程 $x = \\beta \\mathbf{1} + \\alpha A x$ 为一个有向强连通网络定义了一个参数化的中心性向量 $x \\in \\mathbb{R}^{n}$，其参数为 $\\alpha \\ge 0$、$\\beta  0$ 且约束条件为 $\\alpha  1/\\rho(A)$，其中 $\\rho(A)$ 是邻接矩阵 $A$ 的谱半径。我们需要在两种极限情况下分析此中心性度量，并为一个特定图计算它。\n\n该定义方程可以重排为一个标准线性系统：\n$x - \\alpha A x = \\beta \\mathbf{1}$\n$(I - \\alpha A) x = \\beta \\mathbf{1}$\n其中 $I$ 是 $n \\times n$ 单位矩阵。当且仅当矩阵 $(I - \\alpha A)$ 可逆时，$x$ 的唯一解存在。其可逆性由施加于 $\\alpha$ 的条件保证。矩阵 $\\alpha A$ 的谱半径为 $\\rho(\\alpha A) = |\\alpha| \\rho(A)$。由于 $\\alpha \\ge 0$，所以这是 $\\alpha \\rho(A)$。问题指定 $\\alpha  1/\\rho(A)$，这等价于 $\\alpha \\rho(A)  1$。\n\n线性代数中一个基于 Neumann 级数的标准结果表明，对于任意方阵 $M$，如果 $\\rho(M)  1$，则 $(I - M)$ 可逆，且其逆可以表示为收敛级数 $(I - M)^{-1} = \\sum_{k=0}^{\\infty} M^k$。令 $M = \\alpha A$，条件 $\\rho(\\alpha A)  1$ 被满足。因此，我们可以求得 $x$ 的唯一解为：\n$x = (I - \\alpha A)^{-1} (\\beta \\mathbf{1})$\n\n这构成了问题所有三个部分的基础。\n\n1. 级数表示及低 $\\alpha$ 极限的证明。\n\n使用 $(I - \\alpha A)^{-1}$ 的 Neumann 级数展开，我们可以将 $x$ 写为：\n$x = \\left( \\sum_{k=0}^{\\infty} (\\alpha A)^k \\right) \\beta \\mathbf{1}$\n由于 $\\beta$ 是一个标量，它可以移到求和符号外面：\n$x = \\beta \\sum_{k=0}^{\\infty} \\alpha^k A^k \\mathbf{1}$\n这证明了第一个要求的陈述。这个表达式被称为 Katz 中心性向量。\n\n为了分析当 $\\alpha \\to 0^{+}$ 时的行为，我们展开级数：\n$x = \\beta \\left( (\\alpha A)^0 \\mathbf{1} + (\\alpha A)^1 \\mathbf{1} + \\sum_{k=2}^{\\infty} (\\alpha A)^k \\mathbf{1} \\right)$\n$x = \\beta \\left( I \\mathbf{1} + \\alpha A \\mathbf{1} + \\sum_{k=2}^{\\infty} \\alpha^k A^k \\mathbf{1} \\right)$\n$x = \\beta \\mathbf{1} + \\beta \\alpha A \\mathbf{1} + \\beta \\sum_{k=2}^{\\infty} \\alpha^k A^k \\mathbf{1}$\n项 $\\beta \\mathbf{1}$ 是一个恒定基线。下一项 $\\beta \\alpha A \\mathbf{1}$ 在 $\\alpha$ 上是线性的。根据定义，出度中心性向量是 $d^{\\mathrm{out}} = A \\mathbf{1}$，所以此项为 $\\beta \\alpha d^{\\mathrm{out}}$。\n\n我们必须证明余项 $R(\\alpha) = \\beta \\sum_{k=2}^{\\infty} \\alpha^k A^k \\mathbf{1}$ 是 $o(\\alpha)$ 阶的。如果一个项比 $\\alpha$ 更快地趋于零，即 $\\lim_{\\alpha \\to 0^{+}} \\|R(\\alpha)\\|/\\alpha = 0$，则该项是 $o(\\alpha)$。\n让我们从余项中提出因子 $\\alpha^2$：\n$R(\\alpha) = \\beta \\alpha^2 \\sum_{k=2}^{\\infty} \\alpha^{k-2} A^k \\mathbf{1} = \\beta \\alpha^2 \\sum_{j=0}^{\\infty} \\alpha^{j} A^{j+2} \\mathbf{1}$\n现在我们考察比率的极限：\n$\\frac{\\|R(\\alpha)\\|}{\\alpha} = \\frac{\\|\\beta \\alpha^2 \\sum_{j=0}^{\\infty} \\alpha^{j} A^{j+2} \\mathbf{1}\\|}{\\alpha} = \\alpha \\|\\beta \\sum_{j=0}^{\\infty} \\alpha^{j} A^{j+2} \\mathbf{1}\\|$\n当 $\\alpha \\to 0^{+}$ 时，求和项收敛于 $A^2 \\mathbf{1}$（因为所有 $j0$ 的项都消失了）。因此，\n$\\lim_{\\alpha \\to 0^{+}} \\frac{\\|R(\\alpha)\\|}{\\alpha} = 0 \\cdot \\|\\beta A^2 \\mathbf{1}\\| = 0$\n由于余项是 $O(\\alpha^2)$，它必然是 $o(\\alpha)$。所以，我们严格证明了：\n$x = \\beta \\mathbf{1} + \\beta \\alpha A \\mathbf{1} + o(\\alpha)$\n这证实了，在一个加性基线 $\\beta \\mathbf{1}$ 的基础上，中心性增量在 $\\alpha$ 的一阶项上与出度中心性 $d^{\\mathrm{out}}$ 成正比。\n\n2. 收敛于特征向量中心性的证明。\n\n我们分析当 $\\alpha$ 趋近其上界 $\\alpha \\uparrow 1/\\rho(A)$ 时 $x$ 的行为。令 $\\lambda_1 = \\rho(A)$ 为 $A$ 的谱半径。该网络是强连通的，所以其邻接矩阵 $A$ 是不可约的。根据非负不可约矩阵的 Perron-Frobenius 定理，$\\lambda_1$ 是一个单（非重复）正实特征值，其对应的右特征向量 $v$ 可以被选择为所有分量都为正 ($v  0$)。此外，对于 $A$ 的任何其他特征值 $\\lambda_i$，有 $|\\lambda_i| \\le \\lambda_1$。$\\lambda_1$ 的单性意味着如果对于某个 $i \\ne 1$ 有 $|\\lambda_i| = \\lambda_1$，则 $\\lambda_i$ 必定是复数。\n\n解 $x = \\beta(I - \\alpha A)^{-1}\\mathbf{1}$ 可以使用 $A$ 的谱性质进行分析。令 $\\{v_i\\}_{i=1}^n$ 为 $A$ 的一组广义右特征向量基，$\\{v_{L,i}\\}_{i=1}^n$ 为相应的广义左特征向量基，满足 $v_{L,i}^T v_j = \\delta_{ij}$（如果进行适当归一化）。预解矩阵 $(I - \\alpha A)^{-1}$ 有一个谱展开。在奇点 $\\alpha = 1/\\lambda_1$ 附近，预解式的行为由一个单极点主导。预解式的展开式由下式给出：\n$(I - \\alpha A)^{-1} = \\frac{1}{1 - \\alpha \\lambda_1} \\frac{v v_L^T}{v_L^T v} + \\sum_{i=2}^n \\frac{1}{1 - \\alpha \\lambda_i} (\\dots)$\n其中 $v$ 和 $v_L$ 是对应于 $\\lambda_1 = \\rho(A)$ 的 Perron 右、左特征向量。当 $\\alpha \\to 1/\\lambda_1$ 时，对于 $i \\ge 2$ 的项保持有界，因为对于实数 $\\alpha$，$1 - \\alpha \\lambda_i \\neq 0$，因为 $\\lambda_1$ 是在正实轴上具有其模长的唯一特征值。\n\n将预解式作用于向量 $\\beta \\mathbf{1}$，我们得到：\n$x = \\beta (I - \\alpha A)^{-1} \\mathbf{1} = \\frac{\\beta}{1 - \\alpha \\lambda_1} \\frac{v (v_L^T \\mathbf{1})}{v_L^T v} + \\text{有界项}$\n当 $\\alpha \\uparrow 1/\\lambda_1$ 时，分母 $1 - \\alpha \\lambda_1 \\to 0^{+}$。项 $v_L^T v$ 为正，因为 $v$ 和 $v_L$ 的所有分量都为正。出于同样的原因，项 $v_L^T \\mathbf{1}$ 也为正。令 $C = \\beta \\frac{v_L^T \\mathbf{1}}{v_L^T v}$，这是一个正常数。表达式变为：\n$x = \\frac{C}{1 - \\alpha \\lambda_1} v + \\text{有界项}$\n第一项的范数趋于无穷大，而“有界项”向量保持有限。令有界项收敛于向量 $y_{lim}$。\n为了找到 $x$ 的方向，我们将其归一化：\n$\\frac{x}{\\|x\\|} = \\frac{\\frac{C}{1 - \\alpha \\lambda_1} v + y_{lim}}{\\|\\frac{C}{1 - \\alpha \\lambda_1} v + y_{lim}\\|}$\n我们可以从分子和分母中提出发散的标量因子：\n$\\frac{x}{\\|x\\|} = \\frac{\\frac{C}{1 - \\alpha \\lambda_1} \\left(v + \\frac{1 - \\alpha \\lambda_1}{C} y_{lim}\\right)}{\\left|\\frac{C}{1 - \\alpha \\lambda_1}\\right| \\left\\|v + \\frac{1 - \\alpha \\lambda_1}{C} y_{lim}\\right\\|}$\n由于 $\\alpha  1/\\lambda_1$ 且 $C > 0$，该标量因子为正。因此，它被消掉了。\n$\\frac{x}{\\|x\\|} = \\frac{v + \\frac{1 - \\alpha \\lambda_1}{C} y_{lim}}{\\left\\|v + \\frac{1 - \\alpha \\lambda_1}{C} y_{lim}\\right\\|}$\n当 $\\alpha \\uparrow 1/\\lambda_1$ 时，项 $\\frac{1 - \\alpha \\lambda_1}{C} y_{lim} \\to 0$。因此，在极限情况下：\n$\\lim_{\\alpha \\uparrow 1/\\lambda_1} \\frac{x}{\\|x\\|} = \\frac{v}{\\|v\\|}$\n这证明了当 $\\alpha$ 趋近其临界值时，中心性向量 $x$ 的方向与 Perron 特征向量 $v$ 的方向一致。\n\n3. 有向 3-圈的计算。\n\n网络是圈 $1 \\to 2 \\to 3 \\to 1$。其邻接矩阵 $A$ 是一个置换矩阵：\n$$A = \\begin{pmatrix} 0  1  0 \\\\ 0  0  1 \\\\ 1  0  0 \\end{pmatrix}$$\n给定参数为 $\\alpha = 1/2$ 和 $\\beta = 1$。首先，我们必须验证条件 $\\alpha  1/\\rho(A)$。我们从特征方程 $\\det(A - \\lambda I) = 0$ 中找到 $A$ 的特征值：\n$\\det\\begin{pmatrix} -\\lambda  1  0 \\\\ 0  -\\lambda  1 \\\\ 1  0  -\\lambda \\end{pmatrix} = -\\lambda(-\\lambda^2) - 1(-1) = -\\lambda^3 + 1 = 0$\n特征值是单位的立方根：$\\lambda_1 = 1$，$\\lambda_2 = \\exp(i 2\\pi/3)$ 和 $\\lambda_3 = \\exp(i 4\\pi/3)$。谱半径为 $\\rho(A) = \\max_i |\\lambda_i| = 1$。\n条件是 $\\alpha  1/1$，即 $\\alpha  1$。给定 $\\alpha = 1/2$，条件 $1/2  1$ 得到满足。\n\n我们需要计算 $x = (I - \\alpha A)^{-1} \\beta \\mathbf{1}$。使用给定参数，即为 $x = (I - \\frac{1}{2} A)^{-1} \\mathbf{1}$。\n令 $M = I - \\frac{1}{2} A$：\n$$M = \\begin{pmatrix} 1  0  0 \\\\ 0  1  0 \\\\ 0  0  1 \\end{pmatrix} - \\frac{1}{2} \\begin{pmatrix} 0  1  0 \\\\ 0  0  1 \\\\ 1  0  0 \\end{pmatrix} = \\begin{pmatrix} 1  -1/2  0 \\\\ 0  1  -1/2 \\\\ -1/2  0  1 \\end{pmatrix}$$\n由于图结构的对称性，我们可以预期所有节点将具有相同的中心性得分，即对于某个常数 $c$，有 $x_1 = x_2 = x_3 = c$。我们可以通过将 $x = c \\mathbf{1}$ 代入原始方程 $x = \\beta \\mathbf{1} + \\alpha A x$ 来求解 $c$：\n$$c \\mathbf{1} = 1 \\cdot \\mathbf{1} + \\frac{1}{2} A (c \\mathbf{1})$$\n$$c \\mathbf{1} = \\mathbf{1} + \\frac{c}{2} A \\mathbf{1}$$\n矩阵 $A$ 代表一个正则图，其中每个节点的出度为 $1$。所以 $A\\mathbf{1} = \\mathbf{1}$。\n$$c \\mathbf{1} = \\mathbf{1} + \\frac{c}{2} \\mathbf{1}$$\n对比分量，我们得到 $c = 1 + c/2$，这意味着 $c/2 = 1$，所以 $c=2$。\n因此，解为 $x = \\begin{pmatrix} 2 \\\\ 2 \\\\ 2 \\end{pmatrix}$。\n\n另一种方法是，我们可以计算 $M$ 的逆矩阵：\n$\\det(M) = 1(1 \\cdot 1 - 0 \\cdot (-1/2)) - (-1/2)(0 \\cdot 1 - (-1/2) \\cdot (-1/2)) + 0 = 1 + (1/2)(-1/4) = 1 - 1/8 = 7/8$。\n$M$ 的伴随矩阵是：\n$$\\text{adj}(M) = \\begin{pmatrix} 1  1/2  1/4 \\\\ 1/4  1  1/2 \\\\ 1/2  1/4  1 \\end{pmatrix}$$\n逆矩阵是：\n$$M^{-1} = \\frac{1}{\\det(M)} \\text{adj}(M) = \\frac{8}{7} \\begin{pmatrix} 1  1/2  1/4 \\\\ 1/4  1  1/2 \\\\ 1/2  1/4  1 \\end{pmatrix}$$\n现在我们计算 $x = M^{-1} \\mathbf{1}$：\n$$x = \\frac{8}{7} \\begin{pmatrix} 1  1/2  1/4 \\\\ 1/4  1  1/2 \\\\ 1/2  1/4  1 \\end{pmatrix} \\begin{pmatrix} 1 \\\\ 1 \\\\ 1 \\end{pmatrix} = \\frac{8}{7} \\begin{pmatrix} 1 + 1/2 + 1/4 \\\\ 1/4 + 1 + 1/2 \\\\ 1/2 + 1/4 + 1 \\end{pmatrix} = \\frac{8}{7} \\begin{pmatrix} 7/4 \\\\ 7/4 \\\\ 7/4 \\end{pmatrix} = \\begin{pmatrix} 2 \\\\ 2 \\\\ 2 \\end{pmatrix}$$\n两种方法得出相同的结果。最终答案要求为行向量。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix} 2  2  2 \\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "网络分析不仅关注单个节点的显赫程度，更致力于识别其扮演的结构性角色。正则等价性是一种形式化的方法，它根据节点与其他节点“类型”的连接模式来对节点进行分类。通过这个练习 ，您将亲手应用迭代算法来划分一个有向无环图，从而将抽象的等价性概念转化为对网络分层角色的具体识别。",
            "id": "4292608",
            "problem": "考虑一个有向无环图（DAG），其中所有边都遵循一个层次结构。设顶点集被划分为四个层级 $\\mathcal{L}_0, \\mathcal{L}_1, \\mathcal{L}_2, \\mathcal{L}_3$，其中\n$\\mathcal{L}_0 = \\{v_1\\}$，\n$\\mathcal{L}_1 = \\{v_2, v_3, v_4\\}$，\n$\\mathcal{L}_2 = \\{v_5, v_6, v_7, v_8\\}$，\n$\\mathcal{L}_3 = \\{v_9, v_{10}\\}$。\n边从索引较低的层级指向索引较高的层级，具体如下\n$v_1 \\to v_2$, $v_1 \\to v_3$, $v_1 \\to v_4$,\n$v_2 \\to v_5$, $v_2 \\to v_6$,\n$v_3 \\to v_6$, $v_3 \\to v_7$,\n$v_4 \\to v_7$, $v_4 \\to v_8$,\n$v_5 \\to v_9$, $v_6 \\to v_9$, $v_7 \\to v_{10}$, $v_8 \\to v_{10}$。\n假设该图是简单无权图，并且只考虑单一的有向边关系。\n\n如果存在一个顶点集划分为类 $\\{C_1, \\dots, C_m\\}$，使得对于每个类 $C_s$ 和每个邻接方向（入向和出向），顶点 $i$ 在该方向上在 $C_s$ 中至少有一个邻居，当且仅当顶点 $j$ 在该方向上在 $C_s$ 中也至少有一个邻居，则称两个顶点 $i$ 和 $j$ 是正则等价的。在所有满足正则等价的划分中，类别数量最少的划分称为最粗划分。\n\n仅根据上述定义和给定的网络，推导出正则等价类的最粗划分，并给出该划分中的类别总数。此外，根据其位置和邻接模式，解释这些类别在不同层级中的作用，说明为什么您识别出的类别确实对应于不同的角色，但最终计数以无单位的纯数字表示。不需要近似计算。",
            "solution": "我们采用迭代求精算法来找到正则等价类的最粗划分。算法从将所有顶点放在一个类中开始，然后通过检查每个顶点相对于当前类划分的连接模式来迭代地细化这个划分。\n\n**迭代 0：初始划分**\n初始划分 $\\mathcal{P}_0$ 将所有顶点放入一个类中：\n$\\mathcal{P}_0 = \\{\\{v_1, v_2, \\dots, v_{10}\\}\\}$\n\n**迭代 1：第一次细化**\n我们根据每个顶点是否有入边和出边来对 $\\mathcal{P}_0$ 进行细化。\n- **没有入边，有出边**：只有 $v_1$。\n- **有入边，有出边**：$\\{v_2, v_3, v_4, v_5, v_6, v_7, v_8\\}$。\n- **有入边，没有出边**：$\\{v_9, v_{10}\\}$。\n这产生了新的划分 $\\mathcal{P}_1$：\n$B_1 = \\{v_1\\}$\n$B_2 = \\{v_2, v_3, v_4, v_5, v_6, v_7, v_8\\}$\n$B_3 = \\{v_9, v_{10}\\}$\n$\\mathcal{P}_1 = \\{B_1, B_2, B_3\\}$\n\n**迭代 2：第二次细化**\n现在我们检查 $\\mathcal{P}_1$ 中每个类的顶点相对于类 $\\{B_1, B_2, B_3\\}$ 的连接模式。\n- 类 $B_1 = \\{v_1\\}$ 是单元素类，不能再细分。\n- 类 $B_3 = \\{v_9, v_{10}\\}$：\n  - $v_9$ 的入邻居是 $\\{v_5, v_6\\}$，它们都在 $B_2$ 中。$v_9$ 没有出邻居。连接概况：`in_from: {B_2}`, `out_to: {}`。\n  - $v_{10}$ 的入邻居是 $\\{v_7, v_8\\}$，它们都在 $B_2$ 中。$v_{10}$ 没有出邻居。连接概况：`in_from: {B_2}`, `out_to: {}`。\n  由于 $v_9$ 和 $v_{10}$ 具有相同的连接概况，类 $B_3$ 不被细化。\n- 类 $B_2 = \\{v_2, v_3, v_4, v_5, v_6, v_7, v_8\\}$：\n  - 考虑 $\\{v_2, v_3, v_4\\}$：\n    - 入邻居：$\\{v_1\\} \\subset B_1$。连接概况：`in_from: {B_1}`。\n    - 出邻居：$N_{out}(v_2)=\\{v_5,v_6\\}$, $N_{out}(v_3)=\\{v_6,v_7\\}$, $N_{out}(v_4)=\\{v_7,v_8\\}$。所有这些出邻居都在 $B_2$ 中。连接概况：`out_to: {B_2}`。\n    - $\\{v_2, v_3, v_4\\}$ 的完整概况是 `in_from: {B_1}`, `out_to: {B_2}`。\n  - 考虑 $\\{v_5, v_6, v_7, v_8\\}$：\n    - 入邻居：$N_{in}(v_5)=\\{v_2\\}$, $N_{in}(v_6)=\\{v_2,v_3\\}$, $N_{in}(v_7)=\\{v_3,v_4\\}$, $N_{in}(v_8)=\\{v_4\\}$。所有这些入邻居都在 $B_2$ 中。连接概况：`in_from: {B_2}`。\n    - 出邻居：$N_{out}(v_5)=\\{v_9\\}$, $N_{out}(v_6)=\\{v_9\\}$, $N_{out}(v_7)=\\{v_{10}\\}$, $N_{out}(v_8)=\\{v_{10}\\}$。所有这些出邻居都在 $B_3$ 中。连接概况：`out_to: {B_3}`。\n    - $\\{v_5, v_6, v_7, v_8\\}$ 的完整概况是 `in_from: {B_2}`, `out_to: {B_3}`。\n  - 由于 $B_2$ 中的顶点具有两种不同的连接概况，我们将 $B_2$ 分裂成两个新类：$\\{v_2, v_3, v_4\\}$ 和 $\\{v_5, v_6, v_7, v_8\\}$。\n\n这产生了新的划分 $\\mathcal{P}_2$：\n$C_1 = \\{v_1\\}$\n$C_2 = \\{v_2, v_3, v_4\\}$\n$C_3 = \\{v_5, v_6, v_7, v_8\\}$\n$C_4 = \\{v_9, v_{10}\\}$\n$\\mathcal{P}_2 = \\{C_1, C_2, C_3, C_4\\}$\n\n**迭代 3：第三次细化**\n我们检查 $\\mathcal{P}_2$ 中每个类的顶点相对于类 $\\{C_1, C_2, C_3, C_4\\}$ 的连接模式。\n- $C_1 = \\{v_1\\}$：单元素类，最终类。\n- $C_2 = \\{v_2, v_3, v_4\\}$：每个顶点都从 $C_1$ 接收输入，并向 $C_3$ 发送输出。所有顶点的概况都是 `in_from: {C_1}`, `out_to: {C_3}`。该类不被细化。\n- $C_3 = \\{v_5, v_6, v_7, v_8\\}$：每个顶点都从 $C_2$ 接收输入，并向 $C_4$ 发送输出。所有顶点的概况都是 `in_from: {C_2}`, `out_to: {C_4}`。该类不被细化。\n- $C_4 = \\{v_9, v_{10}\\}$：每个顶点都从 $C_3$ 接收输入，没有输出。所有顶点的概况都是 `in_from: {C_3}`, `out_to: {}`。该类不被细化。\n\n由于在这一步没有类被细化，算法收敛。最粗划分 $\\mathcal{P}_{final}$ 与 $\\mathcal{P}_2$ 相同。\n$\\mathcal{P}_{final} = \\{\\{v_1\\}, \\{v_2, v_3, v_4\\}, \\{v_5, v_6, v_7, v_8\\}, \\{v_9, v_{10}\\}\\}$。\n\n**结论**\n该划分中有 4 个正则等价类。\n- **角色解释**：\n  - $C_1 = \\{v_1\\}$：网络的唯一 **源头**（source），位于层次结构的顶端。\n  - $C_2 = \\{v_2, v_3, v_4\\}$：**第一层中介**，从源头接收信息并将其分发到下一层。\n  - $C_3 = \\{v_5, v_6, v_7, v_8\\}$：**第二层中介**，从第一层中介收集信息并将其传递到终端。\n  - $C_4 = \\{v_9, v_{10}\\}$：网络的 **汇点**（sink），位于层次结构的底端，只接收信息。\n这些类别完美地对应于图的四个预定义层级，揭示了其分层结构中的功能角色。",
            "answer": "$$\\boxed{4}$$"
        },
        {
            "introduction": "在网络分析中，选择正确的度量工具并理解其局限性至关重要。一个在无向图中具有高居间中心性的节点，直觉上可能被视为重要的“掮客”，但这种结构位置是否总能转化为实际的功能角色？本练习  构建了一个精巧的反例，旨在挑战这种直觉，揭示有向性如何从根本上改变节点的掮客功能，从而培养您对网络度量进行批判性思考的能力。",
            "id": "4292591",
            "problem": "考虑一个有向网络，其节点集为 $V=\\{h,a_{1},a_{2},b_{1},b_{2},c_{1},c_{2}\\}$，该节点集被划分为三个不相交的角色（组）：角色 $A$ 包含 $\\{h,a_{1},a_{2}\\}$，角色 $B$ 包含 $\\{b_{1},b_{2}\\}$，角色 $C$ 包含 $\\{c_{1},c_{2}\\}$。有向边集 $E$ 定义如下：对于每个叶节点 $x \\in \\{a_{1},a_{2},b_{1},b_{2},c_{1},c_{2}\\}$，都包含有向边 $x \\to h$；此外，还包含一条有向边 $h \\to a_{1}$。不存在其他边。令底层无向网络为将每条有向边 $u \\to v$ 替换为 $u$ 和 $v$ 之间的无向边所得到的图。\n\n您将使用以下基本定义。对于无向网络中的一个节点 $v$，其中介中心性 $C_{B}(v)$ 由所有满足 $s \\neq v$，$t \\neq v$ 且 $s \\neq t$ 的不同节点对 $s$ 和 $t$ 之间，经过 $v$ 的最短路径所占比例之和给出，即 $C_{B}(v)=\\sum_{s \\neq v \\neq t}\\frac{\\sigma_{st}(v)}{\\sigma_{st}}$，其中 $\\sigma_{st}$ 是 $s$ 和 $t$ 之间最短路径的总数，而 $\\sigma_{st}(v)$ 是其中经过 $v$ 的路径数量。\n\n此处的“中介作用”使用特定于角色的有向两步路径进行量化。对于一个中介节点 $b$，定义联络中介数 $B_{\\text{liaison}}(b)$ 为满足以下条件的有序对 $(s,t)$ 的数量：$s \\neq b$, $t \\neq b$，存在形如 $s \\to b \\to t$ 的长度为2的有向路径，并且角色满足 $g(s) \\neq g(t)$、$g(s) \\neq g(b)$ 和 $g(t) \\neq g(b)$，其中 $g(\\cdot)$ 将节点映射到其角色。\n\n您的任务是：\n- 使用上述定义论证 $h$ 在底层无向网络中是否是中心节点。\n- 计算所描述的有向网络中节点 $h$ 的确切联络中介数 $B_{\\text{liaison}}(h)$。以精确整数形式表示最终答案。不需要四舍五入。最终答案必须是一个实数值。",
            "solution": "这个问题要求我们分两部分进行分析：首先评估节点 $h$ 在无向图中的中心性，然后计算它在有向图中的一个特定中介分数。\n\n### 第1部分：节点 $h$ 在底层无向网络中的中心性\n\n底层无向图是通过将所有有向边替换为无向边构建的。有向边是：\n1. $a_{1} \\to h$, $a_{2} \\to h$, $b_{1} \\to h$, $b_{2} \\to h$, $c_{1} \\to h$, $c_{2} \\to h$。\n2. $h \\to a_{1}$。\n\n将这些转换为无向边，我们得到一个星形图，其中 $h$ 是中心节点，连接到六个叶节点 $\\{a_{1},a_{2},b_{1},b_{2},c_{1},c_{2}\\}$。\n\n我们使用中介中心性 $C_{B}(v)$ 来评估 $h$ 的中心地位。\n对于星形图中的任意两个不同的叶节点 $s$ 和 $t$，它们之间的唯一最短路径是 $s-h-t$。这条路径必须经过中心节点 $h$。因此，对于任何这样的节点对，分数 $\\frac{\\sigma_{st}(h)}{\\sigma_{st}} = \\frac{1}{1} = 1$。\n中介中心性是对所有这样的节点对求和。叶节点的数量是6。我们可以从中选择的节点对数量为 $\\binom{6}{2} = \\frac{6 \\times 5}{2} = 15$。\n所以，$C_{B}(h) = 15 \\times 1 = 15$。\n\n对于任何叶节点 $v$（例如 $a_1$），它不可能位于任何其他两个节点之间的最短路径上。因此，所有叶节点的中介中心性均为0。\n由于 $C_{B}(h) = 15$ 远大于网络中任何其他节点的中心性（均为0），我们可以论证，$h$ 在底层无向网络中是绝对的中心节点。\n\n### 第2部分：节点 $h$ 的联络中介数\n\n我们现在计算有向网络中节点 $h$ 的联络中介数 $B_{\\text{liaison}}(h)$。\n定义要求我们寻找满足以下所有条件的有序对 $(s,t)$：\n1. 存在一条有向路径 $s \\to h \\to t$。\n2. $s \\neq h$ 且 $t \\neq h$。\n3. 角色满足 $g(s) \\neq g(h)$, $g(t) \\neq g(h)$, 且 $g(s) \\neq g(t)$。\n\n我们首先识别所有形如 $s \\to h \\to t$ 的路径。\n- 节点 $h$ 的入边来自集合 $\\{a_{1},a_{2},b_{1},b_{2},c_{1},c_{2}\\}$。因此，$s$ 必须是这个集合中的一个节点。\n- 节点 $h$ 的唯一出边是 $h \\to a_1$。因此，$t$ 必须是 $a_1$。\n\n这意味着所有可能的路径都是 $s \\to h \\to a_1$ 的形式，其中 $s \\in \\{a_{1},a_{2},b_{1},b_{2},c_{1},c_{2}\\}$。\n\n现在我们检查角色条件。中介节点是 $h$，其角色是 $g(h)=A$。目标节点是 $t=a_1$，其角色是 $g(a_1)=A$。\n其中一个关键条件是 $g(t) \\neq g(h)$。\n将角色代入，这个条件变为 $g(a_1) \\neq g(h)$，也就是 $A \\neq A$。\n这是一个矛盾。这个条件永远无法满足。\n\n由于对于任何可能的路径 $s \\to h \\to t$，联络中介的其中一个必要条件（即中介节点和目标节点的角色必须不同）都无法满足，因此没有任何有序对 $(s,t)$ 可以对 $B_{\\text{liaison}}(h)$ 的计数做出贡献。\n\n因此，节点 $h$ 的确切联络中介数是0。",
            "answer": "$$\n\\boxed{0}\n$$"
        }
    ]
}