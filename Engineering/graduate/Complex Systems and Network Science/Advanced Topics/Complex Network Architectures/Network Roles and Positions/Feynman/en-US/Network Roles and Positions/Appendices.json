{
    "hands_on_practices": [
        {
            "introduction": "To understand the position of a node within a network, we can begin by identifying its structural role. The concept of regular equivalence provides a powerful formalism for this, grouping nodes that are structurally interchangeable based on their patterns of connection to other roles. This practice  will guide you through the process of identifying these roles in a clear, hierarchical network, allowing you to see how abstract definitions translate into intuitive functions like \"source,\" \"distributor,\" and \"sink.\"",
            "id": "4292608",
            "problem": "Consider a Directed Acyclic Graph (DAG) where all edges respect a level structure. Let the vertex set be partitioned into four levels $\\mathcal{L}_0, \\mathcal{L}_1, \\mathcal{L}_2, \\mathcal{L}_3$ with\n$\\mathcal{L}_0 = \\{v_1\\}$,\n$\\mathcal{L}_1 = \\{v_2, v_3, v_4\\}$,\n$\\mathcal{L}_2 = \\{v_5, v_6, v_7, v_8\\}$,\n$\\mathcal{L}_3 = \\{v_9, v_{10}\\}$.\nEdges are directed from lower-indexed levels to higher-indexed levels and given by\n$v_1 \\to v_2$, $v_1 \\to v_3$, $v_1 \\to v_4$,\n$v_2 \\to v_5$, $v_2 \\to v_6$,\n$v_3 \\to v_6$, $v_3 \\to v_7$,\n$v_4 \\to v_7$, $v_4 \\to v_8$,\n$v_5 \\to v_9$, $v_6 \\to v_9$, $v_7 \\to v_{10}$, $v_8 \\to v_{10}$.\nAssume the graph is simple and unweighted, and consider only the single directed edge relation.\n\nTwo vertices $i$ and $j$ are said to be regularly equivalent if there exists a partition of the vertex set into classes $\\{C_1, \\dots, C_m\\}$ such that for every class $C_s$ and for each direction of adjacency (incoming and outgoing), vertex $i$ has at least one neighbor in $C_s$ via that direction if and only if vertex $j$ has at least one neighbor in $C_s$ via that direction. A partition is called coarsest if it has the smallest number of classes among all partitions that satisfy regular equivalence.\n\nStarting only from the definition above and the given network, derive the coarsest partition into regular equivalence classes and provide the total number of classes in that partition. In addition, interpret the roles of these classes across levels in terms of their position and adjacency patterns, explaining why the classes you identify indeed correspond to distinct roles, but express the final count as a pure number with no units. No approximations are required.",
            "solution": "The user wants me to solve the following problem:\n**Problem Statement Validation**\n\nThe first step is to validate the problem statement.\n\n**Step 1: Extract Givens**\n\n- **Vertex Set Partition (Levels)**: The vertex set $V$ is partitioned into four levels:\n  - $\\mathcal{L}_0 = \\{v_1\\}$\n  - $\\mathcal{L}_1 = \\{v_2, v_3, v_4\\}$\n  - $\\mathcal{L}_2 = \\{v_5, v_6, v_7, v_8\\}$\n  - $\\mathcal{L}_3 = \\{v_9, v_{10}\\}$\n- **Edge Set (Directed)**: Edges are directed from lower-indexed levels to higher-indexed levels. The specific edges are:\n  - $v_1 \\to v_2$, $v_1 \\to v_3$, $v_1 \\to v_4$\n  - $v_2 \\to v_5$, $v_2 \\to v_6$\n  - $v_3 \\to v_6$, $v_3 \\to v_7$\n  - $v_4 \\to v_7$, $v_4 \\to v_8$\n  - $v_5 \\to v_9$\n  - $v_6 \\to v_9$\n  - $v_7 \\to v_{10}$\n  - $v_8 \\to v_{10}$\n- **Graph Properties**: The graph is simple, unweighted, and a Directed Acyclic Graph (DAG).\n- **Definition of Regular Equivalence**: \"Two vertices $i$ and $j$ are said to be regularly equivalent if there exists a partition of the vertex set into classes $\\{C_1, \\dots, C_m\\}$ such that for every class $C_s$ and for each direction of adjacency (incoming and outgoing), vertex $i$ has at least one neighbor in $C_s$ via that direction if and only if vertex $j$ has at least one neighbor in $C_s$ via that direction.\"\n- **Task**: \"Derive the coarsest partition into regular equivalence classes and provide the total number of classes in that partition. In addition, interpret the roles of these classes across levels.\"\n\n**Step 2: Validate Using Extracted Givens**\n\n- **Scientifically Grounded**: The problem is based on the concept of regular equivalence, a standard and well-defined topic within network science and the study of complex systems. The object of study is a Directed Acyclic Graph (DAG), a fundamental mathematical structure. The problem is scientifically and mathematically sound.\n- **Well-Posed**: The problem asks for the coarsest partition under regular equivalence. For any given graph, such a partition is unique and can be found using a standard iterative refinement algorithm. The problem is therefore well-posed, admitting a unique and meaningful solution.\n- **Objective**: The graph's structure is defined with complete precision. The definition of regular equivalence is formal and objective. There is no ambiguity or subjective language.\n\n**Step 3: Verdict and Action**\n\nThe problem is valid. It is scientifically grounded, well-posed, and objective. I will now proceed with the solution.\n\n**Solution Derivation**\n\nThe problem requires finding the coarsest partition of the vertex set $V = \\{v_1, \\dots, v_{10}\\}$ into regular equivalence classes. Two vertices $i$ and $j$ are regularly equivalent, denoted $i \\equiv j$, if they have the same profile of connections to the equivalence classes themselves. Specifically, for any equivalence class $C_s$, $i$ has a neighbor in $C_s$ if and only if $j$ has a neighbor in $C_s$. This must hold for both incoming and outgoing neighbors.\n\nThe coarsest partition can be found using an iterative refinement algorithm. We start with a coarse partition and successively refine it until no more splits are possible. The algorithm terminates when a partition is stable under one iteration.\n\nLet $\\mathcal{P}_k$ be the partition at iteration $k$. Two vertices $i$ and $j$ are in the same class in $\\mathcal{P}_{k+1}$ if and only if:\n$1$. They were in the same class in $\\mathcal{P}_k$.\n$2$. For every class $C \\in \\mathcal{P}_k$, $i$ has an outgoing edge to a vertex in $C$ if and only if $j$ has an outgoing edge to a vertex in $C$.\n$3$. For every class $C \\in \\mathcal{P}_k$, $i$ has an incoming edge from a vertex in $C$ if and only if $j$ has an incoming edge from a vertex in $C$.\n\n**Iteration 0: Initial Partition**\nThe initial and coarsest possible partition is $\\mathcal{P}_0$, where all vertices belong to a single class:\n$\\mathcal{P}_0 = \\{C_1^{(0)}\\}$ with $C_1^{(0)} = \\{v_1, v_2, \\dots, v_{10}\\}$.\n\n**Iteration 1: Refining $\\mathcal{P}_0$**\nWe refine the class $C_1^{(0)}$ by checking the connectivity profiles of its members with respect to the classes in $\\mathcal{P}_0$, which is just $C_1^{(0)}$ itself. For each vertex $u$, we create a signature based on whether it has outgoing edges to $C_1^{(0)}$ and incoming edges from $C_1^{(0)}$.\n\n- **Outgoing edges**: A vertex $u$ has an outgoing edge to $C_1^{(0)}$ if $u$ has any outgoing edge at all.\n  - Vertices with outgoing edges: $\\{v_1, v_2, v_3, v_4, v_5, v_6, v_7, v_8\\}$.\n  - Vertices with no outgoing edges: $\\{v_9, v_{10}\\}$.\n- **Incoming edges**: A vertex $u$ has an incoming edge from $C_1^{(0)}$ if $u$ has any incoming edge at all.\n  - Vertices with incoming edges: $\\{v_2, v_3, v_4, v_5, v_6, v_7, v_8, v_9, v_{10}\\}$.\n  - Vertices with no incoming edges: $\\{v_1\\}$.\n\nCombining these two criteria, we partition the vertices into groups with identical profiles:\n- Profile (Has Outgoing, No Incoming): $\\{v_1\\}$.\n- Profile (Has Outgoing, Has Incoming): $\\{v_2, v_3, v_4, v_5, v_6, v_7, v_8\\}$.\n- Profile (No Outgoing, Has Incoming): $\\{v_9, v_{10}\\}$.\n\nThis yields the new partition $\\mathcal{P}_1$:\n$\\mathcal{P}_1 = \\{B_1, B_2, B_3\\}$, where\n$B_1 = \\{v_1\\}$\n$B_2 = \\{v_2, v_3, v_4, v_5, v_6, v_7, v_8\\}$\n$B_3 = \\{v_9, v_{10}\\}$\n\n**Iteration 2: Refining $\\mathcal{P}_1$**\nWe now refine the classes in $\\mathcal{P}_1$ by checking connectivity to $B_1$, $B_2$, and $B_3$.\n- $B_1$ is a singleton class and cannot be refined further. It is a final equivalence class.\n- Consider class $B_3 = \\{v_9, v_{10}\\}$. Let's compare the connectivity profiles of $v_9$ and $v_{10}$ with respect to $\\{B_1, B_2, B_3\\}$.\n  - For $v_9$:\n    - Outgoing neighbors: none. So, no outgoing connections to $B_1, B_2, B_3$.\n    - Incoming neighbors: $\\{v_5, v_6\\}$. Since $\\{v_5, v_6\\} \\subset B_2$, $v_9$ receives connections from $B_2$. It does not receive connections from $B_1$ or $B_3$. Profile: `in_from: {B_2}`.\n  - For $v_{10}$:\n    - Outgoing neighbors: none.\n    - Incoming neighbors: $\\{v_7, v_8\\}$. Since $\\{v_7, v_8\\} \\subset B_2$, $v_{10}$ receives connections from $B_2$. It does not receive connections from $B_1$ or $B_3$. Profile: `in_from: {B_2}`.\n  - Since $v_9$ and $v_{10}$ have identical connectivity profiles with respect to the classes in $\\mathcal{P}_1$, they are not distinguished at this step. The class $B_3$ is not refined.\n\n- Consider class $B_2 = \\{v_2, v_3, v_4, v_5, v_6, v_7, v_8\\}$. We check the connectivity profile of each member.\n  - For $v_2, v_3, v_4$:\n    - Outgoing: $N_{out}(v_2)=\\{v_5,v_6\\}\\subset B_2$, $N_{out}(v_3)=\\{v_6,v_7\\}\\subset B_2$, $N_{out}(v_4)=\\{v_7,v_8\\}\\subset B_2$. All have outgoing neighbors in $B_2$. None have outgoing neighbors in $B_1$ or $B_3$.\n    - Incoming: $N_{in}(v_2)=N_{in}(v_3)=N_{in}(v_4)=\\{v_1\\}\\subset B_1$. All have incoming neighbors from $B_1$. None have incoming neighbors from $B_2$ or $B_3$.\n    - Profile for $\\{v_2, v_3, v_4\\}$: `out_to: {B_2}`, `in_from: {B_1}`.\n  - For $v_5, v_6, v_7, v_8$:\n    - Outgoing: $N_{out}(v_5)=\\{v_9\\}\\subset B_3$, $N_{out}(v_6)=\\{v_9\\}\\subset B_3$, $N_{out}(v_7)=\\{v_{10}\\}\\subset B_3$, $N_{out}(v_8)=\\{v_{10}\\}\\subset B_3$. All have outgoing neighbors in $B_3$. None have outgoing neighbors in $B_1$ or $B_2$.\n    - Incoming: $N_{in}(v_5)=\\{v_2\\}\\subset B_2$, $N_{in}(v_6)=\\{v_2,v_3\\}\\subset B_2$, $N_{in}(v_7)=\\{v_3,v_4\\}\\subset B_2$, $N_{in}(v_8)=\\{v_4\\}\\subset B_2$. All have incoming neighbors from $B_2$. None have incoming neighbors from $B_1$ or $B_3$.\n    - Profile for $\\{v_5, v_6, v_7, v_8\\}$: `out_to: {B_3}`, `in_from: {B_2}`.\n  - The vertices in $B_2$ have two distinct profiles. Therefore, $B_2$ is split into two new classes.\n\nThis yields the new partition $\\mathcal{P}_2$:\n$\\mathcal{P}_2 = \\{C_1, C_2, C_3, C_4\\}$, where\n$C_1 = B_1 = \\{v_1\\}$\n$C_2 = \\{v_2, v_3, v_4\\}$\n$C_3 = \\{v_5, v_6, v_7, v_8\\}$\n$C_4 = B_3 = \\{v_9, v_{10}\\}$\n\n**Iteration 3: Refining $\\mathcal{P}_2$**\nNow we check if $\\mathcal{P}_2$ can be refined further by checking connectivity to classes $\\{C_1, C_2, C_3, C_4\\}$.\n- $C_1 = \\{v_1\\}$ is a singleton and final.\n- Check $C_2 = \\{v_2, v_3, v_4\\}$:\n  - $v_2, v_3, v_4$ all receive from $v_1 \\in C_1$. So `in_from: {C_1}` for all.\n  - $N_{out}(v_2)=\\{v_5,v_6\\}\\subset C_3$. $N_{out}(v_3)=\\{v_6,v_7\\}\\subset C_3$. $N_{out}(v_4)=\\{v_7,v_8\\}\\subset C_3$. All send to $C_3$. So `out_to: {C_3}` for all.\n  - All vertices in $C_2$ have the profile `(out_to: {C_3}, in_from: {C_1})`. $C_2$ is not refined.\n- Check $C_3 = \\{v_5, v_6, v_7, v_8\\}$:\n  - $N_{in}(v_5)=\\{v_2\\}\\subset C_2$. $N_{in}(v_6)=\\{v_2,v_3\\}\\subset C_2$. $N_{in}(v_7)=\\{v_3,v_4\\}\\subset C_2$. $N_{in}(v_8)=\\{v_4\\}\\subset C_2$. All receive from $C_2$. So `in_from: {C_2}` for all.\n  - $N_{out}(v_5)=\\{v_9\\}\\subset C_4$. $N_{out}(v_6)=\\{v_9\\}\\subset C_4$. $N_{out}(v_7)=\\{v_{10}\\}\\subset C_4$. $N_{out}(v_8)=\\{v_{10}\\}\\subset C_4$. All send to $C_4$. So `out_to: {C_4}` for all.\n  - All vertices in $C_3$ have the profile `(out_to: {C_4}, in_from: {C_2})`. $C_3$ is not refined.\n- Check $C_4 = \\{v_9, v_{10}\\}$:\n  - $v_9, v_{10}$ have no outgoing edges.\n  - $N_{in}(v_9)=\\{v_5,v_6\\}\\subset C_3$. $N_{in}(v_{10})=\\{v_7,v_8\\}\\subset C_3$. All receive from $C_3$. So `in_from: {C_3}` for all.\n  - All vertices in $C_4$ have the profile `(out_to: {}, in_from: {C_3})`. $C_4$ is not refined.\n\nSince no class in $\\mathcal{P}_2$ was refined, the algorithm has converged. $\\mathcal{P}_2$ is the coarsest partition into regular equivalence classes.\n\nThe final partition is $\\mathcal{P}_{final} = \\{\\{v_1\\}, \\{v_2, v_3, v_4\\}, \\{v_5, v_6, v_7, v_8\\}, \\{v_9, v_{10}\\}\\}$.\nThe total number of classes in this partition is $4$.\n\n**Interpretation of Roles**\nThe regular equivalence classes correspond to the structural roles of the vertices in the network's hierarchy. In this highly structured graph, the classes perfectly align with the given levels.\n- **Class $C_1 = \\{v_1\\}$**: This singleton class is the sole member of level $\\mathcal{L}_0$. It acts as the unique **source** or **origin** of the network. Its role is to initiate all pathways, sending information to the next layer (Class $C_2$) without receiving any from any other node.\n- **Class $C_2 = \\{v_2, v_3, v_4\\}$**: This class comprises all nodes in level $\\mathcal{L}_1$. These nodes share the role of being **primary distributors**. They all receive input from the source class $C_1$ and propagate it to the next layer, class $C_3$.\n- **Class $C_3 = \\{v_5, v_6, v_7, v_8\\}$**: This class comprises all nodes in level $\\mathcal{L}_2$. Their shared role is that of a **secondary processing** or **aggregation** layer. They receive signals from the primary distributors in $C_2$ and pass them on to the final layer, $C_4$. It is a key feature of regular equivalence that even though, for instance, $v_5$ and $v_8$ have different in-degrees ($1$ vs $1$) and are connected to different specific nodes, they are equivalent because they connect to nodes of the same *type* or *class*.\n- **Class $C_4 = \\{v_9, v_{10}\\}$**: This class comprises all nodes in level $\\mathcal{L}_3$. These nodes act as the **sinks** or **termini** of the network. Their role is to receive all incoming signals from the preceding layer ($C_3$) and not propagate them any further.\n\nIn summary, the regular equivalence analysis has successfully identified the four distinct hierarchical roles present in this DAG, which correspond exactly to the predefined levels $\\mathcal{L}_0, \\mathcal{L}_1, \\mathcal{L}_2$, and $\\mathcal{L}_3$.",
            "answer": "$$\\boxed{4}$$"
        },
        {
            "introduction": "While some roles are defined by broad structural patterns, others are characterized by specific functions, such as brokerage—the act of connecting otherwise disconnected groups. Although high betweenness centrality is often seen as a proxy for brokerage, this can be a misleading simplification, particularly in directed networks. This exercise  presents a carefully constructed counterexample to help you deconstruct the nuances of brokerage, demonstrating why considering the direction of influence is essential for accurately identifying these crucial network positions.",
            "id": "4292591",
            "problem": "Consider a directed network with node set $V=\\{h,a_{1},a_{2},b_{1},b_{2},c_{1},c_{2}\\}$ partitioned into three disjoint roles (groups): role $A$ contains $\\{h,a_{1},a_{2}\\}$, role $B$ contains $\\{b_{1},b_{2}\\}$, and role $C$ contains $\\{c_{1},c_{2}\\}$. The directed edge set $E$ is defined as follows: for every leaf node $x \\in \\{a_{1},a_{2},b_{1},b_{2},c_{1},c_{2}\\}$, include the directed edge $x \\to h$; additionally include the single directed edge $h \\to a_{1}$. No other edges exist. Let the underlying undirected network be the graph obtained by replacing each directed edge $u \\to v$ with an undirected edge between $u$ and $v$.\n\nYou will use the following foundational definitions. For a node $v$ in an undirected network, the betweenness centrality $C_{B}(v)$ is given by the sum over all distinct pairs of nodes $s$ and $t$ with $s \\neq v$, $t \\neq v$, and $s \\neq t$ of the fraction of shortest paths between $s$ and $t$ that pass through $v$, that is $C_{B}(v)=\\sum_{s \\neq v \\neq t}\\frac{\\sigma_{st}(v)}{\\sigma_{st}}$, where $\\sigma_{st}$ is the total number of shortest paths between $s$ and $t$, and $\\sigma_{st}(v)$ is the number of those paths that pass through $v$.\n\nBrokerage is quantified here using role-specific directed two-step paths. For a broker node $b$, define the liaison brokerage count $B_{\\text{liaison}}(b)$ as the number of ordered pairs $(s,t)$ with $s \\neq b$, $t \\neq b$, for which a directed path of length $2$ of the form $s \\to b \\to t$ exists, and the roles satisfy $g(s) \\neq g(t)$, $g(s) \\neq g(b)$, and $g(t) \\neq g(b)$, where $g(\\cdot)$ maps a node to its role.\n\nYour tasks are:\n- Use the definitions above to argue whether $h$ is central in the underlying undirected network.\n- Compute the exact liaison brokerage count $B_{\\text{liaison}}(h)$ for the directed network described. Express the final answer as an exact integer. No rounding is required. The final answer must be a single real-valued number.",
            "solution": "The problem is assessed to be valid as it is scientifically grounded in network science, well-posed, objective, and internally consistent.\n\nThe problem asks for two distinct tasks: first, to argue for the centrality of node $h$ in an undirected version of the network, and second, to compute a specific brokerage score for node $h$ in the original directed network.\n\n### Part 1: Centrality of Node $h$ in the Underlying Undirected Network\n\nFirst, we must construct the underlying undirected network from the given directed network.\nThe set of nodes is $V=\\{h,a_{1},a_{2},b_{1},b_{2},c_{1},c_{2}\\}$.\nThe directed edges are:\n1. $x \\to h$ for all $x \\in \\{a_{1},a_{2},b_{1},b_{2},c_{1},c_{2}\\}$. This gives the edges $a_{1} \\to h$, $a_{2} \\to h$, $b_{1} \\to h$, $b_{2} \\to h$, $c_{1} \\to h$, and $c_{2} \\to h$.\n2. The single edge $h \\to a_{1}$.\n\nTo obtain the underlying undirected network, we replace each directed edge $u \\to v$ with an undirected edge $\\{u, v\\}$. This process results in the following set of undirected edges:\n- $\\{a_{1}, h\\}$, $\\{a_{2}, h\\}$, $\\{b_{1}, h\\}$, $\\{b_{2}, h\\}$, $\\{c_{1}, h\\}$, $\\{c_{2}, h\\}$.\nThe two directed edges between $h$ and $a_{1}$ (i.e., $a_{1} \\to h$ and $h \\to a_{1}$) correspond to the same single undirected edge $\\{h, a_{1}\\}$.\nThe resulting undirected graph is a star graph with $h$ as the central node and the six other nodes $\\{a_{1},a_{2},b_{1},b_{2},c_{1},c_{2}\\}$ as leaf nodes. The degree of $h$ is $6$, and the degree of every other node is $1$.\n\nTo argue whether $h$ is central, we will use the provided definition of betweenness centrality, $C_{B}(v)=\\sum_{s \\neq v \\neq t}\\frac{\\sigma_{st}(v)}{\\sigma_{st}}$.\n\nLet's compute the betweenness centrality of the central node, $h$. The sum is over all pairs of nodes $\\{s, t\\}$ from $V \\setminus \\{h\\}$. The set $V \\setminus \\{h\\}$ consists of the $6$ leaf nodes $\\{a_{1},a_{2},b_{1},b_{2},c_{1},c_{2}\\}$.\nConsider any two distinct nodes $s$ and $t$ from this set of leaves. In a star graph, the only path between any two distinct leaf nodes is the one that goes through the central node. For instance, the path between $a_{2}$ and $b_{1}$ is $a_{2} - h - b_{1}$. The length of this path is $2$. Any other path would be longer. Therefore, this is the unique shortest path.\nFor any pair of distinct leaf nodes $\\{s, t\\}$, the total number of shortest paths is $\\sigma_{st} = 1$. This single shortest path is $s - h - t$, which passes through $h$. Thus, the number of shortest paths passing through $h$ is $\\sigma_{st}(h) = 1$.\nThe ratio $\\frac{\\sigma_{st}(h)}{\\sigma_{st}} = \\frac{1}{1} = 1$ for every pair of distinct leaf nodes.\n\nTo find $C_{B}(h)$, we sum this ratio over all such pairs. The number of ways to choose $2$ distinct nodes from the $6$ leaf nodes is given by the binomial coefficient $\\binom{6}{2}$.\n$C_{B}(h) = \\sum_{s,t \\in V \\setminus \\{h\\}, s \\neq t} \\frac{\\sigma_{st}(h)}{\\sigma_{st}} = \\binom{6}{2} \\times 1 = \\frac{6 \\times 5}{2} = 15$.\n\nNow, let's compute the betweenness centrality for any leaf node, for example, $v = a_{1}$. The sum for $C_{B}(a_{1})$ is over pairs $\\{s, t\\}$ from $V \\setminus \\{a_{1}\\}$. A node must lie on a path between two other nodes to have a non-zero betweenness centrality. In a star graph, a leaf node cannot lie on the shortest path between any other pair of nodes.\n- If the pair is $\\{h, x\\}$ where $x$ is another leaf, the shortest path is $h-x$. This does not pass through $a_{1}$.\n- If the pair is $\\{x, y\\}$ where $x$ and $y$ are two other leaves, the shortest path is $x-h-y$. This does not pass through $a_{1}$.\nTherefore, for any pair $\\{s, t\\}$ in $V \\setminus \\{a_{1}\\}$, the number of shortest paths passing through $a_1$ is $\\sigma_{st}(a_{1}) = 0$.\nThis implies $C_{B}(a_{1}) = 0$. The same logic applies to all other leaf nodes: $a_{2}, b_{1}, b_{2}, c_{1}, c_{2}$.\nSo, $C_{B}(v) = 0$ for all $v \\in \\{a_{1},a_{2},b_{1},b_{2},c_{1},c_{2}\\}$.\n\nSince $C_{B}(h) = 15$ and the centrality of every other node is $0$, node $h$ is overwhelmingly the most central node in the undirected network according to the betweenness centrality measure.\n\n### Part 2: Liaison Brokerage Count for Node $h$\n\nThe second task is to compute the liaison brokerage count $B_{\\text{liaison}}(h)$ for the node $h$ in the original directed network.\nThe definition provided is: $B_{\\text{liaison}}(b)$ is the number of ordered pairs $(s,t)$ with $s \\neq b, t \\neq b$, for which a directed path of length $2$ of the form $s \\to b \\to t$ exists, and the roles satisfy $g(s) \\neq g(t)$, $g(s) \\neq g(b)$, and $g(t) \\neq g(b)$.\n\nHere, the broker node is $b=h$. The role of the broker is $g(h) = A$.\nThe conditions for an ordered pair $(s,t)$ to contribute to $B_{\\text{liaison}}(h)$ are:\n1. $s \\neq h$ and $t \\neq h$.\n2. A directed path $s \\to h \\to t$ exists.\n3. The roles must satisfy:\n   a. $g(s) \\neq g(t)$\n   b. $g(s) \\neq g(h)$\n   c. $g(t) \\neq g(h)$\n\nLet's first identify all possible paths $s \\to h \\to t$.\nFor a path $s \\to h \\to t$ to exist, there must be an incoming edge to $h$ from $s$ and an outgoing edge from $h$ to $t$.\n- The set of nodes with an edge to $h$ is $\\text{In}(h) = \\{a_{1},a_{2},b_{1},b_{2},c_{1},c_{2}\\}$. So, $s$ must be in this set.\n- The set of nodes with an edge from $h$ is $\\text{Out}(h) = \\{a_{1}\\}$. So, $t$ must be $a_{1}$.\n\nThis means that any path of length $2$ through $h$ must be of the form $s \\to h \\to a_{1}$, where $s \\in \\{a_{1},a_{2},b_{1},b_{2},c_{1},c_{2}\\}$.\n\nNow, we check the brokerage conditions for these potential paths. A critical condition is $3(c)$, which for $b=h$ is $g(t) \\neq g(h)$.\n- The role of the broker node is $g(h) = A$.\n- For all identified paths, the target node is $t=a_{1}$.\n- The role of the target node $a_{1}$ is given as $g(a_{1}) = A$ (since $a_{1}$ is in role $A$).\n\nThe condition $g(t) \\neq g(h)$ thus becomes $g(a_{1}) \\neq g(h)$, which is $A \\neq A$. This is a contradiction.\nThis condition is violated for every possible path of length $2$ through the broker node $h$. Since at least one of the necessary conditions for liaison brokerage is never met, no ordered pair $(s,t)$ can contribute to the count.\n\nTherefore, the liaison brokerage count is zero.\n$B_{\\text{liaison}}(h) = 0$.",
            "answer": "$$\\boxed{0}$$"
        },
        {
            "introduction": "Beyond discrete roles, a node's position can be described by continuous measures of influence or importance, known as centrality. While many different centrality measures exist, they are often more deeply related than they first appear. This advanced practice  explores Katz centrality as a unifying framework that elegantly connects local importance (degree centrality) and global influence (eigenvector centrality) through a single tunable parameter, $\\alpha$, offering profound insight into how influence propagates across a network at different scales.",
            "id": "4292574",
            "problem": "You are given a directed, strongly connected network on $n$ nodes with nonnegative adjacency matrix $A \\in \\mathbb{R}^{n \\times n}$, where $A_{ij} = 1$ if there is a directed edge from node $i$ to node $j$ and $A_{ij} = 0$ otherwise. Let $\\mathbf{1} \\in \\mathbb{R}^{n}$ denote the vector of ones. Define the out-degree centrality vector $d^{\\mathrm{out}} \\in \\mathbb{R}^{n}$ by $d^{\\mathrm{out}} = A \\mathbf{1}$. Define eigenvector centrality as any vector $v \\in \\mathbb{R}^{n}_{>0}$ satisfying $A v = \\rho(A) v$, where $\\rho(A)$ denotes the spectral radius of $A$; existence and positivity follow from the Perron–Frobenius theorem for nonnegative irreducible matrices. Consider a parameterized centrality vector $x \\in \\mathbb{R}^{n}$ defined implicitly, for parameters $\\alpha \\ge 0$ and $\\beta > 0$ with $\\alpha < 1/\\rho(A)$, by the linear recursion\n$x = \\beta \\mathbf{1} + \\alpha A x.$\nUsing only (i) the Neumann series for a matrix resolvent, and (ii) the Perron–Frobenius theorem for nonnegative irreducible matrices, do the following:\n1. Prove that $x$ admits the convergent series representation $x = \\beta \\sum_{k=0}^{\\infty} \\alpha^{k} A^{k} \\mathbf{1}$. Then rigorously justify that as $\\alpha \\to 0^{+}$,\n$x = \\beta \\mathbf{1} + \\beta \\alpha A \\mathbf{1} + o(\\alpha),$\nso that, up to an additive baseline $\\beta \\mathbf{1}$ and to first order in $\\alpha$, the centrality increment is proportional to the out-degree centrality $d^{\\mathrm{out}}$.\n2. Prove that as $\\alpha \\uparrow 1/\\rho(A)$ from below, the direction of $x$ aligns with the eigenvector centrality, in the sense that any normalization of $x$ to unit norm converges to the Perron right eigenvector $v/\\|v\\|$, i.e., $x/\\|x\\| \\to v/\\|v\\|$.\n3. Now specialize to the directed $3$-cycle with nodes $1 \\to 2 \\to 3 \\to 1$. For this graph, take $\\alpha = 1/2$ and $\\beta = 1$. Compute $x$ exactly. Express your final answer as a row vector, with no units, and no rounding is required.",
            "solution": "The problem defines a parameterized centrality vector $x \\in \\mathbb{R}^{n}$ for a directed, strongly connected network via the equation $x = \\beta \\mathbf{1} + \\alpha A x$, with parameters $\\alpha \\ge 0$, $\\beta > 0$ and the constraint $\\alpha < 1/\\rho(A)$, where $\\rho(A)$ is the spectral radius of the adjacency matrix $A$. We are asked to analyze this centrality measure in two limiting cases and to compute it for a specific graph.\n\nThe defining equation can be rearranged into a standard linear system:\n$x - \\alpha A x = \\beta \\mathbf{1}$\n$(I - \\alpha A) x = \\beta \\mathbf{1}$\nwhere $I$ is the $n \\times n$ identity matrix. A unique solution for $x$ exists if and only if the matrix $(I - \\alpha A)$ is invertible. The invertibility is guaranteed by the condition imposed on $\\alpha$. The spectral radius of the matrix $\\alpha A$ is $\\rho(\\alpha A) = |\\alpha| \\rho(A)$. Since $\\alpha \\ge 0$, this is $\\alpha \\rho(A)$. The problem specifies $\\alpha < 1/\\rho(A)$, which is equivalent to $\\alpha \\rho(A) < 1$.\n\nA standard result in linear algebra, based on the Neumann series, states that for any square matrix $M$, if $\\rho(M) < 1$, then $(I - M)$ is invertible and its inverse can be expressed as the convergent series $(I - M)^{-1} = \\sum_{k=0}^{\\infty} M^k$. Setting $M = \\alpha A$, the condition $\\rho(\\alpha A) < 1$ is met. Therefore, we can find the unique solution for $x$ as:\n$x = (I - \\alpha A)^{-1} (\\beta \\mathbf{1})$\n\nThis forms the basis for all three parts of the problem.\n\n1. Proof of the series representation and the low-$\\alpha$ limit.\n\nUsing the Neumann series expansion for $(I - \\alpha A)^{-1}$, we can write $x$ as:\n$x = \\left( \\sum_{k=0}^{\\infty} (\\alpha A)^k \\right) \\beta \\mathbf{1}$\nSince $\\beta$ is a scalar, it can be moved outside the summation:\n$x = \\beta \\sum_{k=0}^{\\infty} \\alpha^k A^k \\mathbf{1}$\nThis proves the first required statement. This expression is known as the Katz centrality vector.\n\nTo analyze the behavior as $\\alpha \\to 0^{+}$, we expand the series:\n$x = \\beta \\left( (\\alpha A)^0 \\mathbf{1} + (\\alpha A)^1 \\mathbf{1} + \\sum_{k=2}^{\\infty} (\\alpha A)^k \\mathbf{1} \\right)$\n$x = \\beta \\left( I \\mathbf{1} + \\alpha A \\mathbf{1} + \\sum_{k=2}^{\\infty} \\alpha^k A^k \\mathbf{1} \\right)$\n$x = \\beta \\mathbf{1} + \\beta \\alpha A \\mathbf{1} + \\beta \\sum_{k=2}^{\\infty} \\alpha^k A^k \\mathbf{1}$\nThe term $\\beta \\mathbf{1}$ is a constant baseline. The next term, $\\beta \\alpha A \\mathbf{1}$, is linear in $\\alpha$. By definition, the out-degree centrality vector is $d^{\\mathrm{out}} = A \\mathbf{1}$, so this term is $\\beta \\alpha d^{\\mathrm{out}}$.\n\nWe must show that the remainder term, $R(\\alpha) = \\beta \\sum_{k=2}^{\\infty} \\alpha^k A^k \\mathbf{1}$, is of order $o(\\alpha)$. A term is $o(\\alpha)$ if it goes to zero faster than $\\alpha$, i.e., $\\lim_{\\alpha \\to 0^{+}} \\|R(\\alpha)\\|/\\alpha = 0$.\nLet's factor out $\\alpha^2$ from the remainder:\n$R(\\alpha) = \\beta \\alpha^2 \\sum_{k=2}^{\\infty} \\alpha^{k-2} A^k \\mathbf{1} = \\beta \\alpha^2 \\sum_{j=0}^{\\infty} \\alpha^{j} A^{j+2} \\mathbf{1}$\nNow we examine the limit of the ratio:\n$\\frac{\\|R(\\alpha)\\|}{\\alpha} = \\frac{\\|\\beta \\alpha^2 \\sum_{j=0}^{\\infty} \\alpha^{j} A^{j+2} \\mathbf{1}\\|}{\\alpha} = \\alpha \\|\\beta \\sum_{j=0}^{\\infty} \\alpha^{j} A^{j+2} \\mathbf{1}\\|$\nAs $\\alpha \\to 0^{+}$, the summation term converges to $A^2 \\mathbf{1}$ (since all terms with $j>0$ vanish). Thus,\n$\\lim_{\\alpha \\to 0^{+}} \\frac{\\|R(\\alpha)\\|}{\\alpha} = 0 \\cdot \\|\\beta A^2 \\mathbf{1}\\| = 0$\nSince the remainder term is $O(\\alpha^2)$, it is necessarily $o(\\alpha)$. Therefore, we have rigorously shown that:\n$x = \\beta \\mathbf{1} + \\beta \\alpha A \\mathbf{1} + o(\\alpha)$\nThis confirms that, up to the additive baseline $\\beta \\mathbf{1}$ and to first order in $\\alpha$, the centrality increment is proportional to the out-degree centrality $d^{\\mathrm{out}}$.\n\n2. Proof of convergence to the eigenvector centrality.\n\nWe analyze the behavior of $x$ as $\\alpha$ approaches its upper bound, $\\alpha \\uparrow 1/\\rho(A)$. Let $\\lambda_1 = \\rho(A)$ be the spectral radius of $A$. The network is strongly connected, so its adjacency matrix $A$ is irreducible. By the Perron-Frobenius theorem for nonnegative irreducible matrices, $\\lambda_1$ is a simple (non-repeated) positive real eigenvalue, and its corresponding right eigenvector $v$ can be chosen to have all positive components ($v > 0$). Furthermore, for any other eigenvalue $\\lambda_i$ of $A$, $|\\lambda_i| \\le \\lambda_1$. The simplicity of $\\lambda_1$ means that if $|\\lambda_i| = \\lambda_1$ for some $i \\ne 1$, then $\\lambda_i$ must be complex.\n\nThe solution $x = \\beta(I - \\alpha A)^{-1}\\mathbf{1}$ can be analyzed using the spectral properties of $A$. Let $\\{v_i\\}_{i=1}^n$ be a basis of generalized right eigenvectors of $A$, and $\\{v_{L,i}\\}_{i=1}^n$ be the corresponding basis of generalized left eigenvectors, satisfying $v_{L,i}^T v_j = \\delta_{ij}$ (if normalized appropriately). The resolvent matrix $(I - \\alpha A)^{-1}$ has a spectral expansion. Near the singularity $\\alpha = 1/\\lambda_1$, the behavior of the resolvent is dominated by a simple pole. The expansion of the resolvent is given by:\n$(I - \\alpha A)^{-1} = \\frac{1}{1 - \\alpha \\lambda_1} \\frac{v v_L^T}{v_L^T v} + \\sum_{i=2}^n \\frac{1}{1 - \\alpha \\lambda_i} (\\dots)$\nwhere $v$ and $v_L$ are the right and left Perron eigenvectors corresponding to $\\lambda_1 = \\rho(A)$. The terms for $i \\ge 2$ remain bounded as $\\alpha \\to 1/\\lambda_1$ because for real $\\alpha$, $1 - \\alpha \\lambda_i \\neq 0$ since $\\lambda_1$ is the unique eigenvalue of its magnitude on the positive real axis.\n\nApplying the resolvent to the vector $\\beta \\mathbf{1}$, we get:\n$x = \\beta (I - \\alpha A)^{-1} \\mathbf{1} = \\frac{\\beta}{1 - \\alpha \\lambda_1} \\frac{v (v_L^T \\mathbf{1})}{v_L^T v} + \\text{bounded terms}$\nAs $\\alpha \\uparrow 1/\\lambda_1$, the denominator $1 - \\alpha \\lambda_1 \\to 0^{+}$. The term $v_L^T v$ is positive because all components of $v$ and $v_L$ are positive. The term $v_L^T \\mathbf{1}$ is also positive for the same reason. Let $C = \\beta \\frac{v_L^T \\mathbf{1}}{v_L^T v}$, which is a positive constant. The expression becomes:\n$x = \\frac{C}{1 - \\alpha \\lambda_1} v + \\text{bounded terms}$\nThe first term's norm goes to infinity, while the \"bounded terms\" vector remains finite. Let the bounded terms converge to a vector $y_{lim}$.\nTo find the direction of $x$, we normalize it:\n$\\frac{x}{\\|x\\|} = \\frac{\\frac{C}{1 - \\alpha \\lambda_1} v + y_{lim}}{\\|\\frac{C}{1 - \\alpha \\lambda_1} v + y_{lim}\\|}$\nWe can factor out the diverging scalar from the numerator and denominator:\n$\\frac{x}{\\|x\\|} = \\frac{\\frac{C}{1 - \\alpha \\lambda_1} \\left(v + \\frac{1 - \\alpha \\lambda_1}{C} y_{lim}\\right)}{\\left|\\frac{C}{1 - \\alpha \\lambda_1}\\right| \\left\\|v + \\frac{1 - \\alpha \\lambda_1}{C} y_{lim}\\right\\|}$\nSince $\\alpha < 1/\\lambda_1$ and $C > 0$, the scalar factor is positive. Thus, it cancels out.\n$\\frac{x}{\\|x\\|} = \\frac{v + \\frac{1 - \\alpha \\lambda_1}{C} y_{lim}}{\\left\\|v + \\frac{1 - \\alpha \\lambda_1}{C} y_{lim}\\right\\|}$\nAs $\\alpha \\uparrow 1/\\lambda_1$, the term $\\frac{1 - \\alpha \\lambda_1}{C} y_{lim} \\to 0$. Therefore, in the limit:\n$\\lim_{\\alpha \\uparrow 1/\\lambda_1} \\frac{x}{\\|x\\|} = \\frac{v}{\\|v\\|}$\nThis proves that the direction of the centrality vector $x$ aligns with that of the Perron eigenvector $v$ as $\\alpha$ approaches its critical value.\n\n3. Calculation for the directed $3$-cycle.\n\nThe network is the cycle $1 \\to 2 \\to 3 \\to 1$. The adjacency matrix $A$ is a permutation matrix:\n$$A = \\begin{pmatrix} 0 & 1 & 0 \\\\ 0 & 0 & 1 \\\\ 1 & 0 & 0 \\end{pmatrix}$$\nThe parameters are given as $\\alpha = 1/2$ and $\\beta = 1$. First, we must verify the condition $\\alpha < 1/\\rho(A)$. We find the eigenvalues of $A$ from the characteristic equation $\\det(A - \\lambda I) = 0$:\n$\\det\\begin{pmatrix} -\\lambda & 1 & 0 \\\\ 0 & -\\lambda & 1 \\\\ 1 & 0 & -\\lambda \\end{pmatrix} = -\\lambda(-\\lambda^2) - 1(-1) = -\\lambda^3 + 1 = 0$\nThe eigenvalues are the cube roots of unity: $\\lambda_1 = 1$, $\\lambda_2 = \\exp(i 2\\pi/3)$, and $\\lambda_3 = \\exp(i 4\\pi/3)$. The spectral radius is $\\rho(A) = \\max_i |\\lambda_i| = 1$.\nThe condition is $\\alpha < 1/1$, so $\\alpha < 1$. Given $\\alpha = 1/2$, the condition $1/2 < 1$ is satisfied.\n\nWe need to compute $x = (I - \\alpha A)^{-1} \\beta \\mathbf{1}$. With the given parameters, this is $x = (I - \\frac{1}{2} A)^{-1} \\mathbf{1}$.\nLet $M = I - \\frac{1}{2} A$:\n$$M = \\begin{pmatrix} 1 & 0 & 0 \\\\ 0 & 1 & 0 \\\\ 0 & 0 & 1 \\end{pmatrix} - \\frac{1}{2} \\begin{pmatrix} 0 & 1 & 0 \\\\ 0 & 0 & 1 \\\\ 1 & 0 & 0 \\end{pmatrix} = \\begin{pmatrix} 1 & -1/2 & 0 \\\\ 0 & 1 & -1/2 \\\\ -1/2 & 0 & 1 \\end{pmatrix}$$\nDue to the symmetry of the graph structure, we can anticipate that all nodes will have the same centrality score, i.e., $x_1 = x_2 = x_3 = c$ for some constant $c$. We can solve for $c$ by substituting $x = c \\mathbf{1}$ into the original equation $x = \\beta \\mathbf{1} + \\alpha A x$:\n$$c \\mathbf{1} = 1 \\cdot \\mathbf{1} + \\frac{1}{2} A (c \\mathbf{1})$$\n$$c \\mathbf{1} = \\mathbf{1} + \\frac{c}{2} A \\mathbf{1}$$\nThe matrix $A$ represents a regular graph where each node has an out-degree of $1$. So, $A\\mathbf{1} = \\mathbf{1}$.\n$$c \\mathbf{1} = \\mathbf{1} + \\frac{c}{2} \\mathbf{1}$$\nEquating the components, we get $c = 1 + c/2$, which implies $c/2 = 1$, so $c=2$.\nThus, the solution is $x = \\begin{pmatrix} 2 \\\\ 2 \\\\ 2 \\end{pmatrix}$.\n\nAlternatively, we can compute the inverse of $M$:\n$\\det(M) = 1(1 \\cdot 1 - 0 \\cdot (-1/2)) - (-1/2)(0 \\cdot 1 - (-1/2) \\cdot (-1/2)) + 0 = 1 + (1/2)(-1/4) = 1 - 1/8 = 7/8$.\nThe adjugate of $M$ is:\n$$\\text{adj}(M) = \\begin{pmatrix} 1 & 1/2 & 1/4 \\\\ 1/4 & 1 & 1/2 \\\\ 1/2 & 1/4 & 1 \\end{pmatrix}$$\nThe inverse is:\n$$M^{-1} = \\frac{1}{\\det(M)} \\text{adj}(M) = \\frac{8}{7} \\begin{pmatrix} 1 & 1/2 & 1/4 \\\\ 1/4 & 1 & 1/2 \\\\ 1/2 & 1/4 & 1 \\end{pmatrix}$$\nNow we compute $x = M^{-1} \\mathbf{1}$:\n$$x = \\frac{8}{7} \\begin{pmatrix} 1 & 1/2 & 1/4 \\\\ 1/4 & 1 & 1/2 \\\\ 1/2 & 1/4 & 1 \\end{pmatrix} \\begin{pmatrix} 1 \\\\ 1 \\\\ 1 \\end{pmatrix} = \\frac{8}{7} \\begin{pmatrix} 1 + 1/2 + 1/4 \\\\ 1/4 + 1 + 1/2 \\\\ 1/2 + 1/4 + 1 \\end{pmatrix} = \\frac{8}{7} \\begin{pmatrix} 7/4 \\\\ 7/4 \\\\ 7/4 \\end{pmatrix} = \\begin{pmatrix} 2 \\\\ 2 \\\\ 2 \\end{pmatrix}$$\nBoth methods yield the same result. The final answer is required as a row vector.",
            "answer": "$$\\boxed{\\begin{pmatrix} 2 & 2 & 2 \\end{pmatrix}}$$"
        }
    ]
}