{
    "hands_on_practices": [
        {
            "introduction": "理解相依网络中级联失效的核心在于掌握其动态过程。本练习提供了一个具体情景，旨在通过手动模拟两个小型网络间的失效传播，让您亲身体验这一过程。通过追踪每一轮迭代中由网络拓扑（最大连通分量）和相依关系共同驱动的节点移除，您将加深对级联失效机制的理解 ()。",
            "id": "4266384",
            "problem": "考虑两个无向网络 $A$ 和 $B$，它们通过双向的一对一依赖关系对相互依存。设节点集为 $A=\\{a_1,a_2,a_3,a_4,a_5,a_6\\}$ 和 $B=\\{b_1,b_2,b_3,b_4,b_5,b_6,b_7\\}$。边集为\n$$\nE_A=\\{(a_1,a_2),(a_2,a_3),(a_3,a_4),(a_1,a_3),(a_5,a_6)\\}\n$$\n和\n$$\nE_B=\\{(b_1,b_2),(b_2,b_3),(b_1,b_3),(b_4,b_5),(b_5,b_6),(b_6,b_7)\\}.\n$$\n相互依赖关系由双向依赖集指定\n$$\nD=\\{(a_1,b_2),(a_2,b_3),(a_3,b_1),(a_4,b_4),(a_5,b_5),(a_6,b_6)\\},\n$$\n因此对于每个 $(a_i,b_j)\\in D$，都有一个对应的 $(b_j,a_i)\\in D$。节点 $b_7$ 没有依赖伙伴，是自主的。\n\n级联失效动力学定义如下，从网络 $A$ 中的一次初始移除开始。一个节点在给定阶段是功能性的，当且仅当以下两个条件都成立：它属于其自身网络当前活动子图的最大连通分量 (LCC)，并且，如果它在另一个网络中有依赖伙伴，那么该伙伴也必须是功能性的。该过程是单调的：一旦一个节点变为非功能性，它将保持非功能性。将 $S_A^{(t)}$ 和 $S_B^{(t)}$ 定义为在 $t$ 轮完整级联失效后网络 $A$ 和 $B$ 中的功能节点集，其中 $t\\in\\mathbb{N}_0$。初始化为 $S_A^{(0)}=A\\setminus R$ 和 $S_B^{(0)}=B$，其中初始移除集为 $R=\\{a_2\\}$。一个完整的级联回合包括以下步骤序列：\n- 计算由 $S_A^{(t)}$ 在 $A$ 中导出的子图的 LCC；移除 $A$ 中所有不在此 LCC 内的节点，得到一个中间活动集 $S_{A,\\mathrm{LCC}}^{(t)}$。\n- 将依赖关系传播到 $B$：从 $S_B^{(t)}$ 中移除其在 $A$ 中的依赖伙伴不在 $S_{A,\\mathrm{LCC}}^{(t)}$ 内的任何节点，得到 $S_{B,\\mathrm{dep}}^{(t)}$。\n- 计算由 $S_{B,\\mathrm{dep}}^{(t)}$ 在 $B$ 中导出的子图的 LCC；移除 $B$ 中所有不在此 LCC 内的节点，得到 $S_B^{(t+1)}$。\n- 将依赖关系传播到 $A$：从 $S_{A,\\mathrm{LCC}}^{(t)}$ 中移除其在 $B$ 中的依赖伙伴不在 $S_B^{(t+1)}$ 内的任何节点，然后取 $A$ 中剩余子图的 LCC；结果为 $S_A^{(t+1)}$。\n\n假设最大连通分量大小出现平局时，通过选择在映射 $a_i\\mapsto i$ 和 $b_j\\mapsto j$ 下节点标签总和最小的分量来确定性地打破平局。从指定的 $R=\\{a_2\\}$ 开始，执行整整 $2$ 轮完整的级联失效。以行矩阵的格式报告基数 $|S_A^{(2)}|$ 和 $|S_B^{(2)}|$作为你的最终答案。无需四舍五入。",
            "solution": "该问题描述了两个相互依存的网络 $A$ 和 $B$ 上的级联失效过程。我们被要求模拟这个过程两个完整的回合，并确定每个网络中幸存节点的数量。\n\n### 问题验证\n**步骤1：提取给定信息**\n- 网络 $A$ 节点集：$A=\\{a_1, a_2, a_3, a_4, a_5, a_6\\}$\n- 网络 $A$ 边集：$E_A=\\{(a_1,a_2),(a_2,a_3),(a_3,a_4),(a_1,a_3),(a_5,a_6)\\}$\n- 网络 $B$ 节点集：$B=\\{b_1,b_2,b_3,b_4,b_5,b_6,b_7\\}$\n- 网络 $B$ 边集：$E_B=\\{(b_1,b_2),(b_2,b_3),(b_1,b_3),(b_4,b_5),(b_5,b_6),(b_6,b_7)\\}$\n- 双向依赖集：$D=\\{(a_1,b_2),(a_2,b_3),(a_3,b_1),(a_4,b_4),(a_5,b_5),(a_6,b_6)\\}$\n- 自主节点：$b_7$\n- 初始移除集：$R=\\{a_2\\}$\n- 初始功能集：$S_A^{(0)}=A\\setminus R$ 和 $S_B^{(0)}=B$。\n- 级联动力学：从时间 $t$ 到 $t+1$ 的一个完整回合由四个操作序列定义：\n  1. 找到由 $S_A^{(t)}$ 导出的子图的最大连通分量 (LCC)，得到 $S_{A,\\mathrm{LCC}}^{(t)}$。\n  2. 从 $S_B^{(t)}$ 中移除其依赖伙伴不在 $S_{A,\\mathrm{LCC}}^{(t)}$ 内的节点，得到 $S_{B,\\mathrm{dep}}^{(t)}$。\n  3. 找到由 $S_{B,\\mathrm{dep}}^{(t)}$ 导出的子图的 LCC，得到 $S_B^{(t+1)}$。\n  4. 从 $S_{A,\\mathrm{LCC}}^{(t)}$ 中移除其依赖伙伴不在 $S_B^{(t+1)}$ 内的节点，然后找到剩余子图的 LCC，得到 $S_A^{(t+1)}$。\n- LCC 的平局打破规则：选择节点索引总和最小的分量。\n- 任务：报告 $|S_A^{(2)}|$ 和 $|S_B^{(2)}|$。\n\n**步骤2：使用提取的给定信息进行验证**\n该问题具有科学依据，描述了网络科学中一个著名的模型。问题定义明确，所有组成部分（网络、依赖关系、初始条件、动力学和打破平局规则）都清晰无歧义地定义，确保了唯一、确定性的结果。该问题是客观且可形式化的。设置是完整和一致的，没有任何矛盾或缺失的信息。它需要一个过程模拟，使其不那么简单。\n\n**步骤3：结论与行动**\n问题有效。将提供完整的解决方案。\n\n### 解答\n我们将分步模拟两轮级联失效过程。\n\n**初始状态 ($t=0$)**\n该过程从网络 $A$ 中移除节点 $a_2$ 开始。\n网络 $A$ 中初始的功能节点集为 $S_A^{(0)} = A \\setminus \\{a_2\\} = \\{a_1, a_3, a_4, a_5, a_6\\}$。\n网络 $B$ 中初始的功能节点集为 $S_B^{(0)} = B = \\{b_1, b_2, b_3, b_4, b_5, b_6, b_7\\}$。\n\n**级联第一回合 ($t=0 \\to t=1$)**\n1.  **网络 A 中的 LCC：** 我们考虑由 $S_A^{(0)} = \\{a_1, a_3, a_4, a_5, a_6\\}$ 导出的 $A$ 的子图。该子图内来自 $E_A$ 的边是 $(a_1, a_3)$、$(a_3, a_4)$ 和 $(a_5, a_6)$。该子图有两个连通分量：大小为 3 的 $C_{A,1} = \\{a_1, a_3, a_4\\}$ 和大小为 2 的 $C_{A,2} = \\{a_5, a_6\\}$。最大连通分量 (LCC) 是 $C_{A,1}$。因此，此分量外的节点失效。$A$ 中的中间功能节点集为 $S_{A,\\mathrm{LCC}}^{(0)} = \\{a_1, a_3, a_4\\}$。\n\n2.  **向网络 B 传播依赖关系：** 如果一个 $B$ 中节点的依赖伙伴在 $A$ 中不再功能性，则该节点失效。目前 $A$ 中所有失效的节点集是 $\\{a_2\\}$（初始移除）和 $\\{a_5, a_6\\}$（因 LCC 隔离）。它们在 $B$ 中的依赖伙伴分别是 $\\{b_3\\}$、$\\{b_5\\}$ 和 $\\{b_6\\}$。我们从 $S_B^{(0)}$ 中移除这些节点。\n    $B$ 中的中间功能节点集为 $S_{B,\\mathrm{dep}}^{(0)} = S_B^{(0)} \\setminus \\{b_3, b_5, b_6\\} = \\{b_1, b_2, b_4, b_7\\}$。\n\n3.  **网络 B 中的 LCC：** 我们找到由 $S_{B,\\mathrm{dep}}^{(0)} = \\{b_1, b_2, b_4, b_7\\}$ 导出的 $B$ 的子图的 LCC。该子图内来自 $E_B$ 的唯一边是 $(b_1, b_2)$。这形成了三个连通分量：大小为 2 的 $C_{B,1}=\\{b_1, b_2\\}$，大小为 1 的 $C_{B,2}=\\{b_4\\}$，以及大小为 1 的 $C_{B,3}=\\{b_7\\}$。LCC 是 $C_{B,1}$。这定义了下一回合的功能集：$S_B^{(1)} = \\{b_1, b_2\\}$。\n\n4.  **向网络 A 传播依赖关系和最终 LCC：** 我们从集合 $S_{A,\\mathrm{LCC}}^{(0)} = \\{a_1, a_3, a_4\\}$ 开始，并移除其依赖伙伴不在 $S_B^{(1)} = \\{b_1, b_2\\}$ 中的任何节点。\n    - $a_1$ 的伙伴是 $b_2$，且 $b_2 \\in S_B^{(1)}$。所以，$a_1$ 保留。\n    - $a_3$ 的伙伴是 $b_1$，且 $b_1 \\in S_B^{(1)}$。所以，$a_3$ 保留。\n    - $a_4$ 的伙伴是 $b_4$，且 $b_4 \\notin S_B^{(1)}$。所以，$a_4$ 失效。\n    剩余的节点集是 $\\{a_1, a_3\\}$。我们现在必须找到由这些节点导出的子图的 LCC。由于边 $(a_1, a_3) \\in E_A$，该子图是连通的。因此，其 LCC 就是该集合本身。\n    这定义了下一回合的功能集：$S_A^{(1)} = \\{a_1, a_3\\}$。\n\n在第 1 回合结束时，功能集为 $S_A^{(1)} = \\{a_1, a_3\\}$ 和 $S_B^{(1)} = \\{b_1, b_2\\}$。\n\n**级联第二回合 ($t=1 \\to t=2$)**\n我们从功能集 $S_A^{(1)} = \\{a_1, a_3\\}$ 和 $S_B^{(1)} = \\{b_1, b_2\\}$ 开始。\n\n1.  **网络 A 中的 LCC：** 由 $S_A^{(1)}$ 导出的子图由于边 $(a_1, a_3)$ 的存在而连通。LCC 就是该集合本身。所以，$S_{A,\\mathrm{LCC}}^{(1)} = \\{a_1, a_3\\}$。\n\n2.  **向网络 B 传播依赖关系：** 我们检查 $S_B^{(1)} = \\{b_1, b_2\\}$ 中节点的依赖伙伴。\n    - $b_1$ 的伙伴是 $a_3$，它在 $S_{A,\\mathrm{LCC}}^{(1)}$ 中。所以，$b_1$ 保留。\n    - $b_2$ 的伙伴是 $a_1$，它在 $S_{A,\\mathrm{LCC}}^{(1)}$ 中。所以，$b_2$ 保留。\n    没有节点因依赖关系而失效。中间集是 $S_{B,\\mathrm{dep}}^{(1)} = \\{b_1, b_2\\}$。\n\n3.  **网络 B 中的 LCC：** 由 $S_{B,\\mathrm{dep}}^{(1)} = \\{b_1, b_2\\}$ 导出的子图由于边 $(b_1, b_2)$ 的存在而连通。LCC 就是该集合本身。因此，$S_B^{(2)} = \\{b_1, b_2\\}$。\n\n4.  **向网络 A 传播依赖关系和最终 LCC：** 我们从 $S_{A,\\mathrm{LCC}}^{(1)} = \\{a_1, a_3\\}$ 开始，并对照 $S_B^{(2)} = \\{b_1, b_2\\}$ 检查依赖关系。\n    - $a_1$ 的伙伴是 $b_2 \\in S_B^{(2)}$。所以，$a_1$ 保留。\n    - $a_3$ 的伙伴是 $b_1 \\in S_B^{(2)}$。所以，$a_3$ 保留。\n    没有节点因依赖关系而失效。剩余的集合是 $\\{a_1, a_3\\}$。由该集合导出的子图是连通的，因此其 LCC 就是该集合本身。\n    因此，$S_A^{(2)} = \\{a_1, a_3\\}$。\n\n经过两轮后，系统稳定下来，有 $S_A^{(2)} = S_A^{(1)} = \\{a_1, a_3\\}$ 和 $S_B^{(2)} = S_B^{(1)} = \\{b_1, b_2\\}$。\n基数分别为 $|S_A^{(2)}| = 2$ 和 $|S_B^{(2)}| = 2$。",
            "answer": "$$\\boxed{\\begin{pmatrix} 2  2 \\end{pmatrix}}$$"
        },
        {
            "introduction": "在掌握了具体的模拟方法后，下一步是学习如何将问题抽象为普适的分析模型。本练习引导您从具体案例转向统计物理中的平均场思想，通过运用全概率定律，推导在部分相依条件下节点存活概率的基本表达式 ()。这项练习对于培养使用概率方法分析复杂系统行为的能力至关重要。",
            "id": "4266399",
            "problem": "考虑两个在大型网络规模的热力学极限下的相互依赖网络 $A$ 和 $B$。在部分相互依赖模型中，$A$ 中的每个节点独立地以概率 $q \\in [0,1]$ 对其在 $B$ 中的对应节点存在依赖关系。$A$ 中对 $B$ 没有依赖关系的节点不受相互依赖引发的故障影响。$A$ 中对其在 $B$ 中的对应节点有依赖关系的节点，当且仅当其在 $B$ 中的对应节点是功能正常的，才能在相互依赖引发的故障机制中存活下来。设 $x_B \\in [0,1]$ 表示在级联稳态时，随机选择的 $B$ 中的一个节点是功能正常的概率。假设 $A$ 中的依赖关系分配与 $B$ 中节点的存活状态无关，并且只关注相互依赖的门控效应（忽略 $A$ 的内部拓扑或渗透约束）。\n\n使用全概率定律和所述的独立性，推导出一个随机选择的 $A$ 中节点仅因相互依赖而存活的概率，该概率应表示为关于 $q$ 和 $x_B$ 的闭式解析表达式。将您的最终表达式作为答案。",
            "solution": "用户希望通过以下步骤解决问题：\n1.  **验证问题陈述**：用户必须检查问题是否具有科学依据、是否定义明确、是否客观和完整。如果不满足这些条件，用户必须解释其缺陷并终止。\n2.  **提供解答**：如果问题有效，用户必须提供一个完整的、有理有据的解答，其中所有数学实体均使用 LaTeX 格式。\n3.  **格式化最终答案**：最终答案必须是 `$$\\boxed{...}$$` 块中的单个数字或表达式，并遵循特定的 LaTeX 格式规则。\n\n### 问题验证\n\n**第一步：提取已知条件**\n\n*   网络：两个在热力学极限下的相互依赖网络 $A$ 和 $B$。\n*   相互依赖模型：部分相互依赖，其中 $A$ 中的节点以概率 $q \\in [0,1]$ 依赖于其在 $B$ 中的对应节点。\n*   存活条件（无依赖）：$A$ 中对 $B$ 没有依赖关系的节点不受相互依赖引发的故障影响（即，它在此机制下存活）。\n*   存活条件（有依赖）：$A$ 中对其在 $B$ 中的对应节点有依赖关系的节点，当且仅当其在 $B$ 中的对应节点是功能正常的，才能在相互依赖引发的故障机制中存活。\n*   网络 $B$ 的状态：$x_B \\in [0,1]$ 是随机选择的 $B$ 中节点功能正常的概率。\n*   独立性假设：$A$ 中依赖关系的分配与 $B$ 中节点的存活状态无关。\n*   范围：只关注相互依赖的门控效应，忽略内部网络拓扑。\n*   目标：使用全概率定律，推导出一个随机选择的 $A$ 中节点因相互依赖而存活的概率，该概率应表示为关于 $q$ 和 $x_B$ 的闭式表达式。\n\n**第二步：使用提取的已知条件进行验证**\n\n*   **科学依据：**该问题描述了一个简化但标准的相互依赖网络中的级联故障模型，这是网络科学和统计物理学中一个成熟的课题。部分相互依赖、对应节点依赖和热力学极限等概念是该领域的标准术语。该问题在科学上是合理的。\n*   **定义明确：**问题陈述清晰。它要求基于一组定义的规则和参数（$q$, $x_B$）推导一个特定量（存活概率）。可以从前提中推导出唯一且有意义的解。\n*   **客观性：**语言正式、精确，没有任何主观或模棱两可的术语。\n*   **设置不完整或矛盾：**问题是自洽的。它提供了所有必需的概率（$q$, $x_B$）和存活的逻辑条件。明确指示忽略内部渗透简化了设置，而没有产生矛盾。\n*   **不切实际或不可行：**该问题是一个抽象的理论模型，在此背景下，其假设是一致且可行的。\n*   **提问不当或结构不良：**问题结构良好，通过明确要求使用全概率定律，为求解提供了清晰的路径。\n\n**第三步：结论与行动**\n\n该问题有效，因为它具有科学依据，定义明确，并且提供了所有必要信息。我将继续进行解答。\n\n### 解答推导\n\n令 $S_A$ 表示网络 $A$ 中一个随机选择的节点在相互依赖引发的故障机制中存活的事件。我们希望求出此事件的概率 $P(S_A)$。\n\n令 $D$ 表示所选的 $A$ 中节点对其在网络 $B$ 中的对应节点有依赖关系的事件。问题陈述该事件发生的概率为 $q$。因此，我们有：\n$$P(D) = q$$\n其互补事件 $\\neg D$ 是指 $A$ 中的节点对其在 $B$ 中的对应节点没有依赖关系。此事件的概率是：\n$$P(\\neg D) = 1 - P(D) = 1 - q$$\n\n问题指导我们使用全概率定律来求解 $P(S_A)$。我们可以根据节点是否有依赖关系来划分 $P(S_A)$ 的计算：\n$$P(S_A) = P(S_A | D) P(D) + P(S_A | \\neg D) P(\\neg D)$$\n此处，$P(S_A | D)$ 是在存在依赖关系条件下存活的条件概率，而 $P(S_A | \\neg D)$ 是在没有依赖关系条件下存活的条件概率。我们必须根据问题陈述中提供的规则来确定这些条件概率。\n\n1.  **计算 $P(S_A | \\neg D)$**：这是在 $A$ 中节点对 $B$ *没有* 依赖关系的条件下存活的概率。问题陈述：“$A$ 中对 $B$ 没有依赖关系的节点不受相互依赖引发的故障影响。” 这意味着它在这种特定故障机制下的存活是确定的。因此，条件概率为 $1$。\n    $$P(S_A | \\neg D) = 1$$\n\n2.  **计算 $P(S_A | D)$**：这是在 $A$ 中节点对它在 $B$ 中的对应节点*有*依赖关系的条件下存活的概率。问题陈述：“$A$ 中对其在 $B$ 中的对应节点有依赖关系的节点，当且仅当其在 $B$ 中的对应节点是功能正常的，才能在相互依赖引发的故障机制中存活下来。” 令 $S_B$ 表示 $B$ 中的对应节点是功能正常的事件。问题给出此事件的概率为 $x_B$，所以 $P(S_B) = x_B$。因为在这种条件下，$A$ 中节点的存活等价于其在 $B$ 中的对应节点的存活，所以我们有 $P(S_A | D) = P(S_B)$。因此：\n    $$P(S_A | D) = x_B$$\n    问题陈述的依赖关系分配与 $B$ 中节点状态的独立性验证了这种直接赋值。\n\n现在，我们将这些条件概率和事件概率代入全概率定律方程：\n$$P(S_A) = (x_B) \\cdot (q) + (1) \\cdot (1 - q)$$\n\n简化此表达式，得到网络 $A$ 中节点存活概率的最终公式：\n$$P(S_A) = qx_B + 1 - q$$\n这可以重新排列为 $P(S_A) = 1 - q + qx_B$。这个结果就是所要求的关于 $q$ 和 $x_B$ 的闭式解析表达式。",
            "answer": "$$\n\\boxed{1 - q + qx_B}\n$$"
        },
        {
            "introduction": "生成函数是网络科学中分析巨分量和渗流现象的强大数学工具。本练习将引导您运用该方法，推导描述相依网络中相互连接巨分量大小的核心自洽方程 ()。这个方程是相依网络渗流理论的基石之一，掌握其推导过程将使您能够对网络的宏观鲁棒性进行深刻的理论分析。",
            "id": "4266406",
            "problem": "考虑两个完全相互依赖且相同的网络层 $A$ 和 $B$，它们构建在同一组节点上，层间的对应节点存在一对一的依赖关系。每个层都是一个无限的、局部呈树状的随机图，由具有度分布 $P(k)$ 的配置模型生成，其节点度概率生成函数为 $G_{0}(z) = \\sum_{k=0}^{\\infty} P(k)\\, z^{k}$。一次随机故障初始移除了比例为 $1-p$ 的节点，移除过程与节点的度无关，因此有比例为 $p$ 的节点保留下来。在稳态下，一个节点是功能性的，当且仅当它在初始移除后仍然存在，并且在只考虑功能性节点的网络中，它同时属于两层的巨大连通分量。\n\n基于配置模型中局部树状结构下边的独立性，运用第一性原理进行推理。设 $x$ 表示在给定层中，沿着一条随机选择的边到达一个节点的概率，该节点至少有另一条边通向互连巨大分量。证明在给定边层面的成功概率 $x$ 的条件下，单层网络中连接到其巨大连通分量的节点比例为 $g(x) = 1 - G_{0}(1-x)$。利用相同层之间的对称性和相互依赖性，推导出在两层中都功能性的节点在稳态下的比例 $P_{\\infty}$ 的自洽条件。你的推导必须从 $G_{0}(z)$ 的核心定义和局部树状图中边的独立性出发，并且必须为你用来将边层面概率转换为节点层面连通性以及通过相互依赖耦合各层的每一个建模步骤提供理由。将你的最终结果表示为关于 $p$ 和 $g(\\cdot)$ 的单个闭式解析表达式 $P_{\\infty}$。不需要进行数值评估，也不需要四舍五入。清楚地说明你为闭合自洽性所使用的任何额外假设。",
            "solution": "该问题陈述是相互依赖网络逾渗理论中的一个有效练习。它在科学上基于网络科学和统计物理的原理，使用了标准模型（配置模型、生成函数）和定义（相互依赖故障、巨大分量）。问题陈述清晰、客观，并包含足够的信息来推导所要求的自洽条件。\n\n推导过程主要分为三个部分。首先，我们确认节点层面连通性 $g(x)$ 与度生成函数 $G_0(z)$ 之间的关系。其次，我们为功能性节点的稳态比例 $P_{\\infty}$ 和一个辅助的边层面连通概率 $x$ 推导一个自洽方程组。第三，我们引入一个必要的简化假设，将这些方程组合成最终所要求的形式。\n\n**第一部分：节点层面连通性, $g(x)$**\n\n问题要求证明 $g(x) = 1 - G_0(1-x)$，其中 $g(x)$ 是单层网络中连接到其巨大连通分量的节点比例，而 $x$ 是沿着一条随机边到达一个节点的概率，该节点通过其另一条边连接到巨大连通分量。\n\n考虑其中一层中的一个随机选择的节点。设其度为 $k$。其概率由度分布 $P(k)$ 给出。要使该节点属于巨大连通分量，其 $k$ 个邻居中至少有一个必须提供通往该分量的路径。在配置模型的局部树状结构中，来自 $k$ 个邻居中每一个的路径都是独立的。\n\n沿着一条特定的边*未能*通向巨大连通分量的概率是 $1 - x$。\n给定一个度为 $k$ 的节点，由于这些路径的独立性，其 $k$ 条边*均不*通向巨大连通分量的概率是 $(1-x)^k$。\n因此，一个度为 $k$ 的节点连接到巨大连通分量（即其至少有一条边通向该分量）的概率是 $1 - (1-x)^k$。\n\n为了求得连接到巨大连通分量的总节点比例 $g(x)$，我们对该概率按度分布 $P(k)$ 进行平均：\n$$ g(x) = \\sum_{k=0}^{\\infty} P(k) \\left( 1 - (1-x)^k \\right) $$\n我们可以将求和分离：\n$$ g(x) = \\sum_{k=0}^{\\infty} P(k) - \\sum_{k=0}^{\\infty} P(k) (1-x)^k $$\n由于 $P(k)$ 是一个概率分布，第一项是 $\\sum_{k=0}^{\\infty} P(k) = 1$。根据定义，第二项是在 $z=1-x$ 处求值的节点度概率生成函数 $G_0(z) = \\sum_{k=0}^{\\infty} P(k) z^k$。\n因此，我们确认了以下关系：\n$$ g(x) = 1 - G_0(1-x) $$\n\n**第二部分：自洽系统的推导**\n\n设 $P_{\\infty}$ 为功能性节点的稳态比例。一个节点是功能性的，当且仅当它在初始随机故障中存活下来（概率为 $p$），并且属于互连巨大连通分量 (MCGC)。如果一个节点在层 $A$ 和层 $B$ 中都连接到巨大连通分量，那么它就属于 MCGC，而这些分量本身是由功能性节点集合构成的。\n\n我们来寻找 $P_{\\infty}$ 的表达式。一个随机选择的节点要成为功能性节点，必须满足三个条件：\n1. 在初始移除中存活（概率为 $p$）。\n2. 通过其在层 $A$ 中的边连接到 MCGC。\n3. 通过其在层 $B$ 中的边连接到 MCGC。\n\n设 $x$ 为在任一层中沿着一条随机边通向 MCGC 的概率。一个节点通过其层 $A$ 的链接连接到 MCGC 的事件，与它通过其层 $B$ 的链接连接的事件是独立的，因为这两个层是独立的随机图。如第一部分所推导，一个随机节点在给定层中连接到 MCGC 的概率是 $g(x)$。因此，一个节点在层 $A$ 中连接的概率是 $g(x)$，在层 $B$ 中连接的概率也是 $g(x)$。\n\n对所有节点进行平均，我们得到 $P_{\\infty}$ 的表达式：\n$$ P_{\\infty} = p \\times P(\\text{在A中连接}) \\times P(\\text{在B中连接}) = p \\cdot g(x) \\cdot g(x) = p [g(x)]^2 $$\n\n接下来，我们需要一个关于 $x$ 的自洽方程。变量 $x$ 是沿着一条随机选择的边（例如，在层 $A$ 中）到达一个属于 MCGC 的节点（称之为 $j$）的概率。要使节点 $j$ 成为 MCGC 的一部分，它必须是功能性的。要成为功能性节点，它必须：\n1. 在初始移除中存活（概率为 $p$）。\n2. 通过其在层 $A$ 中的链接连接到 MCGC。由于我们是沿着它的一条 $A$ 层边到达节点 $j$ 的，它必须通过其*其他*的 $A$ 层边进行连接。\n3. 通过其在层 $B$ 中的链接连接到 MCGC。这可以通过其任意一条 $B$ 层边实现。\n\n我们来计算节点 $j$ 满足这些条件的概率。节点 $j$ 在层 $A$ 中的度，记为 $k_A$，是从剩余度分布中抽取的，因为它是通过遍历一条边到达的。剩余度分布的概率生成函数是 $G_1(z) = G_0'(z)/G_0'(1)$。条件(2)的概率是在层 $A$ 的剩余度分布上对 $1-(1-x)^{k_A - 1}$ 进行平均。这个平均值恰好是 $1-G_1(1-x)$。\n节点 $j$ 在层 $B$ 中的度，记为 $k_B$，是从常规度分布 $P(k)$ 中抽取的，因为选择该节点并非基于其在层 $B$ 中的属性。条件(3)的概率是在分布 $P(k)$ 上对 $1-(1-x)^{k_B}$ 进行平均。这个值是 $1 - G_0(1-x) = g(x)$。\n\n由于网络结构是独立的，我们可以将这些概率相乘。$x$ 的自洽性方程为：\n$$ x = p \\times \\left( 1 - G_1(1-x) \\right) \\times g(x) $$\n\n**第三部分：简化假设与最终推导**\n\n我们现在有一个包含两个方程的方程组：\n1. $P_{\\infty} = p [g(x)]^2$\n2. $x = p [1 - G_1(1-x)] g(x)$\n\n问题要求一个仅用 $p$ 和函数 $g(\\cdot)$ 表示的关于 $P_{\\infty}$ 的单一自洽条件。目前的方程组涉及函数 $G_1$，它与 $g$ 的导数相关，但对于任意的 $P(k)$ 来说，与 $g$ 本身没有简单的关系。为了以所要求的形式闭合该系统，我们必须引入一个简化假设，正如问题陈述所允许的那样。\n\n所需要的假设是：从一个节点连接到 MCGC 的概率是相同的，无论该节点是从网络中随机选择的，还是通过遍历一条随机边到达的。这是一个类似平均场的假设，对于 Erdős-Rényi 随机图（其具有泊松度分布，因此 $G_0(z) = G_1(z)$）来说是精确成立的。我们假设这个性质对我们的系统更普遍地成立。\n假设：$1 - G_1(1-x) = 1 - G_0(1-x)$。\n使用 $g(x)$ 的定义，这个假设等价于：\n$$ 1 - G_1(1-x) = g(x) $$\n将这个假设代入我们关于 $x$ 的方程中：\n$$ x = p \\cdot g(x) \\cdot g(x) = p [g(x)]^2 $$\n将这个结果与我们关于 $P_{\\infty}$ 的方程进行比较，我们发现一个直接的等式：\n$$ x = P_{\\infty} $$\n这意味着到达 MCGC 的边层面概率等于处于 MCGC 中的节点层面概率。\n\n最后，我们将 $x = P_{\\infty}$ 代回到关于 $P_{\\infty}$ 的方程中，以获得最终的自洽条件：\n$$ P_{\\infty} = p [g(P_{\\infty})]^2 $$\n该方程根据初始存活概率 $p$ 和节点连通性函数 $g(\\cdot)$，隐式地定义了功能性节点的稳态比例 $P_{\\infty}$，正如题目所要求。",
            "answer": "$$ \\boxed{P_{\\infty} = p \\left[ g(P_{\\infty}) \\right]^2} $$"
        }
    ]
}