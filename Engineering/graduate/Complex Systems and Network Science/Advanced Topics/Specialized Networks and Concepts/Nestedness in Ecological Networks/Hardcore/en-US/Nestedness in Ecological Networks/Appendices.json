{
    "hands_on_practices": [
        {
            "introduction": "To build a solid foundation, our first practice involves calculating a nestedness score from the ground up. This exercise demystifies the popular Nestedness metric based on Overlap and Decreasing Fill (NODF) by guiding you through a step-by-step computation on a small, perfectly nested matrix. By manually calculating node degrees, identifying comparable pairs, and computing normalized overlaps, you will gain an intuitive and practical grasp of how the NODF score quantifies nested structure .",
            "id": "2511943",
            "problem": "An ecological interaction network is represented as a binary bipartite adjacency matrix $A \\in \\{0,1\\}^{3 \\times 3}$ with rows indexing plant species and columns indexing pollinator species. An entry $a_{ij} = 1$ indicates an observed interaction between plant $i$ and pollinator $j$, and $a_{ij} = 0$ otherwise. Consider\n$$\nA \\;=\\; \\begin{pmatrix}\n1 & 1 & 1\\\\\n1 & 1 & 0\\\\\n1 & 0 & 0\n\\end{pmatrix}.\n$$\nUsing only foundational definitions for adjacency matrices in bipartite networks and the definition of node degree (row sums and column sums), proceed as follows:\n- Compute the row degrees and column degrees of $A$.\n- Identify and list all comparable pairs of rows and all comparable pairs of columns (pairs with strictly different degrees, oriented from higher degree to lower degree).\n- Using the conceptual definition of the Nestedness metric based on Overlap and Decreasing Fill (NODF), in which for each comparable pair the contribution is the fraction of $1$s in the smaller-degree node that are shared with the larger-degree node, compute the overall NODF of the matrix by averaging contributions over all comparable row pairs and all comparable column pairs.\nReport the final NODF as a single decimal number between $0$ and $1$, and round your answer to four significant figures. Do not use a percentage sign.",
            "solution": "Let the given adjacency matrix be $A$, where the rows are indexed by $i \\in \\{1, 2, 3\\}$ and columns by $j \\in \\{1, 2, 3\\}$.\n$$\nA = \\begin{pmatrix}\n1 & 1 & 1\\\\\n1 & 1 & 0\\\\\n1 & 0 & 0\n\\end{pmatrix}\n$$\nThe rows of the matrix are $R_1 = (1, 1, 1)$, $R_2 = (1, 1, 0)$, and $R_3 = (1, 0, 0)$.\nThe columns of the matrix are $C_1 = (1, 1, 1)^T$, $C_2 = (1, 1, 0)^T$, and $C_3 = (1, 0, 0)^T$.\n\nFirst, we compute the row degrees ($k_{R_i}$) and column degrees ($k_{C_j}$). The degree of a node is the sum of its connections, which corresponds to the sum of the entries in its corresponding row or column.\n\nRow degrees:\n$$k_{R_1} = \\sum_{j=1}^{3} a_{1j} = 1 + 1 + 1 = 3$$\n$$k_{R_2} = \\sum_{j=1}^{3} a_{2j} = 1 + 1 + 0 = 2$$\n$$k_{R_3} = \\sum_{j=1}^{3} a_{3j} = 1 + 0 + 0 = 1$$\n\nColumn degrees:\n$$k_{C_1} = \\sum_{i=1}^{3} a_{i1} = 1 + 1 + 1 = 3$$\n$$k_{C_2} = \\sum_{i=1}^{3} a_{i2} = 1 + 1 + 0 = 2$$\n$$k_{C_3} = \\sum_{i=1}^{3} a_{i3} = 1 + 0 + 0 = 1$$\n\nNext, we identify all comparable pairs of rows and columns. A pair is comparable if the degrees of the two nodes are strictly different.\n\nComparable row pairs (ordered from higher to lower degree):\nThe row degrees are $k_{R_1}=3$, $k_{R_2}=2$, and $k_{R_3}=1$. All pairs have different degrees.\n1. $(R_1, R_2)$ since $k_{R_1} > k_{R_2}$.\n2. $(R_1, R_3)$ since $k_{R_1} > k_{R_3}$.\n3. $(R_2, R_3)$ since $k_{R_2} > k_{R_3}$.\nThere are $N_{\\text{rows}} = 3$ comparable row pairs.\n\nComparable column pairs (ordered from higher to lower degree):\nThe column degrees are $k_{C_1}=3$, $k_{C_2}=2$, and $k_{C_3}=1$. All pairs have different degrees.\n1. $(C_1, C_2)$ since $k_{C_1} > k_{C_2}$.\n2. $(C_1, C_3)$ since $k_{C_1} > k_{C_3}$.\n3. $(C_2, C_3)$ since $k_{C_2} > k_{C_3}$.\nThere are $N_{\\text{cols}} = 3$ comparable column pairs.\n\nNow, we compute the contribution for each comparable pair. For a pair of nodes $(u, v)$ with $k_u > k_v$, the contribution $N_{uv}$ is the number of shared interactions divided by the degree of the smaller-degree node, $k_v$.\n\nFor row pairs: The number of shared interactions for a row pair $(R_i, R_j)$ is $\\sum_{k} a_{ik} a_{jk}$.\n1.  Pair $(R_1, R_2)$: Degrees are $k_{R_1}=3, k_{R_2}=2$. Shared $1$s are $(1 \\cdot 1) + (1 \\cdot 1) + (1 \\cdot 0) = 2$.\n    The contribution is $N_{R_1 R_2} = \\frac{2}{k_{R_2}} = \\frac{2}{2} = 1$.\n2.  Pair $(R_1, R_3)$: Degrees are $k_{R_1}=3, k_{R_3}=1$. Shared $1$s are $(1 \\cdot 1) + (1 \\cdot 0) + (1 \\cdot 0) = 1$.\n    The contribution is $N_{R_1 R_3} = \\frac{1}{k_{R_3}} = \\frac{1}{1} = 1$.\n3.  Pair $(R_2, R_3)$: Degrees are $k_{R_2}=2, k_{R_3}=1$. Shared $1$s are $(1 \\cdot 1) + (1 \\cdot 0) + (0 \\cdot 0) = 1$.\n    The contribution is $N_{R_2 R_3} = \\frac{1}{k_{R_3}} = \\frac{1}{1} = 1$.\nThe sum of contributions for rows is $\\sum N_{\\text{rows}} = 1 + 1 + 1 = 3$.\n\nFor column pairs: The number of shared interactions for a column pair $(C_i, C_j)$ is $\\sum_{k} a_{ki} a_{kj}$.\n1.  Pair $(C_1, C_2)$: Degrees are $k_{C_1}=3, k_{C_2}=2$. Shared $1$s are $(1 \\cdot 1) + (1 \\cdot 1) + (1 \\cdot 0) = 2$.\n    The contribution is $N_{C_1 C_2} = \\frac{2}{k_{C_2}} = \\frac{2}{2} = 1$.\n2.  Pair $(C_1, C_3)$: Degrees are $k_{C_1}=3, k_{C_3}=1$. Shared $1$s are $(1 \\cdot 1) + (1 \\cdot 0) + (1 \\cdot 0) = 1$.\n    The contribution is $N_{C_1 C_3} = \\frac{1}{k_{C_3}} = \\frac{1}{1} = 1$.\n3.  Pair $(C_2, C_3)$: Degrees are $k_{C_2}=2, k_{C_3}=1$. Shared $1$s are $(1 \\cdot 1) + (1 \\cdot 0) + (0 \\cdot 0) = 1$.\n    The contribution is $N_{C_2 C_3} = \\frac{1}{k_{C_3}} = \\frac{1}{1} = 1$.\nThe sum of contributions for columns is $\\sum N_{\\text{cols}} = 1 + 1 + 1 = 3$.\n\nFinally, the overall NODF is computed by averaging the contributions over all comparable pairs.\nThe total sum of contributions is $\\sum N_{\\text{rows}} + \\sum N_{\\text{cols}} = 3 + 3 = 6$.\nThe total number of comparable pairs is $N_{\\text{rows}} + N_{\\text{cols}} = 3 + 3 = 6$.\n$$\n\\text{NODF} = \\frac{\\text{Total sum of contributions}}{\\text{Total number of comparable pairs}} = \\frac{6}{6} = 1\n$$\nThe computed NODF value is exactly $1$. The problem requires the answer as a decimal rounded to four significant figures.\nThis result is consistent with the visual inspection of the matrix, which is perfectly nested: the interactions of any species are a proper subset of the interactions of any more generalist species.",
            "answer": "$$\\boxed{1.000}$$"
        },
        {
            "introduction": "While different metrics may aim to quantify the same property, they often do so with different sensitivities and assumptions. This exercise explores the fundamental differences between the overlap-based NODF metric and the disorder-based matrix temperature. Through a thought experiment involving two structurally similar matrices, you will uncover why metrics like NODF are invariant to certain permutations while geometric metrics like temperature are not, a critical insight for choosing the right tool for your research question .",
            "id": "4289928",
            "problem": "Consider a binary bipartite incidence matrix representation of an ecological mutualistic network, where rows correspond to one guild (for example, plants) and columns correspond to the other guild (for example, pollinators). Let each entry be either $0$ or $1$ indicating absence or presence of an interaction. The Nestedness metric based on Overlap and Decreasing Fill (NODF) quantifies nestedness based on the principle that higher-degree species should have interaction sets that contain those of lower-degree species, and it aggregates normalized overlaps across pairs of rows and pairs of columns with strictly decreasing degrees. The Atmar and Patterson's matrix temperature (temperature) quantifies the disorder of the matrix relative to a perfectly nested “packed” arrangement by assigning a penalty to “unexpected presences” below the idealized isocline and “unexpected absences” above it, weighted by their geometric distance to the isocline; the packed arrangement orders rows and columns by decreasing marginal totals, with tie-handling not fully specified by the degrees alone.\n\nConstruct a counterexample showing that two matrices with identical NODF can have different temperatures, and interpret the discrepancy in terms of invariance properties and geometric sensitivity. To this end, consider the following two $5 \\times 5$ matrices $M_1$ and $M_2$, whose row and column degrees are both ordered in nonincreasing order (rows from top to bottom and columns from left to right), with ties present in both guilds:\n\n$$\nM_1 \\;=\\;\n\\begin{pmatrix}\n1 & 1 & 1 & 1 & 0 \\\\\n1 & 1 & 1 & 0 & 0 \\\\\n0 & 0 & 1 & 1 & 1 \\\\\n1 & 1 & 0 & 0 & 0 \\\\\n1 & 0 & 0 & 0 & 0\n\\end{pmatrix}\n\\quad\\text{and}\\quad\nM_2 \\;=\\;\n\\begin{pmatrix}\n1 & 1 & 1 & 1 & 0 \\\\\n1 & 1 & 1 & 0 & 0 \\\\\n0 & 1 & 0 & 1 & 1 \\\\\n1 & 0 & 1 & 0 & 0 \\\\\n1 & 0 & 0 & 0 & 0\n\\end{pmatrix}.\n$$\n\nIn both $M_1$ and $M_2$, the row degree sequence is $(4,3,3,2,1)$ and the column degree sequence is $(4,3,3,2,1)$. The two matrices differ only by a permutation of the two columns of degree $3$.\n\nWhich option correctly characterizes the nestedness metrics of $M_1$ and $M_2$ and gives the correct interpretation of why the discrepancy arises?\n\nA. $M_1$ and $M_2$ have identical NODF but different temperatures, because NODF is invariant to any permutation of rows or columns (it depends only on the sets of interactions and degree comparisons), whereas temperature is sensitive to the geometric placement of $1$s relative to the isocline after packing; swapping tied-degree columns changes the horizontal coordinates (and thus the distances) of unexpected presences and absences without altering overlap-based nestedness.\n\nB. $M_1$ and $M_2$ have identical NODF and identical temperatures, because both metrics depend only on the row and column degree sequences and are therefore unchanged by any permutation of rows or columns.\n\nC. $M_1$ and $M_2$ have different NODF but identical temperatures, because temperature depends only on the number of unexpected presences and absences, not on their positions, whereas NODF is sensitive to which specific pairs of species overlap.\n\nD. $M_1$ and $M_2$ have different NODF and different temperatures, because permuting any columns necessarily changes both the overlap structure and the disorder relative to the isocline in a way that cannot preserve either metric.",
            "solution": "The problem asks us to compare the NODF and matrix temperature metrics for two matrices, $M_1$ and $M_2$, where $M_2$ is formed by permuting two columns of equal degree from $M_1$.\n\n**Analysis of NODF**\nThe NODF calculation is based on pairwise overlaps of rows and columns, normalized by their degrees.\n1.  **Row contributions:** A permutation of columns reorders the elements within each row vector but does not change the total number of elements or their values. Therefore, the degree of each row remains the same. The overlap between any two rows, calculated as $\\sum_k m_{ik} m_{jk}$, is also invariant because the sum is over all columns and is unaffected by their order.\n2.  **Column contributions:** A column permutation simply reorders the set of column vectors. Since the NODF calculation for columns sums up contributions from all pairs of columns (with different degrees), and the set of column vectors itself has not changed (only their positions), the total contribution from columns remains identical.\nSince both the row and column components of the NODF score are invariant under this permutation, we can conclude that $\\text{NODF}(M_1) = \\text{NODF}(M_2)$.\n\n**Analysis of Matrix Temperature (T)**\nThe matrix temperature metric is fundamentally different. It quantifies disorder by assigning penalties to \"unexpected\" $1$s and $0$s based on their geometric position relative to an idealized isocline. The penalty is weighted by the entry's distance from this isocline.\nWhen columns 2 and 3 of $M_1$ are swapped to create $M_2$, the contents of these columns are moved to new horizontal positions. An entry that was at coordinate $(i, 2)$ is now at $(i, 3)$, and vice-versa. Because the penalty function is distance-weighted, the contribution of any surprising entry in these columns will change. For example, a surprise at $(i, 2)$ has a different geometric weight than a surprise at $(i, 3)$. Since the column vectors being swapped are not identical, this redistribution of entries into new geometric positions with different weightings will change the total temperature score.\nTherefore, $\\text{T}(M_1) \\neq \\text{T}(M_2)$.\n\n**Conclusion**\n$M_1$ and $M_2$ must have identical NODF but different temperatures. This leads us to option A, which correctly states this fact and provides the correct reasoning: NODF's invariance stems from its reliance on set overlaps, which are not affected by the specific permutation, while temperature's sensitivity comes from its use of geometric, position-dependent penalties.",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "Real-world ecological data rarely comes in a perfectly idealized form; it often includes species with no recorded interactions, leading to empty rows or columns in the network matrix. This final practice addresses the crucial and practical question of how to handle such data imperfections. By analyzing the behavior of three distinct classes of nestedness metrics—NODF, Atmar–Patterson's temperature, and SVD-based spectral indices—you will learn about their underlying assumptions and the proper procedures for ensuring robust and meaningful analysis .",
            "id": "4289841",
            "problem": "Consider binary bipartite interaction matrices, where a plant-by-pollinator network is represented by an adjacency matrix $A \\in \\{0,1\\}^{n \\times m}$ with $A_{ij} = 1$ if plant $i$ interacts with pollinator $j$ and $A_{ij} = 0$ otherwise. Let the degree of row $i$ be $k_i = \\sum_{j=1}^m A_{ij}$ and the degree of column $j$ be $k'_j = \\sum_{i=1}^n A_{ij}$. You will analyze how empty rows or columns, that is, those with degree $0$, should be handled by three classes of nestedness metrics commonly used in complex systems and network science: the Nestedness metric based on Overlap and Decreasing Fill (NODF), the Atmar–Patterson nestedness temperature (NTC), and a spectral nestedness index based on the largest singular value from the Singular Value Decomposition (SVD).\n\nYou are given three binary matrices:\n- Matrix $M_1 \\in \\{0,1\\}^{4 \\times 5}$:\n$$\nM_1 =\n\\begin{pmatrix}\n1 & 1 & 0 & 0 & 1 \\\\\n1 & 1 & 1 & 1 & 0 \\\\\n1 & 0 & 0 & 0 & 0 \\\\\n0 & 0 & 0 & 0 & 0\n\\end{pmatrix}.\n$$\n- Matrix $M_2 \\in \\{0,1\\}^{4 \\times 5}$:\n$$\nM_2 =\n\\begin{pmatrix}\n1 & 1 & 0 & 0 & 1 \\\\\n0 & 1 & 1 & 0 & 0 \\\\\n0 & 1 & 0 & 0 & 0 \\\\\n0 & 0 & 1 & 0 & 0\n\\end{pmatrix}.\n$$\n- Matrix $M_3 \\in \\{0,1\\}^{4 \\times 5}$:\n$$\nM_3 =\n\\begin{pmatrix}\n1 & 1 & 0 & 0 & 0 \\\\\n1 & 0 & 1 & 1 & 0 \\\\\n0 & 0 & 0 & 0 & 0 \\\\\n1 & 0 & 0 & 0 & 0\n\\end{pmatrix}.\n$$\n\nFor each metric, reason from first principles about how empty rows or columns affect the definition and value of the metric, and whether they must be excluded for a well-defined computation or to avoid artifacts. Base your reasoning on the following foundational facts:\n- For NODF, pairwise nestedness of two rows $i$ and $i'$ depends on their overlap $O_{ii'} = \\sum_{j=1}^m A_{ij} A_{i'j}$ and a normalization by a function of their degrees, typically $\\min(k_i,k_{i'})$, while considering only pairs that satisfy a decreasing fill condition (that is, unequal degrees in a suitable ordering). Analogous comparisons are made for column pairs.\n- For Atmar–Patterson nestedness temperature (NTC), a packed matrix is compared against an idealized nested boundary (an “isocline of perfect nestedness”), and the metric counts “unexpected” presences or absences relative to that boundary. The counting of unexpected occurrences is well-defined on any binary matrix once packing is specified.\n- For an SVD-based spectral nestedness index, the leading singular value $\\sigma_1(A)$ of a binary matrix $A$ quantifies the dominant dyadic mode of interaction structure. Appending an all-zero row or column appends a zero singular value and leaves $\\sigma_1(A)$ of the nonzero submatrix unchanged. Normalized indices that scale $\\sigma_1(A)$ by functions of $n$ and $m$ can be influenced by the inclusion of zero-degree rows or columns.\n\nUsing these principles, select the best statement among the following options that correctly specifies, for matrices $M_1$, $M_2$, and $M_3$, how each metric should handle empty rows or columns and whether empty rows or columns are excluded, retained, or penalized.\n\nA. For NODF on any of $M_1$, $M_2$, or $M_3$, rows or columns with degree $0$ must be excluded prior to computing pairwise overlaps because the normalization by $\\min(k,k')$ becomes undefined when either degree is $0$; NODF then averages only over pairs with strictly positive and unequal degrees, so empty rows or columns do not contribute or penalize directly, but they do reduce the number of comparable pairs. For NTC, the computation is well-defined with empty rows or columns retained; entirely empty lines contain no presences, so they do not create unexpected presences or absences by themselves, and thus are not directly penalized, though they can change the matrix fill and aspect ratio. For the SVD-based spectral index, appending empty rows or columns does not change the leading singular value of the nonempty block but can artificially depress a size-normalized index; therefore, zero-degree rows or columns should be removed before computing and normalizing the spectral nestedness.\n\nB. For NODF on any of $M_1$, $M_2$, or $M_3$, keep empty rows and columns and assign zero contribution to any pair involving a degree $0$ line so that no exclusion is needed; for NTC, empty lines introduce many unexpected absences, so they must be assigned a strong penalty; for the SVD-based index, both the leading singular value and any reasonable normalization are invariant to appending empty lines, so removal is unnecessary.\n\nC. For NODF, define the normalization as $\\min(k,k')$ with the convention that dividing by $0$ yields $0$ contribution, so empty lines can be retained without issue; for NTC, the isocline cannot be defined when there is any empty row or column, so such lines must be excluded; for the SVD-based index, appending empty lines increases the leading singular value by increasing the matrix size, so they should be kept.\n\nD. For all three metrics on any of $M_1$, $M_2$, or $M_3$, empty rows should be excluded but empty columns should be retained because they never cause computational issues; furthermore, in all cases empty lines are always directly penalized if retained since they maximize unexpected absences and reduce pairwise overlaps.",
            "solution": "This problem requires analyzing how three different nestedness metrics handle empty rows or columns (i.e., nodes with degree zero).\n\n1.  **Nestedness metric based on Overlap and Decreasing Fill (NODF):** The NODF formula calculates pairwise contributions for nodes (rows or columns) with unequal degrees. The contribution for a pair $(i, i')$ is normalized by the degree of the less connected node, $\\min(k_i, k_{i'})$. If either node has a degree of zero, this denominator becomes zero, making the calculation mathematically undefined ($O_{ii'}/0$). To avoid this, standard practice is to exclude all rows and columns with zero degree before computing NODF. These non-interacting species do not contribute to the score and are not penalized; they are simply ignored.\n\n2.  **Atmar–Patterson Nestedness Temperature (NTC):** This metric measures disorder by comparing the matrix to an idealized perfectly nested structure (defined by an isocline). When rows and columns are sorted by degree (a process called packing), any empty rows or columns are placed at the bottom and right edges of the matrix. This region is considered the \"cold\" part of the matrix where absences ($0$s) are expected. Since empty lines consist entirely of $0$s, they contain no \"unexpected\" presences. Their $0$s are \"expected absences.\" Therefore, they do not contribute to the matrix's disorder (temperature) and are not penalized. The calculation is well-defined with empty lines retained.\n\n3.  **SVD-based Spectral Nestedness Index:** The un-normalized index is the leading singular value, $\\sigma_1$. A fundamental property of the SVD is that adding an all-zero row or column to a matrix does not change its non-zero singular values. Thus, $\\sigma_1$ of the full matrix is identical to $\\sigma_1$ of the submatrix containing only the interacting species. However, nestedness indices are often normalized by matrix size (e.g., divided by $\\sqrt{nm}$) to allow for comparison across different networks. Including empty rows/columns increases $n$ or $m$ without changing $\\sigma_1$, which artificially deflates the normalized index. To get a meaningful measure of the interaction structure, empty rows and columns should be removed before computing and normalizing the index.\n\n**Conclusion:**\nBased on this analysis, option A correctly describes the standard procedures: NODF requires exclusion due to its formula; NTC is well-defined with empty lines retained and does not penalize them; and SVD-based indices require removal of empty lines to avoid artificially depressing the normalized score.",
            "answer": "$$\\boxed{A}$$"
        }
    ]
}