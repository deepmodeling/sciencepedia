{
    "hands_on_practices": [
        {
            "introduction": "金融体系的稳定依赖于一个明确的清算机制，以处理部分机构可能无法完全履行其债务的情况。本练习将介绍经典的Eisenberg-Noe模型，这是一个分析系统性风险的基础框架，用于在给定资产和负债的情况下，确定网络中一致且唯一的支付均衡。通过求解一个三家银行系统的清算支付向量，您将亲手实践有限责任、债务优先和按比例回收等核心原则，从而深入理解银行间债务网络中的违约清算机制 。",
            "id": "4276984",
            "problem": "考虑一个由三家银行组成的系统，标记为$1$、$2$和$3$，其名义双边负债由矩阵$L \\in \\mathbb{R}^{3 \\times 3}$表示，其中$L_{i j}$是银行$i$对银行$j$的名义债务。设\n$$\nL \\;=\\; \\begin{pmatrix}\n0  50  10 \\\\\n30  0  10 \\\\\n10  40  0\n\\end{pmatrix},\n$$\n并设外部资产向量为$x \\in \\mathbb{R}^{3}$，由下式给出\n$$\nx \\;=\\; \\begin{pmatrix} 5 \\\\ 0 \\\\ 5 \\end{pmatrix}.\n$$\n假设该系统满足经典的银行间清算原则：有限责任（银行支付的金额不超过其可用资源）、债务优先（所有债务都在分配任何股权之前清偿）以及按比例回收（违约银行的每个债权人按照其名义债权的比例获得该银行支付的一部分）。用$\\bar{p}_i = \\sum_{j=1}^{3} L_{i j}$表示银行$i$的总名义负债，用$p_i$表示银行$i$在均衡状态下实际支付的金额。目标是计算这些原则所蕴含的清算支付向量$p = (p_1, p_2, p_3)^{\\top}$，并验证计算出的$p$对每家银行都强制执行了有限责任和债务优先原则。\n\n仅使用所述原则和数据$(L, x)$构建清算向量$p$，并以行矩阵$(p_1, p_2, p_3)$的形式提供最终答案。无需四舍五入；将任何非整数值精确地表示为分数。最终答案必须是指定格式的单个计算结果。",
            "solution": "在尝试解决问题之前，将首先根据指定标准对问题进行验证。\n\n### 步骤1：提取已知条件\n问题陈述中明确给出的数据和定义如下：\n- 该系统由三家银行组成，标记为$1$、$2$和$3$。\n- 名义双边负债矩阵为$L = \\begin{pmatrix} 0  50  10 \\\\ 30  0  10 \\\\ 10  40  0 \\end{pmatrix}$，其中$L_{i j}$是银行$i$对银行$j$的名义债务。\n- 外部资产向量为$x = \\begin{pmatrix} 5 \\\\ 0 \\\\ 5 \\end{pmatrix}$。\n- 该系统遵循三项原则：\n    1.  有限责任：银行支付的金额不超过其可用资源。\n    2.  债务优先：所有债务都在分配任何股权之前清偿。\n    3.  按比例回收：违约银行的每个债权人按照其名义债权的比例获得该银行支付的一部分。\n- 银行$i$的总名义负债为$\\bar{p}_i = \\sum_{j=1}^{3} L_{i j}$。\n- 银行$i$实际支付的金额为$p_i$。这些支付构成的向量为$p = (p_1, p_2, p_3)^{\\top}$。\n\n### 步骤2：使用提取的已知条件进行验证\n根据有效性标准对问题进行评估：\n\n- **科学依据**：该问题是Eisenberg-Noe (2001)模型在金融网络清算中的标准应用。这是金融经济学和复杂系统领域一个基础且被广泛接受的模型。有限责任、债务优先和按比例回收的原则在此背景下是经典的。该问题具有科学合理性。\n- **适定性**：该问题提供了所有必要的数据（$L$和$x$）和一套完整的规则（三项原则）来确定清算支付向量$p$。文献中已知，在这些条件下，存在唯一的清算向量。该问题是适定的。\n- **客观性**：该问题以精确的数学语言陈述，没有主观或模糊的术语。\n- **其他缺陷**：该问题没有表现出任何其他缺陷。它不是不完整的、矛盾的、不切实际的或微不足道的。它是在指定主题内的一个可形式化的问题。\n\n### 步骤3：结论与行动\n该问题被判定为**有效**。将提供解决方案。\n\n### 解\n目标是找到清算支付向量$p = (p_1, p_2, p_3)^{\\top}$。该模型的核心是，银行$i$支付的金额$p_i$是其总名义负债$\\bar{p}_i$和其总可用资源$c_i$中的较小者。后者包括其外部资产$x_i$以及从其债务人处收到的付款。\n\n首先，我们计算每家银行的总名义负债$\\bar{p}_i$：\n$$\n\\bar{p}_1 = \\sum_{j=1}^{3} L_{1j} = 0 + 50 + 10 = 60\n$$\n$$\n\\bar{p}_2 = \\sum_{j=1}^{3} L_{2j} = 30 + 0 + 10 = 40\n$$\n$$\n\\bar{p}_3 = \\sum_{j=1}^{3} L_{3j} = 10 + 40 + 0 = 50\n$$\n因此，总名义负债向量为$\\bar{p} = (60, 40, 50)^{\\top}$。\n\n银行$i$的总可用资源，记为$c_i$，是其外部资产$x_i$加上从其他银行收到的付款总额。根据按比例回收规则，银行$i$从银行$j$的实际付款$p_j$中收到比例为$\\frac{L_{ji}}{\\bar{p}_j}$的部分。因此，银行$i$的总资源为：\n$$\nc_i = x_i + \\sum_{j=1}^{3} \\frac{L_{ji}}{\\bar{p}_j} p_j\n$$\n这可以用矩阵形式表示为$c = x + \\Pi p$，其中$\\Pi$是相对负债矩阵，其元素为$\\Pi_{ij} = \\frac{L_{ji}}{\\bar{p}_j}$。我们来计算$\\Pi$：\n$$\n\\Pi = \\begin{pmatrix}\n\\frac{L_{11}}{\\bar{p}_1}  \\frac{L_{21}}{\\bar{p}_2}  \\frac{L_{31}}{\\bar{p}_3} \\\\\n\\frac{L_{12}}{\\bar{p}_1}  \\frac{L_{22}}{\\bar{p}_2}  \\frac{L_{32}}{\\bar{p}_3} \\\\\n\\frac{L_{13}}{\\bar{p}_1}  \\frac{L_{23}}{\\bar{p}_2}  \\frac{L_{33}}{\\bar{p}_3}\n\\end{pmatrix} = \\begin{pmatrix}\n\\frac{0}{60}  \\frac{30}{40}  \\frac{10}{50} \\\\\n\\frac{50}{60}  \\frac{0}{40}  \\frac{40}{50} \\\\\n\\frac{10}{60}  \\frac{10}{40}  \\frac{0}{50}\n\\end{pmatrix} = \\begin{pmatrix}\n0  \\frac{3}{4}  \\frac{1}{5} \\\\\n\\frac{5}{6}  0  \\frac{4}{5} \\\\\n\\frac{1}{6}  \\frac{1}{4}  0\n\\end{pmatrix}\n$$\n有限责任和债务优先原则意味着银行$i$支付的金额为$p_i = \\min(\\bar{p}_i, c_i)$。代入$c_i$的表达式，我们得到清算向量$p$的方程组：\n$$\np_i = \\min\\left(\\bar{p}_i, x_i + \\sum_{j=1}^{3} \\Pi_{ij} p_j\\right) \\quad \\text{for } i = 1, 2, 3\n$$\n这个方程组是非线性的。我们可以通过假设哪些银行是有清偿能力的（$p_i = \\bar{p}_i$）和哪些是违约的（$p_i  \\bar{p}_i$，意味着$p_i = c_i$）来求解。让我们假设一个状态并检查其一致性。一个合理的初始假设是，外部资产较低的银行可能会违约。我们假设银行$2$具有清偿能力，而银行$1$和$3$违约。\n\n**假设：**\n1. 银行1违约：$p_1 = c_1 = x_1 + \\sum_{j} \\Pi_{1j} p_j$\n2. 银行2有清偿能力：$p_2 = \\bar{p}_2 = 40$\n3. 银行3违约：$p_3 = c_3 = x_3 + \\sum_{j} \\Pi_{3j} p_j$\n\n在此假设下，我们得到关于$p_1$和$p_3$的以下线性方程组：\n$$\np_1 = 5 + (0)p_1 + \\left(\\frac{3}{4}\\right)p_2 + \\left(\\frac{1}{5}\\right)p_3\n$$\n$$\np_3 = 5 + \\left(\\frac{1}{6}\\right)p_1 + \\left(\\frac{1}{4}\\right)p_2 + (0)p_3\n$$\n代入$p_2 = 40$：\n$$\np_1 = 5 + \\left(\\frac{3}{4}\\right)(40) + \\frac{1}{5}p_3 \\implies p_1 = 5 + 30 + \\frac{1}{5}p_3 \\implies p_1 = 35 + \\frac{1}{5}p_3 \\quad (1)\n$$\n$$\np_3 = 5 + \\frac{1}{6}p_1 + \\left(\\frac{1}{4}\\right)(40) \\implies p_3 = 5 + \\frac{1}{6}p_1 + 10 \\implies p_3 = 15 + \\frac{1}{6}p_1 \\quad (2)\n$$\n我们现在求解这个$2 \\times 2$方程组。将(2)代入(1)：\n$$\np_1 = 35 + \\frac{1}{5}\\left(15 + \\frac{1}{6}p_1\\right)\n$$\n$$\np_1 = 35 + 3 + \\frac{1}{30}p_1\n$$\n$$\np_1 - \\frac{1}{30}p_1 = 38\n$$\n$$\n\\frac{29}{30}p_1 = 38 \\implies p_1 = 38 \\cdot \\frac{30}{29} = \\frac{1140}{29}\n$$\n现在将$p_1$的值代回(2)以求得$p_3$：\n$$\np_3 = 15 + \\frac{1}{6}\\left(\\frac{1140}{29}\\right) = 15 + \\frac{190}{29} = \\frac{15 \\cdot 29 + 190}{29} = \\frac{435 + 190}{29} = \\frac{625}{29}\n$$\n我们的候选解为$p = (1140/29, 40, 625/29)^{\\top}$。\n\n现在，我们必须验证这个解是否与我们的初始假设一致。\n1.  **银行1违约？** 我们必须检查是否$p_1  \\bar{p}_1$。\n    $p_1 = 1140/29 \\approx 39.31$。$\\bar{p}_1 = 60$。由于$39.31  60$，该假设是正确的。\n2.  **银行3违约？** 我们必须检查是否$p_3  \\bar{p}_3$。\n    $p_3 = 625/29 \\approx 21.55$。$\\bar{p}_3 = 50$。由于$21.55  50$，该假设是正确的。\n3.  **银行2有清偿能力？** 我们必须检查是否$c_2 \\geq \\bar{p}_2$。\n    $c_2 = x_2 + \\sum_{j} \\Pi_{2j} p_j = 0 + \\left(\\frac{5}{6}\\right)p_1 + (0)p_2 + \\left(\\frac{4}{5}\\right)p_3$\n    $c_2 = \\frac{5}{6}\\left(\\frac{1140}{29}\\right) + \\frac{4}{5}\\left(\\frac{625}{29}\\right) = \\frac{5 \\cdot 190}{29} + \\frac{4 \\cdot 125}{29} = \\frac{950}{29} + \\frac{500}{29} = \\frac{1450}{29} = 50$\n    我们检查是否$c_2 \\geq \\bar{p}_2$：$50 \\geq 40$。这是成立的。银行2的资源（$c_2 = 50$）足以覆盖其债务（$\\bar{p}_2 = 40$），因此它全额支付，即$p_2 = \\min(50, 40) = 40$。这与假设一致。\n\n假设的所有条件都得到了验证。清算支付向量为$p = (1140/29, 40, 625/29)$。问题要求以行矩阵$(p_1, p_2, p_3)$的形式给出最终答案。\n$$\np = \\begin{pmatrix} \\frac{1140}{29}  40  \\frac{625}{29} \\end{pmatrix}\n$$",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\frac{1140}{29}  40  \\frac{625}{29}\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "与静态的均衡模型不同，金融传染通常是一个动态的级联过程，违约像多米诺骨牌一样在网络中蔓延。本练习将探讨一个基于阈值的级联违约模型，其中机构在来自交易对手的损失超过其承受能力（即阈值）时会发生违约 。通过追踪一个初始外部冲击后的违约传播，并比较同步与异步两种不同更新规则下的最终传染规模，您将体会到动力学假设在预测系统性危机范围时的关键作用。",
            "id": "4277007",
            "problem": "考虑一个由五家银行组成的有向加权银行间风险敞口网络，银行编号为 $1,2,3,4,5$。设 $W_{ij} \\in [0,1]$ 表示银行 $i$ 对银行 $j$ 的风险敞口占其总交易对手风险敞口的比例，并假设矩阵 $W$ 的每一行之和为 $1$，即对每个 $i$ 都有 $\\sum_{j} W_{ij} = 1$。设 $\\theta_{i} \\in (0,1]$ 为银行 $i$ 的违约阈值，其解释为：因交易对手违约而导致银行 $i$ 损失的总风险敞口比例达到该最小值时，将触发银行 $i$ 的违约。传染规则是递进的（无恢复）：一旦银行违约，它将保持违约状态。对于未违约的银行 $i$，只要其对当前已违约交易对手 $j$ 的权重 $W_{ij}$ 之和达到或超过 $\\theta_{i}$，该银行就会立即违约。\n\n给定以下风险敞口权重和阈值，所有这些数据在科学上都是合理且自洽的：\n- 第1行：$W_{12} = 0.70$, $W_{15} = 0.30$。\n- 第2行：$W_{21} = 0.45$, $W_{23} = 0.40$, $W_{24} = 0.15$。\n- 第3行：$W_{31} = 0.35$, $W_{32} = 0.30$, $W_{35} = 0.35$。\n- 第4行：$W_{42} = 0.50$, $W_{43} = 0.20$, $W_{45} = 0.30$。\n- 第5行：$W_{53} = 0.60$, $W_{54} = 0.40$。\n- 阈值：$\\theta_{1} = 1.00$, $\\theta_{2} = 0.45$, $\\theta_{3} = 0.55$, $\\theta_{4} = 0.60$, $\\theta_{5} = 0.85$。\n\n在时间 $t=0$ 时，银行 $1$ 发生外生违约（单一初始违约）。传染根据上述规则进行。\n\n请计算在以下两种更新机制下，最终的级联规模（包括初始违约在内的违约银行总数）：\n- 同步更新：在每个离散时间步 $t=1,2,\\dots$，所有未违约银行根据时间 $t-1$ 时的违约集合，同时评估自身的违约条件。任何达到其阈值的银行都会在时间 $t$ 违约。\n- 异步更新：在每一轮中，未违约银行按照固定的顺序 $(2,3,4,5)$ 依次进行评估；当一家银行在一轮中违约时，它会立即对该轮中后续银行的损失产生影响；重复进行多轮评估，直到没有新的违约发生为止。\n\n请分别提供同步更新和异步更新下的级联规模，结果为精确整数，无需四舍五入。最终答案必须以一个单行矩阵的形式呈现，其中包含两个数字，顺序为（同步，异步）。",
            "solution": "该问题描述了一个包含 $N=5$ 家银行的金融传染过程。设银行集合为 $\\mathcal{B} = \\{1, 2, 3, 4, 5\\}$。银行间风险敞口由矩阵 $W$ 给出，其中 $W_{ij}$ 是银行 $i$ 对银行 $j$ 的风险敞口占其总风险敞口的比例。每家银行 $i$ 的违约阈值为 $\\theta_i$。如果银行 $i$ 因已违约交易对手造成的累计损失达到或超过此阈值，则银行 $i$ 违约。银行 $i$ 的违约条件由 $\\sum_{j \\in D} W_{ij} \\geq \\theta_i$ 给出，其中 $D$ 是当前已违约银行的集合。\n\n给定的非零风险敞口权重为：\n- $W_{12} = 0.70$, $W_{15} = 0.30$\n- $W_{21} = 0.45$, $W_{23} = 0.40$, $W_{24} = 0.15$\n- $W_{31} = 0.35$, $W_{32} = 0.30$, $W_{35} = 0.35$\n- $W_{42} = 0.50$, $W_{43} = 0.20$, $W_{45} = 0.30$\n- $W_{53} = 0.60$, $W_{54} = 0.40$\n所有其他 $W_{ij}$ 均为 $0$。\n\n违约阈值为：\n- $\\theta_1 = 1.00$\n- $\\theta_2 = 0.45$\n- $\\theta_3 = 0.55$\n- $\\theta_4 = 0.60$\n- $\\theta_5 = 0.85$\n\n初始条件是银行 $1$ 在时间 $t=0$ 时发生外生违约。\n\n我们将计算两种不同更新机制下的最终级联规模。\n\n### 同步更新\n\n在同步机制中，所有未违约银行在每个离散时间步，根据上一步已违约的银行集合同时进行评估。设 $D_t$ 为时间步 $t$ 结束时的违约银行集合。\n\n**初始状态 ($t=0$):**\n银行 $1$ 外生违约。\n$D_0 = \\{1\\}$。未违约（有偿付能力）的银行集合为 $S_0 = \\{2, 3, 4, 5\\}$。\n\n**时间步 $t=1$:**\n我们根据来自 $D_0 = \\{1\\}$ 的损失，检查 $S_0$ 中每家银行的违约条件。\n- 银行 $2$：来自银行 $1$ 的损失为 $W_{21} = 0.45$。条件 $0.45 \\geq \\theta_2 = 0.45$ 成立。银行 $2$ 违约。\n- 银行 $3$：来自银行 $1$ 的损失为 $W_{31} = 0.35$。条件 $0.35 \\geq \\theta_3 = 0.55$ 不成立。\n- 银行 $4$：来自银行 $1$ 的损失为 $W_{41} = 0$。条件 $0 \\geq \\theta_4 = 0.60$ 不成立。\n- 银行 $5$：来自银行 $1$ 的损失为 $W_{51} = 0$。条件 $0 \\geq \\theta_5 = 0.85$ 不成立。\n在 $t=1$ 时，只有银行 $2$ 违约。新的违约银行集合为 $D_1 = D_0 \\cup \\{2\\} = \\{1, 2\\}$。有偿付能力的银行集合为 $S_1 = \\{3, 4, 5\\}$。\n\n**时间步 $t=2$:**\n我们根据来自 $D_1 = \\{1, 2\\}$ 的损失，检查 $S_1$ 中每家银行的违约条件。\n- 银行 $3$：总损失为 $W_{31} + W_{32} = 0.35 + 0.30 = 0.65$。条件 $0.65 \\geq \\theta_3 = 0.55$ 成立。银行 $3$ 违约。\n- 银行 $4$：总损失为 $W_{41} + W_{42} = 0 + 0.50 = 0.50$。条件 $0.50 \\geq \\theta_4 = 0.60$ 不成立。\n- 银行 $5$：总损失为 $W_{51} + W_{52} = 0 + 0 = 0$。条件 $0 \\geq \\theta_5 = 0.85$ 不成立。\n在 $t=2$ 时，银行 $3$ 违约。新的违约银行集合为 $D_2 = D_1 \\cup \\{3\\} = \\{1, 2, 3\\}$。有偿付能力的银行集合为 $S_2 = \\{4, 5\\}$。\n\n**时间步 $t=3$:**\n我们根据来自 $D_2 = \\{1, 2, 3\\}$ 的损失，检查 $S_2$ 中每家银行的违约条件。\n- 银行 $4$：总损失为 $W_{41} + W_{42} + W_{43} = 0 + 0.50 + 0.20 = 0.70$。条件 $0.70 \\geq \\theta_4 = 0.60$ 成立。银行 $4$ 违约。\n- 银行 $5$：总损失为 $W_{51} + W_{52} + W_{53} = 0 + 0 + 0.60 = 0.60$。条件 $0.60 \\geq \\theta_5 = 0.85$ 不成立。\n在 $t=3$ 时，银行 $4$ 违约。新的违约银行集合为 $D_3 = D_2 \\cup \\{4\\} = \\{1, 2, 3, 4\\}$。有偿付能力的银行集合为 $S_3 = \\{5\\}$。\n\n**时间步 $t=4$:**\n我们根据来自 $D_3 = \\{1, 2, 3, 4\\}$ 的损失，检查 $S_3$ 中银行的违约条件。\n- 银行 $5$：总损失为 $W_{51} + W_{52} + W_{53} + W_{54} = 0 + 0 + 0.60 + 0.40 = 1.00$。条件 $1.00 \\geq \\theta_5 = 0.85$ 成立。银行 $5$ 违约。\n在 $t=4$ 时，银行 $5$ 违约。新的违约银行集合为 $D_4 = D_3 \\cup \\{5\\} = \\{1, 2, 3, 4, 5\\}$。\n\n由于没有剩余的有偿付能力的银行，该过程终止。同步更新下的最终级联规模为 $|D_4| = 5$。\n\n### 异步更新\n\n在异步机制中，我们进行多轮评估，按照固定顺序 $(2, 3, 4, 5)$ 评估未违约的银行。如果一家银行在一轮中违约，它会立即被添加到违约银行集合中，用于评估同一轮中后续的银行。设 $D$ 为不断演变的违约银行集合。\n\n**初始状态:**\n初始时，$D = \\{1\\}$。\n\n**第 1 轮:**\n- **评估银行 $2$:** 当前违约集合为 $D=\\{1\\}$。损失为 $W_{21} = 0.45$。条件 $0.45 \\geq \\theta_2 = 0.45$ 成立。银行 $2$ 违约。违约集合立即更新为 $D = \\{1, 2\\}$。\n- **评估银行 $3$:** 当前违约集合为 $D=\\{1, 2\\}$。损失为 $W_{31} + W_{32} = 0.35 + 0.30 = 0.65$。条件 $0.65 \\geq \\theta_3 = 0.55$ 成立。银行 $3$ 违约。违约集合更新为 $D = \\{1, 2, 3\\}$。\n- **评估银行 $4$:** 当前违约集合为 $D=\\{1, 2, 3\\}$。损失为 $W_{41} + W_{42} + W_{43} = 0 + 0.50 + 0.20 = 0.70$。条件 $0.70 \\geq \\theta_4 = 0.60$ 成立。银行 $4$ 违约。违约集合更新为 $D = \\{1, 2, 3, 4\\}$。\n- **评估银行 $5$:** 当前违约集合为 $D=\\{1, 2, 3, 4\\}$。损失为 $W_{51} + W_{52} + W_{53} + W_{54} = 0 + 0 + 0.60 + 0.40 = 1.00$。条件 $1.00 \\geq \\theta_5 = 0.85$ 成立。银行 $5$ 违约。违约集合更新为 $D = \\{1, 2, 3, 4, 5\\}$。\n\n在第 1 轮结束时，违约银行集合为 $D = \\{1, 2, 3, 4, 5\\}$。\n\n**第 2 轮:**\n由于在第 1 轮中发生了违约，我们会开始新的一轮。然而，现在所有银行都已在违约集合 $D$ 中。没有未违约的银行可供评估。该过程终止。\n\n异步更新下的最终级联规模为 $|D| = 5$。\n\n在这个特定案例中，两种机制的结果相同。\n- 最终级联规模（同步）：$5$。\n- 最终级联规模（异步）：$5$。\n最终答案以包含这两个值的行矩阵形式呈现。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n5  5\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "旨在降低系统性风险的金融创新或监管措施，有时会因改变风险的分布而产生意想不到的负面效果。这个练习通过一个“净额结算悖论”的思想实验，挑战您去分析网络结构变化对风险传播的非直观影响 。您需要从第一性原理出发，严格推导在何种条件下，旨在简化网络的“路径压缩”（一种多边净额结算）反而会放大而非减弱初始冲击造成的传染，从而培养对金融网络稳健性进行批判性分析的能力。",
            "id": "4276978",
            "problem": "考虑一个由 $4$ 家银行（标记为 $1,2,3,4$）组成的程式化银行间系统。每家银行拥有股本 $K0$，除了银行间债权和股权外，没有其他外部资产或负债。银行间债权是无担保的，在债务人违约时回收率为零。损失传播规则是如下阈值规则：银行 $i$ 违约当且仅当其银行间资产债权的总损失超过 $K$。违约后，违约银行不支付其银行间负债，导致其债权人在相应的银行间资产上遭受全部损失。考虑一个外生冲击，导致银行 $4$ 初始违约。所有其他违约均遵循上述规则内生发生。\n\n定义两个网络，它们保留了每家银行的银行间净头寸，但在风险敞口如何在交易对手间分布上有所不同。\n\n- 总额分布网络 $\\mathcal{G}$：银行 $1$ 持有两笔面值为 $x0$ 的银行间资产，一笔对银行 $2$，一笔对银行 $3$。银行 $2$ 持有一笔面值为 $x$ 的对银行 $4$ 的银行间资产。银行 $3$ 持有一笔面值为 $x$ 的对银行 $4$ 的银行间资产。不存在其他银行间债权。所有银行的股本均为 $K$。\n\n- 路径压缩网络 $\\mathcal{N}$：一次多边压缩操作消除了从银行 $1$ 经由银行 $2$ 和 $3$ 到银行 $4$ 的两步路径，将其替换为一笔从银行 $1$ 到银行 $4$ 的面值为 $2x$ 的直接银行间资产，同时移除了相应的债权 $1 \\to 2$、$1 \\to 3$、$2 \\to 4$ 和 $3 \\to 4$。不存在其他银行间债权。所有银行的股本均为 $K$。\n\n任务：\n\n- 仅使用损失传播规则和资产负债表一致性，以关于 $K$ 和 $x$ 的不等式形式，明确推导出在银行 $4$ 发生外生违约后，$\\mathcal{G}$ 和 $\\mathcal{N}$ 网络下产生的内生违约集合。\n\n- 基于这些推导，得出关于 $K$ 和 $x$ 的必要和充分条件，使得 $\\mathcal{N}$ 网络下的最终内生违约集合严格大于（在严格集合包含的意义上）$\\mathcal{G}$ 网络下的集合。\n\n- 通过指定满足您条件的 $x$ 和 $K$ 的值，提供一个具体的数值反例，并通过直接计算验证 $\\mathcal{N}$ 网络下的内生违约集合严格大于 $\\mathcal{G}$ 网络下的集合。\n\n- 设 $I(x)$ 表示资本水平 $K$ 的集合，对于这些 $K$ 值，在银行 $4$ 发生相同外生违约的条件下，压缩网络 $\\mathcal{N}$ 产生的最终内生违约集合严格大于总额分布网络 $\\mathcal{G}$。计算 $I(x)$ 的勒贝格测度（长度），作为 $x$ 的闭式函数。\n\n将 $I(x)$ 的长度作为您的最终答案报告。无需四舍五入。将您的最终答案表示为 $x$ 的函数，不带单位。",
            "solution": "用户希望我解决一个分为四部分的问题，该问题分析了两种程式化银行网络中的金融传染。我将首先验证问题，然后依次解决每个部分。\n\n### 问题验证\n\n**步骤 1：提取已知条件**\n- 银行数量：$4$ 家，标记为 $1, 2, 3, 4$。\n- 股本：每家银行拥有股本 $K  0$。\n- 其他资产/负债：无，仅有银行间债权和股权。\n- 回收率：违约的银行间债权回收率为零。\n- 损失传播规则：银行 $i$ 违约当且仅当其银行间资产债权的总损失超过 $K$。\n- 外生冲击：银行 $4$ 初始违约。\n- 总额分布网络 $\\mathcal{G}$：\n  - 银行 $1$ 持有一笔对银行 $2$ 的价值为 $x$ 的资产。\n  - 银行 $1$ 持有一笔对银行 $3$ 的价值为 $x$ 的资产。\n  - 银行 $2$ 持有一笔对银行 $4$ 的价值为 $x$ 的资产。\n  - 银行 $3$ 持有一笔对银行 $4$ 的价值为 $x$ 的资产。\n  - $x  0$。\n- 路径压缩网络 $\\mathcal{N}$：\n  - 银行 $1$ 持有一笔对银行 $4$ 的价值为 $2x$ 的资产。\n  - $\\mathcal{G}$ 中的债权被移除。\n- 任务 1：以关于 $K$ 和 $x$ 的不等式形式，推导 $\\mathcal{G}$ 和 $\\mathcal{N}$ 的内生违约集合。\n- 任务 2：找出关于 $K$ 和 $x$ 的必要和充分条件，使得 $\\mathcal{N}$ 下的内生违约集合严格大于 $\\mathcal{G}$ 下的集合。\n- 任务 3：提供一个满足这些条件的具体数值反例。\n- 任务 4：计算满足任务 2 条件的资本水平 $K$ 的集合 $I(x)$ 的勒贝格测度。\n\n**步骤 2：使用提取的已知条件进行验证**\n该问题是金融网络系统性风险研究中的一个明确定义的理论练习，属于复杂系统和网络科学领域的一个主题。\n- **科学依据**：该模型是一个抽象模型，但基于资产负债表机制和损失传播的基本原理。这是该领域用于获得定性见解的标准“玩具模型”方法。它不含伪科学。\n- **适定性**：规则以数学精度陈述（例如，如果损失  $K$ 则违约）。目标明确，并根据给定规则有唯一答案。\n- **客观性**：语言精确且无偏见。\n- 该问题是自洽、一致的，并且没有表现出验证清单中列出的任何缺陷。关于保留银行间净头寸的说明是对从 $\\mathcal{G}$ 到 $\\mathcal{N}$ 转换的正确陈述，它增加了背景信息，而不是制造矛盾。\n\n**步骤 3：结论与行动**\n问题是**有效的**。我将继续进行完整解答。\n\n### 解答推导\n\n**任务 1：推导内生违约集合**\n\n我们分析银行 $4$ 外生违约后引发的违约级联。违约规则是，如果一家银行因其债务人违约而遭受的总损失超过其资本 $K$，则该银行违约。\n\n**总额分布网络 ($\\mathcal{G}$) 分析**\n1.  **初始冲击**：银行 $4$ 违约。\n2.  **第一轮影响**：我们确定银行 $4$ 的债权人。它们是银行 $2$ 和银行 $3$，各自持有一笔面值为 $x$ 的银行间资产。银行 $4$ 违约后，这些资产变得一文不值，导致银行 $2$ 损失 $x$，银行 $3$ 损失 $x$。\n3.  **第一轮内生违约**：\n    -   如果银行 $2$ 的损失超过其资本，即 $x  K$，则银行 $2$ 违约。\n    -   如果银行 $3$ 的损失超过其资本，即 $x  K$，则银行 $3$ 违约。\n    -   银行 $1$ 对银行 $4$ 没有直接风险敞口，因此其初始损失为 $0$。\n    -   如果 $x \\le K$，银行 $2$ 和银行 $3$ 均不违约。传染级联停止。内生违约集合为空集，$D_{\\mathcal{G}} = \\emptyset$。\n4.  **第二轮影响**：如果 $x  K$，银行 $2$ 和银行 $3$ 都会违约。我们现在确定它们的债权人。银行 $1$ 是这两家银行的债权人，持有一笔对银行 $2$ 的价值为 $x$ 的资产和一笔对银行 $3$ 的价值为 $x$ 的资产。银行 $2$ 和 $3$ 的违约导致银行 $1$ 遭受总损失 $x + x = 2x$。\n5.  **第二轮内生违约**：如果银行 $1$ 的总损失超过其资本，即 $2x  K$，则银行 $1$ 违约。\n6.  **$\\mathcal{G}$ 的综合分析**：只有当 $x  K$ 时，传染级联才会进入第二轮。如果满足此条件，则意味着 $2x  2K$。由于 $K0$，我们有 $2K > K$。因此，条件 $x  K$ 足以推断出 $2x  K$。所以，如果银行 $2$ 和 $3$ 违约，银行 $1$ 也必然会违约。\n    因此，内生违约集合 $D_{\\mathcal{G}}$ 为：\n    -   如果 $x \\le K$，则 $D_{\\mathcal{G}} = \\emptyset$。\n    -   如果 $x  K$，则 $D_{\\mathcal{G}} = \\{1, 2, 3\\}$。\n\n**路径压缩网络 ($\\mathcal{N}$) 分析**\n1.  **初始冲击**：银行 $4$ 违约。\n2.  **第一轮影响**：我们确定银行 $4$ 的债权人。只有银行 $1$，它持有一笔面值为 $2x$ 的直接银行间资产。银行 $4$ 违约后，该资产变得一文不值，导致银行 $1$ 损失 $2x$。\n3.  **第一轮内生违约**：如果银行 $1$ 的损失超过其资本，即 $2x  K$，则银行 $1$ 违约。\n4.  **进一步影响**：在网络 $\\mathcal{N}$ 中，没有其他银行对银行 $1$ 拥有债权，因此如果银行 $1$ 违约，级联将停止。银行 $2$ 和 $3$ 没有任何银行间资产，因此永远不会遭受损失或违约。\n5.  **$\\mathcal{N}$ 的综合分析**：传染仅限于银行 $1$。\n    因此，内生违约集合 $D_{\\mathcal{N}}$ 为：\n    -   如果 $2x \\le K$，则 $D_{\\mathcal{N}} = \\emptyset$。\n    -   如果 $2x  K$，则 $D_{\\mathcal{N}} = \\{1\\}$。\n\n**任务 2：$\\mathcal{N}$ 中违约集合严格更大的条件**\n\n我们需要找到关于 $K$ 和 $x$ 的必要和充分条件，使得 $\\mathcal{N}$ 下的最终内生违约集合严格大于 $\\mathcal{G}$ 下的集合。这表示为 $D_{\\mathcal{N}} \\supsetneq D_{\\mathcal{G}}$。\n\n让我们检查可能的违约集合：\n-   $D_{\\mathcal{G}} \\in \\{\\emptyset, \\{1, 2, 3\\}\\}$\n-   $D_{\\mathcal{N}} \\in \\{\\emptyset, \\{1\\}\\}$\n\n唯一满足 $D_{\\mathcal{N}} \\supsetneq D_{\\mathcal{G}}$ 的组合是当 $D_{\\mathcal{N}} = \\{1\\}$ 且 $D_{\\mathcal{G}} = \\emptyset$ 时。\n为使这种情况发生，必须同时满足两个条件：\n1.  $D_{\\mathcal{N}} = \\{1\\}$ 的条件是 $2x  K$。\n2.  $D_{\\mathcal{G}} = \\emptyset$ 的条件是 $x \\le K$。\n\n结合这两个不等式，我们得到必要和充分条件：\n$x \\le K  2x$。\n\n**任务 3：数值反例**\n\n我们需要提供满足 $x \\le K  2x$ 的 $x$ 和 $K$ 的值。我们选择 $x=100$ 和 $K=150$。这些值满足条件，因为 $100 \\le 150  2 \\times 100 = 200$。\n\n-   **$\\mathcal{G}$ 的验证**：\n    -   银行 4 违约。\n    -   银行 2 的损失为 $x = 100$。\n    -   银行 3 的损失为 $x = 100$。\n    -   银行 2 的违约条件：损失  K 吗？$100  150$ 吗？否。\n    -   银行 3 的违约条件：损失  K 吗？$100  150$ 吗？否。\n    -   由于银行 2 和 3 均未违约，传染停止。\n    -   内生违约集合为 $D_{\\mathcal{G}} = \\emptyset$。\n\n-   **$\\mathcal{N}$ 的验证**：\n    -   银行 4 违约。\n    -   银行 1 的损失为 $2x = 200$。\n    -   银行 1 的违约条件：损失  K 吗？$200  150$ 吗？是。\n    -   银行 1 违约。级联停止。\n    -   内生违约集合为 $D_{\\mathcal{N}} = \\{1\\}$。\n\n比较结果，$D_{\\mathcal{N}} = \\{1\\}$ 和 $D_{\\mathcal{G}} = \\emptyset$。确实，$D_{\\mathcal{N}} \\supsetneq D_{\\mathcal{G}}$，因此反例是有效的。\n\n**任务 4：$I(x)$ 的勒贝格测度**\n\n集合 $I(x)$ 包含所有使得压缩网络 $\\mathcal{N}$ 产生的最终内生违约集合严格大于总额分布网络 $\\mathcal{G}$ 的资本水平 $K$。从任务 2 中，我们发现这个条件是 $x \\le K  2x$。\n\n因此，对于给定的 $x  0$，集合 $I(x)$ 定义为：\n$$I(x) = \\{K \\in \\mathbb{R}^+ \\mid x \\le K  2x\\}$$\n这个集合代表半开区间 $[x, 2x)$。\n\n一维区间的勒贝格测度就是其长度。区间 $[a, b)$ 的长度是 $b - a$。\n因此，$I(x)$ 的勒贝 g 测度，记为 $\\lambda(I(x))$，是：\n$$\\lambda(I(x)) = 2x - x = x$$\n使得网络压缩反而增加系统性风险的资本水平集合的长度等于基础风险敞口值 $x$。",
            "answer": "$$\n\\boxed{x}\n$$"
        }
    ]
}