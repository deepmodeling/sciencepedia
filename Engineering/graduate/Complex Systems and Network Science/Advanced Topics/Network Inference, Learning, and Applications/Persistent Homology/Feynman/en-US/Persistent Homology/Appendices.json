{
    "hands_on_practices": [
        {
            "introduction": "To build a strong intuition for persistent homology, we begin with the simplest possible scenario that generates a topological feature: three points in a plane. This exercise will guide you through constructing a Vietoris-Rips filtration step-by-step, allowing you to witness the precise moment a one-dimensional cycle is 'born' and 'dies' . Understanding this fundamental example, especially the concept of a zero-persistence feature, is key to grasping how persistent homology quantifies the shape of data.",
            "id": "4296693",
            "problem": "Consider a finite metric space $X \\subset \\mathbb{R}^{2}$ consisting of three points $x_{1}, x_{2}, x_{3}$ positioned at the vertices of an equilateral triangle of side length $1$, so that $d(x_{i}, x_{j}) = 1$ for all distinct $i, j \\in \\{1,2,3\\}$. For $\\epsilon \\geq 0$, define the Vietoris–Rips (VR) complex $\\mathrm{VR}(X,\\epsilon)$ to be the abstract simplicial complex whose simplices are all finite subsets $\\sigma \\subseteq X$ such that the pairwise distances among vertices of $\\sigma$ are less than or equal to $\\epsilon$. Consider the filtration $\\{\\mathrm{VR}(X,\\epsilon)\\}_{\\epsilon \\geq 0}$ and homology with coefficients in the cyclic group of integers modulo $2$, $\\mathbb{Z}_{2}$.\n\nUsing only the standard definitions of simplicial homology and persistent homology, do the following:\n- Enumerate all simplices that appear in $\\mathrm{VR}(X,\\epsilon)$ as $\\epsilon$ increases from $0$ to $+\\infty$, and justify the changes in the chain groups and boundary maps that determine the creation and annihilation of cycles.\n- Identify the birth scale $\\epsilon_{\\mathrm{birth}}$ and death scale $\\epsilon_{\\mathrm{death}}$ of the unique one-dimensional homology class produced by this filtration, according to the pairing induced by the inclusion maps in persistent homology.\n\nExpress your final answer as a $1 \\times 2$ row matrix $\\begin{pmatrix}\\epsilon_{\\mathrm{birth}} & \\epsilon_{\\mathrm{death}}\\end{pmatrix}$. No rounding is required.",
            "solution": "The problem requires the determination of the birth and death scales for the one-dimensional homology class generated by the Vietoris-Rips filtration of a three-point metric space.\n\nThe metric space is $X = \\{x_{1}, x_{2}, x_{3}\\} \\subset \\mathbb{R}^{2}$, forming the vertices of an equilateral triangle with side length $1$. The pairwise distances are $d(x_{i}, x_{j}) = 1$ for all distinct $i, j \\in \\{1, 2, 3\\}$, and $d(x_{i}, x_{i}) = 0$. The homology is computed with coefficients in the field $\\mathbb{Z}_{2}$.\n\nThe Vietoris-Rips complex, $\\mathrm{VR}(X,\\epsilon)$, is defined for a scale parameter $\\epsilon \\ge 0$. A finite subset of $X$, say $\\sigma \\subseteq X$, is a simplex in $\\mathrm{VR}(X,\\epsilon)$ if and only if for every pair of points $u, v \\in \\sigma$, the distance $d(u, v) \\le \\epsilon$. This is equivalent to requiring the diameter of the point set $\\sigma$ to be at most $\\epsilon$.\n\nWe must first analyze the structure of the simplicial complex $\\mathrm{VR}(X,\\epsilon)$ as $\\epsilon$ increases. The set of all pairwise distances between points in $X$ is $\\{0, 1\\}$. Therefore, the combinatorial structure of the complex $\\mathrm{VR}(X,\\epsilon)$ only changes at the critical value $\\epsilon = 1$.\n\nCase 1: $\\epsilon \\in [0, 1)$\nFor a simplex $\\sigma$ to be in $\\mathrm{VR}(X,\\epsilon)$, its diameter must be less than $1$.\n- $0$-simplices: The sets $\\{x_{1}\\}$, $\\{x_{2}\\}$, and $\\{x_{3}\\}$ have diameter $0$. Since $0 < 1$, these three $0$-simplices are present in $\\mathrm{VR}(X,\\epsilon)$ for all $\\epsilon \\ge 0$.\n- $1$-simplices: A $1$-simplex is a pair of points $\\{x_{i}, x_{j}\\}$ with $i \\neq j$. The diameter is $d(x_{i}, x_{j}) = 1$. Since we require the diameter to be strictly less than $1$ in this range of $\\epsilon$, no $1$-simplices are present.\n- Higher-dimensional simplices: Since no $1$-simplices exist, no simplices of dimension $2$ or higher can exist.\n\nThus, for $\\epsilon \\in [0, 1)$, the complex $\\mathrm{VR}(X,\\epsilon)$ consists of three disconnected vertices. Let's denote this complex by $K_{\\epsilon}$. The chain groups are $C_{0}(K_{\\epsilon}) = \\mathrm{span}_{\\mathbb{Z}_{2}}\\{x_{1}, x_{2}, x_{3}\\}$ and $C_{k}(K_{\\epsilon}) = \\{0\\}$ for $k \\ge 1$. The group of $1$-cycles, $Z_{1}(K_{\\epsilon}) = \\ker(\\partial_{1})$, is trivial because $C_{1}(K_{\\epsilon}) = \\{0\\}$. Consequently, the first homology group $H_{1}(K_{\\epsilon}) = Z_{1}(K_{\\epsilon}) / B_{1}(K_{\\epsilon}) = \\{0\\} / \\{0\\} = \\{0\\}$. No one-dimensional homology class exists in this interval.\n\nCase 2: $\\epsilon \\ge 1$\nAt $\\epsilon=1$, the structure of the complex changes.\n- $1$-simplices: For any pair $\\{x_{i}, x_{j}\\}$ with $i \\neq j$, the diameter is $d(x_{i}, x_{j}) = 1$. The condition is $1 \\le \\epsilon$. This is satisfied for $\\epsilon=1$. Therefore, the three $1$-simplices $e_{12}=\\{x_{1}, x_{2}\\}$, $e_{13}=\\{x_{1}, x_{3}\\}$, and $e_{23}=\\{x_{2}, x_{3}\\}$ are all added to the complex simultaneously at $\\epsilon = 1$.\n- $2$-simplex: For the set $\\sigma = \\{x_{1}, x_{2}, x_{3}\\}$, the diameter is $\\max\\{d(x_{1}, x_{2}), d(x_{1}, x_{3}), d(x_{2}, x_{3})\\} = \\max\\{1, 1, 1\\} = 1$. The condition is $1 \\le \\epsilon$, which is satisfied at $\\epsilon=1$. Thus, the $2$-simplex $f_{123}=\\{x_{1}, x_{2}, x_{3}\\}$ is also added at $\\epsilon=1$.\n\nFor any $\\epsilon \\ge 1$, $\\mathrm{VR}(X,\\epsilon)$ is the complete $2$-simplex, which is a filled triangle.\n\nNow we can determine the birth and death of the one-dimensional homology class.\nThe birth of a homology class occurs at the filtration value where a cycle is formed that is not a boundary. At $\\epsilon=1$, the three $1$-simplices are added, allowing the formation of the $1$-chain $c = e_{12} + e_{13} + e_{23}$. To verify if $c$ is a cycle, we compute its boundary using the boundary operator $\\partial_{1}$ with $\\mathbb{Z}_{2}$ coefficients:\n$$ \\partial_{1}(c) = \\partial_{1}(e_{12} + e_{13} + e_{23}) = \\partial_{1}(\\{x_{1},x_{2}\\}) + \\partial_{1}(\\{x_{1},x_{3}\\}) + \\partial_{1}(\\{x_{2},x_{3}\\}) $$\n$$ = (x_{1} + x_{2}) + (x_{1} + x_{3}) + (x_{2} + x_{3}) = 2x_{1} + 2x_{2} + 2x_{3} \\equiv 0 \\pmod{2} $$\nSince $\\partial_{1}(c)=0$, $c$ is a $1$-cycle. This cycle appears for the first time at $\\epsilon=1$, because the edges that constitute it all appear at $\\epsilon=1$. The birth scale of the homology class $[c]$ is the maximum filtration value of the simplices in its minimal representation, which is $\\max(\\text{filt}(e_{12}), \\text{filt}(e_{13}), \\text{filt}(e_{23}))=\\max(1,1,1)=1$. Thus, $\\epsilon_{\\mathrm{birth}} = 1$.\n\nThe death of a homology class occurs when its representative cycle becomes a boundary of a higher-dimensional chain. A cycle dies when it is \"filled in\". We need to find the smallest $\\epsilon$ at which $c$ becomes an element of the boundary group $B_{1}(\\mathrm{VR}(X,\\epsilon)) = \\mathrm{im}(\\partial_{2})$.\nAs established, the $2$-simplex $f_{123}=\\{x_{1}, x_{2}, x_{3}\\}$ also enters the complex at $\\epsilon=1$. Let's compute its boundary using the operator $\\partial_{2}: C_{2} \\to C_{1}$:\n$$ \\partial_{2}(f_{123}) = \\partial_{2}(\\{x_{1}, x_{2}, x_{3}\\}) = \\{x_{2}, x_{3}\\} + \\{x_{1}, x_{3}\\} + \\{x_{1}, x_{2}\\} = e_{23} + e_{13} + e_{12} $$\nThe boundary of the $2$-simplex $f_{123}$ is precisely the cycle $c$. This means that at the exact same moment the cycle $c$ is formed ($\\epsilon=1$), it is immediately filled by the $2$-simplex $f_{123}$ and becomes a boundary.\nIn the context of persistent homology, the pairing is between the simplex that creates the cycle (the last edge added to form it) and the simplex that kills it (the face that fills it). The birth time is the filtration value of the creating simplex, and the death time is the filtration value of the killing simplex.\nThe cycle $c$ is born at $\\epsilon=1$. The simplex that kills it is $f_{123}$, whose filtration value is $1$. Therefore, the death scale is $\\epsilon_{\\mathrm{death}} = 1$.\n\nThe unique one-dimensional homology class produced by this filtration is born at $\\epsilon_{\\mathrm{birth}} = 1$ and dies at $\\epsilon_{\\mathrm{death}} = 1$. The lifetime of this feature, $\\epsilon_{\\mathrm{death}} - \\epsilon_{\\mathrm{birth}}$, is $0$.",
            "answer": "$$\\boxed{\\begin{pmatrix}1 & 1\\end{pmatrix}}$$"
        },
        {
            "introduction": "In practice, there are several ways to build a simplicial complex from data, with the Vietoris-Rips and Čech complexes being two of the most common. This exercise explores the consequences of that choice by comparing their respective filtrations on a simple four-point dataset . By analyzing the different parameter ranges where they detect a one-dimensional hole, you will gain crucial insight into the trade-offs between mathematical guarantees (Čech) and computational efficiency (Vietoris-Rips).",
            "id": "4296612",
            "problem": "Consider a finite metric space $X \\subset \\mathbb{R}^{2}$ consisting of $4$ points at the vertices of a square of side length $1$, namely $X = \\{(0,0),(1,0),(1,1),(0,1)\\}$ with the Euclidean metric. For each scale parameter $\\epsilon \\geq 0$, define the Čech complex $\\mathrm{Cech}(X,\\epsilon)$ as the nerve of the family of closed Euclidean balls $\\{B(x,\\epsilon) : x \\in X\\}$, and define the Vietoris–Rips complex (clique complex on the threshold graph) $\\mathrm{VR}(X,\\epsilon)$ as the abstract simplicial complex whose simplices are all finite subsets $\\sigma \\subseteq X$ with pairwise distances bounded by $\\epsilon$ (that is, for all $x,y \\in \\sigma$, $d(x,y) \\leq \\epsilon$). For each $\\epsilon$, let $H_{1}(\\mathrm{Cech}(X,\\epsilon);\\mathbb{Z}_{2})$ and $H_{1}(\\mathrm{VR}(X,\\epsilon);\\mathbb{Z}_{2})$ denote the first homology groups with coefficients in the field of two elements $\\mathbb{Z}_{2}$. Using only the foundational definitions of these complexes, homology, and Euclidean geometry, analyze how $H_{1}$ changes with $\\epsilon$ for both constructions. Then, over the parameter domain $\\epsilon \\in [0,\\infty)$, determine the subset of scales at which the first homology groups of $\\mathrm{Cech}(X,\\epsilon)$ and $\\mathrm{VR}(X,\\epsilon)$ are not isomorphic, and compute the total Lebesgue measure (length) of this subset. Express the final measure as a single exact closed-form analytic expression without numerical approximation.",
            "solution": "The problem is valid as it is scientifically grounded in the fields of algebraic topology and computational geometry, is well-posed with a unique answer, and is expressed objectively. All terms are standard within the context of topological data analysis. We proceed with the solution.\n\nLet the set of $4$ points be $X = \\{P_1, P_2, P_3, P_4\\}$, where $P_1 = (0,0)$, $P_2 = (1,0)$, $P_3 = (1,1)$, and $P_4 = (0,1)$. These points form the vertices of a square with side length $1$ in $\\mathbb{R}^{2}$. The metric is the standard Euclidean distance, $d(\\cdot, \\cdot)$.\n\nThe pairwise distances between the points in $X$ are:\n$d(P_1, P_2) = 1$\n$d(P_2, P_3) = 1$\n$d(P_3, P_4) = 1$\n$d(P_4, P_1) = 1$\n$d(P_1, P_3) = \\sqrt{(1-0)^{2} + (1-0)^{2}} = \\sqrt{2}$\n$d(P_2, P_4) = \\sqrt{(0-1)^{2} + (1-0)^{2}} = \\sqrt{2}$\n\nWe will now analyze the first homology group, $H_{1}(\\cdot; \\mathbb{Z}_{2})$, for the Vietoris–Rips complex and the Čech complex as the scale parameter $\\epsilon$ varies over $[0, \\infty)$.\n\n**1. Analysis of the Vietoris–Rips Complex $\\mathrm{VR}(X,\\epsilon)$**\n\nThe Vietoris–Rips complex $\\mathrm{VR}(X,\\epsilon)$ is the abstract simplicial complex whose simplices are subsets $\\sigma \\subseteq X$ such that for all $x,y \\in \\sigma$, $d(x,y) \\leq \\epsilon$. This is the clique complex of the graph $G_{\\epsilon}$ with vertex set $X$ and an edge between any two points $x, y$ if $d(x,y) \\leq \\epsilon$. The critical values of $\\epsilon$ are the distances $1$ and $\\sqrt{2}$.\n\n- For $\\epsilon \\in [0, 1)$: The condition $d(x,y) \\leq \\epsilon$ is not met for any pair of distinct points. The graph $G_{\\epsilon}$ consists of $4$ isolated vertices. The complex $\\mathrm{VR}(X,\\epsilon)$ is the $0$-dimensional complex consisting of four points. Thus, its first homology group is trivial: $H_{1}(\\mathrm{VR}(X,\\epsilon);\\mathbb{Z}_{2}) \\cong 0$.\n\n- For $\\epsilon \\in [1, \\sqrt{2})$: The four edges corresponding to the sides of the square are added, since their length is $1$. The distances along the diagonals are $\\sqrt{2}$, so no diagonal edges are present. The graph $G_{\\epsilon}$ is a cycle graph on $4$ vertices. The maximal cliques in this graph are the four edges. Thus, $\\mathrm{VR}(X,\\epsilon)$ is a hollow square, which is homeomorphic to a circle $S^{1}$. The first homology group is non-trivial: $H_{1}(\\mathrm{VR}(X,\\epsilon);\\mathbb{Z}_{2}) \\cong \\mathbb{Z}_{2}$. The generator of this group corresponds to the cycle $P_1-P_2-P_3-P_4-P_1$.\n\n- For $\\epsilon \\in [\\sqrt{2}, \\infty)$: The two diagonal edges are added to the graph, as their length $\\sqrt{2}$ is now less than or equal to $\\epsilon$. The graph $G_{\\epsilon}$ becomes the complete graph $K_{4}$. The clique complex of $K_{4}$ is the $3$-simplex $\\Delta^{3}$, which consists of the $4$ vertices, $6$ edges, $4$ triangular faces, and $1$ tetrahedron. The $3$-simplex is contractible, so all its homology groups are trivial. Thus, $H_{1}(\\mathrm{VR}(X,\\epsilon);\\mathbb{Z}_{2}) \\cong 0$.\n\nSummary for $\\mathrm{VR}(X,\\epsilon)$:\n- $H_{1}(\\mathrm{VR}(X,\\epsilon);\\mathbb{Z}_{2}) \\cong 0$ for $\\epsilon \\in [0, 1) \\cup [\\sqrt{2}, \\infty)$.\n- $H_{1}(\\mathrm{VR}(X,\\epsilon);\\mathbb{Z}_{2}) \\cong \\mathbb{Z}_{2}$ for $\\epsilon \\in [1, \\sqrt{2})$.\n\n**2. Analysis of the Čech Complex $\\mathrm{Cech}(X,\\epsilon)$**\n\nThe Čech complex $\\mathrm{Cech}(X,\\epsilon)$ is the nerve of the family of closed balls $\\{B(x, \\epsilon) : x \\in X\\}$. A $k$-simplex $\\{x_0, \\dots, x_k\\}$ exists if the intersection of the corresponding balls is non-empty: $\\bigcap_{i=0}^{k} B(x_i, \\epsilon) \\neq \\emptyset$.\n\n- **$1$-simplices (edges):** An edge $\\{x,y\\}$ is in $\\mathrm{Cech}(X,\\epsilon)$ if $B(x,\\epsilon) \\cap B(y,\\epsilon) \\neq \\emptyset$. This is true if and only if $d(x,y) \\leq 2\\epsilon$, or $\\epsilon \\geq d(x,y)/2$.\n  - The four side edges (length $1$) appear when $\\epsilon \\geq 1/2$.\n  - The two diagonal edges (length $\\sqrt{2}$) appear when $\\epsilon \\geq \\sqrt{2}/2$.\n\n- **$2$-simplices (triangles):** A triangle $\\{x,y,z\\}$ is in $\\mathrm{Cech}(X,\\epsilon)$ if $B(x,\\epsilon) \\cap B(y,\\epsilon) \\cap B(z,\\epsilon) \\neq \\emptyset$. This is equivalent to $\\epsilon$ being greater than or equal to the circumradius of the triangle $\\triangle xyz$. All $4$ possible triangles that can be formed from the vertices of the square (e.g., $\\{P_1,P_2,P_3\\}$) are right-angled isosceles triangles with side lengths $1, 1, \\sqrt{2}$. The circumradius of such a triangle is half the length of its hypotenuse, which is $\\sqrt{2}/2$. Therefore, all four $2$-simplices appear simultaneously at $\\epsilon = \\sqrt{2}/2$.\n\n- **$3$-simplex (tetrahedron):** The simplex $\\{P_1,P_2,P_3,P_4\\}$ exists if $\\bigcap_{i=1}^{4} B(P_i, \\epsilon) \\neq \\emptyset$. This requires a point $p$ such that $d(p, P_i) \\leq \\epsilon$ for all $i$. This is equivalent to $\\epsilon$ being greater than or equal to the circumradius of the set of points $X$. The circumcenter of the square is its geometric center $(1/2, 1/2)$. The distance from the center to any vertex is $\\sqrt{(1/2)^2 + (1/2)^2} = \\sqrt{1/2} = \\sqrt{2}/2$. Thus, the $3$-simplex appears at $\\epsilon = \\sqrt{2}/2$.\n\nLet's build the filtration for $\\mathrm{Cech}(X,\\epsilon)$:\n\n- For $\\epsilon \\in [0, 1/2)$: No pairs of balls intersect. The complex consists of $4$ isolated vertices. $H_{1}(\\mathrm{Cech}(X,\\epsilon);\\mathbb{Z}_{2}) \\cong 0$.\n\n- For $\\epsilon \\in [1/2, \\sqrt{2}/2)$: The four balls corresponding to adjacent vertices intersect, creating the four side-edges of the square. No higher-dimensional simplices are formed yet. The complex is a hollow square, homeomorphic to $S^{1}$. Thus, $H_{1}(\\mathrm{Cech}(X,\\epsilon);\\mathbb{Z}_{2}) \\cong \\mathbb{Z}_{2}$.\n\n- For $\\epsilon \\in [\\sqrt{2}/2, \\infty)$: At $\\epsilon = \\sqrt{2}/2$, the diagonal edges, all four $2$-simplices (faces), and the single $3$-simplex (tetrahedron) all appear simultaneously. The complex becomes the full $3$-simplex $\\Delta^{3}$, which is contractible. Therefore, $H_{1}(\\mathrm{Cech}(X,\\epsilon);\\mathbb{Z}_{2}) \\cong 0$.\n\nSummary for $\\mathrm{Cech}(X,\\epsilon)$:\n- $H_{1}(\\mathrm{Cech}(X,\\epsilon);\\mathbb{Z}_{2}) \\cong 0$ for $\\epsilon \\in [0, 1/2) \\cup [\\sqrt{2}/2, \\infty)$.\n- $H_1(\\mathrm{Cech}(X,\\epsilon);\\mathbb{Z}_{2}) \\cong \\mathbb{Z}_{2}$ for $\\epsilon \\in [1/2, \\sqrt{2}/2)$.\n\n**3. Comparison and Measure Calculation**\n\nWe need to find the set of $\\epsilon$ values for which $H_{1}(\\mathrm{Cech}(X,\\epsilon);\\mathbb{Z}_{2}) \\not\\cong H_{1}(\\mathrm{VR}(X,\\epsilon);\\mathbb{Z}_{2})$. Let's compare the homology groups on the intervals defined by the critical values $\\{1/2, \\sqrt{2}/2, 1, \\sqrt{2}\\}$.\n\n- Interval $\\epsilon \\in [0, 1/2)$:\n  $H_1^{\\mathrm{Cech}} \\cong 0$, $H_1^{\\mathrm{VR}} \\cong 0$. Isomorphic.\n- Interval $\\epsilon \\in [1/2, \\sqrt{2}/2)$:\n  $H_1^{\\mathrm{Cech}} \\cong \\mathbb{Z}_{2}$, $H_1^{\\mathrm{VR}} \\cong 0$. Not isomorphic.\n- Interval $\\epsilon \\in [\\sqrt{2}/2, 1)$:\n  $H_1^{\\mathrm{Cech}} \\cong 0$, $H_1^{\\mathrm{VR}} \\cong 0$. Isomorphic.\n- Interval $\\epsilon \\in [1, \\sqrt{2})$:\n  $H_1^{\\mathrm{Cech}} \\cong 0$, $H_1^{\\mathrm{VR}} \\cong \\mathbb{Z}_{2}$. Not isomorphic.\n- Interval $\\epsilon \\in [\\sqrt{2}, \\infty)$:\n  $H_1^{\\mathrm{Cech}} \\cong 0$, $H_1^{\\mathrm{VR}} \\cong 0$. Isomorphic.\n\nThe subset of scales $\\epsilon$ at which the first homology groups are not isomorphic is the union of two disjoint intervals: $[1/2, \\sqrt{2}/2) \\cup [1, \\sqrt{2})$. The total Lebesgue measure (length) of this subset is the sum of the lengths of these intervals.\n\nMeasure = $(\\frac{\\sqrt{2}}{2} - \\frac{1}{2}) + (\\sqrt{2} - 1)$\nMeasure = $\\frac{\\sqrt{2}}{2} - \\frac{1}{2} + \\frac{2\\sqrt{2}}{2} - \\frac{2}{2}$\nMeasure = $\\frac{3\\sqrt{2}}{2} - \\frac{3}{2}$\nMeasure = $\\frac{3}{2}(\\sqrt{2} - 1)$",
            "answer": "$$\\boxed{\\frac{3}{2}(\\sqrt{2} - 1)}$$"
        },
        {
            "introduction": "Persistent homology finds powerful applications in network science, where it can uncover large-scale cyclic structures that are not obvious from local connectivity alone. This final practice moves from simple geometric point clouds to a realistic network analysis task . You will follow the complete workflow of translating a weighted network into a filtration, computing its persistent homology to find the most robust cycle, and mapping this abstract topological feature back to the specific nodes that form it.",
            "id": "4296745",
            "problem": "You are given a set of weighted, simple, undirected networks represented by symmetric adjacency matrices with nonnegative integer entries, where a value of $0$ indicates the absence of an edge. The task is to construct a filtration of the thresholded flag (clique) complex up to dimension $2$ from each network, compute the first homology group ($H_1$) persistent barcode over integers modulo two ($\\mathbb{Z}_2$), identify the longest finite bar (maximum persistence length), extract a representative $H_1$ cycle for that bar using the standard reduction principle, and finally map that cycle back to the original network by listing the distinct node indices involved. If no finite $H_1$ bars exist for a test case, you must output the empty list.\n\nThe problem is to be approached using foundational definitions and well-tested facts from algebraic topology and network science:\n\n- A weighted simple undirected graph $G$ on $n$ nodes is given by a symmetric matrix $A \\in \\mathbb{R}^{n \\times n}$ with entries $A_{ij} \\in \\mathbb{Z}_{\\ge 0}$, where $A_{ij} = 0$ indicates no edge between nodes $i$ and $j$, and $A_{ij} = A_{ji}$ is the weight of the edge.\n- The flag (clique) complex of $G$ is the abstract simplicial complex whose simplices are all node subsets that form cliques in $G$, that is, every pair of nodes in the subset is connected by an edge in $G$. In particular, $0$-simplices are nodes, $1$-simplices are edges, and $2$-simplices are triangles.\n- A filtration assigns a nondecreasing \"time\" to each simplex such that faces appear no later than the simplices they bound. For a weighted graph with maximum edge weight $M = \\max_{i<j} A_{ij}$ (with the convention that the maximum is taken over present edges, i.e., those with strictly positive weights), define:\n  - For each vertex $v_i$, the filtration value $f(v_i) = 0$.\n  - For each edge $e_{ij}$ with weight $w_{ij} = A_{ij} > 0$, define $f(e_{ij}) = M - w_{ij}$.\n  - For each triangle $\\sigma_{ijk}$ present (i.e., $A_{ij} > 0$, $A_{ik} > 0$, $A_{jk} > 0$), define $f(\\sigma_{ijk}) = \\max\\{ f(e_{ij}), f(e_{ik}), f(e_{jk}) \\}$.\n  This yields a valid filtration because $f(\\text{face}) \\le f(\\text{simplex})$ holds by construction.\n- Persistent Homology (PH) over integers modulo two ($\\mathbb{Z}_2$) for $H_1$ tracks the creation (\"birth\") and destruction (\"death\") of $1$-dimensional cycles along the filtration. The standard matrix-reduction algorithm over $\\mathbb{Z}_2$ pairs $1$-simplices with $2$-simplices to produce $H_1$ intervals $[f(\\text{birth 1-simplex}), f(\\text{death 2-simplex})]$. The representative cycle killed by a $2$-simplex is given by the reduced boundary column of that $2$-simplex after performing reductions that respect filtration order.\n- The persistence length of a finite bar is defined as $f(\\text{death}) - f(\\text{birth})$, a nonnegative integer under the definitions above.\n\nYour program must implement the following tasks for each test case:\n\n1. Construct the $1$-simplices (edges) and $2$-simplices (triangles) that exist in the graph, together with their filtration values $f(\\cdot)$ as defined above. Use node indexing starting at $0$.\n2. Sort $1$-simplices and $2$-simplices by nondecreasing filtration values $f(\\cdot)$; break ties lexicographically by node indices. Use these sorted orders to define indices for edges and triangles, respectively.\n3. Compute the $H_1$ persistence pairs using reduction over $\\mathbb{Z}_2$ on the boundary of $2$-simplices expressed in the basis of $1$-simplices (with rows ordered by the sorted edge indices and columns ordered by the sorted triangle indices). When reducing a triangle column, repeatedly add previously stored reduced triangle columns whose pivot edge matches the current pivot edge until either the column becomes zero or its pivot is unique. If the reduced column is nonzero, it pairs its pivot edge with the current triangle. The reduced column itself is a representative cycle for the killed class.\n4. Among all finite $H_1$ bars, select the single longest one by maximizing $f(\\text{death triangle}) - f(\\text{birth edge})$. In case of ties, choose the one with the smaller birth filtration value; if still tied, choose the one whose set of involved nodes (as defined below) is lexicographically smallest.\n5. From the representative cycle for the selected bar, form the set of involved nodes by taking the union of endpoints of its edges, and output the sorted list of distinct node indices. If no finite $H_1$ bars exist, output the empty list for that test case.\n\nTest suite:\n\nUse the following three adjacency matrices as test cases. They are small, scientifically plausible networks designed to exercise the algorithm across different scenarios. All weights are integers and dimensionless.\n\n- Test case $1$ ($4$ nodes forming a square with diagonals):\n  $$\n  A^{(1)} =\n  \\begin{bmatrix}\n  0 & 9 & 6 & 8 \\\\\n  9 & 0 & 9 & 4 \\\\\n  6 & 9 & 0 & 9 \\\\\n  8 & 4 & 9 & 0\n  \\end{bmatrix}\n  $$\n- Test case $2$ ($5$-node ring with no triangles; expect no finite $H_1$ bars):\n  $$\n  A^{(2)} =\n  \\begin{bmatrix}\n  0 & 7 & 0 & 0 & 7 \\\\\n  7 & 0 & 8 & 0 & 0 \\\\\n  0 & 8 & 0 & 7 & 0 \\\\\n  0 & 0 & 7 & 0 & 8 \\\\\n  7 & 0 & 0 & 8 & 0\n  \\end{bmatrix}\n  $$\n- Test case $3$ ($6$ nodes with two overlapping squares and diagonals):\n  $$\n  A^{(3)} =\n  \\begin{bmatrix}\n  0 & 9 & 6 & 7 & 0 & 0 \\\\\n  9 & 0 & 9 & 5 & 0 & 0 \\\\\n  6 & 9 & 0 & 9 & 9 & 6 \\\\\n  7 & 5 & 9 & 0 & 5 & 8 \\\\\n  0 & 0 & 9 & 5 & 0 & 9 \\\\\n  0 & 0 & 6 & 8 & 9 & 0\n  \\end{bmatrix}\n  $$\n\nFinal output format:\n\nYour program should produce a single line of output containing the results for the three test cases as a comma-separated list enclosed in square brackets. Each entry should be the sorted list of node indices involved in the representative cycle of the longest finite $H_1$ bar for that test case, or the empty list if no finite $H_1$ bars exist. For example, the output must look like $[ [n_1^{(1)}], [n_1^{(2)}], [n_1^{(3)}] ]$ where each inner list is formatted using standard Python list syntax. Concretely, print exactly one line in the form $[result_1,result_2,result_3]$, where each $result_k$ is a Python list of integers.",
            "solution": "The problem requires the computation of persistent homology for weighted networks, specifically focusing on the first homology group $H_1$ with coefficients in $\\mathbb{Z}_2$. The objective is to identify the most persistent $1$-dimensional cycle, extract its representative, and list the nodes comprising it. The solution proceeds by implementing the standard algorithm for persistent homology on a clique complex filtration.\n\nThe process for each weighted network, represented by a symmetric adjacency matrix $A$, is as follows:\n\n1.  **Filtration Construction**:\n    A filtration is a nested sequence of simplicial complexes, ordered by a parameter often interpreted as \"time\". We construct a flag (or clique) complex filtration based on the edge weights.\n    First, we determine the maximum edge weight in the network, $M = \\max_{i<j} A_{ij}$, over all edges with $A_{ij} > 0$.\n    The filtration value $f(\\sigma)$ for a simplex $\\sigma$ is defined as follows:\n    -   For a $0$-simplex (vertex) $v_i$, its filtration value is $f(v_i) = 0$.\n    -   For a $1$-simplex (edge) $e_{ij}$ connecting nodes $i$ and $j$ with weight $w_{ij} = A_{ij} > 0$, its filtration value is $f(e_{ij}) = M - w_{ij}$. This definition ensures that edges with higher weights appear earlier in the filtration (i.e., have smaller filtration values).\n    -   For a $2$-simplex (triangle) $\\sigma_{ijk}$ formed by nodes $i$, $j$, and $k$, its filtration value is determined by the maximum filtration value of its face edges: $f(\\sigma_{ijk}) = \\max\\{ f(e_{ij}), f(e_{ik}), f(e_{jk}) \\}$.\n    This construction guarantees a valid filtration, as any face of a simplex appears at a filtration time less than or equal to that of the simplex itself, i.e., $f(\\tau) \\leq f(\\sigma)$ if $\\tau$ is a face of $\\sigma$. We need only consider simplices up to dimension $2$ for computing $H_1$.\n\n2.  **Simplex Sorting**:\n    To process the filtration, all existing $1$-simplices (edges) and $2$-simplices (triangles) are collected and sorted. The primary sorting key is their filtration value $f(\\cdot)$ in non-decreasing order. Ties are broken lexicographically based on the indices of the nodes forming the simplex. This sorted order establishes the sequence in which simplices are added to the complex. Let the sorted edges be $e_0, e_1, \\dots, e_{m-1}$ and the sorted triangles be $t_0, t_1, \\dots, t_{p-1}$.\n\n3.  **Boundary Matrix Reduction over $\\mathbb{Z}_2$**:\n    Persistent homology $H_1$ tracks the creation and destruction of $1$-cycles. A $1$-cycle is born when an edge is added that does not form a boundary with existing edges. A $1$-cycle is killed when a triangle is added that \"fills in\" the cycle, making it a boundary. The standard algorithm finds pairs of simplices $(e_i, t_j)$ where edge $e_i$ creates a cycle that is later killed by triangle $t_j$. This is achieved by reducing the boundary matrix $D$.\n    The columns of $D$ correspond to the sorted triangles $t_j$, and the rows correspond to the sorted edges $e_i$. An entry $D_{ij}$ is $1$ if $e_i$ is a face of $t_j$, and $0$ otherwise. We work with coefficients in $\\mathbb{Z}_2$, so addition is equivalent to XOR.\n    The algorithm proceeds as follows:\n    -   Initialize an empty mapping, `pivot_to_column`, from edge indices (pivots) to their corresponding reduced columns.\n    -   For each triangle $t_j$ in sorted order, compute its boundary column, $c_j = \\partial t_j$. This is a sparse vector (or set of indices) indicating which edges form its boundary.\n    -   Reduce $c_j$ by repeatedly finding its pivot (the largest index of a non-zero entry, `low(c_j)`) and, if another column $c_k$ ($k<j$) shares the same pivot, adding that column to $c_j$ (i.e., $c_j \\leftarrow c_j + c_k \\pmod 2$). This process continues until $c_j$ becomes the zero vector or its pivot is unique among all previously processed columns.\n    -   If the fully reduced column $c_j^{\\text{red}}$ is non-zero, its pivot `low(c_j^{\\text{red}})` is the index $i$ of the birth-edge $e_i$. This means $t_j$ kills the homology class born at $e_i$. The pair $(i, j)$ is recorded as a persistence pair. The reduced column $c_j^{\\text{red}}$ is stored in `pivot_to_column`, indexed by its pivot $i$.\n    -   If $c_j^{\\text{red}}$ is zero, $t_j$ does not kill a new homology class, and we proceed to the next triangle.\n\n4.  **Longest Bar and Representative Cycle**:\n    Each persistence pair $(i, j)$ corresponds to a finite persistence bar $[f(e_i), f(t_j)]$. The persistence length is $L = f(t_j) - f(e_i)$. The problem asks to identify the single \"longest\" bar based on a three-level tie-breaking rule:\n    1.  Maximize the persistence length $L$.\n    2.  For bars with the same maximal length, select the one with the smallest birth time $f(e_i)$.\n    3.  If a tie persists, select the one whose representative cycle involves a set of nodes that is lexicographically smallest.\n\n    The representative cycle for the bar $(e_i, t_j)$ is given by the reduced column $c_j^{\\text{red}}$. This column is a linear combination of basis edges, $c_j^{\\text{red}} = \\sum_{k \\in S} e_k$ for some index set $S \\subseteq \\{0, \\dots, m-1\\}$. The set of nodes involved in this cycle is the union of all vertices of all edges $e_k$ for $k \\in S$.\n\n5.  **Output Generation**:\n    After identifying the unique longest bar according to the criteria, we extract its representative cycle, collect all unique node indices from the edges in that cycle, and sort them in ascending order. This sorted list of integers is the result for the given test case. If no finite $H_1$ bars are found (e.g., if there are no $2$-simplices), the result is an empty list. This provides a complete pipeline from a weighted network to a characterization of its most prominent cyclic feature.",
            "answer": "[[0, 1, 2, 3], [], [0, 1, 3]]"
        }
    ]
}