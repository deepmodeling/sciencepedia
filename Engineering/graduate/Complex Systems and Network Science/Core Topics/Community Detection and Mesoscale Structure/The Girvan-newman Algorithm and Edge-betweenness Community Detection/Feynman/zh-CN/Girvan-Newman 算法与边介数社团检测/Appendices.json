{
    "hands_on_practices": [
        {
            "introduction": "为了真正掌握 Girvan-Newman 算法，我们必须从基本定义出发，动手计算边介数。这个练习将引导你计算一个由两个社群和一条“桥”边连接而成的简单直观网络的边介数。通过这个计算过程，你将清晰地理解为何连接社群的桥边是成功分离它们的关键。",
            "id": "4309446",
            "problem": "考虑一个无向无权图，其顶点集为 $V=\\{1,2,3,4,5,6\\}$，边集为 $E=\\{(1,2),(2,3),(3,1),(3,4),(4,5),(5,6),(6,4)\\}$。仅使用以下基本定义。\n\n1. 对于顶点 $s,t \\in V$ 且 $s \\neq t$，令 $\\sigma_{st}$ 表示 $s$ 和 $t$ 之间的最短路径数量，$\\sigma_{st}(e)$ 表示这些最短路径中经过边 $e \\in E$ 的数量。\n\n2. 边 $e$ 的边介数中心性 $C_{B}(e)$ 定义为，对所有不同的顶点无序对 $\\{s,t\\} \\subset V$, $s \\neq t$，$s$ 和 $t$ 之间经过边 $e$ 的最短路径所占比例的总和：\n$$\nC_{B}(e) \\;=\\; \\sum_{\\{s,t\\} \\subset V,\\, s \\neq t} \\frac{\\sigma_{st}(e)}{\\sigma_{st}}.\n$$\n\n3. 用于社区发现的 Girvan–Newman 算法会迭代地移除当前具有最大边介数中心性的边，并检查每次移除后产生的连通分量。\n\n严格依据这些定义，计算 $C_{B}((3,4))$ 的精确值，并确定在 Girvan–Newman 算法的第一次迭代中，从给定图中移除具有最大边介数中心性的边后，所得到的连通分量的数量 $k$。将您的最终答案以二元行向量 $\\big(C_{B}((3,4)),\\,k\\big)$ 的形式报告。无需四舍五入。",
            "solution": "该问题要求计算特定边 $C_B((3,4))$ 的边介数中心性，并确定在 Girvan–Newman 算法第一次迭代后连通分量的数量 $k$。该问题提法恰当，并提供了所有必要的定义。\n\n该图由顶点集 $V=\\{1,2,3,4,5,6\\}$ 和边集 $E=\\{(1,2),(2,3),(3,1),(3,4),(4,5),(5,6),(6,4)\\}$ 定义。对图结构的分析表明，它由两个大小为3的团（三角形）组成，由一条边连接。\n令 $V_1 = \\{1,2,3\\}$ 和 $V_2 = \\{4,5,6\\}$。边 $(1,2), (2,3), (3,1)$ 在 $V_1$ 上形成一个完全子图（一个3-团，$K_3$）。类似地，边 $(4,5), (5,6), (6,4)$ 在 $V_2$ 上形成一个 $K_3$。边 $(3,4)$ 是这两个分量之间的唯一连接，充当桥梁的角色。\n\n首先，我们计算边 $e = (3,4)$ 的边介数中心性 $C_{B}((3,4))$。其定义为：\n$$C_{B}(e) = \\sum_{\\{s,t\\} \\subset V,\\, s \\neq t} \\frac{\\sigma_{st}(e)}{\\sigma_{st}}$$\n该和是对所有不同顶点的无序对进行的。这样的对的总数为 $\\binom{6}{2} = 15$。我们对每一对计算项 $\\frac{\\sigma_{st}(e)}{\\sigma_{st}}$ 的值。\n\n项 $\\sigma_{st}((3,4))$ 非零当且仅当从 $s$ 到 $t$ 的至少一条最短路径经过边 $(3,4)$。我们可以将顶点对 $\\{s,t\\}$ 分为三类：\n1. 两个顶点都在 $V_1$ 中（即 $\\{s,t\\} \\subset V_1$）。由于 $V_1$ 导出一个团， $V_1$ 中任意两个顶点之间的最短路径就是连接它们的直接边，长度为 $1$。任何离开 $V_1$，通过 $(3,4)$ 到达 $V_2$，然后返回的路径长度至少为 $1+1+1=3$。因此，$V_1$ 中顶点之间的最短路径不会使用边 $(3,4)$。对于这些对，$\\sigma_{st}((3,4)) = 0$。这样的对有 $\\binom{3}{2}=3$ 个。\n2. 两个顶点都在 $V_2$ 中（即 $\\{s,t\\} \\subset V_2$）。出于同样的原因，$V_2$ 中顶点之间的最短路径不会使用边 $(3,4)$。对于这些对，$\\sigma_{st}((3,4)) = 0$。这样的对有 $\\binom{3}{2}=3$ 个。\n3. 一个顶点在 $V_1$ 中，另一个在 $V_2$ 中（即 $s \\in V_1, t \\in V_2$）。由于 $(3,4)$ 是由 $V_1$ 和 $V_2$ 导出的子图之间的桥，任何从 $s$ 到 $t$ 的路径都必须经过边 $(3,4)$。这意味着所有从 $s$ 到 $t$ 的最短路径也必须经过这条边。因此，对于任何这样的对，所有最短路径的集合与使用边 $(3,4)$ 的最短路径集合是相同的，这意味着 $\\sigma_{st}((3,4)) = \\sigma_{st}$。每个这样的对对总和的贡献是 $\\frac{\\sigma_{st}((3,4))}{\\sigma_{st}} = 1$。这样的对的数量是 $|V_1| \\times |V_2| = 3 \\times 3 = 9$。\n\n将所有对的贡献相加：\n$$C_{B}((3,4)) = \\sum_{s \\in V_1, t \\in V_2} 1 + \\sum_{\\{s,t\\} \\subset V_1} 0 + \\sum_{\\{s,t\\} \\subset V_2} 0 = 9$$\n\n接下来，我们确定 Girvan-Newman 算法第一步之后的连通分量数量 $k$。这需要找到具有最大边介数中心性的边并将其移除。我们已经计算出 $C_{B}((3,4))=9$。现在我们必须计算其他边的中心性。该图表现出我们可以利用的对称性。\n边集可以按对称性划分：\n- 桥边：$\\{(3,4)\\}$。\n- 连接到桥连接点的“辐条”边：$\\{(1,3), (2,3), (4,5), (4,6)\\}$。\n- 未连接到桥连接点的“外部”边：$\\{(1,2), (5,6)\\}$。\n\n根据对称性，$C_{B}((1,3)) = C_{B}((2,3))$ 并且 $C_{B}((4,5)) = C_{B}((4,6))$。此外，一个交换两个团（$1 \\leftrightarrow 5, 2 \\leftrightarrow 6, 3 \\leftrightarrow 4$）的全局对称性表明 $C_{B}((1,3)) = C_{B}((4,5))$ 并且 $C_{B}((1,2)) = C_{B}((5,6))$。因此，我们只需要计算 $C_{B}((1,3))$ 和 $C_{B}((1,2))$。\n\n计算 $C_{B}((1,2))$：对于顶点对 $\\{1,2\\}$，边 $(1,2)$ 构成了一条长度为 $1$ 的最短路径。对于任何其他顶点对 $\\{s,t\\}$，从 $s$ 到 $t$ 的任何最短路径都不会使用边 $(1,2)$，因为这将是一条绕路。例如，从 $3$ 到 $V_2$ 中任何节点的最短路径始于 $3 \\to 4$。以 $3 \\to 1 \\to 2$ 或 $3 \\to 2 \\to 1$ 开始的路径会更长。因此，只有顶点对 $\\{1,2\\}$ 对 $C_{B}((1,2))$ 有贡献。\n$C_{B}((1,2)) = \\frac{\\sigma_{12}((1,2))}{\\sigma_{12}} = \\frac{1}{1} = 1$。\n根据对称性，$C_B((5,6)) = 1$。\n\n计算 $C_{B}((1,3))$：对于任何顶点对 $\\{s,t\\}$，如果其中一个端点是 $1$ 且到另一个端点的最短路径经过 $3$，那么边 $(1,3)$ 就位于这条最短路径上。\n- 对于 $\\{1,3\\}$：最短路径是 $(1,3)$。贡献为 $1$。\n- 对于 $\\{1,4\\}$：唯一的最短路径是 $1 \\to 3 \\to 4$。它使用了 $(1,3)$。贡献为 $1$。\n- 对于 $\\{1,5\\}$：唯一的最短路径是 $1 \\to 3 \\to 4 \\to 5$。它使用了 $(1,3)$。贡献为 $1$。\n- 对于 $\\{1,6\\}$：唯一的最短路径是 $1 \\to 3 \\to 4 \\to 6$。它使用了 $(1,3)$。贡献为 $1$。\n对于任何其他对，例如 $\\{2,4\\}$，最短路径是 $2 \\to 3 \\to 4$，不使用 $(1,3)$。因此，总贡献为 $1+1+1+1=4$。\n$C_{B}((1,3)) = 4$。\n根据对称性，$C_{B}((2,3)) = C_{B}((4,5)) = C_{B}((4,6)) = 4$。\n\n所有边介数中心性总结如下：\n- $C_{B}((3,4)) = 9$\n- $C_{B}((1,3)) = C_{B}((2,3)) = C_{B}((4,5)) = C_{B}((4,6)) = 4$\n- $C_{B}((1,2)) = C_{B}((5,6)) = 1$\n\n最大的边介数中心性是 $9$，唯一对应于边 $(3,4)$。Girvan-Newman 算法的第一步是移除这条边。\n移除边 $(3,4)$ 会将图断开成两个独立的连通分量。第一个分量是由 $V_1=\\{1,2,3\\}$ 导出的子图，它是一个三角形，因此是连通的。第二个分量是由 $V_2=\\{4,5,6\\}$ 导出的子图，也是一个连通的三角形。在 $V_1$ 和 $V_2$ 之间没有剩余的边。\n因此，移除后连通分量的数量是 $k=2$。\n\n最终答案是二元行向量 $(C_{B}((3,4)),k) = (9,2)$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n9  2\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "虽然边介数的通用计算公式可能相当复杂，但在特定类型的图上，其计算可以被大大简化。本练习将探讨树形图这一特殊情况，由于不存在环路，任意两节点间仅有唯一路径。你将推导并应用一个更简洁的公式，从而体会到识别网络结构特性是提升问题解决效率的关键。",
            "id": "4309445",
            "problem": "考虑一个无向、无权、连通图 $G = (V, E)$ 以及用于社区发现的 Girvan–Newman (GN) 算法，该算法迭代地移除具有最高边介数中心性的边。一条边 $e \\in E$ 的边介数中心性 $C_{B}(e)$ 根据基本原理定义为，对于所有 $s \\neq t$ 的无序节点对 $\\{s, t\\} \\subset V$，经过 $e$ 的 $s$ 和 $t$ 之间的最短路径占所有 $s$ 和 $t$ 之间最短路径的比例的总和，即：\n$$\nC_{B}(e) = \\sum_{\\{s,t\\} \\subset V,\\, s \\neq t} \\frac{\\sigma_{st}(e)}{\\sigma_{st}},\n$$\n其中 $\\sigma_{st}$ 是 $s$ 和 $t$ 之间的最短路径数量，而 $\\sigma_{st}(e)$ 是这些最短路径中穿过 $e$ 的数量。\n\n设 $G$ 是一棵树，它是一个包含8个节点的路径图，节点标记为 $1, 2, 3, 4, 5, 6, 7, 8$，其边集为 $E = \\{\\{1,2\\}, \\{2,3\\}, \\{3,4\\}, \\{4,5\\}, \\{5,6\\}, \\{6,7\\}, \\{7,8\\}\\}$。仅使用 $C_{B}(e)$ 的定义以及“在一棵树中，任意两个不同节点之间有且仅有一条简单路径”这一性质，推导出 $C_{B}(\\{4,5\\})$ 的表达式，该表达式应使用移除边 $\\{4,5\\}$ 后得到的两个连通分量的大小来表示。然后，计算 $C_{B}(\\{4,5\\})$ 的精确数值。\n\n最后，通过显式地枚举 $G$ 中的最短路径并识别出那些穿过边 $\\{4,5\\}$ 的路径，来验证你计算出的值。将你的最终答案表示为一个无四舍五入、无单位的精确整数。",
            "solution": "问题陈述经过严格验证，确认有效。其科学基础在于网络科学和图论的原理，问题提法得当，提供了所有必要信息，且语言客观。该问题要求推导和计算路径图中特定边的边介数中心性，这是一项标准且明确定义的任务。\n\n在图 $G=(V, E)$ 中，一条边 $e$ 的边介数中心性 $C_B(e)$ 由以下公式给出：\n$$\nC_{B}(e) = \\sum_{\\{s,t\\} \\subset V,\\, s \\neq t} \\frac{\\sigma_{st}(e)}{\\sigma_{st}}\n$$\n其中 $\\sigma_{st}$ 是节点 $s$ 和 $t$ 之间的最短路径总数，而 $\\sigma_{st}(e)$ 是这些最短路径中经过边 $e$ 的数量。\n\n图 $G$ 被指定为一个包含8个节点的路径图，它是一种树。如问题中所述，任何树的一个关键性质是，任意两个不同节点之间存在且仅存在一条简单路径。在无权图中，最短路径是边数最少的路径。由于树不包含环，任意两节点间的唯一简单路径也就是唯一的最短路径。\n\n这个性质极大地简化了边介数的计算。对于树中的任意不同节点对 $\\{s, t\\}$，最短路径的数量总是 $\\sigma_{st} = 1$。将此代入通用公式可得：\n$$\nC_{B}(e) = \\sum_{\\{s,t\\} \\subset V,\\, s \\neq t} \\frac{\\sigma_{st}(e)}{1} = \\sum_{\\{s,t\\} \\subset V,\\, s \\neq t} \\sigma_{st}(e)\n$$\n此外，由于只有一条最短路径，$\\sigma_{st}(e)$ 的值只能是 $1$（如果从 $s$ 到 $t$ 的唯一路径穿过边 $e$）或 $0$（如果不穿过）。因此，$C_B(e)$ 简直就是它们之间的唯一最短路径包含边 $e$ 的无序节点对 $\\{s,t\\}$ 的总数。\n\n现在，我们在一般树中推导 $C_B(e)$ 的表达式。从树中移除任意一条边 $e$ 会将图分割成两个不相交的连通分量（它们本身也是树）。我们将其顶点集分别记为 $V_1$ 和 $V_2$。要使节点 $s$ 和节点 $t$ 之间的唯一最短路径穿过边 $e$，其充分必要条件是 $s$ 和 $t$ 属于不同的分量。也就是说，一个节点必须在 $V_1$ 中，另一个必须在 $V_2$ 中。\n\n此类节点对 $\\{s,t\\}$ 的总数是从 $V_1$ 中选择一个节点和从 $V_2$ 中选择一个节点的方法数。如果这些分量的大小为 $n_1 = |V_1|$ 和 $n_2 = |V_2|$，则此类节点对的数量是它们大小的乘积。因此，树中一条边 $e$ 的边介数中心性为：\n$$\nC_{B}(e) = n_1 \\times n_2\n$$\n这就是按要求从基本原理推导出的通用表达式。\n\n我们现在将此结果应用于具体问题。该图是包含8个节点的路径图，节点标记为1到8：$1-2-3-4-5-6-7-8$。所讨论的边是 $e = \\{4,5\\}$。\n移除边 $\\{4,5\\}$ 将图分成两个连通分量：\n\\begin{enumerate}\n    \\item 一个顶点集为 $V_1 = \\{1, 2, 3, 4\\}$ 的分量。\n    \\item 一个顶点集为 $V_2 = \\{5, 6, 7, 8\\}$ 的分量。\n\\end{enumerate}\n这些分量的大小为 $n_1 = |V_1| = 4$ 和 $n_2 = |V_2| = 4$。\n\n使用推导出的公式，我们计算边 $\\{4,5\\}$ 的边介数中心性的数值：\n$$\nC_{B}(\\{4,5\\}) = n_1 \\times n_2 = 4 \\times 4 = 16\n$$\n\n最后，我们通过显式地枚举其最短路径穿过边 $\\{4,5\\}$ 的节点对来验证这个结果。正如已确定的，这些是满足 $s \\in V_1 = \\{1, 2, 3, 4\\}$ 和 $t \\in V_2 = \\{5, 6, 7, 8\\}$ 的节点对 $\\{s, t\\}$。对于每一个这样的节点对， $s$ 和 $t$ 之间的唯一最短路径必须穿过连接两个分量的“桥”边 $\\{4,5\\}$。\n我们可以系统地计算这些节点对：\n\\begin{itemize}\n    \\item 源节点 $s$ 可以是 $V_1$ 中的任意 4 个节点之一。\n    \\item 目标节点 $t$ 可以是 $V_2$ 中的任意 4 个节点之一。\n\\end{itemize}\n这种有序对 $(s, t)$ 的总数是 $4 \\times 4 = 16$。由于 $C_B(e)$ 的定义是对无序对 $\\{s,t\\}$求和，这对应于16个唯一的节点对。对于这16个节点对中的每一个，$\\frac{\\sigma_{st}(\\{4,5\\})}{\\sigma_{st}} = \\frac{1}{1} = 1$ 这一项成立。\n对于任何两个节点都在 $V_1$ 中（例如 $\\{1,3\\}$）或都在 $V_2$ 中（例如 $\\{6,8\\}$）的节点对 $\\{s,t\\}$，它们之间的路径不穿过 $\\{4,5\\}$。对于这些节点对，$\\sigma_{st}(\\{4,5\\}) = 0$，所以它们对总和的贡献是 $0$。\n因此，总和是16个等于1的项之和，所有其他项都为0：\n$$\nC_{B}(\\{4,5\\}) = 16 \\times 1 + (\\text{所有其他对}) \\times 0 = 16\n$$\n显式枚举证实了我们的计算。",
            "answer": "$$\\boxed{16}$$"
        },
        {
            "introduction": "现实世界中的网络常常充满冗余和多重路径，这会使社群发现变得更加复杂。这个进阶问题将分析一个由平行路径连接的两个社群网络，这种情况会在最短路径计数中产生平局。通过分析此场景，你将探索 Girvan-Newman 算法的分辨率极限，并理解网络拓扑特征如何可能导致与直觉相悖的结果。",
            "id": "4309282",
            "problem": "考虑一个按如下方式构造的无向、无权、简单图。设 $A=\\{a_1,a_2,a_3,a_4\\}$ 和 $B=\\{b_1,b_2,b_3,b_4\\}$ 是两个不相交的完全图 $K_4$ 的顶点集。指定 $u \\in A$ 和 $v \\in B$。在 $u$ 和 $v$ 之间添加两条内部不相交的简单路径 $P_1$ 和 $P_2$，每条路径恰好包含 $\\ell$ 条边（因此有 $\\ell-1$ 个不属于 $A \\cup B$ 的内部顶点），其中 $\\ell \\geq 1$。除了构成 $P_1$ 和 $P_2$ 的边之外，$A$ 和 $B$ 之间不存在其他边。所有边的长度均为单位长度。使用边介数中心性 $C_B(e)$ 的标准定义，即对于所有无序顶点对，遍历边 $e$ 的最短路径占其总最短路径数的分数之和，确定位于 $P_1$ 或 $P_2$ 上的任意边 $e$ 的 $C_B(e)$ 的精确值。然后，使用您计算出的值，解释这对 Girvan–Newman (GN) 算法的第一步边移除操作意味着什么，包括候选边之间如何出现平局，以及移除这样一条边对后续边介数值的影响。将 $C_B(e)$ 的值表示为精确数；无需四舍五入。",
            "solution": "该问题要求计算一个构造图中特定边 $e$ 的边介数中心性 $C_B(e)$，并分析 Girvan–Newman (GN) 算法在此图上的第一步。\n\n首先，我们来形式化图 $G=(V, E)$ 的结构。顶点集为 $V = A \\cup B \\cup V_{P_1} \\cup V_{P_2}$，其中：\n- $A=\\{a_1, a_2, a_3, a_4\\}$ 和 $B=\\{b_1, b_2, b_3, b_4\\}$ 是构成两个不相交的完全图 $K_4$ 的顶点集。\n- 设 $u \\in A$ 和 $v \\in B$ 为指定的连接点。\n- $P_1$ 和 $P_2$ 是连接 $u$ 和 $v$ 的两条长度为 $\\ell \\ge 1$ 的简单路径。它们是内部不相交的，意味着它们只共享端点 $u$ 和 $v$。\n- $V_{P_1}$ 和 $V_{P_2}$ 分别是路径 $P_1$ 和 $P_2$ 上的 $\\ell-1$ 个内部顶点的集合。这些集合彼此不相交，也与 $A \\cup B$ 不相交。\n\n一条边 $e$ 的边介数中心性定义为 $C_B(e) = \\sum_{s,t \\in V, s \\neq t} \\frac{\\sigma_{st}(e)}{\\sigma_{st}}$，其中 $\\sigma_{st}$ 是顶点 $s$ 和 $t$ 之间的最短路径总数，而 $\\sigma_{st}(e)$ 是这些最短路径中经过边 $e$ 的数量。求和是对所有不重复的无序顶点对进行的。所有边的权重为 $1$。\n\n问题要求计算位于路径 $P_1$ 或 $P_2$ 上的任意边 $e$ 的 $C_B(e)$ 值。根据构造的对称性， $P_1$ 和 $P_2$ 上的所有边都将具有相同的介数中心性。我们选择路径 $P_1$ 上的一条任意边 $e$。\n\n路径 $P_1$ 上的边 $e$ 充当了顶点集 $A$ 和 $B$ 之间的桥梁的一部分。一对顶点 $(s, t)$ 之间的最短路径只有在必须连接社群 $A$ 中的一个顶点和社群 $B$ 中的一个顶点时，才会穿过 $e$。\n我们来考虑可能的顶点对 $(s, t)$：\n1.  如果 $s, t$ 均在 $A$ 中，最短路径是长度为 $1$ 的边 $(s,t)$，该路径完全位于由 $A$ 导出的子图内。它不使用 $e$。\n2.  如果 $s, t$ 均在 $B$ 中，最短路径是长度为 $1$ 的边 $(s,t)$，该路径完全位于由 $B$ 导出的子图内。它不使用 $e$。\n3.  如果一个顶点在 $A \\cup B$ 中，另一个是某条路径上的内部顶点，那么最短路径不会从 $A$ 穿到 $B$（反之亦然）。例如，对于 $s \\in A$ 和 $P_1$ 上的一个顶点 $p$，最短路径是 $s \\to \\dots \\to u \\to \\dots \\to p$。它不需要走到 $B$。\n4.  因此，对于 $e \\in P_1$ 的 $C_B(e)$ 的非零贡献只能来自于其中一个顶点在 $A$ 中、另一个在 $B$ 中的顶点对 $(s, t)$。\n\n我们来分析一个普通的顶点对 $(s,t)$，其中 $s \\in A$ 且 $t \\in B$。任何从 $s$ 到 $t$ 的路径都必须穿过 $u$ 和 $v$ 之间的连接。任何 $s \\in A$ 到 $u$ 的距离是 $d_A(s,u)$，如果 $s=u$ 则为 $0$，如果 $s \\neq u$ 则为 $1$（因为 $A$ 导出 $K_4$）。同样地，任何 $t \\in B$ 到 $v$ 的距离是 $d_B(t,v)$，如果 $t=v$ 则为 $0$，如果 $t \\neq v$ 则为 $1$。路径 $P_1$ 和 $P_2$ 是 $u$ 和 $v$ 之间的唯二连接，且长度均为 $\\ell$。\n因此，$s$ 和 $t$ 之间的最短路径长度为 $d(s,t) = d_A(s,u) + \\ell + d_B(t,v)$。\n对于任何这样的顶点对 $(s,t)$，恰好有两条最短路径：\n- 一条路径在 $A$ 内部从 $s$ 到 $u$，然后沿 $P_1$ 从 $u$ 到 $v$，最后在 $B$ 内部从 $v$ 到 $t$。\n- 另一条路径与此相同，只是它沿 $P_2$ 从 $u$ 到 $v$。\n\n所以，对于任何 $s \\in A$ 和 $t \\in B$ 的顶点对 $(s,t)$，最短路径的数量为 $\\sigma_{st} = 2$。\n我们选择的边 $e$ 位于 $P_1$ 上。对于任何 $s \\in A$ 和 $t \\in B$ 的顶点对 $(s,t)$，两条最短路径中恰好有一条（即使用 $P_1$ 的那条）会穿过 $e$。因此，$\\sigma_{st}(e) = 1$。\n每个这样的顶点对对 $C_B(e)$ 的贡献是 $\\frac{\\sigma_{st}(e)}{\\sigma_{st}} = \\frac{1}{2}$。\n\n为了计算总介数值 $C_B(e)$，我们将这些贡献对所有这样的顶点对求和。其中 $s \\in A$ 和 $t \\in B$ 的无序顶点对 $\\{s,t\\}$ 的数量是 $|A| \\times |B| = 4 \\times 4 = 16$。\n所以，路径 $P_1$ （或 $P_2$）上任意边 $e$ 的边介数中心性是：\n$$C_B(e) = \\sum_{s \\in A, t \\in B} \\frac{\\sigma_{st}(e)}{\\sigma_{st}} = 16 \\times \\frac{1}{2} = 8$$\n这个值是一个精确数，并且与路径长度 $\\ell$ 无关。\n\n现在，我们来分析这对 Girvan–Newman (GN) 算法的影响。GN 迭代地移除具有最高介数中心性的边。我们必须将路径 $P_1, P_2$ 上的 $2\\ell$ 条边的 $C_B(e) = 8$ 这个值与 $K_4$ 社群内部边的介数值进行比较。不失一般性，我们假设 $u=a_1$ 和 $v=b_1$。\n\n在 $A$ 中存在两种类型的社群内边：\n1.  不与 $u=a_1$ 相邻的边。例如：$e'=(a_2, a_3)$。穿过这条边的唯一最短路径是其端点之间的路径，即 $(a_2, a_3)$。对于任何其他顶点对，最短路径要么是一条直连边，要么会通过 $a_1$ 到达另一个社群，从而避开 $(a_2,a_3)$。因此，$C_B(e') = \\frac{\\sigma_{a_2,a_3}(e')}{\\sigma_{a_2,a_3}} = \\frac{1}{1} = 1$。\n2.  与 $u=a_1$ 相邻的边。例如：$e''=(a_1, a_2)$。\n    - 顶点对 $(a_1, a_2)$ 贡献了 $1$。\n    - 考虑顶点对 $(a_2, t)$，其中 $t \\in B$。这样的顶点有 $|B|=4$ 个。从 $a_2$ 到任意 $t \\in B$ 的最短路径形式为 $a_2 \\to a_1 \\to \\dots \\to t$。两条最短路径（经由 $P_1$ 和 $P_2$）都使用了边 $(a_1, a_2)$。因此，对于这 $4$ 个顶点对中的每一个，$\\sigma_{a_2,t}(e'')=2$ 且 $\\sigma_{a_2,t}=2$，贡献为 $4 \\times \\frac{2}{2} = 4$。\n    - 考虑顶点对 $(a_2, t)$，其中 $t$ 是路径上 $2(\\ell-1)$ 个内部顶点之一。唯一的最短路径是 $a_2 \\to a_1 \\to \\dots \\to t$，它穿过 $(a_1, a_2)$。这贡献了 $2(\\ell-1) \\times \\frac{1}{1} = 2\\ell-2$。\n    - 没有其他顶点对有贡献。例如，从 $a_3$ 到 $B$ 的一条最短路径是 $a_3 \\to a_1 \\to \\dots$，不使用 $(a_1, a_2)$。\n    - 将这些贡献相加：$C_B(e'') = 1 + 4 + (2\\ell-2) = 2\\ell+3$。\n\nGN 第一步中待移除的候选边是那些具有最大介数值的边。我们必须比较桥边（介数值为 $8$）和与网关节点相邻的边（介数值为 $2\\ell+3$）的介数值。\n最大介数值为 $\\max(8, 2\\ell+3)$。\n我们根据 $\\ell \\ge 1$ 的值来分析：\n- 如果 $2\\ell+3  8 \\implies 2\\ell  5 \\implies \\ell  2.5$。由于 $\\ell$ 是整数，这对应于 $\\ell=1$ 或 $\\ell=2$。\n  - 对于 $\\ell=1$ 或 $\\ell=2$，最大介数值是 $8$。得分最高的边是路径 $P_1$ 和 $P_2$ 上的 $2\\ell$ 条边。在最高介数值的边中存在一个 $2\\ell$ 路平局。GN 会随机选择其中一条桥边进行移除。移除这样一条边，比如 $e_1 \\in P_1$，将迫使所有先前使用 $P_1$ 的最短路径重新路由（如果可能）或变长。在这个图中， $A$ 和 $B$ 之间的路径仍然可以通过 $P_2$ 和 $P_1$ 的剩余部分存在。如果 $\\ell > 1$，从 $P_1$ 移除一条边后，路径 $P_1$ 被破坏，因此所有从 $A$ 到 $B$ 的 16 对最短路径现在都只使用 $P_2$。$P_2$ 上每条边的介数值将从 $8$ 增加到 $16$。GN 接着会移除 $P_2$ 上的边，从而正确地识别并分离两个社群。如果 $\\ell=1$，移除 $P_1$ 的单条边有类似的效果。这一结果与社群检测的目标一致。\n- 如果 $2\\ell+3 > 8 \\implies \\ell > 2.5$。由于 $\\ell$ 是整数，这对应于 $\\ell \\ge 3$。\n  - 对于 $\\ell \\ge 3$，最大介数值是 $2\\ell+3$。得分最高的边是那些在各自社群内与网关节点 $u$ 和 $v$ 相邻的边。在我们的特定设置中，这些边是社群 $A$ 中的 $(a_1,a_2), (a_1,a_3), (a_1,a_4)$ 和社群 $B$ 中的 $(b_1,b_2), (b_1,b_3), (b_1,b_4)$。存在一个 $6$ 路平局。\n  - GN 会移除其中一条社群内边，例如 $(a_1, a_2)$。这在概念上是算法第一步的失败，因为它开始时是将一个节点从其自身社群的网关断开，而不是分裂两个明显的社群。移除 $(a_1, a_2)$ 将迫使 $a_2$ 和社群 $B$ 之间的所有通信重新路由，例如，通过 $a_2 \\to a_3 \\to a_1 \\to \\dots$，这会增加路径长度并以复杂的方式改变剩余边的介数中心性。社群 $A$ 和 $B$ 的清晰分离不会是直接结果。\n\n总之，桥边和与网关相邻的边之间对最高介数中心性的竞争取决于连接路径的长度 $\\ell$。对于短桥（$\\ell=1, 2$），GN 按预期工作。对于长桥（$\\ell \\ge 3$），该算法反常地首先切断节点与其自身社群核心连接点的连接。",
            "answer": "$$\n\\boxed{8}\n$$"
        }
    ]
}