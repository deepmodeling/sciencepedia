{
    "hands_on_practices": [
        {
            "introduction": "模块度（Modularity）是衡量网络社区结构强度的一个核心指标。这个基础练习将指导你直接应用模块度公式，为一个给定的网络划分计算其模块度得分 。通过这个实践，你将建立起对模块度如何工作的直观理解，即它如何将社区内部的连接紧密程度与一个随机网络中的期望值进行比较。",
            "id": "4269433",
            "problem": "考虑一个带权无向网络，其节点标记为 $1,2,3,4,5$，且无自环。其带权邻接矩阵 $W=\\big(w_{ij}\\big)$ 是对称的，由下式给出\n$$\nW \\;=\\;\n\\begin{pmatrix}\n0  3  1  2  0 \\\\\n3  0  2  1  1 \\\\\n1  2  0  0  2 \\\\\n2  1  0  0  4 \\\\\n0  1  2  4  0\n\\end{pmatrix}.\n$$\n一个提议的社群分配方案将节点分为两组：节点 $1,2,3$ 在社群 $\\mathcal{A}$ 中，节点 $4,5$ 在社群 $\\mathcal{B}$ 中。令 $g_i$ 表示节点 $i$ 的社群标签，令 $\\delta(g_i,g_j)$ 表示一个指示函数，当 $g_i=g_j$ 时其值为 $1$，否则为 $0$。\n\n使用基于配置模型零模型和分辨率参数 $\\gamma=1$ 的带权无向网络模块度标准定义，计算给定划分的模块度 $Q$。在你的计算中，必须明确说明每一项是如何得出的，包括指示函数 $\\delta(g_i,g_j)$、观测到的边权重 $w_{ij}$、节点强度和总权重的角色。最终答案必须是一个实数。不要四舍五入；请给出精确值。",
            "solution": "该问题要求计算一个带权无向网络中给定划分的模块度 $Q$。对于带有分辨率参数 $\\gamma$ 的带权网络，模块度的标准定义由以下公式给出：\n$$\nQ = \\frac{1}{2m} \\sum_{i=1}^{N} \\sum_{j=1}^{N} \\left[ w_{ij} - \\gamma \\frac{k_i k_j}{2m} \\right] \\delta(g_i, g_j)\n$$\n其中：\n- $N$ 是网络中的节点数，为 $5$。\n- $w_{ij}$ 是节点 $i$ 和节点 $j$ 之间边的权重，由邻接矩阵 $W$ 给出。\n- $k_i$ 是节点 $i$ 的强度，定义为与其连接的所有边的权重之和：$k_i = \\sum_{j=1}^{N} w_{ij}$。\n- $m$ 是网络中所有边的总权重。对于一个无向网络，其值为 $m = \\frac{1}{2} \\sum_{i,j} w_{ij} = \\frac{1}{2} \\sum_{i} k_i$。\n- $g_i$ 是节点 $i$ 被分配到的社群。\n- $\\delta(g_i, g_j)$ 是克罗内克 delta 函数，如果节点 $i$ 和 $j$ 在同一个社群中 ($g_i = g_j$)，其值为 $1$，否则为 $0$。该函数的作用是将求和限制在同一社群内的节点对。\n- $\\gamma$ 是分辨率参数，给定为 $\\gamma=1$。\n\n项 $w_{ij}$ 表示节点 $i$ 和 $j$ 之间边的观测权重。项 $\\frac{k_i k_j}{2m}$ 表示在一个与观测网络具有相同节点强度分布的随机网络（配置模型）中，节点 $i$ 和 $j$ 之间边的期望权重。因此，模块度衡量的是观测到的社群内部边权重超出其期望值的程度。\n\n首先，我们从给定的带权邻接矩阵 $W$ 中计算必要的量：\n$$\nW \\;=\\;\n\\begin{pmatrix}\n0  3  1  2  0 \\\\\n3  0  2  1  1 \\\\\n1  2  0  0  2 \\\\\n2  1  0  0  4 \\\\\n0  1  2  4  0\n\\end{pmatrix}\n$$\n\n每个节点 $i$ 的强度 $k_i$ 是 $W$ 中对应行（或列）的和：\n$k_1 = 0+3+1+2+0 = 6$\n$k_2 = 3+0+2+1+1 = 7$\n$k_3 = 1+2+0+0+2 = 5$\n$k_4 = 2+1+0+0+4 = 7$\n$k_5 = 0+1+2+4+0 = 7$\n\n所有边的总权重 $m$ 是所有节点强度之和的一半：\n$$\nm = \\frac{1}{2} \\sum_{i=1}^{5} k_i = \\frac{1}{2}(6+7+5+7+7) = \\frac{1}{2}(32) = 16\n$$\n或者，$m$ 是 $W$ 上三角矩阵中权重的总和：$m = 3+1+2+2+1+1+2+4 = 16$。\n\n给定的划分是：\n- 社群 $\\mathcal{A} = \\{1, 2, 3\\}$\n- 社群 $\\mathcal{B} = \\{4, 5\\}$\n\n模块度公式可以重写为对社群的求和。因为对于不同社群中的节点对，$\\delta(g_i, g_j)$ 项为零，所以求和可以被拆分：\n$$\nQ = \\sum_c \\left( \\frac{1}{2m} \\sum_{i \\in c, j \\in c} \\left[ w_{ij} - \\gamma \\frac{k_i k_j}{2m} \\right] \\right)\n$$\n这可以进一步简化为：\n$$\nQ = \\sum_c \\left[ \\frac{m_c}{m} - \\gamma \\left( \\frac{K_c}{2m} \\right)^2 \\right]\n$$\n其中：\n- $m_c = \\frac{1}{2} \\sum_{i \\in c, j \\in c} w_{ij}$ 是社群 $c$ 内部两端点均在其中的边的权重之和。\n- $K_c = \\sum_{i \\in c} k_i$ 是社群 $c$ 中所有节点强度之和。\n\n让我们为每个社群计算这些量。\n\n对于社群 $\\mathcal{A} = \\{1, 2, 3\\}$：\n内部边的权重为 $w_{12}=3$，$w_{13}=1$ 和 $w_{23}=2$。\n内部权重之和为 $m_{\\mathcal{A}} = w_{12} + w_{13} + w_{23} = 3+1+2 = 6$。\n节点强度之和为 $K_{\\mathcal{A}} = k_1 + k_2 + k_3 = 6+7+5 = 18$。\n\n对于社群 $\\mathcal{B} = \\{4, 5\\}$：\n内部边的权重为 $w_{45}=4$。\n内部权重之和为 $m_{\\mathcal{B}} = w_{45} = 4$。\n节点强度之和为 $K_{\\mathcal{B}} = k_4 + k_5 = 7+7 = 14$。\n\n现在我们可以计算每个社群对总模块度 $Q$ 的贡献，其中 $\\gamma=1$：\n来自 $\\mathcal{A}$ 的贡献：\n$$\nQ_{\\mathcal{A}} = \\frac{m_{\\mathcal{A}}}{m} - \\left( \\frac{K_{\\mathcal{A}}}{2m} \\right)^2 = \\frac{6}{16} - \\left( \\frac{18}{2 \\times 16} \\right)^2 = \\frac{6}{16} - \\left( \\frac{18}{32} \\right)^2 = \\frac{3}{8} - \\left( \\frac{9}{16} \\right)^2\n$$\n$$\nQ_{\\mathcal{A}} = \\frac{3}{8} - \\frac{81}{256} = \\frac{3 \\times 32}{8 \\times 32} - \\frac{81}{256} = \\frac{96}{256} - \\frac{81}{256} = \\frac{15}{256}\n$$\n\n来自 $\\mathcal{B}$ 的贡献：\n$$\nQ_{\\mathcal{B}} = \\frac{m_{\\mathcal{B}}}{m} - \\left( \\frac{K_{\\mathcal{B}}}{2m} \\right)^2 = \\frac{4}{16} - \\left( \\frac{14}{2 \\times 16} \\right)^2 = \\frac{4}{16} - \\left( \\frac{14}{32} \\right)^2 = \\frac{1}{4} - \\left( \\frac{7}{16} \\right)^2\n$$\n$$\nQ_{\\mathcal{B}} = \\frac{1}{4} - \\frac{49}{256} = \\frac{1 \\times 64}{4 \\times 64} - \\frac{49}{256} = \\frac{64}{256} - \\frac{49}{256} = \\frac{15}{256}\n$$\n\n总模块度 $Q$ 是这些贡献的总和：\n$$\nQ = Q_{\\mathcal{A}} + Q_{\\mathcal{B}} = \\frac{15}{256} + \\frac{15}{256} = \\frac{30}{256}\n$$\n化简分数得到：\n$$\nQ = \\frac{15}{128}\n$$",
            "answer": "$$\\boxed{\\frac{15}{128}}$$"
        },
        {
            "introduction": "为一个*给定*的划分计算模块度，与*寻找*最佳划分是两个不同的问题。这个练习介绍了一种强大的算法——谱方法（spectral method），它为模块度最大化这个NP难问题提供了一个有效的近似解 。该实践将模块度这一抽象概念与线性代数的具体工具联系起来，展示了模块度矩阵的主特征向量如何揭示网络中最显著的二分结构。",
            "id": "4269492",
            "problem": "给定一个无向、无权、简单图，其邻接矩阵为 $A \\in \\mathbb{R}^{n \\times n}$，度序列为 $\\{k_i\\}_{i=1}^{n}$，总边数为 $m = \\frac{1}{2}\\sum_{i=1}^{n} k_i$。将节点划分为社群的划分 $\\{c_i\\}_{i=1}^{n}$ 的模块度 $Q$ 由标准表达式定义\n$$\nQ \\equiv \\frac{1}{2m}\\sum_{i=1}^{n}\\sum_{j=1}^{n}\\left(A_{ij} - \\frac{k_i k_j}{2m}\\right)\\,\\delta(c_i, c_j),\n$$\n其中 $\\delta(c_i, c_j)$ 是指示节点 $i$ 和 $j$ 是否属于同一社群的指示函数。\n\n任务：\n- 仅从上述定义以及邻接、度、总边数的概念出发，推导在二分这种特殊情况下 $Q$ 的二次型表示。用一个二元分配向量 $s \\in \\{-1, +1\\}^{n}$ 和一个由 $A$ 及 $\\{k_i\\}$ 构建的对称矩阵来表示它，并解释为什么对 $s$ 最大化 $Q$ 的问题可以通过将 $s$ 松弛为一个实向量并求解一个特征值问题来近似解决。从第一性原理证明每一步。\n- 然后，将此谱松弛方法应用于以下具有邻接矩阵的 $n = 6$ 个节点的图\n$$\nA \\;=\\; \\begin{pmatrix}\n0  1  1  0  0  0\\\\\n1  0  1  0  0  0\\\\\n1  1  0  1  0  0\\\\\n0  0  1  0  1  1\\\\\n0  0  0  1  0  1\\\\\n0  0  0  1  1  0\n\\end{pmatrix}.\n$$\n计算度序列 $\\{k_i\\}_{i=1}^{6}$ 和 $m$。构建相应的模块度矩阵，确定一个适合通过符号法则产生二分的主特征向量，并给出最终的二分结果。最后，直接根据定义公式计算该二分的模块度 $Q$。\n\n给出谱松弛方法产生的二分的 $Q$ 的精确值作为最终答案。不要四舍五入，请提供一个精确的有理数。",
            "solution": "该问题要求推导用于二分的模块度的二次型，解释其谱松弛方法，并将此方法应用于一个特定的图。我们将依次解决每个部分。\n\n### 第1部分：二次型的推导与谱松弛\n\n对于一个给定的网络划分，模块度 $Q$ 定义为：\n$$\nQ = \\frac{1}{2m}\\sum_{i=1}^{n}\\sum_{j=1}^{n}\\left(A_{ij} - \\frac{k_i k_j}{2m}\\right)\\,\\delta(c_i, c_j)\n$$\n其中 $m$ 是总边数，$A_{ij}$ 是邻接矩阵的元素，$k_i$ 是节点 $i$ 的度，$\\delta(c_i, c_j)$ 是克罗内克δ函数，当节点 $i$ 和 $j$ 在同一个社群时为1，否则为0。\n\n对于二分，节点被分成两个社群。我们可以使用一个向量 $s \\in \\mathbb{R}^n$ 来表示这个划分，其中如果节点 $i$ 在第一个社群，则 $s_i = +1$；如果在第二个社群，则 $s_i = -1$。\n\n通过这种表示，两个节点 $i$ 和 $j$ 在同一社群中当且仅当 $s_i = s_j$，这意味着 $s_i s_j = 1$。它们在不同社群中如果 $s_i \\neq s_j$，这意味着 $s_i s_j = -1$。因此，指示函数 $\\delta(c_i, c_j)$ 可以用 $s$ 的分量表示为：\n$$\n\\delta(c_i, c_j) = \\frac{1 + s_i s_j}{2}\n$$\n当 $s_i s_j = 1$ 时，此表达式的值为1；当 $s_i s_j = -1$ 时，值为0，符合要求。\n\n将此代入模块度的定义中：\n$$\nQ = \\frac{1}{2m}\\sum_{i,j}\\left(A_{ij} - \\frac{k_i k_j}{2m}\\right)\\frac{1 + s_i s_j}{2}\n$$\n我们可以将求和分成两部分：\n$$\nQ = \\frac{1}{4m}\\sum_{i,j}\\left(A_{ij} - \\frac{k_i k_j}{2m}\\right) + \\frac{1}{4m}\\sum_{i,j}\\left(A_{ij} - \\frac{k_i k_j}{2m}\\right)s_i s_j\n$$\n我们来分析第一项。邻接矩阵中所有元素的和是 $\\sum_{i,j} A_{ij} = \\sum_i k_i = 2m$。随机图零模型中各项的和是 $\\sum_{i,j} \\frac{k_i k_j}{2m} = \\frac{1}{2m}(\\sum_i k_i)(\\sum_j k_j) = \\frac{1}{2m}(2m)(2m) = 2m$。因此，第一项为：\n$$\n\\frac{1}{4m}\\left(\\sum_{i,j} A_{ij} - \\sum_{i,j} \\frac{k_i k_j}{2m}\\right) = \\frac{1}{4m}(2m - 2m) = 0\n$$\n模块度表达式简化为第二项：\n$$\nQ = \\frac{1}{4m}\\sum_{i,j}\\left(A_{ij} - \\frac{k_i k_j}{2m}\\right)s_i s_j\n$$\n这是一个二次型。我们定义模块度矩阵 $B$，它是一个对称矩阵，其元素为：\n$$\nB_{ij} = A_{ij} - \\frac{k_i k_j}{2m}\n$$\n用这个矩阵和向量 $s$ 表示，模块度 $Q$ 是：\n$$\nQ = \\frac{1}{4m} s^T B s\n$$\n对于二分问题，最大化模块度等价于在所有可能的向量 $s \\in \\{-1, +1\\}^n$ 上最大化 $s^T B s$。这是一个整数二次规划问题，通常是NP难的。\n\n为了找到一个近似解，我们采用谱松弛方法。将离散约束 $s_i \\in \\{-1, +1\\}$ 松弛为连续约束。我们寻求对一个实向量 $s$ 最大化 $s^T B s$。为了使问题良定义（因为二次型的值随 $s$ 的范数伸缩），我们对 $s$ 的范数施加一个约束，例如，它是一个单位向量 $\\|s\\|=1$，或者更方便地，$\\sum_i s_i^2 = n$。后者与原始离散问题中 $\\sum_i s_i^2 = \\sum_i (\\pm 1)^2 = n$ 的情况一致。\n\n问题变为：在约束 $s^T s = n$ 下最大化 $s^T B s$。根据瑞利-里兹定理，瑞利商 $\\frac{s^T B s}{s^T s}$ 的最大值是矩阵 $B$ 的最大特征值，并且当 $s$ 是对应的特征向量时达到这个最大值。所以，最优的连续向量 $s$ 与 $B$ 的最大特征值 $\\lambda_1$ 相关的特征向量 $u_1$ 成正比。\n\n一旦找到这个实值特征向量 $u_1$，我们必须恢复一个离散的划分向量。一种常见且有效的启发式方法是根据 $u_1$ 各分量的符号来分配社群。也就是说，我们定义离散划分向量 $\\hat{s}$ 为：\n$$\n\\hat{s}_i = \\text{sign}(u_{1,i})\n$$\n其中 $u_{1,i}$ 是特征向量 $u_1$ 的第 $i$ 个分量。如果任何 $u_{1,i} = 0$，该节点的分配是不明确的，可以任意分配，尽管这种情况不常见。得到的向量 $\\hat{s}$ 提供了近似最优的二分。\n\n### 第2部分：应用于给定图\n\n该图由 $n=6$ 个节点的邻接矩阵定义：\n$$\nA = \\begin{pmatrix}\n0  1  1  0  0  0\\\\\n1  0  1  0  0  0\\\\\n1  1  0  1  0  0\\\\\n0  0  1  0  1  1\\\\\n0  0  0  1  0  1\\\\\n0  0  0  1  1  0\n\\end{pmatrix}\n$$\n首先，我们通过对 $A$ 的行求和来计算度序列 $\\{k_i\\}_{i=1}^{6}$：\n$k_1 = 2$, $k_2 = 2$, $k_3 = 3$, $k_4 = 3$, $k_5 = 2$, $k_6 = 2$。\n总边数 $m$ 是：\n$$\nm = \\frac{1}{2}\\sum_{i=1}^{6} k_i = \\frac{1}{2}(2+2+3+3+2+2) = \\frac{14}{2} = 7\n$$\n接下来，我们构建模块度矩阵 $B = A - \\frac{k k^T}{2m}$。我们有 $2m=14$ 和 $k=(2, 2, 3, 3, 2, 2)^T$。\n$$\n\\frac{k k^T}{14} = \\frac{1}{14} \\begin{pmatrix}\n4  4  6  6  4  4 \\\\\n4  4  6  6  4  4 \\\\\n6  6  9  9  6  6 \\\\\n6  6  9  9  6  6 \\\\\n4  4  6  6  4  4 \\\\\n4  4  6  6  4  4\n\\end{pmatrix}\n$$\n$$\nB = A - \\frac{k k^T}{14} = \\frac{1}{14} \\left( 14A - k k^T \\right) = \\frac{1}{14} \\begin{pmatrix}\n-4  10  8  -6  -4  -4 \\\\\n10  -4  8  -6  -4  -4 \\\\\n8  8  -9  5  -6  -6 \\\\\n-6  -6  5  -9  8  8 \\\\\n-4  -4  -6  8  -4  10 \\\\\n-4  -4  -6  8  10  -4\n\\end{pmatrix}\n$$\n为了找到 $B$ 的主特征向量，我们找到缩放后矩阵 $M = 14B$ 的主特征向量。图的结构暗示了一个划分为 $\\{1,2,3\\}$ 和 $\\{4,5,6\\}$。这对应于一个特征向量 $u$，其中 $u_1, u_2, u_3$ 有一种符号，而 $u_4, u_5, u_6$ 有相反的符号。由于图的对称性（$1 \\leftrightarrow 4$, $2 \\leftrightarrow 5$, $3 \\leftrightarrow 6$ 不是一个对称，但 $1 \\leftrightarrow 2$, $5 \\leftrightarrow 6$ 是，并且二分结构暗示了 $i \\leftrightarrow 7-i$ 带有符号翻转），我们测试一个形式为 $u = (a, a, c, -c, -a, -a)^T$ 的特征向量。将 $M$ 应用于 $u$：\n$$\nMu = \\begin{pmatrix} 14a + 14c \\\\ 14a + 14c \\\\ 28a - 14c \\\\ -28a + 14c \\\\ -14a - 14c \\\\ -14a - 14c \\end{pmatrix} = \\lambda' \\begin{pmatrix} a \\\\ a \\\\ c \\\\ -c \\\\ -a \\\\ -a \\end{pmatrix}\n$$\n这给出了关于 $M$ 的分量和特征值 $\\lambda'$ 的方程组：\n1. $\\lambda' a = 14a + 14c$\n2. $\\lambda' c = 28a - 14c$\n由(1)式， $c = \\frac{\\lambda'-14}{14}a$。代入(2)式：\n$$\n\\lambda' \\left( \\frac{\\lambda'-14}{14}a \\right) = 28a - 14 \\left( \\frac{\\lambda'-14}{14}a \\right)\n$$\n假设 $a \\neq 0$ 并除以 $a$：\n$$\n\\frac{\\lambda'(\\lambda'-14)}{14} = 28 - (\\lambda'-14) = 42 - \\lambda'\n$$\n$$\n\\lambda'^2 - 14\\lambda' = 14(42 - \\lambda') = 588 - 14\\lambda'\n$$\n$$\n\\lambda'^2 = 588 \\implies \\lambda' = \\pm\\sqrt{588} = \\pm 14\\sqrt{3}\n$$\n$B$ 的特征值为 $\\lambda = \\lambda'/14 = \\pm \\sqrt{3}$。最大特征值为 $\\lambda_1 = \\sqrt{3}$。\n对应的特征向量有 $c = \\frac{14\\sqrt{3}-14}{14}a = (\\sqrt{3}-1)a$。\n选择 $a=1$，我们得到 $c = \\sqrt{3}-1$。该特征向量与 $u_1 \\propto (1, 1, \\sqrt{3}-1, -(\\sqrt{3}-1), -1, -1)^T$ 成正比。\n由于 $\\sqrt{3} \\approx 1.732$，$\\sqrt{3}-1 > 0$。各分量的符号为：\n$$\n\\text{sign}(u_{1,i}) = (+, +, +, -, -, -)\n$$\n这定义了二分：社群1, $C_1 = \\{1, 2, 3\\}$，和社群2, $C_2 = \\{4, 5, 6\\}$。\n\n最后，我们计算这个划分的模块度 $Q$。该公式可以写成：\n$$\nQ = \\sum_{c} \\left[ \\frac{L_c}{m} - \\left(\\frac{K_c}{2m}\\right)^2 \\right]\n$$\n其中 $L_c$ 是完全在社群 $c$ 内部的边数，而 $K_c$ 是社群 $c$ 中节点的度之和。\n对于社群 $C_1 = \\{1, 2, 3\\}$：\n内部边是 $(1,2)$, $(1,3)$, 和 $(2,3)$。所以，$L_{C_1} = 3$。\n度的总和是 $K_{C_1} = k_1+k_2+k_3 = 2+2+3=7$。\n对于社群 $C_2 = \\{4, 5, 6\\}$：\n内部边是 $(4,5)$, $(4,6)$, 和 $(5,6)$。所以，$L_{C_2} = 3$。\n度的总和是 $K_{C_2} = k_4+k_5+k_6 = 3+2+2=7$。\n当 $m=7$ 且 $2m=14$ 时：\n$$\nQ = \\left[ \\frac{L_{C_1}}{m} - \\left(\\frac{K_{C_1}}{2m}\\right)^2 \\right] + \\left[ \\frac{L_{C_2}}{m} - \\left(\\frac{K_{C_2}}{2m}\\right)^2 \\right]\n$$\n$$\nQ = \\left[ \\frac{3}{7} - \\left(\\frac{7}{14}\\right)^2 \\right] + \\left[ \\frac{3}{7} - \\left(\\frac{7}{14}\\right)^2 \\right]\n$$\n$$\nQ = 2 \\left[ \\frac{3}{7} - \\left(\\frac{1}{2}\\right)^2 \\right] = 2 \\left[ \\frac{3}{7} - \\frac{1}{4} \\right]\n$$\n$$\nQ = 2 \\left[ \\frac{12 - 7}{28} \\right] = 2 \\left( \\frac{5}{28} \\right) = \\frac{10}{28} = \\frac{5}{14}\n$$\n二分 $\\{1,2,3\\},\\{4,5,6\\}$ 的模块度是 $\\frac{5}{14}$。",
            "answer": "$$\\boxed{\\frac{5}{14}}$$"
        },
        {
            "introduction": "现实世界的网络中，节点（例如个人或蛋白质）常常同时属于多个社区，而基于非重叠划分的模块度无法捕捉这一特征。这个练习通过一个具体的例子，将以节点为中心的模块度与以边为中心的链接聚类（link clustering）方法进行对比 。你将定量地看到，在处理重叠功能模块时，后者如何成功地识别出前者所忽略的结构，从而培养对不同社区发现工具及其背后假设的批判性视角。",
            "id": "4269518",
            "problem": "考虑一个无向无权简单图 $G$，其顶点集为 $V=\\{a,b,c,d,e\\}$，边集为 $E=\\{(a,b),(a,c),(b,c),(c,d),(c,e),(d,e)\\}$。如果将其解释为功能模块，由 $\\{a,b,c\\}$ 和 $\\{c,d,e\\}$ 诱导的子图是两个不同的模体，它们在节点 $c$ 处重叠。您将比较两种研究社群结构的方法：一种是将 $V$ 划分为不重叠社群的以节点为中心的方法，另一种是将 $E$ 划分为不重叠链接社群的以边为中心的方法，其中节点可以通过其关联边属于多个链接社群。\n\n仅使用网络科学中标准的、广为接受的定义：\n- 用于节点划分的 Newman–Girvan 模块度，以及\n- 用于边聚类中链接社群的划分密度，\n\n对图 $G$ 执行以下任务：\n1. 在 $V$ 的所有不重叠社群划分中，找出一个能使 Newman–Girvan 模块度最大化的节点划分，并计算其模块度值 $Q^{\\ast}$。\n2. 找出将边集自然地聚类成两个链接社群的划分，其中每个社群对应一个重叠的模体，即 $E_{1}=\\{(a,b),(a,c),(b,c)\\}$ 和 $E_{2}=\\{(c,d),(c,e),(d,e)\\}$，并计算其划分密度 $D$。\n3. 计算标量差 $\\Delta=D-Q^{\\ast}$。\n\n请用精确值表示 $\\Delta$ 的最终答案。无需四舍五入。无需单位。",
            "solution": "我们从基本定义开始。对于一个邻接矩阵为 $A$、节点度为 $k_{i}$、总边数为 $M$ 的无向简单图，一个节点划分 $\\{C\\}$ 的 Newman–Girvan 模块度 $Q$ 为\n$$\nQ=\\frac{1}{2M}\\sum_{i,j}\\left(A_{ij}-\\frac{k_{i}k_{j}}{2M}\\right)\\,\\delta(c_{i},c_{j}),\n$$\n该公式可以重写为对所有社群 $C$ 的 $e_{C}-a_{C}^{2}$ 求和，其中 $e_{C}$ 是社群 $C$ 内部边的比例，$a_{C}$ 是连接到 $C$ 中顶点的“桩”（度数之和除以 $2M$）的比例。\n\n对于链接社群（边聚类），将边划分为不相交簇 $\\{E_{c}\\}$ 的划分密度 $D$ 为\n$$\nD=\\frac{2}{M}\\sum_{c} m_{c}\\,\\frac{m_{c}-(n_{c}-1)}{(n_{c}-1)(n_{c}-2)},\n$$\n此定义适用于 $n_{c}\\geq 3$ 的簇；这里 $m_{c}$ 是簇 $c$ 中的边数，$n_{c}$ 是与这些边相关联的不同顶点数。对于一个三角形（$n_{c}=3$, $m_{c}=3$），簇级别的密度等于 $1$。\n\n我们计算图 $G$ 的必要量。边集为 $E=\\{(a,b),(a,c),(b,c),(c,d),(c,e),(d,e)\\}$，因此总边数 $M=|E|=6$。各个顶点的度为\n- $k_{a}=2$（边 $(a,b)$ 和 $(a,c)$），\n- $k_{b}=2$（边 $(a,b)$ 和 $(b,c)$），\n- $k_{c}=4$（边 $(a,c),(b,c),(c,d),(c,e)$），\n- $k_{d}=2$（边 $(c,d)$ 和 $(d,e)$），\n- $k_{e}=2$（边 $(c,e)$ 和 $(d,e)$）。\n因此 $\\sum_{i}k_{i}=2+2+4+2+2=12$，与 $2M=12$ 一致。\n\n任务 1：我们必须找到 $V$ 的一个不重叠社群的节点划分，以使 $Q$ 最大化。由于该图由两个在节点 $c$ 处重叠的三角形 $\\{a,b,c\\}$ 和 $\\{c,d,e\\}$ 组成，任何不重叠的节点划分都无法同时将两个三角形完整地保留为独立的社群（节点 $c$ 不能同时属于两个社群）。一个自然的候选划分是 $C_{1}=\\{a,b,c\\}$ 和 $C_{2}=\\{d,e\\}$。对于这个划分：\n- $C_{1}$ 中的内部边有 $(a,b),(a,c),(b,c)$，所以 $e_{1}=\\frac{3}{6}=\\frac{1}{2}$。\n- $C_{1}$ 中的度数之和为 $k_{a}+k_{b}+k_{c}=2+2+4=8$，所以 $a_{1}=\\frac{8}{2M}=\\frac{8}{12}=\\frac{2}{3}$ 且 $a_{1}^{2}=\\frac{4}{9}$。\n- $C_{2}$ 中的内部边有 $(d,e)$，所以 $e_{2}=\\frac{1}{6}$。\n- $C_{2}$ 中的度数之和为 $k_{d}+k_{e}=2+2=4$，所以 $a_{2}=\\frac{4}{12}=\\frac{1}{3}$ 且 $a_{2}^{2}=\\frac{1}{9}$。\n因此\n$$\nQ=\\left(e_{1}-a_{1}^{2}\\right)+\\left(e_{2}-a_{2}^{2}\\right)=\\left(\\frac{1}{2}-\\frac{4}{9}\\right)+\\left(\\frac{1}{6}-\\frac{1}{9}\\right)=\\frac{1}{9}.\n$$\n根据对称性，划分 $C_{1}=\\{a,b\\}$ 和 $C_{2}=\\{c,d,e\\}$ 会得到相同的值 $Q=\\frac{1}{9}$。任何其他更严重地分割三角形的划分（例如，孤立节点 $c$ 或将 $\\{a,b\\}$ 与 $\\{d,e\\}$ 混合）都会导致内部边减少或 $a_{C}^{2}$ 项增大，从而降低模块度。单社群划分会得到 $Q=0$。一个三社群划分 $C_{1}=\\{a,b\\}$、$C_{2}=\\{c\\}$、$C_{3}=\\{d,e\\}$ 会得到 $Q=0$。组合不相邻节点（例如 $\\{a,d\\}$）的划分必然会减少内部边的比例，同时增加 $a_{C}^{2}$。因此，在所有不重叠节点划分中，最大模块度为\n$$\nQ^{\\ast}=\\frac{1}{9}.\n$$\n\n任务 2：对于链接聚类，我们取两个对应于两个功能模体的边簇：\n$$\nE_{1}=\\{(a,b),(a,c),(b,c)\\},\\quad E_{2}=\\{(c,d),(c,e),(d,e)\\}.\n$$\n这两个边集不相交，并共同覆盖了 $E$，所以 $m_{1}=3$, $n_{1}=3$, $m_{2}=3$, $n_{2}=3$, 并且 $M=6$。对于每个三角形簇，其簇级别的密度为\n$$\n\\frac{2\\big(m_{c}-(n_{c}-1)\\big)}{(n_{c}-1)(n_{c}-2)}=\\frac{2\\big(3-(3-1)\\big)}{(3-1)(3-2)}=\\frac{2\\cdot 1}{2\\cdot 1}=1.\n$$\n应用划分密度的定义，\n$$\nD=\\frac{2}{M}\\sum_{c=1}^{2} m_{c}\\,\\frac{m_{c}-(n_{c}-1)}{(n_{c}-1)(n_{c}-2)}=\\frac{2}{6}\\left[3\\cdot\\frac{1}{2}+3\\cdot\\frac{1}{2}\\right]=\\frac{2}{6}\\cdot 3=1.\n$$\n\n任务 3：所求的差值为\n$$\n\\Delta=D-Q^{\\ast}=1-\\frac{1}{9}=\\frac{8}{9}.\n$$\n\n这个计算表明，边聚类完美地捕捉了两个重叠的模体（得到 $D=1$），而任何不重叠的节点划分都必然牺牲重叠部分，只能达到一个较低的最优模块度 $Q^{\\ast}=\\frac{1}{9}$。这定量地说明了链接社群如何揭示节点划分所忽略的重叠功能结构。",
            "answer": "$$\\boxed{\\frac{8}{9}}$$"
        }
    ]
}