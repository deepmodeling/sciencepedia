{
    "hands_on_practices": [
        {
            "introduction": "To truly understand the percolation transition, we must go beyond memorizing formulas and derive the critical conditions from first principles. This exercise guides you through the powerful cavity method, a message-passing approach that models how cluster membership propagates on a locally tree-like network. By analyzing the stability of the \"no-giant-component\" state, you will derive the fundamental criterion for the emergence of a giant component and connect it to the spectral radius of the non-backtracking matrix .",
            "id": "4296412",
            "problem": "Consider percolation processes on a large, sparse, undirected network generated by the configuration model with degree distribution $P(k)$, which is locally tree-like in the thermodynamic limit. Two percolation processes are defined: bond percolation (each edge is independently retained with probability $p$) and site percolation (each node is independently retained with probability $q$, with all incident edges removed if the node is removed). The emergence of a Giant Connected Component (GCC) is to be analyzed via message passing on the directed-edge representation of the network, using the cavity approach that neglects backtracking loops.\n\nStarting only from the definitions of bond and site percolation, the concept of Giant Connected Component (GCC), and the construction of directed-edge messages that represent the probability that following a directed edge does not lead to the GCC, derive the linearized stability condition for the trivial fixed point corresponding to the absence of a GCC on general graphs. Identify the operator that governs the linearized message dynamics and express the critical parameters for the onset of a GCC in terms of its spectral radius.\n\nThen, specialize your result to locally tree-like configuration-model networks and connect the relevant spectral radius to the mean excess degree, expressed in terms of the first two moments $\\langle k \\rangle$ and $\\langle k^{2} \\rangle$ of the degree distribution $P(k)$.\n\nFinally, compute the bond and site percolation thresholds for the specific degree distribution\n$$\nP(k) = \\frac{1}{2}\\,\\delta_{k,1} + \\frac{1}{2}\\,\\delta_{k,3},\n$$\nwhere $\\delta_{i,j}$ is the Kronecker delta, yielding explicit values for the critical bond occupation probability $p_{c}$ and the critical site occupation probability $q_{c}$.\n\nExpress your final results as exact fractions in simplest form. Provide the final answer as a row matrix containing $p_{c}$ and $q_{c}$, in that order. No units are required, and no rounding is needed.",
            "solution": "This problem requires the derivation of percolation thresholds for bond and site percolation on configuration-model networks. The solution will proceed in three stages: first, a general framework for the onset of a Giant Connected Component (GCC) is derived using a message-passing approach on a general graph; second, this framework is specialized to configuration-model networks by relating the critical condition to the moments of the degree distribution; and third, the specific thresholds for the given degree distribution are calculated.\n\nLet us begin by establishing the message-passing framework for a general large, sparse, undirected network. We analyze the stability of the trivial fixed point corresponding to the absence of a GCC. A GCC emerges when this fixed point becomes unstable. The method relies on the cavity approach, which assumes the network is locally tree-like, making it exact for configuration-model networks in the thermodynamic limit.\n\nLet there be a set of directed edges $(i, j)$ corresponding to each undirected edge $\\{i, j\\}$. A message passed from node $i$ to a neighbor $j$ quantifies the probability of some event occurring in the \"cavity graph\", i.e., the original graph with connections involving node $i$ (or just the edge $(i,j)$) removed.\n\n**Part 1: General Derivation via Message Passing**\n\n**Bond Percolation**\n\nIn bond percolation, each edge is present independently with probability $p$. Let $u_{i \\to j}$ be the probability that following the directed edge $i \\to j$ does **not** lead to the GCC. This event occurs if either the edge $\\{i,j\\}$ is absent (with probability $1-p$), or the edge is present (with probability $p$) but node $j$ fails to connect to the GCC through any of its other neighbors $k \\in \\mathcal{N}(j) \\setminus \\{i\\}$. Within the cavity/tree-like approximation, the paths starting from $j$ towards its other neighbors are independent. The probability that the path from $j$ towards a neighbor $k$ fails to reach the GCC is, by definition, $u_{j \\to k}$.\n\nThus, the self-consistency equation for the messages is:\n$$\nu_{i \\to j} = (1 - p) + p \\prod_{k \\in \\mathcal{N}(j) \\setminus \\{i\\}} u_{j \\to k}\n$$\nThe absence of a GCC corresponds to the trivial fixed point where $u_{i \\to j} = 1$ for all directed edges $(i,j)$. Let us verify this: $1 = (1-p) + p \\prod 1 = 1-p+p = 1$. To analyze the stability of this fixed point, we linearize the equation around it. Let $u_{i \\to j} = 1 - \\epsilon_{i \\to j}$, where $\\epsilon_{i \\to j}$ is a small positive perturbation. Substituting this into the equation yields:\n$$\n1 - \\epsilon_{i \\to j} = (1 - p) + p \\prod_{k \\in \\mathcal{N}(j) \\setminus \\{i\\}} (1 - \\epsilon_{j \\to k})\n$$\nFor small $\\epsilon$, we can expand the product to first order: $\\prod (1 - \\epsilon_k) \\approx 1 - \\sum \\epsilon_k$.\n$$\n1 - \\epsilon_{i \\to j} \\approx (1 - p) + p \\left(1 - \\sum_{k \\in \\mathcal{N}(j) \\setminus \\{i\\}} \\epsilon_{j \\to k}\\right)\n$$\n$$\n1 - \\epsilon_{i \\to j} \\approx 1 - p + p - p \\sum_{k \\in \\mathcal{N}(j) \\setminus \\{i\\}} \\epsilon_{j \\to k}\n$$\nThis simplifies to the linearized dynamics equation for the perturbations:\n$$\n\\epsilon_{i \\to j} = p \\sum_{k \\in \\mathcal{N}(j) \\setminus \\{i\\}} \\epsilon_{j \\to k}\n$$\n\n**Site Percolation**\n\nIn site percolation, each node is present independently with probability $q$. If a node is removed, all its incident edges are also removed. Let $v_{i \\to j}$ be the probability that node $j$ is **not** part of the GCC, viewed from its neighbor $i$ (i.e., in the cavity graph where $i$ is removed). This event occurs if either node $j$ is absent (with probability $1-q$), or node $j$ is present (with probability $q$) but it does not connect to the GCC through any of its other neighbors $k \\in \\mathcal{N}(j) \\setminus \\{i\\}$.\n\nThe self-consistency equation is therefore:\n$$\nv_{i \\to j} = (1 - q) + q \\prod_{k \\in \\mathcal{N}(j) \\setminus \\{i\\}} v_{j \\to k}\n$$\nThis equation is mathematically isomorphic to the one for bond percolation. The trivial fixed point is $v_{i \\to j} = 1$. Linearizing around this fixed point by setting $v_{i \\to j} = 1 - \\delta_{i \\to j}$ gives:\n$$\n\\delta_{i \\to j} = q \\sum_{k \\in \\mathcal{N}(j) \\setminus \\{i\\}} \\delta_{j \\to k}\n$$\n\n**Linearized Dynamics and Critical Condition**\n\nBoth linearized equations can be written in terms of a linear operator, the non-backtracking matrix $\\mathbf{B}$ of the graph. The operator $\\mathbf{B}$ acts on functions defined on the set of directed edges. Its action is given by:\n$$\n(\\mathbf{B} f)(i \\to j) = \\sum_{k \\in \\mathcal{N}(j) \\setminus \\{i\\}} f(j \\to k)\n$$\nThe linearized dynamics for the perturbation vectors $\\vec{\\epsilon}$ and $\\vec{\\delta}$ can be written as $\\vec{\\epsilon}^{(t+1)} = p \\mathbf{B} \\vec{\\epsilon}^{(t)}$ and $\\vec{\\delta}^{(t+1)} = q \\mathbf{B} \\vec{\\delta}^{(t)}$, respectively. The trivial fixed point (no GCC) becomes unstable when the largest eigenvalue (spectral radius $\\rho$) of the corresponding linear operator becomes greater than $1$.\nFor bond percolation, the operator is $\\mathbf{T}_{\\text{bond}} = p\\mathbf{B}$. The critical condition is $\\rho(\\mathbf{T}_{\\text{bond}}) = p_c \\rho(\\mathbf{B}) = 1$.\nFor site percolation, the operator is $\\mathbf{T}_{\\text{site}} = q\\mathbf{B}$. The critical condition is $\\rho(\\mathbf{T}_{\\text{site}}) = q_c \\rho(\\mathbf{B}) = 1$.\nThis yields the critical thresholds in terms of the spectral radius of the non-backtracking matrix:\n$$\np_c = \\frac{1}{\\rho(\\mathbf{B})} \\quad \\text{and} \\quad q_c = \\frac{1}{\\rho(\\mathbf{B})}\n$$\n\n**Part 2: Specialization to Configuration-Model Networks**\n\nFor large random graphs generated by the configuration model with degree distribution $P(k)$, the local tree-like assumption is exact. In this limit, the spectral radius of the non-backtracking matrix, $\\rho(\\mathbf{B})$, is equal to the mean excess degree of the network.\n\nThe excess degree of a node is its degree minus one; it is the number of edges leaving a node other than the one we arrived upon. To find the mean excess degree, we consider traversing a random edge. The probability that this edge leads to a node of degree $k$ is not $P(k)$, but is proportional to $kP(k)$. The normalized distribution for the degree of a node at the end of a random edge is $\\frac{kP(k)}{\\langle k \\rangle}$, where $\\langle k \\rangle = \\sum_k k P(k)$ is the mean degree.\n\nA node of degree $k$ has $k-1$ outgoing edges (excess degree). The mean excess degree is the average of $k-1$ over this distribution:\n$$\n\\rho(\\mathbf{B}) = \\sum_{k} (k-1) \\frac{k P(k)}{\\langle k \\rangle} = \\frac{1}{\\langle k \\rangle} \\sum_{k} (k^2 - k) P(k)\n$$\nUsing the definition of moments, $\\langle f(k) \\rangle = \\sum_k f(k) P(k)$, we can write this as:\n$$\n\\rho(\\mathbf{B}) = \\frac{\\langle k^2 \\rangle - \\langle k \\rangle}{\\langle k \\rangle}\n$$\nwhere $\\langle k^2 \\rangle = \\sum_k k^2 P(k)$ is the second moment of the degree distribution.\n\nSubstituting this expression for $\\rho(\\mathbf{B})$ into our critical conditions gives the percolation thresholds for the configuration model:\n$$\np_c = \\frac{\\langle k \\rangle}{\\langle k^2 \\rangle - \\langle k \\rangle}\n$$\n$$\nq_c = \\frac{\\langle k \\rangle}{\\langle k^2 \\rangle - \\langle k \\rangle}\n$$\nThis is the renowned Molloy-Reed criterion for the emergence of a giant component.\n\n**Part 3: Calculation for the Specific Degree Distribution**\n\nWe are given the degree distribution $P(k) = \\frac{1}{2}\\,\\delta_{k,1} + \\frac{1}{2}\\,\\delta_{k,3}$. This describes a network where half of the nodes have degree $1$ and the other half have degree $3$.\n\nFirst, we compute the first moment (mean degree) $\\langle k \\rangle$:\n$$\n\\langle k \\rangle = \\sum_{k} k P(k) = (1) \\cdot P(1) + (3) \\cdot P(3) = (1)\\left(\\frac{1}{2}\\right) + (3)\\left(\\frac{1}{2}\\right) = \\frac{1}{2} + \\frac{3}{2} = \\frac{4}{2} = 2\n$$\nNext, we compute the second moment $\\langle k^2 \\rangle$:\n$$\n\\langle k^2 \\rangle = \\sum_{k} k^2 P(k) = (1^2) \\cdot P(1) + (3^2) \\cdot P(3) = (1)\\left(\\frac{1}{2}\\right) + (9)\\left(\\frac{1}{2}\\right) = \\frac{1}{2} + \\frac{9}{2} = \\frac{10}{2} = 5\n$$\nNow we can compute the quantity $\\langle k^2 \\rangle - \\langle k \\rangle$:\n$$\n\\langle k^2 \\rangle - \\langle k \\rangle = 5 - 2 = 3\n$$\nFinally, we substitute these values into the formulas for the critical thresholds $p_c$ and $q_c$:\n$$\np_c = \\frac{\\langle k \\rangle}{\\langle k^2 \\rangle - \\langle k \\rangle} = \\frac{2}{3}\n$$\n$$\nq_c = \\frac{\\langle k \\rangle}{\\langle k^2 \\rangle - \\langle k \\rangle} = \\frac{2}{3}\n$$\nThe bond and site percolation thresholds are identical for this network ensemble, both equal to $\\frac{2}{3}$. The final answer is to be presented as a row matrix containing $p_c$ and $q_c$.",
            "answer": "$$\\boxed{\\begin{pmatrix} \\frac{2}{3} & \\frac{2}{3} \\end{pmatrix}}$$"
        },
        {
            "introduction": "With the theoretical foundation in place, we can now apply these tools to analyze more complex network structures. This problem challenges you to calculate percolation thresholds on a network with a mixed degree distribution, a common feature in models of real-world systems. By mastering the use of probability generating functions (PGFs) for this scenario, you will develop the practical skills needed to analyze percolation on a wide variety of network ensembles .",
            "id": "4308457",
            "problem": "Consider a large configuration model network on $n$ vertices constructed by the standard stub-matching process from an independently generated degree sequence $\\{k_{i}\\}_{i=1}^{n}$. The degrees are generated by the following mixture mechanism: for each vertex, with probability $(1-\\alpha)$, assign degree $1$; with probability $\\alpha$, draw a degree $\\kappa$ from a Poisson distribution of mean $\\lambda$, and assign degree $\\kappa$. Assume $0<\\alpha<1$ and $\\lambda>0$. Let $P(k)$ denote the resulting degree distribution on $\\mathbb{N}_{0}$ and assume the large-$n$ limit with no degree-degree correlations beyond those implied by the configuration model.\n\nDefine bond percolation on this network by independently retaining each edge with probability $T\\in[0,1]$, and removing it otherwise. Define site percolation by independently retaining each vertex with probability $p\\in[0,1]$, and removing it otherwise (together with incident edges); edges between removed vertices do not exist.\n\nUsing only core definitions of the configuration model, the excess degree distribution, and the probability generating function (PGF) approach combined with the branching-process criterion for the emergence of a giant connected component of occupied vertices, derive the critical values $T_{c}$ and $p_{c}$ in closed form for this network, expressed solely in terms of $\\alpha$ and $\\lambda$. Your final answer should be the two critical values in a single row matrix form $\\big(T_{c}\\;\\;p_{c}\\big)$ as an analytic expression. Do not provide numerical approximations.",
            "solution": "The problem is valid as it is scientifically grounded in the established theory of network science, is well-posed with a clear path to a unique solution, and is stated in objective, formal language. We proceed with the solution.\n\nThe emergence of a giant connected component (GCC) in a network can be analyzed as a branching process. For a configuration model network with degree distribution $P(k)$, the key condition for the existence of a GCC is the Molloy-Reed criterion. This criterion can be elegantly expressed using probability generating functions (PGFs).\n\nLet $G_0(x)$ be the PGF for the degree distribution $P(k)$:\n$$G_0(x) = \\sum_{k=0}^{\\infty} P(k) x^k$$\nThe mean degree is $\\langle k \\rangle = \\sum_k k P(k) = G_0'(1)$.\n\nA crucial quantity is the excess degree distribution, which is the distribution of the number of other edges attached to a vertex reached by following a random edge. The PGF for the excess degree distribution is denoted by $G_1(x)$:\n$$G_1(x) = \\sum_{k=1}^{\\infty} \\frac{k P(k)}{\\langle k \\rangle} x^{k-1} = \\frac{G_0'(x)}{G_0'(1)}$$\nThe branching process considers exploring the network from a random edge. The expected number of new edges we can follow from a vertex reached via a random edge is the mean excess degree, given by $G_1'(1)$. A GCC exists if this value is greater than $1$.\n$$G_1'(1) > 1$$\nWe can express $G_1'(1)$ in terms of moments of the original degree distribution. Since $G_1(x) = G_0'(x)/\\langle k \\rangle$, its derivative is $G_1'(x) = G_0''(x)/\\langle k \\rangle$. Evaluating at $x=1$:\n$$G_1'(1) = \\frac{G_0''(1)}{\\langle k \\rangle} = \\frac{\\sum_k k(k-1)P(k)}{\\sum_k k P(k)} = \\frac{\\langle k^2 \\rangle - \\langle k \\rangle}{\\langle k \\rangle}$$\nThe condition for a GCC is thus $\\frac{\\langle k^2 \\rangle - \\langle k \\rangle}{\\langle k \\rangle} > 1$. Let's call this branching ratio $\\kappa = \\frac{\\langle k^2 \\rangle - \\langle k \\rangle}{\\langle k \\rangle}$.\n\nFirst, we analyze bond percolation. Each edge is retained independently with probability $T$. This effectively thins the edges of the network. For a vertex that originally had degree $k$, the number of remaining edges, $k'$, follows a binomial distribution $B(k, T)$. The PGF of the new degree distribution, $G_{0,T}(x)$, is found by compounding the original PGF with the PGF for the binomial process, $(1-T+Tx)$:\n$$G_{0,T}(x) = \\sum_{k=0}^{\\infty} P(k) (1-T+Tx)^k = G_0(1-T+Tx)$$\nThe corresponding excess degree PGF for the percolated network is:\n$$G_{1,T}(x) = G_1(1-T+Tx)$$\nThe criticality condition is that the mean of the new excess degree distribution equals $1$. The mean is $G_{1,T}'(1)$.\n$$G_{1,T}'(x) = \\frac{d}{dx} G_1(1-T+Tx) = G_1'(1-T+Tx) \\cdot T$$\nEvaluating at $x=1$ gives the new branching ratio:\n$$G_{1,T}'(1) = G_1'(1) \\cdot T = T \\kappa$$\nThe critical threshold $T_c$ is found when this quantity equals $1$:\n$$T_c \\cdot \\frac{\\langle k^2 \\rangle - \\langle k \\rangle}{\\langle k \\rangle} = 1 \\implies T_c = \\frac{\\langle k \\rangle}{\\langle k^2 \\rangle - \\langle k \\rangle}$$\n\nNext, we analyze site percolation. Each vertex is retained independently with probability $p$. We are interested in the giant component of occupied vertices. A clean way to model this is to consider the subgraph formed by the occupied vertices and their connecting edges. A vertex of original degree $k$ is occupied with probability $p$. Each of its $k$ neighbors is independently occupied with probability $p$. Thus, the degree $k'$ of this vertex in the new (occupied) subgraph follows a binomial distribution $B(k,p)$. The PGF for the degree distribution of an occupied vertex is:\n$$G_{0,p}(x) = \\sum_{k=0}^{\\infty} P(k) (1-p+px)^k = G_0(1-p+px)$$\nThe criterion for a GCC in this new network of occupied sites is that its own branching ratio, $\\kappa'$, is greater than $1$.\n$$\\kappa' = \\frac{\\langle k'^2 \\rangle - \\langle k' \\rangle}{\\langle k' \\rangle} > 1$$\nWe can calculate the moments of the new distribution from its PGF, $G_{0,p}(x)$.\nThe new mean degree is $\\langle k' \\rangle = G_{0,p}'(1)$.\n$$G_{0,p}'(x) = \\frac{d}{dx} G_0(1-p+px) = G_0'(1-p+px) \\cdot p$$\n$$\\langle k' \\rangle = G_{0,p}'(1) = G_0'(1) \\cdot p = p \\langle k \\rangle$$\nThe term $\\langle k'^2 \\rangle - \\langle k' \\rangle$ is given by $G_{0,p}''(1)$.\n$$G_{0,p}''(x) = \\frac{d}{dx} \\left( G_0'(1-p+px) \\cdot p \\right) = G_0''(1-p+px) \\cdot p^2$$\n$$G_{0,p}''(1) = G_0''(1) \\cdot p^2 = p^2 (\\langle k^2 \\rangle - \\langle k \\rangle)$$\nThe criticality condition is $\\frac{p_c^2 (\\langle k^2 \\rangle - \\langle k \\rangle)}{p_c \\langle k \\rangle} = 1$, which simplifies to:\n$$p_c \\frac{\\langle k^2 \\rangle - \\langle k \\rangle}{\\langle k \\rangle} = 1 \\implies p_c = \\frac{\\langle k \\rangle}{\\langle k^2 \\rangle - \\langle k \\rangle}$$\nThus, for a configuration model network, the critical thresholds for bond and site percolation have the same form.\n\nThe final step is to compute $\\langle k \\rangle$ and $\\langle k^2 \\rangle$ for the given degree distribution. The distribution $P(k)$ is a mixture: $P(k) = (1-\\alpha)\\delta_{k,1} + \\alpha P_{\\text{Poisson}}(k|\\lambda)$, where $\\delta_{k,1}$ is the Kronecker delta and $P_{\\text{Poisson}}(k|\\lambda) = \\frac{e^{-\\lambda}\\lambda^k}{k!}$.\n\nThe PGF for this mixture distribution, $G_0(x)$, is the weighted sum of the PGFs of its components. The PGF for a fixed degree of $1$ is $x^1=x$. The PGF for a Poisson distribution of mean $\\lambda$ is $\\exp(\\lambda(x-1))$.\n$$G_0(x) = (1-\\alpha)x + \\alpha \\exp(\\lambda(x-1))$$\nWe can find the required moments by differentiating the PGF.\nThe mean degree $\\langle k \\rangle$ is $G_0'(1)$:\n$$G_0'(x) = (1-\\alpha) + \\alpha \\lambda \\exp(\\lambda(x-1))$$\n$$\\langle k \\rangle = G_0'(1) = (1-\\alpha) + \\alpha\\lambda$$\nThe quantity $\\langle k^2 \\rangle - \\langle k \\rangle$ is $G_0''(1)$:\n$$G_0''(x) = \\alpha \\lambda^2 \\exp(\\lambda(x-1))$$\n$$\\langle k^2 \\rangle - \\langle k \\rangle = G_0''(1) = \\alpha\\lambda^2$$\nNow we substitute these moments into the expressions for $T_c$ and $p_c$:\n$$T_c = \\frac{\\langle k \\rangle}{\\langle k^2 \\rangle - \\langle k \\rangle} = \\frac{1-\\alpha + \\alpha\\lambda}{\\alpha\\lambda^2}$$\n$$p_c = \\frac{\\langle k \\rangle}{\\langle k^2 \\rangle - \\langle k \\rangle} = \\frac{1-\\alpha + \\alpha\\lambda}{\\alpha\\lambda^2}$$\nThese are the critical values expressed solely in terms of $\\alpha$ and $\\lambda$.",
            "answer": "$$\\boxed{\\begin{pmatrix} \\frac{1-\\alpha + \\alpha\\lambda}{\\alpha\\lambda^{2}} & \\frac{1-\\alpha + \\alpha\\lambda}{\\alpha\\lambda^{2}} \\end{pmatrix}}$$"
        },
        {
            "introduction": "This final exercise pushes the boundaries of the standard percolation model by introducing degree-dependent node retention, a scenario relevant to targeted attacks or functional failures in networks. It forces a careful re-evaluation of the assumptions underlying the criticality condition and highlights the versatility of the branching process formalism. Solving this problem will deepen your understanding of the subtle but important distinctions between site and bond percolation .",
            "id": "4296414",
            "problem": "Consider a large configuration model network with degree distribution supported on exactly two degrees: a node has degree $k=1$ with probability $a \\in (0,1)$ and degree $k=4$ with probability $1-a$. Let the probability generating function (PGF) of the degree distribution be $G_{0}(x)$, and let the PGF of the excess-degree distribution be $G_{1}(x)$. Assume the locally tree-like property holds in the thermodynamic limit.\n\nTwo independent percolation processes are considered:\n- Bond percolation: each edge is independently retained with probability $p \\in [0,1]$.\n- Site percolation with degree-dependent retention: each node of degree $k$ is independently retained with probability $q_{k}$, where $q_{1}=q$ and $q_{4}=t\\,q$ with $t \\in (0,1]$ and $q \\in [0,1]$. Retained nodes remain connected by all edges that join them in the original configuration model.\n\nUsing only the core definitions of the configuration model, the PGFs $G_{0}(x)$ and $G_{1}(x)$, and the branching-process interpretation of the emergence of a giant component, derive the critical occupation probabilities $p_{c}$ for bond percolation and $q_{c}$ for the above degree-dependent site percolation on this network, each expressed in terms of $a$ and $t$ where appropriate. Then, for the parameter values $a=\\frac{1}{2}$ and $t=\\frac{1}{2}$, compute the ratio $\\rho \\equiv \\frac{q_{c}}{p_{c}}$. Provide the final value of $\\rho$ as a single real number. No rounding is required.",
            "solution": "The problem is first validated to ensure it is scientifically sound, well-posed, and objective.\n\n### Step 1: Extract Givens\n-   **Network Model**: Large configuration model network.\n-   **Degree Distribution**: A node has degree $k=1$ with probability $a$, and degree $k=4$ with probability $1-a$. $a \\in (0,1)$. The probability generating function (PGF) is $G_0(x)$.\n-   **Excess-Degree Distribution PGF**: $G_1(x)$.\n-   **Assumption**: The network is locally tree-like.\n-   **Process 1: Bond Percolation**: Edges are retained independently with probability $p \\in [0,1]$.\n-   **Process 2: Site Percolation**: Nodes are retained with a degree-dependent probability $q_k$.\n    -   For a node of degree $k=1$, the retention probability is $q_1=q$.\n    -   For a node of degree $k=4$, the retention probability is $q_4=tq$.\n    -   Parameters: $q \\in [0,1]$ and $t \\in (0,1]$.\n-   **Task**:\n    1.  Derive the critical probability $p_c$ for bond percolation.\n    2.  Derive the critical probability $q_c$ for site percolation.\n    3.  Compute the ratio $\\rho = \\frac{q_c}{p_c}$ for the specific case where $a=\\frac{1}{2}$ and $t=\\frac{1}{2}$.\n\n### Step 2: Validate Using Extracted Givens\n-   **Scientifically Grounded**: The problem utilizes established principles of percolation theory on complex networks, including the configuration model, probability generating functions (PGFs), and the branching process formalism for determining the emergence of a giant component. These concepts are standard in statistical physics and network science.\n-   **Well-Posed**: The problem provides all necessary information and definitions to derive unique analytical expressions for the critical probabilities $p_c$ and $q_c$. The objective is clear and the existence of a solution is guaranteed within the theoretical framework.\n-   **Objective**: The problem is stated using precise mathematical and scientific language, free from ambiguity, subjectivity, or opinion.\n\n### Step 3: Verdict and Action\nThe problem is deemed **valid** as it is scientifically grounded, well-posed, and objective. I will now proceed with the solution.\n\n### Derivation of Critical Probabilities\n\nThe degree distribution of the network is given by $P(k) = a\\delta_{k,1} + (1-a)\\delta_{k,4}$, where $\\delta_{i,j}$ is the Kronecker delta.\n\nThe probability generating function (PGF) for the degree distribution, $G_0(x)$, is:\n$$\nG_0(x) = \\sum_{k} P(k)x^k = a x^1 + (1-a)x^4\n$$\nThe average degree, $\\langle k \\rangle$, is obtained from the first derivative of $G_0(x)$ evaluated at $x=1$:\n$$\nG_0'(x) = a + 4(1-a)x^3\n$$\n$$\n\\langle k \\rangle = G_0'(1) = a + 4(1-a) = 4-3a\n$$\nThe PGF for the excess degree distribution, $G_1(x)$, which gives the distribution of the number of other edges for a node reached by following a random edge, is:\n$$\nG_1(x) = \\frac{G_0'(x)}{G_0'(1)} = \\frac{a + 4(1-a)x^3}{4-3a}\n$$\nThe emergence of a giant component can be analyzed as a branching process. The criterion for a giant component to exist is that the expected number of offspring in the second generation of the branching process must be greater than $1$. The critical point is where this expectation equals $1$.\n\n**1. Bond Percolation**\n\nIn bond percolation, each edge is present with probability $p$. The PGF for the excess degree distribution of the percolated network, $G_1^{(p)}(x)$, is found by composing $G_1(x)$ with the PGF for a single edge being kept, which is $(1-p) + px$.\n$$\nG_1^{(p)}(x) = G_1(1-p+px)\n$$\nThe expected number of offspring is the derivative of this PGF at $x=1$:\n$$\n\\frac{d}{dx}G_1^{(p)}(x) \\bigg|_{x=1} = G_1'(1-p+px) \\cdot p \\bigg|_{x=1} = p G_1'(1)\n$$\nThe criticality condition is $p_c G_1'(1) = 1$. We need to compute $G_1'(1)$:\n$$\nG_1'(x) = \\frac{d}{dx}\\left(\\frac{a + 4(1-a)x^3}{4-3a}\\right) = \\frac{12(1-a)x^2}{4-3a}\n$$\n$$\nG_1'(1) = \\frac{12(1-a)}{4-3a}\n$$\nThis quantity is also known as $\\frac{\\langle k(k-1) \\rangle}{\\langle k \\rangle}$.\nThe critical bond percolation probability $p_c$ is:\n$$\np_c = \\frac{1}{G_1'(1)} = \\frac{4-3a}{12(1-a)}\n$$\n\n**2. Site Percolation**\n\nFor site percolation, we trace a path along the network. Starting from an occupied node, we follow a random edge. The node at the other end must also be occupied for the cluster to grow. The expected number of new paths branching out from such a newly reached occupied node must be $1$ at criticality.\n\nAn edge chosen at random leads to a node of degree $k$ with probability $\\frac{kP(k)}{\\langle k \\rangle}$. This node is occupied with probability $q_k$. If occupied, it provides $k-1$ new edges to explore. Thus, the expected number of new branches is:\n$$\n\\sum_k \\frac{kP(k)}{\\langle k \\rangle} q_k (k-1) = \\frac{1}{\\langle k \\rangle} \\sum_k k(k-1)P(k)q_k\n$$\nAt the critical point, this expectation equals $1$, and the occupation probabilities are $q_1 = q_c$ and $q_4 = tq_c$.\n$$\n\\frac{1}{\\langle k \\rangle} \\sum_k k(k-1)P(k)q_{k,c} = 1\n$$\nLet's evaluate the sum for the given distribution:\n$$\n\\sum_k k(k-1)P(k)q_{k,c} = 1(1-1)P(1)q_{1,c} + 4(4-1)P(4)q_{4,c}\n$$\n$$\n= 0 \\cdot a \\cdot q_c + 12 \\cdot (1-a) \\cdot (tq_c) = 12(1-a)tq_c\n$$\nSubstituting this into the criticality condition:\n$$\n\\frac{12(1-a)tq_c}{4-3a} = 1\n$$\nSolving for the critical site occupation probability $q_c$:\n$$\nq_c = \\frac{4-3a}{12t(1-a)}\n$$\n\n**3. Ratio Calculation**\n\nWe need to compute the ratio $\\rho = \\frac{q_c}{p_c}$.\n$$\n\\rho = \\frac{q_c}{p_c} = \\frac{\\frac{4-3a}{12t(1-a)}}{\\frac{4-3a}{12(1-a)}}\n$$\nThe common factor $\\frac{4-3a}{12(1-a)}$ cancels out, yielding a simple expression for the ratio:\n$$\n\\rho = \\frac{1}{t}\n$$\nRemarkably, the ratio is independent of the parameter $a$. This occurs because the nodes of degree $k=1$ have a factor of $k(k-1)=0$ and thus do not contribute to the sums that determine criticality via the branching process on the excess degree distribution.\n\nThe problem asks for the value of $\\rho$ for the parameters $a=\\frac{1}{2}$ and $t=\\frac{1}{2}$. The value of $a$ is not needed for the ratio.\n$$\n\\rho = \\frac{1}{t} = \\frac{1}{\\frac{1}{2}} = 2\n$$\nThe final value of the ratio is $2$.",
            "answer": "$$\n\\boxed{2}\n$$"
        }
    ]
}