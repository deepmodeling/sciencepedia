{
    "hands_on_practices": [
        {
            "introduction": "量化随机工艺变化是构建稳健电路模型的第一步。本练习侧重于从原始测量数据中提取阈值电压失配的 Pelgrom 系数（$A_{V_t}$），这是一个描述器件失配如何随面积变化的至关重要的参数。通过对假设的测量数据进行严谨的统计回归分析，您将亲身体验工艺表征中的一项基本任务，从而架起从原始芯片数据到预测性变化模型之间的桥梁。",
            "id": "4291316",
            "problem": "您将获得多个具有不同几何尺寸特征的匹配晶体管对阵列的数据集。每个数据集包含多种几何尺寸，对于每种几何尺寸，都给出一系列晶体管对之间的阈值电压失配测量值。任务是，通过构建一个由基本统计缩放论证支持的回归模型，从第一性原理出发，估计阈值电压失配的佩尔格罗姆系数（表示为 $A_{V_t}$），然后计算该估计值的95%置信区间。\n\n请基于以下经过充分检验的事实和定义进行推导：\n- 由于随机掺杂波动引起的器件间失配源于有源区内的粒子数统计，在普遍有效的条件下，其遵循一种缩放规律，即失配变异性随器件面积的增加而减小。\n- 对于真实标准差为 $\\sigma$ 的独立同分布随机变量，从 $n$ 个样本计算出的无偏样本标准差 $s$ 的采样变异性，在底层波动近似为高斯分布时，可以通过卡方分布的已知性质来近似。\n- 对于具有独立零均值误差且通过原点的线性回归，斜率估计量的方差取决于预测变量值和残差方差。当观测方差不相同时，可以使用加权最小二乘法。\n\n基于这些基础，推导出一个将可观测的失配离散度度量与器件尺寸函数相关联的模型，并说明如何估计与 $A_{V_t}$ 对应的斜率参数。明确论证回归模型的选择以及用于异方差测量的权重形式的合理性。\n\n然后，实现一个程序，该程序：\n1. 对于每个几何尺寸 $i$，其宽度为 $W_i$，长度为 $L_i$（均以微米表示），以及一组配对阈值电压失配测量值 $\\{\\Delta V_{t,ij}\\}_{j=1}^{m_i}$（以伏特表示），计算 $\\{\\Delta V_{t,ij}\\}$ 的无偏样本标准差 $s_i$（以伏特表示）。\n2. 构建预测变量 $x_i = 1/\\sqrt{W_i L_i}$（单位为 $\\mu\\mathrm{m}^{-1}$）和响应变量 $y_i = s_i$（单位为伏特）。\n3. 执行一个约束通过原点的加权最小二乘线性回归，$y_i = A_{V_t} \\, x_i + \\varepsilon_i$，其权重 $w_i$ 根据 $s_i$ 的采样变异性选择。对于 $m_i \\ge 3$，使用近似公式 $\\mathrm{Var}[s_i] \\approx s_i^2 / (2(m_i - 1))$，因此 $w_i \\approx 2(m_i - 1)/s_i^2$。\n4. 使用自由度为 $\\nu = n - 1$ 的学生t分布，估计 $A_{V_t}$（单位为伏特-微米，V·μm）及其95%置信区间，其中 $n$ 是数据集中的几何尺寸数量。使用基于残差的加权误差方差估计值 $\\hat{\\sigma}_w^2 = \\left(\\sum_{i=1}^n w_i (y_i - \\hat{A}_{V_t} x_i)^2\\right) / \\nu$，并计算标准误为 $\\mathrm{SE}(\\hat{A}_{V_t}) = \\sqrt{\\hat{\\sigma}_w^2 / \\sum_{i=1}^n w_i x_i^2}$。\n5. 按照下文指定的方式，输出多个测试用例的扁平化结果。\n\n单位：\n- 所有 $\\Delta V_t$ 值均以伏特为单位提供，且必须以伏特为单位使用。\n- 所有尺寸 $W$ 和 $L$ 均以微米为单位提供，且必须以微米为单位使用。\n- 以伏特-微米（V·μm）为单位报告 $A_{V_t}$ 及其置信区间边界。\n\n角度单位不适用。不使用百分比。\n\n测试套件：\n在以下三个数据集上实现您的解决方案。每个数据集是一个几何尺寸列表；每个几何尺寸是一个元组 $(W, L, [\\Delta V_{t,1}, \\ldots, \\Delta V_{t,m}])$。这些值在物理上是合理的，并且内部一致。\n\n- 测试用例1（良态，中等样本量）：\n  1. $(0.12, 0.03, [0.052, -0.047, 0.061, -0.039, 0.045, -0.058, 0.050, -0.041, 0.055, -0.053, 0.036, -0.049])$\n  2. $(0.24, 0.03, [0.033, -0.029, 0.041, -0.036, 0.027, -0.040, 0.037, -0.031, 0.035, -0.028, 0.039, -0.034])$\n  3. $(0.12, 0.06, [0.033, -0.029, 0.041, -0.036, 0.027, -0.040, 0.037, -0.031, 0.035, -0.028, 0.039, -0.034])$\n  4. $(0.24, 0.06, [0.019, -0.022, 0.031, -0.026, 0.023, -0.029, 0.021, -0.024, 0.027, -0.020, 0.025, -0.028])$\n\n- 测试用例2（异构样本量，用于检验加权效果）：\n  1. $(0.10, 0.02, [0.064, -0.070, 0.079, -0.061, 0.055])$\n  2. $(0.20, 0.02, [0.052, -0.041, 0.050, -0.045, 0.039, -0.049, 0.046, -0.043])$\n  3. $(0.20, 0.04, [0.028, -0.037, 0.033, -0.031, 0.039])$\n  4. $(0.40, 0.04, [0.022, -0.025, 0.020, -0.024, 0.026, -0.021, 0.019, -0.023, 0.027, -0.022])$\n\n- 测试用例3（失配离散度中存在一个小的系统性本底）：\n  1. $(0.12, 0.03, [0.057, -0.048, 0.051, -0.046, 0.061, -0.053, 0.049, -0.050, 0.055, -0.058, 0.042, -0.047])$\n  2. $(0.24, 0.03, [0.040, -0.037, 0.035, -0.033, 0.041, -0.038, 0.034, -0.036, 0.039, -0.035, 0.030, -0.034])$\n  3. $(0.24, 0.06, [0.028, -0.023, 0.025, -0.024, 0.030, -0.022, 0.027, -0.026, 0.024, -0.025, 0.029, -0.023])$\n\n最终要求的输出格式：\n- 您的程序应生成单行输出，其中包含三个测试用例的串联结果，格式为一个扁平的、逗号分隔的列表，并用方括号括起来，顺序如下：\n  $[\\hat{A}_{V_t}^{(1)}, \\text{CI}_{\\mathrm{low}}^{(1)}, \\text{CI}_{\\mathrm{high}}^{(1)}, \\hat{A}_{V_t}^{(2)}, \\text{CI}_{\\mathrm{low}}^{(2)}, \\text{CI}_{\\mathrm{high}}^{(2)}, \\hat{A}_{V_t}^{(3)}, \\text{CI}_{\\mathrm{low}}^{(3)}, \\text{CI}_{\\mathrm{high}}^{(3)}]$\n  其中每个值都是一个浮点数，代表V·μm。为了显示目的，可以接受四舍五入到小数点后六位，但计算应使用完整精度。",
            "solution": "我们从集成电路失配的既定统计缩放规律开始。器件有源区中的随机掺杂波动导致了阈值电压失配。在局部波动占主导地位且在区域内不相关的条件下，粒子数的变化近似服从泊松分布，其对器件区域上平均的广延量的综合效应与面积的平方根成反比。因此，失配可观测量的离散程度随着有源区面积的增加而减小。\n\n设 $W$ 和 $L$ 分别表示匹配晶体管对的器件宽度和长度（单位为微米），其有效有源区面积为 $A = WL$（单位为 $\\mu\\mathrm{m}^2$）。考虑在固定几何尺寸下，一对名义上相同的器件之间的失配 $\\Delta V_t$。核心假设是，在该几何尺寸下，失配的标准差 $\\sigma_i$ 与面积的平方根成反比。这可以表示为 $\\sigma_i = A_{V_t} / \\sqrt{W_i L_i}$，其中 $A_{V_t}$ 是佩尔格罗姆系数。这个关系可以重写为一个线性模型。\n\n对于每个几何尺寸 $i$，我们给定一组失配测量值 $\\{\\Delta V_{t,ij}\\}_{j=1}^{m_i}$（单位为伏特）。我们计算无偏样本标准差\n$$\ns_i = \\sqrt{\\frac{1}{m_i - 1} \\sum_{j=1}^{m_i} \\left(\\Delta V_{t,ij} - \\bar{\\Delta V}_{t,i}\\right)^2},\n$$\n它估计了在几何尺寸 $i$ 下失配分布的真实标准差 $\\sigma_i$。我们还计算预测变量\n$$\nx_i = \\frac{1}{\\sqrt{W_i L_i}},\n$$\n当 $W_i$ 和 $L_i$ 的单位为微米时，$x_i$ 的单位为 $\\mu\\mathrm{m}^{-1}$。用于通过原点回归的工作线性模型是\n$$\ny_i = s_i = A_{V_t} \\, x_i + \\varepsilon_i,\n$$\n其中 $\\varepsilon_i$ 捕获了与线性缩放的偏差和采样变异性。\n\n因为 $s_i$ 本身是从有限样本中估计出来的，所以其不确定性取决于 $m_i$。对于从真实标准差为 $\\sigma_i$ 的高斯分布中抽取的数据，统计量 $(m_i - 1)s_i^2/\\sigma_i^2$ 服从自由度为 $m_i - 1$ 的卡方分布。使用delta方法对标准差进行近似（或利用已知的矩），可以得到\n$$\n\\mathrm{Var}[s_i] \\approx \\frac{\\sigma_i^2}{2(m_i - 1)}.\n$$\n我们代入 $\\sigma_i \\approx s_i$ 以获得方差的实用估计量：\n$$\n\\widehat{\\mathrm{Var}}[y_i] \\approx \\frac{s_i^2}{2(m_i - 1)}.\n$$\n这得出的权重与误差方差成反比，\n$$\nw_i = \\frac{1}{\\widehat{\\mathrm{Var}}[y_i]} \\approx \\frac{2(m_i - 1)}{s_i^2}.\n$$\n\n使用权重 $w_i$ 和约束通过原点的回归，斜率 $A_{V_t}$ 的加权最小二乘估计量为\n$$\n\\hat{A}_{V_t} = \\frac{\\sum_{i=1}^n w_i x_i y_i}{\\sum_{i=1}^n w_i x_i^2}.\n$$\n残差为 $r_i = y_i - \\hat{A}_{V_t} x_i$。对于此单参数拟合，残差方差的无偏估计量为\n$$\n\\hat{\\sigma}_w^2 = \\frac{\\sum_{i=1}^n w_i r_i^2}{\\nu}, \\quad \\nu = n - 1,\n$$\n其中 $n$ 是几何尺寸的数量。斜率的标准误是\n$$\n\\mathrm{SE}(\\hat{A}_{V_t}) = \\sqrt{\\frac{\\hat{\\sigma}_w^2}{\\sum_{i=1}^n w_i x_i^2}}.\n$$\n假设估计量近似服从正态分布（这由大样本论证或应用于回归估计量的中心极限定理支持），$A_{V_t}$ 的双侧95%置信区间为\n$$\n\\hat{A}_{V_t} \\pm t_{0.975,\\nu} \\, \\mathrm{SE}(\\hat{A}_{V_t}),\n$$\n其中 $t_{0.975,\\nu}$ 是自由度为 $\\nu$ 的学生t分布的第97.5百分位数。\n\n算法设计：\n1. 解析每个数据集，并对每个几何尺寸，从原始 $\\Delta V_t$ 列表中计算无偏样本标准差 $s_i$ 得到 $y_i$（单位为伏特）。\n2. 使用微米为单位的 $W_i$ 和 $L_i$ 计算 $x_i = 1/\\sqrt{W_i L_i}$。\n3. 对于 $m_i \\ge 3$ 的情况，计算 $w_i = 2(m_i - 1)/s_i^2$。\n4. 通过加权过原点公式计算 $\\hat{A}_{V_t}$，然后使用自由度为 $\\nu = n - 1$ 的学生t分布计算 $\\hat{\\sigma}_w^2$、$\\mathrm{SE}(\\hat{A}_{V_t})$ 和置信区间。\n5. $\\hat{A}_{V_t}$ 的单位为 $\\mathrm{V}\\cdot\\mu\\mathrm{m}$。这是因为在模型 $y_i = A_{V_t} x_i$ 中，$y_i$ 的单位是伏特 (V)，而 $x_i = 1/\\sqrt{WL}$ 的单位是 $\\mu\\mathrm{m}^{-1}$ (因为 $W,L$ 以微米为单位，面积 $WL$ 的单位是 $\\mu\\mathrm{m}^2$)。因此，为了使单位匹配 ($V = A_{V_t} \\cdot \\mu\\mathrm{m}^{-1}$)，$A_{V_t}$ 的单位必须是 $\\mathrm{V}\\cdot\\mu\\mathrm{m}$。这与佩尔格罗姆系数的标准单位一致。\n6. 以单行形式输出扁平化列表 $[\\hat{A}_{V_t}^{(1)}, \\mathrm{CI}_{\\mathrm{low}}^{(1)}, \\mathrm{CI}_{\\mathrm{high}}^{(1)}, \\hat{A}_{V_t}^{(2)}, \\mathrm{CI}_{\\mathrm{low}}^{(2)}, \\mathrm{CI}_{\\mathrm{high}}^{(2)}, \\hat{A}_{V_t}^{(3)}, \\mathrm{CI}_{\\mathrm{low}}^{(3)}, \\mathrm{CI}_{\\mathrm{high}}^{(3)}]$，可选择性地为显示目的进行四舍五入。\n\n边界情况与论证：\n- 加权校正了因 $m_i$ 不同而引起的异方差性，否则回归会偏向于 $s_i$ 中采样噪声较大的几何尺寸。\n- 自由度 $\\nu = n - 1$ 反映了过原点模型中拟合的一个参数（斜率）。\n- 对于小样本 $n$，使用学生t分布是合适的，可以解释残差方差估计中的不确定性。\n\n将此程序应用于指定的测试数据集，将产生三组三元值，分别代表估计的佩尔格罗姆系数及其95%置信区间，并汇总到要求的单行输出中。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy.stats import t as student_t\n\ndef compute_sample_std(values):\n    \"\"\"Compute unbiased sample standard deviation (ddof=1).\"\"\"\n    arr = np.array(values, dtype=float)\n    if arr.size  2:\n        return 0.0\n    return float(np.std(arr, ddof=1))\n\ndef estimate_avt_with_ci(geometries):\n    \"\"\"\n    Estimate Pelgrom coefficient A_Vt via weighted least squares through origin.\n    geometries: list of tuples (W, L, [deltaVt_j])\n    Returns (A_hat, ci_low, ci_high) in V·um.\n    \"\"\"\n    # Compute x_i, y_i, weights w_i\n    x_list = []\n    y_list = []\n    w_list = []\n    m_list = []\n\n    for (W, L, dvt_list) in geometries:\n        # x_i = 1 / sqrt(W*L), with W and L in micrometers. Units: um^-1\n        area = W * L\n        if area = 0:\n            raise ValueError(\"Non-positive device area encountered.\")\n        x_i = 1.0 / np.sqrt(area)\n\n        # y_i = sample std of deltaVt in volts\n        m_i = len(dvt_list)\n        if m_i  3:\n            raise ValueError(\"Each geometry must have at least 3 pair measurements.\")\n        y_i = compute_sample_std(dvt_list)\n\n        # Weight from variance of sample std: Var[s_i] ≈ s_i^2 / (2*(m_i - 1))\n        # So w_i = 1 / Var[s_i] ≈ 2*(m_i - 1) / s_i^2\n        if y_i = 0:\n            raise ValueError(\"Zero or negative sample standard deviation encountered.\")\n        w_i = 2.0 * (m_i - 1) / (y_i ** 2)\n\n        x_list.append(x_i)\n        y_list.append(y_i)\n        w_list.append(w_i)\n        m_list.append(m_i)\n\n    x = np.array(x_list, dtype=float)\n    y = np.array(y_list, dtype=float)\n    w = np.array(w_list, dtype=float)\n\n    # Weighted least squares through origin:\n    # A_hat = (sum w x y) / (sum w x^2)\n    wx = w * x\n    denom = np.sum(wx * x)\n    if denom = 0:\n        raise ValueError(\"Non-positive denominator in WLS slope computation.\")\n    numer = np.sum(wx * y)\n    A_hat = numer / denom\n\n    # Residuals\n    residuals = y - A_hat * x\n\n    # Weighted residual variance estimate with nu = n - 1 degrees of freedom\n    n = x.size\n    nu = n - 1\n    if nu = 0:\n        raise ValueError(\"Insufficient number of geometries for CI computation.\")\n    sigma_w2_hat = np.sum(w * residuals**2) / nu\n\n    # Standard error of slope\n    se_A = np.sqrt(sigma_w2_hat / denom)\n\n    # 95% confidence interval using Student t\n    tcrit = student_t.ppf(0.975, df=nu)\n    ci_low = A_hat - tcrit * se_A\n    ci_high = A_hat + tcrit * se_A\n\n    # Units: y in V, x in um^-1, so A_hat is in V·um.\n    # This matches the conventional reporting standard for the Pelgrom coefficient.\n    return float(A_hat), float(ci_low), float(ci_high)\n\ndef solve():\n    # Define the test cases from the problem statement.\n    test_cases = [\n        # Test case 1\n        [\n            (0.12, 0.03, [0.052, -0.047, 0.061, -0.039, 0.045, -0.058, 0.050, -0.041, 0.055, -0.053, 0.036, -0.049]),\n            (0.24, 0.03, [0.033, -0.029, 0.041, -0.036, 0.027, -0.040, 0.037, -0.031, 0.035, -0.028, 0.039, -0.034]),\n            (0.12, 0.06, [0.033, -0.029, 0.041, -0.036, 0.027, -0.040, 0.037, -0.031, 0.035, -0.028, 0.039, -0.034]),\n            (0.24, 0.06, [0.019, -0.022, 0.031, -0.026, 0.023, -0.029, 0.021, -0.024, 0.027, -0.020, 0.025, -0.028]),\n        ],\n        # Test case 2\n        [\n            (0.10, 0.02, [0.064, -0.070, 0.079, -0.061, 0.055]),\n            (0.20, 0.02, [0.052, -0.041, 0.050, -0.045, 0.039, -0.049, 0.046, -0.043]),\n            (0.20, 0.04, [0.028, -0.037, 0.033, -0.031, 0.039]),\n            (0.40, 0.04, [0.022, -0.025, 0.020, -0.024, 0.026, -0.021, 0.019, -0.023, 0.027, -0.022]),\n        ],\n        # Test case 3\n        [\n            (0.12, 0.03, [0.057, -0.048, 0.051, -0.046, 0.061, -0.053, 0.049, -0.050, 0.055, -0.058, 0.042, -0.047]),\n            (0.24, 0.03, [0.040, -0.037, 0.035, -0.033, 0.041, -0.038, 0.034, -0.036, 0.039, -0.035, 0.030, -0.034]),\n            (0.24, 0.06, [0.028, -0.023, 0.025, -0.024, 0.030, -0.022, 0.027, -0.026, 0.024, -0.025, 0.029, -0.023]),\n        ],\n    ]\n\n    results = []\n    for geometries in test_cases:\n        A_hat, ci_low, ci_high = estimate_avt_with_ci(geometries)\n        # Round to six decimals for display as allowed by the problem statement.\n        results.extend([f\"{A_hat:.6f}\", f\"{ci_low:.6f}\", f\"{ci_high:.6f}\"])\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(results)}]\")\n\nsolve()\n```"
        },
        {
            "introduction": "设计者依赖工艺角（process corner）来保证电路在整个制造和工作环境变化范围内的性能。本练习将演示在实践中如何使用这些角模型来评估时序裕量。您将应用标准的 $\\alpha$-power law 模型来计算一条关键路径在典型和最差慢速条件下的传播延迟，从而清晰地展示工艺（P）、电压（V）和温度（T）的变化是如何共同决定性能边界的。",
            "id": "4291305",
            "problem": "在电子设计自动化（EDA）流程中，一条互补金属氧化物半导体（CMOS）关键时序路径被近似为等效负载电容的有效单级放电。受放电限制的传播延迟由第一性原理建模如下。当一个节点转换为低电平时，输出网络必须从负载中移除电荷 $Q$，其中 $Q = C_{\\mathrm{L}} V_{\\mathrm{DD}}$。如果平均放电电流为 $I_{\\mathrm{eff}}$，则移除电荷 $Q$ 的时间为 $t_{\\mathrm{pd}} \\approx Q / I_{\\mathrm{eff}} = C_{\\mathrm{L}} V_{\\mathrm{DD}} / I_{\\mathrm{eff}}$。对于短沟道器件，在轨到轨（rail-to-rail）转换期间的有效导通电流可以通过广泛使用的 $\\alpha$ 次幂定律模型来建模，该模型源于经典的漂移-扩散饱和关系：$I_{\\mathrm{eff}} \\propto \\mu \\left(V_{\\mathrm{DD}} - V_{\\mathrm{TH}}\\right)^{\\alpha}$，其中 $\\mu$ 是载流子迁移率，$V_{\\mathrm{TH}}$ 是阈值电压，$\\alpha \\in (1,2)$ 是一个与速度饱和相关的指数。\n\n请使用以下具有科学依据的依赖关系和工艺角（corner）表征：\n- 迁移率的温度依赖性：$\\mu(T) = \\mu_{0} \\left(\\frac{T}{T_{0}}\\right)^{-m}$，其中 $m = 1.5$ 且 $T_{0} = 298\\,\\mathrm{K}$（对应于 $25^{\\circ}\\mathrm{C}$）。\n- 阈值电压的温度依赖性：$V_{\\mathrm{TH}}(T) = V_{\\mathrm{TH},0} + \\kappa \\left(T - T_{0}\\right)$，其中 $V_{\\mathrm{TH},0} = 0.35\\,\\mathrm{V}$ 且 $\\kappa = -1.5 \\times 10^{-3}\\,\\mathrm{V/K}$。\n- 典型-典型（TT）工艺角：迁移率缩放因子 $s_{\\mu}^{\\mathrm{TT}} = 1$，工艺引起的阈值漂移 $\\Delta V_{\\mathrm{TH}}^{\\mathrm{TT}} = 0$。\n- 慢速-慢速（SS）工艺角：迁移率缩放因子 $s_{\\mu}^{\\mathrm{SS}} = 0.85$，工艺引起的阈值漂移 $\\Delta V_{\\mathrm{TH}}^{\\mathrm{SS}} = +0.05\\,\\mathrm{V}$。\n\n假设路径延迟受限于n沟道金属氧化物半导体场效应晶体管（nMOS）网络的放电，并且在形成比率时，有效负载 $C_{\\mathrm{L}}$ 和几何/氧化物常数会相互抵消。考虑操作温度 $T = 398\\,\\mathrm{K}$（对应于 $125^{\\circ}\\mathrm{C}$）、速度饱和指数 $\\alpha = 1.3$，以及两个电源/温度操作点：\n- TT 条件：$V_{\\mathrm{DD}} = 0.9\\,\\mathrm{V}$ 且 $T = 125^{\\circ}\\mathrm{C}$，\n- SS 条件：$V_{\\mathrm{DD}} = 0.81\\,\\mathrm{V}$ 且 $T = 125^{\\circ}\\mathrm{C}$。\n\n从上述定义（电荷移除论证和 $\\alpha$ 次幂电流模型）出发，推导SS延迟与TT延迟的比率 $R = \\frac{t_{\\mathrm{pd}}^{\\mathrm{SS}}}{t_{\\mathrm{pd}}^{\\mathrm{TT}}}$，并计算为使基于TT的设计在SS条件下安全所需的分数时序裕量（fractional timing margin），该裕量定义为 $M = R - 1$。将您最终的 $M$ 数值四舍五入到四位有效数字。将 $M$ 表示为无单位的小数。请勿使用百分号表示您的答案。",
            "solution": "问题要求推导并计算为使基于典型-典型（TT）工艺角的设计在慢速-慢速（SS）工艺角下安全所需的分数时序裕量 $M$。该裕量定义为 $M = R - 1$，其中 $R$ 是SS工艺角下的传播延迟与TT工艺角下的传播延迟之比，即 $R = \\frac{t_{\\mathrm{pd}}^{\\mathrm{SS}}}{t_{\\mathrm{pd}}^{\\mathrm{TT}}}$。\n\n传播延迟 $t_{\\mathrm{pd}}$ 由电荷移除模型给出：\n$$t_{\\mathrm{pd}} \\approx \\frac{Q}{I_{\\mathrm{eff}}} = \\frac{C_{\\mathrm{L}} V_{\\mathrm{DD}}}{I_{\\mathrm{eff}}}$$\n其中 $C_{\\mathrm{L}}$ 是负载电容，$V_{\\mathrm{DD}}$ 是电源电压，$I_{\\mathrm{eff}}$ 是平均放电电流。\n\n有效电流 $I_{\\mathrm{eff}}$ 由 $\\alpha$ 次幂定律模型描述：\n$$I_{\\mathrm{eff}} \\propto \\mu \\left(V_{\\mathrm{DD}} - V_{\\mathrm{TH}}\\right)^{\\alpha}$$\n其中 $\\mu$ 是载流子迁移率，$V_{\\mathrm{TH}}$ 是阈值电压，$\\alpha$ 是速度饱和指数。设比例常数为 $A$，该常数取决于器件的几何形状和氧化层电容。\n$$I_{\\mathrm{eff}} = A \\cdot \\mu \\left(V_{\\mathrm{DD}} - V_{\\mathrm{TH}}\\right)^{\\alpha}$$\n\n将 $I_{\\mathrm{eff}}$ 的这个表达式代入 $t_{\\mathrm{pd}}$ 的方程中，得到：\n$$t_{\\mathrm{pd}} = \\frac{C_{\\mathrm{L}} V_{\\mathrm{DD}}}{A \\cdot \\mu \\left(V_{\\mathrm{DD}} - V_{\\mathrm{TH}}\\right)^{\\alpha}}$$\n\n我们现在可以构建比率 $R = \\frac{t_{\\mathrm{pd}}^{\\mathrm{SS}}}{t_{\\mathrm{pd}}^{\\mathrm{TT}}}$。问题陈述，$C_{\\mathrm{L}}$ 和其他几何常数（包含在 $A$ 中）在形成比率时会相互抵消。这意味着 $C_{\\mathrm{L}}$ 和 $A$ 在不同工艺角下是恒定的。\n$$R = \\frac{\\frac{C_{\\mathrm{L}} V_{\\mathrm{DD}}^{\\mathrm{SS}}}{A \\cdot \\mu^{\\mathrm{SS}} \\left(V_{\\mathrm{DD}}^{\\mathrm{SS}} - V_{\\mathrm{TH}}^{\\mathrm{SS}}\\right)^{\\alpha}}}{\\frac{C_{\\mathrm{L}} V_{\\mathrm{DD}}^{\\mathrm{TT}}}{A \\cdot \\mu^{\\mathrm{TT}} \\left(V_{\\mathrm{DD}}^{\\mathrm{TT}} - V_{\\mathrm{TH}}^{\\mathrm{TT}}\\right)^{\\alpha}}}$$\n$$R = \\left(\\frac{V_{\\mathrm{DD}}^{\\mathrm{SS}}}{V_{\\mathrm{DD}}^{\\mathrm{TT}}}\\right) \\left(\\frac{\\mu^{\\mathrm{TT}}}{\\mu^{\\mathrm{SS}}}\\right) \\left(\\frac{V_{\\mathrm{DD}}^{\\mathrm{TT}} - V_{\\mathrm{TH}}^{\\mathrm{TT}}}{V_{\\mathrm{DD}}^{\\mathrm{SS}} - V_{\\mathrm{TH}}^{\\mathrm{SS}}}\\right)^{\\alpha}$$\n\n接下来，我们必须计算每个工艺角和操作点下参数的具体值。\n两个操作点的操作温度均为 $T = 398\\,\\mathrm{K}$。参考温度为 $T_{0} = 298\\,\\mathrm{K}$。\n\n首先，我们计算在操作温度 $T$ 下的标称阈值电压：\n$$V_{\\mathrm{TH,nom}}(T) = V_{\\mathrm{TH},0} + \\kappa \\left(T - T_{0}\\right)$$\n给定 $V_{\\mathrm{TH},0} = 0.35\\,\\mathrm{V}$ 和 $\\kappa = -1.5 \\times 10^{-3}\\,\\mathrm{V/K}$：\n$$V_{\\mathrm{TH,nom}}(398\\,\\mathrm{K}) = 0.35\\,\\mathrm{V} + (-1.5 \\times 10^{-3}\\,\\mathrm{V/K}) \\left(398\\,\\mathrm{K} - 298\\,\\mathrm{K}\\right)$$\n$$V_{\\mathrm{TH,nom}}(398\\,\\mathrm{K}) = 0.35\\,\\mathrm{V} - (1.5 \\times 10^{-3} \\times 100)\\,\\mathrm{V} = 0.35\\,\\mathrm{V} - 0.15\\,\\mathrm{V} = 0.20\\,\\mathrm{V}$$\n\n现在我们通过加上工艺引起的漂移 $\\Delta V_{\\mathrm{TH}}$ 来计算每个工艺角的总阈值电压：\n$$V_{\\mathrm{TH}}^{\\mathrm{TT}} = V_{\\mathrm{TH,nom}}(398\\,\\mathrm{K}) + \\Delta V_{\\mathrm{TH}}^{\\mathrm{TT}} = 0.20\\,\\mathrm{V} + 0\\,\\mathrm{V} = 0.20\\,\\mathrm{V}$$\n$$V_{\\mathrm{TH}}^{\\mathrm{SS}} = V_{\\mathrm{TH,nom}}(398\\,\\mathrm{K}) + \\Delta V_{\\mathrm{TH}}^{\\mathrm{SS}} = 0.20\\,\\mathrm{V} + 0.05\\,\\mathrm{V} = 0.25\\,\\mathrm{V}$$\n\n接下来，我们求迁移率的比值 $\\frac{\\mu^{\\mathrm{TT}}}{\\mu^{\\mathrm{SS}}}$。总迁移率是 $\\mu = s_{\\mu} \\cdot \\mu_{\\mathrm{nominal}}(T)$，其中 $s_{\\mu}$ 是工艺角缩放因子，$\\mu_{\\mathrm{nominal}}(T) = \\mu_{0} \\left(\\frac{T}{T_{0}}\\right)^{-m}$。由于两种情况下的温度 $T$ 相同，因此与温度相关的分量 $\\mu_{\\mathrm{nominal}}(T)$ 在比率中被抵消：\n$$\\frac{\\mu^{\\mathrm{TT}}}{\\mu^{\\mathrm{SS}}} = \\frac{s_{\\mu}^{\\mathrm{TT}} \\cdot \\mu_{\\mathrm{nominal}}(T)}{s_{\\mu}^{\\mathrm{SS}} \\cdot \\mu_{\\mathrm{nominal}}(T)} = \\frac{s_{\\mu}^{\\mathrm{TT}}}{s_{\\mu}^{\\mathrm{SS}}}$$\n给定 $s_{\\mu}^{\\mathrm{TT}} = 1$ 和 $s_{\\mu}^{\\mathrm{SS}} = 0.85$：\n$$\\frac{\\mu^{\\mathrm{TT}}}{\\mu^{\\mathrm{SS}}} = \\frac{1}{0.85}$$\n\n我们有以下数值：\n-   $V_{\\mathrm{DD}}^{\\mathrm{TT}} = 0.9\\,\\mathrm{V}$\n-   $V_{\\mathrm{DD}}^{\\mathrm{SS}} = 0.81\\,\\mathrm{V}$\n-   $V_{\\mathrm{TH}}^{\\mathrm{TT}} = 0.20\\,\\mathrm{V}$\n-   $V_{\\mathrm{TH}}^{\\mathrm{SS}} = 0.25\\,\\mathrm{V}$\n-   $\\alpha = 1.3$\n-   $\\frac{\\mu^{\\mathrm{TT}}}{\\mu^{\\mathrm{SS}}} = \\frac{1}{0.85}$\n\n我们将这些值代入 R 的表达式中：\n$$R = \\left(\\frac{0.81}{0.9}\\right) \\left(\\frac{1}{0.85}\\right) \\left(\\frac{0.9 - 0.20}{0.81 - 0.25}\\right)^{1.3}$$\n$$R = (0.9) \\left(\\frac{1}{0.85}\\right) \\left(\\frac{0.70}{0.56}\\right)^{1.3}$$\n括号内的分数可以简化：\n$$\\frac{0.70}{0.56} = \\frac{70}{56} = \\frac{10}{8} = \\frac{5}{4} = 1.25$$\n所以，R 的表达式变为：\n$$R = \\left(\\frac{0.9}{0.85}\\right) (1.25)^{1.3}$$\n现在我们计算其数值：\n$$R \\approx (1.0588235...) \\times (1.3365300...)$$\n$$R \\approx 1.4150536$$\n\n最后，我们计算分数时序裕量 M：\n$$M = R - 1$$\n$$M \\approx 1.4150536 - 1 = 0.4150536$$\n问题要求将结果四舍五入到四位有效数字。第五位有效数字是 5，所以我们将第四位数字向上取整。\n$$M \\approx 0.4151$$\n这个结果表明，为确保在TT工艺角下表征的设计能满足最差的SS工艺角条件下的时序要求，需要大约 $41.51\\%$ 的时序裕量。",
            "answer": "$$\n\\boxed{0.4151}\n$$"
        },
        {
            "introduction": "标准的工艺角分析虽然有用，但它假设所有参数都独立地处于其最差值，这可能导致过于悲观的设计。本高级练习旨在探讨工艺参数之间的统计相关性所带来的影响，这是现代统计静态时序分析（SSTA）中的一个核心概念。通过比较使用独立工艺角和更真实的相关模型的延迟计算结果，您将理解为何在设计中考虑这些相关性对于避免过度设计和实现更精确的性能签核至关重要。",
            "id": "4291344",
            "problem": "数字集成电路中的同步路径，根据电子设计自动化（EDA）中基于标准工艺角（corner）的签核（signoff）实践，使用关于归一化全局工艺参数的延迟一阶线性化模型来对其可变性进行建模。考虑一个由驱动互连线段的 $N$ 个相同逻辑级组成的路径。设每级的标称门延迟为 $t_{g0}$，每段的标称互连延迟为 $t_{w0}$。将归一化的全局晶体管速度参数 $X_{g}$ 和归一化的全局互连线-$RC$ 参数 $X_{w}$ 定义为零均值、单位方差的高斯随机变量。总路径延迟的一阶模型为\n$$D = D_{0} + c_{g} X_{g} + c_{w} X_{w},$$\n其中 $D_{0} = N\\,(t_{g0} + t_{w0})$，$c_{g} = N\\,t_{g0}\\,a$，$c_{w} = N\\,t_{w0}\\,b$。这里，$a$ 和 $b$ 分别是门延迟和互连延迟的单位标准差（per-sigma）分数灵敏度，两者均为正数。设 $k$-sigma 工艺角水平为 $k0$。晶体管工艺角“快-快（FF）”和“慢-慢（SS）”分别对应于 $X_{g} = -k$ 和 $X_{g} = +k$。最差情况的互连工艺角“$RC_{\\max}$”对应于 $X_{w} = +k$。\n\n考虑两种工艺角组合的解释：\n\n1) 独立工艺角假设：$X_{g}$ 和 $X_{w}$ 在其边际最差情况下独立选择。\n\n2) 相关工艺角假设：$(X_{g}, X_{w})$ 是一个相关系数为 $\\rho$ 的二元正态分布，其联合 $k$-sigma 最差情况由马氏椭圆（Mahalanobis ellipse）定义\n$$\n\\frac{X_{g}^{2} - 2 \\rho X_{g} X_{w} + X_{w}^{2}}{1 - \\rho^{2}} = k^{2}.\n$$\n此外，在这两种情况下，互连线都固定在其最差情况的边际工艺角 $X_{w} = +k$。\n\n使用以下数值进行评估：\n- 级数 $N = 10$。\n- 标称延迟 $t_{g0} = 15$ ps 和 $t_{w0} = 25$ ps。\n- 灵敏度 $a = 0.08$ 和 $b = 0.16$。\n- 工艺角水平 $k = 3$。\n- 相关系数 $\\rho = -0.5$。\n\n任务：\n- 从第一性原理出发，以线性延迟模型和二元正态等密度椭圆的定义为起点，推导在相关工艺角假设下，能够与 $X_{w}=+k$ 一致组合的晶体管工艺角。\n- 通过比较 SS+$RC_{\\max}$ 和 FF+$RC_{\\max}$ 组合，计算独立工艺角下的最大延迟。\n- 在联合 $k$-sigma 椭圆和 $X_{w}=+k$ 的条件下，计算相关工艺角下的最大延迟。\n- 最后，报告无量纲比值\n$$\nR \\equiv \\frac{D_{\\text{max, correlated}}}{D_{\\text{max, independent}}}.\n$$\n\n将您最终的 $R$ 数值结果四舍五入至四位有效数字。仅报告该比值（无单位）。",
            "solution": "分析始于所给定的总路径延迟 $D$ 的一阶线性模型：\n$$\nD = D_{0} + c_{g} X_{g} + c_{w} X_{w}\n$$\n此处，$X_g$ 和 $X_w$ 是归一化的、零均值、单位方差的高斯随机变量，分别代表晶体管和互连线的全局工艺变化。系数 $D_0$、$c_g$ 和 $c_w$ 由标称电路参数确定。\n\n首先，我们使用所提供的数据计算这些系数的数值：\n- 级数 $N = 10$。\n- 标称门延迟 $t_{g0} = 15$ ps。\n- 标称线延迟 $t_{w0} = 25$ ps。\n- 门延迟灵敏度 $a = 0.08$。\n- 线延迟灵敏度 $b = 0.16$。\n\n标称总路径延迟 $D_0$ 为：\n$$\nD_{0} = N(t_{g0} + t_{w0}) = 10 \\times (15 \\text{ ps} + 25 \\text{ ps}) = 10 \\times 40 \\text{ ps} = 400 \\text{ ps}\n$$\n灵敏度系数 $c_g$ 和 $c_w$ 为：\n$$\nc_{g} = N t_{g0} a = 10 \\times 15 \\text{ ps} \\times 0.08 = 150 \\text{ ps} \\times 0.08 = 12 \\text{ ps}\n$$\n$$\nc_{w} = N t_{w0} b = 10 \\times 25 \\text{ ps} \\times 0.16 = 250 \\text{ ps} \\times 0.16 = 40 \\text{ ps}\n$$\n因此，该问题的特定延迟模型为：\n$$\nD = (400 + 12 X_{g} + 40 X_{w}) \\text{ ps}\n$$\n由于灵敏度系数 $c_g = 12$ 和 $c_w = 40$ 均为正，因此 $X_g$ 或 $X_w$ 的增加都会导致总路径延迟 $D$ 的增加。该路径被认为是“最大路径”或“慢路径”，我们关心的是其最大延迟。\n\n接下来，我们分析两种不同的工艺角组合解释。问题指定工艺角水平为 $k=3$。\n\n**独立工艺角最大延迟 ($D_{\\text{max, independent}}$)**\n\n在此假设下，工艺参数 $X_g$ 和 $X_w$ 被独立地设置为其边际最差情况的值。问题指出，互连线固定在其最差情况的边际工艺角 $RC_{\\max}$，这对应于 $X_w = +k = +3$。对于晶体管速度，我们必须在慢-慢（SS）工艺角 $X_g = +k = +3$ 和快-快（FF）工艺角 $X_g = -k = -3$ 之间进行选择。为了找到最大延迟，我们必须选择能使表达式 $D = 400 + 12 X_g + 40(3)$ 最大化的 $X_g$ 值。由于系数 $c_g = 12$ 为正，我们必须选择 $X_g$ 的最大可用值，即来自 SS 工艺角的 $X_g = +3$。\n因此，该方案下的最差情况工艺角为 $(X_g, X_w) = (+k, +k) = (+3, +3)$。最大延迟为：\n$$\nD_{\\text{max, independent}} = 400 + 12(+3) + 40(+3) = 400 + 36 + 120 = 556 \\text{ ps}\n$$\n\n**相关工艺角最大延迟 ($D_{\\text{max, correlated}}$)**\n\n该方法考虑了 $X_g$ 和 $X_w$ 之间的统计相关性 $\\rho = -0.5$。联合 $k$-sigma 最差情况由马氏椭圆（Mahalanobis ellipse）上的一组点 $(X_g, X_w)$ 定义：\n$$\n\\frac{X_{g}^{2} - 2 \\rho X_{g} X_{w} + X_{w}^{2}}{1 - \\rho^{2}} = k^{2}\n$$\n第一个任务是推导与该椭圆一致的晶体管工艺角 $X_g$，给定固定的最差情况互连工艺角 $X_w = +k$。我们将 $X_w = k$ 代入椭圆方程：\n$$\n\\frac{X_{g}^{2} - 2 \\rho X_{g} k + k^{2}}{1 - \\rho^{2}} = k^{2}\n$$\n重新整理方程以求解 $X_g$：\n$$\nX_{g}^{2} - 2 \\rho k X_{g} + k^{2} = k^{2}(1 - \\rho^{2})\n$$\n$$\nX_{g}^{2} - 2 \\rho k X_{g} + k^{2} = k^{2} - k^{2} \\rho^{2}\n$$\n$$\nX_{g}^{2} - (2 \\rho k) X_{g} + (k^{2} \\rho^{2}) = 0\n$$\n这是一个关于 $X_g$ 的二次方程。我们识别出它是一个完全平方：\n$$\n(X_g - \\rho k)^{2} = 0\n$$\n该方程有唯一的解：\n$$\nX_g = \\rho k\n$$\n这是在相关假设下，当 $X_w$ 固定为 $+k$ 时，推导出的晶体管工艺角参数值。\n\n使用给定的数值 $k=3$ 和 $\\rho = -0.5$，我们找到特定的晶体管工艺角：\n$$\nX_g = (-0.5)(3) = -1.5\n$$\n因此，在 $X_w = +k$ 的条件下，相关的最差情况工艺角为 $(X_g, X_w) = (-1.5, +3)$。在此相关工艺角假设下，最大延迟是在这一点上计算的：\n$$\nD_{\\text{max, correlated}} = 400 + 12(-1.5) + 40(+3) = 400 - 18 + 120 = 502 \\text{ ps}\n$$\n这个结果具有物理意义：由于负相关（$\\rho  0$），当互连线较慢（$X_w$ 为大的正数）时，晶体管在统计上更可能较快（$X_g$ 为负数）。相关工艺角模型捕捉了这种效应，与独立工艺角方法相比，得出了一个不那么悲观（即更小）的最大延迟。独立工艺角方法考虑的是两个参数同时处于其慢速极端这种不太可能发生的组合。\n\n**最终比率计算**\n\n最后一步是计算无量纲比值 $R$：\n$$\nR = \\frac{D_{\\text{max, correlated}}}{D_{\\text{max, independent}}} = \\frac{502 \\text{ ps}}{556 \\text{ ps}}\n$$\n$$\nR \\approx 0.902877...\n$$\n按要求将结果四舍五入至四位有效数字，我们得到：\n$$\nR \\approx 0.9029\n$$",
            "answer": "$$\n\\boxed{0.9029}\n$$"
        }
    ]
}