{
    "hands_on_practices": [
        {
            "introduction": "Polish expressions provide a compact and elegant way to represent any possible slicing floorplan. The ability to decode this one-dimensional string of symbols back into a two-dimensional layout is a fundamental skill. This exercise  provides direct practice in translating a normalized Polish expression into its corresponding slicing tree, calculating the final placement coordinates, and evaluating the quality of the resulting floorplan using area and wirelength metrics.",
            "id": "4272863",
            "problem": "Consider a slicing floorplan representation using a normalized Polish expression. A normalized Polish expression is a postfix encoding of a binary slicing tree in which operands are module identifiers and operators are slicing directives, where a vertical cut operator arranges the left and right child subfloorplans side-by-side and a horizontal cut operator stacks the bottom and top child subfloorplans vertically. Decode the following normalized Polish expression into its slicing tree and use it to induce a concrete placement for hard rectangular modules:\n$$M_1\\ M_2\\ V\\ M_3\\ H\\ M_4\\ M_5\\ V\\ H.$$\nEach module $M_i$ is a hard block with fixed width and height:\n- $M_1$: width $w_1=3$, height $h_1=2$,\n- $M_2$: width $w_2=2$, height $h_2=3$,\n- $M_3$: width $w_3=4$, height $h_3=1$,\n- $M_4$: width $w_4=1$, height $h_4=5$,\n- $M_5$: width $w_5=2$, height $h_5=2$.\n\nUse an origin at the bottom-left corner of the final floorplan and place subfloorplans by aligning child subfloorplans to the bottom or left edges at each slicing operation, consistent with the semantics of vertical and horizontal cuts. Demonstrate the correspondence between the positions of the operators $V$ and $H$ in the normalized Polish expression and the induced subfloorplan partitions in the slicing tree.\n\nLet the total cost be defined as\n$$C=\\alpha \\cdot A + \\beta \\cdot L,$$\nwhere $A$ is the area of the final bounding rectangle of the floorplan and $L$ is the total weighted Manhattan wirelength computed as the sum, over nets, of the net weight multiplied by the Manhattan distance between the centers of the connected modules. The Manhattan distance between two points $(x_a,y_a)$ and $(x_b,y_b)$ is $|x_a-x_b|+|y_a-y_b|$. The weights and two-pin nets are:\n- Between $M_1$ and $M_2$ with weight $1$,\n- Between $M_2$ and $M_3$ with weight $2$,\n- Between $M_3$ and $M_4$ with weight $3$,\n- Between $M_1$ and $M_5$ with weight $1.5$.\n\nUse $\\alpha=0.05$ and $\\beta=1$. Compute the final cost $C$ for the decoded slicing tree and induced placement. Express the final cost as a dimensionless value and round your answer to four significant figures.",
            "solution": "The problem statement has been validated and is deemed sound, well-posed, and complete. We proceed with a step-by-step solution.\n\nThe problem requires decoding a normalized Polish expression to determine the geometric placement of modules in a slicing floorplan and then calculating a cost function based on the resulting area and wirelength.\n\n### Step 1: Decode the Normalized Polish Expression into a Slicing Tree\n\nA normalized Polish expression represents a post-order traversal of a binary slicing tree. We can construct the tree using a stack-based algorithm. The expression to be parsed is $$M_1\\ M_2\\ V\\ M_3\\ H\\ M_4\\ M_5\\ V\\ H.$$\n\n1.  **$M_1$**: Push $M_1$ onto the stack. Stack: $[M_1]$.\n2.  **$M_2$**: Push $M_2$ onto the stack. Stack: $[M_1, M_2]$.\n3.  **$V$**: Pop $M_2$ (right child) and $M_1$ (left child). Create an internal node $N_1 = V(M_1, M_2)$. Push $N_1$ onto the stack. Stack: $[N_1]$. This first operator, $V$, corresponds to the vertical cut partitioning the subfloorplan containing $M_1$ and $M_2$.\n4.  **$M_3$**: Push $M_3$ onto the stack. Stack: $[N_1, M_3]$.\n5.  **$H$**: Pop $M_3$ (top child) and $N_1$ (bottom child). Create an internal node $N_2 = H(N_1, M_3)$. Push $N_2$ onto the stack. Stack: $[N_2]$. This operator, $H$, corresponds to the horizontal cut partitioning the subfloorplan defined by $N_1$ and the module $M_3$.\n6.  **$M_4$**: Push $M_4$ onto the stack. Stack: $[N_2, M_4]$.\n7.  **$M_5$**: Push $M_5$ onto the stack. Stack: $[N_2, M_4, M_5]$.\n8.  **$V$**: Pop $M_5$ (right child) and $M_4$ (left child). Create an internal node $N_3 = V(M_4, M_5)$. Push $N_3$ onto the stack. Stack: $[N_2, N_3]$. This operator, $V$, corresponds to the vertical cut partitioning the subfloorplan containing $M_4$ and $M_5$.\n9.  **$H$**: Pop $N_3$ (top child) and $N_2$ (bottom child). Create the root node $R = H(N_2, N_3)$. Push $R$ onto the stack. Stack: $[R]$. This final operator, $H$, corresponds to the main horizontal cut partitioning the entire floorplan into two major subfloorplans, $N_2$ and $N_3$.\n\nThe resulting slicing tree is rooted at $R$ and has the structure $R = H(H(V(M_1, M_2), M_3), V(M_4, M_5))$.\n\n### Step 2: Compute Bounding Box Dimensions and Module Coordinates\n\nWe perform a bottom-up traversal of the slicing tree to compute the dimensions $(w, h)$ of each subfloorplan. Let the dimensions of module $M_i$ be $(w_i, h_i)$.\nFor a vertical cut $V(A, B)$, the resulting dimensions are $(w_A+w_B, \\max(h_A, h_B))$.\nFor a horizontal cut $H(A, B)$, the resulting dimensions are $(\\max(w_A, w_B), h_A+h_B)$.\n\n- **Leaf Nodes (Modules)**:\n    - $M_1$: $(w_1, h_1) = (3, 2)$\n    - $M_2$: $(w_2, h_2) = (2, 3)$\n    - $M_3$: $(w_3, h_3) = (4, 1)$\n    - $M_4$: $(w_4, h_4) = (1, 5)$\n    - $M_5$: $(w_5, h_5) = (2, 2)$\n\n- **Internal Node $N_1 = V(M_1, M_2)$**:\n    - $w_{N1} = w_1 + w_2 = 3 + 2 = 5$\n    - $h_{N1} = \\max(h_1, h_2) = \\max(2, 3) = 3$\n\n- **Internal Node $N_2 = H(N_1, M_3)$**:\n    - $w_{N2} = \\max(w_{N1}, w_3) = \\max(5, 4) = 5$\n    - $h_{N2} = h_{N1} + h_3 = 3 + 1 = 4$\n\n- **Internal Node $N_3 = V(M_4, M_5)$**:\n    - $w_{N3} = w_4 + w_5 = 1 + 2 = 3$\n    - $h_{N3} = \\max(h_4, h_5) = \\max(5, 2) = 5$\n\n- **Root Node $R = H(N_2, N_3)$**:\n    - $W_{total} = w_R = \\max(w_{N2}, w_{N3}) = \\max(5, 3) = 5$\n    - $H_{total} = h_R = h_{N2} + h_{N3} = 4 + 5 = 9$\n\nThe final floorplan has a bounding box of width $5$ and height $9$.\n\nNext, we perform a top-down traversal to determine the absolute coordinates $(x, y)$ of the bottom-left corner of each module, with the origin $(0,0)$ at the bottom-left of the entire floorplan.\n\n- **Root $R$**: placed at $(0,0)$.\n- **Children of $R = H(N_2, N_3)$**:\n    - $N_2$ (bottom) is placed at $(0,0)$.\n    - $N_3$ (top) is placed at $(0, h_{N2}) = (0, 4)$.\n- **Children of $N_2 = H(N_1, M_3)$** (relative to $N_2$'s origin at $(0,0)$):\n    - $N_1$ (bottom) is placed at $(0,0)$. Its absolute coordinate is $(0,0)$.\n    - $M_3$ (top) is placed at $(0, h_{N1}) = (0, 3)$. Its absolute coordinate is $(0,3)$.\n- **Children of $N_1 = V(M_1, M_2)$** (relative to $N_1$'s origin at $(0,0)$):\n    - $M_1$ (left) is placed at $(0,0)$. Its absolute coordinate is $(0,0)$.\n    - $M_2$ (right) is placed at $(w_1, 0) = (3, 0)$. Its absolute coordinate is $(3,0)$.\n- **Children of $N_3 = V(M_4, M_5)$** (relative to $N_3$'s origin at $(0,4)$):\n    - $M_4$ (left) is placed at $(0,0)$ relative to $N_3$. Its absolute coordinate is $(0, 4)$.\n    - $M_5$ (right) is placed at $(w_4, 0) = (1, 0)$ relative to $N_3$. Its absolute coordinate is $(0+1, 4+0) = (1, 4)$.\n\nSummary of module placements (coordinates $(x_i, y_i)$ and dimensions $(w_i, h_i)$):\n- $M_1$: $(x_1, y_1)=(0,0)$, $(w_1, h_1)=(3,2)$\n- $M_2$: $(x_2, y_2)=(3,0)$, $(w_2, h_2)=(2,3)$\n- $M_3$: $(x_3, y_3)=(0,3)$, $(w_3, h_3)=(4,1)$\n- $M_4$: $(x_4, y_4)=(0,4)$, $(w_4, h_4)=(1,5)$\n- $M_5$: $(x_5, y_5)=(1,4)$, $(w_5, h_5)=(2,2)$\n\n### Step 3: Calculate the Total Cost\n\nThe total cost is $C=\\alpha \\cdot A + \\beta \\cdot L$, with $\\alpha=0.05$ and $\\beta=1$.\n\n**3.1. Area Calculation**\nThe area $A$ of the final bounding rectangle is:\n$$A = W_{total} \\times H_{total} = 5 \\times 9 = 45.$$\n\n**3.2. Wirelength Calculation**\nFirst, we find the center coordinates $(x_{ci}, y_{ci}) = (x_i + w_i/2, y_i + h_i/2)$ for each module:\n- $M_1$: $(x_{c1}, y_{c1}) = (0 + 3/2, 0 + 2/2) = (1.5, 1)$\n- $M_2$: $(x_{c2}, y_{c2}) = (3 + 2/2, 0 + 3/2) = (4, 1.5)$\n- $M_3$: $(x_{c3}, y_{c3}) = (0 + 4/2, 3 + 1/2) = (2, 3.5)$\n- $M_4$: $(x_{c4}, y_{c4}) = (0 + 1/2, 4 + 5/2) = (0.5, 6.5)$\n- $M_5$: $(x_{c5}, y_{c5}) = (1 + 2/2, 4 + 2/2) = (2, 5)$\n\nNext, we compute the weighted Manhattan wirelength for each net:\n- **Net $M_1-M_2$ (weight $1$)**:\n$L_{12} = 1 \\times (|x_{c1}-x_{c2}| + |y_{c1}-y_{c2}|) = 1 \\times (|1.5-4| + |1-1.5|) = 1 \\times (2.5 + 0.5) = 3$\n- **Net $M_2-M_3$ (weight $2$)**:\n$L_{23} = 2 \\times (|x_{c2}-x_{c3}| + |y_{c2}-y_{c3}|) = 2 \\times (|4-2| + |1.5-3.5|) = 2 \\times (2 + 2) = 8$\n- **Net $M_3-M_4$ (weight $3$)**:\n$L_{34} = 3 \\times (|x_{c3}-x_{c4}| + |y_{c3}-y_{c4}|) = 3 \\times (|2-0.5| + |3.5-6.5|) = 3 \\times (1.5 + 3) = 3 \\times 4.5 = 13.5$\n- **Net $M_1-M_5$ (weight $1.5$)**:\n$L_{15} = 1.5 \\times (|x_{c1}-x_{c5}| + |y_{c1}-y_{c5}|) = 1.5 \\times (|1.5-2| + |1-5|) = 1.5 \\times (0.5 + 4) = 1.5 \\times 4.5 = 6.75$\n\nThe total wirelength $L$ is the sum of the individual weighted lengths:\n$$L = L_{12} + L_{23} + L_{34} + L_{15} = 3 + 8 + 13.5 + 6.75 = 31.25.$$\n\n**3.3. Final Cost Calculation**\nNow we compute the total cost $C$:\n$$C = \\alpha \\cdot A + \\beta \\cdot L = (0.05 \\times 45) + (1 \\times 31.25)$$\n$$C = 2.25 + 31.25 = 33.5$$\nThe problem asks for the answer to be rounded to four significant figures. The value $33.5$ can be expressed as $33.50$ to meet this requirement.",
            "answer": "$$\\boxed{33.50}$$"
        },
        {
            "introduction": "While slicing structures are simple, they cannot represent all possible packing arrangements, such as the pinwheel structure. Sequence pairs were developed to encode these more general non-slicing floorplans. This practice  guides you through the core algorithm for decoding a sequence pair: deriving the horizontal and vertical constraint graphs and then applying a longest-path algorithm to determine the most compact placement that satisfies the encoded constraints.",
            "id": "4272827",
            "problem": "Consider a standard non-slicing floorplanning formulation in Electronic Design Automation (EDA) using the sequence pair representation. Five hard rectangular modules $\\{A,B,C,D,E\\}$ are given with fixed widths and heights (no rotation permitted). All coordinates are measured in micrometers, and the placement coordinate system has the origin at the lower-left corner. A uniform minimum horizontal spacing of $s_{x}$ and a uniform minimum vertical spacing of $s_{y}$ must be enforced between any two modules that have a left-of or below-of relation, respectively. The sequence pair is given by the ordered sequences $\\pi^{+}$ and $\\pi^{-}$, where $\\pi^{+}=(C,A,E,B,D)$ and $\\pi^{-}=(A,C,B,D,E)$. The module dimensions and spacings are:\n- $w_{A}=30$, $h_{A}=20$; $w_{B}=25$, $h_{B}=35$; $w_{C}=40$, $h_{C}=15$; $w_{D}=20$, $h_{D}=30$; $w_{E}=15$, $h_{E}=25$.\n- $s_{x}=5$, $s_{y}=10$.\n\nStarting from the fundamental definitions of a sequence pair, the induced horizontal and vertical precedence relations, and the construction of the corresponding constraint graphs as Directed Acyclic Graphs (DAGs), do the following:\n1. Derive the left-of and below-of relations implied by the sequence pair and construct the horizontal and vertical constraint DAGs.\n2. Using the longest path computation on each DAG with appropriate node weights (module widths for the horizontal graph and module heights for the vertical graph, together with the required spacings), compute the compacted placement $(x_{i},y_{i})$ for each module $i \\in \\{A,B,C,D,E\\}$ that satisfies all precedence constraints and spacings.\n3. Compute the outline width $W=\\max_{i}(x_{i}+w_{i})$ and outline height $H=\\max_{i}(y_{i}+h_{i})$, then the total outline area $A=W \\times H$.\n\nExpress the final area $A$ in square micrometers and round your answer to four significant figures, using scientific notation. The final answer must be a single real-valued number.",
            "solution": "We begin with the fundamental definitions of the sequence pair method for non-slicing floorplanning. Given a pair of permutations $(\\pi^{+},\\pi^{-})$ over the module set, for any two modules $i$ and $j$:\n- If $i$ precedes $j$ in both $\\pi^{+}$ and $\\pi^{-}$, then $i$ must be placed to the left of $j$.\n- If $i$ precedes $j$ in $\\pi^{+}$ and $j$ precedes $i$ in $\\pi^{-}$, then $i$ must be placed below $j$.\n\nThese relations induce two precedence DAGs: a horizontal constraint graph $\\mathcal{H}$ capturing left-of relations and a vertical constraint graph $\\mathcal{V}$ capturing below-of relations. In compact placement, for every directed edge $i \\rightarrow j$ in $\\mathcal{H}$, the coordinates must satisfy $x_{j} \\ge x_{i} + w_{i} + s_{x}$, and for every edge $i \\rightarrow j$ in $\\mathcal{V}$, $y_{j} \\ge y_{i} + h_{i} + s_{y}$. With a super-source node connected to all modules by zero-weight edges, the compact solution is obtained by computing longest path distances in each DAG, where each edge $i \\rightarrow j$ in $\\mathcal{H}$ carries weight $w_{i} + s_{x}$ and each edge $i \\rightarrow j$ in $\\mathcal{V}$ carries weight $h_{i} + s_{y}$. Equivalently, one can view node weights as $w_{i}$ or $h_{i}$, respectively, and add $s_{x}$ or $s_{y}$ per precedence edge as the minimum separation requirement.\n\nWe now apply these definitions to the given sequence pair $\\pi^{+}=(C,A,E,B,D)$ and $\\pi^{-}=(A,C,B,D,E)$. First, we enumerate left-of relations, i.e., pairs $(i,j)$ such that $i$ precedes $j$ in both $\\pi^{+}$ and $\\pi^{-}$.\n\nThe positions in $\\pi^{+}$ are: $C:1$, $A:2$, $E:3$, $B:4$, $D:5$. The positions in $\\pi^{-}$ are: $A:1$, $C:2$, $B:3$, $D:4$, $E:5$.\n\nChecking all pairs:\n- For $C$, we have $C$ precedes $E$ in $\\pi^{+}$ and $C$ precedes $E$ in $\\pi^{-}$, so $C$ is left of $E$. Similarly, $C$ precedes $B$ and $D$ in both sequences, so $C$ is left of $B$ and $D$.\n- For $A$, we have $A$ precedes $E$, $B$, and $D$ in both sequences, so $A$ is left of $E$, $B$, and $D$.\n- For $E$, it precedes $B$ and $D$ in $\\pi^{+}$ but not in $\\pi^{-}$, so no left-of relations from $E$.\n- For $B$, it precedes $D$ in both sequences, so $B$ is left of $D$.\n- $D$ has no successors.\n\nTherefore, the horizontal constraint graph $\\mathcal{H}$ has edges\n$$\nA \\rightarrow E,\\quad A \\rightarrow B,\\quad A \\rightarrow D,\\quad\nC \\rightarrow E,\\quad C \\rightarrow B,\\quad C \\rightarrow D,\\quad\nB \\rightarrow D.\n$$\nEach edge $i \\rightarrow j$ in $\\mathcal{H}$ enforces $x_{j} \\ge x_{i} + w_{i} + s_{x}$, with $s_{x}=5$.\n\nNext, we enumerate below-of relations, i.e., pairs $(i,j)$ such that $i$ precedes $j$ in $\\pi^{+}$ and $j$ precedes $i$ in $\\pi^{-}$:\n- For $C$ and $A$, $C$ precedes $A$ in $\\pi^{+}$ and $A$ precedes $C$ in $\\pi^{-}$, so $C$ is below $A$ ($C \\rightarrow A$ in $\\mathcal{V}$).\n- For $E$ and $B$, $E$ precedes $B$ in $\\pi^{+}$ and $B$ precedes $E$ in $\\pi^{-}$, so $E$ is below $B$ ($E \\rightarrow B$).\n- For $E$ and $D$, $E$ precedes $D$ in $\\pi^{+}$ and $D$ precedes $E$ in $\\pi^{-}$, so $E$ is below $D$ ($E \\rightarrow D$).\nNo other pairs satisfy the below-of condition.\n\nTherefore, the vertical constraint graph $\\mathcal{V}$ has edges\n$$\nC \\rightarrow A,\\quad E \\rightarrow B,\\quad E \\rightarrow D,\n$$\nand each edge $i \\rightarrow j$ enforces $y_{j} \\ge y_{i} + h_{i} + s_{y}$, with $s_{y}=10$.\n\nWe now compute the compacted coordinates by longest path in each DAG. Let a super-source connect to all modules by zero-weight edges, and set $x_{i}$ and $y_{i}$ as the longest path distances.\n\nFor $\\mathcal{H}$, the edge weights are $w_{i} + s_{x}$:\n$$\nw_{A}+s_{x}=30+5=35,\\quad w_{B}+s_{x}=25+5=30,\\quad w_{C}+s_{x}=40+5=45,\\quad w_{D}+s_{x}=20+5=25,\\quad w_{E}+s_{x}=15+5=20.\n$$\nThe specific edge weights are:\n$$\nA \\rightarrow E:35,\\quad A \\rightarrow B:35,\\quad A \\rightarrow D:35,\\\\\nC \\rightarrow E:45,\\quad C \\rightarrow B:45,\\quad C \\rightarrow D:45,\\\\\nB \\rightarrow D:30.\n$$\nModules $A$ and $C$ have no incoming edges in $\\mathcal{H}$, so $x_{A}=0$ and $x_{C}=0$. Then\n$$\nx_{E}=\\max(x_{A}+35,\\,x_{C}+45)=\\max(35,\\,45)=45,\\\\\nx_{B}=\\max(x_{A}+35,\\,x_{C}+45)=45,\\\\\nx_{D}=\\max(x_{A}+35,\\,x_{C}+45,\\,x_{B}+30)=\\max(35,\\,45,\\,45+30)=75.\n$$\nThus, the horizontal coordinates are\n$$\nx_{A}=0,\\quad x_{C}=0,\\quad x_{E}=45,\\quad x_{B}=45,\\quad x_{D}=75.\n$$\n\nFor $\\mathcal{V}$, the edge weights are $h_{i} + s_{y}$:\n$$\nh_{A}+s_{y}=20+10=30,\\quad h_{B}+s_{y}=35+10=45,\\quad h_{C}+s_{y}=15+10=25,\\quad h_{D}+s_{y}=30+10=40,\\quad h_{E}+s_{y}=25+10=35.\n$$\nThe specific edge weights are:\n$$\nC \\rightarrow A:25,\\quad E \\rightarrow B:35,\\quad E \\rightarrow D:35.\n$$\nModules $C$ and $E$ have no incoming edges in $\\mathcal{V}$, so $y_{C}=0$ and $y_{E}=0$. Then\n$$\ny_{A}=y_{C}+25=25,\\quad y_{B}=y_{E}+35=35,\\quad y_{D}=y_{E}+35=35.\n$$\nThus, the vertical coordinates are\n$$\ny_{C}=0,\\quad y_{E}=0,\\quad y_{A}=25,\\quad y_{B}=35,\\quad y_{D}=35.\n$$\n\nWe verify feasibility: every left-of and below-of constraint is satisfied with at least the required spacing $s_{x}$ or $s_{y}$, by construction via longest paths. The compactness follows from the optimality of longest path distances in a DAG with these edge weights, which minimize the maximum extent while respecting precedence constraints.\n\nWe now compute the outline width $W$ and height $H$:\n$$\nW=\\max_{i}(x_{i}+w_{i})=\\max\\{x_{A}+w_{A},\\,x_{B}+w_{B},\\,x_{C}+w_{C},\\,x_{D}+w_{D},\\,x_{E}+w_{E}\\} \\\\\n=\\max\\{0+30,\\,45+25,\\,0+40,\\,75+20,\\,45+15\\}=\\max\\{30,\\,70,\\,40,\\,95,\\,60\\}=95.\n$$\n$$\nH=\\max_{i}(y_{i}+h_{i})=\\max\\{y_{A}+h_{A},\\,y_{B}+h_{B},\\,y_{C}+h_{C},\\,y_{D}+h_{D},\\,y_{E}+h_{E}\\} \\\\\n=\\max\\{25+20,\\,35+35,\\,0+15,\\,35+30,\\,0+25\\}=\\max\\{45,\\,70,\\,15,\\,65,\\,25\\}=70.\n$$\nTherefore, the total outline area is\n$$\nA=W \\times H=95 \\times 70=6650.\n$$\n\nExpressed in scientific notation and rounded to four significant figures, this is\n$$\nA=6.650 \\times 10^{3}.\n$$",
            "answer": "$$\\boxed{6.650 \\times 10^{3}}$$"
        },
        {
            "introduction": "A crucial aspect of floorplan optimization is not just analyzing existing representations, but generating new ones that satisfy specific design goals. This exercise  challenges you to work in reverse, moving from geometric constraints to the abstract representation. By constructing a sequence pair that enforces required 'left-of' and 'below-of' relations, you will develop a deeper intuition for the powerful logic connecting permutations to physical layouts.",
            "id": "4272840",
            "problem": "In Electronic Design Automation (EDA) physical design, a non-slicing floorplan can be encoded by a sequence pair. A sequence pair for a set of modules is an ordered pair of permutations $(\\pi, \\sigma)$ over the module labels, with the following semantics: for any two distinct modules $i$ and $j$, if $i$ precedes $j$ in both $\\pi$ and $\\sigma$, then $i$ is to the left of $j$; if $i$ precedes $j$ in $\\pi$ and $j$ precedes $i$ in $\\sigma$, then $i$ is below $j$; if $j$ precedes $i$ in $\\pi$ and $i$ precedes $j$ in $\\sigma$, then $i$ is above $j$; and if $j$ precedes $i$ in both $\\pi$ and $\\sigma$, then $i$ is to the right of $j$. These relations enforce non-overlap and capture admissible precedence constraints for non-slicing placements.\n\nConsider four hard rectangular modules $\\{A, B, C, D\\}$ with dimensions $(w_{A}, h_{A}) = (2, 3)$, $(w_{B}, h_{B}) = (1, 2)$, $(w_{C}, h_{C}) = (3, 1)$, and $(w_{D}, h_{D}) = (2, 2)$. Suppose the designer imposes two precedence constraints that must be satisfied by the non-slicing representation:\n- $A$ left of $B$,\n- $C$ below $D$.\n\nNo other constraints are imposed on the relative positions. Using only the fundamental definitions of the sequence pair representation and basic principles of permutation counting, do the following:\n1. Construct a valid sequence pair $(\\pi, \\sigma)$ over $\\{A, B, C, D\\}$ that encodes exactly these two precedence constraints, and justify why your specific permutations enforce $A$ left of $B$ and $C$ below $D$.\n2. Determine the total number of distinct sequence pairs $(\\pi, \\sigma)$ over $\\{A, B, C, D\\}$ that satisfy exactly these two precedence constraints. In counting, treat $(\\pi, \\sigma)$ and $(\\sigma, \\pi)$ as distinct unless they are literally identical as ordered pairs. Express your final count as an integer.",
            "solution": "The problem requires us to work with the sequence pair representation for a set of four modules $\\{A, B, C, D\\}$. We must first construct a valid sequence pair $(\\pi, \\sigma)$ that satisfies two given geometric constraints, and then determine the total number of such pairs. The module dimensions $(w_{i}, h_{i})$ are provided for context but are not necessary for the combinatorial counting part of this problem.\n\nLet the ordered pair of permutations be $(\\pi, \\sigma)$. We use the notation $i \\prec_{\\pi} j$ to denote that module $i$ precedes module $j$ in the permutation $\\pi$. The rules for relative placement of two distinct modules $i$ and $j$ are given as:\n1.  ($i \\prec_{\\pi} j$ and $i \\prec_{\\sigma} j$) $\\implies$ $i$ is to the left of $j$.\n2.  ($i \\prec_{\\pi} j$ and $j \\prec_{\\sigma} i$) $\\implies$ $i$ is below $j$.\n3.  ($j \\prec_{\\pi} i$ and $i \\prec_{\\sigma} j$) $\\implies$ $i$ is above $j$.\n4.  ($j \\prec_{\\pi} i$ and $j \\prec_{\\sigma} i$) $\\implies$ $i$ is to the right of $j$.\n\nThe two specific precedence constraints that must be satisfied are:\n- Constraint 1: $A$ is to the left of $B$.\n- Constraint 2: $C$ is below $D$.\n\nUsing the definitions, we can translate these geometric constraints into constraints on the permutations $\\pi$ and $\\sigma$.\n- For \"$A$ left of $B$\", we must satisfy the first rule with $i=A$ and $j=B$. This implies we must have $A \\prec_{\\pi} B$ and $A \\prec_{\\sigma} B$.\n- For \"$C$ below $D$\", we must satisfy the second rule with $i=C$ and $j=D$. This implies we must have $C \\prec_{\\pi} D$ and $D \\prec_{\\sigma} C$.\n\nThe problem is thus divided into two parts: construction of a valid pair and enumeration of all valid pairs.\n\nPart 1: Construct a valid sequence pair $(\\pi, \\sigma)$.\n\nWe need to find a permutation $\\pi$ of $\\{A, B, C, D\\}$ that satisfies both $A \\prec_{\\pi} B$ and $C \\prec_{\\pi} D$. We also need to find a permutation $\\sigma$ of $\\{A, B, C, D\\}$ that satisfies both $A \\prec_{\\sigma} B$ and $D \\prec_{\\sigma} C$.\n\nFor $\\pi$: We need $A$ to appear before $B$, and $C$ to appear before $D$. An example of such a permutation is $\\pi = (A, C, D, B)$. In this permutation, $A$ is at the first position and $B$ is at the fourth, so $A \\prec_{\\pi} B$. $C$ is at the second position and $D$ is at the third, so $C \\prec_{\\pi} D$. Both conditions are met.\n\nFor $\\sigma$: We need $A$ to appear before $B$, and $D$ to appear before $C$. An example of such a permutation is $\\sigma = (A, D, C, B)$. In this permutation, $A$ is at the first position and $B$ is at the fourth, so $A \\prec_{\\sigma} B$. $D$ is at the second position and $C$ is at the third, so $D \\prec_{\\sigma} C$. Both conditions are met.\n\nTherefore, a valid sequence pair is $(\\pi, \\sigma) = ((A, C, D, B), (A, D, C, B))$.\n\nJustification:\n- For the pair of modules $\\{A, B\\}$, we have $A \\prec_{\\pi} B$ (from $\\pi=(A,C,D,B)$) and $A \\prec_{\\sigma} B$ (from $\\sigma=(A,D,C,B)$). According to rule 1, this correctly encodes the constraint \"$A$ is to the left of $B$\".\n- For the pair of modules $\\{C, D\\}$, we have $C \\prec_{\\pi} D$ (from $\\pi=(A,C,D,B)$) and $D \\prec_{\\sigma} C$ (from $\\sigma=(A,D,C,B)$). According to rule 2, this correctly encodes the constraint \"$C$ is below $D$\".\n\nPart 2: Determine the total number of distinct sequence pairs.\n\nThe total number of valid sequence pairs $(\\pi, \\sigma)$ is the product of the number of valid permutations for $\\pi$ and the number of valid permutations for $\\sigma$, since the choice of $\\pi$ and $\\sigma$ are independent.\nLet $N_{\\pi}$ be the number of permutations satisfying the constraints on $\\pi$.\nLet $N_{\\sigma}$ be the number of permutations satisfying the constraints on $\\sigma$.\nThe total number of pairs is $N = N_{\\pi} \\times N_{\\sigma}$.\n\nCounting $N_{\\pi}$:\nWe need to count the number of permutations of the $4$ modules $\\{A, B, C, D\\}$ that satisfy both $A \\prec_{\\pi} B$ and $C \\prec_{\\pi} D$.\nThe total number of permutations of $4$ distinct items is $4! = 24$.\nThe constraint $A \\prec_{\\pi} B$ fixes the relative order of $A$ and $B$. For any pair of elements in a set of permutations, exactly half of the permutations will have one element preceding the other. So, the number of permutations with $A \\prec_{\\pi} B$ is $\\frac{4!}{2} = 12$.\nThe two constraints, $A \\prec_{\\pi} B$ and $C \\prec_{\\pi} D$, act on disjoint sets of modules, namely $\\{A, B\\}$ and $\\{C, D\\}$. Therefore, the two conditions are independent.\nThe proportion of permutations satisfying $A \\prec_{\\pi} B$ is $\\frac{1}{2}$.\nThe proportion of permutations satisfying $C \\prec_{\\pi} D$ is $\\frac{1}{2}$.\nThe proportion of permutations satisfying both independent conditions is the product of their proportions: $\\frac{1}{2} \\times \\frac{1}{2} = \\frac{1}{4}$.\nSo, the number of valid permutations for $\\pi$ is $N_{\\pi} = 4! \\times \\frac{1}{4} = 24 \\times \\frac{1}{4} = 6$.\n\nAlternatively, we can use a constructive combinatorial argument. We have $4$ positions in the permutation. We must place $A, B, C, D$.\nFirst, choose $2$ positions for the modules $A$ and $B$. This can be done in $\\binom{4}{2}$ ways. Once the positions are chosen, $A$ must be placed in the first of these two positions and $B$ in the second, to satisfy $A \\prec_{\\pi} B$. So there is only $1$ way to place them.\nThe remaining $2$ positions must be filled by $C$ and $D$. To satisfy $C \\prec_{\\pi} D$, $C$ must be placed in the first of the remaining positions and $D$ in the second. There is only $1$ way to do this.\nThus, the total number of ways is simply the number of ways to choose the positions for the pair $\\{A, B\\}$, which is $\\binom{4}{2} = \\frac{4 \\times 3}{2} = 6$.\nSo, $N_{\\pi} = 6$.\n\nCounting $N_{\\sigma}$:\nWe need to count the number of permutations of $\\{A, B, C, D\\}$ that satisfy both $A \\prec_{\\sigma} B$ and $D \\prec_{\\sigma} C$.\nThis problem has the exact same structure as the one for $\\pi$. We have two pairs of modules, $\\{A, B\\}$ and $\\{D, C\\}$, whose relative orderings are fixed. These pairs are disjoint.\nUsing the same logic, the number of valid permutations for $\\sigma$ is also $N_{\\sigma} = 4! \\times \\frac{1}{4} = 6$, or equivalently $\\binom{4}{2} = 6$.\n\nTotal number of valid sequence pairs:\nThe total number of distinct pairs $(\\pi, \\sigma)$ satisfying the given constraints is the product of the number of choices for $\\pi$ and the number of choices for $\\sigma$.\n$N = N_{\\pi} \\times N_{\\sigma} = 6 \\times 6 = 36$.",
            "answer": "$$\n\\boxed{36}\n$$"
        }
    ]
}