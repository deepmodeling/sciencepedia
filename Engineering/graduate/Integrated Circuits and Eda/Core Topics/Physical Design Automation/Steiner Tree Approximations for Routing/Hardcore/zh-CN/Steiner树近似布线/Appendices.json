{
    "hands_on_practices": [
        {
            "introduction": "我们首先从一个基本问题开始：为什么不直接使用最小生成树 (Minimum Spanning Tree, $MST$) 来进行布线呢？这个练习提供了一个简单而具体的反例，旨在揭示$MST$在直线距离（rectilinear）布线中的固有次优性。通过为一个特定的引脚集合计算$MST$和最优直线斯坦纳最小树 (Rectilinear Steiner Minimum Tree, $RSMT$) 的长度，你将能亲手量化引入“斯坦纳点”所带来的好处。",
            "id": "4302228",
            "problem": "在集成电路的电子设计自动化（EDA）背景下，单个金属层上的直角互连使用曼哈顿度量进行建模，其中导线段的长度是其水平和垂直跨度的绝对值之和。直角斯坦纳最小树（RSMT）问题要求找到一个连接给定端点引脚集合的、总直角长度最小的树，该问题允许引入称为斯坦纳点的非端点连接点。对于最优解，可以假定这些斯坦纳点位于Hanan网格（即所有穿过端点的水平和垂直线构成的集合）上。相比之下，仅在端点集上应用的最小生成树（MST）启发式方法将树的边限制在端点之间，并以曼哈顿距离度量，不允许使用斯坦纳点。\n\n考虑位于平面上一个菱形顶点的四个端点，其坐标分别为 $\\left(0,4\\right)$、$\\left(4,0\\right)$、$\\left(8,4\\right)$ 和 $\\left(4,8\\right)$。仅使用基本原理和核心定义（曼哈顿距离、生成树的无环性以及Hanan网格属性），执行以下操作：\n\n1. 证明任何在该端点集上使用曼哈顿度量构建的最小生成树（MST）的总长度 $L_{\\mathrm{MST}}$ 必然等于三条长度为 $8$ 的边的总和，并计算 $L_{\\mathrm{MST}}$。\n2. 通过在Hanan网格上的点 $\\left(4,4\\right)$ 引入一个斯坦纳点来构建一个候选RSMT，计算其总长度 $L_{\\mathrm{RSMT}}$，并通过一个不依赖于捷径公式的有效下界来证明其在此实例中的最优性（例如，从必须跨越水平和垂直范围的必要性进行论证）。\n3. 计算此实例的精确次优比 $\\rho = L_{\\mathrm{MST}} / L_{\\mathrm{RSMT}}$。\n\n以单个实数值或单个闭式解析表达式的形式提供最终答案。无需四舍五入，最终答案中不应包含单位。",
            "solution": "该问题被确认为自洽的，在计算几何和电子设计自动化领域具有科学依据，并且是良构的。我们通过解决三个指定的任务来继续求解。\n\n四个端点的集合由坐标 $\\mathcal{T} = \\{P_1, P_2, P_3, P_4\\}$ 给出，其中 $P_1 = \\left(0,4\\right)$，$P_2 = \\left(4,0\\right)$，$P_3 = \\left(8,4\\right)$，$P_4 = \\left(4,8\\right)$。距离度量是曼哈顿距离或 $L_1$ 距离，对于两个点 $(x_a, y_a)$ 和 $(x_b, y_b)$ 定义为 $d_1\\left((x_a, y_a), (x_b, y_b)\\right) = |x_a - x_b| + |y_a - y_b|$。\n\n1.  最小生成树（MST）长度 $L_{\\mathrm{MST}}$ 的计算\n\n首先，我们计算集合 $\\mathcal{T}$ 中每对端点之间的曼哈顿距离。共有 $\\binom{4}{2} = 6$ 对。\n$d_1(P_1, P_2) = |0 - 4| + |4 - 0| = 4 + 4 = 8$.\n$d_1(P_1, P_3) = |0 - 8| + |4 - 4| = 8 + 0 = 8$.\n$d_1(P_1, P_4) = |0 - 4| + |4 - 8| = 4 + 4 = 8$.\n$d_1(P_2, P_3) = |4 - 8| + |0 - 4| = 4 + 4 = 8$.\n$d_1(P_2, P_4) = |4 - 4| + |0 - 8| = 0 + 8 = 8$.\n$d_1(P_3, P_4) = |8 - 4| + |4 - 8| = 4 + 4 = 8$.\n\n所有 $4$ 个端点之间的两两距离均等于 $8$。在端点图上的最小生成树必须使用恰好 $n-1=3$ 条边连接所有 $n=4$ 个顶点，同时最小化总边权。由于所有可能的边的权重都相同，为 $8$，因此任何形成生成树（即连接所有顶点且不形成环路）的 $3$ 条边的集合都是一个最小生成树。例如，使用边 $(P_1, P_2)$、$(P_2, P_3)$ 和 $(P_3, P_4)$ 的路径图是一个最小生成树。任何此类最小生成树的总长度是其三条边的长度之和。\n\n因此，最小生成树的长度为：\n$$L_{\\mathrm{MST}} = 8 + 8 + 8 = 3 \\times 8 = 24$$\n\n2.  直角斯坦纳最小树（RSMT）的构建与最优性证明\n\n我们被要求通过引入一个位于 $S = \\left(4,4\\right)$ 的斯坦纳点来构建一个候选树。该点位于 Hanan 网格上，该网格由所有穿过端点的水平线和垂直线构成，具体来说，它位于垂直线 $x=4$ 和水平线 $y=4$ 的交点上。\n\n该斯坦纳树通过将 $4$ 个端点中的每一个连接到这个中心斯坦纳点 $S$ 而形成。这些连接的长度为：\n$d_1(S, P_1) = d_1\\left(\\left(4,4\\right), \\left(0,4\\right)\\right) = |4-0| + |4-4| = 4$.\n$d_1(S, P_2) = d_1\\left(\\left(4,4\\right), \\left(4,0\\right)\\right) = |4-4| + |4-0| = 4$.\n$d_1(S, P_3) = d_1\\left(\\left(4,4\\right), \\left(8,4\\right)\\right) = |4-8| + |4-4| = 4$.\n$d_1(S, P_4) = d_1\\left(\\left(4,4\\right), \\left(4,8\\right)\\right) = |4-4| + |4-8| = 4$.\n\n这个候选斯坦纳树的总长度是这四个线段长度的总和：\n$$L_{\\mathrm{candidate}} = 4 + 4 + 4 + 4 = 16$$\n\n为证明该树的最优性，我们为连接给定端点的任何直角斯坦纳树（RST）的长度建立一个基本下界。任何直角树的总长度 $L$ 可以分解为其总水平长度 $L_x$ 和总垂直长度 $L_y$，使得 $L = L_x + L_y$。\n\n对于任何连接该端点集的树，其在x轴上的投影长度必须跨越由端点的最小和最大x坐标定义的区间。x坐标的集合是 $\\{0, 4, 8\\}$。水平跨度为 $\\Delta x = \\max(\\{0, 4, 8\\}) - \\min(\\{0, 4, 8\\}) = 8 - 0 = 8$。因此，对于任何连接树，$L_x \\ge \\Delta x = 8$。\n\n类似地，y坐标的集合是 $\\{0, 4, 8\\}$。垂直跨度为 $\\Delta y = \\max(\\{0, 4, 8\\}) - \\min(\\{0, 4, 8\\}) = 8 - 0 = 8$。因此，对于任何连接树，$L_y \\ge \\Delta y = 8$。\n\n任何RST总长度的一个下界是这些最小跨度之和：\n$$L(\\mathrm{RST}) \\ge \\Delta x + \\Delta y = 8 + 8 = 16$$\n\n用斯坦纳点 $S=(4,4)$ 构建的候选树包含一条从 $(0,4)$ 到 $(4,4)$ 的水平线段和另一条从 $(4,4)$ 到 $(8,4)$ 的水平线段，总水平长度为 $4+4=8$。它还包含一条从 $(4,0)$ 到 $(4,4)$ 的垂直线段和另一条从 $(4,4)$ 到 $(4,8)$ 的垂直线段，总垂直长度为 $4+4=8$。该树的总长度是 $8+8=16$。\n\n由于我们的候选树的长度 $16$ 等于已建立的下界，它必定是直角斯坦纳最小树。因此，RSMT的长度为：\n$$L_{\\mathrm{RSMT}} = 16$$\n\n3.  次优比 $\\rho$ 的计算\n\n此实例中MST启发式方法的次优比定义为 $\\rho = L_{\\mathrm{MST}} / L_{\\mathrm{RSMT}}$。使用上面推导出的值：\n$$L_{\\mathrm{MST}} = 24$$\n$$L_{\\mathrm{RSMT}} = 16$$\n\n该比率为：\n$$\\rho = \\frac{L_{\\mathrm{MST}}}{L_{\\mathrm{RSMT}}} = \\frac{24}{16}$$\n化简该分数得到：\n$$\\rho = \\frac{3}{2}$$",
            "answer": "$$\\boxed{\\frac{3}{2}}$$"
        },
        {
            "introduction": "尽管$RSMT$给出了最优的线长，但其计算是NP-hard问题，这促使我们在实践中使用更简单的估计模型，例如半周长线长 (Half-Perimeter Wirelength, $HPWL$)。本练习将深入探讨$HPWL$的理论基础，要求你为随机引脚分布推导其期望值，并将其渐近行为与真实$RSMT$长度进行比较。这个过程将揭示$HPWL$在处理复杂网络时的局限性。",
            "id": "4302241",
            "problem": "考虑一个在集成电路与电子设计自动化（EDA）领域中包含 $n$ 个引脚的网络。假设这些引脚在宽度为 $W0$、高度为 $H0$ 的矩形 $R=[0,W]\\times[0,H]$ 内独立同分布（i.i.d.）地均匀分布。一个网络的半周长线长（HPWL）定义为其 $x$ 跨度和 $y$ 跨度之和，即 $\\text{HPWL}=\\left(\\max_{1\\leq i\\leq n} x_i-\\min_{1\\leq i\\leq n} x_i\\right)+\\left(\\max_{1\\leq i\\leq n} y_i-\\min_{1\\leq i\\leq n} y_i\\right)$，其中 $(x_i,y_i)$ 是引脚的坐标。直线斯坦纳最小树（RSMT）的长度 $L_{\\text{RSMT}}$ 是连接所有引脚的直线树的最小总长度，允许添加额外的斯坦纳点。\n\n从关于独立同分布均匀随机变量的顺序统计量以及均匀采样下坐标独立性的核心概率论出发，推导该随机引脚模型的 HPWL 的精确期望值。然后，利用关于次加性欧几里得泛函和曼哈顿（$L_1$）度量中的三角不等式的成熟结果，通过以直线最小生成树（MST）的期望长度来建立 $\\mathbb{E}[L_{\\text{RSMT}}]$ 的界，从而将期望 HPWL 与期望 $L_{\\text{RSMT}}$ 进行比较。你的比较应是关于 $n$ 的渐近比较，并应使用与 $L_1$ 度量中的 MST 相关的常数以符号形式表示。\n\n请提供关于 $n$、$W$ 和 $H$ 的函数形式的 HPWL 精确期望值的闭式表达式作为最终答案。不需要进行数值取整。",
            "solution": "该问题陈述经评估具有科学依据、问题明确、客观且完整。它基于概率论的既定原理，特别是顺序统计量，以及电子设计自动化（EDA）领域使用的标准模型。其定义精确，所要求的推导和比较在数学上是可行的，并且与该领域相关。该问题是有效的。\n\n该问题要求完成两项主要任务：首先，推导在一个矩形内均匀分布的 $n$ 个引脚网络的半周长线长（HPWL）的精确期望值；其次，将此期望值与直线斯坦纳最小树（$L_{\\text{RSMT}}$）的期望长度进行渐近比较。\n\n我们从第一项任务开始：推导精确的期望 HPWL。HPWL 定义为：\n$$\n\\text{HPWL} = \\left(\\max_{1\\leq i\\leq n} x_i - \\min_{1\\leq i\\leq n} x_i\\right) + \\left(\\max_{1\\leq i\\leq n} y_i - \\min_{1\\leq i\\leq n} y_i\\right)\n$$\n根据期望的线性性，期望值为：\n$$\n\\mathbb{E}[\\text{HPWL}] = \\mathbb{E}\\left[\\max_{1\\leq i\\leq n} x_i - \\min_{1\\leq i\\leq n} x_i\\right] + \\mathbb{E}\\left[\\max_{1\\leq i\\leq n} y_i - \\min_{1\\leq i\\leq n} y_i\\right]\n$$\n问题陈述指出，引脚坐标 $(x_i, y_i)$ 在矩形 $R=[0,W]\\times[0,H]$ 内是独立同分布（i.i.d.）地均匀分布的。这意味着 $x_i$ 坐标是从均匀分布 $U(0, W)$ 中抽取的 $n$ 个独立同分布的随机变量，而 $y_i$ 坐标是从均匀分布 $U(0, H)$ 中抽取的 $n$ 个独立同分布的随机变量。$x_i$ 的集合与 $y_i$ 的集合是独立的。\n\n我们首先关注 $x$ 跨度项，$\\mathbb{E}[\\max_{i} x_i - \\min_{i} x_i]$。设 $X_1, \\dots, X_n$ 为 $x$ 坐标的独立同分布随机变量，其中 $X_i \\sim U(0, W)$。设 $X_{(1)}, \\dots, X_{(n)}$ 为相应的顺序统计量，使得 $X_{(1)} \\le X_{(2)} \\le \\dots \\le X_{(n)}$。我们要计算的项是 $\\mathbb{E}[X_{(n)} - X_{(1)}] = \\mathbb{E}[X_{(n)}] - \\mathbb{E}[X_{(1)}]$。\n\n为了求出第 $k$ 个顺序统计量的期望值，我们首先考虑从标准均匀分布 $U(0, 1)$ 中抽取的 $n$ 个独立同分布的随机变量 $U_1, \\dots, U_n$。其累积分布函数（CDF）为 $F_U(u) = u$（对于 $u \\in [0, 1]$），概率密度函数（PDF）为 $f_U(u) = 1$（对于 $u \\in [0, 1]$）。第 $k$ 个顺序统计量 $U_{(k)}$ 的概率密度函数由通用公式给出：\n$$\nf_{U_{(k)}}(u) = \\frac{n!}{(k-1)!(n-k)!} [F_U(u)]^{k-1} [1-F_U(u)]^{n-k} f_U(u)\n$$\n代入 $U(0, 1)$ 分布的 CDF 和 PDF，我们得到：\n$$\nf_{U_{(k)}}(u) = \\frac{n!}{(k-1)!(n-k)!} u^{k-1} (1-u)^{n-k}\n$$\n这是贝塔分布的 PDF，具体来说是 $U_{(k)} \\sim \\text{Beta}(k, n-k+1)$。一个服从贝塔分布 $Z \\sim \\text{Beta}(\\alpha, \\beta)$ 的随机变量的期望值为 $\\mathbb{E}[Z] = \\frac{\\alpha}{\\alpha+\\beta}$。\n因此，$U_{(k)}$ 的期望值为：\n$$\n\\mathbb{E}[U_{(k)}] = \\frac{k}{k + (n-k+1)} = \\frac{k}{n+1}\n$$\n我们的随机变量 $X_i$ 服从 $U(0, W)$ 分布。我们可以对标准均匀变量进行缩放：$X_i = W \\cdot U_i$。顺序统计量也相应地缩放：$X_{(k)} = W \\cdot U_{(k)}$。因此，它们的期望值为：\n$$\n\\mathbb{E}[X_{(k)}] = W \\cdot \\mathbb{E}[U_{(k)}] = W \\frac{k}{n+1}\n$$\n我们需要最小值（$k=1$）和最大值（$k=n$）的期望：\n$$\n\\mathbb{E}[X_{(1)}] = W \\frac{1}{n+1}\n$$\n$$\n\\mathbb{E}[X_{(n)}] = W \\frac{n}{n+1}\n$$\n期望的 $x$ 跨度是这两个值之差：\n$$\n\\mathbb{E}[X_{(n)} - X_{(1)}] = \\mathbb{E}[X_{(n)}] - \\mathbb{E}[X_{(1)}] = W \\frac{n}{n+1} - W \\frac{1}{n+1} = W \\frac{n-1}{n+1}\n$$\n$y$ 跨度的推导过程是相同的，只是用高度 $H$ 替换宽度 $W$。设 $Y_i \\sim U(0, H)$。则期望的 $y$ 跨度为：\n$$\n\\mathbb{E}[Y_{(n)} - Y_{(1)}] = H \\frac{n-1}{n+1}\n$$\n现在，我们将期望的 $x$ 跨度和 $y$ 跨度相加，得到期望的 HPWL：\n$$\n\\mathbb{E}[\\text{HPWL}] = W \\frac{n-1}{n+1} + H \\frac{n-1}{n+1} = (W+H) \\frac{n-1}{n+1}\n$$\n这就是期望 HPWL 的精确闭式表达式。\n\n对于第二项任务，我们比较当 $n$ 很大时 $\\mathbb{E}[\\text{HPWL}]$ 与直线斯坦纳最小树的期望长度 $\\mathbb{E}[L_{\\text{RSMT}}]$。\n直线最小生成树（MST）的长度 $L_{\\text{MST}}$ 是次加性泛函的一个经典例子。对于应用于 $\\mathbb{R}^2$ 中紧致域内 $n$ 个独立同分布点的此类泛函，著名的 Beardwood-Halton-Hammersley (BHH) 定理给出了其渐近行为。对于直线（$L_1$）度量，在面积为 $A=WH$ 的区域内均匀分布的 $n$ 个点的 MST 期望长度的增长趋势为：\n$$\n\\mathbb{E}[L_{\\text{MST}}] \\sim \\beta_{L_1} \\sqrt{nWH} \\quad \\text{当 } n \\to \\infty\n$$\n其中 $\\beta_{L_1}$ 是一个与平面内 $L_1$ 度量相关的明确定义的常数。\nRSMT 和 MST 之间的关系是众所周知的。基于曼哈顿（$L_1$）度量中的三角不等式，可以证明对于任意点集 $P$，都有 $L_{\\text{MST}}(P) \\le \\frac{3}{2} L_{\\text{RSMT}}(P)$。此外，已知存在某个常数 $\\gamma_{L_1}  1$（其理论值约为 $\\gamma_{L_1} \\approx 2/3$），使得 $\\mathbb{E}[L_{\\text{RSMT}}] \\sim \\gamma_{L_1} \\mathbb{E}[L_{\\text{MST}}]$。这意味着 $\\mathbb{E}[L_{\\text{RSMT}}]$ 也与 $\\sqrt{n}$ 成比例增长：\n$$\n\\mathbb{E}[L_{\\text{RSMT}}] \\sim c \\sqrt{n} \\quad \\text{当 } n \\to \\infty\n$$\n其中 $c$ 是一个依赖于 $W$、$H$ 以及诸如 $\\beta_{L_1}$ 和 $\\gamma_{L_1}$ 之类的度量特定常数的常数。\n\n现在我们来考察我们推导出的 $\\mathbb{E}[\\text{HPWL}]$ 表达式的渐近行为：\n$$\n\\lim_{n\\to\\infty} \\mathbb{E}[\\text{HPWL}] = \\lim_{n\\to\\infty} (W+H) \\frac{n-1}{n+1} = (W+H) \\lim_{n\\to\\infty} \\frac{1 - 1/n}{1 + 1/n} = W+H\n$$\n当引脚数 $n$ 变得很大时，期望 HPWL 收敛到一个常数值 $W+H$。\n\n现在比较结果就很清楚了。对于大的 $n$：\n$$\n\\mathbb{E}[\\text{HPWL}] \\to W+H \\quad (\\text{常数})\n$$\n$$\n\\mathbb{E}[L_{\\text{RSMT}}] \\propto \\sqrt{n} \\quad (\\text{随 } n \\text{ 增长})\n$$\n因此，期望 HPWL 与期望 RSMT 长度之比的行为如下：\n$$\n\\frac{\\mathbb{E}[\\text{HPWL}]}{\\mathbb{E}[L_{\\text{RSMT}}]} \\sim \\frac{W+H}{c\\sqrt{n}} \\to 0 \\quad \\text{当 } n \\to \\infty\n$$\n这表明，虽然 HPWL 是 RSMT 长度的一个计算上很简单的（$O(n)$）下界（因为任何连接这些引脚的树都必须跨越 $x$ 和 $y$ 的范围），但随着网络中引脚数量的增加，它对真实线长的估计会变得越来越差。其根本原因在于，HPWL 仅捕捉了引脚的分布范围，而没有捕捉到连接所有引脚所需的互连的密度和复杂性，而后者正是 $\\sqrt{n}$ 依赖关系所反映的内容。\n\n所要求的主要结果是期望 HPWL 的闭式表达式。",
            "answer": "$$\n\\boxed{(W+H) \\frac{n-1}{n+1}}\n$$"
        },
        {
            "introduction": "在现代集成电路设计中，最小化线长通常是次要目标，优化延迟等性能指标才是关键。这个练习将超越纯粹的几何学，进入物理设计领域，要求你应用Elmore延迟模型。你将分析布线拓扑中的一个微小改变——移动一个分支的连接点——如何影响下游接收端的信号延迟，从而在斯坦纳点布局与电路时序之间建立起定量的联系。",
            "id": "4302262",
            "problem": "考虑一个集成电路和电子设计自动化（EDA）中的时钟分配网络，该网络被建模为一个具有单一源点和两个汇点的直角树。每条导线被建模为一条分布式阻容线，其单位长度电阻为 $r$，单位长度电容为 $c$。源点具有一个有限的驱动电阻 $R_{s}$。两个汇点，分别标记为 $A$ 和 $B$，呈现出集总输入电容 $C_{A}$ 和 $C_{B}$。\n\n拓扑 $\\mathcal{T}_{0}$ 定义如下：一个长度为 $L$ 的主干段将源点连接到一个连接节点 $J$。从 $J$ 点分出两条长度分别为 $a$（到汇点 $A$）和 $b$（到汇点 $B$）的分支段。\n\n拓扑 $\\mathcal{T}_{1}$ 是通过在主干上距离源点 $s$ 处添加一个斯坦纳点 $S$（其中 $0  s  L$），并将连接到汇点 $A$ 的分支改接到 $S$ 点而不是 $J$ 点来获得的。连接到汇点 $B$ 的分支仍然连接在 $J$ 点。其他线段长度或参数均不改变。\n\n仅使用线性阻容网络的基本原理和树形网络 Elmore 延迟（作为汇点处冲激响应的一阶矩近似）的定义，通过将导线电容视为沿各线段的连续分布，推导在拓扑 $\\mathcal{T}_{0}$ 和 $\\mathcal{T}_{1}$ 下到汇点 $B$ 的 Elmore 延迟。然后，以闭式形式表示由斯坦纳点引起的到汇点 $B$ 的 Elmore 延迟减少量，定义为\n$$\\Delta t_{B} \\triangleq t_{B}(\\mathcal{T}_{0}) - t_{B}(\\mathcal{T}_{1}).$$\n您的最终答案必须是仅包含 $r$、$c$、$R_{s}$、$L$、$a$、$b$、$C_{A}$、$C_{B}$ 和 $s$ 的单个闭式解析表达式。不需要进行数值计算。",
            "solution": "问题陈述具有科学依据，定义明确、客观且自洽。它基于集成电路分析中已确立的 Elmore 延迟模型。参数和拓扑结构定义清晰，目标是推导一个特定的解析表达式。因此，该问题是有效的，并且可以推导出解。\n\n在一个阻容（RC）树中，汇点节点 $i$ 处的 Elmore 延迟是该节点处冲激响应的一阶矩。对于一个具有集总电容 $C_k$ 和分布式导线电容的树形网络，Elmore 延迟 $t_{D_i}$ 由共享路径电阻和电容的乘积之和给出：\n$$t_{D_i} = \\sum_{k} R_{ik} C_k$$\n其中，求和遍及网络中所有的电容元件（包括集总和分布式的）。$R_{ik}$ 是从源点到电容 $C_k$ 位置的路径中，与从源点到汇点 $i$ 的路径公共部分的电阻。对于分布式元件，这个求和变成一个积分。\n\n让我们用 $R_s$ 表示源驱动电阻。导线的单位长度电阻为 $r$，单位长度电容为 $c$。设从源点到网络中任意点 $q$ 的路径表示为 $P(q)$。该路径的电阻为 $R(P(q))$。到汇点 $i$ 的 Elmore 延迟为：\n$$t_{D_i} = \\sum_{j \\in \\text{sinks}} R(P(i) \\cap P(j)) C_j + \\sum_{m \\in \\text{wires}} \\int_{x \\in m} R(P(i) \\cap P(x)) c \\, dl$$\n其中第一个和是对所有集总汇点电容 $C_j$ 求和，第二个和是对所有线段 $m$ 求和，并对其长度 $l$ 进行积分。\n\n首先，我们推导拓扑 $\\mathcal{T}_0$ 下到汇点 $B$ 的 Elmore 延迟，记为 $t_B(\\mathcal{T}_0)$。\n在 $\\mathcal{T}_0$ 中，源点通过一段长度为 $L$ 的主干连接到连接点 $J$。从 $J$ 点，分支 $a$ 通向汇点 $A$，分支 $b$ 通向汇点 $B$。\n到汇点 $B$ 的路径 $P_B$ 包括源电阻 $R_s$、长度为 $L$ 的主干导线和分支导线 $b$。该路径的总电阻为 $R_s + rL + rb$。\n我们计算每个电容元件对 $t_B(\\mathcal{T}_0)$ 的贡献：\n$1$. 汇点 $B$ 处的集总电容 $C_B$。到汇点 $B$ 的路径与自身完全重合。共享路径电阻即为到汇点 $B$ 的总电阻 $R_s + rL + rb$。贡献：$(R_s + rL + rb)C_B$。\n$2$. 汇点 $A$ 处的集总电容 $C_A$。到汇点 $A$ 的路径经过主干和分支 $a$。与 $P_B$ 公共的路径是源电阻和整个长度为 $L$ 的主干。共享路径电阻为 $R_s + rL$。贡献：$(R_s + rL)C_A$。\n$3$. 分支 $b$ 的分布式电容。对于沿分支 $b$ 距离 $J$ 点为 $y$ 的一点（$0 \\le y \\le b$），从源点出发的路径经过 $R_s$、主干 $L$ 和线段 $y$。该路径完全在 $P_B$上。共享路径电阻为 $R_s + rL + ry$。贡献：$\\int_0^b (R_s + rL + ry) c \\, dy = c[(R_s+rL)b + \\frac{1}{2}rb^2]$。\n$4$. 分支 $a$ 的分布式电容。对于分支 $a$ 上的任意一点，从源点出发的路径经过 $R_s$ 和主干 $L$。该路径与 $P_B$ 公共。对于分支 $a$ 上的所有点，共享电阻是恒定的：$R_s+rL$。贡献：$\\int_0^a (R_s + rL) c \\, dy = ca(R_s + rL)$。\n$5$. 主干 $L$ 的分布式电容。对于沿主干距离源点为 $x$ 的一点（$0 \\le x \\le L$），从源点出发的路径经过 $R_s$ 和线段 $x$。该路径在 $P_B$ 上。共享路径电阻为 $R_s + rx$。贡献：$\\int_0^L (R_s + rx) c \\, dx = c[R_sL + \\frac{1}{2}rL^2]$。\n\n将所有贡献相加得到 $t_B(\\mathcal{T}_0)$:\n$$t_B(\\mathcal{T}_0) = (R_s + rL + rb)C_B + (R_s + rL)C_A + c\\left((R_s+rL)b + \\frac{1}{2}rb^2\\right) + ca(R_s + rL) + c\\left(R_sL + \\frac{1}{2}rL^2\\right)$$\n\n接下来，我们推导拓扑 $\\mathcal{T}_1$ 下到汇点 $B$ 的 Elmore 延迟，记为 $t_B(\\mathcal{T}_1)$。\n在 $\\mathcal{T}_1$ 中，到汇点 $A$ 的分支被移动到主干上距离源点为 $s$ 的一个斯坦纳点 $S$。到汇点 $B$ 的路径保持不变：通过整个长度为 $L$ 的主干和分支 $b$。\n来自到汇点 $B$ 路径上的电容（即主干上、分支 $b$ 上以及汇点 $B$ 处的电容）对 $t_B(\\mathcal{T}_1)$ 的贡献与 $\\mathcal{T}_0$ 的情况完全相同，因为它们各自从源点出发的路径以及到汇点 $B$ 的路径都没有改变。\n唯一的变化在于分支 $a$ 上和汇点 $A$ 处的电容所做的贡献。\n$1$. 来自 $C_B$ 的贡献：$(R_s + rL + rb)C_B$（不变）。\n$2$. 来自 分支 $b$ 上分布式电容的贡献：$c[(R_s+rL)b + \\frac{1}{2}rb^2]$（不变）。\n$3$. 来自主干上分布式电容的贡献：$c[R_sL + \\frac{1}{2}rL^2]$（不变）。\n$4$. 汇点 $A$ 处的集总电容 $C_A$。现在到汇点 $A$ 的路径经过源电阻和长度为 $s$ 的主干段。与 $P_B$ 公共的路径是这条新的、更短的路径。共享路径电阻为 $R_s + rs$。贡献：$(R_s + rs)C_A$。\n$5$. 分支 $a$ 的分布式电容。到分支 $a$ 上任意一点的路径都经过 $R_s$ 和主干段 $s$。与 $P_B$ 的共享路径电阻为 $R_s + rs$。贡献：$\\int_0^a (R_s + rs) c \\, dy = ca(R_s + rs)$。\n\n将所有贡献相加得到 $t_B(\\mathcal{T}_1)$:\n$$t_B(\\mathcal{T}_1) = (R_s + rL + rb)C_B + (R_s + rs)C_A + c\\left((R_s+rL)b + \\frac{1}{2}rb^2\\right) + ca(R_s + rs) + c\\left(R_sL + \\frac{1}{2}rL^2\\right)$$\n\n最后，我们计算到汇点 $B$ 的 Elmore 延迟减少量，定义为 $\\Delta t_B \\triangleq t_B(\\mathcal{T}_0) - t_B(\\mathcal{T}_1)$。\n从 $t_B(\\mathcal{T}_0)$ 的表达式中减去 $t_B(\\mathcal{T}_1)$ 的表达式，我们可以看到所有与汇点 $B$、分支 $b$ 和主干电容相关的项都抵消了，因为它们在两个表达式中是相同的。唯一剩下的项是与汇点 $A$ 和分支 $a$ 相关的项。\n$$\\Delta t_B = \\left[ (R_s + rL)C_A + ca(R_s + rL) \\right] - \\left[ (R_s + rs)C_A + ca(R_s + rs) \\right]$$\n我们可以提出连接在分接点上的子树的总电容，即 $(C_A + ca)$。\n$$\\Delta t_B = (R_s + rL)(C_A + ca) - (R_s + rs)(C_A + ca)$$\n$$\\Delta t_B = \\left[ (R_s + rL) - (R_s + rs) \\right] (C_A + ca)$$\n$$\\Delta t_B = (R_s + rL - R_s - rs) (C_A + ca)$$\n$$\\Delta t_B = (rL - rs) (C_A + ca)$$\n延迟减少量的最终闭式表达式为：\n$$\\Delta t_B = r(L-s)(C_A + ca)$$\n这个结果表明，汇点 $B$ 处的延迟减少量与不再和分支 $A$ 共享的主干段的电阻（电阻为 $r(L-s)$）以及汇点 $A$ 所在子树的总电容（电容为 $C_A+ca$）成正比。与汇点 $B$ 相关的参数（$b$, $C_B$）和源驱动电阻 $R_s$ 没有出现在延迟差的最终表达式中。",
            "answer": "$$\\boxed{r(L-s)(C_{A} + ca)}$$"
        }
    ]
}