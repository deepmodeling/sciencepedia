{
    "hands_on_practices": [
        {
            "introduction": "The foundation of any placement algorithm is its ability to estimate and optimize interconnect length. This exercise provides a concrete, hands-on comparison of three fundamental wirelength metrics: the Half-Perimeter Wirelength (HPWL), the Minimum Spanning Tree (MST), and the Rectilinear Steiner Minimal Tree (RSMT). By calculating each for a simple three-pin net, you will develop an intuition for their geometric properties, computational differences, and the crucial relationships that exist between them, such as why HPWL is often a powerful and efficient proxy for the more complex RSMT.",
            "id": "4289794",
            "problem": "Consider a single net with three pins located at Cartesian coordinates in micrometers: $p_{1}=(2,1)$, $p_{2}=(2,5)$, and $p_{3}=(9,3)$. Assume all interconnect is rectilinear (Manhattan) and the routing is restricted to horizontal and vertical segments. Using standard placement wirelength metrics:\n\n- Compute the Half-Perimeter Wirelength (HPWL) of the net by considering the bounding box that encloses all pins.\n- Compute the length of a Minimum Spanning Tree (MST) under the rectilinear (Manhattan) metric connecting the three pins.\n- Compute the length of a Rectilinear Steiner Minimal Tree (RSMT) using a Fast Lookup Table-based rectilinear Steiner approximation (FLUTE-like) approach appropriate for $n=3$ pins, which identifies an optimal Steiner point on the Hanan grid.\n- Provide the ordered triple $(\\text{HPWL}, \\text{MST}, \\text{RSMT})$ and compare the three quantities quantitatively.\n\nExpress all three lengths in micrometers. If you choose to round, round your final values to four significant figures.",
            "solution": "The problem requires the calculation and comparison of three standard wirelength metrics for a single net with three pins. The pin coordinates are given as $p_1=(2,1)$, $p_2=(2,5)$, and $p_3=(9,3)$ in micrometers. The routing is rectilinear, meaning all interconnects are composed of horizontal and vertical segments. The distance metric is the Manhattan distance, defined for two points $p_i=(x_i, y_i)$ and $p_j=(x_j, y_j)$ as $d(p_i, p_j) = |x_i - x_j| + |y_i - y_j|$.\n\n**1. Half-Perimeter Wirelength (HPWL)**\n\nThe Half-Perimeter Wirelength (HPWL) is a widely used estimate of wirelength, calculated as the half-perimeter of the smallest axis-aligned bounding box enclosing all pins of the net.\n\nFirst, we identify the minimum and maximum x and y coordinates from the set of pins $P = \\{p_1, p_2, p_3\\}$.\nThe x-coordinates of the pins are $\\{2, 2, 9\\}$.\nThe y-coordinates of the pins are $\\{1, 5, 3\\}$.\n\nThe extremal coordinates are:\n$$x_{\\min} = \\min(2, 2, 9) = 2$$\n$$x_{\\max} = \\max(2, 2, 9) = 9$$\n$$y_{\\min} = \\min(1, 5, 3) = 1$$\n$$y_{\\max} = \\max(1, 5, 3) = 5$$\n\nThe width of the bounding box is the span of the x-coordinates, $W = x_{\\max} - x_{\\min} = 9 - 2 = 7 \\, \\mu m$.\nThe height of the bounding box is the span of the y-coordinates, $H = y_{\\max} - y_{\\min} = 5 - 1 = 4 \\, \\mu m$.\n\nThe HPWL is the sum of the width and height:\n$$\\text{HPWL} = W + H = (x_{\\max} - x_{\\min}) + (y_{\\max} - y_{\\min})$$\n$$\\text{HPWL} = 7 + 4 = 11 \\, \\mu m$$\n\n**2. Minimum Spanning Tree (MST) Length**\n\nThe Minimum Spanning Tree (MST) connects all pins with the minimum possible total wirelength, using only edges between the pins themselves and without adding any new intermediate points. The problem is equivalent to finding the MST of a complete graph with the pins as vertices and the Manhattan distances as edge weights.\n\nWe calculate the Manhattan distance between each pair of pins:\n-   Distance between $p_1=(2,1)$ and $p_2=(2,5)$:\n    $$d(p_1, p_2) = |2-2| + |1-5| = 0 + 4 = 4$$\n-   Distance between $p_1=(2,1)$ and $p_3=(9,3)$:\n    $$d(p_1, p_3) = |2-9| + |1-3| = 7 + 2 = 9$$\n-   Distance between $p_2=(2,5)$ and $p_3=(9,3)$:\n    $$d(p_2, p_3) = |2-9| + |5-3| = 7 + 2 = 9$$\n\nThe set of edge weights is $\\{4, 9, 9\\}$. To form an MST on $3$ vertices, we must select the $3-1=2$ edges with the smallest weights that do not form a cycle. Applying Kruskal's algorithm:\n1.  Select the edge with the minimum weight, which is $(p_1, p_2)$ with length $4$.\n2.  Select the edge with the next-smallest weight. There is a tie between $(p_1, p_3)$ and $(p_2, p_3)$, both of length $9$. Selecting either one connects the final pin $p_3$ to the existing network. For instance, selecting $(p_1, p_3)$ results in the tree edges $(p_1, p_2)$ and $(p_1, p_3)$.\n\nThe total length of the MST is the sum of the weights of the chosen edges:\n$$\\text{MST} = d(p_1, p_2) + d(p_1, p_3) = 4 + 9 = 13 \\, \\mu m$$\n\n**3. Rectilinear Steiner Minimal Tree (RSMT) Length**\n\nThe Rectilinear Steiner Minimal Tree (RSMT) is the shortest possible rectilinear network connecting all pins. It may introduce new junction points, called Steiner points, to reduce the total length. For a set of pins, the optimal Steiner points for an RSMT lie on the Hanan grid, which is formed by passing horizontal and vertical lines through each pin.\n\nFor a net with $n=3$ pins, the RSMT has at most one optimal Steiner point $s = (x_s, y_s)$, whose coordinates are the medians of the pin coordinates.\nThe set of x-coordinates is $\\{2, 2, 9\\}$. The median is $x_s = 2$.\nThe set of y-coordinates is $\\{1, 3, 5\\}$ (when sorted). The median is $y_s = 3$.\nThe optimal Steiner point is therefore $s=(2,3)$.\n\nThe geometry of the resulting Steiner tree is formed by connecting the three pins to this Steiner point. The union of the rectilinear paths from $s$ to each pin forms the tree.\n-   The path from $p_1=(2,1)$ to $s=(2,3)$ and the path from $p_2=(2,5)$ to $s=(2,3)$ combine to form a single vertical trunk on the line $x=2$ that spans from $y=1$ to $y=5$. The length of this trunk is $|5-1|=4$.\n-   The path from $p_3=(9,3)$ to $s=(2,3)$ is a horizontal branch on the line $y=3$ that spans from $x=2$ to $x=9$. The length of this branch is $|9-2|=7$.\nThe total length of the RSMT is the sum of the lengths of these two orthogonal segments:\n$$\\text{RSMT} = 4 + 7 = 11 \\, \\mu m$$\n\nIt is a known theorem that for nets with $n \\le 3$ pins, the HPWL is an exact calculation for the RSMT length. Our results, $\\text{HPWL}=11$ and $\\text{RSMT}=11$, are consistent with this theorem.\n\n**4. Summary and Quantitative Comparison**\n\nThe computed wirelengths are:\n-   $\\text{HPWL} = 11 \\, \\mu m$\n-   $\\text{MST} = 13 \\, \\mu m$\n-   $\\text{RSMT} = 11 \\, \\mu m$\n\nThe ordered triple $(\\text{HPWL}, \\text{MST}, \\text{RSMT})$ is $(11, 13, 11)$.\n\nA key relationship in wirelength estimation is $\\text{RSMT} \\le \\text{MST}$. The RSMT represents the true minimum wirelength, while the MST provides a computationally simple upper bound. In our case, $\\text{RSMT} = 11 \\, \\mu m$ and $\\text{MST} = 13 \\, \\mu m$. The introduction of a Steiner point yields a length reduction of $2 \\, \\mu m$, which is a $15.4\\%$ improvement over the MST length $(\\frac{13-11}{13} \\approx 0.154)$. The ratio $\\frac{\\text{MST}}{\\text{RSMT}} = \\frac{13}{11} \\approx 1.1818$, which is well within the theoretical maximum for the rectilinear Steiner ratio of $\\frac{3}{2}=1.5$. The HPWL metric, which is computationally the simplest, provides an exact value for the RSMT in the case of $n=3$ pins.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n11 & 13 & 11\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "Moving beyond static estimation, modern placement engines actively find optimal cell locations through mathematical optimization. This exercise introduces the foundational principles of analytic placement by using a quadratic wirelength model. You will see how the complex geometrical problem of arranging cells can be transformed into a system of linear equations, which can be solved efficiently to find the globally optimal positions that minimize the total squared wirelength. This practice provides a step-by-step guide to constructing and solving this system for a small circuit, demystifying a core technique used in large-scale chip design.",
            "id": "4289739",
            "problem": "Consider a quadratic placement model used in Electronic Design Automation (EDA) for Integrated Circuit (IC) layout, where a netlist is represented by a weighted undirected graph with weights $w_{ij}$, and the coordinates of Input/Output (IO) pins are fixed. Let the quadratic wirelength metric be defined over the set of undirected edges as\n$$\nE \\;=\\; \\sum_{(i,j)\\in \\mathcal{E}} w_{ij}\\left[(x_i - x_j)^{2} + (y_i - y_j)^{2}\\right],\n$$\nwhere $(x_i,y_i)$ are the coordinates of node $i$, and the sum is over each undirected edge once.\n\nLet the vertex set be $\\mathcal{V} = \\{1,2,3,4,5\\}$, with interior (free) nodes $\\{1,2,3\\}$ and fixed IO nodes $\\{4,5\\}$. The fixed IO coordinates are\n- Node $4$: $(x_4,y_4) = (0,0)$,\n- Node $5$: $(x_5,y_5) = (8,4)$.\n\nThe undirected edges and their symmetric weights $w_{ij} = w_{ji}$ are:\n- Edge $(1,4)$ with $w_{14} = 2$,\n- Edge $(1,2)$ with $w_{12} = 1$,\n- Edge $(1,3)$ with $w_{13} = 1$,\n- Edge $(2,3)$ with $w_{23} = 1$,\n- Edge $(2,5)$ with $w_{25} = 1$,\n- Edge $(3,5)$ with $w_{35} = 2$.\n\nStarting only from the stated quadratic wirelength definition and the principle that the minimizer over the free coordinates satisfies first-order optimality conditions obtained by differentiating with respect to $(x_i,y_i)$ for interior nodes, do the following:\n\n- Derive the linear system that the free-node coordinates must satisfy, and assemble the interior coefficient matrix and the right-hand sides that account for fixed IO contributions.\n- Solve this linear system for $(x_1,y_1)$, $(x_2,y_2)$, and $(x_3,y_3)$ using a direct method of your choice (for example, Gaussian elimination).\n- Compute the resulting quadratic wirelength $E$.\n\nReport only the final value of $E$ as a single exact real number. If you choose to simplify to a single fraction, present it in lowest terms. No rounding is required and no units are to be reported.",
            "solution": "The problem requires minimizing a quadratic wirelength metric to find the optimal coordinates of a set of free nodes connected to fixed nodes. The total wirelength objective $E$ can be decomposed into two independent sums, one for the x-coordinates ($E_x$) and one for the y-coordinates ($E_y$), allowing each dimension to be solved separately.\n$$ E_x = \\sum_{(i,j)\\in \\mathcal{E}} w_{ij}(x_i - x_j)^2 \\quad \\text{and} \\quad E_y = \\sum_{(i,j)\\in \\mathcal{E}} w_{ij}(y_i - y_j)^2 $$\n\nTo find the coordinates that minimize $E$, we set the partial derivatives with respect to each free coordinate to zero. For a free node $k$, the condition is $\\frac{\\partial E}{\\partial x_k} = 0$ and $\\frac{\\partial E}{\\partial y_k} = 0$.\n\n**1. Deriving and Solving the Linear System**\n\nThe partial derivative of $E_x$ with respect to a free coordinate $x_k$ is:\n$$ \\frac{\\partial E_x}{\\partial x_k} = \\sum_{j \\text{ s.t. } (k,j)\\in\\mathcal{E}} 2 w_{kj}(x_k - x_j) = 0 $$\nRearranging the terms, we get a linear equation for each free node:\n$$ \\left(\\sum_{j} w_{kj}\\right)x_k - \\sum_{j \\neq k} w_{kj}x_j = 0 $$\nSeparating the free and fixed nodes, we get a system of the form $A\\mathbf{x} = \\mathbf{b}_x$, where $\\mathbf{x}$ is the vector of free coordinates.\n\n- For $k=1$ (neighbors 2, 3, 4): $(w_{12}+w_{13}+w_{14})x_1 - w_{12}x_2 - w_{13}x_3 = w_{14}x_4 \\implies 4x_1 - x_2 - x_3 = 2x_4$\n- For $k=2$ (neighbors 1, 3, 5): $(w_{21}+w_{23}+w_{25})x_2 - w_{21}x_1 - w_{23}x_3 = w_{25}x_5 \\implies -x_1 + 3x_2 - x_3 = x_5$\n- For $k=3$ (neighbors 1, 2, 5): $(w_{31}+w_{32}+w_{35})x_3 - w_{31}x_1 - w_{32}x_2 = w_{35}x_5 \\implies -x_1 - x_2 + 4x_3 = 2x_5$\n\nSubstituting fixed coordinates $x_4=0$ and $x_5=8$, we get the system for x-coordinates:\n$$\n\\begin{pmatrix} 4 & -1 & -1 \\\\ -1 & 3 & -1 \\\\ -1 & -1 & 4 \\end{pmatrix}\n\\begin{pmatrix} x_1 \\\\ x_2 \\\\ x_3 \\end{pmatrix}\n=\n\\begin{pmatrix} 0 \\\\ 8 \\\\ 16 \\end{pmatrix}\n$$\nThe system for y-coordinates has the same coefficient matrix $A$. The right-hand side $\\mathbf{b}_y$ is formed using $y_4=0$ and $y_5=4$:\n$$ \\mathbf{b}_y = \\begin{pmatrix} w_{14}y_4 \\\\ w_{25}y_5 \\\\ w_{35}y_5 \\end{pmatrix} = \\begin{pmatrix} 2(0) \\\\ 1(4) \\\\ 2(4) \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ 4 \\\\ 8 \\end{pmatrix} $$\nSolving these two systems (e.g., by Gaussian elimination) yields the optimal coordinates:\n$$ (x_1, x_2, x_3) = \\left(\\frac{104}{35}, \\frac{40}{7}, \\frac{216}{35}\\right) $$\n$$ (y_1, y_2, y_3) = \\left(\\frac{52}{35}, \\frac{20}{7}, \\frac{108}{35}\\right) $$\n\n**2. Computing the Resulting Wirelength E**\n\nThe quadratic wirelength objective can be written as $E_x = \\mathbf{x}^T A \\mathbf{x} - 2\\mathbf{x}^T \\mathbf{b}_x + C_x$, where $\\mathbf{x}$ are the free coordinates and $C_x$ is a constant term from connections involving only fixed nodes. At the minimum, where $A\\mathbf{x} = \\mathbf{b}_x$, the energy is $E_{x, \\min} = \\mathbf{x}^T \\mathbf{b}_x - 2\\mathbf{x}^T \\mathbf{b}_x + C_x = -\\mathbf{x}^T \\mathbf{b}_x + C_x$.\n\nThe constant $C_x$ is the sum of terms $w_{ij}x_i^2 + w_{ij}x_j^2$ for free-fixed connections, and $w_{ij}(x_i-x_j)^2$ for fixed-fixed connections. In our case, there are no fixed-fixed connections.\n$$ C_x = w_{14}x_4^2 + w_{25}x_5^2 + w_{35}x_5^2 = 2(0)^2 + 1(8)^2 + 2(8)^2 = 0 + 64 + 128 = 192 $$\n$$ C_y = w_{14}y_4^2 + w_{25}y_5^2 + w_{35}y_5^2 = 2(0)^2 + 1(4)^2 + 2(4)^2 = 0 + 16 + 32 = 48 $$\n\nNow we compute the dot products:\n$$ \\mathbf{x}^T \\mathbf{b}_x = \\left(\\frac{104}{35}\\right)(0) + \\left(\\frac{40}{7}\\right)(8) + \\left(\\frac{216}{35}\\right)(16) = \\frac{1600}{35} + \\frac{3456}{35} = \\frac{5056}{35} $$\n$$ \\mathbf{y}^T \\mathbf{b}_y = \\left(\\frac{52}{35}\\right)(0) + \\left(\\frac{20}{7}\\right)(4) + \\left(\\frac{108}{35}\\right)(8) = \\frac{400}{35} + \\frac{864}{35} = \\frac{1264}{35} $$\n\nThe minimum wirelength components are:\n$$ E_x = -\\frac{5056}{35} + 192 = -\\frac{5056}{35} + \\frac{6720}{35} = \\frac{1664}{35} $$\n$$ E_y = -\\frac{1264}{35} + 48 = -\\frac{1264}{35} + \\frac{1680}{35} = \\frac{416}{35} $$\n\nThe total quadratic wirelength is the sum:\n$$ E = E_x + E_y = \\frac{1664}{35} + \\frac{416}{35} = \\frac{2080}{35} $$\nSimplifying the fraction by dividing the numerator and denominator by 5:\n$$ E = \\frac{416}{7} $$",
            "answer": "$$\n\\boxed{\\frac{416}{7}}\n$$"
        },
        {
            "introduction": "Effective chip placement is not just about minimizing wirelength; it is a delicate balancing act between competing objectives. In this practice, we explore the critical trade-off between reducing wirelength and managing cell density to prevent congestion hotspots. You will work with a combined objective function that weights both a smooth wirelength surrogate and a density penalty term. By performing a single step of gradient descent, you will gain tangible insight into how analytical placers navigate this trade-off, simultaneously pulling connected cells together while pushing them apart to ensure a feasible and routable layout.",
            "id": "4289534",
            "problem": "Consider an analytic placement subproblem in Electronic Design Automation (EDA) for integrated circuits. Two one-dimensional standard cells with positions $x_1$ and $x_2$ (in micrometers) are connected by a single net. The placement objective consists of a wirelength term formulated as a smooth surrogate of absolute pin distance, and a density term that penalizes bin overflow using a smooth Gaussian assignment of cell areas to bins.\n\nUse the following definitions and parameters:\n\n- Soft absolute wirelength surrogate: for $\\Delta = x_1 - x_2$ and smoothing parameter $\\alpha$, define\n$$\nW(x_1, x_2) = \\alpha \\ln\\!\\big(2 \\cosh(\\Delta/\\alpha)\\big).\n$$\n\n- Two bins with centers $c_1$ and $c_2$, and capacity $C_b$. Each cell has area $A_i$. The normalized bin occupancy fraction is\n$$\nr_b(x_1, x_2) = \\frac{1}{C_b}\\sum_{i=1}^{2} A_i \\exp\\!\\left(-\\frac{(x_i - c_b)^2}{2 h^2}\\right),\n$$\nwith Gaussian kernel width $h$. The density penalty is\n$$\nD(x_1, x_2) = \\frac{1}{2}\\sum_{b=1}^{2}\\big(r_b(x_1, x_2) - r^\\star\\big)^2,\n$$\nwhere $r^\\star$ is the target occupancy fraction.\n\n- The combined objective is\n$$\nF(x_1, x_2) = w_{\\mathrm{wl}}\\, W(x_1, x_2) + w_{\\mathrm{den}}\\, D(x_1, x_2),\n$$\nwhere $w_{\\mathrm{wl}}$ has units of inverse micrometers so that $F$ is dimensionless, and $w_{\\mathrm{den}}$ is dimensionless.\n\nGiven the parameters\n- initial positions $x_1^{(0)} = 2$ and $x_2^{(0)} = 8$ micrometers,\n- $\\alpha = 0.5$ micrometers,\n- $c_1 = 3$ and $c_2 = 7$ micrometers,\n- $h = 1$ micrometer,\n- $A_1 = A_2 = 1$ square micrometer,\n- $C_b = 1$ square micrometer,\n- $r^\\star = 0.65$,\n- $w_{\\mathrm{wl}} = 0.3$ inverse micrometers,\n- $w_{\\mathrm{den}} = 0.7$,\n- gradient descent step size $\\eta = 0.1$ square micrometers,\n\nperform the following tasks:\n1. Compute the combined objective $F(x_1^{(0)}, x_2^{(0)})$ using the above definitions.\n2. Compute the gradient $\\nabla F(x_1^{(0)}, x_2^{(0)})$ with respect to $(x_1, x_2)$ from first principles, and perform one explicit gradient descent step\n$$\n\\begin{pmatrix}\nx_1^{(1)} \\\\\nx_2^{(1)}\n\\end{pmatrix}\n=\n\\begin{pmatrix}\nx_1^{(0)} \\\\\nx_2^{(0)}\n\\end{pmatrix}\n-\\eta \\, \\nabla F(x_1^{(0)}, x_2^{(0)}).\n$$\n\nExpress the final updated positions in micrometers. Round your final numerical answer to four significant figures.",
            "solution": "This problem requires performing one step of gradient descent on a combined objective function for analytic placement. The process involves two main tasks: first, calculating the value of the objective function at the initial positions, and second, calculating the gradient and using it to update the positions. The given parameters are:\n-   Initial positions: $x_1^{(0)} = 2$, $x_2^{(0)} = 8$\n-   Smoothing parameter: $\\alpha = 0.5$\n-   Bin centers: $c_1 = 3$, $c_2 = 7$\n-   Gaussian kernel width: $h = 1$\n-   Cell areas: $A_1 = 1$, $A_2 = 1$\n-   Bin capacity: $C_b = 1$\n-   Target occupancy: $r^\\star = 0.65$\n-   Weights: $w_{\\mathrm{wl}} = 0.3$, $w_{\\mathrm{den}} = 0.7$\n-   Step size: $\\eta = 0.1$\n\n**Task 1: Compute the combined objective $F(x_1^{(0)}, x_2^{(0)})$.**\n\nFirst, we compute the wirelength term $W$. At the initial positions, $\\Delta^{(0)} = x_1^{(0)} - x_2^{(0)} = 2 - 8 = -6$.\n$$\nW^{(0)} = W(2, 8) = 0.5 \\ln(2 \\cosh(-6/0.5)) = 0.5 \\ln(2 \\cosh(-12)) \\approx 6.0\n$$\n(For large $|z|$, $\\alpha \\ln(2\\cosh(z/\\alpha)) \\approx |z|$). A more precise value is $W^{(0)} \\approx 5.999997$.\n\nNext, we compute the density term $D$, starting with the bin occupancies $r_b$. With $A_i=1, C_b=1, h=1$, the formula simplifies to $r_b = \\sum_{i=1}^{2} \\exp(-\\frac{(x_i - c_b)^2}{2})$.\n-   For bin 1 ($c_1=3$): $r_1^{(0)} = \\exp(-\\frac{(2-3)^2}{2}) + \\exp(-\\frac{(8-3)^2}{2}) = \\exp(-0.5) + \\exp(-12.5) \\approx 0.60653$.\n-   For bin 2 ($c_2=7$): $r_2^{(0)} = \\exp(-\\frac{(2-7)^2}{2}) + \\exp(-\\frac{(8-7)^2}{2}) = \\exp(-12.5) + \\exp(-0.5) \\approx 0.60653$.\n\nThe density penalty $D^{(0)}$ with $r^\\star=0.65$ is:\n$$\nD^{(0)} = \\frac{1}{2}\\left[ (0.60653 - 0.65)^2 + (0.60653 - 0.65)^2 \\right] = (-0.04347)^2 \\approx 0.001889\n$$\nThe total objective function value $F^{(0)}$ is:\n$$\nF^{(0)} = w_{\\mathrm{wl}} W^{(0)} + w_{\\mathrm{den}} D^{(0)} \\approx 0.3 \\times 6.0 + 0.7 \\times 0.001889 \\approx 1.8 + 0.00132 = 1.80132\n$$\n\n**Task 2: Compute the gradient $\\nabla F(x_1^{(0)}, x_2^{(0)})$ and perform one gradient descent step.**\n\nThe gradient of the total objective is $\\nabla F = w_{\\mathrm{wl}} \\nabla W + w_{\\mathrm{den}} \\nabla D$.\n\n-   **Wirelength Gradient $\\nabla W$**:\n    $$ \\frac{\\partial W}{\\partial x_1} = \\tanh\\left(\\frac{x_1 - x_2}{\\alpha}\\right), \\quad \\frac{\\partial W}{\\partial x_2} = -\\tanh\\left(\\frac{x_1 - x_2}{\\alpha}\\right) $$\n    At the initial point, $\\frac{x_1-x_2}{\\alpha} = -12$. So, $\\frac{\\partial W}{\\partial x_1} = \\tanh(-12) \\approx -1.0$ and $\\frac{\\partial W}{\\partial x_2} \\approx 1.0$.\n\n-   **Density Gradient $\\nabla D$**:\n    $$ \\frac{\\partial D}{\\partial x_i} = \\sum_{b=1}^{2} (r_b - r^\\star) \\frac{\\partial r_b}{\\partial x_i} $$\n    $$ \\frac{\\partial r_b}{\\partial x_i} = -\\frac{A_i(x_i - c_b)}{C_b h^2} \\exp\\left(-\\frac{(x_i - c_b)^2}{2 h^2}\\right) = -(x_i - c_b) \\exp\\left(-\\frac{(x_i - c_b)^2}{2}\\right) $$\n    Let $\\delta r = r_b^{(0)} - r^\\star \\approx -0.04347$.\n    For $x_1=2$:\n    $$ \\frac{\\partial D}{\\partial x_1} = \\delta r \\left[ \\frac{\\partial r_1}{\\partial x_1} + \\frac{\\partial r_2}{\\partial x_1} \\right] = \\delta r \\left[ -(2-3)\\exp(-0.5) - (2-7)\\exp(-12.5) \\right] $$\n    $$ \\frac{\\partial D}{\\partial x_1} \\approx -0.04347 \\left[ \\exp(-0.5) + 5\\exp(-12.5) \\right] \\approx -0.04347 [0.60653 + 0.00002] \\approx -0.026369 $$\n    By symmetry, for $x_2=8$:\n    $$ \\frac{\\partial D}{\\partial x_2} = \\delta r \\left[ \\frac{\\partial r_1}{\\partial x_2} + \\frac{\\partial r_2}{\\partial x_2} \\right] = \\delta r \\left[ -(8-3)\\exp(-12.5) - (8-7)\\exp(-0.5) \\right] $$\n    $$ \\frac{\\partial D}{\\partial x_2} \\approx -0.04347 \\left[ -5\\exp(-12.5) - \\exp(-0.5) \\right] \\approx 0.04347 [0.00002 + 0.60653] \\approx 0.026369 $$\n\n-   **Total Gradient $\\nabla F$**:\n    $$ \\frac{\\partial F}{\\partial x_1} = w_{\\mathrm{wl}}\\frac{\\partial W}{\\partial x_1} + w_{\\mathrm{den}}\\frac{\\partial D}{\\partial x_1} \\approx 0.3(-1.0) + 0.7(-0.026369) = -0.3 - 0.018458 = -0.318458 $$\n    $$ \\frac{\\partial F}{\\partial x_2} = w_{\\mathrm{wl}}\\frac{\\partial W}{\\partial x_2} + w_{\\mathrm{den}}\\frac{\\partial D}{\\partial x_2} \\approx 0.3(1.0) + 0.7(0.026369) = 0.3 + 0.018458 = 0.318458 $$\n    The gradient is $\\nabla F(2, 8) \\approx \\begin{pmatrix} -0.318458 \\\\ 0.318458 \\end{pmatrix}$.\n\n-   **Gradient Descent Step**:\n    With step size $\\eta=0.1$:\n    $$ x_1^{(1)} = x_1^{(0)} - \\eta \\frac{\\partial F}{\\partial x_1} \\approx 2 - 0.1(-0.318458) = 2 + 0.0318458 = 2.0318458 $$\n    $$ x_2^{(1)} = x_2^{(0)} - \\eta \\frac{\\partial F}{\\partial x_2} \\approx 8 - 0.1(0.318458) = 8 - 0.0318458 = 7.9681542 $$\nRounding the final results to four significant figures:\n$x_1^{(1)} \\approx 2.032$\n$x_2^{(1)} \\approx 7.968$",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n2.032 & 7.968\n\\end{pmatrix}\n}\n$$"
        }
    ]
}