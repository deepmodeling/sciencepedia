{
    "hands_on_practices": [
        {
            "introduction": "我们首先从静态比较器开始分析，它是许多精密模拟电路的基础。第一个练习  深入探讨了输入参考失调电压的概念，这是一种由制造差异引起的重要非理想特性。通过从晶体管阈值电压失配推导失调电压，您将对物理器件的缺陷如何转化为可测量的电路级性能退化获得基本的理解。",
            "id": "4300753",
            "problem": "考虑一个静态的金属氧化物半导体场效应晶体管（MOSFET）差分比较器前端，该前端由一个N沟道MOSFET（NMOS）差分对实现。该差分对由一个值为 $I_{T}$ 的恒定尾电流源偏置，并在其中一个漏极驱动一个单端电阻负载 $R_{L}$。假设器件工作在强反型和饱和区，沟道长度调制效应可忽略不计，且除阈值电压失配外，几何结构对称。设两个输入器件的阈值电压分别为 $V_{t1}$ 和 $V_{t2}$，其失配为 $\\Delta V_{t} \\equiv V_{t1} - V_{t2}$。定义差分输入为 $v_{id} \\equiv v_{G1} - v_{G2}$，共模输入为 $v_{CM} \\equiv (v_{G1} + v_{G2})/2$。令 $g_{m}$ 表示该差分对从 $v_{id}$到输出节点单端支路电流的有效小信号差分跨导，因此对于小的 $|v_{id}|$，支路电流的扰动满足 $i_{o} \\approx g_{m}\\,v_{id}$。\n\n在集成电路和电子设计自动化（EDA）的背景下，比较器的输入参考失调定义为必须施加的差分输入电压，用以抵消失配，从而使输出指示精确平衡。从饱和区漏极电流对过驱动电压的单调依赖关系，以及跨导的定义 $g_{m} \\equiv \\partial I_{D}/\\partial V_{GS}$ 出发，推导在存在阈值失配 $\\Delta V_{t}$ 的情况下，为使两个支路电流相等所需的输入参考失调 $V_{\\mathrm{os}}$。使用物理上合理的近似，即支路电流相等意味着两个晶体管的有效过驱动电压相等。\n\n另外，电阻负载差分对的单端输出电压可由平滑限制器关系式近似：\n$$\nV_{\\mathrm{out}} \\approx I_{T}\\,R_{L}\\,\\tanh\\!\\left(\\frac{g_{m}\\,v_{id}}{I_{T}}\\right),\n$$\n该关系式捕捉了在 $\\pm I_{T}$ 处的电流导引饱和现象，并被广泛用作差分对的行为表示。使用第一性原理和形式级数展开，通过计算小信号增益 $\\left.\\frac{d V_{\\mathrm{out}}}{d v_{id}}\\right|_{v_{id}=0}$，来验证该关系式在 $v_{id} = 0$ 附近的小信号行为。\n\n以包含两个符号条目的行矩阵形式给出你的最终答案：$V_{\\mathrm{os}}$ 和 $\\left.\\frac{d V_{\\mathrm{out}}}{d v_{id}}\\right|_{v_{id}=0}$。不需要进行数值计算，最终的方框表达式中不应包含单位。",
            "solution": "用户提出了一个关于静态NMOS差分比较器的两部分问题。第一部分要求推导由阈值电压失配 $\\Delta V_{t}$ 引起的输入参考失调电压 $V_{\\mathrm{os}}$。第二部分要求计算给定比较器输出级行为模型在零差分输入下的小信号电压增益。\n\n该问题已经过验证，被认为是科学上合理、提法明确且客观的，代表了模拟集成电路设计领域的标准分析。\n\n**第一部分：输入参考失调电压（$V_{\\mathrm{os}}$）的推导**\n\n输入参考失调电压 $V_{\\mathrm{os}}$ 定义为使差分对进入平衡状态所需的差分输入电压 $v_{id} = v_{G1} - v_{G2}$，该电压用于抵消由器件失配引起的任何输出失调。在这种情况下，当差分对中两个晶体管的漏极电流相等时，即 $I_{D1} = I_{D2}$，达到平衡。\n\n问题陈述晶体管工作在强反型和饱和区。在此工作区，MOSFET的漏极电流 $I_D$ 是其过驱动电压 $V_{OV} = V_{GS} - V_t$ 的单调递增函数，其中 $V_{GS}$ 是栅源电压，$V_t$ 是阈值电压。由于两个晶体管M1和M2被说明具有对称的几何结构，它们共用同一个将漏极电流与过驱动电压关联起来的函数形式。我们可以将其表示为 $I_D = F(V_{OV})$，其中函数 $F$ 对两个器件是相同的。\n\n平衡的条件是 $I_{D1} = I_{D2}$。这意味着：\n$$\nF(V_{OV1}) = F(V_{OV2})\n$$\n其中 $V_{OV1}$ 和 $V_{OV2}$ 分别是晶体管M1和M2的过驱动电压。\n\n如问题所述，漏极电流对过驱动电压具有单调依赖性。对于单调函数 $F$，等式 $F(x) = F(y)$ 成立当且仅当 $x = y$。这验证了问题中“支路电流相等意味着过驱动电压相等”的近似。因此，平衡条件 $I_{D1} = I_{D2}$ 简化为：\n$$\nV_{OV1} = V_{OV2}\n$$\n过驱动电压根据端电压定义：\n$$\nV_{OV1} = V_{G1} - V_S - V_{t1}\n$$\n$$\nV_{OV2} = V_{G2} - V_S - V_{t2}\n$$\n此处，$V_{G1}$ 和 $V_{G2}$ 是栅极电压，$V_S$ 是差分对的公共源极电压，$V_{t1}$ 和 $V_{t2}$ 是各自的阈值电压。\n\n令过驱动电压相等，得到：\n$$\nV_{G1} - V_S - V_{t1} = V_{G2} - V_S - V_{t2}\n$$\n公共源极电压 $V_S$ 从等式两边消去：\n$$\nV_{G1} - V_{t1} = V_{G2} - V_{t2}\n$$\n整理此方程以求解差分栅极电压 $V_{G1} - V_{G2}$：\n$$\nV_{G1} - V_{G2} = V_{t1} - V_{t2}\n$$\n根据定义，输入参考失调 $V_{\\mathrm{os}}$ 是满足此平衡条件的差分输入 $v_{id} = V_{G1} - V_{G2}$ 的值。问题还定义了阈值电压失配为 $\\Delta V_t \\equiv V_{t1} - V_{t2}$。因此，我们得出：\n$$\nV_{\\mathrm{os}} = \\Delta V_t\n$$\n\n**第二部分：小信号增益的验证**\n\n问题的第二部分要求计算单端输出电压行为模型的小信号增益，该模型由以下关系式给出：\n$$\nV_{\\mathrm{out}} \\approx I_{T}\\,R_{L}\\,\\tanh\\!\\left(\\frac{g_{m}\\,v_{id}}{I_{T}}\\right)\n$$\n零差分输入下的小信号增益定义为 $V_{\\mathrm{out}}$ 对 $v_{id}$ 的导数，并在 $v_{id} = 0$ 处求值。\n$$\nA_v = \\left.\\frac{d V_{\\mathrm{out}}}{d v_{id}}\\right|_{v_{id}=0}\n$$\n为了计算这个导数，我们应用链式法则。令 $u(v_{id}) = \\frac{g_{m}\\,v_{id}}{I_{T}}$。则 $V_{\\mathrm{out}} = I_T R_L \\tanh(u)$。\n$$\n\\frac{d V_{\\mathrm{out}}}{d v_{id}} = \\frac{d}{d v_{id}} \\left[ I_{T}\\,R_{L}\\,\\tanh(u(v_{id})) \\right] = I_{T}\\,R_{L} \\cdot \\frac{d(\\tanh(u))}{du} \\cdot \\frac{du}{dv_{id}}\n$$\n双曲正切函数的导数是 $\\frac{d}{du}(\\tanh(u)) = \\text{sech}^2(u)$。$u$ 对 $v_{id}$ 的导数是 $\\frac{du}{dv_{id}} = \\frac{d}{d v_{id}}\\left(\\frac{g_{m}\\,v_{id}}{I_{T}}\\right) = \\frac{g_{m}}{I_{T}}$。\n\n将这些导数代入增益表达式中：\n$$\n\\frac{d V_{\\mathrm{out}}}{d v_{id}} = I_{T}\\,R_{L} \\cdot \\text{sech}^2(u) \\cdot \\frac{g_{m}}{I_{T}}\n$$\n代回 $u = \\frac{g_{m}\\,v_{id}}{I_{T}}$：\n$$\n\\frac{d V_{\\mathrm{out}}}{d v_{id}} = I_{T}\\,R_{L} \\cdot \\text{sech}^2\\left(\\frac{g_{m}\\,v_{id}}{I_{T}}\\right) \\cdot \\frac{g_{m}}{I_{T}} = g_{m} R_{L} \\text{sech}^2\\left(\\frac{g_{m}\\,v_{id}}{I_{T}}\\right)\n$$\n现在，我们在 $v_{id} = 0$ 处计算此表达式的值：\n$$\n\\left.\\frac{d V_{\\mathrm{out}}}{d v_{id}}\\right|_{v_{id}=0} = g_{m} R_{L} \\text{sech}^2\\left(\\frac{g_{m} \\cdot 0}{I_{T}}\\right) = g_{m} R_{L} \\text{sech}^2(0)\n$$\n双曲正割函数定义为 $\\text{sech}(x) = 1/\\cosh(x)$。$x=0$ 时的双曲余弦为 $\\cosh(0) = 1$。因此，$\\text{sech}(0) = 1$，且 $\\text{sech}^2(0) = 1^2 = 1$。\n\n$v_{id}=0$ 时的小信号增益为：\n$$\n\\left.\\frac{d V_{\\mathrm{out}}}{d v_{id}}\\right|_{v_{id}=0} = g_{m} R_{L} \\cdot 1 = g_{m} R_{L}\n$$\n此结果与电阻负载差分对的标准分析一致，其中小信号增益是差分跨导与负载电阻的乘积。\n\n或者，使用 $\\tanh(x)$ 在 $x=0$ 附近的形式级数展开，即 $\\tanh(x) = x - \\frac{x^3}{3} + O(x^5)$。对于小的 $v_{id}$，其参数 $\\frac{g_{m}\\,v_{id}}{I_{T}}$ 也很小，因此我们可以使用一阶近似 $\\tanh(x) \\approx x$。\n$$\nV_{\\mathrm{out}} \\approx I_{T}\\,R_{L}\\,\\left(\\frac{g_{m}\\,v_{id}}{I_{T}}\\right) = g_m R_L v_{id}\n$$\n对于小信号，增益是比率 $V_{\\mathrm{out}}/v_{id}$，即 $g_m R_L$。这证实了通过求导得到的结果。\n\n要求的两个符号条目是 $V_{\\mathrm{os}} = \\Delta V_t$ 和小信号增益 $\\left.\\frac{d V_{\\mathrm{out}}}{d v_{id}}\\right|_{v_{id}=0} = g_m R_L$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\Delta V_{t}  g_{m} R_{L}\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "接下来，我们探索以速度和效率著称的动态比较器领域。与静态比较器不同，动态比较器的性能与其判决时间紧密相关，而时间又容易受到噪声的干扰。此练习  将引导您对输入参考噪声如何转化为判决时间波动（即“抖动”）进行定量分析，这是高速系统设计中的一个关键挑战。",
            "id": "4300776",
            "problem": "一个基于交叉耦合差分对的再生式动态比较器，在其判决阶段，其差分输出电压呈指数增长。在亚稳态点附近，小信号差分输出电压可以用线性时不变常微分方程 $\\,\\frac{d v_{o}(t)}{d t} = \\frac{1}{\\tau} v_{o}(t)\\,$ 来建模，其中 $\\,\\tau\\,$ 是由器件跨导和有效负载电容决定的再生时间常数。设再生开始时的初始条件为 $\\,v_{o}(0) = v_{id} + n_{in}\\,$，其中 $\\,v_{id}\\,$ 是一个确定性输入差分电压，$\\,n_{in}\\,$ 是一个均方根 (RMS) 值为 $\\,\\sigma_{n,\\mathrm{in}}\\,$ 的零均值随机输入参考噪声。假设当差分输出的幅值达到一个固定阈值 $\\,V_{\\mathrm{th}}\\,$ 时，比较器做出判决，即判决时间 $\\,t_{d}\\,$ 满足 $\\,|v_{o}(t_{d})| = V_{\\mathrm{th}}\\,$。在小噪声假设 $\\,|n_{in}| \\ll |v_{id}|\\,$（因此一阶线性化有效）下，推导由 $\\,n_{in}\\,$ 引起的判决时间波动 $\\,\\sigma_{t}\\,$ 的近似标准差，用 $\\,\\tau\\,$, $\\,v_{id}\\,$ 和 $\\,\\sigma_{n,\\mathrm{in}}\\,$ 表示。\n\n然后，对 $\\,\\tau = 17.3\\,\\mathrm{ps}\\,$, $\\,v_{id} = 8.7\\,\\mathrm{mV}\\,$ 和 $\\,\\sigma_{n,\\mathrm{in}} = 0.42\\,\\mathrm{mV}\\,$ 的情况，数值计算 $\\,\\sigma_{t}\\,$。将您的答案四舍五入到三位有效数字。以皮秒为单位表示最终的时间抖动。",
            "solution": "首先将通过提取给定信息并评估其科学和逻辑上的一致性来验证该问题。\n\n### 第1步：提取给定条件\n- 差分输出电压 $v_o(t)$ 由常微分方程控制：$\\frac{d v_{o}(t)}{d t} = \\frac{1}{\\tau} v_{o}(t)$。\n- $\\tau$ 是再生时间常数。\n- 在时间 $t=0$ 时的初始条件是 $v_{o}(0) = v_{id} + n_{in}$。\n- $v_{id}$ 是一个确定性输入差分电压。\n- $n_{in}$ 是一个均方根 (RMS) 值为 $\\sigma_{n,\\mathrm{in}}$ 的零均值随机输入参考噪声。\n- 在时间 $t_d$ 做出判决，此时 $|v_{o}(t_{d})| = V_{\\mathrm{th}}$，其中 $V_{\\mathrm{th}}$ 是一个固定阈值。\n- 提供了小噪声假设 $|n_{in}| \\ll |v_{id}|$，这使得线性化方法有效。\n- 目标是推导由 $\\tau$, $v_{id}$ 和 $\\sigma_{n,\\mathrm{in}}$ 表示的判决时间波动的近似标准差 $\\sigma_t$。\n- 用于评估的数值为：$\\tau = 17.3\\,\\mathrm{ps}$， $v_{id} = 8.7\\,\\mathrm{mV}$，以及 $\\sigma_{n,\\mathrm{in}} = 0.42\\,\\mathrm{mV}$。\n- 最终的数值答案必须以皮秒为单位，并四舍五入到三位有效数字。\n\n### 第2步：使用提取的给定条件进行验证\n该问题具有科学依据，因为它使用了动态比较器再生阶段的标准一阶线性模型，这是集成电路分析中一个被广泛接受的简化方法。再生时间常数、输入参考噪声和判决阈值的概念是比较器理论的基础。这个问题提法得当，提供了一个微分方程、一个初始条件以及判决时间的边界条件。变量定义清晰，任务具体。小噪声假设被明确说明，为近似计算提供了清晰的路径。该问题不包含科学谬误、矛盾或歧义。\n\n### 第3步：结论与行动\n该问题有效。将提供完整的解答。\n\n### 判决时间抖动的推导\n差分输出电压 $v_o(t)$ 的动态行为由以下线性时不变常微分方程描述：\n$$\n\\frac{d v_{o}(t)}{d t} = \\frac{1}{\\tau} v_{o}(t)\n$$\n这是一个可分离的一阶微分方程，其解是时间的指数函数：\n$$\nv_{o}(t) = A \\exp\\left(\\frac{t}{\\tau}\\right)\n$$\n其中 $A$ 是一个积分常数。我们使用再生开始时 $t=0$ 的初始条件来确定 $A$：\n$$\nv_{o}(0) = v_{id} + n_{in}\n$$\n将此代入 $t=0$ 时的通解：\n$$\nv_{o}(0) = A \\exp(0) = A\n$$\n因此，常数 $A$ 等于初始差分电压， $v_o(t)$ 的特解为：\n$$\nv_{o}(t) = (v_{id} + n_{in}) \\exp\\left(\\frac{t}{\\tau}\\right)\n$$\n比较器在时间 $t_d$ 达到判决，此时输出电压的幅值达到阈值 $V_{\\mathrm{th}}$：\n$$\n|v_{o}(t_d)| = V_{\\mathrm{th}}\n$$\n代入 $v_o(t)$ 的表达式：\n$$\n\\left|(v_{id} + n_{in}) \\exp\\left(\\frac{t_d}{\\tau}\\right)\\right| = V_{\\mathrm{th}}\n$$\n由于 $\\exp(t_d/\\tau)$ 总是正的，我们可以写成：\n$$\n|v_{id} + n_{in}| \\exp\\left(\\frac{t_d}{\\tau}\\right) = V_{\\mathrm{th}}\n$$\n问题陈述了小噪声条件 $|n_{in}| \\ll |v_{id}|$。这意味着 $(v_{id} + n_{in})$ 项的符号由 $v_{id}$ 的符号决定。不失一般性，我们假设 $v_{id}  0$（因此 $v_{id} + n_{in}  0$）和 $V_{\\mathrm{th}}  0$。对于 $v_{id}  0$ 的推导会得到标准差的相同最终结果。\n在此假设下，方程变为：\n$$\n(v_{id} + n_{in}) \\exp\\left(\\frac{t_d}{\\tau}\\right) = V_{\\mathrm{th}}\n$$\n我们现在求解判决时间 $t_d$：\n$$\n\\exp\\left(\\frac{t_d}{\\tau}\\right) = \\frac{V_{\\mathrm{th}}}{v_{id} + n_{in}}\n$$\n对两边取自然对数：\n$$\n\\frac{t_d}{\\tau} = \\ln\\left(\\frac{V_{\\mathrm{th}}}{v_{id} + n_{in}}\\right) = \\ln(V_{\\mathrm{th}}) - \\ln(v_{id} + n_{in})\n$$\n所以，判决时间 $t_d$ 是随机噪声变量 $n_{in}$ 的函数：\n$$\nt_d(n_{in}) = \\tau \\left[ \\ln(V_{\\mathrm{th}}) - \\ln(v_{id} + n_{in}) \\right]\n$$\n为了找到由 $n_{in}$ 引起的 $t_d$ 波动的标准差，我们使用 $t_d(n_{in})$ 在 $n_{in}=0$ 附近的一阶泰勒级数展开。小噪声假设证明了这种做法的合理性。\n$$\nt_d(n_{in}) \\approx t_d(0) + \\left. \\frac{d t_d}{d n_{in}} \\right|_{n_{in}=0} \\cdot n_{in}\n$$\n判决时间的波动 $\\Delta t_d$ 是含噪声的时间与标称时间之间的差值：\n$$\n\\Delta t_d = t_d(n_{in}) - t_d(0) \\approx \\left. \\frac{d t_d}{d n_{in}} \\right|_{n_{in}=0} \\cdot n_{in}\n$$\n我们计算 $t_d$ 关于 $n_{in}$ 的导数：\n$$\n\\frac{d t_d}{d n_{in}} = \\frac{d}{d n_{in}} \\left( \\tau \\left[ \\ln(V_{\\mathrm{th}}) - \\ln(v_{id} + n_{in}) \\right] \\right) = -\\tau \\frac{1}{v_{id} + n_{in}}\n$$\n在 $n_{in}=0$ 处计算该导数：\n$$\n\\left. \\frac{d t_d}{d n_{in}} \\right|_{n_{in}=0} = -\\frac{\\tau}{v_{id}}\n$$\n因此，波动 $\\Delta t_d$ 近似为：\n$$\n\\Delta t_d \\approx -\\frac{\\tau}{v_{id}} n_{in}\n$$\n判决时间的标准差 $\\sigma_t$ 是该波动的均方根。由于 $n_{in}$ 是一个零均值随机变量，$\\Delta t_d$ 也是零均值的。方差 $\\sigma_t^2$ 是 $(\\Delta t_d)^2$ 的期望值：\n$$\n\\sigma_t^2 = E[(\\Delta t_d)^2] \\approx E\\left[\\left(-\\frac{\\tau}{v_{id}} n_{in}\\right)^2\\right] = \\frac{\\tau^2}{v_{id}^2} E[n_{in}^2]\n$$\n问题指出输入噪声的均方根 (RMS) 是 $\\sigma_{n,\\mathrm{in}}$。对于一个零均值变量，方差是其均方根值的平方，所以 $E[n_{in}^2] = \\sigma_{n,\\mathrm{in}}^2$。将此代入 $\\sigma_t^2$ 的方程中：\n$$\n\\sigma_t^2 = \\frac{\\tau^2 \\sigma_{n,\\mathrm{in}}^2}{v_{id}^2}\n$$\n取平方根得到标准差 $\\sigma_t$。由于标准差是非负的，我们对 $v_{id}$ 使用绝对值：\n$$\n\\sigma_t = \\frac{\\tau \\sigma_{n,\\mathrm{in}}}{|v_{id}|}\n$$\n\n### 数值计算\n我们被给予以下数值：\n- $\\tau = 17.3\\,\\mathrm{ps} = 17.3 \\times 10^{-12}\\,\\mathrm{s}$\n- $v_{id} = 8.7\\,\\mathrm{mV} = 8.7 \\times 10^{-3}\\,\\mathrm{V}$\n- $\\sigma_{n,\\mathrm{in}} = 0.42\\,\\mathrm{mV} = 0.42 \\times 10^{-3}\\,\\mathrm{V}$\n\n我们将这些值代入推导出的 $\\sigma_t$ 表达式中：\n$$\n\\sigma_t = \\frac{(17.3\\,\\mathrm{ps}) (0.42\\,\\mathrm{mV})}{8.7\\,\\mathrm{mV}}\n$$\n电压单位 $(\\mathrm{mV})$ 消去，结果以皮秒 $(\\mathrm{ps})$ 为单位：\n$$\n\\sigma_t = 17.3 \\times \\frac{0.42}{8.7}\\,\\mathrm{ps}\n$$\n$$\n\\sigma_t = 17.3 \\times 0.04827586... \\,\\mathrm{ps}\n$$\n$$\n\\sigma_t \\approx 0.8351724... \\,\\mathrm{ps}\n$$\n问题要求答案四舍五入到三位有效数字。\n$$\n\\sigma_t \\approx 0.835\\,\\mathrm{ps}\n$$",
            "answer": "$$\n\\boxed{0.835}\n$$"
        },
        {
            "introduction": "在分别研究了静态和动态比较器的内部工作原理之后，我们现在从更宏观的系统角度来比较它们的效率。最后一个练习  要求您分析两种拓扑结构的能量延迟积（Energy-Delay Product, EDP），这是一个关键的性能指标。通过将其性能建模为电源电压的函数，您将确定一个交叉电压点，在该点以下动态比较器成为更节能的选择，这对于低功耗设计而言是一个至关重要的洞见。",
            "id": "4300770",
            "problem": "考虑两种在互补金属氧化物半导体（CMOS）中实现的、使用电子设计自动化（EDA）设计的集成电路比较器拓扑：一种是静态连续时间比较器，另一种是动态再生锁存器。两种比较器都解析一个差分输入，该输入在再生开始时产生一个幅度为 $V_{0}$ 的初始输出差分，并且必须在负载端达到一个最终输出差分幅度 $V_{\\mathrm{F}}$ 才被视为有效判定。假设再生动态特性可以在工作点附近线性化，因此输出差分根据一阶线性微分方程 $dv_{\\Delta}(t)/dt=(g_{m}/C)\\,v_{\\Delta}(t)$ 演变，其中 $C$ 是有效再生电容，$g_{m}$ 是有效跨导。因此，判定时间为 $t_{\\mathrm{d}}=\\tau \\ln\\!\\big(V_{\\mathrm{F}}/V_{0}\\big)$，其中时间常数 $\\tau=C/g_{m}$。对于两种设计，跨导随电源裕度按 $g_{m}(V_{\\mathrm{DD}})=k\\big(V_{\\mathrm{DD}}-V_{\\mathrm{T}}\\big)$ 比例变化，其中 $V_{\\mathrm{T}}$ 是阈值电压，$k$ 是一个依赖于拓扑的常数。静态比较器在判定间隔内消耗恒定的偏置电流 $I_{\\mathrm{b}}$，每次判定的总开关电容为 $C_{\\mathrm{sw,s}}$（不包括再生电容）。动态比较器由不重叠的复位和评估时钟相位驱动，在评估期间没有静态偏置，每次判定的总开关电容为 $C_{\\mathrm{sw,d}}$（包括其内部节点，不包括再生电容）。对于一次判定过程中的完整充放电活动，对电容充电再放电所消耗的能量为 $E=C V_{\\mathrm{DD}}^{2}$。\n\n使用以下参数值和建模假设，推导每种拓扑的能量延迟积，并确定交叉电源电压 $V_{\\mathrm{DD}}^{\\star}$，在该电压下两种能量延迟积相等。低于此交叉电压时，动态比较器在能量延迟方面更优。\n\n- 阈值电压：$V_{\\mathrm{T}}=0.35$。\n- 分辨率水平：$V_{0}=0.001$ 和 $V_{\\mathrm{F}}=0.10$。\n- 静态比较器再生参数：$C_{\\mathrm{s}}=6\\times 10^{-15}$ 和 $k_{\\mathrm{s}}=5\\times 10^{-3}$。\n- 动态比较器再生参数：$C_{\\mathrm{d}}=12\\times 10^{-15}$ 和 $k_{\\mathrm{d}}=8\\times 10^{-3}$。\n- 静态比较器偏置：$I_{\\mathrm{b}}=50\\times 10^{-6}$。\n- 每次判定的开关电容：$C_{\\mathrm{sw,s}}=10\\times 10^{-15}$ 和 $C_{\\mathrm{sw,d}}=30\\times 10^{-15}$。\n\n任务：\n- 从再生定律 $dv_{\\Delta}(t)/dt=(g_{m}/C)\\,v_{\\Delta}(t)$ 和电容能量定律出发，推导 $t_{\\mathrm{d,s}}(V_{\\mathrm{DD}})$ 和 $t_{\\mathrm{d,d}}(V_{\\mathrm{DD}})$、每次判定的能量 $E_{\\mathrm{s}}(V_{\\mathrm{DD}})$ 和 $E_{\\mathrm{d}}(V_{\\mathrm{DD}})$，以及能量延迟积 $\\mathrm{EDP}_{\\mathrm{s}}(V_{\\mathrm{DD}})$ 和 $\\mathrm{EDP}_{\\mathrm{d}}(V_{\\mathrm{DD}})$。\n- 令 $\\mathrm{EDP}_{\\mathrm{d}}(V_{\\mathrm{DD}})=\\mathrm{EDP}_{\\mathrm{s}}(V_{\\mathrm{DD}})$，求解满足 $V_{\\mathrm{DD}}^{\\star}V_{\\mathrm{T}}$ 的唯一具有物理意义的交叉电源电压 $V_{\\mathrm{DD}}^{\\star}$。\n- 以伏特为单位表示 $V_{\\mathrm{DD}}^{\\star}$ 的最终答案，并将答案四舍五入到四位有效数字。",
            "solution": "该问题要求计算交叉电源电压 $V_{\\mathrm{DD}}^{\\star}$，在该电压下静态和动态比较器的能量延迟积（EDP）相等。为此，我们必须首先推导出每种拓扑的判定时间（$t_{\\mathrm{d}}$）、每次判定的能量（$E$）以及最终的能量延迟积（EDP）作为电源电压 $V_{\\mathrm{DD}}$ 的函数表达式。\n\n再生动态由 $dv_{\\Delta}(t)/dt=(g_{m}/C)v_{\\Delta}(t)$ 描述，得到判定时间 $t_{\\mathrm{d}}=\\tau \\ln(V_{\\mathrm{F}}/V_{0})$，时间常数为 $\\tau=C/g_{m}$。跨导建模为 $g_{m}(V_{\\mathrm{DD}})=k(V_{\\mathrm{DD}}-V_{\\mathrm{T}})$。结合这些，通用比较器的判定时间为：\n$$t_{\\mathrm{d}}(V_{\\mathrm{DD}}) = \\frac{C}{g_{m}} \\ln\\left(\\frac{V_{\\mathrm{F}}}{V_{0}}\\right) = \\frac{C}{k(V_{\\mathrm{DD}}-V_{\\mathrm{T}})} \\ln\\left(\\frac{V_{\\mathrm{F}}}{V_{0}}\\right)$$\n我们定义常数对数项 $L = \\ln(V_{\\mathrm{F}}/V_{0})$。给定 $V_{\\mathrm{F}}=\\num{0.10}$ 和 $V_{0}=\\num{0.001}$，我们有 $L = \\ln(\\num{100})$。\n\n我们现在分别对静态（下标 's'）和动态（下标 'd'）比较器进行具体分析。\n\n**静态比较器：**\n静态比较器的判定时间为：\n$$t_{\\mathrm{d,s}}(V_{\\mathrm{DD}}) = \\frac{C_{\\mathrm{s}}}{k_{\\mathrm{s}}(V_{\\mathrm{DD}}-V_{\\mathrm{T}})} L$$\n每次判定的能量 $E_{\\mathrm{s}}$ 由两部分组成：一部分是由偏置电流 $I_{\\mathrm{b}}$ 引起的静态分量，另一部分是由开关电容 $C_{\\mathrm{sw,s}}$ 引起的动态分量。静态能量是静态功耗 $P_{\\mathrm{s}} = I_{\\mathrm{b}}V_{\\mathrm{DD}}$ 乘以判定时间 $t_{\\mathrm{d,s}}$。动态能量是 $C_{\\mathrm{sw,s}}V_{\\mathrm{DD}}^2$。\n$$E_{\\mathrm{s}}(V_{\\mathrm{DD}}) = I_{\\mathrm{b}}V_{\\mathrm{DD}} t_{\\mathrm{d,s}}(V_{\\mathrm{DD}}) + C_{\\mathrm{sw,s}}V_{\\mathrm{DD}}^2$$\n能量延迟积 $\\mathrm{EDP}_{\\mathrm{s}}$ 是能量与延迟的乘积：\n$$\\mathrm{EDP}_{\\mathrm{s}}(V_{\\mathrm{DD}}) = E_{\\mathrm{s}}(V_{\\mathrm{DD}}) \\times t_{\\mathrm{d,s}}(V_{\\mathrm{DD}}) = \\left(I_{\\mathrm{b}}V_{\\mathrm{DD}} t_{\\mathrm{d,s}}(V_{\\mathrm{DD}}) + C_{\\mathrm{sw,s}}V_{\\mathrm{DD}}^2\\right) t_{\\mathrm{d,s}}(V_{\\mathrm{DD}})$$\n$$\\mathrm{EDP}_{\\mathrm{s}}(V_{\\mathrm{DD}}) = I_{\\mathrm{b}}V_{\\mathrm{DD}} \\left(t_{\\mathrm{d,s}}(V_{\\mathrm{DD}})\\right)^2 + C_{\\mathrm{sw,s}}V_{\\mathrm{DD}}^2 t_{\\mathrm{d,s}}(V_{\\mathrm{DD}})$$\n代入 $t_{\\mathrm{d,s}}(V_{\\mathrm{DD}})$ 的表达式：\n$$\\mathrm{EDP}_{\\mathrm{s}}(V_{\\mathrm{DD}}) = I_{\\mathrm{b}}V_{\\mathrm{DD}} \\left(\\frac{C_{\\mathrm{s}}L}{k_{\\mathrm{s}}(V_{\\mathrm{DD}}-V_{\\mathrm{T}})}\\right)^2 + C_{\\mathrm{sw,s}}V_{\\mathrm{DD}}^2 \\left(\\frac{C_{\\mathrm{s}}L}{k_{\\mathrm{s}}(V_{\\mathrm{DD}}-V_{\\mathrm{T}})}\\right)$$\n$$\\mathrm{EDP}_{\\mathrm{s}}(V_{\\mathrm{DD}}) = \\frac{I_{\\mathrm{b}}C_{\\mathrm{s}}^2 L^2}{k_{\\mathrm{s}}^2} \\frac{V_{\\mathrm{DD}}}{(V_{\\mathrm{DD}}-V_{\\mathrm{T}})^2} + \\frac{C_{\\mathrm{sw,s}}C_{\\mathrm{s}}L}{k_{\\mathrm{s}}} \\frac{V_{\\mathrm{DD}}^2}{V_{\\mathrm{DD}}-V_{\\mathrm{T}}}$$\n\n**动态比较器：**\n动态比较器的判定时间为：\n$$t_{\\mathrm{d,d}}(V_{\\mathrm{DD}}) = \\frac{C_{\\mathrm{d}}}{k_{\\mathrm{d}}(V_{\\mathrm{DD}}-V_{\\mathrm{T}})} L$$\n动态比较器在评估期间没有静态偏置电流。其每次判定的能量完全是动态的，由问题中定义的总开关电容 $C_{\\mathrm{sw,d}}$ 决定。\n$$E_{\\mathrm{d}}(V_{\\mathrm{DD}}) = C_{\\mathrm{sw,d}}V_{\\mathrm{DD}}^2$$\n能量延迟积 $\\mathrm{EDP}_{\\mathrm{d}}$ 为：\n$$\\mathrm{EDP}_{\\mathrm{d}}(V_{\\mathrm{DD}}) = E_{\\mathrm{d}}(V_{\\mathrm{DD}}) \\times t_{\\mathrm{d,d}}(V_{\\mathrm{DD}}) = C_{\\mathrm{sw,d}}V_{\\mathrm{DD}}^2 \\left(\\frac{C_{\\mathrm{d}}L}{k_{\\mathrm{d}}(V_{\\mathrm{DD}}-V_{\\mathrm{T}})}\\right)$$\n$$\\mathrm{EDP}_{\\mathrm{d}}(V_{\\mathrm{DD}}) = \\frac{C_{\\mathrm{sw,d}}C_{\\mathrm{d}}L}{k_{\\mathrm{d}}} \\frac{V_{\\mathrm{DD}}^2}{V_{\\mathrm{DD}}-V_{\\mathrm{T}}}$$\n\n**交叉电压计算：**\n交叉电源电压 $V_{\\mathrm{DD}}^{\\star}$ 可以通过令两个EDP相等来求得：$\\mathrm{EDP}_{\\mathrm{s}}(V_{\\mathrm{DD}}^{\\star}) = \\mathrm{EDP}_{\\mathrm{d}}(V_{\\mathrm{DD}}^{\\star})$。为简化代数运算，我们将 $V_{\\mathrm{DD}}^{\\star}$ 记为 $V$。\n$$\\frac{I_{\\mathrm{b}}C_{\\mathrm{s}}^2 L^2}{k_{\\mathrm{s}}^2} \\frac{V}{(V-V_{\\mathrm{T}})^2} + \\frac{C_{\\mathrm{sw,s}}C_{\\mathrm{s}}L}{k_{\\mathrm{s}}} \\frac{V^2}{V-V_{\\mathrm{T}}} = \\frac{C_{\\mathrm{sw,d}}C_{\\mathrm{d}}L}{k_{\\mathrm{d}}} \\frac{V^2}{V-V_{\\mathrm{T}}}$$\n对于有物理意义的解，$V  V_{\\mathrm{T}}  0$，因此我们可以除以公共的非零因子 $\\frac{LV}{V-V_{\\mathrm{T}}}$。\n$$\\frac{I_{\\mathrm{b}}C_{\\mathrm{s}}^2 L}{k_{\\mathrm{s}}^2} \\frac{1}{V-V_{\\mathrm{T}}} + \\frac{C_{\\mathrm{sw,s}}C_{\\mathrm{s}}}{k_{\\mathrm{s}}} V = \\frac{C_{\\mathrm{sw,d}}C_{\\mathrm{d}}}{k_{\\mathrm{d}}} V$$\n重新整理各项以求解 $V$：\n$$\\frac{I_{\\mathrm{b}}C_{\\mathrm{s}}^2 L}{k_{\\mathrm{s}}^2} \\frac{1}{V-V_{\\mathrm{T}}} = \\left(\\frac{C_{\\mathrm{sw,d}}C_{\\mathrm{d}}}{k_{\\mathrm{d}}} - \\frac{C_{\\mathrm{sw,s}}C_{\\mathrm{s}}}{k_{\\mathrm{s}}}\\right) V$$\n我们定义两个常数 $A$ 和 $B$ 来简化此表达式：\n$$A = \\frac{I_{\\mathrm{b}}C_{\\mathrm{s}}^2 L}{k_{\\mathrm{s}}^2}$$\n$$B = \\frac{C_{\\mathrm{sw,d}}C_{\\mathrm{d}}}{k_{\\mathrm{d}}} - \\frac{C_{\\mathrm{sw,s}}C_{\\mathrm{s}}}{k_{\\mathrm{s}}}$$\n方程变为：\n$$\\frac{A}{V-V_{\\mathrm{T}}} = B V$$\n$$A = B V(V-V_{\\mathrm{T}}) \\implies B V^2 - B V_{\\mathrm{T}} V - A = 0$$\n这是一个关于 $V=V_{\\mathrm{DD}}^{\\star}$ 的二次方程。使用求根公式：\n$$V = \\frac{-(-B V_{\\mathrm{T}}) \\pm \\sqrt{(-B V_{\\mathrm{T}})^2 - 4(B)(-A)}}{2B} = \\frac{B V_{\\mathrm{T}} \\pm \\sqrt{B^2 V_{\\mathrm{T}}^2 + 4AB}}{2B}$$\n$$V = \\frac{V_{\\mathrm{T}}}{2} \\pm \\sqrt{\\frac{V_{\\mathrm{T}}^2}{4} + \\frac{A}{B}}$$\n现在，我们代入给定的参数值：\n$V_{\\mathrm{T}} = \\num{0.35}$\n$L = \\ln(\\num{100}) \\approx \\num{4.60517}$\n$I_{\\mathrm{b}} = \\num{50e-6}$\n$C_{\\mathrm{s}} = \\num{6e-15}$, $k_{\\mathrm{s}} = \\num{5e-3}$, $C_{\\mathrm{sw,s}} = \\num{10e-15}$\n$C_{\\mathrm{d}} = \\num{12e-15}$, $k_{\\mathrm{d}} = \\num{8e-3}$, $C_{\\mathrm{sw,d}} = \\num{30e-15}$\n\n计算 $A$：\n$$A = \\frac{(\\num{50e-6})(\\num{6e-15})^2 \\ln(\\num{100})}{(\\num{5e-3})^2} = \\frac{(\\num{50e-6})(\\num{36e-30})\\ln(\\num{100})}{\\num{25e-6}} = \\num{72e-30}\\ln(\\num{100})$$\n$$A \\approx \\num{72e-30} \\times \\num{4.60517} \\approx \\num{3.31572e-28}$$\n计算 $B$：\n$$B = \\frac{(\\num{30e-15})(\\num{12e-15})}{\\num{8e-3}} - \\frac{(\\num{10e-15})(\\num{6e-15})}{\\num{5e-3}}$$\n$$B = \\frac{\\num{360e-30}}{\\num{8e-3}} - \\frac{\\num{60e-30}}{\\num{5e-3}} = \\num{45e-27} - \\num{12e-27} = \\num{33e-27}$$\n$A$ 和 $B$ 均为正。现在我们计算 $A/B$：\n$$\\frac{A}{B} = \\frac{\\num{72e-30}\\ln(\\num{100})}{\\num{33e-27}} = \\frac{\\num{24}}{\\num{11}} \\times \\num{10}^{-3} \\ln(\\num{100}) \\approx \\num{0.0100476}$$\n$V$ 的解为：\n$$V = \\frac{\\num{0.35}}{2} \\pm \\sqrt{\\left(\\frac{\\num{0.35}}{2}\\right)^2 + \\num{0.0100476}}$$\n$$V = \\num{0.175} \\pm \\sqrt{\\num{0.030625} + \\num{0.0100476}} = \\num{0.175} \\pm \\sqrt{\\num{0.0406726}}$$\n$$V = \\num{0.175} \\pm \\num{0.2016746}$$\n这给出了两个可能的解：$V_1 = \\num{0.175} + \\num{0.2016746} = \\num{0.3766746}$ 和 $V_2 = \\num{0.175} - \\num{0.2016746} = \\num{-0.0266746}$。\n具有物理意义的解必须满足 $V_{\\mathrm{DD}}^{\\star}  V_{\\mathrm{T}} = \\num{0.35}$。$V_1 = \\num{0.3766746}$ 满足此条件，而 $V_2$ 是负值，因此不符合物理实际。\n因此，交叉电压为 $V_{\\mathrm{DD}}^{\\star} \\approx \\num{0.3766746}$ V。\n四舍五入到四位有效数字，我们得到 $V_{\\mathrm{DD}}^{\\star} \\approx \\num{0.3767}$ V。",
            "answer": "$$\\boxed{0.3767}$$"
        }
    ]
}