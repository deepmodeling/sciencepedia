{
    "hands_on_practices": [
        {
            "introduction": "时钟抖动 (jitter) 是一个关键的性能指标，但它究竟从何而来？此练习将引导你从振荡器的相位噪声出发，通过积分计算出均方根（RMS）时间抖动 。这个过程揭示了频域中的相位噪声与数字系统时序分析所依赖的时域抖动之间的基本物理联系。",
            "id": "4260426",
            "problem": "一个混合信号集成电路中的自由振荡时钟振荡器的载波频率为 $f_{0} = 2\\,\\mathrm{GHz}$。在偏移频率 $f_{1} = 1\\,\\mathrm{MHz}$ 处，其单边带 (SSB) 相位噪声 $L(f)$（以相对于载波在 $1\\,\\mathrm{Hz}$ 带宽内的分贝数 dBc/Hz 表示）被测量为 $L(f_{1}) = -100\\,\\mathrm{dBc/Hz}$。假设在整个感兴趣的偏移频带 $f \\in [f_{\\mathrm{L}}, f_{\\mathrm{H}}] = [10\\,\\mathrm{kHz}, 10\\,\\mathrm{MHz}]$ 内，单边带相位噪声在线性域中遵循以 $f_{1}$ 为基准的平方反比定律，即 $L_{\\mathrm{lin}}(f) = L_{\\mathrm{lin}}(f_{1}) \\left(\\frac{f_{1}}{f}\\right)^{2}$，其中 $L_{\\mathrm{lin}}(f)$ 表示对应于 $L(f)$ 的线性（非分贝）比值。\n\n从连接以下内容的基本定义出发：\n- 单边带相位噪声 $L(f)$ 与单位为 $\\mathrm{rad}^{2}/\\mathrm{Hz}$ 的相位起伏功率谱密度 $S_{\\phi}(f)$，\n- 以及频率为 $f_{0}$ 的正弦载波的相位起伏与时间起伏（抖动）之间的关系，\n\n推导在 $[f_{\\mathrm{L}}, f_{\\mathrm{H}}]$ 上积分的均方根 (RMS) 时间抖动的表达式，并根据给定参数计算其值。将最终的均方根时间抖动以 $\\mathrm{ps}$ 为单位表示，并将答案四舍五入到四位有效数字。",
            "solution": "该问题要求从基本定义出发，推导并计算一个时钟振荡器在指定频带上积分的均方根 (RMS) 时间抖动。\n\n解答的结构如下：\n1.  建立单边带 (SSB) 相位噪声 $L(f)$ 与相位起伏的功率谱密度 (PSD) $S_{\\phi}(f)$ 之间的关系。\n2.  将相位起伏与时间起伏（抖动）联系起来，从而推导出时间抖动的功率谱密度 $S_j(f)$。\n3.  在指定频带 $[f_{\\mathrm{L}}, f_{\\mathrm{H}}]$ 上对 $S_j(f)$ 进行积分，以求得均方抖动 $\\sigma_j^2$。\n4.  计算均方根抖动 $\\sigma_j$ 的最终数值。\n\n首先，我们将线性单边带相位噪声功率比 $L_{\\mathrm{lin}}(f)$ 与相位起伏功率谱密度 $S_{\\phi}(f)$ 联系起来。对于小相位起伏（通常指定相位噪声的范围），相位调制边带中的总功率（归一化到载波功率）由 $S_{\\phi}(f)$ 的积分给出。单边带相位噪声 $L(f)$ 表示在 $1\\,\\mathrm{Hz}$ 带宽内，单个边带相对于载波的功率。其关系为：\n$$S_{\\phi}(f) = 2 L_{\\mathrm{lin}}(f)$$\n$S_{\\phi}(f)$ 的单位是 $\\mathrm{rad}^2/\\mathrm{Hz}$。\n\n其次，我们将瞬时相位起伏 $\\phi(t)$ 与相应的时间抖动 $j(t)$ 联系起来。带有相位噪声的正弦载波信号可以表示为 $v(t) = A \\cos(2\\pi f_0 t + \\phi(t))$，其中 $f_0$ 是载波频率。与理想线性相位 $2\\pi f_0 t$ 相比，一个 $\\phi$ 弧度的相位偏差对应于一个时间偏差 $j$，使得相位变化 $2\\pi f_0 j$ 等于 $\\phi$。因此，对于小起伏：\n$$j(t) = \\frac{\\phi(t)}{2\\pi f_0}$$\n时域中的这种线性关系意味着它们各自的功率谱密度之间存在平方关系。时间抖动的功率谱密度 $S_j(f)$ 与相位起伏的功率谱密度 $S_{\\phi}(f)$ 的关系如下：\n$$S_j(f) = \\left(\\frac{1}{2\\pi f_0}\\right)^2 S_{\\phi}(f)$$\n$S_j(f)$ 的单位是 $\\mathrm{s}^2/\\mathrm{Hz}$。结合这两个关系，我们可以直接用单边带相位噪声来表示时间抖动功率谱密度：\n$$S_j(f) = \\frac{2 L_{\\mathrm{lin}}(f)}{(2\\pi f_0)^2} = \\frac{L_{\\mathrm{lin}}(f)}{2 \\pi^2 f_0^2}$$\n\n问题陈述，在感兴趣的频率范围 $f \\in [f_{\\mathrm{L}}, f_{\\mathrm{H}}]$ 内，单边带相位噪声在线性域中遵循平方反比定律：\n$$L_{\\mathrm{lin}}(f) = L_{\\mathrm{lin}}(f_{1}) \\left(\\frac{f_{1}}{f}\\right)^{2}$$\n将此模型代入 $S_j(f)$ 的表达式中，得到：\n$$S_j(f) = \\frac{1}{2 \\pi^2 f_0^2} \\left[ L_{\\mathrm{lin}}(f_{1}) \\left(\\frac{f_{1}}{f}\\right)^{2} \\right] = \\frac{L_{\\mathrm{lin}}(f_{1}) f_1^2}{2 \\pi^2 f_0^2} \\frac{1}{f^2}$$\n\n均方时间抖动 $\\sigma_j^2$ 是 $S_j(f)$ 从频率下限 $f_{\\mathrm{L}}$ 到上限 $f_{\\mathrm{H}}$ 的积分：\n$$\\sigma_j^2 = \\int_{f_{\\mathrm{L}}}^{f_{\\mathrm{H}}} S_j(f) \\, df = \\int_{f_{\\mathrm{L}}}^{f_{\\mathrm{H}}} \\frac{L_{\\mathrm{lin}}(f_{1}) f_1^2}{2 \\pi^2 f_0^2} \\frac{1}{f^2} \\, df$$\n涉及给定参数的项相对于积分变量 $f$ 是常数。\n$$\\sigma_j^2 = \\frac{L_{\\mathrm{lin}}(f_{1}) f_1^2}{2 \\pi^2 f_0^2} \\int_{f_{\\mathrm{L}}}^{f_{\\mathrm{H}}} f^{-2} \\, df$$\n该积分的计算结果为：\n$$\\int_{f_{\\mathrm{L}}}^{f_{\\mathrm{H}}} f^{-2} \\, df = \\left[ -f^{-1} \\right]_{f_{\\mathrm{L}}}^{f_{\\mathrm{H}}} = \\left(-\\frac{1}{f_{\\mathrm{H}}}\\right) - \\left(-\\frac{1}{f_{\\mathrm{L}}}\\right) = \\frac{1}{f_{\\mathrm{L}}} - \\frac{1}{f_{\\mathrm{H}}}$$\n因此，均方时间抖动由以下解析表达式给出：\n$$\\sigma_j^2 = \\frac{L_{\\mathrm{lin}}(f_{1}) f_1^2}{2 \\pi^2 f_0^2} \\left(\\frac{1}{f_{\\mathrm{L}}} - \\frac{1}{f_{\\mathrm{H}}}\\right)$$\n均方根时间抖动 $\\sigma_j$ 是该值的平方根。\n\n现在我们代入给定的数值：\n载波频率：$f_0 = 2\\,\\mathrm{GHz} = 2 \\times 10^9\\,\\mathrm{Hz}$\n参考偏移频率：$f_1 = 1\\,\\mathrm{MHz} = 1 \\times 10^6\\,\\mathrm{Hz}$\n积分限：$f_{\\mathrm{L}} = 10\\,\\mathrm{kHz} = 1 \\times 10^4\\,\\mathrm{Hz}$ 和 $f_{\\mathrm{H}} = 10\\,\\mathrm{MHz} = 1 \\times 10^7\\,\\mathrm{Hz}$\n在 $f_1$ 处的单边带相位噪声：$L(f_1) = -100\\,\\mathrm{dBc/Hz}$\n\n首先，我们将分贝值 $L(f_1)$ 转换为其线性形式 $L_{\\mathrm{lin}}(f_1)$：\n$$L(f_1) = 10 \\log_{10}(L_{\\mathrm{lin}}(f_1)) \\implies L_{\\mathrm{lin}}(f_1) = 10^{L(f_1)/10}$$\n$$L_{\\mathrm{lin}}(f_1) = 10^{-100/10} = 10^{-10}\\,\\mathrm{Hz}^{-1}$$\n\n将这些值代入 $\\sigma_j^2$ 的表达式中：\n$$\\sigma_j^2 = \\frac{(10^{-10}\\,\\mathrm{Hz}^{-1}) (1 \\times 10^6\\,\\mathrm{Hz})^2}{2 \\pi^2 (2 \\times 10^9\\,\\mathrm{Hz})^2} \\left(\\frac{1}{1 \\times 10^4\\,\\mathrm{Hz}} - \\frac{1}{1 \\times 10^7\\,\\mathrm{Hz}}\\right)$$\n$$\\sigma_j^2 = \\frac{10^{-10} \\cdot 10^{12}}{2 \\pi^2 \\cdot 4 \\cdot 10^{18}} \\left(10^{-4} - 10^{-7}\\right)\\,\\mathrm{s}^2$$\n$$\\sigma_j^2 = \\frac{10^2}{8 \\pi^2 \\cdot 10^{18}} \\left(10^{-4} - 0.001 \\cdot 10^{-4}\\right)\\,\\mathrm{s}^2$$\n$$\\sigma_j^2 = \\frac{100}{8 \\pi^2 \\cdot 10^{18}} \\left(0.999 \\cdot 10^{-4}\\right)\\,\\mathrm{s}^2$$\n$$\\sigma_j^2 = \\frac{99.9}{8 \\pi^2} \\times 10^{-22}\\,\\mathrm{s}^2$$\n使用 $\\pi \\approx 3.14159265$：\n$$\\sigma_j^2 \\approx \\frac{99.9}{8 \\cdot 9.8696044} \\times 10^{-22}\\,\\mathrm{s}^2 \\approx \\frac{99.9}{78.956835} \\times 10^{-22}\\,\\mathrm{s}^2 \\approx 1.26524 \\times 10^{-22}\\,\\mathrm{s}^2$$\n\n取平方根以求得均方根抖动 $\\sigma_j$：\n$$\\sigma_j = \\sqrt{1.26524 \\times 10^{-22}\\,\\mathrm{s}^2} \\approx 1.12483 \\times 10^{-11}\\,\\mathrm{s}$$\n\n问题要求答案以皮秒（$1\\,\\mathrm{ps} = 10^{-12}\\,\\mathrm{s}$）为单位。\n$$\\sigma_j \\approx 1.12483 \\times 10^{-11}\\,\\mathrm{s} = 11.2483 \\times 10^{-12}\\,\\mathrm{s} = 11.2483\\,\\mathrm{ps}$$\n四舍五入到四位有效数字，得到：\n$$\\sigma_j \\approx 11.25\\,\\mathrm{ps}$$",
            "answer": "$$\\boxed{11.25}$$"
        },
        {
            "introduction": "在实际系统中，我们观测到的总抖动（Total Jitter）是随机和确定性成分的混合。为了有效地进行高速系统分析与调试，必须将这两种成分分离开 。此练习将运用业界标准的双狄拉克（dual-Dirac）模型，从总抖动测量中提取随机抖动（RJ）和确定性抖动（DJ），这是高速接口特性分析中的一项核心技能。",
            "id": "4260378",
            "problem": "一个串行器/解串器 (SerDes) 发射器以 $12.5$ Gb/s (千兆比特每秒) 的数据速率运行，使用一台可计算眼图及相关浴盆曲线的示波器对其进行表征。在指定的误码率 (BER) 下测得的总抖动，其操作性定义为：在眼图中心采样时，为使预测误码率等于指定值所需的水平眼开宽度减少量。在双狄拉克 (dual-Dirac) 模型下，抖动被建模为随机抖动 (RJ) 和确定性抖动 (DJ) 的叠加。随机抖动假设为均值为零、标准差为 $\\sigma_{RJ}$ 的高斯分布；确定性抖动假设为有界的，其大小等于对应于边沿提前和延迟的两个脉冲分量之间的间隔。基于眼图的测量报告如下：\n- 在 $BER = 10^{-6}$ 时，总抖动为 $27.21$ 皮秒 (ps)。\n- 在 $BER = 10^{-12}$ 时，总抖动为 $34.51$ ps。\n在使用时间间隔分析仪进行的独立时域测量中，周期抖动被测量为去除均值后，连续边沿到达时间之差的均方根 (RMS) 值。报告的周期抖动 RMS 值为 $2.263$ ps，并且被测设备被配置为，为了建模目的，周期与周期之间的随机波动可以被视为独立的。\n\n从高斯尾部概率的定义和中心采样器误码率的操作性定义出发，使用双狄拉克模型推导在指定误码率下的总抖动、确定性分量 $DJ$ 和随机分量 $\\sigma_{RJ}$ 之间的关系。使用在 $BER = 10^{-6}$ 和 $BER = 10^{-12}$ 时提供的基于眼图的总抖动来计算 $\\sigma_{RJ}$ 和 $DJ$。然后，利用周期与周期之间随机波动独立的假设，验证其与测得的周期抖动 RMS 值的一致性。将你的 $\\sigma_{RJ}$ 和 $DJ$ 的数值答案四舍五入到 $4$ 位有效数字，并以皮秒为单位表示。",
            "solution": "该问题要求基于双狄拉克模型，从两个不同误码率 (BER) 下的总抖动 (TJ) 测量值中确定随机抖动 (RJ) 和确定性抖动 (DJ) 的分量。随后，必须将结果与独立的周期抖动测量值进行比较，以验证其一致性。\n\n### 第 1 部分：TJ、DJ 和 RJ 之间的关系\n\n总抖动的双狄拉克模型假设信号边沿经历的抖动是一个随机变量，其概率密度函数 (PDF) $p_{TJ}(t)$ 是随机抖动的高斯 PDF 与确定性抖动的两点（双狄拉克）PDF 的卷积。\n\n随机抖动 (RJ) 被建模为均值为零、标准差为 $\\sigma_{RJ}$ 的高斯过程。其 PDF 为：\n$$p_{RJ}(t) = \\frac{1}{\\sigma_{RJ}\\sqrt{2\\pi}} \\exp\\left(-\\frac{t^2}{2\\sigma_{RJ}^2}\\right)$$\n\n确定性抖动 (DJ) 被建模为一个有界分量，具有两个等概率的最大偏移，位于 $\\pm DJ/2$。其 PDF 为：\n$$p_{DJ}(t) = \\frac{1}{2}\\delta\\left(t - \\frac{DJ}{2}\\right) + \\frac{1}{2}\\delta\\left(t + \\frac{DJ}{2}\\right)$$\n其中 $\\delta(t)$ 是狄拉克 $\\delta$ 函数。\n\n这两个 PDF 的卷积 $p_{TJ}(t) = p_{RJ}(t) * p_{DJ}(t)$ 产生一个由两个高斯分布组成的 PDF，每个分布的标准差均为 $\\sigma_{RJ}$，中心分别位于 $\\pm DJ/2$：\n$$p_{TJ}(t) = \\frac{1}{2} \\cdot \\frac{1}{\\sigma_{RJ}\\sqrt{2\\pi}} \\exp\\left(-\\frac{(t - DJ/2)^2}{2\\sigma_{RJ}^2}\\right) + \\frac{1}{2} \\cdot \\frac{1}{\\sigma_{RJ}\\sqrt{2\\pi}} \\exp\\left(-\\frac{(t + DJ/2)^2}{2\\sigma_{RJ}^2}\\right)$$\n\n总抖动 $TJ(BER)$ 是以理想边沿位置为中心的时间间隔 $[-TJ/2, TJ/2]$ 的宽度，使得抖动边沿落在此间隔之外的概率等于指定的 BER。\n$$BER = P(|t| > TJ/2) = \\int_{TJ/2}^{\\infty} p_{TJ}(t) \\,dt + \\int_{-\\infty}^{-TJ/2} p_{TJ}(t) \\,dt$$\n由于 $p_{TJ}(t)$ 的对称性，这可以简化为：\n$$BER = 2 \\int_{TJ/2}^{\\infty} p_{TJ}(t) \\,dt$$\n代入 $p_{TJ}(t)$ 的表达式：\n$$BER = \\int_{TJ/2}^{\\infty} \\frac{1}{\\sigma_{RJ}\\sqrt{2\\pi}} \\exp\\left(-\\frac{(t - DJ/2)^2}{2\\sigma_{RJ}^2}\\right) dt + \\int_{TJ/2}^{\\infty} \\frac{1}{\\sigma_{RJ}\\sqrt{2\\pi}} \\exp\\left(-\\frac{(t + DJ/2)^2}{2\\sigma_{RJ}^2}\\right) dt$$\n这些积分可以用标准正态分布的互补累积分布函数（即 Q-函数）来表示，其中 $Q(x) = \\int_x^{\\infty} \\frac{1}{\\sqrt{2\\pi}}\\exp(-u^2/2)du$。\n$$BER = Q\\left(\\frac{TJ/2 - DJ/2}{\\sigma_{RJ}}\\right) + Q\\left(\\frac{TJ/2 + DJ/2}{\\sigma_{RJ}}\\right)$$\n$$BER = Q\\left(\\frac{TJ - DJ}{2\\sigma_{RJ}}\\right) + Q\\left(\\frac{TJ + DJ}{2\\sigma_{RJ}}\\right)$$\n对于典型的 BER 值（$10^{-6}$，$10^{-12}$），Q-函数的参数很大。由于 $TJ > DJ$ 且 $\\sigma_{RJ} > 0$，参数 $\\frac{TJ + DJ}{2\\sigma_{RJ}}$ 明显大于 $\\frac{TJ - DJ}{2\\sigma_{RJ}}$。由于 Q-函数下降得非常快，第二项 $Q\\left(\\frac{TJ + DJ}{2\\sigma_{RJ}}\\right)$ 与第一项相比可以忽略不计。这使得我们可以使用标准近似：\n$$BER \\approx Q\\left(\\frac{TJ - DJ}{2\\sigma_{RJ}}\\right)$$\n使用反 Q-函数 $Q^{-1}$ 对此关系进行求逆，我们得到：\n$$Q^{-1}(BER) = \\frac{TJ - DJ}{2\\sigma_{RJ}}$$\n重新整理以求解 $TJ$，得到所需的关系：\n$$TJ(BER) = DJ + 2 \\sigma_{RJ} Q^{-1}(BER)$$\n\n### 第 2 部分：计算 $\\sigma_{RJ}$ 和 $DJ$\n\n我们已知两个数据点：\n1. 在 $BER_1 = 10^{-6}$ 时，$TJ_1 = 27.21 \\, \\text{ps}$\n2. 在 $BER_2 = 10^{-12}$ 时，$TJ_2 = 34.51 \\, \\text{ps}$\n\n我们首先需要计算两种情况下 $N = Q^{-1}(BER)$ 的值。反 Q-函数 $Q^{-1}(p)$ 等价于标准正态累积分布函数 (CDF) 的反函数 $\\Phi^{-1}(1-p)$。\n对于 $BER_1 = 10^{-6}$：\n$$N_1 = Q^{-1}(10^{-6}) \\approx 4.75342$$\n对于 $BER_2 = 10^{-12}$：\n$$N_2 = Q^{-1}(10^{-12}) \\approx 7.03441$$\n\n我们现在有一个包含两个未知数 $\\sigma_{RJ}$ 和 $DJ$ 的二元一次方程组：\n$$27.21 = DJ + 2 \\times N_1 \\times \\sigma_{RJ} \\quad \\implies \\quad 27.21 = DJ + 2 \\times 4.75342 \\times \\sigma_{RJ} \\quad (1)$$\n$$34.51 = DJ + 2 \\times N_2 \\times \\sigma_{RJ} \\quad \\implies \\quad 34.51 = DJ + 2 \\times 7.03441 \\times \\sigma_{RJ} \\quad (2)$$\n代入系数的数值：\n$$(1) \\quad 27.21 = DJ + 9.50684 \\cdot \\sigma_{RJ}$$\n$$(2) \\quad 34.51 = DJ + 14.06882 \\cdot \\sigma_{RJ}$$\n方程 (2) 减去方程 (1) 以消去 $DJ$：\n$$34.51 - 27.21 = (14.06882 - 9.50684) \\cdot \\sigma_{RJ}$$\n$$7.30 = 4.56198 \\cdot \\sigma_{RJ}$$\n求解 $\\sigma_{RJ}$：\n$$\\sigma_{RJ} = \\frac{7.30}{4.56198} \\approx 1.599965 \\, \\text{ps}$$\n将此值代回方程 (1) 以求得 $DJ$：\n$$27.21 = DJ + 9.50684 \\times 1.599965$$\n$$27.21 = DJ + 15.2106$$\n$$DJ = 27.21 - 15.2106 = 11.9994 \\, \\text{ps}$$\n按要求将结果四舍五入至 $4$ 位有效数字：\n$$\\sigma_{RJ} \\approx 1.600 \\, \\text{ps}$$\n$$DJ \\approx 12.00 \\, \\text{ps}$$\n\n### 第 3 部分：使用周期抖动进行验证\n\n周期抖动（或周期-周期抖动，$J_{cc}$）是时钟周期从一个周期到下一个周期的变化。如果 $t_i$ 是第 $i$ 个边沿的时间，则第 $i$ 个周期的周期抖动为 $J_{cc, i} = (t_i - t_{i-1}) - T_{mean}$，其中 $T_{mean}$ 是平均时钟周期。其抖动分量为 $\\Delta t_i - \\Delta t_{i-1}$，其中 $\\Delta t_i$ 是第 $i$ 个边沿的抖动。\n\n问题指出，周期与周期之间的随机波动可以被视为独立的。这意味着连续边沿上的随机抖动 $RJ_i$ 和 $RJ_{i-1}$ 是独立的随机变量。两者都来自方差为 $\\sigma_{RJ}^2$ 的同一分布。\n周期抖动的随机分量的方差是个别边沿抖动方差的总和：\n$$Var(J_{cc, random}) = Var(RJ_i - RJ_{i-1}) = Var(RJ_i) + Var(RJ_{i-1}) = \\sigma_{RJ}^2 + \\sigma_{RJ}^2 = 2\\sigma_{RJ}^2$$\n随机周期抖动的 RMS 值是其方差的平方根：\n$$J_{cc, RMS} = \\sqrt{2\\sigma_{RJ}^2} = \\sigma_{RJ} \\sqrt{2}$$\n使用我们计算出的 $\\sigma_{RJ}$ 值（为获得更高精度，使用四舍五入前的值）：\n$$J_{cc, RMS} \\approx 1.599965 \\, \\text{ps} \\times \\sqrt{2} \\approx 1.599965 \\times 1.41421356 \\approx 2.26274 \\, \\text{ps}$$\n测得的周期抖动 RMS 值为 $2.263$ ps。\n将计算值（$2.26274$ ps）与测量值（$2.263$ ps）进行比较，显示出极好的一致性。当四舍五入到四位有效数字时，两个值相匹配，这证实了抖动模型和计算出的参数与现有测量值的一致性。",
            "answer": "$$\\boxed{\\begin{pmatrix} 1.600  12.00 \\end{pmatrix}}$$"
        },
        {
            "introduction": "理解了抖动和不确定性后，我们如何在芯片设计中应用这些知识来确保电路正常工作？这个练习让你扮演一名时序分析工程师的角色，在建立时间（setup）和保持时间（hold）分析中，策略性地利用“有用时钟偏移”（useful skew）来修复时序违例 。这展示了如何平衡时钟偏移与不确定性（包括抖动）以实现时序收敛。",
            "id": "4260443",
            "problem": "一对在单个时钟域中的正沿触发同步触发器通过一个组合逻辑数据路径连接。您可以假设使用电子设计自动化（EDA）中传统的静态时序分析语义，其中建立时间检查将最晚的数据到达时间与下一个有效的捕获时钟沿进行比较，而保持时间检查将最早的数据到达时间与同一个有效的捕获时钟沿进行比较。此处定义的正向有用偏斜是指在接收触发器处，将捕获时钟的到达时间相对于发送时钟的到达时间延迟一个量 $S$。\n\n您已获得以下器件和路径参数：\n- 发送触发器时钟到Q端最大延迟：$t_{\\mathrm{cq}}^{\\max} = 60\\ \\mathrm{ps}$。\n- 发送触发器时钟到Q端最小延迟：$t_{\\mathrm{cq}}^{\\min} = 30\\ \\mathrm{ps}$。\n- 捕获触发器建立时间：$t_{\\mathrm{setup}} = 40\\ \\mathrm{ps}$。\n- 捕获触发器保持时间：$t_{\\mathrm{hold}} = 20\\ \\mathrm{ps}$。\n- 组合逻辑数据路径最大延迟：$d_{\\max} = 740\\ \\mathrm{ps}$。\n- 组合逻辑数据路径最小延迟：$d_{\\min} = 150\\ \\mathrm{ps}$。\n- 时钟周期：$T = 1\\ \\mathrm{ns}$。\n- 用于建立时间分析的时钟不确定性（包括抖动和偏斜变化）：$U_{\\mathrm{setup}} = 50\\ \\mathrm{ps}$。\n- 用于保持时间分析的时钟不确定性（包括抖动和偏斜变化）：$U_{\\mathrm{hold}} = 25\\ \\mathrm{ps}$。\n\n假设在建立时间检查中，时钟不确定性被用作可用时间的减少量；在保持时间检查中，被用作附加要求。同时假设有用偏斜插入量 $S$ 本身对于签核（sign-off）是确定性的（其变化性已被包含在给定的时钟不确定性中）。\n\n设计团队希望引入正向有用偏斜 $S$，以将该路径的建立时间裕度提高 $100\\ \\mathrm{ps}$，同时保证不会发生保持时间违例。请从建立和保持时序定义的第一性原理出发，不使用任何现成的快捷公式，推导在存在不确定性的情况下，保持时间约束对 $S$ 施加的条件，并确定能够在该路径上同时实现至少 $100\\ \\mathrm{ps}$ 建立时间裕度改善且避免保持时间违例的 $S$ 的最大值。\n\n以 $\\mathrm{ps}$ 为单位，将您的最终答案表示为最大可行 $S$ 值，并四舍五入到三位有效数字。",
            "solution": "所述问题是一个针对数字逻辑路径的标准静态时序分析（STA）练习。所有参数都以一致的单位（或易于转换的单位，如 $1\\ \\mathrm{ns} = 1000\\ \\mathrm{ps}$）给出，并且所使用的术语（clock-to-Q、建立/保持时间、时钟不确定性、有用偏斜）在集成电路设计领域是标准的。该问题具有科学依据，提法明确且客观。它没有违反任何无效性标准。因此，该问题是有效的，并且可以推导出解决方案。\n\n解决方案需要从建立和保持时序要求中推导出关于有用偏斜 $S$ 的两个约束条件，然后找到满足这两个条件的最大 $S$ 值。\n\n首先，我们来建立建立时间约束。建立时间检查确保从源触发器发出的数据有足够的时间通过组合路径，并在下一个捕获时钟沿的建立窗口之前到达目标触发器的输入端。\n\n设时钟周期为 $T$。在 $t=0$ 时刻，发送触发器处出现一个时钟沿，发出数据。该数据对应的捕获时钟沿将在一周期后发生。在发送触发器处，这个下一个时钟沿在时刻 $T$。由于存在正向有用偏斜 $S$，该捕获时钟沿在时刻 $T + S$ 到达捕获触发器。\n\n数据必须在该捕获沿之前至少 $t_{\\mathrm{setup}}$ 的时间内在捕获触发器的输入端保持稳定。考虑到时钟不确定性 $U_{\\mathrm{setup}}$ 会减少可用时间，数据的最晚要求到达时间 $t_{\\mathrm{req}}$ 为：\n$$t_{\\mathrm{req}} = (T + S) - t_{\\mathrm{setup}} - U_{\\mathrm{setup}}$$\n数据实际最晚到达的时间 $t_{\\mathrm{arrival}}^{\\max}$ 由最长可能路径延迟决定，该延迟包括发送触发器的最大 clock-to-Q 延迟和组合逻辑的最大延迟：\n$$t_{\\mathrm{arrival}}^{\\max} = t_{\\mathrm{cq}}^{\\max} + d_{\\max}$$\n建立时间约束要求 $t_{\\mathrm{arrival}}^{\\max} \\le t_{\\mathrm{req}}$。建立时间裕度 $\\mathrm{Slack}_{\\mathrm{setup}}$ 定义为差值 $t_{\\mathrm{req}} - t_{\\mathrm{arrival}}^{\\max}$。\n$$\\mathrm{Slack}_{\\mathrm{setup}}(S) = (T + S - t_{\\mathrm{setup}} - U_{\\mathrm{setup}}) - (t_{\\mathrm{cq}}^{\\max} + d_{\\max})$$\n问题要求将建立时间裕度至少提高 $100\\ \\mathrm{ps}$。建立时间裕度（或松弛时间）的改善量是有偏斜 $S$ 时的裕度与零偏斜（$S=0$）时裕度的差值。\n$$\\mathrm{Slack}_{\\mathrm{setup}}(S=0) = (T - t_{\\mathrm{setup}} - U_{\\mathrm{setup}}) - (t_{\\mathrm{cq}}^{\\max} + d_{\\max})$$\n建立时间裕度的改善量为：\n$$\\Delta \\mathrm{Slack}_{\\mathrm{setup}} = \\mathrm{Slack}_{\\mathrm{setup}}(S) - \\mathrm{Slack}_{\\mathrm{setup}}(S=0) = S$$\n要求是该改善量至少为 $100\\ \\mathrm{ps}$。这给出了对 $S$ 的第一个约束条件：\n$$S \\ge 100\\ \\mathrm{ps}$$\n\n其次，我们来建立保持时间约束。保持时间检查确保从源触发器发出的新数据不会过早到达，从而破坏目标触发器当前正在捕获的数据。该检查在同一个时钟沿进行。\n\n在 $t=0$ 时刻，发送触发器处出现一个时钟沿。新数据能够最早到达捕获触发器输入端的时间 $t_{\\mathrm{arrival}}^{\\min}$ 由最短可能路径延迟决定：\n$$t_{\\mathrm{arrival}}^{\\min} = t_{\\mathrm{cq}}^{\\min} + d_{\\min}$$\n与此发送沿相对应的捕获时钟沿在时刻 $S$ 到达捕获触发器。在该时钟沿被捕获的数据必须在时钟沿之后保持稳定 $t_{\\mathrm{hold}}$ 的时长。包含保持时间不确定性 $U_{\\mathrm{hold}}$，它会增加所需的保持时间，数据输入在时刻 $t_{\\mathrm{stable}}$ 之前不得改变：\n$$t_{\\mathrm{stable}} = S + t_{\\mathrm{hold}} + U_{\\mathrm{hold}}$$\n保持时间约束要求新数据不早于此时间到达：$t_{\\mathrm{arrival}}^{\\min} \\ge t_{\\mathrm{stable}}$。\n$$t_{\\mathrm{cq}}^{\\min} + d_{\\min} \\ge S + t_{\\mathrm{hold}} + U_{\\mathrm{hold}}$$\n这个不等式给出了允许的偏斜 $S$ 的一个上界：\n$$S \\le t_{\\mathrm{cq}}^{\\min} + d_{\\min} - t_{\\mathrm{hold}} - U_{\\mathrm{hold}}$$\n\n结合这两个约束，我们得到 $S$ 的一个有效范围：\n$$100\\ \\mathrm{ps} \\le S \\le t_{\\mathrm{cq}}^{\\min} + d_{\\min} - t_{\\mathrm{hold}} - U_{\\mathrm{hold}}$$\n现在，我们代入给定的数值来求上界：\n- $t_{\\mathrm{cq}}^{\\min} = 30\\ \\mathrm{ps}$\n- $d_{\\min} = 150\\ \\mathrm{ps}$\n- $t_{\\mathrm{hold}} = 20\\ \\mathrm{ps}$\n- $U_{\\mathrm{hold}} = 25\\ \\mathrm{ps}$\n\n$$S \\le 30\\ \\mathrm{ps} + 150\\ \\mathrm{ps} - 20\\ \\mathrm{ps} - 25\\ \\mathrm{ps}$$\n$$S \\le 180\\ \\mathrm{ps} - 45\\ \\mathrm{ps}$$\n$$S \\le 135\\ \\mathrm{ps}$$\n因此，$S$ 的完整条件是：\n$$100\\ \\mathrm{ps} \\le S \\le 135\\ \\mathrm{ps}$$\n问题要求满足这两个条件的 $S$ 的最大值。这是推导出的范围的上限。\n$$S_{\\max} = 135\\ \\mathrm{ps}$$\n数值 $135$ 有三位有效数字，符合最终答案的要求。\n给出的其他参数（$t_{\\mathrm{cq}}^{\\max}$, $d_{\\max}$, $T$, $t_{\\mathrm{setup}}$, $U_{\\mathrm{setup}}$）对于正确阐述建立时序原理是必需的，但它们的数值对于确定建立时间裕度的*改善量*并非必需，因为改善量简化后就是 $S$。",
            "answer": "$$\\boxed{135}$$"
        }
    ]
}