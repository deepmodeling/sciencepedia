{
    "hands_on_practices": [
        {
            "introduction": "A key advantage of pulse-triggered registers is their ability to enable \"time borrowing,\" allowing a critical path to use time from the next clock cycle, which can significantly improve performance. However, this flexibility comes at a cost: the transparency window created by the clock pulse introduces a risk of \"short-path\" or hold-time violations. This exercise guides you through the fundamental trade-off between performance and robustness by formulating and solving an optimization problem to find the ideal pulse width ($T_p$) that minimizes the clock cycle time while guaranteeing timing correctness .",
            "id": "4291890",
            "problem": "Consider a pipeline composed of identical pulse-triggered registers (PTRs), where each PTR is implemented as a level-sensitive latch driven by a narrow clock pulse of width $T_{p}$ generated around the rising edge. The launch register becomes transparent during $[0, T_{p}]$ of a cycle, and the capture register becomes transparent during $[T_{\\text{clk}}, T_{\\text{clk}} + T_{p}]$, where $T_{\\text{clk}}$ is the cycle time. Assume single-phase operation, and that time borrowing is permitted up to the transparent interval of the capture PTR. The workload that exercises the pipeline has a distribution of combinational path delays between adjacent PTRs, with a maximum delay $D_{\\max}$ and a minimum delay $D_{\\min}$.\n\nUse only the following foundational definitions and widely accepted timing facts as the basis for your formulation:\n- The data launched by the launch PTR with maximum clock-to-$Q$ delay $t_{cq}^{\\max}$ traverses a path of delay $D$ and must be captured by the end of the capture PTR’s transparency window minus the setup time $t_{su}$ and a setup margin $s_{\\text{setup}}$ that accounts for clock uncertainty, yielding a cycle-time lower bound from setup considerations.\n- The short-path robustness requirement forbids any two-register transparency chain in the presence of the fastest data propagation. In single-phase pulsed latch pipelines with worst-case negative clock skew $\\delta$ (capture opening early relative to launch), the separation between the end of the launch pulse and the beginning of the capture pulse must be at least the earliest data arrival at the capture input, which is the sum of the minimum clock-to-$Q$ delay $t_{cq}^{\\min}$, the minimum path delay $D_{\\min}$, and the capture hold time $t_{h}$.\n\nYou are given the following parameters for a specific workload and technology corner, all expressed in picoseconds (ps):\n- Maximum combinational path delay: $D_{\\max} = 820$ ps.\n- Minimum combinational path delay: $D_{\\min} = 180$ ps.\n- Maximum clock-to-$Q$ delay: $t_{cq}^{\\max} = 55$ ps.\n- Minimum clock-to-$Q$ delay: $t_{cq}^{\\min} = 40$ ps.\n- Setup time: $t_{su} = 20$ ps.\n- Setup margin: $s_{\\text{setup}} = 10$ ps.\n- Capture hold time: $t_{h} = 10$ ps.\n- Worst-case negative clock skew: $\\delta = 60$ ps.\n- Feasible pulse-width range due to the pulse generator and latch internal constraints: $T_{p} \\in [150, 350]$ ps.\n\nFormulate, from the above base definitions, a constrained optimization problem over the pulse width $T_{p}$ that minimizes the required cycle time $T_{\\text{clk}}$ while satisfying the short-path robustness constraint for the given workload. Solve this problem to obtain the optimal pulse width $T_{p}^{\\star}$ within the specified feasible range. Express your final answer in picoseconds (ps) and round to four significant figures. The final answer must be a single real number.",
            "solution": "The user wants to find the optimal pulse width $T_{p}^{\\star}$ that minimizes the cycle time $T_{\\text{clk}}$ of a pulse-triggered register pipeline, subject to setup and hold timing constraints, and a feasible range for $T_{p}$.\n\n### Step 1: Extract Givens\nThe problem provides the following parameters and definitions:\n- Maximum combinational path delay: $D_{\\max} = 820 \\text{ ps}$.\n- Minimum combinational path delay: $D_{\\min} = 180 \\text{ ps}$.\n- Maximum clock-to-Q delay: $t_{cq}^{\\max} = 55 \\text{ ps}$.\n- Minimum clock-to-Q delay: $t_{cq}^{\\min} = 40 \\text{ ps}$.\n- Setup time: $t_{su} = 20 \\text{ ps}$.\n- Setup margin: $s_{\\text{setup}} = 10 \\text{ ps}$.\n- Capture hold time: $t_{h} = 10 \\text{ ps}$.\n- Worst-case negative clock skew: $\\delta = 60 \\text{ ps}$.\n- Feasible pulse-width range: $T_{p} \\in [150, 350] \\text{ ps}$.\n- Cycle time: $T_{\\text{clk}}$.\n- Pulse width: $T_{p}$.\n\nThe problem also specifies the foundational definitions for timing constraints:\n1.  **Setup Constraint**: The data launched by the launch PTR must be captured by the end of the capture PTR’s transparency window minus the setup time and a setup margin. The launch register is transparent during $[0, T_{p}]$ and the capture register during $[T_{\\text{clk}}, T_{\\text{clk}} + T_{p}]$.\n2.  **Hold (Short-Path) Constraint**: The separation between the end of the launch pulse and the beginning of the capture pulse must be at least the sum of the minimum clock-to-Q delay, the minimum path delay, and the capture hold time, considering a worst-case negative clock skew $\\delta$.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is `scientifically grounded` in the principles of digital circuit timing analysis for latch-based pipelines. It is `well-posed` as it asks for the solution to a constrained optimization problem. The language is `objective` and precise. All necessary parameters are provided, making the problem `self-contained`, and there are no internal contradictions. While the phrasing of the hold constraint definition is slightly unorthodox from a grammatical standpoint, its mathematical meaning is explicitly defined. The problem requires strict adherence to these given definitions, which is a standard feature of a formal problem. The problem is therefore deemed **valid**.\n\n### Step 3: Formulate and Solve the Optimization Problem\n\nThe objective is to minimize $T_{\\text{clk}}$ by choosing an optimal $T_{p}$ from the interval $[150, 350]$. This requires formulating the constraints on $T_{\\text{clk}}$ as functions of $T_{p}$.\n\n**1. Setup Constraint Formulation**\nThe setup constraint ensures that the slowest data path has enough time to propagate and be safely captured.\n- The latest data is launched from the launch register at time $t_{cq}^{\\max}$ after the clock edge at time $0$.\n- The data traverses the longest combinational logic path, taking $D_{\\max}$ time.\n- The latest arrival time of data at the capture register's input is $t_{\\text{arrival}}^{\\max} = t_{cq}^{\\max} + D_{\\max}$.\n- The capture register is transparent during the interval $[T_{\\text{clk}}, T_{\\text{clk}} + T_{p}]$.\n- To be safely captured, the data must be stable at the input for a duration of $t_{su}$ before the latch closes (i.e., the end of the transparency window), plus a safety margin $s_{\\text{setup}}$. The capture deadline is therefore $t_{\\text{deadline}} = (T_{\\text{clk}} + T_{p}) - t_{su} - s_{\\text{setup}}$.\n- The setup constraint is $t_{\\text{arrival}}^{\\max} \\le t_{\\text{deadline}}$.\n$$t_{cq}^{\\max} + D_{\\max} \\le T_{\\text{clk}} + T_{p} - t_{su} - s_{\\text{setup}}$$\nRearranging for $T_{\\text{clk}}$ gives the first lower bound for the cycle time:\n$$T_{\\text{clk}} \\ge t_{cq}^{\\max} + D_{\\max} - T_{p} + t_{su} + s_{\\text{setup}}$$\n\n**2. Hold Constraint Formulation**\nThe hold constraint (or short-path constraint) prevents data from the fastest path from racing through and corrupting the data at the capture latch. We must use the definition provided in the problem statement.\n- The launch pulse ends at time $T_{p}$.\n- The capture pulse begins nominally at $T_{\\text{clk}}$. With worst-case negative skew $\\delta$, the capture clock arrives early, so the capture pulse begins at $T_{\\text{clk}} - \\delta$.\n- The separation between the end of the launch pulse and the beginning of the capture pulse is $(T_{\\text{clk}} - \\delta) - T_{p}$.\n- The problem defines the minimum required separation as the sum of $t_{cq}^{\\min}$, $D_{\\min}$, and $t_{h}$.\n- The hold constraint is therefore:\n$$(T_{\\text{clk}} - \\delta) - T_{p} \\ge t_{cq}^{\\min} + D_{\\min} + t_{h}$$\nRearranging for $T_{\\text{clk}}$ gives the second lower bound for the cycle time:\n$$T_{\\text{clk}} \\ge T_{p} + t_{cq}^{\\min} + D_{\\min} + \\delta + t_{h}$$\n\n**3. Optimization Problem**\nTo satisfy both constraints, $T_{\\text{clk}}$ must be greater than or equal to the maximum of these two lower bounds:\n$$T_{\\text{clk}}(T_{p}) \\ge \\max\\left( t_{cq}^{\\max} + D_{\\max} - T_{p} + t_{su} + s_{\\text{setup}}, \\quad T_{p} + t_{cq}^{\\min} + D_{\\min} + \\delta + t_{h} \\right)$$\nTo minimize $T_{\\text{clk}}$, we must find the value of $T_{p}$ in the range $[150, 350]$ that minimizes this expression. Let's define two linear functions of $T_{p}$:\n- $f_1(T_{p}) = (t_{cq}^{\\max} + D_{\\max} + t_{su} + s_{\\text{setup}}) - T_{p}$ (decreasing function)\n- $f_2(T_{p}) = (t_{cq}^{\\min} + D_{\\min} + \\delta + t_{h}) + T_{p}$ (increasing function)\n\nLet's first substitute the given values to find the constants:\n- Constant part of $f_1$: $C_1 = 55 + 820 + 20 + 10 = 905 \\text{ ps}$. So, $f_1(T_{p}) = 905 - T_{p}$.\n- Constant part of $f_2$: $C_2 = 40 + 180 + 60 + 10 = 290 \\text{ ps}$. So, $f_2(T_{p}) = 290 + T_{p}$.\n\nWe need to minimize $T_{\\text{clk}}(T_p) = \\max(905 - T_{p}, 290 + T_{p})$ for $T_p \\in [150, 350]$.\nThe minimum of the maximum of a decreasing and an increasing function occurs at their intersection, provided the intersection point is within the feasible domain. Let's find this intersection point, which we denote $T_{p}^{\\text{unc}}$ (unconstrained optimum):\n$$f_1(T_{p}^{\\text{unc}}) = f_2(T_{p}^{\\text{unc}})$$\n$$905 - T_{p}^{\\text{unc}} = 290 + T_{p}^{\\text{unc}}$$\n$$2 T_{p}^{\\text{unc}} = 905 - 290$$\n$$2 T_{p}^{\\text{unc}} = 615$$\n$$T_{p}^{\\text{unc}} = 307.5 \\text{ ps}$$\n\nNow, we check if this unconstrained optimal value lies within the feasible range for $T_{p}$:\n$$150 \\text{ ps} \\le 307.5 \\text{ ps} \\le 350 \\text{ ps}$$\nThe condition is satisfied. Therefore, the optimal pulse width $T_{p}^{\\star}$ that minimizes the cycle time is $307.5 \\text{ ps}$.\n\nThe problem requires the answer to be rounded to four significant figures. The calculated value $307.5$ already has four significant figures.\n\nThe optimal pulse width is $T_{p}^{\\star} = 307.5 \\text{ ps}$.",
            "answer": "$$\\boxed{307.5}$$"
        },
        {
            "introduction": "While optimizing the pulse width provides a global balance, individual short paths in a design may still be too fast, leading to hold-time violations. In practical digital design, these violations must be \"fixed\" by inserting delay elements, typically buffers, into the problematic paths. This practice provides a hands-on challenge in hold-time correction, where you must devise an area-efficient buffering strategy to ensure all paths meet the minimum delay requirement, using a first-order Elmore delay model to guide your design choices .",
            "id": "4291868",
            "problem": "A synchronous pipeline built with pulse-triggered registers (pulsed latches) must satisfy the hold-time constraint that the earliest data launched by a register does not propagate into the next register while both the launching and capturing latches are simultaneously transparent. The maximum pulse overlap uncertainty is bounded by the quantity $\\Delta T$, which represents the worst-case duration in which both latches can be simultaneously transparent due to clock jitter and uncertainty in pulse alignment. In this design, you are given three short data paths driven by a common launch register output and feeding three separate capture registers. The net topology consists of a shared trunk segment followed by three branch segments, each terminated by the input gate capacitance of its capture register.\n\nAssume the following modeling framework:\n- The hold-time condition to be satisfied for each path $i$ is that the sum of the launch register clock-to-$Q$ minimum delay $t_{\\text{cq,min}}$ and the minimum data path delay $t_{i,\\min}$ is greater than or equal to $\\Delta T$, that is, $t_{\\text{cq,min}} + t_{i,\\min} \\ge \\Delta T$.\n- The minimum data path delay $t_{i,\\min}$ is modeled by the first-order Elmore delay along the source resistance of the launch register output and the downstream wire and gate load of path $i$. For each path $i$, use\n$$\nt_{i,\\min} = R_{q}\\left(C_{t} + C_{b,i} + C_{L,i}\\right) + R_{t}\\left(C_{b,i} + C_{L,i}\\right) + R_{b,i} C_{L,i}.\n$$\n- The three paths share a trunk with wire resistance $R_{t}$ and wire capacitance $C_{t}$, and each has a branch with wire resistance $R_{b,i}$ and capacitance $C_{b,i}$, terminated by a capture gate input capacitance $C_{L,i}$.\n- The launch register output has a minimum effective source resistance $R_{q}$ and minimum clock-to-$Q$ delay $t_{\\text{cq,min}}$.\n\nYou are allowed to insert a series chain of identical, minimum-sized inverter buffers on the shared trunk near the launch register to increase the minimum delay on all three paths equally. Each buffer has a normalized size $s \\ge 1$ (with $s=1$ denoting unit size), an on-resistance $R_{u}/s$, and an input gate capacitance $C_{g} s$. The small local interconnect segment between cascaded buffers contributes a fixed capacitance $C_{w}$ per stage. Model the added delay per buffer stage as the product of the driving resistance and the load capacitance of the next stage,\n$$\nt_{\\text{buf}}(s) = \\frac{R_{u}}{s}\\left(C_{g} s + C_{w}\\right) = R_{u} C_{g} + \\frac{R_{u} C_{w}}{s}.\n$$\nAssume that inserting $k$ such buffers in series adds a delay of $k \\, t_{\\text{buf}}(s)$ to each path’s minimum delay, and that the buffers are placed such that loading of the original network upstream is unchanged aside from the intentional buffer chain. Ignore slew dependencies and any nonlinearity beyond the given model.\n\nUse the following numerical values:\n- $\\Delta T = 80\\,\\text{ps}$, $t_{\\text{cq,min}} = 30\\,\\text{ps}$, $R_{q} = 500\\,\\Omega$.\n- Shared trunk: $R_{t} = 25\\,\\Omega$, $C_{t} = 25\\,\\text{fF}$.\n- Branches: for $i=1,2,3$, $R_{b,i} = 5\\,\\Omega$, $C_{b,i} = 5\\,\\text{fF}$.\n- Capture gate input capacitances: $C_{L,1} = 3\\,\\text{fF}$, $C_{L,2} = 4\\,\\text{fF}$, $C_{L,3} = 2\\,\\text{fF}$.\n- Buffer parameters: $R_{u} = 5\\,\\text{k}\\Omega$, $C_{g} = 2\\,\\text{fF}$, $C_{w} = 0.5\\,\\text{fF}$.\n\nDetermine the minimum integer number of buffers $k$ and the chosen buffer normalized size $s$ required so that the hold condition is satisfied for all three paths. Among all feasible $(k,s)$ pairs with $s \\ge 1$, choose the one with the smallest $k$; if multiple $s$ yield the same minimum $k$, choose the smallest $s$.\n\nExpress your final answer as a row matrix containing $k$ and $s$ with no units. No rounding is required.",
            "solution": "The user wants me to solve a problem related to hold-time fixing in a pulse-triggered register pipeline.\n\nHere's my thought process for structuring the response:\n\n1.  **Problem Validation:**\n    *   First, I will perform the mandatory validation step. I will extract all given parameters, equations, and constraints verbatim.\n    *   Then, I will assess the problem against the criteria for validity: scientific soundness, being well-posed, and objectivity. The problem describes a standard hold-time fixing scenario in digital integrated circuit design. The models used (Elmore delay, linear buffer delay) are common simplifications. The optimization goal is clearly stated. The problem appears scientifically grounded, well-posed, and objective. Therefore, I will declare it valid.\n\n2.  **Solution Formulation (if valid):**\n    *   My primary goal is to determine the minimum integer number of buffers, $k$, and the corresponding buffer size, $s$, needed to satisfy the hold-time constraint on all three data paths. The constraint is:\n        $$t_{\\text{cq,min}} + t_{i,\\min} + t_{\\text{added}} \\ge \\Delta T \\quad \\text{for } i \\in \\{1, 2, 3\\}$$\n        where $t_{\\text{added}} = k \\cdot t_{\\text{buf}}(s)$.\n    *   **Step 1: Calculate Initial Path Delays.** I will first calculate the minimum path delay, $t_{i,\\min}$, for each of the three paths using the provided Elmore delay formula and numerical values. I must be careful with units: resistances are in $\\Omega$ and capacitances are in $\\text{fF}$. The product $\\Omega \\cdot \\text{fF}$ yields $10^{-15} \\, \\text{s}$, or femtoseconds ($\\text{fs}$). Since other time values are in picoseconds ($\\text{ps}$), I will convert everything to a consistent unit, either by working in ps from the start (e.g., using $\\text{k}\\Omega$ and $\\text{fF}$) or converting at the end. Using $\\text{k}\\Omega$ and $\\text{fF}$ to get $\\text{ps}$ seems most direct.\n        $$t_{i,\\min} = R_{q}\\left(C_{t} + C_{b,i} + C_{L,i}\\right) + R_{t}\\left(C_{b,i} + C_{L,i}\\right) + R_{b,i} C_{L,i}$$\n    *   **Step 2: Identify the Worst-Case Path and Required Delay.** The hold-time constraint must be met for all paths. The \"worst-case\" path for hold time is the one with the smallest delay, as it is the most likely to violate the constraint. I will calculate the initial total delay $t_{\\text{path},i} = t_{\\text{cq,min}} + t_{i,\\min}$ for each path and find the minimum among them, $t_{\\text{path,min}}$. The minimum required added delay, $t_{\\text{fix}}$, will then be:\n        $$t_{\\text{fix}} = \\Delta T - t_{\\text{path,min}}$$\n        If $t_{\\text{fix}} \\le 0$, no buffers are needed.\n    *   **Step 3: Analyze the Optimization Objective.** The problem asks for a lexicographical minimization of the pair $(k, s)$. This means I must first find the absolute minimum integer value of $k$ that can satisfy the constraint for *any* valid $s \\ge 1$. Once this minimum $k$ (let's call it $k^*$) is found, I must then find the smallest $s \\ge 1$ that works with this $k^*$.\n    *   **Step 4: Find the Minimum Integer k.** The delay added by the buffers is $t_{\\text{added}}(k,s) = k \\left( R_{u} C_{g} + \\frac{R_{u} C_{w}}{s} \\right)$. To satisfy the hold constraint, we need $t_{\\text{added}}(k,s) \\ge t_{\\text{fix}}$.\n        To find the minimum possible integer $k$, I must determine the maximum possible delay a single buffer can provide. The buffer delay $t_{\\text{buf}}(s)$ is a decreasing function of $s$ for $s \\ge 1$. Therefore, the maximum delay is achieved at the minimum size, $s=1$. Let's call this $t_{\\text{buf,max}} = t_{\\text{buf}}(1)$.\n        The minimum number of buffers must satisfy $k \\cdot t_{\\text{buf,max}} \\ge t_{\\text{fix}}$. Since $k$ must be an integer, the minimum value is:\n        $$k^* = \\left\\lceil \\frac{t_{\\text{fix}}}{t_{\\text{buf,max}}} \\right\\rceil$$\n    *   **Step 5: Find the Smallest s for minimum k.** With the minimum integer $k^*$ determined, I now need to find the smallest $s \\ge 1$ that satisfies the inequality:\n        $$k^* \\left( R_{u} C_{g} + \\frac{R_{u} C_{w}}{s} \\right) \\ge t_{\\text{fix}}$$\n        Since the left-hand side is a decreasing function of $s$, this inequality sets an upper bound on $s$. Let's say we solve for the equality case to find $s_{\\text{max}}$. The range of valid $s$ values for this $k^*$ becomes $[1, s_{\\text{max}}]$. The problem asks for the smallest $s$ in this range, which is $s=1$. By the construction of $k^*$, we are guaranteed that $s=1$ is a valid solution.\n    *   **Step 6: Final Calculation and Answer.** I will substitute all the numerical values to compute $t_{i,\\min}$, $t_{\\text{fix}}$, $k^*$, and verify the final choice of $s$. The final answer will be presented as a row matrix containing the integer $k^*$ and the number $s$.\n\nThis structured approach ensures all constraints are met and the specific optimization criteria are followed precisely.\n\n---\n### Step 1: Extract Givens\n- **Hold-time condition**: $t_{\\text{cq,min}} + t_{i,\\min} \\ge \\Delta T$. After buffer insertion, this becomes $t_{\\text{cq,min}} + t_{i,\\min} + k \\, t_{\\text{buf}}(s) \\ge \\Delta T$.\n- **Minimum data path delay model**: $t_{i,\\min} = R_{q}\\left(C_{t} + C_{b,i} + C_{L,i}\\right) + R_{t}\\left(C_{b,i} + C_{L,i}\\right) + R_{b,i} C_{L,i}$.\n- **Buffer delay model**: $t_{\\text{buf}}(s) = \\frac{R_{u}}{s}\\left(C_{g} s + C_{w}\\right) = R_{u} C_{g} + \\frac{R_{u} C_{w}}{s}$.\n- **Constants and Parameters**:\n  - $\\Delta T = 80\\,\\text{ps}$\n  - $t_{\\text{cq,min}} = 30\\,\\text{ps}$\n  - $R_{q} = 500\\,\\Omega$\n  - Shared trunk: $R_{t} = 25\\,\\Omega$, $C_{t} = 25\\,\\text{fF}$\n  - Branches: $R_{b,i} = 5\\,\\Omega$, $C_{b,i} = 5\\,\\text{fF}$ for $i=1,2,3$.\n  - Capture gate capacitances: $C_{L,1} = 3\\,\\text{fF}$, $C_{L,2} = 4\\,\\text{fF}$, $C_{L,3} = 2\\,\\text{fF}$.\n  - Buffer parameters: size $s \\ge 1$, $R_{u} = 5\\,\\text{k}\\Omega$, $C_{g} = 2\\,\\text{fF}$, $C_{w} = 0.5\\,\\text{fF}$.\n- **Optimization Goal**: Find the minimum integer $k$ and the corresponding smallest $s$ that satisfy the hold condition for all paths.\n\n### Step 2: Validate Using Extracted Givens\n- **Scientifically Grounded**: The problem is based on standard principles of digital circuit timing analysis. The Elmore delay is a widely used first-order approximation for RC network delay. The hold-time constraint for pulse-triggered registers is a fundamental concept in high-speed digital design. The models and parameters are realistic.\n- **Well-Posed**: The problem provides a clear objective function (lexicographical minimization of $(k, s)$) and a complete set of constraints and parameters. A unique solution is expected to exist.\n- **Objective**: The problem is stated in precise, quantitative terms, free from subjective language.\n\n### Step 3: Verdict and Action\nThe problem is valid. I will proceed with the solution.\n\n### Solution\nThe problem requires us to find the minimum integer number of buffers, $k$, and the corresponding size, $s$, to insert into a signal path to fix a hold-time violation. The optimization goal is to first minimize $k$, and then for that minimum $k$, find the smallest possible $s \\ge 1$.\n\nFirst, we calculate the initial minimum path delay, $t_{i,\\min}$, for each of the $3$ paths using the given Elmore delay model. To ensure consistent units where the product of resistance in kilo-ohms ($\\text{k}\\Omega$) and capacitance in femtofarads ($\\text{fF}$) results in time in picoseconds ($\\text{ps}$), we convert the given resistances.\n- $R_{q} = 500\\,\\Omega = 0.5\\,\\text{k}\\Omega$\n- $R_{t} = 25\\,\\Omega = 0.025\\,\\text{k}\\Omega$\n- $R_{b,i} = 5\\,\\Omega = 0.005\\,\\text{k}\\Omega$\n\nThe delay for each path $i$ is:\n$t_{i,\\min} = R_{q}(C_{t} + C_{b,i} + C_{L,i}) + R_{t}(C_{b,i} + C_{L,i}) + R_{b,i} C_{L,i}$\n\nFor path $1$ ($i=1$): $C_{L,1} = 3\\,\\text{fF}$, $C_{b,1} = 5\\,\\text{fF}$.\n$t_{1,\\min} = 0.5 \\,(25 + 5 + 3) + 0.025 \\,(5 + 3) + 0.005 \\,(3)$\n$t_{1,\\min} = 0.5 \\,(33) + 0.025 \\,(8) + 0.015 = 16.5 + 0.2 + 0.015 = 16.715 \\, \\text{ps}$\n\nFor path $2$ ($i=2$): $C_{L,2} = 4\\,\\text{fF}$, $C_{b,2} = 5\\,\\text{fF}$.\n$t_{2,\\min} = 0.5 \\,(25 + 5 + 4) + 0.025 \\,(5 + 4) + 0.005 \\,(4)$\n$t_{2,\\min} = 0.5 \\,(34) + 0.025 \\,(9) + 0.020 = 17.0 + 0.225 + 0.020 = 17.245 \\, \\text{ps}$\n\nFor path $3$ ($i=3$): $C_{L,3} = 2\\,\\text{fF}$, $C_{b,3} = 5\\,\\text{fF}$.\n$t_{3,\\min} = 0.5 \\,(25 + 5 + 2) + 0.025 \\,(5 + 2) + 0.005 \\,(2)$\n$t_{3,\\min} = 0.5 \\,(32) + 0.025 \\,(7) + 0.010 = 16.0 + 0.175 + 0.010 = 16.185 \\, \\text{ps}$\n\nThe total initial delay for each path is $t_{\\text{path},i} = t_{\\text{cq,min}} + t_{i,\\min}$, where $t_{\\text{cq,min}} = 30\\,\\text{ps}$.\n$t_{\\text{path},1} = 30 + 16.715 = 46.715 \\, \\text{ps}$\n$t_{\\text{path},2} = 30 + 17.245 = 47.245 \\, \\text{ps}$\n$t_{\\text{path},3} = 30 + 16.185 = 46.185 \\, \\text{ps}$\n\nThe hold-time requirement is that the total delay must be greater than or equal to $\\Delta T = 80\\,\\text{ps}$. The worst-case path is the one with the smallest delay, as it has the largest violation.\n$t_{\\text{path,min}} = \\min(46.715, 47.245, 46.185) = 46.185 \\, \\text{ps}$ (Path $3$).\nSince $46.185\\,\\text{ps}  80\\,\\text{ps}$, there is a hold violation. The minimum amount of delay that must be added by buffers, $t_{\\text{fix}}$, is:\n$t_{\\text{fix}} = \\Delta T - t_{\\text{path,min}} = 80 - 46.185 = 33.815 \\, \\text{ps}$\n\nThe delay added by $k$ buffers of size $s$ is $k \\cdot t_{\\text{buf}}(s)$, where:\n$t_{\\text{buf}}(s) = R_u C_g + \\frac{R_u C_w}{s}$.\nUsing the given buffer parameters ($R_u = 5\\,\\text{k}\\Omega$, $C_g = 2\\,\\text{fF}$, $C_w = 0.5\\,\\text{fF}$):\n$t_{\\text{buf}}(s) = (5\\,\\text{k}\\Omega)(2\\,\\text{fF}) + \\frac{(5\\,\\text{k}\\Omega)(0.5\\,\\text{fF})}{s} = 10 \\, \\text{ps} + \\frac{2.5 \\, \\text{ps}}{s}$\n\nTo satisfy the hold constraint, we need $k \\cdot t_{\\text{buf}}(s) \\ge t_{\\text{fix}}$.\n$k \\left( 10 + \\frac{2.5}{s} \\right) \\ge 33.815$\n\nTo find the minimum integer $k$, we must find the maximum possible delay a single buffer can provide. The function $t_{\\text{buf}}(s)$ is a decreasing function of $s$. Since the minimum allowed size is $s=1$, the maximum delay per buffer is at $s=1$:\n$t_{\\text{buf,max}} = t_{\\text{buf}}(1) = 10 + \\frac{2.5}{1} = 12.5 \\, \\text{ps}$\n\nThe minimum number of buffers $k$ must satisfy $k \\cdot t_{\\text{buf,max}} \\ge t_{\\text{fix}}$.\n$k \\ge \\frac{t_{\\text{fix}}}{t_{\\text{buf,max}}} = \\frac{33.815}{12.5} = 2.7052$\nSince $k$ must be an integer, the minimum possible value for $k$ is $k = \\lceil 2.7052 \\rceil = 3$.\n\nNow that we have the minimum integer value for $k$, which is $3$, we must find the smallest size $s \\ge 1$ that satisfies the hold constraint for this $k$.\n$3 \\left( 10 + \\frac{2.5}{s} \\right) \\ge 33.815$\n$30 + \\frac{7.5}{s} \\ge 33.815$\n$\\frac{7.5}{s} \\ge 33.815 - 30$\n$\\frac{7.5}{s} \\ge 3.815$\nRearranging the inequality to solve for $s$:\n$s \\le \\frac{7.5}{3.815} \\approx 1.9659$\n\nThe set of feasible values for $s$ when $k=3$ is the interval $[1, \\frac{7.5}{3.815}]$. The problem requires us to choose the smallest $s$ from this feasible set. The minimum value in this interval is $s=1$.\n\nTherefore, the solution that lexicographically minimizes $(k, s)$ is $k=3$ and $s=1$.\nLet's verify this solution. With $k=3$ and $s=1$, the added delay is $3 \\cdot t_{\\text{buf}}(1) = 3 \\cdot 12.5\\,\\text{ps} = 37.5\\,\\text{ps}$.\nThe new minimum path delay will be $t_{\\text{path,min}} + t_{\\text{added}} = 46.185 + 37.5 = 83.685\\,\\text{ps}$.\nSince $83.685\\,\\text{ps} \\ge 80\\,\\text{ps}$, the hold condition is satisfied.\n_ _\nThe final required values are the integer number of buffers $k$ and the buffer size $s$.\n$k = 3$\n$s = 1$",
            "answer": "$$\\boxed{\\begin{pmatrix} 3  1 \\end{pmatrix}}$$"
        },
        {
            "introduction": "A design that is correct under ideal conditions can fail in the real world due to physical effects like power supply noise. In a pulse-triggered system, voltage (IR) drop on the clock network can \"clip\" the clock pulse, reducing its amplitude and duration. This practice explores the critical link between power integrity and timing robustness, asking you to quantify how a clipped pulse weakens the register's data sampling capability, thereby increasing its vulnerability to metastability and degrading the mean time between failures (MTBF) .",
            "id": "4291878",
            "problem": "A pulse-triggered register constructed from a transmission-gate sampler driving a cross-coupled inverter pair is clocked by a narrow pulse derived from a buffered clock. The register is placed on a resistive clock distribution network that exhibits voltage drop due to current flow through resistance (IR drop). As the load activity increases, the local clock pulse becomes clipped: its peak amplitude and width both shrink relative to the nominal pulse. Consider a first-principles small-signal model of the regenerative decision in the cross-coupled inverter pair, in which the differential output voltage $v(t)$ evolves according to the linearized differential equation $C \\frac{dv}{dt} = g_{m} v(t)$ for small $|v|$, where $C$ is the effective capacitance at the internal node pair and $g_{m}$ is the effective transconductance of the regenerative stage. The solution has the form $v(t) = v_{0} \\exp\\!\\left(\\frac{t}{\\tau}\\right)$, where $\\tau = \\frac{C}{g_{m}}$ and $v_{0}$ is the initial differential voltage set by sampling the input data during the pulse.\n\nAssume the following:\n- For small timing offset $\\Delta t$ between the data transition and the center of the sampling pulse, the initial condition scales as $v_{0}(\\Delta t) \\approx S \\,\\Delta t$, where $S$ is an effective sampling sensitivity proportional to the integrated pass-conductance during the pulse times the data-edge slew at the sampler input.\n- The decision is considered successful if $|v(t)|$ exceeds a required detection threshold $V_{\\mathrm{det}}$ within a fixed available resolution time $T_{\\mathrm{res}}$; otherwise the event counts as a metastability failure.\n- Under nominal conditions, the clock pulse has peak amplitude $A_{0}$ and width $w_{0}$, and the sampling sensitivity scales as $S_{0} \\propto A_{0} w_{0}$.\n- Under clipped-pulse conditions caused by IR drop, the peak amplitude and width are reduced to $\\alpha A_{0}$ and $\\beta w_{0}$, respectively, with $\\alpha = 0.80$ and $\\beta = 0.70$, so that $S$ scales as $S' \\propto \\alpha \\beta A_{0} w_{0}$.\n\nTreat asynchronous data transitions and clock pulses as statistically independent with uniform relative timing, so that metastability failures occur when $|\\Delta t|$ falls within the failure window implied by the regeneration dynamics. Starting from the linear regeneration model $C \\frac{dv}{dt} = g_{m} v(t)$ and the small-signal sampling relation $v_{0}(\\Delta t) \\approx S \\,\\Delta t$, derive how pulse clipping increases the width of the metastability failure window, and from that, derive the dependence of mean time between failures (MTBF) on $S$ for fixed $T_{\\mathrm{res}}$ and $\\tau$. Using your derivation, compute the ratio of the clipped-pulse MTBF to the nominal MTBF, i.e., $\\mathrm{MTBF}'/\\mathrm{MTBF}_{0}$, for the given $\\alpha$ and $\\beta$.\n\nExpress the final ratio as a pure number. Round your answer to four significant figures.",
            "solution": "The cross-coupled inverter pair in a pulse-triggered register can be modeled near the metastable point as a linear regenerative system. The small-signal differential equation is\n$$\nC \\frac{dv}{dt} = g_{m} v(t),\n$$\nwhich has solution\n$$\nv(t) = v_{0} \\exp\\!\\left(\\frac{t}{\\tau}\\right), \\quad \\text{with} \\quad \\tau = \\frac{C}{g_{m}}.\n$$\nThe initial condition $v_{0}$ is set by the sampling action of the transmission gate while the clock pulse is high. When the data transition occurs near the center of the pulse, the overlap between the data edge and the pulse is small, and a first-order approximation yields\n$$\nv_{0}(\\Delta t) \\approx S \\,\\Delta t,\n$$\nwhere $S$ is the effective sampling sensitivity that aggregates the pass-conductance time integral and the data slew into a single proportionality factor. For a transmission gate whose conductance scales with pulse amplitude and is active over the pulse width, the sensitivity obeys\n$$\nS \\propto A w.\n$$\nTherefore, under nominal conditions $S_{0} \\propto A_{0} w_{0}$, and under clipped conditions $S' \\propto (\\alpha A_{0})(\\beta w_{0}) = \\alpha \\beta (A_{0} w_{0})$, so\n$$\nS' = \\alpha \\beta \\, S_{0}\n$$\nup to the same proportionality constant.\n\nThe decision is successful if by time $T_{\\mathrm{res}}$ the magnitude exceeds a detection threshold $V_{\\mathrm{det}}$. Given the exponential growth, the time to reach $V_{\\mathrm{det}}$ is\n$$\nt_{\\mathrm{reach}} = \\tau \\ln\\!\\left(\\frac{V_{\\mathrm{det}}}{|v_{0}|}\\right).\n$$\nA metastability failure for a given event occurs if $t_{\\mathrm{reach}}  T_{\\mathrm{res}}$, equivalently if\n$$\n|v_{0}|  V_{\\mathrm{det}} \\exp\\!\\left(-\\frac{T_{\\mathrm{res}}}{\\tau}\\right).\n$$\nUsing $|v_{0}| \\approx S |\\Delta t|$, the failure condition becomes\n$$\nS |\\Delta t|  V_{\\mathrm{det}} \\exp\\!\\left(-\\frac{T_{\\mathrm{res}}}{\\tau}\\right),\n$$\nor\n$$\n|\\Delta t|  \\frac{V_{\\mathrm{det}}}{S} \\exp\\!\\left(-\\frac{T_{\\mathrm{res}}}{\\tau}\\right).\n$$\nAccounting for early and late arrival, the total failure window width in $\\Delta t$ is\n$$\nT_{w,\\mathrm{fail}} = 2 \\frac{V_{\\mathrm{det}}}{S} \\exp\\!\\left(-\\frac{T_{\\mathrm{res}}}{\\tau}\\right).\n$$\nThis shows that clipping the pulse (reducing $S$) increases $T_{w,\\mathrm{fail}}$ inversely: a smaller $S$ produces a larger failure window.\n\nIf data transitions and clock pulses occur independently with uniform relative timing, the rate of occurrences falling into the failure window is proportional to the product of their rates times the window width. Let the clock and data event rates be $f_{c}$ and $f_{d}$, respectively. Then the metastability failure rate is\n$$\n\\lambda = f_{c} f_{d} \\, T_{w,\\mathrm{fail}} = f_{c} f_{d} \\cdot 2 \\frac{V_{\\mathrm{det}}}{S} \\exp\\!\\left(-\\frac{T_{\\mathrm{res}}}{\\tau}\\right).\n$$\nThe mean time between failures (MTBF) is the reciprocal:\n$$\n\\mathrm{MTBF} = \\frac{1}{\\lambda} = \\frac{S}{2 f_{c} f_{d} V_{\\mathrm{det}}} \\exp\\!\\left(\\frac{T_{\\mathrm{res}}}{\\tau}\\right).\n$$\nFor fixed $T_{\\mathrm{res}}$, $\\tau$, $f_{c}$, $f_{d}$, and $V_{\\mathrm{det}}$, the MTBF scales linearly with $S$. Therefore, the ratio of MTBF under clipped conditions to nominal is\n$$\n\\frac{\\mathrm{MTBF}'}{\\mathrm{MTBF}_{0}} = \\frac{S'}{S_{0}} = \\alpha \\beta.\n$$\nWith $\\alpha = 0.80$ and $\\beta = 0.70$,\n$$\n\\frac{\\mathrm{MTBF}'}{\\mathrm{MTBF}_{0}} = 0.80 \\times 0.70 = 0.56.\n$$\nRounded to four significant figures, the ratio is $0.5600$.",
            "answer": "$$\\boxed{0.5600}$$"
        }
    ]
}