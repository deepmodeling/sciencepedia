{
    "hands_on_practices": [
        {
            "introduction": "The conversion speed of a Successive Approximation Register (SAR) ADC is fundamentally limited by the time it takes to accurately sample the input signal. This acquisition phase is governed by the settling behavior of its front-end sample-and-hold circuit, which can be modeled as a first-order $R C$ network.\n\nThis exercise  challenges you to determine the minimum acquisition time required for the sampled voltage to settle within a predefined error margin—typically a fraction of a Least Significant Bit ($LSB$)—of the true input voltage. Mastering this classic calculation is crucial, as it connects basic circuit theory to a primary ADC performance specification and enables fundamental design trade-offs between speed, resolution, and component sizing.",
            "id": "4254989",
            "problem": "A single-ended Successive Approximation Register (SAR) Analog-to-Digital Converter (ADC) uses a top-plate sampling network with a bootstrapped sampling switch of on-resistance $R_{\\mathrm{on}}$ and a sampling capacitor $C_{s}$. During acquisition, the input source has negligible output resistance, and all parasitics other than $C_{s}$ are neglected. At time $t=0$, the input undergoes a full-scale step from $0$ to $V_{\\mathrm{FS}}$, while the sampling switch is closed. The sampling node follows with first-order dynamics due to the $R_{\\mathrm{on}}C_{s}$ time constant. Define the least significant bit (LSB) for an $N$-bit converter over the range $[0, V_{\\mathrm{FS}}]$ as $\\mathrm{LSB} = V_{\\mathrm{FS}}/2^{N}$.\n\nStarting from first principles for a first-order linear time-invariant system driven by a step input and using the definition of LSB above, derive the minimum acquisition time $t_{\\mathrm{acq}}$ such that the magnitude of the sampling error at the end of acquisition is strictly less than $0.5\\,\\mathrm{LSB}$ for the specified full-scale step. Then evaluate your expression numerically for the following parameters: $C_{s} = 3.2\\,\\mathrm{pF}$, $R_{\\mathrm{on}} = 75\\,\\Omega$, $V_{\\mathrm{FS}} = 1.8\\,\\mathrm{V}$, and $N=14$.\n\nExpress your final numerical answer for $t_{\\mathrm{acq}}$ in $\\mathrm{ns}$, and round your answer to four significant figures.",
            "solution": "The user has provided a problem statement that requires validation before a solution is attempted.\n\n### Step 1: Extract Givens\n- **System**: Single-ended Successive Approximation Register (SAR) Analog-to-Digital Converter (ADC).\n- **Sampling Network**: Top-plate sampling with a bootstrapped sampling switch.\n- **Components and Parameters**:\n    - Switch on-resistance: $R_{\\mathrm{on}}$\n    - Sampling capacitor: $C_{s}$\n    - Input source output resistance: Negligible.\n    - Parasitics: Neglected, other than $C_s$.\n- **Input Condition**: At time $t=0$, the input undergoes a full-scale step from $0$ to $V_{\\mathrm{FS}}$. The sampling switch is closed.\n- **System Dynamics**: The sampling node follows first-order dynamics with time constant $R_{\\mathrm{on}}C_{s}$.\n- **Definitions**:\n    - Least Significant Bit (LSB) for an $N$-bit converter: $\\mathrm{LSB} = V_{\\mathrm{FS}}/2^{N}$.\n    - Range: $[0, V_{\\mathrm{FS}}]$.\n- **Objective**:\n    1. Derive the minimum acquisition time $t_{\\mathrm{acq}}$ such that the magnitude of the sampling error at $t=t_{\\mathrm{acq}}$ is strictly less than $0.5\\,\\mathrm{LSB}$ for the specified full-scale step.\n    2. Evaluate the expression for $t_{\\mathrm{acq}}$ numerically.\n- **Numerical Values**:\n    - $C_{s} = 3.2\\,\\mathrm{pF}$\n    - $R_{\\mathrm{on}} = 75\\,\\Omega$\n    - $V_{\\mathrm{FS}} = 1.8\\,\\mathrm{V}$\n    - $N=14$\n- **Output Format**: Express the final numerical answer for $t_{\\mathrm{acq}}$ in $\\mathrm{ns}$, rounded to four significant figures.\n\n### Step 2: Validate Using Extracted Givens\n1.  **Scientifically Grounded**: The problem is scientifically sound. It models the acquisition phase of a sample-and-hold circuit as a first-order RC circuit, which is a standard and fundamental model in analog integrated circuit design. The settling condition (error less than a fraction of an LSB) is a core design constraint for ADCs.\n2.  **Well-Posed**: The problem is well-posed. It provides a clear objective, all necessary parameters, and a well-defined physical system (an LTI first-order circuit) with a specific input and initial condition. The request for a minimum time to satisfy an inequality leads to a unique, stable, and meaningful solution.\n3.  **Objective**: The problem is stated in objective, formal language, free of subjectivity or ambiguity.\n4.  **Incomplete or Contradictory Setup**: The problem is self-contained. The assumption to neglect source resistance and other parasitics is an explicit simplification, not an omission, making the problem solvable. There are no contradictions.\n5.  **Unrealistic or Infeasible**: The provided numerical values ($C_{s}=3.2\\,\\mathrm{pF}$, $R_{\\mathrm{on}}=75\\,\\Omega$, $V_{\\mathrm{FS}}=1.8\\,\\mathrm{V}$, $N=14$) are realistic for modern CMOS integrated circuits.\n6.  **Ill-Posed or Poorly Structured**: The problem is well-structured and leads to a unique solution.\n7.  **Pseudo-Profound, Trivial, or Tautological**: The problem requires a standard but substantive derivation from first principles, connecting the theory of RC circuits to the performance metrics of an ADC. It is not trivial.\n8.  **Outside Scientific Verifiability**: The derivation and calculation are mathematically verifiable.\n\n### Step 3: Verdict and Action\nThe problem is deemed **valid**. A solution will be provided.\n\n### Derivation and Solution\n\nThe problem asks for a derivation from first principles. The sampling network, during the acquisition phase with the switch closed, is modeled as a simple series RC circuit. The input voltage is applied to the series combination of the switch resistance $R_{\\mathrm{on}}$ and the sampling capacitor $C_s$. The voltage across the capacitor, $V_s(t)$, is the signal being sampled.\n\nThe circuit is governed by the first-order linear ordinary differential equation:\n$$R_{\\mathrm{on}}C_s \\frac{dV_s(t)}{dt} + V_s(t) = V_{\\mathrm{in}}(t)$$\nLet the time constant of the system be $\\tau = R_{\\mathrm{on}}C_s$. The equation becomes:\n$$\\tau \\frac{dV_s(t)}{dt} + V_s(t) = V_{\\mathrm{in}}(t)$$\nThe problem specifies a full-scale step input at $t=0$, where the input voltage $V_{\\mathrm{in}}(t)$ changes from $0$ to $V_{\\mathrm{FS}}$. For $t \\ge 0$, the input is $V_{\\mathrm{in}}(t) = V_{\\mathrm{FS}}$. The initial condition, corresponding to the voltage level before the step, is $V_s(0) = 0$.\n\nThe general solution for the voltage on the capacitor in a first-order system responding to a step input is:\n$$V_s(t) = V_{\\mathrm{final}} + (V_{\\mathrm{initial}} - V_{\\mathrm{final}})\\exp(-t/\\tau)$$\nIn this case, the initial voltage is $V_{\\mathrm{initial}} = V_s(0) = 0$, and the final steady-state voltage is $V_{\\mathrm{final}} = V_{\\mathrm{FS}}$. Substituting these into the general solution gives the response of the sampling node:\n$$V_s(t) = V_{\\mathrm{FS}} + (0 - V_{\\mathrm{FS}})\\exp(-t/\\tau)$$\n$$V_s(t) = V_{\\mathrm{FS}} (1 - \\exp(-t/\\tau))$$\nThis equation describes the voltage on the sampling capacitor as a function of time.\n\nThe sampling error at any time $t$ during acquisition, $V_{\\mathrm{err}}(t)$, is the difference between the final target voltage $V_{\\mathrm{FS}}$ and the actual sampled voltage $V_s(t)$:\n$$V_{\\mathrm{err}}(t) = V_{\\mathrm{FS}} - V_s(t)$$\nSubstituting the expression for $V_s(t)$:\n$$V_{\\mathrm{err}}(t) = V_{\\mathrm{FS}} - V_{\\mathrm{FS}}(1 - \\exp(-t/\\tau)) = V_{\\mathrm{FS}} - V_{\\mathrm{FS}} + V_{\\mathrm{FS}}\\exp(-t/\\tau)$$\n$$V_{\\mathrm{err}}(t) = V_{\\mathrm{FS}}\\exp(-t/\\tau)$$\nSince $V_{\\mathrm{FS}} > 0$, the error $V_{\\mathrm{err}}(t)$ is always positive for finite $t$, so its magnitude is $|V_{\\mathrm{err}}(t)| = V_{\\mathrm{err}}(t)$.\n\nThe problem requires that at the end of the acquisition period, $t = t_{\\mathrm{acq}}$, the magnitude of the sampling error must be strictly less than half of one LSB. The condition is:\n$$|V_{\\mathrm{err}}(t_{\\mathrm{acq}})| < 0.5\\,\\mathrm{LSB}$$\nUsing the definition $\\mathrm{LSB} = V_{\\mathrm{FS}}/2^N$, the condition becomes:\n$$V_{\\mathrm{FS}}\\exp(-t_{\\mathrm{acq}}/\\tau) < 0.5 \\left(\\frac{V_{\\mathrm{FS}}}{2^N}\\right)$$\nAssuming $V_{\\mathrm{FS}} \\neq 0$, we can divide both sides by $V_{\\mathrm{FS}}$:\n$$\\exp(-t_{\\mathrm{acq}}/\\tau) < \\frac{0.5}{2^N} = \\frac{1}{2 \\cdot 2^N} = \\frac{1}{2^{N+1}}$$\nTo solve for $t_{\\mathrm{acq}}$, we take the natural logarithm of both sides. Since the natural logarithm is a strictly increasing function, the inequality is preserved:\n$$\\ln(\\exp(-t_{\\mathrm{acq}}/\\tau)) < \\ln\\left(\\frac{1}{2^{N+1}}\\right)$$\n$$- \\frac{t_{\\mathrm{acq}}}{\\tau} < -\\ln(2^{N+1})$$\n$$- \\frac{t_{\\mathrm{acq}}}{\\tau} < -(N+1)\\ln(2)$$\nMultiplying both sides by $-1$ reverses the inequality sign:\n$$\\frac{t_{\\mathrm{acq}}}{\\tau} > (N+1)\\ln(2)$$\n$$t_{\\mathrm{acq}} > \\tau(N+1)\\ln(2)$$\nSubstituting $\\tau = R_{\\mathrm{on}}C_s$, we get the analytical expression for the required acquisition time:\n$$t_{\\mathrm{acq}} > R_{\\mathrm{on}}C_s(N+1)\\ln(2)$$\nThe minimum acquisition time $t_{\\mathrm{acq}}$ is the infimum of this set, which is the boundary value.\n$$t_{\\mathrm{acq, min}} = R_{\\mathrm{on}}C_s(N+1)\\ln(2)$$\n\nNow, we evaluate this expression numerically using the given parameters:\n$N = 14$\n$R_{\\mathrm{on}} = 75\\,\\Omega$\n$C_s = 3.2\\,\\mathrm{pF} = 3.2 \\times 10^{-12}\\,\\mathrm{F}$\n\nFirst, calculate the time constant $\\tau$:\n$$\\tau = R_{\\mathrm{on}}C_s = (75\\,\\Omega) \\times (3.2 \\times 10^{-12}\\,\\mathrm{F}) = 240 \\times 10^{-12}\\,\\mathrm{s} = 0.24 \\times 10^{-9}\\,\\mathrm{s}$$\nNow, calculate the minimum acquisition time $t_{\\mathrm{acq}}$:\n$$t_{\\mathrm{acq}} = (14+1) \\ln(2) \\times (0.24 \\times 10^{-9}\\,\\mathrm{s})$$\n$$t_{\\mathrm{acq}} = 15 \\ln(2) \\times (0.24 \\times 10^{-9}\\,\\mathrm{s})$$\nUsing the value $\\ln(2) \\approx 0.69314718$:\n$$t_{\\mathrm{acq}} \\approx 15 \\times 0.69314718 \\times 0.24 \\times 10^{-9}\\,\\mathrm{s}$$\n$$t_{\\mathrm{acq}} \\approx 10.3972077 \\times 0.24 \\times 10^{-9}\\,\\mathrm{s}$$\n$$t_{\\mathrm{acq}} \\approx 2.4953298 \\times 10^{-9}\\,\\mathrm{s}$$\nThe result in nanoseconds is:\n$$t_{\\mathrm{acq}} \\approx 2.4953298\\,\\mathrm{ns}$$\nThe problem requires the answer to be rounded to four significant figures.\n$$t_{\\mathrm{acq}} \\approx 2.495\\,\\mathrm{ns}$$",
            "answer": "$$\\boxed{2.495}$$"
        },
        {
            "introduction": "Beyond speed, the accuracy of a SAR ADC depends critically on the precision of its internal capacitive Digital-to-Analog Converter (CDAC). In modern CMOS processes, random mismatch between supposedly identical unit capacitors is a dominant source of static nonlinearity, directly impacting the converter's Integral Nonlinearity ($INL$).\n\nThis practice  explores the quantitative link between this device-level randomness, described by Pelgrom’s law, and the system-level $INL$ specification. It involves a statistical analysis of how small capacitor errors accumulate to create a deviation from the ideal transfer function. By working through this problem, you will gain insight into a core principle of analog design: sizing devices to meet a statistical performance target with a specified manufacturing yield.",
            "id": "4255018",
            "problem": "A segmented Successive Approximation Register Analog-to-Digital Converter (SAR ADC) uses a capacitive Digital-to-Analog Converter (DAC) implemented with Metal-Insulator-Metal (MIM) capacitors. The overall resolution is $N=10$ bits. The most significant $K=5$ bits are realized with a thermometer-coded array of $M=2^{K}$ identical unit capacitors arranged in common-centroid to suppress systematic gradients; the remaining least significant $N-K$ bits are implemented with binary-weighted capacitors whose contribution to mismatch-limited static nonlinearity is negligible compared to the thermometer-coded segment in this design. Assume independent, zero-mean random mismatch for each unit capacitor and that mismatch obeys Pelgrom’s law: the standard deviation of relative mismatch scales as\n$$\n\\frac{\\sigma_{\\Delta C}}{C_{u}}=\\frac{A_{C}}{\\sqrt{A_{u}}},\n$$\nwhere $C_{u}$ is the nominal unit capacitance, $A_{u}$ is the physical area of the unit capacitor, and $A_{C}$ is the process-dependent Pelgrom coefficient for MIM capacitors. The Integral Nonlinearity (INL) is defined as the maximum magnitude of the static transfer function deviation from an ideal straight line, expressed in units of the least significant bit (LSB) of the full $N$-bit converter.\n\nStarting from first principles (device mismatch statistics and the small-signal linearization of the DAC output ratio), derive a closed-form inequality for the minimum unit area $A_{u}$ that guarantees the mismatch-limited peak INL of the full $N$-bit converter is less than a specified target $\\varepsilon$ LSB with $99.7\\%$ yield (i.e., three standard deviations). Then, evaluate this minimum area for the following design targets and process parameters: $N=10$, $K=5$, $\\varepsilon=0.25$, and $A_{C}=0.01$ micrometers. Express the final area $A_{u}$ in $\\mu\\mathrm{m}^{2}$ and round your answer to four significant figures.",
            "solution": "The problem requires the derivation of a closed-form inequality for the minimum unit capacitor area, $A_u$, in a segmented Successive Approximation Register (SAR) Analog-to-Digital Converter (ADC). This is to ensure that the mismatch-limited peak Integral Nonlinearity (INL) is kept below a specified value $\\varepsilon$ with a $99.7\\%$ yield. The derivation will be followed by a numerical evaluation.\n\nFirst, we establish the model for the capacitive Digital-to-Analog Converter (DAC) and the impact of mismatch. The ADC has a total resolution of $N=10$ bits. The Most Significant Bit (MSB) segment, comprising $K=5$ bits, is a thermometer-coded array of $M=2^{K}$ identical unit capacitors, $C_u$. The contribution of the Least Significant Bit (LSB) segment to mismatch-induced nonlinearity is assumed to be negligible, so our analysis will focus exclusively on the MSB thermometer array.\n\nThe output of an ideal charge-redistribution DAC is a voltage $V_{DAC}$ proportional to the digital input code. The voltage at the top plate of the capacitive array for a given digital code is determined by the ratio of the capacitance switched to a reference voltage, $V_{ref}$, to the total DAC capacitance, $C_{TOT}$. For the thermometer-coded MSB segment, a digital code $m$ (where $m$ ranges from $0$ to $M$) corresponds to selecting $m$ unit capacitors to be connected to $V_{ref}$.\n\nIn an ideal DAC, where all unit capacitors are identical ($C_{u,i} = C_u$), the total capacitance is $C_{TOT, ideal} = M C_u$, and the voltage generated by an MSB code $m$ is $V_{DAC, ideal}(m) = V_{ref} \\frac{m C_u}{M C_u} = V_{ref} \\frac{m}{M}$.\n\nIn reality, each capacitor has a small random deviation from the nominal value: $C_{u,i} = C_u + \\Delta C_i$. The quantities $\\Delta C_i$ are independent, identically distributed random variables with zero mean ($E[\\Delta C_i] = 0$) and variance $Var(\\Delta C_i) = \\sigma_{\\Delta C}^2$.\n\nThe actual total capacitance is $C_{TOT} = \\sum_{i=1}^{M} C_{u,i} = M C_u + \\sum_{i=1}^{M} \\Delta C_i$. The capacitance switched for a code $m$ is $\\sum_{i \\in S_m} C_{u,i} = m C_u + \\sum_{i \\in S_m} \\Delta C_i$, where $S_m$ is the set of $m$ selected capacitors. The actual DAC output voltage is:\n$$V_{DAC}(m) = V_{ref} \\frac{m C_u + \\sum_{i \\in S_m} \\Delta C_i}{M C_u + \\sum_{j=1}^{M} \\Delta C_j}$$\nFor small mismatches ($\\sum \\Delta C_j \\ll M C_u$), we can linearize the expression:\n$$V_{DAC}(m) \\approx V_{ref} \\frac{m C_u + \\sum_{i \\in S_m} \\Delta C_i}{M C_u} \\left(1 - \\frac{\\sum_{j=1}^{M} \\Delta C_j}{M C_u}\\right) \\approx V_{ref} \\left( \\frac{m}{M} + \\frac{\\sum_{i \\in S_m} \\Delta C_i}{M C_u} - \\frac{m \\sum_{j=1}^{M} \\Delta C_j}{M^2 C_u} \\right)$$\nThe voltage error, $\\Delta V(m)$, is the difference between the actual and ideal voltages:\n$$\\Delta V(m) = V_{DAC}(m) - V_{DAC, ideal}(m) = \\frac{V_{ref}}{M C_u} \\left( \\sum_{i \\in S_m} \\Delta C_i - \\frac{m}{M} \\sum_{j=1}^{M} \\Delta C_j \\right)$$\nTo find the variance of this error, we define a random variable $Y_m = \\sum_{i \\in S_m} \\Delta C_i - \\frac{m}{M} \\sum_{j=1}^{M} \\Delta C_j$. This can be rewritten as $Y_m = \\sum_{j=1}^{M} \\alpha_j \\Delta C_j$, where $\\alpha_j = 1 - \\frac{m}{M}$ for the $m$ selected capacitors and $\\alpha_j = -\\frac{m}{M}$ for the $M-m$ unselected capacitors.\nSince the $\\Delta C_j$ are uncorrelated, the variance of $Y_m$ is:\n$$Var(Y_m) = \\sum_{j=1}^{M} \\alpha_j^2 Var(\\Delta C_j) = \\sigma_{\\Delta C}^2 \\left( m\\left(1-\\frac{m}{M}\\right)^2 + (M-m)\\left(-\\frac{m}{M}\\right)^2 \\right)$$\n$$Var(Y_m) = \\sigma_{\\Delta C}^2 \\left( \\frac{m(M-m)^2}{M^2} + \\frac{(M-m)m^2}{M^2} \\right) = \\frac{\\sigma_{\\Delta C}^2}{M^2} [m(M-m)(M-m+m)] = \\sigma_{\\Delta C}^2 \\frac{m(M-m)}{M}$$\nThe variance of the voltage error is $\\sigma_{\\Delta V}^2(m) = \\left(\\frac{V_{ref}}{M C_u}\\right)^2 Var(Y_m) = \\left(\\frac{V_{ref}}{M C_u}\\right)^2 \\sigma_{\\Delta C}^2 \\frac{m(M-m)}{M}$.\nThis variance is maximized at mid-code, $m=\\frac{M}{2}$, which corresponds to the peak INL location for this type of error.\n$$\\sigma_{\\Delta V, peak}^2 = \\left(\\frac{V_{ref}}{M C_u}\\right)^2 \\sigma_{\\Delta C}^2 \\frac{(M/2)(M/2)}{M} = \\left(\\frac{V_{ref}}{M C_u}\\right)^2 \\sigma_{\\Delta C}^2 \\frac{M}{4}$$\nThe standard deviation of the peak voltage error is $\\sigma_{\\Delta V, peak} = \\frac{V_{ref}}{M C_u} \\sigma_{\\Delta C} \\frac{\\sqrt{M}}{2} = \\frac{V_{ref}}{2\\sqrt{M} C_u} \\sigma_{\\Delta C}$.\n\nThe INL is defined in units of the Least Significant Bit (LSB) of the full $N$-bit converter, where $V_{LSB} = \\frac{V_{ref}}{2^N}$. The standard deviation of the peak INL is:\n$$\\sigma_{INL, peak} = \\frac{\\sigma_{\\Delta V, peak}}{V_{LSB}} = \\frac{\\frac{V_{ref}}{2\\sqrt{M} C_u} \\sigma_{\\Delta C}}{\\frac{V_{ref}}{2^N}} = \\frac{2^N}{2\\sqrt{M}} \\frac{\\sigma_{\\Delta C}}{C_u}$$\nGiven $M=2^K$, we have $\\sqrt{M} = 2^{K/2}$.\n$$\\sigma_{INL, peak} = \\frac{2^N}{2 \\cdot 2^{K/2}} \\frac{\\sigma_{\\Delta C}}{C_u} = 2^{N - K/2 - 1} \\frac{\\sigma_{\\Delta C}}{C_u}$$\nThe yield requirement is $99.7\\%$, which corresponds to a $3\\sigma$ design margin. The peak INL must be less than $\\varepsilon$:\n$$3 \\cdot \\sigma_{INL, peak} < \\varepsilon$$\n$$3 \\cdot 2^{N - K/2 - 1} \\frac{\\sigma_{\\Delta C}}{C_u} < \\varepsilon$$\nNow we substitute Pelgrom's law, $\\frac{\\sigma_{\\Delta C}}{C_{u}}=\\frac{A_{C}}{\\sqrt{A_{u}}}$:\n$$3 \\cdot 2^{N - K/2 - 1} \\frac{A_C}{\\sqrt{A_u}} < \\varepsilon$$\nWe can now derive the inequality for the minimum unit area $A_u$ by solving for $\\sqrt{A_u}$:\n$$\\sqrt{A_u} > \\frac{3 \\cdot A_C \\cdot 2^{N - K/2 - 1}}{\\varepsilon}$$\nSquaring both sides gives the final closed-form inequality for the minimum area:\n$$A_u > \\left( \\frac{3 \\cdot A_C \\cdot 2^{N - K/2 - 1}}{\\varepsilon} \\right)^2$$\nNow, we evaluate this expression for the given parameters: $N=10$, $K=5$, $\\varepsilon=0.25$, and $A_C = 0.01\\ \\mu\\mathrm{m}$.\nThe exponent is $N - K/2 - 1 = 10 - \\frac{5}{2} - 1 = 10 - 2.5 - 1 = 6.5$.\nThe minimum required area $A_{u,min}$ is:\n$$A_{u,min} = \\left( \\frac{3 \\cdot (0.01) \\cdot 2^{6.5}}{0.25} \\right)^2$$\nLet's compute the term in the parenthesis:\n$$\\frac{3 \\cdot 0.01 \\cdot 2^6 \\cdot \\sqrt{2}}{0.25} = \\frac{0.03 \\cdot 64 \\cdot \\sqrt{2}}{0.25} = \\frac{1.92 \\cdot \\sqrt{2}}{0.25} = 4 \\cdot 1.92 \\cdot \\sqrt{2} = 7.68 \\sqrt{2}$$\nSquaring this value gives the area:\n$$A_{u,min} = (7.68 \\sqrt{2})^2 = (7.68)^2 \\cdot 2 = 58.9824 \\cdot 2 = 117.9648$$\nThe unit of $A_C$ is $\\mu\\mathrm{m}$, so the unit of $A_u$ is $\\mu\\mathrm{m}^2$.\nRounding the result to four significant figures, we get $118.0$.",
            "answer": "$$\\boxed{118.0}$$"
        },
        {
            "introduction": "While we can analyze individual error sources like settling and mismatch, a comprehensive figure of merit is needed to characterize an ADC's overall dynamic performance. The Signal-to-Noise-and-Distortion Ratio ($SINAD$) provides this, capturing the combined effects of quantization noise, thermal noise, and harmonic distortion in a single measurement.\n\nTo make this metric more intuitive, $SINAD$ is often mapped to an Effective Number of Bits ($N_{\\mathrm{eff}}$), also known as ENOB. This exercise  guides you through the derivation of the famous formula relating $N_{\\mathrm{eff}}$ to $SINAD$, a relationship that equates the performance of a real converter to that of a hypothetical ideal one. Understanding this is fundamental for interpreting datasheet specifications and comparing the real-world performance of different ADCs.",
            "id": "4255064",
            "problem": "An Analog-to-Digital Converter (ADC) based on the Successive Approximation Register (SAR) architecture is characterized using a coherent, full-scale sinusoidal input at a sampling rate where aperture jitter, clock feedthrough, and input amplifier noise are negligible compared to conversion noise and distortion. The measurement instrumentation reports a signal-to-noise-and-distortion ratio (SINAD) of $67.9\\,\\mathrm{dB}$ for the SAR converter. For context, recall that the ideal signal-to-noise ratio (SNR) due to quantization for an $N$-bit uniform midtread quantizer driven by a full-scale sinusoidal input is a well-tested result of the quantization noise model.\n\nStarting from the quantization noise model and the ideal SNR for a full-scale sinusoidal input, derive an expression that maps a measured signal-to-noise-and-distortion ratio, $SINAD$, to an effective number of bits, $N_{\\mathrm{eff}}$, and justify why $SINAD$ is used in place of $SNR$ in this mapping. Then, compute the numerical value of the effective number of bits for the reported $67.9\\,\\mathrm{dB}$ measurement. Round your answer to four significant figures and express the final effective number of bits in bits.",
            "solution": "The problem is validated as scientifically grounded, well-posed, objective, and complete. It represents a standard task in the characterization of Analog-to-Digital Converters (ADCs). We can proceed with the solution.\n\nThe core of the problem is to relate the performance of a real ADC, quantified by its Signal-to-Noise-and-Distortion Ratio ($SINAD$), to the performance of an ideal ADC, quantified by its Signal-to-Noise Ratio ($SNR$) which is solely a function of its resolution in bits, $N$. The resulting figure of merit is the effective number of bits, $N_{\\mathrm{eff}}$.\n\nFirst, we derive the expression for the ideal $SNR$ of an $N$-bit ADC for a full-scale sinusoidal input. An ideal $N$-bit quantizer has a full-scale range, which we denote as $V_{FS}$. The quantization step size, $\\Delta$, is the smallest voltage difference the ADC can resolve, given by:\n$$ \\Delta = \\frac{V_{FS}}{2^N} $$\nThe input signal is a full-scale sinusoid, which means its peak-to-peak amplitude is equal to the full-scale range $V_{FS}$. The signal can be written as $v_{in}(t) = A \\sin(\\omega t)$, where the amplitude $A$ is half the peak-to-peak swing, so $A = \\frac{V_{FS}}{2}$.\n\nThe power of this sinusoidal signal, $P_S$, is its mean-square value:\n$$ P_S = \\frac{A^2}{2} = \\frac{1}{2} \\left( \\frac{V_{FS}}{2} \\right)^2 = \\frac{V_{FS}^2}{8} $$\nFor an ideal ADC, the only source of error is quantization error, $e_q$. The quantization error is the difference between the continuous input signal and the discrete output value. For a sufficiently active input signal relative to the quantization step size, the quantization error can be modeled as a random variable with a uniform probability distribution over the interval $[-\\frac{\\Delta}{2}, \\frac{\\Delta}{2}]$. The power of this quantization noise, $P_N$, is the variance of this distribution:\n$$ P_N = E[e_q^2] = \\int_{-\\Delta/2}^{\\Delta/2} e^2 \\frac{1}{\\Delta} \\, de = \\frac{1}{\\Delta} \\left[ \\frac{e^3}{3} \\right]_{-\\Delta/2}^{\\Delta/2} = \\frac{1}{3\\Delta} \\left( \\frac{\\Delta^3}{8} - \\left(-\\frac{\\Delta^3}{8}\\right) \\right) = \\frac{\\Delta^2}{12} $$\nSubstituting the expression for $\\Delta$:\n$$ P_N = \\frac{1}{12} \\left( \\frac{V_{FS}}{2^N} \\right)^2 = \\frac{V_{FS}^2}{12 \\cdot (2^N)^2} = \\frac{V_{FS}^2}{12 \\cdot 4^N} $$\nThe ideal Signal-to-Noise Ratio ($SNR_{ideal}$) is the ratio of the signal power to the quantization noise power:\n$$ SNR_{ideal} = \\frac{P_S}{P_N} = \\frac{V_{FS}^2 / 8}{V_{FS}^2 / (12 \\cdot 4^N)} = \\frac{12 \\cdot 4^N}{8} = \\frac{3}{2} \\cdot 4^N = 1.5 \\cdot 2^{2N} $$\nIn electronics, performance metrics are commonly expressed in decibels (dB). The ideal $SNR$ in dB is:\n$$ SNR_{ideal, dB} = 10 \\log_{10}(SNR_{ideal}) = 10 \\log_{10}(1.5 \\cdot 2^{2N}) $$\n$$ SNR_{ideal, dB} = 10 \\log_{10}(1.5) + 2N \\cdot 10 \\log_{10}(2) $$\nThis expression is often approximated as $SNR_{ideal, dB} \\approx 1.76 + 6.02N$.\n\nNow we address why $SINAD$ is used. A real-world ADC is not ideal. In addition to quantization noise ($P_N$), its output also contains errors from other sources. The problem states that sources like jitter and amplifier noise are negligible, but it implicitly includes distortion, which arises from the non-linearity of the ADC's transfer function. This non-linearity generates spurious frequency components, primarily harmonics of the input signal. The total power of all unwanted components (noise and distortion) is $P_{N+D}$.\n\nThe Signal-to-Noise-and-Distortion Ratio ($SINAD$) is defined as the ratio of the signal power to the total noise and distortion power:\n$$ SINAD = \\frac{P_S}{P_{N+D}} $$\nThe concept of effective number of bits, $N_{\\mathrm{eff}}$, provides a single figure-of-merit that compares a real, non-ideal ADC to a theoretical, ideal one. $N_{\\mathrm{eff}}$ is defined as the resolution of an ideal ADC that would have the same signal-to-error ratio as the real ADC under test. Since the total error of the real ADC is captured by its $SINAD$, we equate the measured $SINAD$ of the real ADC with the theoretical $SNR_{ideal}$ of a hypothetical ideal ADC with $N = N_{\\mathrm{eff}}$ bits. It is for this reason that $SINAD$ must be used instead of a measured $SNR$ (which would typically exclude distortion components), as $SINAD$ provides a more complete picture of the ADC's dynamic performance.\n\nThe mapping is therefore established by the equivalence:\n$$ SINAD_{dB} = SNR_{ideal, dB}(N_{\\mathrm{eff}}) $$\n$$ SINAD_{dB} = 10 \\log_{10}(1.5) + 2 N_{\\mathrm{eff}} \\cdot 10 \\log_{10}(2) $$\nSolving for $N_{\\mathrm{eff}}$, we arrive at the desired expression:\n$$ N_{\\mathrm{eff}} = \\frac{SINAD_{dB} - 10 \\log_{10}(1.5)}{20 \\log_{10}(2)} $$\nThis is the general expression that maps a measured $SINAD$ (in dB) to an effective number of bits.\n\nFinally, we compute the numerical value for the given $SINAD$ of $67.9\\,\\mathrm{dB}$:\n$$ N_{\\mathrm{eff}} = \\frac{67.9 - 10 \\log_{10}(1.5)}{20 \\log_{10}(2)} $$\nUsing the values for the logarithmic terms:\n$10 \\log_{10}(1.5) \\approx 1.76091$\n$20 \\log_{10}(2) \\approx 6.02060$\n$$ N_{\\mathrm{eff}} \\approx \\frac{67.9 - 1.76091}{6.02060} = \\frac{66.13909}{6.02060} \\approx 10.98545 $$\nThe problem requires the answer to be rounded to four significant figures. The first four significant figures are 1, 0, 9, and 8. The fifth digit is 5, so we round up the fourth significant digit.\n$$ N_{\\mathrm{eff}} \\approx 10.99 $$\nThe effective number of bits for this ADC is $10.99$ bits.",
            "answer": "$$ \\boxed{10.99} $$"
        }
    ]
}