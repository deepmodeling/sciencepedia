{
    "hands_on_practices": [
        {
            "introduction": "在SRAM单元设计中，最核心的挑战之一是在性能、功耗和稳定性之间取得平衡。晶体管的尺寸是决定这些特性的关键参数。本练习将引导你完成一个经典的6T SRAM单元尺寸设计过程，要求你在满足特定读取电流（代表性能）和静态噪声裕度（代表稳定性）约束的同时，计算出访问管、下拉管和上拉管所需的最小宽度。通过这个实践，你将深刻理解不同晶体管在单元中的作用以及它们之间相互制衡的设计关系。",
            "id": "4299984",
            "problem": "考虑一个采用平面互补金属氧化物半导体 (CMOS) 技术实现的六晶体管静态随机存取存储器 (SRAM) 单元。该单元由两个交叉耦合的反相器和两个存取晶体管组成。存取晶体管是n沟道MOSFET (NMOS)，每个反相器内的下拉晶体管是NMOS，而上拉晶体管是p沟道MOSFET (PMOS)。电源电压为 $V_{DD} = 0.9\\,\\text{V}$，NMOS阈值电压为 $V_{TH,n} = 0.25\\,\\text{V}$，PMOS阈值电压的绝对值为 $|V_{TH,p}| = 0.30\\,\\text{V}$。有效迁移率-氧化物电容参数为 $k_{n}' = \\mu_{n} C_{ox} = 300\\,\\mu\\text{A}/\\text{V}^{2}$ 和 $k_{p}' = \\mu_{p} C_{ox} = 120\\,\\mu\\text{A}/\\text{V}^{2}$。所有晶体管的沟道长度均为 $L = 0.05\\,\\mu\\text{m}$。忽略体效应、速度饱和和沟道长度调制效应。使用长沟道平方律模型计算漏极电流：\n- 在饱和区：$I_{D} = \\dfrac{1}{2} k' \\dfrac{W}{L} \\left( V_{GS} - V_{TH} \\right)^{2}$。\n- 在线性区：$I_{D} = k' \\dfrac{W}{L} \\left[ \\left( V_{GS} - V_{TH} \\right) V_{DS} - \\dfrac{1}{2} V_{DS}^{2} \\right]$。\n\n在读取单元一侧存储的逻辑“0”时，两条位线首先被预充电至 $V_{DD}$，字线被置为 $V_{DD}$，连接到存储“0”一侧的位线必须在读出时间 $t_{\\text{sense}} = 0.5\\,\\text{ns}$ 内放电 $\\Delta V_{BL} = 0.1\\,\\text{V}$。相关的位线电容为 $C_{BL} = 100\\,\\text{fF}$。串联电流路径经过存取NMOS和相应的下拉NMOS到地，在读取过程中，存储“0”一側的内部存储节点电压会上升到一个受扰电压 $V_{x}$。\n\n将读取时的静态噪声容限 (SNM) 定义为受扰节点电压与对侧反相器开关阈值之间的最小直流噪声电压。对于本问题，将读取SNM约束为至少 $V_{\\text{SNM}} = 0.18\\,\\text{V}$。令 $V_{M}$ 表示单元反相器的开关阈值，通过令 $V_{in} = V_{out} = V_{M}$ 时 NMOS 和 PMOS 的饱和电流相等来定义：\n$$\n\\dfrac{1}{2} k_{n}' \\dfrac{W_{pd}}{L} \\left( V_{M} - V_{TH,n} \\right)^{2}\n=\n\\dfrac{1}{2} k_{p}' \\dfrac{W_{pu}}{L} \\left( V_{DD} - |V_{TH,p}| - V_{M} \\right)^{2}.\n$$\n为了在保持状态下最大化噪声鲁棒性，采用对称设计目标 $V_{M} = \\dfrac{V_{DD}}{2}$，并强制执行读干扰约束 $V_{x} \\leq V_{M} - V_{\\text{SNM}}$。\n\n在这些条件下：\n- 将读干扰期间的存取NMOS建模为工作在饱和区，其 $V_{GS,a} = V_{DD} - V_{x}$ 且 $V_{DS,a} = V_{DD} - V_{x}$。\n- 将下拉NMOS建模为工作在线性区，其栅极为 $V_{DD}$，漏极为 $V_{x}$，源极为 $0$。\n\n使用这些模型和约束，计算最小栅极宽度 $W_{a}$ (存取NMOS)、$W_{pd}$ (下拉NMOS) 和 $W_{pu}$ (上拉PMOS)，使得：\n1. 达到目标平均读取电流 $I_{\\text{read}}$，足以在 $t_{\\text{sense}}$ 内将位线放电 $\\Delta V_{BL}$，并且\n2. 在该电流下满足 $V_{x} = V_{M} - V_{\\text{SNM}}$，并且\n3. 满足面积约束 $W_{a} + W_{pd} + W_{pu} \\leq 180\\,\\text{nm}$。\n\n将所有最终宽度以纳米表示，并将您的答案四舍五入到四位有效数字。最终答案必须以单行矩阵的形式报告，顺序为 $\\left( W_{a},\\, W_{pd},\\, W_{pu} \\right)$。",
            "solution": "问题陈述已经过验证，并被确定为自洽、有科学依据且定义明确。所有提供的数据、模型和约束都是一致的，并且足以得到唯一解。\n\n目标是求解6T SRAM单元的存取晶体管 ($W_{a}$)、下拉NMOS ($W_{pd}$) 和上拉PMOS ($W_{pu}$) 的最小栅极宽度。这些宽度必须满足三个主要条件：特定的读取电流性能、读取静态噪声容限 (SNM) 约束和总宽度面积约束。\n\n首先，我们根据给定的约束条件确定关键工作电压和所需的读取电流。\n电源电压为 $V_{DD} = 0.9\\,\\text{V}$。\n反相器开关阈值的对称设计目标是 $V_{M} = \\dfrac{V_{DD}}{2}$。\n$$V_{M} = \\frac{0.9\\,\\text{V}}{2} = 0.45\\,\\text{V}$$\n问题在边界上强制执行读干扰约束：$V_{x} = V_{M} - V_{\\text{SNM}}$，其中 $V_x$ 是存储“0”的内部节点上的受扰电压，$V_{\\text{SNM}} = 0.18\\,\\text{V}$ 是所需的读取SNM。\n$$V_{x} = 0.45\\,\\text{V} - 0.18\\,\\text{V} = 0.27\\,\\text{V}$$\n在读出时间 $t_{\\text{sense}} = 0.5\\,\\text{ns}$ 内将位线电容 $C_{BL} = 100\\,\\text{fF}$ 放电 $\\Delta V_{BL} = 0.1\\,\\text{V}$ 所需的目标平均读取电流 $I_{\\text{read}}$ 计算如下：\n$$I_{\\text{read}} = C_{BL} \\frac{\\Delta V_{BL}}{t_{\\text{sense}}} = (100 \\times 10^{-15}\\,\\text{F}) \\frac{0.1\\,\\text{V}}{0.5 \\times 10^{-9}\\,\\text{s}} = 20 \\times 10^{-6}\\,\\text{A} = 20\\,\\mu\\text{A}$$\n\n接下来，我们确定实现对称开关阈值 $V_{M} = V_{DD}/2$ 所需的反相器晶体管尺寸比。我们使用提供的方程，在 $V_{in} = V_{out} = V_{M}$ 时，令下拉NMOS（宽度 $W_{pd}$）和上拉PMOS（宽度 $W_{pu}$）的饱和电流相等。\n$$\n\\frac{1}{2} k_{n}' \\frac{W_{pd}}{L} \\left( V_{M} - V_{TH,n} \\right)^{2}\n=\n\\frac{1}{2} k_{p}' \\frac{W_{pu}}{L} \\left( V_{DD} - V_{M} - |V_{TH,p}| \\right)^{2}\n$$\n宽度之比 $\\beta_{R} = W_{pu}/W_{pd}$ 为：\n$$ \\beta_{R} = \\frac{W_{pu}}{W_{pd}} = \\frac{k_{n}'}{k_{p}'} \\left( \\frac{V_{M} - V_{TH,n}}{V_{DD} - V_{M} - |V_{TH,p}|} \\right)^{2} $$\n代入给定值 ($V_{M} = 0.45\\,\\text{V}$, $V_{DD}=0.9\\,\\text{V}$, $V_{TH,n} = 0.25\\,\\text{V}$, $|V_{TH,p}| = 0.30\\,\\text{V}$, $k_{n}' = 300\\,\\mu\\text{A}/\\text{V}^{2}$, $k_{p}' = 120\\,\\mu\\text{A}/\\text{V}^{2}$):\n$$ \\beta_{R} = \\frac{300}{120} \\left( \\frac{0.45 - 0.25}{0.9 - 0.45 - 0.30} \\right)^{2} = 2.5 \\left( \\frac{0.20}{0.15} \\right)^{2} = 2.5 \\left( \\frac{4}{3} \\right)^{2} = 2.5 \\left( \\frac{16}{9} \\right) = \\frac{40}{9} $$\n\n现在，我们分析读干扰条件以找出 $W_{pd}$ 和 $W_{a}$ 之间的关系。在读取操作期间，电流 $I_{\\text{read}}$ 流经存取晶体管 (MN$_a$) 和下拉晶体管 (MN$_{pd}$)。在稳定的受扰节点电压 $V_x$ 下，它们的电流相等：$I_{D,a} = I_{D,pd}$。\n根据问题描述，MN$_{a}$ 处于饱和区，其 $V_{GS,a} = V_{DD} - V_{x}$。其电流为：\n$$ I_{D,a} = \\frac{1}{2} k_{n}' \\frac{W_{a}}{L} (V_{GS,a} - V_{TH,n})^2 = \\frac{1}{2} k_{n}' \\frac{W_{a}}{L} (V_{DD} - V_{x} - V_{TH,n})^2 $$\nMN$_{pd}$ 处于线性区，其 $V_{GS,pd} = V_{DD}$（其栅极连接到单元的另一侧，该侧存储“1”），且 $V_{DS,pd} = V_{x}$。其电流为：\n$$ I_{D,pd} = k_{n}' \\frac{W_{pd}}{L} \\left[ (V_{GS,pd} - V_{TH,n})V_{DS,pd} - \\frac{1}{2}V_{DS,pd}^2 \\right] = k_{n}' \\frac{W_{pd}}{L} \\left[ (V_{DD} - V_{TH,n})V_{x} - \\frac{1}{2}V_{x}^2 \\right] $$\n令 $I_{D,a}$ 和 $I_{D,pd}$ 相等，得到单元比 $CR_{\\text{eff}} = W_{pd}/W_{a}$：\n$$ CR_{\\text{eff}} = \\frac{W_{pd}}{W_{a}} = \\frac{\\frac{1}{2} (V_{DD} - V_{x} - V_{TH,n})^2}{(V_{DD} - V_{TH,n})V_{x} - \\frac{1}{2}V_{x}^2} $$\n代入数值 ($V_{DD} = 0.9\\,\\text{V}$, $V_x = 0.27\\,\\text{V}$, $V_{TH,n} = 0.25\\,\\text{V}$):\n$$ CR_{\\text{eff}} = \\frac{\\frac{1}{2} (0.9 - 0.27 - 0.25)^2}{(0.9 - 0.25)(0.27) - \\frac{1}{2}(0.27)^2} = \\frac{\\frac{1}{2}(0.38)^2}{(0.65)(0.27) - \\frac{1}{2}(0.0729)} = \\frac{0.0722}{0.1755 - 0.03645} = \\frac{0.0722}{0.13905} \\approx 0.519237 $$\n\n在确定了宽度之间的关系后，我们可以使用读取电流要求 $I_{\\text{read}} = I_{D,pd} = 20\\,\\mu\\text{A}$ 来计算它们的绝对值。\n$$ I_{\\text{read}} = k_{n}' \\frac{W_{pd}}{L} \\left[ (V_{DD} - V_{TH,n})V_{x} - \\frac{1}{2}V_{x}^2 \\right] $$\n$$ 20 \\times 10^{-6}\\,\\text{A} = (300 \\times 10^{-6}\\,\\text{A}/\\text{V}^2) \\frac{W_{pd}}{0.05 \\times 10^{-6}\\,\\text{m}} \\left[ 0.13905\\,\\text{V}^2 \\right] $$\n求解 $W_{pd}$：\n$$ W_{pd} = \\frac{(20 \\times 10^{-6})(0.05 \\times 10^{-6})}{(300 \\times 10^{-6})(0.13905)} \\,\\text{m} = \\frac{1 \\times 10^{-12}}{41.715 \\times 10^{-6}} \\,\\text{m} \\approx 2.3972 \\times 10^{-8}\\,\\text{m} = 23.972\\,\\text{nm} $$\n四舍五入到四位有效数字，$W_{pd} = 23.97\\,\\text{nm}$。\n\n现在我们可以使用计算出的比率来求解 $W_{pu}$ 和 $W_{a}$：\n$$ W_{pu} = \\beta_{R} \\cdot W_{pd} = \\left(\\frac{40}{9}\\right) \\cdot (23.972\\,\\text{nm}) \\approx 106.543\\,\\text{nm} $$\n四舍五入到四位有效数字，$W_{pu} = 106.5\\,\\text{nm}$。\n$$ W_{a} = \\frac{W_{pd}}{CR_{\\text{eff}}} = \\frac{23.972\\,\\text{nm}}{0.519237} \\approx 46.168\\,\\text{nm} $$\n四舍五入到四位有效数字，$W_{a} = 46.17\\,\\text{nm}$。\n\n最后，我们验证面积约束：$W_{a} + W_{pd} + W_{pu} \\leq 180\\,\\text{nm}$。\n$$ 46.17\\,\\text{nm} + 23.97\\,\\text{nm} + 106.5\\,\\text{nm} = 176.64\\,\\text{nm} $$\n由于 $176.64\\,\\text{nm} \\leq 180\\,\\text{nm}$，面积约束得到满足。\n\n计算出的宽度是满足指定电气性能约束所需的最小尺寸。最终值，以纳米表示并四舍五入到四位有效数字，对于 $(W_{a}, W_{pd}, W_{pu})$ 是 $(46.17, 23.97, 106.5)$。",
            "answer": "$$ \\boxed{ \\begin{pmatrix} 46.17  23.97  106.5 \\end{pmatrix} } $$"
        },
        {
            "introduction": "仅仅满足设计规格是不够的，现代集成电路设计更追求在多个维度上达到最优。本练习将SRAM设计从“满足约束”提升到“寻求最优”的层面。你将面对一个优化问题，目标是最小化读取操作的能量-延迟积（$EDP$），这是一个衡量计算能效的关键指标。通过调整晶体管尺寸比和位线摆幅，你需要在满足静态噪声裕度和信号感测要求的前提下，找到实现最高能效的设计点。",
            "id": "4299974",
            "problem": "考虑一个单端六晶体管静态随机存取存储器 (SRAM) 位单元，它在现代互补金属氧化物半导体技术中连接到一条长位线。电源电压为 $V_{DD} = 0.8$ V。位线电容为 $C_{BL} = 150$ fF。在读取操作中，访问晶体管和下拉晶体管被建模为其宽度成正比的线性电导，单位宽度电导为 $g_{u} = 2$ mS 每微米有效宽度。设访问晶体管和下拉晶体管的宽度分别为 $W_{ax}$ 和 $W_{pd}$，并假设固定的总可用晶体管宽度预算为 $W_{ax} + W_{pd} = W_{\\mathrm{tot}} = 0.4$ 微米。定义尺寸比 $\\beta = \\frac{g_{pd}}{g_{ax}} = \\frac{W_{pd}}{W_{ax}}$，其中 $g_{ax} = g_{u} W_{ax}$ 和 $g_{pd} = g_{u} W_{pd}$。\n\n假设在读取存储的逻辑零期间，通过访问晶体管连接到位线的内部存储节点由于访问晶体管和下拉晶体管形成的分压器而上升。将此内部节点上的读取干扰电压近似为 $V_{\\mathrm{int}} = \\frac{V_{DD}}{1 + \\beta}$。设交叉耦合反相器中的反相器翻转点近似为 $V_{\\mathrm{trip}} = \\eta V_{DD}$，其中 $\\eta = 0.48$。定义读取期间的静态噪声容限 (SNM) 为 $V_{SNM} = V_{\\mathrm{trip}} - V_{\\mathrm{int}}$。\n\n一个由电子设计自动化 (EDA) 驱动的读出放大器需要最小的位线差分摆幅来可靠地解析存储的数据并容忍失调和噪声。对位线摆幅 $\\Delta V_{BL}$ 施加一个界限，使得 $\\Delta V_{BL,\\min} \\leq \\Delta V_{BL} \\leq \\Delta V_{BL,\\max}$，其中 $\\Delta V_{BL,\\min} = 0.08$ V 且 $\\Delta V_{BL,\\max} = 0.15$ V。读取SNM必须满足 $V_{SNM} \\geq V_{SNM,\\min}$，其中 $V_{SNM,\\min} = 0.15$ V。\n\n使用第一性原理和经过充分测试的读取路径紧凑建模假设，建立并求解一个优化问题，该问题在满足SNM和位线摆幅界限以及固定宽度预算的约束下，最小化读取操作的能量-延迟积。将读取期间的位线放电电流建模为由访问-下拉路径限制的串联传导，并使用位线电容器上的电荷守恒将延迟与电流关联起来。你的决策变量是尺寸比 $\\beta$ 和位线摆幅 $\\Delta V_{BL}$。确定在给定约束下最小化能量-延迟积的最优 $\\Delta V_{BL}^{\\star}$ 和 $\\beta^{\\star}$。\n\n将你的答案四舍五入到四位有效数字。位线摆幅以伏特为单位表示。最终答案必须是一个包含 $\\Delta V_{BL}^{\\star}$ 和 $\\beta^{\\star}$ 的双元素行向量，按此顺序排列。",
            "solution": "问题要求找到最优的晶体管尺寸比 $\\beta$ 和位线摆幅 $\\Delta V_{BL}$，以最小化静态随机存取存储器 (SRAM) 单元读取操作的能量-延迟积 (EDP)，同时满足静态噪声容限 (SNM) 和位线摆幅的约束条件。\n\n优化问题可以表述为：\n最小化 $P_{ED}(\\beta, \\Delta V_{BL}) = E(\\Delta V_{BL}) \\times T(\\beta, \\Delta V_{BL})$\n约束条件：\n$1$. $V_{SNM}(\\beta) \\geq V_{SNM,\\min}$\n$2$. $\\Delta V_{BL,\\min} \\leq \\Delta V_{BL} \\leq \\Delta V_{BL,\\max}$\n\n首先，我们必须建立能量 $E$ 和延迟 $T$ 的表达式。\n\n**1. 读取延迟 ($T$) 的建立**\n\n问题描述了对存储的逻辑零的读取操作。位线 (BL) 预充电至 $V_{DD}$，然后通过访问晶体管 (NMOS) 和下拉晶体管 (NMOS) 的串联组合进行放电。问题要求将这些晶体管建模为线性电导，分别为 $g_{ax}$ 和 $g_{pd}$。此串联路径的有效电导为：\n$$g_{eff} = \\frac{g_{ax} g_{pd}}{g_{ax} + g_{pd}}$$\n各个电导由 $g_{ax} = g_u W_{ax}$ 和 $g_{pd} = g_u W_{pd}$ 给出，其中 $g_u = 2 \\times 10^{-3} \\, \\mathrm{S/\\mu m}$ 是单位电导。尺寸比定义为 $\\beta = \\frac{W_{pd}}{W_{ax}} = \\frac{g_{pd}}{g_{ax}}$。总宽度受限于 $W_{ax} + W_{pd} = W_{\\mathrm{tot}} = 0.4 \\, \\mu\\mathrm{m}$。\n我们可以用 $\\beta$ 来表示 $g_{ax}$ 和 $g_{pd}$：\n$g_{ax} + g_{pd} = g_u (W_{ax} + W_{pd}) = g_u W_{\\mathrm{tot}}$\n$g_{ax}(1 + \\beta) = g_u W_{\\mathrm{tot}} \\implies g_{ax} = \\frac{g_u W_{\\mathrm{tot}}}{1+\\beta}$\n$g_{pd} = \\beta g_{ax} = \\frac{\\beta g_u W_{\\mathrm{tot}}}{1+\\beta}$\n将这些代入 $g_{eff}$ 的表达式中：\n$$g_{eff} = \\frac{g_{ax} (\\beta g_{ax})}{g_{ax} + \\beta g_{ax}} = \\frac{\\beta g_{ax}^2}{g_{ax}(1+\\beta)} = \\frac{\\beta g_{ax}}{1+\\beta} = \\frac{\\beta}{1+\\beta} \\left(\\frac{g_u W_{\\mathrm{tot}}}{1+\\beta}\\right) = \\frac{\\beta g_u W_{\\mathrm{tot}}}{(1+\\beta)^2}$$\n位线放电由RC电路的微分方程建模：\n$$C_{BL} \\frac{dV_{BL}(t)}{dt} = -I_{discharge}(t)$$\n放电电流为 $I_{discharge}(t) = g_{eff} V_{BL}(t)$。\n$$C_{BL} \\frac{dV_{BL}}{dt} = -g_{eff} V_{BL}$$\n分离变量并从 $t=0$ 到 $t=T$ 进行积分，其中电压从 $V_{BL}(0) = V_{DD}$ 下降到 $V_{BL}(T) = V_{DD} - \\Delta V_{BL}$：\n$$\\int_{V_{DD}}^{V_{DD}-\\Delta V_{BL}} \\frac{dV_{BL}}{V_{BL}} = -\\int_0^T \\frac{g_{eff}}{C_{BL}} dt$$\n$$\\ln\\left( \\frac{V_{DD}-\\Delta V_{BL}}{V_{DD}} \\right) = -\\frac{g_{eff}}{C_{BL}} T$$\n求解延迟 $T$：\n$$T = \\frac{C_{BL}}{g_{eff}} \\ln\\left( \\frac{V_{DD}}{V_{DD}-\\Delta V_{BL}} \\right)$$\n代入 $g_{eff}$ 的表达式：\n$$T(\\beta, \\Delta V_{BL}) = \\frac{C_{BL} (1+\\beta)^2}{\\beta g_u W_{\\mathrm{tot}}} \\ln\\left( \\frac{V_{DD}}{V_{DD}-\\Delta V_{BL}} \\right)$$\n\n**2. 读取能量 ($E$) 的建立**\n\n对于一个小摆幅读取操作，其后跟随着预充电，每次操作消耗的能量主要由从电源 $V_{DD}$ 汲取以恢复位线电容器 $C_{BL}$ 上电荷的能量决定。移除的电荷为 $Q = C_{BL} \\Delta V_{BL}$。为补充此电荷而提供的能量为 $E = Q \\cdot V_{DD}$。\n$$E(\\Delta V_{BL}) = V_{DD} C_{BL} \\Delta V_{BL}$$\n在此背景下，这是一个标准且合适的能耗模型。\n\n**3. 能量-延迟积 (EDP) 的建立**\n\n能量-延迟积是 $E$ 和 $T$ 的乘积：\n$$P_{ED}(\\beta, \\Delta V_{BL}) = \\left( V_{DD} C_{BL} \\Delta V_{BL} \\right) \\left( \\frac{C_{BL} (1+\\beta)^2}{\\beta g_u W_{\\mathrm{tot}}} \\ln\\left( \\frac{V_{DD}}{V_{DD}-\\Delta V_{BL}} \\right) \\right)$$\n$$P_{ED}(\\beta, \\Delta V_{BL}) = \\frac{V_{DD} C_{BL}^2}{g_u W_{\\mathrm{tot}}} \\left( \\frac{(1+\\beta)^2}{\\beta} \\right) \\left( \\Delta V_{BL} \\ln\\left( \\frac{V_{DD}}{V_{DD}-\\Delta V_{BL}} \\right) \\right)$$\n为了最小化 $P_{ED}$，我们可以最小化表达式中与变量相关的部分。设 $K = \\frac{V_{DD} C_{BL}^2}{g_u W_{\\mathrm{tot}}}$ 为一个常数。我们需要最小化函数 $f(\\beta, \\Delta V_{BL}) = f_1(\\beta) \\cdot f_2(\\Delta V_{BL})$，其中：\n$$f_1(\\beta) = \\frac{(1+\\beta)^2}{\\beta} = \\beta + 2 + \\frac{1}{\\beta}$$\n$$f_2(\\Delta V_{BL}) = \\Delta V_{BL} \\ln\\left( \\frac{V_{DD}}{V_{DD}-\\Delta V_{BL}} \\right) = - \\Delta V_{BL} \\ln\\left( 1 - \\frac{\\Delta V_{BL}}{V_{DD}} \\right)$$\n由于在可行域中 $f_1(\\beta)  0$ 且 $f_2(\\Delta V_{BL})  0$，最小化乘积等价于在各自的约束域上独立地最小化每个函数。\n\n**4. 约束分析**\n\n第一个约束是关于静态噪声容限，$V_{SNM} \\geq V_{SNM,\\min}$。\n$V_{SNM} = V_{\\mathrm{trip}} - V_{\\mathrm{int}} = \\eta V_{DD} - \\frac{V_{DD}}{1+\\beta}$。\n约束变为：\n$$\\eta V_{DD} - \\frac{V_{DD}}{1+\\beta} \\geq V_{SNM,\\min}$$\n代入给定值，$V_{DD} = 0.8 \\, \\mathrm{V}$，$\\eta = 0.48$，和 $V_{SNM,\\min} = 0.15 \\, \\mathrm{V}$：\n$$0.48 \\times 0.8 - \\frac{0.8}{1+\\beta} \\geq 0.15$$\n$$0.384 - \\frac{0.8}{1+\\beta} \\geq 0.15$$\n$$0.234 \\geq \\frac{0.8}{1+\\beta}$$\n因为 $1+\\beta  0$，我们可以相乘：\n$$1+\\beta \\geq \\frac{0.8}{0.234}$$\n$$\\beta \\geq \\frac{0.8}{0.234} - 1 \\approx 3.418803 - 1 = 2.418803$$\n设 $\\beta_{\\min} = \\frac{0.8}{0.234} - 1$。$\\beta$ 的可行域为 $[\\beta_{\\min}, \\infty)$。\n\n第二个约束是关于位线摆幅，$\\Delta V_{BL,\\min} \\leq \\Delta V_{BL} \\leq \\Delta V_{BL,\\max}$。\n根据给定值，$0.08 \\, \\mathrm{V} \\leq \\Delta V_{BL} \\leq 0.15 \\, \\mathrm{V}$。\n\n**5. 优化**\n\n首先，我们对 $\\beta$ 进行优化。我们分析函数 $f_1(\\beta) = \\beta + 2 + \\frac{1}{\\beta}$。\n它的导数为 $\\frac{df_1}{d\\beta} = 1 - \\frac{1}{\\beta^2}$。\n导数在 $\\beta=1$ 时为零。对于 $\\beta  1$，导数为正，这意味着 $f_1(\\beta)$ 是严格递增的。\n$\\beta$ 的可行域为 $[\\beta_{\\min}, \\infty)$，其中 $\\beta_{\\min} \\approx 2.4188$。由于该区域完全位于 $\\beta  1$ 的范围内，函数 $f_1(\\beta)$ 在 $\\beta$ 的最小值处取得最小值。\n因此，最优的 $\\beta$ 是 $\\beta^{\\star} = \\beta_{\\min}$。\n$$\\beta^{\\star} = \\frac{0.8}{0.234} - 1 \\approx 2.4188034$$\n\n接下来，我们对 $\\Delta V_{BL}$ 进行优化。我们分析函数 $f_2(\\Delta V_{BL})$。\n设 $x = \\Delta V_{BL}$。函数为 $f_2(x) = x \\ln\\left( \\frac{V_{DD}}{V_{DD}-x} \\right)$。\n它关于 $x$ 的导数为：\n$$\\frac{df_2}{dx} = \\ln\\left( \\frac{V_{DD}}{V_{DD}-x} \\right) + x \\left( \\frac{V_{DD}-x}{V_{DD}} \\right) \\left( \\frac{V_{DD}}{(V_{DD}-x)^2} \\right) = \\ln\\left( \\frac{V_{DD}}{V_{DD}-x} \\right) + \\frac{x}{V_{DD}-x}$$\n设 $y = \\frac{x}{V_{DD}}$。导数可以写成 $g(y) = -\\ln(1-y) + \\frac{y}{1-y}$。\n对于 $y \\in (0,1)$，我们可以使用泰勒级数展开 $\\ln(1-y) = -y - \\frac{y^2}{2} - \\dots$。\n$g(y) = (y + \\frac{y^2}{2} + \\dots) + y(1+y+y^2+\\dots) = (y+y+y^2+\\dots) + (\\frac{y^2}{2} + \\dots)  0$。\n更正式地，我们来分析 $g(y)$ 的导数：\n$g'(y) = \\frac{1}{1-y} + \\frac{1(1-y)-y(-1)}{(1-y)^2} = \\frac{1}{1-y} + \\frac{1}{(1-y)^2}$。\n对于 $y1$，$1-y0$，所以 $g'(y)0$。这意味着 $g(y)$ 是严格递增的。因为 $g(0) = 0$，所以对于任何 $y0$，$g(y)0$。\n$\\Delta V_{BL}$ 的范围是 $[0.08, 0.15]$，且 $V_{DD}=0.8$。所以 $y = \\Delta V_{BL}/V_{DD}$ 的范围是 $[0.1, 0.1875]$。在这个范围内，$y0$，所以 $\\frac{df_2}{d(\\Delta V_{BL})}  0$。\n这表明 $f_2(\\Delta V_{BL})$ 在其整个可行域上是 $\\Delta V_{BL}$ 的严格递增函数。为了最小化 $f_2$，我们必须选择 $\\Delta V_{BL}$ 的最小值。\n因此，最优的 $\\Delta V_{BL}$ 是 $\\Delta V_{BL}^{\\star} = \\Delta V_{BL,\\min}$。\n$$\\Delta V_{BL}^{\\star} = 0.08 \\, \\mathrm{V}$$\n\n**6. 最终计算**\n\n我们需要提供四舍五入到四位有效数字的最优值。\n$\\Delta V_{BL}^{\\star} = 0.08 \\, \\mathrm{V}$。保留四位有效数字，即为 $0.08000 \\, \\mathrm{V}$。\n$\\beta^{\\star} = \\frac{0.8}{0.234} - 1 \\approx 2.4188034188$。\n四舍五入到四位有效数字，$\\beta^{\\star} = 2.419$。\n\n在给定约束条件下最小化能量-延迟积的最优参数是 $\\Delta V_{BL}^{\\star} = 0.08000 \\, \\mathrm{V}$ 和 $\\beta^{\\star} = 2.419$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.08000  2.419\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "在纳米级工艺下，制造偏差是无法避免的，这会导致晶体管的性能在不同芯片甚至同一芯片的不同位置上存在差异。一个在“典型”参数下工作完美的设计，在工艺参数发生极端偏移时（即所谓的“工艺角”）可能会失效。本练习要求你通过编程分析，评估SRAM单元在不同工艺角（如快-N慢-P）下的读写裕度，并找出最差情况（Worst-Case Corner）。这是确保电路在实际生产中具有高良率和可靠性的关键步骤。",
            "id": "4299993",
            "problem": "您的任务是设计并实现一个程序，该程序针对一个六晶体管静态随机存取存储器 (SRAM) 单元，分析工艺角如何改变有效器件强度比，并识别出对于读取稳定性和写入能力而言的最差情况工艺角。目标是根据一个基于金属氧化物半导体场效应晶体管 (MOSFET) 平方律行为的简化但有原则的模型，为每个提供的测试用例计算出哪个工艺角产生最小的读取裕度和最小的写入裕度。该问题设定在集成电路和电子设计自动化 (EDA) 的背景下。\n\n需使用的基本基础和模型假设：\n- 使用一阶MOSFET平方律电流模型来描述饱和区，即饱和电流大小与跨导参数 $\\beta$ 成比例，其中 $\\beta \\propto \\mu C_{\\mathrm{ox}} W/L$；这里 $\\mu$ 是载流子迁移率，$C_{\\mathrm{ox}}$ 是单位面积的氧化层电容，$W/L$ 是晶体管的几何尺寸比。由于不需要绝对电流值，您可以将 $C_{\\mathrm{ox}}$ 视为常数并将其吸收到 $\\beta$ 的缩放中。\n- 设器件的有效导通“强度”近似为 $S = \\beta \\cdot \\max(V_{\\mathrm{eff}},0)^2$，其中 $V_{\\mathrm{eff}}$ 是饱和区的栅极过驱动电压。为简化起见，在电源电压 $V_{\\mathrm{DD}}$ 下，对于n沟道器件，近似其过驱动电压为 $V_{\\mathrm{eff},n} = V_{\\mathrm{DD}} - V_{tn}$，对于p沟道器件，近似为 $V_{\\mathrm{eff},p} = V_{\\mathrm{DD}} - |V_{tp}|$。\n- SRAM反相器对的翻转点 $V_M$ 应通过平衡交叉耦合反相器的饱和n沟道和p沟道电流，在平方律平衡条件下计算。设 $a = \\sqrt{\\beta_n}$ 和 $b = \\sqrt{\\beta_p}$，开关阈值应取为\n$$\nV_M = \\frac{b\\,(V_{\\mathrm{DD}} - |V_{tp}|) + a\\, V_{tn}}{a + b}.\n$$\n- 将在读取存储逻辑零的节点上的读取干扰定义为从 $V_{\\mathrm{DD}}$ 上拉的访问晶体管与下拉到地的下拉晶体管之间的静态分压器。使用强度抽象，将被干扰节点的电压近似为\n$$\nV_{\\mathrm{read\\_rise}} = V_{\\mathrm{DD}} \\cdot \\frac{S_{\\mathrm{ax}}}{S_{\\mathrm{ax}} + S_{\\mathrm{pd}}},\n$$\n其中 $S_{\\mathrm{ax}}$ 是访问晶体管的强度，$S_{\\mathrm{pd}}$ 是下拉晶体管的强度。将读取裕度代理（以伏特为单位）定义为\n$$\nM_{\\mathrm{read}} = V_M - V_{\\mathrm{read\\_rise}}.\n$$\n- 通过上拉p沟道器件（从 $V_{\\mathrm{DD}}$ 上拉）与访问晶体管（下拉到地）之间的竞争来定义写入逻辑零的写入能力。使用相同的强度抽象，将准静态稳定点近似为\n$$\nV_{\\mathrm{write\\_settle}} = V_{\\mathrm{DD}} \\cdot \\frac{S_{\\mathrm{pu}}}{S_{\\mathrm{pu}} + S_{\\mathrm{ax}}},\n$$\n其中 $S_{\\mathrm{pu}}$ 是上拉强度。将写入裕度代理（以伏特为单位）定义为\n$$\nM_{\\mathrm{write}} = V_M - V_{\\mathrm{write\\_settle}}.\n$$\n- 对于用于计算 $V_M$ 的交叉耦合反相器强度，使用存储单元n沟道器件的下拉 $\\beta_n$ 和存储单元p沟道器件的上拉 $\\beta_p$。对于访问晶体管的强度，使用其n沟道的 $\\beta_n$。\n\n工艺角和参数变化模型：\n- 考虑五个工艺角，n沟道和p沟道器件的迁移率和阈值电压有独立的变化：\n    - 典型–典型 (TT): $s_N = 1$, $s_P = 1$, $\\Delta V_{tn} = 0$, $\\Delta |V_{tp}| = 0$。\n    - 快–快 (FF): $s_N = 1 + \\alpha$, $s_P = 1 + \\alpha$, $\\Delta V_{tn} = -\\Delta V_t$, $\\Delta |V_{tp}| = -\\Delta V_t$。\n    - 慢–慢 (SS): $s_N = 1 - \\alpha$, $s_P = 1 - \\alpha$, $\\Delta V_{tn} = +\\Delta V_t$, $\\Delta |V_{tp}| = +\\Delta V_t$。\n    - 快N–慢P (FS): $s_N = 1 + \\alpha$, $s_P = 1 - \\alpha$, $\\Delta V_{tn} = -\\Delta V_t$, $\\Delta |V_{tp}| = +\\Delta V_t$。\n    - 慢N–快P (SF): $s_N = 1 - \\alpha$, $s_P = 1 + \\alpha$, $\\Delta V_{tn} = +\\Delta V_t$, $\\Delta |V_{tp}| = -\\Delta V_t$。\n- 这里，$s_N$ 和 $s_P$ 分别通过迁移率变化来缩放有效跨导参数 $\\beta_n$ 和 $\\beta_p$，阈值变化是加在基准值上的。对所有测试用例，使用固定的、全局应用的数值 $\\alpha = 0.25$ 和 $\\Delta V_t = 0.03$ 伏特。\n\n器件强度构成：\n- 每个器件的有效跨导参数由下式给出\n$$\n\\beta_n = s_N \\cdot \\rho \\cdot \\frac{W}{L}, \\quad \\beta_p = s_P \\cdot \\frac{W}{L},\n$$\n其中 $\\rho$ 是每个测试用例中提供的基准迁移率比 $\\mu_n/\\mu_p$，$W/L$ 是每个测试用例中为各器件提供的几何尺寸比。\n\n需实现的算法任务：\n- 对于每个测试用例，以及五个工艺角中的每一个，计算\n    - 有效阈值：$V_{tn,\\mathrm{eff}} = V_{tn,0} + \\Delta V_{tn}$， $|V_{tp,\\mathrm{eff}}| = |V_{tp,0}| + \\Delta |V_{tp}|$，基准值在每个测试用例中给出。\n    - 使用下拉n沟道和上拉p沟道器件的 $\\beta$ 值以及有效阈值计算反相器翻转点 $V_M$。\n    - 使用强度模型 $S = \\beta \\cdot \\max(V_{\\mathrm{eff}},0)^2$ 和相应的有效阈值计算强度 $S_{\\mathrm{pd}}$、$S_{\\mathrm{ax}}$ 和 $S_{\\mathrm{pu}}$。\n    - 读取裕度代理 $M_{\\mathrm{read}}$ 和写入裕度代理 $M_{\\mathrm{write}}$（单位为伏特）。\n- 对每个测试用例，识别出使 $M_{\\mathrm{read}}$ 最小化的工艺角（最差读取稳定性）和使 $M_{\\mathrm{write}}$ 最小化的工艺角（最差写入能力）。如果出现完全相等的情况，选择最小的工艺角索引。\n\n输出中必须使用的工艺角索引映射：\n- TT $\\to 0$, FF $\\to 1$, SS $\\to 2$, FS $\\to 3$, SF $\\to 4$.\n\n单位：\n- 所有电压必须以伏特为单位处理。几何尺寸比 $W/L$ 和迁移率比 $\\rho$ 是无量纲的。\n\n测试套件：\n每个测试用例是一个包含参数 $((W/L)_{\\mathrm{pd}}$, $(W/L)_{\\mathrm{pu}}$, $(W/L)_{\\mathrm{ax}}$, $\\rho$, $V_{\\mathrm{DD}}$, $V_{tn,0}$, $|V_{tp,0}|)$ 的元组，其中除电压单位为伏特外，其余均为无量纲。请严格使用以下四个测试用例：\n1. $\\left( 2.0, 1.0, 1.0, 2.5, 1.0, 0.35, 0.35 \\right)$。\n2. $\\left( 1.0, 1.0, 2.0, 2.0, 0.8, 0.35, 0.35 \\right)$。\n3. $\\left( 3.0, 0.8, 1.0, 2.5, 1.0, 0.32, 0.34 \\right)$。\n4. $\\left( 2.0, 1.2, 1.2, 2.5, 0.6, 0.38, 0.42 \\right)$。\n\n输出规格：\n- 您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表，列表中的每个元素是一个双整数列表 $[i_{\\mathrm{read}}, i_{\\mathrm{write}}]$，分别对应于每个测试用例的读取和写入最差情况工艺角索引。例如，一个有效的输出格式是\n\"[ [0,4],[3,4],[2,2],[4,3] ]\"\n但需使用为所提供的测试套件实际计算出的索引。\n\n科学真实性和约束：\n- 模型必须严格按照描述实现，不得依赖任何未提及的经验性捷径。不需要用户输入；对所有测试用例使用提供的常量 $\\alpha = 0.25$ 和 $\\Delta V_t = 0.03$ 伏特，并按规定确定性地执行计算。",
            "solution": "该问题要求分析六晶体管 (6T) 静态随机存取存储器 (SRAM) 单元在不同制造工艺角下的读取稳定性和写入能力。该分析将使用一个基于金属氧化物半导体场效应晶体管 (MOSFET) 平方律行为的简化一阶模型进行。对于每个提供的测试用例，我们必须识别出导致最小读取裕度和最小写入裕度的工艺角。\n\n该方法涉及对每个测试用例在五个已定义的工艺角（典型-典型 (TT)、快-快 (FF)、慢-慢 (SS)、快N-慢P (FS) 和 慢N-快P (SF)）下进行系统性计算。工艺角索引映射如下：TT $\\to 0$, FF $\\to 1$, SS $\\to 2$, FS $\\to 3$, SF $\\to 4$。\n\n对于一个由参数 $((W/L)_{\\mathrm{pd}}, (W/L)_{\\mathrm{pu}}, (W/L)_{\\mathrm{ax}}, \\rho, V_{\\mathrm{DD}}, V_{tn,0}, |V_{tp,0}|)$ 指定的给定测试用例，并针对每个工艺角，执行以下计算序列。\n\n首先，应用工艺角变化。每个工艺角由一组缩放因子（用于n沟道迁移率的 $s_N$ 和用于p沟道迁移率的 $s_P$）和阈值电压偏移（$\\Delta V_{tn}$ 和 $\\Delta |V_{tp}|$）定义。全局变化参数给定为 $\\alpha = 0.25$ 和 $\\Delta V_t = 0.03$ V。例如，FS角对应于 $s_N = 1 + \\alpha$, $s_P = 1 - \\alpha$, $\\Delta V_{tn} = -\\Delta V_t$, 以及 $\\Delta |V_{tp}| = +\\Delta V_t$。\n\n通过将变化量加到基准值上，计算n沟道和p沟道MOSFET的有效阈值电压：\n$$V_{tn,\\mathrm{eff}} = V_{tn,0} + \\Delta V_{tn}$$\n$$|V_{tp,\\mathrm{eff}}| = |V_{tp,0}| + \\Delta |V_{tp}|$$\n\n接下来，确定三个关键晶体管——下拉 (pd)、上拉 (pu) 和访问 (ax)——的有效跨导参数 ($\\beta$)。这些参数随迁移率因子 $s$ 和器件几何尺寸 $W/L$ 缩放。n沟道器件还包括基准迁移率比 $\\rho = \\mu_n/\\mu_p$。\n$$\\beta_{\\mathrm{pd}} = s_N \\cdot \\rho \\cdot (W/L)_{\\mathrm{pd}}$$\n$$\\beta_{\\mathrm{pu}} = s_P \\cdot (W/L)_{\\mathrm{pu}}$$\n$$\\beta_{\\mathrm{ax}} = s_N \\cdot \\rho \\cdot (W/L)_{\\mathrm{ax}}$$\n\n有了这些参数，我们就可以确定构成SRAM锁存器的交叉耦合反相器的翻转点 $V_M$。这是反相器发生翻转的电压，通过使上拉p沟道和下拉n沟道晶体管的饱和电流相等来找到。使用提供的公式，其中 $a = \\sqrt{\\beta_{\\mathrm{pd}}}$ 和 $b = \\sqrt{\\beta_{\\mathrm{pu}}}$：\n$$V_M = \\frac{b\\,(V_{\\mathrm{DD}} - |V_{tp,\\mathrm{eff}}|) + a\\, V_{tn,\\mathrm{eff}}}{a + b}$$\n\n下一步是计算每个晶体管的有效“强度”，它是其电流驱动能力的一个代理。强度 $S$ 建模为 $S = \\beta \\cdot \\max(V_{\\mathrm{eff}}, 0)^2$。对于栅极被驱动到电源轨的器件，栅极过驱动电压 $V_{\\mathrm{eff}}$ 被近似，这在读取和写入操作中是常见情况。对于栅极为 $V_{\\mathrm{DD}}$ 的n沟道晶体管，过驱动电压为 $V_{\\mathrm{eff},n} = V_{\\mathrm{DD}} - V_{tn,\\mathrm{eff}}$。对于栅极为地（源极为 $V_{\\mathrm{DD}}$）的p沟道晶体管，过驱动电压为 $V_{\\mathrm{eff},p} = V_{\\mathrm{DD}} - |V_{tp,\\mathrm{eff}}|$。因此，下拉、上拉和访问晶体管的强度为：\n$$S_{\\mathrm{pd}} = \\beta_{\\mathrm{pd}} \\cdot \\max(0, V_{\\mathrm{DD}} - V_{tn,\\mathrm{eff}})^2$$\n$$S_{\\mathrm{pu}} = \\beta_{\\mathrm{pu}} \\cdot \\max(0, V_{\\mathrm{DD}} - |V_{tp,\\mathrm{eff}}|)^2$$\n$$S_{\\mathrm{ax}} = \\beta_{\\mathrm{ax}} \\cdot \\max(0, V_{\\mathrm{DD}} - V_{tn,\\mathrm{eff}})^2$$\n\n现在，我们评估两个关键指标：读取裕度和写入裕度。\n\n读取裕度 $M_{\\mathrm{read}}$ 是衡量单元在读取操作期间稳定性的指标。当读取存储的 '0' 时，访问晶体管和下拉晶体管形成一个分压器，可能导致存储节点上的电压上升。这个电压上升 $V_{\\mathrm{read\\_rise}}$ 不能超过反相器的翻转点 $V_M$，否则单元可能会翻转。电压上升建模为：\n$$V_{\\mathrm{read\\_rise}} = V_{\\mathrm{DD}} \\cdot \\frac{S_{\\mathrm{ax}}}{S_{\\mathrm{ax}} + S_{\\mathrm{pd}}}$$\n读取裕度则是其差值：\n$$M_{\\mathrm{read}} = V_M - V_{\\mathrm{read\\_rise}}$$\n一个更小或为负的 $M_{\\mathrm{read}}$ 表示更差的读取稳定性。\n\n写入裕度 $M_{\\mathrm{write}}$ 评估单元的写入能力。当向存储 '1' 的单元中写入 '0' 时，访问晶体管必须克服上拉晶体管，将存储节点的电压拉到反相器翻转点以下。节点在此竞争中稳定到的准静态电压建模为：\n$$V_{\\mathrm{write\\_settle}} = V_{\\mathrm{DD}} \\cdot \\frac{S_{\\mathrm{pu}}}{S_{\\mathrm{pu}} + S_{\\mathrm{ax}}}$$\n写入裕度定义为：\n$$M_{\\mathrm{write}} = V_M - V_{\\mathrm{write\\_settle}}$$\n一个更小或为负的 $M_{\\mathrm{write}}$ 表示更困难或失败的写入操作。\n\n通过对单个测试用例的所有五个工艺角执行这些计算，我们得到五个 $M_{\\mathrm{read}}$ 值和五个 $M_{\\mathrm{write}}$ 值。然后我们识别出每组中对应于最小值的工艺角索引。如果出现平局，问题规定选择最小的工艺角索引。对所有四个测试用例重复此过程。最终输出将这些最差情况的工艺角索引汇总成指定的列表格式。",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Analyzes SRAM cell read and write margins across process corners.\n    \"\"\"\n    # Global constants for process variation modeling\n    ALPHA = 0.25\n    DELTA_V_T = 0.03  # in Volts\n\n    # Process corner definitions as tuples of:\n    # (s_N_scaler, s_P_scaler, V_tn_shift_multiplier, V_tp_shift_multiplier)\n    # Corner indices: TT - 0, FF - 1, SS - 2, FS - 3, SF - 4\n    CORNER_PARAMS = [\n        (1.0, 1.0, 0.0, 0.0),                              # TT: Typical-Typical\n        (1.0 + ALPHA, 1.0 + ALPHA, -1.0, -1.0),            # FF: Fast-Fast\n        (1.0 - ALPHA, 1.0 - ALPHA, 1.0, 1.0),              # SS: Slow-Slow\n        (1.0 + ALPHA, 1.0 - ALPHA, -1.0, 1.0),             # FS: Fast-N, Slow-P\n        (1.0 - ALPHA, 1.0 + ALPHA, 1.0, -1.0)              # SF: Slow-N, Fast-P\n    ]\n\n    # Test suite from the problem statement\n    # Each tuple contains:\n    # (W/L)_pd, (W/L)_pu, (W/L)_ax, rho, V_DD, V_tn0, |V_tp0|\n    test_cases = [\n        (2.0, 1.0, 1.0, 2.5, 1.0, 0.35, 0.35),\n        (1.0, 1.0, 2.0, 2.0, 0.8, 0.35, 0.35),\n        (3.0, 0.8, 1.0, 2.5, 1.0, 0.32, 0.34),\n        (2.0, 1.2, 1.2, 2.5, 0.6, 0.38, 0.42),\n    ]\n\n    all_results = []\n    for case in test_cases:\n        w_l_pd, w_l_pu, w_l_ax, rho, v_dd, v_tn0, v_tp0 = case\n        \n        read_margins = []\n        write_margins = []\n\n        for s_n, s_p, dvtn_multiplier, dvtp_multiplier in CORNER_PARAMS:\n            # Step 1: Calculate effective threshold voltages for the current corner\n            delta_vtn = dvtn_multiplier * DELTA_V_T\n            delta_vtp = dvtp_multiplier * DELTA_V_T\n            v_tn_eff = v_tn0 + delta_vtn\n            v_tp_eff = v_tp0 + delta_vtp  # This represents |V_tp,eff|\n\n            # Step 2: Calculate effective transconductance parameters\n            beta_pd = s_n * rho * w_l_pd\n            beta_pu = s_p * w_l_pu\n            beta_ax = s_n * rho * w_l_ax\n\n            # Step 3: Calculate the inverter trip point V_M\n            a = np.sqrt(beta_pd)\n            b = np.sqrt(beta_pu)\n            \n            vm_numerator = b * (v_dd - v_tp_eff) + a * v_tn_eff\n            vm_denominator = a + b\n            # Denominator should not be zero for valid W/L ratios\n            v_m = vm_numerator / vm_denominator\n\n            # Step 4: Calculate device strengths (S)\n            v_eff_n = v_dd - v_tn_eff\n            v_eff_p = v_dd - v_tp_eff\n            \n            # The strength is zero if the device is off (V_eff = 0)\n            s_pd = beta_pd * (max(0, v_eff_n))**2\n            s_ax = beta_ax * (max(0, v_eff_n))**2\n            s_pu = beta_pu * (max(0, v_eff_p))**2\n\n            # Step 5: Calculate read margin\n            s_ax_plus_s_pd = s_ax + s_pd\n            if s_ax_plus_s_pd == 0:\n                # If both access and pull-down transistors are off, the node voltage\n                # does not rise during a read.\n                v_read_rise = 0.0\n            else:\n                v_read_rise = v_dd * s_ax / s_ax_plus_s_pd\n            \n            m_read = v_m - v_read_rise\n            read_margins.append(m_read)\n\n            # Step 6: Calculate write margin\n            s_pu_plus_s_ax = s_pu + s_ax\n            if s_pu_plus_s_ax == 0:\n                # If both pull-up and access transistors are off, the node cannot be\n                # pulled down from V_DD. The write fails completely.\n                v_write_settle = v_dd\n            else:\n                v_write_settle = v_dd * s_pu / s_pu_plus_s_ax\n\n            m_write = v_m - v_write_settle\n            write_margins.append(m_write)\n        \n        # Step 7: Identify the corner with the minimum margin for read and write\n        # np.argmin() breaks ties by choosing the smallest index, as required.\n        worst_read_corner_idx = np.argmin(read_margins)\n        worst_write_corner_idx = np.argmin(write_margins)\n        \n        all_results.append([int(worst_read_corner_idx), int(worst_write_corner_idx)])\n    \n    # Format the output string to exactly match the problem specification\n    results_str_list = [f\"[{res[0]},{res[1]}]\" for res in all_results]\n    final_output_str = f\"[{','.join(results_str_list)}]\"\n    \n    print(final_output_str)\n\nsolve()\n```"
        }
    ]
}