{
    "hands_on_practices": [
        {
            "introduction": "A primary constraint in manufacturing test is the time it takes to test each device, as this directly impacts throughput and cost. This exercise focuses on deriving the total test application time for a STUMPS architecture, a widely used parallel scan-based BIST scheme. By breaking down the test session into its fundamental phases—scan-in, launch-capture, and scan-out—you will develop a first-principles model that accounts for both scan-shifting and at-speed functional cycles, a critical skill for predicting and optimizing BIST performance. ",
            "id": "4258828",
            "problem": "Consider a Self-Test Using a MISR and Parallel Shift (STUMPS) architecture employing $S$ parallel scan chains. Each scan chain has length $L$ flip-flops, the scan shift clock operates at frequency $f_s$, and there are $N$ deterministic test patterns to be applied. Responses are compacted by a Multiple-Input Signature Register (MISR), and the pattern generator is a parallel Shift Register Sequence Generator (SRSG), implemented as a linear feedback shift register with appropriate phase shifters. The test is performed using at-speed launch-capture for transition fault coverage, meaning that for each pattern the launch and capture occur using the functional clock at frequency $f_c$ and consume exactly two functional clock cycles per pattern.\n\nStarting from first principles and core definitions of scan-based Built-In Self-Test (BIST), derive the total pattern application time in seconds under the following scientifically realistic assumptions:\n- Scan-in and scan-out are fully overlapped (pipelined) across successive patterns, except for the initial scan fill and final scan drain.\n- The scan enable controls ensure that launch and capture are performed with scan disabled, so scan shift does not occur during the two functional clock cycles.\n- All $S$ scan chains are loaded and unloaded in parallel on each scan shift cycle, and $L$ denotes the maximum chain length among the $S$ chains.\n- Ignore any additional time for MISR signature readout at the end and any controller overhead; account only for scan shift and the two at-speed functional clock cycles per pattern.\n\nExpress the final answer as a single closed-form analytic expression in terms of $S$, $L$, $N$, $f_s$, and $f_c$. State the total time in seconds. No numerical values are provided; do not introduce approximations. The answer must be a single expression. If a numerical evaluation were required, you would be instructed to round to a specified number of significant figures, but here no rounding is needed.",
            "solution": "The total time to apply $N$ test patterns, $T_{total}$, is the sum of the durations of all sequential operations, from the beginning of scanning in the first pattern to the completion of scanning out the final response. We analyze the sequence of events step-by-step.\n\nLet $T_s$ be the period of the scan shift clock, and $T_c$ be the period of the functional clock.\n$$T_s = \\frac{1}{f_s}$$\n$$T_c = \\frac{1}{f_c}$$\n\nThe test application process can be decomposed into a series of distinct, sequential phases. The key is to correctly identify and sum the duration of each phase. The entire process for $N$ patterns consists of $N$ capture phases and $N+1$ scan phases.\n\n1.  **Phase 1: Initial Scan Fill**\n    The first test pattern, $P_1$, must be loaded into the scan chains. Since the $S$ chains operate in parallel, the time required is determined by the longest chain, of length $L$. This requires $L$ scan shift clock cycles.\n    Duration of Initial Scan Fill = $L \\cdot T_s = \\frac{L}{f_s}$.\n\n2.  **Phase 2: Launch-and-Capture for Pattern 1**\n    After $P_1$ is loaded, the circuit is placed in functional mode for at-speed launch and capture. This takes $2$ functional clock cycles.\n    Duration of Capture for Pattern 1 = $2 \\cdot T_c = \\frac{2}{f_c}$.\n\n3.  **Intermediate Pipelined Cycles:**\n    For each subsequent pattern from $P_2$ through $P_N$, a pipelined operation occurs. This consists of a capture phase for the previous pattern's result, followed by a scan phase where the response is shifted out and the new pattern is shifted in. This sequence repeats $N-1$ times. Each block consists of one capture and one scan operation. However, it is easier to sum all scan operations and all capture operations separately.\n\nThe total process consists of:\n- An initial scan fill to load pattern $P_1$ ($L$ cycles).\n- For each of the $N$ patterns, a 2-cycle capture sequence.\n- For each of the first $N-1$ patterns, a scan-out/scan-in operation to load the next pattern ($L$ cycles each).\n- A final scan drain to unload the response to pattern $P_N$ ($L$ cycles).\n\nThe total time is the sum of the durations of all these sequential phases. We can group the phases into two categories: scan phases and capture phases.\n\n-   **Total Scan Time:** There are $N+1$ distinct scan phases: the initial fill, $N-1$ intermediate pipelined scans, and the final drain. Each scan phase has a duration of $L/f_s$.\n    $$T_{scan\\_total} = (1 + (N-1) + 1) \\times \\frac{L}{f_s} = (N+1)\\frac{L}{f_s}$$\n\n-   **Total Capture Time:** There are $N$ capture phases, one for each pattern. Each capture phase has a duration of $2/f_c$.\n    $$T_{capture\\_total} = N \\times \\frac{2}{f_c} = \\frac{2N}{f_c}$$\n\nThe total pattern application time, $T_{total}$, is the sum of the total scan time and the total capture time.\n$$T_{total} = T_{scan\\_total} + T_{capture\\_total}$$\n$$T_{total} = (N+1)\\frac{L}{f_s} + \\frac{2N}{f_c}$$\n\nIt is important to note that the number of parallel scan chains, $S$, does not appear in the final expression. This is correct because the scan operations for all $S$ chains are performed in parallel. The time for any scan operation is dictated by the longest chain, which has a length of $L$. Therefore, the parallelism offered by $S >1$ increases the number of faults that can be tested per pattern but does not change the time required to apply one pattern of effective length $L$.\n\nThe final expression is a single closed-form equation in terms of the specified variables.",
            "answer": "$$\\boxed{\\frac{(N+1)L}{f_s} + \\frac{2N}{f_c}}$$"
        },
        {
            "introduction": "The silicon area consumed by test logic, known as area overhead, is a crucial cost factor in chip design. This practice explores a fundamental architectural trade-off by comparing a BIST implementation with dedicated hardware blocks (PRPG and MISR) against one using Built-In Logic Block Observers (BILBO), where test functions are integrated into existing registers. By creating a quantitative model based on gate-level area estimates, you will analyze how different architectural choices impact hardware cost, a key consideration in any Design-for-Test (DFT) strategy. ",
            "id": "4258778",
            "problem": "A synchronous digital design contains a total of $R$ single-bit registers. The current Built-In Self-Test (BIST) solution uses a dedicated Pseudo-Random Pattern Generator (PRPG) and a dedicated Multiple-Input Signature Register (MISR). The PRPG is implemented as an $R$-stage Linear Feedback Shift Register (LFSR), and the MISR is implemented as an $R$-stage signature compactor. You are asked to evaluate the area overhead when these dedicated blocks are replaced by Built-In Logic Block Observer (BILBO) registers, in which each of the $R$ existing registers is augmented to operate in normal, PRPG, and MISR modes under test.\n\nUse the following modeling assumptions, which reflect standard gate-level synthesis abstractions for area:\n- The total area is additive across independent components: if a design instantiates $n_i$ copies of component $i$ with per-instance area $A_i$, then the total area contribution from those components is $\\sum_i n_i A_i$.\n- A single D-type flip-flop instance has area $A_{\\mathrm{FF}}$.\n- A $2$-input exclusive-or gate has area $A_{\\mathrm{X}}$.\n- A $2{:}1$ multiplexer has area $A_{\\mathrm{M}}$.\n- The PRPG’s feedback polynomial network uses $\\tau_{\\mathrm{L}}$ instances of $2$-input exclusive-or gates.\n- The MISR’s feedback polynomial network uses $\\tau_{\\mathrm{M}}$ instances of $2$-input exclusive-or gates, and each of the $R$ stages requires one $2$-input exclusive-or gate to inject one data input per stage.\n\nIn the dedicated PRPG/MISR implementation:\n- The PRPG consists of $R$ flip-flops and $\\tau_{\\mathrm{L}}$ exclusive-or gates for the feedback polynomial network.\n- The MISR consists of $R$ flip-flops, $R$ exclusive-or gates for per-stage data injection, and $\\tau_{\\mathrm{M}}$ exclusive-or gates for the feedback polynomial network.\n\nIn the BILBO implementation:\n- Each of the $R$ original registers is augmented with one $2{:}1$ multiplexer and two $2$-input exclusive-or gates to support its PRPG and MISR operating modes. The global feedback polynomial networks required to implement PRPG and MISR behavior still require $\\tau_{\\mathrm{L}}$ and $\\tau_{\\mathrm{M}}$ exclusive-or gates, respectively.\n\nLet the area overhead be defined as the net change in total instantiated area relative to the original design with $R$ plain registers, when the dedicated PRPG and MISR are removed and BILBO is applied to each register. Using only the linear additivity of area and the component counts above, derive a single closed-form analytic expression for the net area change $\\Delta A$ as a function of $R$, $A_{\\mathrm{FF}}$, $A_{\\mathrm{X}}$, $A_{\\mathrm{M}}$, $\\tau_{\\mathrm{L}}$, and $\\tau_{\\mathrm{M}}$. Express your final answer in the same area units as $A_{\\mathrm{FF}}$, $A_{\\mathrm{X}}$, and $A_{\\mathrm{M}}$, and present it as a single analytic expression. No numerical rounding is required.",
            "solution": "The objective is to derive an expression for the net change in area, $\\Delta A$, when a dedicated Built-In Self-Test (BIST) architecture is replaced by a Built-In Logic Block Observer (BILBO) architecture. The change is a transition from a design state with dedicated BIST hardware to a state with BILBO-augmented registers. We will calculate the total area for each configuration and then find the difference.\n\nFirst, let's determine the total area of the design with the dedicated Pseudo-Random Pattern Generator (PRPG) and Multiple-Input Signature Register (MISR). In this scheme, the original design's $R$ registers are present, and two separate, dedicated hardware blocks are added for testing.\n\nThe area of the dedicated PRPG is given by its components: $R$ flip-flops and $\\tau_{\\mathrm{L}}$ exclusive-or (XOR) gates.\n$$A_{\\mathrm{PRPG}} = R \\cdot A_{\\mathrm{FF}} + \\tau_{\\mathrm{L}} \\cdot A_{\\mathrm{X}}$$\nThe area of the dedicated MISR is given by its components: $R$ flip-flops, $R$ XOR gates for per-stage data injection, and $\\tau_{\\mathrm{M}}$ XOR gates for the feedback network.\n$$A_{\\mathrm{MISR}} = R \\cdot A_{\\mathrm{FF}} + R \\cdot A_{\\mathrm{X}} + \\tau_{\\mathrm{M}} \\cdot A_{\\mathrm{X}} = R \\cdot A_{\\mathrm{FF}} + (R + \\tau_{\\mathrm{M}}) \\cdot A_{\\mathrm{X}}$$\nThe total hardware area added for the dedicated BIST solution is the sum of the PRPG and MISR areas.\n$$A_{\\mathrm{added, dedicated}} = A_{\\mathrm{PRPG}} + A_{\\mathrm{MISR}} = (R \\cdot A_{\\mathrm{FF}} + \\tau_{\\mathrm{L}} \\cdot A_{\\mathrm{X}}) + (R \\cdot A_{\\mathrm{FF}} + (R + \\tau_{\\mathrm{M}}) \\cdot A_{\\mathrm{X}})$$\n$$A_{\\mathrm{added, dedicated}} = 2R \\cdot A_{\\mathrm{FF}} + (R + \\tau_{\\mathrm{L}} + \\tau_{\\mathrm{M}}) \\cdot A_{\\mathrm{X}}$$\nThis quantity represents the total area overhead of the dedicated BIST solution relative to the original design.\n\nNext, let's determine the total area overhead for the BILBO implementation. In this scheme, the original $R$ registers are not supplemented but are themselves augmented. Thus, no new flip-flops are added to the design. Each of the $R$ registers is modified by adding one $2{:}1$ multiplexer and two $2$-input XOR gates.\nThe area added per register is:\n$$A_{\\mathrm{aug, per\\_reg}} = A_{\\mathrm{M}} + 2 \\cdot A_{\\mathrm{X}}$$\nFor all $R$ registers, the total augmentation area is:\n$$A_{\\mathrm{aug, total}} = R \\cdot (A_{\\mathrm{M}} + 2 \\cdot A_{\\mathrm{X}}) = R \\cdot A_{\\mathrm{M}} + 2R \\cdot A_{\\mathrm{X}}$$\nAdditionally, the BILBO implementation still requires the global feedback polynomial networks for both PRPG and MISR functionality. The area for this logic is the sum of the areas of their respective XOR gates.\n$$A_{\\mathrm{feedback}} = \\tau_{\\mathrm{L}} \\cdot A_{\\mathrm{X}} + \\tau_{\\mathrm{M}} \\cdot A_{\\mathrm{X}} = (\\tau_{\\mathrm{L}} + \\tau_{\\mathrm{M}}) \\cdot A_{\\mathrm{X}}$$\nThe total hardware area added for the BILBO solution is the sum of the register augmentation logic and the global feedback logic.\n$$A_{\\mathrm{added, BILBO}} = A_{\\mathrm{aug, total}} + A_{\\mathrm{feedback}} = (R \\cdot A_{\\mathrm{M}} + 2R \\cdot A_{\\mathrm{X}}) + (\\tau_{\\mathrm{L}} + \\tau_{\\mathrm{M}}) \\cdot A_{\\mathrm{X}}$$\n$$A_{\\mathrm{added, BILBO}} = R \\cdot A_{\\mathrm{M}} + (2R + \\tau_{\\mathrm{L}} + \\tau_{\\mathrm{M}}) \\cdot A_{\\mathrm{X}}$$\nThis quantity represents the total area overhead of the BILBO solution relative to the original design.\n\nThe problem asks for the net change in total instantiated area, $\\Delta A$, when the dedicated solution is replaced by the BILBO solution. This is the difference between the area overhead of the final state (BILBO) and the area overhead of the initial state (dedicated).\n$$\\Delta A = A_{\\mathrm{added, BILBO}} - A_{\\mathrm{added, dedicated}}$$\nSubstituting the expressions we derived:\n$$\\Delta A = [R \\cdot A_{\\mathrm{M}} + (2R + \\tau_{\\mathrm{L}} + \\tau_{\\mathrm{M}}) \\cdot A_{\\mathrm{X}}] - [2R \\cdot A_{\\mathrm{FF}} + (R + \\tau_{\\mathrm{L}} + \\tau_{\\mathrm{M}}) \\cdot A_{\\mathrm{X}}]$$\nNow, we group the terms by the component area types ($A_{\\mathrm{FF}}$, $A_{\\mathrm{M}}$, $A_{\\mathrm{X}}$):\n$$\\Delta A = -2R \\cdot A_{\\mathrm{FF}} + R \\cdot A_{\\mathrm{M}} + [(2R + \\tau_{\\mathrm{L}} + \\tau_{\\mathrm{M}}) - (R + \\tau_{\\mathrm{L}} + \\tau_{\\mathrm{M}})] \\cdot A_{\\mathrm{X}}$$\nThe terms involving $\\tau_{\\mathrm{L}}$ and $\\tau_{\\mathrm{M}}$ cancel out in the coefficient of $A_{\\mathrm{X}}$:\n$$\\Delta A = -2R \\cdot A_{\\mathrm{FF}} + R \\cdot A_{\\mathrm{M}} + (2R - R) \\cdot A_{\\mathrm{X}}$$\n$$\\Delta A = -2R \\cdot A_{\\mathrm{FF}} + R \\cdot A_{\\mathrm{M}} + R \\cdot A_{\\mathrm{X}}$$\nFinally, we can factor out the common term $R$ to obtain the single closed-form expression for the net area change:\n$$\\Delta A = R(A_{\\mathrm{M}} + A_{\\mathrm{X}} - 2 A_{\\mathrm{FF}})$$\nThis expression represents the area savings from eliminating $2R$ dedicated flip-flops, balanced against the cost of adding $R$ multiplexers and a net increase of $R$ XOR gates.",
            "answer": "$$\n\\boxed{R(A_{\\mathrm{M}} + A_{\\mathrm{X}} - 2A_{\\mathrm{FF}})}\n$$"
        },
        {
            "introduction": "A fast and low-cost test is ineffective if it fails to detect critical manufacturing defects. This problem shifts the focus from physical cost to test quality, specifically the probability of detecting a random-pattern resistant fault. You will explore how BIST architectures can be enhanced with Weighted Random Pattern Generation (WRPG) to target such stubborn faults and mathematically quantify the resulting improvement in detection probability, including the impact of signature aliasing in the MISR. ",
            "id": "4258760",
            "problem": "A combinational logic block is tested using Built-In Self-Test (BIST). The pattern source is a Linear Feedback Shift Register (LFSR) augmented as a Weighted Random Pattern Generator (WRPG) to bias exactly one specific primary input, denoted by $x$, to the probability $p$ of being logic $1$, while all other inputs remain unbiased with the probability $0.5$ of being either logic $0$ or logic $1$. Consider a single stuck-at-$0$ fault on $x$ that is random-pattern resistant because its effect must be both activated and propagated through a sensitized path to an observation point. In the relevant segment of the sensitization path, there are $k$ side inputs that drive gates for which the non-controlling value is logic $0$, and the path is sensitized only when all these $k$ side inputs are simultaneously logic $0$. Assume the following:\n- The values on all primary inputs are independent and identically distributed across patterns, except for the single bias on $x$.\n- Across patterns, values are independent and drawn from the same distributions.\n- The response is compacted by a Multiple-Input Signature Register (MISR) of length $m$ bits. Assume a linear MISR over $\\mathbb{F}_2$ where, conditional on any non-zero error sequence entering the MISR, the probability of aliasing (identical final signature as the fault-free response) is $2^{-m}$ and is independent of the number $N$ of applied patterns.\nUsing the core definitions of independent Bernoulli trials and the complement rule for repeated independent trials, derive from first principles the following quantities:\n1. The improvement ratio in per-pattern detection probability when the controlling input $x$ is biased to probability $p$ of logic $1$ compared to the unbiased case with probability $0.5$ of logic $1$.\n2. The expected fault coverage after applying $N$ independent patterns, incorporating both the activation-and-propagation requirement and the MISR aliasing behavior.\nExpress both results as closed-form analytic expressions in terms of $p$, $k$, $m$, and $N$. Provide your final answer as a two-entry row vector containing the improvement ratio and the coverage expression. No numerical evaluation or rounding is required, and no units are to be included in the final answer.",
            "solution": "The solution requires the derivation of two quantities: an improvement ratio and the expected fault coverage.\n\n**1. Improvement Ratio in Per-Pattern Detection Probability**\n\nThe detection of the stuck-at-$0$ fault on input $x$ by a single test pattern requires two conditions to be met simultaneously:\n1.  **Activation:** The fault site must be set to the value opposite of the stuck-at value. For a stuck-at-$0$ fault on $x$, this requires $x=1$.\n2.  **Propagation:** The effect of the fault must propagate to an observation point. The problem states this occurs if and only if $k$ specific side inputs are all logic $0$.\n\nLet $P_d$ be the per-pattern probability of detection. Based on the principle of probability for independent events, $P_d$ is the product of the probability of activation and the probability of propagation.\n$$P_d = P(\\text{activation}) \\times P(\\text{propagation})$$\n\nLet's calculate these probabilities for both the biased and unbiased cases.\n\n**Unbiased Case:**\nIn the unbiased case, every primary input has a probability of $0.5$ of being logic $1$.\n- The probability of activation is $P(\\text{activation, unbiased}) = P(x=1) = 0.5 = 2^{-1}$.\n- The $k$ side inputs are also unbiased. The probability that a single side input is logic $0$ is $0.5$. Since the inputs are independent, the probability that all $k$ side inputs are simultaneously logic $0$ is:\n  $$P(\\text{propagation}) = (0.5)^k = \\left(\\frac{1}{2}\\right)^k = 2^{-k}$$\n- Therefore, the per-pattern detection probability in the unbiased case is:\n  $$P_{d, \\text{unbiased}} = P(\\text{activation, unbiased}) \\times P(\\text{propagation}) = 2^{-1} \\times 2^{-k} = 2^{-(k+1)}$$\n\n**Biased Case:**\nIn the biased case, the WRPG sets the probability of input $x$ being logic $1$ to $p$. All other inputs remain unbiased.\n- The probability of activation is $P(\\text{activation, biased}) = P(x=1) = p$.\n- The probability of propagation is unchanged, as the $k$ side inputs are assumed to be distinct from $x$ and remain unbiased:\n  $$P(\\text{propagation}) = 2^{-k}$$\n- Therefore, the per-pattern detection probability in the biased case is:\n  $$P_{d, \\text{biased}} = P(\\text{activation, biased}) \\times P(\\text{propagation}) = p \\cdot 2^{-k}$$\n\n**Improvement Ratio:**\nThe improvement ratio, $R$, is the ratio of the per-pattern detection probability in the biased case to that in the unbiased case.\n$$R = \\frac{P_{d, \\text{biased}}}{P_{d, \\text{unbiased}}} = \\frac{p \\cdot 2^{-k}}{2^{-(k+1)}} = \\frac{p \\cdot 2^{-k}}{2^{-1} \\cdot 2^{-k}} = \\frac{p}{2^{-1}} = 2p$$\nThis is the first required result.\n\n**2. Expected Fault Coverage after N Patterns**\n\nFault coverage, $FC$, is the probability that the fault is detected after applying a sequence of $N$ independent test patterns. This means the fault must be sensitized by at least one pattern, and this sensitization must not be masked by MISR aliasing.\n\nFirst, let's determine the probability that the fault is sensitized at least once in $N$ patterns. A sensitization occurs if a pattern both activates and propagates the fault. The probability of this for a single pattern in the biased BIST setup is $P_{d, \\text{biased}} = p \\cdot 2^{-k}$.\n\nThe application of $N$ patterns constitutes a sequence of $N$ independent Bernoulli trials, where \"success\" is the sensitization of the fault.\n- The probability of sensitization for a single trial is $q = p \\cdot 2^{-k}$.\n- The probability of *not* sensitizing the fault in a single trial is $1-q = 1 - p \\cdot 2^{-k}$.\n- The probability of failing to sensitize the fault in all $N$ independent trials is $(1-q)^N = (1 - p \\cdot 2^{-k})^N$.\n\nUsing the complement rule, the probability of sensitizing the fault at least once in $N$ trials, let's call this event $S_{\\ge 1}$, is:\n$$P(S_{\\ge 1}) = 1 - (1 - p \\cdot 2^{-k})^N$$\n\nNext, we must account for MISR aliasing. The problem states that conditional on a non-zero error sequence entering the MISR, the probability of aliasing is $P_{\\text{alias}} = 2^{-m}$. A \"non-zero error sequence\" is equivalent to the fault being sensitized at least once (event $S_{\\ge 1}$).\n\nThe fault is successfully detected and covered if it is sensitized (event $S_{\\ge 1}$) AND aliasing does not occur. Let $A$ be the event of aliasing. We want to find the probability $P(S_{\\ge 1} \\cap A^c)$, where $A^c$ is the complement of $A$ (no aliasing).\n\nUsing the definition of conditional probability, $P(S_{\\ge 1} \\cap A^c) = P(A^c | S_{\\ge 1}) \\times P(S_{\\ge 1})$.\n- The probability of non-aliasing, given that a sensitization has occurred, is:\n  $$P(A^c | S_{\\ge 1}) = 1 - P(A | S_{\\ge 1}) = 1 - P_{\\text{alias}} = 1 - 2^{-m}$$\n- We have already derived $P(S_{\\ge 1})$.\n\nTherefore, the final fault coverage, $FC$, is:\n$$FC = P(S_{\\ge 1} \\cap A^c) = (1 - 2^{-m}) \\times P(S_{\\ge 1})$$\n$$FC = (1 - 2^{-m}) \\left[1 - (1 - p \\cdot 2^{-k})^N\\right]$$\nThis is the second required result. The term \"expected fault coverage\" for a single fault is equivalent to its detection probability, which is what we have calculated.\n\nThe final answer combines both results into a two-entry row vector.",
            "answer": "$$ \\boxed{ \\begin{pmatrix} 2p & (1 - 2^{-m})\\left(1 - \\left(1 - p \\cdot 2^{-k}\\right)^N\\right) \\end{pmatrix} } $$"
        }
    ]
}