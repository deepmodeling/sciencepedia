{
    "hands_on_practices": [
        {
            "introduction": "标准单元库表征的一个关键目标是确定其功耗，这对于设计高能效芯片至关重要。本练习将提供直接的实践经验，将原始的时域电流测量值——功耗的物理基础——转换为 Liberty 功耗表中的单个抽象值。通过此练习，您将巩固对动态能量基本定义的理解。",
            "id": "4306303",
            "problem": "考虑一个采用互补金属氧化物半导体 (CMOS) 技术实现的双输入与非门 ($\\text{NAND2}$)，该门电路已为在电子设计自动化 (EDA) 库中使用而进行了表征，遵循 Synopsys Liberty 库文件格式。该单元在恒定电源电压 $V_{\\text{DD}} = 0.80$ V 下供电。库中声明 $\\text{power\\_unit} = \\text{micro-watt}$（微瓦），$\\text{time\\_unit} = \\text{nanosecond}$（纳秒），因此能量值必须以 $\\text{micro-watt}\\cdot\\text{nanosecond}$（微瓦·纳秒）表示。\n\n针对与输入引脚 $A$ 相关的内部功耗进行了一次表征实验。实验在单事件激励下进行，其中输入 $A$ 以 $20$ ps 的转换速率（slew）从逻辑低电平转换到逻辑高电平，输入 $B$ 保持在逻辑高电平，输出电容为 $2$ fF，并且输出发生相应的转换。测得的电源电流波形如下：\n$$\nI_{\\text{VDD}}(t) = I_{\\text{leak}} + I_{1}\\,\\exp\\!\\left(-\\frac{t}{\\tau_{1}}\\right) - I_{2}\\,H\\!\\left(t - t_{d}\\right)\\,\\exp\\!\\left(-\\frac{t - t_{d}}{\\tau_{2}}\\right), \\quad t \\ge 0,\n$$\n其中 $H(\\cdot)$ 是亥维赛阶跃函数。测量的参数如下：\n- $I_{\\text{leak}} = 2.0$ $\\mu$A (恒定),\n- $I_{1} = 1.20$ mA, $\\tau_{1} = 0.015$ ns,\n- $I_{2} = 0.080$ mA, $\\tau_{2} = 0.020$ ns,\n- $t_{d} = 0.050$ ns.\n\n假设 $I_{\\text{leak}}$ 是此激励下的稳态基线漏电流，必须从动态内部功耗中排除。对于这些索引，与输入 $A$ 上的上升转换相关的 Liberty 上升功耗表条目定义为每个输入事件从电源汲取的净能量，符号约定为：从 $V_{\\text{DD}}$ 汲取的能量为正，返回到 $V_{\\text{DD}}$ 的能量为负。\n\n仅使用基于物理的定义，通过在整个事件期间对动态电源功耗进行积分，计算此激励下的单个标量上升功耗表条目值。将最终结果以 $\\text{micro-watt}\\cdot\\text{nanosecond}$ 表示，并将答案四舍五入至四位有效数字。",
            "solution": "该问题根据既定标准进行验证。\n\n### 步骤 1：提取已知条件\n- **单元：** 采用 CMOS 技术的双输入与非门 ($\\text{NAND2}$)。\n- **电源电压：** $V_{\\text{DD}} = 0.80$ V。\n- **Liberty 单位：** $\\text{power\\_unit} = \\text{micro-watt}$（微瓦），$\\text{time\\_unit} = \\text{nanosecond}$（纳秒）。能量单位为 $\\text{micro-watt}\\cdot\\text{nanosecond}$。\n- **激励：** 输入 $A$ 上升（从低到高），输入 $B$ 为高电平。\n- **输入转换速率：** $20$ ps。\n- **输出电容：** $2$ fF。\n- **电源电流模型：** 对于 $t \\ge 0$，$I_{\\text{VDD}}(t) = I_{\\text{leak}} + I_{1}\\,\\exp\\!\\left(-\\frac{t}{\\tau_{1}}\\right) - I_{2}\\,H\\!\\left(t - t_{d}\\right)\\,\\exp\\!\\left(-\\frac{t - t_{d}}{\\tau_{2}}\\right)$。\n- **模型参数：**\n  - $I_{\\text{leak}} = 2.0$ $\\mu$A。\n  - $I_{1} = 1.20$ mA。\n  - $\\tau_{1} = 0.015$ ns。\n  - $I_{2} = 0.080$ mA。\n  - $\\tau_{2} = 0.020$ ns。\n  - $t_{d} = 0.050$ ns。\n- **任务定义：** 计算单个标量“上升功耗”表条目。这被定义为在整个事件中从电源汲取的净能量，不包括由静态漏电流 $I_{\\text{leak}}$ 引起的能量。\n- **符号约定：** 从 $V_{\\text{DD}}$ 汲取的能量为正。\n- **最终结果：** 以 $\\text{micro-watt}\\cdot\\text{nanosecond}$ 表示，并四舍五入至四位有效数字。\n\n### 步骤 2：使用提取的已知条件进行验证\n对该问题进行有效性评估：\n- **科学性：** 该问题设置在 CMOS 数字电路分析和行业标准库表征方法（用于 EDA 工具的 Liberty 格式）的标准背景下。电源电流、内部功耗、漏电功耗和动态功耗的概念是 VLSI 设计的基础。所提供的电流波形是指数衰减函数的和，这是一个物理上合理但简化的模型，用于描述 MOS 晶体管网络中的开关电流和短路电流。所有指定参数（$V_{\\text{DD}}$、时间常数、电流量值）对于现代半导体技术都是切合实际的。\n- **良构性：** 该问题为待计算的值提供了清晰、定量的定义。所有必要的方程和参数都已提供。任务是对一个良态函数进行定积分，这将导出一个唯一、稳定且有意义的解。\n- **客观性：** 该问题使用精确、无歧义的技术语言陈述。它不含主观或基于观点的内容。\n\n该问题未违反任何无效性标准。这是一个来自集成电路工程领域的、科学上合理、良构且客观的问题。\n\n### 步骤 3：结论与行动\n该问题是 **有效的**。开始求解。\n\n根据问题中的定义，Liberty“上升功耗”表条目对应于在输入转换事件期间从电源 $V_{\\text{DD}}$ 汲取的净动态能量。\n\n从电源汲取的总瞬时功耗由 $P_{\\text{VDD}}(t) = V_{\\text{DD}} \\cdot I_{\\text{VDD}}(t)$ 给出。总电源电流 $I_{\\text{VDD}}(t)$ 可以分解为静态漏电分量 $I_{\\text{leak}}$ 和动态分量 $I_{\\text{dyn}}(t)$。\n$$I_{\\text{VDD}}(t) = I_{\\text{leak}} + I_{\\text{dyn}}(t)$$\n问题要求我们仅计算与动态电流相关的能量。从 $I_{\\text{VDD}}(t)$ 的给定表达式中，我们可以确定动态分量：\n$$I_{\\text{dyn}}(t) = I_{1}\\,\\exp\\!\\left(-\\frac{t}{\\tau_{1}}\\right) - I_{2}\\,H\\!\\left(t - t_{d}\\right)\\,\\exp\\!\\left(-\\frac{t - t_{d}}{\\tau_{2}}\\right)$$\n动态能量，我们记为 $E_{\\text{rise}}$，是动态功耗 $P_{\\text{dyn}}(t) = V_{\\text{DD}} \\cdot I_{\\text{dyn}}(t)$ 在整个事件持续时间（从 $t=0$ 到 $t \\to \\infty$）上的时间积分。\n$$E_{\\text{rise}} = \\int_{0}^{\\infty} P_{\\text{dyn}}(t) \\, dt = \\int_{0}^{\\infty} V_{\\text{DD}} \\cdot I_{\\text{dyn}}(t) \\, dt$$\n由于 $V_{\\text{DD}}$ 是一个常数，我们可以写出：\n$$E_{\\text{rise}} = V_{\\text{DD}} \\int_{0}^{\\infty} \\left[ I_{1}\\,\\exp\\!\\left(-\\frac{t}{\\tau_{1}}\\right) - I_{2}\\,H\\!\\left(t - t_{d}\\right)\\,\\exp\\!\\left(-\\frac{t - t_{d}}{\\tau_{2}}\\right) \\right] dt$$\n该积分可以分为两部分：\n$$E_{\\text{rise}} = V_{\\text{DD}} \\left( \\int_{0}^{\\infty} I_{1}\\,\\exp\\!\\left(-\\frac{t}{\\tau_{1}}\\right) dt - \\int_{0}^{\\infty} I_{2}\\,H\\!\\left(t - t_{d}\\right)\\,\\exp\\!\\left(-\\frac{t - t_{d}}{\\tau_{2}}\\right) dt \\right)$$\n我们分别计算每个积分。第一个积分是：\n$$ \\int_{0}^{\\infty} I_{1}\\,\\exp\\!\\left(-\\frac{t}{\\tau_{1}}\\right) dt = I_{1} \\left[ -\\tau_{1} \\exp\\!\\left(-\\frac{t}{\\tau_{1}}\\right) \\right]_{0}^{\\infty} = I_{1} \\left( 0 - (-\\tau_{1} \\exp(0)) \\right) = I_{1}\\tau_{1} $$\n对于第二个积分，亥维赛阶跃函数 $H(t - t_{d})$ 对于 $t  t_d$ 为零，对于 $t \\ge t_d$ 为一。这将积分下限从 $0$ 更改为 $t_d$。\n$$ \\int_{0}^{\\infty} I_{2}\\,H\\!\\left(t - t_{d}\\right)\\,\\exp\\!\\left(-\\frac{t - t_{d}}{\\tau_{2}}\\right) dt = \\int_{t_{d}}^{\\infty} I_{2}\\,\\exp\\!\\left(-\\frac{t - t_{d}}{\\tau_{2}}\\right) dt $$\n令 $u = t - t_{d}$，则 $du = dt$。当 $t=t_d$ 时，积分限变为 $u=0$；当 $t \\to \\infty$ 时，$u \\to \\infty$。\n$$ \\int_{0}^{\\infty} I_{2}\\,\\exp\\!\\left(-\\frac{u}{\\tau_{2}}\\right) du = I_{2} \\left[ -\\tau_{2} \\exp\\!\\left(-\\frac{u}{\\tau_{2}}\\right) \\right]_{0}^{\\infty} = I_{2} \\left( 0 - (-\\tau_{2} \\exp(0)) \\right) = I_{2}\\tau_{2} $$\n将这些结果代回 $E_{\\text{rise}}$ 的表达式中，得到最终的符号公式：\n$$E_{\\text{rise}} = V_{\\text{DD}} (I_{1}\\tau_{1} - I_{2}\\tau_{2})$$\n问题要求结果以 $\\text{micro-watt}\\cdot\\text{nanosecond}$ 为单位。我们可以通过将电压单位表示为伏特 ($\\text{V}$)，电流单位表示为微安 ($\\mu\\text{A}$)，时间单位表示为纳秒 ($\\text{ns}$) 来直接实现这一点。这些单位的乘积是 $\\text{V} \\cdot \\mu\\text{A} \\cdot \\text{ns} = \\mu\\text{W} \\cdot \\text{ns}$。\n\n我们将给定的参数转换为这套一致的单位：\n- $V_{\\text{DD}} = 0.80$ $\\text{V}$\n- $I_{1} = 1.20$ $\\text{mA} = 1200$ $\\mu\\text{A}$\n- $\\tau_{1} = 0.015$ $\\text{ns}$\n- $I_{2} = 0.080$ $\\text{mA} = 80$ $\\mu\\text{A}$\n- $\\tau_{2} = 0.020$ $\\text{ns}$\n\n现在，我们计算乘积 $I_{1}\\tau_{1}$ 和 $I_{2}\\tau_{2}$：\n$$I_{1}\\tau_{1} = (1200 \\text{ } \\mu\\text{A}) \\cdot (0.015 \\text{ } \\text{ns}) = 18 \\text{ } \\mu\\text{A}\\cdot\\text{ns}$$\n$$I_{2}\\tau_{2} = (80 \\text{ } \\mu\\text{A}) \\cdot (0.020 \\text{ } \\text{ns}) = 1.6 \\text{ } \\mu\\text{A}\\cdot\\text{ns}$$\n将这些值代入能量方程：\n$$E_{\\text{rise}} = 0.80 \\text{ } \\text{V} \\cdot (18 \\text{ } \\mu\\text{A}\\cdot\\text{ns} - 1.6 \\text{ } \\mu\\text{A}\\cdot\\text{ns})$$\n$$E_{\\text{rise}} = 0.80 \\text{ } \\text{V} \\cdot (16.4 \\text{ } \\mu\\text{A}\\cdot\\text{ns})$$\n$$E_{\\text{rise}} = 13.12 \\text{ } \\mu\\text{W}\\cdot\\text{ns}$$\n问题要求将结果四舍五入至四位有效数字。计算出的值 $13.12$ 已经有四位有效数字。",
            "answer": "$$\\boxed{13.12}$$"
        },
        {
            "introduction": "时序库并不会为每个可能的输入转换率（slew）和输出负载都存储延迟值，而是使用离散的查找表。静态时序分析（STA）工具必须在这些已表征的点之间进行插值，以计算设计中特定条件的延迟。本练习将带您深入静态时序分析工具的“底层”，通过推导插值公式以及更重要的误差边界，来揭示库表征网格的粗糙度如何直接影响时序签核的精度。",
            "id": "4306300",
            "problem": "在用于电子设计自动化 (EDA) 的标准单元库特征化中，单元延迟被制成表格，作为输入转换斜率和输出电容负载的函数。考虑一个二维时序表的单个矩形单元，其输入转换斜率变量为 $s$，负载变量为 $l$，其中 $s \\in [s_{0}, s_{1}]$ 且 $l \\in [l_{0}, l_{1}]$。假设底层的延迟曲面是在此矩形上二阶连续可微的函数 $d(s,l)$，并且在每个变量上都是凸的，因此在矩形上有 $\\frac{\\partial^{2} d}{\\partial s^{2}} \\ge 0$ 和 $\\frac{\\partial^{2} d}{\\partial l^{2}} \\ge 0$。\n\n给定四个网格点上的角点延迟 $d(s_{0}, l_{0})$、$d(s_{1}, l_{0})$、$d(s_{0}, l_{1})$ 和 $d(s_{1}, l_{1})$，你必须仅使用这些角点值和沿各轴的可分离线性原理，构建对矩形内任意 $(s,l)$ 有效的双线性插值 $\\tilde{d}(s,l)$。\n\n从单轴上的一维线性插值的基本定义出发，并仅使用多元微积分中经过充分检验的结果（例如，带余项的泰勒定理），完成以下任务：\n\n1. 推导在 $[s_{0}, s_{1}] \\times [l_{0}, l_{1}]$ 上的显式双线性插值公式 $\\tilde{d}(s,l)$，用沿 $s$ 和 $l$ 轴的归一化重心权重以及四个角点值表示。\n\n2. 使用 $d(s,l)$ 在矩形上具有有界二阶偏导数的假设，其界为\n$$\n\\sup_{(s,l)} \\left| \\frac{\\partial^{2} d}{\\partial s^{2}}(s,l) \\right| \\le A, \n\\quad\n\\sup_{(s,l)} \\left| \\frac{\\partial^{2} d}{\\partial l^{2}}(s,l) \\right| \\le B,\n$$\n推导矩形上绝对插值误差 $\\left| d(s,l) - \\tilde{d}(s,l) \\right|$ 的一个一致上界，用 $A$、$B$、斜率跨度 $h := s_{1} - s_{0}$ 和负载跨度 $k := l_{1} - l_{0}$ 表示。\n\n3. 对于一个实际的先进工艺节点反相器，假设矩形为 $s \\in [10\\,\\mathrm{ps}, 30\\,\\mathrm{ps}]$ 和 $l \\in [5\\,\\mathrm{fF}, 25\\,\\mathrm{fF}]$，因此 $h = s_{1} - s_{0}$ 和 $k = l_{1} - l_{0}$ 由这些端点固定。假设特征化和凸性分析提供了曲率界\n$$\nA = 1.2 \\times 10^{-3}\\,\\mathrm{ps}^{-1}, \n\\qquad\nB = 1.6 \\times 10^{-4}\\,\\mathrm{ps}\\,\\mathrm{fF}^{-2}.\n$$\n计算在此整个矩形上你可以保证的绝对双线性插值误差的最小上界，以皮秒为单位表示。将你的最终答案四舍五入到四位有效数字，并以 $\\mathrm{ps}$ 为单位表示。",
            "solution": "该问题被判定为有效，因为它具有科学依据、是适定的、客观的、自洽的且一致的。该问题涉及应用于电子设计自动化中一个已被充分理解的问题的数值分析标准技术。我们按要求分三部分进行解答。\n\n### 第1部分：双线性插值的推导\n\n双线性插值的原理是沿每个轴分别应用一维线性插值。我们首先定义一维线性插值。对于区间 $[x_0, x_1]$ 上的函数 $f(x)$，其线性插值 $\\tilde{f}(x)$ 由下式给出：\n$$\n\\tilde{f}(x) = f(x_0) \\frac{x_1 - x}{x_1 - x_0} + f(x_1) \\frac{x - x_0}{x_1 - x_0}\n$$\n这可以用归一化坐标或重心权重来表示。令 $u = \\frac{x - x_0}{x_1 - x_0}$。那么 $1-u = \\frac{x_1 - x}{x_1 - x_0}$，对于 $x \\in [x_0, x_1]$，我们有 $u \\in [0, 1]$。公式变为：\n$$\n\\tilde{f}(u) = f(x_0) (1-u) + f(x_1)u\n$$\n为了构建延迟函数 $d(s,l)$ 在矩形 $[s_0, s_1] \\times [l_0, l_1]$ 上的双线性插值 $\\tilde{d}(s,l)$，我们迭代地应用此过程。\n\n首先，我们对固定的负载值 $l_0$ 和 $l_1$ 沿 $s$ 轴进行插值。令 $u = \\frac{s - s_0}{s_1 - s_0}$ 为沿 $s$ 轴的归一化坐标。\n沿矩形底边（其中 $l=l_0$）的插值延迟是：\n$$\n\\tilde{d}(s, l_0) = d(s_0, l_0) (1-u) + d(s_1, l_0) u\n$$\n沿矩形顶边（其中 $l=l_1$）的插值延迟是：\n$$\n\\tilde{d}(s, l_1) = d(s_0, l_1) (1-u) + d(s_1, l_1) u\n$$\n这两个表达式给出了双线性曲面在点 $(s, l_0)$ 和 $(s, l_1)$ 处的（精确，因为它们是插值）值。\n\n接下来，我们对任意 $s \\in [s_0, s_1]$ 沿 $l$ 轴进行插值。令 $v = \\frac{l - l_0}{l_1 - l_0}$ 为沿 $l$ 轴的归一化坐标。最终的插值 $\\tilde{d}(s,l)$ 是通过在值 $\\tilde{d}(s, l_0)$ 和 $\\tilde{d}(s, l_1)$ 之间进行线性插值得到的：\n$$\n\\tilde{d}(s, l) = \\tilde{d}(s, l_0) (1-v) + \\tilde{d}(s, l_1) v\n$$\n代入 $\\tilde{d}(s, l_0)$ 和 $\\tilde{d}(s, l_1)$ 的表达式：\n$$\n\\tilde{d}(s, l) = \\left[ d(s_0, l_0) (1-u) + d(s_1, l_0) u \\right] (1-v) + \\left[ d(s_0, l_1) (1-u) + d(s_1, l_1) u \\right] v\n$$\n展开此表达式，得到用四个角点值和归一化重心权重 $u$ 和 $v$ 表示的双线性插值公式：\n$$\n\\tilde{d}(s,l) = d(s_0, l_0) (1-u)(1-v) + d(s_1, l_0) u(1-v) + d(s_0, l_1) (1-u)v + d(s_1, l_1) uv\n$$\n这就是所要求的显式公式。归一化权重为 $u = \\frac{s - s_0}{s_1 - s_0}$ 和 $v = \\frac{l - l_0}{l_1 - l_0}$。\n\n### 第2部分：误差界的推导\n\n插值误差为 $E(s,l) = d(s,l) - \\tilde{d}(s,l)$。为了推导此误差的界，我们使用带余项的泰勒定理进行一维插值。在 $[x_0, x_1]$ 上对一个二阶可微函数 $f(x)$ 进行线性插值的误差由下式给出：\n$$\nf(x) - \\tilde{f}(x) = \\frac{1}{2} f''(\\xi) (x-x_0)(x-x_1) \\quad \\text{for some } \\xi \\in (x_0, x_1)\n$$\n我们为固定的 $l$ 定义一个误差函数，$g(s) = d(s,l) - \\tilde{d}(s,l)$。\n在 $s$ 区间的边界 $s=s_0$ 和 $s=s_1$ 处，误差不为零。在 $s=s_0$ 处，$\\tilde{d}(s_0,l)$ 是 $d(s_0,l_0)$ 和 $d(s_0,l_1)$ 的线性插值。因此，误差 $g(s_0)$ 是 $d(s_0, l)$ 关于 $l$ 的一维插值误差：\n$$\ng(s_0) = d(s_0, l) - \\tilde{d}(s_0, l) = \\frac{1}{2} \\frac{\\partial^2 d}{\\partial l^2}(s_0, \\eta_0) (l-l_0)(l-l_1) \\quad \\text{for some } \\eta_0 \\in (l_0, l_1)\n$$\n类似地，在 $s=s_1$ 处：\n$$\ng(s_1) = d(s_1, l) - \\tilde{d}(s_1, l) = \\frac{1}{2} \\frac{\\partial^2 d}{\\partial l^2}(s_1, \\eta_1) (l-l_0)(l-l_1) \\quad \\text{for some } \\eta_1 \\in (l_0, l_1)\n$$\n令 $\\hat{g}(s)$ 为对 $g(s_0)$ 和 $g(s_1)$ 进行插值的线性函数：\n$$\n\\hat{g}(s) = g(s_0) \\frac{s_1-s}{s_1-s_0} + g(s_1) \\frac{s-s_0}{s_1-s_0}\n$$\n总误差可以写为 $E(s,l) = g(s) = (g(s) - \\hat{g}(s)) + \\hat{g}(s)$。函数 $e(s) = g(s) - \\hat{g}(s)$ 在 $s=s_0$ 和 $s=s_1$ 处为零。因此，我们可以将一维误差公式应用于 $e(s)$：\n$$\ne(s) = \\frac{1}{2} e''(\\xi_s) (s-s_0)(s-s_1) \\quad \\text{for some } \\xi_s \\in (s_0, s_1)\n$$\n我们需要求 $e''(s) = g''(s) - \\hat{g}''(s)$。由于 $\\hat{g}(s)$ 是 $s$ 的线性函数，其二阶导数为零。对于固定的 $l$，双线性插值 $\\tilde{d}(s,l)$ 是 $s$ 的线性函数，所以 $\\frac{\\partial^2 \\tilde{d}}{\\partial s^2} = 0$。因此：\n$$\ng''(s) = \\frac{\\partial^2}{\\partial s^2} (d(s,l) - \\tilde{d}(s,l)) = \\frac{\\partial^2 d}{\\partial s^2}(s,l)\n$$\n因此，$e''(s) = \\frac{\\partial^2 d}{\\partial s^2}(s,l)$。这给出：\n$$\ne(s) = \\frac{1}{2} \\frac{\\partial^2 d}{\\partial s^2}(\\xi_s, l) (s-s_0)(s-s_1)\n$$\n总误差为 $E(s,l) = e(s) + \\hat{g}(s)$。代入各部分的表达式：\n$$\nE(s,l) = \\frac{1}{2} (s-s_0)(s-s_1) \\frac{\\partial^2 d}{\\partial s^2}(\\xi_s, l) + \\frac{1}{2} (l-l_0)(l-l_1) \\left[ \\frac{\\partial^2 d}{\\partial l^2}(s_0, \\eta_0) \\frac{s_1-s}{h} + \\frac{\\partial^2 d}{\\partial l^2}(s_1, \\eta_1) \\frac{s-s_0}{h} \\right]\n$$\n其中 $h=s_1-s_0$。为了找到 $|E(s,l)|$ 的一个一致上界，我们使用三角不等式并找到每一项的绝对值的最大值。\n项 $|(s-s_0)(s-s_1)|$ 在 $s = (s_0+s_1)/2$ 处取得最大值，其值为 $h^2/4$。\n项 $|(l-l_0)(l-l_1)|$ 在 $l = (l_0+l_1)/2$ 处取得最大值，其值为 $k^2/4$，其中 $k=l_1-l_0$。\n方括号中的项是两个 $\\frac{\\partial^2 d}{\\partial l^2}$ 值的凸组合。其绝对值由 $\\sup \\left| \\frac{\\partial^2 d}{\\partial l^2} \\right| = B$ 界定。\n应用这些界和给定的界 $A$ 和 $B$：\n$$\n|E(s,l)| \\le \\left| \\frac{1}{2} (s-s_0)(s-s_1) \\frac{\\partial^2 d}{\\partial s^2}(\\xi_s, l) \\right| + \\left| \\frac{1}{2} (l-l_0)(l-l_1) \\left[ \\dots \\right] \\right|\n$$\n$$\n|E(s,l)| \\le \\frac{1}{2} \\left(\\frac{h^2}{4}\\right) \\sup \\left|\\frac{\\partial^2 d}{\\partial s^2}\\right| + \\frac{1}{2} \\left(\\frac{k^2}{4}\\right) \\sup \\left|\\frac{\\partial^2 d}{\\partial l^2}\\right|\n$$\n因此，绝对插值误差的一致上界为：\n$$\n|d(s,l) - \\tilde{d}(s,l)| \\le \\frac{A h^2}{8} + \\frac{B k^2}{8}\n$$\n\n### 第3部分：数值计算\n\n我们有以下给定值：\n- 斜率区间: $[s_0, s_1] = [10\\,\\mathrm{ps}, 30\\,\\mathrm{ps}]$\n- 负载区间: $[l_0, l_1] = [5\\,\\mathrm{fF}, 25\\,\\mathrm{fF}]$\n- 曲率界: $A = 1.2 \\times 10^{-3}\\,\\mathrm{ps}^{-1}$ 和 $B = 1.6 \\times 10^{-4}\\,\\mathrm{ps}\\,\\mathrm{fF}^{-2}$。\n\n首先，我们计算跨度 $h$ 和 $k$：\n$$\nh = s_1 - s_0 = 30\\,\\mathrm{ps} - 10\\,\\mathrm{ps} = 20\\,\\mathrm{ps}\n$$\n$$\nk = l_1 - l_0 = 25\\,\\mathrm{fF} - 5\\,\\mathrm{fF} = 20\\,\\mathrm{fF}\n$$\n现在，我们将这些值代入第2部分推导出的误差界公式。总误差界，记为 $E_{max}$，是：\n$$\nE_{max} = \\frac{A h^2}{8} + \\frac{B k^2}{8}\n$$\n让我们分别计算每一项。\n来自斜率（$s$）轴的误差分量是：\n$$\nE_{s,max} = \\frac{A h^2}{8} = \\frac{(1.2 \\times 10^{-3}\\,\\mathrm{ps}^{-1}) (20\\,\\mathrm{ps})^2}{8} = \\frac{(1.2 \\times 10^{-3}) (400)}{8}\\,\\mathrm{ps} = \\frac{0.48}{8}\\,\\mathrm{ps} = 0.06\\,\\mathrm{ps}\n$$\n来自负载（$l$）轴的误差分量是：\n$$\nE_{l,max} = \\frac{B k^2}{8} = \\frac{(1.6 \\times 10^{-4}\\,\\mathrm{ps}\\,\\mathrm{fF}^{-2}) (20\\,\\mathrm{fF})^2}{8} = \\frac{(1.6 \\times 10^{-4}) (400)}{8}\\,\\mathrm{ps} = \\frac{0.064}{8}\\,\\mathrm{ps} = 0.008\\,\\mathrm{ps}\n$$\n总的、有保证的绝对误差最小上界是这两个分量的和：\n$$\nE_{max} = E_{s,max} + E_{l,max} = 0.06\\,\\mathrm{ps} + 0.008\\,\\mathrm{ps} = 0.068\\,\\mathrm{ps}\n$$\n问题要求答案四舍五入到四位有效数字。\n$$\n0.06800\\,\\mathrm{ps}\n$$",
            "answer": "$$\n\\boxed{0.06800}\n$$"
        },
        {
            "introduction": "在高速电路中，电源网络或封装中的寄生电感会导致信号过冲和振铃（ringing）。这些非单调波形为精确测量延迟和转换率等时序参数带来了巨大挑战。本问题将让您直面真实世界测量中的模糊性，通过分析一个具有显著振铃的案例，您将学会量化简单测量方法可能引入的巨大误差，并理解鲁棒测量标准的重要性。",
            "id": "4306265",
            "problem": "一个标准单元反相器正在一个库环境中进行时序、功耗和噪声的特性表征。输出负载包括一个片上电容和一个封装电感，这在输出节点上产生带有过冲和下冲的欠阻尼响应。电源为 $V_\\mathrm{DD}$。设输入为一个单调上升的翻转。在特性表征平台中，延迟和转换时间（slew）根据第一性原理定义如下：传播延迟是输入穿过 $50\\%$ 阈值的时间与输出穿过 $50\\%$ 阈值的时间之差，输出转换时间是输出穿过 $20\\%$ 阈值与输出穿过 $80\\%$ 阈值之间的时间差。在理想的单调输出中，这些穿越是唯一的。然而，当存在振铃时，$v_\\mathrm{out}(t)$ 可能多次穿过同一阈值，从而引起歧义。\n\n考虑某一次特性表征运行中上升输出测得的以下穿越时间，其中 $t_{p}^{(k)}$ 表示 $v_\\mathrm{out}(t)$ 第 $k$ 次穿过 $p\\cdot V_\\mathrm{DD}$ 阈值的时间，向上穿越由 $v_\\mathrm{out}(t)$ 增大表示，向下穿越由 $v_\\mathrm{out}(t)$ 减小表示：\n- 输入 $50\\%$ 穿越时间：$t_\\mathrm{in,50} = 10\\,\\mathrm{ps}$。\n- 输出 $20\\%$ 向上穿越：$t_{20}^{(1)} = 21\\,\\mathrm{ps}$；之后波形在 $40\\,\\mathrm{ps}$ 时振铃至 $20\\%$ 以下；随后波形保持在 $20\\%$ 以上的下一次向上穿越是 $t_{20}^{(2)} = 52\\,\\mathrm{ps}$。\n- 输出 $50\\%$ 穿越：$t_{50}^{(1)} = 28\\,\\mathrm{ps}$ (向上)；$t_{50}^{(2)} = 38\\,\\mathrm{ps}$ (向下)；$t_{50}^{(3)} = 55\\,\\mathrm{ps}$ (向上)，此后 $v_\\mathrm{out}(t)$ 保持在 $50\\%$ 以上。\n- 输出 $80\\%$ 向上穿越：$t_{80}^{(1)} = 30\\,\\mathrm{ps}$；之后波形在 $45\\,\\mathrm{ps}$ 时振铃至 $80\\%$ 以下；随后波形保持在 $80\\%$ 以上的下一次向上穿越是 $t_{80}^{(2)} = 58\\,\\mathrm{ps}$。\n\n假设一个朴素的测量算法取每个阈值处的最早穿越时间，即使用 $t_{50}^{(1)}$ 计算延迟，使用 $(t_{80}^{(1)} - t_{20}^{(1)})$ 计算转换时间。相反，一个鲁棒的测量必须避免由振铃相关的瞬态穿越所引起的歧义。从上述基本定义以及“逻辑是由持续的电压水平而非瞬态偏移定义的”这一物理现实出发，分析朴素算法相对于一个确保最终逻辑状态被实际达到并保持的鲁棒标准所引入的误差。然后，确定选项中的哪个提议既对该数据集提供了正确的量化误差评估，又提供了一个有原则、可实现的定义，以解决存在过冲和下冲时的歧义。\n\n选择正确的选项。\n\nA. 朴素算法将延迟低估了 $27\\,\\mathrm{ps}$，并将 $20\\text{–}80\\%$ 转换时间高估了 $3\\,\\mathrm{ps}$。一个鲁棒的方法是使用基于持续性的首次通过准则：将阈值处的穿越时间定义为 $v_\\mathrm{out}(t)$ 进入目标逻辑区域并且在至少一个保持时间 $\\tau_\\mathrm{hold}$ 内不再重新穿越的最早时间，并从持续的 $20\\%$ 和 $80\\%$ 穿越点计算转换时间。\n\nB. 朴素算法将延迟低估了 $10\\,\\mathrm{ps}$，并将 $20\\text{–}80\\%$ 转换时间低估了 $3\\,\\mathrm{ps}$。一个鲁棒的方法是使用具有最大斜率幅值 $\\left|\\mathrm{d}v_\\mathrm{out}/\\mathrm{d}t\\right|$ 的穿越点来定义延迟，并将转换时间定义为 $50\\%$ 处 $\\left|\\mathrm{d}v_\\mathrm{out}/\\mathrm{d}t\\right|$ 的倒数。\n\nC. 朴素算法不产生延迟误差，并将 $20\\text{–}80\\%$ 转换时间高估了 $9\\,\\mathrm{ps}$。一个鲁棒的方法是对每个阈值的所有穿越时间取平均值，以消除振铃效应。\n\nD. 朴素算法将延迟低估了 $27\\,\\mathrm{ps}$，并将 $20\\text{–}80\\%$ 转换时间低估了 $9\\,\\mathrm{ps}$。一个鲁棒的方法是用截止频率 $f_c=\\omega_d/(2\\pi)$ 对 $v_\\mathrm{out}(t)$ 进行低通滤波，其中 $\\omega_d$ 是阻尼固有频率，然后在滤波后的波形上测量阈值。",
            "solution": "在进行求解之前，需要对问题陈述进行验证。\n\n### 步骤1：提取已知条件\n- **系统：** 一个标准单元反相器，由于片上电容和封装电感而具有欠阻尼输出响应。\n- **电源电压：** $V_\\mathrm{DD}$。\n- **输入：** 一个单调上升的翻转。\n- **输入穿越时间：** 输入在 $t_\\mathrm{in,50} = 10\\,\\mathrm{ps}$ 时穿过 $50\\%$ 阈值 ($0.5 V_\\mathrm{DD}$)。\n- **输出波形穿越时间：** $t_{p}^{(k)}$ 是第 $k$ 次穿过 $p \\cdot V_\\mathrm{DD}$ 阈值的时间。\n    - 输出 $20\\%$ 穿越：第一次向上穿越是 $t_{20}^{(1)} = 21\\,\\mathrm{ps}$。此后 $v_\\mathrm{out}(t)$ 保持在 $20\\% \\cdot V_\\mathrm{DD}$ 以上的最终向上穿越是 $t_{20}^{(2)} = 52\\,\\mathrm{ps}$。\n    - 输出 $50\\%$ 穿越：$t_{50}^{(1)} = 28\\,\\mathrm{ps}$ (向上)，$t_{50}^{(2)} = 38\\,\\mathrm{ps}$ (向下)，以及 $t_{50}^{(3)} = 55\\,\\mathrm{ps}$ (向上)。在 $t_{50}^{(3)}$ 之后，$v_\\mathrm{out}(t)$ 保持在 $50\\% \\cdot V_\\mathrm{DD}$ 以上。\n    - 输出 $80\\%$ 穿越：第一次向上穿越是 $t_{80}^{(1)} = 30\\,\\mathrm{ps}$。此后 $v_\\mathrm{out}(t)$ 保持在 $80\\% \\cdot V_\\mathrm{DD}$ 以上的最终向上穿越是 $t_{80}^{(2)} = 58\\,\\mathrm{ps}$。\n- **传播延迟的定义：** 从输入 $50\\%$ 穿越到输出 $50\\%$ 穿越的时间。\n- **输出转换时间的定义：** 从输出 $20\\%$ 穿越到输出 $80\\%$ 穿越的时间。\n- **朴素算法：** 对每个阈值使用最早的穿越时间。\n- **鲁棒准则：** 必须基于“逻辑状态是由持续的电压水平而不是瞬态偏移定义的”这一物理现实。\n\n### 步骤2：使用提取的已知条件进行验证\n- **科学依据：** 问题描述了一个高速数字电路中现实且常见的信号完整性问题，即输出驱动器由于寄生电感和电容（形成一个RLC电路）而产生的振铃。传播延迟、转换时间（slew）的概念，以及在非单调波形上测量它们的挑战，是电子设计自动化（EDA）的库特性表征中的基本课题。其原理是合理的。\n- **良态的：** 所有必要的数据点（穿越时间）都已提供，可以根据“朴素”和“鲁棒”两种解释来计算延迟和转换时间。术语“鲁棒”被“持续的电压水平”原则充分约束，这明确地指向使用数据中提供的最终穿越时间。可以推导出唯一解。\n- **客观性：** 问题使用了集成电路设计领域的精确、标准术语进行陈述。所提供的数据是定量的和客观的。\n- **缺陷清单：**\n    1.  科学/事实不健全：无。\n    2.  不可形式化/不相关：问题与其所述领域高度相关。\n    3.  不完整/矛盾的设置：初始上升沿 ($t_{20}^{(1)}  t_{50}^{(1)}  t_{80}^{(1)}$) 和最终稳定沿 ($t_{20}^{(2)}  t_{50}^{(3)}  t_{80}^{(2)}$) 的穿越时间序列在时间上与物理波形一致。没有矛盾。\n    4.  不切实际/不可行：皮秒级的时间对于现代CMOS技术是现实的。\n    5.  病态/结构不良：问题结构良好，定义了核心的歧义，并要求基于一个陈述的物理原则来解决它。\n    6.  伪深刻/琐碎：问题不琐碎，需要仔细计算并理解时序测量背后的工程原理。\n\n### 步骤3：结论与行动\n问题陈述是**有效的**。将推导解答。\n\n### 推导\n\n问题要求在朴素测量和鲁棒测量之间进行比较。我们将计算两种情况下的传播延迟和输出转换时间，然后找出误差。\n\n**1. 朴素算法计算**\n朴素算法对每个电压阈值使用最早的穿越时间。\n\n- **朴素传播延迟 ($\\tau_{pd,\\text{naive}}$):**\n  输入在 $t_\\mathrm{in,50} = 10\\,\\mathrm{ps}$ 时穿过 $50\\%$。\n  最早的输出 $50\\%$ 穿越是 $t_{50}^{(1)} = 28\\,\\mathrm{ps}$。\n  $$ \\tau_{pd,\\text{naive}} = t_{50}^{(1)} - t_\\mathrm{in,50} = 28\\,\\mathrm{ps} - 10\\,\\mathrm{ps} = 18\\,\\mathrm{ps} $$\n\n- **朴素输出转换时间 ($\\tau_{slew,\\text{naive}}$):**\n  最早的输出 $20\\%$ 穿越是 $t_{20}^{(1)} = 21\\,\\mathrm{ps}$。\n  最早的输出 $80\\%$ 穿越是 $t_{80}^{(1)} = 30\\,\\mathrm{ps}$。\n  转换时间是为 $20\\%\\text{–}80\\%$ 区间定义的。\n  $$ \\tau_{slew,\\text{naive}} = t_{80}^{(1)} - t_{20}^{(1)} = 30\\,\\mathrm{ps} - 21\\,\\mathrm{ps} = 9\\,\\mathrm{ps} $$\n\n**2. 鲁棒算法计算**\n鲁棒的测量必须反映输出达到稳定、最终逻辑状态的时间。这意味着我们必须使用每个阈值的最后一次穿越时间，此后电压不再反向穿过该阈值。问题明确提供了这些时间。\n\n- **鲁棒传播延迟 ($\\tau_{pd,\\text{robust}}$):**\n  输入在 $t_\\mathrm{in,50} = 10\\,\\mathrm{ps}$ 时穿过 $50\\%$。\n  此后 $v_\\mathrm{out}(t)$ 保持在 $50\\%$ 以上的最终向上 $50\\%$ 穿越是 $t_{50}^{(3)} = 55\\,\\mathrm{ps}$。\n  $$ \\tau_{pd,\\text{robust}} = t_{50}^{(3)} - t_\\mathrm{in,50} = 55\\,\\mathrm{ps} - 10\\,\\mathrm{ps} = 45\\,\\mathrm{ps} $$\n\n- **鲁棒输出转换时间 ($\\tau_{slew,\\text{robust}}$):**\n  最终的向上 $20\\%$ 穿越是 $t_{20}^{(2)} = 52\\,\\mathrm{ps}$。\n  最终的向上 $80\\%$ 穿越是 $t_{80}^{(2)} = 58\\,\\mathrm{ps}$。\n  $$ \\tau_{slew,\\text{robust}} = t_{80}^{(2)} - t_{20}^{(2)} = 58\\,\\mathrm{ps} - 52\\,\\mathrm{ps} = 6\\,\\mathrm{ps} $$\n\n**3. 误差评估**\n误差是鲁棒（正确）值与朴素（错误）值之间的差值。正误差表示朴素算法低估了该值，而负误差表示高估了该值。\n\n- **延迟误差：**\n  $$ \\text{Error}_{pd} = \\tau_{pd,\\text{robust}} - \\tau_{pd,\\text{naive}} = 45\\,\\mathrm{ps} - 18\\,\\mathrm{ps} = 27\\,\\mathrm{ps} $$\n  由于误差为正，朴素算法将延迟**低估**了 $27\\,\\mathrm{ps}$。\n\n- **转换时间误差：**\n  $$ \\text{Error}_{slew} = \\tau_{slew,\\text{robust}} - \\tau_{slew,\\text{naive}} = 6\\,\\mathrm{ps} - 9\\,\\mathrm{ps} = -3\\,\\mathrm{ps} $$\n  由于误差为负，朴素算法将转换时间**高估**了 $3\\,\\mathrm{ps}$。\n\n### 逐项分析选项\n\n现在我们根据计算出的误差和所提出的鲁棒方法的有效性来评估每个选项。\n\n**A. 朴素算法将延迟低估了 $27\\,\\mathrm{ps}$，并将 $20\\text{–}80\\%$ 转换时间高估了 $3\\,\\mathrm{ps}$。一个鲁棒的方法是使用基于持续性的首次通过准则：将阈值处的穿越时间定义为 $v_\\mathrm{out}(t)$ 进入目标逻辑区域并且在至少一个保持时间 $\\tau_\\mathrm{hold}$ 内不再重新穿越的最早时间，并从持续的 $20\\%$ 和 $80\\%$ 穿越点计算转换时间。**\n- **量化评估：** 延迟误差（低估 $27\\,\\mathrm{ps}$）和转换时间误差（高估 $3\\,\\mathrm{ps}$）与我们的计算完全匹配。\n- **鲁棒方法提议：** “基于持续性的首次通过准则”是一种形式化的、有原则的方法，直接解决了振铃问题。它确保信号在最小持续时间（$\\tau_\\mathrm{hold}$）内是稳定的，这是达到有效逻辑状态的本质。我们用于计算的“最后穿越”法是该准则的一个特例，其中假定 $\\tau_\\mathrm{hold}$ 比剩余的仿真窗口更长。这个提议是合理的、可实现的，并且是标准的工业实践。\n- **结论：** **正确**。\n\n**B. 朴素算法将延迟低估了 $10\\,\\mathrm{ps}$，并将 $20\\text{–}80\\%$ 转换时间低估了 $3\\,\\mathrm{ps}$。一个鲁棒的方法是使用具有最大斜率幅值 $\\left|\\mathrm{d}v_\\mathrm{out}/\\mathrm{d}t\\right|$ 的穿越点来定义延迟，并将转换时间定义为 $50\\%$ 处 $\\left|\\mathrm{d}v_\\mathrm{out}/\\mathrm{d}t\\right|$ 的倒数。**\n- **量化评估：** 延迟误差被陈述为 $10\\,\\mathrm{ps}$，这是不正确的（应为 $27\\,\\mathrm{ps}$）。转换时间误差被陈述为低估了 $3\\,\\mathrm{ps}$，这也是不正确的（实际上是高估了 $3\\,\\mathrm{ps}$）。\n- **鲁棒方法提议：** 使用最大斜率的穿越点通常对应于初始、最快的翻转，对于典型的振铃波形，这实际上是在重复朴素的测量。更重要的是，基于单点（$50\\%$）斜率重新定义转换时间与问题中将转换时间明确定义为两个阈值（$20\\%\\text{–}80\\%$）之间的时间间隔相矛盾。这个提议与问题设置不一致。\n- **结论：** **不正确**。\n\n**C. 朴素算法不产生延迟误差，并将 $20\\text{–}80\\%$ 转换时间高估了 $9\\,\\mathrm{ps}$。一个鲁棒的方法是对每个阈值的所有穿越时间取平均值，以消除振铃效应。**\n- **量化评估：** 声称“无延迟误差”是错误的（存在 $27\\,\\mathrm{ps}$ 的误差）。转换时间误差被陈述为高估了 $9\\,\\mathrm{ps}$，这也是错误的（应为 $3\\,\\mathrm{ps}$）。\n- **鲁棒方法提议：** 对向上和向下穿越时间取平均值缺乏任何物理基础。一次向下穿越代表未能维持高逻辑状态，将其与一次向上穿越取平均值产生的时间，在数字逻辑切换中不对应任何具有物理意义的特定事件。\n- **结论：** **不正确**。\n\n**D. 朴素算法将延迟低估了 $27\\,\\mathrm{ps}$，并将 $20\\text{–}80\\%$ 转换时间低估了 $9\\,\\mathrm{ps}$。一个鲁棒的方法是用截止频率 $f_c=\\omega_d/(2\\pi)$ 对 $v_\\mathrm{out}(t)$ 进行低通滤波，其中 $\\omega_d$ 是阻尼固有频率，然后在滤波后的波形上测量阈值。**\n- **量化评估：** 延迟误差（低估 $27\\,\\mathrm{ps}$）是正确的。然而，转换时间误差被陈述为低估了 $9\\,\\mathrm{ps}$，这在数值和符号上都是错误的（实际上是高估了 $3\\,\\mathrm{ps}$）。\n- **鲁棒方法提议：** 对波形进行低通滤波以去除高频振铃分量是一种有效且有物理动机的工程方法。在得到的单调波形上测量阈值将解决歧义。这个提议的方法是有原则且可实现的。然而，该选项失败了，因为其对转换时间误差的量化评估是错误的。\n- **结论：** **不正确**。\n\n基于分析，只有选项A同时提供了正确的量化误差评估和对鲁棒测量的有效、有原则的定义。",
            "answer": "$$\\boxed{A}$$"
        }
    ]
}