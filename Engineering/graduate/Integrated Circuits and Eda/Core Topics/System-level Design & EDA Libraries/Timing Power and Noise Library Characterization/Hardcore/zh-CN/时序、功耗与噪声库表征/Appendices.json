{
    "hands_on_practices": [
        {
            "introduction": "在理想的数字世界中，信号是清晰且单调的。然而，现实世界中的电路会表现出非理想行为，如振铃和过冲，这可能导致时序测量的模糊性。此练习  旨在挑战您分析一个非单调波形，并理解为何一个基于“持续逻辑电平”原则的稳健测量标准，对于创建可靠的时序库至关重要。",
            "id": "4306265",
            "problem": "一个标准单元反相器正在库环境中进行时序、功耗和噪声的表征。输出负载由一个片上电容和一个封装电感组成，在输出节点产生带有过冲和下冲的欠阻尼响应。电源电压为 $V_\\mathrm{DD}$。设输入为一个单调上升跃变。在表征平台中，延迟和转换时间根据基本原理定义如下：传播延迟是输入穿过 $50\\%$ 阈值的时间与输出穿过 $50\\%$ 阈值的时间之差，而输出转换时间是输出穿过 $20\\%$ 阈值与穿过 $80\\%$ 阈值的时间差。在理想的单调输出中，这些交叉点是唯一的。然而，由于振铃的存在，$v_\\mathrm{out}(t)$ 可能会多次穿过同一阈值，从而引起歧义。\n\n考虑在一次表征运行中，上升输出所测得的以下交叉时间，其中$t_{p}^{(k)}$表示 $v_\\mathrm{out}(t)$ 第 $k$ 次穿过 $p\\cdot V_\\mathrm{DD}$ 阈值的时间，向上交叉表示 $v_\\mathrm{out}(t)$ 增加，向下交叉表示 $v_\\mathrm{out}(t)$ 减小：\n- 输入 $50\\%$ 交叉时间：$t_\\mathrm{in,50} = 10\\,\\mathrm{ps}$。\n- 输出 $20\\%$ 向上交叉：$t_{20}^{(1)} = 21\\,\\mathrm{ps}$；之后波形在 $40\\,\\mathrm{ps}$ 时振铃下降到 $20\\%$ 以下；下一次向上交叉之后波形保持在 $20\\%$ 以上的时间点是 $t_{20}^{(2)} = 52\\,\\mathrm{ps}$。\n- 输出 $50\\%$ 交叉：$t_{50}^{(1)} = 28\\,\\mathrm{ps}$ (向上)；$t_{50}^{(2)} = 38\\,\\mathrm{ps}$ (向下)；$t_{50}^{(3)} = 55\\,\\mathrm{ps}$ (向上)，此后 $v_\\mathrm{out}(t)$ 保持在 $50\\%$ 以上。\n- 输出 $80\\%$ 向上交叉：$t_{80}^{(1)} = 30\\,\\mathrm{ps}$；之后波形在 $45\\,\\mathrm{ps}$ 时振铃下降到 $80\\%$ 以下；下一次向上交叉之后波形保持在 $80\\%$ 以上的时间点是 $t_{80}^{(2)} = 58\\,\\mathrm{ps}$。\n\n假设一种朴素的测量算法对每个阈值都采用最早的交叉点，即使用 $t_{50}^{(1)}$ 计算延迟，使用 $(t_{80}^{(1)} - t_{20}^{(1)})$ 计算转换时间。相比之下，鲁棒的测量必须避免由振铃引起的瞬态交叉所导致的歧义。请从上述基本定义和“逻辑是由持续的电压水平而非瞬态偏移定义的”这一物理现实出发，分析朴素算法相对于确保最终逻辑状态确实达到并保持的鲁棒准则所引入的误差。然后，在选项中确定哪一个提案既对该数据集提供了正确的定量误差评估，又提供了一个有原则的、可实现的定义，以解决存在过冲和下冲时的歧义。\n\n选择正确的选项。\n\nA. 朴素算法低估了延迟 $27\\,\\mathrm{ps}$，并高估了 $20\\text{–}80\\%$ 转换时间 $3\\,\\mathrm{ps}$。一种鲁棒的方法是使用基于持续性的首次通过准则：将在某一阈值处的交叉时间定义为 $v_\\mathrm{out}(t)$ 进入目标逻辑区域且在至少一个保持时间 $\\tau_\\mathrm{hold}$ 内不再重新交叉的最早时间，并根据持续性的 $20\\%$ 和 $80\\%$ 交叉点计算转换时间。\n\nB. 朴素算法低估了延迟 $10\\,\\mathrm{ps}$，并低估了 $20\\text{–}80\\%$ 转换时间 $3\\,\\mathrm{ps}$。一种鲁棒的方法是使用具有最大斜率绝对值 $\\left|\\mathrm{d}v_\\mathrm{out}/\\mathrm{d}t\\right|$ 的交叉点来定义延迟，并将转换时间定义为 $50\\%$ 处 $\\left|\\mathrm{d}v_\\mathrm{out}/\\mathrm{d}t\\right|$ 的倒数。\n\nC. 朴素算法不产生延迟误差，并高估了 $20\\text{–}80\\%$ 转换时间 $9\\,\\mathrm{ps}$。一种鲁棒的方法是平均每个阈值的所有交叉时间，以消除振铃效应。\n\nD. 朴素算法低估了延迟 $27\\,\\mathrm{ps}$，并低估了 $20\\text{–}80\\%$ 转换时间 $9\\,\\mathrm{ps}$。一种鲁棒的方法是用截止频率为 $f_c=\\omega_d/(2\\pi)$ 的低通滤波器对 $v_\\mathrm{out}(t)$ 进行滤波，其中 $\\omega_d$ 是阻尼固有频率，然后在滤波后的波形上测量阈值。",
            "solution": "在进行求解之前，需对问题陈述进行验证。\n\n### 第1步：提取已知条件\n- **系统：** 一个标准单元反相器，由于片上电容和封装电感，其输出呈欠阻尼响应。\n- **电源电压：** $V_\\mathrm{DD}$。\n- **输入：** 一个单调上升跃变。\n- **输入交叉时间：** 输入在 $t_\\mathrm{in,50} = 10\\,\\mathrm{ps}$ 时穿过 $50\\%$ 阈值 ($0.5 V_\\mathrm{DD}$)。\n- **输出波形交叉时间：** $t_{p}^{(k)}$ 是第 $k$ 次穿过 $p \\cdot V_\\mathrm{DD}$ 阈值的时间。\n    - 输出 $20\\%$ 交叉：第一次向上交叉是 $t_{20}^{(1)} = 21\\,\\mathrm{ps}$。在最终向上交叉之后，$v_\\mathrm{out}(t)$ 保持在 $20\\% \\cdot V_\\mathrm{DD}$ 以上的时间点是 $t_{20}^{(2)} = 52\\,\\mathrm{ps}$。\n    - 输出 $50\\%$ 交叉：$t_{50}^{(1)} = 28\\,\\mathrm{ps}$ (向上)，$t_{50}^{(2)} = 38\\,\\mathrm{ps}$ (向下)，以及 $t_{50}^{(3)} = 55\\,\\mathrm{ps}$ (向上)。在 $t_{50}^{(3)}$ 之后，$v_\\mathrm{out}(t)$ 保持在 $50\\% \\cdot V_\\mathrm{DD}$ 以上。\n    - 输出 $80\\%$ 交叉：第一次向上交叉是 $t_{80}^{(1)} = 30\\,\\mathrm{ps}$。在最终向上交叉之后，$v_\\mathrm{out}(t)$ 保持在 $80\\% \\cdot V_\\mathrm{DD}$ 以上的时间点是 $t_{80}^{(2)} = 58\\,\\mathrm{ps}$。\n- **传播延迟的定义：** 从输入 $50\\%$ 交叉到输出 $50\\%$ 交叉的时间。\n- **输出转换时间的定义：** 从输出 $20\\%$ 交叉到输出 $80\\%$ 交叉的时间。\n- **朴素算法：** 对每个阈值使用最早的交叉时间。\n- **鲁棒准则：** 必须基于“逻辑状态是由持续的电压水平而非瞬态偏移定义的”这一物理现实。\n\n### 第2步：使用提取的已知条件进行验证\n- **科学基础：** 该问题描述了高速数字电路中一个现实且常见的信号完整性问题，即输出驱动器由于寄生电感和电容（形成一个RLC电路）而产生的振铃。传播延迟、转换速率的概念，以及在非单调波形上测量它们的挑战，是电子设计自动化(EDA)库表征中的基本课题。其原理是合理的。\n- **提法恰当：** 所有必要的数据点（交叉时间）都已提供，足以根据“朴素”和“鲁棒”两种解释来计算延迟和转换时间。“鲁棒”一词被“持续的电压水平”这一原则充分约束，该原则明确地指向使用数据中提供的最终交叉时间。可以推导出唯一的解。\n- **客观性：** 问题使用了集成电路设计领域的精确、标准术语进行陈述。所提供的数据是定量的和客观的。\n- **缺陷清单：**\n    1.  科学/事实不准确：无。\n    2.  不可形式化/不相关：问题与其所述领域高度相关。\n    3.  设置不完整/矛盾：初始上升沿 ($t_{20}^{(1)}  t_{50}^{(1)}  t_{80}^{(1)}$) 和最终稳定沿 ($t_{20}^{(2)}  t_{50}^{(3)}  t_{80}^{(2)}$) 的交叉时间序列与物理波形在时间上是一致的。没有矛盾。\n    4.  不切实际/不可行：皮秒级的时间对于现代CMOS技术是现实的。\n    5.  提法不当/结构不良：问题结构良好，定义了核心的歧义，并要求基于一个陈述的物理原理来解决它。\n    6.  伪深刻/琐碎：问题并非琐碎，需要仔细计算并理解时序测量背后的工程原理。\n\n### 第3步：结论与行动\n问题陈述是**有效的**。将推导解答。\n\n### 推导过程\n\n问题要求比较朴素测量和鲁棒测量。我们将计算两种情况下的传播延迟和输出转换时间，然后找出误差。\n\n**1. 朴素算法计算**\n朴素算法对每个电压阈值使用最早的交叉时间。\n\n- **朴素传播延迟 ($\\tau_{pd,\\text{naive}}$):**\n  输入在 $t_\\mathrm{in,50} = 10\\,\\mathrm{ps}$ 时穿过 $50\\%$。\n  最早的输出 $50\\%$ 交叉点是 $t_{50}^{(1)} = 28\\,\\mathrm{ps}$。\n  $$ \\tau_{pd,\\text{naive}} = t_{50}^{(1)} - t_\\mathrm{in,50} = 28\\,\\mathrm{ps} - 10\\,\\mathrm{ps} = 18\\,\\mathrm{ps} $$\n\n- **朴素输出转换时间 ($\\tau_{slew,\\text{naive}}$):**\n  最早的输出 $20\\%$ 交叉点是 $t_{20}^{(1)} = 21\\,\\mathrm{ps}$。\n  最早的输出 $80\\%$ 交叉点是 $t_{80}^{(1)} = 30\\,\\mathrm{ps}$。\n  转换时间是为 $20\\%\\text{–}80\\%$ 区间定义的。\n  $$ \\tau_{slew,\\text{naive}} = t_{80}^{(1)} - t_{20}^{(1)} = 30\\,\\mathrm{ps} - 21\\,\\mathrm{ps} = 9\\,\\mathrm{ps} $$\n\n**2. 鲁棒算法计算**\n鲁棒的测量必须反映输出达到稳定、最终逻辑状态的时间。这意味着我们必须使用每个阈值的最后一次交叉时间，在此之后电压不会再次反向穿过该阈值。问题明确提供了这些时间。\n\n- **鲁棒传播延迟 ($\\tau_{pd,\\text{robust}}$):**\n  输入在 $t_\\mathrm{in,50} = 10\\,\\mathrm{ps}$ 时穿过 $50\\%$。\n  最终的向上 $50\\%$ 交叉点，此后 $v_\\mathrm{out}(t)$ 保持在 $50\\%$ 以上，是 $t_{50}^{(3)} = 55\\,\\mathrm{ps}$。\n  $$ \\tau_{pd,\\text{robust}} = t_{50}^{(3)} - t_\\mathrm{in,50} = 55\\,\\mathrm{ps} - 10\\,\\mathrm{ps} = 45\\,\\mathrm{ps} $$\n\n- **鲁棒输出转换时间 ($\\tau_{slew,\\text{robust}}$):**\n  最终的向上 $20\\%$ 交叉点是 $t_{20}^{(2)} = 52\\,\\mathrm{ps}$。\n  最终的向上 $80\\%$ 交叉点是 $t_{80}^{(2)} = 58\\,\\mathrm{ps}$。\n  $$ \\tau_{slew,\\text{robust}} = t_{80}^{(2)} - t_{20}^{(2)} = 58\\,\\mathrm{ps} - 52\\,\\mathrm{ps} = 6\\,\\mathrm{ps} $$\n\n**3. 误差评估**\n误差是鲁棒（正确）值与朴素（错误）值之间的差值。正误差表示朴素算法低估了该值，而负误差表示高估了该值。\n\n- **延迟误差：**\n  $$ \\text{Error}_{pd} = \\tau_{pd,\\text{robust}} - \\tau_{pd,\\text{naive}} = 45\\,\\mathrm{ps} - 18\\,\\mathrm{ps} = 27\\,\\mathrm{ps} $$\n  由于误差为正，朴素算法**低估**了延迟 $27\\,\\mathrm{ps}$。\n\n- **转换时间误差：**\n  $$ \\text{Error}_{slew} = \\tau_{slew,\\text{robust}} - \\tau_{slew,\\text{naive}} = 6\\,\\mathrm{ps} - 9\\,\\mathrm{ps} = -3\\,\\mathrm{ps} $$\n  由于误差为负，朴素算法**高估**了转换时间 $3\\,\\mathrm{ps}$。\n\n### 逐项分析选项\n\n现在我们根据计算出的误差和所提出的鲁棒方法的有效性来评估每个选项。\n\n**A. 朴素算法低估了延迟 $27\\,\\mathrm{ps}$，并高估了 $20\\text{–}80\\%$ 转换时间 $3\\,\\mathrm{ps}$。一种鲁棒的方法是使用基于持续性的首次通过准则：将在某一阈值处的交叉时间定义为 $v_\\mathrm{out}(t)$ 进入目标逻辑区域且在至少一个保持时间 $\\tau_\\mathrm{hold}$ 内不再重新交叉的最早时间，并根据持续性的 $20\\%$ 和 $80\\%$ 交叉点计算转换时间。**\n- **定量评估：** 延迟误差（低估 $27\\,\\mathrm{ps}$）和转换时间误差（高估 $3\\,\\mathrm{ps}$）与我们的计算完全匹配。\n- **鲁棒方法提议：** “基于持续性的首次通过准则”是一种形式化且有原则的方法，直接解决了振铃问题。它确保信号在最小持续时间（$\\tau_\\mathrm{hold}$）内保持稳定，这是达到有效逻辑状态的本质。我们用于计算的“最后交叉点”法是该准则的一个特例，其中假定 $\\tau_\\mathrm{hold}$ 比剩余的仿真窗口更长。这个提议是合理的、可实现的，并且是标准的行业实践。\n- **结论：** **正确**。\n\n**B. 朴素算法低估了延迟 $10\\,\\mathrm{ps}$，并低估了 $20\\text{–}80\\%$ 转换时间 $3\\,\\mathrm{ps}$。一种鲁棒的方法是使用具有最大斜率绝对值 $\\left|\\mathrm{d}v_\\mathrm{out}/\\mathrm{d}t\\right|$ 的交叉点来定义延迟，并将转换时间定义为 $50\\%$ 处 $\\left|\\mathrm{d}v_\\mathrm{out}/\\mathrm{d}t\\right|$ 的倒数。**\n- **定量评估：** 延迟误差被陈述为 $10\\,\\mathrm{ps}$，这是不正确的（应为 $27\\,\\mathrm{ps}$）。转换时间误差被陈述为低估了 $3\\,\\mathrm{ps}$，这也是不正确的（应为高估了 $3\\,\\mathrm{ps}$）。\n- **鲁棒方法提议：** 使用最大斜率的交叉点通常对应于初始最快的跃变，对于典型的振铃波形，这实际上是重复了朴素测量的结果。更重要的是，基于单个点（$50\\%$）的斜率来重新定义转换时间，与问题中将转换时间明确定义为两个阈值（$20\\%\\text{–}80\\%$）之间的时间间隔相矛盾。该提议与问题设置不一致。\n- **结论：** **不正确**。\n\n**C. 朴素算法不产生延迟误差，并高估了 $20\\text{–}80\\%$ 转换时间 $9\\,\\mathrm{ps}$。一种鲁棒的方法是平均每个阈值的所有交叉时间，以消除振铃效应。**\n- **定量评估：** 陈述“无延迟误差”是错误的（存在 $27\\,\\mathrm{ps}$ 的误差）。转换时间误差被陈述为高估了 $9\\,\\mathrm{ps}$，这也是错误的（应为 $3\\,\\mathrm{ps}$）。\n- **鲁棒方法提议：** 平均向上和向下的交叉时间缺乏任何物理基础。向下的交叉代表未能维持高逻辑状态，将其与向上的交叉平均会产生一个在数字逻辑切换中不对应任何具有物理意义的特定事件的时间点。\n- **结论：** **不正确**。\n\n**D. 朴素算法低估了延迟 $27\\,\\mathrm{ps}$，并低估了 $20\\text{–}80\\%$ 转换时间 $9\\,\\mathrm{ps}$。一种鲁棒的方法是用截止频率为 $f_c=\\omega_d/(2\\pi)$ 的低通滤波器对 $v_\\mathrm{out}(t)$ 进行滤波，其中 $\\omega_d$ 是阻尼固有频率，然后在滤波后的波形上测量阈值。**\n- **定量评估：** 延迟误差（低估 $27\\,\\mathrm{ps}$）是正确的。然而，转换时间误差被陈述为低估了 $9\\,\\mathrm{ps}$，这在数值和符号上都是错误的（应为高估了 $3\\,\\mathrm{ps}$）。\n- **鲁棒方法提议：** 对波形进行低通滤波以去除高频振铃分量是一种有效且有物理动机的工程方法。在得到的单调波形上测量阈值可以解决歧义。这个提议的方法是有原则且可实现的。然而，该选项是错误的，因为它对转换时间误差的定量评估是错误的。\n- **结论：** **不正确**。\n\n根据分析，只有选项 A 同时提供了正确的定量误差评估和对鲁棒测量的有效、有原则的定义。",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "除了时序，功耗是EDA库中记录的另一个关键指标。本练习  提供了一个直接的实践机会，以连接物理仿真输出（电源电流波形）与抽象的库条目。通过对开关事件期间的动态功率进行积分，您将计算出一个 `rise_power` 值，从而加深对动态能耗基本定义的理解。",
            "id": "4306303",
            "problem": "考虑一个采用互补金属氧化物半导体 (CMOS) 技术实现的两输入与非门 ($\\text{NAND2}$)，其特性被表征以用于遵循 Synopsys Liberty 库文件格式的电子设计自动化 (EDA) 库。该单元在恒定电源电压 $V_{\\text{DD}} = 0.80$ V 下供电。库中声明 $\\text{power\\_unit} = \\text{\"micro-watt\"}$ 且 $\\text{time\\_unit} = \\text{\"nanosecond\"}$，因此能量值必须以 $\\text{micro-watt}\\cdot\\text{nanosecond}$ (微瓦·纳秒) 表示。\n\n针对输入引脚 $A$ 的内部功耗，在单事件激励下进行了一次表征实验，其中输入 $A$ 以 $20$ ps 的摆率从逻辑低电平转换到逻辑高电平，输入 $B$ 保持在逻辑高电平，输出电容为 $2$ fF，输出也发生相应的转换。测得的电源电流波形如下：\n$$\nI_{\\text{VDD}}(t) = I_{\\text{leak}} + I_{1}\\,\\exp\\!\\left(-\\frac{t}{\\tau_{1}}\\right) - I_{2}\\,H\\!\\left(t - t_{d}\\right)\\,\\exp\\!\\left(-\\frac{t - t_{d}}{\\tau_{2}}\\right), \\quad t \\ge 0,\n$$\n其中 $H(\\cdot)$ 是 Heaviside 阶跃函数。测量的参数如下：\n- $I_{\\text{leak}} = 2.0$ $\\mu$A (恒定),\n- $I_{1} = 1.20$ mA, $\\tau_{1} = 0.015$ ns,\n- $I_{2} = 0.080$ mA, $\\tau_{2} = 0.020$ ns,\n- $t_{d} = 0.050$ ns.\n\n假设 $I_{\\text{leak}}$ 是此激励下的稳态基线漏电流，必须从动态内部功耗中排除。对于这些索引，与输入 $A$ 的上升转换相关联的 Liberty 上升功耗表条目定义为每个输入事件从电源汲取的净能量，其符号约定为：从 $V_{\\text{DD}}$ 汲取的能量为正，返回到 $V_{\\text{DD}}$ 的能量为负。\n\n仅使用基于物理的定义，通过对整个事件的动态电源功耗进行积分，计算此激励的单个标量上升功耗表条目值。将最终结果以 $\\text{micro-watt}\\cdot\\text{nanosecond}$ 表示，并四舍五入到四位有效数字。",
            "solution": "根据既定标准对问题进行验证。\n\n### 第 1 步：提取已知条件\n- **单元：** 采用 CMOS 技术的两输入与非门 ($\\text{NAND2}$)。\n- **电源电压：** $V_{\\text{DD}} = 0.80$ V。\n- **Liberty 单位：** $\\text{power\\_unit} = \\text{\"micro-watt\"}$，$\\text{time\\_unit} = \\text{\"nanosecond\"}$。能量单位为 $\\text{micro-watt}\\cdot\\text{nanosecond}$。\n- **激励：** 输入 $A$ 上升（从低到高），输入 $B$ 保持高电平。\n- **输入摆率：** $20$ ps。\n- **输出电容：** $2$ fF。\n- **电源电流模型：** $I_{\\text{VDD}}(t) = I_{\\text{leak}} + I_{1}\\,\\exp\\!\\left(-\\frac{t}{\\tau_{1}}\\right) - I_{2}\\,H\\!\\left(t - t_{d}\\right)\\,\\exp\\!\\left(-\\frac{t - t_{d}}{\\tau_{2}}\\right)$ for $t \\ge 0$。\n- **模型参数：**\n  - $I_{\\text{leak}} = 2.0$ $\\mu$A。\n  - $I_{1} = 1.20$ mA。\n  - $\\tau_{1} = 0.015$ ns。\n  - $I_{2} = 0.080$ mA。\n  - $\\tau_{2} = 0.020$ ns。\n  - $t_{d} = 0.050$ ns。\n- **任务定义：** 计算单个标量“上升功耗”表条目。这被定义为从电源汲取的净能量，不包括由静态漏电流 $I_{\\text{leak}}$ 引起的能量，计算范围为整个事件。\n- **符号约定：** 从 $V_{\\text{DD}}$ 汲取的能量为正。\n- **最终结果：** 以 $\\text{micro-watt}\\cdot\\text{nanosecond}$ 表示，并四舍五入到四位有效数字。\n\n### 第 2 步：使用提取的已知条件进行验证\n对问题的有效性进行评估：\n- **科学性：** 问题设定在 CMOS 数字电路分析和行业标准库表征方法 (用于 EDA 工具的 Liberty 格式) 的标准背景下。电源电流、内部功耗、漏电功耗和动态功耗等概念是 VLSI 设计的基础。所提供的电流波形是指数衰减函数的和，这是一个物理上可信（尽管简化了）的 MOS 晶体管网络中开关电流和短路电流的模型。所有指定参数（$V_{\\text{DD}}$、时间常数、电流量级）对于现代半导体技术都是符合实际的。\n- **适定性：** 问题对要求计算的值给出了清晰的、定量的定义。提供了所有必要的方程和参数。任务是对一个良态函数进行定积分，这将导出一个唯一的、稳定的、有意义的解。\n- **客观性：** 问题使用精确、无歧义的技术语言陈述。它不含主观或基于意见的内容。\n\n该问题不违反任何无效性标准。这是一个来自集成电路工程领域的科学合理、适定且客观的问题。\n\n### 第 3 步：结论与行动\n问题是 **有效的**。开始求解。\n\n问题中定义的 Liberty 'rise power' (上升功耗) 表条目，对应于输入转换事件期间从电源 $V_{\\text{DD}}$ 汲取的净动态能量。\n\n从电源汲取的总瞬时功耗由 $P_{\\text{VDD}}(t) = V_{\\text{DD}} \\cdot I_{\\text{VDD}}(t)$ 给出。总电源电流 $I_{\\text{VDD}}(t)$ 可以分解为静态漏电分量 $I_{\\text{leak}}$ 和动态分量 $I_{\\text{dyn}}(t)$。\n$$I_{\\text{VDD}}(t) = I_{\\text{leak}} + I_{\\text{dyn}}(t)$$\n问题要求我们仅计算与动态电流相关的能量。从给定的 $I_{\\text{VDD}}(t)$ 表达式中，我们可以确定动态分量：\n$$I_{\\text{dyn}}(t) = I_{1}\\,\\exp\\!\\left(-\\frac{t}{\\tau_{1}}\\right) - I_{2}\\,H\\!\\left(t - t_{d}\\right)\\,\\exp\\!\\left(-\\frac{t - t_{d}}{\\tau_{2}}\\right)$$\n我们记为 $E_{\\text{rise}}$ 的动态能量，是动态功耗 $P_{\\text{dyn}}(t) = V_{\\text{DD}} \\cdot I_{\\text{dyn}}(t)$ 在整个事件持续时间（从 $t=0$到 $t \\to \\infty$）上的时间积分。\n$$E_{\\text{rise}} = \\int_{0}^{\\infty} P_{\\text{dyn}}(t) \\, dt = \\int_{0}^{\\infty} V_{\\text{DD}} \\cdot I_{\\text{dyn}}(t) \\, dt$$\n由于 $V_{\\text{DD}}$ 是常数，我们可以写成：\n$$E_{\\text{rise}} = V_{\\text{DD}} \\int_{0}^{\\infty} \\left[ I_{1}\\,\\exp\\!\\left(-\\frac{t}{\\tau_{1}}\\right) - I_{2}\\,H\\!\\left(t - t_{d}\\right)\\,\\exp\\!\\left(-\\frac{t - t_{d}}{\\tau_{2}}\\right) \\right] dt$$\n该积分可以分为两部分：\n$$E_{\\text{rise}} = V_{\\text{DD}} \\left( \\int_{0}^{\\infty} I_{1}\\,\\exp\\!\\left(-\\frac{t}{\\tau_{1}}\\right) dt - \\int_{0}^{\\infty} I_{2}\\,H\\!\\left(t - t_{d}\\right)\\,\\exp\\!\\left(-\\frac{t - t_{d}}{\\tau_{2}}\\right) dt \\right)$$\n我们分别计算每个积分。第一个积分是：\n$$ \\int_{0}^{\\infty} I_{1}\\,\\exp\\!\\left(-\\frac{t}{\\tau_{1}}\\right) dt = I_{1} \\left[ -\\tau_{1} \\exp\\!\\left(-\\frac{t}{\\tau_{1}}\\right) \\right]_{0}^{\\infty} = I_{1} \\left( 0 - (-\\tau_{1} \\exp(0)) \\right) = I_{1}\\tau_{1} $$\n对于第二个积分，Heaviside 阶跃函数 $H(t - t_{d})$ 在 $t  t_d$ 时为零，在 $t \\ge t_d$ 时为一。这将积分下限从 $0$ 改为 $t_d$。\n$$ \\int_{0}^{\\infty} I_{2}\\,H\\!\\left(t - t_{d}\\right)\\,\\exp\\!\\left(-\\frac{t - t_{d}}{\\tau_{2}}\\right) dt = \\int_{t_{d}}^{\\infty} I_{2}\\,\\exp\\!\\left(-\\frac{t - t_{d}}{\\tau_{2}}\\right) dt $$\n令 $u = t - t_{d}$，则 $du = dt$。当 $t=t_d$ 时，积分下限变为 $u=0$；当 $t \\to \\infty$ 时，$u \\to \\infty$。\n$$ \\int_{0}^{\\infty} I_{2}\\,\\exp\\!\\left(-\\frac{u}{\\tau_{2}}\\right) du = I_{2} \\left[ -\\tau_{2} \\exp\\!\\left(-\\frac{u}{\\tau_{2}}\\right) \\right]_{0}^{\\infty} = I_{2} \\left( 0 - (-\\tau_{2} \\exp(0)) \\right) = I_{2}\\tau_{2} $$\n将这些结果代回 $E_{\\text{rise}}$ 的表达式，得到最终的符号公式：\n$$E_{\\text{rise}} = V_{\\text{DD}} (I_{1}\\tau_{1} - I_{2}\\tau_{2})$$\n问题要求结果以 $\\text{micro-watt}\\cdot\\text{nanosecond}$ 为单位。我们可以通过将电压表示为伏特 ($\\text{V}$)，电流表示为微安 ($\\mu\\text{A}$)，时间表示为纳秒 ($\\text{ns}$) 来直接实现这一点。这些单位的乘积是 $\\text{V} \\cdot \\mu\\text{A} \\cdot \\text{ns} = \\mu\\text{W} \\cdot \\text{ns}$。\n\n我们将给定的参数转换为这一致的单位集：\n- $V_{\\text{DD}} = 0.80$ $\\text{V}$\n- $I_{1} = 1.20$ $\\text{mA} = 1200$ $\\mu\\text{A}$\n- $\\tau_{1} = 0.015$ $\\text{ns}$\n- $I_{2} = 0.080$ $\\text{mA} = 80$ $\\mu\\text{A}$\n- $\\tau_{2} = 0.020$ $\\text{ns}$\n\n现在，我们计算乘积 $I_{1}\\tau_{1}$ 和 $I_{2}\\tau_{2}$：\n$$I_{1}\\tau_{1} = (1200 \\text{ } \\mu\\text{A}) \\cdot (0.015 \\text{ } \\text{ns}) = 18 \\text{ } \\mu\\text{A}\\cdot\\text{ns}$$\n$$I_{2}\\tau_{2} = (80 \\text{ } \\mu\\text{A}) \\cdot (0.020 \\text{ } \\text{ns}) = 1.6 \\text{ } \\mu\\text{A}\\cdot\\text{ns}$$\n将这些值代入能量方程：\n$$E_{\\text{rise}} = 0.80 \\text{ } \\text{V} \\cdot (18 \\text{ } \\mu\\text{A}\\cdot\\text{ns} - 1.6 \\text{ } \\mu\\text{A}\\cdot\\text{ns})$$\n$$E_{\\text{rise}} = 0.80 \\text{ } \\text{V} \\cdot (16.4 \\text{ } \\mu\\text{A}\\cdot\\text{ns})$$\n$$E_{\\text{rise}} = 13.12 \\text{ } \\mu\\text{W}\\cdot\\text{ns}$$\n问题要求将结果四舍五入到四位有效数字。计算出的值 $13.12$ 已经有四位有效数字。",
            "answer": "$$\\boxed{13.12}$$"
        },
        {
            "introduction": "标准单元库并不会为每个可能的输入转换率和输出负载存储时序数据，而是使用查找表和插值方法。这个问题  深入探讨了这些表格背后的数学基础，要求您推导双线性插值公式并量化其误差。这个练习对于理解时序模型的精度限制以及表征过程中表格网格密度的重要性至关重要。",
            "id": "4306300",
            "problem": "在电子设计自动化（EDA）的标准单元库特性化中，单元延迟被制成表格，作为输入转换摆率和输出电容负载的函数。考虑一个二维时序表的单个矩形单元，其输入摆率变量为 $s$，负载变量为 $l$，其中 $s \\in [s_{0}, s_{1}]$ 且 $l \\in [l_{0}, l_{1}]$。假设底层的延迟曲面是在此矩形上的一个二次连续可微函数 $d(s,l)$，并且在每个变量上都是凸的，因此在矩形上有 $\\frac{\\partial^{2} d}{\\partial s^{2}} \\ge 0$ 和 $\\frac{\\partial^{2} d}{\\partial l^{2}} \\ge 0$。\n\n给定四个网格点上的角点延迟 $d(s_{0}, l_{0})$、$d(s_{1}, l_{0})$、$d(s_{0}, l_{1})$ 和 $d(s_{1}, l_{1})$，您必须仅使用这些角点值和沿各轴的可分线性原理，构造对矩形内任意 $(s,l)$ 有效的双线性插值 $\\tilde{d}(s,l)$。\n\n从沿单轴的一维线性插值的基本定义出发，并仅使用多元微积分中经过充分检验的结论（例如，带余项的泰勒定理），完成以下任务：\n\n1. 推导在 $[s_{0}, s_{1}] \\times [l_{0}, l_{1}]$ 上的显式双线性插值公式 $\\tilde{d}(s,l)$，用沿 $s$ 和 $l$ 轴的归一化重心权重以及四个角点值表示。\n\n2. 假设 $d(s,l)$ 在矩形上具有有界的二阶偏导数，其界为\n$$\n\\sup_{(s,l)} \\left| \\frac{\\partial^{2} d}{\\partial s^{2}}(s,l) \\right| \\le A, \n\\quad\n\\sup_{(s,l)} \\left| \\frac{\\partial^{2} d}{\\partial l^{2}}(s,l) \\right| \\le B,\n$$\n推导矩形上绝对插值误差 $\\left| d(s,l) - \\tilde{d}(s,l) \\right|$ 的一个一致上界，用 $A$、$B$、摆率跨度 $h := s_{1} - s_{0}$ 和负载跨度 $k := l_{1} - l_{0}$ 表示。\n\n3. 对于一个实际的先进节点反相器，假设矩形为 $s \\in [10\\,\\mathrm{ps}, 30\\,\\mathrm{ps}]$ 且 $l \\in [5\\,\\mathrm{fF}, 25\\,\\mathrm{fF}]$，因此 $h = s_{1} - s_{0}$ 和 $k = l_{1} - l_{0}$ 由这些端点固定。假设特性化和凸性分析提供了曲率界\n$$\nA = 1.2 \\times 10^{-3}\\,\\mathrm{ps}^{-1}, \n\\qquad\nB = 1.6 \\times 10^{-4}\\,\\mathrm{ps}\\,\\mathrm{fF}^{-2}.\n$$\n计算您能保证的在整个矩形上绝对双线性插值误差的最小上界，以皮秒为单位表示。将您的最终答案四舍五入到四位有效数字，并以 $\\mathrm{ps}$ 表示。",
            "solution": "该问题被判定为有效，因为它具有科学依据、良构、客观、自洽且一致。该问题涉及应用于电子设计自动化中一个已被充分理解问题的数值分析标准技术。我们按要求分三部分进行解答。\n\n### 第 1 部分：双线性插值的推导\n\n双线性插值的原理是沿每个轴可分地应用一维线性插值。我们首先定义一维线性插值。对于区间 $[x_0, x_1]$ 上的函数 $f(x)$，其线性插值 $\\tilde{f}(x)$ 由下式给出：\n$$\n\\tilde{f}(x) = f(x_0) \\frac{x_1 - x}{x_1 - x_0} + f(x_1) \\frac{x - x_0}{x_1 - x_0}\n$$\n这可以用归一化坐标或重心权重来表示。令 $u = \\frac{x - x_0}{x_1 - x_0}$。则 $1-u = \\frac{x_1 - x}{x_1 - x_0}$，对于 $x \\in [x_0, x_1]$，我们有 $u \\in [0, 1]$。公式变为：\n$$\n\\tilde{f}(u) = f(x_0) (1-u) + f(x_1)u\n$$\n为了构造延迟函数 $d(s,l)$ 在矩形 $[s_0, s_1] \\times [l_0, l_1]$ 上的双线性插值 $\\tilde{d}(s,l)$，我们迭代地应用此过程。\n\n首先，我们对固定的负载值 $l_0$ 和 $l_1$ 沿 $s$ 轴进行插值。令 $u = \\frac{s - s_0}{s_1 - s_0}$ 为沿 $s$ 轴的归一化坐标。\n沿矩形底边（其中 $l=l_0$）的插值延迟为：\n$$\n\\tilde{d}(s, l_0) = d(s_0, l_0) (1-u) + d(s_1, l_0) u\n$$\n沿矩形顶边（其中 $l=l_1$）的插值延迟为：\n$$\n\\tilde{d}(s, l_1) = d(s_0, l_1) (1-u) + d(s_1, l_1) u\n$$\n这两个表达式给出了双线性曲面在点 $(s, l_0)$ 和 $(s, l_1)$ 处的（精确，因为它们是插值）值。\n\n接下来，我们对任意 $s \\in [s_0, s_1]$ 沿 $l$ 轴进行插值。令 $v = \\frac{l - l_0}{l_1 - l_0}$ 为沿 $l$ 轴的归一化坐标。最终的插值 $\\tilde{d}(s, l)$ 是通过在 $\\tilde{d}(s, l_0)$ 和 $\\tilde{d}(s, l_1)$ 之间进行线性插值得到的：\n$$\n\\tilde{d}(s, l) = \\tilde{d}(s, l_0) (1-v) + \\tilde{d}(s, l_1) v\n$$\n代入 $\\tilde{d}(s, l_0)$ 和 $\\tilde{d}(s, l_1)$ 的表达式：\n$$\n\\tilde{d}(s, l) = \\left[ d(s_0, l_0) (1-u) + d(s_1, l_0) u \\right] (1-v) + \\left[ d(s_0, l_1) (1-u) + d(s_1, l_1) u \\right] v\n$$\n展开此表达式，得到用四个角点值和归一化重心权重 $u$ 和 $v$ 表示的双线性插值公式：\n$$\n\\tilde{d}(s,l) = d(s_0, l_0) (1-u)(1-v) + d(s_1, l_0) u(1-v) + d(s_0, l_1) (1-u)v + d(s_1, l_1) uv\n$$\n这就是所要求的显式公式。归一化权重为 $u = \\frac{s - s_0}{s_1 - s_0}$ 和 $v = \\frac{l - l_0}{l_1 - l_0}$。\n\n### 第 2 部分：误差界的推导\n\n插值误差为 $E(s,l) = d(s,l) - \\tilde{d}(s,l)$。为了推导该误差的界，我们使用适用于一维插值的带余项的泰勒定理。在 $[x_0, x_1]$ 上对一个二次可微函数 $f(x)$ 进行线性插值的误差由下式给出：\n$$\nf(x) - \\tilde{f}(x) = \\frac{1}{2} f''(\\xi) (x-x_0)(x-x_1) \\quad \\text{for some } \\xi \\in (x_0, x_1)\n$$\n我们定义一个针对固定 $l$ 的误差函数，$g(s) = d(s,l) - \\tilde{d}(s,l)$。\n$s$ 区间边界处（$s=s_0$ 和 $s=s_1$）的误差不为零。在 $s=s_0$ 处，$\\tilde{d}(s_0,l)$ 是 $d(s_0,l_0)$ 和 $d(s_0,l_1)$ 的线性插值。因此，误差 $g(s_0)$ 是 $d(s_0, l)$ 关于 $l$ 的一维插值误差：\n$$\ng(s_0) = d(s_0, l) - \\tilde{d}(s_0, l) = \\frac{1}{2} \\frac{\\partial^2 d}{\\partial l^2}(s_0, \\eta_0) (l-l_0)(l-l_1) \\quad \\text{for some } \\eta_0 \\in (l_0, l_1)\n$$\n类似地，在 $s=s_1$ 处：\n$$\ng(s_1) = d(s_1, l) - \\tilde{d}(s_1, l) = \\frac{1}{2} \\frac{\\partial^2 d}{\\partial l^2}(s_1, \\eta_1) (l-l_0)(l-l_1) \\quad \\text{for some } \\eta_1 \\in (l_0, l_1)\n$$\n令 $\\hat{g}(s)$ 为插值 $g(s_0)$ 和 $g(s_1)$ 的线性函数：\n$$\n\\hat{g}(s) = g(s_0) \\frac{s_1-s}{s_1-s_0} + g(s_1) \\frac{s-s_0}{s_1-s_0}\n$$\n总误差可以写为 $E(s,l) = g(s) = (g(s) - \\hat{g}(s)) + \\hat{g}(s)$。函数 $e(s) = g(s) - \\hat{g}(s)$ 在 $s=s_0$ 和 $s=s_1$ 处为零。因此，我们可以将一维误差公式应用于 $e(s)$：\n$$\ne(s) = \\frac{1}{2} e''(\\xi_s) (s-s_0)(s-s_1) \\quad \\text{for some } \\xi_s \\in (s_0, s_1)\n$$\n我们需要求 $e''(s) = g''(s) - \\hat{g}''(s)$。由于 $\\hat{g}(s)$ 是关于 $s$ 的线性函数，其二阶导数为零。对于固定的 $l$，双线性插值 $\\tilde{d}(s,l)$ 是 $s$ 的线性函数，所以 $\\frac{\\partial^2 \\tilde{d}}{\\partial s^2} = 0$。因此：\n$$\ng''(s) = \\frac{\\partial^2}{\\partial s^2} (d(s,l) - \\tilde{d}(s,l)) = \\frac{\\partial^2 d}{\\partial s^2}(s,l)\n$$\n因此，$e''(s) = \\frac{\\partial^2 d}{\\partial s^2}(s,l)$。这给出：\n$$\ne(s) = \\frac{1}{2} \\frac{\\partial^2 d}{\\partial s^2}(\\xi_s, l) (s-s_0)(s-s_1)\n$$\n总误差为 $E(s,l) = e(s) + \\hat{g}(s)$。代入各部分的表达式：\n$$\nE(s,l) = \\frac{1}{2} (s-s_0)(s-s_1) \\frac{\\partial^2 d}{\\partial s^2}(\\xi_s, l) + \\frac{1}{2} (l-l_0)(l-l_1) \\left[ \\frac{\\partial^2 d}{\\partial l^2}(s_0, \\eta_0) \\frac{s_1-s}{h} + \\frac{\\partial^2 d}{\\partial l^2}(s_1, \\eta_1) \\frac{s-s_0}{h} \\right]\n$$\n其中 $h=s_1-s_0$。为了找到 $|E(s,l)|$ 的一致上界，我们使用三角不等式并找到每一项的最大绝对值。\n项 $|(s-s_0)(s-s_1)|$ 在 $s = (s_0+s_1)/2$ 处取得最大值，其值为 $h^2/4$。\n项 $|(l-l_0)(l-l_1)|$ 在 $l = (l_0+l_1)/2$ 处取得最大值，其值为 $k^2/4$，其中 $k=l_1-l_0$。\n方括号中的项是 $\\frac{\\partial^2 d}{\\partial l^2}$ 两个值的凸组合。其绝对值受 $\\sup \\left| \\frac{\\partial^2 d}{\\partial l^2} \\right| = B$ 的限制。\n应用这些界和给定的界 $A$ 和 $B$：\n$$\n|E(s,l)| \\le \\left| \\frac{1}{2} (s-s_0)(s-s_1) \\frac{\\partial^2 d}{\\partial s^2}(\\xi_s, l) \\right| + \\left| \\frac{1}{2} (l-l_0)(l-l_1) \\left[ \\dots \\right] \\right|\n$$\n$$\n|E(s,l)| \\le \\frac{1}{2} \\left(\\frac{h^2}{4}\\right) \\sup \\left|\\frac{\\partial^2 d}{\\partial s^2}\\right| + \\frac{1}{2} \\left(\\frac{k^2}{4}\\right) \\sup \\left|\\frac{\\partial^2 d}{\\partial l^2}\\right|\n$$\n因此，绝对插值误差的一致上界为：\n$$\n|d(s,l) - \\tilde{d}(s,l)| \\le \\frac{A h^2}{8} + \\frac{B k^2}{8}\n$$\n\n### 第 3 部分：数值计算\n\n给定以下数值：\n- 摆率区间：$[s_0, s_1] = [10\\,\\mathrm{ps}, 30\\,\\mathrm{ps}]$\n- 负载区间：$[l_0, l_1] = [5\\,\\mathrm{fF}, 25\\,\\mathrm{fF}]$\n- 曲率界：$A = 1.2 \\times 10^{-3}\\,\\mathrm{ps}^{-1}$ 和 $B = 1.6 \\times 10^{-4}\\,\\mathrm{ps}\\,\\mathrm{fF}^{-2}$。\n\n首先，我们计算跨度 $h$ 和 $k$：\n$$\nh = s_1 - s_0 = 30\\,\\mathrm{ps} - 10\\,\\mathrm{ps} = 20\\,\\mathrm{ps}\n$$\n$$\nk = l_1 - l_0 = 25\\,\\mathrm{fF} - 5\\,\\mathrm{fF} = 20\\,\\mathrm{fF}\n$$\n现在，我们将这些值代入第 2 部分推导出的误差界公式中。\n总误差界，记为 $E_{max}$，是：\n$$\nE_{max} = \\frac{A h^2}{8} + \\frac{B k^2}{8}\n$$\n我们分别计算每一项。\n来自摆率（$s$）轴的误差分量是：\n$$\nE_{s,max} = \\frac{A h^2}{8} = \\frac{(1.2 \\times 10^{-3}\\,\\mathrm{ps}^{-1}) (20\\,\\mathrm{ps})^2}{8} = \\frac{(1.2 \\times 10^{-3}) (400)}{8}\\,\\mathrm{ps} = \\frac{0.48}{8}\\,\\mathrm{ps} = 0.06\\,\\mathrm{ps}\n$$\n来自负载（$l$）轴的误差分量是：\n$$\nE_{l,max} = \\frac{B k^2}{8} = \\frac{(1.6 \\times 10^{-4}\\,\\mathrm{ps}\\,\\mathrm{fF}^{-2}) (20\\,\\mathrm{fF})^2}{8} = \\frac{(1.6 \\times 10^{-4}) (400)}{8}\\,\\mathrm{ps} = \\frac{0.064}{8}\\,\\mathrm{ps} = 0.008\\,\\mathrm{ps}\n$$\n保证的绝对误差最小上界是这两个分量之和：\n$$\nE_{max} = E_{s,max} + E_{l,max} = 0.06\\,\\mathrm{ps} + 0.008\\,\\mathrm{ps} = 0.068\\,\\mathrm{ps}\n$$\n问题要求答案四舍五入到四位有效数字。\n$$\n0.06800\\,\\mathrm{ps}\n$$",
            "answer": "$$\n\\boxed{0.06800}\n$$"
        }
    ]
}