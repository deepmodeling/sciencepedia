{
    "hands_on_practices": [
        {
            "introduction": "Speed-independent circuits rely on state-holding elements to correctly sequence operations regardless of gate and wire delays. This exercise focuses on the Muller C-element, a cornerstone of such designs, by tasking you with implementing a common rendezvous pattern. By determining the minimal components and calculating the resulting path delay, you will gain insight into how fundamental asynchronous building blocks ensure robust synchronization. ",
            "id": "4256357",
            "problem": "A speed-independent rendezvous stage is used in a four-phase return-to-zero handshake to coordinate two independent request channels. The stage receives request events on two inputs, denoted $r_{1}$ and $r_{2}$, which may arrive in any order. The stage must assert an output, denoted $g$, only after both requests have arrived, must not produce any hazards under unbounded gate delays (with the isochronic fork assumption permitted only on forks internal to a gate), and must keep $g$ asserted until both requests have returned low. The implementation may use only inverters and Muller C-elements (C-elements). A Muller C-element (C-element) with two inputs has the state-holding property that its output goes to $1$ if and only if both inputs are $1$, goes to $0$ if and only if both inputs are $0$, and otherwise holds its previous state.\n\n1. Determine the minimum number of C-elements required to implement such a rendezvous stage that satisfies the above behavioral and robustness requirements.\n\n2. The physical implementation assigns the following delays to the consensus path from the later-arriving request transition to the output $g$ rising: each input wire segment from the external input pin to the C-element input has delay $30$ ps, the two-input C-element has low-to-high propagation delay $110$ ps, and the wire segment from the C-element output to the external $g$ pin has delay $20$ ps. Compute the propagation delay from the later of $\\{r_{1}, r_{2}\\}$ going high to $g$ going high, assuming that the earlier request has already arrived and has been latched by the C-element. Express the delay in nanoseconds and round your answer to three significant figures.\n\nReport your final answer as a row vector containing:\n- first entry: the minimum number of C-elements (an exact integer),\n- second entry: the consensus-path propagation delay in nanoseconds, rounded to three significant figures.\n\nDo not include units in the final boxed answer; the delay must be in nanoseconds as specified above.",
            "solution": "The problem is divided into two parts. The first part requires determining the minimum number of Muller C-elements required to implement a specified rendezvous stage. The second part asks for the calculation of a specific signal propagation delay for this stage.\n\n### Part 1: Minimum Number of C-elements\n\nThe problem describes a speed-independent rendezvous stage for a $4$-phase return-to-zero handshake protocol. Let the inputs be denoted by $r_1$ and $r_2$, and the output by $g$. The behavioral requirements are as follows:\n1. The output $g$ must be asserted (transition to logic $1$) only after both inputs $r_1$ and $r_2$ have been asserted (are at logic $1$).\n2. The output $g$ must remain asserted until both inputs $r_1$ and $r_2$ have returned to logic $0$.\n\nThese requirements define a logic element with state-holding capability. Let's analyze the behavior in terms of logic states. Assume the initial state is $r_1 = 0$, $r_2 = 0$, and consequently $g=0$.\n\n- If one input, say $r_1$, transitions to $1$ while $r_2$ remains at $0$, the output $g$ must hold its previous state, which is $0$.\n- Only when the second input, $r_2$, also transitions to $1$ (so that $r_1=1$ and $r_2=1$), should the output $g$ transition to $1$.\n- Subsequently, if one input, say $r_1$, transitions back to $0$ while $r_2$ remains at $1$, the output $g$ must hold its state of $1$.\n- Only when the second input, $r_2$, also transitions to $0$ (so that $r_1=0$ and $r_2=0$), should the output $g$ transition back to $0$.\n\nThis behavior perfectly matches the definition of a $2$-input Muller C-element. A C-element is a state-holding device whose output becomes $1$ if and only if all its inputs are $1$, becomes $0$ if and only if all its inputs are $0$, and otherwise retains its previous state. Let the C-element's output be $C_{out}$ and its inputs be $A$ and $B$. Its next-state function can be expressed as:\n$$ C_{out, next} = (A \\cdot B) + C_{out, current} \\cdot (A + B) $$\nwhere $\\cdot$ denotes logical AND and $+$ denotes logical OR.\n\nBy directly mapping the rendezvous stage signals to a C-element, we can set $A = r_1$, $B = r_2$, and $C_{out} = g$. The C-element's behavior precisely implements the specified rendezvous logic:\n- If $r_1=1$ and $r_2=1$, $g$ becomes $1$.\n- If $r_1=0$ and $r_2=0$, $g$ becomes $0$.\n- If $r_1 \\neq r_2$, $g$ maintains its current state.\n\nThis shows that a single C-element is sufficient to implement the required function. The problem asks for the *minimum* number of C-elements. The specified behavior requires memory (state-holding), which is not a property of the only other allowed component, the inverter. An inverter is a purely combinational logic gate. It is not possible to construct a state-holding element from inverters alone. Therefore, at least one C-element is necessary to provide the required memory function.\n\nSince one C-element is necessary and one is sufficient, the minimum number of C-elements required is $1$. The implementation is simply $g = C(r_1, r_2)$, where $C$ denotes the C-element function. This circuit is inherently speed-independent and hazard-free for the specified function.\n\n### Part 2: Propagation Delay Calculation\n\nThe second part requires calculating the propagation delay from the later-arriving request to the output $g$ going high. The scenario is that one request has already arrived, and we measure the delay from the arrival of the second request. Let's assume, without loss of generality, that $r_1$ is high and we are measuring the delay from the rising edge of $r_2$.\n\nThe signal path and its associated delays are given as:\n1.  The signal from the external input pin (e.g., $r_2$) propagates through an input wire segment to the C-element's input. The delay for this segment is $t_{wire,in} = 30 \\text{ ps}$.\n2.  Once the second input arrives at the C-element (the first input is already stable at a high level), the C-element begins its internal transition. The low-to-high propagation delay of the C-element is $t_{pd,C} = 110 \\text{ ps}$.\n3.  The C-element's output then propagates through an output wire segment to the external output pin $g$. The delay for this segment is $t_{wire,out} = 20 \\text{ ps}$.\n\nThe total propagation delay, $T_{pd}$, is the sum of the delays along this path:\n$$ T_{pd} = t_{wire,in} + t_{pd,C} + t_{wire,out} $$\nSubstituting the given values:\n$$ T_{pd} = 30 \\text{ ps} + 110 \\text{ ps} + 20 \\text{ ps} = 160 \\text{ ps} $$\n\nThe problem requires the answer to be in nanoseconds (ns) and rounded to three significant figures. We convert picoseconds to nanoseconds using the relation $1 \\text{ ns} = 1000 \\text{ ps}$.\n$$ T_{pd} = 160 \\text{ ps} \\times \\frac{1 \\text{ ns}}{1000 \\text{ ps}} = 0.160 \\text{ ns} $$\nThis value is already expressed with three significant figures ($1$, $6$, and the trailing $0$).\n\n### Summary of Results\n- Minimum number of C-elements: $1$.\n- Consensus-path propagation delay: $0.160$ ns.\n\nThese two results are to be reported as a row vector.",
            "answer": "$$ \\boxed{ \\begin{pmatrix} 1 & 0.160 \\end{pmatrix} } $$"
        },
        {
            "introduction": "The bundled-data methodology is a pragmatic approach to asynchronous design, but its correctness hinges on a crucial relative-timing constraint. This practice challenges you to derive this very constraint from first principles, ensuring data is captured safely at the receiver. By analyzing the interplay between data stabilization time ($t_{data}$), control path skew ($t_{skew}$), and the acknowledge path delay ($t_{ack}$), you will internalize the fundamental rule that prevents timing hazards in asynchronous pipelines. ",
            "id": "4256336",
            "problem": "Consider a two-stage asynchronous pipeline implemented in Complementary Metal–Oxide–Semiconductor (CMOS) using the bundled-data style with a four-phase return-to-zero request/acknowledge handshake. The pipeline is synthesized using Electronic Design Automation (EDA) tools under a relative-timing methodology. The sender stage produces a data word on its output channel and concurrently emits a request transition that, through a control path, ultimately causes the receiver stage to complete its capture and then emit an acknowledge transition back to the sender.\n\nAssume the following physically measurable quantities are defined at the stage interface:\n- The worst-case combinational data-path stabilization time, from the sender’s data launch to the receiver’s sampling aperture seeing the final correct value, is denoted by $t_{data}$.\n- The maximum relative skew between the earliest effective arrival of the request transition along the control network that triggers the receiver’s completion point and the corresponding effective arrival of the data launch into the data network is denoted by $t_{skew}$. Define $t_{skew} \\geq 0$ as the maximum lead of the control path relative to the data path (that is, the control path can be advanced by up to $t_{skew}$ relative to the data path).\n- The control-path delay from the sender’s request transition to the receiver’s acknowledge transition emission is denoted by $t_{ack}$. This delay aggregates the propagation through the receiver’s control logic and any explicit matched delay elements.\n\nStarting from fundamental handshake semantics (the acknowledge must be generated only after the receiver has safely completed data capture) and worst-case timing reasoning (monotonic propagation and max-delay bounding for hazards), derive the minimal lower-bound expression $L$ on $t_{ack}$ in terms of $t_{data}$ and $t_{skew}$ such that any $t_{ack}$ strictly greater than $L$ guarantees that the acknowledge transition cannot be observed until after the data has stabilized at the receiver’s sampling aperture, for all process, voltage, and temperature variations encompassed by the worst-case definitions.\n\nExplain the meaning of each term you introduce and how the bound enforces that acknowledges only arrive after data stabilization. Provide your final answer as a single symbolic expression for $L$ with no units.",
            "solution": "The problem statement is evaluated as valid. It is a scientifically grounded, well-posed, and objective problem in the domain of asynchronous digital circuit design. It is self-contained, and its terms are defined with sufficient precision to permit a formal, analytical solution. The problem asks for the derivation of a fundamental timing constraint in a bundled-data asynchronous pipeline, which is a standard and non-trivial task in this field.\n\nTo derive the minimal lower bound on the acknowledge path delay, $t_{ack}$, we must establish the timing relationship between the data path and the control path to ensure data is captured correctly. The core principle of bundled-data design is that a request signal must arrive at the receiver only after the associated data has become stable at the receiver's inputs. The acknowledge signal, in turn, can only be generated after the data has been safely captured.\n\nLet us define the following events and their occurrence times relative to a common, but arbitrary, reference:\n- $T_{data\\_launch}$: The time at which the sender stage launches a new data word onto the data path.\n- $T_{req\\_launch}$: The time at which the sender stage launches the corresponding request transition onto the control path.\n\nFrom the problem definition, we have the following timings for events at the receiver stage:\n1.  The data becomes stable at the receiver's sampling aperture. The time required for this, measured from the data launch, is the worst-case data-path delay, $t_{data}$. Therefore, the data is guaranteed to be stable at the receiver no earlier than time $T_{data\\_stable}$:\n    $$T_{data\\_stable} = T_{data\\_launch} + t_{data}$$\n2.  The receiver emits an acknowledge transition. The time for this signal to be generated, measured from the request launch, is the control-path delay, $t_{ack}$. The acknowledge is emitted at time $T_{ack\\_emit}$:\n    $$T_{ack\\_emit} = T_{req\\_launch} + t_{ack}$$\n\nThe fundamental safety constraint for a bundled-data protocol is that any action dependent on the data being stable (such as generating an acknowledge) must occur *after* the data is guaranteed to be stable. In this problem, the condition is that \"the acknowledge transition cannot be observed until after the data has stabilized at the receiver’s sampling aperture.\" This translates to the following strict inequality:\n$$T_{ack\\_emit} > T_{data\\_stable}$$\n\nSubstituting the expressions for $T_{ack\\_emit}$ and $T_{data\\_stable}$:\n$$T_{req\\_launch} + t_{ack} > T_{data\\_launch} + t_{data}$$\n\nTo find the required lower bound on $t_{ack}$, we rearrange this inequality:\n$$t_{ack} > (T_{data\\_launch} - T_{req\\_launch}) + t_{data}$$\n\nThis inequality must hold for all possible variations in timing allowed by the system's specification. This requires us to analyze the term $(T_{data\\_launch} - T_{req\\_launch})$ under the worst-case condition. The worst case is the scenario that places the most stringent requirement on $t_{ack}$, i.e., the one that maximizes the right-hand side of the inequality.\n\nThe problem defines $t_{skew}$ as \"the maximum relative skew ... defined as the maximum lead of the control path relative to the data path.\" A lead of the control path means that the request can be launched *before* the data. Mathematically, this corresponds to the time difference $(T_{data\\_launch} - T_{req\\_launch})$. The maximum value of this time difference is given as $t_{skew}$:\n$$(T_{data\\_launch} - T_{req\\_launch}) \\leq t_{skew}$$\n\nTo guarantee the safety condition for all valid operational possibilities, we must ensure the inequality holds even when $(T_{data\\_launch} - T_{req\\_launch})$ takes its maximum possible value. Substituting this maximum value into our safety inequality gives the strictest necessary condition for $t_{ack}$:\n$$t_{ack} > \\max(T_{data\\_launch} - T_{req\\_launch}) + t_{data}$$\n$$t_{ack} > t_{skew} + t_{data}$$\n\nThis is the condition that guarantees safety. The problem asks for the minimal lower-bound expression $L$ on $t_{ack}$ such that any $t_{ack}$ strictly greater than $L$ guarantees safety. From our derived inequality, this lower bound is:\n$$L = t_{data} + t_{skew}$$\n\nExplanation of the bound:\n- The term $t_{data}$ represents the time the data requires to travel through the combinational logic and stabilize.\n- The term $t_{skew}$ represents the maximum \"head start\" that the request signal (control) has over the data signal. In the worst-case scenario, the request is launched, travels quickly, and arrives at the receiver's control logic, while the data is launched as late as possible relative to the request and travels through its slowest path.\n- The sum $t_{data} + t_{skew}$ represents the worst-case duration, measured from the moment the request is launched ($T_{req\\_launch}$), until the corresponding data is stable at the receiver ($T_{data\\_stable}$).\n- The constraint $t_{ack} > t_{data} + t_{skew}$ forces the delay of the acknowledge generation path, $t_{ack}$, to be greater than this worst-case data stabilization time. This ensures that the logic generating the acknowledge signal will only complete its operation and emit the acknowledge after the data it is intended to capture has become valid, thereby preventing a timing hazard. The value $L = t_{data} + t_{skew}$ is the threshold for this delay. Any design where $t_{ack}$ might be less than or equal to $L$ is subject to failure.",
            "answer": "$$\\boxed{t_{data} + t_{skew}}$$"
        },
        {
            "introduction": "Beyond correctness, the performance of an asynchronous system is paramount, governed by the round-trip time of its handshake protocol. This exercise guides you through a foundational performance analysis of a single-stage pipeline using a four-phase handshake. By modeling the complete cycle of request and acknowledge signals, you will derive expressions for maximum throughput and latency in terms of fundamental gate ($t_g$) and wire ($t_w$) delays, providing a crucial understanding of what limits the speed of asynchronous links. ",
            "id": "4256359",
            "problem": "Consider a point-to-point bundled-data asynchronous link between $2$ modules implemented as a single-buffer stage that uses the standard $4$-phase return-to-zero request-acknowledge protocol. In this protocol, one complete transaction consists of the following causally ordered control transitions: the sender asserts $request$ high, the receiver asserts $acknowledge$ high, the sender deasserts $request$ low, and the receiver deasserts $acknowledge$ low. Assume the following physically realistic timing model:\n- Each propagation across the interconnect in either direction incurs a worst-case wire delay of $t_{w}$.\n- Each reaction of the local handshake control (at either end) to an input transition incurs a worst-case effective gate delay of $t_{g}$ (this $t_{g}$ aggregates the delay of the local combinational control logic required to generate the next handshake transition).\n- Data are already valid and satisfy the bundling constraint before the sender asserts $request$; arbitration and metastability are absent; forks, if any, are isochronic so that control causality reduces to a linear event chain.\n\nDefine the maximum sustainable throughput as the reciprocal of the mean cycle time between successive rising edges of the sender’s $request$ under steady-state saturation (i.e., continuous back-to-back transactions). Define the end-to-end latency for a single data transfer as the time from the instant the sender asserts $request$ high to the instant the sender observes the receiver’s $acknowledge$ high on its input.\n\nStarting from the protocol’s causal sequence and the timing model above, derive and report:\n- The maximum sustainable throughput, expressed in $\\mathrm{s}^{-1}$, as an analytic function of $t_{g}$ and $t_{w}$.\n- The end-to-end latency, expressed in seconds, as an analytic function of $t_{g}$ and $t_{w}$.\n\nNo numerical substitution is required; provide closed-form expressions. The final answer must contain only these two expressions.",
            "solution": "The problem requires the derivation of expressions for the maximum sustainable throughput and the end-to-end latency of a point-to-point asynchronous link. The link employs a 4-phase return-to-zero (RTZ) request-acknowledge protocol. The derivation will be based on the specified causal sequence of handshake events and a timing model consisting of a worst-case wire propagation delay, $t_w$, and a worst-case control logic gate delay, $t_g$.\n\nFirst, we will determine the total cycle time for one complete transaction, from which the throughput is derived. Let us denote the sender's request signal as $req$ and the receiver's acknowledge signal as $ack$. We can trace the sequence of events and their associated delays, starting from the initiation of a transaction at time $t=0$.\n\n1.  At $t=0$, the sender asserts $req$ high ($req\\uparrow$). This signal propagates across the wire to the receiver, which takes a time of $t_w$. The receiver sees $req\\uparrow$ at time $t_w$.\n\n2.  The receiver's control logic detects the arrival of $req\\uparrow$ and reacts by asserting $ack$ high ($ack\\uparrow$). This internal reaction incurs a delay of $t_g$. Therefore, the receiver issues $ack\\uparrow$ at time $t_w + t_g$.\n\n3.  The $ack\\uparrow$ signal propagates back from the receiver to the sender. This communication across the interconnect takes another $t_w$. The sender sees $ack\\uparrow$ at time $(t_w + t_g) + t_w = 2t_w + t_g$.\n\n4.  Upon receiving $ack\\uparrow$, the sender's control logic reacts by deasserting its request signal ($req\\downarrow$) to begin the return-to-zero phase. This reaction takes $t_g$. The sender issues $req\\downarrow$ at time $(2t_w + t_g) + t_g = 2t_w + 2t_g$.\n\n5.  The $req\\downarrow$ signal travels to the receiver, which takes $t_w$. The receiver sees $req\\downarrow$ at time $(2t_w + 2t_g) + t_w = 3t_w + 2t_g$.\n\n6.  The receiver's logic reacts to $req\\downarrow$ by deasserting its acknowledge signal ($ack\\downarrow$). This reaction takes $t_g$. The receiver issues $ack\\downarrow$ at time $(3t_w + 2t_g) + t_g = 3t_w + 3t_g$.\n\n7.  The $ack\\downarrow$ signal propagates back to the sender, taking $t_w$. The sender sees $ack\\downarrow$ at time $(3t_w + 3t_g) + t_w = 4t_w + 3t_g$.\n\n8.  With the receipt of $ack\\downarrow$, the handshake sequence for one data item is complete. Under the assumption of steady-state saturation (continuous back-to-back transactions), the sender's logic immediately prepares to start the next transaction. The reaction to the observed $ack\\downarrow$ to generate the next $req\\uparrow$ takes one final gate delay, $t_g$. Thus, the next cycle begins at time $(4t_w + 3t_g) + t_g = 4t_w + 4t_g$.\n\nThe total cycle time, $T_{cycle}$, is the time between successive rising edges of the sender's request signal. From our analysis, this is the time elapsed from $t=0$ to the start of the next cycle.\n$$T_{cycle} = 4t_w + 4t_g = 4(t_g + t_w)$$\nThe maximum sustainable throughput, $\\theta$, is defined as the reciprocal of the cycle time.\n$$\\theta = \\frac{1}{T_{cycle}} = \\frac{1}{4(t_g + t_w)}$$\n\nNext, we derive the end-to-end latency, $T_{lat}$. The problem defines this as the time from the instant the sender asserts $req\\uparrow$ to the instant the sender observes $ack\\uparrow$. This corresponds to the cumulative time up to step $3$ in our event analysis. The constituent delays are: the forward propagation of $req\\uparrow$ ($t_w$), the receiver's reaction ($t_g$), and the return propagation of $ack\\uparrow$ ($t_w$).\n$$T_{lat} = t_w + t_g + t_w = 2t_w + t_g$$\n\nThe derived expressions for throughput and latency are functions of the given timing parameters, $t_g$ and $t_w$, as required.",
            "answer": "$$\\boxed{\\begin{pmatrix} \\frac{1}{4(t_g + t_w)} & 2t_w + t_g \\end{pmatrix}}$$"
        }
    ]
}