{
    "hands_on_practices": [
        {
            "introduction": "Understanding Parametric On-Chip Variation (POCV) begins with the fundamental principle of statistical aggregation. This exercise guides you through a first-principles calculation of a path's timing margin, assuming individual stage delays are independent random variables. By computing the path standard deviation from the sum of stage variances and the resulting derate factor, you will solidify your grasp on how POCV quantifies the impact of random variation in a statistically rigorous way .",
            "id": "4286526",
            "problem": "Consider a single timing path in a digital integrated circuit analyzed under Parametric On-Chip Variation (POCV). On-Chip Variation (OCV) refers to random delay fluctuations due to process, voltage, and temperature variations across the chip. Advanced On-Chip Variation (AOCV) models introduce context dependence (for example, path depth and slews) via stage-specific derate tables, while Parametric On-Chip Variation (POCV) models the path delay as a random variable built from the statistical aggregation of per-stage delay variations.\n\nAssume the path delay is modeled as the sum of independent stage delays. Let the nominal delay of stage $i$ be $d_{0,i}$ and its zero-mean local random variation be $\\delta d_{i}$ with standard deviation $\\sigma_{i}$, and assume $\\delta d_{i}$ are mutually independent across stages. Under the central limit theorem, the path delay distribution approaches a Gaussian with mean equal to the sum of nominal delays and variance equal to the sum of the stage variances. For a $k$-standard-deviation ($k\\sigma$) yield target (one-sided), the additive margin is defined as the $k$ times the path standard deviation.\n\nGiven the following path of five arcs with nominal delays and local standard deviations:\n- Stage $1$: $d_{0,1} = 28\\ \\mathrm{ps}$, $\\sigma_{1} = 1.5\\ \\mathrm{ps}$,\n- Stage $2$: $d_{0,2} = 45\\ \\mathrm{ps}$, $\\sigma_{2} = 2.1\\ \\mathrm{ps}$,\n- Stage $3$: $d_{0,3} = 37\\ \\mathrm{ps}$, $\\sigma_{3} = 1.8\\ \\mathrm{ps}$,\n- Stage $4$: $d_{0,4} = 22\\ \\mathrm{ps}$, $\\sigma_{4} = 1.2\\ \\mathrm{ps}$,\n- Stage $5$: $d_{0,5} = 40\\ \\mathrm{ps}$, $\\sigma_{5} = 2.5\\ \\mathrm{ps}$,\n\nand the yield target $k = 3$, derive from first principles:\n1. The path $k\\sigma$ margin in picoseconds, and\n2. The corresponding multiplicative derate factor relative to the nominal path delay $\\sum_{i} d_{0,i}$.\n\nExpress the margin in $\\mathrm{ps}$ and the derate factor as dimensionless. Round both quantities to four significant figures. Provide your final answer as a two-entry row matrix in the order: path $k\\sigma$ margin, derate factor.",
            "solution": "The problem asks for the calculation of the path timing margin and the corresponding multiplicative derate factor for a digital logic path composed of $N=5$ stages, based on the POCV model. The delay of each stage $i$, denoted by $D_i$, is a random variable given by the sum of its nominal delay $d_{0,i}$ and a zero-mean random variation $\\delta d_i$.\n$$D_i = d_{0,i} + \\delta d_i$$\nThe random variations $\\delta d_i$ are mutually independent across all stages, with a mean $E[\\delta d_i] = 0$ and a standard deviation $\\sigma_i$.\n\nThe total path delay, $D_\\text{path}$, is the sum of the individual stage delays:\n$$D_\\text{path} = \\sum_{i=1}^{N} D_i = \\sum_{i=1}^{N} (d_{0,i} + \\delta d_i)$$\n\nFirst, we determine the statistical properties of the total path delay. The mean of the path delay, $\\mu_\\text{path}$, is the sum of the means of the individual stage delays. The mean of a single stage delay is:\n$$E[D_i] = E[d_{0,i} + \\delta d_i] = E[d_{0,i}] + E[\\delta d_i] = d_{0,i} + 0 = d_{0,i}$$\nsince $d_{0,i}$ is a constant. Therefore, the mean of the total path delay is the sum of the nominal stage delays:\n$$\\mu_\\text{path} = E[D_\\text{path}] = E\\left[\\sum_{i=1}^{N} D_i\\right] = \\sum_{i=1}^{N} E[D_i] = \\sum_{i=1}^{N} d_{0,i}$$\nThis sum represents the nominal path delay.\n\nNext, we find the variance of the path delay, $\\sigma_\\text{path}^2$. Because the random variations $\\delta d_i$ are mutually independent, the variance of the sum is the sum of the variances. The variance of a single stage delay is:\n$$\\mathrm{Var}(D_i) = \\mathrm{Var}(d_{0,i} + \\delta d_i) = \\mathrm{Var}(\\delta d_i) = \\sigma_i^2$$\nThus, the variance of the total path delay is:\n$$\\sigma_\\text{path}^2 = \\mathrm{Var}(D_\\text{path}) = \\mathrm{Var}\\left(\\sum_{i=1}^{N} D_i\\right) = \\sum_{i=1}^{N} \\mathrm{Var}(D_i) = \\sum_{i=1}^{N} \\sigma_i^2$$\nThe standard deviation of the path delay is the square root of the variance:\n$$\\sigma_\\text{path} = \\sqrt{\\sum_{i=1}^{N} \\sigma_i^2}$$\n\nThe problem requires two calculations: the path $k\\sigma$ margin and the multiplicative derate factor.\n\n1.  **Path $k\\sigma$ Margin Calculation**\n\nThe additive path margin is defined as $k$ times the path standard deviation, for a yield target of $k$ standard deviations. Given $k=3$, the margin is $3\\sigma_\\text{path}$.\n\nFirst, we calculate the path variance $\\sigma_\\text{path}^2$ using the given standard deviations for the $N=5$ stages:\n$\\sigma_1 = 1.5\\ \\mathrm{ps}$, $\\sigma_2 = 2.1\\ \\mathrm{ps}$, $\\sigma_3 = 1.8\\ \\mathrm{ps}$, $\\sigma_4 = 1.2\\ \\mathrm{ps}$, $\\sigma_5 = 2.5\\ \\mathrm{ps}$.\n$$\\sigma_\\text{path}^2 = \\sigma_1^2 + \\sigma_2^2 + \\sigma_3^2 + \\sigma_4^2 + \\sigma_5^2$$\n$$\\sigma_\\text{path}^2 = (1.5)^2 + (2.1)^2 + (1.8)^2 + (1.2)^2 + (2.5)^2\\ \\mathrm{ps}^2$$\n$$\\sigma_\\text{path}^2 = 2.25 + 4.41 + 3.24 + 1.44 + 6.25\\ \\mathrm{ps}^2 = 17.59\\ \\mathrm{ps}^2$$\nThe path standard deviation is:\n$$\\sigma_\\text{path} = \\sqrt{17.59}\\ \\mathrm{ps} \\approx 4.1940434\\ \\mathrm{ps}$$\nThe $k\\sigma$ margin is then:\n$$\\text{Margin} = k \\sigma_\\text{path} = 3 \\times \\sqrt{17.59}\\ \\mathrm{ps} \\approx 12.5821302\\ \\mathrm{ps}$$\nRounding to four significant figures, the margin is $12.58\\ \\mathrm{ps}$.\n\n2.  **Multiplicative Derate Factor Calculation**\n\nThe multiplicative derate factor is the ratio of the total worst-case path delay (nominal + margin) to the nominal path delay.\n$$\\text{Derate Factor} = \\frac{\\mu_\\text{path} + k\\sigma_\\text{path}}{\\mu_\\text{path}} = 1 + \\frac{k\\sigma_\\text{path}}{\\mu_\\text{path}}$$\nFirst, we calculate the nominal path delay $\\mu_\\text{path}$ by summing the nominal stage delays:\n$d_{0,1} = 28\\ \\mathrm{ps}$, $d_{0,2} = 45\\ \\mathrm{ps}$, $d_{0,3} = 37\\ \\mathrm{ps}$, $d_{0,4} = 22\\ \\mathrm{ps}$, $d_{0,5} = 40\\ \\mathrm{ps}$.\n$$\\mu_\\text{path} = d_{0,1} + d_{0,2} + d_{0,3} + d_{0,4} + d_{0,5}$$\n$$\\mu_\\text{path} = 28 + 45 + 37 + 22 + 40\\ \\mathrm{ps} = 172\\ \\mathrm{ps}$$\nNow, we can calculate the derate factor using the previously computed margin and the nominal path delay:\n$$\\text{Derate Factor} = 1 + \\frac{12.5821302}{172} \\approx 1 + 0.07315192 \\approx 1.07315192$$\nRounding to four significant figures, the derate factor is $1.073$.\n\nThe two requested values are the path margin, $12.58\\ \\mathrm{ps}$, and the dimensionless derate factor, $1.073$.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n12.58 & 1.073\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "While traditional On-Chip Variation (OCV) models apply a single, pessimistic derate, more advanced methods recognize that random variations tend to average out over longer paths. This practice demonstrates the power of Advanced OCV (AOCV), which uses a depth-dependent derate to reduce this pessimism . By comparing the timing slack calculated with a flat OCV derate versus a path-depth-aware AOCV model, you will quantify the tangible benefit of accounting for statistical averaging.",
            "id": "4286476",
            "problem": "A synchronous pipeline in a digital integrated circuit is analyzed using Static Timing Analysis (STA). The propagation delay of a combinational path between two registers is modeled as the sum of stage delays, where each stage delay has a nominal component and a variation component due to On-Chip Variation (OCV). The slack is defined by the fundamental STA relation $s = T_\\mathrm{req} - T_\\mathrm{arr}$, where $T_\\mathrm{req}$ is the required arrival time and $T_\\mathrm{arr}$ is the actual arrival time of data at the endpoint. Under fixed OCV, a single derate factor is applied uniformly to all stages, while Advanced On-Chip Variation (AOCV) uses a depth-dependent derate to account for correlation and averaging of random variations with increasing path depth.\n\nConsider a combinational path of depth $N = 20$ with identical nominal stage delays $d = 30\\,\\text{ps}$, and a required arrival time $T_\\mathrm{req} = 650\\,\\text{ps}$. The fixed OCV analysis uses a uniform derate factor $d_\\mathrm{OCV} = 1.10$. The AOCV analysis uses a path-depth dependent derate function\n$$\n\\delta(N) = 1 + \\delta_\\mathrm{sys} + \\delta_\\mathrm{rand}\\,\\exp(-\\gamma N),\n$$\nwith $\\delta_\\mathrm{sys} = 0.02$, $\\delta_\\mathrm{rand} = 0.08$, and $\\gamma = 0.15$. Assume that in both approaches, the arrival time is computed by multiplying the total nominal path delay by the appropriate derate factor.\n\nUsing these data and the definitions above, compute the slack improvement $\\Delta s$ due to AOCV relative to fixed OCV, defined as $\\Delta s = s_\\mathrm{AOCV} - s_\\mathrm{OCV}$. Round your final answer to four significant figures and express it in picoseconds (ps).",
            "solution": "The slack improvement, $\\Delta s$, is defined as the difference between the slack calculated using AOCV ($s_\\mathrm{AOCV}$) and the slack calculated using fixed OCV ($s_\\mathrm{OCV}$).\n$$\n\\Delta s = s_\\mathrm{AOCV} - s_\\mathrm{OCV}\n$$\nThe slack, $s$, is given by the fundamental STA relation $s = T_\\mathrm{req} - T_\\mathrm{arr}$, where $T_\\mathrm{req}$ is the required arrival time and $T_\\mathrm{arr}$ is the actual arrival time. Substituting this into the expression for $\\Delta s$:\n$$\n\\Delta s = (T_\\mathrm{req} - T_\\mathrm{arr, AOCV}) - (T_\\mathrm{req} - T_\\mathrm{arr, OCV})\n$$\nThe term $T_\\mathrm{req}$ cancels out, simplifying the expression to:\n$$\n\\Delta s = T_\\mathrm{arr, OCV} - T_\\mathrm{arr, AOCV}\n$$\nThis shows that the slack improvement is equal to the reduction in the calculated worst-case arrival time.\n\nFirst, we calculate the total nominal path delay, $T_\\mathrm{nom}$. This is the product of the number of stages, $N$, and the nominal delay per stage, $d$.\n$$\nT_\\mathrm{nom} = N \\times d = 20 \\times 30\\,\\text{ps} = 600\\,\\text{ps}\n$$\nNext, we calculate the arrival time for the fixed OCV case, $T_\\mathrm{arr, OCV}$, by multiplying the total nominal delay by the uniform derate factor $d_\\mathrm{OCV}$.\n$$\nT_\\mathrm{arr, OCV} = T_\\mathrm{nom} \\times d_\\mathrm{OCV} = 600\\,\\text{ps} \\times 1.10 = 660\\,\\text{ps}\n$$\nNow, we calculate the arrival time for the AOCV case, $T_\\mathrm{arr, AOCV}$. This requires first computing the depth-dependent derate factor, $\\delta(N)$, for the path depth $N=20$.\n$$\n\\delta(N) = 1 + \\delta_\\mathrm{sys} + \\delta_\\mathrm{rand}\\,\\exp(-\\gamma N)\n$$\nSubstituting the given parameters $\\delta_\\mathrm{sys} = 0.02$, $\\delta_\\mathrm{rand} = 0.08$, $\\gamma = 0.15$, and $N = 20$:\n$$\n\\delta(20) = 1 + 0.02 + 0.08 \\times \\exp(-0.15 \\times 20) = 1.02 + 0.08 \\exp(-3)\n$$\nThe arrival time for the AOCV case is then:\n$$\nT_\\mathrm{arr, AOCV} = T_\\mathrm{nom} \\times \\delta(20) = 600\\,\\text{ps} \\times (1.02 + 0.08 \\exp(-3))\n$$\nFinally, we compute the slack improvement $\\Delta s$:\n$$\n\\Delta s = T_\\mathrm{arr, OCV} - T_\\mathrm{arr, AOCV}\n$$\n$$\n\\Delta s = (T_\\mathrm{nom} \\times d_\\mathrm{OCV}) - (T_\\mathrm{nom} \\times \\delta(20))\n$$\n$$\n\\Delta s = T_\\mathrm{nom} \\times (d_\\mathrm{OCV} - \\delta(20))\n$$\n$$\n\\Delta s = 600 \\times (1.10 - (1.02 + 0.08 \\exp(-3)))\n$$\n$$\n\\Delta s = 600 \\times (0.08 - 0.08 \\exp(-3))\n$$\n$$\n\\Delta s = 48 \\times (1 - \\exp(-3))\n$$\nNow we evaluate the numerical value, using $\\exp(-3) \\approx 0.049787$:\n$$\n\\Delta s \\approx 48 \\times (1 - 0.049787068) = 48 \\times 0.950212932 \\approx 45.610220736\\,\\text{ps}\n$$\nRounding to four significant figures, the slack improvement is $45.61\\,\\text{ps}$.",
            "answer": "$$\\boxed{45.61}$$"
        },
        {
            "introduction": "The choice between AOCV and POCV involves trade-offs in accuracy and complexity, particularly in how they model correlations between stage delays. This problem presents a scenario that directly contrasts the two methodologies for a path with correlated arcs . By deriving and comparing the margins from a POCV model that explicitly uses a correlation coefficient, $\\rho$, and an AOCV model based on per-arc derating factors, you will gain insight into the distinct mathematical assumptions that underpin these advanced variation models.",
            "id": "4286542",
            "problem": "An Electronic Design Automation (EDA) timing sign-off team is comparing Advanced On-Chip Variation (AOCV) and Parametric On-Chip Variation (POCV) on a two-arc combinational path between flip-flops in a single clock domain. Each arc delay is modeled by a linearized Gaussian random variable due to process variation. Assume the following fundamental modeling facts: if $X$ and $Y$ are jointly Gaussian with means $\\mu_X$ and $\\mu_Y$, standard deviations $\\sigma_X$ and $\\sigma_Y$, and correlation coefficient $\\rho$, then the sum $Z = X + Y$ is Gaussian with mean $\\mu_X + \\mu_Y$ and variance $\\sigma_X^2 + \\sigma_Y^2 + 2\\,\\rho\\,\\sigma_X \\sigma_Y$. A $k$-sigma worst-case timing margin for a Gaussian variable with standard deviation $\\sigma$ is $k\\,\\sigma$.\n\nConsider a path with two serial arcs. The first arc has standard deviation $\\sigma_1 = 3\\,\\mathrm{ps}$ and the second arc has standard deviation $\\sigma_2 = 15\\,\\mathrm{ps}$, arising from nonuniform sensitivities of different cells to process parameters. The correlation coefficient between the two arcsâ€™ delay variations is $\\rho = 0.7$ due to shared global variation. The sign-off uses a $k$-sigma quantile with $k = 3$.\n\nUnder Parametric On-Chip Variation (POCV), the path margin is obtained from the distribution of the sum of the two arc delays. Under Advanced On-Chip Variation (AOCV), the sign-off uses a depth-based per-arc reduction table at path depth $2$ with factors $r_1 = 1.0$ for the first arc and $r_2 = 0.6$ for the second arc; the AOCV margin is the $k$-sigma multiple of the sum of the per-arc reduced standard deviations.\n\nStarting only from the modeling facts above and the definition of correlation, derive expressions for both POCV and AOCV margins for this path and compute the numerical difference\n$\\Delta = M_\\mathrm{POCV} - M_\\mathrm{AOCV}$.\n\nRound your final numeric result for $\\Delta$ to four significant figures. Express the final answer in picoseconds (ps). Do not include any intermediate rounded values in your derivation.",
            "solution": "The problem asks for the difference between the timing margins calculated using the POCV and AOCV models for a 2-arc combinational path. Let the random variables for the delays of the two arcs be $D_1$ and $D_2$.\n\nThe given parameters are:\n- Standard deviation of the first arc delay: $\\sigma_1 = 3\\,\\mathrm{ps}$\n- Standard deviation of the second arc delay: $\\sigma_2 = 15\\,\\mathrm{ps}$\n- Correlation coefficient between the arc delays: $\\rho = 0.7$\n- Sigma multiplier for sign-off: $k = 3$\n- AOCV reduction factor for the first arc: $r_1 = 1.0$\n- AOCV reduction factor for the second arc: $r_2 = 0.6$\n\nThe objective is to compute the difference $\\Delta = M_\\mathrm{POCV} - M_\\mathrm{AOCV}$.\n\nFirst, we derive the expression for the POCV margin, $M_\\mathrm{POCV}$.\nThe POCV model considers the statistical distribution of the total path delay, $D_\\text{path} = D_1 + D_2$. The variance of the sum of two correlated random variables is $\\sigma_{path}^2 = \\sigma_1^2 + \\sigma_2^2 + 2\\rho\\sigma_1\\sigma_2$. Applying this to our path:\n$$\n\\sigma_\\text{path}^2 = (3\\,\\mathrm{ps})^2 + (15\\,\\mathrm{ps})^2 + 2(0.7)(3\\,\\mathrm{ps})(15\\,\\mathrm{ps})\n$$\n$$\n\\sigma_\\text{path}^2 = 9\\,\\mathrm{ps}^2 + 225\\,\\mathrm{ps}^2 + 63\\,\\mathrm{ps}^2 = 297\\,\\mathrm{ps}^2\n$$\nThe standard deviation of the total path delay is the square root of the variance:\n$$\n\\sigma_\\text{path} = \\sqrt{297}\\,\\mathrm{ps}\n$$\nThe POCV margin is a $k$-sigma multiple of this path standard deviation:\n$$\nM_\\mathrm{POCV} = k \\cdot \\sigma_\\text{path} = 3\\sqrt{297}\\,\\mathrm{ps}\n$$\n\nNext, we derive the expression for the AOCV margin, $M_\\mathrm{AOCV}$.\nThe AOCV model, as defined in the problem, calculates the margin as the $k$-sigma multiple of the sum of per-arc *reduced* standard deviations. The reduced standard deviation for arc $i$ is $\\sigma'_i = r_i \\sigma_i$. The sum of the reduced standard deviations is:\n$$\n\\Sigma_{\\sigma'} = r_1\\sigma_1 + r_2\\sigma_2 = (1.0)(3\\,\\mathrm{ps}) + (0.6)(15\\,\\mathrm{ps})\n$$\n$$\n\\Sigma_{\\sigma'} = 3\\,\\mathrm{ps} + 9\\,\\mathrm{ps} = 12\\,\\mathrm{ps}\n$$\nThe AOCV margin is the $k$-sigma multiple of this sum:\n$$\nM_\\mathrm{AOCV} = k \\cdot \\Sigma_{\\sigma'} = 3 \\cdot (12\\,\\mathrm{ps}) = 36\\,\\mathrm{ps}\n$$\nThis AOCV formulation is a simplified model for the problem, performing a linear sum of reduced standard deviations.\n\nFinally, we compute the difference $\\Delta = M_\\mathrm{POCV} - M_\\mathrm{AOCV}$.\n$$\n\\Delta = 3\\sqrt{297}\\,\\mathrm{ps} - 36\\,\\mathrm{ps}\n$$\nUsing the value $\\sqrt{297} \\approx 17.2336879$:\n$$\n\\Delta \\approx 3 \\times 17.2336879 - 36\n$$\n$$\n\\Delta \\approx 51.7010637 - 36 = 15.7010637\\,\\mathrm{ps}\n$$\nRounding the final result to four significant figures gives:\n$$\n\\Delta \\approx 15.70\\,\\mathrm{ps}\n$$\nThis positive difference indicates that for this specific path with high correlation, the POCV model results in a more pessimistic (larger) timing margin than the specified AOCV model.",
            "answer": "$$\\boxed{15.70}$$"
        }
    ]
}