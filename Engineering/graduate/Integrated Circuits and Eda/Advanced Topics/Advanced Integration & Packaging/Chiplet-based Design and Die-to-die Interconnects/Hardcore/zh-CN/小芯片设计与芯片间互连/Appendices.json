{
    "hands_on_practices": [
        {
            "introduction": "芯片行业转向Chiplet设计的核心驱动力之一是提高制造良率和降低成本。对于大面积的单片芯片而言，整个芯片完全没有制造缺陷的概率很低，导致成本高昂。本练习将引导你使用基本的泊松缺陷模型，来量化分析将大型芯片拆分为多个小芯粒（Chiplet）对整体模块良率的影响，从而从根本上理解Chiplet设计的经济学优势。",
            "id": "4259630",
            "problem": "一个在电子设计自动化（EDA）领域内设计的、基于芯粒（chiplet）的多芯片模块由 $N$ 个相同的芯粒组成，其总有效硅面积为 $A$。生产线在晶圆上表现出每单位面积上均匀随机的缺陷密度 $D$。假设遵循以下基本模型和条件：\n\n- 缺陷的出现服从泊松分布：对于任何面积 $a$，该区域内的缺陷数量 $K$ 是一个泊松随机变量，其均值为 $\\lambda = D a$。\n- 一个芯粒在其有效区域内包含零个缺陷时，当且仅当此时，该芯粒被认为是功能正常的。\n- 所有芯粒都是相同的，具有相同的有效面积，且不同芯粒间的缺陷发生是相互独立的。\n- 封装，包括芯片贴装、微凸点键合以及芯片间互连组装与测试，其成功与硅缺陷无关，成功概率为 $Y_{p}$，其中 $0  Y_{p} \\leq 1$。\n\n严格从泊松缺陷模型和所述的独立性假设出发，推导出整体模块良率 $Y_{\\text{module}}$ 作为 $D$、$A$、$N$ 和 $Y_{p}$ 函数的闭式解析表达式。请将最终答案表示为单一的简化符号表达式。不要将结果转换为百分比。",
            "solution": "首先验证问题陈述的正确性和可解性。\n\n### 步骤1：提取已知条件\n- $N$：相同芯粒的数量。\n- $A$：所有 $N$ 个芯粒的总有效硅面积。\n- $D$：每单位面积的均匀随机缺陷密度。\n- 在面积 $a$ 内的缺陷数量 $K$ 是一个泊松随机变量，其均值为 $\\lambda = D a$。\n- 一个芯粒功能正常，当且仅当其有效区域内没有缺陷。\n- 所有芯粒都是相同的，并且它们的缺陷是相互独立的。\n- $Y_p$：封装成功的概率，独立于硅缺陷，其中 $0  Y_p \\leq 1$。\n- 目标是推导整体模块良率 $Y_{\\text{module}}$ 作为 $D$、$A$、$N$ 和 $Y_p$ 函数的闭式解析表达式。\n\n### 步骤2：使用提取的已知条件进行验证\n- **科学依据**：该问题基于泊松缺陷分布模型，这是半导体良率分析中一个基础且广泛使用的模型。独立性假设是一阶分析的标准假设。该问题在科学上是合理的。\n- **适定性**：该问题提供了推导模块良率唯一解析表达式所需的所有必要参数和关系。\n- **客观性**：问题以精确、定量的术语陈述，没有歧义或主观内容。\n\n所有验证标准均已满足。该问题被认定为有效。\n\n### 步骤3：结论与行动\n问题有效。将提供详细的解答。\n\n### 解题推导\n整体模块良率 $Y_{\\text{module}}$ 的推导过程如下：首先确定单个芯粒的良率，然后是模块上所有芯粒的组合良率，最后计入封装良率。\n\n1.  **单个芯粒的面积与缺陷率**\n    $N$ 个相同芯粒的总有效硅面积为 $A$。因此，单个芯粒的有效面积（记为 $a_c$）由下式给出：\n    $$a_c = \\frac{A}{N}$$\n    根据问题陈述，缺陷的出现遵循泊松分布。在单个芯粒面积 $a_c$ 内的平均缺陷数 $\\lambda_c$ 为：\n    $$\\lambda_c = D \\cdot a_c = D \\frac{A}{N}$$\n\n2.  **单个芯粒的良率 ($Y_{\\text{chiplet}}$)**\n    一个芯粒功能正常，当且仅当它包含零个缺陷。在平均有 $\\lambda_c$ 个缺陷的区域内观察到 $k$ 个缺陷的概率由泊松概率质量函数给出：\n    $$P(K=k) = \\frac{\\lambda_c^k \\exp(-\\lambda_c)}{k!}$$\n    单个芯粒的良率 $Y_{\\text{chiplet}}$ 是恰好有零个缺陷（$k=0$）的概率：\n    $$Y_{\\text{chiplet}} = P(K=0) = \\frac{\\lambda_c^0 \\exp(-\\lambda_c)}{0!}$$\n    由于 $x^0 = 1$ 且 $0! = 1$，上式可简化为：\n    $$Y_{\\text{chiplet}} = \\exp(-\\lambda_c)$$\n    代入 $\\lambda_c$ 的表达式：\n    $$Y_{\\text{chiplet}} = \\exp\\left(-D \\frac{A}{N}\\right)$$\n\n3.  **所有芯粒的组合硅片良率 ($Y_{\\text{silicon}}$)**\n    要使多芯片模块从硅片的角度看功能正常，所有 $N$ 个芯粒都必须功能正常。问题陈述中说明了不同芯粒间的缺陷是独立发生的。因此，所有 $N$ 个芯粒都功能正常的概率是它们各自良率的乘积。\n    $$Y_{\\text{silicon}} = (Y_{\\text{chiplet}})^N$$\n    代入 $Y_{\\text{chiplet}}$ 的表达式：\n    $$Y_{\\text{silicon}} = \\left( \\exp\\left(-D \\frac{A}{N}\\right) \\right)^N$$\n    使用指数性质 $(x^a)^b = x^{ab}$，表达式简化为：\n    $$Y_{\\text{silicon}} = \\exp\\left(-D \\frac{A}{N} \\cdot N\\right) = \\exp(-DA)$$\n    这个结果表明，在简单的泊松模型下，总硅片良率与分割数量 $N$ 无关，等同于面积为 $A$ 的单片裸晶的良率。\n\n4.  **整体模块良率 ($Y_{\\text{module}}$)**\n    最终的模块良率 $Y_{\\text{module}}$ 要求硅片组件功能正常且封装过程成功。问题陈述中说明了封装成功（概率为 $Y_p$）独立于硅缺陷。因此，整体模块良率是组合硅片良率与封装良率的乘积。\n    $$Y_{\\text{module}} = Y_{\\text{silicon}} \\cdot Y_p$$\n    代入推导出的 $Y_{\\text{silicon}}$ 表达式：\n    $$Y_{\\text{module}} = \\exp(-DA) \\cdot Y_p$$\n    这就是整体模块良率的最终闭式解析表达式。它是给定参数 $D$、$A$ 和 $Y_p$ 的函数。尽管推导过程明确使用了 $N$，但该参数最终被消去，因此在指定的模型条件下，最终的良率值与 $N$ 无关。不过，在更广泛的数学意义上，该表达式仍可被视为 $N$ 的函数，只是它对 $N$ 的偏导数为零。\n\n最终表达式为：\n$$Y_{\\text{module}} = Y_p \\exp(-DA)$$",
            "answer": "$$\\boxed{Y_p \\exp(-DA)}$$"
        },
        {
            "introduction": "在理解了采用Chiplet的“为什么”之后，我们来探讨“如何”实现高性能连接。Chiplet架构的成功依赖于Die-to-Die之间高带宽、低延迟的互连。本练习聚焦于评估Die-to-Die接口的一个关键性能指标：带宽密度（bandwidth density）。你将学习如何从微凸点间距（bump pitch）和单通道速率等基本物理参数出发，计算出每毫米芯片边缘能提供的总带宽。",
            "id": "4259560",
            "problem": "在一个嵌入式多芯片互连桥接（EMIB）配置中，一个逻辑芯片和一个输入/输出芯片通过硅桥连接，构成电子设计自动化（EDA）设计中一种基于桥接的芯片间链路。沿着芯片的一条边缘，信号微凸块（micro-bump）以 $p = 35\\ \\mu\\mathrm{m}$ 的均匀中心间距（pitch）排列。假设每条高速通道恰好使用一个信号凸块，电源/接地凸块在别处提供，不占用此处计算的信号凸块位置，并且通道间串扰约束已通过物理设计规则得到满足，因此所有信号凸块都可以被布设。\n\n每条通道的原始线路速率为 $R = 56\\ \\mathrm{Gb/s}$，端到端协议和实现会因编码、流控制、空闲周期和重试而产生开销，使得长期有效利用率因子为 $\\eta = 0.90$（无量纲）。您可以假设系统处于稳态运行，具有足够深的缓冲，因此可以忽略突发性，并假设所有通道的线路速率和利用率是均匀的。\n\n从关联空间间距与单位长度计数、以及有效吞吐量与原始速率和利用率的基本定义出发，推导出一个表示每毫米芯片边缘聚合带宽的表达式，并根据给定参数计算其值。以太比特每秒每毫米（Tbit/s/mm）为单位表示您的最终答案，并将答案四舍五入到四位有效数字。不要引用现有技术中的中间公式；相反，应根据间距、单位长度数量和吞吐量聚合的定义进行推理。",
            "solution": "问题陈述经评估有效。它在科学上基于集成电路设计和数字通信的原理，问题提出得当，目标明确，数据充分，并以客观、明确的语言表达。所有给定的参数，例如凸块间距（$p = 35\\ \\mu\\mathrm{m}$）和线路速率（$R = 56\\ \\mathrm{Gb/s}$），对于现代芯片间互连技术都是符合实际的。问题是自洽的，没有矛盾。我现在将从基本原理出发，给出一个推理过程清晰的解决方案。\n\n目标是确定每毫米芯片边缘的聚合带宽，我们将其表示为 $B_{agg/L}$。这个量代表了带宽密度。可以通过首先计算通信通道的空间密度，然后乘以每条独立通道的有效数据吞吐量来求得。\n\n首先，我们定义信号通道的线密度 $\\lambda_{lane}$。问题陈述微凸块以均匀的中心间距（或称节距）$p$ 排列。又知每条高速通道恰好使用一个信号凸块。因此，间距 $p$ 是分配给单条通道沿芯片边缘的距离。单位长度上可以放置的通道数是该间距的倒数。\n$$ \\lambda_{lane} = \\frac{1}{p} $$\n$\\lambda_{lane}$ 的单位将是通道数每单位长度，例如，如果 $p$ 以米为单位，则为通道数/米。\n\n其次，我们确定单条通道的有效数据吞吐量，记为 $T_{lane}$。问题给出了原始线路速率 $R$，即每秒传输的总比特数，无论其内容如何（即数据、编码或开销）。问题还提供了一个长期有效利用率因子 $\\eta$，它计入了所有协议和实现的开销。这个无量纲因子代表了原始线路速率中对应于有效数据负载的部分。因此，一条通道的有效吞吐量是原始线路速率与利用率因子的乘积。\n$$ T_{lane} = R \\times \\eta $$\n$T_{lane}$ 的单位将是有效比特每秒。\n\n第三，为了求得单位芯片边缘长度的聚合带宽 $B_{agg/L}$，我们将这两个基本量结合起来。这是通过将单位长度的通道数乘以每条通道的有效吞吐量来实现的。\n$$ B_{agg/L} = \\lambda_{lane} \\times T_{lane} $$\n代入上面推导出的表达式，我们得到通用公式：\n$$ B_{agg/L} = \\left(\\frac{1}{p}\\right) \\times (R \\eta) = \\frac{R\\eta}{p} $$\n\n现在，我们将给定的数值代入此表达式。给定的参数是：\n- 间距, $p = 35\\ \\mu\\mathrm{m}$\n- 原始线路速率, $R = 56\\ \\mathrm{Gb/s}$\n- 利用率因子, $\\eta = 0.90$\n\n为确保量纲一致性并得到所需的最终单位 Tbit/s/mm，我们必须进行仔细的单位换算。让我们首先将所有量转换到一组基本单位（米、比特、秒）。\n- $p = 35\\ \\mu\\mathrm{m} = 35 \\times 10^{-6}\\ \\mathrm{m}$\n- $R = 56\\ \\mathrm{Gb/s} = 56 \\times 10^9\\ \\mathrm{bits/s}$\n- $\\eta = 0.90$ (无量纲)\n\n将这些值代入我们推导的表达式中：\n$$ B_{agg/L} = \\frac{(56 \\times 10^9\\ \\mathrm{bits/s}) \\times 0.90}{35 \\times 10^{-6}\\ \\mathrm{m}} $$\n首先，我们计算分子：\n$$ R \\times \\eta = 56 \\times 10^9 \\times 0.90\\ \\mathrm{bits/s} = 50.4 \\times 10^9\\ \\mathrm{bits/s} $$\n现在我们进行除法运算：\n$$ B_{agg/L} = \\frac{50.4 \\times 10^9\\ \\mathrm{bits/s}}{35 \\times 10^{-6}\\ \\mathrm{m}} = \\left(\\frac{50.4}{35}\\right) \\times 10^{9 - (-6)}\\ \\frac{\\mathrm{bits}}{\\mathrm{s} \\cdot \\mathrm{m}} $$\n$$ B_{agg/L} = 1.44 \\times 10^{15}\\ \\frac{\\mathrm{bits}}{\\mathrm{s} \\cdot \\mathrm{m}} $$\n最后一步是将此结果从比特每秒每米（$\\mathrm{bits}/\\mathrm{s}/\\mathrm{m}$）转换为太比特每秒每毫米（$\\mathrm{Tbit}/\\mathrm{s}/\\mathrm{mm}$）。我们使用以下转换因子：\n- $1\\ \\mathrm{Tbit} = 10^{12}\\ \\mathrm{bits}$\n- $1\\ \\mathrm{m} = 10^3\\ \\mathrm{mm}$\n$$ B_{agg/L} = 1.44 \\times 10^{15}\\ \\frac{\\mathrm{bits}}{\\mathrm{s} \\cdot \\mathrm{m}} \\times \\left(\\frac{1\\ \\mathrm{Tbit}}{10^{12}\\ \\mathrm{bits}}\\right) \\times \\left(\\frac{1\\ \\mathrm{m}}{10^3\\ \\mathrm{mm}}\\right) $$\n$$ B_{agg/L} = 1.44 \\times \\frac{10^{15}}{10^{12} \\times 10^3}\\ \\frac{\\mathrm{Tbit}}{\\mathrm{s} \\cdot \\mathrm{mm}} = 1.44 \\times \\frac{10^{15}}{10^{15}}\\ \\frac{\\mathrm{Tbit}}{\\mathrm{s} \\cdot \\mathrm{mm}} $$\n$$ B_{agg/L} = 1.44\\ \\frac{\\mathrm{Tbit}}{\\mathrm{s} \\cdot \\mathrm{mm}} $$\n题目要求答案四舍五入到四位有效数字。计算 $50.4/35$ 的结果恰好是 $1.44$。为了用四位有效数字表示，我们在后面追加一个零。\n$$ B_{agg/L} = 1.440\\ \\frac{\\mathrm{Tbit}}{\\mathrm{s} \\cdot \\mathrm{mm}} $$\n因此，每毫米芯片边缘的聚合带宽为 $1.440\\ \\mathrm{Tbit/s/mm}$。",
            "answer": "$$\n\\boxed{1.440}\n$$"
        },
        {
            "introduction": "实现高带宽密度意味着数据传输速率极高，这也带来了严峻的时序挑战。本练习将深入探讨一种常见的Die-to-die链路架构——源同步（source-synchronous）接口的时序分析。你将通过计算时序裕量来理解参考时钟偏移（skew）对数据可靠捕获的影响，这是确保多Chiplet系统在高速下稳定工作的关键。",
            "id": "4259619",
            "problem": "两个芯粒之间的一种Die-to-Die并行接口使用源同步信令：发送端芯粒在发送数据的同时发送一个前向时钟，接收端芯粒使用该前向时钟来捕获数据。一个公共参考时钟被分发到两个芯粒，用于将接收端的采样时刻相对于前向时钟进行相位对齐。由于物理分布的原因，参考时钟在芯粒之间会产生一个未知的偏斜。定义接收端采样时刻相对于前向时钟到达时刻的偏移为 $\\,\\delta\\,$，其中正的 $\\,\\delta\\,$ 表示接收端采样晚于前向时钟到达，负的 $\\,\\delta\\,$ 表示接收端采样早于前向时钟到达。\n\n假设以下量在相关工作条件下是已知且恒定的：\n- 链路的单位间隔（时钟周期）为 $\\,T = 400\\,\\text{ps}\\,$.\n- 从发送端启动沿到接收端采样引脚的前向时钟路径延迟为 $\\,D_{\\text{clk}} = 730\\,\\text{ps}\\,$.\n- 从发送端启动沿到接收端数据引脚的数据路径延迟界于 $\\,D_{\\text{data}}^{\\min} = 560\\,\\text{ps}\\,$ 和 $\\,D_{\\text{data}}^{\\max} = 620\\,\\text{ps}\\,$ 之间。\n- 发送端的时钟到Q输出时间界于 $\\,t_{\\text{cq}}^{\\min} = 12\\,\\text{ps}\\,$ 和 $\\,t_{\\text{cq}}^{\\max} = 22\\,\\text{ps}\\,$ 之间。\n- 接收端在采样元件处需要 $\\,t_{\\text{setup}} = 35\\,\\text{ps}\\,$ 的建立时间和 $\\,t_{\\text{hold}} = 20\\,\\text{ps}\\,$ 的保持时间。\n\n从同步时序的基本原理出发，使用建立和保持时间的定义，推导 $\\,\\delta\\,$ 的允许区间，以保证在所有有界延迟下都能正确捕获数据。然后，假设芯粒间的参考时钟偏斜符号可正可负且未知，计算最大允许幅值 $\\,|\\delta|\\,$，使得在所有情况下都满足建立和保持时间的要求。以皮秒为单位表示您的最终答案。不提供中间公式；仅使用相对于采样沿的建立和保持时间的基本定义。不要在最终答案框内包含任何单位。",
            "solution": "源同步接收器使用与前向时钟对齐的采样沿来采样数据，但公共参考时钟的偏斜引入了接收端采样时刻相对于前向时钟到达时刻的一个系统性偏移 $\\,\\delta\\,$。我们使用基于基本定义的到达时间表达式来为一个数据发送和捕获周期的时序建模。\n\n设发送端启动沿发生在时间 $\\,t_{0}\\,$。数据在接收端变为有效的时间由发送端的时钟到Q输出时间和数据路径延迟决定。为了进行最坏情况分析，我们考虑其边界：\n- 用于建立时间的最晚数据到达：\n$$\nt_{\\text{data}}^{\\max} \\;=\\; t_{0} + t_{\\text{cq}}^{\\max} + D_{\\text{data}}^{\\max}.\n$$\n- 用于保持时间的最早下一数据到达（一个周期后发送的下一数据）：\n$$\nt_{\\text{next}}^{\\min} \\;=\\; t_{0} + T + t_{\\text{cq}}^{\\min} + D_{\\text{data}}^{\\min}.\n$$\n\n接收端采样沿（相对于前向时钟到达时刻）发生在：\n$$\nt_{\\text{sample}} \\;=\\; t_{0} + D_{\\text{clk}} + \\delta.\n$$\n\n根据建立时间的定义，最晚数据到达必须比采样沿早至少 $\\,t_{\\text{setup}}\\,$：\n$$\nt_{\\text{sample}} - t_{\\text{data}}^{\\max} \\;\\ge\\; t_{\\text{setup}}.\n$$\n代入表达式：\n$$\n\\left(t_{0} + D_{\\text{clk}} + \\delta\\right) - \\left(t_{0} + t_{\\text{cq}}^{\\max} + D_{\\text{data}}^{\\max}\\right) \\;\\ge\\; t_{\\text{setup}}.\n$$\n消去 $\\,t_{0}\\,$ 并重新整理以分离出 $\\,\\delta\\,$：\n$$\n\\delta \\;\\ge\\; t_{\\text{setup}} + t_{\\text{cq}}^{\\max} + D_{\\text{data}}^{\\max} - D_{\\text{clk}}.\n$$\n定义由建立时间决定的下界：\n$$\nL \\;\\equiv\\; t_{\\text{setup}} + t_{\\text{cq}}^{\\max} + D_{\\text{data}}^{\\max} - D_{\\text{clk}}.\n$$\n\n根据保持时间的定义，最早的下一数据到达必须比采样沿晚至少 $\\,t_{\\text{hold}}\\,$：\n$$\nt_{\\text{next}}^{\\min} - t_{\\text{sample}} \\;\\ge\\; t_{\\text{hold}}.\n$$\n代入表达式：\n$$\n\\left(t_{0} + T + t_{\\text{cq}}^{\\min} + D_{\\text{data}}^{\\min}\\right) - \\left(t_{0} + D_{\\text{clk}} + \\delta\\right) \\;\\ge\\; t_{\\text{hold}}.\n$$\n消去 $\\,t_{0}\\,$ 并重新整理：\n$$\nT + t_{\\text{cq}}^{\\min} + D_{\\text{data}}^{\\min} - D_{\\text{clk}} - \\delta \\;\\ge\\; t_{\\text{hold}},\n$$\n这就得出了由保持时间决定的 $\\,\\delta\\,$ 的上界：\n$$\n\\delta \\;\\le\\; T + t_{\\text{cq}}^{\\min} + D_{\\text{data}}^{\\min} - D_{\\text{clk}} - t_{\\text{hold}}.\n$$\n定义由保持时间决定的上界：\n$$\nU \\;\\equiv\\; T + t_{\\text{cq}}^{\\min} + D_{\\text{data}}^{\\min} - D_{\\text{clk}} - t_{\\text{hold}}.\n$$\n\n因此，采样偏移 $\\,\\delta\\,$ 的允许区间为：\n$$\nL \\;\\le\\; \\delta \\;\\le\\; U.\n$$\n\n题目要求我们计算当偏斜符号可正可负且未知时，最大允许幅值 $\\,|\\delta|\\,$ 是多少。为保证对任何符号都能正确操作，我们需要 $\\,\\delta\\,$ 位于 $[L, U]$ 区间内，并寻找能放入此区间内以零为中心的最大对称幅值。如果 $\\,0 \\in [L, U]\\,$，则最大允许幅值为 $\\,\\min\\{U, -L\\}\\,$。如果 $\\,L  0\\,$，则只允许正的 $\\,\\delta\\,$；如果 $\\,U  0\\,$，则只允许负的 $\\,\\delta\\,$。我们将用给定参数计算 $\\,L\\,$ 和 $\\,U\\,$，然后在假设 $\\,0 \\in [L,U]\\,$ 的情况下取 $\\,\\min\\{U, -L\\}\\,$。\n\n计算 $\\,L\\,$：\n$$\nL \\;=\\; t_{\\text{setup}} + t_{\\text{cq}}^{\\max} + D_{\\text{data}}^{\\max} - D_{\\text{clk}}\n\\;=\\; 35 + 22 + 620 - 730\n\\;=\\; -53\\,\\text{ps}.\n$$\n\n计算 $\\,U\\,$：\n$$\nU \\;=\\; T + t_{\\text{cq}}^{\\min} + D_{\\text{data}}^{\\min} - D_{\\text{clk}} - t_{\\text{hold}}\n\\;=\\; 400 + 12 + 560 - 730 - 20\n\\;=\\; 222\\,\\text{ps}.\n$$\n\n区间为 $\\,[-53\\,\\text{ps},\\,222\\,\\text{ps}]\\,$, 该区间包含零。因此，对于两种符号都安全的、由参考时钟引起的采样偏移的最大允许幅值为：\n$$\n|\\delta|_{\\max} \\;=\\; \\min\\{U,\\,-L\\} \\;=\\; \\min\\{222,\\,53\\} \\;=\\; 53\\,\\text{ps}.\n$$\n\n我们按要求以皮秒为单位表示最终答案。",
            "answer": "$$\\boxed{53}$$"
        }
    ]
}