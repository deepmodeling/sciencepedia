{
    "hands_on_practices": [
        {
            "introduction": "The fundamental advantage of a fractional-N Phase-Locked Loop (PLL) is its ability to achieve exceptionally fine frequency resolution, far exceeding what is possible with an integer-N architecture. This capability is enabled by a digital sigma-delta modulator (DSM) that dithers the division ratio. The resolution of the DSM, determined by its modulus $M$, directly impacts the PLL's frequency step size and accuracy. This exercise provides a foundational walkthrough of how to translate top-level system specifications into the minimum required modulus, a critical first step in any fractional-N PLL design.",
            "id": "4273058",
            "problem": "A fractional-N Phase-Locked Loop (PLL) employs a Multi-stAge noise SHaping (MASH) digital sigma-delta modulator (DSM) to control the instantaneous integer division between $N$ and $N+1$ such that the time-average division ratio equals $N+\\alpha$. The reference frequency is $f_{\\mathrm{ref}} = 40\\,\\mathrm{MHz}$. The target fractional component of the division ratio is $\\alpha_{\\mathrm{tar}} = 0.2718281828$. The DSM input is a $B$-bit fixed-point number, so the realizable fractional division ratios are $\\alpha' = m/2^{B}$ with integer $m \\in \\{0,1,\\dots,2^{B}-1\\}$. The synthesizer must satisfy both of the following specifications:\n\n1) The smallest programmable output frequency increment must not exceed $50\\,\\mathrm{Hz}$.\n\n2) To suppress deterministic fractional spurs within the loop bandwidth by ensuring that only the finite input word resolution contributes to any residual deterministic error, the design uses nearest-neighbor rounding of the DSM input and proper dithering. Under this assumption, the worst-case absolute output frequency error due to quantization of $\\alpha_{\\mathrm{tar}}$ must not exceed $5\\,\\mathrm{Hz}$.\n\nAssume that the output frequency is $f_{\\mathrm{out}} = (N+\\alpha) f_{\\mathrm{ref}}$ and that only the fractional resolution limits the output frequency grid. Also assume that the spur mitigation by dithering is ideal so that limit-cycle tones are eliminated and the only deterministic component is the rounding error of $\\alpha_{\\mathrm{tar}}$ to $\\alpha'$. The modulus must be a power of two, $M = 2^{B}$.\n\nCompute the minimal modulus $M$ that simultaneously satisfies both specifications. Express your final result as an integer with no units. No rounding is required.",
            "solution": "The problem requires finding the minimal modulus $M$ of a sigma-delta modulator in a fractional-N Phase-Locked Loop (PLL) that simultaneously satisfies two performance specifications. The modulus $M$ is constrained to be a power of two, i.e., $M = 2^{B}$ for some integer $B$. We will analyze each specification to derive a lower bound on $M$, and then find the smallest power of two that satisfies the most stringent of these bounds.\n\nThe fundamental relationship governing the PLL's output frequency is given as $f_{\\mathrm{out}} = (N+\\alpha) f_{\\mathrm{ref}}$. The fractional part of the division ratio, $\\alpha$, is approximated by a quantized value $\\alpha' = m/M$, where $m$ is an integer and $M=2^B$ is the modulus of the digital sigma-delta modulator.\n\nFirst, let's analyze Specification 1: \"The smallest programmable output frequency increment must not exceed $50\\,\\mathrm{Hz}$.\"\n\nThe output frequency is a function of the realizable fractional division ratio $\\alpha'$. The smallest programmable frequency step, $\\Delta f_{\\mathrm{out,min}}$, is determined by the smallest possible change in $\\alpha'$. The values of $\\alpha'$ are given by the discrete set $\\{0, 1/M, 2/M, \\dots, (M-1)/M\\}$. The smallest non-zero change in $\\alpha'$ is $\\Delta \\alpha'_{\\mathrm{min}} = 1/M$.\n\nThe corresponding change in the output frequency is:\n$$\n\\Delta f_{\\mathrm{out,min}} = \\Delta \\alpha'_{\\mathrm{min}} \\cdot f_{\\mathrm{ref}} = \\frac{1}{M} f_{\\mathrm{ref}}\n$$\nThe specification requires this step to be no more than $50\\,\\mathrm{Hz}$:\n$$\n\\frac{f_{\\mathrm{ref}}}{M} \\le 50\\,\\mathrm{Hz}\n$$\nWe can rearrange this inequality to find a lower bound on $M$:\n$$\nM \\ge \\frac{f_{\\mathrm{ref}}}{50\\,\\mathrm{Hz}}\n$$\nSubstituting the given reference frequency $f_{\\mathrm{ref}} = 40\\,\\mathrm{MHz} = 40 \\times 10^{6}\\,\\mathrm{Hz}$:\n$$\nM \\ge \\frac{40 \\times 10^{6}}{50} = \\frac{4 \\times 10^{7}}{5 \\times 10^{1}} = 0.8 \\times 10^{6} = 800,000\n$$\nThus, the first specification imposes the constraint $M \\ge 800,000$.\n\nNext, let's analyze Specification 2: \"The worst-case absolute output frequency error due to quantization of $\\alpha_{\\mathrm{tar}}$ must not exceed $5\\,\\mathrm{Hz}$.\"\n\nThe target fractional part is $\\alpha_{\\mathrm{tar}} = 0.2718281828$. This continuous value is quantized to the nearest realizable value $\\alpha' = m/M$. The quantization error in the fractional ratio is $\\epsilon_{\\alpha} = \\alpha' - \\alpha_{\\mathrm{tar}}$. For nearest-neighbor rounding, the magnitude of the quantization error is bounded by half the quantization step size:\n$$\n|\\epsilon_{\\alpha}|_{\\mathrm{max}} = \\left| \\alpha' - \\alpha_{\\mathrm{tar}} \\right|_{\\mathrm{max}} \\le \\frac{1}{2} \\left(\\frac{1}{M}\\right) = \\frac{1}{2M}\n$$\nThe problem states that this quantization error is the only remaining deterministic error source. The resulting absolute output frequency error is $\\Delta f_{\\mathrm{err}} = \\epsilon_{\\alpha} f_{\\mathrm{ref}}$. The worst-case absolute output frequency error is therefore:\n$$\n|\\Delta f_{\\mathrm{err}}|_{\\mathrm{max}} = |\\epsilon_{\\alpha}|_{\\mathrm{max}} f_{\\mathrm{ref}} = \\frac{1}{2M} f_{\\mathrm{ref}}\n$$\nSpecification 2 requires this error to be no more than $5\\,\\mathrm{Hz}$:\n$$\n\\frac{f_{\\mathrm{ref}}}{2M} \\le 5\\,\\mathrm{Hz}\n$$\nAgain, we rearrange to find a lower bound on $M$:\n$$\nM \\ge \\frac{f_{\\mathrm{ref}}}{2 \\cdot 5\\,\\mathrm{Hz}} = \\frac{f_{\\mathrm{ref}}}{10\\,\\mathrm{Hz}}\n$$\nSubstituting the value of $f_{\\mathrm{ref}}$:\n$$\nM \\ge \\frac{40 \\times 10^{6}}{10} = 4 \\times 10^{6} = 4,000,000\n$$\nThus, the second specification imposes the constraint $M \\ge 4,000,000$.\n\nTo satisfy both specifications simultaneously, the modulus $M$ must satisfy the more restrictive condition. Comparing the two lower bounds:\n$$\nM \\ge 800,000 \\quad (\\text{from Spec 1})\n$$\n$$\nM \\ge 4,000,000 \\quad (\\text{from Spec 2})\n$$\nThe more stringent requirement is $M \\ge 4,000,000$.\n\nFinally, the problem states that the modulus $M$ must be a power of two, i.e., $M=2^{B}$ for some integer $B$. We need to find the smallest integer $B$ such that $2^{B} \\ge 4,000,000$.\n\nWe can solve for $B$ by taking the base-2 logarithm:\n$$\nB \\ge \\log_{2}(4,000,000)\n$$\n$$\nB \\ge \\frac{\\ln(4,000,000)}{\\ln(2)}\n$$\nCalculating the value:\n$$\n\\log_{2}(4,000,000) = \\log_{2}(4 \\times 10^{6}) = \\log_{2}(2^2 \\times 10^6) = 2 + \\log_{2}(10^6) = 2 + 6 \\log_{2}(10)\n$$\nSince $\\log_{2}(10) = \\frac{\\ln(10)}{\\ln(2)} \\approx \\frac{2.302585}{0.693147} \\approx 3.321928$,\n$$\nB \\ge 2 + 6 \\times 3.321928 \\approx 2 + 19.931568 = 21.931568\n$$\nSince $B$ must be an integer, the smallest integer value for $B$ that satisfies this condition is $B = 22$.\n\nThe minimal required modulus is therefore:\n$$\nM = 2^{22} = (2^{10})^2 \\cdot 2^2 = (1024)^2 \\cdot 4 = 1,048,576 \\cdot 4 = 4,194,304\n$$\nThis value $M = 4,194,304$ satisfies both $M \\ge 800,000$ and $M \\ge 4,000,000$. The next smaller power of two, $2^{21} = 2,097,152$, fails to meet the second condition. Hence, the minimal modulus is $2^{22}$.",
            "answer": "$$\\boxed{4194304}$$"
        },
        {
            "introduction": "The output spectrum of a fractional-N PLL contains a wealth of information, not only about its performance but also about its internal architecture. Deterministic spurs and the characteristic shape of the in-band noise floor are direct consequences of the fractional division mechanism and the order of the sigma-delta modulator. This practice hones your diagnostic skills by challenging you to work backward from a hypothetical measured spectrum to infer key design parameters, a common and essential task in circuit verification, characterization, and debugging.",
            "id": "4273081",
            "problem": "A Phase-Locked Loop (PLL) operating in fractional division mode uses a reference clock of frequency $f_{\\text{ref}}$ and a time-varying integer divider $N[n]$ controlled such that the long-term average division equals $N_{\\text{int}} + \\alpha$, where $\\alpha \\in (0,1)$ is the fractional part. The divider command sequence $N[n]$ is produced by a Delta-Sigma Modulator (DSM), which shapes the quantization error with a noise transfer function that depends on its order. When the fractional sequence $\\alpha[n]$ is periodic with period $q$ reference cycles, the modulation of $N[n]$ is periodic at a base frequency $f_{\\text{ref}}/q$, which produces discrete spectral lines at offsets $f_{\\text{out}} \\pm k f_{\\text{ref}}/q$ for integer $k \\geq 1$ around the output frequency $f_{\\text{out}}$. Additionally, the DSM of order $m$ shapes the quantization error such that the low-frequency magnitude of the noise transfer function behaves as $\\left|1 - \\exp\\!\\left(-j \\frac{2\\pi f}{f_{\\text{ref}}}\\right)\\right|^{m} \\approx \\left(\\frac{2\\pi f}{f_{\\text{ref}}}\\right)^{m}$, so that, in decibels, the in-band rise of the quantization noise power spectral density scales as $20 m$ decibels per decade of frequency.\n\nConsider a measured spectrum of a fractional-N PLL with reference frequency $f_{\\text{ref}} = 24\\,\\text{MHz}$. The dominant discrete spur around the carrier appears at offsets $\\pm 300\\,\\text{kHz}$, with additional weaker lines at $\\pm 600\\,\\text{kHz}$ and $\\pm 900\\,\\text{kHz}$. The in-band shaped quantization noise near the carrier exhibits a monotonic slope of $60\\,\\text{dB/dec}$ over the frequency range where the PLL loop gain does not distort the DSM noise transfer function.\n\nUsing the foundational facts about periodic modulation in discrete-time systems and low-frequency behavior of DSM noise shaping, infer the period $q$ (in reference cycles) of the fractional sequence $\\alpha[n]$ and the DSM order $m$ that are consistent with these observations. Provide the final answer as a row matrix containing the two integer values $q$ and $m$. No rounding is required. Do not include units in your final answer.",
            "solution": "The problem requires us to determine two parameters of a fractional-N PLL: the period $q$ of the fractional sequence and the order $m$ of the Delta-Sigma Modulator. We can determine these two parameters independently from the given observations.\n\nFirst, we determine the period $q$. The problem states that when the fractional control sequence is periodic with a period of $q$ reference clock cycles, the output spectrum contains discrete spurs at frequency offsets of $\\pm k \\frac{f_{\\text{ref}}}{q}$ from the carrier, where $k$ is a positive integer. The fundamental frequency of this periodic modulation is therefore $f_{\\text{base\\_spur}} = \\frac{f_{\\text{ref}}}{q}$.\n\nThe measured spectrum shows a dominant spur at an offset of $\\pm 300\\,\\text{kHz}$, with its harmonics appearing at integer multiples of this frequency: $\\pm 600\\,\\text{kHz}$ ($2 \\times 300\\,\\text{kHz}$) and $\\pm 900\\,\\text{kHz}$ ($3 \\times 300\\,\\text{kHz}$). This observation implies that the fundamental spur frequency corresponds to the lowest observed offset, which is $300\\,\\text{kHz}$.\n\nWe can equate the theoretical expression for the fundamental spur frequency to the observed value:\n$$\n\\frac{f_{\\text{ref}}}{q} = 300\\,\\text{kHz}\n$$\nWe are given the reference frequency $f_{\\text{ref}} = 24\\,\\text{MHz}$. We can now solve for $q$:\n$$\nq = \\frac{f_{\\text{ref}}}{300\\,\\text{kHz}} = \\frac{24\\,\\text{MHz}}{300\\,\\text{kHz}} = \\frac{24 \\times 10^6 \\,\\text{Hz}}{300 \\times 10^3 \\,\\text{Hz}}\n$$\n$$\nq = \\frac{24000}{300} = \\frac{240}{3} = 80\n$$\nThus, the period of the fractional sequence is $q = 80$ reference clock cycles.\n\nNext, we determine the order $m$ of the DSM. The problem states that the in-band rise of the quantization noise power spectral density (PSD) scales as $20m$ decibels per decade (dB/dec). This is a standard result derived from the DSM's noise transfer function (NTF). The low-frequency approximation for the NTF magnitude is given as $|\\text{NTF}(f)| \\propto f^m$. The PSD is proportional to the square of the magnitude, so the noise PSD $S_{\\text{noise}}(f)$ is proportional to $(f^m)^2 = f^{2m}$.\n\nTo find the slope in dB/dec, we evaluate the change in the PSD level (in dB) over a decade of frequency. Let the PSD at frequency $f_1$ be $S_1$ and at frequency $f_2 = 10f_1$ be $S_2$. In decibels, the levels are $P_1 = 10\\log_{10}(S_1)$ and $P_2 = 10\\log_{10}(S_2)$.\nThe slope is given by $P_2 - P_1$:\n$$\n\\text{Slope} = 10\\log_{10}(S_2) - 10\\log_{10}(S_1) = 10\\log_{10}\\left(\\frac{S_2}{S_1}\\right)\n$$\nSince $S_{\\text{noise}}(f) \\propto f^{2m}$, we have:\n$$\n\\frac{S_2}{S_1} = \\frac{(10f_1)^{2m}}{(f_1)^{2m}} = 10^{2m}\n$$\nSubstituting this back into the slope equation:\n$$\n\\text{Slope} = 10\\log_{10}(10^{2m}) = 10 \\cdot (2m) = 20m \\;\\text{dB/dec}\n$$\nThis confirms the relationship provided in the problem statement. We are given that the measured slope of the in-band noise is $60\\,\\text{dB/dec}$. We can now set the theoretical expression equal to the measured value and solve for $m$:\n$$\n20m = 60\n$$\n$$\nm = \\frac{60}{20} = 3\n$$\nThus, the order of the Delta-Sigma Modulator is $m=3$.\n\nThe two inferred integer values are $q=80$ and $m=3$. The problem asks for these values to be presented as a row matrix.",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 80 & 3 \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "While fractional-N synthesis provides fine frequency resolution, it often generates deterministic spurs that can degrade system performance. Dithering, the practice of injecting a random signal into the sigma-delta modulator, is a powerful technique for suppressing these spurs by converting their discrete energy into broadband noise. This advanced exercise guides you through the analysis of this mitigation strategy, forcing you to confront the fundamental trade-off between spur reduction and the resulting penalty in random phase noise and timing jitter, a crucial optimization challenge in high-performance PLL design.",
            "id": "4273116",
            "problem": "A third-order Multi-Stage Noise-Shaping (MASH) delta-sigma modulator (DSM) is used in a fractional-N Phase-Locked Loop (PLL) to realize a fractional divide ratio. The fractional input $ \\alpha $ is rational, producing a deterministic periodic sequence and thus discrete tones (spurs) at offsets that are rational fractions of the reference frequency. To mitigate spurs, a zero-mean independent and identically distributed (i.i.d.) Gaussian dither sequence $ d[n] $ with variance $ \\sigma_{d}^{2} $ (normalized to the square of one least significant bit, LSB$^{2}$) is injected additively at the DSM input.\n\nAssume:\n- The fundamental spur arises from the periodicity of the undithered fractional sequence and its discrete-time Fourier coefficient at the fundamental spur is nonzero. You will derive the suppression of this coefficient when dither is added.\n- The DSM is a third-order MASH with noise transfer function $ N(z) = (1 - z^{-1})^{3} $, and the dither is the dominant contributor to the randomized output sequence $ \\varepsilon[n] $.\n- The discrete-time power spectral density (PSD) of $ \\varepsilon[n] $ due to dither is $ S_{\\varepsilon}^{(\\mathrm{dt})}(\\Omega) = \\sigma_{d}^{2} \\left| 1 - \\exp(-j \\Omega) \\right|^{6} $.\n- The continuous-time PSD is related to the discrete-time PSD by $ S_{\\varepsilon}^{(\\mathrm{ct})}(f) = f_{\\mathrm{ref}}^{-1} S_{\\varepsilon}^{(\\mathrm{dt})}(2\\pi f / f_{\\mathrm{ref}}) $.\n- The instantaneous phase error at the phase-frequency detector (PFD) due to divider error is $ \\varphi_{e}[n] = 2\\pi \\varepsilon[n] $, so the output phase PSD under closed-loop operation is $ S_{\\varphi}(f) = (2\\pi)^{2} S_{\\varepsilon}^{(\\mathrm{ct})}(f) \\left| T(f) \\right|^{2} $, where $ T(f) $ is the closed-loop transfer function.\n- The PLL closed-loop magnitude response can be approximated as $ \\left| T(f) \\right| = 1 $ for $ 0 \\le f \\le f_{b} $ and $ \\left| T(f) \\right| = 0 $ for $ f > f_{b} $ (brick-wall approximation).\n- The small-angle approximation $ \\left| 1 - \\exp(-j x) \\right| \\approx x $ holds for $ x \\ll 1 $.\n\nGiven parameters:\n- Reference frequency $ f_{\\mathrm{ref}} = 25\\,\\mathrm{MHz} $,\n- Output/carrier frequency $ f_{\\mathrm{out}} = 3.2\\,\\mathrm{GHz} $,\n- Closed-loop bandwidth $ f_{b} = 200\\,\\mathrm{kHz} $.\n\nTasks:\n1. Starting from the definition that the expected complex Fourier coefficient of a deterministic tone perturbed by an independent zero-mean random variable equals the product of the original coefficient and the characteristic function of the perturbation evaluated at the toneâ€™s phase increment, derive the spur suppression factor $ S(\\sigma_{d}^{2}) $ at the fundamental spur for Gaussian $ d[n] $. Then, determine the minimum $ \\sigma_{d}^{2} $ required to achieve $ 45\\,\\mathrm{dB} $ amplitude suppression of the fundamental spur. Express $ \\sigma_{d}^{2} $ in exact symbolic form.\n2. Using the noise transfer function and the stated approximations, derive an analytic expression for the root-mean-square (RMS) timing jitter $ \\sigma_{t} $ at the PLL output due solely to the dither-induced sequence $ \\varepsilon[n] $, integrated over $ [0, f_{b}] $. Evaluate this jitter for the $ \\sigma_{d}^{2} $ found in Task 1. Express the final jitter in seconds and round your jitter result to four significant figures.\n\nYour final answers must be the pair $ \\sigma_{d}^{2} $ and $ \\sigma_{t} $. For the jitter, express the final value in seconds. For the spur suppression, you may assume the fundamental spur corresponds to a single-step phase increment scaling of $ 2\\pi $ per LSB at the DSM input.",
            "solution": "This solution is divided into two tasks as requested.\n\n#### Task 1: Spur Suppression and Dither Variance $\\sigma_{d}^{2}$\n\nThe problem states that the expected value of a complex Fourier coefficient of a deterministic tone, when perturbed by an independent zero-mean random variable, is the product of its original unperturbed coefficient and the characteristic function of the perturbation. The suppression factor is the magnitude of this characteristic function.\n\nLet the random dither at the DSM input at time step $n$ be $d[n]$. This is a realization of a Gaussian random variable $D \\sim \\mathcal{N}(0, \\sigma_{d}^{2})$. The problem specifies that the dither perturbs the phase of the spur tone with a scaling factor of $2\\pi$ per LSB. Thus, the random phase perturbation is a random variable $\\Delta\\Phi = 2\\pi D$.\n\nSince $D$ is Gaussian, $\\Delta\\Phi$ is also a Gaussian random variable. Its mean is $E[\\Delta\\Phi] = E[2\\pi D] = 2\\pi E[D] = 0$. Its variance is $\\sigma_{\\Delta\\Phi}^{2} = \\text{Var}(2\\pi D) = (2\\pi)^{2} \\text{Var}(D) = 4\\pi^{2}\\sigma_{d}^{2}$.\n\nThe characteristic function of a general random variable $X$ is defined as $\\Phi_{X}(t) = E[\\exp(jtX)]$. For a Gaussian random variable $X \\sim \\mathcal{N}(\\mu, \\sigma^{2})$, the characteristic function is $\\Phi_{X}(t) = \\exp(j\\mu t - \\frac{1}{2}\\sigma^{2}t^{2})$.\n\nThe spur suppression factor, $S(\\sigma_{d}^{2})$, is the magnitude of the characteristic function of the phase perturbation $\\Delta\\Phi$ evaluated at $t=1$:\n$$S(\\sigma_{d}^{2}) = |\\Phi_{\\Delta\\Phi}(1)| = |E[\\exp(j\\Delta\\Phi)]|$$\nUsing the characteristic function for our Gaussian phase perturbation $\\Delta\\Phi \\sim \\mathcal{N}(0, 4\\pi^{2}\\sigma_{d}^{2})$:\n$$\\Phi_{\\Delta\\Phi}(1) = \\exp\\left(j \\cdot 0 \\cdot 1 - \\frac{1}{2}(4\\pi^{2}\\sigma_{d}^{2})(1)^{2}\\right) = \\exp(-2\\pi^{2}\\sigma_{d}^{2})$$\nSince this is a real and positive value, the suppression factor is:\n$$S(\\sigma_{d}^{2}) = \\exp(-2\\pi^{2}\\sigma_{d}^{2})$$\n\nWe require an amplitude suppression of $45\\,\\mathrm{dB}$. In decibels, amplitude suppression is given by $20\\log_{10}$ of the suppression factor.\n$$20\\log_{10}(S(\\sigma_{d}^{2})) = -45$$\n$$\\log_{10}(S(\\sigma_{d}^{2})) = -\\frac{45}{20} = -2.25$$\nTaking the base-$10$ antilogarithm:\n$$S(\\sigma_{d}^{2}) = 10^{-2.25}$$\nNow we equate the two expressions for $S(\\sigma_{d}^{2})$:\n$$\\exp(-2\\pi^{2}\\sigma_{d}^{2}) = 10^{-2.25}$$\nTo solve for $\\sigma_{d}^{2}$, we take the natural logarithm of both sides:\n$$\\ln\\left(\\exp(-2\\pi^{2}\\sigma_{d}^{2})\\right) = \\ln\\left(10^{-2.25}\\right)$$\n$$-2\\pi^{2}\\sigma_{d}^{2} = -2.25\\ln(10)$$\nSolving for $\\sigma_{d}^{2}$:\n$$\\sigma_{d}^{2} = \\frac{2.25\\ln(10)}{2\\pi^{2}} = \\frac{(9/4)\\ln(10)}{2\\pi^{2}} = \\frac{9\\ln(10)}{8\\pi^{2}}$$\nThis is the exact symbolic expression for the required dither variance in units of LSB$^{2}$.\n\n#### Task 2: RMS Timing Jitter $\\sigma_{t}$\n\nThe RMS timing jitter $\\sigma_{t}$ is related to the RMS phase jitter $\\sigma_{\\varphi}$ by $\\sigma_{t} = \\sigma_{\\varphi} / (2\\pi f_{\\mathrm{out}})$. The variance of the phase jitter, $\\sigma_{\\varphi}^{2}$, is the integral of the phase noise PSD, $S_{\\varphi}(f)$, over the frequency band of interest. Here, the integration is from $f=0$ to $f=f_{b}$.\n$$\\sigma_{\\varphi}^{2} = \\int_{0}^{f_{b}} S_{\\varphi}(f) \\,df$$\nWe are given $S_{\\varphi}(f) = (2\\pi)^{2} S_{\\varepsilon}^{(\\mathrm{ct})}(f) \\left| T(f) \\right|^{2}$. With the brick-wall filter approximation, $|T(f)|=1$ inside the bandwidth $[0, f_{b}]$.\n$$S_{\\varphi}(f) = (2\\pi)^{2} S_{\\varepsilon}^{(\\mathrm{ct})}(f) \\quad \\text{for } 0 \\le f \\le f_{b}$$\nThe continuous-time PSD of the DSM output is $S_{\\varepsilon}^{(\\mathrm{ct})}(f) = f_{\\mathrm{ref}}^{-1} S_{\\varepsilon}^{(\\mathrm{dt})}(2\\pi f / f_{\\mathrm{ref}})$, where $S_{\\varepsilon}^{(\\mathrm{dt})}(\\Omega) = \\sigma_{d}^{2} \\left| 1 - \\exp(-j \\Omega) \\right|^{6}$.\nSubstituting $\\Omega = 2\\pi f / f_{\\mathrm{ref}}$:\n$$S_{\\varepsilon}^{(\\mathrm{ct})}(f) = \\frac{\\sigma_{d}^{2}}{f_{\\mathrm{ref}}} \\left| 1 - \\exp\\left(-j \\frac{2\\pi f}{f_{\\mathrm{ref}}}\\right) \\right|^{6}$$\nWithin the integration band, $f \\le f_{b} = 200\\,\\mathrm{kHz}$, which is much smaller than $f_{\\mathrm{ref}} = 25\\,\\mathrm{MHz}$. Thus, the argument $x = 2\\pi f / f_{\\mathrm{ref}}$ is small, and we can apply the small-angle approximation $|1 - \\exp(-jx)| \\approx x$.\n$$S_{\\varepsilon}^{(\\mathrm{ct})}(f) \\approx \\frac{\\sigma_{d}^{2}}{f_{\\mathrm{ref}}} \\left( \\frac{2\\pi f}{f_{\\mathrm{ref}}} \\right)^{6} = \\frac{\\sigma_{d}^{2} (2\\pi)^{6} f^{6}}{f_{\\mathrm{ref}}^{7}}$$\nNow, we find the phase noise PSD, $S_{\\varphi}(f)$:\n$$S_{\\varphi}(f) \\approx (2\\pi)^{2} \\left( \\frac{\\sigma_{d}^{2} (2\\pi)^{6} f^{6}}{f_{\\mathrm{ref}}^{7}} \\right) = \\frac{\\sigma_{d}^{2} (2\\pi)^{8} f^{6}}{f_{\\mathrm{ref}}^{7}}$$\nWe integrate this to find the phase variance $\\sigma_{\\varphi}^{2}$:\n$$\\sigma_{\\varphi}^{2} = \\int_{0}^{f_{b}} \\frac{\\sigma_{d}^{2} (2\\pi)^{8} f^{6}}{f_{\\mathrm{ref}}^{7}} \\,df = \\frac{\\sigma_{d}^{2} (2\\pi)^{8}}{f_{\\mathrm{ref}}^{7}} \\left[ \\frac{f^{7}}{7} \\right]_{0}^{f_{b}} = \\frac{\\sigma_{d}^{2} (2\\pi)^{8} f_{b}^{7}}{7 f_{\\mathrm{ref}}^{7}}$$\nThe timing jitter variance $\\sigma_{t}^{2}$ is:\n$$\\sigma_{t}^{2} = \\frac{\\sigma_{\\varphi}^{2}}{(2\\pi f_{\\mathrm{out}})^{2}} = \\frac{1}{4\\pi^{2}f_{\\mathrm{out}}^{2}} \\left( \\frac{\\sigma_{d}^{2} (2\\pi)^{8} f_{b}^{7}}{7 f_{\\mathrm{ref}}^{7}} \\right) = \\frac{\\sigma_{d}^{2} (2\\pi)^{6} f_{b}^{7}}{7 f_{\\mathrm{out}}^{2} f_{\\mathrm{ref}}^{7}}$$\nNow, substitute the symbolic expression for $\\sigma_{d}^{2}$ from Task 1:\n$$\\sigma_{t}^{2} = \\left( \\frac{9\\ln(10)}{8\\pi^{2}} \\right) \\frac{(2\\pi)^{6} f_{b}^{7}}{7 f_{\\mathrm{out}}^{2} f_{\\mathrm{ref}}^{7}} = \\frac{9\\ln(10) \\cdot 64\\pi^{6}}{8\\pi^{2}} \\frac{f_{b}^{7}}{7 f_{\\mathrm{out}}^{2} f_{\\mathrm{ref}}^{7}} = \\frac{72\\pi^{4}\\ln(10)}{7} \\frac{f_{b}^{7}} {f_{\\mathrm{out}}^{2} f_{\\mathrm{ref}}^{7}}$$\nWe can write this as:\n$$\\sigma_{t}^{2} = \\frac{72\\pi^{4}\\ln(10)}{7} \\frac{1}{f_{\\mathrm{out}}^{2}} \\left( \\frac{f_{b}}{f_{\\mathrm{ref}}} \\right)^{7}$$\nWe now substitute the given numerical values:\n- $f_{\\mathrm{ref}} = 25 \\times 10^{6}\\,\\mathrm{Hz}$\n- $f_{b} = 200 \\times 10^{3}\\,\\mathrm{Hz}$\n- $f_{\\mathrm{out}} = 3.2 \\times 10^{9}\\,\\mathrm{Hz}$\nThe ratio term is $\\frac{f_{b}}{f_{\\mathrm{ref}}} = \\frac{200 \\times 10^{3}}{25 \\times 10^{6}} = 0.008$.\nNumerically evaluating the constant prefactor:\n$$\\frac{72\\pi^{4}\\ln(10)}{7} \\approx \\frac{72 \\cdot (97.40909) \\cdot (2.302585)}{7} \\approx \\frac{16147.22}{7} \\approx 2306.75$$\nNow compute $\\sigma_{t}^{2}$:\n$$\\sigma_{t}^{2} \\approx (2306.75) \\cdot \\frac{1}{(3.2 \\times 10^{9})^{2}} \\cdot (0.008)^{7}$$\n$$\\sigma_{t}^{2} \\approx (2306.75) \\cdot \\frac{1}{10.24 \\times 10^{18}} \\cdot (2.097152 \\times 10^{-15})$$\n$$\\sigma_{t}^{2} \\approx \\frac{2306.75 \\times 2.097152}{10.24} \\times 10^{-18-15} \\approx \\frac{4837.74}{10.24} \\times 10^{-33} \\approx 4.72435 \\times 10^{-31}\\,\\mathrm{s}^{2}$$\nFinally, we compute the RMS timing jitter $\\sigma_{t}$:\n$$\\sigma_{t} = \\sqrt{4.72435 \\times 10^{-31}} = \\sqrt{47.2435 \\times 10^{-32}} \\approx 6.8734 \\times 10^{-16}\\,\\mathrm{s}$$\nRounding to four significant figures, the RMS timing jitter is $6.873 \\times 10^{-16}\\,\\mathrm{s}$.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\frac{9 \\ln(10)}{8\\pi^2} & 6.873 \\times 10^{-16}\n\\end{pmatrix}\n}\n$$"
        }
    ]
}