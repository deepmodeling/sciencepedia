{
    "hands_on_practices": [
        {
            "introduction": "泄漏整合发放（Leaky Integrate-and-Fire, LIF）模型是神经形态工程的基石，它将生物神经元复杂的动力学过程简化为计算高效的形式。本练习将LIF模型的抽象微分方程与其模拟电路实现的具体物理参数联系起来。通过推导和计算神经元的发放频率，您将对神经元的电学特性如何决定其对输入刺激的响应建立基础性的理解。",
            "id": "4285418",
            "problem": "模拟集成电路中的一个神经拟态神经元细胞通过一个膜电容和一个连接到反转电位的漏电导来实现漏积分-发放 (LIF) 模型。膜电位动力学遵循基尔霍夫电流定律 (KCL)：电容电流等于注入电流和漏电流之和。假设在恒定注入电流 $I$ 下，膜电压 $V(t)$ 遵循一阶线性常微分方程 $C \\frac{dV}{dt} = -g_L \\left(V - E_L\\right) + I$，并且当 $V(t)$ 达到阈值 $V_{\\theta}$ 时会发放一个脉冲。在发放脉冲后，电压立即重置为 $V_r$，神经元进入一个持续时间为 $\\tau_{ref}$ 的绝对不应期，在此期间 $V(t)$ 保持在 $V_r$。\n\n从这个动力学定义出发，推导在恒定电流 $I$ 下的稳态脉冲间隔的解析表达式，并由此得到稳态发放频率。然后，使用以下参数计算发放频率：$C=200\\ \\mathrm{pF}$，$g_L=10\\ \\mathrm{nS}$，$E_L=-65\\ \\mathrm{mV}$，$V_{\\theta}=-50\\ \\mathrm{mV}$，$V_r=-65\\ \\mathrm{mV}$，$I=500\\ \\mathrm{pA}$，以及 $\\tau_{ref}=2\\ \\mathrm{ms}$。以 $\\mathrm{Hz}$ 为单位表示最终的发放频率，并将答案四舍五入到四位有效数字。",
            "solution": "问题要求推导漏积分-发放 (LIF) 神经元的稳态发放频率，并使用给定的一组参数进行计算。\n\n神经元膜电位 $V(t)$ 的动力学由以下一阶线性常微分方程 (ODE) 描述：\n$$C \\frac{dV}{dt} = -g_L \\left(V - E_L\\right) + I$$\n其中 $C$ 是膜电容，$g_L$ 是漏电导，$E_L$ 是漏电反转电位，$I$ 是恒定注入电流。\n\n首先，我们将该常微分方程重排成更标准的形式。两边同除以 $g_L$：\n$$\\frac{C}{g_L} \\frac{dV}{dt} = -(V - E_L) + \\frac{I}{g_L}$$\n$$\\frac{C}{g_L} \\frac{dV}{dt} = -V + E_L + \\frac{I}{g_L}$$\n我们定义膜时间常数 $\\tau_m$ 和稳态电压 $V_{\\infty}$ 如下：\n$$\\tau_m = \\frac{C}{g_L}$$\n$$V_{\\infty} = E_L + \\frac{I}{g_L}$$\n项 $V_{\\infty}$ 表示如果膜电位 $V$ 从未达到发放阈值时将收敛到的值。代入这些定义，该常微分方程变为：\n$$\\tau_m \\frac{dV}{dt} = -V + V_{\\infty}$$\n它可以被重写为：\n$$\\tau_m \\frac{dV}{dt} + V = V_{\\infty}$$\n这是一个一阶线性非齐次常微分方程。其通解形式为：\n$$V(t) = V_{\\infty} + \\left( V(0) - V_{\\infty} \\right) \\exp\\left(-\\frac{t}{\\tau_m}\\right)$$\n神经元的动力学由一个周期来表征：在发放一个脉冲后，电压被重置为 $V_r$ 并在此值上保持一个绝对不应期 $\\tau_{ref}$。由该常微分方程控制的积分过程在这个不应期结束时开始。让我们将时间原点 $t=0$ 设在不应期结束的时刻。此时，膜电位的初始条件为 $V(0) = V_r$。\n\n将此初始条件代入通解，我们得到积分阶段的特解：\n$$V(t) = V_{\\infty} + \\left( V_r - V_{\\infty} \\right) \\exp\\left(-\\frac{t}{\\tau_m}\\right)$$\n当电位 $V(t)$ 达到阈值 $V_{\\theta}$ 时，会产生一个脉冲。设达到此阈值所需的时间为 $t_{int}$ (积分时间)。因此，在 $t=t_{int}$ 时，我们有 $V(t_{int}) = V_{\\theta}$。\n$$V_{\\theta} = V_{\\infty} + \\left( V_r - V_{\\infty} \\right) \\exp\\left(-\\frac{t_{int}}{\\tau_m}\\right)$$\n为了能够产生脉冲，稳态电压必须大于阈值，即 $V_{\\infty} > V_{\\theta}$。假设此条件成立，我们可以求解 $t_{int}$：\n$$V_{\\theta} - V_{\\infty} = \\left( V_r - V_{\\infty} \\right) \\exp\\left(-\\frac{t_{int}}{\\tau_m}\\right)$$\n$$\\frac{V_{\\theta} - V_{\\infty}}{V_r - V_{\\infty}} = \\exp\\left(-\\frac{t_{int}}{\\tau_m}\\right)$$\n对两边取自然对数：\n$$\\ln\\left(\\frac{V_{\\theta} - V_{\\infty}}{V_r - V_{\\infty}}\\right) = -\\frac{t_{int}}{\\tau_m}$$\n$$t_{int} = -\\tau_m \\ln\\left(\\frac{V_{\\theta} - V_{\\infty}}{V_r - V_{\\infty}}\\right)$$\n为确保对数的参数为正，考虑到 $V_r \\le V_{\\theta}  V_{\\infty}$，分子和分母都为负，因此它们的比值为正。我们可以通过反转对数的参数来消去负号：\n$$t_{int} = \\tau_m \\ln\\left(\\frac{V_r - V_{\\infty}}{V_{\\theta} - V_{\\infty}}\\right)$$\n两个连续脉冲之间的总时间是脉冲间隔 $T_{\\mathrm{ISI}}$，它是积分时间 $t_{int}$ 和绝对不应期 $\\tau_{ref}$ 的和：\n$$T_{\\mathrm{ISI}} = \\tau_{ref} + t_{int} = \\tau_{ref} + \\tau_m \\ln\\left(\\frac{V_r - V_{\\infty}}{V_{\\theta} - V_{\\infty}}\\right)$$\n稳态发放频率 $f$ 是脉冲间隔的倒数：\n$$f = \\frac{1}{T_{\\mathrm{ISI}}} = \\frac{1}{\\tau_{ref} + \\tau_m \\ln\\left(\\frac{V_r - V_{\\infty}}{V_{\\theta} - V_{\\infty}}\\right)}$$\n代入 $\\tau_m$ 和 $V_{\\infty}$ 的定义：\n$$f = \\frac{1}{\\tau_{ref} + \\frac{C}{g_L} \\ln\\left(\\frac{V_r - (E_L + I/g_L)}{V_{\\theta} - (E_L + I/g_L)}\\right)}$$\n这就是所要求的稳态发放频率的解析表达式。\n\n现在，我们使用给定的参数计算发放频率：\n$C = 200 \\ \\mathrm{pF} = 200 \\times 10^{-12} \\ \\mathrm{F}$\n$g_L = 10 \\ \\mathrm{nS} = 10 \\times 10^{-9} \\ \\mathrm{S}$\n$E_L = -65 \\ \\mathrm{mV} = -65 \\times 10^{-3} \\ \\mathrm{V}$\n$V_{\\theta} = -50 \\ \\mathrm{mV} = -50 \\times 10^{-3} \\ \\mathrm{V}$\n$V_r = -65 \\ \\mathrm{mV} = -65 \\times 10^{-3} \\ \\mathrm{V}$\n$I = 500 \\ \\mathrm{pA} = 500 \\times 10^{-12} \\ \\mathrm{A}$\n$\\tau_{ref} = 2 \\ \\mathrm{ms} = 2 \\times 10^{-3} \\ \\mathrm{s}$\n\n首先，我们计算 $\\tau_m$ 和 $V_{\\infty}$：\n$$\\tau_m = \\frac{C}{g_L} = \\frac{200 \\times 10^{-12} \\ \\mathrm{F}}{10 \\times 10^{-9} \\ \\mathrm{S}} = 20 \\times 10^{-3} \\ \\mathrm{s} = 20 \\ \\mathrm{ms}$$\n$$V_{\\infty} = E_L + \\frac{I}{g_L} = -65 \\times 10^{-3} \\ \\mathrm{V} + \\frac{500 \\times 10^{-12} \\ \\mathrm{A}}{10 \\times 10^{-9} \\ \\mathrm{S}} = -65 \\times 10^{-3} \\ \\mathrm{V} + 50 \\times 10^{-3} \\ \\mathrm{V} = -15 \\times 10^{-3} \\ \\mathrm{V} = -15 \\ \\mathrm{mV}$$\n我们检查发放脉冲的条件：$V_{\\infty} = -15 \\ \\mathrm{mV}  V_{\\theta} = -50 \\ \\mathrm{mV}$，因此神经元会发放脉冲。\n\n接下来，我们计算对数内的项：\n$$V_r - V_{\\infty} = (-65 \\times 10^{-3}) - (-15 \\times 10^{-3}) = -50 \\times 10^{-3} \\ \\mathrm{V}$$\n$$V_{\\theta} - V_{\\infty} = (-50 \\times 10^{-3}) - (-15 \\times 10^{-3}) = -35 \\times 10^{-3} \\ \\mathrm{V}$$\n其比值为：\n$$\\frac{V_r - V_{\\infty}}{V_{\\theta} - V_{\\infty}} = \\frac{-50 \\times 10^{-3}}{-35 \\times 10^{-3}} = \\frac{50}{35} = \\frac{10}{7}$$\n现在我们计算积分时间 $t_{int}$：\n$$t_{int} = \\tau_m \\ln\\left(\\frac{10}{7}\\right) = (20 \\times 10^{-3}) \\ln\\left(\\frac{10}{7}\\right) \\ \\mathrm{s}$$\n使用值 $\\ln(10/7) \\approx 0.3566749$：\n$$t_{int} \\approx (20 \\times 10^{-3}) \\times 0.3566749 \\approx 7.133498 \\times 10^{-3} \\ \\mathrm{s}$$\n脉冲间隔为：\n$$T_{\\mathrm{ISI}} = \\tau_{ref} + t_{int} \\approx (2 \\times 10^{-3}) + (7.133498 \\times 10^{-3}) = 9.133498 \\times 10^{-3} \\ \\mathrm{s}$$\n最后，发放频率是：\n$$f = \\frac{1}{T_{\\mathrm{ISI}}} \\approx \\frac{1}{9.133498 \\times 10^{-3}} \\approx 109.4873 \\ \\mathrm{Hz}$$\n将结果四舍五入到四位有效数字，得到：\n$$f \\approx 109.5 \\ \\mathrm{Hz}$$",
            "answer": "$$\\boxed{109.5}$$"
        },
        {
            "introduction": "为了构建大规模神经形态系统，我们需要一种高密度且高效的方式来实现突触连接，而忆阻器交叉阵列（resistive crossbar array）是一种领先的解决方案。本练习旨在探讨这些模拟阵列中固有的关键物理限制，例如电压降（$IR$ drop）和寄生电流（sneak paths）。理解这些非理想效应以及选通器件（selector）的作用，对于设计稳健且可扩展的神经形态硬件至关重要。",
            "id": "4285455",
            "problem": "一个大小为 $N \\times N$ 的电阻交叉阵列被用于在神经形态加速器中实现模拟向量-矩阵乘法 (VMM)。每个交叉点包含一个阻变随机存取存储器 (RRAM) 器件，该器件具有两种状态：低阻态 $R_{\\mathrm{L}}$ 和高阻态 $R_{\\mathrm{H}}$，其中 $R_{\\mathrm{L}} \\ll R_{\\mathrm{H}}$。用于行和列的金属互连线具有有限的每段电阻 $r$，因此跨越 $k$ 个线段的路径电阻约为 $k r$。在 $V/2$ 偏置方案下进行读取操作时，向选定的字线施加电压 $V_{\\mathrm{RD}}$，选定的位线接地，所有未选定的字线和位线偏置到 $V_{\\mathrm{RD}}/2$。一个具有高度非线性电流-电压特性的两端选择器器件可以与每个RRAM单元串联集成。仅使用欧姆定律 $V=IR$、基尔霍夫电流定律（离开任一节点的电流总和为零）和基尔霍夫电压定律（沿任一闭合回路的电压降总和为零），推断该阵列中的线路电压衰减和意外电流流动现象。\n\n在此背景下，哪个选项正确定义了IR压降和潜行路径现象，解释了选择器的作用，并指出了在 $V/2$ 偏置下，导致选定器件上电压衰减最大的最坏情况访问模式？\n\nA. IR压降是由于有限的线路电阻和非零电流导致的沿电阻性互连线的电压损失，因此传输到远处单元的电压减少了 $I \\cdot R_{\\text{line}}$。潜行路径是流经未选器件的意外电流路径，在外加偏置下形成替代导电回路。选择器作为与每个RRAM串联的高度非线性两端元件实现，通过在阈值以下保持有效关闭状态来抑制半选和未选电流，从而减少潜行路径电流和由此产生的IR压降。当选定单元距离行驱动器和列地最远，且最大数量的半选和未选单元处于 $R_{\\mathrm{L}}$ 状态时，会发生最坏情况的电压衰减，因此 $V/2$ 偏置会在整个选定线路上引发大的寄生电流。\n\nB. IR压降是由于互连电容充电导致的电压降低，这在稳态读取下占主导地位。如果阵列使用 $V/2$ 偏置，则可以避免潜行路径，因此选择器主要增加线性串联电阻以改善写入裕度。当选定单元位于阵列的几何中心且大多数其他单元处于 $R_{\\mathrm{H}}$ 状态时，会发生最坏情况的电压衰减。\n\nC. IR压降主要由准静态读取时的线路电感引起，而潜行路径则源于相邻线路之间的电磁耦合。选择器作为每条位线上的时钟控制读出放大器来抵消这些效应。电压衰减的最坏情况访问模式是访问边缘单元，而所有其他单元实际上是开路的。\n\nD. IR压降是驱动器处一个固定的、与电流无关的接触电势降，而潜行路径仅在大电压的写入操作期间发生。选择器必须表现出负微分电阻才能起作用；否则它们无法减轻漏电。当大多数未选单元处于 $R_{\\mathrm{H}}$ 状态时，会发生最坏情况的电压衰减，这会最大化电源效率，从而增加选定单元上的压降。",
            "solution": "问题陈述有效。它在科学上基于电路理论和固态电子学原理，特别是关于电阻式存储器交叉阵列的操作。该问题提法恰当、客观，并为根据要求基于基本电学定律进行定性分析提供了足够的信息。\n\n解决方案将通过使用欧姆定律 ($V=IR$)、基尔霍夫电流定律 (KCL) 和基尔霍夫电压定律 (KVL) 分析问题陈述中描述的物理现象来得出。\n\n**1. IR压降分析**\n\n问题指出，金属互连线（字线和位线）具有有限的每段电阻 $r$。当电流 $I$ 流过这段互连线时，根据欧姆定律，其上的电压降等于 $I \\cdot R_{\\text{segment}}$。对于长度对应于 $k$ 段的路径，总线路电阻为 $R_{\\text{line}} \\approx k r$。沿字线或位线流动的总电流是流向选定单元的电流与连接到该线路的其他单元贡献的所有寄生电流（潜行路径）之和。设此总电流为 $I_{\\text{line}}$。根据欧姆定律，沿此线路段的电压降为 $\\Delta V = I_{\\text{line}} R_{\\text{line}}$。该电压降通常被称为IR压降。因此，交叉点单元的电位与阵列边缘驱动器施加的电压不同。对于用 $V_{\\mathrm{RD}}$ 驱动的字线，远处单元的电压为 $V_{\\mathrm{WL, local}} = V_{\\mathrm{RD}} - \\Delta V_{\\mathrm{WL}}$。对于连接到地（$0$ V）的位线，远处单元的电位被提升到地以上，为 $V_{\\mathrm{BL, local}} = 0 + \\Delta V_{\\mathrm{BL}}$。因此，选定单元上的电压从理想的 $V_{\\mathrm{RD}}$ 降低到 $V_{\\text{cell}} = V_{\\mathrm{WL, local}} - V_{\\mathrm{BL, local}} = (V_{\\mathrm{RD}} - \\Delta V_{\\mathrm{WL}}) - \\Delta V_{\\mathrm{BL}}$。\n\n**2. $V/2$偏置下潜行路径的分析**\n\n问题描述了对位于字线 $i$ (WL$_i$) 和位线 $j$ (BL$_j$) 交叉点的选定单元进行读取操作的 $V/2$ 偏置方案。\n- 选定的WL$_i$ 处于 $V_{\\mathrm{RD}}$。\n- 选定的BL$_j$ 处于 $0$ V。\n- 所有未选定的WLs ($m \\neq i$) 处于 $V_{\\mathrm{RD}}/2$。\n- 所有未选定的BLs ($k \\neq j$) 处于 $V_{\\mathrm{RD}}/2$。\n\n我们可以分析 $N \\times N$ 阵列中任何单元上的电压降：\n- **选定单元 ($i, j$)：** 理想电压为 $V_{ij} = V_{\\mathrm{WL}_i} - V_{\\mathrm{BL}_j} = V_{\\mathrm{RD}} - 0 = V_{\\mathrm{RD}}$。流过的电流为 $I_{\\text{sel}} \\approx V_{\\mathrm{RD}} / R_{\\text{cell}, ij}$。\n- **同一字线上的半选单元 ($i, k \\neq j$)：** 电压为 $V_{ik} = V_{\\mathrm{WL}_i} - V_{\\mathrm{BL}_k} = V_{\\mathrm{RD}} - V_{\\mathrm{RD}}/2 = V_{\\mathrm{RD}}/2$。\n- **同一位线上的半选单元 ($m \\neq i, j$)：** 电压为 $V_{mj} = V_{\\mathrm{WL}_m} - V_{\\mathrm{BL}_j} = V_{\\mathrm{RD}}/2 - 0 = V_{\\mathrm{RD}}/2$。\n- **未选单元 ($m \\neq i, k \\neq j$)：** 电压为 $V_{mk} = V_{\\mathrm{WL}_m} - V_{\\mathrm{BL}_k} = V_{\\mathrm{RD}}/2 - V_{\\mathrm{RD}}/2 = 0$。\n\n由于在所有 $(N-1) + (N-1) = 2N-2$ 个半选单元上施加了 $V_{\\mathrm{RD}}/2$ 的非零电压，寄生电流将流过它们。这些电流由 $I_{\\text{sneak}} = (V_{\\mathrm{RD}}/2) / R_{\\text{cell}}$ 给出，是意外产生的，并形成绕过选定单元的“潜行路径”。$V/2$ 方案减轻但不能消除这些路径。根据KCL，这些潜行路径电流沿着选定的字线和位线累加，显著增加了总线路电流 $I_{\\text{line}}$，从而加剧了IR压降。\n\n**3. 选择器的作用**\n\n选择器是与每个RRAM单元串联放置的两端器件，具有高度非线性的电流-电压 ($I-V$) 特性。其理想功能是在施加电压低于某个阈值电压 $V_{\\text{th}}$ 时具有非常高的电阻（“关闭”状态），而在电压高于 $V_{\\text{th}}$ 时具有低电阻（“开启”状态）。为使 $V/2$ 方案有效，选择器的设计必须满足 $V_{\\mathrm{RD}}/2  V_{\\text{th}}  V_{\\mathrm{RD}}$。\n- **选定单元：** 电压约为 $V_{\\mathrm{RD}}$。由于 $V_{\\mathrm{RD}}  V_{\\text{th}}$，选择器开启，允许读取电流流过RRAM单元（$1$S$1$R结构）。\n- **半选单元：** 电压为 $V_{\\mathrm{RD}}/2$。由于 $V_{\\mathrm{RD}}/2  V_{\\text{th}}$，选择器保持在其高电阻“关闭”状态。这极大地增加了潜行路径的总电阻，从而有效地抑制了寄生电流。\n通过抑制潜行路径电流，选择器减少了选定激活线路上的总电流 $I_{\\text{line}}$，这反过来又最小化了IR压降。\n\n**4. 最坏情况的电压衰减**\n\n选定单元处的总电压衰减是字线和位线上IR压降之和：$\\Delta V_{\\text{total}} = \\Delta V_{\\mathrm{WL}} + \\Delta V_{\\mathrm{BL}} = I_{\\mathrm{WL}}R_{\\mathrm{line, WL}} + I_{\\mathrm{BL}}R_{\\mathrm{line, BL}}$。为了最大化此衰减，我们必须同时最大化线路电阻和线路电流。\n- **最大化线路电阻：** 线路电阻 $R_{\\text{line}}$ 与从驱动器/地到单元的导线长度成正比。因此，距离输入驱动器（在字线上）和接地连接（在位线上）最远的单元将经历最大的电阻。这对应于与驱动器对角相对的角落单元。\n- **最大化线路电流：** 线路电流 $I_{\\mathrm{WL}}$ 和 $I_{\\mathrm{BL}}$ 是流过选定单元的电流与该线路上所有潜行路径电流之和。根据欧姆定律，电流与电阻成反比（$I=V/R$）。为了最大化潜行路径电流，必须最小化半选单元的电阻。RRAM器件有两种状态，$R_{\\mathrm{L}}$ 和 $R_{\\mathrm{H}}$，其中 $R_{\\mathrm{L}} \\ll R_{\\mathrm{H}}$。因此，当最大可能数量的半选单元处于低阻态 $R_{\\mathrm{L}}$ 时，会产生最大的潜行电流。\n\n因此，电压衰减的最坏情况发生在访问物理上距离驱动器最远的单元，并且当最大数量的半选单元被编程为低阻态 $R_{\\mathrm{L}}$ 时。\n\n**逐项分析**\n\n**A. IR压降是由于有限的线路电阻和非零电流导致的沿电阻性互连线的电压损失，因此传输到远处单元的电压减少了 $I \\cdot R_{\\text{line}}$。潜行路径是流经未选器件的意外电流路径，在外加偏置下形成替代导电回路。选择器作为与每个RRAM串联的高度非线性两端元件实现，通过在阈值以下保持有效关闭状态来抑制半选和未选电流，从而减少潜行路径电流和由此产生的IR压降。当选定单元距离行驱动器和列地最远，且最大数量的半选和未选单元处于 $R_{\\mathrm{L}}$ 状态时，会发生最坏情况的电压衰减，因此 $V/2$ 偏置会在整个选定线路上引发大的寄生电流。**\n- 该选项根据欧姆定律正确定义了IR压降。它准确地将潜行路径描述为寄生导电路径。它正确地解释了非线性选择器利用电压阈值的功能。它正确地指出了最坏情况是最大线路长度（最远单元）和最大线路电流（最大数量的单元处于低阻态 $R_{\\mathrm{L}}$）的组合。提及“未选单元”处于 $R_{\\mathrm{L}}$ 状态是一个微小的不精确之处，因为它们两端的电压为 $0$ V，不产生电流，但半选单元的主导效应被正确捕捉。\n**结论：正确**\n\n**B. IR压降是由于互连电容充电导致的电压降低，这在稳态读取下占主导地位。如果阵列使用 $V/2$ 偏置，则可以避免潜行路径，因此选择器主要增加线性串联电阻以改善写入裕度。当选定单元位于阵列的几何中心且大多数其他单元处于 $R_{\\mathrm{H}}$ 状态时，会发生最坏情况的电压衰减。**\n- IR压降的定义不正确。电容充电是瞬态现象（$I = C dV/dt$），而IR压降是稳态电阻效应（$V=IR$），在直流或准静态读取中占主导地位。关于 $V/2$ 偏置可以避免潜行路径的说法是错误的；它只是将其两端的电压降低到 $V_{\\mathrm{RD}}/2$。选择器本质上是非线性的，而不是线性的。最坏情况发生在最远的单元，而不是中心，并且当其他单元处于 $R_{\\mathrm{L}}$ 而非 $R_{\\mathrm{H}}$ 状态时，以最大化寄生电流。\n**结论：不正确**\n\n**C. IR压降主要由准静态读取时的线路电感引起，而潜行路径则源于相邻线路之间的电磁耦合。选择器作为每条位线上的时钟控制读出放大器来抵消这些效应。电压衰减的最坏情况访问模式是访问边缘单元，而所有其他单元实际上是开路的。**\n- IR压降的定义不正确。在准静态（低频）读取条件下，与电阻压降相比，电感效应（$L dI/dt$）可以忽略不计。潜行路径是穿过存储单元的导电路径，而不是电磁（电容或电感）耦合的效应。选择器是阵列内的无源两端器件，而不是像读出放大器那样的有源外围电路。其他单元处于“开路”状态会最小化潜行电流和IR压降，代表了最好情况而非最坏情况。\n**结论：不正确**\n\n**D. IR压降是驱动器处一个固定的、与电流无关的接触电势降，而潜行路径仅在大电压的写入操作期间发生。选择器必须表现出负微分电阻才能起作用；否则它们无法减轻漏电。当大多数未选单元处于 $R_{\\mathrm{H}}$ 状态时，会发生最坏情况的电压衰减，这会最大化电源效率，从而增加选定单元上的压降。**\n- IR压降本质上是与电流相关的（$V=IR$），而不是一个固定的电势降。如 $V/2$ 偏置分析所示，潜行路径是读取操作中的一个关键问题。虽然一些选择器可能具有负微分电阻（NDR），但这并非必要条件；关键特性是高非线性（一个陡峭的开启阈值）。最坏情况发生在未选单元处于 $R_{\\mathrm{L}}$ 以最大化潜行电流时，而不是 $R_{\\mathrm{H}}$。处于 $R_{\\mathrm{H}}$ 的单元会最小化潜行电流，从而最小化IR压降。\n**结论：不正确**",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "现代神经形态处理器与传统并行计算机类似，由多个相互连接的核心构成。一个关键挑战是如何将一个大型的脉冲神经网络（Spiking Neural Network, SNN）高效地映射到这种物理硬件上。本动手编程练习将此挑战构建为一个带约束的图分割问题，其目标是最小化核间通信——这是决定系统性能和能耗的关键因素。",
            "id": "4285444",
            "problem": "给定一个脉冲神经网络，它表示为一个加权有向图，该图符合神经形态计算架构的集成电路与电子设计自动化 (EDA) 实践。该图有 $n$ 个神经元作为顶点，每条从神经元 $i$ 到神经元 $j$ 的有向边都有一个非负权重 $w_{ij}$，其值等于以“脉冲/秒”为单位的期望脉冲发放率。目标是将每个神经元分配到片上网络 (NoC) 的 $K$ 个神经形态核心之一，使得核间脉冲（即切割脉冲）的数量最小化，同时满足核心容量和全局核间流量上限的约束。请将此问题表述为一个带约束的图划分问题，并实现一个程序，通过精确搜索为给定的小型测试用例找到最优划分。\n\n定义和约束：\n- 设分配由函数 $s:\\{0,\\ldots,n-1\\}\\rightarrow \\{0,\\ldots,K-1\\}$ 表示，其中 $s(i)$ 是分配给神经元 $i$ 的核心索引。\n- 切割脉冲率是所有跨越核心边界的有向边的权重之和：\n$$\nJ(s) \\;=\\; \\sum_{i=0}^{n-1}\\sum_{j=0}^{n-1} w_{ij} \\, \\mathbf{1}\\!\\left[s(i) \\neq s(j)\\right],\n$$\n其中 $\\mathbf{1}[\\cdot]$ 是指示函数。\n- 容量约束：对于每个核心 $k \\in \\{0,\\ldots,K-1\\}$，分配给核心 $k$ 的神经元数量必须最多为 $C$，即 $\\sum_{i=0}^{n-1} \\mathbf{1}\\!\\left[s(i)=k\\right] \\leq C$。\n- 核间流量上限：对于给定的上限 $U$，切割脉冲率必须满足 $J(s) \\leq U$。\n\n你必须编写一个程序，为每个提供的测试用例完成以下任务：\n1. 判断是否存在满足容量约束和核间流量上限的划分 $s$。\n2. 如果存在可行的划分，返回具有最小切割脉冲率 $J(s)$ 的那一个；如果多个划分具有相同的最小 $J(s)$，则通过选择字典序最小的分配向量 $(s(0), s(1), \\ldots, s(n-1))$ 来打破平局。\n3. 如果不存在可行的划分，则返回表示不可行的布尔值。\n\n所有脉冲率必须以“脉冲/秒”为单位进行数值处理和报告；输出中不应包含单位符号，只应包含数字。\n\n你必须使用以下测试套件（每个测试用例是一个邻接矩阵 $W$（其元素为 $w_{ij}$），以及参数 $K$、$C$ 和 $U$）。在每个矩阵中，对于所有 $i$，$w_{ii}=0$。\n\n- 测试用例 1 (理想情况):\n  - $n=6$，$K=2$，$C=3$，$U=18$。\n  - $W$ 由两个簇 $\\{0,1,2\\}$ 和 $\\{3,4,5\\}$ 定义：\n    - 对于同一簇内的所有 $i\\neq j$，$w_{ij}=4$。\n    - 对于 $\\{0,1,2\\}$ 中的所有 $i$ 和 $\\{3,4,5\\}$ 中的所有 $j$（反之亦然），$w_{ij}=1$。\n\n- 测试用例 2 (单个核心的边界情况):\n  - $n=6$，$K=1$，$C=6$，$U=1000$。\n  - $W$ 与测试用例 1 中的相同。\n\n- 测试用例 3 (容量不可行):\n  - $n=5$，$K=2$，$C=2$，$U=1000$。\n  - $W$ 包含少量连接：\n    - $w_{01}=3$，$w_{10}=3$，$w_{23}=3$，$w_{32}=3$，$w_{40}=1$，$w_{04}=1$，所有其他非对角线元素 $w_{ij}=0$。\n\n- 测试用例 4 (流量上限不可行):\n  - $n=4$，$K=2$，$C=2$，$U=7$。\n  - $W$ 结构化为两个核心内强连接和跨核心中等连接：\n    - 核心内配对：$w_{01}=3$，$w_{10}=3$，$w_{23}=3$，$w_{32}=3$。\n    - 跨核心连接：$w_{02}=2$，$w_{20}=2$，$w_{13}=2$，$w_{31}=2$。\n    - 所有其他非对角线元素 $w_{ij}=0$。\n\n你的程序应生成一行输出，其中包含一个由方括号括起来的逗号分隔列表的结果。对于每个测试用例，输出以下两种形式之一：\n- 形如 $[J^\\star, [s(0), s(1), \\ldots, s(n-1)]]$ 的列表，其中 $J^\\star$ 是以“脉冲/秒”为单位的最小切割脉冲率，且分配是字典序最小的最优划分，或\n- 表示不可行的布尔值。\n\n对于上述四个测试用例，你的程序必须输出形如一行的内容：\n\"[[J1,[s1_0,s1_1,s1_2,s1_3,s1_4,s1_5]],[J2,[s2_0,s2_1,s2_2,s2_3,s2_4,s2_5]],False,False]\"\n并将 $J1$、$J2$ 和分配替换为计算出的值。请注意，所有报告的 $J$ 值都以“脉冲/秒”为单位，并且必须仅为数值。",
            "solution": "所提出的问题是一个受约束的图划分任务，这是组合优化中的一个著名问题，在集成电路的电子设计自动化 (EDA) 领域有直接应用，特别是在将神经形态计算架构映射到像片上网络 (NoC) 这样的硬件的背景下。其目标是将 $n$ 个神经元分配到 $K$ 个可用核心之一，同时最小化核间通信，并受核心容量和总通信量的约束。\n\n该问题被正式表述如下：\n给定：\n- 一组 $n$ 个神经元，索引为 $\\{0, \\ldots, n-1\\}$。\n- 一组 $K$ 个核心，索引为 $\\{0, \\ldots, K-1\\}$。\n- 一个权重矩阵 $W$，其中 $w_{ij} \\geq 0$ 是从神经元 $i$ 到神经元 $j$ 的有向脉冲率。\n- 一个最大核心容量 $C$。\n- 一个总核间流量上限 $U$。\n\n我们寻求一个分配函数 $s: \\{0, \\ldots, n-1\\} \\rightarrow \\{0, \\ldots, K-1\\}$，其中 $s(i)$ 是分配给神经元 $i$ 的核心。该分配由一个向量 $s = (s(0), s(1), \\ldots, s(n-1))$ 表示。\n\n目标是找到一个分配 $s^\\star$，以最小化切割脉冲率 $J(s)$，其定义为连接不同核心上神经元的所有边的权重之和：\n$$\ns^\\star = \\arg\\min_{s} J(s) = \\arg\\min_{s} \\sum_{i=0}^{n-1}\\sum_{j=0}^{n-1} w_{ij} \\, \\mathbf{1}\\!\\left[s(i) \\neq s(j)\\right]\n$$\n其中 $\\mathbf{1}[\\cdot]$ 是指示函数。\n\n该最小化过程受两个约束条件限制：\n1.  **容量约束**：分配到任何单个核心 $k$ 的神经元数量不能超过 $C$。\n    $$\n    \\forall k \\in \\{0, \\ldots, K-1\\}, \\quad \\sum_{i=0}^{n-1} \\mathbf{1}\\!\\left[s(i)=k\\right] \\leq C\n    $$\n2.  **核间流量上限**：总切割脉冲率不得超过上限 $U$。\n    $$\n    J(s) \\leq U\n    $$\n\n如果一个分配 $s$ 满足这两个约束，则被认为是*可行*的。如果不存在这样的可行分配，则对于给定的参数，该问题是不可行的。如果存在多个最优解（即多个可行分配产生相同的最小切割脉冲率 $J^\\star$），则通过选择字典序最小的分配向量 $s$ 来打破平局。\n\n解空间由所有可能的将 $n$ 个神经元分配给 $K$ 个核心的分配组成。对于 $n$ 个神经元中的每一个，都有 $K$ 种可能的核心分配。因此，唯一分配的总数为 $K^n$。对于测试用例中提供的小规模 $n$ 和 $K$（例如，$n=6, K=2$ 产生 $2^6=64$ 种可能性），对整个解空间进行精确搜索在计算上是可行的。该方法保证在存在解的情况下能够找到全局最优解。\n\n算法流程如下：\n\n1.  **可行性预检查**：一个简单的可行性必要条件是，所有核心的总可用容量必须足以容纳所有神经元。即 $n \\leq K \\times C$。如果不满足此条件，则不可能存在解，问题立即被识别为不可行。\n\n2.  **穷举搜索**：我们生成所有可能的分配向量 $s = (s(0), s(1), \\ldots, s(n-1))$，其中每个分量 $s(i)$ 可以取 $0$ 到 $K-1$ 之间的任意整数值。这可以通过生成集合 $\\{0, \\ldots, K-1\\}$ 与自身的 $n$ 次笛卡尔积来完成。\n\n3.  **约束验证与优化**：对于每个生成的分配 $s$：\n    a.  **验证容量约束**：对于每个核心 $k \\in \\{0, \\ldots, K-1\\}$，我们计算分配给它的神经元数量，$N_k = \\sum_{i=0}^{n-1} \\mathbf{1}[s(i)=k]$。如果对于任何 $k$ 都有 $N_k  C$，则分配 $s$ 无效，我们将其丢弃。\n    b.  **计算切割脉冲率**：如果满足容量约束，我们计算切割脉冲率 $J(s)$。这通过遍历所有神经元对 $(i, j)$ 并对那些位于不同核心的神经元（即 $s(i) \\neq s(j)$）的权重 $w_{ij}$求和来完成。\n    c.  **验证流量上限**：我们检查计算出的 $J(s)$ 是否在允许的范围内，即 $J(s) \\leq U$。如果不是，则该分配无效。\n    d.  **更新最优解**：如果分配 $s$ 是可行的（同时满足容量和流量约束），我们将其与迄今为止找到的最佳解（表示为 $(J_{opt}, s_{opt})$）进行比较。初始时，$J_{opt}$ 设置为无穷大。\n        - 如果 $J(s)  J_{opt}$，我们找到了一个新的最佳解。我们更新 $J_{opt} = J(s)$ 和 $s_{opt} = s$。\n        - 如果 $J(s) = J_{opt}$，我们应用平局打破规则。我们按字典序比较当前分配向量 $s$ 和已存储的最优向量 $s_{opt}$。如果 $s$ 小于 $s_{opt}$，我们更新 $s_{opt} = s$。\n\n4.  **最终结果**：在遍历所有 $K^n$ 种可能的分配后，如果找到了一个可行解（即 $J_{opt}$ 不是无穷大），则结果为最优对 $(J_{opt}, s_{opt})$。如果在整个搜索过程中没有找到可行分配，则该问题是不可行的。\n\n这种穷举搜索方法保证了对所有问题需求的遵从，包括在给定约束下找到真正的最小值，并正确应用指定的平局打破规则。",
            "answer": "[[18.0,[0,0,0,1,1,1]],[0.0,[0,0,0,0,0,0]],False,False]"
        }
    ]
}