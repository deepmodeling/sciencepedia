{
    "hands_on_practices": [
        {
            "introduction": "设计ΔΣ调制器的一个主要目标是整形量化噪声，将其推出信号带宽之外。本练习将挑战您从第一性原理出发，确定级联积分器前馈（CIFF）架构中实现特定三阶噪声传递函数所需的精确前馈系数 。掌握此计算对于理解调制器拓扑如何直接转化为性能至关重要。",
            "id": "4261937",
            "problem": "考虑一个三阶连续时间Δ-Σ调制器，该调制器采用具有前馈的积分器级联 (CIFF) 架构和非归零 (NRZ) 数模转换器 (DAC)。假设积分器是理想的，采样周期为$T$，并使用z域中的标准线性化模型，其中量化器被建模为加性噪声源$e[n]$。输入序列为$u[n]$，调制器输出为$y[n]$，内部积分器输出为$x_{1}[n]$、$x_{2}[n]$和$x_{3}[n]$。在NRZ DAC激励下，连续时间理想积分器的离散时间等效形式由$I(z) = \\frac{z^{-1}}{1 - z^{-1}}$给出。量化器输入端的CIFF求和节点为\n$$\nr[n] = c_{0}\\,u[n] + c_{1}\\,x_{1}[n] + c_{2}\\,x_{2}[n] + c_{3}\\,x_{3}[n],\n$$\n并且来自$y[n]$的反馈以单位权重减法方式进入每个积分器，因此\n$$\nx_{1}(z) = I(z)\\,\\big(u(z) - y(z)\\big),\\quad x_{2}(z) = I(z)\\,\\big(x_{1}(z) - y(z)\\big),\\quad x_{3}(z) = I(z)\\,\\big(x_{2}(z) - y(z)\\big),\n$$\n量化器输出为$y(z) = r(z) + e(z)$。从这些关系出发，不调用任何预先推导的Δ-Σ传递函数模板，推导前馈系数$c_{1}$、$c_{2}$和$c_{3}$，使得所得的噪声传递函数精确满足$NTF(z) = (1 - z^{-1})^{3}$。此外，通过验证信号传递函数的低频行为，确保其在信号频带内近似为1。将最终答案表示为前馈系数的精确形式三元组。无需四舍五入。",
            "solution": "问题要求解一个三阶CIFF Δ-Σ调制器的前馈系数$c_1$、$c_2$和$c_3$，以得到一个特定的噪声传递函数(NTF)。分析将使用所提供的线性化离散时间模型进行。\n\n首先，我们建立调制器输出$y(z)$与其输入信号$u(z)$和量化噪声$e(z)$之间的关系。该系统由以下z域方程组描述：\n量化器输入由下式给出：\n$$r(z) = c_{0}\\,u(z) + c_{1}\\,x_{1}(z) + c_{2}\\,x_{2}(z) + c_{3}\\,x_{3}(z)$$\n量化器输出为：\n$$y(z) = r(z) + e(z)$$\n结合这两个等式可得：\n$$y(z) = c_{0}\\,u(z) + c_{1}\\,x_{1}(z) + c_{2}\\,x_{2}(z) + c_{3}\\,x_{3}(z) + e(z)$$\n积分器输出如下：\n$$x_{1}(z) = I(z)\\,\\big(u(z) - y(z)\\big)$$\n$$x_{2}(z) = I(z)\\,\\big(x_{1}(z) - y(z)\\big)$$\n$$x_{3}(z) = I(z)\\,\\big(x_{2}(z) - y(z)\\big)$$\n其中 $I(z) = \\frac{z^{-1}}{1 - z^{-1}}$ 是延迟积分器的传递函数。\n\n我们需要用$u(z)$和$y(z)$来表示积分器输出$x_k(z)$。\n$$x_{1}(z) = I(z)u(z) - I(z)y(z)$$\n$$x_{2}(z) = I(z)x_{1}(z) - I(z)y(z) = I(z)\\big(I(z)u(z) - I(z)y(z)\\big) - I(z)y(z) = I(z)^2 u(z) - (I(z)^2 + I(z))y(z)$$\n$$x_{3}(z) = I(z)x_{2}(z) - I(z)y(z) = I(z)\\big(I(z)^2 u(z) - (I(z)^2 + I(z))y(z)\\big) - I(z)y(z) = I(z)^3 u(z) - (I(z)^3 + I(z)^2 + I(z))y(z)$$\n\n现在，将这些表达式代回$y(z)$的方程：\n$$y(z) = c_{0}u(z) + c_{1}\\big(I(z)u(z) - I(z)y(z)\\big) + c_{2}\\big(I(z)^2 u(z) - (I(z)^2 + I(z))y(z)\\big) + c_{3}\\big(I(z)^3 u(z) - (I(z)^3 + I(z)^2 + I(z))y(z)\\big) + e(z)$$\n我们对包含$u(z)$、$y(z)$和$e(z)$的项进行分组：\n$$y(z) + c_{1}I(z)y(z) + c_{2}(I(z)^2+I(z))y(z) + c_{3}(I(z)^3+I(z)^2+I(z))y(z) = \\dots$$\n$$\\dots = c_{0}u(z) + c_{1}I(z)u(z) + c_{2}I(z)^2 u(z) + c_{3}I(z)^3 u(z) + e(z)$$\n提取公因式$y(z)$和$u(z)$：\n$$y(z)\\big[1 + (c_{1}+c_{2}+c_{3})I(z) + (c_{2}+c_{3})I(z)^2 + c_{3}I(z)^3\\big] = u(z)\\big[c_{0} + c_{1}I(z) + c_{2}I(z)^2 + c_{3}I(z)^3\\big] + e(z)$$\n调制器输出的一般形式为 $y(z) = STF(z)u(z) + NTF(z)e(z)$。通过观察，噪声传递函数(NTF)为：\n$$NTF(z) = \\frac{1}{1 + (c_{1}+c_{2}+c_{3})I(z) + (c_{2}+c_{3})I(z)^2 + c_{3}I(z)^3}$$\n问题要求$NTF(z) = (1 - z^{-1})^{3}$。我们需要用$I(z)$来表示这个目标NTF。\n根据给定的定义$I(z) = \\frac{z^{-1}}{1-z^{-1}}$，我们可以写出：\n$$1 + I(z) = 1 + \\frac{z^{-1}}{1-z^{-1}} = \\frac{1-z^{-1}+z^{-1}}{1-z^{-1}} = \\frac{1}{1-z^{-1}}$$\n取倒数可得：\n$$1 - z^{-1} = \\frac{1}{1+I(z)}$$\n因此，目标NTF可以写成：\n$$NTF(z) = (1-z^{-1})^3 = \\left(\\frac{1}{1+I(z)}\\right)^3 = \\frac{1}{(1+I(z))^3}$$\n对分母使用二项式展开：\n$$(1+I(z))^3 = 1 + 3I(z) + 3I(z)^2 + I(z)^3$$\n所以，目标NTF等效于：\n$$NTF(z) = \\frac{1}{1 + 3I(z) + 3I(z)^2 + I(z)^3}$$\n为了使我们推导出的NTF与目标NTF相等，它们的分母必须相同。我们将分母作为关于$I(z)$的多项式进行相等：\n$$1 + (c_{1}+c_{2}+c_{3})I(z) + (c_{2}+c_{3})I(z)^2 + c_{3}I(z)^3 = 1 + 3I(z) + 3I(z)^2 + I(z)^3$$\n通过比较$I(z)$各次幂的系数，我们得到关于系数$c_1, c_2, c_3$的线性方程组：\n\\begin{enumerate}\n    \\item $I(z)^3$的系数：$c_{3} = 1$\n    \\item $I(z)^2$的系数：$c_{2}+c_{3} = 3$\n    \\item $I(z)$的系数：$c_{1}+c_{2}+c_{3} = 3$\n\\end{enumerate}\n我们通过回代法求解这个方程组。\n由方程(1)可得 $c_{3} = 1$。\n将 $c_3=1$ 代入方程(2)：\n$c_{2} + 1 = 3 \\implies c_{2} = 2$。\n将 $c_2=2$ 和 $c_3=1$ 代入方程(3)：\n$c_{1} + 2 + 1 = 3 \\implies c_{1} + 3 = 3 \\implies c_{1} = 0$。\n因此，所需的前馈系数为 $c_1 = 0$, $c_2 = 2$, $c_3 = 1$。\n\n最后，我们必须验证所得的信号传递函数(STF)在低频时近似为1。STF由下式给出：\n$$STF(z) = \\frac{c_{0} + c_{1}I(z) + c_{2}I(z)^2 + c_{3}I(z)^3}{1 + (c_{1}+c_{2}+c_{3})I(z) + (c_{2}+c_{3})I(z)^2 + c_{3}I(z)^3}$$\n使用推导出的系数，分母为 $(1+I(z))^3 = (1/(1-z^{-1}))^3$。\n$$STF(z) = \\frac{c_{0} + (0)I(z) + 2I(z)^2 + 1I(z)^3}{(1+I(z))^3} = \\big(c_{0} + 2I(z)^2 + I(z)^3\\big)(1-z^{-1})^3$$\n代入 $I(z) = \\frac{z^{-1}}{1-z^{-1}}$：\n$$STF(z) = \\left(c_{0} + 2\\left(\\frac{z^{-1}}{1-z^{-1}}\\right)^2 + \\left(\\frac{z^{-1}}{1-z^{-1}}\\right)^3\\right)(1-z^{-1})^3$$\n$$STF(z) = c_{0}(1-z^{-1})^3 + 2z^{-2}(1-z^{-1}) + z^{-3}$$\n为了检查低频(直流)行为，我们计算STF在$z=1$处的值(这对应于$z^{-1}=1$)：\n$$STF(1) = c_{0}(1-1)^3 + 2(1)^{-2}(1-1) + (1)^{-3} = c_{0}(0) + 2(0) + 1 = 1$$\nSTF的直流增益恰好为$1$，无论$c_0$的选择如何。这证实了STF在低频时为1，正如所要求的那样。\n\n前馈系数为 $c_1=0$, $c_2=2$, $c_3=1$。",
            "answer": "$$\\boxed{\\begin{pmatrix} 0 & 2 & 1 \\end{pmatrix}}$$"
        },
        {
            "introduction": "虽然线性模型和噪声传递函数（NTF）是强大的分析工具，但量化器固有的非线性会导致确定性的、重复的输出模式，即所谓的“闲置音调”或“极限环”。本练习将引导您分析一个一阶调制器，以揭示能够触发强烈音调响应的输入信号条件 。这项实践突显了纯线性分析的局限性，并帮助您建立关于调制器复杂动态行为的直觉。",
            "id": "4261938",
            "problem": "考虑一个一阶连续时间 Delta-Sigma 调制器 (DSM)，其具有一位量化器和非归零 (NRZ) 反馈数模转换器 (DAC)，用于集成电路和电子设计自动化 (EDA) 分析。环路滤波器是一个理想的连续时间积分器，其传递函数为 $H(s) = \\frac{k}{s}$，量化器在零阈值下工作。系统以采样频率 $f_{s}$ 进行时钟同步，采样周期为 $T = \\frac{1}{f_{s}}$。设输入为正弦波 $x(t) = A \\sin(2 \\pi f_{\\text{in}} t)$，其中 $A$ 是输入幅度（以与一位 DAC 电平 $\\pm 1$ 相同的归一化单位表示），$f_{\\text{in}}$ 是输入频率。一位量化器的输出为 $y[n] \\in \\{+1, -1\\}$，并由 NRZ DAC 在每个采样区间 $[nT, (n+1)T)$ 内保持恒定。\n\n已知 Delta-Sigma 调制器中的闲置音调 (idle tones) 源于确定性极限环，在极限环中量化器输出会重复一个有限长度的模式。在本问题中，从第一性原理分析此类闲置音调的来源，并推导出一个关于输入幅度和频率的条件，该条件会导致调制器输出端出现强烈的音调分量。具体来说：\n\n- 从连续时间积分器定律出发，推导在采样时刻 $t = n T$ 的积分器状态 $s[n]$ 在单个采样区间内的离散时间状态更新。\n- 使用此更新，考虑量化器输出交替（即 $y[n] = (-1)^{n}$）的最强双采样极限环，并建立积分器状态在两个采样后返回其初始值时对 $f_{\\text{in}}$ 的必要条件。\n- 强制执行量化器一致性要求，即积分器状态 $s[n]$ 的符号在每个采样时刻与 $y[n]$ 匹配，并确定仍然允许这种交替极限环存在的最大输入幅度 $A$。\n\n将您的最终答案表示为一个双元素行矩阵，按顺序包含：允许的最大幅度 $A$ 和产生最强音调分量的相应输入频率 $f_{\\text{in}}$。频率单位使用赫兹。无需四舍五入；提供精确表达式。",
            "solution": "问题陈述已经过验证，被认为是合理、适定且具有科学依据的。它提出了一阶连续时间 Delta-Sigma 调制器 (CT-DSM) 的标准分析，这是集成电路领域一个成熟的课题。我们将开始解答。\n\n该系统是一个一阶 CT-DSM。系统的状态是积分器的输出，我们将其表示为 $s(t)$。积分器的输入是误差信号 $e(t) = x(t) - y_{dac}(t)$，其中 $x(t)$ 是调制器输入，$y_{dac}(t)$ 是来自数模转换器 (DAC) 的反馈信号。\n\n环路滤波器是一个理想积分器，其传递函数为 $H(s) = \\frac{k}{s}$。在时域中，这对应于微分方程：\n$$ \\frac{ds(t)}{dt} = k \\cdot e(t) = k (x(t) - y_{dac}(t)) $$\n系统以频率 $f_s$ 进行采样，采样周期为 $T = \\frac{1}{f_s}$。非归零 (NRZ) DAC 在采样区间 $[nT, (n+1)T)$ 内将量化器输出 $y[n]$ 保持恒定。因此，对于 $t \\in [nT, (n+1)T)$，反馈信号为 $y_{dac}(t) = y[n]$。\n\n**1. 离散时间状态更新的推导**\n\n为了找到离散时间状态更新方程，我们将微分方程在一个采样周期内（从 $t=nT$ 到 $t=(n+1)T$）进行积分。令 $s[n] \\equiv s(nT)$ 为采样时刻的积分器状态。\n$$ s((n+1)T) - s(nT) = \\int_{nT}^{(n+1)T} k(x(\\tau) - y_{dac}(\\tau)) d\\tau $$\n根据我们的定义，这变为：\n$$ s[n+1] = s[n] + k \\int_{nT}^{(n+1)T} (A \\sin(2\\pi f_{\\text{in}}\\tau) - y[n]) d\\tau $$\n我们可以将积分分成两部分：\n$$ \\int_{nT}^{(n+1)T} y[n] d\\tau = y[n] \\int_{nT}^{(n+1)T} d\\tau = y[n] T $$\n$$ \\int_{nT}^{(n+1)T} A \\sin(2\\pi f_{\\text{in}}\\tau) d\\tau = A \\left[ -\\frac{\\cos(2\\pi f_{\\text{in}}\\tau)}{2\\pi f_{\\text{in}}} \\right]_{nT}^{(n+1)T} = \\frac{A}{2\\pi f_{\\text{in}}} (\\cos(2\\pi f_{\\text{in}}nT) - \\cos(2\\pi f_{\\text{in}}(n+1)T)) $$\n结合这些结果，离散时间状态更新方程为：\n$$ s[n+1] = s[n] + k \\left( \\frac{A}{2\\pi f_{\\text{in}}} (\\cos(2\\pi f_{\\text{in}}nT) - \\cos(2\\pi f_{\\text{in}}(n+1)T)) - y[n] T \\right) $$\n\n**2. 双采样极限环的条件**\n\n我们被要求分析一个双采样极限环，其中量化器输出交替变化，即 $y[n] = (-1)^n$。对于周期为二的周期性行为，系统状态必须在两个采样后返回其初始值，因此 $s[n+2] = s[n]$。\n让我们使用更新规则写出 $s[n+2]$ 的表达式：\n$$ s[n+2] = s[n+1] + k \\int_{(n+1)T}^{(n+2)T} (x(\\tau) - y[n+1]) d\\tau $$\n$$ s[n+2] = \\left( s[n] + k \\int_{nT}^{(n+1)T} (x(\\tau) - y[n]) d\\tau \\right) + k \\int_{(n+1)T}^{(n+2)T} (x(\\tau) - y[n+1]) d\\tau $$\n设 $s[n+2] = s[n]$ 并假设 $k \\neq 0$：\n$$ \\int_{nT}^{(n+1)T} (x(\\tau) - y[n]) d\\tau + \\int_{(n+1)T}^{(n+2)T} (x(\\tau) - y[n+1]) d\\tau = 0 $$\n$$ \\int_{nT}^{(n+2)T} x(\\tau) d\\tau - T y[n] - T y[n+1] = 0 $$\n对于交替序列 $y[n] = (-1)^n$，我们有 $y[n+1] = -y[n]$。条件简化为：\n$$ \\int_{nT}^{(n+2)T} x(\\tau) d\\tau - T y[n] - T(-y[n]) = 0 \\implies \\int_{nT}^{(n+2)T} x(\\tau) d\\tau = 0 $$\n这意味着输入信号在任意两个连续采样周期内的积分必须为零。让我们对 $x(t) = A \\sin(2\\pi f_{\\text{in}} t)$ 计算这个积分：\n$$ \\int_{nT}^{(n+2)T} A \\sin(2\\pi f_{\\text{in}}\\tau) d\\tau = \\frac{A}{2\\pi f_{\\text{in}}} (\\cos(2\\pi f_{\\text{in}}nT) - \\cos(2\\pi f_{\\text{in}}(n+2)T)) = 0 $$\n这对任何整数 $n$ 都必须成立。这要求余弦项相等，如果它们的参数之差是 $2\\pi$ 的整数倍，则该条件满足：\n$$ 2\\pi f_{\\text{in}}(n+2)T - 2\\pi f_{\\text{in}}nT = m \\cdot 2\\pi, \\quad m \\in \\mathbb{Z} $$\n$$ 4\\pi f_{\\text{in}}T = m \\cdot 2\\pi \\implies 2 f_{\\text{in}} T = m \\implies f_{\\text{in}} = \\frac{m}{2T} = \\frac{m f_s}{2} $$\n当输入频率与交替模式 $y[n]$ 的基频匹配时，将产生最强的音调分量，该模式的周期为 $2T$。因此，基频为 $\\frac{1}{2T} = \\frac{f_s}{2}$。这对应于选择 $m=1$。\n因此，所需的输入频率为 $f_{\\text{in}} = \\frac{f_s}{2}$。\n\n**3. 量化器一致性与最大允许幅度**\n\n当 $f_{\\text{in}} = f_s/2$ 时，输入信号为 $x(t) = A \\sin(\\pi f_s t) = A \\sin(\\frac{\\pi t}{T})$。让我们重新计算输入在一个采样周期 $[nT, (n+1)T]$ 内的积分：\n$$ \\int_{nT}^{(n+1)T} A \\sin\\left(\\frac{\\pi \\tau}{T}\\right) d\\tau = A \\left[ -\\frac{T}{\\pi} \\cos\\left(\\frac{\\pi \\tau}{T}\\right) \\right]_{nT}^{(n+1)T} = -\\frac{AT}{\\pi} (\\cos(\\pi(n+1)) - \\cos(\\pi n)) $$\n$$ = -\\frac{AT}{\\pi} ((-1)^{n+1} - (-1)^n) = -\\frac{AT}{\\pi} (-1)^n(-1-1) = \\frac{2AT}{\\pi}(-1)^n $$\n将此代入极限环 $y[n] = (-1)^n$ 的状态更新方程中：\n$$ s[n+1] = s[n] + k \\left( \\frac{2AT}{\\pi}(-1)^n - (-1)^n T \\right) = s[n] + k T (-1)^n \\left(\\frac{2A}{\\pi} - 1\\right) $$\n一位量化器具有零阈值，其输出为 $y[n] \\in \\{+1, -1\\}$。我们定义 $y[n] = \\text{sgn}(s[n])$，假设当 $x \\ge 0$ 时 $\\text{sgn}(x) = +1$，当 $x  0$ 时 $\\text{sgn}(x) = -1$。为了维持极限环 $y[n] = (-1)^n$，状态 $s[n]$ 必须在每一步都满足量化器的符号条件。让我们检查 $n=0$ 和 $n=1$ 的情况。\n\n1.  对于 $n=0$：$y[0] = (-1)^0 = +1$。这要求 $s[0] \\ge 0$。\n2.  对于 $n=1$：$y[1] = (-1)^1 = -1$。这要求 $s[1]  0$。\n\n让我们使用我们推导的更新方程来检查状态 $s[1]$：\n$$ s[1] = s[0] + k T (-1)^0 \\left(\\frac{2A}{\\pi} - 1\\right) = s[0] + k T \\left(\\frac{2A}{\\pi} - 1\\right) $$\n条件 $s[1]  0$ 意味着：\n$$ s[0] + k T \\left(\\frac{2A}{\\pi} - 1\\right)  0 \\implies s[0]  -k T \\left(\\frac{2A}{\\pi} - 1\\right) = k T \\left(1 - \\frac{2A}{\\pi}\\right) $$\n将此与条件 $s[0] \\ge 0$ 结合，我们发现为了使极限环存在，必须有一个有效的初始状态 $s[0]$ 满足：\n$$ 0 \\le s[0]  k T \\left(1 - \\frac{2A}{\\pi}\\right) $$\n为了使这个可能的 $s[0]$ 值区间非空，上界必须严格大于下界（$0$）。因为 $k  0$ 且 $T  0$，这要求：\n$$ 1 - \\frac{2A}{\\pi}  0 \\implies 1  \\frac{2A}{\\pi} \\implies A  \\frac{\\pi}{2} $$\n允许此极限环存在的幅度 $A$ 的集合是 $[0, \\pi/2)$。问题要求的是*最大*的此类幅度。这对应于该集合的上确界，也就是有效初始状态 $s[0]$ 的范围缩小到单个点时的边界值。\n因此，最大允许幅度为 $A = \\frac{\\pi}{2}$。\n\n最终答案是序对 $(A, f_{\\text{in}})$。\n最大允许幅度：$A = \\frac{\\pi}{2}$。\n相应输入频率：$f_{\\text{in}} = \\frac{f_s}{2}$。",
            "answer": "$$ \\boxed{\n\\begin{pmatrix}\n\\frac{\\pi}{2}  \\frac{f_s}{2}\n\\end{pmatrix}\n} $$"
        },
        {
            "introduction": "在连续时间ΔΣ调制器中，反馈数模转换器（DAC）的时序精度至关重要，因为任何抖动都会将误差直接引入环路。本问题提供了一种实践方法，用于量化不同脉冲形状下由DAC时序抖动产生的噪声功率 。通过运用随机信号处理的原理，您将对高速CT-DSM中的一个关键性能限制因素获得至关重要的理解，并学会如何评估设计上的权衡。",
            "id": "4261989",
            "problem": "考虑一个连续时间(CT)ΔΣ调制器，其反馈数模转换器(DAC)在每个采样周期内发射一个矩形脉冲，采样周期为 $T_{s}$，采样频率为 $f_{s} = \\frac{1}{T_{s}}$。假设过采样率(OSR)通过 $B = \\frac{f_{s}}{2\\,OSR}$ 定义了基带信号带宽 $B$。DAC电平的离散序列 $\\{a_{k}\\}$ 被建模为一个零均值、宽义平稳的创新过程，其方差为 $\\sigma_{a}^{2}$，且样本间没有离散时间相关性。DAC边沿时序表现出独立的、零均值的、小的定时不确定性，每个样本的方差为 $\\sigma_{t}^{2}$，记为 $\\{\\Delta t_{k}\\}$，使得关于时间偏移的一阶线性化有效。\n\n定义两种DAC脉冲形状：\n- 非归零(NRZ)：$p_{\\mathrm{NRZ}}(t)$ 是一个幅度为 $1$、宽度为 $T_{s}$ 的矩形脉冲。\n- 占空比为 $50\\%$ 的归零(RZ)：$p_{\\mathrm{RZ}}(t)$ 是一个幅度为 $2$、宽度为 $\\frac{T_{s}}{2}$ 的矩形脉冲，因此每个样本的脉冲面积与NRZ相等。\n\n设连续时间DAC输出为 $y(t) = \\sum_{k} a_{k}\\,p(t - k T_{s} - \\Delta t_{k})$。通过对时间偏移进行线性化来对抖动引起的误差 $e(t)$ 进行建模，并视 $\\{a_{k}\\}$ 和 $\\{\\Delta t_{k}\\}$ 为独立的。利用傅里叶变换的基本性质以及宽义平稳随机脉冲幅度调制过程的功率谱密度(PSD)，通过在 $[0, B]$ 上对产生的误差谱进行积分，推导NRZ和RZ的积分基带抖动噪声功率。\n\n提供RZ与NRZ的积分基带抖动噪声功率之比，作为 $OSR$ 的函数的单一闭式解析表达式。最终答案仅用 $OSR$ 表示；不需要进行数值代入。不要四舍五入；不需要单位。",
            "solution": "问题陈述经评估有效。它在科学上基于连续时间ΔΣ调制器和随机信号处理理论。该问题提法恰当、客观、自洽，并需要基于既定原则进行不平凡的推导。推导唯一解析解所需的所有必要参数和假设均已提供。\n\n推导过程如下：\n首先，我们构建抖动引起的误差信号 $e(t)$。包含时序抖动 $\\Delta t_k$ 的DAC输出由下式给出：\n$$y(t) = \\sum_{k} a_{k}\\,p(t - k T_{s} - \\Delta t_{k})$$\n其中 $\\{a_{k}\\}$ 是DAC电平序列，$p(t)$ 是DAC脉冲形状，$T_s$ 是采样周期。\n由于定时不确定性 $\\{\\Delta t_k\\}$ 很小，我们可以使用一阶泰勒级数展开在理想采样时刻 $t - k T_s$ 附近对脉冲形状进行线性化：\n$$p(t - k T_{s} - \\Delta t_{k}) \\approx p(t - k T_{s}) - \\Delta t_{k} \\frac{d}{dt}p(t - k T_{s})$$\n没有抖动的理想输出是 $y_{\\text{ideal}}(t) = \\sum_{k} a_{k}\\,p(t - k T_{s})$。误差信号 $e(t)$ 是差值 $y(t) - y_{\\text{ideal}}(t)$，应用线性化后变为：\n$$e(t) \\approx \\sum_{k} a_{k} \\left( - \\Delta t_{k} \\frac{d}{dt}p(t - k T_{s}) \\right) = \\sum_{k} c_k g(t - k T_s)$$\n该误差信号是一个脉冲幅度调制(PAM)信号，其幅度序列为 $c_k = -a_k \\Delta t_k$，脉冲形状为 $g(t) = \\frac{d p(t)}{dt}$。\n\n其次，我们确定误差信号的功率谱密度(PSD) $S_e(f)$。由宽义平稳(WSS)序列 $\\{c_k\\}$ 生成的PAM信号的PSD由 $S_e(f) = \\frac{1}{T_s} S_c(f) |G(f)|^2$ 给出，其中 $S_c(f)$ 是 $\\{c_k\\}$ 的功率谱，$G(f)$ 是 $g(t)$ 的傅里叶变换。\n\n问题陈述指出 $\\{a_k\\}$ 和 $\\{\\Delta t_k\\}$ 是独立的、零均值的宽义平稳序列，并且每个序列内的样本不相关。$\\{a_k\\}$ 的自相关为 $R_a[m] = E[a_k a_{k+m}] = \\sigma_a^2 \\delta[m]$，对于 $\\{\\Delta t_k\\}$ 则为 $R_{\\Delta t}[m] = E[\\Delta t_k \\Delta t_{k+m}] = \\sigma_t^2 \\delta[m]$，其中 $\\delta[m]$ 是克罗内克δ函数。\n序列 $c_k = -a_k \\Delta t_k$ 的自相关是：\n$$R_c[m] = E[c_k c_{k+m}] = E[(-a_k \\Delta t_k)(-a_{k+m} \\Delta t_{k+m})] = E[a_k a_{k+m}] E[\\Delta t_k \\Delta t_{k+m}]$$\n$$R_c[m] = (\\sigma_a^2 \\delta[m]) (\\sigma_t^2 \\delta[m]) = \\sigma_a^2 \\sigma_t^2 \\delta[m]$$\n这表明 $\\{c_k\\}$ 是一个白噪声序列，其方差为 $\\sigma_c^2 = R_c[0] = \\sigma_a^2 \\sigma_t^2$。白噪声序列的功率谱是平坦的：$S_c(f) = \\sigma_c^2 = \\sigma_a^2 \\sigma_t^2$。\n\n误差脉冲形状 $g(t) = \\frac{d p(t)}{dt}$ 的傅里叶变换使用傅里叶变换的微分性质求得：\n$$G(f) = \\mathcal{F}\\left\\{\\frac{d p(t)}{dt}\\right\\} = j 2 \\pi f P(f)$$\n其中 $P(f) = \\mathcal{F}\\{p(t)\\}$。其幅度的平方为 $|G(f)|^2 = (2 \\pi f)^2 |P(f)|^2$。\n结合这些结果，抖动引起的误差的PSD为：\n$$S_e(f) = \\frac{1}{T_s} (\\sigma_a^2 \\sigma_t^2) |j 2 \\pi f P(f)|^2 = \\frac{\\sigma_a^2 \\sigma_t^2}{T_s} (2 \\pi f)^2 |P(f)|^2$$\n\n第三，我们计算非归零(NRZ)和归零(RZ)脉冲的 $|P(f)|^2$。\n对于NRZ脉冲，$p_{\\mathrm{NRZ}}(t)$ 是一个幅度为 $1$、宽度为 $T_s$ 的矩形脉冲。其傅里叶变换为 $P_{\\mathrm{NRZ}}(f) = T_s \\mathrm{sinc}(\\pi f T_s) \\exp(-j\\pi f T_s)$，其中 $\\mathrm{sinc}(x) = \\sin(x)/x$。其幅度的平方为：\n$$|P_{\\mathrm{NRZ}}(f)|^2 = \\left( T_s \\frac{\\sin(\\pi f T_s)}{\\pi f T_s} \\right)^2 = \\left( \\frac{\\sin(\\pi f T_s)}{\\pi f} \\right)^2$$\n对于RZ脉冲，$p_{\\mathrm{RZ}}(t)$ 是一个幅度为 $2$、宽度为 $T_s/2$ 的矩形脉冲。其傅里叶变换为 $P_{\\mathrm{RZ}}(f) = 2 \\cdot \\frac{T_s}{2} \\mathrm{sinc}(\\pi f \\frac{T_s}{2}) \\exp(-j\\pi f T_s/2)$。其幅度的平方为：\n$$|P_{\\mathrm{RZ}}(f)|^2 = \\left( T_s \\frac{\\sin(\\pi f T_s / 2)}{\\pi f T_s / 2} \\right)^2 = \\left( \\frac{2 \\sin(\\pi f T_s / 2)}{\\pi f} \\right)^2$$\n\n第四，我们将这些代入PSD表达式。\n对于NRZ：\n$$S_{e, \\mathrm{NRZ}}(f) = \\frac{\\sigma_a^2 \\sigma_t^2}{T_s} (2 \\pi f)^2 \\left( \\frac{\\sin(\\pi f T_s)}{\\pi f} \\right)^2 = \\frac{4 \\sigma_a^2 \\sigma_t^2}{T_s} \\sin^2(\\pi f T_s)$$\n对于RZ：\n$$S_{e, \\mathrm{RZ}}(f) = \\frac{\\sigma_a^2 \\sigma_t^2}{T_s} (2 \\pi f)^2 \\left( \\frac{2 \\sin(\\pi f T_s / 2)}{\\pi f} \\right)^2 = \\frac{16 \\sigma_a^2 \\sigma_t^2}{T_s} \\sin^2(\\pi f T_s / 2)$$\n\n第五，我们计算两种情况下的积分基带噪声功率 $P_{\\text{noise}} = \\int_0^B S_e(f) df$。\n信号带宽为 $B = \\frac{f_s}{2 \\cdot OSR} = \\frac{1}{2 T_s \\cdot OSR}$。\nNRZ情况下的噪声功率为：\n$$P_{\\mathrm{NRZ}} = \\int_0^B \\frac{4 \\sigma_a^2 \\sigma_t^2}{T_s} \\sin^2(\\pi f T_s) df$$\nRZ情况下的噪声功率为：\n$$P_{\\mathrm{RZ}} = \\int_0^B \\frac{16 \\sigma_a^2 \\sigma_t^2}{T_s} \\sin^2(\\pi f T_s / 2) df$$\n功率之比为：\n$$\\frac{P_{\\mathrm{RZ}}}{P_{\\mathrm{NRZ}}} = \\frac{16 \\int_0^B \\sin^2(\\pi f T_s / 2) df}{4 \\int_0^B \\sin^2(\\pi f T_s) df} = 4 \\frac{\\int_0^B \\sin^2(\\pi f T_s / 2) df}{\\int_0^B \\sin^2(\\pi f T_s) df}$$\n我们使用恒等式 $\\sin^2(x) = \\frac{1 - \\cos(2x)}{2}$。\n分子中的积分为：\n$$\\int_0^B \\sin^2(\\pi f T_s / 2) df = \\int_0^B \\frac{1 - \\cos(\\pi f T_s)}{2} df = \\left[ \\frac{f}{2} - \\frac{\\sin(\\pi f T_s)}{2 \\pi T_s} \\right]_0^B = \\frac{B}{2} - \\frac{\\sin(\\pi B T_s)}{2 \\pi T_s}$$\n分母中的积分为：\n$$\\int_0^B \\sin^2(\\pi f T_s) df = \\int_0^B \\frac{1 - \\cos(2 \\pi f T_s)}{2} df = \\left[ \\frac{f}{2} - \\frac{\\sin(2 \\pi f T_s)}{4 \\pi T_s} \\right]_0^B = \\frac{B}{2} - \\frac{\\sin(2 \\pi B T_s)}{4 \\pi T_s}$$\n该比值变为：\n$$\\frac{P_{\\mathrm{RZ}}}{P_{\\mathrm{NRZ}}} = 4 \\frac{\\frac{B}{2} - \\frac{\\sin(\\pi B T_s)}{2 \\pi T_s}}{\\frac{B}{2} - \\frac{\\sin(2 \\pi B T_s)}{4 \\pi T_s}} = 4 \\frac{2 \\pi B T_s - 2 \\sin(\\pi B T_s)}{2 \\pi B T_s - \\sin(2 \\pi B T_s)}$$\n\n最后，我们将 $B = \\frac{1}{2 T_s \\cdot OSR}$ 代入表达式中。这得到 $\\pi B T_s = \\frac{\\pi}{2 \\cdot OSR}$ 和 $2 \\pi B T_s = \\frac{\\pi}{OSR}$。\n$$\\text{比率} = 4 \\frac{\\frac{\\pi}{OSR} - 2\\sin\\left(\\frac{\\pi}{2 \\cdot OSR}\\right)}{\\frac{\\pi}{OSR} - \\sin\\left(\\frac{\\pi}{OSR}\\right)}$$\n这就是作为过采样率($OSR$)函数的比值的最终闭式解析表达式。",
            "answer": "$$\\boxed{4 \\frac{\\frac{\\pi}{OSR} - 2\\sin\\left(\\frac{\\pi}{2 \\cdot OSR}\\right)}{\\frac{\\pi}{OSR} - \\sin\\left(\\frac{\\pi}{OSR}\\right)}}$$"
        }
    ]
}