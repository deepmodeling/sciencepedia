{
    "hands_on_practices": [
        {
            "introduction": "在任何开关电容电路的核心，都存在着电荷在电容器之间重新分配的基本过程。这个练习将带你回到第一性原理，通过分析两个带有初始电压的电容器连接在一起的经典场景，来巩固电荷守恒定律的应用。通过推导最终的平衡电压和在此过程中损失的能量，你将深刻理解为何电荷转移过程是电荷守恒的，而能量却不是，这是掌握更复杂开关电容系统分析的关键一步。",
            "id": "4302948",
            "problem": "考虑在一个通过电子设计自动化（EDA）设计的集成电路中使用的开关电容网络中的两个理想集总电容器 $C_{1}$ 和 $C_{2}$。在开关事件发生之前，$C_{1}$ 和 $C_{2}$ 的上极板是隔离的，并分别保持在电压 $V_{1}$ 和 $V_{2}$（相对于一个公共地）。在时间 $t=0$ 时，一个具有足够低导通电阻的金属-氧化物-半导体场效应晶体管（MOSFET）开关闭合，将两个上极板连接在一起，使得电荷重新分配，直到达到一个共同的最终电压 $V_{\\mathrm{f}}$。假设不存在到其他节点的寄生电容，没有漏电流路径，并且在重新分配过程中唯一的能量耗散机制是开关闭合时的有限电阻。电压均衡后，开关保持闭合状态，使得最终状态是两个电容器的上极板永久连接在一起。仅使用基本定律（电容器的本构关系和由两个上极板形成的隔离节点上的严格电荷守恒）以及电容器中存储能量的定义，推导最终电压 $V_{\\mathrm{f}}$ 的闭式表达式和在均衡过程中因重新分配而损失的能量的闭式表达式。\n\n最终电压以伏特（Volts）表示，能量以焦耳（Joules）表示。最终答案必须是一个单一的闭式解析表达式，包含这两个量，排列成一行，其中第一项等于 $V_{\\mathrm{f}}$，第二项等于因重新分配而损失的能量。没有提供数值；你的表达式必须仅用 $C_{1}$、$C_{2}$、$V_{1}$ 和 $V_{2}$ 表示。",
            "solution": "问题陈述需要经过验证。\n\n**步骤1：提取已知条件**\n- 两个理想集总电容器：$C_{1}$ 和 $C_{2}$。\n- 电容器 $C_{1}$ 上的初始电压：$V_{1}$。\n- 电容器 $C_{2}$ 上的初始电压：$V_{2}$。\n- 在时间 $t=0$ 时，$C_{1}$ 和 $C_{2}$ 的上极板通过一个开关闭合。\n- 系统达到一个共同的最终电压 $V_{\\mathrm{f}}$。\n- 假设：无寄生电容，无漏电流路径。\n- 推导必须使用：电容器本构关系、严格电荷守恒以及电容器中存储能量的定义。\n- $V_{\\mathrm{f}}$ 和损失能量的最终表达式必须用 $C_{1}$、$C_{2}$、$V_{1}$ 和 $V_{2}$ 表示。\n\n**步骤2：使用提取的已知条件进行验证**\n该问题具有科学依据，提法明确且客观。它描述了电路理论中一个关于两个电容器之间电荷共享和能量耗散的基本教科书问题。所提供的假设（理想元件，无寄生参数）是用于分离核心物理原理的标准做法。该问题是自洽的，提供了所有必要信息，可以根据指定的基本定律推导出唯一解。它不违反任何物理原理，也不包含任何歧义或矛盾。在这种情况下，能量损失现象与电阻值无关（只要其非零），是一个公认的概念。\n\n**步骤3：结论与行动**\n问题有效。下面提供完整的解答。\n\n解决方案从两个基本原理推导得出：孤立系统上的电荷守恒和电容器中存储能量的定义。\n\n首先，我们应用电荷守恒原理来确定最终电压 $V_{\\mathrm{f}}$。在 $t=0$ 开关闭合之前，两个电容器的上极板形成一个孤立节点。此节点上的总电荷是每个电容器上电荷的总和。使用电容器本构关系 $Q=CV$，电容器 $C_{1}$ 和 $C_{2}$ 上的初始电荷为：\n$$Q_{1, \\text{initial}} = C_{1}V_{1}$$\n$$Q_{2, \\text{initial}} = C_{2}V_{2}$$\n孤立节点上的总初始电荷为：\n$$Q_{\\text{initial}} = Q_{1, \\text{initial}} + Q_{2, \\text{initial}} = C_{1}V_{1} + C_{2}V_{2}$$\n\n开关闭合后，电荷在两个电容器之间重新分配，直到它们达到一个共同的最终电压 $V_{\\mathrm{f}}$。此时，电容器等效于并联连接。并联组合的总电容为：\n$$C_{\\text{total}} = C_{1} + C_{2}$$\n用最终电压 $V_{\\mathrm{f}}$ 表示的节点上的总最终电荷为：\n$$Q_{\\text{final}} = C_{\\text{total}}V_{\\mathrm{f}} = (C_{1} + C_{2})V_{\\mathrm{f}}$$\n\n根据电荷守恒定律，孤立节点上的总电荷在开关事件前后必须相同：\n$$Q_{\\text{initial}} = Q_{\\text{final}}$$\n$$C_{1}V_{1} + C_{2}V_{2} = (C_{1} + C_{2})V_{\\mathrm{f}}$$\n求解最终电压 $V_{\\mathrm{f}}$ 可得：\n$$V_{\\mathrm{f}} = \\frac{C_{1}V_{1} + C_{2}V_{2}}{C_{1} + C_{2}}$$\n此表达式给出了最终平衡电压，即初始电压的加权平均值，其中电容为权重因子。\n\n接下来，我们确定电荷重新分配过程中损失的能量。能量在 MOSFET 开关的有限导通电阻中以热量形式耗散。损失的能量 $E_{\\text{lost}}$ 是电容器中存储的总初始能量 $E_{\\text{initial}}$ 与总最终能量 $E_{\\text{final}}$ 之间的差值。\n\n单个电容器中存储的能量由 $E = \\frac{1}{2}CV^{2}$ 给出。\n总初始能量是每个电容器单独存储的能量之和：\n$$E_{\\text{initial}} = \\frac{1}{2}C_{1}V_{1}^{2} + \\frac{1}{2}C_{2}V_{2}^{2}$$\n总最终能量是在最终电压 $V_{\\mathrm{f}}$ 下存储在等效并联电容中的能量：\n$$E_{\\text{final}} = \\frac{1}{2}C_{\\text{total}}V_{\\mathrm{f}}^{2} = \\frac{1}{2}(C_{1} + C_{2})V_{\\mathrm{f}}^{2}$$\n将先前推导出的 $V_{\\mathrm{f}}$ 表达式代入 $E_{\\text{final}}$ 的方程中：\n$$E_{\\text{final}} = \\frac{1}{2}(C_{1} + C_{2}) \\left( \\frac{C_{1}V_{1} + C_{2}V_{2}}{C_{1} + C_{2}} \\right)^{2} = \\frac{1}{2} \\frac{(C_{1}V_{1} + C_{2}V_{2})^{2}}{C_{1} + C_{2}}$$\n然后，损失的能量计算为 $E_{\\text{lost}} = E_{\\text{initial}} - E_{\\text{final}}$：\n$$E_{\\text{lost}} = \\left(\\frac{1}{2}C_{1}V_{1}^{2} + \\frac{1}{2}C_{2}V_{2}^{2}\\right) - \\frac{1}{2} \\frac{(C_{1}V_{1} + C_{2}V_{2})^{2}}{C_{1} + C_{2}}$$\n我们可以通过将所有项通分到公分母 $2(C_{1} + C_{2})$ 上来简化此表达式：\n$$E_{\\text{lost}} = \\frac{ (C_{1} + C_{2})(C_{1}V_{1}^{2} + C_{2}V_{2}^{2}) - (C_{1}V_{1} + C_{2}V_{2})^{2} }{2(C_{1} + C_{2})}$$\n现在，我们展开分子中的各项。\n第一项：\n$$(C_{1} + C_{2})(C_{1}V_{1}^{2} + C_{2}V_{2}^{2}) = C_{1}^{2}V_{1}^{2} + C_{1}C_{2}V_{2}^{2} + C_{1}C_{2}V_{1}^{2} + C_{2}^{2}V_{2}^{2}$$\n第二项：\n$$(C_{1}V_{1} + C_{2}V_{2})^{2} = C_{1}^{2}V_{1}^{2} + 2C_{1}V_{1}C_{2}V_{2} + C_{2}^{2}V_{2}^{2}$$\n从第一项展开式中减去第二项展开式：\n$$C_{1}^{2}V_{1}^{2} + C_{1}C_{2}V_{1}^{2} + C_{1}C_{2}V_{2}^{2} + C_{2}^{2}V_{2}^{2} - (C_{1}^{2}V_{1}^{2} + 2C_{1}C_{2}V_{1}V_{2} + C_{2}^{2}V_{2}^{2})$$\n$C_{1}^{2}V_{1}^{2}$ 和 $C_{2}^{2}V_{2}^{2}$ 项相互抵消，剩下：\n$$C_{1}C_{2}V_{1}^{2} + C_{1}C_{2}V_{2}^{2} - 2C_{1}C_{2}V_{1}V_{2}$$\n提出公因式 $C_{1}C_{2}$：\n$$C_{1}C_{2}(V_{1}^{2} - 2V_{1}V_{2} + V_{2}^{2}) = C_{1}C_{2}(V_{1} - V_{2})^{2}$$\n将这个简化的分子代回 $E_{\\text{lost}}$ 的表达式中：\n$$E_{\\text{lost}} = \\frac{C_{1}C_{2}(V_{1} - V_{2})^{2}}{2(C_{1} + C_{2})} = \\frac{1}{2} \\frac{C_{1}C_{2}}{C_{1} + C_{2}} (V_{1} - V_{2})^{2}$$\n这是损失能量的闭式表达式。值得注意的是，能量损失总是非负的，因为所有项都是正的，并且仅当初始电压相等（$V_{1}=V_{2}$）时为零，此时没有电荷重新分配发生。量 $\\frac{C_{1}C_{2}}{C_{1} + C_{2}}$ 是 $C_{1}$ 和 $C_{2}$ 串联的等效电容。\n\n总之，最终电压和损失的能量由以下公式给出：\n最终电压：$V_{\\mathrm{f}} = \\frac{C_{1}V_{1} + C_{2}V_{2}}{C_{1} + C_{2}}$\n损失能量：$E_{\\text{lost}} = \\frac{1}{2} \\frac{C_{1}C_{2}}{C_{1} + C_{2}}(V_{1} - V_{2})^{2}$",
            "answer": "$$\n\\boxed{\\begin{pmatrix} \\frac{C_{1}V_{1} + C_{2}V_{2}}{C_{1} + C_{2}}  \\frac{1}{2} \\frac{C_{1}C_{2}}{C_{1} + C_{2}}(V_{1} - V_{2})^{2} \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "开关电容电路最巧妙的应用之一便是用电容器和开关来模拟一个电阻器，这在集成电路设计中极具价值，因为它能实现高精度、可调谐的电阻。本练习将指导你分析一个理想的开关电容电阻模型，通过计算在固定压差下周期性转移的电荷量，推导出其等效电阻 $R_{\\mathrm{eq}}$ 和平均电流 $I_{\\mathrm{avg}}$ 。这个实践不仅揭示了离散时间电荷处理如何等效于连续时间功能，也让你亲手验证了那个著名的关系式：$R_{\\mathrm{eq}} = \\frac{1}{fC}$。",
            "id": "4302943",
            "problem": "在电子设计自动化 (EDA) 的集成电路中，通过使用两个非交叠的时钟相位，将一个电容器交替连接在两个具有稳定直流电压差的节点之间，从而实现了一个开关电容电阻。考虑一个值为 $C$ 的单个电容器，它由理想的、非交叠时钟驱动的互补金属氧化物半导体 (CMOS) 传输门开关交替连接在电压为 $V_{\\mathrm{A}}$ 和 $V_{\\mathrm{B}}$ 的节点之间。电压差为 $\\Delta V = V_{\\mathrm{A}} - V_{\\mathrm{B}}$，且随时间保持恒定。假设时钟是理想的，导线电阻可忽略不计，并且电容器在每个相位都能完全稳定，因此可以认为连接是瞬时完成的。开关存在电荷注入和时钟馈通现象，但其版图和时序是对称的，因此任何注入的电荷都会被平均分配，并表现为共模扰动，使得每个完整周期内的净差分电荷转移为零。\n\n请仅从基本定义出发——即电容的电荷-电压关系 $q = C v$、电荷守恒定律以及平均电流是单位时间内的平均电荷转移量的定义——推导在稳态工作下两节点之间看到的等效电阻 $R_{\\mathrm{eq}}$ 的表达式，以及从 $V_{\\mathrm{A}}$ 流向 $V_{\\mathrm{B}}$ 的平均电流 $I_{\\mathrm{avg}}$ 的表达式。使用给定值 $C = 1\\,\\mathrm{pF}$、$f = 1\\,\\mathrm{MHz}$ 和 $\\Delta V = 1\\,\\mathrm{V}$，其中 $f$ 是时钟频率（单位：周期/秒）。然后计算其数值。\n\n将 $R_{\\mathrm{eq}}$ 以 $\\mathrm{\\Omega}$ 为单位表示，$I_{\\mathrm{avg}}$ 以 $\\mathrm{A}$ 为单位表示。将两个数值结果均四舍五入至四位有效数字。你最终报告的答案必须只包含这两个计算量，并以行向量的形式表示为一个有序对，顺序为 $\\left(R_{\\mathrm{eq}}, I_{\\mathrm{avg}}\\right)$。",
            "solution": "首先根据指定流程验证问题陈述。\n\n### 步骤 1：提取已知条件\n- 一个开关电容电阻由一个值为 $C$ 的单个电容器实现。\n- 该电容器交替连接在具有稳定直流电压 $V_{\\mathrm{A}}$ 和 $V_{\\mathrm{B}}$ 的节点之间。\n- 连接由理想的、非交叠时钟相位驱动的 CMOS 传输门开关执行。\n- 电压差为 $\\Delta V = V_{\\mathrm{A}} - V_{\\mathrm{B}}$。\n- 假设：理想时钟，可忽略的导线电阻，电容器在每个相位中完全稳定。\n- 电荷注入和时钟馈通效应是对称的，导致每个完整周期内的净差分电荷转移为零。\n- 推导必须从基本定义开始：$q = C v$、电荷守恒和平均电流定义。\n- 给定的数值：\n    - $C = 1\\,\\mathrm{pF}$\n    - $f = 1\\,\\mathrm{MHz}$ (时钟频率)\n    - $\\Delta V = 1\\,\\mathrm{V}$\n- 要求输出：\n    - 等效电阻 $R_{\\mathrm{eq}}$ 的表达式。\n    - 平均电流 $I_{\\mathrm{avg}}$ 的表达式。\n    - 以 $\\mathrm{\\Omega}$ 为单位的 $R_{\\mathrm{eq}}$ 和以 $\\mathrm{A}$ 为单位的 $I_{\\mathrm{avg}}$ 的数值。\n    - 将数值结果四舍五入至四位有效数字。\n    - 最终答案以行向量形式表示为一个有序对 $\\left(R_{\\mathrm{eq}}, I_{\\mathrm{avg}}\\right)$。\n\n### 步骤 2：使用提取的已知条件进行验证\n- **科学依据**：该问题描述了一个标准的开关电容电阻，它是模拟集成电路设计中的一个基本构建模块。其工作原理基于电容器的经典电荷-电压关系和电流的定义，这些都是电路理论和电磁学的基石。所指定的非理想效应（电荷注入）及其抵消是集成电路设计中的现实考虑。该问题是科学上合理的。\n- **适定性**：该问题提供了推导唯一解析解和计算确定数值答案所需的所有必要参数（$C$、$f$、$\\Delta V$）和简化假设（理想时钟、完全稳定、净差分电荷注入为零）。\n- **客观性**：该问题使用集成电路设计领域的精确技术术语进行陈述。它没有歧义和主观论断。\n- **缺陷检查**：该问题没有违反任何无效性标准。它是科学合理的、适定的、客观的、完整的，并且与指定主题相关。所提供的假设是一阶分析的标准假设，并已明确说明。该问题是基本电路分析中的一个有效练习。\n\n### 步骤 3：结论与行动\n该问题被判定为有效。将提供解答。\n\n开关电容电阻的核心原理是通过周期性地转移离散电荷包来模拟电阻行为。我们分析在一个完整时钟周期内转移的电荷。设时钟周期为 $T$，它是时钟频率 $f$ 的倒数，因此 $T = \\frac{1}{f}$。时钟有两个非交叠的相位，我们将其表示为 $\\phi_1$ 和 $\\phi_2$。一个工作周期的总时间为 $T$。\n\n我们按如下方式对操作进行建模，这是在两个电压节点之间创建电阻的标准拓扑结构。在相位 $\\phi_1$ 中，电容器 $C$ 连接到电压为 $V_{\\mathrm{A}}$ 的节点；在相位 $\\phi_2$ 中，它连接到电压为 $V_{\\mathrm{B}}$ 的节点。为了便于电荷转移，我们假设电容器的另一极板在两个相位期间都连接到一个公共参考点，我们可以将其定义为地 ($0\\,\\mathrm{V}$)。\n\n让我们分析电路在稳态工作下的情况。在一个周期的开始（恰好在相位 $\\phi_1$ 开始之前），电容器已经处于前一个周期的 $\\phi_2$ 相位所施加的电压 $V_{\\mathrm{B}}$ 下。因此，电容器上的初始电荷为 $q_{\\mathrm{init}} = C V_{\\mathrm{B}}$。\n\n在相位 $\\phi_1$ 期间，开关闭合，将电容器 $C$ 连接到电势 $V_{\\mathrm{A}}$（和参考点）。电容器充电至电压 $V_{\\mathrm{A}}$。在相位 $\\phi_1$ 结束时，存储在电容器上的电荷为 $q_{\\phi_1} = C V_{\\mathrm{A}}$。为此，必须从节点A的源汲取一定量的电荷。根据电荷守恒定律，从节点A汲取的电荷是电容器电荷的变化量：\n$$ \\Delta q_{\\mathrm{A}} = q_{\\phi_1} - q_{\\mathrm{init}} = C V_{\\mathrm{A}} - C V_{\\mathrm{B}} = C (V_{\\mathrm{A}} - V_{\\mathrm{B}}) $$\n\n在相位 $\\phi_2$ 期间，开关断开电容器与节点A的连接，并将其连接到节点B。此时持有电荷 $q_{\\phi_1} = C V_{\\mathrm{A}}$ 的电容器现在充电（或放电）至电压 $V_{\\mathrm{B}}$。在相位 $\\phi_2$ 结束时，电容器上的电荷为 $q_{\\phi_2} = C V_{\\mathrm{B}}$。从节点B的源汲取的电荷是：\n$$ \\Delta q_{\\mathrm{B}} = q_{\\phi_2} - q_{\\phi_1} = C V_{\\mathrm{B}} - C V_{\\mathrm{A}} = -C (V_{\\mathrm{A}} - V_{\\mathrm{B}}) $$\n从节点B汲取电荷 $\\Delta q_{\\mathrm{B}}$ 等效于将电荷 $-\\Delta q_{\\mathrm{B}} = C (V_{\\mathrm{A}} - V_{\\mathrm{B}})$ 输送*到*节点B。\n\n总结来说，在一个周期为 $T$ 的完整时钟周期内，一个大小为 $\\Delta Q = C (V_{\\mathrm{A}} - V_{\\mathrm{B}})$ 的净电荷包从节点A取出，并被有效地转移到节点B。\n\n平均电流 $I_{\\mathrm{avg}}$ 定义为单位时间内转移的总净电荷量。电荷 $\\Delta Q$ 在一个周期 $T$ 内被转移。因此，从节点A流向节点B的平均电流为：\n$$ I_{\\mathrm{avg}} = \\frac{\\Delta Q}{T} $$\n代入 $\\Delta Q = C (V_{\\mathrm{A}} - V_{\\mathrm{B}})$ 和 $T = \\frac{1}{f}$：\n$$ I_{\\mathrm{avg}} = \\frac{C (V_{\\mathrm{A}} - V_{\\mathrm{B}})}{1/f} = C f (V_{\\mathrm{A}} - V_{\\mathrm{B}}) $$\n使用给定的定义 $\\Delta V = V_{\\mathrm{A}} - V_{\\mathrm{B}}$，我们得到平均电流的表达式：\n$$ I_{\\mathrm{avg}} = C f \\Delta V $$\n问题陈述指出，任何电荷注入效应都是对称的，并导致净差分电荷转移为零。这证明了我们理想化分析的合理性，因为这些非理想效应不会对流经两个节点之间的平均电流 $I_{\\mathrm{avg}}$ 产生贡献。\n\n接下来，我们推导等效电阻 $R_{\\mathrm{eq}}$。根据欧姆定律，等效电阻定义为元件两端的稳态电压差与流过它的平均电流之比。电压差为 $\\Delta V = V_{\\mathrm{A}} - V_{\\mathrm{B}}$。\n$$ R_{\\mathrm{eq}} = \\frac{\\Delta V}{I_{\\mathrm{avg}}} $$\n代入 $I_{\\mathrm{avg}}$ 的表达式：\n$$ R_{\\mathrm{eq}} = \\frac{\\Delta V}{C f \\Delta V} $$\n假设 $\\Delta V \\neq 0$（给定值为 $1\\,\\mathrm{V}$），我们可以消去 $\\Delta V$ 项：\n$$ R_{\\mathrm{eq}} = \\frac{1}{C f} $$\n这些就是所要求的解析表达式。\n\n现在我们使用给定的数据计算数值：\n$C = 1\\,\\mathrm{pF} = 1 \\times 10^{-12}\\,\\mathrm{F}$\n$f = 1\\,\\mathrm{MHz} = 1 \\times 10^{6}\\,\\mathrm{Hz}$\n$\\Delta V = 1\\,\\mathrm{V}$\n\n等效电阻为：\n$$ R_{\\mathrm{eq}} = \\frac{1}{(1 \\times 10^{-12}\\,\\mathrm{F}) \\times (1 \\times 10^{6}\\,\\mathrm{s}^{-1})} = \\frac{1}{1 \\times 10^{-6}}\\,\\Omega = 1 \\times 10^{6}\\,\\Omega $$\n四舍五入至四位有效数字，结果为 $1.000 \\times 10^6\\,\\Omega$。\n\n平均电流为：\n$$ I_{\\mathrm{avg}} = (1 \\times 10^{-12}\\,\\mathrm{F}) \\times (1 \\times 10^{6}\\,\\mathrm{s}^{-1}) \\times (1\\,\\mathrm{V}) = 1 \\times 10^{-6}\\,\\mathrm{A} $$\n四舍五入至四位有效数字，结果为 $1.000 \\times 10^{-6}\\,\\mathrm{A}$。\n\n计算出的量为 $R_{\\mathrm{eq}} = 1.000 \\times 10^6\\,\\mathrm{\\Omega}$ 和 $I_{\\mathrm{avg}} = 1.000 \\times 10^{-6}\\,\\mathrm{A}$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n1.000 \\times 10^6  1.000 \\times 10^{-6}\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "在实际的开关电容电路中，非理想效应是影响性能的关键因素，其中时钟馈通（clock feedthrough）尤为重要。它通过开关管的寄生电容将时钟信号耦合到信号路径上，产生所谓的“基座误差”(pedestal error)。这个练习模拟了在SPICE等仿真工具中分析该效应的过程，要求你基于电荷守恒原理，推导并计算由时钟信号跳变通过交叠电容注入到保持节点所引起的电压误差。通过解决一系列具体案例，你将学会如何量化这一确定性误差，并理解互补传输门等设计为何能帮助抑制这种非理想效应。",
            "id": "4302934",
            "problem": "给定一个用互补传输门实现的开关电容采样保持电路中时钟馈通的最小但物理上精确的模型。该模型旨在表示当显式交叠电容在每个栅极网络和高阻保持节点之间被实例化为电容器时，集成电路仿真程序（SPICE）网表的功能。目标是在栅极控制电压在关断期间发生阶跃变化时，量化仅由时钟馈通引起的基座误差。该问题必须从第一性原理出发，通过应用电荷守恒和电容器本构关系来解决，而不使用任何捷径公式。\n\n考虑一个保持节点，其对地有一个保持电容 $C_H$，以及一组连接保持节点与 $k$ 个独立时钟网络 $\\{g_i\\}$ 的显式栅极-节点交叠电容 $\\{C_i\\}$，其中 $i \\in \\{1,\\dots,k\\}$。在给定的时钟边沿，第 $i$ 个时钟网络经历一个已知的从 $V_{g,i}^{-}$ 到 $V_{g,i}^{+}$ 的理想阶跃，其阶跃幅度为 $\\Delta V_{g,i} = V_{g,i}^{+} - V_{g,i}^{-}$。假定开关沟道在边沿之后立即断开，因此除容性连接外，保持节点是孤立的。忽略所有沟道电荷注入以及任何未明确列出的其他寄生效应，并假设电容器是线性时不变的。\n\n您的任务是：\n- 从孤立保持节点的电荷守恒和电容器定律 $Q = C \\, V$ 出发，推导仅由上述时钟阶跃和显式交叠电容引起的保持节点上的瞬时基座误差 $\\Delta V_{\\text{out}}$。将基座误差定义为由时钟转换引起的保持节点电压的瞬时变化，即 $\\Delta V_{\\text{out}} = V_{\\text{out}}^{+} - V_{\\text{out}}^{-}$。\n- 用 $C_H$、集合 $\\{C_i\\}$ 和栅极阶跃集合 $\\{\\Delta V_{g,i}\\}$ 表示 $\\Delta V_{\\text{out}}$，保持一致的符号约定，并清楚地解释任何假设。\n\n数值测试套件：\n对于以下每个测试用例，计算基座误差 $\\Delta V_{\\text{out}}$，单位为伏特。所有电容单位为法拉，所有电压单位为伏特。您的程序必须实现一个通用解决方案，该方案接受 $C_H$ 和一个 $(C_i, \\Delta V_{g,i})$ 对的列表，并返回从第一性原理计算出的 $\\Delta V_{\\text{out}}$。\n\n- 测试用例 $1$（互补传输门，中等保持电容）：\n  - $C_H = 1.0 \\times 10^{-12}\\ \\text{F}$\n  - $(C_{n}, \\Delta V_{g,n}) = (1.0 \\times 10^{-14}\\ \\text{F}, -1.2\\ \\text{V})$\n  - $(C_{p}, \\Delta V_{g,p}) = (8.0 \\times 10^{-15}\\ \\text{F}, +1.2\\ \\text{V})$\n- 测试用例 $2$（仅单个n沟道金属氧化物半导体器件）：\n  - $C_H = 5.0 \\times 10^{-13}\\ \\text{F}$\n  - $(C_{n}, \\Delta V_{g,n}) = (5.0 \\times 10^{-15}\\ \\text{F}, -1.0\\ \\text{V})$\n  - $(C_{p}, \\Delta V_{g,p}) = (0.0\\ \\text{F}, 0.0\\ \\text{V})$\n- 测试用例 $3$（具有理想抵消的互补传输门）：\n  - $C_H = 5.0 \\times 10^{-13}\\ \\text{F}$\n  - $(C_{n}, \\Delta V_{g,n}) = (5.0 \\times 10^{-15}\\ \\text{F}, -1.0\\ \\text{V})$\n  - $(C_{p}, \\Delta V_{g,p}) = (5.0 \\times 10^{-15}\\ \\text{F}, +1.0\\ \\text{V})$\n- 测试用例 $4$（非常小的保持电容，大基座误差幅度）：\n  - $C_H = 2.0 \\times 10^{-14}\\ \\text{F}$\n  - $(C_{n}, \\Delta V_{g,n}) = (1.0 \\times 10^{-14}\\ \\text{F}, -1.2\\ \\text{V})$\n  - $(C_{p}, \\Delta V_{g,p}) = (8.0 \\times 10^{-15}\\ \\text{F}, +1.2\\ \\text{V})$\n- 测试用例 $5$（非常大的保持电容，自举栅极摆幅）：\n  - $C_H = 1.0 \\times 10^{-10}\\ \\text{F}$\n  - $(C_{n}, \\Delta V_{g,n}) = (2.0 \\times 10^{-14}\\ \\text{F}, -5.0\\ \\text{V})$\n  - $(C_{p}, \\Delta V_{g,p}) = (0.0\\ \\text{F}, 0.0\\ \\text{V})$\n- 测试用例 $6$（不对称交叠和时钟摆幅）：\n  - $C_H = 1.0 \\times 10^{-12}\\ \\text{F}$\n  - $(C_{n}, \\Delta V_{g,n}) = (7.0 \\times 10^{-15}\\ \\text{F}, -0.8\\ \\text{V})$\n  - $(C_{p}, \\Delta V_{g,p}) = (9.0 \\times 10^{-15}\\ \\text{F}, +1.2\\ \\text{V})$\n\n解释以及与SPICE原理图的关系：\n- 在SPICE网表中，上述模型通过从每个时钟网络到保持节点的显式电容器来建模，例如，在n-栅极网络和保持节点之间有一个值为 $C_{n}$ 的电容 $C\\_\\text{n\\_ov}$，在p-栅极网络和保持节点之间有一个值为 $C_{p}$ 的电容 $C\\_\\text{p\\_ov}$。基座误差则恰好是当开关沟道不导通时，理想栅极电压阶跃 $\\{\\Delta V_{g,i}\\}$ 通过这些显式电容器在保持节点上产生的电压阶跃 $\\Delta V_{\\text{out}}$。\n\n最终输出格式：\n- 您的程序应生成单行输出，其中包含一个逗号分隔的六个基座误差列表，单位为伏特，并用方括号括起来，例如，$\\left[\\text{result}_1,\\text{result}_2,\\dots,\\text{result}_6\\right]$。输出行中不应包含任何单位或附加文本。数值必须是浮点数，单位为伏特。",
            "solution": "该问题是有效的。它在科学上基于电路理论的基本原理，表述清晰，并提供了所有必要的信息，同时以客观、正式的语言表达。因此，我们可以进行推导和求解。\n\n目标是推导由于一组 $k$ 个栅极控制信号的时钟馈通而在孤立保持节点上产生的基座误差 $\\Delta V_{\\text{out}}$。分析基于电荷守恒原理。\n\n令 $V_{\\text{out}}$ 为保持节点处的电压。该节点通过一个保持电容 $C_H$ 接地，并通过一组交叠电容 $\\{C_i\\}$（其中 $i \\in \\{1, \\dots, k\\}$）连接到 $k$ 个独立的时钟网络。第 $i$ 个时钟网络的电压表示为 $V_{g,i}$。\n\n存储在连接到保持节点的所有电容器极板上的总电荷 $Q_{\\text{node}}$，是保持电容上的电荷 $Q_{C_H}$ 与交叠电容上的电荷 $\\{Q_{C_i}\\}$ 之和。使用电容器本构关系 $Q = C \\Delta V$，其中 $\\Delta V$ 是电容器两端的电压，我们可以表示这些电荷：\n- 保持电容 $C_H$ 的顶板（连接到保持节点）上的电荷是：\n$$Q_{C_H} = C_H (V_{\\text{out}} - 0) = C_H V_{\\text{out}}$$\n- 第 $i$ 个交叠电容 $C_i$ 的连接到保持节点的极板上的电荷是：\n$$Q_{C_i} = C_i (V_{\\text{out}} - V_{g,i})$$\n\n保持节点上的总电荷是这些单个电荷的总和：\n$$Q_{\\text{out}} = Q_{C_H} + \\sum_{i=1}^{k} Q_{C_i} = C_H V_{\\text{out}} + \\sum_{i=1}^{k} C_i (V_{\\text{out}} - V_{g,i})$$\n这可以因式分解为：\n$$Q_{\\text{out}} = V_{\\text{out}} \\left( C_H + \\sum_{i=1}^{k} C_i \\right) - \\sum_{i=1}^{k} C_i V_{g,i}$$\n\n解决此问题的核心原理是电荷守恒。问题陈述指出，开关沟道在时钟边沿后立即断开，这意味着保持节点是电隔离的。因此，在该时钟转换期间，此节点的总电荷必须守恒。令 $t^{-}$ 为时钟转换前的瞬间，$t^{+}$ 为转换后的瞬间。电荷守恒规定 $Q_{\\text{out}}(t^{-}) = Q_{\\text{out}}(t^{+})$。\n\n在时间 $t^{-}$，电压为 $V_{\\text{out}}^{-}$ 和 $\\{V_{g,i}^{-}\\}$。总电荷为：\n$$Q_{\\text{out}}^{-} = V_{\\text{out}}^{-} \\left( C_H + \\sum_{i=1}^{k} C_i \\right) - \\sum_{i=1}^{k} C_i V_{g,i}^{-}$$\n\n在时间 $t^{+}$，电压为 $V_{\\text{out}}^{+}$ 和 $\\{V_{g,i}^{+}\\}$。总电荷为：\n$$Q_{\\text{out}}^{+} = V_{\\text{out}}^{+} \\left( C_H + \\sum_{i=1}^{k} C_i \\right) - \\sum_{i=1}^{k} C_i V_{g,i}^{+}$$\n\n令 $Q_{\\text{out}}^{-} = Q_{\\text{out}}^{+}$：\n$$V_{\\text{out}}^{-} \\left( C_H + \\sum_{i=1}^{k} C_i \\right) - \\sum_{i=1}^{k} C_i V_{g,i}^{-} = V_{\\text{out}}^{+} \\left( C_H + \\sum_{i=1}^{k} C_i \\right) - \\sum_{i=1}^{k} C_i V_{g,i}^{+}$$\n\n我们的目标是找到基座误差，定义为 $\\Delta V_{\\text{out}} = V_{\\text{out}}^{+} - V_{\\text{out}}^{-}$。我们重新整理方程，以分离涉及 $V_{\\text{out}}$ 和 $V_{g,i}$ 的项：\n$$\\sum_{i=1}^{k} C_i V_{g,i}^{+} - \\sum_{i=1}^{k} C_i V_{g,i}^{-} = V_{\\text{out}}^{+} \\left( C_H + \\sum_{i=1}^{k} C_i \\right) - V_{\\text{out}}^{-} \\left( C_H + \\sum_{i=1}^{k} C_i \\right)$$\n\n对方程两边进行因式分解得到：\n$$\\sum_{i=1}^{k} C_i (V_{g,i}^{+} - V_{g,i}^{-}) = (V_{\\text{out}}^{+} - V_{\\text{out}}^{-}) \\left( C_H + \\sum_{i=1}^{k} C_i \\right)$$\n\n使用问题中的定义 $\\Delta V_{\\text{out}} = V_{\\text{out}}^{+} - V_{\\text{out}}^{-}$ 和 $\\Delta V_{g,i} = V_{g,i}^{+} - V_{g,i}^{-}$：\n$$\\sum_{i=1}^{k} C_i \\Delta V_{g,i} = \\Delta V_{\\text{out}} \\left( C_H + \\sum_{i=1}^{k} C_i \\right)$$\n\n最后，求解基座误差 $\\Delta V_{\\text{out}}$，我们得到通用表达式：\n$$\\Delta V_{\\text{out}} = \\frac{\\sum_{i=1}^{k} C_i \\Delta V_{g,i}}{C_H + \\sum_{i=1}^{k} C_i}$$\n\n这个结果在物理上是直观的。分子 $\\sum_{i=1}^{k} C_i \\Delta V_{g,i}$ 表示由于变化的栅极电压通过电容耦合注入到保持节点上的总电荷量。这个注入的电荷随后分布在从保持节点看去的总电容上，即连接到它的所有电容器的并联组合，$C_{\\text{total}} = C_H + \\sum_{i=1}^{k} C_i$。因此，产生的电压变化为 $\\Delta V = \\Delta Q / C_{\\text{total}}$，与我们推导的公式一致。\n\n此推导中作出的关键假设是：\n1. 保持节点在开关事件后是完全孤立的（对任何其他节点具有无限阻抗）。\n2. 所有电容器（$C_H$ 和 $\\{C_i\\}$）都是线性和时不变的。\n3. 所有其他寄生效应，特别是沟道电荷注入，都被忽略。\n4. 时钟电压转换是理想的瞬时阶跃。\n\n对于具有一个n沟道和一个p沟道器件的互补传输门的特定情况，我们有 $k=2$。设n沟道器件的参数为 $(C_n, \\Delta V_{g,n})$，p沟道器件的参数为 $(C_p, \\Delta V_{g,p})$。公式变为：\n$$\\Delta V_{\\text{out}} = \\frac{C_n \\Delta V_{g,n} + C_p \\Delta V_{g,p}}{C_H + C_n + C_p}$$\n此形式将用于计算所提供测试用例的数值结果。",
            "answer": "[-0.002357563850687623,-0.009900990099009901,0.0,-0.0631578947368421,-0.0009998000399920015,0.005118110236220473]"
        }
    ]
}