{
    "hands_on_practices": [
        {
            "introduction": "The primary function of a differential pair is to amplify the difference between two input signals while rejecting common-mode noise. This first exercise  guides you through the fundamental calculation of the differential voltage gain, $A_d$, from first principles. By leveraging the circuit's symmetry, you will rigorously justify and apply the half-circuit model, a crucial simplification technique used throughout analog design.",
            "id": "4266292",
            "problem": "Consider a long-tailed differential pair implemented with identical Metal-Oxide-Semiconductor Field-Effect Transistors (MOSFETs). Each drain is connected to a resistor to the positive supply, and the tail is biased by an ideal current source whose small-signal output resistance is infinite. Assume low-frequency operation (ignore all capacitances), negligible body effect, and matched devices so that the transconductance and output resistance of each transistor are the same. Let the small-signal transconductance of each MOSFET be $g_m=5\\,\\text{mS}$ and its output resistance be $r_o=20\\,\\text{k}\\Omega$. Each drain is loaded by a linear resistor $R_L=10\\,\\text{k}\\Omega$ connected to the positive supply. Define the positive supply rail as small-signal ground.\n\nA purely differential input excitation is applied such that the gate voltages are $v_{g1}=+\\frac{v_{id}}{2}$ and $v_{g2}=-\\frac{v_{id}}{2}$. The differential output voltage is defined as $v_{od}=v_{o1}-v_{o2}$, where $v_{o1}$ and $v_{o2}$ are the drain voltages of the two transistors.\n\nStarting from first principles of small-signal linearization and Kirchhoff’s laws, and using the ideal tail source assumption to justify a half-circuit representation for the differential mode, derive the differential gain $A_d=\\frac{v_{od}}{v_{id}}$ at low frequency. Express your final answer as a single real number in $\\text{V}/\\text{V}$. Provide the exact value (no rounding).",
            "solution": "The user-provided problem has been validated and is determined to be sound. It is scientifically grounded in the principles of analog integrated circuit design, is well-posed with sufficient and consistent information, and is expressed in objective, formal language. The problem asks for the derivation of the differential gain of a standard MOSFET differential pair, a fundamental and non-trivial task in electronics. We may therefore proceed with a formal solution.\n\nThe objective is to derive the low-frequency small-signal differential voltage gain, $A_d = \\frac{v_{od}}{v_{id}}$, for the given MOSFET differential pair. The derivation will begin from first principles using a small-signal equivalent circuit and Kirchhoff's laws.\n\nFirst, we construct the full small-signal equivalent circuit of the differential pair. The two MOSFETs, $M_1$ and $M_2$, are identical. Each is replaced by its low-frequency small-signal model, which consists of a voltage-controlled current source of value $g_m v_{gs}$ flowing from drain to source, in parallel with an output resistance $r_o$ between drain and source. The load resistors, $R_L$, connect from the drains of $M_1$ and $M_2$ to the positive supply, which is defined as small-signal ground. The ideal tail current source has infinite small-signal output resistance, so it is an open circuit in the small-signal domain.\n\nThe input voltages are $v_{g1} = +\\frac{v_{id}}{2}$ and $v_{g2} = -\\frac{v_{id}}{2}$. The gate-source voltages for the transistors are $v_{gs1} = v_{g1} - v_s = \\frac{v_{id}}{2} - v_s$ and $v_{gs2} = v_{g2} - v_s = -\\frac{v_{id}}{2} - v_s$, where $v_s$ is the voltage at the common source node. The output voltages are taken at the drains, $v_{o1}$ and $v_{o2}$.\n\nWe apply Kirchhoff's Current Law (KCL) at the common source node. Since the tail current source is an open circuit for small signals, the sum of the drain currents of $M_1$ and $M_2$ must be zero. The convention is that drain current flows into the drain. Therefore, the sum of currents leaving the common source node must be zero. The total current leaving the source of a MOSFET is equal to its drain current.\nThe drain current for $M_1$ is $i_{d1} = g_m v_{gs1} + \\frac{v_{o1} - v_s}{r_o}$.\nThe drain current for $M_2$ is $i_{d2} = g_m v_{gs2} + \\frac{v_{o2} - v_s}{r_o}$.\nKCL at the source node dictates that $i_{d1} + i_{d2} = 0$.\nSubstituting the expressions for the currents:\n$$g_m v_{gs1} + \\frac{v_{o1} - v_s}{r_o} + g_m v_{gs2} + \\frac{v_{o2} - v_s}{r_o} = 0$$\nNow, substitute the expressions for $v_{gs1}$ and $v_{gs2}$:\n$$g_m \\left(\\frac{v_{id}}{2} - v_s\\right) + \\frac{v_{o1} - v_s}{r_o} + g_m \\left(-\\frac{v_{id}}{2} - v_s\\right) + \\frac{v_{o2} - v_s}{r_o} = 0$$\nCombining terms:\n$$\\left(g_m \\frac{v_{id}}{2} - g_m \\frac{v_{id}}{2}\\right) - 2 g_m v_s + \\frac{v_{o1} + v_{o2} - 2v_s}{r_o} = 0$$\n$$-2 g_m v_s + \\frac{v_{o1} + v_{o2}}{r_o} - \\frac{2v_s}{r_o} = 0$$\n$$v_s \\left(-2g_m - \\frac{2}{r_o}\\right) + \\frac{v_{o1} + v_{o2}}{r_o} = 0$$\nDue to the complete symmetry of the circuit and the purely differential (antisymmetric) input excitation ($v_{g1} = -v_{g2}$), the output response must also be antisymmetric, meaning $v_{o1} = -v_{o2}$. Substituting this into the equation:\n$$v_s \\left(-2g_m - \\frac{2}{r_o}\\right) + \\frac{v_{o1} + (-v_{o1})}{r_o} = 0$$\n$$v_s \\left(-2g_m - \\frac{2}{r_o}\\right) + 0 = 0$$\nSince $g_m > 0$ and $r_o > 0$, the term in the parenthesis is non-zero. Therefore, the only possible solution is $v_s = 0$. This confirms that for a purely differential input, the common source node acts as a virtual ground. This is the rigorous justification for using the half-circuit analysis method.\n\nNow we analyze the differential half-circuit for $M_1$. The input is $v_{g1} = \\frac{v_{id}}{2}$ and the source is at small-signal ground ($v_s = 0$). The output $v_{o1}$ is taken at the drain, which is loaded by the resistor $R_L$ to ground and the transistor's own output resistance $r_o$ to ground. The effective load resistance at the drain is the parallel combination of $R_L$ and $r_o$.\n$$R_{eq} = R_L || r_o = \\frac{R_L r_o}{R_L + r_o}$$\nThe gate-source voltage of the half-circuit is $v_{gs1} = v_{g1} - v_s = \\frac{v_{id}}{2} - 0 = \\frac{v_{id}}{2}$.\nThe small-signal current generated by the transistor is $g_m v_{gs1} = g_m \\frac{v_{id}}{2}$. This current flows from the drain node through the parallel combination of resistances to ground. By Ohm's law, the output voltage is the negative of this current multiplied by the equivalent resistance:\n$$v_{o1} = - (g_m v_{gs1}) (R_L || r_o) = -g_m \\left(\\frac{v_{id}}{2}\\right) \\left(\\frac{R_L r_o}{R_L + r_o}\\right)$$\nThe differential output voltage is defined as $v_{od} = v_{o1} - v_{o2}$. Using the antisymmetry property $v_{o2} = -v_{o1}$, we get:\n$$v_{od} = v_{o1} - (-v_{o1}) = 2v_{o1}$$\nSubstituting the expression for $v_{o1}$:\n$$v_{od} = 2 \\left[ -g_m \\left(\\frac{v_{id}}{2}\\right) \\left(\\frac{R_L r_o}{R_L + r_o}\\right) \\right] = -g_m v_{id} \\left(\\frac{R_L r_o}{R_L + r_o}\\right)$$\nThe differential gain $A_d$ is then:\n$$A_d = \\frac{v_{od}}{v_{id}} = -g_m \\left(\\frac{R_L r_o}{R_L + r_o}\\right) = -g_m (R_L || r_o)$$\nNow we substitute the given numerical values: $g_m = 5\\,\\text{mS} = 5 \\times 10^{-3}\\,\\text{S}$, $R_L = 10\\,\\text{k}\\Omega = 10 \\times 10^3\\,\\Omega$, and $r_o = 20\\,\\text{k}\\Omega = 20 \\times 10^3\\,\\Omega$.\nFirst, calculate the equivalent parallel resistance:\n$$R_L || r_o = \\frac{(10 \\times 10^3\\,\\Omega) \\times (20 \\times 10^3\\,\\Omega)}{(10 \\times 10^3\\,\\Omega) + (20 \\times 10^3\\,\\Omega)} = \\frac{200 \\times 10^6\\,\\Omega^2}{30 \\times 10^3\\,\\Omega} = \\frac{20}{3} \\times 10^3\\,\\Omega$$\nNext, calculate the differential gain:\n$$A_d = -(5 \\times 10^{-3}\\,\\text{S}) \\times \\left(\\frac{20}{3} \\times 10^3\\,\\Omega\\right)$$\n$$A_d = -5 \\times \\frac{20}{3} = -\\frac{100}{3}$$\nThe unit is Volts per Volt ($\\text{V}/\\text{V}$). The exact value of the gain is $-\\frac{100}{3}$.",
            "answer": "$$\n\\boxed{-\\frac{100}{3}}\n$$"
        },
        {
            "introduction": "While low-frequency gain describes the magnitude of amplification, a circuit's utility is equally defined by its speed. This next practice  explores the frequency response of the differential pair, focusing on how parasitic capacitance at the output nodes creates a dominant low-pass pole. By analyzing the half-circuit in the frequency domain, you will determine the $-3\\,\\text{dB}$ bandwidth, a key metric that quantifies the amplifier's operational speed.",
            "id": "4266274",
            "problem": "A long-tailed complementary metal-oxide-semiconductor (CMOS) differential pair is biased by an ideal current source (infinite small-signal tail impedance) and drives two identical resistive loads. Each output node is connected to a resistor of value $R_L$ that returns to the positive supply rail, which is at small-signal alternating current (AC) ground. Parasitic and load-related capacitances at each output node can be lumped into a single small-signal capacitance $C_o$ to ground at that node. Channel-length modulation is negligible so that the intrinsic transistor output resistance $r_o$ satisfies $r_o \\gg R_L$. The operation is linearized around a symmetric bias point, and the excitation is a purely differential small-signal input so that the half-circuit representation applies. Assume the dominant pole at the output node sets the bandwidth.\n\nStarting only from linear time-invariant small-signal circuit theory, including Kirchhoff’s laws, Thevenin and Norton equivalence, and the definition that the magnitude of a first-order low-pass transfer function drops to $1/\\sqrt{2}$ of its low-frequency gain at its $-3\\,\\text{dB}$ angular frequency, determine the $-3\\,\\text{dB}$ bandwidth of the differential output (difference between the two node voltages) in terms of $R_L$ and $C_o$. Then, evaluate it numerically for $R_L=10\\,\\text{k}\\Omega$ and $C_o=2\\,\\text{pF}$. Express the final bandwidth in megahertz and round your answer to three significant figures.",
            "solution": "The problem asks for the $-3\\,\\text{dB}$ bandwidth of a CMOS differential pair under specific conditions. The problem statement is valid as it is scientifically grounded in standard small-signal circuit theory, is well-posed with sufficient information, and uses objective, precise language.\n\nThe analysis begins by employing the half-circuit model, the validity of which is guaranteed by the problem statement's given conditions: a perfectly symmetric circuit topology (identical transistors, identical loads $R_L$) and a purely differential input signal. For a differential input voltage $v_{id} = v_{in1} - v_{in2}$, the inputs to the two halves of the circuit are $v_{in1} = v_{id}/2$ and $v_{in2} = -v_{id}/2$. The common-source node, connected to the ideal tail current source, acts as a virtual ground for small-signal analysis due to the differential excitation.\n\nThe small-signal half-circuit consists of a single transistor (e.g., an NMOSFET), a load resistor $R_L$, and a capacitor $C_o$. The input is the half-circuit input voltage, $v_{in,half} = v_{id}/2$. The transistor's gate is at $v_{in,half}$ and its source is at small-signal ground. The transistor is modeled as a voltage-controlled current source with transconductance $g_m$. The current source, with value $g_m v_{gs} = g_m v_{in,half}$, is connected between the drain and source. The output is taken at the drain node. The load consists of the resistor $R_L$ in parallel with the capacitor $C_o$, both connected from the drain to small-signal ground (since the positive supply rail is specified as an AC ground). The intrinsic output resistance $r_o$ of the transistor is stated to be negligible ($r_o \\gg R_L$).\n\nThe impedance of the parallel load at the output node is given by $Z_L(s)$, where $s$ is the complex frequency variable.\n$$Z_L(s) = R_L \\parallel \\frac{1}{sC_o} = \\frac{R_L \\cdot \\frac{1}{sC_o}}{R_L + \\frac{1}{sC_o}} = \\frac{R_L}{1 + sR_L C_o}$$\nThe small-signal output voltage of the half-circuit, $v_{out,half}(s)$, is the product of the current from the controlled source and the negative of the load impedance (due to the direction of current flow out of the node).\n$$v_{out,half}(s) = -g_m v_{in,half}(s) \\cdot Z_L(s) = -g_m v_{in,half}(s) \\frac{R_L}{1 + sR_L C_o}$$\nThe transfer function of the half-circuit, $H_{half}(s)$, is therefore:\n$$H_{half}(s) = \\frac{v_{out,half}(s)}{v_{in,half}(s)} = -\\frac{g_m R_L}{1 + sR_L C_o}$$\nThis is a first-order low-pass transfer function.\n\nThe full differential output is $v_{od} = v_{o1} - v_{o2}$, and the full differential input is $v_{id} = v_{in1} - v_{in2}$. Due to the circuit's symmetry and anti-symmetric inputs ($v_{in1} = -v_{in2}$), the outputs are also anti-symmetric: $v_{o2} = -v_{o1}$. Here, $v_{o1}$ corresponds to $v_{out,half}$ and $v_{in1}$ corresponds to $v_{in,half}$.\nThe differential output voltage is $v_{od}(s) = v_{o1}(s) - v_{o2}(s) = v_{o1}(s) - (-v_{o1}(s)) = 2v_{o1}(s)$.\nThe differential input voltage is $v_{id}(s) = v_{in1}(s) - v_{in2}(s) = v_{in1}(s) - (-v_{in1}(s)) = 2v_{in1}(s)$.\n\nThe differential-to-differential transfer function, $H_{diff}(s)$, is:\n$$H_{diff}(s) = \\frac{v_{od}(s)}{v_{id}(s)} = \\frac{2v_{o1}(s)}{2v_{in1}(s)} = \\frac{v_{o1}(s)}{v_{in1}(s)} = H_{half}(s)$$\n$$H_{diff}(s) = -\\frac{g_m R_L}{1 + sR_L C_o}$$\nThe low-frequency ($s \\to 0$) gain is $A_{v,diff}(0) = -g_m R_L$. The transfer function has a single pole at $p_1 = -1/(R_L C_o)$.\n\nThe problem requires finding the $-3\\,\\text{dB}$ bandwidth, defined as the angular frequency $\\omega_{-3dB}$ where the magnitude of the transfer function drops to $1/\\sqrt{2}$ of its low-frequency value. First, we find the magnitude of the transfer function for a sinusoidal input, $s = j\\omega$:\n$$|H_{diff}(j\\omega)| = \\left| -\\frac{g_m R_L}{1 + j\\omega R_L C_o} \\right| = \\frac{|-g_m R_L|}{|1 + j\\omega R_L C_o|} = \\frac{g_m R_L}{\\sqrt{1^2 + (\\omega R_L C_o)^2}}$$\nThe magnitude of the low-frequency gain is $|A_{v,diff}(0)| = g_m R_L$.\nWe set the magnitude at $\\omega = \\omega_{-3dB}$ to be $|A_{v,diff}(0)|/\\sqrt{2}$:\n$$\\frac{g_m R_L}{\\sqrt{1 + (\\omega_{-3dB} R_L C_o)^2}} = \\frac{g_m R_L}{\\sqrt{2}}$$\nDividing both sides by $g_m R_L$ and taking the reciprocal gives:\n$$\\sqrt{1 + (\\omega_{-3dB} R_L C_o)^2} = \\sqrt{2}$$\nSquaring both sides:\n$$1 + (\\omega_{-3dB} R_L C_o)^2 = 2$$\n$$(\\omega_{-3dB} R_L C_o)^2 = 1$$\nSince angular frequency $\\omega_{-3dB}$ must be positive, we take the positive root:\n$$\\omega_{-3dB} R_L C_o = 1$$\n$$\\omega_{-3dB} = \\frac{1}{R_L C_o}$$\nThe bandwidth in Hertz, $f_{-3dB}$, is related to the angular frequency by $f_{-3dB} = \\omega_{-3dB} / (2\\pi)$.\n$$f_{-3dB} = \\frac{1}{2\\pi R_L C_o}$$\nThis is the analytical expression for the $-3\\,\\text{dB}$ bandwidth.\n\nNow, we evaluate this expression numerically with the given values $R_L = 10\\,\\text{k}\\Omega$ and $C_o = 2\\,\\text{pF}$.\nFirst, convert the values to base SI units:\n$R_L = 10 \\times 10^3\\,\\Omega$\n$C_o = 2 \\times 10^{-12}\\,\\text{F}$\n\nThe time constant $\\tau = R_L C_o$ is:\n$$\\tau = (10 \\times 10^3\\,\\Omega) \\times (2 \\times 10^{-12}\\,\\text{F}) = 20 \\times 10^{-9}\\,\\text{s}$$\nNow, calculate the bandwidth $f_{-3dB}$:\n$$f_{-3dB} = \\frac{1}{2\\pi \\tau} = \\frac{1}{2\\pi (20 \\times 10^{-9}\\,\\text{s})} = \\frac{1}{40\\pi \\times 10^{-9}}\\,\\text{Hz}$$\n$$f_{-3dB} = \\frac{10^9}{40\\pi}\\,\\text{Hz} = \\frac{1000 \\times 10^6}{40\\pi}\\,\\text{Hz} = \\frac{25}{\\pi} \\times 10^6\\,\\text{Hz}$$\n$$f_{-3dB} = \\frac{25}{\\pi}\\,\\text{MHz}$$\nTo get the numerical value:\n$$f_{-3dB} \\approx \\frac{25}{3.14159265...}\\,\\text{MHz} \\approx 7.957747...\\,\\text{MHz}$$\nRounding the result to three significant figures, we get $7.96\\,\\text{MHz}$.",
            "answer": "$$\\boxed{7.96}$$"
        },
        {
            "introduction": "The small-signal models used for gain and bandwidth analysis are only valid if the transistors are properly biased in the saturation region. This final practice  shifts focus from small-signal AC characteristics to the large-signal DC operating constraints. You will determine the input common-mode range (ICMR), which defines the allowable 'sweet spot' for the DC level of the input signals to ensure that every transistor in the circuit remains saturated and the amplifier operates as intended.",
            "id": "4266306",
            "problem": "Consider a classical long-channel complementary metal–oxide–semiconductor (CMOS) differential pair implemented as follows. Two identical n-channel metal–oxide–semiconductor field-effect transistors (MOSFETs) form the input pair, with their sources tied together at node $X$ and connected to the drain of an n-channel MOSFET tail-current source whose source is at ground. Each drain of the input pair is connected to a p-channel MOSFET current source load whose source is tied to the positive supply $V_{DD}$ and whose drain is the corresponding output node. Assume zero differential input so that both input transistors conduct equal current and the two outputs are at the same voltage. Neglect body effect, channel-length modulation, and any second-order effects; use the long-channel saturation criterion.\n\nYou are given the following device parameters and bias choices:\n- Supply voltage $V_{DD} = 1.8\\,\\text{V}$.\n- Input-pair n-channel threshold voltage $V_{TH,n} = 0.45\\,\\text{V}$ and target overdrive $V_{OV,n} = 0.20\\,\\text{V}$ at the operating current.\n- Tail n-channel device overdrive $V_{OV,n,\\text{tail}} = 0.20\\,\\text{V}$ at the operating current.\n- Load p-channel threshold magnitude $V_{TH,p} = 0.50\\,\\text{V}$ and target overdrive $V_{OV,p} = 0.20\\,\\text{V}$ at the operating current.\n\nUse the fundamental long-channel definitions for saturation: for an n-channel MOSFET, saturation requires $V_{DS} \\ge V_{GS} - V_{TH}$; for a p-channel MOSFET, saturation requires $V_{SD} \\ge V_{SG} - |V_{TH,p}|$. The overdrive is defined by $V_{OV} = V_{GS} - V_{TH}$ for n-channel, and $V_{OV} = V_{SG} - |V_{TH,p}|$ for p-channel.\n\nLet the common-mode input voltage be $v_{cm}$, applied equally to both input gates. The input common-mode is constrained to lie within the supply rails, i.e., $0 \\le v_{cm} \\le V_{DD}$. Derive, from the stated principles and definitions, the allowable range of $v_{cm}$ such that all transistors (both input n-channel devices, the tail n-channel device, and the p-channel loads) remain in saturation at the balanced operating point. Then substitute the given numerical values to obtain numerical lower and upper bounds. Round both bounds to three significant figures and express the result in volts. Your final answer should be the ordered pair $(v_{cm,\\min}, v_{cm,\\max})$.",
            "solution": "The problem requires the derivation of the allowable common-mode input voltage range, $[v_{cm, \\min}, v_{cm, \\max}]$, for a CMOS differential pair, such that all transistors remain in the saturation region. The circuit consists of an n-channel input pair (M1, M2), an n-channel tail current source (M_tail), and p-channel current source loads (M3, M4). We are given that the differential input is zero, meaning the circuit is perfectly balanced. Due to symmetry, we only need to analyze one half of the circuit (e.g., M1 and M3) along with the common tail transistor (M_tail).\n\nThe analysis proceeds by establishing the saturation conditions for each transistor and expressing these conditions as constraints on the common-mode input voltage, $v_{cm}$.\n\nFirst, we establish the relationship between the common-mode input $v_{cm}$ and the voltage at the common-source node, $V_X$. The gate-source voltage of the input transistor M1 is $V_{GS1} = V_{G1} - V_{S1} = v_{cm} - V_X$.\nFrom the definition of the overdrive voltage for an n-channel device, $V_{OV,n} = V_{GS1} - V_{TH,n}$, we can write $V_{GS1} = V_{TH,n} + V_{OV,n}$.\nEquating the two expressions for $V_{GS1}$ gives:\n$$v_{cm} - V_X = V_{TH,n} + V_{OV,n}$$\nSolving for $V_X$, we find:\n$$V_X = v_{cm} - (V_{TH,n} + V_{OV,n})$$\nThis equation links the voltage at node $X$ directly to the input common-mode voltage.\n\nNext, we derive the lower bound on $v_{cm}$, denoted $v_{cm, \\min}$. This limit is determined by the tail current source transistor, M_tail, which must remain in saturation.\nFor the n-channel M_tail, the saturation condition is $V_{DS, \\text{tail}} \\ge V_{GS, \\text{tail}} - V_{TH,n}$. Using the given definition of overdrive voltage, $V_{OV,n,\\text{tail}} = V_{GS, \\text{tail}} - V_{TH,n}$, the saturation condition simplifies to $V_{DS, \\text{tail}} \\ge V_{OV,n,\\text{tail}}$.\nThe drain-source voltage of M_tail is $V_{DS, \\text{tail}} = V_{D, \\text{tail}} - V_{S, \\text{tail}} = V_X - 0 = V_X$.\nThus, the condition for M_tail to be saturated is $V_X \\ge V_{OV,n,\\text{tail}}$.\nSubstituting the expression for $V_X$:\n$$v_{cm} - (V_{TH,n} + V_{OV,n}) \\ge V_{OV,n,\\text{tail}}$$\nSolving for $v_{cm}$ gives the minimum allowable value:\n$$v_{cm} \\ge V_{TH,n} + V_{OV,n} + V_{OV,n,\\text{tail}}$$\nTherefore, the lower bound is:\n$$v_{cm, \\min} = V_{TH,n} + V_{OV,n} + V_{OV,n,\\text{tail}}$$\n\nNow, we derive the upper bound, $v_{cm, \\max}$. This limit is determined by the requirement that both the input transistor M1 and the load transistor M3 remain in saturation.\nThe saturation condition for the n-channel input transistor M1 is $V_{DS1} \\ge V_{GS1} - V_{TH,n}$. This simplifies to $V_{DS1} \\ge V_{OV,n}$.\nThe drain-source voltage of M1 is $V_{DS1} = V_{D1} - V_{S1} = V_{out} - V_X$, where $V_{out}$ is the output voltage at the drain of M1.\nSo, the condition is $V_{out} - V_X \\ge V_{OV,n}$. Substituting for $V_X$:\n$$V_{out} - (v_{cm} - V_{TH,n} - V_{OV,n}) \\ge V_{OV,n}$$\n$$V_{out} - v_{cm} + V_{TH,n} \\ge 0 \\implies v_{cm} \\le V_{out} + V_{TH,n}$$\nThis inequality shows that for a given $V_{out}$, there is an upper limit on $v_{cm}$.\n\nThe saturation condition for the p-channel load transistor M3 is $V_{SD3} \\ge V_{SG3} - |V_{TH,p}|$. This simplifies to $V_{SD3} \\ge V_{OV,p}$.\nThe source-drain voltage of M3 is $V_{SD3} = V_{S3} - V_{D3} = V_{DD} - V_{out}$.\nSo, the condition is $V_{DD} - V_{out} \\ge V_{OV,p}$, which imposes an upper limit on the output voltage:\n$$V_{out} \\le V_{DD} - V_{OV,p}$$\nTo find the absolute maximum for $v_{cm}$, we must use the maximum possible value of $V_{out}$ that keeps M3 in saturation. Substituting $V_{out, \\max} = V_{DD} - V_{OV,p}$ into the inequality for $v_{cm}$:\n$$v_{cm} \\le (V_{DD} - V_{OV,p}) + V_{TH,n}$$\nThis gives the theoretical upper bound based on saturation physics:\n$$v_{cm, \\text{sat,max}} = V_{DD} + V_{TH,n} - V_{OV,p}$$\nThe problem also explicitly constrains the input common-mode voltage to the supply rails: $0 \\le v_{cm} \\le V_{DD}$. The final allowable range for $v_{cm}$ must satisfy all constraints, so it is the intersection of the derived ranges.\nThe final range is given by:\n$$[\\max(0, v_{cm, \\min}), \\min(V_{DD}, v_{cm, \\text{sat,max}})]$$\n\nWe now substitute the given numerical values:\n$V_{DD} = 1.8\\,\\text{V}$\n$V_{TH,n} = 0.45\\,\\text{V}$\n$V_{OV,n} = 0.20\\,\\text{V}$\n$V_{OV,n,\\text{tail}} = 0.20\\,\\text{V}$\n$|V_{TH,p}| = 0.50\\,\\text{V}$\n$V_{OV,p} = 0.20\\,\\text{V}$\n\nCalculating the lower bound:\n$$v_{cm, \\min} = V_{TH,n} + V_{OV,n} + V_{OV,n,\\text{tail}} = 0.45\\,\\text{V} + 0.20\\,\\text{V} + 0.20\\,\\text{V} = 0.85\\,\\text{V}$$\nSince $0.85\\,\\text{V} > 0\\,\\text{V}$, the lower bound of the common-mode range is $0.85\\,\\text{V}$.\n\nCalculating the theoretical upper bound from saturation:\n$$v_{cm, \\text{sat,max}} = V_{DD} + V_{TH,n} - V_{OV,p} = 1.8\\,\\text{V} + 0.45\\,\\text{V} - 0.20\\,\\text{V} = 2.05\\,\\text{V}$$\nWe must now take the minimum of this value and the supply voltage $V_{DD}$:\n$$v_{cm, \\max} = \\min(V_{DD}, v_{cm, \\text{sat,max}}) = \\min(1.8\\,\\text{V}, 2.05\\,\\text{V}) = 1.8\\,\\text{V}$$\nThus, the allowable common-mode input range is $[0.85\\,\\text{V}, 1.8\\,\\text{V}]$.\n\nThe problem asks for the numerical lower and upper bounds rounded to three significant figures.\n$v_{cm, \\min} = 0.850\\,\\text{V}$\n$v_{cm, \\max} = 1.80\\,\\text{V}$\n\nThe resulting range is $[0.850\\,\\text{V}, 1.80\\,\\text{V}]$.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.850 & 1.80\n\\end{pmatrix}\n}\n$$"
        }
    ]
}