{
    "hands_on_practices": [
        {
            "introduction": "The first step in mastering amplifier design is translating performance specifications into a physical circuit. This exercise challenges you to design a fundamental Common-Source (CS) amplifier with an active load to achieve a target voltage gain . You will apply core small-signal principles to determine the required transconductance and use device physics models to calculate the necessary transistor dimensions, a process central to all analog IC design.",
            "id": "4298085",
            "problem": "A single-stage common source (CS) amplifier using a n-channel metal-oxide-semiconductor field-effect transistor (NMOSFET) with a p-channel metal-oxide-semiconductor field-effect transistor (PMOSFET) active load is to be designed for use in Integrated Circuits and Electronic Design Automation (EDA). The amplifier operates from a supply of $V_{DD} = 1.8\\,\\text{V}$. The NMOSFET is biased at a drain current $I_{D} = 200\\,\\mu\\text{A}$. The PMOSFET load is a current source whose bias network sets its overdrive voltage to $V_{OV,p} = 0.30\\,\\text{V}$ at the operating current $I_{D}$. Assume long-channel square-law behavior, ignore body effect and mobility degradation, and model channel-length modulation by $r_{o} \\approx \\frac{1}{\\lambda I_{D}}$. Use the following process parameters: $\\mu_{n} C_{ox} = 250\\,\\mu\\text{A}/\\text{V}^{2}$, $\\mu_{p} C_{ox} = 100\\,\\mu\\text{A}/\\text{V}^{2}$, $\\lambda_{n} = 0.12\\,\\text{V}^{-1}$, and $\\lambda_{p} = 0.08\\,\\text{V}^{-1}$. The midband small-signal voltage gain magnitude is to be $|A_{v}| = 10$, and the load is purely the PMOSFET’s finite output resistance.\n\nStarting from the definitions $g_{m} \\triangleq \\frac{\\partial I_{D}}{\\partial V_{GS}}$ in saturation, the square-law current relation $I_{D} = \\frac{1}{2} \\mu C_{ox} \\left(\\frac{W}{L}\\right) V_{OV}^{2}$, and the channel-length modulation small-signal resistance $r_{o} \\approx \\frac{1}{\\lambda I_{D}}$, derive the required $g_{m}$ to meet the specified $|A_{v}|$ for a CS stage with an active PMOS load, and then determine the NMOSFET and PMOSFET aspect ratios $\\left(\\frac{W}{L}\\right)_{n}$ and $\\left(\\frac{W}{L}\\right)_{p}$ that realize the bias current and maintain saturation under $V_{DD}$. Explicitly verify the saturation headroom constraint using the derived $V_{OV,n}$ and the given $V_{OV,p}$.\n\nRound your final numeric values to three significant figures. Express $g_{m}$ in millisiemens and report $\\left(\\frac{W}{L}\\right)_{n}$ and $\\left(\\frac{W}{L}\\right)_{p}$ as dimensionless ratios. The final answer must be a single row matrix containing, in order, $g_{m}$ (in millisiemens), $\\left(\\frac{W}{L}\\right)_{n}$, and $\\left(\\frac{W}{L}\\right)_{p}$.",
            "solution": "The user has provided a valid problem statement for the design of a single-stage common source (CS) amplifier with a PMOS active load. All necessary parameters and definitions are supplied, and the problem is scientifically grounded, well-posed, and objective.\n\nThe analysis proceeds by first determining the required small-signal parameters to meet the gain specification, and then using these parameters to derive the necessary device geometries.\n\nThe midband small-signal voltage gain, $A_v$, of a CS amplifier is given by the product of the transconductance of the amplifying transistor, $g_{mn}$, and the total output resistance, $R_{out}$.\n$$A_v = -g_{mn} R_{out}$$\nThe output resistance, $R_{out}$, is the parallel combination of the output resistance of the NMOS driver transistor, $r_{on}$, and the output resistance of the PMOS active load, $r_{op}$.\n$$R_{out} = r_{on} \\parallel r_{op} = \\frac{r_{on} r_{op}}{r_{on} + r_{op}}$$\nThe output resistances are determined by the channel-length modulation effect, given by the relation $r_o \\approx \\frac{1}{\\lambda I_D}$. Both transistors are biased at the same drain current, $I_D = 200\\,\\mu\\text{A}$.\n\nFirst, we calculate the output resistances $r_{on}$ and $r_{op}$ using the provided parameters: $\\lambda_n = 0.12\\,\\text{V}^{-1}$ and $\\lambda_p = 0.08\\,\\text{V}^{-1}$.\n$$r_{on} = \\frac{1}{\\lambda_n I_D} = \\frac{1}{(0.12\\,\\text{V}^{-1})(200 \\times 10^{-6}\\,\\text{A})} = \\frac{1}{2.4 \\times 10^{-5}\\,\\text{V/A}} = 41666.\\overline{6}\\,\\Omega$$\n$$r_{op} = \\frac{1}{\\lambda_p I_D} = \\frac{1}{(0.08\\,\\text{V}^{-1})(200 \\times 10^{-6}\\,\\text{A})} = \\frac{1}{1.6 \\times 10^{-5}\\,\\text{V/A}} = 62500\\,\\Omega$$\n\nNext, we calculate the total output resistance $R_{out}$:\n$$R_{out} = \\frac{(41666.\\overline{6}\\,\\Omega)(62500\\,\\Omega)}{41666.\\overline{6}\\,\\Omega + 62500\\,\\Omega} = \\frac{2.6041\\overline{6} \\times 10^9\\,\\Omega^2}{104166.\\overline{6}\\,\\Omega} = 25000\\,\\Omega = 25\\,\\text{k}\\Omega$$\n\nThe problem specifies a voltage gain magnitude of $|A_v| = 10$. We can use this to find the required transconductance $g_{mn}$ for the NMOSFET.\n$$|A_v| = g_{mn} R_{out}$$\n$$10 = g_{mn} (25 \\times 10^3\\,\\Omega)$$\nSolving for $g_{mn}$:\n$$g_{mn} = \\frac{10}{25 \\times 10^3\\,\\Omega} = 0.4 \\times 10^{-3}\\,\\text{S} = 0.400\\,\\text{mS}$$\n\nNow that we have the required transconductance, we can determine the necessary device dimensions. The problem provides the square-law relations for $I_D$ and a definition for $g_m$. From these, we can derive a useful expression relating $g_m$, $I_D$, and the overdrive voltage $V_{OV}$.\n$$I_{D} = \\frac{1}{2} k' \\left(\\frac{W}{L}\\right) V_{OV}^{2} \\quad \\text{where } k'=\\mu C_{ox}$$\n$$g_{m} = \\frac{\\partial I_{D}}{\\partial V_{GS}} = \\frac{\\partial I_{D}}{\\partial V_{OV}} = k' \\left(\\frac{W}{L}\\right) V_{OV}$$\nFrom the first equation, $k' (\\frac{W}{L}) = \\frac{2 I_D}{V_{OV}^2}$. Substituting this into the second equation for $g_m$:\n$$g_{m} = \\left(\\frac{2 I_D}{V_{OV}^2}\\right) V_{OV} = \\frac{2 I_D}{V_{OV}}$$\nThis relation allows us to find the required overdrive voltage for the NMOSFET, $V_{OV,n}$:\n$$V_{OV,n} = \\frac{2 I_D}{g_{mn}} = \\frac{2 \\times (200 \\times 10^{-6}\\,\\text{A})}{0.4 \\times 10^{-3}\\,\\text{S}} = 1.0\\,\\text{V}$$\nWith $V_{OV,n}$ known, we can now find the aspect ratio $(\\frac{W}{L})_n$ using the current equation and the parameters for the NMOSFET, $\\mu_n C_{ox} = 250\\,\\mu\\text{A}/\\text{V}^{2}$.\n$$I_D = \\frac{1}{2} (\\mu_n C_{ox}) \\left(\\frac{W}{L}\\right)_n V_{OV,n}^2$$\n$$\\left(\\frac{W}{L}\\right)_n = \\frac{2 I_D}{(\\mu_n C_{ox}) V_{OV,n}^2} = \\frac{2 \\times (200 \\times 10^{-6}\\,\\text{A})}{(250 \\times 10^{-6}\\,\\text{A/V}^2)(1.0\\,\\text{V})^2} = \\frac{400}{250} = 1.6$$\nRounding to three significant figures, $(\\frac{W}{L})_n = 1.60$.\n\nNext, we determine the aspect ratio for the PMOSFET active load, $(\\frac{W}{L})_p$. The PMOS is also biased at $I_D = 200\\,\\mu\\text{A}$, and the problem states its overdrive voltage is $V_{OV,p} = 0.30\\,\\text{V}$. Using the PMOS parameters $\\mu_p C_{ox} = 100\\,\\mu\\text{A}/\\text{V}^2$:\n$$I_D = \\frac{1}{2} (\\mu_p C_{ox}) \\left(\\frac{W}{L}\\right)_p V_{OV,p}^2$$\n$$\\left(\\frac{W}{L}\\right)_p = \\frac{2 I_D}{(\\mu_p C_{ox}) V_{OV,p}^2} = \\frac{2 \\times (200 \\times 10^{-6}\\,\\text{A})}{(100 \\times 10^{-6}\\,\\text{A/V}^2)(0.30\\,\\text{V})^2} = \\frac{400 \\times 10^{-6}}{(100 \\times 10^{-6})(0.09)} = \\frac{4}{0.09} = 44.44\\overline{4}$$\nRounding to three significant figures, $(\\frac{W}{L})_p = 44.4$.\n\nFinally, we must verify that this design allows for a valid DC operating point where both transistors are in saturation. The condition for the NMOS driver to be in saturation is $V_{DS,n} \\ge V_{OV,n}$. Since $V_{DS,n}$ is the DC output voltage $V_{OUT}$, we have $V_{OUT} \\ge V_{OV,n}$. The condition for the PMOS load to be in saturation is $V_{SD,p} \\ge |V_{OV,p}|$. Since $V_{SD,p} = V_{DD} - V_{OUT}$, we have $V_{DD} - V_{OUT} \\ge |V_{OV,p}|$, which rearranges to $V_{OUT} \\le V_{DD} - |V_{OV,p}|$.\nFor a valid operating point to exist, the allowable output voltage range must be non-empty, which means the lower bound must be less than or equal to the upper bound:\n$$V_{OV,n} \\le V_{DD} - |V_{OV,p}|$$\nUsing the calculated and given values: $V_{DD} = 1.8\\,\\text{V}$, $V_{OV,n} = 1.0\\,\\text{V}$, and $|V_{OV,p}| = 0.30\\,\\text{V}$.\n$$1.0\\,\\text{V} \\le 1.8\\,\\text{V} - 0.30\\,\\text{V}$$\n$$1.0\\,\\text{V} \\le 1.5\\,\\text{V}$$\nThis inequality holds true. The saturation headroom constraint is satisfied, meaning a DC bias point can be established within the range $1.0\\,\\text{V} \\le V_{OUT} \\le 1.5\\,\\text{V}$ that keeps both transistors in saturation. The design is therefore feasible.\n\nThe required values, rounded to three significant figures, are:\n$g_m = 0.400\\,\\text{mS}$\n$(\\frac{W}{L})_n = 1.60$\n$(\\frac{W}{L})_p = 44.4$",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.400 & 1.60 & 44.4\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "While small-signal gain defines an amplifier's behavior for small inputs, its performance with larger signals is limited by the available voltage swing. This practice focuses on this critical large-signal metric, guiding you to derive the maximum undistorted output voltage range for a CS amplifier . By analyzing the saturation conditions for both the driver and load transistors, you will gain a fundamental understanding of how supply voltage and biasing constrain the amplifier's operational limits.",
            "id": "4298099",
            "problem": "Consider a long-channel Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) common-source amplifier implemented in complementary metal-oxide-semiconductor (CMOS) technology. An n-channel MOSFET (NMOS) transistor $M_{N}$ is configured as a common-source stage with its source at ground and its drain at the output node $v_{o}$. A p-channel MOSFET (PMOS) transistor $M_{P}$ provides a current-source load from the positive supply $V_{DD}$ to the output node $v_{o}$. Both transistors are biased so that, at the quiescent operating point, the gate-source overdrive voltage is the same for both devices, denoted by $V_{OV}$, with threshold voltages of equal magnitude $V_{T}$ for NMOS and PMOS (i.e., $V_{TN} = V_{T}$ and $|V_{TP}| = V_{T}$). Body effect is neglected. Each transistor exhibits channel-length modulation, modeled by a finite output resistance $r_{o}$ in saturation, equivalently an Early voltage parameter $V_{A}$ with $\\lambda = 1/V_{A}$ and $r_{o} = 1/(\\lambda I_{D})$ at a given operating point.\n\nAssume the long-channel square-law model with channel-length modulation: for each device in saturation,\n$$\nI_{D} = \\frac{1}{2}\\beta \\left(V_{GS} - V_{T}\\right)^{2}\\left(1 + \\lambda V_{DS}\\right),\n$$\nwhere $\\beta$ is the process-transistor constant, $V_{GS}$ is the gate-source voltage, $V_{DS}$ is the drain-source voltage, $\\lambda$ is the channel-length modulation coefficient, and $I_{D}$ is the drain current. The saturation condition for each device is given by the fundamental inequality\n$$\nV_{DS} \\geq V_{GS} - V_{T}.\n$$\n\nDefine the \"maximum undistorted output swing\" as the largest peak-to-peak variation of the node voltage $v_{o}$ such that both $M_{N}$ and $M_{P}$ remain in saturation for all instantaneous values of $v_{o}$ within the swing. Starting strictly from the saturation-region inequality above and the provided device model, derive the closed-form expression for the maximum undistorted output swing at $v_{o}$ as a function of $V_{DD}$, $V_{OV}$, and $V_{T}$, explicitly accounting for the presence of finite $r_{o}$ (channel-length modulation) in your reasoning. Express your final answer in volts. No rounding is required; provide an exact analytic expression.",
            "solution": "The problem requires the derivation of the maximum undistorted output swing for a complementary metal-oxide-semiconductor (CMOS) common-source amplifier with a current-source load. The analysis will be based on the long-channel square-law model for the Metal-Oxide-Semiconductor Field-Effect Transistors (MOSFETs), including channel-length modulation. The maximum swing is defined by the range of the output voltage, $v_{o}$, for which both the n-channel driver transistor, $M_{N}$, and the p-channel load transistor, $M_{P}$, remain in the saturation region of operation.\n\nFirst, we establish the conditions for each transistor. For the NMOS transistor $M_{N}$, its source is connected to ground, implying its source voltage is $V_{SN} = 0$. Its drain is connected to the output node, so its drain voltage is $V_{DN} = v_{o}$. The drain-source voltage for $M_{N}$ is therefore $V_{DSN} = V_{DN} - V_{SN} = v_{o}$. The gate-source voltage is the input signal, $V_{GSN} = v_{in}$. The threshold voltage is given as $V_{TN} = V_{T}$.\n\nFor the PMOS transistor $M_{P}$, its source is connected to the supply voltage $V_{DD}$, so $V_{SP} = V_{DD}$. Its drain is also connected to the output node, so $V_{DP} = v_{o}$. The source-drain voltage for $M_{P}$ is $V_{SDP} = V_{SP} - V_{DP} = V_{DD} - v_{o}$. The magnitude of its threshold voltage is given as $|V_{TP}| = V_{T}$. The gate of $M_P$ is connected to a fixed bias voltage, let's call it $V_{GP}$. The source-gate voltage is thus constant: $V_{SGP} = V_{SP} - V_{GP} = V_{DD} - V_{GP}$.\n\nThe problem states that at the quiescent operating point, the overdrive voltage for both devices is $V_{OV}$. For the NMOS, this means $V_{OV} = V_{GSN,Q} - V_{TN}$, where $V_{GSN,Q}$ is the quiescent gate-source voltage. For the PMOS, this means $V_{OV} = V_{SGP,Q} - |V_{TP}|$. Since the gate voltage of the PMOS is fixed, its source-gate voltage is constant, so $V_{SGP,Q} = V_{SGP}$ and its overdrive voltage is always $V_{OV} = V_{SGP} - |V_{TP}| = V_{SGP} - V_T$.\n\nThe boundary of the saturation region is strictly defined by the provided inequality.\nFor an NMOS transistor: $V_{DS} \\ge V_{GS} - V_{T}$. The term $V_{GS} - V_{T}$ is the overdrive voltage, $V_{OV,N}$.\nFor a PMOS transistor, the condition is equivalent: $V_{SD} \\ge V_{SG} - |V_{TP}|$. The term $V_{SG} - |V_{TP}|$ is the overdrive voltage, $V_{OV,P}$.\n\nThe maximum undistorted swing is determined by finding the minimum and maximum allowable values of the output voltage $v_{o}$, denoted $v_{o,min}$ and $v_{o,max}$, respectively.\n\nLet's determine the lower limit of the output voltage, $v_{o,min}$. This limit is reached when the NMOS transistor $M_{N}$ is at the edge of the saturation region, about to enter the triode region. The condition for $M_{N}$ to remain in saturation is:\n$$\nV_{DSN} \\ge V_{GSN} - V_{TN}\n$$\nSubstituting $V_{DSN} = v_{o}$ and recognizing that $V_{GSN} - V_{TN}$ is the overdrive voltage of the NMOS transistor, $V_{OV,N}$, we have:\n$$\nv_{o} \\ge V_{OV,N}\n$$\nTo maintain a distortion-free signal, the transistor must remain in saturation for all signal levels. The minimum value of the output voltage is thus determined by the minimum overdrive voltage required to keep $M_N$ saturated. This minimum condition occurs at the lowest point of the swing. The problem specifies a quiescent overdrive voltage of $V_{OV}$. From a circuit standpoint, the lowest voltage the drain can reach while ensuring $M_N$ is still saturated is its own overdrive voltage, $V_{OV,N}$. In this symmetric design, this is set by the quiescent condition. Thus, the lower limit is:\n$$\nv_{o,min} = V_{OV}\n$$\nAny voltage lower than this would force $V_{DSN} < V_{OV,N}$, pushing $M_N$ into the triode region.\n\nNext, let's determine the upper limit of the output voltage, $v_{o,max}$. This limit is reached when the PMOS transistor $M_{P}$ is at the edge of saturation, about to enter its triode region. The condition for $M_{P}$ to remain in saturation is:\n$$\nV_{SDP} \\ge V_{SGP} - |V_{TP}|\n$$\nFrom the biasing conditions, the term on the right, $V_{SGP} - |V_{TP}|$, is the constant overdrive voltage of the PMOS load, which is given as $V_{OV}$. The term on the left is $V_{SDP} = V_{DD} - v_{o}$. The inequality becomes:\n$$\nV_{DD} - v_{o} \\ge V_{OV}\n$$\nRearranging this inequality to solve for $v_{o}$ gives the upper boundary for the output voltage:\n$$\nv_{o} \\le V_{DD} - V_{OV}\n$$\nTherefore, the maximum output voltage is:\n$$\nv_{o,max} = V_{DD} - V_{OV}\n$$\nAny voltage higher than this would force $V_{SDP} < V_{OV}$, pushing $M_P$ into the triode region.\n\nThe problem requires us to explicitly account for the presence of finite output resistance $r_{o}$ (i.e., channel-length modulation, $\\lambda > 0$). The saturation current is given as $I_{D} = \\frac{1}{2}\\beta(V_{GS} - V_{T})^{2}(1 + \\lambda V_{DS})$. This model describes the behavior of the current *within* the saturation region, where a non-zero $\\lambda$ results in a finite slope of the $I_{D}$-vs-$V_{DS}$ curve, corresponding to the finite output resistance $r_{o} = 1/(\\lambda I_{D}) \\approx V_A/I_D$. However, the *boundary* between the saturation and triode regions is given by the inequality $V_{DS} \\ge V_{GS} - V_{T}$. This condition, which defines the \"knee\" of the transistor's characteristic curve, does not itself depend on $\\lambda$ in this model. Our derivation of $v_{o,min}$ and $v_{o,max}$ is based strictly on these boundary conditions. Therefore, while finite $r_{o}$ affects the amplifier's small-signal voltage gain (which would be $A_v = -g_{mN}(r_{oN} || r_{oP})$), it does not alter the large-signal voltage limits that define the maximum swing. The reasoning is complete without $\\lambda$ or $r_o$ appearing in the final expression for the swing limits, as we are respecting the provided definition of the saturation region boundary.\n\nFinally, the maximum peak-to-peak undistorted output swing is the difference between the maximum and minimum output voltages:\n$$\n\\text{Swing}_{pp} = v_{o,max} - v_{o,min}\n$$\nSubstituting the derived expressions:\n$$\n\\text{Swing}_{pp} = (V_{DD} - V_{OV}) - (V_{OV})\n$$\n$$\n\\text{Swing}_{pp} = V_{DD} - 2V_{OV}\n$$\nThis expression is a function of the provided parameters $V_{DD}$ and $V_{OV}$ (with $V_T$ being implicitly part of the definition of $V_{OV}$) as required.",
            "answer": "$$\n\\boxed{V_{DD} - 2V_{OV}}\n$$"
        },
        {
            "introduction": "Analog design is often described as the art of managing trade-offs. This exercise explores one of the most fundamental techniques for doing so: source degeneration. By adding a simple resistor, we can dramatically improve linearity, but at what cost? This practice asks you to qualitatively analyze the impact of source degeneration on gain, input-referred noise, and linearity, revealing the essential give-and-take that defines expert amplifier design .",
            "id": "4298128",
            "problem": "Consider a single-transistor Common-Source (CS) amplifier with a Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) whose bulk is tied to the source. The source is connected to ground through a source degeneration resistor of value $R_S$. The drain is connected to a resistive load $R_D$ and the output is taken at the drain. Assume the gate is driven by an ideal voltage source of negligible source impedance, the gate has infinite input impedance, and flicker noise is negligible. The transistor has small-signal parameters $g_m$ and $r_o$ and channel thermal noise modeled as a drain current noise source with one-sided spectral density $4 k T \\gamma g_m$, where $k$ is the Boltzmann constant, $T$ is the absolute temperature, and $\\gamma$ is the excess-noise factor. The resistor $R_S$ is noiseless except for its Johnson-Nyquist thermal noise $4 k T R_S$.\n\nFor nonlinearity, model the transistor’s drain current as a memoryless polynomial in $v_{gs}$ up to third order: $i_d(v_{gs}) \\approx g_{m1} v_{gs} + \\frac{1}{2} g_{m2} v_{gs}^2 + \\frac{1}{6} g_{m3} v_{gs}^3$, where $g_{m1}$, $g_{m2}$, and $g_{m3}$ are the first-, second-, and third-order transconductance coefficients evaluated at the bias point. Define the Third-Order Input Intercept Point (IIP3) in terms of the input voltage at the gate that would make the extrapolated third-order intermodulation component equal the fundamental at the output for small two-tone excitation.\n\nUsing only fundamental definitions of small-signal transconductance and resistive feedback, Johnson-Nyquist thermal noise for resistors, channel thermal noise for MOSFETs, and the above polynomial nonlinearity model, determine which statement correctly captures the qualitative dependence of the small-signal gain, the input-referred voltage noise spectral density, and the linearity (as quantified by IIP3) on the source degeneration resistor $R_S$ when $R_S$ is increased from $0$ while other bias parameters are held fixed.\n\nA. As $R_S$ increases, the magnitude of the small-signal voltage gain decreases; the input-referred voltage noise spectral density increases approximately linearly with $R_S$; and the IIP3 increases due to enhanced linearization by local feedback.\n\nB. As $R_S$ increases, the magnitude of the small-signal voltage gain increases because feedback boosts effective transconductance; the input-referred voltage noise spectral density decreases because feedback suppresses output noise; and the IIP3 decreases because the cubic nonlinearity is emphasized.\n\nC. As $R_S$ increases, the magnitude of the small-signal voltage gain decreases; the input-referred voltage noise spectral density decreases because feedback always lowers noise when referred to the input; and the IIP3 remains essentially unchanged because $R_S$ only affects the linear term.\n\nD. There exists a finite $R_S$ that simultaneously maximizes the small-signal voltage gain, minimizes the input-referred voltage noise spectral density, and maximizes the IIP3 for fixed $g_m$ and $r_o$.",
            "solution": "Herein, we rigorously validate the problem statement and, upon confirmation of its validity, proceed to derive the correct solution by analyzing the behavior of a common-source amplifier with source degeneration.\n\n### Problem Validation\n\n#### Step 1: Extract Givens\n-   **Topology**: Common-Source (CS) amplifier with a single MOSFET.\n-   **MOSFET Configuration**: Bulk tied to source.\n-   **Source Degeneration**: Source connected to ground via a resistor $R_S$.\n-   **Load**: Drain connected to a resistive load $R_D$.\n-   **Output**: Taken at the drain terminal.\n-   **Input**: Driven by an ideal voltage source (zero source impedance) at the gate. Gate input impedance is infinite.\n-   **Transistor Parameters**: Small-signal transconductance $g_m$ and output resistance $r_o$.\n-   **Noise Model (Transistor)**: Flicker noise is negligible. Channel thermal noise is a drain current source with one-sided spectral density $S_{i,ch} = 4 k T \\gamma g_m$, where $k$ is the Boltzmann constant, $T$ is the absolute temperature, and $\\gamma$ is the excess-noise factor.\n-   **Noise Model (Resistor)**: $R_S$ contributes Johnson-Nyquist thermal noise with a one-sided spectral density corresponding to a voltage source of $S_{v,Rs} = 4 k T R_S$.\n-   **Nonlinearity Model**: Drain current $i_d$ is a memoryless polynomial of gate-source voltage $v_{gs}$: $i_d(v_{gs}) \\approx g_{m1} v_{gs} + \\frac{1}{2} g_{m2} v_{gs}^2 + \\frac{1}{6} g_{m3} v_{gs}^3$. The coefficients $g_{m1}, g_{m2}, g_{m3}$ are evaluated at the bias point.\n-   **Linearity Metric**: Third-Order Input Intercept Point (IIP3), defined based on a two-tone test.\n-   **Analysis Task**: Determine the qualitative dependence of small-signal gain, input-referred voltage noise, and IIP3 on $R_S$ as $R_S$ is increased from $0$.\n-   **Constraint**: \"other bias parameters are held fixed\".\n\n#### Step 2: Validate Using Extracted Givens\nThe problem statement is scientifically grounded, employing standard, well-established models from analog integrated circuit design for amplifier gain, noise, and nonlinearity. The use of small-signal parameters, thermal noise models, and a Taylor series for nonlinearity are all fundamental to the discipline.\n\nThe problem is well-posed, providing sufficient information to determine the qualitative dependencies requested. The models are formal and allow for direct calculation.\n\nThe language is objective and technical.\n\nA potential ambiguity lies in the phrase \"other bias parameters are held fixed\". In the context of analyzing the effect of a single component like $R_S$, this is universally interpreted to mean that the transistor's DC operating point (specifically, the DC drain current $I_D$) is held constant. This ensures that the transistor's intrinsic small-signal parameters ($g_m, r_o$) and nonlinearity coefficients ($g_{m2}, g_{m3}$) remain constant throughout the analysis. To maintain a constant $I_D$ as $R_S$ changes, the DC gate voltage must be adjusted accordingly ($V_G = V_{GS,Q} + I_D R_S$). This is the standard assumption for such a comparative analysis. With this standard interpretation, the problem is not underspecified or contradictory.\n\nThe problem is not scientifically unsound, non-formalizable, incomplete, unrealistic, ill-posed, or trivial. It addresses a core trade-off in amplifier design.\n\n#### Step 3: Verdict and Action\nThe problem statement is **valid** under the standard and reasonable interpretation of the fixed-bias-parameter constraint. We may proceed with the solution derivation. For clarity, we will denote the linear transconductance coefficient $g_{m1}$ as $g_m$.\n\n### Derivation\n\n#### 1. Small-Signal Voltage Gain ($A_v$)\nThe small-signal voltage gain of a CS amplifier with source degeneration resistor $R_S$, load resistor $R_D$, and finite transistor output resistance $r_o$ is given by:\n$$ A_v = \\frac{v_{out}}{v_{in}} = -G_m R_{out} $$\nwhere $G_m$ is the effective transconductance of the stage and $R_{out}$ is the total output resistance.\n\nThe effective transconductance is reduced by the local series-shunt feedback from $R_S$:\n$$ G_m = \\frac{g_m}{1 + g_m R_S + \\frac{R_S}{r_o}} \\approx \\frac{g_m}{1 + g_m R_S} $$\nThe approximation is valid for $r_o \\gg R_S$.\n\nThe output resistance of the transistor, looking into the drain, is increased by degeneration:\n$$ R_{out,T} = r_o (1 + g_m R_S) + R_S = r_o + R_S(1 + g_m r_o) $$\nThe total output resistance is this resistance in parallel with the load $R_D$:\n$$ R_{out} = R_D \\parallel R_{out,T} $$\nA widely used and accurate expression for the gain is:\n$$ A_v = \\frac{-g_m R_D}{1+g_m R_S + \\frac{R_S+R_D}{r_o}} $$\nAs $R_S$ increases from $0$, the denominator of the magnitude $|A_v|$ term, $(1+g_m R_S + \\frac{R_S+R_D}{r_o})$, monotonically increases. Since the numerator is constant, the magnitude of the small-signal voltage gain, $|A_v|$, **decreases** as $R_S$ increases. This is a classic characteristic of degenerative feedback.\n\n#### 2. Input-Referred Voltage Noise Spectral Density ($S_{v,in}$)\nThe total input-referred voltage noise is the sum of the contributions from each noise source, referred to the input. We consider three sources: the MOSFET channel, the resistor $R_S$, and the load resistor $R_D$ (which, being a physical resistor, must also exhibit Johnson noise).\n\nThe total one-sided input-referred voltage noise spectral density, $S_{v,in}$, is given by the well-known formula for this topology:\n$$ S_{v,in}(f) = 4kT\\frac{\\gamma}{g_m} + 4kTR_S + \\frac{4kT(1+g_m R_S)^2}{g_m^2 R_D} $$\nThis expression neglects the noise contribution from $r_o$ and a more complex interaction, but captures the dominant effects, which is sufficient for a qualitative analysis.\n\nLet's analyze the terms as a function of $R_S$:\n-   **MOSFET channel noise contribution**: $4kT\\frac{\\gamma}{g_m}$. Since $g_m$ is held constant, this term is constant.\n-   **$R_S$ noise contribution**: $4kTR_S$. This term increases linearly with $R_S$. The noise voltage source of $R_S$ is in the signal path and refers to the input with approximately unity gain.\n-   **$R_D$ noise contribution**: $\\frac{4kT(1+g_m R_S)^2}{g_m^2 R_D}$. The output noise from $R_D$ is referred to the input by dividing by $|A_v|^2$. As $|A_v|$ decreases with $R_S$, this input-referred contribution increases. This term grows quadratically with $R_S$.\n\nSumming these contributions, the total input-referred noise spectral density $S_{v,in}$ is a monotonically increasing function of $R_S$ for $R_S \\ge 0$. Its minimum value occurs at $R_S=0$. For small values of $R_S$, the overall function can be approximated as linear due to the $4kTR_S$ term and the linear component from the $R_D$ contribution. Thus, as $R_S$ increases, the input-referred voltage noise spectral density **increases**.\n\n#### 3. Linearity (IIP3)\nWe use the method of nonlinear coefficients. The drain current is $i_d = g_{m1} v_{gs} + \\frac{1}{2} g_{m2} v_{gs}^2 + \\frac{1}{6} g_{m3} v_{gs}^3$. The feedback loop is $v_{gs} = v_{in} - i_d R_S$. The overall transfer characteristic $i_d(v_{in})$ can be written as another power series: $i_d = G_{m1} v_{in} + \\frac{1}{2} G_{m2} v_{in}^2 + \\frac{1}{6} G_{m3} v_{in}^3 + \\dots$.\n\nThe input voltage amplitude at which the extrapolated fundamental and third-order intermodulation products are equal, $A_{IIP3}$, is given by:\n$$ A_{IIP3}^2 = 4 \\left| \\frac{G_{m1}}{G_{m3}} \\right| $$\n(The constant $4$ depends on the definition but does not affect the dependency on $R_S$).\n\nThrough series reversion, one can find the coefficients $G_{m1}$ and $G_{m3}$ for the overall amplifier:\n$$ G_{m1} = \\frac{g_{m1}}{1+g_{m1}R_S} $$\n$$ G_{m3} = \\frac{g_{m3}(1+g_{m1}R_S) - 3 g_{m2}^2 R_S}{(1+g_{m1}R_S)^5} $$\nSubstituting these into the expression for $A_{IIP3}^2$:\n$$ A_{IIP3}^2 \\propto \\left| \\frac{G_{m1}}{G_{m3}} \\right| = \\left| \\frac{g_{m1}/(1+g_{m1}R_S)}{\\frac{g_{m3}(1+g_{m1}R_S) - 3 g_{m2}^2 R_S}{(1+g_{m1}R_S)^5}} \\right| = \\left| \\frac{g_{m1}(1+g_{m1}R_S)^4}{g_{m3} + (g_{m1}g_{m3} - 3g_{m2}^2)R_S} \\right| $$\nAs $R_S$ increases, the numerator grows as $R_S^4$, while the denominator grows at most as $R_S$. Therefore, $A_{IIP3}^2$ grows approximately as $R_S^3$. This indicates a very strong improvement in linearity. Therefore, as $R_S$ increases, the IIP3 **increases**. This is a primary reason for using source degeneration.\n\n### Option-by-Option Analysis\n\n**A. As $R_S$ increases, the magnitude of the small-signal voltage gain decreases; the input-referred voltage noise spectral density increases approximately linearly with $R_S$; and the IIP3 increases due to enhanced linearization by local feedback.**\n-   **Gain**: Decreases. This is **Correct**.\n-   **Noise**: Increases. The characterization \"approximately linearly\" is reasonable, as the dominant contribution from $R_S$ itself is linear. This is **Correct**.\n-   **IIP3**: Increases. The reasoning \"due to enhanced linearization by local feedback\" is the correct physical explanation. This is **Correct**.\n-   **Verdict**: This statement accurately describes all three effects.\n\n**B. As $R_S$ increases, the magnitude of the small-signal voltage gain increases because feedback boosts effective transconductance; the input-referred voltage noise spectral density decreases because feedback suppresses output noise; and the IIP3 decreases because the cubic nonlinearity is emphasized.**\n-   **Gain**: Claim is that gain increases. This is **Incorrect**. Degenerative feedback reduces gain. The effective transconductance decreases.\n-   **Noise**: Claim is that input-referred noise decreases. This is **Incorrect**.\n-   **IIP3**: Claim is that IIP3 decreases. This is **Incorrect**.\n-   **Verdict**: This statement is incorrect on all three points.\n\n**C. As $R_S$ increases, the magnitude of the small-signal voltage gain decreases; the input-referred voltage noise spectral density decreases because feedback always lowers noise when referred to the input; and the IIP3 remains essentially unchanged because $R_S$ only affects the linear term.**\n-   **Gain**: Decreases. This is **Correct**.\n-   **Noise**: Claim is that input-referred noise decreases. This is **Incorrect**. The premise \"feedback always lowers noise when referred to the input\" is false for this topology.\n-   **IIP3**: Claim is that it remains unchanged. This is **Incorrect**. $R_S$ has a very strong effect on linearity.\n-   **Verdict**: This statement contains multiple incorrect claims.\n\n**D. There exists a finite $R_S$ that simultaneously maximizes the small-signal voltage gain, minimizes the input-referred voltage noise spectral density, and maximizes the IIP3 for fixed $g_m$ and $r_o$.**\n-   From our analysis:\n    -   $|A_v|$ is maximized at $R_S=0$.\n    -   $S_{v,in}$ is minimized at $R_S=0$.\n    -   IIP3 is minimized at $R_S=0$ and increases for $R_S > 0$.\n-   To maximize gain and minimize noise, one would choose $R_S=0$. To maximize IIP3, one would choose a large $R_S$. These are conflicting requirements. No single finite $R_S > 0$ can simultaneously optimize all three metrics in the desired way (maximize gain, minimize noise, maximize IIP3). This statement describes a non-existent ideal operating point, highlighting the fundamental design trade-offs.\n-   **Verdict**: This statement is **Incorrect**.\n\nBased on the thorough analysis, option A is the only one that correctly describes the qualitative behavior of all three metrics.",
            "answer": "$$\\boxed{A}$$"
        }
    ]
}