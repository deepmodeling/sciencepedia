{
    "hands_on_practices": [
        {
            "introduction": "A core goal in CMOS design is achieving symmetric switching characteristics, ensuring that a gate's output transitions high just as quickly as it transitions low. This practice connects a fundamental device-level property—the unequal mobility of electrons and holes—to a critical circuit-level design choice: the relative sizing of the PMOS and NMOS transistors. By deriving the width ratio required to equalize rise and fall times , you will establish the baseline for sizing all static CMOS logic gates.",
            "id": "4300929",
            "problem": "A Complementary Metal-Oxide-Semiconductor (CMOS) inverter in an Integrated Circuit driven and analyzed within the context of Electronic Design Automation (EDA) uses a p-channel Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) to charge a capacitive load and an n-channel MOSFET to discharge it. Consider a single inverter driving a load capacitance $C_{L}$ at its output. Assume long-channel operation in strong inversion, identical channel lengths $L_{n}=L_{p}$, equal magnitude overdrive during conduction for the charging and discharging events, and ignore body effect and velocity saturation. The conduction path during a transition can be approximated by a first-order resistor-capacitor network in which the effective on-resistance of the conducting device scales inversely with transistor width and mobility, so that $R_{x}\\propto \\frac{1}{\\mu_{x} W_{x}}$, where $x \\in \\{n, p\\}$, $\\mu_{x}$ is the carrier mobility, and $W_{x}$ is the channel width.\n\nLet the electron-to-hole mobility ratio be $\\mu_{n}/\\mu_{p}=2.5$. For the given load capacitance $C_{L}$ and the above modeling assumptions, determine the ratio $W_{p}/W_{n}$ that equalizes the rise time and fall time of the inverter output, i.e., achieves $t_{r}\\approx t_{f}$ under the resistor-capacitor approximation. Express your final answer as a single real number without units. No rounding is required.",
            "solution": "The problem asks for the ratio of the p-channel MOSFET width $W_{p}$ to the n-channel MOSFET width $W_{n}$ that results in equal rise and fall times for a CMOS inverter driving a capacitive load $C_{L}$. The analysis is to be performed under a set of simplifying assumptions.\n\nThe dynamic behavior of the inverter's output voltage during a transition is modeled as a first-order resistor-capacitor (RC) circuit. The fall time, $t_{f}$, corresponds to the discharge of the load capacitor $C_{L}$ through the n-channel MOSFET (NMOS). The fall time is proportional to the time constant $\\tau_{f}$ of this discharging circuit.\n$$ \\tau_{f} = R_{n} C_{L} $$\nHere, $R_{n}$ is the effective on-resistance of the NMOS transistor.\n\nSimilarly, the rise time, $t_{r}$, corresponds to the charging of the load capacitor $C_{L}$ through the p-channel MOSFET (PMOS). The rise time is proportional to the time constant $\\tau_{r}$ of this charging circuit.\n$$ \\tau_{r} = R_{p} C_{L} $$\nHere, $R_{p}$ is the effective on-resistance of the PMOS transistor.\n\nTo achieve equal rise and fall times, $t_{r} \\approx t_{f}$, their respective time constants must be equal.\n$$ \\tau_{r} = \\tau_{f} $$\nSubstituting the expressions for the time constants, we get:\n$$ R_{p} C_{L} = R_{n} C_{L} $$\nSince the load capacitance $C_{L}$ is the same for both charging and discharging, we can cancel it from both sides, which yields the condition that the on-resistances of the PMOS and NMOS transistors must be equal.\n$$ R_{p} = R_{n} $$\n\nThe problem states that the effective on-resistance of a transistor, $R_{x}$, follows the proportionality $R_{x}\\propto \\frac{1}{\\mu_{x} W_{x}}$, where $x \\in \\{n, p\\}$, $\\mu_{x}$ is the carrier mobility, and $W_{x}$ is the channel width. We can express this relationship with a constant of proportionality, $k$:\n$$ R_{x} = \\frac{k}{\\mu_{x} W_{x}} $$\nThis proportionality is derived from the drain current equation for a MOSFET in the linear (or triode) region under the given assumptions of long-channel operation, equal channel lengths ($L_{n}=L_{p}$), and equal magnitude of overdrive voltage during conduction. The on-resistance $R_{on}$ is approximately $R_{on} \\approx \\frac{L}{\\mu C_{ox} W |V_{ov}|}$. Since $L$, $C_{ox}$, and $|V_{ov}|$ are the same for both the NMOS and PMOS devices as per the problem statement, the constant of proportionality $k$ is identical for both.\n\nSubstituting this expression for resistance into our condition $R_{p} = R_{n}$:\n$$ \\frac{k}{\\mu_{p} W_{p}} = \\frac{k}{\\mu_{n} W_{n}} $$\nThe constant $k$ cancels out, leaving:\n$$ \\frac{1}{\\mu_{p} W_{p}} = \\frac{1}{\\mu_{n} W_{n}} $$\nBy cross-multiplication, we find the relationship between the widths and mobilities:\n$$ \\mu_{n} W_{n} = \\mu_{p} W_{p} $$\n\nThe problem requires us to determine the ratio $W_{p}/W_{n}$. We can rearrange the equation above to solve for this ratio:\n$$ \\frac{W_{p}}{W_{n}} = \\frac{\\mu_{n}}{\\mu_{p}} $$\nThis result indicates that to compensate for the lower mobility of holes ($\\mu_{p}$) compared to electrons ($\\mu_{n}$), the PMOS transistor must be made wider than the NMOS transistor to achieve the same on-resistance and thus symmetric rise/fall times.\n\nThe problem provides the numerical value for the electron-to-hole mobility ratio:\n$$ \\frac{\\mu_{n}}{\\mu_{p}} = 2.5 $$\nSubstituting this value into our derived expression for the width ratio gives the final answer:\n$$ \\frac{W_{p}}{W_{n}} = 2.5 $$",
            "answer": "$$\\boxed{2.5}$$"
        },
        {
            "introduction": "Beyond the basic inverter, designing complex logic gates requires translating Boolean expressions into efficient transistor networks. This exercise demonstrates how the logical form of a function dramatically impacts its physical implementation. By comparing the transistor count for a function implemented directly from its sum-of-products form versus a more compact factored form , you will gain practical insight into how logic synthesis techniques reduce circuit area and complexity.",
            "id": "4300973",
            "problem": "Consider a single complex static Complementary Metal–Oxide–Semiconductor (CMOS) gate that realizes the Boolean function in factored form $$f=(A+B)C+D,$$ where $A$, $B$, $C$, and $D$ are Boolean input signals. The gate is built using a complementary Pull-Down Network (PDN) of $n$-channel metal–oxide–semiconductor field-effect transistors and a Pull-Up Network (PUN) of $p$-channel metal–oxide–semiconductor field-effect transistors, connected in the standard complementary topology. Assume that both input polarities (that is, $A$, $B$, $C$, $D$ and their complements $A'$, $B'$, $C'$, $D'$) are available without additional cost, and that only series–parallel transistor networks are used, with no transmission gates, pass-transistor logic, or ratioed logic. Count only the transistors in the PDN and PUN of the complex gate itself.\n\nUsing first-principles construction rules for static CMOS complementary networks and Boolean algebra (including De Morgan’s laws), determine:\n- the total transistor count for the factored implementation of $$f=(A+B)C+D,$$\n- the total transistor count for the unfactored sum-of-products implementation $$f=AC+BC+D,$$\neach realized as a single complex static CMOS gate.\n\nExpress the final answer as a two-entry row vector using the LaTeX $\\mathrm{pmatrix}$ environment, with the first entry equal to the factored total and the second entry equal to the unfactored sum-of-products total. No rounding is required and no units are to be reported.",
            "solution": "The problem requires the determination of the total transistor count for two different static complementary CMOS implementations of the Boolean function $f$, one based on a factored form and the other on an unfactored sum-of-products form.\n\nThe fundamental principle of static complementary CMOS logic is that a single gate is inherently inverting. The output of the gate is the complement of the function implemented by its Pull-Down Network (PDN). To realize a non-inverting function $f$ at the output, the PDN must therefore be designed to implement the complementary function, $\\bar{f}$. The Pull-Up Network (PUN) is constructed as the topological dual of the PDN. The total transistor count is determined by the number of literals required to build these networks.\n\nThe construction rules for series-parallel networks are as follows:\n- For the PDN (nMOS): transistors in series implement the logical AND operation, and transistors in parallel implement the logical OR operation.\n- For the PUN (pMOS): transistors in series implement the logical OR operation on the inverted inputs (due to De Morgan's laws and pMOS active-low behavior), while transistors in parallel implement the AND operation on the inverted inputs.\n\nA direct consequence of these rules and the dual nature of the networks is that the number of transistors in the PDN is equal to the number of literals in the Boolean expression for $\\bar{f}$. Similarly, the number of transistors in the PUN is equal to the number of transistors in the PDN. Therefore, the total transistor count is $2$ times the number of literals in the expression used to derive the network structure. The problem states that only series-parallel networks are allowed, which means that if a literal appears multiple times in the expression, it must be implemented with a distinct transistor for each appearance unless simplification is possible within the series-parallel constraint.\n\nLet's analyze the two cases.\n\n**Case 1: Factored Implementation**\nThe function is given in its factored form as $f = (A+B)C+D$.\nTo design the PDN, we first need to find the complement, $\\bar{f}$. Using De Morgan's laws:\n$$ \\bar{f} = \\overline{(A+B)C+D} = \\overline{((A+B)C)} \\cdot \\bar{D} = (\\overline{(A+B)} + \\bar{C}) \\cdot \\bar{D} = (\\bar{A}\\bar{B} + \\bar{C})\\bar{D} $$\nThe problem states that complemented inputs ($A', B', C', D'$) are available. We can thus design the PDN to directly implement the logic $L = (A'B' + C')D'$, where the input signals to the transistor gates are $A', B', C', D'$.\nThe PDN topology is derived from this expression:\n- The term $A'B'$ corresponds to an nMOS transistor controlled by $A'$ in series with an nMOS transistor controlled by $B'$.\n- The term $+ C'$ corresponds to placing the series combination for $A'B'$ in parallel with an nMOS transistor controlled by $C'$.\n- The final term $\\cdot D'$ corresponds to placing this entire parallel structure in series with an nMOS transistor controlled by $D'$.\nThe literals in this expression are $A', B', C', D'$. There are $4$ distinct literals. Thus, the PDN requires $4$ nMOS transistors.\n\nThe PUN is the topological dual of the PDN.\n- PDN: ( ($A'$ series $B'$) parallel $C'$ ) series $D'$\n- PUN: ( ($A'$ parallel $B'$) series $C'$ ) parallel $D'$\nThis PUN structure requires $4$ pMOS transistors, one for each literal.\nThe total transistor count for the factored implementation is the sum of transistors in the PDN and the PUN.\n$$ \\text{Total Count}_{\\text{factored}} = (\\text{nMOS transistors}) + (\\text{pMOS transistors}) = 4 + 4 = 8 $$\n\n**Case 2: Unfactored Sum-of-Products Implementation**\nThe function is given in its unfactored sum-of-products (SOP) form as $f = AC + BC + D$.\nTo design the PDN, we again find the complement, $\\bar{f}$:\n$$ \\bar{f} = \\overline{AC + BC + D} = (\\overline{AC}) \\cdot (\\overline{BC}) \\cdot \\bar{D} = (\\bar{A}+\\bar{C}) \\cdot (\\bar{B}+\\bar{C}) \\cdot \\bar{D} $$\nThis expression is in a product-of-sums (POS) form, which is suitable for direct implementation in a PDN. Using the available complemented inputs $A', B', C', D'$, the PDN implements the logic $L = (A'+C')(B'+C')D'$.\nThe PDN topology is derived from this expression:\n- The term $(A'+C')$ corresponds to an nMOS transistor for $A'$ in parallel with an nMOS transistor for $C'$.\n- The term $(B'+C')$ corresponds to an nMOS transistor for $B'$ in parallel with an nMOS transistor for $C'$.\n- The three product terms are in series.\nThe overall PDN structure is: (parallel group $1$) in series with (parallel group $2$) in series with (a single transistor).\n- Parallel group $1$: nMOS($A'$) || nMOS($C'_1$)\n- Parallel group $2$: nMOS($B'$) || nMOS($C'_2$)\n- Single transistor: nMOS($D'$)\nThe literal $C'$ appears in two separate parallel groups which are themselves in series. Due to the constraint of using only series-parallel networks, the transistor for $C'$ cannot be shared between these two groups. Sharing would create a non-series-parallel (bridge) structure. Therefore, two separate transistors controlled by $C'$ must be used, denoted as $C'_1$ and $C'_2$.\nThe literals required to build the PDN are $A', C', B', C', D'$. The number of literals is $5$. This requires $5$ nMOS transistors.\n\nThe PUN is the dual of this PDN.\n- PDN: ( ($A'$ parallel $C'_1$) series ($B'$ parallel $C'_2$) series $D'$ )\n- PUN: ( ($A'$ series $C'_1$) parallel ($B'$ series $C'_2$) parallel $D'$ )\nThe PUN will require $5$ pMOS transistors.\nThe total transistor count for the unfactored implementation is:\n$$ \\text{Total Count}_{\\text{unfactored}} = (\\text{nMOS transistors}) + (\\text{pMOS transistors}) = 5 + 5 = 10 $$\n\nThe factored implementation is more efficient, requiring $8$ transistors, while the unfactored SOP implementation requires $10$ transistors. The final answer is requested as a two-entry row vector containing the factored total and the unfactored total, respectively.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n8  10\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "An efficient gate design must be both compact and fast, but stacking transistors to implement complex logic introduces a significant performance penalty. This practice utilizes the Elmore delay model, a foundational tool in timing analysis, to quantify the delay degradation caused by series-connected transistors and their internal parasitic capacitances. Completing this analysis  will provide you with a quantitative understanding of why designers limit the stack depth in high-speed logic paths.",
            "id": "4301010",
            "problem": "A static Complementary Metal–Oxide–Semiconductor (CMOS) logic gate implements a pull-down network consisting of a series stack of four identical n-channel Metal–Oxide–Semiconductor field-effect transistors (nMOSFETs), each presenting an on-resistance modeled as a constant $r$ during the output falling transition. The output node drives an external load capacitance $C_L$. Each diffusion node in the pull-down path (the drain of the top transistor at the output node and the three internal series junctions) exhibits a parasitic lumped capacitance $c$ to ground due to source/drain junction and wiring parasitics. Neglect Miller coupling and gate capacitances, and assume the input step switches the stack instantaneously so that the network may be treated as a linear resistor–capacitor (RC) tree discharging the output.\n\nUsing the Elmore delay approximation for RC trees, model the output falling delay of:\n- a four-stack nMOS pull-down path, and\n- a single nMOS transistor of the same on-resistance $r$ driving the same load $C_L$ and having the same drain diffusion capacitance $c$ at the output node,\n\nboth referenced to the output node as the sink, with the source of the RC tree at ground at the bottom of the conducting path. Compute the delay penalty defined as the ratio of the Elmore delay of the four-stack path to that of the single-transistor path. Express your final answer as a single closed-form analytic expression in terms of $c$ and $C_L$. No rounding is required, and the answer is dimensionless (no units).",
            "solution": "The Elmore delay $\\tau_i$ at a specific node $i$ in an RC tree is defined as the sum over all capacitances in the tree of the product of the capacitance value and the resistance of the portion of the path from the source (ground) to node $i$ that is shared with the path from the source to that capacitance. Mathematically, this is expressed as:\n$$\n\\tau_i = \\sum_{k} R_{ki} C_k\n$$\nwhere $C_k$ is the capacitance at node $k$ and $R_{ki}$ is the resistance of the common path shared between the source-to-node-$i$ path and the source-to-node-$k$ path. The source of the RC tree is at ground potential.\n\nFirst, we model the single nMOS transistor path.\nLet the output node be designated as node $1$. The transistor's on-resistance $r$ connects this node to ground. The problem states that the output node has a drain diffusion capacitance $c$ and drives an external load $C_L$. Therefore, the total capacitance at node $1$ is $C_1 = C_L + c$.\nThe RC model consists of a single resistor $r$ connected between node $1$ and ground, and a single capacitor $C_1$ connected between node $1$ and ground.\nThe Elmore delay at the output (node $1$), denoted $\\tau_{D1}$, is calculated as follows. The summation has only one term for $k=1$. The path from the source (ground) to node $1$ is through the resistor $r$. The path from the source to the capacitor at node $1$ is also through the resistor $r$. The shared path resistance $R_{11}$ is thus the entire path resistance from the source to node $1$, which is $r$.\n$$\n\\tau_{D1} = R_{11} C_1 = r (C_L + c)\n$$\n\nSecond, we model the four-stack nMOS pull-down path.\nThis path can be modeled as a linear RC ladder. Let's number the nodes from the ground connection upwards.\n- Node $0$: Ground (source).\n- Node $1$: The internal node above the first (bottom) transistor.\n- Node $2$: The internal node above the second transistor.\n- Node $3$: The internal node above the third transistor.\n- Node $4$: The output node, which is the drain of the fourth (top) transistor.\n\nEach transistor contributes a series resistance of $r$. The resistances are connected as follows:\n- A resistor $r$ between node $1$ and node $0$.\n- A resistor $r$ between node $2$ and node $1$.\n- A resistor $r$ between node $3$ and node $2$.\n- A resistor $r$ between node $4$ and node $3$.\n\nThe problem states that each of the three internal junctions and the output node has a parasitic capacitance $c$. The output node also drives the load $C_L$. Thus, the capacitances are:\n- $C_1 = c$ at node $1$.\n- $C_2 = c$ at node $2$.\n- $C_3 = c$ at node $3$.\n- $C_4 = C_L + c$ at node $4$.\n\nWe need to calculate the Elmore delay at the output, which is node $4$, denoted $\\tau_{D4}$.\n$$\n\\tau_{D4} = \\sum_{k=1}^{4} R_{k4} C_k = R_{14} C_1 + R_{24} C_2 + R_{34} C_3 + R_{44} C_4\n$$\nThe term $R_{k4}$ is the resistance of the path from the source (ground) to node $k$, as this is the path segment shared with the path from the source to node $4$ in this series topology.\n- The resistance of the path from the source to node $1$ is $R_{14} = r$.\n- The resistance of the path from the source to node $2$ is $R_{24} = r + r = 2r$.\n- The resistance of the path from the source to node $3$ is $R_{34} = r + r + r = 3r$.\n- The resistance of the path from the source to node $4$ is $R_{44} = r + r + r + r = 4r$.\n\nSubstituting these resistances and the capacitance values into the Elmore delay formula:\n$$\n\\tau_{D4} = (r)(c) + (2r)(c) + (3r)(c) + (4r)(C_L + c)\n$$\nWe can factor out $r$ and simplify the expression:\n$$\n\\tau_{D4} = rc + 2rc + 3rc + 4rC_L + 4rc\n$$\n$$\n\\tau_{D4} = (1 + 2 + 3 + 4)rc + 4rC_L\n$$\n$$\n\\tau_{D4} = 10rc + 4rC_L = r(10c + 4C_L)\n$$\n\nFinally, we compute the delay penalty, which is the ratio of the four-stack delay to the single-transistor delay.\n$$\n\\text{Delay Penalty} = \\frac{\\tau_{D4}}{\\tau_{D1}} = \\frac{r(10c + 4C_L)}{r(C_L + c)}\n$$\nThe resistance term $r$ cancels out, leaving the final expression in terms of $c$ and $C_L$:\n$$\n\\text{Delay Penalty} = \\frac{10c + 4C_L}{c + C_L}\n$$\nThis expression can also be written as:\n$$\n\\frac{4(c + C_L) + 6c}{c + C_L} = 4 + \\frac{6c}{c + C_L}\n$$\nThe requested form is a single closed-form analytic expression, for which the fractional form is most direct.",
            "answer": "$$\n\\boxed{\\frac{10c + 4C_L}{c + C_L}}\n$$"
        }
    ]
}