{
    "hands_on_practices": [
        {
            "introduction": "Understanding the ideal MOS capacitor is the first step, but real-world devices always contain non-idealities that significantly alter their behavior. This first practice focuses on one of the most common of these: fixed charge trapped at the oxide-semiconductor interface. By applying Gauss's law from first principles, you will determine how this interface charge, $Q_{ox}$, shifts the flatband voltage ($V_{FB}$), a foundational parameter for device operation . This exercise provides direct insight into how process-related imperfections translate into measurable electrical characteristics.",
            "id": "4283787",
            "problem": "A planar metal–oxide–semiconductor (MOS) capacitor consists of a metal gate, a silicon dioxide oxide of thickness $t_{ox}$, and a crystalline silicon substrate. The oxide occupies $0  x  t_{ox}$, with the metal at $x  0$ and the semiconductor at $x  t_{ox}$. Let the $x$-axis point from the metal, through the oxide, into the semiconductor. At the oxide–semiconductor interface at $x = t_{ox}$, there exists a fixed interfacial sheet charge density $Q_{ox}$ (in $\\mathrm{C/m^{2}}$), defined as positive for a sheet of positive charge. The gate-to-bulk voltage is defined as $V_{GB} = V_{G} - V_{B}$, and the electrostatic potential drop across the oxide is $V_{ox} = V(0) - V(t_{ox})$, with the electric field related by $E_{x} = -\\mathrm{d}V/\\mathrm{d}x$ in the oxide. Under flatband, the semiconductor bands are unbent, implying zero space charge in the semiconductor and a vanishing electric field just inside the semiconductor at $x = t_{ox}^{+}$.\n\nStarting from Gauss’s law and the electrostatic boundary condition at a dielectric interface with an interfacial sheet charge, derive from first principles the contribution $\\Delta V_{FB}$ of the interfacial charge $Q_{ox}$ to the flatband voltage. Clearly state the sign of $\\Delta V_{FB}$ for $Q_{ox}  0$ under the stated conventions, and explain the physical reason for this sign.\n\nThen evaluate the derived expression numerically for $Q_{ox} = +3.20 \\times 10^{-4}\\,\\mathrm{C/m^{2}}$, $t_{ox} = 5.00\\,\\mathrm{nm}$, and $\\varepsilon_{ox} = 3.9\\,\\varepsilon_{0}$, with $\\varepsilon_{0} = 8.854\\,187\\,8128 \\times 10^{-12}\\,\\mathrm{F/m}$. Ignore any other charges or dipoles and any metal–semiconductor work-function difference not associated with $Q_{ox}$; report only the contribution due to $Q_{ox}$. Round your answer to four significant figures and express the final voltage in volts (V).",
            "solution": "The problem statement is critically validated and is determined to be **valid**. It is scientifically grounded in the principles of solid-state device physics and electrostatics, well-posed, objective, and self-contained with consistent physical parameters. Therefore, a solution will be derived.\n\nThe objective is to find the contribution, $\\Delta V_{FB}$, of a fixed interfacial sheet charge density, $Q_{ox}$, to the flatband voltage of an MOS capacitor. We start from first principles, specifically Gauss's law and electrostatic boundary conditions.\n\nThe structure is a metal gate at $x  0$, an oxide of thickness $t_{ox}$ for $0  x  t_{ox}$, and a semiconductor for $x  t_{ox}$. The fixed charge $Q_{ox}$ is located at the oxide-semiconductor interface, $x = t_{ox}$.\n\nFirst, we consider the electric field within the oxide layer. Assuming the oxide is a perfect insulator with no trapped volume charge, Gauss's law in one dimension states that the divergence of the electric displacement field $\\mathbf{D}$ is zero:\n$$ \\frac{\\mathrm{d}D_x}{\\mathrm{d}x} = 0 $$\nThis implies that the displacement field $D_x$ is constant throughout the oxide, for $0  x  t_{ox}$. Since $D_x = \\varepsilon_{ox} E_x$, where $\\varepsilon_{ox}$ is the permittivity of the oxide, the electric field $E_x$ must also be constant within the oxide. Let us denote this constant field as $E_{ox}$.\n\nNext, we apply the electrostatic boundary condition at the interface $x = t_{ox}$, which contains the fixed sheet charge density $Q_{ox}$. The boundary condition states that the discontinuity in the normal component of the electric displacement field across the interface is equal to the surface charge density. Taking the normal vector to point from the oxide into the semiconductor (the $+x$ direction), the condition is:\n$$ D_x(t_{ox}^{+}) - D_x(t_{ox}^{-}) = Q_{ox} $$\nHere, $D_x(t_{ox}^{+})$ is the displacement field just inside the semiconductor, and $D_x(t_{ox}^{-})$ is the displacement field just inside the oxide.\nWe can write this in terms of electric fields:\n$$ \\varepsilon_{s} E_x(t_{ox}^{+}) - \\varepsilon_{ox} E_x(t_{ox}^{-}) = Q_{ox} $$\nwhere $\\varepsilon_{s}$ is the permittivity of the semiconductor.\n\nThe problem specifies the flatband condition. By definition, at flatband, the semiconductor energy bands are not bent, which implies there is no space-charge region in the semiconductor. Consequently, the electric field just inside the semiconductor must be zero:\n$$ E_x(t_{ox}^{+}) = 0 $$\nSubstituting this into the boundary condition gives:\n$$ \\varepsilon_{s} (0) - \\varepsilon_{ox} E_x(t_{ox}^{-}) = Q_{ox} $$\nSince the electric field is constant in the oxide, $E_x(t_{ox}^{-}) = E_{ox}$. Therefore:\n$$ - \\varepsilon_{ox} E_{ox} = Q_{ox} $$\nSolving for the electric field in the oxide, we get:\n$$ E_{ox} = -\\frac{Q_{ox}}{\\varepsilon_{ox}} $$\n\nThe potential drop across the oxide, $V_{ox}$, is defined as $V_{ox} = V(0) - V(t_{ox})$. Using the relation $E_x = -\\mathrm{d}V/\\mathrm{d}x$, we can find $V_{ox}$ by integrating the electric field from the gate electrode at $x=0$ to the interface at $x=t_{ox}$:\n$$ V_{ox} = V(0) - V(t_{ox}) = - \\int_{t_{ox}}^{0} E_x \\, \\mathrm{d}x = \\int_{0}^{t_{ox}} E_x \\, \\mathrm{d}x $$\nSince $E_x = E_{ox}$ is constant in the oxide:\n$$ V_{ox} = E_{ox} \\int_{0}^{t_{ox}} \\mathrm{d}x = E_{ox} \\cdot t_{ox} $$\nSubstituting our expression for $E_{ox}$:\n$$ V_{ox} = \\left( -\\frac{Q_{ox}}{\\varepsilon_{ox}} \\right) t_{ox} = -\\frac{Q_{ox} t_{ox}}{\\varepsilon_{ox}} $$\n\nThe flatband voltage, $V_{FB}$, is the gate-to-bulk voltage $V_{GB}$ required to achieve the flatband condition. In general, $V_{GB} = V_{ox} + \\psi_s + \\Phi_{ms}$, where $\\psi_s$ is the surface potential (band bending in the semiconductor) and $\\Phi_{ms}$ is the metal-semiconductor work function difference. The problem asks for the contribution to $V_{FB}$ from $Q_{ox}$ only, effectively setting $\\Phi_{ms}=0$. At flatband, $\\psi_s=0$ by definition. Therefore, the flatband voltage contribution from $Q_{ox}$ is equal to the oxide voltage drop under these conditions:\n$$ \\Delta V_{FB} = V_{ox} = -\\frac{Q_{ox} t_{ox}}{\\varepsilon_{ox}} $$\nThis is the derived analytical expression for the contribution of interfacial charge to the flatband voltage.\n\nFor the second part, we analyze the sign of $\\Delta V_{FB}$ for a positive interfacial charge, $Q_{ox}  0$. From the formula $\\Delta V_{FB} = -Q_{ox} t_{ox} / \\varepsilon_{ox}$, since $t_{ox}$ and $\\varepsilon_{ox}$ are positive physical quantities, if $Q_{ox}  0$, then $\\Delta V_{FB}$ will be negative.\nThe physical reason is as follows: A positive fixed charge $Q_{ox}$ at the oxide-semiconductor interface will exert an electrostatic force that repels mobile positive charges (holes) and attracts mobile negative charges (electrons) in the semiconductor. This causes the semiconductor energy bands to bend downwards near the interface. To restore the flatband condition (i.e., to make the bands flat), one must apply an external gate voltage that counteracts this effect. A negative voltage applied to the gate, $V_G  0$, places negative charge on the metal gate plate. This creates an electric field in the oxide that opposes the field generated by $Q_{ox}$. This opposing field acts to restore the flat band condition in the semiconductor. Since a negative gate voltage is required to cancel the effect of the positive charge $Q_{ox}$, the contribution to the flatband voltage, $\\Delta V_{FB}$, is negative.\n\nFinally, we evaluate the expression numerically. The given values are:\n$Q_{ox} = +3.20 \\times 10^{-4}\\,\\mathrm{C/m^{2}}$\n$t_{ox} = 5.00\\,\\mathrm{nm} = 5.00 \\times 10^{-9}\\,\\mathrm{m}$\n$\\varepsilon_{ox} = 3.9\\,\\varepsilon_{0}$, with $\\varepsilon_{0} = 8.854\\,187\\,8128 \\times 10^{-12}\\,\\mathrm{F/m}$.\n\nFirst, we calculate the permittivity of the oxide:\n$$ \\varepsilon_{ox} = 3.9 \\times (8.854\\,187\\,8128 \\times 10^{-12}\\,\\mathrm{F/m}) \\approx 3.453133 \\times 10^{-11}\\,\\mathrm{F/m} $$\nNow, we substitute the values into the derived formula for $\\Delta V_{FB}$:\n$$ \\Delta V_{FB} = -\\frac{Q_{ox} t_{ox}}{\\varepsilon_{ox}} = -\\frac{(3.20 \\times 10^{-4}\\,\\mathrm{C/m^{2}}) \\times (5.00 \\times 10^{-9}\\,\\mathrm{m})}{3.9 \\times (8.854\\,187\\,8128 \\times 10^{-12}\\,\\mathrm{F/m})} $$\n$$ \\Delta V_{FB} = -\\frac{1.60 \\times 10^{-12}\\,\\mathrm{C/m}}{3.453133 \\times 10^{-11}\\,\\mathrm{F/m}} $$\nThe units are $(\\mathrm{C/m}) / (\\mathrm{F/m}) = \\mathrm{C/F} = \\mathrm{V}$, as expected.\n$$ \\Delta V_{FB} \\approx -0.0463346\\,\\mathrm{V} $$\nRounding the result to four significant figures as requested:\n$$ \\Delta V_{FB} = -0.04633\\,\\mathrm{V} $$",
            "answer": "$$\n\\boxed{-0.04633}\n$$"
        },
        {
            "introduction": "The formation of an inversion layer is the physical mechanism that enables the MOS transistor. This practice delves into the strong inversion regime, where the device channel is fully formed. Using the powerful charge-sheet approximation and the concept of surface potential pinning, you will derive the fundamental relationship between the inversion charge density, $Q_{inv}$, and the gate voltage applied beyond the threshold . This model is the cornerstone of MOSFET theory, directly linking the capacitor's electrostatics to the charge that will carry current in a transistor.",
            "id": "4283718",
            "problem": "A Metal–Oxide–Semiconductor (MOS) capacitor consisting of a metal gate, a silicon dioxide gate dielectric, and a uniformly doped p-type silicon substrate is biased in the quasi-static regime. Assume one-dimensional electrostatics normal to the interface, negligible generation-recombination transients, and negligible gate leakage. Let the oxide thickness be $t_{ox}$ and the oxide permittivity be $\\varepsilon_{ox}$, so the oxide capacitance per unit area is $C_{ox} = \\varepsilon_{ox}/t_{ox}$. The semiconductor permittivity is $\\varepsilon_{s}$. Let the metal–semiconductor flatband voltage be $V_{FB}$, the surface potential at inversion onset be $2\\phi_{F}$, where $\\phi_{F} = (k_{B}T/q)\\ln(N_{A}/n_{i})$, and define the threshold voltage $V_{th}$ as the gate voltage at which the surface potential satisfies $\\psi_{s}=2\\phi_{F}$ and the inversion charge is negligible compared to the depletion charge. The gate voltage is $V_{G}$ and the overdrive is $V_{ov} = V_{G} - V_{th}$.\n\nStarting from Gauss’s law in the oxide, Poisson’s equation in the semiconductor, and the charge-sheet approximation that treats the inversion layer as a sheet of charge located at the semiconductor surface when $V_{G}V_{th}$, derive a closed-form analytic expression for the inversion charge density per unit area $Q_{inv}(V_{G})$ for $V_{G}V_{th}$. In your derivation, use the constraints that for strong inversion the surface potential is approximately pinned near $2\\phi_{F}$ and that incremental increases in $V_{G}$ above $V_{th}$ primarily drop across the oxide. Clarify the physical role of the overdrive $V_{ov}$ in setting the inversion charge under these approximations.\n\nExpress your final result as a single symbolic analytic expression for $Q_{inv}(V_{G})$ in Coulombs per square meter, with variables written in terms of $C_{ox}$ and $V_{ov}$. Do not include units inside the final boxed answer. No rounding is required.",
            "solution": "The problem statement is a standard, well-posed problem in the field of semiconductor device physics, resting on established principles and models. It is scientifically grounded, objective, and contains sufficient information for a unique, closed-form solution under the specified approximations. Therefore, the problem is valid, and a solution will be derived.\n\nThe analysis begins with the fundamental voltage balance equation for a Metal-Oxide-Semiconductor (MOS) capacitor. The total gate voltage, $V_G$, applied between the metal gate and the grounded p-type silicon substrate, is partitioned across the device structure. This can be expressed as the sum of the flatband voltage, $V_{FB}$, the voltage drop across the oxide layer, $V_{ox}$, and the potential drop within the semiconductor, which at the surface is the surface potential, $\\psi_s$.\n$$V_G = V_{FB} + \\psi_s + V_{ox}$$\nThe flatband voltage, $V_{FB}$, accounts for the work function difference between the metal and the semiconductor and any fixed charges in the oxide or at the oxide-semiconductor interface.\n\nAccording to Gauss's law, the electric field in the oxide, $E_{ox}$, is related to the total charge per unit area in the semiconductor, $Q_s$, by the relation $E_{ox} = -Q_s / \\varepsilon_{ox}$, where $\\varepsilon_{ox}$ is the permittivity of the oxide. The negative sign indicates that a positive semiconductor charge induces an electric field pointing from the semiconductor towards the gate. The voltage drop across the oxide, $V_{ox}$, is the product of the electric field and the oxide thickness, $t_{ox}$, assuming a uniform field:\n$$V_{ox} = E_{ox} t_{ox} = -\\frac{Q_s t_{ox}}{\\varepsilon_{ox}}$$\nUsing the definition of the oxide capacitance per unit area, $C_{ox} = \\varepsilon_{ox}/t_{ox}$, the oxide voltage can be written as:\n$$V_{ox} = -\\frac{Q_s}{C_{ox}}$$\nSubstituting this expression for $V_{ox}$ into the main voltage balance equation yields:\n$$V_G = V_{FB} + \\psi_s - \\frac{Q_s}{C_{ox}}$$\nThe total charge in the semiconductor, $Q_s$, is the sum of the charge from mobile carriers in the inversion layer, $Q_{inv}$, and the charge from the fixed, ionized acceptor atoms in the depletion region, $Q_{dep}$. For a p-type substrate, the inversion layer consists of electrons (negative charge), and the depletion region consists of ionized acceptors, $N_A^-$, which are also negative. Thus, both $Q_{inv}$ and $Q_{dep}$ are negative quantities.\n$$Q_s = Q_{inv} + Q_{dep}$$\nThe complete voltage balance equation is therefore:\n$$V_G = V_{FB} + \\psi_s - \\frac{Q_{inv} + Q_{dep}}{C_{ox}}$$\nWe first analyze this equation at the threshold of strong inversion, where the gate voltage is the threshold voltage, $V_G = V_{th}$. By definition, at this point, the surface potential is $\\psi_s = 2\\phi_F$, and the inversion charge is considered negligible, $Q_{inv} \\approx 0$. Let the depletion charge at this specific bias point be denoted as $Q_{dep,th}$. The voltage equation becomes:\n$$V_{th} = V_{FB} + 2\\phi_F - \\frac{Q_{dep,th}}{C_{ox}}$$\nThis equation serves as the definition of the threshold voltage under this model.\n\nNext, we analyze the device in the strong inversion regime, where $V_G  V_{th}$. The problem states we must use two critical approximations for this regime:\n1.  **Charge-sheet approximation:** The inversion layer is treated as an infinitesimally thin sheet of charge, $Q_{inv}$, located at the Si-SiO$_2$ interface.\n2.  **Surface potential pinning:** The surface potential, $\\psi_s$, is assumed to saturate or \"pin\" at a value very close to its value at threshold. That is, for $V_G  V_{th}$, we assume $\\psi_s \\approx 2\\phi_F$.\n\nThe physical basis for surface potential pinning is that once a strong inversion layer is formed, any further increase in gate voltage is highly effectively screened by the mobile electrons. These electrons form a conductive layer that pins the semiconductor surface potential, causing the additional voltage to drop almost entirely across the oxide.\n\nUnder this pinning approximation, the depletion region width ceases to grow significantly with increasing $V_G  V_{th}$. Consequently, the depletion charge also remains approximately constant at its value at threshold: $Q_{dep} \\approx Q_{dep,th}$.\n\nApplying these strong inversion approximations to the general voltage balance equation gives:\n$$V_G \\approx V_{FB} + 2\\phi_F - \\frac{Q_{inv} + Q_{dep,th}}{C_{ox}} \\quad (\\text{for } V_G  V_{th})$$\nWe now have two equations: one for $V_{th}$ and one for $V_G$ in strong inversion. To find an expression for $Q_{inv}$, we subtract the equation for $V_{th}$ from the equation for $V_G$:\n$$V_G - V_{th} \\approx \\left( V_{FB} + 2\\phi_F - \\frac{Q_{inv} + Q_{dep,th}}{C_{ox}} \\right) - \\left( V_{FB} + 2\\phi_F - \\frac{Q_{dep,th}}{C_{ox}} \\right)$$\nThe terms $V_{FB}$, $2\\phi_F$, and $Q_{dep,th}/C_{ox}$ cancel out, leaving a remarkably simple relationship:\n$$V_G - V_{th} \\approx -\\frac{Q_{inv}}{C_{ox}}$$\nSolving for the inversion charge density, $Q_{inv}$:\n$$Q_{inv} \\approx -C_{ox}(V_G - V_{th})$$\nUsing the definition of the overdrive voltage, $V_{ov} = V_G - V_{th}$, the final expression is:\n$$Q_{inv}(V_G) = -C_{ox}V_{ov}$$\nThis expression is valid for $V_G  V_{th}$ (or $V_{ov}  0$). The negative sign confirms that the inversion charge is composed of electrons, as expected for a p-type substrate.\n\nThe physical role of the overdrive voltage, $V_{ov}$, is now clear from the derivation. The total gate voltage $V_G$ can be conceptually split into two parts. The first part, equal to the threshold voltage $V_{th}$, is the voltage required to overcome the flatband condition, bend the bands by $2\\phi_F$, and establish the threshold depletion charge. The second part, the overdrive voltage $V_{ov}$, is the \"excess\" voltage beyond the threshold condition. This excess voltage drops almost entirely across the gate oxide and is directly responsible for inducing the mobile inversion charge $Q_{inv}$. The relationship $V_{ov} \\approx -Q_{inv}/C_{ox}$ shows that the overdrive voltage and the inversion charge form a parallel-plate capacitor relationship with the oxide capacitance $C_{ox}$, justifying the initial assumption that incremental voltage above $V_{th}$ primarily drops across the oxide. The overdrive voltage is thus the direct control parameter for the channel charge density in a MOSFET operating in strong inversion.",
            "answer": "$$\n\\boxed{-C_{ox}V_{ov}}\n$$"
        },
        {
            "introduction": "Analytical models in device physics rely on clever approximations to avoid the full complexity of the underlying equations. A critical skill for an engineer or scientist is to understand the validity and limitations of these approximations. This hands-on computational exercise asks you to quantify the error introduced by the widely used depletion approximation by comparing its prediction for semiconductor charge against the 'exact' Poisson-Boltzmann solution . By implementing both models, you will gain a practical, quantitative understanding of the approximation's accuracy across different biasing conditions.",
            "id": "4283730",
            "problem": "A Metal–Oxide–Semiconductor (MOS) capacitor on $p$-type silicon is biased such that the semiconductor surface has electrostatic potential $\\psi_s$ relative to the deep bulk. Let $x$ denote depth into the semiconductor with $x=0$ at the interface, $\\psi(x)$ the electrostatic potential, $E(x)$ the electric field, and $\\rho(x)$ the space-charge density. The fundamental base consists of the one-dimensional Poisson’s equation $d^2 \\psi / dx^2 = - \\rho(x)/\\varepsilon_s$ and nondegenerate Maxwell–Boltzmann carrier statistics $p(x) = p_0 \\exp(-\\psi(x)/V_T)$ and $n(x) = n_0 \\exp(\\psi(x)/V_T)$, where $p_0$ and $n_0$ are the equilibrium hole and electron densities in the deep bulk, $V_T = k_B T / q$ is the thermal voltage, $\\varepsilon_s$ is the semiconductor permittivity, $q$ is the elementary charge, $k_B$ is the Boltzmann constant, and $T$ is the absolute temperature. Assume fully ionized acceptors of concentration $N_A$ so that charge neutrality in the deep bulk satisfies $p_0 - n_0 - N_A = 0$. The total semiconductor surface charge per unit area $Q_s$ is related to the surface electric field $E_s = E(x=0)$ by $Q_s = - \\varepsilon_s E_s$.\n\nThe depletion approximation replaces the true mobile carrier profiles by a region of width $W_d$ containing a uniform fixed charge density $-q N_A$ and vanishing mobile charge, joined to a neutral region. The resulting electrostatics imply $E_s = q N_A W_d / \\varepsilon_s$ and $\\psi_s = (q N_A / (2 \\varepsilon_s)) W_d^2$ with $W_d  0$. In contrast, the exact Poisson–Boltzmann equation (PBE) retains the mobile carriers and requires consistency with the boundary condition $\\psi(0) = \\psi_s$ and $\\psi(x) \\to 0$ as $x \\to \\infty$.\n\nTask: For each specified test case, compute the dimensionless relative error $\\delta$ introduced by the depletion approximation in predicting the magnitude of the semiconductor surface charge per unit area, defined by $\\delta = \\lvert Q_s^{\\mathrm{dep}} - Q_s^{\\mathrm{exact}} \\rvert / \\lvert Q_s^{\\mathrm{exact}} \\rvert$, where $Q_s^{\\mathrm{dep}}$ is the depletion approximation prediction and $Q_s^{\\mathrm{exact}}$ is the prediction obtained from the exact Poisson–Boltzmann solution. Treat the semiconductor as nondegenerate and use the deep-bulk neutrality relation to determine $(p_0, n_0)$ at temperature $T$. Express the final outputs as decimal fractions (no percentage sign).\n\nConstants to use (all in the International System of Units): $q = 1.602176634 \\times 10^{-19}\\,\\mathrm{C}$, $k_B = 1.380649 \\times 10^{-23}\\,\\mathrm{J/K}$, $T = 300\\,\\mathrm{K}$, $\\varepsilon_0 = 8.854187817 \\times 10^{-12}\\,\\mathrm{F/m}$, $\\varepsilon_r(\\mathrm{Si}) = 11.7$, hence $\\varepsilon_s = \\varepsilon_r \\varepsilon_0$, and intrinsic carrier concentration in silicon $n_i = 1.0 \\times 10^{10}\\,\\mathrm{cm}^{-3}$ (convert to $\\mathrm{m}^{-3}$ inside the program). The acceptor concentration $N_A$ provided in the test suite is in $\\mathrm{cm}^{-3}$ and must be converted to $\\mathrm{m}^{-3}$ inside the program. The surface potential $\\psi_s$ is in $\\mathrm{V}$.\n\nTest suite parameter sets $(N_A, \\psi_s)$:\n- Case $1$: $N_A = 1.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}$, $\\psi_s = 0.05\\,\\mathrm{V}$.\n- Case $2$: $N_A = 1.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}$, $\\psi_s = 0.35\\,\\mathrm{V}$.\n- Case $3$: $N_A = 5.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}$, $\\psi_s = 0.40\\,\\mathrm{V}$.\n- Case $4$: $N_A = 1.0 \\times 10^{17}\\,\\mathrm{cm}^{-3}$, $\\psi_s = 0.60\\,\\mathrm{V}$.\n- Case $5$ (edge toward inversion onset): $N_A = 1.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}$, $\\psi_s = 0.70\\,\\mathrm{V}$.\n\nFinal output format: Your program should produce a single line of output containing the results as a comma-separated list of the five $\\delta$ values in the order of the cases above, each rounded to six decimal places, enclosed in square brackets, for example, $[\\delta_1,\\delta_2,\\delta_3,\\delta_4,\\delta_5]$.",
            "solution": "The user-provided problem has been analyzed and is deemed **valid**. It is scientifically grounded in the principles of semiconductor device physics, well-posed with a unique and meaningful solution, objective, and contains all necessary information for a complete solution.\n\nThe objective is to compute the dimensionless relative error, $\\delta$, of the semiconductor surface charge magnitude as predicted by the depletion approximation ($|Q_s^{\\mathrm{dep}}|$) compared to the exact Poisson-Boltzmann solution ($|Q_s^{\\mathrm{exact}}|$). The error is defined as $\\delta = \\lvert Q_s^{\\mathrm{dep}} - Q_s^{\\mathrm{exact}} \\rvert / \\lvert Q_s^{\\mathrm{exact}} \\rvert$, which can be rewritten as $\\delta = \\left| |Q_s^{\\mathrm{dep}}| / |Q_s^{\\mathrm{exact}}| - 1 \\right|$, since for the specified conditions of a $p$-type substrate and positive surface potential ($\\psi_s  0$), both $Q_s^{\\mathrm{dep}}$ and $Q_s^{\\mathrm{exact}}$ are negative.\n\nThe solution proceeds in four steps:\n1.  Determination of bulk equilibrium carrier concentrations ($p_0$, $n_0$).\n2.  Derivation of the surface charge magnitude in the depletion approximation, $|Q_s^{\\mathrm{dep}}|$.\n3.  Derivation of the surface charge magnitude from the exact Poisson-Boltzmann solution, $|Q_s^{\\mathrm{exact}}|$.\n4.  Formulation of the expression for $\\delta$ and its numerical evaluation.\n\nAll calculations will be performed using SI units.\n\n**Step 1: Bulk Carrier Concentrations**\n\nThe semiconductor is in thermal equilibrium in the deep bulk ($x \\to \\infty$), where the potential $\\psi$ is zero. The equilibrium hole ($p_0$) and electron ($n_0$) concentrations are governed by two relations:\n1.  The law of mass action: $p_0 n_0 = n_i^2$, where $n_i$ is the intrinsic carrier concentration.\n2.  Charge neutrality: The total charge density is zero. For a $p$-type semiconductor with fully ionized acceptor concentration $N_A$, this implies $p_0 - n_0 - N_A = 0$.\n\nSubstituting $n_0 = n_i^2 / p_0$ into the neutrality condition yields a quadratic equation for $p_0$:\n$$p_0 - \\frac{n_i^2}{p_0} - N_A = 0 \\implies p_0^2 - N_A p_0 - n_i^2 = 0$$\nSolving for $p_0$ and selecting the physically meaningful positive root gives:\n$$p_0 = \\frac{N_A + \\sqrt{N_A^2 + 4n_i^2}}{2}$$\nThe equilibrium electron concentration is then found from $n_0 = n_i^2 / p_0$. These calculations must be performed for each given $N_A$.\n\n**Step 2: Depletion Approximation Surface Charge ($|Q_s^{\\mathrm{dep}}|$)**\n\nThe depletion approximation assumes that for $0 \\le x \\le W_d$, the space charge density is uniform and consists only of ionized acceptors, $\\rho(x) = -qN_A$. For $x  W_d$, the semiconductor is assumed to be neutral. Integrating the corresponding Poisson's equation, $d^2\\psi/dx^2 = qN_A/\\varepsilon_s$, twice with boundary conditions $\\psi(0) = \\psi_s$ and $\\psi(W_d) = 0$ (also $E(W_d)=0$), yields the relation between surface potential and depletion width $W_d$:\n$$\\psi_s = \\frac{qN_A}{2\\varepsilon_s} W_d^2$$\nThe surface electric field is $E_s = qN_A W_d / \\varepsilon_s$. The semiconductor surface charge per unit area, $Q_s$, is given by $Q_s = -\\varepsilon_s E_s$. Thus, in the depletion approximation:\n$$Q_s^{\\mathrm{dep}} = -qN_A W_d$$\nBy eliminating $W_d = \\sqrt{2\\varepsilon_s\\psi_s / (qN_A)}$, we obtain the expression for $Q_s^{\\mathrm{dep}}$ directly in terms of $\\psi_s$:\n$$Q_s^{\\mathrm{dep}} = -qN_A \\sqrt{\\frac{2\\varepsilon_s\\psi_s}{qN_A}} = -\\sqrt{2qN_A\\varepsilon_s\\psi_s}$$\nThe magnitude is therefore:\n$$|Q_s^{\\mathrm{dep}}| = \\sqrt{2qN_A\\varepsilon_s\\psi_s}$$\n\n**Step 3: Exact Poisson-Boltzmann Surface Charge ($|Q_s^{\\mathrm{exact}}|$)**\n\nThe exact solution starts with the one-dimensional Poisson's equation:\n$$\\frac{d^2\\psi}{dx^2} = -\\frac{\\rho(x)}{\\varepsilon_s}$$\nwhere the space charge density $\\rho(\\psi)$ includes mobile carriers:\n$$\\rho(\\psi) = q(p(x) - n(x) - N_A) = q(p_0 e^{-\\psi(x)/V_T} - n_0 e^{\\psi(x)/V_T} - N_A)$$\nHere, $V_T = k_BT/q$ is the thermal voltage. The surface electric field $E_s = E(0) = -d\\psi/dx|_{x=0}$ can be found by integrating Poisson's equation. Using the identity $d(E^2)/d\\psi = -2\\rho(\\psi)/\\varepsilon_s$ and integrating from the bulk ($\\psi=0, E=0$) to the surface ($\\psi=\\psi_s, E=E_s$), we get:\n$$E_s^2 = -\\frac{2}{\\varepsilon_s} \\int_0^{\\psi_s} \\rho(\\psi) d\\psi = -\\frac{2q}{\\varepsilon_s} \\int_0^{\\psi_s} (p_0 e^{-\\psi/V_T} - n_0 e^{\\psi/V_T} - N_A) d\\psi$$\nPerforming the integration:\n$$E_s^2 = -\\frac{2q}{\\varepsilon_s} \\left[ -p_0V_T e^{-\\psi/V_T} - n_0V_T e^{\\psi/V_T} - N_A\\psi \\right]_0^{\\psi_s}$$\n$$E_s^2 = -\\frac{2q}{\\varepsilon_s} \\left[ (-p_0V_T e^{-\\psi_s/V_T} - n_0V_T e^{\\psi_s/V_T} - N_A\\psi_s) - (-p_0V_T - n_0V_T) \\right]$$\nRearranging and using the bulk neutrality condition $N_A = p_0 - n_0$:\n$$E_s^2 = \\frac{2qV_T}{\\varepsilon_s} \\left[ p_0(e^{-\\psi_s/V_T} + \\psi_s/V_T - 1) + n_0(e^{\\psi_s/V_T} - \\psi_s/V_T - 1) \\right]$$\nThe surface charge is $Q_s^{\\mathrm{exact}} = -\\varepsilon_s E_s$. Since $\\psi_s  0$ for a $p$-type substrate in depletion/inversion, $E_s  0$ and $Q_s^{\\mathrm{exact}}  0$. The magnitude is:\n$$|Q_s^{\\mathrm{exact}}| = \\varepsilon_s |E_s| = \\sqrt{2qV_T\\varepsilon_s \\left[ p_0\\left(e^{-\\psi_s/V_T} + \\frac{\\psi_s}{V_T} - 1\\right) + n_0\\left(e^{\\psi_s/V_T} - \\frac{\\psi_s}{V_T} - 1\\right) \\right]}$$\n\n**Step 4: Relative Error Calculation**\n\nThe relative error $\\delta$ is calculated using the magnitudes derived above:\n$$\\delta = \\left| \\frac{|Q_s^{\\mathrm{dep}}|}{|Q_s^{\\mathrm{exact}}|} - 1 \\right|$$\nSubstituting the expressions and simplifying by letting $u_s = \\psi_s/V_T$:\n$$|Q_s^{\\mathrm{dep}}|^2 = 2qN_A\\varepsilon_s V_T u_s$$\n$$|Q_s^{\\mathrm{exact}}|^2 = 2qV_T\\varepsilon_s \\left[ p_0(e^{-u_s} + u_s - 1) + n_0(e^{u_s} - u_s - 1) \\right]$$\nThe ratio of the squared magnitudes is:\n$$\\frac{|Q_s^{\\mathrm{dep}}|^2}{|Q_s^{\\mathrm{exact}}|^2} = \\frac{N_A u_s}{p_0(e^{-u_s} + u_s - 1) + n_0(e^{u_s} - u_s - 1)}$$\nFinally, the error $\\delta$ is given by:\n$$\\delta = \\left| \\sqrt{\\frac{N_A u_s}{p_0(e^{-u_s} + u_s - 1) + n_0(e^{u_s} - u_s - 1)}} - 1 \\right|$$\nThis formula is implemented numerically for each test case.\nThe physical constants are: elementary charge $q = 1.602176634 \\times 10^{-19}\\,\\mathrm{C}$, Boltzmann constant $k_B = 1.380649 \\times 10^{-23}\\,\\mathrm{J/K}$, absolute temperature $T = 300\\,\\mathrm{K}$, vacuum permittivity $\\varepsilon_0 = 8.854187817 \\times 10^{-12}\\,\\mathrm{F/m}$, and relative permittivity of silicon $\\varepsilon_r(\\mathrm{Si}) = 11.7$. The intrinsic carrier concentration is $n_i = 1.0 \\times 10^{10}\\,\\mathrm{cm}^{-3} = 1.0 \\times 10^{16}\\,\\mathrm{m}^{-3}$. Acceptor concentration $N_A$ must be converted from $\\mathrm{cm}^{-3}$ to $\\mathrm{m}^{-3}$ by multiplying by $10^6$.",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Calculates the relative error in the semiconductor surface charge magnitude\n    between the depletion approximation and the exact Poisson-Boltzmann solution\n    for a MOS capacitor.\n    \"\"\"\n\n    # --- Constants (SI Units) ---\n    Q = 1.602176634e-19  # Elementary charge (C)\n    K_B = 1.380649e-23     # Boltzmann constant (J/K)\n    T = 300.0              # Temperature (K)\n    EPS_0 = 8.854187817e-12 # Vacuum permittivity (F/m)\n    EPS_R_SI = 11.7        # Relative permittivity of Silicon\n    NI_CM3 = 1.0e10        # Intrinsic carrier concentration in Si (cm^-3)\n\n    # --- Derived Constants ---\n    V_T = K_B * T / Q      # Thermal voltage (V)\n    EPS_S = EPS_R_SI * EPS_0  # Permittivity of Silicon (F/m)\n    NI_M3 = NI_CM3 * 1e6   # Intrinsic carrier concentration in Si (m^-3)\n\n    # --- Test Suite ---\n    # Each case is a tuple (N_A_cm3, psi_s_V)\n    # N_A_cm3: Acceptor concentration in cm^-3\n    # psi_s_V: Surface potential in V\n    test_cases = [\n        (1.0e16, 0.05),\n        (1.0e16, 0.35),\n        (5.0e16, 0.40),\n        (1.0e17, 0.60),\n        (1.0e16, 0.70),\n    ]\n\n    results = []\n    for na_cm3, psi_s in test_cases:\n        # Convert N_A to SI units (m^-3)\n        na_m3 = na_cm3 * 1e6\n\n        # --- Step 1: Calculate bulk carrier concentrations ---\n        # Solve p0^2 - N_A*p0 - ni^2 = 0 for p0\n        p0 = (na_m3 + np.sqrt(na_m3**2 + 4 * NI_M3**2)) / 2.0\n        n0 = NI_M3**2 / p0\n\n        # --- Step 2  3: Formulate terms for charge calculation ---\n        # Normalized surface potential\n        us = psi_s / V_T\n\n        # --- Step 4: Calculate Relative Error delta ---\n        # Numerator term from the squared ratio of charges, corresponding to the\n        # depletion approximation.\n        # |Q_s_dep|^2 / (2*q*V_T*eps_s) = N_A * u_s\n        num_term = na_m3 * us\n\n        # Denominator term from the squared ratio, corresponding to the\n        # exact Poisson-Boltzmann theory.\n        # |Q_s_exact|^2 / (2*q*V_T*eps_s) = p0*(exp(-us)+us-1) + n0*(exp(us)-us-1)\n        den_term = p0 * (np.exp(-us) + us - 1) + n0 * (np.exp(us) - us - 1)\n\n        # The relative error is delta = | |Q_s_dep|/|Q_s_exact| - 1 |\n        # which is | sqrt( |Q_s_dep|^2 / |Q_s_exact|^2 ) - 1 |\n        if den_term = 0:\n            # This case is physically not expected for psi_s  0\n            # Handle potential division by zero or sqrt of negative, although unlikely\n            delta = float('inf')\n        else:\n            ratio_sq = num_term / den_term\n            delta = np.abs(np.sqrt(ratio_sq) - 1)\n\n        # Round to six decimal places as required\n        results.append(round(delta, 6))\n\n    # --- Final Output ---\n    # Format the results as a comma-separated list in square brackets\n    output_str = f\"[{','.join(map(str, results))}]\"\n    print(output_str)\n\nsolve()\n```"
        }
    ]
}