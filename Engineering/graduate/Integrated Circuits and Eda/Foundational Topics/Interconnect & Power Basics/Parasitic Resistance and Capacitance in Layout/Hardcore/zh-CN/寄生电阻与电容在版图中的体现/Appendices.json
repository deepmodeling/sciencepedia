{
    "hands_on_practices": [
        {
            "introduction": "除了电阻，寄生电容是影响电路性能的另一个关键因素，尤其是在高密度布线中，相邻导线间的耦合电容是串扰和时延的主要来源。本练习将引导您剖析两根平行导线之间的耦合电容。您将学习如何结合经典的平行板电容模型和更精确的边缘场模型来构建一个综合的电容计算公式，并量化不同模型在不同几何尺寸下的精度差异，这对于在设计中做出速度与精度的权衡至关重要。",
            "id": "4287763",
            "problem": "在集成电路 (Integrated Circuits) 和电子设计自动化 (Electronic Design Automation, EDA) 领域的片上互连布局背景下，考虑放置在均匀、各向同性的电介质（介电常数为 $\\epsilon$）中的两条无限长、相同的矩形金属导线。这些导线沿 $z$ 轴彼此平行排列，具有垂直高度 $h$（金属厚度），其相对的侧壁由水平间隙 $s$ 分隔。假设每条导线在 $x$ 方向的宽度足够大，以至于外侧非相对侧壁的边缘效应可以忽略不计，并忽略任何邻近接地平面或其他导体的影响。电场为准静态，为了计算耦合，电场可以在横截面 $(x,y)$ 上被视为二维场。\n\n从静电学的基本定义和定律（电容定义 $C = Q/V$、以电通量密度表示的高斯定律 $\\nabla \\cdot \\boldsymbol{D} = \\rho_{f}$（其中在线性电介质中 $\\boldsymbol{D} = \\epsilon \\boldsymbol{E}$）、以及无电荷区域中的拉普拉斯方程 $\\nabla^{2}\\phi = 0$）出发，推导单位长度的耦合电容的解析表达式。该模型应结合以下两部分：\n- 来自相对侧壁的平行板贡献，和\n- 通过基于共形映射方法的二维静电边缘场近似获得的、来自相对侧壁顶边的边缘贡献。\n\n以 $\\mathrm{F/m}$ 为单位表示最终的单位长度电容。\n\n然后，通过确定一个特定的间隙与高度之比 $r^{\\star} = s/h$，来定量评估仅保留平行板项的准确性极限。在该比值下，仅平行板电容的贡献恰好占您组合模型预测的总耦合电容的 $95\\%$。将 $r^{\\star}$ 作为一个纯粹的、无单位的数提供，并四舍五入到四位有效数字。\n\n您的最终答案必须是一个单行矩阵，其中包含：\n- 单位长度总耦合电容的解析表达式，和\n- 四舍五入到四位有效数字的 $r^{\\star}$ 的数值。",
            "solution": "目标是计算两条相邻长导线之间的单位长度耦合电容，记为 $C'$。导线间由间隙 $s$ 分隔，相对侧壁高度为 $h$，并处于介电常数为 $\\epsilon$ 的均匀电介质中。我们将使用静电学原理：电容定义 $C = Q/V$、高斯定律 $\\nabla \\cdot \\boldsymbol{D} = \\rho_{f}$（其中在线性电介质中 $\\boldsymbol{D} = \\epsilon \\boldsymbol{E}$）以及无电荷区域中的 $\\nabla^{2}\\phi = 0$。我们假设问题是准静态的，因此麦克斯韦位移电流可以忽略不计，电场由拉普拉斯方程和导体上的边界条件确定。\n\n我们将 $C'$ 分解为平行板侧壁项 $C'_{\\mathrm{pp}}$ 和来自相对侧壁顶边的边缘项 $C'_{\\mathrm{fr}}$。侧壁贡献通过相对侧壁间的均匀场近似获得；边缘项通过共形映射的二维边缘场分析获得，该分析能捕捉到边缘场特有的对数增长特性。\n\n平行板侧壁项。考虑两个相对的侧壁，每个高度为 $h$，由间隙 $s$ 分隔。如果一根导线相对于另一根（电势为 $0$）的电势为 $V$，则侧壁之间的电场近似均匀，其大小在侧壁正对的区域内为 $E \\approx V/s$。则 $\\boldsymbol{D}$ 的平均法向分量为 $D_{n} \\approx \\epsilon E = \\epsilon V / s$。在相对侧壁上累积的单位长度电荷为 $q' = D_{n} \\times h = \\epsilon V h / s$。根据电容定义 $C'_{\\mathrm{pp}} = q'/V$，我们得到\n$$\nC'_{\\mathrm{pp}} = \\epsilon \\frac{h}{s}.\n$$\n\n边缘场项。相对侧壁的顶边存在二维边缘场，该场增加了超出均匀平行板近似的耦合。这个场可以通过求解 $\\nabla^{2}\\phi = 0$ 来近似，其模型是由两块半无限大导电板形成的二维狭缝，板间间隙为 $s$，并在 $y$ 方向延伸有限高度 $h$。一种标准方法是采用共形映射，将狭缝几何结构变换为平行板几何结构，在后者的结构中电场线是直的且比例因子是已知的。具体来说，将 $z$ 平面中的狭缝映射到 $w$ 平面中的带状区域，会得到一个单位长度的等效电容贡献，该贡献与宽高比呈对数关系，并带有一个由边缘角度场拥挤效应产生的普适系数。对于在均匀电介质中，由间隙为 $s$、延伸高度为 $h$ 的两个对称顶边所引起的增量耦合，其经典结果是\n$$\nC'_{\\mathrm{fr}} = \\frac{2 \\epsilon}{\\pi} \\ln\\!\\left(1 + \\frac{h}{s}\\right).\n$$\n此形式与二维静电学一致：对数反映了平面几何中边缘场的长程衰减，而因子 $2/\\pi$ 源于楔角和共形映射在边缘周围的比例因子。该推导过程维持了导体上恒定电势和电介质中零自由电荷的边界条件，并且在变换回物理坐标后，将边缘法向通量密度对边缘高度进行积分。该近似假设 $w \\gg s, h$，因此外边缘和有限宽度效应可以忽略不计，并且没有邻近的接地平面扭曲边缘场。\n\n单位长度总耦合电容。将两部分贡献相加，\n$$\nC' = C'_{\\mathrm{pp}} + C'_{\\mathrm{fr}} = \\epsilon \\left( \\frac{h}{s} \\right) + \\frac{2 \\epsilon}{\\pi} \\ln\\!\\left(1 + \\frac{h}{s}\\right) = \\epsilon \\left[ \\frac{h}{s} + \\frac{2}{\\pi} \\ln\\!\\left(1 + \\frac{h}{s}\\right) \\right].\n$$\n当 $\\epsilon$ 的单位为 $\\mathrm{F/m}$ 时，该表达式的单位为 $\\mathrm{F/m}$，并且在所述的几何和静电假设下有效。\n\n仅使用平行板近似的准确性极限。我们需要确定当仅保留平行板项 $C'_{\\mathrm{pp}}$ 时，其恰好占组合模型预测的总耦合的 $95\\%$ 所对应的比率 $r^{\\star} = s/h$。我们建立以下比率\n$$\n\\frac{C'_{\\mathrm{pp}}}{C'} = 0.95.\n$$\n代入表达式，\n$$\n\\frac{\\epsilon \\left( \\frac{h}{s} \\right)}{\\epsilon \\left[ \\frac{h}{s} + \\frac{2}{\\pi} \\ln\\!\\left(1 + \\frac{h}{s}\\right) \\right]} = 0.95.\n$$\n令 $x = \\frac{h}{s}$，则 $r = \\frac{s}{h} = \\frac{1}{x}$。方程变为\n$$\n\\frac{x}{x + \\frac{2}{\\pi} \\ln\\!\\left(1 + x\\right)} = 0.95,\n$$\n我们将其重新整理为\n$$\nx = 0.95 \\left[ x + \\frac{2}{\\pi} \\ln\\!\\left(1 + x\\right) \\right] \\quad \\Rightarrow \\quad 0.05 x = 0.95 \\cdot \\frac{2}{\\pi} \\ln\\!\\left(1 + x\\right).\n$$\n因此，\n$$\nx = 19 \\cdot \\frac{2}{\\pi} \\ln\\!\\left(1 + x\\right) = \\left( \\frac{38}{\\pi} \\right) \\ln\\!\\left(1 + x\\right).\n$$\n这是一个超越方程。我们对 $x > 0$ 进行数值求解。定义函数\n$$\ng(x) = x - \\left( \\frac{38}{\\pi} \\right) \\ln\\!\\left(1 + x\\right).\n$$\n我们使用例如牛顿法或二分法来找到根 $g(x^{\\star}) = 0$。注意到 $\\frac{38}{\\pi} \\approx 12.095775675$，我们寻找满足以下条件的 $x$\n$$\nx = 12.095775675 \\, \\ln\\!\\left(1 + x\\right).\n$$\n根据两侧的单调性并通过数值计算，解为\n$$\nx^{\\star} \\approx 46.7662,\n$$\n这给出\n$$\nr^{\\star} = \\frac{s}{h} = \\frac{1}{x^{\\star}} \\approx 0.021382964.\n$$\n将 $r^{\\star}$ 四舍五入到四位有效数字，得到\n$$\nr^{\\star} \\approx 0.02138.\n$$\n\n准确性极限的解释。在 $s/h \\approx 0.02138$ 时，仅平行板侧壁项就占了组合模型预测的总耦合的 $95\\%$。当 $s/h$ 大于此阈值时，边缘效应变得相对不那么显著，仅使用平行板的近似会更准确；当 $s/h$ 小于此阈值时，边缘效应的贡献很大，必须包含在内以保证准确性。该阈值与 $\\epsilon$ 无关，因为它源于同一电介质内电容的比值。\n\n因此，所要求的输出是 $C'$ 的解析表达式和四舍五入到四位有效数字的数值阈值 $r^{\\star}$。",
            "answer": "$$\\boxed{\\begin{pmatrix}\n\\epsilon \\left[ \\frac{h}{s} + \\frac{2}{\\pi} \\ln\\!\\left(1 + \\frac{h}{s}\\right) \\right]  0.02138\n\\end{pmatrix}}$$"
        },
        {
            "introduction": "理解了如何对寄生电阻和电容进行建模后，下一步是分析它们对电路性能的最终影响。本练习将寄生参数与关键的性能指标——时序延迟——直接联系起来。您将通过对比集总参数模型（Lumped Model）和分布式参数模型（Distributed Model）来计算同一段互连线的传播延迟，并推导出两者之间的差异。这项实践将让您深刻理解为何在高速设计中，选择精确的寄生参数模型对于准确的时序分析至关重要。",
            "id": "4287767",
            "problem": "考虑一个互补金属氧化物半导体（CMOS）驱动器，其由戴维南电阻 $R_{s}$ 建模，用于驱动一段长度为 $L$ 的均匀片上互连线。该互连线具有单位长度电阻 $r'$ 和到公共地的单位长度电容 $c'$。一个集总负载电容 $C_{L}$ 位于线路的远端。假设输入为快速阶跃信号，电路工作在线性时不变、纯阻容体系下，电感可忽略不计，这与先进技术节点的片上布线情况相符。这种网络是电子设计自动化（EDA）寄生参数反标中的典型情况。\n\n从单调阻容网络的第一性原理出发——即，节点延迟由其脉冲响应的一阶矩定义，并且该一阶矩可分解为对每个电容器的求和（求和项为从源到该电容器的电阻乘以其电容值）——请在两种不同的寄生参数标注表示法下，推导到远端节点的传播延迟：\n- 情况 (a)：集总表示法，其中整个互连电容 $c' L$ 与 $C_{L}$ 一起集总在远端，而互连电阻 $r' L$ 表示为单个串联电阻。\n- 情况 (b)：分布式表示法，其中互连线被视为由无穷小的串联电阻和并联电容组成的连续梯形网络，并且负载 $C_{L}$ 位于远端。\n\n然后，计算时序差异的闭式解析表达式\n$$\\Delta t \\equiv t_{\\mathrm{distributed}} - t_{\\mathrm{lumped}},$$\n并用 $R_{s}$、$r'$、$c'$、$L$ 和 $C_{L}$ 表示并完全简化。此外，通过引入相对误差度量\n$$\\varepsilon(L) \\equiv \\frac{|t_{\\mathrm{distributed}} - t_{\\mathrm{lumped}}|}{t_{\\mathrm{distributed}}},$$\n定义一个无量纲准则，以便为每个网络选择合适的表示法，并提供其以相同参数表示的闭式解析表达式。时序差异 $\\Delta t$ 以秒为单位表示，准则 $\\varepsilon(L)$ 为无量纲量。不要进行数值计算；只提供精确表达式。最终答案必须是数对 $\\left[\\Delta t,\\ \\varepsilon(L)\\right]$，以单行矩阵的形式给出。",
            "solution": "该问题经核实具有科学依据，提法明确且客观。它是分析集成电路互连线中寄生效应的一个标准且基础的练习。所有必要的参数都已给出，任务定义清晰。因此，我们可以开始推导。\n\n该问题要求基于脉冲响应的一阶矩来计算传播延迟，这种方法通常被称为 Elmore 延迟。对于一个通用的 RC 树，特定节点 $i$ 处的延迟由以下公式给出：\n$$t_{D_i} = \\sum_{k} R_{ik} C_k$$\n其中，求和遍及网络中所有的电容器 $C_k$，而 $R_{ik}$ 是从电压源到电容器 $C_k$ 的路径中，与从源到目标节点 $i$ 的路径所共享部分的电阻。在本问题中，目标节点是互连线的远端，我们将其记为输出节点。\n\n让我们定义总互连电阻为 $R_{int} = r'L$，总互连电容为 $C_{int} = c'L$。\n\n**情况 (a)：集总表示法**\n\n在集总模型中，整个互连电阻 $r'L$ 被建模为单个电阻器，整个互连电容 $c'L$ 被建模为位于远端的单个电容器，与负载电容 $C_L$ 并联。因此，电路简化为单级 RC 网络。\n\n从源到输出节点的总电阻是驱动器的戴维南电阻与互连电阻之和：\n$$R_{\\mathrm{total}} = R_s + r'L$$\n\n输出节点的总电容是集总互连电容与负载电容之和：\n$$C_{\\mathrm{total}} = c'L + C_L$$\n\n在这个简化模型中，只有一个等效电容 $C_{\\mathrm{total}}$。从源到此电容的路径电阻为 $R_{\\mathrm{total}}$。应用 Elmore 延迟公式，到远端的延迟为：\n$$t_{\\mathrm{lumped}} = R_{\\mathrm{total}} \\cdot C_{\\mathrm{total}} = (R_s + r'L)(c'L + C_L)$$\n展开此表达式，我们得到：\n$$t_{\\mathrm{lumped}} = R_s C_L + R_s c'L + r'L C_L + r'c'L^2$$\n\n**情况 (b)：分布式表示法**\n\n在分布式模型中，互连线被视为由无穷小电阻和电容组成的连续梯形网络。源电阻为 $R_s$，连接到位置 $x=0$ 处的互连线起点。互连线从 $x=0$ 延伸到 $x=L$。负载电容 $C_L$ 位于远端 $x=L$ 处。\n\n我们通过对分布式互连电容的贡献进行求和（即积分），并加上分立负载电容 $C_L$ 的贡献来应用 Elmore 延迟公式。目标节点是远端 $x=L$ 处。\n\n1.  **来自负载电容 $C_L$ 的贡献**：\n    电容 $C_L$ 位于 $x=L$ 处。从源到 $C_L$ 的路径总电阻是源电阻与完整互连电阻之和。\n    $$R_{\\text{path to } C_L} = R_s + r'L$$\n    因此，来自 $C_L$ 的延迟贡献为：\n    $$t_{d, C_L} = (R_s + r'L)C_L$$\n\n2.  **来自分布式互连电容的贡献**：\n    考虑沿线位置 $x$ 处（其中 $x \\in [0, L]$）长度为 $dx$ 的无穷小互连线段。该线段的电容为 $dc = c'dx$。\n    从源到此无穷小电容的路径电阻是源电阻与直到位置 $x$ 的互连电阻之和。\n    $$R(x) = R_s + r'x$$\n    这个电阻 $R(x)$ 是到 $x=L$ 处输出节点的路径所共有的。该线段的无穷小延迟贡献为 $dt_d = R(x) \\cdot dc = (R_s + r'x)c'dx$。\n    为了求出整个互连线的总贡献，我们将此表达式从 $x=0$ 积分到 $x=L$：\n    $$t_{d, \\text{interconnect}} = \\int_0^L (R_s + r'x)c'dx = c' \\left[ R_s x + \\frac{1}{2}r'x^2 \\right]_0^L$$\n    $$t_{d, \\text{interconnect}} = c'(R_sL + \\frac{1}{2}r'L^2) = R_s c'L + \\frac{1}{2}r'c'L^2$$\n\n分布式情况下的总延迟是这两部分贡献之和：\n$$t_{\\mathrm{distributed}} = t_{d, C_L} + t_{d, \\text{interconnect}} = (R_s + r'L)C_L + \\left( R_s c'L + \\frac{1}{2}r'c'L^2 \\right)$$\n$$t_{\\mathrm{distributed}} = R_s C_L + r'L C_L + R_s c'L + \\frac{1}{2}r'c'L^2$$\n\n**时序差异 $\\Delta t$**\n\n现在我们计算两种延迟计算之间的差异, $\\Delta t = t_{\\mathrm{distributed}} - t_{\\mathrm{lumped}}$。\n$$t_{\\mathrm{distributed}} = R_s C_L + r'L C_L + R_s c'L + \\frac{1}{2}r'c'L^2$$\n$$t_{\\mathrm{lumped}} \\ \\ \\ \\ = R_s C_L + r'L C_L + R_s c'L + r'c'L^2$$\n从第一个方程减去第二个方程，我们观察到有三项消去：\n$$\\Delta t = \\left( R_s C_L + r'L C_L + R_s c'L + \\frac{1}{2}r'c'L^2 \\right) - \\left( R_s C_L + R_s c'L + r'L C_L + r'c'L^2 \\right)$$\n$$\\Delta t = \\frac{1}{2}r'c'L^2 - r'c'L^2 = -\\frac{1}{2}r'c'L^2$$\n负号表示与更精确的分布式模型相比，集总模型高估了延迟。这是因为集总模型假定整个互连电容 $c'L$ 通过整个互连电阻 $r'L$ 充电，而在分布式模型中，靠近源的电容部分是通过较小的电阻充电的。\n\n**相对误差度量 $\\varepsilon(L)$**\n\n相对误差度量定义为 $\\varepsilon(L) \\equiv \\frac{|t_{\\mathrm{distributed}} - t_{\\mathrm{lumped}}|}{t_{\\mathrm{distributed}}}$。\n首先，我们取时序差异的绝对值：\n$$|\\Delta t| = \\left|-\\frac{1}{2}r'c'L^2\\right| = \\frac{1}{2}r'c'L^2$$\n（因为 $r'$、$c'$ 和 $L$ 都是非负的物理量）。\n\n现在，我们将其与 $t_{\\mathrm{distributed}}$ 相除得到比率：\n$$\\varepsilon(L) = \\frac{|\\Delta t|}{t_{\\mathrm{distributed}}} = \\frac{\\frac{1}{2}r'c'L^2}{R_s C_L + r'L C_L + R_s c'L + \\frac{1}{2}r'c'L^2}$$\n这个表达式是相对误差关于给定电路参数的函数的最终闭式表示。\n\n最终答案是数对 $[\\Delta t, \\varepsilon(L)]$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n-\\frac{1}{2}r'c'L^2  \\frac{\\frac{1}{2}r'c'L^2}{R_s C_L + r'L C_L + R_s c'L + \\frac{1}{2}r'c'L^2}\n\\end{pmatrix}\n}\n$$"
        }
    ]
}