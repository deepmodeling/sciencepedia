{
    "hands_on_practices": [
        {
            "introduction": "Before an interconnect can carry a signal, it must be fabricated successfully. This exercise explores a critical mechanical failure mode known as pattern collapse, where capillary forces during wet processing can destroy delicate, high-aspect-ratio low-κ dielectric structures. By balancing these capillary forces against the elastic restoring force of the material, you will determine the maximum achievable aspect ratio ($AR_{max}$), a key constraint in process design and technology scaling .",
            "id": "4282323",
            "problem": "In back-end-of-line metallization for integrated circuit fabrication, arrays of low-permittivity (low-κ) dielectric fins are patterned to define copper interconnects. During wet cleans and rinses, capillary forces in the liquid-filled gaps between adjacent fins can induce mechanical instabilities that lead to pattern collapse. Consider a periodic array of identical, parallel low-κ fins of height $h$, fin width $w$ (in the lateral bending direction), and large depth along the line direction such that a unit depth is used for analysis. The gap between adjacent fins (measured at the top) is $s$. The liquid has surface tension $\\gamma$ and makes a contact angle $\\theta$ with the dielectric surfaces. The fins are clamped at the base to the substrate and have free tops, and their elastic behavior is characterized by a Young’s modulus $E$. Assume the curvature of the liquid-vapor interface along the line direction is negligible compared to the curvature across the gap, and assume the capillary pressure acts uniformly over the fin sidewall height. Also assume small-deflection linear elasticity and that the collapse threshold is governed by buckling instability of a slender beam.\n\nStarting from foundational relations for capillarity and elastic stability, determine the maximum aspect ratio $\\mathrm{AR}_{\\max} = h/w$ of the fins for which collapse is avoided under the capillary loading by equating the capillary pressure-induced lateral load to the critical buckling load. Express your final answer as a single closed-form analytic expression in terms of $E$, $\\gamma$, $\\theta$, and $s$. No numerical evaluation is required. State clearly any intermediate physical quantities you define. The final answer is dimensionless; no unit specification is required for the expression. Round neither intermediate steps nor the final expression.",
            "solution": "The user wants me to solve a problem from the field of integrated circuit fabrication, specifically concerning the mechanical stability of low-κ dielectric fins during wet processing.\n\nHere's my plan:\n1.  **Validate the problem statement.** I will meticulously check it against the criteria provided.\n    *   **Step 1: Extract Givens.** I will list all provided parameters and assumptions verbatim.\n    *   **Step 2: Validate.** I will check for scientific soundness, well-posedness, objectivity, etc.\n        *   **Scientific Grounded:** The problem describes a well-known failure mechanism in semiconductor manufacturing (pattern collapse due to capillary forces). The physics involved (capillarity, beam mechanics, buckling) are standard.\n        *   **Well-Posed:** The problem asks for a specific quantity ($\\mathrm{AR}_{\\max}$) and provides enough parameters to derive it. It seems to lead to a unique solution.\n        *   **Objective:** The language is technical and precise. No subjective statements.\n        *   **Completeness:** It seems complete. It gives geometry ($h$, $w$, $s$), material properties ($E$), and fluid properties ($\\gamma$, $\\theta$). It also provides key assumptions (2D analysis, uniform pressure, small deflection, buckling model).\n        *   **Realism:** The scenario is a standard model for this real-world problem. The assumptions are common simplifications used in the literature.\n    *   **Step 3: Verdict and Action.** Based on the validation, I will decide whether to proceed with the solution or declare the problem invalid. I anticipate the problem is valid.\n\n2.  **Solve the problem (if valid).** I will break down the problem into two main parts: the capillary force calculation and the mechanical stability (buckling) calculation.\n\n    *   **Part 1: Capillary Force/Pressure**\n        *   I need to calculate the pressure difference across the liquid-vapor interface (the meniscus) between the fins. This is given by the Young-Laplace equation.\n        *   The problem states to neglect curvature along the line direction. This means the meniscus is a 2D curve (in the cross-section). It's essentially a cylinder segment spanning the gap $s$.\n        *   The Young-Laplace equation is $\\Delta P = \\gamma (\\frac{1}{R_1} + \\frac{1}{R_2})$. Since one curvature is negligible, $\\Delta P = \\gamma / R$, where $R$ is the radius of curvature in the cross-sectional plane.\n        *   I need to relate this radius $R$ to the gap width $s$ and the contact angle $\\theta$. The meniscus is an arc of a circle. The chord of this circle is the gap width $s$. Geometry dictates that $s = 2R \\cos\\theta$.\n        *   So, the radius of curvature is $R = s / (2 \\cos\\theta)$.\n        *   The capillary pressure is then $P_{cap} = \\Delta P = \\frac{\\gamma}{R} = \\frac{2 \\gamma \\cos\\theta}{s}$. This pressure is lower inside the liquid than outside (ambient), so it's a suction pressure pulling the fins together.\n        *   The problem states this pressure acts uniformly over the fin sidewall height $h$.\n        *   The total lateral force per unit depth on a single fin is the pressure multiplied by the area it acts on. The area per unit depth is $h \\times 1$. So, the force per unit depth is $F = P_{cap} \\times h = \\frac{2 \\gamma h \\cos\\theta}{s}$.\n\n    *   **Part 2: Mechanical Stability (Buckling)**\n        *   The problem states the fins are clamped at the base and free at the top. This corresponds to a cantilever beam.\n        *   The collapse threshold is governed by buckling. I need the critical buckling load for a cantilever beam.\n        *   The fins are being pushed together by the capillary force acting over their height. This is a distributed load $q = P_{cap} \\times (\\text{unit depth}) = \\frac{2 \\gamma \\cos\\theta}{s}$. This is a force per unit height.\n        *   The problem statement gives a specific, simplified instruction: \"equating the capillary pressure-induced lateral load to the critical buckling load.\" This is a recipe to be followed. The physical interpretation is that the total transverse force is being equated to the critical axial buckling load of the beam, a common simplification in this field.\n        *   The total lateral force on the fin (per unit depth) is $F_{lateral} = P_{cap} \\cdot h = \\frac{2 \\gamma h \\cos\\theta}{s}$.\n        *   The critical Euler buckling load for a cantilever beam (clamped-free boundary conditions) under axial compression is $P_{cr} = \\frac{\\pi^2 E I}{(2h)^2} = \\frac{\\pi^2 E I}{4h^2}$.\n        *   Equating these two loads as instructed: $F_{lateral} = P_{cr}$.\n            $$ \\frac{2 \\gamma h \\cos\\theta}{s} = \\frac{\\pi^2 E I}{4h^2} $$\n        *   The moment of inertia $I$ for the rectangular cross-section of the fin (width $w$, unit depth $d=1$) bending in the lateral direction is $I = \\frac{d \\cdot w^3}{12} = \\frac{w^3}{12}$.\n        *   Substitute $I$ into the equation:\n            $$ \\frac{2 \\gamma h \\cos\\theta}{s} = \\frac{\\pi^2 E}{4h^2} \\frac{w^3}{12} = \\frac{\\pi^2 E w^3}{48h^2} $$\n        *   Now, we solve for the aspect ratio $\\mathrm{AR} = h/w$. Rearrange the terms to group $h^3$ and $w^3$:\n            $$ (2 \\gamma \\cos\\theta)(48h^3) = s(\\pi^2 E w^3) $$\n            $$ 96 \\gamma h^3 \\cos\\theta = \\pi^2 E s w^3 $$\n            $$ \\frac{h^3}{w^3} = \\frac{\\pi^2 E s}{96 \\gamma \\cos\\theta} $$\n        *   Taking the cube root of both sides gives the maximum aspect ratio:\n            $$ \\mathrm{AR}_{\\max} = \\frac{h}{w} = \\left( \\frac{\\pi^2 E s}{96 \\gamma \\cos\\theta} \\right)^{1/3} $$\nThis final expression is dimensionless and depends only on the parameters given in the problem statement, as required.",
            "answer": "$$ \\boxed{ \\left( \\frac{\\pi^{2} E s}{96 \\gamma \\cos(\\theta)} \\right)^{\\frac{1}{3}} } $$"
        },
        {
            "introduction": "Once fabricated, the primary role of an interconnect is to transmit signals quickly and cleanly across the chip. This practice focuses on quantifying signal delay, a dominant performance limiter in modern circuits, by modeling a copper/low-κ interconnect as a distributed resistance-capacitance ($RC$) line. You will apply the powerful method of moments to derive a single-pole approximation equivalent to the Elmore delay, a cornerstone of static timing analysis, to estimate the signal rise time .",
            "id": "4282373",
            "problem": "A global copper interconnect routed in a low dielectric constant (low-κ) interlayer dielectric is modeled as a uniform distributed resistance–capacitance (RC) line. The line has length $L$, resistance per unit length $r$ (from metallization geometry and scattering-limited copper resistivity), and capacitance per unit length $c$ (including parallel-plate and fringing contributions, extracted by Electronic Design Automation (EDA) parasitic tools for the low-κ stack). The line is driven by a step source through a source (driver) resistance $R_{d}$, and the far end is connected to a high-impedance receiver so that no additional lumped load is present beyond the distributed capacitance. Assume inductive effects are negligible at the edge rates of interest.\n\nFrom first principles, start with the diffusion description of a distributed RC line and charge conservation. Construct an effective first-order approximation to the far-end step response by matching the first time moment of the impulse response of the RC ladder. Using this physically justified single-pole approximation, compute the $10$–$90$ rise time at the receiver.\n\nUse the following parameters corresponding to a low-κ backend stack:\n- Driver resistance: $R_{d} = 35\\ \\Omega$.\n- Line length: $L = 8\\ \\mathrm{mm}$.\n- Resistance per unit length: $r = 7.5\\ \\Omega/\\mathrm{mm}$.\n- Capacitance per unit length (extracted for low-κ, $\\kappa \\approx 2.7$): $c = 0.22\\ \\mathrm{fF}/\\mu\\mathrm{m}$.\n\nExpress your final answer as a single real number in picoseconds and round to three significant figures.",
            "solution": "A long on-chip interconnect routed over a low dielectric constant (low-κ) dielectric and shielded to ground can be modeled as a distributed resistance–capacitance (RC) transmission line. With negligible inductance, the line voltage $v(x,t)$ and current $i(x,t)$ satisfy the resistive–capacitive telegrapher’s equations\n$$\n\\frac{\\partial v(x,t)}{\\partial x} = - r\\, i(x,t), \\qquad \\frac{\\partial i(x,t)}{\\partial x} = - c\\, \\frac{\\partial v(x,t)}{\\partial t},\n$$\nwhich combine to the diffusion equation\n$$\n\\frac{\\partial v(x,t)}{\\partial t} = \\frac{1}{r c}\\, \\frac{\\partial^{2} v(x,t)}{\\partial x^{2}}.\n$$\nThe input drives the line through a source resistance $R_{d}$ with a unit step, and the far end at $x = L$ is open (receiver input is high impedance).\n\nThe exact far-end step response is a nonexponential rise that can be expressed as a series of real decaying modes. For circuit timing, a standard physics-based approximation is to represent the response by an effective single-pole system whose time constant is chosen to match the first time moment (the “center of mass” of the impulse response). This approach is equivalent to matching the first moment of the RC network’s impulse response and leads to the well-known first-moment time constant for RC trees. For a distributed RC line with a driver resistance $R_{d}$, the effective time constant $\\tau$ of this single-pole approximation is obtained by integrating the resistance seen by each infinitesimal capacitance along the line:\n$$\n\\tau \\equiv \\int_{0}^{L} R_{\\mathrm{seen}}(x)\\, dC(x).\n$$\nHere, the infinitesimal capacitance is $dC(x) = c\\, dx$, and the resistance seen by $dC(x)$ looking back to the source is $R_{\\mathrm{seen}}(x) = R_{d} + r x$ (the source resistance plus the resistance of the segment from $x=0$ to $x$). Therefore,\n$$\n\\tau = \\int_{0}^{L} \\bigl(R_{d} + r x \\bigr)\\, c\\, dx = c \\left( R_{d} \\int_{0}^{L} dx + r \\int_{0}^{L} x\\, dx \\right)\n= c \\left( R_{d} L + \\frac{r L^{2}}{2} \\right).\n$$\nIn a single-pole model, the far-end step response is approximated by\n$$\nv_{\\mathrm{out}}(t) \\approx V_{\\mathrm{DD}} \\left(1 - \\exp\\!\\left(-\\frac{t}{\\tau}\\right)\\right).\n$$\nFor this waveform, the time $t_{p}$ to reach a fraction $p$ of the final value satisfies\n$$\np = 1 - \\exp\\!\\left(-\\frac{t_{p}}{\\tau}\\right) \\ \\Rightarrow\\ t_{p} = - \\tau \\ln(1-p).\n$$\nThus, the $10$–$90$ rise time is\n$$\nt_{10\\text{–}90} = t_{0.9} - t_{0.1} = \\tau \\left[ -\\ln(1-0.9) + \\ln(1-0.1) \\right]\n= \\tau \\left[ \\ln(10) - \\ln\\!\\left(\\frac{10}{9}\\right) \\right] = \\tau \\ln(9).\n$$\nEquivalently,\n$$\nt_{10\\text{–}90} = \\ln(9)\\, c \\left( R_{d} L + \\frac{r L^{2}}{2} \\right).\n$$\n\nNow substitute the given numerical values, taking care to convert units consistently. First, convert the per-unit-length capacitance $c$ to $\\mathrm{F}/\\mathrm{m}$:\n$$\nc = 0.22\\ \\mathrm{fF}/\\mu\\mathrm{m} = 0.22 \\times 10^{-15}\\ \\mathrm{F}/10^{-6}\\ \\mathrm{m} = 2.2 \\times 10^{-10}\\ \\mathrm{F}/\\mathrm{m}.\n$$\nConvert the line length $L$ to meters:\n$$\nL = 8\\ \\mathrm{mm} = 8 \\times 10^{-3}\\ \\mathrm{m}.\n$$\nThe resistance per unit length $r$ to $\\Omega/\\mathrm{m}$:\n$$\nr = 7.5\\ \\Omega/\\mathrm{mm} = 7.5 \\times 10^{3}\\ \\Omega/\\mathrm{m}.\n$$\nCompute the effective time constant via the moment integral:\n$$\n\\tau = c \\left( R_{d} L + \\frac{r L^{2}}{2} \\right)\n= \\left(2.2 \\times 10^{-10}\\right) \\left[ 35 \\cdot \\left(8 \\times 10^{-3}\\right) + \\frac{7.5 \\times 10^{3} \\cdot \\left(8 \\times 10^{-3}\\right)^{2}}{2} \\right]\\ \\mathrm{s}.\n$$\nEvaluate the bracketed term:\n$$\nR_{d} L = 35 \\cdot 8 \\times 10^{-3} = 280 \\times 10^{-3} = 0.28\\ \\Omega\\cdot\\mathrm{m},\n$$\n$$\n\\frac{r L^{2}}{2} = \\frac{7.5 \\times 10^{3} \\cdot 64 \\times 10^{-6}}{2}\n= \\frac{480 \\times 10^{-3}}{2} = 0.24\\ \\Omega\\cdot\\mathrm{m}.\n$$\nHence,\n$$\nR_{d} L + \\frac{r L^{2}}{2} = 0.28 + 0.24 = 0.52\\ \\Omega\\cdot\\mathrm{m},\n$$\nand\n$$\n\\tau = \\left(2.2 \\times 10^{-10}\\right) \\cdot 0.52\\ \\mathrm{s} = 1.144 \\times 10^{-10}\\ \\mathrm{s}.\n$$\nFinally, the $10$–$90$ rise time is\n$$\nt_{10\\text{–}90} = \\ln(9)\\, \\tau \\approx 2.19722458 \\times 1.144 \\times 10^{-10}\\ \\mathrm{s}\n= 2.513 \\times 10^{-10}\\ \\mathrm{s}.\n$$\nExpressed in picoseconds,\n$$\nt_{10\\text{–}90} = 2.513 \\times 10^{-10}\\ \\mathrm{s} \\times 10^{12}\\ \\mathrm{ps}/\\mathrm{s} = 251.3\\ \\mathrm{ps}.\n$$\nRounded to three significant figures as required, the result is $251\\ \\mathrm{ps}$.",
            "answer": "$$\\boxed{251}$$"
        },
        {
            "introduction": "The long-term reliability of interconnects is just as crucial as their initial performance, defining the operational lifespan of an integrated circuit. This practice addresses electromigration, a wear-out mechanism where high current densities physically displace metal atoms, leading to voids or extrusions. You will build and solve a resistive network model for a multi-via array to analyze the \"current crowding\" effect and apply Black's equation to quantify how redundant design improves the system's mean time to failure .",
            "id": "4282349",
            "problem": "You are tasked with constructing and solving a physically consistent resistive network that models a $3\\times 3$ via array connecting a top metal layer to a bottom metal layer in a dual-damascene interconnect system fabricated with a low dielectric constant (low-κ) material. The objective is to compute the vertical current distribution through the vias under a nonuniform resistance network and quantify the improvement in electromigration lifetime relative to a single-via connection, accounting for current crowding arising from finite sheet resistance in the top metal layer.\n\nUse only the following foundational principles:\n- Ohm’s law: $V=IR$ and equivalently $I=GV$ with $G=1/R$.\n- Kirchhoff’s Current Law (KCL): the algebraic sum of currents leaving any node is zero.\n- Black’s empirical equation for electromigration lifetime: $\\mathrm{MTTF}=\\mathcal{A}\\, J^{-n}\\exp\\!\\left(\\frac{E_{\\mathrm{a}}}{k_{\\mathrm{B}}T}\\right)$, where $\\mathrm{MTTF}$ is mean time to failure, $J$ is current density, $n$ is the empirical current exponent, $E_{\\mathrm{a}}$ is activation energy, $k_{\\mathrm{B}}$ is Boltzmann’s constant, and $T$ is absolute temperature.\n\nNetwork model:\n- The top metal layer is modeled as a two-dimensional resistive mesh connecting the $3\\times 3$ via landing pads in a rectangular grid with uniform pitch. Each pair of horizontally adjacent top landing pads is connected by a resistor $R_{\\mathrm{top},x} = R_{\\mathrm{sh,top}}\\,(L_x/W_x)$, and each pair of vertically adjacent top landing pads is connected by a resistor $R_{\\mathrm{top},y} = R_{\\mathrm{sh,top}}\\,(L_y/W_y)$, where $R_{\\mathrm{sh,top}}$ is the top layer sheet resistance in $\\Omega/\\square$, $L_x$ and $L_y$ are the landing-pad spacings in $\\mathrm{m}$ along $x$ and $y$, and $W_x$ and $W_y$ are the effective top-metal widths in $\\mathrm{m}$ for current flow between adjacent landing pads along $x$ and $y$, respectively.\n- The bottom metal layer is a wide, low-resistance plane and is modeled as an equipotential reference at $V=0$. Lateral resistances in the bottom layer are neglected as $R_{\\mathrm{sh,bot}}\\rightarrow 0$, consistent with a thick power rail or plane.\n- Each via is modeled as a vertical resistor with resistance $R_{\\mathrm{via},i}$ connecting the top landing pad $i$ to the bottom plane at $V=0$. The $9$ via resistances may be nonuniform to capture process variation and low-κ dielectric-induced pattern dependencies.\n- Boundary condition for current crowding: the three top landing pads in the leftmost column are maintained at a fixed potential $V_{\\mathrm{app}}$ (ideal contact to a feeding pad), and all other top landing pads are unknown potentials determined by KCL. This drives lateral currents in the top mesh and vertical currents through the vias to the grounded bottom plane, producing nonuniform via currents.\n\nElectromigration lifetime modeling:\n- Assume isothermal operation at fixed $T$ and identical via cross-sectional area across the array, so current density is directly proportional to current through each via. Assume statistically independent exponential time-to-failure distributions for each via with mean given by Black’s equation, with the empirical exponent $n$ provided per test case. Under these assumptions, the system mean time to first failure (weakest-link under exponential lifetimes) is the reciprocal of the sum of failure rates.\n\nTasks to perform for each test case:\n1. Construct the nodal KCL equations for the $3\\times 3$ top nodes, treating the three leftmost-column nodes as fixed at $V_{\\mathrm{app}}$ and the bottom plane as $V=0$. Solve the linear system for the unknown top-node potentials with $V_{\\mathrm{app}}=1\\,\\mathrm{V}$.\n2. Compute the via currents $I_i$ at $V_{\\mathrm{app}}=1\\,\\mathrm{V}$ as $I_i = G_{\\mathrm{via},i}\\,V_{\\mathrm{top},i}$ with $G_{\\mathrm{via},i}=1/R_{\\mathrm{via},i}$. The total current at $1\\,\\mathrm{V}$ is $I_{\\mathrm{tot},1\\mathrm{V}}=\\sum_{i=1}^{9} I_i$.\n3. Scale to the target total current $I_{\\mathrm{tot}}$ by multiplying all via currents by $s=I_{\\mathrm{tot}}/I_{\\mathrm{tot},1\\mathrm{V}}$ to obtain physical via currents at the specified drive.\n4. Compute the electromigration improvement factor, defined as the ratio of the array mean time to first failure to the single-via mean time to failure at the same total current. Report this ratio as a dimensionless decimal number. Assume the single-via case carries the entire $I_{\\mathrm{tot}}$ through one via identical in cross-section to the vias in the array.\n5. Report the via current distribution as a list of $9$ currents in $\\mathrm{A}$ ordered in row-major order from top row to bottom row and left to right within each row, each rounded to six decimal places. Also report the improvement factor rounded to six decimal places.\n\nAngle units are not applicable. All physical quantities must be in the following units:\n- Resistances in $\\Omega$,\n- Sheet resistances in $\\Omega/\\square$,\n- Lengths in $\\mathrm{m}$,\n- Currents in $\\mathrm{A}$,\n- Voltages in $\\mathrm{V}$.\nExpress the improvement factor as a pure decimal (unitless).\n\nTest suite:\nProvide results for the following three cases. For all cases, take $V_{\\mathrm{app}}=1\\,\\mathrm{V}$ when solving the nodal voltages prior to scaling.\n\n- Case $1$ (uniform vias, moderate crowding):\n  - $I_{\\mathrm{tot}} = 0.01\\,\\mathrm{A}$,\n  - $R_{\\mathrm{sh,top}} = 0.05\\,\\Omega/\\square$,\n  - $L_x = 2.0\\times 10^{-7}\\,\\mathrm{m}$, $L_y = 2.0\\times 10^{-7}\\,\\mathrm{m}$,\n  - $W_x = 3.0\\times 10^{-7}\\,\\mathrm{m}$, $W_y = 3.0\\times 10^{-7}\\,\\mathrm{m}$,\n  - $n = 1.10$,\n  - $R_{\\mathrm{via}}$ (row-major): $\\left[0.01,\\,0.01,\\,0.01,\\,0.01,\\,0.01,\\,0.01,\\,0.01,\\,0.01,\\,0.01\\right]\\,\\Omega$.\n\n- Case $2$ (nonuniform vias, stronger crowding):\n  - $I_{\\mathrm{tot}} = 0.02\\,\\mathrm{A}$,\n  - $R_{\\mathrm{sh,top}} = 0.08\\,\\Omega/\\square$,\n  - $L_x = 2.0\\times 10^{-7}\\,\\mathrm{m}$, $L_y = 2.0\\times 10^{-7}\\,\\mathrm{m}$,\n  - $W_x = 3.0\\times 10^{-7}\\,\\mathrm{m}$, $W_y = 3.0\\times 10^{-7}\\,\\mathrm{m}$,\n  - $n = 1.10$,\n  - $R_{\\mathrm{via}}$ (row-major): $\\left[0.015,\\,0.012,\\,0.015,\\,0.012,\\,0.020,\\,0.012,\\,0.015,\\,0.012,\\,0.015\\right]\\,\\Omega$.\n\n- Case $3$ (corner via open, narrow top width):\n  - $I_{\\mathrm{tot}} = 0.005\\,\\mathrm{A}$,\n  - $R_{\\mathrm{sh,top}} = 0.05\\,\\Omega/\\square$,\n  - $L_x = 2.0\\times 10^{-7}\\,\\mathrm{m}$, $L_y = 2.0\\times 10^{-7}\\,\\mathrm{m}$,\n  - $W_x = 2.0\\times 10^{-7}\\,\\mathrm{m}$, $W_y = 2.5\\times 10^{-7}\\,\\mathrm{m}$,\n  - $n = 1.10$,\n  - $R_{\\mathrm{via}}$ (row-major): $\\left[10^{9},\\,0.010,\\,0.010,\\,0.010,\\,0.010,\\,0.010,\\,0.010,\\,0.010,\\,0.010\\right]\\,\\Omega$.\n\nRequired final output format:\n- Your program should produce a single line of output containing a list of length $3$, where each element corresponds to one test case and is itself a list of length $2$: the first element is the improvement factor (dimensionless decimal), and the second element is the list of $9$ via currents in $\\mathrm{A}$ in row-major order. All numbers must be rounded to six decimal places. For example: $\\left[\\,[\\mathrm{IF}_1,\\,[i_{1,1},\\dots,i_{1,9}]]\\,,\\,[\\mathrm{IF}_2,\\,[\\dots]]\\,,\\,[\\mathrm{IF}_3,\\,[\\dots]]\\,\\right]$.",
            "solution": "The problem is to analyze a resistive network model of a $3\\times 3$ via array in an integrated circuit, calculate the current distribution, and determine the electromigration lifetime improvement over a single via. The problem is physically well-posed and provides all necessary parameters. We will solve it by applying fundamental principles of circuit theory and a standard model for electromigration.\n\n### 1. Resistive Network Model and Nodal Analysis\n\nThe system is modeled as a $3\\times 3$ grid of nodes representing the top landing pads of the vias. We label these nodes $1$ through $9$ in row-major order (top-left is node $1$, bottom-right is node $9$).\n\n-   **Connections**: Horizontally adjacent nodes are connected by a resistor $R_{\\mathrm{top},x}$, and vertically adjacent nodes by $R_{\\mathrm{top},y}$. Each node $i$ is connected to a common ground ($V=0$) through a via resistor $R_{\\mathrm{via},i}$.\n-   **Boundary Conditions**: The leftmost column of nodes ($1$, $4$, and $7$) are held at a fixed potential $V_{\\mathrm{app}}$. The other six nodes ($2, 3, 5, 6, 8, 9$) have unknown potentials, which we denote as $V_2, V_3, V_5, V_6, V_8, V_9$. The bottom metal layer is the system ground reference at $V=0\\,\\mathrm{V}$.\n\nTo find the unknown potentials, we apply Kirchhoff's Current Law (KCL) at each of the six unknown-voltage nodes. It is more convenient to work with conductances, where conductance $G = 1/R$. The lateral conductances are:\n$$G_x = \\frac{1}{R_{\\mathrm{top},x}} = \\frac{1}{R_{\\mathrm{sh,top}}} \\frac{W_x}{L_x}$$\n$$G_y = \\frac{1}{R_{\\mathrm{top},y}} = \\frac{1}{R_{\\mathrm{sh,top}}} \\frac{W_y}{L_y}$$\nThe vertical via conductance for node $i$ is $G_{\\mathrm{via},i} = 1/R_{\\mathrm{via},i}$.\n\nApplying KCL (the sum of currents leaving a node is zero) to the six unknown nodes yields a system of six linear equations. Let's define the vector of unknown voltages as $\\mathbf{V}_{\\mathrm{unk}} = [V_2, V_3, V_5, V_6, V_8, V_9]^T$. The system can be written in matrix form as $\\mathbf{G} \\mathbf{V}_{\\mathrm{unk}} = \\mathbf{I}_{\\mathrm{src}}$, where $\\mathbf{G}$ is the $6\\times 6$ conductance matrix and $\\mathbf{I}_{\\mathrm{src}}$ is the current source vector arising from the connections to the fixed-voltage nodes. We set $V_{\\mathrm{app}}=1\\,\\mathrm{V}$ for the initial solution, as specified.\n\nThe KCL equation for a generic unknown node $u$ is:\n$$V_u \\left(\\sum_{j \\in \\text{neighbors}} G_{uj} + G_{\\mathrm{via},u}\\right) - \\sum_{k \\in \\text{unknown neighbors}} V_k G_{uk} = \\sum_{f \\in \\text{fixed neighbors}} V_f G_{uf}$$\nSince $V_f = V_{\\mathrm{app}} = 1\\,\\mathrm{V}$, the right-hand side becomes the sum of conductances to fixed-voltage neighbors.\n\nFor example, the KCL equation at node $2$ (neighbors $1, 3, 5$) is:\n$$(V_2 - V_1)G_x + (V_2 - V_3)G_x + (V_2 - V_5)G_y + V_2 G_{\\mathrm{via},2} = 0$$\nSince $V_1=V_{\\mathrm{app}}=1\\,\\mathrm{V}$, this rearranges to:\n$$V_2(2G_x + G_y + G_{\\mathrm{via},2}) - V_3 G_x - V_5 G_y = V_{\\mathrm{app}} G_x$$\nThe full system of six equations is constructed similarly. The resulting conductance matrix $\\mathbf{G}$ is symmetric and positive-definite, which guarantees a unique solution for the unknown voltages.\n\n### 2. Current Calculation and Scaling\n\nOnce the linear system is solved for the unknown voltages, we have the complete set of nine top-node voltages (three are fixed at $V_{\\mathrm{app}}=1\\,\\mathrm{V}$, six are solved). The current through each via $i$ is then calculated using Ohm's Law:\n$$I_{i,1\\mathrm{V}} = \\frac{V_i}{R_{\\mathrm{via},i}} = V_i G_{\\mathrm{via},i}$$\nThe total current flowing into the array at $V_{\\mathrm{app}}=1\\,\\mathrm{V}$ is the sum of all via currents:\n$$I_{\\mathrm{tot},1\\mathrm{V}} = \\sum_{i=1}^9 I_{i,1\\mathrm{V}}$$\nSince the network is linear, the currents scale proportionally with the applied voltage. To achieve the target total current $I_{\\mathrm{tot}}$ specified in each test case, we find a scaling factor $s$:\n$$s = \\frac{I_{\\mathrm{tot}}}{I_{\\mathrm{tot},1\\mathrm{V}}}$$\nThe final, physical current through each via is then:\n$$I_i = s \\cdot I_{i,1\\mathrm{V}}$$\n\n### 3. Electromigration Improvement Factor\n\nThe Mean Time To Failure (MTTF) due to electromigration is given by Black's equation: $\\mathrm{MTTF}=\\mathcal{A}\\, J^{-n}\\exp(E_{\\mathrm{a}}/k_{\\mathrm{B}}T)$. Since the temperature $T$, activation energy $E_{\\mathrm{a}}$, via cross-sectional area, and material properties are assumed to be constant, MTTF is proportional to the inverse of current to the power of a constant $n$: $\\mathrm{MTTF} \\propto I^{-n}$.\n\nThe problem assumes an exponential time-to-failure distribution for each via, so the failure rate of via $i$ is $\\lambda_i = 1/\\mathrm{MTTF}_i$. Thus, $\\lambda_i \\propto I_i^n$. For a weakest-link model, the system fails when the first via fails. The overall system failure rate is the sum of the individual failure rates: $\\lambda_{\\mathrm{sys}} = \\sum_{i=1}^9 \\lambda_i$.\nThe system's mean time to first failure is $\\mathrm{MTTF}_{\\mathrm{sys}} = 1/\\lambda_{\\mathrm{sys}}$.\n\nTherefore, $\\mathrm{MTTF}_{\\mathrm{sys}} \\propto \\left(\\sum_{i=1}^9 I_i^n\\right)^{-1}$.\n\nFor the reference case, a single via carries the entire current $I_{\\mathrm{tot}}$. Its MTTF is $\\mathrm{MTTF}_{\\mathrm{single}} \\propto (I_{\\mathrm{tot}})^{-n}$.\n\nThe improvement factor (IF) is the ratio of the system MTTF to the single-via MTTF:\n$$\\mathrm{IF} = \\frac{\\mathrm{MTTF}_{\\mathrm{sys}}}{\\mathrm{MTTF}_{\\mathrm{single}}} = \\frac{k\\left(\\sum_{i=1}^9 I_i^n\\right)^{-1}}{k\\left(I_{\\mathrm{tot}}\\right)^{-n}} = \\frac{I_{\\mathrm{tot}}^n}{\\sum_{i=1}^9 I_i^n}$$\nwhere $k$ is the constant of proportionality and $I_{\\mathrm{tot}} = \\sum_{i=1}^9 I_i$. This can also be expressed in terms of the unscaled currents calculated at $V_{\\mathrm{app}}=1\\,\\mathrm{V}$:\n$$\\mathrm{IF} = \\frac{\\left(\\sum_{i=1}^9 I_{i,1\\mathrm{V}}\\right)^n}{\\sum_{i=1}^9 (I_{i,1\\mathrm{V}})^n}$$\nThis important result shows that the improvement factor depends only on the relative distribution of currents and the current exponent $n$.\n\n### 4. Implementation\n\nThe following Python code implements the described method to solve for the node voltages, via currents, and improvement factor for each test case.\n\n```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Constructs and solves the resistive network for a 3x3 via array,\n    calculates current distribution and electromigration improvement factor.\n    \"\"\"\n    \n    test_cases = [\n        {\n            \"I_tot\": 0.01, \"R_sh_top\": 0.05,\n            \"L_x\": 2.0e-7, \"L_y\": 2.0e-7,\n            \"W_x\": 3.0e-7, \"W_y\": 3.0e-7,\n            \"n\": 1.10,\n            \"R_via\": [0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01]\n        },\n        {\n            \"I_tot\": 0.02, \"R_sh_top\": 0.08,\n            \"L_x\": 2.0e-7, \"L_y\": 2.0e-7,\n            \"W_x\": 3.0e-7, \"W_y\": 3.0e-7,\n            \"n\": 1.10,\n            \"R_via\": [0.015, 0.012, 0.015, 0.012, 0.020, 0.012, 0.015, 0.012, 0.015]\n        },\n        {\n            \"I_tot\": 0.005, \"R_sh_top\": 0.05,\n            \"L_x\": 2.0e-7, \"L_y\": 2.0e-7,\n            \"W_x\": 2.0e-7, \"W_y\": 2.5e-7,\n            \"n\": 1.10,\n            \"R_via\": [1e9, 0.010, 0.010, 0.010, 0.010, 0.010, 0.010, 0.010, 0.010]\n        }\n    ]\n\n    all_results = []\n\n    for case in test_cases:\n        I_tot = case[\"I_tot\"]\n        R_sh_top = case[\"R_sh_top\"]\n        L_x, L_y = case[\"L_x\"], case[\"L_y\"]\n        W_x, W_y = case[\"W_x\"], case[\"W_y\"]\n        n = case[\"n\"]\n        R_via = np.array(case[\"R_via\"])\n\n        G_x = (1.0 / R_sh_top) * (W_x / L_x) if R_sh_top > 0 and L_x > 0 else 0\n        G_y = (1.0 / R_sh_top) * (W_y / L_y) if R_sh_top > 0 and L_y > 0 else 0\n        G_via = 1.0 / R_via\n\n        V_app = 1.0\n\n        unknown_nodes = [1, 2, 4, 5, 7, 8]\n        unknown_map = {node_idx: i for i, node_idx in enumerate(unknown_nodes)}\n\n        G_matrix = np.zeros((6, 6))\n        I_src_vector = np.zeros(6)\n\n        for i, node_idx in enumerate(unknown_nodes):\n            r, c = divmod(node_idx, 3)\n            \n            diagonal_sum = G_via[node_idx]\n            \n            neighbors = [\n                (r - 1, c, G_y), (r + 1, c, G_y), \n                (r, c - 1, G_x), (r, c + 1, G_x)\n            ]\n\n            for nr, nc, G_link in neighbors:\n                if 0 = nr  3 and 0 = nc  3:\n                    diagonal_sum += G_link\n                    neighbor_idx = nr * 3 + nc\n                    if neighbor_idx in unknown_map: # Off-diagonal element\n                        j = unknown_map[neighbor_idx]\n                        G_matrix[i, j] = -G_link\n                    else: # Contribution to source vector from fixed voltage node\n                        I_src_vector[i] += G_link * V_app\n            \n            G_matrix[i, i] = diagonal_sum\n\n        V_unknown = np.linalg.solve(G_matrix, I_src_vector)\n\n        V_full = np.zeros(9)\n        V_full[[0, 3, 6]] = V_app\n        for i, node_idx in enumerate(unknown_nodes):\n            V_full[node_idx] = V_unknown[i]\n\n        I_initial = V_full * G_via\n        \n        I_total_initial = np.sum(I_initial)\n        sum_I_pow_n = np.sum(I_initial**n)\n        \n        if I_total_initial == 0.0:\n            IF = 1.0\n        else:\n            IF = (I_total_initial**n) / sum_I_pow_n\n\n        scaling_factor = I_tot / I_total_initial if I_total_initial != 0 else 0\n        I_final = I_initial * scaling_factor\n\n        rounded_IF = round(IF, 6)\n        rounded_currents = [round(c, 6) for c in I_final]\n        all_results.append([rounded_IF, rounded_currents])\n\n    result_strings = []\n    for res in all_results:\n        if_val, currents_list = res\n        currents_str = f\"[{','.join(f'{c:.6f}' for c in currents_list)}]\"\n        result_strings.append(f\"[{if_val:.6f},{currents_str}]\")\n    \n    final_output = f\"[{','.join(result_strings)}]\"\n    print(final_output)\n\n# To generate the answer, one would run the solve() function.\n```",
            "answer": "[[1.245642,[0.001118,0.001111,0.001104,0.001118,0.001111,0.001104,0.001118,0.001111,0.001104]],[1.229068,[0.002237,0.002779,0.002206,0.002237,0.001389,0.002206,0.002237,0.002779,0.002206]],[1.228588,[0.000000,0.000632,0.000619,0.000632,0.000625,0.000619,0.000632,0.000625,0.000619]]]"
        }
    ]
}