{
    "hands_on_practices": [
        {
            "introduction": "标准单元版图是现代数字集成电路设计的基础。将电路原理图转化为符合设计规则的拓扑布局规划，是物理设计中的关键第一步。本练习将挑战您像版图工程师一样思考，根据布线和连接性约束，确定一个CMOS反相器的最小单元高度，通过解决这个问题，您将具体地理解抽象的设计规则如何直接转化为标准单元的物理尺寸和可行性 。",
            "id": "4278398",
            "problem": "在一个为电子设计自动化 (EDA) 布局布线流程设计的、作为单个标准单元的互补金属氧化物半导体反相器中，假设存在以下方法论和设计规则环境。金属-1 (M1) 在单元体内被限制为单向水平走线，而金属-2 (M2) 则为单向垂直走线。最小金属-1宽度为 $W_{\\text{M1}} = 2\\lambda$，最小金属-1间距为 $S_{\\text{M1}} = 2\\lambda$，其中 $\\lambda$ 表示可扩展的设计规则单位。一个布线轨道由水平布线的 M1 线的中心线间距 $P_{\\text{M1}}$ 定义，并且所有 M1 引脚图形必须以整数轨道索引为中心。标准单元方法论要求电源轨 $V_{\\text{DD}}$ 和 $V_{\\text{SS}}$ 分别作为连续的 M1 线实现于单元的最顶部和最底部，每条线正好占据一个布线轨道。输入引脚 $A$ 必须以 M1 引脚图形的形式暴露，该图形可通过一个 M1-M2 通孔从垂直的多晶硅栅极（使用多晶硅-金属接触）连接到。输出引脚 $Y$ 必须短接 p 型金属氧化物半导体场效应晶体管的漏极和 n 型金属氧化物半导体场效应晶体管的漏极；该短路必须通过单元内部的一段垂直 M2 段来实现，该段连接两个不同的 M1 引脚图形，每个图形通过接触孔落在一个漏极扩散区上。单元体内不允许出现垂直的 M1 拐角；只允许在离散轨道上使用水平的 M1 段。只要多个不相交的网络在 $x$ 方向上横向分离并满足最小间距 $S_{\\text{M1}}$，就可以将它们放置在同一 M1 轨道上，但任何 M1-M2 通孔的接触垫都必须以某个 M1 轨道为中心。\n\n从 M1 轨道网格源于最小宽度和间距要求这一核心几何事实出发，并结合上述标准单元单向布线约束，确定在单元高度上实现具有指定的可访问引脚 $A$、$Y$、$V_{\\text{DD}}$ 和 $V_{\\text{SS}}$ 的反相器所必需且足够的最小水平 M1 轨道数量。在您的推理中，请考虑需要为形成 $Y$ 的两个漏极提供两个独立的 M1 接触位置，以及禁止使用垂直 M1 拐角的规定。您必须确保所有 M1 特征都满足 $W_{\\text{M1}}$ 和 $S_{\\text{M1}}$，并且每个 M1-M2 通孔都以一个 M1 轨道为中心。\n\n请用文字提供一个与棒图一致的布线方案，该方案在所述方法论下达到此最小值。最后，以单个整数形式报告最小轨道数。最终答案无需四舍五入，也无需报告物理单位。在您的推导中，除了最终的轨道数必须是一个数字外，所有数值量都必须用 $\\lambda$ 进行符号化处理。",
            "solution": "所述问题是集成电路物理设计领域中一个适定问题。它在科学上基于标准单元版图方法论和互补金属氧化物半导体 (CMOS) 技术的原理。给定的约束虽然具体，但是一致且足以确定一个唯一的最小整数解。所用术语，包括金属-1 (M1)、金属-2 (M2)、设计规则 ($W_{\\text{M1}}$, $S_{\\text{M1}}$, $\\lambda$)、单向布线、布线轨道和引脚定义，在电子设计自动化 (EDA) 领域中都是标准的。因此，该问题被认为是有效的，可以构建一个正式的解决方案。\n\n目标是根据指定规则，找出实现一个 CMOS 反相器标准单元所需的最小水平金属-1 (M1) 轨道数量。一个布线轨道是一个离散的水平布线通道，轨道的总数决定了标准单元的高度。\n\n首先，我们必须识别出单元内所有需要 M1 布线资源的独立电网络。对于一个 CMOS 反相器，这些网络是：\n1.  电源轨，$V_{\\text{DD}}$。\n2.  接地轨，$V_{\\text{SS}}$。\n3.  输入信号，$A$。\n4.  输出信号，$Y$。\n\n接下来，我们分析对这些网络中每一个的 M1 布局所施加的约束。\n\n1.  **电源轨 ($V_{\\text{DD}}$ 和 $V_{\\text{SS}}$)**：问题陈述，$V_{\\text{DD}}$ 和 $V_{\\text{SS}}$ 必须分别作为连续的 M1 线在单元的最顶部和最底部实现。还规定了每条电源轨正好占据一个布线轨道。因此，这两条电源轨需要两个专用的 M1 轨道，不能与任何其他信号布线共享。我们把 $V_{\\text{DD}}$ 的顶部轨道记为轨道 $N$，$V_{\\text{SS}}$ 的底部轨道记为轨道 $1$。这就立即确立了至少需要两个轨道的要求。\n\n2.  **输出引脚 ($Y$)**：最关键的约束与输出引脚 $Y$ 有关。问题规定，输出网络必须短接 p 型晶体管 (PMOS) 的漏极和 n 型晶体管 (NMOS) 的漏极。这个短路“必须通过单元内部的一段垂直 M2 段来实现，该段连接两个不同的 M1 引脚图形”。我们将连接到 PMOS 漏极的 M1 接触垫称为 $Y_p$，连接到 NMOS 漏极的 M1 接触垫称为 $Y_n$。\n    - M2 层被限制为单向垂直走线。一个垂直线段由一个恒定的 $x$ 坐标和一个变化的 $y$ 坐标定义。\n    - M1 层被限制为单向水平走线。一个水平 M1 轨道由一个恒定的 $y$ 坐标定义。\n    - 为了让一个垂直的 M2 段连接两个 M1 图形 $Y_p$ 和 $Y_n$，这两个图形必须放置在相同的 $x$ 坐标但不同的 $y$ 坐标上。\n    - 由于 M1 图形必须以水平轨道为中心，拥有不同的 $y$ 坐标意味着 $Y_p$ 和 $Y_n$ 必须放置在两个不同的 M1 轨道上。\n    - 因此，实现输出引脚 $Y$ 需要至少两个不同的 M1 轨道。这些轨道必须在单元内部，即它们位于 $V_{\\text{DD}}$ 和 $V_{\\text{SS}}$ 电源轨之间。\n\n结合电源轨和输出引脚的要求，我们有最少 2 个轨道用于电源 ($V_{\\text{DD}}$, $V_{\\text{SS}}$)，外加 2 个轨道用于输出 ($Y_p$, $Y_n$)，得出一个初步的下限为 4 个轨道。\n\n3.  **输入引脚 ($A$)**：问题规定，“输入引脚 A 必须以 M1 引脚图形的形式暴露”。这个 M1 图形必须连接到反相器的多晶硅栅极。像所有其他 M1 特征一样，这个图形必须以一个 M1 轨道为中心。这就增加了一个容纳输入引脚的 M1 轨道的要求。现在的问题是，这个轨道是否必须是已确定的四个轨道之外的额外轨道，还是可以共享。\n\n问题陈述：“只要多个不相交的网络在 $x$ 方向上横向分离……就可以将它们放置在同一 M1 轨道上”。输入网络 $A$ 与输出网络 $Y$ 在电气上是不相交的。在典型的反相器版图中，多晶硅栅极是一个垂直结构，在 $x$ 方向上与漏极扩散区物理分离。这意味着到栅极的 M1 接触（用于引脚 $A$）的 $x$ 坐标将不同于到漏极的 M1 接触（用于 $Y_p$ 和 $Y_n$）的 $x$ 坐标。因此，可以将引脚 $A$ 的 M1 图形放置在与 $Y_p$ 或 $Y_n$ 相同的水平轨道上，同时遵守横向分离规则 ($S_{\\text{M1}} = 2\\lambda$)。\n\n为了达到最小轨道数，我们应尽可能共享轨道。由于输入引脚 $A$ 需要的 M1 资源可以与另一个 M1 图形放置在同一轨道上，因此它不需要额外的轨道。我们可以将引脚 $A$ 的 M1 图形放置在已为输出 $Y$ 所需的两个内部轨道之一上。\n\n因此，所需的最小轨道数为 $4$。一个可行的、展示此最小值的版图方案如下：\n\n-   **轨道 4 (最顶层):** 一条连续的 M1 水平线，用于 $V_{\\text{DD}}$ 电源轨。该电源轨与 PMOS 源极扩散区接触。\n-   **轨道 3:** 一段 M1 水平段，用作 PMOS 漏极 ($Y_p$) 的接触垫。在同一轨道上，但在不同的横向 ($x$) 位置，第二段 M1 段用作输入引脚 $A$，与下方的垂直多晶硅栅极接触。\n-   **轨道 2:** 一段 M1 水平段，用作 NMOS 漏极 ($Y_n$) 的接触垫。该段与轨道 3 上的 $Y_p$ 段放置在相同的 $x$ 坐标上。\n-   **轨道 1 (最底层):** 一条连续的 M1 水平线，用于 $V_{\\text{SS}}$ 电源轨。该电源轨与 NMOS 源极扩散区接触。\n\n输出连接由一段在轨道 3 上的 M1 段 $Y_p$ 和轨道 2 上的 M1 段 $Y_n$ 之间运行的垂直 M2 段完成。此结构满足所有指定约束：M1 是水平的，M2 是垂直的，电源轨位于顶部和底部轨道，输出 $Y$ 由两个不同轨道上的 M1 焊盘之间的垂直短路形成，输入引脚 $A$ 作为 M1 图形存在于一个整数轨道上。没有使用垂直 M1 拐角。因此，最小轨道数确定为 $4$。",
            "answer": "$$\\boxed{4}$$"
        },
        {
            "introduction": "随着半导体技术进入FinFET时代，器件的版图设计不再是连续的，而是量子化的；有效的晶体管宽度是通过使用离散数量的鳍（fin）来实现的。本练习将演示如何在FinFET工艺中确定晶体管的尺寸，将有效宽度 $W_{\\text{eff}}$ 的电气需求与鳍数量子化的物理现实联系起来。您将实践应用特定于工艺的约束，例如鳍对准和偶数数量规则，这些对于在先进节点中设计稳健且可制造的标准单元至关重要 。",
            "id": "4278435",
            "problem": "您正在使用棒图抽象法在鳍式场效应晶体管（FinFET）技术中布局一个互补逆变器。目标是确定器件的尺寸以满足目标有效宽度，并规划棒图以使其遵守鳍间距和对齐规则。在此技术中，每个鳍片为器件贡献固定的有效导电宽度，并且鳍片在均匀的网格上被量化。\n\n假设存在以下技术和设计约束：\n- 每个鳍片的有效导电宽度为 $W_{\\text{fin}} = 7.5~\\text{nm}$。\n- 鳍片网格间距为 $P_{\\text{fin}} = 27~\\text{nm}$，由p型和n型器件行共享，因此在棒图中，p型和n型行中的鳍片必须共线，并与相同的鳍片索引网格对齐。\n- n型器件所需的有效宽度为 $W_{\\text{eff},n} = 58~\\text{nm}$。\n- 为了在迁移率不对称的情况下平衡上升和下降延迟，p型器件的有效宽度必须为 $W_{\\text{eff},p} = \\alpha \\, W_{\\text{eff},n}$，其中 $\\alpha = 2$。\n- 库对称性和接触扩散区要求规定，任何单个器件中的鳍片数量必须是偶数。\n- 为每个器件使用单指实现，并规划一个棒图，其中一个多晶硅栅极穿过p型和n型鳍片阵列，两行中的鳍片通过共享的 $P_{\\text{fin}}$ 网格对齐。\n\n从鳍片量化和棒图拓扑的第一性原理出发（除了用于鳍片、扩散区和栅极的棒图外，不使用任何版图表示法），确定p型和n型晶体管中满足有效宽度要求和偶数鳍片约束，同时保持与公共鳍片网格对齐的最小可行总鳍片数。\n\n将最终答案表示为两个器件上鳍片总数的单个整数（无量纲）。除了规定的整数和偶数约束外，不需要其他舍入规则。",
            "solution": "该问题要求确定在FinFET技术中，一个互补逆变器的最小可行总鳍片数，并需满足若干约束条件。解决方案是通过独立计算n型器件和p型器件所需的鳍片数量，确保每个器件都满足所有约束条件，然后将结果相加而得到的。\n\n给定的参数如下：\n- 每个鳍片的有效导电宽度：$W_{\\text{fin}} = 7.5~\\text{nm}$\n- n型器件所需的有效宽度：$W_{\\text{eff},n} = 58~\\text{nm}$\n- p型器件的尺寸比例：$\\alpha = 2$\n- 每个器件的鳍片数量必须是偶数。\n\n首先，我们确定n型晶体管的最小鳍片数 $N_{\\text{fins},n}$。鳍片的数量必须足以提供至少所需的有效宽度 $W_{\\text{eff},n}$。理论上的鳍片数（一个实数）由所需宽度与每个鳍片宽度的比率给出：\n$$\nN_{\\text{fins},n,\\text{raw}} = \\frac{W_{\\text{eff},n}}{W_{\\text{fin}}} = \\frac{58}{7.5} \\approx 7.733\n$$\n由于鳍片是离散的物理单元，鳍片的数量必须是整数。为了满足宽度要求 $W_{\\text{eff},n} \\ge 58~\\text{nm}$，我们必须将此值向上取整到下一个整数。这通过应用向上取整函数（ceiling function）来实现：\n$$\nN_{\\text{fins},n,\\text{quantized}} = \\lceil N_{\\text{fins},n,\\text{raw}} \\rceil = \\lceil 7.733 \\rceil = 8\n$$\n接下来，我们应用鳍片数量必须为偶数的约束。计算出的值 $8$ 是一个偶数，因此满足此约束。因此，n型器件的最小可行鳍片数为：\n$$\nN_{\\text{fins},n} = 8\n$$\n\n其次，我们确定p型晶体管的最小鳍片数 $N_{\\text{fins},p}$。首先，我们使用给定的尺寸比例 $\\alpha$ 计算其所需的有效宽度 $W_{\\text{eff},p}$：\n$$\nW_{\\text{eff},p} = \\alpha \\, W_{\\text{eff},n} = 2 \\times 58~\\text{nm} = 116~\\text{nm}\n$$\np型器件的理论鳍片数为：\n$$\nN_{\\text{fins},p,\\text{raw}} = \\frac{W_{\\text{eff},p}}{W_{\\text{fin}}} = \\frac{116}{7.5} \\approx 15.467\n$$\n通过对此值进行向上取整来应用量化约束，以确保满足p型器件的有效宽度要求：\n$$\nN_{\\text{fins},p,\\text{quantized}} = \\lceil N_{\\text{fins},p,\\text{raw}} \\rceil = \\lceil 15.467 \\rceil = 16\n$$\n然后我们对照偶数整数约束进行检查。计算出的值 $16$ 是一个偶数，因此该约束也得到满足。p型器件的最小可行鳍片数为：\n$$\nN_{\\text{fins},p} = 16\n$$\n关于共享鳍片间距 $P_{\\text{fin}}$ 和共线对齐的约束是版图层面的细节，它们确认了CMOS逆变器的标准单栅、双阱结构，但除了已经考虑的因素外，它们没有对鳍片数量施加额外的数值约束。每个器件的最小鳍片数是独立计算的。\n\n最后，逆变器的总鳍片数 $N_{\\text{total}}$ 是n型和p型晶体管的鳍片数之和。\n$$\nN_{\\text{total}} = N_{\\text{fins},n} + N_{\\text{fins},p} = 8 + 16 = 24\n$$\n这是满足所有给定的电气尺寸和物理版图约束的最小总鳍片数。",
            "answer": "$$\n\\boxed{24}\n$$"
        },
        {
            "introduction": "棒图（Stick Diagram）不仅仅是一个静态的蓝图，它还为电路的动态行为提供了重要的洞察。版图中的不对称性，例如不相等的导线长度，可能导致时序差异，从而影响电路的可靠性。在本问题中，您将应用Elmore延迟模型来量化由版图不对称性引起的信号到达时间偏斜（skew），并分析其产生动态冒险（dynamic hazard）的可能性。这一实践弥合了静态几何表示与其实际动态性能之间的鸿沟，是高速数字电路设计的一项至关重要的技能 。",
            "id": "4278438",
            "problem": "在一个电子设计自动化 (EDA) 环境中，一个互补金属氧化物半导体 (CMOS) 双输入与非门 (NAND2) 使用棒图进行布局。该棒图显示了从前一级反相器到两个门输入端（标记为$A$和$B$）的最小宽度第一层金属 (Metal1) 走线。由于棒图表示的是相对拓扑和最小宽度导线，因此假设两条输入互连线均为均匀的第一层金属，宽度为$w$，具有相同的横截面堆叠结构，但长度不等，分别为$L_{A}$和$L_{B}$。两个输入的驱动反相器是相同的。假设互连线和器件具有以下物理上合理的参数：\n- 第一层金属宽度: $w = 0.5\\ \\mu\\mathrm{m}$。\n- 第一层金属薄层电阻: $R_{\\mathrm{sheet}} = 0.08\\ \\Omega/\\square$，意味着单位长度电阻 $r = R_{\\mathrm{sheet}}/w$。\n- 第一层金属对衬底和相邻线路的单位长度电容: $c = 0.2\\ \\mathrm{fF}/\\mu\\mathrm{m}$。\n- 驱动器等效线性电阻 (前一级反相器在上升沿期间的主导源电阻): $R_{\\mathrm{drv}} = 500\\ \\Omega$。\n- NAND2输入端的每个输入的总栅极电容 (一个输入所连接的n沟道和p沟道晶体管的栅极电容之和): $C_{g} = 2.5\\ \\mathrm{fF}$。\n- 从驱动器到相应NAND输入端的互连线长度: $L_{A} = 800\\ \\mu\\mathrm{m}$ 和 $L_{B} = 200\\ \\mu\\mathrm{m}$。\n\n将每个输入路径建模为一个阻容 (RC) 树，该树由源电阻 $R_{\\mathrm{drv}}$ 驱动，连接到一条长度为 $L$、单位参数为 $r$ 和 $c$ 的均匀分布RC线，并以集总输入栅极电容 $C_{g}$ 端接。从RC网络延迟作为网络脉冲响应一阶矩的基本原理出发，并使用经过充分检验的Elmore延迟近似法处理均匀分布互连线加集总负载的情况，推导每条路径末端的到达时间，并计算定义为 $\\Delta t \\equiv t_{A} - t_{B}$ 的输入到达时间偏斜。\n\n以皮秒为单位表示最终偏斜 $\\Delta t$，并将您的数值答案四舍五入到三位有效数字。\n\n最后，根据您计算出的 $\\Delta t$，定性讨论当输入$A$和$B$在相对于门固有延迟的短时间内向相反方向转换时，这种偏斜如何导致NAND2输出端出现动态冒险 (毛刺)。您的讨论应基于静态CMOS中上拉和下拉网络的物理行为，并且不应引用简便公式。",
            "solution": "本题将通过以下步骤解决：首先验证其前提条件，然后针对指定的电路拓扑推导Elmore延迟，计算两个输入的到达时间，计算它们的差值 (偏斜)，最后讨论该偏斜对电路行为的影响。\n\n问题验证\n\n步骤1：提取给定条件\n逐字给出的条件如下：\n- 电路元件：互补金属氧化物半导体 (CMOS) 双输入与非门 (NAND2)。\n- 互连层：第一层金属 (M1)。\n- 第一层金属宽度: $w = 0.5\\ \\mu\\mathrm{m}$。\n- 第一层金属薄层电阻: $R_{\\mathrm{sheet}} = 0.08\\ \\Omega/\\square$。\n- 第一层金属单位长度电容: $c = 0.2\\ \\mathrm{fF}/\\mu\\mathrm{m}$。\n- 驱动器等效线性电阻: $R_{\\mathrm{drv}} = 500\\ \\Omega$。\n- 每个输入的总栅极电容: $C_{g} = 2.5\\ \\mathrm{fF}$。\n- 互连线长度: $L_{A} = 800\\ \\mu\\mathrm{m}$ 和 $L_{B} = 200\\ \\mu\\mathrm{m}$。\n- 模型：一个由源电阻 $R_{\\mathrm{drv}}$ 驱动的阻容 (RC) 树，连接到一条均匀分布的 RC 线（长度为 $L$，单位参数为 $r$ 和 $c$），并以一个集总电容 $C_g$ 端接。\n- 目标1：使用Elmore延迟近似法推导每条路径末端的到达时间 ($t_A, t_B$)。\n- 目标2：计算输入到达时间偏斜 $\\Delta t \\equiv t_{A} - t_{B}$，单位为皮秒，结果四舍五入至三位有效数字。\n- 目标3：定性讨论计算出的偏斜 $\\Delta t$ 如何在 NAND2 输出端引起动态冒险 (毛刺)。\n\n步骤2：使用提取的给定条件进行验证\n该问题具有科学依据，是超大规模集成 (VLSI) 设计和电子设计自动化 (EDA) 中关于互连延迟分析的标准练习。其物理模型（带驱动电阻和电容性负载的分布式 RC 线）和分析方法（Elmore延迟）是该领域的基本概念。给定的参数（$w, R_{\\mathrm{sheet}}, c, R_{\\mathrm{drv}}, C_g, L_{A}, L_{B}$）对于微米或亚微米CMOS技术节点而言是物理上合理的。该问题是适定的 (well-posed)，提供了计算唯一答案所需的所有信息。它不包含任何矛盾，语言客观而精确。所要求的定性讨论是对一种常见的数字逻辑现象（冒险）的标准分析。因此，该问题被认定为有效。\n\n步骤3：结论与行动\n问题有效。将提供完整的解答。\n\n求解推导\n\n首先，我们为指定的网络模型推导Elmore延迟的一般表达式。在一个 $RC$ 树中，节点 $i$ 的Elmore延迟由 $\\tau_i = \\sum_{k} R_{ik} C_k$ 给出，其中总和遍及网络中所有的电容 $C_k$，而 $R_{ik}$ 是从电压源到节点 $i$ 的路径中与到电容 $C_k$ 的路径公共部分的电阻。\n\n在我们的模型中，输出节点位于互连线的末端，距离驱动器为 $L$。该网络由一个源电阻 $R_{\\mathrm{drv}}$、一条总电阻为 $R_{\\mathrm{line}} = rL$ 且总电容为 $C_{\\mathrm{line}} = cL$ 的分布式 $RC$ 线，以及一个集总负载电容 $C_g$ 组成。单位长度电阻为 $r = R_{\\mathrm{sheet}}/w$。\n\n我们可以通过对来自分布式线电容和集总负载电容的贡献求和来找到总延迟。\n\n1.  来自集总负载电容 $C_g$ 的贡献：电容 $C_g$ 位于线路的末端 ($x=L$)。从源到 $C_g$ 的整个电阻路径与到输出节点的路径是公共的。该电阻为 $R_{\\mathrm{path}} = R_{\\mathrm{drv}} + rL$。因此，延迟贡献为 $(R_{\\mathrm{drv}} + rL)C_g$。\n\n2.  来自分布式线电容的贡献：考虑在离驱动器距离为 $x$ 的位置，取一线段的无限小段，长度为 $dx$。该段的电容为 $dC = c \\cdot dx$。从源到这个无限小电容的电阻路径为 $R_{sx} = R_{\\mathrm{drv}} + rx$。这整个路径与到位于 $x=L$ 处的输出节点的路径是公共的。因此，这个无限小电容的延迟贡献是 $R_{sx} \\cdot dC = (R_{\\mathrm{drv}} + rx)c \\cdot dx$。为了求得整条线的总贡献，我们将此表达式从 $x=0$ 积分到 $x=L$：\n$$ \\int_0^L (R_{\\mathrm{drv}} + rx)c \\cdot dx = c \\int_0^L (R_{\\mathrm{drv}} + rx)dx = c \\left[ R_{\\mathrm{drv}}x + \\frac{1}{2}rx^2 \\right]_0^L = c R_{\\mathrm{drv}}L + \\frac{1}{2}rcL^2 $$\n\n互连线末端的总Elmore延迟 $t$ 是这两部分贡献之和：\n$$ t = (R_{\\mathrm{drv}} + rL)C_g + cR_{\\mathrm{drv}}L + \\frac{1}{2}rcL^2 $$\n这就是我们用于计算的公式。\n\n数值计算\n\n首先，我们计算单位长度电阻 $r$：\n$$ r = \\frac{R_{\\mathrm{sheet}}}{w} = \\frac{0.08\\ \\Omega}{0.5\\ \\mu\\mathrm{m}} = 0.16\\ \\Omega/\\mu\\mathrm{m} $$\n\n现在，我们将延迟公式应用于路径A ($L_A = 800\\ \\mu\\mathrm{m}$) 和路径B ($L_B = 200\\ \\mu\\mathrm{m}$)。我们将使用 $\\Omega$、$\\mathrm{fF}$ 和 $\\mu\\mathrm{m}$ 作为单位。得到的时间单位将是 $\\Omega \\cdot \\mathrm{fF} = 1\\ \\mathrm{fs} = 10^{-3}\\ \\mathrm{ps}$。\n\n计算到达时间 $t_A$：\n对于路径A, $L_A = 800\\ \\mu\\mathrm{m}$。\n$$ t_A = (R_{\\mathrm{drv}} + rL_A)C_g + cR_{\\mathrm{drv}}L_A + \\frac{1}{2}rcL_A^2 $$\n代入数值：\n$$ t_A = (500\\ \\Omega + (0.16\\ \\Omega/\\mu\\mathrm{m})(800\\ \\mu\\mathrm{m}))(2.5\\ \\mathrm{fF}) + (0.2\\ \\mathrm{fF}/\\mu\\mathrm{m})(500\\ \\Omega)(800\\ \\mu\\mathrm{m}) + \\frac{1}{2}(0.16\\ \\Omega/\\mu\\mathrm{m})(0.2\\ \\mathrm{fF}/\\mu\\mathrm{m})(800\\ \\mu\\mathrm{m})^2 $$\n$$ t_A = (500 + 128)\\ \\Omega \\cdot 2.5\\ \\mathrm{fF} + (0.2 \\cdot 500 \\cdot 800)\\ \\Omega\\cdot\\mathrm{fF} + \\frac{1}{2}(0.16 \\cdot 0.2 \\cdot 800^2)\\ \\Omega\\cdot\\mathrm{fF} $$\n$$ t_A = (628)(2.5) + 80000 + (0.016)(640000) $$\n$$ t_A = 1570 + 80000 + 10240 $$\n$$ t_A = 91810\\ \\Omega\\cdot\\mathrm{fF} = 91810 \\times 10^{-3}\\ \\mathrm{ps} = 91.81\\ \\mathrm{ps} $$\n\n计算到达时间 $t_B$：\n对于路径B, $L_B = 200\\ \\mu\\mathrm{m}$。\n$$ t_B = (R_{\\mathrm{drv}} + rL_B)C_g + cR_{\\mathrm{drv}}L_B + \\frac{1}{2}rcL_B^2 $$\n代入数值：\n$$ t_B = (500\\ \\Omega + (0.16\\ \\Omega/\\mu\\mathrm{m})(200\\ \\mu\\mathrm{m}))(2.5\\ \\mathrm{fF}) + (0.2\\ \\mathrm{fF}/\\mu\\mathrm{m})(500\\ \\Omega)(200\\ \\mu\\mathrm{m}) + \\frac{1}{2}(0.16\\ \\Omega/\\mu\\mathrm{m})(0.2\\ \\mathrm{fF}/\\mu\\mathrm{m})(200\\ \\mu\\mathrm{m})^2 $$\n$$ t_B = (500 + 32)\\ \\Omega \\cdot 2.5\\ \\mathrm{fF} + (0.2 \\cdot 500 \\cdot 200)\\ \\Omega\\cdot\\mathrm{fF} + \\frac{1}{2}(0.16 \\cdot 0.2 \\cdot 200^2)\\ \\Omega\\cdot\\mathrm{fF} $$\n$$ t_B = (532)(2.5) + 20000 + (0.016)(40000) $$\n$$ t_B = 1330 + 20000 + 640 $$\n$$ t_B = 21970\\ \\Omega\\cdot\\mathrm{fF} = 21970 \\times 10^{-3}\\ \\mathrm{ps} = 21.97\\ \\mathrm{ps} $$\n\n计算输入到达时间偏斜 $\\Delta t$：\n偏斜定义为 $\\Delta t = t_A - t_B$。\n$$ \\Delta t = 91.81\\ \\mathrm{ps} - 21.97\\ \\mathrm{ps} = 69.84\\ \\mathrm{ps} $$\n四舍五入到三位有效数字，我们得到：\n$$ \\Delta t \\approx 69.8\\ \\mathrm{ps} $$\n\n动态冒险的定性讨论\n\n当逻辑门的多个输入同时变化，但由于传播延迟不等，这些变化在不同时间到达门的内部晶体管时，其输出端就可能出现动态冒险，或称毛刺。计算出的偏斜 $\\Delta t = 69.8\\ \\mathrm{ps}$ 是显著的，可能在 NAND2 门中引起此类冒险。\n\n让我们分析一个特定的输入转换，该转换本应产生一个恒定的输出，但由于偏斜的存在可能不会如此。逻辑函数为 $Y = \\overline{A \\cdot B}$。当输出应保持为逻辑 '1'，但瞬间下降到 '0' 时，可能发生静态1冒险。这可能发生在像 $(A,B)$ 从 $(1,0)$ 变为 $(0,1)$ 这样的输入变化中。\n- 理想情况 (无偏斜)：初始状态为 $A=1, B=0$，因此 $Y=\\overline{1 \\cdot 0} = \\overline{0} = 1$。最终状态为 $A=0, B=1$，因此 $Y=\\overline{0 \\cdot 1} = \\overline{0} = 1$。输出 $Y$ 应保持高电平。\n\n- 真实情况 (有偏斜 $t_A > t_B$)：\n一个 CMOS NAND2 门的物理结构包括一个上拉网络 (PUN)，它由两个并联的 $p$ 沟道 (PMOS) 晶体管组成，连接在输出 $Y$ 和电源电压 $V_{DD}$ 之间；以及一个下拉网络 (PDN)，它由两个串联的 $n$ 沟道 (NMOS) 晶体管组成，连接在 $Y$ 和地 (GND) 之间。\n让我们追踪晶体管在 $(A, B): (1,0) \\to (0,1)$ 转换过程中的状态，假设驱动器输出端的信号在时间 $t=0$ 时变化。由于互连延迟，门输入端 $B$ 的信号将在 $t \\approx t_B$ 时转换，而输入端 $A$ 的信号将在 $t \\approx t_A$ 时转换。\n\n1.  时间 $t  t_B$：门输入为 $(A_g, B_g) = (1,0)$。\n    - $PUN$：对应 $A_g=1$ 的 $PMOS$ 关断。对应 $B_g=0$ 的 $PMOS$ 导通。由于它们是并联的，所以 $PUN$ 导通，将 $Y$ 拉高至 $V_{DD}$ (逻辑 $1$)。\n    - $PDN$：对应 $A_g=1$ 的 $NMOS$ 导通。对应 $B_g=0$ 的 $NMOS$ 关断。由于它们是串联的，所以 $PDN$ 关断。\n    - 输出 $Y = 1$。\n\n2.  时间 $t_B \\le t  t_A$：较快的信号 $B$ 已经到达，但 $A$ 还没有。门输入为 $(A_g, B_g) = (1,1)$。\n    - $PUN$：对应 $A_g=1$ 的 $PMOS$ 关断。对应 $B_g=1$ 的 $PMOS$ 关断。此时 $PUN$ 关断。\n    - $PDN$：对应 $A_g=1$ 的 $NMOS$ 导通。对应 $B_g=1$ 的 $NMOS$ 导通。此时 $PDN$ 导通，创建了一条从 $Y$ 到 $GND$ 的导电通路。\n    - 在此期间，$PUN$ 断开，$PDN$ 闭合。输出节点 $Y$ 向 $GND$ 放电。输出电压下降，产生一个朝向逻辑 $0$ 的毛刺。\n\n3.  时间 $t \\ge t_A$：较慢的信号 $A$ 现已到达。门输入为 $(A_g, B_g) = (0,1)$。\n    - $PUN$：对应 $A_g=0$ 的 $PMOS$ 导通。对应 $B_g=1$ 的 $PMOS$ 关断。$PUN$ 导通，将 $Y$ 重新拉高至 $V_{DD}$ (逻辑 $1$)。\n    - $PDN$：对应 $A_g=0$ 的 $NMOS$ 关断。对应 $B_g=1$ 的 $NMOS$ 导通。$PDN$ 关断。\n    - 输出 $Y = 1$。\n\n输出 $Y$ 的整体行为是一个 $1 \\to 0 \\to 1$ 的脉冲，即一个毛刺。这个毛刺的持续时间约等于偏斜 $\\Delta t = t_A - t_B$。如果 $\\Delta t$ 大于门的固有惯性延迟，这个毛刺将是一个全摆幅的电压降，并可能传播到后续的逻辑级，从而可能在锁存器或触发器等时序电路中引起错误的状态变化。计算出的 $69.8\\ \\mathrm{ps}$ 偏斜在现代高速设计中占据了时钟周期的相当一部分，足以导致这种有害的毛刺。",
            "answer": "$$\n\\boxed{69.8}\n$$"
        }
    ]
}