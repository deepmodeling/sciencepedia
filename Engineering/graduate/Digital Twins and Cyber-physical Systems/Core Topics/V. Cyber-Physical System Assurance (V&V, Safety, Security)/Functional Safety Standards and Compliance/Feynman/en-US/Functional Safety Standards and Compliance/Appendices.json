{
    "hands_on_practices": [
        {
            "introduction": "The cornerstone of functional safety analysis is quantifying the risk posed by individual components. This practice focuses on calculating the dangerous undetected failure rate, $\\lambda_{DU}$, which represents the frequency of failures that could lead to a hazard because they are not caught by diagnostic systems. By working through this exercise , you will learn to dissect a component's overall failure rate into distinct modes and rigorously account for the effectiveness of diagnostics, a fundamental skill for demonstrating compliance with standards like IEC 61508.",
            "id": "4223905",
            "problem": "A safety-related cyber-physical actuator in a process plant is overseen by a high-fidelity model-based Digital Twin (DT) executing real-time and periodic diagnostics. For compliance with International Electrotechnical Commission (IEC) 61508 functional safety requirements, the dangerous undetected failure rate must be quantified from first principles.\n\nAssume that dangerous failures follow a Poisson process and are partitioned into three statistically independent dangerous failure modes with constant rates per hour: stuck-closed with rate $\\lambda_{\\mathrm{SC}} = 1.1 \\times 10^{-6}$, stuck-open with rate $\\lambda_{\\mathrm{SO}} = 0.9 \\times 10^{-6}$, and slow-response with rate $\\lambda_{\\mathrm{SR}} = 2.5 \\times 10^{-6}$. The Digital Twin’s diagnostics produce different detection characteristics across these modes:\n- For stuck-closed, the fraction of dangerous failures detected is $d_{\\mathrm{SC}} = 0.98$.\n- For stuck-open, the fraction of dangerous failures detected is $d_{\\mathrm{SO}} = 0.85$.\n- For slow-response, the detection probability depends on the fractional slowdown $s \\in [0,1]$, which is uniformly distributed over $[0,1]$. For a given $s$, the Digital Twin detects the failure with probability $p_{D}(s) = 1 - \\exp(-k s)$, where $k = 3$.\n\nStarting from the definitions that (i) the total dangerous failure rate is the sum of the mode rates, (ii) Diagnostic Coverage (DC) is the fraction of the dangerous failure rate that is detected by diagnostics under the stated assumptions, and (iii) dangerous undetected failures are those dangerous failures not detected by diagnostics, derive an expression for the dangerous undetected failure rate $\\lambda_{DU}$ in terms of the total dangerous failure rate $\\lambda_{D}$ and the Diagnostic Coverage $DC$. Then, compute $\\lambda_{DU}$ for the given data by first evaluating the average detection fraction for the slow-response mode and then aggregating across all modes.\n\nExpress the final dangerous undetected failure rate in failures per hour ($1/\\mathrm{h}$) and round your answer to four significant figures.",
            "solution": "The problem is first validated to ensure it is scientifically grounded, self-contained, and well-posed. The problem is based on standard principles of reliability engineering and functional safety (IEC 61508), using Poisson processes for failure rates, which is a common and valid model. All necessary parameters ($\\lambda_{\\mathrm{SC}}$, $\\lambda_{\\mathrm{SO}}$, $\\lambda_{\\mathrm{SR}}$, $d_{\\mathrm{SC}}$, $d_{\\mathrm{SO}}$, $k$) and distributions (uniform for $s$) are provided. The definitions are clear and the problem is mathematically formalizable. Therefore, the problem is deemed valid and a solution is pursued.\n\nThe problem asks for two main tasks: first, to derive an expression for the dangerous undetected failure rate $\\lambda_{DU}$ in terms of the total dangerous failure rate $\\lambda_{D}$ and the Diagnostic Coverage $DC$; second, to compute the numerical value of $\\lambda_{DU}$ based on the provided data.\n\nFirst, we derive the general expression for $\\lambda_{DU}$.\nThe total dangerous failure rate, $\\lambda_{D}$, is the sum of the detected dangerous failure rate, $\\lambda_{DD}$, and the undetected dangerous failure rate, $\\lambda_{DU}$.\n$$\n\\lambda_{D} = \\lambda_{DD} + \\lambda_{DU}\n$$\nDiagnostic Coverage, $DC$, is defined as the fraction of the dangerous failure rate that is detected by diagnostics.\n$$\nDC = \\frac{\\lambda_{DD}}{\\lambda_{D}}\n$$\nFrom the definition of $DC$, we can express $\\lambda_{DD}$ as:\n$$\n\\lambda_{DD} = \\lambda_{D} \\cdot DC\n$$\nSubstituting this expression for $\\lambda_{DD}$ into the first equation gives:\n$$\n\\lambda_{D} = (\\lambda_{D} \\cdot DC) + \\lambda_{DU}\n$$\nSolving for $\\lambda_{DU}$, we obtain the required relationship:\n$$\n\\lambda_{DU} = \\lambda_{D} - (\\lambda_{D} \\cdot DC) = \\lambda_{D} (1 - DC)\n$$\n\nNext, we compute the numerical value of $\\lambda_{DU}$. The total dangerous undetected failure rate is the sum of the dangerous undetected failure rates from each of the three independent failure modes: stuck-closed (SC), stuck-open (SO), and slow-response (SR).\n$$\n\\lambda_{DU} = \\lambda_{DU, \\mathrm{SC}} + \\lambda_{DU, \\mathrm{SO}} + \\lambda_{DU, \\mathrm{SR}}\n$$\nFor each mode $i$, the dangerous undetected failure rate is given by $\\lambda_{DU, i} = \\lambda_{i}(1 - d_{i})$, where $\\lambda_{i}$ is the failure rate for that mode and $d_{i}$ is the corresponding detection fraction (or diagnostic coverage for that mode).\n\nFor the stuck-closed mode:\nThe failure rate is $\\lambda_{\\mathrm{SC}} = 1.1 \\times 10^{-6} \\, \\mathrm{h}^{-1}$.\nThe detection fraction is $d_{\\mathrm{SC}} = 0.98$.\nThe dangerous undetected failure rate is:\n$$\n\\lambda_{DU, \\mathrm{SC}} = \\lambda_{\\mathrm{SC}} (1 - d_{\\mathrm{SC}}) = (1.1 \\times 10^{-6}) (1 - 0.98) = (1.1 \\times 10^{-6})(0.02) = 0.022 \\times 10^{-6} \\, \\mathrm{h}^{-1}\n$$\n\nFor the stuck-open mode:\nThe failure rate is $\\lambda_{\\mathrm{SO}} = 0.9 \\times 10^{-6} \\, \\mathrm{h}^{-1}$.\nThe detection fraction is $d_{\\mathrm{SO}} = 0.85$.\nThe dangerous undetected failure rate is:\n$$\n\\lambda_{DU, \\mathrm{SO}} = \\lambda_{\\mathrm{SO}} (1 - d_{\\mathrm{SO}}) = (0.9 \\times 10^{-6}) (1 - 0.85) = (0.9 \\times 10^{-6})(0.15) = 0.135 \\times 10^{-6} \\, \\mathrm{h}^{-1}\n$$\n\nFor the slow-response mode:\nThe failure rate is $\\lambda_{\\mathrm{SR}} = 2.5 \\times 10^{-6} \\, \\mathrm{h}^{-1}$.\nThe detection probability $p_{D}(s) = 1 - \\exp(-ks)$ is a function of the fractional slowdown $s$, which is a random variable uniformly distributed over the interval $[0,1]$. The probability density function (PDF) for $s$ is $f(s) = 1$ for $s \\in [0,1]$ and $f(s) = 0$ otherwise.\nTo find the dangerous undetected failure rate for this mode, we first need the average detection fraction, $\\bar{d}_{\\mathrm{SR}}$. This is the expected value of $p_{D}(s)$.\n$$\n\\bar{d}_{\\mathrm{SR}} = E[p_{D}(s)] = \\int_{0}^{1} p_{D}(s) f(s) \\, ds = \\int_{0}^{1} (1 - \\exp(-ks)) \\cdot 1 \\, ds\n$$\nWith the constant $k=3$, the integral becomes:\n$$\n\\bar{d}_{\\mathrm{SR}} = \\int_{0}^{1} (1 - \\exp(-3s)) \\, ds = \\left[s - \\frac{\\exp(-3s)}{-3}\\right]_{0}^{1} = \\left[s + \\frac{1}{3}\\exp(-3s)\\right]_{0}^{1}\n$$\nEvaluating at the limits:\n$$\n\\bar{d}_{\\mathrm{SR}} = \\left(1 + \\frac{1}{3}\\exp(-3)\\right) - \\left(0 + \\frac{1}{3}\\exp(0)\\right) = 1 + \\frac{1}{3}\\exp(-3) - \\frac{1}{3} = 1 - \\frac{1 - \\exp(-3)}{3}\n$$\nThe fraction of undetected failures for this mode is $1 - \\bar{d}_{\\mathrm{SR}}$:\n$$\n1 - \\bar{d}_{\\mathrm{SR}} = 1 - \\left(1 - \\frac{1 - \\exp(-3)}{3}\\right) = \\frac{1 - \\exp(-3)}{3}\n$$\nThe dangerous undetected failure rate for the slow-response mode is:\n$$\n\\lambda_{DU, \\mathrm{SR}} = \\lambda_{\\mathrm{SR}} (1 - \\bar{d}_{\\mathrm{SR}}) = (2.5 \\times 10^{-6}) \\left(\\frac{1 - \\exp(-3)}{3}\\right)\n$$\nNow, we sum the undetected failure rates for all modes to find the total dangerous undetected failure rate $\\lambda_{DU}$:\n$$\n\\lambda_{DU} = \\lambda_{DU, \\mathrm{SC}} + \\lambda_{DU, \\mathrm{SO}} + \\lambda_{DU, \\mathrm{SR}}\n$$\n$$\n\\lambda_{DU} = 0.022 \\times 10^{-6} + 0.135 \\times 10^{-6} + (2.5 \\times 10^{-6}) \\left(\\frac{1 - \\exp(-3)}{3}\\right)\n$$\n$$\n\\lambda_{DU} = \\left(0.022 + 0.135 + \\frac{2.5}{3}(1 - \\exp(-3))\\right) \\times 10^{-6}\n$$\n$$\n\\lambda_{DU} = \\left(0.157 + \\frac{2.5}{3}(1 - \\exp(-3))\\right) \\times 10^{-6}\n$$\nNow we compute the numerical value:\n$$\n1 - \\exp(-3) \\approx 1 - 0.049787068 = 0.950212932\n$$\n$$\n\\frac{2.5}{3}(1 - \\exp(-3)) \\approx 0.833333333 \\times 0.950212932 \\approx 0.79184411\n$$\n$$\n\\lambda_{DU} \\approx (0.157 + 0.79184411) \\times 10^{-6} = 0.94884411 \\times 10^{-6} \\, \\mathrm{h}^{-1}\n$$\nWriting this in standard scientific notation:\n$$\n\\lambda_{DU} \\approx 9.4884411 \\times 10^{-7} \\, \\mathrm{h}^{-1}\n$$\nThe problem requires rounding the final answer to four significant figures.\n$$\n\\lambda_{DU} \\approx 9.488 \\times 10^{-7} \\, \\mathrm{h}^{-1}\n$$\nThis is the final dangerous undetected failure rate.",
            "answer": "$$\n\\boxed{9.488 \\times 10^{-7}}\n$$"
        },
        {
            "introduction": "While understanding individual components is crucial, safety is an emergent property of the entire system. This exercise  moves from the component to the system level, employing Fault Tree Analysis (FTA) to model how multiple component unavailabilities, $Q$, can combine to create a hazardous top event. This practice will develop your ability to think in terms of system architecture, logical failure combinations, and the critical impact of dependencies like common cause failures (modeled by the $\\beta$-factor), providing a holistic view of risk assessment.",
            "id": "4223977",
            "problem": "A robotic assembly cell is safeguarded by a protective stop function that must bring hazardous motion to a safe state when a human is present in the collaborative zone. The cell consists of a dual-channel presence-sensing subsystem, a single-channel safety logic solver, and dual series power contactors in the final power removal path. A digital twin of the cell has been used to estimate basic event rates and repair characteristics under steady-state operating conditions. You are asked to construct the logical structure of the fault tree for the hazardous top event and then derive the top-event probability at an arbitrary instant from the basic event rates and the logic structure, using first-principles reliability and probability arguments consistent with functional safety practice (for example, International Electrotechnical Commission (IEC) $61508$).\n\nDefine the hazardous top event $\\mathcal{H}$ as “hazardous robot motion coincident with human presence in the collaborative zone.” The logical structure is as follows, consistent with Fault Tree Analysis (FTA):\n\n- The top event occurs if and only if the event $\\mathcal{Z}$ = “human present in the collaborative zone” occurs in coincidence with the event $\\mathcal{F}$ = “protective stop function is failed dangerously.” Thus, $\\mathcal{H}$ is the logical AND of $\\mathcal{Z}$ and $\\mathcal{F}$.\n- The event $\\mathcal{F}$ occurs if and only if any one of the following disjoint failure modes happens:\n  1. Both presence-sensing channels fail dangerously such that the demand is not generated (a $1$-out-of-$2$ sensing architecture fails if both channels are failed).\n  2. The safety logic solver (a single-channel Safety Programmable Logic Controller (PLC)) is in a dangerous failure state.\n  3. Both series power contactors are in a dangerous failure state of sticking closed, preventing power removal (a $2$-out-of-$2$ configuration fails if both are failed).\n\nAssume all components are repairable with exponential time-to-failure and time-to-repair, with constant dangerous failure rate $\\lambda$ and repair rate $\\mu$, and that steady-state unavailability for a single component is $Q \\equiv \\frac{\\lambda}{\\lambda + \\mu}$. Assume independence between different subsystems except for Common Cause Failure (CCF) within each redundant pair modeled by the $\\beta$-factor model: for two identical channels with the same single-channel unavailability $Q$, the pair-level unavailability for the demanding failure logic “both channels failed” is $Q_{\\text{pair}} \\approx \\beta Q + (1 - \\beta) Q^{2}$, where $\\beta \\in [0,1]$ is the CCF fraction. Use the rare-event approximation for unions of low-probability events where appropriate.\n\nThe basic parameters obtained from the digital twin and maintenance logs are:\n- Presence-sensing channels A and B (identical): dangerous failure rate $\\lambda_{s} = 2 \\times 10^{-6}\\,\\text{h}^{-1}$, repair rate $\\mu_{s} = \\frac{1}{8}\\,\\text{h}^{-1}$, Common Cause Failure fraction $\\beta_{s} = 0.05$.\n- Safety PLC: dangerous failure rate $\\lambda_{p} = 1 \\times 10^{-6}\\,\\text{h}^{-1}$, repair rate $\\mu_{p} = \\frac{1}{4}\\,\\text{h}^{-1}$.\n- Power contactors K$1$ and K$2$ (identical): dangerous failure rate $\\lambda_{k} = 3 \\times 10^{-6}\\,\\text{h}^{-1}$, repair rate $\\mu_{k} = \\frac{1}{12}\\,\\text{h}^{-1}$, Common Cause Failure fraction $\\beta_{k} = 0.02$.\n- At an arbitrary instant, the probability that a human is present in the collaborative zone is $P(\\mathcal{Z}) = p_{Z} = 0.02$ (expressed as a decimal, not a percentage).\n\nUsing only the fundamental definitions and approximations stated above, derive a closed-form expression for the steady-state top-event probability $P(\\mathcal{H})$ at an arbitrary instant. Then evaluate it numerically using the provided parameters. Express the final answer as a dimensionless decimal, and round your answer to three significant figures. Do not use a percentage sign.",
            "solution": "The problem requires the derivation and calculation of the steady-state probability of a hazardous top event, $\\mathcal{H}$, defined as “hazardous robot motion coincident with human presence in the collaborative zone.”\n\nFirst, we establish the logical structure of the problem based on the provided definitions. The top event $\\mathcal{H}$ occurs if and only if the event $\\mathcal{Z}$ (“human present in the collaborative zone”) and the event $\\mathcal{F}$ (“protective stop function is failed dangerously”) both occur. The state of the protective function (hardware) is statistically independent of human presence. Therefore, the probability of the top event is the product of the probabilities of these two independent events:\n$$P(\\mathcal{H}) = P(\\mathcal{Z} \\land \\mathcal{F}) = P(\\mathcal{Z}) P(\\mathcal{F})$$\nThe probability of human presence is given as $P(\\mathcal{Z}) = p_Z = 0.02$. The probability of the protective function being failed, $P(\\mathcal{F})$, is its steady-state unavailability, which we denote as $Q_{\\text{sys}}$.\n$$P(\\mathcal{H}) = p_Z Q_{\\text{sys}}$$\n\nThe event $\\mathcal{F}$ is the logical OR of failures in three independent subsystems: the sensing subsystem ($\\mathcal{F}_S$), the logic solver/PLC subsystem ($\\mathcal{F}_P$), and the final contactor subsystem ($\\mathcal{F}_K$).\n$$\\mathcal{F} = \\mathcal{F}_S \\lor \\mathcal{F}_P \\lor \\mathcal{F}_K$$\nSince the dangerous failure probabilities of these subsystems are expected to be very small, we can use the rare-event approximation for the probability of a union of events, which states that $P(A \\lor B) \\approx P(A) + P(B)$ for low-probability, independent events $A$ and $B$. Applying this to the three subsystems:\n$$Q_{\\text{sys}} = P(\\mathcal{F}) \\approx P(\\mathcal{F}_S) + P(\\mathcal{F}_P) + P(\\mathcal{F}_K)$$\nWe denote the subsystem unavailabilities as $Q_S = P(\\mathcal{F}_S)$, $Q_P = P(\\mathcal{F}_P)$, and $Q_K = P(\\mathcal{F}_K)$. Thus, $Q_{\\text{sys}} \\approx Q_S + Q_P + Q_K$. We now calculate each of these terms.\n\n1.  **Safety PLC Subsystem Unavailability ($Q_P$)**\n    This is a single-channel subsystem. Its steady-state unavailability is given by the formula for a single repairable component:\n    $$Q_P = \\frac{\\lambda_p}{\\lambda_p + \\mu_p}$$\n    Using the provided parameters $\\lambda_{p} = 1 \\times 10^{-6}\\,\\text{h}^{-1}$ and $\\mu_{p} = \\frac{1}{4}\\,\\text{h}^{-1} = 0.25\\,\\text{h}^{-1}$:\n    $$Q_P = \\frac{1 \\times 10^{-6}}{1 \\times 10^{-6} + 0.25} = \\frac{1 \\times 10^{-6}}{0.250001} \\approx 3.999984 \\times 10^{-6}$$\n\n2.  **Presence-Sensing Subsystem Unavailability ($Q_S$)**\n    This is a dual-channel subsystem where a dangerous failure occurs if both channels fail ($2$-out-of-$2$ failure logic). The problem provides the $\\beta$-factor model for this configuration:\n    $$Q_S \\approx \\beta_s Q_s + (1 - \\beta_s) Q_s^{2}$$\n    where $Q_s$ is the unavailability of a single sensing channel and $\\beta_s$ is the Common Cause Failure (CCF) fraction.\n    First, we calculate $Q_s$ using the parameters $\\lambda_{s} = 2 \\times 10^{-6}\\,\\text{h}^{-1}$ and $\\mu_{s} = \\frac{1}{8}\\,\\text{h}^{-1} = 0.125\\,\\text{h}^{-1}$:\n    $$Q_s = \\frac{\\lambda_s}{\\lambda_s + \\mu_s} = \\frac{2 \\times 10^{-6}}{2 \\times 10^{-6} + 0.125} = \\frac{2 \\times 10^{-6}}{0.125002} \\approx 1.5999744 \\times 10^{-5}$$\n    Now, we use this value with $\\beta_s = 0.05$ in the CCF formula:\n    $$Q_S \\approx (0.05)(1.5999744 \\times 10^{-5}) + (1 - 0.05)(1.5999744 \\times 10^{-5})^2$$\n    $$Q_S \\approx 7.999872 \\times 10^{-7} + (0.95)(2.5599181 \\times 10^{-10})$$\n    $$Q_S \\approx 7.999872 \\times 10^{-7} + 2.431922 \\times 10^{-10} \\approx 8.002304 \\times 10^{-7}$$\n\n3.  **Power Contactor Subsystem Unavailability ($Q_K$)**\n    This is also a dual-channel subsystem where a dangerous failure (failure to remove power) occurs if both contactors stick closed ($2$-out-of-$2$ failure logic). The same $\\beta$-factor model applies:\n    $$Q_K \\approx \\beta_k Q_k + (1 - \\beta_k) Q_k^{2}$$\n    First, we calculate the single-contactor unavailability $Q_k$ with parameters $\\lambda_{k} = 3 \\times 10^{-6}\\,\\text{h}^{-1}$ and $\\mu_{k} = \\frac{1}{12}\\,\\text{h}^{-1} \\approx 0.083333\\,\\text{h}^{-1}$:\n    $$Q_k = \\frac{\\lambda_k}{\\lambda_k + \\mu_k} = \\frac{3 \\times 10^{-6}}{3 \\times 10^{-6} + \\frac{1}{12}} = \\frac{3 \\times 10^{-6}}{0.083336333...} \\approx 3.5998704 \\times 10^{-5}$$\n    Now, we use this value with $\\beta_k = 0.02$ in the CCF formula:\n    $$Q_K \\approx (0.02)(3.5998704 \\times 10^{-5}) + (1 - 0.02)(3.5998704 \\times 10^{-5})^2$$\n    $$Q_K \\approx 7.1997408 \\times 10^{-7} + (0.98)(1.2959067 \\times 10^{-9})$$\n    $$Q_K \\approx 7.1997408 \\times 10^{-7} + 1.269988 \\times 10^{-9} \\approx 7.212440 \\times 10^{-7}$$\n\nThe closed-form expression for $P(\\mathcal{H})$ is:\n$$P(\\mathcal{H}) \\approx p_Z \\left( \\left[ \\beta_s \\frac{\\lambda_s}{\\lambda_s + \\mu_s} + (1-\\beta_s) \\left(\\frac{\\lambda_s}{\\lambda_s + \\mu_s}\\right)^2 \\right] + \\left[ \\frac{\\lambda_p}{\\lambda_p + \\mu_p} \\right] + \\left[ \\beta_k \\frac{\\lambda_k}{\\lambda_k + \\mu_k} + (1-\\beta_k) \\left(\\frac{\\lambda_k}{\\lambda_k + \\mu_k}\\right)^2 \\right] \\right)$$\n\nNow, we sum the subsystem unavailabilities to find the total system unavailability $Q_{\\text{sys}}$:\n$$Q_{\\text{sys}} \\approx Q_S + Q_P + Q_K$$\n$$Q_{\\text{sys}} \\approx (8.002304 \\times 10^{-7}) + (3.999984 \\times 10^{-6}) + (7.212440 \\times 10^{-7})$$\n$$Q_{\\text{sys}} \\approx (0.8002304 + 3.999984 + 0.7212440) \\times 10^{-6}$$\n$$Q_{\\text{sys}} \\approx 5.5214584 \\times 10^{-6}$$\n\nFinally, we calculate the top-event probability $P(\\mathcal{H})$ by multiplying the system unavailability by the probability of human presence, $p_Z = 0.02$:\n$$P(\\mathcal{H}) = p_Z Q_{\\text{sys}}$$\n$$P(\\mathcal{H}) \\approx (0.02) \\times (5.5214584 \\times 10^{-6})$$\n$$P(\\mathcal{H}) \\approx 1.10429168 \\times 10^{-7}$$\n\nRounding the result to three significant figures as requested:\n$$P(\\mathcal{H}) \\approx 1.10 \\times 10^{-7}$$\nThis value represents the probability, at an arbitrary instant in time, of finding the system in a hazardous state where the robot is capable of dangerous motion while a human is present in the collaborative zone.",
            "answer": "$$\\boxed{1.10 \\times 10^{-7}}$$"
        },
        {
            "introduction": "For systems that are designed to be repaired, static models like Fault Tree Analysis can be insufficient. This advanced practice introduces a more powerful, dynamic approach using Continuous-Time Markov Chains (CTMC) to model a redundant system that includes both failure (rate $\\lambda$) and repair (rate $\\mu$) processes . By deriving the governing equations from first principles, you will gain a deeper understanding of how a system's state transitions between operational, failed, and repaired conditions, and how this dynamic interplay determines the long-term probability of failure.",
            "id": "4223917",
            "problem": "Consider a safety-related control function implemented with a redundant two-out-of-three ($2$oo$3$) voting architecture in a Cyber-Physical System (CPS) whose behavior is mirrored by a Digital Twin. In the context of International Electrotechnical Commission (IEC) $61508$ functional safety, model dangerous undetected failures and automated diagnostics with repair using a Continuous-Time Markov Chain (CTMC). Assume the following scientifically standard and widely accepted base:\n\n- Each of the $3$ identical channels fails dangerously and remains undetected initially, with independent exponentially distributed times to failure at rate $\\lambda$ in $h^{-1}$ per channel.\n- Automated diagnostics continuously monitor the system and independently initiate repair actions on latent dangerous failures. Each failed channel is repaired with independent exponentially distributed repair time at rate $\\mu$ in $h^{-1}$ per failed channel, restoring it to an as-good-as-new state. Assume $\\mu > 0$.\n- Channels and diagnostic-repair actions are statistically independent across channels and over time.\n- The $2$oo$3$ system produces a dangerous failure whenever fewer than $2$ channels are in the correctly functioning state, which in this model is equivalent to having at least $2$ channels in latent dangerous failure at the same time.\n\nFormulate a CTMC where each state $S_i$ for $i \\in \\{0,1,2,3\\}$ represents the number $i$ of latent dangerous failed channels. Using only fundamental CTMC definitions (state balance at steady state and exponential transition rates) and without employing any shortcut formulas, derive from first principles the steady-state probability that the system is in a dangerous failure state (i.e., the probability of being in $S_2$ or $S_3$ at stationarity). You must express this probability as a dimensionless decimal (no percentage sign).\n\nThen implement a program that, for specified $(\\lambda,\\mu)$ pairs, computes and outputs the steady-state dangerous failure probability for each pair. All inputs $\\lambda$ and $\\mu$ are in $h^{-1}$, and the outputs are dimensionless decimals.\n\nTest Suite:\n- Case $1$ (happy path): $\\lambda = 1\\times 10^{-6}$, $\\mu = 1\\times 10^{-3}$.\n- Case $2$ (boundary, no failures): $\\lambda = 0$, $\\mu = 1\\times 10^{-3}$.\n- Case $3$ (fast repair): $\\lambda = 1\\times 10^{-5}$, $\\mu = 1$.\n- Case $4$ (repair much slower than failure): $\\lambda = 1\\times 10^{-3}$, $\\mu = 1\\times 10^{-6}$.\n- Case $5$ (balanced rates): $\\lambda = 1\\times 10^{-4}$, $\\mu = 1\\times 10^{-4}$.\n\nFinal Output Format:\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets (e.g., $\"[result_1,result_2,\\dots]\"$), where each $result_i$ is the computed dangerous failure probability for the corresponding test case, expressed as a decimal.",
            "solution": "The user-provided problem statement is subjected to a rigorous validation process before any attempt at a solution.\n\n### Step 1: Extract Givens\n- **System Architecture**: Two-out-of-three ($2$oo$3$) redundant voting architecture.\n- **System Context**: Cyber-Physical System (CPS) with a Digital Twin, analyzed under IEC $61508$ functional safety standard.\n- **Modeling Technique**: Continuous-Time Markov Chain (CTMC).\n- **Failure Mode**: Dangerous undetected failures.\n- **Components**: $3$ identical channels.\n- **Failure Process**: Independent, exponentially distributed times to failure for each channel with a rate of $\\lambda$ in $h^{-1}$.\n- **Repair Process**: Automated diagnostics initiate repair on latent failures. Repair time for each failed channel is independent and exponentially distributed with a rate of $\\mu$ in $h^{-1}$. Repair restores a channel to an as-good-as-new state. It is given that $\\mu > 0$.\n- **Independence**: All channel failures and repair actions are statistically independent.\n- **System Failure Condition**: The $2$oo$3$ system experiences a dangerous failure when fewer than $2$ channels are correctly functioning, which is equivalent to having $2$ or more channels in a latent dangerous failure state.\n- **CTMC States**: The state $S_i$ represents the system having $i$ latent dangerous failed channels, where $i \\in \\{0, 1, 2, 3\\}$.\n- **Objective**: Derive the steady-state probability of the system being in a dangerous failure state ($S_2$ or $S_3$) from first principles (state balance equations). The result is to be expressed as a dimensionless decimal.\n- **Implementation Task**: Develop a Python program to calculate this probability for given pairs of $(\\lambda, \\mu)$.\n- **Test Suite**:\n  - Case $1$: $\\lambda = 1 \\times 10^{-6} \\, h^{-1}$, $\\mu = 1 \\times 10^{-3} \\, h^{-1}$.\n  - Case $2$: $\\lambda = 0 \\, h^{-1}$, $\\mu = 1 \\times 10^{-3} \\, h^{-1}$.\n  - Case $3$: $\\lambda = 1 \\times 10^{-5} \\, h^{-1}$, $\\mu = 1 \\, h^{-1}$.\n  - Case $4$: $\\lambda = 1 \\times 10^{-3} \\, h^{-1}$, $\\mu = 1 \\times 10^{-6} \\, h^{-1}$.\n  - Case $5$: $\\lambda = 1 \\times 10^{-4} \\, h^{-1}$, $\\mu = 1 \\times 10^{-4} \\, h^{-1}$.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is found to be valid.\n- **Scientifically Grounded**: The problem is based on the standard and scientifically accepted methodology of using Continuous-Time Markov Chains for reliability and safety analysis, a cornerstone of reliability engineering and practices recommended by standards like IEC $61508$. The assumptions of exponential distributions and statistical independence are standard for creating a tractable and well-understood model (a birth-death process).\n- **Well-Posed**: The problem is clearly defined. It describes a finite-state, irreducible CTMC. The condition $\\mu > 0$ ensures the chain is ergodic, guaranteeing the existence of a unique, stable, and meaningful steady-state probability distribution. The quantity to be calculated is explicitly defined.\n- **Objective**: The problem statement is written in precise, objective, and unambiguous scientific language. All terms are either standard in the field or explicitly defined.\n- **Completeness and Consistency**: The problem provides all necessary information (states, failure rates, repair rates, system failure definition) to construct the model and derive the solution. There are no contradictions.\n- **Realism**: The model is a standard, albeit simplified, representation of a redundant safety system. The parameter values in the test suite are physically plausible for representing various scenarios of component reliability and maintenance efficiency.\n\n### Step 3: Verdict and Action\nThe problem is VALID. A full, reasoned solution will be provided.\n\n### Derivation from First Principles\nThe system can be modeled as a birth-death process, which is a special case of a CTMC. The states $S_i$ are defined by the number $i$ of failed channels, for $i \\in \\{0, 1, 2, 3\\}$.\n\n**1. Determine Transition Rates**\nLet the system be in state $S_i$, meaning $i$ channels have failed and $3-i$ channels are operational.\n-   **Failure (Birth) Rate**: Each of the $3-i$ operational channels can fail with rate $\\lambda$. Due to independence, the total transition rate from $S_i$ to $S_{i+1}$ is $(3-i)\\lambda$.\n-   **Repair (Death) Rate**: Each of the $i$ failed channels can be repaired with rate $\\mu$. Due to independence, the total transition rate from $S_i$ to $S_{i-1}$ is $i\\mu$.\n\nThe specific transition rates are:\n-   From $S_0$ to $S_1$: $3$ channels can fail. Rate: $3\\lambda$.\n-   From $S_1$ to $S_0$: $1$ channel can be repaired. Rate: $\\mu$.\n-   From $S_1$ to $S_2$: $2$ channels can fail. Rate: $2\\lambda$.\n-   From $S_2$ to $S_1$: $2$ channels can be repaired. Rate: $2\\mu$.\n-   From $S_2$ to $S_3$: $1$ channel can fail. Rate: $\\lambda$.\n-   From $S_3$ to $S_2$: $3$ channels can be repaired. Rate: $3\\mu$.\n\nThe state transition diagram is:\n$$ S_0 \\underset{\\mu}{\\stackrel{3\\lambda}{\\rightleftharpoons}} S_1 \\underset{2\\mu}{\\stackrel{2\\lambda}{\\rightleftharpoons}} S_2 \\underset{3\\mu}{\\stackrel{\\lambda}{\\rightleftharpoons}} S_3 $$\n\n**2. Formulate and Solve Balance Equations**\nLet $P_i$ be the steady-state probability of being in state $S_i$. At steady state, the rate of flow into any state equals the rate of flow out of it. For a birth-death process, we can use the detailed balance equations across a hypothetical cut between adjacent states.\n\n-   Balance between $S_0$ and $S_1$:\n    $$ P_0 (3\\lambda) = P_1 \\mu \\implies P_1 = P_0 \\frac{3\\lambda}{\\mu} $$\n-   Balance between $S_1$ and $S_2$:\n    $$ P_1 (2\\lambda) = P_2 (2\\mu) \\implies P_2 = P_1 \\frac{2\\lambda}{2\\mu} = P_1 \\frac{\\lambda}{\\mu} $$\n    Substituting the expression for $P_1$:\n    $$ P_2 = \\left(P_0 \\frac{3\\lambda}{\\mu}\\right) \\frac{\\lambda}{\\mu} = P_0 \\frac{3\\lambda^2}{\\mu^2} $$\n-   Balance between $S_2$ and $S_3$:\n    $$ P_2 \\lambda = P_3 (3\\mu) \\implies P_3 = P_2 \\frac{\\lambda}{3\\mu} $$\n    Substituting the expression for $P_2$:\n    $$ P_3 = \\left(P_0 \\frac{3\\lambda^2}{\\mu^2}\\right) \\frac{\\lambda}{3\\mu} = P_0 \\frac{\\lambda^3}{\\mu^3} $$\n\n**3. Apply Normalization Condition**\nThe sum of all steady-state probabilities must equal $1$.\n$$ \\sum_{i=0}^{3} P_i = P_0 + P_1 + P_2 + P_3 = 1 $$\nSubstitute the expressions for $P_1$, $P_2$, and $P_3$ in terms of $P_0$:\n$$ P_0 + P_0 \\frac{3\\lambda}{\\mu} + P_0 \\frac{3\\lambda^2}{\\mu^2} + P_0 \\frac{\\lambda^3}{\\mu^3} = 1 $$\nFactor out $P_0$:\n$$ P_0 \\left(1 + \\frac{3\\lambda}{\\mu} + \\frac{3\\lambda^2}{\\mu^2} + \\frac{\\lambda^3}{\\mu^3}\\right) = 1 $$\nLet $\\rho = \\frac{\\lambda}{\\mu}$. The expression in the parenthesis is the binomial expansion of $(1+\\rho)^3$:\n$$ P_0 (1 + 3\\rho + 3\\rho^2 + \\rho^3) = P_0 (1+\\rho)^3 = 1 $$\nSolving for $P_0$:\n$$ P_0 = \\frac{1}{(1+\\rho)^3} = \\frac{1}{(1 + \\lambda/\\mu)^3} $$\n\n**4. Calculate the Probability of Dangerous Failure**\nThe system is in a dangerous failure state if it is in $S_2$ or $S_3$. The total probability of dangerous failure, $P_{fail}$, is the sum of the probabilities $P_2$ and $P_3$.\n$$ P_{fail} = P_2 + P_3 $$\nWe express $P_2$ and $P_3$ in terms of $\\rho = \\lambda/\\mu$:\n$$ P_2 = P_0 \\frac{3\\lambda^2}{\\mu^2} = P_0 (3\\rho^2) = \\frac{3\\rho^2}{(1+\\rho)^3} $$\n$$ P_3 = P_0 \\frac{\\lambda^3}{\\mu^3} = P_0 \\rho^3 = \\frac{\\rho^3}{(1+\\rho)^3} $$\nSumming these probabilities gives the final expression:\n$$ P_{fail} = \\frac{3\\rho^2}{(1+\\rho)^3} + \\frac{\\rho^3}{(1+\\rho)^3} = \\frac{3\\rho^2 + \\rho^3}{(1+\\rho)^3} $$\nThis is the derived steady-state probability of dangerous failure for the $2$oo$3$ system, based on first principles. This formula will be implemented in the program.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n# No other libraries are needed for this problem.\n\n# Execution Environment:\n# language: Python\n# version: 3.12\n# libraries:\n# - name: numpy\n#   version: 1.23.5\n# - name: scipy\n#   version: 1.11.4\n\ndef calculate_dangerous_failure_probability(lambda_rate, mu_rate):\n    \"\"\"\n    Calculates the steady-state dangerous failure probability for a 2oo3 system.\n\n    The system is modeled by a Continuous-Time Markov Chain, resulting in the\n    following formula for the probability of being in a dangerous state (2 or 3\n    channels failed):\n    P_fail = (3*rho^2 + rho^3) / (1 + rho)^3\n    where rho = lambda_rate / mu_rate.\n\n    Args:\n        lambda_rate (float): The failure rate per channel (h^-1).\n        mu_rate (float): The repair rate per failed channel (h^-1).\n\n    Returns:\n        float: The dimensionless steady-state dangerous failure probability.\n    \"\"\"\n    # Per the problem description, mu_rate is always > 0.\n    # We must handle the case where lambda_rate is 0.\n    if lambda_rate == 0:\n        return 0.0\n\n    # The ratio of failure rate to repair rate.\n    rho = lambda_rate / mu_rate\n\n    # Numerator of the P_fail formula: 3*rho^2 + rho^3\n    numerator = 3 * np.power(rho, 2) + np.power(rho, 3)\n\n    # Denominator of the P_fail formula: (1 + rho)^3\n    denominator = np.power(1 + rho, 3)\n\n    # In the case where rho is extremely large, both numerator and denominator\n    # can become inf, leading to nan. However, the limit as rho -> inf is 1.\n    # The standard floating point arithmetic handles this case correctly\n    # for plausible large numbers.\n    if denominator == 0:\n        # This case is physically impossible given rho >= 0.\n        # It would only happen on overflow if 1+rho is too big, but numerator\n        # would overflow first or at the same time.\n        return 1.0 # The theoretical limit as rho -> infinity.\n        \n    return numerator / denominator\n\ndef solve():\n    \"\"\"\n    Solves the problem by calculating the dangerous failure probability\n    for a predefined suite of test cases.\n    \"\"\"\n    # Define the test cases from the problem statement.\n    # Each tuple is (lambda_rate, mu_rate) in h^-1.\n    test_cases = [\n        (1e-6, 1e-3),  # Case 1 (happy path)\n        (0.0, 1e-3),   # Case 2 (boundary, no failures)\n        (1e-5, 1.0),   # Case 3 (fast repair)\n        (1e-3, 1e-6),  # Case 4 (repair much slower than failure)\n        (1e-4, 1e-4),  # Case 5 (balanced rates)\n    ]\n\n    results = []\n    for case in test_cases:\n        lambda_val, mu_val = case\n        result = calculate_dangerous_failure_probability(lambda_val, mu_val)\n        results.append(result)\n\n    # Final print statement in the exact required format.\n    # e.g., \"[result_1,result_2,...,result_n]\"\n    # Using a general format specifier to represent floats compactly.\n    print(f\"[{','.join(f'{r:g}' for r in results)}]\")\n\nsolve()\n\n```"
        }
    ]
}