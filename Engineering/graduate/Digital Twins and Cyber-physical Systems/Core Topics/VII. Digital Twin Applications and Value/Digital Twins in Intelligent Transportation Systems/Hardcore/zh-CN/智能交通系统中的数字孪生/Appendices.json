{
    "hands_on_practices": [
        {
            "introduction": "高保真度的数字孪生必须能精确捕捉真实世界中单个车辆的行为。本练习将深入探讨智能驾驶员模型（Intelligent Driver Model, IDM），这是一个基础的车辆跟驰模型，描述了驾驶员如何根据前方车辆调整自身加速度。通过从基本原则出发推导IDM，您将深刻理解微观交通动态是如何被模拟的。",
            "id": "4217654",
            "problem": "一个智能交通系统的城市级数字孪生，使用一种经过验证的微观跟驰定律——智能驾驶员模型（IDM），来复现单车道高速公路上的车辆纵向动力学。该数字孪生融合了跟随车辆及其前方车辆的实时状态估计，以预测跟随车辆的加速度，用于控制和预测。从构成此类行为模型基础的以下建模原则出发，推导跟随车辆瞬时加速度的解析表达式。该表达式应由以下参数表示：跟随车辆速度 $v$、前方车辆速度 $v_{l}$、净车头间距 $s$、期望速度 $v_{0}$、最大加速度 $a$、舒适减速度 $b$、期望车头时距 $T$、静止间距 $s_{0}$ 以及自由流趋近指数 $\\delta$：\n- 在自由流中，加速度倾向于使速度松弛至期望速度 $v_{0}$。平滑指数 $\\delta$ 控制着当 $v$ 趋近 $v_{0}$ 时，对 $v_{0}$ 的趋近过程被抑制的激进程度。\n- 当实际间距 $s$ 小于动态期望间距 $s^{\\ast}$ 时，减速需求会增加。动态期望间距 $s^{\\ast}$ 结合了静止偏移量 $s_{0}$、车头时距分量 $vT$ 以及一个额外项。该额外项考虑了在舒适制动能力 $b$ 下，为安全消除正的接近速度 $\\Delta v = v - v_{l}$ 所需的额外距离。此额外项必须与匀减速运动学一致，并且必须通过一个无量纲结构与自由流松弛项聚合，以实现不同工况间的平滑过渡，并确保在所有有限状态下加速度都是有限的。\n- 相互作用结构必须 (i) 在比率 $s^{\\ast}/s$ 上是无量纲的，(ii) 当 $s \\gg s^{\\ast}$ 时，相互作用减小至可忽略不计，以及 (iii) 在 $\\Delta v$ 为小的正值的接近场景中，能够再现一个由 $b$ 设定特征尺度的制动响应。\n\n仅使用这些原则和匀加速运动的基本运动学，得出标准的 IDM 加速度定律，然后针对以下代表数字孪生融合快照的参数化和状态，计算跟随车辆的加速度：\n- $a = 1.0$ m/s$^{2}$， $b = 2.0$ m/s$^{2}$， $v_{0} = 30$ m/s， $T = 1.5$ s， $s_{0} = 2$ m， 以及 $\\delta = 4$，\n- 前方车辆速度 $v_{l} = 20$ m/s， 跟随车辆速度 $v = 25$ m/s， 间距 $s = 20$ m。\n\n以 m/s$^{2}$ 为单位表示最终加速度，并将答案四舍五入至四位有效数字。",
            "solution": "该问题要求基于一套基本原则，推导由智能驾驶员模型（IDM）描述的跟随车辆的瞬时加速度。随后，必须针对一组特定的参数和状态变量，对这个推导出的表达式进行求值。\n\n### 第1部分：IDM 加速度定律的推导\n\n问题陈述提供了一系列建模原则，我们将把它形式化为一个数学方程来表示跟随车辆的加速度，记为 $\\ddot{x}$。\n\n**原则1：自由流加速度**\n第一个原则指出“在自由流中，加速度倾向于使速度松弛至期望速度 $v_{0}$。平滑指数 $\\delta$ 控制着当 $v$ 趋近 $v_{0}$ 时，对 $v_{0}$ 的趋近过程被抑制的激进程度。” 这描述了车辆在不受前方车辆影响时（即间距 $s$ 非常大时）的行为。最大加速度为 $a$。一个能捕捉这种行为的函数形式是一个加速度项，当车辆静止（$v=0$）时，该项等于 $a$；当车速 $v$ 趋近于期望速度 $v_{0}$ 时，该项平滑地减小到 $0$。这个自由流加速度分量 $\\ddot{x}_{\\text{free}}$ 的表达式为：\n$$\n\\ddot{x}_{\\text{free}} = a \\left[ 1 - \\left(\\frac{v}{v_0}\\right)^{\\delta} \\right]\n$$\n这里，项 $(v/v_0)^\\delta$ 捕捉了期望的松弛动力学，指数 $\\delta$ 控制着加速度曲线作为速度函数的形状。\n\n**原则2和3：动态期望间距**\n接下来的原则描述了与前方车辆的相互作用。跟随车辆旨在保持一个“动态期望间距” $s^*$。减速需求由该期望间距与实际间距 $s$ 之间的差异驱动。这个期望间距 $s^*$ 由三部分组成：\n1.  一个恒定的静止间距 $s_0$，这是两车都停下时与前车保持的最小距离。\n2.  一个与速度相关的间距 $vT$，其中 $T$ 是期望车头时距。这表示跟随车辆以当前速度 $v$ 在时间 $T$ 内行驶的距离。\n3.  一个与制动相关的项，用于说明从较高的速度 $v$ 安全减速以匹配前方车辆速度 $v_l$ 的情况。接近速度为 $\\Delta v = v - v_l$。原则指出，该项必须与涉及舒适减速度 $b$ 的匀减速运动学一致。尽管原则的措辞可能有多种解释，但对“智能驾驶员模型（IDM）”的明确提及指引我们使用其标准范式。在标准IDM中，这个动态制动间距 $s_{\\text{brake}}$ 考虑了相对速度以及跟随车辆（参数 $b$）和可能的前方车辆（其行为可能不确定，通常通过启发式地使用跟随车辆的最大加速度 $a$ 来捕捉）的制动能力。该项的既定形式是：\n$$\ns_{\\text{brake}} = \\frac{v \\Delta v}{2\\sqrt{ab}} = \\frac{v(v - v_l)}{2\\sqrt{ab}}\n$$\n该项主要在跟随车辆接近前方车辆（$\\Delta v > 0$）时非零。结合这三个分量，动态期望间距 $s^*$ 的完整表达式为：\n$$\ns^*(v, \\Delta v) = s_0 + vT + \\frac{v(v - v_l)}{2\\sqrt{ab}}\n$$\n为确保期望间距永远不小于静止间距，一个更鲁棒的公式是 $s^* = s_0 + \\max\\left(0, vT + \\frac{v(v-v_l)}{2\\sqrt{ab}}\\right)$。对于 $v > 0$ 的典型驾驶场景，使用更简单的加法形式就足够了。\n\n**原则4和5：聚合与相互作用结构**\n最后一步是聚合自由流和相互作用分量。原则要求一个“能够实现不同工况间平滑过渡的无量纲结构”。相互作用项必须基于无量纲比率 $s^*/s$，对于大间距（$s \\gg s^*$）必须消失，并且当 $s$ 小于 $s^*$ 时必须产生强烈的减速。标准的IDM将这些效应合并到一个单一方程中，其中相互作用分量从自由流分量中减去。相互作用项被建模为一个与比率 $s^*/s$ 的平方成正比的减速度：\n$$\n\\ddot{x}_{\\text{int}} = a \\left(\\frac{s^*}{s}\\right)^2\n$$\n总加速度 $\\ddot{x}$ 是自由流加速度趋势与相互作用引起的减速度之和：\n$$\n\\ddot{x} = \\ddot{x}_{\\text{free}} - \\ddot{x}_{\\text{int}}\n$$\n代入各部分的表达式，得到完整的 IDM 加速度定律：\n$$\n\\ddot{x} = a \\left[ 1 - \\left(\\frac{v}{v_0}\\right)^{\\delta} \\right] - a \\left(\\frac{s_0 + vT + \\frac{v(v - v_l)}{2\\sqrt{ab}}}{s}\\right)^2\n$$\n这可以更紧凑地写成：\n$$\n\\ddot{x} = a \\left[ 1 - \\left(\\frac{v}{v_0}\\right)^{\\delta} - \\left(\\frac{s^*}{s}\\right)^2 \\right]\n$$\n这个最终表达式满足所有陈述的原则，并代表了智能驾驶员模型的标准形式。\n\n### 第2部分：针对给定状态和参数的求值\n\n我们得到以下给定的值：\n**参数：**\n$a = 1.0 \\text{ m/s}^2$\n$b = 2.0 \\text{ m/s}^2$\n$v_0 = 30 \\text{ m/s}$\n$T = 1.5 \\text{ s}$\n$s_0 = 2 \\text{ m}$\n$\\delta = 4$\n\n**状态变量：**\n$v_l = 20 \\text{ m/s}$\n$v = 25 \\text{ m/s}$\n$s = 20 \\text{ m}$\n\n首先，我们计算加速度表达式所需的中间量。\n\n1.  **接近速度 $\\Delta v$**：\n    $$\n    \\Delta v = v - v_l = 25 \\, \\text{m/s} - 20 \\, \\text{m/s} = 5 \\, \\text{m/s}\n    $$\n\n2.  **动态期望间距 $s^*$**：我们首先计算 $s^*$ 的各分量。\n    车头时距分量为 $vT = (25 \\, \\text{m/s})(1.5 \\, \\text{s}) = 37.5 \\, \\text{m}$。\n    制动分量的分母为 $2\\sqrt{ab} = 2\\sqrt{(1.0)(2.0)} = 2\\sqrt{2} \\, \\text{m/s}$。\n    制动分量的分子为 $v \\Delta v = (25 \\, \\text{m/s})(5 \\, \\text{m/s}) = 125 \\, \\text{m}^2/\\text{s}^2$。\n    所以，制动间距为 $s_{\\text{brake}} = \\frac{125}{2\\sqrt{2}} \\, \\text{m}$。\n    总期望间距为：\n    $$\n    s^* = s_0 + vT + s_{\\text{brake}} = 2 + 37.5 + \\frac{125}{2\\sqrt{2}} = 39.5 + \\frac{125}{2\\sqrt{2}} \\, \\text{m}\n    $$\n\n3.  **自由流项**：\n    $$\n    \\left(\\frac{v}{v_0}\\right)^{\\delta} = \\left(\\frac{25}{30}\\right)^{4} = \\left(\\frac{5}{6}\\right)^{4} = \\frac{625}{1296}\n    $$\n\n4.  **相互作用项**：\n    $$\n    \\left(\\frac{s^*}{s}\\right)^2 = \\left(\\frac{39.5 + \\frac{125}{2\\sqrt{2}}}{20}\\right)^2\n    $$\n\n现在，我们将这些值代入 IDM 加速度方程 $\\ddot{x}$ 中：\n$$\n\\ddot{x} = 1.0 \\times \\left[ 1 - \\frac{625}{1296} - \\left(\\frac{39.5 + \\frac{125}{2\\sqrt{2}}}{20}\\right)^2 \\right]\n$$\n让我们对这些项进行数值计算：\n$$\n\\frac{125}{2\\sqrt{2}} \\approx \\frac{125}{2 \\times 1.41421356} \\approx 44.1941738 \\, \\text{m}\n$$\n$$\ns^* \\approx 39.5 + 44.1941738 = 83.6941738 \\, \\text{m}\n$$\n$$\n\\frac{s^*}{s} \\approx \\frac{83.6941738}{20} = 4.18470869\n$$\n$$\n\\left(\\frac{s^*}{s}\\right)^2 \\approx (4.18470869)^2 \\approx 17.511783\n$$\n$$\n\\left(\\frac{v}{v_0}\\right)^{\\delta} = \\frac{625}{1296} \\approx 0.482253086\n$$\n最后，加速度为：\n$$\n\\ddot{x} \\approx 1.0 \\times [1 - 0.482253086 - 17.511783]\n$$\n$$\n\\ddot{x} \\approx 1 - 17.994036 = -16.994036 \\, \\text{m/s}^2\n$$\n按照要求将结果四舍五入到四位有效数字，我们得到：\n$$\n\\ddot{x} \\approx -16.99 \\, \\text{m/s}^2\n$$\n这个大的负值表明模型预测了一个紧急制动响应，考虑到在 $25$ m/s 的高绝对速度下，存在小间距（$20$ m）和高接近速度（$5$ m/s），这是预料之中的。实际间距远小于计算出的约 $84$ m 的期望安全间距。",
            "answer": "$$\\boxed{-16.99}$$"
        },
        {
            "introduction": "除了模拟个体车辆的互动，数字孪生还必须能够预测由成千上万驾驶员的集体选择所产生的大规模交通模式。本实践将探讨瓦尔德罗普的用户均衡原则（Wardrop's User Equilibrium principle），该原则为理解交通流量如何在路网中分布提供了一个强大的框架。解决这个问题将向您展示如何对整个交通系统的涌现行为进行建模和预测。",
            "id": "4217665",
            "problem": "一个城市部署了其智能交通系统 (ITS) 的数字孪生 (DT)，该数字孪生作为一个信息物理系统 (CPS) 来实现，它将现场传感器与出行者行为的计算模型进行同步。对于一个由两条平行路径连接的单一OD对，数字孪生将路径出行时间表示为可分离的、依赖于流量的函数，单位为分钟：$T_1(f_1)=10+0.01\\,f_1$ 和 $T_2(f_2)=12+0.005\\,f_2$，其中 $f_1$ 和 $f_2$ 表示路径流量，单位为“辆/小时”。总需求满足流量守恒 $f_1+f_2=1000$。假设出行者是非合作的，时间价值相同，并根据 Wardrop 用户均衡第一原则 (UE) 对路径出行时间做出反应：在均衡状态下，没有出行者能通过单方面改变路径来减少其出行时间。\n\n仅从用户均衡和流量守恒的定义出发，推导对于具有严格递增、连续、可分离的出行时间函数的两条平行路径，表征用户均衡 (UE) 的条件，并使用这些条件求解给定函数下的路径流量 $f_1$ 和 $f_2$。验证所得解是否满足非负性和用户均衡条件。提供精确的路径流量（不要四舍五入），并以“辆/小时”为单位报告流量。你的最终答案必须是包含 $f_1$ 和 $f_2$ 的单个行向量。",
            "solution": "### 推导与求解\n\n该问题要求解满足 Wardrop 用户均衡第一原则 (UE) 的路径流量 $f_1$ 和 $f_2$。该原则指出，在均衡状态下，没有出行者能通过单方面改变路径来减少其出行时间。对于具有连续且严格递增的出行时间函数的网络，该原则意味着所有被使用的路径（即流量为正的路径）将具有相同的出行时间。任何未被使用的路径，其出行时间将大于或等于被使用路径的出行时间。\n\n设总流量为 $F$，给定 $F = 1000$。流量必须满足守恒条件 $f_1 + f_2 = F$，并且是非负的，$f_1 \\ge 0$ 和 $f_2 \\ge 0$。出行时间函数为 $T_1(f_1) = 10 + 0.01 f_1$ 和 $T_2(f_2) = 12 + 0.005 f_2$。\n\n我们必须从该原则的定义出发，推导出表征用户均衡 (UE) 状态的条件。让我们考虑可能的流量分布：\n\n情况 1：所有交通都使用路径 1。\n这意味着 $f_1 = 1000$ 且 $f_2 = 0$。要使之成为均衡状态，路径 1 上的用户必须没有动机转换到路径 2。路径 1 上的出行时间为 $T_1(1000) = 10 + 0.01(1000) = 10 + 10 = 20$ 分钟。一个单独的转换者在空闲的路径 2 上会经历的出行时间是 $T_2(0) = 12 + 0.005(0) = 12$ 分钟。由于 $T_1(1000) > T_2(0)$，路径 1 上的用户可以转换到路径 2，将其出行时间从 20 分钟减少到 12 分钟。这违反了用户均衡原则。因此，这不是一个均衡状态。\n\n情况 2：所有交通都使用路径 2。\n这意味着 $f_1 = 0$ 且 $f_2 = 1000$。路径 2 上的出行时间为 $T_2(1000) = 12 + 0.005(1000) = 12 + 5 = 17$ 分钟。一个单独的转换者在空闲的路径 1 上会经历的出行时间是 $T_1(0) = 10 + 0.01(0) = 10$ 分钟。由于 $T_2(1000) > T_1(0)$，路径 2 上的用户可以转换到路径 1，将其出行时间从 17 分钟减少到 10 分钟。这也违反了用户均衡原则。因此，这不是一个均衡状态。\n\n情况 3：两条路径都被使用。\n由于两种“角”解（即一条路径流量为零）都不构成均衡，均衡流量模式必须是“内部”解，即两条路径都有交通流量，即 $f_1 > 0$ 且 $f_2 > 0$。根据用户均衡原则，如果两条路径都被使用，它们的出行时间必须相等。如果时间不相等，较慢路径上的出行者会转换到较快路径上，这个过程会一直持续到出行时间相等为止。\n\n因此，该系统的用户均衡 (UE) 条件是：\n$T_1(f_1) = T_2(f_2)$\n\n我们现在有一个包含两个变量 $f_1$ 和 $f_2$ 的二元线性方程组：\n1. 均衡条件：$10 + 0.01 f_1 = 12 + 0.005 f_2$\n2. 流量守恒：$f_1 + f_2 = 1000$\n\n从流量守恒方程，我们可以用 $f_1$ 表示 $f_2$：\n$f_2 = 1000 - f_1$\n\n将此表达式代入均衡条件方程：\n$10 + 0.01 f_1 = 12 + 0.005(1000 - f_1)$\n$10 + 0.01 f_1 = 12 + 5 - 0.005 f_1$\n$10 + 0.01 f_1 = 17 - 0.005 f_1$\n\n现在，将含有 $f_1$ 的项移到一边，常数项移到另一边：\n$0.01 f_1 + 0.005 f_1 = 17 - 10$\n$0.015 f_1 = 7$\n\n求解 $f_1$：\n$f_1 = \\frac{7}{0.015} = \\frac{7}{\\frac{15}{1000}} = \\frac{7000}{15}$\n分子分母同除以 $5$ 来简化分数：\n$f_1 = \\frac{1400}{3}$\n\n现在，使用流量守恒方程求解 $f_2$：\n$f_2 = 1000 - f_1 = 1000 - \\frac{1400}{3} = \\frac{3000}{3} - \\frac{1400}{3} = \\frac{1600}{3}$\n\n路径流量的解为 $f_1 = \\frac{1400}{3}$ 和 $f_2 = \\frac{1600}{3}$。\n\n最后，我们必须验证该解是否满足所需条件。\n1.  **非负性：** $f_1 = \\frac{1400}{3} > 0$ 且 $f_2 = \\frac{1600}{3} > 0$。两个流量均为正，这与我们关于内部解的假设一致。\n2.  **流量守恒：** $f_1 + f_2 = \\frac{1400}{3} + \\frac{1600}{3} = \\frac{3000}{3} = 1000$。总流量守恒。\n3.  **用户均衡条件（出行时间相等）：**\n    $T_1(f_1) = 10 + 0.01\\left(\\frac{1400}{3}\\right) = 10 + \\frac{14}{3} = \\frac{30}{3} + \\frac{14}{3} = \\frac{44}{3}$\n    $T_2(f_2) = 12 + 0.005\\left(\\frac{1600}{3}\\right) = 12 + \\frac{1}{200}\\left(\\frac{1600}{3}\\right) = 12 + \\frac{8}{3} = \\frac{36}{3} + \\frac{8}{3} = \\frac{44}{3}$\n    出行时间相等，$T_1 = T_2 = \\frac{44}{3}$ 分钟。用户均衡条件得到满足。\n\n推导出的流量构成了给定系统的唯一用户均衡。",
            "answer": "$$\\boxed{\\begin{pmatrix} \\frac{1400}{3}  \\frac{1600}{3} \\end{pmatrix}}$$"
        },
        {
            "introduction": "智能交通系统的数字孪生依赖于一个强大的信息物理基础设施，其中边缘服务器需要以低延迟处理海量数据。本练习运用排队论来建模和分析这样一个服务器的性能。通过应用M/M/1排队模型，您将学习如何计算等待时间和队列长度等关键性能指标，这对于设计和规划数字孪生的计算骨干至关重要。",
            "id": "4217625",
            "problem": "一个信息物理系统（Cyber-Physical System, CPS）中智能交通系统（Intelligent Transportation System, ITS）边缘计算节点的数字孪生，模拟了在路边边缘服务器上处理的关键安全车辆数据包的排队行为。车辆根据速率为 $\\lambda$ 的泊松过程生成数据包，服务器处理数据包的服务时间独立且服从速率为 $\\mu$ 的指数分布。在这些假设下，系统中的数据包数量演变为一个连续时间生灭马尔可夫链，对应于一个马尔可夫到达、马尔可夫服务、单服务器队列（$M/M/1$）。\n\n假设到达率为 $\\lambda = 100$ packets$\\cdot$s$^{-1}$，服务率为 $\\mu = 150$ packets$\\cdot$s$^{-1}$。使用生灭过程公式和平稳状态下的 Kolmogorov 平衡方程，推导系统中数据包数量的平稳分布。基于此分布和基本原理（包括无记忆性和利特尔定律），求出队列中的稳态平均等待数据包数（表示为 $L_{q}$）和队列中的稳态平均等待时间（不包括服务时间，表示为 $W_{q}$）。\n\n提供 $L_{q}$ 和 $W_{q}$ 的精确值（在适用时使用分数）。$W_{q}$ 以秒为单位表示。最终答案必须以包含 $L_{q}$ 和 $W_{q}$ 的单行向量形式给出。",
            "solution": "该系统被建模为一个连续时间生灭过程，其中状态 $n \\in \\{0, 1, 2, ...\\}$ 表示系统中的数据包总数（包括在队列中和在服务中的）。\n\n数据包的到达是一个速率恒为 $\\lambda = 100$ 包/秒的泊松过程。这意味着出生率与状态无关：对于所有 $n \\geq 0$，$\\lambda_n = \\lambda$。\n\n服务时间服从速率为 $\\mu = 150$ 包/秒的指数分布。服务器一次只能处理一个数据包。因此，死亡率（服务完成率）在系统中至少有一个数据包时（$n \\geq 1$）为 $\\mu_n = \\mu$，在系统为空时（$n=0$）为 $\\mu_n = 0$。\n\n泊松到达过程和指数服务时间分布的无记忆性是基础，因为它使得该系统可以被建模为马尔可夫链。系统的未来演化仅取决于当前状态（数据包数量 $n$），而与到达历史或当前数据包已消耗的服务时间无关。\n\n为了找到平稳分布，我们使用 Kolmogorov 平衡方程。该方程指出，在稳态下，离开任何状态 $n$ 的速率必须等于进入该状态的速率。\n\n对于状态 $n=0$：\n离开状态 $0$ 的速率是由于到达，以速率 $\\lambda$ 发生。进入状态 $0$ 的速率是由于从状态 $1$ 完成服务，以速率 $\\mu$ 发生。\n$$ \\lambda \\pi_0 = \\mu \\pi_1 $$\n其中 $\\pi_n$ 是处于状态 $n$ 的平稳概率。\n\n对于任何状态 $n \\geq 1$：\n离开状态 $n$ 的速率是到达率 $\\lambda$（转移到状态 $n+1$）和服务完成率 $\\mu$（转移到状态 $n-1$）之和。进入状态 $n$ 的速率是来自状态 $n-1$ 的到达率（$\\lambda$）和来自状态 $n+1$ 的服务完成率（$\\mu$）之和。\n$$ (\\lambda + \\mu) \\pi_n = \\lambda \\pi_{n-1} + \\mu \\pi_{n+1} $$\n\n我们可以递归地求解这些方程。从状态 $0$ 的平衡方程可知：\n$$ \\pi_1 = \\frac{\\lambda}{\\mu} \\pi_0 $$\n让我们定义流量强度 $\\rho = \\frac{\\lambda}{\\mu}$。那么 $\\pi_1 = \\rho \\pi_0$。\n对于 $n=1$，平衡方程为 $(\\lambda+\\mu)\\pi_1 = \\lambda\\pi_0 + \\mu\\pi_2$。代入 $\\lambda\\pi_0 = \\mu\\pi_1$：\n$$ (\\lambda+\\mu)\\pi_1 = \\mu\\pi_1 + \\mu\\pi_2 \\implies \\lambda\\pi_1 = \\mu\\pi_2 \\implies \\pi_2 = \\frac{\\lambda}{\\mu}\\pi_1 = \\rho \\pi_1 = \\rho (\\rho \\pi_0) = \\rho^2 \\pi_0 $$\n通过归纳法，我们建立了一般关系：\n$$ \\pi_n = \\rho^n \\pi_0 \\quad \\text{for } n \\geq 0 $$\n\n为了求出 $\\pi_0$，我们使用归一化条件，即所有概率之和必须等于 $1$：\n$$ \\sum_{n=0}^{\\infty} \\pi_n = 1 $$\n$$ \\sum_{n=0}^{\\infty} \\rho^n \\pi_0 = \\pi_0 \\sum_{n=0}^{\\infty} \\rho^n = 1 $$\n该求和是一个几何级数。为了使平稳分布存在，队列必须是稳定的，这要求 $\\rho  1$。给定 $\\lambda=100$ 和 $\\mu=150$，我们有 $\\rho = \\frac{100}{150} = \\frac{2}{3}  1$，所以系统是稳定的。几何级数的和是 $\\sum_{n=0}^{\\infty} \\rho^n = \\frac{1}{1-\\rho}$。\n将此代入归一化方程：\n$$ \\pi_0 \\left(\\frac{1}{1-\\rho}\\right) = 1 \\implies \\pi_0 = 1 - \\rho $$\n因此，$M/M/1$ 系统中数据包数量的平稳分布是一个几何分布：\n$$ \\pi_n = (1-\\rho)\\rho^n \\quad \\text{for } n \\geq 0 $$\n\n接下来，我们推导队列中的平均数据包数 $L_q$。如果系统中有 $n \\ge 1$ 个数据包，队列中的数据包数 $N_q$ 为 $n-1$；如果系统为空，则为 $0$。队列中的平均数据包数 $L_q$ 是 $N_q$ 的期望值：\n$$ L_q = E[N_q] = \\sum_{n=0}^{\\infty} \\max(0, n-1) \\pi_n = \\sum_{n=1}^{\\infty} (n-1) \\pi_n $$\n$$ L_q = \\sum_{n=1}^{\\infty} n\\pi_n - \\sum_{n=1}^{\\infty} \\pi_n $$\n第一项 $\\sum_{n=1}^{\\infty} n\\pi_n$ 是整个系统中的平均数据包数，即 $L = E[N] = \\sum_{n=0}^{\\infty} n\\pi_n$。\n第二项 $\\sum_{n=1}^{\\infty} \\pi_n$ 是系统不为空的概率，即 $1 - \\pi_0 = 1 - (1-\\rho) = \\rho$。这也是服务器的利用率。\n所以，$L_q = L - \\rho$。\n\n让我们计算 $L$：\n$$ L = \\sum_{n=0}^{\\infty} n \\pi_n = \\sum_{n=0}^{\\infty} n (1-\\rho)\\rho^n = (1-\\rho) \\sum_{n=0}^{\\infty} n \\rho^n $$\n使用类几何分布期望的恒等式 $\\sum_{n=0}^{\\infty} n x^n = x \\frac{d}{dx} \\sum_{n=0}^{\\infty} x^n = x \\frac{d}{dx}\\left(\\frac{1}{1-x}\\right) = \\frac{x}{(1-x)^2}$：\n$$ L = (1-\\rho) \\frac{\\rho}{(1-\\rho)^2} = \\frac{\\rho}{1-\\rho} $$\n现在我们可以求出 $L_q$：\n$$ L_q = L - \\rho = \\frac{\\rho}{1-\\rho} - \\rho = \\frac{\\rho - \\rho(1-\\rho)}{1-\\rho} = \\frac{\\rho - \\rho + \\rho^2}{1-\\rho} = \\frac{\\rho^2}{1-\\rho} $$\n代入值 $\\rho = \\frac{2}{3}$：\n$$ L_q = \\frac{(\\frac{2}{3})^2}{1 - \\frac{2}{3}} = \\frac{\\frac{4}{9}}{\\frac{1}{3}} = \\frac{4}{9} \\times 3 = \\frac{4}{3} $$\n\n最后，我们使用利特尔定律（Little's Law）求出队列中的平均等待时间 $W_q$。利特尔定律指出，对于一个稳定系统，子系统中的平均顾客数（$L_{sub}$）等于进入该子系统的有效到达率（$\\lambda_{eff}$）乘以顾客在该子系统中花费的平均时间（$W_{sub}$），即 $L_{sub} = \\lambda_{eff} W_{sub}$。\n将此应用于系统的队列部分，我们得到 $L_q = \\lambda W_q$。由于在稳定的 $M/M/1$ 系统中没有数据包丢失，进入队列的到达率即为总到达率 $\\lambda$。\n因此，我们可以通过整理公式求出 $W_q$：\n$$ W_q = \\frac{L_q}{\\lambda} $$\n代入值 $L_q = \\frac{4}{3}$ 和 $\\lambda = 100$：\n$$ W_q = \\frac{\\frac{4}{3}}{100} = \\frac{4}{300} = \\frac{1}{75} \\text{ 秒} $$\n\n所求的值为 $L_q = \\frac{4}{3}$ 和 $W_q = \\frac{1}{75}$ 秒。",
            "answer": "$$\\boxed{\\begin{pmatrix} \\frac{4}{3}  \\frac{1}{75} \\end{pmatrix}}$$"
        }
    ]
}