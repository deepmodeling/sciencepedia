{
    "hands_on_practices": [
        {
            "introduction": "此练习提供了应用差分隐私的基础实践，其核心是为一种常见的时间序列聚合（滑动窗口求和）校准拉普拉斯机制。通过计算 $L_1$ 敏感度并以此确定噪声规模，你将掌握隐私预算 $\\epsilon$ 如何直接影响数据效用（以均方误差衡量）的核心思想。这个基本问题是理解和实施更复杂的时间序列隐私保护机制的起点。",
            "id": "4213204",
            "problem": "一个信息物理系统 (CPS) 的数字孪生 (DT) 维护着一个标量传感器读数的时间序列 $\\{x_t\\}_{t=1}^{T}$，每个读数都界于区间 $[0,1]$ 内。在每个时间索引 $t \\geq w$，分析管道发布一个滚动窗口和，定义为 $f_t(D) = \\sum_{i=t-w+1}^{t} x_i$，其中 $w \\in \\mathbb{N}$ 是固定的窗口长度，$D$ 表示包含该时间序列的数据集。该数字孪生需要一个事件级隐私保证，其中如果两个数据集 $D$ 和 $D'$ 仅在单个索引 $k$ 处存在一个在 $[0,1]$ 内的任意变化，则它们是相邻的。对于每次发布 $t$，机制输出 $\\tilde{f}_t = f_t(D) + Z_t$，其中 $Z_t$ 是从一个均值为零、未知尺度参数 $b > 0$ 的拉普拉斯分布中独立抽取的。要求是，对于一个固定的 $\\epsilon > 0$，在时间 $t$ 的每一次发布都必须满足 $\\epsilon$-差分隐私。\n\n从 $\\epsilon$-差分隐私的定义和拉普拉斯分布的性质出发，推导合适的尺度参数 $b$，以确保在事件级邻近性下，在时间 $t$ 的发布满足 $\\epsilon$-差分隐私。然后，计算每次发布的期望均方误差 $\\mathbb{E}\\!\\left[(\\tilde{f}_t - f_t(D))^2\\right]$ 作为 $\\epsilon$ 的函数。将最终答案表示为一个单行矩阵，按顺序包含校准后的 $b$ 和每次发布的期望均方误差。最终表达式无需四舍五入，也不应包含任何单位。",
            "solution": "用户提供了一个问题陈述，在尝试解答之前需要进行验证。\n\n### 步骤 1：提取已知条件\n-   标量传感器读数的时间序列：$\\{x_t\\}_{t=1}^{T}$。\n-   读数范围：对于所有 $t$，$x_t \\in [0,1]$。\n-   在时间 $t \\geq w$ 的滚动窗口求和函数：$f_t(D) = \\sum_{i=t-w+1}^{t} x_i$。\n-   窗口长度：$w \\in \\mathbb{N}$，固定值。\n-   数据集：$D$ 表示时间序列 $\\{x_t\\}_{t=1}^{T}$。\n-   邻近性定义（事件级隐私）：如果两个数据集 $D$ 和 $D'$ 仅在单个索引 $k$ 处存在一个在 $[0,1]$ 内的任意变化，则它们是相邻的。即，$D' = \\{x_1, \\dots, x_k', \\dots, x_T\\}$，其中 $x_k \\neq x_k'$ 且对于所有 $i \\neq k$，$x_i = x_i'$。$x_k$ 和 $x_k'$ 均在 $[0,1]$ 内。\n-   在时间 $t$ 的机制输出：$\\tilde{f}_t = f_t(D) + Z_t$。\n-   噪声分布：$Z_t$ 是从一个均值为零、尺度参数 $b > 0$ 的拉普拉斯分布中独立抽取的。其概率密度函数为 $p(z|b) = \\frac{1}{2b}\\exp\\left(-\\frac{|z|}{b}\\right)$。\n-   隐私要求：对于一个固定的 $\\epsilon > 0$，每次发布 $\\tilde{f}_t$ 都必须满足 $\\epsilon$-差分隐私。\n-   目标 1：推导合适的尺度参数 $b$。\n-   目标 2：计算每次发布的期望均方误差 $\\mathbb{E}\\!\\left[(\\tilde{f}_t - f_t(D))^2\\right]$。\n\n### 步骤 2：使用提取的已知条件进行验证\n该问题在科学上基于已建立的差分隐私理论和概率论。所有术语，如 $\\epsilon$-差分隐私、拉普拉斯机制和均方误差，都是标准且明确定义的。该问题是自洽的，提供了所有必要的定义（例如，函数、邻近性）以进行求解。这个设置是将差分隐私应用于时间序列分析的一个典型例子，这是计算机科学和工程领域中一个相关且重要的课题。该问题是客观的、数学上精确的，并且不包含任何矛盾或模糊之处。它是一个适定问题 (well-posed)，可以推导出唯一且有意义的解。\n\n### 步骤 3：结论与行动\n该问题被判定为**有效**。现在将提供解答。\n\n拉普拉斯机制中校准噪声的核心原则是将噪声的尺度与查询函数的敏感度相匹配。我们将首先推导敏感度，然后用它来找到噪声尺度 $b$，最后计算由此产生的均方误差。\n\n如果对于任意两个相邻的数据集 $D$ 和 $D'$，以及对于任何可能的输出集合 $S$，以下不等式成立，则随机机制 $\\mathcal{M}$ 满足 $\\epsilon$-差分隐私：\n$$\n\\text{Pr}[\\mathcal{M}(D) \\in S] \\leq \\exp(\\epsilon) \\cdot \\text{Pr}[\\mathcal{M}(D') \\in S]\n$$\n对于一个实值函数 $f$，拉普拉斯机制输出 $\\mathcal{M}(D) = f(D) + Z$，其中 $Z$ 从均值为 $0$、尺度参数为 $b$ 的拉普拉斯分布中抽取。众所周知，如果尺度参数 $b$ 设置为以下值，该机制就满足 $\\epsilon$-差分隐私：\n$$\nb = \\frac{\\Delta f}{\\epsilon}\n$$\n这里，$\\Delta f$ 是函数 $f$ 的 $L_1$-敏感度，定义为对于任何一对相邻数据集，函数输出可能的最大变化量：\n$$\n\\Delta f = \\sup_{D, D' \\text{ adjacent}} \\|f(D) - f(D')\\|_1\n$$\n在我们的情况下，函数 $f_t(D)$ 是标量值，所以 $L_1$-范数就是绝对值。滚动窗口和 $f_t$ 的敏感度是：\n$$\n\\Delta f_t = \\sup_{D, D' \\text{ adjacent}} |f_t(D) - f_t(D')|\n$$\n设 $D = \\{x_1, \\dots, x_k, \\dots, x_T\\}$ 和 $D' = \\{x_1, \\dots, x_k', \\dots, x_T\\}$ 是两个相邻的数据集，其中 $x_k, x_k' \\in [0,1]$ 且对于所有 $i \\neq k$，$x_i = x_i'$。函数输出的差值为：\n$$\nf_t(D) - f_t(D') = \\left(\\sum_{i=t-w+1}^{t} x_i\\right) - \\left(\\sum_{i=t-w+1}^{t} x'_i\\right)\n$$\n由于除了索引 $k$ 之外的所有索引 $i$ 都有 $x_i = x'_i$，这个和可以简化。对于索引 $k$ 有两种情况：\n1.  变化的索引 $k$ 在查询窗口之外：$k  < t-w+1$ 或 $k > t$。在这种情况下，对于所有 $i \\in [t-w+1, t]$，我们有 $x_i = x'_i$。因此，$f_t(D) - f_t(D') = 0$。\n2.  变化的索引 $k$ 在查询窗口之内：$t-w+1 \\leq k \\leq t$。在这种情况下，所有 $i \\neq k$ 的项在求和中抵消，只剩下索引为 $k$ 的项。\n    $$\n    f_t(D) - f_t(D') = x_k - x'_k\n    $$\n敏感度 $\\Delta f_t$ 是在所有可能的相邻数据集上该差值绝对值的上确界。这对应于当 $x_k, x'_k \\in [0,1]$ 时 $|x_k - x'_k|$ 的最大可能值，该情况发生在一个值为 $0$ 另一个值为 $1$ 时。\n$$\n\\Delta f_t = \\sup_{x_k, x'_k \\in [0,1]} |x_k - x'_k| = |1 - 0| = 1\n$$\n因此，在给定的事件级邻近性下，滚动求和查询 $f_t$ 的 $L_1$-敏感度为 $1$。\n\n现在，我们可以确定拉普拉斯噪声所需的尺度参数 $b$，以确保 $\\epsilon$-差分隐私。\n$$\nb = \\frac{\\Delta f_t}{\\epsilon} = \\frac{1}{\\epsilon}\n$$\n这是答案的第一部分。\n\n接下来，我们计算每次发布的期望均方误差 (MSE)。在时间 $t$ 的误差是噪声输出 $\\tilde{f}_t$ 与真实值 $f_t(D)$ 之间的差。\n$$\n\\text{Error}_t = \\tilde{f}_t - f_t(D) = (f_t(D) + Z_t) - f_t(D) = Z_t\n$$\n均方误差是误差平方的期望值：\n$$\n\\text{MSE} = \\mathbb{E}[(\\text{Error}_t)^2] = \\mathbb{E}[Z_t^2]\n$$\n随机变量 $Z_t$ 从均值为 $\\mu = 0$、尺度参数为 $b$ 的拉普拉斯分布中抽取。随机变量 $X$ 的方差由 $\\text{Var}(X) = \\mathbb{E}[X^2] - (\\mathbb{E}[X])^2$ 给出。对于 $Z_t$，我们有 $\\mathbb{E}[Z_t] = \\mu = 0$。\n因此，MSE 等于噪声变量 $Z_t$ 的方差：\n$$\n\\text{MSE} = \\mathbb{E}[Z_t^2] - (\\mathbb{E}[Z_t])^2 = \\mathbb{E}[Z_t^2] - 0^2 = \\text{Var}(Z_t)\n$$\n已知尺度参数为 $b$ 的拉普拉斯分布的方差为 $2b^2$。\n$$\n\\text{Var}(Z_t) = 2b^2\n$$\n代入我们推导出的 $b$ 的表达式：\n$$\n\\text{MSE} = 2 \\left(\\frac{1}{\\epsilon}\\right)^2 = \\frac{2}{\\epsilon^2}\n$$\n这是答案的第二部分。\n\n问题要求答案是一个单行矩阵，包含校准后的 $b$ 和期望均方误差。这两个值是 $b = \\frac{1}{\\epsilon}$ 和 $\\text{MSE} = \\frac{2}{\\epsilon^2}$。",
            "answer": "$$\n\\boxed{\\begin{pmatrix} \\frac{1}{\\epsilon} & \\frac{2}{\\epsilon^2} \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "在时间序列分析中，查询的复杂性和隐私模型的选择对敏感度有巨大影响。此问题通过一个用于变点检测的累积和统计量，让你探索向量值查询和用户级别邻接性下的敏感度计算 。解决这个问题将揭示敏感度如何随时间累积，这是在设计隐私保护纵向分析时必须面对的一个关键挑战。",
            "id": "4213306",
            "problem": "一个信息物理数字孪生聚合来自动态用户群的时间序列数据，以监测系统健康状况并检测变化点。对于一个固定的 $T$ 个时间步长的时间范围，每个用户 $u$ 贡献一个实值序列 $\\{x_{t}^{(u)}\\}_{t=1}^{T}$，满足对所有 $t \\in \\{1,\\dots,T\\}$ 和所有用户 $u$ 的每时间步边界 $|x_{t}^{(u)}| \\leq B$，其中 $B>0$ 是公开的。考虑用于变化点检测的累积和统计量，定义为向量值函数 $f$，它将用户序列的数据集 $D$ 映射到 $S(D) \\in \\mathbb{R}^{T}$，其坐标为\n$$\nS_{t}(D) \\;=\\; \\sum_{u \\in U(D)} \\sum_{s=1}^{t} x_{s}^{(u)} \\quad \\text{for } t \\in \\{1,\\dots,T\\},\n$$\n其中 $U(D)$ 表示数据集 $D$ 中的用户集合。采用用户级添加/删除邻近性：如果一个数据集可以通过添加或删除单个用户 $u^{\\star}$ 的完整轨迹 $\\{x_{t}^{(u^{\\star})}\\}_{t=1}^{T}$ 从另一个数据集获得，则两个数据集 $D$ 和 $D'$ 是邻近的。使用向量值函数的全局 $\\ell_{1}$ 敏感度定义，计算在此邻近性下 $f$ 的全局 $\\ell_{1}$ 敏感度 $\\Delta_{1}$。然后，使用拉普拉斯机制实现 $\\epsilon$-差分隐私的定义，确定为 $S(D)$ 的每个坐标独立添加的最小拉普拉斯尺度参数 $b$，以实现对于给定 $\\epsilon>0$ 的 $\\epsilon$-差分隐私。\n\n将您的最终答案表示为一个单行矩阵，按顺序包含敏感度 $\\Delta_{1}$ 和相应的拉普拉斯尺度参数 $b$，以 $B$、$T$ 和 $\\epsilon$ 的精确符号形式表示。不需要四舍五入，也不涉及单位。",
            "solution": "用户提供的问题被评估为有效，因为它科学地基于差分隐私的既定原则，问题设定良好，具有清晰完整的定义和约束，并以客观、正式的语言表达。该问题要求计算特定累积和函数的全局 $\\ell_1$ 敏感度，以及实现 $\\epsilon$-差分隐私的相应拉普拉斯尺度参数。\n\n解决方案分为两部分：首先，计算全局 $\\ell_1$ 敏感度 $\\Delta_1$；其次，确定最小拉普拉斯尺度参数 $b$。\n\n**第1部分：全局 $\\ell_1$ 敏感度的计算**\n\n问题定义了一个向量值函数 $f$，它将数据集 $D$ 映射到一个向量 $S(D) \\in \\mathbb{R}^{T}$。该向量的坐标由下式给出：\n$$S_{t}(D) = \\sum_{u \\in U(D)} \\sum_{s=1}^{t} x_{s}^{(u)} \\quad \\text{for } t \\in \\{1, \\dots, T\\}$$\n其中 $U(D)$ 是数据集 $D$ 中的用户集合，$\\{x_{s}^{(u)}\\}_{s=1}^{T}$ 是用户 $u$ 的时间序列数据，对于已知的公共边界 $B>0$，有 $|x_{s}^{(u)}| \\leq B$。\n\n向量值函数 $f$ 的全局 $\\ell_1$ 敏感度定义为该函数在任何两个邻近数据集上的输出之差的 $\\ell_1$ 范数的最大可能值。形式上：\n$$\\Delta_{1} = \\sup_{D, D'} \\|f(D) - f(D')\\|_{1}$$\n其中，上确界取自所有邻近数据集对 $D$ 和 $D'$。\n\n问题指定了用户级的添加/删除邻近性。这意味着如果一个数据集可以通过添加或删除单个用户的数据从另一个数据集获得，则这两个数据集 $D$ 和 $D'$ 是邻近的。不失一般性，设 $D' = D \\cup \\{u^{\\star}\\}$，其中 $u^{\\star}$ 代表其完整数据轨迹 $\\{x_{t}^{(u^{\\star})}\\}_{t=1}^{T}$ 被添加到数据集 $D$ 以形成 $D'$ 的单个用户。\n\n我们首先计算差分向量 $f(D') - f(D) = S(D') - S(D)$。对于每个坐标 $t \\in \\{1, \\dots, T\\}$，差值为：\n$$S_{t}(D') - S_{t}(D) = \\left( \\sum_{u \\in U(D) \\cup \\{u^{\\star}\\}} \\sum_{s=1}^{t} x_{s}^{(u)} \\right) - \\left( \\sum_{u \\in U(D)} \\sum_{s=1}^{t} x_{s}^{(u)} \\right)$$\n$$S_{t}(D') - S_{t}(D) = \\sum_{s=1}^{t} x_{s}^{(u^{\\star})}$$\n这个差值仅取决于被添加或删除的单个用户 $u^{\\star}$ 的数据，而不取决于 $D$ 中的其他用户。\n\n接下来，我们计算这个差分向量的 $\\ell_1$ 范数：\n$$\\|S(D') - S(D)\\|_{1} = \\sum_{t=1}^{T} |S_{t}(D') - S_{t}(D)| = \\sum_{t=1}^{T} \\left| \\sum_{s=1}^{t} x_{s}^{(u^{\\star})} \\right|$$\n\n为了找到全局 $\\ell_1$ 敏感度 $\\Delta_1$，我们必须找到此数量在用户 $u^{\\star}$ 所有可能的有效轨迹上的上确界。一个有效的轨迹是任何序列 $\\{x_{s}^{(u^{\\star})}\\}_{s=1}^{T}$，使得对所有 $s \\in \\{1, \\dots, T\\}$ 都有 $|x_{s}^{(u^{\\star})}| \\leq B$。\n$$\\Delta_1 = \\sup_{\\{x_{s}^{(u^{\\star})}\\} \\text{ s.t. } |x_{s}^{(u^{\\star})}| \\leq B} \\sum_{t=1}^{T} \\left| \\sum_{s=1}^{t} x_{s}^{(u^{\\star})} \\right|$$\n为了最大化绝对值之和，我们需要使内部和 $\\sum_{s=1}^{t} x_{s}^{(u^{\\star})}$ 对所有 $t$ 的量级尽可能大。这可以通过选择所有的 $x_{s}^{(u^{\\star})}$ 在其允许范围的边界上并且符号相同来实现，这样在内部和中就不会发生抵消。\n让我们选择对所有 $s \\in \\{1, \\dots, T\\}$ 都有 $x_{s}^{(u^{\\star})} = B$。内部和变为：\n$$\\sum_{s=1}^{t} x_{s}^{(u^{\\star})} = \\sum_{s=1}^{t} B = tB$$\n将此代入 $\\ell_1$ 范数的表达式，我们得到：\n$$\\sum_{t=1}^{T} |tB| = B \\sum_{t=1}^{T} t$$\n前 $T$ 个正整数的和是一个标准的等差数列求和结果：$\\sum_{t=1}^{T} t = \\frac{T(T+1)}{2}$。\n因此，最大值为 $B \\frac{T(T+1)}{2}$。这是上确界，因为对于任何 $t$，$\\left|\\sum_{s=1}^{t} x_{s}^{(u^{\\star})}\\right| \\leq \\sum_{s=1}^{t} |x_{s}^{(u^{\\star})}| \\leq \\sum_{s=1}^{t} B = tB$。因此，对于所有 $s$ 选择 $x_s^{(u^\\star)}=B$（或对于所有 $s$ 选择 $x_s^{(u^\\star)}=-B$）可以同时最大化和中的每一项。\n\n所以，全局 $\\ell_1$ 敏感度是：\n$$\\Delta_1 = \\frac{BT(T+1)}{2}$$\n\n**第2部分：拉普拉斯尺度参数的确定**\n\n问题要求通过向输出向量 $S(D)$ 的 $T$ 个坐标中的每一个独立添加从拉普拉斯分布中抽取的噪声，来确定实现 $\\epsilon$-差分隐私的最小拉普拉斯尺度参数 $b$。设噪声向量为 $Y=(Y_1, \\dots, Y_T)$，其中每个 $Y_t$ 是从拉普拉斯分布 $\\text{Lap}(b)$ 中抽取的独立随机变量，其概率密度函数为 $p(y_t) = \\frac{1}{2b}\\exp(-|y_t|/b)$。发布的含噪结果是 $M(D) = S(D) + Y$。\n\n噪声向量 $Y$ 的联合概率密度为：\n$$p(y) = \\prod_{t=1}^{T} \\frac{1}{2b}\\exp(-|y_t|/b) = \\left(\\frac{1}{2b}\\right)^{T} \\exp\\left(-\\frac{1}{b}\\sum_{t=1}^{T}|y_t|\\right) = \\left(\\frac{1}{2b}\\right)^{T} \\exp\\left(-\\frac{\\|y\\|_1}{b}\\right)$$\n为了使该机制满足 $\\epsilon$-差分隐私，对于任何两个邻近数据集 $D$ 和 $D'$，观察到任何输出 $z$ 的概率之比必须有界：\n$$\\frac{P(M(D)=z)}{P(M(D')=z)} \\leq \\exp(\\epsilon)$$\n$M(D)=z$ 的概率是噪声向量 $Y$ 等于 $z-S(D)$ 的概率。将此代入比率中：\n$$\\frac{p(z-S(D))}{p(z-S(D'))} = \\frac{\\left(\\frac{1}{2b}\\right)^{T} \\exp\\left(-\\frac{\\|z-S(D)\\|_1}{b}\\right)}{\\left(\\frac{1}{2b}\\right)^{T} \\exp\\left(-\\frac{\\|z-S(D')\\|_1}{b}\\right)} = \\exp\\left(\\frac{\\|z-S(D')\\|_1 - \\|z-S(D)\\|_1}{b}\\right)$$\n根据反三角不等式，$\\|a\\|_1 - \\|c\\|_1 \\leq \\|a-c\\|_1$。将此应用于 $a = z-S(D')$ 和 $c = z-S(D)$，我们得到：\n$$\\|z-S(D')\\|_1 - \\|z-S(D)\\|_1 \\leq \\|(z-S(D')) - (z-S(D))\\|_1 = \\|S(D) - S(D')\\|_1$$\n根据 $\\ell_1$ 敏感度的定义，我们知道 $\\|S(D) - S(D')\\|_1 \\leq \\Delta_1$。因此：\n$$\\frac{P(M(D)=z)}{P(M(D')=z)} \\leq \\exp\\left(\\frac{\\|S(D)-S(D')\\|_1}{b}\\right) \\leq \\exp\\left(\\frac{\\Delta_1}{b}\\right)$$\n为满足 $\\epsilon$-差分隐私的条件，我们需要 $\\exp(\\frac{\\Delta_1}{b}) \\leq \\exp(\\epsilon)$，这意味着 $\\frac{\\Delta_1}{b} \\leq \\epsilon$。\n因此，尺度参数 $b$ 的最小值通过重新整理这个不等式给出：\n$$b = \\frac{\\Delta_1}{\\epsilon}$$\n代入我们在第1部分中找到的 $\\Delta_1$ 的表达式：\n$$b = \\frac{1}{\\epsilon} \\left(\\frac{BT(T+1)}{2}\\right) = \\frac{BT(T+1)}{2\\epsilon}$$\n这是在给定的函数和邻近性定义下实现 $\\epsilon$-差分隐私所需的最小拉普拉斯尺度参数。\n\n所要求的两个量是敏感度 $\\Delta_1$ 和拉普拉斯尺度参数 $b$。\n- $\\Delta_1 = \\frac{BT(T+1)}{2}$\n- $b = \\frac{BT(T+1)}{2\\epsilon}$\n这些是作为 $B$、$T$ 和 $\\epsilon$ 的函数的最终符号表达式。",
            "answer": "$$\n\\boxed{\\begin{pmatrix} \\frac{B T(T+1)}{2} & \\frac{B T(T+1)}{2\\epsilon} \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "在设计隐私保护系统时，选择合适的隐私机制至关重要，因为这直接关系到数据效用与隐私保障之间的权衡。本练习将你置于系统设计者的位置，要求你在纯 $\\epsilon$-差分隐私（通过拉普拉斯机制实现）和近似 $(\\epsilon, \\delta)$-差分隐私（通过高斯机制实现）之间做出选择 。通过推导并比较两种机制在发布滑动窗口均值时的均方误差，你将深入理解不同隐私定义在特定应用场景下的实际表现。",
            "id": "4213327",
            "problem": "一个信息物理系统 (CPS) 数字孪生监控着一个归一化的标量时间序列信号，其中每个样本都被裁剪到区间 $[-B, B]$ 内。在每个时间步，该孪生发布一个长度为 $W$ 的滑动窗口内的均值，作为供下游控制器使用的隐私保护分析结果。考虑单次这样的窗口均值发布，并假设采用事件级邻近性，即如果两个数据集在窗口内仅有一个样本不同，则它们是邻近的。系统设计者必须在两种机制中做出选择：一种是为满足纯差分隐私 (DP)（隐私参数为 $\\epsilon$）而校准的拉普拉斯机制，另一种是为满足近似差分隐私 $(\\epsilon, \\delta)$（使用相同的 $\\epsilon$ 和给定的 $\\delta$）而校准的高斯机制。下游的估计器使用发布的带噪声的均值作为真实均值的无偏估计。\n\n从差分隐私 (DP) 的形式化定义、所述邻近性下窗口均值函数的全局敏感度概念，以及在小 $\\epsilon$ 情况下拉普拉斯和高斯机制的标准校准方法出发，推导这两种机制的单次发布均方误差 (MSE) 的表达式，对它们进行比较，并确定对于以下参数，这两种机制能实现的最小单次发布 MSE：\n- 边界 $B = 0.5$，\n- 窗口长度 $W = 100$，\n- 隐私参数 $\\epsilon = 0.1$ 和 $\\delta = 10^{-5}$。\n\n假设每次发布的噪声是独立的，并且忽略超出单个窗口的时间组合效应。将你的最终答案四舍五入到四位有效数字。该信号是无量纲的，因此最终的 MSE 也表示为无量纲量。",
            "solution": "所述问题具有科学依据，提法恰当，客观，并包含了获得唯一解所需的所有必要信息。差分隐私、查询函数、数据域和邻近性的定义在隐私保护分析领域都是标准的。因此，该问题是有效的，我们可以进行形式化推导。\n\n目标是确定对于给定的参数集，通过满足纯 $(\\epsilon)$-差分隐私 (DP) 的拉普拉斯机制或满足近似 $(\\epsilon, \\delta)$-DP 的高斯机制，可以实现的最小单次发布均方误差 (MSE)。估计器是无偏的，这意味着 MSE 等于隐私机制所添加噪声的方差。\n\n首先，我们必须确定查询函数的全局敏感度。查询函数 $f$ 计算一个包含 $W$ 个样本的窗口 $D = \\{x_1, x_2, \\dots, x_W\\}$ 的均值，其中每个样本 $x_i$ 都在区间 $[-B, B]$ 内。该函数由下式给出：\n$$\nf(D) = \\frac{1}{W} \\sum_{i=1}^{W} x_i\n$$\n问题指定了事件级邻近性，其中两个数据集（窗口）$D$ 和 $D'$ 如果仅在一个样本的值上不同，则它们是邻近的。令 $D' = \\{x_1, \\dots, x_{k-1}, x'_k, x_{k+1}, \\dots, x_W\\}$。$L_1$ 全局敏感度（记为 $\\Delta f$）是所有可能的邻近数据集 $D$ 和 $D'$ 上 $|f(D) - f(D')|$ 的最大可能绝对差值。\n$$\n\\Delta f = \\max_{D, D' \\text{ adjacent}} |f(D) - f(D')| = \\max_{x_k, x'_k \\in [-B, B]} \\left| \\frac{1}{W} \\sum_{i=1}^{W} x_i - \\frac{1}{W} \\left( \\sum_{i \\neq k} x_i + x'_k \\right) \\right|\n$$\n$$\n\\Delta f = \\max_{x_k, x'_k \\in [-B, B]} \\frac{1}{W} |x_k - x'_k|\n$$\n$|x_k - x'_k|$ 的最大值出现在一个样本取最大可能值 $B$，另一个样本取最小可能值 $-B$ 时。\n$$\n\\max |x_k - x'_k| = |B - (-B)| = 2B\n$$\n因此，窗口均值函数的全局敏感度为：\n$$\n\\Delta f = \\frac{2B}{W}\n$$\n\n接下来，我们分析每种机制的 MSE。\n\n**1. 用于 $\\epsilon$-DP 的拉普拉斯机制**\n\n拉普拉斯机制通过添加从拉普拉斯分布中抽取的噪声来实现 $\\epsilon$-DP。私有化输出为 $M_L(D) = f(D) + Y$，其中 $Y \\sim \\text{Laplace}(\\mu, b)$。位置参数 $\\mu$ 设置为 $0$ 以确保机制是无偏的。尺度参数 $b$ 根据全局敏感度和隐私参数 $\\epsilon$ 进行校准：\n$$\nb = \\frac{\\Delta f}{\\epsilon}\n$$\n由于所加噪声的均值为零，估计器是无偏的。因此，MSE 等于噪声的方差。尺度为 $b$ 的拉普拉斯分布的方差是 $2b^2$。\n$$\n\\text{MSE}_L = \\text{Var}(Y) = 2b^2 = 2 \\left( \\frac{\\Delta f}{\\epsilon} \\right)^2\n$$\n代入 $\\Delta f$ 的表达式：\n$$\n\\text{MSE}_L = 2 \\left( \\frac{2B}{W\\epsilon} \\right)^2 = \\frac{8B^2}{W^2\\epsilon^2}\n$$\n\n**2. 用于 $(\\epsilon, \\delta)$-DP 的高斯机制**\n\n高斯机制通过添加从高斯分布中抽取的噪声来实现 $(\\epsilon, \\delta)$-DP。私有化输出为 $M_G(D) = f(D) + Z$，其中 $Z \\sim \\mathcal{N}(0, \\sigma^2)$。与拉普拉斯机制类似，噪声是零均值的，因此估计器是无偏的，其 MSE 等于噪声的方差 $\\sigma^2$。\n\n对于给定的 $(\\epsilon, \\delta)$ 且 $\\epsilon \\in (0, 1)$，一种标准且紧密的校准方法将噪声的标准差 $\\sigma$ 设置为：\n$$\n\\sigma = \\frac{\\Delta f}{\\epsilon} \\sqrt{2 \\ln\\left(\\frac{1.25}{\\delta}\\right)}\n$$\n因此，高斯机制的 MSE 为：\n$$\n\\text{MSE}_G = \\text{Var}(Z) = \\sigma^2 = \\left( \\frac{\\Delta f}{\\epsilon} \\right)^2 2 \\ln\\left(\\frac{1.25}{\\delta}\\right)\n$$\n代入 $\\Delta f$ 的表达式：\n$$\n\\text{MSE}_G = \\left( \\frac{2B}{W\\epsilon} \\right)^2 2 \\ln\\left(\\frac{1.25}{\\delta}\\right) = \\frac{8B^2}{W^2\\epsilon^2} \\ln\\left(\\frac{1.25}{\\delta}\\right)\n$$\n\n**3. 比较与数值计算**\n\n为了找到可实现的最小 MSE，我们比较 $\\text{MSE}_L$ 和 $\\text{MSE}_G$。\n$$\n\\text{MSE}_L = \\frac{8B^2}{W^2\\epsilon^2}\n$$\n$$\n\\text{MSE}_G = \\left(\\frac{8B^2}{W^2\\epsilon^2}\\right) \\ln\\left(\\frac{1.25}{\\delta}\\right)\n$$\n两种 MSE 的比值为：\n$$\n\\frac{\\text{MSE}_G}{\\text{MSE}_L} = \\ln\\left(\\frac{1.25}{\\delta}\\right)\n$$\n最小 MSE 取决于该因子是小于 1 还是大于 1。我们给定的参数是：$B = 0.5$，$W = 100$，$\\epsilon = 0.1$，以及 $\\delta = 10^{-5}$。\n\n我们来计算因子 $\\ln(1.25/\\delta)$：\n$$\n\\ln\\left(\\frac{1.25}{10^{-5}}\\right) = \\ln(1.25 \\times 10^5) = \\ln(125000)\n$$\n使用自然对数，我们得到：\n$$\n\\ln(125000) \\approx 11.73606...\n$$\n由于 $11.736... > 1$，我们有 $\\text{MSE}_G > \\text{MSE}_L$。因此，对于给定的参数，拉普拉斯机制提供了更低的均方误差，从而实现了最小 MSE。\n\n最小 MSE 为：\n$$\n\\text{MSE}_{\\text{min}} = \\text{MSE}_L = \\frac{8B^2}{W^2\\epsilon^2}\n$$\n代入数值：\n$$\n\\text{MSE}_{\\text{min}} = \\frac{8(0.5)^2}{(100)^2(0.1)^2} = \\frac{8(0.25)}{(10000)(0.01)} = \\frac{2}{100} = 0.02\n$$\n问题要求答案四舍五入到四位有效数字。用科学记数法表示，即为 $2.000 \\times 10^{-2}$。",
            "answer": "$$\\boxed{2.000 \\times 10^{-2}}$$"
        }
    ]
}