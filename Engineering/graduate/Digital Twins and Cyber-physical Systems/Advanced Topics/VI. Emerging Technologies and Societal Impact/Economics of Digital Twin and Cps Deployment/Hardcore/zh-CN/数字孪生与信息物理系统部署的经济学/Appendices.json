{
    "hands_on_practices": [
        {
            "introduction": "本练习将从一个基础案例研究开始，围绕一个具体的数字孪生与信息物理系统（DT/CPS）投资项目展开。这项实践  旨在让学生掌握资本预算的核心机制，特别是如何计算税后现金流，并理解折旧等非现金支出如何通过“税盾效应”为项目带来价值。这为评估任何技术投资的真实成本与回报奠定了坚实的基础。",
            "id": "4219220",
            "problem": "一家制造商正在考虑部署数字孪生（DT）和信息物理系统（CPS）集成，以优化生产调度和预测性维护。该部署需要在时间 $t=0$ 时投入一笔前期资本支出和每年的运营成本，同时会产生经常性的运营成本节约。该公司使用其加权平均资本成本（WACC）在税后贴现现金流的基础上评估项目。请使用以下科学上真实且内部一致的数据。\n\n- 在 $t=0$ 时的前期资本支出：$2{,}000{,}000$。\n- 项目经济寿命：$5$ 年，所有经常性现金流发生在每年年末 $t=1,\\dots,5$。\n- 由于DT/CPS带来的年度税前总运营成本节约：在 $t=1,\\dots,5$ 的每一年均为 $900{,}000$。\n- 运行DT/CPS的年度增量运营支出（云服务、数据工程、模型维护）：在 $t=1,\\dots,5$ 的每一年均为 $200{,}000$。\n- 企业所得税税率：$0.30$。\n- 税务折旧：采用直线法，期限为 $5$ 年，税务折旧的残值为零；资产在第 $5$ 年末无残值，且不需要营运资本。\n- 贴现率（公司的加权平均资本成本）：每年 $0.10$。\n- 假设该项目每年的应税收入为运营节约减去运营支出再减去折旧，企业税按规定税率对应税收入为正值时征收。假设在此情景下不会出现亏损。\n- 所有现金流均为名义现金流，不存在通货膨胀。\n\n从税后项目评估的基本原则出发：\n\n1) 使用应税收入和企业税的定义，推导出年度税后运营现金流的表达式，该表达式应明确体现非现金折旧及其相关税盾的作用。\n\n2) 使用您推导出的表达式，计算年度折旧税盾的美元金额及其在贴现率为 $0.10$ 时的现值。\n\n3) 将税后总拥有成本（TCO）定义为所有生命周期成本在扣除税收影响后的现值，其中运营支出可以抵税，折旧产生税盾。计算包含和不包含折旧税盾时的税后TCO，并说明由折旧带来的差异。\n\n4) 计算贴现回收期，定义为最小时间 $\\tau$（以年为单位），使得项目的累计税后净现金流入的现值等于初始支出 $2{,}000{,}000$。假设在达到盈亏平衡的年份内，年度现值流入之间采用年内线性插值法。\n\n仅报告贴现回收期作为您的最终数值答案。将您的答案四舍五入到四位有效数字，并以年为单位表示。",
            "solution": "该问题要求计算一个涉及部署数字孪生（DT）和信息物理系统（CPS）的资本项目的贴现回收期。评估必须在税后贴现现金流的基础上进行。首先，我们必须从基本原则出发，推导出年度税后运营现金流的表达式，然后用它来计算回收期。\n\n设所给变量定义如下：\n- 前期资本支出：$I_0 = 2{,}000{,}000$\n- 项目经济寿命：$n = 5$ 年\n- 年度税前总运营成本节约：$S = 900{,}000$\n- 年度增量运营支出：$O = 200{,}000$\n- 企业所得税税率：$T_c = 0.30$\n- 贴现率（WACC）：$r = 0.10$\n\n该资本支出采用直线法在 $n=5$ 年内进行税务折旧，残值为零。因此，年度折旧费用 $D$ 是恒定的：\n$$D = \\frac{I_0 - \\text{Salvage Value}}{n} = \\frac{2{,}000{,}000 - 0}{5} = 400{,}000$$\n\n问题的第一部分要求推导年度税后运营现金流，记为 $CF$。应税收入，也称为税前利润（$EBT$），定义为运营节约减去运营支出和折旧：\n$$EBT = S - O - D$$\n企业应缴税款 $T$ 的计算公式为：\n$$T = EBT \\times T_c = (S - O - D) \\times T_c$$\n项目的净收入（$NI$），或税后利润，为：\n$$NI = EBT - T = EBT \\times (1 - T_c) = (S - O - D)(1 - T_c)$$\n税后运营现金流 $CF$ 是通过将非现金折旧费用加回到净收入中得到的：\n$$CF = NI + D = (S - O - D)(1 - T_c) + D$$\n为了明确显示折旧税盾的作用，我们重新整理这个表达式：\n$$CF = (S - O)(1 - T_c) - D(1 - T_c) + D$$\n$$CF = (S - O)(1 - T_c) - D + D \\times T_c + D$$\n$$CF = (S - O)(1 - T_c) + D \\times T_c$$\n这个最终表达式表明，年度税后运营现金流是税后运营节约 $(S-O)(1-T_c)$ 和折旧税盾 $D \\times T_c$ 的总和。\n\n现在，我们可以计算年度现金流的数值，该值在第 $t=1, \\dots, 5$ 年是恒定的：\n$$CF = (900{,}000 - 200{,}000)(1 - 0.30) + (400{,}000 \\times 0.30)$$\n$$CF = (700{,}000)(0.70) + 120{,}000$$\n$$CF = 490{,}000 + 120{,}000 = 610{,}000$$\n\n问题的第四部分要求计算贴现回收期 $\\tau$。这是指累计税后现金流入的现值等于初始投资 $I_0 = 2{,}000{,}000$ 的时间点。我们必须找到 $\\tau$ 使得 $\\sum_{t=1}^{\\tau} \\frac{CF}{(1+r)^t} = I_0$。\n\n我们计算每年的现金流现值（$PV$）和累计现值。\n第 $t$ 年现金流的现值为 $PV_t = \\frac{CF}{(1+r)^t} = \\frac{610{,}000}{(1.10)^t}$。\n\n- 对于 $t=1$：$PV_1 = \\frac{610{,}000}{1.10} \\approx 554{,}545.45$。累计 $PV = 554{,}545.45$。\n- 对于 $t=2$：$PV_2 = \\frac{610{,}000}{(1.10)^2} \\approx 504{,}132.23$。累计 $PV = 554{,}545.45 + 504{,}132.23 = 1{,}058{,}677.68$。\n- 对于 $t=3$：$PV_3 = \\frac{610{,}000}{(1.10)^3} \\approx 458{,}302.03$。累计 $PV = 1{,}058{,}677.68 + 458{,}302.03 = 1{,}516{,}979.71$。\n- 对于 $t=4$：$PV_4 = \\frac{610{,}000}{(1.10)^4} \\approx 416{,}638.21$。累计 $PV = 1{,}516{,}979.71 + 416{,}638.21 = 1{,}933{,}617.92$。\n\n在第 $4$ 年末，现金流入的累计现值 $1{,}933{,}617.92$ 小于初始投资 $2{,}000{,}000$。回收发生在第 $5$ 年期间。\n\n在第 $5$ 年初尚待回收的金额为：\n$$\\text{Unrecovered Amount} = I_0 - \\text{Cumulative PV at } t=4$$\n$$\\text{Unrecovered Amount} = 2{,}000{,}000 - 1{,}933{,}617.92 = 66{,}382.08$$\n\n在第 $5$ 年收到的现金流的现值为：\n$$PV_5 = \\frac{610{,}000}{(1.10)^5} \\approx 378{,}762.01$$\n\n问题指明使用年内线性插值法。回收剩余金额所需的第 $5$ 年的小数部分是待回收金额与该年现金流现值的比率：\n$$\\text{Fractional Year} = \\frac{\\text{Unrecovered Amount}}{PV_5} = \\frac{66{,}382.08}{378{,}762.01} \\approx 0.1752608$$\n\n总的贴现回收期 $\\tau$ 是整数年（$4$年）和不足一年的小数部分之和：\n$$\\tau = 4 + 0.1752608 = 4.1752608 \\text{ years}$$\n\n根据要求将结果四舍五入到四位有效数字，我们得到 $4.175$。",
            "answer": "$$\\boxed{4.175}$$"
        },
        {
            "introduction": "在项目估值的基础上，本练习引入了一种更复杂、更贴近现实的风险处理方法。我们将不再对整个项目使用单一的折现率，而是学习如何将项目的现金流（例如，成本节约与新业务收入）分解，并为每一股现金流应用其独特的风险调整折现率。这项实践练习  旨在展示如何准确地为数字孪生/信息物理系统部署中不同组成部分所固有的不确定性进行定价，从而实现更精确的估值和更明智的投资决策。",
            "id": "4219249",
            "problem": "一家制造商计划为一个网络化的信息物理系统 (CPS) 部署数字孪生 (DT)，以减少计划外停机时间并通过新的数据驱动服务实现盈利。在时间 $t=0$ 时的资本支出为 $I_{0} = 950$ 万美元 (USD)。从 $t=1$ 到 $t=5$，该项目预计将产生三个不同的名义现金流，每个现金流具有不同的风险状况，因此适用不同的风险调整折现率。这些折现率反映了与公司基础现金流的协变关系以及消费的边际价值，与基于消费的资产定价和货币时间价值理论一致：\n- 成本节约（运营支出减少），风险较低：$s_{1}=2.4$, $s_{2}=3.0$, $s_{3}=3.1$, $s_{4}=2.8$, $s_{5}=2.5$（百万美元），折现率为 $r_{s}=0.06$。\n- 新增收入（数据服务变现），风险较高：$r_{1}=0$, $r_{2}=1.5$, $r_{3}=3.0$, $r_{4}=3.6$, $r_{5}=4.0$（百万美元），折现率为 $r_{r}=0.11$。\n- 增量运营和维护支出（订阅、云和分析成本），风险较低：$m_{1}=0.8$, $m_{2}=1.0$, $m_{3}=1.2$, $m_{4}=1.3$, $m_{5}=1.3$（百万美元），折现率为 $r_{m}=0.05$。\n\n所有现金流均在年末发生，均为名义值（已包含通货膨胀），且忽略税收和残值，以分离不同类型现金流之间的风险。使用基于货币时间价值和风险调整折现的现值标准定义，计算加权净现值 (NPV)。此处的加权净现值理解为：将每种现金流按其特定类型的风险调整率折现后得到的现值进行汇总，再减去初始投资。将最终的NPV表示为单个实数。将您的答案四舍五入到四位有效数字，并以百万美元为单位表示。\n\n此外，简要评估在资本预算决策中使用特定类型的风险调整折现率与使用单一的加权平均资本成本 (WACC) 的影响，但请确保最终报告的答案仅为计算出的 NPV。",
            "solution": "该问题是有效的，因为它在科学上基于金融经济学原理，问题陈述清晰且提供了所有必要数据，并且其表述是客观的。它要求通过将三个不同的现金流按其特定的风险调整率进行折现，来计算一个资本项目的净现值 (NPV)。\n\n净现值 ($NPV$) 的计算方法是所有未来现金流入的现值之和减去所有现金流出的现值之和。问题指明，每个现金流都有不同的风险状况，必须使用其相应的风险调整率进行折现。初始投资 $I_0$ 是在时间 $t=0$ 发生的一笔流出，其本身已是现值。\n\n在第 $t$ 年末发生的现金流 $C_t$ 使用折现率 $r$ 计算其现值 ($PV$) 的公式是：\n$$PV = \\frac{C_t}{(1+r)^t}$$\n\n该项目的总 $NPV$ 是成本节约流的现值 ($PV_s$)、新增收入流的现值 ($PV_r$) 之和，减去维护成本流的现值 ($PV_m$)，再减去初始投资 $I_0$。\n\n$$NPV = PV_s + PV_r - PV_m - I_0$$\n\n其中：\n$$PV_s = \\sum_{t=1}^{5} \\frac{s_t}{(1+r_s)^t}$$\n$$PV_r = \\sum_{t=1}^{5} \\frac{r_t}{(1+r_r)^t}$$\n$$PV_m = \\sum_{t=1}^{5} \\frac{m_t}{(1+r_m)^t}$$\n\n首先，我们使用折现率 $r_s = 0.06$ 计算成本节约流 ($s_t$) 的现值。现金流以百万美元为单位。\n$$PV_s = \\frac{2.4}{(1+0.06)^1} + \\frac{3.0}{(1+0.06)^2} + \\frac{3.1}{(1+0.06)^3} + \\frac{2.8}{(1+0.06)^4} + \\frac{2.5}{(1+0.06)^5}$$\n$$PV_s \\approx 2.26415 + 2.66999 + 2.60281 + 2.21786 + 1.86813 \\approx 11.62294 \\text{ 百万美元}$$\n\n其次，我们使用折现率 $r_r = 0.11$ 计算新增收入流 ($r_t$) 的现值。\n$$PV_r = \\frac{0}{(1+0.11)^1} + \\frac{1.5}{(1+0.11)^2} + \\frac{3.0}{(1+0.11)^3} + \\frac{3.6}{(1+0.11)^4} + \\frac{4.0}{(1+0.11)^5}$$\n$$PV_r \\approx 0 + 1.21743 + 2.19362 + 2.37142 + 2.37380 \\approx 8.15627 \\text{ 百万美元}$$\n\n第三，我们使用折现率 $r_m = 0.05$ 计算运营和维护支出流 ($m_t$) 的现值。\n$$PV_m = \\frac{0.8}{(1+0.05)^1} + \\frac{1.0}{(1+0.05)^2} + \\frac{1.2}{(1+0.05)^3} + \\frac{1.3}{(1+0.05)^4} + \\frac{1.3}{(1+0.05)^5}$$\n$$PV_m \\approx 0.76190 + 0.90703 + 1.03660 + 1.06950 + 1.01858 \\approx 4.79361 \\text{ 百万美元}$$\n\n最后，我们通过汇总这些现值并减去初始投资 $I_0 = 950$ 万美元来计算总 $NPV$。\n$$NPV = PV_s + PV_r - PV_m - I_0$$\n$$NPV \\approx 11.62294 + 8.15627 - 4.79361 - 9.5$$\n$$NPV \\approx 19.77921 - 4.79361 - 9.5$$\n$$NPV \\approx 14.98560 - 9.5$$\n$$NPV \\approx 5.48560 \\text{ 百万美元}$$\n\n按要求将结果四舍五入到四位有效数字，得到 $5.486$ 百万美元。\n\n关于评估方法的评估，使用特定类型的风险调整折现率在概念上优于使用单一的加权平均资本成本 (WACC)。WACC 反映了公司整个资产基础的平均风险。然而，像本次数字孪生部署这样的单个项目，是由具有异质风险特征的现金流组成的。成本节约 ($s_t$) 类似于低风险债券，因此使用较低的折现率 ($r_s=0.06$) 是合理的。来自未经证实服务的新收入流 ($r_t$) 具有高度不确定性，类似于成长型股票，因此需要较高的折现率 ($r_r=0.11$)。维护成本 ($m_t$) 是合同性的且可预测的，因此其折现率较低 ($r_m=0.05$)。应用单一的、混合的 WACC（例如，假设为 $9\\%$）会过度折现低风险的节约和维护流，同时又会低估高风险的收入流。这种错误的定价可能导致错误的投资决策，例如，因为一个有价值项目的确定性收益被过度惩罚而拒绝它，或者因为一个劣质项目的投机性收入没有为其风险进行充分折现而接受它。基于成分的折现方法能正确定价每个现金流成分的独特风险，从而提供更准确的估值，并支持更理性的资本配置决策。由于计算出的 $NPV$ 为正值（$5.486$ 百万美元），在该更精确的估值框架下，该项目在经济上是可行的。",
            "answer": "$$\\boxed{5.486}$$"
        },
        {
            "introduction": "最后一项练习将我们的分析从静态估值提升到不确定性下的战略决策层面。我们将通过量化灵活性的价值来探索“实物期权”的概念，具体来说，就是在投入技术标准之前，等待并获取更多信息所具有的价值。这项练习  运用贝叶斯框架来模拟新信息如何优化我们的决策，为在快速演变的数字孪生/信息物理系统技术领域中评估战略选择提供了强有力的工具。",
            "id": "4219212",
            "problem": "一家公司计划为一个信息物理系统（CPS）部署一个数字孪生（DT）。该DT需要承诺采用两种生态系统标准中的一种，标记为$A$和$B$。该公司是风险中性的，其目标是最大化期望净现值（NPV）。承诺采用最终成为主导生态系统的标准，将产生$U \\ge 0$个货币单位的净现值；而承诺采用不匹配的标准，将产生$L \\in [0,U)$个货币单位的净现值。公司持有一个先验信念，即主导生态系统将是$A$的概率为$p \\in [0,1]$，是$B$的概率为$1-p$。公司可以选择在时间$0$立即做出承诺，或者将承诺推迟一个周期。如果公司立即承诺，它必须在时间$0$、在额外信息到达之前，选择$A$或$B$。\n\n如果公司延迟决策，它将在时间$1$观察到一个二元信号$s \\in \\{A,B\\}$，该信号对于真实的主导生态系统$\\theta \\in \\{A,B\\}$具有信息价值。信号的准确度为$\\alpha \\in [0,1]$，定义为$\\mathbb{P}(s=\\theta \\mid \\theta)=\\alpha$。公司在观察到$s$后，使用贝叶斯法则更新其信念，然后在时间$1$选择能够最大化更新后验概率下期望NPV的标准。等待会带来两个经济影响：一个单周期贴现因子$\\delta \\in (0,1]$，以乘法形式应用于在时间$1$实现的最终NPV；以及一个固定的延迟成本$K \\ge 0$（货币单位）。所有收益和成本都以相同的货币单位计算；请将所有计算结果以小数形式表示。\n\n此问题的基本原理：\n- 风险中性下的期望值：$\\mathbb{E}[X] = \\sum_i x_i \\cdot \\mathbb{P}(X=x_i)$。\n- 单周期贴现：未来一个周期收到的收益$X$的现值为$\\delta \\cdot X$。\n- 贝叶斯法则：对于先验概率$\\mathbb{P}(\\theta=A)=p$和信号准确度$\\alpha$，观察到$s=A$后的后验概率为$\\mathbb{P}(\\theta=A \\mid s=A)=\\dfrac{\\alpha p}{\\alpha p + (1-\\alpha)(1-p)}$，观察到$s=B$后的后验概率为$\\mathbb{P}(\\theta=A \\mid s=B)=\\dfrac{(1-\\alpha)p}{(1-\\alpha)p + \\alpha(1-p)}$。\n\n将延迟的实物期权价值定义为：与在时间$0$立即承诺相比，等待一个周期以获取信号并随后做出最优承诺所带来的灵活性增量价值。形式上，令$V_{\\text{now}}$为在时间$0$立即承诺所能获得的最大期望NPV，令$V_{\\text{wait}}$为等待一个周期、观察信号、通过贝叶斯法则更新后验概率、并在时间$1$考虑贴现和延迟成本后做出最优承诺的期望NPV。实物期权价值为$V_{\\text{opt}} = \\max\\{0, V_{\\text{wait}} - V_{\\text{now}}\\}$。\n\n您的任务是编写一个完整的、可运行的程序，为下面的每个测试用例，使用基本原理和上述基础知识计算$V_{\\text{opt}}$。该程序必须：\n- 通过选择在先验概率$p$下最大化期望NPV的标准来计算$V_{\\text{now}}$。\n- 通过以下步骤计算$V_{\\text{wait}}$：\n  1. 在信号模型下计算$\\mathbb{P}(s=A)$和$\\mathbb{P}(s=B)$：$\\mathbb{P}(s=A) = \\alpha p + (1-\\alpha)(1-p)$和$\\mathbb{P}(s=B) = (1-\\alpha)p + \\alpha(1-p)$。\n  2. 使用贝叶斯法则计算后验概率$\\mathbb{P}(\\theta=A \\mid s=A)$和$\\mathbb{P}(\\theta=A \\mid s=B)$。\n  3. 对于每个实现的信号$s$，通过在相应后验概率下最大化期望NPV来选择标准（如果后验概率支持$A$的程度超过$0.5$，则选择$A$；如果低于$0.5$，则选择$B$；如果恰好是$0.5$，则任一选择产生的期望NPV相同）。\n  4. 将信号后的期望NPV计算为在$s \\in \\{A,B\\}$上所选行动在后验概率下期望NPV的期望值。\n  5. 应用贴现并减去延迟成本：$V_{\\text{wait}} = \\delta \\times \\text{(信号后的期望NPV)} - K$。\n- 对每个测试用例，返回$V_{\\text{opt}} = \\max\\{0, V_{\\text{wait}} - V_{\\text{now}}\\}$，结果为浮点数。\n\n测试套件（每个元组为$(U,L,p,\\alpha,\\delta,K)$）：\n- 案例1（一般理想路径）：$(100,10,0.6,0.9,0.97,2)$。\n- 案例2（边界情况，无信息）：$(80,20,0.7,0.5,0.95,0)$。\n- 案例3（完美信息，零延迟成本）：$(120,0,0.5,1.0,0.99,0)$。\n- 案例4（高延迟成本）：$(100,20,0.9,0.9,0.9,30)$。\n- 案例5（极端先验，信息量中等的信号，无贴现）：$(100,10,0.95,0.6,1.0,0)$。\n\n最终输出格式：\n您的程序应生成单行输出，包含一个由方括号括起来的逗号分隔列表（例如，$[result1,result2,result3]$）。每个结果必须是精确到四位小数的浮点数，单位与输入相同，并按上述测试套件的顺序排列。",
            "solution": "我们使用风险中性期望净现值（NPV）、单周期贴现和贝叶斯更新来形式化这个决策问题。存在两种标准，$A$和$B$，以及两种世界状态$\\theta \\in \\{A,B\\}$。与主导生态系统匹配将产生$U$个货币单位，不匹配则产生$L$个货币单位，其中$U \\ge L \\ge 0$。公司在时间$0$的先验信念为$\\mathbb{P}(\\theta=A)=p$和$\\mathbb{P}(\\theta=B)=1-p$。\n\n立即承诺的价值$V_{\\text{now}}$：在没有进一步信息的情况下，风险中性的公司会选择在先验信念下能够最大化期望NPV的标准。如果选择$A$，期望NPV为$p \\cdot U + (1-p) \\cdot L$。如果选择$B$，期望NPV为$(1-p) \\cdot U + p \\cdot L$。公司会选择这两者中较大的一个。请注意，在最优的立即选择下，匹配的概率为$\\max\\{p,1-p\\}$，因此立即承诺的期望NPV为\n$$\nV_{\\text{now}} = L + (U-L)\\cdot \\max\\{p,1-p\\}.\n$$\n\n延迟承诺的价值$V_{\\text{wait}}$：如果公司等待一个周期，它将在时间$1$观察到一个信号$s \\in \\{A,B\\}$，其准确度$\\alpha$由$\\mathbb{P}(s=\\theta \\mid \\theta)=\\alpha$给出。信号的事前概率为\n$$\n\\mathbb{P}(s=A) = \\alpha p + (1-\\alpha)(1-p), \\quad \\mathbb{P}(s=B) = (1-\\alpha)p + \\alpha(1-p).\n$$\n根据贝叶斯法则，后验概率为\n$$\n\\mathbb{P}(\\theta=A \\mid s=A) = \\frac{\\alpha p}{\\alpha p + (1-\\alpha)(1-p)}, \\quad\n\\mathbb{P}(\\theta=A \\mid s=B) = \\frac{(1-\\alpha)p}{(1-\\alpha)p + \\alpha(1-p)}.\n$$\n观察到$s$后，公司会选择在后验信念下能够最大化期望NPV的标准。在信号$s=A$的情况下，如果$\\mathbb{P}(\\theta=A \\mid s=A) \\ge \\tfrac{1}{2}$，公司选择$A$；否则选择$B$。以$s=A$为条件的期望NPV为\n$$\nV_{A} = \n\\begin{cases}\nL + (U-L)\\cdot \\mathbb{P}(\\theta=A \\mid s=A),  \\text{如果选择 } A,\\\\\nL + (U-L)\\cdot \\bigl(1 - \\mathbb{P}(\\theta=A \\mid s=A)\\bigr),  \\text{如果选择 } B.\n\\end{cases}\n$$\n类似地，以$s=B$为条件的，如果$\\mathbb{P}(\\theta=A \\mid s=B) \\le \\tfrac{1}{2}$，公司选择$B$；否则选择$A$。以$s=B$为条件的期望NPV为\n$$\nV_{B} = \n\\begin{cases}\nL + (U-L)\\cdot \\bigl(1 - \\mathbb{P}(\\theta=A \\mid s=B)\\bigr),  \\text{如果选择 } B,\\\\\nL + (U-L)\\cdot \\mathbb{P}(\\theta=A \\mid s=B),  \\text{如果选择 } A.\n\\end{cases}\n$$\n观察信号并做出最优选择后的事前期望NPV为\n$$\n\\mathbb{E}[\\text{NPV after signal}] = \\mathbb{P}(s=A)\\cdot V_{A} + \\mathbb{P}(s=B)\\cdot V_{B}.\n$$\n应用单周期贴现并减去延迟成本后，延迟承诺的价值为\n$$\nV_{\\text{wait}} = \\delta \\cdot \\mathbb{E}[\\text{NPV after signal}] - K.\n$$\n因此，延迟的实物期权价值为\n$$\nV_{\\text{opt}} = \\max\\{0, V_{\\text{wait}} - V_{\\text{now}}\\}.\n$$\n\n基于原理的洞察：由于公司是风险中性的，并且在观察到信号后会做出最优选择，延迟策略下匹配主导生态系统的期望概率等于公司行动与真实状态匹配的期望概率。在对称的信号结构和遵循后验多数的最优行动下，当公司遵循信号时，这个期望匹配概率等于$\\mathbb{P}(s=\\theta)$，即$\\alpha$；如果信号具有误导性（$\\alpha < \\tfrac{1}{2}$），公司会理性地反转信号，从而得到一个$1-\\alpha$的有效匹配概率。我们的算法通过为每个实现的信号将后验概率与$\\tfrac{1}{2}$进行比较，来实施通用的基于后验的决策规则，从而确保对于所有$\\alpha \\in [0,1]$和$p \\in [0,1]$的正确性。\n\n程序执行的算法步骤：\n- 使用$\\max\\{p,1-p\\}$计算$V_{\\text{now}}$。\n- 根据贝叶斯法则计算$\\mathbb{P}(s=A)$、$\\mathbb{P}(s=B)$和后验概率。\n- 对于每个信号，通过将后验概率与$\\tfrac{1}{2}$比较来确定最优标准，并计算条件期望NPV。\n- 将条件期望NPV按信号概率加权聚合，乘以贴现因子$\\delta$，再减去$K$以获得$V_{\\text{wait}}$。\n- 计算$V_{\\text{opt}}$为$\\max\\{0, V_{\\text{wait}} - V_{\\text{now}}\\}$。\n- 对所有测试用例重复以上步骤，并将结果以单个方括号括起的、逗号分隔的、精确到四位小数的浮点数列表形式打印。\n\n该方法基于期望值、贝叶斯更新和贴现的基本定义，这些共同构成了解决在DT和CPS标准化决策中等待不确定性消解的实物期权估值问题的动态规划方案。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef option_value(U, L, p, alpha, delta, K):\n    # Immediate commitment: choose A if p >= 0.5 else B\n    match_prob_now = max(p, 1 - p)\n    V_now = L + (U - L) * match_prob_now\n\n    # Signal probabilities\n    P_sA = alpha * p + (1 - alpha) * (1 - p)\n    P_sB = (1 - alpha) * p + alpha * (1 - p)\n\n    # Posteriors via Bayes' rule (handle zero-probability signals robustly)\n    p_post_sA = (alpha * p / P_sA) if P_sA > 0 else 0.0\n    p_post_sB = ((1 - alpha) * p / P_sB) if P_sB > 0 else 0.0\n\n    # Conditional expected NPV after choosing optimally given each signal\n    # For s = A\n    if p_post_sA >= 0.5:\n        match_prob_given_sA = p_post_sA  # choose A\n    else:\n        match_prob_given_sA = 1.0 - p_post_sA  # choose B\n\n    # For s = B\n    if p_post_sB < 0.5:\n        match_prob_given_sB = 1.0 - p_post_sB  # choose B\n    else:\n        match_prob_given_sB = p_post_sB  # choose A\n\n    expected_match_after_signal = P_sA * match_prob_given_sA + P_sB * match_prob_given_sB\n    expected_npv_after_signal = L + (U - L) * expected_match_after_signal\n\n    V_wait = delta * expected_npv_after_signal - K\n\n    V_opt = max(0.0, V_wait - V_now)\n    return V_opt\n\ndef solve():\n    # Define the test cases from the problem statement.\n    # Each tuple is (U, L, p, alpha, delta, K)\n    test_cases = [\n        (100.0, 10.0, 0.6, 0.9, 0.97, 2.0),   # Case 1\n        (80.0, 20.0, 0.7, 0.5, 0.95, 0.0),    # Case 2\n        (120.0, 0.0, 0.5, 1.0, 0.99, 0.0),    # Case 3\n        (100.0, 20.0, 0.9, 0.9, 0.9, 30.0),   # Case 4\n        (100.0, 10.0, 0.95, 0.6, 1.0, 0.0),   # Case 5\n    ]\n\n    results = []\n    for U, L, p, alpha, delta, K in test_cases:\n        val = option_value(U, L, p, alpha, delta, K)\n        results.append(f\"{val:.4f}\")\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(results)}]\")\n\nsolve()\n```"
        }
    ]
}