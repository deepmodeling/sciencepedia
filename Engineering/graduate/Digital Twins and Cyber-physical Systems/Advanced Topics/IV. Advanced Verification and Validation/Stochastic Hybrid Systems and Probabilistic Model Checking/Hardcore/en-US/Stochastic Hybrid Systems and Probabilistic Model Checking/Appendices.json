{
    "hands_on_practices": [
        {
            "introduction": "To begin our hands-on exploration, we will analyze a simple yet fundamental model of a system with two operational modes. This exercise  requires you to compute the probability of a time-bounded property using Continuous Stochastic Logic (CSL). By deriving the solution from the first principles of Continuous-Time Markov Chains (CTMCs), you will gain a concrete understanding of how formal verification queries are mapped to the underlying stochastic dynamics.",
            "id": "4248168",
            "problem": "A digital twin of a cyber-physical system is abstracted as a two-mode stochastic hybrid model whose mode switching is captured by a Continuous-Time Markov Chain (CTMC). The CTMC has state space $\\{0,1\\}$, with $0$ denoting the nominal operating mode and $1$ denoting a maintenance mode. The infinitesimal generator matrix is\n$$\nQ \\;=\\; \\begin{pmatrix}\n-\\lambda  \\lambda \\\\\n\\mu  -\\mu\n\\end{pmatrix},\n$$\nwith fixed rates $\\lambda  0$ and $\\mu  0$. Let atomic proposition $A$ hold exactly in state $0$ and atomic proposition $B$ hold exactly in state $1$. The system starts in state $0$ at time $0$.\n\nConsider the Continuous Stochastic Logic (CSL) time-bounded until formula $\\mathsf{P}_{\\geq p}\\big[A \\ \\mathsf{U}^{\\leq T}\\ B\\big]$ with a fixed horizon $T0$, interpreted under the standard semantics of CSL on CTMCs: along a path, the formula $A \\ \\mathsf{U}^{\\leq T}\\ B$ holds if there exists a time $t \\in [0,T]$ at which the state satisfies $B$, and for all times $\\tau \\in [0,t)$ the state satisfies $A$.\n\nDefine the minimal probability threshold $p_{\\min}(T)$ as the supremum of all $p \\in [0,1]$ such that the state $0$ satisfies $\\mathsf{P}_{\\geq p}\\big[A \\ \\mathsf{U}^{\\leq T}\\ B\\big]$. In other words, $p_{\\min}(T)$ is the exact probability, starting from state $0$, that the property $A \\ \\mathsf{U}^{\\leq T}\\ B$ is satisfied, and $\\mathsf{P}_{\\geq p}\\big[A \\ \\mathsf{U}^{\\leq T}\\ B\\big]$ holds at state $0$ if and only if $p \\leq p_{\\min}(T)$.\n\nUsing only first principles for CTMCs (exponential holding times, Kolmogorov forward equations) and the formal semantics of the CSL time-bounded until operator, derive a closed-form analytic expression for $p_{\\min}(T)$ in terms of $\\lambda$, $\\mu$, and $T$. Provide your final answer as a single analytic expression. Do not approximate or round your answer.",
            "solution": "The problem requires the derivation of a closed-form analytic expression for $p_{\\min}(T)$.\n\nFirst, we must validate the problem statement.\nThe problem is formulated within the standard mathematical frameworks of Continuous-Time Markov Chains (CTMCs) and Continuous Stochastic Logic (CSL), which are cornerstones of modeling and verification for stochastic systems.\nThe givens are:\n- A CTMC with state space $\\{0, 1\\}$.\n- An infinitesimal generator matrix $Q = \\begin{pmatrix} -\\lambda  \\lambda \\\\ \\mu  -\\mu \\end{pmatrix}$ with rates $\\lambda  0$, $\\mu  0$.\n- Atomic propositions $A$ is true in state $0$, $B$ is true in state $1$.\n- Initial condition: the system starts in state $0$ at time $t=0$.\n- The CSL formula of interest is $\\mathsf{P}_{\\geq p}\\big[A \\ \\mathsf{U}^{\\leq T}\\ B\\big]$ for a fixed time horizon $T0$.\nThe quantity to be derived, $p_{\\min}(T)$, is defined as the exact probability that a path starting from state $0$ satisfies the property $A \\ \\mathsf{U}^{\\leq T}\\ B$.\nThe problem is scientifically grounded, well-posed, objective, and contains all necessary information to derive a unique solution. No contradictions or ambiguities are present. The model is a fundamental and widely used representation of a two-state system. Therefore, the problem is valid and we may proceed with the solution.\n\nThe core of the problem is to compute $p_{\\min}(T)$, which represents the probability of the path property $A \\ \\mathsf{U}^{\\leq T}\\ B$ holding, given the system starts in state $0$ at time $t=0$. Let the state of the CTMC at time $\\tau$ be denoted by $X(\\tau)$. The initial state is $X(0) = 0$.\n\nAccording to the provided semantics, the path formula $A \\ \\mathsf{U}^{\\leq T}\\ B$ holds for a path if there exists a time $t \\in [0, T]$ such that the state at time $t$ satisfies $B$, and for all preceding times $\\tau \\in [0, t)$, the state satisfies $A$.\nGiven our specific CTMC:\n- A state satisfies proposition $A$ if and only if the state is $0$.\n- A state satisfies proposition $B$ if and only if the state is $1$.\n\nThus, for a path starting at $X(0)=0$, the formula $A \\ \\mathsf{U}^{\\leq T}\\ B$ holds if there exists a time $t \\in [0,T]$ such that $X(t)=1$, and for all $\\tau \\in [0, t)$, we have $X(\\tau)=0$. This condition describes an event where the first time the system enters state $1$ occurs at or before time $T$.\n\nLet $\\tau_{0 \\to 1}$ be the random variable representing the time of the first passage from state $0$ to state $1$. The probability we seek to compute is precisely $P(\\tau_{0 \\to 1} \\leq T)$.\n\nWe now derive this probability from the first principles of CTMCs. The time a CTMC spends in any given state $i$ before transitioning to another state is called the holding time. This holding time is an exponentially distributed random variable with a rate equal to the total rate of exit from state $i$, which is given by $-Q_{ii}$.\n\nFor our system starting in state $0$, the holding time in state $0$ is an exponential random variable, let's call it $S_0$, with rate $-Q_{00} = -(-\\lambda) = \\lambda$.\nAfter this holding time $S_0$, the process must transition to another state. The transition rate from state $0$ to state $1$ is $Q_{01} = \\lambda$. Since state $1$ is the only other state in the system, any transition from state $0$ must be to state $1$. The probability of transitioning to state $1$ upon leaving state $0$ is $\\frac{Q_{01}}{-Q_{00}} = \\frac{\\lambda}{\\lambda} = 1$.\n\nTherefore, the first passage time from state $0$ to state $1$, $\\tau_{0 \\to 1}$, is identical to the first holding time in state $0$, $S_0$. We have $\\tau_{0 \\to 1} = S_0$, where $S_0 \\sim \\text{Exponential}(\\lambda)$.\n\nThe problem is now reduced to calculating the probability $P(S_0 \\leq T)$. The cumulative distribution function (CDF) for an exponential random variable with rate $\\lambda$ is given by $F(t) = P(S_0 \\leq t) = 1 - \\exp(-\\lambda t)$ for $t \\geq 0$.\n\nEvaluating this CDF at $t=T$, we obtain the desired probability:\n$$p_{\\min}(T) = P(S_0 \\leq T) = 1 - \\exp(-\\lambda T)$$\n\nIt is important to note that the rate $\\mu$, which governs transitions from state $1$ back to state $0$, does not appear in the final expression. This is a direct consequence of the semantics of the CSL \"until\" operator ($\\mathsf{U}$). The property is satisfied as soon as the system reaches a $B$-satisfying state (state $1$) for the first time, provided it has only been in $A$-satisfying states (state $0$) up to that point. The behavior of the system *after* this first arrival at state $1$ is irrelevant to the truth of the formula.\n\nThis result can be rigorously confirmed by solving the system of ordinary differential equations (ODEs) that governs the CSL model checking problem for bounded-until properties. Let $p_i(t)$ be the probability of satisfying $A \\ \\mathsf{U}^{\\leq t}\\ B$ starting from state $i$. We seek $p_0(T)$.\n- For a starting state $i=1$ (which satisfies $B$), the property is met at time $0$, so $p_1(t)=1$ for all $t \\ge 0$.\n- For the starting state $i=0$ (which satisfies $A$ but not $B$), its probability evolves according to the Kolmogorov backward equation:\n$$ \\frac{d p_0(t)}{dt} = \\sum_{j \\in \\{0,1\\}} Q_{0j} p_j(t) = Q_{00} p_0(t) + Q_{01} p_1(t) $$\nSubstituting the known values $Q_{00}=-\\lambda$, $Q_{01}=\\lambda$, and $p_1(t)=1$:\n$$ \\frac{d p_0(t)}{dt} = -\\lambda p_0(t) + \\lambda(1) $$\nThis is a first-order linear ODE: $\\frac{d p_0(t)}{dt} + \\lambda p_0(t) = \\lambda$.\nThe initial condition is $p_0(0)=0$, since the probability of reaching state $1$ within time $0$ from state $0$ is zero.\nThe solution to this initial value problem is $p_0(t) = 1 - \\exp(-\\lambda t)$.\nEvaluating at $t=T$ gives $p_0(T) = 1 - \\exp(-\\lambda T)$, which confirms our result derived from first principles.\n\nThus, the closed-form analytic expression for $p_{\\min}(T)$ is $1 - \\exp(-\\lambda T)$.",
            "answer": "$$\\boxed{1 - \\exp(-\\lambda T)}$$"
        },
        {
            "introduction": "This practice problem  bridges the gap between the continuous dynamics found in physical systems and the probabilistic queries used in formal verification. You will work with a widely-used model, the Ornstein-Uhlenbeck process, to derive the probability of a state variable crossing a critical safety threshold within a given time. This task is essential for understanding how to reason about safety in systems with continuous, noisy behavior.",
            "id": "4248164",
            "problem": "A cyber-physical system’s digital twin monitors a scalar mode representing a regulated thermal deviation, modeled as an Ornstein–Uhlenbeck stochastic differential equation (SDE) $dx_t = -\\beta (x_t - \\mu)\\,dt + \\sigma\\,dW_t$, where $W_t$ is a standard Wiener process. In this hybrid-system abstraction, a discrete transition (“guard firing”) is triggered when the continuous mode $x_t$ crosses a level $b$, i.e., when $x_t \\geq b$. For probabilistic model checking (PMC), the satisfaction probability of the bounded-time reachability property in Probabilistic Computation Tree Logic (PCTL) is the quantity $\\mathbb{P}\\!\\left(\\sup_{0 \\leq s \\leq T} x_s \\geq b\\right)$.\n\nStarting from the fundamental definition of a linear SDE solution and properties of Gaussian processes, do the following:\n- Derive the exact transition density $p(t,x \\mid x_0)$ of $x_t$ for $t0$ before any guard firing.\n- Compute the probability $\\mathbb{P}\\!\\left(\\sup_{0 \\leq s \\leq T} x_s \\geq b\\right)$ for the parameter set\n$$\\beta = 0.5,\\quad \\sigma = 0.8,\\quad \\mu = 5.0,\\quad b = 5.0,\\quad T = 3.0,\\quad x_0 = 1.50504019.$$\nExpress the final probability as a decimal and round your answer to four significant figures.",
            "solution": "The user wants me to solve a problem related to stochastic hybrid systems.\n\n**Problem Validation**\n\n**Step 1: Extract Givens**\n-   **Model**: An Ornstein–Uhlenbeck stochastic differential equation (SDE): $dx_t = -\\beta (x_t - \\mu)\\,dt + \\sigma\\,dW_t$, where $W_t$ is a standard Wiener process.\n-   **Discrete Transition Condition**: A guard firing occurs when $x_t \\geq b$.\n-   **Quantity to Compute**: The satisfaction probability $\\mathbb{P}\\!\\left(\\sup_{0 \\leq s \\leq T} x_s \\geq b\\right)$.\n-   **Tasks**:\n    1.  Derive the exact transition density $p(t,x \\mid x_0)$ of $x_t$ for $t0$.\n    2.  Compute $\\mathbb{P}\\!\\left(\\sup_{0 \\leq s \\leq T} x_s \\geq b\\right)$ for a specific parameter set.\n-   **Parameter Set**:\n    -   $\\beta = 0.5$\n    -   $\\sigma = 0.8$\n    -   $\\mu = 5.0$\n    -   $b = 5.0$\n    -   $T = 3.0$\n    -   $x_0 = 1.50504019$\n-   **Output Format**: The final probability expressed as a decimal, rounded to four significant figures.\n\n**Step 2: Validate Using Extracted Givens**\n-   **Scientific Groundedness**: The problem is grounded in the well-established theory of stochastic differential equations, specifically the Ornstein–Uhlenbeck (OU) process, which is a standard model in many STEM fields. The concept of first-passage time probability is a fundamental topic in stochastic processes.\n-   **Well-Posedness**: The problem is well-posed. The derivation of the transition density for a linear SDE like the OU process is a standard procedure. The computation of the first-passage time probability for an OU process is also a solvable, albeit non-trivial, problem with a known analytical solution under the given conditions.\n-   **Objectivity**: The problem is stated in precise, objective mathematical language.\n-   **Completeness and Consistency**: All necessary parameters ($\\beta, \\sigma, \\mu, b, T, x_0$) are provided. There are no contradictions. The problem is self-contained. The special condition $\\mu=b$ simplifies the problem but does not invalidate it.\n-   **Relation to Topic**: The problem is directly relevant to *stochastic hybrid systems and probabilistic model checking*. The OU process represents the continuous dynamics, the guard condition $x_t \\geq b$ represents a discrete transition, and the PCTL reachability probability $\\mathbb{P}(\\lozenge^{\\leq T} (\\text{state} \\geq b))$ is being computed.\n\n**Step 3: Verdict and Action**\nThe problem is valid. I will proceed with the solution.\n\n---\n\n**Part 1: Derivation of the Transition Density**\n\nThe scalar dynamics are described by the Ornstein–Uhlenbeck SDE:\n$$dx_t = -\\beta (x_t - \\mu)\\,dt + \\sigma\\,dW_t$$\nwith initial condition $x(0) = x_0$. This is a linear SDE. To solve it, we introduce a change of variable, $y_t = x_t - \\mu$. The differential $dy_t$ is simply $dx_t$. Substituting this into the SDE gives:\n$$dy_t = -\\beta y_t\\,dt + \\sigma\\,dW_t$$\nThis is a homogeneous linear SDE. We can solve it using an integrating factor, $f(t) = \\exp(\\beta t)$. Let $Z_t = f(t) y_t = \\exp(\\beta t) y_t$. Using Itô's product rule for $dZ_t$:\n$$dZ_t = (\\frac{\\partial Z_t}{\\partial t}) dt + (\\frac{\\partial Z_t}{\\partial y_t}) dy_t + \\frac{1}{2}(\\frac{\\partial^2 Z_t}{\\partial y_t^2}) (dy_t)^2$$\nSince $Z_t$ is linear in $y_t$, the second-order derivative is zero. The terms are:\n- $\\frac{\\partial Z_t}{\\partial t} = \\beta \\exp(\\beta t) y_t$\n- $\\frac{\\partial Z_t}{\\partial y_t} = \\exp(\\beta t)$\n\n$$dZ_t = \\beta \\exp(\\beta t) y_t\\,dt + \\exp(\\beta t)\\,dy_t$$\nSubstituting $dy_t = -\\beta y_t\\,dt + \\sigma\\,dW_t$:\n$$dZ_t = \\beta \\exp(\\beta t) y_t\\,dt + \\exp(\\beta t)(-\\beta y_t\\,dt + \\sigma\\,dW_t)$$\n$$dZ_t = \\beta \\exp(\\beta t) y_t\\,dt - \\beta \\exp(\\beta t) y_t\\,dt + \\sigma \\exp(\\beta t)\\,dW_t$$\nThe $dt$ terms cancel, leaving:\n$$dZ_t = \\sigma \\exp(\\beta t)\\,dW_t$$\nIntegrating from $s=0$ to $s=t$:\n$$Z_t - Z_0 = \\int_0^t \\sigma \\exp(\\beta s)\\,dW_s$$\nSubstituting back $Z_t = \\exp(\\beta t) y_t$ and $Z_0 = \\exp(0) y_0 = y_0$:\n$$\\exp(\\beta t) y_t - y_0 = \\sigma \\int_0^t \\exp(\\beta s)\\,dW_s$$\n$$y_t = y_0 \\exp(-\\beta t) + \\sigma \\int_0^t \\exp(-\\beta(t-s))\\,dW_s$$\nFinally, substituting back $y_t = x_t - \\mu$ and $y_0 = x_0 - \\mu$:\n$$x_t - \\mu = (x_0 - \\mu) \\exp(-\\beta t) + \\sigma \\int_0^t \\exp(-\\beta(t-s))\\,dW_s$$\n$$x_t = \\mu + (x_0 - \\mu) \\exp(-\\beta t) + \\sigma \\int_0^t \\exp(-\\beta(t-s))\\,dW_s$$\nThis expression shows that $x_t$ is a Gaussian process, as it is a sum of a deterministic term and an Itô integral with a deterministic integrand. The distribution of $x_t$ given $x_0$ is therefore normal, and is fully characterized by its mean and variance.\n\nThe conditional mean is $M(t) = \\mathbb{E}[x_t | x_0]$:\n$$\\mathbb{E}[x_t | x_0] = \\mathbb{E}\\left[\\mu + (x_0 - \\mu) \\exp(-\\beta t) + \\sigma \\int_0^t \\exp(-\\beta(t-s))\\,dW_s\\right]$$\nSince the expectation of the Itô integral is zero,\n$$M(t) = \\mu + (x_0 - \\mu) \\exp(-\\beta t)$$\nThe conditional variance is $V(t) = \\text{Var}(x_t | x_0)$:\n$$V(t) = \\text{Var}\\left(\\sigma \\int_0^t \\exp(-\\beta(t-s))\\,dW_s\\right)$$\nUsing Itô isometry, $\\text{Var}\\left(\\int_0^t f(s)\\,dW_s\\right) = \\int_0^t f(s)^2\\,ds$:\n$$V(t) = \\sigma^2 \\int_0^t \\exp(-2\\beta(t-s))\\,ds = \\sigma^2 \\exp(-2\\beta t) \\int_0^t \\exp(2\\beta s)\\,ds$$\n$$V(t) = \\sigma^2 \\exp(-2\\beta t) \\left[\\frac{\\exp(2\\beta s)}{2\\beta}\\right]_{s=0}^{s=t} = \\sigma^2 \\exp(-2\\beta t) \\frac{\\exp(2\\beta t)-1}{2\\beta}$$\n$$V(t) = \\frac{\\sigma^2}{2\\beta} (1 - \\exp(-2\\beta t))$$\nThus, the process $x_t$ conditional on $x_0$ follows a normal distribution $x_t | x_0 \\sim \\mathcal{N}(M(t), V(t))$. The transition density $p(t, x | x_0)$ is the probability density function of this distribution:\n$$p(t,x | x_0) = \\frac{1}{\\sqrt{2\\pi V(t)}} \\exp\\left(-\\frac{(x - M(t))^2}{2V(t)}\\right)$$\nwhere $M(t) = \\mu + (x_0 - \\mu) \\exp(-\\beta t)$ and $V(t) = \\frac{\\sigma^2}{2\\beta} (1 - \\exp(-2\\beta t))$.\n\n**Part 2: Computation of the Reachability Probability**\n\nWe need to compute $\\mathbb{P}\\!\\left(\\sup_{0 \\leq s \\leq T} x_s \\geq b\\right)$ for the given parameters:\n$\\beta = 0.5$, $\\sigma = 0.8$, $\\mu = 5.0$, $b = 5.0$, $T = 3.0$, $x_0 = 1.50504019$.\n\nA key feature of the parameter set is that the mean reversion level $\\mu$ is equal to the barrier level $b$. This simplifies the problem. Let us define a new process $y_t = x_t - b$. Since $b=\\mu$, this is the same as $y_t = x_t - \\mu$. The SDE for $y_t$ is:\n$$dy_t = -\\beta y_t\\,dt + \\sigma\\,dW_t$$\nThe initial condition is $y_0 = x_0 - b = 1.50504019 - 5.0 = -3.49495981$.\nThe reachability condition $x_s \\geq b$ becomes $y_s + b \\geq b$, which simplifies to $y_s \\geq 0$.\nWe must therefore compute the probability that the process $y_t$, starting from $y_0  0$, reaches or exceeds the level $0$ in the time interval $[0, T]$:\n$$P = \\mathbb{P}\\!\\left(\\sup_{0 \\leq s \\leq T} y_s \\geq 0 \\mid y_0\\right)$$\nThis is a first-passage time problem for the OU process. We can solve it by transforming the OU process into a time-changed Wiener process. From Part 1, the solution for $y_t$ (with $\\mu=0$) is:\n$$y_t = y_0 \\exp(-\\beta t) + \\sigma \\int_0^t \\exp(-\\beta(t-s))\\,dW_s$$\nLet $Z_t = \\exp(\\beta t) y_t$. Then $dZ_t = \\sigma \\exp(\\beta t)\\,dW_t$, and $Z_t = y_0 + \\sigma \\int_0^t \\exp(\\beta s)\\,dW_s$.\nLet $\\tau(t) = \\int_0^t \\exp(2\\beta s)\\,ds = \\frac{\\exp(2\\beta t)-1}{2\\beta}$.\nBy the Dambis-Dubins-Schwarz theorem, the process $B_{\\tau(t)} = \\int_0^t \\exp(\\beta s)\\,dW_s$ is a standard Wiener process.\nSo, $Z_t = y_0 + \\sigma B_{\\tau(t)}$.\nThe original probability is:\n$$P = \\mathbb{P}\\!\\left(\\sup_{0 \\leq t \\leq T} \\exp(-\\beta t)Z_t \\geq 0 \\mid y_0\\right)$$\nSince $\\exp(-\\beta t)  0$ for all $t$, this is equivalent to:\n$$P = \\mathbb{P}\\!\\left(\\sup_{0 \\leq t \\leq T} Z_t \\geq 0 \\mid y_0\\right)$$\nSubstituting the expression for $Z_t$:\n$$P = \\mathbb{P}\\!\\left(\\sup_{0 \\leq t \\leq T} (y_0 + \\sigma B_{\\tau(t)}) \\geq 0\\right)$$\nThe time change $\\tau(t)$ is a strictly increasing function. As $t$ varies from $0$ to $T$, the new time variable $u = \\tau(t)$ varies from $\\tau(0)=0$ to $S \\equiv \\tau(T) = \\frac{\\exp(2\\beta T)-1}{2\\beta}$. The supremum over the interval $[0,T]$ in $t$ corresponds to a supremum over $[0,S]$ in $u$.\n$$P = \\mathbb{P}\\!\\left(\\sup_{0 \\leq u \\leq S} (y_0 + \\sigma B_u) \\geq 0\\right)$$\n$$\\implies P = \\mathbb{P}\\!\\left(\\sup_{0 \\leq u \\leq S} \\sigma B_u \\geq -y_0\\right)$$\nSince $\\sigma0$, we can divide by it:\n$$P = \\mathbb{P}\\!\\left(\\sup_{0 \\leq u \\leq S} B_u \\geq \\frac{-y_0}{\\sigma}\\right)$$\nLet $a = -y_0/\\sigma$. Since $y_0  0$, we have $a  0$. The problem reduces to finding the probability that a standard Wiener process $B_u$ starting at $0$ reaches level $a0$ by time $S$. By the reflection principle for Brownian motion, this probability is given by:\n$$P(\\sup_{0 \\leq u \\leq S} B_u \\geq a) = 2 \\mathbb{P}(B_S \\geq a)$$\nThe position of the Wiener process at time $S$, $B_S$, is a normal random variable with mean $0$ and variance $S$, i.e., $B_S \\sim \\mathcal{N}(0,S)$. Let $Z \\sim \\mathcal{N}(0,1)$ be a standard normal variable.\n$$\\mathbb{P}(B_S \\geq a) = \\mathbb{P}\\left(\\frac{B_S}{\\sqrt{S}} \\geq \\frac{a}{\\sqrt{S}}\\right) = \\mathbb{P}\\left(Z \\geq \\frac{a}{\\sqrt{S}}\\right) = 1 - \\Phi\\left(\\frac{a}{\\sqrt{S}}\\right) = \\Phi\\left(-\\frac{a}{\\sqrt{S}}\\right)$$\nwhere $\\Phi(\\cdot)$ is the cumulative distribution function (CDF) of the standard normal distribution.\nThe final probability is:\n$$P = 2 \\Phi\\left(-\\frac{a}{\\sqrt{S}}\\right)$$\nNow we substitute the numerical values:\n- $y_0= -3.49495981$\n- $\\beta = 0.5$\n- $\\sigma = 0.8$\n- $T = 3.0$\n\nCalculate $a$ and $S$:\n$$a = -\\frac{y_0}{\\sigma} = -\\frac{-3.49495981}{0.8} = 4.3686997625$$\n$$S = \\frac{\\exp(2\\beta T) - 1}{2\\beta} = \\frac{\\exp(2 \\times 0.5 \\times 3.0) - 1}{2 \\times 0.5} = \\frac{\\exp(3)-1}{1} = \\exp(3)-1$$\nLet's evaluate the argument of $\\Phi$:\n$$\\frac{a}{\\sqrt{S}} = \\frac{4.3686997625}{\\sqrt{\\exp(3)-1}}$$\nWe note that the value of $x_0$ seems specifically chosen. Let's test the hypothesis that $a/\\sqrt{S} = 1$. This would mean $a^2 = S$.\n$$a^2 = (4.3686997625)^2 \\approx 19.0855369$$\n$$S = \\exp(3) - 1 \\approx 20.0855369 - 1 = 19.0855369$$\nThe values match to high precision. The slight discrepancy arises from the finite precision of the given $x_0$. We conclude that the problem is designed such that $a/\\sqrt{S} = 1$.\nThe argument of the CDF is $-a/\\sqrt{S} = -1$.\nThe probability is:\n$$P = 2 \\Phi(-1)$$\nUsing the symmetry of the normal distribution, $\\Phi(-1) = 1 - \\Phi(1)$. The value of $\\Phi(1)$ is related to the error function, $\\Phi(z) = \\frac{1}{2}\\left(1 + \\text{erf}\\left(\\frac{z}{\\sqrt{2}}\\right)\\right)$.\nNumerically, $\\Phi(-1) \\approx 0.15865525$.\n$$P \\approx 2 \\times 0.15865525 = 0.3173105$$\nRounding the result to four significant figures gives $0.3173$.",
            "answer": "$$\\boxed{0.3173}$$"
        },
        {
            "introduction": "Effective verification depends on choosing the right model abstraction and the right formal language. This problem  challenges you to translate a single informal safety requirement into two different logical frameworks: CSL for continuous-time models and PCTL for discrete-time or nondeterministic models. By analyzing the subtle but critical differences, you will develop a deeper appreciation for the nuances of formal specification and the implications of your modeling choices.",
            "id": "4248184",
            "problem": "A digital twin of a cyber-physical thermal management system for a battery pack is modeled as a stochastic hybrid system: the continuous temperature evolves according to mode-dependent differential equations with exponentially distributed random switching among disturbance modes, while a software controller samples sensor readings periodically every $h$ seconds and actuates discrete mode switches based on a policy. Consider the atomic proposition $\\mathsf{unsafe}$ denoting the set of states where the temperature violates a safety threshold. You are asked to formalize the informal requirement “the probability of entering the unsafe set within time $T$ is less than $p$” for two verification abstractions and to clarify the semantic differences:\n\n- A continuous-time abstraction by a Continuous-Time Markov Chain (CTMC), to be analyzed with Continuous Stochastic Logic (CSL).\n- A time-sampled discrete-time abstraction by a Discrete-Time Markov Chain (DTMC) or a Markov Decision Process (MDP) with step size $h$, to be analyzed with Probabilistic Computation Tree Logic (PCTL).\n\nUse standard path operators $\\mathsf{F}$ (eventually), $\\mathsf{G}$ (globally), and bounded until $U^{\\leq \\cdot}$, and the probabilistic operator $P_{\\bowtie p}[\\cdot]$ with comparison $\\bowtie \\in \\{, \\leq, , \\geq\\}$. For MDPs, $P^{\\max}$ and $P^{\\min}$ quantify over schedulers. Assume $k = \\lceil T/h \\rceil$ is the smallest integer number of control steps whose duration is at least $T$.\n\nWhich option gives a correct pair of formulas (one in CSL and one in PCTL) that captures the informal requirement in each abstraction and correctly explains the key semantic differences between the two interpretations?\n\nA. CSL: $P_{ p}[\\mathsf{F}^{\\leq T}\\,\\mathsf{unsafe}]$; PCTL: $P^{\\max}_{ p}[\\mathsf{F}^{\\leq k}\\,\\mathsf{unsafe}]$ with $k=\\lceil T/h\\rceil$. Explanation: In CSL on a CTMC, $\\mathsf{F}^{\\leq T}$ ranges over all real-time paths whose sojourn times are exponentially distributed; the probability measure is over continuous time. In PCTL on a DTMC or MDP, $\\mathsf{F}^{\\leq k}$ counts discrete steps rather than real time, so the bound is in steps; for an MDP, $P^{\\max}$ considers the worst-case scheduler, matching a robust safety interpretation. The two interpretations differ because time is continuous in the CTMC semantics and discrete-step in the DTMC or MDP semantics, and nondeterminism requires extremal probabilities in the latter.\n\nB. CSL: $P_{\\geq 1-p}[\\mathsf{G}^{\\leq T}\\,\\neg \\mathsf{unsafe}]$; PCTL: $P_{\\geq 1-p}[\\mathsf{G}^{\\leq k}\\,\\neg \\mathsf{unsafe}]$ with $k=\\lceil T/h\\rceil$. Explanation: Staying safe up to the bound is the complement of entering the unsafe set, and the same comparison operator preserves equivalence; both logics use the same notion of time-bounded global safety, and nondeterminism does not affect the result because safety is universal.\n\nC. CSL: $P_{ p}[\\mathsf{F}\\,\\mathsf{unsafe}]$; PCTL: $P^{\\min}_{ p}[\\mathsf{F}\\,\\mathsf{unsafe}]$. Explanation: Time bounds are not needed because eventuality implies entry “at some time,” and using $P^{\\min}$ in PCTL ensures the most conservative estimate of risk under nondeterminism.\n\nD. CSL: $P_{ p}[\\mathsf{true}\\ U^{\\leq T}\\ \\mathsf{unsafe}]$; PCTL: $P_{ p}[\\mathsf{true}\\ U^{\\leq T}\\ \\mathsf{unsafe}]$. Explanation: Both logics admit the same time-bounded until with a real-time bound $T$, so the same syntax and semantics apply; there is no need to consider schedulers in PCTL because time is real-valued in both settings.\n\nSelect the single best option.",
            "solution": "This is a problem in the formal verification of cyber-physical systems, specifically concerning the translation of an informal safety requirement into formal logic specifications for different system abstractions. I will first validate the problem statement and then proceed to a full solution.\n\n### Problem Validation\n\n**Step 1: Extract Givens**\n\n*   **System:** A digital twin of a cyber-physical thermal management system for a battery pack.\n*   **Model:** A stochastic hybrid system.\n*   **Continuous Dynamics:** Temperature evolves according to mode-dependent differential equations.\n*   **Stochastic Dynamics:** Random switching among disturbance modes is governed by exponential distributions.\n*   **Discrete Control:** A software controller samples sensors every $h$ seconds and actuates discrete mode switches based on a policy.\n*   **Atomic Proposition:** $\\mathsf{unsafe}$ denotes the set of states where temperature violates a safety threshold.\n*   **Informal Requirement:** “the probability of entering the unsafe set within time $T$ is less than $p$”.\n*   **Abstraction 1 (Continuous-Time):** A Continuous-Time Markov Chain (CTMC) to be analyzed with Continuous Stochastic Logic (CSL).\n*   **Abstraction 2 (Discrete-Time):** A Discrete-Time Markov Chain (DTMC) or a Markov Decision Process (MDP) with step size $h$, to be analyzed with Probabilistic Computation Tree Logic (PCTL).\n*   **Logic Operators:** Path operators $\\mathsf{F}$ (eventually), $\\mathsf{G}$ (globally), and bounded until $U^{\\leq \\cdot}$. Probabilistic operator $P_{\\bowtie p}[\\cdot]$ where $\\bowtie \\in \\{, \\leq, , \\geq\\}$. For MDPs, path quantifiers $P^{\\max}$ and $P^{\\min}$ are used.\n*   **Time Discretization:** $k = \\lceil T/h \\rceil$ is the number of control steps corresponding to the time horizon $T$.\n\n**Step 2: Validate Using Extracted Givens**\n\n1.  **Scientifically Grounded:** The problem is firmly grounded in the established theory of formal methods for cyber-physical and hybrid systems. CTMCs, MDPs, CSL, and PCTL are standard, well-defined mathematical formalisms used for modeling and verification. The application to a battery thermal management system is a realistic and critical engineering problem. The description is scientifically sound.\n2.  **Well-Posed:** The question is well-posed. It asks for the correct formalization of a clear informal requirement under two different, standard modeling abstractions (CTMC and DTMC/MDP). The goal is to identify the correct syntactic and semantic representation in the corresponding temporal logics (CSL and PCTL). A unique, correct answer based on the semantics of these logics is expected to exist.\n3.  **Objective:** The language is technical, precise, and objective. It uses standard terminology from computer science and control theory without ambiguity.\n4.  **Complete and Consistent:** The problem provides all necessary information. It defines the system behavior, the abstractions, the target property, the logics, and the relationship between continuous time $T$ and discrete steps $k$. The givens are internally consistent.\n5.  **Realistic and Feasible:** The described scenario is a canonical example of applying probabilistic model checking to a safety-critical system. The abstractions mentioned are standard practice.\n6.  **Ill-Posed or Poorly Structured:** The problem structure is clear and logical. It does not suffer from circular reasoning, and the terms are well-defined within the context of the field.\n7.  **Pseudo-Profound, Trivial, or Tautological:** The problem is not trivial. It requires a nuanced understanding of the semantic differences between continuous-time and discrete-time probabilistic logics, especially regarding the interpretation of time bounds and the handling of nondeterminism in MDPs.\n8.  **Outside Scientific Verifiability:** The correctness of the proposed logical formulas can be rigorously verified against the formal semantics of CSL and PCTL.\n\n**Step 3: Verdict and Action**\n\nThe problem statement is valid. It is a well-formulated question in the field of formal verification. I will now proceed with the solution derivation and option analysis.\n\n### Solution Derivation\n\nThe informal requirement is “the probability of entering the unsafe set within time $T$ is less than $p$”. Let's formalize this for each abstraction.\n\n**1. CSL Formulation for the CTMC Abstraction**\n\nThe CTMC model is continuous in time. CSL is the appropriate logic for specifying properties over CTMCs.\n- The event \"entering the unsafe set\" corresponds to reaching a state where the atomic proposition $\\mathsf{unsafe}$ is true.\n- The temporal operator for \"eventually\" or \"reaching\" is $\\mathsf{F}$.\n- The constraint \"within time $T$\" requires a time-bounded operator. In CSL, this is expressed as $\\mathsf{F}^{\\leq T}$. Thus, the path property is $\\mathsf{F}^{\\leq T}\\,\\mathsf{unsafe}$. This is standard syntactic sugar for $\\mathsf{true}\\ U^{\\leq T}\\ \\mathsf{unsafe}$, meaning a path stays in any state ($\\mathsf{true}$) until it reaches an $\\mathsf{unsafe}$ state, with the total time elapsed being at most $T$.\n- The probabilistic requirement \"the probability... is less than $p$\" is captured by the probabilistic operator $P_{p}[\\cdot]$.\n- A CTMC is purely stochastic; there is no nondeterminism to be resolved by a scheduler. Therefore, operators like $P^{\\max}$ or $P^{\\min}$ are not used.\n\nCombining these elements, the CSL formula is:\n$$ P_{ p}\\big[\\,\\mathsf{F}^{\\leq T}\\,\\mathsf{unsafe}\\,\\big] $$\nThe semantics of this formula involves a measure over all continuous-time paths originating from a given state, where path durations are determined by the exponentially distributed sojourn times in the CTMC states. The bound $T$ is a real-valued time quantity.\n\n**2. PCTL Formulation for the DTMC/MDP Abstraction**\n\nThe DTMC/MDP model is discrete in time, with each step representing a duration of $h$. PCTL is the logic for these models.\n- The time horizon $T$ must be converted into a number of discrete steps. As defined, this is $k = \\lceil T/h \\rceil$.\n- The event \"entering the unsafe set within $k$ steps\" is expressed using the discrete-step bounded `eventually` operator, $\\mathsf{F}^{\\leq k}$. The path property is $\\mathsf{F}^{\\leq k}\\,\\mathsf{unsafe}$.\n- The problem states the abstraction could be a DTMC or an MDP. An MDP includes nondeterministic choices, which are resolved by a \"scheduler\" or \"policy.\" The problem mentions the controller has a \"policy,\" but in robust verification, we often want to verify a property against all possible valid policies or disturbances. To guarantee safety, we must consider the worst-case scenario. The \"unsafe\" event is a bad outcome. The worst-case scheduler is the one that *maximizes* the probability of this bad outcome. Therefore, we must use the $P^{\\max}$ operator.\n- The requirement is that even this maximum probability of failure is less than $p$. This is formalized as $P^{\\max}_{ p}[\\cdot]$.\n\nCombining these elements, the PCTL formula for an MDP is:\n$$ P^{\\max}_{ p}\\big[\\,\\mathsf{F}^{\\leq k}\\,\\mathsf{unsafe}\\,\\big] \\quad \\text{with } k=\\lceil T/h\\rceil $$\nIf the model were a simple DTMC (no nondeterminism), the $P^{\\max}$ would be omitted, as there is only one scheduler. However, a robust formulation must account for the MDP case presented. The key semantic differences are: (1) CSL uses continuous time $T$, while PCTL uses discrete steps $k$; (2) PCTL on an MDP requires quantification over schedulers ($P^{\\max}$ or $P^{\\min}$) to handle nondeterminism, whereas a CTMC is purely stochastic.\n\n### Option-by-Option Analysis\n\n**A. CSL: $P_{ p}[\\mathsf{F}^{\\leq T}\\,\\mathsf{unsafe}]$; PCTL: $P^{\\max}_{ p}[\\mathsf{F}^{\\leq k}\\,\\mathsf{unsafe}]$ with $k=\\lceil T/h\\rceil$. Explanation: In CSL on a CTMC, $\\mathsf{F}^{\\leq T}$ ranges over all real-time paths whose sojourn times are exponentially distributed; the probability measure is over continuous time. In PCTL on a DTMC or MDP, $\\mathsf{F}^{\\leq k}$ counts discrete steps rather than real time, so the bound is in steps; for an MDP, $P^{\\max}$ considers the worst-case scheduler, matching a robust safety interpretation. The two interpretations differ because time is continuous in the CTMC semantics and discrete-step in the DTMC or MDP semantics, and nondeterminism requires extremal probabilities in the latter.**\n\n- The CSL formula is correct as derived above.\n- The PCTL formula is correct as derived above, properly handling the conversion from time $T$ to steps $k$ and using $P^{\\max}$ for a robust safety analysis over an MDP.\n- The explanation accurately describes the semantic foundation of both formulas. It correctly identifies the continuous-time nature of CSL vs. the discrete-step nature of PCTL. Crucially, it correctly explains the role of $P^{\\max}$ as a quantifier over schedulers to handle nondeterminism in the worst-case sense for a safety property, which is a key distinction.\n\nVerdict: **Correct**.\n\n**B. CSL: $P_{\\geq 1-p}[\\mathsf{G}^{\\leq T}\\,\\neg \\mathsf{unsafe}]$; PCTL: $P_{\\geq 1-p}[\\mathsf{G}^{\\leq k}\\,\\neg \\mathsf{unsafe}]$ with $k=\\lceil T/h\\rceil$. Explanation: Staying safe up to the bound is the complement of entering the unsafe set, and the same comparison operator preserves equivalence; both logics use the same notion of time-bounded global safety, and nondeterminism does not affect the result because safety is universal.**\n\n- The logical equivalence is almost correct: $P(\\mathsf{F}^{\\leq T}\\,\\mathsf{unsafe})  p$ is equivalent to $P(\\neg(\\mathsf{F}^{\\leq T}\\,\\mathsf{unsafe}))  1-p$. The event $\\neg(\\mathsf{F}^{\\leq T}\\,\\mathsf{unsafe})$ is equivalent to $\\mathsf{G}^{\\leq T}\\,\\neg\\mathsf{unsafe}$ (always remaining safe within the time bound). So the requirement becomes $P_{ 1-p}\\big[\\,\\mathsf{G}^{\\leq T}\\,\\neg \\mathsf{unsafe}\\,\\big]$. The formula uses $\\geq 1-p$, which is a weaker condition.\n- The PCTL formula $P_{\\geq 1-p}\\big[\\,\\mathsf{G}^{\\leq k}\\,\\neg \\mathsf{unsafe}\\,\\big]$ omits the necessary quantifier for an MDP. To guarantee \"staying safe\" (a good event), one must ensure it holds even for the worst scheduler, meaning the scheduler that *minimizes* the probability of staying safe. The formula should be $P^{\\min}_{ 1-p}\\big[\\,\\mathsf{G}^{\\leq k}\\,\\neg \\mathsf{unsafe}\\,\\big]$.\n- The explanation is faulty. It claims \"nondeterminism does not affect the result,\" which is fundamentally incorrect for MDPs. Nondeterminism is the primary reason for using $P^{\\max}$ and $P^{\\min}$.\n\nVerdict: **Incorrect**.\n\n**C. CSL: $P_{ p}[\\mathsf{F}\\,\\mathsf{unsafe}]$; PCTL: $P^{\\min}_{ p}[\\mathsf{F}\\,\\mathsf{unsafe}]$. Explanation: Time bounds are not needed because eventuality implies entry “at some time,” and using $P^{\\min}$ in PCTL ensures the most conservative estimate of risk under nondeterminism.**\n\n- The formulas use unbounded `eventually` ($\\mathsf{F}$), which means \"at any point in the future\". This contradicts the explicit requirement \"within time $T$\".\n- The explanation defends this error by claiming time bounds are not needed, which is false.\n- For the PCTL formula, it uses $P^{\\min}$ to quantify the probability of reaching an `unsafe` state. $P^{\\min}$ finds the probability under the *best-case* scheduler, i.e., the one that tries to *avoid* the unsafe set. For a safety analysis concerned with risk, one must use $P^{\\max}$ to find the worst-case probability of failure. The use of $P^{\\min}$ is incorrect for this purpose.\n\nVerdict: **Incorrect**.\n\n**D. CSL: $P_{ p}[\\mathsf{true}\\ U^{\\leq T}\\ \\mathsf{unsafe}]$; PCTL: $P_{ p}[\\mathsf{true}\\ U^{\\leq T}\\ \\mathsf{unsafe}]$. Explanation: Both logics admit the same time-bounded until with a real-time bound $T$, so the same syntax and semantics apply; there is no need to consider schedulers in PCTL because time is real-valued in both settings.**\n\n- The CSL formula is syntactically correct and semantically equivalent to the one in option A, since $\\mathsf{F}^{\\leq T}\\phi \\equiv \\mathsf{true}\\ U^{\\leq T}\\ \\phi$.\n- The PCTL formula $P_{ p}\\big[\\,\\mathsf{true}\\ U^{\\leq T}\\ \\mathsf{unsafe}\\,\\big]$ is syntactically incorrect for standard PCTL. The bounded until operator in PCTL, $U^{\\leq k}$, expects an integer step count $k$, not a real-valued time bound $T$. This formula conflates the syntax of CSL and PCTL.\n- The explanation is wrong on multiple counts. It incorrectly claims PCTL uses real-time bounds. It incorrectly asserts that schedulers are not needed. Schedulers are fundamental to the semantics of MDPs and are independent of the notion of time used.\n\nVerdict: **Incorrect**.",
            "answer": "$$\\boxed{A}$$"
        }
    ]
}