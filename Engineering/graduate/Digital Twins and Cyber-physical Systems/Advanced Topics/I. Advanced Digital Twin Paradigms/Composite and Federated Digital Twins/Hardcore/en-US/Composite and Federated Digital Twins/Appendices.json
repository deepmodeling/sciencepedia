{
    "hands_on_practices": [
        {
            "introduction": "A foundational skill in analyzing federated systems is understanding how the collective behavior emerges from interconnected components. This exercise guides you through composing two linear subsystems and determining the equilibrium point of the resulting composite digital twin. Mastering this allows you to predict the steady-state response and assess the fundamental stability of the integrated system. ",
            "id": "4209278",
            "problem": "A composite Digital Twin (DT) of a federated Cyber-Physical System (CPS) is formed by interconnecting two linear time-invariant subsystem twins. Subsystem $1$ has state $x_1 \\in \\mathbb{R}^{2}$, input $u_1 \\in \\mathbb{R}^{2}$, and output $y_1 \\in \\mathbb{R}^{2}$ with dynamics\n$$\n\\dot{x}_1 = A_1 x_1 + B_1 u_1, \\quad y_1 = C_1 x_1 + D_1 u_1,\n$$\nand subsystem $2$ has state $x_2 \\in \\mathbb{R}^{2}$, input $u_2 \\in \\mathbb{R}^{2}$, and output $y_2 \\in \\mathbb{R}^{2}$ with dynamics\n$$\n\\dot{x}_2 = A_2 x_2 + B_2 u_2, \\quad y_2 = C_2 x_2 + D_2 u_2.\n$$\nIn this federated composite DT, the interconnection is defined by\n$$\nu_1 = C_2 x_2, \\qquad u_2 = C_1 x_1,\n$$\nthat is, each subsystem’s input is the state-based output of the other (no direct feedthrough is used in the interconnection). The subsystem parameter matrices are\n$$\nA_1=\\begin{pmatrix}-1  2\\\\ -3  -4\\end{pmatrix},\\quad B_1=\\begin{pmatrix}1  0\\\\ 0  1\\end{pmatrix},\\quad C_1=\\begin{pmatrix} \\tfrac{1}{2}  0\\\\ 0  -1\\end{pmatrix},\\quad D_1=\\begin{pmatrix}0  0\\\\ 0  0\\end{pmatrix},\n$$\n$$\nA_2=\\begin{pmatrix}-2  1\\\\ 1  -3\\end{pmatrix},\\quad B_2=\\begin{pmatrix}2  0\\\\ 0  1\\end{pmatrix},\\quad C_2=\\begin{pmatrix}1  1\\\\ 0  2\\end{pmatrix},\\quad D_2=\\begin{pmatrix}0  0\\\\ 0  0\\end{pmatrix}.\n$$\nUsing only fundamental state-space modeling principles for linear time-invariant systems and the definition of equilibrium for autonomous systems, determine the equilibrium point $(x_1^{\\star},x_2^{\\star})$ of the composite federated DT under the given interconnection. Express your final answer as a single row vector\n$$\n\\begin{pmatrix} x_{1,1}^{\\star}  x_{1,2}^{\\star}  x_{2,1}^{\\star}  x_{2,2}^{\\star} \\end{pmatrix}\n$$\nwith no units. No rounding is required; provide the exact values.",
            "solution": "The problem requires the determination of the equilibrium point $(x_1^{\\star}, x_2^{\\star})$ for a composite federated digital twin. The system is described by two interconnected linear time-invariant (LTI) subsystems.\n\nFirst, we establish the mathematical model for the overall composite system. The state of the composite system is the concatenation of the individual subsystem states, defined as $x = \\begin{pmatrix} x_1 \\\\ x_2 \\end{pmatrix}$, where $x \\in \\mathbb{R}^{4}$.\n\nThe dynamics of the individual subsystems are given by:\n$$\n\\dot{x}_1 = A_1 x_1 + B_1 u_1\n$$\n$$\n\\dot{x}_2 = A_2 x_2 + B_2 u_2\n$$\nThe interconnection between the subsystems is defined by the coupling equations:\n$$\nu_1 = C_2 x_2\n$$\n$$\nu_2 = C_1 x_1\n$$\nSubstituting these interconnection laws into the subsystem dynamics yields the dynamics of the composite system as a function of its own state, making it an autonomous system:\n$$\n\\dot{x}_1 = A_1 x_1 + B_1 (C_2 x_2) = A_1 x_1 + (B_1 C_2) x_2\n$$\n$$\n\\dot{x}_2 = A_2 x_2 + B_2 (C_1 x_1) = (B_2 C_1) x_1 + A_2 x_2\n$$\nThis can be expressed in a standard state-space form for the composite system, $\\dot{x} = A_{comp} x$:\n$$\n\\begin{pmatrix} \\dot{x}_1 \\\\ \\dot{x}_2 \\end{pmatrix} = \\begin{pmatrix} A_1  B_1 C_2 \\\\ B_2 C_1  A_2 \\end{pmatrix} \\begin{pmatrix} x_1 \\\\ x_2 \\end{pmatrix}\n$$\nHere, $A_{comp} = \\begin{pmatrix} A_1  B_1 C_2 \\\\ B_2 C_1  A_2 \\end{pmatrix}$ is the state matrix of the composite system.\n\nAn equilibrium point $x^{\\star}$ of an autonomous system $\\dot{x} = f(x)$ is a state at which the system remains indefinitely. This occurs when the state derivatives are zero, i.e., $\\dot{x} = 0$. For our linear system, the equilibrium condition is $\\dot{x}^{\\star} = A_{comp} x^{\\star} = 0$. This is a system of homogeneous linear equations.\n\nTo find the equilibrium point(s), we must first construct the matrix $A_{comp}$ using the provided parameter matrices.\nThe given matrices are:\n$$\nA_1=\\begin{pmatrix}-1  2\\\\ -3  -4\\end{pmatrix}, B_1=\\begin{pmatrix}1  0\\\\ 0  1\\end{pmatrix}, C_1=\\begin{pmatrix} \\frac{1}{2}  0\\\\ 0  -1\\end{pmatrix}\n$$\n$$\nA_2=\\begin{pmatrix}-2  1\\\\ 1  -3\\end{pmatrix}, B_2=\\begin{pmatrix}2  0\\\\ 0  1\\end{pmatrix}, C_2=\\begin{pmatrix}1  1\\\\ 0  2\\end{pmatrix}\n$$\nWe compute the off-diagonal block matrices $B_1 C_2$ and $B_2 C_1$:\n$$\nB_1 C_2 = \\begin{pmatrix}1  0\\\\ 0  1\\end{pmatrix} \\begin{pmatrix}1  1\\\\ 0  2\\end{pmatrix} = \\begin{pmatrix}1  1\\\\ 0  2\\end{pmatrix}\n$$\n$$\nB_2 C_1 = \\begin{pmatrix}2  0\\\\ 0  1\\end{pmatrix} \\begin{pmatrix} \\frac{1}{2}  0\\\\ 0  -1\\end{pmatrix} = \\begin{pmatrix}(2)(\\frac{1}{2})+(0)(0)  (2)(0)+(0)(-1)\\\\ (0)(\\frac{1}{2})+(1)(0)  (0)(0)+(1)(-1)\\end{pmatrix} = \\begin{pmatrix}1  0\\\\ 0  -1\\end{pmatrix}\n$$\nNow, we assemble the composite state matrix $A_{comp}$:\n$$\nA_{comp} = \\begin{pmatrix} A_1  B_1 C_2 \\\\ B_2 C_1  A_2 \\end{pmatrix} = \\left(\\begin{array}{cc|cc} -1  2  1  1 \\\\ -3  -4  0  2 \\\\ \\hline 1  0  -2  1 \\\\ 0  -1  1  -3 \\end{array}\\right)\n$$\nThe equilibrium points $x^{\\star}$ are the solutions to the equation $A_{comp} x^{\\star} = 0$. A non-trivial solution (i.e., $x^{\\star} \\neq 0$) exists if and only if the matrix $A_{comp}$ is singular, which means its determinant is zero ($\\det(A_{comp}) = 0$). If the matrix is non-singular ($\\det(A_{comp}) \\neq 0$), the only solution is the trivial solution $x^{\\star} = 0$.\n\nWe proceed to calculate the determinant of $A_{comp}$. We use the method of Laplace expansion. Expanding along the third row is advantageous due to the presence of a zero element.\n$$\n\\det(A_{comp}) = (1) \\cdot C_{31} + (0) \\cdot C_{32} + (-2) \\cdot C_{33} + (1) \\cdot C_{34}\n$$\nwhere $C_{ij}$ is the cofactor of the element in the $i$-th row and $j$-th column.\n$$\n\\det(A_{comp}) = (1) \\cdot (-1)^{3+1} \\det\\begin{pmatrix} 2  1  1 \\\\ -4  0  2 \\\\ -1  1  -3 \\end{pmatrix} + (-2) \\cdot (-1)^{3+3} \\det\\begin{pmatrix} -1  2  1 \\\\ -3  -4  2 \\\\ 0  -1  -3 \\end{pmatrix} + (1) \\cdot (-1)^{3+4} \\det\\begin{pmatrix} -1  2  1 \\\\ -3  -4  0 \\\\ 0  -1  1 \\end{pmatrix}\n$$\nWe calculate the three required $3 \\times 3$ determinants:\n$M_{31} = \\det\\begin{pmatrix} 2  1  1 \\\\ -4  0  2 \\\\ -1  1  -3 \\end{pmatrix} = 2(0-2) - 1(12-(-2)) + 1(-4-0) = -4 - 14 - 4 = -22$.\n$M_{33} = \\det\\begin{pmatrix} -1  2  1 \\\\ -3  -4  2 \\\\ 0  -1  -3 \\end{pmatrix} = -1(12-(-2)) - 2(9-0) + 1(3-0) = -14 - 18 + 3 = -29$.\n$M_{34} = \\det\\begin{pmatrix} -1  2  1 \\\\ -3  -4  0 \\\\ 0  -1  1 \\end{pmatrix} = -1(-4-0) - 2(-3-0) + 1(3-0) = 4 + 6 + 3 = 13$.\n\nSubstituting these values back into the expression for $\\det(A_{comp})$:\n$$\n\\det(A_{comp}) = (1)(1)(-22) + (-2)(1)(-29) + (1)(-1)(13)\n$$\n$$\n\\det(A_{comp}) = -22 + 58 - 13\n$$\n$$\n\\det(A_{comp}) = 36 - 13 = 23\n$$\nSince $\\det(A_{comp}) = 23 \\neq 0$, the matrix $A_{comp}$ is non-singular (invertible). Therefore, the homogeneous system of linear equations $A_{comp} x^{\\star} = 0$ has only one solution, which is the trivial solution $x^{\\star} = 0$.\n\nThe equilibrium state is $x^{\\star} = \\begin{pmatrix} x_1^{\\star} \\\\ x_2^{\\star} \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ 0 \\\\ 0 \\\\ 0 \\end{pmatrix}$. This corresponds to both subsystems resting at their respective origins.\nIn the requested row vector format, the equilibrium point is $\\begin{pmatrix} x_{1,1}^{\\star}  x_{1,2}^{\\star}  x_{2,1}^{\\star}  x_{2,2}^{\\star} \\end{pmatrix} = \\begin{pmatrix} 0  0  0  0 \\end{pmatrix}$.",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 0  0  0  0 \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "While continuous dynamics describe physical processes, the coordination between federated twins is often governed by discrete event-based protocols. This practice introduces Interface Automata as a formal tool to model and verify these interactions, ensuring that components are compatible. By composing two automata and checking for deadlocks, you will learn to identify and prevent critical failures in system-level coordination. ",
            "id": "4209229",
            "problem": "In the context of composite and federated digital twins, consider two component twins that coordinate through Interface Automata to form a composite Digital Twin in a Cyber-Physical System (CPS). An Interface Automaton is a quintuple $\\mathcal{A} = (S_{\\mathcal{A}}, s_{\\mathcal{A},0}, I_{\\mathcal{A}}, O_{\\mathcal{A}}, H_{\\mathcal{A}}, T_{\\mathcal{A}})$, where $S_{\\mathcal{A}}$ is the finite set of states, $s_{\\mathcal{A},0} \\in S_{\\mathcal{A}}$ is the initial state, $I_{\\mathcal{A}}$ is the set of input actions, $O_{\\mathcal{A}}$ is the set of output actions, $H_{\\mathcal{A}}$ is the set of internal actions, and $T_{\\mathcal{A}} \\subseteq S_{\\mathcal{A}} \\times (I_{\\mathcal{A}} \\cup O_{\\mathcal{A}} \\cup H_{\\mathcal{A}}) \\times S_{\\mathcal{A}}$ is the transition relation. Composition synchronizes on shared actions when one side produces an output and the other side accepts it as an input; shared actions become internal in the composite. States that enable an unmatched shared output (i.e., an output that the other side cannot accept in its current state) are considered incompatible and must be removed from the reachable composite as per the classical Interface Automata semantics.\n\nLet the two component twins be given by the following Interface Automata:\n- The first automaton $\\mathcal{A}$ models a sensing twin:\n  - $S_{\\mathcal{A}} = \\{ s_{0}, s_{1}, s_{2} \\}$, $s_{\\mathcal{A},0} = s_{0}$.\n  - $I_{\\mathcal{A}} = \\{ \\text{resp} \\}$, $O_{\\mathcal{A}} = \\{ \\text{req}, \\text{ping} \\}$, $H_{\\mathcal{A}} = \\{ \\text{work} \\}$.\n  - $T_{\\mathcal{A}}$ includes:\n    - $(s_{0}, \\text{req}, s_{1})$,\n    - $(s_{1}, \\text{work}, s_{2})$,\n    - $(s_{2}, \\text{req}, s_{1})$,\n    - $(s_{1}, \\text{resp}, s_{0})$,\n    - $(s_{0}, \\text{ping}, s_{0})$.\n- The second automaton $\\mathcal{B}$ models an actuation twin:\n  - $S_{\\mathcal{B}} = \\{ t_{0}, t_{1} \\}$, $s_{\\mathcal{B},0} = t_{0}$.\n  - $I_{\\mathcal{B}} = \\{ \\text{req} \\}$, $O_{\\mathcal{B}} = \\{ \\text{resp}, \\text{alarm} \\}$, $H_{\\mathcal{B}} = \\{ \\text{calc} \\}$.\n  - $T_{\\mathcal{B}}$ includes:\n    - $(t_{0}, \\text{req}, t_{1})$,\n    - $(t_{1}, \\text{resp}, t_{0})$,\n    - $(t_{0}, \\text{alarm}, t_{0})$,\n    - $(t_{1}, \\text{calc}, t_{1})$.\n\nLet the shared action alphabet be $\\Sigma = \\{ \\text{req}, \\text{resp} \\}$; actions outside $\\Sigma$ are not shared. Define the synchronized product $\\mathcal{A} \\parallel \\mathcal{B}$ by:\n- Composite states $S = S_{\\mathcal{A}} \\times S_{\\mathcal{B}}$, initial state $(s_{0}, t_{0})$.\n- Internal and unshared actions interleave on their respective components.\n- Shared actions in $\\Sigma$ synchronize only if they are enabled as an output in one component and enabled as an input in the other at the current pair of states, becoming internal in the composite.\n- Incompatible states are removed: a composite state $(s, t)$ is incompatible if there exists $a \\in \\Sigma$ such that $a$ is enabled as an output in one component at its state while $a$ is not enabled as an input in the other component at its state.\n\nCompute the synchronized product under these rules, remove incompatible states, and then determine the number of reachable deadlock states in the resulting composite automaton, where a deadlock state is a reachable composite state with no enabled internal, synchronized, or unshared output actions. Express your final answer as an integer. No rounding is required, and no physical units are involved. Your reasoning must start from the formal definitions provided above and proceed by first principles of Interface Automata composition appropriate for composite and federated digital twins in a CPS.",
            "solution": "The problem requires the computation of the number of reachable deadlock states in the composite digital twin formed by the synchronized product of two Interface Automata, $\\mathcal{A}$ and $\\mathcal{B}$. The solution proceeds by first validating the problem, then constructing the composite automaton, pruning it according to the rules of Interface Automata, and finally analyzing its reachable states for deadlocks.\n\n### Step 1: Problem Validation\n\nThe problem statement has been validated and is deemed valid.\n- **Givens**:\n  - Automaton $\\mathcal{A}$:\n    - States $S_{\\mathcal{A}} = \\{ s_{0}, s_{1}, s_{2} \\}$, initial state $s_{\\mathcal{A},0} = s_{0}$.\n    - Input actions $I_{\\mathcal{A}} = \\{ \\text{resp} \\}$.\n    - Output actions $O_{\\mathcal{A}} = \\{ \\text{req}, \\text{ping} \\}$.\n    - Internal actions $H_{\\mathcal{A}} = \\{ \\text{work} \\}$.\n    - Transitions $T_{\\mathcal{A}} = \\{ (s_{0}, \\text{req}, s_{1}), (s_{1}, \\text{work}, s_{2}), (s_{2}, \\text{req}, s_{1}), (s_{1}, \\text{resp}, s_{0}), (s_{0}, \\text{ping}, s_{0}) \\}$.\n  - Automaton $\\mathcal{B}$:\n    - States $S_{\\mathcal{B}} = \\{ t_{0}, t_{1} \\}$, initial state $s_{\\mathcal{B},0} = t_{0}$.\n    - Input actions $I_{\\mathcal{B}} = \\{ \\text{req} \\}$.\n    - Output actions $O_{\\mathcal{B}} = \\{ \\text{resp}, \\text{alarm} \\}$.\n    - Internal actions $H_{\\mathcal{B}} = \\{ \\text{calc} \\}$.\n    - Transitions $T_{\\mathcal{B}} = \\{ (t_{0}, \\text{req}, t_{1}), (t_{1}, \\text{resp}, t_{0}), (t_{0}, \\text{alarm}, t_{0}), (t_{1}, \\text{calc}, t_{1}) \\}$.\n  - Shared action alphabet $\\Sigma = \\{ \\text{req}, \\text{resp} \\}$.\n  - Composition rules: standard Interface Automata composition with removal of incompatible states. A composite state $(s, t)$ is incompatible if an enabled shared output from one component is not an enabled input in the other.\n  - A deadlock state is a reachable state with no outgoing transitions.\n- **Verdict**: The problem is scientifically grounded in the theory of Interface Automata, is well-posed, objective, and self-contained. It is therefore valid.\n\n### Step 2: Construction of the Composite Automaton\n\nLet the composite automaton be $\\mathcal{P} = \\mathcal{A} \\parallel \\mathcal{B}$.\n\n**2.1. Composite State Space**\nThe full, unpruned state space is the Cartesian product of the component state spaces:\n$S = S_{\\mathcal{A}} \\times S_{\\mathcal{B}} = \\{ (s_{0}, t_{0}), (s_{0}, t_{1}), (s_{1}, t_{0}), (s_{1}, t_{1}), (s_{2}, t_{0}), (s_{2}, t_{1}) \\}$.\nThe initial state is $(s_{\\mathcal{A},0}, s_{\\mathcal{B},0}) = (s_{0}, t_{0})$.\n\n**2.2. Identification of Incompatible States**\nA composite state $(s, t)$ is incompatible if there exists a shared action $a \\in \\Sigma = \\{\\text{req}, \\text{resp}\\}$ such that $a$ is an enabled output from state $s$ (or $t$) but is not an enabled input at state $t$ (or $s$).\n\n- Enabled outputs for $\\mathcal{A}$:\n  - from $s_{0}$: $\\text{req}, \\text{ping}$. Shared output: $\\text{req}$.\n  - from $s_{1}$: none.\n  - from $s_{2}$: $\\text{req}$. Shared output: $\\text{req}$.\n- Enabled inputs for $\\mathcal{A}$:\n  - from $s_{1}$: $\\text{resp}$.\n- Enabled outputs for $\\mathcal{B}$:\n  - from $t_{0}$: $\\text{alarm}$. No shared outputs.\n  - from $t_{1}$: $\\text{resp}$. Shared output: $\\text{resp}$.\n- Enabled inputs for $\\mathcal{B}$:\n  - from $t_{0}$: $\\text{req}$.\n\nWe check each pair $(s, t) \\in S$:\n- $(s_{0}, t_{0})$: $\\mathcal{A}$ can output $\\text{req}$; $\\mathcal{B}$ can input $\\text{req}$ at $t_{0}$. $\\mathcal{B}$ has no shared outputs at $t_{0}$. This state is compatible.\n- $(s_{0}, t_{1})$: $\\mathcal{A}$ can output $\\text{req}$ at $s_{0}$. $\\mathcal{B}$ has no input transition for $\\text{req}$ at $t_{1}$. Thus, $(s_{0}, t_{1})$ is **incompatible**.\n- $(s_{1}, t_{0})$: $\\mathcal{A}$ has no shared outputs at $s_{1}$. $\\mathcal{B}$ has no shared outputs at $t_{0}$. This state is compatible.\n- $(s_{1}, t_{1})$: $\\mathcal{B}$ can output $\\text{resp}$ at $t_{1}$; $\\mathcal{A}$ can input $\\text{resp}$ at $s_{1}$. This state is compatible.\n- $(s_{2}, t_{0})$: $\\mathcal{A}$ can output $\\text{req}$ at $s_{2}$; $\\mathcal{B}$ can input $\\text{req}$ at $t_{0}$. This state is compatible.\n- $(s_{2}, t_{1})$: $\\mathcal{A}$ can output $\\text{req}$ at $s_{2}$. $\\mathcal{B}$ has no input transition for $\\text{req}$ at $t_{1}$. Thus, $(s_{2}, t_{1})$ is **incompatible**.\n\nThe set of incompatible states is $S_{\\text{incomp}} = \\{ (s_{0}, t_{1}), (s_{2}, t_{1}) \\}$. The composite automaton will be defined over the set of legal states, and any transition leading to an incompatible state will be removed.\n\n**2.3. Reachability Analysis on the Pruned Automaton**\nWe perform a reachability analysis starting from the initial state $(s_{0}, t_{0})$ while respecting the incompatibility constraints. The set of reachable states, $\\mathcal{R}$, is built iteratively.\n\n- Initial reachable set: $\\mathcal{R} = \\{ (s_{0}, t_{0}) \\}$.\n\n- **Explore from $(s_{0}, t_{0})$:**\n  - **Synchronization on `req`**: $\\mathcal{A}$ has an output transition $(s_{0}, \\text{req}, s_{1})$ and $\\mathcal{B}$ has an input transition $(t_{0}, \\text{req}, t_{1})$. They synchronize, resulting in an internal transition in the composite: $((s_{0}, t_{0}), \\text{req}_{\\text{sync}}, (s_{1}, t_{1}))$. The destination state $(s_{1}, t_{1})$ is compatible. We add $(s_{1}, t_{1})$ to the reachable set. $\\mathcal{R} = \\{ (s_{0}, t_{0}), (s_{1}, t_{1}) \\}$.\n  - **Interleaving of `ping`**: $\\mathcal{A}$ has an unshared output transition $(s_{0}, \\text{ping}, s_{0})$. This gives a composite transition $((s_{0}, t_{0}), \\text{ping}, (s_{0}, t_{0}))$. The destination is in $\\mathcal{R}$.\n  - **Interleaving of `alarm`**: $\\mathcal{B}$ has an unshared output transition $(t_{0}, \\text{alarm}, t_{0})$. This gives a composite transition $((s_{0}, t_{0}), \\text{alarm}, (s_{0}, t_{0}))$. The destination is in $\\mathcal{R}$.\n\n- **Explore from $(s_{1}, t_{1})$:**\n  - **Synchronization on `resp`**: $\\mathcal{B}$ has an output transition $(t_{1}, \\text{resp}, t_{0})$ and $\\mathcal{A}$ has an input transition $(s_{1}, \\text{resp}, s_{0})$. They synchronize, resulting in an internal transition: $((s_{1}, t_{1}), \\text{resp}_{\\text{sync}}, (s_{0}, t_{0}))$. The destination state $(s_{0}, t_{0})$ is already in $\\mathcal{R}$.\n  - **Interleaving of `work`**: $\\mathcal{A}$ has an internal transition $(s_{1}, \\text{work}, s_{2})$. This would create a composite transition to state $(s_{2}, t_{1})$. However, $(s_{2}, t_{1})$ is an incompatible state. Therefore, this transition is removed from the composite automaton.\n  - **Interleaving of `calc`**: $\\mathcal{B}$ has an internal transition $(t_{1}, \\text{calc}, t_{1})$. This leads to a composite transition $((s_{1}, t_{1}), \\text{calc}, (s_{1}, t_{1}))$. The destination is in $\\mathcal{R}$.\n\nNo new states are added to $\\mathcal{R}$. The exploration is complete. The set of reachable states in the final composite automaton is $\\mathcal{R} = \\{ (s_{0}, t_{0}), (s_{1}, t_{1}) \\}$.\n\n### Step 3: Identification of Deadlock States\n\nA deadlock state is a reachable state with no enabled outgoing transitions (internal, synchronized, or unshared output). We examine each state in $\\mathcal{R}$.\n\n- **State $(s_{0}, t_{0})$:**\n  This state has the following enabled outgoing transitions in the final composite automaton:\n  1. $((s_{0}, t_{0}), \\text{req}_{\\text{sync}}, (s_{1}, t_{1}))$ (synchronized)\n  2. $((s_{0}, t_{0}), \\text{ping}, (s_{0}, t_{0}))$ (unshared output)\n  3. $((s_{0}, t_{0}), \\text{alarm}, (s_{0}, t_{0}))$ (unshared output)\n  Since it has outgoing transitions, $(s_{0}, t_{0})$ is not a deadlock state.\n\n- **State $(s_{1}, t_{1})$:**\n  This state has the following enabled outgoing transitions:\n  1. $((s_{1}, t_{1}), \\text{resp}_{\\text{sync}}, (s_{0}, t_{0}))$ (synchronized)\n  2. $((s_{1}, t_{1}), \\text{calc}, (s_{1}, t_{1}))$ (internal)\n  Since it has outgoing transitions, $(s_{1}, t_{1})$ is not a deadlock state.\n\nNeither of the two reachable states is a deadlock state. Therefore, the number of reachable deadlock states is $0$.",
            "answer": "$$\\boxed{0}$$"
        },
        {
            "introduction": "Implementing a federated digital twin often relies on co-simulation, where individual models exchange data at discrete time steps. This can create algebraic loops that challenge numerical stability. This exercise explores the convergence of a co-simulation scheme, guiding you to derive the maximum allowable step-size to ensure the simulation remains stable and produces reliable results. ",
            "id": "4209299",
            "problem": "Consider two coupled Functional Mock-up Units (FMUs), where Functional Mock-up Unit (FMU) denotes a standardized black-box model with well-defined input-output behavior. Each FMU is a single-input single-output linear time-invariant system with direct feedthrough and continuous-time state dynamics. For FMU $i \\in \\{1,2\\}$, the continuous-time dynamics and output are given by\n$$\n\\dot{x}_{i}(t) = a_{i}\\,x_{i}(t) + b_{i}\\,u_{i}(t), \\quad y_{i}(t) = c_{i}\\,x_{i}(t) + d_{i}\\,u_{i}(t),\n$$\nwhere $a_{i}, b_{i}, c_{i}, d_{i}$ are nonnegative real scalars, $x_{i}(t)$ is the state, $u_{i}(t)$ is the input, and $y_{i}(t)$ is the output. The FMUs are coupled in a co-simulation setting with macro-step size $h  0$ using Gauss–Seidel sequencing at each macro-step $t_{n} \\mapsto t_{n+1} = t_{n} + h$ under the algebraic coupling\n$$\nu_{1}(t_{n+1}) = y_{2}(t_{n+1}), \\quad u_{2}(t_{n+1}) = y_{1}(t_{n+1}).\n$$\nAssume the one-step numerical integration within each FMU uses the forward Euler method and that the direct feedthrough terms are such that $d_{1} d_{2}  1$.\n\nStarting from the forward Euler discretization principle and the definitions of Lipschitz continuity and the Banach fixed-point theorem (contraction mapping principle), perform the following tasks:\n\n1. Derive the Gauss–Seidel fixed-point iteration that updates the coupling variable $y_{2}(t_{n+1})$ using the most recent value of $y_{1}(t_{n+1})$ and the previous iterate of $y_{2}(t_{n+1})$ at macro-step $t_{n+1}$. Express this iteration explicitly as an affine map in $y_{2}(t_{n+1})$.\n\n2. Using the Lipschitz constants that follow from the forward Euler discretization and the given system structure, derive a sufficient condition for convergence of the Gauss–Seidel iteration. Reduce this condition to a single inequality of the form\n$$\n\\left(d_{1} + h\\,c_{1} b_{1}\\right)\\left(d_{2} + h\\,c_{2} b_{2}\\right)  1.\n$$\n\n3. Determine the exact closed-form expression for the largest admissible macro-step size $h_{\\max}$ that guarantees convergence of the Gauss–Seidel co-simulation fixed-point iteration, expressed only in terms of $a_{i}, b_{i}, c_{i}, d_{i}$ for $i \\in \\{1,2\\}$ and satisfying the condition derived in Task 2. Provide $h_{\\max}$ as a single analytic expression.\n\nNo numerical rounding is required, and no units should be included in your final expression.",
            "solution": "The problem requires an analysis of a Gauss-Seidel co-simulation scheme for two coupled linear time-invariant (LTI) systems, represented as Functional Mock-up Units (FMUs). The analysis proceeds in three steps: derivation of the fixed-point iteration, establishment of a convergence condition, and determination of the maximum allowable step size $h_{\\max}$.\n\nThe continuous-time dynamics for each FMU $i \\in \\{1,2\\}$ are given by:\n$$\n\\dot{x}_{i}(t) = a_{i}\\,x_{i}(t) + b_{i}\\,u_{i}(t)\n$$\n$$\ny_{i}(t) = c_{i}\\,x_{i}(t) + d_{i}\\,u_{i}(t)\n$$\nAll parameters $a_{i}, b_{i}, c_{i}, d_{i}$ are nonnegative real scalars. The coupling at each macro-step $t_{n+1} = t_{n}+h$ is algebraic:\n$$\nu_{1}(t_{n+1}) = y_{2}(t_{n+1}), \\quad u_{2}(t_{n+1}) = y_{1}(t_{n+1})\n$$\nThis defines a system of algebraic equations for the coupling variables at $t_{n+1}$ which must be solved iteratively. The problem specifies a Gauss-Seidel iterative scheme.\n\nTo derive a convergence condition that depends on the step size $h$, we must first establish how the output $y_{i}(t_{n+1})$ depends on the input $u_{i}(t_{n+1})$. This dependency is created by the numerical integration scheme. The problem states that a forward Euler method is used. In the context of co-simulation with implicit coupling, this is standardly interpreted as a semi-implicit or explicit-integrator-implicit-coupling scheme. The state derivative is evaluated at $t_n$, but it is a function of the input at $t_{n+1}$ during the algebraic loop. A more precise discretization of the state equation is thus:\n$$\n\\frac{x_{i}(t_{n+1}) - x_{i}(t_{n})}{h} = a_{i}\\,x_{i}(t_{n}) + b_{i}\\,u_{i}(t_{n+1})\n$$\nThis is a forward-Euler-like update where the state-dependent part of the derivative is evaluated at $t_n$, while the input is taken at $t_{n+1}$ to form the implicit algebraic constraint. Rearranging for $x_{i}(t_{n+1})$:\n$$\nx_{i}(t_{n+1}) = x_{i}(t_{n}) + h \\left( a_{i}\\,x_{i}(t_{n}) + b_{i}\\,u_{i}(t_{n+1}) \\right) = (1+ha_{i})x_{i}(t_{n}) + h b_{i} u_{i}(t_{n+1})\n$$\nNow, we substitute this into the output equation for $y_{i}(t_{n+1})$:\n$$\ny_{i}(t_{n+1}) = c_{i}x_{i}(t_{n+1}) + d_{i}u_{i}(t_{n+1}) = c_{i}\\left( (1+ha_{i})x_{i}(t_{n}) + h b_{i} u_{i}(t_{n+1}) \\right) + d_{i}u_{i}(t_{n+1})\n$$\nGrouping terms dependent on $u_{i}(t_{n+1})$ and $x_i(t_n)$:\n$$\ny_{i}(t_{n+1}) = c_{i}(1+ha_{i})x_{i}(t_{n}) + (d_{i} + h c_{i} b_{i})u_{i}(t_{n+1})\n$$\nThis equation defines an affine map from the input $u_{i}(t_{n+1})$ to the output $y_{i}(t_{n+1})$. Let's define the constant part, which depends only on the state at the previous step $t_n$, as $z_{i,n} = c_{i}(1+ha_{i})x_{i}(t_{n})$, and the gain as $L_{i}(h) = d_{i} + h c_{i} b_{i}$. The input-output relationship at step $t_{n+1}$ is:\n$$\ny_{i}(t_{n+1}) = z_{i,n} + L_{i}(h)u_{i}(t_{n+1})\n$$\nNow we can analyze the iterative solution of the coupled system. For brevity, let $y_i = y_i(t_{n+1})$ and $u_i = u_i(t_{n+1})$. The system to be solved is:\n$$\ny_{1} = z_{1,n} + L_{1}(h)u_{1}\n$$\n$$\ny_{2} = z_{2,n} + L_{2}(h)u_{2}\n$$\nwith coupling constraints $u_{1} = y_{2}$ and $u_{2} = y_{1}$. Substituting these constraints yields:\n$$\ny_{1} = z_{1,n} + L_{1}(h)y_{2}\n$$\n$$\ny_{2} = z_{2,n} + L_{2}(h)y_{1}\n$$\n\n**1. Derivation of the Gauss–Seidel Fixed-Point Iteration**\n\nThe problem specifies a Gauss-Seidel sequencing that updates $y_{2}(t_{n+1})$ using the most recent value of $y_{1}(t_{n+1})$. This implies an evaluation order of FMU $1 \\to$ FMU $2$ within each iteration. Let $y_i^{(k)}$ denote the $k$-th iterate for $y_i$. The iterative scheme is:\n$$\ny_{1}^{(k+1)} = z_{1,n} + L_{1}(h)y_{2}^{(k)}\n$$\n$$\ny_{2}^{(k+1)} = z_{2,n} + L_{2}(h)y_{1}^{(k+1)}\n$$\nTo find the iteration for $y_2$ as an affine map of its previous value, we substitute the expression for $y_{1}^{(k+1)}$ into the second equation:\n$$\ny_{2}^{(k+1)} = z_{2,n} + L_{2}(h) \\left( z_{1,n} + L_{1}(h)y_{2}^{(k)} \\right)\n$$\n$$\ny_{2}^{(k+1)} = (z_{2,n} + L_{2}(h)z_{1,n}) + (L_{1}(h)L_{2}(h)) y_{2}^{(k)}\n$$\nThis is the required affine map. Let's write it explicitly in terms of the original parameters. Let $y_{2,n+1}^{(k)}$ be the $k$-th iterate for $y_{2}(t_{n+1})$.\n$$\ny_{2,n+1}^{(k+1)} = \\left( c_{2}(1+ha_{2})x_{2}(t_{n}) + (d_{2} + h c_{2} b_{2})c_{1}(1+ha_{1})x_{1}(t_{n}) \\right) + \\left( (d_{1} + h c_{1} b_{1})(d_{2} + h c_{2} b_{2}) \\right) y_{2,n+1}^{(k)}\n$$\nThis is an iteration of the form $y^{(k+1)} = C + K y^{(k)}$, which is an affine map.\n\n**2. Derivation of the Convergence Condition**\n\nAccording to the Banach fixed-point theorem (contraction mapping principle), the iteration $y_2^{(k+1)} = F(y_2^{(k)})$ converges to a unique fixed point for any initial guess if the function $F$ is a contraction mapping. For an affine map $F(y) = C + Ky$, this condition is equivalent to its Lipschitz constant being less than $1$. The Lipschitz constant is $|K|$.\nIn our case, the slope of the affine map is $K = L_{1}(h)L_{2}(h)$. The convergence condition is therefore:\n$$\n|L_{1}(h)L_{2}(h)|  1\n$$\nLet's substitute the expressions for $L_1(h)$ and $L_2(h)$:\n$$\n|(d_{1} + h c_{1} b_{1})(d_{2} + h c_{2} b_{2})|  1\n$$\nThe problem states that $a_i, b_i, c_i, d_i$ are all nonnegative real scalars, and $h  0$. Consequently, the terms $c_1 b_1 \\ge 0$ and $c_2 b_2 \\ge 0$. This implies that $d_{1} + h c_{1} b_{1} \\ge 0$ and $d_{2} + h c_{2} b_{2} \\ge 0$. The product of these two terms is therefore nonnegative, and the absolute value can be removed. The sufficient condition for convergence becomes:\n$$\n(d_{1} + h c_{1} b_{1})(d_{2} + h c_{2} b_{2})  1\n$$\nThis matches the inequality given in Task 2.\n\n**3. Determination of the Maximum Step Size $h_{\\max}$**\n\nWe must find the largest $h  0$ that satisfies the convergence condition. Expanding the inequality:\n$$\nd_{1}d_{2} + h d_1 c_2 b_2 + h d_2 c_1 b_1 + h^2 (c_1 b_1)(c_2 b_2)  1\n$$\nThis is a quadratic inequality in $h$. Let's rearrange it into the standard form $Ph^2 + Qh + R  0$:\n$$\n(c_{1}b_{1}c_{2}b_{2})h^2 + (d_{1}c_{2}b_{2} + d_{2}c_{1}b_{1})h + (d_{1}d_{2} - 1)  0\n$$\nLet us identify the coefficients:\n$P = c_{1}b_{1}c_{2}b_{2}$\n$Q = d_{1}c_{2}b_{2} + d_{2}c_{1}b_{1}$\n$R = d_{1}d_{2} - 1$\n\nFrom the problem statement, all base parameters are nonnegative, so $P \\ge 0$ and $Q \\ge 0$. The given condition $d_{1}d_{2}  1$ implies $R  0$.\nThe quadratic function $f(h) = Ph^2 + Qh + R$ represents a parabola opening upwards (or a line if $P=0$). At $h=0$, $f(0) = R  0$. The inequality is satisfied for small positive $h$. To find the upper bound for $h$, we need to find the positive root of the equation $Ph^2 + Qh + R = 0$.\nThe roots are given by $h = \\frac{-Q \\pm \\sqrt{Q^2 - 4PR}}{2P}$. Since $P \\ge 0$, $Q \\ge 0$, and $R  0$, the discriminant $\\Delta = Q^2 - 4PR$ is always nonnegative, guaranteeing real roots. The root with the minus sign, $\\frac{-Q - \\sqrt{\\Delta}}{2P}$, is non-positive. The positive root, which defines $h_{\\max}$, is $h_{\\max} = \\frac{-Q + \\sqrt{Q^2 - 4PR}}{2P}$.\n\nA more numerically stable and general form for this root, which also gracefully handles the case $P=0$, is obtained by multiplying the numerator and denominator by the conjugate of the numerator:\n$$\nh_{\\max} = \\frac{-Q + \\sqrt{Q^2 - 4PR}}{2P} \\times \\frac{-Q - \\sqrt{Q^2 - 4PR}}{-Q - \\sqrt{Q^2 - 4PR}} = \\frac{Q^2 - (Q^2 - 4PR)}{2P(-Q - \\sqrt{\\Delta})} = \\frac{4PR}{2P(-Q - \\sqrt{\\Delta})} = \\frac{2R}{-Q - \\sqrt{\\Delta}}\n$$\nThis form avoids catastrophic cancellation when $P$ is small and is well-behaved as $P \\to 0$. Substituting $P, Q, R$ and $\\Delta = Q^2 - 4PR$:\n$$\nh_{\\max} = \\frac{2(d_{1}d_{2} - 1)}{-(d_{1}c_{2}b_{2} + d_{2}c_{1}b_{1}) - \\sqrt{(d_{1}c_{2}b_{2} + d_{2}c_{1}b_{1})^2 - 4(c_{1}b_{1}c_{2}b_{2})(d_{1}d_{2} - 1)}}\n$$\nSince $d_1 d_2 - 1  0$, we can flip the signs of both numerator and denominator:\n$$\nh_{\\max} = \\frac{2(1 - d_{1}d_{2})}{d_{1}c_{2}b_{2} + d_{2}c_{1}b_{1} + \\sqrt{(d_{1}c_{2}b_{2} + d_{2}c_{1}b_{1})^2 + 4c_{1}b_{1}c_{2}b_{2}(1 - d_{1}d_{2})}}\n$$\nThe term under the square root can be expanded and simplified:\n$(d_{1}c_{2}b_{2} + d_{2}c_{1}b_{1})^2 + 4c_{1}b_{1}c_{2}b_{2}(1 - d_{1}d_{2}) = (d_{1}c_{2}b_{2})^2 + 2d_1d_2c_1b_1c_2b_2 + (d_{2}c_{1}b_{1})^2 + 4c_1b_1c_2b_2 - 4d_1d_2c_1b_1c_2b_2$\n$= (d_{1}c_{2}b_{2})^2 - 2d_1d_2c_1b_1c_2b_2 + (d_{2}c_{1}b_{1})^2 + 4c_1b_1c_2b_2 = (d_{1}c_{2}b_{2} - d_{2}c_{1}b_{1})^2 + 4c_{1}b_{1}c_{2}b_{2}$\nSo the final expression for $h_{\\max}$ is:\n$$\nh_{\\max} = \\frac{2(1-d_1d_2)}{d_1c_2b_2 + d_2c_1b_1 + \\sqrt{(d_1c_2b_2 - d_2c_1b_1)^2 + 4c_1b_1c_2b_2}}\n$$\nThis single analytic expression is valid for all nonnegative parameter values, correctly yielding a finite positive value if $c_1b_1c_2b_2  0$, a different finite positive value if $c_1b_1c_2b_2 = 0$ but $d_1c_2b_2+d_2c_1b_1  0$, and $h_{\\max} \\to \\infty$ if both the quadratic and linear terms vanish, as all terms in the denominator are nonnegative and can only be zero simultaneously. The parameters $a_1$ and $a_2$ do not influence the convergence condition.",
            "answer": "$$\n\\boxed{\\frac{2(1-d_{1}d_{2})}{d_{1}c_{2}b_{2} + d_{2}c_{1}b_{1} + \\sqrt{(d_{1}c_{2}b_{2} - d_{2}c_{1}b_{1})^{2} + 4c_{1}b_{1}c_{2}b_{2}}}}\n$$"
        }
    ]
}