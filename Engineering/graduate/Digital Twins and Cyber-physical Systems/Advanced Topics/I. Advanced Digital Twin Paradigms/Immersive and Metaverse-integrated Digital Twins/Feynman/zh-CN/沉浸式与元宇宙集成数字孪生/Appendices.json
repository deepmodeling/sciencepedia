{
    "hands_on_practices": [
        {
            "introduction": "沉浸式数字孪生通常涉及庞大的三维模型，为了确保实时性能，尤其是在带宽受限的网络或资源有限的设备上，数据压缩至关重要。一种常见的技术是降低顶点坐标等数值数据的精度。这项练习旨在量化将顶点坐标从32位浮点数转换为16位半精度浮点数时引入的几何误差，并将其与可感知的视觉伪影（屏幕空间像素误差）联系起来，从而展示在图形学和虚拟现实开发中进行性能与保真度权衡分析的基本技能。",
            "id": "4227321",
            "problem": "一个大型工业园区的沉浸式、元宇宙集成数字孪生由一个三角网格表示，其世界空间中的顶点坐标当前以$32$位二进制浮点数格式存储。为了减少内存和带宽消耗，系统建议将这些坐标转换为$16$位半精度数，遵循电气和电子工程师协会 (IEEE) $754$半精度二进制交换格式。该园区可以被包围在一个以原点为中心、边长为$2S$、半边长$S=1200$米的轴对齐立方体内。用户使用一个针孔相机观察场景，该相机具有$90$度的水平视场角 (FOV)，屏幕宽度为$W = 3840$像素。考虑最坏情况下的观察视角和方向，即与观察方向正交的微小物 体空间位移会产生最大的屏幕空间运动。\n\n从 IEEE $754$ 半精度格式的形式化定义和针孔相机模型出发，推导在从$32$位浮点数转换为$16$位半精度浮点数时，由量化引入的最坏情况物体空间顶点位移幅值的界限。然后，利用透视投影和一阶小位移近似，确定最小相机距离$D_{\\mathrm{min}}$，使得由这种最坏情况量化引起的屏幕空间误差不超过$0.25$像素。仅报告$D_{\\mathrm{min}}$的值，并以米为单位表示。将您的答案四舍五入到三位有效数字。",
            "solution": "用户希望我解决这个问题。我已经验证过并确认这是一个有效的问题。\n此问题需要进行多步分析，结合了数值表示（IEEE $754$ 浮点数）、几何学和光学（针孔相机模型）的原理。目标是找到最小相机距离$D_{\\mathrm{min}}$，在此距离下，由坐标量化引起的视觉伪影被限制在指定的子像素阈值内。\n\n首先，我们确定最坏情况下的物体空间量化误差。问题指出，顶点坐标从$32$位单精度浮点数转换为$16$位半精度浮点数。IEEE $754$半精度格式 (binary$16$) 由$1$个符号位、$5$个指数位（偏置为$15$）和$10$个尾数位组成。一个规格化数的值为 $v = (-1)^{\\text{sign}} \\times 2^{\\text{exponent}-15} \\times (1.\\text{mantissa})_2$。\n\n该园区被包围在一个半边长为$S=1200$米的立方体内。这意味着任何顶点坐标分量（例如，$x, y, z$）的最大绝对值为$1200$。浮点数的量化误差取决于其量级。最坏情况的误差发生在量级最大的数上。因此，我们必须分析$1200$附近数值的表示。\n\n我们需要找到包含$1200$的2的幂区间。我们有$2^{10} = 1024$和$2^{11} = 2048$。因此，任何量级接近$1200$的坐标分量都位于区间$[2^{10}, 2^{11})$内。对于此区间内的任何数$x$，其指数值为$10$。\n\n浮点数的精度由尾数决定。末位单位 (ulp) 表示连续可表示数之间的间隔，其计算公式为 $\\text{ulp} = 2^{\\text{exponent}} \\times 2^{-\\text{number of mantissa bits}}$。对于半精度格式，这为：\n$$ \\text{ulp} = 2^{10} \\times 2^{-10} = 1 $$\n当一个$32$位浮点数转换为$16$位浮点数时，通常会四舍五入到最近的可表示$16$位值。单个坐标分量的最大舍入误差是 ulp 的一半。设此误差为$\\Delta_c$。\n$$ \\Delta_{c, \\text{max}} = \\frac{1}{2} \\text{ulp} = \\frac{1}{2} \\times 1 = 0.5 \\text{ 米} $$\n量化在三个空间坐标$(x, y, z)$的每一个中都引入了误差。当所有三个分量的误差都达到最大时，发生最坏情况的顶点位移。产生的物体空间位移向量为$\\vec{\\delta}_o = (\\Delta_x, \\Delta_y, \\Delta_z)$，其中每个分量的最大量值为$0.5$。这个最坏情况位移向量的量值为：\n$$ \\delta_o = |\\vec{\\delta}_o|_{\\text{max}} = \\sqrt{(\\Delta_{c, \\text{max}})^2 + (\\Delta_{c, \\text{max}})^2 + (\\Delta_{c, \\text{max}})^2} = \\sqrt{3 \\times (0.5)^2} = 0.5 \\sqrt{3} \\text{ 米} $$\n\n接下来，我们将此物体空间位移$\\delta_o$与感知到的屏幕空间误差$\\delta_s$联系起来。我们使用针孔相机模型。设相机距离一个物体顶点为$D$。设相机的观察轴为$Z$轴。相机空间中的一个点$(X, Y, Z)$被投影到像平面上。问题指定了$90$度的水平视场角 (FOV) 和$W = 3840$像素的屏幕宽度。\n\n对于针孔相机，一个位于水平物体空间坐标$X_o$和距离相机$D$（深度）处的点，在屏幕上的水平投影位置$x_p$（以像素为单位）由下式给出：\n$$ x_p = \\left( \\frac{W}{2} \\right) \\frac{X_o}{D \\tan(\\text{FOV}/2)} $$\n给定$\\text{FOV} = 90^\\circ$，半视场角为$45^\\circ$，且$\\tan(45^\\circ) = 1$。投影方程简化为：\n$$ x_p = \\frac{W X_o}{2 D} $$\n问题要求对屏幕空间误差进行一阶近似。一个微小的物体空间位移$\\Delta X_o$导致一个屏幕空间位移$\\Delta x_p$：\n$$ \\Delta x_p \\approx \\frac{\\partial x_p}{\\partial X_o} \\Delta X_o = \\frac{W}{2 D} \\Delta X_o $$\n问题指定了“最坏情况下的观察视角和方向”。这发生在物体空间位移向量$\\vec{\\delta}_o$完全垂直于相机观察轴时。在这种配置下，位移的全部量值$\\delta_o$都贡献于投影到屏幕上的运动。任何平行于观察轴的位移分量只会导致尺寸的二阶变化（透视失真），对于小位移来说这是可以忽略的。因此，我们将有效物体空间位移设为$\\delta_o$。屏幕空间误差的量值$\\delta_s$为：\n$$ \\delta_s = \\frac{W \\delta_o}{2 D} $$\n我们得到的约束条件是，这个屏幕空间误差不得超过$0.25$像素：\n$$ \\delta_s \\le 0.25 $$\n代入$\\delta_s$的表达式：\n$$ \\frac{W \\delta_o}{2 D} \\le 0.25 $$\n我们需要找到满足此条件的最小相机距离$D_{\\mathrm{min}}$。我们解关于$D$的不等式：\n$$ D \\ge \\frac{W \\delta_o}{2 \\times 0.25} = \\frac{W \\delta_o}{0.5} = 2 W \\delta_o $$\n因此，最小距离为：\n$$ D_{\\mathrm{min}} = 2 W \\delta_o $$\n现在，我们代入已知值：$W=3840$和$\\delta_o = 0.5\\sqrt{3}$米。\n$$ D_{\\mathrm{min}} = 2 \\times 3840 \\times (0.5 \\sqrt{3}) = 3840 \\sqrt{3} $$\n为了得到最终的数值答案，我们计算这个值并按要求四舍五入到三位有效数字。\n$$ D_{\\mathrm{min}} = 3840 \\times \\sqrt{3} \\approx 3840 \\times 1.73205 \\approx 6651.072 $$\n四舍五入到三位有效数字，我们得到$6650$米。这可以用科学记数法表示，以使有效数字的位数明确无误。\n$$ D_{\\mathrm{min}} \\approx 6.65 \\times 10^3 \\text{ 米} $$",
            "answer": "$$\n\\boxed{6.65 \\times 10^{3}}\n$$"
        },
        {
            "introduction": "一个有效的数字孪生必须实时准确地反映其物理对应物的状态，但这会受到来自传感器和系统动态的噪声和不确定性的挑战。卡尔曼滤波器（Kalman Filter）是解决此类问题的基石算法，它通过递归地结合基于动态模型的预测和带噪声的测量来提供系统状态的最优估计。这项练习深入探讨了估计理论的核心，通过推导协方差的传播和稳态解，让您深刻理解滤波器如何量化并最小化不确定性，这是创建可靠、精确数字孪生的关键能力。",
            "id": "4227327",
            "problem": "一个人机协作机械臂的元宇宙集成数字孪生，实时向一位扩展现实（XR）用户渲染一个触觉交互。虚拟环境使用惯性传感和视觉跟踪，沿一个笛卡尔轴更新孪生体的末端执行器偏移量。标量潜状态 $x_k$ 表示在离散时间索引 $k$ 时，物理末端执行器与其渲染位置之间的偏移量。该信息物理流程被建模为一个具有离散时间动态和传感的线性高斯系统：\n$$\nx_{k+1} = f\\,x_k + w_k,\\quad z_k = x_k + v_k,\n$$\n其中 $w_k \\sim \\mathcal{N}(0,q)$ 是由执行变异性和渲染延迟引起的过程噪声，而 $v_k \\sim \\mathcal{N}(0,r)$ 是由沉浸式环境中的视觉跟踪引起的测量噪声。假设 $0  f  1$, $q  0$ 和 $r  0$ 是常数，并且 $x_k$ 使用通常称为卡尔曼滤波器 (KF) 的线性最小方差估计器进行估计，并以后验协方差 $P_0^{+}  0$ 进行初始化。\n\n第一部分（协方差演化）。从线性时不变动态的协方差传播的基本定义出发，仅使用状态转移系数 $f$ 和过程噪声方差 $q$，推导经过 $k$ 步后的预测协方差 $P_k^{-}$ 的闭式表达式。您可以假设在这 $k$ 步期间没有并入任何测量值。\n\n第二部分（测量噪声下的稳态不确定性）。使用与线性高斯估计相同的基础，推导并求解卡尔曼滤波器（KF）的稳态后验协方差 $P_{\\infty}^{+}$ 关于 $f$、$q$ 和 $r$ 的不动点条件。将 $P_{\\infty}^{+}$ 明确地表示为这些参数的单一闭式解析表达式。您的最终答案必须是该单一表达式。不需要进行数值评估，最终表达式也无需报告单位。",
            "solution": "用户提供了一个分为两部分的问题，涉及通过卡尔曼滤波器估计的标量线性高斯系统中的协方差演化。该问题已经过验证，被认为是具有科学依据、适定且客观的。\n\n该系统由以下离散时间方程定义：\n状态动态：$x_{k+1} = f x_k + w_k$，过程噪声为 $w_k \\sim \\mathcal{N}(0, q)$。\n测量模型：$z_k = x_k + v_k$，测量噪声为 $v_k \\sim \\mathcal{N}(0, r)$。\n参数是满足 $0  f  1$、$q  0$ 和 $r  0$ 的常数。\n\n对于一个标量系统，卡尔曼滤波器的协方差方程是一般矩阵形式的特例。状态转移矩阵为 $F=f$，观测矩阵为 $H=1$，过程噪声协方差为 $Q=q$，测量噪声协方差为 $R=r$。状态协方差 $P$ 是一个标量。\n\n第一部分：协方差演化（仅预测）\n\n这部分要求在假设没有并入任何测量值的情况下，推导经过 $k$ 步后的预测协方差 $P_k^{-}$。协方差预测的基本方程是：\n$$ P_{k+1}^{-} = F P_k^{+} F^T + Q $$\n在我们的标量情况下，这变为：\n$$ P_{k+1}^{-} = f P_k^{+} f + q = f^2 P_k^{+} + q $$\n其中 $P_k^{+}$ 是在步骤 $k$ 时的后验（测量更新后）协方差，而 $P_{k+1}^{-}$ 是在步骤 $k+1$ 时的先验（预测）协方差。\n\n“没有并入任何测量值”的条件意味着滤波器的测量更新步骤在所有步骤中都被省略了。在这种情况下，步骤 $k$ 的后验协方差就等于步骤 $k$ 的先验协方差：\n$$ P_k^{+} = P_k^{-} $$\n将此代入预测方程，得到先验协方差的递推关系：\n$$ P_{k+1}^{-} = f^2 P_k^{-} + q $$\n为了解这个递推关系，我们必须建立一个初始条件。问题要求的是“经过 $k$ 步后”的协方差，这意味着要从一个起点开始追踪不确定性的累积。一个标准的解释是假设初始状态是完全已知的，即初始协方差为零，这样可以使结果独立于任意的初始协方差（并如题目要求，仅依赖于 $f$ 和 $q$）。我们设定 $P_0^{-} = 0$。\n\n我们现在可以展开这个递推关系：\n对于 $k=1$：$P_1^{-} = f^2 P_0^{-} + q = f^2(0) + q = q$。\n对于 $k=2$：$P_2^{-} = f^2 P_1^{-} + q = f^2(q) + q$。\n对于 $k=3$：$P_3^{-} = f^2 P_2^{-} + q = f^2(f^2 q + q) + q = f^4 q + f^2 q + q$。\n\n通过归纳法， $P_k^{-}$ 的表达式是一个和式：\n$$ P_k^{-} = q + f^2 q + f^4 q + \\dots + f^{2(k-1)} q = q \\sum_{i=0}^{k-1} (f^2)^i $$\n这是一个首项为 $a=q$，公比为 $r' = f^2$，共有 $k$ 项的有限几何级数。有限几何级数的和为 $S_n = a \\frac{1 - (r')^n}{1 - r'}$。应用此公式，我们得到 $P_k^{-}$ 的闭式表达式：\n$$ P_k^{-} = q \\frac{1 - (f^2)^k}{1 - f^2} = q \\frac{1 - f^{2k}}{1 - f^2} $$\n这个表达式如要求的那样，仅依赖于 $f$ 和 $q$。当 $k \\to \\infty$ 时，由于 $0  f  1$，我们有 $f^{2k} \\to 0$，协方差接近平稳过程方差 $P_{\\infty}^{-} = \\frac{q}{1-f^2}$。\n\n第二部分：稳态后验协方差\n\n这部分要求为完整的卡尔曼滤波器推导稳态后验协方差 $P_{\\infty}^{+}$。我们使用全套协方差方程。\n\n1.  **预测：** 步骤 $k$ 的先验协方差由步骤 $k-1$ 的后验协方差计算得出：\n    $$ P_k^{-} = f^2 P_{k-1}^{+} + q $$\n\n2.  **卡尔曼增益：** 增益 $K_k$ 决定了测量残差在多大程度上更新状态估计：\n    $$ K_k = \\frac{P_k^{-} H^T}{H P_k^{-} H^T + R} = \\frac{P_k^{-}(1)}{(1)P_k^{-}(1) + r} = \\frac{P_k^{-}}{P_k^{-} + r} $$\n\n3.  **更新：** 步骤 $k$ 的后验协方差通过校正先验协方差计算得出：\n    $$ P_k^{+} = (I - K_k H) P_k^{-} = (1 - K_k) P_k^{-} $$\n    代入 $K_k$ 的表达式：\n    $$ P_k^{+} = \\left(1 - \\frac{P_k^{-}}{P_k^{-} + r}\\right) P_k^{-} = \\left(\\frac{P_k^{-} + r - P_k^{-}}{P_k^{-} + r}\\right) P_k^{-} = \\frac{r P_k^{-}}{P_k^{-} + r} $$\n\n现在，我们结合这些方程，为后验协方差 $P_k^{+}$ 形成一个单一的递推关系。将预测方程代入更新方程：\n$$ P_k^{+} = \\frac{r (f^2 P_{k-1}^{+} + q)}{ (f^2 P_{k-1}^{+} + q) + r } $$\n这是标量系统的离散时间黎卡提方程（Riccati equation）。\n\n在稳态下，协方差收敛到一个常数值，因此 $\\lim_{k \\to \\infty} P_k^{+} = P_{\\infty}^{+}$。在这个不动点，我们有 $P_k^{+} = P_{k-1}^{+} = P_{\\infty}^{+}$。将 $P_{\\infty}^{+}$ 代入黎卡提方程，得到代数黎卡提方程 (ARE)：\n$$ P_{\\infty}^{+} = \\frac{r (f^2 P_{\\infty}^{+} + q)}{f^2 P_{\\infty}^{+} + q + r} $$\n为了求解 $P_{\\infty}^{+}$，我们将其重新整理为一个二次方程。为简化符号，令 $P = P_{\\infty}^{+}$：\n$$ P (f^2 P + q + r) = r (f^2 P + q) $$\n$$ f^2 P^2 + (q+r)P = f^2 r P + qr $$\n$$ f^2 P^2 + (q+r - f^2 r)P - qr = 0 $$\n$$ f^2 P^2 + (q + r(1-f^2))P - qr = 0 $$\n这是一个形如 $aP^2+bP+c=0$ 的二次方程，其系数为：\n$a = f^2$\n$b = q + r(1-f^2)$\n$c = -qr$\n\n我们使用二次公式求根：\n$$ P = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a} $$\n$$ P = \\frac{-(q + r(1-f^2)) \\pm \\sqrt{(q + r(1-f^2))^2 - 4(f^2)(-qr)}}{2f^2} $$\n$$ P = \\frac{-(q + r(1-f^2)) \\pm \\sqrt{(q + r(1-f^2))^2 + 4f^2qr}}{2f^2} $$\n由于协方差必须是一个非负量（$P \\ge 0$），我们必须选择物理上有意义的根。参数 $f, q, r$ 均为正数，且 $0  f  1$ 意味着 $1-f^2  0$。因此，系数 $b = q + r(1-f^2)$ 是严格为正的。平方根下的项 $(q + r(1-f^2))^2 + 4f^2qr$ 也是严格为正的。\n项 $\\sqrt{b^2 + 4f^2qr}$ 严格大于 $\\sqrt{b^2} = |b| = b$。\n因此，带有减号的根 $\\frac{-b - \\sqrt{b^2 + 4f^2qr}}{2a}$ 将会是负数，因为分子中的两项都是负的，而分母是正的。\n唯一物理上有效的解是正根：\n$$ P_{\\infty}^{+} = \\frac{-(q + r(1-f^2)) + \\sqrt{(q + r(1-f^2))^2 + 4f^2qr}}{2f^2} $$\n这就是以 $f$、$q$ 和 $r$ 表示的卡尔曼滤波器稳态后验协方差的闭式解析表达式。",
            "answer": "$$ \\boxed{ \\frac{-(q + r(1-f^{2})) + \\sqrt{(q + r(1-f^{2}))^{2} + 4f^{2}qr}}{2f^{2}} } $$"
        },
        {
            "introduction": "虚拟现实或增强现实环境中的“临在感”在很大程度上取决于系统的响应速度，其中“运动到光子”（motion-to-photon, MTP）延迟是衡量响应能力的关键指标。这项练习提供了一个至关重要的系统级视角，要求您对从传感器捕捉运动到显示屏呈现相应画面的整个流程进行延迟预算分析。通过分解总延迟并识别瓶颈，您将学会如何做出明智的架构决策，例如是否将计算卸载到边缘服务器，以满足沉浸式应用的严苛延迟要求。",
            "id": "4227342",
            "problem": "一个与元宇宙集成的数字孪生（DT）通过虚拟现实（VR）头戴设备进行可视化。控制循环通过VR用户的头部运动来闭合，该运动被感知、传输、在边缘端与数字孪生进行模拟、在头戴设备上本地渲染，并在采样保持显示器上显示。该系统必须满足严格低于 $20\\,\\mathrm{ms}$ 的运动到光子（MTP）延迟目标。我们所说的 MTP 延迟是指运动到光子流水线中各个串行阶段延迟的总和。假设基于串行流水线延迟、采样理论和网络延迟构成的核心定义，我们有以下具有科学依据的阶段模型：\n\n- 感知：头戴设备的惯性测量单元以 $f_{s}=500\\,\\mathrm{Hz}$ 的频率采样，因此采样周期为 $T_{s}=1/f_{s}$。预期的采样到使用延迟是平均相位延迟 $T_{s}/2$。一个传感器融合预处理阶段增加了 $0.8\\,\\mathrm{ms}$ 的固定计算延迟。\n- 网络上行：大小为 $S_{\\mathrm{ul}}=12\\,\\mathrm{kB}$ 的运动状态数据包以 $R_{\\mathrm{ul}}=200\\,\\mathrm{Mbit/s}$ 的速率传输。传输时间为 $S_{\\mathrm{ul}}/R_{\\mathrm{ul}}$。到边缘的单向传播路径为 $d=5\\,\\mathrm{km}$ 的光纤，传播速度为 $v=2.0\\times 10^{8}\\,\\mathrm{m/s}$。无线最后一跳接入增加了 $0.6\\,\\mathrm{ms}$ 的固定延迟，排队延迟增加了 $0.2\\,\\mathrm{ms}$。\n- 边缘模拟：如果模拟被卸载，边缘端的数字孪生物理和状态估计计算需要 $2.2\\,\\mathrm{ms}$。如果在头戴设备上本地计算，此阶段将需要 $7.5\\,\\mathrm{ms}$。\n- 网络下行：大小为 $S_{\\mathrm{dl}}=16\\,\\mathrm{kB}$ 的更新状态以 $R_{\\mathrm{dl}}=1.0\\,\\mathrm{Gbit/s}$ 的速率传输，产生 $S_{\\mathrm{dl}}/R_{\\mathrm{dl}}$ 的延迟。与上行链路相同的单向传播、无线接入和排队延迟同样适用。\n- 渲染：着色图像在头戴设备的 GPU 上本地生成，渲染时间 $T_{\\mathrm{rend}}$ 待定。\n- 显示：显示刷新率为 $f_{\\mathrm{disp}}=120\\,\\mathrm{Hz}$。预期的垂直同步量化延迟为 $1/(2 f_{\\mathrm{disp}})$，像素响应时间增加了 $0.8\\,\\mathrm{ms}$。\n\n假设一个串行流水线，其中这些阶段的延迟线性相加形成总的MTP延迟。选择仅将模拟卸载到边缘（不卸载渲染），并计算最大允许渲染时间 $T_{\\mathrm{rend}}$，使得总的运动到光子延迟严格低于 $20\\,\\mathrm{ms}$。用毫秒表示你的最终数值答案，并将其四舍五入到四位有效数字。\n\n在你的推导过程中，用一两句话简要说明在这种配置下，哪个阶段从边缘卸载中获益最多及其原因，但请注意，评分的最终答案仅为渲染时间预算。",
            "solution": "问题在于确定最大允许渲染时间 $T_{\\mathrm{rend}}$，使得一个与元宇宙集成的数字孪生（DT）系统的总运动到光子（MTP）延迟 $L_{\\mathrm{MTP}}$ 严格低于 $20\\,\\mathrm{ms}$。该问题是有效的，因为它科学地基于信息物理系统的标准延迟模型，问题陈述清晰，并包含得出唯一解所需的所有信息。\n\n总MTP延迟是各串行阶段延迟的总和：\n$$L_{\\mathrm{MTP}} = L_{\\mathrm{sense}} + L_{\\mathrm{uplink}} + L_{\\mathrm{sim}} + L_{\\mathrm{downlink}} + L_{\\mathrm{render}} + L_{\\mathrm{display}}$$\n约束条件为 $L_{\\mathrm{MTP}}  20\\,\\mathrm{ms}$。我们将计算每个阶段的延迟，并将所有时间单位转换为毫秒（$\\mathrm{ms}$）。\n\n1.  **感知延迟 ($L_{\\mathrm{sense}}$)**：\n    采样频率为 $f_{s} = 500\\,\\mathrm{Hz}$。采样周期为 $T_{s} = 1/f_{s}$。平均采样到使用延迟为 $T_{s}/2$。\n    $$\n    T_{s} = \\frac{1}{500\\,\\mathrm{Hz}} = 0.002\\,\\mathrm{s} = 2\\,\\mathrm{ms}\n    $$\n    平均采样延迟为 $\\frac{T_{s}}{2} = \\frac{2\\,\\mathrm{ms}}{2} = 1\\,\\mathrm{ms}$。\n    额外的传感器融合预处理延迟为 $0.8\\,\\mathrm{ms}$。\n    $$\n    L_{\\mathrm{sense}} = 1\\,\\mathrm{ms} + 0.8\\,\\mathrm{ms} = 1.8\\,\\mathrm{ms}\n    $$\n\n2.  **网络上行延迟 ($L_{\\mathrm{uplink}}$)**：\n    这包括传输时间、传播时间、无线接入延迟和排队延迟。\n    传输时间为 $S_{\\mathrm{ul}}/R_{\\mathrm{ul}}$，其中 $S_{\\mathrm{ul}}=12\\,\\mathrm{kB}$ 且 $R_{\\mathrm{ul}}=200\\,\\mathrm{Mbit/s}$。\n    $$\n    S_{\\mathrm{ul}} = 12\\,\\mathrm{kB} = 12 \\times 10^{3}\\,\\mathrm{bytes} \\times 8\\,\\frac{\\mathrm{bits}}{\\mathrm{byte}} = 96000\\,\\mathrm{bits}\n    $$\n    $$\n    R_{\\mathrm{ul}} = 200\\,\\mathrm{Mbit/s} = 200 \\times 10^{6}\\,\\mathrm{bits/s}\n    $$\n    $$\n    T_{\\mathrm{tx,ul}} = \\frac{S_{\\mathrm{ul}}}{R_{\\mathrm{ul}}} = \\frac{96000\\,\\mathrm{bits}}{200 \\times 10^{6}\\,\\mathrm{bits/s}} = 0.00048\\,\\mathrm{s} = 0.48\\,\\mathrm{ms}\n    $$\n    传播时间为 $d/v$，其中 $d=5\\,\\mathrm{km}$ 且 $v=2.0\\times 10^{8}\\,\\mathrm{m/s}$。\n    $$\n    T_{\\mathrm{prop}} = \\frac{d}{v} = \\frac{5 \\times 10^{3}\\,\\mathrm{m}}{2.0 \\times 10^{8}\\,\\mathrm{m/s}} = 2.5 \\times 10^{-5}\\,\\mathrm{s} = 0.025\\,\\mathrm{ms}\n    $$\n    固定延迟为 $0.6\\,\\mathrm{ms}$（无线）和 $0.2\\,\\mathrm{ms}$（排队）。\n    $$\n    L_{\\mathrm{uplink}} = T_{\\mathrm{tx,ul}} + T_{\\mathrm{prop}} + 0.6\\,\\mathrm{ms} + 0.2\\,\\mathrm{ms} = 0.48\\,\\mathrm{ms} + 0.025\\,\\mathrm{ms} + 0.8\\,\\mathrm{ms} = 1.305\\,\\mathrm{ms}\n    $$\n\n3.  **边缘模拟延迟 ($L_{\\mathrm{sim}}$)**：\n    问题指定将模拟卸载到边缘。\n    $$\n    L_{\\mathrm{sim}} = 2.2\\,\\mathrm{ms}\n    $$\n\n4.  **网络下行延迟 ($L_{\\mathrm{downlink}}$)**：\n    与上行链路类似，这是传输、传播和固定延迟的总和。\n    传输时间为 $S_{\\mathrm{dl}}/R_{\\mathrm{dl}}$，其中 $S_{\\mathrm{dl}}=16\\,\\mathrm{kB}$ 且 $R_{\\mathrm{dl}}=1.0\\,\\mathrm{Gbit/s}$。\n    $$\n    S_{\\mathrm{dl}} = 16\\,\\mathrm{kB} = 16 \\times 10^{3}\\,\\mathrm{bytes} \\times 8\\,\\frac{\\mathrm{bits}}{\\mathrm{byte}} = 128000\\,\\mathrm{bits}\n    $$\n    $$\n    R_{\\mathrm{dl}} = 1.0\\,\\mathrm{Gbit/s} = 1 \\times 10^{9}\\,\\mathrm{bits/s}\n    $$\n    $$\n    T_{\\mathrm{tx,dl}} = \\frac{S_{\\mathrm{dl}}}{R_{\\mathrm{dl}}} = \\frac{128000\\,\\mathrm{bits}}{1 \\times 10^{9}\\,\\mathrm{bits/s}} = 0.000128\\,\\mathrm{s} = 0.128\\,\\mathrm{ms}\n    $$\n    传播延迟和固定延迟与上行链路相同。\n    $$\n    L_{\\mathrm{downlink}} = T_{\\mathrm{tx,dl}} + T_{\\mathrm{prop}} + 0.6\\,\\mathrm{ms} + 0.2\\,\\mathrm{ms} = 0.128\\,\\mathrm{ms} + 0.025\\,\\mathrm{ms} + 0.8\\,\\mathrm{ms} = 0.953\\,\\mathrm{ms}\n    $$\n\n5.  **渲染延迟 ($L_{\\mathrm{render}}$)**：\n    这是待确定的未知量。\n    $$\n    L_{\\mathrm{render}} = T_{\\mathrm{rend}}\n    $$\n\n6.  **显示延迟 ($L_{\\mathrm{display}}$)**：\n    这是垂直同步量化延迟和像素响应时间的总和。\n    对于 $f_{\\mathrm{disp}}=120\\,\\mathrm{Hz}$，垂直同步延迟为 $1/(2 f_{\\mathrm{disp}})$。\n    $$\n    \\text{V-sync delay} = \\frac{1}{2 \\times 120\\,\\mathrm{Hz}} = \\frac{1}{240}\\,\\mathrm{s} = \\frac{1000}{240}\\,\\mathrm{ms} = \\frac{25}{6}\\,\\mathrm{ms}\n    $$\n    像素响应时间为 $0.8\\,\\mathrm{ms}$。\n    $$\n    L_{\\mathrm{display}} = \\left(\\frac{25}{6} + 0.8\\right)\\,\\mathrm{ms}\n    $$\n\n现在，我们将已知延迟相加，并求解 $T_{\\mathrm{rend}}$。\n$$\nL_{\\mathrm{sense}} + L_{\\mathrm{uplink}} + L_{\\mathrm{sim}} + L_{\\mathrm{downlink}} + T_{\\mathrm{rend}} + L_{\\mathrm{display}}  20\\,\\mathrm{ms}\n$$\n$$\n1.8\\,\\mathrm{ms} + 1.305\\,\\mathrm{ms} + 2.2\\,\\mathrm{ms} + 0.953\\,\\mathrm{ms} + T_{\\mathrm{rend}} + \\left(\\frac{25}{6} + 0.8\\right)\\,\\mathrm{ms}  20\\,\\mathrm{ms}\n$$\n将已知的数值项相加：\n$$\n1.8 + 1.305 + 2.2 + 0.953 + 0.8 = 7.058\n$$\n不等式变为：\n$$\n7.058\\,\\mathrm{ms} + \\frac{25}{6}\\,\\mathrm{ms} + T_{\\mathrm{rend}}  20\\,\\mathrm{ms}\n$$\n$$\n7.058 + 4.1666... + T_{\\mathrm{rend}}  20\n$$\n$$\n11.224666...\\,\\mathrm{ms} + T_{\\mathrm{rend}}  20\\,\\mathrm{ms}\n$$\n为了找到最大允许渲染时间，我们求解 $T_{\\mathrm{rend}}$：\n$$\nT_{\\mathrm{rend}}  20\\,\\mathrm{ms} - 11.224666...\\,\\mathrm{ms}\n$$\n$$\nT_{\\mathrm{rend}}  8.775333...\\,\\mathrm{ms}\n$$\n最大允许值是此范围的上确界。在此背景下，该值为 $20\\,\\mathrm{ms} - (7.058 + \\frac{25}{6})\\,\\mathrm{ms} = \\frac{13163}{1500}\\,\\mathrm{ms} \\approx 8.775333...\\,\\mathrm{ms}$。\n\n模拟阶段从边缘卸载中获益最多，因为其 $7.5\\,\\mathrm{ms}$ 的本地计算时间是潜在流水线中最大的单个延迟，将其替换为总卸载路径时间（$L_{\\mathrm{uplink}} + L_{\\mathrm{sim}} + L_{\\mathrm{downlink}} = 1.305 + 2.2 + 0.953 = 4.458\\,\\mathrm{ms}$）可显著减少净延迟 $7.5 - 4.458 = 3.042\\,\\mathrm{ms}$。\n\n将最大允许渲染时间四舍五入到四位有效数字：\n$$\nT_{\\mathrm{rend,max}} \\approx 8.775\\,\\mathrm{ms}\n$$",
            "answer": "$$\n\\boxed{8.775}\n$$"
        }
    ]
}