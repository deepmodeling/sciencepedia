{
    "hands_on_practices": [
        {
            "introduction": "在构建大规模、高保真的沉浸式数字孪生时，我们必须在模型的视觉精度与存储和传输效率之间做出权衡。此练习将引导您量化一个关键的优化决策：将几何顶点数据从高精度浮点数转换为低精度格式所引入的几何误差。通过分析这种量化误差如何转化为用户屏幕上的视觉伪影，您将学会确定可接受的保真度阈值，这是优化元宇宙应用性能的一项核心技能。",
            "id": "4227321",
            "problem": "一个大型工业园区的沉浸式、元宇宙集成的数字孪生由一个三角形网格表示，其世界空间中的顶点坐标目前以 $32$ 位二进制浮点数存储。为了减少内存和带宽占用，系统提议将这些坐标转换为 $16$ 位半精度数，遵循电气和电子工程师协会（IEEE）$754$ 半精度二进制交换格式。该园区可以被一个以原点为中心、边长为 $2S$、半边长为 $S = 1200$ 米的轴对齐立方体所包围。用户通过一个针孔相机观察场景，该相机的水平视场（FOV）等于 $90$ 度，屏幕宽度为 $W = 3840$ 像素。考虑最坏情况下的观察和朝向，此时垂直于观察方向的微小物体空间位移会产生最大的屏幕空间运动。\n\n从 IEEE $754$ 半精度格式的形式化定义和针孔相机模型出发，推导一个界限，表示从 $32$ 位浮点数转换为 $16$ 位半精度浮点数时，由量化引入的最坏情况下的物体空间顶点位移大小。然后，使用透视投影和一阶微小位移近似，确定最小相机距离 $D_{\\mathrm{min}}$，使得由这种最坏情况下的量化引起的屏幕空间误差不超过 $0.25$ 像素。只报告 $D_{\\mathrm{min}}$ 的值，并以米为单位表示。将你的答案四舍五入到三位有效数字。",
            "solution": "用户希望我解决这个问题。我已经验证了它并得出结论，这是一个有效的问题。\n这个问题需要一个多步骤的分析，结合了数值表示（IEEE $754$ 浮点数）、几何学和光学（针孔相机模型）的原理。目标是找到最小相机距离 $D_{\\mathrm{min}}$，在该距离上，由坐标量化引起的视觉瑕疵被限制在一个指定的亚像素阈值内。\n\n首先，我们确定最坏情况下的物体空间量化误差。问题指出，顶点坐标从 $32$ 位单精度浮点数转换为 $16$ 位半精度浮点数。IEEE $754$ 半精度格式（binary$16$）由 $1$ 个符号位、$5$ 个指数位（偏置为 $15$）和 $10$ 个尾数位组成。一个规格化数的值为 $v = (-1)^{\\text{sign}} \\times 2^{\\text{exponent}-15} \\times (1.\\text{mantissa})_2$。\n\n园区被一个半边长为 $S = 1200$ 米的立方体包围。这意味着任何顶点坐标分量（例如，$x, y, z$）的最大绝对值为 $1200$。浮点数的量化误差取决于其大小。最坏情况的误差发生在具有最大幅值的数字上。因此，我们必须分析 $1200$ 左右的数字的表示。\n\n我们需要找到包含 $1200$ 的 2 的幂区间。我们有 $2^{10} = 1024$ 和 $2^{11} = 2048$。因此，任何幅度接近 $1200$ 的坐标分量都位于区间 $[2^{10}, 2^{11})$ 内。对于此区间内的任何数 $x$，其指数值为 $10$。\n\n浮点数的精度由尾数决定。最后一位单位（ulp）代表连续可表示数之间的间隔，由公式 $\\text{ulp} = 2^{\\text{exponent}} \\times 2^{-\\text{number of mantissa bits}}$ 给出。对于半精度格式，这是：\n$$ \\text{ulp} = 2^{10} \\times 2^{-10} = 1 $$\n当一个 $32$ 位浮点数转换为 $16$ 位浮点数时，它通常被四舍五入到最接近的可表示的 $16$ 位值。单个坐标分量的最大舍入误差是 ulp 的一半。设这个误差为 $\\Delta_c$。\n$$ \\Delta_{c, \\text{max}} = \\frac{1}{2} \\text{ulp} = \\frac{1}{2} \\times 1 = 0.5 \\text{ 米} $$\n量化在三个空间坐标 $(x, y, z)$ 中的每一个都引入了误差。当所有三个分量的误差都达到最大时，发生最坏情况的顶点位移。产生的物体空间位移向量为 $\\vec{\\delta}_o = (\\Delta_x, \\Delta_y, \\Delta_z)$，其中每个分量的最大值为 $0.5$。这个最坏情况位移向量的大小是：\n$$ \\delta_o = |\\vec{\\delta}_o|_{\\text{max}} = \\sqrt{(\\Delta_{c, \\text{max}})^2 + (\\Delta_{c, \\text{max}})^2 + (\\Delta_{c, \\text{max}})^2} = \\sqrt{3 \\times (0.5)^2} = 0.5 \\sqrt{3} \\text{ 米} $$\n\n接下来，我们将这个物体空间位移 $\\delta_o$ 与感知到的屏幕空间误差 $\\delta_s$ 联系起来。我们使用针孔相机模型。设相机距离一个物体顶点为 $D$。设相机的观察轴为 $Z$ 轴。相机空间中的一个点 $(X, Y, Z)$ 被投影到图像平面上。问题指定了 $90$ 度的水平视场（FOV）和 $W = 3840$ 像素的屏幕宽度。\n\n对于针孔相机，屏幕上投影的水平位置 $x_p$（以像素为单位），对应于一个水平物体空间坐标为 $X_o$、距离相机为 $D$（深度）的点，由以下公式给出：\n$$ x_p = \\left( \\frac{W}{2} \\right) \\frac{X_o}{D \\tan(\\text{FOV}/2)} $$\n给定 $\\text{FOV} = 90^\\circ$，半视场角为 $45^\\circ$，且 $\\tan(45^\\circ) = 1$。投影方程简化为：\n$$ x_p = \\frac{W X_o}{2 D} $$\n问题要求对屏幕空间误差进行一阶近似。一个微小的物体空间位移 $\\Delta X_o$ 导致一个屏幕空间位移 $\\Delta x_p$：\n$$ \\Delta x_p \\approx \\frac{\\partial x_p}{\\partial X_o} \\Delta X_o = \\frac{W}{2 D} \\Delta X_o $$\n问题指定了“最坏情况下的观察和朝向”。这种情况发生在物体空间位移向量 $\\vec{\\delta}_o$ 完全垂直于相机观察轴时。在这种配置下，位移的全部大小 $\\delta_o$ 都贡献于投影到屏幕上的运动。任何平行于观察轴的位移分量将导致二阶的大小变化（透视畸变），对于小位移而言这是可以忽略的。因此，我们将有效物体空间位移设为 $\\delta_o$。屏幕空间误差的大小 $\\delta_s$ 为：\n$$ \\delta_s = \\frac{W \\delta_o}{2 D} $$\n我们得到的约束是，这个屏幕空间误差不得超过 $0.25$ 像素：\n$$ \\delta_s \\le 0.25 $$\n代入 $\\delta_s$ 的表达式：\n$$ \\frac{W \\delta_o}{2 D} \\le 0.25 $$\n我们需要找到满足此条件的最小相机距离 $D_{\\mathrm{min}}$。我们对不等式求解 $D$：\n$$ D \\ge \\frac{W \\delta_o}{2 \\times 0.25} = \\frac{W \\delta_o}{0.5} = 2 W \\delta_o $$\n因此，最小距离为：\n$$ D_{\\mathrm{min}} = 2 W \\delta_o $$\n现在，我们代入已知值：$W=3840$ 和 $\\delta_o = 0.5\\sqrt{3}$ 米。\n$$ D_{\\mathrm{min}} = 2 \\times 3840 \\times (0.5 \\sqrt{3}) = 3840 \\sqrt{3} $$\n为了获得最终的数值答案，我们计算此值并按要求四舍五入到三位有效数字。\n$$ D_{\\mathrm{min}} = 3840 \\times \\sqrt{3} \\approx 3840 \\times 1.73205 \\approx 6651.072 $$\n四舍五入到三位有效数字，我们得到 $6650$ 米。这可以用科学记数法表示，以使有效数字的数量明确无误。\n$$ D_{\\mathrm{min}} \\approx 6.65 \\times 10^3 \\text{ 米} $$",
            "answer": "$$\n\\boxed{6.65 \\times 10^{3}}\n$$"
        },
        {
            "introduction": "数字孪生不仅是静态模型，更是动态的、可演化的系统，能够模拟声学、热力学或结构力学等物理现象。本练习探讨了在实时渲染循环中运行物理仿真的一个基本挑战：数值稳定性。您将通过推导著名的 Courant-Friedrichs-Lewy (CFL) 条件，理解仿真时间步长、空间离散化和物理波速之间的深刻联系，并将其转化为对实时渲染帧率的具体要求，以保证仿真结果的有效性。",
            "id": "4227334",
            "problem": "一个集成到元宇宙的工业管道数字孪生通过模拟沿管道轴线的一维声波，在虚拟现实（VR）中驱动空间化音频和触觉反馈。声场由一维线性波动方程建模，其中声压场 $u(x,t)$ 满足 $\\frac{\\partial^{2} u}{\\partial t^{2}} = c^{2} \\frac{\\partial^{2} u}{\\partial x^{2}}$，其中 $c$ 为声速。仿真区域长度为 $L$，并被均匀离散为 $N$ 个网格点，因此网格间距为 $\\Delta x = \\frac{L}{N-1}$。求解器在时间和空间上采用完全显式、二阶精度的中心有限差分格式。元宇宙渲染引擎将每次模拟更新与每个渲染帧耦合，因此模拟时间步长等于帧间间隔，即 $\\Delta t = \\frac{1}{F}$，其中 $F$ 是渲染帧率。\n\n使用波动方程作为基本模型，并对显式中心差分格式进行离散稳定性分析（例如，von Neumann 分析），推导出关于 $\\Delta t$ 的稳定性约束（用 $c$ 和 $\\Delta x$ 表示）。然后，将此约束转换为对 $F$ 的要求，以保证每帧执行一次模拟步骤时的稳定性。最后，根据以下孪生参数，计算最小稳定帧率：\n- 声速 $c = 343\\ \\mathrm{m}\\ \\mathrm{s}^{-1}$，\n- 管道长度 $L = 30\\ \\mathrm{m}$，\n- 网格点数 $N = 11$。\n\n以 $\\mathrm{s}^{-1}$ 为单位表示最终帧率，并将答案四舍五入到四位有效数字。",
            "solution": "用户提供了一个有效、适定的问题陈述，其科学基础在于计算物理和数值分析领域。我将进行推导和求解。\n\n问题要求计算一维线性波动方程数值模拟的最小稳定帧率，该方程为：\n$$ \\frac{\\partial^{2} u}{\\partial t^{2}} = c^{2} \\frac{\\partial^{2} u}{\\partial x^{2}} $$\n其中 $u(x,t)$ 是声压场，$c$ 是声速。\n\n该模拟在时间和空间上均采用完全显式、二阶精度的中心有限差分格式。设离散网格由点 $(x_j, t_n)$ 定义，其中 $x_j = j \\Delta x$，$t_n = n \\Delta t$，而 $j$ 和 $n$ 为整数。$u(x_j, t_n)$ 的数值近似值记为 $u_j^n$。\n\n关于时间的二阶偏导数 $\\frac{\\partial^{2} u}{\\partial t^{2}}$ 由中心差分近似为：\n$$ \\frac{\\partial^{2} u}{\\partial t^{2}} \\approx \\frac{u_j^{n+1} - 2u_j^n + u_j^{n-1}}{(\\Delta t)^2} $$\n同样，关于空间的二阶偏导数 $\\frac{\\partial^{2} u}{\\partial x^{2}}$ 近似为：\n$$ \\frac{\\partial^{2} u}{\\partial x^{2}} \\approx \\frac{u_{j+1}^n - 2u_j^n + u_{j-1}^n}{(\\Delta x)^2} $$\n将这些近似值代入波动方程，得到离散有限差分方程：\n$$ \\frac{u_j^{n+1} - 2u_j^n + u_j^{n-1}}{(\\Delta t)^2} = c^2 \\frac{u_{j+1}^n - 2u_j^n + u_{j-1}^n}{(\\Delta x)^2} $$\n为了找到 $u_j^{n+1}$ 的更新规则，我们重新整理这些项：\n$$ u_j^{n+1} = 2u_j^n - u_j^{n-1} + \\frac{c^2 (\\Delta t)^2}{(\\Delta x)^2} (u_{j+1}^n - 2u_j^n + u_{j-1}^n) $$\n通常将库朗数（Courant number）$\\sigma$ 定义为无量纲比率：\n$$ \\sigma = \\frac{c \\Delta t}{\\Delta x} $$\n将 $\\sigma$ 代入更新方程，我们得到：\n$$ u_j^{n+1} = 2u_j^n - u_j^{n-1} + \\sigma^2 (u_{j+1}^n - 2u_j^n + u_{j-1}^n) $$\n$$ u_j^{n+1} = 2(1 - \\sigma^2)u_j^n + \\sigma^2(u_{j+1}^n + u_{j-1}^n) - u_j^{n-1} $$\n为了确定此显式格式的稳定性，我们进行 von Neumann 稳定性分析。我们考虑解的单个傅里叶模式的演化，表示为：\n$$ u_j^n = G^n e^{i k x_j} = G^n e^{i k j \\Delta x} $$\n其中 $k$ 是波数，$G=G(k)$ 是每个时间步长的放大因子。为使格式稳定，对于任何波数，放大因子的模都不能超过1，即 $|G| \\leq 1$。\n\n将试探解代入有限差分方程：\n$$ G^{n+1}e^{ikj\\Delta x} = 2(1 - \\sigma^2)G^n e^{ikj\\Delta x} + \\sigma^2(G^n e^{ik(j+1)\\Delta x} + G^n e^{ik(j-1)\\Delta x}) - G^{n-1}e^{ikj\\Delta x} $$\n两边同除以 $G^{n-1}e^{ikj\\Delta x}$，得到关于 $G$ 的特征方程：\n$$ G^2 = 2G(1 - \\sigma^2) + 2G\\sigma^2 \\cos(k\\Delta x) - 1 $$\n使用欧拉公式 $e^{i\\theta} + e^{-i\\theta} = 2\\cos(\\theta)$，表达式简化为：\n$$ G^2 = 2G(1 - \\sigma^2) + 2G\\sigma^2 \\cos(k\\Delta x) - 1 $$\n$$ G^2 - 2G(1 - \\sigma^2 + \\sigma^2 \\cos(k\\Delta x)) + 1 = 0 $$\n使用半角恒等式 $1 - \\cos(\\theta) = 2\\sin^2(\\frac{\\theta}{2})$，方程变为：\n$$ G^2 - 2G\\left(1 - 2\\sigma^2 \\sin^2\\left(\\frac{k\\Delta x}{2}\\right)\\right) + 1 = 0 $$\n这是一个关于 $G$ 的二次方程，形式为 $aG^2+bG+c=0$。如果根是单位圆上的共轭复数，或模至多为1的实数，则根是稳定的（$|G| \\leq 1$）。如果二次方程的判别式为非正数，即 $b^2 - 4ac \\leq 0$，则满足此条件。\n$$ \\left[-2\\left(1 - 2\\sigma^2 \\sin^2\\left(\\frac{k\\Delta x}{2}\\right)\\right)\\right]^2 - 4(1)(1) \\leq 0 $$\n$$ 4\\left(1 - 2\\sigma^2 \\sin^2\\left(\\frac{k\\Delta x}{2}\\right)\\right)^2 \\leq 4 $$\n$$ \\left(1 - 2\\sigma^2 \\sin^2\\left(\\frac{k\\Delta x}{2}\\right)\\right)^2 \\leq 1 $$\n两边取平方根，得到：\n$$ -1 \\leq 1 - 2\\sigma^2 \\sin^2\\left(\\frac{k\\Delta x}{2}\\right) \\leq 1 $$\n不等式的右侧，$1 - 2\\sigma^2 \\sin^2(\\frac{k\\Delta x}{2}) \\leq 1$，简化为 $-2\\sigma^2 \\sin^2(\\frac{k\\Delta x}{2}) \\leq 0$，由于 $\\sigma^2 \\ge 0$ 且 $\\sin^2(\\cdot) \\ge 0$，该式恒成立。\n左侧提供了实际的稳定性约束：\n$$ -1 \\leq 1 - 2\\sigma^2 \\sin^2\\left(\\frac{k\\Delta x}{2}\\right) $$\n$$ 2\\sigma^2 \\sin^2\\left(\\frac{k\\Delta x}{2}\\right) \\leq 2 $$\n$$ \\sigma^2 \\sin^2\\left(\\frac{k\\Delta x}{2}\\right) \\leq 1 $$\n这个不等式必须对所有可能的波数 $k$ 都成立。项 $\\sin^2\\left(\\frac{k\\Delta x}{2}\\right)$ 的最大值为 $1$。为确保在最坏情况下的稳定性，我们将此项设为其最大值：\n$$ \\sigma^2 \\leq 1 \\implies \\sigma \\leq 1 $$\n这就是该格式著名的 Courant-Friedrichs-Lewy (CFL) 稳定性条件。代入 $\\sigma$ 的定义：\n$$ \\frac{c \\Delta t}{\\Delta x} \\leq 1 $$\n因此，对时间步长 $\\Delta t$ 的稳定性约束为：\n$$ \\Delta t \\leq \\frac{\\Delta x}{c} $$\n问题陈述，模拟时间步长 $\\Delta t$ 与渲染帧率 $F$ 通过关系 $\\Delta t = \\frac{1}{F}$ 相关联。将此代入稳定性约束：\n$$ \\frac{1}{F} \\leq \\frac{\\Delta x}{c} $$\n求解帧率 $F$，我们得到稳定性的要求：\n$$ F \\geq \\frac{c}{\\Delta x} $$\n这意味着最小稳定帧率 $F_{min}$ 为：\n$$ F_{min} = \\frac{c}{\\Delta x} $$\n现在，我们使用给定的参数计算 $F_{min}$ 的数值。首先，我们计算网格间距 $\\Delta x$：\n- 管道长度 $L = 30\\ \\mathrm{m}$\n- 网格点数 $N = 11$\n网格间距为 $\\Delta x = \\frac{L}{N-1}$。\n$$ \\Delta x = \\frac{30\\ \\mathrm{m}}{11 - 1} = \\frac{30\\ \\mathrm{m}}{10} = 3\\ \\mathrm{m} $$\n接下来，我们使用声速 $c = 343\\ \\mathrm{m}\\ \\mathrm{s}^{-1}$ 来计算最小稳定帧率：\n$$ F_{min} = \\frac{343\\ \\mathrm{m}\\ \\mathrm{s}^{-1}}{3\\ \\mathrm{m}} = \\frac{343}{3}\\ \\mathrm{s}^{-1} $$\n$$ F_{min} \\approx 114.333...\\ \\mathrm{s}^{-1} $$\n问题要求将答案四舍五入到四位有效数字。\n$$ F_{min} = 114.3\\ \\mathrm{s}^{-1} $$",
            "answer": "$$\\boxed{114.3}$$"
        },
        {
            "introduction": "沉浸式数字孪生的成败关键在于其交互的流畅性和响应性，这通常通过“运动到光子”（motion-to-photon）延迟来衡量。本练习将带您剖析一个典型的虚拟现实（VR）交互环路，从用户头部运动的传感到最终画面的显示，计算其中每个环节的延迟贡献。通过构建一个完整的延迟预算，您将学会如何为关键处理阶段（如渲染）分配时间，并评估边缘计算等架构决策对整体系统性能的影响。",
            "id": "4227342",
            "problem": "一个与元宇宙集成的数字孪生 (DT) 通过虚拟现实 (VR) 头戴式显示器进行可视化。控制环路通过VR用户的头部运动来闭合，该运动被感知、传输、在边缘端与DT进行模拟、在头显上进行本地渲染，并在采样保持显示器上显示。该系统必须满足严格低于 $20\\,\\mathrm{ms}$ 的运动到光子 (MTP) 延迟目标。我们所说的MTP延迟是指运动到光子流水线中各串行阶段延迟的总和。假设基于串行流水线延迟、采样理论和网络延迟构成的核心定义，采用以下具有科学依据的阶段模型：\n\n- 传感：头显的惯性测量单元以 $f_{s}=500\\,\\mathrm{Hz}$ 的频率采样，因此采样周期为 $T_{s}=1/f_{s}$。预期的采样到使用延迟是平均相位延迟 $T_{s}/2$。一个传感器融合预处理阶段增加了 $0.8\\,\\mathrm{ms}$ 的固定计算延迟。\n- 网络上行链路：一个大小为 $S_{\\mathrm{ul}}=12\\,\\mathrm{kB}$ 的运动状态数据包以 $R_{\\mathrm{ul}}=200\\,\\mathrm{Mbit/s}$ 的速率传输。传输时间为 $S_{\\mathrm{ul}}/R_{\\mathrm{ul}}$。到边缘的单向传播路径为 $d=5\\,\\mathrm{km}$ 的光纤，传播速度为 $v=2.0\\times 10^{8}\\,\\mathrm{m/s}$。无线最后一跳接入增加了固定的 $0.6\\,\\mathrm{ms}$，排队增加了 $0.2\\,\\mathrm{ms}$。\n- 边缘仿真：如果仿真被卸载，边缘端的DT物理和状态估计计算需要 $2.2\\,\\mathrm{ms}$。如果在头显上本地计算，此阶段将需要 $7.5\\,\\mathrm{ms}$。\n- 网络下行链路：大小为 $S_{\\mathrm{dl}}=16\\,\\mathrm{kB}$ 的更新状态以 $R_{\\mathrm{dl}}=1.0\\,\\mathrm{Gbit/s}$ 的速率传输，贡献了 $S_{\\mathrm{dl}}/R_{\\mathrm{dl}}$ 的延迟。与上行链路相同的单向传播、无线接入和排队延迟同样适用。\n- 渲染：着色图像在头显的GPU上本地生成，渲染时间 $T_{\\mathrm{rend}}$ 待定。\n- 显示：显示刷新率为 $f_{\\mathrm{disp}}=120\\,\\mathrm{Hz}$。预期的垂直同步量化延迟为 $1/(2 f_{\\mathrm{disp}})$，像素响应时间增加了 $0.8\\,\\mathrm{ms}$。\n\n假设一个串行流水线，其中这些阶段的延迟线性相加，构成总的MTP延迟。选择仅将仿真卸载到边缘（不卸载渲染），并计算最大允许渲染时间 $T_{\\mathrm{rend}}$，使得总的运动到光子延迟严格低于 $20\\,\\mathrm{ms}$。用毫秒表示你的最终数值答案，并将答案四舍五入到四位有效数字。\n\n在你的推导过程中，用一两句话简要说明在这种配置下，哪个阶段从边缘卸载中受益最大及其原因，但请注意，评分的最终答案仅为渲染时间预算。",
            "solution": "问题是确定最大允许渲染时间 $T_{\\mathrm{rend}}$，使得与元宇宙集成的数字孪生 (DT) 系统的总运动到光子 (MTP) 延迟 $L_{\\mathrm{MTP}}$ 严格低于 $20\\,\\mathrm{ms}$。该问题是有效的，因为它科学地基于信息物理系统的标准延迟模型，问题提法得当，并包含获得唯一解所需的所有必要信息。\n\n总MTP延迟是各串行阶段延迟的总和：\n$$L_{\\mathrm{MTP}} = L_{\\mathrm{sense}} + L_{\\mathrm{uplink}} + L_{\\mathrm{sim}} + L_{\\mathrm{downlink}} + L_{\\mathrm{render}} + L_{\\mathrm{display}}$$\n约束条件为 $L_{\\mathrm{MTP}}  20\\,\\mathrm{ms}$。我们将计算每个阶段的延迟，并将所有时间单位转换为毫秒 ($\\mathrm{ms}$)。\n\n1.  **传感延迟 ($L_{\\mathrm{sense}}$)**:\n    采样频率为 $f_{s} = 500\\,\\mathrm{Hz}$。采样周期为 $T_{s} = 1/f_{s}$。平均采样到使用延迟为 $T_{s}/2$。\n    $$\n    T_{s} = \\frac{1}{500\\,\\mathrm{Hz}} = 0.002\\,\\mathrm{s} = 2\\,\\mathrm{ms}\n    $$\n    平均采样延迟为 $\\frac{T_{s}}{2} = \\frac{2\\,\\mathrm{ms}}{2} = 1\\,\\mathrm{ms}$。\n    额外的传感器融合预处理延迟为 $0.8\\,\\mathrm{ms}$。\n    $$\n    L_{\\mathrm{sense}} = 1\\,\\mathrm{ms} + 0.8\\,\\mathrm{ms} = 1.8\\,\\mathrm{ms}\n    $$\n\n2.  **网络上行链路延迟 ($L_{\\mathrm{uplink}}$)**:\n    这包括传输时间、传播时间、无线接入延迟和排队延迟。\n    传输时间为 $S_{\\mathrm{ul}}/R_{\\mathrm{ul}}$，其中 $S_{\\mathrm{ul}}=12\\,\\mathrm{kB}$ 且 $R_{\\mathrm{ul}}=200\\,\\mathrm{Mbit/s}$。\n    $$\n    S_{\\mathrm{ul}} = 12\\,\\mathrm{kB} = 12 \\times 10^{3}\\,\\mathrm{bytes} \\times 8\\,\\frac{\\mathrm{bits}}{\\mathrm{byte}} = 96000\\,\\mathrm{bits}\n    $$\n    $$\n    R_{\\mathrm{ul}} = 200\\,\\mathrm{Mbit/s} = 200 \\times 10^{6}\\,\\mathrm{bits/s}\n    $$\n    $$\n    T_{\\mathrm{tx,ul}} = \\frac{S_{\\mathrm{ul}}}{R_{\\mathrm{ul}}} = \\frac{96000\\,\\mathrm{bits}}{200 \\times 10^{6}\\,\\mathrm{bits/s}} = 0.00048\\,\\mathrm{s} = 0.48\\,\\mathrm{ms}\n    $$\n    传播时间为 $d/v$，其中 $d=5\\,\\mathrm{km}$ 且 $v=2.0\\times 10^{8}\\,\\mathrm{m/s}$。\n    $$\n    T_{\\mathrm{prop}} = \\frac{d}{v} = \\frac{5 \\times 10^{3}\\,\\mathrm{m}}{2.0 \\times 10^{8}\\,\\mathrm{m/s}} = 2.5 \\times 10^{-5}\\,\\mathrm{s} = 0.025\\,\\mathrm{ms}\n    $$\n    固定延迟为 $0.6\\,\\mathrm{ms}$ (无线) 和 $0.2\\,\\mathrm{ms}$ (排队)。\n    $$\n    L_{\\mathrm{uplink}} = T_{\\mathrm{tx,ul}} + T_{\\mathrm{prop}} + 0.6\\,\\mathrm{ms} + 0.2\\,\\mathrm{ms} = 0.48\\,\\mathrm{ms} + 0.025\\,\\mathrm{ms} + 0.8\\,\\mathrm{ms} = 1.305\\,\\mathrm{ms}\n    $$\n\n3.  **边缘仿真延迟 ($L_{\\mathrm{sim}}$)**:\n    问题指定将仿真卸载到边缘。\n    $$\n    L_{\\mathrm{sim}} = 2.2\\,\\mathrm{ms}\n    $$\n\n4.  **网络下行链路延迟 ($L_{\\mathrm{downlink}}$)**:\n    与上行链路类似，这是传输、传播和固定延迟的总和。\n    传输时间为 $S_{\\mathrm{dl}}/R_{\\mathrm{dl}}$，其中 $S_{\\mathrm{dl}}=16\\,\\mathrm{kB}$ 且 $R_{\\mathrm{dl}}=1.0\\,\\mathrm{Gbit/s}$。\n    $$\n    S_{\\mathrm{dl}} = 16\\,\\mathrm{kB} = 16 \\times 10^{3}\\,\\mathrm{bytes} \\times 8\\,\\frac{\\mathrm{bits}}{\\mathrm{byte}} = 128000\\,\\mathrm{bits}\n    $$\n    $$\n    R_{\\mathrm{dl}} = 1.0\\,\\mathrm{Gbit/s} = 1 \\times 10^{9}\\,\\mathrm{bits/s}\n    $$\n    $$\n    T_{\\mathrm{tx,dl}} = \\frac{S_{\\mathrm{dl}}}{R_{\\mathrm{dl}}} = \\frac{128000\\,\\mathrm{bits}}{1 \\times 10^{9}\\,\\mathrm{bits/s}} = 0.000128\\,\\mathrm{s} = 0.128\\,\\mathrm{ms}\n    $$\n    传播和固定延迟与上行链路相同。\n    $$\n    L_{\\mathrm{downlink}} = T_{\\mathrm{tx,dl}} + T_{\\mathrm{prop}} + 0.6\\,\\mathrm{ms} + 0.2\\,\\mathrm{ms} = 0.128\\,\\mathrm{ms} + 0.025\\,\\mathrm{ms} + 0.8\\,\\mathrm{ms} = 0.953\\,\\mathrm{ms}\n    $$\n\n5.  **渲染延迟 ($L_{\\mathrm{render}}$)**:\n    这是待确定的未知量。\n    $$\n    L_{\\mathrm{render}} = T_{\\mathrm{rend}}\n    $$\n\n6.  **显示延迟 ($L_{\\mathrm{display}}$)**:\n    这是垂直同步量化延迟和像素响应时间的总和。\n    当 $f_{\\mathrm{disp}}=120\\,\\mathrm{Hz}$ 时，垂直同步延迟为 $1/(2 f_{\\mathrm{disp}})$。\n    $$\n    \\text{V-sync delay} = \\frac{1}{2 \\times 120\\,\\mathrm{Hz}} = \\frac{1}{240}\\,\\mathrm{s} = \\frac{1000}{240}\\,\\mathrm{ms} \\approx 4.167\\,\\mathrm{ms}\n    $$\n    像素响应时间为 $0.8\\,\\mathrm{ms}$。\n    $$\n    L_{\\mathrm{display}} = (4.167 + 0.8)\\,\\mathrm{ms} = 4.967\\,\\mathrm{ms}\n    $$\n    为了避免舍入误差，我们将垂直同步延迟保留为分数：$\\frac{1000}{240}\\,\\mathrm{ms} = \\frac{25}{6}\\,\\mathrm{ms}$。\n    $$\n    L_{\\mathrm{display}} = \\left(\\frac{25}{6} + 0.8\\right)\\,\\mathrm{ms}\n    $$\n\n现在，我们将已知延迟相加，并求解 $T_{\\mathrm{rend}}$。\n$$\nL_{\\mathrm{sense}} + L_{\\mathrm{uplink}} + L_{\\mathrm{sim}} + L_{\\mathrm{downlink}} + T_{\\mathrm{rend}} + L_{\\mathrm{display}}  20\\,\\mathrm{ms}\n$$\n$$\n1.8\\,\\mathrm{ms} + 1.305\\,\\mathrm{ms} + 2.2\\,\\mathrm{ms} + 0.953\\,\\mathrm{ms} + T_{\\mathrm{rend}} + \\left(\\frac{25}{6} + 0.8\\right)\\,\\mathrm{ms}  20\\,\\mathrm{ms}\n$$\n对已知数值项求和：\n$$\n1.8 + 1.305 + 2.2 + 0.953 + 0.8 = 7.058\n$$\n不等式变为：\n$$\n7.058\\,\\mathrm{ms} + \\frac{25}{6}\\,\\mathrm{ms} + T_{\\mathrm{rend}}  20\\,\\mathrm{ms}\n$$\n$$\n7.058 + 4.1666... + T_{\\mathrm{rend}}  20\n$$\n$$\n11.224666...\\,\\mathrm{ms} + T_{\\mathrm{rend}}  20\\,\\mathrm{ms}\n$$\n为求得最大允许渲染时间，我们求解 $T_{\\mathrm{rend}}$：\n$$\nT_{\\mathrm{rend}}  20\\,\\mathrm{ms} - 11.224666...\\,\\mathrm{ms}\n$$\n$$\nT_{\\mathrm{rend}}  8.775333...\\,\\mathrm{ms}\n$$\n仿真阶段从边缘卸载中受益最大，因为其 $7.5\\,\\mathrm{ms}$ 的本地计算时间是潜在流水线中最大的单个延迟，而用总卸载路径时间（$L_{\\mathrm{uplink}} + L_{\\mathrm{sim}} + L_{\\mathrm{downlink}} = 1.305 + 2.2 + 0.953 = 4.458\\,\\mathrm{ms}$）替换它，可以实现 $7.5 - 4.458 = 3.042\\,\\mathrm{ms}$ 的显著净延迟减少。\n\n将最大允许渲染时间四舍五入到四位有效数字：\n$$\nT_{\\mathrm{rend,max}} = 8.775\\,\\mathrm{ms}\n$$",
            "answer": "$$\n\\boxed{8.775}\n$$"
        }
    ]
}