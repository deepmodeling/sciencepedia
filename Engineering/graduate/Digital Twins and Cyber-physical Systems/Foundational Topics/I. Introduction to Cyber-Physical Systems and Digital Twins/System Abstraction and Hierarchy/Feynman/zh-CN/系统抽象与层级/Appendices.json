{
    "hands_on_practices": [
        {
            "introduction": "在设计信息物理系统时，一个根本性的挑战是连接连续的物理动态与离散的数字控制。本练习 () 为此提供了基础实践。你将从第一性原理出发，推导出一个精确的离散时间模型，并将其与使用欧拉法得到的常见近似模型进行比较，从而量化由近似所引入的精确单步误差，这对于理解数字模型的保真度至关重要。",
            "id": "4249603",
            "problem": "一个信息物理系统物理层的标量连续时间对象由线性时不变动态 $\\dot{x}(t) = a x(t) + b u(t)$ 建模，其中 $a \\in \\mathbb{R}$ 和 $b \\in \\mathbb{R}$ 是常数参数。在分层数字孪生抽象中，该对象通过一个采样器和一个零阶保持器（ZOH；Zero-Order Hold）进行接口，使用固定的采样周期 $h  0$。在每个采样区间 $[k h, (k+1) h)$ 上，输入保持恒定，$u(t) = u_k$ for $t \\in [k h, (k+1) h)$。\n\n考虑 $a = -1$、采样时间 $h = 0.1$ 和输入增益 $b = 2$ 的具体情况。精确离散时间抽象定义为 $x_{k+1} = \\Phi x_k + \\Gamma u_k$，其中 $\\Phi$ 和 $\\Gamma$ 根据连续时间动态和零阶保持器假设从第一性原理确定。另一种近似抽象使用前向欧拉法，$x_{k+1}^{\\mathrm{E}} = x_k + h (a x_k + b u_k)$。\n\n仅使用线性时不变系统的解和零阶保持器假设的定义，推导精确的离散时间映射 $(\\Phi, \\Gamma)$ 和前向欧拉映射，然后通过计算来量化在有界工作集 $\\{(x_k, u_k) : |x_k| \\leq 1, |u_k| \\leq 1\\}$ 上的单步抽象误差\n$$\nE^\\star \\triangleq \\sup_{\\substack{|x_k| \\leq 1 \\\\ |u_k| \\leq 1}} \\left| x_{k+1} - x_{k+1}^{\\mathrm{E}} \\right|.\n$$\n将 $E^\\star$ 的值报告为单个无量纲数。将您的最终答案四舍五入到六位有效数字。",
            "solution": "该问题要求推导一个连续时间系统的两种不同离散时间抽象，并量化它们在指定工作集上的单步误差。\n\n首先，我们必须推导精确的离散时间模型 $x_{k+1} = \\Phi x_k + \\Gamma u_k$。连续时间动态由以下线性时不变 (LTI) 常微分方程给出：\n$$\n\\dot{x}(t) = a x(t) + b u(t)\n$$\n从初始条件 $x(t_0)$ 开始，该方程的解由常数变易法公式给出：\n$$\nx(t) = \\exp(a(t-t_0)) x(t_0) + \\int_{t_0}^{t} \\exp(a(t-\\tau)) b u(\\tau) \\, d\\tau\n$$\n我们关心的是状态从时间 $t_0 = k h$ 到 $t = (k+1) h$ 的演化。令 $x_k \\triangleq x(kh)$。下一个采样时刻的状态是 $x_{k+1} \\triangleq x((k+1)h)$：\n$$\nx_{k+1} = \\exp(a((k+1)h - kh)) x_k + \\int_{kh}^{(k+1)h} \\exp(a((k+1)h - \\tau)) b u(\\tau) \\, d\\tau\n$$\n问题指出使用了零阶保持器 (ZOH)，这意味着控制输入在每个采样区间内保持恒定：$u(\\tau) = u_k$ for $\\tau \\in [kh, (k+1)h)$。将此代入积分并简化指数项可得：\n$$\nx_{k+1} = \\exp(ah) x_k + b u_k \\int_{kh}^{(k+1)h} \\exp(a((k+1)h - \\tau)) \\, d\\tau\n$$\n为了计算该积分，我们进行变量代换。令 $s = (k+1)h - \\tau$。那么 $ds = -d\\tau$。积分限从 $\\tau=kh$ 变为 $s=h$，从 $\\tau=(k+1)h$ 变为 $s=0$。\n$$\n\\int_{kh}^{(k+1)h} \\exp(a((k+1)h - \\tau)) \\, d\\tau = \\int_{h}^{0} \\exp(as) (-ds) = \\int_{0}^{h} \\exp(as) \\, ds\n$$\n由于 $a = -1 \\neq 0$，该积分计算为：\n$$\n\\int_{0}^{h} \\exp(as) \\, ds = \\left[ \\frac{\\exp(as)}{a} \\right]_0^h = \\frac{\\exp(ah) - \\exp(0)}{a} = \\frac{\\exp(ah) - 1}{a}\n$$\n将此代回 $x_{k+1}$ 的表达式中：\n$$\nx_{k+1} = \\exp(ah) x_k + b \\left( \\frac{\\exp(ah) - 1}{a} \\right) u_k\n$$\n通过与给定形式 $x_{k+1} = \\Phi x_k + \\Gamma u_k$ 进行比较，我们确定了精确的离散时间系统矩阵：\n$$\n\\Phi = \\exp(ah) \\quad \\text{和} \\quad \\Gamma = \\frac{b}{a}(\\exp(ah) - 1)\n$$\n\n接下来，我们使用前向欧拉法构建近似抽象。$\\dot{x} = f(x,u)$ 的前向欧拉离散化是 $x_{k+1} \\approx x_k + h f(x_k, u_k)$。对于我们的系统，$f(x,u) = ax+bu$，所以近似为：\n$$\nx_{k+1}^{\\mathrm{E}} = x_k + h(a x_k + b u_k) = (1+ah)x_k + (bh)u_k\n$$\n这给出了近似系统矩阵 $\\Phi^{\\mathrm{E}} = 1+ah$ 和 $\\Gamma^{\\mathrm{E}} = bh$。\n\n现在，我们必须量化单步抽象误差，定义为 $x_{k+1} - x_{k+1}^{\\mathrm{E}}$。\n$$\nx_{k+1} - x_{k+1}^{\\mathrm{E}} = (\\Phi x_k + \\Gamma u_k) - (\\Phi^{\\mathrm{E}} x_k + \\Gamma^{\\mathrm{E}} u_k)\n$$\n$$\nx_{k+1} - x_{k+1}^{\\mathrm{E}} = (\\Phi - \\Phi^{\\mathrm{E}}) x_k + (\\Gamma - \\Gamma^{\\mathrm{E}}) u_k\n$$\n我们来计算差分项：\n$$\n\\Phi - \\Phi^{\\mathrm{E}} = \\exp(ah) - (1+ah)\n$$\n$$\n\\Gamma - \\Gamma^{\\mathrm{E}} = \\frac{b}{a}(\\exp(ah) - 1) - bh = \\frac{b}{a}(\\exp(ah) - 1 - ah)\n$$\n误差表达式变为：\n$$\nx_{k+1} - x_{k+1}^{\\mathrm{E}} = (\\exp(ah) - 1 - ah) x_k + \\frac{b}{a}(\\exp(ah) - 1 - ah) u_k\n$$\n我们可以提出公因式：\n$$\nx_{k+1} - x_{k+1}^{\\mathrm{E}} = (\\exp(ah) - 1 - ah) \\left( x_k + \\frac{b}{a} u_k \\right)\n$$\n题目要求我们计算 $E^\\star$，即该误差的绝对值在集合 $\\{(x_k, u_k) : |x_k| \\leq 1, |u_k| \\leq 1\\}$ 上的上确界：\n$$\nE^\\star = \\sup_{\\substack{|x_k| \\leq 1 \\\\ |u_k| \\leq 1}} \\left| (\\exp(ah) - 1 - ah) \\left( x_k + \\frac{b}{a} u_k \\right) \\right|\n$$\n这可以分为两部分：\n$$\nE^\\star = \\left| \\exp(ah) - 1 - ah \\right| \\cdot \\sup_{\\substack{|x_k| \\leq 1 \\\\ |u_k| \\leq 1}} \\left| x_k + \\frac{b}{a} u_k \\right|\n$$\n我们来分析第一项。函数 $f(y) = \\exp(y) - 1 - y$ 是一个凸函数，在 $y=0$ 处有全局最小值，其中 $f(0)=0$。对于任何 $y \\neq 0$，$f(y) > 0$。由于 $a \\neq 0$ 且 $h > 0$，所以 $ah \\neq 0$，因此 $\\exp(ah) - 1 - ah > 0$。因此，绝对值是多余的。\n\n对于第二项，我们需要找到 $|x_k + \\frac{b}{a} u_k|$ 在 $|x_k| \\leq 1$ 和 $|u_k| \\leq 1$ 时的上确界。根据三角不等式：\n$$\n\\left| x_k + \\frac{b}{a} u_k \\right| \\leq |x_k| + \\left| \\frac{b}{a} u_k \\right| = |x_k| + \\left| \\frac{b}{a} \\right| |u_k|\n$$\n由于 $|x_k| \\leq 1$ 和 $|u_k| \\leq 1$，右侧的最大值是 $1 + |b/a|$。这个最大值是可以通过选择 $|x_k|=1$、 $|u_k|=1$ 并确保 $x_k$ 和 $(b/a)u_k$ 同号来达到的。上确界确实是 $1 + |b/a|$。\n\n综合这些结果，最大误差的表达式为：\n$$\nE^\\star = (\\exp(ah) - 1 - ah) \\left( 1 + \\left| \\frac{b}{a} \\right| \\right)\n$$\n现在，我们代入给定的数值：$a=-1$，$b=2$ 和 $h=0.1$。\n$$\nah = (-1)(0.1) = -0.1\n$$\n$$\n\\frac{b}{a} = \\frac{2}{-1} = -2\n$$\n将这些值代入 $E^\\star$ 的表达式中：\n$$\nE^\\star = (\\exp(-0.1) - 1 - (-0.1)) \\left( 1 + |-2| \\right)\n$$\n$$\nE^\\star = (\\exp(-0.1) - 0.9) (1 + 2)\n$$\n$$\nE^\\star = 3 (\\exp(-0.1) - 0.9)\n$$\n现在我们计算数值。\n$$\n\\exp(-0.1) \\approx 0.9048374180\n$$\n$$\nE^\\star \\approx 3 (0.9048374180 - 0.9)\n$$\n$$\nE^\\star \\approx 3 (0.0048374180)\n$$\n$$\nE^\\star \\approx 0.014512254\n$$\n问题要求将结果四舍五入到六位有效数字。前六位有效数字是 $1, 4, 5, 1, 2, 2$。第七位有效数字是 $5$，所以我们将第六位数字向上取整。\n$$\nE^\\star \\approx 0.0145123\n$$",
            "answer": "$$\\boxed{0.0145123}$$"
        },
        {
            "introduction": "许多现实世界系统表现出难以直接分析的非线性行为。一种强大的抽象技术是用更简单的分段仿射模型来近似复杂的非线性动态，从而可以使用更易于处理的分析工具。在此问题 () 中，你将构建一个这样的分段仿射抽象，并且更关键的是，推导出一个形式化的最坏情况误差界，这是为抽象后系统的行为提供保证的关键一步。",
            "id": "4249600",
            "problem": "在信息物理系统（CPS）的抽象层次结构中，一个单自由度机械子系统的数字孪生使用一个简化的代理模型进行快速验证。物理状态变量用 $x$ 表示，单位为弧度，控制输入用 $u$ 表示。非线性标称动力学由 $\\dot{x}=\\sin(x)+u$ 给出，其中 $x \\in [-\\pi,\\pi]$。为获得适用于监控任务的分层分段仿射抽象，请按以下步骤进行。\n\n1. 将域 $[-\\pi,\\pi]$ 划分为三个等长的区间，节点为 $x_{0}=-\\pi$，$x_{1}=-\\pi/3$，$x_{2}=\\pi/3$ 和 $x_{3}=\\pi$。在每个区间 $[x_{k},x_{k+1}]$ 上，通过在端点 $x_k$ 和 $x_{k+1}$ 对 $\\sin(x)$ 进行线性插值，为 $\\sin(x)$ 定义一个仿射代理模型 $\\ell_{k}(x)$，并定义抽象的区域动力学 $\\dot{x}=\\ell_{k}(x)+u$。\n\n2. 仅使用基于微积分的、经过充分检验的插值误差理论，推导出一个一致最坏情况界 $E$，使得 $\\sup_{x \\in [-\\pi,\\pi]}|\\sin(x)-\\ell(x)| \\leq E$ 成立，其中 $\\ell(x)$ 表示由三个区间上的 $\\ell_{k}(x)$ 构成的分段线性插值函数。以精确的封闭形式表示该界。无需四舍五入。\n\n仅提供界 $E$ 的精确封闭形式表达式作为您的最终答案。所有角度均以弧度为单位。",
            "solution": "该问题要求推导函数 $f(x) = \\sin(x)$ 在域 $[-\\pi, \\pi]$ 上的分段线性插值的一致最坏情况误差界 $E$。域被划分为三个等长区间。\n\n1.  **插值误差理论**：\n    根据标准的插值误差理论，对于一个在区间 $[a, b]$ 上进行线性插值的二阶可导函数 $f(x)$，其插值误差 $e(x)$ 的上界由以下公式给出：\n    $$ \\sup_{x \\in [a,b]} |e(x)| \\leq \\frac{h^2}{8} \\sup_{t \\in [a,b]} |f''(t)| $$\n    其中 $h = b-a$ 是区间的长度。\n\n2.  **计算通用项**：\n    对于本问题，$f(x) = \\sin(x)$，其二阶导数为 $f''(x) = -\\sin(x)$。因此，二阶导数的绝对值为 $|f''(x)| = |-\\sin(x)| = |\\sin(x)|$。\n    域 $[-\\pi, \\pi]$ 被划分为三个等长区间：$I_0 = [-\\pi, -\\pi/3]$, $I_1 = [-\\pi/3, \\pi/3]$, 和 $I_2 = [\\pi/3, \\pi]$。\n    每个区间的长度为 $h = (\\pi/3) - (-\\pi/3) = 2\\pi/3$。\n    因此，对于所有区间，$\\frac{h^2}{8}$ 项是常数：\n    $$ \\frac{h^2}{8} = \\frac{1}{8}\\left(\\frac{2\\pi}{3}\\right)^2 = \\frac{4\\pi^2}{72} = \\frac{\\pi^2}{18} $$\n\n3.  **计算各区间的误差界**：\n    一致误差界 $E$ 是所有子区间误差界的最大值。设 $E_k$ 为区间 $I_k$ 上的误差界。\n    $$ E_k = \\frac{\\pi^2}{18} \\sup_{t \\in I_k} |\\sin(t)| $$\n    我们分别计算每个区间上 $|\\sin(t)|$ 的上确界：\n    *   在 $I_0 = [-\\pi, -\\pi/3]$ 上，$\\sup_{t \\in I_0} |\\sin(t)| = |\\sin(-\\pi/2)| = 1$。\n    *   在 $I_1 = [-\\pi/3, \\pi/3]$ 上，$\\sup_{t \\in I_1} |\\sin(t)| = \\sin(\\pi/3) = \\frac{\\sqrt{3}}{2}$。\n    *   在 $I_2 = [\\pi/3, \\pi]$ 上，$\\sup_{t \\in I_2} |\\sin(t)| = \\sin(\\pi/2) = 1$。\n\n    因此，三个区间各自的误差上界为：\n    *   $E_0 \\le \\frac{\\pi^2}{18} \\cdot 1 = \\frac{\\pi^2}{18}$\n    *   $E_1 \\le \\frac{\\pi^2}{18} \\cdot \\frac{\\sqrt{3}}{2} = \\frac{\\sqrt{3}\\pi^2}{36}$\n    *   $E_2 \\le \\frac{\\pi^2}{18} \\cdot 1 = \\frac{\\pi^2}{18}$\n\n4.  **确定最终的一致界**：\n    整个域上的一致最坏情况误差界 $E$ 是这三个上界中的最大值。\n    $$ E = \\max\\left(\\frac{\\pi^2}{18}, \\frac{\\sqrt{3}\\pi^2}{36}, \\frac{\\pi^2}{18}\\right) $$\n    由于 $2 > \\sqrt{3}$，所以 $\\frac{2}{36} > \\frac{\\sqrt{3}}{36}$，即 $\\frac{1}{18} > \\frac{\\sqrt{3}}{36}$。因此，最大值是 $\\frac{\\pi^2}{18}$。\n\n    最终，我们得到的一致最坏情况误差界为 $\\frac{\\pi^2}{18}$。",
            "answer": "$$\\boxed{\\frac{\\pi^2}{18}}$$"
        },
        {
            "introduction": "除了数值近似，逻辑抽象是形式化验证中确保系统正确性的基石。谓词抽象通过一组关键的逻辑谓词，将系统可能无限的状态空间压缩为有限的抽象状态集，从而简化系统。本练习 () 提供了对该技术的动手实践介绍，指导你构建一个抽象转换系统，并用它来推断系统不变量，这是验证复杂软件和信息物理系统安全性和可靠性的一项基本技能。",
            "id": "4249609",
            "problem": "一个信息物理资源分配器的数字孪生被建模为一个离散时间程序，其状态变量 $x$ 和 $y$ 代表非负物理量（例如，存储的能量和输入供应率）。具体状态空间为 $\\mathbb{R}^{2}$，初始状态满足 $x \\ge 0 \\wedge y \\ge 0$。单步具体转移关系 $R$ 由更新方程定义\n$$\nx' = x + y,\\quad y' = y,\n$$\n这与一个控制器行为一致，该控制器在每个周期内累积资源 $x$，同时保持流入 $y$ 恒定。\n\n考虑双谓词抽象域 $\\mathcal{P} = \\{\\,x \\ge 0,\\; y \\ge 0\\,\\}$ 及其由这些谓词的真值导出的四个抽象状态。对转移使用标准的存在性谓词抽象：一个抽象转移 $(b \\to b')$ 存在，当且仅当存在具体状态 $(x,y)$ 和 $(x',y')$，使得 $(x,y)$ 具体化 $b$，$(x',y')$ 具体化 $b'$，并且 $((x,y),(x',y')) \\in R$。设初始抽象状态为 $x \\ge 0 \\wedge y \\ge 0$ 的具体化。\n\n任务：\n- 计算由 $\\mathcal{P}$ 导出的四个抽象状态上的完整抽象转移关系。\n- 从第一性原理出发，确定具体断言 $x + y \\ge 1$ 在从给定初始抽象状态开始的抽象模型中是否可作为不变量被证明。\n- 定义 $c$ 为最大实数，使得不变量 $x + y \\ge c$ 在抽象模型中对于从初始抽象状态可达的所有具体状态都是可靠可证的（即，该性质对于从初始抽象状态开始，在抽象转移关系下可达的每个抽象状态的具体化中的每个具体状态都成立）。提供 $c$ 的精确值作为最终答案，无单位。无需四舍五入。",
            "solution": "该问题要求我们基于给定的谓词集，为离散时间系统构建一个抽象转移系统，并利用该抽象来确定一个最强的不变量。\n\n1.  **定义抽象状态**：\n    谓词集为 $\\mathcal{P} = \\{p_1, p_2\\}$，其中 $p_1 \\equiv (x \\ge 0)$，$p_2 \\equiv (y \\ge 0)$。这导出了四个抽象状态，它们是谓词真假组合所定义的具体状态区域：\n    *   $b_1$: $x \\ge 0 \\wedge y \\ge 0$\n    *   $b_2$: $x \\ge 0 \\wedge y  0$\n    *   $b_3$: $x  0 \\wedge y \\ge 0$\n    *   $b_4$: $x  0 \\wedge y  0$\n\n    一个抽象状态 $b$ 的具体化 $\\gamma(b)$ 是满足其逻辑公式的所有具体状态 $(x,y)$ 的集合。\n\n2.  **计算抽象转移关系**：\n    具体转移关系为 $x' = x + y, y' = y$。要确定从抽象状态 $b$ 到 $b'$ 的转移是否存在，我们需要检查是否存在一个具体状态 $(x,y) \\in \\gamma(b)$，使得其后继状态 $(x',y')$ 属于 $\\gamma(b')$。\n    后继状态的谓词为 $p'_1 \\equiv (x' \\ge 0) \\equiv (x+y \\ge 0)$ 和 $p'_2 \\equiv (y' \\ge 0) \\equiv (y \\ge 0)$。\n    注意到 $p'_2 \\iff p_2$，这意味着谓词 $y \\ge 0$ 的真值在转移过程中保持不变。因此，转移只能在 $y \\ge 0$ 的状态（$b_1, b_3$）之间，或在 $y  0$ 的状态（$b_2, b_4$）之间发生。\n\n    我们逐一分析：\n    *   **从 $b_1$ ($x \\ge 0, y \\ge 0$)**：由于 $x \\ge 0$ 且 $y \\ge 0$，必然有 $x' = x+y \\ge 0$。同时 $y' = y \\ge 0$。因此，任何从 $b_1$ 开始的具体状态，其后继状态仍在 $b_1$。存在转移 **$b_1 \\to b_1$**。\n    *   **从 $b_2$ ($x \\ge 0, y  0$)**：后继状态满足 $y'  0$。对于 $x'$：\n        -   若 $x+y \\ge 0$（例如 $(x,y)=(2,-1)$），则后继状态在 $b_2$。存在转移 **$b_2 \\to b_2$**。\n        -   若 $x+y  0$（例如 $(x,y)=(1,-2)$），则后继状态在 $b_4$。存在转移 **$b_2 \\to b_4$**。\n    *   **从 $b_3$ ($x  0, y \\ge 0$)**：后继状态满足 $y' \\ge 0$。对于 $x'$：\n        -   若 $x+y \\ge 0$（例如 $(x,y)=(-1,2)$），则后继状态在 $b_1$。存在转移 **$b_3 \\to b_1$**。\n        -   若 $x+y  0$（例如 $(x,y)=(-2,1)$），则后继状态在 $b_3$。存在转移 **$b_3 \\to b_3$**。\n    *   **从 $b_4$ ($x  0, y  0$)**：由于 $x  0$ 且 $y  0$，必然有 $x' = x+y  0$。同时 $y' = y  0$。因此，后继状态仍在 $b_4$。存在转移 **$b_4 \\to b_4$**。\n\n    完整的抽象转移关系为 $\\{ b_1 \\to b_1, b_2 \\to b_2, b_2 \\to b_4, b_3 \\to b_1, b_3 \\to b_3, b_4 \\to b_4 \\}$。\n\n3.  **确定可达状态与不变量**：\n    初始抽象状态为 $b_1$（对应于 $x \\ge 0 \\wedge y \\ge 0$）。根据抽象转移关系，从 $b_1$ 出发唯一可达的抽象状态就是 $b_1$ 本身。\n    我们需要找到最大的实数 $c$，使得不变量 $x+y \\ge c$ 对于所有可达抽象状态的具体化都成立。\n    这意味着我们需要找到最大的 $c$，使得对于所有 $(x,y) \\in \\gamma(b_1)$，不等式 $x+y \\ge c$ 都为真。\n    这相当于在集合 $\\{(x,y) \\mid x \\ge 0 \\wedge y \\ge 0\\}$ 上找到函数 $f(x,y) = x+y$ 的下确界（infimum）。\n    由于 $x \\ge 0$ 和 $y \\ge 0$，它们的和 $x+y$ 的最小值在原点 $(0,0)$ 处取得，最小值为 $0$。\n    因此，对于 $\\gamma(b_1)$ 中所有状态都成立的最强（即最大 $c$）的不等式是 $x+y \\ge 0$。\n    所以，$c$ 的最大值为 $0$。",
            "answer": "$$\n\\boxed{0}\n$$"
        }
    ]
}