{
    "hands_on_practices": [
        {
            "introduction": "物理时钟同步是大多数信息物理系统中实现协调的基本要求。本练习将引导您了解网络时间协议 (NTP) 的核心机制，即使用双向报文交换来估计两个时钟之间的偏移和延迟。通过处理一组假设但真实的时间戳，您不仅将计算出这些关键参数，还将量化由网络路径不对称性所带来的内在不确定性，这是在任何实际部署中都必须理解的一个关键限制。",
            "id": "4208007",
            "problem": "一个信息物理数字孪生系统必须使用网络时间协议（NTP）所管理的双向交换，将其逻辑时间与物理设备的挂钟时间对齐。在单次交换中，会记录四个时间戳：数字孪生（客户端）在时间 $t_1$ 发送，设备控制器（服务器）在时间 $t_2$ 接收，服务器在时间 $t_3$ 发送其回复，客户端在时间 $t_4$ 接收。这些时间是相对于一个任意纪元测量的，给定为 $(t_1, t_2, t_3, t_4) = (0.2, 0.25, 0.4, 0.65)$ 秒。假设在交换期间两个时钟的速率相同，并且服务器的处理延迟由时间间隔 $t_3 - t_2$ 捕获。从具有未知单向延迟和未知时钟偏移的基本双向时间传递模型出发，根据第一性原理推导客户端和服务器之间估计的时钟偏移和往返网络延迟的表达式，然后根据给定的时间戳计算它们的值。接着，当路径不对称性的大小（前向和反向单向延迟的绝对差）为 $0.05$ 秒时，量化时钟偏移估计的最坏情况绝对误差，并在为数字孪生映射物理时间到逻辑时间的背景下解释这个界限。\n\n将您的最终数值结果以行矩阵的形式提供，按顺序包含：估计的偏移量 $\\theta$、往返延迟 $\\delta$ 和最坏情况下的绝对偏移误差 $|\\varepsilon_{\\theta}|$。所有量均以秒为单位表示，并将每个数字四舍五入到四位有效数字。",
            "solution": "首先对问题进行验证。\n\n### 第1步：提取已知条件\n-   **系统**：信息物理数字孪生（客户端）和物理设备控制器（服务器）。\n-   **协议**：双向时间交换，具有网络时间协议（NTP）的特征。\n-   **时间戳**：\n    -   $t_1 = 0.2$ 秒（客户端发送请求）\n    -   $t_2 = 0.25$ 秒（服务器接收请求）\n    -   $t_3 = 0.4$ 秒（服务器发送回复）\n    -   $t_4 = 0.65$ 秒（客户端接收回复）\n-   **假设**：\n    1.  在交换期间，客户端和服务器的时钟速率相同。\n    2.  服务器的处理延迟由时间间隔 $t_3 - t_2$ 捕获。\n-   **误差分析的附加数据**：\n    -   最坏情况下的路径不对称性大小：前向和反向单向延迟的绝对差 $|d_1 - d_2|$ 为 $0.05$ 秒。\n-   **任务**：\n    1.  根据第一性原理推导估计的时钟偏移（$\\theta$）和往返网络延迟（$\\delta$）的表达式。\n    2.  根据给定的时间戳计算这些表达式的值。\n    3.  在给定路径不对称性的情况下，量化时钟偏移估计的最坏情况绝对误差 $|\\varepsilon_{\\theta}|$。\n    4.  解释该误差界限。\n\n### 第2步：使用提取的已知条件进行验证\n-   **科学依据**：该问题基于网络时间协议（NTP）中使用的时钟同步基本模型，NTP是网络工程和分布式系统的基石。涉及时间戳、单向延迟和时钟偏移的模型是标准且科学合理的。\n-   **适定性**：该问题提供了计算所需量（$\\theta, \\delta, |\\varepsilon_{\\theta}|$）的所有必要数值数据（$t_1, t_2, t_3, t_4$ 和路径不对称性）。问题的结构能够导出一个唯一的数值解。\n-   **客观性**：问题以精确、定量且无偏见的技术语言陈述。\n-   **完整性与一致性**：问题是自洽的，没有矛盾。假设（例如在短时间内时钟速率相等）是此类分析的标准假设，并且已明确说明。\n-   **现实性**：时间戳值和 $50$ 毫秒的路径不对称性对于真实世界的网络交换是合理的。\n\n### 第3步：结论与行动\n该问题有效，因为它具有科学依据、适定、客观且完整。我们可以继续进行求解。\n\n### 从第一性原理推导\n让我们将真实但未知的物理时间表示为 $T$。设客户端的时钟时间为 $C_C(T)$，服务器的时钟时间为 $C_S(T)$。我们定义时钟偏移 $\\theta$ 为服务器时钟领先于客户端时钟的量。\n$$C_S(T) = C_C(T) + \\theta$$\n时间戳 $t_1$ 和 $t_4$ 在客户端时钟上测量，而 $t_2$ 和 $t_3$ 在服务器时钟上测量。设 $d_1$ 是数据包从客户端到服务器的单向网络延迟， $d_2$ 是数据包从服务器返回客户端的单向延迟。\n\n服务器在其本地时间 $t_2$ 接收到请求的事件可以与客户端的发送时间 $t_1$ 相关联。到达服务器的真实时间是离开客户端的真实时间加上传输时间 $d_1$。当在服务器时钟上读取此时间时，它相对于客户端时钟有一个偏移量 $\\theta$。\n因此，服务器的时间戳 $t_2$ 等于客户端的出发时间戳 $t_1$ 加上网络延迟 $d_1$，并根据时钟偏移 $\\theta$ 进行调整。\n$$t_2 = t_1 + d_1 + \\theta \\quad \\quad (1)$$\n\n类似地，客户端在其本地时间 $t_4$ 接收到回复的事件与服务器的发送时间 $t_3$ 相关联。客户端的到达时间戳 $t_4$ 等于服务器的出发时间戳 $t_3$ 加上返回网络延迟 $d_2$，并根据时钟偏移进行调整。由于我们是从服务器时钟映射回客户端时钟，所以我们减去偏移量。\n$$t_4 = t_3 + d_2 - \\theta \\quad \\quad (2)$$\n\n我们可以重排这两个基本方程：\n$$t_2 - t_1 = d_1 + \\theta \\quad \\quad (1')$$\n$$t_4 - t_3 = d_2 - \\theta \\quad \\quad (2')$$\n\n我们得到了一个包含三个未知数（$d_1$、$d_2$ 和 $\\theta$）的两个方程组。该系统是欠定的。然而，我们可以求解往返延迟 $\\delta = d_1 + d_2$，并找到偏移量 $\\theta$ 的一个估计值。\n\n为了求出往返网络延迟 $\\delta$，我们将方程 $(1')$ 和方程 $(2')$ 相加：\n$$(t_2 - t_1) + (t_4 - t_3) = (d_1 + \\theta) + (d_2 - \\theta)$$\n$$(t_2 + t_4) - (t_1 + t_3) = d_1 + d_2$$\n往返延迟 $\\delta$ 是传输所花费的总时间，即总观测时长 $(t_4 - t_1)$ 减去服务器处理请求所花费的时间 $(t_3 - t_2)$。\n$$\\delta = d_1 + d_2 = (t_4 - t_1) - (t_3 - t_2)$$\n\n为了求出偏移量 $\\theta$，我们将方程 $(2')$ 从方程 $(1')$ 中减去：\n$$(t_2 - t_1) - (t_4 - t_3) = (d_1 + \\theta) - (d_2 - \\theta)$$\n$$(t_2 - t_1) - (t_4 - t_3) = 2\\theta + d_1 - d_2$$\n求解 $\\theta$ 得到真实的偏移量：\n$$\\theta_{\\text{true}} = \\frac{1}{2} \\left[ (t_2 - t_1) + (t_3 - t_4) - (d_1 - d_2) \\right]$$\n由于 $d_1$ 和 $d_2$ 是未知的，我们无法精确确定 $\\theta_{\\text{true}}$。标准的NTP方法是通过做出网络路径对称的简化假设（即 $d_1 = d_2$）来创建偏移量的*估计值*，我们将其表示为 $\\theta$。这个假设使得项 $(d_1 - d_2)$ 等于零。\n$$\\theta \\equiv \\theta_{\\text{estimated}} = \\frac{1}{2} \\left[ (t_2 - t_1) + (t_3 - t_4) \\right]$$\n\n### 数值计算\n给定时间戳 $(t_1, t_2, t_3, t_4) = (0.2, 0.25, 0.4, 0.65)$ 秒。\n\n首先，我们计算估计的时钟偏移 $\\theta$：\n$$\\theta = \\frac{1}{2} \\left[ (0.25 - 0.2) + (0.4 - 0.65) \\right] = \\frac{1}{2} \\left[ 0.05 + (-0.25) \\right]$$\n$$\\theta = \\frac{1}{2} (-0.2) = -0.1 \\, \\text{s}$$\n$-0.1$ 秒的负偏移意味着服务器的时钟比客户端的时钟慢 $0.1$ 秒。\n\n接下来，我们计算往返网络延迟 $\\delta$：\n$$\\delta = (t_4 - t_1) - (t_3 - t_2)$$\n$$\\delta = (0.65 - 0.2) - (0.4 - 0.25) = 0.45 - 0.15$$\n$$\\delta = 0.3 \\, \\text{s}$$\n\n### 最坏情况误差分析\n偏移估计中的误差 $\\varepsilon_{\\theta}$ 是估计值 $\\theta$ 和真实值 $\\theta_{\\text{true}}$ 之间的差值。\n$$\\varepsilon_{\\theta} = \\theta - \\theta_{\\text{true}} = \\frac{1}{2} \\left[ (t_2 - t_1) + (t_3 - t_4) \\right] - \\frac{1}{2} \\left[ (t_2 - t_1) + (t_3 - t_4) - (d_1 - d_2) \\right]$$\n$$\\varepsilon_{\\theta} = \\frac{1}{2} (d_1 - d_2)$$\n误差是路径不对称性的一半。问题陈述路径不对称性的大小为 $|d_1 - d_2| = 0.05$ 秒。因此，偏移估计的最坏情况绝对误差 $|\\varepsilon_{\\theta}|$ 为：\n$$|\\varepsilon_{\\theta}| = \\left| \\frac{1}{2} (d_1 - d_2) \\right| = \\frac{1}{2} |d_1 - d_2|$$\n$$|\\varepsilon_{\\theta}| = \\frac{1}{2} (0.05) = 0.025 \\, \\text{s}$$\n\n### 解释\n计算的目的是将数字孪生的逻辑时间与物理设备的挂钟时间对齐。估计的偏移为 $\\theta = -0.1$ 秒。数字孪生将使用此值来校正其时钟，因此它对设备时间的估计将是 $C_{\\text{twin}}(T) - 0.1$。然而，误差分析揭示了一个根本性的限制。由于未知的网络路径不对称性，这种同步并非完美。$|\\varepsilon_{\\theta}| = 0.025$ 秒的最坏情况绝对误差为时间映射的准确性设定了一个界限。这意味着即使在校正之后，数字孪生对物理设备时间的逻辑时间表示也可能在任一方向上偏差高达 $25$ 毫秒。真实的偏移量位于区间 $[\\theta - |\\varepsilon_{\\theta}|, \\theta + |\\varepsilon_{\\theta}|] = [-0.1 - 0.025, -0.1 + 0.025] = [-0.125, -0.075]$ 秒内。这个误差界限是数字孪生系统的一个关键规范。孪生系统内任何要求时间精度高于 $25$ 毫秒的仿真、控制逻辑或数据分析都不能保证其有效性，因为孪生系统对设备状态的看法可能在时间上存在偏差。在设计控制算法和解释仿真结果时，必须考虑这种不确定性，以确保信息物理系统的安全性和稳定性。\n\n将结果四舍五入到四位有效数字：\n$\\theta = -0.1000$ s\n$\\delta = 0.3000$ s\n$|\\varepsilon_{\\theta}| = 0.02500$ s",
            "answer": "$$\\boxed{\\begin{pmatrix} -0.1000  0.3000  0.02500 \\end{pmatrix}}$$"
        },
        {
            "introduction": "虽然物理时钟同步往往不完美，但许多分布式应用仅需事件间的顺序一致，而无需精确的时间戳。向量时钟提供了一种强大的算法来追踪这种因果顺序，构成了逻辑时间的基础。本练习让您在一个多进程系统中追踪向量时钟的演变，从而获得确定事件间因果关系和并发性的实践经验，这对于确保复制数字孪生中的数据一致性至关重要。",
            "id": "4207954",
            "problem": "一个信息物理系统 (CPS) 维护一个分布式数字孪生，该孪生在三个进程 $P_1$、$P_2$ 和 $P_3$ 之间复制。该系统使用向量时钟作为逻辑时间，以推断更新之间的因果关系。假设三个进程的向量时钟具有标准语义：每个进程维护一个长度为 $3$ 的向量，初始化为 $(0,0,0)$；在每次本地事件（包括本地更新和发送）时，进程会增加其自身分量的值；发送操作会将当前的向量时钟附加到消息上；接收操作会首先将其本地向量替换为本地向量与附加消息向量的逐分量最大值，然后增加其自身分量的值。\n\n以下事件日志列出了每个进程的事件序列。本地更新表示为 $u_k$，发送表示为 $m_k$，接收则引用相应的 $m_k$。\n\n进程 $P_1$：\n- 事件 $e_1$：本地更新 $u_1$。\n- 事件 $e_2$：向 $P_2$ 发送消息 $m_1$。\n- 事件 $e_3$：本地更新 $u_2$。\n- 事件 $e_4$：向 $P_3$ 发送消息 $m_3$。\n\n进程 $P_2$：\n- 事件 $f_1$：本地更新 $u_3$。\n- 事件 $f_2$：从 $P_1$ 接收 $m_1$。\n- 事件 $f_3$：向 $P_3$ 发送消息 $m_2$。\n- 事件 $f_4$：本地更新 $u_4$。\n\n进程 $P_3$：\n- 事件 $g_1$：从 $P_2$ 接收 $m_2$。\n- 事件 $g_2$：本地更新 $u_5$。\n- 事件 $g_3$：从 $P_1$ 接收 $m_3$。\n- 事件 $g_4$：本地更新 $u_6$。\n\n任务：\n1. 使用给定的事件日志和标准的向量时钟语义，计算每次更新 $u_1, u_2, u_3, u_4, u_5, u_6$ 的向量时间戳。\n2. 使用由进程内顺序和消息因果关系所引出的“先行发生”（happened-before）关系，以及等价的向量时间戳上的逐分量偏序关系，确定哪些更新对是因果有序的，哪些是并发的。\n3. 确定一个保留因果关系的确定性更新合并顺序。为在并发更新之间确定唯一的顺序，请按其向量时间戳在 $\\mathbb{N}^3$ 上的字典序对更新进行排序（首先比较第一个分量，如果第一个分量相同则比较第二个，如果第二个分量也相同则比较第三个）。如果所有三个分量都比较完后仍然存在平局（这只可能在两个不同的更新意外共享了相同的向量时发生），则按进程标识符的升序 ($P_1 \\prec P_2 \\prec P_3$) 打破平局，然后再按该进程内更新的本地序列号打破平局。\n\n答案规范：\n- 将您的最终答案表示为所选合并顺序下索引 $\\{1,2,3,4,5,6\\}$ 的单个排列，并使用 `pmatrix` 格式化为行矩阵。\n- 不需要单位。",
            "solution": "用户希望我解决一个关于分布式系统中向量时钟的问题。\n\n### 问题验证\n\n**步骤 1：提取已知条件**\n\n*   **系统**：一个具有 $3$ 个进程的信息物理系统：$P_1$、$P_2$、$P_3$。\n*   **逻辑时间**：使用向量时钟。进程 $P_i$ 的向量为 $V_i = (v_{i1}, v_{i2}, v_{i3})$。初始状态：$V_1=V_2=V_3=(0,0,0)$。\n*   **向量时钟规则**：\n    1.  在每次本地事件（例如本地更新 $u_k$、发送 $m_k$）时，进程会增加其向量时钟中自身分量的值。\n    2.  发送事件会将当前的向量时钟附加到消息上。\n    3.  接收事件会首先通过取其自身向量和消息向量的逐分量最大值来更新本地向量，然后增加其自身分量的值。\n*   **事件日志**：\n    *   **进程 $P_1$**：\n        1.  $e_1$：本地更新 $u_1$。\n        2.  $e_2$：向 $P_2$ 发送消息 $m_1$。\n        3.  $e_3$：本地更新 $u_2$。\n        4.  $e_4$：向 $P_3$ 发送消息 $m_3$。\n    *   **进程 $P_2$**：\n        1.  $f_1$：本地更新 $u_3$。\n        2.  $f_2$：从 $P_1$ 接收 $m_1$。\n        3.  $f_3$：向 $P_3$ 发送消息 $m_2$。\n        4.  $f_4$：本地更新 $u_4$。\n    *   **进程 $P_3$**：\n        1.  $g_1$：从 $P_2$ 接收 $m_2$。\n        2.  $g_2$：本地更新 $u_5$。\n        3.  $g_3$：从 $P_1$ 接收 $m_3$。\n        4.  $g_4$：本地更新 $u_6$。\n*   **任务**：\n    1.  计算每次更新 $u_1, u_2, u_3, u_4, u_5, u_6$ 的向量时间戳。\n    2.  基于“先行发生”关系确定更新之间的因果关系和并发关系。\n    3.  通过按向量时间戳进行字典序排序来确定一个确定性的合并顺序。平局（若有）通过进程 ID ($P_1 \\prec P_2 \\prec P_3$) 和本地更新序列号来打破。\n\n**步骤 2：使用提取的已知条件进行验证**\n\n*   **科学性**：该问题基于 Lamport 提出的成熟的向量时钟算法，这是分布式系统中的一个基本概念。前提和规则在科学上是合理的。\n*   **定义明确**：事件日志是完整的，时钟更新规则是明确无歧义的，排序的打破平局规则确保了唯一解。该问题是定义明确的。\n*   **客观性**：问题以精确、形式化的语言陈述，不含主观性或观点。\n*   **完整性**：所有必要信息（初始状态、事件序列、更新规则）均已提供。该问题是自洽的。\n*   **现实性**：该场景是用于教授和推理分布式系统的标准简化模型。在此学术背景下是现实的。\n\n**步骤 3：结论与行动**\n\n该问题是有效的。它在科学上是合理的、定义明確的、客观的且自洽的。我将继续提供完整的解答。\n\n### 解答\n\n解答过程将跟踪三个进程 $P_1$、$P_2$ 和 $P_3$ 中每一个的向量时钟演变。设 $V_1$、$V_2$ 和 $V_3$ 分别表示相应进程的向量时钟。初始状态为 $V_1 = V_2 = V_3 = (0,0,0)$。一个事件的时间戳是该事件所需的增量操作完成后，进程向量时钟的值。对于一个更新事件，此值即为其向量时间戳，记为 $C(u_k)$。\n\n**任务 1：计算向量时间戳**\n\n我们根据提供的日志跟踪每个进程的事件。\n\n**进程 $P_1$**：\n初始状态：$V_1 = (0,0,0)$。\n1.  **事件 $e_1$ (本地更新 $u_1$)**：$P_1$ 增加其自身时钟分量的值。\n    $V_1 \\rightarrow (0+1, 0, 0) = (1,0,0)$。\n    此更新的时间戳为 $C(u_1) = (1,0,0)$。\n2.  **事件 $e_2$ (向 $P_2$ 发送消息 $m_1$)**：这是一个发送事件，因此 $P_1$ 增加其时钟分量的值。\n    $V_1 \\rightarrow (1+1, 0, 0) = (2,0,0)$。\n    消息 $m_1$ 以时间戳 $V(m_1)=(2,0,0)$ 发送。\n3.  **事件 $e_3$ (本地更新 $u_2$)**：$P_1$ 增加其自身时钟分量的值。\n    $V_1 \\rightarrow (2+1, 0, 0) = (3,0,0)$。\n    此更新的时间戳为 $C(u_2) = (3,0,0)$。\n4.  **事件 $e_4$ (向 $P_3$ 发送消息 $m_3$)**：这是一个发送事件，因此 $P_1$ 增加其时钟分量的值。\n    $V_1 \\rightarrow (3+1, 0, 0) = (4,0,0)$。\n    消息 $m_3$ 以时间戳 $V(m_3)=(4,0,0)$ 发送。\n\n**进程 $P_2$**：\n初始状态：$V_2 = (0,0,0)$。\n1.  **事件 $f_1$ (本地更新 $u_3$)**：$P_2$ 增加其自身时钟分量的值。\n    $V_2 \\rightarrow (0, 0+1, 0) = (0,1,0)$。\n    此更新的时间戳为 $C(u_3) = (0,1,0)$。\n2.  **事件 $f_2$ (从 $P_1$ 接收 $m_1$)**：$P_2$ 收到带有时间戳 $V(m_1)=(2,0,0)$ 的消息 $m_1$。\n    - 首先，合并：$V_2 \\leftarrow \\max(V_2, V(m_1)) = \\max((0,1,0), (2,0,0)) = (2,1,0)$。\n    - 其次，增加：$V_2 \\rightarrow (2, 1+1, 0) = (2,2,0)$。\n3.  **事件 $f_3$ (向 $P_3$ 发送消息 $m_2$)**：这是一个发送事件，因此 $P_2$ 增加其时钟分量的值。\n    $V_2 \\rightarrow (2, 2+1, 0) = (2,3,0)$。\n    消息 $m_2$ 以时间戳 $V(m_2)=(2,3,0)$ 发送。\n4.  **事件 $f_4$ (本地更新 $u_4$)**：$P_2$ 增加其自身时钟分量的值。\n    $V_2 \\rightarrow (2, 3+1, 0) = (2,4,0)$。\n    此更新的时间戳为 $C(u_4) = (2,4,0)$。\n\n**进程 $P_3$**：\n初始状态：$V_3 = (0,0,0)$。\n1.  **事件 $g_1$ (从 $P_2$ 接收 $m_2$)**：$P_3$ 收到带有时间戳 $V(m_2)=(2,3,0)$ 的消息 $m_2$。\n    - 首先，合并：$V_3 \\leftarrow \\max(V_3, V(m_2)) = \\max((0,0,0), (2,3,0)) = (2,3,0)$。\n    - 其次，增加：$V_3 \\rightarrow (2, 3, 0+1) = (2,3,1)$。\n2.  **事件 $g_2$ (本地更新 $u_5$)**：$P_3$ 增加其自身时钟分量的值。\n    $V_3 \\rightarrow (2, 3, 1+1) = (2,3,2)$。\n    此更新的时间戳为 $C(u_5) = (2,3,2)$。\n3.  **事件 $g_3$ (从 $P_1$ 接收 $m_3$)**：$P_3$ 收到带有时间戳 $V(m_3)=(4,0,0)$ 的消息 $m_3$。\n    - 首先，合并：$V_3 \\leftarrow \\max(V_3, V(m_3)) = \\max((2,3,2), (4,0,0)) = (4,3,2)$。\n    - 其次，增加：$V_3 \\rightarrow (4, 3, 2+1) = (4,3,3)$。\n4.  **事件 $g_4$ (本地更新 $u_6$)**：$P_3$ 增加其自身时钟分量的值。\n    $V_3 \\rightarrow (4, 3, 3+1) = (4,3,4)$。\n    此更新的时间戳为 $C(u_6) = (4,3,4)$。\n\n这些更新的向量时间戳是：\n- $C(u_1) = (1,0,0)$\n- $C(u_2) = (3,0,0)$\n- $C(u_3) = (0,1,0)$\n- $C(u_4) = (2,4,0)$\n- $C(u_5) = (2,3,2)$\n- $C(u_6) = (4,3,4)$\n\n**任务 2：因果关系与并发性**\n\n“先行发生”关系 ($a \\rightarrow b$) 成立当且仅当 $a$ 的向量时钟严格小于 $b$ 的向量时钟 ($C(a)  C(b)$)。如果既不满足 $C(a) \\le C(b)$ 也不满足 $C(b) \\le C(a)$，则两个事件 $a$ 和 $b$ 是并发的 ($a \\parallel b$)。例如，$u_1 \\rightarrow u_2$ 因为 $C(u_1)=(1,0,0)  C(u_2)=(3,0,0)$。同样，$u_3 \\rightarrow u_5$ 因为 $C(u_3)=(0,1,0)  C(u_5)=(2,3,2)$。相反，$u_2$ 和 $u_5$ 是并发的 ($u_2 \\parallel u_5$)，因为 $C(u_2)=(3,0,0)$ 和 $C(u_5)=(2,3,2)$ 是不可比较的。\n\n**任务 3：确定性合并顺序**\n\n为了找到合并顺序，我们使用字典序比较，根据更新的向量时间戳对其进行排序。顺序通过从左到右比较向量分量来确定。\n\n更新及其时间戳的列表如下：\n1.  $u_1$: $(1,0,0)$\n2.  $u_2$: $(3,0,0)$\n3.  $u_3$: $(0,1,0)$\n4.  $u_4$: $(2,4,0)$\n5.  $u_5$: $(2,3,2)$\n6.  $u_6$: $(4,3,4)$\n\n按字典序排序这些更新：\n1.  $(0,1,0) \\implies u_3$\n2.  $(1,0,0) \\implies u_1$\n3.  $(2,3,2) \\implies u_5$ (因为 $3  4$，所以 $(2,3,2)$ 在 $(2,4,0)$ 之前)\n4.  $(2,4,0) \\implies u_4$\n5.  $(3,0,0) \\implies u_2$\n6.  $(4,3,4) \\implies u_6$\n\n所有时间戳都是唯一的，因此不需要使用打破平局的规则。确定的合并顺序是 $u_3, u_1, u_5, u_4, u_2, u_6$。\n这个顺序保证是一个与部分因果序一致的全序（即，它是“先行发生”关系的拓扑排序）。\n\n问题要求将答案表示为索引 $\\{1,2,3,4,5,6\\}$ 的一个排列。排序后的更新序列对应的索引序列是：$3, 1, 5, 4, 2, 6$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n3  1  5  4  2  6\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "有效的时钟管理不仅需要对时钟间的静态偏移进行建模，还需要考虑它们的动态行为，主要是频率漂移。本练习从简单的偏移校正转向时钟漂移 $\\alpha$ 的估计，该参数描述了两个时钟发散的速度。您将使用一个标准的线性模型和统计估计原理，来确定达到所需精度所需的最小观测时间 $\\Delta t$，这是设计稳健、长期计时系统的一项实用技能。",
            "id": "4207927",
            "problem": "分布式信息物理系统（CPS）中授时子系统的数字孪生（DT）必须与其物理对应物保持一致的逻辑时间。物理振荡器存在一个未知的无量纲小数频率漂移 $\\alpha$，数字孪生通过在相隔 $\\Delta t$ 测量间隔的两个时刻获取带时间戳的时钟偏移测量值来估计 $\\alpha$。在时间 $t$ 的可观测时钟偏移模型为 $y(t) = \\beta + \\alpha t + \\varepsilon(t)$，其中 $\\beta$ 是一个未知的偏移量，$\\varepsilon(t)$ 是标准差为 $\\sigma$ 的零均值白噪声测量噪声。假设两次偏移测量在时间 $t_{0} = 0$ 和 $t_{1} = \\Delta t$ 进行，并且 $\\varepsilon(t_{0})$ 和 $\\varepsilon(t_{1})$ 是独立同分布的，其标准差为 $\\sigma = 100\\,\\mathrm{ns}$。数字孪生仅基于这两次测量使用一个无偏估计器来估计 $\\alpha$，并要求 $\\alpha$ 估计值的单标准差不确定度不超过百万分之 0.1，这可解释为一个 $1 \\times 10^{-7}$ 的小数阈值。\n\n从观测模型和白噪声线性估计的基本性质出发，确定保证漂移估计的标准差至多为 $1 \\times 10^{-7}$ 的最小测量间隔 $\\Delta t$。请用秒表示最终的 $\\Delta t$，并将答案四舍五入到四位有效数字。",
            "solution": "首先验证问题陈述，以确保其科学上合理、适定且客观。\n\n**第 1 步：提取已知条件**\n-   可观测时钟偏移模型：$y(t) = \\beta + \\alpha t + \\varepsilon(t)$。\n-   $\\alpha$：未知小数频率漂移（无量纲）。\n-   $\\beta$：未知恒定时间偏移。\n-   $\\varepsilon(t)$：零均值白噪声测量噪声，$E[\\varepsilon(t)] = 0$。\n-   $\\sigma$：测量噪声 $\\varepsilon(t)$ 的标准差。\n-   噪声项 $\\varepsilon(t_0)$ 和 $\\varepsilon(t_1)$ 是独立同分布的。\n-   噪声标准差的数值：$\\sigma = 100\\,\\mathrm{ns}$。\n-   测量时间：$t_0 = 0$ 和 $t_1 = \\Delta t$。\n-   $\\alpha$ 的估计器必须是无偏的，并且仅基于 $t_0$ 和 $t_1$ 的两次测量。\n-   不确定度约束：$\\alpha$ 估计的单标准差不确定度（记为 $\\sigma_{\\hat{\\alpha}}$）不得超过百万分之 0.1，这被给定为一个 $1 \\times 10^{-7}$ 的小数阈值。因此，$\\sigma_{\\hat{\\alpha}} \\le 1 \\times 10^{-7}$。\n-   目标：找到满足不确定度约束的最小测量间隔 $\\Delta t$。\n-   最终答案要求：用秒表示 $\\Delta t$，并四舍五入到四位有效数字。\n\n**第 2 步：使用提取的已知条件进行验证**\n该问题在科学上是合理的，因为时钟偏移的线性模型 $y(t) = \\beta + \\alpha t + \\varepsilon(t)$ 是授时和频率控制系统中的一个标准基本模型。使用线性估计原理从含噪声的测量中确定参数不确定度的任务，是统计学和工程学中一个公认的问题。该问题是适定的；它提供了足够的信息（一个模型、两次测量、噪声特性和一个约束）来确定测量间隔 $\\Delta t$ 的唯一最小值。语言客观而精确。给定的数值对于高性能信息物理系统是物理上现实的。该问题不是不完整的、矛盾的或不适定的。\n\n**结论**\n问题有效。将推导解答。\n\n**解答推导**\n时钟偏移的模型由 $y(t) = \\beta + \\alpha t + \\varepsilon(t)$ 给出。我们在时间 $t_0 = 0$ 和 $t_1 = \\Delta t$ 进行两次测量。\n在 $t_0 = 0$ 的第一次测量 $y_0$ 为：\n$$y_0 = y(0) = \\beta + \\alpha(0) + \\varepsilon(0) = \\beta + \\varepsilon_0$$\n在 $t_1 = \\Delta t$ 的第二次测量 $y_1$ 为：\n$$y_1 = y(\\Delta t) = \\beta + \\alpha \\Delta t + \\varepsilon(\\Delta t) = \\beta + \\alpha \\Delta t + \\varepsilon_1$$\n这里，$\\varepsilon_0$ 和 $\\varepsilon_1$ 是在时间 $t_0$ 和 $t_1$ 的噪声具体实例。根据问题陈述，我们知道它们是均值为 $0$、方差为 $\\sigma^2$ 的独立随机变量。\n$$E[\\varepsilon_0] = E[\\varepsilon_1] = 0$$\n$$\\mathrm{Var}(\\varepsilon_0) = \\mathrm{Var}(\\varepsilon_1) = \\sigma^2$$\n$$\\mathrm{Cov}(\\varepsilon_0, \\varepsilon_1) = 0$$\n\n我们需要基于 $y_0$ 和 $y_1$ 找到一个 $\\alpha$ 的无偏估计器，记为 $\\hat{\\alpha}$。由于模型对于参数 $\\alpha$ 和 $\\beta$ 是线性的，我们可以构建一个线性估计器。估计斜率 $\\alpha$ 的最直接方法是根据两个测量点 $(t_0, y_0)$ 和 $(t_1, y_1)$ 计算斜率：\n$$\\hat{\\alpha} = \\frac{y_1 - y_0}{t_1 - t_0} = \\frac{y_1 - y_0}{\\Delta t - 0} = \\frac{y_1 - y_0}{\\Delta t}$$\n我们必须验证该估计器是无偏的，即其期望值等于参数的真值，即 $E[\\hat{\\alpha}] = \\alpha$。\n测量的期望值为：\n$$E[y_0] = E[\\beta + \\varepsilon_0] = E[\\beta] + E[\\varepsilon_0] = \\beta + 0 = \\beta$$\n$$E[y_1] = E[\\beta + \\alpha \\Delta t + \\varepsilon_1] = E[\\beta] + E[\\alpha \\Delta t] + E[\\varepsilon_1] = \\beta + \\alpha \\Delta t + 0 = \\beta + \\alpha \\Delta t$$\n现在，我们计算估计器 $\\hat{\\alpha}$ 的期望值：\n$$E[\\hat{\\alpha}] = E\\left[\\frac{y_1 - y_0}{\\Delta t}\\right] = \\frac{E[y_1] - E[y_0]}{\\Delta t} = \\frac{(\\beta + \\alpha \\Delta t) - \\beta}{\\Delta t} = \\frac{\\alpha \\Delta t}{\\Delta t} = \\alpha$$\n该估计器确实是无偏的。\n\n接下来，我们必须确定此估计器的方差 $\\mathrm{Var}(\\hat{\\alpha})$，因为它的平方根就是我们需要约束的标准差（不确定度）。\n$$\\mathrm{Var}(\\hat{\\alpha}) = \\mathrm{Var}\\left(\\frac{y_1 - y_0}{\\Delta t}\\right)$$\n使用常数 $c$ 的性质 $\\mathrm{Var}(cX) = c^2 \\mathrm{Var}(X)$，我们得到：\n$$\\mathrm{Var}(\\hat{\\alpha}) = \\frac{1}{(\\Delta t)^2} \\mathrm{Var}(y_1 - y_0)$$\n让我们用噪声分量表示 $y_1 - y_0$：\n$$y_1 - y_0 = (\\beta + \\alpha \\Delta t + \\varepsilon_1) - (\\beta + \\varepsilon_0) = \\alpha \\Delta t + \\varepsilon_1 - \\varepsilon_0$$\n方差为：\n$$\\mathrm{Var}(y_1 - y_0) = \\mathrm{Var}(\\alpha \\Delta t + \\varepsilon_1 - \\varepsilon_0)$$\n由于 $\\alpha \\Delta t$ 是一个常数项，它对方差没有贡献。\n$$\\mathrm{Var}(y_1 - y_0) = \\mathrm{Var}(\\varepsilon_1 - \\varepsilon_0)$$\n因为 $\\varepsilon_0$ 和 $\\varepsilon_1$ 是独立的，它们差的方差等于它们方差的和：\n$$\\mathrm{Var}(\\varepsilon_1 - \\varepsilon_0) = \\mathrm{Var}(\\varepsilon_1) + \\mathrm{Var}(-\\varepsilon_0) = \\mathrm{Var}(\\varepsilon_1) + (-1)^2 \\mathrm{Var}(\\varepsilon_0) = \\sigma^2 + \\sigma^2 = 2\\sigma^2$$\n将此代回 $\\mathrm{Var}(\\hat{\\alpha})$ 的表达式中：\n$$\\mathrm{Var}(\\hat{\\alpha}) = \\frac{2\\sigma^2}{(\\Delta t)^2}$$\n估计的单标准差不确定度 $\\sigma_{\\hat{\\alpha}}$ 是方差的平方根：\n$$\\sigma_{\\hat{\\alpha}} = \\sqrt{\\mathrm{Var}(\\hat{\\alpha})} = \\sqrt{\\frac{2\\sigma^2}{(\\Delta t)^2}} = \\frac{\\sqrt{2}\\sigma}{|\\Delta t|}$$\n由于 $\\Delta t$ 表示时间间隔，它是正数，所以 $|\\Delta t| = \\Delta t$。\n$$\\sigma_{\\hat{\\alpha}} = \\frac{\\sqrt{2}\\sigma}{\\Delta t}$$\n问题要求这个不确定度不大于 $1 \\times 10^{-7}$：\n$$\\sigma_{\\hat{\\alpha}} \\le 1 \\times 10^{-7}$$\n$$\\frac{\\sqrt{2}\\sigma}{\\Delta t} \\le 1 \\times 10^{-7}$$\n为了找到满足此条件的最小测量间隔 $\\Delta t$，我们求解 $\\Delta t$：\n$$\\Delta t \\ge \\frac{\\sqrt{2}\\sigma}{1 \\times 10^{-7}}$$\n最小值 $\\Delta t_{min}$ 在等式成立时出现：\n$$\\Delta t_{min} = \\frac{\\sqrt{2}\\sigma}{1 \\times 10^{-7}}$$\n现在，我们代入给定的 $\\sigma$ 数值。使用一致的单位至关重要。$\\Delta t$ 的期望单位是秒。\n给定 $\\sigma = 100\\,\\mathrm{ns}$。我们将其转换为秒：\n$$\\sigma = 100 \\times 10^{-9}\\,\\mathrm{s} = 1 \\times 10^{-7}\\,\\mathrm{s}$$\n将此代入 $\\Delta t_{min}$ 的方程中：\n$$\\Delta t_{min} = \\frac{\\sqrt{2} \\times (1 \\times 10^{-7}\\,\\mathrm{s})}{1 \\times 10^{-7}} = \\sqrt{2}\\,\\mathrm{s}$$\n问题要求最终答案四舍五入到四位有效数字。\n$\\sqrt{2}$ 的值约等于 $1.41421356...$\n四舍五入到四位有效数字，我们得到 $1.414$。\n因此，最小测量间隔为 $1.414$ 秒。",
            "answer": "$$\\boxed{1.414}$$"
        }
    ]
}