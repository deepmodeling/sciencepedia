{
    "hands_on_practices": [
        {
            "introduction": "第一个练习将带领我们了解数据封装的基本过程。我们将追踪一条来自信息物理系统的遥测数据，看它如何沿着网络协议栈向下传递，并在每一层添加协议头。通过计算总开销，您将具体理解网络带宽中有多少用于控制信息，又有多少用于实际的应用数据，这在设计高效的网络化系统中是至关重要的考量因素 。",
            "id": "4209765",
            "problem": "一个信息物理生产系统将其工厂的状态遥测数据流式传输到一个监控数字孪生体。该遥测数据以用户数据报协议（UDP）数据报的形式定期发出，应用层载荷为 $256$ 字节，周期为 $2$ 毫秒。该系统在局域网上通过以太网使用互联网协议第 $4$ 版（IPv4），最大传输单元（MTU）为 $1500$ 字节。假设采用以太网版本 $2$ 帧格式，无虚拟局域网（VLAN）标签，无 IPv4 选项。对于此环境，使用以下经过充分验证的事实：\n- UDP 报头为 $8$ 字节。\n- IPv4 报头（无选项）为 $20$ 字节。\n- 以太网媒体访问控制（MAC）报头为 $14$ 字节，以太网帧检验序列（FCS）帧尾为 $4$ 字节。\n- 在物理层，以太网在每帧之前传输一个 $8$ 字节的前同步码加起始帧分界符，并在每帧之后强制执行一个 $12$ 字节时间的帧间间隙。\n\n从开放系统互连（OSI）分层定义和给定的报头大小出发，推导每个数据包的总非应用层在线开销，并用它来：\n1. 计算协议开销，其形式为小数 $f$，定义为 $f = \\dfrac{\\text{每个数据包的非应用层字节数}}{\\text{每个数据包的总在线字节数}}$，其中“非应用层字节”包括传输层、网络层、数据链路层的报头和帧尾，以及物理层的前同步码和帧间间隙。\n2. 根据 $2$ 毫秒的周期性，计算传输到数字孪生体的应用层载荷的有效吞吐量，单位为兆比特每秒（Mb/s）。\n\n以小数形式报告协议开销，以 Mb/s 为单位报告有效吞吐量。将两个量均四舍五入至四位有效数字。吞吐量以 Mb/s 表示，开销以无单位的小数表示。确认在给定的 MTU 下是否会发生分片，并将此判断纳入您的推导过程，不要使用任何快捷公式。",
            "solution": "该问题具有科学依据，提法明确，并包含足够的信息以获得唯一解。我们开始进行推导。\n\n求解过程需要计算单个应用层载荷在物理介质上传输的数据总大小，然后用它来计算开销分数和有效吞吐量。我们遵循从应用层到物理层的数据封装过程，这与开放系统互连（OSI）模型一致。\n\n给定的参数如下：\n- 应用层载荷大小, $L_{app} = 256$ 字节。\n- 数据报之间的时间周期, $T = 2$ 毫秒 = $2 \\times 10^{-3}$ s。\n- 最大传输单元, $MTU = 1500$ 字节。\n- 用户数据报协议 (UDP) 报头大小, $H_{UDP} = 8$ 字节。\n- 互联网协议第 $4$ 版 (IPv4) 报头大小, $H_{IPv4} = 20$ 字节。\n- 以太网媒体访问控制 (MAC) 报头大小, $H_{Eth} = 14$ 字节。\n- 以太网帧检验序列 (FCS) 帧尾大小, $T_{Eth} = 4$ 字节。\n- 以太网前同步码 + 起始帧分界符 (SFD) 大小, $P_{Eth} = 8$ 字节。\n- 以太网帧间间隙 (IFG) 大小, $IFG = 12$ 字节时间。\n\n首先，我们必须确定是否会发生 IP 分片。$MTU$ 定义了数据链路层帧的载荷的最大大小。在本例中，它指的是可以封装在以太网帧内的 IP 数据包的最大大小。\n\n1.  在传输层（OSI 第 $4$ 层），应用层载荷被封装在 UDP 数据报中。UDP 数据报的大小是其报头和应用层载荷之和。\n    $$L_{UDP\\_datagram} = H_{UDP} + L_{app} = 8 \\text{ 字节} + 256 \\text{ 字节} = 264 \\text{ 字节}$$\n\n2.  在网络层（OSI 第 $3$ 层），UDP 数据报成为 IPv4 数据包的载荷。IPv4 数据包的大小是其报头和其载荷（UDP 数据报）之和。\n    $$L_{IP\\_packet} = H_{IPv4} + L_{UDP\\_datagram} = 20 \\text{ 字节} + 264 \\text{ 字节} = 284 \\text{ 字节}$$\n\n3.  网络的 $MTU$ 给定为 $1500$ 字节。我们将 IP 数据包的总大小与 $MTU$ 进行比较：\n    $$L_{IP\\_packet} = 284 \\text{ 字节}  1500 \\text{ 字节} = MTU$$\n    由于 IP 数据包的大小小于 $MTU$，因此不需要分片。整个 IP 数据包将被封装在单个以太网帧中。\n\n现在，我们可以计算每个数据包在线路上实际传输的总字节数。这包括以太网帧本身和物理层的开销。\n\n4.  在数据链路层（OSI 第 $2$ 层），IP 数据包被封装在以太网帧中。该帧由一个报头、IP 数据包载荷和一个帧尾组成。\n    $$L_{Ethernet\\_frame} = H_{Eth} + L_{IP\\_packet} + T_{Eth} = 14 \\text{ 字节} + 284 \\text{ 字节} + 4 \\text{ 字节} = 302 \\text{ 字节}$$\n\n5.  在物理层（OSI 第 $1$ 层），会为信令和时序添加额外的字节。这些是带有 SFD 的前同步码和帧间间隙。问题要求计算“每个数据包的总在线字节数”，这代表了传输一个数据包所消耗的总信道资源。\n    $$L_{total} = P_{Eth} + L_{Ethernet\\_frame} + IFG$$\n    $$L_{total} = 8 \\text{ 字节} + 302 \\text{ 字节} + 12 \\text{ 字节时间} = 322 \\text{ 字节}$$\n    $IFG$ 以“字节时间”给出，在此计算中，就信道占用而言，它等同于字节。\n\n确定了总在线大小后，我们就可以求解所需的两个量。\n\n**1. 协议开销分数 ($f$)**\n\n协议开销分数 $f$ 定义为非应用层字节数与总在线字节数之比。\n非应用层字节 $L_{non-app}$ 是总字节数减去原始应用层载荷。\n$$L_{non-app} = L_{total} - L_{app} = 322 \\text{ 字节} - 256 \\text{ 字节} = 66 \\text{ 字节}$$\n或者，我们可以将所有协议报头、帧尾和物理层开销的大小相加：\n$$L_{non-app} = H_{UDP} + H_{IPv4} + H_{Eth} + T_{Eth} + P_{Eth} + IFG$$\n$$L_{non-app} = 8 + 20 + 14 + 4 + 8 + 12 = 66 \\text{ 字节}$$\n那么分数 $f$ 为：\n$$f = \\frac{L_{non-app}}{L_{total}} = \\frac{66}{322} \\approx 0.2049689...$$\n四舍五入到四位有效数字，我们得到：\n$$f \\approx 0.2050$$\n\n**2. 有效应用层载荷吞吐量**\n\n有效吞吐量仅涉及传输到数字孪生体的应用层载荷数据。每 $T = 2$ 毫秒传输一个 $L_{app} = 256$ 字节的载荷。\n\n首先，我们将载荷大小从字节转换为比特：\n$$L_{app, bits} = L_{app} \\times 8 \\frac{\\text{比特}}{\\text{字节}} = 256 \\text{ 字节} \\times 8 \\frac{\\text{比特}}{\\text{字节}} = 2048 \\text{ 比特}$$\n有效吞吐量 $R_{eff}$ 是单位时间内传输的应用层比特数。\n$$R_{eff} = \\frac{L_{app, bits}}{T} = \\frac{2048 \\text{ 比特}}{2 \\times 10^{-3} \\text{ s}} = 1\\,024\\,000 \\text{ bits/s}$$\n问题要求答案以兆比特每秒（Mb/s）为单位，其中 $1$ Mb/s = $10^6$ bits/s。\n$$R_{eff} = \\frac{1\\,024\\,000 \\text{ bits/s}}{10^6 \\text{ bits/Mb}} = 1.024 \\text{ Mb/s}$$\n四舍五入到四位有效数字，这变为：\n$$R_{eff} = 1.0240 \\text{ Mb/s}$$\n\n最终的两个结果是协议开销分数 $f$ 和有效吞吐量 $R_{eff}$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.2050  1.0240\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "在理解了单个数据包的构造之后，我们现在转向它如何在网络中导航。本练习通过使用最长前缀匹配 (LPM) 规则，模拟了IP路由器的核心决策过程。通过在一个假设的工厂网络中为各种目的地址手动确定转发路径，您将掌握无类域间路由 (CIDR) 的地址表示原则以及支撑所有IP路由的分层逻辑 。",
            "id": "4209772",
            "problem": "在一个信息物理生产工厂中，一个分布路由器互连了三个运营技术子网和两个外部网络段。该工厂的数字孪生在网络层复制路由行为，以评估在互联网协议第四版（IPv4）下的故障切换策略。仅使用以下基本原则：无类域间路由（CIDR）前缀作为$32$位IPv4地址上的位掩码的定义，通过前缀成员关系定义网络可达性，以及最长前缀匹配（LPM）规则，该规则根据匹配的具有最长前缀长度的路由进行转发。\n\n三个工厂子网本地连接到三个不同的路由器接口：\n- 子网 $S_A$: $\\text{10.0.16.0}/21$ 于接口 $I_A$。\n- 子网 $S_B$: $\\text{10.0.24.0}/21$ 于接口 $I_B$。\n- 子网 $S_C$: $\\text{10.0.32.0}/20$ 于接口 $I_C$。\n\n该路由器还安装了以下路由和接口：\n- 非军事区（DMZ）: $\\text{172.20.0.0}/16$ 于接口 $I_{\\text{DMZ}}$。\n- 朝向核心的工厂汇总（路由）: $\\text{10.0.0.0}/8$ 于接口 $I_{\\text{Core}}$。\n- 到广域网（WAN）的默认路由: $\\text{0.0.0.0}/0$ 于接口 $I_{\\text{WAN}}$。\n\n任务1（为导出进行聚合）：仅使用CIDR原则和按位前缀对齐，确定可由$S_A$、$S_B$和$S_C$的并集形成的、且不包含这三个子网之外任何地址的聚合CIDR前缀的最小精确覆盖集。您对此任务的回答应逻辑上论证$S_A$、$S_B$和$S_C$中的任何一个是否以及如何可以在保持精确覆盖的同时聚合成超网。\n\n任务2（按LPM转发）：考虑以下需要由路由器的转发表（FIB）查找的目标地址：\n- $d_1 = \\text{10.0.17.5}$,\n- $d_2 = \\text{10.0.30.1}$,\n- $d_3 = \\text{10.0.200.1}$,\n- $d_4 = \\text{172.20.10.10}$,\n- $d_5 = \\text{10.0.36.9}$,\n- $d_6 = \\text{8.8.8.8}$.\n对于每个$d_k$，根据上面列出的所有已安装路由，确定路由器在LPM规则下选择的出接口。\n\n最终编码（单一数值答案）：通过以下定义的函数$g$将为每个$d_k$选择的接口映射到一个代码\n$$\ng(I_A)=2,\\quad g(I_B)=3,\\quad g(I_C)=5,\\quad g(I_{\\text{DMZ}})=7,\\quad g(I_{\\text{Core}})=11,\\quad g(I_{\\text{WAN}})=13.\n$$\n计算单一标量\n$$\nK \\;=\\; \\sum_{k=1}^{6} k \\cdot g\\big(\\text{为 } d_k \\text{ 选择的接口}\\big).\n$$\n以无单位的十进制整数形式报告$K$。不允许进行四舍五入。最终答案必须是这个单一整数。",
            "solution": "问题陈述已经过验证，被认为是科学上合理的、定义明确的且客观的。它基于计算机网络的既定原则，特别是IPv4寻址、无类域间路由（CIDR）和最长前缀匹配（LPM）转发规则。所提供的数据是完整的、一致的，并允许一个唯一的、可验证的解决方案。\n\n解决方案分为三个部分：首先，子网聚合分析（任务1）；其次，确定给定目标地址的转发路径（任务2）；第三，计算最终的标量值$K$。\n\n### 任务1：CIDR前缀聚合\n\n目标是找到能够为子网$S_A$、$S_B$和$S_C$的并集提供精确覆盖，且不包含任何额外地址的最小CIDR前缀集。这些子网是：\n- $S_A$: $\\text{10.0.16.0}/21$\n- $S_B$: $\\text{10.0.24.0}/21$\n- $S_C$: $\\text{10.0.32.0}/20$\n\n为了分析聚合的可能性，我们必须检查网络前缀的二进制表示，重点关注地址不同的第三个八位字节。一个IPv4地址是一个$32$位的数字。前缀长度为$/n$意味着该子网中所有地址的前$n$位是固定的。\n\n1.  **分析 $S_A$ 和 $S_B$：**\n    - 子网 $S_A = \\text{10.0.16.0}/21$。前缀长度为$21$意味着前$21$位是固定的。前两个八位字节（$16$位）是`00001010.00000000`。网络地址的第三个八位字节是$16 = 00010000_2$。该八位字节的前$21-16=5$位是前缀的一部分：`00010`。$S_A$的地址范围是从$\\text{10.0.16.0}$到$\\text{10.0.23.255}$。\n    - 子网 $S_B = \\text{10.0.24.0}/21$。网络地址的第三个八位字节是$24 = 00011000_2$。该八位字节的前$5$位是`00011`。$S_B$的地址范围是从$\\text{10.0.24.0}$到$\\text{10.0.31.255}$。\n\n    $S_A$和$S_B$到第$21$位的二进制前缀是：\n    - $S_A$: `00001010.00000000.00010`\n    - $S_B$: `00001010.00000000.00011`\n\n    前$20$位是相同的（`00001010.00000000.0001`）。第$21$位对于$S_A$是$0$，对于$S_B$是$1$。这是两个相邻的$/21$块（或“伙伴块”）可以聚合成一个$/20$块的条件。产生的聚合前缀是通过取共同的$20$位前缀形成的，这对应于网络地址$\\text{10.0.16.0}$。\n    聚合后的子网，我们称之为$S_{AB}$，是$\\text{10.0.16.0}/20$。这个块覆盖了从$\\text{10.0.16.0}$到$\\text{10.0.31.255}$的IP地址范围，这正是$S_A$和$S_B$地址范围的并集。\n\n2.  **分析 $S_{AB}$ 和 $S_C$：**\n    - 我们现在有两个块：聚合块$S_{AB} = \\text{10.0.16.0}/20$和原始块$S_C = \\text{10.0.32.0}/20$。\n    - $S_C$的地址范围是从$\\text{10.0.32.0}$到$\\text{10.0.47.255}$。\n    - 需要覆盖的总地址空间是$S_{AB}$和$S_C$的并集，对应于从$\\text{10.0.16.0}$到$\\text{10.0.47.255}$的连续范围。\n\n    为了确定这两个$/20$块是否可以进一步聚合成一个单一的块，我们检查它们的二进制前缀。\n    - $S_{AB}$网络地址: $\\text{10.0.16.0} \\rightarrow 00001010.00000000.00010000.00000000$\n    - $S_C$网络地址: $\\text{10.0.32.0} \\rightarrow 00001010.00000000.00100000.00000000$\n\n    共同前缀是`00001010.00000000.00...`，长度为$18$位。一个单一的聚合必须是一个$/18$前缀：$\\text{10.0.0.0}/18$。然而，这个前缀覆盖了从$\\text{10.0.0.0}$到$\\text{10.0.63.255}$的范围，这比所需范围大得多，因此不是一个精确的覆盖。\n\n    另外，一个CIDR块的大小必须是$2$的幂，并且在该大小的边界上对齐。总范围$[\\text{10.0.16.0}, \\text{10.0.47.255}]$包含$2 \\times 2^{32-20} = 2 \\times 2^{12} = 2^{13}$个地址，这对应于一个$/19$前缀的大小。然而，一个$/19$块的起始地址的最后$13$位必须为零。起始地址$\\text{10.0.16.0}$的二进制表示为`00001010.00000000.00010000.00000000`。最后$13$位是`10000.00000000`，它们不全为零。因此，这个范围不能用单个CIDR前缀表示。\n\n    精确覆盖$S_A$、$S_B$和$S_C$并集的最小聚合前缀集是$\\{\\text{10.0.16.0}/20, \\text{10.0.32.0}/20\\}$。\n\n### 任务2：按最长前缀匹配（LPM）转发\n\n路由器的转发表（FIB）由以下路由组成：\n1.  $\\text{10.0.16.0}/21 \\rightarrow I_A$ (前缀长度 $L=21$)\n2.  $\\text{10.0.24.0}/21 \\rightarrow I_B$ (前缀长度 $L=21$)\n3.  $\\text{10.0.32.0}/20 \\rightarrow I_C$ (前缀长度 $L=20$)\n4.  $\\text{172.20.0.0}/16 \\rightarrow I_{\\text{DMZ}}$ (前缀长度 $L=16$)\n5.  $\\text{10.0.0.0}/8 \\rightarrow I_{\\text{Core}}$ (前缀长度 $L=8$)\n6.  $\\text{0.0.0.0}/0 \\rightarrow I_{\\text{WAN}}$ (前缀长度 $L=0$)\n\n对于每个目标地址$d_k$，我们在FIB中找到所有匹配的前缀，并选择前缀长度（$L$）最大的那个。\n\n-   **对于 $d_1 = \\text{10.0.17.5}$**：\n    - 匹配$\\text{10.0.16.0}/21$ (范围 $\\text{10.0.16.0} - \\text{10.0.23.255}$), $L=21$。\n    - 匹配$\\text{10.0.0.0}/8$ (范围 $\\text{10.0.0.0} - \\text{10.255.255.255}$), $L=8$。\n    - 匹配$\\text{0.0.0.0}/0$ (所有地址), $L=0$。\n    - 最长匹配是$/21$。接口是$I_A$。\n\n-   **对于 $d_2 = \\text{10.0.30.1}$**：\n    - 匹配$\\text{10.0.24.0}/21$ (范围 $\\text{10.0.24.0} - \\text{10.0.31.255}$), $L=21$。\n    - 匹配$\\text{10.0.0.0}/8$, $L=8$。\n    - 匹配$\\text{0.0.0.0}/0$, $L=0$。\n    - 最长匹配是$/21$。接口是$I_B$。\n\n-   **对于 $d_3 = \\text{10.0.200.1}$**：\n    - 不匹配任何$/21$或$/20$前缀。\n    - 匹配$\\text{10.0.0.0}/8$, $L=8$。\n    - 匹配$\\text{0.0.0.0}/0$, $L=0$。\n    - 最长匹配是$/8$。接口是$I_{\\text{Core}}$。\n\n-   **对于 $d_4 = \\text{172.20.10.10}$**：\n    - 匹配$\\text{172.20.0.0}/16$ (范围 $\\text{172.20.0.0} - \\text{172.20.255.255}$), $L=16$。\n    - 匹配$\\text{0.0.0.0}/0$, $L=0$。\n    - 最长匹配是$/16$。接口是$I_{\\text{DMZ}}$。\n\n-   **对于 $d_5 = \\text{10.0.36.9}$**：\n    - 匹配$\\text{10.0.32.0}/20$ (范围 $\\text{10.0.32.0} - \\text{10.0.47.255}$), $L=20$。\n    - 匹配$\\text{10.0.0.0}/8$, $L=8$。\n    - 匹配$\\text{0.0.0.0}/0$, $L=0$。\n    - 最长匹配是$/20$。接口是$I_C$。\n\n-   **对于 $d_6 = \\text{8.8.8.8}$**：\n    - 除了默认路由外，不匹配任何前缀。\n    - 匹配$\\text{0.0.0.0}/0$, $L=0$。\n    - 最长匹配（唯一匹配）是$/0$。接口是$I_{\\text{WAN}}$。\n\n转发决策总结：\n- $d_1 \\rightarrow I_A$\n- $d_2 \\rightarrow I_B$\n- $d_3 \\rightarrow I_{\\text{Core}}$\n- $d_4 \\rightarrow I_{\\text{DMZ}}$\n- $d_5 \\rightarrow I_C$\n- $d_6 \\rightarrow I_{\\text{WAN}}$\n\n### 最终标量计算\n\n从接口到代码的映射由函数$g$给出：\n$g(I_A)=2$, $g(I_B)=3$, $g(I_C)=5$, $g(I_{\\text{DMZ}})=7$, $g(I_{\\text{Core}})=11$, $g(I_{\\text{WAN}})=13$。\n\n我们使用以下公式计算标量$K$：\n$$\nK = \\sum_{k=1}^{6} k \\cdot g\\big(\\text{为 } d_k \\text{ 选择的接口}\\big)\n$$\n\n代入任务2的值：\n$$\nK = (1 \\cdot g(I_A)) + (2 \\cdot g(I_B)) + (3 \\cdot g(I_{\\text{Core}})) + (4 \\cdot g(I_{\\text{DMZ}})) + (5 \\cdot g(I_C)) + (6 \\cdot g(I_{\\text{WAN}}))\n$$\n$$\nK = (1 \\cdot 2) + (2 \\cdot 3) + (3 \\cdot 11) + (4 \\cdot 7) + (5 \\cdot 5) + (6 \\cdot 13)\n$$\n$$\nK = 2 + 6 + 33 + 28 + 25 + 78\n$$\n$$\nK = 8 + 33 + 28 + 25 + 78\n$$\n$$\nK = 41 + 28 + 25 + 78\n$$\n$$\nK = 69 + 25 + 78\n$$\n$$\nK = 94 + 78\n$$\n$$\nK = 172\n$$\n\n最终的整数结果是$172$。",
            "answer": "$$\\boxed{172}$$"
        },
        {
            "introduction": "对于信息物理系统和数字孪生而言，数据仅仅到达是不够的，它必须准时且可靠地到达。最后一个练习通过要求您根据特定的性能合约来评估一个网络化控制回路，从而引入了服务质量 (QoS) 的关键概念。您将学习如何将延迟、抖动和丢包等底层网络指标与高层系统稳定性要求联系起来，量化评估网络的性能是否足以胜任其关键任务 。",
            "id": "4209777",
            "problem": "一个带有云托管数字孪生的信息物理系统，通过分层的互联网协议 (IP) 栈实现了一个周期性的网络控制回路。在应用层，控制器每个采样周期 $T_s$ 发送一条状态-动作消息。传输层使用用户数据报协议 (UDP)，因此没有重传。网络层和链路层提供尽力而为的转发，并带有服务质量 (QoS) 机制，可以在有优先级的情况下限制单向延迟和丢包。\n\n采用以下核心定义：\n- 标称单向网络延迟 $d$ 是确定性的基线传播和处理延迟。\n- 单向抖动上限 $j$ 是指随时间推移，延迟与标称单向延迟的最大偏差，因此最坏情况下的单向延迟为 $d + j$。\n- 每个数据包的丢包概率 $\\ell$ 在传输层上是独立同分布的，这是因为用户数据报协议 (UDP) 中缺少重传机制。\n- 双丢包事件是指连续两个控制数据包的丢失，在独立性假设下，其发生概率为 $\\ell^2$。\n\n控制性能合同规定了以下边界条件，以维持闭环新鲜度并避免多周期驱动间隙：\n1) 最坏情况下的单向延迟必须满足 $d + j \\le \\alpha T_s$，其中 $\\alpha = 0.8$。\n2) 双丢包的概率必须满足 $\\ell^2 \\le 10^{-6}$。\n\n将 QoS 充足度裕量 $M$ 定义为延迟-抖动约束和丢包约束的最小归一化松弛量：\n$$\nM \\triangleq \\min\\!\\left(\\frac{\\alpha T_s - (d + j)}{T_s},\\; \\frac{10^{-6} - \\ell^2}{10^{-6}}\\right).\n$$\n非负的 $M$ 表示所有约束都得到满足；严格为正的 $M$ 表示存在裕量；负的 $M$ 表示违规。\n\n给定 $T_s = 5 \\text{ ms}$，$d = 3 \\text{ ms}$，$j = 1 \\text{ ms}$，以及 $\\ell = 10^{-3}$，计算 $M$。然后，根据计算出的 $M$ 值，判断约束条件是否被满足，并定性地确定是否需要在网络层或链路层实施额外的 QoS 强制措施。\n\n将最终的 QoS 充足度裕量表示为一个无量纲的小数，并将您的答案四舍五入到四位有效数字。",
            "solution": "该问题要求计算并解释一个网络控制系统的服务质量 (QoS) 充足度裕量 $M$。该裕量被定义为两个性能约束（一个针对延迟和抖动，另一个针对丢包）的最小归一化松弛量。\n\n给定的参数如下：\n- 采样周期：$T_s = 5 \\text{ ms}$\n- 标称单向延迟：$d = 3 \\text{ ms}$\n- 单向抖动上限：$j = 1 \\text{ ms}$\n- 每个数据包的丢包概率：$\\ell = 10^{-3}$\n- 延迟约束缩放因子：$\\alpha = 0.8$\n\nQoS 充足度裕量 $M$ 由以下公式定义：\n$$\nM \\triangleq \\min\\!\\left(\\frac{\\alpha T_s - (d + j)}{T_s},\\; \\frac{10^{-6} - \\ell^2}{10^{-6}}\\right)\n$$\n$M$ 的非负值表示性能要求得到满足。\n\n我们将分别计算最小函数中的两项。\n\n首先，我们评估延迟-抖动约束的归一化松弛量，我们将其表示为 $M_{\\text{delay}}$：\n$$\nM_{\\text{delay}} = \\frac{\\alpha T_s - (d + j)}{T_s}\n$$\n最坏情况下的单向延迟是标称延迟和抖动上限之和：\n$$\nd + j = 3 \\text{ ms} + 1 \\text{ ms} = 4 \\text{ ms}\n$$\n延迟约束要求这个最坏情况下的延迟不超过采样周期的 $\\alpha$ 倍：\n$$\n\\alpha T_s = 0.8 \\times 5 \\text{ ms} = 4 \\text{ ms}\n$$\n延迟约束为 $d+j \\le \\alpha T_s$，即 $4 \\text{ ms} \\le 4 \\text{ ms}$。这个不等式成立。现在，我们计算归一化松弛量：\n$$\nM_{\\text{delay}} = \\frac{4 \\text{ ms} - 4 \\text{ ms}}{5 \\text{ ms}} = \\frac{0 \\text{ ms}}{5 \\text{ ms}} = 0\n$$\n\n其次，我们评估双丢包损失约束的归一化松弛量，我们将其表示为 $M_{\\text{loss}}$：\n$$\nM_{\\text{loss}} = \\frac{10^{-6} - \\ell^2}{10^{-6}}\n$$\n双丢包的概率由 $\\ell^2$ 给出。代入 $\\ell$ 的值：\n$$\n\\ell^2 = (10^{-3})^2 = 10^{-6}\n$$\n丢包约束为 $\\ell^2 \\le 10^{-6}$，即 $10^{-6} \\le 10^{-6}$。这个不等式也成立。现在，我们计算归一化松弛量：\n$$\nM_{\\text{loss}} = \\frac{10^{-6} - 10^{-6}}{10^{-6}} = \\frac{0}{10^{-6}} = 0\n$$\n\n最后，QoS 充足度裕量 $M$ 是这两个松弛量的最小值：\n$$\nM = \\min(M_{\\text{delay}}, M_{\\text{loss}}) = \\min(0, 0) = 0\n$$\n计算出的裕量值恰好为 $M=0$。\n\n根据问题的定义，非负的 $M$ 表示所有约束都得到满足。由于 $M=0$，系统的性能满足指定的合同要求。延迟-抖动约束和丢包约束都被精确满足，没有任何裕量。\n\n关于定性评估，$M=0$ 的值意味着系统正在其性能包络的临界边界上运行。虽然约束在技术上得到了满足，但系统对网络条件的任何恶化都没有恢复能力。延迟、抖动或丢包概率的微小增加都会将 $M$ 推向负值，表示违反合同。因此，尽管当前的 QoS 机制足以满足最低要求，但它们没有提供安全裕量。对于任务关键型信息物理系统来说，这种缺乏鲁棒性是一个重大风险。为了确保可靠和稳定的运行，强烈建议在网络层和/或链路层实施额外的或更严格的 QoS 强制措施，以创造一个正的性能裕量 ($M  0$)。\n\n问题要求将最终答案表示为无量纲的小数，并四舍五入到四位有效数字。确切值为 $0$。为了用四位有效数字表示，我们写作 $0.0000$。",
            "answer": "$$\\boxed{0.0000}$$"
        }
    ]
}