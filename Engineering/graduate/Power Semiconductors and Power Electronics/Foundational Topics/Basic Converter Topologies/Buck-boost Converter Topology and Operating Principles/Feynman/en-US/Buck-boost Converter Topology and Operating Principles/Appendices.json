{
    "hands_on_practices": [
        {
            "introduction": "This first practice is a foundational exercise in analyzing switched-mode power converters. By applying the principles of inductor volt-second and capacitor charge balance, you will calculate the inherent ripples in current and voltage, which are critical performance metrics in any converter design . This exercise reinforces the fundamental state-space averaging technique in the context of an ideal buck-boost converter operating in continuous conduction mode (CCM).",
            "id": "3825254",
            "problem": "A single-inductor, single-capacitor, inverting buck-boost direct current to direct current power stage operates with an ideal pulse-width modulation (PWM) switch and an ideal diode, an ideal inductor of inductance $L$, and an ideal capacitor of capacitance $C$, supplying an ideal resistive load of resistance $R$ from an ideal source of voltage $V_{g}$. The PWM duty ratio is $D$, and the switching frequency is $f_{s}$. Assume the converter operates in continuous conduction mode (CCM), the ripple in the output voltage is sufficiently small that the resistive load current may be treated as quasi-constant over each subinterval, and all semiconductor devices and passive components are ideal (no conduction drops, no parasitics, zero equivalent series resistance). Using only the fundamental inductor and capacitor relations and steady-state balance conditions, compute the steady-state peak-to-peak ripple of the inductor current $i_{L}$ and the output voltage $v_{o}$.\n\nUse the following parameter values: $L = 47\\,\\mu\\mathrm{H}$, $C = 220\\,\\mu\\mathrm{F}$, $V_{g} = 12\\,\\mathrm{V}$, $D = 0.6$, $R = 10\\,\\Omega$, and $f_{s} = 200\\,\\mathrm{kHz}$. Express the inductor current ripple in amperes and the output voltage ripple in volts. Round your answers to four significant figures.",
            "solution": "The problem as stated is valid. It is a standard exercise in power electronics analysis, scientifically grounded, well-posed, and contains a self-consistent set of parameters for operation in continuous conduction mode (CCM), as confirmed by preliminary calculations. All components are defined as ideal, and the objective is clear and formalizable. We may therefore proceed with the solution.\n\nThe analysis of the inverting buck-boost converter relies on the fundamental state-space equations for the inductor and the capacitor. The voltage across an inductor $L$ is related to the current $i_L$ flowing through it by $v_L(t) = L \\frac{di_L(t)}{dt}$. The current through a capacitor $C$ is related to the voltage $v_C$ across it by $i_C(t) = C \\frac{dv_C(t)}{dt}$. The output voltage $v_o$ is the voltage across the capacitor, $v_o(t) = v_C(t)$. The converter operates in two distinct states within one switching period $T_s = 1/f_s$.\n\nState 1: The switch is ON for a duration $D T_s$, where $D$ is the duty ratio. This interval corresponds to $t \\in [0, DT_s]$.\nDuring this state, the PWM switch is closed, and the diode is reverse-biased (since $V_o < 0$). The inductor is connected directly to the input voltage source $V_g$. The voltage across the inductor is:\n$$v_L(t) = V_g$$\nThe capacitor is disconnected from the inductor-switch path and supplies current to the resistive load $R$. Assuming the output voltage ripple is small, the load current is approximately constant at $I_o = V_o/R$. The capacitor current is:\n$$i_C(t) = -I_o = -\\frac{V_o}{R}$$\n\nState 2: The switch is OFF for a duration $(1-D)T_s$. This interval corresponds to $t \\in (DT_s, T_s]$.\nDuring this state, the PWM switch is open. The inductor current, which cannot change instantaneously, forward-biases the diode. The inductor is connected to the output, placing the output voltage $V_o$ across it. The voltage across the inductor is:\n$$v_L(t) = V_o$$\nThe inductor current flows through the diode to both the capacitor and the load. The capacitor current is the inductor current minus the load current:\n$$i_C(t) = i_L(t) - I_o = i_L(t) - \\frac{V_o}{R}$$\n\nIn steady-state operation, two conditions must be met:\n1.  Inductor Volt-Second Balance: The net change in inductor current over one period must be zero. This implies that the time integral of the inductor voltage over one switching period is zero.\n2.  Capacitor Charge Balance: The net change in capacitor voltage over one period must be zero. This implies that the time integral of the capacitor current over one switching period is zero (i.e., the average capacitor current is zero).\n\nFrom the inductor volt-second balance:\n$$\\int_0^{T_s} v_L(t) dt = \\int_0^{DT_s} V_g dt + \\int_{DT_s}^{T_s} V_o dt = 0$$\n$$V_g(DT_s) + V_o((1-D)T_s) = 0$$\n$$V_g D + V_o (1-D) = 0$$\nThis yields the direct current (DC) voltage conversion ratio for the buck-boost converter:\n$$\\frac{V_o}{V_g} = -\\frac{D}{1-D}$$\n\nFirst, we compute the steady-state peak-to-peak inductor current ripple, $\\Delta i_L$. This ripple is the change in inductor current during either of the two subintervals. During the first subinterval (switch ON), the inductor current increases linearly. The total increase is:\n$$\\Delta i_L = \\frac{1}{L} \\int_0^{DT_s} v_L(t) dt = \\frac{1}{L} \\int_0^{DT_s} V_g dt = \\frac{V_g D T_s}{L}$$\nSince $T_s = 1/f_s$, the expression for the current ripple is:\n$$\\Delta i_L = \\frac{V_g D}{L f_s}$$\n\nNext, we compute the steady-state peak-to-peak output voltage ripple, $\\Delta v_o$. This ripple is caused by the charging and discharging of the output capacitor. The capacitor discharges during the first subinterval (switch ON) when it alone supplies the load current. The change in charge on the capacitor during this interval is $\\Delta Q$.\n$$\\Delta Q = \\int_0^{DT_s} i_C(t) dt = \\int_0^{DT_s} \\left(-\\frac{V_o}{R}\\right) dt = -\\frac{V_o D T_s}{R}$$\nThe peak-to-peak voltage ripple is the magnitude of the voltage change resulting from this change in charge:\n$$\\Delta v_o = \\left|\\frac{\\Delta Q}{C}\\right| = \\left|-\\frac{V_o D T_s}{R C}\\right| = \\frac{|V_o| D T_s}{R C}$$\nSubstituting $T_s = 1/f_s$, we get:\n$$\\Delta v_o = \\frac{|V_o| D}{R C f_s}$$\nWe must first calculate the DC output voltage $V_o$ using the given parameters.\n\nNow we substitute the numerical values:\n$L = 47\\,\\mu\\mathrm{H} = 47 \\times 10^{-6}\\,\\mathrm{H}$\n$C = 220\\,\\mu\\mathrm{F} = 220 \\times 10^{-6}\\,\\mathrm{F}$\n$V_g = 12\\,\\mathrm{V}$\n$D = 0.6$\n$R = 10\\,\\Omega$\n$f_s = 200\\,\\mathrm{kHz} = 200 \\times 10^3\\,\\mathrm{Hz}$\n\nCalculation of inductor current ripple $\\Delta i_L$:\n$$\\Delta i_L = \\frac{(12\\,\\mathrm{V}) \\times 0.6}{(47 \\times 10^{-6}\\,\\mathrm{H}) \\times (200 \\times 10^3\\,\\mathrm{Hz})} = \\frac{7.2}{47 \\times 0.2} = \\frac{7.2}{9.4} \\approx 0.765957\\,\\mathrm{A}$$\nRounding to four significant figures, the inductor current ripple is $\\Delta i_L = 0.7660\\,\\mathrm{A}$.\n\nCalculation of output voltage ripple $\\Delta v_o$:\nFirst, calculate the DC output voltage $V_o$.\n$$V_o = -V_g \\frac{D}{1-D} = -(12\\,\\mathrm{V}) \\frac{0.6}{1-0.6} = -12 \\times \\frac{0.6}{0.4} = -12 \\times 1.5 = -18\\,\\mathrm{V}$$\nTherefore, $|V_o| = 18\\,\\mathrm{V}$.\nNow, calculate the voltage ripple:\n$$\\Delta v_o = \\frac{|V_o| D}{R C f_s} = \\frac{(18\\,\\mathrm{V}) \\times 0.6}{(10\\,\\Omega) \\times (220 \\times 10^{-6}\\,\\mathrm{F}) \\times (200 \\times 10^3\\,\\mathrm{Hz})} = \\frac{10.8}{10 \\times 220 \\times 0.2} = \\frac{10.8}{440} \\approx 0.024545\\,\\mathrm{V}$$\nRounding to four significant figures, the output voltage ripple is $\\Delta v_o = 0.02455\\,\\mathrm{V}$.\n\nThe calculated values are the peak-to-peak ripple for the inductor current and the output voltage, respectively.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.7660 & 0.02455\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "Building upon the analysis of continuous conduction mode (CCM), this exercise explores the converter's behavior under different operating conditions, specifically discontinuous conduction mode (DCM). This practice demonstrates how the voltage conversion ratio becomes load-dependent in DCM, a crucial concept for designing converters that must operate over a wide range of loads . You will derive the DCM voltage gain from first principles and compare it to the familiar CCM relationship, providing a deeper understanding of the converter's operational boundaries.",
            "id": "3825267",
            "problem": "An ideal inverting buck–boost direct current to direct current power converter is supplied by a constant input voltage $V_{g}$ and drives a purely resistive load $R$ through an ideal diode. The converter uses a single inductor $L$ and a large output capacitor such that the ripple of the output voltage is negligible over a switching period. The switch is pulse-width modulated with duty cycle $D$ at switching frequency $f_{s}$. Define continuous conduction mode (CCM) as the regime in which the inductor current never reaches zero within a switching period, and define discontinuous conduction mode (DCM) as the regime in which the inductor current falls to zero before the next switching period begins.\n\nAssume the converter operates in steady-state DCM. Using only fundamental steady-state principles (inductor volt–second balance over each subinterval, charge and energy balance over one switching period), derive from first principles the magnitude of the steady-state output voltage $|V_{o}|$ as a function of $V_{g}$, $R$, $L$, $f_{s}$, and $D$, and then evaluate it numerically for the following parameter values:\n- $V_{g} = 24\\ \\mathrm{V}$,\n- $R = 48\\ \\Omega$,\n- $L = 100\\ \\mu\\mathrm{H}$,\n- $f_{s} = 50\\ \\mathrm{kHz}$,\n- $D = 0.30$.\n\nFor context, also determine what the ideal CCM prediction would be for the magnitude $|V_{o}|$ at the same duty cycle and input, and explain qualitatively why the DCM result differs from the CCM prediction.\n\nExpress the final answer as the numerical value of $|V_{o}|$ in $\\mathrm{V}$, and round your answer to four significant figures.",
            "solution": "The problem requires the derivation of the steady-state output voltage magnitude $|V_o|$ for an ideal buck-boost converter operating in Discontinuous Conduction Mode (DCM). We will use the principles of inductor volt-second balance and capacitor charge balance.\n\nIn DCM, the inductor current $i_L(t)$ falls to zero before the end of the switching period. A full cycle $T_s = 1/f_s$ consists of three intervals:\n1.  **Interval 1 ($0 \\le t \\le DT_s$):** The main switch is ON. The inductor is connected to the input source, so $v_L = V_g$. The inductor current ramps up from zero to a peak value $i_{L,pk}$.\n    $$i_{L,pk} = \\frac{V_g}{L} (DT_s)$$\n2.  **Interval 2 ($DT_s \\le t \\le (D+D_2)T_s$):** The main switch is OFF, and the inductor current forward-biases the diode. The inductor is connected to the output, so $v_L = V_o$. The inductor current ramps down from $i_{L,pk}$ to zero over a duration of $D_2 T_s$.\n3.  **Interval 3 ($(D+D_2)T_s \\le t \\le T_s$):** The switch is OFF, and the inductor current is zero. The diode is also off. No energy is transferred.\n\nFrom inductor volt-second balance, the average voltage across the inductor over one cycle must be zero:\n$$\\langle v_L \\rangle = \\frac{1}{T_s} \\left( V_g (DT_s) + V_o (D_2 T_s) \\right) = 0 \\implies V_g D + V_o D_2 = 0$$\nThis gives a relationship for $D_2$: $D_2 = -D \\frac{V_g}{V_o} = D \\frac{V_g}{|V_o|}$.\n\nFrom capacitor charge balance, the average current supplied to the load resistor $R$ must equal the average current delivered by the diode over one cycle. The average load current is $|I_o| = |V_o|/R$. The current from the diode has a triangular shape during Interval 2 and is zero otherwise. Its average value is:\n$$\\langle i_D \\rangle = \\frac{1}{T_s} \\left( \\frac{1}{2} i_{L,pk} (D_2 T_s) \\right) = \\frac{1}{2} i_{L,pk} D_2$$\nEquating the average currents:\n$$\\frac{|V_o|}{R} = \\frac{1}{2} i_{L,pk} D_2$$\nNow, substitute the expressions for $i_{L,pk}$ and $D_2$:\n$$\\frac{|V_o|}{R} = \\frac{1}{2} \\left( \\frac{V_g D T_s}{L} \\right) \\left( D \\frac{V_g}{|V_o|} \\right) = \\frac{D^2 V_g^2 T_s}{2 L |V_o|}$$\nSolving for $|V_o|^2$:\n$$|V_o|^2 = \\frac{R D^2 V_g^2 T_s}{2 L}$$\nTaking the square root and substituting $T_s = 1/f_s$:\n$$|V_o| = V_g D \\sqrt{\\frac{R T_s}{2 L}} = V_g D \\sqrt{\\frac{R}{2 L f_s}}$$\n\nNow we perform the numerical evaluation with the given parameters:\n$V_g = 24\\ \\mathrm{V}$, $R = 48\\ \\Omega$, $L = 100\\ \\mu\\mathrm{H} = 100 \\times 10^{-6}\\ \\mathrm{H}$, $f_s = 50\\ \\mathrm{kHz} = 50 \\times 10^3\\ \\mathrm{Hz}$, and $D = 0.30$.\n$$|V_o| = (24\\ \\mathrm{V}) \\times 0.30 \\times \\sqrt{\\frac{48\\ \\Omega}{2 \\times (100 \\times 10^{-6}\\ \\mathrm{H}) \\times (50 \\times 10^3\\ \\mathrm{Hz})}} = 7.2 \\times \\sqrt{\\frac{48}{0.01}} = 7.2 \\times \\sqrt{4800} \\approx 15.7744\\ \\mathrm{V}$$\nRounding to four significant figures, $|V_o| = 15.77\\ \\mathrm{V}$.\n\nFor comparison, the ideal CCM voltage gain would be:\n$$|V_o|_{CCM} = V_g \\frac{D}{1-D} = 24\\ \\mathrm{V} \\times \\frac{0.30}{1-0.30} = 24 \\times \\frac{0.3}{0.7} \\approx 10.29\\ \\mathrm{V}$$\nThe DCM output voltage magnitude ($15.77\\ \\mathrm{V}$) is significantly higher than the CCM prediction ($10.29\\ \\mathrm{V}$) for the same duty cycle. Qualitatively, this is because in DCM, the inductor energy is fully depleted before the cycle ends. The available time to discharge the inductor is no longer the full $(1-D)T_s$ interval, but the shorter $D_2 T_s$ interval. To maintain volt-second balance against the fixed volt-seconds applied during the ON-time ($V_g D T_s$), the magnitude of the discharging voltage, $|V_o|$, must be larger than it would be in CCM. The voltage \"boosts\" itself to whatever level is necessary to discharge the inductor's stored energy to the load within the available time. This makes the voltage gain load-dependent.",
            "answer": "$$\n\\boxed{15.77}\n$$"
        },
        {
            "introduction": "Beyond steady-state analysis, ensuring the stability of the control loop is paramount in power converter design. This problem delves into peak current-mode control, a popular technique that offers inherent current limiting and fast transient response . You will investigate the phenomenon of subharmonic oscillation, a potential instability for duty cycles greater than 0.5, and learn how to calculate the minimum compensating ramp required to guarantee stable, period-one operation.",
            "id": "3825221",
            "problem": "An inverting buck-boost converter operating in Continuous Conduction Mode (CCM) is controlled using peak current-mode control with trailing-edge Pulse Width Modulation (PWM). The inductor current is sensed ideally, and an artificial compensation ramp of slope $m_a$ (in amperes per second) may be added to the sensed current to ensure stable operation against subharmonic oscillations. The converter parameters are: input voltage $V_g = 24\\,\\text{V}$, desired output voltage magnitude $V_o = 48\\,\\text{V}$, inductance $L = 60\\,\\mu\\text{H}$, switching frequency $f_s = 200\\,\\text{kHz}$, and duty cycle $D = \\frac{2}{3}$. Assume ideal devices and negligible ripple in output voltage over a switching period.\n\nStarting from the inductor voltage-current relation and the sampling nature of current-mode control, determine the numerical values of the inductor current upslope magnitude $m_1$ during the switch-on interval, the downslope magnitude $m_2$ during the switch-off interval, and the minimum required artificial ramp slope $m_a$ that guarantees small-signal stability of the period-one orbit under trailing-edge PWM at the specified duty cycle. Use only first principles and the definition of the slopes from the converter states; do not invoke pre-memorized converter-specific formulas without derivation.\n\nRound your final numerical values to four significant figures and express all slopes in $\\text{A}\\,\\text{s}^{-1}$. Provide the final answer as a single row matrix containing $m_1$, $m_2$, and $m_a$ in that order, as specified.",
            "solution": "The inductor voltage-current relation is $v_L(t) = L \\frac{di_L(t)}{dt}$. This means the inductor current changes with a constant slope when a constant voltage is applied.\n\nFor the inverting buck-boost converter, there are two states in one switching period $T_s = 1/f_s$:\n1.  **Switch-on interval ($DT_s$):** The inductor is connected to the input source, so $v_L = V_g$. The inductor current rises with a constant slope. The magnitude of this upslope, $m_1$, is:\n    $$ m_1 = \\frac{di_L}{dt}\\bigg|_{\\text{on}} = \\frac{V_g}{L} $$\n2.  **Switch-off interval ($(1-D)T_s$):** The inductor is connected to the output. Since the output voltage is negative, $V_{out} = -V_o$ (where $V_o$ is the magnitude), the voltage across the inductor is $v_L = V_{out} = -V_o$. The inductor current falls with a constant slope. The magnitude of this downslope, $m_2$, is:\n    $$ m_2 = \\left|\\frac{di_L}{dt}\\bigg|_{\\text{off}}\\right| = \\frac{|-V_o|}{L} = \\frac{V_o}{L} $$\n\nIn peak current-mode control, an instability known as subharmonic oscillation can occur when the duty cycle $D > 0.5$. This happens because a small perturbation in the inductor current at the start of a cycle can grow in the subsequent cycle. To prevent this, a stabilizing artificial ramp with slope $m_a$ is added to the sensed current signal. The stability condition can be derived by analyzing how a small perturbation $\\hat{i}_L[n]$ at the start of cycle $n$ evolves into a perturbation $\\hat{i}_L[n+1]$ at the start of cycle $n+1$. For trailing-edge modulation, this analysis shows that the perturbation will decay (ensuring stability) if the compensation ramp slope $m_a$ is greater than the product of the inductor current downslope and the amount by which the duty cycle exceeds 0.5. The stability criterion is:\n$$m_a > m_2 (D - 0.5)$$\nThe minimum required slope to guarantee stability is at the boundary of this condition:\n$$m_{a,min} = m_2 (D - 0.5)$$\n\nWe now compute the numerical values using the given parameters:\n$V_g = 24\\,\\text{V}$, $V_o = 48\\,\\text{V}$, $L = 60\\,\\mu\\text{H} = 60 \\times 10^{-6}\\,\\text{H}$, and $D = 2/3$.\n\nInductor current upslope magnitude:\n$$ m_1 = \\frac{24\\,\\text{V}}{60 \\times 10^{-6}\\,\\text{H}} = 4.0 \\times 10^{5}\\ \\text{A}\\,\\text{s}^{-1} $$\nInductor current downslope magnitude:\n$$ m_2 = \\frac{48\\,\\text{V}}{60 \\times 10^{-6}\\,\\text{H}} = 8.0 \\times 10^{5}\\ \\text{A}\\,\\text{s}^{-1} $$\nSince $D=2/3 > 0.5$, a compensation ramp is necessary. The minimum required slope is:\n$$ m_{a,min} = (8.0 \\times 10^{5}\\ \\text{A}\\,\\text{s}^{-1}) \\left(\\frac{2}{3} - 0.5\\right) = (8.0 \\times 10^{5}) \\left(\\frac{1}{6}\\right) \\approx 133333.3\\ \\text{A}\\,\\text{s}^{-1} $$\n\nRounding the final numerical values to four significant figures:\n- $m_1 = 4.000 \\times 10^{5}\\ \\text{A}\\,\\text{s}^{-1}$\n- $m_2 = 8.000 \\times 10^{5}\\ \\text{A}\\,\\text{s}^{-1}$\n- $m_{a,min} = 1.333 \\times 10^{5}\\ \\text{A}\\,\\text{s}^{-1}$\n\nThe final answer is a single row matrix containing $m_1$, $m_2$, and the minimum $m_a$.",
            "answer": "$$\\boxed{\\begin{pmatrix}4.000 \\times 10^{5} & 8.000 \\times 10^{5} & 1.333 \\times 10^{5}\\end{pmatrix}}$$"
        }
    ]
}