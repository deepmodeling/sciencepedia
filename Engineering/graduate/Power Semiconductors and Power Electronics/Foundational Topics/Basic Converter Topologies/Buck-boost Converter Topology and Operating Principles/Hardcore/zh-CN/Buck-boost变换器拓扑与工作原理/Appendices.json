{
    "hands_on_practices": [
        {
            "introduction": "对任何直流-直流变换器进行分析的第一步都是理解其在连续导通模式 (CCM) 下的稳态行为。这是掌握更复杂概念（如动态响应和控制）的基础。本练习将指导您应用电感伏秒平衡和电容电荷平衡这两个最基本的原理。\n\n通过从头推导并计算电感电流纹波 $\\Delta i_L$ 和输出电压纹波 $\\Delta v_o$，您将对 Buck-Boost 变换器的核心工作机制及其无源元件 $L$ 和 $C$ 的作用建立起定量的认识 。",
            "id": "3825254",
            "problem": "一个单电感、单电容的反相降压-升压直流-直流功率级，使用一个理想的脉冲宽度调制（PWM）开关和一个理想的二极管、一个电感为 $L$ 的理想电感器、一个电容为 $C$ 的理想电容器，从一个电压为 $V_{g}$ 的理想电压源向一个电阻为 $R$ 的理想电阻负载供电。PWM 占空比为 $D$，开关频率为 $f_{s}$。假设变换器工作在连续导通模式（CCM）下，输出电压的纹波足够小，以至于在每个子区间内电阻负载电流可被视为准恒定值，并且所有半导体器件和无源元件都是理想的（无导通压降，无寄生参数，等效串联电阻为零）。仅使用电感和电容的基本关系以及稳态平衡条件，计算电感电流 $i_{L}$ 和输出电压 $v_{o}$ 的稳态峰峰值纹波。\n\n使用以下参数值：$L = 47\\,\\mu\\mathrm{H}$，$C = 220\\,\\mu\\mathrm{F}$，$V_{g} = 12\\,\\mathrm{V}$，$D = 0.6$，$R = 10\\,\\Omega$，$f_{s} = 200\\,\\mathrm{kHz}$。将电感电流纹波以安培为单位表示，输出电压纹波以伏特为单位表示。将您的答案四舍五入到四位有效数字。",
            "solution": "所述问题是有效的。这是一个电力电子分析中的标准练习，具有科学依据，问题适定，并包含一组用于在连续导通模式（CCM）下运行的自洽参数，这一点已通过初步计算得到证实。所有元件都被定义为理想元件，目标明确且可形式化。因此，我们可以开始求解。\n\n反相降压-升压变换器的分析依赖于电感和电容的基本状态空间方程。电感 $L$ 两端的电压 $v_L(t)$ 与流经它的电流 $i_L$ 的关系为 $v_L(t) = L \\frac{di_L(t)}{dt}$。流经电容 $C$ 的电流 $i_C(t)$ 与其两端电压 $v_C$ 的关系为 $i_C(t) = C \\frac{dv_C(t)}{dt}$。输出电压 $v_o$ 是电容器两端的电压，即 $v_o(t) = v_C(t)$。在一个开关周期 $T_s = 1/f_s$ 内，变换器在两种不同的状态下工作。\n\n状态1：开关导通，持续时间为 $D T_s$，其中 $D$ 是占空比。该时间间隔对应于 $t \\in [0, DT_s]$。\n在此状态下，PWM 开关闭合，二极管反向偏置（因为 $V_o  0$）。电感器直接连接到输入电压源 $V_g$。电感器两端的电压为：\n$$v_L(t) = V_g$$\n电容器与电感-开关路径断开，并向电阻负载 $R$ 提供电流。假设输出电压纹波很小，负载电流近似为恒定值 $I_o = V_o/R$。电容器电流为：\n$$i_C(t) = -I_o = -\\frac{V_o}{R}$$\n\n状态2：开关断开，持续时间为 $(1-D)T_s$。该时间间隔对应于 $t \\in (DT_s, T_s]$。\n在此状态下，PWM 开关断开。不能瞬时改变的电感电流使二极管正向偏置。电感器连接到输出端，使其两端承受输出电压 $V_o$。电感器两端的电压为：\n$$v_L(t) = V_o$$\n电感电流通过二极管流向电容器和负载。电容器电流是电感电流减去负载电流：\n$$i_C(t) = i_L(t) - I_o = i_L(t) - \\frac{V_o}{R}$$\n\n在稳态工作下，必须满足两个条件：\n1.  电感伏秒平衡：在一个周期内，电感电流的净变化必须为零。这意味着在一个开关周期内，电感电压的时间积分为零。\n2.  电容电荷平衡：在一个周期内，电容电压的净变化必须为零。这意味着在一个开关周期内，电容电流的时间积分为零（即，平均电容电流为零）。\n\n根据电感伏秒平衡：\n$$\\int_0^{T_s} v_L(t) dt = \\int_0^{DT_s} V_g dt + \\int_{DT_s}^{T_s} V_o dt = 0$$\n$$V_g(DT_s) + V_o((1-D)T_s) = 0$$\n$$V_g D + V_o (1-D) = 0$$\n这得出了降压-升压变换器的直流（DC）电压转换比：\n$$\\frac{V_o}{V_g} = -\\frac{D}{1-D}$$\n\n首先，我们计算稳态峰峰值电感电流纹波 $\\Delta i_L$。该纹波是任一子区间内电感电流的变化量。在第一个子区间（开关导通）内，电感电流线性增加。总增加量为：\n$$\\Delta i_L = \\frac{1}{L} \\int_0^{DT_s} v_L(t) dt = \\frac{1}{L} \\int_0^{DT_s} V_g dt = \\frac{V_g D T_s}{L}$$\n由于 $T_s = 1/f_s$，电流纹波的表达式为：\n$$\\Delta i_L = \\frac{V_g D}{L f_s}$$\n\n接下来，我们计算稳态峰峰值输出电压纹波 $\\Delta v_o$。该纹波是由输出电容器的充电和放电引起的。在第一个子区间（开关导通）期间，电容器单独为负载供电，此时电容器放电。在此期间，电容器上的电荷变化量为 $\\Delta Q$。\n$$\\Delta Q = \\int_0^{DT_s} i_C(t) dt = \\int_0^{DT_s} \\left(-\\frac{V_o}{R}\\right) dt = -\\frac{V_o D T_s}{R}$$\n峰峰值电压纹波是由此电荷变化引起的电压变化的幅值：\n$$\\Delta v_o = \\left|\\frac{\\Delta Q}{C}\\right| = \\left|-\\frac{V_o D T_s}{R C}\\right| = \\frac{|V_o| D T_s}{R C}$$\n代入 $T_s = 1/f_s$，我们得到：\n$$\\Delta v_o = \\frac{|V_o| D}{R C f_s}$$\n我们必须首先使用给定参数计算直流输出电压 $V_o$。\n\n现在我们代入数值：\n$L = 47\\,\\mu\\mathrm{H} = 47 \\times 10^{-6}\\,\\mathrm{H}$\n$C = 220\\,\\mu\\mathrm{F} = 220 \\times 10^{-6}\\,\\mathrm{F}$\n$V_g = 12\\,\\mathrm{V}$\n$D = 0.6$\n$R = 10\\,\\Omega$\n$f_s = 200\\,\\mathrm{kHz} = 200 \\times 10^3\\,\\mathrm{Hz}$\n\n计算电感电流纹波 $\\Delta i_L$：\n$$\\Delta i_L = \\frac{(12\\,\\mathrm{V}) \\times 0.6}{(47 \\times 10^{-6}\\,\\mathrm{H}) \\times (200 \\times 10^3\\,\\mathrm{Hz})} = \\frac{7.2}{47 \\times 0.2} = \\frac{7.2}{9.4} \\approx 0.765957\\,\\mathrm{A}$$\n四舍五入到四位有效数字，电感电流纹波为 $\\Delta i_L = 0.7660\\,\\mathrm{A}$。\n\n计算输出电压纹波 $\\Delta v_o$：\n首先，计算直流输出电压 $V_o$。\n$$V_o = -V_g \\frac{D}{1-D} = -(12\\,\\mathrm{V}) \\frac{0.6}{1-0.6} = -12 \\times \\frac{0.6}{0.4} = -12 \\times 1.5 = -18\\,\\mathrm{V}$$\n因此， $|V_o| = 18\\,\\mathrm{V}$。\n现在，计算电压纹波：\n$$\\Delta v_o = \\frac{|V_o| D}{R C f_s} = \\frac{(18\\,\\mathrm{V}) \\times 0.6}{(10\\,\\Omega) \\times (220 \\times 10^{-6}\\,\\mathrm{F}) \\times (200 \\times 10^3\\,\\mathrm{Hz})} = \\frac{10.8}{10 \\times 220 \\times 0.2} = \\frac{10.8}{440} \\approx 0.024545\\,\\mathrm{V}$$\n四舍五入到四位有效数字，输出电压纹波为 $\\Delta v_o = 0.02455\\,\\mathrm{V}$。\n\n计算出的值分别是电感电流和输出电压的峰峰值纹波。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.7660  0.02455\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "虽然连续导通模式 (CCM) 是常见的工作状态，但在轻载条件下，变换器常常会进入非连续导通模式 (DCM)。理解这种模式对于需要工作在宽负载范围内的变换器设计至关重要。\n\n本练习要求您从第一性原理出发，专门针对 DCM 工作状态推导变换器的电压传输特性 。您将发现，当电感电流在一个开关周期内降至零时，会出现第三种工作状态，这从根本上改变了变换器的行为。通过将 DCM 的结果与理想 CCM 的预测进行比较，您将领会为何 DCM 模式下的输出电压会变得与负载相关，这是一个具有重要实际意义的关键区别。",
            "id": "3825267",
            "problem": "一个理想的反相降压-升压直流-直流电源转换器由恒定输入电压 $V_{g}$ 供电，并通过一个理想二极管驱动一个纯电阻负载 $R$。该转换器使用单个电感 $L$ 和一个大输出电容，使得输出电压的纹波在一个开关周期内可以忽略不计。开关以占空比 $D$ 和开关频率 $f_{s}$ 进行脉冲宽度调制。定义连续导通模式 (CCM) 为电感电流在一个开关周期内从不降至零的工作状态，定义断续导通模式 (DCM) 为电感电流在下一个开关周期开始前降至零的工作状态。\n\n假设转换器工作在稳态 DCM 模式。仅使用基本的稳态原理（每个子区间的电感伏秒平衡，以及一个开关周期内的电荷和能量平衡），从第一性原理推导稳态输出电压的幅值 $|V_{o}|$ 作为 $V_{g}$、$R$、$L$、$f_{s}$ 和 $D$ 的函数，然后对以下参数值进行数值计算：\n- $V_{g} = 24\\ \\mathrm{V}$，\n- $R = 48\\ \\Omega$，\n- $L = 100\\ \\mu\\mathrm{H}$，\n- $f_{s} = 50\\ \\mathrm{kHz}$，\n- $D = 0.30$。\n\n作为背景参考，也请确定在相同占空比和输入下，理想 CCM 模式预测的输出电压幅值 $|V_{o}|$ 是多少，并定性解释为什么 DCM 的结果与 CCM 的预测不同。\n\n以 $\\mathrm{V}$ 为单位，将 $|V_{o}|$ 的数值作为最终答案，并将答案四舍五入到四位有效数字。",
            "solution": "我们首先从第一性原理推导在不连续导通模式（DCM）下工作的理想反相降压-升压变换器的电压转换比。在DCM中，一个开关周期 $T_s = 1/f_s$ 分为三个子区间。\n\n1.  **区间 1 ($0 \\le t \\le DT_s$)**: 开关导通，二极管截止。电感连接到输入电压 $V_g$。电感电流从零开始线性上升。\n    $$v_L(t) = V_g$$\n    在区间结束时，电感电流达到其峰值 $i_{L,pk}$：\n    $$i_{L,pk} = \\frac{V_g}{L} (DT_s)$$\n\n2.  **区间 2 ($DT_s \\le t \\le (D+D_2)T_s$)**: 开关断开，二极管导通。电感连接到输出端，其两端电压为输出电压 $V_o$（这是一个负值）。电感电流线性下降。\n    $$v_L(t) = V_o$$\n    在 $t=(D+D_2)T_s$ 时刻，电感电流下降到零。\n\n3.  **区间 3 ($(D+D_2)T_s \\le t \\le T_s$)**: 开关断开，二极管也截止。电感电流保持为零。\n    $$v_L(t) = 0$$\n\n应用**电感伏秒平衡原理**，即在一个周期内电感电压的平均值为零：\n$$\\frac{1}{T_s} \\int_0^{T_s} v_L(t) dt = \\frac{1}{T_s} \\left( \\int_0^{DT_s} V_g dt + \\int_{DT_s}^{(D+D_2)T_s} V_o dt \\right) = 0$$\n$$V_g(DT_s) + V_o(D_2 T_s) = 0$$\n这给出了 $D_2$ 与 $V_o$ 之间的关系：\n$$D_2 = -D \\frac{V_g}{V_o} = D \\frac{V_g}{|V_o|}$$\n\n接下来，应用**电容电荷平衡原理**。在稳态下，流入输出电容的平均电流为零。这意味着流向负载电阻 $R$ 的平均电流必须等于从电感（通过二极管）输送到输出端的平均电流。\n负载的平均电流为 $|I_o| = \\frac{|V_o|}{R}$。\n二极管只在区间2导通，此时流过它的电流即为电感电流。该电流波形为三角形，从 $i_{L,pk}$ 下降到0。其在一个周期内的平均值为：\n$$\\langle i_D \\rangle = \\frac{1}{T_s} (\\text{区间2中} i_L \\text{波形下的面积}) = \\frac{1}{T_s} \\left(\\frac{1}{2} \\cdot i_{L,pk} \\cdot (D_2 T_s)\\right) = \\frac{1}{2} i_{L,pk} D_2$$\n令两个平均电流相等：\n$$\\frac{|V_o|}{R} = \\frac{1}{2} i_{L,pk} D_2$$\n现在，代入 $i_{L,pk}$ 和 $D_2$ 的表达式：\n$$\\frac{|V_o|}{R} = \\frac{1}{2} \\left( \\frac{V_g D T_s}{L} \\right) \\left( D \\frac{V_g}{|V_o|} \\right) = \\frac{D^2 V_g^2 T_s}{2 L |V_o|}$$\n整理并求解 $|V_o|$：\n$$|V_o|^2 = \\frac{R D^2 V_g^2 T_s}{2L} = \\frac{R D^2 V_g^2}{2Lf_s}$$\n$$|V_o| = V_g D \\sqrt{\\frac{R}{2Lf_s}}$$\n这就是DCM模式下的电压转换关系。\n\n**数值计算：**\n将给定值代入上式：\n$V_g = 24\\,\\text{V}$， $R = 48\\,\\Omega$， $L = 100 \\times 10^{-6}\\,\\text{H}$， $f_s = 50 \\times 10^3\\,\\text{Hz}$， $D = 0.30$。\n$$|V_o| = (24\\,\\text{V}) \\times 0.30 \\times \\sqrt{\\frac{48\\,\\Omega}{2 \\times (100 \\times 10^{-6}\\,\\text{H}) \\times (50 \\times 10^3\\,\\text{Hz})}}$$\n$$|V_o| = 7.2 \\times \\sqrt{\\frac{48}{2 \\times 100 \\times 10^{-6} \\times 50 \\times 10^3}} = 7.2 \\times \\sqrt{\\frac{48}{10}} = 7.2 \\times \\sqrt{4.8}$$\n$$|V_o| \\approx 7.2 \\times 2.19089 \\approx 15.7744\\,\\text{V}$$\n四舍五入到四位有效数字，DCM下的输出电压幅值为 $|V_o| = 15.77\\,\\text{V}$。\n\n**与CCM的比较：**\n作为参考，在理想CCM模式下，电压转换比为：\n$$|V_o|_{CCM} = V_g \\frac{D}{1-D}$$\n使用相同的参数：\n$$|V_o|_{CCM} = 24\\,\\text{V} \\times \\frac{0.30}{1-0.30} = 24 \\times \\frac{0.3}{0.7} \\approx 10.29\\,\\text{V}$$\n**定性解释：**\n在DCM中，输出电压幅值（15.77 V）明显高于CCM的预测值（10.29 V）。这是因为在DCM中，电感在一个周期结束前就已将全部能量释放给输出端，其电流归零。为了在更短的能量释放时间 $D_2 T_s$ 内（$D_2 T_s  (1-D)T_s$）维持伏秒平衡，必须施加一个幅值更大的反向电压，即输出电压 $|V_o|$ 必须更高。此外，DCM的电压增益与负载 $R$ 和电感 $L$ 有关，而CCM的理想增益仅与占空比 $D$ 有关。这意味着在轻载（大 $R$）时，DCM下的输出电压会显著上升。",
            "answer": "$$\n\\boxed{15.77}\n$$"
        },
        {
            "introduction": "在掌握了开環分析之后，我们将转向闭環控制中的实际挑战。峰值电流模式控制是一种广泛应用的技术，但在占空比 $D$ 超过 $0.5$ 时，它可能会出现固有的不稳定性，即次谐波振荡。\n\n本练习深入探讨了电流模式控制的动态特性，特别是次谐波振荡现象 。您将分析电感电流波形的上升斜率 $m_1$ 和下降斜率 $m_2$，并据此确定维持系统稳定的条件。通过计算确保稳定所需的最小斜坡补偿斜率 $m_a$，您将掌握一种标准且必要的工程技术，从而弥合理论分析与实际控制系统设计之间的鸿沟。",
            "id": "3825221",
            "problem": "一个工作在连续导通模式 (CCM) 下的反相降压-升压变换器采用峰值电流模式控制和后沿脉冲宽度调制 (PWM) 进行控制。电感电流被理想地检测，并且可以在检测到的电流上添加一个斜率为 $m_a$（单位为安培/秒）的人工补偿斜坡，以确保稳定运行，防止次谐波振荡。变换器的参数为：输入电压 $V_g = 24\\,\\text{V}$，期望输出电压幅值 $|V_o| = 48\\,\\text{V}$，电感 $L = 60\\,\\mu\\text{H}$，开关频率 $f_s = 200\\,\\text{kHz}$，占空比 $D = \\frac{2}{3}$。假设器件是理想的，并且在一个开关周期内输出电压的纹波可以忽略不计。\n\n从电感的电压-电流关系以及电流模式控制的采样特性出发，确定在指定占空比下，为保证逐周期稳定：开通期间电感电流上升斜率的大小 $m_1$，关断期间下降斜率的大小 $m_2$，以及所需的最小人工斜坡斜率 $m_a$ 的数值。仅使用第一性原理和从变换器状态导出的斜率定义；不要在没有推导的情况下使用预先记忆的变换器特定公式。\n\n将最终数值四舍五入到四位有效数字，并以 $\\text{A}\\,\\text{s}^{-1}$ 为单位表示所有斜率。按照指定顺序，将最终答案以包含 $m_1$、$m_2$ 和 $m_a$ 的单行矩阵形式提供。",
            "solution": "根据电感的基本伏秒关系 $v_L(t) = L \\frac{di_L(t)}{dt}$，我们可以确定电感电流在开关周期中两个状态下的变化斜率。\n\n1.  **开关导通期间** (占空比为 $D$)：主开关导通，二极管截止。电感直接连接到输入电源，因此电感电压 $v_L = V_g$。电感电流的上升斜率大小为：\n    $$m_1 = \\frac{V_g}{L}$$\n\n2.  **开关关断期间** (占空比为 $1-D$)：主开关关断，二极管导通。电感连接到输出端，其两端电压等于输出电压 $V_{out}$。由于是负输出变换器，$V_{out} = -|V_o|$。因此，电感电压为 $v_L = -|V_o|$。电感电流的下降斜率大小为：\n    $$m_2 = \\frac{|V_o|}{L}$$\n\n在峰值电流模式控制中，当占空比 $D > 0.5$ 时，系统可能会出现次谐波振荡。为保证稳定性，需要在检测到的电感电流上叠加一个斜率为 $m_a$ 的人工补偿斜坡。标准的稳定性分析表明，为确保在所有工作条件下都能稳定运行，避免次谐波振荡，补偿斜坡的斜率必须满足以下条件：\n$$m_a \\ge \\frac{m_2 - m_1}{2}$$\n此问题要求计算保证稳定所需的**最小**人工斜坡斜率，因此我们取等号。\n\n现在，我们代入给定参数进行数值计算。问题中已明确输出电压幅值为 $|V_o| = 48\\,\\text{V}$。\n给定 $V_g = 24\\,\\text{V}$ 和 $L = 60\\,\\mu\\text{H} = 60 \\times 10^{-6}\\,\\text{H}$：\n$$m_1 = \\frac{24\\,\\text{V}}{60 \\times 10^{-6}\\,\\text{H}} = 4.0 \\times 10^{5}\\,\\text{A/s}$$\n给定 $|V_o| = 48\\,\\text{V}$ 和相同的 $L$：\n$$m_2 = \\frac{48\\,\\text{V}}{60 \\times 10^{-6}\\,\\text{H}} = 8.0 \\times 10^{5}\\,\\text{A/s}$$\n因此，所需的最小人工斜坡斜率为\n$$m_{a, min} = \\frac{m_2 - m_1}{2} = \\frac{8.0 \\times 10^{5}\\,\\text{A/s} - 4.0 \\times 10^{5}\\,\\text{A/s}}{2} = \\frac{4.0 \\times 10^{5}\\,\\text{A/s}}{2} = 2.0 \\times 10^{5}\\,\\text{A/s}$$\n\n将所有结果格式化为 $\\text{A}\\,\\text{s}^{-1}$ 单位，并四舍五入到四位有效数字，我们得到：\n$m_1 = 4.000 \\times 10^{5}\\,\\text{A}\\,\\text{s}^{-1}$\n$m_2 = 8.000 \\times 10^{5}\\,\\text{A}\\,\\text{s}^{-1}$\n$m_a = 2.000 \\times 10^{5}\\,\\text{A}\\,\\text{s}^{-1}$",
            "answer": "$$\\boxed{\\begin{pmatrix}4.000 \\times 10^{5}  8.000 \\times 10^{5}  2.000 \\times 10^{5}\\end{pmatrix}}$$"
        }
    ]
}