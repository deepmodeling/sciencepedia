{
    "hands_on_practices": [
        {
            "introduction": "The fundamental task of a gate driver is to charge and discharge the power transistor's input capacitance. While a fast transition is often desired to minimize switching losses, an uncontrolled current surge can stress or damage the driver components. This practice explores the essential technique of using a series gate resistor ($R_g$) to control the switching dynamics, allowing you to calculate the precise resistance needed to limit the peak current to a safe value .",
            "id": "3851678",
            "problem": "An isolated gate driver for a Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) is implemented using an Optically Coupled Isolator (optocoupler) that commands a local complementary emitter follower (push–pull) buffer stage. The buffer stage, as seen from the MOSFET gate node, can be modeled by its Thevenin equivalent with open-circuit drive voltage $V_{drive}$ and series output resistance $R_{out}$. A discrete series gate resistor $R_{g}$ is added intentionally to shape the gate current and limit the peak stress on the buffer and on the optocoupler’s output transistor. The MOSFET gate is modeled as a capacitance that initially sits at $0\\ \\mathrm{V}$ prior to a rising transition.\n\nStarting from fundamental circuit principles, including Ohm’s law and the step response of a resistor–capacitor network at $t=0^{+}$, derive an expression for the required $R_{g}$ that ensures the instantaneous peak gate current at the start of the transition is equal to a specified $I_{pk}$. Then evaluate $R_{g}$ for the numerical case $V_{drive}=15\\ \\mathrm{V}$, $R_{out}=2\\ \\Omega$, and $I_{pk}=1.5\\ \\mathrm{A}$. Express the final resistor value in $\\mathrm{\\Omega}$. Give the exact value (no rounding).",
            "solution": "The problem requires the derivation of an expression for a series gate resistor, $R_g$, in a MOSFET gate drive circuit to limit the peak instantaneous current to a specified value, $I_{pk}$. Subsequently, this expression is to be evaluated for a given set of numerical parameters.\n\nFirst, we establish the electrical model of the circuit for a rising transition, which begins at time $t=0$. The gate drive circuit consists of a Thevenin equivalent source with voltage $V_{drive}$ and series resistance $R_{out}$, representing the buffer stage. This source is connected in series with the external gate resistor $R_g$. This combination drives the MOSFET gate, which is modeled as a capacitor, let us denote it by $C_g$. The total resistance in the charging path is the sum of the driver's output resistance and the external gate resistor, $R_{total} = R_{out} + R_g$.\n\nThe problem states that the MOSFET gate is initially at $0\\ \\mathrm{V}$. This is the initial condition for the voltage across the gate capacitance, $v_{Cg}(t)$. Therefore, at time $t=0^{-}$, just before the transition begins, we have $v_{Cg}(0^{-}) = 0\\ \\mathrm{V}$.\n\nA fundamental principle of circuit theory is that the voltage across a capacitor cannot change instantaneously. This means the voltage across the capacitor immediately after the transition begins, at $t=0^{+}$, must be equal to the voltage immediately before, at $t=0^{-}$.\n$$v_{Cg}(0^{+}) = v_{Cg}(0^{-}) = 0\\ \\mathrm{V}$$\nThe gate current, $i_g(t)$, is the current flowing into the capacitor. The problem asks to limit the instantaneous peak gate current, which occurs at the very beginning of the charging process, i.e., at $t=0^{+}$. We are given this peak current value as $I_{pk}$.\n$$i_g(0^{+}) = I_{pk}$$\nTo find the relationship between the circuit parameters and this peak current, we apply Kirchhoff's Voltage Law (KVL) to the series loop at the instant $t=0^{+}$. The loop consists of the drive voltage $V_{drive}$, the total series resistance $R_{total} = R_{out} + R_g$, and the gate capacitance $C_g$.\n$$V_{drive} - i_g(t) \\cdot (R_{out} + R_g) - v_{Cg}(t) = 0$$\nEvaluating this equation at $t=0^{+}$:\n$$V_{drive} - i_g(0^{+}) \\cdot (R_{out} + R_g) - v_{Cg}(0^{+}) = 0$$\nWe can now substitute the known conditions at $t=0^{+}$ into the KVL equation:\n$$V_{drive} - I_{pk} \\cdot (R_{out} + R_g) - 0 = 0$$\nThis simplifies to:\n$$V_{drive} = I_{pk} \\cdot (R_{out} + R_g)$$\nNote that the value of the gate capacitance $C_g$ is not required to determine the initial peak current, as the capacitor behaves as a voltage source of $0\\ \\mathrm{V}$ at this specific instant.\n\nThe first part of the task is to derive an expression for $R_g$. We can rearrange the equation above to solve for $R_g$:\n$$R_{out} + R_g = \\frac{V_{drive}}{I_{pk}}$$\n$$R_g = \\frac{V_{drive}}{I_{pk}} - R_{out}$$\nThis is the required general expression for the series gate resistor.\n\nThe second part of the task is to evaluate $R_g$ for the specific numerical case provided:\n- Open-circuit drive voltage: $V_{drive} = 15\\ \\mathrm{V}$\n- Driver output resistance: $R_{out} = 2\\ \\Omega$\n- Specified peak gate current: $I_{pk} = 1.5\\ \\mathrm{A}$\n\nSubstituting these values into the derived expression:\n$$R_g = \\frac{15}{1.5} - 2$$\nFirst, we evaluate the fraction:\n$$\\frac{15}{1.5} = 10$$\nSo the equation becomes:\n$$R_g = 10 - 2$$\n$$R_g = 8\\ \\Omega$$\nThe required value for the discrete series gate resistor is $8\\ \\Omega$.",
            "answer": "$$\\boxed{8}$$"
        },
        {
            "introduction": "Every time a power transistor switches, energy is consumed to charge its gate capacitance, contributing to the overall power loss of the system. Understanding and quantifying this gate drive power is critical for designing the isolated power supply and for managing thermal performance, especially at high switching frequencies. This exercise guides you through a first-principles derivation to find the average power drawn by the gate driver, revealing a simple yet powerful relationship between drive voltage, total gate charge, and switching frequency .",
            "id": "3851571",
            "problem": "An isolated high-side Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) gate is driven through an optocoupler-based interface. The optocoupler drives a complementary totem-pole stage referenced to an isolated supply, which applies a rail-to-rail gate excitation between $0$ and $V_{\\text{drive}}$. The isolated supply is stiff, and the driver has sufficiently low output impedance that, during the turn-on interval, the pull-up device effectively connects the gate node to a constant-voltage source of magnitude $V_{\\text{drive}}$, and during the turn-off interval, the pull-down device connects the gate to the isolated ground. The MOSFET total gate charge specified at $V_{\\text{GS}} = V_{\\text{drive}}$ is $Q_{g}$ and includes all charge to fully charge the input capacitances through the Miller plateau. Assume that dynamic variations in the optocoupler transfer and driver output impedance do not change the total charge $Q_{g}$ required to reach $V_{\\text{GS}} = V_{\\text{drive}}$, and that any recovery of energy is negligible so that the energy drawn from the isolated supply during turn-on is entirely dissipated over a complete cycle within the driver and series resistances.\n\nStarting from the energy definition $E=\\int v(t)\\,i(t)\\,dt$ and the relation $i(t)=dQ/dt$, derive the energy drawn from the isolated gate-drive supply per complete switching cycle in terms of $V_{\\text{drive}}$ and $Q_{g}$. Then, for a switching frequency $f_{s}$, obtain the average gate-drive power drawn from the isolated supply.\n\nEvaluate this average power for a MOSFET with $Q_{g}=60\\ \\mathrm{nC}$ driven at $V_{\\text{drive}}=12\\ \\mathrm{V}$ and a switching frequency $f_{s}=200\\ \\mathrm{kHz}$. Round your final result to three significant figures and express it in watts (W).",
            "solution": "The fundamental starting point is the definition of energy delivered by a source,\n$$\nE=\\int v(t)\\,i(t)\\,dt,\n$$\ntogether with charge conservation through the gate branch,\n$$\ni(t)=\\frac{dQ}{dt}.\n$$\nDuring the turn-on transition, the pull-up device of the gate driver connects the gate node to a constant-voltage source of magnitude $V_{\\text{drive}}$. In this interval, the source voltage is $v(t)=V_{\\text{drive}}$, independent of the instantaneous gate voltage. Substituting $i(t)=dQ/dt$ gives\n$$\nE_{\\text{on}}=\\int_{\\text{turn-on}} v(t)\\,i(t)\\,dt=\\int_{\\text{turn-on}} V_{\\text{drive}}\\,\\frac{dQ}{dt}\\,dt=\\int_{Q=0}^{Q=Q_{g}} V_{\\text{drive}}\\,dQ=V_{\\text{drive}}\\,Q_{g}.\n$$\nThis expression is independent of the details of the charging waveform, the optocoupler dynamics, or the series resistance, provided the total charge delivered to reach $V_{\\text{GS}}=V_{\\text{drive}}$ is $Q_{g}$ and the supply is stiff.\n\nAt turn-off, the pull-down device connects the gate to the isolated ground and dissipates the electrostatic energy stored on the gate capacitance. There is no additional energy drawn from the $V_{\\text{drive}}$ source during turn-off in the idealized totem-pole configuration. Therefore, over a complete switching cycle, the net energy drawn from the isolated gate-drive supply is\n$$\nE_{\\text{cycle}}=E_{\\text{on}}=V_{\\text{drive}}\\,Q_{g}.\n$$\nThe average power drawn from the isolated supply for periodic switching at frequency $f_{s}$ is the energy per cycle times the cycle rate:\n$$\nP_{\\text{gate}}=E_{\\text{cycle}}\\,f_{s}=V_{\\text{drive}}\\,Q_{g}\\,f_{s}.\n$$\nNow evaluate numerically for $Q_{g}=60\\ \\mathrm{nC}$, $V_{\\text{drive}}=12\\ \\mathrm{V}$, and $f_{s}=200\\ \\mathrm{kHz}$:\n$$\nE_{\\text{cycle}}=V_{\\text{drive}}\\,Q_{g}=(12)\\times(60\\times 10^{-9})=720\\times 10^{-9}\\ \\mathrm{J}=7.20\\times 10^{-7}\\ \\mathrm{J},\n$$\nand\n$$\nP_{\\text{gate}}=E_{\\text{cycle}}\\,f_{s}=(7.20\\times 10^{-7})\\times(200\\times 10^{3})=1.44\\times 10^{-1}\\ \\mathrm{W}.\n$$\nRounded to three significant figures, the average gate-drive power is $0.144\\ \\mathrm{W}$.",
            "answer": "$$\\boxed{0.144}$$"
        },
        {
            "introduction": "In an ideal world, an optocoupler would transmit a control signal with perfect fidelity. In reality, internal physical processes introduce delays that can alter the signal's timing, a critical issue in pulse-width modulated (PWM) systems. This practice delves into the impact of asymmetric propagation delays, a common characteristic of optocouplers, and guides you to quantify the resulting distortion of the signal's duty cycle .",
            "id": "3851639",
            "problem": "A galvanically isolated gate-drive signal path uses a logic optocoupler to transmit a unipolar pulse-width modulation (PWM) gate command from a low-voltage controller to a high-side gate driver. The optocoupler exhibits asymmetric propagation delays, defined as the time from a logic input transition at its input diode to the corresponding logic transition at its output transistor: the low-to-high propagation delay is $t_{PLH}=120\\ \\mathrm{ns}$ and the high-to-low propagation delay is $t_{PHL}=80\\ \\mathrm{ns}$. The controller generates a periodic PWM gate command with switching frequency $f_{s}=100\\ \\mathrm{kHz}$ and input duty ratio $D_{\\mathrm{in}}=0.5$. Assume ideal square-wave transitions at the controller output, no pulse stretching or bandwidth limitation beyond the stated propagation delays, and that the gate driver thresholding reproduces the delayed logic edges without additional distortion.\n\nStarting from the fundamental definitions of duty ratio, period $T_{s}=1/f_{s}$, and propagation delay as a time shift of signal transitions, derive the output duty ratio $D_{\\mathrm{out}}$ at the gate-driver input in terms of $D_{\\mathrm{in}}$, $t_{PLH}$, $t_{PHL}$, and $T_{s}$, and then compute the duty-cycle distortion, defined here as the absolute deviation of the output duty ratio from the input duty ratio,\n$$\\Delta D \\equiv \\left|D_{\\mathrm{out}}-D_{\\mathrm{in}}\\right|.$$\nExpress the final duty-cycle distortion $\\Delta D$ as a unitless decimal and round your answer to four significant figures.",
            "solution": "The problem requires us to analyze the effect of asymmetric propagation delays in a logic optocoupler on a pulse-width modulation (PWM) signal. We must first derive a general expression for the output duty ratio, $D_{\\mathrm{out}}$, and the duty-cycle distortion, $\\Delta D$. Then, we must compute the numerical value of $\\Delta D$ for the given parameters.\n\nLet the input PWM signal be a unipolar square wave with switching frequency $f_s$ and input duty ratio $D_{\\mathrm{in}}$. The period of the signal is $T_s = \\frac{1}{f_s}$. Within one period, the input signal is at a high logic level for a duration of $T_{\\mathrm{on,in}} = D_{\\mathrm{in}} T_s$. Let's analyze a single pulse within one period, assuming the period begins at time $t=0$.\n\nThe rising edge (low-to-high transition) of the input signal occurs at time $t_{\\mathrm{rise,in}} = 0$.\nThe falling edge (high-to-low transition) of the input signal occurs at time $t_{\\mathrm{fall,in}} = t_{\\mathrm{rise,in}} + T_{\\mathrm{on,in}} = D_{\\mathrm{in}} T_s$.\n\nThe optocoupler introduces a propagation delay for each transition. The low-to-high propagation delay is $t_{\\mathrm{PLH}}$, and the high-to-low propagation delay is $t_{\\mathrm{PHL}}$. These delays shift the timing of the signal edges at the output of the optocoupler.\n\nThe rising edge of the output signal is delayed by $t_{\\mathrm{PLH}}$ with respect to the input rising edge. Therefore, the output rising edge occurs at:\n$$t_{\\mathrm{rise,out}} = t_{\\mathrm{rise,in}} + t_{\\mathrm{PLH}} = 0 + t_{\\mathrm{PLH}} = t_{\\mathrm{PLH}}$$\n\nThe falling edge of the output signal is delayed by $t_{\\mathrm{PHL}}$ with respect to the input falling edge. Therefore, the output falling edge occurs at:\n$$t_{\\mathrm{fall,out}} = t_{\\mathrm{fall,in}} + t_{\\mathrm{PHL}} = D_{\\mathrm{in}} T_s + t_{\\mathrm{PHL}}$$\n\nThe duration for which the output signal is at a high logic level, $T_{\\mathrm{on,out}}$, is the time difference between the output falling edge and the output rising edge.\n$$T_{\\mathrm{on,out}} = t_{\\mathrm{fall,out}} - t_{\\mathrm{rise,out}} = (D_{\\mathrm{in}} T_s + t_{\\mathrm{PHL}}) - t_{\\mathrm{PLH}}$$\n\nThe output duty ratio, $D_{\\mathrm{out}}$, is defined as the ratio of the output on-time to the total period $T_s$.\n$$D_{\\mathrm{out}} = \\frac{T_{\\mathrm{on,out}}}{T_s} = \\frac{D_{\\mathrm{in}} T_s + t_{\\mathrm{PHL}} - t_{\\mathrm{PLH}}}{T_s}$$\nSeparating the terms, we arrive at the general expression for the output duty ratio:\n$$D_{\\mathrm{out}} = D_{\\mathrm{in}} + \\frac{t_{\\mathrm{PHL}} - t_{\\mathrm{PLH}}}{T_s}$$\n\nThe duty-cycle distortion, $\\Delta D$, is defined as the absolute deviation of the output duty ratio from the input duty ratio:\n$$\\Delta D \\equiv |D_{\\mathrm{out}} - D_{\\mathrm{in}}|$$\nSubstituting the expression for $D_{\\mathrm{out}}$ into this definition:\n$$\\Delta D = \\left| \\left( D_{\\mathrm{in}} + \\frac{t_{\\mathrm{PHL}} - t_{\\mathrm{PLH}}}{T_s} \\right) - D_{\\mathrm{in}} \\right| = \\left| \\frac{t_{\\mathrm{PHL}} - t_{\\mathrm{PLH}}}{T_s} \\right|$$\nThis is the general expression for the duty-cycle distortion.\n\nNow, we compute the numerical value of $\\Delta D$ using the provided data:\n-   Low-to-high propagation delay: $t_{\\mathrm{PLH}} = 120\\ \\mathrm{ns} = 120 \\times 10^{-9}\\ \\mathrm{s}$\n-   High-to-low propagation delay: $t_{\\mathrm{PHL}} = 80\\ \\mathrm{ns} = 80 \\times 10^{-9}\\ \\mathrm{s}$\n-   Switching frequency: $f_{s} = 100\\ \\mathrm{kHz} = 100 \\times 10^3\\ \\mathrm{Hz}$\n\nFirst, we calculate the switching period $T_s$:\n$$T_s = \\frac{1}{f_s} = \\frac{1}{100 \\times 10^3\\ \\mathrm{Hz}} = 10^{-5}\\ \\mathrm{s}$$\n\nNext, we substitute the values for the delays and the period into the expression for $\\Delta D$:\n$$\\Delta D = \\frac{|80 \\times 10^{-9}\\ \\mathrm{s} - 120 \\times 10^{-9}\\ \\mathrm{s}|}{10^{-5}\\ \\mathrm{s}}$$\n$$\\Delta D = \\frac{|-40 \\times 10^{-9}\\ \\mathrm{s}|}{10^{-5}\\ \\mathrm{s}} = \\frac{40 \\times 10^{-9}\\ \\mathrm{s}}{10^{-5}\\ \\mathrm{s}}$$\n$$\\Delta D = 40 \\times 10^{-9 - (-5)} = 40 \\times 10^{-4} = 4 \\times 10^{-3}$$\n\nAs a unitless decimal, the duty-cycle distortion is $\\Delta D = 0.004$.\nThe problem requires the answer to be expressed as a decimal rounded to four significant figures. To represent $0.004$ with four significant figures, we write it as $0.004000$.\n\nThe output duty ratio is $D_{\\mathrm{out}} = D_{\\mathrm{in}} + \\frac{80\\ \\mathrm{ns} - 120\\ \\mathrm{ns}}{10\\ \\mathrm{\\mu s}} = 0.5 - 0.004 = 0.496$.\nThe distortion is $|0.496 - 0.5| = |-0.004| = 0.004$, which confirms the calculation.",
            "answer": "$$\\boxed{0.004000}$$"
        }
    ]
}