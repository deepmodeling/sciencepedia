{
    "hands_on_practices": [
        {
            "introduction": "Understanding how to control the output voltage is the cornerstone of power converter design. This first practice  guides you through a foundational derivation using the principle of local averaging, which is a powerful tool for analyzing high-frequency PWM waveforms. By completing this exercise, you will establish the direct, linear relationship between the modulation index $m_a$ and the fundamental amplitude of the AC output voltage for both bipolar and unipolar SPWM schemes.",
            "id": "3879535",
            "problem": "Consider a direct current (DC) link converter implementing Sinusoidal Pulse Width Modulation (SPWM) with a triangular carrier of peak amplitude $V_c$ and angular frequency $\\omega_c$ and a sinusoidal modulating signal of angular frequency $\\omega_1$ and peak amplitude $V_m$. Define the modulation index as $m_a = V_m/V_c$. Assume natural sampling, negligible dead-time and device voltage drops, a carrier frequency much higher than the fundamental ($\\omega_c \\gg \\omega_1$), and operation in the linear modulation region (no overmodulation), so that $0 \\leq m_a \\leq 1$.\n\nTwo converter configurations are considered:\n\n1. A half-bridge leg producing a two-level pole voltage $v_p(t) \\in \\{+V_{dc}/2, -V_{dc}/2\\}$, with bipolar SPWM implemented by comparing the single sinusoidal modulating signal $v_m(t) = V_m \\sin(\\omega_1 t)$ to the single triangular carrier.\n\n2. A single-phase full-bridge with unipolar SPWM, in which each leg is modulated independently by a sinusoidal reference of equal magnitude and opposite sign, $v_{m,a}(t) = V_m \\sin(\\omega_1 t)$ and $v_{m,b}(t) = -V_m \\sin(\\omega_1 t)$, each compared to the same triangular carrier to produce two-level pole voltages $v_{aN}(t)$ and $v_{bN}(t)$; the line-to-line output is $v_o(t) = v_{aN}(t) - v_{bN}(t)$.\n\nStarting only from the definitions above and the principle that the low-frequency component of a high-frequency PWM waveform equals the average over each carrier period of its instantaneous two-level value, derive the fundamental (first-harmonic) amplitude of the output voltage for each case:\n\n- $\\hat{V}_1^{\\mathrm{bip}}$ for the half-bridge bipolar SPWM pole voltage $v_p(t)$.\n- $\\hat{V}_1^{\\mathrm{uni}}$ for the full-bridge unipolar SPWM line-to-line voltage $v_o(t)$.\n\nState clearly any additional assumptions required for the derivation (e.g., symmetry of the carrier, angle units, and linear modulation constraints). Express the final amplitudes in volts. Angles should be treated in radians. The final answer must be a single analytic expression collecting both amplitudes.",
            "solution": "The problem statement is evaluated to be valid. It is scientifically grounded in the principles of power electronics, specifically Sinusoidal Pulse Width Modulation (SPWM), and is well-posed, objective, and internally consistent. It provides a clear directive for deriving the fundamental voltage amplitudes for two standard inverter configurations using a specified first-principles approach. Therefore, a solution can be derived.\n\nThe core principle for this derivation is the method of local averaging. Given the condition that the carrier frequency is much higher than the modulating frequency ($\\omega_c \\gg \\omega_1$), the modulating signal $v_m(t)$ can be treated as approximately constant over a single carrier period, $T_c = 2\\pi/\\omega_c$. The low-frequency component of the high-frequency switched PWM voltage waveform is, therefore, equal to its average value computed over one carrier period. This local average, denoted $\\langle v(t) \\rangle_{T_c}$, will track the modulating signal.\n\nAn additional assumption is required regarding the carrier signal. The problem defines a triangular carrier of peak amplitude $V_c$. We assume this is a symmetric triangular wave, centered about zero volts, oscillating linearly between $-V_c$ and $+V_c$. This is the standard convention that aligns with the definition of the modulation index $m_a = V_m/V_c$ for linear modulation without requiring a DC offset in the modulating signal.\n\nLet us determine the relationship between the modulating signal $v_m(t)$ and the duty cycle $d(t)$ of the upper switch in a converter leg. The upper switch is ON, and the pole voltage is high, when the modulating signal $v_m(t)$ is greater than the carrier signal $v_c(t)$. Due to the linear nature of the symmetric triangular carrier, the proportion of the period for which $v_m(t) > v_c(t)$ is linearly related to the value of $v_m(t)$.\nWhen $v_m(t) = V_c$, the upper switch is on for the entire period, so $d(t) = 1$.\nWhen $v_m(t) = -V_c$, the upper switch is off for the entire period, so $d(t) = 0$.\nWhen $v_m(t) = 0$, the duty cycle is $d(t) = 0.5$.\nThis linear relationship is given by:\n$$d(t) = \\frac{1}{2} + \\frac{v_m(t)}{2V_c}$$\n\nWith this foundation, we can proceed to derive the output voltage amplitudes for both specified cases.\n\n**1. Half-Bridge with Bipolar SPWM**\n\nIn this configuration, a single converter leg produces a pole voltage $v_p(t)$ that switches between two levels, $+V_{dc}/2$ and $-V_{dc}/2$. The modulating signal is $v_m(t) = V_m \\sin(\\omega_1 t)$.\n\nThe instantaneous pole voltage is given by:\n$$v_p(t) = \n\\begin{cases} \n+V_{dc}/2 & \\text{if } v_m(t) > v_c(t) \\\\\n-V_{dc}/2 & \\text{if } v_m(t)  v_c(t) \n\\end{cases}\n$$\n\nThe local average of this pole voltage, $\\langle v_p(t) \\rangle_{T_c}$, is the sum of the voltage levels weighted by their respective duty cycles. The duty cycle for the $+V_{dc}/2$ state is $d(t)$, and for the $-V_{dc}/2$ state, it is $(1 - d(t))$.\n$$\\langle v_p(t) \\rangle_{T_c} = d(t) \\left( \\frac{+V_{dc}}{2} \\right) + (1 - d(t)) \\left( \\frac{-V_{dc}}{2} \\right)$$\n$$\\langle v_p(t) \\rangle_{T_c} = d(t) V_{dc} - \\frac{V_{dc}}{2}$$\n\nSubstituting the expression for the duty cycle $d(t)$:\n$$\\langle v_p(t) \\rangle_{T_c} = \\left( \\frac{1}{2} + \\frac{v_m(t)}{2V_c} \\right) V_{dc} - \\frac{V_{dc}}{2}$$\n$$\\langle v_p(t) \\rangle_{T_c} = \\frac{V_{dc}}{2} + \\frac{V_{dc}}{2V_c} v_m(t) - \\frac{V_{dc}}{2}$$\n$$\\langle v_p(t) \\rangle_{T_c} = \\frac{V_{dc}}{2V_c} v_m(t)$$\n\nNow, we substitute the sinusoidal modulating signal $v_m(t) = V_m \\sin(\\omega_1 t)$ and the definition of the modulation index $m_a = V_m/V_c$.\n$$\\langle v_p(t) \\rangle_{T_c} = \\frac{V_{dc}}{2V_c} (V_m \\sin(\\omega_1 t)) = \\frac{V_{dc}}{2} \\left( \\frac{V_m}{V_c} \\right) \\sin(\\omega_1 t)$$\n$$\\langle v_p(t) \\rangle_{T_c} = \\frac{1}{2} m_a V_{dc} \\sin(\\omega_1 t)$$\n\nThis locally averaged voltage represents the fundamental component of the pole voltage $v_p(t)$. The amplitude of this fundamental component, $\\hat{V}_1^{\\mathrm{bip}}$, is therefore:\n$$\\hat{V}_1^{\\mathrm{bip}} = \\frac{1}{2} m_a V_{dc}$$\n\n**2. Single-Phase Full-Bridge with Unipolar SPWM**\n\nIn this configuration, two converter legs (leg A and leg B) are used. The desired line-to-line output voltage is $v_o(t) = v_{aN}(t) - v_{bN}(t)$. Leg A is controlled by the modulating signal $v_{m,a}(t) = V_m \\sin(\\omega_1 t)$, and leg B is controlled by $v_{m,b}(t) = -V_m \\sin(\\omega_1 t)$. Both modulating signals are compared against the same triangular carrier $v_c(t)$. Each pole voltage, $v_{aN}(t)$ and $v_{bN}(t)$, switches between $+V_{dc}/2$ and $-V_{dc}/2$.\n\nThe low-frequency component of the output voltage is the difference between the local averages of the two pole voltages:\n$$\\langle v_o(t) \\rangle_{T_c} = \\langle v_{aN}(t) \\rangle_{T_c} - \\langle v_{bN}(t) \\rangle_{T_c}$$\n\nWe can apply the result derived for the half-bridge to each leg individually.\nFor leg A, with modulating signal $v_{m,a}(t)$:\n$$\\langle v_{aN}(t) \\rangle_{T_c} = \\frac{V_{dc}}{2V_c} v_{m,a}(t) = \\frac{V_{dc}}{2V_c} V_m \\sin(\\omega_1 t)$$\n\nFor leg B, with modulating signal $v_{m,b}(t)$:\n$$\\langle v_{bN}(t) \\rangle_{T_c} = \\frac{V_{dc}}{2V_c} v_{m,b}(t) = \\frac{V_{dc}}{2V_c} (-V_m \\sin(\\omega_1 t)) = -\\frac{V_{dc}}{2V_c} V_m \\sin(\\omega_1 t)$$\n\nNow, we compute the difference to find the average output voltage:\n$$\\langle v_o(t) \\rangle_{T_c} = \\left( \\frac{V_{dc}}{2V_c} V_m \\sin(\\omega_1 t) \\right) - \\left( -\\frac{V_{dc}}{2V_c} V_m \\sin(\\omega_1 t) \\right)$$\n$$\\langle v_o(t) \\rangle_{T_c} = 2 \\left( \\frac{V_{dc}}{2V_c} V_m \\sin(\\omega_1 t) \\right) = \\frac{V_{dc}}{V_c} V_m \\sin(\\omega_1 t)$$\n\nSubstituting the modulation index $m_a = V_m/V_c$:\n$$\\langle v_o(t) \\rangle_{T_c} = m_a V_{dc} \\sin(\\omega_1 t)$$\n\nThis is the fundamental component of the full-bridge output voltage $v_o(t)$. The amplitude of this fundamental component, $\\hat{V}_1^{\\mathrm{uni}}$, is:\n$$\\hat{V}_1^{\\mathrm{uni}} = m_a V_{dc}$$\n\nIn summary, the fundamental amplitude for the half-bridge bipolar SPWM is $\\hat{V}_1^{\\mathrm{bip}} = \\frac{1}{2} m_a V_{dc}$, and for the full-bridge unipolar SPWM is $\\hat{V}_1^{\\mathrm{uni}} = m_a V_{dc}$.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\frac{1}{2} m_{a} V_{dc}  m_{a} V_{dc}\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "Beyond generating the desired fundamental voltage, a key goal in power electronics is to minimize unwanted distortion. This practice  focuses on quantifying the high-frequency voltage ripple, a primary measure of output quality in SPWM converters. By applying a simplified model, you will calculate the RMS ripple and gain insight into how different modulation strategies, such as unipolar SPWM, can significantly improve performance by effectively doubling the switching frequency seen by the load.",
            "id": "3879610",
            "problem": "A single-phase full-bridge inverter powered by a direct current bus of magnitude $V_{\\mathrm{dc}}$ uses sinusoidal pulse-width modulation (SPWM) with a sinusoidal modulating signal and a high-frequency triangular carrier. The amplitude modulation index is $m_{a}$, and the frequency ratio is $m_{f} = f_{c}/f_{m}$, where $f_{c}$ is the carrier frequency and $f_{m}$ is the fundamental frequency of the modulating sinusoid. Consider the following two modulation schemes:\n\n- Bipolar SPWM: both legs switch synchronously against a single carrier, producing a two-level line voltage.\n- Unipolar SPWM: the two legs are modulated with phase-opposed carriers such that the line voltage effectively updates at twice the carrier rate.\n\nDefine the instantaneous ideal fundamental output voltage as $v_{\\mathrm{ref}}(t) = m_{a} V_{\\mathrm{dc}} \\sin(2\\pi f_{m} t)$, and define the high-frequency “output voltage ripple within a carrier period” as the deviation between $v_{\\mathrm{ref}}(t)$ and the piecewise-constant period-averaged output produced by SPWM over each carrier period. Under the assumption that, over a single carrier period, $v_{\\mathrm{ref}}(t)$ is well-approximated by a linear function of time, model the ripple within one carrier period as a symmetric triangle about zero produced by the zero-order hold of the period-average. Using this triangle approximation of ripple, compute the root-mean-square (RMS) value of the ripple within a carrier period for both bipolar and unipolar SPWM, evaluated at the fundamental zero-crossing where $|dv_{\\mathrm{ref}}/dt|$ is maximal.\n\nUse the parameters $V_{\\mathrm{dc}} = 700\\,\\mathrm{V}$, $m_{a} = 0.92$, and $m_{f} = 75$. Assume operation in the linear SPWM regime (no overmodulation clipping). Express the two RMS values in volts. Round your answers to four significant figures. Provide your final answer as a row vector in the order $\\left[\\text{bipolar},\\,\\text{unipolar}\\right]$.",
            "solution": "The problem asks for the root-mean-square (RMS) value of a specifically defined output voltage ripple for a single-phase full-bridge inverter using bipolar and unipolar sinusoidal pulse-width modulation (SPWM). The problem must first be validated for scientific soundness and solvability.\n\n### Problem Validation\n\n**Step 1: Extract Givens**\n-   DC bus voltage: $V_{\\mathrm{dc}} = 700\\,\\mathrm{V}$\n-   Amplitude modulation index: $m_{a} = 0.92$\n-   Frequency modulation index: $m_{f} = f_{c}/f_{m} = 75$\n-   Modulation schemes: Bipolar SPWM and Unipolar SPWM\n-   Instantaneous ideal fundamental output voltage: $v_{\\mathrm{ref}}(t) = m_{a} V_{\\mathrm{dc}} \\sin(2\\pi f_{m} t)$\n-   Definition of ripple: The deviation between $v_{\\mathrm{ref}}(t)$ and the piecewise-constant period-averaged output.\n-   Ripple model: A symmetric triangle about zero over one effective ripple period.\n-   Linearity assumption: $v_{\\mathrm{ref}}(t)$ is approximately linear over a single carrier period.\n-   Evaluation point: The fundamental zero-crossing, where $|dv_{\\mathrm{ref}}/dt|$ is maximal.\n-   Numerical precision: Round the final answers to four significant figures.\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is scientifically grounded within the field of power electronics. The concepts of SPWM, modulation indices, and ripple voltage are standard. The provided model for ripple, while a simplification, is a common pedagogical tool used to estimate ripple magnitude without a full Fourier analysis. The problem is well-posed, providing all necessary parameters and a clear, objective task. All parameters ($V_{\\mathrm{dc}}$, $m_a$, $m_f$) are within realistic ranges for such an application. The problem is self-contained and free of contradictions or ambiguities.\n\n**Step 3: Verdict and Action**\nThe problem is deemed valid. A solution will be derived.\n\n### Solution Derivation\n\nThe problem requires us to calculate the RMS value of a voltage ripple, which is modeled as a symmetric triangle wave within an effective ripple period $T_{\\mathrm{eff}}$. The RMS value of a symmetric triangle wave with peak amplitude $A$ (and thus peak-to-peak amplitude $2A$) is given by:\n$$ V_{\\mathrm{ripple, RMS}} = \\frac{A}{\\sqrt{3}} $$\nThe core of the problem is to determine the peak amplitude $A$ for both bipolar and unipolar modulation schemes.\n\nThe problem defines the ripple as the deviation between the time-varying reference voltage, $v_{\\mathrm{ref}}(t)$, and its piecewise-constant approximation, which results from a zero-order hold of the period-averaged value. Let us consider an effective ripple period $T_{\\mathrm{eff}}$ centered at a time $t_0$. The piecewise-constant approximation of the output over this interval is the average value of the reference at the center of the interval, $V_{\\mathrm{avg}} = v_{\\mathrm{ref}}(t_0)$.\n\nUnder the given assumption that $v_{\\mathrm{ref}}(t)$ is linear over this short interval, we can write:\n$$ v_{\\mathrm{ref}}(t) \\approx v_{\\mathrm{ref}}(t_0) + \\left. \\frac{dv_{\\mathrm{ref}}}{dt} \\right|_{t=t_0} (t-t_0) $$\nThe ripple voltage is the difference:\n$$ v_{\\mathrm{ripple}}(t) = v_{\\mathrm{ref}}(t) - V_{\\mathrm{avg}} \\approx \\left. \\frac{dv_{\\mathrm{ref}}}{dt} \\right|_{t=t_0} (t-t_0) $$\nfor $t \\in [t_0 - T_{\\mathrm{eff}}/2, t_0 + T_{\\mathrm{eff}}/2]$. This describes a sawtooth waveform varying from a minimum to a maximum value. The peak deviation from zero (the peak amplitude $A$) occurs at the ends of the interval, $t = t_0 \\pm T_{\\mathrm{eff}}/2$:\n$$ A = \\left| \\left. \\frac{dv_{\\mathrm{ref}}}{dt} \\right|_{t=t_0} \\times \\frac{T_{\\mathrm{eff}}}{2} \\right| = \\frac{1}{2} \\left| \\frac{dv_{\\mathrm{ref}}}{dt} \\right|_{t=t_0} T_{\\mathrm{eff}} $$\nThe problem specifies that the calculation must be performed at the fundamental zero-crossing of $v_{\\mathrm{ref}}(t)$. At this point, the sine function is zero and its rate of change is maximal. The reference voltage is $v_{\\mathrm{ref}}(t) = m_{a} V_{\\mathrm{dc}} \\sin(\\omega_{m} t)$, where $\\omega_{m} = 2\\pi f_{m}$. The derivative is:\n$$ \\frac{dv_{\\mathrm{ref}}}{dt} = m_{a} V_{\\mathrm{dc}} \\omega_{m} \\cos(\\omega_{m} t) $$\nAt the zero-crossing, $\\omega_m t = k\\pi$ for integer $k$, so $|\\cos(\\omega_m t)| = 1$. The maximum magnitude of the slope is:\n$$ \\left| \\frac{dv_{\\mathrm{ref}}}{dt} \\right|_{\\max} = m_{a} V_{\\mathrm{dc}} \\omega_{m} = m_{a} V_{\\mathrm{dc}} (2\\pi f_{m}) $$\nUsing the frequency ratio $m_{f} = f_{c}/f_{m}$ and the carrier period $T_{c} = 1/f_{c}$, we can write $f_{m} = f_{c}/m_{f} = 1/(m_{f}T_{c})$.\n$$ \\left| \\frac{dv_{\\mathrm{ref}}}{dt} \\right|_{\\max} = \\frac{2\\pi m_{a} V_{\\mathrm{dc}}}{m_{f} T_{c}} $$\nNow we can establish the RMS ripple expressions for the two modulation schemes by determining their respective effective ripple periods, $T_{\\mathrm{eff}}$.\n\n**1. Bipolar SPWM**\nIn bipolar SPWM, the inverter output voltage switches at the carrier frequency, $f_{c}$. Therefore, the effective period of the ripple is the carrier period.\n$$ T_{\\mathrm{eff, bipolar}} = T_{c} $$\nThe peak amplitude of the ripple is:\n$$ A_{\\mathrm{bipolar}} = \\frac{1}{2} \\left| \\frac{dv_{\\mathrm{ref}}}{dt} \\right|_{\\max} T_{\\mathrm{eff, bipolar}} = \\frac{1}{2} \\left( \\frac{2\\pi m_{a} V_{\\mathrm{dc}}}{m_{f} T_{c}} \\right) T_{c} = \\frac{\\pi m_{a} V_{\\mathrm{dc}}}{m_{f}} $$\nThe RMS value of the ripple is:\n$$ V_{\\mathrm{ripple, RMS, bipolar}} = \\frac{A_{\\mathrm{bipolar}}}{\\sqrt{3}} = \\frac{\\pi m_{a} V_{\\mathrm{dc}}}{\\sqrt{3} m_{f}} $$\n\n**2. Unipolar SPWM**\nIn unipolar SPWM, the two legs of the full-bridge are modulated out of phase, which causes the output line voltage ripple to have a fundamental frequency of $2f_{c}$. This is a well-known advantage of unipolar modulation. The effective period of the ripple is therefore halved.\n$$ T_{\\mathrm{eff, unipolar}} = \\frac{T_{c}}{2} $$\nThe peak amplitude of the ripple is:\n$$ A_{\\mathrm{unipolar}} = \\frac{1}{2} \\left| \\frac{dv_{\\mathrm{ref}}}{dt} \\right|_{\\max} T_{\\mathrm{eff, unipolar}} = \\frac{1}{2} \\left( \\frac{2\\pi m_{a} V_{\\mathrm{dc}}}{m_{f} T_{c}} \\right) \\left( \\frac{T_{c}}{2} \\right) = \\frac{\\pi m_{a} V_{\\mathrm{dc}}}{2m_{f}} $$\nThe RMS value of the ripple is:\n$$ V_{\\mathrm{ripple, RMS, unipolar}} = \\frac{A_{\\mathrm{unipolar}}}{\\sqrt{3}} = \\frac{\\pi m_{a} V_{\\mathrm{dc}}}{2\\sqrt{3} m_{f}} $$\nThis is exactly half the value obtained for bipolar SPWM.\n\n**Numerical Calculation**\nWe are given $V_{\\mathrm{dc}} = 700\\,\\mathrm{V}$, $m_{a} = 0.92$, and $m_{f} = 75$.\n\nFor bipolar SPWM:\n$$ V_{\\mathrm{ripple, RMS, bipolar}} = \\frac{\\pi \\times 0.92 \\times 700}{\\sqrt{3} \\times 75} \\approx \\frac{2023.1856}{129.9038} \\approx 15.5744\\,\\mathrm{V} $$\nRounding to four significant figures, we get $15.57\\,\\mathrm{V}$.\n\nFor unipolar SPWM:\n$$ V_{\\mathrm{ripple, RMS, unipolar}} = \\frac{1}{2} V_{\\mathrm{ripple, RMS, bipolar}} \\approx \\frac{15.5744}{2} \\approx 7.7872\\,\\mathrm{V} $$\nRounding to four significant figures, we get $7.787\\,\\mathrm{V}$.\n\nThe final answer is to be provided as a row vector $[\\text{bipolar value},\\, \\text{unipolar value}]$.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n15.57  7.787\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "Achieving a pure sinusoidal output requires not only managing high-frequency ripple but also eliminating low-frequency harmonics. This practice  explores the profound connection between waveform symmetry in the time domain and harmonic content in the frequency domain. You will discover why a specific choice for the frequency ratio, $m_f$, is a critical design rule in synchronous SPWM, enabling the cancellation of entire families of unwanted harmonics and ensuring high spectral purity.",
            "id": "3879586",
            "problem": "A balanced three-phase two-level Voltage Source Inverter (VSI) uses Sinusoidal Pulse Width Modulation (SPWM) with regular synchronous sampling to synthesize a line-to-line voltage from a Direct Current (DC) link of magnitude $V_{\\mathrm{dc}}$. In each phase leg, a gate signal is produced by comparing a sinusoidal modulating reference $v_m(t) = \\hat{V}_m \\sin(\\omega_m t)$ with a zero-centered symmetric triangular carrier $v_c(t)$ of frequency $f_c$. The fundamental frequency is $f_m$, with period $T_m = 1/f_m$ and carrier period $T_c = 1/f_c$. The frequency ratio (often called the carrier ratio) is $m_f = f_c/f_m$, and in synchronous regular sampling $m_f$ is constrained to be an integer so that an integer number of carrier cycles fits into one fundamental period. The modulation index is $m_a = \\hat{V}_m/\\hat{V}_c$, and assume $m_a \\le 1$ so that operation remains below the onset of overmodulation.\n\nThe leg switching function $q_a(t)$ for phase $a$ is a two-level function defined by the comparator: $q_a(t) = 1$ if $v_m(t) \\ge v_c(t)$ and $q_a(t) = 0$ otherwise. The phase-$a$ pole voltage with respect to the inverter midpoint is $v_{an}(t) = \\frac{V_{\\mathrm{dc}}}{2}\\left(2 q_a(t) - 1\\right)$. The line-to-line voltage is $v_{ab}(t) = v_{an}(t) - v_{bn}(t)$, where $v_{bn}(t)$ is the pole voltage of phase $b$ driven by a sinusoidal reference shifted by $120^\\circ$.\n\nFrom foundational signal symmetries of the sinusoidal reference and the triangular carrier, and the definition of regular synchronous sampling and comparator generation, which option most rigorously explains why choosing $m_f$ as an odd integer avoids even-order subharmonics in the line-to-line voltage $v_{ab}(t)$ of the three-phase inverter?\n\nA. For odd integer $m_f$, the half-period shift $T_m/2 = m_f T_c/2$ inverts both the sinusoidal modulating reference and the triangular carrier, i.e., $v_m(t+T_m/2) = -v_m(t)$ and $v_c(t+T_m/2) = -v_c(t)$, causing the comparator inequality to complement. This yields $q_a(t+T_m/2) = 1 - q_a(t)$, and hence $v_{an}(t+T_m/2) = -v_{an}(t)$, establishing half-wave odd symmetry. By Fourier series properties, half-wave odd symmetry forbids even-order subharmonics in each phase; the line-to-line subtraction preserves the absence of even orders and additionally cancels triplen components.\n\nB. In a balanced three-phase system, even-order harmonics cancel in the line-to-line voltage for any integer $m_f$ due to phase displacement alone; parity of $m_f$ is irrelevant to the spectrum as long as the number of carrier cycles per fundamental period is integral.\n\nC. Overmodulation arises only for even $m_f$ when $m_a  0.5$, generating even-order subharmonics; selecting odd $m_f$ prevents overmodulation and thus removes even-order components from the line-to-line voltage.\n\nD. Choosing odd $m_f$ aligns carrier peaks with reference peaks such that the average of the pulse widths over a fundamental period equals the sinusoid, eliminating even-order subharmonics by amplitude cancellation without requiring any symmetry of the carrier waveform.",
            "solution": "The user wants a rigorous explanation for why choosing the frequency ratio $m_f$ as an odd integer eliminates even-order subharmonics from the line-to-line voltage of a three-phase inverter using SPWM.\n\n### **1. Problem Statement Validation**\n\nFirst, I will validate the problem statement.\n\n#### **Step 1: Extract Givens**\n- **System:** A balanced three-phase two-level Voltage Source Inverter (VSI).\n- **Modulation:** Sinusoidal Pulse Width Modulation (SPWM) with regular synchronous sampling.\n- **DC Link:** Voltage of magnitude $V_{\\mathrm{dc}}$.\n- **Modulating Signal (Phase a):** $v_m(t) = \\hat{V}_m \\sin(\\omega_m t)$, with fundamental frequency $f_m$ and period $T_m = 1/f_m$.\n- **Carrier Signal:** A zero-centered symmetric triangular carrier $v_c(t)$ with frequency $f_c$ and period $T_c = 1/f_c$.\n- **Frequency Ratio:** $m_f = f_c/f_m$, where $m_f$ is an integer.\n- **Modulation Index:** $m_a = \\hat{V}_m/\\hat{V}_c$, with $m_a \\le 1$.\n- **Switching Logic (Phase a):** The leg switching function is $q_a(t) = 1$ if $v_m(t) \\ge v_c(t)$ and $q_a(t) = 0$ otherwise.\n- **Pole Voltage (Phase a):** $v_{an}(t) = \\frac{V_{\\mathrm{dc}}}{2}\\left(2 q_a(t) - 1\\right)$. This voltage switches between $+\\frac{V_{\\mathrm{dc}}}{2}$ and $-\\frac{V_{\\mathrm{dc}}}{2}$.\n- **Line-to-Line Voltage:** $v_{ab}(t) = v_{an}(t) - v_{bn}(t)$. The phase-$b$ reference is shifted by $120^\\circ$ ($2\\pi/3$ radians).\n- **Question:** Explain why choosing $m_f$ as an odd integer avoids even-order subharmonics in the line-to-line voltage $v_{ab}(t)$.\n\n#### **Step 2: Validate Using Extracted Givens**\n- **Scientific Grounding:** The problem is firmly rooted in the principles of power electronics and signal analysis (Fourier series). All definitions and physical descriptions are standard for SPWM in VSIs.\n- **Well-Posedness:** The question asks for a causal explanation of a specific, well-known effect in SPWM. The conditions provided are sufficient to derive a unique explanation based on waveform symmetries.\n- **Objectivity:** The language is formal, technical, and free of ambiguity or subjective claims. The term \"even-order subharmonics\" is understood in this context to mean even-order harmonics of the fundamental modulating frequency, which are undesirable low-frequency components.\n\n#### **Step 3: Verdict and Action**\nThe problem statement is scientifically sound, well-posed, and objective. It contains no invalidating flaws. Therefore, I will proceed with the solution.\n\n### **2. Derivation**\n\nThe core of the explanation lies in analyzing the symmetry of the pole voltage waveform, $v_{an}(t)$, over one fundamental period, $T_m$. A waveform $f(t)$ possesses half-wave odd symmetry if $f(t + T/2) = -f(t)$. A key property of Fourier series is that a signal with half-wave odd symmetry contains no DC component and no even-order harmonics. The question is whether $v_{an}(t)$ exhibits this symmetry and under what conditions.\n\n1.  **Analyze the Modulating and Carrier Signals under a Half-Period Time Shift**\n    We examine the behavior of the modulating and carrier signals at time $t + T_m/2$.\n    - **Modulating Signal:** The sinusoidal reference is $v_m(t) = \\hat{V}_m \\sin(\\omega_m t)$.\n      $$v_m(t + T_m/2) = \\hat{V}_m \\sin(\\omega_m (t + T_m/2)) = \\hat{V}_m \\sin(\\omega_m t + \\omega_m T_m/2)$$\n      Since $\\omega_m T_m = (2\\pi/T_m) T_m = 2\\pi$, we have $\\omega_m T_m/2 = \\pi$.\n      $$v_m(t + T_m/2) = \\hat{V}_m \\sin(\\omega_m t + \\pi) = -\\hat{V}_m \\sin(\\omega_m t) = -v_m(t)$$\n      The modulating signal always has half-wave odd symmetry.\n\n    - **Carrier Signal:** The carrier is a zero-centered symmetric triangle wave with period $T_c$. This implies it has the property $v_c(\\tau + T_c/2) = -v_c(\\tau)$ for any $\\tau$. The relationship between periods is $T_m = m_f T_c$. We evaluate the carrier at $t + T_m/2$:\n      $$v_c(t + T_m/2) = v_c(t + m_f T_c/2)$$\n      We must consider the parity of the integer $m_f$.\n      - If $m_f$ is an **odd** integer, we can write $m_f = 2k + 1$ for some integer $k$.\n        $$T_m/2 = (2k+1)T_c/2 = k T_c + T_c/2$$\n        Substituting this into the carrier expression:\n        $$v_c(t + T_m/2) = v_c(t + k T_c + T_c/2)$$\n        Due to the carrier's periodicity, $v_c(\\tau + k T_c) = v_c(\\tau)$. Therefore:\n        $$v_c(t + T_m/2) = v_c(t + T_c/2) = -v_c(t)$$\n      - If $m_f$ is an **even** integer, we can write $m_f = 2k$.\n        $$T_m/2 = (2k)T_c/2 = k T_c$$\n        $$v_c(t + T_m/2) = v_c(t + k T_c) = v_c(t)$$\n      Thus, the carrier signal inverts over a half-fundamental-period shift only when $m_f$ is an **odd** integer.\n\n2.  **Analyze the Switching Function and Pole Voltage**\n    Let's assume $m_f$ is an odd integer. At time $t + T_m/2$, we have $v_m \\to -v_m$ and $v_c \\to -v_c$. The comparator logic is:\n    $$q_a(t) = 1 \\iff v_m(t) \\ge v_c(t)$$\n    Now consider the switching function at $t+T_m/2$:\n    $$q_a(t+T_m/2) = 1 \\iff v_m(t+T_m/2) \\ge v_c(t+T_m/2)$$\n    Substituting the inverted signals:\n    $$q_a(t+T_m/2) = 1 \\iff -v_m(t) \\ge -v_c(t)$$\n    Multiplying the inequality by $-1$ reverses its direction:\n    $$q_a(t+T_m/2) = 1 \\iff v_m(t) \\le v_c(t)$$\n    This is the complement of the condition for $q_a(t) = 1$. Therefore, $q_a(t+T_m/2) = 1 - q_a(t)$.\n\n    Now, we analyze the pole voltage $v_{an}(t) = \\frac{V_{\\mathrm{dc}}}{2}(2q_a(t)-1)$:\n    $$v_{an}(t + T_m/2) = \\frac{V_{\\mathrm{dc}}}{2}(2q_a(t+T_m/2)-1)$$\n    $$= \\frac{V_{\\mathrm{dc}}}{2}(2(1-q_a(t))-1) = \\frac{V_{\\mathrm{dc}}}{2}(2-2q_a(t)-1)$$\n    $$= \\frac{V_{\\mathrm{dc}}}{2}(1-2q_a(t)) = -\\frac{V_{\\mathrm{dc}}}{2}(2q_a(t)-1) = -v_{an}(t)$$\n    This proves that for an odd integer $m_f$, the pole voltage $v_{an}(t)$ has half-wave odd symmetry over the fundamental period $T_m$.\n\n3.  **Spectral Consequences**\n    - Because $v_{an}(t)$ has half-wave odd symmetry, its Fourier series expansion is guaranteed to contain only odd harmonics of the fundamental frequency $f_m$. It will have no DC component and no even harmonics ($2f_m, 4f_m, \\dots$).\n    - The same argument applies to the other phase pole voltages, $v_{bn}(t)$ and $v_{cn}(t)$, as they are generated by the same mechanism with phase-shifted sinusoidal references, which also possess half-wave odd symmetry.\n    - The line-to-line voltage is $v_{ab}(t) = v_{an}(t) - v_{bn}(t)$. Since both $v_{an}(t)$ and $v_{bn}(t)$ contain only odd-order harmonics, their difference, $v_{ab}(t)$, will also contain only odd-order harmonics.\n    - In summary, choosing an odd integer $m_f$ ensures the pole voltage waveforms have half-wave odd symmetry, which directly prevents the generation of even-order harmonics of the fundamental frequency.\n\n### **3. Option-by-Option Analysis**\n\n**A. For odd integer $m_f$, the half-period shift $T_m/2 = m_f T_c/2$ inverts both the sinusoidal modulating reference and the triangular carrier, i.e., $v_m(t+T_m/2) = -v_m(t)$ and $v_c(t+T_m/2) = -v_c(t)$, causing the comparator inequality to complement. This yields $q_a(t+T_m/2) = 1 - q_a(t)$, and hence $v_{an}(t+T_m/2) = -v_{an}(t)$, establishing half-wave odd symmetry. By Fourier series properties, half-wave odd symmetry forbids even-order subharmonics in each phase; the line-to-line subtraction preserves the absence of even orders and additionally cancels triplen components.**\n- This option perfectly follows the derivation step-by-step. It correctly identifies that for odd $m_f$, both the modulating and carrier signals invert over a half-period shift ($T_m/2$). It correctly derives the consequence for the switching function ($q_a(t+T_m/2) = 1-q_a(t)$) and the pole voltage ($v_{an}(t+T_m/2) = -v_{an}(t)$), thereby establishing half-wave odd symmetry. It correctly concludes that this symmetry forbids even-order harmonics based on Fourier series properties. The final statement about line-to-line subtraction effects is also correct.\n- **Verdict: Correct.**\n\n**B. In a balanced three-phase system, even-order harmonics cancel in the line-to-line voltage for any integer $m_f$ due to phase displacement alone; parity of $m_f$ is irrelevant to the spectrum as long as the number of carrier cycles per fundamental period is integral.**\n- This statement is incorrect. In a balanced three-phase system, only triplen harmonics (harmonics of order $3, 6, 9, \\dots$) cancel in the line-to-line voltages. Even, non-triplen harmonics (e.g., $2^{nd}$, $4^{th}$, $8^{th}$, $10^{th}$) do not cancel. Furthermore, the parity of $m_f$ is crucially relevant; as shown in the derivation, if $m_f$ is even, half-wave symmetry is lost, and even harmonics are generated in the pole voltage, which then appear in the line-to-line voltage.\n- **Verdict: Incorrect.**\n\n**C. Overmodulation arises only for even $m_f$ when $m_a > 0.5$, generating even-order subharmonics; selecting odd $m_f$ prevents overmodulation and thus removes even-order components from the line-to-line voltage.**\n- This statement contains multiple falsehoods. Overmodulation occurs when $m_a > 1$, regardless of the parity of $m_f$. It has no specific link to $m_f$ being even or $m_a > 0.5$. The problem explicitly states operation is below overmodulation ($m_a \\le 1$). Choosing an odd $m_f$ does not \"prevent\" overmodulation; that is controlled by the amplitude of the reference signal. The mechanism for eliminating even harmonics is waveform symmetry, not avoiding a non-existent overmodulation condition.\n- **Verdict: Incorrect.**\n\n**D. Choosing odd $m_f$ aligns carrier peaks with reference peaks such that the average of the pulse widths over a fundamental period equals the sinusoid, eliminating even-order subharmonics by amplitude cancellation without requiring any symmetry of the carrier waveform.**\n- This statement is flawed. The core claim that elimination of even harmonics can be done \"without requiring any symmetry of the carrier waveform\" is fundamentally wrong. The symmetry of the triangular carrier, specifically $v_c(t+T_c/2) = -v_c(t)$, is an indispensable condition for achieving half-wave odd symmetry in the pole voltage. If an asymmetric (e.g., sawtooth) carrier were used, even harmonics would be present regardless of the parity of $m_f$. The rest of the statement is either vague (\"aligns carrier peaks with reference peaks\") or a general description of PWM's goal, not its mechanism.\n- **Verdict: Incorrect.**",
            "answer": "$$\\boxed{A}$$"
        }
    ]
}