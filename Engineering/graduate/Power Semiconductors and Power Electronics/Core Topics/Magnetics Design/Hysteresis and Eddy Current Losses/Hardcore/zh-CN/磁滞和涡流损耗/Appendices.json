{
    "hands_on_practices": [
        {
            "introduction": "磁芯在交变磁场下表现出的磁滞回线，其所包围的面积在物理上代表了每个周期单位体积内耗散的能量。这个练习旨在将这一基本物理原理转化为一种实用的计算方法。通过对测量的 $B-H$ 数据点进行数值积分，您将直接计算出总磁芯损耗，从而将理论概念与实际数据分析联系起来。",
            "id": "3848106",
            "problem": "给定一个磁损耗磁芯材料在频率 $f=10\\,\\mathrm{kHz}$、峰值磁通密度 $B_p=0.3\\,\\mathrm{T}$ 的交流（AC）激励下，其磁通密度 $B$ 和磁场强度 $H$ 的单周期回路。测量数据由一个完整周期内以均匀时间步长采集的样本对 $\\{(B_i,H_i)\\}_{i=0}^{N-1}$ 组成。您的任务是设计并实现一个数值计算程序，通过在 $B$–$H$ 平面上沿测量回路进行积分，计算每单位体积每周期的耗散能量以及相应的磁滞损耗功率密度，单位为 $\\mathrm{W}/\\mathrm{m}^3$。\n\n请基于电磁场能量衡算的第一性原理进行推导，特别是电磁场能量守恒（坡印亭定理）和增量磁功密度的定义。最终的算法必须仅依赖于这些基本原理，且不得假设任何针对磁滞或涡流的简化公式。\n\n定义一个稳健的数值程序，该程序：\n- 接受一个完整周期内均匀采样的 $B$ 和 $H$ 数据（通过将最后一个样本连接到第一个来闭合回路）。\n- 累加 $B$–$H$ 平面中回路各分段的有向贡献，以获得每单位体积每周期的能量。\n- 使用给定频率将每周期能量转换为以 $\\mathrm{W}/\\mathrm{m}^3$ 为单位的功率密度。\n- 确保计算出的功率密度为非负值。\n\n将每个最终答案以 $\\mathrm{W}/\\mathrm{m}^3$ 为单位表示为浮点数，并四舍五入到三位小数。\n\n测试套件：\n为保证可复现性和科学真实性，请考虑以下四个合成的但物理上合理的单周期测量数据集，每个数据集均通过参数化生成 $B(t)$ 和 $H(t)$ 并在一个周期 $T=1/f$ 内均匀采样得到。在所有情况下，设 $t\\in[0,T)$，$N=20000$ 个样本，$\\omega=2\\pi f$，$f=10\\,\\mathrm{kHz}$。\n\n1. 正常路径（中等磁滞）：$B(t)=B_p\\sin(\\omega t)$，其中 $B_p=0.3\\,\\mathrm{T}$，以及 $H(t)=\\frac{B(t)}{\\mu_\\mathrm{eff}}+H_c\\tanh\\!\\left(\\frac{\\mathrm{d}B/\\mathrm{d}t}{v_0}\\right)$，使用 $\\mu_\\mathrm{eff}=2.0\\times 10^{-3}\\,\\mathrm{T}/(\\mathrm{A}/\\mathrm{m})$，$H_c=50\\,\\mathrm{A}/\\mathrm{m}$，$v_0=1000\\,\\mathrm{T}/\\mathrm{s}$。\n\n2. 窄回线（低矫顽力）：$B(t)$ 和参数与情况1相同，但 $H_c=5\\,\\mathrm{A}/\\mathrm{m}$。\n\n3. 低幅值（边界情况）：$B_p=0.01\\,\\mathrm{T}$，且 $\\mu_\\mathrm{eff}=2.0\\times 10^{-3}\\,\\mathrm{T}/(\\mathrm{A}/\\mathrm{m})$，$H_c=50\\,\\mathrm{A}/\\mathrm{m}$，$v_0=1000\\,\\mathrm{T}/\\mathrm{s}$。\n\n4. 退化回线（边界情况）：$B_p=0\\,\\mathrm{T}$，且 $\\mu_\\mathrm{eff}=2.0\\times 10^{-3}\\,\\mathrm{T}/(\\mathrm{A}/\\mathrm{m})$，$H_c=50\\,\\mathrm{A}/\\mathrm{m}$，$v_0=1000\\,\\mathrm{T}/\\mathrm{s}$。\n\n对于每种情况，您的程序必须：\n- 使用上述定义生成 $B(t)$ 和 $H(t)$。\n- 通过在 $B$–$H$ 平面上沿回路使用闭合回路的数值稳定离散化方法进行线积分，计算每单位体积每周期的能量。\n- 计算以 $\\mathrm{W}/\\mathrm{m}^3$ 为单位的磁滞损耗功率密度。\n\n您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表（例如 $[r_1,r_2,r_3,r_4]$），其中每个 $r_i$ 是相应测试用例的磁滞损耗功率密度，单位为 $\\mathrm{W}/\\mathrm{m}^3$，并四舍五入到三位小数。",
            "solution": "该问题陈述已经过严格验证，并被认为是有效的。它在科学上基于电磁学原理，包含了所有必要的参数和方程，是自洽的，并且问题设定良好，能够为每个测试用例导出唯一、稳定且有意义的解。任务是通过数值计算其 B-H 回路的面积来计算磁性材料中的磁滞损耗功率密度。\n\n解决方案首先从第一性原理建立理论基础，然后开发一个稳健的数值算法，最后将此算法应用于指定的测试用例。\n\n### 1. 理论基础：磁性材料中的能量耗散\n\n外部磁场 $\\mathbf{H}$ 对磁通密度为 $\\mathbf{B}$ 的磁性材料所做的功由每单位体积的能量输入来描述。使磁通密度改变 $\\mathrm{d}\\mathbf{B}$ 所需的增量磁功密度（每单位体积的功）$\\mathrm{d}W_m$ 由下式给出：\n$$\n\\mathrm{d}W_m = \\mathbf{H} \\cdot \\mathrm{d}\\mathbf{B}\n$$\n此表达式是电磁场能量守恒的坡印亭定理 (Poynting's theorem) 的直接推论。当磁性材料在周期为 $T$ 的一个完整周期内受到时变磁场作用时，供给材料的每单位体积的净能量 $W_\\text{cycle}$ 是瞬时功率密度 $\\mathbf{H} \\cdot \\frac{\\partial\\mathbf{B}}{\\partial t}$ 在一个周期内的积分：\n$$\nW_\\text{cycle} = \\int_{0}^{T} \\left( \\mathbf{H}(t) \\cdot \\frac{\\mathrm{d}\\mathbf{B}(t)}{\\mathrm{d}t} \\right) \\mathrm{d}t\n$$\n假设场 $\\mathbf{H}$ 和 $\\mathbf{B}$ 是共线的，这在环形磁芯几何结构中是典型情况，我们可以使用标量 $H$ 和 $B$。通过将变量从时间 $t$ 更改为磁通密度 $B$，可以变换该积分：\n$$\nW_\\text{cycle} = \\oint H \\, \\mathrm{d}B\n$$\n这是一个闭合路径积分，沿着状态 $(B(t), H(t))$ 在 B-H 平面中一个完整周期的轨迹进行计算。这个轨迹构成了磁滞回线。\n\n总供给能量 $W_\\text{cycle}$ 分为两个部分：储存的磁能变化和以热量形式耗散的能量。由于材料在一个周期后返回其初始磁状态，储存能量的净变化为零。因此，该积分表示每单位体积每周期耗散的总能量 $W_\\text{diss}$：\n$$\nW_\\text{diss} = \\oint H \\, \\mathrm{d}B\n$$\n从几何上看，该积分是 B-H 回线所包围的面积。对于任何无源材料，能量必须被耗散而不是产生，因此该面积必须为非负值。\n\n### 2. 功率损耗密度\n\n每单位体积的平均耗散功率，称为功率损耗密度 $P_\\text{loss}$，是每周期耗散的能量 $W_\\text{diss}$ 除以周期 $T$。给定频率 $f = 1/T$，功率损耗密度为：\n$$\nP_\\text{loss} = \\frac{W_\\text{diss}}{T} = W_\\text{diss} \\cdot f\n$$\n单位是焦耳每立方米每秒 ($\\mathrm{J}/(\\mathrm{m}^3 \\cdot \\mathrm{s})$)，等同于瓦特每立方米 ($\\mathrm{W}/\\mathrm{m}^3$)。\n\n### 3. 数值积分程序\n\n问题以在均匀时间间隔内采集的一系列离散样本 $\\{(B_i, H_i)\\}_{i=0}^{N-1}$ 的形式提供了 B-H 回线。闭合路径积分 $\\oint H \\, \\mathrm{d}B$ 可以通过对离散化回线每个分段形成的梯形面积求和来进行数值计算。从点 $i$ 到 $i+1$ 的分段所贡献的面积元近似为：\n$$\n\\Delta W_i \\approx \\left(\\frac{H_i + H_{i+1}}{2}\\right) (B_{i+1} - B_i)\n$$\n为了计算闭合回路的总面积，我们将这些贡献从 $i=0$ 到 $N-1$ 的所有分段上求和。通过将最后一个点 $(B_{N-1}, H_{N-1})$ 连接回第一个点 $(B_0, H_0)$ 来闭合回路。这通过对索引取模 $N$ 来处理，即在步骤 $i=N-1$ 时，下一个点是 $(B_N, H_N) = (B_0, H_0)$。那么，每周期总耗散能量为：\n$$\nW_\\text{diss} \\approx \\sum_{i=0}^{N-1} \\left(\\frac{H_i + H_{i+1 \\pmod N}}{2}\\right) (B_{i+1 \\pmod N} - B_i)\n$$\n为了确保结果的物理性（耗散功率不能为负），我们取计算面积的绝对值。这考虑了回路可能以产生负数学面积（例如顺时针）的方向遍历的情况。\n$$\nW_\\text{diss} = \\left| \\sum_{i=0}^{N-1} \\left(\\frac{H_i + H_{i+1 \\pmod N}}{2}\\right) (B_{i+1 \\pmod N} - B_i) \\right|\n$$\n\n### 4. 测试用例的应用\n\n对于每个测试用例，我们首先生成 $B(t)$ 和 $H(t)$ 的离散时间序列。\n参数为：频率 $f=10\\,\\mathrm{kHz}$，样本数 $N=20000$。\n周期为 $T=1/f = 10^{-4}\\,\\mathrm{s}$，角频率为 $\\omega=2\\pi f = 2\\pi \\times 10^4\\,\\mathrm{rad/s}$。\n时间样本为 $t_i = i \\cdot \\Delta t$，其中 $i \\in \\{0, 1, ..., N-1\\}$，$\\Delta t = T/N$。\n\n信号生成如下：\n- 磁通密度：$B(t) = B_p \\sin(\\omega t)$\n- 磁通密度的时间导数：$\\frac{\\mathrm{d}B}{\\mathrm{d}t} = B_p \\omega \\cos(\\omega t)$\n- 磁场强度：$H(t) = \\frac{B(t)}{\\mu_\\mathrm{eff}} + H_c\\tanh\\left(\\frac{\\mathrm{d}B/\\mathrm{d}t}{v_0}\\right)$\n\n通过在每个时间步 $t_i$ 计算这些函数，生成离散数据数组 $B_i$ 和 $H_i$。然后使用这些数组在数值积分公式中求得 $W_\\text{diss}$，随后乘以 $f$ 得到 $P_\\text{loss}$。\n\n对于每个测试用例，算法按以下步骤进行：\n1. 设置该情况的特定参数：$B_p$、$\\mu_\\mathrm{eff}$、$H_c$、$v_0$。\n2. 生成一个包含 $N$ 个时间点 $t_i$ 的数组，从 $0$ 到 $T(1-1/N)$。\n3. 生成数组 $B_i = B(t_i) = B_p \\sin(\\omega t_i)$。\n4. 生成数组 $(\\mathrm{d}B/\\mathrm{d}t)_i = B_p \\omega \\cos(\\omega t_i)$。\n5. 使用提供的公式生成数组 $H_i = H(t_i)$。\n6. 使用梯形求和法在 $(B_i, H_i)$ 点上计算每周期能量密度 $W_\\text{diss}$，确保结果为非负。\n7. 计算功率损耗密度 $P_\\text{loss} = W_\\text{diss} \\cdot f$。\n8. 将 $P_\\text{loss}$ 的最终值四舍五入到三位小数。\n\n此程序被系统地应用于所有四个指定的测试用例。其中 $B_p=0$ 的退化情况作为一个关键的健全性检查，因为它必须产生零损耗。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes hysteresis loss power density for four test cases based on a\n    phenomenological model of a magnetic B-H loop.\n    \"\"\"\n\n    # Define the test cases from the problem statement.\n    # Each case is a dictionary of parameters.\n    test_cases = [\n        {\n            \"name\": \"1. Happy path (moderate hysteresis)\",\n            \"B_p\": 0.3, # T\n            \"mu_eff\": 2.0e-3, # T/(A/m)\n            \"H_c\": 50.0, # A/m\n            \"v_0\": 1000.0, # T/s\n        },\n        {\n            \"name\": \"2. Narrow loop (low coercivity)\",\n            \"B_p\": 0.3, # T\n            \"mu_eff\": 2.0e-3, # T/(A/m)\n            \"H_c\": 5.0, # A/m\n            \"v_0\": 1000.0, # T/s\n        },\n        {\n            \"name\": \"3. Low amplitude (edge case)\",\n            \"B_p\": 0.01, # T\n            \"mu_eff\": 2.0e-3, # T/(A/m)\n            \"H_c\": 50.0, # A/m\n            \"v_0\": 1000.0, # T/s\n        },\n        {\n            \"name\": \"4. Degenerate loop (boundary case)\",\n            \"B_p\": 0.0, # T\n            \"mu_eff\": 2.0e-3, # T/(A/m)\n            \"H_c\": 50.0, # A/m\n            \"v_0\": 1000.0, # T/s\n        },\n    ]\n\n    # Global parameters\n    f = 10000.0  # Hz\n    N = 20000    # Number of samples\n\n    def calculate_loss_power_density(params, f, N):\n        \"\"\"\n        Generates B(t) and H(t) data and computes the loss power density.\n        \n        Args:\n            params (dict): Dictionary containing B_p, mu_eff, H_c, v_0.\n            f (float): Frequency in Hz.\n            N (int): Number of samples per period.\n            \n        Returns:\n            float: Hysteresis loss power density in W/m^3.\n        \"\"\"\n        # Extract parameters for the current case\n        B_p = params[\"B_p\"]\n        mu_eff = params[\"mu_eff\"]\n        H_c = params[\"H_c\"]\n        v_0 = params[\"v_0\"]\n\n        # Time and frequency domain setup\n        T = 1.0 / f\n        omega = 2.0 * np.pi * f\n        t = np.linspace(0, T, N, endpoint=False)\n\n        # Generate B(t) and its time derivative dB/dt\n        B = B_p * np.sin(omega * t)\n        dB_dt = B_p * omega * np.cos(omega * t)\n\n        # Generate H(t) based on the provided phenomenological model\n        H = (B / mu_eff) + H_c * np.tanh(dB_dt / v_0)\n        \n        # Handle the degenerate case where B is constant (e.g., B_p = 0)\n        # In this case, dB is zero everywhere, so the integral is zero.\n        if np.all(B == B[0]):\n            return 0.0\n\n        # Numerically compute the line integral W_diss = integral(H dB)\n        # This calculates the area of the B-H loop.\n        # We use a robust method based on the surveyor's formula / trapezoidal rule.\n        # Create shifted arrays to compute differences for closing the loop.\n        # B_next at index i is B at index i+1 (with wrap-around)\n        B_next = np.roll(B, -1)\n        H_next = np.roll(H, -1)\n        \n        # Area contribution from each segment using trapezoidal rule: (y1+y2)/2 * (x2-x1)\n        # Here x is B and y is H.\n        dB = B_next - B\n        H_avg = 0.5 * (H + H_next)\n        \n        W_diss_per_cycle = np.sum(H_avg * dB)\n\n        # Dissipated energy must be non-negative. Taking the absolute value\n        # accounts for the direction of integration (clockwise vs. counter-clockwise).\n        W_diss_per_cycle = abs(W_diss_per_cycle)\n\n        # Convert energy per cycle per volume (J/m^3) to power density (W/m^3)\n        power_loss_density = W_diss_per_cycle * f\n\n        return power_loss_density\n\n    results = []\n    for case in test_cases:\n        power_loss = calculate_loss_power_density(case, f, N)\n        # Round the result to three decimal places as specified.\n        results.append(round(power_loss, 3))\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        },
        {
            "introduction": "磁芯的总损耗由磁滞损耗和涡流损耗等多个部分组成。为了有效地设计和优化磁性元件，我们必须能够独立地分析每个损耗分量。本练习将引导您从麦克斯韦方程和欧姆定律等第一性原理出发，推导出在薄叠片中涡流损耗的经典解析表达式，深刻理解涡流损耗与材料属性及工作频率之间的定量关系。",
            "id": "3848093",
            "problem": "一个厚度为 $d$ 的无限宽铁磁叠片占据区域 $-d/2 \\le x \\le d/2$，其中 $x$ 轴垂直于叠片平面。沿 $z$ 方向外部施加一个空间均匀的磁通量密度 $B_{z}(t)$，它随时间按正弦规律变化，表达式为 $B_{z}(t) = B_{p} \\sin(2\\pi f t)$，其中 $B_{p}$ 是峰值磁通量密度，$f$ 是频率。假设该叠片在电学上是均匀且各向同性的，其电导率为 $\\sigma$（等效地，电阻率为 $\\rho = 1/\\sigma$），并具有与 $B_{z}$ 无关的恒定磁导率。适用低频薄叠片极限，即趋肤深度远大于 $d$，因此 $B_{z}$ 在整个 $x$ 方向上是均匀的，磁场分布不受涡流影响而扭曲。忽略磁滞效应，因此只考虑涡流损耗。\n\n仅从以下基本关系出发：\n- 微分形式的麦克斯韦-法拉第定律，$\\nabla \\times \\mathbf{E} = -\\partial \\mathbf{B}/\\partial t$，\n- 均匀导体的欧姆定律，$\\mathbf{J} = \\sigma \\mathbf{E}$，\n- 瞬时体积焦耳热密度，$p(t) = \\mathbf{J}\\cdot \\mathbf{E}$，\n\n在上述假设下，推导单位体积的时间平均涡流功率损耗 $P_{e}/V$ 作为 $B_{p}$、$f$、$d$ 和 $\\sigma$ 的函数的解析表达式。然后，使用您的结果来量化当 $\\sigma$ 随温度变化时 $P_{e}/V$ 如何变化，并计算当电阻率减少其原始值的 $0.20$ 时（即当 $\\rho_{\\text{new}} = 0.80\\,\\rho_{\\text{old}}$，且 $B_{p}$、$f$ 和 $d$ 保持不变时）$P_{e}/V$ 的分数增量（以不带百分号的小数表示）。\n\n提供：\n- $P_{e}/V$ 对 $B_{p}$、$f$、$d$ 和 $\\sigma$ 的闭合形式依赖关系，\n- 给出 $\\rho$ 发生指定变化时 $P_{e}/V$ 的分数增量的单个小数值。\n\n不需要对 $B_{p}$、$f$、$d$ 或 $\\sigma$ 进行数值代入。如果您在任何中间步骤中使用了近似，请说明为何该近似在所述假设下是有效的。将分数增量表示为单个小数；不需要单位。由于预期得到精确的小数，因此不需要舍入说明。",
            "solution": "该问题被评估为有效。它在科学上基于电磁学原理，是自洽、适定且客观的。所提供的假设，如薄叠片极限和忽略磁滞，是此类经典分析的标准假设，并使问题可解析求解。我们进行推导。\n\n目标是推导单位体积的时间平均涡流功率损耗的表达式，记为 $P_e/V$。推导将从指定的基本物理定律开始。\n\n起点是微分形式的麦克斯韦-法拉第定律：\n$$ \\nabla \\times \\mathbf{E} = -\\frac{\\partial \\mathbf{B}}{\\partial t} $$\n磁通量密度 $\\mathbf{B}$ 被给出为空间均匀且沿 $z$ 方向随时间正弦变化：$\\mathbf{B}(t) = B_p \\sin(2\\pi f t) \\hat{k}$。其时间导数为：\n$$ \\frac{\\partial \\mathbf{B}}{\\partial t} = \\frac{\\partial}{\\partial t} (B_p \\sin(2\\pi f t) \\hat{k}) = 2\\pi f B_p \\cos(2\\pi f t) \\hat{k} $$\n将此代入麦克斯韦-法拉第方程，得到：\n$$ \\nabla \\times \\mathbf{E} = -2\\pi f B_p \\cos(2\\pi f t) \\hat{k} $$\n问题几何涉及一个无限宽的叠片，这意味着在 $y$ 和 $z$ 方向上具有平移对称性。因此，电场 $\\mathbf{E}$ 不能依赖于 $y$ 或 $z$ 坐标，所以 $\\mathbf{E} = \\mathbf{E}(x,t)$。这样一个场的旋度为：\n$$ \\nabla \\times \\mathbf{E}(x,t) = \\begin{vmatrix} \\hat{i}  \\hat{j}  \\hat{k} \\\\ \\frac{\\partial}{\\partial x}  0  0 \\\\ E_x  E_y  E_z \\end{vmatrix} = -\\frac{\\partial E_z}{\\partial x} \\hat{j} + \\frac{\\partial E_y}{\\partial x} \\hat{k} $$\n通过比较 $\\nabla \\times \\mathbf{E}$ 的两个表达式的分量，我们推断出：\n1.  $\\hat{j}$ 分量：$-\\frac{\\partial E_z}{\\partial x} = 0$，意味着 $E_z$ 与 $x$ 无关。由于没有沿 $z$ 轴的驱动力，我们取 $E_z = 0$。\n2.  $\\hat{i}$ 分量：没有 $E_x$ 分量的源。抵抗 $z$ 方向磁通量变化的电流回路（涡流）必须位于 $x-y$ 平面内。因此我们可以设置 $E_x=0$。\n3.  $\\hat{k}$ 分量：$\\frac{\\partial E_y}{\\partial x} = -2\\pi f B_p \\cos(2\\pi f t)$。\n\n因此，电场纯粹在 $y$ 方向上，$\\mathbf{E} = E_y(x,t)\\hat{j}$。我们通过对 $x$ 积分来求 $E_y(x,t)$：\n$$ E_y(x,t) = \\int \\left( -2\\pi f B_p \\cos(2\\pi f t) \\right) dx = -x (2\\pi f B_p \\cos(2\\pi f t)) + C(t) $$\n积分常数 $C(t)$ 由对称性考虑确定。物理设置相对于平面 $x=0$ 是对称的。对于 $x0$ 和 $x0$，感应电流必须大小相等、方向相反，这意味着在 $x=0$ 处的电流密度必须为零。根据欧姆定律 $\\mathbf{J} = \\sigma \\mathbf{E}$，这意味着 $\\mathbf{E}(x=0, t) = 0$。应用此条件：\n$$ E_y(0,t) = -0 \\cdot (2\\pi f B_p \\cos(2\\pi f t)) + C(t) = 0 \\implies C(t) = 0 $$\n因此，叠片内部的电场为：\n$$ \\mathbf{E}(x,t) = -2\\pi f B_p x \\cos(2\\pi f t) \\hat{j} $$\n感应涡流密度 $\\mathbf{J}$ 由欧姆定律 $\\mathbf{J} = \\sigma \\mathbf{E}$ 给出：\n$$ \\mathbf{J}(x,t) = -\\sigma (2\\pi f B_p x \\cos(2\\pi f t)) \\hat{j} $$\n由焦耳热引起的瞬时体积功率密度为 $p(x,t) = \\mathbf{J} \\cdot \\mathbf{E} = \\sigma |\\mathbf{E}|^2$：\n$$ p(x,t) = \\sigma (-2\\pi f B_p x \\cos(2\\pi f t))^2 = \\sigma (2\\pi f B_p)^2 x^2 \\cos^2(2\\pi f t) $$\n为了求出单位体积的时间平均功率损耗，我们必须将 $p(x,t)$ 在一个时间周期 $T=1/f$ 和叠片厚度 $d$ 上进行平均。\n首先，我们对时间进行平均。$\\cos^2$ 项在一个周期内的时间平均值为：\n$$ \\langle \\cos^2(2\\pi f t) \\rangle_t = \\frac{1}{T} \\int_0^T \\cos^2(2\\pi f t) dt = \\frac{1}{2} $$\n在特定位置 $x$ 的时间平均功率密度为：\n$$ \\langle p(x) \\rangle_t = \\sigma (2\\pi f B_p)^2 x^2 \\cdot \\frac{1}{2} = 2 \\pi^2 f^2 B_p^2 \\sigma x^2 $$\n接下来，我们将此表达式在叠片的厚度上进行平均，其范围从 $x=-d/2$ 到 $x=d/2$。这涉及到求 $x^2$ 在此区间上的平均值：\n$$ \\langle x^2 \\rangle_x = \\frac{1}{d} \\int_{-d/2}^{d/2} x^2 dx = \\frac{1}{d} \\left[\\frac{x^3}{3}\\right]_{-d/2}^{d/2} = \\frac{1}{3d} \\left[ \\left(\\frac{d}{2}\\right)^3 - \\left(-\\frac{d}{2}\\right)^3 \\right] = \\frac{1}{3d} \\left( \\frac{d^3}{8} + \\frac{d^3}{8} \\right) = \\frac{d^2}{12} $$\n单位体积的时间平均功率损耗 $P_e/V$ 是常数项与这些平均值的乘积：\n$$ \\frac{P_e}{V} = \\langle \\langle p(x,t) \\rangle_t \\rangle_x = (2 \\pi^2 f^2 B_p^2 \\sigma) \\langle x^2 \\rangle_x = 2 \\pi^2 f^2 B_p^2 \\sigma \\left(\\frac{d^2}{12}\\right) $$\n简化此表达式得到第一个要求的结果：\n$$ \\frac{P_e}{V} = \\frac{\\pi^2 f^2 B_p^2 d^2 \\sigma}{6} $$\n对于问题的第二部分，我们分析 $P_e/V$ 如何随电阻率 $\\rho$ 变化。由于电导率 $\\sigma = 1/\\rho$，我们可以写成：\n$$ \\frac{P_e}{V} = \\frac{\\pi^2 f^2 B_p^2 d^2}{6\\rho} $$\n这表明，对于固定的 $B_p$、$f$ 和 $d$，单位体积的功率损耗与电阻率成反比：$P_e/V \\propto \\rho^{-1}$。\n我们已知新的电阻率为 $\\rho_{\\text{new}} = 0.80\\,\\rho_{\\text{old}}$。新功率损耗与旧功率损耗之比为：\n$$ \\frac{(P_e/V)_{\\text{new}}}{(P_e/V)_{\\text{old}}} = \\frac{\\rho_{\\text{old}}}{\\rho_{\\text{new}}} = \\frac{\\rho_{\\text{old}}}{0.80\\,\\rho_{\\text{old}}} = \\frac{1}{0.80} = 1.25 $$\n$P_e/V$ 的分数增量定义为 $\\frac{(P_e/V)_{\\text{new}} - (P_e/V)_{\\text{old}}}{(P_e/V)_{\\text{old}}}$。计算如下：\n$$ \\frac{(P_e/V)_{\\text{new}}}{(P_e/V)_{\\text{old}}} - 1 = 1.25 - 1 = 0.25 $$\n因此，单位体积涡流功率损耗的分数增量为 $0.25$。",
            "answer": "$$ \\boxed{\\frac{\\pi^{2} f^{2} B_{p}^{2} d^{2} \\sigma}{6}, \\quad 0.25} $$"
        },
        {
            "introduction": "在实践中，我们常常希望将测量的 $B-H$ 回线面积直接等同于材料的固有磁滞损耗，但这需要一个关键前提：涡流损耗可以忽略不计。本练习将引导您进行批判性分析，通过引入磁趋肤深度的概念，来判断涡流效应对测量结果的影响程度。通过计算和比较两种典型磁性材料（铁氧体和硅钢）的案例，您将学会如何评估测量方法的有效范围，并理解何时测量的总损耗可以近似为纯磁滞损耗。",
            "id": "3848096",
            "problem": "一家电力电子学实验室试图通过测量一个稳态周期内的闭环积分 $\\oint H\\,\\mathrm{d}B$ 来量化高频变压器中使用的磁芯单位体积的内禀磁滞能量。测量装置使用一个环形磁芯，由一个 $N$ 匝的磁化绕组和一个 $N_s$ 匝的感应绕组驱动。磁化电流 $i(t)$ 给出了外加磁化场 $H_{\\mathrm{app}}(t)\\approx N i(t)/\\ell_{\\mathrm{m}}$ 的估计值，其中 $\\ell_{\\mathrm{m}}$ 是平均磁路长度；感应绕组电压 $v_s(t)$ 被积分以估计平均磁通密度 $B_{\\mathrm{avg}}(t)\\approx \\frac{1}{A_c N_s}\\int v_s(t)\\,\\mathrm{d}t$，其中 $A_c$ 是磁芯的横截面积。该实验室计划使用回线面积 $\\oint H_{\\mathrm{app}}\\,\\mathrm{d}B_{\\mathrm{avg}}$ 除以磁芯体积来表示单位体积的磁滞能量。\n\n请您审慎评估“$\\oint H\\,\\mathrm{d}B$ 等于单位体积内禀磁滞能量”这一结论所需的假设，从基本电磁学原理出发，确定在何种情况下涡流会扭曲 $H$ 和 $B$ 的测量，以至于 $\\oint H\\,\\mathrm{d}B$ 中包含了非磁滞损耗。特别地，请考虑以下在电力电子学中典型的两种磁芯和工作条件：\n\n案例1（铁氧体）：一个环形铁氧体磁芯，电导率 $\\sigma = 1\\,\\mathrm{S/m}$，相对磁导率 $\\mu_r = 2000$，厚度（径向尺寸）$t = 2\\,\\mathrm{mm}$，在 $f=100\\,\\mathrm{kHz}$ 的频率下驱动。\n\n案例2（硅钢）：一个实心环形硅钢磁芯，电导率 $\\sigma = 2\\times 10^{6}\\,\\mathrm{S/m}$，相对磁导率 $\\mu_r = 4000$，厚度 $t = 2\\,\\mathrm{mm}$，在 $f=100\\,\\mathrm{kHz}$ 的频率下驱动。\n\n使用磁趋肤深度 $\\delta = \\sqrt{\\frac{2}{\\omega \\mu \\sigma}}$（其中 $\\omega = 2\\pi f$，$\\mu = \\mu_0 \\mu_r$，$\\mu_0$ 是自由空间磁导率），并从 Maxwell 方程组和 Poynting 定理进行推断，以建立可以忽略涡流且测量值 $\\oint H\\,\\mathrm{d}B$ 能忠实地表示单位体积磁滞能量的条件。同时，请评论退磁场和空间非均匀性的作用。\n\n选择所有正确的陈述：\n\nA. 将 $\\oint H\\,\\mathrm{d}B$ 等同于单位体积的内禀磁滞能量仅在准静态激励下有效，此时传导电流可忽略，位移电流可忽略，内部场 $H(\\mathbf{r},t)$ 和 $B(\\mathbf{r},t)$ 在空间上是均匀的（或经过适当的体积平均），且退磁效应被最小化（例如，采用环形几何结构）或经过明确校正；否则，$\\oint H\\,\\mathrm{d}B$ 将包含非磁滞贡献。\n\nB. 对于任何导电磁芯，在任何有限频率下，测得的回路 $\\oint H\\,\\mathrm{d}B$ 的面积必然会高估内禀磁滞损耗，这与厚度或趋肤深度无关，因为磁路是闭合的。\n\nC. 当磁趋肤深度 $\\delta$ 小于特征横向尺寸（例如厚度 $t$）时，涡流会显著扭曲测量的 $H$ 和 $B$，这等效于 $\\omega \\mu \\sigma t^{2}\\gg 1$ 或 $\\delta \\ll t$。这会导致相位滞后和空间非均匀性，使得表观回线面积 $\\oint H\\,\\mathrm{d}B$ 除了磁滞损耗外，还包含动态涡流损耗。\n\nD. 在案例1中（铁氧体， $f=100\\,\\mathrm{kHz}$，$\\sigma = 1\\,\\mathrm{S/m}$，$\\mu_r = 2000$，$t=2\\,\\mathrm{mm}$），趋肤深度满足 $\\delta \\gg t$，因此涡流可以忽略不计，测得的单位体积 $\\oint H\\,\\mathrm{d}B$ 非常接近单位体积的内禀磁滞能量。\n\nE. 在案例2中（硅钢， $f=100\\,\\mathrm{kHz}$，$\\sigma = 2\\times 10^{6}\\,\\mathrm{S/m}$，$\\mu_r = 4000$，$t=2\\,\\mathrm{mm}$），通过 $N i/\\ell_{\\mathrm{m}}$ 测量 $H$ 和通过 $\\frac{1}{A_c N_s}\\int v_s\\,\\mathrm{d}t$ 测量 $B$ 的过程不受涡流影响，因为环形几何结构消除了退磁场。\n\nF. 在大约 $1\\,\\mathrm{MHz}$ 以下的频率，位移电流主导了磁芯中 $H$ 和 $B$ 的扭曲，因此在解释 $\\oint H\\,\\mathrm{d}B$ 时可以忽略涡流。",
            "solution": "问题陈述是对磁学中一种测量技术进行理论分析的有效请求。它在科学上以经典电磁学为基础，提法得当，并使用了客观的技术语言和符合实际的参数。该问题没有说明中列出的导致其无效的缺陷。因此，我们可以继续进行解答。\n\n### 基本原理：磁性材料中的能量耗散\n\n处于时变磁场中的磁性材料的能量耗散可以从 Poynting 定理出发来理解。电磁场传递给体积为 $V$ 的材料的功率等于欧姆损耗与储存场能的变化率之和。对于周期场的一个完整周期，储存能量的净变化为零。因此，在一个周期内材料中耗散的总能量 $W_{\\text{cycle}}$ 是输入功率在一个周期 $T$ 上的时间积分。\n\n磁化绕组提供的电功率为 $P(t) = v(t)i(t)$。根据 Faraday 感应定律，这个有 $N$ 匝的初级绕组上的电压为 $v(t) = N \\frac{d\\Phi}{dt}$，其中 $\\Phi$ 是穿过磁芯的总磁通量。磁通量是磁通密度 $B$ 在磁芯横截面积上的积分，即 $\\Phi(t) = \\int_{A_c} B(\\mathbf{r}, t) \\, dA = A_c B_{\\mathrm{avg}}(t)$。根据 Ampere 定律，磁化电流 $i(t)$ 产生外加磁场 $H_{\\mathrm{app}}(t)$，对于平均磁路长度为 $\\ell_{\\mathrm{m}}$ 的环形磁芯，该磁场近似为 $H_{\\mathrm{app}}(t) = N i(t) / \\ell_{\\mathrm{m}}$。\n\n结合这些关系，输入功率为：\n$$ P(t) = \\left(N A_c \\frac{d B_{\\mathrm{avg}}}{dt}\\right) \\left(\\frac{H_{\\mathrm{app}} \\ell_{\\mathrm{m}}}{N}\\right) = (A_c \\ell_{\\mathrm{m}}) H_{\\mathrm{app}}(t) \\frac{d B_{\\mathrm{avg}}(t)}{dt} $$\n认识到磁芯体积为 $V_{\\text{core}} = A_c \\ell_{\\mathrm{m}}$，功率为 $P(t) = V_{\\text{core}} H_{\\mathrm{app}}(t) \\frac{d B_{\\mathrm{avg}}(t)}{dt}$。\n\n每个周期耗散的总能量是该功率在一个周期 $T$ 内的积分：\n$$ W_{\\text{cycle}} = \\int_0^T P(t) \\, dt = V_{\\text{core}} \\int_0^T H_{\\mathrm{app}}(t) \\frac{d B_{\\mathrm{avg}}(t)}{dt} dt = V_{\\text{core}} \\oint H_{\\mathrm{app}} \\, \\mathrm{d}B_{\\mathrm{avg}} $$\n因此，测量量，即由外加磁场 $H_{\\mathrm{app}}$ 和平均磁通密度 $B_{\\mathrm{avg}}$ 描绘的回路面积，代表**每周期单位体积的总能量损耗**。\n\n这种总损耗源于材料内部的两种主要机制：\n1.  **磁滞损耗 ($w_h$)**：由于磁畴壁的不可逆运动而耗散的能量。在没有其他效应的情况下，这由内禀磁滞回线的面积 $\\oint H \\, \\mathrm{d}B$ 给出。\n2.  **涡流损耗 ($w_e$)**：根据 Faraday 定律（$\\nabla \\times \\mathbf{E} = -\\partial\\mathbf{B}/\\partial t$），由时变磁通量感应出的电流所产生的欧姆损耗（$\\int \\sigma E^2 \\, dt$）。\n\n因此，测得的回路面积代表了这些损耗的总和：\n$$ \\frac{W_{\\text{cycle}}}{V_{\\text{core}}} = \\oint H_{\\mathrm{app}} \\, \\mathrm{d}B_{\\mathrm{avg}} = w_h + w_e $$\n测量值 $\\oint H_{\\mathrm{app}} \\, \\mathrm{d}B_{\\mathrm{avg}}$ 可以等同于单位体积的内禀磁滞损耗 $\\oint H \\, \\mathrm{d}B$，当且仅当涡流损耗 $w_e$ 可以忽略不计时成立。\n\n### 涡流与趋肤深度的作用\n\n当材料是导电的（$\\sigma  0$）且频率不为零（$f  0$）时，涡流是显著的。这些电流会产生自己的磁场，与外加场方向相反，这种现象称为磁屏蔽。这导致内部磁场 $H(\\mathbf{r}, t)$ 和 $B(\\mathbf{r}, t)$ 在空间上变得不均匀，通常从磁芯表面向中心衰减。\n\n这种衰减的特征长度标度是磁趋肤深度 $\\delta$，定义为：\n$$ \\delta = \\sqrt{\\frac{2}{\\omega \\mu \\sigma}} $$\n其中 $\\omega = 2\\pi f$ 是角频率，$\\mu = \\mu_0 \\mu_r$ 是磁导率，$\\sigma$ 是电导率。\n\n涡流的重要性是通过比较趋肤深度 $\\delta$ 与磁芯的特征横向尺寸（如其厚度 $t$）来确定的：\n-   如果 $\\delta \\gg t$：场几乎均匀地穿透磁芯。感应出的涡流很弱，其屏蔽效应可以忽略不计，且 $H(\\mathbf{r}, t) \\approx H_{\\mathrm{app}}(t)$。在这种情况下，$w_e \\approx 0$，测得的回路面积非常接近内禀磁滞损耗：$\\oint H_{\\mathrm{app}} \\, \\mathrm{d}B_{\\mathrm{avg}} \\approx w_h$。\n-   如果 $\\delta \\ll t$：场被局限在表面附近的一个薄层内。内部场高度不均匀，$H$ 和 $B$ 之间的相位关系随位置变化。测得的回路因涡流耗散而被显著加宽，并且 $\\oint H_{\\mathrm{app}} \\, \\mathrm{d}B_{\\mathrm{avg}} = w_h + w_e$，其中 $w_e$ 是一个相当大的甚至占主导地位的项。条件 $\\delta \\ll t$ 等效于 $\\omega \\mu \\sigma t^2 \\gg 2$。\n\n### 案例1和案例2的分析\n我们使用 $\\mu_0 = 4\\pi \\times 10^{-7}\\,\\mathrm{H/m}$，$f=100\\,\\mathrm{kHz}$（所以 $\\omega = 2\\pi \\times 10^5\\,\\mathrm{rad/s}$），以及 $t=2\\,\\mathrm{mm} = 2 \\times 10^{-3}\\,\\mathrm{m}$。\n\n**案例1（铁氧体）：**\n-   给定：$\\sigma = 1\\,\\mathrm{S/m}$，$\\mu_r = 2000$。\n-   $\\mu = 2000 \\times 4\\pi \\times 10^{-7} \\approx 2.513 \\times 10^{-3}\\,\\mathrm{H/m}$。\n-   趋肤深度：\n$$ \\delta_1 = \\sqrt{\\frac{2}{(2\\pi \\times 10^5\\,\\mathrm{s}^{-1})(2.513 \\times 10^{-3}\\,\\mathrm{H/m})(1\\,\\mathrm{S/m})}} \\approx \\sqrt{1.267 \\times 10^{-3}\\,\\mathrm{m}^2} \\approx 0.0356\\,\\mathrm{m} = 35.6\\,\\mathrm{mm} $$\n-   比较：$\\delta_1 = 35.6\\,\\mathrm{mm}$ 远大于厚度 $t = 2\\,\\mathrm{mm}$。我们处于 $\\delta \\gg t$ 的情况。涡流可以忽略不计。\n\n**案例2（硅钢）：**\n-   给定：$\\sigma = 2 \\times 10^6\\,\\mathrm{S/m}$，$\\mu_r = 4000$。\n-   $\\mu = 4000 \\times 4\\pi \\times 10^{-7} \\approx 5.027 \\times 10^{-3}\\,\\mathrm{H/m}$。\n-   趋肤深度：\n$$ \\delta_2 = \\sqrt{\\frac{2}{(2\\pi \\times 10^5\\,\\mathrm{s}^{-1})(5.027 \\times 10^{-3}\\,\\mathrm{H/m})(2 \\times 10^6\\,\\mathrm{S/m})}} \\approx \\sqrt{3.166 \\times 10^{-10}\\,\\mathrm{m}^2} \\approx 1.78 \\times 10^{-5}\\,\\mathrm{m} = 0.0178\\,\\mathrm{mm} $$\n-   比较：$\\delta_2 = 0.0178\\,\\mathrm{mm}$ 远小于厚度 $t = 2\\,\\mathrm{mm}$。我们处于 $\\delta \\ll t$ 的情况。涡流效应占主导地位。\n\n### 选项评估\n\n**A. 将 $\\oint H\\,\\mathrm{d}B$ 等同于单位体积的内禀磁滞能量仅在准静态激励下有效，此时传导电流可忽略，位移电流可忽略，内部场 $H(\\mathbf{r},t)$ 和 $B(\\mathbf{r},t)$ 在空间上是均匀的（或经过适当的体积平均），且退磁效应被最小化（例如，采用环形几何结构）或经过明确校正；否则，$\\oint H\\,\\mathrm{d}B$ 将包含非磁滞贡献。**\n该陈述全面而准确地总结了测量值代表内禀磁滞所需的条件。“准静态”意味着忽略波的传播，并且通常忽略位移电流。可忽略的传导电流（涡流）是分离磁滞损耗的核心条件。空间均匀性是确保测量的平均值能有意义地代表体材料行为所必需的。最小化退磁场（例如，使用环形磁芯）确保了外加场 $H_{\\mathrm{app}}$ 的良好定义。如果这些条件不满足，测得的回路代表总损耗，包括非磁滞的涡流损耗。\n**结论：正确。**\n\n**B. 对于任何导电磁芯，在任何有限频率下，测得的回路 $\\oint H\\,\\mathrm{d}B$ 的面积必然会高估内禀磁滞损耗，这与厚度或趋肤深度无关，因为磁路是闭合的。**\n虽然任何非零的电导率和频率都会产生一些涡流，从而导致高估，这是正确的，但声称这“与厚度或趋肤深度无关”是错误的。我们的分析表明，这种高估的幅度严重依赖于厚度与趋肤深度的比率。对于 $\\delta \\gg t$，高估可以忽略不计；对于 $\\delta \\ll t$，高估则非常显著。磁路闭合是一个*提高*测量有效性的特征，因为它清晰地定义了 $H$，而不是导致高估的原因。\n**结论：不正确。**\n\n**C. 当磁趋肤深度 $\\delta$ 小于特征横向尺寸（例如厚度 $t$）时，涡流会显著扭曲测量的 $H$ 和 $B$，这等效于 $\\omega \\mu \\sigma t^{2}\\gg 1$ 或 $\\delta \\ll t$。这会导致相位滞后和空间非均匀性，使得表观回线面积 $\\oint H\\,\\mathrm{d}B$ 除了磁滞损耗外，还包含动态涡流损耗。**\n该陈述正确地指出了产生显著涡流效应的条件（$\\delta \\ll t$）及其数学等价形式（$\\omega \\mu \\sigma t^2 \\gg 1$，因为 $\\delta^2 = 2/\\omega\\mu\\sigma$）。它也正确地描述了其后果：场的空间非均匀性，以及由此产生的回路面积代表磁滞和涡流损耗之和这一事实。\n**结论：正确。**\n\n**D. 在案例1中（铁氧体， $f=100\\,\\mathrm{kHz}$，$\\sigma = 1\\,\\mathrm{S/m}$，$\\mu_r = 2000$，$t=2\\,\\mathrm{mm}$），趋肤深度满足 $\\delta \\gg t$，因此涡流可以忽略不计，测得的单位体积 $\\oint H\\,\\mathrm{d}B$ 非常接近单位体积的内禀磁滞能量。**\n我们对案例1的计算得出 $\\delta_1 \\approx 35.6\\,\\mathrm{mm}$，这确实远大于 $t = 2\\,\\mathrm{mm}$。这验证了 $\\delta \\gg t$ 的条件。因此，涡流损耗极小，测得的回路面积将是对内禀磁滞损耗的良好近似。\n**结论：正确。**\n\n**E. 在案例2中（硅钢， $f=100\\,\\mathrm{kHz}$，$\\sigma = 2\\times 10^{6}\\,\\mathrm{S/m}$，$\\mu_r = 4000$，$t=2\\,\\mathrm{mm}$），通过 $N i/\\ell_{\\mathrm{m}}$ 测量 $H$ 和通过 $\\frac{1}{A_c N_s}\\int v_s\\,\\mathrm{d}t$ 测量 $B$ 的过程不受涡流影响，因为环形几何结构消除了退磁场。**\n我们对案例2的计算得出 $\\delta_2 \\approx 0.0178\\,\\mathrm{mm}$，这远小于 $t = 2\\,\\mathrm{mm}$。这表明涡流效应极强，并将在测量中占主导地位。陈述中“测量不受涡流影响”的说法是错误的。所提供的理由是一个不合逻辑的推论；虽然环形几何结构确实消除了退磁场，但它对导电材料内部涡流的产生没有影响。\n**结论：不正确。**\n\n**F. 在大约 $1\\,\\mathrm{MHz}$ 以下的频率，位移电流主导了磁芯中 $H$ 和 $B$ 的扭曲，因此在解释 $\\oint H\\,\\mathrm{d}B$ 时可以忽略涡流。**\n该陈述从根本上误解了这些材料中传导电流（$\\mathbf{J}_C = \\sigma\\mathbf{E}$）和位移电流（$\\mathbf{J}_D = \\epsilon \\partial\\mathbf{E}/\\partial t$）的相对大小。它们的大小之比为 $|\\mathbf{J}_D|/|\\mathbf{J}_C| = \\omega\\epsilon/\\sigma$。对于典型的铁氧体，尤其是像硅钢这样的金属磁芯，电导率 $\\sigma$ 足够大，以至于这个比率在远高于 MHz 的频率范围内都远小于1。传导电流（涡流）是主要的基于电流的损耗机制，而不是位移电流。\n**结论：不正确。**",
            "answer": "$$\\boxed{ACD}$$"
        }
    ]
}