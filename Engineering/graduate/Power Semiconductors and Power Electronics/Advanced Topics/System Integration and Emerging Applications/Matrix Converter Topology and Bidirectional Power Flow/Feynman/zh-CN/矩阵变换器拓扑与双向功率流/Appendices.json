{
    "hands_on_practices": [
        {
            "introduction": "量化导通损耗和开关损耗是评估变换器效率和设计其热管理系统的第一步。这项实践练习  提供了一个基础模型，用于计算这两个主要的损耗分量，从而加深对矩阵变换器能量转换效率的理解。通过从器件级的物理特性出发，您将学会如何将微观的损耗机制整合为对整个变换器宏观性能的评估。",
            "id": "3857126",
            "problem": "一个三相-三相直接矩阵变换器使用$9$个相同的双向开关，将一个平衡的三相输入连接到一个具有正弦电流的平衡三相输出。每个双向开关在传导相电流$i_{s}(t)$时，其模型为一个由恒定项和电阻项组成的导通压降，使得该导通路径中的瞬时导通损耗为$p_{\\text{cond}}(t)=V_{\\text{on}}|i_{s}(t)|+R_{\\text{on}}\\,i_{s}^{2}(t)$，其中$V_{\\text{on}}$和$R_{\\text{on}}$是不随时间变化的器件参数。\n\n假设调制法则强制在任何时刻恰好有$3$个开关闭合，每个输出相一个，并且流过每个导通开关的电流等于相应的输出相电流（理想开关、可忽略的换相重叠且无环流）。三相输出电流是平衡的，由下式给出\n$$\ni_{a}(t)=\\hat{I}_{o}\\sin(\\omega_{o}t),\\quad\ni_{b}(t)=\\hat{I}_{o}\\sin(\\omega_{o}t-\\tfrac{2\\pi}{3}),\\quad\ni_{c}(t)=\\hat{I}_{o}\\sin(\\omega_{o}t+\\tfrac{2\\pi}{3}),\n$$\n角频率为$\\omega_{o}$，峰值幅值为$\\hat{I}_{o}$。设输出基波电周期为$T_{o}=\\tfrac{2\\pi}{\\omega_{o}}$。\n\n假设开关转换为硬开关，每次事件的能量损耗与时间无关：开通能量为$E_{\\text{on}}$，关断能量为$E_{\\text{off}}$。在每个开关周期$T_{s}=\\tfrac{1}{f_{s}}$内，$9$个双向开关中的每一个都均匀地换相$n_{\\text{on}}$次开通和$n_{\\text{off}}$次关断，其中$f_{s}$是载波开关频率。假设换相次数和事件能量与输出频率和相角无关。\n\n从这些定义出发，并根据一个电周期内的平均功率是瞬时损耗的时间平均值这一要求，推导以下各项的闭式表达式：\n- 在一个电周期内，所有$9$个双向开关的总平均导通损耗$P_{c}$，以及\n- 在一个电周期内，所有$9$个双向开关的总平均开关损耗$P_{s}$。\n\n将您的最终答案表示为关于$V_{\\text{on}}$、$R_{\\text{on}}$、$\\hat{I}_{o}$、$E_{\\text{on}}$、$E_{\\text{off}}$、$n_{\\text{on}}$、$n_{\\text{off}}$和$f_{s}$的解析表达式。最终的平均功率以瓦特为单位表示。无需进行数值计算。",
            "solution": "所述问题在科学上是合理的、提法得当且自洽的。导通损耗和开关损耗的模型是电力电子分析中使用的标准简化表示。给定的条件对于推导所需表达式是充分且一致的。我将开始解题。\n\n目标是推导在一个基波输出周期$T_{o}$内的总平均导通损耗$P_{c}$和总平均开关损耗$P_{s}$。\n\n**1. 平均导通损耗（$P_{c}$）的推导**\n\n承载电流$i_{s}(t)$的单个开关的瞬时导通功率损耗由下式给出：\n$$p_{\\text{cond}}(t) = V_{\\text{on}}|i_{s}(t)| + R_{\\text{on}}i_{s}^{2}(t)$$\n根据题目陈述，在任何给定时刻$t$，恰好有三个开关闭合，每个输出相一个。流过这些开关的电流是输出相电流$i_{a}(t)$、$i_{b}(t)$和$i_{c}(t)$。\n\n整个变换器的总瞬时导通损耗$p_{c,\\text{total}}(t)$是这三个活动开关中损耗的总和：\n$$p_{c,\\text{total}}(t) = (V_{\\text{on}}|i_{a}(t)| + R_{\\text{on}}i_{a}^{2}(t)) + (V_{\\text{on}}|i_{b}(t)| + R_{\\text{on}}i_{b}^{2}(t)) + (V_{\\text{on}}|i_{c}(t)| + R_{\\text{on}}i_{c}^{2}(t))$$\n这可以重新组合为：\n$$p_{c,\\text{total}}(t) = V_{\\text{on}}(|i_{a}(t)| + |i_{b}(t)| + |i_{c}(t)|) + R_{\\text{on}}(i_{a}^{2}(t) + i_{b}^{2}(t) + i_{c}^{2}(t))$$\n一个电周期$T_{o} = \\frac{2\\pi}{\\omega_{o}}$内的平均导通损耗$P_{c}$是$p_{c,\\text{total}}(t)$的时间平均值：\n$$P_{c} = \\frac{1}{T_{o}}\\int_{0}^{T_{o}} p_{c,\\text{total}}(t) \\,dt$$\n$$P_{c} = \\frac{V_{\\text{on}}}{T_{o}}\\int_{0}^{T_{o}} (|i_{a}(t)| + |i_{b}(t)| + |i_{c}(t)|) \\,dt + \\frac{R_{\\text{on}}}{T_{o}}\\int_{0}^{T_{o}} (i_{a}^{2}(t) + i_{b}^{2}(t) + i_{c}^{2}(t)) \\,dt$$\n该表达式可以通过计算相电流的平均整流值和均方值来求解。\n\n首先，我们来求单个相电流的平均整流值，例如$i_{a}(t) = \\hat{I}_{o}\\sin(\\omega_{o}t)$。我们将其表示为$\\langle |i_{a}| \\rangle$。\n$$\\langle |i_{a}| \\rangle = \\frac{1}{T_{o}}\\int_{0}^{T_{o}} |\\hat{I}_{o}\\sin(\\omega_{o}t)| \\,dt$$\n函数$|\\sin(\\omega_{o}t)|$是周期函数，周期为$T_{o}/2 = \\pi/\\omega_{o}$。我们可以在半个周期内积分并求平均值：\n$$\\langle |i_{a}| \\rangle = \\frac{1}{T_{o}/2}\\int_{0}^{T_{o}/2} \\hat{I}_{o}\\sin(\\omega_{o}t) \\,dt = \\frac{\\omega_{o}}{\\pi}\\hat{I}_{o} \\left[-\\frac{\\cos(\\omega_{o}t)}{\\omega_{o}}\\right]_{0}^{\\pi/\\omega_{o}}$$\n$$\\langle |i_{a}| \\rangle = \\frac{\\hat{I}_{o}}{\\pi} [-\\cos(\\pi) - (-\\cos(0))] = \\frac{\\hat{I}_{o}}{\\pi}[1 - (-1)] = \\frac{2\\hat{I}_{o}}{\\pi}$$\n由于三个电流是相同幅值的相移正弦波，它们的平均整流值是相同的：$\\langle |i_{a}| \\rangle = \\langle |i_{b}| \\rangle = \\langle |i_{c}| \\rangle = \\frac{2\\hat{I}_{o}}{\\pi}$。\n来自$V_{\\text{on}}$项的总贡献为：\n$$V_{\\text{on}}(\\langle |i_{a}| \\rangle + \\langle |i_{b}| \\rangle + \\langle |i_{c}| \\rangle) = V_{\\text{on}}\\left(3 \\times \\frac{2\\hat{I}_{o}}{\\pi}\\right) = \\frac{6}{\\pi}V_{\\text{on}}\\hat{I}_{o}$$\n\n接下来，我们求单个相电流的均方值$\\langle i_{a}^{2} \\rangle$。这是其有效值（RMS）的平方。\n$$\\langle i_{a}^{2} \\rangle = \\frac{1}{T_{o}}\\int_{0}^{T_{o}} (\\hat{I}_{o}\\sin(\\omega_{o}t))^{2} \\,dt = \\frac{\\hat{I}_{o}^{2}}{T_{o}}\\int_{0}^{T_{o}} \\sin^{2}(\\omega_{o}t) \\,dt$$\n使用恒等式$\\sin^{2}(\\theta) = \\frac{1}{2}(1 - \\cos(2\\theta))$：\n$$\\langle i_{a}^{2} \\rangle = \\frac{\\hat{I}_{o}^{2}}{T_{o}}\\int_{0}^{T_{o}} \\frac{1}{2}(1 - \\cos(2\\omega_{o}t)) \\,dt$$\n$\\cos(2\\omega_{o}t)$在一个周期$T_{o}$（即余弦项的两个周期）上的积分为零。\n$$\\langle i_{a}^{2} \\rangle = \\frac{\\hat{I}_{o}^{2}}{2T_{o}}\\int_{0}^{T_{o}} 1 \\,dt = \\frac{\\hat{I}_{o}^{2}}{2T_{o}} [t]_{0}^{T_{o}} = \\frac{\\hat{I}_{o}^{2}}{2}$$\n同样，由于对称性，$\\langle i_{a}^{2} \\rangle = \\langle i_{b}^{2} \\rangle = \\langle i_{c}^{2} \\rangle = \\frac{\\hat{I}_{o}^{2}}{2}$。\n来自$R_{\\text{on}}$项的总贡献为：\n$$R_{\\text{on}}(\\langle i_{a}^{2} \\rangle + \\langle i_{b}^{2} \\rangle + \\langle i_{c}^{2} \\rangle) = R_{\\text{on}}\\left(3 \\times \\frac{\\hat{I}_{o}^{2}}{2}\\right) = \\frac{3}{2}R_{\\text{on}}\\hat{I}_{o}^{2}$$\n\n结合两部分，总平均导通损耗$P_{c}$为：\n$$P_{c} = \\frac{6}{\\pi} V_{\\text{on}} \\hat{I}_{o} + \\frac{3}{2} R_{\\text{on}} \\hat{I}_{o}^{2}$$\n\n**2. 平均开关损耗（$P_{s}$）的推导**\n\n开关损耗模型假设每次开通事件（$E_{\\text{on}}$）和每次关断事件（$E_{\\text{off}}$）的能量损耗是恒定的。\n在每个开关周期$T_{s} = 1/f_{s}$内，$9$个双向开关中的每一个都经历$n_{\\text{on}}$次开通和$n_{\\text{off}}$次关断。\n\n单个开关在一个开关周期$T_{s}$内耗散的能量为：\n$$E_{\\text{sw},1} = n_{\\text{on}} E_{\\text{on}} + n_{\\text{off}} E_{\\text{off}}$$\n一个开关的平均开关功率损耗$P_{s,1}$是此能量除以周期$T_{s}$：\n$$P_{s,1} = \\frac{E_{\\text{sw},1}}{T_{s}} = (n_{\\text{on}} E_{\\text{on}} + n_{\\text{off}} E_{\\text{off}}) f_{s}$$\n题目陈述有$9$个相同的开关且换相“均匀”发生。它还指明“换相次数和事件能量与输出频率和相角无关”。这意味着在短的开关周期$T_{s}$内计算的平均开关功率损耗在长得多的电周期$T_{o}$内是恒定的。因此，在$T_{o}$内的平均值与在$T_{s}$内的平均值相同。\n\n整个变换器的总平均开关损耗$P_{s}$是所有$9$个开关的平均损耗之和：\n$$P_{s} = 9 \\times P_{s,1} = 9 f_{s} (n_{\\text{on}} E_{\\text{on}} + n_{\\text{off}} E_{\\text{off}})$$\n\n因此，平均导通和开关损耗的最终表达式得以确定。",
            "answer": "总平均导通损耗 $P_c$ 为：\n$$\\boxed{P_{c} = \\frac{6}{\\pi} V_{\\text{on}} \\hat{I}_{o} + \\frac{3}{2} R_{\\text{on}} \\hat{I}_{o}^{2}}$$\n总平均开关损耗 $P_s$ 为：\n$$\\boxed{P_{s} = 9 f_{s} (n_{\\text{on}} E_{\\text{on}} + n_{\\text{off}} E_{\\text{off}})}$$"
        },
        {
            "introduction": "矩阵变换器中双向开关的换流过程会产生剧烈的电压变化率 ($dv/dt$)，这是一个关键的实际挑战，可能损坏半导体器件。本练习  将引导您设计一个 R-C 缓冲电路（snubber），这是一种有效的工程解决方案，旨在抑制过高的 $dv/dt$，确保变换器安全可靠地运行。这个设计过程完美体现了在理论分析与硬件约束之间进行权衡的工程实践。",
            "id": "3857135",
            "problem": "一个三相直接交-交（AC-AC）矩阵变换器采用九个双向半导体开关，以实现输入源和三相感性负载之间的双向功率流动。安全换相通过一个四步电流换相序列来执行，在该序列中，有一个短暂的间隔，连接输出相节点 $y$ 与输入相 $a$ 和 $b$ 的输出和输入双向开关均处于关断状态，这导致输出电流对寄生节点电容充电，从而改变节点电压的摆率。考虑一个特定的换相瞬间 $t_0$，此时输出相 $y$ 正从输入相 $a$ 重新连接到输入相 $b$。在 $t_0$ 时刻，瞬时输入相电压为 $v_a(t_0) = 310\\,\\text{V}$ 和 $v_b(t_0) = -210\\,\\text{V}$，因此换相路径所承受的最坏情况电压阶跃幅值为 $V_{\\text{step}} = |v_b(t_0) - v_a(t_0)|$。在换相期间，输出相电流近似恒定，等于 $i_o = 22\\,\\text{A}$，并且从输出节点 $y$ 到输入网络的等效寄生电容为 $C_p = 120\\,\\text{pF}$。\n\n为了限制换相期间输出节点的电压摆率，在输出节点 $y$ 和输入相 $b$ 之间的输入双向开关上连接了一个串联电阻-电容（$R_s$–$C_s$）缓冲电路。设计目标如下：\n- 在两个开关都关断的期间，最大允许输出节点摆率幅值为 $\\left|dv/dt\\right|_{\\max} = 4\\,\\text{kV}/\\mu\\text{s}$。\n- 在开关频率 $f_{\\text{sw}} = 12\\,\\text{kHz}$ 时，最大允许缓冲电路平均功耗为 $P_{\\max} = 10\\,\\text{W}$。\n- 在输入开关闭合瞬间，对缓冲电路峰值电流的限制为 $i_{s,\\max} = 8\\,\\text{A}$。\n\n从电容器和线性电阻器的基本电路关系出发，并结合矩阵变换器的电流换相过程，完成以下任务：\n1. 计算在不添加缓冲电容（即只有 $C_p$ 存在）的情况下，换相期间的初始输出节点摆率 $\\left(dv/dt\\right)_0$。\n2. 确定最小的 $C_s$，使得在两开关均关断期间，输出摆率满足 $\\left|dv/dt\\right| \\leq \\left|dv/dt\\right|_{\\max}$，并验证在 $f_{\\text{sw}}$ 下由此产生的缓冲电路平均功耗不超过 $P_{\\max}$。\n3. 选择 $R_s$，使得在输入开关闭合瞬间，流入缓冲电路的峰值电流不超过 $i_{s,\\max}$，并验证与输入器件上的串联 $R_s$–$C_s$ 阶跃响应相关的初始摆率不大于 $\\left|dv/dt\\right|_{\\max}$。\n\n将您的最终数值按以下方式表示，并将每个值四舍五入到三位有效数字：\n- 以 $\\text{V}/\\mu\\text{s}$ 为单位表示 $\\left(dv/dt\\right)_0$。\n- 以 $\\Omega$ 为单位表示 $R_s$。\n- 以 $\\text{nF}$ 为单位表示 $C_s$。",
            "solution": "经评估，问题陈述有效。它科学地基于电力电子学和电路理论的原理，特别是关于矩阵变换器的运行、换相现象和缓冲电路设计。该问题定义明确，为获得唯一解提供了所有必要的参数和约束。语言客观，所提供的值对于此类应用在物理上是现实的。\n\n按照要求，解决方案分三部分进行。\n\n首先，计算换相路径所经历的最坏情况电压阶跃。该电压是输入和输出输入相的瞬时电压之差。\n给定 $v_a(t_0) = 310\\,\\text{V}$ 和 $v_b(t_0) = -210\\,\\text{V}$。\n$$V_{\\text{step}} = |v_b(t_0) - v_a(t_0)| = |-210\\,\\text{V} - 310\\,\\text{V}| = |-520\\,\\text{V}| = 520\\,\\text{V}$$\n\n**1. 初始输出节点摆率, $\\left(dv/dt\\right)_0$**\n\n在四步换相序列中，存在一个短暂的间隔，此时输出开关（连接输出相 $y$ 和输入相 $a$）和输入开关（连接 $y$ 和 $b$）都处于关断状态。感性负载迫使一个近似恒定的电流 $i_o$ 从输出相 $y$ 流出。当开关断开时，该电流必须流入输出节点的寄生电容 $C_p$。\n\n电容器的基本关系是 $i_C = C \\frac{dv_C}{dt}$。在这种情况下，没有任何缓冲电路，电流为 $i_o$，电容为 $C_p$。电压是输出节点电压 $v_y$。因此，初始摆率，表示为 $\\left(dv/dt\\right)_0$，为：\n$$\\left(\\frac{dv_y}{dt}\\right)_0 = \\frac{i_o}{C_p}$$\n给定值为 $i_o = 22\\,\\text{A}$ 和 $C_p = 120\\,\\text{pF} = 120 \\times 10^{-12}\\,\\text{F}$：\n$$\\left(\\frac{dv_y}{dt}\\right)_0 = \\frac{22\\,\\text{A}}{120 \\times 10^{-12}\\,\\text{F}} = \\frac{22}{1.2 \\times 10^{-10}}\\,\\text{V/s} \\approx 1.8333 \\times 10^{11}\\,\\text{V/s}$$\n问题要求以 $\\text{V}/\\mu\\text{s}$ 为单位给出此值。\n$$\\left(\\frac{dv_y}{dt}\\right)_0 = 1.8333 \\times 10^{11}\\,\\text{V/s} \\times \\frac{1\\,\\text{s}}{10^6\\,\\mu\\text{s}} = 1.8333 \\times 10^5\\,\\text{V}/\\mu\\text{s}$$\n四舍五入到三位有效数字，我们得到 $\\left(dv/dt\\right)_0 = 1.83 \\times 10^5\\,\\text{V}/\\mu\\text{s}$。这个值远远超过了规定的最大值 $4\\,\\text{kV}/\\mu\\text{s}$，表明需要一个缓冲电路。\n\n**2. 最小缓冲电容, $C_s$**\n\n为了限制摆率，增加了一个缓冲电容 $C_s$。问题描述了一个串联 $R_s-C_s$ 缓冲电路跨接在输入开关上。在“两开关均关断”期间，从摆动电流 $i_o$ 的角度看，缓冲电容 $C_s$ 实际上与寄生电容 $C_p$并联。这假设缓冲电阻 $R_s$ 足够小，以至于在快速电压摆动期间，主阻抗是容性的。电流 $i_o$ 充电的总电容是 $C_{\\text{total}} = C_p + C_s$。\n\n现在的摆率由下式给出：\n$$\\left|\\frac{dv_y}{dt}\\right| = \\frac{i_o}{C_p + C_s}$$\n这必须小于或等于最大允许摆率，$\\left|dv/dt\\right|_{\\max} = 4\\,\\text{kV}/\\mu\\text{s} = 4 \\times 10^9\\,\\text{V/s}$。\n$$\\frac{i_o}{C_p + C_s} \\le \\left|\\frac{dv}{dt}\\right|_{\\max}$$\n为了找到所需的最小 $C_s$，我们将条件设为等式：\n$$C_p + C_s = \\frac{i_o}{\\left|dv/dt\\right|_{\\max}} = \\frac{22\\,\\text{A}}{4 \\times 10^9\\,\\text{V/s}} = 5.5 \\times 10^{-9}\\,\\text{F} = 5.5\\,\\text{nF}$$\n因此，最小缓冲电容 $C_s$ 为：\n$$C_s = (5.5 \\times 10^{-9}\\,\\text{F}) - C_p = (5.5 \\times 10^{-9}\\,\\text{F}) - (120 \\times 10^{-12}\\,\\text{F}) = 5.38 \\times 10^{-9}\\,\\text{F} = 5.38\\,\\text{nF}$$\n接下来，我们验证缓冲电路中的平均功耗不超过 $P_{\\max} = 10\\,\\text{W}$。R-C 缓冲电路中耗散的功率由每个周期中储存在电容器中并通过电阻器放电的能量乘以开关频率给出。电容器 $C_s$ 充电至满电压阶跃 $V_{\\text{step}}$，该能量在每个开关周期内耗散一次。\n$$P_{\\text{snubber}} = \\frac{1}{2} C_s V_{\\text{step}}^2 f_{\\text{sw}}$$\n使用值 $C_s = 5.38 \\times 10^{-9}\\,\\text{F}$，$V_{\\text{step}} = 520\\,\\text{V}$，和 $f_{\\text{sw}} = 12\\,\\text{kHz} = 12 \\times 10^3\\,\\text{Hz}$：\n$$P_{\\text{snubber}} = \\frac{1}{2} (5.38 \\times 10^{-9}\\,\\text{F}) (520\\,\\text{V})^2 (12 \\times 10^3\\,\\text{Hz}) \\approx 8.74\\,\\text{W}$$\n由于 $8.74\\,\\text{W}  10\\,\\text{W}$，所选的 $C_s$ 值是有效的。\n\n**3. 缓冲电阻, $R_s$**\n\n选择缓冲电阻 $R_s$ 以限制输入开关闭合时 $C_s$ 的峰值放电电流。在这一刻，我们假设电容器 $C_s$ 已充电至满电压阶跃 $V_{\\text{step}}$（这是一个与功耗计算一致的最坏情况设计假设）。开关闭合后，电容器通过 $R_s$ 放电。峰值电流由欧姆定律确定，因为电阻两端的初始电压是 $V_{\\text{step}}$：\n$$i_{s,\\text{peak}} = \\frac{V_{\\text{step}}}{R_s}$$\n这个峰值电流不能超过 $i_{s,\\max} = 8\\,\\text{A}$。为了找到合适的 $R_s$，我们选择满足此约束的最小电阻：\n$$R_s \\ge \\frac{V_{\\text{step}}}{i_{s,\\max}}$$\n$$R_s = \\frac{520\\,\\text{V}}{8\\,\\text{A}} = 65\\,\\Omega$$\n我们选择 $R_s = 65\\,\\Omega$。为了以三位有效数字表示，即为 $65.0\\,\\Omega$。\n\n最后，我们必须验证缓冲电路自身阶跃响应的初始摆率是否在限制范围内。当开关闭合时，电容器两端的电压 $v_C(t)$ 从 $V_{\\text{step}}$ 指数式放电：$v_C(t) = V_{\\text{step}}\\exp(-t/(R_s C_s))$。该电压的摆率为 $\\frac{dv_C}{dt}$。在 $t=0$ 时的初始摆率为：\n$$\\left.\\frac{dv_C}{dt}\\right|_{t=0} = -\\frac{V_{\\text{step}}}{R_s C_s}$$\n这个初始摆率的幅值为：\n$$\\left|\\frac{dv_C}{dt}\\right|_{\\text{initial}} = \\frac{V_{\\text{step}}}{R_s C_s} = \\frac{520\\,\\text{V}}{(65\\,\\Omega)(5.38 \\times 10^{-9}\\,\\text{F})} \\approx 1.49 \\times 10^9\\,\\text{V/s}$$\n我们将其与极限值 $\\left|dv/dt\\right|_{\\max} = 4 \\times 10^9\\,\\text{V/s}$ 进行比较。\n由于 $1.49 \\times 10^9\\,\\text{V/s} \\le 4 \\times 10^9\\,\\text{V/s}$，条件满足。\n\n最终计算出的值，四舍五入到三位有效数字，为：\n- $\\left(dv/dt\\right)_0 = 1.83 \\times 10^5\\,\\text{V}/\\mu\\text{s}$\n- $C_s = 5.38\\,\\text{nF}$\n- $R_s = 65.0\\,\\Omega$",
            "answer": "$$\\boxed{ (\\frac{dv}{dt})_0 = 1.83 \\times 10^5\\,\\text{V}/\\mu\\text{s}, \\quad R_s = 65.0\\,\\Omega, \\quad C_s = 5.38\\,\\text{nF} }$$"
        },
        {
            "introduction": "矩阵变换器的核心优势之一是能够主动控制输入功率因数，但这依赖于一个精密设计的控制系统。这项实践  深入探讨了在同步旋转坐标系 (d-q 框架) 中设计 PI 控制器的方法，以实现单位功率因数的目标。通过这个练习，您将把控制理论与提升电力电子变换器性能的实际需求联系起来，掌握现代交流变换器高级控制策略的核心技能。",
            "id": "3857186",
            "problem": "一台具有双向功率流的三相直接交-交矩阵变换器，通过一个包含相电感 $\\,L = 1.2 \\times 10^{-3}\\,\\mathrm{H}\\,$ 和串联电阻 $\\,R = 0.12\\,\\Omega\\,$ 的输入 $L\\!-\\!R$ 滤波器，连接到一个角频率为 $\\,\\omega_{\\text{in}} = 2 \\pi \\times 50\\,\\mathrm{rad/s}\\,$ 的刚性正弦电源。该变换器采用空间矢量调制，以在开关时间尺度上精确合成指令输入端电压矢量 $\\,\\mathbf{v}_{i}\\,$。输入电流控制在与输入电压矢量对齐的同步参考坐标系中进行，通过跟踪 $\\,i_{q}^{\\star} = 0\\,$ 来实现单位功率因数，而 $\\,i_{d}^{\\star}\\,$ 由外环功率调节器根据需要设定，以适应变化的负载，包括再生工作点。\n\n从基尔霍夫电压定律和电感本构关系出发，推导内环输入电流环在对齐的同步d轴上看到的小信号被控对象，将电源电压分量 $\\,v_{s,d}\\,$ 视为扰动，并在控制律中通过前馈完全抵消。使用作用于控制输入 $\\,u = v_{s,d} - v_{i,d}\\,$ 且误差为 $\\,e = i_{d}^{\\star} - i_{d}\\,$ 的比例积分控制器 $\\,u(s) = K_{p} e(s) + K_{i} \\frac{1}{s} e(s)\\,$，设计其增益以获得自然频率为 $\\,\\omega_{n} = 2 \\pi \\times 1000\\,\\mathrm{rad/s}\\,$、阻尼比为 $\\,\\zeta = \\sqrt{2}/2\\,$ 的闭环特性，同时通过将q轴电流调节为零，确保对 $\\pm 20\\%$ 的输入电压幅值变化具有鲁棒性，并在不同负载下保持单位功率因数。\n\n以数值形式表示最终的控制器增益 $\\,K_{p}\\,$ 和 $\\,K_{i}\\,$。将您的答案四舍五入到四位有效数字。$\\,K_{p}\\,$ 的单位为 $\\mathrm{V/A}$，$\\,K_{i}\\,$ 的单位为 $\\mathrm{V/(A \\cdot s)}$。最终答案必须是包含 $\\,K_{p}\\,$ 和 $\\,K_{i}\\,$ 的单行矩阵。",
            "solution": "该问题要求为三相矩阵变换器的输入d轴电流设计一个比例积分(PI)控制器。设计将基于推导小信号被控对象模型，然后选择控制器增益以满足指定的闭环性能指标。\n\n首先，我们验证问题陈述的有效性。\n\n**步骤1：提取已知条件**\n- 变换器类型：具有双向功率流的三相直接交-交矩阵变换器。\n- 电源：角频率为 $\\omega_{\\text{in}} = 2 \\pi \\times 50\\,\\mathrm{rad/s}$ 的刚性正弦电源。\n- 输入滤波器：相电感 $L = 1.2 \\times 10^{-3}\\,\\mathrm{H}$ 和串联电阻 $R = 0.12\\,\\Omega$。\n- 调制：空间矢量调制精确合成指令输入端电压矢量 $\\mathbf{v}_{i}$。\n- 控制坐标系：与输入电压矢量对齐的同步参考坐标系。\n- 控制目标：通过跟踪 $i_{q}^{\\star} = 0$ 实现单位功率因数。\n- 控制器类型：比例积分控制器 $u(s) = K_{p} e(s) + K_{i} \\frac{1}{s} e(s)$。\n- 控制输入：$u = v_{s,d} - v_{i,d}$。\n- 控制误差：$e = i_{d}^{\\star} - i_{d}$。\n- 扰动抑制：电源电压 $v_{s,d}$ 被视为扰动，通过前馈完全抵消。\n- 期望闭环性能：自然频率 $\\omega_{n} = 2 \\pi \\times 1000\\,\\mathrm{rad/s}$ 和阻尼比 $\\zeta = \\sqrt{2}/2$。\n\n**步骤2：使用提取的已知条件进行验证**\n该问题在电力电子学和控制系统学科领域内定义明确。它具有科学依据，依赖于基尔霍夫定律和标准d-q变换技术来为三相系统建模。所提供的参数（$L$、$R$、$\\omega_{\\text{in}}$）在物理上是现实的，控制目标（$\\omega_n$、$\\zeta$）是标准的设计指标。该问题是客观、完整且适定的，其控制器增益存在唯一解。不存在矛盾或谬误。\n\n**步骤3：结论与行动**\n问题有效。我们继续求解。\n\n在以电源角频率 $\\omega_{\\text{in}}$ 旋转的同步参考坐标系（$dq$坐标系）中，输入滤波器的动态模型由基尔霍夫电压定律（KVL）推导得出。三相的KVL可以用一个矢量方程表示。在静止的 $\\alpha\\beta$ 坐标系中，该方程为：\n$$ \\mathbf{v}_{s,\\alpha\\beta} = R \\mathbf{i}_{\\alpha\\beta} + L \\frac{d\\mathbf{i}_{\\alpha\\beta}}{dt} + \\mathbf{v}_{i,\\alpha\\beta} $$\n将此方程变换到以 $\\omega_{\\text{in}}$ 旋转的 $dq$ 坐标系，涉及关系 $\\frac{d}{dt} (\\mathbf{x}_{\\alpha\\beta}) \\rightarrow (\\frac{d}{dt} + j\\omega_{\\text{in}})\\mathbf{x}_{dq}$。应用此变换可得：\n$$ \\mathbf{v}_{s,dq} = R \\mathbf{i}_{dq} + L \\left(\\frac{d\\mathbf{i}_{dq}}{dt} + j\\omega_{\\text{in}}\\mathbf{i}_{dq}\\right) + \\mathbf{v}_{i,dq} $$\n其中 $\\mathbf{v}_{s,dq} = v_{s,d} + jv_{s,q}$，$\\mathbf{i}_{dq} = i_{d} + ji_{q}$，以及 $\\mathbf{v}_{i,dq} = v_{i,d} + jv_{i,q}$。\n分离实部（d轴）和虚部（q轴）分量，得到两个耦合的标量微分方程：\n$$ v_{s,d} = R i_{d} + L \\frac{di_{d}}{dt} - \\omega_{\\text{in}}L i_{q} + v_{i,d} $$\n$$ v_{s,q} = R i_{q} + L \\frac{di_{q}}{dt} + \\omega_{\\text{in}}L i_{d} + v_{i,q} $$\n问题将d轴控制器的控制输入定义为 $u = v_{s,d} - v_{i,d}$。重新整理d轴方程以匹配此定义：\n$$ v_{s,d} - v_{i,d} = L \\frac{di_{d}}{dt} + R i_{d} - \\omega_{\\text{in}}L i_{q} $$\n因此，被控对象动态特性由下式描述：\n$$ u(t) = L \\frac{di_{d}(t)}{dt} + R i_{d}(t) - \\omega_{\\text{in}}L i_{q}(t) $$\n项 $-\\omega_{\\text{in}}L i_{q}(t)$ 表示来自q轴的交叉耦合。问题陈述，控制系统通过将q轴电流调节为零（$i_{q}^{\\star} = 0$）来维持单位功率因数。假设q轴控制器是有效的，我们可以做出标准且合理的近似，即 $i_{q}(t) \\approx 0$。通过这种简化，交叉耦合项消失，d轴动态特性简化为：\n$$ u(t) = L \\frac{di_{d}(t)}{dt} + R i_{d}(t) $$\n该方程定义了待控制的小信号被控对象。为了求得被控对象传递函数 $G_{p}(s) = \\frac{I_{d}(s)}{U(s)}$，我们对简化后的方程进行拉普拉斯变换，并假设初始条件为零：\n$$ U(s) = LsI_{d}(s) + RI_{d}(s) = (Ls + R)I_{d}(s) $$\n因此，被控对象传递函数为：\n$$ G_{p}(s) = \\frac{I_{d}(s)}{U(s)} = \\frac{1}{Ls + R} $$\n控制器是一个PI控制器，其传递函数为 $G_{c}(s)$：\n$$ G_{c}(s) = \\frac{U(s)}{E(s)} = K_{p} + \\frac{K_{i}}{s} $$\n其中 $E(s) = I_{d}^{\\star}(s) - I_{d}(s)$ 是误差信号。\n该系统是一个标准的负反馈控制环路。闭环传递函数 $T(s) = \\frac{I_{d}(s)}{I_{d}^{\\star}(s)}$ 由下式给出：\n$$ T(s) = \\frac{G_{c}(s) G_{p}(s)}{1 + G_{c}(s) G_{p}(s)} $$\n首先，我们求开环传递函数 $G_{c}(s)G_{p}(s)$：\n$$ G_{c}(s)G_{p}(s) = \\left(K_{p} + \\frac{K_{i}}{s}\\right) \\left(\\frac{1}{Ls + R}\\right) = \\frac{K_{p}s + K_{i}}{s(Ls + R)} $$\n现在，我们构建闭环传递函数：\n$$ T(s) = \\frac{\\frac{K_{p}s + K_{i}}{s(Ls + R)}}{1 + \\frac{K_{p}s + K_{i}}{s(Ls + R)}} = \\frac{K_{p}s + K_{i}}{s(Ls + R) + K_{p}s + K_{i}} = \\frac{K_{p}s + K_{i}}{Ls^2 + (R + K_{p})s + K_{i}} $$\n所期望的闭环行为由一个标准二阶形式的特征方程指定：$s^2 + 2\\zeta\\omega_{n}s + \\omega_{n}^2 = 0$。\n我们系统的特征方程是 $T(s)$ 的分母置零：\n$$ Ls^2 + (R + K_{p})s + K_{i} = 0 $$\n为了匹配标准形式，我们除以 $L$：\n$$ s^2 + \\frac{R + K_{p}}{L}s + \\frac{K_{i}}{L} = 0 $$\n通过将此方程的系数与标准二阶特征方程的系数进行比较，我们得到关于两个未知增益 $K_{p}$ 和 $K_{i}$ 的两个方程：\n1. $\\omega_{n}^2 = \\frac{K_{i}}{L}$\n2. $2\\zeta\\omega_{n} = \\frac{R + K_{p}}{L}$\n\n从第一个方程，我们可以解出 $K_{i}$：\n$$ K_{i} = L\\omega_{n}^2 $$\n从第二个方程，我们可以解出 $K_{p}$：\n$$ R + K_{p} = 2\\zeta\\omega_{n}L \\implies K_{p} = 2\\zeta\\omega_{n}L - R $$\n现在，我们代入给定的数值：\n- $L = 1.2 \\times 10^{-3}\\,\\mathrm{H}$\n- $R = 0.12\\,\\Omega$\n- $\\omega_{n} = 2 \\pi \\times 1000\\,\\mathrm{rad/s}$\n- $\\zeta = \\frac{\\sqrt{2}}{2}$\n\n首先，计算 $K_i$：\n$$ K_{i} = (1.2 \\times 10^{-3}) (2 \\pi \\times 1000)^2 = (1.2 \\times 10^{-3}) (4\\pi^2 \\times 10^6) = 4800\\pi^2 $$\n$$ K_{i} \\approx 47374.101... \\approx 4.737 \\times 10^4 \\,\\mathrm{V/(A \\cdot s)} $$\n\n接下来，计算 $K_p$：\n$$ K_{p} = 2\\left(\\frac{\\sqrt{2}}{2}\\right)(2\\pi \\times 1000)(1.2 \\times 10^{-3}) - 0.12 $$\n$$ K_{p} = \\sqrt{2} \\times 2000\\pi \\times 1.2 \\times 10^{-3} - 0.12 $$\n$$ K_{p} = 2.4\\pi\\sqrt{2} - 0.12 $$\n$$ K_{p} \\approx 10.662803... - 0.12 = 10.542803... \\approx 10.54 \\,\\mathrm{V/A} $$\n\n计算出的增益为 $K_p \\approx 10.54$ 和 $K_i \\approx 4.737 \\times 10^4$。这些值将以行矩阵的形式报告。",
            "answer": "$$\n\\boxed{ K_p = 10.54\\,\\mathrm{V/A}, \\quad K_i = 4.737 \\times 10^{4}\\,\\mathrm{V/(A \\cdot s)} }\n$$"
        }
    ]
}