{
    "hands_on_practices": [
        {
            "introduction": "电动汽车充电器的核心任务是为电池补充能量。恒流恒压（CC-CV）充电算法是业界广泛采用的标准策略，它与电池自身的电气特性——如开路电压（$V_{\\mathrm{oc}}$）和内阻——相互作用，共同决定了总充电时间。本练习旨在培养对完整充电过程的建模能力，通过从第一性原理出发推导充电时间，您将对电池和充电器参数如何影响实际充电性能获得定量的理解 ()。",
            "id": "3868956",
            "problem": "一个额定能量为 $75\\,\\mathrm{kWh}$ 的电动汽车 (EV) 电池包，使用恒流恒压 (CC-CV) 模式从 $20\\%$ 充电至 $80\\%$ 荷电状态 (SOC)。该直流 (DC) 充电站被建模为一个理想电流源，直到达到终端电压限制，之后则为一个理想电压源，其转换效率恒定，且普克特效应可以忽略（即容量与电流无关）。电池包模型由一个作为SOC仿射函数的开路电压 (OCV) 和一个恒定的串联电阻构成。具体来说，电池包的开路电压为\n$$\nV_{\\mathrm{oc}}(s) = 300 + 120\\,s \\quad \\text{伏特},\n$$\n对于 $s \\in [0,1]$，其中 $s$ 是以小数形式表示的SOC。电池包的串联电阻为\n$$\nR = 0.05\\,\\Omega.\n$$\n充电器在恒流模式下以\n$$\nI_{\\mathrm{CC}} = 250\\,\\mathrm{A}\n$$\n运行，直到电池包终端电压达到恒压限制\n$$\nV_{\\mathrm{CV}} = 400\\,\\mathrm{V},\n$$\n然后将终端电压保持在 $V_{\\mathrm{CV}}$，同时电流根据电池包模型逐渐减小。假设库仑效率恒为1，且额定能量 $75\\,\\mathrm{kWh}$ 对应于 $V_{\\mathrm{oc}}(s)$ 在整个充电过程中的积分，因此总充电容量 $Q_{\\max}$ 满足能量关系式 $E_{\\mathrm{full}} = \\int_{0}^{Q_{\\max}} V_{\\mathrm{oc}}\\!\\left(\\frac{q}{Q_{\\max}}\\right)\\,\\mathrm{d}q$。\n\n从第一性原理出发，包括基尔霍夫电压定律、SOC的定义以及电流与电荷之间的关系，推导在所述CC-CV充电模式下从 $s=0.2$ 充电到 $s=0.8$ 所需的时间。以分钟为单位表示最终充电时间，并将答案四舍五入到四位有效数字。",
            "solution": "总充电时间 $T_{total}$ 是恒流 (CC) 阶段所用时间 $t_{CC}$ 和恒压 (CV) 阶段所用时间 $t_{CV}$ 的总和。我们必须首先确定电池的总充电容量 $Q_{\\max}$，以及从CC模式转换到CV模式时所处的SOC。\n\n**1. 计算总充电容量, $Q_{\\max}$**\n\n额定能量 $E_{\\mathrm{full}} = 75\\,\\mathrm{kWh}$ 由开路电压在整个充电容量上的积分给出。设 $s = q/Q_{\\max}$，这意味着 $dq = Q_{\\max}ds$。电荷 $q$ 从 $0$ 到 $Q_{\\max}$ 的积分区间对应于SOC $s$ 从 $0$ 到 $1$。\n$$\nE_{\\mathrm{full}} = \\int_{0}^{Q_{\\max}} V_{\\mathrm{oc}}\\!\\left(\\frac{q}{Q_{\\max}}\\right)\\,\\mathrm{d}q = \\int_{0}^{1} V_{\\mathrm{oc}}(s) \\, Q_{\\max} \\, ds = Q_{\\max} \\int_{0}^{1} (300 + 120s) \\, ds\n$$\n计算积分：\n$$\nE_{\\mathrm{full}} = Q_{\\max} \\left[ 300s + \\frac{120s^2}{2} \\right]_0^1 = Q_{\\max} \\left( (300 \\cdot 1 + 60 \\cdot 1^2) - 0 \\right) = 360 \\, Q_{\\max}\n$$\n能量以千瓦时给出。为了与国际单位制（伏特、安培、欧姆、库仑、秒）保持一致，我们将其转换为焦耳（瓦秒）。\n$$\nE_{\\mathrm{full}} = 75\\,\\mathrm{kWh} = 75 \\times 10^3\\,\\mathrm{Wh} = 75 \\times 10^3 \\times 3600\\,\\mathrm{Ws} = 2.7 \\times 10^8\\,\\mathrm{J}\n$$\n现在我们可以求解 $Q_{\\max}$（单位为库仑，即安培秒）：\n$$\nQ_{\\max} = \\frac{E_{\\mathrm{full}}}{360\\,\\mathrm{V}} = \\frac{2.7 \\times 10^8\\,\\mathrm{J}}{360\\,\\mathrm{V}} = 7.5 \\times 10^5\\,\\mathrm{C}\n$$\n\n**2. 恒流 (CC) 阶段分析**\n\n充电过程从 $s_{start} = 0.2$ 开始，以恒定电流 $I_{\\mathrm{CC}} = 250\\,\\mathrm{A}$ 的CC模式进行。此阶段持续直到电池的终端电压 $V_t$ 达到充电器的电压限制 $V_{\\mathrm{CV}} = 400\\,\\mathrm{V}$。\n\n根据应用于电池模型的基尔霍夫电压定律，终端电压为：\n$$\nV_t(s) = V_{\\mathrm{oc}}(s) + I_{\\mathrm{CC}} R\n$$\n代入 $V_{\\mathrm{oc}}(s)$、$I_{\\mathrm{CC}}$ 和 $R$ 的表达式：\n$$\nV_t(s) = (300 + 120s) + (250\\,\\mathrm{A})(0.05\\,\\Omega) = 300 + 120s + 12.5 = 312.5 + 120s\n$$\nCC 阶段在交叉SOC $s_{cross}$ 处结束，此时 $V_t(s_{cross}) = V_{\\mathrm{CV}}$。\n$$\n400 = 312.5 + 120s_{cross}\n$$\n$$\n120s_{cross} = 400 - 312.5 = 87.5\n$$\n$$\ns_{cross} = \\frac{87.5}{120} = \\frac{175}{240} = \\frac{35}{48}\n$$\n数值上，$s_{cross} \\approx 0.72917$。因为 $s_{start}=0.2  s_{cross}  s_{end}=0.8$，所以充电过程包括CC和CV两个阶段。\n\nCC阶段的持续时间 $t_{CC}$，使用电荷 $q$、电流 $I$ 和SOC $s$ 之间的基本关系来计算。因为 $I = dq/dt$ 且 $q = s \\cdot Q_{\\max}$ （库仑效率为1），我们有 $I = Q_{\\max} (ds/dt)$。对于CC阶段，$I = I_{\\mathrm{CC}}$ 是恒定的。\n$$\n\\frac{ds}{dt} = \\frac{I_{\\mathrm{CC}}}{Q_{\\max}}\n$$\n从 $s_{start}$ 到 $s_{cross}$ 积分得到：\n$$\n\\int_{s_{start}}^{s_{cross}} ds = \\int_0^{t_{CC}} \\frac{I_{\\mathrm{CC}}}{Q_{\\max}} dt \\implies s_{cross} - s_{start} = \\frac{I_{\\mathrm{CC}}}{Q_{\\max}} t_{CC}\n$$\n求解 $t_{CC}$:\n$$\nt_{CC} = \\frac{Q_{\\max}}{I_{\\mathrm{CC}}} (s_{cross} - s_{start}) = \\frac{7.5 \\times 10^5\\,\\mathrm{C}}{250\\,\\mathrm{A}} \\left(\\frac{35}{48} - 0.2\\right)\n$$\n$$\nt_{CC} = 3000\\,\\mathrm{s} \\left(\\frac{35}{48} - \\frac{1}{5}\\right) = 3000 \\left(\\frac{175 - 48}{240}\\right) = 3000 \\left(\\frac{127}{240}\\right) = 12.5 \\times 127 = 1587.5\\,\\mathrm{s}\n$$\n\n**3. 恒压 (CV) 阶段分析**\n\nCV 阶段从 $s_{cross} = 35/48$ 开始，到 $s_{end} = 0.8$ 结束。在此阶段，终端电压保持在 $V_t = V_{\\mathrm{CV}} = 400\\,\\mathrm{V}$ 不变。充电电流 $I(t)$ 不再是恒定的，而是随着电池开路电压的增加而逐渐减小。\n$$\nV_{\\mathrm{CV}} = V_{\\mathrm{oc}}(s(t)) + I(t)R\n$$\n求解电流 $I(t)$ 作为SOC $s(t)$ 的函数：\n$$\nI(s) = \\frac{V_{\\mathrm{CV}} - V_{\\mathrm{oc}}(s)}{R} = \\frac{400 - (300 + 120s)}{0.05} = \\frac{100 - 120s}{0.05} = 2000 - 2400s\n$$\n我们再次使用关系式 $I(s) = Q_{\\max}(ds/dt)$ 来构建一个关于 $s(t)$ 的微分方程：\n$$\nQ_{\\max}\\frac{ds}{dt} = 2000 - 2400s\n$$\n这是一个可分离的常微分方程。我们可以通过分离变量并从 $s_{cross}$ 到 $s_{end}$ 积分来求解CV阶段的持续时间 $t_{CV}$。\n$$\n\\int_{s_{cross}}^{s_{end}} \\frac{ds}{2000 - 2400s} = \\int_0^{t_{CV}} \\frac{dt}{Q_{\\max}}\n$$\n$$\n\\frac{t_{CV}}{Q_{\\max}} = \\left[ -\\frac{1}{2400} \\ln|2000 - 2400s| \\right]_{s_{cross}}^{s_{end}}\n$$\n$$\n\\frac{t_{CV}}{Q_{\\max}} = -\\frac{1}{2400} \\left( \\ln(2000 - 2400s_{end}) - \\ln(2000 - 2400s_{cross}) \\right) = \\frac{1}{2400} \\ln\\left(\\frac{2000 - 2400s_{cross}}{2000 - 2400s_{end}}\\right)\n$$\n对数中的参数是CV阶段初始电流（$I(s_{cross})=250\\,\\mathrm{A}$）与最终电流（$I(s_{end})=I(0.8)=2000-2400(0.8)=80\\,\\mathrm{A}$）的比值。\n$$\n\\frac{t_{CV}}{Q_{\\max}} = \\frac{1}{2400} \\ln\\left(\\frac{I(s_{cross})}{I(s_{end})}\\right) = \\frac{1}{2400} \\ln\\left(\\frac{250}{80}\\right) = \\frac{1}{2400} \\ln\\left(\\frac{25}{8}\\right)\n$$\n求解 $t_{CV}$:\n$$\nt_{CV} = \\frac{Q_{\\max}}{2400} \\ln\\left(\\frac{25}{8}\\right) = \\frac{7.5 \\times 10^5}{2400} \\ln\\left(\\frac{25}{8}\\right) = 312.5 \\ln\\left(\\frac{25}{8}\\right)\\,\\mathrm{s}\n$$\n\n**4. 总充电时间**\n\n总充电时间是两个阶段持续时间的总和：\n$$\nT_{total} = t_{CC} + t_{CV} = 1587.5 + 312.5 \\ln\\left(\\frac{25}{8}\\right)\\,\\mathrm{s}\n$$\n现在，我们计算数值：\n$$\n\\ln\\left(\\frac{25}{8}\\right) = \\ln(3.125) \\approx 1.139434\n$$\n$$\nt_{CV} \\approx 312.5 \\times 1.139434 \\approx 356.073\\,\\mathrm{s}\n$$\n$$\nT_{total} \\approx 1587.5 + 356.073 = 1943.573\\,\\mathrm{s}\n$$\n问题要求以分钟为单位给出最终答案，并四舍五入到四位有效数字。\n$$\nT_{total\\_minutes} = \\frac{T_{total}}{60} \\approx \\frac{1943.573}{60} \\approx 32.39288\\,\\mathrm{min}\n$$\n四舍五入到四位有效数字，我们得到 $32.39$ 分钟。",
            "answer": "$$\\boxed{32.39}$$"
        },
        {
            "introduction": "在理解了充电曲线的目标后，我们必须深入分析实现这一目标的功率变换器本身的效率。开关器件的总功率损耗主要由导通损耗和开关损耗构成，精确计算这些损耗对于散热设计和评估系统整体效率至关重要。本练习将带您亲手计算碳化硅（SiC）MOSFET 的功率损耗，通过剖析导通损耗、开关损耗以及二极管反向恢复带来的额外影响，您将学会如何将器件级的数据手册参数与系统级的效率和热管理等性能指标联系起来 ()。",
            "id": "3868948",
            "problem": "一款电动汽车直流快速充电器采用硬开关半桥，使用碳化硅（SiC）金属氧化物半导体场效应晶体管（MOSFET）对高压直流母线进行降压，为电池组充电。考虑一个在连续导通模式下工作的单向降压（buck）转换级中的单一半桥桥臂的上管开关。直流母线电压固定为 $V_{dc} = 800\\,\\mathrm{V}$，电池电压为 $V_{out} = 400\\,\\mathrm{V}$，电池电流被调节至恒定的 $I = 50\\,\\mathrm{A}$，其纹波可忽略不计。脉冲宽度调制（PWM）开关频率为 $f_{s} = 50\\,\\mathrm{kHz}$。设定了死区时间，使得在上管器件每次导通之前，下管器件的体二极管会导通电感电流。上管器件的结温稳定在 $T_{j} = 125^{\\circ}\\mathrm{C}$ 附近。\n\n仅使用以下基本原理：\n- 在电阻为 $R$、承载电流为 $i(t)$ 的导体中，其欧姆损耗的瞬时功率为 $p(t) = i^{2}(t)\\,R$。在一个周期 $T$ 内的时间平均功率为 $P = \\frac{1}{T}\\int_{0}^{T} i^{2}(t)\\,R\\,dt$。\n- 平均开关损耗功率等于开关频率与每次开关事件中耗散的能量的乘积，即 $P = f_{s}\\,E_{\\text{per-event}}$，其中 $E_{\\text{per-event}}$ 是该事件中耗散的能量。\n- 由于互补二极管的反向恢复而产生的额外导通能量，等于在所施加的母线电压下为移除其存储电荷所做的功，$E_{rr} = V_{dc}\\,Q_{rr}$，其中 $Q_{rr}$ 是恢复电荷。\n\n假设在 $V_{dc} = 800\\,\\mathrm{V}$ 和 $I = 50\\,\\mathrm{A}$ 条件下，器件数据如下：\n- 上管 SiC MOSFET 在 $T_{j} = 125^{\\circ}\\mathrm{C}$ 时的导通电阻为 $R_{ds,on} = 0.040\\,\\Omega$。\n- 在所述电压和电流下，上管 SiC MOSFET 测得的硬开关能量（包括通常报告的器件封装内部的电容效应）为 $E_{on} = 3.0\\,\\mathrm{mJ}$ 和 $E_{off} = 2.0\\,\\mathrm{mJ}$。\n- 在所述电流和一个有代表性的电流下降率下，下管器件体二极管的反向恢复电荷为 $Q_{rr} = 200\\,\\mathrm{nC}$。\n\n根据上述原理以及对连续导通单向降压桥臂的适当波形推理：\n- 推导上管器件在一个开关周期内的平均导通损耗，用 $I$、$R_{ds,on}$ 和占空比表示。\n- 推导上管器件在一秒内的平均开关损耗，明确计入导通、关断以及互补二极管的反向恢复。\n- 结合以上结果，求得上管器件的总平均损耗。\n\n使用给定数据，数值计算上管器件的总平均功率损耗。以瓦特为单位表示最终总损耗，并将答案四舍五入到四位有效数字。",
            "solution": "总平均功率损耗 $P_{total}$ 是平均导通损耗 $P_{cond}$ 和平均开关损耗 $P_{sw}$ 之和。\n$$P_{total} = P_{cond} + P_{sw}$$\n首先，确定上管开关的占空比 $D$。对于工作在连续导通模式（CCM）下的理想降压转换器：\n$$V_{out} = D \\cdot V_{dc}$$\n使用所提供的值，解出 $D$：\n$$D = \\frac{V_{out}}{V_{dc}} = \\frac{400\\,\\mathrm{V}}{800\\,\\mathrm{V}} = 0.5$$\n接下来，推导平均导通损耗 $P_{cond}$。上管 MOSFET 在每个开关周期 $T_s$ 的 $D$ 部分时间内传导恒定电流 $I$。在一个周期内平均的导通损耗为：\n$$P_{cond} = \\frac{1}{T_s} \\int_{0}^{D T_s} I^2 \\cdot R_{ds,on} \\,dt = D \\cdot I^2 \\cdot R_{ds,on}$$\n代入数值：\n$$P_{cond} = (0.5) \\cdot (50\\,\\mathrm{A})^2 \\cdot (0.040\\,\\Omega) = 0.5 \\cdot 2500\\,\\mathrm{A}^2 \\cdot 0.040\\,\\Omega = 50\\,\\mathrm{W}$$\n然后，推导平均开关损耗 $P_{sw}$。这是每个开关周期耗散的总能量 $E_{cycle}$ 与开关频率 $f_s$ 的乘积。\n$$P_{sw} = f_s \\cdot E_{cycle}$$\n每个周期的总能量包括导通能量 ($E_{on}$)、关断能量 ($E_{off}$) 以及因下管二极管反向恢复而产生的额外能量 ($E_{rr}$)。\n$$E_{cycle} = E_{on} + E_{off} + E_{rr}$$\n给定的值为 $E_{on} = 3.0\\,\\mathrm{mJ}$ 和 $E_{off} = 2.0\\,\\mathrm{mJ}$。\n因二极管反向恢复而产生的额外导通能量为：\n$$E_{rr} = V_{dc} \\cdot Q_{rr}$$\n使用给定的值 $V_{dc} = 800\\,\\mathrm{V}$ 和 $Q_{rr} = 200\\,\\mathrm{nC}$：\n$$E_{rr} = (800\\,\\mathrm{V}) \\cdot (200 \\times 10^{-9}\\,\\mathrm{C}) = 160000 \\times 10^{-9}\\,\\mathrm{J} = 0.16 \\times 10^{-3}\\,\\mathrm{J} = 0.16\\,\\mathrm{mJ}$$\n每个开关周期耗散的总能量为：\n$$E_{cycle} = 3.0\\,\\mathrm{mJ} + 2.0\\,\\mathrm{mJ} + 0.16\\,\\mathrm{mJ} = 5.16\\,\\mathrm{mJ} = 5.16 \\times 10^{-3}\\,\\mathrm{J}$$\n平均开关功率损耗为：\n$$P_{sw} = f_s \\cdot E_{cycle} = (50\\,\\mathrm{kHz}) \\cdot (5.16\\,\\mathrm{mJ}) = (50 \\times 10^3\\,\\mathrm{s}^{-1}) \\cdot (5.16 \\times 10^{-3}\\,\\mathrm{J}) = 258\\,\\mathrm{W}$$\n最后，上管器件的总平均功率损耗是导通损耗和开关损耗之和：\n$$P_{total} = P_{cond} + P_{sw} = 50\\,\\mathrm{W} + 258\\,\\mathrm{W} = 308\\,\\mathrm{W}$$\n问题要求答案四舍五入到四位有效数字。因此，结果应表示为 $308.0\\,\\mathrm{W}$。",
            "answer": "$$\\boxed{308.0}$$"
        },
        {
            "introduction": "一台高效的变换器还必须足够坚固，能在安全工作区内运行，而高速开关则会因电路的非理想因素带来挑战。根据法拉第电磁感应定律，流经寄生电感（$L_{\\text{loop}}$）的电流变化会产生感应电压（$v = L \\frac{di}{dt}$），这在功率变换器中表现为关断期间开关器件上出现的危险电压过冲。本练习聚焦于高频电力电子设计中的一个关键实践挑战，通过计算允许的最大杂散电感，您将深刻体会到物理布局（如 PCB 和母排设计）对于减小电压应力、确保碳化硅（SiC）MOSFET 等快速开关器件可靠性的决定性作用 ()。",
            "id": "3868927",
            "problem": "一个在车网互动（V2G）模式下运行的双向电动汽车（EV）充电器，使用一个高压$800\\,\\mathrm{V}$直流半桥，该半桥采用碳化硅（SiC）金属氧化物半导体场效应晶体管（MOSFET）。在关断高边器件期间，由器件引线、母线和去耦路径组成的换向回路会产生一个集总杂散电感，记为$L_{\\text{loop}}$。假设在相关电流范围内，回路电感是线性的且不随时间变化，电流转换在关断期间近似恒定，并且在推导主要过冲机制时，寄生电容和任何钳位网络均可忽略不计。\n\n从法拉第定律和集总元件电感模型出发，推导关断器件上的瞬态过冲电压表达式，该表达式用$L_{\\text{loop}}$和电流转换率$\\frac{di}{dt}$表示。然后，在指定的关断电流转换率为$\\frac{di}{dt}=200\\,\\mathrm{A}/\\mu\\mathrm{s}$的情况下，确定$L_{\\text{loop}}$的最大可接受值，以确保在这个$800\\,\\mathrm{V}$半桥中过冲电压保持在$100\\,\\mathrm{V}$以下。\n\n将电感的最终答案表示为以微亨（$\\mu\\mathrm{H}$）为单位的单个数值。无需四舍五入。",
            "solution": "第一个任务是推导瞬态过冲电压的表达式。根据法拉第感应定律，一个电感为$L$的电感器两端的电压$v_L(t)$由以下关系式给出：\n$$v_L(t) = L \\frac{di(t)}{dt}$$\n在半桥的背景下，当高边MOSFET关断时，变化的电流流过换向回路的寄生杂散电感$L_{\\text{loop}}$。这个在杂散电感上感应出的电压将与直流母线电压$V_{\\text{dc}}$相加，呈现在MOSFET的漏源两端。这个额外的电压就是瞬态电压过冲，记为$V_{\\text{os}}$。其幅值为：\n$$V_{\\text{os}} = L_{\\text{loop}} \\left| \\frac{di}{dt} \\right|$$\n为简化符号，我们用$\\frac{di}{dt}$来表示转换率的幅值，得到：\n$$V_{\\text{os}} = L_{\\text{loop}} \\frac{di}{dt}$$\n第二个任务是确定$L_{\\text{loop}}$的最大可接受值。我们已知：\n- 最大允许过冲电压，$V_{\\text{os,max}} = 100\\,\\mathrm{V}$。\n- 电流转换率，$\\frac{di}{dt} = 200\\,\\mathrm{A}/\\mu\\mathrm{s}$。\n\n首先，用国际单位制基本单位表示转换率：\n$$\\frac{di}{dt} = 200\\,\\frac{\\mathrm{A}}{\\mu\\mathrm{s}} = 200\\,\\frac{\\mathrm{A}}{10^{-6}\\,\\mathrm{s}} = 200 \\times 10^6\\,\\frac{\\mathrm{A}}{\\mathrm{s}}$$\n现在重新整理表达式来求解$L_{\\text{loop,max}}$：\n$$L_{\\text{loop,max}} = \\frac{V_{\\text{os,max}}}{\\frac{di}{dt}}$$\n代入数值：\n$$L_{\\text{loop,max}} = \\frac{100\\,\\mathrm{V}}{200 \\times 10^6\\,\\mathrm{A/s}} = 0.5 \\times 10^{-6}\\,\\mathrm{H}$$\n题目要求答案以微亨（$\\mu\\mathrm{H}$）表示。由于$1\\,\\mu\\mathrm{H} = 10^{-6}\\,\\mathrm{H}$，结果是：\n$$L_{\\text{loop,max}} = 0.5\\,\\mu\\mathrm{H}$$",
            "answer": "$$\\boxed{0.5}$$"
        }
    ]
}