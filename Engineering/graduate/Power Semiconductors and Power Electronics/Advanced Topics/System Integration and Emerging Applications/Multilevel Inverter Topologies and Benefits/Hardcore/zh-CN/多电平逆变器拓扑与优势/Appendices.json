{
    "hands_on_practices": [
        {
            "introduction": "在了解了CHB逆变器的基本结构后，下一个关键问题是如何有效地控制它。本练习聚焦于一种重要的调制技术——相移脉宽调制（PS-PWM）。你将探索通过精确地错开各个单元的载波相位来实现开关谐波交错对消的原理，这是一种显著提升逆变器输出电压质量的实用技术。",
            "id": "3861160",
            "problem": "一个三相级联H桥（CHB）逆变器每相有 $N$ 个相同的H桥单元，采用相移脉冲宽度调制（PS-PWM）：给定相中的每个单元使用频率为 $f_{s}$ 的相同三角载波和一个共同的正弦调制参考，但 $N$ 个载波波形相互之间进行相移，以交错开关跃迁。假设开关为理想开关，直流（DC）源相等，并且一相中 $N$ 个单元的调制参考同相。线电压定义为两个相电压之差。\n\n从核心事实出发：周期为 $T_{s} = 1/f_{s}$ 的周期波形在时间上平移 $\\Delta t$ 对应于其傅里叶级数中 $2\\pi \\Delta t/T_{s}$ 的相移，以及均匀交错使开关跃迁在时间上均匀分布。请确定相邻单元之间均匀的载波相移 $\\Delta \\phi$（以弧度为单位），该相移在线电压中产生 $N f_{s}$ 的等效开关纹波频率。然后，对于 $N=4$ 的情况，计算一个相臂中四个载波的绝对载波相角（以弧度为单位），该相角相对于角度为 $0$ 的参考载波测量，并假设均匀间隔。\n\n将您最终的四个载波相角列表表示为单行矩阵。角度必须以弧度为单位。无需四舍五入。",
            "solution": "用户提供了一个问题陈述，在尝试解决之前需要进行验证。\n\n### 步骤 1：提取已知条件\n-   **系统：** 三相级联H桥（CHB）逆变器。\n-   **每相单元数：** $N$ 个相同的H桥单元。\n-   **调制方式：** 相移脉冲宽度调制（PS-PWM）。\n-   **载波：** 每个单元使用频率为 $f_{s}$ 的相同三角载波。$N$ 个载波是相移的。\n-   **参考：** 给定相中的所有单元使用一个共同的正弦调制参考。\n-   **假设：** 理想开关，相等的直流（DC）源，一相中 $N$ 个单元的调制参考同相。\n-   **定义：** 线电压是两个相电压之差。\n-   **核心事实 1：** 周期为 $T_{s} = 1/f_{s}$ 的周期波形在时间上平移 $\\Delta t$ 对应于其傅里叶级数中 $2\\pi \\Delta t/T_{s}$ 的相移。\n-   **核心事实 2：** 均匀交错使开关跃迁在时间上均匀分布。\n-   **目标 1：** 确定相邻单元之间均匀的载波相移 $\\Delta \\phi$（以弧度为单位），该相移在线电压中产生 $N f_{s}$ 的等效开关纹波频率。\n-   **目标 2：** 对于 $N=4$ 的情况，计算一个相臂中四个载波的绝对载波相角（以弧度为单位），相对于角度为 $0$ 的参考载波，并假设均匀间隔。\n\n### 步骤 2：使用提取的已知条件进行验证\n-   **科学依据：** 该问题牢固地植根于电力电子学的原理，特别是多电平逆变器拓扑（CHB）和调制理论（PS-PWM）。交错、谐波消除以及时移与相移之间关系的概念是标准的、科学有效的。\n-   **适定性：** 该问题要求推导一个特定的相移公式并将其应用于一个数值案例。所提供的前提（均匀交错，期望的纹波频率）足以确定一个唯一的解。\n-   **客观性：** 该问题以精确的技术语言陈述，没有主观性或歧义。\n-   **完整性与一致性：** 该问题是自洽的。在PS-PWM中，实现 $N f_{s}$ 的等效纹波频率是一个标准目标，并直接导出所需的相移。所有必要的信息都已提供。\n-   **现实性与可行性：** 理想开关和相等直流源的假设是理论电力电子学问题中的标准简化，并不会使问题无效。该设置是物理上可实现的。\n\n### 步骤 3：结论与行动\n该问题科学合理、适定且完整。它被判定为**有效**。将提供解答。\n\n### 解答\n该问题要求两个结果：首先，对于使用PS-PWM的 $N$ 单元CHB逆变器，其均匀载波相移 $\\Delta \\phi$ 的通用表达式；其次，对于 $N=4$ 的情况，求具体的相角。\n\nPS-PWM的基本原理是通过交错各个单元的开关事件，在相臂输出端实现更高的等效开关频率。每个单元的载波波形频率为 $f_s$，相应周期为 $T_s = 1/f_s$。\n\n为了实现 $N f_s$ 的等效开关纹波频率，总输出电压的波形必须表现出与等效周期 $T_{eff} = 1/(N f_s) = T_s/N$ 相对应的周期性。这通过将 $N$ 个单元的开关模式在基本载波周期 $T_s$ 内均匀分布来实现。\n\n问题指出，均匀交错使开关跃迁在时间上均匀分布。对于 $N$ 个单元，这意味着每个后续单元的载波波形相对于前一个必须在时间上平移一个均匀的量 $\\Delta t$。为了用 $N$ 个均匀的平移覆盖整个周期 $T_s$，相邻载波之间的时间平移必须是：\n$$ \\Delta t = \\frac{T_s}{N} $$\n\n问题提供了周期为 $T_s$ 的周期信号的时间平移 $\\Delta t$ 与相应相移 $\\Delta \\phi$ 之间的关系：\n$$ \\Delta \\phi = \\frac{2\\pi \\Delta t}{T_s} $$\n\n将 $\\Delta t$ 的表达式代入此方程，得到相邻单元载波之间所需的均匀相移 $\\Delta \\phi$：\n$$ \\Delta \\phi = \\frac{2\\pi \\left(\\frac{T_s}{N}\\right)}{T_s} = \\frac{2\\pi}{N} $$\n该相移确保了在叠加的相臂电压中，对于谐波次数 $k=1, 2, \\dots, N-1$，各个单元输出电压中的主导载波谐波相互抵消。第一个不被抵消的谐波群出现在频率 $N f_s$ 处，这成为合成相电压的等效开关纹波频率。相电压中的这种效应直接传递到线电压，因为线电压是两个相电压的线性组合。\n\n问题的第二部分要求计算 $N=4$ 的情况下，一个相臂中四个载波的绝对相角。我们使用上面推导出的 $\\Delta \\phi$ 公式。\n对于 $N=4$，均匀相移为：\n$$ \\Delta \\phi = \\frac{2\\pi}{4} = \\frac{\\pi}{2} \\text{ 弧度} $$\n\n我们被要求表达相对于角度为 $0$ 的参考载波的角度。设四个载波的相角分别为 $\\phi_1, \\phi_2, \\phi_3,$ 和 $\\phi_4$。我们可以将第一个载波的相位设置为参考。\n\n1.  第一个载波的相角是 $\\phi_1 = 0$。\n2.  第二个载波的相角相对于第一个相移了 $\\Delta \\phi$：\n    $$ \\phi_2 = \\phi_1 + \\Delta \\phi = 0 + \\frac{\\pi}{2} = \\frac{\\pi}{2} $$\n3.  第三个载波的相角相对于第二个相移了 $\\Delta \\phi$：\n    $$ \\phi_3 = \\phi_2 + \\Delta \\phi = \\frac{\\pi}{2} + \\frac{\\pi}{2} = \\pi $$\n4.  第四个载波的相角相对于第三个相移了 $\\Delta \\phi$：\n    $$ \\phi_4 = \\phi_3 + \\Delta \\phi = \\pi + \\frac{\\pi}{2} = \\frac{3\\pi}{2} $$\n\n四个单元的绝对载波相角集合是 $\\{0, \\frac{\\pi}{2}, \\pi, \\frac{3\\pi}{2}\\}$。这个结果需要以单行矩阵的形式呈现。",
            "answer": "$$ \\boxed{\n\\begin{pmatrix}\n0  &\\frac{\\pi}{2}  &\\pi  &\\frac{3\\pi}{2}\n\\end{pmatrix}\n} $$"
        },
        {
            "introduction": "除了CHB拓扑，中点钳位（NPC）逆变器是另一种广泛应用的多电平结构。本练习将带你进入更高级的控制领域——空间矢量调制（SVM），并将其应用于一个三电平NPC逆变器。你将通过分析所有可能的开关状态，在复平面上构建出该逆变器的可行电压矢量区域，并从几何角度推导出其线性调制的极限，这是理解和设计高性能交流驱动系统的核心技能。",
            "id": "3861172",
            "problem": "一台三相 $3$ 电平中性点钳位 (NPC) 逆变器由电压为 $V_{\\text{dc}}$ 的直流母线供电，并采用空间矢量调制 (SVM) 运行。每个相臂可以呈现相对于直流母线中点的三种极电压之一：$+V_{\\text{dc}}/2$、$0$ 或 $-V_{\\text{dc}}/2$。参考目标是一组平衡的正弦相电压，其基波峰值线对中性点幅值为 $V_{1,\\text{phase,peak}}$。\n\n将调制指数定义为 $m_a \\equiv V_{1,\\text{phase,peak}}/(V_{\\text{dc}}/2)$。在不引用任何预先推导的调制极限的情况下，使用第一性原理来描述该逆变器在 SVM 下生成的可行平均空间矢量的凸多边形，并确定其最大内切圆的半径。利用该几何特性以及相电压和空间矢量之间的克拉克变换关系，确定线性调制区的边界（即，旋转的正弦参考信号可以通过对可行矢量进行时间平均来精确再现，而不会在多边形的边上饱和的条件），并计算不进入过调制区的最大可实现调制指数 $m_a$。\n\n将 $m_a$ 的最终结果表示为一个简化的精确解析表达式。调制指数是无量纲的；无需四舍五入。",
            "solution": "本题要求确定一台在空间矢量调制 (SVM) 的线性调制区运行的三相 $3$ 电平中性点钳位 (NPC) 逆变器的最大调制指数 $m_a$。这将通过首先描述可实现电压矢量的几何空间，然后将其与期望的正弦输出电压相关联来完成。\n\n该逆变器的直流母线电压为 $V_{\\text{dc}}$。三个相臂（a、b、c）各自可将其输出端连接到相对于直流母线中点 (O) 的三个电压电平之一：$+V_{\\text{dc}}/2$、$0$ 或 $-V_{\\text{dc}}/2$。我们可以用变量 $s_k \\in \\{1, 0, -1\\}$ 来表示每个相 $k \\in \\{a, b, c\\}$ 的开关状态，使得极电压为 $v_{kO} = s_k \\frac{V_{\\text{dc}}}{2}$。对于三相、每相三电平，存在 $3^3 = 27$ 种可能的开关状态组合 $(s_a, s_b, s_c)$。\n\n三个极电压与对应的空间矢量 $\\vec{v}_s$ 之间的关系由克拉克变换定义。使用空间矢量分析的标准等幅值形式：\n$$ \\vec{v}_s = v_{\\alpha} + jv_{\\beta} = \\frac{2}{3} (v_{aO} + a v_{bO} + a^2 v_{cO}) $$\n其中 $a = \\exp(j2\\pi/3) = -1/2 + j\\sqrt{3}/2$ 是复数空间算子。\n代入极电压表达式可得：\n$$ \\vec{v}_s = \\frac{2}{3} \\left( s_a \\frac{V_{\\text{dc}}}{2} + a s_b \\frac{V_{\\text{dc}}}{2} + a^2 s_c \\frac{V_{\\text{dc}}}{2} \\right) = \\frac{V_{\\text{dc}}}{3} (s_a + a s_b + a^2 s_c) $$\n现在我们可以将所有 27 种开关状态映射到复平面上对应的矢量。这些瞬时矢量可以根据其幅值进行分类。\n让我们分析构成可行工作区域边界的关键矢量。这些是“大矢量”。考虑开关状态 $(s_a, s_b, s_c) = (1, -1, -1)$。得到的空间矢量是：\n$$ \\vec{v}_s = \\frac{V_{\\text{dc}}}{3} (1 - a - a^2) $$\n利用性质 $1 + a + a^2 = 0$，即 $-a-a^2=1$，我们得到：\n$$ \\vec{v}_s = \\frac{V_{\\text{dc}}}{3} (1 + 1) = \\frac{2V_{\\text{dc}}}{3} $$\n该矢量位于正实轴上。共有六个这样的“大矢量”，对应于一种开关状态排列，其中一相处于一个极端电压，而另外两相处于相反的极端电压。让我们列出它们的状态和产生的矢量：\n\\begin{itemize}\n    \\item $(1, -1, -1) \\rightarrow \\vec{v}_s = \\frac{2V_{\\text{dc}}}{3}$\n    \\item $(1, 1, -1) \\rightarrow \\vec{v}_s = \\frac{V_{\\text{dc}}}{3}(1+a-a^2) = \\frac{V_{\\text{dc}}}{3}(1+a - (-1-a)) = \\frac{V_{\\text{dc}}}{3}(2+2a) = \\frac{2V_{\\text{dc}}}{3}(1+a) = \\frac{2V_{\\text{dc}}}{3}(-a^2) = \\frac{2V_{\\text{dc}}}{3}\\exp(j\\pi/3)$\n    \\item $(-1, 1, -1) \\rightarrow \\vec{v}_s = \\frac{V_{\\text{dc}}}{3}(-1+a-a^2) = \\frac{2V_{\\text{dc}}}{3}\\exp(j2\\pi/3)$\n    \\item $(-1, 1, 1) \\rightarrow \\vec{v}_s = \\frac{V_{\\text{dc}}}{3}(-1+a+a^2) = -\\frac{2V_{\\text{dc}}}{3} = \\frac{2V_{\\text{dc}}}{3}\\exp(j\\pi)$\n    \\item $(-1, -1, 1) \\rightarrow \\vec{v}_s = \\frac{V_{\\text{dc}}}{3}(-1-a+a^2) = \\frac{2V_{\\text{dc}}}{3}\\exp(j4\\pi/3)$\n    \\item $(1, -1, 1) \\rightarrow \\vec{v}_s = \\frac{V_{\\text{dc}}}{3}(1-a+a^2) = \\frac{2V_{\\text{dc}}}{3}\\exp(j5\\pi/3)$\n\\end{itemize}\n这六个大矢量的幅值均为 $\\frac{2V_{\\text{dc}}}{3}$，且彼此相隔 $\\pi/3$ ($60^\\circ$) 的角度。它们构成了以原点为中心的正六边形的顶点。其他开关状态产生“中矢量”、“小矢量”和“零矢量”，它们都位于这个大六边形内部或其边界上。\n\n可行平均空间矢量的凸多边形是所有可能瞬时矢量的凸包。因此，该区域是由六个大矢量定义的大六边形。此六边形内的任何期望参考矢量 $\\vec{v}_{ref}$ 都可以通过对最近的三个瞬时矢量进行时间平均来合成。\n\n对于线性调制，参考矢量的轨迹必须始终保持在工作区域内。用于平衡正弦输出的参考矢量遵循一个圆形轨迹。为避免失真（过调制），这个圆形轨迹必须完全包含在六边形边界之内。能容纳在六边形内的最大可能圆是其内切圆。这个圆的半径 $r_{in}$ 决定了参考矢量的最大幅值。\n\n一个顶点到中心的距离为 $R_{vert}$ 的正六边形，其内切圆半径（边心距）为 $r_{in} = R_{vert} \\cos(\\pi/6) = R_{vert} \\frac{\\sqrt{3}}{2}$。\n在我们的例子中，顶点距离为 $R_{vert} = \\frac{2V_{\\text{dc}}}{3}$。因此，最大内切圆的半径为：\n$$ r_{in} = \\left(\\frac{2V_{\\text{dc}}}{3}\\right) \\frac{\\sqrt{3}}{2} = \\frac{V_{\\text{dc}}}{\\sqrt{3}} $$\n这是可以无失真合成的参考电压矢量的最大幅值。$|\\vec{v}_{ref}|_{max} = r_{in}$。\n\n接下来，我们必须将参考空间矢量的幅值与峰值相电压 $V_{1,\\text{phase,peak}}$ 联系起来。参考信号是一组平衡的正弦相电压（线对中点）：\n$$ v_{aN,ref}(t) = V_{1,\\text{phase,peak}} \\cos(\\omega t) $$\n$$ v_{bN,ref}(t) = V_{1,\\text{phase,peak}} \\cos(\\omega t - 2\\pi/3) $$\n$$ v_{cN,ref}(t) = V_{1,\\text{phase,peak}} \\cos(\\omega t - 4\\pi/3) $$\n对于平衡系统，相电压之和为零，因此其零序分量为零。这使我们可以将参考相电压 $v_{kN,ref}$ 与参考极电压 $v_{kO,ref}$ 等同起来。参考空间矢量 $\\vec{v}_{ref}(t)$ 是通过对这些电压应用克拉克变换得到的：\n$$ \\vec{v}_{ref}(t) = \\frac{2}{3} (v_{aN,ref} + a v_{bN,ref} + a^2 v_{cN,ref}) $$\n$$ \\vec{v}_{ref}(t) = \\frac{2}{3} V_{1,\\text{phase,peak}} \\left[ \\cos(\\omega t) + a \\cos(\\omega t - 2\\pi/3) + a^2 \\cos(\\omega t - 4\\pi/3) \\right] $$\n使用欧拉公式 $\\cos\\theta = (\\exp(j\\theta) + \\exp(-j\\theta))/2$ 以及 $a = \\exp(j2\\pi/3)$ 的定义，方括号中的项可以简化为：\n$$ \\cos(\\omega t) + a \\cos(\\omega t - 2\\pi/3) + a^2 \\cos(\\omega t - 4\\pi/3) = \\frac{3}{2} \\exp(j\\omega t) $$\n将此恒等式代回 $\\vec{v}_{ref}(t)$ 的表达式中：\n$$ \\vec{v}_{ref}(t) = \\frac{2}{3} V_{1,\\text{phase,peak}} \\left( \\frac{3}{2} \\exp(j\\omega t) \\right) = V_{1,\\text{phase,peak}} \\exp(j\\omega t) $$\n这表明参考空间矢量是一个幅值恒为 $|\\vec{v}_{ref}| = V_{1,\\text{phase,peak}}$、以角频率 $\\omega$ 旋转的矢量。\n\n当参考矢量的幅值等于内切圆的半径时，达到线性调制区的边界：\n$$ |\\vec{v}_{ref}|_{max} = V_{1,\\text{phase,peak,max}} = r_{in} = \\frac{V_{\\text{dc}}}{\\sqrt{3}} $$\n题目将调制指数定义为 $m_a \\equiv V_{1,\\text{phase,peak}}/(V_{\\text{dc}}/2)$。因此，最大调制指数 $m_{a,max}$ 为：\n$$ m_{a,max} = \\frac{V_{1,\\text{phase,peak,max}}}{V_{\\text{dc}}/2} = \\frac{V_{\\text{dc}}/\\sqrt{3}}{V_{\\text{dc}}/2} $$\n$$ m_{a,max} = \\frac{2}{\\sqrt{3}} $$",
            "answer": "$$\\boxed{\\frac{2}{\\sqrt{3}}}$$"
        }
    ]
}