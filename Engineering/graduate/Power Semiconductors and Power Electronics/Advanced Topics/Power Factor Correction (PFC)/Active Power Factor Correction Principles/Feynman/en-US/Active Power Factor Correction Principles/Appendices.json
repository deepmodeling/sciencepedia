{
    "hands_on_practices": [
        {
            "introduction": "The boost inductor is the heart of a PFC power stage, and understanding its behavior is fundamental to successful design. The high-frequency current ripple is a critical parameter that determines whether the converter operates in continuous conduction mode (CCM) and influences the design of the input EMI filter. This exercise  provides foundational practice by guiding you through the derivation of the instantaneous duty cycle and inductor current ripple, culminating in an analysis to find the worst-case ripple conditions across the input line voltage range.",
            "id": "3820624",
            "problem": "An ideal single-phase continuous-conduction-mode boost rectifier implementing Active Power Factor Correction (PFC) is supplied by an input line whose instantaneous rectified voltage is modeled as $v_{\\mathrm{in}}(t)=V_{m}|\\sin(\\omega t)|$. The rectifier regulates the output to a constant $v_{o}=400\\ \\mathrm{V}$ using a high-bandwidth outer loop, and an inner current loop shapes the average inductor current to be proportional to $v_{\\mathrm{in}}(t)$ to achieve unity power factor. The power stage switching frequency is $f_{s}=100\\ \\mathrm{kHz}$, and the input inductor is $L=1\\ \\mathrm{mH}$. Assume ideal components and negligible ripple in $v_{o}$ at the switching time scale.\n\nStarting from the inductor law $v_{L}=L\\,di_{L}/dt$ and the periodic steady-state volt–second balance over one switching period, first derive the instantaneous duty ratio $d(t)$ required for step-up operation at a given instantaneous $v_{\\mathrm{in}}(t)$. Then, using only this instantaneous relation and $v_{L}=L\\,di_{L}/dt$, derive an expression for the peak-to-peak inductor current ripple over one switching period, $\\Delta i_{L}$, as a function of the instantaneous $v_{\\mathrm{in}}(t)$. Finally, for each of the following line conditions:\n- low line with $V_{m}=325\\ \\mathrm{V}$,\n- high line with $V_{m}=650\\ \\mathrm{V}$,\n\ndetermine the maximum value of $\\Delta i_{L}$ attained over a line cycle under the constraint that the boost operates in step-up mode (i.e., at instants where $v_{\\mathrm{in}}(t)<v_{o}$). If the maximum occurs at multiple instants, report the common peak value. Express your final numerical answers in amperes and round each to three significant figures.",
            "solution": "The problem asks for the derivation of the instantaneous duty ratio $d(t)$ and the peak-to-peak inductor current ripple $\\Delta i_L$ for an ideal continuous-conduction-mode (CCM) boost converter used for power factor correction (PFC). Subsequently, it requires the calculation of the maximum value of this ripple over a line cycle for two different input line conditions.\n\nFirst, we validate the problem statement.\n\n**Step 1: Extract Givens**\n- Instantaneous rectified input voltage: $v_{\\mathrm{in}}(t)=V_{m}|\\sin(\\omega t)|$\n- Constant output voltage: $v_{o}=400\\ \\mathrm{V}$\n- Switching frequency: $f_{s}=100\\ \\mathrm{kHz}$\n- Input inductor: $L=1\\ \\mathrm{mH}$\n- Low line peak voltage: $V_{m}=325\\ \\mathrm{V}$\n- High line peak voltage: $V_{m}=650\\ \\mathrm{V}$\n- Constraint: Operation is restricted to step-up mode, i.e., at instants where $v_{\\mathrm{in}}(t)<v_{o}$.\n- Assumptions: Ideal components, CCM operation, negligible ripple in $v_{o}$.\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is scientifically grounded, describing a standard boost PFC circuit. The provided model and parameters are consistent with established power electronics principles and typical application values. The problem is well-posed, with all necessary information provided for a unique solution. The language is objective and formal. The constraint $v_{\\mathrm{in}}(t)<v_{o}$ is a physically necessary condition for a boost converter to increase voltage and is correctly applied. For the low-line case ($V_m=325\\ \\mathrm{V}$), $v_{\\mathrm{in}}(t)$ is always less than $v_o=400\\ \\mathrm{V}$, so the converter is always in step-up mode. For the high-line case ($V_m=650\\ \\mathrm{V}$), $v_{\\mathrm{in}}(t)$ exceeds $v_o$ for part of the cycle; the problem correctly restricts the analysis to the intervals where $v_{\\mathrm{in}}(t)<v_{o}$. The problem does not violate any validation criteria.\n\n**Step 3: Verdict and Action**\nThe problem is valid. A full solution will be provided.\n\n**Derivation of the Instantaneous Duty Ratio $d(t)$**\n\nIn a boost converter operating in CCM, the inductor is subjected to two different voltages within one switching period, $T_s = 1/f_s$. The analysis assumes that the line-frequency voltage $v_{\\mathrm{in}}(t)$ and the output voltage $v_o$ are constant over the much shorter switching period $T_s$.\n\n1.  When the main switch is ON for a duration $d(t)T_s$, the voltage across the inductor is $v_L = v_{\\mathrm{in}}(t)$.\n2.  When the main switch is OFF for a duration $(1-d(t))T_s$, the voltage across the inductor is $v_L = v_{\\mathrm{in}}(t) - v_o$.\n\nThe principle of inductor volt-second balance states that in periodic steady-state, the average voltage across the inductor over one switching period must be zero.\n$$ \\langle v_L \\rangle_{T_s} = \\frac{1}{T_s} \\left[ (v_{\\mathrm{in}}(t)) \\cdot (d(t)T_s) + (v_{\\mathrm{in}}(t) - v_o) \\cdot (1 - d(t))T_s \\right] = 0 $$\n$$ v_{\\mathrm{in}}(t)d(t) + v_{\\mathrm{in}}(t) - v_{\\mathrm{in}}(t)d(t) - v_o + v_o d(t) = 0 $$\n$$ v_{\\mathrm{in}}(t) - v_o(1 - d(t)) = 0 $$\nSolving for the instantaneous duty ratio $d(t)$:\n$$ 1 - d(t) = \\frac{v_{\\mathrm{in}}(t)}{v_o} $$\n$$ d(t) = 1 - \\frac{v_{\\mathrm{in}}(t)}{v_o} $$\nThis expression is valid for step-up operation where $v_{\\mathrm{in}}(t) < v_o$, which ensures $0 < d(t) < 1$.\n\n**Derivation of the Peak-to-Peak Inductor Current Ripple $\\Delta i_L(t)$**\n\nThe inductor current ripple is determined by the change in inductor current during either the ON or OFF subinterval. Using the inductor voltage-current relationship $v_L = L \\frac{di_L}{dt}$, the change in current during the ON time, $\\Delta i_L$, is:\n$$ \\Delta i_L = \\frac{v_L}{L} \\times (\\text{time interval}) $$\nDuring the ON time, $v_L = v_{\\mathrm{in}}(t)$ and the duration is $d(t)T_s$.\n$$ \\Delta i_L(t) = \\frac{v_{\\mathrm{in}}(t)}{L} \\cdot d(t)T_s $$\nSubstituting the previously derived expression for $d(t)$ and using $T_s = 1/f_s$:\n$$ \\Delta i_L(t) = \\frac{v_{\\mathrm{in}}(t)}{L} \\left( 1 - \\frac{v_{\\mathrm{in}}(t)}{v_o} \\right) \\frac{1}{f_s} $$\nThis can be written as a function of the instantaneous input voltage $v_{\\mathrm{in}}$:\n$$ \\Delta i_L(v_{\\mathrm{in}}) = \\frac{1}{L f_s} \\left( v_{\\mathrm{in}} - \\frac{v_{\\mathrm{in}}^2}{v_o} \\right) $$\n\n**Determination of the Maximum Ripple**\n\nTo find the maximum value of $\\Delta i_L$, we need to find the maximum of the function $\\Delta i_L(v_{\\mathrm{in}})$ with respect to $v_{\\mathrm{in}}$. This is a quadratic function of $v_{\\mathrm{in}}$, representing a downward-opening parabola. The maximum can be found by taking the derivative with respect to $v_{\\mathrm{in}}$ and setting it to zero.\n$$ \\frac{d(\\Delta i_L)}{dv_{\\mathrm{in}}} = \\frac{d}{dv_{\\mathrm{in}}} \\left[ \\frac{1}{L f_s} \\left( v_{\\mathrm{in}} - \\frac{v_{\\mathrm{in}}^2}{v_o} \\right) \\right] = \\frac{1}{L f_s} \\left( 1 - \\frac{2v_{\\mathrm{in}}}{v_o} \\right) $$\nSetting the derivative to zero to find the extremum:\n$$ 1 - \\frac{2v_{\\mathrm{in}}}{v_o} = 0 \\implies v_{\\mathrm{in}} = \\frac{v_o}{2} $$\nThe maximum ripple occurs when the instantaneous input voltage is exactly half the output voltage. The value of this maximum ripple is found by substituting $v_{\\mathrm{in}} = v_o/2$ back into the ripple equation:\n$$ (\\Delta i_L)_{\\mathrm{peak}} = \\frac{1}{L f_s} \\left( \\frac{v_o}{2} - \\frac{(v_o/2)^2}{v_o} \\right) = \\frac{1}{L f_s} \\left( \\frac{v_o}{2} - \\frac{v_o^2/4}{v_o} \\right) = \\frac{1}{L f_s} \\left( \\frac{v_o}{2} - \\frac{v_o}{4} \\right) $$\n$$ (\\Delta i_L)_{\\mathrm{peak}} = \\frac{v_o}{4 L f_s} $$\n\n**Calculation for Each Line Condition**\n\nWe are given $v_o = 400\\ \\mathrm{V}$, $L = 1\\ \\mathrm{mH} = 1 \\times 10^{-3}\\ \\mathrm{H}$, and $f_s = 100\\ \\mathrm{kHz} = 1 \\times 10^5\\ \\mathrm{Hz}$.\nThe maximum ripple occurs when $v_{\\mathrm{in}} = v_o/2 = 400/2 = 200\\ \\mathrm{V}$. The value of this maximum ripple is:\n$$ (\\Delta i_L)_{\\mathrm{peak}} = \\frac{400\\ \\mathrm{V}}{4 \\cdot (1 \\times 10^{-3}\\ \\mathrm{H}) \\cdot (1 \\times 10^5\\ \\mathrm{Hz})} = \\frac{400}{4 \\cdot 100} = \\frac{400}{400} = 1\\ \\mathrm{A} $$\n\nNow, we must check if this condition ($v_{\\mathrm{in}} = 200\\ \\mathrm{V}$) is met for each case.\n\n1.  **Low Line ($V_m = 325\\ \\mathrm{V}$)**:\n    The instantaneous input voltage varies as $v_{\\mathrm{in}}(t) = 325|\\sin(\\omega t)|$, covering the range $[0, 325]\\ \\mathrm{V}$. Since $v_{\\mathrm{in}} = 200\\ \\mathrm{V}$ is within this range, the maximum inductor current ripple will be attained during the line cycle. Its value is the peak value calculated above.\n    $$ (\\Delta i_L)_{\\max, \\text{low line}} = 1\\ \\mathrm{A} $$\n\n2.  **High Line ($V_m = 650\\ \\mathrm{V}$)**:\n    The instantaneous input voltage varies as $v_{\\mathrm{in}}(t) = 650|\\sin(\\omega t)|$. The problem constrains the analysis to instants where the converter operates in step-up mode, i.e., $v_{\\mathrm{in}}(t) < v_o = 400\\ \\mathrm{V}$. The function $\\Delta i_L(v_{\\mathrm{in}})$ increases for $v_{\\mathrm{in}} \\in [0, v_o/2)$ and decreases for $v_{\\mathrm{in}} \\in (v_o/2, v_o)$. The maximum still occurs at $v_{\\mathrm{in}} = v_o/2 = 200\\ \\mathrm{V}$. Since the input voltage $v_{\\mathrm{in}}(t)$ sweeps through the range $[0, 650]\\ \\mathrm{V}$, it will pass through $v_{\\mathrm{in}}=200\\ \\mathrm{V}$. This event occurs within the valid operating region since $200\\ \\mathrm{V} < 400\\ \\mathrm{V}$. Therefore, the maximum ripple is also attained in this case and has the same value.\n    $$ (\\Delta i_L)_{\\max, \\text{high line}} = 1\\ \\mathrm{A} $$\n\nFinally, rounding the results to three significant figures, both values are $1.00\\ \\mathrm{A}$.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n1.00 & 1.00\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "While ideal models assume infinite control authority, real-world PWM modulators and gate drivers have physical speed limitations. These constraints, such as a minimum required off-time, can prevent the controller from achieving the commanded duty cycle, a condition known as over-modulation. This practice  explores the practical impact of such hardware limits on current shaping, forcing you to calculate a duty cycle clamp and evaluate its effect on current tracking fidelity at the most demanding operating point.",
            "id": "3820648",
            "problem": "A single-phase average current-mode active Power Factor Correction (PFC) boost converter is designed to regulate a constant output voltage while shaping the input current proportional to the rectified line voltage. The converter operates with a fixed switching frequency and a pulse-width modulation (PWM) scheme that enforces a minimum off-time per cycle due to gate driver blanking and recovery constraints. Over-modulation is defined as the condition in which the commanded duty cycle would require an off-time smaller than the minimum off-time, causing saturation of the PWM and loss of linear control.\n\nThe converter parameters are:\n- Output voltage $v_{o} = 400\\ \\mathrm{V}$.\n- Low-line input is $v_{\\mathrm{in,rms}} = 90\\ \\mathrm{V}$ at the mains frequency (assume ideal sinusoid and ideal rectification).\n- Switching frequency $f_{s} = 100\\ \\mathrm{kHz}$.\n- Minimum off-time per cycle $t_{\\mathrm{off,min}} = 1\\ \\mathrm{\\mu s}$.\n\nAssume ideal continuous conduction mode (CCM) boost conversion and ignore semiconductor voltage drops. The PWM is trailing-edge, with on-time $t_{\\mathrm{on}} = D T_{s}$ and off-time $t_{\\mathrm{off}} = (1 - D) T_{s}$ per cycle, where $D$ is the duty ratio and $T_{s} = 1/f_{s}$ is the switching period. To avoid over-modulation under all operating conditions at low line, the maximum duty cycle must be clamped so that the PWM never violates the minimum off-time constraint.\n\nStarting from first principles of the ideal boost conversion ratio and time-domain PWM definitions:\n1) Derive the expression for the maximum allowable duty clamp $D_{\\mathrm{clamp}}$ imposed by the minimum off-time constraint.\n2) Compute the steady-state duty ratio $D_{\\mathrm{ss}}$ required at the crest of the low-line input voltage based on the ideal boost conversion ratio. Here, use $v_{\\mathrm{in,peak}} = \\sqrt{2}\\,v_{\\mathrm{in,rms}}$ and the ideal relation $v_{o} = \\frac{v_{\\mathrm{in}}}{1 - D}$ for CCM boost conversion.\n3) Define the crest tracking error due solely to the duty clamp as the fractional error\n$$\n\\epsilon_{\\mathrm{crest}} \\equiv \\frac{i_{\\mathrm{achievable}} - i_{\\mathrm{ref}}}{i_{\\mathrm{ref}}},\n$$\nevaluated at the input voltage crest, under the assumption that the inner current loop has sufficient bandwidth and that any deviation at the crest can only arise from the duty clamp limiting the achievable duty ratio below the steady-state requirement. If the clamp does not engage at the crest, take $\\epsilon_{\\mathrm{crest}} = 0$.\n\nRound your duty clamp result to four significant figures. Express the crest tracking error as a unitless decimal. Provide your final numerical answers as a two-entry row matrix $\\begin{pmatrix}D_{\\mathrm{clamp}} & \\epsilon_{\\mathrm{crest}}\\end{pmatrix}$.",
            "solution": "The user has requested the validation and solution of a power electronics problem concerning a Power Factor Correction (PFC) boost converter.\n\n### Problem Validation\n\n**Step 1: Extract Givens**\n\n-   Output voltage: $v_{o} = 400\\ \\mathrm{V}$\n-   Low-line RMS input voltage: $v_{\\mathrm{in,rms}} = 90\\ \\mathrm{V}$\n-   Switching frequency: $f_{s} = 100\\ \\mathrm{kHz}$\n-   Minimum off-time per cycle: $t_{\\mathrm{off,min}} = 1\\ \\mathrm{\\mu s}$\n-   Converter type: Single-phase average current-mode active PFC boost converter.\n-   Operating mode assumption: Ideal continuous conduction mode (CCM).\n-   Component assumption: Ideal semiconductor components (zero voltage drops).\n-   Input voltage assumption: Ideal sinusoid and ideal rectification.\n-   PWM scheme: Trailing-edge, with on-time $t_{\\mathrm{on}} = D T_{s}$ and off-time $t_{\\mathrm{off}} = (1 - D) T_{s}$, where $D$ is the duty ratio and $T_{s} = 1/f_{s}$.\n-   Boost conversion ratio: $v_{o} = \\frac{v_{\\mathrm{in}}}{1 - D}$.\n-   Peak input voltage definition: $v_{\\mathrm{in,peak}} = \\sqrt{2}\\,v_{\\mathrm{in,rms}}$.\n-   Crest tracking error definition: $\\epsilon_{\\mathrm{crest}} \\equiv \\frac{i_{\\mathrm{achievable}} - i_{\\mathrm{ref}}}{i_{\\mathrm{ref}}}$, with the condition that $\\epsilon_{\\mathrm{crest}} = 0$ if the duty clamp does not engage at the voltage crest.\n\n**Step 2: Validate Using Extracted Givens**\n\n-   **Scientifically Grounded:** The problem is firmly based on the established principles of power electronics, specifically the operation of a CCM boost converter used for PFC. The concepts of duty cycle, switching frequency, minimum off-time, controller saturation (over-modulation), and current waveform distortion are all standard and fundamental to the field. The provided numerical values are realistic for a commercial-grade PFC circuit.\n-   **Well-Posed:** The problem is well-posed. It provides a clear objective with all necessary data and relationships to arrive at a unique, meaningful solution. The assumptions (ideal converter, ideal rectification) are standard for simplifying the analysis to a tractable academic problem.\n-   **Objective:** The language is technical, precise, and free of any subjective or ambiguous terminology.\n-   **Completeness and Consistency:** The problem is self-contained and internally consistent. All required parameters are given, and there are no contradictory constraints.\n\n**Step 3: Verdict and Action**\n\nThe problem is deemed **valid**. It is a standard, well-posed problem in power electronics design and analysis. The solution process will now proceed.\n\n### Solution\n\nThe solution is approached in three parts as requested: deriving the maximum duty cycle clamp, computing the required duty cycle at the input voltage crest, and determining the resulting current tracking error.\n\n**1) Derivation of the maximum allowable duty clamp $D_{\\mathrm{clamp}}$**\n\nThe switching period, $T_s$, is the reciprocal of the switching frequency, $f_s$:\n$$\nT_{s} = \\frac{1}{f_{s}}\n$$\nThe off-time, $t_{\\mathrm{off}}$, for a given duty cycle $D$ is defined as:\n$$\nt_{\\mathrm{off}} = (1 - D) T_{s}\n$$\nThe problem states a minimum off-time constraint due to hardware limitations:\n$$\nt_{\\mathrm{off}} \\ge t_{\\mathrm{off,min}}\n$$\nSubstituting the expression for $t_{\\mathrm{off}}$, we get:\n$$\n(1 - D) T_{s} \\ge t_{\\mathrm{off,min}}\n$$\nThe maximum allowable duty cycle, which we define as the clamp value $D_{\\mathrm{clamp}}$, corresponds to the case where the off-time is at its minimum possible value, $t_{\\mathrm{off,min}}$. Therefore, we set the inequality to an equality:\n$$\n(1 - D_{\\mathrm{clamp}}) T_{s} = t_{\\mathrm{off,min}}\n$$\nSolving for $D_{\\mathrm{clamp}}$:\n$$\n1 - D_{\\mathrm{clamp}} = \\frac{t_{\\mathrm{off,min}}}{T_{s}}\n$$\n$$\nD_{\\mathrm{clamp}} = 1 - \\frac{t_{\\mathrm{off,min}}}{T_{s}}\n$$\nSubstituting $T_s = 1/f_s$, the expression for the duty cycle clamp becomes:\n$$\nD_{\\mathrm{clamp}} = 1 - t_{\\mathrm{off,min}} f_{s}\n$$\nNow, we substitute the given numerical values: $f_{s} = 100\\ \\mathrm{kHz} = 100 \\times 10^{3}\\ \\mathrm{Hz}$ and $t_{\\mathrm{off,min}} = 1\\ \\mathrm{\\mu s} = 1 \\times 10^{-6}\\ \\mathrm{s}$.\n$$\nD_{\\mathrm{clamp}} = 1 - (1 \\times 10^{-6}\\ \\mathrm{s}) \\times (100 \\times 10^{3}\\ \\mathrm{Hz}) = 1 - 0.1 = 0.9\n$$\nAs required, we express this result to four significant figures.\n$$\nD_{\\mathrm{clamp}} = 0.9000\n$$\n\n**2) Computation of the steady-state duty ratio $D_{\\mathrm{ss}}$ at the voltage crest**\n\nThe ideal steady-state voltage conversion ratio for a CCM boost converter is given as:\n$$\nv_{o} = \\frac{v_{\\mathrm{in}}}{1 - D}\n$$\nwhere $v_{\\mathrm{in}}$ is the instantaneous input voltage. To maintain this relationship across the line cycle, the duty cycle $D$ must vary as a function of $v_{\\mathrm{in}}(t)$. We can solve for $D$:\n$$\n1 - D = \\frac{v_{\\mathrm{in}}}{v_{o}} \\implies D(v_{\\mathrm{in}}) = 1 - \\frac{v_{\\mathrm{in}}}{v_{o}}\n$$\nThis is the duty cycle required to achieve the desired voltage conversion at any instant. We are interested in the duty cycle at the crest (peak) of the low-line input voltage. The peak input voltage, $v_{\\mathrm{in,peak}}$, is:\n$$\nv_{\\mathrm{in,peak}} = \\sqrt{2} \\, v_{\\mathrm{in,rms}} = \\sqrt{2} \\times 90\\ \\mathrm{V}\n$$\nThe steady-state duty ratio required at this peak, $D_{\\mathrm{ss}}$, is found by substituting $v_{\\mathrm{in}} = v_{\\mathrm{in,peak}}$ and $v_o = 400\\ \\mathrm{V}$ into the duty cycle equation:\n$$\nD_{\\mathrm{ss}} = 1 - \\frac{v_{\\mathrm{in,peak}}}{v_{o}} = 1 - \\frac{\\sqrt{2} \\times 90}{400}\n$$\nNumerically evaluating this expression:\n$$\nD_{\\mathrm{ss}} = 1 - \\frac{127.27922...}{400} = 1 - 0.318198... = 0.681801...\n$$\n\n**3) Determination of the crest tracking error $\\epsilon_{\\mathrm{crest}}$**\n\nThe crest tracking error arises if the required duty cycle, $D_{\\mathrm{ss}}$, exceeds the maximum achievable duty cycle, $D_{\\mathrm{clamp}}$. We must compare the two values:\n- Required duty cycle at crest: $D_{\\mathrm{ss}} \\approx 0.6818$\n- Clamped maximum duty cycle: $D_{\\mathrm{clamp}} = 0.9000$\n\nWe observe that:\n$$\nD_{\\mathrm{ss}} < D_{\\mathrm{clamp}}\n$$\nSince the duty cycle required at the input voltage crest is less than the maximum duty cycle allowed by the PWM modulator's off-time limit, the controller will not saturate. The duty clamp does not engage.\n\nThe problem statement provides a specific instruction for this scenario: \"If the clamp does not engage at the crest, take $\\epsilon_{\\mathrm{crest}} = 0$.\" This is physically consistent, as the controller can command the necessary duty cycle to ensure the input current perfectly follows its reference, i.e., $i_{\\mathrm{achievable}} = i_{\\mathrm{ref}}$.\n\nTherefore, the crest tracking error is:\n$$\n\\epsilon_{\\mathrm{crest}} = 0\n$$\n\nThe final answer requires a matrix containing the two computed values: $D_{\\mathrm{clamp}}$ and $\\epsilon_{\\mathrm{crest}}$.",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 0.9000 & 0 \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "In single-phase PFC systems, a non-obvious source of input current distortion arises from the output side of the converter. The inherent power pulsation at twice the line frequency creates a voltage ripple on the DC bus capacitor, which is not perfectly stiff. This practice  delves into this system-level interaction, using small-signal analysis to demonstrate how DC bus ripple propagates through the control law to generate unwanted harmonics in the AC input current, a crucial insight for high-performance designs.",
            "id": "3820610",
            "problem": "A single-phase Active Power Factor Correction (PFC) boost rectifier employing One-Cycle Control (OCC) draws an input current from an Alternating Current (AC) source of instantaneous voltage $v_{\\mathrm{s}}(t)=V_{\\mathrm{m}}\\sin(\\omega t)$, where $V_{\\mathrm{m}}$ is the source amplitude and $\\omega$ is the line angular frequency. The Direct Current (DC) bus voltage exhibits a ripple at twice the line frequency due to single-phase power pulsation and is described by\n$$\nv_{\\mathrm{b}}(t)=V_{0}\\bigl[1+m\\cos(2\\omega t+\\phi)\\bigr],\n$$\nwhere $V_{0}$ is the average bus voltage, $0<m\\ll 1$ is the normalized ripple amplitude, and $\\phi$ is the ripple phase relative to $\\cos(2\\omega t)$, expressed in radians. The OCC modulator enforces switched-cell volt–second balance each switching period and, together with a high-bandwidth inner current loop, realizes a cycle-by-cycle normalization that yields an average input current of the form\n$$\ni_{\\mathrm{in}}(t)=G\\,\\frac{v_{\\mathrm{s}}(t)}{v_{\\mathrm{b}}(t)},\n$$\nwhere $G$ is an effective conductance set by a slow outer voltage loop.\n\nUsing only first principles of switched inductor volt–second balance, small-signal expansion for $0<m\\ll 1$, and trigonometric identities, derive the leading-order harmonic content of $i_{\\mathrm{in}}(t)$ and obtain, to first order in $m$, a closed-form expression for the ratio $\\mathcal{R}$ of the amplitude of the third-harmonic component at $3\\omega$ to the amplitude of the fundamental component at $\\omega$ as a function of $m$ and $\\phi$. Then evaluate this ratio for $m=0.12$ and $\\phi=0$.\n\nAdditionally, based on your derivation, state the condition on $\\phi$ (in radians) that minimizes $\\mathcal{R}$ for a fixed $m$, and comment on how design choices that affect $m$ influence distortion. Your final reported value must be the numerical value of $\\mathcal{R}$ for $m=0.12$ and $\\phi=0$, expressed as a pure decimal and rounded to four significant figures.",
            "solution": "The problem asks for an analysis of the input current harmonics in a single-phase Active Power Factor Correction (PFC) boost rectifier. We are given the instantaneous AC source voltage $v_{\\mathrm{s}}(t)$, the DC bus voltage $v_{\\mathrm{b}}(t)$ including its ripple, and the control law that defines the average input current $i_{\\mathrm{in}}(t)$.\n\nThe instantaneous input current is given by:\n$$\ni_{\\mathrm{in}}(t) = G\\,\\frac{v_{\\mathrm{s}}(t)}{v_{\\mathrm{b}}(t)}\n$$\nSubstituting the provided expressions for $v_{\\mathrm{s}}(t)=V_{\\mathrm{m}}\\sin(\\omega t)$ and $v_{\\mathrm{b}}(t)=V_{0}\\bigl[1+m\\cos(2\\omega t+\\phi)\\bigr]$:\n$$\ni_{\\mathrm{in}}(t) = G\\,\\frac{V_{\\mathrm{m}}\\sin(\\omega t)}{V_{0}\\bigl[1+m\\cos(2\\omega t+\\phi)\\bigr]}\n$$\nLet's define a constant $I_{\\mathrm{m}} = \\frac{G V_{\\mathrm{m}}}{V_{0}}$, which represents the amplitude of the desired fundamental input current in the ideal case where the bus voltage ripple is zero ($m=0$). The expression for the current becomes:\n$$\ni_{\\mathrm{in}}(t) = I_{\\mathrm{m}}\\sin(\\omega t)\\,\\frac{1}{1+m\\cos(2\\omega t+\\phi)}\n$$\nThe problem states that the normalized ripple amplitude $m$ is small, i.e., $0 < m \\ll 1$. This allows us to use a first-order Taylor expansion for the term $(1+x)^{-1}$ around $x=0$, which is $(1+x)^{-1} \\approx 1-x$. Here, $x = m\\cos(2\\omega t+\\phi)$. The approximation is valid to the first order in $m$.\n$$\n\\frac{1}{1+m\\cos(2\\omega t+\\phi)} \\approx 1 - m\\cos(2\\omega t+\\phi)\n$$\nSubstituting this approximation into the expression for $i_{\\mathrm{in}}(t)$:\n$$\ni_{\\mathrm{in}}(t) \\approx I_{\\mathrm{m}}\\sin(\\omega t)\\bigl[1 - m\\cos(2\\omega t+\\phi)\\bigr] = I_{\\mathrm{m}}\\sin(\\omega t) - I_{\\mathrm{m}}m\\sin(\\omega t)\\cos(2\\omega t+\\phi)\n$$\nTo find the harmonic content, we use the product-to-sum trigonometric identity:\n$$\n\\sin(A)\\cos(B) = \\frac{1}{2}\\bigl[\\sin(A+B) + \\sin(A-B)\\bigr]\n$$\nLet $A = \\omega t$ and $B = 2\\omega t + \\phi$. Then $A+B = 3\\omega t + \\phi$ and $A-B = -\\omega t - \\phi$.\n$$\n\\sin(\\omega t)\\cos(2\\omega t+\\phi) = \\frac{1}{2}\\bigl[\\sin(3\\omega t+\\phi) + \\sin(-\\omega t-\\phi)\\bigr] = \\frac{1}{2}\\bigl[\\sin(3\\omega t+\\phi) - \\sin(\\omega t+\\phi)\\bigr]\n$$\nSubstituting this result back into the expression for $i_{\\mathrm{in}}(t)$:\n$$\ni_{\\mathrm{in}}(t) \\approx I_{\\mathrm{m}}\\sin(\\omega t) - \\frac{I_{\\mathrm{m}}m}{2}\\bigl[\\sin(3\\omega t+\\phi) - \\sin(\\omega t+\\phi)\\bigr]\n$$\n$$\ni_{\\mathrm{in}}(t) \\approx I_{\\mathrm{m}}\\sin(\\omega t) + \\frac{I_{\\mathrm{m}}m}{2}\\sin(\\omega t+\\phi) - \\frac{I_{\\mathrm{m}}m}{2}\\sin(3\\omega t+\\phi)\n$$\nWe can now group the terms by their frequency. The fundamental component (at frequency $\\omega$) is:\n$$\ni_{1\\omega}(t) = I_{\\mathrm{m}}\\sin(\\omega t) + \\frac{I_{\\mathrm{m}}m}{2}\\sin(\\omega t+\\phi)\n$$\nThe third-harmonic component (at frequency $3\\omega$) is:\n$$\ni_{3\\omega}(t) = -\\frac{I_{\\mathrm{m}}m}{2}\\sin(3\\omega t+\\phi)\n$$\nThe amplitude of the third harmonic, $I_3$, is simply the absolute value of the coefficient of the sine term:\n$$\nI_3 = \\left|-\\frac{I_{\\mathrm{m}}m}{2}\\right| = \\frac{I_{\\mathrm{m}}m}{2}\n$$\nTo find the amplitude of the fundamental component, $I_1$, we first expand $i_{1\\omega}(t)$ into its orthogonal sine and cosine components:\n$$\ni_{1\\omega}(t) = I_{\\mathrm{m}}\\sin(\\omega t) + \\frac{I_{\\mathrm{m}}m}{2}\\bigl(\\sin(\\omega t)\\cos(\\phi) + \\cos(\\omega t)\\sin(\\phi)\\bigr)\n$$\n$$\ni_{1\\omega}(t) = I_{\\mathrm{m}}\\left(1 + \\frac{m}{2}\\cos(\\phi)\\right)\\sin(\\omega t) + I_{\\mathrm{m}}\\left(\\frac{m}{2}\\sin(\\phi)\\right)\\cos(\\omega t)\n$$\nThe amplitude $I_1$ is the square root of the sum of the squares of the coefficients of $\\sin(\\omega t)$ and $\\cos(\\omega t)$:\n$$\nI_1 = \\sqrt{\\left[I_{\\mathrm{m}}\\left(1 + \\frac{m}{2}\\cos(\\phi)\\right)\\right]^2 + \\left[I_{\\mathrm{m}}\\left(\\frac{m}{2}\\sin(\\phi)\\right)\\right]^2}\n$$\n$$\nI_1 = I_{\\mathrm{m}}\\sqrt{\\left(1 + m\\cos(\\phi) + \\frac{m^2}{4}\\cos^2(\\phi)\\right) + \\left(\\frac{m^2}{4}\\sin^2(\\phi)\\right)}\n$$\n$$\nI_1 = I_{\\mathrm{m}}\\sqrt{1 + m\\cos(\\phi) + \\frac{m^2}{4}\\left(\\cos^2(\\phi) + \\sin^2(\\phi)\\right)} = I_{\\mathrm{m}}\\sqrt{1 + m\\cos(\\phi) + \\frac{m^2}{4}}\n$$\nThe ratio $\\mathcal{R}$ of the third-harmonic amplitude to the fundamental amplitude is:\n$$\n\\mathcal{R}(m, \\phi) = \\frac{I_3}{I_1} = \\frac{\\frac{I_{\\mathrm{m}}m}{2}}{I_{\\mathrm{m}}\\sqrt{1 + m\\cos(\\phi) + \\frac{m^2}{4}}} = \\frac{\\frac{m}{2}}{\\sqrt{1 + m\\cos(\\phi) + \\frac{m^2}{4}}}\n$$\nThis is the closed-form expression for $\\mathcal{R}$ as a function of $m$ and $\\phi$, derived from a first-order approximation of the current waveform, as requested.\n\nWe are asked to evaluate this ratio for $m=0.12$ and $\\phi=0$. For $\\phi=0$, $\\cos(\\phi)=1$.\n$$\n\\mathcal{R}(0.12, 0) = \\frac{\\frac{0.12}{2}}{\\sqrt{1 + (0.12)(1) + \\frac{(0.12)^2}{4}}} = \\frac{0.06}{\\sqrt{1 + 0.12 + \\frac{0.0144}{4}}}\n$$\n$$\n\\mathcal{R}(0.12, 0) = \\frac{0.06}{\\sqrt{1.12 + 0.0036}} = \\frac{0.06}{\\sqrt{1.1236}} = \\frac{0.06}{1.06}\n$$\n$$\n\\mathcal{R}(0.12, 0) = \\frac{6}{106} = \\frac{3}{53} \\approx 0.05660377...\n$$\nRounding to four significant figures, the value is $0.05660$.\n\nTo find the condition on $\\phi$ that minimizes $\\mathcal{R}$ for a fixed $m$, we must maximize the denominator of the expression for $\\mathcal{R}$, which is $\\sqrt{1 + m\\cos(\\phi) + \\frac{m^2}{4}}$. Since $m$ is a positive constant, this function is maximized when $\\cos(\\phi)$ is maximum. The maximum value of $\\cos(\\phi)$ is $1$, which occurs when $\\phi = 2k\\pi$ for any integer $k$.\n\nFinally, we comment on the design choices that affect $m$. The normalized ripple voltage amplitude $m$ can be shown from first principles to be related to the system parameters by:\n$$\nm \\approx \\frac{P_{\\mathrm{in}}}{2\\omega C_{\\mathrm{b}} V_0^2}\n$$\nwhere $P_{\\mathrm{in}}$ is the average input power, $\\omega$ is the line angular frequency, $C_{\\mathrm{b}}$ is the DC bus capacitance, and $V_0$ is the average DC bus voltage.\nThe harmonic distortion, represented by $\\mathcal{R}$, is approximately proportional to $m$ (since for small $m$, $\\mathcal{R} \\approx m/2$). Therefore, to reduce distortion, a designer must reduce $m$. This can be achieved by:\n1.  Increasing the bus capacitance $C_{\\mathrm{b}}$: A larger capacitor provides a greater ability to absorb the twice-line-frequency power pulsation, thus reducing voltage ripple. This comes at the cost of increased physical size and expense.\n2.  Increasing the average DC bus voltage $V_0$: Since $m$ is inversely proportional to $V_0^2$, even a modest increase in bus voltage can significantly reduce the ripple. However, a higher bus voltage increases voltage stress on semiconductor devices and other components, potentially increasing losses and cost.\nThese represent fundamental trade-offs in the design of single-phase PFC converters.",
            "answer": "$$\n\\boxed{0.05660}\n$$"
        }
    ]
}