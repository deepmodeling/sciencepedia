{
    "hands_on_practices": [
        {
            "introduction": "High-frequency noise in power converters often originates not from the ideal circuit diagram, but from parasitic elements created by the physical printed circuit board layout. This exercise provides a tangible link between a critical layout parameter—the power loop inductance—and the resulting high-frequency voltage ringing at the switch node. By analyzing an underdamped $RLC$ model, you will quantify how a superior layout with lower inductance directly reduces voltage stress and the amplitude of this primary electromagnetic interference (EMI) source .",
            "id": "3838061",
            "problem": "A synchronous buck converter commutates a current between its Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) devices, producing high-frequency ringing due to parasitic inductance and capacitance in the switching loop. Consider the switch-node loop modeled as a series resistor–inductor–capacitor network with parasitics $R$, $L$, and $C$, where $R$ is small enough to yield an underdamped response. During the high-side turn-on transition, a step-like commutation causes an instantaneous loop current change of magnitude $\\Delta I$. Assume the commutation interval is short compared to the natural oscillation period of the loop.\n\nTwo physically realizable printed circuit board layouts for the same converter are characterized by their measured loop inductances: layout A with $L_{A} = 10\\ \\mathrm{nH}$ and layout B with $L_{B} = 5\\ \\mathrm{nH}$. The switch-node effective capacitance is $C = 200\\ \\mathrm{pF}$, and the series resistance is $R = 0.20\\ \\Omega$. The current commutation magnitude is $\\Delta I = 20\\ \\mathrm{A}$. Assume the parasitics $C$ and $R$ are invariant across the two layouts, and that the coupling path from the switch node to the Line Impedance Stabilization Network (LISN) input is unchanged between layouts.\n\nStarting from Kirchhoff’s laws and energy conservation for the underdamped series $RLC$ network excited by the commutation, derive the first-peak ringing voltage at the switch node for each layout, justify the approximation used for the first peak, and determine the expected reduction in peak ringing voltage going from layout A to layout B. Then, correlate this reduction to the anticipated change in the conducted EMI magnitude measured by the LISN, assuming the measured conducted noise magnitude at the ringing frequency is proportional to the switch-node ringing amplitude.\n\nExpress the final results as:\n- a dimensionless ratio $r = V_{\\mathrm{pk,B}}/V_{\\mathrm{pk,A}}$ for the peak ringing voltages, and\n- a decibel value $\\Delta_{\\mathrm{dB}} = 20\\log_{10}(r)$ for the change in conducted EMI magnitude.\n\nRound $r$ to four significant figures and $\\Delta_{\\mathrm{dB}}$ to three significant figures. No other numerical values are required. The decibel value is dimensionless; do not include any units inside the final answer.",
            "solution": "The problem is first validated to ensure it is scientifically grounded, well-posed, and objective.\n\n**Step 1: Extract Givens**\n- Model: Series Resistor-Inductor-Capacitor ($RLC$) network.\n- Damping: Underdamped response.\n- Excitation: Instantaneous loop current change of magnitude $\\Delta I = 20\\ \\mathrm{A}$.\n- Layout A loop inductance: $L_{A} = 10\\ \\mathrm{nH}$.\n- Layout B loop inductance: $L_{B} = 5\\ \\mathrm{nH}$.\n- Switch-node effective capacitance: $C = 200\\ \\mathrm{pF}$.\n- Series resistance: $R = 0.20\\ \\Omega$.\n- Invariant parameters: $R$ and $C$ are the same for both layouts.\n- Assumption: Coupling path from switch node to Line Impedance Stabilization Network (LISN) is unchanged.\n- Assumption: Measured conducted noise magnitude is proportional to the switch-node ringing amplitude.\n- Required outputs:\n    1. A dimensionless ratio $r = V_{\\mathrm{pk,B}}/V_{\\mathrm{pk,A}}$.\n    2. A decibel value $\\Delta_{\\mathrm{dB}} = 20\\log_{10}(r)$.\n- Rounding: $r$ to four significant figures, $\\Delta_{\\mathrm{dB}}$ to three significant figures.\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is scientifically grounded, describing the standard and well-understood phenomenon of parasitic ringing in power converters. The series $RLC$ circuit is the correct fundamental model for this effect. The problem is well-posed, as all necessary parameters ($R$, $L_A$, $L_B$, $C$, $\\Delta I$) are provided to determine a unique solution. The language is objective and precise. The validity of the \"underdamped\" assumption is confirmed by checking the condition $R < 2\\sqrt{L/C}$. For layout A, $2\\sqrt{L_A/C} = 2\\sqrt{(10 \\times 10^{-9})/(200 \\times 10^{-12})} = 2\\sqrt{50} \\approx 14.14\\ \\Omega$. Since $R=0.20\\ \\Omega < 14.14\\ \\Omega$, it is underdamped. For layout B, $2\\sqrt{L_B/C} = 2\\sqrt{(5 \\times 10^{-9})/(200 \\times 10^{-12})} = 2\\sqrt{25} = 10\\ \\Omega$. Since $R=0.20\\ \\Omega < 10\\ \\Omega$, it is also underdamped. All parameters are physically realistic for a modern power converter. The problem statement is complete, consistent, and scientifically sound.\n\n**Step 3: Verdict and Action**\nThe problem is valid. A full solution will be provided.\n\n**Derivation of the Peak Ringing Voltage**\n\nThe parasitic ringing loop is modeled as a series $RLC$ circuit. The rapid commutation of current $\\Delta I$ into the loop inductance $L$ establishes the initial condition. We analyze the transient response of the circuit. By Kirchhoff's Voltage Law (KVL), the equation for the capacitor voltage $v_C(t)$ in the source-free $RLC$ circuit is:\n$$L C \\frac{d^2v_C(t)}{dt^2} + R C \\frac{dv_C(t)}{dt} + v_C(t) = 0$$\nThe initial conditions at time $t=0^+$ (immediately after commutation) are that the capacitor voltage is zero, $v_C(0^+) = 0$, and the inductor current is at its peak, $i_L(0^+) = \\Delta I$. The relationship between inductor current and capacitor voltage is $i_L(t) = C \\frac{dv_C(t)}{dt}$. Thus, the initial rate of change of capacitor voltage is $\\frac{dv_C}{dt}\\Big|_{t=0^+} = \\frac{i_L(0^+)}{C} = \\frac{\\Delta I}{C}$.\n\nFor an underdamped system, the general solution for $v_C(t)$ is:\n$$v_C(t) = \\exp(-\\alpha t) (A \\cos(\\omega_d t) + B \\sin(\\omega_d t))$$\nwhere the damping factor is $\\alpha = \\frac{R}{2L}$ and the damped natural frequency is $\\omega_d = \\sqrt{\\omega_0^2 - \\alpha^2}$, with $\\omega_0 = \\frac{1}{\\sqrt{LC}}$ being the undamped natural frequency.\n\nApplying the initial condition $v_C(0) = 0$ gives $A = 0$. The solution simplifies to $v_C(t) = B \\exp(-\\alpha t) \\sin(\\omega_d t)$.\nApplying the second initial condition, $\\frac{dv_C}{dt}\\Big|_{t=0} = B\\omega_d = \\frac{\\Delta I}{C}$, we find the coefficient $B = \\frac{\\Delta I}{C\\omega_d}$.\nThe full expression for the switch-node voltage ringing is:\n$$v_C(t) = \\frac{\\Delta I}{C\\omega_d} \\exp(-\\alpha t) \\sin(\\omega_d t)$$\n\nThe first peak voltage $V_{\\mathrm{pk}}$ occurs at a time $t_p$ where $\\frac{dv_C(t)}{dt} = 0$. This occurs when $\\tan(\\omega_d t_p) = \\frac{\\omega_d}{\\alpha}$. The value of the peak voltage is found to be:\n$$V_{\\mathrm{pk}} = \\Delta I \\sqrt{\\frac{L}{C}} \\exp\\left(-\\frac{\\alpha}{\\omega_d} \\arctan\\left(\\frac{\\omega_d}{\\alpha}\\right)\\right)$$\n\n**Justification of the Approximation for the First Peak**\nThe problem asks to justify an approximation for the first peak. We can simplify the full expression if the damping is small. The degree of damping can be assessed by the quality factor, $Q = \\frac{\\omega_0 L}{R} = \\frac{1}{R}\\sqrt{\\frac{L}{C}}$.\nFor layout A:\n$\\omega_{0A} = \\frac{1}{\\sqrt{L_A C}} = \\frac{1}{\\sqrt{(10 \\times 10^{-9})(200 \\times 10^{-12})}} = \\frac{1}{\\sqrt{2 \\times 10^{-18}}} \\approx 7.07 \\times 10^8\\ \\text{rad/s}$.\n$Q_A = \\frac{1}{R}\\sqrt{\\frac{L_A}{C}} = \\frac{1}{0.20}\\sqrt{\\frac{10 \\times 10^{-9}}{200 \\times 10^{-12}}} = 5\\sqrt{50} \\approx 35.4$.\nFor layout B:\n$\\omega_{0B} = \\frac{1}{\\sqrt{L_B C}} = \\frac{1}{\\sqrt{(5 \\times 10^{-9})(200 \\times 10^{-12})}} = \\frac{1}{\\sqrt{1 \\times 10^{-18}}} = 10^9\\ \\text{rad/s}$.\n$Q_B = \\frac{1}{R}\\sqrt{\\frac{L_B}{C}} = \\frac{1}{0.20}\\sqrt{\\frac{5 \\times 10^{-9}}{200 \\times 10^{-12}}} = 5\\sqrt{25} = 25$.\n\nSince $Q \\gg 1$ for both layouts, the systems are very lightly damped. This implies that $\\alpha \\ll \\omega_0$, $\\omega_d \\approx \\omega_0$, and the exponential damping term $\\exp(-\\alpha t_p)$ is very close to $1$ for the first peak (which occurs near $t_p \\approx \\frac{\\pi}{2\\omega_d}$). Therefore, the energy loss in the first quarter-cycle is negligible.\n\nThis justifies using an energy conservation approach as an excellent approximation. The initial magnetic energy stored in the inductor, $E_L = \\frac{1}{2}L(\\Delta I)^2$, is almost entirely converted into electric energy in the capacitor, $E_C = \\frac{1}{2}C V_{\\mathrm{pk}}^2$, at the first voltage peak.\nEquating these energies:\n$$\\frac{1}{2} L (\\Delta I)^2 \\approx \\frac{1}{2} C V_{\\mathrm{pk}}^2$$\nSolving for the peak voltage $V_{\\mathrm{pk}}$:\n$$V_{\\mathrm{pk}} \\approx \\Delta I \\sqrt{\\frac{L}{C}}$$\n\n**Calculation of Voltage Ratio and EMI Reduction**\nUsing the justified approximation, we find the peak voltages for layouts A and B:\n$$V_{\\mathrm{pk,A}} \\approx \\Delta I \\sqrt{\\frac{L_A}{C}}$$\n$$V_{\\mathrm{pk,B}} \\approx \\Delta I \\sqrt{\\frac{L_B}{C}}$$\nThe dimensionless ratio $r$ is:\n$$r = \\frac{V_{\\mathrm{pk,B}}}{V_{\\mathrm{pk,A}}} = \\frac{\\Delta I \\sqrt{L_B/C}}{\\Delta I \\sqrt{L_A/C}} = \\sqrt{\\frac{L_B}{L_A}}$$\nSubstituting the given inductance values:\n$$r = \\sqrt{\\frac{5\\ \\mathrm{nH}}{10\\ \\mathrm{nH}}} = \\sqrt{0.5} = \\frac{\\sqrt{2}}{2} \\approx 0.70710678...$$\nRounding to four significant figures, $r = 0.7071$.\n\nThe problem states that the conducted EMI noise magnitude is proportional to the switch-node ringing amplitude. Therefore, the ratio of the EMI magnitudes is equal to the ratio of the peak voltages:\n$$\\frac{\\text{EMI}_{\\text{B}}}{\\text{EMI}_{\\text{A}}} = \\frac{V_{\\mathrm{pk,B}}}{V_{\\mathrm{pk,A}}} = r$$\nThe change in the conducted EMI magnitude, measured in decibels, is given by $\\Delta_{\\mathrm{dB}}$:\n$$\\Delta_{\\mathrm{dB}} = 20\\log_{10}\\left(\\frac{\\text{EMI}_{\\text{B}}}{\\text{EMI}_{\\text{A}}}\\right) = 20\\log_{10}(r)$$\nSubstituting the value of $r = \\sqrt{0.5}$:\n$$\\Delta_{\\mathrm{dB}} = 20\\log_{10}(\\sqrt{0.5}) = 20 \\times \\frac{1}{2} \\log_{10}(0.5) = 10\\log_{10}(0.5)$$\n$$\\Delta_{\\mathrm{dB}} = 10 \\times (\\log_{10}(1) - \\log_{10}(2)) = 10 \\times (0 - \\log_{10}(2)) = -10\\log_{10}(2)$$\nUsing the value $\\log_{10}(2) \\approx 0.30103$:\n$$\\Delta_{\\mathrm{dB}} \\approx -10 \\times 0.30103 = -3.0103$$\nRounding to three significant figures, $\\Delta_{\\mathrm{dB}} = -3.01$. This represents a reduction of approximately $3.01\\ \\mathrm{dB}$ in the conducted EMI at the ringing frequency when switching from layout A to layout B.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.7071 & -3.01\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "Understanding the frequency content of switching noise is fundamental to designing effective filters and meeting regulatory standards. This practice delves into the relationship between the time-domain characteristics of a switching waveform, specifically its rise and fall times $t_r$, and its frequency-domain spectral envelope. Using foundational Fourier analysis, you will derive how the switching edge rate sets the bandwidth of significant conducted emissions, providing a quantitative basis for the well-known trade-off between switching speed, efficiency, and EMI performance .",
            "id": "3838122",
            "problem": "A hard-switched DC-to-DC buck converter commutates its switching-node voltage periodically at a switching frequency of $f_s=100\\ \\mathrm{kHz}$. The switching-node voltage can be modeled as a periodic trapezoidal waveform of period $T_s=1/f_s$, amplitude $V$, duty ratio $D$ (constant in time), and linear edges with identical $10$–$90$ rise and fall times $t_r=50\\ \\mathrm{ns}$, where $t_r \\ll T_s$. The conducted emission measured at the input is dominated by the common-mode component tied to this switching-node voltage, such that the conducted spectrum exhibits discrete lines at $f_k = k f_s$, $k \\in \\mathbb{N}$, with an amplitude envelope governed by the finite edge rate.\n\nUsing only fundamental Fourier analysis (definition of Fourier series coefficients and linearity of differentiation/integration), model the time derivative of the switching-node voltage during each edge as a rectangular pulse of duration $t_r$ and amplitude $\\Delta V/t_r$, where $\\Delta V$ is the edge excursion. From this starting point, derive the frequency dependence of the harmonic envelope caused solely by the finite edge time, and define the “highest significant harmonic frequency” $f_{\\mathrm{high}}$ as the frequency at which this edge-rate-induced envelope is attenuated by $3\\ \\mathrm{dB}$ relative to its low-frequency plateau (i.e., its magnitude equals $1/\\sqrt{2}$ of the low-frequency value). Then, compute $f_{\\mathrm{high}}$ for the given $t_r$.\n\nReport your final numerical answer as a frequency in $\\mathrm{MHz}$, rounded to three significant figures. Also explain, based on your derivation, why and how the edge rate (i.e., $t_r$) sets the extent of significant conducted-emission harmonics in frequency.",
            "solution": "The problem is first validated to ensure it is scientifically grounded, well-posed, and objective.\n\n### Step 1: Extract Givens\n- System: hard-switched DC-to-DC buck converter.\n- Commutation: Switching-node voltage commutates periodically.\n- Switching frequency: $f_s=100\\ \\mathrm{kHz}$.\n- Period: $T_s=1/f_s$.\n- Switching-node voltage model: periodic trapezoidal waveform.\n- Amplitude: $V$.\n- Duty ratio: $D$.\n- Rise and fall times: identical $10$–$90$ rise and fall times $t_r=50\\ \\mathrm{ns}$.\n- Condition: $t_r \\ll T_s$.\n- Emission source: conducted emission is dominated by the common-mode component tied to this switching-node voltage.\n- Spectrum: discrete lines at $f_k = k f_s$, $k \\in \\mathbb{N}$, with an amplitude envelope governed by the finite edge rate.\n- Modeling instruction: model the time derivative of the switching-node voltage during each edge as a rectangular pulse of duration $t_r$ and amplitude $\\Delta V/t_r$, where $\\Delta V$ is the edge excursion.\n- Definition of $f_{\\mathrm{high}}$: frequency at which this edge-rate-induced envelope is attenuated by $3\\ \\mathrm{dB}$ relative to its low-frequency plateau (magnitude equals $1/\\sqrt{2}$ of low-frequency value).\n- Task: compute $f_{\\mathrm{high}}$ for the given $t_r$ and explain the role of $t_r$.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is assessed against the validation criteria.\n1.  **Scientific Grounding**: The problem is well-grounded in the principles of power electronics and electromagnetic compatibility (EMC). The analysis of a switching waveform's spectrum using Fourier series is a standard and fundamental technique. The relationship between edge rates ($dv/dt$) and high-frequency spectral content is a core concept in EMI analysis. The modeling of the derivative as rectangular pulses is a valid and common simplification.\n2.  **Well-Posedness**: The problem is well-posed. It provides sufficient information and a clear, unambiguous definition for the quantity to be calculated ($f_{\\mathrm{high}}$). While the voltage amplitude $V$ and duty cycle $D$ are symbolic, they are not needed to determine the frequency dependence of the envelope caused by the edge time, which is the focus of the problem. A unique solution exists.\n3.  **Objectivity**: The problem is stated in precise, objective language, free of subjective claims.\n\n### Step 3: Verdict and Action\nThe problem is deemed **valid**. A full solution will be provided.\n\n### Derivation\nLet the switching-node voltage be denoted by $v_{sw}(t)$. It is a periodic waveform with period $T_s = 1/f_s$. The problem asks us to analyze its spectrum by first considering its time derivative, $g(t) = \\frac{d v_{sw}(t)}{dt}$.\n\nAccording to the problem's modeling instruction, over one period $T_s$, the derivative $g(t)$ consists of two rectangular pulses. We can place the start of the rising edge at $t=0$.\n1.  A positive pulse for the rising edge, starting at $t=0$, with duration $t_r$ and amplitude $A = V/t_r$. We assume the edge excursion $\\Delta V$ is the full amplitude $V$.\n2.  A negative pulse for the falling edge, starting at time $t=DT_s$, with duration $t_r$ and amplitude $-A = -V/t_r$.\n\nThe function $g(t)$ is periodic with period $T_s$. Its complex Fourier series coefficients, $c_{g,k}$, for the $k$-th harmonic (at frequency $f_k = k f_s$) are given by:\n$$c_{g,k} = \\frac{1}{T_s} \\int_{0}^{T_s} g(t) e^{-j 2 \\pi k f_s t} dt$$\nwhere $j$ is the imaginary unit. The integral is non-zero only during the two pulses:\n$$c_{g,k} = \\frac{1}{T_s} \\left[ \\int_{0}^{t_r} \\frac{V}{t_r} e^{-j 2 \\pi k f_s t} dt + \\int_{DT_s}^{DT_s+t_r} \\left(-\\frac{V}{t_r}\\right) e^{-j 2 \\pi k f_s t} dt \\right]$$\nWe evaluate the first integral:\n$$\\int_{0}^{t_r} e^{-j 2 \\pi k f_s t} dt = \\left[ \\frac{e^{-j 2 \\pi k f_s t}}{-j 2 \\pi k f_s} \\right]_{0}^{t_r} = \\frac{1 - e^{-j 2 \\pi k f_s t_r}}{j 2 \\pi k f_s}$$\nUsing the identity $1 - e^{-i\\theta} = e^{-i\\theta/2}(e^{i\\theta/2} - e^{-i\\theta/2}) = e^{-i\\theta/2}(2i\\sin(\\theta/2))$, this becomes:\n$$\\frac{e^{-j \\pi k f_s t_r} (2j \\sin(\\pi k f_s t_r))}{j 2 \\pi k f_s} = t_r e^{-j \\pi k f_s t_r} \\frac{\\sin(\\pi k f_s t_r)}{\\pi k f_s t_r}$$\nThis can be expressed using the unnormalized sinc function, $\\text{sinc}(x) = \\sin(x)/x$. For our purposes, it is more convenient to use the normalized sinc function $\\text{sinc}_N(x) = \\sin(\\pi x)/(\\pi x)$. Let $f=kf_s$. The integral gives $t_r e^{-j\\pi f t_r} \\text{sinc}_N(f t_r)$.\n\nThe second integral is evaluated similarly:\n$$\\int_{DT_s}^{DT_s+t_r} e^{-j 2 \\pi k f_s t} dt = e^{-j 2 \\pi k f_s D T_s} \\int_{0}^{t_r} e^{-j 2 \\pi k f_s u} du = e^{-j 2 \\pi k D} \\left( t_r e^{-j \\pi k f_s t_r} \\frac{\\sin(\\pi k f_s t_r)}{\\pi k f_s t_r} \\right)$$\nsince $f_s T_s = 1$.\n\nCombining these results into the expression for $c_{g,k}$:\n$$c_{g,k} = \\frac{1}{T_s} \\frac{V}{t_r} \\left[ \\left( t_r e^{-j \\pi f_k t_r} \\frac{\\sin(\\pi f_k t_r)}{\\pi f_k t_r} \\right) - e^{-j 2 \\pi k D} \\left( t_r e^{-j \\pi f_k t_r} \\frac{\\sin(\\pi f_k t_r)}{\\pi f_k t_r} \\right) \\right]$$\n$$c_{g,k} = \\frac{V}{T_s} \\left( \\frac{\\sin(\\pi f_k t_r)}{\\pi f_k t_r} \\right) e^{-j \\pi f_k t_r} (1 - e^{-j 2 \\pi k D})$$\n\nThe Fourier series coefficients of the original voltage waveform, $c_{v,k}$, are related to those of its derivative by the differentiation property of Fourier series: $c_{g,k} = (j 2 \\pi f_k) c_{v,k}$ for $k \\ne 0$.\n$$c_{v,k} = \\frac{c_{g,k}}{j 2 \\pi f_k} = \\frac{1}{j 2 \\pi k f_s} \\frac{V}{T_s} \\left( \\frac{\\sin(\\pi k f_s t_r)}{\\pi k f_s t_r} \\right) e^{-j \\pi k f_s t_r} (1 - e^{-j 2 \\pi k D})$$\nSubstituting $f_s = 1/T_s$:\n$$c_{v,k} = \\frac{V}{j 2 \\pi k} \\left( \\frac{\\sin(\\pi k f_s t_r)}{\\pi k f_s t_r} \\right) e^{-j \\pi k f_s t_r} (1 - e^{-j 2 \\pi k D})$$\nThe magnitude of the coefficients, $|c_{v,k}|$, determines the harmonic envelope:\n$$|c_{v,k}| = \\frac{V}{2 \\pi k} \\left| \\frac{\\sin(\\pi k f_s t_r)}{\\pi k f_s t_r} \\right| \\cdot |1 - e^{-j 2 \\pi k D}|$$\nThe term $|1 - e^{-j 2 \\pi k D}| = 2|\\sin(\\pi k D)|$. The expression becomes:\n$$|c_{v,k}| = \\frac{V |\\sin(\\pi k D)|}{\\pi k} \\left| \\frac{\\sin(\\pi k f_s t_r)}{\\pi k f_s t_r} \\right|$$\nThis expression shows that the harmonic envelope is a product of two terms. The first term, $\\frac{V |\\sin(\\pi k D)|}{\\pi k}$, describes the spectrum of an ideal trapezoidal waveform with zero rise/fall time (a square wave), which has an envelope that rolls off at $-20 \\text{ dB/decade}$. The second term, $E(f_k) = \\left| \\frac{\\sin(\\pi f_k t_r)}{\\pi f_k t_r} \\right|$, where $f_k=kf_s$, is the envelope caused solely by the finite edge time $t_r$. This is a normalized sinc function, $|\\text{sinc}_N(f_k t_r)|$.\n\nAt low frequencies ($f_k \\rightarrow 0$), $\\lim_{x\\to 0} \\text{sinc}_N(x) = 1$. This is the low-frequency plateau. We need to find the frequency $f_{\\mathrm{high}}$ at which this envelope is attenuated by $3 \\text{ dB}$, meaning its magnitude is $1/\\sqrt{2}$ times its low-frequency value.\n$$E(f_{\\mathrm{high}}) = \\left| \\frac{\\sin(\\pi f_{\\mathrm{high}} t_r)}{\\pi f_{\\mathrm{high}} t_r} \\right| = \\frac{1}{\\sqrt{2}}$$\nLet $x = \\pi f_{\\mathrm{high}} t_r$. Since we are looking for the first frequency where attenuation reaches this level, we are in the main lobe of the sinc function where the value is positive. The equation becomes:\n$$\\frac{\\sin(x)}{x} = \\frac{1}{\\sqrt{2}}$$\nThis is a transcendental equation for $x$. Solving it numerically yields:\n$$x \\approx 1.39155$$\nNow we solve for $f_{\\mathrm{high}}$:\n$$\\pi f_{\\mathrm{high}} t_r = x \\approx 1.39155$$\n$$f_{\\mathrm{high}} = \\frac{x}{\\pi t_r} \\approx \\frac{1.39155}{\\pi t_r}$$\nGiven the rise time $t_r = 50\\,\\mathrm{ns} = 50 \\times 10^{-9}\\,\\mathrm{s}$:\n$$f_{\\mathrm{high}} \\approx \\frac{1.39155}{\\pi (50 \\times 10^{-9}\\,\\mathrm{s})} = \\frac{1.39155}{1.5708 \\times 10^{-7}\\,\\mathrm{s}} \\approx 8.859 \\times 10^6\\,\\mathrm{Hz}$$\n$$f_{\\mathrm{high}} \\approx 8.859\\,\\mathrm{MHz}$$\nRounding to three significant figures, we get $f_{\\mathrm{high}} = 8.86 \\text{ MHz}$.\n\n### Explanation of the Role of Edge Rate\nThe derivation shows that the harmonic envelope of the switching waveform is shaped by the term $|\\text{sinc}_N(f t_r)|$. This term acts as a low-pass filter, with a frequency response determined by the edge time $t_r$.\n-   **Why**: A signal's rate of change in the time domain is directly related to its high-frequency content in the frequency domain. Sharp, abrupt changes (fast edges, small $t_r$) require a broad band of high-frequency sinusoids to be represented accurately. Slower, more gradual changes (slow edges, large $t_r$) can be constructed with a narrower band of frequencies.\n-   **How**: The mathematical form of the envelope, $|\\text{sinc}_N(f t_r)|$, makes this relationship explicit. The frequency $f$ and edge time $t_r$ appear as a product, $f t_r$, in the argument of the function. For the function to roll off to a certain level (e.g., the $-3 \\text{ dB}$ point), the argument $f t_r$ must reach a specific value. This implies an inverse relationship between frequency and edge time: $f \\propto 1/t_r$. A smaller $t_r$ (faster edge) requires a larger frequency $f$ to reach the same point on the sinc curve. This \"pushes\" the entire spectral envelope out to higher frequencies, increasing the bandwidth of significant harmonics. Conversely, a larger $t_r$ (slower edge) \"pulls\" the envelope in, causing high-frequency harmonics to be attenuated more strongly and at lower frequencies. Therefore, the edge rate $t_r$ is a critical parameter that sets the frequency extent of the conducted emissions. A common rule of thumb in EMI engineering, $f_{\\text{knee}} = 1/(\\pi t_r)$, which represents a $-1.5 \\text{ dB}$ point for this model, also illustrates this inverse dependence. Our more precise calculation of the $-3 \\text{ dB}$ point confirms this fundamental principle.",
            "answer": "$$\\boxed{8.86}$$"
        },
        {
            "introduction": "Effective EMI mitigation requires a complete understanding from the noise source to the filter. This hands-on design problem guides you through a full analysis for a power factor correction (PFC) circuit, a ubiquitous front-end for modern electronics. You will first calculate the differential-mode noise source—the inductor's current ripple—from the converter's operating parameters, and then use this information to design a shunt capacitor filter that guarantees compliance with a given limit at the switching frequency .",
            "id": "3838121",
            "problem": "A single-phase boost Power Factor Correction (PFC) front end rated at $1\\ \\mathrm{kW}$ is connected to a $230\\ \\mathrm{V}$ root-mean-square (rms) mains through a Line Impedance Stabilization Network (LISN). The switching frequency is $f_{s} = 100\\ \\mathrm{kHz}$, the regulated direct-current bus is $V_{o} = 400\\ \\mathrm{V}$, and the boost inductor is $L = 600\\ \\mathrm{\\mu H}$. Assume ideal components and continuous conduction mode (CCM). The rectified input voltage is $v_{\\mathrm{in}}(t) = \\sqrt{2}\\,V_{\\mathrm{rms}}\\,|\\sin(\\omega_{\\ell} t)|$ with line angular frequency $\\omega_{\\ell} = 2\\pi\\cdot 50\\ \\mathrm{rad/s}$.\n\nUsing volt-second balance for the boost inductor at the mains voltage peak, first determine the peak-to-peak high-frequency input inductor current ripple at the switching frequency. Then model the converter’s high-frequency input ripple as a zero-mean triangular current source at $f_{s}$ injected at the converter input port, and derive its root-mean-square (rms) magnitude explicitly from the triangular waveform.\n\nTo address conducted Electromagnetic Interference (EMI) in differential mode (DM), design a simple DM shunt capacitor $C_{\\mathrm{DM}}$ placed across the input terminals on the mains side of the rectifier, intended to divert most of the high-frequency ripple away from the LISN. Model the LISN as a $50\\ \\Omega$ resistive port at $f_{s}$, neglect the mains source impedance at $f_{s}$, and assume the shunt capacitor is ideal. Using frequency-domain steady-state current division between the capacitor branch and the LISN branch, determine the minimum $C_{\\mathrm{DM}}$ such that the rms current entering the LISN at $f_{s}$ does not exceed $I_{\\mathrm{lim}} = 0.1\\ \\mathrm{A}$.\n\nExpress your final answer for $C_{\\mathrm{DM}}$ in microfarads, and round your answer to three significant figures. Provide no intermediate results in the final answer.",
            "solution": "The problem is validated as scientifically grounded, well-posed, and objective. It presents a standard design problem in the field of power electronics, specifically concerning electromagnetic interference (EMI) filtering for a Power Factor Correction (PFC) boost converter. All provided data and assumptions are consistent and physically realistic for such an application.\n\nThe problem asks for the minimum value of a differential-mode (DM) shunt capacitor $C_{\\mathrm{DM}}$ to limit the high-frequency current injected into a Line Impedance Stabilization Network (LISN). The solution is a three-part process: first, calculating the inductor current ripple; second, determining the RMS value of the equivalent current source; and third, designing the capacitor using a current divider analysis.\n\n**Step 1: Determine the peak-to-peak high-frequency inductor current ripple.**\n\nThe converter is a boost PFC, where the input voltage is the rectified AC mains. The instantaneous rectified input voltage is given by $v_{\\mathrm{in}}(t) = V_{\\mathrm{in,pk}} |\\sin(\\omega_{\\ell} t)|$, where the peak voltage is $V_{\\mathrm{in,pk}} = \\sqrt{2}V_{\\mathrm{rms}}$. With $V_{\\mathrm{rms}} = 230\\ \\mathrm{V}$, the peak input voltage is:\n$$ V_{\\mathrm{in,pk}} = \\sqrt{2} \\times 230 \\approx 325.27\\ \\mathrm{V} $$\nThe problem requires the analysis at the mains voltage peak, where $v_{\\mathrm{in}} = V_{\\mathrm{in,pk}}$.\n\nFor a boost converter operating in continuous conduction mode (CCM), the relationship between the input voltage $v_{\\mathrm{in}}$, the output voltage $V_{o}$, and the duty cycle $D$ is:\n$$ V_{o} = \\frac{v_{\\mathrm{in}}}{1-D} \\implies D = 1 - \\frac{v_{\\mathrm{in}}}{V_{o}} $$\nAt the peak of the input voltage, the duty cycle $D_{\\mathrm{pk}}$ is at its minimum:\n$$ D_{\\mathrm{pk}} = 1 - \\frac{V_{\\mathrm{in,pk}}}{V_{o}} = 1 - \\frac{\\sqrt{2} \\cdot 230}{400} \\approx 1 - 0.8132 = 0.1868 $$\nThe inductor current ripple $\\Delta i_L$ over a switching period $T_s = 1/f_s$ is determined by the voltage across the inductor $L$ during the switch-on time, $D T_s$.\n$$ v_L = L \\frac{di_L}{dt} = v_{\\mathrm{in}} \\quad (\\text{for } 0 < t \\le DT_s) $$\nFrom this, the peak-to-peak ripple current is:\n$$ \\Delta i_L = \\frac{v_{\\mathrm{in}} D T_s}{L} = \\frac{v_{\\mathrm{in}} D}{L f_s} $$\nWe evaluate this at the peak of the mains voltage, using the given values $L = 600\\ \\mathrm{\\mu H} = 6 \\times 10^{-4}\\ \\mathrm{H}$ and $f_s = 100\\ \\mathrm{kHz} = 10^5\\ \\mathrm{Hz}$:\n$$ \\Delta i_{L,\\mathrm{pk}} = \\frac{V_{\\mathrm{in,pk}} D_{\\mathrm{pk}}}{L f_s} = \\frac{V_{\\mathrm{in,pk}} \\left(1 - \\frac{V_{\\mathrm{in,pk}}}{V_o}\\right)}{L f_s} $$\n$$ \\Delta i_{L,\\mathrm{pk}} = \\frac{(\\sqrt{2} \\cdot 230) \\left(1 - \\frac{\\sqrt{2} \\cdot 230}{400}\\right)}{(6 \\times 10^{-4}) \\cdot (10^5)} = \\frac{325.27 \\cdot (1 - 0.8132)}{60} \\approx \\frac{60.78}{60} \\approx 1.013\\ \\mathrm{A} $$\n\n**Step 2: Determine the RMS magnitude of the equivalent current source.**\n\nThe problem models the high-frequency ripple as a zero-mean triangular current source. The peak-to-peak amplitude of this waveform is $\\Delta i_{L,\\mathrm{pk}} \\approx 1.013\\ \\mathrm{A}$. The peak amplitude of this zero-mean triangular wave is half of the peak-to-peak value:\n$$ I_{\\mathrm{ripple,pk}} = \\frac{\\Delta i_{L,\\mathrm{pk}}}{2} \\approx 0.5065\\ \\mathrm{A} $$\nThe root-mean-square (RMS) value of a zero-mean triangular waveform with peak amplitude $A$ is given by $A/\\sqrt{3}$. Therefore, the RMS magnitude of the injected current source, $I_{\\mathrm{in,HF,rms}}$, is:\n$$ I_{\\mathrm{in,HF,rms}} = \\frac{I_{\\mathrm{ripple,pk}}}{\\sqrt{3}} = \\frac{\\Delta i_{L,\\mathrm{pk}}}{2\\sqrt{3}} $$\n$$ I_{\\mathrm{in,HF,rms}} = \\frac{1.013}{2\\sqrt{3}} \\approx 0.2924\\ \\mathrm{A} $$\n\n**Step 3: Determine the minimum DM shunt capacitance.**\n\nThe high-frequency current source $I_{\\mathrm{in,HF,rms}}$ is injected into a parallel circuit formed by the DM capacitor $C_{\\mathrm{DM}}$ and the LISN, which is modeled as a $R_{\\mathrm{LISN}} = 50\\ \\Omega$ resistor. The analysis is performed at the switching frequency $f_s = 100\\ \\mathrm{kHz}$, where the angular frequency is $\\omega_s = 2\\pi f_s = 2\\pi \\times 10^5\\ \\mathrm{rad/s}$.\n\nThe impedance of the capacitor is $Z_C = \\frac{1}{j\\omega_s C_{\\mathrm{DM}}}$, and the impedance of the LISN is $Z_{\\mathrm{LISN}} = R_{\\mathrm{LISN}}$.\nUsing the current divider rule, the RMS current flowing into the LISN, $I_{\\mathrm{LISN,rms}}$, is:\n$$ I_{\\mathrm{LISN,rms}} = I_{\\mathrm{in,HF,rms}} \\left| \\frac{Z_C}{Z_C + Z_{\\mathrm{LISN}}} \\right| $$\n$$ I_{\\mathrm{LISN,rms}} = I_{\\mathrm{in,HF,rms}} \\left| \\frac{\\frac{1}{j\\omega_s C_{\\mathrm{DM}}}}{R_{\\mathrm{LISN}} + \\frac{1}{j\\omega_s C_{\\mathrm{DM}}}} \\right| = I_{\\mathrm{in,HF,rms}} \\frac{\\frac{1}{\\omega_s C_{\\mathrm{DM}}}}{\\sqrt{R_{\\mathrm{LISN}}^2 + \\left(\\frac{1}{\\omega_s C_{\\mathrm{DM}}}\\right)^2}} $$\nThe problem specifies that this current must not exceed $I_{\\mathrm{lim}} = 0.1\\ \\mathrm{A}$. We set up the inequality:\n$$ I_{\\mathrm{lim}} \\ge I_{\\mathrm{in,HF,rms}} \\frac{\\frac{1}{\\omega_s C_{\\mathrm{DM}}}}{\\sqrt{R_{\\mathrm{LISN}}^2 + \\left(\\frac{1}{\\omega_s C_{\\mathrm{DM}}}\\right)^2}} $$\nTo find the minimum required capacitance, we solve for $C_{\\mathrm{DM}}$. Let $X_C = \\frac{1}{\\omega_s C_{\\mathrm{DM}}}$.\n$$ \\frac{I_{\\mathrm{lim}}}{I_{\\mathrm{in,HF,rms}}} \\ge \\frac{X_C}{\\sqrt{R_{\\mathrm{LISN}}^2 + X_C^2}} $$\nSquaring both sides (all terms are positive):\n$$ \\left(\\frac{I_{\\mathrm{lim}}}{I_{\\mathrm{in,HF,rms}}}\\right)^2 \\ge \\frac{X_C^2}{R_{\\mathrm{LISN}}^2 + X_C^2} $$\n$$ \\left(\\frac{I_{\\mathrm{lim}}}{I_{\\mathrm{in,HF,rms}}}\\right)^2 (R_{\\mathrm{LISN}}^2 + X_C^2) \\ge X_C^2 $$\n$$ I_{\\mathrm{lim}}^2 R_{\\mathrm{LISN}}^2 + I_{\\mathrm{lim}}^2 X_C^2 \\ge I_{\\mathrm{in,HF,rms}}^2 X_C^2 $$\n$$ I_{\\mathrm{lim}}^2 R_{\\mathrm{LISN}}^2 \\ge X_C^2 (I_{\\mathrm{in,HF,rms}}^2 - I_{\\mathrm{lim}}^2) $$\n$$ X_C^2 \\le \\frac{I_{\\mathrm{lim}}^2 R_{\\mathrm{LISN}}^2}{I_{\\mathrm{in,HF,rms}}^2 - I_{\\mathrm{lim}}^2} \\implies X_C \\le \\frac{I_{\\mathrm{lim}} R_{\\mathrm{LISN}}}{\\sqrt{I_{\\mathrm{in,HF,rms}}^2 - I_{\\mathrm{lim}}^2}} $$\nSubstituting $X_C = \\frac{1}{\\omega_s C_{\\mathrm{DM}}}$ back into the inequality:\n$$ \\frac{1}{\\omega_s C_{\\mathrm{DM}}} \\le \\frac{I_{\\mathrm{lim}} R_{\\mathrm{LISN}}}{\\sqrt{I_{\\mathrm{in,HF,rms}}^2 - I_{\\mathrm{lim}}^2}} $$\nThis gives the condition for the minimum capacitance:\n$$ C_{\\mathrm{DM}} \\ge \\frac{\\sqrt{I_{\\mathrm{in,HF,rms}}^2 - I_{\\mathrm{lim}}^2}}{\\omega_s R_{\\mathrm{LISN}} I_{\\mathrm{lim}}} $$\nNow, we substitute the numerical values, using the more precise intermediate results: $\\Delta i_{L,\\mathrm{pk}} \\approx 1.01302\\ \\mathrm{A}$ and $I_{\\mathrm{in,HF,rms}} \\approx 0.29243\\ \\mathrm{A}$.\n$$ I_{\\mathrm{in,HF,rms}}^2 \\approx (0.29243)^2 \\approx 0.08551\\ \\mathrm{A}^2 $$\n$$ I_{\\mathrm{lim}}^2 = (0.1)^2 = 0.01\\ \\mathrm{A}^2 $$\n$$ C_{\\mathrm{DM}} \\ge \\frac{\\sqrt{0.08551 - 0.01}}{(2\\pi \\cdot 10^5) \\cdot 50 \\cdot 0.1} = \\frac{\\sqrt{0.07551}}{2\\pi \\cdot 5 \\cdot 10^4} = \\frac{0.2748}{\\pi \\cdot 10^6} \\ \\mathrm{F} $$\n$$ C_{\\mathrm{DM}} \\ge 8.748 \\times 10^{-8}\\ \\mathrm{F} = 0.08748\\ \\mathrm{\\mu F} $$\nRounding the minimum value to three significant figures gives $0.0875\\ \\mathrm{\\mu F}$.",
            "answer": "$$\\boxed{0.0875}$$"
        }
    ]
}