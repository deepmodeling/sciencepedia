{
    "hands_on_practices": [
        {
            "introduction": "A primary goal of Double Pulse Testing is to quantify the energy losses that occur during switching events. This exercise provides foundational practice by focusing on the reverse recovery of a diode, a key loss component in hard-switched converters. By applying the fundamental definitions of charge ($Q = \\int i(t) \\, dt$) and energy ($E = \\int v(t)i(t) \\, dt$) to a simplified waveform model, you will translate raw measurement data into critical performance parameters like reverse recovery charge ($Q_{rr}$) and energy ($E_{rr}$) .",
            "id": "3835795",
            "problem": "A double pulse test is performed on a half-bridge using a Silicon Carbide Metal–Oxide–Semiconductor Field-Effect Transistor (SiC MOSFET) to characterize the reverse recovery of the complementary diode during hard commutation. In the second pulse (turn-on of the MOSFET), the measured reverse recovery current waveform magnitude, denoted by $i_{rr}(t)$, peaks at $30\\,\\mathrm{A}$ and then decays linearly to zero over a measured interval of $100\\,\\mathrm{ns}$. Assume that during this reverse recovery interval the device voltage is clamped approximately constant by the Direct Current (DC) bus at $V_{dc}=400\\,\\mathrm{V}$, and that parasitic inductances are negligible so that $v(t)\\approx V_{dc}$ throughout the interval.\n\nStarting only from the fundamental definitions that (i) electric charge is the time integral of current and (ii) energy is the time integral of instantaneous power, estimate the reverse recovery charge $Q_{rr}$ and the additional switching energy $E_{rr}$ associated with this reverse recovery event under the triangular recovery assumption described above. Express $Q_{rr}$ in microcoulombs and $E_{rr}$ in microjoules. Round each to three significant figures.\n\nProvide your final numeric results as a row matrix in the order $[Q_{rr}\\,(\\mu\\mathrm{C}),\\,E_{rr}\\,(\\mu\\mathrm{J})]$.",
            "solution": "The problem requires the estimation of the reverse recovery charge, denoted $Q_{rr}$, and the reverse recovery energy, denoted $E_{rr}$, for a semiconductor diode. The solution will be derived from the fundamental definitions of electric charge and energy, using the provided waveform characteristics.\n\nThe fundamental principles are:\n1.  Electric charge, $Q$, is the time integral of electric current, $i(t)$.\n    $$Q = \\int i(t) \\,dt$$\n2.  Electric energy, $E$, is the time integral of instantaneous power, $p(t)$, where power is the product of voltage, $v(t)$, and current, $i(t)$.\n    $$E = \\int p(t) \\,dt = \\int v(t)i(t) \\,dt$$\n\nThe problem provides the following parameters for the reverse recovery event:\n-   The peak reverse recovery current is $I_{RRM} = 30\\,\\mathrm{A}$.\n-   The current waveform magnitude, $i_{rr}(t)$, decays linearly from its peak value to zero over an interval of $t_{rr} = 100\\,\\mathrm{ns}$.\n-   The voltage across the device is constant at $V_{dc} = 400\\,\\mathrm{V}$ during this interval.\n\nWe define the time interval for the recovery event as $t \\in [0, t_{rr}]$, where $t_{rr} = 100 \\times 10^{-9}\\,\\mathrm{s}$. According to the problem description, the current is at its peak at $t=0$ and is zero at $t=t_{rr}$. This describes a linear function $i_{rr}(t)$ passing through the points $(0, I_{RRM})$ and $(t_{rr}, 0)$. The equation for the current is:\n$$i_{rr}(t) = I_{RRM} \\left(1 - \\frac{t}{t_{rr}}\\right) \\quad \\text{for } t \\in [0, t_{rr}]$$\nThis model represents the \"triangular recovery assumption described\" in the problem, defining a right-triangular area under the current-time curve.\n\nFirst, we calculate the reverse recovery charge $Q_{rr}$ by integrating the current $i_{rr}(t)$ over the specified interval.\n$$Q_{rr} = \\int_{0}^{t_{rr}} i_{rr}(t) \\,dt$$\nSubstituting the expression for $i_{rr}(t)$:\n$$Q_{rr} = \\int_{0}^{t_{rr}} I_{RRM} \\left(1 - \\frac{t}{t_{rr}}\\right) \\,dt$$\n$$Q_{rr} = I_{RRM} \\left[ t - \\frac{t^2}{2t_{rr}} \\right]_{0}^{t_{rr}}$$\n$$Q_{rr} = I_{RRM} \\left( (t_{rr} - \\frac{t_{rr}^2}{2t_{rr}}) - (0 - 0) \\right) = I_{RRM} \\left( t_{rr} - \\frac{t_{rr}}{2} \\right)$$\n$$Q_{rr} = \\frac{1}{2} I_{RRM} t_{rr}$$\nThis result confirms that the charge is the area of the right-angled triangle formed by the current waveform.\n\nWe substitute the given numerical values, $I_{RRM} = 30\\,\\mathrm{A}$ and $t_{rr} = 100\\,\\mathrm{ns} = 1 \\times 10^{-7}\\,\\mathrm{s}$:\n$$Q_{rr} = \\frac{1}{2} (30\\,\\mathrm{A}) (100 \\times 10^{-9}\\,\\mathrm{s}) = 1500 \\times 10^{-9}\\,\\mathrm{C} = 1.5 \\times 10^{-6}\\,\\mathrm{C}$$\nThe problem requires the answer in microcoulombs ($\\mu\\mathrm{C}$). Since $1\\,\\mu\\mathrm{C} = 10^{-6}\\,\\mathrm{C}$:\n$$Q_{rr} = 1.5\\,\\mu\\mathrm{C}$$\nRounding to three significant figures yields $Q_{rr} = 1.50\\,\\mu\\mathrm{C}$.\n\nNext, we calculate the reverse recovery energy $E_{rr}$.\n$$E_{rr} = \\int_{0}^{t_{rr}} v(t) i_{rr}(t) \\,dt$$\nUsing the assumption that the voltage is constant, $v(t) = V_{dc} = 400\\,\\mathrm{V}$:\n$$E_{rr} = V_{dc} \\int_{0}^{t_{rr}} i_{rr}(t) \\,dt$$\nThe integral portion is the charge $Q_{rr}$ we have already calculated.\n$$E_{rr} = V_{dc} Q_{rr}$$\nSubstituting the numerical values for $V_{dc}$ and $Q_{rr}$:\n$$E_{rr} = (400\\,\\mathrm{V})(1.5 \\times 10^{-6}\\,\\mathrm{C}) = 600 \\times 10^{-6}\\,\\mathrm{J}$$\nThe problem requires the answer in microjoules ($\\mu\\mathrm{J}$). Since $1\\,\\mu\\mathrm{J} = 10^{-6}\\,\\mathrm{J}$:\n$$E_{rr} = 600\\,\\mu\\mathrm{J}$$\nRounding to three significant figures, we write this as $6.00 \\times 10^2\\,\\mu\\mathrm{J}$ to make the precision explicit.\n\nThe final estimated values are $Q_{rr} = 1.50\\,\\mu\\mathrm{C}$ and $E_{rr} = 600\\,\\mu\\mathrm{J}$ (or $6.00 \\times 10^2\\,\\mu\\mathrm{J}$).",
            "answer": "$$\\boxed{\\begin{pmatrix} 1.50 & 6.00 \\times 10^2 \\end{pmatrix}}$$"
        },
        {
            "introduction": "Accurate energy loss measurement is entirely dependent on the fidelity of the acquired voltage and current waveforms. This exercise highlights the critical importance of measurement integrity by quantifying the error introduced by propagation delay mismatch, or \"skew,\" between voltage and current probes . By analyzing how a small, nanosecond-scale time misalignment dramatically impacts the calculated switching energy, you will appreciate why probe de-skew is an essential procedure for characterizing modern fast-switching devices.",
            "id": "3835859",
            "problem": "A double pulse test is used to characterize the switching energy of a Silicon Carbide Metal–Oxide–Semiconductor Field-Effect Transistor (SiC MOSFET) under realistic conditions. In the double pulse test, the device under test switches current from a Direct Current (DC) link into an inductive load, and the switching energy is computed as the time integral of the instantaneous power. By definition, the switching energy is given by $E_{sw} = \\int v(t)\\,i(t)\\,dt$, where $v(t)$ is the measured device voltage (for example, drain–source voltage for a MOSFET) and $i(t)$ is the measured device current (for example, drain current).\n\nConsider a turn-off event with the following scientifically realistic, idealized waveform model:\n- The DC link voltage is $V_{bus} = 400\\,\\text{V}$, and the initial device current just before turn-off is $I_0 = 50\\,\\text{A}$.\n- The device current decreases linearly from $I_0$ to $0$ over a duration $T_i = 20\\,\\text{ns}$, starting at $t = 0$, i.e., $i(t) = I_0\\left(1 - \\frac{t}{T_i}\\right)$ for $0 \\leq t \\leq T_i$ and $i(t) = 0$ otherwise.\n- The device voltage increases linearly from $0$ to $V_{bus}$ over a duration $T_v = 20\\,\\text{ns}$, also starting at $t = 0$, i.e., $v(t) = V_{bus}\\left(\\frac{t}{T_v}\\right)$ for $0 \\leq t \\leq T_v$ and $v(t) = V_{bus}$ thereafter.\n- The oscilloscope acquires $v(t)$ using a high-bandwidth differential voltage probe with a propagation delay $\\tau_v = 5\\,\\text{ns}$ and acquires $i(t)$ using a high-bandwidth current sensor (for example, a Rogowski coil or a wideband shunt amplifier) with a propagation delay $\\tau_i = 0\\,\\text{ns}$. Hence, the relative time skew between channels is $\\tau = \\tau_v - \\tau_i = 5\\,\\text{ns}$.\n- The data processing computes $E_{sw}$ by numerically integrating the product of the measured channels, that is, $E_{meas} = \\int v_{meas}(t)\\,i_{meas}(t)\\,dt$ over the switching interval, where $v_{meas}(t) = v(t - \\tau_v)$ and $i_{meas}(t) = i(t - \\tau_i)$.\n\nFrom the fundamental definition $E_{sw} = \\int v(t)\\,i(t)\\,dt$ and the stated linear edge model, choose the option that most accurately explains the role of probe de-skew and gives the correct order-of-magnitude impact of the $5\\,\\text{ns}$ skew on the computed turn-off energy. Assume the integration window includes the entire overlap of the transitioning voltage and current.\n\nA. Probe de-skew is the process of compensating relative channel propagation delays so that the measured $v(t)$ and $i(t)$ waveforms are time-aligned before forming the product $v(t)\\,i(t)$. With a $5\\,\\text{ns}$ skew relative to $20\\,\\text{ns}$ edges, the measured energy under the linear ramp model is reduced to approximately $42\\%$ of the true value (about a $58\\%$ underestimation), making de-skew critical when edges are on the nanosecond scale.\n\nB. Probe de-skew primarily removes DC offsets between channels. Time alignment is not required because integrating $v(t)\\,i(t)$ over the full switching event averages out any skew; therefore, the error with a $5\\,\\text{ns}$ skew on $20\\,\\text{ns}$ edges is negligible (less than $1\\%$).\n\nC. Probe de-skew is a noise-reduction technique that improves signal-to-noise ratio by averaging multiple acquisitions. It does not affect $E_{sw}$ because energy depends only on average voltage and current magnitudes, so even with a $5\\,\\text{ns}$ skew the measured energy equals the true energy to within a few percent.\n\nD. Probe de-skew is optional because with linear edges the overlap error scales linearly with the fraction of skew; for $\\tau = 5\\,\\text{ns}$ and $T = 20\\,\\text{ns}$ the measured energy is about $75\\%$ of the true value (approximately a $25\\%$ underestimation), which is acceptable in most cases.",
            "solution": "The problem statement is scrutinized for validity before proceeding to a solution.\n\n### Step 1: Extract Givens\nThe problem provides the following data, definitions, and model parameters:\n- **Test Objective**: Characterize switching energy of a SiC MOSFET using a double pulse test.\n- **Energy Definition**: $E_{sw} = \\int v(t)\\,i(t)\\,dt$, where $v(t)$ is device voltage and $i(t)$ is device current.\n- **Event Type**: Turn-off.\n- **DC Link Voltage**: $V_{bus} = 400\\,\\text{V}$.\n- **Initial Current**: $I_0 = 50\\,\\text{A}$.\n- **Current Waveform Model**: $i(t) = I_0\\left(1 - \\frac{t}{T_i}\\right)$ for $0 \\leq t \\leq T_i$, and $i(t) = 0$ otherwise.\n- **Current Fall Time**: $T_i = 20\\,\\text{ns}$.\n- **Voltage Waveform Model**: $v(t) = V_{bus}\\left(\\frac{t}{T_v}\\right)$ for $0 \\leq t \\leq T_v$, and $v(t) = V_{bus}$ for $t > T_v$.\n- **Voltage Rise Time**: $T_v = 20\\,\\text{ns}$.\n- **Voltage Probe Delay**: $\\tau_v = 5\\,\\text{ns}$.\n- **Current Probe Delay**: $\\tau_i = 0\\,\\text{ns}$.\n- **Relative Time Skew**: $\\tau = \\tau_v - \\tau_i = 5\\,\\text{ns}$.\n- **Measured Waveforms**: $v_{meas}(t) = v(t - \\tau_v)$ and $i_{meas}(t) = i(t - \\tau_i)$.\n- **Measured Energy**: $E_{meas} = \\int v_{meas}(t)\\,i_{meas}(t)\\,dt$.\n- **Integration Window**: The entire overlap period of the transitioning signals.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is scientifically grounded, describing a standard and critical procedure in power electronics (double pulse testing) and a common measurement challenge (probe skew). The idealized linear ramp models for voltage and current are a standard first-order approximation used in analyzing switching losses. The provided values for voltage, current, and switching times are realistic for modern wide-bandgap semiconductor devices like SiC MOSFETs. The problem is well-posed, as all necessary parameters and functional forms are provided to calculate both the true and measured energies, allowing for a quantitative comparison. The language is objective and unambiguous. The problem setup is self-contained and free from internal contradictions or scientific flaws.\n\n### Step 3: Verdict and Action\nThe problem is valid. The solution proceeds by first calculating the true switching energy, then the measured energy considering the probe skew, and finally evaluating each option based on these results.\n\n### Derivation of True and Measured Switching Energy\n\nThe problem specifies identical durations for the current fall and voltage rise, so we define $T_{sw} = T_i = T_v = 20\\,\\text{ns}$.\n\n**1. Calculation of True Switching Energy ($E_{true}$)**\n\nThe true switching energy is the integral of the product of the actual device voltage $v(t)$ and current $i(t)$. The product is non-zero only during the overlap interval, which is $0 \\leq t \\leq T_{sw}$.\n$$E_{true} = \\int_{0}^{T_{sw}} v(t) i(t) \\,dt$$\nSubstituting the given linear models:\n$$E_{true} = \\int_{0}^{T_{sw}} \\left(V_{bus}\\frac{t}{T_{sw}}\\right) \\left(I_0\\left(1 - \\frac{t}{T_{sw}}\\right)\\right) \\,dt$$\n$$E_{true} = \\frac{V_{bus}I_0}{T_{sw}} \\int_{0}^{T_{sw}} \\left(t - \\frac{t^2}{T_{sw}}\\right) \\,dt$$\nPerforming the integration:\n$$E_{true} = \\frac{V_{bus}I_0}{T_{sw}} \\left[\\frac{t^2}{2} - \\frac{t^3}{3T_{sw}}\\right]_{0}^{T_{sw}}$$\n$$E_{true} = \\frac{V_{bus}I_0}{T_{sw}} \\left(\\frac{T_{sw}^2}{2} - \\frac{T_{sw}^3}{3T_{sw}}\\right) = \\frac{V_{bus}I_0}{T_{sw}} \\left(\\frac{T_{sw}^2}{2} - \\frac{T_{sw}^2}{3}\\right)$$\n$$E_{true} = \\frac{V_{bus}I_0}{T_{sw}} \\left(\\frac{T_{sw}^2}{6}\\right) = \\frac{1}{6} V_{bus}I_0 T_{sw}$$\nThis is the well-known formula for switching energy with linear voltage and current transitions.\n\n**2. Calculation of Measured Switching Energy ($E_{meas}$)**\n\nThe measured energy is calculated using the measured waveforms, which include the propagation delays.\n$v_{meas}(t) = v(t - \\tau_v) = v(t - 5\\,\\text{ns})$\n$i_{meas}(t) = i(t - \\tau_i) = i(t - 0\\,\\text{ns}) = i(t)$\nThe relative skew is $\\tau = \\tau_v - \\tau_i = 5\\,\\text{ns}$. So, $E_{meas}$ is the integral of $v(t - \\tau)i(t)$.\n\nThe waveforms for the integral are:\n- $i_{meas}(t) = i(t) = I_0(1-t/T_{sw})$ for $0 \\leq t \\leq T_{sw}$.\n- $v_{meas}(t) = v(t-\\tau) = V_{bus}\\frac{t-\\tau}{T_{sw}}$ for $0 \\leq t-\\tau \\leq T_{sw}$, which implies $\\tau \\leq t \\leq T_{sw}+\\tau$.\n\nThe integrand $v_{meas}(t)i_{meas}(t)$ is non-zero only when both functions are non-zero. The overlap interval for the measured signals is therefore from $t=\\tau$ to $t=T_{sw}$.\n$$E_{meas} = \\int_{\\tau}^{T_{sw}} v_{meas}(t) i_{meas}(t) \\,dt$$\n$$E_{meas} = \\int_{\\tau}^{T_{sw}} \\left(V_{bus}\\frac{t-\\tau}{T_{sw}}\\right) \\left(I_0\\left(1 - \\frac{t}{T_{sw}}\\right)\\right) \\,dt$$\nTo simplify the integral, we introduce normalized variables. Let the normalized time be $u = t/T_{sw}$ and the normalized skew be $\\alpha = \\tau/T_{sw}$. Then $dt = T_{sw}\\,du$. The integration limits become $u = \\alpha$ to $u=1$.\n$$E_{meas} = V_{bus}I_0 \\int_{\\alpha}^{1} \\left(\\frac{uT_{sw} - \\alpha T_{sw}}{T_{sw}}\\right) (1-u) \\,(T_{sw}\\,du)$$\n$$E_{meas} = V_{bus}I_0 T_{sw} \\int_{\\alpha}^{1} (u-\\alpha)(1-u) \\,du$$\n$$E_{meas} = V_{bus}I_0 T_{sw} \\int_{\\alpha}^{1} (-u^2 + (1+\\alpha)u - \\alpha) \\,du$$\n$$E_{meas} = V_{bus}I_0 T_{sw} \\left[-\\frac{u^3}{3} + \\frac{(1+\\alpha)u^2}{2} - \\alpha u \\right]_{\\alpha}^{1}$$\nEvaluating at the limits gives:\n$$E_{meas} = V_{bus}I_0 T_{sw} \\left( \\left(-\\frac{1}{3} + \\frac{1+\\alpha}{2} - \\alpha \\right) - \\left(-\\frac{\\alpha^3}{3} + \\frac{(1+\\alpha)\\alpha^2}{2} - \\alpha^2 \\right) \\right)$$\n$$E_{meas} = V_{bus}I_0 T_{sw} \\left( \\left(\\frac{1}{6} - \\frac{\\alpha}{2}\\right) - \\left(-\\frac{\\alpha^3}{3} + \\frac{\\alpha^2}{2} + \\frac{\\alpha^3}{2} - \\alpha^2 \\right) \\right)$$\n$$E_{meas} = V_{bus}I_0 T_{sw} \\left( \\left(\\frac{1}{6} - \\frac{\\alpha}{2}\\right) - \\left(\\frac{\\alpha^3}{6} - \\frac{\\alpha^2}{2}\\right) \\right)$$\n$$E_{meas} = V_{bus}I_0 T_{sw} \\left( \\frac{1}{6} - \\frac{3\\alpha}{6} + \\frac{3\\alpha^2}{6} - \\frac{\\alpha^3}{6} \\right) = \\frac{V_{bus}I_0 T_{sw}}{6} (1 - 3\\alpha + 3\\alpha^2 - \\alpha^3)$$\nRecognizing the binomial expansion $(1-\\alpha)^3 = 1 - 3\\alpha + 3\\alpha^2 - \\alpha^3$, we get:\n$$E_{meas} = \\left(\\frac{1}{6} V_{bus}I_0 T_{sw}\\right) (1-\\alpha)^3 = E_{true}(1-\\alpha)^3$$\n\n**3. Numerical Evaluation**\n\nThe parameters are $T_{sw} = 20\\,\\text{ns}$ and $\\tau = 5\\,\\text{ns}$.\nThe normalized skew is $\\alpha = \\frac{\\tau}{T_{sw}} = \\frac{5\\,\\text{ns}}{20\\,\\text{ns}} = 0.25$.\nThe ratio of measured to true energy is:\n$$\\frac{E_{meas}}{E_{true}} = (1 - 0.25)^3 = (0.75)^3 = 0.421875$$\nThis means the measured energy is approximately $42.2\\%$ of the true energy. The error is an underestimation of $100\\% - 42.1875\\% = 57.8125\\%$.\n\n### Option-by-Option Analysis\n\n**A. Probe de-skew is the process of compensating relative channel propagation delays so that the measured $v(t)$ and $i(t)$ waveforms are time-aligned before forming the product $v(t)\\,i(t)$. With a $5\\,\\text{ns}$ skew relative to $20\\,\\text{ns}$ edges, the measured energy under the linear ramp model is reduced to approximately $42\\%$ of the true value (about a $58\\%$ underestimation), making de-skew critical when edges are on the nanosecond scale.**\n- The definition of probe de-skew is accurate. It is the procedure for time-aligning measurement channels.\n- The quantitative analysis states the measured energy is reduced to \"approximately $42\\%$ of the true value\". Our calculation yields $42.2\\%$, which is an excellent match.\n- It states this is \"about a $58\\%$ underestimation\". Our calculation yields $57.8\\%$, which is also an excellent match.\n- The conclusion that de-skew is \"critical\" is a direct and valid consequence of the massive measurement error.\n- **Verdict: Correct.**\n\n**B. Probe de-skew primarily removes DC offsets between channels. Time alignment is not required because integrating $v(t)\\,i(t)$ over the full switching event averages out any skew; therefore, the error with a $5\\,\\text{ns}$ skew on $20\\,\\text{ns}$ edges is negligible (less than $1\\%$).**\n- The definition of de-skew is incorrect. De-skew relates to time delay, not DC offset. This confuses two distinct oscilloscope functions.\n- The claim that integration averages out skew is fundamentally false. The integral of a product of two functions, $\\int f(t)g(t-\\tau)dt$, is highly dependent on the shift $\\tau$.\n- The claim of negligible error (less than $1\\%$) is grossly incorrect. The calculated error is approximately $58\\%$.\n- **Verdict: Incorrect.**\n\n**C. Probe de-skew is a noise-reduction technique that improves signal-to-noise ratio by averaging multiple acquisitions. It does not affect $E_{sw}$ because energy depends only on average voltage and current magnitudes, so even with a $5\\,\\text{ns}$ skew the measured energy equals the true energy to within a few percent.**\n- The definition of de-skew is incorrect. This describes waveform averaging, not de-skew.\n- The claim that energy depends only on average magnitudes is false. Switching energy is the integral of instantaneous power, $p(t) = v(t)i(t)$, where the temporal overlap (phasing) of $v(t)$ and $i(t)$ is paramount.\n- The claim that the measured energy is close to the true energy is false, as shown by the calculation.\n- **Verdict: Incorrect.**\n\n**D. Probe de-skew is optional because with linear edges the overlap error scales linearly with the fraction of skew; for $\\tau = 5\\,\\text{ns}$ and $T = 20\\,\\text{ns}$ the measured energy is about $75\\%$ of the true value (approximately a $25\\%$ underestimation), which is acceptable in most cases.**\n- The claim that the error scales linearly is false. The derived ratio is $(1-\\alpha)^3$, which is a cubic relationship.\n- The stated measured energy of $75\\%$ of the true value is incorrect. The calculation yields $42.2\\%$. The value $75\\%$ likely arises from the incorrect assumption that the energy is proportional to the overlap duration, which is $T_{sw}-\\tau = 15\\,\\text{ns}$ or $75\\%$ of $T_{sw}$.\n- An error of $25\\%$ would not be considered \"acceptable\" for characterization, and the actual error of $58\\%$ is certainly unacceptable.\n- **Verdict: Incorrect.**",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "Beyond characterizing losses, Double Pulse Testing is a powerful tool for extracting system-level parameters for circuit modeling and simulation. This advanced practice challenges you to estimate the power loop inductance by developing a method that corrects for non-ideal experimental conditions, such as the voltage droop on the DC-link capacitor . This exercise moves beyond simple approximations to demonstrate how robust data analysis can yield high-fidelity model parameters from practical measurements.",
            "id": "3835839",
            "problem": "A double pulse test is performed on a half-bridge to characterize switching behavior and to estimate the loop inductance associated with the current commutation path. In the charging pulse, the low-side device is held on and the loop current is allowed to ramp up from zero. The direct current-link (DC-link) is supplied by a finite capacitor, so the DC-link voltage droops during the pulse due to capacitor discharge. Neglect the Equivalent Series Inductance (ESL) and Equivalent Series Resistance (ESR) of the DC-link capacitor, and model the conduction path during the charging pulse as a constant voltage drop and a series resistance. The following data are recorded:\n\n- Initial DC-link voltage at the start of the ramp is $V_{0} = 400\\,\\text{V}$.\n- DC-link capacitance is $C_{dc} = 200\\,\\mu\\text{F}$.\n- The conduction path has a constant drop $V_{\\text{on}} = 2\\,\\text{V}$ and a series resistance $R = 10\\,\\text{m}\\Omega$.\n- The measured current ramp is approximately linear with slope $s = 1.50\\,\\text{A}/\\mu\\text{s}$ over a duration $T = 100\\,\\mu\\text{s}$, starting from $i(0) = 0$.\n\nStarting from Kirchhoff’s Voltage Law (KVL), the inductor constitutive relation $v_{L} = L\\,di/dt$, and the capacitor relation $i_{C} = C\\,dV/dt$, derive a time-domain method to estimate the loop inductance $L$ that corrects for the DC-link voltage droop during the pulse. Then, using the provided measurements and assumptions, compute the corrected numerical value of $L$. Round your final answer to four significant figures. Express the final inductance in henry (H).",
            "solution": "The problem requires the derivation of a time-domain method to estimate the loop inductance $L$ from double pulse test data, including a correction for the DC-link voltage droop. Subsequently, a numerical value for $L$ must be calculated using the provided data.\n\nFirst, we establish the governing differential equation for the circuit during the charging pulse. The low-side switch is on, creating a path for current to flow from the DC-link capacitor, through the inductor $L$, and through the conduction path of the switch. Applying Kirchhoff’s Voltage Law (KVL) to this loop gives:\n$$v_{dc}(t) = v_L(t) + v_{path}(t)$$\nwhere $v_{dc}(t)$ is the instantaneous DC-link voltage, $v_L(t)$ is the voltage across the loop inductor, and $v_{path}(t)$ is the voltage drop across the conduction path.\n\nThe problem provides models for these voltage terms:\n1.  The inductor voltage is given by its constitutive relation: $v_L(t) = L \\frac{di(t)}{dt}$.\n2.  The conduction path voltage is modeled as a constant voltage drop $V_{\\text{on}}$ in series with a resistance $R$: $v_{path}(t) = R i(t) + V_{\\text{on}}$.\n3.  The current $i(t)$ is measured to be an approximately linear ramp starting from zero, which can be modeled as $i(t) = s t$, where $s$ is the constant slope of the current ramp. From this, the rate of change of current is $\\frac{di(t)}{dt} = s$.\n4.  The DC-link voltage $v_{dc}(t)$ is not constant. The capacitor $C_{dc}$ provides the current $i(t)$, so it discharges. The current flowing out of the capacitor is $i_C(t) = -i(t) = -s t$. The voltage across the capacitor is governed by $i_C(t) = C_{dc} \\frac{dv_{dc}(t)}{dt}$. We can find the voltage $v_{dc}(t)$ by integrating this relation:\n$$v_{dc}(t) = v_{dc}(0) + \\frac{1}{C_{dc}} \\int_0^t i_C(\\tau) d\\tau = V_0 - \\frac{1}{C_{dc}} \\int_0^t s\\tau d\\tau$$\n$$v_{dc}(t) = V_0 - \\frac{s t^2}{2 C_{dc}}$$\nwhere $V_0$ is the initial DC-link voltage at $t=0$.\n\nSubstituting these expressions back into the KVL equation yields:\n$$V_0 - \\frac{s t^2}{2 C_{dc}} = L s + R(s t) + V_{\\text{on}}$$\nThis equation presents a formal difficulty. If $L$ is a constant, this equation cannot hold for all time $t$ over the pulse duration, because the left side is a quadratic function of $t$, while the right side is a linear function of $t$. This discrepancy arises because the assumption of a perfectly linear current ramp ($i(t) = st$) is an approximation; the actual current response of this RLC circuit is not perfectly linear.\n\nTo derive a robust estimation method for a single value of $L$ that best represents the circuit's behavior over the entire pulse, we can use an integral averaging approach. We integrate the KVL equation over the pulse duration from $t=0$ to $t=T$:\n$$\\int_0^T v_{dc}(t) dt = \\int_0^T \\left( L \\frac{di(t)}{dt} + R i(t) + V_{\\text{on}} \\right) dt$$\nWe evaluate each integral term by term:\nThe integral of the DC-link voltage:\n$$\\int_0^T v_{dc}(t) dt = \\int_0^T \\left(V_0 - \\frac{s t^2}{2 C_{dc}}\\right) dt = \\left[ V_0 t - \\frac{s t^3}{6 C_{dc}} \\right]_0^T = V_0 T - \\frac{s T^3}{6 C_{dc}}$$\nThe integral of the right-hand side terms:\n$$\\int_0^T \\left( L s + R s t + V_{\\text{on}} \\right) dt = \\left[ L s t + R s \\frac{t^2}{2} + V_{\\text{on}} t \\right]_0^T = L s T + \\frac{R s T^2}{2} + V_{\\text{on}} T$$\nEquating the two results gives the integral form of the KVL equation:\n$$V_0 T - \\frac{s T^3}{6 C_{dc}} = L s T + \\frac{R s T^2}{2} + V_{\\text{on}} T$$\nSince $T \\ne 0$, we can divide the entire equation by $T$:\n$$V_0 - \\frac{s T^2}{6 C_{dc}} = L s + \\frac{R s T}{2} + V_{\\text{on}}$$\nNow, we can solve for the inductance $L$. Rearranging the terms to isolate $L s$:\n$$L s = V_0 - V_{\\text{on}} - \\frac{R s T}{2} - \\frac{s T^2}{6 C_{dc}}$$\nFinally, dividing by $s$ (since $s \\ne 0$) gives the derived formula for the corrected loop inductance:\n$$L = \\frac{V_0 - V_{\\text{on}}}{s} - \\frac{R T}{2} - \\frac{T^2}{6 C_{dc}}$$\nThis formula represents the time-domain method for estimating $L$. The first term, $\\frac{V_0 - V_{\\text{on}}}{s}$, is the simple estimation ignoring resistance and voltage droop. The second term, $-\\frac{R T}{2}$, corrects for the average voltage drop across the series resistance. The third term, $-\\frac{T^2}{6 C_{dc}}$, corrects for the effect of the DC-link voltage droop.\n\nNow, we compute the numerical value of $L$ using the provided data. First, we list the parameters in base SI units:\n- Initial voltage $V_0 = 400\\,\\text{V}$\n- DC-link capacitance $C_{dc} = 200\\,\\mu\\text{F} = 200 \\times 10^{-6}\\,\\text{F}$\n- Conduction voltage drop $V_{\\text{on}} = 2\\,\\text{V}$\n- Series resistance $R = 10\\,\\text{m}\\Omega = 10 \\times 10^{-3}\\,\\Omega$\n- Current slope $s = 1.50\\,\\text{A}/\\mu\\text{s} = 1.50 \\times 10^6\\,\\text{A/s}$\n- Pulse duration $T = 100\\,\\mu\\text{s} = 100 \\times 10^{-6}\\,\\text{s}$\n\nWe substitute these values into the derived formula for $L$:\n$$L = \\frac{400 - 2}{1.50 \\times 10^6} - \\frac{(10 \\times 10^{-3})(100 \\times 10^{-6})}{2} - \\frac{(100 \\times 10^{-6})^2}{6(200 \\times 10^{-6})}$$\nLet's calculate each term:\n- First term: $\\frac{398}{1.50 \\times 10^6} \\approx 2.65333... \\times 10^{-4}\\,\\text{H}$\n- Second term: $\\frac{10 \\times 10^{-3} \\times 100 \\times 10^{-6}}{2} = \\frac{1000 \\times 10^{-9}}{2} = 500 \\times 10^{-9} = 0.5 \\times 10^{-6}\\,\\text{H} = 0.005 \\times 10^{-4}\\,\\text{H}$\n- Third term: $\\frac{(100 \\times 10^{-6})^2}{6 \\times 200 \\times 10^{-6}} = \\frac{10000 \\times 10^{-12}}{1200 \\times 10^{-6}} = \\frac{1 \\times 10^{-8}}{1.2 \\times 10^{-3}} = \\frac{1}{1.2} \\times 10^{-5} \\approx 0.83333... \\times 10^{-5}\\,\\text{H} = 0.08333... \\times 10^{-4}\\,\\text{H}$\n\nCombining the terms:\n$$L \\approx (2.65333... - 0.005 - 0.08333...) \\times 10^{-4}\\,\\text{H}$$\n$$L \\approx (2.64833... - 0.08333...) \\times 10^{-4}\\,\\text{H}$$\n$$L = 2.565 \\times 10^{-4}\\,\\text{H}$$\nThe problem requests the final answer to be rounded to four significant figures. Our result $2.565 \\times 10^{-4}\\,\\text{H}$ is already in this form.",
            "answer": "$$\\boxed{2.565 \\times 10^{-4}}$$"
        }
    ]
}