{
    "hands_on_practices": [
        {
            "introduction": "The foundation of any control system design is an accurate model of its components. In voltage-mode control, the Pulse Width Modulation (PWM) block translates the control voltage into the duty cycle that drives the power switches. This exercise  focuses on determining the small-signal gain of this modulator, $K_{PWM}$, a critical parameter that directly scales the entire loop gain. By deriving the theoretical gain from first principles and comparing it with a value extracted from hypothetical experimental data, you will practice a fundamental skill in system identification and model validation.",
            "id": "3889757",
            "problem": "A voltage-mode control loop uses a trailing-edge Pulse Width Modulation (PWM) modulator in a Direct Current to Direct Current (DC-DC) buck converter. The PWM comparator compares a control voltage $v_{c}$ against a linear ramp $r(t)$ that repeats every switching period $T_{s}$ and rises from a valley value $V_{L}$ to a peak value $V_{H}$ each cycle. The duty ratio $d$ equals the fraction of the period for which $v_{c} > r(t)$ in steady state. The small-signal PWM gain $K_{PWM}$ is defined as the sensitivity of duty to the control voltage, $K_{PWM} \\equiv \\partial d / \\partial v_{c}$, and is commonly associated with the inverse of the ramp amplitude.\n\nAn experiment is conducted at constant switching frequency and input conditions to empirically determine $K_{PWM}$ from steady-state measurements of the control voltage and duty ratio. The measured ramp valley and peak are $V_{L} = 0.50\\,\\text{V}$ and $V_{H} = 3.00\\,\\text{V}$. The following control voltage versus duty pairs are obtained by slowly sweeping $v_c$ while recording the resulting steady-state duty ratio:\n- $(v_c, d) = (0.90\\,\\text{V}, 0.16)$\n- $(v_c, d) = (1.30\\,\\text{V}, 0.32)$\n- $(v_c, d) = (1.80\\,\\text{V}, 0.52)$\n- $(v_c, d) = (2.20\\,\\text{V}, 0.68)$\n- $(v_c, d) = (2.60\\,\\text{V}, 0.84)$\n- $(v_c, d) = (2.90\\,\\text{V}, 0.96)$\n\nStarting from first principles of comparator crossing with a linear ramp, derive the functional relationship between $d$ and $v_c$ that follows from the definition of $r(t)$ and $T_s$. Using that relationship as the theoretical base, compute the empirical $K_{PWM}$ as the least-squares slope of the best-fit affine mapping $d \\approx a + b\\,v_c$ through the provided measurements, and interpret $b$ as the estimate of $K_{PWM}$. Then, verify analytically whether the empirically obtained $K_{PWM}$ agrees with the theoretical value based on the measured ramp amplitude within a tolerance of $1\\%$.\n\nProvide the final numerical value of $K_{PWM}$, expressed in inverse volts, and round your answer to four significant figures. Do not include units in your final boxed answer.",
            "solution": "The user wants to solve for the PWM gain of a DC-DC converter given a set of experimental data.\n\n### Step 1: Extract Givens\n- **System**: Voltage-mode control loop in a DC-DC buck converter.\n- **Modulator**: Trailing-edge Pulse Width Modulation (PWM).\n- **Comparator**: Compares control voltage $v_c$ against a linear ramp $r(t)$.\n- **Ramp Signal**: Linear ramp repeating every switching period $T_s$, rising from a valley value $V_L$ to a peak value $V_H$.\n- **Ramp Parameters**: $V_L = 0.50\\,\\text{V}$, $V_H = 3.00\\,\\text{V}$.\n- **Duty Ratio Definition**: $d$ is the fraction of the period for which $v_c > r(t)$ in steady state. For a trailing-edge modulator, this means the turn-off event is modulated. The ON-time is from $t=0$ to $t=dT_s$, where the intersection of $v_c$ and $r(t)$ occurs.\n- **PWM Gain Definition**: $K_{PWM} \\equiv \\partial d / \\partial v_c$.\n- **Experimental Data Pairs** (control voltage $v_c$, duty ratio $d$):\n  - $(0.90\\,\\text{V}, 0.16)$\n  - $(1.30\\,\\text{V}, 0.32)$\n  - $(1.80\\,\\text{V}, 0.52)$\n  - $(2.20\\,\\text{V}, 0.68)$\n  - $(2.60\\,\\text{V}, 0.84)$\n  - $(2.90\\,\\text{V}, 0.96)$\n- **Tasks**:\n  1. Derive the functional relationship between $d$ and $v_c$ from first principles.\n  2. Compute the empirical $K_{PWM}$ as the least-squares slope of the best-fit affine mapping $d \\approx a + b\\,v_c$.\n  3. Verify if the empirical $K_{PWM}$ agrees with the theoretical value within a $1\\%$ tolerance.\n  4. Provide the final numerical value of $K_{PWM}$, rounded to four significant figures.\n\n### Step 2: Validate Using Extracted Givens\n- **Scientific Grounding**: The problem is well-grounded in the fundamental principles of power electronics and control systems. The description of a voltage-mode controlled buck converter with a PWM modulator is standard. All concepts, including ramp signal, duty cycle, and PWM gain, are cornerstones of the field.\n- **Well-Posedness**: The problem is well-posed. It provides all necessary data (ramp voltages, experimental data points) and a clear, sequential set of instructions for deriving the theoretical relationship, calculating an empirical value via a specified statistical method (least-squares), and comparing the two. The existence and uniqueness of a solution are guaranteed.\n- **Objectivity**: The problem is stated in objective, technical language, free from any subjectivity or ambiguity. The data points are within the physical limits of the system (i.e., $V_L \\le v_c \\le V_H$ and $0 < d < 1$).\n- **Flaw Checklist**:\n  - No scientific or factual unsoundness.\n  - The problem is formalizable and relevant to its stated topic.\n  - The problem is self-contained and not contradictory.\n  - The values are physically realistic.\n  - The structure ensures a unique, stable solution.\n  - The problem is not trivial; it requires derivation, calculation, and analytical comparison.\n  - All aspects are scientifically verifiable.\n\n### Step 3: Verdict and Action\nThe problem is **valid**. A full solution will be provided.\n\n### Solution Derivation\n\nThe analysis begins by deriving the theoretical relationship between the control voltage $v_c$ and the duty ratio $d$ for an ideal trailing-edge PWM modulator.\n\nThe ramp signal $r(t)$ increases linearly from $V_L$ to $V_H$ over one switching period $T_s$. The equation for the ramp voltage within the interval $t \\in [0, T_s]$ is:\n$$r(t) = V_L + \\frac{V_H - V_L}{T_s} t$$\n\nIn a trailing-edge PWM scheme, the power switch is turned on at the beginning of the cycle ($t=0$) and is turned off when the ramp voltage $r(t)$ equals the control voltage $v_c$. Let this intersection time be $t_{cross}$. The duty ratio $d$ is the fraction of the switching period for which the switch is ON, so $d = t_{cross} / T_s$.\n\nThe intersection condition is given by:\n$$v_c = r(t_{cross})$$\n\nSubstituting the expression for $r(t)$ and replacing $t_{cross}$ with $d T_s$:\n$$v_c = V_L + \\frac{V_H - V_L}{T_s} (d T_s)$$\n\nThe term $T_s$ cancels out, yielding a direct relationship between $v_c$ and $d$:\n$$v_c = V_L + d (V_H - V_L)$$\n\nTo find the functional relationship for $d$ in terms of $v_c$, we rearrange the equation:\n$$d (V_H - V_L) = v_c - V_L$$\n$$d = \\frac{v_c - V_L}{V_H - V_L}$$\nThis can be written in an affine form $d = (\\frac{1}{V_H - V_L})v_c - \\frac{V_L}{V_H - V_L}$, which is the theoretical base relationship.\n\nThe small-signal PWM gain, $K_{PWM}$, is defined as the partial derivative of the duty ratio $d$ with respect to the control voltage $v_c$. Applying this definition to the derived relationship gives the theoretical PWM gain, $K_{PWM, theory}$:\n$$K_{PWM, theory} = \\frac{\\partial d}{\\partial v_c} = \\frac{\\partial}{\\partial v_c} \\left( \\frac{v_c - V_L}{V_H - V_L} \\right) = \\frac{1}{V_H - V_L}$$\n\nUsing the given ramp parameters $V_L = 0.50\\,\\text{V}$ and $V_H = 3.00\\,\\text{V}$:\n$$K_{PWM, theory} = \\frac{1}{3.00\\,\\text{V} - 0.50\\,\\text{V}} = \\frac{1}{2.5\\,\\text{V}} = 0.40\\,\\text{V}^{-1}$$\n\nNext, we compute the empirical PWM gain, $K_{PWM, emp}$, by performing a linear regression on the provided experimental data. The model is $d \\approx a + b v_c$, where the slope $b$ represents $K_{PWM, emp}$. The slope $b$ of the least-squares best-fit line for a set of $N$ data points $(x_i, y_i)$ is given by:\n$$b = \\frac{N \\sum_{i=1}^{N} (x_i y_i) - (\\sum_{i=1}^{N} x_i) (\\sum_{i=1}^{N} y_i)}{N \\sum_{i=1}^{N} (x_i^2) - (\\sum_{i=1}^{N} x_i)^2}$$\nwhere $x_i$ corresponds to $v_{c,i}$ and $y_i$ corresponds to $d_i$.\n\nLet's calculate the required sums from the $N=6$ data points:\nData: $(v_{c}, d)$\n1. $(0.90, 0.16)$\n2. $(1.30, 0.32)$\n3. $(1.80, 0.52)$\n4. $(2.20, 0.68)$\n5. $(2.60, 0.84)$\n6. $(2.90, 0.96)$\n\nCalculations for the sums:\n$$ \\sum_{i=1}^{6} v_{c,i} = 0.90 + 1.30 + 1.80 + 2.20 + 2.60 + 2.90 = 11.70 $$\n$$ \\sum_{i=1}^{6} d_i = 0.16 + 0.32 + 0.52 + 0.68 + 0.84 + 0.96 = 3.48 $$\n$$ \\sum_{i=1}^{6} (v_{c,i} d_i) = (0.90)(0.16) + (1.30)(0.32) + (1.80)(0.52) + (2.20)(0.68) + (2.60)(0.84) + (2.90)(0.96) \\\\ = 0.144 + 0.416 + 0.936 + 1.496 + 2.184 + 2.784 = 7.96 $$\n$$ \\sum_{i=1}^{6} (v_{c,i}^2) = (0.90)^2 + (1.30)^2 + (1.80)^2 + (2.20)^2 + (2.60)^2 + (2.90)^2 \\\\ = 0.81 + 1.69 + 3.24 + 4.84 + 6.76 + 8.41 = 25.75 $$\n\nSubstitute these sums into the formula for the slope $b$:\n$$ b = \\frac{6(7.96) - (11.70)(3.48)}{6(25.75) - (11.70)^2} = \\frac{47.76 - 40.716}{154.5 - 136.89} = \\frac{7.044}{17.61} $$\n$$ b = 0.4 $$\nThe empirical PWM gain is thus $K_{PWM, emp} = b = 0.40\\,\\text{V}^{-1}$.\nA simpler observation confirms this result: the incremental gain $\\Delta d / \\Delta v_c$ is constant for all adjacent pairs of data points (e.g., $(0.32-0.16)/(1.30-0.90) = 0.16/0.40 = 0.4$), indicating the data points lie perfectly on a line with slope $0.4$.\n\nFinally, we must verify if the empirical value agrees with the theoretical value within a $1\\%$ tolerance.\n- Theoretical value: $K_{PWM, theory} = 0.40\\,\\text{V}^{-1}$\n- Empirical value: $K_{PWM, emp} = 0.40\\,\\text{V}^{-1}$\n\nThe percentage difference is calculated as:\n$$ \\text{Difference} (\\%) = \\frac{|K_{PWM, emp} - K_{PWM, theory}|}{K_{PWM, theory}} \\times 100\\% $$\n$$ \\text{Difference} (\\%) = \\frac{|0.40 - 0.40|}{0.40} \\times 100\\% = 0\\% $$\nA difference of $0\\%$ is less than the specified tolerance of $1\\%$. The agreement is exact.\n\nThe problem asks for the final numerical value of $K_{PWM}$. Based on the instruction to \"compute the empirical $K_{PWM}$\", this value is $b$.\nThe computed value is $0.4$. Rounding to four significant figures, the value is $0.4000$.",
            "answer": "$$\\boxed{0.4000}$$"
        },
        {
            "introduction": "The output $LC$ filter in a buck converter is responsible for smoothing the switched voltage into a clean DC output, but its second-order nature introduces a $-180^\\circ$ phase shift that complicates control loop stabilization. This practice  delves into the dual nature of a common parasitic: the capacitor's Equivalent Series Resistance ($R_{\\mathrm{ESR}}$). You will explore the trade-off where $R_{\\mathrm{ESR}}$ contributes to undesirable output voltage ripple, yet simultaneously introduces a beneficial left-half-plane zero that can be strategically used to boost phase margin and ensure stability.",
            "id": "3889614",
            "problem": "A voltage-mode controlled step-down direct current to direct current (DC-DC) converter operating in continuous conduction mode uses a pulse width modulation (PWM) switch at switching frequency $f_{s}$ to regulate the output voltage $v_{o}$ to a desired setpoint via the duty cycle $D$. The power stage consists of an ideal input source $v_{g}$, an ideal inductor of inductance $L$, and an output capacitor of capacitance $C$ that exhibits nonzero Equivalent Series Resistance (ESR), denoted $R_{\\mathrm{ESR}}$. The load draws a direct current $I_{o}$ at the regulated output voltage $V_{o}$. Assume ideal semiconductor switches and negligible parasitic elements other than $R_{\\mathrm{ESR}}$.\n\nUsing fundamental circuit laws and small-signal reasoning, first explain how the ESR of the output capacitor creates a real left-half-plane zero at angular frequency $\\omega_{z,\\mathrm{ESR}}$ in the control-to-output plant, and why placing this zero below or near the loop crossover frequency increases the phase margin in voltage-mode control. Then, starting from the constitutive relations of the capacitor and resistor and the triangular nature of the inductor ripple current in steady state, derive an expression for the peak-to-peak output voltage ripple $\\Delta v_{o,\\mathrm{pp}}$ as the sum of the ripple across the ESR and the ripple due to the finite capacitance, expressed in terms of the inductor ripple current amplitude $\\Delta i_{L}$, the switching frequency $f_{s}$, the capacitance $C$, and $R_{\\mathrm{ESR}}$.\n\nFinally, evaluate $\\Delta v_{o,\\mathrm{pp}}$ numerically for the following scientifically realistic and self-consistent parameters of the buck converter:\n- Input voltage $v_{g} = 36\\,\\mathrm{V}$,\n- Regulated output voltage $V_{o} = 12\\,\\mathrm{V}$,\n- Load direct current $I_{o} = 8\\,\\mathrm{A}$,\n- Inductance $L = 15\\,\\mu\\mathrm{H}$,\n- Capacitance $C = 220\\,\\mu\\mathrm{F}$,\n- ESR $R_{\\mathrm{ESR}} = 20\\,\\mathrm{m}\\Omega$,\n- Switching frequency $f_{s} = 250\\,\\mathrm{kHz}$.\n\nAssume continuous conduction mode and an ideal buck conversion relationship $D = V_{o}/v_{g}$, and compute the steady-state inductor peak-to-peak ripple current $\\Delta i_{L}$ from first principles. Express the final peak-to-peak output voltage ripple amplitude in volts and round your answer to four significant figures.",
            "solution": "The problem statement is evaluated to be valid. It is scientifically grounded in the principles of power electronics, well-posed with a complete and consistent set of parameters, and objective in its language. The requested derivations and calculations are standard analyses for a DC-DC buck converter.\n\nThe solution is presented in three parts as requested: an explanation of the Equivalent Series Resistance (ESR) zero, a derivation of the output voltage ripple, and a numerical calculation.\n\n**Part 1: The ESR Zero and its Effect on Phase Margin**\n\nIn a voltage-mode controlled DC-DC converter, the control-to-output transfer function, denoted $G_{vd}(s) = \\hat{v}_{o}(s) / \\hat{d}(s)$, characterizes the dynamic response of the output voltage $\\hat{v}_{o}$ to small perturbations in the duty cycle $\\hat{d}$. This transfer function is critically dependent on the impedance of the output filter stage. The output filter consists of the inductor $L$ and the output capacitor $C$, which has an associated ESR, $R_{\\mathrm{ESR}}$.\n\nThe impedance of the output capacitor network, $Z_{out}(s)$, is the series combination of the capacitance $C$ and the resistance $R_{\\mathrm{ESR}}$. In the Laplace domain, this is:\n$$Z_{out}(s) = R_{\\mathrm{ESR}} + \\frac{1}{sC}$$\nThis expression can be rewritten to highlight its pole-zero structure:\n$$Z_{out}(s) = \\frac{sCR_{\\mathrm{ESR}} + 1}{sC}$$\nThe term $(1 + sCR_{\\mathrm{ESR}})$ in the numerator introduces a zero into the impedance function. This zero, when it appears in the numerator of the overall control-to-output transfer function $G_{vd}(s)$, is known as the ESR zero. The location of this zero is at $s = -1/(R_{\\mathrm{ESR}}C)$. This corresponds to a real, left-half-plane (LHP) zero at an angular frequency:\n$$\\omega_{z,\\mathrm{ESR}} = \\frac{1}{R_{\\mathrm{ESR}}C}$$\nThe stability of the closed-loop system is assessed by examining the loop gain $T(s) = G_c(s) G_{vd}(s) H(s)$, where $G_c(s)$ is the compensator transfer function and $H(s)$ is the feedback sensor gain. The phase margin, $\\Phi_m$, is a key stability metric determined at the crossover frequency $\\omega_c$, where $|T(j\\omega_c)|=1$.\n\nThe power stage of a buck converter, with its LC filter, inherently introduces a pair of complex conjugate poles, which contribute up to $-180^\\circ$ of phase lag at frequencies above the LC resonant frequency. This steep phase drop makes it difficult to achieve a stable feedback loop with adequate phase margin.\n\nAn LHP zero contributes a positive phase shift to the frequency response, given by $\\phi_z(\\omega) = \\arctan(\\omega/\\omega_{z,\\mathrm{ESR}})$. This phase contribution approaches $+90^\\circ$ for frequencies $\\omega \\gg \\omega_{z,\\mathrm{ESR}}$. By selecting a capacitor such that the ESR zero frequency $\\omega_{z,\\mathrm{ESR}}$ is located below or near the desired loop crossover frequency $\\omega_c$, the zero provides a \"phase boost\" at $\\omega_c$. This additional positive phase counteracts the negative phase from the LC filter's poles, thereby increasing the phase margin and enhancing the stability of the voltage-mode control loop.\n\n**Part 2: Derivation of Peak-to-Peak Output Voltage Ripple**\n\nThe total output voltage ripple, $\\Delta v_{o,\\mathrm{pp}}$, is the sum of the voltage ripple across the capacitor's ESR, $\\Delta v_{\\mathrm{ESR,pp}}$, and the voltage ripple across its capacitance, $\\Delta v_{C,\\mathrm{pp}}$. The problem phrasing directs us to find the expression for the total ripple as the arithmetic sum of these two components. This is a common and conservative engineering approximation, although the two ripple components are phase-shifted relative to each other.\n\nFirst, we determine the peak-to-peak inductor ripple current, $\\Delta i_L$. During the switch ON-time, $t_{on} = DT_s$, the voltage across the ideal inductor is $v_L = v_g - V_o$. The current ramps up linearly.\n$$\\Delta i_L = \\frac{v_L}{L} t_{on} = \\frac{v_g - V_o}{L} D T_s$$\nSince $T_s = 1/f_s$, we have:\n$$\\Delta i_L = \\frac{(v_g - V_o) D}{Lf_s}$$\nIn steady state, the DC load current $I_o$ is supplied by the DC component of the inductor current. The AC component of the inductor current, which is a triangular wave with peak-to-peak amplitude $\\Delta i_L$, flows into the output capacitor network. Let this AC current be $i_C(t)$.\n\n1.  **Ripple across ESR ($R_{\\mathrm{ESR}}$)**: The voltage across the ESR is directly proportional to the current flowing through it: $v_{\\mathrm{ESR}}(t) = i_C(t) R_{\\mathrm{ESR}}$. Since $i_C(t)$ is a triangular wave with a peak-to-peak amplitude of $\\Delta i_L$, the voltage $v_{\\mathrm{ESR}}(t)$ is also a triangular wave. Its peak-to-peak amplitude is:\n    $$\\Delta v_{\\mathrm{ESR,pp}} = \\Delta i_L R_{\\mathrm{ESR}}$$\n\n2.  **Ripple across Capacitance ($C$)**: The voltage across the ideal capacitance is the integral of the current flowing into it, scaled by $1/C$. The change in capacitor charge, $\\Delta Q_C$, over a time interval is the area under the $i_C(t)$ curve. The maximum voltage change (peak-to-peak ripple) occurs by integrating the capacitor current from its zero-crossing to its next zero-crossing, which is a duration of $T_s/2$. The current waveform over this interval is a triangle with base $T_s/2$ and height $\\Delta i_L/2$. The area under this part of the waveform is:\n    $$\\Delta Q_C = \\frac{1}{2} \\times \\text{base} \\times \\text{height} = \\frac{1}{2} \\times \\left(\\frac{T_s}{2}\\right) \\times \\left(\\frac{\\Delta i_L}{2}\\right) = \\frac{\\Delta i_L T_s}{8}$$\n    The peak-to-peak voltage ripple across the capacitance is then:\n    $$\\Delta v_{C,\\mathrm{pp}} = \\frac{\\Delta Q_C}{C} = \\frac{\\Delta i_L T_s}{8C} = \\frac{\\Delta i_L}{8Cf_s}$$\n\n3.  **Total Output Voltage Ripple**: As instructed, we sum the two components to obtain the total peak-to-peak output voltage ripple:\n    $$\\Delta v_{o,\\mathrm{pp}} = \\Delta v_{\\mathrm{ESR,pp}} + \\Delta v_{C,\\mathrm{pp}} = \\Delta i_L R_{\\mathrm{ESR}} + \\frac{\\Delta i_L}{8Cf_s}$$\n    Factoring out $\\Delta i_L$ gives the final expression:\n    $$\\Delta v_{o,\\mathrm{pp}} = \\Delta i_L \\left(R_{\\mathrm{ESR}} + \\frac{1}{8Cf_s}\\right)$$\n\n**Part 3: Numerical Evaluation**\n\nWe now substitute the given numerical values into the derived expressions.\n\n- Input voltage $v_g = 36\\,\\mathrm{V}$\n- Regulated output voltage $V_o = 12\\,\\mathrm{V}$\n- Inductance $L = 15\\,\\mu\\mathrm{H} = 15 \\times 10^{-6}\\,\\mathrm{H}$\n- Capacitance $C = 220\\,\\mu\\mathrm{F} = 220 \\times 10^{-6}\\,\\mathrm{F}$\n- ESR $R_{\\mathrm{ESR}} = 20\\,\\mathrm{m}\\Omega = 20 \\times 10^{-3}\\,\\Omega$\n- Switching frequency $f_s = 250\\,\\mathrm{kHz} = 250 \\times 10^3\\,\\mathrm{Hz}$\n\nFirst, calculate the steady-state duty cycle $D$:\n$$D = \\frac{V_o}{v_g} = \\frac{12}{36} = \\frac{1}{3}$$\nNext, calculate the peak-to-peak inductor ripple current $\\Delta i_L$:\n$$\\Delta i_L = \\frac{(v_g - V_o) D}{Lf_s} = \\frac{(36\\,\\mathrm{V} - 12\\,\\mathrm{V}) \\times (1/3)}{(15 \\times 10^{-6}\\,\\mathrm{H}) \\times (250 \\times 10^3\\,\\mathrm{Hz})} = \\frac{24\\,\\mathrm{V} \\times (1/3)}{15 \\times 250 \\times 10^{-3}\\,\\mathrm{V \\cdot s / A}} = \\frac{8}{3.75}\\,\\mathrm{A} = \\frac{32}{15}\\,\\mathrm{A}$$\nSo, $\\Delta i_L \\approx 2.1333\\,\\mathrm{A}$.\n\nNow calculate the two components of the output voltage ripple.\nRipple across ESR:\n$$\\Delta v_{\\mathrm{ESR,pp}} = \\Delta i_L R_{\\mathrm{ESR}} = \\left(\\frac{32}{15}\\,\\mathrm{A}\\right) \\times (20 \\times 10^{-3}\\,\\Omega) = \\frac{0.64}{15}\\,\\mathrm{V} \\approx 0.042667\\,\\mathrm{V}$$\nRipple across capacitance:\n$$\\Delta v_{C,\\mathrm{pp}} = \\frac{\\Delta i_L}{8Cf_s} = \\frac{32/15\\,\\mathrm{A}}{8 \\times (220 \\times 10^{-6}\\,\\mathrm{F}) \\times (250 \\times 10^3\\,\\mathrm{Hz})} = \\frac{32/15\\,\\mathrm{A}}{8 \\times 220 \\times 250 \\times 10^{-3}\\,\\mathrm{A \\cdot s / V}} = \\frac{32/15}{440}\\,\\mathrm{V} = \\frac{32}{6600}\\,\\mathrm{V} \\approx 0.004848\\,\\mathrm{V}$$\nFinally, sum the two components to find the total peak-to-peak output voltage ripple $\\Delta v_{o,\\mathrm{pp}}$:\n$$\\Delta v_{o,\\mathrm{pp}} = \\Delta v_{\\mathrm{ESR,pp}} + \\Delta v_{C,\\mathrm{pp}} = \\frac{0.64}{15}\\,\\mathrm{V} + \\frac{32}{6600}\\,\\mathrm{V} \\approx 0.042667\\,\\mathrm{V} + 0.004848\\,\\mathrm{V} = 0.047515\\,\\mathrm{V}$$\nRounding the result to four significant figures as requested gives:\n$$\\Delta v_{o,\\mathrm{pp}} \\approx 0.04752\\,\\mathrm{V}$$\nThis result shows that the ripple component due to the ESR is dominant in this particular design.",
            "answer": "$$\\boxed{0.04752}$$"
        },
        {
            "introduction": "A successful real-world controller must perform reliably not just with ideal, nominal component values, but across their full manufacturing tolerance range. This advanced practice  moves from simple analysis to the practical challenge of robust design. You will place the zeros of a compensator to guarantee that the loop's phase margin remains above a specified minimum, even as the inductor and capacitor values vary, ensuring the converter's stability in a more realistic scenario.",
            "id": "3889749",
            "problem": "A continuous conduction mode buck converter is regulated using voltage-mode Pulse Width Modulation (PWM). The input voltage is $V_{\\mathrm{in}} = 24\\,\\mathrm{V}$ and the desired output is $V_{\\mathrm{o}} = 12\\,\\mathrm{V}$ delivered to a resistive load $R = 2.4\\,\\Omega$. The nominal passive components are $L = 100\\,\\mu\\mathrm{H}$ and $C = 100\\,\\mu\\mathrm{F}$, and the equivalent series resistance of the output capacitor is negligible in the frequency range of interest. The control-to-output plant is modeled by a second-order low-pass transfer function with a double pole at the natural frequency\n$$\n\\omega_{o} = \\frac{1}{\\sqrt{L C}}\n$$\nand negligible zeros in-band. The compensator is of Type-III form but, for the purpose of this design, its high-frequency poles are placed sufficiently high such that their phase contribution at crossover is negligible. The compensator has one pole at the origin (to enforce zero steady-state error) and two real zeros at $\\omega_{z1}$ and $\\omega_{z2}$ used to shape the phase. The closed-loop bandwidth target is set by the desired crossover frequency\n$$\n\\omega_{c} = 1.6\\,\\omega_{o,\\mathrm{nom}}\n$$\nwhere $\\omega_{o,\\mathrm{nom}}$ is computed from the nominal $L$ and $C$. The worst-case natural frequency varies due to component tolerances $L, C \\in \\{\\text{nominal} \\times (1 \\pm 0.20)\\}$.\n\nAssume the loop phase near $\\omega_c$ can be well-approximated by the sum of element phases from standard first-order and second-order factors derived from the linearized averaged model: the second-order plant contributes approximately $-2\\arctan(\\omega/\\omega_{o})$ at frequency $\\omega$, the pole at the origin contributes $-90^\\circ$, and each compensator zero at $\\omega_{z}$ contributes $+\\arctan(\\omega/\\omega_{z})$. Neglect sampling and transport delays and any high-frequency compensator poles at $\\omega \\gg \\omega_c$.\n\nYou must design the zero placement to guarantee a phase margin strictly greater than $50^\\circ$ for the entire $\\pm 20\\%$ variation range of $L$ and $C$. Using the nominal values above, determine which of the following compensator zero placements satisfy the robust phase-margin requirement at $\\omega_{c}$.\n\nCompute $\\omega_{o,\\mathrm{nom}}$ from the given $L$ and $C$ and use the resulting numeric values for comparison. For each option, the two compensator zeros are placed at the specified frequencies; the pole at the origin is fixed; high-frequency compensator poles are assumed at $\\omega \\ge 50\\,\\omega_c$.\n\nA. $\\omega_{z1} = 0.833\\,\\omega_{o,\\mathrm{nom}}$ and $\\omega_{z2} = 1.25\\,\\omega_{o,\\mathrm{nom}}$.\n\nB. $\\omega_{z1} = \\omega_{o,\\mathrm{nom}}$ and $\\omega_{z2} = \\omega_{o,\\mathrm{nom}}$.\n\nC. $\\omega_{z1} = 3\\,\\omega_{o,\\mathrm{nom}}$ and $\\omega_{z2} = 3\\,\\omega_{o,\\mathrm{nom}}$.\n\nD. $\\omega_{z1} = 0.6\\,\\omega_{o,\\mathrm{nom}}$ and $\\omega_{z2} = 0.6\\,\\omega_{o,\\mathrm{nom}}$.\n\nSelect all options that guarantee the phase margin exceeds $50^\\circ$ across the entire specified tolerance range.",
            "solution": "**Problem Validation**\n\n**Step 1: Extract Givens**\n- System: Continuous conduction mode buck converter.\n- Control scheme: Voltage-mode Pulse Width Modulation (PWM).\n- Input voltage: $V_{\\mathrm{in}} = 24\\,\\mathrm{V}$.\n- Output voltage: $V_{\\mathrm{o}} = 12\\,\\mathrm{V}$.\n- Load resistance: $R = 2.4\\,\\Omega$.\n- Nominal inductance: $L = 100\\,\\mu\\mathrm{H}$.\n- Nominal capacitance: $C = 100\\,\\mu\\mathrm{F}$.\n- Capacitor ESR: Negligible.\n- Plant transfer function model: Second-order low-pass with a double pole at $\\omega_{o} = 1/\\sqrt{L C}$.\n- Compensator model: One pole at the origin, two real zeros at $\\omega_{z1}$ and $\\omega_{z2}$. High-frequency poles are negligible.\n- Crossover frequency: $\\omega_{c} = 1.6\\,\\omega_{o,\\mathrm{nom}}$.\n- Component tolerances: $L, C \\in \\{\\text{nominal} \\times (1 \\pm 0.20)\\}$.\n- Loop phase approximation: $\\Phi(\\omega) \\approx -2\\arctan(\\omega/\\omega_{o}) - 90^\\circ + \\arctan(\\omega/\\omega_{z1}) + \\arctan(\\omega/\\omega_{z2})$.\n- Design requirement: Phase margin $\\text{PM} > 50^\\circ$ over the entire tolerance range.\n\n**Step 2: Validate Using Extracted Givens**\n- **Scientifically Grounded:** The problem describes a standard control design task for a buck converter, a fundamental topic in power electronics. The models used (averaged second-order plant, simplified Type-III compensator) and the phase approximation formula are standard textbook representations for small-signal analysis.\n- **Well-Posed:** The problem is well-posed. It provides all necessary numerical values, component tolerances, a target crossover frequency, and a clear performance metric (minimum phase margin). The stated simplifications (negligible ESR, negligible high-frequency dynamics) are explicit and serve to focus the analysis on the interaction between the plant's resonant poles and the compensator's zeros.\n- **Objective:** The problem is stated in precise, objective, and quantitative terms, free from ambiguity or subjective content.\n\n**Step 3: Verdict and Action**\nThe problem statement is valid as it is scientifically sound, self-contained, and well-posed. The analysis may proceed.\n\n**Solution Derivation**\n\nThe goal is to determine which compensator zero placements ensure a phase margin (PM) strictly greater than $50^\\circ$ across all specified variations in inductance $L$ and capacitance $C$.\n\n**1. Preliminary Calculations**\nFirst, we calculate the nominal natural frequency of the LC filter and the target crossover frequency.\nThe nominal natural frequency, $\\omega_{o,\\mathrm{nom}}$, is:\n$$\n\\omega_{o,\\mathrm{nom}} = \\frac{1}{\\sqrt{L_{\\mathrm{nom}} C_{\\mathrm{nom}}}} = \\frac{1}{\\sqrt{(100 \\times 10^{-6}\\,\\mathrm{H})(100 \\times 10^{-6}\\,\\mathrm{F})}} = \\frac{1}{\\sqrt{10^{-8}\\,\\mathrm{s}^2}} = 10^4\\,\\mathrm{rad/s}\n$$\nThe target crossover frequency, $\\omega_c$, is fixed relative to the nominal natural frequency:\n$$\n\\omega_{c} = 1.6\\,\\omega_{o,\\mathrm{nom}} = 1.6 \\times 10^4\\,\\mathrm{rad/s}\n$$\n\n**2. Phase Margin Analysis**\nThe phase margin is defined as $\\text{PM} = 180^\\circ + \\Phi(\\omega_c)$, where $\\Phi(\\omega_c)$ is the total loop phase at the crossover frequency $\\omega_c$. Using the provided phase approximation:\n$$\n\\Phi(\\omega_c) = -90^\\circ - 2\\arctan\\left(\\frac{\\omega_c}{\\omega_o}\\right) + \\arctan\\left(\\frac{\\omega_c}{\\omega_{z1}}\\right) + \\arctan\\left(\\frac{\\omega_c}{\\omega_{z2}}\\right)\n$$\nThe phase margin is therefore:\n$$\n\\text{PM} = 180^\\circ + \\Phi(\\omega_c) = 90^\\circ - 2\\arctan\\left(\\frac{\\omega_c}{\\omega_o}\\right) + \\arctan\\left(\\frac{\\omega_c}{\\omega_{z1}}\\right) + \\arctan\\left(\\frac{\\omega_c}{\\omega_{z2}}\\right)\n$$\n\n**3. Worst-Case Condition Analysis**\nThe phase margin varies with the actual natural frequency $\\omega_o = 1/\\sqrt{LC}$, which depends on the component tolerances. We must find the combination of $L$ and $C$ that results in the minimum phase margin.\nThe phase margin expression contains the term $-2\\arctan(\\omega_c/\\omega_o)$. Since $\\arctan(x)$ is a monotonically increasing function for $x>0$, the term $-2\\arctan(\\omega_c/\\omega_o)$ is most negative (thus minimizing the PM) when its argument $\\omega_c/\\omega_o$ is maximized. This occurs when $\\omega_o$ is minimized.\nThe natural frequency $\\omega_o = 1/\\sqrt{LC}$ is minimized when the product $LC$ is maximized. Given the tolerances $L, C \\in \\{\\text{nominal} \\times (1 \\pm 0.20)\\}$, the maximum values are:\n$$\nL_{\\mathrm{max}} = 1.2 \\times L_{\\mathrm{nom}} \\quad \\text{and} \\quad C_{\\mathrm{max}} = 1.2 \\times C_{\\mathrm{nom}}\n$$\nThe worst-case (minimum) natural frequency, $\\omega_{o,\\mathrm{min}}$, is:\n$$\n\\omega_{o,\\mathrm{min}} = \\frac{1}{\\sqrt{L_{\\mathrm{max}} C_{\\mathrm{max}}}} = \\frac{1}{\\sqrt{(1.2 L_{\\mathrm{nom}}) (1.2 C_{\\mathrm{nom}})}} = \\frac{1}{1.2 \\sqrt{L_{\\mathrm{nom}} C_{\\mathrm{nom}}}} = \\frac{\\omega_{o,\\mathrm{nom}}}{1.2}\n$$\nThus, the worst-case phase margin, $\\text{PM}_{\\mathrm{min}}$, occurs at $\\omega_o = \\omega_{o,\\mathrm{min}}$. The ratio $\\omega_c/\\omega_o$ in this case is:\n$$\n\\frac{\\omega_c}{\\omega_{o,\\mathrm{min}}} = \\frac{1.6\\,\\omega_{o,\\mathrm{nom}}}{\\omega_{o,\\mathrm{nom}}/1.2} = 1.6 \\times 1.2 = 1.92\n$$\nThe minimum phase margin is given by:\n$$\n\\text{PM}_{\\mathrm{min}} = 90^\\circ - 2\\arctan(1.92) + \\arctan\\left(\\frac{\\omega_c}{\\omega_{z1}}\\right) + \\arctan\\left(\\frac{\\omega_c}{\\omega_{z2}}\\right)\n$$\nFirst, we calculate the phase contribution from the plant's double pole and the compensator's pole at the origin, evaluated at $\\omega_c$ under the worst-case condition:\n$$\n90^\\circ - 2\\arctan(1.92) \\approx 90^\\circ - 2(62.48^\\circ) = 90^\\circ - 124.96^\\circ = -34.96^\\circ\n$$\nSo, the condition $\\text{PM}_{\\mathrm{min}} > 50^\\circ$ becomes:\n$$\n-34.96^\\circ + \\arctan\\left(\\frac{\\omega_c}{\\omega_{z1}}\\right) + \\arctan\\left(\\frac{\\omega_c}{\\omega_{z2}}\\right) > 50^\\circ\n$$\nThe required phase boost from the two zeros must satisfy:\n$$\n\\text{Phase Boost} = \\arctan\\left(\\frac{\\omega_c}{\\omega_{z1}}\\right) + \\arctan\\left(\\frac{\\omega_c}{\\omega_{z2}}\\right) > 50^\\circ + 34.96^\\circ = 84.96^\\circ\n$$\n\n**4. Option-by-Option Analysis**\nWe now evaluate each option against this requirement.\n\n**A. $\\omega_{z1} = 0.833\\,\\omega_{o,\\mathrm{nom}}$ and $\\omega_{z2} = 1.25\\,\\omega_{o,\\mathrm{nom}}$.**\nThe frequency ratios for the zeros are:\n$$\n\\frac{\\omega_c}{\\omega_{z1}} = \\frac{1.6\\,\\omega_{o,\\mathrm{nom}}}{0.833\\,\\omega_{o,\\mathrm{nom}}} \\approx 1.9208\n$$\n$$\n\\frac{\\omega_c}{\\omega_{z2}} = \\frac{1.6\\,\\omega_{o,\\mathrm{nom}}}{1.25\\,\\omega_{o,\\mathrm{nom}}} = 1.28\n$$\nThe phase boost provided by these zeros is:\n$$\n\\text{Phase Boost} = \\arctan(1.9208) + \\arctan(1.28) \\approx 62.49^\\circ + 52.00^\\circ = 114.49^\\circ\n$$\nThe minimum phase margin is:\n$$\n\\text{PM}_{\\mathrm{min}} \\approx -34.96^\\circ + 114.49^\\circ = 79.53^\\circ\n$$\nSince $79.53^\\circ > 50^\\circ$, this option satisfies the requirement.\n**Verdict: Correct**\n\n**B. $\\omega_{z1} = \\omega_{o,\\mathrm{nom}}$ and $\\omega_{z2} = \\omega_{o,\\mathrm{nom}}$.**\nThis corresponds to a double zero at $\\omega_{o,\\mathrm{nom}}$. The frequency ratio is:\n$$\n\\frac{\\omega_c}{\\omega_{z1}} = \\frac{\\omega_c}{\\omega_{z2}} = \\frac{1.6\\,\\omega_{o,\\mathrm{nom}}}{\\omega_{o,\\mathrm{nom}}} = 1.6\n$$\nThe phase boost provided by this double zero is:\n$$\n\\text{Phase Boost} = 2 \\times \\arctan(1.6) \\approx 2 \\times 57.99^\\circ = 115.98^\\circ\n$$\nThe minimum phase margin is:\n$$\n\\text{PM}_{\\mathrm{min}} \\approx -34.96^\\circ + 115.98^\\circ = 81.02^\\circ\n$$\nSince $81.02^\\circ > 50^\\circ$, this option satisfies the requirement.\n**Verdict: Correct**\n\n**C. $\\omega_{z1} = 3\\,\\omega_{o,\\mathrm{nom}}$ and $\\omega_{z2} = 3\\,\\omega_{o,\\mathrm{nom}}$.**\nThis corresponds to a double zero at $3\\,\\omega_{o,\\mathrm{nom}}$. The frequency ratio is:\n$$\n\\frac{\\omega_c}{\\omega_{z1}} = \\frac{\\omega_c}{\\omega_{z2}} = \\frac{1.6\\,\\omega_{o,\\mathrm{nom}}}{3\\,\\omega_{o,\\mathrm{nom}}} = \\frac{1.6}{3} \\approx 0.5333\n$$\nThe phase boost provided by this double zero is:\n$$\n\\text{Phase Boost} = 2 \\times \\arctan(0.5333) \\approx 2 \\times 28.07^\\circ = 56.14^\\circ\n$$\nThe minimum phase margin is:\n$$\n\\text{PM}_{\\mathrm{min}} \\approx -34.96^\\circ + 56.14^\\circ = 21.18^\\circ\n$$\nSince $21.18^\\circ$ is not strictly greater than $50^\\circ$, this option does not satisfy the requirement.\n**Verdict: Incorrect**\n\n**D. $\\omega_{z1} = 0.6\\,\\omega_{o,\\mathrm{nom}}$ and $\\omega_{z2} = 0.6\\,\\omega_{o,\\mathrm{nom}}$.**\nThis corresponds to a double zero at $0.6\\,\\omega_{o,\\mathrm{nom}}$. The frequency ratio is:\n$$\n\\frac{\\omega_c}{\\omega_{z1}} = \\frac{\\omega_c}{\\omega_{z2}} = \\frac{1.6\\,\\omega_{o,\\mathrm{nom}}}{0.6\\,\\omega_{o,\\mathrm{nom}}} = \\frac{1.6}{0.6} = \\frac{8}{3} \\approx 2.6667\n$$\nThe phase boost provided by this double zero is:\n$$\n\\text{Phase Boost} = 2 \\times \\arctan(2.6667) \\approx 2 \\times 69.44^\\circ = 138.88^\\circ\n$$\nThe minimum phase margin is:\n$$\n\\text{PM}_{\\mathrm{min}} \\approx -34.96^\\circ + 138.88^\\circ = 103.92^\\circ\n$$\nSince $103.92^\\circ > 50^\\circ$, this option satisfies the requirement.\n**Verdict: Correct**\n\nIn summary, options A, B, and D all provide sufficient phase boost to meet the worst-case phase margin requirement of being strictly greater than $50^\\circ$.",
            "answer": "$$\\boxed{ABD}$$"
        }
    ]
}