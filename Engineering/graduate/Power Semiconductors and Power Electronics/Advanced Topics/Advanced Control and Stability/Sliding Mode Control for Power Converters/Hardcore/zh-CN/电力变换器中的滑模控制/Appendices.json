{
    "hands_on_practices": [
        {
            "introduction": "滑模控制 (SMC) 的核心是“等效控制” ($u_{eq}$) 的概念，它代表了将系统维持在滑模面上所需的理想控制量。为了计算此控制量，一个精确的功率变换器模型至关重要。本练习将引导您使用状态空间平均法推导降压变换器的小信号传递函数，这不仅能巩固您的建模技能，还能在经典控制理论（传递函数）与滑模控制原理之间建立起关键的桥梁，阐明系统动态模型如何为控制器设计提供信息 。",
            "id": "3879760",
            "problem": "一个降压直流-直流转换器（“buck”转换器）工作在连续导通模式（CCM）下。其功率级由一个理想的高侧可控开关、一个理想二极管、一个电感为 $L$ 且串联电阻为 $r_{L}$ 的电感器，以及一个电容为 $C$ 且等效串联电阻为 $r_{C}$ 的输出电容器组成。负载为电阻 $R$。输入源为直流电压 $V_{g}$，假定为恒定值。输出节点电压 $v_{o}(t)$ 是负载所见的电压，它是在电容器及其等效串联电阻的串联组合上测得的电压。定义状态变量为 $x_{1}(t) = i_{L}(t)$（电感电流）和 $x_{2}(t) = v_{C}(t)$（电容电压），并注意以下由基尔霍夫定律得出的本构关系：$L\\,\\frac{d i_{L}}{dt} = v_{L}$、$C\\,\\frac{d v_{C}}{dt} = i_{C}$、$v_{o}(t) = v_{C}(t) + r_{C}\\,i_{C}(t)$ 以及 $i_{C}(t) = i_{L}(t) - \\frac{v_{o}(t)}{R}$。\n\n使用状态空间平均法在一个开关周期内对占空比为 $u(t) \\in [0,1]$ 的系统进行处理，推导在一个稳态工作点（占空比为 $D$）附近的小信号占空比-输出电压传递函数 $G_{vd}(s) = \\frac{\\hat{v}_{o}(s)}{\\hat{d}(s)}$。其中，帽子符号表示围绕平衡点的小扰动，$s$ 是拉普拉斯变换中的复频率变量。假设开关和二极管是理想的（零压降），系统处于稳态CCM，且输入源扰动为零（即 $\\hat{v}_{g}(s) = 0$）。请以 $L$、$r_{L}$、$C$、$r_{C}$、$R$、$V_{g}$ 和 $s$ 的单个闭式解析表达式形式给出 $G_{vd}(s)$ 的最终答案。\n\n然后，简要解释为何在滑模控制（SMC）中，对于计算滑模面 $s(x)=0$ 上的等效控制 $u_{eq}$ 而言，占空比-输出传递函数是相关的。其中，$s(x)$ 是由转换器的状态和参考信号构成的线性滑模变量。该解释必须是定性的，并基于第一性原理（例如，从流形上的 $\\dot{s}(x) = 0$ 开始），不得引用任何预先记忆的控制器公式。\n\n将最终传递函数 $G_{vd}(s)$ 表示为解析表达式；无需进行数值计算。",
            "solution": "用户提供的问题经评估有效。该问题在科学上基于电力电子学和控制理论的原理，阐述清晰，信息充分，可得出唯一解，且表述客观。为buck转换器推导小信号传递函数，并定性解释其与滑模控制的相关性，是该领域的标准且非平凡的任务。\n\n按照要求，解答分为两部分。第一部分推导占空比-输出电压传递函数，第二部分解释其与滑模控制（SMC）中等效控制计算的相关性。\n\n第1部分：传递函数 $G_{vd}(s)$ 的推导\n\n推导过程使用状态空间平均法。首先，我们建立转换器的状态空间模型。\n\n状态变量定义为 $x_1(t) = i_L(t)$ 和 $x_2(t) = v_C(t)$。状态向量为 $x(t) = \\begin{pmatrix} i_L(t) \\\\ v_C(t) \\end{pmatrix}$。控制输入是占空比，记为 $u(t)$。\n\n根据问题陈述，基于基尔霍夫定律我们有以下关系：\n1. 输出电压： $v_o(t) = v_C(t) + r_C i_C(t)$\n2. 电容电流： $i_C(t) = i_L(t) - \\frac{v_o(t)}{R}$\n\n将第二个方程代入第一个方程，我们可以用状态变量 $i_L(t)$ 和 $v_C(t)$ 表示输出电压 $v_o(t)$：\n$v_o(t) = v_C(t) + r_C \\left( i_L(t) - \\frac{v_o(t)}{R} \\right)$\n$v_o(t) \\left( 1 + \\frac{r_C}{R} \\right) = v_C(t) + r_C i_L(t)$\n$v_o(t) = \\frac{R(v_C(t) + r_C i_L(t))}{R + r_C}$\n\n现在我们写出状态导数方程。电容电压的动态特性由下式给出：\n$C \\frac{d v_C}{dt} = i_C = i_L - \\frac{v_o}{R} = i_L - \\frac{v_C + r_C i_L}{R + r_C}$\n$C \\frac{d v_C}{dt} = \\left( 1 - \\frac{r_C}{R+r_C} \\right) i_L - \\frac{1}{R+r_C} v_C = \\frac{R}{R+r_C} i_L - \\frac{1}{R+r_C} v_C$\n$\\frac{d v_C}{dt} = \\frac{R}{C(R+r_C)} i_L - \\frac{1}{C(R+r_C)} v_C$\n此方程与开关状态无关。\n\n电感电流的动态特性取决于开关状态。电感回路的通用KVL方程为 $v_L = u(t)V_g - r_L i_L - v_o$，其中当开关闭合时 $u(t) = 1$，当开关断开时（理想二极管导通）$u(t) = 0$。使用状态空间平均法，我们将开关输入 $u(t) \\in \\{0,1\\}$ 替换为其局部平均值，即占空比 $u(t) \\in [0,1]$。\n$L \\frac{d i_L}{dt} = u(t)V_g - r_L i_L - v_o$\n代入 $v_o$ 的表达式：\n$L \\frac{d i_L}{dt} = u(t)V_g - r_L i_L - \\frac{R(v_C + r_C i_L)}{R+r_C}$\n$L \\frac{d i_L}{dt} = u(t)V_g - \\left( r_L + \\frac{R r_C}{R+r_C} \\right) i_L - \\frac{R}{R+r_C} v_C$\n$\\frac{d i_L}{dt} = -\\frac{1}{L}\\left(r_L + \\frac{R r_C}{R+r_C}\\right) i_L - \\frac{R}{L(R+r_C)} v_C + \\frac{V_g}{L} u(t)$\n\n现在我们可以写出平均化的状态空间模型 $\\dot{x} = A x + B_u u(t)$：\n$$\n\\frac{d}{dt} \\begin{pmatrix} i_L \\\\ v_C \\end{pmatrix} = \n\\begin{pmatrix} \n-\\frac{1}{L}\\left(r_L + \\frac{R r_C}{R+r_C}\\right)  -\\frac{R}{L(R+r_C)} \\\\ \n\\frac{R}{C(R+r_C)}  -\\frac{1}{C(R+r_C)} \n\\end{pmatrix} \n\\begin{pmatrix} i_L \\\\ v_C \\end{pmatrix} + \n\\begin{pmatrix} \\frac{V_g}{L} \\\\ 0 \\end{pmatrix} u(t)\n$$\n输出方程为 $v_o(t) = \\frac{R r_C}{R+r_C} i_L(t) + \\frac{R}{R+r_C} v_C(t)$。这可以写成 $y(t) = C_{out}x(t)$，其中输出矩阵为 $C_{out} = \\begin{pmatrix} \\frac{R r_C}{R+r_C}  \\frac{R}{R+r_C} \\end{pmatrix}$。\n\n为了求得小信号传递函数，我们在一个直流工作点 $X = \\begin{pmatrix} I_L \\\\ V_C \\end{pmatrix}$（对应于恒定占空比 $u=D$ 和输入电压 $v_g=V_g$）附近对系统进行线性化。小信号模型由 $\\dot{\\hat{x}} = A\\hat{x} + B_u \\hat{d}$ 和 $\\hat{y} = C_{out}\\hat{x}$ 给出，其中帽子符号表示小信号扰动。注意输入源扰动为零，$\\hat{v}_g=0$。\n向量 $B_u$ 是 $\\begin{pmatrix} V_g/L \\\\ 0 \\end{pmatrix}$。\n\n对小信号方程进行拉普拉斯变换：\n$s\\hat{x}(s) = A\\hat{x}(s) + B_u \\hat{d}(s)$\n$\\hat{v}_o(s) = C_{out}\\hat{x}(s)$\n\n从第一个方程，我们求解 $\\hat{x}(s)$：\n$(sI-A)\\hat{x}(s) = B_u \\hat{d}(s) \\implies \\hat{x}(s) = (sI-A)^{-1} B_u \\hat{d}(s)$\n将其代入输出方程，得到传递函数：\n$G_{vd}(s) = \\frac{\\hat{v}_o(s)}{\\hat{d}(s)} = C_{out}(sI-A)^{-1}B_u$\n\n我们来计算各个分量。\n$sI-A = \\begin{pmatrix} s + \\frac{1}{L}\\left(r_L + \\frac{R r_C}{R+r_C}\\right)  \\frac{R}{L(R+r_C)} \\\\ -\\frac{R}{C(R+r_C)}  s + \\frac{1}{C(R+r_C)} \\end{pmatrix}$\n\n行列式是：\n$\\det(sI-A) = \\left(s + \\frac{r_L}{L} + \\frac{R r_C}{L(R+r_C)}\\right)\\left(s + \\frac{1}{C(R+r_C)}\\right) + \\frac{R^2}{LC(R+r_C)^2}$\n$\\det(sI-A) = s^2 + s\\left(\\frac{r_L}{L} + \\frac{R r_C}{L(R+r_C)} + \\frac{1}{C(R+r_C)}\\right) + \\frac{r_L}{LC(R+r_C)} + \\frac{R r_C}{LC(R+r_C)^2} + \\frac{R^2}{LC(R+r_C)^2}$\n合并同类项，可以找到分母多项式的系数。\n$s^2$ 的系数：$1$\n$s$ 的系数：$\\frac{L+C(r_L(R+r_C)+Rr_C)}{LC(R+r_C)}$\n常数项：$\\frac{r_L(R+r_C)+Rr_C+R^2}{LC(R+r_C)^2} = \\frac{(R+r_L)(R+r_C)}{LC(R+r_C)^2} = \\frac{R+r_L}{LC(R+r_C)}$\n因此，$\\det(sI-A) = \\frac{s^2LC(R+r_C) + s(L+C[r_L(R+r_C)+Rr_C]) + R+r_L}{LC(R+r_C)}$。\n\n逆矩阵是：\n$(sI-A)^{-1} = \\frac{1}{\\det(sI-A)} \\begin{pmatrix} s + \\frac{1}{C(R+r_C)}  -\\frac{R}{L(R+r_C)} \\\\ \\frac{R}{C(R+r_C)}  s + \\frac{r_L}{L} + \\frac{R r_C}{L(R+r_C)} \\end{pmatrix}$\n\n现在我们计算乘积 $C_{out}(sI-A)^{-1}B_u$：\n$(sI-A)^{-1}B_u = \\frac{1}{\\det(sI-A)} \\begin{pmatrix} s + \\frac{1}{C(R+r_C)} \\\\ \\frac{R}{C(R+r_C)} \\end{pmatrix} \\frac{V_g}{L}$\n$G_{vd}(s) = C_{out} \\left( (sI-A)^{-1}B_u \\right) = \\frac{V_g}{L\\det(sI-A)} \\begin{pmatrix} \\frac{R r_C}{R+r_C}  \\frac{R}{R+r_C} \\end{pmatrix} \\begin{pmatrix} s + \\frac{1}{C(R+r_C)} \\\\ \\frac{R}{C(R+r_C)} \\end{pmatrix}$\n$G_{vd}(s) = \\frac{V_g}{L\\det(sI-A)} \\left[ \\frac{R r_C}{R+r_C}\\left(s + \\frac{1}{C(R+r_C)}\\right) + \\frac{R^2}{C(R+r_C)^2} \\right]$\n$G_{vd}(s) = \\frac{V_g}{L\\det(sI-A)} \\left[ \\frac{s R r_C C(R+r_C) + R r_C + R^2}{C(R+r_C)^2} \\right]$\n$G_{vd}(s) = \\frac{V_g}{L\\det(sI-A)} \\left[ \\frac{s R r_C C(R+r_C) + R(R+r_C)}{C(R+r_C)^2} \\right] = \\frac{V_g}{L\\det(sI-A)} \\frac{R(sCr_C+1)}{C(R+r_C)}$\n\n代入 $\\det(sI-A)$ 的表达式：\n$G_{vd}(s) = \\frac{V_g}{L} \\frac{LC(R+r_C)}{s^2LC(R+r_C) + s(L+C[r_L(R+r_C)+Rr_C]) + R+r_L} \\frac{R(1+sCr_C)}{C(R+r_C)}$\n$G_{vd}(s) = \\frac{V_g R(1+sCr_C)}{s^2LC(R+r_C) + s(L+Cr_L(R+r_C)+CRr_C) + (R+r_L)}$\n这就是传递函数的最终表达式。\n\n第2部分：$G_{vd}(s)$ 与SMC等效控制的相关性\n\n滑模控制（SMC）通过在状态空间中定义一个滑模面（或流形）来工作，通常表示为 $s(x)=0$，其中 $x$ 是状态向量。控制目标是驱动系统的状态轨迹到达此流形，并在所有后续时间内保持在该流形上。状态轨迹保持在流形上的条件是不变性条件，即 $\\dot{s}(x)=0$。\n\n滑模变量的时间导数通过链式法则求得：$\\dot{s}(x) = \\frac{\\partial s}{\\partial x}\\dot{x}$。转换器的动态特性由状态方程 $\\dot{x} = f(x, u)$ 描述，对于平均化的buck转换器模型，该方程为 $\\dot{x} = Ax + B_u u$。这里的 $u$ 代表连续的占空比。\n\n不变性条件变为 $\\frac{\\partial s}{\\partial x}f(x, u) = 0$。**等效控制**，记为 $u_{eq}$，是满足此代数方程的理想、连续的控制输入 $u$。它代表了为完全抵消系统动态并将状态保持在滑模面上所需的控制作用。求解 $u_{eq}$ 会得到一个依赖于系统状态 $x$ 和封装在 $f(x,u)$ 中的系统模型参数的表达式。对于线性系统，这将是 $u_{eq} = -(\\frac{\\partial s}{\\partial x} B_u)^{-1}(\\frac{\\partial s}{\\partial x} A x)$。\n\n传递函数 $G_{vd}(s) = \\frac{\\hat{v}_o(s)}{\\hat{d}(s)}$ 是线性化系统动态特性的频域表示，它具体描述了控制输入（占空比扰动 $\\hat{d}$）如何影响输出电压扰动 $\\hat{v}_o$。输出电压是状态变量的函数，$v_o=g(x)$。在许多电力转换器的SMC应用中，滑模变量 $s(x)$ 被构造成状态误差的线性组合，这通常包括输出电压误差，例如，$s(x) = k_1(i_L - I_{L,ref}) + k_2(v_o - V_{o,ref})$。\n\n要计算迫使 $\\dot{s}(x)=0$ 的等效控制 $u_{eq}$，必须有一个描述 $u$ 如何影响 $\\dot{s}$ 的数学模型。由于 $\\dot{s}$ 是 $\\dot{x}$ 以及潜在的 $\\dot{v}_o$ 的函数，而这些导数由系统动态特性决定，因此了解这些动态特性至关重要。传递函数 $G_{vd}(s)$ 正是这些动态特性的一个紧凑和标准的表示。它封装了控制输入与关键系统输出之间的关系。因此，包含在 $G_{vd}(s)$ 中的信息，或推导它所依据的底层状态空间模型（$A$、$B_u$、$C_{out}$），是解析计算等效控制 $u_{eq}$ 的一个基本先决条件。本质上，计算 $u_{eq}$ 是一种模型求逆的行为，而 $G_{vd}(s)$ 提供了待求逆的模型。",
            "answer": "$$\\boxed{\\frac{V_{g} R(1+sCr_{C})}{s^{2}LC(R+r_{C}) + s(L+C[r_{L}(R+r_{C})+Rr_{C}]) + (R+r_{L})}}$$"
        },
        {
            "introduction": "控制设计中的一个常见陷阱是只关注输出而忽略系统的内部状态。对于某些功率变换器，如升压变换器，这样做可能会导致不稳定。本练习通过分析直接电压模式滑模控制下的升压变换器，深入探讨了“零动态”这一概念。通过计算系统的相对阶并检验其在输出被完美调节时的内部动态，您将发现为何这种简单的控制策略对于非最小相位系统存在根本性缺陷，并学到分析内部稳定性的重要性 。",
            "id": "3879773",
            "problem": "考虑一个在高频脉冲宽度调制 (PWM) 下工作于连续导通模式 (CCM) 的理想直流-直流升压变换器。该变换器由一个输入源电压 $V_{\\text{in}}$、一个电感为 $L$ 的电感器、一个开关、一个二极管、一个电容为 $C$ 的输出电容器以及一个电阻为 $R$ 的阻性负载组成。假设所有半导体器件都是理想的，并且由于开关频率足够高，在一个 PWM 周期内进行平均是有效的。设控制输入为占空比 $u \\in [0,1]$，定义为在每个 PWM 周期内开关闭合（ON）状态所占时间的比例。设输出电压为 $v_{o}$，电感电流为 $i_{L}$。滑动变量定义为 $s = v_{o} - v_{\\text{ref}}$，其中 $v_{\\text{ref}}$ 是一个恒定的参考值。\n\n严格地从基尔霍夫电压定律 (KVL) 和基尔霍夫电流定律 (KCL) 出发，结合电感器 ($v_{L} = L \\, d i_{L}/dt$) 和电容器 ($i_{C} = C \\, d v_{o}/dt$) 的本构关系，推导 CCM 下升压变换器关于占空比 $u$ 和状态 $(i_{L}, v_{o})$ 的平均状态空间动态方程。使用单输入单输出 (SISO) 非线性系统的相对阶的严格定义——即控制输入 $u$ 显式出现在输出 $s$ 的 $r$ 阶时间导数中的最小整数 $r$——计算当选择 $s = v_{o} - v_{\\text{ref}}$ 时的相对阶 $r$。\n\n然后，通过强制 $s = 0$ 和 $\\dot{s} = 0$ 并通过等效控制概念消除控制输入，获得当在 $s$ 上施加理想滑动时与电感电流 $i_{L}$ 相关的内部动态或零动态。利用此内部动态，从第一性原理出发，解释为什么在 $s = v_{o} - v_{\\text{ref}}$ 上进行直接电压模式滑模可能会使升压变换器的内部动态不稳定。\n\n以相对阶 $r$ 的整数值形式提供最终答案。不需要单位。不要四舍五-入。",
            "solution": "该问题要求分析滑模控制下的直流-直流升压变换器。分析将分四个阶段进行：首先，推导变换器的状态空间平均动态模型；其次，计算系统相对于输出变量的相对阶；第三，推导系统的零动态；最后，分析这些零动态的稳定性。\n\n**1. 状态空间平均动态**\n\n理想升压变换器的行为由两个线性时不变系统描述，对应于开关的两种状态。设开关周期为 $T_s$，占空比为 $u$，其中 $u \\in [0, 1]$ 是开关闭合（ON）状态所占周期的比例。\n\n*   **状态 1：开关闭合（区间 $[0, uT_s]$）**\n    当主开关闭合（ON）时，二极管反向偏置，不导通。\n    对输入回路应用基尔霍夫电压定律 (KVL) 可得：\n    $$ V_{\\text{in}} - v_L = 0 \\implies v_L = L \\frac{di_L}{dt} = V_{\\text{in}} $$\n    这给出了电感电流的动态方程：\n    $$ \\frac{di_L}{dt} = \\frac{V_{\\text{in}}}{L} $$\n    在输出节点应用基尔霍夫电流定律 (KCL)，电容器向负载电阻 $R$ 提供电流：\n    $$ i_C + \\frac{v_o}{R} = 0 \\implies C \\frac{dv_o}{dt} = - \\frac{v_o}{R} $$\n    这给出了输出电压的动态方程：\n    $$ \\frac{dv_o}{dt} = - \\frac{v_o}{RC} $$\n\n*   **状态 2：开关断开（区间 $[uT_s, T_s]$）**\n    当主开关断开（OFF）时，电感电流使二极管正向偏置，二极管变为导通状态。\n    对包含电源、电感器、二极管和负载的回路应用 KVL 可得：\n    $$ V_{\\text{in}} - v_L - v_o = 0 \\implies v_L = L \\frac{di_L}{dt} = V_{\\text{in}} - v_o $$\n    这给出了电感电流的动态方程：\n    $$ \\frac{di_L}{dt} = \\frac{V_{\\text{in}} - v_o}{L} $$\n    在输出节点应用 KCL，电感电流在电容器和负载之间分流：\n    $$ i_L = i_C + \\frac{v_o}{R} \\implies C \\frac{dv_o}{dt} = i_L - \\frac{v_o}{R} $$\n    这给出了输出电压的动态方程：\n    $$ \\frac{dv_o}{dt} = \\frac{i_L}{C} - \\frac{v_o}{RC} $$\n\n*   **平均模型**\n    假设开关频率足够高，状态动态可以通过在一个周期 $T_s$ 内取平均来近似。平均模型是每个状态下动态的加权和，权重为占空比 $u$ 和 $(1-u)$。\n    电感电流 $i_L$ 的平均导数为：\n    $$ \\frac{di_L}{dt} = u \\left( \\frac{V_{\\text{in}}}{L} \\right) + (1-u) \\left( \\frac{V_{\\text{in}} - v_o}{L} \\right) = \\frac{uV_{\\text{in}} + V_{\\text{in}} - v_o - uV_{\\text{in}} + uv_o}{L} = \\frac{V_{\\text{in}} - (1-u)v_o}{L} $$\n    输出电压 $v_o$ 的平均导数为：\n    $$ \\frac{dv_o}{dt} = u \\left( -\\frac{v_o}{RC} \\right) + (1-u) \\left( \\frac{i_L}{C} - \\frac{v_o}{RC} \\right) = \\frac{(1-u)i_L}{C} - \\frac{uv_o}{RC} - \\frac{(1-u)v_o}{RC} = \\frac{(1-u)i_L}{C} - \\frac{v_o}{RC} $$\n    因此，平均状态空间模型为：\n    $$ \\frac{di_L}{dt} = \\frac{V_{\\text{in}}}{L} - \\frac{(1-u)v_o}{L} $$\n    $$ \\frac{dv_o}{dt} = \\frac{(1-u)i_L}{C} - \\frac{v_o}{RC} $$\n\n**2. 相对阶的计算**\n\n单输入单输出 (SISO) 系统的相对阶 $r$ 是指为了使控制输入显式出现，输出必须对时间求导的次数。输出由滑动变量 $s = v_o - v_{\\text{ref}}$ 定义。控制输入为占空比 $u$。\n\n设输出为 $y = s(t) = v_o(t) - v_{\\text{ref}}$。由于 $v_{\\text{ref}}$ 是一个常数，其时间导数为零。\n输出 $y$ 的一阶时间导数为：\n$$ \\dot{y} = \\frac{ds}{dt} = \\frac{d}{dt}(v_o - v_{\\text{ref}}) = \\frac{dv_o}{dt} $$\n代入 $\\frac{dv_o}{dt}$ 的平均状态方程：\n$$ \\dot{s} = \\frac{(1-u)i_L}{C} - \\frac{v_o}{RC} = \\frac{i_L}{C} - \\frac{v_o}{RC} - u \\frac{i_L}{C} $$\n控制输入 $u$ 在这个一阶导数中显式出现。乘以 $u$ 的项是 $-\\frac{i_L}{C}$。在连续导通模式 (CCM) 下，电感电流 $i_L$ 始终为正，因此 $i_L > 0$。由于 $C > 0$，系数 $-\\frac{i_L}{C}$ 非零。\n因此，根据定义，相对阶 $r$ 为 $1$。\n\n**3. 零动态的推导**\n\n零动态描述了系统在被约束到滑动面 $s(t) = 0$ 上的内部行为。强制施加此条件意味着对于所有时间 $t > 0$，$s(t)$ 及其所有时间导数均为零。\n我们强制施加条件 $s(t)=0$ 和 $\\dot{s}(t)=0$。\n\n由 $s = v_o - v_{\\text{ref}} = 0$，我们得到约束条件：\n$$ v_o = v_{\\text{ref}} $$\n由 $\\dot{s} = 0$，我们得到：\n$$ \\frac{(1-u)i_L}{C} - \\frac{v_o}{RC} = 0 $$\n维持这些条件的控制输入 $u$ 被称为等效控制 $u_{eq}$。将 $v_o = v_{\\text{ref}}$ 代入 $\\dot{s}=0$ 方程，可以解出 $u_{eq}$：\n$$ \\frac{(1-u_{eq})i_L}{C} - \\frac{v_{\\text{ref}}}{RC} = 0 $$\n$$ (1-u_{eq})i_L = \\frac{v_{\\text{ref}}}{R} $$\n$$ 1 - u_{eq} = \\frac{v_{\\text{ref}}}{R i_L} $$\n这个关于 $(1-u_{eq})$ 的表达式代表了将状态轨迹保持在滑动面上所需的控制作用。\n\n通过将这些约束（$v_o = v_{\\text{ref}}$ 和 $1-u_{eq}$ 的表达式）代入未用于定义输出的状态方程，即电感电流 $i_L$ 的方程，可以找到内部动态（或称零动态）：\n$$ \\frac{di_L}{dt} = \\frac{V_{\\text{in}}}{L} - \\frac{(1-u_{eq})v_o}{L} $$\n代入推导出的表达式：\n$$ \\frac{di_L}{dt} = \\frac{V_{\\text{in}}}{L} - \\frac{1}{L} \\left(\\frac{v_{\\text{ref}}}{R i_L}\\right) (v_{\\text{ref}}) $$\n$$ \\frac{di_L}{dt} = \\frac{V_{\\text{in}}}{L} - \\frac{v_{\\text{ref}}^2}{L R i_L} $$\n这个一阶非线性微分方程描述了当系统被完美约束在滑动面 $s=0$ 上时，电感电流 $i_L$ 的演化过程。这就是系统的零动态。\n\n**4. 零动态的稳定性分析**\n\n为了理解为什么直接电压模式滑模控制可能存在问题，我们分析零动态的稳定性。零动态的平衡点记为 $I_{L,eq}$，通过令 $\\frac{di_L}{dt} = 0$ 求得：\n$$ \\frac{V_{\\text{in}}}{L} - \\frac{v_{\\text{ref}}^2}{L R I_{L,eq}} = 0 $$\n$$ V_{\\text{in}} = \\frac{v_{\\text{ref}}^2}{R I_{L,eq}} \\implies I_{L,eq} = \\frac{v_{\\text{ref}}^2}{R V_{\\text{in}}} $$\n这是理想升压变换器中的预期稳态电感电流，其中输入功率 $V_{\\text{in}}I_L$ 等于输出功率 $V_o^2/R$。\n\n为了分析该平衡点的局部稳定性，我们在 $I_{L,eq}$ 附近对零动态进行线性化。设动态方程的右侧为 $f(i_L) = \\frac{V_{\\text{in}}}{L} - \\frac{v_{\\text{ref}}^2}{L R i_L}$。稳定性由雅可比矩阵的符号决定，在这种标量情况下，即为在平衡点处求值的导数 $\\frac{df}{di_L}$。\n$$ \\frac{df}{di_L} = \\frac{d}{di_L} \\left( \\frac{V_{\\text{in}}}{L} - \\frac{v_{\\text{ref}}^2}{L R} i_L^{-1} \\right) = - \\frac{v_{\\text{ref}}^2}{L R} (-1) i_L^{-2} = \\frac{v_{\\text{ref}}^2}{L R i_L^2} $$\n在平衡点 $i_L = I_{L,eq}$ 处：\n$$ \\left. \\frac{df}{di_L} \\right|_{i_L = I_{L,eq}} = \\frac{v_{\\text{ref}}^2}{L R I_{L,eq}^2} $$\n由于所有参数 $L$、$R$ 和 $v_{\\text{ref}}$ 均为正，且对于任何非平凡的工作点 $I_{L,eq}^2$ 也为正，所以该导数严格为正：\n$$ \\left. \\frac{df}{di_L} \\right|_{i_L = I_{L,eq}} > 0 $$\n平衡点处的正导数表明该平衡点是**不稳定**的。任何来自平衡点 $I_{L,eq}$ 的小扰动 $\\delta i_L$ 都会增长。例如，如果 $i_L$ 变得略大于 $I_{L,eq}$，$\\frac{di_L}{dt}$ 会变为正值，导致 $i_L$ 进一步增加。相反，如果 $i_L$ 变得略小于 $I_{L,eq}$，$\\frac{di_L}{dt}$ 会变为负值，导致 $i_L$ 减小。\n\n零动态的这种不稳定性表明，升压变换器是一个相对于输出电压的**非最小相位**系统。试图在表面 $s = v_o - v_{\\text{ref}} = 0$ 上强制实现理想滑模运动会导致电感电流的内部动态不稳定。这意味着这种控制方案存在根本性缺陷，因为任何偏离理想滑动面的微小偏差都会导致电感电流不受控制地增长或崩溃，从而使整个变换器失稳。这是在升压和升降压变换器控制中一个众所周知的局限性。\n\n最后要求的量是相对阶 $r$，其计算结果为 $1$。",
            "answer": "$$\n\\boxed{1}\n$$"
        },
        {
            "introduction": "理想的滑模控制器需要无限快的开关切换，这在物理上是无法实现的。在实践中，我们采用滞环控制等方法，但这会导致一个有限且可变的开关频率。本练习提供了一种动手计算方法，用于估算由实用的滞环滑模控制器控制的降压变换器的开关频率。通过分析滑模变量的轨迹，您将了解到变换器参数和滞环宽度如何直接影响这一关键性能指标，这对于设计高效可靠的功率变换器至关重要 。",
            "id": "3879719",
            "problem": "一个降压型直流-直流Buck变换器从一个恒定输入源为一个阻性负载供电。该变换器由一个理想开关、一个电感值为 $L$ 的电感器、一个电容值为 $C$ 的电容器和一个负载电阻 $R$ 组成。状态变量是电感电流 $i_{L}(t)$ 和跨接在电容器与负载两端的输出电压 $v(t)$。假设对于两种开关位置 $u \\in \\{0,1\\}$，采用标准的分段仿射平均模型：\n- 当 $u=1$ 时（开关导通）：$\\dfrac{d i_{L}}{d t} = \\dfrac{V_{g} - v}{L}$ 且 $\\dfrac{d v}{d t} = \\dfrac{i_{L} - v/R}{C}$。\n- 当 $u=0$ 时（开关断开）：$\\dfrac{d i_{L}}{d t} = \\dfrac{0 - v}{L}$ 且 $\\dfrac{d v}{d t} = \\dfrac{i_{L} - v/R}{C}$。\n\n一个滑模控制（SMC）律通过作用于滑模变量的滞环比较器来实现\n$$\ns(t) = \\big(i_{L}(t) - I_{\\mathrm{ref}}\\big) + k\\big(v(t) - V_{\\mathrm{ref}}\\big),\n$$\n其中参考电流为 $I_{\\mathrm{ref}} = V_{\\mathrm{ref}}/R$，而 $k$ 是一个正的有量纲增益。该比较器强制执行继电控制律：当 $s \\leq -\\phi$ 时 $u = 1$，当 $s \\geq +\\phi$ 时 $u = 0$，其对称滞环带的半宽度为 $\\phi>0$。假设滞环带足够小，以至于在每个半开关区间内，$i_{L}$ 和 $v$ 可以被视为近似恒定，因此 $s(t)$ 的时间演化在每个半周期内是具有恒定斜率的分段线性函数。在平衡点 $v \\approx V_{\\mathrm{ref}}$ 和 $i_{L} \\approx I_{\\mathrm{ref}}$ 附近的稳态运行条件下，通过分析 $s(t)$ 在每个开关位置的斜率，并将其轨迹建模为在 $\\pm \\phi$ 之间的三角波，来近似计算开关频率。\n\n使用以下参数值：\n- 电感 $L = 50\\,\\mu\\mathrm{H}$，\n- 电容 $C = 220\\,\\mu\\mathrm{F}$，\n- 负载 $R = 4\\,\\Omega$，\n- 输入电压 $V_{g} = 24\\,\\mathrm{V}$，\n- 参考电压 $V_{\\mathrm{ref}} = 12\\,\\mathrm{V}$，\n- 滑模增益 $k = 3\\,\\mathrm{A/V}$，\n- 滞环半宽度 $\\phi = 0.25\\,\\mathrm{A}$。\n\n从第一性原理推导近似开关频率的解析表达式，然后根据给定参数计算其数值。将您的答案四舍五入到四位有效数字。以 $\\mathrm{kHz}$ 为单位表示开关频率。最终答案必须是单个实数值。",
            "solution": "该问题是有效的。这是电力电子控制领域中的一个适定问题，具体涉及直流-直流Buck变换器的滑模控制。问题陈述具有科学依据、内容自洽，并提供了所有必要信息和合理的近似，以推导出唯一解。\n\n目标是推导带滞环滑模控制下Buck变换器近似开关频率的解析表达式，然后计算其数值。\n\n系统动力学由两组线性微分方程给出，分别对应于开关导通（$u=1$）和断开（$u=0$）。状态变量是电感电流 $i_L(t)$ 和电容电压 $v(t)$。\n\n当 $u=1$ 时：\n$$ \\frac{d i_{L}}{d t} = \\frac{V_{g} - v}{L} $$\n$$ \\frac{d v}{d t} = \\frac{i_{L} - v/R}{C} $$\n\n当 $u=0$ 时：\n$$ \\frac{d i_{L}}{d t} = \\frac{-v}{L} $$\n$$ \\frac{d v}{d t} = \\frac{i_{L} - v/R}{C} $$\n\n滑模变量 $s(t)$ 被定义为状态误差的线性组合：\n$$ s(t) = \\big(i_{L}(t) - I_{\\mathrm{ref}}\\big) + k\\big(v(t) - V_{\\mathrm{ref}}\\big) $$\n其中 $I_{\\mathrm{ref}} = V_{\\mathrm{ref}}/R$，$k$ 是一个恒定增益。控制律是带滞环的继电控制：\n$$ u(t) = \\begin{cases} 1  \\text{若 } s(t) \\leq -\\phi \\\\ 0  \\text{若 } s(t) \\geq +\\phi \\end{cases} $$\n这迫使滑模变量 $s(t)$ 保持在滞环带 $[-\\phi, +\\phi]$ 内。\n\n为了求得开关频率，我们首先计算滑模变量的时间导数 $\\dot{s}(t)$：\n$$ \\dot{s}(t) = \\frac{d s}{d t} = \\frac{d}{dt}\\left[ \\big(i_{L}(t) - I_{\\mathrm{ref}}\\big) + k\\big(v(t) - V_{\\mathrm{ref}}\\big) \\right] $$\n由于 $I_{\\mathrm{ref}}$ 和 $V_{\\mathrm{ref}}$ 是常数，它们的时间导数为零。\n$$ \\dot{s}(t) = \\frac{d i_{L}}{d t} + k \\frac{d v}{d t} $$\n\n现在，我们计算两种开关位置下的 $\\dot{s}(t)$。\n当开关导通时（$u=1$），$s(t)$ 的斜率记为 $\\dot{s}_{on}$，为：\n$$ \\dot{s}_{on} = \\left(\\frac{V_{g} - v}{L}\\right) + k\\left(\\frac{i_{L} - v/R}{C}\\right) $$\n当开关断开时（$u=0$），$s(t)$ 的斜率记为 $\\dot{s}_{off}$，为：\n$$ \\dot{s}_{off} = \\left(\\frac{-v}{L}\\right) + k\\left(\\frac{i_{L} - v/R}{C}\\right) $$\n\n问题要求在稳态运行下近似计算开关频率。这意味着状态变量在其参考值附近波动：$v(t) \\approx V_{\\mathrm{ref}}$ 且 $i_L(t) \\approx I_{\\mathrm{ref}}$。滞环带很小的假设使得我们可以在此平衡点处对 $s(t)$ 的斜率进行求值，并将其在每个开关半周期内视为常数，这样做是合理的。\n\n将 $v = V_{\\mathrm{ref}}$ 和 $i_L = I_{\\mathrm{ref}} = V_{\\mathrm{ref}}/R$ 代入斜率表达式中：\n对于 $\\dot{s}_{on}$：\n$$ \\dot{s}_{on} \\approx \\left(\\frac{V_{g} - V_{\\mathrm{ref}}}{L}\\right) + k\\left(\\frac{I_{\\mathrm{ref}} - V_{\\mathrm{ref}}/R}{C}\\right) = \\frac{V_{g} - V_{\\mathrm{ref}}}{L} + k(0) = \\frac{V_{g} - V_{\\mathrm{ref}}}{L} $$\n为使此近似有效，项 $\\frac{V_{g} - V_{\\mathrm{ref}}}{L}$ 必须为正，而对于降压变换器 $V_g > V_{\\mathrm{ref}}$，故此条件成立。这个正斜率驱动 $s(t)$ 从 $-\\phi$ 变化到 $+\\phi$。\n\n对于 $\\dot{s}_{off}$：\n$$ \\dot{s}_{off} \\approx \\left(\\frac{-V_{\\mathrm{ref}}}{L}\\right) + k\\left(\\frac{I_{\\mathrm{ref}} - V_{\\mathrm{ref}}/R}{C}\\right) = \\frac{-V_{\\mathrm{ref}}}{L} + k(0) = -\\frac{V_{\\mathrm{ref}}}{L} $$\n为使状态返回滑模面，该斜率必须为负，而由于 $V_{\\mathrm{ref}} > 0$，此条件成立。这个负斜率驱动 $s(t)$ 从 $+\\phi$ 返回到 $-\\phi$。\n\n在稳态下，$s(t)$ 在 $-\\phi$ 和 $+\\phi$ 之间演化为三角波。在导通时间 $T_{on}$ 内，$s(t)$ 的总变化量为 $\\Delta s = (+\\phi) - (-\\phi) = 2\\phi$。在斜率 $\\dot{s}_{on}$ 恒定的情况下，我们可以写出：\n$$ T_{on} = \\frac{\\Delta s}{\\dot{s}_{on}} = \\frac{2\\phi}{(V_{g} - V_{\\mathrm{ref}})/L} = \\frac{2\\phi L}{V_{g} - V_{\\mathrm{ref}}} $$\n\n类似地，在关断时间 $T_{off}$ 内，$s(t)$ 的变化量为 $\\Delta s = (-\\phi) - (+\\phi) = -2\\phi$。在斜率 $\\dot{s}_{off}$ 恒定的情况下：\n$$ T_{off} = \\frac{\\Delta s}{\\dot{s}_{off}} = \\frac{-2\\phi}{-V_{\\mathrm{ref}}/L} = \\frac{2\\phi L}{V_{\\mathrm{ref}}} $$\n\n总开关周期 $T_{sw}$ 是导通时间和关断时间之和：\n$$ T_{sw} = T_{on} + T_{off} = \\frac{2\\phi L}{V_{g} - V_{\\mathrm{ref}}} + \\frac{2\\phi L}{V_{\\mathrm{ref}}} $$\n提取公因式 $2\\phi L$ 并进行通分：\n$$ T_{sw} = 2\\phi L \\left( \\frac{1}{V_{g} - V_{\\mathrm{ref}}} + \\frac{1}{V_{\\mathrm{ref}}} \\right) = 2\\phi L \\left( \\frac{V_{\\mathrm{ref}} + (V_{g} - V_{\\mathrm{ref}})}{V_{\\mathrm{ref}}(V_{g} - V_{\\mathrm{ref}})} \\right) $$\n$$ T_{sw} = \\frac{2\\phi L V_{g}}{V_{\\mathrm{ref}}(V_{g} - V_{\\mathrm{ref}})} $$\n\n开关频率 $f_{sw}$ 是开关周期 $T_{sw}$ 的倒数：\n$$ f_{sw} = \\frac{1}{T_{sw}} = \\frac{V_{\\mathrm{ref}}(V_{g} - V_{\\mathrm{ref}})}{2\\phi L V_{g}} $$\n这就是所求的近似开关频率的解析表达式。\n\n现在我们代入给定的数值：\n$L = 50\\,\\mu\\mathrm{H} = 50 \\times 10^{-6}\\,\\mathrm{H}$\n$V_{g} = 24\\,\\mathrm{V}$\n$V_{\\mathrm{ref}} = 12\\,\\mathrm{V}$\n$\\phi = 0.25\\,\\mathrm{A}$\n\n$$ f_{sw} = \\frac{12\\,\\mathrm{V} \\times (24\\,\\mathrm{V} - 12\\,\\mathrm{V})}{2 \\times 0.25\\,\\mathrm{A} \\times (50 \\times 10^{-6}\\,\\mathrm{H}) \\times 24\\,\\mathrm{V}} $$\n$$ f_{sw} = \\frac{12 \\times 12}{0.5 \\times (50 \\times 10^{-6}) \\times 24} $$\n$$ f_{sw} = \\frac{144}{12 \\times (50 \\times 10^{-6})} $$\n$$ f_{sw} = \\frac{12}{50 \\times 10^{-6}} = \\frac{12}{5 \\times 10^{-5}} = 2.4 \\times 10^5\\,\\mathrm{Hz} $$\n$$ f_{sw} = 240,000\\,\\mathrm{Hz} $$\n\n问题要求答案以千赫茲（$\\mathrm{kHz}$）为单位，并四舍五入到四位有效数字。\n$$ f_{sw} = 240.0\\,\\mathrm{kHz} $$",
            "answer": "$$\\boxed{240.0}$$"
        }
    ]
}