{
    "hands_on_practices": [
        {
            "introduction": "为了确保峰值电流模式控制的DC-DC变换器的稳定运行，理解次谐波振荡的起源至关重要。本练习将引导你通过第一性原理，推导出理想降压变换器（Buck converter）中发生这种不稳定现象的条件，从而揭示为何占空比大于0.5时需要斜坡补偿。这个基础性分析是后续所有补偿设计的基础。",
            "id": "3880021",
            "problem": "一个理想的降压直流-直流（$\\mathrm{DC}$-$\\mathrm{DC}$）buck转换器采用一个金属氧化物半导体场效应晶体管（MOSFET）功率开关和一个二极管。该转换器由峰值电流模式控制，并带有一个后沿脉冲宽度调制（PWM）比较器。一个斜率为 $m_{a}$（单位为 $\\mathrm{A}/\\mathrm{s}$）的线性补偿斜坡可以与检测到的电感电流相加。电感器的电感为 $L$，开关周期为 $T_{s}$，输入电压为 $V_{g}$，稳态占空比为 $D \\in (0,1)$。在理想条件下，输出电压为 $V_{o} = D V_{g}$。负载使得平均电感电流等于负载电流 $I_{o}$。\n\n仅使用电感定律 $v_{L} = L \\, \\frac{di_{L}}{dt}$、理想buck转换关系 $V_{o} = D V_{g}$ 以及带有附加线性补偿斜坡的峰值电流模式控制的定义，完成以下任务：\n\n1) 从电感定律和开关周期内 $i_{L}(t)$ 的三角波纹形状出发，推导出一个解析表达式，表示维持连续导通模式（CCM）所需的最小平均电感电流 $I_{o,\\min}(D)$，其中CCM定义为对所有 $t$ 都有 $i_{L}(t) > 0$。您的推导必须明确使用 $L$、$T_{s}$、$V_{g}$ 和 $D$。\n\n2) 从带线性补偿斜坡的峰值电流模式控制的采样数据解释出发，推导周期开始时电感电流小偏差的单周期扰动映射。由此，确定唯一的占空比阈值 $D_{c}$，使得在没有斜坡补偿（$m_{a} = 0$）的情况下，当 $D > D_{c}$ 时会发生次谐波不稳定性，而当 $D  D_{c}$ 时则不会。总结出为避免次谐波振荡必须确保斜坡补偿的占空比范围。\n\n答案要求：\n- 以两个闭式解析表达式的形式提供最终结果：\n  (i) $I_{o,\\min}(D)$，单位为安培，\n  (ii) 无单位的占空比阈值 $D_{c}$，为一个数字。\n- 不需要进行数值计算或四舍五入；提供精确的符号表达式。",
            "solution": "分析从buck转换器和峰值电流模式控制的基本定律和核心定义开始。首先，我们从电感定律中获得与占空比相关的连续导通模式（CCM）条件。其次，我们推导在带线性补偿斜坡的峰值电流模式控制下的采样数据电流扰动映射，并提取出确定必须确保斜坡补偿的占空比阈值的条件。\n\n第1部分：与占空比相关的CCM条件。\n\n电感器遵循 $v_{L} = L \\, \\frac{di_{L}}{dt}$。在一个理想的buck转换器中，输入电压为 $V_{g}$，输出电压为 $V_{o} = D V_{g}$，占空比为 $D$，电感器在每个周期内经历两个仿射电流斜率：\n\n- 在开关闭合期间，$0 \\le t \\le D T_{s}$，电感电压为 $v_{L,\\mathrm{on}} = V_{g} - V_{o} = V_{g} - D V_{g} = V_{g}(1 - D)$，因此电感电流的上升斜率为\n$$\nm_{1} = \\frac{di_{L}}{dt}\\Big|_{\\mathrm{on}} = \\frac{V_{g}(1 - D)}{L}.\n$$\n\n- 在开关断开期间，$D T_{s} \\le t \\le T_{s}$，电感电压为 $v_{L,\\mathrm{off}} = - V_{o} = - D V_{g}$，因此下降斜率的大小为\n$$\nm_{2} = \\left|\\frac{di_{L}}{dt}\\Big|_{\\mathrm{off}}\\right| = \\frac{D V_{g}}{L}.\n$$\n\n在稳态下，电感电流纹波是三角形的，其在一个周期内的峰峰值幅度无论是在闭合区间还是断开区间计算都是相等的：\n$$\n\\Delta i_{L} = m_{1} \\, D T_{s} = m_{2} \\, (1 - D) T_{s}.\n$$\n任一公式计算出的量都相同：\n$$\n\\Delta i_{L} = \\frac{V_{g}}{L} (1 - D) \\, D \\, T_{s}.\n$$\n\n在理想条件下，平均电感电流 $I_{o}$ 等于负载电流。周期内电感电流的最小值为\n$$\ni_{L,\\min} = I_{o} - \\frac{\\Delta i_{L}}{2}.\n$$\n连续导通模式（CCM）要求 $i_{L,\\min} > 0$，这导致了与占空比相关的条件\n$$\nI_{o} > \\frac{\\Delta i_{L}}{2} = \\frac{1}{2} \\frac{V_{g}}{L} (1 - D) \\, D \\, T_{s}.\n$$\n因此，作为占空比的函数，保证CCM所需的最小平均电流为\n$$\nI_{o,\\min}(D) = \\frac{V_{g} \\, T_{s}}{2 L} D (1 - D).\n$$\n\n第2部分：次谐波不稳定性的占空比阈值及斜坡补偿的必要性。\n\n我们使用电感电流扰动的采样数据映射来分析峰值电流模式控制。假设在第 $n$ 个周期的开始存在一个小的偏差 $\\delta i_{n}$。控制器将检测到的电感电流加上一个线性补偿斜坡与一个固定参考值进行比较。在闭合期间检测到的信号可以表示为一个具有有效斜率的和\n$$\ns_{\\mathrm{on}}(t) = i_{L}(0) + (m_{1} + m_{a}) t,\n$$\n其中 $m_{a}$ 是线性补偿斜坡的斜率，单位为 $\\mathrm{A}/\\mathrm{s}$。比较器的穿越时间通过 $s_{\\mathrm{on}}(d_{n} T_{s}) = \\text{constant}$ 决定了该周期内的瞬时占空比 $d_{n}$。对于小扰动，对穿越条件进行线性化，得到占空比扰动 $\\delta d_{n}$ 和初始电流扰动 $\\delta i_{n}$ 之间的关系：\n$$\n(m_{1} + m_{a}) T_{s} \\, \\delta d_{n} + \\delta i_{n} = 0 \\quad \\Rightarrow \\quad \\delta d_{n} = - \\frac{\\delta i_{n}}{(m_{1} + m_{a}) T_{s}}.\n$$\n\n第 $n$ 个周期结束时的电感电流是初始电流与在闭合和断开子区间内变化量之和。第 $n+1$ 个周期开始时的扰动的一次循环更新等于第 $n$ 个周期结束时的扰动。对 $\\delta d_{n}$ 进行线性化，\n$$\n\\delta i_{n+1} = \\delta i_{n} + m_{1} T_{s} \\, \\delta d_{n} - m_{2} (T_s - (D+\\delta d_n)T_s) - (I_{valley} + m_1 DT_s - m_2(1-D)T_s).\n$$\n对电感电流的完整周期演化进行线性化：\n$$ i_{n+1} = i_n + m_1 d_n T_s - m_2 (T_s - d_n T_s) $$\n$$ \\delta i_{n+1} = \\delta i_n + (m_1+m_2) T_s \\delta d_n $$\n将穿越线性化得到的 $\\delta d_{n}$ 代入，\n$$\n\\delta i_{n+1} = \\delta i_{n} + (m_{1} + m_{2}) T_{s} \\left( - \\frac{\\delta i_{n}}{(m_{1} + m_{a}) T_{s}} \\right) = \\delta i_{n} \\left( 1 - \\frac{m_1 + m_2}{m_{1} + m_{a}} \\right) = \\delta i_{n} \\left( \\frac{m_{a} - m_{2}}{m_{1} + m_{a}} \\right).\n$$\n因此扰动映射为\n$$\n\\delta i_{n+1} = \\alpha \\, \\delta i_{n}, \\quad \\text{with} \\quad \\alpha = \\frac{m_{a} - m_{2}}{m_{1} + m_{a}}.\n$$\n\n当采样数据特征值的幅度超过1时，即 $|\\alpha| \\ge 1$，就会出现次谐波不稳定性（倍周期分岔）。防止次谐波的稳定性要求 $|\\alpha|  1$，即 $-1  \\alpha  1$。\n$$\n-1  \\frac{m_a - m_2}{m_1 + m_a}  1\n$$\n由于 $m_1 > 0$ 且 $m_a \\ge 0$，分母 $m_1 + m_a$ 为正。不等式可以分为两部分：\n1.  **右侧不等式**：$\\frac{m_a - m_2}{m_1 + m_a}  1 \\implies m_a - m_2  m_1 + m_a \\implies -m_2  m_1$。由于斜率 $m_1$ 和 $m_2$ 均为正值，此条件恒成立。\n2.  **左侧不等式**：$-1  \\frac{m_a - m_2}{m_1 + m_a} \\implies -(m_1 + m_a)  m_a - m_2 \\implies m_2 - m_1  2m_a$。\n\n因此，稳定性的充要条件是：\n$$\nm_a > \\frac{m_2 - m_1}{2}\n$$\n\n在没有斜坡补偿（$m_{a} = 0$）的情况下，这个稳定性条件简化为 $m_{2}  m_{1}$，对于buck转换器来说，这变为\n$$\n\\frac{D V_{g}}{L}  \\frac{V_{g}(1 - D)}{L} \\quad \\Leftrightarrow \\quad D  1 - D \\quad \\Leftrightarrow \\quad D  \\frac{1}{2}.\n$$\n因此占空比阈值为\n$$\nD_{c} = \\frac{1}{2},\n$$\n并且当 $m_{a} = 0$ 时，对于占空比 $D > D_{c}$，必须确保斜坡补偿以避免次谐波振荡。更一般地，一个能确保对所有 $D \\in (0,1)$ 都稳定的充分设计是 $m_{a} \\ge m_{2}/2$，而在给定 $D$ 下消除次谐波的精确最小斜坡斜率为\n$$\nm_{a,\\min}(D) = \\max\\!\\left( 0, \\, \\frac{m_{2} - m_{1}}{2} \\right) = \\max\\!\\left( 0, \\, \\frac{V_{g}}{2 L} (2 D - 1) \\right),\n$$\n这恰好在 $D > \\frac{1}{2}$ 时为严格正值。\n\n汇总所要求的表达式，我们得到：\n- CCM最小平均电感电流：\n$$\nI_{o,\\min}(D) = \\frac{V_{g} \\, T_{s}}{2 L} D (1 - D).\n$$\n- 无斜坡补偿时次谐波不稳定性发生的无单位占空比阈值：\n$$\nD_{c} = \\frac{1}{2}.\n$$",
            "answer": "$$\\boxed{I_{o,\\min}(D) = \\frac{V_{g} T_{s}}{2 L} D (1 - D); \\quad D_c = \\frac{1}{2}}$$"
        },
        {
            "introduction": "理解了不稳定性的成因后，下一步就是设计补偿斜坡来消除它。本练习将问题扩展到降压-升壓变换器（buck-boost converter），并要求你计算在特定工作点（占空比$D=0.75$）下保证系统稳定所需的最小补偿斜率$m_a$。通过这个实践，你将学会如何将理论稳定性判据转化为具体的电路参数设计。",
            "id": "3879970",
            "problem": "一个在连续导通模式 (CCM) 下运行的理想反相降压-升压直流-直流转换器，采用恒定开关频率的峰值电流模式控制。输入电压固定为 $V_g$，输出电压的幅值为 $V_o$，占空比为 $D \\in (0,1)$。设电感值为 $L$。在开关导通期间，电感两端施加输入电压；在关断期间，电感两端施加负的输出电压。将导通期间电感电流的上升斜率定义为 $m_1$，将关断期间电感电流下降斜率的幅值定义为 $m_2$。\n\n1) 仅从电感本构关系 $v_L = L \\, \\frac{di_L}{dt}$ 和周期性稳态伏秒平衡出发，推导用 $V_g$、$V_o$ 和 $L$ 表示的 $m_1$ 和 $m_2$ 的表达式。利用这些表达式，并通过对无人工斜坡补偿情况下峰值电流模式控制与固定控制参考交点的采样数据扰动分析，推导一维 Poincaré 映射的未补偿快速尺度特征值幅值 $\\lambda$，并证明 $\\lambda = \\frac{m_2}{m_1} = \\frac{V_o}{V_g} = \\frac{D}{1-D}$。\n\n2) 现在，在导通期间，将一个等效电流斜率为 $m_a$ 的人工斜坡补偿叠加到采样电流上。通过对加入此人工斜坡的情况重复进行采样数据扰动分析，推导补偿后的特征值幅值 $|\\lambda_c|$（用 $m_1$、$m_2$ 和 $m_a$ 表示）。然后，对于 $D = 0.75$，$V_g = 12$ V 和 $L = 47$ $\\mu$H，计算保证快速尺度稳定性（定义为条件 $|\\lambda_c|  1$）所需的最小 $m_a$。将 $m_a$ 的最终值以 A/$\\mu$s 为单位表示，并将答案四舍五入到四位有效数字。",
            "solution": "该问题经评估在科学上是合理的，内容是自洽的，且问题是适定的。其术语和物理模型在电力电子领域是标准的。我将进行完整的推导。\n\n问题分为两部分。第一部分处理未补偿系统，第二部分引入斜坡补偿。\n\n**第一部分：未补偿系统分析**\n\n首先，我们推导电感电流斜率 $m_1$ 和 $m_2$ 的表达式。问题陈述电感本构关系为 $v_L(t) = L \\frac{di_L(t)}{dt}$。\n\n在开关导通期间，其持续时间为 $DT_s$（其中 $T_s$ 是开关周期），电感电压为 $v_L(t) = V_g$。电感电流的变化率是恒定的：\n$$ \\frac{di_L(t)}{dt} = \\frac{V_g}{L} $$\n该斜率被定义为 $m_1$。因此，\n$$ m_1 = \\frac{V_g}{L} $$\n\n在开关关断期间，其持续时间为 $(1-D)T_s$，电感电压为 $v_L(t) = -V_o$。电感电流的变化率也是恒定的：\n$$ \\frac{di_L(t)}{dt} = -\\frac{V_o}{L} $$\n问题将 $m_2$ 定义为该下降斜率的幅值。因此，\n$$ m_2 = \\left| -\\frac{V_o}{L} \\right| = \\frac{V_o}{L} $$\n\n接下来，我们对电感应用周期性稳态伏秒平衡原理。该原理指出，在一个完整的开关周期内，电感上的平均电压必须为零。\n$$ \\frac{1}{T_s} \\int_0^{T_s} v_L(t) \\, dt = 0 $$\n$$ \\frac{1}{T_s} \\left( \\int_0^{DT_s} V_g \\, dt + \\int_{DT_s}^{T_s} (-V_o) \\, dt \\right) = 0 $$\n$$ \\frac{1}{T_s} \\left( V_g (DT_s) - V_o ((1-D)T_s) \\right) = 0 $$\n$$ V_g D = V_o (1-D) $$\n这得出了连续导通模式（CCM）下升降压转换器的理想电压转换比：\n$$ \\frac{V_o}{V_g} = \\frac{D}{1-D} $$\n\n使用这个关系，我们可以关联斜率 $m_1$ 和 $m_2$：\n$$ \\frac{m_2}{m_1} = \\frac{V_o/L}{V_g/L} = \\frac{V_o}{V_g} $$\n综合这些结果，我们证明了 $\\frac{m_2}{m_1} = \\frac{V_o}{V_g} = \\frac{D}{1-D}$。\n\n现在，我们使用采样数据扰动分析来推导未补偿的快速尺度特征值。设开关周期 $k$ 开始时的电感电流为 $i_L[k]$。设稳态占空比为 $D$，周期 $k$ 中的受扰动占空比为 $d_k = D + \\hat{d}_k$。周期 $k$ 开始时的电感电流也受到扰动，$i_L[k] = \\bar{I}_L[k] + \\hat{i}_L[k]$，其中 $\\bar{I}_L[k]$ 是稳态分量，$\\hat{i}_L[k]$ 是小扰动。\n\n在无补偿的峰值电流模式控制中，当电感电流 $i_L(t)$ 达到固定参考电平 $I_{ref}$ 时，开关关断。\n在周期 $k$ 的导通时间内，电流按 $i_L(t) = i_L[k] + m_1 t$ 演变。关断发生在时刻 $t = d_k T_s$。\n$$ i_L[k] + m_1 (d_k T_s) = I_{ref} $$\n$$ (\\bar{I}_L[k] + \\hat{i}_L[k]) + m_1 (D + \\hat{d}_k) T_s = I_{ref} $$\n稳态条件是 $\\bar{I}_L[k] + m_1 D T_s = I_{ref}$。从扰动方程中减去稳态方程，得到一阶扰动动力学：\n$$ \\hat{i}_L[k] + m_1 \\hat{d}_k T_s = 0 \\implies \\hat{d}_k T_s = -\\frac{\\hat{i}_L[k]}{m_1} $$\n\n周期 $k$ 结束时的电感电流（即周期 $k+1$ 开始时的电流，也即 $i_L[k+1]$）可以通过考虑关断期间的电流下降来求得：\n$$ i_L[k+1] = i_L(d_k T_s) - m_2 (T_s - d_k T_s) $$\n由于 $i_L(d_k T_s) = I_{ref}$，我们有：\n$$ i_L[k+1] = I_{ref} - m_2 T_s(1 - d_k) = I_{ref} - m_2 T_s(1 - (D + \\hat{d}_k)) $$\n$$ \\bar{I}_L[k+1] + \\hat{i}_L[k+1] = I_{ref} - m_2 T_s(1-D) + m_2 \\hat{d}_k T_s $$\n稳态值为 $\\bar{I}_L[k+1] = \\bar{I}_L[k] = I_{ref} - m_2 T_s(1-D)$。减去此稳态值，得到扰动的演化过程：\n$$ \\hat{i}_L[k+1] = m_2 \\hat{d}_k T_s $$\n代入 $\\hat{d}_k T_s$ 的表达式：\n$$ \\hat{i}_L[k+1] = m_2 \\left( -\\frac{\\hat{i}_L[k]}{m_1} \\right) = -\\frac{m_2}{m_1} \\hat{i}_L[k] $$\n这是扰动的一维离散时间映射，$\\hat{i}_L[k+1] = \\lambda_{eig} \\hat{i}_L[k]$。此映射的特征值为 $\\lambda_{eig} = -\\frac{m_2}{m_1}$。\n问题要求的是特征值的幅值，用符号 $\\lambda$ 表示。由于 $m_1$ 和 $m_2$ 均为正值：\n$$ \\lambda = |\\lambda_{eig}| = \\left|-\\frac{m_2}{m_1}\\right| = \\frac{m_2}{m_1} $$\n我们已经证明了 $\\frac{m_2}{m_1} = \\frac{V_o}{V_g} = \\frac{D}{1-D}$。这完成了第一部分的推导。为保证稳定性，要求 $|\\lambda_{eig}|  1$，即 $\\frac{m_2}{m_1}  1$，或 $D  0.5$。\n\n**第二部分：补偿系统分析**\n\n现在，一个斜率为 $m_a$ 的人工补偿斜坡叠加到采样电流上。在导通期间，采样信号变为 $i_s(t) = i_L(t) + m_a t$。当 $i_s(t) = I_{ref}$ 时，开关关断。\n在关断瞬间 $t = d_k T_s$：\n$$ i_L(d_k T_s) + m_a (d_k T_s) = I_{ref} $$\n电感电流本身仍然遵循 $i_L(t) = i_L[k] + m_1 t$。将其代入关断条件：\n$$ (i_L[k] + m_1 d_k T_s) + m_a d_k T_s = I_{ref} $$\n$$ i_L[k] + (m_1 + m_a) d_k T_s = I_{ref} $$\n执行与之前相同的扰动分析（$i_L[k] = \\bar{I}_L[k] + \\hat{i}_L[k]$，$d_k = D + \\hat{d}_k$）：\n$$ (\\bar{I}_L[k] + \\hat{i}_L[k]) + (m_1 + m_a) (D + \\hat{d}_k) T_s = I_{ref} $$\n稳态方程为 $\\bar{I}_L[k] + (m_1 + m_a) D T_s = I_{ref}$。减去此方程得到：\n$$ \\hat{i}_L[k] + (m_1 + m_a) \\hat{d}_k T_s = 0 \\implies \\hat{d}_k T_s = -\\frac{\\hat{i}_L[k]}{m_1 + m_a} $$\n\n现在我们求下一个周期开始时的电流 $i_L[k+1]$。电流的下降部分不受补偿斜坡的影响。\n$$ i_L[k+1] = i_L(d_k T_s) - m_2(T_s - d_k T_s) $$\n根据关断条件，我们可以将峰值电流表示为 $i_L(d_k T_s) = I_{ref} - m_a d_k T_s$。\n$$ i_L[k+1] = (I_{ref} - m_a d_k T_s) - m_2(T_s - d_k T_s) $$\n$$ i_L[k+1] = I_{ref} - m_2 T_s + (m_2 - m_a) d_k T_s $$\n$$ \\bar{I}_L[k+1] + \\hat{i}_L[k+1] = I_{ref} - m_2 T_s + (m_2 - m_a) (D + \\hat{d}_k) T_s $$\n稳态方程为 $\\bar{I}_L[k+1] = I_{ref} - m_2 T_s + (m_2 - m_a) D T_s$。减去此方程得到：\n$$ \\hat{i}_L[k+1] = (m_2 - m_a) \\hat{d}_k T_s $$\n代入 $\\hat{d}_k T_s$ 的表达式：\n$$ \\hat{i}_L[k+1] = (m_2 - m_a) \\left( -\\frac{\\hat{i}_L[k]}{m_1 + m_a} \\right) = -\\frac{m_2 - m_a}{m_1 + m_a} \\hat{i}_L[k] $$\n补偿后的特征值为 $\\lambda_c = -\\frac{m_2 - m_a}{m_1 + m_a}$。\n因此，补偿后特征值的幅值为：\n$$ |\\lambda_c| = \\left| -\\frac{m_2 - m_a}{m_1 + m_a} \\right| = \\frac{|m_2 - m_a|}{m_1 + m_a} $$\n这就是所求的表达式。\n\n最后，我们根据给定的参数 $D = 0.75$，$V_g = 12$ V 和 $L = 47$ $\\mu$H，计算保证稳定性（定义为 $|\\lambda_c|  1$）所需的最小补偿斜率 $m_a$。\n稳定性边界在 $|\\lambda_c| = 1$ 处。当特征值穿过 -1 时，系统变得不稳定。\n$$ \\lambda_c = -1 \\implies -\\frac{m_2 - m_a}{m_1 + m_a} = -1 $$\n$$ m_2 - m_a = m_1 + m_a $$\n$$ m_2 - m_1 = 2 m_a $$\n因此，确保稳定性（$|\\lambda_c|$ 恰好小于 1）所需的最小斜率为：\n$$ m_{a,min} = \\frac{m_2 - m_1}{2} $$\n仅当 $m_2 > m_1$ 时，此条件才是必要的，这对应于 $D > 0.5$。当 $D=0.75$ 时，确实需要补偿。\n\n现在，我们计算数值。斜率的单位将是 A/$\\mu$s。我们有 $L = 47$ $\\mu$H $= 47$ V$\\cdot\\mu$s/A。\n电感电流上升斜率为：\n$$ m_1 = \\frac{V_g}{L} = \\frac{12 \\text{ V}}{47 \\text{ } \\mu\\text{H}} = \\frac{12}{47} \\text{ A/}\\mu\\text{s} $$\n为了求 $m_2$，我们首先求输出电压 $V_o$：\n$$ V_o = V_g \\frac{D}{1-D} = 12 \\text{ V} \\times \\frac{0.75}{1-0.75} = 12 \\text{ V} \\times \\frac{0.75}{0.25} = 12 \\text{ V} \\times 3 = 36 \\text{ V} $$\n电感电流下降斜率的幅值为：\n$$ m_2 = \\frac{V_o}{L} = \\frac{36 \\text{ V}}{47 \\text{ } \\mu\\text{H}} = \\frac{36}{47} \\text{ A/}\\mu\\text{s} $$\n现在我们可以计算最小补偿斜率：\n$$ m_{a,min} = \\frac{m_2 - m_1}{2} = \\frac{1}{2} \\left( \\frac{36}{47} - \\frac{12}{47} \\right) \\text{ A/}\\mu\\text{s} $$\n$$ m_{a,min} = \\frac{1}{2} \\left( \\frac{24}{47} \\right) \\text{ A/}\\mu\\text{s} = \\frac{12}{47} \\text{ A/}\\mu\\text{s} $$\n将其转换为数值：\n$$ m_{a,min} = \\frac{12}{47} \\approx 0.25531914... \\text{ A/}\\mu\\text{s} $$\n四舍五入到四位有效数字，我们得到：\n$$ m_{a,min} \\approx 0.2553 \\text{ A/}\\mu\\text{s} $$",
            "answer": "$$\\boxed{0.2553}$$"
        },
        {
            "introduction": "实际的电路设计必须考虑元器件参数随环境变化的非理想特性。本练习引入了补偿斜坡发生器随温度变化的现实问题，要求你计算所需的设计余量，以确保变换器在整个工作温度范围内都能保持稳定。这个练习将帮助你掌握如何进行裕度设计，确保控制系统在面对参数漂移时的鲁棒性。",
            "id": "3879990",
            "problem": "一个工作在连续导通模式（CCM）下的峰值电流模式控制的降压转换器使用一个下降沿脉冲宽度调制（PWM）比较器。峰值电感电流以单位增益被检测，并与一个斜率为 $m_{a}$ 的线性补偿斜坡相加，该斜坡仅在开关导通期间施加。当检测电流与斜坡之和达到一个固定的控制参考值时，比较器关闭开关。电感是理想的，并且控制参考值在一个开关周期内是恒定的。电感遵循 $v_{L} = L \\, di_{L}/dt$。设输入电压为 $V_{\\mathrm{in}} = 24\\,\\mathrm{V}$，输出电压为 $V_{\\mathrm{out}} = 17\\,\\mathrm{V}$，电感值为 $L = 15\\,\\mu\\mathrm{H}$。将导通期间电感电流的上升斜率定义为 $m_{1}$，关断期间的下降斜率定义为 $m_{2}$。\n\n从 $v_{L} = L \\, di_{L}/dt$ 和比较器穿越的时序条件出发，推导峰值电感电流逐周期小扰动的采样返回映射。由此，用 $m_{1}$、$m_{2}$ 和 $m_{a}$ 表示控制峰值电流扰动逐周期演化的离散时间特征值 $\\lambda$，并推导出相应的稳定性补偿条件 $\\lvert \\lambda \\rvert  1$。\n\n补偿斜坡的斜率具有线性温度系数（TC），定义为 $\\beta_{m_{a}} = \\frac{1}{m_{a}} \\frac{\\partial m_{a}}{\\partial T}$，其在温度范围内是恒定的。将温度依赖性建模为\n$$\nm_{a}(T) = m_{a,25} \\left[ 1 + \\beta_{m_{a}} \\left( T - 25 \\right) \\right],\n$$\n其中 $T$ 的单位是 $\\mathrm{^{\\circ}C}$，$m_{a,25}$ 是在 $25\\,\\mathrm{^{\\circ}C}$ 时的斜坡斜率。环境温度范围为 $-40\\,\\mathrm{^{\\circ}C}$ 到 $85\\,\\mathrm{^{\\circ}C}$，斜坡发生器的 $\\beta_{m_{a}} = -800 \\times 10^{-6} \\,\\mathrm{^{\\circ}C^{-1}}$。\n\n令 $m_{a,\\mathrm{thr}}$ 表示从你的稳定性条件中得到的阈值补偿斜率。确定最小分数裕量 $\\mu$，使得选择 $m_{a,25} = \\left( 1 + \\mu \\right) m_{a,\\mathrm{thr}}$ 能保证在指定的整个温度范围内 $\\lvert \\lambda \\rvert  1$。将最终的裕量 $\\mu$ 表示为小数（无量纲），并将你的答案四舍五入到四位有效数字。",
            "solution": "问题要求计算峰值电流模式控制的降压转换器的斜率补偿的最小分数裕量 $\\mu$，以确保在指定温度范围内的稳定性。解决方案需要几个步骤：推导稳定性判据，计算阈值补偿，然后结合温度相关效应来找到所需的裕量。\n\n首先，我们定义导通期间和关断期间的电感电流斜率。电感电压由 $v_{L} = L \\frac{di_{L}}{dt}$ 给出。\n在开关导通期间，理想电感两端的电压为 $v_{L} = V_{\\mathrm{in}} - V_{\\mathrm{out}}$。电感电流的上升斜率 $m_{1}$ 为：\n$$m_{1} = \\frac{di_{L}}{dt} = \\frac{V_{\\mathrm{in}} - V_{\\mathrm{out}}}{L}$$\n在开关关断期间，电感电压为 $v_{L} = -V_{\\mathrm{out}}$。电感电流的下降斜率的大小 $m_{2}$ 为：\n$$m_{2} = \\left| \\frac{di_{L}}{dt} \\right| = \\left| \\frac{-V_{\\mathrm{out}}}{L} \\right| = \\frac{V_{\\mathrm{out}}}{L}$$\n\n接下来，我们推导电感电流小扰动的采样返回映射。让我们逐周期地分析系统动态。设 $i_{v,n}$ 是第 $n$ 个开关周期开始时的谷底电流，$d_n T_s$ 是该周期内的导通时间，其中 $T_s$ 是开关周期。\n在导通期间（从周期开始的 $t=0$ 算起），时刻 $t$ 的电感电流为 $i_L(t) = i_{v,n} + m_1 t$。补偿斜坡信号为 $S_e(t) = m_a t$。当检测电流与补偿斜坡之和达到控制参考值 $I_{\\mathrm{ref}}$ 时，开关在 $t=d_n T_s$ 时刻关断：\n$$i_L(d_n T_s) + S_e(d_n T_s) = I_{\\mathrm{ref}}$$\n代入电流和斜坡的表达式：\n$$(i_{v,n} + m_1 d_n T_s) + m_a d_n T_s = I_{\\mathrm{ref}}$$\n$$i_{v,n} + (m_1 + m_a) d_n T_s = I_{\\mathrm{ref}}$$\n我们可以通过在稳态工作点（用大写字母 $I_V, D$ 表示）附近对该方程进行线性化，来用谷底电流扰动 $\\hat{i}_{v,n}$ 表示导通时间扰动 $\\hat{d}_n T_s$：\n$$(I_V + \\hat{i}_{v,n}) + (m_1 + m_a) (D + \\hat{d}_n) T_s = I_{\\mathrm{ref}}$$\n稳态部分为 $I_V + (m_1 + m_a) D T_s = I_{\\mathrm{ref}}$。小信号扰动方程为：\n$$\\hat{i}_{v,n} + (m_1 + m_a) \\hat{d}_n T_s = 0 \\implies \\hat{d}_n T_s = -\\frac{\\hat{i}_{v,n}}{m_1 + m_a}$$\n现在我们将下一个周期的谷底电流 $i_{v,n+1}$ 与当前周期的峰值电流 $i_{p,n}$ 联系起来。峰值电流为 $i_{p,n} = i_{v,n} + m_1 d_n T_s$。下一个谷底电流为 $i_{v,n+1} = i_{p,n} - m_2(1-d_n)T_s$。\n对这两个关系进行线性化得到：\n$$\\hat{i}_{p,n} = \\hat{i}_{v,n} + m_1 \\hat{d}_n T_s$$\n$$\\hat{i}_{v,n+1} = \\hat{i}_{p,n} + m_2 \\hat{d}_n T_s$$\n将 $\\hat{d}_n T_s$ 的表达式代入 $\\hat{i}_{p,n}$ 的方程：\n$$\\hat{i}_{p,n} = \\hat{i}_{v,n} + m_1 \\left(-\\frac{\\hat{i}_{v,n}}{m_1 + m_a}\\right) = \\left(1 - \\frac{m_1}{m_1+m_a}\\right) \\hat{i}_{v,n} = \\left(\\frac{m_a}{m_1+m_a}\\right) \\hat{i}_{v,n}$$\n现在将 $\\hat{i}_{p,n}$ 和 $\\hat{d}_n T_s$ 都代入 $\\hat{i}_{v,n+1}$ 的方程：\n$$\\hat{i}_{v,n+1} = \\left(\\frac{m_a}{m_1+m_a}\\right) \\hat{i}_{v,n} + m_2 \\left(-\\frac{\\hat{i}_{v,n}}{m_1 + m_a}\\right) = \\left(\\frac{m_a - m_2}{m_1 + m_a}\\right) \\hat{i}_{v,n}$$\n这就是谷底电流扰动的采样返回映射。由于问题要求的是峰值电流扰动 $\\hat{i}_{p,n}$ 的映射，我们注意到 $\\hat{i}_{p,n}$ 与 $\\hat{i}_{v,n}$ 成线性比例。因此，$\\hat{i}_{p,n+1} \\propto \\hat{i}_{v,n+1}$，并且其演化由相同的特征值控制：$\\hat{i}_{p,n+1} = \\lambda \\hat{i}_{p,n}$。离散时间特征值 $\\lambda$ 是：\n$$\\lambda = \\frac{m_a - m_2}{m_1 + m_a}$$\n为了保证稳定性，特征值的模必须小于1，即 $|\\lambda|  1$。\n$$\\left| \\frac{m_a - m_2}{m_1 + m_a} \\right|  1$$\n这展开为两个不等式：$-(m_1 + m_a)  m_a - m_2  m_1 + m_a$。\n右侧不等式 $m_a - m_2  m_1 + m_a$ 简化为 $-m_2  m_1$，由于 $m_1$ 和 $m_2$ 都是正斜率，这总是成立的。\n左侧不等式给出了非平凡的稳定性条件：\n$$m_a - m_2 > -(m_1 + m_a)$$\n$$2m_a > m_2 - m_1$$\n$$m_a > \\frac{m_2 - m_1}{2}$$\n问题将阈值补偿斜率 $m_{a,\\mathrm{thr}}$ 定义为该条件的边界值。\n$$m_{a,\\mathrm{thr}} = \\frac{m_2 - m_1}{2}$$\n使用给定的转换器参数，我们计算 $m_{a,\\mathrm{thr}}$：\n$V_{\\mathrm{in}} = 24\\,\\mathrm{V}$，$V_{\\mathrm{out}} = 17\\,\\mathrm{V}$，$L = 15\\,\\mu\\mathrm{H} = 15 \\times 10^{-6}\\,\\mathrm{H}$。\n$$m_1 = \\frac{24 - 17}{15 \\times 10^{-6}} = \\frac{7}{15 \\times 10^{-6}} \\, \\mathrm{A/s}$$\n$$m_2 = \\frac{17}{15 \\times 10^{-6}} \\, \\mathrm{A/s}$$\n$$m_{a,\\mathrm{thr}} = \\frac{1}{2} \\left( \\frac{17}{15 \\times 10^{-6}} - \\frac{7}{15 \\times 10^{-6}} \\right) = \\frac{1}{2} \\frac{10}{15 \\times 10^{-6}} = \\frac{10}{30 \\times 10^{-6}} = \\frac{1}{3} \\times 10^6 \\, \\mathrm{A/s}$$\n补偿斜率 $m_a$ 是温度相关的，遵循以下模型：\n$$m_{a}(T) = m_{a,25} \\left[ 1 + \\beta_{m_{a}} \\left( T - 25 \\right) \\right]$$\n其中 $\\beta_{m_{a}} = -800 \\times 10^{-6} \\,\\mathrm{^{\\circ}C^{-1}}$，温度范围为 $T \\in [-40, 85]\\, \\mathrm{^{\\circ}C}$。\n为了在整个温度范围内保持稳定，必须始终满足条件 $m_a(T) > m_{a,\\mathrm{thr}}$。我们必须在给定范围内找到 $m_a(T)$ 的最小值。由于 $\\beta_{m_a}$ 是负数，当 $T$ 最大化时，$1 + \\beta_{m_a}(T-25)$ 这一项最小。最坏情况下的温度是 $T_{\\mathrm{max}} = 85\\,\\mathrm{^{\\circ}C}$。\n在此温度下的稳定性条件是：\n$$m_a(85) > m_{a,\\mathrm{thr}}$$\n$$m_{a,25} \\left[ 1 + \\beta_{m_a} (85 - 25) \\right] > m_{a,\\mathrm{thr}}$$\n在 $25\\,\\mathrm{^{\\circ}C}$ 时的标称斜率通过分数裕量 $\\mu$ 设置为：$m_{a,25} = (1 + \\mu) m_{a,\\mathrm{thr}}$。将此代入不等式：\n$$(1+\\mu)m_{a,\\mathrm{thr}} \\left[ 1 + \\beta_{m_a} (60) \\right] > m_{a,\\mathrm{thr}}$$\n由于 $m_{a,\\mathrm{thr}} > 0$，我们可以用它来除：\n$$(1+\\mu) \\left[ 1 + \\beta_{m_a} (60) \\right] > 1$$\n$$1+\\mu > \\frac{1}{1 + \\beta_{m_a} (60)}$$\n$$\\mu > \\frac{1}{1 + \\beta_{m_a} (60)} - 1$$\n所需的最小裕量 $\\mu$ 就是这个下界。代入 $\\beta_{m_a}$ 的值：\n$$\\mu_{\\mathrm{min}} = \\frac{1}{1 + (-800 \\times 10^{-6})(60)} - 1$$\n$$\\mu_{\\mathrm{min}} = \\frac{1}{1 - 48000 \\times 10^{-6}} - 1 = \\frac{1}{1 - 0.048} - 1 = \\frac{1}{0.952} - 1$$\n$$\\mu_{\\mathrm{min}} = 1.050420168... - 1 = 0.050420168...$$\n四舍五入到四位有效数字，我们得到 $\\mu = 0.05042$。",
            "answer": "$$\\boxed{0.05042}$$"
        }
    ]
}