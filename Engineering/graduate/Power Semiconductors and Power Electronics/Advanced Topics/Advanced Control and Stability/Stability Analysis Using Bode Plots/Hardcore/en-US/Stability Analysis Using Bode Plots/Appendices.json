{
    "hands_on_practices": [
        {
            "introduction": "A key aspect of robust control design is understanding not just if a system is stable, but *how* stable it is. The phase margin is a primary metric for this, but it can feel abstract. This first practice connects the frequency-domain concept of phase margin directly to a critical, tangible time-domain specification: the delay margin. You will calculate the maximum tolerable time delay a system can handle before becoming unstable, a crucial skill for designing digitally-controlled or networked power systems where computational and communication latencies are unavoidable .",
            "id": "1613000",
            "problem": "A control systems engineer is designing a remote operation interface for a high-precision robotic arm used in a cleanroom environment. The control signals are to be sent over a dedicated network, which introduces a pure, but variable, time delay, $\\tau$, into the feedback loop. Before implementing the network, the engineer analyzes the existing locally-controlled system. From the Bode plot of the system's open-loop transfer function, it is determined that the system has a phase margin of $\\phi_m = 40.0^\\circ$ at a gain crossover frequency of $\\omega_{gc} = 12.5$ rad/s.\n\nThe stability of the closed-loop system is compromised if the additional phase lag introduced by the network delay causes the total phase at the gain crossover frequency to reach $-180^\\circ$. Calculate the maximum tolerable network time delay, also known as the delay margin, before the closed-loop system becomes unstable.\n\nExpress your answer in milliseconds (ms), rounded to three significant figures.",
            "solution": "The phase margin $\\phi_{m}$ at the gain crossover frequency $\\omega_{gc}$ indicates how much additional phase lag can be tolerated before the loop phase reaches $-180^{\\circ}$. A pure time delay $\\tau$ contributes an additional phase lag of $-\\omega \\tau$ radians at frequency $\\omega$. At the gain crossover frequency, the closed-loop stability limit occurs when this added lag equals the existing phase margin:\n$$\n\\omega_{gc}\\,\\tau_{\\max}=\\phi_{m}\\ \\text{(in radians)}.\n$$\nTherefore,\n$$\n\\tau_{\\max}=\\frac{\\phi_{m,\\text{rad}}}{\\omega_{gc}}.\n$$\nConvert the given phase margin from degrees to radians:\n$$\n\\phi_{m,\\text{rad}}=\\phi_{m}\\cdot\\frac{\\pi}{180} = 40\\cdot\\frac{\\pi}{180}=\\frac{2\\pi}{9}.\n$$\nSubstitute $\\phi_{m,\\text{rad}}=\\frac{2\\pi}{9}$ and $\\omega_{gc}=12.5$:\n$$\n\\tau_{\\max}=\\frac{\\frac{2\\pi}{9}}{12.5}=\\frac{2\\pi}{112.5}=\\frac{4\\pi}{225}\\ \\text{s}.\n$$\nConvert to milliseconds:\n$$\n\\tau_{\\max,\\text{ms}}=\\frac{4\\pi}{225}\\times 1000=\\frac{4000\\pi}{225}\\ \\text{ms}\\approx 55.9\\ \\text{ms},\n$$\nrounded to three significant figures.",
            "answer": "$$\\boxed{55.9}$$"
        },
        {
            "introduction": "Gain and phase margins derived from a Bode plot are indispensable tools, but they are not universally applicable without caution. Their standard interpretation relies on the assumption that the open-loop system is stable. This exercise presents a critical counterexample involving an unstable plant, a common scenario in systems like magnetic levitation or certain power converters. You will analyze why seemingly healthy stability margins can be dangerously misleading and learn to appreciate the concept of internal stability, ensuring that no unstable modes are hidden within the closed loop .",
            "id": "1613024",
            "problem": "A control engineer is tasked with designing a controller for a single-axis magnetic levitation system. After linearization around an unstable equilibrium point, the plant's transfer function, relating the electromagnet's current to the levitated object's vertical position, is determined to be:\n$$P(s) = \\frac{10}{(s-1)(s+1)}$$\nThe controller is designed to have a zero that approximately cancels the unstable plant pole at $s=1$. Due to minor modeling inaccuracies, the controller transfer function is:\n$$C(s) = 3.3 \\cdot \\frac{s - 0.99}{s + 10}$$\nThe controller $C(s)$ is placed in a standard unity-feedback configuration with the plant $P(s)$. The loop transfer function is $L(s) = C(s)P(s)$.\n\nUpon generating a Bode plot for $L(s)$, the engineer observes a gain margin of approximately 10 dB and a phase margin of approximately 45 degrees. Based on these seemingly robust stability margins, a preliminary conclusion might be that the closed-loop system is stable.\n\nBased on a rigorous analysis of this system, which of the following statements provides the correct conclusion about the stability of the closed-loop system?\n\nA. The system is stable, as confirmed by the large gain and phase margins.\n\nB. The system is unstable due to an uncancelled right-half plane pole in the loop transfer function.\n\nC. The system is marginally stable, as the near-perfect cancellation places a pole-zero pair very close to the imaginary axis.\n\nD. The stability cannot be determined from the given information and requires experimental testing.\n\nE. The system is stable, but it will exhibit a very slow response due to the pole-zero cancellation.",
            "solution": "We are given the plant and controller\n$$P(s)=\\frac{10}{(s-1)(s+1)},\\qquad C(s)=3.3\\cdot\\frac{s-0.99}{s+10}.$$\nThe loop transfer function is\n$$L(s)=C(s)P(s)=\\frac{33(s-0.99)}{(s+10)(s-1)(s+1)}.$$\nIn unity feedback, the closed-loop characteristic equation is\n$$1+L(s)=0.$$\nEquivalently,\n$$1+L(s)=\\frac{(s+10)(s-1)(s+1)+33(s-0.99)}{(s+10)(s-1)(s+1)}=0,$$\nso the characteristic polynomial is the numerator\n$$(s+10)(s-1)(s+1)+33(s-0.99)=0.$$\nFirst expand the cubic term:\n$$(s-1)(s+1)=s^{2}-1,$$\n$$(s+10)(s^{2}-1)=s^{3}+10s^{2}-s-10.$$\nThen add the controller contribution:\n$$s^{3}+10s^{2}-s-10+33s-33\\cdot 0.99=s^{3}+10s^{2}+32s-42.67.$$\nThus the closed-loop characteristic polynomial is\n$$\\Delta(s)=s^{3}+10s^{2}+32s-42.67.$$\nTo assess stability, apply the Routh-Hurwitz criterion for a cubic. Let\n$$a_{3}=1,\\quad a_{2}=10,\\quad a_{1}=32,\\quad a_{0}=-42.67.$$\nA necessary condition for stability is that all coefficients be positive; here $a_{0}<0$, which immediately implies at least one right-half-plane root. For completeness, form the Routh array first column:\n- Row $s^{3}$: $1$\n- Row $s^{2}$: $10$\n- Row $s^{1}$: $\\frac{a_{2}a_{1}-a_{3}a_{0}}{a_{2}}=\\frac{10\\cdot 32-1\\cdot(-42.67)}{10}=\\frac{320+42.67}{10}=36.267$\n- Row $s^{0}$: $a_{0}=-42.67$\nThe sign change in the first column from $36.267$ to $-42.67$ confirms exactly one right-half-plane pole, so the closed-loop is unstable.\n\nFrom a frequency-domain perspective, $L(s)$ has one right-half-plane pole at $s=1$ (the plantâ€™s unstable pole is not exactly cancelled, as the controller zero is at $s=0.99$). For an open-loop with a right-half-plane pole, the Nyquist criterion requires an appropriate encirclement of $-1$ that standard gain and phase margins from a Bode plot (defined assuming no right-half-plane open-loop poles) do not guarantee. Hence the apparently comfortable margins are misleading; the closed-loop remains unstable.\n\nTherefore, the correct conclusion is that the closed-loop system is unstable due to the uncancelled right-half-plane pole in the loop transfer function.",
            "answer": "$$\\boxed{B}$$"
        },
        {
            "introduction": "Moving from stability analysis to synthesis is the hallmark of advanced control engineering. This final practice immerses you in a realistic design scenario for a high-performance Voltage Regulator Module (VRM), a cornerstone of modern digital power delivery. You will use the industry-standard K-factor method to design a Type III compensator, shaping the loop gain to meet stringent performance targets for crossover frequency and phase margin. This comprehensive exercise requires you to integrate your understanding of plant dynamics, Bode plot shaping, and stability margins to engineer a robust, high-performance control loop from the ground up .",
            "id": "3883551",
            "problem": "A multiphase Voltage Regulator Module (VRM) uses a voltage-mode controlled buck converter to regulate an output voltage feeding a high-current digital load. The output network is modeled by an inductance-capacitance-resistance network with parameters $L$, $C$, and $R$, and the capacitor has an equivalent series resistance $R_{\\mathrm{ESR}}$. The switching frequency is $f_{s}$, and the pulse-width modulation ramp amplitude is such that the modulator gain is real and positive. The control loop employs a Type III compensator, consisting of an integrator, two identical lead sections, and a high-frequency pole placed well above the crossover frequency to limit noise gain. The control-to-output plant of a voltage-mode buck converter may be modeled, for small-signal analysis around a steady operating point with duty ratio in the linear region, as a second-order low-pass with a numerator zero due to $R_{\\mathrm{ESR}}$. Specifically, the duty-to-output gain has the standard second-order form with natural frequency $\\omega_{o}$ and quality factor $Q$, along with a numerator term from $R_{\\mathrm{ESR}}$. For this design, assume that the ESR zero frequency is sufficiently higher than the desired crossover so that its phase contribution is negligible at the crossover.\n\nYou are given the following component and design specifications, which are physically consistent with a state-of-the-art VRM:\n- Inductance: $L = 3.00 \\times 10^{-7}\\ \\mathrm{H}$.\n- Capacitance: $C = 1.00 \\times 10^{-3}\\ \\mathrm{F}$.\n- Load resistance at the operating point: $R = 2.00 \\times 10^{-2}\\ \\Omega$.\n- Capacitor equivalent series resistance: $R_{\\mathrm{ESR}} = 5.00 \\times 10^{-4}\\ \\Omega$.\n- Switching frequency: $f_{s} = 6.00 \\times 10^{5}\\ \\mathrm{Hz}$.\n- Desired loop crossover frequency (unity-gain frequency): $f_{c} = 5.00 \\times 10^{4}\\ \\mathrm{Hz}$.\n- Desired phase margin: $\\phi_{m}^{\\star} = \\pi/3\\ \\mathrm{rad}$.\n\nDefine the natural frequency and quality factor of the second-order denominator of the control-to-output plant as $\\omega_{o} = 1/\\sqrt{L C}$ and $Q = R \\sqrt{C/L}$. Adopt the following K-factor construction for the two identical lead sections in the Type III compensator: each lead section has its zero at $\\omega_{z} = \\omega_{c}/\\sqrt{K}$ and its pole at $\\omega_{p} = \\omega_{c} \\sqrt{K}$, where $\\omega_{c} = 2 \\pi f_{c}$ and $K$ is a dimensionless factor to be determined. The compensator also has an integrator whose pole at the origin contributes a phase of $-\\pi/2$ at $\\omega_{c}$, and a high-frequency pole located sufficiently above $\\omega_{c}$ so that its phase contribution at $\\omega_{c}$ can be neglected.\n\nUsing first principles of linear time-invariant systems and Bode plot phase addition, determine the value of the K-factor $K$ required so that, at $\\omega = \\omega_{c}$, the total loop phase yields the desired phase margin $\\phi_{m}^{\\star}$. Assume the modulator and any constant plant gains are real and positive and thus introduce no additional phase. Express the final answer as a dimensionless number. Round your answer to three significant figures.",
            "solution": "The solution involves calculating the required phase boost from the compensator's lead sections to achieve the target phase margin at the desired crossover frequency.\n\n1.  **Determine Target Loop Phase:**\n    The phase margin ($\\phi_m$) is related to the open-loop phase ($\\angle L$) at the crossover frequency ($\\omega_c$) by $\\phi_m = \\pi + \\angle L(j\\omega_c)$ in radians.\n    With a desired phase margin of $\\phi_m^\\star = \\pi/3$ rad, the total loop phase at $\\omega_c$ must be:\n    $$ \\angle L(j\\omega_c) = \\phi_m^\\star - \\pi = \\frac{\\pi}{3} - \\pi = -\\frac{2\\pi}{3}\\ \\text{rad} $$\n\n2.  **Calculate Plant Phase at Crossover:**\n    The total loop phase is the sum of contributions from the plant, the integrator, and the two lead sections. We first find the plant's phase contribution.\n    - Crossover angular frequency: $\\omega_c = 2\\pi f_c = 2\\pi(5 \\times 10^4) = \\pi \\times 10^5$ rad/s.\n    - Plant natural frequency: $\\omega_o = \\frac{1}{\\sqrt{LC}} = \\frac{1}{\\sqrt{(3 \\times 10^{-7})(1 \\times 10^{-3})}} = \\frac{1}{\\sqrt{3 \\times 10^{-10}}} = \\frac{10^5}{\\sqrt{3}}$ rad/s.\n    - Plant quality factor: $Q = R\\sqrt{\\frac{C}{L}} = (2.00 \\times 10^{-2})\\sqrt{\\frac{1.00 \\times 10^{-3}}{3.00 \\times 10^{-7}}} = 0.02 \\cdot \\frac{100}{\\sqrt{3}} = \\frac{2}{\\sqrt{3}}$.\n\n    The phase of the second-order plant is given by $\\phi_{plant} = -\\arg\\left(1 - \\left(\\frac{\\omega_c}{\\omega_o}\\right)^2 + j\\frac{\\omega_c}{Q\\omega_o}\\right)$.\n    - Frequency ratio: $\\frac{\\omega_c}{\\omega_o} = \\frac{\\pi \\times 10^5}{10^5/\\sqrt{3}} = \\pi\\sqrt{3}$.\n    - Real part of denominator: $1 - (\\frac{\\omega_c}{\\omega_o})^2 = 1 - 3\\pi^2 \\approx -28.609$.\n    - Imaginary part of denominator: $\\frac{\\omega_c}{Q\\omega_o} = \\frac{\\pi\\sqrt{3}}{2/\\sqrt{3}} = \\frac{3\\pi}{2} \\approx 4.712$.\n    \n    Since the real part is negative, the phase of the denominator is in the second quadrant. The plant's phase is the negative of this:\n    $$ \\phi_{plant} = -\\text{atan2}\\left(\\frac{3\\pi}{2}, 1 - 3\\pi^2\\right) \\approx -2.978\\ \\text{rad} $$\n\n3.  **Determine Required Phase Boost from Lead Sections:**\n    The total loop phase is $\\angle L(j\\omega_c) = \\phi_{plant} + \\phi_{integrator} + \\phi_{leads}$. The integrator contributes $-\\pi/2$ rad.\n    $$ -\\frac{2\\pi}{3} = -2.978 - \\frac{\\pi}{2} + \\phi_{leads} $$\n    $$ \\phi_{leads} = -\\frac{2\\pi}{3} + 2.978 + \\frac{\\pi}{2} = -\\frac{\\pi}{6} + 2.978 \\approx -0.5236 + 2.978 = 2.4544\\ \\text{rad} $$\n    This is the total phase boost required from the two identical lead sections.\n\n4.  **Solve for the K-factor:**\n    A single lead section with its zero at $\\omega_z = \\omega_c/\\sqrt{K}$ and pole at $\\omega_p = \\omega_c\\sqrt{K}$ provides a phase boost at $\\omega=\\omega_c$ of:\n    $$ \\phi_{lead\\_1} = \\arctan\\left(\\frac{\\omega_c}{\\omega_z}\\right) - \\arctan\\left(\\frac{\\omega_c}{\\omega_p}\\right) = \\arctan(\\sqrt{K}) - \\arctan(1/\\sqrt{K}) $$\n    Using the identity $\\arctan(x) - \\arctan(1/x) = 2\\arctan(x) - \\pi/2$ (for $x>0$), the phase contribution is $2\\arctan(\\sqrt{K}) - \\pi/2$.\n    The two identical sections provide a total phase boost of:\n    $$ \\phi_{leads} = 2 \\cdot \\phi_{lead\\_1} = 4\\arctan(\\sqrt{K}) - \\pi $$\n    Now, we solve for $K$:\n    $$ 2.4544 = 4\\arctan(\\sqrt{K}) - \\pi $$\n    $$ 4\\arctan(\\sqrt{K}) = 2.4544 + \\pi \\approx 5.5960 $$\n    $$ \\arctan(\\sqrt{K}) = \\frac{5.5960}{4} \\approx 1.3990\\ \\text{rad} $$\n    $$ \\sqrt{K} = \\tan(1.3990) \\approx 5.768 $$\n    $$ K = (5.768)^2 \\approx 33.27 $$\n    Rounding to three significant figures, the required K-factor is $33.3$.",
            "answer": "$$\\boxed{33.3}$$"
        }
    ]
}