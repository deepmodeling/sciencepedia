{
    "hands_on_practices": [
        {
            "introduction": "要真正掌握波特图，不仅要能从传递函数绘制出波特图，还要能反向操作：从实验测得的频率响应曲线推导出系统的传递函数。这个过程类似于“逆向工程”，是系统辨识和建模中的一项基本功。这个练习将指导你如何解读波特图的斜率变化，将其与系统的极点和零点对应起来，从而构建出能够描述系统动态特性的数学模型 。",
            "id": "1613057",
            "problem": "一名工程师正在表征一个开关电压调节器的开环频率响应。该响应被测量并通过波特幅度图上的一系列直线渐近线来近似。\n\n该图使用对数频率标度表示角频率 $\\omega$ (单位为 rad/s)，幅度单位为分贝 (dB)。\n\n渐近幅度图 $|G(j\\omega)|$ 的特性如下：\n1.  对于角频率 $\\omega  2$ rad/s，幅度为恒定的 20 dB。\n2.  在 $\\omega = 2$ rad/s 处，斜率从 0 dB/十倍频程变为 -20 dB/十倍频程。\n3.  在 $\\omega = 20$ rad/s 处，斜率从 -20 dB/十倍频程变为 0 dB/十倍频程。\n4.  在 $\\omega = 100$ rad/s 处，斜率从 0 dB/十倍频程变为 -20 dB/十倍频程。\n5.  在 $\\omega = 500$ rad/s 处，斜率从 -20 dB/十倍频程变为 -40 dB/十倍频程。\n\n假设系统是稳定且最小相位的 (即，在复平面的右半平面没有极点或零点)，确定系统的传递函数 $G(s)$。将您的答案表示为 $s$ 的有理函数，并采用标准因式分解形式 $G(s) = K \\frac{\\prod(s+z_i)}{\\prod(s+p_j)}$。",
            "solution": "伯德幅度渐近线在每个转折频率处的斜率以 20 dB/十倍频程为增量发生变化。对于最小相位系统：\n- 在一个转折频率处，-20 dB/十倍频程的斜率变化表示在该频率处存在一个简单实极点。\n- 在一个转折频率处，+20 dB/十倍频程的斜率变化表示在该频率处存在一个简单实零点。\n\n根据给定的图：\n- 在 $\\omega=2$ rad/s 处，斜率从 $0$ 变为 $-20$ dB/十倍频程，表示在 $s=-2$ 处有一个极点。\n- 在 $\\omega=20$ rad/s 处，斜率从 $-20$ 变为 $0$ dB/十倍频程，表示在 $s=-20$ 处有一个零点。\n- 在 $\\omega=100$ rad/s 处，斜率从 $0$ 变为 $-20$ dB/十倍频程，表示在 $s=-100$ 处有一个极点。\n- 在 $\\omega=500$ rad/s 处，斜率从 $-20$ 变为 $-40$ dB/十倍频程，表示在 $s=-500$ 处有一个极点。\n\n因此，传递函数在这些负实数位置上有一个零点和三个极点。使用标准的一阶因子，其渐近形式为\n$$\nG(s)=K\\,\\frac{1+\\frac{s}{20}}{\\left(1+\\frac{s}{2}\\right)\\left(1+\\frac{s}{100}\\right)\\left(1+\\frac{s}{500}\\right)}.\n$$\n对于 $\\omega  2$ rad/s，低频幅度恒定为 $20$ dB。由于在该区域内 $20\\log_{10}|G(j\\omega)|=20$ dB，并且在原点处没有极点或零点，我们有 $|G(0)|=K$ 并且\n$$\n20\\log_{10}K=20 \\quad \\Rightarrow \\quad K=10.\n$$\n要将传递函数表示为标准因式分解形式 $G(s)=K\\frac{\\prod(s+z_{i})}{\\prod(s+p_{j})}$，重写归一化的因子：\n$$\nG(s)=10\\,\\frac{\\frac{s+20}{20}}{\\left(\\frac{s+2}{2}\\right)\\left(\\frac{s+100}{100}\\right)\\left(\\frac{s+500}{500}\\right)}\n=10\\,\\frac{s+20}{(s+2)(s+100)(s+500)}\\cdot\\frac{2\\cdot 100\\cdot 500}{20}.\n$$\n计算常数因子：\n$$\n\\frac{2\\cdot 100\\cdot 500}{20}=5000,\n$$\n因此总增益变为 $10\\times 5000=50000$。因此，\n$$\nG(s)=5\\times 10^{4}\\,\\frac{s+20}{(s+2)(s+100)(s+500)}.\n$$\n这是一个稳定且最小相位的系统，具有指定的极点和零点，并且与给定的伯德渐近线（包括 20 dB 的低频幅度）相匹配。",
            "answer": "$$\\boxed{5\\times 10^{4}\\,\\frac{s+20}{(s+2)(s+100)(s+500)}}$$"
        },
        {
            "introduction": "相位裕度不仅仅是一个抽象的稳定性指标，它直接量化了系统在引入额外相位延迟时保持稳定的能力。在许多实际系统中，如网络控制或带有信号传输的系统，时间延迟是不可避免的。本练习将理论与实践相结合，让你计算一个系统在闭环失稳前所能承受的最大时间延迟，这个重要的参数被称为“延迟裕度” 。",
            "id": "1613000",
            "problem": "一位控制系统工程师正在为洁净室中使用的高精度机械臂设计一个远程操作界面。控制信号将通过专用网络发送，这会在反馈回路中引入一个纯粹但可变的时间延迟 $\\tau$。在部署网络之前，工程师分析了现有的本地控制系统。从系统的开环传递函数的波特图中，确定该系统在增益交越频率 $\\omega_{gc} = 12.5$ rad/s 时的相位裕度为 $\\phi_m = 40.0^\\circ$。\n\n如果网络延迟引入的额外相位滞后导致增益交越频率处的总相位达到 $-180^\\circ$，则闭环系统的稳定性将受到损害。计算在闭环系统变得不稳定之前，网络所能容忍的最大时间延迟，也称为延迟裕度。\n\n将您的答案以毫秒 (ms) 为单位表示，并四舍五入到三位有效数字。",
            "solution": "在增益交越频率 $\\omega_{gc}$ 处的相位裕度 $\\phi_{m}$ 表示在环路相位达到 $-180^{\\circ}$ 之前可以容忍多少额外的相位滞后。一个纯时间延迟 $\\tau$ 在频率 $\\omega$ 处会产生 $-\\omega \\tau$ 弧度的额外相位滞后。在增益交越频率处，当这个增加的滞后等于现有的相位裕度时，达到闭环稳定性的极限：\n$$\n\\omega_{gc}\\,\\tau_{\\max}=\\phi_{m}\\ \\text{(in radians)}.\n$$\n因此，\n$$\n\\tau_{\\max}=\\frac{\\phi_{m,\\text{rad}}}{\\omega_{gc}}.\n$$\n将给定的相位裕度从度转换为弧度：\n$$\n\\phi_{m,\\text{rad}}=\\phi_{m}\\cdot\\frac{\\pi}{180} = 40\\cdot\\frac{\\pi}{180}=\\frac{2\\pi}{9}.\n$$\n代入 $\\phi_{m,\\text{rad}}=\\frac{2\\pi}{9}$ 和 $\\omega_{gc}=12.5$：\n$$\n\\tau_{\\max}=\\frac{\\frac{2\\pi}{9}}{12.5}=\\frac{2\\pi}{112.5}=\\frac{4\\pi}{225}\\ \\text{s}.\n$$\n转换为毫秒：\n$$\n\\tau_{\\max,\\text{ms}}=\\frac{4\\pi}{225}\\times 1000=\\frac{4000\\pi}{225}\\ \\text{ms}\\approx 55.9\\ \\text{ms},\n$$\n四舍五入到三位有效数字。",
            "answer": "$$\\boxed{55.9}$$"
        },
        {
            "introduction": "从分析走向设计，是工程实践的精髓所在。本练习将带你进入一个高级应用场景：为现代电源电子设备——电压调节模块 (VRM) 设计一个 III 型补偿器。你将运用波特图的原理，通过 K 因子法这一结构化设计技术，精确地配置补偿器的零点和极点，以满足给定的穿越频率和相位裕度等关键性能指标 。这个练习不仅巩固了你对频率响应法的理解，更让你体验了如何主动塑造系统的动态响应以实现设计目标。",
            "id": "3883551",
            "problem": "一个多相电压调节模块 (VRM) 使用电压模式控制的降压转换器来调节一个为大电流数字负载供电的输出电压。输出网络由一个电感-电容-电阻网络建模，其参数为 $L$、$C$ 和 $R$，电容器具有等效串联电阻 $R_{\\mathrm{ESR}}$。开关频率为 $f_{s}$，脉冲宽度调制斜坡的幅度使得调制器增益为实数且为正。控制环路采用一个 III 型补偿器，该补偿器由一个积分器、两个相同的超前部分以及一个远高于交越频率的高频极点组成，以限制噪声增益。对于线性区域内稳态工作点周围的小信号分析，电压模式降压转换器的控制到输出被控对象可以建模为一个因 $R_{\\mathrm{ESR}}$ 而产生分子零点的二阶低通滤波器。具体来说，占空比到输出的增益具有标准的二阶形式，其自然频率为 $\\omega_{o}$，品质因数为 $Q$，以及一个由 $R_{\\mathrm{ESR}}$ 产生的分子项。对于此设计，假设 ESR 零点频率足够高于期望的交越频率，以至于其在交越频率处的相位贡献可以忽略不计。\n\n您被给予以下元件和设计规格，这些规格在物理上与最先进的 VRM 一致：\n- 电感：$L = 3.00 \\times 10^{-7}\\ \\mathrm{H}$。\n- 电容：$C = 1.00 \\times 10^{-3}\\ \\mathrm{F}$。\n- 工作点负载电阻：$R = 2.00 \\times 10^{-2}\\ \\Omega$。\n- 电容器等效串联电阻：$R_{\\mathrm{ESR}} = 5.00 \\times 10^{-4}\\ \\Omega$。\n- 开关频率：$f_{s} = 6.00 \\times 10^{5}\\ \\mathrm{Hz}$。\n- 期望的环路交越频率（单位增益频率）：$f_{c} = 5.00 \\times 10^{4}\\ \\mathrm{Hz}$。\n- 期望的相位裕度：$\\phi_{m}^{\\star} = \\pi/3\\ \\mathrm{rad}$。\n\n将被控对象控制到输出的二阶分母的自然频率和品质因数定义为 $\\omega_{o} = 1/\\sqrt{L C}$ 和 $Q = R \\sqrt{C/L}$。对于 III 型补偿器中的两个相同的超前部分，采用以下 K 因子结构：每个超前部分在 $\\omega_{z} = \\omega_{c}/\\sqrt{K}$ 处有一个零点，在 $\\omega_{p} = \\omega_{c} \\sqrt{K}$ 处有一个极点，其中 $\\omega_{c} = 2 \\pi f_{c}$，K 是一个待确定的无量纲因子。补偿器还有一个积分器，其在原点的极点在 $\\omega_{c}$ 处贡献 $-\\pi/2$ 的相位，以及一个位于远高于 $\\omega_{c}$ 的高频极点，因此其在 $\\omega_{c}$ 处的相位贡献可以忽略不计。\n\n使用线性时不变系统的第一性原理和波特图相位叠加法，确定 K 因子 $K$ 的值，使得在 $\\omega = \\omega_{c}$ 时，总环路相位产生期望的相位裕度 $\\phi_{m}^{\\star}$。假设调制器和任何恒定的被控对象增益都是实数且为正，因此不引入额外的相位。将最终答案表示为一个无量纲数。将您的答案四舍五入到三位有效数字。",
            "solution": "用户要求我确定用于电压调节模块 (VRM) 的 III 型补偿器中超前补偿器的 K 因子。该解将通过分析开环传递函数在期望交越频率处的相位来推导。\n\n### 步骤 1：问题验证\n\n首先提取所有给定信息，然后审查其科学合理性、完整性和一致性，从而对问题进行验证。\n\n**提取的已知条件：**\n-   电感：$L = 3.00 \\times 10^{-7}\\ \\mathrm{H}$\n-   电容：$C = 1.00 \\times 10^{-3}\\ \\mathrm{F}$\n-   负载电阻：$R = 2.00 \\times 10^{-2}\\ \\Omega$\n-   电容器等效串联电阻：$R_{\\mathrm{ESR}} = 5.00 \\times 10^{-4}\\ \\Omega$\n-   开关频率：$f_{s} = 6.00 \\times 10^{5}\\ \\mathrm{Hz}$\n-   期望的环路交越频率：$f_{c} = 5.00 \\times 10^{4}\\ \\mathrm{Hz}$\n-   期望的相位裕度：$\\phi_{m}^{\\star} = \\pi/3\\ \\mathrm{rad}$\n-   被控对象自然频率定义：$\\omega_{o} = 1/\\sqrt{L C}$\n-   被控对象品质因数定义：$Q = R \\sqrt{C/L}$\n-   超前补偿器零点：$\\omega_{z} = \\omega_{c}/\\sqrt{K}$\n-   超前补偿器极点：$\\omega_{p} = \\omega_{c} \\sqrt{K}$\n-   交越角频率：$\\omega_{c} = 2 \\pi f_{c}$\n\n**假设和简化：**\n-   电容器 ESR 零点在交越频率处的相位贡献可以忽略不计。\n-   补偿器的高频极点在交越频率处的相位贡献可以忽略不计。\n-   调制器增益和任何其他恒定的被控对象增益都是实数且为正，因此贡献零相位。\n\n**验证结论：**\n该问题具有科学依据，描述了电力电子控制设计中的一个标准场景。所有必要的参数和定义均已提供，元件值对于该应用在物理上是现实的。明确说明了简化假设，这些假设在初步控制环路设计中是标准做法。问题陈述清晰且自洽。因此，该问题被认为是**有效的**。\n\n### 步骤 2：求解推导\n\n主要目标是确定 K 因子 $K$ 的值，使得闭环系统在指定的交越频率 $f_{c}$ 处表现出期望的相位裕度 $\\phi_{m}^{\\star}$。\n\n相位裕度是根据开环传递函数 $G_{loop}(s)$ 在交越角频率 $\\omega_{c}$ 处的值定义的：\n$$ \\phi_{m} = \\pi + \\angle G_{loop}(j\\omega_c) $$\n给定 $\\phi_{m}^{\\star} = \\pi/3$。因此，环路增益在 $\\omega_c$ 处的总相位必须为：\n$$ \\angle G_{loop}(j\\omega_c) = \\phi_{m}^{\\star} - \\pi = \\frac{\\pi}{3} - \\pi = -\\frac{2\\pi}{3}\\ \\mathrm{rad} $$\n\n总环路相位是环路中每个组件相位贡献的总和。根据问题描述，这些组件包括控制到输出的被控对象 ($G_{plant}(s)$)、补偿器积分器以及补偿器的两个超前部分。\n$$ \\angle G_{loop}(j\\omega_c) = \\angle G_{plant}(j\\omega_c) + \\angle G_{integrator}(j\\omega_c) + \\angle G_{leads}(j\\omega_c) $$\n积分器 ($1/s$) 的相位恒为 $-\\pi/2\\ \\mathrm{rad}$。\n$$ -\\frac{2\\pi}{3} = \\angle G_{plant}(j\\omega_c) - \\frac{\\pi}{2} + \\angle G_{leads}(j\\omega_c) $$\n\n首先，我们计算被控对象的相位贡献 $\\angle G_{plant}(j\\omega_c)$。被控对象的传递函数由其具有自然频率 $\\omega_o$ 和品质因数 $Q$ 的二阶分母主导。这个二阶系统在频率 $\\omega$ 处的相位由 $\\phi_{plant} = -\\arctan\\left(\\frac{\\omega/(Q\\omega_o)}{1 - (\\omega/\\omega_o)^2}\\right)$ 给出，其中必须注意反正切函数的象限。\n\n我们计算所需的参数：\n-   交越角频率：$\\omega_c = 2\\pi f_c = 2\\pi (5.00 \\times 10^4) = \\pi \\times 10^5\\ \\mathrm{rad/s}$\n-   被控对象自然频率：$\\omega_o = \\frac{1}{\\sqrt{LC}} = \\frac{1}{\\sqrt{(3.00 \\times 10^{-7})(1.00 \\times 10^{-3})}} = \\frac{1}{\\sqrt{3 \\times 10^{-10}}} = \\frac{10^5}{\\sqrt{3}}\\ \\mathrm{rad/s}$\n-   被控对象品质因数：$Q = R\\sqrt{\\frac{C}{L}} = (2.00 \\times 10^{-2})\\sqrt{\\frac{1.00 \\times 10^{-3}}{3.00 \\times 10^{-7}}} = 0.02 \\sqrt{\\frac{10^4}{3}} = 0.02 \\cdot \\frac{100}{\\sqrt{3}} = \\frac{2}{\\sqrt{3}}$\n\n现在，我们评估相位计算所需的频率比：\n-   $\\frac{\\omega_c}{\\omega_o} = \\frac{\\pi \\times 10^5}{10^5/\\sqrt{3}} = \\pi\\sqrt{3}$\n-   $\\frac{\\omega_c}{Q\\omega_o} = \\frac{\\omega_c/\\omega_o}{Q} = \\frac{\\pi\\sqrt{3}}{2/\\sqrt{3}} = \\frac{3\\pi}{2}$\n\n被控对象传递函数在 $s=j\\omega_c$ 处的分母是 $1 - (\\frac{\\omega_c}{\\omega_o})^2 + j\\frac{\\omega_c}{Q\\omega_o} = 1 - (\\pi\\sqrt{3})^2 + j\\frac{3\\pi}{2} = 1 - 3\\pi^2 + j\\frac{3\\pi}{2}$。\n由于 $1 - 3\\pi^2  0$，实部为负，虚部为正。该复数位于第二象限。被控对象的相位是该分母相位的负值：\n$$ \\phi_{plant} = -\\left(\\pi + \\arctan\\left(\\frac{3\\pi/2}{1 - 3\\pi^2}\\right)\\right) $$\n数值计算：\n$$ \\frac{3\\pi/2}{1-3\\pi^2} \\approx \\frac{4.71239}{1 - 29.6088} \\approx -0.16472 $$\n$$ \\arctan(-0.16472) \\approx -0.16331\\ \\mathrm{rad} $$\n$$ \\phi_{plant} \\approx -(\\pi - 0.16331) \\approx -2.97828\\ \\mathrm{rad} $$\n\n接下来，我们求出两个超前部分所需的相位提升 $\\angle G_{leads}(j\\omega_c)$，我们将其表示为 $\\phi_{leads}$：\n$$ \\phi_{leads} = -\\frac{2\\pi}{3} - \\phi_{plant} + \\frac{\\pi}{2} = -\\frac{\\pi}{6} - \\phi_{plant} $$\n$$ \\phi_{leads} = -\\frac{\\pi}{6} - (-2.97828) = -0.52360 + 2.97828 = 2.45468\\ \\mathrm{rad} $$\n\n补偿器有两个相同的超前部分。单个超前部分在 $\\omega=\\omega_c$ 处的相位贡献，其零点在 $\\omega_z = \\omega_c/\\sqrt{K}$，极点在 $\\omega_p = \\omega_c\\sqrt{K}$，为：\n$$ \\phi_{lead\\_1} = \\arctan\\left(\\frac{\\omega_c}{\\omega_z}\\right) - \\arctan\\left(\\frac{\\omega_c}{\\omega_p}\\right) = \\arctan(\\sqrt{K}) - \\arctan\\left(\\frac{1}{\\sqrt{K}}\\right) $$\n对于 $K1$，我们可以使用恒等式 $\\arctan(x) + \\arctan(1/x) = \\pi/2$ 来简化此式：\n$$ \\phi_{lead\\_1} = \\arctan(\\sqrt{K}) - \\left(\\frac{\\pi}{2} - \\arctan(\\sqrt{K})\\right) = 2\\arctan(\\sqrt{K}) - \\frac{\\pi}{2} $$\n两个这样的部分的总相位是：\n$$ \\phi_{leads} = 2 \\cdot \\phi_{lead\\_1} = 4\\arctan(\\sqrt{K}) - \\pi $$\n\n最后，我们通过将所需的相位提升与超前部分的相位表达式相等来求解 $K$：\n$$ 2.45468 = 4\\arctan(\\sqrt{K}) - \\pi $$\n$$ 4\\arctan(\\sqrt{K}) = 2.45468 + \\pi \\approx 5.59627 $$\n$$ \\arctan(\\sqrt{K}) = \\frac{5.59627}{4} \\approx 1.39907\\ \\mathrm{rad} $$\n$$ \\sqrt{K} = \\tan(1.39907) \\approx 5.76945 $$\n$$ K = (5.76945)^2 \\approx 33.2865 $$\n\n将结果四舍五入到三位有效数字，我们得到 $K = 33.3$。",
            "answer": "$$\\boxed{33.3}$$"
        }
    ]
}