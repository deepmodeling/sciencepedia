{
    "hands_on_practices": [
        {
            "introduction": "为了设计一个有效的补偿器，我们首先必须精确地为被控系统（即“对象”）建立模型。在开关模式电源转换器中，脉宽调制（PWM）模块是其传递函数中的一个关键环节，它负责将控制电压转换为驱动功率开关的占空比。本练习将引导你从基本原理出发，推导典型峰值比较PWM的调制器增益，这是构建任何精确的电压模式控制环路模型的必经步骤。",
            "id": "3827867",
            "problem": "一个电压模式控制的降压转换器将使用一个 II 型网络进行补偿。在此类设计中，脉冲宽度调制 (PWM) 调制器的高频环路增益贡献必须从第一性原理出发进行量化，而不能靠假设。考虑一个峰值 PWM 调制器，其实现方式是将控制电压 $v_{c}(t)$ 与一个周期性线性斜坡 $v_{r}(t)$ 进行比较，该斜坡的开关周期为 $T_{\\mathrm{s}}$，峰值幅度为 $V_{\\mathrm{ramp}}$。在 $t=0$ 时，斜坡为零，并线性增加至 $t=T_{\\mathrm{s}}$ 时的 $V_{\\mathrm{ramp}}$。调制器在 $t=0$ 时开启开关，并在周期内当 $v_{r}(t)$ 首次等于 $v_{c}(t)$ 时关闭开关，从而产生一个占空比 $D$，该占空比等于开关开启时间占整个周期的比例。\n\n从以上定义和斜坡的线性时间规律出发，推导该峰值 PWM 的小信号调制器增益 $G_{m}$，其定义为占空比对控制电压的灵敏度，即 $G_{m}=\\frac{\\mathrm{d}D}{\\mathrm{d}v_{c}}$。然后，在斜坡峰值幅度 $V_{\\mathrm{ramp}}=1.5$ V 的条件下，计算 $G_{m}$ 的值。\n\n以 $\\mathrm{V}^{-1}$ 为单位表示您的最终答案，并将结果四舍五入到四位有效数字。",
            "solution": "本题要求推导并计算峰值 PWM 调制器的小信号调制器增益 $G_m$。该增益定义为占空比 $D$ 对控制电压 $v_c$ 的灵敏度，其形式化表达式为 $G_m = \\frac{\\mathrm{d}D}{\\mathrm{d}v_c}$。\n\n首先，我们必须根据所给的描述建立系统的数学模型。斜坡电压 $v_r(t)$ 从 $t=0$ 时的值 $0$ 线性增加到开关周期 $T_s$ 结束时的峰值幅度 $V_{\\text{ramp}}$。描述此行为在单个周期（$0 \\le t \\le T_s$）内的函数是：\n$$v_r(t) = \\left(\\frac{V_{\\text{ramp}}}{T_s}\\right) t$$\n其中，项 $\\frac{V_{\\text{ramp}}}{T_s}$ 表示斜坡的恒定斜率。\n\nPWM 调制器的工作原理是将此斜坡电压 $v_r(t)$ 与控制电压 $v_c(t)$ 进行比较。功率开关在周期开始时（$t=0$）开启。当斜坡电压等于控制电压时，开关在 $t_{\\text{off}}$ 时刻关闭。为了推导直流和交流小信号特性，我们假设在一个开关周期内，控制电压 $v_c(t)$ 是一个恒定值 $v_c$。因此，关断条件为：\n$$v_r(t_{\\text{off}}) = v_c$$\n\n占空比 $D$ 是开关处于导通状态的时间占整个开关周期的比例。由于导通时间从 $t=0$ 开始，到 $t=t_{\\text{off}}$ 结束，因此占空比由下式给出：\n$$D = \\frac{t_{\\text{off}}}{T_s}$$\n这个方程使我们能用占空比来表示关断时间：$t_{\\text{off}} = D T_s$。\n\n现在我们可以结合这些关系式，找出控制电压 $v_c$ 和占空比 $D$ 之间的直接联系。将 $t_{\\text{off}} = D T_s$ 代入关断条件 $v_r(t_{\\text{off}}) = v_c$ 中，我们得到：\n$$v_r(D T_s) = v_c$$\n接下来，我们代入斜坡电压 $v_r(t)$ 的表达式：\n$$\\left(\\frac{V_{\\text{ramp}}}{T_s}\\right) (D T_s) = v_c$$\n开关周期 $T_s$ 被消去，从而得到占空比和控制电压之间的一个简单的线性关系，这代表了调制器的大信号特性：\n$$V_{\\text{ramp}} D = v_c$$\n\n小信号调制器增益 $G_m$ 是输出（$D$）对输入（$v_c$）的导数。我们通过对大信号方程关于 $v_c$ 求导来得到这个增益：\n$$G_m = \\frac{\\mathrm{d}D}{\\mathrm{d}v_c}$$\n对大信号方程应用微分：\n$$\\frac{\\mathrm{d}}{\\mathrm{d}v_c} (V_{\\text{ramp}} D) = \\frac{\\mathrm{d}}{\\mathrm{d}v_c} (v_c)$$\n由于 $V_{\\text{ramp}}$ 是调制器的一个常数参数，我们可以写成：\n$$V_{\\text{ramp}} \\frac{\\mathrm{d}D}{\\mathrm{d}v_c} = 1$$\n求解增益 $G_m = \\frac{\\mathrm{d}D}{\\mathrm{d}v_c}$ 得到符号表达式：\n$$G_m = \\frac{1}{V_{\\text{ramp}}}$$\n\n题目要求在给定的斜坡峰值幅度 $V_{\\text{ramp}} = 1.5$ V 的条件下，对该增益进行数值计算。将此值代入推导出的公式中：\n$$G_m = \\frac{1}{1.5 \\ \\text{V}}$$\n计算数值：\n$$G_m = \\frac{2}{3} \\ \\mathrm{V}^{-1} \\approx 0.66666... \\ \\mathrm{V}^{-1}$$\n根据题目要求，结果必须四舍五入到四位有效数字。\n$$G_m \\approx 0.6667 \\ \\mathrm{V}^{-1}$$\n这个结果量化了 PWM 调制器模块的增益，这是设计转换器反馈补偿网络的一个关键参数。",
            "answer": "$$\\boxed{0.6667}$$"
        },
        {
            "introduction": "掌握了被控对象的模型后，下一步便是设计补偿器以实现期望的性能指标，例如快速的动态响应和稳态精度。本练习将聚焦于最基础的I型补偿器（一个理想积分器），并让你实践一个核心的设计任务：通过设定环路增益的穿越频率来确定闭环系统的带宽。这个过程清晰地展示了补偿器参数如何直接影响系统的动态性能。",
            "id": "3827835",
            "problem": "一个工作在连续导通模式下的电流模式控制直流-直流降压转换器，其内部电流环路被紧密闭合。从补偿器输出到稳压输出的所得到的线性化外环被控对象可以用一个复频域响应来表示，其在指定角频率下的幅值通过小信号注入实验测量得到。将误差放大器跨导与被控对象接口的乘积以及控制到输出小信号增益记为 $G_{m}G_{vd}(s)$，因此单环路开环传递函数为 $L(s)=C(s)\\,G_{m}G_{vd}(s)$，其中 $C(s)$ 是补偿器。\n\n你需要设计一个I型补偿器，其模型为理想积分器 $C(s)=K/s$，以在角频率 $\\omega_{c}$ 处实现单位增益带宽（穿越频率）。假设在期望的穿越频率 $\\omega_{c}=2\\pi\\cdot 5\\ \\text{kHz}$ 处，实验测得的被控对象幅值为 $|G_{m}G_{vd}(j\\omega_{c})|=2.0\\times 10^{-2}$（无量纲）。\n\n仅从环路传递函数、幅值穿越和给定补偿器形式的定义出发，推导所需 $K$ 的表达式并计算其值。将 $K$ 以弧度/秒为单位表示，并将你的答案四舍五入到四位有效数字。最终答案必须是一个实数值。",
            "solution": "目标是求出I型补偿器 $C(s) = K/s$ 的积分器增益 $K$ 的值，使得闭环系统具有单位增益穿越角频率 $\\omega_c$。\n\n系统的开环传递函数由 $L(s)$ 给出。\n$$L(s) = C(s) \\, G_{m}G_{vd}(s)$$\n代入I型补偿器的表达式，我们得到：\n$$L(s) = \\frac{K}{s} G_{m}G_{vd}(s)$$\n单位增益穿越频率 $\\omega_c$ 定义为开环传递函数的幅值等于单位（$1$）时的角频率。在频域中，通过设置 $s = j\\omega_c$ 来表示：\n$$|L(j\\omega_c)| = 1$$\n我们计算 $L(s)$ 在 $s = j\\omega_c$ 处的幅值：\n$$|L(j\\omega_c)| = \\left| \\frac{K}{j\\omega_c} G_{m}G_{vd}(j\\omega_c) \\right|$$\n利用复数乘积的幅值等于其幅值乘积的性质：\n$$|L(j\\omega_c)| = \\left| \\frac{K}{j\\omega_c} \\right| \\cdot |G_{m}G_{vd}(j\\omega_c)|$$\n增益 $K$ 是一个正实常数，对于正角频率 $\\omega_c$，我们有 $|j\\omega_c| = \\omega_c$。因此：\n$$\\left| \\frac{K}{j\\omega_c} \\right| = \\frac{K}{\\omega_c}$$\n将此代回环路增益幅值的表达式中：\n$$|L(j\\omega_c)| = \\frac{K}{\\omega_c} |G_{m}G_{vd}(j\\omega_c)|$$\n现在，我们应用单位增益穿越条件 $|L(j\\omega_c)| = 1$：\n$$\\frac{K}{\\omega_c} |G_{m}G_{vd}(j\\omega_c)| = 1$$\n现在我们可以求解所需的增益 $K$：\n$$K = \\frac{\\omega_c}{|G_{m}G_{vd}(j\\omega_c)|}$$\n这是 $K$ 的符号表达式。\n\n接下来，我们代入问题陈述中提供的数值。\n期望的穿越角频率是：\n$$\\omega_c = 2\\pi \\cdot 5 \\text{ kHz} = 2\\pi \\cdot (5 \\times 10^3) \\text{ rad/s} = 10000\\pi \\text{ rad/s}$$\n在此频率下被控对象的幅值给出为：\n$$|G_{m}G_{vd}(j\\omega_c)| = 2.0 \\times 10^{-2}$$\n将这些值代入 $K$ 的表达式中：\n$$K = \\frac{10000\\pi}{2.0 \\times 10^{-2}}$$\n$$K = \\frac{\\pi \\times 10^4}{2 \\times 10^{-2}} = \\frac{\\pi}{2} \\times 10^{4 - (-2)} = 0.5\\pi \\times 10^6 \\text{ rad/s}$$\n现在我们计算数值，并按要求四舍五入到四位有效数字：\n$$K \\approx 0.5 \\times (3.14159265...) \\times 10^6$$\n$$K \\approx 1.5707963... \\times 10^6$$\n四舍五入到四位有效数字得到：\n$$K \\approx 1.571 \\times 10^6$$\n$K$ 的单位是弧度/秒，符合要求。这可以通过对补偿器传递函数 $C(s)=K/s$ 进行量纲分析来验证。由于对于无量纲的环路增益 $L(s)$（给定无量纲的被控对象增益），$C(s)$ 也必须是无量纲的，而 $s$ 的单位是 rad/s，因此 $K$ 的单位也必须是 rad/s。",
            "answer": "$$\\boxed{1.571 \\times 10^{6}}$$"
        },
        {
            "introduction": "理论上的控制器设计在付诸实践时必须考虑非理想效应。包含积分环节的补偿器（如I型、II型和III型）存在一个被称为“积分饱和”或“积分上绕”（integrator windup）的实际问题，它会在启动或大信号扰动期间严重影响系统性能。通过本练习，你将分析这一现象的动态过程，并设计一个抗饱和电路来确保控制器在各种工况下都能保持鲁棒和可预测的行为。",
            "id": "3827818",
            "problem": "一个降压直流-直流转换器由一个电压模式控制环路进行调节，其补偿器是一个I型网络（纯积分器）。该补偿器实现为一个理想运算放大器积分器，其反馈电容值为 $C_{i}$，并且没有设计故意的直流泄漏。来自补偿器的控制输出 $u(t)$ 通过一个代表脉冲宽度调制（PWM）调制器和栅极驱动器限制的指令饱和非线性环节；施加的执行器信号为 $u_{a}(t) = \\mathrm{sat}(u(t))$，其中饱和将 $u_{a}(t)$ 钳位在 $[0, U_{\\max}]$ 区间内。\n\n在启动时，输出电压初始接近于零，提供给积分器的误差 $e(t)$ 在初始区间 $[0, T_{0}]$ 内近似为正常数：$e(t) \\approx E_{0}$。积分器的增益为 $K_{i}$，在没有任何钳位的情况下，其状态演化为 $\\dot{v}_{c}(t) = K_{i}\\,e(t)$，其中 $v_{c}(0)=0$ 且 $u(t) = v_{c}(t)$。假设 $E_{0} > 0$ 且 $U_{\\max}$ 足够小，以至于在启动初期很早就发生饱和。\n\n为了减轻积分器饱和效应，您提出了一种抗饱和钳位方案，该方案实现为一个理想二极管与一个电阻 $R_{aw}$ 串联，连接在补偿器输出节点和饱和执行器节点之间。当 $v_{c}(t) > u_{a}(t)$ 时，二极管正向偏置，因此钳位电路会向积分器电容注入一个与 $v_{c}(t) - u_{a}(t)$ 成正比的电流。假设二极管是理想的，并忽略任何运放输入偏置电流。\n\n仅使用电容本构定律 $i_{C} = C\\,\\mathrm{d}v/\\mathrm{d}t$ 和上述定义，执行以下操作：\n\n- 从 $i_{C} = C_{i}\\,\\mathrm{d}v_{c}/\\mathrm{d}t$ 和基尔霍夫定律出发，推导在钳位导通、执行器饱和后误差 $e(t)$ 降为 $0$ 且 $u_{a}(t)$ 保持在其饱和值不变时，控制 $v_{c}(t)$ 的微分方程。\n\n- 从该微分方程推导出，在钳位导通条件下，$v_{c}(t)$ 向 $u_{a}$ 恢复的动态时间常数 $\\tau_{aw}$，并用 $R_{aw}$ 和 $C_{i}$ 表示。\n\n给定以下适用于大电流转换器启动场景的数值上合理的参数：\n- $C_{i} = 137\\,\\mathrm{nF}$，\n- 期望的抗饱和恢复时间常数 $\\tau_{aw} = 2.75\\,\\mathrm{ms}$。\n\n计算实现指定钳位时间常数 $\\tau_{aw}$ 所需的电阻 $R_{aw}$。最终电阻值以欧姆为单位表示，并将答案四舍五入到四位有效数字。",
            "solution": "**第1部分：$v_{c}(t)$ 的微分方程推导**\n\n我们在运算放大器的输出节点应用基尔霍夫电流定律（KCL），该节点的电压为 $v_{c}(t)$。此节点连接到积分电容 $C_i$ 和抗饱和钳位电路。为电容充电的总电流 $i_{C}$ 是流入该节点的电流的代数和。\n\n为电容充电的电流由本构定律给出：\n$$i_{C}(t) = C_{i} \\frac{dv_{c}(t)}{dt}$$\n\n积分器电路提供一个与误差信号 $e(t)$ 成正比的电流。根据未钳位状态方程 $\\dot{v}_{c}(t) = K_{i}\\,e(t)$，并且知道在这种情况下 $i_{C}(t) = C_{i}\\dot{v}_{c}(t)$，我们可以确定由电路的误差处理部分提供的电流为：\n$$i_{in}(t) = C_{i} K_{i} e(t)$$\n\n抗饱和钳位电路由一个电阻 $R_{aw}$ 与一个理想二极管串联组成，连接在节点 $v_{c}(t)$ 和执行器节点 $u_{a}(t)$ 之间。当钳位导通时（即 $v_{c}(t) > u_{a}(t)$ 时），理想二极管充当短路。一个电流 $i_{aw}(t)$ 从电容节点流出，通过电阻 $R_{aw}$。该电流由欧姆定律给出：\n$$i_{aw}(t) = \\frac{v_{c}(t) - u_{a}(t)}{R_{aw}}$$\n\n在电容节点应用KCL，为电容充电的净电流为 $i_{C} = i_{in} - i_{aw}$：\n$$C_{i} \\frac{dv_{c}(t)}{dt} = C_{i} K_{i} e(t) - \\frac{v_{c}(t) - u_{a}(t)}{R_{aw}}$$\n\n问题要求我们在特定条件下推导微分方程：钳位导通，误差 $e(t)$ 已降为 $0$，且执行器信号 $u_{a}(t)$ 保持在其饱和值不变。由于初始误差 $E_0$ 为正，积分器电压 $v_c(t)$ 会增加，导致在上限处饱和。因此，$u_{a}(t)$ 恒定为 $U_{\\max}$。\n\n将 $e(t) = 0$ 和 $u_{a}(t) = U_{\\max}$ 代入KCL方程，我们得到：\n$$C_{i} \\frac{dv_{c}(t)}{dt} = C_{i} K_{i} (0) - \\frac{v_{c}(t) - U_{\\max}}{R_{aw}}$$\n这可以简化为在抗饱和恢复期间控制 $v_{c}(t)$ 的微分方程：\n$$C_{i} \\frac{dv_{c}(t)}{dt} = - \\frac{v_{c}(t) - U_{\\max}}{R_{aw}}$$\n\n**第2部分：恢复时间常数 $\\tau_{aw}$ 的推导**\n\n为了求出时间常数，我们将推导出的微分方程重排成一阶线性系统的标准形式，即 $\\tau \\frac{dy(t)}{dt} + y(t) = K_{dc} \\cdot f(t)$，其中 $\\tau$ 是时间常数。\n\n从我们的方程开始：\n$$C_{i} \\frac{dv_{c}(t)}{dt} = - \\frac{1}{R_{aw}} (v_{c}(t) - U_{\\max})$$\n两边同乘以 $R_{aw}$：\n$$R_{aw} C_{i} \\frac{dv_{c}(t)}{dt} = -v_{c}(t) + U_{\\max}$$\n将包含 $v_{c}(t)$ 的项移到左边：\n$$R_{aw} C_{i} \\frac{dv_{c}(t)}{dt} + v_{c}(t) = U_{\\max}$$\n此方程现在是标准形式 $\\tau \\frac{dy}{dt} + y = f$，其中 $y(t) = v_{c}(t)$，常数输入 $f = U_{\\max}$，时间常数 $\\tau$ 是导数项的系数。\n\n通过直接观察，抗饱和恢复时间常数 $\\tau_{aw}$ 为：\n$$\\tau_{aw} = R_{aw} C_{i}$$\n这个结果在物理上是直观的，它代表了由抗饱和电阻和积分器电容形成的放电路径的RC时间常数。积分器状态 $v_c(t)$ 以这个时间常数指数地向饱和水平 $U_{max}$ 恢复。\n\n**第3部分：电阻值 $R_{aw}$ 的计算**\n\n我们的任务是找到实现指定时间常数 $\\tau_{aw}$ 所需的 $R_{aw}$ 值。我们重排上面推导出的公式：\n$$R_{aw} = \\frac{\\tau_{aw}}{C_{i}}$$\n\n给定的值为：\n- $\\tau_{aw} = 2.75\\,\\mathrm{ms} = 2.75 \\times 10^{-3}\\,\\mathrm{s}$\n- $C_{i} = 137\\,\\mathrm{nF} = 137 \\times 10^{-9}\\,\\mathrm{F}$\n\n将这些值代入方程中：\n$$R_{aw} = \\frac{2.75 \\times 10^{-3}\\,\\mathrm{s}}{137 \\times 10^{-9}\\,\\mathrm{F}}$$\n$$R_{aw} = \\frac{2.75}{137} \\times 10^{6}\\,\\Omega$$\n$$R_{aw} \\approx 0.0200729927 \\times 10^{6}\\,\\Omega$$\n$$R_{aw} \\approx 20072.9927\\,\\Omega$$\n\n问题要求答案四舍五入到四位有效数字。前四位有效数字是 $2$、$0$、$0$ 和 $7$。第五位是 $2$，小于 $5$，所以我们向下舍入。\n$$R_{aw} \\approx 20070\\,\\Omega$$\n为了用四位有效数字明确地表示这一点，我们使用科学记数法：\n$$R_{aw} = 2.007 \\times 10^{4}\\,\\Omega$$\n最终答案是电阻值的数值，单位为欧姆。",
            "answer": "$$\\boxed{2.007 \\times 10^{4}}$$"
        }
    ]
}