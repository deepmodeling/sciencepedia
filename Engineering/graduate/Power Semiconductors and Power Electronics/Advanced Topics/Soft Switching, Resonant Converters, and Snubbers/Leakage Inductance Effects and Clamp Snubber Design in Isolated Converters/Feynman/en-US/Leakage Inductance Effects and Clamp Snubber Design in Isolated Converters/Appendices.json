{
    "hands_on_practices": [
        {
            "introduction": "Accurate component models are the foundation of reliable power converter design and simulation. This first practice delves into the standard experimental procedure for characterizing a high-frequency transformer: the open-circuit and short-circuit test. By learning how to correct for the non-ideal effects of winding resistance and core loss, you will be able to extract precise values for the magnetizing inductance ($L_m$) and leakage inductance ($L_\\ell$) from practical measurement data, a crucial first step in analyzing or mitigating parasitic effects .",
            "id": "3854971",
            "problem": "A high-frequency isolated converter employs a two-winding transformer whose primary-referred equivalent at angular frequency $\\omega$ can be modeled by a series path consisting of a finite winding resistance $R_{w}$ and a leakage inductance $L_{\\ell}$, feeding a shunt magnetizing branch composed of a magnetizing inductance $L_{m}$ in parallel with a core-loss resistance $R_{c}$. The open-short method uses two frequency-domain measurements to separate $L_{m}$ and $L_{\\ell}$, but at high frequency the finite $R_{w}$ and non-negligible core loss must be corrected.\n\nStarting from Ohm’s law and the definitions of complex impedance and admittance, derive expressions that isolate the magnetizing branch admittance from the open-circuit measurement by removing the series path, and isolate the series path from the short-circuit measurement. Assume sinusoidal steady state and linear components. You must articulate the modeling assumptions that justify neglecting the magnetizing branch in the short-circuit measurement and demonstrate how to include the winding resistance and core loss corrections in the open-circuit measurement.\n\nThen, apply your derived method to the following test data taken at $f = 200\\,\\mathrm{kHz}$ (so $\\omega = 2\\pi f$), with all quantities referred to the primary:\n\n- Open-circuit test (secondary open): applied voltage $V_{\\text{oc}} = 20\\,\\mathrm{V}_{\\mathrm{rms}}$, measured input current $I_{\\text{oc}} = 50\\,\\mathrm{mA}_{\\mathrm{rms}}$, measured input real power $P_{\\text{oc}} = 0.200\\,\\mathrm{W}$.\n- Short-circuit test (secondary shorted): applied voltage $V_{\\text{sc}} = 1.00\\,\\mathrm{V}_{\\mathrm{rms}}$, measured input current $I_{\\text{sc}} = 2.00\\,\\mathrm{A}_{\\mathrm{rms}}$, measured input real power $P_{\\text{sc}} = 1.00\\,\\mathrm{W}$.\n\nUsing only these data and fundamental circuit relations, compute the magnetizing inductance $L_{m}$ and the leakage inductance $L_{\\ell}$, both referred to the primary. Express $L_{m}$ in millihenries (mH) and $L_{\\ell}$ in microhenries ($\\mu\\mathrm{H}$). Round your answers to three significant figures. The final answer must be given as a two-entry row matrix in the order $\\left(L_{m}\\ [\\mathrm{mH}],\\ L_{\\ell}\\ [\\mu\\mathrm{H}]\\right)$.",
            "solution": "The problem is valid as it is scientifically grounded in the principles of circuit theory, well-posed with sufficient and consistent data, and objective in its formulation. It represents a standard, albeit detailed, problem in power electronics concerning transformer characterization.\n\nThe high-frequency equivalent circuit of the transformer, referred to the primary, consists of a series impedance $Z_{\\text{series}}$ representing winding resistance $R_w$ and leakage inductance $L_{\\ell}$, and a shunt admittance $Y_{\\text{mag}}$ representing core-loss conductance $G_c = 1/R_c$ and magnetizing susceptance $B_m = 1/(\\omega L_m)$. The complex representations are:\n$$ Z_{\\text{series}} = R_w + j\\omega L_{\\ell} $$\n$$ Y_{\\text{mag}} = \\frac{1}{R_c} - j\\frac{1}{\\omega L_m} = G_c - jB_m $$\nThe task is to determine $L_{\\ell}$ and $L_m$ from open-circuit and short-circuit test data. We operate in sinusoidal steady state, using complex phasors for voltage and current.\n\n**Short-Circuit Test Analysis and Isolation of the Series Path**\n\nIn the short-circuit test, a voltage $\\boldsymbol{V}_{\\text{sc}}$ is applied to the primary while the secondary is shorted. The equivalent circuit seen from the primary terminals is the series impedance $Z_{\\text{series}}$ in parallel with the magnetizing branch impedance $Z_{\\text{mag}} = 1/Y_{\\text{mag}}$. The measured input impedance is:\n$$ Z_{\\text{sc}} = \\frac{\\boldsymbol{V}_{\\text{sc}}}{\\boldsymbol{I}_{\\text{sc}}} = Z_{\\text{series}} \\parallel Z_{\\text{mag}} = \\frac{Z_{\\text{series}} Z_{\\text{mag}}}{Z_{\\text{series}} + Z_{\\text{mag}}} $$\nA foundational modeling assumption for this test is that the magnitude of the magnetizing impedance is significantly larger than the magnitude of the series impedance, i.e., $|Z_{\\text{mag}}| \\gg |Z_{\\text{series}}|$. This is physically justified because the magnetizing inductance $L_m$ is typically orders of magnitude larger than the leakage inductance $L_\\ell$, making the magnetizing reactance $\\omega L_m$ very large. Similarly, the core loss resistance $R_c$ is also large. Consequently, the impedance of the parallel magnetizing branch is high.\n\nUnder this assumption, the input admittance $Y_{\\text{sc}} = 1/Z_{\\text{sc}}$ can be approximated:\n$$ Y_{\\text{sc}} = \\frac{1}{Z_{\\text{series}}} + \\frac{1}{Z_{\\text{mag}}} = Y_{\\text{series}} + Y_{\\text{mag}} $$\nSince $|Z_{\\text{mag}}| \\gg |Z_{\\text{series}}|$, it follows that $|Y_{\\text{mag}}| \\ll |Y_{\\text{series}}|$. We can therefore neglect the magnetizing branch admittance, which justifies the approximation:\n$$ Y_{\\text{sc}} \\approx Y_{\\text{series}} \\quad \\implies \\quad Z_{\\text{sc}} \\approx Z_{\\text{series}} $$\nThis approximation isolates the series path. We can now determine its components from the short-circuit test measurements: $V_{\\text{sc}}$, $I_{\\text{sc}}$, and real power $P_{\\text{sc}}$. The magnitude of the impedance is $|Z_{\\text{sc}}| = V_{\\text{sc}}/I_{\\text{sc}}$. The real part of the impedance, which we equate to the winding resistance $R_w$, is found from the dissipated power:\n$$ R_w \\approx \\text{Re}(Z_{\\text{sc}}) = \\frac{P_{\\text{sc}}}{I_{\\text{sc}}^2} $$\nThe imaginary part, the leakage reactance $\\omega L_{\\ell}$, is then found using the impedance triangle:\n$$ \\omega L_{\\ell} \\approx \\text{Im}(Z_{\\text{sc}}) = \\sqrt{|Z_{\\text{sc}}|^2 - (\\text{Re}(Z_{\\text{sc}}))^2} = \\sqrt{\\left(\\frac{V_{\\text{sc}}}{I_{\\text{sc}}}\\right)^2 - \\left(\\frac{P_{\\text{sc}}}{I_{\\text{sc}}^2}\\right)^2} $$\nFrom this, the leakage inductance is:\n$$ L_{\\ell} = \\frac{1}{\\omega} \\sqrt{\\left(\\frac{V_{\\text{sc}}}{I_{\\text{sc}}}\\right)^2 - \\left(\\frac{P_{\\text{sc}}}{I_{\\text{sc}}^2}\\right)^2} $$\n\n**Open-Circuit Test Analysis and Isolation of the Magnetizing Branch**\n\nIn the open-circuit test, the secondary is left open, and a voltage $\\boldsymbol{V}_{\\text{oc}}$ is applied to the primary. The input current $\\boldsymbol{I}_{\\text{oc}}$ is the magnetizing current. The equivalent circuit is the series impedance $Z_{\\text{series}}$ in series with the magnetizing branch impedance $Z_{\\text{mag}}$. The measured total input impedance is:\n$$ Z_{\\text{oc}} = \\frac{\\boldsymbol{V}_{\\text{oc}}}{\\boldsymbol{I}_{\\text{oc}}} = Z_{\\text{series}} + Z_{\\text{mag}} $$\nTo isolate the magnetizing branch, we must subtract the series impedance (determined from the short-circuit test) from the total open-circuit impedance. This constitutes the correction for the series winding resistance and leakage inductance.\n$$ Z_{\\text{mag}} = Z_{\\text{oc}} - Z_{\\text{series}} \\approx Z_{\\text{oc}} - Z_{\\text{sc}} $$\nThe components of $Z_{\\text{oc}}$ are found from the open-circuit measurements $V_{\\text{oc}}$, $I_{\\text{oc}}$, and $P_{\\text{oc}}$:\n$$ \\text{Re}(Z_{\\text{oc}}) = \\frac{P_{\\text{oc}}}{I_{\\text{oc}}^2} $$\n$$ \\text{Im}(Z_{\\text{oc}}) = \\sqrt{\\left(\\frac{V_{\\text{oc}}}{I_{\\text{oc}}}\\right)^2 - (\\text{Re}(Z_{\\text{oc}}))^2} $$\nLet $Z_{\\text{mag}} = R_{\\text{m,eq}} + jX_{\\text{m,eq}}$ be the equivalent series representation of the magnetizing branch. Then:\n$$ R_{\\text{m,eq}} = \\text{Re}(Z_{\\text{oc}}) - \\text{Re}(Z_{\\text{sc}}) $$\n$$ X_{\\text{m,eq}} = \\text{Im}(Z_{\\text{oc}}) - \\text{Im}(Z_{\\text{sc}}) $$\nThe magnetizing branch itself is a parallel combination of $R_c$ and $L_m$. To find these values, it is most direct to work with admittance, $Y_{\\text{mag}} = 1/Z_{\\text{mag}}$.\n$$ Y_{\\text{mag}} = \\frac{1}{R_{\\text{m,eq}} + jX_{\\text{m,eq}}} = \\frac{R_{\\text{m,eq}} - jX_{\\text{m,eq}}}{R_{\\text{m,eq}}^2 + X_{\\text{m,eq}}^2} $$\nBy definition, $Y_{\\text{mag}} = G_c - jB_m = \\frac{1}{R_c} - j\\frac{1}{\\omega L_m}$. Comparing the imaginary parts:\n$$ \\frac{1}{\\omega L_m} = \\frac{X_{\\text{m,eq}}}{R_{\\text{m,eq}}^2 + X_{\\text{m,eq}}^2} $$\nThis yields the expression for the magnetizing inductance, which fully incorporates corrections for both winding resistance $R_w$ (via $R_{\\text{m,eq}}$) and core loss $R_c$ (by not assuming $R_{\\text{m,eq}}=0$):\n$$ L_m = \\frac{R_{\\text{m,eq}}^2 + X_{\\text{m,eq}}^2}{\\omega X_{\\text{m,eq}}} $$\n\n**Numerical Calculation**\n\nFirst, the angular frequency is $\\omega = 2\\pi f = 2\\pi(200 \\times 10^3\\,\\mathrm{Hz}) = 4\\pi \\times 10^5\\,\\mathrm{rad/s}$.\n\n1.  **From the short-circuit test data:**\n    - $V_{\\text{sc}} = 1.00\\,\\mathrm{V}_{\\mathrm{rms}}$, $I_{\\text{sc}} = 2.00\\,\\mathrm{A}_{\\mathrm{rms}}$, $P_{\\text{sc}} = 1.00\\,\\mathrm{W}$.\n    - We find the components of $Z_{\\text{sc}} \\approx Z_{\\text{series}}$:\n    $$ \\text{Re}(Z_{\\text{sc}}) = \\frac{P_{\\text{sc}}}{I_{\\text{sc}}^2} = \\frac{1.00\\,\\mathrm{W}}{(2.00\\,\\mathrm{A})^2} = 0.250\\,\\Omega $$\n    $$ |Z_{\\text{sc}}| = \\frac{V_{\\text{sc}}}{I_{\\text{sc}}} = \\frac{1.00\\,\\mathrm{V}}{2.00\\,\\mathrm{A}} = 0.500\\,\\Omega $$\n    $$ \\text{Im}(Z_{\\text{sc}}) = \\sqrt{|Z_{\\text{sc}}|^2 - (\\text{Re}(Z_{\\text{sc}}))^2} = \\sqrt{(0.500\\,\\Omega)^2 - (0.250\\,\\Omega)^2} = \\sqrt{0.1875}\\,\\Omega \\approx 0.43301\\,\\Omega $$\n    - Thus, $R_w \\approx 0.250\\,\\Omega$ and the leakage reactance is $\\omega L_{\\ell} \\approx 0.43301\\,\\Omega$.\n    - The leakage inductance is:\n    $$ L_{\\ell} = \\frac{\\text{Im}(Z_{\\text{sc}})}{\\omega} = \\frac{0.43301\\,\\Omega}{4\\pi \\times 10^5\\,\\mathrm{rad/s}} \\approx 3.4459 \\times 10^{-7}\\,\\mathrm{H} = 0.34459\\,\\mu\\mathrm{H} $$\n    - Rounding to three significant figures, $L_{\\ell} = 0.345\\,\\mu\\mathrm{H}$.\n\n2.  **From the open-circuit test data:**\n    - $V_{\\text{oc}} = 20\\,\\mathrm{V}_{\\mathrm{rms}}$, $I_{\\text{oc}} = 50\\,\\mathrm{mA}_{\\mathrm{rms}} = 0.050\\,\\mathrm{A}_{\\mathrm{rms}}$, $P_{\\text{oc}} = 0.200\\,\\mathrm{W}$.\n    - We find the components of the total impedance $Z_{\\text{oc}}$:\n    $$ \\text{Re}(Z_{\\text{oc}}) = \\frac{P_{\\text{oc}}}{I_{\\text{oc}}^2} = \\frac{0.200\\,\\mathrm{W}}{(0.050\\,\\mathrm{A})^2} = 80.0\\,\\Omega $$\n    $$ |Z_{\\text{oc}}| = \\frac{V_{\\text{oc}}}{I_{\\text{oc}}} = \\frac{20\\,\\mathrm{V}}{0.050\\,\\mathrm{A}} = 400\\,\\Omega $$\n    $$ \\text{Im}(Z_{\\text{oc}}) = \\sqrt{|Z_{\\text{oc}}|^2 - (\\text{Re}(Z_{\\text{oc}}))^2} = \\sqrt{(400\\,\\Omega)^2 - (80.0\\,\\Omega)^2} = \\sqrt{153600}\\,\\Omega \\approx 391.92\\,\\Omega $$\n\n3.  **Correct for series impedance and calculate $L_m$:**\n    - We find the components of the magnetizing impedance $Z_{\\text{mag}} = Z_{\\text{oc}} - Z_{\\text{sc}}$:\n    $$ R_{\\text{m,eq}} = \\text{Re}(Z_{\\text{oc}}) - \\text{Re}(Z_{\\text{sc}}) = 80.0\\,\\Omega - 0.250\\,\\Omega = 79.75\\,\\Omega $$\n    $$ X_{\\text{m,eq}} = \\text{Im}(Z_{\\text{oc}}) - \\text{Im}(Z_{\\text{sc}}) = 391.92\\,\\Omega - 0.43301\\,\\Omega \\approx 391.49\\,\\Omega $$\n    - Now, we compute the magnetizing inductance $L_m$:\n    $$ L_m = \\frac{R_{\\text{m,eq}}^2 + X_{\\text{m,eq}}^2}{\\omega X_{\\text{m,eq}}} = \\frac{(79.75\\,\\Omega)^2 + (391.49\\,\\Omega)^2}{(4\\pi \\times 10^5\\,\\mathrm{rad/s})(391.49\\,\\Omega)} $$\n    $$ L_m = \\frac{6360.0625 + 153264.4}{4.9195 \\times 10^8}\\,\\mathrm{H} = \\frac{159624.5}{4.9195 \\times 10^8}\\,\\mathrm{H} \\approx 3.2446 \\times 10^{-4}\\,\\mathrm{H} $$\n    - Expressing in millihenries, $L_m \\approx 0.32446\\,\\mathrm{mH}$.\n    - Rounding to three significant figures, $L_m = 0.324\\,\\mathrm{mH}$.\n\nThe computed parameters are $L_m = 0.324\\,\\mathrm{mH}$ and $L_{\\ell} = 0.345\\,\\mu\\mathrm{H}$.",
            "answer": "$$ \\boxed{\\begin{pmatrix} 0.324 & 0.345 \\end{pmatrix}} $$"
        },
        {
            "introduction": "The parasitic effects of leakage inductance often first appear on an oscilloscope as high-frequency voltage ringing on a switching node. This exercise transforms a qualitative observation into a quantitative analysis, showing how to use this ringing waveform as a powerful diagnostic tool. By applying the principles of second-order systems to the measured period and decay of the voltage oscillation, you will learn to reverse-engineer the value of the leakage inductance directly from in-circuit measurements .",
            "id": "3854939",
            "problem": "A primary-side Metal–Oxide–Semiconductor Field-Effect Transistor (MOSFET) in an isolated flyback converter exhibits underdamped voltage ringing at its switch node immediately after turn-off due to the resonance between transformer leakage inductance and the effective parallel capacitance at the node. Assume the switch node can be modeled for the first few nanoseconds after turn-off as a series resistance and leakage inductance feeding a single effective shunt capacitance to ground. Measurements are taken with a high-bandwidth, low-capacitance probe so that the instrument loading is negligible.\n\nStarting from the second-order linear time-invariant differential equation governing a series resistance–inductance branch feeding a capacitor to ground, derive how the measured time-domain ringing period and the ratio of successive peak voltages can be used to estimate the undamped natural frequency and, subsequently, the leakage inductance. Use only fundamental definitions of natural frequency, damping factor, and the logarithmic decrement of an underdamped second-order system; do not assume any specialized shortcut formulas.\n\nA specific converter shows the following at the MOSFET drain during turn-off:\n- The time between the first and second positive voltage peaks of the ringing is measured as $T_r = 100\\,\\mathrm{ns}$.\n- The first and second peak amplitudes above the long-time settled value are $V_1 = 56.0\\,\\mathrm{V}$ and $V_2 = 40.0\\,\\mathrm{V}$, respectively.\n- The effective parallel capacitance at the switch node is the sum of the MOSFET output capacitance at the relevant bias and the transformer interwinding capacitance, given by $C_\\text{oss} = 120\\,\\mathrm{pF}$ and $C_\\text{tr} = 40\\,\\mathrm{pF}$.\n\nAssuming the system is underdamped and the measured period corresponds to the damped oscillation frequency, use the derived method to compute the leakage inductance $L_\\ell$. Express the final answer in microhenries ($\\mu\\mathrm{H}$) and round your answer to four significant figures.",
            "solution": "The problem statement has been critically validated and is deemed valid. It is scientifically grounded, well-posed, objective, and contains sufficient information for a unique solution. The model of a resonant RLC circuit to describe the post-turn-off ringing at a MOSFET switch node is a standard and appropriate representation in power electronics. The provided numerical values are physically realistic. The task is to derive a method from fundamental principles and apply it, which is a rigorous and well-defined problem.\n\nThe problem asks to model the switch node an instant after turn-off as a series resistance $R$, a series leakage inductance $L_\\ell$, and a shunt capacitance $C$. The behavior of the voltage across the capacitor, $v_C(t)$, is governed by the second-order linear time-invariant (LTI) differential equation for a series RLC circuit. Applying Kirchhoff's Voltage Law to the un-driven circuit (as the ringing is a transient response to initial stored energy), we have:\n$$L_\\ell \\frac{di(t)}{dt} + R i(t) + v_C(t) = 0$$\nThe current $i(t)$ flowing through the inductor and resistor is the same current that charges the capacitor, so $i(t) = C \\frac{dv_C(t)}{dt}$. Differentiating this gives $\\frac{di(t)}{dt} = C \\frac{d^2v_C(t)}{dt^2}$. Substituting these expressions for $i(t)$ and $\\frac{di(t)}{dt}$ into the KVL equation yields:\n$$L_\\ell C \\frac{d^2v_C(t)}{dt^2} + RC \\frac{dv_C(t)}{dt} + v_C(t) = 0$$\nTo match this to the standard form of a second-order system equation, we divide by $L_\\ell C$:\n$$\\frac{d^2v_C(t)}{dt^2} + \\frac{R}{L_\\ell} \\frac{dv_C(t)}{dt} + \\frac{1}{L_\\ell C} v_C(t) = 0$$\nThe standard form is given by:\n$$\\frac{d^2x(t)}{dt^2} + 2\\zeta\\omega_n \\frac{dx(t)}{dt} + \\omega_n^2 x(t) = 0$$\nBy comparing the two equations, we can identify the undamped natural frequency $\\omega_n$ and the damping factor $\\zeta$:\n$$\\omega_n^2 = \\frac{1}{L_\\ell C} \\implies \\omega_n = \\frac{1}{\\sqrt{L_\\ell C}}$$\n$$2\\zeta\\omega_n = \\frac{R}{L_\\ell}$$\nThe problem states the system is underdamped, which corresponds to $0 < \\zeta < 1$. The general solution for the voltage oscillation (relative to the final settled DC value) in an underdamped system is:\n$$v(t) = A e^{-\\alpha t} \\cos(\\omega_d t + \\phi)$$\nwhere $A$ and $\\phi$ are constants determined by initial conditions, $\\alpha = \\zeta\\omega_n$ is the damping rate, and $\\omega_d$ is the damped angular frequency. The damped frequency is related to the undamped natural frequency by:\n$$\\omega_d = \\omega_n \\sqrt{1 - \\zeta^2}$$\nThe measured time between successive peaks, $T_r$, is the period of the damped oscillation. Therefore:\n$$T_r = \\frac{2\\pi}{\\omega_d} \\implies \\omega_d = \\frac{2\\pi}{T_r}$$\nThe peak amplitudes $V_1$ and $V_2$ occur one period apart. These peaks lie on the decaying exponential envelope $A e^{-\\alpha t}$. If the first peak $V_1$ occurs at time $t_1$, the second peak $V_2$ occurs at time $t_2 = t_1 + T_r$. Their ratio is:\n$$\\frac{V_1}{V_2} = \\frac{A e^{-\\alpha t_1}}{A e^{-\\alpha (t_1 + T_r)}} = \\frac{e^{-\\alpha t_1}}{e^{-\\alpha t_1} e^{-\\alpha T_r}} = e^{\\alpha T_r}$$\nThe logarithmic decrement, $\\delta$, is defined as the natural logarithm of this ratio:\n$$\\delta = \\ln\\left(\\frac{V_1}{V_2}\\right) = \\alpha T_r = \\zeta\\omega_n T_r$$\nFrom this, we can find the product $\\zeta\\omega_n$:\n$$\\zeta\\omega_n = \\frac{1}{T_r} \\ln\\left(\\frac{V_1}{V_2}\\right)$$\nWe have a relationship connecting $\\omega_n$, $\\zeta$, and $\\omega_d$:\n$$\\omega_d^2 = \\omega_n^2(1-\\zeta^2) = \\omega_n^2 - (\\zeta\\omega_n)^2$$\nWe can solve for $\\omega_n^2$:\n$$\\omega_n^2 = \\omega_d^2 + (\\zeta\\omega_n)^2$$\nNow, we substitute the expressions derived from our measurements:\n$$\\omega_n^2 = \\left(\\frac{2\\pi}{T_r}\\right)^2 + \\left(\\frac{1}{T_r} \\ln\\left(\\frac{V_1}{V_2}\\right)\\right)^2$$\n$$\\omega_n^2 = \\frac{1}{T_r^2} \\left[ 4\\pi^2 + \\left(\\ln\\left(\\frac{V_1}{V_2}\\right)\\right)^2 \\right]$$\nFinally, we use the fundamental definition $\\omega_n^2 = \\frac{1}{L_\\ell C}$ to solve for the leakage inductance $L_\\ell$:\n$$\\frac{1}{L_\\ell C} = \\frac{1}{T_r^2} \\left[ 4\\pi^2 + \\left(\\ln\\left(\\frac{V_1}{V_2}\\right)\\right)^2 \\right]$$\n$$L_\\ell = \\frac{T_r^2}{C \\left[ 4\\pi^2 + \\left(\\ln\\left(\\frac{V_1}{V_2}\\right)\\right)^2 \\right]}$$\nThis is the derived expression for the leakage inductance based on the measured parameters.\n\nNow we proceed with the numerical computation.\nThe given values are:\n$T_r = 100\\,\\mathrm{ns} = 1.0 \\times 10^{-7}\\,\\mathrm{s}$\n$V_1 = 56.0\\,\\mathrm{V}$\n$V_2 = 40.0\\,\\mathrm{V}$\n$C_\\text{oss} = 120\\,\\mathrm{pF} = 120 \\times 10^{-12}\\,\\mathrm{F}$\n$C_\\text{tr} = 40\\,\\mathrm{pF} = 40 \\times 10^{-12}\\,\\mathrm{F}$\n\nFirst, we calculate the total effective capacitance $C$:\n$$C = C_\\text{oss} + C_\\text{tr} = 120 \\times 10^{-12}\\,\\mathrm{F} + 40 \\times 10^{-12}\\,\\mathrm{F} = 160 \\times 10^{-12}\\,\\mathrm{F}$$\nNext, we calculate the terms in the derived expression for $L_\\ell$:\nThe ratio of the peak voltages is:\n$$\\frac{V_1}{V_2} = \\frac{56.0}{40.0} = 1.4$$\nThe square of the natural logarithm of this ratio is:\n$$\\left(\\ln\\left(\\frac{V_1}{V_2}\\right)\\right)^2 = (\\ln(1.4))^2 \\approx (0.3364722)^2 \\approx 0.1132136$$\nThe term $4\\pi^2$ is:\n$$4\\pi^2 \\approx 39.4784176$$\nNow, substitute these values into the expression for $L_\\ell$:\n$$L_\\ell = \\frac{(1.0 \\times 10^{-7})^2}{(160 \\times 10^{-12}) \\left[ 4\\pi^2 + (\\ln(1.4))^2 \\right]}$$\n$$L_\\ell \\approx \\frac{1.0 \\times 10^{-14}}{(160 \\times 10^{-12}) \\left[ 39.4784176 + 0.1132136 \\right]}$$\n$$L_\\ell \\approx \\frac{1.0 \\times 10^{-14}}{(160 \\times 10^{-12}) \\times 39.5916312}$$\n$$L_\\ell \\approx \\frac{1.0 \\times 10^{-14}}{6.334661 \\times 10^{-9}}\\,\\mathrm{H}$$\n$$L_\\ell \\approx 1.57853 \\times 10^{-6}\\,\\mathrm{H}$$\nThe problem asks for the answer in microhenries ($\\mu\\mathrm{H}$), rounded to four significant figures.\n$$L_\\ell \\approx 1.579\\,\\mu\\mathrm{H}$$",
            "answer": "$$\\boxed{1.579}$$"
        },
        {
            "introduction": "Once leakage inductance has been identified and quantified, the engineering task shifts to mitigating its detrimental consequences, such as excessive voltage slew rates ($dv/dt$) that can overstress devices and generate electromagnetic interference. This practice guides you through the design of a capacitive snubber, a common technique for controlling turn-off voltage transitions. You will learn to size the snubber by balancing the need to limit $dv/dt$ against two critical real-world constraints: the MOSFET's intrinsic voltage rating and the gate driver's finite current capability .",
            "id": "3854956",
            "problem": "An isolated power converter using Silicon Carbide Metal-Oxide-Semiconductor Field-Effect Transistor (SiC MOSFET) primary switches exhibits transformer leakage inductance. At turn-off, the leakage inductance current charges the effective capacitance at the drain node, creating a drain-to-source voltage slew rate. A parallel capacitive snubber is placed across each MOSFET to limit the voltage slew rate. The snubber resistor is chosen sufficiently large such that, during the very initial nanoseconds of the transition, the resistor current is negligible compared to the displacement currents, and the slew rate is governed by the sum of capacitances seen at the drain node.\n\nStarting from the capacitor constitutive relation $i = C \\,\\frac{dv}{dt}$ and Kirchhoff’s Current Law at the MOSFET drain node, derive the interplay between:\n- the device maximum allowable voltage slew rate $ \\left(\\frac{dv}{dt}\\right)_{\\mathrm{dev},\\max} $,\n- the gate-driver maximum current $I_{g,\\max}$ required to hold the gate voltage constant through the drain-to-gate Miller capacitance $C_{gd,\\mathrm{eff}}$ during the Miller plateau,\n- and the choice of snubber capacitance $C_{sn}$,\n\nto ensure the actual drain voltage slew rate remains within safe limits during turn-off. Then, compute the required snubber capacitance $C_{sn}$ for the following converter operating point and component parameters:\n\n- Leakage inductance current at the instant of turn-off: $I_{\\ell} = 8\\,\\mathrm{A}$.\n- Device output capacitance at the operating drain voltage: $C_{oss} = 140\\,\\mathrm{pF}$.\n- Effective Miller capacitance during the plateau: $C_{gd,\\mathrm{eff}} = 250\\,\\mathrm{pF}$.\n- Gate-driver maximum source or sink current available during the Miller plateau: $I_{g,\\max} = 0.5\\,\\mathrm{A}$.\n- Device maximum allowable drain voltage slew rate: $\\left(\\frac{dv}{dt}\\right)_{\\mathrm{dev},\\max} = 3.0 \\times 10^{3}\\,\\mathrm{V/\\mu s}$.\n\nAssume that $C_{oss}$ and $C_{gd,\\mathrm{eff}}$ can be treated as constants over the relevant voltage transition. Calculate the minimum $C_{sn}$ that guarantees the actual slew rate does not exceed the most restrictive of the device and gate-driver constraints. Round your final numeric result to four significant figures. Express the required snubber capacitance in nanofarads.",
            "solution": "### Derivation and Solution\n\nThe problem requires a derivation of the interplay between various parameters and the calculation of a required snubber capacitance, $C_{sn}$. The analysis begins at the MOSFET turn-off instant.\n\nWhen the MOSFET is commanded to turn off, the constant current $I_{\\ell}$ from the transformer leakage inductance, which was previously flowing through the conducting MOSFET, must be diverted. This current flows into the drain node and charges the various capacitances connected to it. According to Kirchhoff's Current Law (KCL) at the drain node, the sum of currents leaving the node must equal the current entering it.\n\nThe current entering the node is the leakage inductance current, $I_{\\ell}$. The currents leaving the node are the displacement currents charging the device's output capacitance $C_{oss}$, the external snubber capacitance $C_{sn}$, and the device's drain-to-gate (Miller) capacitance $C_{gd,\\mathrm{eff}}$. Let the drain-to-source voltage be $v_{DS}$. The rate of change of this voltage is the slew rate, $\\frac{dv_{DS}}{dt}$.\n\nThe KCL equation is:\n$$I_{\\ell} = I_{C_{oss}} + I_{C_{sn}} + I_{C_{gd,\\mathrm{eff}}}$$\n\nUsing the capacitor constitutive relation $i = C \\frac{dv}{dt}$, we can write the individual capacitor currents. Let $\\frac{dv}{dt}$ denote the drain-to-source voltage slew rate $\\frac{dv_{DS}}{dt}$.\n- The current into the output capacitance is $I_{C_{oss}} = C_{oss} \\frac{dv_{DS}}{dt} = C_{oss} \\frac{dv}{dt}$.\n- The current into the snubber capacitance is $I_{C_{sn}} = C_{sn} \\frac{dv_{DS}}{dt} = C_{sn} \\frac{dv}{dt}$.\n- The current into the Miller capacitance depends on the voltage across it, $v_{DG} = v_{DS} - v_{GS}$. During the Miller plateau phase of turn-off, the gate-source voltage $v_{GS}$ is held constant. Therefore, $\\frac{dv_{GS}}{dt} = 0$, and the rate of change of the drain-to-gate voltage is $\\frac{dv_{DG}}{dt} = \\frac{dv_{DS}}{dt} - \\frac{dv_{GS}}{dt} = \\frac{dv}{dt}$. The Miller current is thus $I_{C_{gd,\\mathrm{eff}}} = C_{gd,\\mathrm{eff}} \\frac{dv_{DG}}{dt} = C_{gd,\\mathrm{eff}} \\frac{dv}{dt}$.\n\nSubstituting these expressions back into the KCL equation:\n$$I_{\\ell} = C_{oss} \\frac{dv}{dt} + C_{sn} \\frac{dv}{dt} + C_{gd,\\mathrm{eff}} \\frac{dv}{dt}$$\n\nFactoring out the slew rate $\\frac{dv}{dt}$:\n$$I_{\\ell} = (C_{oss} + C_{sn} + C_{gd,\\mathrm{eff}}) \\frac{dv}{dt}$$\n\nThis equation defines the actual slew rate of the drain voltage:\n$$\\frac{dv}{dt} = \\frac{I_{\\ell}}{C_{oss} + C_{sn} + C_{gd,\\mathrm{eff}}}$$\n\nThis shows the interplay between the leakage current, the total capacitance at the drain node (including the snubber), and the resulting voltage slew rate. To ensure safe operation, this actual slew rate must not exceed the limits imposed by the device and the gate driver.\n\nThere are two constraints on the slew rate:\n\n1.  **Device Slew Rate Limit**: The MOSFET has a maximum specified slew rate, $\\left(\\frac{dv}{dt}\\right)_{\\mathrm{dev},\\max}$. The actual slew rate must be less than or equal to this value.\n    $$\\frac{dv}{dt} \\le \\left(\\frac{dv}{dt}\\right)_{\\mathrm{dev},\\max}$$\n\n2.  **Gate Driver Current Limit**: The Miller current, $I_{C_{gd,\\mathrm{eff}}} = C_{gd,\\mathrm{eff}} \\frac{dv}{dt}$, must be sunk by the gate driver. This current cannot exceed the driver's maximum sink capability, $I_{g,\\max}$.\n    $$C_{gd,\\mathrm{eff}} \\frac{dv}{dt} \\le I_{g,\\max}$$\n    This imposes a second, independent limit on the slew rate:\n    $$\\frac{dv}{dt} \\le \\frac{I_{g,\\max}}{C_{gd,\\mathrm{eff}}}$$\n\nTo satisfy both constraints, the actual slew rate must be less than or equal to the more restrictive (smaller) of the two limits:\n$$\\left(\\frac{dv}{dt}\\right)_{\\mathrm{limit}} = \\min\\left( \\left(\\frac{dv}{dt}\\right)_{\\mathrm{dev},\\max}, \\frac{I_{g,\\max}}{C_{gd,\\mathrm{eff}}} \\right)$$\n\nThe required snubber capacitance $C_{sn}$ must be chosen to satisfy this condition. From the primary slew rate equation, we have:\n$$C_{oss} + C_{sn} + C_{gd,\\mathrm{eff}} = \\frac{I_{\\ell}}{\\frac{dv}{dt}}$$\nTo ensure $\\frac{dv}{dt} \\le \\left(\\frac{dv}{dt}\\right)_{\\mathrm{limit}}$, the total capacitance must meet the following condition:\n$$C_{oss} + C_{sn} + C_{gd,\\mathrm{eff}} \\ge \\frac{I_{\\ell}}{\\left(\\frac{dv}{dt}\\right)_{\\mathrm{limit}}}$$\nThe minimum required snubber capacitance $C_{sn,\\min}$ is therefore:\n$$C_{sn,\\min} = \\frac{I_{\\ell}}{\\left(\\frac{dv}{dt}\\right)_{\\mathrm{limit}}} - C_{oss} - C_{gd,\\mathrm{eff}}$$\n\nNow, we compute the numerical value. First, all parameters are converted to base SI units (Amperes, Farads, Volts, Seconds).\n- $I_{\\ell} = 8\\,\\mathrm{A}$\n- $C_{oss} = 140\\,\\mathrm{pF} = 140 \\times 10^{-12}\\,\\mathrm{F}$\n- $C_{gd,\\mathrm{eff}} = 250\\,\\mathrm{pF} = 250 \\times 10^{-12}\\,\\mathrm{F}$\n- $I_{g,\\max} = 0.5\\,\\mathrm{A}$\n- $\\left(\\frac{dv}{dt}\\right)_{\\mathrm{dev},\\max} = 3.0 \\times 10^{3}\\,\\mathrm{V/\\mu s} = 3.0 \\times 10^{3} \\frac{\\mathrm{V}}{10^{-6}\\,\\mathrm{s}} = 3.0 \\times 10^{9}\\,\\mathrm{V/s}$\n\nNext, we calculate the two slew rate limits:\n1.  Device-imposed limit: $\\left(\\frac{dv}{dt}\\right)_{\\mathrm{dev},\\max} = 3.0 \\times 10^{9}\\,\\mathrm{V/s}$\n2.  Gate-driver-imposed limit:\n    $$\\frac{I_{g,\\max}}{C_{gd,\\mathrm{eff}}} = \\frac{0.5\\,\\mathrm{A}}{250 \\times 10^{-12}\\,\\mathrm{F}} = 2.0 \\times 10^{9}\\,\\mathrm{V/s}$$\n\nComparing the two limits, the gate driver imposes the stricter constraint:\n$$\\left(\\frac{dv}{dt}\\right)_{\\mathrm{limit}} = \\min(3.0 \\times 10^{9}, 2.0 \\times 10^{9})\\,\\mathrm{V/s} = 2.0 \\times 10^{9}\\,\\mathrm{V/s}$$\n\nUsing this limiting slew rate, we calculate the minimum required total capacitance at the drain node:\n$$C_{\\mathrm{total},\\min} = C_{oss} + C_{sn} + C_{gd,\\mathrm{eff}} = \\frac{I_{\\ell}}{\\left(\\frac{dv}{dt}\\right)_{\\mathrm{limit}}} = \\frac{8\\,\\mathrm{A}}{2.0 \\times 10^{9}\\,\\mathrm{V/s}} = 4.0 \\times 10^{-9}\\,\\mathrm{F}$$\n\nFinally, we find the minimum required snubber capacitance by subtracting the device's intrinsic capacitances:\n$$C_{sn,\\min} = C_{\\mathrm{total},\\min} - C_{oss} - C_{gd,\\mathrm{eff}}$$\n$$C_{sn,\\min} = 4.0 \\times 10^{-9}\\,\\mathrm{F} - 140 \\times 10^{-12}\\,\\mathrm{F} - 250 \\times 10^{-12}\\,\\mathrm{F}$$\n$$C_{sn,\\min} = 4.0 \\times 10^{-9}\\,\\mathrm{F} - (140 + 250) \\times 10^{-12}\\,\\mathrm{F}$$\n$$C_{sn,\\min} = 4.0 \\times 10^{-9}\\,\\mathrm{F} - 390 \\times 10^{-12}\\,\\mathrm{F}$$\n$$C_{sn,\\min} = 4000 \\times 10^{-12}\\,\\mathrm{F} - 390 \\times 10^{-12}\\,\\mathrm{F} = 3610 \\times 10^{-12}\\,\\mathrm{F}$$\n\nThe result is $C_{sn,\\min} = 3610\\,\\mathrm{pF}$. The problem requires the answer in nanofarads, rounded to four significant figures.\n$$C_{sn,\\min} = 3.610\\,\\mathrm{nF}$$\nThis value is already expressed to four significant figures.",
            "answer": "$$\\boxed{3.610}$$"
        }
    ]
}