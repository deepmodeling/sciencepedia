{
    "hands_on_practices": [
        {
            "introduction": "模拟神经形态计算的核心思想是利用晶体管的物理特性直接执行计算，而不是通过离散的算术逻辑。这个练习将带你探索一个经典的模拟突触实现——跨导-电容（$g_m-C$）网络。通过分析工作在亚阈值区的晶体管，你将推导出突触权重如何自然地进行指数衰减，并理解如何通过偏置电流等物理参数来动态调整其时间常数，这正是模拟设计灵活性和效率的体现。",
            "id": "4035200",
            "problem": "可以使用跨导-电容（$g_m-C$）网络来实现模拟神经形态突触，其中跨导元件产生与突触电压成正比的电流，电容器对该电流进行积分，以实现一阶指数衰减动力学。与数字神经形态实现通过离散时间递推（其衰减常数由采样间隔和乘数设定）来近似指数衰减不同，模拟实现利用连续时间器件物理，通过偏置电流和器件参数来设定衰减时间常数。\n\n考虑以下架构。一个工作在弱反型（亚阈值区）的对称差分对金属-氧化物-半导体场效应晶体管 (MOSFET) 由尾电流 $I_b$ 偏置。差分输入为施加在一个栅极上的突触电压 $v_s(t)$，而另一个栅极保持在参考电位，使得工作点中心位于 $v_s(t)=0$。输出节点连接到一个值为 $C$ 的接地电容器，并且差分对的布置方式使得，对于小的 $|v_s(t)|$，流入电容器的输出电流与 $v_s(t)$ 线性正比，即 $i_{\\text{out}}(t) \\approx g_m v_s(t)$，从而实现一阶 $g_m-C$ 衰减。\n\n使用以下关于亚阈值 MOSFET 操作的成熟结论：\n- 热电压为 $U_T = \\frac{k_B T}{q}$，其中 $k_B$ 是 Boltzmann 常数，$T$ 是绝对温度，$q$ 是元电荷。\n- 在弱反型中，偏置在饱和区的 MOSFET 的漏极电流与栅源电压呈指数依赖关系：$I_d \\propto \\exp\\!\\left(\\frac{\\kappa V_{GS}}{U_T}\\right)$，其中 $\\kappa \\in (0,1)$ 是栅极耦合系数（也称为亚阈值斜率因子倒数），小信号跨导为 $g_{m,\\text{single}} = \\frac{\\partial I_d}{\\partial V_{GS}} = \\frac{\\kappa}{U_T} I_d$。\n- 对于一个具有尾偏置电流 $I_b$ 的弱反型对称差分对，其奇对称差分输出电流满足 $I_{\\text{diff}}(v_d) = I_b \\tanh\\!\\left(\\frac{\\kappa v_d}{2 U_T}\\right)$，在 $v_d=0$ 附近产生的小信号跨导为 $g_m = \\left.\\frac{\\partial I_{\\text{diff}}}{\\partial v_d}\\right|_{v_d=0} = \\frac{\\kappa}{2 U_T} I_b$。\n\n从电容器的本构关系和上述器件结论出发，推导控制 $v_s(t)$ 的常微分方程，并证明其解为指数衰减。然后，计算时间常数 $\\tau$，并表达其对偏置电流 $I_b$、热电压 $U_T$、栅极耦合系数 $\\kappa$ 和电容 $C$ 的依赖关系。以 $C$、$\\kappa$、$U_T$ 和 $I_b$ 表示的 $\\tau$ 的单个闭式解析表达式作为最终答案。请勿进行数值计算。时间常数 $\\tau$ 是一个物理时间；如果进行数值计算，单位应为秒。无需四舍五入。",
            "solution": "首先根据所需标准对问题陈述进行验证。\n\n### 步骤1：提取已知条件\n- 跨导-电容（$g_m-C$）网络实现了一个模拟神经形态突触。\n- 跨导元件的输出电流与突触电压 $v_s(t)$ 成正比。\n- 电容器 $C$ 对该电流进行积分，产生一阶指数衰减动力学。\n- 电路由一个工作在亚阈值区的对称差分对 MOSFET 组成，由尾电流 $I_b$ 偏置。\n- 突触电压 $v_s(t)$ 是差分输入。系统在 $|v_s(t)|$ 较小时进行线性化。\n- 输出节点连接到一个值为 $C$ 的接地电容器。\n- 流入电容器的输出电流由 $i_{\\text{out}}(t) \\approx g_m v_s(t)$ 给出，它实现了一个衰减过程。\n- 热电压为 $U_T = \\frac{k_B T}{q}$。\n- 栅极耦合系数为 $\\kappa \\in (0,1)$。\n- 在 $v_s(t)=0$ 附近，差分对的小信号跨导由 $g_m = \\frac{\\kappa}{2 U_T} I_b$ 给出。\n\n### 步骤2：使用提取的已知条件进行验证\n- **科学依据充分：** 该问题基于模拟集成电路设计和器件物理的既定原理，特别是 MOSFET 在亚阈值（弱反型）区的行为以及一阶 $g_m-C$ 滤波器的分析。所提供的亚阈值电流和跨导方程是标准且正确的。\n- **适定性：** 该问题是适定的。它提供了推导微分方程和计算时间常数所需的所有物理关系和参数。存在唯一、稳定且有意义的解。\n- **客观性：** 问题以精确、客观和技术性的语言陈述，没有任何主观性或偏见。\n\n该问题不违反任何无效标准。短语“流入电容器的输出电流为 $i_{\\text{out}}(t) \\approx g_m v_s(t)$”中存在轻微的模糊之处，但通过明确说明该行为“实现一阶 $g_m-C$ 衰减”得到了解决。要使正电压 $v_s(t)$ 衰减，电容器必须放电。这意味着跨导元件从电容器中吸取一个与 $v_s(t)$ 成正比的电流。这是描述此类电路的标准惯例，并不构成矛盾。\n\n### 步骤3：结论与操作\n问题有效，可以按所述方式求解。\n\n### 推导\n突触电压 $v_s(t)$ 是电容器 $C$ 两端的电压。电容器的本构关系由下式给出：\n$$i_C(t) = C \\frac{d v_s(t)}{dt}$$\n其中 $i_C(t)$ 是流入电容器的电流。\n\n问题描述了一个实现指数衰减的电路。这意味着如果 $v_s(t) > 0$，电压必须随时间减小（$\\frac{d v_s(t)}{dt}  0$）。这要求有净电流从电容器中流*出*。跨导元件 $g_m$ 提供了这个放电路径。\n\n由跨导元件从电容器中吸取的电流被给定为与电压 $v_s(t)$ 成正比。我们称这个电流为 $i_{gm}(t)$。对于小的 $|v_s(t)|$，这个关系是线性的：\n$$i_{gm}(t) = g_m v_s(t)$$\n这个电流 $i_{gm}(t)$ 从电容器节点流出。在输出节点（其电压为 $v_s(t)$）上应用基尔霍夫电流定律 (KCL)，假设没有其他电流流入或流出该节点，我们得到：\n$$i_C(t) + i_{gm}(t) = 0$$\n注意：问题陈述中提到“$i_{\\text{out}}(t)$ 是流入电容器的输出电流”。如果我们将其字面解释为 $i_C(t) = i_{\\text{out}}(t)$，那么我们将得到 $C \\frac{d v_s(t)}{dt} = g_m v_s(t)$，这会导致指数增长，与实现“衰减”的既定目标相矛盾。物理上正确且与实现衰减一致的解释是，跨导器充当一个类电阻负载，从节点中吸取电流 $g_m v_s(t)$。因此，从跨导器*流入*节点的电流是 $-g_m v_s(t)$。所以，流入电容器的净电流是 $i_C(t) = -g_m v_s(t)$。\n\n代入电容器的本构关系可得：\n$$C \\frac{d v_s(t)}{dt} = - g_m v_s(t)$$\n这就是控制 $v_s(t)$ 的常微分方程 (ODE)。我们可以将其重排为标准形式：\n$$\\frac{d v_s(t)}{dt} + \\frac{g_m}{C} v_s(t) = 0$$\n这是一个一阶线性齐次常微分方程。对于形如 $\\frac{dy}{dt} + \\frac{1}{\\tau} y = 0$ 的方程，其通解为一个指数衰减函数，由 $y(t) = y(0) \\exp(-t/\\tau)$ 给出，其中 $\\tau$ 是时间常数。\n\n将我们推导出的关于 $v_s(t)$ 的常微分方程与标准形式进行比较，我们可以确定时间常数 $\\tau$。我们有：\n$$\\frac{1}{\\tau} = \\frac{g_m}{C}$$\n因此，时间常数 $\\tau$ 是：\n$$\\tau = \\frac{C}{g_m}$$\n问题给出了在亚阈值区工作的差分对的小信号跨导 $g_m$ 的表达式：\n$$g_m = \\frac{\\kappa I_b}{2 U_T}$$\n现在，我们将 $g_m$ 的表达式代入 $\\tau$ 的方程中：\n$$\\tau = \\frac{C}{\\frac{\\kappa I_b}{2 U_T}}$$\n简化该表达式，得到时间常数 $\\tau$ 对给定参数的最终依赖关系：\n$$\\tau = \\frac{2 C U_T}{\\kappa I_b}$$\n该表达式表明，时间常数 $\\tau$ 与电容 $C$ 和热电压 $U_T$ 成正比，与栅极耦合系数 $\\kappa$ 和偏置电流 $I_b$ 成反比。这一结果与模拟神经形态设计的原理一致，在这些设计中，可以通过调节偏置电流在数个数量级范围内调节时间常数。",
            "answer": "$$\\boxed{\\frac{2 C U_T}{\\kappa I_b}}$$"
        },
        {
            "introduction": "与模拟设计不同，数字神经形态系统通过有限精度的数字比特来表示连续的神经动力学。这个练习将引导你解决数字设计中的一个核心权衡问题：精度、动态范围与硬件资源之间的平衡。你将为一个离散时间的LIF神经元模型设计定点数表示方案，通过分析其在随机输入下的电压范围，计算出防止溢出所需的最少比特宽度，从而深刻理解数字实现中从理论模型到硬件约束的关键转换。",
            "id": "4035172",
            "problem": "考虑一个漏积分放电（LIF）神经元在数字定点处理器中的离散时间实现，该处理器使用二进制补码算术，其膜电位更新由前向欧拉步骤给出\n$$\nV_{n+1} \\;=\\; V_n \\;+\\; \\Delta t \\left( -\\frac{g_L}{C}\\big(V_n - E_L\\big) + \\frac{I_n}{C} \\right),\n$$\n其中 $V_n$ 是时间步 $n$ 时的膜电位，$\\Delta t$ 是模拟时间步长，$g_L$ 是漏电导，$C$ 是膜电容，$E_L$ 是漏泄反转电位，$I_n$ 是时间步 $n$ 时的输入电流。当 $V_n \\geq V_{\\text{th}}$ 时，神经元发放一个脉冲，并且电位被重置为 $V_r$。\n\n假设以下符合科学实际的参数：\n- $C = 200 \\times 10^{-12}$ 法拉,\n- $g_L = 10 \\times 10^{-9}$ 西门子,\n- $E_L = -65 \\times 10^{-3}$ 伏特,\n- $V_{\\text{th}} = -50 \\times 10^{-3}$ 伏特,\n- $V_r = -65 \\times 10^{-3}$ 伏特,\n- $\\Delta t = 1 \\times 10^{-4}$ 秒.\n\n输入电流 $I_n$ 在各个时间步上是独立同分布的，服从均值为 $\\mu_I = 50 \\times 10^{-12}$ 安培、标准差为 $\\sigma_I = 150 \\times 10^{-12}$ 安培的高斯随机变量（正态分布）。该系统设计用于在最大发放率 $f_{\\max} = 200$ 赫兹下运行，并要求在 $f_{\\max}$ 的任意脉冲间隔内，表示 $V_n$ 时避免溢出的概率至少为 $1 - \\varepsilon$，其中 $\\varepsilon = 10^{-6}$。\n\n设计定点格式，使得最低有效位（LSB）对应的电压分辨率为 $0.1 \\times 10^{-3}$ 伏特。利用从膜动力学和输入统计数据中推导出的保守边界，计算用于 $V_n$ 的二进制补码表示所需的最小总比特宽度 $b$（包括符号位），以在所述要求下避免溢出。如果你的计算得出 $b$ 为非整数，请报告满足无溢出要求的最小整数。\n\n将最终答案表示为整数比特数，不带单位。除了取满足要求的最小整数外，不需要按有效数字进行舍入。",
            "solution": "该问题要求确定用于表示漏积分放电（LIF）神经元膜电位 $V_n$ 的二进制补码定点数的最小总比特宽度 $b$。在特定操作条件下，该设计必须在任意脉冲间隔内以至少 $1 - \\varepsilon$ 的概率防止溢出。\n\n首先，总结给定的参数和方程：\n膜电位更新规则由前向欧拉方法给出：\n$$V_{n+1} = V_n + \\Delta t \\left( -\\frac{g_L}{C}(V_n - E_L) + \\frac{I_n}{C} \\right)$$\n这可以重写为：\n$$V_{n+1} = V_n \\left(1 - \\frac{\\Delta t g_L}{C}\\right) + \\frac{\\Delta t g_L}{C} E_L + \\frac{\\Delta t}{C} I_n$$\n令 $\\alpha = 1 - \\frac{\\Delta t g_L}{C}$。方程变为 $V_{n+1} = \\alpha V_n + (1-\\alpha)E_L + \\frac{\\Delta t}{C} I_n$。\n\n给定的参数是：\n- 膜电容, $C = 200 \\times 10^{-12} \\text{ F}$\n- 漏电导, $g_L = 10 \\times 10^{-9} \\text{ S}$\n- 漏泄反转电位, $E_L = -65 \\times 10^{-3} \\text{ V}$\n- 发放阈值, $V_{\\text{th}} = -50 \\times 10^{-3} \\text{ V}$\n- 重置电位, $V_r = -65 \\times 10^{-3} \\text{ V}$\n- 时间步长, $\\Delta t = 1 \\times 10^{-4} \\text{ s}$\n- 输入电流均值, $\\mu_I = 50 \\times 10^{-12} \\text{ A}$\n- 输入电流标准差, $\\sigma_I = 150 \\times 10^{-12} \\text{ A}$\n- 最大发放率, $f_{\\max} = 200 \\text{ Hz}$\n- 溢出失败概率, $\\varepsilon = 10^{-6}$\n- 电压分辨率 (LSB), $V_{\\text{res}} = 0.1 \\times 10^{-3} \\text{ V}$\n\n设计要求找到 $V_n$ 可能占据的范围 $[V_{\\min}, V_{\\max}]$，然后确定表示此范围所需的比特数 $b$。一个具有分辨率 $V_{\\text{res}}$ 的 $b$ 位二进制补码数可以表示范围 $[-2^{b-1} V_{\\text{res}}, (2^{b-1}-1) V_{\\text{res}}]$ 内的值。最小比特宽度 $b$ 必须满足 $V_{\\max} \\le (2^{b-1}-1)V_{\\text{res}}$ 和 $V_{\\min} \\ge -2^{b-1}V_{\\text{res}}$。\n\n为了找到电压范围的保守边界，我们首先对随机输入电流 $I_n$ 进行界定。问题要求在 $f_{\\max}$ 下的脉冲间隔内以 $1 - \\varepsilon$ 的概率避免溢出。最小脉冲间隔为 $T = 1/f_{\\max} = 1/200 = 5 \\times 10^{-3} \\text{ s}$。此间隔内的时间步数是 $N = T/\\Delta t = (5 \\times 10^{-3}) / (1 \\times 10^{-4}) = 50$。\n\n使用并集界（布尔不等式），我们可以将总失败概率 $\\varepsilon$ 分配到该间隔的 $N$ 个步骤中。在任何单个步骤发生溢出的概率应小于 $p_{\\text{fail}} = \\varepsilon / N = 10^{-6} / 50 = 2 \\times 10^{-8}$。\n输入电流 $I_n$ 服从高斯分布 $N(\\mu_I, \\sigma_I^2)$。溢出主要由 $I_n$ 的极值引起。我们找到包含电流的范围 $[I_{\\min}, I_{\\max}]$，其概率为 $1 - p_{\\text{fail}}$。对于标准正态变量 $Z \\sim N(0, 1)$，我们需要找到 $k_I$ 使得 $P(|Z|  k_I) = p_{\\text{fail}}$。这意味着 $2(1 - \\Phi(k_I)) = p_{\\text{fail}}$，其中 $\\Phi$ 是标准正态累积分布函数（CDF）。\n$P(Z  k_I) = p_{\\text{fail}} / 2 = 1 \\times 10^{-8}$。\n$\\Phi(k_I) = 1 - 10^{-8} = 0.99999999$。\n反累积分布函数给出 $k_I = \\Phi^{-1}(0.99999999) \\approx 5.6120$。\n电流的边界是：\n$I_{\\max} = \\mu_I + k_I \\sigma_I = 50 \\times 10^{-12} + 5.6120 \\times 150 \\times 10^{-12} = (50 + 841.8) \\times 10^{-12} = 891.8 \\times 10^{-12} \\text{ A}$。\n$I_{\\min} = \\mu_I - k_I \\sigma_I = 50 \\times 10^{-12} - 5.6120 \\times 150 \\times 10^{-12} = (50 - 841.8) \\times 10^{-12} = -791.8 \\times 10^{-12} \\text{ A}$。\n\n现在，我们用这个有界的输入电流来分析LIF动力学，以找到 $V_n$ 的极值。\n让我们计算更新方程中的常数：\n$\\alpha = 1 - \\frac{\\Delta t g_L}{C} = 1 - \\frac{(1 \\times 10^{-4})(10 \\times 10^{-9})}{200 \\times 10^{-12}} = 1 - \\frac{10^{-13}}{2 \\times 10^{-10}} = 1 - 0.005 = 0.995$。\n$\\frac{\\Delta t}{C} = \\frac{1 \\times 10^{-4}}{200 \\times 10^{-12}} = 5 \\times 10^5 \\text{ V/A}$。\n更新方程可以写为 $V_{n+1} = \\alpha V_n + B_n$，其中 $B_n = (1-\\alpha)E_L + \\frac{\\Delta t}{C}I_n$。\n$(1-\\alpha)E_L = 0.005 \\times (-65 \\times 10^{-3}) = -3.25 \\times 10^{-4} \\text{ V}$。\n$B_n$ 的范围由 $I_n$ 的范围确定：\n$B_{\\max} = -3.25 \\times 10^{-4} + (5 \\times 10^5) \\times (891.8 \\times 10^{-12}) = -3.25 \\times 10^{-4} + 4.459 \\times 10^{-4} = 1.209 \\times 10^{-4} \\text{ V}$。\n$B_{\\min} = -3.25 \\times 10^{-4} + (5 \\times 10^5) \\times (-791.8 \\times 10^{-12}) = -3.25 \\times 10^{-4} - 3.959 \\times 10^{-4} = -7.209 \\times 10^{-4} \\text{ V}$。\n\n为了找到所需的最大电压 $V_{\\max}$，我们考虑脉冲发放前一刻的情况。要存储的值 $V_{n+1}$ 是从 $V_n$ 计算得出的，其中 $V_n  V_{\\text{th}}$。$V_{n+1}$ 的最大值出现在 $V_n$ 无限接近 $V_{\\text{th}}$ 且输入项 $B_n$ 为最大值（$B_{\\max}$）时。\n$V_{\\max} = \\lim_{V_n \\to V_{\\text{th}}^{-}} (\\alpha V_n + B_{\\max}) = \\alpha V_{\\text{th}} + B_{\\max}$。\n$V_{\\max} = 0.995 \\times (-50 \\times 10^{-3}) + 1.209 \\times 10^{-4} = -0.04975 + 0.0001209 = -0.0496291 \\text{ V}$。\n\n为了找到所需的最小电压 $V_{\\min}$，我们必须考虑最保守的情况。如果输入电流持续很低，脉冲间隔可以任意长。系统可能达到的最小电压是在最小可能输入项 $B_{\\min}$ 下的稳态电压。设此稳态最小值为 $V_{\\text{ss,min}}$。\n$V_{\\text{ss,min}} = \\alpha V_{\\text{ss,min}} + B_{\\min} \\implies V_{\\text{ss,min}} = \\frac{B_{\\min}}{1-\\alpha}$。\n$V_{\\min} = V_{\\text{ss,min}} = \\frac{-7.209 \\times 10^{-4}}{0.005} = -0.14418 \\text{ V}$。\n\n因此，所需的电压范围是 $[-0.14418 \\text{ V}, -0.0496291 \\text{ V}]$。\n我们必须选择 $b$ 以便能够表示这个范围。二进制补码的范围是 $[-2^{b-1} V_{\\text{res}}, (2^{b-1}-1) V_{\\text{res}}]$。\n$V_{\\text{res}} = 0.1 \\times 10^{-3} \\text{ V}$。\n上界必须满足：\n$-0.0496291 \\le (2^{b-1}-1) \\times (0.1 \\times 10^{-3})$。\n$-496.291 \\le 2^{b-1}-1$。这个不等式对于任何实际的 $b \\ge 1$ 都成立。\n下界必须满足：\n$-0.14418 \\ge -2^{b-1} \\times (0.1 \\times 10^{-3})$。\n$0.14418 \\le 2^{b-1} \\times (0.1 \\times 10^{-3})$。\n两边同除以 $V_{\\text{res}}$：\n$\\frac{0.14418}{0.1 \\times 10^{-3}} \\le 2^{b-1}$。\n$1441.8 \\le 2^{b-1}$。\n为了找到最小整数 $b$，我们取以 2 为底的对数：\n$\\log_2(1441.8) \\le b-1$。\n$\\frac{\\ln(1441.8)}{\\ln(2)} \\le b-1$。\n$\\frac{7.2736...}{0.6931...} \\le b-1$。\n$10.494... \\le b-1$。\n因为 $b-1$ 必须是整数，所以可能的最小值为 $b-1=11$。\n因此，最小总比特宽度为 $b = 11 + 1 = 12$。\n当 $b=12$ 时，范围是 $[-2^{11} \\times V_{\\text{res}}, (2^{11}-1) \\times V_{\\text{res}}] = [-2048 \\times 0.1 \\text{ mV}, 2047 \\times 0.1 \\text{ mV}] = [-204.8 \\text{ mV}, 204.7 \\text{ mV}]$，这安全地包含了所需的范围 $[-144.18 \\text{ mV}, -49.63 \\text{ mV}]$。",
            "answer": "$$\\boxed{12}$$"
        },
        {
            "introduction": "任何物理实现都存在局限性，饱和（saturation）现象在模拟和数字电路中都不可避免，但其表现形式和对计算的影响却截然不同。本练习将对一个突触权重的更新过程进行直接比较，分析模拟电路中由物理电压轨和电流限制引起的平滑饱和，以及数字系统中由定点运算和量化导致的硬性削波和更新停滞。通过计算两种实现的收敛时间和误差下限，你将量化地理解这两种设计哲学在处理非理想效应时的根本差异及其对学习动态的潜在影响。",
            "id": "4035203",
            "problem": "神经形态电路中的一个模拟突触元件通过一个电容为 $C$ 的电容器上的电压 $V(t)$ 来编码突触权重。更新机制由一个增益为 $\\gamma$ 的跨导器实现，该跨导器产生与误差 $E(t) = V^{\\ast} - V(t)$ 成正比的更新电流，但更新电流的幅度受最大界限 $I_{\\max}$ 的限制。电源轨将电压限制在 $[V_{\\min}, V_{\\max}]$ 范围内。其演化规律由电容器关系和有界电流得出：\n$$\nC\\,\\frac{dV}{dt} \\;=\\; \\operatorname{sat}_{[-I_{\\max},\\,I_{\\max}]}\\!\\big(\\gamma\\,(V^{\\ast}-V)\\big),\n$$ \n其中 $\\operatorname{sat}_{[-I_{\\max},\\,I_{\\max}]}(x)$ 将 $x$ 裁剪到区间 $[-I_{\\max}, I_{\\max}]$ 内。\n\nPart A：从基本电容器定律和给定的有界更新机制出发，推导模拟突触饱和的充分必要条件，并区分两种模式：\n- 更新路径中的电流限制饱和，以及\n- 状态变量中的电源轨限制饱和。\n将这些条件表示为包含 $I_{\\max}$、$\\gamma$、$V(t)$、$V^{\\ast}$、$V_{\\min}$ 和 $V_{\\max}$ 的不等式。\n\nPart B：使用 Part A 的条件，计算当轨迹从电流限制区域开始，然后过渡到线性区域时，模拟突触进入目标集\n$$\n\\mathcal{S}_{\\varepsilon} \\;=\\; \\{\\,V:\\; |V - V^{\\ast}| \\le \\varepsilon\\,\\}\n$$ \n所需的时间 $T_{\\text{analog}}$。参数如下：\n- $C = 200\\,\\mathrm{pF}$，\n- $I_{\\max} = 10\\,\\mathrm{\\mu A}$，\n- $\\gamma = 50\\,\\mathrm{\\mu A/V}$，\n- $V_{\\min} = 0\\,\\mathrm{V}$，\n- $V_{\\max} = 1\\,\\mathrm{V}$，\n- $V^{\\ast} = 0.6\\,\\mathrm{V}$，\n- $V(0) = 0\\,\\mathrm{V}$，\n- $\\varepsilon = 1\\,\\mathrm{mV}$。\n\n数字突触使用带量化的饱和算术。权重在迭代 $k$ 时直接以伏特为单位表示为 $w_k$，并在每个时钟周期通过离散时间梯度步长更新一次，然后进行量化和裁剪：\n$$\nw_{k+1} \\;=\\; \\operatorname{clip}_{[V_{\\min},\\,V_{\\max}]}\\!\\Big(Q_q\\big(w_k + \\eta_d\\,(V^{\\ast} - w_k)\\big)\\Big),\n$$\n其中 $Q_q(\\cdot)$ 将其参数四舍五入到量化步长 $q$（最低有效位 (LSB)）的最接近的倍数，而 $\\operatorname{clip}_{[V_{\\min},\\,V_{\\max}]}(\\cdot)$ 应用饱和算术将状态保持在 $[V_{\\min}, V_{\\max}]$ 内。\n\nPart C：推导数字更新因量化而停滞的条件（即，四舍五入导致 $w_k$ 没有变化），并用 $q$ 和 $\\eta_d$ 表示由此产生的误差基底。假设在停滞前没有发生电源轨裁剪，并且在迭代足够接近 $V^{\\ast}$ 之前忽略量化效应，估算从 $w_0 = V(0)$ 开始达到停滞区域所需的迭代次数 $N_{\\text{digital}}$，参数如下：\n- $q = 2\\,\\mathrm{mV}$，\n- $\\eta_d = 0.4$，\n- $V_{\\min} = 0\\,\\mathrm{V}$，\n- $V_{\\max} = 1\\,\\mathrm{V}$，\n- $V^{\\ast} = 0.6\\,\\mathrm{V}$，\n- $w_0 = 0\\,\\mathrm{V}$。\n\nPart D：定义影响度量\n$$\nR \\;=\\; \\frac{T_{\\text{analog}}}{N_{\\text{digital}}\\,T_u},\n$$ \n其中 $T_u$ 是数字突触的更新时钟周期。取 $T_u = 1\\,\\mathrm{\\mu s}$ 并计算 $R$ 作为一个纯数。将 $R$ 的最终数值答案四舍五入到四位有效数字。将最终答案表示为没有单位的纯数。",
            "solution": "该问题被验证为科学上合理、定义明确，并且是对模拟突触更新的连续时间与离散时间动态系统建模的客观评估。所有必要的参数都已提供，问题结构逻辑清晰。\n\nPart A：饱和的充分必要条件。\n\n突触电压 $V(t)$ 的演化由下式给出\n$$\nC\\,\\frac{dV}{dt} \\;=\\; \\operatorname{sat}_{[-I_{\\max},\\,I_{\\max}]}\\!\\big(\\gamma\\,(V^{\\ast}-V)\\big)\n$$\n状态变量 $V(t)$ 也被限制在区间 $[V_{\\min}, V_{\\max}]$ 内。\n\n存在两种不同的饱和模式：\n\n1.  **电流限制饱和**：当反馈机制以其最大能力运行时发生。饱和函数的输入 $x = \\gamma\\,(V^{\\ast}-V)$ 是理想的更新电流。饱和函数 $\\operatorname{sat}_{[-I_{\\max},\\,I_{\\max}]}(x)$ 限制了该电流。当理想电流的幅度超过限制 $I_{\\max}$ 时，发生饱和。\n    这对应于 $|x|  I_{\\max}$，即：\n    $$\n    |\\gamma\\,(V^{\\ast}-V)|  I_{\\max}\n    $$\n    由于 $\\gamma  0$ 且 $I_{\\max}  0$，这等价于：\n    $$\n    |V^{\\ast}-V|  \\frac{I_{\\max}}{\\gamma}\n    $$\n    这个不等式是更新电流饱和的充分必要条件。此时动力学由 $C\\,\\frac{dV}{dt} = \\operatorname{sgn}(V^{\\ast}-V) \\cdot I_{\\max}$ 控制。\n\n2.  **电源轨限制饱和**：这是状态变量 $V(t)$ 本身的饱和，它被限制在 $[V_{\\min}, V_{\\max}]$ 内。当 $V(t)$ 达到其中一个电源轨，并且动力学试图将其进一步推向该轨之外时，发生饱和。\n    -   在上轨 $V_{\\max}$ 饱和：状态为 $V(t) = V_{\\max}$。为了使状态在此轨上“卡住”或饱和，时间导数 $dV/dt$ 必须被强制为 $0$，而驱动项试图使其为正。如果更新电流为正（发生在 $V^{\\ast}-V  0$ 时），则会尝试产生正的 $dV/dt$。因此，如果 $V(t) = V_{\\max}$ 且目标电压 $V^{\\ast}$ 大于 $V_{\\max}$，则突触在上轨饱和。条件是：\n        $$\n        V(t) = V_{\\max} \\quad \\text{and} \\quad V^{\\ast}  V_{\\max}\n        $$\n    -   在下轨 $V_{\\min}$ 饱和：对称地，状态为 $V(t) = V_{\\min}$。如果动力学试图进一步降低电压，系统将在此轨饱和。这发生在更新电流为负时，即 $V^{\\ast}-V  0$。条件是：\n        $$\n        V(t) = V_{\\min} \\quad \\text{and} \\quad V^{\\ast}  V_{\\min}\n        $$\n\nPart B：模拟收敛时间 $T_{\\text{analog}}$ 的计算。\n\n参数为 $C = 200\\,\\mathrm{pF}$、$I_{\\max} = 10\\,\\mathrm{\\mu A}$、$\\gamma = 50\\,\\mathrm{\\mu A/V}$、$V^{\\ast} = 0.6\\,\\mathrm{V}$、$V(0) = 0\\,\\mathrm{V}$ 以及 $\\varepsilon = 1\\,\\mathrm{mV}$。电压轨为 $[0, 1]\\,\\mathrm{V}$，因此不会遇到电源轨限制饱和，因为 $V_{\\min}  V(0)  V^{\\ast}  V_{\\max}$。\n\n首先，我们从 Part A 确定电流限制饱和的阈值：\n$$\n\\frac{I_{\\max}}{\\gamma} = \\frac{10\\,\\mathrm{\\mu A}}{50\\,\\mathrm{\\mu A/V}} = 0.2\\,\\mathrm{V}\n$$\n初始误差为 $|V^{\\ast} - V(0)| = |0.6\\,\\mathrm{V} - 0\\,\\mathrm{V}| = 0.6\\,\\mathrm{V}$。\n由于 $0.6\\,\\mathrm{V}  0.2\\,\\mathrm{V}$，系统从电流限制区域开始。轨迹包括两个阶段。\n\n**阶段 1：电流限制区域。**\n在此阶段，$V^{\\ast}-V  I_{\\max}/\\gamma$。由于 $V(0)  V^{\\ast}$，更新电流为正且饱和。动力学为：\n$$\nC\\,\\frac{dV}{dt} = I_{\\max}\n$$\n将此从 $t=0$ 到 $t$ 积分，得到：\n$$\nV(t) = V(0) + \\frac{I_{\\max}}{C}t = \\frac{I_{\\max}}{C}t\n$$\n当系统过渡到线性区域时，此阶段结束，这发生在电压 $V_{\\text{trans}}$ 使得 $V^{\\ast}-V_{\\text{trans}} = I_{\\max}/\\gamma$ 时。\n$$\nV_{\\text{trans}} = V^{\\ast} - \\frac{I_{\\max}}{\\gamma} = 0.6\\,\\mathrm{V} - 0.2\\,\\mathrm{V} = 0.4\\,\\mathrm{V}\n$$\n达到 $V_{\\text{trans}}$ 所需的时间 $T_1$ 是：\n$$\nT_1 = \\frac{C \\cdot V_{\\text{trans}}}{I_{\\max}} = \\frac{(200 \\times 10^{-12}\\,\\mathrm{F}) \\cdot (0.4\\,\\mathrm{V})}{10 \\times 10^{-6}\\,\\mathrm{A}} = \\frac{80 \\times 10^{-12}}{10 \\times 10^{-6}}\\,\\mathrm{s} = 8 \\times 10^{-6}\\,\\mathrm{s}\n$$\n\n**阶段 2：线性区域。**\n对于 $t  T_1$，系统在线性区域运行，其中 $|V^{\\ast}-V| \\le I_{\\max}/\\gamma$。动力学为：\n$$\nC\\,\\frac{dV}{dt} = \\gamma(V^{\\ast}-V)\n$$\n这是一个一阶线性常微分方程。令误差为 $e(t) = V(t) - V^{\\ast}$，我们有 $de/dt = dV/dt$。方程变为：\n$$\nC\\,\\frac{de}{dt} = -\\gamma e \\implies \\frac{de}{dt} = -\\frac{\\gamma}{C}e\n$$\n解为 $e(t') = e(0) \\exp(-t'/\\tau)$，其中 $t' = t - T_1$ 是自此阶段开始所经过的时间，而 $\\tau = C/\\gamma$ 是时间常数。\n此阶段的初始条件是 $t=T_1$ 时的误差，即 $e(0) = V_{\\text{trans}} - V^{\\ast} = 0.4\\,\\mathrm{V} - 0.6\\,\\mathrm{V} = -0.2\\,\\mathrm{V}$。\n时间常数为 $\\tau = \\frac{200 \\times 10^{-12}\\,\\mathrm{F}}{50 \\times 10^{-6}\\,\\mathrm{A/V}} = 4 \\times 10^{-6}\\,\\mathrm{s}$。\n误差演化为 $e(t') = -0.2 \\cdot \\exp(-t'/\\tau)$。\n当电压进入目标集 $\\mathcal{S}_{\\varepsilon}$ 时，此阶段结束，即当 $|V(t) - V^{\\ast}| \\le \\varepsilon$。我们计算达到边界 $|e(T_2)| = \\varepsilon$ 所需的时间 $T_2$。\n$$\n| -0.2 \\cdot \\exp(-T_2/\\tau) | = \\varepsilon \\implies 0.2 \\cdot \\exp(-T_2/\\tau) = 0.001\n$$\n$$\n\\exp(-T_2/\\tau) = \\frac{0.001}{0.2} = 0.005\n$$\n$$\n-\\frac{T_2}{\\tau} = \\ln(0.005) \\implies T_2 = -\\tau \\ln(0.005) = \\tau \\ln\\left(\\frac{1}{0.005}\\right) = \\tau \\ln(200)\n$$\n$$\nT_2 = (4 \\times 10^{-6}\\,\\mathrm{s}) \\cdot \\ln(200)\n$$\n总时间 $T_{\\text{analog}}$ 是两个阶段持续时间的总和：\n$$\nT_{\\text{analog}} = T_1 + T_2 = 8 \\times 10^{-6}\\,\\mathrm{s} + (4 \\times 10^{-6}\\,\\mathrm{s}) \\ln(200)\n$$\n\nPart C：数字突触停滞条件和迭代次数 $N_{\\text{digital}}$。\n\n数字更新规则是 $w_{k+1} = \\operatorname{clip}_{[V_{\\min},\\,V_{\\max}]}\\!\\Big(Q_q\\big(w_k + \\eta_d\\,(V^{\\ast} - w_k)\\big)\\Big)$。\n量化函数 $Q_q(x)$ 将 $x$ 四舍五入到量化步长 $q$ 的最接近的倍数。当更新步骤的结果在量化后与前一个值相同时，更新就会停滞，即 $w_{k+1}=w_k$。由于 $w_k$ 已经是一个量化值（$q$ 的倍数），这等价于：\n$$\nQ_q\\big(w_k + \\eta_d\\,(V^{\\ast} - w_k)\\big) = w_k\n$$\n如果参数 $w_k + \\eta_d\\,(V^{\\ast} - w_k)$ 比任何其他量化水平更接近 $w_k$，就会发生这种情况。四舍五入到 $w_k$ 的条件是更新步长的幅度小于量化步长的一半：\n$$\n|\\eta_d\\,(V^{\\ast} - w_k)|  \\frac{q}{2}\n$$\n因此，更新停滞的条件是：\n$$\n|V^{\\ast} - w_k|  \\frac{q}{2\\eta_d}\n$$\n误差基底是更新停止时的误差值。因此，只要误差 $|V^{\\ast} - w_k|$ 低于此阈值，它就可以持续存在。误差基底是 $\\frac{q}{2\\eta_d}$。\n\n为了找到 $N_{\\text{digital}}$，我们通过忽略量化来近似动力学，直到达到停滞区域。未量化的递推关系是：\n$$\nw_{k+1} = w_k + \\eta_d\\,(V^{\\ast} - w_k)\n$$\n令误差为 $e_k = w_k - V^{\\ast}$。误差的递推关系是：\n$$\ne_{k+1} = w_{k+1} - V^{\\ast} = (w_k - V^{\\ast}) + \\eta_d(V^{\\ast}-w_k) = e_k - \\eta_d e_k = (1-\\eta_d)e_k\n$$\n解是 $e_k = e_0 (1-\\eta_d)^k$。当 $|e_k|$ 降到阈值 $\\frac{q}{2\\eta_d}$ 以下时，系统停滞。我们需要找到最小的整数 $k=N_{\\text{digital}}$，使得：\n$$\n|e_k| \\le \\frac{q}{2\\eta_d}\n$$\n$$\n|e_0|(1-\\eta_d)^k \\le \\frac{q}{2\\eta_d}\n$$\n对两边取对数：\n$$\nk \\ln(1-\\eta_d) \\le \\ln\\left(\\frac{q}{2\\eta_d |e_0|}\\right)\n$$\n由于 $0  \\eta_d  1$，$\\ln(1-\\eta_d)$ 是负数。除以它会反转不等式：\n$$\nk \\ge \\frac{\\ln\\left(\\frac{q}{2\\eta_d |e_0|}\\right)}{\\ln(1-\\eta_d)} = \\frac{\\ln\\left(\\frac{2\\eta_d |e_0|}{q}\\right)}{\\ln\\left(\\frac{1}{1-\\eta_d}\\right)}\n$$\n初始误差是 $|e_0| = |w_0 - V^{\\ast}| = |0\\,\\mathrm{V} - 0.6\\,\\mathrm{V}| = 0.6\\,\\mathrm{V}$。\n参数为 $\\eta_d = 0.4$ 和 $q = 2\\,\\mathrm{mV} = 0.002\\,\\mathrm{V}$。\n$$\n\\frac{2\\eta_d |e_0|}{q} = \\frac{2 \\cdot 0.4 \\cdot 0.6}{0.002} = \\frac{0.48}{0.002} = 240\n$$\n$$\n\\frac{1}{1-\\eta_d} = \\frac{1}{1-0.4} = \\frac{1}{0.6} = \\frac{5}{3}\n$$\n$$\nk \\ge \\frac{\\ln(240)}{\\ln(5/3)} \\approx \\frac{5.480639}{0.510826} \\approx 10.7289\n$$\n由于 $N_{\\text{digital}}$ 必须是整数，我们取该值的天花板函数（向上取整）：\n$$\nN_{\\text{digital}} = \\lceil 10.7289 \\rceil = 11\n$$\n\nPart D：影响度量 R 的计算。\n\n影响度量定义为 $R = \\frac{T_{\\text{analog}}}{N_{\\text{digital}}\\,T_u}$，其中 $T_u = 1\\,\\mathrm{\\mu s}$。\n我们代入导出的值：\n$$\nT_{\\text{analog}} = 8 \\times 10^{-6}\\,\\mathrm{s} + (4 \\times 10^{-6}\\,\\mathrm{s}) \\ln(200)\n$$\n$$\nN_{\\text{digital}} = 11\n$$\n$$\nT_u = 1 \\times 10^{-6}\\,\\mathrm{s}\n$$\n$$\nR = \\frac{8 \\times 10^{-6} + 4 \\times 10^{-6} \\ln(200)}{11 \\cdot (1 \\times 10^{-6})} = \\frac{8 + 4 \\ln(200)}{11}\n$$\n现在，我们计算数值：\n$\\ln(200) \\approx 5.298317$\n$$\nR \\approx \\frac{8 + 4 \\cdot (5.298317)}{11} = \\frac{8 + 21.193268}{11} = \\frac{29.193268}{11} \\approx 2.653933\n$$\n四舍五入到四位有效数字，我们得到：\n$$\nR \\approx 2.654\n$$",
            "answer": "$$\\boxed{2.654}$$"
        }
    ]
}