{
    "hands_on_practices": [
        {
            "introduction": "In the analog neuromorphic philosophy, computation is not an abstraction but a physical process. This practice delves into the heart of this paradigm by examining how a simple transconductance-capacitor ($g_m-C$) circuit leverages fundamental device physics to implement the exponential decay of a synapse . By deriving the synaptic time constant $\\tau$, you will gain a concrete understanding of how continuous-time dynamics are realized and tuned not by a clock cycle, but by physical parameters like capacitance and bias currents.",
            "id": "4035200",
            "problem": "An analog neuromorphic synapse can be implemented using a transconductance-capacitor ($g_m$-$C$) network, where a transconductance element produces a current proportional to a synaptic voltage and a capacitor integrates this current to realize a first-order exponential decay dynamics. In contrast to digital neuromorphic implementations that approximate exponential decay via a discrete-time recurrence (with the decay constant set by the sampling interval and a multiplier), the analog implementation leverages continuous-time device physics to set the decay time constant through bias currents and device parameters.\n\nConsider the following architecture. A symmetric differential pair of Metal-Oxide-Semiconductor Field-Effect Transistors (MOSFETs) operating in weak inversion (subthreshold regime) is biased by a tail current $I_b$. The differential input is the synaptic voltage $v_s(t)$ applied to one gate while the other gate is held at a reference potential such that the operating point is centered at $v_s(t)=0$. The output node is connected to a capacitor of value $C$ to ground, and the differential pair is arranged so that, for small $|v_s(t)|$, the output current into the capacitor is linearly proportional to $v_s(t)$, i.e., $i_{\\text{out}}(t) \\approx g_m v_s(t)$, thereby implementing a first-order $g_m$-$C$ decay.\n\nUse the following well-tested facts about subthreshold MOSFET operation:\n- The thermal voltage is $U_T = \\frac{k_B T}{q}$, where $k_B$ is the Boltzmann constant, $T$ is the absolute temperature, and $q$ is the elementary charge.\n- In weak inversion, the drain current of a MOSFET biased in saturation exhibits an exponential dependence on gate-source voltage: $I_d \\propto \\exp\\!\\left(\\frac{\\kappa V_{GS}}{U_T}\\right)$, where $\\kappa \\in (0,1)$ is the gate coupling coefficient (also called the subthreshold slope factor reciprocal), and the small-signal transconductance is $g_{m,\\text{single}} = \\frac{\\partial I_d}{\\partial V_{GS}} = \\frac{\\kappa}{U_T} I_d$.\n- For a symmetric differential pair in weak inversion with a tail bias current $I_b$, the odd-symmetric differential output current satisfies $I_{\\text{diff}}(v_d) = I_b \\tanh\\!\\left(\\frac{\\kappa v_d}{2 U_T}\\right)$, yielding a small-signal transconductance around $v_d=0$ of $g_m = \\left.\\frac{\\partial I_{\\text{diff}}}{\\partial v_d}\\right|_{v_d=0} = \\frac{\\kappa}{2 U_T} I_b$.\n\nStarting from the capacitor constitutive relation and the above device facts, derive the ordinary differential equation governing $v_s(t)$ and show that its solution is an exponential decay. Then, compute the time constant $\\tau$ and express its dependency on the bias current $I_b$, the thermal voltage $U_T$, the gate coupling coefficient $\\kappa$, and the capacitance $C$. Provide the final answer as a single closed-form analytic expression for $\\tau$ in terms of $C$, $\\kappa$, $U_T$, and $I_b$. Do not evaluate numerically. The time constant $\\tau$ is a physical time; if evaluated numerically, express it in seconds. No rounding is required.",
            "solution": "The problem statement is first validated against the required criteria.\n\n### Step 1: Extract Givens\n- A transconductance-capacitor (`$g_m-C$`) network implements an analog neuromorphic synapse.\n- The output current of the transconductance element is proportional to a synaptic voltage, $v_s(t)$.\n- A capacitor $C$ integrates this current, resulting in first-order exponential decay dynamics.\n- The circuit consists of a symmetric differential pair of MOSFETs operating in the subthreshold regime, biased by a tail current $I_b$.\n- The synaptic voltage $v_s(t)$ is the differential input. The system is linearized for small $|v_s(t)|$.\n- The output node is connected to a capacitor of value $C$ to ground.\n- The output current into the capacitor is given by $i_{\\text{out}}(t) \\approx g_m v_s(t)$, which implements a decay.\n- The thermal voltage is $U_T = \\frac{k_B T}{q}$.\n- The gate coupling coefficient is $\\kappa \\in (0,1)$.\n- The small-signal transconductance of the differential pair around $v_s(t)=0$ is given by $g_m = \\frac{\\kappa}{2 U_T} I_b$.\n\n### Step 2: Validate Using Extracted Givens\n- **Scientifically Grounded:** The problem is based on established principles of analog integrated circuit design and device physics, specifically the behavior of MOSFETs in the subthreshold (weak inversion) regime and the analysis of first-order `$g_m-C$` filters. The equations provided for subthreshold current and transconductance are standard and correct.\n- **Well-Posed:** The problem is well-posed. It provides all necessary physical relationships and parameters to derive the differential equation and compute the time constant. A unique, stable, and meaningful solution exists.\n- **Objective:** The problem is stated in precise, objective, and technical language, free from any subjectivity or bias.\n\nThe problem does not violate any of the invalidity criteria. A slight ambiguity in the phrase \"output current into the capacitor is $i_{\\text{out}}(t) \\approx g_m v_s(t)$\" is resolved by the explicit statement that this action \"implement[s] a first-order `$g_m-C$` decay\". For a positive voltage $v_s(t)$ to decay, the capacitor must discharge. This implies that the transconductance element draws a current from the capacitor that is proportional to $v_s(t)$. This is a standard convention in describing such circuits and is not a contradiction.\n\n### Step 3: Verdict and Action\nThe problem is valid and can be solved as stated.\n\n### Derivation\nThe synaptic voltage $v_s(t)$ is the voltage across the capacitor $C$. The constitutive relation for the capacitor is given by:\n$$i_C(t) = C \\frac{d v_s(t)}{dt}$$\nwhere $i_C(t)$ is the current flowing into the capacitor.\n\nThe problem describes a circuit that implements an exponential decay. This means that if $v_s(t) > 0$, the voltage must decrease over time ($\\frac{d v_s(t)}{dt}  0$). This requires a net current to flow *out* of the capacitor. The transconductance element $g_m$ provides this discharge path.\n\nThe current drawn *from* the capacitor by the transconductance element is given as being proportional to the voltage $v_s(t)$. Let us call this current $i_{gm}(t)$. For small $|v_s(t)|$, this relationship is linear:\n$$i_{gm}(t) = g_m v_s(t)$$\nThis current $i_{gm}(t)$ flows out of the capacitor node. Applying Kirchhoff's Current Law (KCL) at the output node (which has voltage $v_s(t)$), assuming no other currents are entering or leaving the node, we have:\n$$i_C(t) - i_{gm}(t) = 0$$\nNote: The problem states \"$i_{\\text{out}}(t)$ is the output current into the capacitor\". If we interpret this literally as $i_C(t) = i_{\\text{out}}(t)$, then we would have $C \\frac{d v_s(t)}{dt} = g_m v_s(t)$, which leads to exponential growth, contradicting the stated goal of implementing a \"decay\". The physically correct interpretation, consistent with achieving decay, is that the transconductor acts as a resistor-like load, drawing a current $g_m v_s(t)$ *out* of the node. Thus, the current *into* the node from the transconductor is $-g_m v_s(t)$. Therefore, the net current into the capacitor is $i_C(t) = -g_m v_s(t)$.\n\nSubstituting the capacitor's constitutive relation gives:\n$$C \\frac{d v_s(t)}{dt} = - g_m v_s(t)$$\nThis is the ordinary differential equation (ODE) governing $v_s(t)$. We can rearrange it into standard form:\n$$\\frac{d v_s(t)}{dt} + \\frac{g_m}{C} v_s(t) = 0$$\nThis is a first-order linear homogeneous ODE. The general solution to an equation of the form $\\frac{dy}{dt} + \\frac{1}{\\tau} y = 0$ is an exponential decay given by $y(t) = y(0) \\exp(-t/\\tau)$, where $\\tau$ is the time constant.\n\nComparing our derived ODE for $v_s(t)$ with the standard form, we can identify the time constant $\\tau$. We have:\n$$\\frac{1}{\\tau} = \\frac{g_m}{C}$$\nTherefore, the time constant $\\tau$ is:\n$$\\tau = \\frac{C}{g_m}$$\nThe problem provides the expression for the small-signal transconductance $g_m$ for the differential pair operating in the subthreshold regime:\n$$g_m = \\frac{\\kappa I_b}{2 U_T}$$\nNow, we substitute this expression for $g_m$ into our equation for $\\tau$:\n$$\\tau = \\frac{C}{\\frac{\\kappa I_b}{2 U_T}}$$\nSimplifying this expression gives the final dependency of the time constant $\\tau$ on the given parameters:\n$$\\tau = \\frac{2 C U_T}{\\kappa I_b}$$\nThis expression shows that the time constant $\\tau$ is directly proportional to the capacitance $C$ and the thermal voltage $U_T$, and inversely proportional to the gate coupling coefficient $\\kappa$ and the bias current $I_b$. This result is consistent with the principles of analog neuromorphic design, where time constants can be tuned over several orders of magnitude by adjusting bias currents.",
            "answer": "$$\\boxed{\\frac{2 C U_T}{\\kappa I_b}}$$"
        },
        {
            "introduction": "Shifting to the digital domain, computation relies on discrete numerical representations, which brings a different set of design constraints centered on precision, dynamic range, and resource efficiency. This exercise addresses a fundamental challenge in digital neuromorphic hardware: determining the minimum fixed-point bit width required to reliably represent a neuron's membrane potential . You will learn to connect the statistical properties of neural inputs and performance requirements to the concrete hardware specification of bit width, a crucial skill for designing robust digital neuromorphic processors.",
            "id": "4035172",
            "problem": "Consider a discrete-time implementation of a Leaky Integrate-and-Fire (LIF) neuron in a digital fixed-point processor using two's complement arithmetic, with the membrane potential update given by the forward Euler step\n$$\nV_{n+1} \\;=\\; V_n \\;+\\; \\Delta t \\left( -\\frac{g_L}{C}\\big(V_n - E_L\\big) + \\frac{I_n}{C} \\right),\n$$\nwhere $V_n$ is the membrane potential at time step $n$, $\\Delta t$ is the simulation time step, $g_L$ is the leak conductance, $C$ is the membrane capacitance, $E_L$ is the leak reversal potential, and $I_n$ is the input current at time step $n$. A spike is emitted and the potential is reset to $V_r$ whenever $V_n \\geq V_{\\text{th}}$.\n\nAssume the following scientifically realistic parameters:\n- $C = 200 \\times 10^{-12}$ farad,\n- $g_L = 10 \\times 10^{-9}$ siemens,\n- $E_L = -65 \\times 10^{-3}$ volt,\n- $V_{\\text{th}} = -50 \\times 10^{-3}$ volt,\n- $V_r = -65 \\times 10^{-3}$ volt,\n- $\\Delta t = 1 \\times 10^{-4}$ second.\n\nThe input current $I_n$ is independently and identically distributed across time steps as a Gaussian random variable (Normal distribution) with mean $\\mu_I = 50 \\times 10^{-12}$ ampere and standard deviation $\\sigma_I = 150 \\times 10^{-12}$ ampere. The system is designed to operate at a maximum firing rate $f_{\\max} = 200$ hertz, and is required to avoid overflow in representing $V_n$ with probability at least $1 - \\varepsilon$ over any inter-spike interval at $f_{\\max}$, where $\\varepsilon = 10^{-6}$.\n\nDesign the fixed-point format such that the least significant bit (LSB) corresponds to a voltage resolution of $0.1 \\times 10^{-3}$ volt. Using a conservative bound derived from the membrane dynamics and input statistics, compute the minimum total bit width $b$ (including the sign bit) required for the two's complement representation of $V_n$ to avoid overflow under the stated requirement. If your calculation yields a non-integer for $b$, report the smallest integer that satisfies the no-overflow requirement.\n\nExpress your final answer as the integer number of bits, with no units. No rounding by significant figures is needed beyond taking the smallest integer that meets the requirement.",
            "solution": "The problem requires the determination of the minimum total bit width, $b$, for a two's complement fixed-point representation of a Leaky Integrate-and-Fire (LIF) neuron's membrane potential, $V_n$. The design must prevent overflow with a probability of at least $1 - \\varepsilon$ over any inter-spike interval, under specific operating conditions.\n\nFirst, the given parameters and equations are summarized:\nThe membrane potential update rule is given by the forward Euler method:\n$$V_{n+1} = V_n + \\Delta t \\left( -\\frac{g_L}{C}(V_n - E_L) + \\frac{I_n}{C} \\right)$$\nThis can be rewritten as:\n$$V_{n+1} = V_n \\left(1 - \\frac{\\Delta t g_L}{C}\\right) + \\frac{\\Delta t g_L}{C} E_L + \\frac{\\Delta t}{C} I_n$$\nLet $\\alpha = 1 - \\frac{\\Delta t g_L}{C}$. The equation becomes $V_{n+1} = \\alpha V_n + (1-\\alpha)E_L + \\frac{\\Delta t}{C} I_n$.\n\nThe given parameters are:\n- Membrane capacitance, $C = 200 \\times 10^{-12} \\text{ F}$\n- Leak conductance, $g_L = 10 \\times 10^{-9} \\text{ S}$\n- Leak reversal potential, $E_L = -65 \\times 10^{-3} \\text{ V}$\n- Firing threshold, $V_{\\text{th}} = -50 \\times 10^{-3} \\text{ V}$\n- Reset potential, $V_r = -65 \\times 10^{-3} \\text{ V}$\n- Time step, $\\Delta t = 1 \\times 10^{-4} \\text{ s}$\n- Input current mean, $\\mu_I = 50 \\times 10^{-12} \\text{ A}$\n- Input current standard deviation, $\\sigma_I = 150 \\times 10^{-12} \\text{ A}$\n- Maximum firing rate, $f_{\\max} = 200 \\text{ Hz}$\n- Overflow failure probability, $\\varepsilon = 10^{-6}$\n- Voltage resolution (LSB), $V_{\\text{res}} = 0.1 \\times 10^{-3} \\text{ V}$\n\nThe design requires finding the range $[V_{\\min}, V_{\\max}]$ that $V_n$ can occupy, and then determining the number of bits $b$ needed to represent this range. A $b$-bit two's complement number with resolution $V_{\\text{res}}$ can represent values in the range $[-2^{b-1} V_{\\text{res}}, (2^{b-1}-1) V_{\\text{res}}]$. The minimum bit width $b$ must satisfy $V_{\\max} \\le (2^{b-1}-1)V_{\\text{res}}$ and $V_{\\min} \\ge -2^{b-1}V_{\\text{res}}$.\n\nTo find a conservative bound for the voltage range, we first bound the stochastic input current $I_n$. The problem requires avoiding overflow with probability $1 - \\varepsilon$ over an inter-spike interval at $f_{\\max}$. The minimum inter-spike interval is $T = 1/f_{\\max} = 1/200 = 5 \\times 10^{-3} \\text{ s}$. The number of time steps in this interval is $N = T/\\Delta t = (5 \\times 10^{-3}) / (1 \\times 10^{-4}) = 50$.\n\nUsing the union bound (Boole's inequality), we can distribute the total failure probability $\\varepsilon$ over the $N$ steps of the interval. The probability of an overflow at any single step should be less than $p_{\\text{fail}} = \\varepsilon / N = 10^{-6} / 50 = 2 \\times 10^{-8}$.\nThe input current $I_n$ follows a Gaussian distribution $N(\\mu_I, \\sigma_I^2)$. An overflow is primarily caused by extreme values of $I_n$. We find the range $[I_{\\min}, I_{\\max}]$ that contains the current with probability $1 - p_{\\text{fail}}$. For a standard normal variable $Z \\sim N(0, 1)$, we need to find $k_I$ such that $P(|Z|  k_I) = p_{\\text{fail}}$. This implies $2(1 - \\Phi(k_I)) = p_{\\text{fail}}$, where $\\Phi$ is the standard normal CDF.\n$P(Z  k_I) = p_{\\text{fail}} / 2 = 1 \\times 10^{-8}$.\n$\\Phi(k_I) = 1 - 10^{-8} = 0.99999999$.\nThe inverse CDF gives $k_I = \\Phi^{-1}(0.99999999) \\approx 5.6120$.\nThe bounds for the current are:\n$I_{\\max} = \\mu_I + k_I \\sigma_I = 50 \\times 10^{-12} + 5.6120 \\times 150 \\times 10^{-12} = (50 + 841.8) \\times 10^{-12} = 891.8 \\times 10^{-12} \\text{ A}$.\n$I_{\\min} = \\mu_I - k_I \\sigma_I = 50 \\times 10^{-12} - 5.6120 \\times 150 \\times 10^{-12} = (50 - 841.8) \\times 10^{-12} = -791.8 \\times 10^{-12} \\text{ A}$.\n\nNow, we analyze the LIF dynamics with this bounded input current to find the extremal values of $V_n$.\nLet's compute the constants in the update equation:\n$\\alpha = 1 - \\frac{\\Delta t g_L}{C} = 1 - \\frac{(1 \\times 10^{-4})(10 \\times 10^{-9})}{200 \\times 10^{-12}} = 1 - \\frac{10^{-13}}{2 \\times 10^{-10}} = 1 - 0.005 = 0.995$.\n$\\frac{\\Delta t}{C} = \\frac{1 \\times 10^{-4}}{200 \\times 10^{-12}} = 5 \\times 10^5 \\text{ V/A}$.\nThe update equation can be written as $V_{n+1} = \\alpha V_n + B_n$, where $B_n = (1-\\alpha)E_L + \\frac{\\Delta t}{C}I_n$.\n$(1-\\alpha)E_L = 0.005 \\times (-65 \\times 10^{-3}) = -3.25 \\times 10^{-4} \\text{ V}$.\nThe range of $B_n$ is determined by the range of $I_n$:\n$B_{\\max} = -3.25 \\times 10^{-4} + (5 \\times 10^5) \\times (891.8 \\times 10^{-12}) = -3.25 \\times 10^{-4} + 4.459 \\times 10^{-4} = 1.209 \\times 10^{-4} \\text{ V}$.\n$B_{\\min} = -3.25 \\times 10^{-4} + (5 \\times 10^5) \\times (-791.8 \\times 10^{-12}) = -3.25 \\times 10^{-4} - 3.959 \\times 10^{-4} = -7.209 \\times 10^{-4} \\text{ V}$.\n\nTo find the maximum required voltage, $V_{\\max}$, we consider the situation just before a spike. The value to be stored, $V_{n+1}$, is calculated from $V_n$, where $V_n  V_{\\text{th}}$. The maximum value of $V_{n+1}$ occurs when $V_n$ is infinitesimally close to $V_{\\text{th}}$ and the input term $B_n$ is maximal ($B_{\\max}$).\n$V_{\\max} = \\lim_{V_n \\to V_{\\text{th}}^{-}} (\\alpha V_n + B_{\\max}) = \\alpha V_{\\text{th}} + B_{\\max}$.\n$V_{\\max} = 0.995 \\times (-50 \\times 10^{-3}) + 1.209 \\times 10^{-4} = -0.04975 + 0.0001209 = -0.0496291 \\text{ V}$.\n\nTo find the minimum required voltage, $V_{\\min}$, we must consider the most conservative case. An inter-spike interval can be arbitrarily long if the input current is consistently low. The minimum voltage the system can possibly reach is the steady-state voltage under the minimum possible input term, $B_{\\min}$. Let this steady-state minimum be $V_{\\text{ss,min}}$.\n$V_{\\text{ss,min}} = \\alpha V_{\\text{ss,min}} + B_{\\min} \\implies V_{\\text{ss,min}} = \\frac{B_{\\min}}{1-\\alpha}$.\n$V_{\\min} = V_{\\text{ss,min}} = \\frac{-7.209 \\times 10^{-4}}{0.005} = -0.14418 \\text{ V}$.\n\nThe required voltage range is therefore $[-0.14418 \\text{ V}, -0.0496291 \\text{ V}]$.\nWe must choose $b$ such that this range can be represented. The two's complement range is $[-2^{b-1} V_{\\text{res}}, (2^{b-1}-1) V_{\\text{res}}]$.\n$V_{\\text{res}} = 0.1 \\times 10^{-3} \\text{ V}$.\nThe upper bound must satisfy:\n$-0.0496291 \\le (2^{b-1}-1) \\times (0.1 \\times 10^{-3})$.\n$-496.291 \\le 2^{b-1}-1$. This inequality holds for any practical $b \\ge 1$.\nThe lower bound must satisfy:\n$-0.14418 \\ge -2^{b-1} \\times (0.1 \\times 10^{-3})$.\n$0.14418 \\le 2^{b-1} \\times (0.1 \\times 10^{-3})$.\nDividing by $V_{\\text{res}}$:\n$\\frac{0.14418}{0.1 \\times 10^{-3}} \\le 2^{b-1}$.\n$1441.8 \\le 2^{b-1}$.\nTo find the minimum integer $b$, we take the base-$2$ logarithm:\n$\\log_2(1441.8) \\le b-1$.\n$\\frac{\\ln(1441.8)}{\\ln(2)} \\le b-1$.\n$\\frac{7.2736...}{0.6931...} \\le b-1$.\n$10.494... \\le b-1$.\nSince $b-1$ must be an integer, the smallest possible value is $b-1=11$.\nTherefore, the minimum total bit width is $b = 11 + 1 = 12$.\nWith $b=12$, the range is $[-2^{11} \\times V_{\\text{res}}, (2^{11}-1) \\times V_{\\text{res}}] = [-2048 \\times 0.1 \\text{ mV}, 2047 \\times 0.1 \\text{ mV}] = [-204.8 \\text{ mV}, 204.7 \\text{ mV}]$, which safely contains the required range of $[-144.18 \\text{ mV}, -49.63 \\text{ mV}]$.",
            "answer": "$$\\boxed{12}$$"
        },
        {
            "introduction": "The ultimate test of a design philosophy lies in its functional performance and failure modes. This practice provides a direct quantitative comparison between analog and digital approaches by analyzing how their inherent limitations affect synaptic weight updates, a key component of on-chip learning . You will derive the conditions for saturation in both an analog synapse, limited by physical voltage rails and currents, and a digital synapse, limited by numerical clipping and quantization, thereby gaining insight into their distinct impacts on convergence speed and accuracy.",
            "id": "4035203",
            "problem": "An analog synaptic element in a neuromorphic circuit encodes the synaptic weight by the voltage $V(t)$ across a capacitor of capacitance $C$. The update mechanism is implemented by a transconductor of gain $\\gamma$ that generates an update current proportional to the error $E(t) = V^{\\ast} - V(t)$, but the update current is limited in magnitude by a maximum bound $I_{\\max}$. The supply rails confine the voltage to $[V_{\\min}, V_{\\max}]$. The evolution law follows from the capacitor relation and the bounded current: \n$$\nC\\,\\frac{dV}{dt} \\;=\\; \\operatorname{sat}_{[-I_{\\max},\\,I_{\\max}]}\\!\\big(\\gamma\\,(V^{\\ast}-V)\\big),\n$$ \nwhere $\\operatorname{sat}_{[-I_{\\max},\\,I_{\\max}]}(x)$ clips $x$ into the interval $[-I_{\\max}, I_{\\max}]$. \n\nPart A: Starting from the fundamental capacitor law and the given bounded update mechanism, derive necessary and sufficient conditions under which the analog synapse saturates, distinguishing two modes:\n- current-limited saturation in the update path, and \n- rail-limited saturation in the state variable. \nExpress these conditions as inequalities involving $I_{\\max}$, $\\gamma$, $V(t)$, $V^{\\ast}$, $V_{\\min}$, and $V_{\\max}$.\n\nPart B: Using the conditions from Part A, compute the time $T_{\\text{analog}}$ required for the analog synapse to enter the target set \n$$\n\\mathcal{S}_{\\varepsilon} \\;=\\; \\{\\,V:\\; |V - V^{\\ast}| \\le \\varepsilon\\,\\}\n$$ \nwhen the trajectory begins in the current-limited regime and then transitions into the linear regime. The parameters are:\n- $C = 200\\,\\mathrm{pF}$, \n- $I_{\\max} = 10\\,\\mathrm{\\mu A}$,\n- $\\gamma = 50\\,\\mathrm{\\mu A/V}$,\n- $V_{\\min} = 0\\,\\mathrm{V}$,\n- $V_{\\max} = 1\\,\\mathrm{V}$,\n- $V^{\\ast} = 0.6\\,\\mathrm{V}$,\n- $V(0) = 0\\,\\mathrm{V}$,\n- $\\varepsilon = 1\\,\\mathrm{mV}$.\n\nA digital synapse uses saturating arithmetic with quantization. The weight is represented directly in volts as $w_k$ at iteration $k$ and updated once per clock period with a discrete-time gradient step followed by quantization and clipping:\n$$\nw_{k+1} \\;=\\; \\operatorname{clip}_{[V_{\\min},\\,V_{\\max}]}\\!\\Big(Q_q\\big(w_k + \\eta_d\\,(V^{\\ast} - w_k)\\big)\\Big),\n$$\nwhere $Q_q(\\cdot)$ rounds its argument to the nearest multiple of the quantization step $q$ (Least Significant Bit (LSB)), and $\\operatorname{clip}_{[V_{\\min},\\,V_{\\max}]}(\\cdot)$ applies saturating arithmetic to keep the state within $[V_{\\min}, V_{\\max}]$. \n\nPart C: Derive the condition under which the digital update stalls due to quantization (i.e., the rounding yields no change in $w_k$), and express the resulting error floor in terms of $q$ and $\\eta_d$. Assuming that clipping at the rails does not occur before stall, and ignoring quantization effects until the iterate is sufficiently close to $V^{\\ast}$, approximate the number of iterations $N_{\\text{digital}}$ needed to reach the stall region starting from $w_0 = V(0)$ with the given parameters:\n- $q = 2\\,\\mathrm{mV}$,\n- $\\eta_d = 0.4$,\n- $V_{\\min} = 0\\,\\mathrm{V}$,\n- $V_{\\max} = 1\\,\\mathrm{V}$,\n- $V^{\\ast} = 0.6\\,\\mathrm{V}$,\n- $w_0 = 0\\,\\mathrm{V}$.\n\nPart D: Define the impact measure \n$$\nR \\;=\\; \\frac{T_{\\text{analog}}}{N_{\\text{digital}}\\,T_u},\n$$ \nwhere $T_u$ is the update clock period for the digital synapse. Take $T_u = 1\\,\\mathrm{\\mu s}$ and compute $R$ as a pure number. Round your final numerical answer for $R$ to four significant figures. Express the final answer as a pure number with no units.",
            "solution": "The problem is validated as scientifically grounded, well-posed, and an objective assessment of continuous-time versus discrete-time dynamical systems modeling synaptic updates. All necessary parameters are provided, and the problem structure is logical.\n\nPart A: Necessary and sufficient conditions for saturation.\n\nThe evolution of the synapse voltage $V(t)$ is given by\n$$\nC\\,\\frac{dV}{dt} \\;=\\; \\operatorname{sat}_{[-I_{\\max},\\,I_{\\max}]}\\!\\big(\\gamma\\,(V^{\\ast}-V)\\big)\n$$\nThe state variable $V(t)$ is also constrained to the interval $[V_{\\min}, V_{\\max}]$.\n\nThere are two distinct modes of saturation:\n\n1.  **Current-Limited Saturation**: This occurs when the feedback mechanism operates at its maximum capacity. The input to the saturation function, $x = \\gamma\\,(V^{\\ast}-V)$, is the ideal update current. The saturation function $\\operatorname{sat}_{[-I_{\\max},\\,I_{\\max}]}(x)$ limits this current. Saturation happens when the magnitude of the ideal current exceeds the limit $I_{\\max}$.\n    This corresponds to $|x| > I_{\\max}$, which translates to:\n    $$\n    |\\gamma\\,(V^{\\ast}-V)| > I_{\\max}\n    $$\n    Since $\\gamma > 0$ and $I_{\\max} > 0$, this is equivalent to:\n    $$\n    |V^{\\ast}-V| > \\frac{I_{\\max}}{\\gamma}\n    $$\n    This inequality is the necessary and sufficient condition for the update current to be saturated. The dynamics are then governed by $C\\,\\frac{dV}{dt} = \\operatorname{sgn}(V^{\\ast}-V) \\cdot I_{\\max}$.\n\n2.  **Rail-Limited Saturation**: This is a saturation of the state variable $V(t)$ itself, which is confined to $[V_{\\min}, V_{\\max}]$. Saturation occurs when $V(t)$ reaches one of the supply rails and the dynamics attempt to push it further beyond that rail.\n    -   Saturation at the upper rail, $V_{\\max}$: The state is $V(t) = V_{\\max}$. For the state to be \"stuck\" or saturated at this rail, the time derivative $dV/dt$ must be forced to $0$ while the driving term attempts to make it positive. A positive $dV/dt$ is attempted if the update current is positive, which occurs when $V^{\\ast}-V > 0$. So, if $V(t) = V_{\\max}$ and the target voltage $V^{\\ast}$ is greater than $V_{\\max}$, the synapse is saturated at the upper rail. The condition is:\n        $$\n        V(t) = V_{\\max} \\quad \\text{and} \\quad V^{\\ast} > V_{\\max}\n        $$\n    -   Saturation at the lower rail, $V_{\\min}$: Symmetrically, the state is $V(t) = V_{\\min}$. The system is saturated at this rail if the dynamics attempt to decrease the voltage further. This happens if the update current is negative, i.e., $V^{\\ast}-V  0$. The condition is:\n        $$\n        V(t) = V_{\\min} \\quad \\text{and} \\quad V^{\\ast}  V_{\\min}\n        $$\n\nPart B: Computation of the analog convergence time $T_{\\text{analog}}$.\n\nThe parameters are $C = 200\\,\\mathrm{pF}$, $I_{\\max} = 10\\,\\mathrm{\\mu A}$, $\\gamma = 50\\,\\mathrm{\\mu A/V}$, $V^{\\ast} = 0.6\\,\\mathrm{V}$, $V(0) = 0\\,\\mathrm{V}$, and $\\varepsilon = 1\\,\\mathrm{mV}$. The voltage rails are $[0, 1]\\,\\mathrm{V}$, so rail-limited saturation is not encountered as $V_{\\min}  V(0)  V^{\\ast}  V_{\\max}$.\n\nFirst, we determine the threshold for current-limited saturation from Part A:\n$$\n\\frac{I_{\\max}}{\\gamma} = \\frac{10\\,\\mathrm{\\mu A}}{50\\,\\mathrm{\\mu A/V}} = 0.2\\,\\mathrm{V}\n$$\nThe initial error is $|V^{\\ast} - V(0)| = |0.6\\,\\mathrm{V} - 0\\,\\mathrm{V}| = 0.6\\,\\mathrm{V}$.\nSince $0.6\\,\\mathrm{V} > 0.2\\,\\mathrm{V}$, the system starts in the current-limited regime. The trajectory consists of two phases.\n\n**Phase 1: Current-limited regime.**\nIn this phase, $V^{\\ast}-V > I_{\\max}/\\gamma$. Since $V(0)  V^{\\ast}$, the update current is positive and saturated. The dynamics are:\n$$\nC\\,\\frac{dV}{dt} = I_{\\max}\n$$\nIntegrating this from $t=0$ to $t$ gives:\n$$\nV(t) = V(0) + \\frac{I_{\\max}}{C}t = \\frac{I_{\\max}}{C}t\n$$\nThis phase ends when the system transitions to the linear regime, which occurs at a voltage $V_{\\text{trans}}$ such that $V^{\\ast}-V_{\\text{trans}} = I_{\\max}/\\gamma$.\n$$\nV_{\\text{trans}} = V^{\\ast} - \\frac{I_{\\max}}{\\gamma} = 0.6\\,\\mathrm{V} - 0.2\\,\\mathrm{V} = 0.4\\,\\mathrm{V}\n$$\nThe time $T_1$ to reach $V_{\\text{trans}}$ is:\n$$\nT_1 = \\frac{C \\cdot V_{\\text{trans}}}{I_{\\max}} = \\frac{(200 \\times 10^{-12}\\,\\mathrm{F}) \\cdot (0.4\\,\\mathrm{V})}{10 \\times 10^{-6}\\,\\mathrm{A}} = \\frac{80 \\times 10^{-12}}{10 \\times 10^{-6}}\\,\\mathrm{s} = 8 \\times 10^{-6}\\,\\mathrm{s}\n$$\n\n**Phase 2: Linear regime.**\nFor $t > T_1$, the system operates in the linear regime where $|V^{\\ast}-V| \\le I_{\\max}/\\gamma$. The dynamics are:\n$$\nC\\,\\frac{dV}{dt} = \\gamma(V^{\\ast}-V)\n$$\nThis is a first-order linear ordinary differential equation. Letting the error be $e(t) = V(t) - V^{\\ast}$, we have $de/dt = dV/dt$. The equation becomes:\n$$\nC\\,\\frac{de}{dt} = -\\gamma e \\implies \\frac{de}{dt} = -\\frac{\\gamma}{C}e\n$$\nThe solution is $e(t') = e(0) \\exp(-t'/\\tau)$, where $t' = t - T_1$ is the time elapsed since the start of this phase, and $\\tau = C/\\gamma$ is the time constant.\nThe initial condition for this phase is the error at $t=T_1$, which is $e(0) = V_{\\text{trans}} - V^{\\ast} = 0.4\\,\\mathrm{V} - 0.6\\,\\mathrm{V} = -0.2\\,\\mathrm{V}$.\nThe time constant is $\\tau = \\frac{200 \\times 10^{-12}\\,\\mathrm{F}}{50 \\times 10^{-6}\\,\\mathrm{A/V}} = 4 \\times 10^{-6}\\,\\mathrm{s}$.\nThe error evolves as $e(t') = -0.2 \\cdot \\exp(-t'/\\tau)$.\nThis phase ends when the voltage enters the target set $\\mathcal{S}_{\\varepsilon}$, i.e., when $|V(t) - V^{\\ast}| \\le \\varepsilon$. We calculate the time $T_2$ to reach the boundary, $|e(T_2)| = \\varepsilon$.\n$$\n| -0.2 \\cdot \\exp(-T_2/\\tau) | = \\varepsilon \\implies 0.2 \\cdot \\exp(-T_2/\\tau) = 0.001\n$$\n$$\n\\exp(-T_2/\\tau) = \\frac{0.001}{0.2} = 0.005\n$$\n$$\n-\\frac{T_2}{\\tau} = \\ln(0.005) \\implies T_2 = -\\tau \\ln(0.005) = \\tau \\ln\\left(\\frac{1}{0.005}\\right) = \\tau \\ln(200)\n$$\n$$\nT_2 = (4 \\times 10^{-6}\\,\\mathrm{s}) \\cdot \\ln(200)\n$$\nThe total time $T_{\\text{analog}}$ is the sum of the durations of the two phases:\n$$\nT_{\\text{analog}} = T_1 + T_2 = 8 \\times 10^{-6}\\,\\mathrm{s} + (4 \\times 10^{-6}\\,\\mathrm{s}) \\ln(200)\n$$\n\nPart C: Digital synapse stall condition and number of iterations $N_{\\text{digital}}$.\n\nThe digital update rule is $w_{k+1} = \\operatorname{clip}_{[V_{\\min},\\,V_{\\max}]}\\!\\Big(Q_q\\big(w_k + \\eta_d\\,(V^{\\ast} - w_k)\\big)\\Big)$.\nThe quantization function $Q_q(x)$ rounds $x$ to the nearest multiple of the quantization step $q$. An update stalls when the result of the update step, after quantization, is identical to the previous value, i.e., $w_{k+1}=w_k$. Since $w_k$ is already a quantized value (a multiple of $q$), this is equivalent to:\n$$\nQ_q\\big(w_k + \\eta_d\\,(V^{\\ast} - w_k)\\big) = w_k\n$$\nThis occurs if the argument $w_k + \\eta_d\\,(V^{\\ast} - w_k)$ is closer to $w_k$ than to any other quantization level. The condition for rounding to $w_k$ is that the update step is smaller in magnitude than half the quantization step:\n$$\n|\\eta_d\\,(V^{\\ast} - w_k)|  \\frac{q}{2}\n$$\nThe condition for the update to stall is therefore:\n$$\n|V^{\\ast} - w_k|  \\frac{q}{2\\eta_d}\n$$\nThe error floor is the value of the error at which updates cease. Thus, the error $|V^{\\ast} - w_k|$ can persist as long as it is below this threshold. The error floor is $\\frac{q}{2\\eta_d}$.\n\nTo find $N_{\\text{digital}}$, we approximate the dynamics by ignoring quantization until the stall region is reached. The unquantized recurrence is:\n$$\nw_{k+1} = w_k + \\eta_d\\,(V^{\\ast} - w_k)\n$$\nLet the error be $e_k = w_k - V^{\\ast}$. The recurrence for the error is:\n$$\ne_{k+1} = w_{k+1} - V^{\\ast} = (w_k - V^{\\ast}) + \\eta_d(V^{\\ast}-w_k) = e_k - \\eta_d e_k = (1-\\eta_d)e_k\n$$\nThe solution is $e_k = e_0 (1-\\eta_d)^k$. The system stalls when $|e_k|$ falls below the threshold $\\frac{q}{2\\eta_d}$. We need to find the smallest integer $k=N_{\\text{digital}}$ such that:\n$$\n|e_k| \\le \\frac{q}{2\\eta_d}\n$$\n$$\n|e_0|(1-\\eta_d)^k \\le \\frac{q}{2\\eta_d}\n$$\nTaking the logarithm of both sides:\n$$\nk \\ln(1-\\eta_d) \\le \\ln\\left(\\frac{q}{2\\eta_d |e_0|}\\right)\n$$\nSince $0  \\eta_d  1$, $\\ln(1-\\eta_d)$ is negative. Dividing by it reverses the inequality:\n$$\nk \\ge \\frac{\\ln\\left(\\frac{q}{2\\eta_d |e_0|}\\right)}{\\ln(1-\\eta_d)} = \\frac{\\ln\\left(\\frac{2\\eta_d |e_0|}{q}\\right)}{\\ln\\left(\\frac{1}{1-\\eta_d}\\right)}\n$$\nThe initial error is $|e_0| = |w_0 - V^{\\ast}| = |0\\,\\mathrm{V} - 0.6\\,\\mathrm{V}| = 0.6\\,\\mathrm{V}$.\nThe parameters are $\\eta_d = 0.4$ and $q = 2\\,\\mathrm{mV} = 0.002\\,\\mathrm{V}$.\n$$\n\\frac{2\\eta_d |e_0|}{q} = \\frac{2 \\cdot 0.4 \\cdot 0.6}{0.002} = \\frac{0.48}{0.002} = 240\n$$\n$$\n\\frac{1}{1-\\eta_d} = \\frac{1}{1-0.4} = \\frac{1}{0.6} = \\frac{5}{3}\n$$\n$$\nk \\ge \\frac{\\ln(240)}{\\ln(5/3)} \\approx \\frac{5.480639}{0.510826} \\approx 10.7289\n$$\nSince $N_{\\text{digital}}$ must be an integer, we take the ceiling of this value:\n$$\nN_{\\text{digital}} = \\lceil 10.7289 \\rceil = 11\n$$\n\nPart D: Computation of the impact measure $R$.\n\nThe impact measure is defined as $R = \\frac{T_{\\text{analog}}}{N_{\\text{digital}}\\,T_u}$, with $T_u = 1\\,\\mathrm{\\mu s}$.\nWe substitute the derived values:\n$$\nT_{\\text{analog}} = 8 \\times 10^{-6}\\,\\mathrm{s} + (4 \\times 10^{-6}\\,\\mathrm{s}) \\ln(200)\n$$\n$$\nN_{\\text{digital}} = 11\n$$\n$$\nT_u = 1 \\times 10^{-6}\\,\\mathrm{s}\n$$\n$$\nR = \\frac{8 \\times 10^{-6} + 4 \\times 10^{-6} \\ln(200)}{11 \\cdot (1 \\times 10^{-6})} = \\frac{8 + 4 \\ln(200)}{11}\n$$\nNow, we compute the numerical value:\n$\\ln(200) \\approx 5.298317$\n$$\nR \\approx \\frac{8 + 4 \\cdot (5.298317)}{11} = \\frac{8 + 21.193268}{11} = \\frac{29.193268}{11} \\approx 2.653933\n$$\nRounding to four significant figures, we get:\n$$\nR \\approx 2.654\n$$",
            "answer": "$$\\boxed{2.654}$$"
        }
    ]
}