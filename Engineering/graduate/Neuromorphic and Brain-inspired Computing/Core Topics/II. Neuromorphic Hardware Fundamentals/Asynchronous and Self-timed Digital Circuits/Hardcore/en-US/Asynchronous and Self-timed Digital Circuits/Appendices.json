{
    "hands_on_practices": [
        {
            "introduction": "A foundational decision in designing any asynchronous datapath is the choice of data encoding, which creates a fundamental trade-off between the robustness of delay-insensitive codes and the efficiency of bundled-data schemes. This exercise provides a quantitative framework for evaluating these options by calculating the wire overhead, coding efficiency, and expected energy consumption for both approaches. By working through this comparison, you will develop a practical toolset for making informed design decisions based on competing metrics .",
            "id": "4035926",
            "problem": "Consider a neuromorphic pipeline stage in an asynchronous, self-timed digital system that communicates $32$-bit membrane potential values between neuron-inspired processing elements. Two encoding styles are available for the datapath: dual-rail $1$-of-$2$ delay-insensitive data encoding and bundled-data single-rail encoding. Both channels use a four-phase return-to-zero handshake. In the dual-rail channel, the presence of valid data serves as an implicit request, and only an acknowledge line is present; in the bundled-data channel, both request and acknowledge lines are present. Assume a uniform wire pitch and identical parasitic properties for all wires. The payload consists of $32$ independent and identically distributed bits per transaction, each uniformly random and independent across transactions. The following assumptions hold:\n\n- The dual-rail $1$-of-$2$ code uses $2$ rails per bit, with a spacer symbol given by $00$, and a valid data symbol represented by $10$ for logic $1$ or $01$ for logic $0$. Each bit transitions from spacer to valid and back to spacer once per transaction, eliciting exactly two rail transitions per bit per transaction on one of its two rails. The dual-rail channel has a single acknowledge line that toggles high then low once per transaction.\n- The bundled-data channel uses $1$ wire per bit and changes its level according to the incoming data word; there is no explicit return-to-zero on data. The bundled-data channel has one request and one acknowledge line, both toggling high then low once per transaction.\n- For Complementary Metal–Oxide–Semiconductor (CMOS) dynamic switching energy, each transition of a single wire incurs energy $E_{\\text{sw}} = C_{\\text{w}} V^2$, where $C_{\\text{w}}$ is the effective wire capacitance and $V$ is the supply voltage. Ignore short-circuit and leakage components. Assume all wires have the same $C_{\\text{w}}$ and the same $V$.\n- Under the independent uniformly random data model, for bundled-data, each data bit has probability $\\frac{1}{2}$ of toggling between successive data words, so the expected number of data-wire transitions per transaction is $32 \\cdot \\frac{1}{2}$.\n\nDefine the following performance measures:\n\n- Coding efficiency ratio of dual-rail relative to bundled-data, $\\eta_{\\text{DR}}/\\eta_{\\text{BD}}$, where coding efficiency is the payload bits per data wire used to encode the payload.\n- Wire overhead factor, $\\rho_{\\text{wires}}$, defined as the ratio of total wires required for dual-rail to the total wires required for bundled-data, including handshake wires.\n- Energy ratio per transaction, $\\gamma_{E}$, defined as the ratio of the total expected dynamic switching energy for dual-rail to that of bundled-data.\n\nUsing only the assumptions stated above and standard principles of asynchronous channel encoding and CMOS dynamic energy, compute $\\eta_{\\text{DR}}/\\eta_{\\text{BD}}$, $\\rho_{\\text{wires}}$, and $\\gamma_{E}$ for the $32$-bit datapath. Provide your final answer as a row vector $\\left[ \\eta_{\\text{DR}}/\\eta_{\\text{BD}} \\;\\; \\rho_{\\text{wires}} \\;\\; \\gamma_{E} \\right]$ in exact analytical form with no rounding and no units.",
            "solution": "The problem statement has been validated and found to be self-contained, scientifically grounded, and well-posed. The solution proceeds by calculating the three requested performance metrics based on the provided definitions and assumptions. Let the number of payload bits be $N = 32$.\n\n### 1. Calculation of the Coding Efficiency Ratio, $\\eta_{\\text{DR}}/\\eta_{\\text{BD}}$\n\nCoding efficiency, $\\eta$, is defined as the number of payload bits divided by the number of data wires used to encode the payload.\n\nFor the dual-rail ($1$-of-$2$) channel, each bit of the $N$-bit payload is encoded using $2$ wires.\nThe number of data wires for the dual-rail channel is:\n$$W_{\\text{data, DR}} = 2N$$\nThe coding efficiency for the dual-rail channel is therefore:\n$$\\eta_{\\text{DR}} = \\frac{\\text{Payload bits}}{W_{\\text{data, DR}}} = \\frac{N}{2N} = \\frac{1}{2}$$\n\nFor the bundled-data (single-rail) channel, each bit of the $N$-bit payload is encoded using $1$ wire.\nThe number of data wires for the bundled-data channel is:\n$$W_{\\text{data, BD}} = N$$\nThe coding efficiency for the bundled-data channel is:\n$$\\eta_{\\text{BD}} = \\frac{\\text{Payload bits}}{W_{\\text{data, BD}}} = \\frac{N}{N} = 1$$\n\nThe ratio of the coding efficiencies is:\n$$\\frac{\\eta_{\\text{DR}}}{\\eta_{\\text{BD}}} = \\frac{1/2}{1} = \\frac{1}{2}$$\n\n### 2. Calculation of the Wire Overhead Factor, $\\rho_{\\text{wires}}$\n\nThe wire overhead factor, $\\rho_{\\text{wires}}$, is defined as the ratio of the total number of wires for the dual-rail channel to the total number of wires for the bundled-data channel, including handshake wires.\n\nFor the dual-rail channel, there are $2N$ data wires and, as stated, $1$ acknowledge line.\nThe total number of wires for the dual-rail channel, for $N=32$, is:\n$$W_{\\text{total, DR}} = W_{\\text{data, DR}} + W_{\\text{control, DR}} = 2N + 1 = 2(32) + 1 = 64 + 1 = 65$$\n\nFor the bundled-data channel, there are $N$ data wires and, as stated, $1$ request line and $1$ acknowledge line, for a total of $2$ control lines.\nThe total number of wires for the bundled-data channel, for $N=32$, is:\n$$W_{\\text{total, BD}} = W_{\\text{data, BD}} + W_{\\text{control, BD}} = N + 2 = 32 + 2 = 34$$\n\nThe wire overhead factor is the ratio of these two quantities:\n$$\\rho_{\\text{wires}} = \\frac{W_{\\text{total, DR}}}{W_{\\text{total, BD}}} = \\frac{65}{34}$$\nThis fraction is in its simplest form since $65 = 5 \\times 13$ and $34 = 2 \\times 17$.\n\n### 3. Calculation of the Energy Ratio per Transaction, $\\gamma_{E}$\n\nThe energy ratio, $\\gamma_{E}$, is defined as the ratio of the total expected dynamic switching energy for dual-rail to that of bundled-data. The dynamic switching energy is given as $E_{\\text{sw}} = C_{\\text{w}} V^{2}$ per wire transition. Since $C_{\\text{w}}$ and $V$ are identical for all wires, the total energy is directly proportional to the total number of wire transitions. The ratio of energies is therefore equal to the ratio of the expected total number of transitions.\n$$\\gamma_{E} = \\frac{E[E_{\\text{total, DR}}]}{E[E_{\\text{total, BD}}]} = \\frac{E[T_{\\text{total, DR}}] \\cdot E_{\\text{sw}}}{E[T_{\\text{total, BD}}] \\cdot E_{\\text{sw}}} = \\frac{E[T_{\\text{total, DR}}]}{E[T_{\\text{total, BD}}]}$$\nWe must calculate the expected number of transitions per transaction for each channel.\n\nFor the dual-rail channel, the system uses a return-to-zero scheme. For each of the $N$ bits, a transaction involves the data validity transitioning from spacer ($00$) to valid (either $10$ or $01$) and back to spacer. For any bit, this involves one of its two dedicated rails transitioning from low to high and then back to low. This constitutes exactly $2$ transitions per bit. As this process occurs for all $N$ bits, the number of data wire transitions is deterministic and data-independent.\n$$T_{\\text{data, DR}} = 2 \\times N = 2 \\times 32 = 64$$\nThe single acknowledge line \"toggles high then low once per transaction\", which constitutes $2$ transitions.\n$$T_{\\text{control, DR}} = 2$$\nThe total number of transitions for the dual-rail channel is the sum:\n$$E[T_{\\text{total, DR}}] = T_{\\text{data, DR}} + T_{\\text{control, DR}} = 64 + 2 = 66$$\n\nFor the bundled-data channel, the expected number of data-wire transitions is explicitly given. For $N=32$ bits of independent, uniformly random data, the expected number of bits that toggle between successive transactions is $N/2$. Each toggling bit contributes $1$ transition.\n$$E[T_{\\text{data, BD}}] = N \\cdot \\frac{1}{2} = 32 \\cdot \\frac{1}{2} = 16$$\nThe bundled-data channel has a request line and an acknowledge line. Both \"toggling high then low once per transaction\" as part of the four-phase handshake. This means each control line undergoes $2$ transitions.\n$$T_{\\text{control, BD}} = 2_{\\text{req}} + 2_{\\text{ack}} = 4$$\nThe total expected number of transitions for the bundled-data channel is the sum:\n$$E[T_{\\text{total, BD}}] = E[T_{\\text{data, BD}}] + T_{\\text{control, BD}} = 16 + 4 = 20$$\n\nThe energy ratio is the ratio of these total expected transitions:\n$$\\gamma_{E} = \\frac{E[T_{\\text{total, DR}}]}{E[T_{\\text{total, BD}}]} = \\frac{66}{20} = \\frac{33}{10}$$\n\n### Summary of Results\n\nThe three performance measures are:\n- Coding efficiency ratio, $\\eta_{\\text{DR}}/\\eta_{\\text{BD}} = \\frac{1}{2}$\n- Wire overhead factor, $\\rho_{\\text{wires}} = \\frac{65}{34}$\n- Energy ratio per transaction, $\\gamma_{E} = \\frac{33}{10}$\n\nThe final answer is presented as a row vector as requested.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\frac{1}{2} & \\frac{65}{34} & \\frac{33}{10}\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "The correctness of many self-timed circuits hinges on physical timing assumptions that must be validated after layout; for instance, dual-rail logic often relies on isochronic forks to ensure that paired signals experience similar delays. This practice grounds this abstract requirement in physical reality, guiding you through the use of the Elmore delay model to calculate RC-induced timing skew. You will learn to verify that the physical implementation's timing behavior remains within the design's specified tolerance, a critical skill in robust asynchronous design .",
            "id": "4035940",
            "problem": "A dual-rail completion detector in a self-timed pipeline stage aggregates per-bit validity using a tree of Muller C-elements (C-element). The two rails of a single dual-rail signal are routed through an isochronic fork to two branch inputs of the detector. The fork is realized on an integrated circuit interconnect modeled as a linear resistor-capacitor (RC) tree. The completion detector design specifies a maximum allowable branch-to-branch arrival-time skew bound based on the isochronic fork assumption. The inertial delay of each C-element is $D_{\\mathrm{C}} = 30\\,\\mathrm{ps}$, and the specified skew bound is $S_{\\max} = 6\\,\\mathrm{ps}$. Assume the source transition is a unit step with Thevenin source resistance $R_s$, and the interconnect and input loading are as follows.\n\nRC tree topology and parameter values:\n- Source to node $N_0$: resistor $R_s = 1.0\\,\\mathrm{k}\\Omega$, capacitor at node $N_0$: $C_{N_0} = 8\\,\\mathrm{fF}$.\n- Node $N_0$ to fork node $F$: resistor $R_t = 200\\,\\Omega$, capacitor at node $F$: $C_F = 32\\,\\mathrm{fF}$.\n- Branch A: $F$ to node $A_1$: resistor $R_{A1} = 250\\,\\Omega$, capacitor at node $A_1$: $C_{A1} = 28\\,\\mathrm{fF}$; $A_1$ to leaf $A_2$: resistor $R_{A2} = 150\\,\\Omega$, capacitor at leaf $A_2$: $C_{A2} = 22\\,\\mathrm{fF}$; input load at leaf $A_2$: $C_{LA} = 12\\,\\mathrm{fF}$.\n- Branch B: $F$ to node $B_1$: resistor $R_{B1} = 300\\,\\Omega$, capacitor at node $B_1$: $C_{B1} = 18\\,\\mathrm{fF}$; $B_1$ to leaf $B_2$: resistor $R_{B2} = 120\\,\\Omega$, capacitor at leaf $B_2$: $C_{B2} = 31\\,\\mathrm{fF}$; input load at leaf $B_2$: $C_{LB} = 15\\,\\mathrm{fF}$.\n\nModel the arrival-time to a branch leaf using the standard first-moment approximation for linear RC trees and compute the arrival times at $A_2$ and $B_2$. Then compute the skew $\\Delta t$ as the absolute difference of these arrival times. Finally, compute the slack margin defined as $M = S_{\\max} - \\Delta t$.\n\nExpress the final slack margin $M$ in picoseconds and round your answer to four significant figures.",
            "solution": "The problem requires the calculation of the timing slack margin for a dual-rail completion detector's input, which is driven by an isochronic fork realized as a linear resistor-capacitor (RC) tree. The solution involves computing the arrival times at the two leaf nodes of the fork using the first-moment approximation, commonly known as the Elmore delay model.\n\nFirst, we must validate the problem statement.\n\n**Step 1: Extract Givens**\n- C-element inertial delay: $D_{\\mathrm{C}} = 30\\,\\mathrm{ps}$\n- Maximum allowable skew bound: $S_{\\max} = 6\\,\\mathrm{ps}$\n- Source resistance: $R_s = 1.0\\,\\mathrm{k}\\Omega$\n- Resistors: $R_t = 200\\,\\Omega$, $R_{A1} = 250\\,\\Omega$, $R_{A2} = 150\\,\\Omega$, $R_{B1} = 300\\,\\Omega$, $R_{B2} = 120\\,\\Omega$\n- Capacitors: $C_{N_0} = 8\\,\\mathrm{fF}$, $C_F = 32\\,\\mathrm{fF}$, $C_{A1} = 28\\,\\mathrm{fF}$, $C_{A2} = 22\\,\\mathrm{fF}$, $C_{LA} = 12\\,\\mathrm{fF}$, $C_{B1} = 18\\,\\mathrm{fF}$, $C_{B2} = 31\\,\\mathrm{fF}$, $C_{LB} = 15\\,\\mathrm{fF}$\n- Task: Compute arrival times $t_{A_2}$ and $t_{B_2}$, skew $\\Delta t = |t_{A_2} - t_{B_2}|$, and slack margin $M = S_{\\max} - \\Delta t$. Round the final answer for $M$ to four significant figures.\n\n**Step 2: Validate Using Extracted Givens**\n- **Scientifically Grounded:** The problem uses the Elmore delay model for a linear RC tree, a standard and fundamental technique in VLSI timing analysis. The context of dual-rail logic, completion detectors, and isochronic forks in asynchronous circuits is well-established in digital electronics and neuromorphic engineering. The parameter values are realistic for modern integrated circuit technologies. The problem is scientifically sound.\n- **Well-Posed:** The problem provides a complete set of parameters and a clear objective. The Elmore delay model provides a unique solution for the given RC network. The problem is self-contained and unambiguous.\n- **Objective:** The problem statement is purely technical and quantitative, with no subjective or opinion-based content.\n\nThe problem does not violate any of the invalidity criteria. The variable $D_{\\mathrm{C}}$ is provided as context but is not needed for the calculation, which is acceptable.\n\n**Step 3: Verdict and Action**\nThe problem is valid. We proceed with the solution.\n\nThe Elmore delay $\\tau_i$ to a node $i$ in an RC tree is given by the sum of products of resistance and downstream capacitance for every resistor on the unique path from the source to node $i$:\n$$ \\tau_i = \\sum_{k \\in \\text{path(source, i)}} R_k C_{\\text{downstream}(k)} $$\nwhere $R_k$ is the resistance of segment $k$ on the path, and $C_{\\text{downstream}(k)}$ is the total capacitance of the subtree connected to the far end of resistor $R_k$.\n\nThe RC tree structure can be summarized as:\nSource $\\xrightarrow{R_s}$ Node $N_0$ $\\xrightarrow{R_t}$ Fork $F$\nFrom Fork $F$, there are two branches:\nBranch A: $F \\xrightarrow{R_{A1}}$ Node $A_1 \\xrightarrow{R_{A2}}$ Leaf $A_2$ (with load $C_{LA}$)\nBranch B: $F \\xrightarrow{R_{B1}}$ Node $B_1 \\xrightarrow{R_{B2}}$ Leaf $B_2$ (with load $C_{LB}$)\n\nWe first calculate the total downstream capacitance for each segment, starting from the leaves and moving toward the source. We will use base units of k$\\Omega$ for resistance, fF for capacitance, which results in picoseconds (ps) for time, since $1\\,\\mathrm{k}\\Omega \\times 1\\,\\mathrm{fF} = 10^3\\,\\Omega \\times 10^{-15}\\,\\mathrm{F} = 10^{-12}\\,\\mathrm{s} = 1\\,\\mathrm{ps}$.\n\nResistances in k$\\Omega$:\n$R_s = 1.0\\,\\mathrm{k}\\Omega$\n$R_t = 200\\,\\Omega = 0.2\\,\\mathrm{k}\\Omega$\n$R_{A1} = 250\\,\\Omega = 0.25\\,\\mathrm{k}\\Omega$\n$R_{A2} = 150\\,\\Omega = 0.15\\,\\mathrm{k}\\Omega$\n$R_{B1} = 300\\,\\Omega = 0.3\\,\\mathrm{k}\\Omega$\n$R_{B2} = 120\\,\\Omega = 0.12\\,\\mathrm{k}\\Omega$\n\nCapacitances in fF:\n$C_{N_0} = 8\\,\\mathrm{fF}$\n$C_F = 32\\,\\mathrm{fF}$\n$C_{A1} = 28\\,\\mathrm{fF}$\n$C_{A2} = 22\\,\\mathrm{fF}$\n$C_{LA} = 12\\,\\mathrm{fF}$\n$C_{B1} = 18\\,\\mathrm{fF}$\n$C_{B2} = 31\\,\\mathrm{fF}$\n$C_{LB} = 15\\,\\mathrm{fF}$\n\n1.  **Downstream Capacitance Calculations:**\n    The capacitance of the subtree rooted at leaf $A_2$ is $C_{\\text{sub}(A_2)} = C_{A2} + C_{LA} = 22\\,\\mathrm{fF} + 12\\,\\mathrm{fF} = 34\\,\\mathrm{fF}$.\n    The capacitance of the subtree rooted at node $A_1$ is $C_{\\text{sub}(A_1)} = C_{A1} + C_{\\text{sub}(A_2)} = 28\\,\\mathrm{fF} + 34\\,\\mathrm{fF} = 62\\,\\mathrm{fF}$.\n\n    The capacitance of the subtree rooted at leaf $B_2$ is $C_{\\text{sub}(B_2)} = C_{B2} + C_{LB} = 31\\,\\mathrm{fF} + 15\\,\\mathrm{fF} = 46\\,\\mathrm{fF}$.\n    The capacitance of the subtree rooted at node $B_1$ is $C_{\\text{sub}(B_1)} = C_{B1} + C_{\\text{sub}(B_2)} = 18\\,\\mathrm{fF} + 46\\,\\mathrm{fF} = 64\\,\\mathrm{fF}$.\n\n    The capacitance of the subtree rooted at the fork node $F$ is $C_{\\text{sub}(F)} = C_F + C_{\\text{sub}(A_1)} + C_{\\text{sub}(B_1)} = 32\\,\\mathrm{fF} + 62\\,\\mathrm{fF} + 64\\,\\mathrm{fF} = 158\\,\\mathrm{fF}$.\n    The total capacitance of the tree, which is the subtree rooted at node $N_0$, is $C_{\\text{sub}(N_0)} = C_{N_0} + C_{\\text{sub}(F)} = 8\\,\\mathrm{fF} + 158\\,\\mathrm{fF} = 166\\,\\mathrm{fF}$.\n\n2.  **Arrival Time Calculation for Leaf $A_2$:**\n    The path to $A_2$ consists of resistors $R_s, R_t, R_{A1}, R_{A2}$. The arrival time $t_{A_2}$ is:\n    $$ t_{A_2} = R_s C_{\\text{sub}(N_0)} + R_t C_{\\text{sub}(F)} + R_{A1} C_{\\text{sub}(A_1)} + R_{A2} C_{\\text{sub}(A_2)} $$\n    $$ t_{A_2} = (1.0\\,\\mathrm{k}\\Omega)(166\\,\\mathrm{fF}) + (0.2\\,\\mathrm{k}\\Omega)(158\\,\\mathrm{fF}) + (0.25\\,\\mathrm{k}\\Omega)(62\\,\\mathrm{fF}) + (0.15\\,\\mathrm{k}\\Omega)(34\\,\\mathrm{fF}) $$\n    $$ t_{A_2} = 166\\,\\mathrm{ps} + 31.6\\,\\mathrm{ps} + 15.5\\,\\mathrm{ps} + 5.1\\,\\mathrm{ps} $$\n    $$ t_{A_2} = 218.2\\,\\mathrm{ps} $$\n\n3.  **Arrival Time Calculation for Leaf $B_2$:**\n    The path to $B_2$ consists of resistors $R_s, R_t, R_{B1}, R_{B2}$. The arrival time $t_{B_2}$ is:\n    $$ t_{B_2} = R_s C_{\\text{sub}(N_0)} + R_t C_{\\text{sub}(F)} + R_{B1} C_{\\text{sub}(B_1)} + R_{B2} C_{\\text{sub}(B_2)} $$\n    The first two terms are common with the path to $A_2$.\n    $$ t_{B_2} = (166\\,\\mathrm{ps} + 31.6\\,\\mathrm{ps}) + (0.3\\,\\mathrm{k}\\Omega)(64\\,\\mathrm{fF}) + (0.12\\,\\mathrm{k}\\Omega)(46\\,\\mathrm{fF}) $$\n    $$ t_{B_2} = 197.6\\,\\mathrm{ps} + 19.2\\,\\mathrm{ps} + 5.52\\,\\mathrm{ps} $$\n    $$ t_{B_2} = 222.32\\,\\mathrm{ps} $$\n\n4.  **Skew Calculation:**\n    The skew $\\Delta t$ is the absolute difference between the arrival times at the two leaves.\n    $$ \\Delta t = |t_{A_2} - t_{B_2}| = |218.2\\,\\mathrm{ps} - 222.32\\,\\mathrm{ps}| = |-4.12\\,\\mathrm{ps}| = 4.12\\,\\mathrm{ps} $$\n\n5.  **Slack Margin Calculation:**\n    The slack margin $M$ is the difference between the maximum allowed skew $S_{\\max}$ and the calculated skew $\\Delta t$.\n    $$ M = S_{\\max} - \\Delta t = 6\\,\\mathrm{ps} - 4.12\\,\\mathrm{ps} = 1.88\\,\\mathrm{ps} $$\n\nThe problem requires the final answer to be rounded to four significant figures.\n$$ M = 1.880\\,\\mathrm{ps} $$",
            "answer": "$$\\boxed{1.880}$$"
        },
        {
            "introduction": "Beyond the correctness of individual components, a key challenge is understanding the system-level performance of event-driven asynchronous architectures, for which queueing theory provides a powerful analytical framework. This exercise models a self-timed pipeline stage as a classic M/M/1 queue, a common scenario in neuromorphic systems where event arrivals and processing times are stochastic. By applying first principles, you will derive fundamental performance metrics like expected buffer occupancy and throughput, learning to predict the dynamic behavior and limits of self-timed hardware .",
            "id": "4035935",
            "problem": "A neuromorphic event-driven pipeline stage implements a self-timed $4$-phase handshake and is fronted by an infinite-capacity first-in first-out (FIFO) buffer. Upstream spiking activity generates handshake request events that arrive to the FIFO as a stationary Poisson process of rate $\\lambda$ (events per second), reflecting a large, weakly correlated ensemble of neurons. The service provided by the stage (completion of a full request–acknowledge handshake and removal of one item from the FIFO, when nonempty) has independent, exponentially distributed completion times with mean $1/\\mu$ seconds, modeling variability in asynchronous forward and backward latency under independent jitter. Assume the system is in steady state, that arrivals and services are independent and memoryless, and that the stability condition $\\lambda < \\mu$ holds.\n\nUsing only first principles appropriate to self-timed systems and queueing with memoryless primitives (e.g., birth–death balance, stationarity, and Little’s law), derive the steady-state expected FIFO occupancy (the expected number of items in the FIFO, dimensionless) and the long-run throughput (departures per second through the stage). Express the final throughput in $\\mathrm{s}^{-1}$ and the occupancy as a dimensionless expected count. Provide your final answer as closed-form analytic expressions in terms of $\\lambda$ and $\\mu$. No numerical evaluation is required, and no rounding is needed. The final reported answer must be the pair “occupancy, throughput” in that order.",
            "solution": "The problem asks for the derivation of the steady-state expected FIFO occupancy and the long-run throughput of a system modeled as a single-server queue. The provided information precisely defines an M/M/1 queueing system: the arrivals follow a Markovian (Poisson) process, the service times are Markovian (exponentially distributed), and there is one server (the pipeline stage). The FIFO buffer is described as having infinite capacity. The system is stated to be in steady state, which is consistent with the provided stability condition $\\lambda < \\mu$, where $\\lambda$ is the arrival rate and $\\mu$ is the service rate. The service rate $\\mu$ is the reciprocal of the mean service time, $1/\\mu$. We will derive the requested quantities from first principles.\n\nFirst, we derive the expected FIFO occupancy, which we denote as $L$. We model the number of items in the FIFO, $N$, as a state in a birth-death process. Let $p_n$ be the steady-state probability that the system is in state $n$, meaning there are $n$ items in the FIFO, for $n \\in \\{0, 1, 2, \\dots\\}$.\n\nThe arrivals are from a Poisson process with rate $\\lambda$, so the birth rate (transition from state $n$ to $n+1$) is constant for all $n \\ge 0$:\n$$ \\lambda_n = \\lambda $$\nThe service times are exponentially distributed with mean $1/\\mu$, so the service rate is $\\mu$. Service can only occur if the FIFO is non-empty ($n \\ge 1$). Thus, the death rate (transition from state $n$ to $n-1$) is state-dependent:\n$$ \\mu_n = \\begin{cases} \\mu & \\text{if } n \\ge 1 \\\\ 0 & \\text{if } n = 0 \\end{cases} $$\nIn steady state, the principle of detailed balance dictates that the rate of leaving a state equals the rate of entering it. For the boundary between state $n-1$ and $n$, this means the rate of transitions from $n-1$ to $n$ equals the rate of transitions from $n$ to $n-1$:\n$$ p_{n-1} \\lambda_{n-1} = p_n \\mu_n $$\nFor $n \\ge 1$, we have $\\lambda_{n-1}=\\lambda$ and $\\mu_n=\\mu$, so:\n$$ p_{n-1} \\lambda = p_n \\mu \\implies p_n = \\left(\\frac{\\lambda}{\\mu}\\right) p_{n-1} $$\nLet us define the traffic intensity, $\\rho = \\frac{\\lambda}{\\mu}$. The stability condition $\\lambda < \\mu$ ensures $\\rho < 1$. The relationship becomes $p_n = \\rho p_{n-1}$. By recursion, we can express any $p_n$ in terms of $p_0$:\n$$ p_n = \\rho p_{n-1} = \\rho^2 p_{n-2} = \\dots = \\rho^n p_0 $$\nTo find $p_0$, we use the normalization axiom that the sum of all probabilities must be unity:\n$$ \\sum_{n=0}^{\\infty} p_n = 1 $$\nSubstituting our expression for $p_n$:\n$$ \\sum_{n=0}^{\\infty} \\rho^n p_0 = p_0 \\sum_{n=0}^{\\infty} \\rho^n = 1 $$\nThe summation is a geometric series which converges because $\\rho < 1$:\n$$ \\sum_{n=0}^{\\infty} \\rho^n = \\frac{1}{1-\\rho} $$\nTherefore, $p_0 \\left(\\frac{1}{1-\\rho}\\right) = 1$, which gives $p_0 = 1-\\rho$.\nThe steady-state probability distribution for the number of items in the FIFO is $p_n = (1-\\rho)\\rho^n$ for $n=0, 1, 2, \\ldots$.\n\nThe expected FIFO occupancy, $L$, is the expected value of this probability distribution:\n$$ L = E[N] = \\sum_{n=0}^{\\infty} n p_n = \\sum_{n=0}^{\\infty} n (1-\\rho)\\rho^n = (1-\\rho) \\sum_{n=0}^{\\infty} n \\rho^n $$\nThe series can be evaluated using a known identity related to geometric series, $\\sum_{n=0}^{\\infty} n x^n = \\frac{x}{(1-x)^2}$ for $|x|<1$.\n$$ L = (1-\\rho) \\left( \\frac{\\rho}{(1-\\rho)^2} \\right) = \\frac{\\rho}{1-\\rho} $$\nSubstituting $\\rho = \\lambda/\\mu$ gives the expression in terms of the problem parameters:\n$$ L = \\frac{\\frac{\\lambda}{\\mu}}{1 - \\frac{\\lambda}{\\mu}} = \\frac{\\frac{\\lambda}{\\mu}}{\\frac{\\mu - \\lambda}{\\mu}} = \\frac{\\lambda}{\\mu - \\lambda} $$\nThis is a dimensionless quantity representing the expected number of items. The problem phrasing \"completion of a full...handshake and removal of one item from the FIFO\" implies an item being serviced is still within the FIFO system, so $L$ correctly represents the total expected occupancy.\n\nSecond, we derive the long-run throughput, which we denote as $X$. Throughput is the average rate at which items depart the system. A fundamental principle for any stable system in steady state is the conservation of flow: the long-run average arrival rate must equal the long-run average departure rate.\nThe arrival process is a stationary Poisson process with rate $\\lambda$. Thus, the average arrival rate is simply $\\lambda$.\nFor the system to be stable, the throughput must match this rate:\n$$ X = \\lambda $$\nThe units of $\\lambda$ are events per second, so the throughput is in $\\mathrm{s}^{-1}$ as required.\n\nAn alternative first-principles derivation for throughput considers the server's activity. The throughput is the product of the service rate $\\mu$ and the fraction of time the server is busy. The server is busy if there is at least one item in the system, i.e., $N > 0$. The probability of this is $P(N>0) = 1 - P(N=0) = 1 - p_0$.\nSince $p_0 = 1-\\rho$, the server utilization (probability of being busy) is $1 - (1-\\rho) = \\rho$.\nSo, the throughput is:\n$$ X = \\mu \\times P(N>0) = \\mu \\times \\rho = \\mu \\left(\\frac{\\lambda}{\\mu}\\right) = \\lambda $$\nBoth methods confirm the throughput is $\\lambda$.\n\nThe final answer requires the pair (occupancy, throughput).\nExpected FIFO occupancy: $\\frac{\\lambda}{\\mu - \\lambda}$.\nLong-run throughput: $\\lambda$.",
            "answer": "$$ \\boxed{ \\begin{pmatrix} \\frac{\\lambda}{\\mu - \\lambda} & \\lambda \\end{pmatrix} } $$"
        }
    ]
}