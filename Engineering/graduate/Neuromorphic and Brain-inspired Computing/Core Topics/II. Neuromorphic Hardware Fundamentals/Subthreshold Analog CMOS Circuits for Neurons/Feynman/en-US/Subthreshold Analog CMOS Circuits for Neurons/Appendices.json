{
    "hands_on_practices": [
        {
            "introduction": "The foundation of many computational neuron models is the leaky integrator, which describes how a neuron's membrane potential passively integrates inputs and leaks charge over time. This behavior is characterized by the membrane time constant, $\\tau$. This first exercise  provides a crucial link between this abstract neural parameter and its physical implementation, asking you to derive $\\tau$ from the first principles of a subthreshold CMOS differential pair that serves as the leak conductance. By linearizing the circuit's dynamics, you will gain insight into how the neuron's temporal properties can be tuned by adjusting bias currents and capacitor sizes.",
            "id": "4061355",
            "problem": "A neuromorphic neuron membrane in a Complementary Metal–Oxide–Semiconductor (CMOS) subthreshold analog implementation consists of a membrane capacitor of value $C$ connected to a leak element that realizes an approximately linear current proportional to the deviation of the membrane potential from a leak reversal potential. The leak element is implemented using a balanced subthreshold Metal–Oxide–Semiconductor Field-Effect Transistor (MOSFET) differential pair biased by a tail current source of value $I_{b}$, with the two gates driven by the membrane potential $V_{m}$ and the fixed leak reversal potential $E_{L}$, respectively. Assume matched devices, negligible channel-length modulation, and operation strictly in weak inversion such that the drain current of each transistor follows the exponential law with slope factor $n$ and thermal voltage $U_{T}$. \n\nStarting only from:\n- Kirchhoff’s current law (KCL) at the membrane node,\n- the weak-inversion exponential current law for a MOSFET, and\n- the definitions $U_{T} = k_{B} T / q$, where $k_{B}$ is the Boltzmann constant, $T$ is the absolute temperature, and $q$ is the elementary charge,\n\nperform the following tasks:\n\n1. Linearize the membrane dynamics around $V_{m} = E_{L}$ and derive the first-order differential equation governing the small-signal membrane deviation $v(t) \\equiv V_{m}(t) - E_{L}$. Identify the associated time constant symbolically in terms of $C$ and the small-signal leak conductance about $V_{m} = E_{L}$, without invoking any pre-memorized neuron formulas.\n\n2. For the subthreshold differential pair implementing the leak, derive the small-signal transconductance at zero differential input from first principles, expressing it in terms of $I_{b}$, $n$, and $U_{T}$. Argue why this small-signal transconductance equals the small-signal leak conductance that appears in the linearized membrane equation.\n\n3. Using the result of items 1 and 2, determine the capacitance $C$ required to realize a target small-signal membrane time constant $\\tau_{\\mathrm{target}} = 25\\,\\mathrm{ms}$ at temperature $T = 300\\,\\mathrm{K}$ with slope factor $n = 1.5$ and bias current $I_{b} = 200\\,\\mathrm{pA}$. Express $C$ in picofarads, and round your answer to three significant figures. State clearly any intermediate symbolic expressions you use before substituting numerical values.",
            "solution": "The problem is assessed to be valid as it is scientifically grounded in established circuit theory and device physics, well-posed, and contains all necessary information for a unique solution.\n\nThe solution is developed in three parts as requested by the problem statement.\n\n### Part 1: Linearized Membrane Dynamics and Time Constant\n\nThe dynamics of the membrane potential $V_{m}$ are governed by Kirchhoff's Current Law (KCL) at the membrane node. The current flowing out of the node through the capacitor $C$ must be balanced by the current flowing into the node. Assuming no external input current, the KCL equation is:\n$$I_{C}(t) + I_{\\text{leak}}(t) = 0$$\nwhere $I_{C}(t)$ is the capacitive current and $I_{\\text{leak}}(t)$ is the current drawn by the leak element. The capacitive current is given by $I_{C} = C \\frac{dV_{m}}{dt}$. Thus, the membrane equation is:\n$$C \\frac{dV_{m}}{dt} + I_{\\text{leak}}(V_{m}) = 0$$\n\nThe leak element is a subthreshold differential pair with input voltages $V_{m}$ and $E_{L}$, and a tail bias current $I_{b}$. Let the two transistors be $M_1$ and $M_2$, with gate voltages $V_{G1}=V_{m}$ and $V_{G2}=E_{L}$, respectively. Their sources are connected to a common node with voltage $V_S$. In weak inversion, the drain current $I_D$ of a MOSFET is exponentially related to its gate-source voltage $V_{GS}$. A standard model is $I_{D} \\propto \\exp\\left(\\frac{V_{GS}}{n U_T}\\right)$. For the two transistors, we have:\n$$I_1 = I_S \\exp\\left(\\frac{V_{m} - V_S}{n U_T}\\right)$$\n$$I_2 = I_S \\exp\\left(\\frac{E_{L} - V_S}{n U_T}\\right)$$\nwhere $I_S$ is a process-dependent pre-exponential current and $V_S$ is the common-source voltage. KCL at the common-source node dictates that $I_1 + I_2 = I_{b}$.\n\nFrom the ratio of the two currents, we can eliminate $V_S$:\n$$\\frac{I_1}{I_2} = \\frac{\\exp\\left(\\frac{V_{m} - V_S}{n U_T}\\right)}{\\exp\\left(\\frac{E_{L} - V_S}{n U_T}\\right)} = \\exp\\left(\\frac{V_{m} - E_{L}}{n U_T}\\right)$$\nCombining this with $I_1 + I_2 = I_b$, we solve for $I_1$ and $I_2$. The resulting expressions are:\n$$I_1 = I_b \\frac{1}{1 + \\exp\\left(-\\frac{V_{m} - E_{L}}{n U_T}\\right)}$$\n$$I_2 = I_b \\frac{1}{1 + \\exp\\left(\\frac{V_{m} - E_{L}}{n U_T}\\right)}$$\n\nThe problem states the leak element provides a current approximately proportional to the deviation $V_m - E_L$. This implies that the leak current $I_{\\text{leak}}$ should be zero when $V_m = E_L$. The differential output current of the pair, $I_1 - I_2$, satisfies this condition. The standard implementation of such a leak element, often called a transconductance amplifier, uses this differential current. Let's define $I_{\\text{leak}} \\equiv I_1 - I_2$:\n$$I_{\\text{leak}}(V_m) = I_1 - I_2 = I_b \\left( \\frac{\\exp\\left(\\frac{V_m-E_L}{2nU_T}\\right)}{\\exp\\left(\\frac{V_m-E_L}{2nU_T}\\right) + \\exp\\left(-\\frac{V_m-E_L}{2nU_T}\\right)} - \\frac{\\exp\\left(-\\frac{V_m-E_L}{2nU_T}\\right)}{\\exp\\left(\\frac{V_m-E_L}{2nU_T}\\right) + \\exp\\left(-\\frac{V_m-E_L}{2nU_T}\\right)} \\right)$$\n$$I_{\\text{leak}}(V_m) = I_b \\frac{\\exp\\left(\\frac{V_m-E_L}{2nU_T}\\right) - \\exp\\left(-\\frac{V_m-E_L}{2nU_T}\\right)}{\\exp\\left(\\frac{V_m-E_L}{2nU_T}\\right) + \\exp\\left(-\\frac{V_m-E_L}{2nU_T}\\right)} = I_b \\tanh\\left(\\frac{V_m - E_L}{2nU_T}\\right)$$\nThe membrane dynamics are thus described by the nonlinear differential equation:\n$$C \\frac{dV_{m}}{dt} + I_b \\tanh\\left(\\frac{V_m - E_L}{2nU_T}\\right) = 0$$\n\nTo linearize the dynamics, we consider small deviations $v(t) = V_{m}(t) - E_{L}$ around the equilibrium point $V_m = E_L$. For small arguments $x$, $\\tanh(x) \\approx x$. Thus, for small $v(t)$:\n$$\\tanh\\left(\\frac{v(t)}{2nU_T}\\right) \\approx \\frac{v(t)}{2nU_T}$$\nSubstituting this approximation and $V_m = v + E_L$ (so $\\frac{dV_m}{dt} = \\frac{dv}{dt}$) into the dynamic equation yields the linearized first-order differential equation:\n$$C \\frac{dv}{dt} + \\frac{I_b}{2nU_T} v = 0$$\nThis equation is of the form $C \\frac{dv}{dt} + g_L v = 0$, where $g_L$ is the small-signal leak conductance about $V_m=E_L$. By comparison, we identify the leak conductance as:\n$$g_L = \\frac{I_b}{2nU_T}$$\nThe standard form of a first-order linear differential equation is $\\tau \\frac{dy}{dt} + y = 0$. Rewriting our equation gives:\n$$\\frac{C}{g_L} \\frac{dv}{dt} + v = 0$$\nThe time constant $\\tau$ is therefore given by:\n$$\\tau = \\frac{C}{g_L}$$\n\n### Part 2: Small-Signal Transconductance and Relation to Leak Conductance\n\nThe small-signal transconductance, $g_m$, of the differential pair at zero differential input is defined as the derivative of the differential output current, $I_{od} = I_1 - I_2$, with respect to the differential input voltage, $V_{id} = V_m - E_L$, evaluated at $V_{id}=0$.\n$$g_m = \\left. \\frac{dI_{od}}{dV_{id}} \\right|_{V_{id}=0}$$\nUsing the expression for the differential output current from Part 1:\n$$I_{od}(V_{id}) = I_b \\tanh\\left(\\frac{V_{id}}{2nU_T}\\right)$$\nWe compute the derivative:\n$$\\frac{dI_{od}}{dV_{id}} = \\frac{d}{dV_{id}} \\left[ I_b \\tanh\\left(\\frac{V_{id}}{2nU_T}\\right) \\right] = I_b \\cdot \\text{sech}^2\\left(\\frac{V_{id}}{2nU_T}\\right) \\cdot \\frac{1}{2nU_T}$$\nEvaluating at $V_{id} = 0$:\n$$g_m = I_b \\cdot \\text{sech}^2(0) \\cdot \\frac{1}{2nU_T} = I_b \\cdot (1) \\cdot \\frac{1}{2nU_T} = \\frac{I_b}{2nU_T}$$\nThis is the expression for the small-signal transconductance at zero differential input in terms of $I_b$, $n$, and $U_T$.\n\nThe small-signal leak conductance $g_L$ is, by definition, the slope of the leak current characteristic $I_{\\text{leak}}(V_m)$ at the operating point $V_m = E_L$.\n$$g_L = \\left. \\frac{dI_{\\text{leak}}}{dV_m} \\right|_{V_m=E_L}$$\nIn our circuit, the leak current $I_{\\text{leak}}$ is implemented as the differential output current $I_{od}$ of the amplifier, and the deviation $V_m - E_L$ is the differential input voltage $V_{id}$. Since $E_L$ is constant, $dV_m = dV_{id}$. The operating point $V_m = E_L$ corresponds to $V_{id}=0$. Therefore, the definition of $g_L$ is formally identical to the definition of $g_m$:\n$$g_L = \\left. \\frac{dI_{\\text{leak}}}{dV_m} \\right|_{V_m=E_L} = \\left. \\frac{dI_{od}}{dV_{id}} \\right|_{V_{id}=0} = g_m$$\nThus, the small-signal leak conductance of the membrane circuit is equal to the small-signal transconductance of the differential pair that implements it.\n\n### Part 3: Calculation of Capacitance $C$\n\nFrom Part 1 and Part 2, the membrane time constant is $\\tau = C/g_L = C/g_m$. Using the expression for $g_m$:\n$$\\tau = \\frac{C}{I_b / (2nU_T)} = \\frac{2nU_T C}{I_b}$$\nWe are asked to find the capacitance $C$ required for a target time constant $\\tau_{\\text{target}}$. Rearranging the formula for $C$:\n$$C = \\frac{\\tau_{\\text{target}} I_b}{2nU_T}$$\nThe thermal voltage $U_T$ is defined as $U_T = k_B T / q$. Substituting this gives the full symbolic expression for $C$:\n$$C = \\frac{\\tau_{\\text{target}} I_b q}{2n k_B T}$$\nNow, we substitute the given numerical values:\n$\\tau_{\\text{target}} = 25 \\times 10^{-3}\\,\\mathrm{s}$\n$I_b = 200 \\times 10^{-12}\\,\\mathrm{A}$\n$n = 1.5$\n$T = 300\\,\\mathrm{K}$\n$k_B \\approx 1.380649 \\times 10^{-23}\\,\\mathrm{J/K}$\n$q \\approx 1.602177 \\times 10^{-19}\\,\\mathrm{C}$\n\nFirst, we calculate the thermal voltage $U_T$:\n$$U_T = \\frac{k_B T}{q} \\approx \\frac{(1.380649 \\times 10^{-23}\\,\\mathrm{J/K}) \\cdot (300\\,\\mathrm{K})}{1.602177 \\times 10^{-19}\\,\\mathrm{C}} \\approx 0.025852\\,\\mathrm{V}$$\nNow, we calculate $C$:\n$$C = \\frac{(25 \\times 10^{-3}) \\cdot (200 \\times 10^{-12})}{2 \\cdot (1.5) \\cdot (0.025852)} = \\frac{5 \\times 10^{-12}}{3 \\cdot 0.025852} \\approx \\frac{5 \\times 10^{-12}}{0.077556}\\,\\mathrm{F}$$\n$$C \\approx 6.4471 \\times 10^{-11}\\,\\mathrm{F}$$\nThe problem requires the answer in picofarads ($1\\,\\mathrm{pF} = 10^{-12}\\,\\mathrm{F}$).\n$$C \\approx 64.471\\,\\mathrm{pF}$$\nRounding to three significant figures, we get:\n$$C \\approx 64.5\\,\\mathrm{pF}$$\nThis is the required capacitance value.",
            "answer": "$$\\boxed{6.45 \\times 10^{1}}$$"
        },
        {
            "introduction": "While a simple leak is fundamental, real neurons perform sophisticated computations within their dendritic trees, many of which involve multiplicative interactions between synaptic inputs. Building upon the differential pair studied previously, this practice  explores how these basic building blocks can be composed into a more complex circuit: a four-quadrant analog multiplier. By deriving the exact input-output relationship, you will see how the inherent nonlinearity of subthreshold transistors can be harnessed to create powerful computational primitives, a core principle of neuromorphic engineering.",
            "id": "4061352",
            "problem": "A pairwise-multiplicative dendritic interaction is to be implemented in Complementary Metal-Oxide Semiconductor (CMOS) using subthreshold operation. Consider the following idealized current-mode architecture composed of matched long-tailed differential pairs operating in weak inversion (subthreshold), with negligible channel-length modulation and identical subthreshold slope factor across devices. The thermal voltage is defined as $U_T = \\frac{k_B T}{q}$, and the subthreshold slope factor is $n > 1$. Each transistor has identical process-dependent prefactor $I_0$, such that when a transistor with gate voltage $V_G$ and source voltage $V_S$ operates in subthreshold saturation, its drain current is modeled by\n$$\nI_D = I_0 \\exp\\!\\left(\\frac{V_G - V_S}{n U_T}\\right).\n$$\nA first differential pair $(P_1)$ receives a total tail current $I_B$ at its common source node and splits it between two branches with gate voltages $V_{X+} = V_{X,\\mathrm{CM}} + \\frac{V_x}{2}$ and $V_{X-} = V_{X,\\mathrm{CM}} - \\frac{V_x}{2}$, respectively. Denote the resulting branch currents as $I_a$ and $I_b$, with $I_a + I_b = I_B$. Two additional, identical differential pairs $(P_{2a})$ and $(P_{2b})$ are driven by a second input with gate voltages $V_{Y+} = V_{Y,\\mathrm{CM}} + \\frac{V_y}{2}$ and $V_{Y-} = V_{Y,\\mathrm{CM}} - \\frac{V_y}{2}$ and have tail currents equal to $I_a$ and $I_b$, respectively. Define the algebraic differential output of a differential pair with tail current $I_T$ as the current difference between its two drain branches when the branch currents are taken with opposite signs. The overall output current $I_{\\mathrm{out}}$ is formed by summing the algebraic differential outputs of $(P_{2a})$ and $(P_{2b})$ with opposite polarity, specifically\n$$\nI_{\\mathrm{out}} = \\Delta I_{2a} - \\Delta I_{2b},\n$$\nwhere $\\Delta I_{2a}$ and $\\Delta I_{2b}$ are the algebraic differential outputs of $(P_{2a})$ and $(P_{2b})$, respectively.\n\nStarting from the given weak-inversion current law and the constraint $I_a + I_b = I_B$, and assuming all transistors are perfectly matched and operate under the same $n$ and $U_T$, derive the exact closed-form analytic expression for $I_{\\mathrm{out}}$ as a function of $I_B$, $V_x$, $V_y$, $n$, and $U_T$. Express your final answer as a single closed-form analytic expression. No numerical evaluation is required.",
            "solution": "The problem statement has been validated and found to be scientifically sound, well-posed, and self-contained. The derivation of the output current $I_{\\mathrm{out}}$ proceeds as follows.\n\nThe analysis begins with the first differential pair, $(P_1)$. This pair is biased with a tail current $I_B$ and receives the differential input voltage $V_x$. Let the common-source voltage of this pair be $V_{S1}$. The two transistors of the pair carry drain currents $I_a$ and $I_b$. According to the provided subthreshold current model, these currents are given by:\n$$\nI_a = I_0 \\exp\\left(\\frac{V_{G,a} - V_{S1}}{n U_T}\\right) = I_0 \\exp\\left(\\frac{V_{X,\\mathrm{CM}} + \\frac{V_x}{2} - V_{S1}}{n U_T}\\right)\n$$\n$$\nI_b = I_0 \\exp\\left(\\frac{V_{G,b} - V_{S1}}{n U_T}\\right) = I_0 \\exp\\left(\\frac{V_{X,\\mathrm{CM}} - \\frac{V_x}{2} - V_{S1}}{n U_T}\\right)\n$$\nwhere $V_{G,a} = V_{X+}$ and $V_{G,b} = V_{X-}$. The common terms $I_0$, $V_{X,\\mathrm{CM}}$, and $V_{S1}$ can be eliminated by taking the ratio of the two currents:\n$$\n\\frac{I_a}{I_b} = \\frac{I_0 \\exp\\left(\\frac{V_{X,\\mathrm{CM}} + V_x/2 - V_{S1}}{n U_T}\\right)}{I_0 \\exp\\left(\\frac{V_{X,\\mathrm{CM}} - V_x/2 - V_{S1}}{n U_T}\\right)} = \\exp\\left(\\frac{(V_{X,\\mathrm{CM}} + V_x/2 - V_{S1}) - (V_{X,\\mathrm{CM}} - V_x/2 - V_{S1})}{n U_T}\\right) = \\exp\\left(\\frac{V_x}{n U_T}\\right)\n$$\nWe have two equations for $I_a$ and $I_b$: the ratio derived above, and the Kirchhoff's Current Law (KCL) constraint at the common-source node, $I_a + I_b = I_B$. From the ratio, we can write $I_a = I_b \\exp\\left(\\frac{V_x}{n U_T}\\right)$. Substituting this into the KCL equation yields:\n$$\nI_b \\exp\\left(\\frac{V_x}{n U_T}\\right) + I_b = I_B \\implies I_b \\left(1 + \\exp\\left(\\frac{V_x}{n U_T}\\right)\\right) = I_B\n$$\nSolving for $I_b$:\n$$\nI_b = \\frac{I_B}{1 + \\exp\\left(\\frac{V_x}{n U_T}\\right)}\n$$\nAnd for $I_a$:\n$$\nI_a = I_B - I_b = I_B - \\frac{I_B}{1 + \\exp\\left(\\frac{V_x}{n U_T}\\right)} = I_B \\frac{1 + \\exp\\left(\\frac{V_x}{n U_T}\\right) - 1}{1 + \\exp\\left(\\frac{V_x}{n U_T}\\right)} = \\frac{I_B \\exp\\left(\\frac{V_x}{n U_T}\\right)}{1 + \\exp\\left(\\frac{V_x}{n U_T}\\right)}\n$$\nThese currents, $I_a$ and $I_b$, serve as the tail currents for the second-stage differential pairs, $(P_{2a})$ and $(P_{2b})$.\n\nNext, we analyze the second-stage pairs. The differential pair $(P_{2a})$ has tail current $I_a$ and is driven by the differential input voltage $V_y$. Its algebraic differential output is $\\Delta I_{2a}$. By direct analogy with the derivation for a standard differential pair, its output can be expressed as:\n$$\n\\Delta I_{2a} = I_a \\tanh\\left(\\frac{V_y}{2n U_T}\\right)\n$$\nThis result is obtained by following the same procedure used for the first pair, but with tail current $I_a$ and input voltage $V_y$. The differential output $\\Delta I$ of a pair with tail current $I_T$ and input voltage $V_{in}$ is universally $I_T \\tanh\\left(\\frac{V_{in}}{2n U_T}\\right)$.\n\nSimilarly, for the differential pair $(P_{2b})$, which has tail current $I_b$ and is also driven by $V_y$, the algebraic differential output $\\Delta I_{2b}$ is:\n$$\n\\Delta I_{2b} = I_b \\tanh\\left(\\frac{V_y}{2n U_T}\\right)\n$$\nThe problem defines the overall output current $I_{\\mathrm{out}}$ as the difference between these two differential outputs:\n$$\nI_{\\mathrm{out}} = \\Delta I_{2a} - \\Delta I_{2b}\n$$\nSubstituting the expressions for $\\Delta I_{2a}$ and $\\Delta I_{2b}$:\n$$\nI_{\\mathrm{out}} = I_a \\tanh\\left(\\frac{V_y}{2n U_T}\\right) - I_b \\tanh\\left(\\frac{V_y}{2n U_T}\\right) = (I_a - I_b) \\tanh\\left(\\frac{V_y}{2n U_T}\\right)\n$$\nTo complete the derivation, we need the expression for the difference $I_a - I_b$. Using the previously derived expressions for $I_a$ and $I_b$:\n$$\nI_a - I_b = \\frac{I_B \\exp\\left(\\frac{V_x}{n U_T}\\right)}{1 + \\exp\\left(\\frac{V_x}{n U_T}\\right)} - \\frac{I_B}{1 + \\exp\\left(\\frac{V_x}{n U_T}\\right)} = I_B \\frac{\\exp\\left(\\frac{V_x}{n U_T}\\right) - 1}{1 + \\exp\\left(\\frac{V_x}{n U_T}\\right)}\n$$\nThis expression can be simplified by multiplying the numerator and denominator by $\\exp\\left(-\\frac{V_x}{2n U_T}\\right)$:\n$$\nI_a - I_b = I_B \\frac{\\exp\\left(\\frac{V_x}{2n U_T}\\right) - \\exp\\left(-\\frac{V_x}{2n U_T}\\right)}{\\exp\\left(-\\frac{V_x}{2n U_T}\\right) + \\exp\\left(\\frac{V_x}{2n U_T}\\right)} = I_B \\frac{2 \\sinh\\left(\\frac{V_x}{2n U_T}\\right)}{2 \\cosh\\left(\\frac{V_x}{2n U_T}\\right)} = I_B \\tanh\\left(\\frac{V_x}{2n U_T}\\right)\n$$\nFinally, substituting this result back into the expression for $I_{\\mathrm{out}}$:\n$$\nI_{\\mathrm{out}} = \\left( I_B \\tanh\\left(\\frac{V_x}{2n U_T}\\right) \\right) \\tanh\\left(\\frac{V_y}{2n U_T}\\right)\n$$\nThis is the final closed-form expression for the output current. It demonstrates the multiplicative interaction between the two input signals, represented by the voltages $V_x$ and $V_y$, scaled by the bias current $I_B$. The sigmoidal nature of the multiplication is captured by the hyperbolic tangent functions, which is characteristic of differential pairs operating in the subthreshold regime.",
            "answer": "$$\n\\boxed{I_B \\tanh\\left(\\frac{V_x}{2 n U_T}\\right) \\tanh\\left(\\frac{V_y}{2 n U_T}\\right)}\n$$"
        },
        {
            "introduction": "A key challenge for the practicing neuromorphic engineer is adapting designs to new semiconductor fabrication processes. As technology scales to smaller nodes, the fundamental properties of transistors change, impacting circuit performance. This final practice  places you in a real-world scenario: porting a leaky integrator neuron from an older $180\\,\\text{nm}$ process to a modern $28\\,\\text{nm}$ process. You will analyze how the subthreshold slope factor $n$ changes with scaling and determine the necessary design modification to preserve the neuron's essential time constant, a critical task for ensuring functional consistency across technology generations.",
            "id": "4061373",
            "problem": "A neuromorphic leaky integrator neuron implemented in Complementary Metal-Oxide-Semiconductor (CMOS) operates entirely in weak inversion (subthreshold). The leak is realized by a single-transistor transconductor biased at a constant drain current, and the membrane is a capacitor to ground. Consider porting this neuron from a $180\\,\\text{nm}$ process to a $28\\,\\text{nm}$ process at $T=300\\,\\text{K}$. Assume the following empirically supported technology trends at the same operating temperature:\n- The subthreshold slope factor has mean values $n_{180}=1.50$ and $n_{28}=1.25$.\n- Threshold-voltage mismatch follows Pelgrom’s law with coefficients $A_{V_{\\text{th}},180}=3.0\\,\\text{mV}\\cdot\\mu\\text{m}$ and $A_{V_{\\text{th}},28}=6.0\\,\\text{mV}\\cdot\\mu\\text{m}$.\n- The thermal voltage is $U_T = k_B T/q$.\nAssume that in both technologies the leak branch is biased to the same nominal drain current $I_L$ by trimming the gate bias, so that the nominal power per neuron is unchanged. The membrane capacitances are $C_{180}$ and $C_{28}$ in the two nodes, respectively.\n\nStarting only from the fundamental weak-inversion current law, \n$$I_D = I_S \\exp\\!\\left(\\frac{V_{GS}-V_{\\text{th}}}{n\\,U_T}\\right),$$\nthe definition of transconductance \n$$g_m=\\frac{\\partial I_D}{\\partial V_{GS}},$$\nthe capacitor law \n$$i_C = C\\,\\frac{dV}{dt},$$\nand Pelgrom’s mismatch law \n$$\\sigma_{V_{\\text{th}}}=\\frac{A_{V_{\\text{th}}}}{\\sqrt{W L}},$$\nderive the leaky integrator’s nominal time constant in terms of $n$, $U_T$, $C$, and $I_L$. Then, using the provided numerical values, determine the single dimensionless factor by which the membrane capacitance must be scaled when moving from $180\\,\\text{nm}$ to $28\\,\\text{nm}$ so that the nominal time constant is preserved while keeping $I_L$ the same. Express your final answer as the ratio $C_{28}/C_{180}$. Round your answer to four significant figures and report it as a dimensionless ratio.",
            "solution": "The problem asks for two derivations. First, the nominal time constant of a subthreshold leaky integrator neuron. Second, the scaling factor for the membrane capacitance required to keep this time constant invariant when migrating from a $180\\,\\text{nm}$ to a $28\\,\\text{nm}$ CMOS process, under specific conditions.\n\nThe problem statement has been validated and is deemed scientifically sound, well-posed, and objective. The inclusion of Pelgrom's law parameters is noted; however, these parameters describe the statistical variation (mismatch) of the threshold voltage, $\\sigma_{V_{\\text{th}}}$, and are not required for the calculation of the *nominal* time constant, which depends on nominal device parameters.\n\nFirst, we derive the nominal time constant, $\\tau$. The leaky integrator circuit consists of a capacitor, $C$, representing the membrane, and a leak element realized by a single transistor acting as a transconductor. This forms a simple RC circuit. The small-signal conductance of the leak element, $g_L$, determines the resistance of the leak path, $R_L = 1/g_L$. At a given operating point, the leak element is the transconductance of the transistor, so $g_L = g_m$. The time constant of an RC circuit is given by the product of its resistance and capacitance.\n\n$$ \\tau = R_L C = \\frac{C}{g_L} = \\frac{C}{g_m} $$\n\nThe next step is to find the nominal transconductance, $g_m$, of the leak transistor operating in the weak inversion (subthreshold) regime. The problem provides the fundamental equation for the drain current, $I_D$, in this regime:\n$$ I_D = I_S \\exp\\!\\left(\\frac{V_{GS}-V_{\\text{th}}}{n\\,U_T}\\right) $$\nHere, $I_S$ is a process-dependent scaling current, $V_{GS}$ is the gate-source voltage, $V_{\\text{th}}$ is the threshold voltage, $n$ is the subthreshold slope factor, and $U_T = k_B T/q$ is the thermal voltage.\n\nThe transconductance, $g_m$, is defined as the partial derivative of the drain current with respect to the gate-source voltage:\n$$ g_m = \\frac{\\partial I_D}{\\partial V_{GS}} $$\nWe perform this differentiation on the weak-inversion current equation:\n$$ g_m = \\frac{\\partial}{\\partial V_{GS}} \\left[ I_S \\exp\\!\\left(\\frac{V_{GS}-V_{\\text{th}}}{n\\,U_T}\\right) \\right] $$\nUsing the chain rule for derivatives, we get:\n$$ g_m = I_S \\exp\\!\\left(\\frac{V_{GS}-V_{\\text{th}}}{n\\,U_T}\\right) \\cdot \\frac{\\partial}{\\partial V_{GS}}\\left( \\frac{V_{GS}-V_{\\text{th}}}{n\\,U_T} \\right) $$\nThe term $I_S \\exp\\!\\left(\\frac{V_{GS}-V_{\\text{th}}}{n\\,U_T}\\right)$ is simply the drain current $I_D$. The derivative of the argument with respect to $V_{GS}$ is $\\frac{1}{n\\,U_T}$.\n$$ g_m = I_D \\cdot \\frac{1}{n\\,U_T} = \\frac{I_D}{n\\,U_T} $$\nThe problem states that the leak branch is biased to a nominal drain current $I_L$. Therefore, the nominal transconductance is:\n$$ g_m = \\frac{I_L}{n\\,U_T} $$\nThis expression shows a fundamental property of subthreshold circuits: the transconductance is directly proportional to the bias current.\n\nNow we can express the nominal time constant, $\\tau$, in terms of the specified parameters. Substituting the expression for $g_m$ into the equation for $\\tau$:\n$$ \\tau = \\frac{C}{g_m} = \\frac{C}{I_L / (n\\,U_T)} $$\nThis yields the final expression for the nominal time constant:\n$$ \\tau = \\frac{n\\,U_T\\,C}{I_L} $$\nThis completes the first part of the problem.\n\nFor the second part, we must find the scaling factor for the capacitance, $C_{28}/C_{180}$, that preserves the nominal time constant across the two technology nodes. The condition is $\\tau_{180} = \\tau_{28}$.\nUsing the derived formula for $\\tau$, we can write the time constants for each technology:\n$$ \\tau_{180} = \\frac{n_{180}\\,U_T\\,C_{180}}{I_L} $$\n$$ \\tau_{28} = \\frac{n_{28}\\,U_T\\,C_{28}}{I_L} $$\nThe problem states that the operating temperature $T$ (and thus the thermal voltage $U_T$) and the nominal leak current $I_L$ are the same for both implementations. Setting $\\tau_{180} = \\tau_{28}$:\n$$ \\frac{n_{180}\\,U_T\\,C_{180}}{I_L} = \\frac{n_{28}\\,U_T\\,C_{28}}{I_L} $$\nThe common terms $U_T$ and $I_L$ cancel, simplifying the equation to:\n$$ n_{180}\\,C_{180} = n_{28}\\,C_{28} $$\nWe can now solve for the desired ratio $C_{28}/C_{180}$:\n$$ \\frac{C_{28}}{C_{180}} = \\frac{n_{180}}{n_{28}} $$\nThe problem provides the numerical values for the subthreshold slope factors: $n_{180}=1.50$ and $n_{28}=1.25$. Substituting these values into the expression:\n$$ \\frac{C_{28}}{C_{180}} = \\frac{1.50}{1.25} $$\n$$ \\frac{C_{28}}{C_{180}} = 1.2 $$\nThe problem requires the answer to be rounded to four significant figures. Therefore, the dimensionless ratio is $1.200$. To maintain the same nominal time constant with a more ideal subthreshold slope ($n_{28} < n_{180}$), which results in a higher transconductance for the same bias current ($g_{m,28} > g_{m,180}$), the capacitance must be increased proportionally.",
            "answer": "$$\\boxed{1.200}$$"
        }
    ]
}