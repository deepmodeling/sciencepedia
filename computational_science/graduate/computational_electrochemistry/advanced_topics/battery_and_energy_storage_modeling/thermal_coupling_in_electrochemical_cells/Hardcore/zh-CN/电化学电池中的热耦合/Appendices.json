{
    "hands_on_practices": [
        {
            "introduction": "有效热管理的第一步是理解热量的来源。本练习将指导您使用一种标准的等温量热法技术，来区分不可逆（耗散）热源和可逆（熵）热源。通过分析正反电流下的测量数据，您将掌握表征电化学电池基本热行为的一项实用技能。",
            "id": "4261088",
            "problem": "一个电化学电池在等温热流热量计中进行测试。热量计的运行方式使得电池和热量计保持均匀恒定的温度，并且系统在每个施加的电流下都达到稳态。在两个大小相等、方向相反的电流 $+I$ 和 $-I$ 下进行测量，以利用电流反向时的热耦合对称性。热量计报告离开电池的净热率，该热率是不可逆热贡献和可逆热贡献之和。不可逆热源于电阻和动力学损失，在电流反向时符号不变；而可逆热源于电化学反应的熵变，在电流反向时符号改变。\n\n从应用于等温、稳态电化学电池的热力学第一定律以及不可逆与可逆生热的定义出发，推导一种方法，利用在 $+I$ 和 $-I$ 下的热量计测量值来分离不可逆和可逆热分量。热量计在开路（$I=0$）下测量到一个小的、与电流无关的基线偏移。使用以下数据：\n\n- 施加的电流大小：$I = 1.75$ A 和 $-I = -1.75$ A。\n- 稳态下测得的热量计热率：$\\dot{Q}(+I) = 1.92$ W, $\\dot{Q}(-I) = 0.68$ W。\n- 开路下的基线偏移：$\\dot{Q}(0) = 0.10$ W。\n\n假设副反应可忽略不计，温度在空间上均匀，并且测得的热率等于电池的总生热与基线偏移之和。在校正基线偏移后，使用您推导的表达式计算不可逆热率 $\\dot{Q}_{\\mathrm{irr}}$ 和可逆热率 $\\dot{Q}_{\\mathrm{rev}}$。将两个答案均以瓦特表示，并将结果四舍五入至三位有效数字。",
            "solution": "该问题要求推导一种利用热量计数据分离电化学电池中不可逆和可逆生热的方法，然后进行数值计算。\n\n### 问题验证\n\n**步骤1：提取已知条件**\n- 系统是一个处于等温热流热量计中的等温、稳态电化学电池。\n- 在大小相等、方向相反的电流 $+I$ 和 $-I$ 下进行测量。\n- 热量计测量离开电池的净热率，此处记为 $\\dot{Q}_{\\mathrm{meas}}$。\n- 电池的总生热率是不可逆 ($\\dot{Q}_{\\mathrm{irr}}$) 和可逆 ($\\dot{Q}_{\\mathrm{rev}}$) 贡献之和。\n- 不可逆热的性质：$\\dot{Q}_{\\mathrm{irr}}$ 在电流反向时符号不变。这意味着它是电流的偶函数：$\\dot{Q}_{\\mathrm{irr}}(I) = \\dot{Q}_{\\mathrm{irr}}(-I)$。\n- 可逆热的性质：$\\dot{Q}_{\\mathrm{rev}}$ 在电流反向时符号改变。这意味着它是电流的奇函数：$\\dot{Q}_{\\mathrm{rev}}(I) = -\\dot{Q}_{\\mathrm{rev}}(-I)$。\n- 热量计有一个与电流无关的基线偏移 $\\dot{Q}_{\\mathrm{offset}}$。\n- 测得的热率是电池总生热与基线偏移之和。\n- 提供的数据：\n    - 施加的电流大小：$|I| = 1.75$ A\n    - 在 $+I$ 时的测量热率：$\\dot{Q}_{\\mathrm{meas}}(+I) = 1.92$ W\n    - 在 $-I$ 时的测量热率：$\\dot{Q}_{\\mathrm{meas}}(-I) = 0.68$ W\n    - 开路（$I=0$）时的基线偏移：$\\dot{Q}_{\\mathrm{offset}} = \\dot{Q}_{\\mathrm{meas}}(0) = 0.10$ W\n\n**步骤2：使用提取的已知条件进行验证**\n根据验证标准对问题进行评估：\n- **科学依据**：该问题基于应用于电化学系统的热力学第一定律。将生热分为不可逆（焦耳热、极化损失）和可逆（熵）分量的概念是电化学工程和电池热管理中的一个标准和基本原则，通常在 Bernardi-Newman-Kwon 模型中被形式化。所描述的实验方法是表征这些热源的标准技术。该问题在科学上是合理的。\n- **适定性**：该问题提供了两个独立的测量值（$\\dot{Q}_{\\mathrm{meas}}(+I)$ 和 $\\dot{Q}_{\\mathrm{meas}}(-I)$）以及关于系统的必要信息（热分量的对称性、基线偏移），足以确定两个未知数（$\\dot{Q}_{\\mathrm{irr}}$ 和 $\\dot{Q}_{\\mathrm{rev}}$）。该设置构成一个可解的线性方程组，保证了唯一且稳定的解。\n- **客观性**：问题陈述使用了精确、定量且无偏见的语言。所有术语均根据标准科学惯例定义。\n\n该问题没有表现出任何诸如科学不合理、不完整、矛盾或模糊之类的缺陷。数据对于实验室规模的电化学电池是物理上一致且现实的。\n\n**步骤3：结论与行动**\n该问题是**有效的**。将提供完整解答。\n\n### 推导与求解\n\n电化学电池内部的总生热率 $\\dot{Q}_{\\mathrm{cell}}(I)$ 是其不可逆分量和可逆分量之和：\n$$ \\dot{Q}_{\\mathrm{cell}}(I) = \\dot{Q}_{\\mathrm{irr}}(I) + \\dot{Q}_{\\mathrm{rev}}(I) $$\n问题指出，热量计的测量值 $\\dot{Q}_{\\mathrm{meas}}(I)$ 包含一个恒定的基线偏移 $\\dot{Q}_{\\mathrm{offset}}$。这个偏移是在开路（$I=0$）时测量的，此时电池自身的生热为零（$\\dot{Q}_{\\mathrm{cell}}(0) = 0$）。\n$$ \\dot{Q}_{\\mathrm{meas}}(I) = \\dot{Q}_{\\mathrm{cell}}(I) + \\dot{Q}_{\\mathrm{offset}} $$\n根据开路测量，我们有：\n$$ \\dot{Q}_{\\mathrm{offset}} = \\dot{Q}_{\\mathrm{meas}}(0) = 0.10 \\, \\text{W} $$\n因此，可以通过对测量值进行此偏移校正来找到电池的真实生热：\n$$ \\dot{Q}_{\\mathrm{cell}}(I) = \\dot{Q}_{\\mathrm{meas}}(I) - \\dot{Q}_{\\mathrm{offset}} $$\n\n让我们将此校正应用于电流为 $+I$ 和 $-I$ (其中 $I = 1.75$ A) 的给定数据。\n对于正电流：\n$$ \\dot{Q}_{\\mathrm{cell}}(+I) = \\dot{Q}_{\\mathrm{meas}}(+I) - \\dot{Q}_{\\mathrm{offset}} = 1.92 \\, \\text{W} - 0.10 \\, \\text{W} = 1.82 \\, \\text{W} $$\n对于负电流：\n$$ \\dot{Q}_{\\mathrm{cell}}(-I) = \\dot{Q}_{\\mathrm{meas}}(-I) - \\dot{Q}_{\\mathrm{offset}} = 0.68 \\, \\text{W} - 0.10 \\, \\text{W} = 0.58 \\, \\text{W} $$\n\n现在，我们可以根据在 $+I$ 和 $-I$ 时的测量建立一个包含两个方程的方程组。为简单起见，让 $\\dot{Q}_{\\mathrm{irr}}$ 和 $\\dot{Q}_{\\mathrm{rev}}$ 表示在正电流 $+I$ 时的值。\n在电流 $+I$ 时：\n$$ \\dot{Q}_{\\mathrm{cell}}(+I) = \\dot{Q}_{\\mathrm{irr}}(I) + \\dot{Q}_{\\mathrm{rev}}(I) \\quad \\text{(方程 1)} $$\n在电流 $-I$ 时，我们使用指定的对称性：$\\dot{Q}_{\\mathrm{irr}}(-I) = \\dot{Q}_{\\mathrm{irr}}(I)$ 和 $\\dot{Q}_{\\mathrm{rev}}(-I) = -\\dot{Q}_{\\mathrm{rev}}(I)$。\n$$ \\dot{Q}_{\\mathrm{cell}}(-I) = \\dot{Q}_{\\mathrm{irr}}(-I) + \\dot{Q}_{\\mathrm{rev}}(-I) = \\dot{Q}_{\\mathrm{irr}}(I) - \\dot{Q}_{\\mathrm{rev}}(I) \\quad \\text{(方程 2)} $$\n\n我们现在得到了一个关于两个未知数 $\\dot{Q}_{\\mathrm{irr}}(I)$ 和 $\\dot{Q}_{\\mathrm{rev}}(I)$ 的二元线性方程组：\n$$ \\dot{Q}_{\\mathrm{cell}}(+I) = \\dot{Q}_{\\mathrm{irr}}(I) + \\dot{Q}_{\\mathrm{rev}}(I) $$\n$$ \\dot{Q}_{\\mathrm{cell}}(-I) = \\dot{Q}_{\\mathrm{irr}}(I) - \\dot{Q}_{\\mathrm{rev}}(I) $$\n\n为了求解 $\\dot{Q}_{\\mathrm{irr}}(I)$，我们将方程 1 和方程 2 相加：\n$$ \\dot{Q}_{\\mathrm{cell}}(+I) + \\dot{Q}_{\\mathrm{cell}}(-I) = (\\dot{Q}_{\\mathrm{irr}}(I) + \\dot{Q}_{\\mathrm{rev}}(I)) + (\\dot{Q}_{\\mathrm{irr}}(I) - \\dot{Q}_{\\mathrm{rev}}(I)) = 2\\dot{Q}_{\\mathrm{irr}}(I) $$\n这给出了不可逆热的表达式：\n$$ \\dot{Q}_{\\mathrm{irr}}(I) = \\frac{\\dot{Q}_{\\mathrm{cell}}(+I) + \\dot{Q}_{\\mathrm{cell}}(-I)}{2} $$\n\n为了求解 $\\dot{Q}_{\\mathrm{rev}}(I)$，我们将方程 2 从方程 1 中减去：\n$$ \\dot{Q}_{\\mathrm{cell}}(+I) - \\dot{Q}_{\\mathrm{cell}}(-I) = (\\dot{Q}_{\\mathrm{irr}}(I) + \\dot{Q}_{\\mathrm{rev}}(I)) - (\\dot{Q}_{\\mathrm{irr}}(I) - \\dot{Q}_{\\mathrm{rev}}(I)) = 2\\dot{Q}_{\\mathrm{rev}}(I) $$\n这给出了可逆热的表达式：\n$$ \\dot{Q}_{\\mathrm{rev}}(I) = \\frac{\\dot{Q}_{\\mathrm{cell}}(+I) - \\dot{Q}_{\\mathrm{cell}}(-I)}{2} $$\n这些推导出的表达式提供了分离这两个热分量的通用方法。\n\n最后，我们代入经过数值校正的热值来求解答案。\n计算不可逆热率 $\\dot{Q}_{\\mathrm{irr}}$：\n$$ \\dot{Q}_{\\mathrm{irr}} = \\frac{1.82 \\, \\text{W} + 0.58 \\, \\text{W}}{2} = \\frac{2.40 \\, \\text{W}}{2} = 1.20 \\, \\text{W} $$\n计算在电流为 $+1.75$ A 时的可逆热率 $\\dot{Q}_{\\mathrm{rev}}$：\n$$ \\dot{Q}_{\\mathrm{rev}} = \\frac{1.82 \\, \\text{W} - 0.58 \\, \\text{W}}{2} = \\frac{1.24 \\, \\text{W}}{2} = 0.620 \\, \\text{W} $$\n\n根据要求，结果四舍五入到三位有效数字，为 $\\dot{Q}_{\\mathrm{irr}} = 1.20$ W 和 $\\dot{Q}_{\\mathrm{rev}} = 0.620$ W。根据定义，不可逆热是正的。可逆热的正号表示对于放电反应（假设 $+I$ 是放电），这是一个放热过程（熵致热），它与不可逆热共同构成了总的产热。\n问题隐含地要求的是在正电流幅值下定义的 $\\dot{Q}_{\\mathrm{irr}}$ 和 $\\dot{Q}_{\\mathrm{rev}}$ 的值。",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 1.20  0.620 \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "一旦知道了体积产热率 $\\dot{q}$，下一个关键任务就是预测电池内部产生的温度分布。本练习介绍了一个基础的电池导热模型，其中电池被处理为带内热源的一维平板。您将应用标度分析进行快速估算，并推导精确的解析解，从而更深入地理解物理参数如何控制温升。",
            "id": "4261053",
            "problem": "一个锂离子电池模组在电池包级别上被建模为一个均质化的一维板，该板代表了多孔电极、隔膜和集流体的堆叠。在恒定电流下稳定放电期间，由欧姆、反应和熵贡献汇总而成的内部体积生热率在板内空间上是均匀的，等于$\\dot{q}$。该板被视为侧向尺寸很大，因此热流在$x$方向上是一维的，其中间平面位于$x=0$，冷却的外表面位于$x=L$。有效导热系数为$k$（恒定且各向同性）。位于$x=L$的外表面通过对流与温度为$T_{\\infty}$的冷却剂进行热交换，传热系数为$h$。假设辐射可忽略不计、物性恒定且处于稳态。\n\n从局部能量守恒和傅里叶热传导定律出发，完成以下任务：\n- 使用标度分析法估算相对于冷却剂的中心线温升的数量级，$\\Delta T_{\\text{scale}} \\equiv T(0)-T_{\\infty}$，用$\\dot{q}$、$L$和$k$表示。\n- 求解具有均匀内热源和给定边界条件的稳态热传导一维边值问题，以获得中心线温升的精确表达式，$\\Delta T_{\\text{exact}} \\equiv T(0)-T_{\\infty}$。\n- 定义比率$R \\equiv \\Delta T_{\\text{exact}} / \\Delta T_{\\text{scale}}$，并使用参数$L = 1.5 \\times 10^{-3}\\,\\mathrm{m}$、$k = 2.0\\,\\mathrm{W\\,m^{-1}\\,K^{-1}}$和$h = 400\\,\\mathrm{W\\,m^{-2}\\,K^{-1}}$对其进行数值计算。\n\n报告$R$的最终值，四舍五入到四位有效数字。最终答案是无量纲的；最终答案中不要包含单位。",
            "solution": "用户提供了一个问题陈述，在尝试求解之前需要对其进行验证。\n\n### 第1步：提取已知条件\n- **系统**：代表电池模组的均质化一维板。\n- **几何结构**：该板的中间平面位于$x=0$，外表面位于$x=L$。热流在$x$方向上是一维的。\n- **生热**：空间上均匀且稳定的体积生热率$\\dot{q}$。\n- **导热系数**：有效导热系数$k$是恒定且各向同性的。\n- **状态**：系统处于稳态。\n- **边界条件**：\n    1.  在中间平面（$x=0$）：对称条件，意味着零热通量。\n    2.  在外表面（$x=L$）：与温度为$T_{\\infty}$、传热系数为$h$的冷却剂进行对流换热。\n- **假设**：辐射可忽略不计，物性恒定。\n- **用于数值计算的参数**：\n    - $L = 1.5 \\times 10^{-3}\\,\\mathrm{m}$\n    - $k = 2.0\\,\\mathrm{W\\,m^{-1}\\,K^{-1}}$\n    - $h = 400\\,\\mathrm{W\\,m^{-2}\\,K^{-1}}$\n- **任务**：\n    1.  使用标度分析法估算相对于冷却剂的中心线温升的数量级，$\\Delta T_{\\text{scale}} \\equiv T(0)-T_{\\infty}$。\n    2.  求解边值问题，以找到中心线温升的精确表达式，$\\Delta T_{\\text{exact}} \\equiv T(0)-T_{\\infty}$。\n    3.  定义并数值计算比率$R \\equiv \\Delta T_{\\text{exact}} / \\Delta T_{\\text{scale}}$，结果四舍五入到四位有效数字。\n\n### 第2步：使用提取的已知条件进行验证\n根据指定标准对问题进行验证。\n\n- **科学依据**：该问题基于傅里叶热传导定律和能量守恒原理，这些是热物理学和工程学的基本原理。将具有均匀内热源的一维板模型作为一种简化方法，在包括电化学电池在内的许多系统的热分析中是标准且科学上有效的。\n- **适定性**：该问题描述了一个关于温度的二阶线性常微分方程，并附带两个边界条件（一个在$x=L$处指定，另一个由$x=0$处的对称性所隐含）。这构成了一个适定的边值问题，存在唯一、稳定且有意义的解。\n- **客观性**：问题陈述使用了精确、无歧义和标准的科学术语。要求的任务是定量的，没有主观解释的余地。\n- **完整性和一致性**：问题是自洽的。所有必需的物理参数（$k$、$L$、$h$）、边界条件（$T_\\infty$、对称性）和控制现象（$\\dot{q}$、稳态）都已提供。给定的参数在量纲上是一致的，并且对于电池模组而言是物理上合理的。没有内部矛盾。\n\n### 第3步：结论与行动\n该问题在科学上是合理的、适定的、客观的和自洽的。它被判定为**有效**。将提供完整的解答。\n\n对于具有恒定导热系数$k$和均匀体积生热率$\\dot{q}$的稳态一维热传导，其控制方程由局部能量守恒导出：\n$$ k \\frac{d^2T}{dx^2} + \\dot{q} = 0 $$\n\n首先，我们进行标度分析来估算温升。术语“标度分析法”指的是对控制微分方程进行无量纲化，以确定问题的特征尺度。设$L$为特征长度尺度，$\\Delta T_{\\text{scale}}$为特征温度尺度。我们定义无量纲变量$x^* = x/L$和一个无量纲温度$\\theta$。二阶导数项的标度为$\\frac{d^2T}{dx^2} \\sim \\frac{\\Delta T_{\\text{scale}}}{L^2}$。将此代入控制方程得到：\n$$ k \\frac{\\Delta T_{\\text{scale}}}{L^2} \\sim \\dot{q} $$\n为了使各项平衡，它们的大小必须相当。此标度关系为特征温升提供了一个估算：\n$$ \\Delta T_{\\text{scale}} = \\frac{\\dot{q}L^2}{k} $$\n该表达式代表了与通过板的热传导相关的温差的数量级，这是从控制微分方程中推导出来的。\n\n接下来，我们通过求解边值问题来找到精确解。将控制方程$ \\frac{d^2T}{dx^2} = -\\frac{\\dot{q}}{k} $对$x$积分一次，得到：\n$$ \\frac{dT}{dx} = -\\frac{\\dot{q}}{k}x + C_1 $$\n位于$x=0$的中间平面是一个对称面，这意味着一个绝热边界条件（零热通量）：$\\frac{dT}{dx}\\big|_{x=0} = 0$。应用此条件得到$C_1=0$。\n再次积分得到温度分布：\n$$ T(x) = -\\frac{\\dot{q}}{2k}x^2 + C_2 $$\n第二个边界条件位于外表面$x=L$，此处热量通过对流传递给温度为$T_{\\infty}$、传热系数为$h$的冷却剂。表面的能量平衡要求从板中传出的传导热通量等于离开板的对流热通量：\n$$ -k \\frac{dT}{dx}\\bigg|_{x=L} = h[T(L) - T_{\\infty}] $$\n使用$C_1=0$的温度梯度表达式，我们有$\\frac{dT}{dx}\\big|_{x=L} = -\\frac{\\dot{q}L}{k}$。将此代入边界条件得到：\n$$ -k \\left(-\\frac{\\dot{q}L}{k}\\right) = \\dot{q}L = h[T(L) - T_{\\infty}] $$\n这使我们能够确定表面温度$T(L)$：\n$$ T(L) = T_{\\infty} + \\frac{\\dot{q}L}{h} $$\n我们通过在$x=L$处计算温度分布来找到积分常数$C_2$：\n$$ T(L) = -\\frac{\\dot{q}L^2}{2k} + C_2 $$\n将两个$T(L)$的表达式相等：\n$$ T_{\\infty} + \\frac{\\dot{q}L}{h} = -\\frac{\\dot{q}L^2}{2k} + C_2 $$\n解出$C_2$得到：\n$$ C_2 = T_{\\infty} + \\frac{\\dot{q}L^2}{2k} + \\frac{\\dot{q}L}{h} $$\n中心线温度是$T(0)$，即$C_2$。相对于冷却剂的精确中心线温升是$\\Delta T_{\\text{exact}} \\equiv T(0) - T_{\\infty}$。\n$$ \\Delta T_{\\text{exact}} = \\left( T_{\\infty} + \\frac{\\dot{q}L^2}{2k} + \\frac{\\dot{q}L}{h} \\right) - T_{\\infty} = \\frac{\\dot{q}L^2}{2k} + \\frac{\\dot{q}L}{h} $$\n这个精确的温升由两部分组成：板内的温降$\\frac{\\dot{q}L^2}{2k}$，以及跨对流边界层的温降$\\frac{\\dot{q}L}{h}$。\n\n最后，我们计算比率$R \\equiv \\Delta T_{\\text{exact}} / \\Delta T_{\\text{scale}}$。\n$$ R = \\frac{\\frac{\\dot{q}L^2}{2k} + \\frac{\\dot{q}L}{h}}{\\frac{\\dot{q}L^2}{k}} $$\n$\\dot{q}$项可以消去。我们可以简化表达式：\n$$ R = \\frac{\\frac{L^2}{2k}}{\\frac{L^2}{k}} + \\frac{\\frac{L}{h}}{\\frac{L^2}{k}} = \\frac{1}{2} + \\frac{L}{h} \\cdot \\frac{k}{L^2} = \\frac{1}{2} + \\frac{k}{hL} $$\n无量纲群$\\frac{hL}{k}$是毕渥数（Biot number），$Bi$，它比较了内部传导热阻与外部对流热阻。该比率可以表示为$R = \\frac{1}{2} + \\frac{1}{Bi}$。\n\n现在，我们使用给定的数值计算$R$：\n$L = 1.5 \\times 10^{-3}\\,\\mathrm{m}$\n$k = 2.0\\,\\mathrm{W\\,m^{-1}\\,K^{-1}}$\n$h = 400\\,\\mathrm{W\\,m^{-2}\\,K^{-1}}$\n\n首先，计算乘积$hL$：\n$$ hL = (400\\,\\mathrm{W\\,m^{-2}\\,K^{-1}}) \\times (1.5 \\times 10^{-3}\\,\\mathrm{m}) = 0.6\\,\\mathrm{W\\,m^{-1}\\,K^{-1}} $$\n接下来，计算项$\\frac{k}{hL}$：\n$$ \\frac{k}{hL} = \\frac{2.0\\,\\mathrm{W\\,m^{-1}\\,K^{-1}}}{0.6\\,\\mathrm{W\\,m^{-1}\\,K^{-1}}} = \\frac{2.0}{0.6} = \\frac{10}{3} $$\n最后，计算$R$：\n$$ R = \\frac{1}{2} + \\frac{10}{3} = \\frac{3}{6} + \\frac{20}{6} = \\frac{23}{6} \\approx 3.8333... $$\n按要求将结果四舍五入到四位有效数字：\n$$ R \\approx 3.833 $$",
            "answer": "$$\n\\boxed{3.833}\n$$"
        },
        {
            "introduction": "先进的电池模型不仅需要求解整个电池的产热，还需要将其解析为电池组件内部的空间变化场。这个计算练习聚焦于复杂的可逆热源，它强烈依赖于局部的荷电状态 $\\theta$ 和温度 $T$ 。您将实现一个数值算法来计算多孔电极上的可逆热密度分布，这是开发和解释高保真度电化学-热模型的关键技能。",
            "id": "4261031",
            "problem": "考虑一个占据空间域 $x \\in [0,L]$ 的一维多孔锂离子电池正极，其界面电流密度 $j(x)$、温度 $T(x)$ 和化学计量数 $\\theta(x)$ 随空间变化。多孔微观结构的特征是其比表面积 $a_s$（单位体积内的电化学反应面积）。可逆（熵）热生成密度源于温度和电化学势之间的热力学耦合，并取决于实测的平衡电位随化学计量数变化的温度导数，记作 $\\partial U/\\partial T(\\theta)$。\n\n从由连续介质热力学第一定律、界面可逆电化学热（熵热）的定义以及通过体积平均比表面积表示的多孔电极本构关系组成的基本理论出发，推导在整个电极厚度上热力学一致的可逆热生成密度场表达式。然后，根据给定的空间分布 $j(x)$、$T(x)$ 和 $\\theta(x)$ 以及实测的 $\\partial U/\\partial T(\\theta)$ 数据，对此场进行数值计算。\n\n假设一种典型的层状氧化物正极的开路电位对温度的导数具有以下科学上真实且自洽的实测数据（单位为 $\\mathrm{V}/\\mathrm{K}$，$\\theta$ 为无量纲化学计量数）：\n$$\n\\begin{aligned}\n\\theta_i = [0.05,\\,0.10,\\,0.20,\\,0.30,\\,0.40,\\,0.50,\\,0.60,\\,0.70,\\,0.80,\\,0.90,\\,0.95],\\\\\n\\left(\\frac{\\partial U}{\\partial T}\\right)_i = [7.0\\times 10^{-4},\\,6.5\\times 10^{-4},\\,4.0\\times 10^{-4},\\,2.0\\times 10^{-4},\\,5.0\\times 10^{-5},\\,-5.0\\times 10^{-5},\\,-1.5\\times 10^{-4},\\,-2.5\\times 10^{-4},\\,-3.5\\times 10^{-4},\\,-4.8\\times 10^{-4},\\,-5.2\\times 10^{-4}].\n\\end{aligned}\n$$\n使用保形插值策略来计算任意 $\\theta \\in [0,1]$ 时的 $\\partial U/\\partial T(\\theta)$。如果 $\\theta$ 的值超出了表格数据范围 $[0.05,\\,0.95]$，在插值前应将其限制到最近的端点，以避免不符合物理的外推。\n\n用 $N$ 个等间距点（所有情况下均使用 $N=400$）将空间域离散化，计算 $x \\in [0,L]$ 上的可逆热密度分布，然后报告以下两个标量指标：\n- 电极厚度上的体积平均可逆热密度，即体积源项的空间平均值，单位为 $\\mathrm{W}/\\mathrm{m}^3$。\n- 电极厚度上可逆热密度的最大值，单位为 $\\mathrm{W}/\\mathrm{m}^3$。\n\n使用梯形法则进行数值积分以计算平均值。符号约定为：放电时 $j(x) > 0$，充电时 $j(x)  0$。\n\n对以下探索不同工况的参数值测试套件实现计算：\n\n测试用例 1（空间变化场，中等梯度）：\n- 电极厚度：$L = 1.0\\times 10^{-4}\\,\\mathrm{m}$。\n- 比表面积：$a_s = 1.2\\times 10^{5}\\,\\mathrm{m}^2/\\mathrm{m}^3$。\n- 界面电流密度：$j(x) = 12.0\\,\\mathrm{A}/\\mathrm{m}^2 \\cdot \\left(1 + 0.2\\sin\\!\\left(\\frac{2\\pi x}{L}\\right)\\right)$。\n- 温度：$T(x) = 298.0\\,\\mathrm{K} + 10.0\\,\\mathrm{K}\\cdot \\frac{x}{L}$。\n- 化学计量数：$\\theta(x) = 0.45 + 0.25\\sin\\!\\left(\\frac{\\pi x}{L}\\right)$。\n\n测试用例 2（$j$ 和 $T$ 均匀，化学计量数穿越符号变化区域）：\n- 电极厚度：$L = 7.0\\times 10^{-5}\\,\\mathrm{m}$。\n- 比表面积：$a_s = 9.0\\times 10^{4}\\,\\mathrm{m}^2/\\mathrm{m}^3$。\n- 界面电流密度：$j(x) = 5.0\\,\\mathrm{A}/\\mathrm{m}^2$。\n- 温度：$T(x) = 300.0\\,\\mathrm{K}$。\n- 化学计量数：$\\theta(x) = 0.10 + 0.80\\cdot \\frac{x}{L}$。\n\n测试用例 3（负电流充电，弱 $T$ 梯度，恒定化学计量数）：\n- 电极厚度：$L = 1.2\\times 10^{-4}\\,\\mathrm{m}$。\n- 比表面积：$a_s = 1.0\\times 10^{5}\\,\\mathrm{m}^2/\\mathrm{m}^3$。\n- 界面电流密度：$j(x) = -8.0\\,\\mathrm{A}/\\mathrm{m}^2 \\cdot \\left(1 - 0.5\\cdot \\frac{x}{L}\\right)$。\n- 温度：$T(x) = 305.0\\,\\mathrm{K} - 5.0\\,\\mathrm{K}\\cdot \\frac{x}{L}$。\n- 化学计量数：$\\theta(x) = 0.60$。\n\n数值与报告要求：\n- 每个案例使用 $N=400$ 个空间点。\n- 以 $\\mathrm{W}/\\mathrm{m}^3$ 为单位表示每个案例的两个指标，并四舍五入到 6 位小数。\n- 您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表，格式为 $[\\text{avg}_1,\\text{max}_1,\\text{avg}_2,\\text{max}_2,\\text{avg}_3,\\text{max}_3]$，其中 $\\text{avg}_k$ 和 $\\text{max}_k$ 分别是测试用例 $k$ 的平均和最大可逆热密度。\n\n任务是：\n- 从第一性原理出发，推导适用于多孔电极的可逆热密度表达式，并确定其对 $a_s$、$j(x)$、$T(x)$ 和 $\\partial U/\\partial T(\\theta(x))$ 的依赖关系。\n- 实现一个稳健的数值算法，该算法根据上述测试套件和实测数据，计算空间分布，然后计算出具有指定单位和输出格式的所需指标。",
            "solution": "该问题要求从第一性原理出发，推导多孔电极中的体积可逆热生成密度，然后在一组给定条件下对其进行数值计算。该推导必须将基础热力学与多孔介质的本构表示相结合。\n\n### 可逆热密度的理论推导\n\n推导始于应用于界面电化学反应的热力学第一定律。可逆热生成，也称为熵热，是与电化学反应相关的熵变的直接结果。\n\n设固-电解质界面的可逆热通量表示为 $q_{rev}$（单位为 $\\mathrm{W}/\\mathrm{m}^2$）。此通量是绝对温度 $T$ 与单位面积熵生成速率的乘积。而熵生成速率又是摩尔反应速率与反应熵变 $\\Delta S$ 的乘积。\n\n摩尔反应速率（单位 $\\mathrm{mol}/\\mathrm{s}/\\mathrm{m}^2$）与界面电流密度 $j$（单位 $\\mathrm{A}/\\mathrm{m}^2$）以及法拉第常数 $F$（单位 $\\mathrm{C}/\\mathrm{mol}$）通过表达式 $j/|n|F$ 相关联。对于锂离子嵌入反应，反应电荷数为 $n=1$。因此，摩尔速率为 $j/F$。\n\n因此，热通量为：\n$$\nq_{rev} = T \\cdot \\left( \\frac{j}{F} \\Delta S \\right)\n$$\n\n反应熵变 $\\Delta S$ 可以通过吉布斯-亥姆霍兹方程与平衡电位 $U$ 的温度依赖性联系起来。反应的吉布斯自由能变为 $\\Delta G = -nFU$。当 $n=1$ 时，$\\Delta G = -FU$。基本热力学关系 $(\\partial G/\\partial T)_P = -S$ 表明，对于一个反应，$\\Delta S = -(\\partial \\Delta G/\\partial T)_P$。\n\n代入 $\\Delta G$ 的表达式可得：\n$$\n\\Delta S = -\\frac{\\partial(-FU)}{\\partial T} = F \\frac{\\partial U}{\\partial T}\n$$\n物理量 $\\partial U/\\partial T$ 是开路电位的温度系数，它是荷电状态或化学计量数 $\\theta$ 的函数。\n\n将此 $\\Delta S$ 表达式代回 $q_{rev}$ 的方程，得到界面可逆热通量：\n$$\nq_{rev} = j(x) \\, T(x) \\, \\frac{\\partial U}{\\partial T}\\big(\\theta(x)\\big)\n$$\n此处，我们明确指出了场 $j$、$T$ 和 $\\theta$ 沿电极坐标 $x$ 的空间依赖性。\n\n此表达式适用于平面界面。为了获得多孔电极的体积生热密度 $\\dot{q}_{rev}(x)$（单位为 $\\mathrm{W}/\\mathrm{m}^3$），我们必须考虑电化学反应在整个电极体积内的分布特性。这可以通过将界面通量乘以比表面积 $a_s$（单位为 $\\mathrm{m}^2/\\mathrm{m}^3$）来实现，该比表面积代表单位总电极体积内的电化学活性面积。\n\n最终，热力学一致的可逆热生成密度场表达式为：\n$$\n\\dot{q}_{rev}(x) = a_s \\, j(x) \\, T(x) \\, \\frac{\\partial U}{\\partial T}\\big(\\theta(x)\\big)\n$$\n$\\dot{q}_{rev}(x)$ 的符号表示可逆效应是吸热（冷却，$\\dot{q}_{rev}  0$）还是放热（加热，$\\dot{q}_{rev} > 0$）。这取决于电流密度 $j(x)$（放电时 $j>0$，充电时 $j0$）和温度系数 $\\partial U/\\partial T(\\theta)$ 的符号。\n\n### 数值计算策略\n\n数值实现过程如下：\n\n1.  **离散化**：将一维空间域 $x \\in [0,L]$ 离散化为 $N=400$ 个等间距点 $\\{x_k | k=0, \\dots, N-1\\}$。\n\n2.  **热力学数据插值**：使用提供的 $\\partial U/\\partial T(\\theta)$ 离散数据来构建一个连续函数。采用保形分段三次埃尔米特插值多项式 (PCHIP)。这种方法至关重要，因为它能避免其他高阶插值方案（如样条插值）可能引入的非物理振荡，尤其是在处理梯度或单调性有急剧变化的数据时。PCHIP 插值器保证，如果原始数据是单调的，那么插值函数也将是单调的。在计算插值器之前，化学计量数值 $\\theta(x_k)$ 被限制在表格数据的范围 $[0.05, 0.95]$ 内，以防止不稳定和非物理的外推。\n\n3.  **分布计算**：对于每个测试用例，设置参数 $L$ 和 $a_s$，并在每个网格点 $x_k$ 处计算函数 $j(x)$、$T(x)$ 和 $\\theta(x)$ 的值。随后，使用 PCHIP 插值器为每个 $\\theta(x_k)$ 确定 $\\partial U/\\partial T$ 的值。然后使用推导出的公式在每个网格点上计算可逆热密度分布 $\\dot{q}_{rev}(x_k)$。\n\n4.  **指标计算**：\n    -   **最大热密度**：确定计算出的分布的最大值，即 $\\max(\\{\\dot{q}_{rev}(x_k)\\})$。\n    -   **平均热密度**：通过对整个电极厚度上的分布进行数值积分并除以 $L$ 来计算体积平均热密度 $\\langle \\dot{q}_{rev} \\rangle$。按规定，积分使用梯形法则：\n        $$\n        \\langle \\dot{q}_{rev} \\rangle = \\frac{1}{L} \\int_0^L \\dot{q}_{rev}(x) \\, dx \\approx \\frac{1}{L} \\cdot \\sum_{k=1}^{N-1} \\frac{\\dot{q}_{rev}(x_k) + \\dot{q}_{rev}(x_{k-1})}{2} (x_k - x_{k-1})\n        $$\n        对于均匀网格，此方法提供了积分的二阶精确近似。该计算使用 `numpy.trapz` 执行。\n\n这种严谨的推导与稳健的数值算法相结合，可以精确地评估所需的物理量。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy.interpolate import PchipInterpolator\n\n# language: Python\n# version: 3.12\n# libraries:\n#   name: numpy\n#   version: 1.23.5\n#   name: scipy\n#   version: 1.11.4\n\ndef solve():\n    \"\"\"\n    Derives and computes the reversible heat generation density in a Li-ion battery cathode.\n    \"\"\"\n\n    # --- Given Thermodynamic Data ---\n    # Stoichiometry points (dimensionless)\n    theta_data = np.array([0.05, 0.10, 0.20, 0.30, 0.40, 0.50, 0.60, 0.70, 0.80, 0.90, 0.95])\n    # Temperature derivative of equilibrium potential (V/K)\n    dU_dT_data = np.array([7.0e-4, 6.5e-4, 4.0e-4, 2.0e-4, 5.0e-5, -5.0e-5, -1.5e-4, -2.5e-4, -3.5e-4, -4.8e-4, -5.2e-4])\n\n    # --- Numerical Setup ---\n    N = 400  # Number of spatial discretization points\n\n    # --- Interpolation Function Setup ---\n    # Create a shape-preserving piecewise cubic Hermite interpolator\n    dU_dT_interpolator = PchipInterpolator(theta_data, dU_dT_data)\n\n    def get_dU_dT(theta_values):\n        \"\"\"\n        Evaluates dU/dT for given theta values, clamping to the data range first.\n        \"\"\"\n        # Clamp theta to the range of the provided data [0.05, 0.95]\n        theta_clamped = np.clip(theta_values, theta_data[0], theta_data[-1])\n        return dU_dT_interpolator(theta_clamped)\n\n    # --- Test Case Definitions ---\n    test_cases = [\n        # Test Case 1\n        {\n            \"L\": 1.0e-4,  # m\n            \"a_s\": 1.2e5,  # m^2/m^3\n            \"j_func\": lambda x, L: 12.0 * (1 + 0.2 * np.sin(2 * np.pi * x / L)),  # A/m^2\n            \"T_func\": lambda x, L: 298.0 + 10.0 * (x / L),  # K\n            \"theta_func\": lambda x, L: 0.45 + 0.25 * np.sin(np.pi * x / L)\n        },\n        # Test Case 2\n        {\n            \"L\": 7.0e-5,  # m\n            \"a_s\": 9.0e4,  # m^2/m^3\n            \"j_func\": lambda x, L: 5.0,  # A/m^2\n            \"T_func\": lambda x, L: 300.0,  # K\n            \"theta_func\": lambda x, L: 0.10 + 0.80 * (x / L)\n        },\n        # Test Case 3\n        {\n            \"L\": 1.2e-4,  # m\n            \"a_s\": 1.0e5,  # m^2/m^3\n            \"j_func\": lambda x, L: -8.0 * (1 - 0.5 * (x / L)),  # A/m^2\n            \"T_func\": lambda x, L: 305.0 - 5.0 * (x / L),  # K\n            \"theta_func\": lambda x, L: 0.60\n        }\n    ]\n\n    results = []\n\n    # --- Main Calculation Loop ---\n    for case in test_cases:\n        L = case[\"L\"]\n        a_s = case[\"a_s\"]\n\n        # Create the spatial grid\n        x = np.linspace(0, L, N)\n\n        # Evaluate the spatially varying fields\n        j = np.full(N, case[\"j_func\"](x, L)) if callable(case[\"j_func\"]) else np.full(N, case[\"j_func\"])\n        T = np.full(N, case[\"T_func\"](x, L)) if callable(case[\"T_func\"]) else np.full(N, case[\"T_func\"])\n        theta = np.full(N, case[\"theta_func\"](x, L)) if callable(case[\"theta_func\"]) else np.full(N, case[\"theta_func\"])\n\n        # Evaluate the temperature coefficient using the interpolator\n        dU_dT = get_dU_dT(theta)\n\n        # Calculate the reversible heat density profile (W/m^3)\n        # Formula: q_rev = a_s * j * T * (dU/dT)\n        q_rev_profile = a_s * j * T * dU_dT\n\n        # Calculate the required metrics\n        # 1. Volume-averaged reversible heat density (spatial average)\n        avg_q_rev = np.trapz(q_rev_profile, x) / L\n        \n        # 2. Maximum value of the reversible heat density\n        max_q_rev = np.max(q_rev_profile)\n\n        # Append results, rounded to 6 decimal places\n        results.append(round(avg_q_rev, 6))\n        results.append(round(max_q_rev, 6))\n\n    # --- Final Output Formatting ---\n    # Convert all results to strings for a clean join\n    results_str = [f\"{res:.6f}\" for res in results]\n    print(f\"[{','.join(results_str)}]\")\n\nif __name__ == '__main__':\n    solve()\n```"
        }
    ]
}