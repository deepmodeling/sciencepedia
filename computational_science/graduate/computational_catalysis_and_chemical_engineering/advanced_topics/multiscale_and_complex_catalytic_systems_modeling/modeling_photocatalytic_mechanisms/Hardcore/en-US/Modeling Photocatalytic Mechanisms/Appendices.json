{
    "hands_on_practices": [
        {
            "introduction": "A cornerstone of photocatalysis is the efficient separation of photo-generated electron-hole pairs, which is driven by the built-in electric field within the semiconductor's space-charge region. This first practice delves into the physical origin of this region by applying the Poisson-Boltzmann equation to model the semiconductor-electrolyte interface. By deriving the Debye length, $L_D$, and relating it to the material's doping concentration, $N_D$, you will gain a first-principles understanding of how to engineer the electrostatic landscape that governs charge separation .",
            "id": "3889795",
            "problem": "An $n$-type semiconductor photocatalyst (anatase $\\text{TiO}_2$) in contact with an aqueous electrolyte under steady-state illumination exhibits near-surface band bending governed by electrostatic screening in the space-charge region. Assume the semiconductor is nondegenerately doped, donors are fully ionized at the operating temperature, and the electron gas responds to electrostatic perturbations according to Boltzmann statistics in the linear-response regime. Starting from Poisson's equation for electrostatics and the Boltzmann relation for the carrier density, derive the characteristic screening length that describes the exponential decay of an electrostatic potential into the bulk of the semiconductor. Use that characteristic to determine the required donor concentration $N_{D}$ that yields a target screening length (Debye length) of $L_D = 5.0\\,\\mathrm{nm}$ at $T=298$ K.\n\nTake the vacuum permittivity as $\\epsilon_0 = 8.8541878128 \\times 10^{-12}$ F m$^{-1}$, the Boltzmann constant as $k_B = 1.380649 \\times 10^{-23}$ J K$^{-1}$, the elementary charge as $q = 1.602176634 \\times 10^{-19}$ C, and the relative dielectric constant of anatase $\\text{TiO}_2$ as $\\epsilon_r = 31$. Express the final donor concentration in cm$^{-3}$. Round your answer to three significant figures.\n\nFinally, explain, based on first principles, how the obtained screening length influences interfacial band bending and charge-separation fields at the semiconductor–electrolyte interface, and discuss implications for modeling photocatalytic reaction kinetics at the interface.",
            "solution": "The problem asks for the derivation of the characteristic screening length in a nondegenerately doped n-type semiconductor, a calculation of the donor concentration $N_D$ required to achieve a specific screening length, and an explanation of the physical implications for photocatalysis. The derivation begins from first principles using Poisson's equation and the Boltzmann relation for electron density.\n\nLet $x$ be the spatial coordinate perpendicular to the semiconductor-electrolyte interface, with $x=0$ at the interface and $x$ increasing into the bulk of the semiconductor.\n\nThe electrostatic potential $\\phi(x)$ within the semiconductor is governed by the one-dimensional Poisson's equation:\n$$\n\\frac{d^2\\phi(x)}{dx^2} = -\\frac{\\rho(x)}{\\epsilon}\n$$\nwhere $\\rho(x)$ is the net space charge density and $\\epsilon$ is the permittivity of the semiconductor. The permittivity is given by $\\epsilon = \\epsilon_r \\epsilon_0$, where $\\epsilon_r$ is the relative dielectric constant and $\\epsilon_0$ is the vacuum permittivity.\n\nFor an n-type semiconductor, the space charge arises from the fixed positive charge of ionized donor atoms, with concentration $N_D$, and the mobile negative charge of electrons, with concentration $n(x)$. The concentration of holes is negligible. Assuming full ionization of donors, the net charge density is:\n$$\n\\rho(x) = q(N_D - n(x))\n$$\nwhere $q$ is the elementary charge.\n\nIn the bulk of the semiconductor (far from the interface, as $x \\to \\infty$), charge neutrality holds, so the electron concentration $n_0$ equals the donor concentration $N_D$. We define the potential in the bulk to be zero, i.e., $\\phi(x \\to \\infty) = 0$.\n\nUnder the assumption that the electron gas follows Boltzmann statistics, the electron concentration $n(x)$ at a position with potential $\\phi(x)$ is related to the bulk concentration $n_0 = N_D$ by:\n$$\nn(x) = n_0 \\exp\\left(-\\frac{-q\\phi(x)}{k_B T}\\right) = N_D \\exp\\left(\\frac{q\\phi(x)}{k_B T}\\right)\n$$\nwhere $k_B$ is the Boltzmann constant and $T$ is the absolute temperature.\n\nSubstituting the expressions for $\\rho(x)$ and $n(x)$ into Poisson's equation gives the Poisson-Boltzmann equation:\n$$\n\\frac{d^2\\phi(x)}{dx^2} = -\\frac{q N_D}{\\epsilon} \\left(1 - \\exp\\left(\\frac{q\\phi(x)}{k_B T}\\right)\\right)\n$$\nThe problem specifies that we are in the linear-response regime, which corresponds to small potential perturbations, i.e., $|q\\phi(x)| \\ll k_B T$. In this case, we can linearize the exponential term using the Taylor expansion $\\exp(y) \\approx 1+y$ for small $y$. Setting $y = \\frac{q\\phi(x)}{k_B T}$, we get:\n$$\n\\exp\\left(\\frac{q\\phi(x)}{k_B T}\\right) \\approx 1 + \\frac{q\\phi(x)}{k_B T}\n$$\nSubstituting this linearization into the Poisson-Boltzmann equation:\n$$\n\\frac{d^2\\phi(x)}{dx^2} \\approx -\\frac{q N_D}{\\epsilon} \\left(1 - \\left(1 + \\frac{q\\phi(x)}{k_B T}\\right)\\right) = -\\frac{q N_D}{\\epsilon} \\left(-\\frac{q\\phi(x)}{k_B T}\\right)\n$$\n$$\n\\frac{d^2\\phi(x)}{dx^2} = \\left(\\frac{q^2 N_D}{\\epsilon k_B T}\\right) \\phi(x)\n$$\nThis is a second-order linear homogeneous differential equation. It can be rewritten in the standard form:\n$$\n\\frac{d^2\\phi(x)}{dx^2} - \\frac{1}{L_D^2} \\phi(x) = 0\n$$\nwhere $L_D$ is the characteristic length. By comparing the two forms, we can identify the square of the screening length, known as the Debye length $L_D$, as:\n$$\nL_D^2 = \\frac{\\epsilon k_B T}{q^2 N_D}\n$$\nTherefore, the characteristic screening length is:\n$$\nL_D = \\sqrt{\\frac{\\epsilon k_B T}{q^2 N_D}} = \\sqrt{\\frac{\\epsilon_r \\epsilon_0 k_B T}{q^2 N_D}}\n$$\nThis completes the derivation. The physically meaningful solution to the differential equation, which decays to zero in the bulk, is $\\phi(x) = \\phi_s \\exp(-x/L_D)$, where $\\phi_s$ is the potential at the surface ($x=0$). This confirms that $L_D$ is the characteristic length over which the potential decays exponentially.\n\nNext, we calculate the donor concentration $N_D$ required to achieve a target screening length $L_D = 5.0 \\,\\mathrm{nm}$ at $T = 298 \\,\\mathrm{K}$. We rearrange the formula to solve for $N_D$:\n$$\nN_D = \\frac{\\epsilon_r \\epsilon_0 k_B T}{q^2 L_D^2}\n$$\nWe are given the following constants:\n$L_D = 5.0 \\,\\mathrm{nm} = 5.0 \\times 10^{-9} \\,\\mathrm{m}$\n$T = 298 \\,\\mathrm{K}$\n$\\epsilon_r = 31$\n$\\epsilon_0 = 8.8541878128 \\times 10^{-12} \\,\\mathrm{F \\, m^{-1}}$\n$k_B = 1.380649 \\times 10^{-23} \\,\\mathrm{J \\, K^{-1}}$\n$q = 1.602176634 \\times 10^{-19} \\,\\mathrm{C}$\n\nSubstituting these values into the expression for $N_D$:\n$$\nN_D = \\frac{(31)(8.8541878128 \\times 10^{-12} \\,\\mathrm{F \\, m^{-1}})(1.380649 \\times 10^{-23} \\,\\mathrm{J \\, K^{-1}})(298 \\,\\mathrm{K})}{(1.602176634 \\times 10^{-19} \\,\\mathrm{C})^2 (5.0 \\times 10^{-9} \\,\\mathrm{m})^2}\n$$\n$$\nN_D \\approx \\frac{1.13035 \\times 10^{-30} \\,\\mathrm{J \\cdot F \\cdot m^{-1}}}{6.41742 \\times 10^{-55} \\,\\mathrm{C^2 \\cdot m^2}} \\approx 1.7613 \\times 10^{24} \\,\\mathrm{m^{-3}}\n$$\nThe problem requires the answer in units of $\\mathrm{cm^{-3}}$. We use the conversion factor $1 \\,\\mathrm{m} = 100 \\,\\mathrm{cm}$, so $1 \\,\\mathrm{m^3} = (10^2)^3 \\,\\mathrm{cm^3} = 10^6 \\,\\mathrm{cm^3}$.\n$$\nN_D \\approx (1.7613 \\times 10^{24} \\,\\mathrm{m^{-3}}) \\times \\left(\\frac{1 \\,\\mathrm{m^3}}{10^6 \\,\\mathrm{cm^3}}\\right) = 1.7613 \\times 10^{18} \\,\\mathrm{cm^{-3}}\n$$\nRounding to three significant figures, the donor concentration is $1.76 \\times 10^{18} \\,\\mathrm{cm^{-3}}$.\n\nFinally, we explain the physical implications.\n\nThe screening length, $L_D$, is the fundamental parameter that describes the spatial extent of the space-charge region near the semiconductor-electrolyte interface. Its value has profound consequences for the photocatalytic performance of the material.\n\n1.  **Influence on Interfacial Band Bending**: At the interface, charge transfer occurs to equilibrate the semiconductor's Fermi level with the electrolyte's redox potential, resulting in an electric potential difference. This potential drop occurs across the space-charge region, causing the semiconductor's energy bands (conduction and valence bands) to bend. The screening length $L_D$ dictates the width over which this bending occurs. A smaller $L_D$ (corresponding to a higher donor concentration $N_D$) implies that the charge carriers in the semiconductor are more effective at screening the electric field. Consequently, the potential drops more steeply over a shorter distance from the surface. Conversely, a larger $L_D$ (lower $N_D$) results in a more gradual potential drop over a wider region. While the total magnitude of band bending is determined by the thermodynamics of the junction, $L_D$ governs the spatial profile of this bending.\n\n2.  **Influence on Charge-Separation Fields**: The band bending creates an internal electric field, $E(x) = -d\\phi(x)/dx$, within the space-charge region. In the linear model, $E(x) = (\\phi_s/L_D) \\exp(-x/L_D)$. This field is critical for photocatalysis as it separates the photogenerated electron-hole pairs, driving the minority carriers (holes in this n-type semiconductor) towards the surface and majority carriers (electrons) into the bulk. This separation is essential to prevent charge recombination. A smaller $L_D$ leads to a stronger electric field near the surface ($E_{max} \\propto 1/L_D$), which can enhance the charge separation efficiency for carriers generated within this region. This is generally beneficial for photocatalytic activity.\n\n3.  **Implications for Modeling Photocatalytic Reaction Kinetics**: Photocatalytic reactions occur at the surface and their rates depend on the flux of charge carriers (holes) to the interface. This flux is governed by drift (due to the electric field) and diffusion processes within the space-charge region. Therefore, any rigorous kinetic model of photocatalysis must account for charge transport. The screening length $L_D$, by defining the potential profile $\\phi(x)$ and the electric field $E(x)$, is a critical input parameter for such models. It directly influences the calculated carrier concentration profiles and fluxes. An accurate value of $L_D$ (and thus $N_D$) is necessary to correctly model the rate of charge transfer to reactants at the surface and, ultimately, to predict the overall quantum efficiency of the photocatalytic process. The trade-off between a strong but narrow separation field (small $L_D$) and a weaker but wider field (large $L_D$) relative to the light absorption depth is a key optimization problem in photocatalyst design, and modeling rooted in these first principles is essential to address it.",
            "answer": "$$\\boxed{1.76 \\times 10^{18}}$$"
        },
        {
            "introduction": "Once charge carriers are generated, they face a critical competition: either participate in a productive surface reaction or be lost to recombination. This kinetic battle directly dictates the overall efficiency of the photocatalyst. This hands-on coding exercise challenges you to build a fundamental kinetic model to quantify this competition by calculating the Apparent Quantum Yield (AQY), a key performance metric . Through this practice, you will explore how the interplay between carrier lifetime, $\\tau$, and surface reaction kinetics, $k_r$, determines the ultimate efficiency of converting photons to chemical products.",
            "id": "3889791",
            "problem": "A planar semiconductor photocatalyst is illuminated by monochromatic light, generating mobile charge carriers that can either recombine in the bulk or be consumed by surface reactions. Model the carrier dynamics and compute the Apparent Quantum Yield (AQY), defined here as the number of product molecules formed per incident photon. Apparent Quantum Yield (AQY) is a dimensionless fraction, and your program must report it for each test case as specified at the end.\n\nFundamental base and definitions to use:\n- Photons of wavelength $\\lambda$ have energy $E_{\\text{photon}} = h c / \\lambda$, where $h$ is Planck's constant and $c$ is the speed of light.\n- Incident irradiance $I$ (power per area) leads to an incident photon flux per area $\\phi_{\\text{inc}}$ given by total incident power per area divided by the photon energy.\n- A fraction $\\alpha$ (dimensionless, $0 \\le \\alpha \\le 1$) of the incident photons are absorbed, and each absorbed photon generates one mobile carrier.\n- Mobile carriers have a characteristic bulk lifetime $\\tau$ (seconds), which defines a first-order recombination sink of magnitude $n / \\tau$ for the mobile carrier surface density $n$ (carriers per area).\n- Surface reaction consumes mobile carriers with a pseudo-first-order rate constant $k_r$ (per second) applied to the mobile carrier surface density $n$.\n- The stoichiometry of product formation requires $z$ carriers per molecule of product, meaning the product formation rate per area is proportional to the rate of carrier consumption by reaction divided by $z$.\n\nStarting from these principles, set up the carrier continuity equation for the mobile carrier surface density $n(t)$ and analyze the steady state under constant illumination. Use the physically consistent assumption that the generation term equals the absorbed photon flux per area. Assume a spatially uniform carrier density and ignore transport limitations. Derive the expression for the steady-state product formation rate per area and then compute AQY relative to the incident photon flux. Express AQY as a dimensionless fraction.\n\nYour program must:\n1. For each test case, compute the incident photon flux per area $\\phi_{\\text{inc}}$ using $E_{\\text{photon}} = h c / \\lambda$ and the given $I$.\n2. Using the fundamental base above, determine the steady-state mobile carrier surface density $n$ under constant illumination, with generation, recombination, and consumption by surface reaction.\n3. Compute the product formation rate per area based on the reaction consumption of carriers and stoichiometry $z$.\n4. Compute AQY as the ratio of the product formation rate per area to $\\phi_{\\text{inc}}$.\n5. Produce a single line of output containing the AQY values for all test cases as a comma-separated list enclosed in square brackets (for example, $[0.1,0.01,0.001]$). Each AQY must be expressed as a decimal fraction (dimensionless).\n\nPhysical constants and units to use:\n- Use $h = 6.62607015 \\times 10^{-34}$ J$\\cdot$s and $c = 2.99792458 \\times 10^{8}$ m/s.\n- The input irradiance $I$ is in W/m$^2$.\n- The wavelength $\\lambda$ is in m.\n- The rate constants $k_r$ are in s$^{-1}$.\n- The lifetime $\\tau$ is in s.\n- The stoichiometric number $z$ is dimensionless.\n\nTest suite parameter sets (each test case is a tuple $(I, \\lambda, \\alpha, k_r, \\tau, z)$):\n- Case A (general, moderate lifetime): $(500, 365 \\times 10^{-9}, 0.2, 10^{4}, 10^{-6}, 2)$.\n- Case B (edge, very short lifetime): $(500, 365 \\times 10^{-9}, 0.2, 10^{4}, 10^{-9}, 2)$.\n- Case C (boundary, very long lifetime): $(500, 365 \\times 10^{-9}, 0.2, 10^{4}, 1, 2)$.\n- Case D (edge, no absorption): $(500, 365 \\times 10^{-9}, 0, 10^{4}, 10^{-6}, 2)$.\n- Case E (different spectrum and kinetics): $(100, 520 \\times 10^{-9}, 0.6, 10^{3}, 10^{-3}, 4)$.\n\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets (for example, $[0.1,0.01,0.001]$). Each entry must be the AQY for the corresponding test case in the order A, B, C, D, E, expressed as a dimensionless decimal fraction.",
            "solution": "The problem statement has been analyzed and found to be valid. It is scientifically grounded in the principles of photocatalysis and semiconductor physics, well-posed with a clear objective and sufficient information, and objective in its formulation. We can therefore proceed with the derivation of the solution.\n\nThe objective is to compute the Apparent Quantum Yield (AQY), defined as the ratio of the rate of product molecule formation per unit area to the rate of incident photons per unit area. This requires deriving a mathematical model for the charge carrier dynamics under steady-state illumination.\n\nFirst, we establish the fundamental rates governing the system.\n\n$1$. **Photon Flux and Carrier Generation**\nThe energy of a single photon of wavelength $\\lambda$ is given by the Planck-Einstein relation:\n$$ E_{\\text{photon}} = \\frac{hc}{\\lambda} $$\nwhere $h$ is Planck's constant ($6.62607015 \\times 10^{-34} \\, \\text{J} \\cdot \\text{s}$) and $c$ is the speed of light ($2.99792458 \\times 10^{8} \\, \\text{m/s}$).\n\nGiven an incident irradiance $I$ (in $\\text{W}/\\text{m}^2$, which is $\\text{J} \\cdot \\text{s}^{-1} \\cdot \\text{m}^{-2}$), the incident photon flux per unit area, $\\phi_{\\text{inc}}$, is the irradiance divided by the energy per photon:\n$$ \\phi_{\\text{inc}} = \\frac{I}{E_{\\text{photon}}} = \\frac{I \\lambda}{hc} $$\nThe units of $\\phi_{\\text{inc}}$ are photons $\\cdot \\text{m}^{-2} \\cdot \\text{s}^{-1}$.\n\nA fraction $\\alpha$ of these photons are absorbed, and each absorbed photon generates one mobile carrier. Thus, the carrier generation rate per unit area, $G$, is:\n$$ G = \\alpha \\phi_{\\text{inc}} = \\frac{\\alpha I \\lambda}{hc} $$\nThe units of $G$ are carriers $\\cdot \\text{m}^{-2} \\cdot \\text{s}^{-1}$.\n\n$2$. **Carrier Loss Mechanisms**\nThe generated mobile carriers are removed from the system through two independent, first-order pathways:\na) **Bulk Recombination**: A loss process with a characteristic lifetime $\\tau$. The rate of recombination per unit area, $R_{\\text{recomb}}$, is proportional to the carrier surface density $n$ (in carriers/$\\text{m}^2$):\n$$ R_{\\text{recomb}} = \\frac{n}{\\tau} $$\nb) **Surface Reaction**: A productive loss channel where carriers are consumed to form a product. The rate of this pseudo-first-order reaction per unit area, $R_{\\text{react}}$, is given by:\n$$ R_{\\text{react}} = k_r n $$\nwhere $k_r$ is the surface reaction rate constant (in $\\text{s}^{-1}$).\n\n$3$. **Carrier Continuity and Steady-State Density**\nThe time evolution of the mobile carrier surface density $n(t)$ is described by the continuity equation, which balances generation and loss:\n$$ \\frac{dn}{dt} = \\text{Generation} - \\text{Loss} = G - R_{\\text{recomb}} - R_{\\text{react}} $$\nSubstituting the expressions for the rates:\n$$ \\frac{dn}{dt} = \\frac{\\alpha I \\lambda}{hc} - \\frac{n}{\\tau} - k_r n $$\nUnder steady-state illumination, the system reaches a constant carrier density, $n_{ss}$, where the net rate of change is zero ($dn/dt = 0$).\n$$ 0 = \\frac{\\alpha I \\lambda}{hc} - \\frac{n_{ss}}{\\tau} - k_r n_{ss} $$\nWe solve for $n_{ss}$:\n$$ \\frac{\\alpha I \\lambda}{hc} = n_{ss} \\left(\\frac{1}{\\tau} + k_r\\right) $$\n$$ n_{ss} = \\frac{\\alpha I \\lambda / (hc)}{1/\\tau + k_r} $$\n\n$4$. **Product Formation Rate and Apparent Quantum Yield (AQY)**\nThe rate of product molecule formation per unit area, $R_{\\text{prod}}$, depends on the carrier consumption rate by the surface reaction, $R_{\\text{react}}$, and the stoichiometric number $z$ (carriers required per product molecule).\n$$ R_{\\text{prod}} = \\frac{R_{\\text{react}}}{z} = \\frac{k_r n_{ss}}{z} $$\nSubstituting the expression for $n_{ss}$:\n$$ R_{\\text{prod}} = \\frac{k_r}{z} \\left( \\frac{\\alpha I \\lambda / (hc)}{1/\\tau + k_r} \\right) $$\n\nThe Apparent Quantum Yield (AQY) is defined as the ratio of the product formation rate to the incident photon flux:\n$$ \\text{AQY} = \\frac{R_{\\text{prod}}}{\\phi_{\\text{inc}}} $$\nSubstituting the derived expressions for $R_{\\text{prod}}$ and $\\phi_{\\text{inc}} = I \\lambda / (hc)$:\n$$ \\text{AQY} = \\frac{\\frac{k_r}{z} \\left( \\frac{\\alpha I \\lambda / (hc)}{1/\\tau + k_r} \\right)}{I \\lambda / (hc)} $$\nThe term for incident photon flux, $I \\lambda / (hc)$, cancels from the numerator and denominator. This reveals that the AQY, under this model, is independent of the incident light intensity and wavelength, provided the energy is sufficient to generate carriers.\n$$ \\text{AQY} = \\frac{\\alpha k_r}{z(1/\\tau + k_r)} $$\nFor computational clarity, this expression can be rearranged by multiplying the numerator and denominator by $\\tau$:\n$$ \\text{AQY} = \\frac{\\alpha k_r \\tau}{z(1 + k_r \\tau)} $$\nThis final expression relates the AQY directly to the intrinsic material and reaction parameters ($\\alpha$, $\\tau$, $k_r$, $z$). It represents the fraction of incident photons that result in the formation of a product molecule. The term $\\frac{k_r \\tau}{1 + k_r \\tau}$ can be interpreted as the kinetic efficiency of the surface reaction channel in competition with bulk recombination.\n\nThe program will implement the step-by-step calculation as outlined in the problem to ensure a faithful translation of the physical model, even though the algebraic simplification is possible. This makes the logic of the code transparently follow the physical derivation.",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes the Apparent Quantum Yield (AQY) for several photocatalysis test cases based on a steady-state kinetic model.\n    \"\"\"\n    # Physical constants\n    h = 6.62607015e-34  # Planck's constant in J*s\n    c = 2.99792458e8    # Speed of light in m/s\n\n    # Test suite parameter sets: (I, lambda, alpha, k_r, tau, z)\n    # I: Irradiance in W/m^2\n    # lambda: Wavelength in m\n    # alpha: Absorption coefficient (dimensionless)\n    # k_r: Surface reaction rate constant in s^-1\n    # tau: Bulk carrier lifetime in s\n    # z: Stoichiometric number (carriers per product molecule, dimensionless)\n    test_cases = [\n        # Case A (general, moderate lifetime)\n        (500, 365e-9, 0.2, 1e4, 1e-6, 2),\n        # Case B (edge, very short lifetime)\n        (500, 365e-9, 0.2, 1e4, 1e-9, 2),\n        # Case C (boundary, very long lifetime)\n        (500, 365e-9, 0.2, 1e4, 1, 2),\n        # Case D (edge, no absorption)\n        (500, 365e-9, 0, 1e4, 1e-6, 2),\n        # Case E (different spectrum and kinetics)\n        (100, 520e-9, 0.6, 1e3, 1e-3, 4),\n    ]\n\n    results = []\n    for case in test_cases:\n        I, lam, alpha, k_r, tau, z = case\n\n        # Step 1: Compute incident photon flux per area (phi_inc)\n        # This step is explicitly required by the problem description.\n        E_photon = h * c / lam\n        \n        # Handle the case where irradiance I is zero to avoid division by zero.\n        if I == 0:\n            phi_inc = 0.0\n        else:\n            phi_inc = I / E_photon\n\n        # If there is no light or no absorption, no carriers are generated. AQY is zero.\n        if phi_inc == 0.0 or alpha == 0.0:\n            results.append(0.0)\n            continue\n\n        # Carrier generation rate per unit area (G)\n        G = alpha * phi_inc\n        \n        # Step 2: Determine the steady-state mobile carrier surface density (n_ss)\n        # Handle case where tau is zero, though physically unlikely.\n        if tau == 0:\n            # Recombination rate is infinite, so no carriers can accumulate.\n            n_ss = 0.0\n        else:\n            # Total loss rate constant for carriers (recombination + reaction)\n            k_loss = (1 / tau) + k_r\n            n_ss = G / k_loss\n\n        # Step 3: Compute the product formation rate per area (R_prod)\n        R_prod = k_r * n_ss / z\n\n        # Step 4: Compute Apparent Quantum Yield (AQY)\n        aqy = R_prod / phi_inc\n        \n        results.append(aqy)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(f'{r:.10f}'.rstrip('0').rstrip('.') for r in results)}]\")\n\nsolve()\n```"
        },
        {
            "introduction": "Realistic photocatalytic reactors rarely operate under uniform conditions; light intensity and catalyst properties can vary spatially, creating complex performance landscapes. This final practice integrates the concepts of light transport, carrier generation, and surface kinetics into a comprehensive, spatially-resolved reactor model. You will develop a program to compute the total production rate by numerically integrating a non-linear kinetic rate expression over the catalyst surface, accounting for variations in both light attenuation and film thickness . This capstone exercise provides practical experience in upscaling local mechanistic understanding to predict macroscopic reactor performance, a crucial skill in chemical engineering.",
            "id": "3889849",
            "problem": "You are tasked with implementing a computational model that couples radiative transport to photocatalytic surface kinetics over a rectangular catalyst, and then integrates the local generation-driven kinetics over the catalyst surface area to predict the overall reactor molar production rate. The goal is to start from fundamental, well-tested laws and definitions, and to compute the total rate by numerical integration, ensuring scientific realism and internal consistency. Your program must produce results for a provided test suite and aggregate them in a single-line output as specified.\n\nConsider a rectangular catalyst with width $W$ (in m) and height $H$ (in m), located beneath a participating medium whose local thickness above the catalyst varies along the streamwise coordinate $x \\in [0,W]$. The medium has a monochromatic collimated incident photon flux density $I_0$ (in photons m$^{-2}$ s$^{-1}$), and it attenuates the beam according to the Beer–Lambert law. The photocatalyst is a semiconductor thin film with local thickness $t(x)$ on the surface. The local photon flux density at the surface $I(x)$ and the resulting local absorption fraction $A(x)$ are defined as follows:\n- Beer–Lambert attenuation in the medium: $I(x) = I_0 \\exp\\!\\big(-\\kappa\\,h(x)\\big)$, where $h(x)$ is the local medium thickness above the surface (in m) and $\\kappa$ is the medium absorption coefficient (in m$^{-1}$).\n- Thin-film absorption fraction: $A(x) = 1 - \\exp\\!\\big(-\\beta\\,t(x)\\big)$, where $\\beta$ is the film absorption coefficient (in m$^{-1}$) and $t(x)$ is the local film thickness (in m). Assume negligible reflection and scattering at the film for this exercise.\n\nAssume a constant quantum yield $\\phi$ (dimensionless) for photocarrier generation per absorbed photon. The local areal photocarrier generation rate $g(x)$ (in electron-hole pairs m$^{-2}$ s$^{-1}$) is\n$$\ng(x) = \\phi\\,I(x)\\,A(x) \\, .\n$$\nAssuming a steady-state carrier density controlled by generation and first-order loss, the local steady-state areal carrier density $n_s(x)$ (in carriers m$^{-2}$) is\n$$\nn_s(x) = g(x)\\,\\tau \\, ,\n$$\nwhere $\\tau$ is the effective carrier lifetime (in s). The surface reaction rate per area in molecular events per square meter per second follows a saturating kinetics with respect to $n_s(x)$:\n$$\nr_s(x) = k_{\\text{surf}}\\,\\frac{n_s(x)}{1 + \\frac{n_s(x)}{n_{\\text{sat}}}} \\, ,\n$$\nwhere $k_{\\text{surf}}$ is the surface rate constant (in s$^{-1}$) and $n_{\\text{sat}}$ is the saturation areal carrier density (in carriers m$^{-2}$). The local molar production rate density $r_{\\mu}(x)$ (in mol m$^{-2}$ s$^{-1}$) is obtained by dividing $r_s(x)$ by Avogadro’s number $N_A$ (in mol$^{-1}$):\n$$\nr_{\\mu}(x) = \\frac{r_s(x)}{N_A} \\, .\n$$\n\nThe overall reactor molar production rate $R$ (in mol/s) is the area integral of $r_{\\mu}(x)$ over the rectangular surface:\n$$\nR \\;=\\; \\int_{0}^{W} \\!\\!\\int_{0}^{H} r_{\\mu}(x)\\,\\mathrm{d}y\\,\\mathrm{d}x \\;=\\; H \\int_{0}^{W} r_{\\mu}(x)\\,\\mathrm{d}x \\, .\n$$\nYou must compute $R$ numerically by discretizing $x \\in [0,W]$ uniformly and using a reliable numerical quadrature, with physically meaningful constraints such as $t(x) \\ge 0$.\n\nThe definitions of the spatial profiles are linear:\n- Medium thickness profile: $h(x) = h_0 + s_h\\,x$, where $h_0$ (in m) and $s_h$ (dimensionless, m/m) parameterize the profile.\n- Film thickness profile: $t(x) = t_0 + s_t\\,x$, where $t_0$ (in m) and $s_t$ (m/m) parameterize the profile.\n\nConstants and units:\n- Use $N_A = 6.02214076 \\times 10^{23}$ mol$^{-1}$ for Avogadro’s number.\n- All intermediate and final quantities must be computed consistently in base SI units.\n- Express the overall reactor rate in moles per second. Your program must output raw floating-point numbers representing $R$ in moles per second, without unit strings.\n\nTest suite and parameter sets:\nImplement your program to compute $R$ for each of the following parameter sets. Each set defines $W$, $H$, $h_0$, $s_h$, $t_0$, $s_t$, $I_0$, $\\kappa$, $\\beta$, $\\phi$, $\\tau$, $k_{\\text{surf}}$, and $n_{\\text{sat}}$.\n\n- Case 1 (general coupling, moderate attenuation and absorption):\n  - $W = 0.1$ m, $H = 0.05$ m\n  - $h_0 = 0.005$ m, $s_h = 0.01$ \n  - $t_0 = 1.0\\times 10^{-7}$ m, $s_t = 2.0\\times 10^{-7}$\n  - $I_0 = 1.0\\times 10^{21}$ photons m$^{-2}$ s$^{-1}$\n  - $\\kappa = 100$ m$^{-1}$, $\\beta = 1.0\\times 10^{7}$ m$^{-1}$\n  - $\\phi = 0.8$, $\\tau = 1.0\\times 10^{-3}$ s\n  - $k_{\\text{surf}} = 0.1$ s$^{-1}$, $n_{\\text{sat}} = 1.0\\times 10^{16}$ m$^{-2}$\n\n- Case 2 (zero film thickness edge case, zero absorption in film):\n  - $W = 0.1$ m, $H = 0.05$ m\n  - $h_0 = 0.005$ m, $s_h = 0.01$\n  - $t_0 = 0$ m, $s_t = 0$\n  - $I_0 = 1.0\\times 10^{21}$ photons m$^{-2}$ s$^{-1}$\n  - $\\kappa = 100$ m$^{-1}$, $\\beta = 1.0\\times 10^{7}$ m$^{-1}$\n  - $\\phi = 0.8$, $\\tau = 1.0\\times 10^{-3}$ s\n  - $k_{\\text{surf}} = 0.1$ s$^{-1}$, $n_{\\text{sat}} = 1.0\\times 10^{16}$ m$^{-2}$\n\n- Case 3 (strong medium attenuation boundary condition):\n  - $W = 0.1$ m, $H = 0.05$ m\n  - $h_0 = 0.02$ m, $s_h = 0$\n  - $t_0 = 2.0\\times 10^{-7}$ m, $s_t = 0$\n  - $I_0 = 1.0\\times 10^{21}$ photons m$^{-2}$ s$^{-1}$\n  - $\\kappa = 1000$ m$^{-1}$, $\\beta = 1.0\\times 10^{7}$ m$^{-1}$\n  - $\\phi = 0.8$, $\\tau = 1.0\\times 10^{-3}$ s\n  - $k_{\\text{surf}} = 0.1$ s$^{-1}$, $n_{\\text{sat}} = 1.0\\times 10^{16}$ m$^{-2}$\n\n- Case 4 (saturation-dominated kinetics with high generation):\n  - $W = 0.1$ m, $H = 0.05$ m\n  - $h_0 = 0.001$ m, $s_h = 0$\n  - $t_0 = 3.0\\times 10^{-7}$ m, $s_t = 0$\n  - $I_0 = 1.0\\times 10^{23}$ photons m$^{-2}$ s$^{-1}$\n  - $\\kappa = 10$ m$^{-1}$, $\\beta = 1.0\\times 10^{7}$ m$^{-1}$\n  - $\\phi = 1.0$, $\\tau = 1.0\\times 10^{-2}$ s\n  - $k_{\\text{surf}} = 1.0$ s$^{-1}$, $n_{\\text{sat}} = 1.0\\times 10^{15}$ m$^{-2}$\n\nImplementation requirements:\n- Discretize $x$ uniformly over $[0,W]$ using a sufficiently large number of points $N$ for numerical stability and accuracy (choose a fixed $N$ and use it for all cases).\n- Enforce the physical constraint $t(x) \\ge 0$ when computing $A(x)$.\n- Use a stable numerical quadrature to approximate $\\int_{0}^{W} r_{\\mu}(x)\\,\\mathrm{d}x$.\n- Your program must produce a single line of output containing the results as a comma-separated list enclosed in square brackets (e.g., $\\big[\\,\\mathrm{result}_1,\\mathrm{result}_2,\\mathrm{result}_3,\\mathrm{result}_4\\,\\big]$). Each $\\mathrm{result}_i$ is the floating-point value of $R$ in moles per second for the corresponding case, in the order listed above.\n\nAngle usage note: No angular parameters are used; all quantities are defined in linear coordinates and base SI units.\n\nYour final program must be complete and runnable as specified, produce no additional text, and present the required single-line output.",
            "solution": "The problem statement has been rigorously validated and is determined to be valid. It is scientifically grounded in the principles of chemical kinetics and radiative transport, well-posed with a complete and consistent set of parameters and equations, and expressed in objective, formal language. There are no contradictions, ambiguities, or physically implausible assumptions. Therefore, a solution is warranted.\n\nThe objective is to compute the total molar production rate, $R$, for a photocatalytic reactor. This requires integrating a local rate expression over the surface of a rectangular catalyst of width $W$ and height $H$. The local rate depends on a series of coupled physical phenomena: light attenuation through a medium, light absorption by a thin film, photocarrier generation, and a surface reaction governed by saturating kinetics.\n\nFirst, we establish the complete expression for the integrand, the local molar production rate density $r_{\\mu}(x)$. The variables and functions are defined relative to the streamwise coordinate $x \\in [0,W]$.\n\nThe local thickness of the attenuating medium is given by a linear profile:\n$$h(x) = h_0 + s_h\\,x$$\nThe local photon flux density at the catalyst surface, $I(x)$, is determined by the Beer–Lambert law, accounting for attenuation through the medium:\n$$I(x) = I_0 \\exp\\!\\big(-\\kappa\\,h(x)\\big) = I_0 \\exp\\!\\big(-\\kappa(h_0 + s_h\\,x)\\big)$$\nwhere $I_0$ is the incident flux density and $\\kappa$ is the medium's absorption coefficient.\n\nThe local thickness of the photocatalytic film also follows a linear profile:\n$$t(x) = t_0 + s_t\\,x$$\nThe problem specifies a physical constraint $t(x) \\ge 0$. We must enforce this by defining the effective thickness for absorption as $\\max(0, t(x))$. The fraction of incident light absorbed by the film, $A(x)$, is:\n$$A(x) = 1 - \\exp\\!\\big(-\\beta\\,\\max(0, t(x))\\big) = 1 - \\exp\\!\\big(-\\beta\\,\\max(0, t_0 + s_t\\,x)\\big)$$\nwhere $\\beta$ is the film's absorption coefficient.\n\nThe local areal rate of photocarrier generation, $g(x)$, is proportional to the number of absorbed photons per unit area per unit time:\n$$g(x) = \\phi\\,I(x)\\,A(x)$$\nwhere $\\phi$ is the quantum yield.\n\nAssuming a first-order carrier loss mechanism, the steady-state areal carrier density, $n_s(x)$, is the product of the generation rate and the effective carrier lifetime, $\\tau$:\n$$n_s(x) = g(x)\\,\\tau = \\phi\\,\\tau\\,I(x)\\,A(x)$$\n\nThe surface reaction rate per unit area, $r_s(x)$, follows saturating kinetics, analogous to a Michaelis–Menten or Langmuir–Hinshelwood model:\n$$r_s(x) = k_{\\text{surf}}\\,\\frac{n_s(x)}{1 + \\frac{n_s(x)}{n_{\\text{sat}}}}$$\nwhere $k_{\\text{surf}}$ is the intrinsic surface rate constant and $n_{\\text{sat}}$ is the saturation areal carrier density.\n\nFinally, the local molar production rate density, $r_{\\mu}(x)$, is obtained by converting from molecular events to moles using Avogadro's number, $N_A$:\n$$r_{\\mu}(x) = \\frac{r_s(x)}{N_A}$$\n\nCombining all these expressions yields the full form of the integrand $r_{\\mu}(x)$:\n$$\nr_{\\mu}(x) = \\frac{k_{\\text{surf}}}{N_A} \\frac{\\phi\\,\\tau\\,I_0 \\exp\\!\\big(-\\kappa(h_0 + s_h\\,x)\\big) \\Big(1 - \\exp\\!\\big(-\\beta\\,\\max(0, t_0 + s_t\\,x)\\big)\\Big)}{1 + \\frac{\\phi\\,\\tau\\,I_0 \\exp\\!\\big(-\\kappa(h_0 + s_h\\,x)\\big) \\Big(1 - \\exp\\!\\big(-\\beta\\,\\max(0, t_0 + s_t\\,x)\\big)\\Big)}{n_{\\text{sat}}}}\n$$\n\nThe total reactor molar production rate, $R$, is the integral of $r_{\\mu}(x)$ over the catalyst area. Since all variation is along the $x$-direction, the integral simplifies to:\n$$R = \\int_0^W \\int_0^H r_{\\mu}(x)\\,\\mathrm{d}y\\,\\mathrm{d}x = H \\int_0^W r_{\\mu}(x)\\,\\mathrm{d}x$$\n\nThe problem requires a numerical solution for this integral. As the integrand $r_{\\mu}(x)$ is a composition of smooth, well-behaved elementary functions, a standard numerical quadrature method is appropriate. The instruction to discretize $x$ uniformly using a fixed number of points $N$ suggests a composite quadrature rule. We will employ Simpson's rule, a highly accurate and stable method for integrating smooth functions, as implemented in `scipy.integrate.simpson`. We will discretize the domain $x \\in [0, W]$ into $N-1$ intervals, using $N=2001$ points to ensure high accuracy for all test cases. The number of points must be odd for the standard composite Simpson's rule implementation.\n\nThe computational procedure is as follows:\n1. For each test case, define all $13$ input parameters ($W$, $H$, $h_0$, $s_h$, $t_0$, $s_t$, $I_0$, $\\kappa$, $\\beta$, $\\phi$, $\\tau$, $k_{\\text{surf}}$, $n_{\\text{sat}}$) and the constant $N_A = 6.02214076 \\times 10^{23} \\text{ mol}^{-1}$.\n2. Generate a uniform grid of $N=2001$ points for $x$ from $0$ to $W$.\n3. At each point $x_i$ on the grid, evaluate the integrand $r_{\\mu}(x_i)$ by systematically calculating $h(x_i)$, $t(x_i)$, $I(x_i)$, $A(x_i)$, $n_s(x_i)$, and finally $r_s(x_i)$ and $r_{\\mu}(x_i)$. The physical constraint $t(x_i) \\ge 0$ is explicitly enforced.\n4. Use Simpson's rule with the grid of $x_i$ points and the corresponding $r_{\\mu}(x_i)$ values to compute the definite integral $\\int_0^W r_{\\mu}(x)\\,\\mathrm{d}x$.\n5. Multiply the result of the integration by the catalyst height $H$ to obtain the final total rate $R$ in moles per second.\n6. This procedure is repeated for all four test cases, and the results are aggregated into the specified output format.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy import integrate\n\ndef solve():\n    \"\"\"\n    Main function to solve the photocatalytic reactor problem for all test cases.\n    \"\"\"\n    # Avogadro's number (mol^-1)\n    N_A = 6.02214076e23\n\n    # Discretization points for numerical integration.\n    # Must be an odd number for Simpson's rule. A large number is chosen for accuracy.\n    N_POINTS = 2001\n\n    # Define the test cases from the problem statement.\n    # Each tuple contains:\n    # (W, H, h0, sh, t0, st, I0, kappa, beta, phi, tau, k_surf, n_sat)\n    test_cases = [\n        # Case 1: general coupling, moderate attenuation and absorption\n        (0.1, 0.05, 0.005, 0.01, 1.0e-7, 2.0e-7, 1.0e21, 100, 1.0e7, 0.8, 1.0e-3, 0.1, 1.0e16),\n        # Case 2: zero film thickness edge case, zero absorption in film\n        (0.1, 0.05, 0.005, 0.01, 0.0, 0.0, 1.0e21, 100, 1.0e7, 0.8, 1.0e-3, 0.1, 1.0e16),\n        # Case 3: strong medium attenuation boundary condition\n        (0.1, 0.05, 0.02, 0.0, 2.0e-7, 0.0, 1.0e21, 1000, 1.0e7, 0.8, 1.0e-3, 0.1, 1.0e16),\n        # Case 4: saturation-dominated kinetics with high generation\n        (0.1, 0.05, 0.001, 0.0, 3.0e-7, 0.0, 1.0e23, 10, 1.0e7, 1.0, 1.0e-2, 1.0, 1.0e15),\n    ]\n\n    def calculate_total_rate(params):\n        \"\"\"\n        Calculates the total molar production rate R for a single set of parameters.\n        \"\"\"\n        W, H, h0, sh, t0, st, I0, kappa, beta, phi, tau, k_surf, n_sat = params\n        \n        # Create a uniform grid for the x-coordinate from 0 to W\n        x_coords = np.linspace(0, W, N_POINTS)\n        \n        # Calculate spatially-dependent variables, vectorized over x_coords\n        \n        # Medium thickness profile h(x)\n        h_x = h0 + sh * x_coords\n        \n        # Film thickness profile t(x), with physical constraint t(x) >= 0\n        t_x = np.maximum(0, t0 + st * x_coords)\n        \n        # Photon flux density at surface I(x) - Beer-Lambert law in medium\n        I_x = I0 * np.exp(-kappa * h_x)\n        \n        # Absorption fraction in film A(x)\n        A_x = 1 - np.exp(-beta * t_x)\n        \n        # Areal photocarrier generation rate g(x)\n        g_x = phi * I_x * A_x\n        \n        # Steady-state areal carrier density n_s(x)\n        ns_x = g_x * tau\n        \n        # Surface reaction rate r_s(x) - saturating kinetics\n        rs_x = k_surf * ns_x / (1 + ns_x / n_sat)\n        \n        # Local molar production rate density r_mu(x)\n        r_mu_x = rs_x / N_A\n        \n        # Integrate r_mu(x) over the width W using Simpson's rule\n        integral_val = integrate.simpson(r_mu_x, x_coords)\n        \n        # Total reactor molar production rate R\n        R = H * integral_val\n        \n        return R\n\n    results = []\n    for case_params in test_cases:\n        rate = calculate_total_rate(case_params)\n        results.append(rate)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        }
    ]
}