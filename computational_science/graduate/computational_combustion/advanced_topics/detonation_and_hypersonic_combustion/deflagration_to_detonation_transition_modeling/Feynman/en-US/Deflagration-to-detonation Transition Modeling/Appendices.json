{
    "hands_on_practices": [
        {
            "introduction": "This practice delves into the heart of the DDT mechanism: the critical interplay between fluid dynamics and chemical kinetics. The transition to detonation is fundamentally a race, where the chemical induction time must become shorter than a characteristic hydrodynamic time. This exercise provides a hands-on method to quantify this concept by calculating the necessary temperature rise from precompression to trigger a rapid, localized energy release, a cornerstone of many DDT scenarios .",
            "id": "4016799",
            "problem": "Consider a premixed reactive gas in a duct with obstacles that promote shock formation and precompression ahead of a propagating deflagration. Deflagration-to-Detonation Transition (DDT) requires that chemical energy release be sufficiently rapid in the precompressed layer ahead of the flame so that the induction length becomes comparable to or smaller than a hydrodynamic scale set by the flow and geometry. Assume a homogeneous precompressed layer ahead of the flame with uniform temperature $T_{0}$ and flow speed $u_{a}$, and let the induction time at $T_{0}$ be $\\tau_{0}$. The reaction is modeled as a single-step Arrhenius process with activation energy $E_{a}$, and the induction time is defined as the time to reach appreciable heat release, dominated by the temperature sensitivity of the Arrhenius exponential. Use the ideal gas law and standard chemical kinetics to formulate the DDT requirement as an inequality on the induction time relative to the hydrodynamic residence time across a characteristic flow scale $\\ell$, and then derive from first principles an exact expression for the temperature increment $\\Delta T$ required to reduce the induction time from $\\tau_{0}$ at $T_{0}$ to the residence time $\\ell/u_{a}$ at the increased temperature $T_{1} = T_{0} + \\Delta T$.\n\nGiven the following physically plausible parameters for a stoichiometric hydrogen–air mixture precompressed by obstacle-generated shocks:\n- Baseline precompressed temperature $T_{0} = 700\\,\\mathrm{K}$,\n- Baseline induction time $\\tau_{0} = 0.4\\,\\mathrm{ms}$ at $(T_{0},p_{0})$,\n- Flow speed ahead of the flame $u_{a} = 150\\,\\mathrm{m/s}$,\n- Characteristic hydrodynamic scale $\\ell = 3.0\\,\\mathrm{mm}$,\n- Activation energy $E_{a} = 1.20 \\times 10^{5}\\,\\mathrm{J/mol}$,\n- Universal gas constant $R = 8.314462618\\,\\mathrm{J/(mol\\cdot K)}$,\n\nAssume that, over the temperature increment of interest, the dominant sensitivity of the induction time to temperature arises from the Arrhenius exponential and that other dependencies (e.g., pressure variations and pre-exponential factors) are subdominant when forming the ratio of induction times at fixed composition in the precompressed layer. Starting from the definition of the induction time in terms of the Arrhenius reaction rate and the DDT requirement $\\tau_{\\mathrm{ind}}(T_{1}) \\le \\ell/u_{a}$, derive an exact closed-form expression for $\\Delta T$ in terms of $T_{0}$, $E_{a}$, $R$, $\\tau_{0}$, $u_{a}$, and $\\ell$, and then evaluate $\\Delta T$ numerically for the provided parameters. Express your final numerical answer in $\\mathrm{K}$ and round your result to four significant figures.",
            "solution": "The user wants me to solve a computational combustion problem, first validating it and then providing a detailed solution.\n\n**1. Problem Validation**\n\n*   **Step 1: Extract Givens**\n    *   Baseline precompressed temperature: $T_{0} = 700\\,\\mathrm{K}$\n    *   Baseline induction time at $(T_{0}, p_{0})$: $\\tau_{0} = 0.4\\,\\mathrm{ms}$\n    *   Flow speed ahead of the flame: $u_{a} = 150\\,\\mathrm{m/s}$\n    *   Characteristic hydrodynamic scale: $\\ell = 3.0\\,\\mathrm{mm}$\n    *   Activation energy: $E_{a} = 1.20 \\times 10^{5}\\,\\mathrm{J/mol}$\n    *   Universal gas constant: $R = 8.314462618\\,\\mathrm{J/(mol\\cdot K)}$\n    *   Temperature increment definition: $T_{1} = T_{0} + \\Delta T$\n    *   Deflagration-to-Detonation Transition (DDT) criterion: $\\tau_{\\mathrm{ind}}(T_{1}) \\le \\ell/u_{a}$\n    *   Assumption: The induction time-temperature dependence is dominated by the Arrhenius exponential, $\\exp(-E_{a}/(RT))$.\n\n*   **Step 2: Validate Using Extracted Givens**\n    *   **Scientific Groundedness:** The problem is firmly rooted in the principles of chemical kinetics and combustion theory, specifically concerning the criteria for Deflagration-to-Detonation Transition (DDT). The use of Arrhenius kinetics to model the temperature sensitivity of induction time is a standard and fundamental concept. The provided parameters are physically realistic for a precompressed hydrogen-air mixture.\n    *   **Well-Posedness:** The problem is well-posed. It provides a clear physical model, a specific criterion (the DDT requirement), and all necessary parameters to derive a unique analytical expression and subsequently compute a numerical value for the requested quantity, $\\Delta T$.\n    *   **Objectivity:** The problem is stated in precise, objective, and quantitative scientific language, free of any subjective or opinion-based elements.\n    *   **Completeness and Consistency:** The problem is self-contained. All variables and constants required for the solution are explicitly provided. The units are consistent: $E_{a}/(RT)$ is dimensionless as required for an exponential argument, and both $\\tau_{0}$ and $\\ell/u_{a}$ have units of time, allowing for a meaningful comparison. No contradictions are present.\n    *   **Realism and Feasibility:** The scenario and associated values are physically plausible within the context of high-speed reactive flows and DDT phenomena.\n    *   **Other Flaws:** The problem is not ill-posed, trivial, or pseudo-profound. It requires a rigorous application of first principles to arrive at the solution.\n\n*   **Step 3: Verdict and Action**\n    *   The problem is **valid**. A solution will be provided.\n\n**2. Solution Derivation**\n\nThe problem states that the induction time, $\\tau_{\\mathrm{ind}}$, is dominated by the temperature sensitivity of the Arrhenius reaction rate. The reaction rate, $k$, is proportional to $\\exp(-E_{a}/(RT))$. The induction time is inversely proportional to the characteristic reaction rate, thus:\n$$\n\\tau_{\\mathrm{ind}}(T) \\propto \\frac{1}{k(T)} \\propto \\frac{1}{\\exp(-E_{a}/(RT))} = \\exp\\left(\\frac{E_{a}}{RT}\\right)\n$$\nWe can express this relationship with a proportionality constant, $A$, which encapsulates pre-exponential factors and pressure dependencies, assumed to be constant as per the problem statement.\n$$\n\\tau_{\\mathrm{ind}}(T) = A \\exp\\left(\\frac{E_{a}}{RT}\\right)\n$$\nWe are given a baseline condition at temperature $T_{0}$:\n$$\n\\tau_{0} = \\tau_{\\mathrm{ind}}(T_{0}) = A \\exp\\left(\\frac{E_{a}}{RT_{0}}\\right)\n$$\nThe DDT criterion requires the induction time at the new temperature, $T_{1}$, to be no greater than the hydrodynamic residence time, $\\tau_{\\mathrm{hydro}} = \\ell/u_{a}$. The critical condition, which determines the minimum required temperature increment, occurs at the equality:\n$$\n\\tau_{\\mathrm{ind}}(T_{1}) = \\frac{\\ell}{u_{a}}\n$$\nwhere $T_{1} = T_{0} + \\Delta T$. Using the Arrhenius relation for $\\tau_{\\mathrm{ind}}(T_{1})$:\n$$\n\\tau_{\\mathrm{ind}}(T_{1}) = A \\exp\\left(\\frac{E_{a}}{RT_{1}}\\right)\n$$\nTo eliminate the unknown constant $A$, we take the ratio of the induction times at $T_{1}$ and $T_{0}$:\n$$\n\\frac{\\tau_{\\mathrm{ind}}(T_{1})}{\\tau_{0}} = \\frac{A \\exp(E_{a}/(RT_{1}))}{A \\exp(E_{a}/(RT_{0}))} = \\exp\\left(\\frac{E_{a}}{RT_{1}} - \\frac{E_{a}}{RT_{0}}\\right) = \\exp\\left[\\frac{E_{a}}{R}\\left(\\frac{1}{T_{1}} - \\frac{1}{T_{0}}\\right)\\right]\n$$\nSubstituting the DDT critical condition $\\tau_{\\mathrm{ind}}(T_{1}) = \\ell/u_{a}$ into this ratio gives:\n$$\n\\frac{\\ell}{u_{a}\\tau_{0}} = \\exp\\left[\\frac{E_{a}}{R}\\left(\\frac{1}{T_{1}} - \\frac{1}{T_{0}}\\right)\\right]\n$$\nTo solve for $T_{1}$, we take the natural logarithm of both sides:\n$$\n\\ln\\left(\\frac{\\ell}{u_{a}\\tau_{0}}\\right) = \\frac{E_{a}}{R}\\left(\\frac{1}{T_{1}} - \\frac{1}{T_{0}}\\right)\n$$\nRearranging the equation to isolate $1/T_{1}$:\n$$\n\\frac{R}{E_{a}}\\ln\\left(\\frac{\\ell}{u_{a}\\tau_{0}}\\right) = \\frac{1}{T_{1}} - \\frac{1}{T_{0}}\n$$\n$$\n\\frac{1}{T_{1}} = \\frac{1}{T_{0}} + \\frac{R}{E_{a}}\\ln\\left(\\frac{\\ell}{u_{a}\\tau_{0}}\\right)\n$$\nInverting this expression gives $T_{1}$:\n$$\nT_{1} = \\left[\\frac{1}{T_{0}} + \\frac{R}{E_{a}}\\ln\\left(\\frac{\\ell}{u_{a}\\tau_{0}}\\right)\\right]^{-1}\n$$\nThe problem asks for the temperature increment $\\Delta T = T_{1} - T_{0}$. Therefore, the exact closed-form expression for $\\Delta T$ is:\n$$\n\\Delta T = \\left[\\frac{1}{T_{0}} + \\frac{R}{E_{a}}\\ln\\left(\\frac{\\ell}{u_{a}\\tau_{0}}\\right)\\right]^{-1} - T_{0}\n$$\nNow, we substitute the given numerical values:\n$T_{0} = 700\\,\\mathrm{K}$\n$\\tau_{0} = 0.4\\,\\mathrm{ms} = 4.0 \\times 10^{-4}\\,\\mathrm{s}$\n$u_{a} = 150\\,\\mathrm{m/s}$\n$\\ell = 3.0\\,\\mathrm{mm} = 3.0 \\times 10^{-3}\\,\\mathrm{m}$\n$E_{a} = 1.20 \\times 10^{5}\\,\\mathrm{J/mol}$\n$R = 8.314462618\\,\\mathrm{J/(mol\\cdot K)}$\n\nFirst, we calculate the arguments within the expression. The hydrodynamic residence time is:\n$$\n\\tau_{\\mathrm{hydro}} = \\frac{\\ell}{u_{a}} = \\frac{3.0 \\times 10^{-3}\\,\\mathrm{m}}{150\\,\\mathrm{m/s}} = 2.0 \\times 10^{-5}\\,\\mathrm{s}\n$$\nThe ratio of the induction times is:\n$$\n\\frac{\\ell}{u_{a}\\tau_{0}} = \\frac{2.0 \\times 10^{-5}\\,\\mathrm{s}}{4.0 \\times 10^{-4}\\,\\mathrm{s}} = 0.05\n$$\nNow, substitute this into the expression for $1/T_{1}$:\n$$\n\\frac{1}{T_{1}} = \\frac{1}{700\\,\\mathrm{K}} + \\frac{8.314462618\\,\\mathrm{J/(mol\\cdot K)}}{1.20 \\times 10^{5}\\,\\mathrm{J/mol}}\\ln(0.05)\n$$\n$$\n\\frac{1}{T_{1}} \\approx \\left(0.0014285714 + \\frac{8.314462618}{1.20 \\times 10^{5}} \\times (-2.99573227)\\right)\\,\\mathrm{K}^{-1}\n$$\n$$\n\\frac{1}{T_{1}} \\approx (0.0014285714 + (6.9287188 \\times 10^{-5}) \\times (-2.99573227))\\,\\mathrm{K}^{-1}\n$$\n$$\n\\frac{1}{T_{1}} \\approx (0.0014285714 - 0.0002075673)\\,\\mathrm{K}^{-1}\n$$\n$$\n\\frac{1}{T_{1}} \\approx 0.0012210041\\,\\mathrm{K}^{-1}\n$$\nNow we find $T_{1}$:\n$$\nT_{1} = \\frac{1}{0.0012210041\\,\\mathrm{K}^{-1}} \\approx 819.0003\\,\\mathrm{K}\n$$\nFinally, we calculate the temperature increment $\\Delta T$:\n$$\n\\Delta T = T_{1} - T_{0} \\approx 819.0003\\,\\mathrm{K} - 700\\,\\mathrm{K} = 119.0003\\,\\mathrm{K}\n$$\nRounding the result to four significant figures gives $119.0\\,\\mathrm{K}$.",
            "answer": "$$\n\\boxed{119.0}\n$$"
        },
        {
            "introduction": "Once a reaction couples with a shock wave, it forms a detonation, a structure fundamentally different from an inert shock. This exercise challenges you to analytically explore this difference by deriving the reactive Rankine–Hugoniot relations, which govern the conservation laws across a reactive wave. By comparing the post-shock temperature with and without chemical heat release, you will gain a foundational understanding of how energy addition modifies the thermodynamic state and underpins the self-sustaining nature of a detonation wave .",
            "id": "4016668",
            "problem": "In computational combustion modeling of Deflagration-to-Detonation Transition (DDT), a common idealization is to represent the leading reactive compression as a single, one-dimensional, steady planar wave across which chemical energy is added. Consider a calorically perfect gas with constant specific heats and the Ideal Gas Law. Let the upstream state be characterized by pressure $p_1$, temperature $T_1$, density $\\rho_1$, speed of sound $a_1$, and Mach number $M_1$, where $a_1 = \\sqrt{\\gamma R T_1}$ and $M_1 = u_1 / a_1$ with $u_1$ the upstream flow speed relative to the wave. Let the ratio of specific heats be $\\gamma$, the specific gas constant be $R$, and the constant-pressure specific heat be $c_p$, related by $c_p = \\gamma R / (\\gamma - 1)$. Suppose a net exothermic chemical heat release $q$ (per unit mass) occurs across the wave, modeled as a source in the energy balance, with $q \\ge 0$. \n\nStarting only from conservation of mass, momentum, and energy across the wave, together with the Ideal Gas Law, and taking the reactive Rankine–Hugoniot (RH) energy relation to include the added chemical energy $q$, derive an analytic expression for the dimensionless post-shock temperature ratio $T_2/T_1$ in terms of $M_1$, $\\gamma$, and the nondimensional heat release $\\epsilon \\equiv q / (c_p T_1)$. Assume $M_1 > 1$ and that $\\epsilon$ is such that the compressive reactive solution is physically admissible (i.e., the Rayleigh line intersects the reactive Hugoniot in the compression branch). Then, form the inert limit by setting $q = 0$ and obtain the inert post-shock temperature ratio $T_2^{\\mathrm{inert}}/T_1$. \n\nYour task is to provide, as the final result, a single closed-form analytic expression for the comparison in the form of the ratio\n$$\\frac{T_2/T_1}{\\left(T_2^{\\mathrm{inert}}/T_1\\right)}$$\nexpressed only in terms of $M_1$, $\\gamma$, and $\\epsilon$. No numerical evaluation is required. The final answer must be a single closed-form analytical expression. The quantity is dimensionless; do not include units.",
            "solution": "The user wants to find the ratio of the post-shock temperature for a reactive shock wave to that of an inert shock wave. The problem is grounded in the fundamental principles of compressible fluid dynamics and combustion theory, specifically the Rankine-Hugoniot relations modified for heat addition. All necessary information and definitions are provided, and the problem is well-posed. The problem is valid.\n\nWe begin with the one-dimensional, steady-state conservation laws for mass, momentum, and energy across a planar wave, including a heat release term $q$ in the energy equation. The states upstream and downstream of the wave are denoted by subscripts $1$ and $2$, respectively.\n\n**1. Governing Equations**\nThe conservation laws are:\n- Mass: $\\rho_1 u_1 = \\rho_2 u_2$\n- Momentum: $p_1 + \\rho_1 u_1^2 = p_2 + \\rho_2 u_2^2$\n- Energy: $c_p T_1 + \\frac{1}{2} u_1^2 + q = c_p T_2 + \\frac{1}{2} u_2^2$\n\nThe gas is assumed to obey the Ideal Gas Law, $p = \\rho R T$. We define the dimensionless temperature ratio $\\theta = T_2/T_1$, the density ratio $\\eta = \\rho_2/\\rho_1$, and the velocity ratio $\\Gamma = u_2/u_1$. From mass conservation, we have $\\Gamma = 1/\\eta$.\n\n**2. Derivation of an Equation for the Velocity Ratio $\\Gamma$**\nWe will derive two expressions for the temperature ratio $\\theta$ and equate them to find an equation for $\\Gamma$.\n\nFirst, from the momentum equation:\n$p_2 - p_1 = \\rho_1 u_1^2 - \\rho_2 u_2^2 = \\rho_1 u_1^2 - (\\eta \\rho_1) (\\Gamma^2 u_1^2) = \\rho_1 u_1^2 (1 - \\eta \\Gamma^2)$.\nUsing $\\eta \\Gamma = 1$, we get $p_2 - p_1 = \\rho_1 u_1^2(1-\\Gamma)$.\nThe pressure ratio $p_2/p_1$ can be expressed as:\n$\\frac{p_2}{p_1} = 1 + \\frac{\\rho_1 u_1^2}{p_1}(1-\\Gamma)$.\nUsing the Ideal Gas Law $p_1 = \\rho_1 R T_1$ and the definitions $a_1^2 = \\gamma R T_1$ and $M_1 = u_1/a_1$, we find $\\frac{\\rho_1 u_1^2}{p_1} = \\gamma M_1^2$.\nSo, the pressure ratio is $\\frac{p_2}{p_1} = 1 + \\gamma M_1^2(1-\\Gamma)$.\n\nFrom the Ideal Gas Law, the temperature ratio is $\\theta = \\frac{T_2}{T_1} = \\frac{p_2/p_1}{\\rho_2/\\rho_1} = \\frac{p_2/p_1}{\\eta} = \\Gamma \\frac{p_2}{p_1}$.\nSubstituting the expression for the pressure ratio, we obtain our first relation for $\\theta$:\n$$ \\theta = \\Gamma[1 + \\gamma M_1^2(1-\\Gamma)] \\quad (*)$$\n\nSecond, from the energy equation:\n$c_p T_2 - c_p T_1 - q = \\frac{1}{2}(u_1^2 - u_2^2)$.\nDividing by $c_p T_1$:\n$\\frac{T_2}{T_1} - 1 - \\frac{q}{c_p T_1} = \\frac{u_1^2}{2 c_p T_1} (1 - (\\frac{u_2}{u_1})^2)$.\nUsing the definitions $\\theta = T_2/T_1$, $\\epsilon = q/(c_p T_1)$, and $\\Gamma=u_2/u_1$, and the relation $c_p = \\frac{\\gamma R}{\\gamma-1}$, we can write:\n$\\frac{u_1^2}{2 c_p T_1} = \\frac{M_1^2 a_1^2}{2 c_p T_1} = \\frac{M_1^2 \\gamma R T_1}{2 (\\frac{\\gamma R}{\\gamma-1}) T_1} = \\frac{\\gamma-1}{2} M_1^2$.\nThe energy equation becomes our second relation for $\\theta$:\n$$ \\theta = 1 + \\epsilon + \\frac{\\gamma-1}{2} M_1^2 (1 - \\Gamma^2) \\quad (**) $$\n\nNow, we equate the two expressions for $\\theta$ from $(*)$ and $(**)$:\n$\\Gamma[1 + \\gamma M_1^2(1-\\Gamma)] = 1 + \\epsilon + \\frac{\\gamma-1}{2} M_1^2 (1 - \\Gamma^2)$.\n$\\Gamma + \\gamma M_1^2 \\Gamma - \\gamma M_1^2 \\Gamma^2 = 1 + \\epsilon + \\frac{\\gamma-1}{2} M_1^2 - \\frac{\\gamma-1}{2} M_1^2 \\Gamma^2$.\nRearranging this into a standard quadratic form $A\\Gamma^2 + B\\Gamma + C = 0$:\n$\\left(\\gamma M_1^2 - \\frac{\\gamma-1}{2} M_1^2\\right)\\Gamma^2 - (1 + \\gamma M_1^2)\\Gamma + \\left(1 + \\epsilon + \\frac{\\gamma-1}{2} M_1^2\\right) = 0$.\nThe coefficient of $\\Gamma^2$ is $M_1^2(\\gamma - \\frac{\\gamma-1}{2}) = M_1^2\\frac{\\gamma+1}{2}$.\nThe quadratic equation for $\\Gamma$ is:\n$$ \\frac{(\\gamma+1)M_1^2}{2} \\Gamma^2 - (1 + \\gamma M_1^2)\\Gamma + \\left(1 + \\epsilon + \\frac{\\gamma-1}{2} M_1^2\\right) = 0 $$\n\nSolving for $\\Gamma$ using the quadratic formula $\\Gamma = \\frac{-B \\pm \\sqrt{B^2 - 4AC}}{2A}$:\n$$ \\Gamma = \\frac{(1 + \\gamma M_1^2) \\pm \\sqrt{(1+\\gamma M_1^2)^2 - 4\\left(\\frac{(\\gamma+1)M_1^2}{2}\\right)\\left(1+\\epsilon+\\frac{\\gamma-1}{2}M_1^2\\right)}}{(\\gamma+1)M_1^2} $$\nLet's simplify the term under the square root:\n$(1+2\\gamma M_1^2 + \\gamma^2 M_1^4) - 2(\\gamma+1)M_1^2(1+\\epsilon) - (\\gamma+1)(\\gamma-1)M_1^4$\n$= 1 + M_1^2(2\\gamma - 2\\gamma - 2) + M_1^4(\\gamma^2 - (\\gamma^2-1)) - 2\\epsilon(\\gamma+1)M_1^2$\n$= 1 - 2M_1^2 + M_1^4 - 2\\epsilon(\\gamma+1)M_1^2 = (M_1^2-1)^2 - 2\\epsilon(\\gamma+1)M_1^2$.\n\nSo the solution for $\\Gamma$ is:\n$$ \\Gamma = \\frac{1 + \\gamma M_1^2 \\pm \\sqrt{(M_1^2-1)^2 - 2\\epsilon(\\gamma+1)M_1^2}}{(\\gamma+1)M_1^2} $$\nFor a compressive wave ($M_1 > 1$), the downstream velocity is lower, so $\\Gamma < 1$. The inert case ($\\epsilon=0$) gives $\\Gamma = \\frac{1+\\gamma M_1^2 \\pm (M_1^2-1)}{(\\gamma+1)M_1^2}$. The plus sign gives $\\Gamma=1$ (trivial solution), while the minus sign gives the shock solution. Thus, we must choose the minus sign.\nLet $\\Gamma_{reac}$ be the velocity ratio for the reactive case:\n$$ \\Gamma_{reac} = \\frac{1 + \\gamma M_1^2 - \\sqrt{(M_1^2-1)^2 - 2\\epsilon(\\gamma+1)M_1^2}}{(\\gamma+1)M_1^2} $$\n\n**3. Temperature Ratio Expressions**\nWe use the energy-based expression for $\\theta$, equation $(**)$, to find the temperature ratios.\nFor the reactive case:\n$$ \\frac{T_2}{T_1} = 1 + \\epsilon + \\frac{\\gamma-1}{2} M_1^2 (1 - \\Gamma_{reac}^2) $$\nFor the inert case, we set $\\epsilon=0$ in the expression for $\\Gamma$ to get $\\Gamma_{inert}$:\n$$ \\Gamma_{inert} = \\frac{1 + \\gamma M_1^2 - \\sqrt{(M_1^2-1)^2}}{(\\gamma+1)M_1^2} = \\frac{1 + \\gamma M_1^2 - (M_1^2-1)}{(\\gamma+1)M_1^2} = \\frac{2 + (\\gamma-1)M_1^2}{(\\gamma+1)M_1^2} $$\nThe inert temperature ratio is then:\n$$ \\frac{T_2^{\\mathrm{inert}}}{T_1} = 1 + \\frac{\\gamma-1}{2} M_1^2 (1 - \\Gamma_{inert}^2) $$\n\n**4. Final Ratio**\nThe required final result is the ratio $\\frac{T_2/T_1}{(T_2^{\\mathrm{inert}}/T_1)}$.\n$$ \\frac{T_2/T_1}{(T_2^{\\mathrm{inert}}/T_1)} = \\frac{1 + \\epsilon + \\frac{\\gamma-1}{2} M_1^2 (1 - \\Gamma_{reac}^2)}{1 + \\frac{\\gamma-1}{2} M_1^2 (1 - \\Gamma_{inert}^2)} $$\nSubstituting the expressions for $\\Gamma_{reac}$ and $\\Gamma_{inert}$:\n$$ \\frac{T_2/T_1}{(T_2^{\\mathrm{inert}}/T_1)} = \\frac{1 + \\epsilon + \\frac{\\gamma-1}{2} M_1^2 \\left(1 - \\left(\\frac{1 + \\gamma M_1^2 - \\sqrt{(M_1^2-1)^2 - 2\\epsilon(\\gamma+1)M_1^2}}{(\\gamma+1)M_1^2}\\right)^2\\right)}{1 + \\frac{\\gamma-1}{2} M_1^2 \\left(1 - \\left(\\frac{2 + (\\gamma-1)M_1^2}{(\\gamma+1)M_1^2}\\right)^2\\right)} $$\nThis is the complete, closed-form analytic expression for the required ratio in terms of only $M_1$, $\\gamma$, and $\\epsilon$. No further simplification is readily available without making the expression significantly more complex visually.",
            "answer": "$$ \\boxed{ \\frac{1 + \\epsilon + \\frac{\\gamma-1}{2} M_1^2 \\left(1 - \\left(\\frac{1 + \\gamma M_1^2 - \\sqrt{(M_1^2-1)^2 - 2\\epsilon(\\gamma+1)M_1^2}}{(\\gamma+1)M_1^2}\\right)^2\\right)}{1 + \\frac{\\gamma-1}{2} M_1^2 \\left(1 - \\left(\\frac{2 + (\\gamma-1)M_1^2}{(\\gamma+1)M_1^2}\\right)^2\\right)} } $$"
        },
        {
            "introduction": "This exercise transitions from theoretical analysis to practical implementation by guiding you through the construction of a simplified computational model for DDT. You will simulate a physically relevant scenario where a compression wave is amplified by a converging duct geometry, a known mechanism for initiating detonation. This practice integrates concepts of acoustic focusing, normal shock relations, and Arrhenius kinetics to build a predictive tool, offering a tangible experience in the kind of simplified modeling that is essential in computational combustion research .",
            "id": "4016675",
            "problem": "You are to implement a physically plausible, quasi-one-dimensional simulation to assess Deflagration-to-Detonation Transition (DDT) in a converging duct by wave focusing. The simulation must integrate fundamental laws from compressible flow and chemical kinetics to determine if geometrical focusing of a compression wave can amplify the local state sufficiently to trigger detonation in a specified reactive mixture. The program must be self-contained and produce a single-line output aggregating the results for the provided test suite.\n\nStart from the compressible Euler equations and linear acoustics. Assume a small-amplitude compression wave of initial pressure perturbation $p'_0$ enters a duct of linearly decreasing radius $R(x)$ over length $L$. The cross-sectional area is $A(x) = \\pi R(x)^2$. Under the assumption of slowly varying area and negligible mean flow, conserve acoustic energy flux. For a plane wave, the acoustic intensity is $I = \\frac{p'^2}{\\rho c}$, where $\\rho$ is the mass density and $c$ is the speed of sound. Conservation of total acoustic power in a quasi-one-dimensional duct implies $A(x) I(x) \\approx \\text{constant}$. Assuming $\\rho$ and $c$ are approximately constant during focusing at the upstream state, the amplitude scaling is\n$$\np'(x) = p'_0 \\sqrt{\\frac{A(0)}{A(x)}}.\n$$\nMap the focused compression to an equivalent normal shock by matching the pressure ratio $\\frac{p_2}{p_1} = 1 + \\frac{p'(x)}{p_0}$, where $p_0$ is the initial static pressure. Use well-tested normal shock relations for a calorically perfect gas with ratio of specific heats $\\gamma$:\n$$\n\\frac{p_2}{p_1} = 1 + \\frac{2 \\gamma}{\\gamma + 1} \\left( M_1^2 - 1 \\right),\n$$\n$$\n\\frac{\\rho_2}{\\rho_1} = \\frac{(\\gamma + 1) M_1^2}{(\\gamma - 1) M_1^2 + 2},\n$$\n$$\n\\frac{T_2}{T_1} = \\frac{(p_2/p_1)}{(\\rho_2/\\rho_1)},\n$$\nwhere $M_1$ is the upstream Mach number, $T_1$ is the initial upstream temperature, $p_1 = p_0$, and $\\rho_1 = \\frac{p_0}{R_{\\text{spec}} T_0}$ with $R_{\\text{spec}}$ the mixture-specific gas constant and $T_0$ the initial temperature. Invert the pressure-ratio relation to obtain\n$$\nM_1^2 = 1 + \\frac{\\left(\\frac{p_2}{p_1} - 1\\right)(\\gamma + 1)}{2 \\gamma}.\n$$\nCompute the upstream sound speed $c_1 = \\sqrt{\\gamma R_{\\text{spec}} T_0}$ and upstream velocity $u_1 = M_1 c_1$, then the downstream velocity $u_2 = u_1 \\frac{\\rho_1}{\\rho_2}$.\n\nFor chemical kinetics, use a single-step Arrhenius rate model to estimate an induction time behind the compression:\n$$\n\\tau(T_2) = \\frac{1}{A \\exp\\left(-\\frac{E_a}{R_u T_2}\\right)},\n$$\nwhere $A$ is a pre-exponential factor, $E_a$ is an activation energy, and $R_u$ is the universal gas constant. Compute the induction length $L_{\\text{ind}}(x) = u_2(x) \\, \\tau(T_2(x))$. Declare that detonation is triggered at position $x$ if\n$$\nL_{\\text{ind}}(x) \\le R(x),\n$$\ni.e., the chemical induction distance fits within the local focusing radius, providing a simple, local Zeldovich–von Neumann–Döring (ZND) criterion surrogate for DDT.\n\nYour program must:\n- Implement the above focusing and shock-equivalence mapping along the duct, discretizing $x \\in [0,L]$ with uniform spacing.\n- Treat $R(x)$ as linearly decreasing from $R_0$ at $x=0$ to $R_1$ at $x=L$, i.e., $R(x) = R_0 + (R_1 - R_0) \\frac{x}{L}$.\n- Use the upstream state $(p_0, T_0)$ for $\\rho_1$, $c_1$, and $T_1$ in the above relations.\n- Evaluate detonation triggering as a boolean: $True$ if there exists any $x$ such that $L_{\\text{ind}}(x) \\le R(x)$, otherwise $False$.\n\nUnits and constants:\n- Pressures in $\\mathrm{Pa}$, temperatures in $\\mathrm{K}$, lengths in $\\mathrm{m}$, velocities in $\\mathrm{m/s}$, and time in $\\mathrm{s}$.\n- The universal gas constant is $R_u = 8.314 \\, \\mathrm{J/mol \\cdot K}$.\n- All input parameters must be treated in these units.\n\nTest suite:\nProvide four parameter sets exploring a range of behaviors. For each case, use $N = 501$ spatial points for $x$ discretization. The parameters are given as tuples in the order:\n$(\\gamma, R_{\\text{spec}}, p_0, T_0, L, R_0, R_1, p'_0, A, E_a)$, with $A$ in $\\mathrm{s}^{-1}$ and $E_a$ in $\\mathrm{J/mol}$.\n\n- Case 1 (moderate convergence, less reactive mixture, expected non-trigger):\n  $(\\gamma = 1.35, R_{\\text{spec}} = 287, p_0 = 101325, T_0 = 300, L = 1.0, R_0 = 0.10, R_1 = 0.02, p'_0 = 8000, A = 5\\times 10^6, E_a = 1.20\\times 10^5)$.\n- Case 2 (strong convergence, highly reactive mixture, expected trigger):\n  $(\\gamma = 1.25, R_{\\text{spec}} = 260, p_0 = 101325, T_0 = 300, L = 1.0, R_0 = 0.10, R_1 = 0.005, p'_0 = 30000, A = 1.0\\times 10^9, E_a = 1.0\\times 10^4)$.\n- Case 3 (moderate convergence, moderately reactive mixture, near-threshold, expected non-trigger):\n  $(\\gamma = 1.30, R_{\\text{spec}} = 330, p_0 = 101325, T_0 = 300, L = 1.0, R_0 = 0.10, R_1 = 0.01, p'_0 = 15000, A = 3.0\\times 10^8, E_a = 3.0\\times 10^4)$.\n- Case 4 (no convergence, weak compression, expected non-trigger):\n  $(\\gamma = 1.35, R_{\\text{spec}} = 287, p_0 = 101325, T_0 = 300, L = 1.0, R_0 = 0.10, R_1 = 0.10, p'_0 = 5000, A = 5.0\\times 10^6, E_a = 1.20\\times 10^5)$.\n\nFinal output format:\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets (e.g., $[result_1,result_2,result_3,result_4]$), where each $result_i$ is a boolean $True$ or $False$ corresponding to the four cases above.",
            "solution": "The user-provided problem is first subjected to a rigorous validation process.\n\n### Step 1: Extraction of Givens\nThe problem provides the following data, models, and constraints:\n- **Objective**: Implement a quasi-one-dimensional simulation to assess Deflagration-to-Detonation Transition (DDT) in a converging duct.\n- **Physical Model**: Based on compressible Euler equations, linear acoustics, normal shock relations, and single-step Arrhenius kinetics.\n- **Geometry**: A duct of length $L$ with a linearly decreasing radius $R(x) = R_0 + (R_1 - R_0) \\frac{x}{L}$. The cross-sectional area is $A(x) = \\pi R(x)^2$.\n- **Acoustic Focusing**: An initial pressure perturbation $p'_0$ enters the duct. Assuming conservation of acoustic energy flux ($A(x) I(x) \\approx \\text{constant}$) and constant background density $\\rho$ and sound speed $c$, the perturbation amplitude scales as $p'(x) = p'_0 \\sqrt{\\frac{A(0)}{A(x)}}$.\n- **Shock-Equivalence**: The focused compression at a position $x$ is mapped to an equivalent normal shock with a pressure ratio $\\frac{p_2}{p_1} = 1 + \\frac{p'(x)}{p_0}$, where $p_1 = p_0$ is the initial static pressure.\n- **Upstream State**: The state ahead of the equivalent shock is the initial quiescent state of the mixture: $p_1 = p_0$, $T_1 = T_0$. The upstream density is $\\rho_1 = \\frac{p_0}{R_{\\text{spec}} T_0}$ and the upstream sound speed is $c_1 = \\sqrt{\\gamma R_{\\text{spec}} T_0}$.\n- **Normal Shock Relations (Calorically Perfect Gas)**:\n  - Upstream Mach number: $M_1^2 = 1 + \\frac{\\left(\\frac{p_2}{p_1} - 1\\right)(\\gamma + 1)}{2 \\gamma}$\n  - Density ratio: $\\frac{\\rho_2}{\\rho_1} = \\frac{(\\gamma + 1) M_1^2}{(\\gamma - 1) M_1^2 + 2}$\n  - Temperature ratio: $\\frac{T_2}{T_1} = \\frac{(p_2/p_1)}{(\\rho_2/\\rho_1)}$\n- **Post-Shock Flow**:\n  - Upstream velocity: $u_1 = M_1 c_1$\n  - Downstream velocity: $u_2 = u_1 \\frac{\\rho_1}{\\rho_2}$\n- **Chemical Kinetics**:\n  - Induction time (Arrhenius model): $\\tau(T_2) = \\frac{1}{A \\exp\\left(-\\frac{E_a}{R_u T_2}\\right)}$\n  - Induction length: $L_{\\text{ind}}(x) = u_2(x) \\, \\tau(T_2(x))$\n- **DDT Criterion**: Detonation is triggered if there exists any position $x \\in [0, L]$ such that $L_{\\text{ind}}(x) \\le R(x)$.\n- **Constants and Units**: Universal gas constant $R_u = 8.314 \\, \\mathrm{J/mol \\cdot K}$. All units are SI.\n- **Numerical Discretization**: The spatial domain $x \\in [0, L]$ is to be discretized with $N = 501$ uniformly spaced points.\n- **Test Cases**: Four sets of parameters $(\\gamma, R_{\\text{spec}}, p_0, T_0, L, R_0, R_1, p'_0, A, E_a)$ are provided:\n  1. $(1.35, 287, 101325, 300, 1.0, 0.10, 0.02, 8000, 5 \\times 10^6, 1.20 \\times 10^5)$\n  2. $(1.25, 260, 101325, 300, 1.0, 0.10, 0.005, 30000, 1.0 \\times 10^9, 1.0 \\times 10^4)$\n  3. $(1.30, 330, 101325, 300, 1.0, 0.10, 0.01, 15000, 3.0 \\times 10^8, 3.0 \\times 10^4)$\n  4. $(1.35, 287, 101325, 300, 1.0, 0.10, 0.10, 5000, 5 \\times 10^6, 1.20 \\times 10^5)$\n\n### Step 2: Validation of Extracted Givens\nThe problem is evaluated against the established validation criteria.\n- **Scientifically Grounded**: The problem is well-grounded in the principles of fluid dynamics, acoustics, and chemical kinetics. The quasi-one-dimensional acoustic focusing model, the use of Rankine-Hugoniot relations for shock jumps, and the Arrhenius model for reaction kinetics are all standard, albeit simplified, tools in combustion science. The DDT criterion ($L_{\\text{ind}} \\le R$) is a physically motivated heuristic, representing the condition that the reaction zone must be geometrically confined to couple with the leading shock. The model is a valid, simplified representation of a complex physical phenomenon.\n- **Well-Posed**: The problem is well-posed. It provides all necessary input parameters, constants, and governing equations to uniquely determine the state variables at each point in the domain and to evaluate the DDT criterion.\n- **Objective**: The problem statement is entirely objective, expressed in precise mathematical and physical terms, with no subjective or ambiguous language.\n- **Completeness and Consistency**: The problem is self-contained and internally consistent. There are no missing parameters or contradictory constraints. The test cases cover a range of physical scenarios, including a no-convergence control case, which demonstrates a systematic and logical problem design.\n- **Realism**: The parameters provided are within physically plausible ranges for gaseous mixtures and experimental shock-tube conditions. The model itself, while a simplification, does not stipulate any physically impossible conditions.\n\n### Step 3: Verdict and Action\nThe problem is **valid**. It is a well-structured, scientifically sound problem in computational combustion that can be solved as stated. I will now proceed to construct the solution.\n\n### Solution Derivation\nThe objective is to determine, for each given parameter set, whether detonation is triggered within a converging duct. The solution involves discretizing the duct length and evaluating the detonation criterion at each point.\n\nFirst, we define the computational domain. The duct extends from $x=0$ to $x=L$. We discretize this domain into $N=501$ points, $x_i$, where $i$ ranges from $0$ to $N-1$. The spatial coordinate at each grid point is $x_i = i \\cdot \\frac{L}{N-1}$.\n\nThe algorithmic procedure for a single test case is as follows:\n\n1.  **Establish Upstream Conditions**: The initial state of the gas is defined by $p_0$, $T_0$, $\\gamma$, and $R_{\\text{spec}}$. The upstream density $\\rho_1$ and sound speed $c_1$ are constant for the entire process, as they characterize the quiescent gas into which the wave propagates. They are calculated as:\n    $$\n    \\rho_1 = \\frac{p_0}{R_{\\text{spec}} T_0}\n    $$\n    $$\n    c_1 = \\sqrt{\\gamma R_{\\text{spec}} T_0}\n    $$\n    The upstream temperature is $T_1 = T_0$.\n\n2.  **Discretize Geometry**: For each grid point $x_i$, we calculate the local duct radius $R(x_i)$ and cross-sectional area $A(x_i)$.\n    $$\n    R(x_i) = R_0 + (R_1 - R_0) \\frac{x_i}{L}\n    $$\n    $$\n    A(x_i) = \\pi [R(x_i)]^2\n    $$\n\n3.  **Calculate Focused Pressure**: The amplitude of the pressure perturbation $p'(x_i)$ at each point is determined by the acoustic focusing model. The area at the inlet is $A(0) = \\pi R_0^2$.\n    $$\n    p'(x_i) = p'_0 \\sqrt{\\frac{A(0)}{A(x_i)}} = p'_0 \\frac{R_0}{R(x_i)}\n    $$\n\n4.  **Determine Post-Shock State**: At each $x_i$, the focused compression is treated as an equivalent normal shock.\n    a.  The pressure ratio across the shock is:\n        $$\n        \\frac{p_2}{p_1}(x_i) = 1 + \\frac{p'(x_i)}{p_0}\n        $$\n    b.  This pressure ratio dictates the required upstream Mach number $M_1(x_i)$ for the equivalent shock. We invert the shock pressure relation:\n        $$\n        M_1^2(x_i) = 1 + \\frac{\\left(\\frac{p_2}{p_1}(x_i) - 1\\right)(\\gamma + 1)}{2 \\gamma}\n        $$\n    c.  With $M_1(x_i)$ known, we use the other normal shock relations to find the post-shock density and temperature.\n        $$\n        \\frac{\\rho_2}{\\rho_1}(x_i) = \\frac{(\\gamma + 1) M_1^2(x_i)}{(\\gamma - 1) M_1^2(x_i) + 2}\n        $$\n        $$\n        T_2(x_i) = T_1 \\frac{p_2/p_1(x_i)}{\\rho_2/\\rho_1(x_i)}\n        $$\n    d.  The downstream velocity $u_2(x_i)$ is found by first calculating the upstream velocity $u_1(x_i) = M_1(x_i) c_1$ and then applying mass conservation across the shock:\n        $$\n        u_2(x_i) = u_1(x_i) \\frac{\\rho_1}{\\rho_2(x_i)} = \\frac{u_1(x_i)}{\\rho_2/\\rho_1(x_i)}\n        $$\n\n5.  **Evaluate DDT Criterion**: With the post-shock state $(T_2(x_i), u_2(x_i))$ determined, we can calculate the chemical induction length.\n    a.  The induction time $\\tau$ is calculated using the Arrhenius law:\n        $$\n        \\tau(x_i) = \\frac{1}{A \\exp\\left(-\\frac{E_a}{R_u T_2(x_i)}\\right)}\n        $$\n    b.  The induction length is the distance the gas travels during this time:\n        $$\n        L_{\\text{ind}}(x_i) = u_2(x_i) \\tau(x_i)\n        $$\n    c.  The DDT criterion is then checked at each point:\n        $$\n        L_{\\text{ind}}(x_i) \\le R(x_i)\n        $$\n\n6.  **Final Verdict**: If the condition $L_{\\text{ind}}(x_i) \\le R(x_i)$ is met for *any* point $x_i$ in the domain $[0, L]$, the result for the test case is `$True$`. If the loop completes and the condition is never met, the result is `$False$`.\n\nThis entire procedure is implemented in a computer program and repeated for each of the four test cases provided. The calculations are amenable to vectorization over the spatial grid $x_i$, which is efficient.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the Deflagration-to-Detonation Transition (DDT) problem\n    for a suite of test cases.\n    \"\"\"\n    \n    # Universal gas constant in J/(mol.K)\n    R_u = 8.314\n\n    # Number of spatial discretization points\n    N = 501\n\n    # Define the test cases from the problem statement.\n    # Each tuple contains:\n    # (gamma, R_spec, p0, T0, L, R0, R1, p_prime_0, A_pre_exp, E_a)\n    test_cases = [\n        # Case 1 (moderate convergence, less reactive mixture, expected non-trigger):\n        (1.35, 287.0, 101325.0, 300.0, 1.0, 0.10, 0.02, 8000.0, 5e6, 1.20e5),\n        # Case 2 (strong convergence, highly reactive mixture, expected trigger):\n        (1.25, 260.0, 101325.0, 300.0, 1.0, 0.10, 0.005, 30000.0, 1.0e9, 1.0e4),\n        # Case 3 (moderate convergence, moderately reactive mixture, near-threshold, expected non-trigger):\n        (1.30, 330.0, 101325.0, 300.0, 1.0, 0.10, 0.01, 15000.0, 3.0e8, 3.0e4),\n        # Case 4 (no convergence, weak compression, expected non-trigger):\n        (1.35, 287.0, 101325.0, 300.0, 1.0, 0.10, 0.10, 5000.0, 5e6, 1.20e5),\n    ]\n\n    results = []\n    \n    for case in test_cases:\n        gamma, R_spec, p0, T0, L, R0, R1, p_prime_0, A_pre_exp, E_a = case\n\n        # --- Step 1: Establish Upstream Conditions ---\n        p1 = p0\n        T1 = T0\n        # rho1 = p0 / (R_spec * T0), not needed in this form\n        c1 = np.sqrt(gamma * R_spec * T0)\n\n        # --- Step 2: Discretize Geometry ---\n        x = np.linspace(0, L, N)\n        R_x = R0 + (R1 - R0) * (x / L)\n        A_x = np.pi * R_x**2\n        \n        # --- Step 3: Calculate Focused Pressure ---\n        A0 = np.pi * R0**2\n        # Handle potential division by zero if R(x) can be 0, though not in these cases.\n        # This is equivalent to p_prime_0 * R0 / R_x\n        p_prime_x = p_prime_0 * np.sqrt(A0 / A_x)\n\n        # --- Step 4: Determine Post-Shock State (Vectorized) ---\n        # a. Pressure ratio\n        p2_over_p1 = 1.0 + p_prime_x / p0\n\n        # b. Upstream Mach number squared\n        # The term (p2_over_p1 - 1) is guaranteed to be non-negative.\n        M1_squared = 1.0 + (p2_over_p1 - 1.0) * (gamma + 1.0) / (2.0 * gamma)\n        M1 = np.sqrt(M1_squared)\n\n        # c. Density and Temperature ratios\n        rho2_over_rho1 = ((gamma + 1.0) * M1_squared) / ((gamma - 1.0) * M1_squared + 2.0)\n        T2_over_T1 = p2_over_p1 / rho2_over_rho1\n\n        # Absolute post-shock temperature\n        T2_x = T1 * T2_over_T1\n\n        # d. Post-shock velocity\n        u1_x = M1 * c1\n        u2_x = u1_x / rho2_over_rho1\n\n        # --- Step 5: Evaluate DDT Criterion ---\n        # a. Induction time\n        # The argument to exp is -E_a / (R_u * T2_x), which is negative and large in magnitude.\n        # np.exp handles underflow gracefully (returns 0.0), so no special handling needed.\n        tau_x = 1.0 / (A_pre_exp * np.exp(-E_a / (R_u * T2_x)))\n        \n        # b. Induction length\n        L_ind_x = u2_x * tau_x\n\n        # c. Check criterion\n        # np.any returns True if the condition is met for any element.\n        is_triggered = np.any(L_ind_x = R_x)\n        \n        results.append(is_triggered)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, [r.item() for r in results]))}]\".replace(\"True\", \"True\").replace(\"False\", \"False\"))\n\nsolve()\n\n```"
        }
    ]
}