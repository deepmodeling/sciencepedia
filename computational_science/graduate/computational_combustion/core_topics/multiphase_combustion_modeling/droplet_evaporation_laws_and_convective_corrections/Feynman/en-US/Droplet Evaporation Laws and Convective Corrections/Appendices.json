{
    "hands_on_practices": [
        {
            "introduction": "To begin, we will ground our theoretical understanding in a concrete calculation. This first exercise focuses on the cornerstone of droplet evaporation analysis: the $d^2$-law. You will derive and apply the modified form of this law, which incorporates the crucial effects of convection and high-rate mass transfer (Stefan flow), bridging the gap between the idealized model and more realistic engineering scenarios . This practice solidifies the fundamental relationship between droplet size reduction, fluid properties, and the convective environment.",
            "id": "4021837",
            "problem": "A single-component spherical liquid droplet of a hydrocarbon fuel evaporates into a hot, oxidizing gas stream under conditions where the gas-phase transport is quasi-steady, the droplet remains isothermal and well-mixed, and the gas properties are spatially uniform. The evaporative mass flux is augmented by Stefan flow, which can be summarized through the Spalding mass transfer number $B_{M}$. The evaporation rate is influenced by convection, which is represented through the Sherwood number $Sh$, and you are to evaluate $Sh$ using the Ranz–Marshall mass transfer correlation for spheres. Assume the range of validity for the correlation is satisfied by the conditions given.\n\nStarting from species conservation and mass balance at the droplet interface, derive the expression for the evaporation constant $K$ in the $d^{2}$-law, where $d^{2}(t)=d_{0}^{2}-K t$, in terms of $Sh$, the gas density $\\rho_{g}$, the liquid density $\\rho_{l}$, the binary diffusion coefficient $D$, and $B_{M}$. Then, using the numerical values\n- Reynolds number (defined based on droplet diameter) $Re = 52$,\n- Schmidt number $Sc = 2.0$,\n- gas density $\\rho_{g} = 0.85 \\ \\mathrm{kg/m^{3}}$,\n- liquid density $\\rho_{l} = 750 \\ \\mathrm{kg/m^{3}}$,\n- binary diffusion coefficient $D = 7.5 \\times 10^{-6} \\ \\mathrm{m^{2}/s}$,\n- Spalding mass transfer number $B_{M} = 1.20$,\n\ncompute $Sh$ from the Ranz–Marshall correlation and infer the resulting evaporation constant $K$ via your derived relation. Express the final value of $K$ in $\\mathrm{m^{2}/s}$ and round your final answer to four significant figures. The final answer must be a single real number.",
            "solution": "The problem is deemed valid as it is scientifically grounded in the principles of mass transfer and combustion, well-posed with a clear objective and sufficient data, and objective in its formulation. We will proceed with the derivation and calculation.\n\nThe problem requires the derivation of the evaporation constant, $K$, for a spherical liquid droplet evaporating under convective conditions. The evaporation process is described by the $d^2$-law, given as $d^{2}(t) = d_{0}^{2} - K t$. Differentiating this expression with respect to time $t$ gives the rate of change of the squared diameter:\n$$\n\\frac{d(d^{2})}{dt} = -K\n$$\nTo find $K$, we must formulate an independent expression for $\\frac{d(d^{2})}{dt}$ based on the physics of mass transfer from the droplet surface.\n\nThe mass of the spherical droplet, $m$, is given by its volume multiplied by the liquid density, $\\rho_{l}$:\n$$\nm = \\rho_{l} \\frac{\\pi}{6} d^{3}\n$$\nThe rate of change of the droplet's mass is due to evaporation. Differentiating the mass with respect to time $t$:\n$$\n\\frac{dm}{dt} = \\frac{d}{dt} \\left( \\rho_{l} \\frac{\\pi}{6} d^{3} \\right) = \\rho_{l} \\frac{\\pi}{6} (3d^{2}) \\frac{dd}{dt} = \\rho_{l} \\frac{\\pi}{2} d^{2} \\frac{dd}{dt}\n$$\nWe can relate $\\frac{dd}{dt}$ to $\\frac{d(d^2)}{dt}$ since $\\frac{d(d^{2})}{dt} = 2d \\frac{dd}{dt}$. This gives $\\frac{dd}{dt} = \\frac{1}{2d} \\frac{d(d^{2})}{dt}$. Substituting this into the expression for $\\frac{dm}{dt}$:\n$$\n\\frac{dm}{dt} = \\rho_{l} \\frac{\\pi}{2} d^{2} \\left( \\frac{1}{2d} \\frac{d(d^{2})}{dt} \\right) = \\rho_{l} \\frac{\\pi d}{4} \\frac{d(d^{2})}{dt}\n$$\nThe rate of mass loss from the droplet must be equal to the mass evaporation rate, $\\dot{m}_{evap}$. Therefore, $\\frac{dm}{dt} = -\\dot{m}_{evap}$.\n$$\n\\rho_{l} \\frac{\\pi d}{4} \\frac{d(d^{2})}{dt} = -\\dot{m}_{evap}\n$$\nThe mass evaporation rate, $\\dot{m}_{evap}$, for a spherical droplet in a convective flow, accounting for high mass transfer rates (Stefan flow) via the Spalding number $B_{M}$, is given by:\n$$\n\\dot{m}_{evap} = \\pi d \\rho_{g} D \\cdot Sh \\cdot \\ln(1 + B_{M})\n$$\nHere, $\\rho_{g}$ is the gas density, $D$ is the binary diffusion coefficient, and $Sh$ is the Sherwood number, which accounts for the convective enhancement of mass transfer.\n\nNow, we equate the two expressions for the mass change:\n$$\n\\rho_{l} \\frac{\\pi d}{4} \\frac{d(d^{2})}{dt} = - \\left( \\pi d \\rho_{g} D \\cdot Sh \\cdot \\ln(1 + B_{M}) \\right)\n$$\nWe can simplify by canceling $\\pi d$ from both sides:\n$$\n\\frac{\\rho_{l}}{4} \\frac{d(d^{2})}{dt} = - \\rho_{g} D \\cdot Sh \\cdot \\ln(1 + B_{M})\n$$\nSolving for $\\frac{d(d^{2})}{dt}$:\n$$\n\\frac{d(d^{2})}{dt} = - \\frac{4 \\rho_{g} D}{\\rho_{l}} Sh \\ln(1 + B_{M})\n$$\nBy comparing this with the initial relation $\\frac{d(d^{2})}{dt} = -K$, we identify the evaporation constant $K$ as:\n$$\nK = \\frac{4 \\rho_{g} D}{\\rho_{l}} Sh \\ln(1 + B_{M})\n$$\nThis is the desired analytical expression for the evaporation constant.\n\nNext, we calculate the numerical value of $K$ using the provided data. First, we must compute the Sherwood number, $Sh$, using the Ranz–Marshall correlation:\n$$\nSh = 2.0 + 0.6 Re^{1/2} Sc^{1/3}\n$$\nGiven the Reynolds number $Re = 52$ and the Schmidt number $Sc = 2.0$:\n$$\nSh = 2.0 + 0.6 (52)^{1/2} (2.0)^{1/3}\n$$\n$$\nSh \\approx 2.0 + 0.6 (7.21110) (1.25992) \\approx 2.0 + 5.45133 \\approx 7.45133\n$$\nNow we substitute this value of $Sh$ along with the other given parameters into the expression for $K$:\n- $\\rho_{g} = 0.85 \\ \\mathrm{kg/m^{3}}$\n- $\\rho_{l} = 750 \\ \\mathrm{kg/m^{3}}$\n- $D = 7.5 \\times 10^{-6} \\ \\mathrm{m^{2}/s}$\n- $B_{M} = 1.20$\n- $Sh \\approx 7.45133$\n\n$$\nK = \\frac{4 (0.85) (7.5 \\times 10^{-6})}{750} (7.45133) \\ln(1 + 1.20)\n$$\n$$\nK = \\frac{2.55 \\times 10^{-5}}{750} (7.45133) \\ln(2.2)\n$$\n$$\nK = (3.4 \\times 10^{-8}) (7.45133) (0.788457)\n$$\n$$\nK \\approx 1.99690 \\times 10^{-7} \\ \\mathrm{m^{2}/s}\n$$\nRounding the final answer to four significant figures as requested:\n$$\nK \\approx 1.997 \\times 10^{-7} \\ \\mathrm{m^{2}/s}\n$$",
            "answer": "$$\\boxed{1.997 \\times 10^{-7}}$$"
        },
        {
            "introduction": "Moving beyond direct application, this practice encourages a deeper, more critical analysis of the models we use. The exercise centers on the powerful heat-mass transfer analogy, a foundational concept that allows us to infer mass transfer behavior from more easily measured heat transfer data. By calculating both the Nusselt ($Nu$) and Sherwood ($Sh$) numbers and comparing their ratio to the theoretical prediction, you will quantify the analogy's accuracy and understand the physical reasons for its limitations, particularly in the presence of strong diffusive effects .",
            "id": "4021770",
            "problem": "A single-component, spherical liquid droplet evaporates in a high-temperature, forced-convection gaseous environment under steady, quasi-steady external flow conditions. Assume constant thermophysical properties evaluated at the film temperature and negligible buoyancy effects. The droplet Reynolds number is given as $Re=121$. The gas-phase Prandtl number is $Pr=0.729$, and the gas–vapor Schmidt number is $Sc=0.512$. Using a correlation for forced convection over a sphere that is justified from laminar boundary-layer scaling and the heat–mass transfer analogy, compute the Nusselt number ($Nu$) and the Sherwood number ($Sh$). Then, form the ratio $Nu/Sh$ and compare it to the cube-root property ratio $(Pr/Sc)^{1/3}$ that is often assumed by the heat–mass transfer analogy. Report the absolute relative error\n$$\\left|\\frac{Nu/Sh-(Pr/Sc)^{1/3}}{(Pr/Sc)^{1/3}}\\right|$$\nas your final answer. Express the final answer exactly as a reduced rational number with no units.\n\nIn all steps, start from fundamental definitions of the Reynolds number ($Re$), the Prandtl number ($Pr$), the Schmidt number ($Sc$), the Nusselt number ($Nu$), and the Sherwood number ($Sh$), and use well-tested, widely accepted results from boundary-layer theory and the heat–mass transfer analogy to justify the correlation you select for $Nu$ and $Sh$. Provide a brief physical assessment of whether adopting $Nu/Sh\\approx (Pr/Sc)^{1/3}$ is justified under the specified conditions, but do not include this assessment in the final reported value. No rounding is required; report the exact rational value.",
            "solution": "The problem is first validated to ensure it is scientifically grounded, well-posed, and objective.\n\nThe given data are:\n- Droplet Reynolds number: $Re=121$.\n- Gas-phase Prandtl number: $Pr=0.729$.\n- Gas–vapor Schmidt number: $Sc=0.512$.\n\nThe problem is valid. It is a standard problem in transport phenomena and combustion theory, based on established principles and dimensionless numbers. The provided values are physically realistic, and the problem is well-defined, requesting a calculation based on a justified correlation.\n\nWe begin by defining the relevant dimensionless numbers. The Reynolds number, $Re = \\frac{\\rho u D}{\\mu}$, characterizes the flow regime. The Prandtl number, $Pr = \\frac{\\nu}{\\alpha} = \\frac{c_p \\mu}{k}$, is the ratio of momentum diffusivity to thermal diffusivity. The Schmidt number, $Sc = \\frac{\\nu}{D_{AB}}$, is the ratio of momentum diffusivity to mass diffusivity. The Nusselt number, $Nu = \\frac{h D}{k}$, represents the ratio of convective to conductive heat transfer. The Sherwood number, $Sh = \\frac{k_m D}{D_{AB}}$, represents the ratio of convective to diffusive mass transfer. Here, $\\rho$ is the gas density, $u$ is the free-stream velocity, $D$ is the droplet diameter, $\\mu$ is the dynamic viscosity, $\\nu=\\mu/\\rho$ is the kinematic viscosity, $k$ is the thermal conductivity, $c_p$ is the specific heat capacity, $\\alpha = k/(\\rho c_p)$ is the thermal diffusivity, $D_{AB}$ is the binary mass diffusivity, $h$ is the heat transfer coefficient, and $k_m$ is the mass transfer coefficient.\n\nThe problem requires a correlation for $Nu$ and $Sh$ that is justified from laminar boundary-layer scaling and the heat–mass transfer analogy. For external flow over a sphere, empirical correlations are typically used. A widely accepted form is the superposition of the purely diffusive limit (for a sphere in a quiescent medium, where $Re \\to 0$) and a convective term that dominates at higher $Re$. The diffusive limits are $Nu_0 = 2$ and $Sh_0 = 2$. The convective term, derived from boundary-layer theory, scales as $Re^{1/2}Pr^{1/3}$ for heat transfer and $Re^{1/2}Sc^{1/3}$ for mass transfer. The exponent $1/2$ on $Re$ and $1/3$ on $Pr$ or $Sc$ are classical results from laminar boundary-layer analysis.\n\nCombining these gives the general form $Nu = 2 + C Re^{1/2} Pr^{1/3}$ and $Sh = 2 + C Re^{1/2} Sc^{1/3}$, where $C$ is an empirical constant. The Ranz-Marshall correlation is a standard, well-validated instance of this form, using $C=0.6$. It is applicable for the given Reynolds number of $Re=121$. Thus, we will use:\n$$Nu = 2 + 0.6 Re^{\\frac{1}{2}} Pr^{\\frac{1}{3}}$$\n$$Sh = 2 + 0.6 Re^{\\frac{1}{2}} Sc^{\\frac{1}{3}}$$\n\nWe are given the values $Re=121$, $Pr=0.729$, and $Sc=0.512$. All calculations will be performed using exact rational numbers.\nFirst, we find the necessary roots:\n$Re^{\\frac{1}{2}} = \\sqrt{121} = 11$\n$Pr^{\\frac{1}{3}} = (0.729)^{\\frac{1}{3}} = \\left(\\frac{729}{1000}\\right)^{\\frac{1}{3}} = \\frac{\\sqrt[3]{729}}{\\sqrt[3]{1000}} = \\frac{9}{10}$\n$Sc^{\\frac{1}{3}} = (0.512)^{\\frac{1}{3}} = \\left(\\frac{512}{1000}\\right)^{\\frac{1}{3}} = \\frac{\\sqrt[3]{512}}{\\sqrt[3]{1000}} = \\frac{8}{10} = \\frac{4}{5}$\n\nNow, we compute $Nu$ and $Sh$:\n$Nu = 2 + 0.6 \\times 11 \\times \\frac{9}{10} = 2 + \\frac{6}{10} \\times 11 \\times \\frac{9}{10} = 2 + \\frac{594}{100} = \\frac{200}{100} + \\frac{594}{100} = \\frac{794}{100} = \\frac{397}{50}$\n$Sh = 2 + 0.6 \\times 11 \\times \\frac{8}{10} = 2 + \\frac{6}{10} \\times 11 \\times \\frac{8}{10} = 2 + \\frac{528}{100} = \\frac{200}{100} + \\frac{528}{100} = \\frac{728}{100} = \\frac{182}{25}$\n\nNext, we compute the ratio $Nu/Sh$:\n$\\frac{Nu}{Sh} = \\frac{397/50}{182/25} = \\frac{397}{50} \\times \\frac{25}{182} = \\frac{397}{2 \\times 182} = \\frac{397}{364}$\nThe number $397$ is prime, and $364 = 2^2 \\times 7 \\times 13$, so this fraction is fully reduced.\n\nThe heat–mass transfer analogy suggests the approximation $\\frac{Nu}{Sh} \\approx \\left(\\frac{Pr}{Sc}\\right)^{\\frac{1}{3}}$. We calculate the right-hand side of this approximation:\n$\\left(\\frac{Pr}{Sc}\\right)^{\\frac{1}{3}} = \\frac{Pr^{\\frac{1}{3}}}{Sc^{\\frac{1}{3}}} = \\frac{9/10}{8/10} = \\frac{9}{8}$\n\nFinally, we compute the absolute relative error as requested:\n$$\\left|\\frac{Nu/Sh-(Pr/Sc)^{1/3}}{(Pr/Sc)^{1/3}}\\right|$$\nThe difference in the numerator is:\n$\\frac{Nu}{Sh} - \\left(\\frac{Pr}{Sc}\\right)^{\\frac{1}{3}} = \\frac{397}{364} - \\frac{9}{8}$\nThe least common multiple of $364$ and $8$ is $728$.\n$\\frac{397 \\times 2}{364 \\times 2} - \\frac{9 \\times 91}{8 \\times 91} = \\frac{794}{728} - \\frac{819}{728} = -\\frac{25}{728}$\n\nNow, we compute the relative error:\n$\\frac{-25/728}{(Pr/Sc)^{1/3}} = \\frac{-25/728}{9/8} = -\\frac{25}{728} \\times \\frac{8}{9} = -\\frac{25}{91 \\times 9} = -\\frac{25}{819}$\nThe absolute relative error is the absolute value of this quantity:\n$\\left|-\\frac{25}{819}\\right| = \\frac{25}{819}$\nThe numerator is $25=5^2$. The denominator is $819 = 9 \\times 91 = 3^2 \\times 7 \\times 13$. There are no common factors, so the fraction is reduced.\n\nA brief physical assessment of the heat-mass transfer analogy is warranted. The analogy, expressed as $\\frac{Nu}{Sh} \\approx \\left(\\frac{Pr}{Sc}\\right)^{1/3}$, is derived from boundary-layer theory where convective transport is dominant. For our chosen correlation, this analogy would hold perfectly if\n$$ \\frac{2 + 0.6 Re^{1/2} Pr^{1/3}}{2 + 0.6 Re^{1/2} Sc^{1/3}} = \\frac{Pr^{1/3}}{Sc^{1/3}} $$\nThis equality is only satisfied if $Pr = Sc$ or if the constant term 2 is negligible compared to the convective term. The term 2 represents the contribution of pure molecular diffusion in a quiescent medium and is a key feature of transport from an isolated sphere. At $Re=121$, the convective term ($0.6 \\times 11 \\times Pr^{1/3} \\approx 5.94$) is larger than the diffusive term (2), but the diffusive term is not negligible. This is the source of the discrepancy. The calculated error of $\\frac{25}{819} \\approx 0.0305$, or about $3.05\\%$, indicates that the analogy is a good, but not exact, approximation under these conditions. The analogy becomes more accurate at much higher Reynolds numbers where the diffusive limit of 2 is increasingly insignificant.",
            "answer": "$$\\boxed{\\frac{25}{819}}$$"
        },
        {
            "introduction": "In this final practice, we transition from static analysis to dynamic simulation, reflecting the complexity of real-world systems. Droplets in practical combustion devices, such as a falling droplet in a furnace, experience changing relative velocities and thus a time-varying Reynolds number, $Re(t)$. This exercise challenges you to translate the fundamental physics of the $d^2$-law into a computational model, numerically integrating the time-dependent evaporation constant $K(t)$ to predict the entire lifetime of a droplet under dynamic conditions . This is a key skill for developing predictive computational fluid dynamics (CFD) sub-models.",
            "id": "4021801",
            "problem": "A spherical, single-component liquid droplet falls through a hot, quiescent gas. Assume quasi-steady, spherically symmetric mass transfer in the gas phase, constant gas properties, and negligible internal circulation in the droplet. The desired quantity is the time evolution of the squared droplet diameter, $d^2(t)$, under convection-enhanced mass transfer. Begin from species mass conservation and standard definitions, and treat the convective enhancement through a widely accepted correlation. The following base is to be used for derivation and numerical evaluation:\n\n- Conservation of species for quasi-steady evaporation from a sphere relates the mass flux at the droplet surface to a mass transfer coefficient and a driving potential.\n- The Sherwood number (dimensionless mass transfer coefficient), $Sh$, is defined by $Sh = \\dfrac{k_m d}{D_g}$, where $k_m$ is the mass transfer coefficient, $d$ is the droplet diameter, and $D_g$ is the gas-phase binary diffusivity.\n- The Reynolds number (ratio of inertial to viscous forces), $Re$, is defined based on the gas properties and relative motion; here it is provided as a function of time, $Re(t)$.\n- The Schmidt number (ratio of momentum diffusivity to mass diffusivity), $Sc$, is defined by $Sc = \\dfrac{\\nu_g}{D_g}$, with $\\nu_g$ the kinematic viscosity of the gas.\n- The Spalding mass transfer number, $B_m$, quantifies the evaporation driving potential in terms of mass fractions and is defined by $B_m = \\dfrac{Y_{vs} - Y_{\\infty}}{1 - Y_{vs}}$, where $Y_{vs}$ is the vapor mass fraction at the droplet surface and $Y_{\\infty}$ is the ambient vapor mass fraction in the far field.\n\nAdopt the widely accepted Ranz–Marshall correlation for convective mass transfer to estimate the Sherwood number along the given $Re(t)$ trajectory as $Sh(t) = 2 + 0.6\\,Re(t)^{1/2}\\,Sc^{1/3}$, which is consistent with laminar boundary layers around spheres for moderate $Re$. Using the above, compute $Sh(t)$, the evaporation constant $K(t)$ from first principles, and then obtain $d^2(t)$ via time integration given $d^2(0) = d_0^2$.\n\nThe program must implement the computation of $d^2(t)$ by numerically integrating the time-varying evaporation constant $K(t)$ over $t \\in [0,t_{\\mathrm{end}}]$ using a sufficiently resolved uniform time grid. The squared diameter $d^2(t)$ must be constrained to be nonnegative, i.e., if the integral predicts full evaporation before $t_{\\mathrm{end}}$, then set $d^2(t) = 0$ thereafter. Express final answers for $d^2(t_{\\mathrm{end}})$ in $\\mathrm{m^2}$ as floating-point values. Angles are not involved. The vapor mass fraction difference must be expressed as a decimal, not a percentage.\n\nTest suite and parameters:\n- Test case $1$ (happy path, moderate convection):\n  - $d_0 = 4.0 \\times 10^{-4}\\ \\mathrm{m}$\n  - $t_{\\mathrm{end}} = 1.0\\ \\mathrm{s}$\n  - $D_g = 2.0 \\times 10^{-5}\\ \\mathrm{m^2/s}$\n  - $\\rho_g = 0.7\\ \\mathrm{kg/m^3}$\n  - $\\rho_l = 800.0\\ \\mathrm{kg/m^3}$\n  - $Sc = 0.90$\n  - $Y_{vs} = 0.15$\n  - $Y_{\\infty} = 0.00$\n  - $Re(t) = 50.0$\n- Test case $2$ (boundary, stagnant gas film):\n  - $d_0 = 3.0 \\times 10^{-4}\\ \\mathrm{m}$\n  - $t_{\\mathrm{end}} = 0.5\\ \\mathrm{s}$\n  - $D_g = 2.0 \\times 10^{-5}\\ \\mathrm{m^2/s}$\n  - $\\rho_g = 0.8\\ \\mathrm{kg/m^3}$\n  - $\\rho_l = 820.0\\ \\mathrm{kg/m^3}$\n  - $Sc = 1.00$\n  - $Y_{vs} = 0.05$\n  - $Y_{\\infty} = 0.00$\n  - $Re(t) = 0.0$\n- Test case $3$ (increasing convection, linearly ramped $Re$):\n  - $d_0 = 5.0 \\times 10^{-4}\\ \\mathrm{m}$\n  - $t_{\\mathrm{end}} = 2.0\\ \\mathrm{s}$\n  - $D_g = 2.3 \\times 10^{-5}\\ \\mathrm{m^2/s}$\n  - $\\rho_g = 0.60\\ \\mathrm{kg/m^3}$\n  - $\\rho_l = 780.0\\ \\mathrm{kg/m^3}$\n  - $Sc = 0.85$\n  - $Y_{vs} = 0.20$\n  - $Y_{\\infty} = 0.02$\n  - $Re(t) = 200.0 \\dfrac{t}{t_{\\mathrm{end}}}$\n- Test case $4$ (edge case, possible complete evaporation):\n  - $d_0 = 1.0 \\times 10^{-4}\\ \\mathrm{m}$\n  - $t_{\\mathrm{end}} = 10.0\\ \\mathrm{s}$\n  - $D_g = 2.5 \\times 10^{-5}\\ \\mathrm{m^2/s}$\n  - $\\rho_g = 0.60\\ \\mathrm{kg/m^3}$\n  - $\\rho_l = 800.0\\ \\mathrm{kg/m^3}$\n  - $Sc = 0.90$\n  - $Y_{vs} = 0.30$\n  - $Y_{\\infty} = 0.00$\n  - $Re(t) = 100.0$\n\nRequired outputs:\n- For each test case, compute $d^2(t_{\\mathrm{end}})$ in $\\mathrm{m^2}$ as a floating-point value.\n- Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, for example, $[\\text{result}_1,\\text{result}_2,\\text{result}_3,\\text{result}_4]$.",
            "solution": "The problem requires the derivation and computation of the time evolution of the squared diameter, $d^2(t)$, of an evaporating liquid droplet under forced convection. The problem is scientifically well-grounded, self-contained, and well-posed. We proceed with the solution.\n\nThe derivation begins from the principle of mass conservation for the spherical liquid droplet. The rate of change of the droplet's mass, $m_l$, is equal to the negative of the mass evaporation rate, $\\dot{m}_e$.\n\nThe mass of a spherical droplet of diameter $d$ and constant liquid density $\\rho_l$ is given by:\n$$ m_l = \\rho_l V_l = \\rho_l \\frac{\\pi}{6} d^3 $$\nThe rate of change of this mass with respect to time $t$ is:\n$$ \\frac{dm_l}{dt} = \\frac{d}{dt} \\left( \\rho_l \\frac{\\pi}{6} d^3 \\right) = \\rho_l \\frac{\\pi}{6} \\left( 3d^2 \\frac{dd}{dt} \\right) = \\rho_l \\frac{\\pi}{2} d^2 \\frac{dd}{dt} $$\nTo express this in terms of the desired variable $d^2$, we use the chain rule: $\\frac{d(d^2)}{dt} = 2d \\frac{dd}{dt}$, which gives $\\frac{dd}{dt} = \\frac{1}{2d} \\frac{d(d^2)}{dt}$. Substituting this into the expression for $\\frac{dm_l}{dt}$ yields:\n$$ \\frac{dm_l}{dt} = \\rho_l \\frac{\\pi}{2} d^2 \\left( \\frac{1}{2d} \\frac{d(d^2)}{dt} \\right) = \\frac{\\pi \\rho_l d}{4} \\frac{d(d^2)}{dt} $$\n\nNext, we formulate the mass evaporation rate, $\\dot{m}_e$, from the gas-phase transport phenomena. For a droplet in a stagnant medium ($Re=0$), the quasi-steady evaporation rate is given by the classical Stefan flow solution:\n$$ \\dot{m}_{e, ref} = 2 \\pi d \\rho_g D_g \\ln(1 + B_m) $$\nwhere $\\rho_g$ is the gas density, $D_g$ is the gas-phase binary diffusivity, and $B_m$ is the Spalding mass transfer number. $B_m$ is a dimensionless driving potential for mass transfer, defined as:\n$$ B_m = \\frac{Y_{vs} - Y_{\\infty}}{1 - Y_{vs}} $$\nHere, $Y_{vs}$ is the vapor mass fraction at the droplet surface and $Y_{\\infty}$ is the ambient vapor mass fraction.\n\nForced convection enhances the mass transfer rate. This enhancement is quantified by the Sherwood number, $Sh$. The evaporation rate in the presence of convection, $\\dot{m}_e$, is related to the stagnant reference rate by multiplying by a convective correction factor, commonly taken as $Sh/2$.\n$$ \\dot{m}_e = \\dot{m}_{e, ref} \\left( \\frac{Sh}{2} \\right) = \\left( 2 \\pi d \\rho_g D_g \\ln(1 + B_m) \\right) \\left( \\frac{Sh}{2} \\right) = \\pi d \\rho_g D_g Sh \\ln(1 + B_m) $$\nThe problem provides the Ranz-Marshall correlation for the Sherwood number, which is a function of the Reynolds number, $Re(t)$, and the Schmidt number, $Sc$:\n$$ Sh(t) = 2 + 0.6 \\, Re(t)^{1/2} \\, Sc^{1/3} $$\nThis correlation correctly yields $Sh=2$ for the stagnant case ($Re=0$), recovering the reference evaporation rate.\n\nNow, we equate the two expressions by applying mass conservation, $\\frac{dm_l}{dt} = -\\dot{m}_e$:\n$$ \\frac{\\pi \\rho_l d}{4} \\frac{d(d^2)}{dt} = - \\left( \\pi d \\rho_g D_g Sh(t) \\ln(1 + B_m) \\right) $$\nAssuming the droplet has not fully evaporated ($d > 0$), we can cancel the term $\\pi d$ from both sides:\n$$ \\frac{\\rho_l}{4} \\frac{d(d^2)}{dt} = - \\rho_g D_g Sh(t) \\ln(1 + B_m) $$\nRearranging this gives the ordinary differential equation for the evolution of the squared diameter, known as the d-squared law:\n$$ \\frac{d(d^2)}{dt} = - \\frac{4 \\rho_g D_g}{\\rho_l} Sh(t) \\ln(1 + B_m) $$\nThis is of the form $\\frac{d(d^2)}{dt} = -K(t)$, where $K(t)$ is the time-varying evaporation constant:\n$$ K(t) = \\frac{4 \\rho_g D_g}{\\rho_l} \\ln(1 + B_m) \\left( 2 + 0.6 \\, Re(t)^{1/2} \\, Sc^{1/3} \\right) $$\nSince all properties ($\\rho_g$, $D_g$, $\\rho_l$, $Sc$, $Y_{vs}$, $Y_{\\infty}$) are assumed constant, $B_m$ is constant for each case, and $K(t)$ varies with time only through the given function $Re(t)$.\n\nTo find the squared diameter at a final time $t_{\\mathrm{end}}$, we integrate the differential equation from $t=0$ to $t=t_{\\mathrm{end}}$:\n$$ \\int_{d^2(0)}^{d^2(t_{\\mathrm{end}})} d(d^2) = - \\int_{0}^{t_{\\mathrm{end}}} K(t) dt $$\n$$ d^2(t_{\\mathrm{end}}) - d^2(0) = - \\int_{0}^{t_{\\mathrm{end}}} K(t) dt $$\nWith the initial condition $d^2(0) = d_0^2$, the final squared diameter is:\n$$ d^2(t_{\\mathrm{end}}) = d_0^2 - \\int_{0}^{t_{\\mathrm{end}}} K(t) dt $$\n\nThe computational procedure is as follows:\n$1$. For each test case, retrieve the given parameters: $d_0$, $t_{\\mathrm{end}}$, $D_g$, $\\rho_g$, $\\rho_l$, $Sc$, $Y_{vs}$, $Y_{\\infty}$, and the function for $Re(t)$.\n$2$. Calculate the constant Spalding number $B_m$.\n$3$. Create a uniform time grid from $t=0$ to $t_{\\mathrm{end}}$ with a sufficiently large number of points, $N$, to ensure numerical accuracy.\n$4$. Evaluate the function $Re(t)$ at each point on the time grid.\n$5$. Using the values of $Re(t)$ and the constant $Sc$, evaluate the evaporation constant $K(t)$ at each point on the time grid using the derived formula.\n$6$. Numerically compute the definite integral of $K(t)$ from $0$ to $t_{\\mathrm{end}}$ using the trapezoidal rule.\n$7$. Calculate the final squared diameter using $d^2(t_{\\mathrm{end}}) = d_0^2 - \\text{integral}$.\n$8$. Enforce the physical constraint that the squared diameter cannot be negative. If the calculated value is less than $0$, the result is set to $0$, signifying complete evaporation. This is achieved by taking $\\max(0, d^2(t_{\\mathrm{end}}))$.\nThis procedure will be implemented for each test case provided.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy.integrate import trapezoid\n\ndef solve():\n    \"\"\"\n    Solves the droplet evaporation problem for a suite of test cases.\n    \"\"\"\n\n    # Test cases as defined in the problem statement.\n    test_cases = [\n        {\n            \"d0\": 4.0e-4, \"t_end\": 1.0, \"Dg\": 2.0e-5, \"rho_g\": 0.7, \"rho_l\": 800.0,\n            \"Sc\": 0.90, \"Yvs\": 0.15, \"Yinf\": 0.00, \"Re_func\": lambda t, t_end: 50.0\n        },\n        {\n            \"d0\": 3.0e-4, \"t_end\": 0.5, \"Dg\": 2.0e-5, \"rho_g\": 0.8, \"rho_l\": 820.0,\n            \"Sc\": 1.00, \"Yvs\": 0.05, \"Yinf\": 0.00, \"Re_func\": lambda t, t_end: 0.0\n        },\n        {\n            \"d0\": 5.0e-4, \"t_end\": 2.0, \"Dg\": 2.3e-5, \"rho_g\": 0.60, \"rho_l\": 780.0,\n            \"Sc\": 0.85, \"Yvs\": 0.20, \"Yinf\": 0.02, \"Re_func\": lambda t, t_end: 200.0 * t / t_end if t_end > 0 else 0.0\n        },\n        {\n            \"d0\": 1.0e-4, \"t_end\": 10.0, \"Dg\": 2.5e-5, \"rho_g\": 0.60, \"rho_l\": 800.0,\n            \"Sc\": 0.90, \"Yvs\": 0.30, \"Yinf\": 0.00, \"Re_func\": lambda t, t_end: 100.0\n        }\n    ]\n\n    results = []\n    \n    # Number of time steps for numerical integration.\n    # This value is chosen to be large enough for a highly resolved grid.\n    N_steps = 20000\n\n    for case in test_cases:\n        d0 = case[\"d0\"]\n        t_end = case[\"t_end\"]\n        Dg = case[\"Dg\"]\n        rho_g = case[\"rho_g\"]\n        rho_l = case[\"rho_l\"]\n        Sc = case[\"Sc\"]\n        Yvs = case[\"Yvs\"]\n        Yinf = case[\"Yinf\"]\n        Re_func = case[\"Re_func\"]\n\n        # Calculate initial squared diameter\n        d2_0 = d0**2\n\n        # Spalding mass transfer number Bm must be positive.\n        # Check to avoid division by zero or invalid log domain if Yvs is 1.\n        if Yvs >= 1.0:\n            # Physically unrealistic scenario, evaporation would be instantaneous/infinite rate\n            results.append(0.0)\n            continue\n            \n        Bm = (Yvs - Yinf) / (1.0 - Yvs)\n\n        # Create a uniform time grid for integration\n        t_grid = np.linspace(0, t_end, N_steps)\n\n        # Vectorized calculation over the time grid\n        # 1. Reynolds number as a function of time\n        Re_t = np.array([Re_func(t, t_end) for t in t_grid])\n\n        # 2. Sherwood number Sh(t) using Ranz-Marshall correlation\n        Sh_t = 2.0 + 0.6 * np.sqrt(Re_t) * (Sc**(1.0/3.0))\n\n        # 3. Time-varying evaporation constant K(t)\n        # K(t) = (4 * rho_g * Dg / rho_l) * Sh(t) * ln(1 + Bm)\n        K_t = (4.0 * rho_g * Dg / rho_l) * np.log(1.0 + Bm) * Sh_t\n\n        # 4. Numerically integrate K(t) over the interval [0, t_end]\n        integral_K = trapezoid(y=K_t, x=t_grid)\n\n        # 5. Calculate final squared diameter\n        d2_final = d2_0 - integral_K\n\n        # 6. Enforce non-negativity constraint\n        results.append(max(0.0, d2_final))\n\n    # Format the final output as a comma-separated list in brackets.\n    print(f\"[{','.join(f'{r:.8e}' for r in results)}]\")\n\nsolve()\n```"
        }
    ]
}