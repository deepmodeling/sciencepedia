{
    "hands_on_practices": [
        {
            "introduction": "The kinetic-controlled regime is fundamentally characterized by its high sensitivity to temperature. This exercise  provides a direct, quantitative exploration of this principle by using the Arrhenius equation to determine how much the temperature must change to double the reaction rate. Working through this calculation will build your intuition for why kinetics dominate at lower temperatures and how profoundly the activation energy, $E_a$, governs this behavior.",
            "id": "4011460",
            "problem": "A single spherical char particle is oxidizing in an oxygen-rich environment. In the kinetic-controlled limit, the intrinsic surface reaction rate constant for char oxidation is modeled by the Arrhenius relation $k_{s}(T)=A\\exp\\!\\left(-E_{a}/(R\\,T)\\right)$, where $A$ is the pre-exponential factor, $E_{a}$ is the activation energy, $R$ is the universal gas constant, and $T$ is the absolute temperature. Consider a narrow temperature interval over which $A$ can be treated as constant. Let the reference temperature be $T_{1}=1100$ K and the activation energy be $E_{a}=1.20\\times 10^{5}$ J/mol. Using the above physical model as the starting point, determine the temperature $T_{2}$ at which the intrinsic surface reaction rate constant doubles relative to its value at $T_{1}$ by solving $k_{s}(T_{2})/k_{s}(T_{1})=2$. Use $R=8.314$ J/(mol·K). Round your final value of $T_{2}$ to four significant figures and express it in kelvin (K).\n\nAdditionally, explain, based on your derived expression, whether the temperature increment required to double the intrinsic rate is more or less sensitive to the magnitude of $E_{a}$, and relate this sensitivity to expectations in kinetic-controlled versus diffusion-controlled oxidation regimes of char without performing any further numerical calculations.",
            "solution": "The problem is validated as scientifically grounded, well-posed, objective, and complete. All provided data and models are standard in the field of combustion science and chemical kinetics. The problem is solvable as stated.\n\nThe intrinsic surface reaction rate constant, $k_{s}$, is given by the Arrhenius relation:\n$$k_{s}(T) = A\\exp\\left(-\\frac{E_{a}}{RT}\\right)$$\nwhere $A$ is the pre-exponential factor, $E_{a}$ is the activation energy, $R$ is the universal gas constant, and $T$ is the absolute temperature.\n\nWe are given the condition that the rate constant at temperature $T_{2}$ is double its value at temperature $T_{1}$. Mathematically, this is expressed as:\n$$\\frac{k_{s}(T_{2})}{k_{s}(T_{1})} = 2$$\n\nLet's write out the expressions for $k_{s}(T_{1})$ and $k_{s}(T_{2})$:\n$$k_{s}(T_{1}) = A\\exp\\left(-\\frac{E_{a}}{RT_{1}}\\right)$$\n$$k_{s}(T_{2}) = A\\exp\\left(-\\frac{E_{a}}{RT_{2}}\\right)$$\n\nSubstituting these into the ratio gives:\n$$\\frac{A\\exp\\left(-\\frac{E_{a}}{RT_{2}}\\right)}{A\\exp\\left(-\\frac{E_{a}}{RT_{1}}\\right)} = 2$$\n\nThe pre-exponential factor $A$ cancels out. Using the property of exponential functions $\\exp(x)/\\exp(y) = \\exp(x-y)$, we get:\n$$\\exp\\left(-\\frac{E_{a}}{RT_{2}} - \\left(-\\frac{E_{a}}{RT_{1}}\\right)\\right) = 2$$\n$$\\exp\\left(\\frac{E_{a}}{R}\\left(\\frac{1}{T_{1}} - \\frac{1}{T_{2}}\\right)\\right) = 2$$\n\nTo solve for $T_{2}$, we take the natural logarithm of both sides of the equation:\n$$\\frac{E_{a}}{R}\\left(\\frac{1}{T_{1}} - \\frac{1}{T_{2}}\\right) = \\ln(2)$$\n\nNow, we isolate the term containing $T_{2}$:\n$$\\frac{1}{T_{1}} - \\frac{1}{T_{2}} = \\frac{R\\ln(2)}{E_{a}}$$\n$$\\frac{1}{T_{2}} = \\frac{1}{T_{1}} - \\frac{R\\ln(2)}{E_{a}}$$\n\nFinally, we invert the expression to obtain the solution for $T_{2}$:\n$$T_{2} = \\left(\\frac{1}{T_{1}} - \\frac{R\\ln(2)}{E_{a}}\\right)^{-1}$$\n\nNow, we substitute the given numerical values:\n- $T_{1} = 1100$ K\n- $E_{a} = 1.20 \\times 10^{5}$ J/mol\n- $R = 8.314$ J/(mol·K)\n\nFirst, calculate the value of the term $\\frac{R\\ln(2)}{E_{a}}$:\n$$\\frac{R\\ln(2)}{E_{a}} = \\frac{8.314 \\times \\ln(2)}{1.20 \\times 10^{5}} \\approx \\frac{8.314 \\times 0.693147}{1.20 \\times 10^{5}} \\approx 4.80216 \\times 10^{-5} \\text{ K}^{-1}$$\n\nNext, calculate $\\frac{1}{T_{1}}$:\n$$\\frac{1}{T_{1}} = \\frac{1}{1100} \\approx 9.09091 \\times 10^{-4} \\text{ K}^{-1}$$\n\nSubstitute these values back into the expression for $\\frac{1}{T_{2}}$:\n$$\\frac{1}{T_{2}} \\approx (9.09091 \\times 10^{-4}) - (0.480216 \\times 10^{-4}) = 8.61069 \\times 10^{-4} \\text{ K}^{-1}$$\n\nTherefore, $T_{2}$ is:\n$$T_{2} = \\frac{1}{8.61069 \\times 10^{-4}} \\approx 1161.349 \\text{ K}$$\n\nRounding the final value to four significant figures as requested, we get $T_{2} = 1161$ K.\n\nThe second part of the problem asks for an explanation of the sensitivity of the temperature increment, $\\Delta T = T_{2} - T_{1}$, to the magnitude of the activation energy $E_{a}$, and its relation to kinetic versus diffusion-controlled regimes.\n\nFrom the derived expression for $T_{2}$, we can analyze the temperature increment $\\Delta T$:\n$$\\Delta T = T_{2} - T_{1} = \\left(\\frac{1}{T_1} - \\frac{R \\ln(2)}{E_{a}}\\right)^{-1} - T_1$$\nLet's analyze the term $\\frac{R \\ln(2)}{E_{a}}$. As the activation energy $E_{a}$ increases, this term decreases. Consequently, the denominator $\\left(\\frac{1}{T_1} - \\frac{R \\ln(2)}{E_{a}}\\right)$ increases, approaching $\\frac{1}{T_{1}}$. This means that $T_{2}$ decreases, approaching $T_{1}$. Therefore, the temperature increment $\\Delta T = T_{2} - T_{1}$ decreases as $E_{a}$ increases.\nThis signifies that for a reaction with a higher activation energy, a smaller increase in temperature is required to achieve the same relative increase (doubling) in the reaction rate constant. In other words, the intrinsic reaction rate is more sensitive to temperature when the activation energy is large.\n\nThis finding directly relates to the different regimes of char oxidation:\n1.  **Kinetic-Controlled Regime:** This regime dominates at lower temperatures, where the overall rate of oxidation is limited by the intrinsic speed of the chemical reaction on the char surface. Surface chemical reactions, involving the breaking and forming of chemical bonds, are characterized by a high activation energy, $E_{a}$. Based on our analysis, a high $E_{a}$ implies a strong dependence of the reaction rate on temperature. This is a defining characteristic of the kinetic-controlled regime.\n2.  **Diffusion-Controlled Regime:** This regime occurs at very high temperatures. The intrinsic chemical reaction is so fast that the overall process is limited by the rate at which the gaseous oxidant (e.g., oxygen) can be transported from the bulk fluid to the particle surface. Mass diffusion is a physical transport process, not a chemical reaction, and its temperature dependence is much weaker than that of a chemical reaction. The effective activation energy for diffusion is very low. According to our analysis, a low $E_{a}$ implies a weak dependence of the rate on temperature (a larger $\\Delta T$ is needed to double the rate). This low sensitivity to temperature is a hallmark of the diffusion-controlled regime.\n\nIn summary, the derived mathematical relationship confirms the fundamental principle that the strong temperature sensitivity of char oxidation in the kinetic-controlled regime is due to its high activation energy, whereas the weak temperature sensitivity in the diffusion-controlled regime is due to the low effective activation energy of the rate-limiting mass transfer process.",
            "answer": "$$\n\\boxed{1161}\n$$"
        },
        {
            "introduction": "Bridging theory and practice requires recognizing how different rate-limiting steps manifest in experimental data. This problem  challenges you to act like an experimentalist, identifying the unique \"fingerprints\" that distinguish a diffusion-controlled, shrinking-core particle from a kinetically-controlled, uniformly reacting one. Successfully analyzing these signatures—from mass loss curves to product gas ratios—is a critical skill for diagnosing combustion behavior in real systems.",
            "id": "4011438",
            "problem": "A spherical porous char particle of initial radius $R_0$ is oxidized isothermally in a well-mixed flow reactor at temperature $T$ and oxygen mass fraction $Y_{\\mathrm{O_2}}$. Two mechanistic limits are often invoked in computational combustion for char oxidation: a shrinking-core behavior dominated by external diffusion of oxidizer to the particle surface, and a uniform-reaction behavior dominated by intrinsic kinetics within the porous network. Assume the gas-phase is not depleted globally, but near-particle transport can be rate-limiting.\n\nFrom first principles, consider the following bases:\n- Mass conservation for the solid phase, with $m(t) = \\rho_p \\frac{4}{3}\\pi R(t)^3$, where $m(t)$ is the particle mass, $\\rho_p$ is the char density, and $R(t)$ is the instantaneous particle radius.\n- External diffusion-controlled flux scaling from Fick's law, $J_{\\mathrm{O_2}} \\sim k_g\\left(Y_{\\mathrm{O_2},\\infty} - Y_{\\mathrm{O_2},s}\\right)$, where $k_g$ is a gas-side mass transfer coefficient, $Y_{\\mathrm{O_2},\\infty}$ is the bulk oxygen mass fraction, and $Y_{\\mathrm{O_2},s}$ is the near-surface oxygen mass fraction.\n- Intrinsic kinetic control described by Arrhenius temperature dependence, $k(T) = A\\exp\\left(-E_a/(R_u T)\\right)$, where $A$ is a pre-exponential factor, $E_a$ is the activation energy, and $R_u$ is the universal gas constant.\n- Competing heterogeneous pathways, $\\mathrm{C} + \\frac{1}{2}\\mathrm{O_2} \\to \\mathrm{CO}$ and $\\mathrm{C} + \\mathrm{O_2} \\to \\mathrm{CO_2}$, along with possible subsequent homogeneous oxidation $\\mathrm{CO} + \\frac{1}{2}\\mathrm{O_2} \\to \\mathrm{CO_2}$ in the surrounding gas.\n\nYou measure three experimental observables under otherwise identical conditions across particle sizes: the thermogravimetric mass change curve $m(t)$, the temperature dependence of the overall mass-loss rate (characterized by an apparent activation energy $E_{\\mathrm{app}}$ extracted from Arrhenius-type analysis of the rate), and the outlet ratio of carbon monoxide to carbon dioxide $\\mathrm{CO}/\\mathrm{CO_2}$.\n\nWhich option correctly states the experimental signatures that discriminate shrinking-core diffusion control from uniform-reaction kinetic control?\n\nA. Shrinking-core diffusion control yields $m(t)^{1/3}$ decreasing linearly with $t$; the apparent activation energy $E_{\\mathrm{app}}$ is weak because external diffusion dominates; and the outlet $\\mathrm{CO}/\\mathrm{CO_2}$ ratio is comparatively large and increases with particle size. Uniform-reaction kinetic control yields a straight line in $\\ln m(t)$ versus $t$; $E_{\\mathrm{app}}$ is strong due to intrinsic kinetics; and $\\mathrm{CO}/\\mathrm{CO_2}$ is lower and weakly dependent on particle size.\n\nB. Shrinking-core diffusion control yields $m(t)$ decreasing linearly with $t$; $E_{\\mathrm{app}}$ is strong; and $\\mathrm{CO}/\\mathrm{CO_2}$ is lower. Uniform-reaction kinetic control yields $\\ln m(t)$ versus $t$ as a downward-curving function; $E_{\\mathrm{app}}$ is weak; and $\\mathrm{CO}/\\mathrm{CO_2}$ is higher.\n\nC. Shrinking-core diffusion control yields $m(t)^{1/3}$ decreasing linearly with $t$ but with strong $E_{\\mathrm{app}}$ due to surface reaction; and $\\mathrm{CO}/\\mathrm{CO_2}$ is lower and insensitive to particle size. Uniform-reaction kinetic control yields $m(t)$ decreasing linearly with $t$; $E_{\\mathrm{app}}$ is weak; and $\\mathrm{CO}/\\mathrm{CO_2}$ is higher.\n\nD. Both shrinking-core diffusion control and uniform-reaction kinetic control yield exponential $m(t)$ decay; both regimes show strong $E_{\\mathrm{app}}$; and $\\mathrm{CO}/\\mathrm{CO_2}$ is independent of particle size and mechanism.",
            "solution": "The problem statement is found to be valid. It describes a well-established topic in combustion science—the oxidation of char particles—and asks for a qualitative distinction between two limiting regimes based on standard physical and chemical principles. The problem is scientifically sound, well-posed, objective, and contains sufficient information for a rigorous analysis.\n\nThe task is to determine the experimental signatures for three observables—mass change $m(t)$, apparent activation energy $E_{\\mathrm{app}}$, and outlet $\\mathrm{CO}/\\mathrm{CO_2}$ ratio—that distinguish between two limiting cases of char oxidation: shrinking-core diffusion control and uniform-reaction kinetic control.\n\n### Analysis of Shrinking-Core Diffusion Control\n\nThis regime, also known as Regime III, occurs when the intrinsic chemical reaction is very fast compared to the rate of oxidant diffusion from the bulk gas to the particle's external surface. This is typically observed at high temperatures or for large particles.\n\n1.  **Mass Change Curve $m(t)$**:\n    The reaction is confined to the external surface of the particle. The rate of mass loss of the carbon particle, $\\frac{dm}{dt}$, is determined by the rate at which oxygen reaches the surface. The total mass consumption rate is the product of the oxygen mass flux, $J_{\\mathrm{O_2}}$, the particle surface area, $A_p(t) = 4\\pi R(t)^2$, and a stoichiometric factor, $\\phi_C$, which relates the mass of carbon consumed to the mass of oxygen supplied.\n    $$ \\frac{dm}{dt} = - \\phi_C J_{\\mathrm{O_2}} A_p(t) $$\n    In the diffusion-controlled limit, the oxygen concentration at the surface is nearly zero, $Y_{\\mathrm{O_2},s} \\approx 0$. The flux is then given by $J_{\\mathrm{O_2}} = \\rho_g k_g Y_{\\mathrm{O_2},\\infty}$, where $\\rho_g$ is the gas density and $k_g$ is the mass transfer coefficient. For a particle in a convective flow (as in a \"well-mixed flow reactor\"), a common simplification is to assume the boundary layer thickness is determined by the flow, not the particle size, rendering $k_g$ approximately constant.\n    The rate expression becomes:\n    $$ \\frac{dm}{dt} = - C_1 A_p(t) = -C_1 (4\\pi R(t)^2) $$\n    where $C_1 = \\phi_C \\rho_g k_g Y_{\\mathrm{O_2},\\infty}$ is a constant under isothermal conditions with constant bulk oxygen fraction.\n    The mass of the spherical particle is $m(t) = \\rho_p \\frac{4}{3}\\pi R(t)^3$, where the particle density $\\rho_p$ is constant. Differentiating with respect to time gives:\n    $$ \\frac{dm}{dt} = \\rho_p \\frac{4}{3}\\pi \\left(3 R(t)^2 \\frac{dR}{dt}\\right) = \\rho_p 4\\pi R(t)^2 \\frac{dR}{dt} $$\n    Equating the two expressions for $\\frac{dm}{dt}$:\n    $$ \\rho_p 4\\pi R(t)^2 \\frac{dR}{dt} = -C_1 4\\pi R(t)^2 $$\n    $$ \\frac{dR}{dt} = -\\frac{C_1}{\\rho_p} = -\\text{constant} $$\n    Integrating this equation yields $R(t) = R_0 - C_2 t$, where $C_2$ is a constant. The radius decreases linearly with time. Since $m(t) \\propto R(t)^3$, the cube root of the mass, $m(t)^{1/3} \\propto R(t)$, will also decrease linearly with time.\n\n2.  **Apparent Activation Energy $E_{\\mathrm{app}}$**:\n    The rate-limiting step is external mass transfer. The mass transfer coefficient $k_g$ depends on gas properties, primarily the mass diffusivity $\\mathcal{D}$. The temperature dependence of diffusivity in gases is weak, typically following a power law like $\\mathcal{D} \\propto T^{n}$ with $n \\approx 1.5 - 1.75$. When the overall rate, which is proportional to $k_g$, is fitted to an Arrhenius form, Rate $\\propto \\exp(-E_{\\mathrm{app}}/(R_u T))$, the resulting apparent activation energy $E_{\\mathrm{app}}$ is very small compared to typical chemical activation energies. For example, if Rate $\\propto T^{1.75}$, then $E_{\\mathrm{app}} = 1.75 R_u T$, which is only a few kJ/mol. Thus, a signature of diffusion control is a weak apparent activation energy.\n\n3.  **Outlet $\\mathrm{CO}/\\mathrm{CO_2}$ Ratio**:\n    At the high temperatures characteristic of diffusion control, the primary product of the heterogeneous reaction is carbon monoxide ($\\mathrm{CO}$). This $\\mathrm{CO}$ desorbs from the surface and diffuses outwards, while $\\mathrm{O_2}$ diffuses inwards. In the boundary layer surrounding the particle, the homogeneous reaction $\\mathrm{CO} + \\frac{1}{2}\\mathrm{O_2} \\to \\mathrm{CO_2}$ can occur. For larger particles, the overall carbon consumption rate is higher, leading to a more severe depletion of $\\mathrm{O_2}$ in the boundary layer. This oxygen-starved environment inhibits the homogeneous oxidation of $\\mathrm{CO}$, allowing more $\\mathrm{CO}$ to escape to the bulk gas. Therefore, the outlet $\\mathrm{CO}/\\mathrm{CO_2}$ ratio is expected to be relatively large and to increase with increasing particle size.\n\n### Analysis of Uniform-Reaction Kinetic Control\n\nThis regime, also known as Regime I, occurs when diffusion is very fast compared to the intrinsic chemical reaction rate. This is typical for low temperatures or very small, highly porous particles. The oxidant has access to the entire internal pore network.\n\n1.  **Mass Change Curve $m(t)$**:\n    The reaction occurs uniformly throughout the particle's volume on the vast internal surface area. A common and effective model for this regime assumes that the overall reaction rate is proportional to the total mass of the reactant (char) available.\n    $$ \\frac{dm}{dt} = -k_{eff} \\cdot m(t) $$\n    where $k_{eff}$ is an effective first-order rate constant that depends on the intrinsic kinetics, temperature, and oxygen concentration. Since the problem specifies isothermal conditions and constant bulk $Y_{\\mathrm{O_2}}$, $k_{eff}$ is constant. This is a first-order ordinary differential equation, and its solution is an exponential decay:\n    $$ m(t) = m_0 \\exp(-k_{eff} t) $$\n    Taking the natural logarithm of both sides gives:\n    $$ \\ln(m(t)) = \\ln(m_0) - k_{eff} t $$\n    This implies that a plot of $\\ln(m(t))$ versus time $t$ will be a straight line with a negative slope.\n\n2.  **Apparent Activation Energy $E_{\\mathrm{app}}$**:\n    The rate is governed by the intrinsic chemical kinetics. The rate constant follows the Arrhenius law, $k(T) = A\\exp(-E_a/(R_u T))$. The overall rate is directly proportional to this intrinsic rate constant. Therefore, the measured apparent activation energy $E_{\\mathrm{app}}$ will be equal to the true chemical activation energy $E_a$ of the char oxidation reaction.\n    $$ E_{\\mathrm{app}} = -R_u \\frac{d(\\ln(\\text{Rate}))}{d(1/T)} = E_a $$\n    Chemical activation energies for char-oxygen reactions are significant, typically in the range of $80-200$ kJ/mol. Thus, a signature of kinetic control is a strong apparent activation energy.\n\n3.  **Outlet $\\mathrm{CO}/\\mathrm{CO_2}$ Ratio**:\n    This regime occurs at lower temperatures. At these temperatures, the surface chemistry often favors the formation of a more stable complex that desorbs as $\\mathrm{CO_2}$, or the primary $\\mathrm{CO}/\\mathrm{CO_2}$ production ratio is lower than at high temperatures. Furthermore, because the reaction is slow, the particle exists in an oxygen-rich environment ($Y_{\\mathrm{O_2},s} \\approx Y_{\\mathrm{O_2},\\infty}$). Any $\\mathrm{CO}$ that might be formed has a high probability of being oxidized to $\\mathrm{CO_2}$ either within the pores or near the particle surface where oxygen is abundant. Transport limitations are, by definition, negligible, so particle size has little effect on the product gas composition. Consequently, the outlet $\\mathrm{CO}/\\mathrm{CO_2}$ ratio is expected to be lower than in the diffusion-controlled case and to be weakly dependent on particle size.\n\n### Evaluation of Options\n\n*   **Option A**:\n    -   Shrinking-core: Predicts $m(t)^{1/3}$ linear with $t$, weak $E_{\\mathrm{app}}$, and a large $\\mathrm{CO}/\\mathrm{CO_2}$ ratio that increases with particle size. This is **Correct**.\n    -   Uniform-reaction: Predicts linear $\\ln m(t)$ with $t$, strong $E_{\\mathrm{app}}$, and a lower, size-independent $\\mathrm{CO}/\\mathrm{CO_2}$ ratio. This is **Correct**.\n    The statements for both regimes align perfectly with the analysis.\n\n*   **Option B**:\n    -   Shrinking-core: Claims $m(t)$ is linear with $t$ (incorrect), $E_{\\mathrm{app}}$ is strong (incorrect), and $\\mathrm{CO}/\\mathrm{CO_2}$ is lower (incorrect). This is **Incorrect**.\n    -   Uniform-reaction: Claims $\\ln m(t)$ is a downward-curving function (incorrect, it's linear in the standard model), $E_{\\mathrm{app}}$ is weak (incorrect), and $\\mathrm{CO}/\\mathrm{CO_2}$ is higher (incorrect). This is **Incorrect**.\n\n*   **Option C**:\n    -   Shrinking-core: Claims strong $E_{\\mathrm{app}}$ (incorrect) and a lower, insensitive $\\mathrm{CO}/\\mathrm{CO_2}$ ratio (incorrect). This is **Incorrect**.\n    -   Uniform-reaction: Claims $m(t)$ is linear with $t$ (incorrect), $E_{\\mathrm{app}}$ is weak (incorrect), and $\\mathrm{CO}/\\mathrm{CO_2}$ is higher (incorrect). This is **Incorrect**.\n\n*   **Option D**:\n    -   Claims both have exponential $m(t)$ decay (incorrect) and strong $E_{\\mathrm{app}}$ (incorrect). It also claims the $\\mathrm{CO}/\\mathrm{CO_2}$ ratio is independent of mechanism and particle size (incorrect). This is **Incorrect**.\n\nBased on the detailed derivation from first principles, Option A provides a completely accurate description of the contrasting experimental signatures for the two limiting regimes of char oxidation.",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "In practical systems, char particles are not uniform but exist as a distribution of sizes, each potentially in a different combustion regime. This computational exercise  integrates the concepts of kinetics, external mass transfer, and internal diffusion into a single, powerful model. By calculating the Damköhler number and the internal effectiveness factor, you will learn how to classify an entire population of particles and quantify the prevalence of each controlling regime under specific operating conditions.",
            "id": "4011441",
            "problem": "A single, spherical carbonaceous particle undergoing heterogeneous oxidation by molecular oxygen is subjected to gas flow. For a population of such particles with a specified size distribution, determine the number-weighted fractions of particles in kinetic control versus diffusion control, by evaluating the external Damköhler number and the internal effectiveness factor across particle sizes. Your program must implement a physically grounded model adhering to first principles of mass transfer and reaction kinetics in heterogeneous combustion, starting from the following fundamental bases without using any pre-derived target formulas: Fickian diffusion and film theory as embodied in dimensionless mass transfer correlations, the Ideal Gas Law, and Arrhenius kinetics for heterogeneous reactions.\n\nDefinitions to be used in the derivation and implementation:\n- External mass transfer is characterized by the Sherwood number $\\mathrm{Sh}$, Reynolds number $\\mathrm{Re}$, and Schmidt number $\\mathrm{Sc}$.\n- The external mass transfer coefficient $k_g(d_p)$ depends on particle diameter $d_p$ and gas transport properties.\n- The surface reaction rate coefficient $k_s$ follows Arrhenius kinetics at the particle surface temperature.\n- Internal transport inside the porous char is represented by an effective diffusivity and a first-order volumetric reaction rate, leading to a Thiele modulus $\\phi(d_p)$ and an internal effectiveness factor $\\eta(d_p)$.\n\nRegime classification must be performed per particle size $d_p$ using the following criteria:\n- Kinetic-controlled if $Da_{\\text{ext}}(d_p) < 0.1$ and $\\eta(d_p) > 0.9$.\n- External-film-controlled if $Da_{\\text{ext}}(d_p) > 10$ and $\\eta(d_p) > 0.9$.\n- Internal-diffusion-controlled if $\\eta(d_p) < 0.5$ and $Da_{\\text{ext}}(d_p) \\le 10$.\n- Mixed-control otherwise.\n\nYour program must:\n- Compute $Da_{\\text{ext}}(d_p)$ and $\\eta(d_p)$ for each particle diameter in each test case.\n- Classify each particle diameter using the above criteria.\n- Aggregate number-weighted fractions for each regime (kinetic-controlled, external-film-controlled, internal-diffusion-controlled, mixed-control) based on the provided weights that represent number fractions for each particle size.\n- Output the fractions as decimals rounded to three decimal places.\n\nUse the following constants and operating condition parameters. All physical quantities must be treated in their stated units. The universal gas constant is $R_u = 8.314\\,\\mathrm{J}\\,\\mathrm{mol}^{-1}\\,\\mathrm{K}^{-1}$, and the molar mass of air is $M_{\\text{air}} = 0.02897\\,\\mathrm{kg}\\,\\mathrm{mol}^{-1}$. The gas density $\\rho_g$ must be computed from the Ideal Gas Law as $\\rho_g = \\dfrac{P\\,M_{\\text{air}}}{R_u\\,T}$ in $\\mathrm{kg}\\,\\mathrm{m}^{-3}$ for each test case. Gas viscosity is $\\mu_g$ in $\\mathrm{Pa}\\cdot\\mathrm{s}$, binary diffusivity of oxygen in the carrier gas is $D_{O_2}$ in $\\mathrm{m}^2\\,\\mathrm{s}^{-1}$, bulk gas velocity relative to particles is $u$ in $\\mathrm{m}\\,\\mathrm{s}^{-1}$, and surface temperature is $T$ in $\\mathrm{K}$. The surface kinetic parameters are the pre-exponential $k_{0,s}$ in $\\mathrm{m}\\,\\mathrm{s}^{-1}$ and activation energy $E_s$ in $\\mathrm{J}\\,\\mathrm{mol}^{-1}$. The internal (porous) volumetric kinetic parameters are the pre-exponential $k_{0,v}$ in $\\mathrm{s}^{-1}$ and activation energy $E_v$ in $\\mathrm{J}\\,\\mathrm{mol}^{-1}$. The particle porosity is $\\epsilon_p$ (dimensionless), and tortuosity is $\\tau$ (dimensionless). Particle diameters are specified in micrometers and must be converted to meters, i.e., $d_p[\\mathrm{m}] = d_p[\\mu\\mathrm{m}] \\times 10^{-6}$.\n\nTest suite of parameter sets, each containing a particle size distribution as pairs $(d_p[\\mu\\mathrm{m}], w)$ where $w$ is the number fraction weight (dimensionless), and operating conditions:\n- Case $1$ (general, moderate): $P = 101325\\,\\mathrm{Pa}$, $T = 1100\\,\\mathrm{K}$, $u = 2.0\\,\\mathrm{m}\\,\\mathrm{s}^{-1}$, $\\mu_g = 5.0\\times 10^{-5}\\,\\mathrm{Pa}\\cdot\\mathrm{s}$, $D_{O_2} = 6.0\\times 10^{-5}\\,\\mathrm{m}^2\\,\\mathrm{s}^{-1}$, $\\epsilon_p = 0.6$, $\\tau = 3.0$, $k_{0,s} = 1.0\\times 10^{3}\\,\\mathrm{m}\\,\\mathrm{s}^{-1}$, $E_s = 8.0\\times 10^{4}\\,\\mathrm{J}\\,\\mathrm{mol}^{-1}$, $k_{0,v} = 1.0\\times 10^{7}\\,\\mathrm{s}^{-1}$, $E_v = 8.0\\times 10^{4}\\,\\mathrm{J}\\,\\mathrm{mol}^{-1}$. Distribution: $[(50, 0.4), (150, 0.3), (500, 0.2), (1000, 0.1)]$.\n- Case $2$ (small-particle edge): $P = 101325\\,\\mathrm{Pa}$, $T = 1000\\,\\mathrm{K}$, $u = 1.0\\,\\mathrm{m}\\,\\mathrm{s}^{-1}$, $\\mu_g = 4.0\\times 10^{-5}\\,\\mathrm{Pa}\\cdot\\mathrm{s}$, $D_{O_2} = 7.0\\times 10^{-5}\\,\\mathrm{m}^2\\,\\mathrm{s}^{-1}$, $\\epsilon_p = 0.6$, $\\tau = 3.0$, $k_{0,s} = 1.0\\times 10^{3}\\,\\mathrm{m}\\,\\mathrm{s}^{-1}$, $E_s = 8.0\\times 10^{4}\\,\\mathrm{J}\\,\\mathrm{mol}^{-1}$, $k_{0,v} = 1.0\\times 10^{7}\\,\\mathrm{s}^{-1}$, $E_v = 8.0\\times 10^{4}\\,\\mathrm{J}\\,\\mathrm{mol}^{-1}$. Distribution: $[(10, 0.3), (20, 0.3), (30, 0.4)]$.\n- Case $3$ (large-particle, high-velocity internal diffusion): $P = 101325\\,\\mathrm{Pa}$, $T = 1200\\,\\mathrm{K}$, $u = 5.0\\,\\mathrm{m}\\,\\mathrm{s}^{-1}$, $\\mu_g = 6.0\\times 10^{-5}\\,\\mathrm{Pa}\\cdot\\mathrm{s}$, $D_{O_2} = 8.0\\times 10^{-5}\\,\\mathrm{m}^2\\,\\mathrm{s}^{-1}$, $\\epsilon_p = 0.6$, $\\tau = 3.0$, $k_{0,s} = 1.0\\times 10^{3}\\,\\mathrm{m}\\,\\mathrm{s}^{-1}$, $E_s = 8.0\\times 10^{4}\\,\\mathrm{J}\\,\\mathrm{mol}^{-1}$, $k_{0,v} = 1.0\\times 10^{7}\\,\\mathrm{s}^{-1}$, $E_v = 8.0\\times 10^{4}\\,\\mathrm{J}\\,\\mathrm{mol}^{-1}$. Distribution: $[(1000, 0.2), (2000, 0.5), (3000, 0.3)]$.\n- Case $4$ (mixed regime scenario): $P = 101325\\,\\mathrm{Pa}$, $T = 950\\,\\mathrm{K}$, $u = 0.5\\,\\mathrm{m}\\,\\mathrm{s}^{-1}$, $\\mu_g = 4.5\\times 10^{-5}\\,\\mathrm{Pa}\\cdot\\mathrm{s}$, $D_{O_2} = 5.0\\times 10^{-5}\\,\\mathrm{m}^2\\,\\mathrm{s}^{-1}$, $\\epsilon_p = 0.6$, $\\tau = 3.0$, $k_{0,s} = 8.0\\times 10^{2}\\,\\mathrm{m}\\,\\mathrm{s}^{-1}$, $E_s = 9.0\\times 10^{4}\\,\\mathrm{J}\\,\\mathrm{mol}^{-1}$, $k_{0,v} = 1.0\\times 10^{7}\\,\\mathrm{s}^{-1}$, $E_v = 8.0\\times 10^{4}\\,\\mathrm{J}\\,\\mathrm{mol}^{-1}$. Distribution: $[(200, 0.3), (400, 0.4), (800, 0.3)]$.\n\nFinal output format requirement:\n- Your program should produce a single line of output containing the results for all test cases as a comma-separated list enclosed in square brackets, where each test case contributes a sub-list of four decimal fractions rounded to three decimal places in the order $[\\text{kinetic}, \\text{external\\_film}, \\text{internal\\_diffusion}, \\text{mixed}]$. For example, a valid output format is $[[0.123,0.456,0.321,0.100],[...],[...],[...]]$.",
            "solution": "The user has provided a well-posed problem in computational combustion. The task is to classify a population of spherical carbonaceous particles into different reaction regimes (kinetic, external film diffusion, internal diffusion, or mixed control) based on their size and operating conditions. This classification is to be performed by computing two key dimensionless numbers: the external Damköhler number $Da_{\\text{ext}}$ and the internal effectiveness factor $\\eta$. The final output must be the number-weighted fractions of particles in each regime for several test cases.\n\nThe solution is derived from first principles of mass transfer and chemical reaction engineering, as required.\n\n### 1. Fundamental Principles and Definitions\n\nThe analysis hinges on comparing the rates of three fundamental processes:\n1.  **Heterogeneous Surface Reaction**: The intrinsic rate at which oxygen reacts on the particle's external surface.\n2.  **External Mass Transfer**: The rate at which oxygen is transported from the bulk gas to the particle's external surface through a boundary layer (film).\n3.  **Internal Mass Transfer and Reaction**: The coupled process of oxygen diffusion into the particle's porous interior and reaction on the internal pore surfaces.\n\nWe will formalize these processes using standard models.\n\n### 2. Derivation of Key Parameters\n\nThe following derivation provides the necessary equations to compute $Da_{\\text{ext}}$ and $\\eta$ for a spherical particle of diameter $d_p$. All physical quantities are in SI units unless otherwise specified.\n\n#### 2.1. Gas-Phase Properties\nThese properties depend on the bulk gas conditions ($P, T$) and are independent of particle size.\n- **Gas Density ($\\rho_g$)**: Calculated from the Ideal Gas Law.\n  $$ \\rho_g = \\frac{P M_{\\text{air}}}{R_u T} $$\n  where $P$ is the pressure in $\\mathrm{Pa}$, $M_{\\text{air}}$ is the molar mass of air ($0.02897\\,\\mathrm{kg}\\,\\mathrm{mol}^{-1}$), $R_u$ is the universal gas constant ($8.314\\,\\mathrm{J}\\,\\mathrm{mol}^{-1}\\,\\mathrm{K}^{-1}$), and $T$ is the gas and particle surface temperature in $\\mathrm{K}$.\n\n- **Schmidt Number ($\\mathrm{Sc}$)**: This dimensionless number represents the ratio of momentum diffusivity (kinematic viscosity) to mass diffusivity.\n  $$ \\mathrm{Sc} = \\frac{\\mu_g}{\\rho_g D_{O_2}} $$\n  where $\\mu_g$ is the dynamic viscosity of the gas in $\\mathrm{Pa}\\cdot\\mathrm{s}$ and $D_{O_2}$ is the binary diffusion coefficient of oxygen in the gas in $\\mathrm{m}^2\\,\\mathrm{s}^{-1}$.\n\n#### 2.2. Reaction Kinetics\nThe problem specifies Arrhenius kinetics for both surface and internal (volumetric) reactions.\n- **Surface Reaction Rate Coefficient ($k_s$)**: This is a first-order rate coefficient for the reaction on the external surface of the particle.\n  $$ k_s = k_{0,s} \\exp\\left(-\\frac{E_s}{R_u T}\\right) $$\n  where $k_{0,s}$ is the pre-exponential factor in $\\mathrm{m}\\,\\mathrm{s}^{-1}$ and $E_s$ is the activation energy in $\\mathrm{J}\\,\\mathrm{mol}^{-1}$.\n\n- **Volumetric Reaction Rate Coefficient ($k_v$)**: This is a first-order rate coefficient for the reaction occurring on the pore surfaces within the particle volume.\n  $$ k_v = k_{0,v} \\exp\\left(-\\frac{E_v}{R_u T}\\right) $$\n  where $k_{0,v}$ is the pre-exponential factor in $\\mathrm{s}^{-1}$ and $E_v$ is the activation energy in $\\mathrm{J}\\,\\mathrm{mol}^{-1}$.\n\n#### 2.3. Particle-Size-Dependent Transport Properties\n\n- **Reynolds Number ($\\mathrm{Re}$)**: Characterizes the flow regime around the particle.\n  $$ \\mathrm{Re} = \\frac{\\rho_g u d_p}{\\mu_g} $$\n  where $u$ is the relative velocity between the gas and the particle in $\\mathrm{m}\\,\\mathrm{s}^{-1}$, and $d_p$ is the particle diameter in $\\mathrm{m}$.\n\n- **Sherwood Number ($\\mathrm{Sh}$)**: This is a dimensionless mass transfer coefficient. According to the problem statement, we use film theory as embodied in dimensionless correlations. For forced convection over a sphere, the Ranz-Marshall (or Frössling) correlation is standard:\n  $$ \\mathrm{Sh} = 2.0 + 0.6 \\, \\mathrm{Re}^{1/2} \\, \\mathrm{Sc}^{1/3} $$\n  The term $2.0$ represents the limit of pure diffusion in a quiescent medium.\n\n- **External Mass Transfer Coefficient ($k_g$)**: This coefficient is derived from the definition of the Sherwood number, $\\mathrm{Sh} = k_g d_p / D_{O_2}$.\n  $$ k_g = \\frac{\\mathrm{Sh} \\, D_{O_2}}{d_p} $$\n  This coefficient quantifies the rate of mass transfer through the boundary layer.\n\n#### 2.4. External Damköhler Number ($Da_{\\text{ext}}$)\n\n$Da_{\\text{ext}}$ compares the characteristic rate of surface chemical reaction to the rate of external mass transfer. For a first-order reaction, it is the ratio of the surface reaction rate coefficient to the external mass transfer coefficient.\n$$ Da_{\\text{ext}} = \\frac{\\text{Surface Reaction Rate}}{\\text{External Mass Transfer Rate}} = \\frac{k_s}{k_g} $$\nA small $Da_{\\text{ext}}$ ($< 0.1$) signifies that mass transfer is much faster than reaction, so the process is limited by reaction kinetics (kinetic control). A large $Da_{\\text{ext}}$ ($> 10$) signifies that reaction is much faster, so the process is limited by external mass transfer (external-film control).\n\n#### 2.5. Internal Effectiveness Factor ($\\eta$)\n\nThe analysis of internal transport relies on comparing the rate of reaction within the pores to the rate of diffusion into the pores. This is captured by the Thiele modulus and the effectiveness factor.\n\n- **Effective Diffusivity ($D_{\\text{eff}}$)**: The diffusivity of oxygen within the porous particle is lower than in the free gas due to the reduced area for diffusion (accounted for by porosity $\\epsilon_p$) and the longer, convoluted path (accounted for by tortuosity $\\tau$).\n  $$ D_{\\text{eff}} = \\frac{\\epsilon_p}{\\tau} D_{O_2} $$\n\n- **Thiele Modulus ($\\phi$)**: This dimensionless group compares the volumetric reaction rate to the intraparticle diffusion rate. For a first-order reaction in a spherical particle, the Thiele modulus is defined based on the particle radius, $R = d_p/2$:\n  $$ \\phi = R \\sqrt{\\frac{k_v}{D_{\\text{eff}}}} = \\frac{d_p}{2} \\sqrt{\\frac{k_v}{D_{\\text{eff}}}} $$\n\n- **Internal Effectiveness Factor ($\\eta$)**: This factor is the ratio of the actual total reaction rate within the particle to the ideal rate that would occur if the entire interior volume were exposed to the same reactant concentration as the external surface. For a first-order reaction in a sphere, this is an exact analytical result derived from the solution to the reaction-diffusion equation:\n  $$ \\eta = \\frac{3}{\\phi^2} \\left( \\phi \\coth(\\phi) - 1 \\right) $$\n  where $\\coth(x) = 1/\\tanh(x)$. A value of $\\eta$ close to $1$ (e.g., $> 0.9$) indicates that internal diffusion is fast and the entire internal surface is effectively utilized (no internal limitations). A small value of $\\eta$ (e.g., $< 0.5$) indicates severe internal diffusion limitation, meaning the reaction is confined to a thin layer near the particle's external surface.\n\n### 3. Algorithm and Implementation\n\nThe program will execute the following steps for each test case provided:\n1.  Read the operating conditions ($P, T, u,$ etc.) and the particle size distribution (pairs of diameter $d_p$ and number fraction weight $w$).\n2.  Calculate the case-constant properties: $\\rho_g$, $\\mathrm{Sc}$, $k_s$, $k_v$, and $D_{\\text{eff}}$. Note that $D_{\\text{eff}}$ also depends on $D_{O_2}$, $\\epsilon_p$ and $\\tau$ which are case-specific.\n3.  Initialize four accumulators for the number fractions of each regime to zero: $f_{\\text{kinetic}}$, $f_{\\text{external\\_film}}$, $f_{\\text{internal\\_diffusion}}$, $f_{\\text{mixed}}$.\n4.  Iterate through each $(d_p, w)$ pair in the distribution:\n    a. Convert $d_p$ from micrometers to meters: $d_p[\\mathrm{m}] = d_p[\\mu\\mathrm{m}] \\times 10^{-6}$.\n    b. Calculate the size-dependent parameters: $\\mathrm{Re}$, $\\mathrm{Sh}$, and $k_g$.\n    c. Calculate the external Damköhler number: $Da_{\\text{ext}} = k_s / k_g$.\n    d. Calculate the Thiele modulus $\\phi$ and the internal effectiveness factor $\\eta$.\n    e. Classify the particle based on the given criteria:\n        i.   If $Da_{\\text{ext}} < 0.1$ and $\\eta > 0.9$: Add $w$ to $f_{\\text{kinetic}}$.\n        ii.  Else if $Da_{\\text{ext}} > 10$ and $\\eta > 0.9$: Add $w$ to $f_{\\text{external\\_film}}$.\n        iii. Else if $\\eta < 0.5$ and $Da_{\\text{ext}} \\le 10$: Add $w$ to $f_{\\text{internal\\_diffusion}}$.\n        iv.  Else: Add $w$ to $f_{\\text{mixed}}$.\n5.  After iterating through all particle sizes, the four accumulated fractions are collected.\n6.  The final list of fractions for the case is formatted as decimals rounded to three places.\n7.  The results from all test cases are aggregated into a single list of lists for the final output.",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the char oxidation regime classification problem for multiple test cases.\n    \"\"\"\n    \n    # Universal constants\n    R_u = 8.314  # J/mol-K\n    M_air = 0.02897  # kg/mol\n\n    test_cases = [\n        {\n            \"P\": 101325, \"T\": 1100, \"u\": 2.0, \"mu_g\": 5.0e-5, \"D_O2\": 6.0e-5,\n            \"epsilon_p\": 0.6, \"tau\": 3.0, \"k0_s\": 1.0e3, \"E_s\": 8.0e4,\n            \"k0_v\": 1.0e7, \"E_v\": 8.0e4,\n            \"distribution\": [(50, 0.4), (150, 0.3), (500, 0.2), (1000, 0.1)]\n        },\n        {\n            \"P\": 101325, \"T\": 1000, \"u\": 1.0, \"mu_g\": 4.0e-5, \"D_O2\": 7.0e-5,\n            \"epsilon_p\": 0.6, \"tau\": 3.0, \"k0_s\": 1.0e3, \"E_s\": 8.0e4,\n            \"k0_v\": 1.0e7, \"E_v\": 8.0e4,\n            \"distribution\": [(10, 0.3), (20, 0.3), (30, 0.4)]\n        },\n        {\n            \"P\": 101325, \"T\": 1200, \"u\": 5.0, \"mu_g\": 6.0e-5, \"D_O2\": 8.0e-5,\n            \"epsilon_p\": 0.6, \"tau\": 3.0, \"k0_s\": 1.0e3, \"E_s\": 8.0e4,\n            \"k0_v\": 1.0e7, \"E_v\": 8.0e4,\n            \"distribution\": [(1000, 0.2), (2000, 0.5), (3000, 0.3)]\n        },\n        {\n            \"P\": 101325, \"T\": 950, \"u\": 0.5, \"mu_g\": 4.5e-5, \"D_O2\": 5.0e-5,\n            \"epsilon_p\": 0.6, \"tau\": 3.0, \"k0_s\": 8.0e2, \"E_s\": 9.0e4,\n            \"k0_v\": 1.0e7, \"E_v\": 8.0e4,\n            \"distribution\": [(200, 0.3), (400, 0.4), (800, 0.3)]\n        }\n    ]\n\n    all_results = []\n\n    for case in test_cases:\n        # Unpack case parameters\n        P, T, u, mu_g, D_O2 = case[\"P\"], case[\"T\"], case[\"u\"], case[\"mu_g\"], case[\"D_O2\"]\n        epsilon_p, tau = case[\"epsilon_p\"], case[\"tau\"]\n        k0_s, E_s = case[\"k0_s\"], case[\"E_s\"]\n        k0_v, E_v = case[\"k0_v\"], case[\"E_v\"]\n        distribution = case[\"distribution\"]\n\n        # --- Step 1: Calculate case-constant properties ---\n        \n        # Gas density from Ideal Gas Law\n        rho_g = (P * M_air) / (R_u * T)\n        \n        # Schmidt number\n        Sc = mu_g / (rho_g * D_O2)\n        \n        # Surface reaction rate coefficient (Arrhenius Law)\n        k_s = k0_s * np.exp(-E_s / (R_u * T))\n        \n        # Volumetric reaction rate coefficient (Arrhenius Law)\n        k_v = k0_v * np.exp(-E_v / (R_u * T))\n        \n        # Effective diffusivity in porous particle\n        D_eff = (epsilon_p / tau) * D_O2\n\n        # --- Step 2: Initialize regime fraction counters ---\n        f_kinetic = 0.0\n        f_external_film = 0.0\n        f_internal_diffusion = 0.0\n        f_mixed = 0.0\n\n        # --- Step 3: Iterate through particle size distribution ---\n        for dp_um, weight in distribution:\n            dp = dp_um * 1e-6  # Convert from micrometers to meters\n\n            # --- Calculate particle-size dependent parameters ---\n            # Reynolds number\n            Re = (rho_g * u * dp) / mu_g\n            \n            # Sherwood number (Ranz-Marshall correlation)\n            Sh = 2.0 + 0.6 * np.power(Re, 0.5) * np.power(Sc, 1.0/3.0)\n            \n            # External mass transfer coefficient\n            k_g = (Sh * D_O2) / dp\n            \n            # --- Calculate Damkohler number and Effectiveness Factor ---\n            # External Damkohler number\n            Da_ext = k_s / k_g\n            \n            # Thiele modulus (for sphere, based on radius R = dp/2)\n            phi = (dp / 2.0) * np.sqrt(k_v / D_eff)\n            \n            # Internal effectiveness factor\n            if phi < 1e-6:\n                eta = 1.0\n            else:\n                coth_phi = 1.0 / np.tanh(phi)\n                eta = (3.0 / phi**2) * (phi * coth_phi - 1.0)\n            \n            # --- Step 4: Classify and aggregate weighted fractions ---\n            if Da_ext < 0.1 and eta > 0.9:\n                f_kinetic += weight\n            elif Da_ext > 10 and eta > 0.9:\n                f_external_film += weight\n            elif eta < 0.5 and Da_ext <= 10:\n                f_internal_diffusion += weight\n            else:\n                f_mixed += weight\n\n        # Round results to three decimal places\n        case_results = [\n            round(f_kinetic, 3),\n            round(f_external_film, 3),\n            round(f_internal_diffusion, 3),\n            round(f_mixed, 3)\n        ]\n        all_results.append(case_results)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, all_results))}]\")\n\nsolve()\n```"
        }
    ]
}