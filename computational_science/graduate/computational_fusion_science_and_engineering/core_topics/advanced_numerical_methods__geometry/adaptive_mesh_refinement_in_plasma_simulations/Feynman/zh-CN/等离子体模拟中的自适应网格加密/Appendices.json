{
    "hands_on_practices": [
        {
            "introduction": "对于任何显式数值格式，Courant–Friedrichs–Lewy (CFL) 条件是数值稳定性的基石，它限制了信息在每个时间步内可以传播的距离。在自适应网格加密 (AMR) 中，这一挑战变得更加复杂，因为该条件必须在所有不同分辨率的网格层级上同时得到满足。本练习 () 要求您为带有时间子循环的 AMR 网格推导多层级的 CFL 条件，通过这个推导，您将理解如何通过选择一个合适的基础层级时间步长，来确保整个模拟域的稳定性，这是任何 AMR 从业者都必须掌握的基础技能。",
            "id": "3946763",
            "problem": "考虑在$d$维空间中，在一个间距为$h_0$的均匀笛卡尔基准网格上，对守恒形式的理想磁流体动力学 (MHD) 方程进行显式有限体积离散化。该网格采用块结构自适应网格加密 (AMR)，加密比为$r$，因此$\\ell$级网格的间距为$h_{\\ell} = h_0 / r^{\\ell}$。假设采用一个由稳定黎曼求解器构造的迎风数值通量，其谱半径受限于最大特征波速$a$，$a$被定义为通量雅可比矩阵特征值绝对值在所有方向和所有MHD特征族（包括快磁声波）上的最大值。时间积分使用强稳定性保持龙格-库塔 (SSP RK) 方法显式执行，采用与层级相关的时间步长$\\Delta t_{\\ell} = \\Delta t_0 / r^{\\ell}$（时间上进行子循环）。设所选的库朗数$C$满足$0  C \\leq 1$，并假设在每个层级上，每个方向使用标准的单单元面通量进行守恒通量差分。\n\n从近似双曲守恒律的显式格式的基本稳定性要求出发——即信息在任何方向上每个时间步长的传播距离不得超过一个单元——推导保证所述$d$维显式MHD格式稳定的库朗-弗里德里希斯-列维 (CFL) 条件。用$h_{\\ell}$、$a$、$d$和$C$来表示该条件。然后，利用给定的AMR时间步长方案$\\Delta t_{\\ell} = \\Delta t_0 / r^{\\ell}$，证明存在一个最大基准层级时间步长$\\Delta t_{0,\\max}$，它能确保CFL条件在所有加密层级上同时得到满足。提供$\\Delta t_{0,\\max}$的最终闭式表达式，用$h_0$、$a$、$d$和$C$表示。\n\n你的最终答案必须是单一的解析表达式。无需进行数值计算。",
            "solution": "该问题要求推导在$d$维自适应网格上，用于理想磁流体动力学 (MHD) 的显式有限体积格式的库朗-弗里德里希斯-列维 (CFL) 稳定性条件，并由此确定基准网格层级上的最大允许时间步长。\n\n出发点是双曲偏微分方程显式数值方法的稳定性基本原理。CFL条件规定，计算单元的数值依赖域必须包含其物理依赖域。对于简单的一维格式，这通常表示为库朗数$C = a \\frac{\\Delta t}{\\Delta x}$小于某个常数（通常为1）。本问题将$C$定义为此比率的上限，因此稳定性条件为$a \\frac{\\Delta t}{h} \\leq C$。\n\n我们必须将此条件推广到$d$维笛卡尔网格，其在加密层级$\\ell$上的均匀间距为$h_{\\ell}$。问题中陈述了使用一种显式有限体积方法，其中“每个方向使用单单元面通量”。这对应于一种线方法表述，其中空间算子是每个空间维度的一维通量差分算子之和：\n$$\n\\frac{dU_{i_1, \\dots, i_d}}{dt} = -\\sum_{k=1}^{d} \\frac{1}{h_{\\ell}} \\left( \\hat{F}_{k, i_k+1/2} - \\hat{F}_{k, i_k-1/2} \\right)\n$$\n其中$U$是单元中守恒量的向量，$\\hat{F}$是数值通量。对于显式时间积分格式（如前述的SSP RK方法），时间步长$\\Delta t_{\\ell}$受限于离散化空间算子的谱半径。对于一维算子的求和，总谱半径受限于各单个算子谱半径之和。\n\n最大特征波速给定为$a$。此速度是各向同性的，意味着它是任何方向上的最大传播速度。在$k$方向上的一维通量差分算子的谱半径与$a / h_{\\ell}$成正比。将所有$d$个维度的贡献相加，得到稳定性条件：\n$$\n\\Delta t_{\\ell} \\sum_{k=1}^{d} \\frac{a}{h_{\\ell}} \\leq C\n$$\n由于该和包含$d$个相同的项，因此对于给定的层级$\\ell$，CFL条件简化为：\n$$\n\\Delta t_{\\ell} \\frac{d \\cdot a}{h_{\\ell}} \\leq C\n$$\n此表达式用$h_{\\ell}$、$a$、$d$和$C$给出了所要求的稳定性条件。\n\n接下来，我们必须在指定的自适应网格加密 (AMR) 结构背景下分析此条件。问题陈述，层级$\\ell$上的网格间距和时间步长通过加密比$r$与基准层级（$\\ell=0$）的值相关联：\n$$\nh_{\\ell} = \\frac{h_0}{r^{\\ell}}\n$$\n$$\n\\Delta t_{\\ell} = \\frac{\\Delta t_0}{r^{\\ell}}\n$$\n这种时间步进方案被称为子循环，其中更精细的层级用更小的时间步长进行演化。为确保整个AMR层次结构的稳定性，CFL条件必须在每个层级$\\ell = 0, 1, 2, \\ldots$上都得到满足。\n\n我们将AMR特定的$h_{\\ell}$和$\\Delta t_{\\ell}$表达式代入$\\ell$级的CFL条件中：\n$$\n\\left( \\frac{\\Delta t_0}{r^{\\ell}} \\right) \\frac{d \\cdot a}{\\left( \\frac{h_0}{r^{\\ell}} \\right)} \\leq C\n$$\n$\\Delta t_{\\ell}$和$h_{\\ell}$分母中的$r^{\\ell}$因子相互抵消：\n$$\n\\frac{\\Delta t_0 \\cdot r^{\\ell}}{r^{\\ell}} \\frac{d \\cdot a}{h_0} \\leq C\n$$\n$$\n\\frac{\\Delta t_0 \\cdot d \\cdot a}{h_0} \\leq C\n$$\n由此得到的不等式是关于基准层级时间步长$\\Delta t_0$的条件，它完全独立于加密层级$\\ell$。这表明，如果我们选择一个满足此条件的$\\Delta t_0$，CFL准则将在所有加密层级上同时成立。所有有效的$\\Delta t_0$值的集合是非空的并且有上界。因此，存在一个最大基准层级时间步长$\\Delta t_{0,\\max}$。\n\n为求得此最大时间步长的表达式，我们解关于$\\Delta t_0$的不等式：\n$$\n\\Delta t_0 \\leq \\frac{C \\cdot h_0}{d \\cdot a}\n$$\n基准层级时间步长的最大允许值$\\Delta t_{0,\\max}$在等号成立时达到：\n$$\n\\Delta t_{0,\\max} = \\frac{C h_0}{d a}\n$$\n这是在指定的子循环方案下，确保整个AMR网格结构稳定性的最大基准层级时间步长的最终表达式。",
            "answer": "$$\\boxed{\\frac{C h_0}{d a}}$$"
        },
        {
            "introduction": "为了更新细网格上的单元，计算需要其邻近单元的信息。在粗细网格的交界处，一些邻居单元在细网格上并不存在，这就需要引入“鬼单元”(ghost cells) 作为数据缓冲区。本实践 () 专注于这些鬼单元层的几何与结构要求，通过推导所需的最小鬼单元宽度，您将理解数值格式的计算模板、网格加密比以及在不同层级间进行清晰、守恒的数据传输需求之间的相互作用。",
            "id": "3946715",
            "problem": "考虑一个用于电阻性磁流体动力学（MHD）等离子体模拟的一维基于补丁的自适应网格加密（AMR）离散化，在粗网格层级和细网格层级之间的加密比为 $r \\in \\mathbb{N}$。细网格单元的尺寸为 $h_{f} = h_{c}/r$，其中 $h_{c}$ 是粗网格单元的尺寸。细网格层级上的时间推进采用一个 $p$ 阶、对称、以单元为中心、显式的有限体积格式，其空间离散化需要在目标细单元两侧各使用半径为 $s$ 个细单元的紧致对称模板（即，模板触及以目标为中心的 $2s+1$ 个细单元）。\n\n在粗细网格界面处，细网格层级直接与粗网格层级相邻。细网格层级在补丁边界外维持一个宽度为 $g$ 个细单元的鬼影层，以便为邻近界面的细网格单元进行有效的模板求值。鬼影值通过一个与精度阶 $p$ 一致的守恒延拓算子从粗网格层级填充，该算子使用一个粗网格单元上的紧致对称模板，且不需要超出与界面直接相邻的粗网格内部单元的数据。为确保守恒的通量协调并避免分数粗网格支撑区，鬼影区域必须与完整的粗网格单元块对齐，因此 $g$ 必须是 $r$ 的倍数。\n\n从这些定义和约束出发，推导最小的细网格鬼影层宽度 $g$（以细单元为单位），作为细网格模板半径 $s$ 和整数加密比 $r$ 的函数，使得：\n- 任何以接触界面（即边界旁的前 $s$ 个细单元内）的细网格内部单元为中心的细网格模板，都完全被细网格内部数据或细网格鬼影数据所覆盖。\n- 填充细网格鬼影层所需的从粗到细的延拓可以由紧邻界面的完整粗网格单元块构成，而无需访问超出最近的粗网格内部单元的粗网格数据。\n\n给出你的最终答案，形式为一个闭式解析表达式 $g(s,r)$。",
            "solution": "问题要求解最小的细网格鬼影层宽度，记为 $g$，作为细网格模板半径 $s$ 和整数加密比 $r$ 的函数。推导必须满足问题陈述中概述的两个主要约束。\n\n首先，我们分析由细网格数值模板施加的约束。该格式被描述为使用一个半径为 $s$ 个细单元的紧致对称模板。这意味着，为了计算索引为 $i$ 的细单元的更新值，需要来自闭区间 $[i-s, i+s]$ 内所有单元的数据。\n\n我们定义一维域，使得细网格补丁占据区域 $x > 0$，粗细网格界面位于 $x=0$。对于内部单元，细网格单元的索引为 $j=1, 2, 3, \\dots$。提供边界数据所需的鬼影单元将占据区域 $x \\le 0$，可以索引为 $j=0, -1, -2, \\dots$。\n\n问题陈述指出，鬼影层必须足够宽，以至于“任何以接触界面（即边界旁的前 $s$ 个细单元内）的细网格内部单元为中心的细网格模板，都完全被细网格内部数据或细网格鬼影数据所覆盖”。\n\n我们来考虑对鬼影单元宽度施加最严格要求的那个细网格内部单元。这是最靠近界面的单元，索引为 $j=1$。该单元的模板范围从索引 $1-s$ 到 $1+s$。索引从 $1$ 到 $1+s$ 的单元位于细网格补丁的内部。索引从 $1-s$ 到 $0$ 的单元必须由鬼影层提供。\n\n所需的鬼影单元索引为 $\\{0, -1, \\dots, 1-s\\}$。该集合中的单元数量为 $0 - (1-s) + 1 = s$。因此，为了服务第一个内部细单元的模板，鬼影层必须至少有 $s$ 个单元的宽度。这给了我们关于 $g$ 的第一个约束：\n$$\ng \\ge s\n$$\n任何其他内部单元 $j$（其中 $1  j \\le s$）的模板也跨越界面，需要索引从 $j-s$ 到 $0$ 的鬼影单元。由于 $j>1$，所需的最低索引为 $j-s > 1-s$，因此来自单元 $j=1$ 的要求确实是最苛刻的。\n\n其次，我们分析与网格结构和延拓算子相关的约束。问题明确指出“为确保守恒的通量协调并避免分数粗网格支撑区，鬼影区域必须与完整的粗网格单元块对齐，因此 $g$ 必须是 $r$ 的倍数”。\n\n这里，$r$ 是加密比，意味着一个粗网格单元的宽度与 $r$ 个细网格单元的宽度相同 ($h_c = r h_f$）。鬼影区域宽度为 $g h_f$ 必须由“完整的粗网格单元块”构成的约束意味着其总宽度必须是粗网格单元宽度 $h_c$ 的整数倍。\n$$\ng h_f = k h_c\n$$\n对于某个正整数 $k \\in \\mathbb{N}$（因为 $g>0$）。代入 $h_c = r h_f$，我们得到：\n$$\ng h_f = k (r h_f)\n$$\n$$\ng = k r\n$$\n这提供了第二个约束：$g$ 必须是 $r$ 的整数倍。关于延拓模板的阶数 $p$ 及其对称性的信息，为这一结构性约束提供了物理和数值上的理由，确保了插值的源数据（粗网格单元）与目标区域（细网格鬼影单元）完美对齐。问题的表述意味着满足这种结构对齐就足够了，我们不需要独立使用 $p$ 来确定延拓算子本身的模板宽度。\n\n我们必须找到同时满足两个约束的 $g$ 的最小值：\n1. $g \\ge s$\n2. 对于某个 $k \\in \\{1, 2, 3, \\dots\\}$，$g = k r$。\n\n结合这两个条件，我们得到：\n$$\nk r \\ge s\n$$\n解出整数 $k$：\n$$\nk \\ge \\frac{s}{r}\n$$\n由于我们寻求 $g$ 的最小可能值，我们必须找到满足此不等式的最小整数 $k$。大于或等于实数 $x$ 的最小整数由向上取整函数 $\\lceil x \\rceil$ 给出。\n因此，$k$ 的最小整数值为：\n$$\nk_{min} = \\left\\lceil \\frac{s}{r} \\right\\rceil\n$$\n将这个最小的 $k$ 值代回 $g$ 的表达式中，我们得到所需的最小鬼影宽度：\n$$\ng(s, r) = k_{min} \\cdot r = r \\left\\lceil \\frac{s}{r} \\right\\rceil\n$$\n该表达式给出了鬼影单元的最小数量 $g$，它既大于或等于模板半径 $s$，又是加密比 $r$ 的整数倍。",
            "answer": "$$\\boxed{r \\left\\lceil \\frac{s}{r} \\right\\rceil}$$"
        },
        {
            "introduction": "从粗网格到细网格的数据插值是 AMR 的必要步骤，但它可能在无意中违反基本的物理守恒定律。磁流体力学 (MHD) 中磁场的无散度约束（$\\nabla \\cdot \\mathbf{B} = 0$）就是一个典型例子，插值可能会人为地产生无物理意义的“磁单极子”。这个练习 () 提供了一个具体的场景来计算这种由插值引起的误差，更重要的是，它将指导您设计一种“投影方法”来清理磁场并恢复其无散度特性，这突显了如何在多层级数值框架中强制执行物理定律。",
            "id": "3946755",
            "problem": "在磁流体动力学 (MHD) 中，麦克斯韦方程组要求磁场是无散的，因此 $\\nabla \\cdot \\mathbf{B} = 0$。在自适应网格加密 (AMR) 中，如果插值不保持离散的无散约束，那么从粗网格到细网格的插值会在加密片上引入伪散度。考虑一个二维加密片，它对应于一个占据单位正方形 $\\Omega = [0,1] \\times [0,1]$ 的单个粗网格单元，空间坐标为 $(x,y)$，加密比为 $r=2$（因此该片由四个细网格单元组成）。粗网格层级的磁场由一个标量势 $\\psi(x,y)$ 通过二维旋度得到，$\\mathbf{B} = \\nabla \\times (\\psi \\,\\hat{\\mathbf{z}})$，其中 $\\hat{\\mathbf{z}}$ 是平面外方向的单位向量，因此 $B_x = \\partial \\psi / \\partial y$ 且 $B_y = -\\partial \\psi / \\partial x$。设粗网格层级的标量势为 $\\psi(x,y) = x^{2}y - \\frac{1}{3}y^{3}$，这在粗网格层级上产生一个无散度的磁场。\n\n在加密片上，插值的定义如下：对于 $\\mathbf{B}$ 的每个分量，根据粗网格单元在 $(0,0)$、$(1,0)$、$(0,1)$ 和 $(1,1)$ 处的角点值，在 $\\Omega$ 上构造双线性插值；将此插值场表示为 $\\widehat{\\mathbf{B}}(x,y) = (\\widehat{B}_x(x,y),\\widehat{B}_y(x,y))$。然后，加密片上的离散散度由双线性插值的连续散度来近似，即 $\\nabla \\cdot \\widehat{\\mathbf{B}}(x,y)$。\n\n从上述 MHD 无散约束和 AMR 插值定义出发，推导由双线性插值在加密片上引起的散度误差 $\\nabla \\cdot \\widehat{\\mathbf{B}}(x,y)$。然后，在加密片上设计一个基于投影的校正：找到一个标量势 $\\phi(x,y)$，它求解具有齐次诺伊曼边界条件的泊松方程，\n$$\n\\nabla^{2}\\phi(x,y) = \\nabla \\cdot \\widehat{\\mathbf{B}}(x,y), \\quad \\text{其中 } \\frac{\\partial \\phi}{\\partial n}\\bigg|_{\\partial \\Omega} = 0,\n$$\n使得校正后的场 $\\mathbf{B}_{\\text{corr}} = \\widehat{\\mathbf{B}} - \\nabla \\phi$ 是无散度的，并且在片边界上保持粗网格层级的法向分量。提供 $\\phi(x,y)$ 的一个闭式解析表达式。如果选择积分常数，通过要求 $\\phi(0,0) = 0$ 来固定它。您的最终答案必须是 $\\phi(x,y)$ 的单个闭式解析表达式；不要包含任何单位。",
            "solution": "首先验证问题，以确保其科学上可靠、适定且自洽。\n\n**步骤1：提取已知条件**\n-   域是坐标为 $(x,y)$ 的单位正方形 $\\Omega = [0,1] \\times [0,1]$。\n-   粗网格层级的磁场 $\\mathbf{B}$ 通过 $\\mathbf{B} = \\nabla \\times (\\psi \\,\\hat{\\mathbf{z}})$ 从标量势 $\\psi(x,y) = x^{2}y - \\frac{1}{3}y^{3}$ 导出。\n-   粗网格层级场分量的显式形式为 $B_x = \\frac{\\partial \\psi}{\\partial y}$ 和 $B_y = -\\frac{\\partial \\psi}{\\partial x}$。\n-   加密片上的插值场 $\\widehat{\\mathbf{B}}(x,y)$ 是通过对 $\\Omega$ 角点 $(0,0)$, $(1,0)$, $(0,1)$ 和 $(1,1)$ 处的粗网格场值进行双线性插值得到的。\n-   必须通过求解泊松方程 $\\nabla^{2}\\phi(x,y) = \\nabla \\cdot \\widehat{\\mathbf{B}}(x,y)$ 来找到校正势 $\\phi(x,y)$。\n-   $\\phi$ 的边界条件是齐次诺伊曼条件：$\\frac{\\partial \\phi}{\\partial n}\\big|_{\\partial \\Omega} = 0$。\n-   提供了固定积分常数的条件：$\\phi(0,0) = 0$。\n-   校正后的场定义为 $\\mathbf{B}_{\\text{corr}} = \\widehat{\\mathbf{B}} - \\nabla \\phi$。\n\n**步骤2：使用提取的已知条件进行验证**\n-   **科学依据**：该问题处理磁流体动力学（MHD）中一个标准的数值问题，该问题与在自适应网格加密（AMR）中保持无散约束 $\\nabla \\cdot \\mathbf{B} = 0$ 有关。使用向量势（此处为二维标量势 $\\psi$）来定义无散场、插值引起的散度概念，以及使用投影方法（求解泊松方程）来校正此散度，这些都是计算物理学中标准且成熟的技术。\n-   **适定性**：该问题定义了一个完整的数学任务。初始场是明确给出的。插值方案是指定的（双线性）。校正势的方程是一个明确定义的泊松方程。边界条件（齐次诺伊曼）和固定条件（$\\phi(0,0)=0$）足以保证唯一解。粗网格层级的场经验证是无散的：$B_x = x^2 - y^2$, $B_y = -2xy$，因此 $\\nabla \\cdot \\mathbf{B} = \\frac{\\partial}{\\partial x}(x^2 - y^2) + \\frac{\\partial}{\\partial y}(-2xy) = 2x - 2x = 0$。设置是自洽的。\n-   **客观性**：问题以精确、客观的数学语言陈述。\n\n**结论与行动**\n该问题有效，因为它在科学上是合理的、适定的且内部一致的。我们现在将继续进行求解。\n\n**步骤3：求解推导**\n\n首先，我们使用给定的标量势 $\\psi(x,y) = x^{2}y - \\frac{1}{3}y^{3}$ 来确定粗网格层级的磁场 $\\mathbf{B}(x,y)$。\n磁场的分量是：\n$$\nB_x(x,y) = \\frac{\\partial \\psi}{\\partial y} = \\frac{\\partial}{\\partial y}\\left(x^{2}y - \\frac{1}{3}y^{3}\\right) = x^{2} - y^{2}\n$$\n$$\nB_y(x,y) = -\\frac{\\partial \\psi}{\\partial x} = -\\frac{\\partial}{\\partial x}\\left(x^{2}y - \\frac{1}{3}y^{3}\\right) = -2xy\n$$\n因此，粗网格层级的场为 $\\mathbf{B}(x,y) = (x^{2} - y^{2}, -2xy)$。\n\n接下来，我们计算该场在单位正方形 $\\Omega$ 的四个角点的值：\n-   在 $(0,0)$ 处：$\\mathbf{B}(0,0) = (0^{2} - 0^{2}, -2(0)(0)) = (0,0)$。\n-   在 $(1,0)$ 处：$\\mathbf{B}(1,0) = (1^{2} - 0^{2}, -2(1)(0)) = (1,0)$。\n-   在 $(0,1)$ 处：$\\mathbf{B}(0,1) = (0^{2} - 1^{2}, -2(0)(1)) = (-1,0)$。\n-   在 $(1,1)$ 处：$\\mathbf{B}(1,1) = (1^{2} - 1^{2}, -2(1)(1)) = (0,-2)$。\n\n现在，我们在 $\\Omega$ 上构造双线性插值 $\\widehat{\\mathbf{B}}(x,y) = (\\widehat{B}_x(x,y), \\widehat{B}_y(x,y))$。对于单位正方形上的函数 $f$，其通用形式由以下公式给出：\n$$\n\\widehat{f}(x,y) = f(0,0)(1-x)(1-y) + f(1,0)x(1-y) + f(0,1)(1-x)y + f(1,1)xy\n$$\n将此公式应用于 $\\mathbf{B}$ 的每个分量：\n对于 $\\widehat{B}_x(x,y)$：\n$$\n\\widehat{B}_x(x,y) = (0)(1-x)(1-y) + (1)x(1-y) + (-1)(1-x)y + (0)xy\n$$\n$$\n\\widehat{B}_x(x,y) = x(1-y) - (1-x)y = x - xy - y + xy = x - y\n$$\n对于 $\\widehat{B}_y(x,y)$：\n$$\n\\widehat{B}_y(x,y) = (0)(1-x)(1-y) + (0)x(1-y) + (0)(1-x)y + (-2)xy\n$$\n$$\n\\widehat{B}_y(x,y) = -2xy\n$$\n插值后的磁场为 $\\widehat{\\mathbf{B}}(x,y) = (x-y, -2xy)$。\n\n下一步是计算散度误差 $\\nabla \\cdot \\widehat{\\mathbf{B}}(x,y)$。\n$$\n\\nabla \\cdot \\widehat{\\mathbf{B}} = \\frac{\\partial \\widehat{B}_x}{\\partial x} + \\frac{\\partial \\widehat{B}_y}{\\partial y} = \\frac{\\partial}{\\partial x}(x-y) + \\frac{\\partial}{\\partial y}(-2xy) = 1 - 2x\n$$\n这个非零结果是插值引入的伪散度。\n\n我们现在需要通过求解在 $\\Omega$ 上具有齐次诺伊曼边界条件的泊松方程 $\\nabla^{2}\\phi = 1 - 2x$ 来找到标量势 $\\phi(x,y)$。方程为：\n$$\n\\frac{\\partial^{2}\\phi}{\\partial x^{2}} + \\frac{\\partial^{2}\\phi}{\\partial y^{2}} = 1 - 2x\n$$\n边界条件为：\n-   对于 $y \\in [0,1]$，$\\frac{\\partial \\phi}{\\partial x}(0,y) = 0$\n-   对于 $y \\in [0,1]$，$\\frac{\\partial \\phi}{\\partial x}(1,y) = 0$\n-   对于 $x \\in [0,1]$，$\\frac{\\partial \\phi}{\\partial y}(x,0) = 0$\n-   对于 $x \\in [0,1]$，$\\frac{\\partial \\phi}{\\partial y}(x,1) = 0$\n\n由于源项 $1-2x$ 不依赖于 $y$，并且在水平边界（$y=0$ 和 $y=1$）上的边界条件对于 $y$ 导数是齐次的，我们可以寻找一个只与 $x$ 有关的解，即 $\\phi(x,y) = \\phi(x)$。在此假设下，$\\frac{\\partial^{2}\\phi}{\\partial y^{2}} = 0$，并且关于 $y$ 的边界条件自动满足。\n问题简化为一维常微分方程：\n$$\n\\frac{d^{2}\\phi}{dx^{2}} = 1 - 2x\n$$\n边界条件为 $\\frac{d\\phi}{dx}(0) = 0$ 和 $\\frac{d\\phi}{dx}(1) = 0$。\n\n对 $x$ 积分一次：\n$$\n\\frac{d\\phi}{dx} = \\int (1-2x) \\,dx = x - x^{2} + C_1\n$$\n应用第一个边界条件 $\\frac{d\\phi}{dx}(0)=0$：\n$$\n0 - 0^{2} + C_1 = 0 \\implies C_1=0\n$$\n这得到 $\\frac{d\\phi}{dx} = x - x^{2}$。让我们用第二个边界条件 $\\frac{d\\phi}{dx}(1)=0$ 来验证：\n$$\n1 - 1^{2} = 0\n$$\n该条件得到满足，所以我们的导数形式是正确的。\n\n再次对 $\\frac{d\\phi}{dx}$ 关于 $x$ 积分：\n$$\n\\phi(x) = \\int (x - x^{2}) \\,dx = \\frac{1}{2}x^{2} - \\frac{1}{3}x^{3} + C_2\n$$\n解的形式为 $\\phi(x,y) = \\frac{1}{2}x^{2} - \\frac{1}{3}x^{3} + C_2$。为了确定常数 $C_2$，我们使用最后一个条件 $\\phi(0,0) = 0$：\n$$\n\\phi(0,0) = \\frac{1}{2}(0)^{2} - \\frac{1}{3}(0)^{3} + C_2 = 0 \\implies C_2 = 0\n$$\n因此，满足所有给定条件的唯一标量势是：\n$$\n\\phi(x,y) = \\frac{1}{2}x^{2} - \\frac{1}{3}x^{3}\n$$\n该表达式构成了所要求的闭式解析表达式。校正后的场 $\\mathbf{B}_{\\text{corr}} = \\widehat{\\mathbf{B}} - \\nabla \\phi$ 通过构造保证是无散度的，因为 $\\nabla \\cdot \\mathbf{B}_{\\text{corr}} = \\nabla \\cdot \\widehat{\\mathbf{B}} - \\nabla^2\\phi = (1-2x) - (1-2x) = 0$。齐次诺伊曼边界条件确保了校正项 $\\nabla \\phi$ 的法向分量在边界上为零，从而保持了插值场 $\\widehat{\\mathbf{B}}$ 的法向分量。",
            "answer": "$$\\boxed{\\frac{1}{2}x^{2} - \\frac{1}{3}x^{3}}$$"
        }
    ]
}