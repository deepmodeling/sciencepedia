{"hands_on_practices": [{"introduction": "本练习是塔斯基（Tarski）真值定义的直接应用。通过在一个给定的有限结构中手动计算原子公式的真值，您将巩固对抽象符号（如常数、函数、谓词）如何获得具体意义，以及这种意义如何决定基本陈述真值的理解。这种系统的求值过程是构建一阶逻辑语义的基础技能。[@problem_id:2973056]", "problem": "考虑一个有限一阶签名和一个在其上解释的具体有限结构。令签名为 $\\mathcal{L} = \\{c, d, f^{1}, g^{2}, P^{1}, R^{2}, =\\}$，它由两个常数符号 $c$ 和 $d$、一个一元函数符号 $f$、一个二元函数符号 $g$、一个一元谓词符号 $P$、一个二元谓词符号 $R$ 以及等号组成。令 $\\mathcal{L}$-结构 $\\mathcal{A}$ 的论域为 $A = \\{0,1,2,3\\}$，并如下解释非逻辑符号：\n- $c^{\\mathcal{A}} = 1$ 且 $d^{\\mathcal{A}} = 3$。\n- 对 $x \\in A$，$f^{\\mathcal{A}}(x) = 2x \\pmod 4$。\n- 对 $(x,y) \\in A^2$，$g^{\\mathcal{A}}(x,y) = x + y \\pmod 4$。\n- $P^{\\mathcal{A}} = \\{0,2\\}$。\n- $R^{\\mathcal{A}} = \\{(x,y) \\in A^2 \\mid x \\equiv 2y \\pmod{4}\\}$。\n\n使用变量集 $V = \\{x,y\\}$。对于下方的每个原子公式，请通过明确枚举其自由变量的所有赋值（直至相关元数），来评估该公式在每个赋值下的真值。原子公式列表如下：\n- $P(x)$,\n- $P(y)$,\n- $P(f(x))$,\n- $P\\big(g(x,y)\\big)$,\n- $R(x,y)$,\n- $R\\big(f(x),y\\big)$,\n- $R\\big(x,g(x,y)\\big)$,\n- $x = y$,\n- $f(x) = y$,\n- $g(x,y) = d$,\n- $g\\big(f(x),y\\big) = c$,\n- $P(c)$.\n\n对于每个原子公式，计算在 $\\mathcal{A}$ 中使其为真的自由变量赋值的数量。对于具有两个自由变量的公式，枚举 $A^2$ 中的所有 $4 \\times 4$ 个赋值；对于具有一个自由变量的公式，枚举 $A$ 中的所有 $4$ 个赋值；对于没有自由变量的基础公式 $P(c)$，将其在空赋值下的求值结果视为真或假。令 $N$ 表示上述所有原子公式的满足赋值的总数。将 $N$ 计算为一个精确整数。将最终答案表示为一个不带单位的整数。", "solution": "该问题陈述已经过验证，被认为是一阶逻辑中一个定义良好且自洽的练习。它没有科学、逻辑或事实上的缺陷。签名 $\\mathcal{L}$ 和 $\\mathcal{L}$-结构 $\\mathcal{A}$ 的所有必要组成部分都已明确定义。任务是评估一系列原子公式在所有可能赋值下的真值，这是模型论中的一个标准程序。我们开始进行解答。\n\n问题指定了一个一阶签名 $\\mathcal{L} = \\{c, d, f^{1}, g^{2}, P^{1}, R^{2}, =\\}$ 和一个 $\\mathcal{L}$-结构 $\\mathcal{A}$，其论域为 $A = \\{0, 1, 2, 3\\}$。解释如下：\n- $c^{\\mathcal{A}} = 1$\n- $d^{\\mathcal{A}} = 3$\n- $f^{\\mathcal{A}}(x) = 2x \\bmod 4$\n- $g^{\\mathcal{A}}(x,y) = x + y \\bmod 4$\n- $P^{\\mathcal{A}} = \\{0, 2\\}$\n- $R^{\\mathcal{A}} = \\{(x,y) \\in A^{2} \\mid x \\equiv 2y \\pmod{4}\\}$\n\n为便于评估，我们首先计算函数和谓词在论域 $A$ 上的显式解释。\n\n一元函数 $f^{\\mathcal{A}}(x)$:\n- $f^{\\mathcal{A}}(0) = 2(0) \\bmod 4 = 0$\n- $f^{\\mathcal{A}}(1) = 2(1) \\bmod 4 = 2$\n- $f^{\\mathcal{A}}(2) = 2(2) \\bmod 4 = 4 \\bmod 4 = 0$\n- $f^{\\mathcal{A}}(3) = 2(3) \\bmod 4 = 6 \\bmod 4 = 2$\n\n二元函数 $g^{\\mathcal{A}}(x,y)$ 是模4加法：\n- 这可以用下表表示，其中行对应 $y$，列对应 $x$：\n$$\n\\begin{array}{c|cccc}\ng^{\\mathcal{A}}(x,y)  x=0  x=1  x=2  x=3 \\\\\n\\hline\ny=0  0  1  2  3 \\\\\ny=1  1  2  3  0 \\\\\ny=2  2  3  0  1 \\\\\ny=3  3  0  1  2\n\\end{array}\n$$\n\n一元谓词 $P^{\\mathcal{A}}$ 给定为集合 $\\{0, 2\\}$。一个元素 $a \\in A$ 满足 $P$ 当且仅当 $a \\in \\{0, 2\\}$。\n\n二元谓词 $R^{\\mathcal{A}}$ 是所有满足 $x \\equiv 2y \\pmod{4}$ 的序对 $(x,y) \\in A^2$ 的集合。我们确定这些序对：\n- 若 $y=0$，$2y=0$。条件是 $x \\equiv 0 \\pmod{4}$，所以 $x=0$。序对：$(0,0)$。\n- 若 $y=1$，$2y=2$。条件是 $x \\equiv 2 \\pmod{4}$，所以 $x=2$。序对：$(2,1)$。\n- 若 $y=2$，$2y=4 \\equiv 0$。条件是 $x \\equiv 0 \\pmod{4}$，所以 $x=0$。序对：$(0,2)$。\n- 若 $y=3$，$2y=6 \\equiv 2$。条件是 $x \\equiv 2 \\pmod{4}$，所以 $x=2$。序对：$(2,3)$。\n因此，$R^{\\mathcal{A}} = \\{(0,0), (2,1), (0,2), (2,3)\\}$。\n\n我们现在评估每个原子公式并计算满足赋值的数量。令 $N_i$ 为第 $i$ 个公式的计数。\n\n1.  $P(x)$: 自由变量为 $x$。我们需要找到满足 $x \\in P^{\\mathcal{A}}$ 的 $x \\in A$ 的数量。由于 $P^{\\mathcal{A}} = \\{0, 2\\}$，满足的赋值为 $x=0$ 和 $x=2$。因此，$N_1=2$。\n\n2.  $P(y)$: 自由变量为 $y$。与前一情况类似，满足的赋值为 $y=0$ 和 $y=2$。因此，$N_2=2$。\n\n3.  $P(f(x))$: 自由变量为 $x$。我们需要找到满足 $f^{\\mathcal{A}}(x) \\in P^{\\mathcal{A}}$ 的 $x \\in A$。\n    - 对 $x=0$, $f^{\\mathcal{A}}(0) = 0 \\in P^{\\mathcal{A}}$。真。\n    - 对 $x=1$, $f^{\\mathcal{A}}(1) = 2 \\in P^{\\mathcal{A}}$。真。\n    - 对 $x=2$, $f^{\\mathcal{A}}(2) = 0 \\in P^{\\mathcal{A}}$。真。\n    - 对 $x=3$, $f^{\\mathcal{A}}(3) = 2 \\in P^{\\mathcal{A}}$。真。\n    所有 4 个对 $x$ 的赋值都使公式为真。因此，$N_3=4$。\n\n4.  $P(g(x,y))$: 自由变量为 $x,y$。我们需要找到满足 $g^{\\mathcal{A}}(x,y) \\in P^{\\mathcal{A}}$ 的序对 $(x,y) \\in A^2$ 的数量，即 $g^{\\mathcal{A}}(x,y)$ 为 $0$ 或 $2$。查阅 $g^{\\mathcal{A}}(x,y)$ 的表格，我们找到 8 个这样的序对：$(0,0), (2,0), (1,1), (3,1), (0,2), (2,2), (1,3), (3,3)$。因此，$N_4=8$。\n\n5.  $R(x,y)$: 自由变量为 $x,y$。我们需要找到在集合 $R^{\\mathcal{A}}$ 中的序对 $(x,y) \\in A^2$ 的数量。我们已经确定 $R^{\\mathcal{A}} = \\{(0,0), (2,1), (0,2), (2,3)\\}$。有 4 个这样的序对。因此，$N_5=4$。\n\n6.  $R(f(x),y)$: 自由变量为 $x,y$。我们需要满足 $(f^{\\mathcal{A}}(x), y) \\in R^{\\mathcal{A}}$ 的序对 $(x,y)$。\n    - 若 $x=0$ 或 $x=2$，$f^{\\mathcal{A}}(x)=0$。我们需要 $(0,y) \\in R^{\\mathcal{A}}$，这在 $y=0$ 和 $y=2$ 时成立。这给出了 4 个满足的赋值：$(0,0), (0,2), (2,0), (2,2)$。\n    - 若 $x=1$ 或 $x=3$，$f^{\\mathcal{A}}(x)=2$。我们需要 $(2,y) \\in R^{\\mathcal{A}}$，这在 $y=1$ 和 $y=3$ 时成立。这给出了 4 个满足的赋值：$(1,1), (1,3), (3,1), (3,3)$。\n    总共有 $4+4=8$ 个满足的赋值。因此，$N_6=8$。\n\n7.  $R(x,g(x,y))$: 自由变量为 $x,y$。条件是 $(x, g^{\\mathcal{A}}(x,y)) \\in R^{\\mathcal{A}}$。这意味着 $x \\equiv 2 \\cdot g^{\\mathcal{A}}(x,y) \\pmod{4}$。代入 $g^{\\mathcal{A}}(x,y) = (x+y) \\pmod 4$，条件变为 $x \\equiv 2(x+y) \\pmod{4}$，可简化为 $x \\equiv 2x+2y \\pmod{4}$，然后是 $0 \\equiv x+2y \\pmod 4$，最后是 $x \\equiv -2y \\equiv 2y \\pmod{4}$。这恰好是 $R(x,y)$ 为真的条件。因此，满足赋值的集合与 $R(x,y)$ 的集合相同。因此，$N_7=4$。\n\n8.  $x = y$: 自由变量为 $x,y$。我们需要分量相等的序对 $(x,y) \\in A^2$。它们是 $(0,0), (1,1), (2,2), (3,3)$。有 4 个这样的赋值。因此，$N_8=4$。\n\n9.  $f(x) = y$: 自由变量为 $x,y$。我们使用已计算的 $f^{\\mathcal{A}}$ 值列出满足此方程的序对 $(x,y)$：\n    - $f^{\\mathcal{A}}(0)=0 \\implies (x,y)=(0,0)$\n    - $f^{\\mathcal{A}}(1)=2 \\implies (x,y)=(1,2)$\n    - $f^{\\mathcal{A}}(2)=0 \\implies (x,y)=(2,0)$\n    - $f^{\\mathcal{A}}(3)=2 \\implies (x,y)=(3,2)$\n    有 4 个满足的赋值。因此，$N_9=4$。\n\n10. $g(x,y) = d$: 自由变量为 $x,y$。我们有 $d^{\\mathcal{A}}=3$。条件是 $g^{\\mathcal{A}}(x,y)=3$，即 $(x+y) \\pmod 4 = 3$。我们检查 $g^{\\mathcal{A}}(x,y)$ 的表格，找到值为 3 的序对：$(3,0), (2,1), (1,2), (0,3)$。有 4 个这样的赋值。因此，$N_{10}=4$。\n\n11. $g(f(x),y) = c$: 自由变量为 $x,y$。我们有 $c^{\\mathcal{A}}=1$。条件是 $g^{\\mathcal{A}}(f^{\\mathcal{A}}(x), y) = 1$，即 $(f^{\\mathcal{A}}(x)+y) \\pmod 4 = 1$。\n    - 对 $x=0$ 或 $x=2$，$f^{\\mathcal{A}}(x)=0$。我们需要 $(0+y) \\pmod 4 = 1 \\implies y=1$。这给出了赋值 $(0,1)$ 和 $(2,1)$。\n    - 对 $x=1$ 或 $x=3$，$f^{\\mathcal{A}}(x)=2$。我们需要 $(2+y) \\pmod 4 = 1 \\implies y=3$。这给出了赋值 $(1,3)$ 和 $(3,3)$。\n    总共有 $2+2=4$ 个满足的赋值。因此，$N_{11}=4$。\n\n12. $P(c)$: 这是一个没有自由变量的基础公式（一个语句）。其真值在空赋值下进行评估。若 $c^{\\mathcal{A}} \\in P^{\\mathcal{A}}$，则公式为真。我们有 $c^{\\mathcal{A}}=1$ 且 $P^{\\mathcal{A}}=\\{0,2\\}$。由于 $1 \\notin \\{0,2\\}$，该公式为假。满足赋值的数量为 0。因此，$N_{12}=0$。\n\n最后，我们将各个计数相加，计算满足赋值的总数 $N$：\n$N = N_1 + N_2 + N_3 + N_4 + N_5 + N_6 + N_7 + N_8 + N_9 + N_{10} + N_{11} + N_{12}$\n$N = 2 + 2 + 4 + 8 + 4 + 8 + 4 + 4 + 4 + 4 + 4 + 0$\n$N = 48$", "answer": "$$\\boxed{48}$$", "id": "2973056"}, {"introduction": "并非所有的子结构都具有同等的地位。本练习旨在探讨子结构与初等子结构之间的关键区别：前者仅共享定义域和基本运算，而后者在任何一阶语句下都与其母结构无法区分。通过有理数 $\\mathcal{Q}$ 和实数 $\\mathcal{R}$ 这个经典范例，您将构造一个语句，以揭示为何有理数尽管是实数的稠密子域，却无法捕捉其全部的一阶性质，从而违反了塔斯基-沃特判据（Tarski-Vaught criterion）。[@problem_id:2973055]", "problem": "设 $\\mathcal{L}$ 为有序环语言 $\\{0,1,+,\\cdot,-,\\}$。 考虑 $\\mathcal{L}$-结构 $\\mathcal{R}=\\langle \\mathbb{R};0,1,+,\\cdot,-,\\rangle$ 和 $\\mathcal{Q}=\\langle \\mathbb{Q};0,1,+,\\cdot,-,\\rangle$，其符号均采用通常的解释。仅从一阶结构、子结构、初等子结构的核心定义以及 Tarski–Vaught 准则出发，完成以下任务：\n\n1. 证明 $\\mathcal{Q}$ 是 $\\mathcal{R}$ 的一个子结构。\n\n2. 构造一个无参数的 $\\mathcal{L}$-语句 $\\varphi$，使得它在 $\\mathcal{R}$ 中为真但在 $\\mathcal{Q}$ 中为假，并解释为何此 $\\varphi$ 可作为 Tarski–Vaught 准则对于包含关系 $\\mathcal{Q}\\subseteq \\mathcal{R}$ 不成立的证据，从而证明 $\\mathcal{Q}$ 不是 $\\mathcal{R}$ 的初等子结构。\n\n3. 对于 $\\mathcal{L}$ 中没有自由变量且无参数的语句，以标准方式定义量词秩 $qr(\\cdot)$：原子公式的量词秩为 $0$，布尔联结词不增加量词秩，每个量词使量词秩增加 $1$。在所有满足 $\\mathcal{R}\\models \\psi$ 且 $\\mathcal{Q}\\not\\models \\psi$ 的无参数 $\\mathcal{L}$-语句 $\\psi$ 中，确定 $qr(\\psi)$ 的最小可能值。你的最终答案必须是一个精确的数字。", "solution": "本题将分三部分作答，在此之前会对问题陈述进行严格验证。一阶结构、子结构、初等子结构以及 Tarski–Vaught 准则的核心定义被假定为推理过程的基础。\n\n**问题验证**\n\n**步骤1：提取已知条件**\n- 语言： $\\mathcal{L} = \\{0,1,+,\\cdot,-,\\}$。\n- $\\mathcal{L}$-结构 $\\mathcal{R}$：论域 $\\mathbb{R}$，$\\mathcal{L}$ 中的符号均采用通常解释。具体地，$\\mathcal{R}=\\langle \\mathbb{R};0^{\\mathcal{R}},1^{\\mathcal{R}},+^{\\mathcal{R}},\\cdot^{\\mathcal{R}},-^{\\mathcal{R}},^{\\mathcal{R}}\\rangle$。\n- $\\mathcal{L}$-结构 $\\mathcal{Q}$：论域 $\\mathbb{Q}$，$\\mathcal{L}$ 中的符号均采用通常解释。具体地，$\\mathcal{Q}=\\langle \\mathbb{Q};0^{\\mathcal{Q}},1^{\\mathcal{Q}},+^{\\mathcal{Q}},\\cdot^{\\mathcal{Q}},-^{\\mathcal{Q}},^{\\mathcal{Q}}\\rangle$。\n- 任务1：证明 $\\mathcal{Q}$ 是 $\\mathcal{R}$ 的一个子结构。\n- 任务2：构造一个无参数的 $\\mathcal{L}$-语句 $\\varphi$，使得 $\\mathcal{R}\\models \\varphi$ 且 $\\mathcal{Q}\\not\\models \\varphi$。解释此 $\\varphi$ 如何作为 Tarski–Vaught 准则对于包含关系 $\\mathcal{Q}\\subseteq \\mathcal{R}$ 不成立的证据，从而证明 $\\mathcal{Q}$ 不是 $\\mathcal{R}$ 的初等子结构。\n- 任务3：对于 $\\mathcal{L}$ 中无参数的语句 $\\psi$，定义量词秩 $qr(\\psi)$ 为：$qr(\\text{atomic}) = 0$，$qr$ 在布尔联结词下保持不变，且 $qr(\\exists x \\alpha) = qr(\\forall x \\alpha) = qr(\\alpha) + 1$。确定对于任何满足 $\\mathcal{R}\\models \\psi$ 且 $\\mathcal{Q}\\not\\models \\psi$ 的 $\\psi$，$qr(\\psi)$ 的最小可能值。\n\n**步骤2：使用提取的已知条件进行验证**\n该问题是模型论中的一个标准练习，模型论是数理逻辑的一个分支。\n- **科学依据：**该问题基于一阶逻辑中公认的定义和概念。结构 $\\mathcal{R}$ 和 $\\mathcal{Q}$ 分别是实数和有理数的标准有序域，是数学中的基本对象。\n- **良构性：**问题陈述清晰，每个部分都要求确定的证明、构造或数值。根据所给定义，每个部分都存在唯一的答案。\n- **客观性：**语言形式化且无歧义。“子结构”、“初等子结构”、“Tarski–Vaught 准则”和“量词秩”等术语在数理逻辑中具有精确且普遍接受的定义。\n- 该问题是自洽的、一致的，并在其领域内构成了一个非平凡但可解的挑战。未检测到任何缺陷。\n\n**步骤3：结论与行动**\n问题有效。将提供完整解答。\n\n**解答**\n\n设 $\\mathcal{L} = \\{0, 1, +, \\cdot, -, \\}$ 为有序环语言，其中 $0$ 和 $1$ 是常数符号，+ 和 $\\cdot$ 是二元函数符号，$-$ 是一元函数符号（负号），$$ 是二元关系符号。结构为 $\\mathcal{R}=\\langle \\mathbb{R};0,1,+,\\cdot,-,\\rangle$ 和 $\\mathcal{Q}=\\langle \\mathbb{Q};0,1,+,\\cdot,-,\\rangle$，其符号均采用标准解释。\n\n**1. 证明 $\\mathcal{Q}$ 是 $\\mathcal{R}$ 的一个子结构。**\n\n要使 $\\mathcal{Q}$ 成为 $\\mathcal{R}$ 的子结构（记作 $\\mathcal{Q} \\subseteq \\mathcal{R}$），必须满足四个条件：\ni. $\\mathcal{Q}$ 的论域必须是 $\\mathcal{R}$ 论域的子集。\n$\\mathcal{Q}$ 的论域是有理数集 $\\mathbb{Q}$。$\\mathcal{R}$ 的论域是实数集 $\\mathbb{R}$。$\\mathbb{Q} \\subseteq \\mathbb{R}$ 是一个基本的数学事实。此条件成立。\n\nii. 对每个常数符号 $c \\in \\mathcal{L}$，其在 $\\mathcal{Q}$ 中的解释必须与在 $\\mathcal{R}$ 中的解释相同，即 $c^{\\mathcal{Q}} = c^{\\mathcal{R}}$。\n常数符号是 $0$ 和 $1$。它们在两个结构中的解释都是实数 $0$ 和 $1$。由于 $0 \\in \\mathbb{Q}$ 且 $1 \\in \\mathbb{Q}$，我们有 $0^{\\mathcal{Q}} = 0 = 0^{\\mathcal{R}}$ 和 $1^{\\mathcal{Q}} = 1 = 1^{\\mathcal{R}}$。此条件成立。\n\niii. 对每个 $n$-元函数符号 $f \\in \\mathcal{L}$ 及所有元素 $a_1, \\dots, a_n \\in \\mathbb{Q}$， $f$ 在 $\\mathcal{Q}$ 中的解释必须是 $f$ 在 $\\mathcal{R}$ 中的解释在 $\\mathbb{Q}^n$ 上的限制。即，$f^{\\mathcal{Q}}(a_1, \\dots, a_n) = f^{\\mathcal{R}}(a_1, \\dots, a_n)$。\n函数符号是 $+, \\cdot, -$。\n- 对于加法 ($+$)：对任意 $a, b \\in \\mathbb{Q}$，其和 $a+b$ 也在 $\\mathbb{Q}$ 中。$\\mathbb{Q}$ 上的加法运算与 $\\mathbb{R}$ 上的加法运算限制在 $\\mathbb{Q}$ 元素上时是相同的。所以，$+^{\\mathcal{Q}}(a,b) = a+b = +^{\\mathcal{R}}(a,b)$。\n- 对于乘法 ($\\cdot$)：对任意 $a, b \\in \\mathbb{Q}$，其积 $a \\cdot b$ 也在 $\\mathbb{Q}$ 中。$\\mathbb{Q}$ 上的乘法运算是 $\\mathbb{R}$ 上乘法运算的限制。所以，$\\cdot^{\\mathcal{Q}}(a,b) = a \\cdot b = \\cdot^{\\mathcal{R}}(a,b)$。\n- 对于负号 ($-$)：对任意 $a \\in \\mathbb{Q}$，其加法逆元 $-a$ 也在 $\\mathbb{Q}$ 中。$\\mathbb{Q}$ 上的一元负号运算是 $\\mathbb{R}$ 上负号运算的限制。所以，$-^{\\mathcal{Q}}(a) = -a = -^{\\mathcal{R}}(a)$。\n此条件成立，因为 $\\mathbb{Q}$ 是 $\\mathbb{R}$ 的子域，这意味着它对域运算是封闭的，并且这些运算与 $\\mathbb{R}$ 中的运算相同。\n\niv. 对每个 $n$-元关系符号 $R \\in \\mathcal{L}$ 及所有元素 $a_1, \\dots, a_n \\in \\mathbb{Q}$，关系 $R^{\\mathcal{Q}}(a_1, \\dots, a_n)$ 成立当且仅当 $R^{\\mathcal{R}}(a_1, \\dots, a_n)$ 成立。\n唯一的关系符号是 $$。对任意 $a, b \\in \\mathbb{Q}$，陈述 $a  b$ 在 $\\mathbb{Q}$ 中为真当且仅当它在 $\\mathbb{R}$ 中为真。有理数上的标准序是实数上标准序的限制。因此，$^{\\mathcal{Q}} = ^{\\mathcal{R}} \\cap (\\mathbb{Q} \\times \\mathbb{Q})$。此条件成立。\n\n由于所有四个条件都满足，$\\mathcal{Q}$ 是 $\\mathcal{R}$ 的子结构。\n\n**2. 构造一个语句 $\\varphi$ 来区分 $\\mathcal{R}$ 和 $\\mathcal{Q}$，并将其与 Tarski–Vaught 准则联系起来。**\n\n$\\mathbb{R}$ 和 $\\mathbb{Q}$ 之间能用一阶逻辑表达的主要区别是某些多项式方程解的存在性。例如，数 $\\sqrt{2}$ 存在于 $\\mathbb{R}$ 中但不存在于 $\\mathbb{Q}$ 中。我们可以用一个 $\\mathcal{L}$-语句来表达 $\\sqrt{2}$ 的存在性。数字 $2$ 可以写成 $1+1$。\n\n设语句 $\\varphi$ 为：\n$$ \\varphi \\equiv \\exists x (x \\cdot x = 1+1) $$\n- 在结构 $\\mathcal{R}$ 中：语句 $\\varphi$ 陈述了存在一个实数 $x$ 使得 $x^2 = 2$。这是真的，因为我们可以选择 $x = \\sqrt{2}$ 或 $x = -\\sqrt{2}$，它们都是 $\\mathbb{R}$ 中的元素。因此，$\\mathcal{R} \\models \\varphi$。\n- 在结构 $\\mathcal{Q}$ 中：语句 $\\varphi$ 陈述了存在一个有理数 $x$ 使得 $x^2 = 2$。这是假的。一个经典的证明表明 $\\sqrt{2}$ 是一个无理数。因此，$\\mathcal{Q} \\not\\models \\varphi$。\n\n因为我们找到了一个语句 $\\varphi$，它满足 $\\mathcal{R} \\models \\varphi$ 但 $\\mathcal{Q} \\not\\models \\varphi$，所以这两个结构不是初等等价的。$\\mathcal{Q}$ 是 $\\mathcal{R}$ 的初等子结构（记作 $\\mathcal{Q} \\preceq \\mathcal{R}$）的一个必要条件是它们初等等价。因此，$\\mathcal{Q}$ 不是 $\\mathcal{R}$ 的初等子结构。\n\n现在，我们将其与 Tarski–Vaught 准则联系起来。该准则指出，一个子结构 $\\mathcal{N} \\subseteq \\mathcal{M}$ 是一个初等子结构 ($\\mathcal{N} \\preceq \\mathcal{M}$) 当且仅当对于每一个带有所示自由变量的 $\\mathcal{L}$-公式 $\\psi(y, x_1, \\dots, x_k)$，以及对于从 $\\mathcal{N}$ 的论域中选取的每一组参数 $a_1, \\dots, a_k$，如果存在 $\\mathcal{M}$ 论域中的一个见证元 $b$ 使得 $\\mathcal{M} \\models \\psi(b, a_1, \\dots, a_k)$，那么必然存在 $\\mathcal{N}$ 论域中的一个见证元 $c$ 使得 $\\mathcal{N} \\models \\psi(c, a_1, \\dots, a_k)$（因为 $\\mathcal{N}$ 是子结构，这等价于 $\\mathcal{M} \\models \\psi(c, a_1, \\dots, a_k)$）。\n\n让我们将此准则应用于我们的情况。\n- 设 $\\mathcal{M} = \\mathcal{R}$ 且 $\\mathcal{N} = \\mathcal{Q}$。\n- 考虑公式 $\\psi(x) \\equiv (x \\cdot x = 1+1)$。此公式有一个自由变量 $x$，且没有参数。所以列表 $(a_1, \\dots, a_k)$ 是空的。\n- Tarski–Vaught 准则的前提是：是否存在一个元素 $b \\in \\mathbb{R}$ 使得 $\\mathcal{R} \\models \\psi(b)$？\n- 是的，如前所示，$b = \\sqrt{2}$ 是 $\\mathbb{R}$ 的一个元素，并且 $\\mathcal{R} \\models (\\sqrt{2} \\cdot \\sqrt{2} = 1+1)$。前提得到满足。\n- 准则所要求的结论是：必须存在一个元素 $c \\in \\mathbb{Q}$ 使得 $\\mathcal{Q} \\models \\psi(c)$，或等价地，$\\mathcal{R} \\models \\psi(c)$。\n- 这个结论意味着必须存在一个有理数 $c$ 使得 $c^2=2$。如已证明，不存在这样的有理数。\n- 因此，Tarski–Vaught 准则对于公式 $\\psi(x) = (x \\cdot x = 1+1)$ 不成立。这个不成立证明了 $\\mathcal{Q}$ 不是 $\\mathcal{R}$ 的初等子结构。语句 $\\varphi = \\exists x \\psi(x)$ 正是那个在 $\\mathcal{R}$ 中为真但在 $\\mathcal{Q}$ 中为假的陈述，直接捕捉了这种不成立。\n\n**3. 确定区分性语句的最小量词秩。**\n\n设 $\\psi$ 是一个无参数的 $\\mathcal{L}$-语句，满足 $\\mathcal{R} \\models \\psi$ 且 $\\mathcal{Q} \\not\\models \\psi$。我们希望找到 $qr(\\psi)$ 的最小可能值。\n\n首先，考虑第2部分中的语句 $\\varphi$：$\\varphi \\equiv \\exists x (x \\cdot x = 1+1)$。\n- 子公式 $\\chi \\equiv (x \\cdot x = 1+1)$ 是一个原子公式。原子公式由两个项相等或将一个关系符号应用于若干项构成。在这里，$x \\cdot x$ 和 $1+1$ 是有效的项，而 $=$ 是等式关系。\n- 根据定义，原子公式的量词秩为 $0$。所以，$qr(\\chi) = 0$。\n- 语句 $\\varphi$ 是通过对 $\\chi$ 应用一个存在量词构成的。\n- 根据定义，$qr(\\varphi) = qr(\\exists x \\chi) = qr(\\chi) + 1 = 0 + 1 = 1$。\n- 因为我们已经找到了一个量词秩为 $1$ 的语句来区分 $\\mathcal{R}$ 和 $\\mathcal{Q}$，所以最小秩必须小于或等于 $1$。\n\n接下来，我们来确定最小秩是否可以为 $0$。\n- 量词秩为 $0$ 的语句是无量词语句。因为它没有自由变量，所以它必须是原子语句的布尔组合（使用 $\\land, \\lor, \\neg$）。\n- 原子语句是没有变量的原子公式。它必须具有 $t_1 = t_2$ 或 $t_1  t_2$ 的形式，其中 $t_1$ 和 $t_2$ 是无变量的项。\n- $\\mathcal{L}$ 中的无变量项由常数符号 $0$ 和 $1$ 以及函数符号 $+, \\cdot, -$ 构造而成。例如，$1+1$、$(1+1) \\cdot (1+1)$ 和 $-(1)$ 就是这样的项。\n- $\\mathcal{L}$ 中的任何无变量项 $t$ 都可求值为一个特定的整数。我们将其值记作 $v(t) \\in \\mathbb{Z}$。\n- $t$ 在 $\\mathcal{Q}$ 中的解释，记作 $t^{\\mathcal{Q}}$，就是这个整数 $v(t)$。\n- $t$ 在 $\\mathcal{R}$ 中的解释，记作 $t^{\\mathcal{R}}$，也是同一个整数 $v(t)$。由于 $\\mathbb{Z} \\subseteq \\mathbb{Q} \\subseteq \\mathbb{R}$，这个值存在于两个论域中且是相同的。\n- 现在考虑一个原子语句 $t_1=t_2$。\n  - $\\mathcal{Q} \\models (t_1=t_2)$ 当且仅当 $t_1^{\\mathcal{Q}} = t_2^{\\mathcal{Q}}$，这意味着 $v(t_1) = v(t_2)$。\n  - $\\mathcal{R} \\models (t_1=t_2)$ 当且仅当 $t_1^{\\mathcal{R}} = t_2^{\\mathcal{R}}$，这意味着 $v(t_1) = v(t_2)$。\n  - 因此，$\\mathcal{Q} \\models (t_1=t_2) \\iff \\mathcal{R} \\models (t_1=t_2)$。\n- 类似地，对于原子语句 $t_1  t_2$：\n  - $\\mathcal{Q} \\models (t_1  t_2) \\iff v(t_1)  v(t_2)$。\n  - $\\mathcal{R} \\models (t_1  t_2) \\iff v(t_1)  v(t_2)$。\n  - 因此，$\\mathcal{Q} \\models (t_1  t_2) \\iff \\mathcal{R} \\models (t_1  t_2)$。\n- 每个原子语句在 $\\mathcal{Q}$ 和 $\\mathcal{R}$ 中具有相同的真值。由于语句的布尔组合的真值由其组成部分的真值决定，因此任何无量词语句（秩为 $0$）在 $\\mathcal{Q}$ 和 $\\mathcal{R}$ 中必须具有相同的真值。\n- 因此，没有量词秩为 $0$ 的语句能够区分 $\\mathcal{R}$ 和 $\\mathcal{Q}$。\n\n最小量词秩必须大于 $0$。既然我们已经找到了一个秩为 $1$ 的区分性语句，那么量词秩的最小可能值就是 $1$。", "answer": "$$\\boxed{1}$$", "id": "2973055"}, {"introduction": "一个句子的真值并非绝对，它总是相对于一个具体结构而言。本练习将挑战您成为一名模型建构者，在同一个定义域上构造出不同的解释，以满足或证伪一组给定的公理。通过分析一个复杂句子所要求的性质并计算所有可能的满足结构的数量，您将更深刻地体会到句法（公式）与语义（模型）之间的相互作用。[@problem_id:2973030]", "problem": "令 $\\mathcal{L}=\\{f^{1},c^{0},P^{1},R^{2}\\}$ 为一个一阶标识，其中包含一个一元函数符号 $f$、一个常量符号 $c$、一个一元关系符号 $P$ 和一个二元关系符号 $R$。固定论域为 $D=\\{0,1,2,3\\}$。考虑一个 $\\mathcal{L}$-句子 $\\varphi$，该句子在带等词的一阶逻辑的 Tarski 语义意义下，断言了以下所有内容：\n\n- $R$ 是一个等价关系：\n$$\\forall x\\,R(x,x)\\ \\wedge\\ \\forall x\\,\\forall y\\,(R(x,y)\\rightarrow R(y,x))\\ \\wedge\\ \\forall x\\,\\forall y\\,\\forall z\\,((R(x,y)\\wedge R(y,z))\\rightarrow R(x,z))$$\n\n- 存在恰好两个 $R$-等价类，它们无重叠地覆盖整个论域，由两个元素 $u$ 和 $v$ 所见证：\n$$\\exists u\\,\\exists v\\,\\big(u\\neq v\\ \\wedge\\ \\neg R(u,v)\\ \\wedge\\ \\forall x\\,(R(x,u)\\ \\vee\\ R(x,v))\\ \\wedge\\ \\forall x\\,\\neg(R(x,u)\\wedge R(x,v))\\big)$$\n\n- $f$ 是一个保持 $R$-等价类的无不动点对合：\n$$\\forall x\\,(f(f(x))=x\\ \\wedge\\ x\\neq f(x)\\ \\wedge\\ R(x,f(x)))$$\n\n- $P$ 恰好选出 $c$ 的 $R$-等价类：\n$$\\forall x\\,(P(x)\\leftrightarrow R(x,c))$$\n\n任务：\n1. 在同一个论域 $D=\\{0,1,2,3\\}$ 上，显式地构造两个不同的 $\\mathcal{L}$-结构，它们对符号的解释不同，使得一个结构满足 $\\varphi$ 而另一个不满足，从而证明 $\\varphi$ 的真值对符号的解释是敏感的。\n2. 令 $N$ 为在 $D$ 上满足 $\\varphi$ 的 $\\mathcal{L}$-解释（即，在固定集合 $D$ 上对 $f$、$c$、$P$ 和 $R$ 的解释的选择）的总数。确定 $N$。你的最终答案应为一个整数。无需四舍五入，不涉及单位。只有 $N$ 的值会被评分。", "solution": "该问题要求我们分析在论域 $D=\\{0,1,2,3\\}$ 上满足给定一阶句子 $\\varphi$ 的 $\\mathcal{L}$-结构的性质。句子 $\\varphi$ 是四个条件的合取。我们将首先分析这些条件，然后根据任务1的要求构造两个结构，最后为任务2计算满足条件的结构总数。\n\n令 $\\mathcal{M} = (D, R^{\\mathcal{M}}, f^{\\mathcal{M}}, c^{\\mathcal{M}}, P^{\\mathcal{M}})$ 为一个论域为 $D=\\{0,1,2,3\\}$ 的 $\\mathcal{L}$-结构。为使 $\\mathcal{M}$ 满足 $\\varphi$（记为 $\\mathcal{M} \\models \\varphi$），所有四个指定的条件都必须成立。\n\n1.  **条件分析：**\n    -   **条件1（$R$ 是一个等价关系）：** $R^{\\mathcal{M}}$ 必须是 $D$ 上的一个自反、对称和传递的二元关系。这意味着 $R^{\\mathcal{M}}$ 将论域 $D$ 划分为若干不相交的非空子集，称为等价类。\n    -   **条件2（$R$ 有两个类）：** 第二个公式断言，由 $R^{\\mathcal{M}}$ 导出的划分恰好由两个等价类组成。论域 $D$ 有 $|D|=4$ 个元素。将一个4元素集合划分为2个非空类，其大小可以是 $(1,3)$ 或 $(2,2)$。\n    -   **条件3（$f$ 是一个特殊的对合）：** $f^{\\mathcal{M}}$ 必须是一个从 $D$ 到 $D$ 的函数，使得：\n        -   $\\forall x \\in D, f^{\\mathcal{M}}(f^{\\mathcal{M}}(x)) = x$（$f^{\\mathcal{M}}$ 是一个对合）。\n        -   $\\forall x \\in D, x \\neq f^{\\mathcal{M}}(x)$（$f^{\\mathcal{M}}$ 是无不动点的）。\n        -   $\\forall x \\in D, R^{\\mathcal{M}}(x, f^{\\mathcal{M}}(x))$（等价类在 $f^{\\mathcal{M}}$ 下是封闭的）。\n\n    让我们结合这些条件。有限集上的无不动点对合将元素两两配对。这意味着该集合必须有偶数个元素。条件 $R^{\\mathcal{M}}(x, f^{\\mathcal{M}}(x))$ 意味着对于任何等价类 $S \\subseteq D$，$f^{\\mathcal{M}}$ 必须将 $S$ 的元素映射到 $S$ 的元素。因此，$f^{\\mathcal{M}}$ 限制在 $S$ 上（记为 $f^{\\mathcal{M}}|_S$）必须是 $S$ 上的一个无不动点对合。这就要求每个等价类 $S$ 都必须有偶数大小。\n\n    $D$ 的划分由两个类组成。可能的大小分布是 $(1,3)$ 和 $(2,2)$。由于每个类都必须有偶数大小，所以 $(1,3)$ 划分被排除了。因此，由 $R^{\\mathcal{M}}$ 导出的划分必须由两个大小为2的类组成。\n\n    此外，对于一个大小为2的类，比如 $S = \\{a,b\\}$，唯一的无不动点对合是交换这两个元素：$f^{\\mathcal{M}}(a)=b$ 且 $f^{\\mathcal{M}}(b)=a$。因此，函数 $f^{\\mathcal{M}}$ 由关系 $R^{\\mathcal{M}}$ 唯一确定。\n\n    -   **条件4（$P$ 标识出 $c$ 的类）：** 一元谓词 $P$ 的解释是一个子集 $P^{\\mathcal{M}} \\subseteq D$，由 $\\forall x \\in D, (x \\in P^{\\mathcal{M}} \\leftrightarrow R^{\\mathcal{M}}(x, c^{\\mathcal{M}}))$ 给出。这意味着 $P^{\\mathcal{M}}$ 必须恰好是包含元素 $c^{\\mathcal{M}}$ 的等价类。因此，$P^{\\mathcal{M}}$ 由 $R$ 和 $c$ 的解释唯一确定。\n\n结论总结：为使一个结构满足 $\\varphi$，其组成部分必须满足以下具体标准：\n-   $R^{\\mathcal{M}}$ 必须将 $D=\\{0,1,2,3\\}$ 划分为两个大小为2的类。\n-   $f^{\\mathcal{M}}$ 必须是交换这两个类中各自元素的唯一的无不动点对合。\n-   $c^{\\mathcal{M}}$ 可以是 $D$ 中的任意元素。\n-   $P^{\\mathcal{M}}$ 必须是 $c^{\\mathcal{M}}$ 在 $R^{\\mathcal{M}}$ 下的等价类。\n\n**任务1：构造一个模型和一个非模型**\n\n我们将构造两个结构，$\\mathcal{M}_1$ 满足 $\\varphi$，而 $\\mathcal{M}_2$ 不满足。\n\n**结构 $\\mathcal{M}_1$（$\\varphi$ 的一个模型）：**\n让我们选择一个将 $D$ 划分为两个大小为2的类的具体划分：$\\{\\{0,1\\}, \\{2,3\\}\\}$。\n-   $R$ 的解释 $R^{\\mathcal{M}_1}$ 是与此划分对应的等价关系：\n    $R^{\\mathcal{M}_1} = \\{(0,0), (1,1), (2,2), (3,3), (0,1), (1,0), (2,3), (3,2)\\}$. 这满足条件1和2。\n-   $f$ 的解释 $f^{\\mathcal{M}_1}$ 由该划分确定。它必须交换每个类中的元素：\n    $f^{\\mathcal{M}_1}(0)=1, f^{\\mathcal{M}_1}(1)=0, f^{\\mathcal{M}_1}(2)=3, f^{\\mathcal{M}_1}(3)=2$。这满足条件3。\n-   让我们为 $c$ 选择一个解释，比如 $c^{\\mathcal{M}_1} = 0$。\n-   $P$ 的解释 $P^{\\mathcal{M}_1}$ 必须是 $c^{\\mathcal{M}_1}=0$ 的等价类，即 $\\{0,1\\}$。所以，$P^{\\mathcal{M}_1} = \\{0,1\\}$。这满足条件4。\n由于所有四个条件都已满足，$\\mathcal{M}_1 \\models \\varphi$。\n\n**结构 $\\mathcal{M}_2$（不是 $\\varphi$ 的模型）：**\n我们可以通过违反其中一个条件来构造一个非模型。一个简单的方法是违反条件4，同时保持其他解释与 $\\mathcal{M}_1$ 中的相同。\n-   $R^{\\mathcal{M}_2} = R^{\\mathcal{M}_1} = \\{(0,0), (1,1), (2,2), (3,3), (0,1), (1,0), (2,3), (3,2)\\}$.\n-   $f^{\\mathcal{M}_2} = f^{\\mathcal{M}_1}$, 所以 $f^{\\mathcal{M}_2}(0)=1, f^{\\mathcal{M}_2}(1)=0, f^{\\mathcal{M}_2}(2)=3, f^{\\mathcal{M}_2}(3)=2$。\n-   $c^{\\mathcal{M}_2} = c^{\\mathcal{M}_1} = 0$.\n做出这些选择后，条件1、2和3都得到满足。要使 $\\mathcal{M}_2$ 成为一个模型，条件4将要求 $P^{\\mathcal{M}_2}$ 是 $c^{\\mathcal{M}_2}=0$ 的等价类，即 $\\{0,1\\}$。我们将为 $P$ 选择一个不同的解释。\n-   令 $P^{\\mathcal{M}_2} = \\{2,3\\}$。\n现在我们来检查条件4：$\\forall x (P(x) \\leftrightarrow R(x,c))$。我们用 $x=0$ 来测试。\n$P^{\\mathcal{M}_2}(0)$ 为假，因为 $0 \\notin \\{2,3\\}$。\n$R^{\\mathcal{M}_2}(0, c^{\\mathcal{M}_2})$ 即 $R^{\\mathcal{M}_2}(0,0)$，为真。\n所以等价关系 $P^{\\mathcal{M}_2}(0) \\leftrightarrow R^{\\mathcal{M}_2}(0,0)$ 变为“假 $\\leftrightarrow$ 真”，这是假的。\n因此，全称陈述 $\\forall x (P(x) \\leftrightarrow R(x,c))$ 在 $\\mathcal{M}_2$ 中为假。因此，$\\mathcal{M}_2 \\not\\models \\varphi$。这证明了 $\\varphi$ 的真值依赖于解释。\n\n**任务2：确定满足条件的结构数量 $N$**\n\n我们计算在 $D=\\{0,1,2,3\\}$ 上定义满足所有条件的 $R, f, c, P$ 的解释的方法数量。\n\n1.  **$R^{\\mathcal{M}}$ 的选择数量：** 如前所述，$R^{\\mathcal{M}}$ 必须将 $D$ 划分为两个大小为2的类。实现这一点的方法数，等于从4个可用元素中为其中一个类选择2个元素的方法数，然后除以2，因为这两个类是不可区分的（选择 $\\{0,1\\}$ 和选择 $\\{2,3\\}$ 得到的是同一个划分）。\n    划分的数量 = $\\frac{1}{2}\\binom{4}{2} = \\frac{1}{2} \\cdot \\frac{4 \\cdot 3}{2 \\cdot 1} = \\frac{6}{2} = 3$。\n    三种可能的划分是：$\\{\\{0,1\\},\\{2,3\\}\\}$、$\\{\\{0,2\\},\\{1,3\\}\\}$ 和 $\\{\\{0,3\\},\\{1,2\\}\\}$。\n    所以有3种选择 $R^{\\mathcal{M}}$ 的方法。\n\n2.  **$f^{\\mathcal{M}}$ 的选择数量：** 对于 $R^{\\mathcal{M}}$ 的每一种选择（即，对于每一种划分），函数 $f^{\\mathcal{M}}$ 都是唯一确定的。它必须交换两对元素中各自的元素。例如，如果划分是 $\\{\\{0,1\\},\\{2,3\\}\\}$，那么 $f^{\\mathcal{M}}$ 必须是置换 $(0 \\ 1)(2 \\ 3)$。\n    所以对于每一种 $R^{\\mathcal{M}}$ 的选择，只有1种选择 $f^{\\mathcal{M}}$ 的方法。\n\n3.  **$c^{\\mathcal{M}}$ 的选择数量：** 常量符号 $c$ 可以被解释为论域 $D$ 中的任何元素。对 $c^{\\mathcal{M}}$ 的选择没有限制。\n    所以有 $|D| = 4$ 种选择 $c^{\\mathcal{M}}$ 的方法。\n\n4.  **$P^{\\mathcal{M}}$ 的选择数量：** 解释 $P^{\\mathcal{M}}$ 完全由 $R^{\\mathcal{M}}$ 和 $c^{\\mathcal{M}}$ 确定。它必须是 $c^{\\mathcal{M}}$ 的等价类。一旦 $R^{\\mathcal{M}}$ 和 $c^{\\mathcal{M}}$ 固定下来，就没有其他选择了。\n    所以对于每对 $R^{\\mathcal{M}}$ 和 $c^{\\mathcal{M}}$ 的选择，只有1种选择 $P^{\\mathcal{M}}$ 的方法。\n\n满足条件的结构总数 $N$ 是每个组成部分独立选择数量的乘积。\n$N = (R \\text{ 的选择数}) \\times (\\text{给定 } R \\text{ 时 } f \\text{ 的选择数}) \\times (c \\text{ 的选择数}) \\times (\\text{给定 } R, c \\text{ 时 } P \\text{ 的选择数})$\n$N = 3 \\times 1 \\times 4 \\times 1 = 12$.\n\n在 $D$ 上恰好有12个不同的 $\\mathcal{L}$-结构满足句子 $\\varphi$。", "answer": "$$\n\\boxed{12}\n$$", "id": "2973030"}]}