{"hands_on_practices": [{"introduction": "在度量空间的研究中，一个关键的见解是空间的拓扑性质（如连通性或紧致性）与诱导该拓扑的特定度量是分离的。我们可以修改一个度量以获得新的度量性质（例如有界性），同时保持其拓扑等价性和完备性。本练习 [@problem_id:2971699] 将指导你完成一个标准构造，从任意完备度量出发，创建一个等价的有界完备度量，这是分析学和拓扑学中的一个基本工具。", "problem": "设 $(X,d)$ 是一个非紧波兰空间 (noncompact Polish space)，即 $X$ 是可分的 (separable) 并且容许一个相容的完备度量 (compatible complete metric)。用度量的术语来说，如果 $X$ 上的一个度量 $d'$ 与 $d$ 导出 $X$ 上的相同拓扑，则称 $d'$ 与 $d$ 是相容的。一个度量空间被称为完全有界的 (totally bounded)，如果对任意 $\\varepsilon>0$，都存在一个有限子集 $F\\subseteq X$，使得以 $F$ 中各点为中心的 $\\varepsilon$-球的并集覆盖 $X$。度量空间的一个子集被称为预紧的 (precompact)（也称作相对紧的 (relatively compact)），如果其闭包是紧的；对于度量空间，预紧性等价于完全有界性。\n\n你的任务是：\n- 从波兰空间上度量的基本定义和性质出发，在 $X$ 上构造一个度量 $d_{\\mathrm{b}}$，该度量是有界的、完备的，并且与由 $d$ 导出的原始拓扑相容。请仅使用基本原理来证明你的构造得出的度量具有这三个性质。\n- 通过将 $d$ 和 $d_{\\mathrm{b}}$ 中由 $\\varepsilon$-球构成的覆盖与完全有界性的失效联系起来，解释当 $X$ 不是预紧的时，如何确保 $d_{\\mathrm{b}}$ 的完全有界性也不成立。\n- 将你的构造具体化到 $X=\\mathbb{R}$ 且度量为通常度量 $d(x,y)=|x-y|$ 的情况，并以闭式表达式的形式给出 $d_{\\mathrm{b}}(x,y)$ 的显式公式。\n\n你的最终答案必须是当 $X=\\mathbb{R}$ 且 $d(x,y)=|x-y|$ 时，$d_{\\mathrm{b}}(x,y)$ 的显式解析表达式。不需要近似值。", "solution": "所述问题在数学上是合理的且提法得当。给定一个非紧波兰空间 $(X,d)$。根据定义，波兰空间是一个可分的、完全可度量化的拓扑空间。符号 $(X,d)$ 暗示 $d$ 是一个相容的度量。为了使空间完备，我们必须假设 $d$ 是一个完备度量，这是对“$(X,d)$ 是一个波兰空间”这一符号的标准解释。因此，$(X,d)$ 是一个可分的完备度量空间。由于它是非紧的，根据度量空间的 Heine-Borel 定理，它不是完全有界的。\n\n我们按顺序解决这三个任务。\n\n首先，我们在 $X$ 上构造一个度量 $d_{\\mathrm{b}}$，使其是有界的、完备的，并与由 $d$ 导出的拓扑相容。\n设原始度量为 $d(x,y)$。我们通过以下公式定义一个新函数 $d_{\\mathrm{b}}: X \\times X \\to \\mathbb{R}$：\n$$d_{\\mathrm{b}}(x,y) = \\frac{d(x,y)}{1 + d(x,y)}$$\n我们必须验证 $d_{\\mathrm{b}}$ 是一个度量，并具有所需的性质。\n\n1.  **验证 $d_{\\mathrm{b}}$ 是一个度量：**\n    -   **非负性**：由于对所有 $x,y \\in X$ 都有 $d(x,y) \\ge 0$，显然 $d_{\\mathrm{b}}(x,y) = \\frac{d(x,y)}{1+d(x,y)} \\ge 0$。\n    -   **不可分者同一性**：$d_{\\mathrm{b}}(x,y) = 0 \\iff \\frac{d(x,y)}{1+d(x,y)} = 0 \\iff d(x,y) = 0 \\iff x=y$。\n    -   **对称性**：利用 $d$ 的对称性，我们有 $d_{\\mathrm{b}}(x,y) = \\frac{d(x,y)}{1+d(x,y)} = \\frac{d(y,x)}{1+d(y,x)} = d_{\\mathrm{b}}(y,x)$。\n    -   **三角不等式**：我们需要证明对任意 $x,y,z \\in X$，都有 $d_{\\mathrm{b}}(x,z) \\le d_{\\mathrm{b}}(x,y) + d_{\\mathrm{b}}(y,z)$。\n        令函数 $f: [0, \\infty) \\to [0, \\infty)$ 定义为 $f(t) = \\frac{t}{1+t}$。我们的度量是 $d_{\\mathrm{b}}(x,y) = f(d(x,y))$。\n        $f$ 的一阶导数是 $f'(t) = \\frac{1(1+t) - t(1)}{(1+t)^2} = \\frac{1}{(1+t)^2}$。由于对所有 $t \\ge 0$ 都有 $f'(t)>0$，所以函数 $f$ 是严格递增的。\n        二阶导数是 $f''(t) = -2(1+t)^{-3}$，对于 $t \\ge 0$ 为负。因此，$f$ 是一个凹函数。\n        对于满足 $f(0)=0$ 的凹函数 $f$，已知 $f$ 是次可加的 (subadditive)，即对所有 $a, b \\ge 0$ 有 $f(a+b) \\le f(a) + f(b)$。\n        令 $a=d(x,y)$ 且 $b=d(y,z)$。度量 $d$ 的三角不等式表明 $d(x,z) \\le d(x,y) + d(y,z) = a+b$。\n        由于 $f$ 是递增的，我们有 $f(d(x,z)) \\le f(a+b)$。\n        利用 $f$ 的次可加性，我们有 $f(a+b) \\le f(a) + f(b)$。\n        结合这些不等式，我们得到 $f(d(x,z)) \\le f(d(x,y)) + f(d(y,z))$，这正是 $d_{\\mathrm{b}}(x,z) \\le d_{\\mathrm{b}}(x,y) + d_{\\mathrm{b}}(y,z)$。\n        因此，$d_{\\mathrm{b}}$ 满足三角不等式，是 $X$ 上的一个有效度量。\n\n2.  **验证有界性、相容性和完备性：**\n    -   **有界性**：对任意 $x,y \\in X$，有 $d(x,y) \\ge 0$，因此 $1+d(x,y) > d(x,y)$。所以，$d_{\\mathrm{b}}(x,y) = \\frac{d(x,y)}{1+d(x,y)} < 1$。度量 $d_{\\mathrm{b}}$ 是有界的，例如，常数 $1$ 是它的一个界。\n    -   **相容性**：要证明 $d$ 和 $d_{\\mathrm{b}}$ 导出相同的拓扑，只需证明 $X$ 中的序列 $(x_n)_{n \\in \\mathbb{N}}$ 相对于 $d$ 收敛于一个点 $x \\in X$ 的充要条件是它相对于 $d_{\\mathrm{b}}$ 收敛于 $x$。\n        -   假设当 $n \\to \\infty$ 时 $d(x_n, x) \\to 0$。那么 $d_{\\mathrm{b}}(x_n, x) = \\frac{d(x_n, x)}{1+d(x_n, x)} \\to \\frac{0}{1+0} = 0$。所以在 $d$ 中的收敛意味着在 $d_{\\mathrm{b}}$ 中的收敛。\n        -   假设当 $n \\to \\infty$ 时 $d_{\\mathrm{b}}(x_n, x) \\to 0$。令 $t_n = d(x_n, x)$。我们已知 $\\frac{t_n}{1+t_n} \\to 0$。这意味着 $t_n \\to 0$，因为如果 $t_n$ 不收敛到 $0$，就会存在一个 $\\epsilon > 0$ 和一个子序列 $(t_{n_k})$，使得对所有 $k$ 都有 $t_{n_k} \\ge \\epsilon$。这将意味着 $\\frac{t_{n_k}}{1+t_{n_k}} \\ge \\frac{\\epsilon}{1+\\epsilon} > 0$，这与序列收敛到 $0$ 相矛盾。因此，$d(x_n, x) \\to 0$。\n        由于序列收敛性对两个度量是等价的，它们导出相同的拓扑。\n    -   **完备性**：在已知 $(X, d)$ 是完备的情况下，我们需要证明 $(X, d_{\\mathrm{b}})$ 是一个完备度量空间。设 $(x_n)$ 是 $(X, d_{\\mathrm{b}})$ 中的一个柯西序列 (Cauchy sequence)。这意味着对任意 $\\epsilon > 0$，存在一个整数 $N$，使得对所有 $m,n > N$，都有 $d_{\\mathrm{b}}(x_n, x_m) < \\epsilon$。\n        我们想证明 $(x_n)$ 在 $(X,d)$ 中也是一个柯西序列。令 $t_{mn} = d(x_n, x_m)$。条件是 $\\frac{t_{mn}}{1+t_{mn}} < \\epsilon$。这意味着 $t_{mn} < \\epsilon(1+t_{mn})$，整理后得到 $t_{mn}(1-\\epsilon) < \\epsilon$。对于 $\\epsilon \\in (0,1)$，我们可以写成 $t_{mn} < \\frac{\\epsilon}{1-\\epsilon}$。\n        给定任意 $\\delta > 0$，选择 $\\epsilon = \\frac{\\delta}{1+\\delta}$。注意 $0 < \\epsilon < 1$。如果 $d_{\\mathrm{b}}(x_n, x_m) < \\epsilon$，那么 $d(x_n, x_m) < \\frac{\\epsilon}{1-\\epsilon} = \\frac{\\delta/(1+\\delta)}{1-\\delta/(1+\\delta)} = \\delta$。这表明如果 $(x_n)$ 相对于 $d_{\\mathrm{b}}$ 是柯西序列，那么它也相对于 $d$ 是柯西序列。\n        由于 $(X, d)$ 是一个完备度量空间，柯西序列 $(x_n)$ 会相对于度量 $d$ 收敛到某个极限 $x \\in X$。\n        正如在相容性证明中所示，相对于 $d$ 的收敛意味着相对于 $d_{\\mathrm{b}}$ 的收敛。因此，序列 $(x_n)$ 在度量 $d_{\\mathrm{b}}$ 中收敛到 $x$。\n        因为 $(X, d_{\\mathrm{b}})$ 中的每个柯西序列都收敛到 $X$ 中的一个点，所以空间 $(X, d_{\\mathrm{b}})$ 是完备的。\n\n这完成了问题的第一部分。\n\n第二，我们解释为什么 $(X, d_{\\mathrm{b}})$ 的完全有界性不成立。\n一个度量空间是紧的当且仅当它是完备且完全有界的。我们已知 $(X,d)$ 是一个完备度量空间但不是紧的。这必然意味着 $(X,d)$ 不是完全有界的。\n$(X,d)$ 的完全有界性不成立意味着存在一个 $\\varepsilon_0 > 0$，使得对任意有限子集 $F \\subset X$，开球的并集 $\\bigcup_{f \\in F} B_d(f, \\varepsilon_0)$ 不覆盖 $X$。\n我们想证明 $(X, d_{\\mathrm{b}})$ 也不是完全有界的。我们将两个度量中的开球联系起来。$(X, d_{\\mathrm{b}})$ 中的开球定义为 $B_{d_{\\mathrm{b}}}(x, \\delta) = \\{ y \\in X \\mid d_{\\mathrm{b}}(x,y) < \\delta \\}$。\n条件 $d_{\\mathrm{b}}(x,y) < \\delta$ 等价于 $\\frac{d(x,y)}{1+d(x,y)} < \\delta$，（对于 $\\delta < 1$）这又等价于 $d(x,y) < \\frac{\\delta}{1-\\delta}$。\n因此，对 $\\delta \\in (0,1)$，开球之间的关系为 $B_{d_{\\mathrm{b}}}(x, \\delta) = B_d\\left(x, \\frac{\\delta}{1-\\delta}\\right)$。\n我们选择一个特定的 $\\delta_0$，对应于那个使得 $(X, d)$ 不存在有限 $\\varepsilon_0$-网的 $\\varepsilon_0$。我们设 $\\varepsilon_0 = \\frac{\\delta_0}{1-\\delta_0}$。解出 $\\delta_0$ 得 $\\delta_0 = \\frac{\\varepsilon_0}{1+\\varepsilon_0}$。由于 $\\varepsilon_0 > 0$，我们有 $0 < \\delta_0 < 1$。\n通过这个选择，我们对所有 $x \\in X$ 都有 $B_{d_{\\mathrm{b}}}(x, \\delta_0) = B_d(x, \\varepsilon_0)$。\n现在，为寻求矛盾，假设 $(X, d_{\\mathrm{b}})$ 是完全有界的。那么，对于我们这个特定的 $\\delta_0 > 0$，必然存在一个有限集 $F = \\{f_1, \\dots, f_k\\} \\subset X$ 使得 $X = \\bigcup_{i=1}^k B_{d_{\\mathrm{b}}}(f_i, \\delta_0)$。\n使用我们推导出的恒等式，这意味着 $X = \\bigcup_{i=1}^k B_d(f_i, \\varepsilon_0)$。\n但这与 $(X,d)$ 不是完全有界的事实相矛盾，因为半径为 $\\varepsilon_0$ 的球的任何有限集合都不能覆盖 $X$。\n因此，我们的假设必定是错误的，$(X, d_{\\mathrm{b}})$ 不是完全有界的。\n\n第三，我们将构造具体化到 $X=\\mathbb{R}$ 且度量为通常度量 $d(x,y)=|x-y|$ 的情况。\n空间 $(\\mathbb{R}, d)$ 是一个波兰空间，因为它是可分的（有理数集 $\\mathbb{Q}$ 是一个可数稠密子集），并且度量 $d(x,y)=|x-y|$ 是完备的。它不是紧的，因为它不是有界的。因此，它符合问题中对空间的描述。\n将我们对 $d_{\\mathrm{b}}$ 的构造应用于这个具体情况，我们将 $d(x,y) = |x-y|$ 代入公式：\n$$d_{\\mathrm{b}}(x,y) = \\frac{d(x,y)}{1+d(x,y)} = \\frac{|x-y|}{1+|x-y|}$$\n这就给出了在 $\\mathbb{R}$ 上与通常拓扑相容的有界、完备度量的显式闭式表达式。", "answer": "$$\\boxed{\\frac{|x-y|}{1+|x-y|}}$$", "id": "2971699"}, {"introduction": "在上一个练习中，我们学习了如何保持完备性，而这个练习将展示如何*生成*完备性。本实践 [@problem_id:2971701] 探讨了一个重要定理：完备度量空间的开子空间是可完备度量化的。通过构造一个在边界附近“发散”的新度量，你将具体理解为何波兰空间的任何开子集本身也是一个波兰空间，这是描述集合论中的一个基石性结果。", "problem": "设 $\\left(X,d\\right)$ 是一个完备度量空间，且 $U \\subseteq X$ 是一个非空开子集。请仅根据完备性、诱导子空间拓扑以及点到集合的距离等基本定义，完成以下任务。\n\n- 显式地构造一个 $U$ 上的度量 $\\hat{d}$，使得由 $\\hat{d}$ 诱导的拓扑与 $U$ 从 $\\left(X,d\\right)$ 继承的子空间拓扑一致，并且 $\\left(U,\\hat{d}\\right)$ 是完备的。\n- 严格证明您构造的 $\\hat{d}$ 是一个度量，它与限制在 $U$ 上的 $d$ 拓扑相容，并且 $\\left(U,\\hat{d}\\right)$ 是完备的。\n\n最后，将问题具体化到 $X=\\mathbb{R}$（具有通常的欧几里得度量 $d(x,y)=|x-y|$）和 $U=(0,1)$ 的情况。使用您构造的 $\\hat{d}$，计算两点 $x=\\tfrac{1}{4}$ 和 $y=\\tfrac{2}{3}$ 之间的 $\\hat{d}$-距离的精确值。将您的最终数值答案表示为最简分数。不需要四舍五入。", "solution": "该问题要求在一个完备度量空间的非空开子集上构造并验证一个完备度量，该度量在拓扑上等价于原始的子空间拓扑。然后，我们被要求将此构造应用于一个具体情况。\n\n设 $\\left(X,d\\right)$ 是一个完备度量空间，且 $U \\subseteq X$ 是一个非空开子集。集合 $C = X \\setminus U$ 是 $X$ 的一个非空闭子集。由于 $U$ 非空，所以 $C$ 是 $X$ 的一个真子集。\n\n**度量 $\\hat{d}$ 的构造**\n\n对于任意点 $x \\in U$，我们定义点 $x$ 到闭集 $C$ 的距离为：\n$$\nd(x, C) = \\inf_{z \\in C} d(x, z)\n$$\n因为 $x \\in U$ 且 $U$ 是开集，所以存在一个开球 $B(x, r) = \\{y \\in X \\mid d(x,y) < r\\}$（对于某个 $r > 0$），使得 $B(x, r) \\subseteq U$。这意味着 $B(x, r) \\cap C = \\emptyset$。因此，对于任意 $z \\in C$，都有 $d(x,z) \\ge r$。所以，对于所有 $x \\in U$，都有 $d(x,C) \\ge r > 0$。\n\n我们定义一个函数 $\\phi: U \\to \\mathbb{R}$ 为 $\\phi(x) = \\frac{1}{d(x, C)}$。这个函数是良定义的，因为其分母永远不为零。\n现在我们如下构造 $U$ 上的新度量 $\\hat{d}$：\n$$\n\\hat{d}(x, y) = d(x, y) + |\\phi(x) - \\phi(y)| = d(x, y) + \\left| \\frac{1}{d(x, C)} - \\frac{1}{d(y, C)} \\right|\n$$\n对于所有 $x, y \\in U$。\n\n**证明 $\\hat{d}$ 是 $U$ 上的一个度量**\n\n我们必须为 $\\hat{d}$ 验证三个度量公理。对于任意 $x, y, z \\in U$：\n\n1.  **正定性**：\n    $d(x,y) \\ge 0$ 且 $\\left| \\frac{1}{d(x, C)} - \\frac{1}{d(y, C)} \\right| \\ge 0$，所以它们的和 $\\hat{d}(x,y) \\ge 0$。\n    如果 $x=y$，那么 $d(x,x)=0$ 且 $d(x,C)=d(y,C)$，所以 $\\hat{d}(x,x) = 0 + 0 = 0$。\n    反之，如果 $\\hat{d}(x,y) = 0$，那么两个非负项都必须为零。$d(x,y) = 0$ 意味着 $x=y$。因此，$\\hat{d}(x,y)=0$ 当且仅当 $x=y$。\n\n2.  **对称性**：\n    度量 $d$ 是对称的，所以 $d(x,y) = d(y,x)$。绝对值也是对称的，即 $|\\alpha - \\beta| = |\\beta - \\alpha|$。\n    $$\n    \\hat{d}(x,y) = d(x,y) + \\left| \\frac{1}{d(x, C)} - \\frac{1}{d(y, C)} \\right| = d(y,x) + \\left| \\frac{1}{d(y, C)} - \\frac{1}{d(x, C)} \\right| = \\hat{d}(y,x)\n    $$\n\n3.  **三角不等式**：\n    我们使用度量 $d$ 在 $X$ 上的三角不等式和绝对值在 $\\mathbb{R}$ 上的三角不等式：\n    $d(x, z) \\le d(x, y) + d(y, z)$。\n    $\\left| \\frac{1}{d(x, C)} - \\frac{1}{d(z, C)} \\right| = \\left| \\left(\\frac{1}{d(x, C)} - \\frac{1}{d(y, C)}\\right) + \\left(\\frac{1}{d(y, C)} - \\frac{1}{d(z, C)}\\right) \\right| \\le \\left| \\frac{1}{d(x, C)} - \\frac{1}{d(y, C)} \\right| + \\left| \\frac{1}{d(y, C)} - \\frac{1}{d(z, C)} \\right|$。\n    将这两个不等式相加，我们得到：\n    $$\n    d(x, z) + \\left| \\frac{1}{d(x, C)} - \\frac{1}{d(z, C)} \\right| \\le \\left( d(x, y) + \\left| \\frac{1}{d(x, C)} - \\frac{1}{d(y, C)} \\right| \\right) + \\left( d(y, z) + \\left| \\frac{1}{d(y, C)} - \\frac{1}{d(z, C)} \\right| \\right)\n    $$\n    这正是 $\\hat{d}(x, z) \\le \\hat{d}(x, y) + \\hat{d}(y, z)$。\n    因此，$\\hat{d}$ 是 $U$ 上的一个度量。\n\n**拓扑等价性证明**\n\n由 $\\hat{d}$ 诱导的拓扑与 $U$ 上的子空间拓扑（由 $d$ 诱导）相同，当且仅当一个序列 $(x_n)_{n \\in \\mathbb{N}} \\subseteq U$ 相对于 $d$ 收敛于一点 $x \\in U$，当且仅当它相对于 $\\hat{d}$ 收敛于 $x$。\n\n首先，我们来确定函数 $x \\mapsto d(x, C)$ 的连续性。对于任意 $x_1, x_2 \\in X$ 和任意 $z \\in C$，我们有 $d(x_1, z) \\le d(x_1, x_2) + d(x_2, z)$。在右侧对所有 $z \\in C$ 取下确界，得到 $d(x_1, C) \\le d(x_1, x_2) + d(x_2, C)$。这得出 $d(x_1, C) - d(x_2, C) \\le d(x_1, x_2)$。根据对称性，$d(x_2, C) - d(x_1, C) \\le d(x_2, x_1) = d(x_1, x_2)$。将两者结合得到 $|d(x_1, C) - d(x_2, C)| \\le d(x_1, x_2)$。这表明 $x \\mapsto d(x, C)$ 在 $X$ 上是利普希茨连续的，因此在 $U$ 上也是。\n\n$(\\Rightarrow)$ 假设在 $(U, d)$ 中 $x_n \\to x$，即 $d(x_n, x) \\to 0$。我们需要证明 $\\hat{d}(x_n, x) \\to 0$。\n$$\n\\hat{d}(x_n, x) = d(x_n, x) + \\left| \\frac{1}{d(x_n, C)} - \\frac{1}{d(x, C)} \\right|\n$$\n根据假设，第一项 $d(x_n, x) \\to 0$。对于第二项，由于 $x \\mapsto d(x,C)$ 是连续的，$d(x_n, x) \\to 0$ 意味着 $d(x_n, C) \\to d(x, C)$。由于 $x \\in U$，我们有 $d(x, C) > 0$。函数 $t \\mapsto 1/t$ 对于 $t > 0$ 是连续的。因此，$\\frac{1}{d(x_n, C)} \\to \\frac{1}{d(x, C)}$。这意味着 $\\left| \\frac{1}{d(x_n, C)} - \\frac{1}{d(x, C)} \\right| \\to 0$。所以，$\\hat{d}(x_n, x) \\to 0$。\n\n$(\\Leftarrow)$ 假设在 $(U, \\hat{d})$ 中 $x_n \\to x$，即 $\\hat{d}(x_n, x) \\to 0$。根据定义 $\\hat{d}(x_n, x) = d(x_n, x) + \\left| \\dots \\right|$，并且由于两项都是非负的，我们必然有 $d(x_n, x) \\to 0$。\n\n这证明了两个度量在 $U$ 上诱导相同的拓扑。\n\n**证明 $(U, \\hat{d})$ 的完备性**\n\n设 $(x_n)_{n \\in \\mathbb{N}}$ 是 $(U, \\hat{d})$ 中的一个柯西序列。这意味着对于任意 $\\epsilon > 0$，存在一个整数 $N$，使得对于所有 $n, m > N$，都有 $\\hat{d}(x_n, x_m) < \\epsilon$。\n$$\nd(x_n, x_m) + \\left| \\frac{1}{d(x_n, C)} - \\frac{1}{d(x_m, C)} \\right| < \\epsilon\n$$\n这意味着两件事：\n1.  $d(x_n, x_m) < \\epsilon$。因此，$(x_n)$ 是 $(X, d)$ 中的一个柯西序列。\n2.  $\\left| \\frac{1}{d(x_n, C)} - \\frac{1}{d(x_m, C)} \\right| < \\epsilon$。因此，实数序列 $(\\phi(x_n))_{n \\in \\mathbb{N}} = \\left(\\frac{1}{d(x_n, C)}\\right)_{n \\in \\mathbb{N}}$ 是 $\\mathbb{R}$ 中的一个柯西序列。\n\n由于 $(X, d)$ 是完备的，柯西序列 $(x_n)$ 收敛于某个极限 $x \\in X$。即 $\\lim_{n \\to \\infty} d(x_n, x) = 0$。我们必须证明 $x \\in U$。\n\n由于 $(\\phi(x_n))$ 是完备空间 $\\mathbb{R}$ 中的一个柯西序列，它收敛于某个极限 $L \\in \\mathbb{R}$。一个收敛序列是有界的，所以存在一个常数 $M > 0$ 使得对于所有 $n$ 都有 $|\\phi(x_n)| \\le M$。这意味着 $\\frac{1}{d(x_n, C)} \\le M$，即对于所有 $n$ 都有 $d(x_n, C) \\ge \\frac{1}{M} > 0$。\n\n现在我们使用函数 $g(y) = d(y, C)$ 的连续性。由于在 $(X,d)$ 中 $x_n \\to x$，我们有 $d(x_n, C) \\to d(x, C)$。对不等式 $d(x_n, C) \\ge \\frac{1}{M}$ 取极限，我们得到：\n$$\nd(x, C) = \\lim_{n \\to \\infty} d(x_n, C) \\ge \\frac{1}{M} > 0\n$$\n由于 $d(x, C) > 0$，点 $x$ 不可能在 $C$ 的闭包中。因为 $C$ 是一个闭集，它的闭包就是它自身。所以 $x \\notin C$，这意味着 $x \\in X \\setminus C = U$。\n\n我们已经证明，$(U, \\hat{d})$ 中的任何柯西序列 $(x_n)$ 在度量 $d$ 下收敛于一个也在 $U$ 中的极限 $x$。因为我们已经证明了由 $d$ 和 $\\hat{d}$ 诱导的拓扑在 $U$ 上是等价的，所以在 $d$ 下收敛于 $U$ 中的一点等价于在 $\\hat{d}$ 下收敛于同一点。因此，在 $(U, \\hat{d})$ 中 $x_n \\to x$。\n这证明了 $(U, \\hat{d})$ 是一个完备度量空间。\n\n**具体化与计算**\n\n给定 $X=\\mathbb{R}$，其度量为通常的欧几里得度量 $d(x,y)=|x-y|$，以及 $U=(0,1)$。集合 $C = X \\setminus U$ 是 $C = (-\\infty, 0] \\cup [1, \\infty)$。\n对于一点 $z \\in U=(0,1)$，它到 $C$ 的距离是：\n$$\nd(z, C) = \\inf_{y \\in C} |z-y|\n$$\n下确界将在 $y=0$ 或 $y=1$ 处取得。\n$$\nd(z, C) = \\min(|z-0|, |z-1|) = \\min(z, 1-z)\n$$\n我们需要计算 $x=\\frac{1}{4}$ 和 $y=\\frac{2}{3}$ 的 $\\hat{d}(x,y)$。\n首先，我们求距离 $d(x,y)$：\n$$\nd\\left(\\frac{1}{4}, \\frac{2}{3}\\right) = \\left|\\frac{1}{4} - \\frac{2}{3}\\right| = \\left|\\frac{3-8}{12}\\right| = \\left|-\\frac{5}{12}\\right| = \\frac{5}{12}\n$$\n接下来，我们求到集合 $C$ 的距离：\n$$\nd\\left(\\frac{1}{4}, C\\right) = \\min\\left(\\frac{1}{4}, 1-\\frac{1}{4}\\right) = \\min\\left(\\frac{1}{4}, \\frac{3}{4}\\right) = \\frac{1}{4}\n$$\n$$\nd\\left(\\frac{2}{3}, C\\right) = \\min\\left(\\frac{2}{3}, 1-\\frac{2}{3}\\right) = \\min\\left(\\frac{2}{3}, \\frac{1}{3}\\right) = \\frac{1}{3}\n$$\n现在我们计算 $\\hat{d}$ 度量的第二项：\n$$\n\\left| \\frac{1}{d(\\frac{1}{4}, C)} - \\frac{1}{d(\\frac{2}{3}, C)} \\right| = \\left| \\frac{1}{1/4} - \\frac{1}{1/3} \\right| = |4 - 3| = 1\n$$\n最后，我们计算 $\\hat{d}$-距离：\n$$\n\\hat{d}\\left(\\frac{1}{4}, \\frac{2}{3}\\right) = d\\left(\\frac{1}{4}, \\frac{2}{3}\\right) + \\left| \\frac{1}{d(\\frac{1}{4}, C)} - \\frac{1}{d(\\frac{2}{3}, C)} \\right| = \\frac{5}{12} + 1 = \\frac{5}{12} + \\frac{12}{12} = \\frac{17}{12}\n$$\n该值为 $\\frac{17}{12}$，它是一个最简分数。", "answer": "$$\\boxed{\\frac{17}{12}}$$", "id": "2971701"}, {"introduction": "这项练习将我们带入零维波兰空间的特殊结构中，这是本章最深入的实践。本练习 [@problem_id:2971695] 将引导你完成一个典范构造，证明每个零维波兰空间都容许一个相容的*超度量*（ultrametric）。掌握这一构造是理解康托集和贝尔空间等基本空间本质的关键，这些空间是所有波兰空间的典范模型。", "problem": "设 $X$ 是一个非空零维波兰空间，即一个具有闭开集基的可分、完全可度量化的拓扑空间。仅使用这些基本事实来完成以下任务。\n\n1. 从 $X$ 上的一个任意相容的完备度量 $d_0$ 和闭开基的存在性出发，构造 $X$ 的一个闭开划分序列 $\\langle \\mathcal{P}_n:n\\in\\mathbb{N}\\rangle$，使得对每个 $n\\in\\mathbb{N}$，$\\mathcal{P}_{n+1}$ 都是 $\\mathcal{P}_n$ 的加细，并且 $\\mathcal{P}_n$ 中每个部分的 $d_0$-直径都小于 $2^{-n}$。\n\n2. 使用序列 $\\langle \\mathcal{P}_n\\rangle$，定义函数 $d:X\\times X\\to[0,\\infty)$，规定 $d(x,x)=0$，而对于 $x\\neq y$，令 $n(x,y)$ 是满足存在 $A\\in\\mathcal{P}_n$ 使得 $x\\in A$ 且 $y\\notin A$ 的最小整数 $n\\in\\mathbb{N}$，然后定义 $d(x,y)=2^{-n(x,y)}$。从第一性原理出发，证明 $d$ 是一个与 $X$ 的拓扑相容且完备的超度量。并由此推断，每个开 $d$-球在 $X$ 中都是闭开的，并且所有开 $d$-球构成的族是 $X$ 拓扑的一个基。\n\n3. 将您的构造应用于中三一康托集 $C\\subseteq[0,1]$。通过三进制编码映射 $h:2^{\\mathbb{N}}\\to C$ 将 $C$ 与 $2^{\\mathbb{N}}$ 等同，该映射由下式给出：\n$$\nh(b)=\\sum_{n=0}^{\\infty}\\frac{2\\,b(n)}{3^{n+1}},\n$$\n其中 $b:\\mathbb{N}\\to\\{0,1\\}$。令 $d_{2^{\\mathbb{N}}}$ 为 $2^{\\mathbb{N}}$ 上的超度量，它是通过将 $\\mathcal{P}_n$ 取为由长度为 $n$ 的初始段确定的柱集划分而得到的。令 $d_C$ 为 $C$ 上的前推超度量，定义为 $d_C(x,y)=d_{2^{\\mathbb{N}}}(h^{-1}(x),h^{-1}(y))$。\n\n定义 $u,v\\in 2^{\\mathbb{N}}$，其前几个坐标如下所示：\n$$\nu(0)=1,\\ u(1)=0,\\ u(2)=1,\\ u(3)=1,\\ u(4)=0,\\ u(5)=0,\\ \\text{且对所有 }n\\geq 6, u(n)=1,\n$$\n$$\nv(0)=1,\\ v(1)=0,\\ v(2)=1,\\ v(3)=1,\\ v(4)=0,\\ v(5)=1,\\ \\text{且对所有 }n\\geq 6, v(n)=0.\n$$\n令 $x=h(u)$ 且 $y=h(v)$。计算 $d_C(x,y)$ 的精确值。将您的最终答案表示为 $2$ 的精确幂。不需要也不允许进行四舍五入。", "solution": "这是一个包含三部分的任务。我们将按顺序解决每个部分。为本题之目的，我们假设 $\\mathbb{N}=\\{0, 1, 2, \\ldots\\}$。\n\n### 第一部分：划分的构造\n\n设 $X$ 是一个具有相容完备度量 $d_0$ 的非空零维波兰空间。我们通过归纳法构造闭开划分序列 $\\langle \\mathcal{P}_n:n\\in\\mathbb{N}\\rangle$。\n\n**基础情形 ($n=0$)：** 我们需要一个闭开划分 $\\mathcal{P}_0$，其中每个部分的 $d_0$-直径小于 $2^{-0}=1$。令 $x \\in X$。开球 $B_{d_0}(x, 1/4)$ 是一个开集。由于 $X$ 是零维的，它有一个由闭开集构成的基。因此，存在一个闭开集 $C_x$ 使得 $x \\in C_x \\subseteq B_{d_0}(x, 1/4)$。$C_x$ 的直径为 $\\text{diam}_{d_0}(C_x) \\le \\text{diam}_{d_0}(B_{d_0}(x, 1/4)) \\le 2(1/4) = 1/2 < 1$。集合族 $\\{C_x : x \\in X\\}$ 是 $X$ 的一个开覆盖。由于 $X$ 是可分的，它是一个林德勒夫空间，因此存在一个可数子覆盖 $\\{A_k : k \\in \\mathbb{N}\\}$。每个 $A_k$ 都是闭开的，并且其 $\\text{diam}_{d_0}(A_k) < 1$。我们可以通过对每个 $k \\in \\mathbb{N}$ 设置 $P_k = A_k \\setminus \\bigcup_{j=0}^{k-1} A_j$ 来将这个覆盖变成一个划分。每个 $P_k$ 都是闭开的，因为它是闭开集 $A_k$ 与闭开集有限并 $\\bigcup_{j=0}^{k-1} A_j$ 的补集的交集。集合族 $\\mathcal{P}_0 = \\{P_k : k \\in \\mathbb{N}, P_k \\neq \\emptyset\\}$ 是 $X$ 的一个闭开集划分，并且对于每个 $P \\in \\mathcal{P}_0$，都有 $\\text{diam}_{d_0}(P) < 1$。\n\n**归纳步骤：** 假设我们已经构造了一个闭开划分 $\\mathcal{P}_n$，其中每个部分的 $d_0$-直径都小于 $2^{-n}$。我们来构造 $\\mathcal{P}_{n+1}$。\n对于每个集合 $P \\in \\mathcal{P}_n$，$P$ 本身是一个零维波兰空间（作为 $X$ 的一个闭开子集）。我们将同样的过程应用于 $P$，目标直径为 $2^{-(n+1)}$。对于每个 $x \\in P$，存在一个闭开集 $C_x \\subseteq P$，满足 $x \\in C_x \\subseteq B_{d_0}(x, 2^{-(n+2)})$。注意 $C_x$ 在 $P$ 中是闭开的意味着它在 $X$ 中也是闭开的。$C_x$ 的 $d_0$-直径小于 $2 \\cdot 2^{-(n+2)} = 2^{-(n+1)}$。集合族 $\\{C_x : x \\in P\\}$ 是 $P$ 的一个覆盖。由于 $P$ 是林德勒夫空间，我们提取一个可数子覆盖 $\\{A_{P,k} : k \\in \\mathbb{N}\\}$。由此，我们形成 $P$ 的一个闭开划分 $\\mathcal{Q}_P = \\{P_k : k \\in \\mathbb{N}, P_k \\neq \\emptyset\\}$。$\\mathcal{Q}_P$ 的每个部分 $d_0$-直径都小于 $2^{-(n+1)}$。\n我们定义 $\\mathcal{P}_{n+1} = \\bigcup_{P \\in \\mathcal{P}_n} \\mathcal{Q}_P$。\n根据构造，$\\mathcal{P}_{n+1}$ 是 $X$ 的一个闭开集划分。$\\mathcal{P}_{n+1}$ 的每个元素都包含在 $\\mathcal{P}_n$ 的某个元素之内，所以 $\\mathcal{P}_{n+1}$ 加细 $\\mathcal{P}_n$。最后，$\\mathcal{P}_{n+1}$ 的每个部分的 $d_0$-直径都小于 $2^{-(n+1)}$。这样就完成了构造。\n\n### 第二部分：度量 $d$ 的性质\n\n设 $d$ 如问题陈述中定义。\n\n**$d$ 是一个超度量：**\n1.  $d(x,y) \\ge 0$ 是显然的。根据定义 $d(x,x) = 0$。如果 $x \\neq y$，令 $\\delta = d_0(x,y) > 0$。选择 $N$ 使得 $2^{-N} < \\delta$。令 $A \\in \\mathcal{P}_N$ 是包含 $x$ 的唯一集合。如果 $y \\in A$，则 $d_0(x,y) \\le \\text{diam}_{d_0}(A) < 2^{-N} < \\delta$，这是一个矛盾。所以 $y \\notin A$。这意味着集合 $\\{ n \\in \\mathbb{N} \\mid x, y \\text{ 被 } \\mathcal{P}_n \\text{ 分离 } \\}$ 是非空的。因此 $n(x,y)$ 是良定义且有限的，并且 $d(x,y) = 2^{-n(x,y)} > 0$。所以 $d(x,y)=0 \\iff x=y$。\n2.  定义 $n(x,y)$ 的条件关于 $x$ 和 $y$ 是对称的，所以 $n(x,y)=n(y,x)$ 且 $d(x,y)=d(y,x)$。\n3.  （超度量不等式）设 $x, y, z \\in X$。如果其中任意两者相等，则不等式 $d(x,z) \\le \\max(d(x,y), d(y,z))$ 平凡成立。假设它们互不相同。令 $k_1 = n(x,y)$ 和 $k_2 = n(y,z)$。不失一般性，假设 $k_1 \\le k_2$。则 $\\max(d(x,y), d(y,z)) = 2^{-k_1}$。我们必须证明 $d(x,z) \\le 2^{-k_1}$，这等价于 $n(x,z) \\ge k_1$。根据 $k_1$ 的定义，对于任何 $n < k_1$，$x$ 和 $y$ 都在 $\\mathcal{P}_n$ 的同一个集合中。由于 $n < k_1 \\le k_2$，$y$ 和 $z$ 也都在 $\\mathcal{P}_n$ 的同一个集合中。根据传递性，$x$ 和 $z$ 也在 $\\mathcal{P}_n$ 的同一个集合中。这对所有 $n < k_1$ 都成立。因此，分离 $x$ 和 $z$ 的最小 $n$ 必须至少为 $k_1$。所以 $n(x,z) \\ge k_1$。\n\n**$d$ 与 $X$ 的拓扑相容：**\n设 $\\mathcal{T}_0$ 是由 $d_0$ 诱导的拓扑，$\\mathcal{T}_d$ 是由 $d$ 诱导的拓扑。\n设 $A_n(z)$ 表示包含 $z$ 的 $\\mathcal{P}_n$ 中的唯一元素。对于 $r=2^{-n}$，开球 $B_d(x, r) = \\{y \\in X \\mid d(x,y) < 2^{-n}\\}$。这等价于 $2^{-n(x,y)} < 2^{-n}$，意味着 $n(x,y) > n$。这当且仅当 $x$ 和 $y$ 属于 $\\mathcal{P}_n$ 中的同一个集合时成立。因此，$B_d(x, 2^{-n}) = A_n(x)$。\n- $\\mathcal{T}_d \\subseteq \\mathcal{T}_0$：$\\mathcal{T}_d$ 的基开集是球 $B_d(x,r)$。任何这样的球都包含某个形如 $B_d(x, 2^{-n}) = A_n(x)$ 的球（对于某个 $n$）。集合 $A_n(x)$ 是 $\\mathcal{P}_n$ 的元素，因此在 $(\\mathcal{T}_0)$ 中是闭开的。因此，$\\mathcal{T}_d$ 中的任何开集都是在 $\\mathcal{T}_0$ 中开的集合的并集，因此在 $\\mathcal{T}_0$ 中是开的。\n- $\\mathcal{T}_0 \\subseteq \\mathcal{T}_d$：设 $U \\in \\mathcal{T}_0$ 且 $x \\in U$。由于 $U$ 是开的，$X \\setminus U$ 是闭的，所以 $d_0(x, X \\setminus U) = \\delta > 0$。选择 $N$ 使得 $2^{-N} < \\delta$。考虑球 $B_d(x, 2^{-N}) = A_N(x)$。对于任何 $y \\in A_N(x)$，我们有 $d_0(x,y) \\le \\text{diam}_{d_0}(A_N(x)) < 2^{-N} < \\delta$。这意味着 $y \\in U$。所以 $B_d(x, 2^{-N}) \\subseteq U$。因此 $U$ 在 $\\mathcal{T}_d$ 中是开的。\n所以 $\\mathcal{T}_d = \\mathcal{T}_0$。\n\n**$d$ 是完备的：**\n设 $\\langle x_k \\rangle_{k\\in\\mathbb{N}}$ 是 $(X,d)$ 中的一个柯西序列。对于每个 $n \\in \\mathbb{N}$，存在一个整数 $K_n$，使得对所有 $k,m \\ge K_n$，都有 $d(x_k, x_m) < 2^{-n}$。这意味着 $n(x_k,x_m) > n$，所以 $x_k$ 和 $x_m$ 在 $\\mathcal{P}_n$ 的同一个集合中。设这个集合为 $C_n$。我们有一个集合序列 $C_n \\in \\mathcal{P}_n$，使得对于 $k \\ge K_n$，$x_k \\in C_n$。我们可以选择 $K_{n+1} \\ge K_n$。那么 $x_{K_{n+1}} \\in C_{n+1}$ 且 $x_{K_{n+1}} \\in C_n$。由于 $\\mathcal{P}_{n+1}$ 加细 $\\mathcal{P}_n$，这意味着 $C_{n+1} \\subseteq C_n$。所以我们有一个嵌套的非空闭集序列 $C_0 \\supseteq C_1 \\supseteq C_2 \\supseteq \\dots$。这些集合在 $d_0$下的直径为 $\\text{diam}_{d_0}(C_n) < 2^{-n}$，当 $n \\to \\infty$ 时趋于 $0$。由于 $(X, d_0)$ 是一个完备度量空间，根据康托交集定理，交集 $\\bigcap_{n=0}^{\\infty} C_n$ 恰好包含一个点，记为 $x$。\n我们证明在 $(X,d)$ 中 $x_k \\to x$。对于任何 $n \\in \\mathbb{N}$ 以及所有 $k \\ge K_n$，我们有 $x_k \\in C_n$。由于 $x \\in \\bigcap C_j$，我们有 $x \\in C_n$。所以 $x_k$ 和 $x$ 在 $\\mathcal{P}_n$ 的同一个集合中。这意味着 $n(x_k, x) > n$，所以 $d(x_k, x) < 2^{-n}$。这对所有 $k \\ge K_n$ 都成立，这就是收敛到 $x$ 的定义。因此，$(X,d)$ 是完备的。\n\n**结论：**\n$(X,d)$ 中的一个开球形如 $B_d(x,r)$。对于任何这样的球，选择一个整数 $n$ 使得 $2^{-n} < r$。则 $B_d(x, 2^{-n}) \\subseteq B_d(x,r)$。如前所示，$B_d(x, 2^{-n})$ 等于 $A_n(x)$，即包含 $x$ 的 $\\mathcal{P}_n$ 的元素。更一般地，如果 $n_0$ 是满足 $2^{-n_0} < r$ 的最小整数，则 $B_d(x,r) = A_{n_0-1}(x)$（对于 $n_0 \\ge 1$；如果 $n_0=0$，则球是 $X$）。无论如何，球都等于某个划分元素，而根据构造，该元素是闭开集。在任何度量空间中，所有开球的族构成了度量拓扑的一个基。由于 $d$ 的拓扑就是 $X$ 的拓扑，所以 $d$-球构成了 $X$ 拓扑的一个基。\n\n### 第三部分：对康托集的应用\n\n$2^{\\mathbb{N}}$ 上的度量 $d_{2^{\\mathbb{N}}}$ 是使用闭开划分 $\\mathcal{P}_n$ 构建的，这些划分由长度为 $n$ 的初始段确定的柱集组成。对应于一个有限序列 $s \\in \\{0,1\\}^n$ 的柱集是 $[s] = \\{ b \\in 2^{\\mathbb{N}} \\mid b \\upharpoonright n = s \\}$，其中 $b \\upharpoonright n$ 是 $b$ 的长度为 $n$ 的初始段（即 $(b(0), \\ldots, b(n-1))$）。该划分为 $\\mathcal{P}_n = \\{[s] \\mid s \\in \\{0,1\\}^n\\}$。\n\n对于两个不同的序列 $u, v \\in 2^{\\mathbb{N}}$，$n(u,v)$ 是使得 $u$ 和 $v$ 位于 $\\mathcal{P}_n$ 的不同集合中的最小整数 $n \\in \\mathbb{N}$。这等价于找到使得 $u \\upharpoonright n \\neq v \\upharpoonright n$ 的最小 $n$。\n\n设 $k_0 = \\min\\{k \\in \\mathbb{N} \\mid u(k) \\neq v(k)\\}$。\n对于任何 $n \\le k_0$，初始段 $u \\upharpoonright n$ 和 $v \\upharpoonright n$ 是相同的，因为它们只涉及索引 $i < n \\le k_0$，其中 $u(i)=v(i)$。因此，对于 $n \\in \\{0, 1, \\dots, k_0\\}$，$u$ 和 $v$ 属于 $\\mathcal{P}_n$ 中的同一个集合。\n对于 $n = k_0+1$，初始段的长度为 $k_0+1$，定义在索引 $\\{0, \\dots, k_0\\}$ 上。由于 $u(k_0) \\neq v(k_0)$，我们有 $u \\upharpoonright (k_0+1) \\neq v \\upharpoonright (k_0+1)$。\n因此，分离 $u$ 和 $v$ 的最小 $n$ 是 $n = k_0+1$。\n所以，$n(u,v) = k_0+1$。度量为 $d_{2^{\\mathbb{N}}}(u,v) = 2^{-n(u,v)} = 2^{-(k_0+1)}$。\n\n问题要求计算 $d_C(x,y) = d_{2^{\\mathbb{N}}}(h^{-1}(x), h^{-1}(y)) = d_{2^{\\mathbb{N}}}(u,v)$。我们需要为给定的序列 $u$ 和 $v$ 找到 $k_0$。\n$u$: $u(0)=1, u(1)=0, u(2)=1, u(3)=1, u(4)=0, u(5)=0, \\dots$\n$v$: $v(0)=1, v(1)=0, v(2)=1, v(3)=1, v(4)=0, v(5)=1, \\dots$\n\n按坐标逐一比较：\n- $u(0) = 1, v(0) = 1$ (匹配)\n- $u(1) = 0, v(1) = 0$ (匹配)\n- $u(2) = 1, v(2) = 1$ (匹配)\n- $u(3) = 1, v(3) = 1$ (匹配)\n- $u(4) = 0, v(4) = 0$ (匹配)\n- $u(5) = 0, v(5) = 1$ (不匹配)\n\n它们第一个不相同的索引是 $5$。所以，$k_0=5$。\n距离是 $d_C(x,y) = 2^{-(k_0+1)} = 2^{-(5+1)} = 2^{-6}$。", "answer": "$$\\boxed{2^{-6}}$$", "id": "2971695"}]}