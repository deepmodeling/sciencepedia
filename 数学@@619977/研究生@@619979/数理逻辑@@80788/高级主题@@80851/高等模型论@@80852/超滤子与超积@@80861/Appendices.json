{"hands_on_practices": [{"introduction": "超积理论的核心是 Łoś 定理，它将超积中一阶句子的真值问题，转化为一个关于超滤子中集合隶属关系的问题。本练习将引导你完成一个基础但重要的计算，通过在一个由有限域构成的超积中判断一个简单存在句子的真值，来亲身体验这一转化过程。这个实践 [@problem_id:2973049] 不仅能帮助你掌握 Łoś 定理的应用步骤，还能加深你对非主超滤子性质的理解。", "problem": "设 $\\mathcal{L}$ 是环语言 $\\{0,1,+,\\cdot\\}$。对每个 $n \\in \\mathbb{N}$，设 $p_n$ 表示第 $n$ 个素数，并按通常的枚举顺序 $p_1=2, p_2=3, p_3=5, p_4=7, \\dots$ 排列。设 $\\mathcal{M}_n$ 是一个 $\\mathcal{L}$-结构，其论域为 $\\mathbb{Z}/p_n\\mathbb{Z}$，并以标准方式解释为一个域。设 $I=\\mathbb{N}$，并设 $\\mathcal{U}$ 是 $I$ 上的一个非主超滤子。考虑超积 $\\prod_{n \\in I} \\mathcal{M}_n/\\mathcal{U}$。设 $\\varphi$ 是 $\\mathcal{L}$-语句\n$$\n\\exists x \\ (x + x = 1).\n$$\n请通过明确指出使 $\\mathcal{M}_n \\models \\varphi$ 成立的指标 $n$ 的集合 $S \\subseteq I$，然后确定 $S$ 是否属于 $\\mathcal{U}$，来计算 $\\varphi$ 在该超积中的真值。如果 $\\prod_{n \\in I} \\mathcal{M}_n/\\mathcal{U} \\models \\varphi$ 成立，则将最终真值记为 $1$，否则记为 $0$。将最终答案表示为一个无舍入的精确数。", "solution": "本题要求确定一个一阶语句 $\\varphi$ 在一个域的超积中的真值。该真值由 Łoś 定理确定，该定理指出，一个语句在超积中为真，当且仅当使其在构成结构中为真的指标集合属于该超滤子。\n\n设 $\\mathcal{M} = \\prod_{n \\in I} \\mathcal{M}_n/\\mathcal{U}$ 为所讨论的超积，其中 $I = \\mathbb{N}$，$\\mathcal{M}_n$ 是域 $\\mathbb{Z}/p_n\\mathbb{Z}$，而 $\\mathcal{U}$ 是 $I$ 上的一个非主超滤子。语言为 $\\mathcal{L} = \\{0, 1, +, \\cdot\\}$。语句为 $\\varphi \\equiv \\exists x \\ (x + x = 1)$。\n\n根据 Łoś 定理，陈述 $\\mathcal{M} \\models \\varphi$ 为真，当且仅当集合 $S = \\{n \\in I \\mid \\mathcal{M}_n \\models \\varphi\\}$ 是超滤子 $\\mathcal{U}$ 的一个元素，即 $S \\in \\mathcal{U}$。\n\n我们的第一步是明确地确定集合 $S$。一个结构 $\\mathcal{M}_n$ 满足 $\\varphi$ 的条件是，在其论域 $\\mathbb{Z}/p_n\\mathbb{Z}$ 中存在一个元素满足公式 $x+x=1$。这可以写成同余方程 $2x \\equiv 1 \\pmod{p_n}$。\n\n要使这个线性同余方程在 $\\mathbb{Z}/p_n\\mathbb{Z}$ 中对 $x$ 有解，元素 $2$ 必须在 $\\mathbb{Z}/p_n\\mathbb{Z}$ 中有乘法逆元。环 $\\mathbb{Z}/m\\mathbb{Z}$ 中的一个元素 $a$ 有乘法逆元，当且仅当 $\\gcd(a, m) = 1$。在我们的情况下，$a=2$ 且 $m=p_n$，其中 $p_n$ 是第 $n$ 个素数。\n\n因此，$\\mathcal{M}_n \\models \\varphi$ 的条件是 $2$ 在 $\\mathbb{Z}/p_n\\mathbb{Z}$ 中有乘法逆元，这等价于 $\\gcd(2, p_n) = 1$。\n\n由于 $p_n$ 是一个素数，它仅有的正因数是 $1$ 和 $p_n$。因此，$\\gcd(2, p_n)$ 只能是 $1$ 或 $2$。\n当 $\\gcd(2, p_n) = 2$ 时，当且仅当 $p_n$ 是 $2$ 的倍数。由于 $p_n$ 是素数，这意味着 $p_n = 2$。\n当 $\\gcd(2, p_n) = 1$ 时，当且仅当 $p_n$ 不是 $2$ 的倍数，这意味着 $p_n$ 是除 $2$ 以外的任何素数。\n\n素数的枚举为 $p_1=2, p_2=3, p_3=5, \\dots$。\n条件 $p_n = 2$ 对应于指标 $n=1$。\n对于 $n=1$，我们有 $p_1=2$。域是 $\\mathcal{M}_1 = \\mathbb{Z}/2\\mathbb{Z}$。方程 $2x \\equiv 1 \\pmod{2}$ 变为 $0 \\cdot x \\equiv 1 \\pmod{2}$，即 $0 \\equiv 1 \\pmod{2}$，这是不成立的。因此，在 $\\mathcal{M}_1$ 中 $x$ 无解，故 $\\mathcal{M}_1 \\nvDash \\varphi$。\n\n对于所有指标 $n > 1$，素数 $p_n$ 是一个奇素数（$p_2=3, p_3=5, \\dots$）。对于这些素数，$\\gcd(2, p_n)=1$。因此，对于所有 $n > 1$，$2$ 在域 $\\mathbb{Z}/p_n\\mathbb{Z}$ 中都是一个可逆元。方程 $2x=1$ 有唯一解，即 $x = 2^{-1}$。所以，对于所有 $n > 1$，语句 $\\varphi$ 在 $\\mathcal{M}_n$ 中为真。也就是说，对于所有满足 $n > 1$ 的 $n \\in \\mathbb{N}$，都有 $\\mathcal{M}_n \\models \\varphi$。\n\n所以，使 $\\mathcal{M}_n \\models \\varphi$ 成立的指标 $n$ 的集合 $S$ 是：\n$$S = \\{n \\in \\mathbb{N} \\mid n > 1\\} = \\{2, 3, 4, \\dots\\}$$\n\n第二步是确定这个集合 $S$ 是否在超滤子 $\\mathcal{U}$ 中。已知 $\\mathcal{U}$ 是自然数集 $I = \\mathbb{N}$ 上的一个非主超滤子。无限集（如 $\\mathbb{N}$）上的非主超滤子的一个关键性质是它包含所有余有限集，且不包含任何有限集。如果一个集合的补集是有限的，则称该集合是余有限的。\n\n我们来考虑 $S$ 在 $I$ 中的补集：\n$$I \\setminus S = \\mathbb{N} \\setminus \\{2, 3, 4, \\dots\\} = \\{1\\}$$\n集合 $I \\setminus S$ 是一个有限集，因为它只包含一个元素。由于 $\\mathcal{U}$ 是一个非主超滤子，它不包含任何有限集。因此，$I \\setminus S \\notin \\mathcal{U}$。\n\n根据超滤子的定义，对于任何子集 $A \\subseteq I$，$A$ 或其补集 $I \\setminus A$ 中，有且仅有一个在 $\\mathcal{U}$ 中。既然我们已经确定 $I \\setminus S \\notin \\mathcal{U}$，那么它的补集 $S$ 必定在 $\\mathcal{U}$ 中。\n$$S = \\{2, 3, 4, \\dots\\} \\in \\mathcal{U}$$\n\n由于 $S = \\{n \\in I \\mid \\mathcal{M}_n \\models \\varphi\\} \\in \\mathcal{U}$，根据 Łoś 定理，语句 $\\varphi$ 在超积 $\\mathcal{M}$ 中为真。\n$$\\prod_{n \\in I} \\mathcal{M}_n/\\mathcal{U} \\models \\varphi$$\n题目要求，若为真则报告真值为 $1$，若为假则为 $0$。因此，真值为 $1$。", "answer": "$$\\boxed{1}$$", "id": "2973049"}, {"introduction": "掌握了 Łoś 定理的基本应用后，我们来探讨一个更深层次的问题：超滤子的选择如何决定超积的性质？本练习 [@problem_id:2976510] 设计了一个巧妙的场景，其中同一族结构在两个不同的超滤子下生成了两个截然不同的超积。通过计算同一个句子在这两个超积中的真值，你将清晰地看到，超积继承哪些性质，完全取决于所选超滤子“关注”哪些指标集。", "problem": "设 $\\mathcal{L}$ 是一个一阶 (FO) 语言，其包含一个单一的一元谓词符号 $P$ 和一个常量符号 $c$。对于每个自然数 $n \\in \\mathbb{N}$，定义一个 $\\mathcal{L}$-结构 $\\mathcal{A}_{n}$，其域为 $A_{n} = \\{0,1\\}$，并如下解释 $P$ 和 $c$：\n- 对所有 $n$，设 $P^{\\mathcal{A}_{n}} = \\{0\\}$。\n- 当 $n$ 为奇数时，设 $c^{\\mathcal{A}_{n}} = 0$；当 $n$ 为偶数时，设 $c^{\\mathcal{A}_{n}} = 1$。\n\n设 $\\varphi$ 为语句 $P(c)$。考虑 $\\mathbb{N}$ 上的两个非主超滤子：\n- $U_{\\mathrm{odd}}$，它包含所有奇数构成的集合。\n- $U_{\\mathrm{even}}$，它包含所有偶数构成的集合。\n\n从同一个结构族 $\\{\\mathcal{A}_{n}\\}_{n \\in \\mathbb{N}}$ 出发，但使用这两个不同的超滤子，构造两个超积 $\\prod_{n \\in \\mathbb{N}} \\mathcal{A}_{n} / U_{\\mathrm{odd}}$ 和 $\\prod_{n \\in \\mathbb{N}} \\mathcal{A}_{n} / U_{\\mathrm{even}}$。使用 Łoś 定理，并从超滤子和超积的核心定义出发，计算出集合\n$$\nS_{\\varphi} = \\{n \\in \\mathbb{N} : \\mathcal{A}_{n} \\models \\varphi\\}\n$$\n并用它来确定 $\\varphi$ 在每个超积中的真值。将每个真值进行数值编码，用 $1$ 表示该语句在对应的超积中成立，用 $0$ 表示不成立。\n\n你的最终答案必须是一个包含两个元素的单行矩阵，第一个元素对应 $\\prod_{n} \\mathcal{A}_{n} / U_{\\mathrm{odd}}$，第二个元素对应 $\\prod_{n} \\mathcal{A}_{n} / U_{\\mathrm{even}}$，每个元素为 $1$ 或 $0$。无需四舍五入。", "solution": "我们将首先明确陈述核心原理，即 Łoś 定理，然后将其应用于给定的结构和超滤子。\n\n设 $\\mathcal{L}$ 为一阶语言，$\\{\\mathcal{M}_{i}\\}_{i \\in I}$ 为一个由集合 $I$ 索引的 $\\mathcal{L}$-结构族，而 $U$ 是 $I$ 上的一个超滤子。Łoś 定理指出，对于任意 $\\mathcal{L}$-语句 $\\psi$，超积 $\\prod_{i \\in I} \\mathcal{M}_{i} / U$ 满足 $\\psi$ 当且仅当那些使得 $\\psi$ 在其单个结构中成立的指标所构成的集合是超滤子 $U$ 中的一个元素。用符号表示：\n$$\n\\left( \\prod_{i \\in I} \\mathcal{M}_{i} / U \\right) \\models \\psi \\iff \\{i \\in I : \\mathcal{M}_{i} \\models \\psi\\} \\in U\n$$\n\n在本题中，语言是 $\\mathcal{L}$，带有一个一元谓词 $P$ 和一个常量 $c$。结构族是由自然数集 $\\mathbb{N}$ 索引的 $\\{\\mathcal{A}_{n}\\}_{n \\in \\mathbb{N}}$。语句是 $\\varphi \\equiv P(c)$。我们被要求确定 $\\varphi$ 在两个用 $\\mathbb{N}$ 上不同超滤子（即 $U_{\\mathrm{odd}}$ 和 $U_{\\mathrm{even}}$）构造的两个不同超积中的真值。\n\n第一步是按要求计算集合 $S_{\\varphi} = \\{n \\in \\mathbb{N} : \\mathcal{A}_{n} \\models \\varphi\\}$。语句 $\\varphi$ 是 $P(c)$。在任何给定的结构 $\\mathcal{A}_{n}$ 中，陈述 $\\mathcal{A}_{n} \\models P(c)$ 为真，当且仅当常量 $c$ 的解释（记作 $c^{\\mathcal{A}_{n}}$）是解释谓词 $P$ 的集合（记作 $P^{\\mathcal{A}_{n}}$）中的一个元素。也就是说：\n$$\n\\mathcal{A}_{n} \\models \\varphi \\iff c^{\\mathcal{A}_{n}} \\in P^{\\mathcal{A}_{n}}\n$$\n题目对解释的定义如下：\n- 对所有 $n \\in \\mathbb{N}$，域为 $A_{n} = \\{0, 1\\}$。\n- 对所有 $n \\in \\mathbb{N}$，谓词的解释为 $P^{\\mathcal{A}_{n}} = \\{0\\}$。\n- 当 $n$ 是奇数时，常量的解释为 $c^{\\mathcal{A}_{n}} = 0$；当 $n$ 是偶数时，为 $c^{\\mathcal{A}_{n}} = 1$。\n\n我们基于 $n$ 的奇偶性来评估条件 $c^{\\mathcal{A}_{n}} \\in P^{\\mathcal{A}_{n}}$：\n- 如果 $n$ 是奇数：$c^{\\mathcal{A}_{n}} = 0$。条件变为 $0 \\in \\{0\\}$，这是真的。因此，对所有奇数 $n$，$\\mathcal{A}_{n} \\models \\varphi$。\n- 如果 $n$ 是偶数：$c^{\\mathcal{A}_{n}} = 1$。条件变为 $1 \\in \\{0\\}$，这是假的。因此，对所有偶数 $n$，$\\mathcal{A}_{n} \\not\\models \\varphi$。\n\n因此，使 $\\mathcal{A}_{n}$ 成为 $\\varphi$ 的模型的自然数 $n$ 的集合，恰好是所有奇自然数的集合。记此集合为 $\\mathbb{N}_{\\mathrm{odd}}$。\n$$\nS_{\\varphi} = \\{n \\in \\mathbb{N} : \\mathcal{A}_{n} \\models \\varphi\\} = \\{n \\in \\mathbb{N} : n \\text{ is odd}\\} = \\mathbb{N}_{\\mathrm{odd}}\n$$\n\n现在我们可以将 Łoś 定理应用于每个超积。\n\n情况1：超积 $\\prod_{n \\in \\mathbb{N}} \\mathcal{A}_{n} / U_{\\mathrm{odd}}$。\n设 $\\mathcal{B}_{\\mathrm{odd}} = \\prod_{n \\in \\mathbb{N}} \\mathcal{A}_{n} / U_{\\mathrm{odd}}$。根据 Łoś 定理，$\\mathcal{B}_{\\mathrm{odd}} \\models \\varphi$ 当且仅当 $S_{\\varphi} \\in U_{\\mathrm{odd}}$。\n我们已经得出 $S_{\\varphi} = \\mathbb{N}_{\\mathrm{odd}}$。题目陈述 $U_{\\mathrm{odd}}$ 是 $\\mathbb{N}$ 上的一个包含奇数集的非主超滤子。根据此定义，$\\mathbb{N}_{\\mathrm{odd}} \\in U_{\\mathrm{odd}}$。\n因此，我们得出结论 $\\mathcal{B}_{\\mathrm{odd}} \\models \\varphi$。对应的数值为 $1$。\n\n情况2：超积 $\\prod_{n \\in \\mathbb{N}} \\mathcal{A}_{n} / U_{\\mathrm{even}}$。\n设 $\\mathcal{B}_{\\mathrm{even}} = \\prod_{n \\in \\mathbb{N}} \\mathcal{A}_{n} / U_{\\mathrm{even}}$。根据 Łoś 定理，$\\mathcal{B}_{\\mathrm{even}} \\models \\varphi$ 当且仅当 $S_{\\varphi} \\in U_{\\mathrm{even}}$。\n同样，$S_{\\varphi} = \\mathbb{N}_{\\mathrm{odd}}$。题目陈述 $U_{\\mathrm{even}}$ 是 $\\mathbb{N}$ 上的一个包含偶数集（我们记为 $\\mathbb{N}_{\\mathrm{even}}$）的非主超滤子。所以，根据定义，$\\mathbb{N}_{\\mathrm{even}} \\in U_{\\mathrm{even}}$。\n集合 $I$ 上的超滤子 $U$ 的一个基本性质是，对于任意子集 $A \\subseteq I$，要么 $A \\in U$，要么其补集 $I \\setminus A \\in U$，但不能两者皆是（因为它们的交集是空集，而空集不属于任何滤子）。\n在我们的情境中，集合是 $\\mathbb{N}$，两个相关的子集是 $\\mathbb{N}_{\\mathrm{odd}}$ 及其补集 $\\mathbb{N}_{\\mathrm{even}}$。既然我们已知 $\\mathbb{N}_{\\mathrm{even}} \\in U_{\\mathrm{even}}$，那么其补集 $\\mathbb{N}_{\\mathrm{odd}}$ 就不可能在 $U_{\\mathrm{even}}$中。\n因此，$S_{\\varphi} = \\mathbb{N}_{\\mathrm{odd}} \\notin U_{\\mathrm{even}}$。\n因此，我们得出结论 $\\mathcal{B}_{\\mathrm{even}} \\not\\models \\varphi$。对应的数值为 $0$。\n\n综合以上结果，$\\varphi$ 在 $\\prod_{n} \\mathcal{A}_{n} / U_{\\mathrm{odd}}$ 中的真值为 $1$，在 $\\prod_{n} \\mathcal{A}_{n} / U_{\\mathrm{even}}$ 中的真值为 $0$。最终答案表示为包含这两个值的行矩阵。", "answer": "$$\n\\boxed{\\begin{pmatrix} 1 & 0 \\end{pmatrix}}\n$$", "id": "2976510"}, {"introduction": "为了真正理解超积构造的独特威力，将其与更标准的构造（如直积）进行比较是至关重要的。这个练习 [@problem_id:2973045] 恰好阐明了这一点，它要求你分析同一个句子在超积和直积中的真值，并揭示两者之间的根本差异。你会发现，直积要求一个性质在所有分量结构中普遍成立，而超积则得益于 Łoś 定理，只需性质在一“大”部分（即属于超滤子的指标集）上成立即可，这正是超积在模型论中如此强大的原因。", "problem": "设 $\\mathcal{L}$ 是一个一阶语言，它包含一个单一的一元谓词符号 $P$。对于每个 $n \\in \\mathbb{N}$，定义一个 $\\mathcal{L}$-结构 $\\mathcal{M}_{n}$，其论域为 $|\\mathcal{M}_{n}| = \\{0,1\\}$，且 $P^{\\mathcal{M}_{n}}$ 的解释由下式给出\n$$\nP^{\\mathcal{M}_{n}} = \n\\begin{cases}\n\\{1\\} & \\text{若 } n \\in S, \\\\\n\\emptyset & \\text{若 } n \\notin S,\n\\end{cases}\n$$\n其中 $S \\subseteq \\mathbb{N}$ 是一个无穷集，其补集 $\\mathbb{N} \\setminus S$ 也是无穷的。固定 $\\mathbb{N}$ 上的一个非主超滤子 $\\mathcal{U}$，且 $S \\in \\mathcal{U}$。考虑直积 $\\prod_{n \\in \\mathbb{N}} \\mathcal{M}_{n}$ 和超积 $\\prod_{\\mathcal{U}} \\mathcal{M}_{n}$。\n\n仅使用核心定义和 Jerzy Łoś 定理 (Łoś 定理)，分析语句\n$$\n\\varphi \\equiv \\exists x\\, P(x).\n$$\n具体来说：\n- 判断 $\\prod_{\\mathcal{U}} \\mathcal{M}_{n} \\models \\varphi$ 和 $\\prod_{n \\in \\mathbb{N}} \\mathcal{M}_{n} \\models \\varphi$ 是否成立，并基于一阶逻辑 (FOL) 语义学的基本原理、结构直积的定义以及超积的 Łoś 定理来证明你的结论。用集合 $S$ 和超滤子 $\\mathcal{U}$ 来表述你的推理过程。\n\n然后，根据以下针对一阶逻辑 (FOL) 的明确方案，将语句 $\\varphi$ 编码为一个哥德尔数。一个公式被视为字母表 $\\{\\exists, \\forall, P, (, ), x\\}$ 上的一个有限符号序列。其哥德尔数 $G$ 定义为\n$$\nG = \\prod_{i=1}^{k} p_{i}^{e_{i}},\n$$\n其中 $p_{i}$ 是第 $i$ 个素数，$e_{i}$ 是赋给序列中第 $i$ 个符号的代码。使用以下符号代码：\n$$\n\\exists \\mapsto 31,\\quad \\forall \\mapsto 37,\\quad P \\mapsto 41,\\quad ( \\mapsto 43,\\quad ) \\mapsto 47,\\quad x \\mapsto 53.\n$$\n将 $\\varphi$ 写为符号序列 $\\exists\\, x\\, P\\, (\\, x\\, )$，并计算其哥德尔数 $G$ 的以素数幂表示的精确闭式表达式。最终答案必须是单个解析表达式；无需四舍五入。", "solution": "该问题提出了两个不同的任务。第一个任务是分析一个一阶语句在结构的超积和直积中的情况。第二个任务是在指定的编码方案下计算该语句的哥德尔数。我们将依次处理每个部分。\n\n### 第一部分：语句 $\\varphi \\equiv \\exists x\\, P(x)$ 的分析\n\n语言是 $\\mathcal{L} = \\{P\\}$，其中 $P$ 是一个一元谓词符号。对于 $n \\in \\mathbb{N}$，结构 $\\mathcal{M}_n$ 的论域为 $|\\mathcal{M}_n| = \\{0, 1\\}$，且 $P$ 的解释由 $P^{\\mathcal{M}_n} = \\{1\\}$ (若 $n \\in S$) 和 $P^{\\mathcal{M}_n} = \\emptyset$ (若 $n \\notin S$) 给出，其中 $S \\subseteq \\mathbb{N}$ 是一个无穷集，其补集也是无穷的。\n\n#### 在超积 $\\prod_{\\mathcal{U}} \\mathcal{M}_{n}$ 中的分析\n\n我们需要判断是否 $\\prod_{\\mathcal{U}} \\mathcal{M}_{n} \\models \\varphi$，其中 $\\varphi \\equiv \\exists x\\, P(x)$。本次分析的主要工具是 Łoś 定理。\n\nŁoś 定理指出，对于任意 $\\mathcal{L}$-公式 $\\psi(v_1, \\ldots, v_k)$ 和超积 $\\prod_{\\mathcal{U}} \\mathcal{M}_{n}$ 中的任意元素 $a_1, \\ldots, a_k$，我们有\n$$\n\\prod_{\\mathcal{U}} \\mathcal{M}_{n} \\models \\psi[a_1, \\ldots, a_k] \\iff \\{ n \\in \\mathbb{N} \\mid \\mathcal{M}_n \\models \\psi[(a_1)_n, \\ldots, (a_k)_n] \\} \\in \\mathcal{U}.\n$$\n由于 $\\varphi$ 是一个语句 (没有自由变量的公式)，该定理简化为：\n$$\n\\prod_{\\mathcal{U}} \\mathcal{M}_{n} \\models \\varphi \\iff \\{ n \\in \\mathbb{N} \\mid \\mathcal{M}_n \\models \\varphi \\} \\in \\mathcal{U}.\n$$\n为了应用该定理，我们必须首先确定使得 $\\mathcal{M}_n \\models \\varphi$ 成立的下标 $n$ 的集合。语句 $\\varphi$ 是 $\\exists x\\, P(x)$。一个单独的结构 $\\mathcal{M}_n$ 满足 $\\varphi$，当且仅当存在一个元素 $b \\in |\\mathcal{M}_n|$ 使得 $b \\in P^{\\mathcal{M}_n}$。换句话说，$\\mathcal{M}_n \\models \\exists x\\, P(x)$ 当且仅当解释 $P^{\\mathcal{M}_n}$ 是一个非空集合。\n\n根据问题定义：\n- 若 $n \\in S$，则 $P^{\\mathcal{M}_n} = \\{1\\}$。此集合非空。\n- 若 $n \\notin S$，则 $P^{\\mathcal{M}_n} = \\emptyset$。此集合为空。\n\n因此，$\\mathcal{M}_n \\models \\varphi$ 当且仅当 $n \\in S$。使得 $\\varphi$ 成立的下标集合恰好是集合 $S$。\n$$\n\\{ n \\in \\mathbb{N} \\mid \\mathcal{M}_n \\models \\varphi \\} = S.\n$$\n应用 Łoś 定理，我们发现 $\\prod_{\\mathcal{U}} \\mathcal{M}_{n} \\models \\varphi$ 当且仅当 $S \\in \\mathcal{U}$。问题陈述明确给出了 $S \\in \\mathcal{U}$。\n\n对于超积的结论：$\\prod_{\\mathcal{U}} \\mathcal{M}_{n} \\models \\exists x\\, P(x)$ 是 **真**。\n\n#### 在直积 $\\prod_{n \\in \\mathbb{N}} \\mathcal{M}_{n}$ 中的分析\n\n接下来，我们判断是否 $\\prod_{n \\in \\mathbb{N}} \\mathcal{M}_{n} \\models \\varphi$。我们用 $\\mathcal{P} = \\prod_{n \\in \\mathbb{N}} \\mathcal{M}_{n}$ 表示该直积结构。\n$\\mathcal{P}$ 的论域是各个论域的笛卡尔积：\n$$\n|\\mathcal{P}| = \\prod_{n \\in \\mathbb{N}} |\\mathcal{M}_n| = \\prod_{n \\in \\mathbb{N}} \\{0, 1\\}.\n$$\n$\\mathcal{P}$ 中的一个元素 $a$ 是一个序列 $a = (a_n)_{n \\in \\mathbb{N}}$，其中每个 $a_n \\in \\{0, 1\\}$。\n\n语句 $\\varphi \\equiv \\exists x\\, P(x)$ 在 $\\mathcal{P}$ 中为真，如果存在一个元素 $a \\in |\\mathcal{P}|$ 使得 $\\mathcal{P} \\models P(a)$。在直积中，像 $P(a)$ 这样的原子公式的满足性是逐分量定义的：\n$$\n\\mathcal{P} \\models P(a) \\iff \\forall n \\in \\mathbb{N}, \\mathcal{M}_n \\models P(a_n).\n$$\n条件 $\\mathcal{M}_n \\models P(a_n)$ 等价于 $a_n \\in P^{\\mathcal{M}_n}$。\n所以，对于一个元素 $a = (a_n)_{n \\in \\mathbb{N}}$ 要在积结构 $\\mathcal{P}$ 中满足 $P$，其分量必须对 **所有** $n \\in \\mathbb{N}$ 满足 $a_n \\in P^{\\mathcal{M}_n}$。\n\n问题指出 $S$ 的补集，记为 $\\mathbb{N} \\setminus S$，是一个无穷集。由于它非空，所以必定存在至少一个下标 $n_0 \\in \\mathbb{N} \\setminus S$。对于任何这样的 $n_0$，在结构 $\\mathcal{M}_{n_0}$ 中 $P$ 的解释是 $P^{\\mathcal{M}_{n_0}} = \\emptyset$。\n\n要存在一个元素 $a=(a_n)_{n \\in \\mathbb{N}}$ 使得 $\\mathcal{P} \\models P(a)$，就必须对于我们选择的 $n_0$ 有 $a_{n_0} \\in P^{\\mathcal{M}_{n_0}}$。这要求 $a_{n_0} \\in \\emptyset$，而这是不可能的。\n由于这个条件至少在一个分量上不成立（实际上，在无穷多个分量上不成立），因此不存在序列 $a \\in |\\mathcal{P}|$ 能够满足谓词 $P$。在直积中，$P$ 的解释 $P^{\\mathcal{P}}$ 是空集。\n\n因此，断言存在满足 $P$ 的元素的语句 $\\exists x\\, P(x)$ 在直积中必为假。\n\n对于直积的结论：$\\prod_{n \\in \\mathbb{N}} \\mathcal{M}_{n} \\models \\exists x\\, P(x)$ 是 **假**。这说明了直积和超积之间的一个根本区别。\n\n### 第二部分：哥德尔数的计算\n\n第二个任务是计算语句 $\\varphi \\equiv \\exists x\\, P(x)$ 的哥德尔数。问题指定该公式应被视为符号序列 $\\exists, x, P, (, x, )$。我们用 $(\\sigma_1, \\sigma_2, \\sigma_3, \\sigma_4, \\sigma_5, \\sigma_6)$ 表示此序列。\n\n哥德尔数 $G$ 由以下公式定义：\n$$\nG = \\prod_{i=1}^{k} p_{i}^{e_{i}},\n$$\n其中 $k$ 是序列中的符号数量，$p_i$ 是第 $i$ 个素数，$e_i$ 是第 $i$ 个符号 $\\sigma_i$ 的数字代码。\n\n该序列长度为 $k=6$。前 $6$ 个素数是：\n$p_1 = 2$\n$p_2 = 3$\n$p_3 = 5$\n$p_4 = 7$\n$p_5 = 11$\n$p_6 = 13$\n\n符号代码 $e_i$ 在问题陈述中给出。我们为我们的序列列出它们：\n- $\\sigma_1 = \\exists \\implies e_1 = 31$\n- $\\sigma_2 = x \\implies e_2 = 53$\n- $\\sigma_3 = P \\implies e_3 = 41$\n- $\\sigma_4 = ( \\implies e_4 = 43$\n- $\\sigma_5 = x \\implies e_5 = 53$\n- $\\sigma_6 = ) \\implies e_6 = 47$\n\n现在我们将这些值代入 $G$ 的公式中：\n$$\nG = p_1^{e_1} \\cdot p_2^{e_2} \\cdot p_3^{e_3} \\cdot p_4^{e_4} \\cdot p_5^{e_5} \\cdot p_6^{e_6}\n$$\n$$\nG = 2^{31} \\cdot 3^{53} \\cdot 5^{41} \\cdot 7^{43} \\cdot 11^{53} \\cdot 13^{47}\n$$\n这就是在给定方案下 $\\varphi$ 的哥德尔数的精确闭式表达式。", "answer": "$$\n\\boxed{2^{31} \\cdot 3^{53} \\cdot 5^{41} \\cdot 7^{43} \\cdot 11^{53} \\cdot 13^{47}}\n$$", "id": "2973045"}]}