{"hands_on_practices": [{"introduction": "掌握 Ehrenfeucht–Fraïssé 博弈之力量的最直接方法，是扮演“剧透者”（Spoiler）的角色。本练习旨在挑战您识别出那些能够在少数几步内暴露出来的简单、局部的结构差异，例如某个短环路的存在。通过分析这些具体的图论实例，您将为构建剧透者的制胜策略建立强大的直觉，并理解从一阶逻辑的视角来看，是什么使得两个结构具有本质上的不同。[@problem_id:2969043]", "problem": "在简单无向图的语言中进行讨论，该语言只有一个二元关系符号 $E(x,y)$，被解释为一种非自反的、对称的邻接关系。回想一下，在两个结构 $M$ 和 $N$ 上进行的长度为 $k$ 的 Ehrenfeucht–Fraïssé 博弈（简称 EF），记为 $\\mathrm{EF}_k(M,N)$，由两名玩家——剧透者（Spoiler）和复制者（Duplicator）——进行 $k$ 轮。在每一轮中，剧透者从 $M$ 或 $N$ 中选择一个元素，复制者则从另一个结构中选择一个元素作为回应。$k$ 轮过后，产生两个 $k$ 元组 $(a_1,\\dots,a_k)\\in M^k$ 和 $(b_1,\\dots,b_k)\\in N^k$。如果映射 $a_i\\mapsto b_i$ 是一个局部同构，即对于所有 $i,j\\le k$，当且仅当 $E^M(a_i,a_j)$ 时有 $E^N(b_i,b_j)$，则复制者获胜；否则，剧透者获胜。\n\n请确定以下哪些选项正确地指定了一对图 $(M,N)$ 和一个整数 $k$，使得剧透者在 $\\mathrm{EF}_k(M,N)$ 博弈中拥有一个获胜策略，该策略通过在至多 $k$ 步内，在被放置棋子的顶点上强制形成一个在另一个图中不存在的有限局部组合构型，从而使得任何大小为 $k$ 的局部同构都无法匹配它。选择所有适用的选项。\n\nA. 令 $M$ 为 $4$-环 $C_4$，$N$ 为无限二叉树 $T_2$。对于 $k=4$，剧透者通过构建一个 $4$-环来获胜。\n\nB. 令 $M$ 为三角形 $K_3$，$N$ 为 $4$-环 $C_4$。对于 $k=3$，剧透者通过构建一个三角形来获胜。\n\nC. 令 $M$ 为两条不相交边的并集 $2K_2$，$N$ 为路径 $P_4$。对于 $k=2$，剧透者通过隔离一个 $P_4$ 无法匹配的导出匹配来获胜。\n\nD. 令 $M$ 为可数 Rado 图 $R$（也称为可数无限随机图），$N$ 为完全二部图 $K_{\\aleph_0,\\aleph_0}$。对于 $k=3$，剧透者通过构建一个三角形来获胜。\n\nE. 令 $M=C_{10}$，$N=C_{11}$。对于 $k=2$，剧透者通过揭示环长的奇偶性来获胜。", "solution": "该问题要求确定给定的选项中，哪些正确地指定了一对图 $(M,N)$ 和一个整数 $k$，使得剧透者在 Ehrenfeucht–Fraïssé 博弈 $\\mathrm{EF}_k(M,N)$ 中拥有获胜策略。剧透者存在获胜策略当且仅当这两个结构 $M$ 和 $N$ 不是 $k$ 等价的，记为 $M \\not\\equiv_k N$。这意味着剧透者可以在一个图中选择一个包含 $k$ 个顶点的序列，以展示一个复制者在另一个图中的选择无法复制的性质。这里所说的性质是指在 $k$ 个被选中的（“放置棋子的”）顶点上的导出子图的同构类型。\n\n让我们逐一分析每个选项：\n\n**A. 令 $M$ 为 $4$-环 $C_4$，$N$ 为无限二叉树 $T_2$。对于 $k=4$，剧透者通过构建一个 $4$-环来获胜。**\n\n图 $M=C_4$ 是一个有 $4$ 个顶点的环。图 $N=T_2$ 是一棵无限树。树的一个基本性质是它是无环的。因此，$N$ 不包含任何环，包括 $4$-环。\n\n$4$-环的存在性可以用一个包含 $4$ 个变量的一阶句子来表达，例如：$\\exists x_1 \\exists x_2 \\exists x_3 \\exists x_4 (\\bigwedge_{1 \\le i  j \\le 4} x_i \\neq x_j \\wedge E(x_1, x_2) \\wedge E(x_2, x_3) \\wedge E(x_3, x_4) \\wedge E(x_4, x_1))$。由于这个性质区分了 $M$ 和 $N$ 并且使用了 $4$ 个变量，所以剧透者在 $\\mathrm{EF}_4(M,N)$ 中保证有获胜策略。\n\n剧透者的获胜策略如下：\n$1$. 剧透者选择 $M=C_4$ 中 $4$-环的顶点，我们按环的顺序称它们为 $a_1, a_2, a_3, a_4$。\n$2$. 在第 $1$ 轮，剧透者选择 $a_1$。复制者回应 $N$ 中的某个顶点 $b_1$。\n$3$. 在第 $2$ 轮，剧透者选择 $a_1$ 的一个邻居 $a_2$。复制者必须回应 $b_1$ 的一个邻居 $b_2$。\n$4$. 在第 $3$ 轮，剧透者选择 $a_2$ 的邻居中不是 $a_1$ 的那个顶点 $a_3$。复制者必须选择 $b_2$ 的一个邻居 $b_3$，使得 $b_3 \\neq b_1$（因为 $a_3 \\neq a_1$）。此时，$(b_1, b_2, b_3)$ 是 $N$ 中一条长度为 $2$ 的路径。\n$5$. 在第 $4$ 轮，剧透者选择 $a_4$。这个顶点同时与 $a_1$ 和 $a_3$ 相邻。复制者必须在 $N$ 中找到一个同时与 $b_1$ 和 $b_3$ 相邻的顶点 $b_4$。这样一个 $b_4$ 的存在将意味着在 $N$ 中存在一个长度为 $4$ 的环 $(b_1, b_2, b_3, b_4, b_1)$。由于 $N$ 是一棵树，没有环，所以这样的顶点 $b_4$ 不存在。\n剧透者获胜，因为复制者无法完成局部同构。该策略的描述是准确的。\n\nA 的结论：**正确**。\n\n**B. 令 $M$ 为三角形 $K_3$，$N$ 为 $4$-环 $C_4$。对于 $k=3$，剧透者通过构建一个三角形来获胜。**\n\n图 $M=K_3$ 是一个 $3$-环（三角形）。图 $N=C_4$ 是一个 $4$-环。$C_4$ 是一个二部图，这意味着它不包含任何奇数长度的环。特别地，$C_4$ 是无三角形的。\n\n三角形的存在性可以用一个包含 $3$ 个变量的句子来表达：$\\exists x_1 \\exists x_2 \\exists x_3 (E(x_1, x_2) \\wedge E(x_2, x_3) \\wedge E(x_3, x_1))$。由于这个性质在 $M$ 中成立但在 $N$ 中不成立，剧透者在 $\\mathrm{EF}_3(M,N)$ 中有获胜策略。\n\n剧透者的获胜策略是选择 $K_3$ 的所有三个顶点，记为 $a_1, a_2, a_3$。\n$1$. 在第 $1$ 轮，剧透者选择 $a_1 \\in M$。复制者选择某个 $b_1 \\in N$。\n$2$. 在第 $2$ 轮，剧透者选择 $a_2 \\in M$。由于 $M=K_3$，因此 $E(a_1, a_2)$ 为真。复制者回应 $b_1$ 的一个邻居 $b_2$。\n$3$. 在第 $3$ 轮，剧透者选择 $a_3 \\in M$。在 $K_3$ 中，$a_3$ 同时与 $a_1$ 和 $a_2$ 相邻。复制者必须在 $N$ 中找到一个同时与 $b_1$ 和 $b_2$ 相邻的顶点 $b_3$。在 $C_4$ 中，任意一对相邻的顶点都没有共同的邻居。因此，这样的 $b_3$ 不存在。\n剧透者获胜。该策略的描述是准确的。\n\nB 的结论：**正确**。\n\n**C. 令 $M$ 为两条不相交边的并集 $2K_2$，$N$ 为路径 $P_4$。对于 $k=2$，剧透者通过隔离一个 $P_4$ 无法匹配的导出匹配来获胜。**\n\n让我们确定是否 $M \\equiv_2 N$。如果它们是 $2$ 等价的，则复制者获胜。图 $M=2K_2$ 有 $4$ 个顶点，每个顶点的度都为 $1$。图 $N=P_4$ 有 $4$ 个顶点，两个顶点的度为 $1$，两个顶点的度为 $2$。\n\n在 $\\mathrm{EF}_2(M,N)$ 中，复制者有获胜策略。复制者的获胜策略可以通过下面的案例分析来证明：\n让我们追踪一个复制者试图获胜的博弈过程：\n在 $k=2$ 博弈中，最终的映射 $a_i \\mapsto b_i$（其中 $i \\in \\{1,2\\}$）必须是一个局部同构。\n我们来测试剧透者在 $k=2$ 的所有可能招数：\n$1$. 剧透者选择 $a_1$。复制者选择 $b_1$。\n$2$. 剧透者选择 $a_2$。\n   - 如果 $a_1, a_2$ 相邻：复制者必须选择与 $b_1$ 相邻的 $b_2$。只要复制者的第一个选择 $b_1$ 不是孤立顶点（两个图都没有孤立顶点），这在两个图中总是可能的。\n   - 如果 $a_1, a_2$ 不相邻：复制者必须选择不与 $b_1$ 相邻的 $b_2$。由于两个图都不是完全图，这也总是可能的。\n在 $k=2$ 博弈的所有情况下，复制者都可以确保所选顶点对之间的原子关系（邻接性）是相同的。因此，复制者在 $\\mathrm{EF}_2(M,N)$ 中有获胜策略，并且 $M \\equiv_2 N$。\n剧透者可以通过在 $P_4$ 中选择长度为 $2$ 的路径的三个顶点来在 $\\mathrm{EF}_3(M,N)$ 中获胜。$2K_2$ 中没有长度为 $2$ 的路径。由于该选项声明 $k=2$，因此它是错误的。此外，“隔离一个大小为 $2$ 的导出匹配”需要放置 $4$ 个棋子，这在 $k=2$ 的情况下是不可能的。\n\nC 的结论：**不正确**。\n\n**D. 令 $M$ 为可数 Rado 图 $R$（也称为可数无限随机图），$N$ 为完全二部图 $K_{\\aleph_0,\\aleph_0}$。对于 $k=3$，剧透者通过构建一个三角形来获胜。**\n\nRado 图 $R$ 的特点是具有扩展性质：对于任意两个不相交的有限顶点集 $U$ 和 $V$，都存在一个顶点 $z$ 与 $U$ 中所有顶点相邻，且不与 $V$ 中任何顶点相邻。其推论是，$R$ 包含每一个有限图作为其导出子图。特别地，$R$ 包含 $K_3$（一个三角形）。\n图 $N = K_{\\aleph_0,\\aleph_0}$ 是可数无限完全二部图。根据定义，二部图是不包含任何奇数长度环的图。因此，$N$ 是无三角形的。\n这种情况原则上与选项 B 相同。三角形的存在性区分了这两个图，并且这可以用 $k=3$ 个棋子来证明。\n\n剧透者的获胜策略：\n$1$. 剧透者在 $M=R$ 中进行博弈，并选择一个三角形的三个顶点 $a_1, a_2, a_3$。\n$2$. 第 $1$ 轮：剧透者选择 $a_1 \\in R$。复制者选择 $b_1 \\in N$。设 $N$ 的划分为 $X$ 和 $Y$。假设 $b_1 \\in X$。\n$3$. 第 $2$ 轮：剧透者选择 $a_1$ 的一个邻居 $a_2 \\in R$。复制者必须选择 $b_1$ 的一个邻居 $b_2$。$X$ 中一个顶点的所有邻居都在 $Y$ 中，所以 $b_2 \\in Y$。\n$4$. 第 $3$ 轮：剧透者选择 $a_3 \\in R$，它同时与 $a_1$ 和 $a_2$ 相邻。复制者必须在 $N$ 中找到一个同时与 $b_1$ 和 $b_2$ 相邻的顶点 $b_3$。因为 $b_1 \\in X$，所以 $b_3$ 必须在 $Y$ 中。因为 $b_2 \\in Y$，所以 $b_3$ 必须在 $X$ 中。这些条件是矛盾的，因为 $X \\cap Y = \\emptyset$。这样的 $b_3$ 不存在。\n剧透者获胜。该策略的描述是准确的。\n\nD 的结论：**正确**。\n\n**E. 令 $M=C_{10}$，$N=C_{11}$。对于 $k=2$，剧透者通过揭示环长的奇偶性来获胜。**\n\n我们需要确定是否 $C_{10} \\not\\equiv_2 C_{11}$。EF 博弈的一个标准结果是，如果 $m, n \\ge 2k$，则两个环 $C_m$ 和 $C_n$ 是 $k$ 等价的。这里，$k=2$，所以 $2k=4$。由于 $m=10 \\ge 4$ 且 $n=11 \\ge 4$，因此有 $C_{10} \\equiv_2 C_{11}$。这意味着复制者在 $\\mathrm{EF}_2(C_{10}, C_{11})$ 中有获胜策略。\n\n我们可以通过概述复制者的策略来确认这一点。\n在 $k=2$ 的博弈中，剧透者和复制者总共选择两个顶点。唯一需要检查的性质是它们是否相邻。\n$1$. 第 $1$ 轮：剧透者选择一个顶点 $a_1$（在 $C_{10}$ 或 $C_{11}$ 中）。由于两个图都是顶点传递的，我们可以不失一般性地假设 $a_1 \\in C_{10}$。复制者选择 $C_{11}$ 中的任意一个顶点 $b_1$。\n$2$. 第 $2$ 轮：剧透者在 $C_{10}$ 中选择第二个顶点 $a_2$。\n   - 如果 $a_2$ 与 $a_1$ 相邻：复制者必须在 $C_{11}$ 中选择一个与 $b_1$ 相邻的顶点 $b_2$。这是可能的，因为 $C_{11}$ 中的每个顶点的度都为 $2$。映射 $a_1 \\mapsto b_1, a_2 \\mapsto b_2$ 保留了邻接关系。\n   - 如果 $a_2$ 不与 $a_1$ 相邻：复制者必须在 $C_{11}$ 中选择一个不与 $b_1$ 相邻的顶点 $b_2$。这是可能的，因为 $C_{11}$ 有 $11-1-2=8$ 个这样的顶点。该映射保留了非邻接关系。\n在任何一种情况下，复制者都可以采取行动，使得在两个顶点上得到的映射是一个局部同构。因此，复制者获胜。关于剧透者在 $k=2$ 时获胜的说法是错误的。为了区分 $C_{10}$ 和 $C_{11}$（例如，通过 $C_{10}$ 是二部图而 $C_{11}$ 不是），剧透者需要展示一个奇数环。$C_{11}$ 中最短的奇数环长度为 $11$，所以剧透者需要远远超过 $2$ 轮。\n\nE 的结论：**不正确**。\n\n总结：正确的选项是 A、B 和 D。", "answer": "$$\\boxed{ABD}$$", "id": "2969043"}, {"introduction": "如果说“剧透者”揭示了差异，那么“复制者”（Duplicator）的成功则揭示了相似性。但这是一种怎样的相似性呢？这个经典问题探讨了这样一种情况：尽管复制者在*任何*有限长度的 Ehrenfeucht–Fraïssé 博弈中都拥有制胜策略，但所比较的两个结构——有理数集 $(\\mathbb{Q},)$ 与实数集 $(\\mathbb{R},)$——却并非同构。此练习对于理解初等等价（无法被一阶逻辑区分）与同构之间的深刻区别至关重要，它突显了一阶逻辑在处理像基数和完备性这类概念时的局限性。[@problem_id:2969082]", "problem": "设 $M=(\\mathbb{Q},)$ 和 $N=(\\mathbb{R},)$ 是线性序语言 $\\mathcal{L}=\\{\\}$ 中的结构。请仅使用无端点稠密线性序的核心定义和 Ehrenfeucht–Fraïssé (EF) 对策的规则，分析 $M$ 和 $N$ 之间长度为 $k$ 的 EF 对策。具体而言，从无端点稠密线性序的定义和 EF 对策中部分同构的定义出发，论证对于任意有限的 $k \\in \\mathbb{N}$，复制者 (Duplicator) 在 $\\mathrm{EF}_{k}(M,N)$ 中是否有获胜策略。然后，定义指示函数 $\\chi:\\mathbb{N}\\to\\{0,1\\}$，当复制者在 $\\mathrm{EF}_{k}(M,N)$ 中有获胜策略时，令 $\\chi(k)=1$，否则 $\\chi(k)=0$，并计算下式的精确值：\n$$\nS \\;=\\; \\sum_{k=1}^{\\infty} 2^{-k}\\,\\chi(k).\n$$\n最后，从第一性原理出发，解释为什么尽管复制者在所有有限长度的 EF 对策中都获胜，但一个能够导出 $M$ 和 $N$ 之间同构的完全往返 (full back-and-forth) 过程会失败。您的解释必须基于一阶逻辑 $\\mathcal{L}=\\{\\}$ 内部的可定义性和基数方面的考量。", "solution": "该问题要求对结构 $M=(\\mathbb{Q},)$ 和 $N=(\\mathbb{R},)$ 之间的 Ehrenfeucht-Fraïssé (EF) 对策进行三部分分析。首先，我们必须确定对于任意有限的 $k \\in \\mathbb{N}$，复制者在对策 $\\mathrm{EF}_{k}(M,N)$ 中是否有获胜策略。其次，我们必须计算和 $S = \\sum_{k=1}^{\\infty} 2^{-k}\\,\\chi(k)$，其中 $\\chi(k)$ 是一个基于复制者是否成功的指示函数。第三，我们必须解释为什么尽管复制者在所有有限长度的对策中都成功，$M$ 和 $N$ 之间却不存在同构。\n\n首先，我们验证该问题。\n**步骤1：提取已知条件**\n- 结构 $M = (\\mathbb{Q}, )$，即有理数集合及其标准小于序。\n- 结构 $N = (\\mathbb{R}, )$，即实数集合及其标准小于序。\n- 语言为 $\\mathcal{L}=\\{\\}$, 由一个二元关系符号组成。\n- 对策是长度为 $k$ 的 Ehrenfeucht-Fraïssé 对策，记作 $\\mathrm{EF}_{k}(M,N)$。\n- 分析必须基于无端点稠密线性序 (DLO) 的核心定义和 EF 对策。\n- 定义了一个指示函数 $\\chi:\\mathbb{N}\\to\\{0,1\\}$，当复制者在 $\\mathrm{EF}_{k}(M,N)$ 中有获胜策略时 $\\chi(k)=1$，否则 $\\chi(k)=0$。\n- 需要计算一个和：$S = \\sum_{k=1}^{\\infty} 2^{-k}\\,\\chi(k)$。\n- 要求解释为什么一个能够导出同构的完全往返过程会失败，解释需基于一阶逻辑 $\\mathcal{L}=\\{\\}$ 内部的可定义性和基数考量。\n\n**步骤2：使用提取的已知条件进行验证**\n该问题在数理逻辑和模型论的框架内是良定义的，且具有科学依据。$(\\mathbb{Q}, )$ 和 $(\\mathbb{R}, )$ 都是无端点稠密线性序结构的经典例子。Ehrenfeucht-Fraïssé 对策是研究初等等价性的基本工具。该问题是此领域的标准练习题，旨在检验对 EF 对策、初等等价性和同构之间关系的理解。该问题是自洽的、客观的，并且没有科学或逻辑上的缺陷。\n\n**步骤3：结论与行动**\n问题有效。我们继续进行完整解答。\n\n**第一部分：对 $\\mathrm{EF}_{k}(M,N)$ 对策的分析**\n\n无端点稠密线性序 (DLO) 理论由以下在一阶语言 $\\mathcal{L}=\\{\\}$ 中的公理定义：\n1.  反自反性: $\\forall x \\, \\neg(x  x)$\n2.  传递性: $\\forall x \\forall y \\forall z \\, ((x  y \\wedge y  z) \\to x  z)$\n3.  全序性 (线性): $\\forall x \\forall y \\, (x  y \\lor x = y \\lor y  x)$\n4.  稠密性: $\\forall x \\forall y \\, (x  y \\to \\exists z \\, (x  z \\wedge z  y))$\n5.  无最小元: $\\forall x \\, \\exists y \\, (y  x)$\n6.  无最大元: $\\forall x \\, \\exists y \\, (x  y)$\n\n结构 $M=(\\mathbb{Q},)$ 和 $N=(\\mathbb{R},)$ 都是这个理论的模型。\n\nEhrenfeucht-Fraïssé 对策 $\\mathrm{EF}_{k}(M,N)$ 由两名玩家——剧透者 (Spoiler) 和复制者 (Duplicator)——进行 $k$ 轮。在每一轮 $i \\in \\{1, \\dots, k\\}$ 中，剧透者从 $M$ 或 $N$ 中选择一个元素，复制者必须从另一个结构中选择一个元素作为回应。$k$ 轮过后，假设选出的元素是 $a_1, \\dots, a_k \\in \\mathbb{Q}$ 和 $b_1, \\dots, b_k \\in \\mathbb{R}$，其中 $(a_i, b_i)$ 是在该轮中剧透者从 $\\mathbb{Q}$ 中选、复制者从 $\\mathbb{R}$ 中选（或反之）所产生的元素对。\n\n如果由 $f(a_i) = b_i$ (对所有 $i$) 定义的映射 $f: \\{a_1, \\dots, a_k\\} \\to \\{b_1, \\dots, b_k\\}$ 是一个部分同构，那么复制者获胜。在语言 $\\mathcal{L}=\\{\\}$ 中，这意味着对于任意一对索引 $i, j \\in \\{1, \\dots, k\\}$，条件 $a_i  a_j$ 在 $M$ 中成立当且仅当 $b_i  b_j$ 在 $N$ 中成立。\n\n对于任何有限的 $k \\in \\mathbb{N}$，复制者在 $\\mathrm{EF}_{k}(M,N)$ 中都有获胜策略。该策略如下：复制者维持一个不变量，即在第 $i$ 轮之后，已选出的 $i$ 对元素构成的映射是一个部分同构。\n\n我们来描述第 $i$ 轮 ($1 \\le i \\le k$) 的策略，假设前 $i-1$ 轮的不变量成立。设目前已选出的元素是来自 $\\mathbb{Q}$ 的 $(a_1, \\dots, a_{i-1})$ 和来自 $\\mathbb{R}$ 的 $(b_1, \\dots, b_{i-1})$。设这些元素中的不同值按序排列成的集合分别为 $\\{a'_{1}, \\dots, a'_{m}\\}$ 和 $\\{b'_{1}, \\dots, b'_{m}\\}$，其中 $m  i$。根据不变量，对于所有 $j \\in \\{1, \\dots, m-1\\}$，$a'_{j}  a'_{j+1}$ 当且仅当 $b'_{j}  b'_{j+1}$。\n\n这些点将它们各自的数轴划分为 $m+1$ 个开区间：\n在 $\\mathbb{Q}$ 中：$(-\\infty, a'_{1})_{\\mathbb{Q}}$, $(a'_{1}, a'_{2})_{\\mathbb{Q}}$, ..., $(a'_{m-1}, a'_{m})_{\\mathbb{Q}}$, $(a'_{m}, \\infty)_{\\mathbb{Q}}$。\n在 $\\mathbb{R}$ 中：$(-\\infty, b'_{1})_{\\mathbb{R}}$, $(b'_{1}, b'_{2})_{\\mathbb{R}}$, ..., $(b'_{m-1}, b'_{m})_{\\mathbb{R}}$, $(b'_{m}, \\infty)_{\\mathbb{R}}$。\n\n现在，在第 $i$ 轮，假设剧透者选择了一个新元素 $a_i \\in \\mathbb{Q}$。$a_i$ 相对于 $\\{a'_{1}, \\dots, a'_{m}\\}$ 的位置有三种可能性：\n1.  $a_i = a'_j$ 对于某个 $j$。复制者必须选择 $b_i = b'_j$。部分同构被平凡地维持。\n2.  $a_i$ 落在某个开区间内，比如 $a_i \\in (a'_{j}, a'_{j+1})_{\\mathbb{Q}}$。复制者必须选择一个元素 $b_i \\in (b'_{j}, b'_{j+1})_{\\mathbb{R}}$。因为 $(\\mathbb{R},)$ 是一个稠密线性序，所以区间 $(b'_{j}, b'_{j+1})_{\\mathbb{R}}$ 是非空的。复制者可以从此区间中选择任意一个元素，例如 $b_i = (b'_{j} + b'_{j+1})/2$。\n3.  $a_i$ 落在某个无界区间内，比如 $a_i  a'_{1}$。复制者必须选择 $b_i  b'_{1}$。由于 $(\\mathbb{R},)$ 没有最小元，这样的 $b_i$ 总是存在（例如，$b_i = b'_{1} - 1$）。如果 $a_i  a'_{m}$，则适用类似的论证。\n\n如果剧透者先选择一个元素 $b_i \\in \\mathbb{R}$，则存在一个对称的论证。复制者的回应 $a_i \\in \\mathbb{Q}$ 也必定存在，因为 $(\\mathbb{Q},)$ 同样是一个无端点稠密线性序。\n\n由于这个策略能让复制者在 $k$ 轮中成功回应剧透者的任何移动，同时维持已选有限子集之间的序同构，因此对于任何有限的 $k \\in \\mathbb{N}$，复制者在 $\\mathrm{EF}_{k}(M,N)$ 中都有获胜策略。\n\n**第二部分：计算和 $S$**\n\n指示函数 $\\chi(k)$ 定义为：如果复制者在 $\\mathrm{EF}_{k}(M,N)$ 中有获胜策略，则 $\\chi(k)=1$，否则 $\\chi(k)=0$。根据第一部分的分析，我们得出结论，对于所有有限的 $k \\ge 1$，复制者都有获胜策略。因此，对于所有 $k \\in \\mathbb{N}$ 且 $k \\ge 1$，$\\chi(k) = 1$。\n\n需要计算的和是\n$$S \\;=\\; \\sum_{k=1}^{\\infty} 2^{-k}\\,\\chi(k)$$\n将 $\\chi(k) = 1$ (对于所有 $k \\ge 1$) 代入，我们得到\n$$S \\;=\\; \\sum_{k=1}^{\\infty} 2^{-k} \\cdot 1 \\;=\\; \\sum_{k=1}^{\\infty} \\left(\\frac{1}{2}\\right)^k$$\n这是一个标准几何级数，其首项 $a = 1/2$，公比 $r = 1/2$。当 $|r|  1$ 时，无穷几何级数的和由 $a / (1-r)$ 给出。\n$$S \\;=\\; \\frac{\\frac{1}{2}}{1 - \\frac{1}{2}} \\;=\\; \\frac{\\frac{1}{2}}{\\frac{1}{2}} \\;=\\; 1$$\n该和的精确值为 $1$。\n\n**第三部分：同构的失败**\n\nEhrenfeucht-Fraïssé 定理指出，两个结构是初等等价的（即满足相同的一阶句子），当且仅当对于所有有限的 $k \\in \\mathbb{N}$，复制者在 $\\mathrm{EF}_{k}$ 中都有获胜策略。我们第一部分的结果意味着 $M \\equiv N$。\n\n$M=(\\mathbb{Q},)$ 和 $N=(\\mathbb{R},)$ 之间的一个同构将是一个双射函数 $f: \\mathbb{Q} \\to \\mathbb{R}$，且该函数是保序的，即对于所有 $q_1, q_2 \\in \\mathbb{Q}$，$q_1  q_2 \\iff f(q_1)  f(q_2)$。“完全往返”指的是复制者在无限长度对策 $\\mathrm{EF}_{\\omega}(M,N)$ 中有获胜策略。对于可数语言，这等价于结构之间存在同构。\n\n不存在同构的根本原因是这两个集合的基数不同。有理数集合 $\\mathbb{Q}$ 是可数的，即 $|\\mathbb{Q}| = \\aleph_0$。实数集合 $\\mathbb{R}$ 是不可数的，其基数为 $|\\mathbb{R}| = 2^{\\aleph_0}$。两个集合之间存在双射的充要条件是它们具有相同的基数。由于 $|\\mathbb{Q}| \\neq |\\mathbb{R}|$，不存在这样的双射，因此也不可能存在同构。\n\n问题要求一个基于一阶逻辑内部可定义性的解释。一阶逻辑，在像 $\\mathcal{L}=\\{\\}$ 这样的可数语言中，其表达能力不足以区分所有非同构的结构。复制者在所有有限对策中的成功正说明了这一局限性。在对策的任何有限阶段，都只选择了有限数量的点。稠密性（这是一个可被一阶逻辑定义的性质）确保了复制者总能找到一个合适的点放置在对应的区间中。对策永远“看不见”数轴的全局结构，只能看到有限点集的局部相对顺序。\n\n区分 $\\mathbb{R}$ 和 $\\mathbb{Q}$ 的性质是完备性：$\\mathbb{R}$ 的任何非空且有上界的子集在 $\\mathbb{R}$ 中都有一个最小上界（上确界）。$\\mathbb{Q}$ 不具备此性质。例如，集合 $A = \\{x \\in \\mathbb{Q} \\mid x^2  2\\}$ 在 $\\mathbb{Q}$ 中是非空的且有上界（比如 $2$），但它的上确界 $\\sqrt{2}$ 不在 $\\mathbb{Q}$ 中。\n\n完备性无法用任何一阶逻辑的句子来表达。要表达它，需要对论域的所有子集进行量化，例如“对于任意子集 $S$...”。对集合的量化是二阶逻辑的特征，而非一阶逻辑。由于完备性不是一个一阶性质，因此不存在任何一个一阶句子 $\\phi$ 会因为这个差异而在 $(\\mathbb{R},)$ 中为真但在 $(\\mathbb{Q},)$ 中为假。这恰恰是它们初等等价（$M \\equiv N$）的原因，也是复制者赢得所有有限 EF 对策的原因。\n\n总之，完全往返之所以失败，是因为它将意味着一个双射的存在，而这由于基数差异（$|\\mathbb{Q}| = \\aleph_0$ vs. $|\\mathbb{R}| = 2^{\\aleph_0}$）是不可能的。复制者在所有有限对策中的成功揭示了一阶逻辑的能力太弱，无法检测到这种基数差异或相关的二阶性质——完备性。有限对策只检验那些可用一阶公式表达的性质，而就这些性质而言，$(\\mathbb{Q},)$ 和 $(\\mathbb{R},)$ 是不可区分的。", "answer": "$$\\boxed{1}$$", "id": "2969082"}, {"introduction": "Ehrenfeucht–Fraïssé 博弈提供的不仅仅是一个“相同/不同”的二元判定；它通过量词秩，为结构相似性提供了一种精细的度量。本练习将磨练您的技巧，要求您找出那些在博弈进行到特定长度 $k$ 时仍无法区分，但只要再多一步“剧透者”就能获胜的结构。通过分析一对仅在简单计数属性上存在差异的极简结构，您将精确地理解逻辑复杂度（以量词深度衡量）如何与揭示结构差异所需的博弈回合数相对应。[@problem_id:2969046]", "problem": "固定一个自然数 $k \\ge 1$，并考虑有限关系语言上的一阶逻辑。回顾一下，如果两个$\\mathcal{L}$-结构 $\\mathcal{A}$ 和 $\\mathcal{B}$ 满足所有量词秩至多为 $k$ 的相同$\\mathcal{L}$-句子，那么它们在量词秩 $k$ 上是一致的，这等价于复制者（Duplicator）在 $k$ 轮的Ehrenfeucht–Fraïssé博弈中拥有获胜策略。一个深度为 $k$ 的往返系统是 $\\mathcal{A}$ 和 $\\mathcal{B}$ 之间的一个非空有限偏同构族，该族对于扩展操作（即从一个结构中选取元素，在另一个结构中寻找对应元素来扩展偏同构）是封闭的，此过程最多可进行 $k$ 步。\n\n哪个选项正确地展示了一对在量词秩 $k$ 上一致但在量词秩 $k+1$ 上不一致的结构，并且正确地指出了在深度为 $k+1$ 时破坏往返系统的确切配置？\n\nA. 语言 $\\mathcal{L}=\\{P\\}$，含有一个一元谓词。设 $\\mathcal{A}_k$ 的论域为 $\\mathbb{N}$，其中恰有 $k$ 个元素满足 $P$；设 $\\mathcal{B}_k$ 的论域为 $\\mathbb{N}$，其中恰有 $k+1$ 个元素满足 $P$。深度为 $k$ 的往返系统可以通过总是将满足 $P$ 的元素匹配到先前未使用的满足 $P$ 的元素，并将不满足 $P$ 的元素匹配到不满足 $P$ 的元素来维持。但在深度 $k+1$ 时，剧透者（Spoiler）通过在 $\\mathcal{B}_k$ 中重复选择满足 $P$ 的不同元素来打破博弈，从而产生比 $\\mathcal{A}_k$ 中存在的此类元素多一个。\n\nB. 语言 $\\mathcal{L}=\\{\\}$，含有一个被解释为线性序的二元关系符号。取 $\\mathcal{A}=(\\mathbb{Z},)$ 和 $\\mathcal{B}=(\\mathbb{N},)$。它们对所有 $k$ 都在量词秩 $k$ 上一致，但在秩 $k+1$ 上不一致，因为在深度 $k+1$ 时，剧透者可以分离出最小元的存在性。\n\nC. 语言 $\\mathcal{L}=\\{E\\}$，含有一个被解释为无向简单图的二元关系。设 $\\mathcal{G}_k$ 为 $k$ 个 $4$-圈的不交并，$\\mathcal{H}_k$ 为 $k+1$ 个 $4$-圈的不交并。它们在量词秩 $k$ 上一致，但在秩 $k+1$ 上不一致，因为在深度 $k+1$ 时，剧透者在 $\\mathcal{H}_k$ 中强制选出一个包含 $k+1$ 个成对不相邻的已选顶点的集合，这在 $\\mathcal{G}_k$ 中无法匹配。\n\nD. 语言 $\\mathcal{L}=\\{E,R\\}$，其中 $E$ 是一个二元边关系，$R$ 是一个挑选特殊根的一元谓词。设 $\\mathcal{T}_{k}$ 为高度为 $k$ 的有根满二叉树（所有内部节点恰好有两个 $E$-后继， $R$-根位于高度0，所有叶节点位于高度 $k$），设 $\\mathcal{T}'_{k}$ 是由 $\\mathcal{T}_{k}$ 修改得到的，其在高度 $k-1$ 处恰有一个节点只有一个 $E$-后继。它们在量词秩 $k-1$ 上一致，但在秩 $k$ 上不一致，因为剧透者可以在 $k$ 轮内下降到那个高度，并在最后一步揭示出缺失的兄弟节点。", "solution": "该问题要求找出哪个选项正确地呈现了一对结构 $\\mathcal{A}$ 和 $\\mathcal{B}$，它们在一阶逻辑中于量词秩 $k+1$ 时可区分，但在秩 $k$ 时不可区分（对于一般的 $k \\ge 1$），并正确描述了剧透者在相应的Ehrenfeucht–Fraïssé博弈中的获胜策略。在量词秩 $k$ 上一致的条件等价于复制者在 $k$ 轮Ehrenfeucht–Fraïssé博弈中拥有获胜策略，这又等价于存在一个深度为 $k$ 的往返系统。在秩 $k+1$ 上不一致意味着剧透者在 $(k+1)$ 轮博弈中拥有获胜策略。\n\n我们现在逐一分析每个选项。\n\n### 选项 A\n\n**结构：** 语言为 $\\mathcal{L}=\\{P\\}$，包含一个一元谓词符号 $P$。结构定义在论域 $\\mathbb{N}$ 上。在结构 $\\mathcal{A}_k$ 中，恰有 $k$ 个元素满足 $P$。在结构 $\\mathcal{B}_k$ 中，恰有 $k+1$ 个元素满足 $P$。我们假设两个结构中都有无限多个不满足 $P$ 的元素。\n\n**断言：** $\\mathcal{A}_k$ 和 $\\mathcal{B}_k$ 在量词秩 $k$ 上一致，但在量词秩 $k+1$ 上不一致。\n\n**分析秩 $k$ 上的一致性（$\\mathcal{A}_k \\equiv_k \\mathcal{B}_k$）：**\n我们需要证明复制者在 $k$ 轮Ehrenfeucht–Fraïssé博弈中拥有获胜策略。\n让我们定义复制者的策略。在任意第 $i$ 轮（$i \\in \\{1, \\dots, k\\}$），假设剧透者选择一个元素。\n1.  如果剧透者在 $\\mathcal{A}_k$ 中选择 $a_i$：\n    *   如果 $P^{\\mathcal{A}_k}(a_i)$ 成立且 $a_i$ 之前未被选择过，复制者就在 $\\mathcal{B}_k$ 中选择一个之前未被选择过且满足 $P^{\\mathcal{B}_k}(b_i)$ 的元素 $b_i$。这是可能的，因为在第 $i \\le k$ 轮时，$\\mathcal{B}_k$ 中至多有 $i-1  k$ 个满足 $P$ 的元素被选择过，而 $\\mathcal{B}_k$ 有 $k+1$ 个这样的元素。\n    *   如果 $\\neg P^{\\mathcal{A}_k}(a_i)$ 成立且 $a_i$ 是新的，复制者就在 $\\mathcal{B}_k$ 中选择一个满足 $\\neg P^{\\mathcal{B}_k}(b_i)$ 的新元素 $b_i$。这是可能的，因为存在无限多个这样的元素。\n    *   如果 $a_i$ 是一个先前选择过的元素，比如说 $a_j$（$ji$），复制者就选择 $b_i = b_j$。\n2.  如果剧透者在 $\\mathcal{B}_k$ 中选择 $b_i$：\n    *   如果 $P^{\\mathcal{B}_k}(b_i)$ 成立且 $b_i$ 是新的，复制者就在 $\\mathcal{A}_k$ 中选择一个满足 $P^{\\mathcal{A}_k}(a_i)$ 的新元素 $a_i$。这是可能的，因为在第 $i \\le k$ 轮时，$\\mathcal{A}_k$ 中至多有 $i-1  k$ 个满足 $P$ 的元素被选择过，而 $\\mathcal{A}_k$ 有 $k$ 个这样的元素。\n    *   其他情况与上述对称。\n\n$k$ 轮之后，构建了一个偏映射 $p = \\{(a_1,b_1), \\dots, (a_k,b_k)\\}$。根据构造，对于 $p$ 中的任何对 $(a,b)$，$P^{\\mathcal{A}_k}(a)$ 成立当且仅当 $P^{\\mathcal{B}_k}(b)$ 成立。由于 $P$ 是唯一的谓词，这个映射是一个偏同构。因此，复制者赢得 $k$ 轮博弈。\n\n**分析秩 $k+1$ 上的不一致性（$\\mathcal{A}_k \\not\\equiv_{k+1} \\mathcal{B}_k$）：**\n我们需要证明剧透者在 $(k+1)$ 轮博弈中拥有获胜策略。考虑句子 $\\phi = \\exists x_1 \\dots \\exists x_{k+1} (\\bigwedge_{i=1}^{k+1} P(x_i) \\land \\bigwedge_{1 \\le i  j \\le k+1} x_i \\ne x_j)$。这个句子的量词秩为 $k+1$。$\\mathcal{B}_k \\models \\phi$ 因为它有 $k+1$ 个满足 $P$ 的元素。$\\mathcal{A}_k \\models \\neg\\phi$ 因为它只有 $k$ 个满足 $P$ 的元素。由于它们在一个秩为 $k+1$ 的句子上不一致，因此它们不是 $(k+1)$-等价的。\n\n剧透者在该博弈中的获胜策略如下：在第 $i$ 轮（$i \\in \\{1, \\dots, k+1\\}$）中，剧透者选择一个满足 $P^{\\mathcal{B}_k}(b_i)$ 的新元素 $b_i \\in \\mathcal{B}_k$。这是可能的，因为 $\\mathcal{B}_k$ 中有 $k+1$ 个这样的元素。复制者必须在每一轮回应一个满足 $P^{\\mathcal{A}_k}(a_i)$ 的唯一元素 $a_i \\in \\mathcal{A}_k$。在前 $k$ 轮中，复制者可以找到这样不同的元素 $a_1, \\dots, a_k$。然而，在第 $k+1$ 轮，剧透者选择了 $\\mathcal{B}_k$ 中第 $(k+1)$ 个满足 $P$ 的元素 $b_{k+1}$。复制者必须在 $\\mathcal{A}_k$ 中找到一个对应的元素 $a_{k+1}$，它既要满足 $P$，又要不同于 $a_1, \\dots, a_k$。这是不可能的，因为 $\\mathcal{A}_k$ 中所有 $k$ 个满足 $P$ 的元素都已经被选择过了。复制者失败。\n\n选项中对获胜策略的描述是：“...但在深度 $k+1$ 时，剧透者通过在 $\\mathcal{B}_k$ 中重复选择满足 $P$ 的不同元素来打破博弈，从而产生比 $\\mathcal{A}_k$ 中存在的此类元素多一个。”这是对该策略的精确而准确的描述。\n\n**结论：** 正确。\n\n### 选项 B\n\n**结构：** 语言为 $\\mathcal{L}=\\{\\}$。结构为 $\\mathcal{A}=(\\mathbb{Z},)$ 和 $\\mathcal{B}=(\\mathbb{N},)$。\n\n**断言：** 它们对所有 $k$ 都在量词秩 $k$ 上一致，但在秩 $k+1$ 上不一致。\n\n**分析：** “对所有 $k$ 都在量词秩 $k$ 上一致” 的断言等价于说这两个结构是初等等价的，即 $\\mathcal{A} \\equiv \\mathcal{B}$。如果这是真的，它们就不可能在秩 $k+1$ 上不一致。这个断言是自相矛盾的。此外，该断言是错误的。结构 $(\\mathbb{N},)$ 有一个最小元，而 $(\\mathbb{Z},)$ 没有。最小元的存在性可以用一阶句子 $\\phi = \\exists x \\forall y(x  y \\lor x=y)$ 来表达。这个句子的量词秩为 2。我们有 $\\mathcal{B} \\models \\phi$ 和 $\\mathcal{A} \\models \\neg\\phi$。因此，$\\mathcal{A} \\not\\equiv_2 \\mathcal{B}$。当 $k \\ge 2$ 时，这两个结构不一致。该选项的初始前提在事实上是错误的。\n\n**结论：** 错误。\n\n### 选项 C\n\n**结构：** 语言 $\\mathcal{L}=\\{E\\}$ 用于无向简单图。$\\mathcal{G}_k$ 是 $k$ 个 $4$-圈图（$C_4$）的不交并。$\\mathcal{H}_k$ 是 $k+1$ 个 $C_4$ 的不交并。\n\n**断言：** 它们在量词秩 $k$ 上一致，但在秩 $k+1$ 上不一致。失败的原因是剧透者在 $\\mathcal{H}_k$ 中强制选出一个包含 $k+1$ 个成对不相邻的已选顶点的集合，这在 $\\mathcal{G}_k$ 中无法匹配。\n\n**分析：** 所描述的策略是剧透者在 $\\mathcal{H}_k$ 中选择 $k+1$ 个顶点，每个顶点来自其 $k+1$ 个连通分支之一。由于这些顶点位于不同的连通分支中，它们成对不相邻，形成一个大小为 $k+1$ 的独立集。选项声称这在 $\\mathcal{G}_k$ 中无法匹配。复制者必须通过在 $\\mathcal{G}_k$ 中选择 $k+1$ 个也形成独立集的顶点来回应。我们需要找到 $\\mathcal{G}_k$ 中最大独立集的大小，记为 $\\alpha(\\mathcal{G}_k)$。一个单独的 $C_4$ 的最大独立集大小为 2。由于 $\\mathcal{G}_k$ 是 $k$ 个 $C_4$ 的不交并，其最大独立集大小为 $\\alpha(\\mathcal{G}_k) = k \\times \\alpha(C_4) = 2k$。只要 $k+1 \\le 2k$，复制者就能在 $\\mathcal{G}_k$ 中找到一个大小为 $k+1$ 的独立集。这个不等式对所有 $k \\ge 1$ 都成立。因此，复制者总能匹配剧透者的移动，所描述的策略是失败的。基于计算特定大小的连通分支数量来区分结构所需的回合数，通常远大于连通分支的数量，因为它还取决于定义这样一个连通分支的复杂性。\n\n**结论：** 错误。\n\n### 选项 D\n\n**结构：** 语言 $\\mathcal{L}=\\{E,R\\}$，其中 $E$ 是边关系，$R$ 是根谓词。$\\mathcal{T}_k$ 是一个高度为 $k$ 的满二叉树。$\\mathcal{T}'_k$ 是一个高度为 $k$ 的满二叉树，其中在高度 $k-1$ 处有一个节点只有一个子节点而不是两个。\n\n**断言：** 它们在量词秩 $k-1$ 上一致，但在秩 $k$ 上不一致。\n\n**分析：** 在有限模型论中，这是一个已知结果：这些特定的结构不是 $k$-等价的，即 $\\mathcal{T}_k \\not\\equiv_k \\mathcal{T}'_k$。它们在秩 $k-1$ 上一致的断言也是正确的。然而，为获胜策略提供的推理也必须是正确的。选项陈述：“剧透者可以在 $k$ 轮内下降到那个高度，并在最后一步揭示出缺失的兄弟节点。”\n\n让我们在 $k$ 轮博弈中分析这个策略。“在 $k$ 轮内下降”暗示了沿着一条路径的一系列移动。让我们假设剧透者用他的 $k$ 次移动来选择从根到 $\\mathcal{T}'_k$ 中位于高度 $k-1$ 的缺陷节点 $n'_d$ 的路径上的节点。\n设到缺陷节点 $n'_d$ 的路径为 $(a'_0, a'_1, \\dots, a'_{k-1}=n'_d)$，其中 $a'_0$ 是根节点。\n如果剧透者用他的 $k$ 次移动来选择 $a'_0, \\dots, a'_{k-1}$，复制者可以在 $\\mathcal{T}_k$ 中用一条路径 $a_0, \\dots, a_{k-1}$ 来匹配。$k$ 轮结束时，已选的元素对集合为 $\\{(a_0,a'_0), \\dots, (a_{k-1},a'_{k-1})\\}$。这个集合构成了一个偏同构。没有揭示出矛盾。剧透者没有获胜。博弈结束。\n\n剧透者的一个正确策略需要揭示出子节点数量上的差异。要陈述一个节点 $x$ 的子节点少于两个需要使用量词。例如，要测试距离根 $k-1$ 的节点 $a'_{k-1}$只有一个子节点，需要确定其存在性和位置，然后查询其子节点。对此的一个句子大致是：$\\exists x_1 \\dots \\exists x_{k-1} (\\text{Path}(x_0, \\dots, x_{k-1}) \\wedge \\text{has\\_one\\_child}(x_{k-1}))$。`Path` 部分需要 $k-1$ 个量词，而 `has_one_child` 至少还需要两个（例如 $\\exists y \\forall z \\dots$）。这给出的秩至少为 $k+1$。\n更精细的分析表明，一旦缺陷节点及其对应节点被选中，剧透者的获胜策略需要 3 轮：一轮选择第一个子节点，第二轮选择第二个子节点（在一个树中存在但在另一个树中不存在），而第一步则是选择父节点本身。这个策略通过首先选择缺陷节点及其对应节点，然后是它们的子节点，在 3 轮内证明 $\\mathcal{T}_k \\not\\equiv_3 \\mathcal{T}'_k$（对于 $k \\ge 2$）。这与 $\\mathcal{T}_k \\equiv_{k-1} \\mathcal{T}'_k$ 的断言在 $k  3$ 时相矛盾。因此，该选项关于秩的前提是错误的。对“在 $k$ 轮内下降”的最直接解释描述了一个失败的策略。\n\n**结论：** 错误。\n\n### 结论\n\n只有选项 A 提供了一对具有指定等价属性的正确结构，以及对剧透者获胜策略的正确描述。", "answer": "$$\\boxed{A}$$", "id": "2969046"}]}