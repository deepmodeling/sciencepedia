{"hands_on_practices": [{"introduction": "掌握模态逻辑的第一步是精通其核心工具——Kripke语义。本练习旨在通过一个具体、明确的 Kripke 模型，让你亲手实践模态算子 $\\Box$ （必然性）和 $\\Diamond$ （可能性）的真值定义。通过逐个世界地计算复杂模态公式的真值，你将为你后续理解更抽象的概念和进行更复杂的证明打下坚实的基础。[@problem_id:2975798]", "problem": "考虑基本正规模态逻辑（常称为系统K）的 Kripke 模型 $\\mathcal{M} = (W,R,V)$，其中 $W = \\{w,a,b\\}$, $R = \\{(w,a),(w,b),(a,a),(b,b)\\}$，且赋值满足 $V(p) = \\{a\\}$。使用模态算子的标准 Kripke 真值条款：对任意世界 $x \\in W$，$\\mathcal{M},x \\vDash \\Box \\varphi$ 当且仅当对所有世界 $y \\in W$，若 $xRy$ 则 $\\mathcal{M},y \\vDash \\varphi$；并且 $\\mathcal{M},x \\vDash \\Diamond \\varphi$ 当且仅当存在世界 $y \\in W$ 使得 $xRy$ 且 $\\mathcal{M},y \\vDash \\varphi$。请根据基本定义，确定公式 $\\Box p$、$\\Diamond p$ 和 $\\Box\\Diamond p$ 为真的世界集合。\n\n对于答案，请将每个这样的集合 $S \\subseteq \\{w,a,b\\}$ 编码为一个整数 $\\mathrm{code}(S)$，该整数由固定顺序 $(w,a,b)$ 的二进制特征位定义：\n$$\\mathrm{code}(S) \\;=\\; b_{w}\\cdot 4 \\;+\\; b_{a}\\cdot 2 \\;+\\; b_{b}\\cdot 1,$$\n其中如果 $x \\in S$，则 $b_{x} = 1$，否则 $b_{x} = 0$。请将您的最终结果以单行矩阵 $\\bigl(\\mathrm{code}(\\{\\text{使 } \\Box p \\text{ 成立的世界}\\}), \\mathrm{code}(\\{\\text{使 } \\Diamond p \\text{ 成立的世界}\\}), \\mathrm{code}(\\{\\text{使 } \\Box\\Diamond p \\text{ 成立的世界}\\})\\bigr)$ 的形式按此顺序报告。无需四舍五入。", "solution": "该问题是良定的和自洽的，为在模态逻辑的 Kripke 语义框架内进行严格分析提供了所有必要的定义和数据。其科学基础是数理逻辑的既定原则。因此，可以推导出解。\n\n问题指定了一个 Kripke 模型 $\\mathcal{M} = (W,R,V)$，其中：\n- 世界集合为 $W = \\{w, a, b\\}$。\n- 可达关系为 $R = \\{(w,a), (w,b), (a,a), (b,b)\\}$。这意味着从世界 $w$ 可以到达世界 $a$ 和 $b$；从世界 $a$ 只能到达世界 $a$；从世界 $b$ 只能到达世界 $b$。\n- 原子命题 $p$ 的赋值函数 $V$ 由 $V(p) = \\{a\\}$ 给出。这意味着命题 $p$ 仅在世界 $a$ 为真。我们将其表示为 $\\mathcal{M},x \\vDash p$ 当且仅当 $x \\in V(p)$。\n- 因此，$\\mathcal{M}, a \\vDash p$，而 $\\mathcal{M}, w \\nvDash p$ 且 $\\mathcal{M}, b \\nvDash p$。\n\n我们必须确定公式 $\\Box p$、$\\Diamond p$ 和 $\\Box\\Diamond p$ 为真的世界集合。我们通过应用模态算子的标准 Kripke 真值条款来求解。\n\n**1. $\\Box p$ 的求值**\n公式 $\\Box p$ 在世界 $x \\in W$ 为真，当且仅当对于所有满足 $(x,y) \\in R$ 的世界 $y \\in W$，公式 $p$ 在 $y$ 处为真（即 $\\mathcal{M}, y \\vDash p$）。我们对W中的每个世界评估此条件：\n\n- 对于世界 $w$：从 $w$ 可达的世界是 $\\{a, b\\}$。要使 $\\mathcal{M}, w \\vDash \\Box p$ 成立，需要 $\\mathcal{M}, a \\vDash p$ 和 $\\mathcal{M}, b \\vDash p$ 同时为真。我们知道 $\\mathcal{M}, a \\vDash p$ 为真，但 $\\mathcal{M}, b \\vDash p$ 为假。因为该条件并非对所有可达世界都成立，我们得出结论 $\\mathcal{M}, w \\nvDash \\Box p$。\n\n- 对于世界 $a$：从 $a$ 唯一可达的世界是 $a$ 本身。要使 $\\mathcal{M}, a \\vDash \\Box p$ 成立，需要 $\\mathcal{M}, a \\vDash p$。根据给定的赋值，这是真的。因此，$\\mathcal{M}, a \\vDash \\Box p$。\n\n- 对于世界 $b$：从 $b$ 唯一可达的世界是 $b$ 本身。要使 $\\mathcal{M}, b \\vDash \\Box p$ 成立，需要 $\\mathcal{M}, b \\vDash p$。这是假的。因此，$\\mathcal{M}, b \\nvDash \\Box p$。\n\n$\\Box p$ 为真的世界集合是 $\\{a\\}$。\n\n**2. $\\Diamond p$ 的求值**\n公式 $\\Diamond p$ 在世界 $x \\in W$ 为真，当且仅当存在一个世界 $y \\in W$ 使得 $(x,y) \\in R$ 且 $\\mathcal{M}, y \\vDash p$。\n\n- 对于世界 $w$：可达的世界是 $\\{a, b\\}$。我们需要检查是否存在一个世界 $y \\in \\{a, b\\}$ 使得 $\\mathcal{M}, y \\vDash p$。由于 $\\mathcal{M}, a \\vDash p$，这样一个世界是存在的（即 $a$）。因此，$\\mathcal{M}, w \\vDash \\Diamond p$。\n\n- 对于世界 $a$：唯一可达的世界是 $a$。我们需要检查 $\\mathcal{M}, a \\vDash p$ 是否为真。这是真的。因此，$\\mathcal{M}, a \\vDash \\Diamond p$。\n\n- 对于世界 $b$：唯一可达的世界是 $b$。我们需要检查 $\\mathcal{M}, b \\vDash p$ 是否为真。这是假的。因此，没有可达的世界使 $p$ 为真，所以 $\\mathcal{M}, b \\nvDash \\Diamond p$。\n\n$\\Diamond p$ 为真的世界集合是 $\\{w, a\\}$。\n\n**3. $\\Box\\Diamond p$ 的求值**\n要求值 $\\Box\\Diamond p$，我们首先需要内部公式 $\\Diamond p$ 的真值集合，我们刚刚已确定其为 $\\{w, a\\}$。令 $\\psi = \\Diamond p$。我们现在要求值 $\\Box\\psi$。公式 $\\Box\\psi$ 在世界 $x$ 处为真，如果对于从 $x$ 可达的所有世界 $y$，$\\psi$ 在 $y$ 处为真。\n\n- 对于世界 $w$：可达的世界是 $\\{a, b\\}$。要使 $\\mathcal{M}, w \\vDash \\Box\\Diamond p$ 成立，需要 $\\mathcal{M}, a \\vDash \\Diamond p$ 和 $\\mathcal{M}, b \\vDash \\Diamond p$ 同时为真。根据我们上一步的结果，我们知道 $\\mathcal{M}, a \\vDash \\Diamond p$ 为真，但 $\\mathcal{M}, b \\vDash \\Diamond p$ 为假。因为该条件并非对所有可达世界都成立，我们得出结论 $\\mathcal{M}, w \\nvDash \\Box\\Diamond p$。\n\n- 对于世界 $a$：唯一可达的世界是 $a$。要使 $\\mathcal{M}, a \\vDash \\Box\\Diamond p$ 成立，需要 $\\mathcal{M}, a \\vDash \\Diamond p$。我们已经确定这是真的。因此，$\\mathcal{M}, a \\vDash \\Box\\Diamond p$。\n\n- 对于世界 $b$：唯一可达的世界是 $b$。要使 $\\mathcal{M}, b \\vDash \\Box\\Diamond p$ 成立，需要 $\\mathcal{M}, b \\vDash \\Diamond p$。我们已经确定这是假的。因此，$\\mathcal{M}, b \\nvDash \\Box\\Diamond p$。\n\n$\\Box\\Diamond p$ 为真的世界集合是 $\\{a\\}$。\n\n**4. 编码结果**\n问题要求使用以下公式将每个真值集合 $S \\subseteq \\{w, a, b\\}$ 编码为一个整数：\n$\\mathrm{code}(S) = b_{w} \\cdot 4 + b_{a} \\cdot 2 + b_{b} \\cdot 1$，其中若 $x \\in S$ 则 $b_x=1$，否则 $b_x=0$。\n\n- 对于 $\\Box p$，真值集合是 $S_1 = \\{a\\}$。其特征位为 $(b_w, b_a, b_b) = (0, 1, 0)$。\n$\\mathrm{code}(S_1) = 0 \\cdot 4 + 1 \\cdot 2 + 0 \\cdot 1 = 2$。\n\n- 对于 $\\Diamond p$，真值集合是 $S_2 = \\{w, a\\}$。其特征位为 $(b_w, b_a, b_b) = (1, 1, 0)$。\n$\\mathrm{code}(S_2) = 1 \\cdot 4 + 1 \\cdot 2 + 0 \\cdot 1 = 4 + 2 = 6$。\n\n- 对于 $\\Box\\Diamond p$，真值集合是 $S_3 = \\{a\\}$。其特征位为 $(b_w, b_a, b_b) = (0, 1, 0)$。\n$\\mathrm{code}(S_3) = 0 \\cdot 4 + 1 \\cdot 2 + 0 \\cdot 1 = 2$。\n\n最终结果是这些整数编码组成的有序三元组。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n2 & 6 & 2\n\\end{pmatrix}\n}\n$$", "id": "2975798"}, {"introduction": "在掌握了单个模型的求值后，下一步是探索框架 (frame) 的结构属性如何决定整个模态逻辑的特性。本练习要求你考虑只有两个世界的最简单的自返框架，并确定它们可以生成多少个不同的模态逻辑。这不仅需要你构建和分类框架，还需要你找到“测试公式”来区分这些逻辑，从而深化你对框架、有效性和逻辑系统三者之间关系的理解。[@problem_id:483886]", "problem": "计算由一个恰好包含两个世界的自反框架所决定的、扩展最小正规模态逻辑 K 的不同正规模态逻辑的数量。一个框架 $\\mathcal{F} = (W, R)$ 由一个世界集合 $W$ 和一个在 $W$ 上的二元可达关系 $R$ 组成。如果对于每一个 $w \\in W$，都有 $w R w$，则该框架是自反的。由一个框架决定的模态逻辑是在该框架中有效的所有模态公式的集合。同构的框架决定了相同的模态逻辑。\n\n请将不同逻辑的数量作为答案。", "solution": "考虑一个恰好包含两个世界 $W = \\{ w_1, w_2 \\}$ 的自反框架。自反性条件要求 $(w_1, w_1) \\in R$ 和 $(w_2, w_2) \\in R$。剩下可能的边是 $(w_1, w_2)$ 和 $(w_2, w_1)$。这产生了四种可能的自反框架：\n\n1. $F_1$: $R_1 = \\{ (w_1, w_1), (w_2, w_2) \\}$ (无交叉边)。  \n2. $F_2$: $R_2 = \\{ (w_1, w_1), (w_1, w_2), (w_2, w_2) \\}$ (有从 $w_1$ 到 $w_2$ 的边)。  \n3. $F_3$: $R_3 = \\{ (w_1, w_1), (w_2, w_1), (w_2, w_2) \\}$ (有从 $w_2$ 到 $w_1$ 的边)。  \n4. $F_4$: $R_4 = \\{ (w_1, w_1), (w_1, w_2), (w_2, w_1), (w_2, w_2) \\}$ (两条交叉边都有)。  \n\n框架 $F_2$ 和 $F_3$ 通过交换 $w_1$ 和 $w_2$ 的双射是同构的，所以它们决定了相同的模态逻辑。因此，我们有三个候选逻辑：  \n- $L_1$：$F_1$ 的逻辑。  \n- $L_2$：$F_2$ (或 $F_3$) 的逻辑。  \n- $L_3$：$F_4$ 的逻辑。  \n\n我们通过展示在某个逻辑中有效、而在另一个逻辑中无效的公式，来证明这些逻辑是两两不同的。  \n\n**$L_1 \\neq L_2$**:  \n考虑 $\\varphi_1 = p \\to \\Box p$。  \n- 在 $F_1$ 中：世界是孤立的。在任意世界中，$\\Box p$ 成立当且仅当 $p$ 在该世界成立。因此，$p \\to \\Box p$ 是有效的。  \n- 在 $F_2$ 中：使用赋值 $V(p) = \\{w_1\\}$。在 $w_1$ 处，$p$ 为真但 $\\Box p$ 为假（因为 $w_2$ 是可达的且 $p$ 在 $w_2$ 处为假）。所以 $\\varphi_1$ 在 $w_1$ 处不成立。  \n\n**$L_2 \\neq L_3$**:  \n考虑 $\\varphi_2 = p \\to \\Box \\Diamond p$ (公理 B)。  \n- 在 $F_4$ (对称框架) 中：$\\varphi_2$ 是有效的 (S5 的定理)。  \n- 在 $F_2$ 中：使用 $V(p) = \\{w_1\\}$。在 $w_1$ 处，$p$ 为真。但 $\\Box \\Diamond p$ 要求 $\\Diamond p$ 在所有可达世界（$w_1$ 和 $w_2$）都成立。在 $w_1$ 处，$\\Diamond p$ 为真；在 $w_2$ 处，$\\Diamond p$ 为假（只有 $w_2$ 可达，且 $p$ 为假）。所以 $\\Box \\Diamond p$ 在 $w_1$ 处为假，因此 $\\varphi_2$ 不成立。  \n\n**$L_1 \\neq L_3$**:  \n再次使用 $\\varphi_1 = p \\to \\Box p$。  \n- 在 $F_1$ 中：如上所述，是有效的。  \n- 在 $F_4$ 中：对于赋值 $V(p) = \\{w_1\\}$，在 $w_1$ 处，$p$ 为真但 $\\Box p$ 为假（$w_2$ 可达，且 $p$ 为假）。所以 $\\varphi_1$ 不成立。  \n\n由于 $L_1$、$L_2$、$L_3$ 是两两不同的，因此由一个含有两个世界的自反框架所决定的、扩展 K 的不同正规模态逻辑恰好有三个。", "answer": "\\boxed{3}", "id": "483886"}, {"introduction": "构建反例是逻辑学中一项至关重要的技能，它能帮助我们精确地理解一个公理系统的边界和特定公式的非必然性。本练习将挑战你在S4系统（即所有自返且传递的框架）中，为一个特定公式构建一个“反模型”(countermodel)。你需要运用Kripke语义的知识，去寻找满足S4框架条件但又能证伪该公式的最小可能世界集合，这是一个既需要严谨推理也需要创造性思维的典型问题。[@problem_id:2977066]", "problem": "设 $F=(W,R)$ 是一个克里普克框架 (Kripke frame)，其中 $W$ 是一个非空的世界 (world) 集合，$R \\subseteq W \\times W$ 是一个可达关系 (accessibility relation)。克里普克模型 (Kripke model) 是一个对 $(F,V)$，其中 $V$ 是一个赋值 (valuation)，它将每个命题变元映射到 $W$ 的一个子集。满足关系 (satisfaction relation) $(F,V),w \\models \\varphi$ 由命题联结词的常规子句归纳定义，对于模态算子，由以下子句定义：$(F,V),w \\models \\Box \\varphi$ 当且仅当对于所有满足 $wRu$ 的 $u \\in W$，有 $(F,V),u \\models \\varphi$；并且 $(F,V),w \\models \\Diamond \\varphi$ 当且仅当存在一个满足 $wRu$ 的 $u \\in W$，使得 $(F,V),u \\models \\varphi$。\n\n模态系统 $\\mathrm{S4}$ 是在所有自反和传递的框架上有效的公式类。考虑公式 $\\varphi := \\Diamond \\Box p \\rightarrow \\Box p$。请仅使用前述的语义定义以及刻画 $\\mathrm{S4}$ 的框架条件（$R$ 的自反性和传递性），确定一个克里普克框架 $F=(W,R)$ 的最小基数 $|W|$，使得存在一个赋值 $V$ 和一个世界 $w \\in W$，满足 $(F,V),w \\not\\models \\varphi$，同时 $R$ 是自反和传递的。您的答案必须是 $|W|$ 的确切最小值。", "solution": "该问题定义明确，并基于模态逻辑的标准克里普克语义。所有术语和条件在形式上都是精确的。该问题是有效的。\n\n我们要寻找一个自反且传递的克里普克框架（一个 $\\mathrm{S4}$ 框架）$F=(W,R)$ 中世界集合的最小基数 $|W|$，使得存在一个赋值 $V$ 和一个世界 $w \\in W$，满足 $(F,V), w \\not\\models \\Diamond \\Box p \\rightarrow \\Box p$。\n\n条件 $(F,V), w \\not\\models \\Diamond \\Box p \\rightarrow \\Box p$ 在语义上等价于以下两个条件的合取：\n1. $(F,V), w \\models \\Diamond \\Box p$\n2. $(F,V), w \\not\\models \\Box p$\n\n让我们来分析这些条件。\n根据条件 (2)，$(F,V), w \\not\\models \\Box p$，由 $\\Box$ 的满足关系定义可知，必然存在一个世界，我们称之为 $z \\in W$，使得 $wRz$ 且 $(F,V), z \\not\\models p$。这意味着 $z \\notin V(p)$。\n\n根据条件 (1)，$(F,V), w \\models \\Diamond \\Box p$，由 $\\Diamond$ 的定义可知，必然存在一个世界，我们称之为 $u \\in W$，使得 $wRu$ 且 $(F,V), u \\models \\Box p$。\n\n条件 $(F,V), u \\models \\Box p$ 意味着对于所有满足 $uRv$ 的世界 $v \\in W$，都有 $(F,V), v \\models p$ 成立，即 $v \\in V(p)$。\n由于该框架是用于系统 $\\mathrm{S4}$ 的，关系 $R$ 是自反的。因此，$uRu$ 必须成立。从 $(F,V), u \\models \\Box p$ 这一事实可以推断出，$u$ 本身必须满足 $p$。因此，$(F,V), u \\models p$，这意味着 $u \\in V(p)$。\n\n通过我们的分析，我们推导出了两个世界 $u$ 和 $z$ 的存在，它们都可从 $w$ 到达。对于这些世界，我们有 $u \\in V(p)$ 和 $z \\notin V(p)$。这意味着 $u$ 和 $z$ 必须是不同的世界，即 $u \\ne z$。\n\n现在我们来确定 $W$ 的最小基数。\n\n情况 $|W| = 1$：\n设 $W = \\{w\\}$。由于 $R$ 是自反的，唯一的关系是 $wRw$。\n为证伪该公式，我们需要同时满足 $(F,V),w \\models \\Diamond \\Box p$ 和 $(F,V),w \\not\\models \\Box p$。\n条件 $(F,V),w \\models \\Diamond \\Box p$ 意味着存在一个 $w$ 的后继（只能是 $w$ 本身），使得 $(F,V),w \\models \\Box p$。\n这导致了我们必须同时拥有 $(F,V),w \\models \\Box p$ 和 $(F,V),w \\not\\models \\Box p$ 的矛盾。因此，不存在 $|W|=1$ 的反例模型。最小基数必须大于 1。\n\n情况 $|W|=2$：\n设 $W = \\{w_1, w_2\\}$。我们尝试构造一个反例模型。设公式被证伪的世界是 $w_1$。\n根据一般性分析，我们需要存在两个可从 $w_1$ 到达的世界 $u$ 和 $z$，满足：\n(a) $u \\ne z$\n(b) $u \\models p$\n(c) $z \\not\\models p$\n(d) $u \\models \\Box p$\n\n根据我们的推理，我们也知道公式被证伪的世界 $w$ 不能与 $\\Box p$ 成立的世界 $u$ 相同。如果 $w_1 = u$，那么 $w_1 \\models \\Box p$，这将与 $w_1 \\not\\models \\Box p$ 的要求相矛盾。因此，$w_1 \\ne u$。\n由于我们处于一个双世界框架中，且证伪世界是 $w_1$，那么世界 $u$ 必须是 $w_2$。所以，$u = w_2$。\n这要求 $w_1 R w_2$。\n\n世界 $z$ 必须满足 $w_1 R z$ 并且 $z \\not\\models p$。由于 $z \\ne u$ 且 $u=w_2$，我们必须有 $z \\ne w_2$。在我们的集合 $W$ 中，唯一剩下的可能性是 $z = w_1$。\n这要求 $w_1 R w_1$ 和 $w_1 \\not\\models p$。关系 $w_1 R w_1$ 由自反性保证。\n\n所以，一个双世界反例模型的要求是：\n- 世界：$W = \\{w_1, w_2\\}$。\n- 在 $w_1$ 处证伪。\n- 赋值：$w_1 \\not\\models p$ 且 $w_2 \\models p$。这可以通过设置 $V(p) = \\{w_2\\}$ 来实现。\n- 关系：$R$ 必须是自反和传递的，并且包含 $w_1 R w_2$。满足条件的最小关系是 $R = \\{(w_1, w_1), (w_2, w_2), (w_1, w_2)\\}$。这个关系确实是自反的。对于传递性，我们检查是否对任意 $(a,b) \\in R$ 和 $(b,c) \\in R$，都有 $(a,c) \\in R$。唯一的非平凡情况是 $(w_1, w_2) \\in R$ 和 $(w_2, w_2) \\in R$，这必须能推出 $(w_1, w_2) \\in R$。这是成立的。所以，这个框架是一个 $\\mathrm{S4}$ 框架。\n\n让我们来验证这个构造。\n- 框架：$F=(W,R)$，其中 $W = \\{w_1, w_2\\}$，$R = \\{(w_1, w_1), (w_2, w_2), (w_1, w_2)\\}$。\n- 模型：设赋值为 $V(p) = \\{w_2\\}$。\n- 我们在世界 $w_1$ 检查公式 $\\varphi := \\Diamond \\Box p \\to \\Box p$ 的满足情况。\n\n1. 检查 $(F,V), w_1 \\not\\models \\Box p$：\n我们必须找到一个 $w_1$ 的后继，使得 $p$ 在该后继处为假。$w_1$ 的后继是 $w_1$ 和 $w_2$。\n在 $w_1$ 处，我们有 $w_1 \\notin V(p)$，所以 $(F,V), w_1 \\not\\models p$。由于 $w_1 R w_1$，我们找到了一个 $p$ 为假的后继。因此，$(F,V), w_1 \\not\\models \\Box p$。此条件得到满足。\n\n2. 检查 $(F,V), w_1 \\models \\Diamond \\Box p$：\n我们必须找到一个 $w_1$ 的后继，使得 $\\Box p$ 在该后继处为真。后继是 $w_1$ 和 $w_2$。\n我们已经知道 $(F,V), w_1 \\not\\models \\Box p$。\n我们来检查世界 $w_2$。如果对于 $w_2$ 的所有后继 $v$，都有 $(F,V), v \\models p$，那么 $(F,V), w_2 \\models \\Box p$。$w_2$ 唯一的后继是它自身。我们必须检查是否 $(F,V), w_2 \\models p$。由于 $w_2 \\in V(p)$，这是真的。因此，$(F,V), w_2 \\models \\Box p$。\n由于 $w_1 R w_2$ 且 $(F,V), w_2 \\models \\Box p$，条件 $(F,V), w_1 \\models \\Diamond \\Box p$ 得到满足。\n\n证伪该蕴含式的两个条件都已满足。我们成功地在一个 $|W|=2$ 的 $\\mathrm{S4}$ 框架中构造了一个反例模型。\n因为我们已经证明了 $|W|=1$ 是不可能的，所以最小基数是 $2$。", "answer": "$$\n\\boxed{2}\n$$", "id": "2977066"}]}