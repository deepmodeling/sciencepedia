{"hands_on_practices": [{"introduction": "一阶逻辑的一个基本限制是它无法用单个句子表达“模型是有限的”这一性质，这主要是由紧致性定理决定的。然而，通过允许可数析取，$L_{\\omega_1, \\omega}$ 逻辑超越了这一限制。本练习将引导你构造一个 $L_{\\omega_1, \\omega}$ 句子来精确定义有限性，这是理解无穷逻辑表现力的第一个关键步骤[@problem_id:2974369]。", "problem": "设 $\\mathcal{L}$ 为任意一阶署名，并在带等词的一阶逻辑中进行讨论。采纳结构具有非空论域的标准约定。定义无穷逻辑 $L_{\\omega_1, \\omega}$ 为一阶逻辑的扩展，它允许可数（可能为无穷）的析取和合取，但只允许有限的量词串和有限的变量使用。$L_{\\omega_1, \\omega}$ 的满足关系扩展了一阶逻辑的满足关系，规定对于一族公式 $\\{\\varphi_{i}\\}_{i\\in I}$，一个结构 $\\mathcal{M}$ 满足 $\\bigvee_{i\\in I}\\varphi_{i}$ 当且仅当存在 $i\\in I$ 使得 $\\mathcal{M}\\models \\varphi_{i}$，且 $\\mathcal{M}$ 满足 $\\bigwedge_{i\\in I}\\varphi_{i}$ 当且仅当对于所有 $i\\in I$，$\\mathcal{M}\\models \\varphi_{i}$。\n\n从这些基础定义出发，完成以下任务：\n- 对每个自然数 $n\\in\\omega$，在带等词的一阶逻辑中形式化一个语句 $\\mathrm{Exact}(n)$，该语句断言“论域恰好有 $n$ 个元素”。\n- 利用 $L_{\\omega_1, \\omega}$ 的语义，通过适当地组合所有 $n\\in\\omega$ 的语句 $\\mathrm{Exact}(n)$，构造一个单一的 $L_{\\omega_1, \\omega}$ 语句 $\\Phi_{\\mathrm{fin}}$，该语句定义了“论域是有限的”这一性质。\n- 从基本原理出发，证明对于任何 $\\mathcal{L}$-结构 $\\mathcal{M}$，$\\mathcal{M}\\models \\Phi_{\\mathrm{fin}}$ 当且仅当 $\\mathcal{M}$ 的论域是有限的。\n\n请以闭合形式给出最终答案，即使用标准逻辑联结词和量词表示的显式 $L_{\\omega_1, \\omega}$ 语句 $\\Phi_{\\mathrm{fin}}$。最终答案必须是单一的解析表达式。不需要进行数值取整。", "solution": "用户提供了一个数理逻辑领域的问题。我将首先验证问题陈述，如果问题有效，则继续提供解答。\n\n### 第1步：提取已知条件\n- **逻辑系统**：带等词的一阶逻辑，扩展为无穷逻辑 $L_{\\omega_1, \\omega}$。\n- **署名**：任意一阶署名 $\\mathcal{L}$。\n- **论域约定**：假定结构的论域为非空。\n- **$L_{\\omega_1, \\omega}$ 的定义**：一阶逻辑的扩展，允许可数（有限或无限）的析取和合取，但在任何给定公式中只允许有限的量词串和有限的变量使用。\n- **无穷联结词的语义**：对于一个可数公式族 $\\{\\varphi_{i}\\}_{i\\in I}$：\n    - $\\mathcal{M}\\models \\bigvee_{i\\in I}\\varphi_{i}$ 当且仅当存在 $i\\in I$ 使得 $\\mathcal{M}\\models \\varphi_{i}$。\n    - $\\mathcal{M}\\models \\bigwedge_{i\\in I}\\varphi_{i}$ 当且仅当对于所有 $i\\in I$，$\\mathcal{M}\\models \\varphi_{i}$。\n- **任务**：\n    1. 对每个自然数 $n\\in\\omega$，形式化一个一阶语句 $\\mathrm{Exact}(n)$，该语句断言“论域恰好有 $n$ 个元素”。\n    2. 利用 $L_{\\omega_1, \\omega}$ 的语义，构造一个单一的 $L_{\\omega_1, \\omega}$ 语句 $\\Phi_{\\mathrm{fin}}$，该语句定义了“论域是有限的”这一性质。\n    3. 从基本原理出发，证明对于任何 $\\mathcal{L}$-结构 $\\mathcal{M}$，$\\mathcal{M}\\models \\Phi_{\\mathrm{fin}}$ 当且仅当 $\\mathcal{M}$ 的论域是有限的。\n- **最终答案格式**：闭合形式的显式 $L_{\\omega_1, \\omega}$ 语句 $\\Phi_{\\mathrm{fin}}$。\n\n### 第2步：使用提取的已知条件进行验证\n根据验证标准对问题进行评估。\n- **科学性**：该问题是模型论中的一个标准练习，具体涉及无穷逻辑的表达能力。$L_{\\omega_1, \\omega}$ 的定义及其语义是正确且基础的。定义有限性这一任务是一个经典例子，用于区分 $L_{\\omega_1, \\omega}$ 与一阶逻辑，在后者中，由于紧致性定理，无法用单个语句给出这样的定义。该问题牢固地植根于已建立的数理逻辑之中。\n- **良定性**：问题陈述清晰。每个任务定义明确，并导向一个唯一（在逻辑等价意义下）且有意义的解。构建解答所需的步骤在逻辑上是合理的，并相互依赖。\n- **客观性**：语言是形式化、精确的，没有任何主观性或模糊性。\n- **其他缺陷**：问题陈述是完整的、自洽的，并且内部一致。它没有违反任何其他验证标准。\n\n### 第3步：结论与行动\n此问题是**有效的**。将提供一个完整、有理有据的解答。\n\n解答分为问题陈述中描述的三个任务。我们采用标准的集合论约定，其中自然数集为 $\\omega = \\{0, 1, 2, \\dots\\}$。\n\n**1. 语句 $\\mathrm{Exact}(n)$ 的形式化**\n\n对于每个自然数 $n \\in \\omega$，我们需要构造一个一阶语句 $\\mathrm{Exact}(n)$，它在一个结构中为真当且仅当其论域恰好有 $n$ 个元素。\n\n一个论域恰好有 $n$ 个元素，如果存在至少 $n$ 个不同元素，并且至多有 $n$ 个元素。\n\n对于 $n \\ge 1$， “存在至少 $n$ 个不同元素”的断言可以写为：\n$$ \\mathrm{AtLeast}(n) := \\exists x_1 \\exists x_2 \\dots \\exists x_n \\left( \\bigwedge_{1 \\le i < j \\le n} x_i \\neq x_j \\right) $$\n“至多有 $n$ 个元素”的断言可以表述为“任何 $n+1$ 个元素的集合必定包含至少两个相同的元素”，但与 $\\mathrm{AtLeast}(n)$ 结合使用时，一个更直接的方法是陈述“论域中的任何元素都必须是前面提到的 $n$ 个不同元素之一”。这可以写为：\n$$ \\forall y \\left( \\bigvee_{i=1}^n y = x_i \\right) $$\n将这两个部分置于初始存在量词的作用域下，得到 $n \\ge 1$ 时的语句 $\\mathrm{Exact}(n)$：\n$$ \\mathrm{Exact}(n) := \\exists x_1 \\dots \\exists x_n \\left( \\left(\\bigwedge_{1 \\le i < j \\le n} x_i \\neq x_j\\right) \\land \\left(\\forall y \\bigvee_{i=1}^n y = x_i\\right) \\right) $$\n对于任何固定的整数 $n \\ge 1$，这个单一的公式构成一个有效的一阶语句。\n\n对于 $n=0$ 的情况，语句必须断言论域是空的。这可以表示为 $\\neg \\exists x (x=x)$。如果我们采纳空联结词和量词的标准约定，$\\mathrm{Exact}(n)$ 的通用公式可以理解为涵盖了这种情况。对于 $n=0$，存在量词块是空的。合取 $\\bigwedge_{1 \\le i < j \\le 0}$ 是对空索引集的合取，因此是空真（$\\top$）。析取 $\\bigvee_{i=1}^0$ 也是对空索引集的析取，因此是空假（$\\bot$）。所以，$\\mathrm{Exact}(0)$ 变为 $\\top \\land \\forall y (\\bot)$，这逻辑上等价于 $\\forall y (\\bot)$，或 $\\neg \\exists y (\\top)$，这正确地陈述了不存在任何元素。\n\n但是，问题规定所有结构都具有非空论域。因此，对于任何结构 $\\mathcal{M}$，语句 $\\mathrm{Exact}(0)$ 将总是为假，即 $\\mathcal{M} \\not\\models \\mathrm{Exact}(0)$。\n\n**2. $L_{\\omega_1, \\omega}$ 语句 $\\Phi_{\\mathrm{fin}}$ 的构造**\n\n性质“论域是有限的”等价于陈述“论域的基数是某个自然数 $n \\in \\omega$”。这可以表示为一个析取：\n“论域的大小为0”或“论域的大小为1”或“论域的大小为2”或...\n\n这对应于所有 $n \\in \\omega$ 的语句 $\\mathrm{Exact}(n)$ 的无穷析取。\n$$ \\mathrm{Exact}(0) \\lor \\mathrm{Exact}(1) \\lor \\mathrm{Exact}(2) \\lor \\dots $$\n逻辑 $L_{\\omega_1, \\omega}$ 明确允许可数析取。由于自然数集 $\\omega$ 是可数的，我们可以将这个无穷析取形式化为 $L_{\\omega_1, \\omega}$ 中的单个语句。\n我们将语句 $\\Phi_{\\mathrm{fin}}$ 定义为这个可数析取：\n$$ \\Phi_{\\mathrm{fin}} := \\bigvee_{n \\in \\omega} \\mathrm{Exact}(n) $$\n代入 $\\mathrm{Exact}(n)$ 的表达式，我们得到该语句的完整形式。\n\n**3. 构造的证明**\n\n我们必须证明，对于任何具有论域 $M$ 的 $\\mathcal{L}$-结构 $\\mathcal{M}$，我们有 $\\mathcal{M} \\models \\Phi_{\\mathrm{fin}}$ 当且仅当 $M$ 是有限的。\n\n($\\Rightarrow$) 首先，假设 $\\mathcal{M} \\models \\Phi_{\\mathrm{fin}}$。\n根据定义，这意味着 $\\mathcal{M} \\models \\bigvee_{n \\in \\omega} \\mathrm{Exact}(n)$。\n根据 $L_{\\omega_1, \\omega}$ 的语义，如果一个结构满足一个可数析取，它必须满足至少一个析取项。因此，必定存在某个自然数 $n_0 \\in \\omega$，使得 $\\mathcal{M} \\models \\mathrm{Exact}(n_0)$。\n语句 $\\mathrm{Exact}(n_0)$ 是一个一阶语句，根据其构造，它在 $\\mathcal{M}$ 中为真当且仅当论域 $M$ 恰好有 $n_0$ 个元素。\n因此，$M$ 的基数为 $|M| = n_0$。由于 $n_0$ 是一个自然数，所以它是有限的。因此，论域 $M$ 是一个有限集。\n\n($\\Leftarrow$) 现在，假设结构 $\\mathcal{M}$ 的论域 $M$ 是有限的。\n设 $M$ 的基数为 $k$，即 $|M| = k$。由于 $M$ 是有限的，$k$ 是一个自然数，所以 $k \\in \\omega$。\n此外，问题陈述所有论域都是非空的，所以我们必须有 $k \\ge 1$。\n考虑一阶语句 $\\mathrm{Exact}(k)$。该语句断言论域恰好有 $k$ 个元素。由于 $\\mathcal{M}$ 的论域是 $M$ 且 $|M|=k$，语句 $\\mathrm{Exact}(k)$ 在 $\\mathcal{M}$ 中为真。即，$\\mathcal{M} \\models \\mathrm{Exact}(k)$。\n现在，我们来考察 $L_{\\omega_1, \\omega}$ 语句 $\\Phi_{\\mathrm{fin}} = \\bigvee_{n \\in \\omega} \\mathrm{Exact}(n)$。\n这是对所有 $n \\in \\omega = \\{0, 1, 2, \\dots\\}$ 的语句 $\\mathrm{Exact}(n)$ 的析取。\n由于 $k \\in \\omega$，语句 $\\mathrm{Exact}(k)$ 是 $\\Phi_{\\mathrm{fin}}$ 中的一个析取项。\n我们已经确定 $\\mathcal{M} \\models \\mathrm{Exact}(k)$。\n根据 $L_{\\omega_1, \\omega}$ 的语义，如果一个结构满足一个可数析取中的某个析取项，那它就满足整个析取。\n因此，$\\mathcal{M} \\models \\bigvee_{n \\in \\omega} \\mathrm{Exact}(n)$，这意味着 $\\mathcal{M} \\models \\Phi_{\\mathrm{fin}}$。\n\n这就完成了证明，表明 $\\mathcal{M} \\models \\Phi_{\\mathrm{fin}}$ 当且仅当 $\\mathcal{M}$ 的论域是有限的。语句 $\\Phi_{\\mathrm{fin}}$ 成功地在 $L_{\\omega_1, \\omega}$ 逻辑中定义了有限性这一性质。\n最终答案是 $\\Phi_{\\mathrm{fin}}$ 的显式公式。", "answer": "$$\n\\boxed{\\bigvee_{n \\in \\omega} \\left( \\exists x_1 \\dots \\exists x_n \\left( \\left( \\bigwedge_{1 \\le i < j \\le n} x_i \\neq x_j \\right) \\land \\left( \\forall y \\bigvee_{k=1}^n y = x_k \\right) \\right) \\right)}\n$$", "id": "2974369"}, {"introduction": "在掌握了如何定义整个论域的有限性之后，我们可以将这一能力应用于更精细的结构性质。本练习要求你构造一个 $L_{\\omega_1, \\omega}$ 句子，它不仅要断言一个二元关系是等价关系，还要确保该关系下的每一个等价类都是有限的[@problem_id:2974358]。这个过程展示了如何将无穷逻辑的工具与标准的一阶公理相结合，以刻画复杂的模型属性。", "problem": "设 $\\mathcal{L}$ 是一个带等词和单一二元关系符号 $E$ 的一阶语言。在 $\\mathcal{L}$ 的一个结构 $\\mathcal{M}$ 中，将 $E$ 解释为 $\\mathcal{M}$ 论域上的一个二元关系。使用无穷逻辑 $L_{\\omega_1, \\omega}$ （允许可数合取和析取但只有有限量词块的无穷逻辑）和等价关系的基本定义，构造一个单一的 $L_{\\omega_1, \\omega}$ 语句，该语句同时：\n- 断言 $E$ 是一个等价关系，并且\n- 断言每个 $E$-等价类都是有限的。\n\n你的构造必须使用一个以正整数为索引的可数析取，该析取作用于一系列公式之上，其中每个公式陈述给定元素的 $E$-等价类恰好有 $n$ 个元素。每个析取项中的量词块必须是有限的。\n\n将你的最终答案表示为一个封闭形式的符号逻辑表达式。不需要进行数值近似或舍入。", "solution": "该问题要求在无穷逻辑 $L_{\\omega_1, \\omega}$ 中构造一个单一语句，该语句断言二元关系 $E$ 的两个属性：首先，$E$ 是一个等价关系；其次，在 $E$ 下的每个等价类都是有限的。语言 $\\mathcal{L}$ 只包含等词和二元关系符号 $E$。\n\n最终的语句，我们称之为 $\\Phi$，将是两个主要子公式的合取：$\\Phi = \\Phi_{\\text{equiv}} \\land \\Phi_{\\text{finite}}$。\n\n首先，我们构造公式 $\\Phi_{\\text{equiv}}$，它陈述 $E$ 是一个等价关系。一个等价关系必须是自反的、对称的和传递的。这三个性质可以用标准的一阶语句来表达，而这些语句是 $L_{\\omega_1, \\omega}$ 语句的子集。\n\n1.  自反性：每个元素都与自身相关联。\n    $$ \\forall x (x E x) $$\n2.  对称性：如果 $x$ 与 $y$ 相关联，那么 $y$ 与 $x$ 也相关联。\n    $$ \\forall x \\forall y (x E y \\rightarrow y E x) $$\n3.  传递性：如果 $x$ 与 $y$ 相关联，且 $y$ 与 $z$ 相关联，那么 $x$ 与 $z$ 也相关联。\n    $$ \\forall x \\forall y \\forall z ((x E y \\land y E z) \\rightarrow x E z) $$\n\n这三个语句的合取构成了 $\\Phi_{\\text{equiv}}$：\n$$ \\Phi_{\\text{equiv}} := (\\forall x (x E x)) \\land (\\forall x \\forall y (x E y \\rightarrow y E x)) \\land (\\forall x \\forall y \\forall z ((x E y \\land y E z) \\rightarrow x E z)) $$\n\n其次，我们构造公式 $\\Phi_{\\text{finite}}$，它陈述每个 $E$-等价类都是有限的。由于紧致性定理，这个性质是众所周知的在标准一阶逻辑 ($L_{\\omega, \\omega}$) 中不可表达的，但它在 $L_{\\omega_1, \\omega}$ 中是可表达的。\n\n“每个 $E$-等价类都是有限的”这个陈述可以翻译为“对每个元素 $x$，$x$ 的等价类，记为 $[x]_E$，是一个有限集”。集合的有限性意味着其基数是某个自然数。这可以表示为对所有可能的有限大小的一个析取。\n对任意元素 $x$，其等价类 $[x]_E$ 是有限的，当且仅当存在一个正整数 $n$，使得 $[x]_E$ 中的元素数量恰好为 $n$。我们可以使用一个可数析取来表达这一点，这在 $L_{\\omega_1, \\omega}$ 中是允许的。\n\n$\\Phi_{\\text{finite}}$ 的结构如下：\n$$ \\Phi_{\\text{finite}} := \\forall x \\left( \\bigvee_{n=1}^{\\infty} \\psi_n(x) \\right) $$\n这里，$\\psi_n(x)$ 是一个带有一个自由变元 $x$ 的公式，断言“$x$ 的等价类恰好有 $n$ 个元素”。由于我们将用 $\\Phi_{\\text{equiv}}$ 来强制 $E$ 是一个等价关系，所以满足 $y E x$ 的元素 $y$ 的集合恰好就是等价类 $[x]_E$。\n\n公式 $\\psi_n(x)$ 需要陈述恰好有 $n$ 个元素与 $x$ 相关联。对于任何固定的 $n$，这都可以在一阶逻辑中表达。它断言存在 $n$ 个与 $x$ 相关联的不同元素，并且任何与 $x$ 相关联的元素都必须是这 $n$ 个元素之一。\n\n对于给定的 $n \\in \\{1, 2, 3, \\dots\\}$，公式 $\\psi_n(x)$ 是：\n$$ \\psi_n(x) := \\exists y_1 \\dots \\exists y_n \\left( \\bigwedge_{1 \\le i < j \\le n} (y_i \\ne y_j) \\land \\bigwedge_{i=1}^{n} (y_i E x) \\land \\forall z \\left(z E x \\rightarrow \\bigvee_{i=1}^{n} (z = y_i) \\right) \\right) $$\n该公式只包含有限的量词块（$\\exists y_1 \\dots \\exists y_n$ 和 $\\forall z$）、有限合取和有限析取，正如问题陈述对无穷析取中每个析取项的要求一样。\n\n最后，我们将 $\\Phi_{\\text{equiv}}$ 和 $\\Phi_{\\text{finite}}$ 结合起来，形成完整的语句 $\\Phi$。这个单一的 $L_{\\omega_1, \\omega}$ 语句正确地捕捉了两个所需的性质。\n\n完整的语句 $\\Phi$ 是：\n$$ \\Phi := \\Phi_{\\text{equiv}} \\land \\Phi_{\\text{finite}} $$\n将 $\\Phi_{\\text{equiv}}$ 和 $\\Phi_{\\text{finite}}$ 的完整表达式代入，得到最终答案。", "answer": "$$\n\\boxed{\n\\left( (\\forall x (x E x)) \\land (\\forall x \\forall y (x E y \\rightarrow y E x)) \\land (\\forall x \\forall y \\forall z ((x E y \\land y E z) \\rightarrow x E z)) \\right) \\land \\left( \\forall x \\bigvee_{n=1}^{\\infty} \\exists y_1 \\dots \\exists y_n \\left( \\bigwedge_{1 \\le i < j \\le n} (y_i \\ne y_j) \\land \\bigwedge_{i=1}^{n} (y_i E x) \\land \\forall z \\left(z E x \\rightarrow \\bigvee_{i=1}^{n} (z = y_i) \\right) \\right) \\right)\n}\n$$", "id": "2974358"}, {"introduction": "斯科特秩（Scott rank）是可数结构的一个基本不变量，它衡量了用 $L_{\\omega_1, \\omega}$ 逻辑将一个结构刻画到同构意义下的唯一性所需的“复杂性”。这个秩是一个序数，它对应于一个“往返游戏”（back-and-forth game）中区分非自同构元组所需的步数。本练习将通过一个具体的例子，计算一个具有无限多个大小无界的有限等价类的结构的斯科特秩，揭示无穷逻辑与结构自同构群之间的深刻联系[@problem_id:2974351]。", "problem": "令 $\\mathcal{L}$ 是一个含单个二元关系符号 $E$ 的语言，该符号被解释为等价关系。考虑一个可数的 $\\mathcal{L}$-结构 $\\mathcal{A} = (A, E^{\\mathcal{A}})$，使得 $E^{\\mathcal{A}}$ 是 $A$ 上的一个等价关系，每个 $E^{\\mathcal{A}}$-等价类都是有限的，并且等价类大小的集合在 $\\mathbb{N}$ 中是无界的。进一步假设，对于每个 $n \\in \\mathbb{N}_{\\geq 1}$，至少存在一个大小为 $n$ 的 $E^{\\mathcal{A}}$-等价类。\n\n在无穷逻辑 $L_{\\omega_1, \\omega}$ 中进行讨论，并使用斯科特秩的来回定义：对于元组 $\\bar{a}, \\bar{b} \\in A^{<\\omega}$，通过对序数 $\\alpha$ 的超限归纳来定义 $\\bar{a} \\equiv^{\\alpha} \\bar{b}$，其中在后继阶段，$\\bar{a} \\equiv^{\\alpha+1} \\bar{b}$ 当且仅当对于每个 $a' \\in A$，存在一个 $b' \\in A$ 使得 $(\\bar{a}, a') \\equiv^{\\alpha} (\\bar{b}, b')$，并且对称地，交换 $A$ 的角色也成立；在极限序数 $\\lambda$ 处，$\\bar{a} \\equiv^{\\lambda} \\bar{b}$ 当且仅当对于所有 $\\beta < \\lambda$，都有 $\\bar{a} \\equiv^{\\beta} \\bar{b}$。斯科特秩 $\\operatorname{SR}(\\mathcal{A})$ 是最小的序数 $\\alpha$，使得对于所有有限元组 $\\bar{a}, \\bar{b} \\in A^{<\\omega}$，$\\bar{a} \\equiv^{\\alpha} \\bar{b}$ 蕴含存在一个 $\\mathcal{A}$ 的自同构将 $\\bar{a}$ 映到 $\\bar{b}$。\n\n计算 $\\operatorname{SR}(\\mathcal{A})$，并以单个符号序数表达式的形式给出答案。根据 $L_{\\omega_1, \\omega}$ 的第一原理、斯科特秩的来回刻画以及 $E^{\\mathcal{A}}$-等价类的有限性和无界性来证明你的秩的确定。", "solution": "问题要求计算一个特定可数结构 $\\mathcal{A}$ 的 Scott 秩。我们首先验证问题陈述的有效性。\n\n### 步骤 1：提取已知条件\n- 语言 $\\mathcal{L}$ 包含单个二元关系符号 $E$。\n- 结构是一个可数的 $\\mathcal{L}$-结构 $\\mathcal{A} = (A, E^{\\mathcal{A}})$。\n- $E^{\\mathcal{A}}$ 是论域 $A$ 上的一个等价关系。\n- 在 $E^{\\mathcal{A}}$ 下的每个等价类都是有限的。\n- 等价类大小的集合在 $\\mathbb{N}$ 中是无界的。\n- 对于每个整数 $n \\ge 1$，至少存在一个大小为 $n$ 的等价类。\n- 逻辑是 $L_{\\omega_1, \\omega}$。\n- 来回等价关系 $\\equiv^\\alpha$ 是为有限元组 $\\bar{a}, \\bar{b}$ 通过对序数 $\\alpha$ 的超限归纳定义的：\n    - $\\bar{a} \\equiv^0 \\bar{b}$ 当且仅当它们满足相同的无量词公式。\n    - $\\bar{a} \\equiv^{\\alpha+1} \\bar{b}$ 当且仅当对于每个 $a' \\in A$，存在一个 $b' \\in A$ 使得 $(\\bar{a}, a') \\equiv^{\\alpha} (\\bar{b}, b')$，并且对于每个 $b' \\in A$，存在一个 $a' \\in A$ 使得 $(\\bar{a}, a') \\equiv^{\\alpha} (\\bar{b}, b')$。\n    - 对于极限序数 $\\lambda$，$\\bar{a} \\equiv^{\\lambda} \\bar{b}$ 当且仅当对于所有 $\\beta < \\lambda$，都有 $\\bar{a} \\equiv^{\\beta} \\bar{b}$。\n- Scott 秩 $\\operatorname{SR}(\\mathcal{A})$ 是最小的序数 $\\alpha$，使得对于任何有限元组 $\\bar{a}, \\bar{b} \\in A^{<\\omega}$，如果 $\\bar{a} \\equiv^{\\alpha} \\bar{b}$，则存在一个 $\\mathcal{A}$ 的自同构将 $\\bar{a}$ 映到 $\\bar{b}$。\n\n### 步骤 2：使用提取的已知条件进行验证\n问题设定在模型论和无穷逻辑的标准框架内。\n- **科学基础：** 无穷逻辑、等价关系、可数结构和 Scott 秩等概念在数理逻辑中都是明确定义和标准的。该问题是该领域的典型练习题。\n- **适定性：** 结构 $\\mathcal{A}$ 的性质被清晰地指定。虽然这些性质并不能在同构意义下唯一确定一个结构（例如，每种大小的类的数量可以变化），但满足这些条件的任何两个可数结构都是 $L_{\\omega_1, \\omega}$-等价的，并且将具有相同的 Scott 秩。因此，问题是明确的，要求一个唯一定义的序数。\n- **客观性：** 问题以形式化的数学语言陈述，没有主观或含糊的术语。\n- **完备性和一致性：** 已知条件是充分且一致的。存在每个有限大小 $n \\ge 1$ 的类，意味着大小的集合是无界的。\n\n### 步骤 3：结论与行动\n问题是**有效的**。我们可以继续进行解答。\n\n### 解答\n让我们计算 Scott 秩 $\\operatorname{SR}(\\mathcal{A})$。解答过程分为两个主要部分：首先，我们证明 $\\operatorname{SR}(\\mathcal{A}) \\ge \\omega$；其次，我们证明 $\\operatorname{SR}(\\mathcal{A}) \\le \\omega$。\n\n**第一部分：证明 $\\operatorname{SR}(\\mathcal{A}) \\ge \\omega$**\n\n为了证明 $\\operatorname{SR}(\\mathcal{A}) \\ge \\omega$，我们必须证明对于任何有限序数 $k \\in \\mathbb{N}$，Scott 秩都大于 $k$。这要求我们对于任意给定的 $k \\in \\mathbb{N}$，找到两个不是自同构等价的有限元组 $\\bar{a}$ 和 $\\bar{b}$，但它们满足 $\\bar{a} \\equiv^k \\bar{b}$。\n\n令 $k \\in \\mathbb{N}$ 为一个任意的有限序数。根据问题陈述，等价类大小的集合是无界的，并且对于每个 $n \\ge 1$，都存在一个大小为 $n$ 的类。因此，我们可以从一个大小为 $k+1$ 的等价类 $[a]$ 中选择一个元素 $a \\in A$，并从一个大小为 $k+2$ 的等价类 $[b]$ 中选择一个元素 $b \\in A$。\n我们将要考虑的元组是单元组 $(a)$ 和 $(b)$。\n\n两个元素 $x, y \\in A$ 在同一个自同构轨道上，当且仅当它们的等价类具有相同的大小，即 $|[x]| = |[y]|$。由于 $|[a]| = k+1 \\ne k+2 = |[b]|$，元组 $(a)$ 和 $(b)$ 不是自同构等价的。\n\n现在我们必须证明 $a \\equiv^k b$。模型论中的一个标准结果表明，对于有限元组，$\\bar{a} \\equiv^k \\bar{b}$ 当且仅当 $\\bar{a}$ 和 $\\bar{b}$ 满足所有最多有 $k$ 个量词（即量词秩至多为 $k$）的相同 $L_{\\omega, \\omega}$ 公式。这等价于玩家 II 在扩展结构 $(\\mathcal{A}, a)$ 和 $(\\mathcal{A}, b)$ 上的 $k$ 步 Ehrenfeucht-Fraïssé 博弈中拥有一个获胜策略。\n\n考虑一个量词秩至多为 $k$ 的公式 $\\psi(x)$。这样的公式无法区分需要计数到 $k+1$ 或更多的性质。更正式地说，玩家 II 在 $k$ 步博弈中的获胜策略如下：\n设 $i$ 步后博弈的状态为部分同构 $p_i: \\{a, c_1, \\dots, c_i\\} \\to \\{b, d_1, \\dots, d_i\\}$。玩家 I 走出一步 $c_{i+1}$。\n- 如果 $c_{i+1}$ 在某个 $j \\le i$ 的类 $[c_j]$ 中（如果 $j=0$ 则为 $[a]$），玩家 II 从对应的类 $[d_j]$（或 $[b]$）中选择 $d_{i+1}$。这是可能的，因为在第 $i+1$ 步，从任何给定的类中最多已选择了 $i+1$ 个元素。由于 $i+1 \\le k$，并且 $|[a]|$ 和 $|[b]|$ 都大于 $k$，所以在 $[a]$ 和 $[b]$ 中总有可用的元素可供选择。对于任何其他类 $C$，玩家 I 最多可以枚举其所有 $|C|$ 个元素；只要 $|C|=|D|$，玩家 II 就可以在对应的类 $D$ 中匹配这些移动。\n- 如果 $c_{i+1}$ 在一个新的、博弈中先前未被引用的类 $C_{\\text{new}}$ 中，玩家 II 从另一个大小相同的未使用类 $D_{\\text{new}}$ 中选择一个元素 $d_{i+1}$。这样一个类的存在性是有保证的，因为在博弈期间最多可以引入 $k$ 个类，而结构 $\\mathcal{A}$ 拥有各种大小的类的储备。\n这个策略确保了部分同构在所有 $k$ 步中都得以维持。\n\n由于玩家 II 有获胜策略，所以 $a \\equiv^k b$。我们找到了非自同构的元素，它们是 $\\equiv^k$ 等价的。这对任何任意的有限 $k$ 都成立。因此，$\\mathcal{A}$ 的 Scott 秩必须是一个无穷序数，所以 $\\operatorname{SR}(\\mathcal{A}) \\ge \\omega$。\n\n**第二部分：证明 $\\operatorname{SR}(\\mathcal{A}) \\le \\omega$**\n\n为了证明 $\\operatorname{SR}(\\mathcal{A}) \\le \\omega$，我们必须证明对于任何有限元组 $\\bar{a}, \\bar{b} \\in A^{<\\omega}$，如果 $\\bar{a} \\equiv^\\omega \\bar{b}$，那么 $\\bar{a}$ 和 $\\bar{b}$ 是自同构等价的。\n\n根据极限序数处等价的定义，$\\bar{a} \\equiv^\\omega \\bar{b}$ 意味着对于所有有限的 $k \\in \\mathbb{N}$，都有 $\\bar{a} \\equiv^k \\bar{b}$。\n\n在 $\\mathcal{A}$ 中一个元组 $\\bar{c} = (c_1, \\dots, c_m)$ 的自同构类型由两部分信息决定：\n1. 由关系 $E^{\\mathcal{A}}$ 导出的指标集 $\\{1, \\dots, m\\}$ 的划分。也就是说，元组中的哪些元素在同一个等价类中。\n2. 对于此划分中的每个块，其在 $A$ 中对应等价类的大小。\n\n两个元组 $\\bar{a}$ 和 $\\bar{b}$ 是自同构等价的，当且仅当它们具有相同的自同构类型。\n\n让我们为了引出矛盾而假设，$\\bar{a}$ 和 $\\bar{b}$ 不是自同构等价的，但 $\\bar{a} \\equiv^\\omega \\bar{b}$。\n由于 $\\bar{a} \\equiv^0 \\bar{b}$，它们必须共享相同的无量词类型。这意味着它们通过 $E^{\\mathcal{A}}$ 在其指标上导出相同的划分。\n所以，它们不是自同构的原因必定是，对于至少一对对应的元素，$a_i$ 来自 $\\bar{a}$，$b_i$ 来自 $\\bar{b}$，它们的等价类大小不同。设 $|[a_i]| = n$ 且 $|[b_i]| = m$，其中 $n \\ne m$。\n\n我们可以写出一个 $L_{\\omega, \\omega}$ 公式 $\\phi_n(x)$ 来表示“$x$ 的等价类大小恰好为 $n$”：\n$$ \\phi_n(x) := \\exists y_1 \\dots \\exists y_n \\left( \\bigwedge_{1 \\le j < l \\le n} y_j \\ne y_l \\land \\bigwedge_{j=1}^n E(x, y_j) \\right) \\land \\forall z \\left( E(x, z) \\rightarrow \\bigvee_{j=1}^n z=y_j \\right) $$\n$\\phi_n(x)$ 的量词秩是 $n+1$。\n\n由于 $|[a_i]| = n$，我们有 $\\mathcal{A} \\models \\phi_n(a_i)$。由于 $|[b_i]| = m \\ne n$，我们有 $\\mathcal{A} \\models \\neg\\phi_n(b_i)$。\n公式 $\\phi_n(x)$ 的量词秩是有限的 $n+1$。这意味着 $a_i$ 和 $b_i$ 可以被一个此秩的公式区分。因此，$a_i \\not\\equiv^{n+1} b_i$。\n\n如果两个元组 $\\bar{a}$ 和 $\\bar{b}$ 是 $\\equiv^k$ 等价的，那么任何一对对应的分量 $a_i$ 和 $b_i$ 也必须是 $\\equiv^k$ 等价的。其逆否命题是，如果对于某个 $i$ 有 $a_i \\not\\equiv^k b_i$，那么 $\\bar{a} \\not\\equiv^k \\bar{b}$。\n在我们的例子中，当 $k = n+1$ 时，我们有 $a_i \\not\\equiv^{n+1} b_i$，这蕴含着 $\\bar{a} \\not\\equiv^{n+1} \\bar{b}$。\n这与我们假设的对于所有有限 $k$ 都有 $\\bar{a} \\equiv^k \\bar{b}$ 相矛盾。\n\n因此，我们最初的假设必定是错误的。如果 $\\bar{a} \\equiv^\\omega \\bar{b}$，它们必须是自同构等价的。\n这就证明了 $\\operatorname{SR}(\\mathcal{A}) \\le \\omega$。\n\n**结论**\n\n从第一部分和第二部分，我们得到 $\\operatorname{SR}(\\mathcal{A}) \\ge \\omega$ 和 $\\operatorname{SR}(\\mathcal{A}) \\le \\omega$。这迫使我们得出结论，结构 $\\mathcal{A}$ 的 Scott 秩恰好是 $\\omega$。\nScott 秩是使得 $\\equiv^\\alpha$ 与自同构等价相一致的最小序数 $\\alpha$。由于对于任何有限的 $\\alpha$ 这都不成立，但对于 $\\alpha=\\omega$ 成立，因此 $\\omega$ 是最小的这样的序数。", "answer": "$$\\boxed{\\omega}$$", "id": "2974351"}]}