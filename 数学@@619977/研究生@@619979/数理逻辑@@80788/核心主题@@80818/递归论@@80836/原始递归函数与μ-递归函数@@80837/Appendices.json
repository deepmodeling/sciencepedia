{"hands_on_practices": [{"introduction": "本练习旨在从最基本的初始函数和运算（复合与原始递归）出发，亲手构造一些我们熟悉的算术函数。我们将利用受限减法（$x \\dot{-} y$）这一关键工具，来定义最大值（$\\max(x,y)$）和最小值（$\\min(x,y)$）函数，并证明它们属于原始递归函数的范畴。通过这个过程，你将深刻体会到，一个庞大而强大的可计算函数类是如何从一个极其简单的基础系统性地构建起来的。[@problem_id:2979433]", "problem": "在标准的自然数集 $\\,\\mathbb{N}=\\{0,1,2,\\dots\\}\\,$ 中进行研究，所使用的函数类为原始递归 (PR) 函数类，此类函数由初始函数生成，并且在复合和原始递归操作下是闭合的。初始函数包括零函数 $Z(x)=0$、后继函数 $S(x)=x+1$ 以及投影函数 $U_{i}^{n}(x_{1},\\dots,x_{n})=x_{i}$。闭包性质如下：如果 $g$ 和 $h$ 是 PR 函数，则任何 PR 函数的复合也是 PR 函数；如果 $g$ 和 $h$ 是 PR 函数，则通过原始递归定义的函数 $f$\n$$\nf(\\vec{x},0)=g(\\vec{x}),\\qquad f(\\vec{x},S(y))=h(\\vec{x},y,f(\\vec{x},y))\n$$\n也是 PR 函数。PR 函数类是 μ-递归 (最小化) 函数类的一个子类；在此，您必须避免使用最小化 (用 $\\mu$ 表示) 算子，而只能使用 PR 模式。\n\n仅使用初始函数和原始递归模式来定义前驱函数 $\\mathrm{pred}(x)$ 和截断减法 $x\\dot{-}y$。然后，仅使用 $x\\dot{-}y$ 来定义 $\\max(x,y)$ 和 $\\min(x,y)$，并从基本原理出发（仅使用 PR 闭包性质、对序关系的分情况讨论以及 $\\mathbb{N}$ 中的基本算术）证明 $\\max$ 和 $\\min$ 都是 PR 函数。最后，建立 $\\max$ 和 $\\min$ 在 $\\mathbb{N}$ 上的常见代数定律：交换律、幂等律、结合律、吸收律、单调性以及分解恒等式\n$$\n\\max(x,y)+\\min(x,y)=x+y.\n$$\n您的最终答案必须是您得到的 $\\max(x,y)$ 和 $\\min(x,y)$ 的闭式解析表达式，且仅用 $x$、$y$、加法和 $\\,\\dot{-}\\,$ 表示。不需要进行四舍五入。", "solution": "本题要求在原始递归 (PR) 函数的框架内构造前驱函数、截断减法函数、最大值函数和最小值函数，然后证明它们的代数性质。所有的构造都必须从基本原理出发，仅使用初始函数以及复合和原始递归模式进行论证。\n\n首先，我们证明加法函数 $A(x,y) = x+y$ 是原始递归的。它可以按如下方式对 $y$ 进行递归定义：\n$$\nA(x,0) = x\n$$\n$$\nA(x, S(y)) = S(A(x,y))\n$$\n这符合原始递归模式 $f(\\vec{x}, 0) = g(\\vec{x})$ 和 $f(\\vec{x}, S(y)) = h(\\vec{x}, y, f(\\vec{x}, y))$，其中 $\\vec{x}$ 是单个变量 $x$。我们确定 $g(x) = U_1^1(x)$ 以及 $h(x, y, z) = S(U_3^3(x,y,z))$。由于 $U_1^1$、$U_3^3$ 和 $S$ 是初始函数，且定义中使用了复合和原始递归，因此 $A(x,y)$ 是一个 PR 函数。\n\n现在我们按照题目中列出的任务进行。\n\n步骤 1：前驱函数 $\\mathrm{pred}(x)$\n前驱函数定义为：当 $x > 0$ 时 $\\mathrm{pred}(x) = x-1$，而 $\\mathrm{pred}(0) = 0$。我们使用对单个变量 $x$ 的原始递归模式来定义它：\n$$\n\\mathrm{pred}(0) = 0\n$$\n$$\n\\mathrm{pred}(S(x)) = x\n$$\n该定义对应于一元原始递归模式 $f(0) = c$ 和 $f(S(x)) = h(x, f(x))$。\n基本情况是一个常数，可以用零函数 $Z(x)$ 来表示。因此，我们将基值设为 $0$。\n递归步骤可以写成 $h(x, \\mathrm{pred}(x)) = x$。函数 $h(u,v) = U_1^2(u,v) = u$ 满足此条件。\n由于基值来自一个初始函数 ($Z$)，且递归步骤中的函数 $h$ 是一个初始函数 ($U_1^2$)，因此函数 $\\mathrm{pred}(x)$ 是原始递归的。\n\n步骤 2：截断减法 $x \\dot{-} y$\n截断减法（或 monus）定义为 $x \\dot{-} y = \\max(0, x-y)$。我们使用对变量 $y$ 的原始递归来定义它：\n$$\nx \\dot{-} 0 = x\n$$\n$$\nx \\dot{-} S(y) = \\mathrm{pred}(x \\dot{-} y)\n$$\n该定义符合通用原始递归模式 $f(x,0) = g(x)$ 和 $f(x, S(y)) = h(x, y, f(x,y))$。\n对于基本情况，$f(x,0) = x \\dot{-} 0 = x$，我们取 $g(x) = U_1^1(x)$，这是一个初始函数。\n对于递归步骤，$f(x, S(y)) = \\mathrm{pred}(f(x,y))$，我们取 $h(x,y,z) = \\mathrm{pred}(z)$。此函数可写为 PR 函数的复合：$h(x,y,z) = \\mathrm{pred}(U_3^3(x,y,z))$。由于 $\\mathrm{pred}$ 已被证明是 PR 函数，且 $U_3^3$ 是一个初始函数，根据复合的闭包性质，$h$ 也是 PR 函数。\n因此，截断减法函数 $x \\dot{-} y$ 是原始递归的。\n\n步骤 3：最大值和最小值函数 $\\max(x,y)$ 和 $\\min(x,y)$\n使用截断减法函数，我们可以按如下方式定义 $\\max(x,y)$ 和 $\\min(x,y)$：\n$$\n\\max(x,y) = x + (y \\dot{-} x)\n$$\n$$\n\\min(x,y) = x \\dot{-} (x \\dot{-} y)\n$$\n为验证这些定义，我们根据 $x$ 和 $y$ 的顺序分两种情况讨论。\n情况 1：$x \\le y$。在这种情况下，$y \\dot{-} x = y-x$ 且 $x \\dot{-} y = 0$。\n$\\max(x,y) = x + (y-x) = y$。\n$\\min(x,y) = x \\dot{-} (0) = x$。\n情况 2：$x > y$。在这种情况下，$y \\dot{-} x = 0$ 且 $x \\dot{-} y = x-y$。\n$\\max(x,y) = x + 0 = x$。\n$\\min(x,y) = x \\dot{-} (x-y) = x-(x-y) = y$。\n在这两种情况下，公式都正确地得出了 $x$ 和 $y$ 的最大值和最小值。\n\n步骤 4：证明 $\\max$ 和 $\\min$ 是原始递归的\n函数 $\\max(x,y)$ 和 $\\min(x,y)$ 是通过已证明为原始递归的函数的复合来定义的。\n- 函数 $\\max(x,y) = x + (y \\dot{-} x)$ 是加法 $A(u,v)$、截断减法 $M(u,v)$ 和投影函数 $U_1^2(x,y)=x$、$U_2^2(x,y)=y$ 的复合。具体来说，$\\max(x,y) = A(U_1^2(x,y), M(U_2^2(x,y), U_1^2(x,y)))$。由于 $A$、$M$ 和投影函数都是 PR 函数，根据复合的闭包性质，$\\max(x,y)$ 是 PR 函数。\n- 函数 $\\min(x,y) = x \\dot{-} (x \\dot{-} y)$ 也是 PR 函数的复合。具体来说，$\\min(x,y) = M(U_1^2(x,y), M(U_1^2(x,y), U_2^2(x,y)))$。由于 $M$ 和投影函数都是 PR 函数，根据复合的闭包性质，$\\min(x,y)$ 是 PR 函数。\n\n步骤 5：$\\max$ 和 $\\min$ 的代数定律\n我们现在来建立标准的代数性质。证明依赖于对 $x$ 和 $y$ 之间序关系的分情况讨论。\n\n- 交换律：$\\max(x,y) = \\max(y,x)$ 和 $\\min(x,y) = \\min(y,x)$。\n  如果 $x \\le y$，则 $\\max(x,y)=y$ 和 $\\max(y,x)=y$。如果 $x > y$，则 $\\max(x,y)=x$ 和 $\\max(y,x)=x$。\n  如果 $x \\le y$，则 $\\min(x,y)=x$ 和 $\\min(y,x)=x$。如果 $x > y$，则 $\\min(x,y)=y$ 和 $\\min(y,x)=y$。\n  两条性质均成立。\n\n- 幂等律：$\\max(x,x) = x$ 和 $\\min(x,x) = x$。\n  使用 $x \\le x$ 的情况，我们有 $\\max(x,x)=x$ 和 $\\min(x,x)=x$。\n\n- 结合律：$\\max(x,\\max(y,z)) = \\max(\\max(x,y),z)$ 和 $\\min(x,\\min(y,z)) = \\min(\\min(x,y),z)$。\n  两个表达式都对应于求集合 $\\{x,y,z\\}$ 的最大值（或最小值）。结果与运算顺序无关。对于 $x, y, z$ 的任何排序，等式都成立。例如，如果 $x \\le y \\le z$：\n  $\\max(x,\\max(y,z)) = \\max(x,z) = z$。$\\max(\\max(x,y),z) = \\max(y,z) = z$。\n  $\\min(x,\\min(y,z)) = \\min(x,y) = x$。$\\min(\\min(x,y),z) = \\min(x,z) = x$。\n\n- 吸收律：$\\max(x,\\min(x,y)) = x$ 和 $\\min(x,\\max(x,y)) = x$。\n  如果 $x \\le y$，则 $\\min(x,y)=x$。那么 $\\max(x,\\min(x,y)) = \\max(x,x) = x$。\n  如果 $x > y$，则 $\\min(x,y)=y$。那么 $\\max(x,\\min(x,y)) = \\max(x,y) = x$。\n  如果 $x \\le y$，则 $\\max(x,y)=y$。那么 $\\min(x,\\max(x,y)) = \\min(x,y) = x$。\n  如果 $x > y$，则 $\\max(x,y)=x$。那么 $\\min(x,\\max(x,y)) = \\min(x,x) = x$。\n\n- 单调性：如果 $x \\le y$，则对于任意 $z$，有 $\\max(x,z) \\le \\max(y,z)$ 和 $\\min(x,z) \\le \\min(y,z)$。\n  我们通过对 $z$ 分情况讨论来证明这一点。\n  对于 $\\max$：设 $x \\le y$。\n  情况 1：$z \\le x$。则 $z \\le x \\le y$。$\\max(x,z)=x$ 且 $\\max(y,z)=y$。由于 $x \\le y$，该性质成立。\n  情况 2：$x < z \\le y$。$\\max(x,z)=z$ 且 $\\max(y,z)=y$。由于 $z \\le y$，该性质成立。\n  情况 3：$z > y$。则 $x \\le y < z$。$\\max(x,z)=z$ 且 $\\max(y,z)=z$。该性质成立。\n  对于 $\\min$：设 $x \\le y$。\n  情况 1：$z \\le x$。则 $z \\le x \\le y$。$\\min(x,z)=z$ 且 $\\min(y,z)=z$。该性质成立。\n  情况 2：$x < z \\le y$。$\\min(x,z)=x$ 且 $\\min(y,z)=z$。由于 $x < z$，该性质成立。\n  情况 3：$z > y$。则 $x \\le y < z$。$\\min(x,z)=x$ 且 $\\min(y,z)=y$。由于 $x \\le y$，该性质成立。\n\n- 分解恒等式：$\\max(x,y)+\\min(x,y)=x+y$。\n  分情况讨论证明：\n  情况 1：$x \\le y$。则 $\\max(x,y) = y$ 且 $\\min(x,y) = x$。恒等式变为 $y+x=x+y$，成立。\n  情况 2：$x > y$。则 $\\max(x,y) = x$ 且 $\\min(x,y) = y$。恒等式变为 $x+y=x+y$，成立。\n  恒等式在所有情况下都成立。\n\n  另外，我们也可以用代数方法证明这个恒等式。首先，我们建立引理 $(a \\dot{-} b) + b = \\max(a,b)$。\n  引理证明：如果 $a \\ge b$，则 $(a \\dot{-} b) + b = (a-b)+b = a = \\max(a,b)$。如果 $a < b$，则 $(a \\dot{-} b) + b = 0+b = b = \\max(a,b)$。引理得证。\n  现在，使用定义：\n  $\\max(x,y)+\\min(x,y) = \\max(x,y) + (x \\dot{-} (x \\dot{-} y))$。\n  我们也知道 $(x \\dot{-} y)+y = \\max(x,y)$。\n  从 $\\min(x,y) = x \\dot{-} (x \\dot{-} y)$ 出发，我们在两边同时加上 $(x \\dot{-} y)$：\n  $\\min(x,y) + (x \\dot{-} y) = (x \\dot{-} (x \\dot{-} y)) + (x \\dot{-} y)$。\n  将引理应用于右侧，令 $a=x$ 和 $b=x \\dot{-} y$，我们得到 $\\max(x, x \\dot{-} y)$。由于 $x \\ge x \\dot{-} y$，这可以简化为 $x$。\n  所以，$\\min(x,y) + (x \\dot{-} y) = x$。\n  在两边同时加上 $y$：$\\min(x,y) + (x \\dot{-} y) + y = x+y$。\n  再次使用引理，$(x \\dot{-} y) + y = \\max(x,y)$。\n  代入此式得到 $\\min(x,y) + \\max(x,y) = x+y$，证明完毕。\n\n所需任务已完成。最终答案要求给出 $\\max(x,y)$ 和 $\\min(x,y)$ 的表达式。\n$\\max(x,y) = x + (y \\dot{-} x)$\n$\\min(x,y) = x \\dot{-} (x \\dot{-} y)$\n虽然存在其他等价形式，例如 $\\min(x,y)=y \\dot{-} (y \\dot{-} x)$，但推导出的表达式满足题目要求。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\nx + (y \\dot{-} x) & x \\dot{-} (x \\dot{-} y)\n\\end{pmatrix}\n}\n$$", "id": "2979433"}, {"introduction": "掌握了基本函数的构造后，下一个挑战是如何让原始递归函数处理更复杂的数据结构，例如有限序列。本练习引入了哥德尔编码的一种形式——素数幂编码，将序列表示为自然数。你的任务是构建一个原始递归函数，它能在被编码的序列中，在一个给定的界限内，找到第一个值为零的元素的位置。[@problem_id:2979414]这不仅展示了原始递归函数处理结构化数据的能力，也突显了有界$\\mu$-算子（有界搜索）作为构建复杂原始递归函数的强大工具的重要性。", "problem": "设 $N$ 表示自然数集（包括 $0$）。在原始递归 (PR) 函数类中进行研究，仅从标准的 PR 基础函数（零函数 $Z(n)=0$、后继函数 $S(n)=n+1$ 和投影函数 $U^{k}_{i}(n_{0},\\dots,n_{k-1})=n_{i}$）出发，并加上复合运算和原始递归下的封闭性。你可以使用的基础事实包括：加法、乘法、有界和、有界积、截断减法以及大小/相等谓词的 PR 可定义性，以及被称为 Bertrand 公设的经典数论事实（对于每个 $m \\geq 1$，都存在一个素数严格介于 $m$ 和 $2m$ 之间）。\n\n考虑有限序列的典范素数-幂编码：对于一个有限序列 $\\langle a_{0},a_{1},\\dots,a_{\\ell-1} \\rangle$ 且 $a_{i} \\in N$，其编码是自然数\n$$\n\\mathrm{code}(\\langle a_{0},\\dots,a_{\\ell-1} \\rangle)\\;=\\;\\prod_{i=0}^{\\ell-1} p_{i}^{\\,a_{i}+1}\n$$\n其中 $p_{i}$ 是第 $i$ 个素数，索引从 $p_{0}=2,p_{1}=3,p_{2}=5,\\dots$ 开始。\n\n定义一个 PR 函数 $F(c,b)$，给定一个编码 $c \\in N$ 和一个界 $b \\in N$，该函数在界 $b$ 内扫描编码序列，查找第一个零并返回其位置。具体来说，$F(c,b)$ 必须返回满足编码序列的第 $i$ 个分量为 $0$ 的最小 $i<b$；如果对于 $i<b$ 不存在这样的位置，则必须返回 $b$。你的定义必须用 PR 的基本构造块明确给出（不允许使用无界极小化），并且你必须通过复合运算和原始递归将你构造中的每个组成部分归约到 PR 基础函数，从而证明 $F$ 是 PR 全函数。\n\n最后，计算你的函数 $F$ 在特定输入 $c=525000$ 和 $b=4$ 下的值。数字 $525000$ 应被解释为上述方案下的一个素数-幂编码。将你的最终答案表示为单个整数。无需四舍五入。", "solution": "问题要求定义一个原始递归 (PR) 函数 $F(c,b)$，用于在一个编码序列中查找第一个零的位置，并计算它在一个特定输入下的值。解答过程分为两个主要部分：首先，从头开始形式化地构造 $F(c,b)$ 以证明其是原始递归的；其次，计算 $F(525000, 4)$ 的值。\n\n如果一个函数是基础函数之一（零函数 $Z$、后继函数 $S$、投影函数 $U^k_i$），或者可以通过有限次应用复合运算和原始递归从它们得到，那么这个函数就是原始递归的。我们已知加法、乘法、截断减法（$x \\dot{-} y = \\max(0, x-y)$）、有界和、有界积以及大小/相等谓词都是 PR 的。\n\n一个重要的工具是有界 $\\mu$-算子。如果 $P(i, \\vec{x})$ 是一个 PR 谓词（即，其特征函数 $\\chi_P(i, \\vec{x})$ 是 PR 的，当 $P$ 为真时为 $1$，为假时为 $0$），那么函数 $f(y, \\vec{x}) = (\\mu i < y)[P(i, \\vec{x})]$ 也是 PR 的。该函数返回使 $P(i, \\vec{x})$ 成立的最小 $i<y$，如果不存在这样的 $i$，则返回 $y$。其原始递归性可以通过以下构造来证明：\n$$ f(y, \\vec{x}) = \\sum_{k=0}^{y-1} \\left( \\prod_{j=0}^{k} (1 - \\chi_P(j, \\vec{x})) \\right) $$\n由于 $\\chi_P$、减法、有界和以及有界积都是 PR 的，所以 $f$ 是 PR 的。我们将使用这个算子来构造我们的函数。\n\n$F(c,b)$ 的构造需要几个中间 PR 函数。\n\n1.  **返回第 $i$ 个素数 $p_i$ 的函数 $p(i)$**：\n    - 我们需要定义一个函数 $\\mathrm{IsPrime}(n)$，如果 $n$ 是素数则返回 $1$，否则返回 $0$。一个数 $n>1$ 是素数，如果它除了 $1$ 和 $n$ 之外没有其他因子。\n    - 谓词 $d|n$（d 整除 n）是 PR 的。其特征函数 $\\chi_{|}(d, n)$ 可以使用给定的 PR 基本构造块来构造。对于 $d>0$，$d|n \\iff \\exists k \\le n (d \\cdot k = n)$。使用 PR 相等谓词 $\\chi_=(a,b)$，我们有 $\\chi_{|}(d,n) = 1 \\dot{-} \\prod_{k=0}^{n} (1 \\dot{-} \\chi_=(d \\cdot k, n))$。\n    - 那么素性的特征函数是 $\\chi_{\\mathrm{IsPrime}}(n) = \\chi_{>}(n,1) \\cdot \\prod_{d=2}^{n-1} (1 \\dot{-} \\chi_{|}(d,n))$。由于这是由 PR 函数和运算构建的，$\\mathrm{IsPrime}(n)$ 是 PR 的。\n    - 函数 $p(i)$ 通过原始递归定义：\n        - 基本情况：$p(0) = 2$。\n        - 递归步骤：$p(i+1)$ 是严格大于 $p(i)$ 的最小素数。对这个素数的无界搜索不是 PR 的。然而，Bertrand 公设指出，对于任何 $m \\ge 1$，都存在一个素数 $p$ 使得 $m < p < 2m$。这保证了 $p(i) < p(i+1) < 2p(i)$。所以我们可以使用有界搜索。\n        - $p(i+1) = (\\mu y < 2 p(i)) [y > p(i) \\land \\mathrm{IsPrime}(y)]$。\n        - 谓词 $P(y,i) \\equiv y > p(i) \\land \\mathrm{IsPrime}(y)$ 是 PR 的。因此，用于计算 $p(i+1)$ 的函数定义为 $h(p(i))$，其中 $h(z) = (\\mu y < 2z)[y > z \\land \\mathrm{IsPrime}(y)]$ 是一个 PR 函数。\n        - 因此，由 $p(0)=2$ 和 $p(i+1) = h(p(i))$ 定义的 $p(i)$ 是一个原始递归函数。\n\n2.  **指数函数 $\\mathrm{exp}(c, i)$**：\n    - 该函数计算第 $i$ 个素数 $p_i$ 在 $c$ 的素数分解中的指数。\n    - 这是使得 $(p(i))^k$ 整除 $c$ 的最大整数 $k$。等价地，它是使得 $(p(i))^{k+1}$ 不整除 $c$ 的最小整数 $k$。\n    - 我们可以使用有界 $\\mu$-算子来定义它。指数 $k$ 的一个安全上界是 $c$ 本身，因为如果 $p_i \\geq 2$，那么 $2^k \\leq p_i^k \\leq c$ 蕴含 $k \\leq c$。\n    - $\\mathrm{exp}(c, i) = (\\mu k < c+1) [1 \\dot{-} \\chi_{|}(p(i)^{k+1}, c) = 1]$。这个谓词检查 $p(i)^{k+1}$ 是否不整除 $c$。\n    - 幂函数 $\\mathrm{pow}(b,e)=b^e$ 是 PR 的。该谓词涉及 PR 函数 $p(i)$、$\\mathrm{pow}$ 和 $\\chi_{|}$。因此，该谓词是 PR 的。\n    - 因此，$\\mathrm{exp}(c, i)$ 是一个原始递归函数。\n    - 另外，如果 $p_i$ 不整除 $c$，那么对于 $k=0$，$p(i)^1$ 就不整除 $c$，所以 $\\mu$-算子返回 $0$。这是正确的。\n\n3.  **解码函数 $\\mathrm{decode}(c, i)$**：\n    - 问题将序列 $\\langle a_0, a_1, \\dots, a_{\\ell-1} \\rangle$ 的编码定义为 $c = \\prod_{i=0}^{\\ell-1} p_i^{\\,a_i+1}$。\n    - 这意味着 $p_i$ 在 $c$ 的分解中的指数是 $a_i+1$。即 $\\mathrm{exp}(c,i) = a_i+1$。\n    - 解出 $a_i$，我们得到 $a_i = \\mathrm{exp}(c, i) - 1$。\n    - 由于分量 $a_i$ 必须是自然数（$a_i \\in N$），我们使用截断減法。\n    - $\\mathrm{decode}(c, i) = \\mathrm{exp}(c, i) \\dot{-} 1$。\n    - 如果对于某个 $j$，$p_j$ 不是 $c$ 的素因子，则 $\\mathrm{exp}(c,j) = 0$，且 $\\mathrm{decode}(c,j) = 0 \\dot{-} 1 = 0$。这正确地模拟了隐式地用零填充的序列。\n    - 由于 $\\mathrm{exp}(c,i)$ 和截断减法都是 PR 的，通过复合运算，$\\mathrm{decode}(c,i)$ 也是 PR 的。\n\n4.  **函数 $F(c, b)$**：\n    - 函数 $F(c,b)$ 必须返回使编码序列的第 $i$ 个分量为 $0$ 的最小 $i < b$。如果对于 $i < b$ 不存在这样的位置，则它必须返回 $b$。\n    - 这是有界 $\\mu$-算子的直接应用。\n    - $F(c, b) = (\\mu i < b) [\\mathrm{decode}(c, i) = 0]$。\n    - 谓词是 $P(i, c) \\equiv (\\mathrm{decode}(c, i) = 0)$。其特征函数是 $\\chi_=( \\mathrm{decode}(c,i), 0)$，这是一个 PR 函数的复合，因此是 PR 的。\n    - 如前所述，将有界 $\\mu$-算子应用于 PR 谓词会产生一个 PR 函数。因此，$F(c,b)$ 是一个原始递归函数。这完成了其 PR 性质的证明。\n\n现在我们为给定的输入 $c=525000$ 和 $b=4$ 计算 $F(c,b)$ 的值。\n函数是 $F(c,b) = (\\mu i < b) [\\mathrm{decode}(c, i) = 0]$。\n我们需要找到最小的 $i \\in \\{0, 1, 2, 3\\}$ 使得 $\\mathrm{decode}(525000, i) = 0$。\n解码基于 $c = 525000$ 的素数分解。\n$$ c = 525000 = 525 \\times 1000 = 525 \\times 10^3 $$\n$$ c = (5^2 \\times 21) \\times (2 \\times 5)^3 = (5^2 \\times 3 \\times 7) \\times (2^3 \\times 5^3) $$\n$$ c = 2^3 \\times 3^1 \\times 5^5 \\times 7^1 $$\n素数序列从 $p_0=2$, $p_1=3$, $p_2=5$, $p_3=7$ 开始。\n分量 $a_i$ 由 $a_i = \\mathrm{decode}(c,i) = \\mathrm{exp}(c,i) \\dot{-} 1$ 给出。\n\n我们检查 $i=0, 1, 2, 3$ 时的条件：\n\n- 对于 $i=0$：\n  $p_0 = 2$。$c$ 的分解中 $2$ 的指数是 $3$。\n  $\\mathrm{exp}(c, 0) = 3$。\n  $\\mathrm{decode}(c, 0) = 3 \\dot{-} 1 = 2$。这不等于 $0$。\n\n- 对于 $i=1$：\n  $p_1 = 3$。$c$ 的分解中 $3$ 的指数是 $1$。\n  $\\mathrm{exp}(c, 1) = 1$。\n  $\\mathrm{decode}(c, 1) = 1 \\dot{-} 1 = 0$。这等于 $0$。\n\n函数 $F(c,b)$ 返回满足条件的最小 $i < b$。我们发现对于 $i=1$，条件 $\\mathrm{decode}(c,i)=0$ 成立。由于 $1 < b=4$，这是一个有效的位置。因为这是从 $i=0$ 开始的第一个满足条件的整数，所以搜索终止。\n\n因此，$F(525000, 4)$ 的值是 $1$。", "answer": "$$\\boxed{1}$$", "id": "2979414"}, {"introduction": "虽然原始递归函数类非常强大，但并非所有直观上可计算的函数都是原始递归的。为了突破这一限制，我们需要引入无界最小化算子（$\\mu$-算子）。本练习要求你使用 $\\mu$-算子来定义一个函数 $f(x) = \\mu y\\,(!\\,(y) \\ge x)$，并分析其性质。[@problem_id:2979409]你将通过此例学习到如何界定一个部分递归函数的定义域，并掌握一个关键技巧：当可以为一个无界搜索确定一个原始递归的上界时，如何证明一个 $\\mu$-递归函数实际上是全函数，甚至是原始递归的。", "problem": "设 $\\mathbb{N}=\\{0,1,2,\\dots\\}$。在关于 $\\mathbb{N}$ 的可计算性和可定义性的标准框架内进行讨论，使用初始函数（零函数、后继函数、投影函数）、在复合和原始递归下的闭包，以及（无界）极小化算子 $\\mu$ 作为基本构造规则。阶乘函数采用其标准形式，由原始递归从基本原理定义：对于所有 $y\\in\\mathbb{N}$，$!\\,(0)=1$ 且 $!\\,(y+1)=(y+1)\\cdot !\\,(y)$。考虑 $\\mathbb{N}^{2}$ 上的全关系 $R(x,y)$，其定义为当且仅当 $!\\,(y)\\ge x$。\n\n通过对 $R$ 进行无界极小化，构造部分递归函数 $f$：\n$$\nf(x)=\\mu y\\,\\big(R(x,y)\\big)=\\mu y\\,\\big(!\\,(y)\\ge x\\big).\n$$\n仅从刚才陈述的基本闭包性质和定义（初始函数、复合、原始递归和极小化）出发，完成以下任务：\n\n- 严格构造证明 $R(x,y)$ 是一个通过原始递归和复合得到的全可计算谓词。\n- 通过对 $R$ 应用极小化来证明 $f$ 是部分递归的。\n- 从关于阶乘函数的基本原理出发，证明对于每个输入 $x\\in\\mathbb{N}$，都存在一个证元 $y\\in\\mathbb{N}$ 使得 $!\\,(y)\\ge x$，从而证明 $f$ 实际上是全函数。然后将其加强为一个原始递归界 $b(x)$，使得只要对于某个 $y$ 有 $R(x,y)$ 成立，那么对于某个 $y\\le b(x)$ 也会成立。利用这个界，通过有界搜索的构造，断定 $f$ 是原始递归的。\n- 精确描述 $f$ 的定义域及其发散行为。\n\n最后，计算 $f(10)$ 的精确值。将你的最终答案以单个精确整数的形式给出。无需四舍五入，也无单位。", "solution": "首先，我们将构造谓词 $R(x,y)$ 并证明它是原始递归的。如果一个谓词的特征函数是原始递归函数，则该谓词是原始递归的。我们将使用惯例，对于谓词 $P$，当 $P$ 为真时其特征函数 $\\chi_P$ 的值为 $1$，当 $P$ 为假时其值为 $0$。\n\n基本的（初始）原始递归函数是零函数 $Z(x)=0$、后继函数 $S(x)=x+1$ 和投影函数 $U_i^n(x_1, \\dots, x_n) = x_i$。新的原始递归函数是通过复合和原始递归模式从这些函数构建的。\n\n1.  **加法和乘法是原始递归的：**\n    加法，$add(a,b)=a+b$，由原始递归定义：\n    $$add(a, 0) = a = U_1^1(a)$$\n    $$add(a, b+1) = S(add(a,b)) = (S \\circ U_3^3)(a, b, add(a,b))$$\n    乘法，$mul(a,b)=a \\cdot b$，也使用加法通过原始递归定义：\n    $$mul(a, 0) = 0 = Z(a)$$\n    $$mul(a, b+1) = add(a, mul(a,b)) = (add \\circ (U_1^3, U_3^3))(a, b, mul(a,b))$$\n    因为加法是原始递归的，所以乘法也是原始递归的。\n\n2.  **阶乘函数是原始递归的：**\n    阶乘函数 $!\\,(y)$ 定义为：\n    $$!\\,(0) = 1$$\n    $$!\\,(y+1) = (y+1) \\cdot !\\,(y)$$\n    这符合单变量函数的原始递归模式 $f(0)=k$ 和 $f(y+1)=h(y, f(y))$。\n    基本情况是 $!\\,(0)=1$。常数 $1$ 可以从初始函数得到，例如，作为 $S(Z(y))$ 在 $y=0$ 处的值。\n    递归步骤由函数 $h(y,z) = (y+1) \\cdot z = mul(S(y), z)$ 定义。由于 $S$ 是一个初始函数且 $mul$ 是原始递归的，通过复合，$h(y,z) = (mul \\circ (S \\circ U_1^2, U_2^2))(y,z)$ 是原始递归的。\n    因此，阶乘函数 $!\\,(y)$ 是原始递归的。\n\n3.  **谓词 `a >= b` 是原始递归的：**\n    为了证明这一点，我们首先定义“截差”或“有界减法”函数，$a \\dot{-} b = \\max(0, a-b)$。这可以通过对 $b$ 的原始递归来定义。首先，前驱函数 $pred(y)$ 是原始递归的：$pred(0)=0$ 且 $pred(y+1)=y=U_1^2(y, pred(y))$。\n    然后，截差定义为：\n    $$a \\dot{-} 0 = a = U_1^1(a)$$\n    $$a \\dot{-} (b+1) = pred(a \\dot{-} b)$$\n    因此 $a \\dot{-} b$ 是原始递归的。\n    谓词 $a \\le b$ 的特征函数，记作 $\\chi_{\\le}(a,b)$，可以用截差表示：$\\chi_{\\le}(a,b) = 1 \\dot{-} (a \\dot{-} b)$。如果 $a \\le b$，则 $a \\dot{-} b=0$ 且 $\\chi_{\\le}(a,b)=1$。如果 $a > b$，则 $a \\dot{-} b > 0$ 且 $1 \\dot{-} (a \\dot{-} b) = 0$。由于截差是原始递归的，所以 $\\chi_{\\le}$ 是原始递归的。\n    谓词 $R(x,y)$ 是 $!\\,(y) \\ge x$，这等价于 $x \\le !\\,(y)$。其特征函数是 $\\chi_R(x,y) = \\chi_{\\le}(x, !\\,(y))$。\n    这是原始递归函数的复合：$\\chi_R(x,y) = (\\chi_{\\le} \\circ (U_1^2, ! \\circ U_2^2))(x,y)$。\n    因此，$R(x,y)$ 是一个原始递归谓词。因为所有原始递归函数都是全函数和可计算的，所以 $R(x,y)$ 是一个全可计算谓词。\n\n接下来，我们证明 $f(x)=\\mu y\\,\\big(R(x,y)\\big)$ 是部分递归的。\n部分递归函数类是包含初始函数并在复合、原始递归和无界极小化算子 $\\mu$ 下闭包的最小类。$\\mu$ 算子通常应用于函数 $g(\\vec{z}, y)$，并产生使 $g(\\vec{z}, y)=0$ 的最小 $y$。\n为了与此定义一致，我们考虑 $R(x,y)$ 的补谓词的特征函数，记作 $g(x,y)$。\n令 $g(x,y) = 1 \\dot{-} \\chi_R(x,y)$。\n由于 $\\chi_R$ 是原始递归的，且截差是原始递归的，所以 $g(x,y)$ 是一个原始递归函数。\n根据构造，$g(x,y)=0$ 当且仅当 $\\chi_R(x,y)=1$，这当且仅当 $R(x,y)$ 成立（即 $!\\,(y) \\ge x$）。\n函数 $f(x)$ 被定义为使 $R(x,y)$ 成立的最小 $y$。这恰好是 $f(x) = \\mu y \\, [g(x,y)=0]$。\n由于 $g(x,y)$ 是一个原始递归（因此是全递归）函数，通过应用 $\\mu$-算子得到的函数 $f(x)$ 根据定义是一个部分递归函数。\n\n现在，我们证明 $f$ 是一个全函数，并随后证明它是原始递归的。\n要证明 $f$ 是全函数，我们必须表明对于每个 $x \\in \\mathbb{N}$，寻找满足 $!\\,(y) \\ge x$ 的 $y$ 的过程会终止。这要求证明对于每个 $x \\in \\mathbb{N}$，至少存在一个 $y \\in \\mathbb{N}$ 满足关系 $R(x,y)$。\n让我们考虑一个任意的 $x \\in \\mathbb{N}$。\n- 如果 $x=0$，我们可以选择 $y=0$。那么 $!\\,(0)=1$，并且 $1 \\ge 0$。所以存在一个证元。\n- 如果 $x > 0$，我们可以选择 $y=x$。我们必须检查对于 $x > 0$ 是否有 $!\\,(x) \\ge x$。\n  - 对于 $x=1$，$!\\,(1)=1 \\ge 1$。\n  - 对于 $x \\ge 2$，阶乘 $!\\,(x)$ 是一个乘积 $x \\cdot (x-1) \\cdot \\dots \\cdot 2 \\cdot 1$。我们可以写成 $!\\,(x) = x \\cdot (!(x-1))$。因为 $x \\ge 2$，我们有 $x-1 \\ge 1$，所以 $!(x-1) \\ge 1$。因此，$!\\,(x) = x \\cdot (!(x-1)) \\ge x \\cdot 1 = x$。\n所以，对于任何 $x \\in \\mathbb{N}$，都存在一个证元 $y$。对于 $x \\ge 1$，$y=x$ 是一个证元。\n由于对每个输入 $x$ 都存在一个证元 $y$，搜索 $\\mu y \\, [!\\,(y) \\ge x]$ 总会终止。因此，$f(x)$ 是一个全函数。\n\n为了证明 $f$ 是原始递归的，我们利用这样一个事实：如果搜索可以被一个原始递归函数所界定，那么由极小化算子定义的总函数就是原始递归的。\n如上所示，对于任何 $x \\in \\mathbb{N}$，可以找到一个证元 $y$ 使得 $y \\le x$。\n- 对于 $x=0$，$f(0)=0$，且 $0 \\le 0$。\n- 对于 $x=1$，$f(1) = \\mu y [!\\,(y) \\ge 1]$。对于 $y=0$，$!\\,(0)=1 \\ge 1$，所以 $f(1)=0$。我们有 $0 \\le 1$。\n- 对于 $x \\ge 2$，我们证明了 $!\\,(x) \\ge x$。这意味着在寻找最小 $y$ 的过程中，保证在 $y=x$ 或之前找到解。因此，$f(x) \\le x$。\n在所有情况下，对于任何 $x \\in \\mathbb{N}$，我们都有 $f(x) \\le x$。\n这意味着无界搜索可以被有界搜索替代：\n$$f(x) = \\mu y_{\\le x} \\, [!\\,(y) \\ge x]$$\n搜索界由函数 $b(x)=x$ 给出，这是恒等函数 $U_1^1(x)$，是一个初始函数，因此是原始递归的。\n在原始递归谓词上通过有界极小化定义的函数本身也是原始递归的。我们可以构造性地证明这一点。如前所述，令 $g(x,y)=1 \\dot{-} \\chi_R(x,y)$。\n那么 $f(x)$ 可以写成：\n$$f(x) = \\sum_{k=0}^{x} \\left( \\prod_{i=0}^{k} g(x,i) \\right)$$\n这个公式之所以有效，是因为当且仅当对于所有 $i \\le k$ 都有 $g(x,i)=1$ 时，乘积项 $\\prod_{i=0}^{k} g(x,i)$ 为 $1$，否则为 $0$。这个和计算了有多少个初始连续的 $y$ 值不满足条件。对于第一个满足条件的 $y$，比如说 $y_0$，$g(x, y_0)=0$，并且对于 $k \\ge y_0$ 的乘积项变为 $0$。这个和将是 $\\sum_{k=0}^{y_0-1} 1 = y_0$。\n由于 $g(x,y)$ 是原始递归的，并且原始递归函数类在有界和与有界积下是封闭的，这个构造表明 $f(x)$ 是原始递归的。\n\n定义域和发散行为的刻画：\n我们已经确定，对于每个 $x \\in \\mathbb{N}$，都存在一个 $y \\in \\mathbb{N}$ 使得 $!\\,(y) \\ge x$。这意味着极小化过程总是会终止。\n- $f$ 的定义域是所有自然数的集合, $\\mathbb{N}$。\n- 函数 $f(x)$ 是全函数，这意味着它对每个输入 $x \\in \\mathbb{N}$ 都有定义。因此，不存在使 $f(x)$ 发散的 $x$ 值。$f$ 发散的点集是空集 $\\emptyset$。\n\n最后，我们计算 $f(10)$ 的精确值。函数是 $f(x) = \\mu y \\, [!\\,(y) \\ge x]$。对于 $x=10$，我们需要找到满足 $!\\,(y) \\ge 10$ 的最小自然数 $y$。我们从 $y=0$ 开始测试 $y$ 的值：\n- 对于 $y=0$：$!\\,(0) = 1$。条件 $1 \\ge 10$ 为假。\n- 对于 $y=1$：$!\\,(1) = 1$。条件 $1 \\ge 10$ 为假。\n- 对于 $y=2$：$!\\,(2) = 2$。条件 $2 \\ge 10$ 为假。\n- 对于 $y=3$：$!\\,(3) = 6$。条件 $6 \\ge 10$ 为假。\n- 对于 $y=4$：$!\\,(4) = 24$。条件 $24 \\ge 10$ 为真。\n由于 $y=4$ 是使条件成立的最小自然数，我们得到 $f(10)=4$。", "answer": "$$\\boxed{4}$$", "id": "2979409"}]}