{"hands_on_practices": [{"introduction": "二次型的约化理论是其算术研究的核心。对于给定的正定二次型，高斯约化算法提供了一个系统性的方法，通过一系列 $SL_2(\\mathbb{Z})$ 中的整系数线性变换，找到其等价类中一个唯一的、形式最简的代表——简约型。通过这个练习，你将亲手操作这个算法，这不仅能加深你对简约条件 $|b| \\le a \\le c$ 的理解，还能让你熟练掌握如何追踪变换矩阵，从而具体地展示两个型之间的等价关系。[@problem_id:3009152]", "problem": "设 $f(x,y)=a x^{2}+b x y+c y^{2}$ 是一个整系数二元二次型，其判别式为 $D=b^{2}-4 a c$。如果存在一个属于 $2 \\times 2$ 整矩阵的特殊线性群 $\\mathrm{SL}_{2}(\\mathbb{Z})$ 的矩阵 $M$，使得 $f'=f \\circ M$（其中作用是变量代换），则称两个二次型 $f$ 和 $f'$ 等价。负判别式的二次型是正定的。一个正定二元二次型被称为简约的（或称高斯简约型），如果它满足高斯简约不等式 $|b| \\leq a \\leq c$，并且在 $|b|=a$ 或 $a=c$ 的情况下，还需满足 $b \\geq 0$。从这些定义和 $\\mathrm{SL}_{2}(\\mathbb{Z})$ 在二元二次型上的变量代换作用出发，对二次型 $[a,b,c]=[7,10,4]$ 应用简约算法，确定其等价类中的简约代表型，并给出一个明确的矩阵 $M \\in \\mathrm{SL}_{2}(\\mathbb{Z})$，实现从 $[7,10,4]$ 到该简约型的等价变换 $f'=f \\circ M$。你的最终答案应按顺序将简约型的三个系数和矩阵 $M$ 的四个元素列为单行。", "solution": "该问题要求对一个给定的正定二元二次型应用高斯简约算法，并找出 $\\mathrm{SL}_{2}(\\mathbb{Z})$ 中相应的变换矩阵。\n\n初始的二元二次型为 $f(x,y) = 7x^2 + 10xy + 4y^2$，其系数可表示为 $[a, b, c] = [7, 10, 4]$。判别式为 $D = b^2 - 4ac = 10^2 - 4(7)(4) = 100 - 112 = -12$。由于 $D < 0$ 且 $a = 7 > 0$，该二次型确实是正定的。\n\n一个正定二次型 $[a, b, c]$ 被称为简约的，如果其系数满足不等式 $|b| \\leq a \\leq c$，并且在 $|b|=a$ 或 $a=c$ 的情况下，还需满足附加条件 $b \\geq 0$。\n\n简约算法使用两个来自 $\\mathrm{SL}_{2}(\\mathbb{Z})$ 的基本变换：\n$1.$ 平移矩阵 $T^k = \\begin{pmatrix} 1 & k \\\\ 0 & 1 \\end{pmatrix}$，其中 $k$ 为整数。作用 $f \\circ T^k$ 将二次型 $[a, b, c]$ 变换为 $[a, b+2ak, ak^2+bk+c]$。\n$2.$ 反演矩阵 $S = \\begin{pmatrix} 0 & -1 \\\\ 1 & 0 \\end{pmatrix}$。作用 $f \\circ S$ 将二次型 $[a, b, c]$ 变换为 $[c, -b, a]$。\n\n算法过程如下：\n步骤 A：如果 $|b| > a$，则应用变换 $T^k$ 将 $b$ 替换为 $b' = b+2ak$，使得 $|b'| \\leq a$。这可以通过选择 $k = -\\lfloor \\frac{b+a}{2a} \\rfloor$ 实现。\n步骤 B：如果 $a > c$，则应用变换 $S$。\n重复这些步骤，直到二次型满足简约条件。我们从二次型 $f_0 = [7, 10, 4]$ 开始，并跟踪总变换矩阵 $M$，初始时为单位矩阵 $M_0 = \\begin{pmatrix} 1 & 0 \\\\ 0 & 1 \\end{pmatrix}$。\n\n**迭代 1：**\n当前二次型为 $[a_0, b_0, c_0] = [7, 10, 4]$。\n我们检查简约条件。条件 $|b_0| \\leq a_0$ 不满足，因为 $|10| > 7$。\n我们必须应用一个 $T^k$ 变换。我们需要选择一个整数 $k$ 以最小化 $|b_0+2a_0k| = |10+14k|$。选择 $k=-1$ 得到新的中间系数 $b_1 = 10+14(-1) = -4$，其绝对值 $|-4|=4$ 是可能达到的最小值。\n变换为 $T^{-1} = \\begin{pmatrix} 1 & -1 \\\\ 0 & 1 \\end{pmatrix}$。\n新二次型的系数为：\n$a_1 = a_0 = 7$\n$b_1 = b_0 + 2a_0k = 10 + 2(7)(-1) = -4$\n$c_1 = a_0k^2 + b_0k + c_0 = 7(-1)^2 + 10(-1) + 4 = 7 - 10 + 4 = 1$\n因此，新的二次型是 $f_1 = [7, -4, 1]$。\n累积的变换矩阵是 $M_1 = M_0 T^{-1} = \\begin{pmatrix} 1 & 0 \\\\ 0 & 1 \\end{pmatrix} \\begin{pmatrix} 1 & -1 \\\\ 0 & 1 \\end{pmatrix} = \\begin{pmatrix} 1 & -1 \\\\ 0 & 1 \\end{pmatrix}$。\n\n**迭代 2：**\n当前二次型为 $f_1 = [7, -4, 1]$。\n我们检查条件。$|b_1|=|-4|=4 \\leq a_1=7$ 满足。但是，$a_1=7 > c_1=1$，所以条件 $a \\leq c$ 不满足。\n我们必须应用 $S$ 变换，它将 $[a,b,c]$ 映射到 $[c, -b, a]$。\n新的二次型是 $f_2 = [1, -(-4), 7] = [1, 4, 7]$。\n累积的变换矩阵是 $M_2 = M_1 S = \\begin{pmatrix} 1 & -1 \\\\ 0 & 1 \\end{pmatrix} \\begin{pmatrix} 0 & -1 \\\\ 1 & 0 \\end{pmatrix} = \\begin{pmatrix} -1 & -1 \\\\ 1 & 0 \\end{pmatrix}$。\n\n**迭代 3：**\n当前二次型为 $f_2 = [1, 4, 7]$。\n我们检查简约条件。条件 $|b_2| \\leq a_2$ 不满足，因为 $|4| > 1$。\n我们应用一个 $T^k$ 变换。我们需要选择一个整数 $k$ 使得 $|b_2 + 2a_2k| = |4+2k| \\leq a_2 = 1$。这个不等式是 $-1 \\leq 4+2k \\leq 1$，化简为 $-5 \\leq 2k \\leq -3$，即 $-2.5 \\leq k \\leq -1.5$。唯一的整数解是 $k=-2$。\n变换为 $T^{-2} = \\begin{pmatrix} 1 & -2 \\\\ 0 & 1 \\end{pmatrix}$。\n新的中间系数是 $b_3 = 4+2(1)(-2) = 0$。\n新二次型的系数为：\n$a_3 = a_2 = 1$\n$b_3 = b_2 + 2a_2k = 4 + 2(1)(-2) = 0$\n$c_3 = a_2k^2 + b_2k + c_2 = 1(-2)^2 + 4(-2) + 7 = 4 - 8 + 7 = 3$\n新的二次型是 $f_3 = [1, 0, 3]$。\n最终的变换矩阵是 $M = M_2 T^{-2} = \\begin{pmatrix} -1 & -1 \\\\ 1 & 0 \\end{pmatrix} \\begin{pmatrix} 1 & -2 \\\\ 0 & 1 \\end{pmatrix} = \\begin{pmatrix} -1 & (-1)(-2)+(-1)(1) \\\\ 1 & 1(-2)+0(1) \\end{pmatrix} = \\begin{pmatrix} -1 & 1 \\\\ 1 & -2 \\end{pmatrix}$。\n\n**最终检查：**\n当前二次型为 $[1, 0, 3]$。我们来检查它是否是简约的。\n条件是 $|b| \\leq a \\leq c$。\n我们有 $|0| \\leq 1 \\leq 3$。这是成立的。\n对于 $|b|=a$ 或 $a=c$ 的特殊条件不适用，因为 $0 \\neq 1$ 且 $1 \\neq 3$。\n因此，$[1, 0, 3]$ 是 $[7, 10, 4]$ 等价类中唯一的简约代表型。\n变换矩阵是 $M = \\begin{pmatrix} -1 & 1 \\\\ 1 & -2 \\end{pmatrix}$。其行列式为 $(-1)(-2) - (1)(1) = 2 - 1 = 1$，因此按要求 $M \\in \\mathrm{SL}_{2}(\\mathbb{Z})$。\n简约型的系数为 $[a', b', c'] = [1, 0, 3]$。\n矩阵 $M$ 的元素为 $p=-1, q=1, r=1, s=-2$。\n问题要求将简约型的系数和矩阵 $M$ 的四个元素按顺序列为单行。\n\n最终序列为 $[a', b', c', p, q, r, s] = [1, 0, 3, -1, 1, 1, -2]$。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n1 & 0 & 3 & -1 & 1 & 1 & -2\n\\end{pmatrix}\n}\n$$", "id": "3009152"}, {"introduction": "二次型的等价性可以从两个层面来理解：由 $SL_2(\\mathbb{Z})$（行列式为 $+1$）诱导的严格等价，和由 $GL_2(\\mathbb{Z})$（行列式为 $\\pm 1$）诱导的广义等价。虽然每个严格等价类仅包含一个（或在边界情况下的少数几个）简约型，但一个广义等价类可能包含多个严格等价类。这个练习将引导你探索这一精妙区别，通过构造一个行列式为 $-1$ 的变换，你将看到两个不同的简约型如何能在广义等价下相互关联，这揭示了其对偶形式的存在。[@problem_id:3009178]", "problem": "令 $f(x,y)=ax^{2}+bxy+cy^{2}$ 是一个系数为整数的本原正定二元二次型，其判别式为 $D=b^{2}-4ac<0$。整数上的二阶一般线性群 (GL$_{2}(\\mathbb{Z})$) 在二元二次型上的作用由 $f\\circ M$ 给出，其定义为 $(f\\circ M)(x,y):=f(\\alpha x+\\beta y,\\gamma x+\\delta y)$，其中 $M=\\begin{pmatrix}\\alpha & \\beta \\\\ \\gamma & \\delta\\end{pmatrix}\\in\\text{GL}_{2}(\\mathbb{Z})$。如果两个二次型在整数上的二阶特殊线性群 (SL$_{2}(\\mathbb{Z})$) 的作用下处于同一轨道，则称它们为真等价；如果在 GL$_{2}(\\mathbb{Z})$ 的作用下处于同一轨道，则称为等价。如果一个二次型满足正定型的标准简约不等式，则称该二次型是简约的。从上述基本定义出发，并且除了正定二元二次型的简约理论外不假定任何专门的定理，考虑具体形式 $[a,b,c]=[2,1,3]$，即 $f(x,y)=2x^{2}+xy+3y^{2}$。\n\n找到一个显式矩阵 $M\\in\\text{GL}_{2}(\\mathbb{Z})$，其行列式 $\\det(M)=-1$，使得 $f\\circ M$ 在 GL$_{2}(\\mathbb{Z})$ 的意义下与 $f$ 等价，但在 SL$_{2}(\\mathbb{Z})$ 的意义下与 $f$ 不真等价。运用简约理论和判别式 $D=-23$ 的简约表示的结构，证明你的选择具有所需的性质。以整数形式提供矩阵的元素。最终答案必须是显式矩阵 $M$。", "solution": "用户希望找到一个矩阵 $M$，该矩阵将一个二次型变换为一个等价但非真等价的二次型。\n\n### 步骤1：提取已知条件\n-   二元二次型：$f(x,y)=ax^{2}+bxy+cy^{2}$，本原、正定、整数系数。\n-   判别式：$D=b^{2}-4ac<0$。\n-   群作用：对于 $M=\\begin{pmatrix}\\alpha & \\beta \\\\ \\gamma & \\delta\\end{pmatrix}\\in\\text{GL}_{2}(\\mathbb{Z})$，$(f\\circ M)(x,y) := f(\\alpha x+\\beta y,\\gamma x+\\delta y)$。\n-   真等价：若存在某个 $M \\in \\text{SL}_{2}(\\mathbb{Z})$ (其中 $\\det(M)=1$) 使得 $f_2 = f_1 \\circ M$，则 $f_1, f_2$ 是真等价的。\n-   等价：若存在某个 $M \\in \\text{GL}_{2}(\\mathbb{Z})$ 使得 $f_2 = f_1 \\circ M$，则 $f_1, f_2$ 是等价的。\n-   简约型：一个正定二次型是简约的，如果它满足 $|b| \\le a \\le c$，并在边界情况（即 $|b|=a$ 或 $a=c$）下有附加条件 $b \\ge 0$。\n-   具体二次型：$f(x,y)=2x^{2}+xy+3y^{2}$，记为 $[a,b,c]=[2,1,3]$。\n\n### 步骤2：使用提取的已知条件进行验证\n该问题陈述是二元二次型理论中的一个标准练习。\n-   **科学依据：**二元二次型、$\\text{GL}_{2}(\\mathbb{Z})$ 的群作用、真等价与非真等价、以及简约理论等概念是数论中的基本课题。该问题在此框架内是完善的。\n-   **问题明确：**问题陈述清晰，要求提供一个显式矩阵并基于标准理论进行证明。它有一个确切、可验证的解。\n-   **客观性：**问题以精确的数学语言表述，没有歧义或主观内容。\n-   给定二次型 $[2,1,3]$ 的判别式是 $D=1^{2}-4(2)(3) = 1-24 = -23$。由于 $a=2 > 0$ 且 $D < 0$，该二次型确实是正定的。由于 $\\text{gcd}(2,1,3)=1$，它是本原的。问题设定是自洽的，并包含所有必要信息。\n\n### 步骤3：判断与行动\n问题是**有效的**。将提供一个解答。\n\n### 解答\n问题要求找到一个显式矩阵 $M \\in \\text{GL}_{2}(\\mathbb{Z})$，其行列式 $\\det(M)=-1$，使得二次型 $f(x,y) = 2x^{2}+xy+3y^{2}$ 与变换后的二次型 $f \\circ M$ 是等价的，但不是真等价的。\n\n设给定的二次型用其系数表示为 $f = [2,1,3]$。\n如果两个二次型 $f_1$ 和 $f_2$ 在 $\\text{GL}_{2}(\\mathbb{Z})$ 的作用下属于同一轨道，则它们是等价的。根据定义，对于任何 $M \\in \\text{GL}_{2}(\\mathbb{Z})$，二次型 $f \\circ M$ 都在 $f$ 的轨道上，因此 $f \\circ M$ 与 $f$ 等价。所以，第一个条件“$f \\circ M$ 与 $f$ 等价”对于任何 $M \\in \\text{GL}_{2}(\\mathbb{Z})$ 的选择都是满足的。\n\n问题的核心是满足第二个条件：$f \\circ M$ 必须不与 $f$ 真等价。如果两个二次型在特殊线性群 $\\text{SL}_{2}(\\mathbb{Z})$ 的作用下处于同一轨道，则它们是真等价的。\n\n为了判断两个二次型是否真等价，我们使用正定二元二次型的简约理论。一个本原正定二次型 $[a,b,c]$ 被称为简约的，如果其系数满足不等式 $|b| \\le a \\le c$。如果 $|b|=a$ 或 $a=c$，则必须满足附加条件 $b \\ge 0$。简约理论的一个关键定理指出，每个本原正定二次型的真等价类都恰好包含一个简约型，唯一的例外发生在基本域的边界上（例如，$[a,a,c]$ 在变换后与 $[a,-a,c]$ 等同），但如下文所示，这与本题无关。\n\n因此，我们的任务是找到一个行列式为 $\\det(M)=-1$ 的矩阵 $M$，使得与 $f \\circ M$ 真等价的唯一简约型不同于与 $f$ 真等价的唯一简约型。\n\n首先，我们找到与 $f = [2,1,3]$ 对应的简约型。对于这个二次型，我们有 $a=2$, $b=1$, $c=3$。我们检查简约条件：\n1.  是否 $|b| \\le a$？是， $|1| \\le 2$。\n2.  是否 $a \\le c$？是， $2 \\le 3$。\n由于 $|b| \\neq a$ 且 $a \\neq c$，不满足边界条件。因此，二次型 $f=[2,1,3]$ 本身就是一个简约型。\n\n现在，我们选择一个矩阵 $M \\in \\text{GL}_{2}(\\mathbb{Z})$，其行列式 $\\det(M)=-1$。能够产生不同二次型的最简单的此类矩阵是将 $(x,y)$ 映射到 $(x,-y)$ 的矩阵，这对应于将系数 $b$ 取反。我们选择\n$$M = \\begin{pmatrix} 1 & 0 \\\\ 0 & -1 \\end{pmatrix}$$\n该矩阵的元素为整数，且其行列式 $\\det(M) = (1)(-1) - (0)(0) = -1$，所以它属于 $\\text{GL}_{2}(\\mathbb{Z}) \\setminus \\text{SL}_{2}(\\mathbb{Z})$。\n\n我们来计算新的二次型，记为 $g$。\n$$g(x,y) = (f \\circ M)(x,y) = f(1 \\cdot x + 0 \\cdot y, 0 \\cdot x - 1 \\cdot y) = f(x,-y)$$\n代入 $f$ 的表达式：\n$$g(x,y) = 2(x)^{2} + (x)(-y) + 3(-y)^{2} = 2x^{2} - xy + 3y^{2}$$\n新的二次型是 $g = [2,-1,3]$。\n\n现在我们必须证明为什么 $g$ 与 $f$ 不真等价。我们通过找到 $g$ 的简约型来做到这一点。让我们检查 $g=[2,-1,3]$ 本身是否是简约的。对于这个二次型，我们有 $a=2$, $b=-1$, $c=3$。\n1.  是否 $|b| \\le a$？是， $|-1|=1 \\le 2$。\n2.  是否 $a \\le c$？是， $2 \\le 3$。\n同样地，不满足边界条件。因此，二次型 $g=[2,-1,3]$ 也是一个简约型。\n\n我们现在已经确定了以下事实：\n-   二次型 $f=[2,1,3]$ 是简约的。\n-   二次型 $g=[2,-1,3]$ 是简约的。\n\n根据简约的唯一性定理，由于 $f$ 和 $g$ 是判别式 $D=-23$ 的两个不同的简约型（并且它们不属于一个等价类有两个简约表示的特殊边界情况），它们必须属于不同的真等价类。\n具体来说，判别式 $D=-23$ 的简约表示的结构包括了不同的二次型 $[2,1,3]$ 和 $[2,-1,3]$。\n\n因此，$g = f \\circ M$ 与 $f$ 不是真等价的。\n\n总之，我们选择的 $M = \\begin{pmatrix} 1 & 0 \\\\ 0 & -1 \\end{pmatrix}$ 满足所有要求的条件：\n1.  $\\det(M)=-1$。\n2.  根据在 $\\text{GL}_{2}(\\mathbb{Z})$ 下的等价定义，$f \\circ M$ 与 $f$ 等价。\n3.  $f \\circ M = [2,-1,3]$ 与 $f = [2,1,3]$ 不真等价，因为它们是两个不同的简约型，从而代表了不同的真等价类。\n\n这证明了我们对 $M$ 的选择是正确的。", "answer": "$$\n\\boxed{\\begin{pmatrix} 1 & 0 \\\\ 0 & -1 \\end{pmatrix}}\n$$", "id": "3009178"}, {"introduction": "二次型理论的巅峰之作在于其等价类构成一个有限阿贝尔群——类群。这个练习是一个综合性的挑战，它将前面学习的技巧融会贯通。你将首先系统地找出给定判别式 $D=-20$ 的所有简约本原正定二次型，这些简约型正是类群中各个元素的代表。接着，你将运用狄利克雷复合律这一深刻的代数工具，计算这些元素之间的“乘法”，从而完整地构建出类群的群结构表，并揭示其作为一个抽象群的本质。[@problem_id:3009179]", "problem": "设 $D=-20$。我们研究判别式为 $D=b^{2}-4ac$ 的本原正定二元二次型 $f(x,y)=ax^{2}+bxy+cy^{2}$，以及在整数上的特殊线性群（SL$(2,\\mathbb{Z})$）作用下的真等价。如果一个二次型满足经典的简约不等式 $|b|\\leq a\\leq c$，并且当 $|b|=a$ 或 $a=c$ 时, 有 $b\\geq 0$，则称该二次型是简约的。具有固定判别式 $D$ 的此类二次型的真等价类，在 Dirichlet 复合下构成真类群，记作 $\\mathrm{Cl}(D)$。\n\n仅使用上述基本定义，按以下步骤操作：\n- 枚举出所有判别式为 $D=-20$ 的简约、本原、正定二元二次型。\n- 使用类上的 Dirichlet 复合律，明确地复合简约二次型，并将每次的结果约化为简约的代表元，从而确定 $\\mathrm{Cl}(-20)$ 的完整群律表。\n- 从你的表中，确定每个类的阶（在群论意义上）。\n\n最后，设 $S$ 表示 $\\mathrm{Cl}(-20)$ 所有元素的阶的总和。计算 $S$。提供一个精确的整数。无需四舍五入。", "solution": "问题要求我们分析判别式为 $D=-20$ 的本原正定二元二次型的真类群。我们将按照要求分四步进行分析：枚举简约二次型，通过 Dirichlet 复合确定群律表，求出每个元素的阶，最后将这些阶相加。\n\n首先，我们枚举所有判别式为 $D=b^2-4ac=-20$ 的简约、本原、正定二元二次型 $f(x,y)=ax^2+bxy+cy^2$。\n当 $D<0$ 且 $a>0$ 时，二次型是正定的。由于 $D=-20$ 是负数，我们只需要 $a$ 是一个正整数。\n当 $\\gcd(a, b, c) = 1$ 时，二次型是本原的。\n简约条件为：\n1. $|b| \\leq a \\leq c$\n2. 若 $|b|=a$ 或 $a=c$，则 $b \\geq 0$。\n\n由判别式方程，我们有 $4ac = b^2 - D = b^2 + 20$。\n由简约条件 $|b| \\leq a$，我们有 $b^2 \\leq a^2$。\n同样，$a \\leq c$ 意味着 $4a^2 \\leq 4ac$。\n代入 $4ac$ 的表达式，我们得到 $4a^2 \\leq b^2 + 20$。\n将其与 $b^2 \\leq a^2$ 结合，我们得到关于 $a$ 的不等式：\n$4a^2 \\leq a^2 + 20 \\implies 3a^2 \\leq 20 \\implies a^2 \\leq \\frac{20}{3} \\approx 6.67$。\n由于 $a$ 必须是正整数，所以 $a$ 的可能值为 $1$ 和 $2$。\n\n情况1：$a=1$。\n简约条件 $|b| \\leq a$ 意味着 $|b| \\leq 1$，所以 $b \\in \\{-1, 0, 1\\}$。\n判别式方程为 $4(1)c = b^2 + 20$，即 $4c = b^2 + 20$。\n- 若 $b=0$：$4c = 0^2 + 20 = 20 \\implies c=5$。这给出了二次型 $(1, 0, 5)$。\n  - 我们检查简约条件：$|0| \\leq 1 \\leq 5$。此条件成立。关于 $b$ 的附加条件不适用，因为 $|b| \\neq a$ 且 $a \\neq c$。\n  - 我们检查本原性：$\\gcd(1, 0, 5) = 1$。该二次型是本原的。\n  - 因此，$f_1(x,y) = x^2+5y^2$ 是一个简约二次型。\n- 若 $b=1$ 或 $b=-1$：$4c = (\\pm 1)^2 + 20 = 21$。这没有整数解 $c$。\n\n情况2：$a=2$。\n简约条件 $|b| \\leq a$ 意味着 $|b| \\leq 2$，所以 $b \\in \\{-2, -1, 0, 1, 2\\}$。\n判别式方程为 $4(2)c = b^2 + 20$，即 $8c = b^2 + 20$。为使 $c$ 为整数，$b^2+20$ 必须能被 $8$ 整除。\n- 若 $b=0$：$8c = 20$，无整数 $c$。\n- 若 $b=\\pm 1$：$8c = 1+20=21$，无整数 $c$。\n- 若 $b=\\pm 2$：$b^2=4$，所以 $8c = 4+20=24 \\implies c=3$。这给出了两种可能的二次型：$(2, 2, 3)$ 和 $(2, -2, 3)$。\n  - 对于 $(2, 2, 3)$：\n    - 检查简约性：$|2| \\leq 2 \\leq 3$。此条件成立。我们有 $|b|=a=2$ 的情况。条件要求 $b \\geq 0$。这里 $b=2$，所以条件满足。\n    - 检查本原性：$\\gcd(2, 2, 3) = 1$。该二次型是本原的。\n    - 因此，$f_2(x,y)=2x^2+2xy+3y^2$ 是一个简约二次型。\n  - 对于 $(2, -2, 3)$：\n    - 检查简约性：$|-2| \\leq 2 \\leq 3$。此条件成立。我们有 $|b|=a=2$ 的情况。条件要求 $b \\geq 0$。这里 $b=-2$，所以条件不满足。该二次型不是简约的。\n\n总共有两个判别式为 $D=-20$ 的简约、本原、正定二元二次型：\n1. $f_1 = (1, 0, 5)$，对应二次型 $x^2+5y^2$。\n2. $f_2 = (2, 2, 3)$，对应二次型 $2x^2+2xy+3y^2$。\n\n此类二次型的数量即为类数，$h(-20)=2$。类群 $\\mathrm{Cl}(-20)$ 由两个元素组成，即这两个二次型的等价类。设 $I = [f_1] = [1, 0, 5]$，$A = [f_2] = [2, 2, 3]$。对于 $D=-20 \\equiv 0 \\pmod 4$ 的主型是 $x^2 - (D/4)y^2 = x^2 - (-20/4)y^2 = x^2+5y^2$。所以，$I = [1,0,5]$ 是群的单位元。\n\n接下来，我们为 $\\mathrm{Cl}(-20) = \\{I, A\\}$ 建立群律表。一个2阶群必然同构于 $\\mathbb{Z}/2\\mathbb{Z}$。其群表必然是：\n$I \\circ I = I$\n$I \\circ A = A \\circ I = A$\n$A \\circ A = I$\n\n我们使用 Dirichlet 复合对代表二次型明确地验证复合运算 $A \\circ A = I$。我们需要将 $f_2=(2, 2, 3)$ 与自身复合。由于首项系数不互质，直接复合很困难。我们首先找到一个与 $f_2$ 真等价且首项系数与 $2$ 互质的二次型。\n我们将一个变换 $\\begin{pmatrix} \\alpha & \\beta \\\\ \\gamma & \\delta \\end{pmatrix} \\in \\mathrm{SL}(2, \\mathbb{Z})$（其中 $\\alpha\\delta-\\beta\\gamma=1$）作用于 $f_2(x,y)$。新的二次型的首项系数为 $a' = 2\\alpha^2+2\\alpha\\gamma+3\\gamma^2$。我们需要 $a'$ 是奇数，这就要求 $3\\gamma^2$ 是奇数，所以 $\\gamma$ 必须是奇数。我们选择一个简单的变换，令 $\\gamma=1$。例如，取矩阵 $\\begin{pmatrix} 0 & -1 \\\\ 1 & 0 \\end{pmatrix}$。这将 $(x,y)$ 映射到 $(-y, x)$。新的二次型是 $f_2(-y, x) = 2(-y)^2 + 2(-y)(x) + 3(x)^2 = 3x^2-2xy+2y^2$。所以，$f_2$ 真等价于 $f_2' = (3, -2, 2)$。其判别式为 $(-2)^2-4(3)(2) = 4-24=-20$，符合预期。\n\n现在我们复合 $f_2=(2, 2, 3)$ 和 $f_2'=(3, -2, 2)$。设 $(a_1,b_1,c_1)=(2,2,3)$ 和 $(a_2,b_2,c_2)=(3,-2,2)$。由于 $\\gcd(a_1, a_2) = \\gcd(2, 3) = 1$，我们可以找到一个模 $2a_1a_2=12$ 唯一的整数 $B$，使得：\n$B \\equiv b_1 \\pmod{2a_1} \\implies B \\equiv 2 \\pmod 4$\n$B \\equiv b_2 \\pmod{2a_2} \\implies B \\equiv -2 \\pmod 6$\n由第一个同余式，$B$ 可以是 $2, 6, 10, \\dots$ 或 $-2, -6, \\dots$。由第二个同余式，$B$ 可以是 $4, 10, \\dots$ 或 $-2, -8, \\dots$。一个公共解是 $B=-2$。复合后的二次型是 $(a_1 a_2, B, C) = (6, -2, C)$。\n系数 $C$ 由判别式确定：$B^2 - 4(a_1 a_2)C = D \\implies (-2)^2 - 4(6)C = -20 \\implies 4 - 24C = -20 \\implies 24C = 24 \\implies C=1$。复合得到的二次型是 $(6, -2, 1)$。\n\n这个二次型不是简约的，因为 $a=6 > c=1$。我们应用约化算法。\n1. 对 $(6, -2, 1)$ 应用变换 $\\begin{pmatrix} 0 & -1 \\\\ 1 & 0 \\end{pmatrix}$。结果是 $(1, -(-2), 6) = (1, 2, 6)$。\n2. 这个二次型不是简约的，因为对于 $a=1, b=2$，我们有 $|b| > a$。我们对 $(1, 2, 6)$ 应用变换 $\\begin{pmatrix} 1 & k \\\\ 0 & 1 \\end{pmatrix}$，选择一个整数 $k$ 来最小化 $|b+2ak| = |2+2(1)k|$。选择 $k=-1$ 使得 $|2-2|=0$。新的系数是：\n   $a' = a = 1$\n   $b' = b+2ak = 2+2(1)(-1) = 0$\n   $c' = ak^2+bk+c = 1(-1)^2 + 2(-1) + 6 = 1-2+6 = 5$。\n得到的二次型是 $(1, 0, 5)$。如前所示，这个二次型是简约的。\n因此，$[f_2]$ 与自身的复合产生 $[f_1]$，这证实了 $A \\circ A = I$。群表如下：\n\\begin{center}\n\\begin{tabular}{c|cc}\n$\\circ$ & $I$ & $A$ \\\\\n\\hline\n$I$ & $I$ & $A$ \\\\\n$A$ & $A$ & $I$ \\\\\n\\end{tabular}\n\\end{center}\n\n接下来，我们确定每个类的群论阶。\n一个元素的阶是使其 $n$ 次幂等于单位元的最小正整数 $n$。\n- 类 $I=[1, 0, 5]$是单位元，所以它的阶是 $1$。\n- 对于类 $A=[2, 2, 3]$，我们有 $A^1 = A \\neq I$ 和 $A^2 = A \\circ A = I$。所以，$A$ 的阶是 $2$。\n\n最后，我们计算 $S$，即 $\\mathrm{Cl}(-20)$ 中所有元素的阶的总和。\n元素是 $I$ 和 $A$。它们的阶是 $\\mathrm{ord}(I)=1$ 和 $\\mathrm{ord}(A)=2$。\n阶的总和是 $S = \\mathrm{ord}(I) + \\mathrm{ord}(A) = 1 + 2 = 3$。", "answer": "$$\\boxed{3}$$", "id": "3009179"}]}