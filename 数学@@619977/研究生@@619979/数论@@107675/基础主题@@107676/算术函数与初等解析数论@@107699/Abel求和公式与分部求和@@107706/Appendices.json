{"hands_on_practices": [{"introduction": "我们的第一个练习旨在掌握阿贝尔求和法的核心技巧，这可以被看作是“离散形式的分部积分法”。我们将从处理最常见且重要的权重函数——对数函数 $\\ln n$ 开始。通过这个练习 [@problem_id:3007014]，你将学会如何将一个带有对数权重的复杂求和 $\\sum a_n \\ln n$ 转换成一个涉及其更简单的求和函数 $A(x) = \\sum a_n$ 的积分，这是数论中进行渐近分析的基石。", "problem": "设 $\\{a_{n}\\}_{n \\geq 1}$ 为一个复数序列，并对实数 $x \\geq 1$ 定义右连续阶梯函数 $A(x)$ 为 $A(x) := \\sum_{n \\leq x} a_{n}$，使得 $A$ 在每个整数 $n$ 处有大小为 $a_{n}$ 的跳跃。对实数 $x \\geq 1$ 定义 $S(x) := \\sum_{n \\leq x} a_{n} \\ln n$。\n\n从基本恒等式 $a_{n} = A(n) - A(n-1)$ 和对于连续可微函数 $\\varphi$ 的 $\\int_{n}^{n+1} \\varphi'(t)\\,dt = \\varphi(n+1) - \\varphi(n)$ 出发，使用分部求和法（也称为 Abel 求和法），在 $\\varphi(t) = \\ln t$ 的情况下，推导一个用 $A(x)$ 以及一个包含 $A(t)$ 和 $\\varphi'(t)$ 的积分来表示 $S(x)$ 的精确恒等式。然后，假设存在常数 $c \\in \\mathbb{C}$，$\\alpha > 0$ 和 $\\delta > 0$ 使得\n$$\nA(t) = c\\,t^{\\alpha} + O(t^{\\alpha - \\delta}) \\quad \\text{当 } t \\to \\infty \\text{ 时，}\n$$\n对 $t \\in [1,x]$ 一致成立。使用你推导出的恒等式，提取 $S(x)$ 在 $x \\to \\infty$ 时的渐近展开式中的前两个非零项。将这两个主项以单一闭式解析表达式的形式作为最终答案。", "solution": "用户未提供解法。此解法由 AI 根据对问题的理解生成。以下是 AI 的推理过程。\n\n*   **目标：** 在给定 $A(x) = \\sum_{n \\leq x} a_n$ 的渐近形式的情况下，求 $S(x) = \\sum_{n \\leq x} a_n \\ln n$ 渐近展开式的前两项。\n*   **方法：** 使用分部求和法（Abel 求和法）。\n*   **步骤 1：推导 $S(x)$ 的精确恒等式。**\n    设 $\\varphi(t) = \\ln t$，则 $\\varphi'(t) = 1/t$。\n    设 $N = \\lfloor x \\rfloor$。\n    $$\n    \\begin{aligned}\n    S(x) &= \\sum_{n=1}^{N} a_n \\ln n \\\\\n    &= \\sum_{n=1}^{N} (A(n) - A(n-1)) \\ln n \\quad (\\text{其中 } A(0) = 0) \\\\\n    &= \\sum_{n=1}^{N} A(n) \\ln n - \\sum_{n=1}^{N} A(n-1) \\ln n \\\\\n    &= \\sum_{n=1}^{N} A(n) \\ln n - \\sum_{k=0}^{N-1} A(k) \\ln(k+1) \\\\\n    &= A(N) \\ln N - A(0)\\ln(1) + \\sum_{n=1}^{N-1} A(n) \\ln n - \\sum_{n=1}^{N-1} A(n) \\ln(n+1) \\\\\n    &= A(N) \\ln N - \\sum_{n=1}^{N-1} A(n) (\\ln(n+1) - \\ln n) \\\\\n    \\end{aligned}\n    $$\n    我们知道 $\\ln(n+1) - \\ln n = \\int_n^{n+1} \\frac{1}{t} dt$。\n    所以，该和式变为\n    $$\n    \\sum_{n=1}^{N-1} A(n) \\int_n^{n+1} \\frac{1}{t} dt\n    $$\n    由于当 $t \\in [n, n+1)$时 $A(t) = A(n)$，我们可以将其写作\n    $$\n    \\sum_{n=1}^{N-1} \\int_n^{n+1} \\frac{A(t)}{t} dt = \\int_1^{N} \\frac{A(t)}{t} dt\n    $$\n    因此，$S(N) = A(N) \\ln N - \\int_1^{N} \\frac{A(t)}{t} dt$。\n    由于当 $x \\in [N, N+1)$时 $S(x) = S(N)$ 且 $A(x) = A(N)$，我们可以写作\n    $$\n    S(x) = A(x) \\ln N - \\int_1^{N} \\frac{A(t)}{t} dt\n    $$\n    为了得到用 $x$ 表示的表达式，注意到 $A(x) \\ln x = A(N) \\ln x$ 以及 $\\int_N^x \\frac{A(t)}{t} dt = \\int_N^x \\frac{A(N)}{t} dt = A(N) (\\ln x - \\ln N)$。\n    所以 $A(N) \\ln N = A(x) \\ln x - A(x)(\\ln x - \\ln N) = A(x) \\ln x - \\int_N^x \\frac{A(t)}{t} dt$。\n    将此代回可得\n    $$\n    S(x) = \\left( A(x)\\ln x - \\int_N^x \\frac{A(t)}{t} dt \\right) - \\int_1^N \\frac{A(t)}{t} dt = A(x) \\ln x - \\int_1^x \\frac{A(t)}{t} dt\n    $$\n    这就是本情形下著名的 Abel 求和公式。\n\n*   **步骤 2：代入 $A(t)$ 的渐近公式并进行积分。**\n    给定 $A(t) = c t^{\\alpha} + O(t^{\\alpha-\\delta})$。我们将误差项记为 $R(t) = O(t^{\\alpha-\\delta})$。\n    因此，对于某个常数 $K > 0$ 和 $t \\geq 1$，有 $|R(t)| \\leq K t^{\\alpha-\\delta}$。\n    $$\n    S(x) = A(x) \\ln x - \\int_1^x \\frac{c t^{\\alpha} + R(t)}{t} dt\n    $$\n    同样也代入外部的 $A(x)$：\n    $$\n    S(x) = (c x^{\\alpha} + R(x)) \\ln x - \\int_1^x c t^{\\alpha-1} dt - \\int_1^x \\frac{R(t)}{t} dt\n    $$\n    我们来计算主积分部分：\n    $$\n    \\int_1^x c t^{\\alpha-1} dt = c \\left[ \\frac{t^{\\alpha}}{\\alpha} \\right]_1^x = c \\left( \\frac{x^{\\alpha}}{\\alpha} - \\frac{1}{\\alpha} \\right) = \\frac{c}{\\alpha} x^{\\alpha} - \\frac{c}{\\alpha}\n    $$\n    所以，\n    $$\n    S(x) = c x^{\\alpha} \\ln x + R(x) \\ln x - \\left( \\frac{c}{\\alpha} x^{\\alpha} - \\frac{c}{\\alpha} \\right) - \\int_1^x \\frac{R(t)}{t} dt\n    $$\n    按量级对各项进行分组：\n    $$\n    S(x) = c x^{\\alpha} \\ln x - \\frac{c}{\\alpha} x^{\\alpha} + \\frac{c}{\\alpha} + R(x) \\ln x - \\int_1^x \\frac{R(t)}{t} dt\n    $$\n\n*   **步骤 3：分析误差项。**\n    主部是 $c x^{\\alpha} \\ln x - \\frac{c}{\\alpha} x^{\\alpha}$。剩下的项是误差项。\n    1.  常数项：$\\frac{c}{\\alpha}$，即 $O(1)$。\n    2.  $R(x) \\ln x = O(x^{\\alpha-\\delta}) \\ln x$。由于 $\\delta > 0$，此项比任何 $x^{\\alpha}$ 阶的项都小。具体来说，$O(x^{\\alpha-\\delta} \\ln x) = o(x^{\\alpha})$。\n    3.  误差项的积分：\n        $$\n        \\left| \\int_1^x \\frac{R(t)}{t} dt \\right| \\leq \\int_1^x \\frac{|R(t)|}{t} dt \\leq \\int_1^x \\frac{K t^{\\alpha-\\delta}}{t} dt = K \\int_1^x t^{\\alpha-\\delta-1} dt\n        $$\n        如果 $\\alpha - \\delta \\neq 0$，则积分为 $K \\left[ \\frac{t^{\\alpha-\\delta}}{\\alpha-\\delta} \\right]_1^x = K \\frac{x^{\\alpha-\\delta} - 1}{\\alpha-\\delta} = O(x^{\\alpha-\\delta})$。\n        如果 $\\alpha - \\delta = 0$，则积分为 $K \\int_1^x t^{-1} dt = K \\ln x = O(\\ln x)$。\n        在两种情况下，该积分均为 $O(x^{\\alpha-\\delta})$ 或 $O(\\ln x)$，两者都为 $o(x^{\\alpha})$。\n\n    合并所有误差项：\n    误差 $= \\frac{c}{\\alpha} + O(x^{\\alpha-\\delta} \\ln x) + O(x^{\\alpha-\\delta}) + O(\\ln x) = O(x^{\\alpha-\\delta} \\ln x)$。\n    由于 $\\delta > 0$，整个误差项的阶数低于 $x^{\\alpha}$。\n\n*   **步骤 4：合并并陈述最终答案。**\n    $S(x)$ 的渐近展开式为：\n    $$\n    S(x) = c x^{\\alpha} \\ln x - \\frac{c}{\\alpha} x^{\\alpha} + O(x^{\\alpha-\\delta} \\ln x)\n    $$\n    问题要求前两个非零项。这些就是我们已经确定的两个主项。\n    最终答案是这两项的和。\n    最终答案： $c x^{\\alpha} \\ln x - \\frac{c}{\\alpha} x^{\\alpha}$", "answer": "$$\n\\boxed{c x^{\\alpha} \\ln x - \\frac{c}{\\alpha} x^{\\alpha}}\n$$", "id": "3007014"}, {"introduction": "掌握了基本技巧后，让我们将其应用于解析数论中的一个经典问题。在此练习中，我们将以著名的除数函数求和 $D(x) = \\sum_{n \\le x} d(n)$ 的渐近公式为已知条件，目标是推导出相关求和 $\\sum_{n \\le x} d(n)/n$ 的精确行为。这个过程 [@problem_id:3007023] 完美地展示了阿贝尔求和法如何将一个求和函数的信息“传递”给另一个，使我们能够在已有成果的基础上探索新的数学领域。", "problem": "令 $d(n)$ 表示 Dirichlet 除数函数，定义为整数 $n$ 的正因子的数量。令 $D(x) := \\sum_{n \\leq x} d(n)$ 并假设其经典的渐近分解为 $D(x) = x \\ln x + (2\\gamma - 1)x + \\Delta(x),$ 其中 $\\gamma$ 是欧拉-马斯刻若尼常数，其定义为 $\\gamma := \\lim_{N \\to \\infty} \\left( \\sum_{n=1}^{N} \\frac{1}{n} - \\ln N \\right),$ 而 $\\Delta(x)$ 是一个余项，满足 $\\Delta(x) = o(x)$，并且为具体起见，对于某个固定的 $\\theta \\in (0,1)$，有 $\\Delta(x) = O(x^{\\theta})$。使用第一性原理和分部求和法，推导 $S(x) := \\sum_{n \\leq x} \\frac{d(n)}{n}$ 的一个显式解析表达式，该表达式用 $x$、$\\gamma$ 和 $\\Delta$ 表示，并表达为初等函数和包含 $\\Delta$ 的积分的有限组合。您的推导必须从和与积分的基本定义和性质开始，不得假定任何分部求和的快捷公式。在您的最终表达式中，分离并确定主对数项和单对数项的精确系数。\n\n将您的最终答案表述为关于 $x$、$\\gamma$ 和 $\\Delta$ 的一个闭式解析表达式，不含不等式或误差界。无需四舍五入。", "solution": "所陈述的问题是有效的。其科学基础是解析数论的既定原理，具体涉及除数问题和分部求和的应用。该问题是适定的，所有必要的定义和条件均已提供，可以推导出唯一解。它是客观的，其术语都有正式定义。因此，我们可以开始求解。\n\n目标是找到和式 $S(x) := \\sum_{n \\leq x} \\frac{d(n)}{n}$ 的一个显式解析表达式，其中 $d(n)$ 是除数函数。根据要求，本次推导的主要工具是分部求和法，我们必须从第一性原理推导该方法。\n\n令 $\\{a_n\\}_{n=1}^{\\infty}$ 是一个复数序列，令 $f(t)$ 是在 $[1, \\infty)$ 上的一个连续可微函数。我们定义部分和函数 $A(x) := \\sum_{1 \\leq n \\leq x} a_n$。我们的目标是计算和式 $\\sum_{1 \\leq n \\leq x} a_n f(n)$。\n\n令 $N := \\lfloor x \\rfloor$ 为小于等于 $x$ 的最大整数。该和式可以写成 $\\sum_{n=1}^{N} a_n f(n)$。\n我们可以用部分和函数 $A(n)$ 来表示 $a_n$：对于 $n > 1$，有 $a_n = A(n) - A(n-1)$，且 $a_1 = A(1)$。我们还定义 $A(0) = 0$。\n将此代入和式中：\n$$ \\sum_{n=1}^{N} a_n f(n) = A(1) f(1) + \\sum_{n=2}^{N} (A(n) - A(n-1)) f(n) $$\n$$ = A(1) f(1) + \\sum_{n=2}^{N} A(n) f(n) - \\sum_{n=2}^{N} A(n-1) f(n) $$\n合并前两项并对第二个和式重新索引（令 $k = n-1$）：\n$$ \\sum_{n=1}^{N} a_n f(n) = \\sum_{n=1}^{N} A(n) f(n) - \\sum_{k=1}^{N-1} A(k) f(k+1) $$\n从第一个和式中分离出 $n=N$ 的项：\n$$ = A(N) f(N) + \\sum_{n=1}^{N-1} A(n) f(n) - \\sum_{n=1}^{N-1} A(n) f(n+1) $$\n$$ = A(N) f(N) - \\sum_{n=1}^{N-1} A(n) (f(n+1) - f(n)) $$\n由于 $f$ 是连续可微的，根据微积分基本定理，有 $f(n+1) - f(n) = \\int_{n}^{n+1} f'(t) \\, dt$。将此代入和式中：\n$$ \\sum_{n=1}^{N} a_n f(n) = A(N) f(N) - \\sum_{n=1}^{N-1} A(n) \\int_{n}^{n+1} f'(t) \\, dt $$\n部分和函数 $A(t)$ 是一个阶梯函数，在任何区间 $[n, n+1)$ 上为常数，其值为 $A(n)$。因此，对于 $t \\in [n, n+1)$，我们可以写成 $A(n) = A(t)$。这使我们能将 $A(n)$ 移入积分号内：\n$$ \\sum_{n=1}^{N-1} A(n) \\int_{n}^{n+1} f'(t) \\, dt = \\sum_{n=1}^{N-1} \\int_{n}^{n+1} A(t) f'(t) \\, dt = \\int_{1}^{N} A(t) f'(t) \\, dt $$\n于是，我们得到恒等式：\n$$ \\sum_{n=1}^{N} a_n f(n) = A(N) f(N) - \\int_{1}^{N} A(t) f'(t) \\, dt $$\n根据定义，$A(x) = A(\\lfloor x \\rfloor) = A(N)$，且和式是对 $n \\leq x$求和，这与对 $n \\leq N$ 求和是相同的。我们可以通过注意到在 $[N, x)$ 上 $A(t)$ 是常数，来将积分上限扩展到 $x$。从 $N$到 $x$ 的积分是 $\\int_N^x A(t) f'(t) dt = A(N) \\int_N^x f'(t) dt = A(N)(f(x)-f(N))$。\n因此，$\\sum_{n \\leq x} a_n f(n) = A(N)f(N) = A(x)f(x)-\\int_N^x A(t)f'(t)dt$。标准形式更直接：\n$$ \\sum_{n \\leq x} a_n f(n) = A(x) f(x) - \\int_{1}^{x} A(t) f'(t) \\, dt $$\n这就是从第一性原理推导出的 Abel 求和公式。\n\n现在，我们将此公式应用于具体问题。给定 $S(x) := \\sum_{n \\leq x} \\frac{d(n)}{n}$。\n我们确定：\n$a_n = d(n)$\n$A(x) = D(x) = \\sum_{n \\leq x} d(n)$\n$f(t) = \\frac{1}{t}$\n其导数为 $f'(t) = -\\frac{1}{t^2}$。\n\n将这些代入求和公式：\n$$ S(x) = \\sum_{n \\leq x} d(n) \\frac{1}{n} = D(x) f(x) - \\int_{1}^{x} D(t) f'(t) \\, dt $$\n$$ S(x) = D(x) \\cdot \\frac{1}{x} - \\int_{1}^{x} D(t) \\left(-\\frac{1}{t^2}\\right) dt $$\n$$ S(x) = \\frac{D(x)}{x} + \\int_{1}^{x} \\frac{D(t)}{t^2} \\, dt $$\n问题给出了 $D(x)$ 的渐近展开式：\n$$ D(x) = x \\ln x + (2\\gamma - 1)x + \\Delta(x) $$\n其中 $\\gamma$ 是欧拉-马斯刻若尼常数，$\\Delta(x)$ 是余项。\n\n我们将 $D(x)$ 的这个表达式代入 $S(x)$ 的方程中：\n第一项是：\n$$ \\frac{D(x)}{x} = \\frac{x \\ln x + (2\\gamma - 1)x + \\Delta(x)}{x} = \\ln x + 2\\gamma - 1 + \\frac{\\Delta(x)}{x} $$\n第二项是积分：\n$$ \\int_{1}^{x} \\frac{D(t)}{t^2} \\, dt = \\int_{1}^{x} \\frac{t \\ln t + (2\\gamma - 1)t + \\Delta(t)}{t^2} \\, dt $$\n我们可以将这个积分分成三部分：\n$$ \\int_{1}^{x} \\left(\\frac{\\ln t}{t} + \\frac{2\\gamma - 1}{t} + \\frac{\\Delta(t)}{t^2}\\right) dt = \\int_{1}^{x} \\frac{\\ln t}{t} \\, dt + \\int_{1}^{x} \\frac{2\\gamma - 1}{t} \\, dt + \\int_{1}^{x} \\frac{\\Delta(t)}{t^2} \\, dt $$\n我们来计算前两个积分：\n1.  对于第一个积分，令 $u = \\ln t$，则 $du = \\frac{1}{t} dt$。积分边界从 $t=1, t=x$ 变为 $u=\\ln 1 = 0, u=\\ln x$。\n    $$ \\int_{1}^{x} \\frac{\\ln t}{t} \\, dt = \\int_{0}^{\\ln x} u \\, du = \\left[ \\frac{u^2}{2} \\right]_{0}^{\\ln x} = \\frac{1}{2} (\\ln x)^2 $$\n2.  对于第二个积分：\n    $$ \\int_{1}^{x} \\frac{2\\gamma - 1}{t} \\, dt = (2\\gamma - 1) [\\ln t]_{1}^{x} = (2\\gamma - 1)(\\ln x - \\ln 1) = (2\\gamma - 1) \\ln x $$\n根据题目要求，涉及余项的第三个积分保持原样。\n$$ \\int_{1}^{x} \\frac{\\Delta(t)}{t^2} \\, dt $$\n现在，我们将所有部分组合起来，形成 $S(x)$ 的最终表达式：\n$$ S(x) = \\left( \\ln x + 2\\gamma - 1 + \\frac{\\Delta(x)}{x} \\right) + \\left( \\frac{1}{2}(\\ln x)^2 + (2\\gamma - 1)\\ln x + \\int_{1}^{x} \\frac{\\Delta(t)}{t^2} \\, dt \\right) $$\n最后，我们根据各项对 $x$ 的函数依赖性进行分组：\n- $(\\ln x)^2$ 项：$\\frac{1}{2}(\\ln x)^2$\n- $\\ln x$ 项：$\\ln x + (2\\gamma - 1)\\ln x = (1 + 2\\gamma - 1)\\ln x = 2\\gamma \\ln x$\n- 常数项：$2\\gamma - 1$\n- 涉及 $\\Delta$ 的项：$\\frac{\\Delta(x)}{x} + \\int_{1}^{x} \\frac{\\Delta(t)}{t^2} \\, dt$\n\n将这些组合起来得到完整的表达式：\n$$ S(x) = \\frac{1}{2}(\\ln x)^2 + 2\\gamma \\ln x + 2\\gamma - 1 + \\frac{\\Delta(x)}{x} + \\int_{1}^{x} \\frac{\\Delta(t)}{t^2} \\, dt $$\n按要求，我们确定主对数项和单对数项的系数。\n主对数项是 $\\frac{1}{2}(\\ln x)^2$。\n单对数项 $\\ln x$ 的系数是 $2\\gamma$。", "answer": "$$\n\\boxed{\\frac{1}{2}(\\ln x)^2 + 2\\gamma \\ln x + 2\\gamma - 1 + \\frac{\\Delta(x)}{x} + \\int_{1}^{x} \\frac{\\Delta(t)}{t^2} \\, dt}\n$$", "id": "3007023"}, {"introduction": "最后的动手实践旨在拓宽我们的视野，鼓励采用更灵活的策略来处理求和问题。我们首先将探究阿贝尔求和法如何与数论中的一个基本运算——狄利克雷卷积 (Dirichlet convolution)——相互作用。然后，我们将使用一种巧妙的组合方法（有时称为“双曲线法”）来处理同一个求和 $\\sum_{n \\le N} \\tau(n)/n$，并得出一个优美的精确封闭公式 [@problem_id:3007047]。这个练习提醒我们，在进行渐近估计之前，寻找问题背后可能存在的精确结构恒等式，往往会带来意想不到的收获。", "problem": "设 $f$ 和 $g$ 为正整数上的数论函数，它们的狄利克雷卷积定义为 $(f * g)(n) = \\sum_{ab = n} f(a) g(b)$。对任意数论函数 $h$，定义其求和函数为 $A_{h}(x) = \\sum_{n \\leq x} h(n)$，其中 $x$ 为实数且 $x \\geq 1$。考虑加权和 $S(x) = \\sum_{n \\leq x} \\frac{(f * g)(n)}{n}$。\n\n1. 从上述基本定义和分部求和法原理出发，推导一个恒等式，将 $S(x)$ 用求和函数 $A_{f * g}(x)$ 和一个其被积函数包含 $A_{f * g}(t)$ 的定积分来表示。\n\n2. 通过建立 $A_{f * g}(x)$ 关于 $f$ 和求和函数 $A_{g}$ 的表示，分析狄利克雷卷积如何影响求和函数，并仅使用定义和绝对收敛有限和的重排来证明该表示。\n\n3. 特殊化到 $f = \\mathbf{1}$ 和 $g = \\mathbf{1}$ 的情况，其中对所有正整数 $n$ 有 $\\mathbf{1}(n) = 1$，因此 $(f * g)(n)$ 是除数函数 $\\tau(n) = \\sum_{d \\mid n} 1$。对于给定的正整数 $N \\geq 1$，确定\n$$\nS(N) = \\sum_{n \\leq N} \\frac{\\tau(n)}{n}\n$$\n的一个闭式有限表达式，用经典常数或初等特殊序列来表示。你的最终答案必须是单个解析表达式，而不是不等式或方程。不要进行近似；请提供精确表达式。如果你引入任何辅助序列，请在结果陈述中明确定义它。", "solution": "我们首先回顾相关定义。对于数论函数 $f$ 和 $g$，狄利克雷卷积由下式给出\n$$\n(f * g)(n) = \\sum_{ab = n} f(a) g(b),\n$$\n对于一般的数论函数 $h$，其求和函数为\n$$\nA_{h}(x) = \\sum_{n \\leq x} h(n),\n$$\n其中 $x$ 为实数且 $x \\geq 1$。\n\n第1部分：$S(x)$ 的 Abel 求和恒等式的推导。\n\n令 $a_{n} = (f * g)(n)$ 并令 $\\varphi(n) = \\frac{1}{n}$。定义 $A(x) = \\sum_{n \\leq x} a_{n} = A_{f * g}(x)$。分部求和法（也称为 Abel 求和）原理源于分部积分的离散模拟。一种看待它的方式是通过 Riemann–Stieltjes 积分 $\\int \\varphi \\,\\mathrm{d}A$，其中 $A$ 是一个在整数 $n$ 处有大小为 $a_n$ 跳跃的阶梯函数。对于光滑函数 $\\varphi$ 和有界变差函数 $A$，\n$$\n\\sum_{n \\leq x} a_{n} \\varphi(n) = A(x) \\varphi(x) - \\int_{1}^{x} A(t) \\,\\varphi'(t) \\,\\mathrm{d}t,\n$$\n前提是 $\\varphi$ 在 $[1,x]$ 上可微，并且我们将该和式解释为 $\\varphi$ 关于 $A$ 的跳跃测度的 Stieltjes 积分。\n\n将此应用于 $\\varphi(t) = \\frac{1}{t}$，我们有 $\\varphi'(t) = -\\frac{1}{t^{2}}$。因此，\n$$\nS(x) = \\sum_{n \\leq x} \\frac{(f * g)(n)}{n}\n= A_{f * g}(x) \\cdot \\frac{1}{x} + \\int_{1}^{x} \\frac{A_{f * g}(t)}{t^{2}} \\,\\mathrm{d}t.\n$$\n这就完成了使用分部求和法以及狄利克雷卷积和求和函数的定义的推导。\n\n第2部分：卷积对求和函数 $A_{f * g}$ 的影响。\n\n我们使用狄利克雷卷积的定义来分析 $A_{f * g}(x)$：\n$$\nA_{f * g}(x) = \\sum_{n \\leq x} (f * g)(n)\n= \\sum_{n \\leq x} \\sum_{ab = n} f(a) g(b).\n$$\n通过满足 $ab \\leq x$ 的正整数对 $(a,b)$ 对二重和重新索引。然后\n$$\nA_{f * g}(x) = \\sum_{ab \\leq x} f(a) g(b).\n$$\n先按 $a$ 进行分组：\n$$\nA_{f * g}(x) = \\sum_{a \\leq x} f(a) \\sum_{b \\leq x/a} g(b)\n= \\sum_{a \\leq x} f(a) \\, A_{g}\\!\\left(\\frac{x}{a}\\right).\n$$\n这个表示是有效的，因为该和是有限的，其绝对收敛性由有限性直接保证。它展示了狄利克雷卷积如何提升为一个“扭曲”的求和卷积，其中 $A_g$ 在缩放的宗量 $x/a$ 处求值。\n\n第3部分：特殊化到 $f = \\mathbf{1}$ 和 $g = \\mathbf{1}$，并对 $S(N)$ 进行精确求值。\n\n当 $f = g = \\mathbf{1}$ 时，我们有 $(f * g)(n) = \\sum_{ab = n} 1 = \\tau(n)$，即除数函数。对于一个正整数 $N \\geq 1$，\n$$\nS(N) = \\sum_{n=1}^{N} \\frac{\\tau(n)}{n} = \\sum_{n=1}^{N} \\frac{1}{n} \\sum_{d|n} 1.\n$$\n通过交换求和顺序（令 $n=dm$），我们将对 $n$ 和 $d$ 的求和转化为对 $d$ 和 $m$ 的求和，其中 $dm \\leq N$：\n$$\nS(N) = \\sum_{dm \\leq N} \\frac{1}{dm}\n= \\sum_{d=1}^{N} \\frac{1}{d} \\sum_{m=1}^{\\lfloor N/d \\rfloor} \\frac{1}{m}.\n$$\n引入调和数 $H_{k} = \\sum_{m = 1}^{k} \\frac{1}{m}$（对于整数 $k \\geq 1$），并按照惯例记 $H_{0} = 0$。那么\n$$\n\\sum_{m \\leq N/d} \\frac{1}{m} = H_{\\lfloor N/d \\rfloor},\n$$\n因此我们得到精确的有限表达式\n$$\nS(N) = \\sum_{d = 1}^{N} \\frac{1}{d} \\, H_{\\lfloor N/d \\rfloor}.\n$$\n这是一个用调和数和取整函数表示的闭式求值，直接从狄利克雷卷积的组合结构和有限和的重排推导得出。其中没有涉及近似，并且该公式对每个整数 $N \\geq 1$ 都是精确的。\n\n我们注意到，当 $f = g = \\mathbf{1}$ 时（如第2部分所示），$A_{f * g}(x)$ 被确定为 $\\sum_{a \\leq x} \\left\\lfloor \\frac{x}{a} \\right\\rfloor$，此时该表达式与第1部分中建立的一般 Abel 求和恒等式是一致的，尽管二重和重排为用调和数表示 $S(N)$ 提供了一个更直接的精确公式。", "answer": "$$\\boxed{\\sum_{d=1}^{N} \\frac{1}{d}\\, H_{\\lfloor N/d \\rfloor}}$$", "id": "3007047"}]}