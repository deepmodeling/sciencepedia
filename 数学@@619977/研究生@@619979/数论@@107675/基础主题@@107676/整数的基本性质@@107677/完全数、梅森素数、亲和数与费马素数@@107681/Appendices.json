{"hands_on_practices": [{"introduction": "理论知识通过实践才得以鲜活。本节将深入探讨完美数与梅森素数之间的紧密联系，通过亲自实践欧几里得-欧拉定理的一个关键案例，我们将揭示为何并非所有形式为 $2^p-1$ 的数都能产生完美数。[@problem_id:3020907] 这个练习不仅锻炼了我们对梅森数因子性质的理解，还加深了我们对完美数构造条件的认识。", "problem": "设 $n$ 是奇数 $n=2^{11}-1$。基于以下基本定义和事实进行解题：素数模下的乘法单位群是循环群，费马小定理对素数成立，以及一个偶数是完全数当且仅当它具有欧几里得-欧拉 (Euclid–Euler) 形式 $2^{p-1}(2^{p}-1)$ 且 $2^{p}-1$ 是素数。请按以下步骤进行。\n\n- 从有限循环群中元素的乘法阶的定义出发，证明对于任何整除 $n$ 的奇素数 $p$，同余式 $2^{11}\\equiv 1 \\pmod{p}$ 使得 $2$ 模 $p$ 的乘法阶恰好为 $11$。并由此得出结论 $p\\equiv 1 \\pmod{11}$。\n\n- 利用 $n$ 的素数因子 $p$ 满足的同余限制 $p\\equiv 1 \\pmod{11}$，确定 $n$ 的完全素因数分解。\n\n- 解释你的因数分解对于 $p=11$ 情况下欧几里得-欧拉偶完全数刻画的意义。\n\n最后，计算欧拉函数 (Euler's totient function) $\\varphi(n)$，并将它的精确值作为最终答案。无需四舍五入。你的最终答案必须是一个整数。", "solution": "该问题要求对整数 $n=2^{11}-1$ 进行多步分析。我们首先将验证问题的陈述。\n\n### 问题验证\n\n**步骤1：提取已知条件**\n- 整数为 $n=2^{11}-1$。\n- 素数模下的乘法单位群是循环群。\n- 费马小定理对素数成立。\n- 一个偶数是完全数当且仅当它具有形式 $2^{k-1}(2^k-1)$ 且 $2^k-1$ 是一个素数。（原题中使用 $p$ 作为指数，但为避免与 $n$ 的素数因子 $p$ 混淆，我们在欧几里得-欧拉形式中使用 $k$ 作为指数）。\n- 任务1：对于任何整除 $n$ 的奇素数 $p$，证明 $2$ 模 $p$ 的乘法阶为 $11$，并得出结论 $p\\equiv 1 \\pmod{11}$。\n- 任务2：使用同余式 $p\\equiv 1 \\pmod{11}$ 求出 $n$ 的素因数分解。\n- 任务3：解释当指数为 $11$ 时，这对欧几里得-欧拉定理的意义。\n- 任务4：计算欧拉函数 (Euler's totient function) $\\varphi(n)$。\n\n**步骤2：使用提取的已知条件进行验证**\n该问题定义明确且自成一体。它基于数论中已确立的原理，包括模算术、循环群、素数和完全数的性质。其前提是事实正确的数学定理。各项任务逻辑顺序清晰，并导向一个唯一的、可验证的解。整数 $n=2^{11}-1$ 是一个具体的研究对象。没有矛盾、歧义或非科学的主张。\n\n**步骤3：结论与行动**\n问题有效。我们将继续进行解答。\n\n### 解题过程\n\n给定整数 $n = 2^{11}-1$。问题分为四个部分，我们将依次解决。\n\n**第一部分：$2$ 对于 $n$ 的素数因子 $p$ 的乘法阶**\n\n设 $p$ 是 $n=2^{11}-1$ 的一个奇素数因子。$p$ 整除 $n$ 的陈述等价于同余式 $n \\equiv 0 \\pmod{p}$，即 $2^{11}-1 \\equiv 0 \\pmod{p}$，或 $2^{11} \\equiv 1 \\pmod{p}$。\n\n一个元素 $a$ 模 $m$ 的乘法阶，记作 $\\text{ord}_m(a)$，是满足 $a^k \\equiv 1 \\pmod{m}$ 的最小正整数 $k$。这里我们关心的是 $\\text{ord}_p(2)$。设 $d = \\text{ord}_p(2)$。根据定义，$d$ 是满足 $2^d \\equiv 1 \\pmod{p}$ 的最小正整数。\n\n阶的一个基本性质指出，如果对于某个正整数 $k$ 有 $2^k \\equiv 1 \\pmod{p}$，那么阶 $d$ 必定整除 $k$。在我们的情况中，由于 $2^{11} \\equiv 1 \\pmod{p}$，所以 $d$ 必定是 $11$ 的一个因子。\n\n数字 $11$ 是一个素数，所以它唯一的正因子是 $1$ 和 $11$。因此，$d$ 必须是 $1$ 或 $11$。\n- 如果 $d=1$，那么 $2^1 \\equiv 1 \\pmod{p}$。这意味着 $p$ 整除 $2-1=1$，这对于素数 $p$ 是不可能的。\n- 因此，唯一的可能性是 $d=11$。$2$ 模 $p$ 的乘法阶恰好是 $11$。\n\n接下来，我们利用这个事实来约束 $p$。与 $p$ 互素的整数集合构成一个模 $p$ 的乘法群，记作 $(\\mathbb{Z}/p\\mathbb{Z})^\\times$，其阶为 $\\varphi(p) = p-1$。根据费马小定理，对于任何不被素数 $p$ 整除的整数 $a$，我们有 $a^{p-1} \\equiv 1 \\pmod{p}$。因为 $p$ 是一个奇素数，它不能整除 $2$，所以我们有 $2^{p-1} \\equiv 1 \\pmod{p}$。\n\n根据阶的性质，由于 $2^{p-1} \\equiv 1 \\pmod{p}$，所以 $2$ 模 $p$ 的阶（即 $11$）必须整除指数 $p-1$。\n$11$ 整除 $p-1$ 的陈述等价于同余式 $p-1 \\equiv 0 \\pmod{11}$，即 $p \\equiv 1 \\pmod{11}$。\n\n**第二部分：$n$ 的素因数分解**\n\n我们需要求出 $n = 2^{11}-1 = 2048 - 1 = 2047$ 的素数因子。\n从第一部分我们知道，$n$ 的任何素数因子 $p$ 必须满足同余式 $p \\equiv 1 \\pmod{11}$。\n我们寻找形式为 $p = 11k+1$（其中 $k$ 为正整数）的素数。\n- 当 $k=1$ 时，我们得到 $p = 11(1)+1 = 12$，不是素数。\n- 当 $k=2$ 时，我们得到 $p = 11(2)+1 = 23$，是一个素数。我们来检验 $23$ 是否是 $2047$ 的一个因子。\n$$ \\frac{2047}{23} = 89 $$\n除法是整除。我们发现 $2047 = 23 \\times 89$。\n我们必须验证这两个因子都是素数。$23$ 是素数。对于 $89$，我们检查其直到 $\\sqrt{89} \\approx 9.4$ 的素数因子。需要检查的素数是 $2$、$3$、$5$ 和 $7$。\n- $89$ 不能被 $2$ 整除（因为它是奇数）。\n- 数字和为 $8+9=17$，不能被 $3$ 整除，所以 $89$ 不能被 $3$ 整除。\n- $89$ 的结尾不是 $0$ 或 $5$，所以它不能被 $5$ 整除。\n- $89 = 12 \\times 7 + 5$，所以 $89$ 不能被 $7$ 整除。\n由于 $89$ 没有小于或等于其平方根的素数因子，所以 $89$ 是一个素数。我们也检查它是否满足同余式：$89 = 8 \\times 11 + 1$，所以 $89 \\equiv 1 \\pmod{11}$。\n$n$ 的完全素因数分解是 $n = 23 \\times 89$。\n\n**第三部分：对欧几里得-欧拉定理的意义**\n\n欧几里得-欧拉定理提供了偶完全数与梅森素数之间的一一对应关系。一个偶数是完全数当且仅当它具有形式 $2^{k-1}(2^k-1)$，其中 $2^k-1$ 是一个素数。数 $2^k-1$ 被称为梅森数，记作 $M_k$。如果 $M_k$ 是素数，它就是一个梅森素数。\n\n问题要求我们考虑指数为 $k=11$ 的情况。这对应于数 $N = 2^{11-1}(2^{11}-1) = 2^{10}(2^{11}-1)$。要使 $N$ 成为一个完全数，梅森数 $M_{11} = 2^{11}-1$ 需要是一个梅森素数。\n\n然而，在第二部分，我们求出了这个数的素因数分解：$2^{11}-1 = 2047 = 23 \\times 89$。由于 $2^{11}-1$ 是一个合数而不是素数，它不是梅森素数。\n这意味着对于指数 $k=11$，欧几里得-欧拉定理的条件未被满足。因此，数 $N = 2^{10}(2^{11}-1) = 1024 \\times 2047 = 2096128$ 不是一个完全数。\n\n**第四部分：$\\varphi(n)$ 的计算**\n\n我们需要计算 $n=2047$ 的欧拉函数 $\\varphi(n)$。欧拉函数 $\\varphi(m)$ 计算的是小于或等于给定整数 $m$ 且与 $m$ 互素的正整数的个数。\n我们有素因数分解 $n = 23 \\times 89$。\n欧拉函数的一个关键性质是它是积性函数。也就是说，如果 $\\gcd(a, b) = 1$，那么 $\\varphi(ab) = \\varphi(a)\\varphi(b)$。\n因为 $23$ 和 $89$ 是不同的素数，所以它们是互素的。因此，\n$$ \\varphi(2047) = \\varphi(23 \\times 89) = \\varphi(23) \\times \\varphi(89) $$\n对于任何素数 $p$，欧拉函数的值为 $\\varphi(p) = p-1$。\n应用这个公式，我们得到：\n- $\\varphi(23) = 23 - 1 = 22$\n- $\\varphi(89) = 89 - 1 = 88$\n\n现在，我们计算最终的乘积：\n$$ \\varphi(2047) = 22 \\times 88 $$\n$$ \\varphi(2047) = 22 \\times (80 + 8) = 22 \\times 80 + 22 \\times 8 = 1760 + 176 = 1936 $$\n$\\varphi(n)$ 的精确值是 $1936$。", "answer": "$$\\boxed{1936}$$", "id": "3020907"}, {"introduction": "从梅森素数我们转向另一族著名的数——费马数，它曾被猜想完全由素数组成。这个练习将重现数学史上的一个经典时刻，即欧拉如何通过巧妙的模运算，推翻了费马的猜想。[@problem_id:3020888] 通过这个实践，我们不仅学会一种优雅的因数分解技巧，更重要的是，体会到在数论中，一个看似成立的模式也必须经过严格的证明才能被接受。", "problem": "设 $F_{n}$ 表示第 $n$ 个费马数，其定义为 $F_{n} = 2^{2^{n}} + 1$。一个源于皮埃尔·德·费马 (Pierre de Fermat) 的经典论断是，所有 $F_{n}$ 均为素数。请在 $n = 5$ 的情况下，为此论断构造一个反例：找出一个 $F_{5}$ 的非平凡因子，并从第一性原理出发推导出其确切的互补因子。您必须从同余和指数的基本性质出发进行推导，即规则 $a \\equiv b \\pmod{m} \\Rightarrow a^{k} \\equiv b^{k} \\pmod{m}$ 和 $(ab) \\bmod m \\equiv \\big((a \\bmod m)(b \\bmod m)\\big) \\bmod m$，以及整数算术。不允许借助计算分解算法、已知因子表或未经证实的启发式方法。\n\n您的任务：\n- 找出一个整数 $d > 1$ 使得 $d$ 整除 $F_{5} = 2^{32} + 1$，方法是基于所述性质，通过精确的模运算推导出同余式 $2^{32} \\equiv -1 \\pmod{d}$，且\n- 显式地计算出互补因子 $c = \\frac{F_{5}}{d}$（作为一个整数），并验证 $F_{5} = d \\cdot c$。\n\n请以单个闭式表达式的形式提供您的最终答案，该表达式表示 $F_{5}$ 分解为两个大于 $1$ 的整数的乘积。无需四舍五入，且不包含任何单位。答案必须是单个表达式，而非等式。", "solution": "本题要求为“所有费马数 $F_{n} = 2^{2^{n}} + 1$ 均为素数”这一论断构造一个反例。具体来说，对于 $n=5$ 的情况，我们必须展示出 $F_5 = 2^{2^5} + 1 = 2^{32} + 1$ 的一个非平凡因式分解。推导过程必须基于模运算的第一性原理，并且必须显式计算出互补因子。\n\n首先，我们找出 $F_5$ 的一个非平凡因子 $d > 1$。我们必须证明 $F_5 \\equiv 0 \\pmod{d}$，这等价于证明同余式 $2^{32} \\equiv -1 \\pmod{d}$。由莱昂哈德·欧拉 (Leonhard Euler) 发现，该因子为 $d=641$。我们现在将从第一性原理出发，证明 $641$ 整除 $F_5$。\n\n整数 $641$ 可以用两种方便的形式表示：\n1.  $641 = 640 + 1 = 10 \\cdot 64 + 1 = 5 \\cdot 128 + 1 = 5 \\cdot 2^7 + 1$。\n2.  $641 = 625 + 16 = 5^4 + 2^4$。\n\n从第一种表达式，我们可以建立一个涉及 $2$ 的幂的同余式：\n$$5 \\cdot 2^7 + 1 = 641 \\implies 5 \\cdot 2^7 \\equiv -1 \\pmod{641}$$\n将此同余式两边同时取四次方，并利用性质“若 $a \\equiv b \\pmod{m}$，则 $a^k \\equiv b^k \\pmod{m}$”，可得：\n$$(5 \\cdot 2^7)^4 \\equiv (-1)^4 \\pmod{641}$$\n$$5^4 \\cdot (2^7)^4 \\equiv 1 \\pmod{641}$$\n$$5^4 \\cdot 2^{28} \\equiv 1 \\pmod{641}$$\n\n从 $641$ 的第二种表达式，我们建立另一个同余式：\n$$5^4 + 2^4 = 641 \\implies 5^4 \\equiv -2^4 \\pmod{641}$$\n\n现在，我们将这第二个结果代入第一个推导出的同余式中：\n$$(-2^4) \\cdot 2^{28} \\equiv 1 \\pmod{641}$$\n$$-2^{4+28} \\equiv 1 \\pmod{641}$$\n$$-2^{32} \\equiv 1 \\pmod{641}$$\n两边同乘以 $-1$，我们得到所求的同余式：\n$$2^{32} \\equiv -1 \\pmod{641}$$\n这证明了 $2^{32} + 1$ 是 $641$ 的倍数，因此 $d=641$ 是 $F_5$ 的一个因子。\n\n接下来，我们必须计算互补因子 $c = \\frac{F_5}{d} = \\frac{2^{32}+1}{641}$。这需要进行整数算术。首先，我们计算 $F_5$ 的具体值。\n我们知道 $2^{16} = 65536$。那么 $2^{32}$ 就是这个数的平方：\n$$2^{32} = (2^{16})^2 = (65536)^2 = 4294967296$$\n因此，第五个费马数是：\n$$F_5 = 2^{32} + 1 = 4294967296 + 1 = 4294967297$$\n现在我们进行长除法，求出整数商 $c = \\frac{4294967297}{641}$。\n\n长除法的步骤如下：\n-   $4294 \\div 641 = 6$，余数为 $4294 - 6 \\cdot 641 = 4294 - 3846 = 448$。\n-   将下一位数 $9$ 写下，得到 $4489$。$4489 \\div 641 = 7$，余数为 $4489 - 7 \\cdot 641 = 4489 - 4487 = 2$。\n-   将下一位数 $6$ 写下，得到 $26$。$26 \\div 641 = 0$，余数为 $26$。\n-   将下一位数 $7$ 写下，得到 $267$。$267 \\div 641 = 0$，余数为 $267$。\n-   将下一位数 $2$ 写下，得到 $2672$。$2672 \\div 641 = 4$，余数为 $2672 - 4 \\cdot 641 = 2672 - 2564 = 108$。\n-   将下一位数 $9$ 写下，得到 $1089$。$1089 \\div 641 = 1$，余数为 $1089 - 1 \\cdot 641 = 1089 - 641 = 448$。\n-   将最后一位数 $7$ 写下，得到 $4487$。$4487 \\div 641 = 7$，余数为 $4487 - 7 \\cdot 641 = 4487 - 4487 = 0$。\n\n此除法可以整除，所得的商即为互补因子 $c$，其值为 $6700417$。\n\n至此，我们找到了 $F_5$ 的两个非平凡因子：$d=641$ 和 $c=6700417$。两者均为大于 $1$ 的整数。其因式分解为：\n$$F_5 = 2^{32} + 1 = 4294967297 = 641 \\times 6700417$$\n这就提供了对费马论断所需的反例，该反例是依据指定的第一性原理构造出来的。", "answer": "$$\\boxed{641 \\times 6700417}$$", "id": "3020888"}, {"introduction": "在前面两个侧重于分解与验证的练习之后，最后一个实践将转向构造。我们将运用一个古老而优美的规则——塔比·伊本·库拉法则，来生成一对亲和数（Amicable Pair）。[@problem_id:3020908] 这个练习展示了数论中生成特殊整数对的构造性方法，让我们领略寻找和证明这类数论关系式的魅力，并加深对除数函数应用的理解。", "problem": "设 $s(n)$ 表示正整数 $n$ 的真因子之和，$\\sigma(n)$ 表示 $n$ 的所有正因子之和，因此 $s(n) = \\sigma(n) - n$。函数 $\\sigma$ 对互质的参数是积性的，并且对于任意素数 $p$ 和整数 $k \\geq 0$，满足 $\\sigma(p^{k}) = \\frac{p^{k+1} - 1}{p - 1}$。考虑与整数 $n \\geq 2$ 相关的以下参数：定义 $p = 3 \\cdot 2^{n} - 1$，$q = 3 \\cdot 2^{n-1} - 1$，以及 $r = 9 \\cdot 2^{2n-1} - 1$。定义 $A = 2^{n} p q$ 和 $B = 2^{n} r$。\n\n从 $s$ 和 $\\sigma$ 的定义以及 $\\sigma$ 的积性出发，推导 $\\sigma(A)$ 和 $\\sigma(B)$ 关于 $n, p, q, r$ 的表达式，并利用这些表达式确定 $s(A) = B$ 和 $s(B) = A$ 成立的条件。然后，针对 $n = 2$ 的情况，计算 $p, q, r$ 的值，直接验证它们的素性，计算 $A$ 和 $B$，并将量 $\\sigma(A) - A + \\sigma(B) - B$ 作为单个实数进行求值。最终数值不需要四舍五入，并且您必须用 LaTeX 表示所有中间和最终的数学实体。", "solution": "在尝试任何解答之前，对问题陈述进行验证。\n\n### 第1步：提取已知条件\n- $n$ 的真因子之和为 $s(n) = \\sigma(n) - n$。\n- $n$ 的所有正因子之和为 $\\sigma(n)$。\n- 函数 $\\sigma$ 对互质的参数是积性的，即如果 $\\gcd(a,b)=1$，则 $\\sigma(ab) = \\sigma(a)\\sigma(b)$。\n- 对于一个素数 $p$ 和整数 $k \\geq 0$，$\\sigma(p^{k}) = \\frac{p^{k+1} - 1}{p - 1}$。当 $k=1$ 时，这得到 $\\sigma(p) = p+1$。\n- 给定一个整数 $n \\geq 2$。\n- 三个参数根据 $n$ 定义如下：\n  - $p = 3 \\cdot 2^{n} - 1$\n  - $q = 3 \\cdot 2^{n-1} - 1$\n  - $r = 9 \\cdot 2^{2n-1} - 1$\n- 两个整数基于这些参数定义如下：\n  - $A = 2^{n} p q$\n  - $B = 2^{n} r$\n- 任务是：\n  1. 推导 $\\sigma(A)$ 和 $\\sigma(B)$ 关于 $n, p, q, r$ 的表达式。\n  2. 利用这些表达式确定 $s(A) = B$ 和 $s(B) = A$ 成立的条件。\n  3. 针对 $n=2$ 的情况：计算 $p, q, r$ 的值，验证它们的素性，计算 $A$ 和 $B$。\n  4. 对于 $n=2$，求值 $\\sigma(A) - A + \\sigma(B) - B$。\n\n### 第2步：使用提取的已知条件进行验证\n这是一个初等数论中定义明确的练习。函数 $s(n)$ 和 $\\sigma(n)$ 的定义和性质是标准的。变量 $p, q, r, A, B$ 都有明确的定义。任务在数学上是精确且可形式化的。\n\n- **科学或事实上的不健全性**：该问题基于数论的标准、既定原则。没有事实错误。\n- **不可形式化或不相关**：该问题是形式化的，直接涉及因子函数和亲和数的研究，这是数论的核心主题。\n- **不完整或矛盾的设置**：该问题是自洽的。虽然计算 $\\sigma(A)$ 和 $\\sigma(B)$ 需要 $A$ 和 $B$ 的素因子分解，但问题的结构暗示应首先假设 $p, q, r$ 是素数以推导一般关系，然后对 $n=2$ 的特定情况验证此假设。这是数论中一种标准的研究方法，并不构成缺陷。对于 $n \\geq 2$，$p, q, r$ 都是奇数，因此与 $2$ 不同。还可以证明，对于 $n \\geq 2$，$p, q, r$ 彼此也互不相同。设置是一致的。\n- **不切实际或不可行**：该问题涉及纯数学，不与物理现实接轨。所有计算都是可行的。\n- **不适定或结构不良**：该问题结构良好，从一般推导过渡到具体的数值验证。这使得解答路径清晰而唯一。\n- **伪深刻、琐碎或同义反复**：该问题是数论原理的一个非平凡应用，特别是与 Thabit ibn Qurra 生成亲和数的规则有关。它需要仔细的代数操作，并非琐碎问题。\n- **超出科学可验证性**：所有步骤和结果在数学上都是可验证的。\n\n### 第3步：结论与行动\n该问题被判定为**有效**。将提供完整解答。\n\n### 解答\n问题要求推导 $A$ 和 $B$ 构成一对亲和数的条件，然后验证这些条件并计算 $n=2$ 特定情况下的相关和。一对亲和数对 $(A,B)$ 是一对不同的正整数，使得每个数的真因子之和等于另一个数，即 $s(A) = B$ 和 $s(B) = A$。\n\n使用定义 $s(n) = \\sigma(n) - n$，亲和数对的条件可以写成：\n$\\sigma(A) - A = B$\n$\\sigma(B) - B = A$\n这两个方程等价于单一条件 $\\sigma(A) = \\sigma(B) = A+B$。\n\n首先，我们推导 $\\sigma(A)$ 和 $\\sigma(B)$ 的表达式。我们有 $A = 2^{n} p q$ 和 $B = 2^{n} r$。为了使用 $\\sigma$ 函数的积性性质，我们需要素因子是不同的。对于 $n \\ge 2$，数 $p=3 \\cdot 2^n - 1$, $q=3 \\cdot 2^{n-1} - 1$, 和 $r=9 \\cdot 2^{2n-1} - 1$ 都是奇数，因此与 $2$ 不同。如验证部分所示，它们也彼此不同。 $\\sigma$ 的通用公式的推导依赖于 $p$, $q$ 和 $r$ 都是素数的假设。\n\n让我们假设 $p$, $q$ 和 $r$ 是素数。那么 $A$ 的素因子分解是 $2^n \\cdot p \\cdot q$，$B$ 的素因子分解是 $2^n \\cdot r$。\n使用 $\\sigma$ 的积性性质，我们有：\n$\\sigma(A) = \\sigma(2^{n} p q) = \\sigma(2^{n})\\sigma(p)\\sigma(q)$\n对于一个素数 $\\pi$，$\\sigma(\\pi) = \\pi+1$。对于一个素数幂 $p^k$，$\\sigma(p^k) = \\frac{p^{k+1}-1}{p-1}$。\n所以，$\\sigma(2^{n}) = \\frac{2^{n+1}-1}{2-1} = 2^{n+1}-1$。\n$\\sigma(p) = p+1 = (3 \\cdot 2^{n} - 1) + 1 = 3 \\cdot 2^{n}$。\n$\\sigma(q) = q+1 = (3 \\cdot 2^{n-1} - 1) + 1 = 3 \\cdot 2^{n-1}$。\n将这些代入 $\\sigma(A)$ 的表达式中：\n$\\sigma(A) = (2^{n+1}-1)(3 \\cdot 2^{n})(3 \\cdot 2^{n-1}) = (2^{n+1}-1) \\cdot 9 \\cdot 2^{2n-1}$。\n\n接下来，我们计算 $\\sigma(B)$：\n$\\sigma(B) = \\sigma(2^{n} r) = \\sigma(2^{n})\\sigma(r)$。\n假设 $r$ 是素数：\n$\\sigma(r) = r+1 = (9 \\cdot 2^{2n-1} - 1) + 1 = 9 \\cdot 2^{2n-1}$。\n将此代入 $\\sigma(B)$ 的表达式中：\n$\\sigma(B) = (2^{n+1}-1)(9 \\cdot 2^{2n-1})$。\n\n所以，在 $p, q, r$ 是素数的假设下，我们发现 $\\sigma(A) = \\sigma(B) = (2^{n+1}-1) \\cdot 9 \\cdot 2^{2n-1}$。\n\n现在我们验证这个共同的值是否等于 $A+B$。\n$A+B = 2^{n}pq + 2^{n}r = 2^{n}(pq+r)$。\n让我们计算 $pq+r$ 这一项：\n$pq = (3 \\cdot 2^{n} - 1)(3 \\cdot 2^{n-1} - 1)$\n$pq = (3 \\cdot 2^{n})(3 \\cdot 2^{n-1}) - 3 \\cdot 2^{n} - 3 \\cdot 2^{n-1} + 1$\n$pq = 9 \\cdot 2^{2n-1} - 3(2 \\cdot 2^{n-1}) - 3 \\cdot 2^{n-1} + 1$\n$pq = 9 \\cdot 2^{2n-1} - 3 \\cdot 2^{n-1}(2+1) + 1$\n$pq = 9 \\cdot 2^{2n-1} - 9 \\cdot 2^{n-1} + 1$。\n现在，加上 $r$：\n$pq+r = (9 \\cdot 2^{2n-1} - 9 \\cdot 2^{n-1} + 1) + (9 \\cdot 2^{2n-1} - 1) = 18 \\cdot 2^{2n-1} - 9 \\cdot 2^{n-1}$。\n我们可以提出因子 $9 \\cdot 2^{n-1}$：\n$pq+r = 9 \\cdot 2^{n-1}(2 \\cdot 2^{n} - 1) = 9 \\cdot 2^{n-1}(2^{n+1} - 1)$。\n那么，$A+B = 2^{n}(pq+r) = 2^{n} \\cdot 9 \\cdot 2^{n-1}(2^{n+1}-1) = 9 \\cdot 2^{2n-1}(2^{n+1}-1)$。\n这正是我们为 $\\sigma(A)$ 和 $\\sigma(B)$ 找到的表达式。\n因此，$\\sigma(A) = \\sigma(B) = A+B$。\n\n$(A, B)$ 成为一对亲和数的条件是三个整数 $p = 3 \\cdot 2^{n} - 1$，$q = 3 \\cdot 2^{n-1} - 1$ 和 $r = 9 \\cdot 2^{2n-1} - 1$ 都是素数。\n\n现在，我们转到 $n=2$ 的情况。\n对于 $n=2$：\n$p = 3 \\cdot 2^{2} - 1 = 3 \\cdot 4 - 1 = 11$。\n$q = 3 \\cdot 2^{2-1} - 1 = 3 \\cdot 2 - 1 = 5$。\n$r = 9 \\cdot 2^{2 \\cdot 2 - 1} - 1 = 9 \\cdot 2^{3} - 1 = 9 \\cdot 8 - 1 = 71$。\n\n接下来，我们验证 $p, q, r$ 的素性：\n- $p=11$ 是一个素数。\n- $q=5$ 是一个素数。\n- $r=71$。要检查 $71$是否为素数，我们测试它是否能被小于等于 $\\sqrt{71} \\approx 8.4$ 的素数整除。需要测试的素数是 $2, 3, 5, 7$。\n  - $71$ 不能被 $2$ 整除（它是奇数）。\n  - 它的数字和是 $7+1=8$，不能被 $3$ 整除。\n  - 它不以 $0$ 或 $5$ 结尾，所以不能被 $5$ 整除。\n  - $71 = 7 \\cdot 10 + 1$，所以它不能被 $7$ 整除。\n  因此，$71$ 是一个素数。\n\n由于 $p=11, q=5$ 和 $r=71$ 都是素数，所以对于 $n=2$ 的情况，亲和数对的条件得到满足。\n我们计算 $n=2$ 时的 $A$ 和 $B$：\n$A = 2^{n} p q = 2^{2} \\cdot 11 \\cdot 5 = 4 \\cdot 55 = 220$。\n$B = 2^{n} r = 2^{2} \\cdot 71 = 4 \\cdot 71 = 284$。\n生成的亲和数对是 $(220, 284)$。\n\n最后的任务是计算 $n=2$ 时 $\\sigma(A) - A + \\sigma(B) - B$ 的值。\n这个表达式等价于 $s(A) + s(B)$。\n因为当 $n=2$ 时 $(A,B)$ 是一对亲和数，我们有 $s(A) = B$ 和 $s(B) = A$。\n因此，$s(A) + s(B) = B + A$。\n使用计算出的 $A$ 和 $B$ 的值：\n$A+B = 220 + 284 = 504$。\n\n另外，我们可以计算 $A=220$ 和 $B=284$ 的 $\\sigma(A)$ 和 $\\sigma(B)$。\n$A = 220 = 2^2 \\cdot 5 \\cdot 11$。\n$\\sigma(A) = \\sigma(2^2) \\sigma(5) \\sigma(11) = (\\frac{2^3-1}{2-1}) \\cdot (5+1) \\cdot (11+1) = 7 \\cdot 6 \\cdot 12 = 504$。\n$B = 284 = 2^2 \\cdot 71$。\n$\\sigma(B) = \\sigma(2^2) \\sigma(71) = (\\frac{2^3-1}{2-1}) \\cdot (71+1) = 7 \\cdot 72 = 504$。\n这个量是 $\\sigma(A) - A + \\sigma(B) - B = (504 - 220) + (504 - 284) = 284 + 220 = 504$。\n结果是一致的。\n最终数值是 $504$。", "answer": "$$\\boxed{504}$$", "id": "3020908"}]}