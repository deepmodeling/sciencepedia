{"hands_on_practices": [{"introduction": "数论工具的真正威力在于其解决具体问题的能力，例如判断一个二次同余方程是否有解。本练习将引导你运用勒让德符号的乘法性质，并结合从高斯引理和二次互反律中推导出的法则，一步步计算 $(\\frac{-10}{p})$ 的值。通过这个具体的计算过程 [@problem_id:3013383]，你将熟练掌握这些核心工具在实际问题中的应用。", "problem": "设 $p = 2029$ 是一个奇素数。考虑同余方程 $x^{2} \\equiv -10 \\pmod{p}$ 在模 $p$ 整数环中的可解性。仅使用关于乘法群 $(\\mathbb{Z}/p\\mathbb{Z})^{\\times}$ 中二次剩余的基本原理，结合基于 Gauss 引理的方法以及欧拉准则所提供的联系，精确计算 Legendre 符号 $\\left(\\frac{-10}{p}\\right)$ 的值。你的最终答案必须是一个单独的数字。不需要四舍五入。", "solution": "我们从与二次剩余及其 Legendre 符号相关的核心定义和事实开始。对于一个奇素数 $p$ 和一个整数 $a$（其中 $p \\nmid a$），Legendre 符号 $\\left(\\frac{a}{p}\\right)$ 定义为\n$$\n\\left(\\frac{a}{p}\\right) =\n\\begin{cases}\n1 & \\text{如果存在 } x \\in \\mathbb{Z} \\text{ 使得 } x^{2} \\equiv a \\pmod{p}, \\\\\n-1 & \\text{否则。}\n\\end{cases}\n$$\n欧拉准则断言\n$$\n\\left(\\frac{a}{p}\\right) \\equiv a^{\\frac{p-1}{2}} \\pmod{p},\n$$\n并且特别地，当 $p \\nmid a$ 时，有 $\\left(\\frac{a}{p}\\right) \\in \\{-1,1\\}$。Legendre 符号具有乘法性：\n$$\n\\left(\\frac{ab}{p}\\right) = \\left(\\frac{a}{p}\\right)\\left(\\frac{b}{p}\\right),\n$$\n这可以由欧拉准则通过下式得出：\n$$\n(ab)^{\\frac{p-1}{2}} \\equiv a^{\\frac{p-1}{2}} b^{\\frac{p-1}{2}} \\pmod{p}.\n$$\n\n我们的任务是计算当 $p = 2029$ 时 $\\left(\\frac{-10}{p}\\right)$ 的值。利用乘法性以及 $-1, 2, 5$ 与 $p$ 互素的性质，我们进行因式分解：\n$$\n\\left(\\frac{-10}{p}\\right) = \\left(\\frac{-1}{p}\\right)\\left(\\frac{2}{p}\\right)\\left(\\frac{5}{p}\\right).\n$$\n我们将使用 Gauss 引理来计算每一个因子，并在适当的时候使用二次互反律，二次互反律本身也可以由 Gauss 引理建立。\n\nGauss 引理陈述如下：对于奇素数 $p$ 和整数 $a$（其中 $p \\nmid a$），考虑集合 $a,2a,3a,\\dots,\\frac{p-1}{2}a$ 模 $p$ 的最小绝对剩余。令 $N(a)$ 为这些剩余中严格位于负半区间的数量，这等价于其最小正剩余大于 $\\frac{p}{2}$ 的数量。那么\n$$\n\\left(\\frac{a}{p}\\right) = (-1)^{N(a)}.\n$$\n\n1. 通过 Gauss 引理计算 $\\left(\\frac{-1}{p}\\right)$。取 $a = -1$。集合 $\\{-1,-2,\\dots,-\\frac{p-1}{2}\\}$ 的最小正剩余为 $\\{p-1,p-2,\\dots,p - \\frac{p-1}{2}\\}$，它们都大于 $\\frac{p}{2}$。因此 $N(-1) = \\frac{p-1}{2}$，于是\n$$\n\\left(\\frac{-1}{p}\\right) = (-1)^{\\frac{p-1}{2}}.\n$$\n对于 $p = 2029$，我们有 $\\frac{p-1}{2} = \\frac{2028}{2} = 1014$，这是一个偶数，所以\n$$\n\\left(\\frac{-1}{2029}\\right) = 1.\n$$\n\n2. 通过 Gauss 引理计算 $\\left(\\frac{2}{p}\\right)$。取 $a = 2$。考虑序列 $2,4,6,\\dots,2\\cdot\\frac{p-1}{2}$。一个项 $2j$ 的最小绝对剩余是 $2j$ 如果 $2j \\leq \\frac{p}{2}$（因此被计为正），而其最小绝对剩余是 $2j - p$ 如果 $2j > \\frac{p}{2}$（因此被计为负）。因此，$N(2)$ 等于满足 $1 \\leq j \\leq \\frac{p-1}{2}$ 且 $2j > \\frac{p}{2}$（即 $j > \\frac{p}{4}$）的下标 $j$ 的数量。所以\n$$\nN(2) = \\frac{p-1}{2} - \\left\\lfloor \\frac{p}{4} \\right\\rfloor.\n$$\n因此，\n$$\n\\left(\\frac{2}{p}\\right) = (-1)^{\\frac{p-1}{2} - \\left\\lfloor \\frac{p}{4} \\right\\rfloor}.\n$$\n为了确定 $N(2)$ 的奇偶性，我们将 $p$ 写成 $p = 8m + r$ 的形式，其中 $r \\in \\{1,3,5,7\\}$。那么\n$$\n\\frac{p-1}{2} = 4m + \\frac{r-1}{2}, \\quad \\left\\lfloor \\frac{p}{4} \\right\\rfloor = \\left\\lfloor 2m + \\frac{r}{4} \\right\\rfloor = 2m + \\left\\lfloor \\frac{r}{4} \\right\\rfloor.\n$$\n因此\n$$\nN(2) = (4m + \\tfrac{r-1}{2}) - \\left(2m + \\left\\lfloor \\tfrac{r}{4} \\right\\rfloor \\right) = 2m + \\left(\\tfrac{r-1}{2} - \\left\\lfloor \\tfrac{r}{4} \\right\\rfloor\\right).\n$$\n我们对这四种余数检查其奇偶性：\n- 如果 $r = 1$，那么 $N(2) = 2m + 0$ 是偶数，所以 $\\left(\\frac{2}{p}\\right) = 1$。\n- 如果 $r = 3$，那么 $N(2) = 2m + 1$ 是奇数，所以 $\\left(\\frac{2}{p}\\right) = -1$。\n- 如果 $r = 5$，那么 $N(2) = 2m + 1$ 是奇数，所以 $\\left(\\frac{2}{p}\\right) = -1$。\n- 如果 $r = 7$，那么 $N(2) = 2m + 2$ 是偶数，所以 $\\left(\\frac{2}{p}\\right) = 1$。\n总结起来，\n$$\n\\left(\\frac{2}{p}\\right) =\n\\begin{cases}\n1 & \\text{如果 } p \\equiv 1 \\text{ 或 } 7 \\pmod{8}, \\\\\n-1 & \\text{如果 } p \\equiv 3 \\text{ 或 } 5 \\pmod{8}.\n\\end{cases}\n$$\n等价地，\n$$\n\\left(\\frac{2}{p}\\right) = (-1)^{\\frac{p^{2}-1}{8}}.\n$$\n对于 $p = 2029$，我们有 $2029 \\equiv 5 \\pmod{8}$，因此\n$$\n\\left(\\frac{2}{2029}\\right) = -1.\n$$\n\n3. 使用二次互反律计算 $\\left(\\frac{5}{p}\\right)$。二次互反律可由 Gauss 引理推导得出，它陈述了对于不同的奇素数 $p$ 和 $q$，\n$$\n\\left(\\frac{p}{q}\\right)\\left(\\frac{q}{p}\\right) = (-1)^{\\frac{p-1}{2}\\cdot \\frac{q-1}{2}}.\n$$\n特别地，当 $q \\equiv 1 \\pmod{4}$ 时，符号为 $+1$，所以 $\\left(\\frac{p}{q}\\right) = \\left(\\frac{q}{p}\\right)$。由于 $5 \\equiv 1 \\pmod{4}$，我们得到\n$$\n\\left(\\frac{5}{p}\\right) = \\left(\\frac{p}{5}\\right).\n$$\n为了计算 $\\left(\\frac{p}{5}\\right)$，我们将 $p$ 模 $5$ 并与模 $5$ 的二次剩余（即 $1$ 和 $4$）进行比较。计算 $p \\bmod 5$：$2025$ 可以被 $5$ 整除，所以 $2029 \\equiv 4 \\pmod{5}$。因此\n$$\n\\left(\\frac{p}{5}\\right) = \\left(\\frac{2029}{5}\\right) = \\left(\\frac{4}{5}\\right) = 1,\n$$\n从而\n$$\n\\left(\\frac{5}{2029}\\right) = 1.\n$$\n\n综合这三个因子，\n$$\n\\left(\\frac{-10}{2029}\\right) = \\left(\\frac{-1}{2029}\\right)\\left(\\frac{2}{2029}\\right)\\left(\\frac{5}{2029}\\right) = 1 \\cdot (-1) \\cdot 1 = -1.\n$$\n根据定义来解释这个结果，同余方程 $x^{2} \\equiv -10 \\pmod{2029}$ 在 $\\mathbb{Z}/2029\\mathbb{Z}$ 中无解，且 Legendre 符号的值为 $-1$，符合要求。", "answer": "$$\\boxed{-1}$$", "id": "3013383"}, {"introduction": "深刻理解一个数学定理，不仅意味着要会应用其结论，更要明白其构造的内在逻辑和必要性。本练习 [@problem_id:3013379] 提出了一个对高斯引理貌似合理但存在缺陷的修改方案。通过辨析其中的逻辑错误，你将更深入地体会到为何高斯引理必须将求和范围限制在 $1 \\le j \\le \\frac{p-1}{2}$，以及这一限制如何巧妙地打破对称性，从而得到一个依赖于 $a$ 的非平凡计数。", "problem": "设 $p$ 是一个奇素数，且 $a \\in \\mathbb{Z}$ 满足 $\\gcd(a,p)=1$。勒让德符号 $\\left(\\frac{a}{p}\\right)$ 定义为：如果 $a$ 是模 $p$ 的二次剩余，则 $\\left(\\frac{a}{p}\\right)=1$；否则 $\\left(\\frac{a}{p}\\right)=-1$。在将 $\\left(\\frac{a}{p}\\right)$ 与一个来自乘积的符号相关联的一种标准方法中，许多证明会考虑 $j a$ 模 $p$ 的最小正剩余（其中 $1 \\le j \\le \\frac{p-1}{2}$），然后相对于阈值 $\\frac{p}{2}$ 进行奇偶性计数。\n\n一名学生转而提议将 $j$ 的取值范围扩大到完整的 $1 \\le j \\le p-1$，计算 $j a \\bmod p$ 的最小正剩余中有多少个位于开区间 $\\left(\\frac{p}{2},p\\right)$ 内，并使用这个计数的奇偶性作为 $\\left(\\frac{a}{p}\\right)$ 的代理。找出该提议中的确切逻辑错误，并选择能使该计数论证有效的最小修正。\n\n选择唯一的最佳答案。\n\nA. 在整个范围 $1 \\le j \\le p-1$ 上，$j a \\bmod p$ 的最小正剩余的多重集是 $\\{1,2,\\dots,p-1\\}$ 的一个排列，并且对于每一对 $\\{j,p-j\\}$，其对应的剩余 $r_j$ 和 $r_{p-j}$ 满足 $r_{p-j}=p-r_j$。由于 $p$ 是奇数， $r_j$ 和 $r_{p-j}$ 中恰好有一个位于 $\\left(\\frac{p}{2},p\\right)$ 内，因此所提议的计数结果总是 $\\frac{p-1}{2}$，与 $a$ 无关。因此，该方法无法区分二次剩余和非二次剩余。最小的修正是通过限制 $1 \\le j \\le \\frac{p-1}{2}$（等价于从每对 $\\{j,p-j\\}$ 中选择一个代表）来打破这种对称性，然后相对于 $\\frac{p}{2}$ 进行奇偶性计数。\n\nB. 唯一的错误是遗漏了 $j=0$。如果对 $0 \\le j \\le p-1$ 范围内的最小正剩余进行计数，并使用超过 $\\frac{p}{2}$ 的个数的奇偶性，该方法无需进一步修改即可变得有效。\n\nC. 缺陷源于阈值 $\\frac{p}{2}$ 的选择。保持 $1 \\le j \\le p-1$ 的范围，但改为计算在 $\\left(\\frac{p}{3},p\\right)$ 内的最小正剩余数量，可以为所有奇素数 $p$ 恢复其正确性。\n\nD. 该论证仅在 $p \\equiv 1 \\pmod{4}$ 时失败。当 $p \\equiv 3 \\pmod{4}$ 时，在 $1 \\le j \\le p-1$ 的范围内计数位于 $\\left(\\frac{p}{2},p\\right)$ 内的最小正剩余，确实能得到 $\\left(\\frac{a}{p}\\right)$ 的正确奇偶性。\n\nE. 不存在错误：因为乘以 $a$ 会置换模 $p$ 的非零剩余类，所以 $j a \\bmod p$ 的最小正剩余中位于 $\\left(\\frac{p}{2},p\\right)$ 内的数量取决于 $a$，因此其奇偶性可以为所有 $a$ 正确地恢复 $\\left(\\frac{a}{p}\\right)$。", "solution": "用户提供的问题陈述是有效的。这是一个在初等数论领域内基于既定数学原理的适定问题。\n\n学生的提议是通过计算在 $1 \\le j \\le p-1$ 范围内 $ja \\pmod p$ 的最小正剩余中，落入区间 $\\left(\\frac{p}{2},p\\right)$ 的数量，然后检查该计数的奇偶性来计算勒让德符号 $\\left(\\frac{a}{p}\\right)$。\n\n我们来分析这个提议。\n设 $S = \\{1, 2, \\dots, p-1\\}$。学生考虑的是最小正剩余的多重集 $R_a = \\{ (ja \\pmod p) \\mid j \\in S \\}$。\n由于 $p$ 是一个素数且 $\\gcd(a,p)=1$，映射 $x \\mapsto ax$ 是模p整数乘法群 $(\\mathbb{Z}/p\\mathbb{Z})^\\times$ 的一个自同构。$(\\mathbb{Z}/p\\mathbb{Z})^\\times$ 中元素的最小正代表集恰好是集合 $S$。\n因此，对于任何满足 $\\gcd(a,p)=1$ 的 $a$，剩余集 $R_a$ 只是集合 $S$ 的一个排列。作为集合，它们是相同的：\n$$R_a = \\{1, 2, \\dots, p-1\\}$$\n学生提议计算 $R_a$ 中位于开区间 $\\left(\\frac{p}{2}, p\\right)$ 内的元素数量。设这个数量为 $N$。由于无论 $a$ 取何值，$R_a$ 始终是集合 $\\{1, 2, \\dots, p-1\\}$，所以计数 $N$ 将与 $a$ 无关。\n\n我们来计算 $N$。满足 $1 \\le k \\le p-1$ 和 $\\frac{p}{2} < k < p$ 的整数 $k$ 是从 $\\lfloor \\frac{p}{2} \\rfloor + 1$ 到 $p-1$ 的整数。\n由于 $p$ 是一个奇素数，我们可以写成 $p = 2k_0+1$，其中 $k_0 \\ge 1$ 是某个整数。那么 $\\frac{p-1}{2} = k_0$，且 $\\frac{p}{2} = k_0 + \\frac{1}{2}$。\n条件变为 $k_0 + \\frac{1}{2} < k < 2k_0+1$。满足这个条件的整数是 $k_0+1, k_0+2, \\dots, 2k_0$。\n这些整数的数量是 $N = 2k_0 - (k_0+1) + 1 = k_0$。\n因此，计数结果总是 $N = k_0 = \\frac{p-1}{2}$。\n\n学生的方法提出 $\\left(\\frac{a}{p}\\right)$ 由 $N$ 的奇偶性给出，具体来说是 $(-1)^N = (-1)^{(p-1)/2}$。\n根据二次剩余理论，一个已知的结果是（作为二次互反律的第一补充定律的一部分）$\\left(\\frac{-1}{p}\\right) = (-1)^{(p-1)/2}$。\n所以，学生的方法计算的不是 $\\left(\\frac{a}{p}\\right)$，而是 $\\left(\\frac{-1}{p}\\right)$，这是一个与 $a$ 无关的值。对于给定的 $p$，该方法无法区分二次剩余和非二次剩余。这就是确切的逻辑错误。\n\n学生提议所类似的标准方法是高斯引理 (Gauss's Lemma)。高斯引理将 $j$ 的范围限制在 $1 \\le j \\le \\frac{p-1}{2}$。设 $m$ 是对于 $j \\in \\{1, \\dots, \\frac{p-1}{2}\\}$，$ja \\pmod p$ 的最小正剩余中大于 $\\frac{p}{2}$ 的个数。那么高斯引理指出 $\\left(\\frac{a}{p}\\right) = (-1)^m$。与学生的计数 $N$ 不同，计数 $m$ *确实* 依赖于 $a$。学生方法失败的原因是其对称的范围 $1 \\le j \\le p-1$。对于任何 $j_0 \\in \\{1, \\dots, p-1\\}$，设 $r_{j_0}$ 是 $j_0 a \\pmod p$ 的最小正剩余。那么对于 $j = p - j_0$，其剩余为 $(p-j_0)a \\pmod p \\equiv -j_0 a \\pmod p$，其最小正剩余为 $p-r_{j_0}$。对于 $j=1, \\dots, p-1$，剩余集 $\\{r_j\\}$ 由成对的 $(r_{j_0}, p-r_{j_0})$ 组成。由于 $p$ 是奇数，$p/2$ 不是整数。对于任何一对 $(r, p-r)$，恰好有一个元素在区间 $\\left(\\frac{p}{2}, p\\right)$ 内。这样的下标对 $\\{j_0, p-j_0\\}$ 有 $\\frac{p-1}{2}$ 对，所以总计数总是 $\\frac{p-1}{2}$。将 $j$ 限制在 $1 \\le j \\le \\frac{p-1}{2}$ 会打破这种对称性，从而得到一个依赖于 $a$ 的计数。\n\n现在，我们来评估每个选项。\n\nA. 该选项正确地指出剩余集是 $\\{1, 2, \\dots, p-1\\}$ 的一个排列。它正确地识别了对称性：对于每一对下标 $\\{j, p-j\\}$，其剩余为 $r_j$ 和 $p-r_j$。它正确地推断出这意味着这两个剩余中恰好有一个在 $\\left(\\frac{p}{2}, p\\right)$ 内。它正确地推导出总计数因此总是 $\\frac{p-1}{2}$，与 $a$ 无关，这是核心错误。然后，它正确地指出了最小的修正方法：将 $j$ 的范围限制在 $1 \\le j \\le \\frac{p-1}{2}$，这打破了对称性，并将有缺陷的论证转变为高斯引理。这个选项是一个完整而准确的分析。这是**正确的**。\n\nB. 此选项建议包含 $j=0$。乘积 $0 \\cdot a = 0$，所以剩余是 $0$。数字 $0$ 不在区间 $\\left(\\frac{p}{2}, p\\right)$ 内。加入这一项不会改变该区间内剩余的数量。总数仍将是 $\\frac{p-1}{2}$，并且该方法仍然与 $a$ 无关。这是**不正确的**。\n\nC. 此选项建议将阈值从 $\\frac{p}{2}$ 更改为 $\\frac{p}{3}$。如初始分析所示，要计数的剩余集始终是 $\\{1, 2, \\dots, p-1\\}$。计算其中有多少落入 $\\left(\\frac{p}{3}, p\\right)$ 会得到一个数量 $(p-1) - \\lfloor\\frac{p}{3}\\rfloor$。这个数字同样与 $a$ 无关。使用完整范围 $1 \\le j \\le p-1$ 的根本缺陷没有得到解决。这是**不正确的**。\n\nD. 此选项声称该论证仅在 $p \\equiv 1 \\pmod{4}$ 时失败。如前所推导，学生的方法总是得到 $(-1)^{(p-1)/2}$。如果 $p \\equiv 3 \\pmod{4}$，那么 $\\frac{p-1}{2}$ 是奇数，所以该方法的结果总是 $-1$。然而，对于任何素数 $p$，都存在二次剩余 $a$ 使得 $\\left(\\frac{a}{p}\\right)=1$（例如，$a=1$）。因此，该方法对于 $p \\equiv 3 \\pmod{4}$ 的情况同样失败，就像它对于 $p \\equiv 1 \\pmod{4}$ 的情况失败一样。该说法是错误的。这是**不正确的**。\n\nE. 此选项声称没有错误。这显然是错误的。它正确地注意到乘以 $a$ 会置换剩余类，但得出了错误的结论，即计数必须因此依赖于 $a$。被置换的元素集合是固定的，因此具有某个属性（大于 $\\frac{p}{2}$）的元素数量与具体的置换无关。这是**不正确的**。\n\n唯一正确识别错误、解释其来源并提出正确最小修正的选项是A。", "answer": "$$\\boxed{A}$$", "id": "3013379"}, {"introduction": "最优雅的数学证明往往在关键步骤上蕴含着精妙的思想。本练习 [@problem_id:3013401] 聚焦于高斯引理的经典证明过程，探讨其如何巧妙地避免了对模逆元的显式计算。通过分析这一过程，你将领会到先处理整数间的精确等式，再利用互质性在模运算中进行“约分”的强大威力，从而加深对证明背后代数技巧的理解。", "problem": "设 $p$ 是一个奇素数， $a$ 是一个与 $p$ 互素的整数，即 $\\gcd(a,p)=1$。对于每个 $m \\in \\{1,2,\\dots,(p-1)/2\\}$，定义 $r_m$ 是与 $a m \\pmod{p}$ 同余的唯一整数，且该整数位于有符号区间 $\\{-\\frac{p-1}{2}, -\\frac{p-1}{2}+1, \\dots, \\frac{p-1}{2}-1, \\frac{p-1}{2}\\}$ 中。设 $N$ 表示使得 $r_m < 0$ 的下标 $m$ 的数量。勒让德符号 $\\left(\\frac{a}{p}\\right)$ 定义为：如果存在一个整数 $x$ 使得 $x^2 \\equiv a \\pmod{p}$，则 $\\left(\\frac{a}{p}\\right)=1$；否则 $\\left(\\frac{a}{p}\\right)=-1$。\n\n在应用带有符号代表元的 Gauss 引理，以将集合 $\\{r_m\\}$ 的符号模式与模 $p$ 的二次剩余性质联系起来时，以下哪个解释正确地指出了如何避免任何对模逆元的显式使用？\n\nA. 观察到整数 $|r_m|$ 构成了 $\\{1,2,\\dots,(p-1)/2\\}$ 的一个排列，因此作为整数的精确等式，有 $\\prod_{m=1}^{(p-1)/2} r_m$ 等于 $(-1)^N \\cdot \\left(\\frac{p-1}{2}\\right)!$。另一方面，每个 $r_m \\equiv a m \\pmod{p}$，所以 $\\prod_{m=1}^{(p-1)/2} r_m \\equiv a^{(p-1)/2} \\cdot \\left(\\frac{p-1}{2}\\right)! \\pmod{p}$。结合这两者可得 $\\left(\\frac{p-1}{2}\\right)! \\cdot \\big(a^{(p-1)/2} - (-1)^N\\big) \\equiv 0 \\pmod{p}$。由于 $\\gcd\\!\\left(\\left(\\frac{p-1}{2}\\right)!,p\\right)=1$，根据基于互素性的消去法则（而非计算模逆元），可以得出 $a^{(p-1)/2} - (-1)^N$ 能被 $p$ 整除，这通过 Gauss 引理将符号计数 $N$ 与二次剩余性质联系起来。\n\nB. 使用 Wilson 定理将 $\\left(\\frac{p-1}{2}\\right)!$ 替换为 $-1 \\pmod{p}$，这允许在关于 $\\prod r_m$ 的同余式中立即消去 $\\left(\\frac{p-1}{2}\\right)!$，并无需任何进一步的论证就直接得出所需关系。\n\nC. 因为乘以 $a$ 会排列剩余类，所以带符号的约化会消除所有负值，因此作为整数，$\\prod_{m=1}^{(p-1)/2} r_m$ 等于 $\\left(\\frac{p-1}{2}\\right)!$，这使得该关系与 $a$ 无关，并避免了对模逆元的任何需求。\n\nD. 考虑对称集 $\\left\\{-\\frac{p-1}{2},\\dots,\\frac{p-1}{2}\\right\\}$，并注意乘以 $a$ 会在像中产生正负对；因此，要将符号模式与二次剩余性质联系起来，必须逐个计算 $r_m$ 的模逆元，以便在乘积同余式中消去项。\n\nE. 应该用 $\\prod_{m=1}^{(p-1)/2} m$ 的模逆元去除同余式 $\\prod_{m=1}^{(p-1)/2} r_m \\equiv a^{(p-1)/2} \\cdot \\prod_{m=1}^{(p-1)/2} m \\pmod{p}$，以分离出 $a^{(p-1)/2}$，因为每个小于 $p$ 的整数都存在模 $p$ 的逆元；这个除法步骤对于避免处理代表元中的符号至关重要。", "solution": "我们从第一性原理开始。勒让德符号 $\\left(\\frac{a}{p}\\right)$ 是为奇素数 $p$ 和与 $p$ 互素的整数 $a$ 定义的：如果 $a$ 是模 $p$ 的二次剩余，则 $\\left(\\frac{a}{p}\\right)=1$；否则 $\\left(\\frac{a}{p}\\right)=-1$。Gauss 引理指出，如果考虑集合 $\\{a,2a,\\dots, ((p-1)/2)a\\}$ 模 $p$，并将每个元素约化到其在有符号区间 $\\left\\{-\\frac{p-1}{2},\\dots,\\frac{p-1}{2}\\right\\}$ 中的唯一代表元，那么负代表元的数量 $N$ 满足 $\\left(\\frac{a}{p}\\right)=(-1)^N$。\n\n提出的目标是解释在使用带符号代表元进行 Gauss 引理的推导时，如何避免对模逆元的任何显式计算。关键步骤依赖于两个基本事实：\n\n1. 因为 $\\gcd(a,p)=1$，所以乘以 $a$ 会导出一个模 $p$ 的非零剩余类的排列。\n\n2. 如果 $x y \\equiv 0 \\pmod{p}$ 且 $\\gcd(x,p)=1$，则 $y \\equiv 0 \\pmod{p}$。这直接源于同余和互素的定义：$x y \\equiv 0 \\pmod{p}$ 意味着 $p$ 整除 $x y$；如果 $p$ 不整除 $x$，那么 $p$ 必须整除 $y$，因此 $y \\equiv 0 \\pmod{p}$。这里没有显式计算模逆元。\n\n现在我们用带符号的代表元来进行乘积论证。对于每个 $m \\in \\{1,2,\\dots,(p-1)/2\\}$，设 $r_m$ 是 $a m \\pmod{p}$ 的唯一带符号代表元，满足 $|r_m| \\leq \\frac{p-1}{2}$。考虑绝对值集合 $\\{|r_m|\\}$。如果 $|r_{m_1}|=|r_{m_2}|$，则有 $a m_1 \\equiv \\pm a m_2 \\pmod{p}$，因此 $a(m_1 \\mp m_2) \\equiv 0 \\pmod{p}$。由于 $\\gcd(a,p)=1$，这意味着 $m_1 \\equiv \\pm m_2 \\pmod{p}$。但在 $1 \\leq m_1,m_2 \\leq \\frac{p-1}{2}$ 的条件下，$m_1 \\equiv m_2 \\pmod{p}$ 会迫使 $m_1=m_2$，而 $m_1 \\equiv -m_2 \\pmod{p}$ 会迫使 $m_1+m_2 \\equiv 0 \\pmod{p}$，这是不可能的，因为 $m_1+m_2 \\leq p-1$。因此，多重集 $\\{|r_m| : 1 \\le m \\le (p-1)/2\\}$ 是 $\\{1,2,\\dots,(p-1)/2\\}$ 的一个排列。\n\n设 $N$ 是负的 $r_m$ 的数量。那么精确的整数乘积是\n$$\n\\prod_{m=1}^{(p-1)/2} r_m = (-1)^N \\cdot \\prod_{m=1}^{(p-1)/2} |r_m| = (-1)^N \\cdot \\left(\\frac{p-1}{2}\\right)!.\n$$\n另一方面，每个 $r_m \\equiv a m \\pmod{p}$，由此\n$$\n\\prod_{m=1}^{(p-1)/2} r_m \\equiv \\prod_{m=1}^{(p-1)/2} (a m) = a^{(p-1)/2} \\cdot \\prod_{m=1}^{(p-1)/2} m = a^{(p-1)/2} \\cdot \\left(\\frac{p-1}{2}\\right)! \\pmod{p}.\n$$\n将精确等式与同余式结合可得\n$$\n\\left(\\frac{p-1}{2}\\right)! \\cdot \\Big(a^{(p-1)/2} - (-1)^N\\Big) \\equiv 0 \\pmod{p}.\n$$\n因为 $p$ 是素数且 $\\left(\\frac{p-1}{2}\\right)!$ 由严格小于 $p$ 的因子构成，所以我们有 $\\gcd\\!\\left(\\left(\\frac{p-1}{2}\\right)!,p\\right)=1$。应用上面所述的基于互素性的消去法则，我们得出结论\n$$\na^{(p-1)/2} - (-1)^N \\equiv 0 \\pmod{p}.\n$$\n这表明，在没有计算任何模逆元的情况下，$a^{(p-1)/2}$ 和 $(-1)^N$ 模 $p$ 同余。根据 Gauss 引理，有 $(-1)^N=\\left(\\frac{a}{p}\\right)$，从而纯粹通过带符号代表元的乘积论证和互素性消去法则，重新得到了 Euler 准则。\n\n我们现在分析每个选项：\n\nA. 该选项给出了精确的整数乘积恒等式 $\\prod r_m = (-1)^N \\cdot \\left(\\frac{p-1}{2}\\right)!$ 和模乘积同余式 $\\prod r_m \\equiv a^{(p-1)/2} \\cdot \\left(\\frac{p-1}{2}\\right)! \\pmod{p}$。然后它将两者结合起来，表明 $\\left(\\frac{p-1}{2}\\right)! \\cdot \\big(a^{(p-1)/2} - (-1)^N\\big) \\equiv 0 \\pmod{p}$，并且仅利用 $\\left(\\frac{p-1}{2}\\right)!$ 与 $p$ 互素这一事实，来推断出 $a^{(p-1)/2} - (-1)^N \\equiv 0 \\pmod{p}$，从而避免了对模逆元的显式计算。这正是正确的无需逆元的推理过程，并且它通过将 $(-1)^N$ 解释为勒让德符号来与 Gauss 引理联系起来。\n\n结论：正确。\n\nB. Wilson 定理陈述的是 $(p-1)! \\equiv -1 \\pmod{p}$，而不是 $\\left(\\frac{p-1}{2}\\right)! \\equiv -1 \\pmod{p}$。将 $\\left(\\frac{p-1}{2}\\right)!$ 替换为 $-1 \\pmod{p}$ 是不正确的，并且所谓的“立即消去”是基于一个错误的同余式。此外，它没有解决如何以有效的方式避免模逆元的问题。\n\n结论：不正确。\n\nC. 声称带符号约化“消除了所有负值”是错误的；Gauss 引理的全部要点在于负代表元的数量 $N$ 编码了勒让德符号。乘积 $\\prod r_m$ 等于 $(-1)^N \\cdot \\left(\\frac{p-1}{2}\\right)!$，通常不等于 $\\left(\\frac{p-1}{2}\\right)!$。该关系与 $a$ 无关的结论是不正确的。\n\n结论：不正确。\n\nD. 这断言必须计算 $r_m$ 的模逆元才能将符号模式与二次剩余性质联系起来。正如上面的推导所示，并不需要模逆元：我们使用的是精确的整数恒等式和基于互素性的消去法则。因此，该说法是不正确的。\n\n结论：不正确。\n\nE. 这指定了用 $\\prod m$ 的模逆元进行除法以分离出 $a^{(p-1)/2}$。尽管模 $p$ 的每个非零类确实都有逆元，但该方法明确地调用了模逆元，因此并未“避免”使用模逆元。此外，它忽略了产生 $(-1)^N$ 的关键符号结构，因而错失了在此背景下 Gauss 引理的精髓。\n\n结论：不正确。", "answer": "$$\\boxed{A}$$", "id": "3013401"}]}