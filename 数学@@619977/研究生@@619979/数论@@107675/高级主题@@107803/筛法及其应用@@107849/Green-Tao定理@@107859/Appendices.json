{"hands_on_practices": [{"introduction": "對算術級數的研究始於一項基本任務：對其進行計數。本練習提供了一個具體的起點，要求您計算一個區間內 $k$-項算術級數的確切數量，這使我們能夠定義一個適當歸一化的計數泛函[@problem_id:3026454]。掌握這種基本的計數技術對於理解現代加性組合學中的核心定量陳述至关重要。", "problem": "设 $k \\geq 3$ 和 $N \\geq k$ 为整数，并设 $f:\\{1,\\dots,N\\}\\to\\mathbb{R}$ 为任意函数。在作为 Green–Tao 素数等差数列定理基础的转移框架中，一个基本对象是应用于 $f$ 的归一化 $k$-项等差数列计数泛函，该泛函对 $\\{1,\\dots,N\\}$ 中沿 $k$-项等差数列的 $f$ 的乘法相关性进行平均。定义集合\n$$\n\\mathcal{S}_{k,N} \\coloneqq \\{(x,d)\\in \\mathbb{Z}\\times \\mathbb{Z}_{>0} : 1 \\leq x,\\, x+(k-1)d \\leq N\\},\n$$\n使得对于每个 $(x,d)\\in\\mathcal{S}_{k,N}$，$k$-项等差数列 $\\{x, x+d, \\dots, x+(k-1)d\\}$ 都位于 $\\{1,\\dots,N\\}$ 内并且是非退化的（公差 $d>0$）。仅使用等差数列的基本定义和有限集 $S$ 上的离散平均 $\\mathbb{E}_{(x,d)\\in S} \\coloneqq |S|^{-1}\\sum_{(x,d)\\in S}$，推导归一化常数 $C_{k,N}$ 的一个显式公式，使得归一化计数泛函\n$$\n\\Lambda_k(f) \\coloneqq C_{k,N} \\sum_{(x,d)\\in \\mathcal{S}_{k,N}} \\prod_{i=0}^{k-1} f(x+ i d)\n$$\n恰好是乘积 $\\prod_{i=0}^{k-1} f(x+i d)$ 在所有 $(x,d)\\in \\mathcal{S}_{k,N}$ 上的均匀平均值。换句话说，确定 $C_{k,N}$ 使得 $\\Lambda_k(f)=\\mathbb{E}_{(x,d)\\in \\mathcal{S}_{k,N}}\\prod_{i=0}^{k-1} f(x+i d)$。\n\n你的最终答案必须是仅用 $k$ 和 $N$ 表示的 $C_{k,N}$ 的单一闭式表达式。最终答案不得包含任何不等式或方程。无需数值取整。", "solution": "该问题要求找到归一化常数 $C_{k,N}$，使得泛函 $\\Lambda_k(f)$ 是乘积 $\\prod_{i=0}^{k-1} f(x+i d)$ 在 $\\{1, \\dots, N\\}$ 中所有非退化 $k$-项等差数列集合上的均匀平均值。\n\n均匀平均的定义由 $\\mathbb{E}_{(x,d)\\in S} g(x,d) \\coloneqq |S|^{-1}\\sum_{(x,d)\\in S} g(x,d)$ 给出，适用于有限集 $S$ 上的任何函数 $g$。在我们的情况下，集合是 $S = \\mathcal{S}_{k,N}$，函数是 $g(x,d) = \\prod_{i=0}^{k-1} f(x+i d)$。\n问题将归一化计数泛函定义为\n$$\n\\Lambda_k(f) \\coloneqq C_{k,N} \\sum_{(x,d)\\in \\mathcal{S}_{k,N}} \\prod_{i=0}^{k-1} f(x+ i d)\n$$\n需要满足的条件是\n$$\n\\Lambda_k(f) = \\mathbb{E}_{(x,d)\\in \\mathcal{S}_{k,N}}\\prod_{i=0}^{k-1} f(x+i d)\n$$\n代入 $\\Lambda_k(f)$ 和期望算子的定义，我们得到\n$$\nC_{k,N} \\sum_{(x,d)\\in \\mathcal{S}_{k,N}} \\prod_{i=0}^{k-1} f(x+ i d) = \\frac{1}{|\\mathcal{S}_{k,N}|} \\sum_{(x,d)\\in \\mathcal{S}_{k,N}} \\prod_{i=0}^{k-1} f(x+i d)\n$$\n该等式必须对任何函数 $f:\\{1,\\dots,N\\}\\to\\mathbb{R}$ 成立。我们可以选择一个特定的函数来确定 $C_{k,N}$。让我们选择常数函数 $f(n) = 1$ 对所有 $n \\in \\{1,\\dots,N\\}$。对于这个选择，乘积变为 $\\prod_{i=0}^{k-1} f(x+id) = \\prod_{i=0}^{k-1} 1 = 1$。方程简化为\n$$\nC_{k,N} \\sum_{(x,d)\\in \\mathcal{S}_{k,N}} 1 = \\frac{1}{|\\mathcal{S}_{k,N}|} \\sum_{(x,d)\\in \\mathcal{S}_{k,N}} 1\n$$\n和 $\\sum_{(x,d)\\in \\mathcal{S}_{k,N}} 1$ 根据定义是集合 $\\mathcal{S}_{k,N}$ 的基数，记为 $|\\mathcal{S}_{k,N}|$。方程变为\n$$\nC_{k,N} |\\mathcal{S}_{k,N}| = \\frac{1}{|\\mathcal{S}_{k,N}|} |\\mathcal{S}_{k,N}| = 1\n$$\n在 $|\\mathcal{S}_{k,N}| \\neq 0$ 的条件下，我们可以解出 $C_{k,N}$。这个条件是成立的，因为 $N \\geq k \\geq 3$ 保证了至少存在一个等差数列（例如，$x=1, d=1$）。解为：\n$$\nC_{k,N} = \\frac{1}{|\\mathcal{S}_{k,N}|}\n$$\n问题因此简化为求集合 $\\mathcal{S}_{k,N}$ 的基数。该集合定义为\n$$\n\\mathcal{S}_{k,N} \\coloneqq \\{(x,d)\\in \\mathbb{Z}\\times \\mathbb{Z}_{>0} : 1 \\leq x, x+(k-1)d \\leq N\\}\n$$\n我们可以通过对所有有效的配对 $(x,d)$ 求和来计算 $|\\mathcal{S}_{k,N}|$。方便的做法是先对公差 $d$ 求和，然后对每个 $d$ 计算可能的起始位置 $x$ 的数量。\n\n对 $x$ 和 $d$ 的条件是：\n1. $d \\in \\mathbb{Z}_{>0}$，所以 $d \\geq 1$。\n2. $x \\in \\mathbb{Z}$ 且 $x \\geq 1$。\n3. 等差数列的最后一项 $x+(k-1)d$ 不得大于 $N$。这意味着 $x \\leq N - (k-1)d$。\n\n结合关于 $x$ 的条件，我们得到 $1 \\leq x \\leq N - (k-1)d$。对于一个固定的 $d$，$x$ 的这个范围必须非空，这意味着我们必须有 $1 \\leq N - (k-1)d$。这个不等式确定了 $d$ 的可能范围：\n$$\n(k-1)d \\leq N - 1 \\implies d \\leq \\frac{N-1}{k-1}\n$$\n由于 $d$ 必须是正整数，其取值范围在 $1 \\leq d \\leq \\lfloor \\frac{N-1}{k-1} \\rfloor$ 内。我们定义 $D \\coloneqq \\lfloor \\frac{N-1}{k-1} \\rfloor$。\n\n对于从 1 到 $D$ 的每个整数 $d$, $x$ 的可能整数值数量由区间 $[1, N-(k-1)d]$ 内的整数个数给出，即 $(N-(k-1)d) - 1 + 1 = N-(k-1)d$。\n\n配对 $(x,d)$ 的总数，即 $|\\mathcal{S}_{k,N}|$，是这些计数在所有可能的 $d$ 值上的总和：\n$$\n|\\mathcal{S}_{k,N}| = \\sum_{d=1}^{D} (N - (k-1)d)\n$$\n我们可以计算这个和：\n$$\n|\\mathcal{S}_{k,N}| = \\sum_{d=1}^{D} N - (k-1)\\sum_{d=1}^{D} d\n$$\n第一项是 $\\sum_{d=1}^{D} N = ND$。第二项涉及前 $D$ 个整数的和，由公式 $\\sum_{d=1}^{D} d = \\frac{D(D+1)}{2}$ 给出。\n代入这些结果，我们得到：\n$$\n|\\mathcal{S}_{k,N}| = ND - (k-1)\\frac{D(D+1)}{2}\n$$\n这个表达式可以通过提取 $D$ 来因式分解：\n$$\n|\\mathcal{S}_{k,N}| = D \\left(N - \\frac{(k-1)(D+1)}{2}\\right) = \\frac{D}{2} \\left(2N - (k-1)(D+1)\\right)\n$$\n将 $D = \\lfloor \\frac{N-1}{k-1} \\rfloor$ 代回，我们得到基数的显式公式：\n$$\n|\\mathcal{S}_{k,N}| = \\frac{1}{2}\\left\\lfloor \\frac{N-1}{k-1} \\right\\rfloor \\left(2N - (k-1)\\left(1 + \\left\\lfloor \\frac{N-1}{k-1} \\right\\rfloor\\right)\\right)\n$$\n最后，归一化常数 $C_{k,N}$ 是这个值的倒数：\n$$\nC_{k,N} = \\frac{2}{\\left\\lfloor \\frac{N-1}{k-1} \\right\\rfloor \\left(2N - (k-1)\\left(1 + \\left\\lfloor \\frac{N-1}{k-1} \\right\\rfloor\\right)\\right)}\n$$\n这就是所要求的用 $k$ 和 $N$ 表示的归一化常数的闭式表达式。", "answer": "$$\n\\boxed{\\frac{2}{\\left\\lfloor \\frac{N-1}{k-1} \\right\\rfloor \\left(2N - (k-1)\\left(1 + \\left\\lfloor \\frac{N-1}{k-1} \\right\\rfloor\\right)\\right)}}\n$$", "id": "3026454"}, {"introduction": "由於其不規則的分佈，直接分析素數集合是出了名的困難。格林-陶定理巧妙地繞過了這個問題，利用「W-trick」構建了一個更易於處理的素數偽隨機模型[@problem_id:3026359]。本練習將引導您驗證此模型，即 $W$-tricked von Mangoldt 函數，其行為良好，平均值為 1，這是轉移策略中至關重要的第一步。", "problem": "令 $w=w(N)$ 由 $w(N):=\\lfloor \\tfrac{1}{2}\\log\\log N\\rfloor$ 定义，并令 $W=\\prod_{p\\leq w} p$ 为所有不大于 $w$ 的素数 $p$ 的乘积。固定一个整数 $b$，满足 $\\gcd(b,W)=1$。定义 $W$-tricked von Mangoldt 权为\n$$\n\\Lambda_{b,W}(n)\\ :=\\ \\frac{\\varphi(W)}{W}\\,\\Lambda(Wn+b),\n$$\n其中 $\\Lambda$ 是 von Mangoldt 函数，$\\varphi$ 是 Euler 总计函数。考虑平均值\n$$\nA(N)\\ :=\\ \\frac{1}{N}\\sum_{n\\leq N}\\Lambda_{b,W}(n).\n$$\n仅使用基本定义和算术级数中的素数定理（PNT-AP），特别是 Siegel–Walfisz 定理所提供的一致形式，从第一性原理出发，推导为何在此情境下归一化因子 $\\frac{\\varphi(W)}{W}$ 是自然的，并验证当 $N\\to\\infty$ 时，$A(N)=1+o(1)$ 对满足 $\\gcd(b,W)=1$ 的 $b$ 一致成立。最后，计算极限的精确值\n$$\nL\\ :=\\ \\lim_{N\\to\\infty} A(N).\n$$\n你的最终答案必须是一个数字。不要四舍五入。", "solution": "该问题要求分析平均值 $A(N) = \\frac{1}{N}\\sum_{n\\leq N}\\Lambda_{b,W}(n)$，其中 $\\Lambda_{b,W}(n) = \\frac{\\varphi(W)}{W}\\,\\Lambda(Wn+b)$。我们需要解释归一化因子，验证 $A(N)=1+o(1)$，并计算当 $N \\to \\infty$ 时 $A(N)$ 的极限。\n\n首先，我们来处理问题陈述中的一个轻微的模糊之处。问题陈述中说“固定一个整数 $b$ 且满足 $\\gcd(b,W)=1$”。然而，$W = \\prod_{p \\leq w(N)} p$ 依赖于 $N$。如果我们固定一个整数 $b$ 且 $|b|>1$，那么当 $N$ 足够大时，$b$ 的任何素因子都将小于 $w(N) = \\lfloor \\frac{1}{2}\\log\\log N\\rfloor$。这将意味着 $b$ 与 $W(N)$ 有共同的因子，这违反了条件 $\\gcd(b,W)=1$。对于所有的 $N$ 都满足 $\\gcd(b, W(N))=1$ 的唯一固定整数 $b$ 是 $b=\\pm 1$。一个更标准的解释，与 Green-Tao 定理的背景一致，是对于一个给定的大的 $N$，我们考虑一个在 $1 \\leq b \\leq W$ 范围内的整数 $b$，使得 $\\gcd(b,W)=1$。我们将在此标准解释下进行，这使得问题是适定的。\n\n让我们从写出 $A(N)$ 的表达式开始：\n$$\nA(N) = \\frac{1}{N}\\sum_{n=1}^{N} \\frac{\\varphi(W)}{W} \\Lambda(Wn+b) = \\frac{\\varphi(W)}{WN} \\sum_{n=1}^{N} \\Lambda(Wn+b)\n$$\n和式 $\\sum_{n=1}^{N} \\Lambda(Wn+b)$ 是 von Mangoldt 函数在一个算术级数上的各项之和。令 $m = Wn+b$。当 $n$ 从 $1$ 取到 $N$ 时，$m$ 取值为 $W+b, 2W+b, \\ldots, NW+b$。所有这些值都模 $W$ 同余于 $b$。该和式可以写为：\n$$\n\\sum_{n=1}^{N} \\Lambda(Wn+b) = \\sum_{\\substack{m \\leq WN+b \\\\ m \\equiv b \\pmod{W}}} \\Lambda(m) - \\sum_{\\substack{m < W+b \\\\ m \\equiv b \\pmod{W}}} \\Lambda(m)\n$$\n如果 $b < W+b$，第二个和式最多包含一项 $\\Lambda(b)$，且以 $\\log b$ 为界。由于 $b \\leq W$ 且 $W$ 的增长远慢于 $N$，这一项可以忽略不计。因此，我们可以用 $\\psi(WN+b; W, b)$ 来近似该和式，其中 $\\psi(x; q, a) := \\sum_{n \\leq x, n \\equiv a \\pmod{q}} \\Lambda(n)$。\n\n我们现在引用 Siegel-Walfisz 定理形式的算术级数素数定理。该定理指出，对于任意固定的实数 $A > 0$，存在一个常数 $C > 0$，使得对于所有模 $q \\leq (\\log x)^A$ 和所有满足 $\\gcd(a, q) = 1$ 的整数 $a$，我们有：\n$$\n\\psi(x; q, a) = \\frac{x}{\\varphi(q)} + O\\left(x \\exp(-C\\sqrt{\\log x})\\right)\n$$\n$O$-项中的常数在指定范围内与 $a$ 和 $q$ 无关。\n\n在我们的情况下，模是 $q=W$，余数是 $a=b$。变量是 $x = WN+b$。我们必须验证当 $N \\to \\infty$ 时，条件 $W \\leq (\\log x)^A$ 对某个 $A>0$ 成立。\n定义为 $w = w(N) = \\lfloor \\frac{1}{2}\\log\\log N\\rfloor$ 和 $W = \\prod_{p \\leq w} p$。\n根据素数定理，不大于 $w$ 的素数的对数之和为 $\\theta(w) = \\sum_{p \\leq w} \\log p \\sim w$。\n因此，当 $w \\to \\infty$ 时，$\\log W = \\log \\left(\\prod_{p \\leq w} p\\right) = \\sum_{p \\leq w} \\log p \\sim w$。\n当 $N \\to \\infty$ 时，$w(N) \\to \\infty$。所以我们有 $W = \\exp(\\theta(w)) \\approx \\exp(w)$。\n代入 $w$ 的定义：\n$W \\approx \\exp\\left(\\frac{1}{2}\\log\\log N\\right) = (\\log N)^{1/2}$。\nSiegel-Walfisz 条件中对数的宗量是 $x = WN+b$。由于 $1 \\leq b \\leq W$，我们有 $WN < x \\leq WN+W$。\n$\\log x = \\log(WN+b) \\approx \\log(WN) = \\log W + \\log N$。\n由于 $\\log W \\approx \\frac{1}{2}\\log\\log N$，$\\log N$ 项占主导地位。因此，$\\log x \\sim \\log N$。\n条件 $W \\leq (\\log x)^A$ 变为 $(\\log N)^{1/2} \\lesssim (\\log N)^A$。该不等式对任何 $A \\geq 1/2$ 都成立。因此，Siegel-Walfisz 定理适用。\n\n应用该定理，令 $x = WN+b$，$q=W$ 和 $a=b$：\n$$\n\\psi(WN+b; W, b) = \\frac{WN+b}{\\varphi(W)} + O\\left((WN+b)\\exp(-C\\sqrt{\\log(WN+b)})\\right)\n$$\n现在，将此代回 $A(N)$ 的表达式中：\n$$\nA(N) = \\frac{\\varphi(W)}{WN} \\left[ \\frac{WN+b}{\\varphi(W)} + O\\left((WN+b)\\exp(-C\\sqrt{\\log(WN+b)})\\right) \\right]\n$$\n$$\nA(N) = \\frac{WN+b}{WN} + \\frac{\\varphi(W)}{WN} O\\left((WN+b)\\exp(-C\\sqrt{\\log(WN+b)})\\right)\n$$\n我们来分析每个部分。主项是：\n$$\n\\frac{WN+b}{WN} = 1 + \\frac{b}{WN}\n$$\n在我们的解释 $1 \\leq b \\leq W$ 下，我们有 $0 < \\frac{b}{WN} \\leq \\frac{W}{WN} = \\frac{1}{N}$。当 $N \\to \\infty$ 时，此项趋于 $0$，所以它是一个 $o(1)$ 项。具体来说，它是 $O(1/N)$。\n\n误差项是：\n$$\n\\frac{\\varphi(W)}{WN} O\\left((W(N+1))\\exp(-C\\sqrt{\\log(WN)})\\right) = O\\left(\\frac{\\varphi(W)}{W} \\frac{N+1}{N} \\exp(-C\\sqrt{\\log N})\\right)\n$$\n由于 $\\varphi(W)/W \\leq 1$ 且 $(N+1)/N \\to 1$，误差项简化为 $O\\left(\\exp(-C'\\sqrt{\\log N})\\right)$，其中 $C'>0$ 是某个常数。这是一个 $o(1)$ 项，当 $N \\to \\infty$ 时，它非常快地趋于零。\n\n结合这些结果，我们发现：\n$$\nA(N) = 1 + O\\left(\\frac{1}{N}\\right) + O\\left(\\exp(-C'\\sqrt{\\log N})\\right)\n$$\n两个误差项都是 $o(1)$，这验证了当 $N\\to\\infty$ 时，$A(N) = 1 + o(1)$。收敛性对 $b$ 是一致的，因为误差项的界不依赖于 $b$ 的具体选择（只要 $1 \\leq b \\leq W$ 且 $\\gcd(b,W)=1$）。\n\n现在，我们解释为什么归一化因子 $\\frac{\\varphi(W)}{W}$ 是自然的。素数定理 $\\sum_{n \\leq X} \\Lambda(n) \\sim X$ 意味着 $\\Lambda(n)$ 的“平均值”是 $1$。对于一个算术级数 $m \\equiv b \\pmod W$ 且 $\\gcd(b,W)=1$，PNT-AP 指出 $\\sum_{m \\leq X, m \\equiv b \\pmod W} \\Lambda(m) \\sim \\frac{X}{\\varphi(W)}$。此和式中的项数约为 $X/W$。因此，限于此级数的整数 $m$ 的 $\\Lambda(m)$ 的平均值为：\n$$\n\\text{平均值} = \\frac{\\text{数值总和}}{\\text{项数}} \\approx \\frac{X/\\varphi(W)}{X/W} = \\frac{W}{\\varphi(W)}\n$$\n在 Green-Tao 定理的背景下，“W-trick”的目标是研究一个模拟素数的序列，但该序列经过平滑处理以具有更均匀的分布。为了创建一个平均值为 $1$ 的权函数 $\\Lambda_{b,W}(n)$，必须通过将其除以其平均值 $\\frac{W}{\\varphi(W)}$ 来对原始函数 $\\Lambda(Wn+b)$ 进行重新归一化。这正是为什么归一化因子是 $\\frac{\\varphi(W)}{W}$ 的原因。它确保了 $\\Lambda_{b,W}(n)$ 关于 $n$ 的期望值为 $1$。\n\n最后，我们计算极限 $L = \\lim_{N\\to\\infty} A(N)$ 的精确值。根据我们对 $A(N)$ 的渐近公式：\n$$\nL = \\lim_{N\\to\\infty} \\left( 1 + O\\left(\\frac{1}{N}\\right) + O\\left(\\exp(-C'\\sqrt{\\log N})\\right) \\right)\n$$\n当 $N\\to\\infty$ 时，$O(1/N)$ 和 $O(\\exp(-C'\\sqrt{\\log N}))$ 项都趋于 $0$。\n$$\nL = 1 + 0 + 0 = 1\n$$\n极限恰好是 $1$。", "answer": "$$\\boxed{1}$$", "id": "3026359"}, {"introduction": "轉移原理是格林-陶定理的概念核心，它使我們能夠將一個稠密、行為良好的模型的結果轉移到像素數這樣的稀疏集合上。本練習為這個強大的原理提供了一個動手實踐的玩具模型[@problem_id:3026434]，您將使用傅立葉分析來證明稀疏偽隨機集中的 $3$-項算術級數數量可由其相應的稠密模型中的計數很好地近似。這說明了偽隨機性如何確保稀疏集合的組合結構能夠反映其更稠密的對應物的結構。", "problem": "考虑一个奇素数 $N$和循环群 $\\mathbb{Z}/N\\mathbb{Z}$。对于一个函数 $h:\\mathbb{Z}/N\\mathbb{Z}\\to\\mathbb{R}$，定义归一化的 $3$-项算术级数（Arithmetic Progression, AP）计数泛函\n$$\n\\Lambda(h) \\coloneqq \\mathbb{E}_{x,d\\in \\mathbb{Z}/N\\mathbb{Z}}\\, h(x)\\,h(x+d)\\,h(x+2d),\n$$\n其中 $\\mathbb{E}$ 表示在有限群上的平均值。令 $p(N)=N^{-1/4}$，并设 $X:\\mathbb{Z}/N\\mathbb{Z}\\to\\{0,1\\}$ 是一个随机指示函数，通过以概率 $p(N)$ 独立地包含每个剩余类得到。固定一个参数 $\\alpha\\in(0,1]$，并定义稀疏函数 $f(x)\\coloneqq \\alpha\\,X(x)$ 和稠密模型 $g(x)\\coloneqq \\alpha\\,p(N)$，对所有 $x\\in\\mathbb{Z}/N\\mathbb{Z}$ 成立。\n\n假设以下关于 $X$ 的伪随机事件成立：\n$$\n\\max_{\\xi\\in\\mathbb{Z}/N\\mathbb{Z}\\setminus\\{0\\}} \\left|\\widehat{X}(\\xi)\\right| \\le C \\sqrt{\\frac{\\ln N}{N}},\n$$\n对于某个绝对常数 $C>0$，其中归一化的傅里叶变换定义为\n$$\n\\widehat{h}(\\xi)\\coloneqq \\mathbb{E}_{x\\in\\mathbb{Z}/N\\mathbb{Z}}\\, h(x)\\,\\exp\\!\\left(-\\frac{2\\pi i x\\xi}{N}\\right).\n$$\n根据标准的集中不等式，当 $N\\to\\infty$ 时，此事件以 $1-o(1)$ 的概率发生。\n\n仅从上述核心定义和诸如 Parseval 恒等式及独立有界随机变量和的集中不等式等公认事实出发，推导一个显式界 $A(N)$，满足 $A(N)\\to 0$，使得\n$$\n\\left|\\Lambda(f)-\\Lambda(g)\\right| \\le A(N),\n$$\n然后计算极限\n$$\nL \\coloneqq \\lim_{N\\to\\infty} \\left(\\Lambda(f)-\\Lambda(g)\\right).\n$$\n将你的最终答案表示为单个实数。无需四舍五入。", "solution": "### 1. 泛函的傅里叶表示\n3-AP 计数泛函 $\\Lambda(h)$ 可以用 $h$ 的傅里叶系数表示。令 $\\omega_N = \\exp(2\\pi i/N)$。与给定 $\\widehat{h}(\\xi)$ 定义相对应的傅里叶反演公式是 $h(x) = \\sum_{\\xi \\in \\mathbb{Z}/N\\mathbb{Z}} \\widehat{h}(\\xi) \\omega_N^{x\\xi}$。\n\n将此代入 $\\Lambda(h)$ 的定义中：\n$$\n\\Lambda(h) = \\mathbb{E}_{x,d} \\left( \\sum_{\\xi_1} \\widehat{h}(\\xi_1)\\omega_N^{x\\xi_1} \\right) \\left( \\sum_{\\xi_2} \\widehat{h}(\\xi_2)\\omega_N^{(x+d)\\xi_2} \\right) \\left( \\sum_{\\xi_3} \\widehat{h}(\\xi_3)\\omega_N^{(x+2d)\\xi_3} \\right)\n$$\n根据期望的线性性质，我们可以重排求和：\n$$\n\\Lambda(h) = \\sum_{\\xi_1,\\xi_2,\\xi_3} \\widehat{h}(\\xi_1)\\widehat{h}(\\xi_2)\\widehat{h}(\\xi_3) \\, \\mathbb{E}_x[\\omega_N^{x(\\xi_1+\\xi_2+\\xi_3)}] \\, \\mathbb{E}_d[\\omega_N^{d(\\xi_2+2\\xi_3)}]\n$$\n期望 $\\mathbb{E}_z[\\omega_N^{z\\eta}] = \\frac{1}{N}\\sum_{z=0}^{N-1} (\\omega_N^\\eta)^z$ 在 $\\eta=0 \\pmod N$ 时等于 $1$，否则等于 $0$。因此，该表达式非零当且仅当以下两个条件同时成立：\n1. $\\xi_1+\\xi_2+\\xi_3 = 0 \\pmod N$\n2. $\\xi_2+2\\xi_3 = 0 \\pmod N$\n\n由条件(2)可得 $\\xi_2 = -2\\xi_3$。将其代入条件(1)得到 $\\xi_1 - 2\\xi_3 + \\xi_3 = 0$，化简为 $\\xi_1 = \\xi_3$。由于 $N$ 是一个奇素数，映射 $\\xi \\mapsto -2\\xi$ 是 $\\mathbb{Z}/N\\mathbb{Z}$ 上的一个置换。\n对所有 $\\xi_3 \\in \\mathbb{Z}/N\\mathbb{Z}$（我们可以将其重命名为 $\\xi$）求和，得到以下恒等式：\n$$\n\\Lambda(h) = \\sum_{\\xi \\in \\mathbb{Z}/N\\mathbb{Z}} \\widehat{h}(\\xi) \\widehat{h}(-2\\xi) \\widehat{h}(\\xi) = \\sum_{\\xi \\in \\mathbb{Z}/N\\mathbb{Z}} \\widehat{h}(\\xi)^2 \\widehat{h}(-2\\xi)\n$$\n\n### 2. 分析差值 $\\Lambda(f) - \\Lambda(g)$\n我们将傅里叶恒等式应用于 $f(x) = \\alpha X(x)$ 和 $g(x) = \\alpha p(N)$。\n$f$ 的傅里叶变换是 $\\widehat{f}(\\xi) = \\mathbb{E}_x[\\alpha X(x) \\omega_N^{-x\\xi}] = \\alpha \\widehat{X}(\\xi)$。\n常数函数 $g$ 的傅里叶变换仅在 $\\xi=0$ 时非零：\n$\\widehat{g}(0) = \\mathbb{E}_x[\\alpha p(N)] = \\alpha p(N)$。对于 $\\xi\\neq 0$，$\\widehat{g}(\\xi) = \\alpha p(N) \\mathbb{E}_x[\\omega_N^{-x\\xi}] = 0$。\n\n使用 $\\Lambda(h)$ 的恒等式：\n$$\n\\Lambda(f) = \\sum_{\\xi} \\widehat{f}(\\xi)^2 \\widehat{f}(-2\\xi) = \\sum_{\\xi} (\\alpha\\widehat{X}(\\xi))^2 (\\alpha\\widehat{X}(-2\\xi)) = \\alpha^3 \\sum_{\\xi} \\widehat{X}(\\xi)^2 \\widehat{X}(-2\\xi)\n$$\n对于 $g$，因为当 $\\xi\\neq 0$ 时 $\\widehat{g}(\\xi)=0$，所以求和中只包含 $\\xi=0$ 这一项：\n$$\n\\Lambda(g) = \\widehat{g}(0)^2 \\widehat{g}(-2 \\cdot 0) = \\widehat{g}(0)^3 = (\\alpha p(N))^3 = \\alpha^3 p(N)^3\n$$\n因此，差值为：\n$$\n\\Lambda(f) - \\Lambda(g) = \\alpha^3 \\left( \\sum_{\\xi} \\widehat{X}(\\xi)^2 \\widehat{X}(-2\\xi) - p(N)^3 \\right)\n$$\n我们可以将 $\\xi=0$ 项从求和中分离出来：\n$$\n\\Lambda(f) - \\Lambda(g) = \\alpha^3 \\left( \\widehat{X}(0)^3 + \\sum_{\\xi \\neq 0} \\widehat{X}(\\xi)^2 \\widehat{X}(-2\\xi) - p(N)^3 \\right)\n$$\n$$\n= \\alpha^3 \\left( \\widehat{X}(0)^3 - p(N)^3 \\right) + \\alpha^3 \\sum_{\\xi \\neq 0} \\widehat{X}(\\xi)^2 \\widehat{X}(-2\\xi)\n$$\n\n### 3. 对各项进行定界并求极限\n现在我们假设给定的伪随机事件对我们的 $X$ 的实现成立，来限定这两项的量级。\n\n**第1项：$\\alpha^3 \\left( \\widehat{X}(0)^3 - p(N)^3 \\right)$**\n项 $\\widehat{X}(0) = \\mathbb{E}_x[X(x)] = \\frac{1}{N}\\sum_x X(x)$ 是 $N$ 个参数为 $p(N)=N^{-1/4}$ 的独立伯努利随机变量的平均值。标准的集中不等式（如 Hoeffding 不等式或 Chernoff 不等式）意味着 $\\widehat{X}(0)$ 高度集中在其均值 $\\mathbb{E}[X(x)]=p(N)$ 附近。具体来说，对于某个常数 $C'>0$，我们有 $|\\widehat{X}(0) - p(N)| \\le C' \\sqrt{\\frac{\\ln N}{N}}$ 以 $1-o(1)$ 的概率成立。我们假设此条件成立。\n第1项的量级为：\n$$\n|\\alpha^3(\\widehat{X}(0)^3 - p(N)^3)| = \\alpha^3 |\\widehat{X}(0) - p(N)| \\cdot |\\widehat{X}(0)^2 + \\widehat{X}(0)p(N) + p(N)^2|\n$$\n第一个因子 $|\\widehat{X}(0) - p(N)| \\le C' \\sqrt{\\frac{\\ln N}{N}}$。\n对于第二个因子，由于当 $N\\to\\infty$ 时 $\\widehat{X}(0)$ 趋近于 $p(N)$，该因子渐近于 $3p(N)^2 = 3(N^{-1/4})^2 = 3N^{-1/2}$。对于大的 $N$，它可被例如 $4 N^{-1/2}$ 所界定。\n因此，第1项的量级受一个量级为如下的函数所界定：\n$$\nO\\left( \\sqrt{\\frac{\\ln N}{N}} \\cdot N^{-1/2} \\right) = O\\left( N^{-1} \\sqrt{\\ln N} \\right)\n$$\n当 $N \\to \\infty$ 时，此项趋于 $0$。\n\n**第2项：$\\alpha^3 \\sum_{\\xi \\neq 0} \\widehat{X}(\\xi)^2 \\widehat{X}(-2\\xi)$**\n此项的量级可以使用给定的伪随机性假设来界定：\n$$\n\\left| \\alpha^3 \\sum_{\\xi \\neq 0} \\widehat{X}(\\xi)^2 \\widehat{X}(-2\\xi) \\right| \\le \\alpha^3 \\sum_{\\xi \\neq 0} |\\widehat{X}(\\xi)|^2 |\\widehat{X}(-2\\xi)|\n$$\n我们可以提出 $\\xi\\neq 0$ 时 $|\\widehat{X}(-2\\xi)|$ 的最大值。因为当 $\\xi$ 遍历所有非零元时，$-2\\xi$ 也同样遍历，所以这个最大值受给定的假设所界定：\n$$\n\\le \\alpha^3 \\left( \\max_{\\eta \\neq 0} |\\widehat{X}(\\eta)| \\right) \\left( \\sum_{\\xi \\neq 0} |\\widehat{X}(\\xi)|^2 \\right) \\le \\alpha^3 \\left( C \\sqrt{\\frac{\\ln N}{N}} \\right) \\left( \\sum_{\\xi \\neq 0} |\\widehat{X}(\\xi)|^2 \\right)\n$$\n对于所选的归一化，Parseval 恒等式为 $\\sum_{\\xi} |\\widehat{h}(\\xi)|^2 = \\mathbb{E}_x |h(x)|^2$。对于 $h=X$，其中 $X(x) \\in \\{0,1\\}$，我们有 $X(x)^2=X(x)$。\n$$\n\\sum_{\\xi} |\\widehat{X}(\\xi)|^2 = \\mathbb{E}_x[X(x)^2] = \\mathbb{E}_x[X(x)] = \\widehat{X}(0)\n$$\n这得到 $\\sum_{\\xi \\neq 0} |\\widehat{X}(\\xi)|^2 = \\widehat{X}(0) - |\\widehat{X}(0)|^2$。\n如前所示，$\\widehat{X}(0)$ 接近于 $p(N) = N^{-1/4}$。所以，$\\widehat{X}(0) - |\\widehat{X}(0)|^2 \\approx p(N) - p(N)^2$，其量级为 $O(p(N)) = O(N^{-1/4})$。\n因此，第2项的量级受一个量级为如下的函数所界定：\n$$\nO\\left( \\sqrt{\\frac{\\ln N}{N}} \\cdot N^{-1/4} \\right) = O\\left( N^{-3/4} \\sqrt{\\ln N} \\right)\n$$\n当 $N \\to \\infty$ 时，此项也趋于 $0$。\n\n### 4. 结论\n一个显式界 $A(N)$ 由这两项的界之和给出。为计算简便，我们可以陈述一个基于大 $N$ 时主导项的界：\n$$\nA(N) = \\alpha^3 \\left[ C' N^{-1} \\sqrt{\\ln N} \\left(\\frac{3}{2} p(N)^2 \\right) + C N^{-3/4} \\sqrt{\\ln N} \\left(p(N)+\\frac{C'}{\\sqrt{N}}\\right) \\right]\n$$\n一个简化（但对大 $N$ 仍然有效）的形式可以是 $A(N) = K N^{-3/4}\\sqrt{\\ln N}$，对于某个常数 $K$。\n因为 $|\\Lambda(f)-\\Lambda(g)| \\le A(N)$ 且 $\\lim_{N\\to\\infty} A(N) = 0$，根据夹逼定理，差值的极限为零。\n$$\nL = \\lim_{N\\to\\infty} \\left(\\Lambda(f)-\\Lambda(g)\\right) = 0\n$$", "answer": "$$\n\\boxed{0}\n$$", "id": "3026434"}]}