{"hands_on_practices": [{"introduction": "第一个练习将引导你直接应用投影定理。通过将一个多项式投影到一个简单的一维子空间上，你将在熟悉的函数空间背景下练习使用正交投影的基本公式。这是为掌握更复杂的向量分解任务而迈出的关键第一步。[@problem_id:1858276]", "problem": "考虑定义在区间 $[0,1]$ 上的向量空间 $V = P_2([0,1])$，它由所有次数至多为2的实系数多项式构成。该空间赋有内积 $\\langle f, g \\rangle = \\int_0^1 f(x)g(x)dx$。令 $U$ 为由多项式 $u(x) = x$ 张成的 $V$ 的一维子空间。根据投影定理，任何多项式 $p(x) \\in V$ 都可以唯一地分解为 $p(x) = p_U(x) + p_{U^\\perp}(x)$，其中 $p_U(x) \\in U$ 且 $p_{U^\\perp}(x)$ 属于 $U$ 的正交补（记作 $U^\\perp$）。\n\n给定多项式 $p(x) = 6x^2 - 5x + 1$，求其在子空间 $U$ 内的分量 $p_U(x)$。最终答案应为一个关于变量 $x$ 的多项式。", "solution": "我们需求解在内积 $\\langle f, g \\rangle = \\int_{0}^{1} f(x)g(x)\\,dx$ 下，多项式 $p(x) = 6x^{2} - 5x + 1$ 在一维子空间 $U = \\operatorname{span}\\{u\\}$（其中 $u(x) = x$）上的正交投影。根据投影定理，$U$ 中的分量为\n$$\np_{U}(x) = \\frac{\\langle p, u \\rangle}{\\langle u, u \\rangle}\\,u(x).\n$$\n计算分母：\n$$\n\\langle u, u \\rangle = \\int_{0}^{1} x \\cdot x \\, dx = \\int_{0}^{1} x^{2}\\,dx = \\left.\\frac{x^{3}}{3}\\right|_{0}^{1} = \\frac{1}{3}.\n$$\n计算分子：\n$$\n\\langle p, u \\rangle = \\int_{0}^{1} (6x^{2} - 5x + 1)\\,x\\,dx = \\int_{0}^{1} \\left(6x^{3} - 5x^{2} + x\\right)\\,dx.\n$$\n逐项计算：\n$$\n\\int_{0}^{1} 6x^{3}\\,dx = \\left.6\\cdot \\frac{x^{4}}{4}\\right|_{0}^{1} = \\frac{3}{2}, \\quad \\int_{0}^{1} (-5x^{2})\\,dx = \\left.-5\\cdot \\frac{x^{3}}{3}\\right|_{0}^{1} = -\\frac{5}{3}, \\quad \\int_{0}^{1} x\\,dx = \\left.\\frac{x^{2}}{2}\\right|_{0}^{1} = \\frac{1}{2}.\n$$\n于是，\n$$\n\\langle p, u \\rangle = \\frac{3}{2} - \\frac{5}{3} + \\frac{1}{2} = 2 - \\frac{5}{3} = \\frac{1}{3}.\n$$\n因此，投影系数为\n$$\n\\frac{\\langle p, u \\rangle}{\\langle u, u \\rangle} = \\frac{\\frac{1}{3}}{\\frac{1}{3}} = 1,\n$$\n从而\n$$\np_{U}(x) = 1 \\cdot x = x.\n$$", "answer": "$$\\boxed{x}$$", "id": "1858276"}, {"introduction": "现在，让我们看看这些强大的概念如何应用于传统函数之外的领域。本题要求你在配备了Frobenius内积的矩阵向量空间 $M_{2 \\times 2}(\\mathbb{R})$ 中分解一个矩阵。你需要确定一个矩阵在对称矩阵子空间上的投影，这首先需要你为该子空间构建一个合适的标准正交基，从而加深你对一般投影过程的理解。[@problem_id:1858280]", "problem": "考虑所有实 $2 \\times 2$ 矩阵构成的向量空间 $V = M_{2 \\times 2}(\\mathbb{R})$。该空间赋有 Frobenius 内积，其对任意两个矩阵 $A, B \\in V$ 定义为 $\\langle A, B \\rangle = \\mathrm{tr}(A^T B)$，其中 $\\mathrm{tr}(\\cdot)$ 表示矩阵的迹。\n\n设 $W$ 是 $V$ 中所有对称矩阵（即满足 $S^T = S$ 的矩阵 $S$）构成的子空间。根据投影定理，任何矩阵 $M \\in V$ 都可以唯一地写成和式 $M = M_W + M_{W^\\perp}$，其中 $M_W$ 是 $M$ 在子空间 $W$ 上的正交投影，而 $M_{W^\\perp}$ 是在 $W$ 的正交补空间中的分量。\n\n给定矩阵 $A = \\begin{pmatrix} 1 & 2 \\\\ 3 & 4 \\end{pmatrix}$，求其在子空间 $W$ 上的正交投影 $A_W$。", "solution": "问题要求在赋有 Frobenius 内积 $\\langle A, B \\rangle = \\mathrm{tr}(A^T B)$ 的内积空间 $V = M_{2 \\times 2}(\\mathbb{R})$ 中，求矩阵 $A = \\begin{pmatrix} 1 & 2 \\\\ 3 & 4 \\end{pmatrix}$ 在对称 $2 \\times 2$ 矩阵子空间 $W$ 上的正交投影。\n\n$A$ 在 $W$ 上的正交投影 $A_W$ 由公式 $A_W = \\sum_{i=1}^{k} \\langle A, u_i \\rangle u_i$ 给出，其中 $\\{u_1, u_2, \\dots, u_k\\}$ 是子空间 $W$ 的一组标准正交基。\n\n首先，我们需要找到 $W$ 的一组标准正交基。一个一般的对称 $2 \\times 2$ 矩阵具有形式 $S = \\begin{pmatrix} a & b \\\\ b & c \\end{pmatrix}$，其中 $a, b, c \\in \\mathbb{R}$。我们可以将其写成基矩阵的线性组合：\n$S = a \\begin{pmatrix} 1 & 0 \\\\ 0 & 0 \\end{pmatrix} + c \\begin{pmatrix} 0 & 0 \\\\ 0 & 1 \\end{pmatrix} + b \\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix}$。\n因此，$W$ 的一组基由集合 $\\{B_1, B_2, B_3\\}$ 给出，其中\n$B_1 = \\begin{pmatrix} 1 & 0 \\\\ 0 & 0 \\end{pmatrix}$, $B_2 = \\begin{pmatrix} 0 & 0 \\\\ 0 & 1 \\end{pmatrix}$, $B_3 = \\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix}$。\n\n接下来，我们通过计算不同基向量之间的内积来检查这组基是否正交。\n$\\langle B_1, B_2 \\rangle = \\mathrm{tr}(B_1^T B_2) = \\mathrm{tr}\\left(\\begin{pmatrix} 1 & 0 \\\\ 0 & 0 \\end{pmatrix} \\begin{pmatrix} 0 & 0 \\\\ 0 & 1 \\end{pmatrix}\\right) = \\mathrm{tr}\\left(\\begin{pmatrix} 0 & 0 \\\\ 0 & 0 \\end{pmatrix}\\right) = 0$。\n$\\langle B_1, B_3 \\rangle = \\mathrm{tr}(B_1^T B_3) = \\mathrm{tr}\\left(\\begin{pmatrix} 1 & 0 \\\\ 0 & 0 \\end{pmatrix} \\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix}\\right) = \\mathrm{tr}\\left(\\begin{pmatrix} 0 & 1 \\\\ 0 & 0 \\end{pmatrix}\\right) = 0$。\n$\\langle B_2, B_3 \\rangle = \\mathrm{tr}(B_2^T B_3) = \\mathrm{tr}\\left(\\begin{pmatrix} 0 & 0 \\\\ 0 & 1 \\end{pmatrix} \\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix}\\right) = \\mathrm{tr}\\left(\\begin{pmatrix} 0 & 0 \\\\ 1 & 0 \\end{pmatrix}\\right) = 0$。\n这组基确实是正交的。现在我们求出每个基向量的范数以将其单位化。范数的平方为 $\\|B\\|^2 = \\langle B, B \\rangle$。\n$\\|B_1\\|^2 = \\langle B_1, B_1 \\rangle = \\mathrm{tr}(B_1^T B_1) = \\mathrm{tr}\\left(\\begin{pmatrix} 1 & 0 \\\\ 0 & 0 \\end{pmatrix}^2\\right) = \\mathrm{tr}\\left(\\begin{pmatrix} 1 & 0 \\\\ 0 & 0 \\end{pmatrix}\\right) = 1$。所以，$\\|B_1\\|=1$。\n$\\|B_2\\|^2 = \\langle B_2, B_2 \\rangle = \\mathrm{tr}(B_2^T B_2) = \\mathrm{tr}\\left(\\begin{pmatrix} 0 & 0 \\\\ 0 & 1 \\end{pmatrix}^2\\right) = \\mathrm{tr}\\left(\\begin{pmatrix} 0 & 0 \\\\ 0 & 1 \\end{pmatrix}\\right) = 1$。所以，$\\|B_2\\|=1$。\n$\\|B_3\\|^2 = \\langle B_3, B_3 \\rangle = \\mathrm{tr}(B_3^T B_3) = \\mathrm{tr}\\left(\\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix}^2\\right) = \\mathrm{tr}\\left(\\begin{pmatrix} 1 & 0 \\\\ 0 & 1 \\end{pmatrix}\\right) = 2$。所以，$\\|B_3\\|=\\sqrt{2}$。\n\n$W$ 的一组标准正交基 $\\{u_1, u_2, u_3\\}$ 因此是：\n$u_1 = \\frac{B_1}{\\|B_1\\|} = \\begin{pmatrix} 1 & 0 \\\\ 0 & 0 \\end{pmatrix}$。\n$u_2 = \\frac{B_2}{\\|B_2\\|} = \\begin{pmatrix} 0 & 0 \\\\ 0 & 1 \\end{pmatrix}$。\n$u_3 = \\frac{B_3}{\\|B_3\\|} = \\frac{1}{\\sqrt{2}}\\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix}$。\n\n现在我们计算 $A = \\begin{pmatrix} 1 & 2 \\\\ 3 & 4 \\end{pmatrix}$ 与这些标准正交基向量的内积。\n$\\langle A, u_1 \\rangle = \\mathrm{tr}(A^T u_1) = \\mathrm{tr}\\left(\\begin{pmatrix} 1 & 3 \\\\ 2 & 4 \\end{pmatrix} \\begin{pmatrix} 1 & 0 \\\\ 0 & 0 \\end{pmatrix}\\right) = \\mathrm{tr}\\left(\\begin{pmatrix} 1 & 0 \\\\ 2 & 0 \\end{pmatrix}\\right) = 1$。\n$\\langle A, u_2 \\rangle = \\mathrm{tr}(A^T u_2) = \\mathrm{tr}\\left(\\begin{pmatrix} 1 & 3 \\\\ 2 & 4 \\end{pmatrix} \\begin{pmatrix} 0 & 0 \\\\ 0 & 1 \\end{pmatrix}\\right) = \\mathrm{tr}\\left(\\begin{pmatrix} 0 & 3 \\\\ 0 & 4 \\end{pmatrix}\\right) = 4$。\n$\\langle A, u_3 \\rangle = \\mathrm{tr}(A^T u_3) = \\mathrm{tr}\\left(\\begin{pmatrix} 1 & 3 \\\\ 2 & 4 \\end{pmatrix} \\frac{1}{\\sqrt{2}}\\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix}\\right) = \\frac{1}{\\sqrt{2}}\\mathrm{tr}\\left(\\begin{pmatrix} 3 & 1 \\\\ 4 & 2 \\end{pmatrix}\\right) = \\frac{3+2}{\\sqrt{2}} = \\frac{5}{\\sqrt{2}}$。\n\n最后，我们构造投影 $A_W$：\n$A_W = \\langle A, u_1 \\rangle u_1 + \\langle A, u_2 \\rangle u_2 + \\langle A, u_3 \\rangle u_3$\n$A_W = (1) \\begin{pmatrix} 1 & 0 \\\\ 0 & 0 \\end{pmatrix} + (4) \\begin{pmatrix} 0 & 0 \\\\ 0 & 1 \\end{pmatrix} + \\left(\\frac{5}{\\sqrt{2}}\\right) \\left(\\frac{1}{\\sqrt{2}}\\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix}\\right)$\n$A_W = \\begin{pmatrix} 1 & 0 \\\\ 0 & 0 \\end{pmatrix} + \\begin{pmatrix} 0 & 0 \\\\ 0 & 4 \\end{pmatrix} + \\frac{5}{2}\\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix}$\n$A_W = \\begin{pmatrix} 1 & 0 \\\\ 0 & 4 \\end{pmatrix} + \\begin{pmatrix} 0 & \\frac{5}{2} \\\\ \\frac{5}{2} & 0 \\end{pmatrix}$\n$A_W = \\begin{pmatrix} 1 & \\frac{5}{2} \\\\ \\frac{5}{2} & 4 \\end{pmatrix}$。\n\n这就是 $A$ 在对称矩阵子空间中的分量。", "answer": "$$\n\\boxed{\n\\begin{pmatrix} 1 & \\frac{5}{2} \\\\ \\frac{5}{2} & 4 \\end{pmatrix}\n}\n$$", "id": "1858280"}, {"introduction": "这个练习将超越单个元素的投影计算，要求你描述整个正交补空间 $W^\\perp$ 的特征。在多项式空间中，你将运用正交性的定义来建立并求解方程组，从而找到这个补空间的基。掌握这个过程能让你更深刻地理解希尔伯特空间的基本结构分解 $H = W \\oplus W^\\perp$。[@problem_id:1858246]", "problem": "设 $P_2([0,1])$ 是定义在区间 $[0,1]$ 上的所有次数至多为2的实系数多项式构成的向量空间。该空间上定义了标准 $L^2$ 内积，对于 $P_2([0,1])$ 中的任意两个多项式 $f(x)$ 和 $g(x)$，定义如下：\n$$\n\\langle f, g \\rangle = \\int_0^1 f(x)g(x) \\,dx\n$$\n考虑 $P_2([0,1])$ 的子空间 $W$，它由所有满足 $p(0) = 0$ 的多项式 $p(x)$ 构成。\n$W$ 的正交补记作 $W^\\perp$，是 $P_2([0,1])$ 中与 $W$ 中每个多项式都正交的所有多项式构成的集合。求一个特定的多项式 $q(x)$，它构成 $W^\\perp$ 的一个基，并满足以下条件：其系数均为整数且最大公约数为1，并且其最高次非零系数（首项系数）为正。", "solution": "设 $P_{2}([0,1])$ 上定义了内积 $\\langle f,g\\rangle=\\int_{0}^{1}f(x)g(x)\\,dx$。子空间 $W=\\{p\\in P_{2}([0,1]) : p(0)=0\\}$ 由形如 $p(x)=ax + bx^{2}$ 的多项式构成，因此 $\\dim W=2$。因为 $\\dim P_{2}([0,1])=3$，所以其正交补 $W^{\\perp}$ 的维数为 $1$。\n\n设 $q(x)=c_{0}+c_{1}x+c_{2}x^{2}\\in W^{\\perp}$。根据与 $W$ 的一个基（即 $\\{x, x^{2}\\}$）正交的条件，可得：\n$$\n\\langle q,x\\rangle=\\int_{0}^{1}(c_{0}+c_{1}x+c_{2}x^{2})x\\,dx=c_{0}\\int_{0}^{1}x\\,dx+c_{1}\\int_{0}^{1}x^{2}\\,dx+c_{2}\\int_{0}^{1}x^{3}\\,dx=0,\n$$\n$$\n\\langle q,x^{2}\\rangle=\\int_{0}^{1}(c_{0}+c_{1}x+c_{2}x^{2})x^{2}\\,dx=c_{0}\\int_{0}^{1}x^{2}\\,dx+c_{1}\\int_{0}^{1}x^{3}\\,dx+c_{2}\\int_{0}^{1}x^{4}\\,dx=0.\n$$\n计算这些积分，得到以下线性方程组：\n$$\n\\frac{1}{2}c_{0}+\\frac{1}{3}c_{1}+\\frac{1}{4}c_{2}=0,\\qquad \\frac{1}{3}c_{0}+\\frac{1}{4}c_{1}+\\frac{1}{5}c_{2}=0.\n$$\n方程两边同乘以 $60$ 以消去分母，得到：\n$$\n30c_{0}+20c_{1}+15c_{2}=0,\\qquad 20c_{0}+15c_{1}+12c_{2}=0.\n$$\n从第一个方程减去第二个方程的 $\\frac{3}{2}$ 倍，得到：\n$$\n\\left(30c_{0}+20c_{1}+15c_{2}\\right)-\\frac{3}{2}\\left(20c_{0}+15c_{1}+12c_{2}\\right)=0 \\implies -\\frac{5}{2}c_{1}-3c_{2}=0,\n$$\n即 $5c_{1}+6c_{2}=0$，因此 $c_{1}=-\\frac{6}{5}c_{2}$。将此结果代入 $30c_{0}+20c_{1}+15c_{2}=0$ 得到：\n$$\n30c_{0}+20\\left(-\\frac{6}{5}c_{2}\\right)+15c_{2}=0 \\implies 30c_{0}-24c_{2}+15c_{2}=0 \\implies 30c_{0}=9c_{2} \\implies c_{0}=\\frac{3}{10}c_{2}.\n$$\n因此，一个一般的非零解的系数为 $(c_{0},c_{1},c_{2})=\\left(\\frac{3}{10}c_2,-\\frac{6}{5}c_2,c_2\\right)$。取 $c_{2}=10$ 可得到整数系数 $(3,-12,10)$，其最大公约数为 $1$ 且首项系数为正。因此，\n$$\nq(x)=10x^{2}-12x+3\n$$\n生成 $W^{\\perp}$。验证：\n$$\n\\int_{0}^{1}(10x^{2}-12x+3)x\\,dx=\\left[\\frac{5}{2}x^4-4x^3+\\frac{3}{2}x^2\\right]_0^1 = \\frac{5}{2}-4+\\frac{3}{2}=0,\n$$\n$$\n\\int_{0}^{1}(10x^{2}-12x+3)x^{2}\\,dx=\\left[2x^5-3x^4+x^3\\right]_0^1 = 2-3+1=0,\n$$\n所以 $q(x)$ 与 $x$ 和 $x^{2}$ 都正交，因此与 $W$ 中所有元素都正交。", "answer": "$$\\boxed{10x^{2}-12x+3}$$", "id": "1858246"}]}