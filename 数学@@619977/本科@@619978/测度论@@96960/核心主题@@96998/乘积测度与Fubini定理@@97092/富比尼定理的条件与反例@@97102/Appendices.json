{"hands_on_practices": [{"introduction": "理论学习之后，最好的巩固方式就是实践。让我们从一个直观的例子开始，应用托内利定理 (Tonelli's Theorem) 计算一个定义在单位圆盘上的非负函数的积分。这个练习 [@problem_id:1411309] 不仅能检验你对定理条件的理解，还将加强你在更广阔的积分域（例如，一个正方形）上使用指示函数处理复杂几何形状的实用技巧。", "problem": "设 $D$ 为笛卡尔平面中的单位圆盘，定义为 $D = \\{(x,y) \\in \\mathbb{R}^2 \\mid x^2 + y^2 \\le 1\\}$。考虑函数 $f(x,y) = x^2 + y^2$。我们希望计算该函数在区域 $D$ 上的二重积分。\n\n这个积分可以通过考虑在正方形 $S = [-1, 1] \\times [-1, 1]$ 上定义的辅助函数 $g(x,y) = (x^2+y^2) \\chi_D(x,y)$ 来计算，其中 $\\chi_D(x,y)$ 是圆盘 $D$ 的指示函数。若 $(x,y) \\in D$，该指示函数等于 1，否则等于 0。$f(x,y)$ 在 $D$ 上的积分就等价于 $g(x,y)$ 在 $S$ 上的积分。\n\n通过计算累次积分 $\\int_{-1}^{1} \\left( \\int_{-1}^{1} g(x,y) \\, dx \\right) dy$ 来求此积分的值。请以一个闭式解析表达式的形式给出其精确值。", "solution": "我们通过在 $S=[-1,1]\\times[-1,1]$ 上对 $g(x,y)=(x^{2}+y^{2})\\chi_{D}(x,y)$ 进行积分，来求 $f(x,y)=x^{2}+y^{2}$ 在 $D=\\{(x,y)\\in\\mathbb{R}^{2}\\mid x^{2}+y^{2}\\leq 1\\}$ 上的积分。由于 $g\\geq 0$ 且可测，根据托内利定理 (Tonelli’s theorem)，可以直接计算累次积分\n$$\n\\int_{-1}^{1}\\left(\\int_{-1}^{1}g(x,y)\\,dx\\right)dy.\n$$\n对于固定的 $y\\in[-1,1]$，当 $x^{2}+y^{2}\\leq 1$ 时，即当 $x\\in[-\\sqrt{1-y^{2}},\\,\\sqrt{1-y^{2}}]$ 时，被积函数 $g(x,y)$ 等于 $x^{2}+y^{2}$，否则等于 $0$。因此内层积分为\n$$\nI(y)=\\int_{-1}^{1}g(x,y)\\,dx=\\int_{-\\sqrt{1-y^{2}}}^{\\sqrt{1-y^{2}}}(x^{2}+y^{2})\\,dx.\n$$\n利用偶函数性质计算，\n$$\nI(y)=\\int_{-\\sqrt{1-y^{2}}}^{\\sqrt{1-y^{2}}}x^{2}\\,dx+\\int_{-\\sqrt{1-y^{2}}}^{\\sqrt{1-y^{2}}}y^{2}\\,dx\n=2\\int_{0}^{\\sqrt{1-y^{2}}}x^{2}\\,dx+2y^{2}\\sqrt{1-y^{2}}.\n$$\n计算第一项：\n$$\n2\\int_{0}^{\\sqrt{1-y^{2}}}x^{2}\\,dx=2\\cdot\\frac{\\left(\\sqrt{1-y^{2}}\\right)^{3}}{3}=\\frac{2}{3}(1-y^{2})^{3/2}.\n$$\n于是\n$$\nI(y)=\\frac{2}{3}(1-y^{2})^{3/2}+2y^{2}(1-y^{2})^{1/2}.\n$$\n于是外层积分为\n$$\n\\int_{-1}^{1}I(y)\\,dy\n=2\\int_{0}^{1}\\left[\\frac{2}{3}(1-y^{2})^{3/2}+2y^{2}(1-y^{2})^{1/2}\\right]dy,\n$$\n这里我们利用了 $I(y)$ 是偶函数的性质。使用换元法，令 $y=\\sin\\theta$，其中 $\\theta\\in[0,\\frac{\\pi}{2}]$，则 $dy=\\cos\\theta\\,d\\theta$，$(1-y^{2})^{1/2}=\\cos\\theta$，以及 $(1-y^{2})^{3/2}=\\cos^{3}\\theta$。那么\n$$\n2\\int_{0}^{1}\\left[\\frac{2}{3}(1-y^{2})^{3/2}+2y^{2}(1-y^{2})^{1/2}\\right]dy\n=2\\int_{0}^{\\pi/2}\\left[\\frac{2}{3}\\cos^{4}\\theta+2\\sin^{2}\\theta\\cos^{2}\\theta\\right]d\\theta.\n$$\n计算标准的三角函数积分：\n$$\n\\int_{0}^{\\pi/2}\\cos^{4}\\theta\\,d\\theta=\\frac{3\\pi}{16},\\qquad\n\\int_{0}^{\\pi/2}\\sin^{2}\\theta\\cos^{2}\\theta\\,d\\theta=\\frac{\\pi}{16}.\n$$\n因此，\n$$\n2\\int_{0}^{\\pi/2}\\left[\\frac{2}{3}\\cos^{4}\\theta+2\\sin^{2}\\theta\\cos^{2}\\theta\\right]d\\theta\n=2\\left[\\frac{2}{3}\\cdot\\frac{3\\pi}{16}+2\\cdot\\frac{\\pi}{16}\\right]\n=2\\left[\\frac{\\pi}{8}+\\frac{\\pi}{8}\\right]\n=2\\cdot\\frac{\\pi}{4}\n=\\frac{\\pi}{2}.\n$$\n此结果等于 $f$ 在 $D$ 上的二重积分，因此也等于所给定的 $g$ 在 $S$ 上的累次积分。", "answer": "$$\\boxed{\\frac{\\pi}{2}}$$", "id": "1411309"}, {"introduction": "在某些情况下，即使交换积分次序后两个累次积分的结果相等，我们也不能草率地断定函数是可积的。这个具有挑战性的问题 [@problem_id:1411344] 构建了一个精巧的函数，其累次积分均为零，但函数的绝对值在整个区域上的积分却是无穷大。通过分析这个案例，你将学会警惕这种“假象”，并理解为何验证绝对可积性（$\\int |f| d\\mu < \\infty$）是应用富比尼定理不可或缺的一步。", "problem": "一位工程师正在研究一个理论模型，该模型描述了由区域 $[0,1] \\times [0,1]$ 定义的方形导电板上的静电势 $f(x,y)$。该电势通过一个无限分层过程构建。\n\n构造始于整个板，我们可以称之为第零代正方形。\n\n在第一步（$n=1$）中，第零代正方形被分割成四个相等的小正方形。然后叠加一个电势分布：沿主对角线的两个小正方形（即左下和右上）被施加 $+c_1$ 的电势，另外两个非对角线上的小正方形被施加 $-c_1$ 的电势。\n\n在第二步（$n=2$）中，只考虑第一步中的两个对角线小正方形。这两个正方形中的每一个自身又被分割成四个更小的小正方形。在这两组各四个小正方形的内部，应用相同的模式：向两个新的对角线小正方形上添加 $+c_2$ 的电势，向两个新的非对角线小正方形上添加 $-c_2$ 的电势。第一步中非对角线正方形的电势保持不变。\n\n这个过程无限持续下去。在第 $n$ 步，来自第 $n-1$ 步的 $2^{n-1}$ 个对角线正方形中的每一个都被分割成四个，并遵循相同的对角线/非对角线模式添加 $\\pm c_n$ 的电势分布。\n\n板上任意点 $(x,y)$ 的总电势 $f(x,y)$ 是在所有步骤中添加的电势之和。常数序列由 $c_n = 4^n$ 给出，其中 $n=1, 2, 3, \\dots$。\n\n你的任务是计算由累次积分 $\\int_0^1 \\left( \\int_0^1 f(x,y) \\, dy \\right) \\, dx$ 给出的与功相关的量。", "solution": "让我们将函数 $f(x,y)$ 的构造形式化。\n电势被构造成函数之和 $f(x,y) = \\sum_{n=1}^{\\infty} g_n(x,y)$，其中 $g_n(x,y)$ 是在第 $n$ 步添加的电势分布。\n\n设 $E_0 = [0,1]^2$。在第 1 步，$E_0$ 被分割成四个正方形。设 $E_1$ 为此次分割中两个对角线正方形的并集：$E_1 = [0, 1/2)^2 \\cup [1/2, 1)^2$。$E_1$ 的面积为 $2 \\times (1/2)^2 = 1/2$。函数 $g_1(x,y)$ 定义为：\n$$ g_1(x,y) = \\begin{cases} +c_1 & \\text{if } (x,y) \\in E_1 \\\\ -c_1 & \\text{if } (x,y) \\in E_0 \\setminus E_1 \\end{cases} $$\n在第 2 步，组成 $E_1$ 的两个正方形中的每一个都被分割成四个更小的小正方形。设 $E_2$ 为这些分割中对角线小正方形的并集。$E_2$ 由 4 个边长为 $1/4$ 的正方形组成，所以其总面积为 $4 \\times (1/4)^2 = 1/4$。函数 $g_2(x,y)$ 定义为：\n$$ g_2(x,y) = \\begin{cases} +c_2 & \\text{if } (x,y) \\in E_2 \\\\ -c_2 & \\text{if } (x,y) \\in E_1 \\setminus E_2 \\\\ 0 & \\text{if } (x,y) \\notin E_1 \\end{cases} $$\n一般地，设 $E_{n-1}$ 为第 $n-1$ 步中 $2^{n-1}$ 个对角线正方形的并集。$E_{n-1}$ 的面积是 $2^{n-1} \\times (2^{-(n-1)})^2 = 2^{-(n-1)}$。在第 $n$ 步，我们将 $E_{n-1}$ 中的每个正方形分割成四个。设 $E_n$ 为所有新的对角线正方形的并集。$E_n$ 的面积是 $2^{-n}$。函数 $g_n(x,y)$ 定义为：\n$$ g_n(x,y) = \\begin{cases} +c_n & \\text{if } (x,y) \\in E_n \\\\ -c_n & \\text{if } (x,y) \\in E_{n-1} \\setminus E_n \\\\ 0 & \\text{if } (x,y) \\notin E_{n-1} \\end{cases} $$\n总电势为 $f(x,y) = \\sum_{n=1}^{\\infty} g_n(x,y)$。我们需要计算 $I = \\int_0^1 \\left( \\int_0^1 f(x,y) \\, dy \\right) \\, dx$。\n\n首先，我们计算内层积分 $I_x = \\int_0^1 f(x,y) \\, dy$，对于一个固定的 $x \\in [0,1]$ 值。\n$$ I_x = \\int_0^1 \\sum_{n=1}^{\\infty} g_n(x,y) \\, dy $$\n对于一个固定的 $x$，函数 $y \\mapsto g_n(x,y)$ 是简单函数。和 $\\sum_{n=1}^\\infty g_n(x,y)$ 严格来说是一个无穷级数，但对于任何不在任何构造正方形边界上（一个测度为零的集合）的给定点 $(x,y)$，它所属的正方形序列是唯一的。我们可以证明交换积分和求和的合理性。为了进行严格的证明，可以使用控制收敛定理 (Dominated Convergence Theorem)，但我们也可以更直接地论证。对于一个固定的 $x$，和 $\\sum g_n(x,y)$ 是 $y$ 轴上的阶梯函数之和。总积分将是各积分之和。\n$$ I_x = \\sum_{n=1}^{\\infty} \\int_0^1 g_n(x,y) \\, dy $$\n让我们分析积分 $\\int_0^1 g_n(x,y) \\, dy$。\n函数 $g_n(x,y)$ 仅在 $(x,y) \\in E_{n-1}$ 时非零。$E_{n-1}$ 是 $2^{n-1}$ 个不相交正方形的并集，记为 $Q_k$，其中 $k=1, \\dots, 2^{n-1}$。每个 $Q_k$ 的边长为 $L = 2^{-(n-1)}$。设 $Q_k = [x_k, x_k+L) \\times [y_k, y_k+L)$。\n如果我们固定的 $x$ 不在任何区间 $[x_k, x_k+L)$ 内，则对所有 $y$ 都有 $g_n(x,y)=0$，其积分为零。\n假设对于某个 $k$，有 $x \\in [x_k, x_k+L)$。那么积分仅在 $y \\in [y_k, y_k+L)$ 时非零。\n在正方形 $Q_k$ 内，函数 $g_n(x,y)$ 的定义是基于 $Q_k$ 分割成的四个小正方形。让我们考虑当 $y$ 从 $y_k$ 变化到 $y_k+L$ 时 $g_n(x,y)$ 的行为。\n$y$ 区间 $[y_k, y_k+L)$ 被分成两半：$[y_k, y_k+L/2)$ 和 $[y_k+L/2, y_k+L)$。\n如果 $x \\in [x_k, x_k+L/2)$，那么当 $y \\in [y_k, y_k+L/2)$ 时 $(x,y)$ 在一个对角线小正方形内，而当 $y \\in [y_k+L/2, y_k+L)$ 时在一个非对角线小正方形内。\n因此，对于 $x \\in [x_k, x_k+L/2)$：\n$$ g_n(x,y) = \\begin{cases} +c_n & \\text{for } y \\in [y_k, y_k+L/2) \\\\ -c_n & \\text{for } y \\in [y_k+L/2, y_k+L) \\end{cases} $$\n在这个 $y$ 范围上的积分是：\n$$ \\int_{y_k}^{y_k+L} g_n(x,y) \\, dy = (+c_n) \\cdot (L/2) + (-c_n) \\cdot (L/2) = 0 $$\n如果 $x \\in [x_k+L/2, x_k+L)$，那么当 $y \\in [y_k, y_k+L/2)$ 时 $(x,y)$ 在一个非对角线小正方形内，而当 $y \\in [y_k+L/2, y_k+L)$ 时在一个对角线小正方形内。\n因此，对于 $x \\in [x_k+L/2, x_k+L)$：\n$$ g_n(x,y) = \\begin{cases} -c_n & \\text{for } y \\in [y_k, y_k+L/2) \\\\ +c_n & \\text{for } y \\in [y_k+L/2, y_k+L) \\end{cases} $$\n在这个 $y$ 范围上的积分同样是：\n$$ \\int_{y_k}^{y_k+L} g_n(x,y) \\, dy = (-c_n) \\cdot (L/2) + (+c_n) \\cdot (L/2) = 0 $$\n这对 $E_{n-1}$ 中的任何正方形 $Q_k$ 都成立。因此，对于任何固定的 $x$（不在二进有理数边界上），切片 $g_n(x, \\cdot)$ 在其支集上的积分为零。\n所以，对于任何 $n \\geq 1$ 和任何 $x \\in [0,1]$：\n$$ \\int_0^1 g_n(x,y) \\, dy = 0 $$\n这意味着内层积分为：\n$$ I_x = \\int_0^1 f(x,y) \\, dy = \\sum_{n=1}^{\\infty} \\int_0^1 g_n(x,y) \\, dy = \\sum_{n=1}^{\\infty} 0 = 0 $$\n这对所有 $x \\in [0,1]$ 都成立。\n现在我们可以计算外层积分：\n$$ I = \\int_0^1 I_x \\, dx = \\int_0^1 0 \\, dx = 0 $$\n该累次积分的值为 0。\n\n需要特别注意的是，这个结果并不意味着函数 $f$ 在 $[0,1]^2$ 上是 Lebesgue 可积的。Fubini 定理允许在函数是绝对可积的情况下交换积分次序，即 $\\int_{[0,1]^2} |f(x,y)| \\, d(x,y) < \\infty$。我们来检验这个条件。\n\n对于 $n=1, 2, \\dots$，集合 $E_{n-1} \\setminus E_n$ 是不相交的，它们的并集覆盖了 $[0,1]^2$（除去一个测度为零的集合 $\\cap E_n$）。$E_{n-1} \\setminus E_n$ 的面积是 $\\text{Area}(E_{n-1}) - \\text{Area}(E_n) = 2^{-(n-1)} - 2^{-n} = 2^{-n}$。\n\n对于任何点 $(x,y) \\in E_{k-1} \\setminus E_k$，其电势由其直到第 $k$ 步的历史决定。这样一个点在第 $1, \\dots, k-1$ 步中处于对角线区域，在第 $k$ 步处于非对角线区域。对于所有后续步骤 $j>k$，$g_j(x,y)=0$。\n所以，对于 $(x,y) \\in E_{k-1} \\setminus E_k$：\n$g_1(x,y) = +c_1$\n$g_2(x,y) = +c_2$\n...\n$g_{k-1}(x,y) = +c_{k-1}$\n$g_k(x,y) = -c_k$\n$g_j(x,y) = 0$ for $j>k$。\n在这个集合上，函数的值是常数： $f(x,y) = \\left(\\sum_{j=1}^{k-1} c_j\\right) - c_k$。\n\n让我们计算 $|f|$ 的积分：\n$$ \\int_{[0,1]^2} |f| \\, d\\lambda = \\sum_{n=1}^{\\infty} \\int_{E_{n-1} \\setminus E_n} |f| \\, d\\lambda = \\sum_{n=1}^{\\infty} \\left|\\sum_{j=1}^{n-1} c_j - c_n\\right| \\cdot \\text{Area}(E_{n-1} \\setminus E_n) $$\n当 $c_j = 4^j$ 时，该和是一个等比级数：$\\sum_{j=1}^{n-1} 4^j = 4 \\frac{4^{n-1}-1}{4-1} = \\frac{4}{3}(4^{n-1}-1)$。\n级数中的项是：\n$$ \\left|\\frac{4}{3}(4^{n-1}-1) - 4^n\\right| \\cdot 2^{-n} = \\left|\\frac{1}{3}4^n - \\frac{4}{3} - 4^n\\right| \\cdot 2^{-n} = \\left|-\\frac{2}{3}4^n - \\frac{4}{3}\\right| \\cdot 2^{-n} $$\n$$ = \\left(\\frac{2}{3}4^n + \\frac{4}{3}\\right) 2^{-n} = \\frac{2}{3} \\frac{4^n}{2^n} + \\frac{4}{3} \\frac{1}{2^n} = \\frac{2}{3}2^n + \\frac{4}{3}2^{-n} $$\n现在我们对所有 $n$ 求和：\n$$ \\int_{[0,1]^2} |f| \\, d\\lambda = \\sum_{n=1}^{\\infty} \\left(\\frac{2}{3}2^n + \\frac{4}{3}2^{-n}\\right) = \\frac{2}{3}\\sum_{n=1}^{\\infty} 2^n + \\frac{4}{3}\\sum_{n=1}^{\\infty} \\left(\\frac{1}{2}\\right)^n $$\n第一个级数 $\\sum_{n=1}^{\\infty} 2^n$ 是一个公比 $r=2 > 1$ 的等比级数，它发散到无穷大。第二个级数收敛。因此，整个和是发散的。\n$$ \\int_{[0,1]^2} |f(x,y)| \\, d(x,y) = \\infty $$\n函数 $f$ 不是 Lebesgue 可积的。这是一个经典的例子，其中累次积分存在且相等，但 Fubini 定理不适用，因为该函数不是绝对可积的。题目只要求计算累次积分的值，我们已经求出其值为 0。", "answer": "$$\\boxed{0}$$", "id": "1411344"}]}