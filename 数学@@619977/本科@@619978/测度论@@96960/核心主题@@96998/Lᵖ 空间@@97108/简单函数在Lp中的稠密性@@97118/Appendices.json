{"hands_on_practices": [{"introduction": "简单函数在 $L^p$ 空间中的稠密性是测度论中的一个基石结论，它意味着任何 $L^p$ 函数都可以被“阶梯”函数任意逼近。为了将这一抽象概念具体化，我们将从一个实际的优化问题开始。这个练习将指导你找到一个给定函数在 $L^1$ 范数下的最佳简单函数逼近，让你亲手体验如何将一个泛函分析中的逼近问题转化为具体的计算 [@problem_id:1414848]。", "problem": "考虑区间 $[0, 1]$ 上的函数 $f(x) = \\sin(\\pi x)$，该区间赋有标准的勒贝格测度。该区间被划分为四个等长的子区间：$I_1 = [0, 1/4]$、$I_2 = (1/4, 1/2]$、$I_3 = (1/2, 3/4]$ 和 $I_4 = (3/4, 1]$。\n\n我们希望用一个形式为\n$$ \\phi(x) = \\sum_{k=1}^{4} c_k \\chi_{I_k}(x) $$\n的简单函数 $\\phi(x)$ 来逼近 $f(x)$，其中每个 $c_k$ 是一个实常数，$\\chi_{I_k}(x)$ 是区间 $I_k$ 的特征函数。\n\n逼近的质量由差分的 $L^1$ 范数来衡量，其定义为 $\\| g \\|_{L^1([0,1])} = \\int_0^1 |g(x)| dx$。最佳逼近是使这个误差最小化的函数 $\\phi(x)$，即它最小化 $\\|f - \\phi\\|_{L^1([0,1])}$。\n\n确定定义这个最佳简单函数逼近的唯一有序实常数四元组 $(c_1, c_2, c_3, c_4)$。请以精确解析表达式的有序四元组形式给出你的答案。", "solution": "我们以如下形式最小化误差\n$$\\|f-\\phi\\|_{L^{1}([0,1])}=\\sum_{k=1}^{4}\\int_{I_{k}}|f(x)-c_{k}|\\,dx,$$\n因此，最优常数是通过对每个区间 $I_{k}$ 独立地最小化\n$$F_{k}(c)=\\int_{I_{k}}|f(x)-c|\\,dx$$\n来获得的。\n对于勒贝格测度集上的任何可积函数，$F_{k}(c)$ 是关于 $c$ 的凸函数，并且对于任何在一个正测度集上不等于 $f(x)$ 的 $c$，它满足\n$$\\frac{d}{dc}F_{k}(c)=\\int_{I_{k}}\\operatorname{sgn}(c-f(x))\\,dx=m\\{x\\in I_{k}:f(x)<c\\}-m\\{x\\in I_{k}:f(x)>c\\},$$\n其中 $m$ 表示勒贝格测度。因此，任何最小化子 $c$ 都满足\n$$m\\{x\\in I_{k}:f(x)\\le c\\}\\ge \\tfrac{1}{2}m(I_{k})\\quad\\text{且}\\quad m\\{x\\in I_{k}:f(x)\\ge c\\}\\ge \\tfrac{1}{2}m(I_{k}),$$\n也就是说，$c$ 是 $f$ 在 $I_{k}$ 上的一个中位数。如果 $f$ 在 $I_{k}=[a,b]$ 上是严格单调且连续的，那么这个中位数是唯一的，并且等于 $f$ 在中点处的值，因为只有当 $x=(a+b)/2$ 时，$f(x)\\le c$（或 $\\ge c$）的集合才恰好占据区间的一半。\n\n对于 $[0,1]$ 上的 $f(x)=\\sin(\\pi x)$，$f$ 在 $[0,\\tfrac{1}{2}]$ 上严格递增，在 $[\\tfrac{1}{2},1]$ 上严格递减。在每个 $I_{k}$ 上，$f$ 都是严格单调且连续的。因此，$I_{k}$ 上的唯一最小化子是\n$$c_{k}=f\\!\\left(\\frac{a_{k}+b_{k}}{2}\\right),$$\n其中 $I_{k}=[a_{k},b_{k}]$（端点的开闭对积分无关紧要）。这些中点是\n$$\\frac{0+\\tfrac{1}{4}}{2}=\\frac{1}{8},\\quad \\frac{\\tfrac{1}{4}+\\tfrac{1}{2}}{2}=\\frac{3}{8},\\quad \\frac{\\tfrac{1}{2}+\\tfrac{3}{4}}{2}=\\frac{5}{8},\\quad \\frac{\\tfrac{3}{4}+1}{2}=\\frac{7}{8}.$$\n因此\n$$c_{1}=\\sin\\!\\left(\\frac{\\pi}{8}\\right),\\quad c_{2}=\\sin\\!\\left(\\frac{3\\pi}{8}\\right),\\quad c_{3}=\\sin\\!\\left(\\frac{5\\pi}{8}\\right),\\quad c_{4}=\\sin\\!\\left(\\frac{7\\pi}{8}\\right).$$\n使用 $\\sin(\\pi-\\theta)=\\sin(\\theta)$ 可得 $c_{3}=\\sin\\!\\left(\\frac{3\\pi}{8}\\right)$ 和 $c_{4}=\\sin\\!\\left(\\frac{\\pi}{8}\\right)$。运用半角恒等式，\n$$\\sin\\!\\left(\\frac{\\pi}{8}\\right)=\\frac{\\sqrt{2-\\sqrt{2}}}{2},\\qquad \\sin\\!\\left(\\frac{3\\pi}{8}\\right)=\\cos\\!\\left(\\frac{\\pi}{8}\\right)=\\frac{\\sqrt{2+\\sqrt{2}}}{2}.$$\n因此，唯一的有序四元组是\n$$\\left(\\frac{\\sqrt{2-\\sqrt{2}}}{2},\\ \\frac{\\sqrt{2+\\sqrt{2}}}{2},\\ \\frac{\\sqrt{2+\\sqrt{2}}}{2},\\ \\frac{\\sqrt{2-\\sqrt{2}}}{2}\\right).$$\n唯一性来自于 $f$ 在每个子区间上的严格单调性，这确保了每个 $c_{k}$ 都有一个唯一的中位数，从而有一个唯一的最小化子。", "answer": "$$\\boxed{\\begin{pmatrix}\\frac{\\sqrt{2-\\sqrt{2}}}{2} & \\frac{\\sqrt{2+\\sqrt{2}}}{2} & \\frac{\\sqrt{2+\\sqrt{2}}}{2} & \\frac{\\sqrt{2-\\sqrt{2}}}{2}\\end{pmatrix}}$$", "id": "1414848"}, {"introduction": "在证明简单函数稠密性的定理时，通常会用到两种核心的构造方法：一种是划分定义域，另一种是划分值域。这个练习让你直接比较这两种方法在逼近函数 $f(x) = e^x$ 时的效果。通过计算这两种方法产生的 $L^1$ 逼近误差，你不仅能理解这些构造性证明的思路，还能从量化的角度洞察它们各自的特点和效率 [@problem_id:1414869]。", "problem": "在测度论中，一个关键结果是 $L^p$ 空间中的任何函数都可以由一列简单函数来逼近。本问题探讨针对区间 $[0,1]$ 上的函数 $f(x) = e^x$，使用两种标准方法构建此类简单函数逼近时的定量表现。逼近误差使用 $L^1$ 范数来衡量，对于 $[a,b]$ 上的一个实值函数 $g$，其定义为 $\\|g\\|_{L^1} = \\int_a^b |g(x)|dx$。\n\n设当 $x \\in [0,1]$ 时，$f(x) = e^x$。我们将使用 $n=2$ 个划分来为 $f$ 构建两个简单函数逼近。\n\n1.  **定义域划分简单函数, $s_2(x)$**：将定义域 $[0,1]$ 划分为两个相等的子区间：$I_0 = [0, 1/2)$ 和 $I_1 = [1/2, 1]$。简单函数 $s_2(x)$ 在每个子区间上被定义为常数，其值取为 $f(x)$ 在该子区间左端点的值。即，当 $x \\in I_0$ 时，$s_2(x) = f(0)$；当 $x \\in I_1$ 时，$s_2(x) = f(1/2)$。\n\n2.  **值域划分简单函数, $\\phi_2(x)$**：函数 $f$ 在 $[0,1]$ 上的值域是 $[1, e]$。将该值域划分为两个相等的子区间。设划分点为 $y_0 = 1$，$y_1 = 1 + (e-1)/2$ 和 $y_2=e$。这将根据函数的值将定义域 $[0,1]$ 划分为两个集合：$E_0 = \\{x \\in [0,1] \\mid y_0 \\leq f(x) < y_1\\}$ 和 $E_1 = \\{x \\in [0,1] \\mid y_1 \\leq f(x) \\leq y_2\\}$。简单函数 $\\phi_2(x)$ 定义为：当 $x \\in E_0$ 时，$\\phi_2(x) = y_0$；当 $x \\in E_1$ 时，$\\phi_2(x) = y_1$。\n\n设 $E_D = \\|f - s_2\\|_{L^1}$ 为定义域划分方法的逼近误差，$E_R = \\|f - \\phi_2\\|_{L^1}$ 为值域划分方法的逼近误差。\n\n计算比值 $\\frac{E_D}{E_R}$。您的答案应为一个单一的闭式解析表达式。", "solution": "设在 $[0,1]$ 上 $f(x)=\\exp(x)$。对于定义域划分简单函数 $s_{2}$，在区间 $[0,\\frac{1}{2})$ 上有 $s_{2}(x)=1$，在区间 $[\\frac{1}{2},1]$ 上有 $s_{2}(x)=\\exp\\!\\left(\\frac{1}{2}\\right)$。由于 $\\exp(x)$ 在 $[0,1]$ 上是递增的，我们可以去掉绝对值符号。因此\n$$\nE_{D}=\\int_{0}^{\\frac{1}{2}}\\big(\\exp(x)-1\\big)\\,dx+\\int_{\\frac{1}{2}}^{1}\\big(\\exp(x)-\\exp\\!\\left(\\tfrac{1}{2}\\right)\\big)\\,dx.\n$$\n计算每一项：\n$$\n\\int_{0}^{\\frac{1}{2}}\\big(\\exp(x)-1\\big)\\,dx=\\big[\\exp(x)-x\\big]_{0}^{\\frac{1}{2}}=\\exp\\!\\left(\\tfrac{1}{2}\\right)-1-\\tfrac{1}{2}=\\exp\\!\\left(\\tfrac{1}{2}\\right)-\\tfrac{3}{2},\n$$\n$$\n\\int_{\\frac{1}{2}}^{1}\\big(\\exp(x)-\\exp\\!\\left(\\tfrac{1}{2}\\right)\\big)\\,dx=\\big[\\exp(x)\\big]_{\\frac{1}{2}}^{1}-\\exp\\!\\left(\\tfrac{1}{2}\\right)\\big(1-\\tfrac{1}{2}\\big)=\\exp(1)-\\tfrac{3}{2}\\exp\\!\\left(\\tfrac{1}{2}\\right).\n$$\n因此\n$$\nE_{D}=\\exp(1)-\\tfrac{1}{2}\\exp\\!\\left(\\tfrac{1}{2}\\right)-\\tfrac{3}{2}.\n$$\n\n对于值域划分简单函数 $\\phi_{2}$，值域 $[1,\\exp(1)]$ 在 $y_{1}=1+\\tfrac{\\exp(1)-1}{2}=\\tfrac{1+\\exp(1)}{2}$ 处被分割。设 $a=\\ln(y_{1})=\\ln\\!\\left(\\tfrac{1+\\exp(1)}{2}\\right)$。那么在 $[0,a)$ 上 $\\phi_{2}(x)=1$，在 $[a,1]$ 上 $\\phi_{2}(x)=y_{1}$。由于 $\\exp$ 是递增的，绝对值符号可以去掉，并且\n$$\nE_{R}=\\int_{0}^{a}\\big(\\exp(x)-1\\big)\\,dx+\\int_{a}^{1}\\big(\\exp(x)-y_{1}\\big)\\,dx.\n$$\n计算：\n$$\n\\int_{0}^{a}\\big(\\exp(x)-1\\big)\\,dx=\\big[\\exp(x)-x\\big]_{0}^{a}=(\\exp(a)-1)-a=(y_{1}-1)-a,\n$$\n$$\n\\int_{a}^{1}\\big(\\exp(x)-y_{1}\\big)\\,dx=\\big[\\exp(x)\\big]_{a}^{1}-y_{1}(1-a)=\\exp(1)-\\exp(a)-y_{1}(1-a)=\\exp(1)-2y_{1}+y_{1}a.\n$$\n因此\n$$\nE_{R}=(y_{1}-1)-a+\\exp(1)-2y_{1}+y_{1}a=\\exp(1)-1-y_{1}-a+y_{1}a.\n$$\n代入 $y_{1}=\\tfrac{1+\\exp(1)}{2}$ 和 $a=\\ln\\!\\left(\\tfrac{1+\\exp(1)}{2}\\right)$ 可得\n$$\nE_{R}=\\frac{\\exp(1)-3}{2}+\\frac{\\exp(1)-1}{2}\\,\\ln\\!\\left(\\frac{1+\\exp(1)}{2}\\right).\n$$\n\n因此，比值为\n$$\n\\frac{E_{D}}{E_{R}}=\\frac{\\exp(1)-\\tfrac{1}{2}\\exp\\!\\left(\\tfrac{1}{2}\\right)-\\tfrac{3}{2}}{\\tfrac{1}{2}\\big[(\\exp(1)-3)+(\\exp(1)-1)\\ln\\!\\left(\\tfrac{1+\\exp(1)}{2}\\right)\\big]}=\\frac{2\\exp(1)-\\exp\\!\\left(\\tfrac{1}{2}\\right)-3}{(\\exp(1)-3)+(\\exp(1)-1)\\ln\\!\\left(\\tfrac{1+\\exp(1)}{2}\\right)}.\n$$", "answer": "$$\\boxed{\\frac{2\\exp(1)-\\exp\\!\\left(\\frac{1}{2}\\right)-3}{\\left(\\exp(1)-3\\right)+\\left(\\exp(1)-1\\right)\\ln\\!\\left(\\frac{1+\\exp(1)}{2}\\right)}}$$", "id": "1414869"}, {"introduction": "我们已经看到如何在 $L^p$ 范数意义下用简单函数逼近一个函数，但这“逼近”或“收敛”到底意味着什么？这个练习通过一个著名的反例，展示了一个函数序列可以在 $L^p$ 范数下收敛到零 (对于 $1 \\le p < \\infty$)，但却不在任何一个点上收敛。这个“打字机序列”的例子对于纠正我们将逐点收敛的直觉推广到 $L^p$ 空间的普遍误解至关重要，它深刻揭示了范数收敛与逐点收敛的本质区别 [@problem_id:1414901]。", "problem": "设区间 $[0,1]$ 配备了标准的勒贝格测度。考虑一个函数序列 $(f_n)_{n=1}^\\infty$，其定义如下。对于每个整数 $n \\geq 1$，存在唯一的表示 $n = 2^k + j$，其中 $k$ 是一个非负整数，$j$ 是一个满足 $0 \\le j < 2^k$ 的整数。函数 $f_n$ 定义为闭区间 $I_n = [j/2^k, (j+1)/2^k]$ 上的指示函数。\n\n我们根据这个序列的性质定义三个集合：\n- $A = \\{ p \\in [1, \\infty] \\mid \\text{序列 } (f_n) \\text{ 在 } L^p \\text{ 范数下收敛于零函数} \\}$\n- $B = \\{ x \\in [0,1] \\mid \\text{数值序列 } (f_n(x))_{n=1}^\\infty \\text{ 收敛} \\}$\n- $C = \\{ x \\in [0,1] \\mid \\text{级数 } \\sum_{n=1}^\\infty f_n(x) \\text{ 收敛到一个有限值} \\}$\n\n下列哪项正确地指出了这三个集合？令 $\\mathcal{D}$ 表示 $[0,1]$ 中的二进有理数集合（即形如 $m/2^q$ 的数，其中 $m, q$ 为整数且 $q \\ge 0$）。\n\nA) $A = [1, \\infty]$, $B = \\emptyset$, $C = \\emptyset$\n\nB) $A = [1, \\infty)$, $B = \\emptyset$, $C = \\emptyset$\n\nC) $A = [1, \\infty)$, $B = \\mathcal{D}$, $C = \\emptyset$\n\nD) $A = [1, \\infty]$, $B = \\emptyset$, $C = [0,1]$\n\nE) $A = [1, \\infty)$, $B = \\mathcal{D}$, $C = \\mathcal{D}$", "solution": "对于每个整数 $n \\geq 1$，将其写作 $n = 2^{k} + j$，其中 $k \\in \\mathbb{N}_{0}$ 且 $0 \\leq j < 2^{k}$。那么 $f_{n} = \\mathbf{1}_{I_{n}}$，其中 $I_{n} = \\left[\\frac{j}{2^{k}}, \\frac{j+1}{2^{k}}\\right]$。$I_{n}$ 的勒贝格测度是\n$$\n|I_{n}| = \\frac{1}{2^{k}}.\n$$\n\n集合 $A$：$L^{p}$ 收敛性。对于 $1 \\leq p < \\infty$，\n$$\n\\|f_{n}\\|_{L^{p}} = \\left(\\int_{0}^{1} |f_{n}(x)|^{p} \\, dx\\right)^{1/p} = \\left(\\int_{I_{n}} 1 \\, dx\\right)^{1/p} = |I_{n}|^{1/p} = 2^{-k/p}.\n$$\n当 $n \\to \\infty$ 时，我们有 $k = \\lfloor \\log_{2}(n) \\rfloor \\to \\infty$，因此 $2^{-k/p} \\to 0$，所以对于所有 $1 \\leq p < \\infty$，$f_{n}$ 在 $L^{p}$ 中收敛于 $0$。对于 $p = \\infty$，\n$$\n\\|f_{n}\\|_{L^{\\infty}} = \\operatorname{ess\\,sup}_{x \\in [0,1]} |f_{n}(x)| = 1 \\quad \\text{对所有 } n,\n$$\n所以在 $L^{\\infty}$ 中不收敛于 $0$。因此 $A = [1,\\infty)$。\n\n集合 $B$：$f_{n}(x)$ 的逐点收敛性。固定 $x \\in [0,1]$。对于每个 $k \\in \\mathbb{N}_{0}$，二进区间 $\\left[\\frac{j}{2^{k}}, \\frac{j+1}{2^{k}}\\right]$ 覆盖了 $[0,1]$，所以存在至少一个 $j$（满足 $0 \\leq j < 2^{k}$）使得对于 $n = 2^{k} + j$ 有 $x \\in I_{n}$。因此对于每个 $k$，在块 $\\{2^{k},\\dots,2^{k+1}-1\\}$ 中存在某个索引 $n$ 使得 $f_{n}(x) = 1$。由于序列 $(f_{n}(x))$ 的取值在 $\\{0,1\\}$ 中，并且对于所有的 $k$，在每个块中至少有一个 1，因此它有无穷多个 1，从而不可能是最终为常数的。因此对于任何 $x$，$(f_{n}(x))$ 都不收敛，所以 $B = \\emptyset$。\n\n集合 $C$：级数 $\\sum_{n=1}^{\\infty} f_{n}(x)$ 的收敛性。对于任意固定的 $x \\in [0,1]$ 和任意 $K \\in \\mathbb{N}_{0}$，定义 $N_{K} = 2^{K+1} - 1$。如上所示，对于每个 $k = 0,1,\\dots,K$，存在一个索引 $n \\in \\{2^{k},\\dots,2^{k+1}-1\\}$ 使得 $f_{n}(x) = 1$。因此部分和满足\n$$\n\\sum_{n=1}^{N_{K}} f_{n}(x) \\geq K+1.\n$$\n令 $K \\to \\infty$，表明部分和是无界的，并且对于每个 $x$，级数都发散到 $+\\infty$。因此 $C = \\emptyset$。\n\n综合这些结果，我们有 $A = [1,\\infty)$，$B = \\emptyset$ 和 $C = \\emptyset$，这对应于选项 B。", "answer": "$$\\boxed{B}$$", "id": "1414901"}]}