{"hands_on_practices": [{"introduction": "首个练习将带我们回到黎曼和的基础。通过为一个简单的连续函数计算上达布和与下达布和之差，我们可以直接观察到当分割变细时，这个差值是如何缩小的。这正是黎曼可积性定义的核心所在[@problem_id:1450126]。", "problem": "在黎曼积分的背景下，考虑定义在闭区间 $[0, 3]$ 上的函数 $f(x) = 2x + 1$。设 $P_n$ 是区间 $[0, 3]$ 的一个等分剖分，将其分成 $n$ 个等宽的子区间，宽度为 $\\Delta x$。剖分点由 $x_i$ 给出，其中 $i=0, 1, \\dots, n$，且 $x_0 = 0$，$x_n = 3$。\n\n对于每个子区间 $[x_{i-1}, x_i]$，我们定义局部下确界为 $m_i = \\inf_{x \\in [x_{i-1}, x_i]} f(x)$，局部上确界为 $M_i = \\sup_{x \\in [x_{i-1}, x_i]} f(x)$。\n\n达布下和 $L(P_n, f)$ 与达布上和 $U(P_n, f)$ 定义如下：\n$$L(P_n, f) = \\sum_{i=1}^{n} m_i \\Delta x$$\n$$U(P_n, f) = \\sum_{i=1}^{n} M_i \\Delta x$$\n\n您的任务是计算差值 $U(P_n, f) - L(P_n, f)$。将答案表示为 $n$ 的函数。", "solution": "我们考虑函数 $f(x)=2x+1$ 在 $[0,3]$ 上以及一个等分剖分 $P_{n}$，其宽度为 $\\Delta x=\\frac{3-0}{n}=\\frac{3}{n}$，剖分点为 $x_{i}=i\\Delta x=\\frac{3i}{n}$，其中 $i=0,1,\\dots,n$。\n\n由于 $f$ 在 $[0,3]$ 上是严格递增的（因为 $f'(x)=2>0$），在每个子区间 $[x_{i-1},x_{i}]$ 上，局部下确界和上确界分别为\n$$\nm_{i}=f(x_{i-1})=2x_{i-1}+1,\\qquad M_{i}=f(x_{i})=2x_{i}+1.\n$$\n达布下和与上和为\n$$\nL(P_{n},f)=\\sum_{i=1}^{n}m_{i}\\,\\Delta x,\\qquad U(P_{n},f)=\\sum_{i=1}^{n}M_{i}\\,\\Delta x.\n$$\n因此，它们的差为\n$$\nU(P_{n},f)-L(P_{n},f)=\\sum_{i=1}^{n}\\left(M_{i}-m_{i}\\right)\\Delta x=\\sum_{i=1}^{n}\\left(f(x_{i})-f(x_{i-1})\\right)\\Delta x.\n$$\n计算 $f$ 在一个子区间上的增量：\n$$\nf(x_{i})-f(x_{i-1})=\\left(2x_{i}+1\\right)-\\left(2x_{i-1}+1\\right)=2\\left(x_{i}-x_{i-1}\\right)=2\\Delta x.\n$$\n因此，和中的每一项都等于 $2\\Delta x$，从而\n$$\nU(P_{n},f)-L(P_{n},f)=\\sum_{i=1}^{n}\\left(2\\Delta x\\right)\\Delta x=2n(\\Delta x)^{2}.\n$$\n将 $\\Delta x=\\frac{3}{n}$ 代入可得\n$$\nU(P_{n},f)-L(P_{n},f)=2n\\left(\\frac{3}{n}\\right)^{2}=\\frac{18}{n}.\n$$", "answer": "$$\\boxed{\\frac{18}{n}}$$", "id": "1450126"}, {"introduction": "如果我们取一个理想的可积函数，并在有限个点上改变它的值，会发生什么呢？这个思想实验探讨了黎曼积分的稳健性。它引导我们得出一个关键的洞见：积分对于“微小”的改变是不敏感的，这为理解基于测度的判据铺平了道路[@problem_id:1450101]。", "problem": "设函数 $f: [a, b] \\to \\mathbb{R}$ 在闭区间 $[a, b]$ 上是黎曼可积的。设 $S = \\{x_1, x_2, \\dots, x_n\\}$ 是区间 $[a, b]$ 中包含 $n$ 个不同点的有限集。\n\n通过改变 $f$ 在集合 $S$ 中各点的值，构造一个新函数 $g: [a, b] \\to \\mathbb{R}$。具体来说，$g(x)$ 的定义如下：\n$$\ng(x) = \\begin{cases}\nc_i & \\text{若 } x = x_i \\in S \\\\\nf(x) & \\text{若 } x \\notin S\n\\end{cases}\n$$\n其中 $c_1, c_2, \\dots, c_n$ 是任意实常数。\n\n下列哪个陈述最准确地描述了函数 $g(x)$在区间 $[a, b]$ 上的黎曼可积性？\n\nA. 函数 $g(x)$ 在 $[a, b]$ 上总是黎曼可积的。\n\nB. 函数 $g(x)$ 在 $[a, b]$ 上永不黎曼可积，除非对所有 $x$都有 $g(x) = f(x)$。\n\nC. $g(x)$ 的黎曼可积性取决于从 $S$ 中选择的具体点。例如，如果这些点是有理数，则函数可能可积，但如果它们是无理数，则可能不可积。\n\nD. $g(x)$ 的黎曼可积性取决于所赋的新值 $c_i$。只有当值 $c_i$ 与原值 $f(x_i)$ “接近”时，函数才可积。\n\nE. 函数 $g(x)$ 在 $[a, b]$ 上黎曼可积，仅当原函数 $f(x)$ 在整个区间 $[a, b]$ 上连续时成立。", "solution": "我们回顾关于闭区间上黎曼可积性的两个标准事实：\n1) 如果一个函数在闭区间上黎曼可积，那么它在该区间上有界。\n2) 对于一个固定的函数，对划分进行加细不会增加其上和与下和之差。\n\n由于 $f$ 在 $[a,b]$ 上黎曼可积，所以它是有界的；因此存在 $B \\in \\mathbb{R}$ 使得对所有 $x \\in [a,b]$ 都有 $|f(x)| \\leq B$。函数 $g$ 与 $f$ 仅在有限个点 $x_{1},\\dots,x_{n}$ 上不同。定义\n$$\nM \\coloneqq \\max\\Big\\{B,\\max_{1 \\leq i \\leq n}|c_{i}|\\Big\\}.\n$$\n那么对所有 $x \\in [a,b]$ 都有 $|g(x)| \\leq M$。\n\n我们将直接证明 $g$ 是黎曼可积的。设 $\\varepsilon>0$ 为任意正数。因为 $f$ 是黎曼可积的，所以存在 $[a,b]$ 的一个划分 $P_{1}$，使得\n$$\nU(f,P_{1})-L(f,P_{1})<\\frac{\\varepsilon}{2}.\n$$\n对每个 $i \\in \\{1,\\dots,n\\}$，选择一个包含 $x_{i}$ 的闭区间 $I_{i}$，使得其总长度满足\n$$\n\\sum_{i=1}^{n}|I_{i}|<\\frac{\\varepsilon}{4M}.\n$$\n通过用所有 $I_{i}$ 的端点来加细 $P_{1}$，形成一个新的划分 $Q$。考虑 $g$ 关于划分 $Q$ 的上和与下和之差：\n$$\nU(g,Q)-L(g,Q)\n=\\sum_{J \\in Q}\\big(\\sup_{x \\in J}g(x)-\\inf_{x \\in J}g(x)\\big)\\,|J|.\n$$\n将关于 $Q$ 的和式分为两部分：一部分是包含在 $\\bigcup_{i}I_{i}$ 中的子区间 $J$，另一部分是与所有 $I_{i}$ 都不相交的子区间 $J$。如果 $J$ 与所有 $I_{i}$ 都不相交，那么在 $J$ 上有 $g=f$，因此这些 $J$ 的贡献至多为\n$$\nU(f,Q)-L(f,Q)\\leq U(f,P_{1})-L(f,P_{1})<\\frac{\\varepsilon}{2},\n$$\n因为将 $P_{1}$ 加细为 $Q$ 不会增加 $f$ 的上和与下和之差。如果对某个 $i$ 有 $J \\subset I_{i}$，那么\n$$\n\\sup_{x \\in J}g(x)-\\inf_{x \\in J}g(x)\\leq 2M,\n$$\n因此所有这些 $J$ 的总贡献由以下不等式界定\n$$\n\\sum_{J \\subset \\bigcup I_{i}}2M\\,|J|\\leq 2M\\sum_{i=1}^{n}|I_{i}|<2M \\cdot \\frac{\\varepsilon}{4M}=\\frac{\\varepsilon}{2}.\n$$\n将两部分合并可得\n$$\nU(g,Q)-L(g,Q)<\\frac{\\varepsilon}{2}+\\frac{\\varepsilon}{2}=\\varepsilon.\n$$\n由于 $\\varepsilon>0$ 是任意的，所以 $g$ 在 $[a,b]$ 上是黎曼可积的。\n\n等价地，根据黎曼可积的勒贝格准则，一个有界函数是黎曼可积的，当且仅当其不连续点的集合的勒贝格测度为零。函数 $g$ 与 $f$ 仅在一个有限点集上不同，因此 $g$ 的不连续点集是 $f$ 的不连续点集（其测度为零，因为 $f$ 是黎曼可积的）与一个有限点集（其测度也为零）的并集。因此，$g$ 是黎曼可积的。\n\n因此，正确选项是 $g$ 在 $[a,b]$ 上总是黎曼可积的，这与具体的点 $x_{i}$ 或值 $c_{i}$ 无关。这也表明 $g$ 的积分等于 $f$ 的积分，因为在有限个点上改变函数的值不会改变其黎曼积分。", "answer": "$$\\boxed{A}$$", "id": "1450101"}, {"introduction": "我们已经看到有限个不连续点是无害的，现在我们将研究一个更极端的情形。这个问题提出了一个在区间上几乎每一点都不连续的函数。通过分析其上积分和下积分，我们将揭示一个非黎曼可积函数的经典范例，这不仅展示了黎曼积分的局限性，也凸显了其判据的深刻内涵[@problem_id:1450117]。此外，本题还探讨了其绝对值的可积性，提供了一个发人深省的对比。", "problem": "考虑函数 $f: [0, 2] \\to \\mathbb{R}$，其定义如下：\n$$\nf(x) = \\begin{cases} \n1 & \\text{若 } x \\text{ 为有理数} \\\\\n-1 & \\text{若 } x \\text{ 为无理数}\n\\end{cases}\n$$\n设 $\\underline{\\int_a^b} g(x)dx$ 表示有界函数 $g$ 在区间 $[a, b]$ 上的黎曼下积分，$\\overline{\\int_a^b} g(x)dx$ 表示其黎曼上积分。\n\n计算下列四个值：\n1. 函数 $f$ 在 $[0, 2]$ 上的黎曼下积分，即 $\\underline{\\int_0^2} f(x)dx$。\n2. 函数 $f$ 在 $[0, 2]$ 上的黎曼上积分，即 $\\overline{\\int_0^2} f(x)dx$。\n3. 函数 $|f|$ 在 $[0, 2]$ 上的黎曼下积分，即 $\\underline{\\int_0^2} |f(x)|dx$。\n4. 函数 $|f|$ 在 $[0, 2]$ 上的黎曼上积分，即 $\\overline{\\int_0^2} |f(x)|dx$。\n\n你的最终答案应为按以上顺序排列的这四个数值。", "solution": "我们回顾达布 (Darboux) 定义。对于 $[a,b]$ 上的有界函数 $g$ 和一个划分 $P=\\{x_{0},x_{1},\\dots,x_{n}\\}$（满足 $a=x_{0}<x_{1}<\\cdots<x_{n}=b$），定义 $m_{i}=\\inf_{x\\in[x_{i-1},x_{i}]}g(x)$ 以及 $M_{i}=\\sup_{x\\in[x_{i-1},x_{i}]}g(x)$。下和为 $L(g,P)=\\sum_{i=1}^{n}m_{i}(x_{i}-x_{i-1})$，上和为 $U(g,P)=\\sum_{i=1}^{n}M_{i}(x_{i}-x_{i-1})$。黎曼下积分是 $\\sup_{P}L(g,P)$，黎曼上积分是 $\\inf_{P}U(g,P)$。\n\n对于函数 $f$（定义为当 $x$ 为有理数时 $f(x)=1$，当 $x$ 为无理数时 $f(x)=-1$），有理数集和无理数集在 $[0,2]$ 的任何非退化子区间内都是稠密的。因此，对于任何子区间 $[x_{i-1},x_{i}]$，我们有\n$$\n\\inf_{x\\in[x_{i-1},x_{i}]}f(x)=-1,\\qquad \\sup_{x\\in[x_{i-1},x_{i}]}f(x)=1.\n$$\n因此，对于任意划分 $P$，\n$$\nL(f,P)=\\sum_{i=1}^{n}(-1)(x_{i}-x_{i-1})=-\\sum_{i=1}^{n}(x_{i}-x_{i-1})=-(2-0)=-2,\n$$\n$$\nU(f,P)=\\sum_{i=1}^{n}(1)(x_{i}-x_{i-1})=\\sum_{i=1}^{n}(x_{i}-x_{i-1})=2-0=2.\n$$\n这些值不依赖于划分 $P$，所以\n$$\n\\underline{\\int_{0}^{2}}f(x)\\,dx=\\sup_{P}L(f,P)=-2,\\qquad \\overline{\\int_{0}^{2}}f(x)\\,dx=\\inf_{P}U(f,P)=2.\n$$\n\n现在考虑 $|f|$。对于所有 $x\\in[0,2]$，都有 $|f(x)|=1$。因此在任何子区间 $[x_{i-1},x_{i}]$ 上， $|f|$ 的下确界与上确界均等于 $1$。因此，对于任意划分 $P$，\n$$\nL(|f|,P)=\\sum_{i=1}^{n}1\\cdot(x_{i}-x_{i-1})=2,\\qquad U(|f|,P)=\\sum_{i=1}^{n}1\\cdot(x_{i}-x_{i-1})=2.\n$$\n所以，\n$$\n\\underline{\\int_{0}^{2}}|f(x)|\\,dx=2,\\qquad \\overline{\\int_{0}^{2}}|f(x)|\\,dx=2.\n$$\n\n按指定顺序汇总这四个所求的值，得到 $-2$, $2$, $2$, $2$。", "answer": "$$\\boxed{\\begin{pmatrix}-2 & 2 & 2 & 2\\end{pmatrix}}$$", "id": "1450117"}]}