{"hands_on_practices": [{"introduction": "狄利克雷函数是黎曼积分理论中一个经典的反例。这个练习通过引入一个参数 $\\alpha$ 来推广标准的狄利克雷函数，旨在帮助你探索黎曼可积与不可积之间的精确界限。通过分析这个构造出的函数，你将深入理解上达布和与下达布和在函数不可积时为何以及如何发生分离，从而巩固黎曼积分的核心定义。[@problem_id:1450292]", "problem": "考虑函数 $D(x)$，即狄利克雷函数 (Dirichlet function)，它对所有实数 $x$ 的定义如下：\n$$\nD(x) = \\begin{cases} 1 & \\text{if } x \\text{ is a rational number} \\\\ 0 & \\text{if } x \\text{ is an irrational number} \\end{cases}\n$$\n在区间 $[0, 1]$ 上，使用狄利克雷函数和一个实数参数 $\\alpha$ 构建了一个新函数 $f(x)$：\n$$\nf(x) = \\alpha D(x) + (1-\\alpha)(1-D(x))\n$$\n确定所有使函数 $f(x)$ 在区间 $[0, 1]$ 上 **非** 黎曼可积的实数 $\\alpha$ 的集合。\n\nA. $\\alpha = \\frac{1}{2}$\n\nB. $\\alpha \\in \\{0, 1\\}$\n\nC. $\\alpha \\in \\mathbb{R} \\setminus \\{\\frac{1}{2}\\}$\n\nD. 所有 $\\alpha \\in \\mathbb{R}$\n\nE. 没有 $\\alpha \\in \\mathbb{R}$", "solution": "我们首先使用 $D(x)$ 的定义来计算 $f(x)$ 在有理数和无理数上的值：\n- 如果 $x$ 是有理数，则 $D(x)=1$，所以 $f(x)=\\alpha\\cdot 1+(1-\\alpha)(1-1)=\\alpha$。\n- 如果 $x$ 是无理数，则 $D(x)=0$，所以 $f(x)=\\alpha\\cdot 0+(1-\\alpha)(1-0)=1-\\alpha$。\n\n因此，$f$ 恰好取两个常数值：在有理数上为 $\\alpha$，在无理数上为 $1-\\alpha$。由于有理数集和无理数集都在 $[0,1]$ 中是稠密的，所以 $[0,1]$ 的每个子区间都包含使 $f$ 等于 $\\alpha$ 的点和使 $f$ 等于 $1-\\alpha$ 的点。\n\n对于任意子区间 $I\\subset[0,1]$，$f$ 在 $I$ 上的上确界和下确界分别为\n$$\nM_{I}=\\max\\{\\alpha,1-\\alpha\\},\\qquad m_{I}=\\min\\{\\alpha,1-\\alpha\\}。\n$$\n对于 $[0,1]$ 的任意分割 $P=\\{x_{0},x_{1},\\dots,x_{n}\\}$，其上达布和与下达布和为\n$$\nU(f,P)=\\sum_{k=1}^{n}M_{[x_{k-1},x_{k}]}(x_{k}-x_{k-1})=\\max\\{\\alpha,1-\\alpha\\}\\sum_{k=1}^{n}(x_{k}-x_{k-1})=\\max\\{\\alpha,1-\\alpha\\},\n$$\n$$\nL(f,P)=\\sum_{k=1}^{n}m_{[x_{k-1},x_{k}]}(x_{k}-x_{k-1})=\\min\\{\\alpha,1-\\alpha\\}\\sum_{k=1}^{n}(x_{k}-x_{k-1})=\\min\\{\\alpha,1-\\alpha\\}。\n$$\n这些和与分割的选取无关。因此，上黎曼积分等于 $\\max\\{\\alpha,1-\\alpha\\}$，下黎曼积分等于 $\\min\\{\\alpha,1-\\alpha\\}$。函数 $f$ 是黎曼可积的，当且仅当这两个积分相等，这发生于当且仅当\n$$\n\\max\\{\\alpha,1-\\alpha\\}=\\min\\{\\alpha,1-\\alpha\\}\\quad\\Longleftrightarrow\\quad \\alpha=1-\\alpha\\quad\\Longleftrightarrow\\quad \\alpha=\\frac{1}{2}。\n$$\n当 $\\alpha=\\frac{1}{2}$ 时，对所有 $x$ 都有 $f(x)=\\frac{1}{2}$，所以 $f$ 是常数函数，因此是黎曼可积的。对于所有其他的 $\\alpha\\in\\mathbb{R}$，对任意分割都有 $U(f,P)>L(f,P)$，所以 $f$ 在 $[0,1]$ 上不是黎曼可积的。\n\n因此，所有使 $f(x)$ 不是黎曼可积的实数 $\\alpha$ 的集合是 $\\mathbb{R}\\setminus\\{\\frac{1}{2}\\}$，这对应于选项 C。", "answer": "$$\\boxed{C}$$", "id": "1450292"}, {"introduction": "仅仅判断一个函数是否黎曼可积是不够的，我们还希望能够量化其“不可积的程度”。这个问题引导我们计算一个类狄利克雷函数的上积分与下积分之差。与在有理数和无理数上取常数值不同，此函数在这些点上分别取值为 $2x$ 和 $x/2$，这提供了一个更动态和富有洞察力的挑战，让你能够练习计算由连续函数逼近的上下确界。[@problem_id:1450295]", "problem": "在积分理论的研究中，于有理数集 ($\\mathbb{Q}$) 和无理数集 ($\\mathbb{R} \\setminus \\mathbb{Q}$) 上表现出不同行为的函数，是阐释黎曼积分局限性的关键示例。\n\n考虑在闭区间 $[0, 1]$ 上定义的函数 $f(x)$ 如下：\n$$ f(x) = \\begin{cases} 2x & \\text{if } x \\in \\mathbb{Q} \\\\ \\frac{x}{2} & \\text{if } x \\notin \\mathbb{Q} \\end{cases} $$\n一个有界函数在区间 $[a,b]$ 上是黎曼可积的，当且仅当其在该区间上的达布下积分和上积分相等。达布上积分记为 $\\overline{\\int_a^b} f(x)dx$，是所有达布上和的下确界；达布下积分记为 $\\underline{\\int_a^b} f(x)dx$，是所有达布下和的上确界。\n\n计算差值 $\\Delta = \\overline{\\int_0^1} f(x)dx - \\underline{\\int_0^1} f(x)dx$。该值量化了此函数非黎曼可积的程度。", "solution": "为解决此问题，我们需要计算函数 $f(x)$ 在区间 $[0, 1]$ 上的达布上积分和下积分。\n\n设 $P = \\{x_0, x_1, \\dots, x_n\\}$ 是区间 $[0, 1]$ 的一个任意分割，其中 $0 = x_0  x_1  \\dots  x_n = 1$。对每个子区间 $I_i = [x_{i-1}, x_i]$，我们必须找出其上确界 $M_i = \\sup_{x \\in I_i} f(x)$ 和下确界 $m_i = \\inf_{x \\in I_i} f(x)$。\n\n首先，我们确定达布上积分 $\\overline{\\int_0^1} f(x)dx$。它是所有达布上和 $U(f, P) = \\sum_{i=1}^n M_i (x_i - x_{i-1})$ 的下确界。\n在任何子区间 $I_i = [x_{i-1}, x_i]$ 中，函数 $f(x)$ 的取值来自集合 $\\{2q \\mid q \\in \\mathbb{Q} \\cap I_i\\} \\cup \\{ y/2 \\mid y \\in (\\mathbb{R}\\setminus\\mathbb{Q}) \\cap I_i \\}$。\n在区间 $[0, 1]$ 上，对任意 $x > 0$，我们有 $2x > x/2$。当 $x=0$ 时，$2x=x/2=0$。因此，对任意 $x \\in [0,1]$，有 $2x \\ge x/2$。\n这意味着在任何子区间 $I_i$ 上 $f(x)$ 的上确界将由其在有理数上的取值决定。\n$$ M_i = \\sup_{x \\in I_i} f(x) = \\sup_{x \\in I_i} \\left( \\{2q \\mid q \\in \\mathbb{Q} \\cap I_i\\} \\cup \\{y/2 \\mid y \\in (\\mathbb{R}\\setminus\\mathbb{Q}) \\cap I_i\\} \\right) $$\n由于函数 $g(x) = 2x$ 连续且递增，并且有理数在 $\\mathbb{R}$ 中是稠密的，因此 $\\{2q \\mid q \\in \\mathbb{Q} \\cap I_i\\}$ 的上确界等于 $\\{2x \\mid x \\in I_i\\}$ 的上确界。另一组值 $\\{y/2\\}$ 的上确界则会更小。\n因此，$M_i = \\sup_{x \\in I_i} 2x = 2x_i$。\n对应于分割 $P$ 的达布上和为 $U(f, P) = \\sum_{i=1}^n (2x_i)(x_i - x_{i-1})$。\n这是函数 $g(x) = 2x$ 的一个右黎曼和。当分割的模 $\\|P\\|$ 趋近于零时，达布上和收敛于函数 $g(x)$ 的黎曼积分。\n$$ \\overline{\\int_0^1} f(x)dx = \\inf_P U(f,P) = \\int_0^1 2x dx = \\left[x^2\\right]_0^1 = 1^2 - 0^2 = 1 $$\n\n接下来，我们确定达布下积分 $\\underline{\\int_0^1} f(x)dx$。它是所有达布下和 $L(f, P) = \\sum_{i=1}^n m_i (x_i - x_{i-1})$ 的上确界。\n在子区间 $I_i$ 上 $f(x)$ 的下确界将由其在无理数上的取值决定，因为对于 $x \\in [0,1]$ 有 $x/2 \\le 2x$。\n$$ m_i = \\inf_{x \\in I_i} f(x) = \\inf_{x \\in I_i} \\left( \\{2q \\mid q \\in \\mathbb{Q} \\cap I_i\\} \\cup \\{y/2 \\mid y \\in (\\mathbb{R}\\setminus\\mathbb{Q}) \\cap I_i\\} \\right) $$\n由于函数 $h(x) = x/2$ 连续且递增，并且无理数在 $\\mathbb{R}$ 中是稠密的，因此 $\\{y/2 \\mid y \\in (\\mathbb{R}\\setminus\\mathbb{Q}) \\cap I_i\\}$ 的下确界等于 $\\{x/2 \\mid x \\in I_i\\}$ 的下确界。另一组值 $\\{2q\\}$ 的下确界则会更大。\n因此，$m_i = \\inf_{x \\in I_i} \\frac{x}{2} = \\frac{x_{i-1}}{2}$。\n对应于分割 $P$ 的达布下和为 $L(f, P) = \\sum_{i=1}^n \\left(\\frac{x_{i-1}}{2}\\right)(x_i - x_{i-1})$。\n这是函数 $h(x) = x/2$ 的一个左黎曼和。当分割的模 $\\|P\\|$ 趋近于零时，达布下和收敛于函数 $h(x)$ 的黎曼积分。\n$$ \\underline{\\int_0^1} f(x)dx = \\sup_P L(f,P) = \\int_0^1 \\frac{x}{2} dx = \\left[\\frac{x^2}{4}\\right]_0^1 = \\frac{1^2}{4} - \\frac{0^2}{4} = \\frac{1}{4} $$\n\n最后，我们计算差值 $\\Delta$：\n$$ \\Delta = \\overline{\\int_0^1} f(x)dx - \\underline{\\int_0^1} f(x)dx = 1 - \\frac{1}{4} = \\frac{3}{4} $$\n由于达布上积分和下积分不相等 ($\\Delta \\neq 0$)，函数 $f(x)$ 在 $[0,1]$ 上不是黎曼可积的。", "answer": "$$\\boxed{\\frac{3}{4}}$$", "id": "1450295"}, {"introduction": "这个高阶练习探讨了拓扑、测度与积分之间深刻的相互作用。我们将在一个具有正测度的“胖”康托集上构建一个函数，它在集合内部和外部表现出截然不同的行为。这个练习挑战我们将上、下积分的计算应用于一个更复杂的场景：函数的不连续点集虽然是无处稠密的，但其勒贝格测度不为零，这直接导致了黎曼积分的失效。[@problem_id:1450280]", "problem": "可以在区间 $[0,1]$ 上构造一个 Smith-Volterra-Cantor (SVC) 集，也称为胖康托尔集。我们来构造一个这样的集合的具体实例，记为 $S$。我们从集合 $S_0 = [0,1]$ 开始。\n第一步，我们从 $S_0$ 中移除长度为 $1/4$ 的中间开区间，即区间 $(3/8, 5/8)$。这留下一个由两个不相交的闭区间组成的集合 $S_1$。\n第二步，我们从 $S_1$ 中的这两个区间里，各移除一个长度为 $1/16$ 的中间开区间。这留下一个由四个不相交的闭区间组成的集合 $S_2$。\n我们继续这个过程。在第 $k$ 步（$k \\ge 1$），我们从构成集合 $S_{k-1}$ 的 $2^{k-1}$ 个不相交的闭区间的中心各移除一个长度为 $1/4^k$ 的开区间。得到的集合是 $S_k$。\nSVC 集 $S$ 定义为所有这些集合的交集：$S = \\bigcap_{k=0}^{\\infty} S_k$。\n\n现在，考虑如下定义的函数 $f: [0,1] \\to \\mathbb{R}$：\n$$\nf(x) =\n\\begin{cases}\n5  \\text{若 } x \\in S \\\\\n1  \\text{若 } x \\in ([0,1] \\setminus S) \\cap \\mathbb{Q} \\\\\n0  \\text{若 } x \\in ([0,1] \\setminus S) \\cap (\\mathbb{R} \\setminus \\mathbb{Q})\n\\end{cases}\n$$\n其中 $\\mathbb{Q}$ 表示有理数集，$\\mathbb{R} \\setminus \\mathbb{Q}$ 表示无理数集。\n\n设 $L(f)$ 和 $U(f)$ 分别表示 $f$ 在区间 $[0,1]$ 上的下 Darboux 积分和上 Darboux 积分。下列哪个陈述是正确的？\n\nA. $f$ 是 Riemann 可积的，且 $\\int_0^1 f(x) dx = 0$。\n\nB. $f$ 是 Riemann 可积的，且 $\\int_0^1 f(x) dx = 3$。\n\nC. $f$ 不是 Riemann 可积的，且其下积分和上积分分别为 $L(f)=0$ 和 $U(f)=3$。\n\nD. $f$ 不是 Riemann 可积的，且其下积分和上积分分别为 $L(f)=0$ 和 $U(f)=5/2$。\n\nE. $f$ 不是 Riemann 可积的，且其下积分和上积分分别为 $L(f)=1/2$ 和 $U(f)=3$。", "solution": "问题要求计算在 $[0,1]$ 上定义的函数 $f$ 的下和上 Darboux 积分，并判断它是否是 Riemann 可积的。一个函数是 Riemann 可积的，当且仅当其下和上 Darboux 积分相等。\n\n首先，我们来分析集合 $S$。集合 $S$ 是通过从 $[0,1]$ 中移除一系列开区间来构造的。被移除区间的总长度是每一步移除的区间长度之和。在第 $k$ 步，我们移除了 $2^{k-1}$ 个区间，每个区间的长度为 $1/4^k$。移除的总长度为：\n$$\nL_{\\text{removed}} = \\sum_{k=1}^{\\infty} 2^{k-1} \\cdot \\frac{1}{4^k} = \\sum_{k=1}^{\\infty} \\frac{2^{k-1}}{4 \\cdot 4^{k-1}} = \\frac{1}{4} \\sum_{k=1}^{\\infty} \\left(\\frac{2}{4}\\right)^{k-1} = \\frac{1}{4} \\sum_{j=0}^{\\infty} \\left(\\frac{1}{2}\\right)^j\n$$\n这是一个公比为 $1/2$ 的几何级数。其和为 $\\frac{1}{1-1/2} = 2$。\n所以，$L_{\\text{removed}} = \\frac{1}{4} \\cdot 2 = \\frac{1}{2}$。\n集合 $S$ 的 Lebesgue 测度，记作 $m(S)$，是初始区间的测度减去移除部分的总测度：\n$m(S) = m([0,1]) - L_{\\text{removed}} = 1 - \\frac{1}{2} = \\frac{1}{2}$。\n集合 $S$ 是闭集的交集，因此它是闭集。它不包含任何区间，所以它是无处稠密的。其补集 $[0,1]\\setminus S$ 是一个测度为 $1/2$ 的开集。\n\n接下来，我们计算下 Darboux 积分 $L(f) = \\sup_{P} L(P,f)$，其中 $P$ 是 $[0,1]$ 的一个划分，$L(P,f)$ 是下和。\n设 $P = \\{x_0, x_1, \\ldots, x_n\\}$ 是 $[0,1]$ 的任意一个划分。下和为 $L(P,f) = \\sum_{i=1}^n m_i (x_i - x_{i-1})$，其中 $m_i = \\inf_{x \\in [x_{i-1}, x_i]} f(x)$。\n考虑任意子区间 $[x_{i-1}, x_i]$。集合 $[0,1]\\setminus S$ 是 $[0,1]$ 中的一个开稠密集（因为 $S$ 是无处稠密的，所以 $[0,1]\\setminus S$ 的闭包是 $[0,1]$）。因此，区间 $[x_{i-1}, x_i]$ 必定包含一个来自 $[0,1]\\setminus S$ 的点。由于 $[0,1]\\setminus S$ 是开集，交集 $(x_{i-1}, x_i) \\cap ([0,1]\\setminus S)$ 是一个非空开集，因此它必定包含一个区间。每个区间都包含无理数。\n对于任意无理数 $y \\in [0,1]\\setminus S$，我们有 $f(y)=0$。\n因此，对于任意子区间 $[x_{i-1}, x_i]$，$f$ 在该区间上的下确界为 $m_i = 0$。\n对于任意划分 $P$，其下和为 $L(P,f) = \\sum_{i=1}^n 0 \\cdot (x_i - x_{i-1}) = 0$。\n下 Darboux 积分是这些下和的上确界，所以 $L(f) = 0$。\n\n现在我们计算上 Darboux 积分 $U(f) = \\inf_{P} U(P,f)$，其中 $U(P,f)$ 是上和。\n对于一个划分 $P$，其上和为 $U(P,f) = \\sum_{i=1}^n M_i (x_i - x_{i-1})$，其中 $M_i = \\sup_{x \\in [x_{i-1}, x_i]} f(x)$。\n我们来分析子区间 $[x_{i-1}, x_i]$ 上的 $M_i$。\n情况1：子区间与 $S$ 不相交，即 $[x_{i-1}, x_i] \\subset [0,1]\\setminus S$。在这种情况下，函数 $f$ 在该区间上的取值为 1（在有理点处）和 0（在无理点处）。由于任何区间都包含有理数，所以上确界为 $M_i = 1$。\n情况2：子区间与 $S$ 相交，即 $[x_{i-1}, x_i] \\cap S \\neq \\emptyset$。该区间包含一个点 $x \\in S$，在该点 $f(x)=5$。因此，上确界至少为 5。由于 $f$ 的所有值都 $\\le 5$，所以上确界恰好为 $M_i=5$。\n\n我们将划分 $P$ 的下标分为两组：$I_1 = \\{ i \\mid [x_{i-1},x_i] \\subset [0,1]\\setminus S \\}$ 和 $I_2 = \\{ i \\mid [x_{i-1},x_i] \\cap S \\neq \\emptyset \\}$。\n上和可以写为：\n$$\nU(P,f) = \\sum_{i \\in I_1} 1 \\cdot (x_i - x_{i-1}) + \\sum_{i \\in I_2} 5 \\cdot (x_i - x_{i-1})\n$$\n设 $A_1 = \\bigcup_{i \\in I_1} [x_{i-1},x_i]$ 和 $A_2 = \\bigcup_{i \\in I_2} [x_{i-1},x_i]$。那么 $\\sum_{i \\in I_1} (x_i - x_{i-1}) = m(A_1)$ 并且 $\\sum_{i \\in I_2} (x_i - x_{i-1}) = m(A_2)$。\n注意 $A_1 \\cup A_2 = [0,1]$ 并且 $m(A_1) + m(A_2) = 1$。\n所以，$U(P,f) = m(A_1) + 5 m(A_2)$。\n代入 $m(A_1) = 1 - m(A_2)$，我们得到 $U(P,f) = (1 - m(A_2)) + 5 m(A_2) = 1 + 4 m(A_2)$。\n上积分为 $U(f) = \\inf_P U(P,f) = \\inf_P (1 + 4 m(A_2))$。\n集合 $A_2$ 是划分中与 $S$ 有非空交集的子区间的并集。因此，$A_2$ 是一个覆盖 $S$ 的集合。所以，它的测度必须至少等于 $S$ 的测度：$m(A_2) \\ge m(S) = 1/2$。\n这意味着对于任何划分 $P$，$U(P,f) = 1 + 4 m(A_2) \\ge 1 + 4(1/2) = 3$。\n对所有划分取下确界，我们得到 $U(f) \\ge 3$。\n\n为了证明 $U(f)=3$，我们必须说明可以找到一个划分 $P$，使得 $U(P,f)$ 任意接近于 3。这意味着我们需要找到这样的划分，使得 $m(A_2)$ 任意接近于 $m(S)=1/2$。\n由于 $S$ 是一个 Lebesgue 可测集，对于任意 $\\epsilon > 0$，存在一个包含 $S$ 的开集 $O$ 使得 $m(O)  m(S) + \\epsilon/4 = 1/2 + \\epsilon/4$。集合 $O$ 是可数个不相交开区间的并集。由于 $S$ 是紧集，我们可以找到这些区间的一个有限子覆盖，我们称它们的并集为 $O'$。我们有 $S \\subset O'$ 且 $m(O')  1/2 + \\epsilon/4$。我们可以用构成 $O'$ 的有限个区间的端点来形成一个划分 $P$。对于这个划分，与 $S$ 相交的子区间的并集（我们称为 $A_2$）将被包含在 $O'$ 中。因此，$m(A_2) \\le m(O')  1/2 + \\epsilon/4$。\n对于这个划分 $P$，上和为：\n$U(P,f) = 1 + 4 m(A_2)  1 + 4(1/2 + \\epsilon/4) = 1 + 2 + \\epsilon = 3 + \\epsilon$。\n由于对于任意 $\\epsilon > 0$，我们都可以找到一个划分 $P$ 使得 $U(P,f)  3+\\epsilon$，那么必然有 $U(f) = \\inf_P U(P,f) \\le 3$。\n结合 $U(f) \\ge 3$，我们得出结论 $U(f)=3$。\n\n所以，我们得到下积分为 $L(f)=0$，上积分为 $U(f)=3$。由于 $L(f) \\neq U(f)$，函数 $f$ 在 $[0,1]$ 上不是 Riemann 可积的。这对应于选项 C。\n\n另外，我们可以使用 Riemann 可积的 Lebesgue 判据，该判据指出，闭区间上的有界函数是 Riemann 可积的，当且仅当其间断点集的 Lebesgue 测度为零。\n我们来找出 $f$ 的间断点集。\n- 如果 $x \\in S$，那么 $f(x)=5$。由于 $S$ 是无处稠密的， $x$ 的任何邻域都包含来自补集 $[0,1]\\setminus S$ 的点。在这个补集中，存在无理点 $y$ 使得 $f(y)=0$。因此，$\\liminf_{z \\to x} f(z) = 0 \\neq f(x)$。函数在 $S$ 中的每一点都是间断的。\n- 如果 $x \\in [0,1]\\setminus S$，该函数定义为（取值为 0 和 1 的）Dirichlet 函数。在 $[0,1]\\setminus S$ 中的任意有理点 $x$ 处，$f(x)=1$，但其任何邻域都包含 $f=0$ 的无理点。在 $[0,1]\\setminus S$ 中的任意无理点 $x$ 处，$f(x)=0$，但其任何邻域都包含 $f=1$ 的有理点。所以 $f$ 在 $[0,1]\\setminus S$ 中的每一点都是间断的。\n间断点集为 $D = S \\cup ([0,1]\\setminus S) = [0,1]$。\n间断点集的 Lebesgue 测度为 $m(D)=m([0,1])=1$。由于测度不为零，该函数不是 Riemann 可积的。这证实了我们之前的发现，并排除了选项 A 和 B。为了区分 C、D 和 E，仍然需要计算下积分和上积分。", "answer": "$$\\boxed{C}$$", "id": "1450280"}]}