{"hands_on_practices": [{"introduction": "本练习从一个简单的离散场景入手，探讨两个独立传感器的联合检测事件。这个问题的核心在于阐明条件期望的一个基本性质：当一个随机变量的取值完全由我们所知的信息确定时，它的条件期望就是它自身。通过这个直观的例子，你将体验到如何利用已知信息来简化看似复杂的期望计算 [@problem_id:1438518]。", "problem": "部署了两个独立的传感器，传感器1和传感器2，用于检测特定的环境特征。在任何给定的观察周期内，每个传感器报告一个二元结果：如果检测到特征则为'1'，否则为'0'。令$X_1$和$X_2$分别为代表传感器1和传感器2报告的随机变量。两个传感器独立工作且统计特性相同，报告'1'的概率均为$p$。因此，$X_1$和$X_2$可以被建模为独立同分布的伯努利随机变量。一位分析师需要估计联合检测事件，该事件由乘积$X_1 X_2$表示。然而，分析师唯一可用的数据是检测到的总次数，即总和$S = X_1 + X_2$。请确定在仅有总和$S$信息的情况下，分析师对联合检测事件的最佳估计。用概率论的语言来说，就是求条件期望$E[X_1 X_2 | S]$。请将您的答案表示为$S$的函数。", "solution": "令$X_{1}, X_{2} \\sim \\text{Bernoulli}(p)$是独立的，且令$S = X_{1} + X_{2}$。我们感兴趣的量是$X_{1}X_{2}$，它当且仅当两个传感器都报告1时才等于1。\n\n列出$S$的可能取值，并确定每种情况下$X_{1}X_{2}$的值：\n- 如果$S=0$，则$(X_{1},X_{2})=(0,0)$，所以$X_{1}X_{2}=0$。\n- 如果$S=1$，则$X_{1},X_{2}$中一个为1，另一个为0，所以$X_{1}X_{2}=0$。\n- 如果$S=2$，则$(X_{1},X_{2})=(1,1)$，所以$X_{1}X_{2}=1$。\n\n因此，$X_{1}X_{2}$完全由$S$确定，并且等于事件$\\{S=2\\}$的指示函数。等价地，作为$S \\in \\{0,1,2\\}$的函数，\n$$\nX_{1}X_{2} = \\frac{S(S-1)}{2},\n$$\n因为当$S=0$或$S=1$时，该表达式的值为0，当$S=2$时，其值为1。\n\n因为$X_{1}X_{2}$是$S$的可测函数，根据条件期望的定义属性，\n$$\nE[X_{1}X_{2} \\mid S] = X_{1}X_{2} = \\frac{S(S-1)}{2}.\n$$\n这个结果不依赖于$p$。", "answer": "$$\\boxed{\\frac{S(S-1)}{2}}$$", "id": "1438518"}, {"introduction": "从离散世界过渡到连续世界，这个练习要求我们处理在一个几何区域内均匀分布的随机点。本题旨在训练你使用条件概率密度函数来计算条件期望，这是一种在连续随机变量问题中极为强大的技术 [@problem_id:1327081]。通过“切片”样本空间，我们将学习如何根据给定信息 $Y=y$ 来确定 $X$ 的条件分布，并求出其期望值，从而深化对条件作用的几何直觉。", "problem": "一个坐标为 $(X,Y)$ 的点从一个二维区域中均匀随机地选取。该区域是笛卡尔平面上的一个三角形，其顶点位于点 $(0,0)$、$(L, H)$ 和 $(L, -H)$，其中 $L$ 和 $H$ 是正常数。求在随机变量 $Y$ 取特定值 $y$（其中 $-H < y < H$）的条件下，随机变量 $X$ 的条件期望。将答案表示为 $y$、$L$ 和 $H$ 的函数。", "solution": "设该三角形记为 $T$，其顶点为 $(0,0)$、$(L,H)$ 和 $(L,-H)$。在 $T$ 上的均匀密度是常数，因此联合密度函数为 $f_{X,Y}(x,y)=c$（对于 $(x,y)\\in T$），其他情况下为零，其中 $c$ 由 $T$ 的面积确定。\n\n$T$ 的面积为\n$$\n\\text{Area}(T)=\\frac{1}{2}\\cdot (2H)\\cdot L=HL,\n$$\n所以\n$$\nc=\\frac{1}{HL}.\n$$\n\n对于一个固定的 $y$（其中 $-H<y<H$），在 $T$ 中高度为 $y$ 的水平线段，其 $x$ 坐标从左边界（由直线 $y=\\pm\\frac{H}{L}x$ 给出）延伸到右边界 $x=L$。将 $y=\\pm\\frac{H}{L}x$ 对 $x$ 求解，可得\n$$\nx_{\\text{left}}(y)=\\frac{L}{H}|y|, \\quad x_{\\text{right}}(y)=L.\n$$\n因此，在 $Y=y$ 的条件下，$X$ 的支撑集是区间 $\\left[\\frac{L}{H}|y|,\\,L\\right]$。\n\n$Y$ 的边缘密度函数为\n$$\nf_{Y}(y)=\\int_{x_{\\text{left}}(y)}^{L} c \\, dx\n=\\frac{1}{HL}\\left(L-\\frac{L}{H}|y|\\right)\n=\\frac{1}{H}\\left(1-\\frac{|y|}{H}\\right),\n\\quad -H<y<H.\n$$\n给定 $Y=y$ 时，对于 $x\\in\\left[\\frac{L}{H}|y|,\\,L\\right]$，$X$ 的条件密度函数为\n$$\nf_{X\\mid Y}(x\\mid y)=\\frac{f_{X,Y}(x,y)}{f_{Y}(y)}\n=\\frac{\\frac{1}{HL}}{\\frac{1}{H}\\left(1-\\frac{|y|}{H}\\right)}\n=\\frac{1}{L-\\frac{L}{H}|y|},\n$$\n这是在 $\\left[\\frac{L}{H}|y|,\\,L\\right]$ 上的均匀密度。\n\n因此，条件期望是该区间的中点：\n$$\n\\mathbb{E}[X\\mid Y=y]=\\frac{\\frac{L}{H}|y|+L}{2}\n=\\frac{L}{2}\\left(1+\\frac{|y|}{H}\\right),\n\\quad -H<y<H.\n$$", "answer": "$$\\boxed{\\frac{L}{2}\\left(1+\\frac{|y|}{H}\\right)}$$", "id": "1327081"}, {"introduction": "掌握了计算技巧后，我们来挑战一个更深层次的概念性问题，它将我们对条件期望的理解提升到新的高度。本练习探讨了“均值独立”（$E[X | \\mathcal{G}] = E[X]$）与完全统计独立性之间的微妙差别，这是一个常见但重要的易混淆点 [@problem_id:1438532]。通过构建一个反例，你将深刻理解为何条件期望是关于“最佳预测”的陈述，而不一定意味着随机变量之间没有更复杂的依赖关系。", "problem": "设 $(\\Omega, \\mathcal{F}, P)$ 是一个概率空间，$X$ 是定义在该空间上的一个可积实值随机变量，$\\mathcal{G}$ 是 $\\mathcal{F}$ 的一个子$\\sigma$-代数。我们引入两个关联 $X$ 和 $\\mathcal{G}$ 的性质。\n\n1.  **均值独立**：我们称 $X$ 相对于 $\\mathcal{G}$ 是*均值独立*的，如果条件 $E[X | \\mathcal{G}] = E[X]$ 几乎必然 (a.s.) 成立。\n2.  **独立性**：我们称 $X$ 相对于 $\\mathcal{G}$ 是*独立*的，如果对于每个波莱尔集 $B \\in \\mathcal{B}(\\mathbb{R})$，事件 $\\{X \\in B\\}$ 与每个事件 $A \\in \\mathcal{G}$ 都是独立的。\n\n考虑以下关于这两种性质之间关系的陈述：\n\nI. 均值独立性等价于独立性。\nII. 独立性蕴含均值独立性。\nIII. 均值独立性蕴含独立性。\nIV. 存在一个概率空间、一个非常数随机变量 $X$ 和一个非平凡子$\\sigma$-代数 $\\mathcal{G}$（即 $\\mathcal{G} \\neq \\{\\emptyset, \\Omega\\}$），使得 $X$ 相对于 $\\mathcal{G}$ 是均值独立的，但不是独立的。\n\n以上陈述中哪些是正确的？\n\nA. 仅 I\n\nB. 仅 II\n\nC. 仅 III\n\nD. 仅 II 和 IV\n\nE. 仅 III 和 IV", "solution": "我们回顾一下定义。均值独立性指 $E[X \\mid \\mathcal{G}] = E[X]$ 几乎必然成立。$X$ 相对于 $\\mathcal{G}$ 的独立性指对于每个 $B \\in \\mathcal{B}(\\mathbb{R})$ 和每个 $A \\in \\mathcal{G}$，我们有 $P(\\{X \\in B\\} \\cap A) = P(X \\in B) P(A)$。\n\n我们证明 II：独立性蕴含均值独立性。假设 $X$ 是可积的且独立于 $\\mathcal{G}$。对于任意 $A \\in \\mathcal{G}$，\n$$\nE\\big[E[X \\mid \\mathcal{G}] \\mathbf{1}_{A}\\big] = E[X \\mathbf{1}_{A}] \\quad \\text{（条件期望的塔性质）}。\n$$\n根据独立性，\n$$\nE[X \\mathbf{1}_{A}] = E[X] E[\\mathbf{1}_{A}] = E[X] P(A) = E\\big[E[X] \\mathbf{1}_{A}\\big].\n$$\n因此\n$$\nE\\big((E[X \\mid \\mathcal{G}] - E[X]) \\mathbf{1}_{A}\\big) = 0 \\quad \\text{对于所有 } A \\in \\mathcal{G}。\n$$\n由于 $E[X \\mid \\mathcal{G}] - E[X]$ 是 $\\mathcal{G}$-可测的，对于所有 $A \\in \\mathcal{G}$，性质 $E[U \\mathbf{1}_{A}] = 0$ 蕴含 $U = 0$ 几乎必然成立。将此性质应用于 $U = E[X \\mid \\mathcal{G}] - E[X]$，可得 $E[X \\mid \\mathcal{G}] = E[X]$ 几乎必然成立。因此 II 是正确的。\n\n我们通过构造 IV 所要求的反例来证明 III 是错误的。设 $(\\Omega, \\mathcal{F}, P)$ 上的随机变量 $X$ 在 $\\{-1, 0, 1\\}$ 中取值，满足 $P(X=1) = P(X=-1) = p$ 且 $P(X=0) = 1 - 2p$，其中 $p \\in (0, \\frac{1}{2})$。那么 $X$ 是非常数、可积的，且 $E[X] = 0$。考虑 $\\mathcal{G} = \\sigma(X^{2})$。则 $X^{2}$ 在 $0$ 和 $1$ 上取值，满足 $P(X^{2}=1) = 2p$ 和 $P(X^{2}=0) = 1 - 2p$，因此 $\\mathcal{G}$ 是非平凡的。计算条件期望：\n- 如果 $X^{2} = 0$，那么 $X = 0$，所以 $E[X \\mid X^{2} = 0] = 0$。\n- 如果 $X^{2} = 1$，那么 $X \\in \\{-1,1\\}$ 且 $P(X=1 \\mid X^{2}=1) = \\frac{p}{2p} = \\frac{1}{2} = P(X=-1 \\mid X^{2}=1)$，所以 $E[X \\mid X^{2} = 1] = \\frac{1}{2} \\cdot 1 + \\frac{1}{2} \\cdot (-1) = 0$。\n因此 $E[X \\mid \\sigma(X^{2})] = 0 = E[X]$ 几乎必然成立，所以 $X$ 相对于 $\\mathcal{G}$ 是均值独立的。然而，$X$ 相对于 $\\mathcal{G}$ 不是独立的，因为对于 $B = \\{0\\}$，我们有 $P(X \\in B \\mid X^{2} = 1) = 0 \\neq P(X \\in B) = 1 - 2p$。因此 IV 是正确的，而 III 是错误的。\n\n由于 II 是正确的而 III 是错误的，所以陈述 I（等价性）也是错误的。因此正确的选项是仅 II 和 IV。", "answer": "$$\\boxed{D}$$", "id": "1438532"}]}