{"hands_on_practices": [{"introduction": "我们从最简单的情形入手：基于平凡 $\\sigma$-代数 $\\mathcal{G} = \\{\\emptyset, \\Omega\\}$ 进行条件化，这代表除了概率空间的基本结构外，我们没有任何额外信息。这个练习旨在阐明，条件概率作为拉东-尼科迪姆导数的抽象定义，在这种极限情况下如何自然地回归到我们所熟悉的无条件概率 $P(A)$。通过这个实践，您可以将新学的抽象理论与已有的知识联系起来。[@problem_id:1411086]", "problem": "设 $(\\Omega, \\mathcal{F}, P)$ 为一个概率空间。设 $A$ 是 $\\sigma$-代数 $\\mathcal{F}$ 中的一个事件，其概率为 $P(A)$。考虑平凡子$\\sigma$-代数 $\\mathcal{G} = \\{\\emptyset, \\Omega\\}$。\n\n在高等概率论中，给定 $\\mathcal{G}$ 时 $A$ 的条件概率，记作随机变量 $P(A|\\mathcal{G})$，被定义为满足以下积分条件的唯一的（在几乎必然相等的意义下）$\\mathcal{G}$-可测随机变量，对于任意集合 $G \\in \\mathcal{G}$：\n$$\n\\int_{G} P(A|\\mathcal{G}) \\, dP = P(A \\cap G)\n$$\n这等价于说 $P(A|\\mathcal{G})$ 是测度 $Q_A(G) = P(A \\cap G)$ 关于限制在 $\\mathcal{G}$ 上的测度 $P$ 的 Radon-Nikodym 导数。\n\n一个随机变量 $X: \\Omega \\to \\mathbb{R}$ 被称为是 $\\mathcal{G}$-可测的，如果对于任意 Borel 集 $B \\subseteq \\mathbb{R}$，其原像 $X^{-1}(B)$ 都在 $\\mathcal{G}$ 中。对于平凡代数 $\\mathcal{G} = \\{\\emptyset, \\Omega\\}$ 这一特定情况，这意味着该随机变量必须几乎处处为常数。\n\n在此框架下，求出随机变量 $P(A|\\mathcal{G})$ 的显式表达式。", "solution": "我们使用定义：$P(A \\mid \\mathcal{G})$ 是一个 $\\mathcal{G}$-可测的随机变量，使得对于任意 $G \\in \\mathcal{G}$，\n$$\n\\int_{G} P(A \\mid \\mathcal{G}) \\, dP = P(A \\cap G).\n$$\n由于 $\\mathcal{G} = \\{\\emptyset, \\Omega\\}$ 是平凡 $\\sigma$-代数，任何 $\\mathcal{G}$-可测的随机变量必须几乎必然为常数。因此存在一个常数 $c \\in \\mathbb{R}$ 使得\n$$\nP(A \\mid \\mathcal{G}) = c \\quad \\text{几乎必然}.\n$$\n将定义条件应用于 $G = \\Omega$ 可得\n$$\n\\int_{\\Omega} P(A \\mid \\mathcal{G}) \\, dP = \\int_{\\Omega} c \\, dP = c \\, P(\\Omega) = P(A \\cap \\Omega) = P(A).\n$$\n根据概率公理 $P(\\Omega) = 1$，我们得到\n$$\nc = P(A).\n$$\n对于 $G = \\emptyset$，该条件为\n$$\n\\int_{\\emptyset} P(A \\mid \\mathcal{G}) \\, dP = 0 = P(A \\cap \\emptyset),\n$$\n这个条件自动满足，且不提供任何进一步的约束。因此，\n$$\nP(A \\mid \\mathcal{G}) = P(A) \\quad \\text{几乎必然},\n$$\n即，该条件概率是等于 $P(A)$ 的常数随机变量。", "answer": "$$\\boxed{P(A)}$$", "id": "1411086"}, {"introduction": "接下来，我们探讨另一个极端：基于完备 $\\sigma$-代数 $\\mathcal{F}$ 进行条件化，这相当于我们拥有关于实验结果的全部信息。此练习将揭示，在信息完备的情况下，事件的“概率”将不再是不确定的数值，而是坍缩为一个确定的指示函数 $\\mathbf{1}_A$。这强化了一个核心观念：条件概率是一个随机变量，其取值依赖于我们所掌握的信息。[@problem_id:1411063]", "problem": "在一个概率空间 $(\\Omega, \\mathcal{F}, P)$ 中，给定一个子$\\sigma$-代数 $\\mathcal{G} \\subseteq \\mathcal{F}$，事件 $A \\in \\mathcal{F}$ 的条件概率被定义为一个$\\mathcal{G}$-可测的随机变量，记作 $P(A|\\mathcal{G})$，它满足以下性质：\n$$ \\int_B P(A|\\mathcal{G}) \\, dP = P(A \\cap B) \\quad \\text{对所有 } B \\in \\mathcal{G}。 $$\n这样一个随机变量的存在性与几乎必然唯一性由 Radon-Nikodym 定理保证。\n\n考虑这样一个概率空间，其样本空间为单位区间 $\\Omega = [0, 1]$。$\\sigma$-代数 $\\mathcal{F}$ 是 $[0, 1]$ 上的 Borel $\\sigma$-代数，概率测度 $P$ 是 $[0, 1]$ 上的 Lebesgue 测度。\n\n设事件 $A$ 是 $\\Omega$ 的子集，定义为 $A = [0, 1/4] \\cup [3/4, 1]$。\n\n确定事件 $A$ 在给定完整$\\sigma$-代数 $\\mathcal{F}$ 下的条件概率，记为随机变量 $X(\\omega) = P(A|\\mathcal{F})(\\omega)$。下列哪个表达式代表 $X(\\omega)$？\n\nA. $X(\\omega) = 1/2$\n\nB. $X(\\omega) = \\omega$\n\nC. $X(\\omega) = 1_A(\\omega)$，其中 $1_A(\\omega)$ 是集合 $A$ 的指示函数。\n\nD. $X(\\omega) = 1 - 1_A(\\omega)$\n\nE. $X(\\omega) = 4\\omega \\cdot 1_{[0, 1/4]}(\\omega) + (4-4\\omega) \\cdot 1_{[3/4, 1]}(\\omega)$", "solution": "根据定义，对于子$\\sigma$-代数 $\\mathcal{G}$，$P(A \\mid \\mathcal{G})$ 的一个版本是一个$\\mathcal{G}$-可测的随机变量 $X$，使得对所有 $B \\in \\mathcal{G}$，\n$$\n\\int_{B} X \\, dP = P(A \\cap B).\n$$\n令 $\\mathcal{G} = \\mathcal{F}$。考虑 $X = 1_{A}$。那么 $1_{A}$ 是 $\\mathcal{F}$-可测的，并且对于任意 $B \\in \\mathcal{F}$，\n$$\n\\int_{B} 1_{A} \\, dP = \\int 1_{B} 1_{A} \\, dP = P(B \\cap A).\n$$\n因此，$1_{A}$ 满足 $P(A \\mid \\mathcal{F})$ 的定义性质。根据 Radon-Nikodym 定理，该版本几乎必然唯一，所以\n$$\nP(A \\mid \\mathcal{F}) = 1_{A} \\quad \\text{a.s.}\n$$\n因此，作为一个随机变量，$X(\\omega) = 1_{A}(\\omega)$。\n\n为了说明其他选项不满足对所有 $B \\in \\mathcal{F}$ 的定义性质：\n- 如果 $X(\\omega) = \\frac{1}{2}$，那么 $\\int_{B} X \\, dP = \\frac{1}{2} P(B)$，仅当对所有 $B$ 都有 $P(A \\cap B) = \\frac{1}{2} P(B)$ 时，它才等于 $P(A \\cap B)$，而这是错误的（例如，取 $B \\subseteq A$）。\n- 如果 $X(\\omega) = \\omega$，那么对于任意的 $B$，$\\int_{B} \\omega \\, dP$ 不能等于 $P(A \\cap B)$（例如，取 $B = A$ 会得到 $\\int_{A} \\omega \\, dP \\neq P(A)$）。\n- 如果 $X(\\omega) = 1 - 1_{A}(\\omega)$，那么 $\\int_{B} X \\, dP = P(B) - P(A \\cap B) \\neq P(A \\cap B)$，除非对所有 $B$ 都有 $P(B) = 2 P(A \\cap B)$，而这是错误的。\n- 如果 $X(\\omega)$ 是选项 E 中的分段线性函数，它在正测度集上不等于 $1_{A}$（例如，在 $[0, 1/4]$ 上，它的取值在 $(0,1]$ 内而不是 $1$），因此对于合适的 $B$，它不满足积分恒等式。\n\n因此，正确的表达式是 $X(\\omega) = 1_{A}(\\omega)$，这对应于选项 C。", "answer": "$$\\boxed{C}$$", "id": "1411063"}, {"introduction": "在探索了两种极端情况之后，我们现在转向一个更实际的场景，它涉及部分且不断增长的信息。通过一个经典的三次掷硬币实验，这个练习不仅要求您根据不同层级的信息（即不同的 $\\sigma$-代数）来计算条件概率，还将引导您亲手验证至关重要的“迭代期望定律”（Law of Iterated Expectations or Tower Property）。这个定律是理解随着信息不断更新，我们的概率预测如何演变的核心。[@problem_id:1411087]", "problem": "考虑一个概率空间 $(\\Omega, \\mathcal{F}, P)$，它对应于连续三次独立地投掷一枚公平的硬币。令 $H$ 表示结果为“正面”，$T$ 表示“反面”。样本空间为 $\\Omega = \\{H, T\\}^3 = \\{HHH, HHT, HTH, HTT, THH, THT, TTH, TTT\\}$，$\\mathcal{F}$ 是 $\\Omega$ 的幂集，$P$ 是 $\\Omega$ 上的均匀概率测度，赋给每个基本事件的概率为 $1/8$。\n\n令 $X_i: \\Omega \\to \\{H, T\\}$ 为随机变量，表示第 $i$ 次投掷的结果，其中 $i \\in \\{1, 2, 3\\}$。我们定义两个 sigma-代数：$\\mathcal{G}_1 = \\sigma(X_1)$，表示第一次投掷的信息；以及 $\\mathcal{G}_2 = \\sigma(X_1, X_2)$，表示前两次投掷的信息。\n\n令 $A$ 为三次投掷均为正面的事件，即 $A = \\{HHH\\}$。在测度论概率中，给定一个 sigma-代数 $\\mathcal{G} \\subseteq \\mathcal{F}$，事件 $A$ 的条件概率，记作 $P(A|\\mathcal{G})$，被定义为条件期望 $E[\\mathbf{1}_A|\\mathcal{G}]$，其中 $\\mathbf{1}_A$ 是事件 $A$ 的指示函数。其结果是 $\\Omega$ 上的一个 $\\mathcal{G}$-可测随机变量。\n\n令随机变量 $Y_1$ 定义为 $P(A|\\mathcal{G}_1)$。令随机变量 $Z$ 定义为 $P(A|\\mathcal{G}_2)$。然后我们定义第三个随机变量 $Y_2 = E[Z|\\mathcal{G}_1]$。\n\n基于在样本空间 $\\Omega$ 上对随机变量 $Y_1$ 和 $Y_2$ 的完整计算，下列哪个陈述正确地描述了它们之间的关系？\n\nA. 对于所有 $\\omega \\in \\Omega$，$Y_1(\\omega) = Y_2(\\omega)$。\n\nB. 对于所有 $\\omega \\in \\Omega$，$Y_1(\\omega) = 2 Y_2(\\omega)$。\n\nC. 对于所有 $\\omega \\in \\Omega$，$Y_1(\\omega) = [Y_2(\\omega)]^2$。\n\nD. 存在至少一个 $\\omega \\in \\Omega$ 使得 $Y_1(\\omega) \\neq Y_2(\\omega)$。\n\nE. $Y_1$ 在 $\\Omega$ 上是常数，而 $Y_2$ 不是。", "solution": "我们在具有均匀测度和独立投掷的有限概率空间上进行计算。令 $A=\\{HHH\\}$。定义 $\\mathcal{G}_1=\\sigma(X_1)$ 和 $\\mathcal{G}_2=\\sigma(X_1,X_2)$。$\\mathcal{G}_1$ 的原子集是\n$$\nH_1=\\{\\omega\\in\\Omega:X_1(\\omega)=H\\}=\\{HHH,HHT,HTH,HTT\\},\\quad\nT_1=\\{\\omega\\in\\Omega:X_1(\\omega)=T\\}=\\{THH,THT,TTH,TTT\\}.\n$$\n$\\mathcal{G}_2$ 的原子集是\n$$\nHH=\\{HHH,HHT\\},\\quad HT=\\{HTH,HTT\\},\\quad TH=\\{THH,THT\\},\\quad TT=\\{TTH,TTT\\}.\n$$\n\n计算 $Y_1=P(A\\mid\\mathcal{G}_1)=E[\\mathbf{1}_A\\mid\\mathcal{G}_1]$。因为 $Y_1$ 在 $\\mathcal{G}_1$ 的每个原子上是常数，\n- 对于 $\\omega\\in H_1$，\n$$\nY_1(\\omega)=P(A\\mid X_1=H)=P(X_2=H,X_3=H\\mid X_1=H)=P(X_2=H)P(X_3=H)=\\frac{1}{4},\n$$\n根据投掷的独立性。\n- 对于 $\\omega\\in T_1$，\n$$\nY_1(\\omega)=P(A\\mid X_1=T)=0,\n$$\n因为事件 $A$ 要求 $X_1=H$。\n\n因此\n$$\nY_1(\\omega)=\\begin{cases}\n\\frac{1}{4}, & \\omega\\in H_1,\\\\\n0, & \\omega\\in T_1.\n\\end{cases}\n$$\n\n计算 $Z=P(A\\mid\\mathcal{G}_2)=E[\\mathbf{1}_A\\mid\\mathcal{G}_2]$。因为 $Z$ 在 $\\mathcal{G}_2$ 的每个原子上是常数，\n- 对于 $\\omega\\in HH$，\n$$\nZ(\\omega)=P(A\\mid X_1=H,X_2=H)=P(X_3=H)=\\frac{1}{2}.\n$$\n- 对于 $\\omega\\in HT\\cup TH\\cup TT$，\n$$\nZ(\\omega)=P(A\\mid \\text{first two flips are not both }H)=0.\n$$\n因此\n$$\nZ(\\omega)=\\begin{cases}\n\\frac{1}{2}, & \\omega\\in HH,\\\\\n0, & \\omega\\in HT\\cup TH\\cup TT.\n\\end{cases}\n$$\n\n现在计算 $Y_2=E[Z\\mid\\mathcal{G}_1]$。同样，$Y_2$ 在 $H_1$ 和 $T_1$ 上是常数：\n- 对于 $\\omega\\in H_1$，以 $X_1=H$ 为条件。那么 $X_2$ 是独立的，并以概率 $\\frac{1}{2}$ 取 $H$ 或 $T$。因此\n$$\nY_2(\\omega)=E[Z\\mid X_1=H]=\\frac{1}{2}\\cdot Z(HH) + \\frac{1}{2} \\cdot Z(HT) = \\frac{1}{2}\\cdot\\frac{1}{2}+\\frac{1}{2}\\cdot 0=\\frac{1}{4}.\n$$\n- 对于 $\\omega\\in T_1$，如果 $X_1=T$，那么前两次投掷不都是 $H$，所以 $Z$ 总是等于 $0$，因此\n$$\nY_2(\\omega)=E[Z\\mid X_1=T]=0.\n$$\n\n因此\n$$\nY_2(\\omega)=\\begin{cases}\n\\frac{1}{4}, & \\omega\\in H_1,\\\\\n0, & \\omega\\in T_1,\n\\end{cases}\n$$\n这与 $Y_1(\\omega)$ 在所有 $\\omega\\in\\Omega$ 上逐点重合。\n\n等价地，根据塔性质，由于 $\\mathcal{G}_1\\subseteq\\mathcal{G}_2$，\n$$\nY_2=E[Z\\mid\\mathcal{G}_1]=E[E[\\mathbf{1}_A\\mid\\mathcal{G}_2]\\mid\\mathcal{G}_1]=E[\\mathbf{1}_A\\mid\\mathcal{G}_1]=Y_1,\n$$\n并且在这个有限的设定中，等式对所有 $\\omega\\in\\Omega$ 成立。\n\n因此，正确选项是 A。", "answer": "$$\\boxed{A}$$", "id": "1411087"}]}