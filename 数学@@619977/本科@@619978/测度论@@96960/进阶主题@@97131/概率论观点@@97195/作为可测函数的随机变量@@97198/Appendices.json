{"hands_on_practices": [{"introduction": "让我们从一个基础性的例子开始。我们将检验一个示性函数，这是最简单的函数类型之一。这个练习将引导你通过直接分析其原像，来验证它是否满足可测函数的定义，从而确定它是否为一个随机变量。[@problem_id:1440310]", "problem": "设 $(\\mathbb{R}^2, \\mathcal{B}(\\mathbb{R}^2))$ 是一个可测空间，其中 $\\mathcal{B}(\\mathbb{R}^2)$ 是 $\\mathbb{R}^2$ 上的Borel $\\sigma$-代数（由 $\\mathbb{R}^2$ 的开集生成的 $\\sigma$-代数）。我们函数的上域将是配备了其标准Borel $\\sigma$-代数 $\\mathcal{B}(\\mathbb{R})$ 的实数轴 $\\mathbb{R}$。\n\n在测度论中，一个从一个测度空间到另一个测度空间的函数，如果它是可测的，就被称为随机变量。\n\n考虑一个函数 $X: \\mathbb{R}^2 \\to \\mathbb{R}$，它由闭合的第一象限的指示函数定义。也就是说，对于任意点 $(x, y) \\in \\mathbb{R}^2$，该函数定义为：\n$$\nX(x, y) = \\begin{cases} 1 & \\text{if } x \\ge 0 \\text{ and } y \\ge 0 \\\\ 0 & \\text{otherwise} \\end{cases}\n$$\n\n下列哪个陈述正确地判断了 $X$ 是否为一个随机变量？\n\nA. $X$ 是一个随机变量，因为在 $X$ 作用下，$\\mathbb{R}$ 中任何Borel集的原像都是 $\\mathbb{R}^2$ 中的一个Borel集。\n\nB. $X$ 是一个随机变量，因为它的值域，即集合 $\\{0, 1\\}$，是 $\\mathbb{R}$ 中的一个闭有界集，因此是一个Borel集。\n\nC. $X$ 不是一个随机变量，因为该函数在第一象限的边界上是不连续的，而随机变量必须是连续函数。\n\nD. $X$ 不是一个随机变量，因为集合 $\\{(x,y) | X(x,y)=1\\}$ 是一个无界集，所以这个原像不是一个良定义的可测集。\n\nE. $X$ 是一个随机变量，因为它是一个集合的指示函数，而根据定义，所有指示函数都是随机变量。", "solution": "要判断函数 $X: \\mathbb{R}^2 \\to \\mathbb{R}$ 是否为随机变量，我们必须检查它是否为可测函数。根据定义，一个函数 $X: (\\Omega, \\mathcal{F}) \\to (S', \\mathcal{F}')$ 是可测的，如果对于每一个集合 $B \\in \\mathcal{F}'$，其原像 $X^{-1}(B) = \\{\\omega \\in \\Omega \\mid X(\\omega) \\in B\\}$ 都是 $\\mathcal{F}$ 中的一个元素。\n\n在本题中，定义域空间为 $(\\Omega, \\mathcal{F}) = (\\mathbb{R}^2, \\mathcal{B}(\\mathbb{R}^2))$，上域空间为 $(S', \\mathcal{F}') = (\\mathbb{R}, \\mathcal{B}(\\mathbb{R}))$。因此，$X$ 是一个随机变量，当且仅当对于任意Borel集 $B \\in \\mathcal{B}(\\mathbb{R})$，其原像 $X^{-1}(B)$ 是 $\\mathbb{R}^2$ 中的一个Borel集，即 $X^{-1}(B) \\in \\mathcal{B}(\\mathbb{R}^2)$。\n\n我们来分析在 $X$ 作用下的原像的结构。函数 $X$ 的值域是集合 $\\{0, 1\\}$。设 $Q$ 为闭合的第一象限，即 $Q = \\{(x, y) \\in \\mathbb{R}^2 \\mid x \\ge 0 \\text{ and } y \\ge 0\\}$。\n根据 $X$ 的定义，我们有：\n$X^{-1}(\\{1\\}) = Q$\n$X^{-1}(\\{0\\}) = \\mathbb{R}^2 \\setminus Q = Q^c$\n\n现在考虑一个任意的Borel集 $B \\in \\mathcal{B}(\\mathbb{R})$。我们可以根据 $B$ 如何与值域 $\\{0, 1\\}$ 相交来分析其原像 $X^{-1}(B)$：\n1.  如果 $0 \\notin B$ 且 $1 \\notin B$，那么 $X^{-1}(B) = \\emptyset$。空集总是任何 $\\sigma$-代数中的一个元素，所以 $\\emptyset \\in \\mathcal{B}(\\mathbb{R}^2)$。\n2.  如果 $0 \\in B$ 且 $1 \\notin B$，那么 $X^{-1}(B) = X^{-1}(\\{0\\}) = Q^c$。\n3.  如果 $0 \\notin B$ 且 $1 \\in B$，那么 $X^{-1}(B) = X^{-1}(\\{1\\}) = Q$。\n4.  如果 $0 \\in B$ 且 $1 \\in B$，那么 $X^{-1}(B) = X^{-1}(\\{0, 1\\}) = Q^c \\cup Q = \\mathbb{R}^2$。全空间 $\\mathbb{R}^2$ 总是其自身的 $\\sigma$-代数 $\\mathcal{B}(\\mathbb{R}^2)$ 的一个元素。\n\n如果集合 $Q$ 和 $Q^c$ 都在 $\\mathcal{B}(\\mathbb{R}^2)$ 中，那么函数 $X$ 就是一个随机变量。\n我们来考察集合 $Q = [0, \\infty) \\times [0, \\infty)$。区间 $[0, \\infty)$ 是 $\\mathbb{R}$ 中的一个闭集。在拓扑空间中，每个闭集都是相应Borel $\\sigma$-代数的成员。因此，$[0, \\infty)$ 是 $\\mathbb{R}$ 中的一个Borel集，即 $[0, \\infty) \\in \\mathcal{B}(\\mathbb{R})$。\n积空间 $\\mathbb{R}^2$ 上的Borel $\\sigma$-代数，记作 $\\mathcal{B}(\\mathbb{R}^2)$，包含所有形如 $B_1 \\times B_2$ 的集合，其中 $B_1, B_2 \\in \\mathcal{B}(\\mathbb{R})$。因为 $[0, \\infty) \\in \\mathcal{B}(\\mathbb{R})$，所以积集 $Q = [0, \\infty) \\times [0, \\infty)$ 是 $\\mathcal{B}(\\mathbb{R}^2)$ 的一个元素。\n因为 $\\mathcal{B}(\\mathbb{R}^2)$ 是一个 $\\sigma$-代数，所以它在取补运算下是封闭的。由于 $Q \\in \\mathcal{B}(\\mathbb{R}^2)$，其补集 $Q^c = \\mathbb{R}^2 \\setminus Q$ 也必定在 $\\mathcal{B}(\\mathbb{R}^2)$ 中。\n因为所有可能的原像（$\\emptyset, Q, Q^c, \\mathbb{R}^2$）都是 $\\mathcal{B}(\\mathbb{R}^2)$ 的元素，所以函数 $X$ 是可测的，因此是一个随机变量。\n\n现在我们来评估给出的选项：\nA. 这个陈述说 $X$ 是一个随机变量，因为 $\\mathbb{R}$ 中任何Borel集的原像是 $\\mathbb{R}^2$ 中的一个Borel集。这正是可测函数在此上下文中的精确定义，我们的分析也证实了这一点是真的。此选项正确。\nB. 这个选项声称 $X$ 是一个随机变量，因为它的值域 $\\{0,1\\}$ 是一个Borel集。虽然值域确实是一个Borel集（任何有限的实数集都是闭集，因此是Borel集），但这并不是函数可测的条件。条件是针对原像的，而不是值域本身。所以，这个推理是不正确的。\nC. 这个选项声称随机变量必须是连续的。这是错误的。不连续的函数也可以是可测的。函数 $X$ 就是一个不连续但可测的函数的经典例子。\nD. 这个选项声称 $X=1$ 所在的集合的无界性是一个问题。这是错误的。无界集，例如闭合的第一象限 $Q$，可以是（并且在本例中就是）完全有效的Borel集。一个集合的有界性与其可测性无关。\nE. 这个选项笼统地断言所有指示函数都是随机变量。这在一般情况下是不正确的。一个指示函数 $I_A$ 是随机变量，当且仅当集合 $A$ 是定义域的 $\\sigma$-代数的成员。例如，如果我们取 $A$为一个非Borel集（比如一个Vitali集），那么它的指示函数相对于Borel $\\sigma$-代数就不是一个随机变量。所以，这个推理过于宽泛，在没有限定条件的情况下是不正确的。\n\n因此，选项A提供了正确的结论和正确的推理。", "answer": "$$\\boxed{A}$$", "id": "1440310"}, {"introduction": "可测性是一个比连续性更宽泛的概念。为了真正理解这一点，我们将挑战著名的狄利克雷函数（Dirichlet function），一个处处不连续的函数。这个实践将向你展示，即使是行为极不“平滑”的函数也可以是合法的随机变量，这会促使我们仔细审视像有理数集这样的基础集合的结构。[@problem_id:1440291]", "problem": "在概率论中，随机变量被正式定义为一个可测函数。设样本空间为实数集 $\\Omega = \\mathbb{R}$，其上赋有 Borel $\\sigma$-代数 $\\mathcal{F} = \\mathcal{B}(\\mathbb{R})$。Borel $\\sigma$-代数 $\\mathcal{B}(\\mathbb{R})$ 是 $\\mathbb{R}$ 上包含所有开集的最小 $\\sigma$-代数。\n\n如果对于陪域的 Borel $\\sigma$-代数中的任意集合 $B$，其原像 $X^{-1}(B) = \\{\\omega \\in \\Omega \\mid X(\\omega) \\in B\\}$ 都是定义域的 $\\sigma$-代数 $\\mathcal{F}$ 中的一个元素，则称函数 $X: (\\Omega, \\mathcal{F}) \\to (\\mathbb{R}, \\mathcal{B}(\\mathbb{R}))$ 为一个随机变量（或称其为 $\\mathcal{F}$-可测的）。\n\n考虑 Dirichlet 函数 $D: \\mathbb{R} \\to \\mathbb{R}$，其定义如下：\n$$\nD(x) = \\begin{cases} \n1 & \\text{如果 } x \\in \\mathbb{Q} \\\\\n0 & \\text{如果 } x \\in \\mathbb{R} \\setminus \\mathbb{Q} \n\\end{cases}\n$$\n其中 $\\mathbb{Q}$ 是有理数集，而 $\\mathbb{R} \\setminus \\mathbb{Q}$ 是无理数集。\n\nDirichlet 函数 $D(x)$ 在可测空间 $(\\mathbb{R}, \\mathcal{B}(\\mathbb{R}))$ 上是一个随机变量吗？请从以下选项中选择正确的陈述和理由。\n\nA. 是，因为在 $D$ 作用下，陪域中所有可能的 Borel 集的原像是四个集合之一：$\\emptyset$、$\\mathbb{Q}$、$\\mathbb{R} \\setminus \\mathbb{Q}$ 或 $\\mathbb{R}$，而这四个集合都是 Borel $\\sigma$-代数 $\\mathcal{B}(\\mathbb{R})$ 的成员。\n\nB. 否，因为该函数在其定义域的每一点上都不连续，而一个函数要成为随机变量必须至少是分段连续的。\n\nC. 否，因为 Borel 集 $\\{1\\}$ 的原像，即有理数集 $\\mathbb{Q}$，本身不是一个 Borel 集。\n\nD. 是，因为所有简单函数（具有有限值域的函数）总是随机变量，而 Dirichlet 函数是一个值域为 $\\{0, 1\\}$ 的简单函数。", "solution": "要判断 Dirichlet 函数 $D(x)$ 是否为可测空间 $(\\mathbb{R}, \\mathcal{B}(\\mathbb{R}))$ 上的一个随机变量，我们必须检查它是否为一个可测函数。根据所给的定义，这意味着我们必须验证：对于任意 Borel 集 $B \\in \\mathcal{B}(\\mathbb{R})$，其原像 $D^{-1}(B)$ 也必须是一个 Borel 集，即 $D^{-1}(B) \\in \\mathcal{B}(\\mathbb{R})$。\n\nDirichlet 函数 $D(x)$ 将任意有理数映射到 1，将任意无理数映射到 0。该函数的值域是集合 $\\{0, 1\\}$。让我们来分析对于一个任意的 Borel 集 $B \\subseteq \\mathbb{R}$，其原像 $D^{-1}(B)$ 的结构。\n\n根据 0 和 1 是否是集合 $B$ 的元素，有四种不同的情况：\n\n1.  **情况 1：$0 \\notin B$ 且 $1 \\notin B$**\n    在这种情况下，对于任意 $x \\in \\mathbb{R}$，$D(x)$ 的值（为 0 或 1）不可能在 $B$ 中。因此，定义域中没有元素会映射到 $B$ 中。\n    $$D^{-1}(B) = \\emptyset$$\n    根据定义，空集 $\\emptyset$ 是任何 $\\sigma$-代数的元素，所以 $\\emptyset \\in \\mathcal{B}(\\mathbb{R})$。\n\n2.  **情况 2：$0 \\in B$ 且 $1 \\notin B$**\n    在这种情况下，一个元素 $x \\in \\mathbb{R}$ 映射到 $B$ 中，当且仅当 $D(x) = 0$。这对所有无理数都成立。\n    $$D^{-1}(B) = \\{x \\in \\mathbb{R} \\mid D(x) = 0\\} = \\mathbb{R} \\setminus \\mathbb{Q}$$\n\n3.  **情况 3：$0 \\notin B$ 且 $1 \\in B$**\n    在这种情况下，一个元素 $x \\in \\mathbb{R}$ 映射到 $B$ 中，当且仅当 $D(x) = 1$。这对所有有理数都成立。\n    $$D^{-1}(B) = \\{x \\in \\mathbb{R} \\mid D(x) = 1\\} = \\mathbb{Q}$$\n\n4.  **情况 4：$0 \\in B$ 且 $1 \\in B$**\n    在这种情况下，一个元素 $x \\in \\mathbb{R}$ 会映射到 $B$ 中，无论它是有理数还是无理数，因为 $D(x)$ 的值将是 0 或 1，而这两者都在 $B$ 中。\n    $$D^{-1}(B) = \\mathbb{R}$$\n    根据定义，整个空间 $\\mathbb{R}$ 是 $\\mathbb{R}$ 上的任何 $\\sigma$-代数的元素，所以 $\\mathbb{R} \\in \\mathcal{B}(\\mathbb{R})$。\n\n因此，对于任意 Borel 集 $B$，其原像 $D^{-1}(B)$ 必定是 $\\emptyset$、$\\mathbb{R}$、$\\mathbb{Q}$ 或 $\\mathbb{R} \\setminus \\mathbb{Q}$ 这四个集合之一。要使 $D(x)$ 成为一个随机变量，这四个集合都必须属于 Borel $\\sigma$-代数 $\\mathcal{B}(\\mathbb{R})$。我们已经知道 $\\emptyset \\in \\mathcal{B}(\\mathbb{R})$ 和 $\\mathbb{R} \\in \\mathcal{B}(\\mathbb{R})$。我们需要检查 $\\mathbb{Q}$ 和 $\\mathbb{R} \\setminus \\mathbb{Q}$。\n\n首先，考虑有理数集 $\\mathbb{Q}$。集合 $\\mathbb{Q}$ 是可数的。我们可以将其写成其元素的序列，$\\mathbb{Q} = \\{q_1, q_2, q_3, \\dots\\}$。每个单点集 $\\{q_i\\}$ 在 $\\mathbb{R}$ 的标准拓扑中都是一个闭集。根据定义，所有闭集都是 Borel $\\sigma$-代数的成员。一个 $\\sigma$-代数在可数并运算下是封闭的。因此，集合 $\\mathbb{Q}$ 可以表示为 Borel 集的可数并：\n$$\\mathbb{Q} = \\bigcup_{i=1}^{\\infty} \\{q_i\\}$$\n由于每个 $\\{q_i\\} \\in \\mathcal{B}(\\mathbb{R})$，它们的可数并 $\\mathbb{Q}$ 也属于 $\\mathcal{B}(\\mathbb{R})$。\n\n接下来，考虑无理数集 $\\mathbb{R} \\setminus \\mathbb{Q}$。既然我们已经证明了 $\\mathbb{Q} \\in \\mathcal{B}(\\mathbb{R})$ 并且我们知道 $\\mathbb{R} \\in \\mathcal{B}(\\mathbb{R})$，我们可以使用 $\\sigma$-代数在补集运算下封闭的性质。无理数集是有理数集在 $\\mathbb{R}$ 中的补集。因此，\n$$\\mathbb{R} \\setminus \\mathbb{Q} \\in \\mathcal{B}(\\mathbb{R})$$\n由于所有四种可能的原像（$\\emptyset$、$\\mathbb{Q}$、$\\mathbb{R} \\setminus \\mathbb{Q}$ 和 $\\mathbb{R}$）都在 $\\mathcal{B}(\\mathbb{R})$ 中，Dirichlet 函数满足可测性条件。因此，$D(x)$ 是 $(\\mathbb{R}, \\mathcal{B}(\\mathbb{R}))$ 上的一个随机变量。\n\n现在我们来评估给出的选项：\n- **A：**该陈述正确地总结了我们的发现。原像只可能是四个特定的集合，而所有这些集合确实都是 Borel 集。这使得该函数是可测的。此选项正确。\n- **B：**这是错误的。一个函数不必要是连续的才是可测的。Dirichlet 函数是一个经典的反例，因为它处处不连续却是可测的。\n- **C：**这是错误的。如上所示，集合 $\\mathbb{Q}$ 是一个 Borel 集，因为它是闭集（即单点集）的可数并。\n- **D：**这个陈述包含一个微妙的错误。虽然 Dirichlet 函数是一个简单函数，但“所有简单函数总是随机变量”这一说法并非普遍成立。一个形如 $\\sum_{i=1}^n a_i \\mathbb{1}_{A_i}$ 的简单函数，其相对于 $\\sigma$-代数 $\\mathcal{F}$ 是可测的，当且仅当每个集合 $A_i$都在 $\\mathcal{F}$ 中。在本例中，$D = 1 \\cdot \\mathbb{1}_{\\mathbb{Q}} + 0 \\cdot \\mathbb{1}_{\\mathbb{R}\\setminus\\mathbb{Q}}$。它是可测的，因为集合 $\\mathbb{Q}$ 和 $\\mathbb{R}\\setminus\\mathbb{Q}$ 都在 $\\mathcal{B}(\\mathbb{R})$ 中。该选项是错误的，因为它给出了一个笼统的陈述，在没有关于划分集的必要条件时，这个陈述并不总是正确的。\n\n因此，正确的选项是 A。", "answer": "$$\\boxed{A}$$", "id": "1440291"}, {"introduction": "那么，为什么可测性如此重要？因为它构成了计算概率的理论基础。这最后一个练习将带你从验证定义走向实际应用：你将为一个连续随机变量计算一个事件的概率，而这需要你确定其原像集的几何形状并计算出其面积（即勒贝格测度）。[@problem_id:1440354]", "problem": "设 $(\\Omega, \\mathcal{F}, P)$ 是一个概率空间，其样本空间为笛卡尔平面中的单位正方形 $\\Omega = [0, 1] \\times [0, 1]$。$\\sigma$-代数 $\\mathcal{F}$ 是 $\\Omega$ 上的 Borel $\\sigma$-代数，概率测度 $P$ 是标准的二维勒贝格测度，对应于单位正方形内的面积。\n\n考虑在该空间上定义的实值函数 $X(x, y) = x^2 + y^2$。可以证明，该函数是 $(\\Omega, \\mathcal{F}, P)$ 上的一个随机变量。\n\n计算事件“$X$ 的取值大于 $\\frac{5}{4}$”的概率。\n\n请将您的答案表示为单个闭式解析表达式。您的表达式中可以包含整数、分数和反三角函数的值。", "solution": "所求概率是集合\n$$A=\\{(x,y)\\in[0,1]^{2}:x^{2}+y^{2}>\\tfrac{5}{4}\\}$$\n的二维勒贝格测度。\n等价地，\n$$P(A)=1-\\lambda\\left(\\{(x,y)\\in[0,1]^{2}:x^{2}+y^{2}\\leq\\tfrac{5}{4}\\}\\right),$$\n其中 $\\lambda$ 表示面积。令 $a=\\sqrt{5}/2$，则 $a^{2}=\\frac{5}{4}$。对于固定的 $x\\in[0,1]$，满足 $x^{2}+y^{2}\\leq a^{2}$ 的最大 $y$ 为 $y_{\\max}(x)=\\min\\{1,\\sqrt{a^{2}-x^{2}}\\}$。求解 $\\sqrt{a^{2}-x^{2}}=1$ 找到转折点：$x^{2}=a^{2}-1=\\frac{1}{4}$，所以在 $[0,1]$ 中 $x=\\frac{1}{2}$。\n\n因此，在单位正方形内，圆盘 $x^2+y^2 \\le a^2$ 所占的面积为\n$$\\int_{0}^{1/2}1\\,dx+\\int_{1/2}^{1}\\sqrt{a^{2}-x^{2}}\\,dx.$$\n使用标准原函数\n$$\\int\\sqrt{a^{2}-x^{2}}\\,dx=\\frac{x}{2}\\sqrt{a^{2}-x^{2}}+\\frac{a^{2}}{2}\\arcsin\\!\\left(\\frac{x}{a}\\right)+C.$$\n代入 $a^{2}=\\frac{5}{4}$ 进行计算：\n$$\\int_{1/2}^{1}\\sqrt{a^{2}-x^{2}}\\,dx=\\left[\\frac{x}{2}\\sqrt{a^{2}-x^{2}}+\\frac{a^{2}}{2}\\arcsin\\!\\left(\\frac{x}{a}\\right)\\right]_{x=1/2}^{x=1}.$$\n利用 $\\sqrt{a^{2}-1}=\\frac{1}{2}$、$\\sqrt{a^{2}-(1/2)^{2}}=1$ 和 $\\frac{a^{2}}{2}=\\frac{5}{8}$，计算边界项：\n$$F(1)=\\frac{1}{4}+\\frac{5}{8}\\arcsin\\!\\left(\\frac{2}{\\sqrt{5}}\\right),\\quad F\\!\\left(\\frac{1}{2}\\right)=\\frac{1}{4}+\\frac{5}{8}\\arcsin\\!\\left(\\frac{1}{\\sqrt{5}}\\right),$$\n所以\n$$\\int_{1/2}^{1}\\sqrt{a^{2}-x^{2}}\\,dx=\\frac{5}{8}\\left[\\arcsin\\!\\left(\\frac{2}{\\sqrt{5}}\\right)-\\arcsin\\!\\left(\\frac{1}{\\sqrt{5}}\\right)\\right].$$\n因此，该内部区域的面积是\n$$\\frac{1}{2}+\\frac{5}{8}\\left[\\arcsin\\!\\left(\\frac{2}{\\sqrt{5}}\\right)-\\arcsin\\!\\left(\\frac{1}{\\sqrt{5}}\\right)\\right],$$\n所求的概率为\n$$1-\\left\\{\\frac{1}{2}+\\frac{5}{8}\\left[\\arcsin\\!\\left(\\frac{2}{\\sqrt{5}}\\right)-\\arcsin\\!\\left(\\frac{1}{\\sqrt{5}}\\right)\\right]\\right\\}=\\frac{1}{2}-\\frac{5}{8}\\left[\\arcsin\\!\\left(\\frac{2}{\\sqrt{5}}\\right)-\\arcsin\\!\\left(\\frac{1}{\\sqrt{5}}\\right)\\right].$$\n利用恒等式 $\\arcsin\\!\\left(\\frac{2}{\\sqrt{5}}\\right)=\\arctan(2)$ 和 $\\arcsin\\!\\left(\\frac{1}{\\sqrt{5}}\\right)=\\arctan\\!\\left(\\frac{1}{2}\\right)$ 可得\n$$\\arctan(2)-\\arctan\\!\\left(\\frac{1}{2}\\right)=\\arctan\\!\\left(\\frac{2-\\frac{1}{2}}{1+2\\cdot\\frac{1}{2}}\\right)=\\arctan\\!\\left(\\frac{3}{4}\\right).$$\n因此，\n$$P\\!\\left(X>\\frac{5}{4}\\right)=\\frac{1}{2}-\\frac{5}{8}\\arctan\\!\\left(\\frac{3}{4}\\right).$$", "answer": "$$\\boxed{\\frac{1}{2}-\\frac{5}{8}\\arctan\\left(\\frac{3}{4}\\right)}$$", "id": "1440354"}]}