{"hands_on_practices": [{"introduction": "为了真正掌握卷积，我们从其离散形式开始。离散卷积是数字信号处理中的一项基本操作，可以看作是一种加权移动平均。通过这个练习，你将亲手计算两个简单序列的卷积，直观地理解一个序列（核）如何“滑过”并影响另一个序列（信号）。[@problem_id:1444689]", "problem": "在数字信号处理中，离散卷积是一种用于滤波和平滑信号的基本运算。考虑两个整数序列 $(a_n)_{n \\in \\mathbb{Z}}$ 和 $(b_n)_{n \\in \\mathbb{Z}}$，它们分别代表一个简单的平滑核和一个基本信号。\n\n令 $\\chi_S(n)$ 表示整数集合 $S$ 的特征函数，定义为：如果 $n \\in S$，则 $\\chi_S(n) = 1$；如果 $n \\notin S$，则 $\\chi_S(n) = 0$。\n\n这两个序列定义如下：\n- 平滑核：$a_n = \\chi_{\\{-1, 0, 1\\}}(n)$\n- 信号：$b_n = \\chi_{\\{1, 2\\}}(n)$\n\n这两个序列的离散卷积得到一个新序列 $(c_n)_{n \\in \\mathbb{Z}}$，其中 $c_n = (a * b)_n$ 由以下求和定义：\n$$\nc_n = \\sum_{k=-\\infty}^{\\infty} a_k b_{n-k}\n$$\n\n求出 $c_n$ 的所有非零值构成的序列，并按索引 $n$ 的递增顺序排列。", "solution": "我们有 $a_{n}=\\chi_{\\{-1,0,1\\}}(n)$ 和 $b_{n}=\\chi_{\\{1,2\\}}(n)$。离散卷积定义为\n$$\nc_{n}=(a*b)_{n}=\\sum_{k=-\\infty}^{\\infty}a_{k}b_{n-k}.\n$$\n由于 $a_{k}$ 仅在 $k\\in\\{-1,0,1\\}$ 时非零，而 $b_{n-k}$ 仅在 $n-k\\in\\{1,2\\}$ 时非零，因此求和式可简化为\n$$\nc_{n}=\\sum_{k\\in\\{-1,0,1\\}}\\chi_{\\{1,2\\}}(n-k).\n$$\n因此，$c_{n}$ 统计的是满足 $n-k\\in\\{1,2\\}$ 的 $k\\in\\{-1,0,1\\}$ 的数量。$c_{n}$ 的支撑集是两个序列支撑集的闵可夫斯基和，即\n$$\n\\{-1,0,1\\}+\\{1,2\\}=\\{0,1,2,3\\},\n$$\n所以对于 $n\\notin\\{0,1,2,3\\}$，$c_{n}=0$。我们计算此集合上的值：\n- 对于 $n=0$：要求 $-k\\in\\{1,2\\}$，即 $k\\in\\{-1,-2\\}$。与 $\\{-1,0,1\\}$求交集得到 $\\{-1\\}$，所以 $c_{0}=1$。\n- 对于 $n=1$：要求 $1-k\\in\\{1,2\\}$，即 $k\\in\\{0,-1\\}$。与 $\\{-1,0,1\\}$求交集得到 $\\{-1,0\\}$，所以 $c_{1}=2$。\n- 对于 $n=2$：要求 $2-k\\in\\{1,2\\}$，即 $k\\in\\{1,0\\}$。与 $\\{-1,0,1\\}$求交集得到 $\\{0,1\\}$，所以 $c_{2}=2$。\n- 对于 $n=3$：要求 $3-k\\in\\{1,2\\}$，即 $k\\in\\{2,1\\}$。与 $\\{-1,0,1\\}$求交集得到 $\\{1\\}$，所以 $c_{3}=1$。\n\n因此，$c_{n}$ 的非零值按 $n$ 的递增顺序列出为 $1,2,2,1$。", "answer": "$$\\boxed{\\begin{pmatrix}1 & 2 & 2 & 1\\end{pmatrix}}$$", "id": "1444689"}, {"introduction": "卷积不仅是一个分析工具，它还具有深刻的几何意义。这个练习通过特征函数将函数卷积与其支撑集的几何变换联系起来，即闵可夫斯基和（Minkowski sum）。通过解决这个问题，你将学会预测卷积后函数的支撑集将如何扩展、移动甚至连接，从而对卷积的几何效应建立起直观的认识。[@problem_id:1444686]", "problem": "在实分析和信号处理中，两个函数的卷积提供了一种用一个函数“平滑”另一个函数的方法。本题探讨卷积对函数支集的几何效应。\n\n令 $\\chi_S: \\mathbb{R} \\to \\{0, 1\\}$ 表示集合 $S \\subseteq \\mathbb{R}$ 的指示函数（或特征函数），定义为：如果 $x \\in S$，则 $\\chi_S(x) = 1$；如果 $x \\notin S$，则 $\\chi_S(x) = 0$。\n\n两个函数 $f, g: \\mathbb{R} \\to \\mathbb{R}$ 的卷积是一个函数 $h = f * g$，由以下积分定义：\n$$\nh(x) = (f * g)(x) = \\int_{-\\infty}^{\\infty} f(y)g(x-y) dy\n$$\n\n考虑集合 $A = [-2, -1] \\cup [1, 2]$ 和 $B = [0, 1]$。令 $f(x) = \\chi_A(x)$ 和 $g(x) = \\chi_B(x)$。函数 $h$ 的支集，记作 $\\text{supp}(h)$，定义为函数非零点集的闭包，即 $\\text{supp}(h) = \\overline{\\{x \\in \\mathbb{R} \\mid h(x) \\neq 0\\}}$。\n\n求卷积 $h(x) = (\\chi_A * \\chi_B)(x)$ 的支集。\n\n下列哪个集合是 $\\text{supp}(h)$？\n\nA. $[-2, 3]$\n\nB. $[-2, 0] \\cup [1, 3]$\n\nC. $[-1, 1]$\n\nD. $[-2, -1] \\cup [1, 2]$\n\nE. $[-3, -1] \\cup [0, 2]", "solution": "令 $h(x) = (\\chi_A * \\chi_B)(x)$。根据卷积的定义，我们有：\n$$\nh(x) = \\int_{-\\infty}^{\\infty} \\chi_A(y) \\chi_B(x-y) dy\n$$\n被积函数 $\\chi_A(y) \\chi_B(x-y)$ 等于 1 当且仅当 $\\chi_A(y) = 1$ 和 $\\chi_B(x-y) = 1$ 同时成立。这意味着被积函数仅在 $y \\in A$ 且 $x-y \\in B$ 时非零。\n条件 $y \\in A$ 意味着 $y \\in [-2, -1] \\cup [1, 2]$。\n条件 $x-y \\in B$ 意味着 $0 \\le x-y \\le 1$，可以整理为 $x-1 \\le y \\le x$。\n因此，对于给定的 $x$，卷积积分 $h(x)$ 的值是满足这两个条件的 $y$ 值集合的勒贝格测度。这个测度就是集合 $A$ 与区间 $[x-1, x]$ 交集的测度。\n$$\nh(x) = m(A \\cap [x-1, x]) = m\\Big( \\big([-2, -1] \\cup [1, 2]\\big) \\cap [x-1, x] \\Big)\n$$\n区间 $[x-1, x]$ 是一个长度为 1 的“滑动窗口”。我们需要找出对于哪些 $x$ 值，这个窗口与集合 $A$ 的交集非空。$h(x)$ 的值将是这个交集的长度。\n\n我们通过考虑 $x$ 的不同区域来分析 $h(x)$：\n\n1.  如果 $x < -2$，那么区间 $[x-1, x]$ 完全在 $A$ 的左侧。交集为空，所以 $h(x) = 0$。\n\n2.  如果 $-2 \\le x < -1$，窗口的右端点 $x$ 位于 $[-2,-1]$ 内，而左端点 $x-1$ 在 $-2$ 的左侧。交集是 $[-2, x]$。该交集的长度为 $h(x) = x - (-2) = x+2$。注意，对于此范围内的 $x$，$0 \\le x+2 < 1$。\n\n3.  如果 $-1 \\le x < 0$，右端点 $x$ 超过了 $-1$，但左端点 $x-1$ 仍在 $[-2,-1]$ 内。交集是 $[x-1, -1]$。长度为 $h(x) = -1 - (x-1) = -x$。对于此范围内的 $x$，$0 < -x \\le 1$。\n\n4.  如果 $0 \\le x < 1$，窗口 $[x-1, x]$ 位于 $A$ 的两个部分之间的空隙中。交集为空，所以 $h(x) = 0$。\n\n5.  如果 $1 \\le x < 2$，窗口开始与 $A$ 的第二部分 $[1, 2]$ 重叠。交集是 $[1, x]$。长度为 $h(x) = x - 1$。对于此范围内的 $x$，$0 \\le x-1 < 1$。\n\n6.  如果 $2 \\le x < 3$，窗口正在移过区间 $[1,2]$。交集是 $[x-1, 2]$。长度为 $h(x) = 2 - (x-1) = 3-x$。对于此范围内的 $x$，$0 < 3-x \\le 1$。\n\n7.  如果 $x \\ge 3$，窗口 $[x-1, x]$ 完全在 $A$ 的右侧。交集为空，所以 $h(x) = 0$。\n\n总结函数 $h(x)$：\n$$\nh(x) = \\begin{cases}\n0 & \\text{if } x < -2 \\\\\nx+2 & \\text{if } -2 \\le x < -1 \\\\\n-x & \\text{if } -1 \\le x < 0 \\\\\n0 & \\text{if } 0 \\le x < 1 \\\\\nx-1 & \\text{if } 1 \\le x < 2 \\\\\n3-x & \\text{if } 2 \\le x < 3 \\\\\n0 & \\text{if } x \\ge 3\n\\end{cases}\n$$\n$h(x)$ 的支集是 $h(x) \\neq 0$ 的集合的闭包。函数 $h(x)$ 在以下区间上非零：\n- 对于 $-2 < x < -1$，$h(x) = x+2 > 0$。\n- 对于 $-1 < x < 0$，$h(x) = -x > 0$。\n- 在 $x=-1$ 处，$h(-1)=1$。\n- 对于 $1 < x < 2$，$h(x) = x-1 > 0$。\n- 对于 $2 < x < 3$，$h(x) = 3-x > 0$。\n- 在 $x=2$ 处，$h(2)=1$。\n\n集合 $\\{x \\in \\mathbb{R} \\mid h(x) \\neq 0\\}$ 是两个开区间的并集：$(-2, 0) \\cup (1, 3)$。\n支集是这个集合的闭包：\n$$\n\\text{supp}(h) = \\overline{(-2, 0) \\cup (1, 3)} = \\overline{(-2, 0)} \\cup \\overline{(1, 3)} = [-2, 0] \\cup [1, 3]\n$$\n另外，也可以使用关于卷积支集的定理，该定理指出，对于具有紧支集的函数 $f, g$，有 $\\text{supp}(f*g) = \\text{supp}(f) + \\text{supp}(g)$，其中和是集合的闵可夫斯基和 (Minkowski sum)。\n此题中，$\\text{supp}(\\chi_A) = A = [-2, -1] \\cup [1, 2]$ 且 $\\text{supp}(\\chi_B) = B = [0, 1]$。\n闵可夫斯基和为：\n$$\nA+B = \\{a+b \\mid a \\in A, b \\in B\\} = ([-2, -1]+[0,1]) \\cup ([1, 2]+[0,1])\n$$\n对于两个区间 $[c, d]$ 和 $[e,f]$，它们的闵可夫斯基和是 $[c+e, d+f]$。\n$$\n[-2, -1] + [0, 1] = [-2+0, -1+1] = [-2, 0]\n$$\n$$\n[1, 2] + [0, 1] = [1+0, 2+1] = [1, 3]\n$$\n因此，支集是 $[-2, 0] \\cup [1, 3]$。\n这与选项 B 相符。", "answer": "$$\\boxed{B}$$", "id": "1444686"}, {"introduction": "卷积最强大的特性之一是其“平滑”效应，即它能提高函数的正则性（regularity）。本练习提供了一个绝佳的实例：一个在原点处连续但不可微的函数，在进行自卷积后，将在该点变得可微。亲手完成这个计算，你将具体地见证卷积如何通过积分平均的过程来“修复”函数的尖点，这是理解其在偏微分方程和数据分析中应用的关键一步。[@problem_id:1444747]", "problem": "考虑一个实值函数 $f: \\mathbb{R} \\to \\mathbb{R}$，该函数连续但在原点处不可导。该函数由一个分段指数表达式定义：\n$$\nf(x) = \\begin{cases} \\exp(-x) & \\text{if } x \\ge 0 \\\\ \\exp(2x) & \\text{if } x < 0 \\end{cases}\n$$\n两个可积函数 $h_1(x)$ 和 $h_2(x)$ 的卷积由以下积分给出：\n$$\n(h_1 * h_2)(x) = \\int_{-\\infty}^{\\infty} h_1(y) h_2(x-y) \\,dy\n$$\n设 $g(x)$ 表示函数 $f(x)$ 的自卷积，即 $g(x) = (f * f)(x)$。计算 $g(x)$ 在 $x=0$ 处的导数。", "solution": "给定可积函数\n$$\nf(x)=\\begin{cases}\n\\exp(-x) & \\text{if } x\\ge 0,\\\\\n\\exp(2x) & \\text{if } x<0,\n\\end{cases}\n$$\n及其自卷积 $g(x)=(f*f)(x)=\\displaystyle\\int_{-\\infty}^{\\infty} f(y)f(x-y)\\,dy$。我们通过根据 $y$ 和 $x-y$ 的符号拆分积分，来显式计算 $x\\ge 0$ 和 $x<0$ 时的 $g(x)$，然后求导并在 $x=0$ 处求值。\n\n对于 $x\\ge 0$ 的情况，将实数轴划分为 $(-\\infty,0)$、$[0,x]$ 和 $(x,\\infty)$。在各个区间上：\n- 若 $y<0$，则 $f(y)=\\exp(2y)$ 且 $x-y\\ge x>0$，所以 $f(x-y)=\\exp(-(x-y))=\\exp(-x+y)$。被积函数为 $\\exp(2y)\\exp(-x+y)=\\exp(-x)\\exp(3y)$。因此\n$$\n\\int_{-\\infty}^{0} f(y)f(x-y)\\,dy=\\exp(-x)\\int_{-\\infty}^{0}\\exp(3y)\\,dy=\\exp(-x)\\cdot\\frac{1}{3}.\n$$\n- 若 $0\\le y\\le x$，则 $f(y)=\\exp(-y)$ 且 $x-y\\ge 0$，所以 $f(x-y)=\\exp(-(x-y))=\\exp(-x+y)$。被积函数为 $\\exp(-y)\\exp(-x+y)=\\exp(-x)$，因此\n$$\n\\int_{0}^{x} f(y)f(x-y)\\,dy=\\exp(-x)\\int_{0}^{x}1\\,dy=x\\exp(-x).\n$$\n- 若 $y>x$，则 $y\\ge 0$ 所以 $f(y)=\\exp(-y)$ 且 $x-y<0$ 所以 $f(x-y)=\\exp(2(x-y))=\\exp(2x-2y)$。被积函数为 $\\exp(-y)\\exp(2x-2y)=\\exp(2x)\\exp(-3y)$。所以\n$$\n\\int_{x}^{\\infty} f(y)f(x-y)\\,dy=\\exp(2x)\\int_{x}^{\\infty}\\exp(-3y)\\,dy=\\exp(2x)\\cdot\\frac{1}{3}\\exp(-3x)=\\frac{1}{3}\\exp(-x).\n$$\n将这些部分相加，对于 $x\\ge 0$ 的情况可得：\n$$\ng(x)=\\exp(-x)\\left(\\frac{1}{3}+x+\\frac{1}{3}\\right)=\\exp(-x)\\left(x+\\frac{2}{3}\\right).\n$$\n\n对于 $x<0$ 的情况，将积分区间划分为 $(-\\infty,x)$、$[x,0)$ 和 $[0,\\infty)$。在各个区间上：\n- 若 $y<x$，则 $y<0$ 所以 $f(y)=\\exp(2y)$ 且 $x-y>0$ 所以 $f(x-y)=\\exp(-(x-y))=\\exp(-x+y)$。被积函数为 $\\exp(2y)\\exp(-x+y)=\\exp(-x)\\exp(3y)$。因此\n$$\n\\int_{-\\infty}^{x} f(y)f(x-y)\\,dy=\\exp(-x)\\int_{-\\infty}^{x}\\exp(3y)\\,dy=\\exp(-x)\\cdot\\frac{1}{3}\\exp(3x)=\\frac{1}{3}\\exp(2x).\n$$\n- 若 $x\\le y<0$，则 $f(y)=\\exp(2y)$ 且 $x-y\\le 0$ 所以 $f(x-y)=\\exp(2(x-y))=\\exp(2x-2y)$。被积函数为 $\\exp(2y)\\exp(2x-2y)=\\exp(2x)$，得到\n$$\n\\int_{x}^{0} f(y)f(x-y)\\,dy=\\exp(2x)\\int_{x}^{0}1\\,dy=(-x)\\exp(2x).\n$$\n- 若 $y\\ge 0$，则 $f(y)=\\exp(-y)$ 且 $x-y<0$，所以 $f(x-y)=\\exp(2(x-y))=\\exp(2x-2y)$。被积函数为 $\\exp(-y)\\exp(2x-2y)=\\exp(2x)\\exp(-3y)$。因此\n$$\n\\int_{0}^{\\infty} f(y)f(x-y)\\,dy=\\exp(2x)\\int_{0}^{\\infty}\\exp(-3y)\\,dy=\\exp(2x)\\cdot\\frac{1}{3}.\n$$\n相加可得，对于 $x<0$ 的情况：\n$$\ng(x)=\\exp(2x)\\left(\\frac{1}{3}-x+\\frac{1}{3}\\right)=\\exp(2x)\\left(-x+\\frac{2}{3}\\right).\n$$\n\n现在对这些表达式求导。对于 $x>0$，\n$$\ng(x)=\\exp(-x)\\left(x+\\frac{2}{3}\\right)\\quad\\Rightarrow\\quad g'(x)=\\exp(-x)\\left(1-x-\\frac{2}{3}\\right)=\\exp(-x)\\left(\\frac{1}{3}-x\\right),\n$$\n所以右导数 $g'_{+}(0)=\\frac{1}{3}$。对于 $x<0$，\n$$\ng(x)=\\exp(2x)\\left(-x+\\frac{2}{3}\\right)\\quad\\Rightarrow\\quad g'(x)=2\\exp(2x)\\left(-x+\\frac{2}{3}\\right)+\\exp(2x)(-1)=\\exp(2x)\\left(-2x+\\frac{1}{3}\\right),\n$$\n所以左导数 $g'_{-}(0)=\\frac{1}{3}$。因此，导数在原点处存在，且等于 $\\frac{1}{3}$。\n\n因此，$g'(0)=\\frac{1}{3}$。", "answer": "$$\\boxed{\\frac{1}{3}}$$", "id": "1444747"}]}