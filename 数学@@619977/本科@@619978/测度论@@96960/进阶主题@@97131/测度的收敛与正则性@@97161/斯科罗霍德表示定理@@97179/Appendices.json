{"hands_on_practices": [{"introduction": "理论学习的最佳方式之一就是通过实践。让我们从一个基础性的例子开始，将斯科罗霍德表示定理付诸实践。我们将考虑一个简单的离散随机变量序列，并手动在一个公共概率空间上构建相应的几乎必然收敛的随机变量序列。这个练习将使抽象的定理变得具体，并揭示其核心构造方法（即分位数变换）的运作机制 [@problem_id:1388075]。", "problem": "考虑一个离散随机变量序列 $\\{X_n\\}_{n=1}^{\\infty}$。对于每个整数 $n \\ge 1$，随机变量 $X_n$ 由概率 $P(X_n = 1/n) = 1/2$ 和 $P(X_n = -1/n) = 1/2$ 定义。该序列依分布收敛到一个常数随机变量 $X=0$。\n\nSkorokhod 表示定理提供了一种将依分布收敛转化为几乎必然收敛的强大方法。该定理指出，如果一个实值随机变量序列 $\\{X_n\\}$ 依分布收敛于随机变量 $X$，那么存在一个单一的概率空间 $(\\Omega, \\mathcal{F}, P)$ 以及定义在该空间上的一个新的随机变量序列 $\\{Y_n\\}$ 和一个随机变量 $Y$，它们具有以下性质：\n1. 对每个 $n$，$Y_n$ 与 $X_n$ 有相同的分布。\n2. $Y$ 与 $X$ 有相同的分布。\n3. 序列 $\\{Y_n\\}$ 几乎必然收敛于 $Y$。\n\n你的任务是为给定的 $\\{X_n\\}$ 显式地构造序列 $\\{Y_n\\}$。我们将使用标准的构造方法，其中公共概率空间是带有勒贝格测度的单位区间，即 $(\\Omega, \\mathcal{F}, P) = ([0,1], \\mathcal{B}([0,1]), \\lambda)$，其中 $\\mathcal{B}([0,1])$ 是 Borel σ-代数，$\\lambda$ 是勒贝格测度。在这个空间上，每个随机变量 $Y_n$ 都可以表示为一个可测函数 $Y_n(u)$，其中 $u \\in [0,1]$。\n\n确定 $Y_n(u)$ 对于 $u \\in (0,1]$ 的显式函数形式。你的答案应表示为一个关于 $u$ 和 $n$ 的分段函数。", "solution": "给定序列 $\\{X_n\\}_{n=1}^{\\infty}$，其满足 $P(X_n = 1/n) = 1/2$ 和 $P(X_n = -1/n) = 1/2$，且其依分布收敛的极限为 $X=0$。为了在 $([0,1],\\mathcal{B}([0,1]),\\lambda)$ 上构造 $\\{Y_n\\}$，使得对每个 $n$ 都有 $Y_n \\overset{d}{=} X_n$，$Y \\overset{d}{=} X$，并且 $Y_n \\to Y$ 几乎必然收敛，我们使用逆变换法。\n\n设 $U$ 表示 $([0,1],\\lambda)$ 上的恒等随机变量，即 $U(u)=u$。对每个 $n$，设 $F_n$ 是 $X_n$ 的累积分布函数。由于 $X_n$ 在 $-1/n$ 处的概率质量为 $1/2$，在 $1/n$ 处的概率质量也为 $1/2$，我们有\n$$\nF_n(x)=\n\\begin{cases}\n0, & x < -1/n,\\\\\n1/2, & -1/n \\le x < 1/n,\\\\\n1, & x \\ge 1/n.\n\\end{cases}\n$$\n定义右连续广义逆函数（分位数函数）\n$$\nF_n^{-1}(u) = \\inf\\{x \\in \\mathbb{R}: F_n(x) \\ge u\\}, \\quad u \\in (0,1].\n$$\n根据 $F_n$ 的形式，我们计算得出\n$$\nF_n^{-1}(u)=\n\\begin{cases}\n-1/n, & 0 < u \\le 1/2,\\\\\n1/n, & 1/2 < u \\le 1.\n\\end{cases}\n$$\n设 $Y_n(u) = F_n^{-1}(u)$，其中 $u \\in (0,1]$。那么 $Y_n$ 和 $X_n$ 具有相同的分布，因为 $U$ 在 $(0,1]$ 上是均匀分布的，并且逆变换法保持分布不变。此外，对于每个固定的 $u \\in (0,1] \\setminus \\{1/2\\}$，我们有 $|Y_n(u)| = 1/n \\to 0$，因此 $Y_n(u) \\to 0$。由于集合 $\\{1/2\\}$ 的勒贝格测度为零，因此 $Y_n \\to 0$ 几乎必然成立。取 $Y(u) \\equiv 0$ 可得 $Y \\overset{d}{=} X$，这样就完成了 Skorokhod 表示。\n\n因此，对于 $u \\in (0,1]$ 的显式函数形式是\n$$\nY_n(u)=\n\\begin{cases}\n-1/n, & 0 < u \\le 1/2,\\\\\n1/n, & 1/2 < u \\le 1.\n\\end{cases}\n$$", "answer": "$$\\boxed{Y_{n}(u)=\\begin{cases}-\\frac{1}{n}, & 0<u\\le \\frac{1}{2},\\\\[4pt]\\frac{1}{n}, & \\frac{1}{2}<u\\le 1.\\end{cases}}$$", "id": "1388075"}, {"introduction": "掌握了离散情形后，我们来探讨斯科罗霍德表示定理如何应用于连续分布。在这个练习中，我们将考察一个均匀分布序列，它们弱收敛于另一个均匀分布。这不仅展示了该构造方法对连续随机变量的普适性，还提供了一个特例，其中我们得到的收敛性甚至比定理保证的“几乎必然”更强，达到了处处收敛 [@problem_id:1460421]。", "problem": "考虑一列概率分布 $(\\mu_n)_{n\\ge 2}$，其中对于每个整数 $n \\ge 2$，$\\mu_n$ 是区间 $[0, 1 - 1/n]$ 上的均匀分布。设 $\\mu$ 为区间 $[0,1]$ 上的均匀分布。已知测度序列 $(\\mu_n)$ 弱收敛于 $\\mu$。\n\nSkorokhod 表示定理保证了存在一个公共的概率空间 $(\\Omega, \\mathcal{F}, P)$，以及定义在该空间上的一系列实值随机变量 $(Y_n)_{n\\ge 2}$ 和一个随机变量 $Y$，使得：\n1. 对每个 $n \\ge 2$，$Y_n$ 的概率律是 $\\mu_n$。\n2. $Y$ 的概率律是 $\\mu$。\n3. 对于 $P$-几乎处处的 $\\omega \\in \\Omega$，$Y_n(\\omega) \\to Y(\\omega)$。\n\n你的任务是给出这些随机变量的一个显式构造。具体来说，使用概率空间 $(\\Omega, \\mathcal{F}, P) = ([0,1], \\mathcal{B}, \\lambda)$，其中 $[0,1]$ 是单位区间，$\\mathcal{B}$ 是其上的 Borel sigma-代数，$\\lambda$ 是勒贝格测度，找出对于 $\\omega \\in [0,1]$ 的 $Y_n(\\omega)$ 和 $Y(\\omega)$ 的函数形式。\n\n将你的答案表示为函数对 $(Y_n(\\omega), Y(\\omega))$。", "solution": "我们的目标是在概率空间 $([0,1], \\mathcal{B}, \\lambda)$ 上构造随机变量，使其概率律分别为 $\\mu_n$ 和 $\\mu$，并且使得 $Y_n \\to Y$ 几乎必然成立。\n\n首先，令 $U(\\omega) = \\omega$，其中 $\\omega \\in [0,1]$。由于 $\\lambda$ 是勒贝格测度，$U$ 在 $[0,1]$ 上是均匀分布的。\n\n定义 $Y(\\omega)$ 的概率律为 $\\mu$，即 $[0,1]$ 上的均匀分布。$\\mu$ 的累积分布函数是 $F(x) = 0$ (当 $x < 0$)，$F(x) = x$ (当 $x \\in [0,1]$)，以及 $F(x) = 1$ (当 $x \\ge 1$)。它的分位数函数（广义逆）是 $F^{-1}(u) = u$，其中 $u \\in [0,1]$。使用概率积分变换，设\n$$\nY(\\omega) = F^{-1}(U(\\omega)) = U(\\omega) = \\omega.\n$$\n因此 $Y$ 的概率律是 $\\mu$。\n\n对于每个 $n \\ge 2$，定义 $Y_n$ 的概率律为 $\\mu_n$，即在 $[0, 1 - 1/n]$ 上的均匀分布。$\\mu_n$ 的累积分布函数是\n$$\nF_n(x) = \\begin{cases}\n0, & x < 0, \\\\\n\\frac{x}{1 - 1/n}, & x \\in [0, 1 - 1/n], \\\\\n1, & x \\ge 1 - 1/n.\n\\end{cases}\n$$\n其广义逆（分位数函数）是\n$$\nF_n^{-1}(u) = \\left(1 - \\frac{1}{n}\\right) u, \\quad u \\in [0,1].\n$$\n定义\n$$\nY_n(\\omega) = F_n^{-1}(U(\\omega)) = \\left(1 - \\frac{1}{n}\\right)\\omega.\n$$\n为了验证 $Y_n$ 的概率律，对 $x \\in \\mathbb{R}$ 计算：\n$$\nP(Y_n \\le x) = \\lambda\\left(\\left\\{\\omega \\in [0,1] : \\left(1 - \\frac{1}{n}\\right)\\omega \\le x\\right\\}\\right)\n= \\lambda\\left(\\left\\{\\omega \\le \\frac{x}{1 - 1/n}\\right\\}\\right)\n= \\begin{cases}\n0, & x < 0, \\\\\n\\frac{x}{1 - 1/n}, & x \\in [0, 1 - 1/n], \\\\\n1, & x \\ge 1 - 1/n,\n\\end{cases}\n$$\n这恰好是 $F_n(x)$，所以 $Y_n$ 的概率律是 $\\mu_n$。\n\n最后，几乎必然收敛对所有 $\\omega \\in [0,1]$ 逐点成立：\n$$\nY_n(\\omega) = \\left(1 - \\frac{1}{n}\\right)\\omega \\to \\omega = Y(\\omega) \\quad \\text{当 } n \\to \\infty.\n$$\n因此，在 $([0,1], \\mathcal{B}, \\lambda)$ 上，一个显式的构造是 $Y_n(\\omega) = \\left(1 - \\frac{1}{n}\\right)\\omega$ 和 $Y(\\omega) = \\omega$。", "answer": "$$\\boxed{\\begin{pmatrix}\\left(1 - \\frac{1}{n}\\right)\\omega & \\omega\\end{pmatrix}}$$", "id": "1460421"}, {"introduction": "斯科罗霍德定理保证了“几乎必然”收敛，但“几乎”一词在实践中究竟意味着什么？这个练习通过分析一个参数振荡的分布序列，深入探讨了这一概念的精妙之处。通过显式构造相应的随机变量，我们可以精确定位收敛失败的点的集合，从而直观地理解为何定理的结论是“几乎必然”收敛，而非必然处处收敛 [@problem_id:1460424]。", "problem": "设 $(\\mathbb{R}, \\mathcal{B}(\\mathbb{R}))$ 是带有其 Borel σ-代数的实直线。该空间上的一个概率测度 $\\mu$ 可以由其累积分布函数（CDF）$F(x) = \\mu((-\\infty, x])$ 来刻画。一列概率测度的弱收敛，记为 $\\mu_n \\Rightarrow \\mu$，等价于它们的累积分布函数 $F_n(x)$ 在 $F$ 的所有连续点 $x$ 处逐点收敛于 $F(x)$，即 $F_n(x) \\to F(x)$。\n\n将弱收敛与更强的几乎必然收敛概念联系起来的一个强大工具是分位数变换。给定一个累积分布函数 $F$，其关联的分位数函数（或广义逆函数）定义为 $F^{-1}(u) = \\inf\\{y \\in \\mathbb{R} : F(y) \\geq u\\}$，其中 $u \\in (0, 1)$。如果我们考虑概率空间 $(\\Omega, \\mathcal{F}, P) = ((0, 1), \\mathcal{B}((0, 1)), \\lambda)$，其中 $\\lambda$ 是勒贝格测度，那么对于任何累积分布函数 $F$，随机变量 $X(\\omega) = F^{-1}(\\omega)$ 的累积分布函数就是 $F$。\n\n现在，考虑定义在集合 $\\{0, 1\\}$ 上的一列离散概率测度 $\\mu_n$，$n=1, 2, 3, \\ldots$。这些测度由 $\\mu_n(\\{1\\}) = p_n$ 和 $\\mu_n(\\{0\\}) = 1-p_n$ 给出，其中概率序列为 $p_n = \\frac{1}{2} + \\frac{(-1)^n}{n+3}$。该测度序列弱收敛于一个极限测度 $\\mu$。\n\n使用上述的分位数变换方法，在概率空间 $((0, 1), \\lambda)$ 上，我们可以构造一列其分布为 $\\mu_n$ 的随机变量 $Y_n$ 和一个其分布为 $\\mu$ 的随机变量 $Y$。Skorokhod 表示定理保证了 $Y_n \\to Y$ 几乎必然成立。然而，这并不意味着对于所有的 $\\omega \\in (0,1)$，该收敛都是逐点收敛的。\n\n找出所有点 $\\omega \\in (0, 1)$ 的集合，使得实数序列 $Y_n(\\omega)$ 不收敛于 $Y(\\omega)$。", "solution": "给定 $\\{0,1\\}$ 上的伯努利测度 $\\mu_n$，满足\n$$\n\\mu_n(\\{1\\}) = p_n, \\qquad \\mu_n(\\{0\\}) = 1-p_n, \\qquad p_n = \\frac{1}{2}+\\frac{(-1)^n}{n+3}.\n$$\n设 $\\mu$ 为其弱极限，即参数为 $p=\\lim_{n\\to\\infty}p_n = 1/2$ 的伯努利测度。\n\n对于每个 $n$，$\\mu_n$ 的累积分布函数 $F_n$ 为\n$$\nF_n(x)=\\begin{cases}\n0,& x<0,\\\\\n1-p_n,& 0\\le x<1,\\\\\n1,& x\\ge 1,\n\\end{cases}\n$$\n$\\mu$ 的累积分布函数 $F$ 为\n$$\nF(x)=\\begin{cases}\n0,& x<0,\\\\\n1/2,& 0\\le x<1,\\\\\n1,& x\\ge 1.\n\\end{cases}\n$$\n\n在 $((0,1),\\lambda)$ 上，定义分位数变换\n$$\nY_n(\\omega) = F_n^{-1}(\\omega), \\qquad Y(\\omega) = F^{-1}(\\omega), \\qquad \\omega \\in (0,1),\n$$\n其中 $F^{-1}(u) = \\inf\\{y \\in \\mathbb{R} : F(y) \\ge u\\}$。\n\n根据 $F_n$ 和 $F$ 的形式，它们的分位数函数满足\n$$\nY_n(\\omega)=\\begin{cases}\n0,& \\omega \\le 1-p_n,\\\\\n1,& \\omega > 1-p_n,\n\\end{cases}\n\\qquad\nY(\\omega)=\\begin{cases}\n0,& \\omega \\le 1/2,\\\\\n1,& \\omega > 1/2.\n\\end{cases}\n$$\n令\n$$\nt_n = 1-p_n = \\frac{1}{2}-\\frac{(-1)^n}{n+3} = \\frac{1}{2}+\\frac{(-1)^{n+1}}{n+3}.\n$$\n于是 $t_n \\to 1/2$，当 $n$ 为偶数时 $t_n < 1/2$，当 $n$ 为奇数时 $t_n > 1/2$。因此\n$$\nY_n(\\omega) = \\mathbf{1}_{\\{\\omega > t_n\\}}, \\qquad Y(\\omega) = \\mathbf{1}_{\\{\\omega > 1/2\\}}.\n$$\n\n我们分情况讨论逐点收敛性。\n\n1) 如果 $\\omega  1/2$，那么对于所有奇数 $n$，有 $t_n > 1/2 > \\omega$，因此 $\\omega \\le t_n$ 且 $Y_n(\\omega)=0$。对于偶数 $n$，$t_n = 1/2 - 1/(n+3) \\uparrow 1/2$，因此存在 $N$ 使得对于所有偶数 $n \\ge N$，有 $t_n > \\omega$，所以 $Y_n(\\omega)=0$。因此 $Y_n(\\omega) \\to 0 = Y(\\omega)$。\n\n2) 如果 $\\omega > 1/2$，那么对于所有偶数 $n$，有 $t_n  1/2  \\omega$，因此 $\\omega > t_n$ 且 $Y_n(\\omega)=1$。对于奇数 $n$，$t_n = 1/2 + 1/(n+3) \\downarrow 1/2$，因此存在 $N$ 使得对于所有奇数 $n \\ge N$，有 $t_n  \\omega$，所以 $Y_n(\\omega)=1$。因此 $Y_n(\\omega) \\to 1 = Y(\\omega)$。\n\n3) 如果 $\\omega = 1/2$，那么 $Y(1/2)=0$，而\n$$\nY_n(1/2)=\\begin{cases}\n0, 1/2 \\le t_n\\ \\text{(奇数 $n$)},\\\\\n1, 1/2 > t_n\\ \\text{(偶数 $n$)},\n\\end{cases}\n$$\n所以 $Y_n(1/2)$ 在 $0$ 和 $1$ 之间交替，不收敛。\n\n因此，所有使得 $Y_n(\\omega)$ 不收敛于 $Y(\\omega)$ 的 $\\omega\\in(0,1)$ 的集合是单点集 $\\{1/2\\}$。这个集合在 $\\lambda$ 测度下是零测集，因此 $Y_n \\to Y$ 几乎必然成立，这与 Skorokhod 定理一致。", "answer": "$$\\boxed{\\left\\{\\frac{1}{2}\\right\\}}$$", "id": "1460424"}]}