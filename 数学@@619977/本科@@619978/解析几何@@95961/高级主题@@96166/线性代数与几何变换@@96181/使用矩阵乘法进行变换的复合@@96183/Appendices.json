{"hands_on_practices": [{"introduction": "在计算机图形学和机器人学等领域，将一系列连续的几何变换（如旋转、缩放和反射）合成为一个单一的变换矩阵是一项基本且高效的操作。这个练习将引导你完成这一核心过程，通过矩阵乘法将三个独立的变换融合成一个等效的复合变换矩阵。这不仅能加深你对变换复合背后数学原理的理解，也是一项重要的实践技能[@problem_id:2113432]。", "problem": "在一个二维计算机图形应用中，一个特效滤镜是通过按特定顺序组合三种不同的几何变换来设计的。一个坐标由列向量 $\\begin{pmatrix} x \\\\ y \\end{pmatrix}$ 给出的点按如下方式变换：\n\n1.  首先，该点绕原点逆时针旋转一个角度 $\\theta$。\n2.  其次，将得到的点进行非均匀缩放，其 x 坐标乘以一个因子 $\\alpha$，y 坐标乘以一个因子 $\\beta$。\n3.  最后，将上一步得到的点沿直线 $y = x$ 进行反射。\n\n确定表示这整个操作序列的单一 $2 \\times 2$ 变换矩阵 $M$。用 $\\alpha$、$\\beta$ 和 $\\theta$ 表示该矩阵的元素。", "solution": "我们使用列向量和标准的线性变换矩阵，因此，按照旋转、然后缩放、然后反射的顺序应用变换，相当于按相反的顺序用相应矩阵的乘积进行左乘。因此，总的矩阵是 $M = F S R$，其中：\n- 绕原点逆时针旋转角度 $\\theta$ 由以下矩阵表示：\n$$\nR=\\begin{pmatrix}\n\\cos(\\theta) & -\\sin(\\theta) \\\\\n\\sin(\\theta) & \\cos(\\theta)\n\\end{pmatrix}\n$$\n- 按因子 $\\alpha$（在 $x$ 方向）和 $\\beta$（在 $y$ 方向）进行的非均匀缩放由以下矩阵表示：\n$$\nS=\\begin{pmatrix}\n\\alpha & 0 \\\\\n0 & \\beta\n\\end{pmatrix}\n$$\n- 沿直线 $y=x$ 的反射（交换坐标）由以下矩阵表示：\n$$\nF=\\begin{pmatrix}\n0 & 1 \\\\\n1 & 0\n\\end{pmatrix}\n$$\n\n按顺序计算乘积。首先，\n$$\nS R\n=\n\\begin{pmatrix}\n\\alpha & 0 \\\\\n0 & \\beta\n\\end{pmatrix}\n\\begin{pmatrix}\n\\cos(\\theta) & -\\sin(\\theta) \\\\\n\\sin(\\theta) & \\cos(\\theta)\n\\end{pmatrix}\n=\n\\begin{pmatrix}\n\\alpha \\cos(\\theta) & -\\alpha \\sin(\\theta) \\\\\n\\beta \\sin(\\theta) & \\beta \\cos(\\theta)\n\\end{pmatrix}\n$$\n然后从左边乘以 $F$：\n$$\nM = F S R\n=\n\\begin{pmatrix}\n0 & 1 \\\\\n1 & 0\n\\end{pmatrix}\n\\begin{pmatrix}\n\\alpha \\cos(\\theta) & -\\alpha \\sin(\\theta) \\\\\n\\beta \\sin(\\theta) & \\beta \\cos(\\theta)\n\\end{pmatrix}\n=\n\\begin{pmatrix}\n\\beta \\sin(\\theta) & \\beta \\cos(\\theta) \\\\\n\\alpha \\cos(\\theta) & -\\alpha \\sin(\\theta)\n\\end{pmatrix}\n$$\n\n该矩阵将 $\\begin{pmatrix} x \\\\ y \\end{pmatrix}$ 按照指定的顺序进行映射：旋转 $\\theta$，按 $\\alpha$ 和 $\\beta$ 进行缩放，然后沿 $y=x$ 反射。", "answer": "$$\\boxed{\\begin{pmatrix}\\beta \\sin(\\theta) & \\beta \\cos(\\theta) \\\\ \\alpha \\cos(\\theta) & -\\alpha \\sin(\\theta)\\end{pmatrix}}$$", "id": "2113432"}, {"introduction": "矩阵乘法的一个关键特性是其非交换性，即改变矩阵相乘的顺序通常会得到不同的结果。这个特性在几何变换中有着直观而重要的体现：先旋转再平移与先平移再旋转的效果是不同的。本练习通过比较两种不同顺序的剪切变换，让你亲手计算和量化顺序改变所带来的差异，从而深刻理解变换复合的非交换性[@problem_id:2113411]。", "problem": "在二维计算机图形学中，矩阵乘法的非交换性对应用顺序变换具有重要影响。本问题探讨当两个错切变换的顺序颠倒时，其结果的差异。\n\n考虑笛卡尔平面中的两个线性变换：\n1. 水平错切 $T_h$，其错切因子为 $k_h$。此变换的矩阵表示为 $M_h = \\begin{pmatrix} 1 & k_h \\\\ 0 & 1 \\end{pmatrix}$。\n2. 垂直错切 $T_v$，其错切因子为 $k_v$。此变换的矩阵表示为 $M_v = \\begin{pmatrix} 1 & 0 \\\\ k_v & 1 \\end{pmatrix}$。\n\n一个初始点 $P_0$ 的坐标为 $(x_0, y_0)$。将两种不同的变换序列应用于该点：\n\n序列 A：先应用水平错切 $T_h$，再应用垂直错切 $T_v$。结果点记为 $P_A$。\n序列 B：先应用垂直错切 $T_v$，再应用水平错切 $T_h$。结果点记为 $P_B$。\n\n求最终点 $P_A$ 和 $P_B$ 之间的欧几里得距离的平方。请用参数 $k_h$、$k_v$、$x_0$ 和 $y_0$ 给出答案的闭式解析表达式。", "solution": "我们将水平错切表示为 $M_{h} = \\begin{pmatrix} 1 & k_{h} \\\\ 0 & 1 \\end{pmatrix}$，垂直错切表示为 $M_{v} = \\begin{pmatrix} 1 & 0 \\\\ k_{v} & 1 \\end{pmatrix}$。对于一个初始点 $P_{0} = \\begin{pmatrix} x_{0} \\\\ y_{0} \\end{pmatrix}$，我们计算两种序列的结果。\n\n序列 A 先应用 $T_{h}$ 再应用 $T_{v}$，所以 $P_{A} = M_{v} M_{h} P_{0}$。首先，\n$$\nM_{h} P_{0} = \\begin{pmatrix} 1 & k_{h} \\\\ 0 & 1 \\end{pmatrix} \\begin{pmatrix} x_{0} \\\\ y_{0} \\end{pmatrix} = \\begin{pmatrix} x_{0} + k_{h} y_{0} \\\\ y_{0} \\end{pmatrix}\n$$\n然后，\n$$\nP_{A} = M_{v} \\begin{pmatrix} x_{0} + k_{h} y_{0} \\\\ y_{0} \\end{pmatrix} = \\begin{pmatrix} x_{0} + k_{h} y_{0} \\\\ k_{v}(x_{0} + k_{h} y_{0}) + y_{0} \\end{pmatrix} = \\begin{pmatrix} x_{0} + k_{h} y_{0} \\\\ k_{v} x_{0} + k_{v} k_{h} y_{0} + y_{0} \\end{pmatrix}\n$$\n\n序列 B 先应用 $T_{v}$ 再应用 $T_{h}$，所以 $P_{B} = M_{h} M_{v} P_{0}$。首先，\n$$\nM_{v} P_{0} = \\begin{pmatrix} 1 & 0 \\\\ k_{v} & 1 \\end{pmatrix} \\begin{pmatrix} x_{0} \\\\ y_{0} \\end{pmatrix} = \\begin{pmatrix} x_{0} \\\\ k_{v} x_{0} + y_{0} \\end{pmatrix}\n$$\n然后，\n$$\nP_{B} = M_{h} \\begin{pmatrix} x_{0} \\\\ k_{v} x_{0} + y_{0} \\end{pmatrix} = \\begin{pmatrix} x_{0} + k_{h}(k_{v} x_{0} + y_{0}) \\\\ k_{v} x_{0} + y_{0} \\end{pmatrix} = \\begin{pmatrix} (1 + k_{h} k_{v}) x_{0} + k_{h} y_{0} \\\\ k_{v} x_{0} + y_{0} \\end{pmatrix}\n$$\n\n差向量为\n$$\nP_{A} - P_{B} = \\begin{pmatrix} x_{0} + k_{h} y_{0} - [(1 + k_{h} k_{v}) x_{0} + k_{h} y_{0}] \\\\ (k_{v} x_{0} + k_{v} k_{h} y_{0} + y_{0}) - (k_{v} x_{0} + y_{0}) \\end{pmatrix} = \\begin{pmatrix} - k_{h} k_{v} x_{0} \\\\ k_{h} k_{v} y_{0} \\end{pmatrix}\n$$\n\n$P_{A}$ 和 $P_{B}$ 之间的欧几里得距离的平方是该差向量的范数的平方：\n$$\n\\|P_{A} - P_{B}\\|^{2} = (- k_{h} k_{v} x_{0})^{2} + (k_{h} k_{v} y_{0})^{2} = (k_{h} k_{v})^{2} (x_{0}^{2} + y_{0}^{2})\n$$", "answer": "$$\\boxed{(k_{h} k_{v})^{2} \\left(x_{0}^{2} + y_{0}^{2}\\right)}$$", "id": "2113411"}, {"introduction": "掌握了如何从给定的变换序列预测最终结果后，我们可以挑战一个反向问题：根据最终的变换效果来推断初始变换中的未知参数。这类问题在物理建模和工程设计中很常见，需要更深层次的分析和代数技巧。这个练习要求你基于一个复合变换的特定输出（将一个向量映射到零向量），反推出其中一个变换（反射）的关键参数（直线的斜率 $m$）[@problem_id:2113376]。", "problem": "在二维笛卡尔平面中，一个复合线性变换 $T$ 由两个连续的操作所定义。首先，一个向量关于一条穿过原点、方程为 $y = mx$ 的直线 $L_1$ 进行镜像反射。斜率 $m$ 是一个正实数。其次，将得到的向量正交投影到方程为 $y = -x$ 的直线 $L_2$ 上。\n\n观测到这个复合变换 $T$ 将向量 $\\mathbf{v} = \\begin{pmatrix} 3 \\\\ 1 \\end{pmatrix}$ 映射到零向量 $\\mathbf{0} = \\begin{pmatrix} 0 \\\\ 0 \\end{pmatrix}$。\n\n求出斜率 $m$ 的精确值。", "solution": "让我们先求出这两个变换的矩阵，然后将它们复合以求得复合变换 $T$ 的矩阵。\n\n首先，考虑关于直线 $L_1$（由 $y=mx$ 给出）的镜像反射。设 $\\theta$ 为该直线与 x 轴正半轴的夹角，因此 $\\tan(\\theta) = m$。关于与 x 轴夹角为 $\\theta$ 的直线的反射矩阵由下式给出：\n$$\nR_m = \\begin{pmatrix} \\cos(2\\theta) & \\sin(2\\theta) \\\\ \\sin(2\\theta) & -\\cos(2\\theta) \\end{pmatrix}\n$$\n我们可以使用基于正切函数的倍角公式，将 $\\cos(2\\theta)$ 和 $\\sin(2\\theta)$ 用 $m = \\tan(\\theta)$ 来表示：\n$$\n\\cos(2\\theta) = \\frac{1 - \\tan^2(\\theta)}{1 + \\tan^2(\\theta)} = \\frac{1 - m^2}{1 + m^2}\n$$\n$$\n\\sin(2\\theta) = \\frac{2 \\tan(\\theta)}{1 + \\tan^2(\\theta)} = \\frac{2m}{1 + m^2}\n$$\n将这些代入反射矩阵，我们得到：\n$$\nR_m = \\frac{1}{1 + m^2} \\begin{pmatrix} 1 - m^2 & 2m \\\\ 2m & -(1-m^2) \\end{pmatrix} = \\frac{1}{1 + m^2} \\begin{pmatrix} 1 - m^2 & 2m \\\\ 2m & m^2 - 1 \\end{pmatrix}\n$$\n\n接下来，考虑对直线 $L_2$（由 $y = -x$ 给出）的正交投影。这条直线与 x 轴正半轴的夹角为 $\\alpha = 135^\\circ$ 或 $3\\pi/4$ 弧度。对与 x 轴夹角为 $\\alpha$ 的直线的正交投影矩阵由下式给出：\n$$\nP_{-x} = \\begin{pmatrix} \\cos^2(\\alpha) & \\cos(\\alpha)\\sin(\\alpha) \\\\ \\cos(\\alpha)\\sin(\\alpha) & \\sin^2(\\alpha) \\end{pmatrix}\n$$\n对于 $\\alpha = 3\\pi/4$，我们有 $\\cos(\\alpha) = -1/\\sqrt{2}$ 和 $\\sin(\\alpha) = 1/\\sqrt{2}$。\n因此：\n$\\cos^2(\\alpha) = (-1/\\sqrt{2})^2 = 1/2$\n$\\sin^2(\\alpha) = (1/\\sqrt{2})^2 = 1/2$\n$\\cos(\\alpha)\\sin(\\alpha) = (-1/\\sqrt{2})(1/\\sqrt{2}) = -1/2$\n代入这些值，投影矩阵为：\n$$\nP_{-x} = \\begin{pmatrix} 1/2 & -1/2 \\\\ -1/2 & 1/2 \\end{pmatrix} = \\frac{1}{2} \\begin{pmatrix} 1 & -1 \\\\ -1 & 1 \\end{pmatrix}\n$$\n\n复合变换 $T$ 是先进行反射，然后进行投影。因此，$T$ 的矩阵是投影矩阵和反射矩阵的乘积，按此顺序：$T = P_{-x} R_m$。\n$$\nT = \\left( \\frac{1}{2} \\begin{pmatrix} 1 & -1 \\\\ -1 & 1 \\end{pmatrix} \\right) \\left( \\frac{1}{1 + m^2} \\begin{pmatrix} 1 - m^2 & 2m \\\\ 2m & m^2 - 1 \\end{pmatrix} \\right)\n$$\n$$\nT = \\frac{1}{2(1 + m^2)} \\begin{pmatrix} 1 & -1 \\\\ -1 & 1 \\end{pmatrix} \\begin{pmatrix} 1 - m^2 & 2m \\\\ 2m & m^2 - 1 \\end{pmatrix}\n$$\n进行矩阵乘法：\n左上角元素：$(1)(1-m^2) + (-1)(2m) = 1 - 2m - m^2$\n右上角元素：$(1)(2m) + (-1)(m^2-1) = 2m - m^2 + 1 = 1 + 2m - m^2$\n左下角元素：$(-1)(1-m^2) + (1)(2m) = -1 + m^2 + 2m = m^2 + 2m - 1$\n右下角元素：$(-1)(2m) + (1)(m^2-1) = -2m + m^2 - 1 = m^2 - 2m - 1$\n所以复合矩阵是：\n$$\nT = \\frac{1}{2(1 + m^2)} \\begin{pmatrix} 1 - 2m - m^2 & 1 + 2m - m^2 \\\\ m^2 + 2m - 1 & m^2 - 2m - 1 \\end{pmatrix}\n$$\n根据题意，$T$ 将向量 $\\mathbf{v} = \\begin{pmatrix} 3 \\\\ 1 \\end{pmatrix}$ 映射到零向量 $\\mathbf{0}$。\n$$\nT\\mathbf{v} = \\mathbf{0} \\implies \\frac{1}{2(1 + m^2)} \\begin{pmatrix} 1 - 2m - m^2 & 1 + 2m - m^2 \\\\ m^2 + 2m - 1 & m^2 - 2m - 1 \\end{pmatrix} \\begin{pmatrix} 3 \\\\ 1 \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ 0 \\end{pmatrix}\n$$\n外面的标量因子不为零，所以我们只需要考虑矩阵与向量的乘积。我们可以利用第一行来建立一个方程：\n$$\n(1 - 2m - m^2)(3) + (1 + 2m - m^2)(1) = 0\n$$\n$$\n3 - 6m - 3m^2 + 1 + 2m - m^2 = 0\n$$\n$$\n4 - 4m - 4m^2 = 0\n$$\n将整个方程除以 $-4$：\n$$\nm^2 + m - 1 = 0\n$$\n这是一个关于 $m$ 的一元二次方程。我们使用一元二次方程的求根公式来求 $m$ 的解：\n$$\nm = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a} = \\frac{-1 \\pm \\sqrt{1^2 - 4(1)(-1)}}{2(1)} = \\frac{-1 \\pm \\sqrt{1 + 4}}{2} = \\frac{-1 \\pm \\sqrt{5}}{2}\n$$\n题目说明斜率 $m$ 是一个正实数。因此，我们必须取正根：\n$$\nm = \\frac{-1 + \\sqrt{5}}{2}\n$$\n（作为检验，如果我们使用矩阵乘积的第二行，我们会得到 $3(m^2+2m-1) + 1(m^2-2m-1) = 3m^2+6m-3+m^2-2m-1 = 4m^2+4m-4=0$，它化简后得到相同的一元二次方程 $m^2+m-1=0$，这证实了我们的计算结果）。", "answer": "$$\n\\boxed{\\frac{\\sqrt{5}-1}{2}}\n$$", "id": "2113376"}]}