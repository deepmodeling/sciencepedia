{"hands_on_practices": [{"introduction": "计算几何中的许多核心任务都始于一个基本问题：确定实体之间的距离。然而，与纯粹的解析几何不同，计算方法必须精确地处理有界的对象，例如线段而非无限长的直线。这个练习将引导你解决一个典型的三维空间问题：计算一个点到一个线段的最短距离，这要求你不仅要应用向量投影，还要仔细处理投影点是否落在该线段内部的边界情况 [@problem_id:2139443]。掌握这项技能对于在机器人、计算机图形学和物理模拟等领域中进行精确的碰撞检测和路径规划至关重要。", "problem": "在一个无人机导航系统的仿真中，一个关键基础设施组件被建模为三维笛卡尔坐标系中的一条直线段。该线段的端点 $P_1$ 和 $P_2$ 分别位于坐标 $(1, 4, -2)$ 和 $(5, 1, 3)$。所有坐标均以米为单位。无人机的基地位于原点 $(0, 0, 0)$。为确保安全运行，无人机的软件必须能够计算其基地与该基础设施组件上任意点之间的最小可能距离。计算这个最短距离。答案以米为单位，并四舍五入到四位有效数字。", "solution": "令 $P_{1}=(1,4,-2)$，$P_{2}=(5,1,3)$，原点为 $O=(0,0,0)$。定义线段方向向量以及从 $P_1$ 到 $O$ 的向量为\n$$\n\\mathbf{v}=P_{2}-P_{1}=(4,-3,5), \\quad \\mathbf{w}=O-P_{1}=(-1,-4,2).\n$$\n将 $O$ 正交投影到通过 $P_1$ 且方向为 $\\mathbf{v}$ 的直线上的参数为\n$$\nt^{\\ast}=\\frac{\\mathbf{w}\\cdot\\mathbf{v}}{\\mathbf{v}\\cdot\\mathbf{v}}.\n$$\n计算点积：\n$$\n\\mathbf{v}\\cdot\\mathbf{v}=4^{2}+(-3)^{2}+5^{2}=16+9+25=50,\n$$\n$$\n\\mathbf{w}\\cdot\\mathbf{v}=(-1)\\cdot 4+(-4)\\cdot(-3)+2\\cdot 5=-4+12+10=18,\n$$\n因此\n$$\nt^{\\ast}=\\frac{18}{50}=\\frac{9}{25}.\n$$\n由于 $0\\leq t^{\\ast}\\leq 1$，最近点位于线段的内部，最小距离是 $O$ 到该直线的垂直距离。使用分解式，\n$$\nd^{2}=|\\mathbf{w}|^{2}-\\frac{(\\mathbf{w}\\cdot\\mathbf{v})^{2}}{|\\mathbf{v}|^{2}},\n$$\n我们计算\n$$\n|\\mathbf{w}|^{2}=(-1)^{2}+(-4)^{2}+2^{2}=1+16+4=21,\n$$\n所以\n$$\nd^{2}=21-\\frac{18^{2}}{50}=21-\\frac{324}{50}=\\frac{1050-324}{50}=\\frac{726}{50}=\\frac{363}{25}.\n$$\n因此，\n$$\nd=\\frac{\\sqrt{363}}{5}.\n$$\n四舍五入到四位有效数字，该距离为 $3.811$。", "answer": "$$\\boxed{3.811}$$", "id": "2139443"}, {"introduction": "计算几何的魅力不仅在于求解度量问题，还在于解决关于“存在性”的逻辑难题。本练习提出了一个经典的“线贯穿”问题：是否存在一条直线能够同时穿过所有给定的垂直线段？要解决这个问题，你需要学习一种强大的思维范式——将几何构型问题转化为参数空间中的约束求解问题 [@problem_id:2139397]。通过分析贯穿直线的斜率 $m$ 和截距 $b$ 所必须满足的不等式组，你将体验到如何将视觉上的几何直觉转化为严谨的代数分析。", "problem": "在一个简化的二维安全系统模型中，设置了一系列垂直的、不重叠的激光绊线。每条绊线是 xy 平面中的一个垂直线段。需要测试该系统，看是否可以发射一束单一的直线激光束，使其同时与所有绊线相交，这种情况被称为存在“线贯穿”（line transversal）。\n\n给定四个垂直的绊线段，由它们的 x 坐标和它们所跨越的 y 区间定义。设线段 $S_i$ 由其 x 坐标 $x_i$ 和其 y 区间 $[y_{i, \\text{bottom}}, y_{i, \\text{top}}]$ 定义。这四个线段是：\n\n- $S_1$：在 $x_1=1$ 处，跨越 y 区间 $[1, 3]$。\n- $S_2$：在 $x_2=2$ 处，跨越 y 区间 $[4, 6]$。\n- $S_3$：在 $x_3=4$ 处，跨越 y 区间 $[4, 6]$。\n- $S_4$：在 $x_4=5$ 处，跨越 y 区间 $[8, 10]$。\n\n根据这些信息，以下哪个陈述是正确的？\n\nA. 是的，存在线贯穿。\n\nB. 不，不存在线贯穿，因为线段 $S_3$相对于穿过 $S_1$ 和 $S_2$ 的直线位置不正确。\n\nC. 不，不存在线贯穿，因为线段 $S_2$ 和 $S_3$ 具有相同的 y 区间但 x 坐标不同。\n\nD. 不，不存在线贯穿，因为潜在贯穿线斜率所需的最大下界大于所需的最小上界。\n\nE. 根据给定信息无法确定。", "solution": "我们将任何候选的贯穿线建模为直线 $y=mx+b$。对于每个在 $x_{i}$ 处跨越 $[y_{i,\\text{bottom}},y_{i,\\text{top}}]$ 的垂直线段，相交要求\n$$\ny_{i,\\text{bottom}} \\leq m x_{i} + b \\leq y_{i,\\text{top}}.\n$$\n等价地，对于固定的 $m$，截距 $b$ 必须位于区间\n$$\nb \\in [\\,y_{i,\\text{bottom}} - m x_{i}\\,,\\,y_{i,\\text{top}} - m x_{i}\\,].\n$$\n可行直线存在的充要条件是这四个区间的交集非空，即\n$$\n\\max_{i}\\{y_{i,\\text{bottom}} - m x_{i}\\} \\leq \\min_{i}\\{y_{i,\\text{top}} - m x_{i}\\}.\n$$\n这个条件等价于要求对于所有配对 $(i,j)$，\n$$\ny_{i,\\text{bottom}} - m x_{i} \\leq y_{j,\\text{top}} - m x_{j}\n\\quad\\text{and}\\quad\ny_{j,\\text{bottom}} - m x_{j} \\leq y_{i,\\text{top}} - m x_{i},\n$$\n对 $x_{j} > x_{i}$ 进行整理后，得出斜率的界限\n$$\nm \\leq \\frac{y_{j,\\text{top}} - y_{i,\\text{bottom}}}{x_{j} - x_{i}}\n\\quad\\text{and}\\quad\nm \\geq \\frac{y_{j,\\text{bottom}} - y_{i,\\text{top}}}{x_{j} - x_{i}}.\n$$\n因此，一个可行的 $m$ 必须同时满足所有 $i<j$ 的情况，\n$$\n\\max_{i<j}\\frac{y_{j,\\text{bottom}} - y_{i,\\text{top}}}{x_{j} - x_{i}} \\;\\leq\\; m \\;\\leq\\; \\min_{i<j}\\frac{y_{j,\\text{top}} - y_{i,\\text{bottom}}}{x_{j} - x_{i}}.\n$$\n\n计算给定线段的这些界限：\n- 对于 $(S_{1},S_{2})$: $x_{2}-x_{1}=1$,\n$$\nm \\geq \\frac{4-3}{1} = 1,\\quad m \\leq \\frac{6-1}{1} = 5.\n$$\n- 对于 $(S_{2},S_{3})$: $x_{3}-x_{2}=2$,\n$$\nm \\geq \\frac{4-6}{2} = -1,\\quad m \\leq \\frac{6-4}{2} = 1.\n$$\n- 对于 $(S_{3},S_{4})$: $x_{4}-x_{3}=1$,\n$$\nm \\geq \\frac{8-6}{1} = 2,\\quad m \\leq \\frac{10-4}{1} = 6.\n$$\n- 对于 $(S_{1},S_{3})$: $x_{3}-x_{1}=3$,\n$$\nm \\geq \\frac{4-3}{3} = \\frac{1}{3},\\quad m \\leq \\frac{6-1}{3} = \\frac{5}{3}.\n$$\n- 对于 $(S_{2},S_{4})$: $x_{4}-x_{2}=3$,\n$$\nm \\geq \\frac{8-6}{3} = \\frac{2}{3},\\quad m \\leq \\frac{10-4}{3} = 2.\n$$\n- 对于 $(S_{1},S_{4})$: $x_{4}-x_{1}=4$,\n$$\nm \\geq \\frac{8-3}{4} = \\frac{5}{4},\\quad m \\leq \\frac{10-1}{4} = \\frac{9}{4}.\n$$\n\n汇总所有下界和上界：\n$$\nm_{\\text{lower}} = \\max\\left\\{1,\\,-1,\\,2,\\,\\frac{1}{3},\\,\\frac{2}{3},\\,\\frac{5}{4}\\right\\} = 2,\n$$\n$$\nm_{\\text{upper}} = \\min\\left\\{5,\\,1,\\,6,\\,\\frac{5}{3},\\,2,\\,\\frac{9}{4}\\right\\} = 1.\n$$\n因为 $m_{\\text{lower}} > m_{\\text{upper}}$ （具体来说是 $2>1$），没有斜率 $m$ 能满足所有约束条件，因此不存在线贯穿。这与陈述 D 相符：斜率所需的最大下界超过了所需的最小上界。", "answer": "$$\\boxed{D}$$", "id": "2139397"}, {"introduction": "将静态的几何概念应用于动态世界是计算几何最激动人心的应用之一。这个实践将你置于一个模拟动态系统的核心挑战面前：预测两个以恒定速度移动的凸多边形何时会发生碰撞。你将使用分离轴定理（Separating Axis Theorem, SAT）这一关键算法，但会将其扩展到时域中 [@problem_id:2139439]。通过分析物体的相对运动并计算它们在各个分离轴上的投影何时开始重叠，你将能够精确地确定首次接触的时间，这是游戏引擎、机器人避障和交通流模拟中的一项基础技术。", "problem": "两台自动导引运输车 (AGV)，建模为凸多边形，在一个宽阔、平坦的工厂车间内运行。它们的位置在一个二维笛卡尔坐标系中描述，单位为米。在时间 $t=0$ 时，AGV 1 是一个三角形，其顶点位于 $(1.0, 1.0)$、$(2.0, 0.5)$ 和 $(3.0, 2.0)$。AGV 2 是一个矩形，其顶点位于 $(7.0, 3.0)$、$(9.0, 3.0)$、$(9.0, 5.0)$ 和 $(7.0, 5.0)$。对于每个 AGV，其顶点都按逆时针顺序列出。\n\nAGV 1 以恒定的速度矢量 $\\mathbf{v}_1 = (1.2, 0.9)$ m/s 移动。\nAGV 2 以恒定的速度矢量 $\\mathbf{v}_2 = (-0.3, 0.2)$ m/s 移动。\n\n假设它们无限期地沿着这些路径继续移动，它们最终会发生碰撞。计算两台 AGV 首次接触的时间（以秒为单位）。将最终答案四舍五入到四位有效数字。", "solution": "设 $P$ 为 AGV 1（三角形），其顶点为 $p_{1}=(1,1)$、$p_{2}=(2,0.5)$、$p_{3}=(3,2)$，速度为 $\\mathbf{v}_{1}=(1.2,0.9)$；设 $Q$ 为 AGV 2（矩形），其顶点为 $q_{1}=(7,3)$、$q_{2}=(9,3)$、$q_{3}=(9,5)$、$q_{4}=(7,5)$，速度为 $\\mathbf{v}_{2}=(-0.3,0.2)$。利用相对运动，固定 $Q$，使 $P$ 以相对速度移动\n$$\n\\mathbf{v}=\\mathbf{v}_{1}-\\mathbf{v}_{2}=(1.5,0.7).\n$$\n对于以恒定线速度运动的凸多边形，首次接触时间可以通过时变分离轴定理 (SAT) 获得。设 $u$ 为单位分离轴（任一多边形任一边的一条单位法线）。在时间 $t$ 时的标量投影区间为\n$$\nI_{P}(u,t)=\\bigl[P_{\\min,0}(u)+(u\\cdot \\mathbf{v})\\,t,\\;P_{\\max,0}(u)+(u\\cdot \\mathbf{v})\\,t\\bigr],\\quad\nI_{Q}(u)=\\bigl[Q_{\\min,0}(u),\\;Q_{\\max,0}(u)\\bigr].\n$$\n沿着轴 $u$，当满足以下条件时发生重叠\n$$\nP_{\\min,0}(u)+(u\\cdot \\mathbf{v})\\,t\\leq Q_{\\max,0}(u)\\quad\\text{and}\\quad\nP_{\\max,0}(u)+(u\\cdot \\mathbf{v})\\,t\\geq Q_{\\min,0}(u),\n$$\n这会得到一个 $t$ 值的区间。全局碰撞区间是所有轴 $u$ 上重叠区间的交集；进入碰撞的时间是这些区间下界的最大值。\n\n所需考虑的轴是 $P$ 和 $Q$ 边上的单位法线：\n- 矩形的轴：$u_{x}=(1,0)$ 和 $u_{y}=(0,1)$。\n- 三角形的边 $e_{1}=p_{2}-p_{1}=(1,-0.5)$、$e_{2}=p_{3}-p_{2}=(1,1.5)$、$e_{3}=p_{1}-p_{3}=(-2,-1)$，其对应的单位法线为\n$$\nu_{1}=\\frac{(0.5,1)}{\\|(0.5,1)\\|}=\\left(\\frac{1}{\\sqrt{5}},\\frac{2}{\\sqrt{5}}\\right),\\quad\nu_{2}=\\frac{(-1.5,1)}{\\|(-1.5,1)\\|}=\\left(-\\frac{3}{\\sqrt{13}},\\frac{2}{\\sqrt{13}}\\right),\\quad\nu_{3}=\\frac{(1,-2)}{\\|(1,-2)\\|}=\\left(\\frac{1}{\\sqrt{5}},-\\frac{2}{\\sqrt{5}}\\right).\n$$\n\n分别计算每个轴上的投影区间和重叠时间：\n\n1) 轴 $u_{x}=(1,0)$：$u_{x}\\cdot\\mathbf{v}=1.5$。初始投影：\n$P_{x,0}\\in[1,3]$，$Q_{x,0}\\in[7,9]$。\n重叠条件为\n$$\n\\begin{aligned}\n1+1.5t\\leq 9 &\\implies t\\leq \\frac{8}{1.5}=\\frac{16}{3},\\\\\n3+1.5t\\geq 7 &\\implies t\\geq \\frac{4}{1.5}=\\frac{8}{3}.\n\\end{aligned}\n$$\n因此 $t\\in\\left[\\frac{8}{3},\\frac{16}{3}\\right]$。\n\n2) 轴 $u_{y}=(0,1)$：$u_{y}\\cdot\\mathbf{v}=0.7$。初始投影：\n$P_{y,0}\\in[0.5,2]$，$Q_{y,0}\\in[3,5]$。\n重叠条件为\n$$\n\\begin{aligned}\n0.5+0.7t\\leq 5 &\\implies t\\leq \\frac{4.5}{0.7}=\\frac{45}{7},\\\\\n2+0.7t\\geq 3 &\\implies t\\geq \\frac{1}{0.7}=\\frac{10}{7}.\n\\end{aligned}\n$$\n因此 $t\\in\\left[\\frac{10}{7},\\frac{45}{7}\\right]$。\n\n3) 轴 $u_{1}=\\left(\\frac{1}{\\sqrt{5}},\\frac{2}{\\sqrt{5}}\\right)$：$u_{1}\\cdot\\mathbf{v}=\\frac{2.9}{\\sqrt{5}}$。初始投影：\n$$\nP_{0}:\\left\\{\\frac{3}{\\sqrt{5}},\\frac{3}{\\sqrt{5}},\\frac{7}{\\sqrt{5}}\\right\\}\\Rightarrow \\left[\\frac{3}{\\sqrt{5}},\\frac{7}{\\sqrt{5}}\\right],\\quad\nQ_{0}:\\left\\{\\frac{13}{\\sqrt{5}},\\frac{15}{\\sqrt{5}},\\frac{19}{\\sqrt{5}},\\frac{17}{\\sqrt{5}}\\right\\}\\Rightarrow \\left[\\frac{13}{\\sqrt{5}},\\frac{19}{\\sqrt{5}}\\right].\n$$\n重叠条件为\n$$\n\\begin{aligned}\n\\frac{3}{\\sqrt{5}}+\\frac{2.9}{\\sqrt{5}}t\\leq \\frac{19}{\\sqrt{5}} &\\implies 3+2.9t\\leq 19 \\implies t\\leq \\frac{16}{2.9}=\\frac{160}{29},\\\\\n\\frac{7}{\\sqrt{5}}+\\frac{2.9}{\\sqrt{5}}t\\geq \\frac{13}{\\sqrt{5}} &\\implies 7+2.9t\\geq 13 \\implies t\\geq \\frac{6}{2.9}=\\frac{60}{29}.\n\\end{aligned}\n$$\n因此 $t\\in\\left[\\frac{60}{29},\\frac{160}{29}\\right]$。\n\n4) 轴 $u_{2}=\\left(-\\frac{3}{\\sqrt{13}},\\frac{2}{\\sqrt{13}}\\right)$：$u_{2}\\cdot\\mathbf{v}=-\\frac{3.1}{\\sqrt{13}}$。初始投影：\n$$\nP_{0}:\\left\\{-\\frac{1}{\\sqrt{13}},-\\frac{5}{\\sqrt{13}},-\\frac{5}{\\sqrt{13}}\\right\\}\\Rightarrow \\left[-\\frac{5}{\\sqrt{13}},-\\frac{1}{\\sqrt{13}}\\right],\\quad\nQ_{0}:\\left\\{-\\frac{15}{\\sqrt{13}},-\\frac{21}{\\sqrt{13}},-\\frac{17}{\\sqrt{13}},-\\frac{11}{\\sqrt{13}}\\right\\}\\Rightarrow \\left[-\\frac{21}{\\sqrt{13}},-\\frac{11}{\\sqrt{13}}\\right].\n$$\n重叠条件为\n$$\n\\begin{aligned}\n-\\frac{5}{\\sqrt{13}}-\\frac{3.1}{\\sqrt{13}}t\\leq -\\frac{11}{\\sqrt{13}} &\\implies -5-3.1t\\leq -11 \\implies t\\geq \\frac{6}{3.1}=\\frac{60}{31},\\\\\n-\\frac{1}{\\sqrt{13}}-\\frac{3.1}{\\sqrt{13}}t\\geq -\\frac{21}{\\sqrt{13}} &\\implies -1-3.1t\\geq -21 \\implies t\\leq \\frac{20}{3.1}=\\frac{200}{31}.\n\\end{aligned}\n$$\n因此 $t\\in\\left[\\frac{60}{31},\\frac{200}{31}\\right]$。\n\n5) 轴 $u_{3}=\\left(\\frac{1}{\\sqrt{5}},-\\frac{2}{\\sqrt{5}}\\right)$：$u_{3}\\cdot\\mathbf{v}=\\frac{0.1}{\\sqrt{5}}$。初始投影：\n$$\nP_{0}:\\left\\{-\\frac{1}{\\sqrt{5}},\\frac{1}{\\sqrt{5}},-\\frac{1}{\\sqrt{5}}\\right\\}\\Rightarrow \\left[-\\frac{1}{\\sqrt{5}},\\frac{1}{\\sqrt{5}}\\right],\\quad\nQ_{0}:\\left\\{\\frac{1}{\\sqrt{5}},\\frac{3}{\\sqrt{5}},-\\frac{1}{\\sqrt{5}},-\\frac{3}{\\sqrt{5}}\\right\\}\\Rightarrow \\left[-\\frac{3}{\\sqrt{5}},\\frac{3}{\\sqrt{5}}\\right].\n$$\n重叠条件为\n$$\n-\\frac{1}{\\sqrt{5}}+\\frac{0.1}{\\sqrt{5}}t\\leq \\frac{3}{\\sqrt{5}} \\implies t\\leq 40,\\quad\n\\frac{1}{\\sqrt{5}}+\\frac{0.1}{\\sqrt{5}}t\\geq -\\frac{3}{\\sqrt{5}} \\implies t\\geq -40,\n$$\n所以，在 $t\\geq 0$ 的情况下，这个轴除了 $t\\in[0,40]$ 外没有施加有效的限制。\n\n将所有轴上的重叠区间取交集，得到碰撞区间\n$$\nt\\in \\left[\\max\\!\\left(\\frac{8}{3},\\frac{10}{7},\\frac{60}{29},\\frac{60}{31},0\\right),\\;\\min\\!\\left(\\frac{16}{3},\\frac{45}{7},\\frac{160}{29},\\frac{200}{31},40\\right)\\right]\n=\\left[\\frac{8}{3},\\frac{16}{3}\\right].\n$$\n因此，首次接触发生在 $t=\\frac{8}{3}$ 秒。数值上，保留四位有效数字，结果为 $2.667$。", "answer": "$$\\boxed{2.667}$$", "id": "2139439"}]}