{"hands_on_practices": [{"introduction": "要真正掌握单射和满射等概念，我们需要超越它们的定义，并将其结构内涵可视化。本练习通过将这些性质与“纤维”（即映射到同一个输出的所有输入的集合）的概念联系起来，为你提供一种强有力的方法来对函数进行分类，并理解它们如何划分其定义域。通过分析纤维的基数，你将深化对函数基本属性的理解。[@problem_id:1673257]", "problem": "设 $f: X \\to Y$ 是两个非空集合 $X$ 和 $Y$ 之间的一个函数。对于陪域 $Y$ 中的任意元素 $y$，我们定义 $y$ 在 $f$ 下的纤维为其原像的集合，记作 $f^{-1}(y) = \\{x \\in X \\mid f(x) = y\\}$。有限集 $S$ 的基数记作 $|S|$。如果 $X$ 的一个非空子集族中的子集两两不交，且它们的并集等于 $X$，则该子集族被称为 $X$ 的一个划分。\n\n考虑以下关于函数 $f$ 的五个陈述。其中四个陈述恒为真，一个不一定为真。请找出那个不一定为真的陈述。\n\nA. 函数 $f$ 是单射（一对一）的，当且仅当对任意 $y \\in Y$，其纤维的基数满足 $|f^{-1}(y)| \\le 1$。\n\nB. 函数 $f$ 是满射（映上）的，当且仅当对任意 $y \\in Y$，其纤维 $f^{-1}(y)$ 是一个非空集。\n\nC. 如果函数 $f$ 是满射，那么其所有纤维的集合 $\\{f^{-1}(y) \\mid y \\in Y\\}$ 构成定义域 $X$ 的一个划分。\n\nD. 如果函数 $f$ 是单射，那么其所有纤维的集合 $\\{f^{-1}(y) \\mid y \\in Y\\}$ 构成定义域 $X$ 的一个划分。\n\nE. 函数 $f$ 是双射（一一对应）的，当且仅当对任意 $y \\in Y$，其纤维 $f^{-1}(y)$ 是一个单元素集（一个恰好含有一个元素的集合）。", "solution": "我们逐一分析每个陈述，使用纤维的定义 $f^{-1}(y)=\\{x\\in X\\mid f(x)=y\\}$ 以及划分的定义，即一个由非空的、两两不交且其并集为 $X$ 的子集组成的集族。\n\nA. 单射性等价于 $X$ 中不同的元素不会映射到同一个 $y\\in Y$ 的条件。这等价于要求对于每个 $y \\in Y$，纤维 $f^{-1}(y)$ 最多只包含一个元素。形式上，如果 $f$ 是单射的且 $y \\in Y$，那么要么 $y$ 不在像集中，此时 $|f^{-1}(y)|=0$，要么存在唯一的 $x$ 使得 $f(x)=y$，此时 $|f^{-1}(y)|=1$，所以总有 $|f^{-1}(y)|\\le 1$。反之，如果对每个 $y \\in Y$ 都有 $|f^{-1}(y)|\\le 1$，且 $f(x_{1})=f(x_{2})=y$，那么 $x_1$ 和 $x_2$ 都属于 $f^{-1}(y)$，这必然导致 $x_{1}=x_{2}$。因此 $f$ 是单射的。所以 A 恒为真。\n\nB. 满射性意味着对每个 $y \\in Y$ 都存在 $x \\in X$ 使得 $f(x)=y$，这恰好是条件 $f^{-1}(y)\\neq\\varnothing$ 对所有 $y \\in Y$ 都成立。反之，如果对所有 $y \\in Y$ 都有 $f^{-1}(y)\\neq\\varnothing$，那么对每个 $y$ 都存在 $x$ 使得 $f(x)=y$，所以 $f$ 是满射的。因此 B 恒为真。\n\nC. 对任意函数（无需任何假设），对应于不同 $y$ 的纤维是两两不交的：如果 $x\\in f^{-1}(y_{1})\\cap f^{-1}(y_{2})$，那么 $f(x)=y_{1}$ 且 $f(x)=y_{2}$，因此 $y_{1}=y_{2}$。此外，$\\bigcup_{y\\in Y}f^{-1}(y)=X$，因为对每个 $x\\in X$，$x\\in f^{-1}(f(x))$。唯一可能不满足划分条件的情况是纤维中存在空集。如果 $f$ 是满射的，那么对每个 $y \\in Y$，都存在一个 $x$ 使得 $f(x)=y$，所以每个 $f^{-1}(y)$ 都非空。因此，在满射条件下，集族 $\\{f^{-1}(y)\\mid y\\in Y\\}$ 由非空的、两两不交且其并集为 $X$ 的集合组成，即它构成一个划分。所以 C 恒为真。\n\nD. 如果 $f$ 是单射的，那么如上所述，纤维是两两不交的，并且它们对所有 $y \\in Y$ 的并集是 $X$。然而，单射性并不意味着满射性。如果 $f$ 不是满射的，那么存在 $y_{0} \\in Y$ 使得 $f^{-1}(y_{0})=\\varnothing$。由于划分必须是一个非空子集的集族，所以在这种情况下，集族 $\\{f^{-1}(y)\\mid y\\in Y\\}$ 不能构成一个划分。因此，陈述“如果 $f$ 是单射的，那么其所有纤维的集合构成 $X$ 的一个划分”不一定为真。它仅在 $f$ 同时也是满射时才成立。所以 D 不一定为真。\n\nE. 如果 $f$ 是双射的，那么它既是单射又是满射，所以对每个 $y\\in Y$，其纤维是非空的（由满射性）且最多只有一个元素（由单射性），因此恰好有一个元素，即一个单元素集。反之，如果每个纤维 $f^{-1}(y)$ 都是单元素集，那么每个纤维都是非空的（所以 $f$ 是满射的）且其大小最多为一（所以 $f$ 是单射的）。因此 $f$ 是双射的。所以 E 恒为真。\n\n因此，唯一不一定为真的陈述是 D。", "answer": "$$\\boxed{D}$$", "id": "1673257"}, {"introduction": "函数与集合的基本运算（如并集和交集）之间是如何相互作用的？虽然一个并集的像总是等于像的并集，但对于交集而言，情况并非总是如此。这个问题挑战你去发现一个精确的条件——即单射性——它能保证一个函数在集合交集运算上具有“分配律”的性质，从而加深你对这一关键函数属性的理解。[@problem_id:1673293]", "problem": "设 $f: X \\to Y$ 是一个从集合 $X$（定义域）到集合 $Y$（余域）的函数。对于任意子集 $S \\subseteq X$，$S$ 在 $f$ 下的像记为 $f(S)$，它是 $S$ 中元素经 $f$ 映射后在 $Y$ 中的所有值的集合，即 $f(S) = \\{f(x) \\in Y \\mid x \\in S\\}$。设 $A$ 和 $B$ 是定义域 $X$ 的任意子集。\n\n我们可以构成两个相关的集合：\n1.  $A$ 和 $B$ 交集的像，即集合 $f(A \\cap B)$。\n2.  $A$ 和 $B$ 的像的交集，即集合 $f(A) \\cap f(B)$。\n\n如果对于其定义域中的任意两个不同元素 $x_1, x_2$，它们的像也不同，则称函数 $f$ 是单射的（或一对一的）。等价地，如果 $f(x_1) = f(x_2)$，那么必然有 $x_1 = x_2$。\n如果一个函数 $f$ 的像等于其值域，即对于每一个元素 $y \\in Y$，都存在至少一个元素 $x \\in X$ 使得 $f(x) = y$，则称该函数是满射的（或映上的）。\n\n下列哪个陈述准确地描述了使等式 $f(A \\cap B) = f(A) \\cap f(B)$ 对**任意**选择的子集 $A, B \\subseteq X$ 都保证成立的条件？\n\nA. 当且仅当 $f$ 是满射时，该等式对所有子集 $A$ 和 $B$ 成立。\n\nB. 当且仅当 $f$ 是单射时，该等式对所有子集 $A$ 和 $B$ 成立。\n\nC. 当且仅当 $f$ 是恒等函数（即 $X=Y$ 且对所有 $x$ 都有 $f(x)=x$）时，该等式对所有子集 $A$ 和 $B$ 成立。\n\nD. 对于任意函数 $f$，无论其性质如何，该等式都成立。\n\nE. 该等式永不保证对所有子集 $A$ 和 $B$ 都成立，因为它总是依赖于 $A$ 和 $B$ 的具体选择。", "solution": "我们首先证明一个一般性的包含关系。对于任意函数 $f: X \\to Y$ 和任意子集 $A,B \\subseteq X$，我们有\n$$\nf(A \\cap B) \\subseteq f(A) \\cap f(B).\n$$\n证明如下：设 $y \\in f(A \\cap B)$。则存在 $x \\in A \\cap B$ 使得 $f(x) = y$。由于 $x \\in A$ 且 $x \\in B$，可得 $y \\in f(A)$ 且 $y \\in f(B)$，故 $y \\in f(A) \\cap f(B)$。\n\n现在我们来刻画等式对所有 $A,B \\subseteq X$ 成立的充要条件。\n\n充分性（单射蕴含等式）：假设 $f$ 是单射。设 $y \\in f(A) \\cap f(B)$。则存在 $a \\in A$ 和 $b \\in B$ 使得 $f(a) = y = f(b)$。根据单射性，有 $a = b$，所以 $a \\in A \\cap B$，因而 $y = f(a) \\in f(A \\cap B)$。所以 $f(A) \\cap f(B) \\subseteq f(A \\cap B)$。结合一般性的包含关系，我们得到对所有 $A,B \\subseteq X$ 都有 $f(A \\cap B) = f(A) \\cap f(B)$。\n\n必要性（等式对所有子集成立蕴含单射）：假设对所有 $A,B \\subseteq X$，我们有 $f(A \\cap B) = f(A) \\cap f(B)$。采用反证法，假设 $f$ 不是单射。那么存在 $x_{1}, x_{2} \\in X$ 且 $x_{1} \\neq x_{2}$ 使得 $f(x_{1}) = f(x_{2})$。令 $A = \\{x_{1}\\}$ 和 $B = \\{x_{2}\\}$。那么 $A \\cap B = \\emptyset$，所以 $f(A \\cap B) = f(\\emptyset) = \\emptyset$。然而，$f(A) = \\{f(x_{1})\\}$ 且 $f(B) = \\{f(x_{2})\\}$，所以\n$$\nf(A) \\cap f(B) = \\{f(x_{1})\\} \\cap \\{f(x_{2})\\} = \\{f(x_{1})\\} \\neq \\emptyset,\n$$\n这产生了矛盾。因此 $f$ 必须是单射的。\n\n综上所述，等式 $f(A \\cap B) = f(A) \\cap f(B)$ 对所有子集 $A,B \\subseteq X$ 成立的充要条件是 $f$ 是单射。在给出的选项中，这正是陈述 B。", "answer": "$$\\boxed{B}$$", "id": "1673293"}, {"introduction": "函数可以描述动态过程，理解其长期行为是数学中的一个核心主题。本练习通过计算一个置换的“阶”来探索这一思想，即需要将函数迭代多少次才能使每个元素都返回其初始位置。解决这个问题需要巧妙地融合函数迭代、模算术和中国剩余定理，以揭示该置换潜在的循环结构。[@problem_id:1673299]", "problem": "在一个简化的数据加扰算法模型中，一个置换 `f` 应用于一组数据块，标记为 `S = {0, 1, 2, ..., 14}`。该置换由函数 `f: S -> S` 定义，其中对于 `S` 中的任意 `x`，其像由规则 `f(x) = (4x + 7) mod 15` 给出。\n\n置换的*阶*定义为最小的正整数 `k`，使得将该置换应用 `k` 次后得到恒等置换（即，对于所有 `S` 中的 `x`，都有 `f^k(x) = x`）。\n\n确定置换 `f` 的阶。", "solution": "我们将 $S$ 视为环 $\\mathbb{Z}_{15}$，并写作 $f(x)=ax+b$，其中 $a\\equiv 4 \\pmod{15}$ 和 $b\\equiv 7 \\pmod{15}$。因为 $\\gcd(4,15)=1$，$a$ 模 $15$ 可逆，所以 $f$ 是 $S$ 上的一个置换。\n\n仿射映射的第 $k$ 次迭代，通过对 $k$ 进行归纳可知，满足：\n$$\nf^{k}(x)\\equiv a^{k}x+b\\sum_{i=0}^{k-1}a^{i}\\pmod{15}.\n$$\n确实，当 $k=1$ 时，公式为 $f(x)=ax+b$。如果该公式对 $k$ 成立，那么\n$$\nf^{k+1}(x)=f\\big(f^{k}(x)\\big)\\equiv a\\big(a^{k}x+b\\sum_{i=0}^{k-1}a^{i}\\big)+b\n\\equiv a^{k+1}x+b\\sum_{i=0}^{k-1}a^{i+1}+b\n\\equiv a^{k+1}x+b\\sum_{i=0}^{k}a^{i}\\pmod{15}.\n$$\n\n为了使 $f^{k}$ 成为恒等置换，我们要求对所有 $x$ 都有\n$$\na^{k}\\equiv 1 \\pmod{15}\n\\quad\\text{和}\\quad\nb\\sum_{i=0}^{k-1}a^{i}\\equiv 0 \\pmod{15}.\n$$\n因为 $\\gcd(b,15)=\\gcd(7,15)=1$，所以 $b$ 模 $15$ 可逆，因此这等价于\n$$\na^{k}\\equiv 1 \\pmod{15}\n\\quad\\text{和}\\quad\n\\sum_{i=0}^{k-1}a^{i}\\equiv 0 \\pmod{15}.\n$$\n\n使用中国剩余定理，分别考虑模 $3$ 和模 $5$ 的情况。\n\n模 $3$：$a\\equiv 4\\equiv 1 \\pmod{3}$ 且 $b\\equiv 7\\equiv 1 \\pmod{3}$，因此 $f(x)\\equiv x+1 \\pmod{3}$。那么\n$$\nf^{k}(x)\\equiv x+k \\pmod{3},\n$$\n所以 $f^{k}$ 是模 $3$ 的恒等置换当且仅当 $k\\equiv 0 \\pmod{3}$。因此，模 $3$ 的阶是 $3$。\n\n模 $5$：$a\\equiv 4 \\pmod{5}$ 且 $b\\equiv 7\\equiv 2 \\pmod{5}$。在域 $\\mathbb{Z}_{5}$ 上，\n$$\nf^{k}(x)\\equiv 4^{k}x+2\\sum_{i=0}^{k-1}4^{i}\\pmod{5}.\n$$\n我们要求 $4^{k}\\equiv 1 \\pmod{5}$ 且 $\\sum_{i=0}^{k-1}4^{i}\\equiv 0 \\pmod{5}$。因为 $4\\not\\equiv 1 \\pmod{5}$ 且 $4-1\\equiv 3$ 模 $5$ 可逆，我们有\n$$\n\\sum_{i=0}^{k-1}4^{i}\\equiv \\frac{4^{k}-1}{4-1}\\equiv 0 \\pmod{5}\\quad\\Longleftrightarrow\\quad 4^{k}\\equiv 1 \\pmod{5}.\n$$\n由于 $4\\equiv -1 \\pmod{5}$，4 模 5 的乘法阶是 $2$。因此模 $5$ 的阶是 $2$。\n\n根据中国剩余定理，$f^{k}$ 是模 $15$ 的恒等置换，当且仅当它同时是模 $3$ 和模 $5$ 的恒等置换。因此，$f$ 的阶是满足 $k\\equiv 0 \\pmod{3}$ 和 $k\\equiv 0 \\pmod{2}$ 的最小正整数 $k$，即\n$$\n\\operatorname{lcm}(3,2)=6.\n$$\n因此，置换 $f$ 的阶是 $6$。", "answer": "$$\\boxed{6}$$", "id": "1673299"}]}