{"hands_on_practices": [{"introduction": "第一个练习是一个基础的起点。你将在一个简单的区间上使用分段线性函数来构造一个单位分解，将抽象的定义转化为一个具体且可视化的对象。这个实践将巩固你对支集（support）和“和为一”性质这些核心概念的理解。[@problem_id:1664969]", "problem": "设 $X = [0, 1]$ 是一个拓扑空间，其拓扑为继承自 $\\mathbb{R}$ 的子空间拓扑。考虑 $X$ 的开覆盖 $\\mathcal{U} = \\{U_1, U_2\\}$，其中 $U_1 = [0, 3/4)$ 且 $U_2 = (1/4, 1]$。\n\n从属于开覆盖 $\\mathcal{U}$ 的 $X$ 上的一个单位分解是一个连续函数族 $\\{\\phi_i: X \\to [0,1]\\}_{i=1,2}$，它满足以下条件：\n1.  每个函数 $\\phi_i$ 的支集，定义为 $\\text{supp}(\\phi_i) = \\overline{\\{x \\in X \\mid \\phi_i(x) \\neq 0\\}}$，被包含在对应的集合 $U_i$ 中。即 $\\text{supp}(\\phi_1) \\subset U_1$ 且 $\\text{supp}(\\phi_2) \\subset U_2$。\n2.  在整个空间上，这些函数的和恒等于一：对于所有的 $x \\in X$，都有 $\\phi_1(x) + \\phi_2(x) = 1$。\n\n构造一个这样的单位分解，并给出函数 $\\phi_1(x)$ 的显式解析表达式。", "solution": "题目要求我们构造一对连续函数 $\\phi_1, \\phi_2: [0,1] \\to [0,1]$，它们构成一个从属于开覆盖 $\\mathcal{U} = \\{U_1, U_2\\}$（其中 $U_1 = [0, 3/4)$ 且 $U_2 = (1/4, 1]$）的单位分解。我们必须给出 $\\phi_1(x)$ 的表达式。\n\n两个定义条件是：\n1.  $\\text{supp}(\\phi_1) \\subset U_1$ 且 $\\text{supp}(\\phi_2) \\subset U_2$。\n2.  对于所有 $x \\in [0,1]$，有 $\\phi_1(x) + \\phi_2(x) = 1$。\n\n支集 $\\text{supp}(\\phi_i)$ 是一个闭集。为了使 $\\text{supp}(\\phi_1)$ 成为开集 $U_1 = [0, 3/4)$ 的子集，$\\phi_1$ 不仅要在 $x \\ge 3/4$ 时为零，还必须在 $x=3/4$ 的某个小邻域内为零。类似地，为了使 $\\text{supp}(\\phi_2) \\subset U_2 = (1/4, 1]$，$\\phi_2$ 不仅要在 $x \\le 1/4$ 时为零，还必须在 $x=1/4$ 的某个小邻域内为零。\n\n我们使用第二个条件：$\\phi_1(x) = 1 - \\phi_2(x)$。\n在 $\\phi_2(x) = 0$ 的地方，我们必须有 $\\phi_1(x) = 1$。\n在 $\\phi_1(x) = 0$ 的地方，我们必须有 $\\phi_2(x) = 1$。\n\n为了满足支集条件，我们需要找到一个“过渡区域” $(a, b)$，它被包含在两个开集的交集 $U_1 \\cap U_2 = (1/4, 3/4)$ 内。我们选择一个简单的区间，例如，取 $a=1/3$ 和 $b=2/3$。注意 $1/4 < 1/3 < 2/3 < 3/4$，因此 $[1/3, 2/3] \\subset (1/4, 3/4)$。\n\n我们可以如下定义我们的函数：\n- 在区间 $[0, 1/3]$ 上，我们可以设 $\\phi_2(x)=0$。为了满足和的条件，这意味着 $\\phi_1(x)=1$。\n- 在区间 $[2/3, 1]$ 上，我们可以设 $\\phi_1(x)=0$。这意味着 $\\phi_2(x)=1$。\n- 在区间 $(1/3, 2/3)$ 上，两个函数都可以非零。我们需要定义它们以确保在 $x=1/3$ 和 $x=2/3$ 处的连续性。实现这一点的最简单方法是使用线性函数。\n\n我们来构造 $\\phi_1(x)$。我们要求：\n- 对于 $x \\in [0, 1/3]$，$\\phi_1(x) = 1$。\n- 对于 $x \\in [2/3, 1]$，$\\phi_1(x) = 0$。\n- 对于 $x \\in (1/3, 2/3)$，我们将 $\\phi_1(x)$ 定义为连接点 $(1/3, 1)$ 和 $(2/3, 0)$ 的线性函数。\n这条线的斜率是 $m = \\frac{0-1}{2/3 - 1/3} = \\frac{-1}{1/3} = -3$。\n使用点斜式并代入点 $(2/3, 0)$，方程为 $y - 0 = -3(x - 2/3)$，化简得 $y = -3x + 2$。\n\n因此，$\\phi_1(x)$ 的完整分段定义为：\n$$\n\\phi_1(x) = \\begin{cases} 1 & \\text{if } 0 \\le x \\le 1/3 \\\\ -3x + 2 & \\text{if } 1/3 < x < 2/3 \\\\ 0 & \\text{if } 2/3 \\le x \\le 1 \\end{cases}\n$$\n这个函数是连续的。在 $[1/3, 2/3]$ 上，它从 1 线性递减到 0，因此其值域在 $[0,1]$ 内。\n\n我们可以使用 $\\phi_2(x) = 1-\\phi_1(x)$ 来求得 $\\phi_2(x)$：\n$$\n\\phi_2(x) = \\begin{cases} 0 & \\text{if } 0 \\le x \\le 1/3 \\\\ 1 - (-3x + 2) = 3x - 1 & \\text{if } 1/3 < x < 2/3 \\\\ 1 & \\text{if } 2/3 \\le x \\le 1 \\end{cases}\n$$\n\n我们对支集条件做最后检查：\n- 对于 $\\phi_1(x)$：$\\phi_1(x) \\neq 0$ 的集合是 $[0, 2/3)$。这个集合的闭包（即支集）是 $[0, 2/3]$。我们需要检验是否 $[0, 2/3] \\subset U_1 = [0, 3/4)$。因为 $2/3 \\approx 0.667$ 且 $3/4 = 0.75$，条件 $2/3 < 3/4$ 成立。所以 $\\text{supp}(\\phi_1) \\subset U_1$。\n- 对于 $\\phi_2(x)$：$\\phi_2(x) \\neq 0$ 的集合是 $(1/3, 1]$。这个集合的闭包是 $[1/3, 1]$。我们需要检验是否 $[1/3, 1] \\subset U_2 = (1/4, 1]$。因为 $1/3 \\approx 0.333$ 且 $1/4 = 0.25$，条件 $1/3 > 1/4$ 成立。所以 $\\text{supp}(\\phi_2) \\subset U_2$。\n\n所有条件都已满足。问题要求给出 $\\phi_1(x)$ 的解析表达式。", "answer": "$$\\boxed{\\begin{cases} 1 & 0 \\le x \\le \\frac{1}{3} \\\\ -3x + 2 & \\frac{1}{3} < x < \\frac{2}{3} \\\\ 0 & \\frac{2}{3} \\le x \\le 1 \\end{cases}}$$", "id": "1664969"}, {"introduction": "虽然分段线性函数很直观，但在微分几何中，我们通常需要*光滑*（$C^\\infty$）函数。这个练习介绍了一种使用特殊“脉冲函数”（bump function）来构造光滑单位分解的标准方法。通过计算一个具体的值，你将亲手熟悉这项在流形理论中不可或缺的基本技术。[@problem_id:1657671]", "problem": "考虑被开区间族 $\\mathcal{U} = \\{U_n = (n, n+2) \\mid n \\in \\mathbb{Z}\\}$ 覆盖的实直线 $\\mathbb{R}$。从属于此覆盖的一个单位分解是一个光滑函数族 $\\{\\phi_n: \\mathbb{R} \\to [0, 1]\\}_{n \\in \\mathbb{Z}}$，它具有以下性质：\n(i) 对每个整数 $n$，函数 $\\phi_n$ 的支集是区间 $U_n$ 的一个子集。\n(ii) 该支集族是局部有限的，意即任何点 $x \\in \\mathbb{R}$ 都存在一个邻域，该邻域仅与有限个函数 $\\phi_n$ 的支集相交。\n(iii) 对所有 $x \\in \\mathbb{R}$，这些函数的和恒等于一：$\\sum_{n \\in \\mathbb{Z}} \\phi_n(x) = 1$。\n\n一个特定的单位分解可按如下方式构造。首先，定义一个基本的“隆起”函数 $\\beta: \\mathbb{R} \\to \\mathbb{R}$ 如下：\n$$\n\\beta(t) = \\begin{cases} \\exp\\left(-\\frac{1}{1-t^2}\\right) & \\text{若 } |t| < 1 \\\\ 0 & \\text{若 } |t| \\ge 1 \\end{cases}\n$$\n接下来，通过将 $\\beta$ 的一个平移版本置于每个区间 $U_n = (n, n+2)$ 的中心，来构造一个非负光滑函数族 $\\{\\psi_n\\}_{n \\in \\mathbb{Z}}$。$U_n$ 的中心是 $n+1$，所以我们定义 $\\psi_n(x) = \\beta(x - (n+1))$。最后，单位分解函数 $\\{\\phi_n\\}_{n \\in \\mathbb{Z}}$ 通过将此函数族归一化得到：\n$$\n\\phi_n(x) = \\frac{\\psi_n(x)}{\\sum_{k \\in \\mathbb{Z}} \\psi_k(x)}\n$$\n使用这个显式构造，计算函数 $\\phi_0$ 在点 $x = \\frac{1}{3}$ 处的精确值。将你的答案表示为单个闭式解析表达式。", "solution": "给定当 $|t|<1$ 时 $\\beta(t)=\\exp\\left(-\\frac{1}{1-t^{2}}\\right)$，否则为 $0$；以及 $\\psi_{n}(x)=\\beta\\left(x-(n+1)\\right)$ 和 $\\phi_{n}(x)=\\dfrac{\\psi_{n}(x)}{\\sum_{k\\in\\mathbb{Z}}\\psi_{k}(x)}$。我们需要求 $\\phi_{0}\\left(\\frac{1}{3}\\right)$。\n\n首先，确定在 $x=\\frac{1}{3}$ 处哪些 $\\psi_{k}$ 是非零的。因为仅当 $\\left|x-(k+1)\\right|<1$ 时 $\\psi_{k}(x)\\neq 0$，我们求解\n$$\n\\left|\\frac{1}{3}-(k+1)\\right|<1 \\quad\\Longleftrightarrow\\quad -1<\\frac{1}{3}-k-1<1 \\quad\\Longleftrightarrow\\quad -1<-k-\\frac{2}{3}<1.\n$$\n乘以 $-1$ 并反转不等号得到\n$$\n1>k+\\frac{2}{3}>-1 \\quad\\Longleftrightarrow\\quad \\frac{1}{3}>k>-\\frac{5}{3}.\n$$\n满足此条件的唯一整数是 $k=-1$ 和 $k=0$。因此\n$$\n\\phi_{0}\\left(\\frac{1}{3}\\right)=\\frac{\\psi_{0}\\left(\\frac{1}{3}\\right)}{\\psi_{-1}\\left(\\frac{1}{3}\\right)+\\psi_{0}\\left(\\frac{1}{3}\\right)}=\\frac{\\beta\\left(\\frac{1}{3}-1\\right)}{\\beta\\left(\\frac{1}{3}-0\\right)+\\beta\\left(\\frac{1}{3}-1\\right)}=\\frac{\\beta\\left(-\\frac{2}{3}\\right)}{\\beta\\left(\\frac{1}{3}\\right)+\\beta\\left(-\\frac{2}{3}\\right)}.\n$$\n因为当 $|t|<1$ 时 $\\beta$ 仅依赖于 $t^{2}$，所以它是偶函数，故 $\\beta\\left(-\\frac{2}{3}\\right)=\\beta\\left(\\frac{2}{3}\\right)$。对于 $|t|<1$ 我们计算\n$$\n\\beta\\left(\\frac{1}{3}\\right)=\\exp\\left(-\\frac{1}{1-\\left(\\frac{1}{3}\\right)^{2}}\\right)=\\exp\\left(-\\frac{1}{1-\\frac{1}{9}}\\right)=\\exp\\left(-\\frac{1}{\\frac{8}{9}}\\right)=\\exp\\left(-\\frac{9}{8}\\right),\n$$\n$$\n\\beta\\left(\\frac{2}{3}\\right)=\\exp\\left(-\\frac{1}{1-\\left(\\frac{2}{3}\\right)^{2}}\\right)=\\exp\\left(-\\frac{1}{1-\\frac{4}{9}}\\right)=\\exp\\left(-\\frac{1}{\\frac{5}{9}}\\right)=\\exp\\left(-\\frac{9}{5}\\right).\n$$\n因此\n$$\n\\phi_{0}\\left(\\frac{1}{3}\\right)=\\frac{\\exp\\left(-\\frac{9}{5}\\right)}{\\exp\\left(-\\frac{9}{8}\\right)+\\exp\\left(-\\frac{9}{5}\\right)}.\n$$\n从分子和分母中提出因子 $\\exp\\left(-\\frac{9}{5}\\right)$ 来化简：\n$$\n\\phi_{0}\\left(\\frac{1}{3}\\right)=\\frac{1}{\\frac{\\exp(-9/8)}{\\exp(-9/5)}+1}=\\frac{1}{\\exp(-9/8+9/5)+1}=\\frac{1}{1+\\exp\\left(\\frac{27}{40}\\right)}.\n$$\n这是一个单个闭式解析表达式。", "answer": "$$\\boxed{\\frac{1}{1+\\exp\\left(\\frac{27}{40}\\right)}}$$", "id": "1657671"}, {"introduction": "单位分解不仅仅是理论构造，它们还是将局部信息融合成全局图像的强大工具。这个问题探讨了它们如何被用来平滑地“混合”不同的函数，并揭示其导数的一个非常简洁的性质。这个原理在计算机图形学中用于实现平滑过渡，以及在数值方法中用于创建全局近似，都是至关重要的。[@problem_id:1657713]", "problem": "在计算机图形学和数值分析等领域，单位分解提供了一个强大的工具，用于将局部数据平滑地混合成一个全局函数。考虑定义在实数轴 $\\mathbb{R}$ 上的一个有限的光滑非负函数集合 $\\{\\rho_i(x)\\}_{i=1}^N$。如果对于每一个 $x \\in \\mathbb{R}$，这些函数值的和恰好为一：$\\sum_{i=1}^N \\rho_i(x) = 1$，则该集合构成一个*单位分解*。\n\n设 $g(x)$ 是 $\\mathbb{R}$ 上的一个光滑函数，$\\{c_i\\}_{i=1}^N$ 是一组实常数。构造一组新的函数 $\\{f_i(x)\\}_{i=1}^N$，使得 $f_i(x) = g(x) + c_i$。\n\n然后，通过使用单位分解作为权重来混合函数 $f_i(x)$，定义一个全局函数 $F(x)$：\n$$F(x) = \\sum_{i=1}^N \\rho_i(x) f_i(x)$$\n求 $F(x)$ 的导数 $F'(x)$ 的一个简化表达式。你的最终表达式应使用 $g'(x)$、常数 $c_i$ 和导数 $\\rho_i'(x)$ 来表示。", "solution": "我们从由单位分解混合得到的全局函数的定义开始：\n$$\nF(x) = \\sum_{i=1}^{N} \\rho_{i}(x) f_{i}(x),\n$$\n其中对每个 $i$ 有 $f_{i}(x) = g(x) + c_{i}$，以及单位分解的性质\n$$\n\\sum_{i=1}^{N} \\rho_{i}(x) = 1 \\quad \\text{for all } x \\in \\mathbb{R}.\n$$\n将 $f_{i}(x)$ 代入 $F(x)$ 可得\n$$\nF(x) = \\sum_{i=1}^{N} \\rho_{i}(x)\\big(g(x) + c_{i}\\big) = g(x)\\sum_{i=1}^{N}\\rho_{i}(x) + \\sum_{i=1}^{N} c_{i}\\rho_{i}(x).\n$$\n使用 $\\sum_{i=1}^{N}\\rho_{i}(x) = 1$，我们简化得到\n$$\nF(x) = g(x) + \\sum_{i=1}^{N} c_{i}\\rho_{i}(x).\n$$\n对两边关于 $x$ 求导，并应用微分的线性性质，可得\n$$\nF'(x) = g'(x) + \\sum_{i=1}^{N} c_{i}\\rho_{i}'(x).\n$$\n或者，使用乘法法则对原求和式进行求导，\n$$\nF'(x) = \\sum_{i=1}^{N} \\big(\\rho_{i}'(x) f_{i}(x) + \\rho_{i}(x) f_{i}'(x)\\big)\n= \\sum_{i=1}^{N} \\rho_{i}'(x)\\big(g(x) + c_{i}\\big) + \\sum_{i=1}^{N} \\rho_{i}(x) g'(x),\n$$\n整理后得到\n$$\nF'(x) = g'(x)\\sum_{i=1}^{N}\\rho_{i}(x) + g(x)\\sum_{i=1}^{N}\\rho_{i}'(x) + \\sum_{i=1}^{N} c_{i}\\rho_{i}'(x).\n$$\n使用 $\\sum_{i=1}^{N}\\rho_{i}(x) = 1$ 并对其求导得到 $\\sum_{i=1}^{N}\\rho_{i}'(x) = 0$，我们再次得到\n$$\nF'(x) = g'(x) + \\sum_{i=1}^{N} c_{i}\\rho_{i}'(x).\n$$\n该式子按要求将导数用 $g'(x)$、常数 $c_{i}$ 和导数 $\\rho_{i}'(x)$ 表示了出来。", "answer": "$$\\boxed{g'(x) + \\sum_{i=1}^{N} c_{i}\\rho_{i}'(x)}$$", "id": "1657713"}]}