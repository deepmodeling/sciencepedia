{"hands_on_practices": [{"introduction": "在几何和计算机图形学中，复杂的变换通常可以分解为一系列更简单的基本操作。这个练习将带你实践一个基本但至关重要的概念：线性变换的复合。通过将一个投影变换与一个旋转变换相结合，你将学习如何通过矩阵乘法来表示复合变换的最终效果，并理解变换顺序的重要性。[@problem_id:1651567]", "problem": "在一个简化的二维计算机图形管线中，一个形状会经过一系列变换的处理。考虑作用于平面 $\\mathbb{R}^2$ 中向量的两个此类线性变换。第一个变换 $P: \\mathbb{R}^2 \\to \\mathbb{R}^2$ 是一个正交投影，它将任意向量映射到x轴上。第二个变换 $R: \\mathbb{R}^2 \\to \\mathbb{R}^2$ 是绕原点逆时针旋转 $\\frac{\\pi}{4}$ 弧度的旋转变换。\n\n一个复合变换 $L: \\mathbb{R}^2 \\to \\mathbb{R}^2$ 是这样形成的：首先将投影 $P$ 应用于一个向量，然后将旋转 $R$ 应用于所得的向量。\n\n求复合线性变换 $L$ 关于 $\\mathbb{R}^2$ 的标准基的 $2 \\times 2$ 标准矩阵表示。", "solution": "问题要求复合线性变换 $L$ 的标准矩阵表示，该变换定义为 $L = R \\circ P$。这意味着对于任意向量 $\\mathbf{v} \\in \\mathbb{R}^2$，有 $L(\\mathbf{v}) = R(P(\\mathbf{v}))$。线性变换的复合所对应的矩阵是它们各自矩阵的乘积。如果 $[P]$ 是投影的矩阵，$[R]$ 是旋转的矩阵，那么复合变换 $L$ 的矩阵（记为 $[L]$）由乘积 $[L] = [R][P]$ 给出。\n\n我们的第一步是求投影 $P$ 的标准矩阵。变换 $P$ 将任意向量 $(x, y)$ 投影到x轴上。该投影的结果是向量 $(x, 0)$。我们可以通过观察它如何变换 $\\mathbb{R}^2$ 的标准基向量 $\\mathbf{e}_1 = (1, 0)$ 和 $\\mathbf{e}_2 = (0, 1)$ 来找到矩阵 $[P]$。\n$\\mathbf{e}_1$在 $P$ 下的像是 $P(\\mathbf{e}_1) = P(1, 0) = (1, 0)$。这构成了矩阵 $[P]$ 的第一列。\n$\\mathbf{e}_2$在 $P$ 下的像是 $P(\\mathbf{e}_2) = P(0, 1) = (0, 0)$。这构成了矩阵 $[P]$ 的第二列。\n因此，投影 $P$ 的矩阵是：\n$$\n[P] = \\begin{pmatrix} 1  0 \\\\ 0  0 \\end{pmatrix}\n$$\n\n我们的第二步是求旋转 $R$ 的标准矩阵。变换 $R$ 是绕原点逆时针旋转角度 $\\theta$ 的旋转。这种旋转的矩阵的一般形式是：\n$$\n[R_\\theta] = \\begin{pmatrix} \\cos\\theta  -\\sin\\theta \\\\ \\sin\\theta  \\cos\\theta \\end{pmatrix}\n$$\n在本例中，角度为 $\\theta = \\frac{\\pi}{4}$ 弧度。我们计算该角度的三角函数值：\n$$\n\\cos\\left(\\frac{\\pi}{4}\\right) = \\frac{\\sqrt{2}}{2}\n$$\n$$\n\\sin\\left(\\frac{\\pi}{4}\\right) = \\frac{\\sqrt{2}}{2}\n$$\n将这些值代入旋转矩阵公式，得到 $R$ 的矩阵：\n$$\n[R] = \\begin{pmatrix} \\frac{\\sqrt{2}}{2}  -\\frac{\\sqrt{2}}{2} \\\\ \\frac{\\sqrt{2}}{2}  \\frac{\\sqrt{2}}{2} \\end{pmatrix}\n$$\n\n最后一步是通过按正确的顺序将矩阵 $[R]$ 和 $[P]$ 相乘来计算复合变换 $L$ 的矩阵，即 $[L] = [R][P]$。\n$$\n[L] = [R][P] = \\begin{pmatrix} \\frac{\\sqrt{2}}{2}  -\\frac{\\sqrt{2}}{2} \\\\ \\frac{\\sqrt{2}}{2}  \\frac{\\sqrt{2}}{2} \\end{pmatrix} \\begin{pmatrix} 1  0 \\\\ 0  0 \\end{pmatrix}\n$$\n我们进行矩阵乘法：\n$$\n[L] = \\begin{pmatrix} \\left(\\frac{\\sqrt{2}}{2}\\right)(1) + \\left(-\\frac{\\sqrt{2}}{2}\\right)(0)  \\left(\\frac{\\sqrt{2}}{2}\\right)(0) + \\left(-\\frac{\\sqrt{2}}{2}\\right)(0) \\\\ \\left(\\frac{\\sqrt{2}}{2}\\right)(1) + \\left(\\frac{\\sqrt{2}}{2}\\right)(0)  \\left(\\frac{\\sqrt{2}}{2}\\right)(0) + \\left(\\frac{\\sqrt{2}}{2}\\right)(0) \\end{pmatrix}\n$$\n$$\n[L] = \\begin{pmatrix} \\frac{\\sqrt{2}}{2}  0 \\\\ \\frac{\\sqrt{2}}{2}  0 \\end{pmatrix}\n$$\n这就是复合变换 $L$ 的标准矩阵表示。", "answer": "$$\\boxed{\\begin{pmatrix} \\frac{\\sqrt{2}}{2}  0 \\\\ \\frac{\\sqrt{2}}{2}  0 \\end{pmatrix}}$$", "id": "1651567"}, {"introduction": "分析线性变换不仅在于计算变换结果，更在于理解其不变的特性，例如不动点。这个练习将不动点的概念与特征向量（对应于特征值 $\\lambda=1$）联系起来，并要求你将一个向量正交投影到由不动点构成的子空间上。[@problem_id:1651563] 通过这个多步骤的实践，你将学会如何整合不同的线性代数工具来揭示变换的深层几何结构。", "problem": "一个线性变换 $T: \\mathbb{R}^2 \\to \\mathbb{R}^2$ 在标准基下由矩阵\n$$ A = \\begin{pmatrix} 3  -2 \\\\ 2  -1 \\end{pmatrix} $$\n表示。若向量 $\\mathbf{x}$ 满足 $T(\\mathbf{x}) = \\mathbf{x}$，则其为该变换的一个不动点。$T$ 的所有不动点的集合构成一条通过原点的直线，我们称之为“不动点直线”。\n\n考虑向量 $\\mathbf{w} = \\begin{pmatrix} 1 \\\\ 3 \\end{pmatrix}$。首先，计算变换后的向量 $\\mathbf{u} = T(\\mathbf{w})$。然后，求该向量 $\\mathbf{u}$ 在变换 $T$ 的不动点直线上的正交投影。\n\n请将你的最终答案表示为列向量。", "solution": "我们已知线性变换 $T: \\mathbb{R}^{2} \\to \\mathbb{R}^{2}$ 由矩阵\n$$\nA=\\begin{pmatrix}3  -2 \\\\ 2  -1\\end{pmatrix}\n$$\n表示。首先，对于 $\\mathbf{w}=\\begin{pmatrix}1 \\\\ 3\\end{pmatrix}$，使用矩阵-向量乘法计算 $\\mathbf{u}=T(\\mathbf{w})$：\n$$\n\\mathbf{u}=A\\mathbf{w}=\\begin{pmatrix}3  -2 \\\\ 2  -1\\end{pmatrix}\\begin{pmatrix}1 \\\\ 3\\end{pmatrix}\n=\\begin{pmatrix}3\\cdot 1+(-2)\\cdot 3 \\\\ 2\\cdot 1+(-1)\\cdot 3\\end{pmatrix}\n=\\begin{pmatrix}-3 \\\\ -1\\end{pmatrix}.\n$$\n\n一个不动点满足 $T(\\mathbf{x})=\\mathbf{x}$，这等价于\n$$\n(A-I)\\mathbf{x}=\\mathbf{0}.\n$$\n计算 $A-I$：\n$$\nA-I=\\begin{pmatrix}3  -2 \\\\ 2  -1\\end{pmatrix}-\\begin{pmatrix}1  0 \\\\ 0  1\\end{pmatrix}\n=\\begin{pmatrix}2  -2 \\\\ 2  -2\\end{pmatrix}.\n$$\n解方程 $(A-I)\\mathbf{x}=\\mathbf{0}$：\n$$\n\\begin{pmatrix}2  -2 \\\\ 2  -2\\end{pmatrix}\\begin{pmatrix}x \\\\ y\\end{pmatrix}=\\begin{pmatrix}0 \\\\ 0\\end{pmatrix}\n\\;\\;\\Longrightarrow\\;\\; 2x-2y=0 \\;\\;\\Longrightarrow\\;\\; x=y.\n$$\n因此，不动点直线是 $\\mathbf{v}=\\begin{pmatrix}1 \\\\ 1\\end{pmatrix}$ 所张成的空间（span）。\n\n在标准内积下，$\\mathbf{u}$ 到 $\\operatorname{span}\\{\\mathbf{v}\\}$ 上的正交投影由下式给出\n$$\n\\operatorname{proj}_{\\mathbf{v}}(\\mathbf{u})=\\frac{\\mathbf{u}\\cdot \\mathbf{v}}{\\mathbf{v}\\cdot \\mathbf{v}}\\,\\mathbf{v}.\n$$\n计算点积：\n$$\n\\mathbf{u}\\cdot \\mathbf{v}=(-3)(1)+(-1)(1)=-4,\\qquad \\mathbf{v}\\cdot \\mathbf{v}=1^{2}+1^{2}=2.\n$$\n因此，\n$$\n\\operatorname{proj}_{\\mathbf{v}}(\\mathbf{u})=\\frac{-4}{2}\\begin{pmatrix}1 \\\\ 1\\end{pmatrix}=\\begin{pmatrix}-2 \\\\ -2\\end{pmatrix}.\n$$\n这就是 $\\mathbf{u}$ 在不动点直线上的正交投影。", "answer": "$$\\boxed{\\begin{pmatrix}-2 \\\\ -2\\end{pmatrix}}$$", "id": "1651563"}, {"introduction": "将向量投影到子空间是数据分析、机器学习和几何学中的一项基本操作。当子空间的基不是标准正交基时，这个问题变得更具挑战性也更贴近实际。这个练习要求你为一个由非正交向量张成的四维空间中的平面构造正交投影矩阵。[@problem_id:1651562] 为了完成这个任务，你需要首先使用格拉姆-施密特（Gram-Schmidt）过程来构建一个标准正交基，这为你提供了一套处理非理想基的完整实践流程。", "problem": "考虑装备有标准点积的4维欧几里得空间 $\\mathbb{R}^4$。一个2维平面（一个子空间）$W$ 由两个线性无关的向量 $v_1 = (1, 1, 0, 2)$ 和 $v_2 = (0, 1, 1, 1)$ 张成。设 $T: \\mathbb{R}^4 \\to \\mathbb{R}^4$ 是将任意向量 $x \\in \\mathbb{R}^4$ 正交投影到子空间 $W$ 上的线性变换。\n\n求表示该变换相对于 $\\mathbb{R}^4$ 标准基的 $4 \\times 4$ 矩阵 $[T]$。", "solution": "表示到子空间 $W$ 的正交投影的矩阵 $[T]$ 最容易使用 $W$ 的一个标准正交基来构造。给定的向量 $v_1 = (1, 1, 0, 2)$ 和 $v_2 = (0, 1, 1, 1)$ 张成子空间 $W$，但它们不是正交的。我们可以通过计算它们的点积来验证这一点：\n$$v_1 \\cdot v_2 = (1)(0) + (1)(1) + (0)(1) + (2)(1) = 0 + 1 + 0 + 2 = 3 \\neq 0$$\n由于这些向量不是正交的，我们必须首先使用格拉姆-施密特正交化过程来找到子空间 $W$ 的一个标准正交基 $\\{w_1, w_2\\}$。\n\n第1步：求第一个标准正交向量 $w_1$。\n设 $u_1 = v_1 = (1, 1, 0, 2)$。\n$u_1$ 的范数为 $\\|u_1\\| = \\sqrt{1^2 + 1^2 + 0^2 + 2^2} = \\sqrt{1 + 1 + 0 + 4} = \\sqrt{6}$。\n第一个标准正交向量是 $w_1 = \\frac{u_1}{\\|u_1\\|} = \\frac{1}{\\sqrt{6}}(1, 1, 0, 2)$。\n\n第2步：求第二个标准正交向量 $w_2$。\n首先，我们通过从 $v_2$ 中减去 $v_2$ 在 $u_1$ 上的投影来找到一个与 $u_1$ 正交的向量 $u_2$：\n$$u_2 = v_2 - \\text{proj}_{u_1}(v_2) = v_2 - \\frac{v_2 \\cdot u_1}{\\|u_1\\|^2} u_1$$\n我们已经计算出 $v_2 \\cdot u_1 = v_2 \\cdot v_1 = 3$，并且我们知道 $\\|u_1\\|^2 = 6$。\n$$u_2 = (0, 1, 1, 1) - \\frac{3}{6}(1, 1, 0, 2) = (0, 1, 1, 1) - \\left(\\frac{1}{2}, \\frac{1}{2}, 0, 1\\right)$$\n$$u_2 = \\left(0 - \\frac{1}{2}, 1 - \\frac{1}{2}, 1 - 0, 1 - 1\\right) = \\left(-\\frac{1}{2}, \\frac{1}{2}, 1, 0\\right)$$\n现在，我们将 $u_2$ 单位化以得到 $w_2$。 $u_2$ 的范数是：\n$$\\|u_2\\| = \\sqrt{\\left(-\\frac{1}{2}\\right)^2 + \\left(\\frac{1}{2}\\right)^2 + 1^2 + 0^2} = \\sqrt{\\frac{1}{4} + \\frac{1}{4} + 1} = \\sqrt{\\frac{1}{2} + 1} = \\sqrt{\\frac{3}{2}} = \\frac{\\sqrt{6}}{2}$$\n第二个标准正交向量是 $w_2 = \\frac{u_2}{\\|u_2\\|} = \\frac{1}{\\sqrt{6}/2}\\left(-\\frac{1}{2}, \\frac{1}{2}, 1, 0\\right) = \\frac{2}{\\sqrt{6}}\\left(-\\frac{1}{2}, \\frac{1}{2}, 1, 0\\right) = \\frac{1}{\\sqrt{6}}(-1, 1, 2, 0)$。\n所以，$W$ 的一个标准正交基是 $\\{w_1, w_2\\} = \\left\\{ \\frac{1}{\\sqrt{6}}(1, 1, 0, 2), \\frac{1}{\\sqrt{6}}(-1, 1, 2, 0) \\right\\}$。\n\n第3步：构造投影矩阵 $[T]$。\n到一个由标准正交向量集合 $\\{w_1, \\dots, w_k\\}$ 所张成的子空间上的投影矩阵由 $[T] = \\sum_{i=1}^k w_i w_i^T$ 给出。在我们的例子中，$k=2$，所以 $[T] = w_1 w_1^T + w_2 w_2^T$。这等价于构造一个以标准正交基向量为列的矩阵 $Q$ 并计算 $[T] = QQ^T$。\n设 $Q$ 是以 $w_1$ 和 $w_2$ 为列的矩阵：\n$$Q = \\frac{1}{\\sqrt{6}}\\begin{pmatrix} 1  -1 \\\\ 1  1 \\\\ 0  2 \\\\ 2  0 \\end{pmatrix}$$\n那么它的转置是：\n$$Q^T = \\frac{1}{\\sqrt{6}}\\begin{pmatrix} 1  1  0  2 \\\\ -1  1  2  0 \\end{pmatrix}$$\n投影矩阵是 $[T] = QQ^T$：\n$$[T] = \\left(\\frac{1}{\\sqrt{6}}\\right)^2 \\begin{pmatrix} 1  -1 \\\\ 1  1 \\\\ 0  2 \\\\ 2  0 \\end{pmatrix} \\begin{pmatrix} 1  1  0  2 \\\\ -1  1  2  0 \\end{pmatrix}$$\n$$[T] = \\frac{1}{6} \\begin{pmatrix} (1)(1)+(-1)(-1)  (1)(1)+(-1)(1)  (1)(0)+(-1)(2)  (1)(2)+(-1)(0) \\\\ (1)(1)+(1)(-1)  (1)(1)+(1)(1)  (1)(0)+(1)(2)  (1)(2)+(1)(0) \\\\ (0)(1)+(2)(-1)  (0)(1)+(2)(1)  (0)(0)+(2)(2)  (0)(2)+(2)(0) \\\\ (2)(1)+(0)(-1)  (2)(1)+(0)(1)  (2)(0)+(0)(2)  (2)(2)+(0)(0) \\end{pmatrix}$$\n$$[T] = \\frac{1}{6} \\begin{pmatrix} 2  0  -2  2 \\\\ 0  2  2  2 \\\\ -2  2  4  0 \\\\ 2  2  0  4 \\end{pmatrix}$$\n最后，我们通过从矩阵元素中提出因子2来简化：\n$$[T] = \\frac{2}{6} \\begin{pmatrix} 1  0  -1  1 \\\\ 0  1  1  1 \\\\ -1  1  2  0 \\\\ 1  1  0  2 \\end{pmatrix} = \\frac{1}{3} \\begin{pmatrix} 1  0  -1  1 \\\\ 0  1  1  1 \\\\ -1  1  2  0 \\\\ 1  1  0  2 \\end{pmatrix}$$\n将其表示为一个分式元素的单一矩阵：\n$$[T] = \\begin{pmatrix} 1/3  0  -1/3  1/3 \\\\ 0  1/3  1/3  1/3 \\\\ -1/3  1/3  2/3  0 \\\\ 1/3  1/3  0  2/3 \\end{pmatrix}$$", "answer": "$$\\boxed{\\begin{pmatrix} \\frac{1}{3}  0  -\\frac{1}{3}  \\frac{1}{3} \\\\ 0  \\frac{1}{3}  \\frac{1}{3}  \\frac{1}{3} \\\\ -\\frac{1}{3}  \\frac{1}{3}  \\frac{2}{3}  0 \\\\ \\frac{1}{3}  \\frac{1}{3}  0  \\frac{2}{3} \\end{pmatrix}}$$", "id": "1651562"}]}