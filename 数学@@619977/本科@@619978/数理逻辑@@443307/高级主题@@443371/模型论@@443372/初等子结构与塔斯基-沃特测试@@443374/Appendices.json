{"hands_on_practices": [{"introduction": "本练习提供了一个应用塔斯基-沃特测试的经典范例。我们将比较有理数域 $\\mathbb{Q}$ 与其扩张域 $\\mathbb{Q}(\\sqrt{2})$，以说明仅仅是子结构并不足以保证成为初等子结构。解题的关键在于找到一个存在性命题，它在更大的域中为真，其原因恰恰是该域包含了小域所没有的元素（如 $\\sqrt{2}$），从而直接导致塔斯基-沃特判据的核心条件失效。", "problem": "令 $\\mathcal{L}_{\\mathrm{ring}}=\\{0,1,+,\\times\\}$ 为环的语言。考虑 $\\mathcal{L}_{\\mathrm{ring}}$-结构 $M=(\\mathbb{Q},+,\\times,0,1)$ 和 $N=(\\mathbb{Q}(\\sqrt{2}),+,\\times,0,1)$，其中 $\\mathbb{Q}(\\sqrt{2})=\\{a+b\\sqrt{2}\\mid a,b\\in\\mathbb{Q}\\}$。回顾一下，$M$ 是 $N$ 的一个 $\\mathcal{L}_{\\mathrm{ring}}$-子结构，如果 $M\\subseteq N$ 并且 $M$ 上 $0,1,+,\\times$ 的解释是它们在 $N$ 上的限制。再回顾一下，$M$ 是 $N$ 的一个初等子结构，如果对于每个 $\\mathcal{L}_{\\mathrm{ring}}$-公式 $\\varphi(\\bar{x})$ 和每个元组 $\\bar{a}\\in M^{|\\bar{x}|}$，都有 $M\\models\\varphi(\\bar{a})$ 当且仅当 $N\\models\\varphi(\\bar{a})$。Tarski–Vaught检验指出，$M$ 是 $N$ 的一个初等子结构当且仅当对于每个带有来自 $M$ 的参数 $\\bar{a}$ 的 $\\mathcal{L}_{\\mathrm{ring}}$-公式 $\\psi(x,\\bar{a})$，只要 $N\\models\\exists x\\,\\psi(x,\\bar{a})$，就存在一个 $b\\in M$ 使得 $N\\models\\psi(b,\\bar{a})$。\n\n考虑由 $x^2=2$ 给出的无参数公式 $\\varphi(x)$。定义量\n$$\nD \\;=\\; \\left|\\{x\\in N \\mid N \\models \\varphi(x)\\}\\right| \\;-\\; \\left|\\{x\\in M \\mid M \\models \\varphi(x)\\}\\right|.\n$$\n仅使用上述定义和 Tarski–Vaught 检验，论证 $M$ 不是 $N$ 的初等子结构，并计算 $D$ 的精确值。给出 $D$ 的最终数值答案，形式为一个精确整数（无需四舍五入）。", "solution": "该问题要求我们使用 Tarski-Vaught 检验来论证结构 $M=(\\mathbb{Q},+,\\times,0,1)$ 不是 $N=(\\mathbb{Q}(\\sqrt{2}),+,\\times,0,1)$ 的初等子结构，并计算一个特定的量 $D$。\n\n首先，我们进行论证。Tarski-Vaught 检验指出，$M$ 是 $N$ 的一个初等子结构当且仅当对于每个带有来自 $M$ 的参数 $\\bar{a}$ 的 $\\mathcal{L}_{\\mathrm{ring}}$-公式 $\\psi(x,\\bar{a})$，只要 $N\\models\\exists x\\,\\psi(x,\\bar{a})$，就必须存在一个元素 $b\\in M$ 使得 $N\\models\\psi(b,\\bar{a})$。为了表明 $M$ 不是 $N$ 的初等子结构，我们必须为这个条件提供一个反例。也就是说，我们必须找到一个在 $M$ 中带参数的公式 $\\psi(x,\\bar{a})$，使得 $N\\models\\exists x\\,\\psi(x,\\bar{a})$ 为真，但对于所有 $b\\in M$，$N\\models\\psi(b,\\bar{a})$ 为假。\n\n我们考虑问题中给出的公式 $\\varphi(x)$，即 $x^2=2$。这个公式可以用环语言 $\\mathcal{L}_{\\mathrm{ring}}=\\{0,1,+,\\times\\}$ 写成 $x \\times x = 1+1$。该公式有一个自由变量 $x$，并且没有参数。我们可以将其看作是一个公式 $\\psi(x, \\bar{a})$，其中参数元组 $\\bar{a}$ 为空。因此，这些参数自然是来自 $M$ 的。\n\n我们将 Tarski-Vaught 检验应用于存在语句 $\\exists x \\, (x^2=2)$。\n1.  我们必须检查是否 $N \\models \\exists x \\, (x^2=2)$。该语句为真，如果在 $N$ 的全域（即 $\\mathbb{Q}(\\sqrt{2})=\\{a+b\\sqrt{2}\\mid a,b\\in\\mathbb{Q}\\}$）中存在一个元素满足方程 $x^2=2$。这个方程的解是 $x=\\sqrt{2}$ 和 $x=-\\sqrt{2}$。元素 $\\sqrt{2}$可以表示为 $0+1\\cdot\\sqrt{2}$，其中 $0 \\in \\mathbb{Q}$ 且 $1 \\in \\mathbb{Q}$。因此，$\\sqrt{2} \\in \\mathbb{Q}(\\sqrt{2})$。既然在 $N$ 的全域中存在该存在语句的一个见证，我们得出结论：$N \\models \\exists x \\, (x^2=2)$ 为真。\n\n2.  如果 $M$ 是 $N$ 的一个初等子结构，那么 Tarski-Vaught 检验将要求存在一个元素 $b \\in M$ 使得 $N \\models (b^2=2)$。$M$ 的全域是有理数集 $\\mathbb{Q}$。因此，我们必须检查是否存在一个 $b \\in \\mathbb{Q}$ 使得 $b^2=2$。一个公认的数学事实是 $\\sqrt{2}$ 是一个无理数。因此，不存在平方为 $2$ 的有理数 $b$。这意味着对于 $M$ 中的每一个元素 $b$，语句 $N \\models (b^2=2)$ 都是假的。\n\n由于 Tarski-Vaught 条件的前提 ($N \\models \\exists x \\, (x^2=2)$) 为真，但其结论 (存在 $b \\in M$ 使得 $N \\models (b^2=2)$) 为假，因此该条件对于公式 $x^2=2$ 不成立。这证明了 $M$ 不是 $N$ 的初等子结构。\n\n接下来，我们计算 $D$ 的值，定义为：\n$$\nD \\;=\\; \\left|\\{x\\in N \\mid N \\models \\varphi(x)\\}\\right| \\;-\\; \\left|\\{x\\in M \\mid M \\models \\varphi(x)\\}\\right|\n$$\n其中 $\\varphi(x)$ 是公式 $x^2=2$。\n\n第一项是方程 $x^2=2$ 在结构 $N$ 中解集的基数。$N$ 的全域是 $\\mathbb{Q}(\\sqrt{2})$。方程 $x^2=2$ 在实数域中有两个解，$x=\\sqrt{2}$ 和 $x=-\\sqrt{2}$。如前所示，$\\sqrt{2} = 0+1\\sqrt{2} \\in \\mathbb{Q}(\\sqrt{2})$ 并且 $-\\sqrt{2} = 0+(-1)\\sqrt{2} \\in \\mathbb{Q}(\\sqrt{2})$。由于 $\\mathbb{Q}(\\sqrt{2})$ 是一个域，二次多项式 $x^2-2=0$ 最多可以有两个根。因此，在 $N$ 中的解集是 $\\{\\sqrt{2}, -\\sqrt{2}\\}$。该集合的基数是 $2$。\n所以，$\\left|\\{x\\in N \\mid N \\models x^2=2\\}\\right| = 2$。\n\n第二项是方程 $x^2=2$ 在结构 $M$ 中解集的基数。$M$ 的全域是 $\\mathbb{Q}$。我们在寻找满足 $x^2=2$ 的有理数 $x$ 的数量。如前所述，不存在这样的有理数。在 $M$ 中的解集是空集 $\\emptyset$。该集合的基数是 $0$。\n所以，$\\left|\\{x\\in M \\mid M \\models x^2=2\\}\\right| = 0$。\n\n最后，我们计算 $D$：\n$$\nD = 2 - 0 = 2.\n$$", "answer": "$$\\boxed{2}$$", "id": "3040769"}, {"introduction": "在代数域的例子之后，本练习将探讨离散结构中一个更微妙的区分。我们将看到，一个子结构（在此例中是自然数集 $\\mathbb{N}$）即使在所有无量词的陈述上都与其父结构（整数集 $\\mathbb{Z}$）保持一致，但仍然可能不是一个初等子结构。这个练习 [@problem_id:3040786] 有力地揭示了量词赋予了一阶逻辑探测深层结构差异的能力，而这正是塔斯基-沃特测试设计的精髓所在。", "problem": "设 $\\mathcal{L}$ 是一个一阶逻辑 (FOL) 的一阶语言，它包含一个二元关系符号 $R$ 和两个常量符号 $0$ 和 $1$。考虑如下定义的 $\\mathcal{L}$-结构 $\\mathcal{M}$ 和 $\\mathcal{N}$：\n- $\\mathcal{M}$ 的论域是 $M = \\mathbb{N}$，$R^{\\mathcal{M}}(m,n)$ 成立当且仅当 $|m-n|=1$，且 $0^{\\mathcal{M}}=0$，$1^{\\mathcal{M}}=1$。\n- $\\mathcal{N}$ 的论域是 $N = \\mathbb{Z}$，$R^{\\mathcal{N}}(m,n)$ 成立当且仅当 $|m-n|=1$，且 $0^{\\mathcal{N}}=0$，$1^{\\mathcal{N}}=1$。\n\n从子结构、无量词公式、初等子结构的核心定义出发，并使用 Tarski-Vaught 检验，完成以下任务：\n1. 验证 $\\mathcal{M}$ 是 $\\mathcal{N}$ 的一个子结构。\n2. 证明对于所有以 $M$ 中元素为参数的无量词 $\\mathcal{L}$-公式，$\\mathcal{M}$ 和 $\\mathcal{N}$ 的判定一致。\n3. 构造一个以 $M$ 中元素为参数的显式存在 $\\mathcal{L}$-公式，该公式在 $\\mathcal{N}$ 中满足，但在 $M$ 中没有见证元，并解释为什么这表明 $\\mathcal{M}$ 不是 $\\mathcal{N}$ 的初等子结构。\n\n设指示符 $\\chi$ 定义为：如果 $\\mathcal{M}\\preceq\\mathcal{N}$，则 $\\chi=1$；否则 $\\chi=0$。计算 $\\chi$。你的最终答案必须是一个实数。无需四舍五入。", "solution": "该问题要求对两个 $\\mathcal{L}$-结构 $\\mathcal{M}$ 和 $\\mathcal{N}$ 之间的关系进行四个部分的分析，最终计算出指示变量 $\\chi$。语言 $\\mathcal{L}$ 有一个二元关系符号 $R$ 和两个常量符号 $0$ 和 $1$。结构定义如下：\n- $\\mathcal{M}$ 的论域是 $M = \\mathbb{N} = \\{0, 1, 2, \\dots\\}$。符号的解释为 $R^{\\mathcal{M}}(m,n) \\iff |m-n|=1$，$0^{\\mathcal{M}}=0$，以及 $1^{\\mathcal{M}}=1$。\n- $\\mathcal{N}$ 的论域是 $N = \\mathbb{Z} = \\{\\dots, -1, 0, 1, \\dots\\}$。符号的解释为 $R^{\\mathcal{N}}(m,n) \\iff |m-n|=1$，$0^{\\mathcal{N}}=0$，以及 $1^{\\mathcal{N}}=1$。\n\n首先，我们验证问题陈述的有效性。该问题使用一阶逻辑和模型论的精确语言进行陈述。结构和语言都是良定义的数学对象。各项任务是应用子结构和初等子结构定义的标准练习。该问题具有科学依据、是良定的、客观且完整的。因此，该问题是有效的。\n\n**1. 验证 $\\mathcal{M}$ 是 $\\mathcal{N}$ 的子结构**\n\n为了验证 $\\mathcal{M}$ 是 $\\mathcal{N}$ 的子结构（记作 $\\mathcal{M} \\subseteq \\mathcal{N}$），我们必须根据子结构的定义检查三个条件。\n- **条件1：论域包含。** $\\mathcal{M}$ 的论域必须是 $\\mathcal{N}$ 论域的子集。这里，$\\mathcal{M}$ 的论域是 $M = \\mathbb{N}$，$\\mathcal{N}$ 的论域是 $N = \\mathbb{Z}$。$\\mathbb{N} \\subseteq \\mathbb{Z}$ 是集合论的一个基本事实。此条件成立。\n- **条件2：常量的解释。** $\\mathcal{L}$ 中常量符号的解释在两个结构中必须相同。该语言有两个常量符号，$0$ 和 $1$。\n    - 对于常量符号 $0$，我们有 $0^{\\mathcal{M}} = 0$ 和 $0^{\\mathcal{N}} = 0$。因为 $0 \\in M$ 且解释相同，所以此条件满足。\n    - 对于常量符号 $1$，我们有 $1^{\\mathcal{M}} = 1$ 和 $1^{\\mathcal{N}} = 1$。因为 $1 \\in M$ 且解释相同，所以此条件也满足。\n- **条件3：关系的解释。** 对于 $\\mathcal{L}$ 中的任何 k元关系符号和来自较小论域 $M$ 的任意元素 $a_1, \\dots, a_k$，该关系在 $\\mathcal{M}$ 中成立当且仅当它在 $\\mathcal{N}$ 中成立。我们的语言有一个二元关系符号 $R$。我们必须证明对于任意 $m, n \\in M$，我们有 $R^{\\mathcal{M}}(m,n)$ 当且仅当 $R^{\\mathcal{N}}(m,n)$。\n    - 设 $m, n \\in M = \\mathbb{N}$。\n    - 根据 $\\mathcal{M}$ 的定义，$R^{\\mathcal{M}}(m,n)$ 为真当且仅当 $|m-n|=1$。\n    - 因为 $m, n \\in \\mathbb{N}$，所以它们也是 $\\mathbb{Z}$ 的元素。根据 $\\mathcal{N}$ 的定义，$R^{\\mathcal{N}}(m,n)$ 为真当且仅当 $|m-n|=1$。\n    - 对于 $M$ 中的元素，关系成立的条件是相同的。因此，对于所有 $m,n \\in M$，$R^{\\mathcal{M}}(m,n) \\iff R^{\\mathcal{N}}(m,n)$。这等价于陈述 $R^{\\mathcal{M}} = R^{\\mathcal{N}} \\cap (M \\times M)$。此条件成立。\n\n由于所有三个条件都得到满足，所以 $\\mathcal{M}$ 是 $\\mathcal{N}$ 的一个子结构。\n\n**2. 关于无量词公式的一致性**\n\n我们对无量词公式的复杂度进行归纳，证明对于任何此类公式 $\\phi(x_1, \\dots, x_k)$ 和任何参数 $a_1, \\dots, a_k \\in M$，我们有 $\\mathcal{M} \\models \\phi(a_1, \\dots, a_k)$ 当且仅当 $\\mathcal{N} \\models \\phi(a_1, \\dots, a_k)$。\n\n- **基础情形：原子公式。** $\\mathcal{L}$ 中的原子公式形式可以是 $t_1 = t_2$ 或 $R(t_1, t_2)$，其中 $t_1$ 和 $t_2$ 是项。在 $\\mathcal{L}$ 中，项是变量或常量 $0$ 和 $1$。设赋值 $\\sigma$ 将项中的自由变量映射到 $M$ 中的元素。在此赋值下，项 $t$ 的解释 $t^{\\mathcal{M}}[\\sigma]$ 是 $M$ 的一个元素。由于两个结构中常量的解释相同，因此 $t^{\\mathcal{M}}[\\sigma] = t^{\\mathcal{N}}[\\sigma]$。\n    - 对于 $t_1 = t_2$：$\\mathcal{M} \\models (t_1=t_2)[\\sigma] \\iff t_1^{\\mathcal{M}}[\\sigma] = t_2^{\\mathcal{M}}[\\sigma]$。因为 $t_1^{\\mathcal{M}}[\\sigma] = t_1^{\\mathcal{N}}[\\sigma]$ 且 $t_2^{\\mathcal{M}}[\\sigma] = t_2^{\\mathcal{N}}[\\sigma]$，所以这等价于 $t_1^{\\mathcal{N}}[\\sigma] = t_2^{\\mathcal{N}}[\\sigma]$，这又意味着 $\\mathcal{N} \\models (t_1=t_2)[\\sigma]$。\n    - 对于 $R(t_1, t_2)$：设 $m = t_1^{\\mathcal{M}}[\\sigma]$ 且 $n = t_2^{\\mathcal{M}}[\\sigma]$。由于项是使用来自 $M$ 的参数求值的，所以 $m, n \\in M$。因此，$m = t_1^{\\mathcal{N}}[\\sigma]$ 且 $n = t_2^{\\mathcal{N}}[\\sigma]$。我们有 $\\mathcal{M} \\models R(t_1, t_2)[\\sigma] \\iff R^{\\mathcal{M}}(m,n)$。从第1部分我们知道，对于 $m,n \\in M$，$R^{\\mathcal{M}}(m,n) \\iff R^{\\mathcal{N}}(m,n)$。这等价于 $\\mathcal{N} \\models R(t_1, t_2)[\\sigma]$。\n- **归纳步骤。** 假设该性质对于无量词公式 $\\psi_1$ 和 $\\psi_2$ 成立。我们来证明它对于 $\\neg\\psi_1$ 和 $\\psi_1 \\land \\psi_2$ 也成立。设 $\\vec{a} = (a_1, \\dots, a_k)$ 是来自 $M$ 的参数。\n    - 对于 $\\neg\\psi_1$：$\\mathcal{M} \\models \\neg\\psi_1(\\vec{a}) \\iff \\mathcal{M} \\not\\models \\psi_1(\\vec{a})$。根据归纳假设，这等价于 $\\mathcal{N} \\not\\models \\psi_1(\\vec{a})$，而这又等价于 $\\mathcal{N} \\models \\neg\\psi_1(\\vec{a})$。\n    - 对于 $\\psi_1 \\land \\psi_2$：$\\mathcal{M} \\models (\\psi_1 \\land \\psi_2)(\\vec{a}) \\iff \\mathcal{M} \\models \\psi_1(\\vec{a})$ 并且 $\\mathcal{M} \\models \\psi_2(\\vec{a})$。根据对 $\\psi_1$ 和 $\\psi_2$ 的归纳假设，这等价于 $\\mathcal{N} \\models \\psi_1(\\vec{a})$ 并且 $\\mathcal{N} \\models \\psi_2(\\vec{a})$，而这又等价于 $\\mathcal{N} \\models (\\psi_1 \\land \\psi_2)(\\vec{a})$。\n\n归纳证明完成。对于所有以 $M$ 中元素为参数的无量词公式，$\\mathcal{M}$ 和 $\\mathcal{N}$ 的判定一致。\n\n**3. 初等子结构的检验**\n\n如果 $\\mathcal{M}$ 和 $\\mathcal{N}$ 对于所有以 $M$ 中元素为参数的公式判定都一致，则称 $\\mathcal{M}$ 是 $\\mathcal{N}$ 的一个初等子结构，记作 $\\mathcal{M} \\preceq \\mathcal{N}$。Tarski-Vaught 检验提供了一个充分必要条件：$\\mathcal{M} \\preceq \\mathcal{N}$ 当且仅当 $\\mathcal{M} \\subseteq \\mathcal{N}$ 并且对于每个形如 $\\exists y \\, \\phi(y, \\vec{x})$ 的公式和来自 $M$ 的每个参数元组 $\\vec{a}$，如果 $\\mathcal{N} \\models \\exists y \\, \\phi(y, \\vec{a})$，那么必定存在一个见证元 $b \\in M$ 使得 $\\mathcal{N} \\models \\phi(b, \\vec{a})$。\n\n为了证明 $\\mathcal{M}$ 不是 $\\mathcal{N}$ 的初等子结构，我们需要找到一个违反此检验的反例。结构 $\\mathcal{M}$ 和 $\\mathcal{N}$ 之间的关键区别在于 $N$ 中存在负数。在 $\\mathcal{M}$ 中，元素 $0$ 只有一个邻居 $1$。在 $\\mathcal{N}$ 中，$0$ 有两个邻居，$1$ 和 $-1$。\n\n让我们构造一个捕捉此差异的存在公式。考虑带有一个自由变量 $x$ 的公式：\n$$ \\psi(x) \\equiv \\exists y (R(x, y) \\land \\neg(y = 1)) $$\n这个公式断言存在一个不等于 $1$ 的 $x$ 的邻居。让我们使用来自 $M$ 的一个参数，即 $0^{\\mathcal{M}}=0$，代入变量 $x$。实例化后的公式是：\n$$ \\exists y (R(0, y) \\land \\neg(y = 1)) $$\n在此， $0$ 和 $1$ 是语言的常量符号，其解释 $0$ 和 $1$ 都在 $M$ 中。\n\n让我们在 $\\mathcal{N}$ 中检验这个公式：\n- $\\mathcal{N} \\models \\exists y (R(0, y) \\land \\neg(y = 1))$ 吗？\n如果存在一个元素 $b \\in N = \\mathbb{Z}$ 使得 $\\mathcal{N} \\models R(0, b)$ 并且 $\\mathcal{N} \\models \\neg(b=1)$，则该陈述为真。条件 $R^{\\mathcal{N}}(0, b)$ 意味着 $|0-b|=1$，即 $b=1$ 或 $b=-1$。\n- 如果我们选择 $b=1$，子句 $\\neg(b=1)$ 变为 $\\neg(1=1)$，这是假的。\n- 如果我们选择 $b=-1$，子句 $R(0, -1)$ 是真的，因为 $|0-(-1)|=1$，而子句 $\\neg(-1=1)$ 也是真的。\n因此，$y=-1$ 是 $N$ 中的一个见证元。该公式在 $\\mathcal{N}$ 中得到满足。\n\n现在，我们应用 Tarski-Vaught 检验。我们有一个存在公式 $\\exists y \\, \\phi(y)$，其中 $\\phi(y) \\equiv R(0, y) \\land \\neg(y=1)$。我们已经证明了 $\\mathcal{N} \\models \\exists y \\, \\phi(y)$。该检验要求必须在 $M$ 中有一个见证元。也就是说，必须存在一个元素 $b \\in M = \\mathbb{N}$ 使得 $\\mathcal{N} \\models \\phi(b)$。\n让我们检查是否存在这样一个 $b \\in \\mathbb{N}$：\n我们需要找到一个 $b \\in \\mathbb{N}$ 使得 $R^{\\mathcal{N}}(0, b)$ 且 $\\neg(b=1)$。\n条件 $R^{\\mathcal{N}}(0, b)$ 意味着 $|0-b|=1$。因为 $b \\in \\mathbb{N}$，唯一的解是 $b=1$。\n但是公式还要求 $\\neg(b=1)$，这将意味着 $\\neg(1=1)$。这是一个矛盾。\n因此，不存在 $M$ 中的元素 $b$ 可以作为见证元。\n\n公式 $\\exists y (R(0, y) \\land \\neg(y=1))$ 在 $\\mathcal{N}$ 中得到满足（见证元为 $y=-1$），但见证元不在 $M$ 中。Tarski-Vaught 检验失败。这表明 $\\mathcal{M}$ 不是 $\\mathcal{N}$ 的初等子结构。\n\n**4. $\\chi$ 的计算**\n\n变量 $\\chi$ 的定义是：如果 $\\mathcal{M}\\preceq\\mathcal{N}$，则 $\\chi=1$；否则 $\\chi=0$。\n根据第3部分的分析，我们已经严格证明了 $\\mathcal{M}$ 不是 $\\mathcal{N}$ 的初等子结构。\n因此，条件 $\\mathcal{M} \\preceq \\mathcal{N}$ 是假的。\n这意味着 $\\chi$ 必须被赋值为 $0$。", "answer": "$$\\boxed{0}$$", "id": "3040786"}, {"introduction": "为了展示模型论的广泛适用性，最后一个练习将我们的工具应用到图论领域。我们将分析一个星形图及其某个导出子图，并将一个直观的图属性——“存在一个与所有叶节点相连的中心顶点”——转化为一个形式化的一阶逻辑公式。通过这个练习 [@problem_id:3040785]，你将能展示一个结构的“全局”属性如何能被塔斯基-沃特测试检测到，即使从子结构的“局部”视角来看是不可见的，从而巩固你对该测试的理解。", "problem": "设 $\\mathcal{L}=\\{E\\}$ 是简单图的一阶语言，其中 $E(x,y)$ 是一个二元关系符号，旨在解释为对称且反自反的邻接关系。对于一个固定的整数 $n\\geq 2$，定义 $\\mathcal{L}$-结构 $\\mathcal{G}_{n}$，其论域为 $V(\\mathcal{G}_{n})=\\{u,v_{1},\\dots,v_{n}\\}$，且其解释 $E^{\\mathcal{G}_{n}}$ 由对每个 $i\\in\\{1,\\dots,n\\}$ 的 $E^{\\mathcal{G}_{n}}(u,v_{i})$ 给出，此外无其他邻接关系。设 $\\mathcal{S}_{n}$ 是 $\\mathcal{G}_{n}$ 在论域 $V(\\mathcal{S}_{n})=\\{v_{1},\\dots,v_{n}\\}$ 上的导出子结构，因此 $E^{\\mathcal{S}_{n}}$ 是空的。\n\n仅使用一阶结构、初等子结构和 Tarski–Vaught 测试的核心定义，完成以下任务：\n\n1. 在语言 $\\mathcal{L}$ 中构造一个一阶公式 $\\varphi(y,\\bar{a})$，其参数 $\\bar{a}=(v_{1},\\dots,v_{n})$ 来自 $V(\\mathcal{S}_{n})$，使得 $\\mathcal{G}_{n}\\models \\exists y\\,\\varphi(y,\\bar{a})$ 成立，但不存在 $b\\in V(\\mathcal{S}_{n})$ 使得 $\\mathcal{G}_{n}\\models \\varphi(b,\\bar{a})$。解释为什么这证明了 Tarski–Vaught 测试对于 $(\\mathcal{S}_{n},\\mathcal{G}_{n})$ 对的失败，从而说明 $\\mathcal{S}_{n}$ 不是 $\\mathcal{G}_{n}$ 的初等子结构。\n\n2. 设 $q(n)$ 表示形如 $\\exists y\\,\\varphi(y,\\bar{a})$ 的句子的最小量词秩，其参数 $\\bar{a}\\subseteq V(\\mathcal{S}_{n})$，并且该句子如第1项所述证明了 Tarski–Vaught 测试对于 $(\\mathcal{S}_{n},\\mathcal{G}_{n})$ 的失败。明确地将 $q(n)$ 确定为 $n$ 的函数。你的最终答案必须是一个实数值。无需四舍五入。", "solution": "问题要求我们研究图语言 $\\mathcal{L}=\\{E\\}$ 中两个一阶结构 $\\mathcal{G}_n$ 和 $\\mathcal{S}_n$ 之间的关系。结构 $\\mathcal{G}_n$ 是一个星形图，有一个中心顶点 $u$ 和 $n \\geq 2$ 个叶顶点 $v_1, \\dots, v_n$。其论域为 $V(\\mathcal{G}_n)=\\{u, v_1, \\dots, v_n\\}$。二元关系 $E$ 被解释为邻接关系，因此 $E^{\\mathcal{G}_n}(x,y)$ 成立当且仅当 $\\{x,y\\} = \\{u, v_i\\}$ 对某个 $i \\in \\{1, \\dots, n\\}$ 成立。问题指明 $E$ 是反自反的，因此对所有 $x$，$E(x,x)$ 为假。结构 $\\mathcal{S}_n$ 是 $\\mathcal{G}_n$ 在论域 $V(\\mathcal{S}_n)=\\{v_1, \\dots, v_n\\}$ 上的导出子结构。由于在 $\\mathcal{G}_n$ 中 $V(\\mathcal{S}_n)$ 内的任意两个顶点之间没有边，所以结构 $\\mathcal{S}_n$ 是一个有 $n$ 个顶点的空图。\n\n我们将首先使用 Tarski-Vaught 测试证明 $\\mathcal{S}_n$ 不是 $\\mathcal{G}_n$ 的初等子结构，然后确定见证此失败的公式的最小量词秩。\n\n**第1部分：Tarski-Vaught 测试的失败**\n\n一个 $\\mathcal{L}$-结构 $\\mathcal{N}$ 的子结构 $\\mathcal{M}$ 是一个初等子结构，记作 $\\mathcal{M} \\preceq \\mathcal{N}$，如果对于每个一阶公式 $\\psi(x_1, \\dots, x_k)$ 和来自 $\\mathcal{M}$ 论域的任意参数赋值 $a_1, \\dots, a_k$，我们有 $\\mathcal{M} \\models \\psi(a_1, \\dots, a_k)$ 当且仅当 $\\mathcal{N} \\models \\psi(a_1, \\dots, a_k)$。\n\nTarski-Vaught 测试提供了一个等价刻画：$\\mathcal{S}_n$ 是 $\\mathcal{G}_n$ 的初等子结构当且仅当对于每个一阶公式 $\\varphi(y, x_1, \\dots, x_k)$ 和所有来自 $V(\\mathcal{S}_n)$ 的参数 $a_1, \\dots, a_k$，如果 $\\mathcal{G}_n \\models \\exists y \\, \\varphi(y, a_1, \\dots, a_k)$，那么存在一个元素 $b \\in V(\\mathcal{S}_n)$ 使得 $\\mathcal{G}_n \\models \\varphi(b, a_1, \\dots, a_k)$。\n\n为证明 $\\mathcal{S}_n$ 不是 $\\mathcal{G}_n$ 的初等子结构，我们必须找到一个违反此条件的公式和参数。问题陈述所要求的参数集是 $\\bar{a}=(v_1, \\dots, v_n)$。我们寻找一个公式 $\\varphi(y, \\bar{a})$，使得 $\\exists y \\, \\varphi(y, \\bar{a})$ 在 $\\mathcal{G}_n$ 中为真，但其见证元 $y$ 必须在 $V(\\mathcal{S}_n)$ 之外。在 $V(\\mathcal{G}_n)$ 中但不在 $V(\\mathcal{S}_n)$ 中的唯一元素是中心顶点 $u$。$u$ 的一个定义性属性是它与所有顶点 $v_1, \\dots, v_n$ 相邻。我们可以用以下公式表达此属性：\n$$ \\varphi(y, v_1, \\dots, v_n) := E(y, v_1) \\land E(y, v_2) \\land \\dots \\land E(y, v_n) $$\n这可以更紧凑地写为 $\\bigwedge_{i=1}^n E(y, v_i)$。参数是 $\\bar{a}=(v_1, \\dots, v_n)$，它们都在 $V(\\mathcal{S}_n)$ 中。\n\n现在，我们用句子 $\\exists y \\, \\varphi(y, \\bar{a})$ 来测试 Tarski-Vaught 条件。\n首先，我们在 $\\mathcal{G}_n$ 中评估其真值。\n$$ \\mathcal{G}_n \\models \\exists y \\, \\bigwedge_{i=1}^n E(y, v_i) $$\n这个陈述为真。见证元是顶点 $y=u$。根据 $\\mathcal{G}_n$ 的定义，对于所有 $i \\in \\{1, \\dots, n\\}$，$E^{\\mathcal{G}_n}(u, v_i)$ 为真，因此合取式 $\\bigwedge_{i=1}^n E(u, v_i)$ 在 $\\mathcal{G}_n$ 中为真。\n\n其次，我们在子结构的论域 $V(\\mathcal{S}_n) = \\{v_1, \\dots, v_n\\}$ 内检查是否存在见证元。我们必须确定是否存在 $b \\in V(\\mathcal{S}_n)$ 使得 $\\mathcal{G}_n \\models \\varphi(b, \\bar{a})$。设 $b$ 是 $V(\\mathcal{S}_n)$ 的一个任意元素。那么 $b = v_j$ 对某个 $j \\in \\{1, \\dots, n\\}$ 成立。我们必须检查 $\\mathcal{G}_n \\models \\bigwedge_{i=1}^n E(v_j, v_i)$ 是否成立。\n根据 $\\mathcal{G}_n$ 的定义，集合 $\\{v_1, \\dots, v_n\\}$ 中任意两个不同顶点之间没有邻接关系。此外，关系 $E$ 是反自反的，意味着 $E(x,x)$ 总是为假。因此，对于任意 $i, j \\in \\{1, \\dots, n\\}$，原子公式 $E(v_j, v_i)$ 在 $\\mathcal{G}_n$ 中为假。因此，对于 $V(\\mathcal{S}_n)$ 中的任何 $v_j$ 选择，合取式 $\\bigwedge_{i=1}^n E(v_j, v_i)$ 都为假。\n因此，不存在 $b \\in V(\\mathcal{S}_n)$ 可以作为该存在性句子的见证元。\n\n这构成了 Tarski-Vaught 测试的一次失败。我们找到了一个公式 $\\varphi(y, \\bar{a}) = \\bigwedge_{i=1}^n E(y, v_i)$，其参数 $\\bar{a}$ 来自 $V(\\mathcal{S}_n)$，使得 $\\mathcal{G}_n \\models \\exists y \\, \\varphi(y, \\bar{a})$ 为真，但不存在 $b \\in V(\\mathcal{S}_n)$ 使得 $\\mathcal{G}_n \\models \\varphi(b, \\bar{a})$ 成立。因此，$\\mathcal{S}_n$ 不是 $\\mathcal{G}_n$ 的初等子结构。\n\n**第2部分：最小量词秩**\n\n我们被要求找到 $q(n)$，即形如 $\\exists y\\,\\varphi(y,\\bar{a})$ 的句子的最小量词秩，其参数 $\\bar{a}\\subseteq V(\\mathcal{S}_{n})$，并且该句子见证了 $(\\mathcal{S}_{n},\\mathcal{G}_{n})$ 的 Tarski-Vaught 测试的失败。\n\n公式的量词秩是嵌套量词的最大深度。句子的形式是 $\\exists y\\,\\varphi(y,\\bar{a})$。它的量词秩是 $1 + \\text{qr}(\\varphi)$，其中 $\\text{qr}(\\varphi)$ 是 $\\varphi$ 的量词秩。为了最小化总秩，我们应该力求 $\\text{qr}(\\varphi)$ 的最小值，即 $0$。一个公式的量词秩为 $0$ 当且仅当它是无量词的。无量词公式是原子公式的布尔组合。\n\n让我们尝试构造一个总量子秩为 $1$ 的见证句子。这需要找到一个可行的无量词公式 $\\varphi(y, \\bar{a})$。\n考虑一个最小的参数集。设 $\\bar{a} = \\{v_1\\}$。这是一个有效的选择，因为 $v_1 \\in V(\\mathcal{S}_n)$ 且问题允许 $\\bar{a} \\subseteq V(\\mathcal{S}_n)$。\n设公式为 $\\varphi(y, v_1) := E(y, v_1)$。这是一个原子公式，因此它是无量词的，所以 $\\text{qr}(\\varphi)=0$。\n\n对应的句子是 $\\exists y \\, E(y, v_1)$。这个句子的量词秩是 $1 + 0 = 1$。\n我们验证这个句子是否见证了 Tarski-Vaught 测试的失败。\n首先，我们检查 $\\mathcal{G}_n \\models \\exists y \\, E(y, v_1)$ 的真值。这是真的，见证元是 $y=u$，因为 $E^{\\mathcal{G}_n}(u, v_1)$ 成立。\n其次，我们在 $V(\\mathcal{S}_n)$ 中寻找见证元。我们必须确定是否存在 $b \\in V(\\mathcal{S}_n)$ 使得 $\\mathcal{G}_n \\models E(b, v_1)$。$V(\\mathcal{S}_n)$ 中的元素 $b$ 必须形如 $v_j$，其中 $j \\in \\{1, \\dots, n\\}$。\n对于所有 $j \\in \\{1, \\dots, n\\}$，陈述 $E(v_j, v_1)$ 都为假。如果 $j \\neq 1$，它为假是因为不同的叶顶点之间没有边。如果 $j = 1$，陈述 $E(v_1, v_1)$ 为假是因为关系 $E$ 是反自反的。\n因此，$V(\\mathcal{S}_n)$ 中没有元素可以作为见证元。\n\n句子 $\\exists y \\, E(y, v_1)$ 成功地见证了 Tarski-Vaught 测试的失败，其量词秩为 $1$。这对任何 $n \\ge 2$ 都成立。\n因此，对任何 $n \\ge 2$，都存在一个量词秩为 $1$ 的见证句子。这意味着最小量词秩 $q(n)$ 至多为 $1$。\n一个形如 $\\exists y\\,\\varphi(y,\\bar{a})$ 的句子必须至少有一个量词，即 $\\exists y$。因此，其量词秩必须至少为 $1$。\n结合这两个事实，$1 \\le q(n) \\le 1$，我们必然有 $q(n) = 1$。\n\n这对任何整数 $n \\ge 2$ 都成立。因此，$q(n)$ 是常数函数 $q(n)=1$。问题要求将 $q(n)$ 确定为 $n$ 的函数，然后最终答案是一个实数值。唯一一致的解释是函数 $q(n)$ 是常数，而这个单一的数字就是该函数的值。该函数是 $q(n)=1$，其值为 $1$。", "answer": "$$\n\\boxed{1}\n$$", "id": "3040785"}]}