{"hands_on_practices": [{"introduction": "Craig插值定理不仅保证了插值的存在，其证明本身也提供了一种构造方法。本练习将带领你实践这一构造过程，通过一个具体的命题逻辑实例 [@problem_id:3044744]，你将学习如何通过量化消去非共享变量来系统地计算出两个公式之间的插值，从而加深对插值定理构造性证明的理解。", "problem": "设 $\\varphi$ 和 $\\psi$ 是合取范式（CNF）的命题公式，其中 CNF 指的是文字析取的合取。考虑以下具体的 CNF 对\n$$\n\\varphi \\;=\\; (p \\vee q)\\ \\wedge\\ (\\neg p \\vee r)\\ \\wedge\\ (\\neg q \\vee r),\n$$\n$$\n\\psi \\;=\\; r,\n$$\n其中 $p$、$q$ 和 $r$ 是命题变量，$\\neg$ 表示否定，而 $\\vee$ 和 $\\wedge$ 分别表示析取和合取。共享词汇为 $\\mathrm{Var}(\\varphi) \\cap \\mathrm{Var}(\\psi) = \\{r\\}$。\n\n仅使用命题语义学（蕴涵）、合取范式（CNF）的基本定义以及命题量化（存在量化 $\\exists$ 定义为 $\\exists x\\,\\alpha \\equiv \\alpha[x := \\top] \\vee \\alpha[x := \\bot]$）的语义，为蕴涵关系 $\\varphi \\models \\psi$ 计算一个 Craig 插值式 $\\theta$，该插值式满足：\n- 只使用共享变量，\n- 满足 $\\varphi \\models \\theta$，以及\n- 满足 $\\theta \\models \\psi$。\n\n通过命题存在量化显式地消去 $\\varphi$ 的非共享变量来构造 $\\theta$，然后根据基本原理验证这两个蕴涵关系。将您的最终答案表示为 $\\theta$ 的简化闭式公式。", "solution": "该问题经验证是适定问题，在数理逻辑上具有科学依据，且无任何矛盾或歧义。它提出了一个使用规定方法构造 Craig 插值式的标准可解任务。\n\n给定的命题公式为合取范式（CNF）：\n$$\n\\varphi \\;=\\; (p \\vee q)\\ \\wedge\\ (\\neg p \\vee r)\\ \\wedge\\ (\\neg q \\vee r)\n$$\n$$\n\\psi \\;=\\; r\n$$\n每个公式的命题变量集为 $\\mathrm{Var}(\\varphi) = \\{p, q, r\\}$ 和 $\\mathrm{Var}(\\psi) = \\{r\\}$。共享词汇是这两个集合的交集：$\\mathrm{Var}(\\varphi) \\cap \\mathrm{Var}(\\psi) = \\{r\\}$。\n\n对于一个有效的蕴涵 $\\varphi \\models \\psi$，其 Craig 插值式（记为 $\\theta$）是一个必须满足三个基本属性的公式：\n$1$. 插值式的词汇仅限于原始公式的共享词汇：$\\mathrm{Var}(\\theta) \\subseteq \\mathrm{Var}(\\varphi) \\cap \\mathrm{Var}(\\psi)$。在本例中，$\\mathrm{Var}(\\theta) \\subseteq \\{r\\}$。\n$2$. 第一个公式必须蕴涵插值式：$\\varphi \\models \\theta$。\n$3$. 插值式必须蕴涵第二个公式：$\\theta \\models \\psi$。\n\n问题指定 $\\theta$ 应通过对 $\\varphi$ 中的非共享变量进行存在量化来导出。非共享变量是那些在 $\\mathrm{Var}(\\varphi)$ 中但不在 $\\mathrm{Var}(\\psi)$ 中的变量，即集合 $\\{p, q\\}$ 中的变量。因此，$\\theta$ 的构造如下：\n$$\n\\theta = \\exists p \\exists q \\, \\varphi\n$$\n对于公式 $\\alpha$ 中的变量 $x$，命题存在量化的定义由 $\\exists x\\,\\alpha \\equiv \\alpha[x := \\top] \\vee \\alpha[x := \\bot]$ 给出，其中 $\\top$ 表示真，$\\bot$ 表示假。不同变量的量化顺序无关紧要。我们将首先消去 $q$，然后消去 $p$。\n\n第 1 步：从 $\\varphi$ 中消去变量 $q$。\n$$\n\\exists q \\, \\varphi \\equiv \\varphi[q := \\top] \\vee \\varphi[q := \\bot]\n$$\n我们对 $\\varphi$ 进行代入：\n对于析取的左侧，$\\varphi[q := \\top]$：\n$$\n\\varphi[q := \\top] = (p \\vee \\top) \\wedge (\\neg p \\vee r) \\wedge (\\neg \\top \\vee r)\n$$\n应用标准逻辑等价式 $\\alpha \\vee \\top \\equiv \\top$ 和 $\\neg \\top \\equiv \\bot$：\n$$\n\\varphi[q := \\top] \\equiv \\top \\wedge (\\neg p \\vee r) \\wedge (\\bot \\vee r)\n$$\n应用等价式 $\\top \\wedge \\alpha \\equiv \\alpha$ 和 $\\bot \\vee \\alpha \\equiv \\alpha$：\n$$\n\\varphi[q := \\top] \\equiv (\\neg p \\vee r) \\wedge r\n$$\n对于析取的右侧，$\\varphi[q := \\bot]$：\n$$\n\\varphi[q := \\bot] = (p \\vee \\bot) \\wedge (\\neg p \\vee r) \\wedge (\\neg \\bot \\vee r)\n$$\n应用等价式 $\\alpha \\vee \\bot \\equiv \\alpha$ 和 $\\neg \\bot \\equiv \\top$：\n$$\n\\varphi[q := \\bot] \\equiv p \\wedge (\\neg p \\vee r) \\wedge (\\top \\vee r)\n$$\n应用等价式 $\\alpha \\wedge \\top \\equiv \\alpha$ 和 $\\alpha \\vee \\top \\equiv \\top$：\n$$\n\\varphi[q := \\bot] \\equiv p \\wedge (\\neg p \\vee r)\n$$\n结合这两个结果，我们得到：\n$$\n\\exists q \\, \\varphi \\equiv ((\\neg p \\vee r) \\wedge r) \\vee (p \\wedge (\\neg p \\vee r))\n$$\n我们简化这个表达式。对于第一项，我们使用吸收律 $(A \\vee B) \\wedge B \\equiv B$，其中 $A = \\neg p$，$B = r$，得到 $r$。对于第二项，我们使用分配律 $A \\wedge (B \\vee C) \\equiv (A \\wedge B) \\vee (A \\wedge C)$，得到 $(p \\wedge \\neg p) \\vee (p \\wedge r)$。因为 $p \\wedge \\neg p \\equiv \\bot$，这可以简化为 $\\bot \\vee (p \\wedge r) \\equiv p \\wedge r$。\n所以，表达式变为：\n$$\n\\exists q \\, \\varphi \\equiv r \\vee (p \\wedge r)\n$$\n再次使用吸收律 $A \\vee (B \\wedge A) \\equiv A$，其中 $A=r$，$B=p$，我们得到最终的简化结果：\n$$\n\\exists q \\, \\varphi \\equiv r\n$$\n\n第 2 步：从中间结果中消去变量 $p$。\n$$\n\\theta = \\exists p \\, (\\exists q \\, \\varphi) = \\exists p \\, (r)\n$$\n由于公式 $r$ 不包含变量 $p$，存在量化没有效果。应用定义，$\\exists p \\, r \\equiv r[p := \\top] \\vee r[p := \\bot] \\equiv r \\vee r \\equiv r$。\n因此，计算出的插值式是：\n$$\n\\theta = r\n$$\n\n第 3 步：验证 $\\theta = r$ 是一个有效的插值式。\n我们从基本原理出发，检查三个所需的属性。\n\n$1$. 词汇：$\\mathrm{Var}(\\theta) = \\mathrm{Var}(r) = \\{r\\}$。这是共享词汇 $\\{r\\}$ 的子集，因此条件 $\\mathrm{Var}(\\theta) \\subseteq \\{r\\}$ 得到满足。\n\n$2$. 蕴涵 $\\varphi \\models \\theta$：这需要我们证明 $\\varphi \\models r$。我们必须证明 $\\varphi$ 的每个模型也是 $r$ 的模型。我们可以通过反证法来证明。假设存在一个真值赋值 $v$ 使得 $v(\\varphi) = \\top$ 但 $v(r) = \\bot$。\n如果 $v(r) = \\bot$，公式 $\\varphi$ 变为：\n$$\nv((p \\vee q) \\wedge (\\neg p \\vee \\bot) \\wedge (\\neg q \\vee \\bot)) = \\top\n$$\n这个表达式简化为：\n$$\nv((p \\vee q) \\wedge \\neg p \\wedge \\neg q) = \\top\n$$\n要使一个合取式为真，其所有合取项都必须为真。这意味着：\ni. $v(p \\vee q) = \\top$\nii. $v(\\neg p) = \\top \\implies v(p) = \\bot$\niii. $v(\\neg q) = \\top \\implies v(q) = \\bot$\n然而，如果我们将 $v(p) = \\bot$ 和 $v(q) = \\bot$ 代入第一个条件，我们得到 $v(\\bot \\vee \\bot) = \\bot$。这与 $v(p \\vee q) = \\top$ 的要求相矛盾。\n这个矛盾表明我们最初的假设是错误的。因此，$\\varphi$ 的任何模型都不能使 $r$ 为假。蕴涵 $\\varphi \\models r$ 是有效的。\n\n$3$. 蕴涵 $\\theta \\models \\psi$：这需要我们证明 $r \\models r$。我们必须证明前件 $r$ 的每个模型也是后件 $r$ 的模型。设 $v$ 是任何满足 $v(r) = \\top$ 的模型。目标是证明 $v$ 是后件的模型，即证明 $v(r) = \\top$。根据我们的初始假设，这是成立的。该蕴涵是重言有效的。\n\nCraig 插值式的所有三个条件都已满足。插值式的简化闭式公式是 $r$。", "answer": "$$\n\\boxed{r}\n$$", "id": "3044744"}, {"introduction": "Craig插值定理的应用前提是蕴含关系 $\\varphi \\models \\psi$ 必须成立。然而，在逻辑分析中，判断一个蕴含关系是否成立本身就是一个关键任务。这个练习 [@problem_id:3044741] 将挑战你在一阶逻辑的框架下检验一个关于线性序的蕴含关系，你将学习如何通过构造一个反例模型来证伪一个蕴含断言，这是逻辑推理中一项至关重要的技能。", "problem": "设 $L$ 是一个带等词和单个二元关系符号 $$ 的一阶语言。假设所有 $L$-结构都具有非空论域。定义句子 $\\varphi$ 为以下公理的合取，用以编码 $$ 是一个严格线性序：\n- 反自反性：$\\forall x\\, \\neg(x  x)$\n- 传递性：$\\forall x \\forall y \\forall z ((x  y \\wedge y  z) \\rightarrow x  z)$\n- 全序性：$\\forall x \\forall y (x  y \\vee y  x \\vee x = y)$\n\n$\\psi$ 断言 $\\forall x \\exists y (x  y)$，即该序没有最大元。\n\n如果蕴涵为真，返回 0；如果蕴涵为假，返回 1。", "solution": "该问题要求我们判断语义蕴涵 $\\varphi \\models \\psi$ 是否成立。句子 $\\varphi$ 定义了一个严格线性序，而句子 $\\psi$ 断言该序没有最大元。\n\n语义蕴涵 $\\varphi \\models \\psi$ 成立，当且仅当对于每一个 $L$-结构 $\\mathcal{M}$，条件 $\\mathcal{M} \\models \\varphi$ 都蕴涵 $\\mathcal{M} \\models \\psi$。如果这个蕴涵不成立，那么必然存在至少一个反例：一个 $L$-结构 $\\mathcal{M}$，使得 $\\mathcal{M} \\models \\varphi$ 且 $\\mathcal{M} \\not\\models \\psi$。\n\n让我们分析所给出的句子。\n句子 $\\varphi$ 是在一个集合上用关系 $$ 定义严格线性序的公理的合取：\n- 反自反性：$\\forall x\\, \\neg(x  x)$\n- 传递性：$\\forall x \\forall y \\forall z ((x  y \\wedge y  z) \\rightarrow x  z)$\n- 全序性（三分性）：$\\forall x \\forall y (x  y \\vee y  x \\vee x = y)$\n\n句子 $\\psi$ 定义为 $\\forall x \\exists y (x  y)$。这个句子断言对于序中的每一个元素 $x$，都存在另一个元素 $y$ 使得 $x$ 小于 $y$。这等价于说该序没有最大元。\n\n为了确定蕴涵是否成立，我们尝试寻找一个反例。一个反例将是一个 $L$-结构 $\\mathcal{M}$，它是一个严格线性序（满足 $\\varphi$），但有一个最大元（不满足 $\\psi$）。\n\n考虑一个简单的有限非空论域，例如 $\\mathbb{N}_1 = \\{0\\}$。\n- $L$-结构 $\\mathcal{M}_1$ 的论域为 $M_1 = \\{0\\}$。\n- 关系 $^{\\mathcal{M}_1}$ 解释为空集，即对所有 $a, b \\in M_1$，$(a, b) \\notin ^{\\mathcal{M}_1}$。\n我们检查这个结构是否满足 $\\varphi$：\n1. 反自反性：$\\forall x \\in M_1, \\neg(x  x)$。唯一的元素是 0，而 $(0, 0) \\notin ^{\\mathcal{M}_1}$，所以 $\\neg(0  0)$ 为真。该公理成立。\n2. 传递性：$\\forall x, y, z \\in M_1, (x  y \\wedge y  z) \\rightarrow x  z$。由于 $^{\\mathcal{M}_1}$ 是空集，前件 $(x  y \\wedge y  z)$ 总是假的。因此，整个蕴涵式是空洞为真的。该公理成立。\n3. 全序性：$\\forall x, y \\in M_1, x  y \\vee y  x \\vee x = y$。唯一的选择是 $x=0, y=0$。我们必须检查 $0  0 \\vee 0  0 \\vee 0 = 0$。由于 $^{\\mathcal{M}_1}$ 是空的，前两个析取项为假。但第三个析取项 $0=0$ 为真。因此，析取式为真。该公理成立。\n\n因此，$\\mathcal{M}_1 \\models \\varphi$。现在，我们检查 $\\mathcal{M}_1$ 是否满足 $\\psi$。\n$\\psi = \\forall x \\exists y (x  y)$。\n对于 $x=0$，句子要求 $\\exists y \\in M_1$ 使得 $0  y$。但 $M_1$ 中唯一的元素是 $0$，并且我们已经知道 $\\neg(00)$。所以不存在这样的 $y$。\n因此，$\\mathcal{M}_1 \\not\\models \\psi$。\n\n我们已经找到了一个模型 $\\mathcal{M}_1$ 使得 $\\mathcal{M}_1 \\models \\varphi$ 而 $\\mathcal{M}_1 \\not\\models \\psi$。这个反例的存在证明了蕴涵 $\\varphi \\models \\psi$ 不成立。\n\n我们可以选择另一个更直观的反例。设论域为 $\\mathbb{N}_n = \\{0, 1, \\dots, n\\}$，对于某个正整数 $n$，关系 $$ 解释为标准的“小于”关系。\n- $\\mathcal{M}_n = (\\mathbb{N}_n, )$ 是一个严格线性序，所以 $\\mathcal{M}_n \\models \\varphi$。\n- 然而，$\\mathcal{M}_n$ 有一个最大元 $n$。对于 $x=n$，不存在 $y \\in \\mathbb{N}_n$ 使得 $n  y$。因此 $\\mathcal{M}_n \\not\\models \\psi$。\n\n由于我们找到了一个反例，蕴涵 $\\varphi \\models \\psi$ 是假的。\n\n根据问题描述，如果蕴涵为假，则返回 1。", "answer": "$$\\boxed{1}$$", "id": "3044741"}, {"introduction": "插值定理与可定义性之间存在着深刻的联系，Beth可定义性定理是其理论核心。本练习 [@problem_id:3044793] 将通过群论中“中心”这一具体概念，向你展示这一深刻联系。你将分析一个性质如何被隐式定义，并由此推导出它的显式定义，从而体会到逻辑概念在抽象代数等数学分支中的强大应用。", "problem": "设 $\\mathcal{L} = \\{\\cdot, {}^{-1}, e\\}$ 是群论的一阶语言，并设 $T_{\\mathrm{grp}}$ 是群在 $\\mathcal{L}$ 中的标准一阶公理化。考虑通过一个新的单谓词符号 $Z$ 进行的扩张 $\\mathcal{L}' = \\mathcal{L} \\cup \\{Z\\}$。对于一个群 $\\mathcal{M}$，$Z(x)$ 的预期解读是 $x$ 位于 $\\mathcal{M}$ 的中心。\n\n你将分析 $Z$ 在 $T_{\\mathrm{grp}}$ 上的隐式和显式可定义性，然后确定在基础语言 $\\mathcal{L}$ 中显式定义 $Z$ 所需的最小量词复杂度。\n\n任务：\n1. 仅使用隐式可定义性的核心定义和群公理，构建一组 $\\mathcal{L}'$-句子，规定 $Z(x)$ 正好是与基础群中所有元素交换的元素集合。证明相对于 $T_{\\mathrm{grp}}$，这些句子使得 $Z$ 是隐式可定义的，即对于任何固定的 $\\mathcal{L}$-结构 $\\mathcal{M} \\models T_{\\mathrm{grp}}$，至多只有一种对 $Z$ 的可能解释，能将 $\\mathcal{M}$ 变成你的 $\\mathcal{L}'$-理论的模型。\n\n2. 引用 Beth 可定义性定理，得出结论：$Z$ 在基础语言 $\\mathcal{L}$ 上相对于 $T_{\\mathrm{grp}}$ 是显式可定义的。然后，从第一性原理出发，不使用任何简便公式，推导出一个在每个群中定义中心的显式 $\\mathcal{L}$-公式 $\\varphi(x)$。\n\n3. 对于一个一阶公式 $\\psi$，量词秩 $\\mathrm{qr}(\\psi)$ 是 $\\psi$ 中嵌套量词的最大数量。在所有在每个群中定义中心的 $\\mathcal{L}$-公式 $\\varphi(x)$ 中，确定最小可能的量词秩 $r \\in \\mathbb{N}$。将你的最终答案表示为单个整数 $r$。\n\n你的最终答案必须只是整数 $r$。不需要也不允许四舍五入。", "solution": "该问题要求分析群的中心在一阶逻辑中的可定义性。我们将按顺序处理这三个任务。\n\n群论的语言是 $\\mathcal{L} = \\{\\cdot, {}^{-1}, e\\}$，而 $T_{\\mathrm{grp}}$ 是其标准的一阶公理化。扩张语言是 $\\mathcal{L}' = \\mathcal{L} \\cup \\{Z\\}$，其中 $Z$ 是一个单谓词。一个群 $\\mathcal{M}$ 的中心，记作 $C(\\mathcal{M})$，是与群中每个元素都交换的元素的集合，即 $C(\\mathcal{M}) = \\{g \\in M \\mid \\forall h \\in M, g \\cdot h = h \\cdot g\\}$。\n\n**1. 中心的隐式可定义性**\n\n为了规定 $Z(x)$ 表示群的中心，我们在 $T_{\\mathrm{grp}}$ 中加入公理来强制这种对应关系。属性“$x$ 在中心内”等价于一阶陈述“对所有的 $y$，$x$ 与 $y$ 交换”。我们可以用以下两个 $\\mathcal{L}'$-句子来表达这种等价关系：\n\n$\\Sigma_1 := \\forall x (Z(x) \\rightarrow \\forall y (x \\cdot y = y \\cdot x))$\n$\\Sigma_2 := \\forall x ((\\forall y (x \\cdot y = y \\cdot x)) \\rightarrow Z(x))$\n\n设 $T'_{ax} = T_{\\mathrm{grp}} \\cup \\{\\Sigma_1, \\Sigma_2\\}$。我们必须证明这些句子使得 $Z$ 相对于 $T_{\\mathrm{grp}}$ 是隐式可定义的。这意味着对于任何给定的作为 $T_{\\mathrm{grp}}$ 模型的 $\\mathcal{L}$-结构 $\\mathcal{M}$，至多只有一种对谓词 $Z$ 的可能解释，能使得扩张后的结构成为 $T'_{ax}$ 的模型。\n\n设 $\\mathcal{M}$ 是一个任意群，因此 $\\mathcal{M} \\models T_{\\mathrm{grp}}$。设 $M$ 是 $\\mathcal{M}$ 的基础集。$Z$ 在 $\\mathcal{M}$ 中的一个解释是 $M$ 的一个子集 $Z^{\\mathcal{M}} \\subseteq M$。为了证明唯一性，我们假设存在两种这样的解释，$Z_1^{\\mathcal{M}} \\subseteq M$ 和 $Z_2^{\\mathcal{M}} \\subseteq M$，使得扩张后的结构 $(\\mathcal{M}, Z_1^{\\mathcal{M}})$ 和 $(\\mathcal{M}, Z_2^{\\mathcal{M}})$ 都是 $T'_{ax}$ 的模型。\n\n这意味着 $(\\mathcal{M}, Z_1^{\\mathcal{M}}) \\models \\Sigma_1 \\land \\Sigma_2$ 并且 $(\\mathcal{M}, Z_2^{\\mathcal{M}}) \\models \\Sigma_1 \\land \\Sigma_2$。\n合取式 $\\Sigma_1 \\land \\Sigma_2$ 逻辑上等价于单个句子 $\\forall x (Z(x) \\leftrightarrow \\forall y (x \\cdot y = y \\cdot x))$。\n\n对于第一种解释 $Z_1^{\\mathcal{M}}$，对任意元素 $a \\in M$，我们有：\n$(\\mathcal{M}, Z_1^{\\mathcal{M}}) \\models Z(a) \\leftrightarrow \\forall y (a \\cdot y = y \\cdot a)$。\n这意味着 $a \\in Z_1^{\\mathcal{M}}$ 当且仅当 $(\\mathcal{M}, Z_1^{\\mathcal{M}}) \\models \\forall y (a \\cdot y = y \\cdot a)$。\n\n公式 $\\forall y (a \\cdot y = y \\cdot a)$ 是在结构 $\\mathcal{M}$ 中带有一个来自 $M$ 的参数 $a$ 的 $\\mathcal{L}$-句子。其真值仅依赖于结构 $\\mathcal{M}$ 和元素 $a$，而不依赖于 $Z$ 的解释。因此，我们可以写成：\n$a \\in Z_1^{\\mathcal{M}} \\iff \\mathcal{M} \\models \\forall y (a \\cdot y = y \\cdot a)$。\n\n类似地，对于第二种解释 $Z_2^{\\mathcal{M}}$，对同一个元素 $a \\in M$，我们有：\n$a \\in Z_2^{\\mathcal{M}} \\iff \\mathcal{M} \\models \\forall y (a \\cdot y = y \\cdot a)$。\n\n结合这两个等价关系，我们得到：\n$a \\in Z_1^{\\mathcal{M}} \\iff a \\in Z_2^{\\mathcal{M}}$。\n这对任意元素 $a \\in M$ 都成立。因此，这两个集合必须是相同的：$Z_1^{\\mathcal{M}} = Z_2^{\\mathcal{M}}$。\n\n这表明，对于 $T_{\\mathrm{grp}}$ 的任何模型 $\\mathcal{M}$，至多只有一种（实际上是恰好一种）对 $Z$ 的解释能满足 $T'_{ax}$ 中的公理。根据定义，谓词 $Z$ 由理论 $T'_{ax}$ 相对于 $T_{\\mathrm{grp}}$ 隐式定义。\n\n**2. 显式可定义性及公式推导**\n\nBeth 可定义性定理指出，如果一种语言 $\\mathcal{L}' = \\mathcal{L} \\cup \\{P\\}$ 中的理论 $T'$ 在语言 $\\mathcal{L}$ 中的理论 $T$ 上隐式定义了一个谓词 $P$，那么 $P$ 在 $\\mathcal{L}$ 上相对于 $T$ 是显式可定义的。也就是说，存在一个带有一个自由变量 $x$ 的 $\\mathcal{L}$-公式 $\\varphi(x)$，使得 $T' \\models \\forall x (P(x) \\leftrightarrow \\varphi(x))$。\n\n从第 1 部分，我们确定了 $Z$ 由公理 $\\{\\Sigma_1, \\Sigma_2\\}$ 相对于 $T_{\\mathrm{grp}}$ 隐式定义。根据 Beth 定理，我们可以得出结论，$Z$ 必须在基础语言 $\\mathcal{L}$ 中是显式可定义的。\n\n为了推导显式公式 $\\varphi(x)$，我们考察其隐式定义本身。公理 $\\Sigma_1$ 和 $\\Sigma_2$ 合在一起等价于句子 $\\forall x (Z(x) \\leftrightarrow \\forall y (x \\cdot y = y \\cdot x))$。这个句子直接提供了所需的 $\\mathcal{L}$-公式。我们定义 $\\varphi(x)$ 为该等价式的右侧：\n$\\varphi(x) := \\forall y (x \\cdot y = y \\cdot x)$。\n\n这是一个带有一个自由变量 $x$ 的 $\\mathcal{L}$-公式。对于任何群 $\\mathcal{M}$ 和任何元素 $a \\in M$，陈述 $\\mathcal{M} \\models \\varphi(a)$ 成立当且仅当 $\\mathcal{M} \\models \\forall y (a \\cdot y = y \\cdot a)$，这成立当且仅当对于每个 $b \\in M$，等式 $a \\cdot b = b \\cdot a$ 成立。这正是 $a$ 是 $\\mathcal{M}$ 中心元素的定义。因此，公式 $\\varphi(x)$ 在任何群中都定义了中心，并且是 Beth 定理所保证的 $Z$ 的显式定义。\n\n**3. 最小量词秩**\n\n一阶公式 $\\psi$ 的量词秩，记作 $\\mathrm{qr}(\\psi)$，是嵌套量词的最大深度。\n- 对于原子公式，$\\mathrm{qr}(\\psi) = 0$。\n- $\\mathrm{qr}(\\neg \\psi) = \\mathrm{qr}(\\psi)$。\n- 对于 $\\circ \\in \\{\\land, \\lor\\}$，$\\mathrm{qr}(\\psi_1 \\circ \\psi_2) = \\max(\\mathrm{qr}(\\psi_1), \\mathrm{qr}(\\psi_2))$。\n- $\\mathrm{qr}(\\forall v \\psi) = \\mathrm{qr}(\\exists v \\psi) = 1 + \\mathrm{qr}(\\psi)$。\n\n我们首先计算在第 2 部分中找到的公式 $\\varphi(x) = \\forall y (x \\cdot y = y \\cdot x)$ 的量词秩。\n最内部的部分 $x \\cdot y = y \\cdot x$ 是一个原子公式。其量词秩为 $0$。\n公式 $\\varphi(x)$ 是通过对该原子公式应用一个全称量词 $\\forall y$ 形成的。\n因此，$\\mathrm{qr}(\\varphi(x)) = 1 + \\mathrm{qr}(x \\cdot y = y \\cdot x) = 1 + 0 = 1$。\n这表明存在一个定义中心的公式，其量词秩为 $1$。因此，最小可能秩 $r$ 必须满足 $r \\le 1$。\n\n现在，我们必须确定秩是否可以为 $0$。量词秩为 $0$ 的公式是无量词公式。我们假设存在一个无量词的 $\\mathcal{L}$-公式 $\\psi(x)$ 在每个群中都定义了中心，以导出矛盾。\n\n在语言 $\\mathcal{L}$ 中任何含单个变量 $x$ 的项（例如 $(x \\cdot e) \\cdot x^{-1}$）在任何群中都等价于 $x$ 的某个幂，即 $x^k$，其中 $k \\in \\mathbb{Z}$ 是某个整数。因此，任何原子公式 $t_1(x) = t_2(x)$ 在 $T_{\\mathrm{grp}}$ 上都等价于形如 $x^k = e$ 的公式，其中 $k \\in \\mathbb{Z}$。\n一个无量词公式 $\\psi(x)$ 是这类原子公式的布尔组合。\n\n如果 $\\psi(x)$ 定义了中心，那么对于任何一个阿贝尔群 $\\mathcal{A}$，其中心就是整个群，$Z(\\mathcal{A})=\\mathcal{A}$。因此，对于任何阿贝尔群 $\\mathcal{A}$，我们必须有 $\\mathcal{A} \\models \\forall x \\psi(x)$。\n\n设 $\\psi(x)$ 的原子子公式中出现的指数为 $k_1, \\dots, k_m$。设 $p$ 是一个素数，使得对于所有的 $i=1,\\dots,m$ 都有 $p  |k_i|$。考虑 $p$ 阶循环群 $\\mathbb{Z}_p$。这个群是阿贝尔群，所以它的中心是整个 $\\mathbb{Z}_p$。因此，$\\mathbb{Z}_p \\models \\forall x \\psi(x)$。\n\n在 $\\mathbb{Z}_p$ 中（使用加法符号），原子公式 $x^k=e$ 变为 $k \\cdot x = 0$。因为 $p$ 是素数且 $p$ 不能整除 $k_i$（因为 $p  |k_i|$），方程 $k_i \\cdot x = 0 \\pmod p$ 等价于 $x=0$（即 $x=e$）。\n所以，在 $\\mathbb{Z}_p$ 中，每个原子公式 $x^{k_i}=e$（对于 $k_i \\neq 0$）都等价于 $x=e$。任何原子公式 $x^0=e$ 都是 $e=e$，一个重言式。\n因此，在 $\\mathbb{Z}_p$ 中，公式 $\\psi(x)$ 逻辑上等价于某个布尔表达式 $B(p_0, p_1, \\dots, p_m)$，其中 $p_0$ 是 $e=e$ 的真值（真），而对于 $i0$，$p_i$ 是 $x=e$ 的真值。\n所以 $\\psi(x)$ 等价于 $B'(\\text{truth of } x=e)$。\n因为我们必须有 $\\mathbb{Z}_p \\models \\forall x \\psi(x)$，所以 $\\psi(x)$ 对 $\\mathbb{Z}_p$ 的所有元素都必须为真。\n- 对于 $x=e$，$x=e$ 的真值为“真”。所以 $B'(\\text{true})$ 必须为真。\n- 对于任何 $x \\neq e$，$x=e$ 的真值为“假”。所以 $B'(\\text{false})$ 必须为真。\n这意味着布尔表达式 $B'$ 必须是一个重言式，无论其输入如何，其值总是真。\n\n现在，考虑一个结论必须不同的群。设 $F_2$ 是两个生成元上的自由群。$F_2$ 是非阿贝尔群，其中心是平凡的，$Z(F_2) = \\{e\\}$。\n如果 $\\psi(x)$ 定义了中心，那么对于任何非单位元 $g \\in F_2$（即 $g \\neq e$），我们必须有 $F_2 \\models \\neg \\psi(g)$。\n任取一个这样的 $g \\neq e$。在 $F_2$ 中，每个非单位元都有无限阶。因此，对于任何 $k \\neq 0$，$g^k \\neq e$。\n当计算 $\\psi(g)$ 时，每个原子公式 $g^{k_i}=e$（其中 $k_i \\neq 0$）都为假。公式 $g^0=e$ 为真。这与在 $\\mathbb{Z}_p$ 中对一个元素 $x \\neq e$ 的真值赋值相同。\n因此，$\\psi(g)$ 的真值由相同的布尔表达式 $B'(\\text{false})$ 给出。\n从我们对 $\\mathbb{Z}_p$ 的分析中，我们得出结论 $B'(\\text{false})$ 必须为真。\n所以，$\\psi(g)$ 对于 $F_2$ 中任何 $g \\neq e$ 都必须为真。\n这与 $\\psi(x)$ 据称定义中心的事实相矛盾，因为这要求 $\\psi(g)$ 对于 $F_2$ 中所有 $g \\neq e$ 都为假。\n\n假设存在这样的无量词公式 $\\psi(x)$ 会导致矛盾。因此，不存在无量词公式可以定义群的中心。\n最小量词秩 $r$ 必须大于 $0$。\n既然我们找到了一个秩为 1 的公式，并且证明了秩为 0 是不可能的，那么最小量词秩必须恰好是 1。\n\n因此，最小量词秩 $r$ 是 $1$。", "answer": "$$\\boxed{1}$$", "id": "3044793"}]}