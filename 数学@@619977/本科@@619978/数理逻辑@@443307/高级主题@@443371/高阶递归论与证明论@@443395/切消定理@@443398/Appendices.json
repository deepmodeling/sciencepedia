{"hands_on_practices": [{"introduction": "理解切消消除定理的最佳方式之一是亲手操作其核心机制。本练习将演示一个“主要切消”（principal cut）的简化过程，这是当切消公式本身是其两个前提推导中最后一步引入的公式时的情况。我们将看到一个作用于合取公式 $A \\land B$ 上的切消是如何被转换为作用于其更简单的子公式 $A$ 和 $B$ 上的两个新切消的，并在这个过程中量化复杂度的降低 [@problem_id:3056247]。", "problem": "考虑经典逻辑的 Gentzen 相继式演算（LK）。一个相继式具有 $\\Gamma \\Rightarrow \\Delta$ 的形式，其中 $\\Gamma$ 和 $\\Delta$ 是（可能为空的）公式的有限多重集。切消规则和合取（$\\land$）规则由以下推理模式给出：\n$$\n\\frac{\\Gamma \\Rightarrow \\Delta, C \\qquad \\Gamma', C \\Rightarrow \\Delta'}{\\Gamma, \\Gamma' \\Rightarrow \\Delta, \\Delta'} \\quad \\text{(cut on $C$)}\n$$\n$$\n\\frac{\\Gamma \\Rightarrow \\Delta, A \\qquad \\Gamma \\Rightarrow \\Delta, B}{\\Gamma \\Rightarrow \\Delta, A \\land B} \\quad (\\land R)\n\\qquad\\qquad\n\\frac{\\Gamma, A, B \\Rightarrow \\Delta}{\\Gamma, A \\land B \\Rightarrow \\Delta} \\quad (\\land L)\n$$\n如果一个切消中的公式 $C$ 是该切消两个前提中最后一次推理的主公式，则称该切消为关于公式 $C$ 的主切消。\n\n一个公式 $F$ 的复杂度（也称为阶）$c(F)$ 归纳定义如下：\n- 对于每个原子命题变量 $p$，$c(p) = 0$，\n- $c(\\lnot F) = c(F) + 1$，\n- $c(F \\land G) = \\max\\{c(F), c(G)\\} + 1$，\n- $c(F \\lor G) = \\max\\{c(F), c(G)\\} + 1$，\n- $c(F \\to G) = \\max\\{c(F) + 1, c(G)\\} + 1$。\n\n一个推导的最大切消阶是在该推导中所有切消规则实例上的 $c(C)$ 的最大值，其中 $C$ 是该实例的切消公式。\n\n构造以下关于 $A \\land B$ 的主切消的例子：\n$$\n\\frac{\n\\frac{\\Gamma \\Rightarrow \\Delta, A \\qquad \\Gamma \\Rightarrow \\Delta, B}{\\Gamma \\Rightarrow \\Delta, A \\land B}\\ (\\land R)\n\\qquad\n\\frac{\\Gamma', A, B \\Rightarrow \\Delta'}{\\Gamma', A \\land B \\Rightarrow \\Delta'}\\ (\\land L)\n}{\n\\Gamma, \\Gamma' \\Rightarrow \\Delta, \\Delta'\n}\\ \\text{(cut on $A \\land B$)}\n$$\n通过给出消解后的推导，证明标准的切消-消解步骤将这个关于 $A \\land B$ 的主切消替换为两个切消，一个作用于 $A$，一个作用于 $B$：\n$$\n\\frac{\n\\Gamma \\Rightarrow \\Delta, A\n\\qquad\n\\frac{\\Gamma \\Rightarrow \\Delta, B \\qquad \\Gamma', A, B \\Rightarrow \\Delta'}{\\Gamma, \\Gamma', A \\Rightarrow \\Delta, \\Delta'}\\ \\text{(cut on $B$)}\n}{\n\\Gamma, \\Gamma' \\Rightarrow \\Delta, \\Delta'\n}\\ \\text{(cut on $A$)}\n$$\n\n使用上面的复杂度函数 $c(\\cdot)$，将 $A$ 和 $B$ 实例化为原子公式 $P$ 和 $Q$。计算此消解所导致的最大切消阶的严格减少的数值，即，对给定示例计算 $c_{\\text{before}}^{\\max} - c_{\\text{after}}^{\\max}$。以精确整数形式报告你的答案。无需四舍五入。", "solution": "用户提供了一个来自数理逻辑领域的问题，具体涉及证明论，关于 Gentzen 的相继式演算 LK 的切消消解定理。任务是分析一个作用于合取公式的主切消的特定切消-消解步骤，并计算在公式的特定实例化下，最大切消阶的相应减少量。\n\n该问题是有效的，因为它基于证明论的标准、公认的原则。所有术语都有正式定义，设置是自洽和一致的，问题是客观且表述清晰的。\n\n初始推导，我们将其表示为 $\\mathcal{D}_1$，包含一次切消规则的应用：\n$$\n\\frac{\n\\frac{\\Gamma \\Rightarrow \\Delta, A \\qquad \\Gamma \\Rightarrow \\Delta, B}{\\Gamma \\Rightarrow \\Delta, A \\land B}\\ (\\land R)\n\\qquad\n\\frac{\\Gamma', A, B \\Rightarrow \\Delta'}{\\Gamma', A \\land B \\Rightarrow \\Delta'}\\ (\\land L)\n}{\n\\Gamma, \\Gamma' \\Rightarrow \\Delta, \\Delta'\n}\\ \\text{(cut on $A \\land B$)}\n$$\n这是一个主切消，因为切消公式 $A \\land B$ 是两个前提中最后一次推理的主公式：左边是 $(\\land R)$ 规则，右边是 $(\\land L)$ 规则。\n\n一个推导的最大切消阶是该推导中任何切消公式的最大复杂度。在 $\\mathcal{D}_1$ 中，只有一个切消，其切消公式是 $A \\land B$。因此，“之前”推导的最大切消阶为：\n$$\nc_{\\text{before}}^{\\max} = c(A \\land B)\n$$\n使用所提供的合取复杂度定义，$c(F \\land G) = \\max\\{c(F), c(G)\\} + 1$，我们有：\n$$\nc_{\\text{before}}^{\\max} = \\max\\{c(A), c(B)\\} + 1\n$$\n\n然后，问题给出了消解后的推导，我们将其表示为 $\\mathcal{D}_2$：\n$$\n\\frac{\n\\Gamma \\Rightarrow \\Delta, A\n\\qquad\n\\frac{\\Gamma \\Rightarrow \\Delta, B \\qquad \\Gamma', A, B \\Rightarrow \\Delta'}{\\Gamma, \\Gamma', A \\Rightarrow \\Delta, \\Delta'}\\ \\text{(cut on $B$)}\n}{\n\\Gamma, \\Gamma' \\Rightarrow \\Delta, \\Delta'\n}\\ \\text{(cut on $A$)}\n$$\n这个新的推导 $\\mathcal{D}_2$ 将复合公式 $A \\land B$ 上的单个切消替换为其直接子公式 $A$ 和 $B$ 上的两个新切消。第一个切消（内部的那个）的切消公式是 $B$。第二个切消（外部的那个）的切消公式是 $A$。\n\n在 $\\mathcal{D}_2$ 中，切消公式的集合是 $\\{A, B\\}$。这个“之后”推导的最大切消阶是这两个切消公式复杂度的最大值：\n$$\nc_{\\text{after}}^{\\max} = \\max\\{c(A), c(B)\\}\n$$\n这个消解步骤是切消消解定理归纳证明的一个关键组成部分。它表明，一个主切消可以被消解，并被复杂度严格更小的公式上的切消所取代，将切消在证明树中“向上”推，直到它们作用于原子公式上并可以被完全移除。\n\n问题要求我们计算最大切消阶的严格减少量 $c_{\\text{before}}^{\\max} - c_{\\text{after}}^{\\max}$，具体情况是 $A$ 和 $B$ 分别被实例化为原子公式 $P$ 和 $Q$。因此，我们设 $A = P$ 和 $B = Q$。\n\n根据所提供的复杂度定义，对于任何原子命题变量 $p$，其复杂度为 $c(p) = 0$。因此，我们有：\n$$\nc(A) = c(P) = 0\n$$\n$$\nc(B) = c(Q) = 0\n$$\n\n现在我们可以计算最大切消阶的数值。\n对于“之前”的推导 $\\mathcal{D}_1$：\n$$\nc_{\\text{before}}^{\\max} = c(P \\land Q) = \\max\\{c(P), c(Q)\\} + 1 = \\max\\{0, 0\\} + 1 = 0 + 1 = 1\n$$\n\n对于“之后”的推导 $\\mathcal{D}_2$：\n$$\nc_{\\text{after}}^{\\max} = \\max\\{c(P), c(Q)\\} = \\max\\{0, 0\\} = 0\n$$\n\n最后，我们计算最大切消阶的严格减少量：\n$$\nc_{\\text{before}}^{\\max} - c_{\\text{after}}^{\\max} = 1 - 0 = 1\n$$\n最大切消阶的减少量是 $1$。这说明了切消消解过程工作的基本机制：用作用于更简单组成部分的切消来替换作用于复杂公式上的切消，从而降低一个良基的复杂度度量（切消公式的阶）。", "answer": "$$\\boxed{1}$$", "id": "3056247"}, {"introduction": "在证明中，并非所有切消都是主要切消。此练习处理了另一种常见情况：当切消规则出现在另一个逻辑规则（例如结构性的弱化规则）之下时，我们需要重新排列这些规则的顺序。我们将通过一个具体的例子来验证，将切消规则“向上”移动越过弱化规则的这种“置换转换”（permutative conversion）不会增加证明的切消秩 [@problem_id:3056244]。这一性质是确保整个切消消除过程最终能够终止的关键。", "problem": "在 Gentzen 的经典逻辑相继式演算 (LK) 中进行演算。使用以下规则和定义。\n\n1. 左弱化 $(\\mathrm{LW})$：从相继式 $\\Gamma \\Rightarrow \\Delta$ 的一个推导，可以推导出相继式 $B, \\Gamma \\Rightarrow \\Delta$。\n\n2. 切消 $(\\mathrm{Cut})$：从 $\\Gamma \\Rightarrow \\Delta, A$ 和 $A, \\Pi \\Rightarrow \\Sigma$ 的推导，可以推导出 $\\Gamma, \\Pi \\Rightarrow \\Delta, \\Sigma$。\n\n3. 公式的度 $d(\\cdot)$：就本题而言，给定 $d(A) = 5$ 且 $d(B) = 2$。\n\n4. 一个推导的切消秩 $\\rho(\\mathcal{D})$：在推导 $\\mathcal{D}$ 中所有 $(\\mathrm{Cut})$ 应用中，所使用的切消公式的度的最大值。\n\n考虑以下推导片段。有一个 $\\Gamma \\Rightarrow \\Delta, A$ 的无切消推导 $\\mathcal{D}_{R}$ 以及一个 $A, \\Pi \\Rightarrow \\Sigma$ 的无切消推导 $\\mathcal{D}_{L}$。首先，对 $\\mathcal{D}_{R}$ 应用 $(\\mathrm{LW})$ 得到 $B, \\Gamma \\Rightarrow \\Delta, A$。然后，用 $\\mathcal{D}_{L}$ 对公式 $A$ 应用 $(\\mathrm{Cut})$，以得出结论 $B, \\Gamma, \\Pi \\Rightarrow \\Delta, \\Sigma$。这是“置换前”的构型。\n\n现在将 $(\\mathrm{Cut})$ 置换到 $(\\mathrm{LW})$ 之上，方法是首先对 $\\mathcal{D}_{R}$ 和 $\\mathcal{D}_{L}$ 关于 $A$ 进行切消以推导出 $\\Gamma, \\Pi \\Rightarrow \\Delta, \\Sigma$，然后应用 $(\\mathrm{LW})$ 在左侧引入 $B$，得到 $B, \\Gamma, \\Pi \\Rightarrow \\Delta, \\Sigma$。这是“置换后”的构型。\n\n分别计算“置换前”和“置换后”推导的切消秩 $\\rho_{\\text{before}}$ 和 $\\rho_{\\text{after}}$，然后计算 $\\rho_{\\text{after}} - \\rho_{\\text{before}}$ 的值。请以单个数字作为最终答案。无需四舍五入。[@problem_id:48]", "solution": "用户希望我解决以下问题：\n在 Gentzen 的经典逻辑相继式演算 (LK) 中进行演算。使用以下规则和定义。\n\n1. 左弱化 $(\\mathrm{LW})$：从相继式 $\\Gamma \\Rightarrow \\Delta$ 的一个推导，可以推导出相继式 $B, \\Gamma \\Rightarrow \\Delta$。\n\n2. 切消 $(\\mathrm{Cut})$：从 $\\Gamma \\Rightarrow \\Delta, A$ 和 $A, \\Pi \\Rightarrow \\Sigma$ 的推导，可以推导出 $\\Gamma, \\Pi \\Rightarrow \\Delta, \\Sigma$。\n\n3. 公式的度 $d(\\cdot)$：就本题而言，给定 $d(A) = 5$ 且 $d(B) = 2$。\n\n4. 一个推导的切消秩 $\\rho(\\mathcal{D})$：在推导 $\\mathcal{D}$ 中所有 $(\\mathrm{Cut})$ 应用中，所使用的切消公式的度的最大值。\n\n考虑以下推导片段。有一个 $\\Gamma \\Rightarrow \\Delta, A$ 的无切消推导 $\\mathcal{D}_{R}$ 以及一个 $A, \\Pi \\Rightarrow \\Sigma$ 的无切消推导 $\\mathcal{D}_{L}$。首先，对 $\\mathcal{D}_{R}$ 应用 $(\\mathrm{LW})$ 得到 $B, \\Gamma \\Rightarrow \\Delta, A$。然后，用 $\\mathcal{D}_{L}$ 对公式 $A$ 应用 $(\\mathrm{Cut})$，以得出结论 $B, \\Gamma, \\Pi \\Rightarrow \\Delta, \\Sigma$。这是“置换前”的构型。\n\n现在将 $(\\mathrm{Cut})$ 置换到 $(\\mathrm{LW})$ 之上，方法是首先对 $\\mathcal{D}_{R}$ 和 $\\mathcal{D}_{L}$ 关于 $A$ 进行切消以推导出 $\\Gamma, \\Pi \\Rightarrow \\Delta, \\Sigma$，然后应用 $(\\mathrm{LW})$ 在左侧引入 $B$，得到 $B, \\Gamma, \\Pi \\Rightarrow \\Delta, \\Sigma$。这是“置换后”的构型。\n\n分别计算“置换前”和“置换后”推导的切消秩 $\\rho_{\\text{before}}$ 和 $\\rho_{\\text{after}}$，然后计算 $\\rho_{\\text{after}} - \\rho_{\\text{before}}$ 的值。请以单个数字作为最终答案。无需四舍五入。\n\n### 问题验证\n\n**步骤1：提取给定信息**\n- **演算系统**：Gentzen 的经典逻辑相继式演算 (LK)。\n- **规则 (LW)**：从 $\\Gamma \\Rightarrow \\Delta$ 的推导，可以推导出 $B, \\Gamma \\Rightarrow \\Delta$。\n- **规则 (Cut)**：从 $\\Gamma \\Rightarrow \\Delta, A$ 和 $A, \\Pi \\Rightarrow \\Sigma$ 的推导，可以推导出 $\\Gamma, \\Pi \\Rightarrow \\Delta, \\Sigma$。\n- **度的定义 $d(\\cdot)$**：一个为公式赋值数字的函数。\n- **给定的度**：$d(A) = 5$, $d(B) = 2$。\n- **切消秩的定义 $\\rho(\\mathcal{D})$**：在推导 $\\mathcal{D}$ 中，所有 (Cut) 应用所使用的切消公式的度的最大值。如果没有切消，秩为 $0$。\n- **初始推导**：$\\mathcal{D}_{R}$ 是 $\\Gamma \\Rightarrow \\Delta, A$ 的一个无切消推导。$\\mathcal{D}_{L}$ 是 $A, \\Pi \\Rightarrow \\Sigma$ 的一个无切消推导。\n- **“置换前”的推导**：通过首先对 $\\mathcal{D}_{R}$ 的结论应用 (LW)，然后对公式 $A$ 应用 (Cut)，构造出 $B, \\Gamma, \\Pi \\Rightarrow \\Delta, \\Sigma$ 的一个推导。\n- **“置换后”的推导**：通过首先使用 $\\mathcal{D}_{R}$ 和 $\\mathcal{D}_{L}$ 对公式 $A$ 应用 (Cut)，然后对结论应用 (LW)，构造出 $B, \\Gamma, \\Pi \\Rightarrow \\Delta, \\Sigma$ 的一个推导。\n\n**步骤2：使用提取的给定信息进行验证**\n- **科学依据**：该问题在数理逻辑领域，特别是证明论中，是公认的。相继式演算、切消规则、弱化和切消秩等概念是 Gentzen 关于切消消除定理工作的基本内容。\n- **良定性**：问题陈述清晰。所有术语都已定义，待分析的两个推导的构造过程描述明确。任务是基于这些定义进行精确计算。\n- **客观性**：问题以形式化、客观的语言陈述。\n\n该问题没有任何无效性缺陷。这是一个应用证明论中定义的标准练习。数值 $d(B)=2$ 的存在，虽然最终无关紧要，但并未使问题无效，而是为了检验解答者对切消秩定义的理解。\n\n**结论**：问题有效。\n\n### 解答\n\n目标是计算 $\\rho_{\\text{after}} - \\rho_{\\text{before}}$ 的值，其中 $\\rho_{\\text{before}}$ 和 $\\rho_{\\text{after}}$ 分别是所述两个推导的切消秩。一个推导 $\\mathcal{D}$ 的切消秩，记作 $\\rho(\\mathcal{D})$，是在 $\\mathcal{D}$ 中 $(\\mathrm{Cut})$ 规则的任一应用中所用切消公式的度的最大值。如果一个推导不包含 $(\\mathrm{Cut})$ 规则的应用，其切消秩为 $0$。\n\n我们已知两个无切消推导：用于相继式 $\\Gamma \\Rightarrow \\Delta, A$ 的 $\\mathcal{D}_{R}$ 和用于相继式 $A, \\Pi \\Rightarrow \\Sigma$ 的 $\\mathcal{D}_{L}$。由于它们是无切消的，所以 $\\rho(\\mathcal{D}_{R}) = 0$ 且 $\\rho(\\mathcal{D}_{L}) = 0$。\n\n首先，我们分析“置换前”的构型。该推导，我们称之为 $\\mathcal{D}_{\\text{before}}$，构造如下：\n1.  对 $\\Gamma \\Rightarrow \\Delta, A$ 的推导 $\\mathcal{D}_{R}$ 的结论应用左弱化规则 $(\\mathrm{LW})$。这给出了相继式 $B, \\Gamma \\Rightarrow \\Delta, A$ 的一个新推导。设这个新推导为 $\\mathcal{D}'_{R}$。$(\\mathrm{LW})$ 规则不引入任何切消，因此 $\\mathcal{D}'_{R}$ 也是无切消的。\n2.  使用 $\\mathcal{D}'_{R}$ 的结论 ($B, \\Gamma \\Rightarrow \\Delta, A$) 和 $\\mathcal{D}_{L}$ 的结论 ($A, \\Pi \\Rightarrow \\Sigma$) 应用 $(\\mathrm{Cut})$ 规则。切消公式是 $A$。得到的相继式是 $B, \\Gamma, \\Pi \\Rightarrow \\Delta, \\Sigma$。\n\n完整的推导 $\\mathcal{D}_{\\text{before}}$ 由子推导 $\\mathcal{D}_{R}$ 和 $\\mathcal{D}_{L}$ 组成，其后是 $(\\mathrm{LW})$ 的应用，然后是 $(\\mathrm{Cut})$ 的应用。$\\mathcal{D}_{\\text{before}}$ 中的 $(\\mathrm{Cut})$ 应用集合包括 $\\mathcal{D}_{R}$ 中的切消（无）、$\\mathcal{D}_{L}$ 中的切消（无）以及最后显式应用的 $(\\mathrm{Cut})$。因此，在整个推导 $\\mathcal{D}_{\\text{before}}$ 中，恰好有一次 $(\\mathrm{Cut})$ 规则的应用。此次应用的切消公式是 $A$。\n\n这个切消公式的度给定为 $d(A) = 5$。由于这是唯一的切消，任何切消公式的度的最大值就是 $d(A)$。\n因此，“置换前”推导的切消秩是：\n$$\n\\rho_{\\text{before}} = d(A) = 5\n$$\n\n接下来，我们分析“置换后”的构型。该推导，我们称之为 $\\mathcal{D}_{\\text{after}}$，构造如下：\n1.  使用推导 $\\mathcal{D}_{R}$ ($\\Gamma \\Rightarrow \\Delta, A$) 和 $\\mathcal{D}_{L}$ ($A, \\Pi \\Rightarrow \\Sigma$) 的结论应用 $(\\mathrm{Cut})$ 规则。切消公式是 $A$。这会产生一个相继式 $\\Gamma, \\Pi \\Rightarrow \\Delta, \\Sigma$ 的推导，我们称之为 $\\mathcal{D}'$。\n2.  对 $\\mathcal{D}'$ 的结论应用左弱化规则 $(\\mathrm{LW})$，在左侧引入公式 $B$。得到的相继式是 $B, \\Gamma, \\Pi \\Rightarrow \\Delta, \\Sigma$。\n\n完整的推导 $\\mathcal{D}_{\\text{after}}$ 由子推导 $\\mathcal{D}_{R}$ 和 $\\mathcal{D}_{L}$ 组成，其后是 $(\\mathrm{Cut})$ 的应用，然后是 $(\\mathrm{LW})$ 的应用。我们必须识别出 $\\mathcal{D}_{\\text{after}}$ 中所有的 $(\\mathrm{Cut})$ 应用。子推导 $\\mathcal{D}_{R}$ 和 $\\mathcal{D}_{L}$ 是无切消的。有一个显式应用的 $(\\mathrm{Cut})$ 来产生中间相继式 $\\Gamma, \\Pi \\Rightarrow \\Delta, \\Sigma$。后续的 $(\\mathrm{LW})$ 应用不是切消。因此，在整个推导 $\\mathcal{D}_{\\text{after}}$ 中，恰好有一次 $(\\mathrm{Cut})$ 规则的应用。此次应用的切消公式是 $A$。\n\n这个切消公式的度给定为 $d(A) = 5$。由于这是唯一的切消，任何切消公式的度的最大值就是 $d(A)$。\n因此，“置换后”推导的切消秩是：\n$$\n\\rho_{\\text{after}} = d(A) = 5\n$$\n问题要求计算 $\\rho_{\\text{after}} - \\rho_{\\text{before}}$ 的值。\n$$\n\\rho_{\\text{after}} - \\rho_{\\text{before}} = 5 - 5 = 0\n$$\n公式 $B$ 的度 $d(B)=2$ 与计算无关，因为 $B$ 是通过弱化规则引入的，在两个推导中都从未被用作切消公式。这种 $(\\mathrm{Cut})$ 规则与 $(\\mathrm{LW})$ 规则的特定置换不会改变推导的切消秩。", "answer": "$$\\boxed{0}$$", "id": "3056244"}, {"introduction": "切消消除的原理可以从命题逻辑扩展到更强大的一阶逻辑，但这引入了量词、项和本征变量（eigenvariables）等新元素。本练习将带我们进入一阶逻辑的领域，处理一个关于存在量词 $\\exists x\\,A(x)$ 的主要切消。你将看到，通过巧妙地利用项代换，我们如何将作用于量化公式上的复杂切消，简化为作用于其一个具体实例上的更简单的切消，从而为在更广阔的逻辑天地中消除切消奠定基础 [@problem_id:3056263]。", "problem": "考虑 Gentzen 的经典逻辑相继式演算（LK），其中一个相继式写作 $\\Gamma \\Rightarrow \\Delta$，而 $\\Gamma$ 和 $\\Delta$ 是公式的多重集。左存在引入规则 $\\exists L$ 和右存在引入规则 $\\exists R$ 如下：\n$$\n\\frac{\\Gamma, A(a) \\Rightarrow \\Delta}{\\Gamma, \\exists x\\,A(x) \\Rightarrow \\Delta}\\ \\exists L\n\\qquad\n\\frac{\\Gamma \\Rightarrow \\Delta, A(t)}{\\Gamma \\Rightarrow \\Delta, \\exists x\\,A(x)}\\ \\exists R\n$$\n其中在 $\\exists L$ 中，符号 $a$ 是一个特征变元，它不在 $\\Gamma$ 或 $\\Delta$ 中自由出现，而 $t$ 是任意的项。\n\n切消规则如下：\n$$\n\\frac{\\Gamma \\Rightarrow \\Delta, C \\qquad \\Sigma, C \\Rightarrow \\Pi}{\\Gamma, \\Sigma \\Rightarrow \\Delta, \\Pi}\\ \\mathrm{cut}\n$$\n\n设 $A(x)$ 是带有一个自由变量 $x$ 的任意一阶公式，设 $t$ 是任意的项，并设 $\\Gamma, \\Delta, \\Sigma, \\Pi$ 是满足标准特征变元约束的任意上下文。假设你有一个推导，其左前提以 $\\exists L$ 结尾，从 $\\Gamma, A(a) \\Rightarrow \\Delta$ 得到 $\\Gamma, \\exists x\\,A(x) \\Rightarrow \\Delta$；其右前提以 $\\exists R$ 结尾，从 $\\Sigma \\Rightarrow \\Pi, A(t)$ 得到 $\\Sigma \\Rightarrow \\Pi, \\exists x\\,A(x)$。使用切消公式 $\\exists x\\,A(x)$ 进行切消，以得到结论 $\\Gamma, \\Sigma \\Rightarrow \\Delta, \\Pi$。\n\n在这种配置下，对以 $\\exists x\\,A(x)$ 为切消公式的切消执行主切消消去，明确指出实例化的切消以及为使切消公式匹配所需的对特征变元的任何代换。通过归纳法定义一个公式 $B$ 的逻辑复杂度 $|B|$ 如下：\n- 对原子公式 $P(u_1,\\dots,u_n)$，有 $|P(u_1,\\dots,u_n)| = 0$，\n- 对任意二元联结词 $\\circ \\in \\{\\land,\\lor,\\rightarrow\\}$，有 $|B \\circ C| = |B| + |C| + 1$，\n- $|\\neg B| = |B| + 1$，\n- $|\\forall x\\,B| = |B| + 1$ 且 $|\\exists x\\,B| = |B| + 1$，\n并约定将项代换自由变量不改变复杂度，因此 $|A(t)| = |A|$。\n\n在执行主切消消去后，计算切消秩的净减少量 $\\Delta_{\\mathrm{rank}}$，其定义为原始切消公式的复杂度与消去后切消公式的复杂度之差。将你的最终答案表示为一个整数。", "solution": "该问题要求在 Gentzen 的相继式演算 LK 中执行一个主切消消去步骤，并计算由此导致的切消秩的减少量。\n\n首先，确认问题陈述的有效性。该问题是良定义的，在数理逻辑中有科学依据，并且内部一致。它提供了所有必要的逻辑规则（$\\exists L$、$\\exists R$、切消）的定义和公式的复杂度度量。这个任务是证明论中的一个标准练习。\n\n初始推导涉及对公式 $C \\equiv \\exists x\\,A(x)$ 的一次切消。该切消的前提分别是 $\\exists R$ 规则和 $\\exists L$ 规则的结论，其中 $\\exists x\\,A(x)$ 是每条规则中的主公式。这种配置被称为存在量词的主切消。\n\n切消规则给出如下：\n$$\n\\frac{\\Gamma' \\Rightarrow \\Delta', C \\qquad \\Sigma', C \\Rightarrow \\Pi'}{\\Gamma', \\Sigma' \\Rightarrow \\Delta', \\Pi'}\\ \\mathrm{cut}\n$$\n\n问题指明了通往切消前提的两个推导。\n切消的第一个前提是 $\\Sigma \\Rightarrow \\Pi, \\exists x\\,A(x)$，通过 $\\exists R$ 规则从 $\\Sigma \\Rightarrow \\Pi, A(t)$ 推导而来。这对应于模式 $\\Gamma' \\Rightarrow \\Delta', C$，其中 $\\Gamma' = \\Sigma$，$\\Delta' = \\Pi$，且 $C = \\exists x\\,A(x)$。\n切消的第二个前提是 $\\Gamma, \\exists x\\,A(x) \\Rightarrow \\Delta$，通过 $\\exists L$ 规则从 $\\Gamma, A(a) \\Rightarrow \\Delta$ 推导而来。这对应于模式 $\\Sigma', C \\Rightarrow \\Pi'$，其中 $\\Sigma' = \\Gamma$，$\\Pi' = \\Delta$，且 $C = \\exists x\\,A(x)$。\n\n因此，以切消结尾的推导的完整结构是：\n$$\n\\frac{\n    \\displaystyle\\frac{\\Sigma \\Rightarrow \\Pi, A(t)}{\\Sigma \\Rightarrow \\Pi, \\exists x\\,A(x)} \\exists R\n    \\qquad\n    \\displaystyle\\frac{\\Gamma, A(a) \\Rightarrow \\Delta}{\\Gamma, \\exists x\\,A(x) \\Rightarrow \\Delta} \\exists L\n}\n{\n    \\Sigma, \\Gamma \\Rightarrow \\Pi, \\Delta\n}\\ \\mathrm{cut}\n$$\n结论 $\\Sigma, \\Gamma \\Rightarrow \\Pi, \\Delta$ 等价于 $\\Gamma, \\Sigma \\Rightarrow \\Delta, \\Pi$，因为上下文是多重集。\n\n切消消去的过程涉及将此证明转换为另一个具有相同最终相继式的证明，但其切消的秩更低（即，对一个复杂度更低的公式进行切消）。\n\n将 $\\Gamma, A(a) \\Rightarrow \\Delta$ 的推导记作 $\\mathcal{D}_a$。$\\exists L$ 规则要求 $a$ 是一个特征变元，意味着它不能在结论相继式的上下文（即 $\\Gamma$ 或 $\\Delta$）中自由出现。这个条件确保了推导 $\\mathcal{D}_a$ 在结构上独立于 $a$ 的具体选择。我们可以在整个推导 $\\mathcal{D}_a$ 中用任意项代换 $a$ 的所有自由出现，并且仍然得到一个有效的推导。\n\n我们在推导 $\\mathcal{D}_a$ 中执行将特征变元 $a$ 代换为项 $t$ 的操作。将得到的推导记为 $\\mathcal{D}_a[t/a]$。由于 $a$ 在 $\\Gamma$ 或 $\\Delta$ 中不自由出现，$\\mathcal{D}_a[t/a]$ 的结论是相继式 $\\Gamma, A(t) \\Rightarrow \\Delta$。\n\n现在我们从原始引入规则的前提中获得了两个可用的相继式，但已经进行了必要的代换：\n1. 导致 $\\exists R$ 前提的推导的结论：$\\Sigma \\Rightarrow \\Pi, A(t)$。\n2. 代换后的推导 $\\mathcal{D}_a[t/a]$ 的结论：$\\Gamma, A(t) \\Rightarrow \\Delta$。\n\n这两个相继式可以用作一次新切消的前提，这次切消的公式是 $A(t)$。消去后的推导是：\n$$\n\\frac{\n    \\overbrace{\\Sigma \\Rightarrow \\Pi, A(t)}^{\\text{来自原始右前提的前提}} \\qquad\n    \\overbrace{\\Gamma, A(t) \\Rightarrow \\Delta}^{\\text{来自代换后的左前提的前提}}\n}{\n    \\Sigma, \\Gamma \\Rightarrow \\Pi, \\Delta\n}\\ \\mathrm{cut}\n$$\n这个新的推导结构证明了相同的最终相继式，但是将对 $\\exists x\\,A(x)$ 的切消替换为对 $A(t)$ 的切消。\n\n问题将切消秩定义为切消公式的复杂度。我们现在计算这个秩的变化。\n原始的切消公式是 $C_{\\mathrm{orig}} = \\exists x\\,A(x)$。它的复杂度 $|C_{\\mathrm{orig}}|$ 由归纳定义给出：\n$$ |C_{\\mathrm{orig}}| = |\\exists x\\,A(x)| = |A(x)| + 1 $$\n消去后推导中的新切消公式是 $C_{\\mathrm{red}} = A(t)$。它的复杂度是 $|C_{\\mathrm{red}}| = |A(t)|$。\n\n问题陈述中约定代换不改变复杂度，因此 $|A(x)| = |A(t)|$。我们将这个共同的复杂度值记为 $|A|$。\n因此，我们有：\n$$ |C_{\\mathrm{orig}}| = |A| + 1 $$\n$$ |C_{\\mathrm{red}}| = |A| $$\n\n切消秩的净减少量 $\\Delta_{\\mathrm{rank}}$ 是原始切消公式复杂度和消去后切消公式复杂度之差：\n$$ \\Delta_{\\mathrm{rank}} = |C_{\\mathrm{orig}}| - |C_{\\mathrm{red}}| = (|A| + 1) - |A| = 1 $$\n主切消消去使切消秩减少了 1。", "answer": "$$\\boxed{1}$$", "id": "3056263"}]}