{"hands_on_practices": [{"introduction": "为什么我们不能简单地根据公式的结构来递归地定义真理呢？本练习将探讨一个非常自然但最终失败的尝试。通过分析一个使用有界量词（bounded quantifier）的递归定义，你将亲手发现算术真理的结构在何处超出了这种有界方法的表达能力，从而为 Tarski 定理的成立提供一个具体的直观理解 [@problem_id:3054355]。", "problem": "设 $\\mathcal{L}_{\\mathrm{PA}}$ 为皮亚诺算术 (PA) 的语言，它由常数 $0$、表示后继的一元函数 $S$、二元函数 $+$ 和 $\\cdot$ 以及二元关系 $\\leq$ 组成。设 $\\mathbb{N}$ 表示算术的标准模型。固定一个原始递归的哥德尔编码 $\\operatorname{gn}$，它将 $\\mathcal{L}_{\\mathrm{PA}}$ 的每个句子 $\\varphi$ 映射到一个自然数 $\\operatorname{gn}(\\varphi) \\in \\mathbb{N}$。\n\n考虑以下通过对公式编码进行有界结构递归来定义 $\\mathbb{N}$ 的真值谓词的尝试。对于每个界限 $b \\in \\mathbb{N}$，定义一个函数 $T_{b}:\\mathbb{N} \\to \\{0,1\\}$，意图通过对编码为 $n$ 的句子的句法形式进行递归，来逼近 $\\mathbb{N}$ 中句子的真值。该递归包含以下四个子句，在将 $n$ 解码为其唯一的解析结构后应用：\n\n- 子句 1（原子）：如果 $n$ 编码一个原子句子 $t_{1} = t_{2}$ 或 $t_{1} \\leq t_{2}$，那么当项 $t_{1},t_{2}$ 在 $\\mathbb{N}$ 中的标准数值满足该关系时，$T_{b}(n)$ 定义为 $1$，否则为 $0$。\n- 子句 2（否定）：如果 $n$ 编码 $\\neg \\varphi$，则 $T_{b}(n) := 1 - T_{b}(\\operatorname{gn}(\\varphi))$。\n- 子句 3（合取）：如果 $n$ 编码 $\\varphi \\wedge \\psi$，则 $T_{b}(n) := \\min\\{T_{b}(\\operatorname{gn}(\\varphi)),\\, T_{b}(\\operatorname{gn}(\\psi))\\}$。\n- 子句 4（全称量词，有界尝试）：如果 $n$ 编码 $\\forall v\\,\\varphi(v)$，则\n$$\nT_{b}(n) := \\min\\bigl\\{\\, T_{b}(\\operatorname{gn}(\\varphi(\\overline{0}))),\\, T_{b}(\\operatorname{gn}(\\varphi(\\overline{1}))),\\,\\dots,\\, T_{b}(\\operatorname{gn}(\\varphi(\\overline{b}))) \\,\\bigr\\},\n$$\n其中 $\\overline{k}$ 表示 $k$ 的数符。\n\n在此方案中，存在量化被视为一个缩写 $\\exists v\\,\\varphi(v) \\equiv \\neg \\forall v\\,\\neg \\varphi(v)$，因此通过子句 2 和 4 来处理。\n\n在 $\\mathbb{N}$ 上的一阶逻辑 (FOL) 的标准语义以及上述哥德尔编码的框架内进行操作。仅使用 $\\mathbb{N}$ 中满足性的基本定义和上述结构递归，完成以下任务：\n\n- 为特定句子\n$$\n\\psi \\;:=\\; \\forall x\\,\\exists y\\, (x  y),\n$$\n构造求值 $T_{b}(\\operatorname{gn}(\\psi))$。", "solution": "问题陈述是内部一致的，在数理逻辑上是科学严谨的，并且是适定的。它提出了一个标准的、尽管有缺陷的定义算术真值谓词的尝试，并要求对其失败进行具体分析。该问题是有效的。\n\n需要分析的句子是 $\\psi \\;:=\\; \\forall x\\,\\exists y\\, (x  y)$。在算术的标准模型 $\\mathbb{N}$ 中，这个句子是真的。对于赋给 $x$ 的任何自然数 $k$，总存在一个更大的自然数，例如 $k+1$，可以作为 $y$ 的见证。因此，满足关系 $\\mathbb{N} \\models \\psi$ 成立，其真值为 $1$。我们现在将使用所提供的递归定义，对任意有限界限 $b \\in \\mathbb{N}$ 计算 $T_{b}(\\operatorname{gn}(\\psi))$ 的值。\n\n句子 $\\psi$ 是一个形式为 $\\forall x\\, \\varphi(x)$ 的全称量化句，其中 $\\varphi(x) \\equiv \\exists y\\, (x  y)$。根据递归定义的子句 4，求值为：\n$$\nT_{b}(\\operatorname{gn}(\\psi)) = \\min\\bigl\\{\\, T_{b}(\\operatorname{gn}(\\varphi(\\overline{0}))),\\, T_{b}(\\operatorname{gn}(\\varphi(\\overline{1}))),\\,\\dots,\\, T_{b}(\\operatorname{gn}(\\varphi(\\overline{b}))) \\,\\bigr\\}\n$$\n其中 $\\overline{k}$ 是整数 $k$ 的数符。\n\n为了找到这个最小值的数值，我们必须分析其各项的值，即 $T_{b}(\\operatorname{gn}(\\varphi(\\overline{k})))$，对于 $k \\in \\{0, 1, \\dots, b\\}$。让我们考虑 $k = b$ 时的具体项，即 $T_{b}(\\operatorname{gn}(\\varphi(\\overline{b})))$。公式 $\\varphi(\\overline{b})$ 是 $\\exists y\\, (\\overline{b}  y)$。\n\n问题陈述指出，存在量词被定义为一个缩写：$\\exists v\\,\\chi(v) \\equiv \\neg \\forall v\\,\\neg \\chi(v)$。将其应用于 $\\varphi(\\overline{b})$ 得到：\n$$\n\\exists y\\, (\\overline{b}  y) \\equiv \\neg \\forall y\\, \\neg(\\overline{b}  y)\n$$\n我们使用子句 2（否定）来求值 $T_{b}(\\operatorname{gn}(\\neg \\forall y\\, \\neg(\\overline{b}  y)))$：\n$$\nT_{b}(\\operatorname{gn}(\\neg \\forall y\\, \\neg(\\overline{b}  y))) = 1 - T_{b}(\\operatorname{gn}(\\forall y\\, \\neg(\\overline{b}  y)))\n$$\n现在我们必须求值 $T_{b}(\\operatorname{gn}(\\forall y\\, \\neg(\\overline{b}  y)))$。这是一个全称量化句，所以我们应用子句 4：\n$$\nT_{b}(\\operatorname{gn}(\\forall y\\, \\neg(\\overline{b}  y))) = \\min\\bigl\\{\\, T_{b}(\\operatorname{gn}(\\neg(\\overline{b}  \\overline{0}))),\\, \\dots,\\, T_{b}(\\operatorname{gn}(\\neg(\\overline{b}  \\overline{b}))) \\,\\bigr\\}\n$$\n这个最小值中每一项 $T_{b}(\\operatorname{gn}(\\neg(\\overline{b}  \\overline{j})))$（对于 $j \\in \\{0, \\dots, b\\}$）的值，取决于子公式 $\\overline{b}  \\overline{j}$ 的求值。该子公式是 $\\overline{b} \\leq \\overline{j} \\wedge \\neg(\\overline{b} = \\overline{j})$ 的缩写。对此结构的递归求值依赖于子句 1、2 和 3。子句 1 正确地在 $\\mathbb{N}$ 中求值原子句子（如 $\\overline{b} \\leq \\overline{j}$ 和 $\\overline{b} = \\overline{j}$）的真值。子句 2 和 3 正确地传播布尔联结词的真值。因此，对于任何无量词句子 $\\theta$，$T_b(\\operatorname{gn}(\\theta))$ 会得出其在 $\\mathbb{N}$ 中的实际真值。\n\n对于范围 $\\{0, 1, \\dots, b\\}$ 中的任何 $j$，关系 $b  j$ 在 $\\mathbb{N}$ 中是假的。因此，求值 $T_{b}(\\operatorname{gn}(\\overline{b}  \\overline{j}))$ 必定为 $0$：\n$$\nT_{b}(\\operatorname{gn}(\\overline{b}  \\overline{j})) = 0 \\quad \\text{for } j \\in \\{0, 1, \\dots, b\\}\n$$\n使用子句 2，我们接着求值否定式：\n$$\nT_{b}(\\operatorname{gn}(\\neg(\\overline{b}  \\overline{j}))) = 1 - T_{b}(\\operatorname{gn}(\\overline{b}  \\overline{j})) = 1 - 0 = 1\n$$\n这对每个 $j \\in \\{0, 1, \\dots, b\\}$ 都成立。现在，我们可以计算关于 $y$ 的全称量词的最小值：\n$$\nT_{b}(\\operatorname{gn}(\\forall y\\, \\neg(\\overline{b}  y))) = \\min\\{1, 1, \\dots, 1\\} = 1\n$$\n将此结果代回到存在量化公式的求值中：\n$$\nT_{b}(\\operatorname{gn}(\\exists y\\, (\\overline{b}  y))) = 1 - T_{b}(\\operatorname{gn}(\\forall y\\, \\neg(\\overline{b}  y))) = 1 - 1 = 0\n$$\n我们发现，在初始展开式中 $k=b$ 的项，$T_{b}(\\operatorname{gn}(\\varphi(\\overline{b})))$，为 $0$。$T_{b}(\\operatorname{gn}(\\psi))$ 的完整求值是包含这个 $0$ 的一组值的最小值：\n$$\nT_{b}(\\operatorname{gn}(\\psi)) = \\min\\bigl\\{\\, T_{b}(\\operatorname{gn}(\\varphi(\\overline{0}))), \\dots, T_{b}(\\operatorname{gn}(\\varphi(\\overline{b-1}))), 0 \\,\\bigr\\} = 0\n$$\n对于任何有限的 $b \\in \\mathbb{N}$，有界递归将 $T_{b}(\\operatorname{gn}(\\psi))$ 求值为 $0$，这与 $\\psi$ 在 $\\mathbb{N}$ 中为真这一事实相矛盾。\n\n这个失败的根源可以在计算中精确定位。产生不正确结果的步骤是对 $T_{b}(\\operatorname{gn}(\\forall y\\, \\neg(\\overline{b}  y)))$ 的求值。这一步返回了 $1$，表明 $\\forall y\\, \\neg(\\overline{b}  y)$ 是真的。然而，这个句子在 $\\mathbb{N}$ 中是假的，因为存在反例（例如，$y = b+1$）。递归之所以未能找到这个反例，是因为它对见证 $y$ 的搜索被界限 $b$ 所限制。全称量词的标准真值定义要求检查论域 $\\mathbb{N}$ 的所有元素的满足情况，而这是一个无限集。子句 4 将这个无限检查替换为一个有限检查，只测试到界限 $b$ 为止。这个限制是根本性的缺陷。全称量词的语义必然需要无界量化才能与标准真值定义相匹配。因此，导致失败的子句是子句 4。", "answer": "$$\\boxed{4}$$", "id": "3054355"}, {"introduction": "现在我们从直观理解转向严格的证明。这个综合性练习汇集了 Tarski 定理的关键要素：通过哥德尔编码（Gödel coding）对语法进行算术化，以及通过对角引理（Diagonal Lemma）实现强大的自引用。通过完成一个具体的哥德尔数计算，并逐步完成反证法，你将看到这些工具如何无可辩驳地证明，算术语言内部的任何公式都无法定义其自身的真理 [@problem_id:3054377]。", "problem": "设 $\\mathcal{L}$ 是皮亚诺算术 (PA) 的语言，其包含常量符号 $0$，表示后继的一元函数符号 $S$，表示等于的二元关系符号 $=$，以及用于构成项的括号 $($, $)$。为方便本练习，我们添加一个简短的数码符号 $\\mathtt{2}$ 作为基本记号，旨在缩写数码 $S(S(0))$。我们将通过素数幂哥德尔编码来对语法进行算术化，具体如下。\n\n在 $\\mathcal{L}$ 的基本记号上定义一个符号-编码映射 $c$：\n$$\nc(\\mathtt{(})=1,\\quad c(\\mathtt{)})=2,\\quad c(\\mathtt{S})=3,\\quad c(\\mathtt{0})=4,\\quad c(\\mathtt{=})=5,\\quad c(\\mathtt{2})=6.\n$$\n对于 $\\mathcal{L}$ 中的任意有限记号串 $\\sigma_1\\sigma_2\\cdots\\sigma_n$，其哥德尔编码定义为：\n$$\n\\ulcorner \\sigma_1\\sigma_2\\cdots\\sigma_n \\urcorner \\;=\\; \\prod_{i=1}^{n} p_i^{\\,c(\\sigma_i)},\n$$\n其中 $p_i$ 表示第 $i$ 个素数，即 $p_1=2$, $p_2=3$, $p_3=5$, $p_4=7$, $p_5=11$, $p_6=13$, $p_7=17$, $p_8=19$, $p_9=23$，以此类推。\n\n考虑 $\\mathcal{L}$ 中的句子：\n$$\nS(S(0)) \\;=\\; \\mathtt{2}.\n$$\n\n任务：\n- 使用上述的 $c$ 和 $p_i$ 计算精确的素数幂哥德尔编码 $\\ulcorner S(S(0))=\\mathtt{2} \\urcorner$。将你的最终答案表示为带有指数的素数分解乘积形式，不要进行近似或四舍五入。\n- 使用皮亚诺算术 (PA) 的结构 $\\mathbb{N}$ 中符号的预定标准解释，判断句子 $S(S(0))=\\mathtt{2}$ 在 $\\mathbb{N}$ 中是否为真，并根据关于数码和后继函数的第一性原理证明你的结论。\n- 假设（为了引出矛盾）在 PA 语言中存在一个公式 $T(x)$，使得对于 $\\mathcal{L}$ 中的任意句子 $\\varphi$， $T(\\ulcorner \\varphi \\urcorner)$ 在 $\\mathbb{N}$ 中成立当且仅当 $\\varphi$ 在 $\\mathbb{N}$ 中为真。从对角引理（一个经过充分检验的数理逻辑事实，它表明对于任意公式 $\\theta(x)$，都存在一个句子 $G$ 使得 $PA \\vdash G \\leftrightarrow \\theta(\\ulcorner G \\urcorner)$）出发，推导出一个矛盾，并解释为什么像 $S(S(0))=\\mathtt{2}$ 这样的算术句子的真值是可以在外部评估的，但却不能被 PA 的任何内部算术可定义的真谓词 $T(x)$ 所捕获。\n\n答案规范：\n- 你的最终方框答案必须是第一个任务中计算出的哥德尔编码 $\\ulcorner S(S(0))=\\mathtt{2} \\urcorner$ 的精确素数幂乘积。不需要也不允许进行四舍五入。", "solution": "该问题提出了三个关于皮亚诺算术语言 ($\\mathcal{L}$) 及其在自然数 ($\\mathbb{N}$) 中标准解释的任务。这些任务是：计算一个特定的哥德尔编码，评估一个句子的真值，以及证明塔斯基真理不可定义性。我将依次处理每个任务。\n\n首先，我们计算句子 $S(S(0)) = \\mathtt{2}$ 的哥德尔编码。问题指定了一个基于素数分解的哥德尔编码方案。该句子写成线性符号串是 $\\sigma_1\\sigma_2\\sigma_3\\sigma_4\\sigma_5\\sigma_6\\sigma_7\\sigma_8\\sigma_9$，其对应的符号序列为：\n$S, (, S, (, 0, ), ), =, \\mathtt{2}$\n\n我们已知符号-编码映射 $c$：\n$c(\\mathtt{(})=1$\n$c(\\mathtt{)})=2$\n$c(\\mathtt{S})=3$\n$c(\\mathtt{0})=4$\n$c(\\mathtt{=})=5$\n$c(\\mathtt{2})=6$\n\n将此映射应用于我们的符号序列 $\\sigma_1\\sigma_2\\cdots\\sigma_9$：\n$c(\\sigma_1) = c(S) = 3$\n$c(\\sigma_2) = c(() = 1$\n$c(\\sigma_3) = c(S) = 3$\n$c(\\sigma_4) = c(() = 1$\n$c(\\sigma_5) = c(0) = 4$\n$c(\\sigma_6) = c()) = 2$\n$c(\\sigma_7) = c()) = 2$\n$c(\\sigma_8) = c(=) = 5$\n$c(\\sigma_9) = c(\\mathtt{2}) = 6$\n\n哥德尔编码定义为 $\\ulcorner \\sigma_1\\sigma_2\\cdots\\sigma_n \\urcorner = \\prod_{i=1}^{n} p_i^{\\,c(\\sigma_i)}$，其中 $p_i$ 是第 $i$ 个素数。对于我们这个有 9 个符号的句子，我们需要前 9 个素数：\n$p_1=2, p_2=3, p_3=5, p_4=7, p_5=11, p_6=13, p_7=17, p_8=19, p_9=23$。\n\n我们构建这个乘积：\n$\\ulcorner S(S(0))=\\mathtt{2} \\urcorner = p_1^{c(\\sigma_1)} \\times p_2^{c(\\sigma_2)} \\times p_3^{c(\\sigma_3)} \\times p_4^{c(\\sigma_4)} \\times p_5^{c(\\sigma_5)} \\times p_6^{c(\\sigma_6)} \\times p_7^{c(\\sigma_7)} \\times p_8^{c(\\sigma_8)} \\times p_9^{c(\\sigma_9)}$\n代入素数和编码的值，我们得到：\n$\\ulcorner S(S(0))=\\mathtt{2} \\urcorner = 2^3 \\cdot 3^1 \\cdot 5^3 \\cdot 7^1 \\cdot 11^4 \\cdot 13^2 \\cdot 17^2 \\cdot 19^5 \\cdot 23^6$。\n这就是所要求的哥德尔编码的精确素数幂乘积。\n\n其次，我们确定句子 $S(S(0)) = \\mathtt{2}$ 在皮亚诺算术的标准模型中的真值，该标准模型是自然数结构 $\\mathbb{N} = \\{0, 1, 2, \\ldots\\}$。\n$\\mathbb{N}$ 中符号的解释如下：\n- 符号 $0$ 被解释为数 $0 \\in \\mathbb{N}$。\n- 函数符号 $S$ 被解释为后继函数，$S(n) = n+1$ 对任意 $n \\in \\mathbb{N}$ 成立。\n- 符号 $=$ 被解释为 $\\mathbb{N}$ 上的恒等关系。\n- 问题指出符号 $\\mathtt{2}$ 是数码 $S(S(0))$ 的缩写。数码是语言中指代一个数的项。\n\n让我们在 $\\mathbb{N}$ 中对项 $S(S(0))$ 求值：\n- $S(0)$ 的解释是 $S(0) = 0+1 = 1$。\n- $S(S(0))$ 的解释是 $S(1) = 1+1 = 2$。\n所以，等式的左边指代的是数 $2$。\n\n右边是符号 $\\mathtt{2}$，它被明确说明是项 $S(S(0))$ 的缩写。因此，其预期的解释与 $S(S(0))$ 的解释相同，即数 $2$。\n\n因此，句子 $S(S(0)) = \\mathtt{2}$ 断言由 $S(S(0))$ 表示的数与由 $\\mathtt{2}$ 表示的数是相同的。在标准模型中，这个陈述是 $2=2$。这是一个真陈述。\n因此，句子 $S(S(0)) = \\mathtt{2}$ 在 $\\mathbb{N}$ 中为真。\n\n第三，我们讨论塔斯基的不可定义性定理。我们必须证明在语言 $\\mathcal{L}$ 中没有公式 $T(x)$ 能够定义算术的真句子集合。证明过程使用反证法，并借助对角引理。\n\n1.  假设存在这样一个公式 $T(x)$ 以引出矛盾。该公式有一个自由变量 $x$。$T(x)$ 的性质是，对于语言 $\\mathcal{L}$ 中的任意句子 $\\varphi$，$T(x)$ 在标准模型 $\\mathbb{N}$ 中为真（当 $x$ 被赋值为 $\\varphi$ 的哥德尔数时），当且仅当 $\\varphi$ 本身在 $\\mathbb{N}$ 中为真。形式上，使用 $\\models$ 表示在一个模型中为真：\n    对于 $\\mathcal{L}$ 的每一个句子 $\\varphi$，都有 $\\mathbb{N} \\models T(\\ulcorner \\varphi \\urcorner) \\iff \\mathbb{N} \\models \\varphi$。\n    这里，$\\ulcorner \\varphi \\urcorner$ 代表与 $\\varphi$ 的哥德尔数相对应的数码。\n\n2.  考虑带有一个自由变量 $x$ 的公式 $\\neg T(x)$。这是 PA 语言中的一个有效公式。\n\n3.  我们引用对角引理。该引理指出，对于任意带有一个自由变量的公式 $\\theta(x)$，存在一个句子 $G$，使得等价式 $G \\leftrightarrow \\theta(\\ulcorner G \\urcorner)$ 在皮亚诺算术 (PA) 中是可证的。\n    我们将此引理应用于我们的公式 $\\theta(x) = \\neg T(x)$。引理保证存在一个句子 $G$（通常称为“说谎者句子”），使得：\n    $PA \\vdash G \\leftrightarrow \\neg T(\\ulcorner G \\urcorner)$\n\n4.  由于这个等价式在 PA 中是可证的，并且 PA 的公理在标准模型 $\\mathbb{N}$ 中为真，所以这个等价式在 $\\mathbb{N}$ 中也必定为真。\n    $\\mathbb{N} \\models G \\leftrightarrow \\neg T(\\ulcorner G \\urcorner)$\n    这意味着句子 $G$ 在 $\\mathbb{N}$ 中为真，当且仅当句子 $\\neg T(\\ulcorner G \\urcorner)$ 在 $\\mathbb{N}$ 中为真。根据否定的定义，这等价于：\n    $(\\mathbb{N} \\models G)$ 为真 $\\iff$ $(\\mathbb{N} \\models T(\\ulcorner G \\urcorner))$ 为假。\n\n5.  现在我们使用步骤 1 中假设的真谓词 $T(x)$ 的定义属性，并将其应用于特定句子 $G$：\n    $(\\mathbb{N} \\models T(\\ulcorner G \\urcorner))$ 为真 $\\iff$ $(\\mathbb{N} \\models G)$ 为真。\n\n6.  我们已经推导出了两个必要条件。设 $P$ 为命题“$\\mathbb{N} \\models G$”（即“$G$ 为真”）。设 $Q$ 为命题“$\\mathbb{N} \\models T(\\ulcorner G \\urcorner)$”（即“$T(\\ulcorner G \\urcorner)$ 为真”）。\n    从步骤 4（对角引理）得到：$P \\iff \\neg Q$。\n    从步骤 5（$T(x)$ 的性质）得到：$P \\iff Q$。\n    将这两者结合起来，我们得到 $Q \\iff \\neg Q$。\n\n7.  这是一个形式上的矛盾。一个命题不能等价于其自身的否定。如果 $Q$ 为真，它必然为假。如果 $Q$ 为假，它必然为真。这在经典逻辑中是不可能的。\n\n8.  这个矛盾源于我们最初的假设，即在 PA 语言内部存在一个定义真值的公式 $T(x)$。因此，这个假设必须是错误的。我们得出结论，在 $\\mathcal{L}$ 中不存在任何公式可以定义算术真句子的哥德尔数集合。这就是塔斯基的真理不可定义性定理。\n\n像 $S(S(0)) = \\mathtt{2}$ 这样的句子的真值是可以评估的，因为我们可以“走出” PA 的形式系统，使用一个元理论（如集合论），在其中标准模型 $\\mathbb{N}$ 是一个我们可以审视的对象。我们在这个元理论中解释符号并进行计算。然而，塔斯基的定理表明，PA 的形式系统本身不够强大，无法为其所有自身句子形式化这种“外部”的真理概念。任何创建内部真谓词 $T(x)$ 的尝试都会失败，正如通过句子 $G$ 所体现的说谎者悖论所证明的那样。", "answer": "$$\\boxed{2^3 \\cdot 3^1 \\cdot 5^3 \\cdot 7^1 \\cdot 11^4 \\cdot 13^2 \\cdot 17^2 \\cdot 19^5 \\cdot 23^6}$$", "id": "3054377"}]}