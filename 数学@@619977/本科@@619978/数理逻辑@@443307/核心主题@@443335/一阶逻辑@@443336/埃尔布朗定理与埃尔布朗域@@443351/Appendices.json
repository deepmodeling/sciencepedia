{"hands_on_practices": [{"introduction": "在深入探讨海布朗域的宏观结构之前，我们首先需要掌握分析其基本构成单元——基项 (ground terms) 的方法。项的高度 (height of a term) 是一个递归定义的度量，它量化了项的句法复杂性或嵌套深度。通过这个基础练习 [@problem_id:3043555]，你将学会如何精确计算不同项的高度，这是理解和构造海布朗域的第一步。", "problem": "考虑一个一阶签名 $\\Sigma$，它包含一个常量符号 $a$、一个一元函数符号 $f/1$ 和一个二元函数符号 $g/2$。$\\Sigma$ 上的海布朗域是由常量符号 $a$ 通过以所有可能的方式应用函数符号 $f$ 和 $g$ 构成的所有基项的集合。\n\n根据一阶项的核心句法规则，归纳地定义一个项的高度 $\\mathrm{ht}(t)$ 如下：\n- 对于任意常量符号 $c$，设 $\\mathrm{ht}(c)=0$。\n- 对于任意 $n$ 元函数符号 $h$ 和项 $t_1,\\dots,t_n$，设\n$$\n\\mathrm{ht}\\big(h(t_1,\\dots,t_n)\\big)=1+\\max\\big(\\mathrm{ht}(t_1),\\dots,\\mathrm{ht}(t_n)\\big).\n$$\n\n使用这些定义，计算特定基项 $a$、$f(a)$ 和 $g(a,f(a))$ 的高度。请使用 LaTeX 的 $\\mathrm{pmatrix}$ 环境，将最终答案表示为单行，并按照 $a$、$f(a)$、$g(a,f(a))$ 的顺序排列。无需四舍五入。", "solution": "题目提供了一个一阶签名 $\\Sigma$，包含一个常量符号 $a$、一个一元函数符号 $f/1$ 和一个二元函数符号 $g/2$。它还提供了一个项的高度 $\\mathrm{ht}(t)$ 的归纳定义。我们的任务是计算特定基项 $a$、$f(a)$ 和 $g(a,f(a))$ 的高度。该问题定义明确，内部一致，并且需要直接应用给定的定义。\n\n项的高度的归纳定义如下：\n$1$. 对于任意常量符号 $c$，其高度定义为 $\\mathrm{ht}(c)=0$。\n$2$. 对于任意 $n$ 元函数符号 $h$ 和项 $t_1, \\dots, t_n$，其高度定义为\n$$\n\\mathrm{ht}\\big(h(t_1,\\dots,t_n)\\big)=1+\\max\\big(\\mathrm{ht}(t_1),\\dots,\\mathrm{ht}(t_n)\\big).\n$$\n我们将依次应用这些规则来计算每个指定项的高度。\n\n首先，我们计算项 $a$ 的高度。\n项 $a$ 是一个常量符号。根据定义中的规则 $1$，任何常量符号的高度都为 $0$。\n因此，\n$$\n\\mathrm{ht}(a) = 0.\n$$\n\n其次，我们计算项 $f(a)$ 的高度。\n项 $f(a)$ 是通过将一元函数符号 $f$ 应用于项 $a$ 而形成的。我们使用定义中的规则 $2$，其中 $h=f$，$n=1$，$t_1=a$。\n这得到：\n$$\n\\mathrm{ht}(f(a)) = 1 + \\max(\\mathrm{ht}(a)).\n$$\n我们已经确定 $\\mathrm{ht}(a)=0$。代入这个值，我们得到：\n$$\n\\mathrm{ht}(f(a)) = 1 + \\max(0) = 1 + 0 = 1.\n$$\n\n第三，我们计算项 $g(a,f(a))$ 的高度。\n项 $g(a,f(a))$ 是通过将二元函数符号 $g$ 应用于项 $t_1=a$ 和 $t_2=f(a)$ 而形成的。我们再次使用定义中的规则 $2$，这次是 $h=g$，$n=2$，$t_1=a$，$t_2=f(a)$。\n这得到：\n$$\n\\mathrm{ht}\\big(g(a,f(a))\\big) = 1 + \\max\\big(\\mathrm{ht}(a), \\mathrm{ht}(f(a))\\big).\n$$\n我们先前已计算出 $\\mathrm{ht}(a)=0$ 和 $\\mathrm{ht}(f(a))=1$。将这些值代入表达式，我们得到：\n$$\n\\mathrm{ht}\\big(g(a,f(a))\\big) = 1 + \\max(0, 1).\n$$\n$0$ 和 $1$ 的最大值是 $1$。因此：\n$$\n\\mathrm{ht}\\big(g(a,f(a))\\big) = 1 + 1 = 2.\n$$\n\n项 $a$、$f(a)$ 和 $g(a,f(a))$ 的高度分别是 $0$、$1$ 和 $2$。题目要求最终答案按照这个特定顺序以单行矩阵的形式给出。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0  1  2\n\\end{pmatrix}\n}\n$$", "id": "3043555"}, {"introduction": "掌握了如何度量单个项的高度后，我们现在可以利用这个工具来系统地构建整个海布朗域。尽管海布朗域通常是无限的，但我们可以根据项的高度将其划分为一系列有限的、逐层递增的集合。这个练习 [@problem_id:3043552] 将引导你亲手生成海布朗域的前几个层次，从而直观地理解其分层结构和组合增长的方式。", "problem": "考虑一阶逻辑（FOL）中的以下符号集：一个常量符号集合 $\\{a,b\\}$ 和一个一元函数符号集合 $\\{f,g\\}$。该符号集的海布朗域 $U_{\\Sigma}$ 是由 $\\{a,b,f,g\\}$ 构成的所有基项的集合，项的高度归纳定义如下：每个常量符号的高度为 $0$，如果 $h$ 是一个一元函数符号，$t$ 是一个项，则 $h(t)$ 的高度为 $1 + \\mathrm{ht}(t)$。仅使用这些定义以及海布朗域中项的语法区分性的标准概念，根据项的高度确定 $U_{\\Sigma}$ 的前三层，即 $L_{0}$、$L_{1}$ 和 $L_{2}$，其中 $L_{k}$ 表示高度恰好为 $k$ 的所有项的集合。列出 $L_{0} \\cup L_{1} \\cup L_{2}$ 中的所有项。最后，计算确切的基数 $\\left|L_{0} \\cup L_{1} \\cup L_{2}\\right|$。请提供一个无舍入的整数作为最终答案。", "solution": "用户提供了一个关于构建海布朗域的一阶逻辑问题。该问题是有效的，因为它是自洽的，科学上基于数理逻辑的原理，并且是适定的。符号集、海布朗域和项的高度的定义是标准的且无歧义的。任务是系统地应用这些定义。\n\n该问题定义了一个一阶逻辑符号集 $\\Sigma$，包含：\n- 一个常量符号集合 $C = \\{a, b\\}$。\n- 一个一元函数符号集合 $F_1 = \\{f, g\\}$。\n\n海布朗域 $U_{\\Sigma}$ 是所有可以由 $\\Sigma$ 中符号构成的基项的集合。项的高度归纳定义如下：\n$1$. 任何常量符号 $c \\in C$ 的高度为 $0$。\n$2$. 项 $h(t)$ 的高度为 $1 + \\mathrm{ht}(t)$，其中 $h \\in F_1$ 是一个一元函数符号，$t$ 是一个项。\n\n集合 $L_k$ 被定义为 $U_{\\Sigma}$ 中所有高度恰好为 $k$ 的项的集合。我们的任务是确定集合 $L_0$、$L_1$ 和 $L_2$，然后求出它们并集的基数 $|L_0 \\cup L_1 \\cup L_2|$。\n\n首先，我们确定集合 $L_0$，它包含所有高度为 $0$ 的项。根据定义，只有常量符号的高度为 $0$。给定的常量符号是 $a$ 和 $b$。\n因此，集合 $L_0$ 是：\n$$ L_0 = \\{a, b\\} $$\n该集合的基数是 $|L_0| = 2$。\n\n接下来，我们确定集合 $L_1$，它包含所有高度为 $1$ 的项。如果一个项的形式为 $h(t)$，其中 $h$ 是一元函数符号，$t$ 是一个项，且 $1 + \\mathrm{ht}(t) = 1$，则该项的高度为 $1$。这意味着 $\\mathrm{ht}(t) = 0$。高度为 $0$ 的项恰好是 $L_0$ 中的元素。一元函数符号是 $f$ 和 $g$。我们通过将 $F_1 = \\{f, g\\}$ 中的每个函数符号应用于 $L_0 = \\{a, b\\}$ 中的每个项来构成 $L_1$ 中的项。\n- 将 $f$ 应用于 $L_0$ 的元素：$f(a)$，$f(b)$。\n- 将 $g$ 应用于 $L_0$ 的元素：$g(a)$，$g(b)$。\n所有这些项在语法上都是不同的。因此，集合 $L_1$ 是：\n$$ L_1 = \\{f(a), f(b), g(a), g(b)\\} $$\n该集合的基数是 $|L_1| = 2 \\times |L_0| = 2 \\times 2 = 4$。\n\n现在，我们确定集合 $L_2$，它包含所有高度为 $2$ 的项。如果一个项的形式为 $h(t)$，其中 $h$ 是一元函数符号，$t$ 是一个项，且 $1 + \\mathrm{ht}(t) = 2$，则该项的高度为 $2$。这意味着 $\\mathrm{ht}(t) = 1$。高度为 $1$ 的项是 $L_1$ 中的元素。我们通过将 $F_1 = \\{f, g\\}$ 中的每个函数符号应用于 $L_1 = \\{f(a), f(b), g(a), g(b)\\}$ 中的每个项来构成 $L_2$ 中的项。\n- 将 $f$ 应用于 $L_1$ 的元素：$f(f(a))$, $f(f(b))$, $f(g(a))$, $f(g(b))$。\n- 将 $g$ 应用于 $L_1$ 的元素：$g(f(a))$, $g(f(b))$, $g(g(a))$, $g(g(b))$。\n所有这些项在语法上都是不同的。因此，集合 $L_2$ 是：\n$$ L_2 = \\{f(f(a)), f(f(b)), f(g(a)), f(g(b)), g(f(a)), g(f(b)), g(g(a)), g(g(b))\\} $$\n该集合的基数是 $|L_2| = 2 \\times |L_1| = 2 \\times 4 = 8$。\n\n问题要求列出 $L_0 \\cup L_1 \\cup L_2$ 中的所有项。\n$$ L_0 \\cup L_1 \\cup L_2 = \\{a, b, f(a), f(b), g(a), g(b), f(f(a)), f(f(b)), f(g(a)), f(g(b)), g(f(a)), g(f(b)), g(g(a)), g(g(b))\\} $$\n\n最后，我们需要计算基数 $|L_0 \\cup L_1 \\cup L_2|$。由于一个项不能有多个高度，所以对于不同的 $k$ 值，集合 $L_k$ 是不相交的。也就是说，当 $i \\neq j$ 时，$L_i \\cap L_j = \\emptyset$。\n因此，并集的基数是各个集合基数的和：\n$$ |L_0 \\cup L_1 \\cup L_2| = |L_0| + |L_1| + |L_2| $$\n代入我们计算出的值：\n$$ |L_0 \\cup L_1 \\cup L_2| = 2 + 4 + 8 = 14 $$\n高度不超过 $2$ 的项的总数为 $14$。", "answer": "$$\\boxed{14}$$", "id": "3043552"}, {"introduction": "构建海布朗域和海布朗基的最终目的，是为一阶逻辑公式的可满足性检验提供一个具体的论域，这也是海布朗定理的核心思想。本练习 [@problem_id:3043528] 将理论付诸实践，你将使用从给定子句集生成的海布朗基来构建一棵语义树（或称海布朗树）。这个过程不仅演示了如何系统性地搜索模型，也展示了当所有分支都关闭时，我们如何能够确定性地证明原句集是不可满足的。", "problem": "考虑一阶逻辑 (FOL) 中的子句集 $$\\Gamma=\\{P(a)\\lor Q(a),\\ \\neg P(a),\\ \\neg Q(a)\\},$$ 其中 $P$ 和 $Q$ 是一元谓词符号，$a$ 是一个常量符号。仅使用海布朗域、海布朗基和子句集的语义（海布朗）反驳树的基本定义，按以下步骤进行：\n\n- 确定 $\\Gamma$ 的海布朗域和海布朗基。\n- 构建一棵语义反驳树（海布朗树），其中每个内部节点通过为海布朗基中的一个基始原子赋值 $\\top$ 或 $\\bot$ 来进行分支，且当 $\\Gamma$ 中的某个子句在该分支上的部分赋值下被证伪时，该分支立即闭合。通过为每个叶节点指明哪个子句被证伪，来明确证明所有分支都已闭合。\n- 在 $\\Gamma$ 的所有此类闭合海布朗树中，确定叶节点（即闭合分支）的最小可能数量。你的最终答案必须是这个最小数量的整数。无需四舍五入。", "solution": "此问题经评估有效。这是一个在数理逻辑领域内，特别是关于海布朗定理和证明论的，问题明确、自成体系且有科学依据的问题。所有术语均为标准术语，前提条件一致。\n\n解答按要求分为三部分进行。\n\n首先，我们确定给定子句集 $\\Gamma=\\{P(a)\\lor Q(a),\\ \\neg P(a),\\ \\neg Q(a)\\}$ 的海布朗域和海布朗基。\n\n$\\Gamma$ 的语言包含一个常量符号 $a$，没有函数符号。海布朗域，记为 $H(\\Gamma)$，是从该语言中的常量和函数符号可以构成的所有基始项的集合。由于没有函数符号，唯一可以构成的基始项就是常量 $a$ 本身。\n因此，海布朗域是：\n$$H(\\Gamma) = \\{a\\}$$\n\n$\\Gamma$ 的语言包含两个一元谓词符号 $P$ 和 $Q$。海布朗基，记为 $B(\\Gamma)$，是将谓词符号应用于海布朗域中的项所形成的所有基始原子的集合。将谓词 $P$ 和 $Q$ 应用于 $H(\\Gamma)$ 中的单个项 $a$，我们得到基始原子 $P(a)$ 和 $Q(a)$。\n因此，海布朗基是：\n$$B(\\Gamma) = \\{P(a), Q(a)\\}$$\n\n其次，我们构造一棵语义反驳树。语义树是系统地搜索子句集的海布朗模型的一种方法。树的节点用海布朗基中的原子标记。从父节点到子节点的边表示对父节点处原子的真值赋值。如果沿着某个分支的真值部分赋值使得 $\\Gamma$ 中至少一个子句为假，则该分支闭合。如果一棵树的所有分支都闭合，那么它就是一棵反驳树，这证明了该子句集是不可满足的。\n\n闭合海布朗树的叶节点数量可能取决于从海布朗基中选择用于分支的原子的顺序。我们首先以根节点的原子 $P(a)$ 进行分支，然后在必要时以 $Q(a)$ 进行分支来构建一棵树。\n\n1.  **根节点：** 根节点代表一个空赋值。我们选择对原子 $P(a) \\in B(\\Gamma)$ 进行分支。\n\n2.  **第一层：**\n    *   **左分支：** 我们赋值 $P(a) = \\top$。我们检查这个部分赋值是否证伪了 $\\Gamma = \\{P(a)\\lor Q(a),\\ \\neg P(a),\\ \\neg Q(a)\\}$ 中的任何子句。子句 $\\neg P(a)$ 变为 $\\neg \\top$，其值为 $\\bot$（假）。因此，这个赋值证伪了子句 $\\neg P(a)$。该分支闭合。这形成了一个叶节点。\n    *   **右分支：** 我们赋值 $P(a) = \\bot$。我们检查这些子句。\n        *   $P(a)\\lor Q(a)$ 变为 $\\bot \\lor Q(a)$，简化为 $Q(a)$。这没有被证伪。\n        *   $\\neg P(a)$ 变为 $\\neg \\bot$，简化为 $\\top$。这被满足了。\n        *   $\\neg Q(a)$ 不依赖于 $P(a)$。这没有被证伪。\n        由于没有子句被证伪，该分支保持开放。我们必须通过对基中的另一个原子 $Q(a)$ 进行分支来继续。\n\n3.  **第二层（在开放分支上）：**\n    *   **右-左分支：** 我们将赋值 $P(a) = \\bot$ 扩展为 $Q(a) = \\top$。此路径上的完整赋值为 $\\{P(a) = \\bot, Q(a) = \\top\\}$。我们检查这些子句。子句 $\\neg Q(a)$ 变为 $\\neg \\top$，其值为 $\\bot$。该分支闭合。这形成了第二个叶节点。\n    *   **右-右分支：** 我们将赋值 $P(a) = \\bot$ 扩展为 $Q(a) = \\bot$。此路径上的完整赋值为 $\\{P(a) = \\bot, Q(a) = \\bot\\}$。我们检查这些子句。子句 $P(a) \\lor Q(a)$ 变为 $\\bot \\lor \\bot$，其值为 $\\bot$。该分支闭合。这形成了第三个叶节点。\n\n这棵树的所有分支都已闭合，因此它是 $\\Gamma$ 的一个有效语义反驳树。叶节点对应于以下闭合分支：\n*   叶节点 1：路径赋值 $\\{P(a) = \\top\\}$，证伪 $\\neg P(a)$。\n*   叶节点 2：路径赋值 $\\{P(a) = \\bot, Q(a) = \\top\\}$，证伪 $\\neg Q(a)$。\n*   叶节点 3：路径赋值 $\\{P(a) = \\bot, Q(a) = \\bot\\}$，证伪 $P(a) \\lor Q(a)$。\n\n这棵树总共有 $3$ 个叶节点。\n\n第三，我们必须确定叶节点的最小可能数量。为此，我们必须考虑所有可能的分支原子排序。由于海布朗基是 $B(\\Gamma) = \\{P(a), Q(a)\\}$，唯一另一个初始选择是在根节点处对 $Q(a)$ 进行分支。\n\n让我们分析从 $Q(a)$ 开始的树：\n1.  **根节点：** 对 $Q(a)$ 进行分支。\n2.  **第一层：**\n    *   **左分支：** 赋值 $Q(a) = \\top$。这个赋值证伪了 $\\Gamma$ 中的子句 $\\neg Q(a)$。分支闭合，形成一个叶节点。\n    *   **右分支：** 赋值 $Q(a) = \\bot$。没有子句立即被证伪。该分支保持开放。我们对 $P(a)$ 进行分支。\n3.  **第二层（在开放分支上）：**\n    *   **右-左分支：** 路径赋值为 $\\{Q(a) = \\bot, P(a) = \\top\\}$。这证伪了子句 $\\neg P(a)$。分支闭合，形成第二个叶节点。\n    *   **右-右分支：** 路径赋值为 $\\{Q(a) = \\bot, P(a) = \\bot\\}$。这证伪了子句 $P(a) \\lor Q(a)$。分支闭合，形成第三个叶节点。\n\n这棵树也有 $3$ 个叶节点。由于对于一个包含 2 个元素的海布朗基，这两种排序是仅有的不同排序，因此通过这种标准构造产生的最小叶节点数量是 $3$。\n\n是否存在少于 $3$ 个叶节点的树？有 $1$ 个叶节点的树是不可能的，因为它不是一个分支树。有 $2$ 个叶节点的树必须由一个单一根节点分支成两个叶节点。这意味着存在一个原子 $A \\in B(\\Gamma)$，使得赋值 $A = \\top$ 闭合一个分支，而赋值 $A = \\bot$ 闭合另一个分支。\n*   我们测试 $A = P(a)$。赋值 $P(a)=\\top$ 闭合了分支（证伪了 $\\neg P(a)$）。然而，赋值 $P(a)=\\bot$ 本身并不能证伪 $\\Gamma$ 中的任何子句。所以这不会产生一棵有 2 个叶节点的树。\n*   我们测试 $A = Q(a)$。赋值 $Q(a)=\\top$ 闭合了分支（证伪了 $\\neg Q(a)$）。然而，赋值 $Q(a)=\\bot$ 本身并不能证伪 $\\Gamma$ 中的任何子句。所以这同样不会产生一棵有 2 个叶节点的树。\n\n由于没有任何单个原子分裂可以闭合其产生的所有分支，因此一棵有 2 个叶节点的树是不可能的。因此，对于 $\\Gamma$ 的任何闭合海布朗树，其叶节点的最小数量为 $3$。", "answer": "$$\\boxed{3}$$", "id": "3043528"}]}