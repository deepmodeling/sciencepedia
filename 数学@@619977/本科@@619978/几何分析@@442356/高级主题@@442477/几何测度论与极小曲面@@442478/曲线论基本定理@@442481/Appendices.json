{"hands_on_practices": [{"introduction": "曲线的基本定理指出，曲率 $\\kappa(s)$ 和挠率 $\\tau(s)$ 共同构成了空间曲线独一无二的“几何签名”。本练习旨在通过计算三个经典范例——圆、螺旋线和回旋线——的曲率和挠率，来具体实践这一核心思想。通过推导，你将亲身体会到这些曲线截然不同的几何形态是如何被它们各自的 $(\\kappa, \\tau)$ 函数精确编码的。[@problem_id:3049525]", "problem": "设 $\\gamma_{1}$、$\\gamma_{2}$ 和 $\\gamma_{3}$ 是 $\\mathbb{R}^{3}$ 中的三条正则曲线，定义如下，每条曲线都有一个光滑参数且速度非零。角度应以弧度解释。\n- $xy$ 平面中半径为 $R>0$ 的圆：$\\gamma_{1}(t)=\\big(R\\cos t,\\,R\\sin t,\\,0\\big)$，其中 $t\\in\\mathbb{R}$。\n- 半径为 $R>0$、螺距参数为 $h\\neq 0$ 的圆柱螺旋线：$\\gamma_{2}(t)=\\big(R\\cos t,\\,R\\sin t,\\,h\\,t\\big)$，其中 $t\\in\\mathbb{R}$。\n- 嵌入在 $xy$ 平面中并由弧长 $s\\ge 0$ 参数化的羊角螺线（Cornu 螺线），其曲率被规定为随 $s$ 线性增加：对于一个固定的常数 $\\alpha>0$，定义切角 $\\theta(s)=\\frac{\\alpha}{2}s^{2}$，并设\n$$\n\\gamma_{3}(s)=\\left(\\int_{0}^{s}\\cos\\theta(u)\\,du,\\;\\int_{0}^{s}\\sin\\theta(u)\\,du,\\;0\\right).\n$$\n从曲线理论的基本定义出发：\n- 弧长 $s(t)$，单位切向量 $\\mathbf{T}=\\frac{d\\gamma}{ds}$，单位法向量 $\\mathbf{N}$，单位副法向量 $\\mathbf{B}$，以及 Frenet–Serret (FS) 不变量曲率 $\\kappa=\\left\\|\\frac{d\\mathbf{T}}{ds}\\right\\|$ 和挠率 $\\tau=-\\frac{d\\mathbf{B}}{ds}\\cdot\\mathbf{N}$，\n推导每条曲线的曲率和挠率函数。然后，利用曲线理论基本定理，简要解释这些不变量如何编码这三个例子在几何上的差异。\n\n将您的最终答案表示为一个单行矩阵，包含六个表达式 $(\\kappa_{1},\\tau_{1},\\kappa_{2},\\tau_{2},\\kappa_{3}(s),\\tau_{3})$，用 $R$、$h$、$\\alpha$ 和 $s$ 表示。不需要数值取整，也不涉及物理单位。", "solution": "该问题提法清晰，包含两个部分：首先，为给定的三条正则曲线推导曲率 $\\kappa$ 和挠率 $\\tau$；其次，利用这些结果，在曲线理论基本定理的背景下，讨论这些不变量如何区分这些曲线的几何形状。\n\n对于由变量 $t$ 参数化的一般正则曲线 $\\gamma(t)$，其曲率 $\\kappa(t)$ 和挠率 $\\tau(t)$ 由以下公式给出：\n$$\n\\kappa(t) = \\frac{\\|\\gamma'(t) \\times \\gamma''(t)\\|}{\\|\\gamma'(t)\\|^{3}}\n$$\n$$\n\\tau(t) = \\frac{\\big(\\gamma'(t) \\times \\gamma''(t)\\big) \\cdot \\gamma'''(t)}{\\|\\gamma'(t) \\times \\gamma''(t)\\|^{2}}\n$$\n如果曲线由弧长 $s$ 参数化，使得 $\\|\\gamma'(s)\\|=1$，则这些公式会简化。具体来说，切向量为 $\\mathbf{T}(s) = \\gamma'(s)$，曲率为 $\\kappa(s) = \\|\\mathbf{T}'(s)\\| = \\|\\gamma''(s)\\|$。\n\n我们现在将为这三条曲线中的每一条计算其不变量。\n\n**1. 圆：$\\gamma_{1}(t)=\\big(R\\cos t,\\,R\\sin t,\\,0\\big)$**\n\n首先，我们计算 $\\gamma_{1}(t)$ 关于 $t$ 的导数：\n$$\n\\gamma'_{1}(t) = \\big(-R\\sin t, R\\cos t, 0\\big)\n$$\n$$\n\\gamma''_{1}(t) = \\big(-R\\cos t, -R\\sin t, 0\\big)\n$$\n$$\n\\gamma'''_{1}(t) = \\big(R\\sin t, -R\\cos t, 0\\big)\n$$\n接下来，我们计算必要的范数和积。速度为：\n$$\n\\|\\gamma'_{1}(t)\\| = \\sqrt{(-R\\sin t)^{2} + (R\\cos t)^{2} + 0^{2}} = \\sqrt{R^{2}(\\sin^{2}t + \\cos^{2}t)} = R\n$$\n前两个导数的叉积为：\n$$\n\\gamma'_{1}(t) \\times \\gamma''_{1}(t) = \\begin{vmatrix} \\mathbf{i} & \\mathbf{j} & \\mathbf{k} \\\\ -R\\sin t & R\\cos t & 0 \\\\ -R\\cos t & -R\\sin t & 0 \\end{vmatrix} = \\mathbf{k}\\big(R^{2}\\sin^{2}t + R^{2}\\cos^{2}t\\big) = \\big(0, 0, R^{2}\\big)\n$$\n该叉积的范数为：\n$$\n\\|\\gamma'_{1}(t) \\times \\gamma''_{1}(t)\\| = \\sqrt{0^{2} + 0^{2} + (R^{2})^{2}} = R^{2}\n$$\n现在，我们可以计算曲率 $\\kappa_{1}$：\n$$\n\\kappa_{1}(t) = \\frac{\\|\\gamma'_{1}(t) \\times \\gamma''_{1}(t)\\|}{\\|\\gamma'_{1}(t)\\|^{3}} = \\frac{R^{2}}{R^{3}} = \\frac{1}{R}\n$$\n对于挠率 $\\tau_{1}$，我们计算标量三重积：\n$$\n\\big(\\gamma'_{1}(t) \\times \\gamma''_{1}(t)\\big) \\cdot \\gamma'''_{1}(t) = \\big(0, 0, R^{2}\\big) \\cdot \\big(R\\sin t, -R\\cos t, 0\\big) = 0\n$$\n因此，挠率为：\n$$\n\\tau_{1}(t) = \\frac{\\big(\\gamma'_{1}(t) \\times \\gamma''_{1}(t)\\big) \\cdot \\gamma'''_{1}(t)}{\\|\\gamma'_{1}(t) \\times \\gamma''_{1}(t)\\|^{2}} = \\frac{0}{(R^{2})^{2}} = 0\n$$\n曲率 $\\kappa_{1} = \\frac{1}{R}$ 和挠率 $\\tau_{1} = 0$ 都是常数。零挠率证实了该曲线是平面曲线。\n\n**2. 圆柱螺旋线：$\\gamma_{2}(t)=\\big(R\\cos t,\\,R\\sin t,\\,h\\,t\\big)$**\n\n我们计算 $\\gamma_{2}(t)$ 的导数：\n$$\n\\gamma'_{2}(t) = \\big(-R\\sin t, R\\cos t, h\\big)\n$$\n$$\n\\gamma''_{2}(t) = \\big(-R\\cos t, -R\\sin t, 0\\big)\n$$\n$$\n\\gamma'''_{2}(t) = \\big(R\\sin t, -R\\cos t, 0\\big)\n$$\n速度为：\n$$\n\\|\\gamma'_{2}(t)\\| = \\sqrt{(-R\\sin t)^{2} + (R\\cos t)^{2} + h^{2}} = \\sqrt{R^{2} + h^{2}}\n$$\n叉积为：\n$$\n\\gamma'_{2}(t) \\times \\gamma''_{2}(t) = \\begin{vmatrix} \\mathbf{i} & \\mathbf{j} & \\mathbf{k} \\\\ -R\\sin t & R\\cos t & h \\\\ -R\\cos t & -R\\sin t & 0 \\end{vmatrix} = \\big(hR\\sin t, -hR\\cos t, R^{2}\\big)\n$$\n其范数为：\n$$\n\\|\\gamma'_{2}(t) \\times \\gamma''_{2}(t)\\| = \\sqrt{(hR\\sin t)^{2} + (-hR\\cos t)^{2} + (R^{2})^{2}} = \\sqrt{h^{2}R^{2}(\\sin^{2}t + \\cos^{2}t) + R^{4}} = \\sqrt{R^{2}(h^{2} + R^{2})} = R\\sqrt{R^{2}+h^{2}}\n$$\n曲率 $\\kappa_{2}$ 为：\n$$\n\\kappa_{2}(t) = \\frac{R\\sqrt{R^{2}+h^{2}}}{(\\sqrt{R^{2}+h^{2}})^{3}} = \\frac{R}{R^{2}+h^{2}}\n$$\n用于计算挠率 $\\tau_{2}$ 的标量三重积为：\n$$\n\\big(\\gamma'_{2}(t) \\times \\gamma''_{2}(t)\\big) \\cdot \\gamma'''_{2}(t) = \\big(hR\\sin t, -hR\\cos t, R^{2}\\big) \\cdot \\big(R\\sin t, -R\\cos t, 0\\big) = hR^{2}\\sin^{2}t + hR^{2}\\cos^{2}t = hR^{2}\n$$\n挠率为：\n$$\n\\tau_{2}(t) = \\frac{hR^{2}}{\\| \\gamma'_{2}(t) \\times \\gamma''_{2}(t) \\|^{2}} = \\frac{hR^{2}}{(R\\sqrt{R^{2}+h^{2}})^{2}} = \\frac{hR^{2}}{R^{2}(R^{2}+h^{2})} = \\frac{h}{R^{2}+h^{2}}\n$$\n曲率 $\\kappa_{2} = \\frac{R}{R^{2}+h^{2}}$ 和挠率 $\\tau_{2} = \\frac{h}{R^{2}+h^{2}}$ 都是常数且非零（因为 $R>0, h\\neq0$）。\n\n**3. 羊角螺线：$\\gamma_{3}(s)$**\n\n曲线 $\\gamma_{3}(s)$ 定义在 $xy$ 平面内，并由弧长 $s$ 参数化。切角由 $\\theta(s)=\\frac{\\alpha}{2}s^{2}$ 给出。单位切向量 $\\mathbf{T}(s)$ 是 $\\gamma'_{3}(s)$。根据切角的定义，我们有：\n$$\n\\mathbf{T}(s) = \\gamma'_{3}(s) = \\big(\\cos\\theta(s), \\sin\\theta(s), 0\\big)\n$$\n我们可以验证 $\\|\\mathbf{T}(s)\\| = \\sqrt{\\cos^{2}\\theta(s) + \\sin^{2}\\theta(s)} = 1$。\n曲率 $\\kappa_{3}(s)$ 由 $\\kappa_{3}(s) = \\|\\frac{d\\mathbf{T}}{ds}\\| = \\|\\gamma''_{3}(s)\\|$ 给出。\n$$\n\\frac{d\\mathbf{T}}{ds} = \\gamma''_{3}(s) = \\left(-\\sin\\theta(s)\\frac{d\\theta}{ds}, \\cos\\theta(s)\\frac{d\\theta}{ds}, 0\\right)\n$$\n由于 $\\theta(s)=\\frac{\\alpha}{2}s^{2}$，我们有 $\\frac{d\\theta}{ds} = \\alpha s$。\n$$\n\\gamma''_{3}(s) = \\big(-\\alpha s \\sin\\theta(s), \\alpha s \\cos\\theta(s), 0\\big)\n$$\n曲率是该向量的模：\n$$\n\\kappa_{3}(s) = \\|\\gamma''_{3}(s)\\| = \\sqrt{(-\\alpha s \\sin\\theta(s))^{2} + (\\alpha s \\cos\\theta(s))^{2}} = \\sqrt{(\\alpha s)^{2}(\\sin^{2}\\theta(s) + \\cos^{2}\\theta(s))} = \\sqrt{(\\alpha s)^{2}}\n$$\n因为 $\\alpha > 0$ 且 $s \\ge 0$，我们有 $\\kappa_{3}(s) = \\alpha s$。\n对于挠率 $\\tau_{3}$，我们注意到 $\\gamma_{3}(s)$ 是一条平面曲线，因为它的 $z$ 分量始终为 $0$。对于任何曲率非零的平面曲线，其副法向量 $\\mathbf{B}$ 是常数，且与曲线所在的平面正交。因此，$\\frac{d\\mathbf{B}}{ds} = \\mathbf{0}$，这意味着挠率 $\\tau = -\\frac{d\\mathbf{B}}{ds} \\cdot \\mathbf{N}$ 必须为零。\n让我们来验证这一点。单位法向量 $\\mathbf{N}(s)$（对于 $s>0$）是：\n$$\n\\mathbf{N}(s) = \\frac{\\gamma''_{3}(s)}{\\kappa_{3}(s)} = \\frac{1}{\\alpha s}\\big(-\\alpha s \\sin\\theta(s), \\alpha s \\cos\\theta(s), 0\\big) = \\big(-\\sin\\theta(s), \\cos\\theta(s), 0\\big)\n$$\n单位副法向量 $\\mathbf{B}(s) = \\mathbf{T}(s) \\times \\mathbf{N}(s)$ 是：\n$$\n\\mathbf{B}(s) = \\begin{vmatrix} \\mathbf{i} & \\mathbf{j} & \\mathbf{k} \\\\ \\cos\\theta(s) & \\sin\\theta(s) & 0 \\\\ -\\sin\\theta(s) & \\cos\\theta(s) & 0 \\end{vmatrix} = \\mathbf{k}(\\cos^{2}\\theta(s) + \\sin^{2}\\theta(s)) = (0, 0, 1)\n$$\n因为 $\\mathbf{B}(s)$ 是一个常向量，其导数为零：$\\frac{d\\mathbf{B}}{ds} = \\mathbf{0}$。因此，挠率为：\n$$\n\\tau_{3}(s) = -\\frac{d\\mathbf{B}}{ds} \\cdot \\mathbf{N}(s) = 0\n$$\n曲率 $\\kappa_{3}(s) = \\alpha s$ 随弧长线性变化，而挠率 $\\tau_{3} = 0$。\n\n**通过曲线理论基本定理进行讨论**\n\n曲线理论基本定理指出，如果两条由弧长 $s$ 参数化的正则曲线 $\\gamma_{a}(s)$ 和 $\\gamma_{b}(s)$ 具有相同的曲率函数 $\\kappa(s)>0$ 和相同的挠率函数 $\\tau(s)$，那么它们是合同的；也就是说，其中一条曲线可以通过 $\\mathbb{R}^{3}$ 的刚体运动（平移和旋转）变换为另一条。本质上，函数对 $(\\kappa(s), \\tau(s))$ 充当了唯一的“签名”，在不计其在空间中的位置和方向的情况下，完全确定了一条曲线的形状。\n\n让我们检查我们为这三条曲线推导出的“签名”：\n- **圆：** $(\\kappa_{1}, \\tau_{1}) = (\\frac{1}{R}, 0)$。非零常数曲率和零挠率唯一地定义了一个半径为 $R$ 的圆。\n- **螺旋线：** $(\\kappa_{2}, \\tau_{2}) = (\\frac{R}{R^{2}+h^{2}}, \\frac{h}{R^{2}+h^{2}})$。非零常数曲率和非零常数挠率唯一地定义了一条圆柱螺旋线。\n- **羊角螺线：** $(\\kappa_{3}(s), \\tau_{3}) = (\\alpha s, 0)$。线性增加的曲率和零挠率唯一地定义了一条羊角螺线。\n\n这三个例子完美地说明了该定理的威力。\n- 圆和螺旋线因其挠率而区分开。尽管两者都可以看作是“缠绕”在圆柱体上且曲率恒定的曲线，但圆是平面的（$\\tau_{1}=0$），而螺旋线是内蕴三维的（$\\tau_{2}\\neq0$），它会扭曲出任何单一平面。\n- 圆和羊角螺线都是平面曲线（$\\tau_1 = \\tau_3 = 0$），这意味着它们的副法向量是常数。然而，它们的几何形状明显不同，这一事实被它们的曲率函数所捕捉。圆以恒定的速率弯曲（$\\kappa_1$ 是常数），而羊角螺线则以与其上行进距离成正比的速率弯曲（$\\kappa_3(s)$ 是 $s$ 的线性函数）。\n- 螺旋线和羊角螺线在曲率和挠率函数上都不同。螺旋线的特点是其恒定的“弯曲”和“扭曲”，而羊角螺线则具有可变的弯曲且没有扭曲。\n\n总之，函数 $(\\kappa(s), \\tau(s))$ 提供了对曲线几何形状的完整、局部和内蕴的描述。正如曲线理论基本定理所保证的，这三条给定曲线的这些不变量的常数值、非常数值、零值和非零值之间的差异，正是编码它们不同形状的关键。", "answer": "$$\n\\boxed{\\begin{pmatrix} \\frac{1}{R} & 0 & \\frac{R}{R^{2}+h^{2}} & \\frac{h}{R^{2}+h^{2}} & \\alpha s & 0 \\end{pmatrix}}\n$$", "id": "3049525"}, {"introduction": "曲线基本定理的一个关键点是，它在“刚体运动”的意义下确定了曲线的唯一性。本练习将这一抽象概念具体化：通过分析两条已知全等的曲线，你将从第一性原理出发，证明它们在弧长参数化下的曲率和挠率函数是完全相同的。这深刻地揭示了为何 $\\kappa(s)$ 和 $\\tau(s)$ 是衡量曲线内在“形状”的真正标准，而不受其在空间中的位置或朝向的影响。[@problem_id:3049493]", "problem": "设 $\\gamma_{1} : \\mathbb{R} \\to \\mathbb{R}^{3}$ 是由 $\\gamma_{1}(t) = \\big(2 \\cos t,\\, 2 \\sin t,\\, t\\big)$ 给出的正则曲线。设 $Q$ 是绕 $x$ 轴旋转角度 $\\pi/5$ 的旋转，即，\n$$\nQ \\,=\\, \\begin{pmatrix}\n1 & 0 & 0 \\\\\n0 & \\cos(\\pi/5) & -\\sin(\\pi/5) \\\\\n0 & \\sin(\\pi/5) & \\cos(\\pi/5)\n\\end{pmatrix},\n$$\n且设 $p = (1,-2,3)$。定义第二条曲线 $\\gamma_{2} : \\mathbb{R} \\to \\mathbb{R}^{3}$ 为\n$$\n\\gamma_{2}(u) \\,=\\, Q\\,\\gamma_{1}\\!\\big(3u + \\pi/7\\big) \\,+\\, p.\n$$\n从第一性原理出发，使用曲线理论的核心定义：对于一条经弧长 $s$ 重新参数化的 $C^{3}$ 正则曲线 $\\gamma$，单位切向量为 $T = d\\gamma/ds$，曲率为 $\\kappa(s) = \\|dT/ds\\|$，主法向量为 $N = (dT/ds)/\\kappa$，副法向量为 $B = T \\times N$，挠率为 $\\tau(s) = -dB/ds \\cdot N$。不要假定任何专门的“快捷”公式。\n\n任务：\n1) 解释为什么 $\\gamma_{1}$ 和 $\\gamma_{2}$ 是合同曲线，并确定它们的弧长参数 $s_{1}(t)$ 和 $s_{2}(u)$（不计加法常数）。\n\n2) 仅使用上述定义，证明当 $\\gamma_{1}$ 和 $\\gamma_{2}$ 各自用其自身的弧长参数重新参数化后，它们的曲率和挠率作为弧长的函数是重合的。\n\n3) 对此例，显式计算公共的曲率和挠率函数，用弧长参数表示。由于在本例中这些函数是常数，一对常数即可。将你的最终答案表示为行矩阵 $\\big(\\kappa \\;\\; \\tau\\big)$。无需四舍五入，也无需单位。", "solution": "该问题是有效的，因为它在微分几何学中有科学依据，问题提法得当，客观且内部一致。\n\n问题分为三个任务。我们将按顺序解决它们。\n\n1) 曲线的合同性及其弧长参数。\n\n两条曲线被定义为合同的，如果存在一个环境空间 $\\mathbb{R}^{3}$ 的刚体运动（等距变换），将一条曲线的轨迹映射到另一条曲线的轨迹上。刚体运动是旋转和平移的复合。关联 $\\gamma_{2}$ 和 $\\gamma_{1}$ 的变换由下式给出\n$$\n\\gamma_{2}(u) \\,=\\, Q\\,\\gamma_{1}\\!\\big(3u + \\pi/7\\big) \\,+\\, p\n$$\n让我们分析这个变换的组成部分。函数 $u \\mapsto \\phi(u) = 3u + \\pi/7$ 是一个重新参数化。它改变了曲线被描绘的速度，但没有改变其几何形状（其轨迹）。矩阵 $Q$ 是一个旋转矩阵，它是一个行列式为 $1$ 的正交矩阵。变换 $\\mathbf{x} \\mapsto Q\\mathbf{x}$ 是一个旋转，它是一种等距变换。向量 $p$ 代表一个平移，变换 $\\mathbf{x} \\mapsto \\mathbf{x} + p$ 也是一种等距变换。复合变换 $F(\\mathbf{x}) = Q\\mathbf{x} + p$ 是一个刚体运动。$\\gamma_{2}$ 的轨迹是在这个刚体运动 $F$ 下 $\\gamma_{1}$ 轨迹的像。因此，根据定义，曲线 $\\gamma_{1}$ 和 $\\gamma_{2}$ 是合同的。\n\n接下来，我们确定弧长参数。弧长参数 $s$ 由关系式 $ds = \\|\\gamma'(t)\\| dt$ 定义。\n\n对于 $\\gamma_{1}(t) = \\big(2 \\cos t,\\, 2 \\sin t,\\, t\\big)$，其切向量为\n$$\n\\gamma_{1}'(t) = \\frac{d\\gamma_{1}}{dt} = \\big(-2 \\sin t,\\, 2 \\cos t,\\, 1\\big).\n$$\n它的速率是这个向量的模：\n$$\n\\|\\gamma_{1}'(t)\\| = \\sqrt{(-2 \\sin t)^{2} + (2 \\cos t)^{2} + 1^{2}} = \\sqrt{4\\sin^{2}t + 4\\cos^{2}t + 1} = \\sqrt{4(1) + 1} = \\sqrt{5}.\n$$\n速率是恒定的。弧长参数 $s_{1}(t)$ 通过对速率积分得到：\n$$\ns_{1}(t) = \\int \\|\\gamma_{1}'(t)\\| dt = \\int \\sqrt{5} dt = \\sqrt{5}t + C_{1},\n$$\n其中 $C_{1}$ 是任意的积分常数。\n\n对于 $\\gamma_{2}(u) = Q\\,\\gamma_{1}\\!\\big(3u + \\pi/7\\big) + p$，我们使用链式法则求其切向量：\n$$\n\\gamma_{2}'(u) = \\frac{d\\gamma_{2}}{du} = Q \\cdot \\frac{d}{du} \\gamma_{1}(3u+\\pi/7) + \\frac{d}{du}p = Q \\cdot \\gamma_{1}'(3u+\\pi/7) \\cdot \\frac{d}{du}(3u+\\pi/7) = 3Q\\,\\gamma_{1}'(3u+\\pi/7).\n$$\n$\\gamma_{2}$ 的速率是 $\\gamma_{2}'(u)$ 的模。由于 $Q$ 是一个旋转矩阵，它是正交的，因此保持范数，即对于任何向量 $\\mathbf{v} \\in \\mathbb{R}^{3}$ 都有 $\\|Q\\mathbf{v}\\| = \\|\\mathbf{v}\\|$。\n$$\n\\|\\gamma_{2}'(u)\\| = \\|3Q\\,\\gamma_{1}'(3u+\\pi/7)\\| = 3 \\|Q\\,\\gamma_{1}'(3u+\\pi/7)\\| = 3 \\|\\gamma_{1}'(3u+\\pi/7)\\|.\n$$\n我们已经确定对于任何参数值 $t$，$\\|\\gamma_{1}'(t)\\| = \\sqrt{5}$。因此，$\\|\\gamma_{2}'(u)\\| = 3\\sqrt{5}$。$\\gamma_{2}$ 的速率也是恒定的。弧长参数 $s_{2}(u)$ 是：\n$$\ns_{2}(u) = \\int \\|\\gamma_{2}'(u)\\| du = \\int 3\\sqrt{5} du = 3\\sqrt{5}u + C_{2},\n$$\n其中 $C_{2}$ 是任意的积分常数。\n\n2) 曲率和挠率的重合。\n\n曲率和挠率是曲线的内蕴性质，这意味着它们在刚体运动和参数起点的选择下是不变的。题目要求我们从第一性原理出发来证明这一点。\n\n让我们用弧长 $s_{1}$ 重新参数化 $\\gamma_{1}$。我们选择 $C_{1} = 0$，则 $s_{1} = \\sqrt{5}t$，这意味着 $t = s_{1}/\\sqrt{5}$。弧长参数化的曲线是 $\\tilde{\\gamma}_{1}(s_{1}) = \\gamma_{1}(s_{1}/\\sqrt{5})$。\n让我们用弧长 $s_{2}$ 重新参数化 $\\gamma_{2}$。我们选择 $C_{2} = 0$，则 $s_{2} = 3\\sqrt{5}u$，这意味着 $u = s_{2}/(3\\sqrt{5})$。弧长参数化的曲线是 $\\tilde{\\gamma}_{2}(s_{2}) = \\gamma_{2}(s_{2}/(3\\sqrt{5}))$。\n代入 $\\gamma_{2}(u)$ 的表达式：\n$$\n\\tilde{\\gamma}_{2}(s_{2}) = Q\\,\\gamma_{1}\\Big(3\\Big(\\frac{s_{2}}{3\\sqrt{5}}\\Big) + \\frac{\\pi}{7}\\Big) + p = Q\\,\\gamma_{1}\\Big(\\frac{s_{2}}{\\sqrt{5}} + \\frac{\\pi}{7}\\Big) + p.\n$$\n我们可以用 $\\tilde{\\gamma}_{1}$ 来表示其宗量。设 $s_a = s_2$ 和 $s_b = s_2 + \\sqrt{5}\\pi/7$。则 $\\tilde{\\gamma}_{1}(s_b) = \\gamma_1(s_b/\\sqrt{5}) = \\gamma_1(s_2/\\sqrt{5} + \\pi/7)$。因此，\n$$\n\\tilde{\\gamma}_{2}(s_{a}) = Q\\,\\tilde{\\gamma}_{1}(s_b) + p = Q\\,\\tilde{\\gamma}_{1}(s_{a} + \\sqrt{5}\\pi/7) + p.\n$$\n这表明 $\\tilde{\\gamma}_{2}$ 是通过对 $\\tilde{\\gamma}_{1}$ 进行弧长参数的平移，然后进行旋转和平移得到的。设 $F(\\mathbf{x}) = Q\\mathbf{x}+p$ 和 $h(s) = s + \\sqrt{5}\\pi/7$。则 $\\tilde{\\gamma}_{2}(s) = F(\\tilde{\\gamma}_{1}(h(s)))$。\n\n让我们用 $\\tilde{\\gamma}_{1}$ 的 Frenet 标架来计算 $\\tilde{\\gamma}_{2}$ 的 Frenet 标架。设 $\\{T_{1}(s), N_{1}(s), B_{1}(s), \\kappa_{1}(s), \\tau_{1}(s)\\}$ 是 $\\tilde{\\gamma}_{1}$ 的 Frenet 标架。\n$\\tilde{\\gamma}_{2}$ 的切向量是 $T_{2}(s) = d\\tilde{\\gamma}_{2}/ds$：\n$$\nT_{2}(s) = \\frac{d}{ds} \\Big( Q\\,\\tilde{\\gamma}_{1}(h(s)) + p \\Big) = Q\\,\\frac{d\\tilde{\\gamma}_{1}}{ds}(h(s)) \\cdot h'(s) = Q\\,T_{1}(h(s)) \\cdot 1 = Q\\,T_{1}(h(s)).\n$$\n$T_{2}(s)$ 的导数是：\n$$\n\\frac{dT_{2}}{ds} = \\frac{d}{ds} \\big(Q\\,T_{1}(h(s))\\big) = Q\\,\\frac{dT_{1}}{ds}(h(s)) \\cdot h'(s) = Q\\,\\frac{dT_{1}}{ds}(h(s)).\n$$\n曲率 $\\kappa_{2}(s)$ 是这个向量的范数：\n$$\n\\kappa_{2}(s) = \\Big\\|\\frac{dT_{2}}{ds}\\Big\\| = \\Big\\|Q\\,\\frac{dT_{1}}{ds}(h(s))\\Big\\| = \\Big\\|\\frac{dT_{1}}{ds}(h(s))\\Big\\| = \\kappa_{1}(h(s)).\n$$\n主法向量 $N_{2}(s)$ 是：\n$$\nN_{2}(s) = \\frac{1}{\\kappa_{2}(s)}\\frac{dT_{2}}{ds} = \\frac{1}{\\kappa_{1}(h(s))}Q\\,\\frac{dT_{1}}{ds}(h(s)) = Q\\,\\left(\\frac{1}{\\kappa_{1}(h(s))}\\frac{dT_{1}}{ds}(h(s))\\right) = Q\\,N_{1}(h(s)).\n$$\n副法向量 $B_{2}(s)$ 是 $T_{2}(s) \\times N_{2}(s)$。因为 $Q$ 是一个旋转，$\\det(Q)=1$，并且它保持叉积：$Q(\\mathbf{a} \\times \\mathbf{b}) = (Q\\mathbf{a}) \\times (Q\\mathbf{b})$。\n$$\nB_{2}(s) = T_{2}(s) \\times N_{2}(s) = \\big(Q\\,T_{1}(h(s))\\big) \\times \\big(Q\\,N_{1}(h(s))\\big) = Q\\,\\big(T_{1}(h(s)) \\times N_{1}(h(s))\\big) = Q\\,B_{1}(h(s)).\n$$\n为了求挠率，我们对 $B_{2}(s)$ 求导：\n$$\n\\frac{dB_{2}}{ds} = \\frac{d}{ds} \\big(Q\\,B_{1}(h(s))\\big) = Q\\,\\frac{dB_{1}}{ds}(h(s)) \\cdot h'(s) = Q\\,\\frac{dB_{1}}{ds}(h(s)).\n$$\n挠率 $\\tau_{2}(s)$ 由 $\\tau_{2}(s) = - \\frac{dB_{2}}{ds} \\cdot N_{2}(s)$ 给出。\n$$\n\\tau_{2}(s) = - \\Big(Q\\,\\frac{dB_{1}}{ds}(h(s))\\Big) \\cdot \\big(Q\\,N_{1}(h(s))\\big).\n$$\n因为 $Q$ 是正交的，它保持点积：$(Q\\mathbf{a}) \\cdot (Q\\mathbf{b}) = \\mathbf{a} \\cdot \\mathbf{b}$。\n$$\n\\tau_{2}(s) = - \\frac{dB_{1}}{ds}(h(s)) \\cdot N_{1}(h(s)) = \\tau_{1}(h(s)).\n$$\n因此，我们已经证明了 $\\kappa_{2}(s) = \\kappa_{1}(s + \\sqrt{5}\\pi/7)$ 和 $\\tau_{2}(s) = \\tau_{1}(s + \\sqrt{5}\\pi/7)$。$\\gamma_{2}$ 的曲率和挠率函数仅仅是 $\\gamma_{1}$ 的相应函数的平移版本。由于内蕴性质不应依赖于起点，这证明了它们的根本同一性。当我们计算它们时，我们会发现它们是常数，所以 $\\kappa_1(s) = \\kappa_1$ 且 $\\tau_1(s) = \\tau_1$，这意味着 $\\kappa_2(s) = \\kappa_1$ 且 $\\tau_2(s) = \\tau_1$。这两个函数是相同的。\n\n3) 公共曲率和挠率的计算。\n\n我们只需要计算 $\\gamma_1$ 的 $\\kappa_{1}$ 和 $\\tau_{1}$。设 $s$ 为 $\\gamma_1$ 的弧长参数，其中 $s = \\sqrt{5}t$。\n弧长参数化的曲线是 $\\tilde{\\gamma}_{1}(s) = \\big(2 \\cos(s/\\sqrt{5}),\\, 2 \\sin(s/\\sqrt{5}),\\, s/\\sqrt{5}\\big)$。\n单位切向量 $T_{1}(s)$ 是：\n$$\nT_{1}(s) = \\frac{d\\tilde{\\gamma}_{1}}{ds} = \\Big(-\\frac{2}{\\sqrt{5}}\\sin\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, \\frac{2}{\\sqrt{5}}\\cos\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, \\frac{1}{\\sqrt{5}}\\Big).\n$$\n对 $T_{1}(s)$ 关于 $s$ 求导：\n$$\n\\frac{dT_{1}}{ds} = \\Big(-\\frac{2}{5}\\cos\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, -\\frac{2}{5}\\sin\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, 0\\Big).\n$$\n曲率 $\\kappa_{1}(s)$ 是这个向量的模：\n$$\n\\kappa_{1}(s) = \\Big\\|\\frac{dT_{1}}{ds}\\Big\\| = \\sqrt{\\Big(-\\frac{2}{5}\\cos\\Big(\\frac{s}{\\sqrt{5}}\\Big)\\Big)^2 + \\Big(-\\frac{2}{5}\\sin\\Big(\\frac{s}{\\sqrt{5}}\\Big)\\Big)^2} = \\sqrt{\\frac{4}{25}\\cos^2\\Big(\\frac{s}{\\sqrt{5}}\\Big) + \\frac{4}{25}\\sin^2\\Big(\\frac{s}{\\sqrt{5}}\\Big)} = \\sqrt{\\frac{4}{25}} = \\frac{2}{5}.\n$$\n曲率是一个常数，$\\kappa = 2/5$。\n主法向量 $N_{1}(s)$ 是：\n$$\nN_{1}(s) = \\frac{1}{\\kappa_{1}(s)}\\frac{dT_{1}}{ds} = \\frac{5}{2}\\Big(-\\frac{2}{5}\\cos\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, -\\frac{2}{5}\\sin\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, 0\\Big) = \\Big(-\\cos\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, -\\sin\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, 0\\Big).\n$$\n副法向量 $B_{1}(s) = T_{1}(s) \\times N_{1}(s)$ 是：\n$$\nB_{1}(s) = \\Big(-\\frac{2}{\\sqrt{5}}\\sin\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, \\frac{2}{\\sqrt{5}}\\cos\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, \\frac{1}{\\sqrt{5}}\\Big) \\times \\Big(-\\cos\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, -\\sin\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, 0\\Big)\n$$\n$$\nB_{1}(s) = \\Big(\\frac{1}{\\sqrt{5}}\\sin\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, -\\frac{1}{\\sqrt{5}}\\cos\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, \\frac{2}{5}\\sin^2\\Big(\\frac{s}{\\sqrt{5}}\\Big) + \\frac{2}{5}\\cos^2\\Big(\\frac{s}{\\sqrt{5}}\\Big)\\Big) = \\Big(\\frac{1}{\\sqrt{5}}\\sin\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, -\\frac{1}{\\sqrt{5}}\\cos\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, \\frac{2}{\\sqrt{5}}\\Big).\n$$\n等等，一个计算错误。叉积的k分量是：$\\frac{1}{\\sqrt{5}}( (-2\\sin)(-\\sin) - (2\\cos)(-\\cos) )/ \\sqrt{5} = \\frac{2}{\\sqrt{5}}$。让我们重新计算 $T_1 \\times N_1$：\n$$\nT_1 \\times N_1 = \\det \\begin{pmatrix} \\mathbf{i} & \\mathbf{j} & \\mathbf{k} \\\\ -\\frac{2}{\\sqrt{5}}\\sin\\theta & \\frac{2}{\\sqrt{5}}\\cos\\theta & \\frac{1}{\\sqrt{5}} \\\\ -\\cos\\theta & -\\sin\\theta & 0 \\end{pmatrix}\n$$\n其中 $\\theta = s/\\sqrt{5}$。\n$\\mathbf{i}(\\frac{2}{\\sqrt{5}}\\cos\\theta \\cdot 0 - \\frac{1}{\\sqrt{5}}(-\\sin\\theta)) + \\mathbf{j}(\\frac{1}{\\sqrt{5}}(-\\cos\\theta) - (-\\frac{2}{\\sqrt{5}}\\sin\\theta \\cdot 0)) + \\mathbf{k}((-\\frac{2}{\\sqrt{5}}\\sin\\theta)(-\\sin\\theta) - (\\frac{2}{\\sqrt{5}}\\cos\\theta)(-\\cos\\theta))$\n这得到：\n$\\mathbf{i}(\\frac{1}{\\sqrt{5}}\\sin\\theta) + \\mathbf{j}(-\\frac{1}{\\sqrt{5}}\\cos\\theta) + \\mathbf{k}(\\frac{2}{\\sqrt{5}}(\\sin^2\\theta + \\cos^2\\theta)) = (\\frac{1}{\\sqrt{5}}\\sin\\theta, -\\frac{1}{\\sqrt{5}}\\cos\\theta, \\frac{2}{\\sqrt{5}})$.\n$B_1(s) = (\\frac{1}{\\sqrt{5}}\\sin(s/\\sqrt{5}), -\\frac{1}{\\sqrt{5}}\\cos(s/\\sqrt{5}), \\frac{2}{\\sqrt{5}})$。\n对 $B_{1}(s)$ 关于 $s$ 求导：\n$$\n\\frac{dB_{1}}{ds} = \\Big(\\frac{1}{5}\\cos\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, \\frac{1}{5}\\sin\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, 0\\Big).\n$$\n挠率 $\\tau_{1}(s)$ 由 $\\tau_{1}(s) = -\\frac{dB_{1}}{ds} \\cdot N_{1}(s)$ 给出：\n$$\n\\tau_{1}(s) = - \\Big(\\frac{1}{5}\\cos\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, \\frac{1}{5}\\sin\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, 0\\Big) \\cdot \\Big(-\\cos\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, -\\sin\\Big(\\frac{s}{\\sqrt{5}}\\Big),\\, 0\\Big)\n$$\n$$\n\\tau_{1}(s) = -\\Big(-\\frac{1}{5}\\cos^2\\Big(\\frac{s}{\\sqrt{5}}\\Big) - \\frac{1}{5}\\sin^2\\Big(\\frac{s}{\\sqrt{5}}\\Big)\\Big) = - \\Big(-\\frac{1}{5}\\Big) = \\frac{1}{5}.\n$$\n挠率也是一个常数，$\\tau = 1/5$。\n这些是两条曲线的公共曲率和挠率。\n\n公共曲率：$\\kappa = 2/5$。\n公共挠率：$\\tau = 1/5$。", "answer": "$$\n\\boxed{\\begin{pmatrix} \\frac{2}{5} & \\frac{1}{5} \\end{pmatrix}}\n$$", "id": "3049493"}, {"introduction": "该定理不仅关乎唯一性，还包含“存在性”的承诺：给定一对合理的曲率和挠率函数，相应的曲线真的存在吗？本练习将通过编写程序，将这一理论构想转化为实践，即从给定的曲率函数 $\\kappa(s)$ 出发，通过数值积分来重建一条平面曲线。这个过程将让你直观地看到，局部的几何信息（曲率）是如何一步步累积，最终构建出曲线的全局形态。[@problem_id:3049517]", "problem": "要求您根据曲线论基本定理，从基本定义出发，实现从曲率重建平面单位速率曲线的过程。重建过程必须基于核心定义：对于一条由弧长 $s$ 参数化的单位速率平面曲线，其位置为 $r(s)$，单位切向量 $T(s)$ 定义为 $T(s) = r'(s)$ 且 $\\lVert T(s) \\rVert = 1$；带符号曲率 $\\kappa(s)$ 定义为切线方向相对于弧长的变化率。您的实现必须从这些定义出发，通过执行数值积分，根据在区间 $[a,b]$ 上给定的曲率 $\\kappa(s)$、初始点 $r(a)$ 以及确定 $T(a)$ 方向的初始切角 $\\theta(a)$，来生成终点位置 $r(b)$。\n\n设计要求：\n1. 使用 $N$ 个点对弧长区间 $[a,b]$ 进行均匀划分，通过对 $\\kappa(s)$ 关于 $s$ 积分来计算网格上的切角 $\\theta(s)$，然后对单位切向量 $T(s)$ 进行积分以重建 $r(s)$。所有角度必须以弧度为单位。\n2. 积分过程应采用稳定且一致的数值求积方案，该方案需适用于紧区间上的连续曲率函数；可接受复化梯形法则。\n3. 返回终点位置 $r(b)$，并将每个坐标四舍五入到 $6$ 位小数。\n\n测试套件：\n实现您的程序来处理以下测试用例，每个用例都带有指定的参数。对于每个测试用例，您将根据给定的曲率和初始数据重建一个终点位置 $r(b)$。\n- 案例 1 (边界情况：直线)：\n  - 区间：$[0,1]$。\n  - 曲率：对于所有 $s \\in [0,1]$，$\\kappa(s) = 0$。\n  - 初始角度：$\\theta(0) = 0$。\n  - 初始位置：$r(0) = (0,0)$。\n  - 网格大小：$N = 10001$。\n  - 预期的定性行为：曲线是一条与 x 轴对齐的直线段；终点位置应接近 $(1,0)$。\n- 案例 2 (周期性：恒定曲率下的闭合圆)：\n  - 区间：$[0, 2\\pi]$。\n  - 曲率：对于所有 $s \\in [0,2\\pi]$，$\\kappa(s) = 1$。\n  - 初始角度：$\\theta(0) = 0$。\n  - 初始位置：$r(0) = (0,0)$。\n  - 网格大小：$N = 50001$。\n  - 预期的定性行为：遍历一个单位圆；终点位置应接近 $(0,0)$。\n- 案例 3 (平滑变化的曲率)：\n  - 区间：$[0, \\pi]$。\n  - 曲率：$\\kappa(s) = \\sin s$。\n  - 初始角度：$\\theta(0) = 0$。\n  - 初始位置：$r(0) = (0,0)$。\n  - 网格大小：$N = 20001$。\n- 案例 4 (带有不连续点的分段曲率)：\n  - 区间：$[0, 1]$。\n  - 曲率：对于 $s \\le 0.5$，$\\kappa(s) = 0$；对于 $s > 0.5$，$\\kappa(s) = 2$。\n  - 初始角度：$\\theta(0) = 0$。\n  - 初始位置：$r(0) = (0,0)$。\n  - 网格大小：$N = 10001$。\n- 案例 5 (不同的初始方向)：\n  - 区间：$[0, 1]$。\n  - 曲率：对于所有 $s \\in [0,1]$，$\\kappa(s) = 0$。\n  - 初始角度：$\\theta(0) = \\pi/4$。\n  - 初始位置：$r(0) = (0,0)$。\n  - 网格大小：$N = 10001$。\n\n最终输出格式：\n您的程序应生成单行输出，其中包含一个由方括号括起来的逗号分隔列表。每个测试用例的结果是一个双元素列表 $[x_b,y_b]$，其中包含表示 $r(b)$ 的浮点数（四舍五入到 $6$ 位小数）。总体输出应为这些列表组成的列表，例如：$$[[x_1,y_1],[x_2,y_2],[x_3,y_3],[x_4,y_4],[x_5,y_5]]$$。角度必须解释为弧度。", "solution": "该问题是有效的，因为它提出了一个计算微分几何领域中适定且有科学依据的任务。它要求对平面曲线的曲线论基本定理进行数值实现，并为确定性解提供了所有必要的初始条件、函数和参数。\n\n该解决方案从带符号曲率函数 $\\kappa(s)$ 重建一条平面单位速率曲线，其中 $s$ 是弧长参数。其理论基础是**曲线论基本定理**，该定理对于平面情况表明，曲线的形状由其曲率函数 $\\kappa(s)$ 在刚性运动（平移和旋转）的意义下唯一确定。通过提供初始位置 $r(a)$ 和初始切线方向 $\\theta(a)$，曲线在平面中的特定路径就被固定下来了。\n\n设曲线的位置由向量函数 $r(s) = (x(s), y(s))$ 描述。对于单位速率参数化，切向量 $T(s)$ 由其关于弧长的导数给出：\n$$T(s) = \\frac{dr}{ds}(s)$$\n由于速率为 1，切向量的长度为单位长度，即 $\\lVert T(s) \\rVert = 1$。这使我们能够用切向量与 x 轴正半轴所成的角度 $\\theta(s)$ 来表示它：\n$$T(s) = (\\cos(\\theta(s)), \\sin(\\theta(s)))$$\n带符号曲率 $\\kappa(s)$ 定义为该角度 $\\theta(s)$ 相对于弧长 $s$ 的变化率：\n$$\\kappa(s) = \\frac{d\\theta}{ds}(s)$$\n要从给定区间 $[a, b]$ 上的曲率函数 $\\kappa(s)$ 重建曲线 $r(s)$，我们必须执行两次连续的积分。首先，我们对曲率进行积分以求出切角；其次，我们对切向量进行积分以求出位置。\n\n**步骤 1：确定切角 $\\theta(s)$**\n根据定义 $\\kappa(s) = d\\theta/ds$，我们可以通过对 $s$ 积分来求得 $\\theta(s)$：\n$$\\theta(s) = \\theta(a) + \\int_{a}^{s} \\kappa(u) \\, du$$\n其中 $\\theta(a)$ 是在 $s=a$ 处给定的初始角度。\n\n**步骤 2：确定位置向量 $r(s)$**\n根据定义 $T(s) = dr/ds$，我们可以通过对切向量积分来求得 $r(s)$：\n$$r(s) = r(a) + \\int_{a}^{s} T(u) \\, du$$\n其中 $r(a) = (x(a), y(a))$ 是给定的初始位置。这个向量方程可以分解为两个关于坐标的标量积分：\n$$x(s) = x(a) + \\int_{a}^{s} \\cos(\\theta(u)) \\, du$$\n$$y(s) = y(a) + \\int_{a}^{s} \\sin(\\theta(u)) \\, du$$\n\n**数值实现**\n为了对这些积分进行数值计算，我们将弧长区间 $[a, b]$ 离散化为 $N$ 个点，创建一个均匀网格 $s_i = a + i \\cdot h$，$i = 0, 1, \\dots, N-1$，其中步长为 $h = (b-a)/(N-1)$。然后我们使用复化梯形法则来近似计算这些积分，这涉及到遍历网格并在每一步应用单步梯形法则。\n\n算法流程如下：\n1.  在 $s_0=a$ 处初始化状态：\n    -   角度：$\\theta_0 = \\theta(a)$\n    -   位置：$r_0 = (x_0, y_0) = r(a)$\n    -   在所有网格点上计算曲率函数值：$\\kappa_i = \\kappa(s_i)$。\n\n2.  从 $i = 0$ 迭代到 $N-2$ 来计算 $s_{i+1}$ 处的值：\n    a.  **更新角度 $\\theta_{i+1}$**：我们近似计算 $\\kappa(s)$ 从 $s_i$ 到 $s_{i+1}$ 的积分。使用单步梯形法则：\n        $$\\theta_{i+1} = \\theta_i + \\int_{s_i}^{s_{i+1}} \\kappa(u) \\, du \\approx \\theta_i + \\frac{h}{2}(\\kappa_i + \\kappa_{i+1})$$\n    b.  **更新位置 $r_{i+1}$**：已知 $\\theta_i$ 和 $\\theta_{i+1}$，我们可以求出切向量 $T_i = (\\cos(\\theta_i), \\sin(\\theta_i))$ 和 $T_{i+1} = (\\cos(\\theta_{i+1}), \\sin(\\theta_{i+1}))$。然后我们近似计算 $T(s)$ 从 $s_i$ 到 $s_{i+1}$ 的积分：\n        $$r_{i+1} = r_i + \\int_{s_i}^{s_{i+1}} T(u) \\, du \\approx r_i + \\frac{h}{2}(T_i + T_{i+1})$$\n        这对应于更新每个坐标：\n        $$x_{i+1} \\approx x_i + \\frac{h}{2}(\\cos(\\theta_i) + \\cos(\\theta_{i+1}))$$\n        $$y_{i+1} \\approx y_i + \\frac{h}{2}(\\sin(\\theta_i) + \\sin(\\theta_{i+1}))$$\n\n3.  最终结果是区间末端的位置向量 $r_{N-1} = r(b)$，其分量已按指定精度四舍五入。这个基于基本定义的迭代过程，正确地实现了从第一性原理出发的重建。", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef reconstruct_curve(k_func, interval, initial_pos, initial_angle, N):\n    \"\"\"\n    Reconstructs a planar unit-speed curve from its curvature using numerical integration.\n\n    Args:\n        k_func (callable): A function that takes an array of arc length values s\n                           and returns the curvature k(s).\n        interval (list or tuple): The start and end of the arc length interval [a, b].\n        initial_pos (tuple): The initial position of the curve r(a) = (x(a), y(a)).\n        initial_angle (float): The initial tangent angle theta(a) in radians.\n        N (int): The number of points in the uniform grid.\n\n    Returns:\n        list: The final position [x(b), y(b)] with coordinates rounded to 6 decimal places.\n    \"\"\"\n    a, b = interval\n    if N <= 1:\n        # If N is 0 or 1, the interval has no length or one point.\n        # The position does not change from the initial position.\n        return [round(coord, 6) for coord in initial_pos]\n        \n    h = (b - a) / (N - 1)\n    s = np.linspace(a, b, N)\n\n    # Evaluate the curvature function at all grid points\n    k_values = k_func(s)\n\n    # Initialize arrays for the angle (theta) and position (r)\n    theta = np.zeros(N)\n    r = np.zeros((N, 2))\n\n    # Set the initial conditions\n    theta[0] = initial_angle\n    r[0] = initial_pos\n\n    # Perform numerical integration using the composite trapezoidal rule iteratively\n    for i in range(N - 1):\n        # Step 1: Integrate curvature k(s) to find the tangent angle theta(s)\n        # The integral over one step [s_i, s_{i+1}] is approximated by h/2 * (k_i + k_{i+1})\n        theta[i+1] = theta[i] + (h / 2.0) * (k_values[i] + k_values[i+1])\n\n        # Step 2: Integrate the tangent vector T(s) = (cos(theta), sin(theta)) to find position r(s)\n        # The tangent vectors at the endpoints of the step\n        T_i = np.array([np.cos(theta[i]), np.sin(theta[i])])\n        T_i1 = np.array([np.cos(theta[i+1]), np.sin(theta[i+1])])\n        \n        # The integral of the tangent vector over one step is approximated by h/2 * (T_i + T_{i+1})\n        r[i+1] = r[i] + (h / 2.0) * (T_i + T_i1)\n\n    # The final position is the last element of the position array\n    end_position = r[-1]\n    \n    # Return rounded coordinates as per problem specification\n    return [round(end_position[0], 6), round(end_position[1], 6)]\n\ndef solve():\n    \"\"\"\n    Processes all test cases specified in the problem and prints the results.\n    \"\"\"\n    test_cases = [\n        # Case 1: Straight line (zero curvature)\n        {'k_func': lambda s: np.zeros_like(s), 'interval': [0, 1], 'initial_pos': (0, 0), 'initial_angle': 0, 'N': 10001},\n        \n        # Case 2: Unit circle (constant curvature)\n        {'k_func': lambda s: np.ones_like(s), 'interval': [0, 2 * np.pi], 'initial_pos': (0, 0), 'initial_angle': 0, 'N': 50001},\n        \n        # Case 3: Varying curvature (sine wave)\n        {'k_func': lambda s: np.sin(s), 'interval': [0, np.pi], 'initial_pos': (0, 0), 'initial_angle': 0, 'N': 20001},\n        \n        # Case 4: Piecewise curvature (discontinuity)\n        # np.piecewise is vectorized and evaluates k(s) correctly on the grid.\n        {'k_func': lambda s: np.piecewise(s, [s <= 0.5, s > 0.5], [0, 2]), 'interval': [0, 1], 'initial_pos': (0, 0), 'initial_angle': 0, 'N': 10001},\n        \n        # Case 5: Straight line with different initial orientation\n        {'k_func': lambda s: np.zeros_like(s), 'interval': [0, 1], 'initial_pos': (0, 0), 'initial_angle': np.pi / 4, 'N': 10001},\n    ]\n\n    results = []\n    for case in test_cases:\n        result = reconstruct_curve(\n            k_func=case['k_func'],\n            interval=case['interval'],\n            initial_pos=case['initial_pos'],\n            initial_angle=case['initial_angle'],\n            N=case['N']\n        )\n        results.append(result)\n\n    # Format the final output string exactly as specified: [[x1,y1],[x2,y2],...]\n    # without extra spaces introduced by default list-to-string conversion.\n    final_string = '[' + ','.join(f'[{r[0]},{r[1]}]' for r in results) + ']'\n    print(final_string)\n\nsolve()\n```", "id": "3049517"}]}