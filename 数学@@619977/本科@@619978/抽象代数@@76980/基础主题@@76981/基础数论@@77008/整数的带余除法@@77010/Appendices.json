{"hands_on_practices": [{"introduction": "整数除法算法为我们提供了独特的商 $q$ 和余数 $r$。这个练习引导我们思考一个有趣的问题：如果商和余数相等会怎样？[@problem_id:1829598] 通过将除法算法的方程 $a = bq + r$ 视为一个构造工具而非仅仅是计算工具，你将学会如何定义和分析具有特定属性的整数集合。", "problem": "设 $b$ 是一个大于1的固定整数。整数的除法算法表明，对于任意给定的整数 $a$，存在唯一的整数 $q$（商）和 $r$（余数），使得 $a = bq + r$ 成立，且满足条件 $0 \\le r  b$。\n\n考虑所有在被 $b$ 除时其商 $q$ 等于其余数 $r$ 的整数 $a$。求这些整数组成的集合中所有元素之和关于 $b$ 的闭式表达式。", "solution": "我们从除法算法出发：对于任意整数 $a$ 和固定整数 $b1$，存在唯一的整数 $q$ 和 $r$，使得\n$$\na=bq+r, \\quad 0 \\le r  b.\n$$\n我们所研究的整数 $a$ 满足商等于余数，即 $q=r$。将 $r=q$ 代入除法算法的表达式中，得到\n$$\na=bq+q=(b+1)q.\n$$\n约束条件 $0 \\le r  b$ 在 $r=q$ 时变为\n$$\n0 \\le q  b.\n$$\n因此，$q$ 的取值范围是整数集合 $\\{0,1,2,\\dots,b-1\\}$。对于每个这样的 $q$，对应的整数 $a$ 为\n$$\na=(b+1)q,\n$$\n所以所有这类整数 $a$ 的集合是 $\\{(b+1)q : q=0,1,\\dots,b-1\\}$。\n\n此集合中所有整数的和 $S$ 为\n$$\nS=\\sum_{q=0}^{b-1}(b+1)q=(b+1)\\sum_{q=0}^{b-1}q.\n$$\n使用标准求和公式 $\\sum_{q=0}^{n}q=\\frac{n(n+1)}{2}$，并令 $n=b-1$，我们得到\n$$\n\\sum_{q=0}^{b-1}q=\\frac{(b-1)b}{2}.\n$$\n因此，\n$$\nS=(b+1)\\cdot \\frac{(b-1)b}{2}=\\frac{b(b-1)(b+1)}{2}.\n$$\n此表达式即为所求的、所有被 $b$ 除时其商等于其余数的整数 $a$ 的和的闭式表达式。", "answer": "$$\\boxed{\\frac{b(b-1)(b+1)}{2}}$$", "id": "1829598"}, {"introduction": "我们知道对于给定的整数 $a$ 和正整数 $b$，商 $q$ 是唯一确定的。但如果我们将 $a$ 稍作改变，加上一个整数 $k$，商 $q$ 会在什么条件下保持不变呢？这个练习 [@problem_id:1829623] 将引导你探索商的“稳定性区间”，从而揭示对于一个固定的商 $q$，存在一个包含 $b$ 个整数的范围，其中所有数除以 $b$ 的商都是 $q$。", "problem": "设 $a$ 为任意整数，$b$ 为正整数。整数的带余除法（Division Algorithm）表明，对于任意整数 $x$ 和任意正整数 $y$，存在唯一的整数 $q$ 和 $r$ 使得 $x = yq + r$ 且 $0 \\le r  y$。整数 $q$ 被称为 $x$ 除以 $y$ 的商。\n\n设 $S$ 是所有满足 $(a+k)$ 除以 $b$ 的商等于 $a$ 除以 $b$ 的商的整数 $k$ 的集合。求 $S$ 中元素的个数（记为 $|S|$）的一个简单表达式。该表达式可以包含参数 $a$ 和 $b$。", "solution": "设 $b0$，根据带余除法，可将 $a$ 写为 $a = bq + r$，其中 $q,r \\in \\mathbb{Z}$ 且 $0 \\le r  b$。那么 $q$ 就是 $a$ 除以 $b$ 的商。\n\n整数 $k$ 属于 $S$ 当且仅当 $(a+k)$ 除以 $b$ 的商等于 $q$。根据带余除法，这等价于存在某个 $r'$ 满足 $0 \\le r'  b$ 使得\n$$\na + k = bq + r'.\n$$\n代入 $a = bq + r$ 可得\n$$\nbq + r + k = bq + r' \\quad \\Longrightarrow \\quad k = r' - r.\n$$\n当 $r'$ 取遍 $b$ 个整数 $\\{0,1,\\dots,b-1\\}$ 时，对应的 $k$ 取遍 $b$ 个连续整数 $\\{-r, -r+1, \\dots, b-1-r\\}$，且这些整数各不相同。因此，集合 $S$ 恰好有 $b$ 个元素，这与 $a$ 的取值无关。\n\n所以，\n$$\n|S| = b.\n$$", "answer": "$$\\boxed{b}$$", "id": "1829623"}, {"introduction": "知道两个数 $a$ 和 $c$ 各自除以 $b$ 的商和余数后，我们能否直接确定它们的乘积 $ac$ 除以 $b$ 的商呢？这个练习 [@problem_id:1829608] 要求你进行一次完整的代数推导，得出一个关于乘积之商的通用表达式。这个过程不仅能磨练你的代数处理能力，也为理解模算术和环论中的运算结构奠定了重要的概念基础。", "problem": "设 $a, c$ 为整数， $b$ 为正整数。根据除法算法，当 $a$ 除以 $b$ 时，存在唯一的整数商 $q_a$ 和唯一的整数余数 $r_a$，使得 $a = b q_a + r_a$ 且 $0 \\le r_a  b$。类似地，当 $c$ 除以 $b$ 时，我们有 $c = b q_c + r_c$，其中有唯一的整数商 $q_c$ 和唯一的整数余数 $r_c$ 满足 $0 \\le r_c  b$。\n\n考虑乘积 $ac$。当 $ac$ 除以 $b$ 时，也存在唯一的整数商 $Q$ 和唯一的整数余数 $R$，使得 $ac = b Q + R$ 且 $0 \\le R  b$。\n\n你的任务是找出商 $Q$ 的一个表达式。该表达式必须只用 $b, q_a, r_a, q_c,$ 和 $r_c$ 来表示。你可以在表达式中使用标准数学函数，例如记作 $\\lfloor x \\rfloor$ 的底函数，它表示不大于 $x$ 的最大整数。", "solution": "根据除法算法，可写出\n$$a=b q_{a}+r_{a},\\quad 0\\le r_{a}b,\\qquad c=b q_{c}+r_{c},\\quad 0\\le r_{c}b.$$\n计算乘积：\n$$ac=(b q_{a}+r_{a})(b q_{c}+r_{c})=b^{2}q_{a}q_{c}+b q_{a}r_{c}+b q_{c}r_{a}+r_{a}r_{c}.$$\n从 $b$ 的倍数项中提出因子 $b$：\n$$ac=b\\big(b q_{a}q_{c}+q_{a}r_{c}+q_{c}r_{a}\\big)+r_{a}r_{c}.$$\n项 $r_{a}r_{c}$ 可能大于或等于 $b$，因此将 $r_{a}r_{c}$ 除以 $b$：\n$$r_{a}r_{c}=b\\left\\lfloor\\frac{r_{a}r_{c}}{b}\\right\\rfloor+\\Big(r_{a}r_{c}-b\\left\\lfloor\\frac{r_{a}r_{c}}{b}\\right\\rfloor\\Big),$$\n其中根据底函数的定义，余数 $R:=r_{a}r_{c}-b\\left\\lfloor\\frac{r_{a}r_{c}}{b}\\right\\rfloor$ 满足 $0\\le Rb$。将此代入 $ac$ 的表达式中，得到\n$$ac=b\\left(b q_{a}q_{c}+q_{a}r_{c}+q_{c}r_{a}+\\left\\lfloor\\frac{r_{a}r_{c}}{b}\\right\\rfloor\\right)+\\Big(r_{a}r_{c}-b\\left\\lfloor\\frac{r_{a}r_{c}}{b}\\right\\rfloor\\Big).$$\n与 $ac=bQ+R$ 比较，并利用商和余数的唯一性，可得商为\n$$Q=b q_{a}q_{c}+q_{a}r_{c}+q_{c}r_{a}+\\left\\lfloor\\frac{r_{a}r_{c}}{b}\\right\\rfloor.$$", "answer": "$$\\boxed{b q_{a} q_{c}+q_{a} r_{c}+q_{c} r_{a}+\\left\\lfloor\\frac{r_{a} r_{c}}{b}\\right\\rfloor}$$", "id": "1829608"}]}