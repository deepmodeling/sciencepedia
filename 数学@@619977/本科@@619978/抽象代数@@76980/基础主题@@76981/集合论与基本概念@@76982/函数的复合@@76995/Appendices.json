{"hands_on_practices": [{"introduction": "与数字乘法不同，函数复合通常不具有交换性。本练习提供了一个具体的反例[@problem_id:1358150]，让你通过精确应用函数定义，亲身体会为何复合的顺序至关重要。这不仅能巩固你对函数复合基本操作的理解，还能培养严谨的数学思维。", "problem": "考虑两个函数 $f$ 和 $g$，它们将整数映射到整数（$\\mathbb{Z} \\to \\mathbb{Z}$）。对于任意整数 $n$，这两个函数的定义如下：\n$f(n) = \\lfloor \\frac{n}{2} \\rfloor$\n$g(n) = 2n + 1$\n此处，$\\lfloor x \\rfloor$ 表示向下取整函数，它给出小于或等于 $x$ 的最大整数。\n\n求最小的正整数 $n$，使得复合函数 $(f \\circ g)(n)$ 和 $(g \\circ f)(n)$ 的值不相等。", "solution": "已知对于整数 $n$，有 $f(n)=\\left\\lfloor \\frac{n}{2} \\right\\rfloor$ 和 $g(n)=2n+1$。我们明确地计算这两个复合函数：\n$$(f\\circ g)(n)=f(g(n))=\\left\\lfloor \\frac{2n+1}{2} \\right\\rfloor=\\left\\lfloor n+\\frac{1}{2} \\right\\rfloor=n,$$\n因为对于任意整数 $n$，都有 $\\left\\lfloor n+\\frac{1}{2} \\right\\rfloor=n$。\n\n接下来，\n$$(g\\circ f)(n)=g(f(n))=2\\left\\lfloor \\frac{n}{2} \\right\\rfloor+1.$$\n为了进行比较，我们考虑 $n$ 的奇偶性：\n- 如果 $n=2k$ 是偶数，那么 $\\left\\lfloor \\frac{n}{2} \\right\\rfloor=k$，因此 $(g\\circ f)(n)=2k+1=n+1\\neq n=(f\\circ g)(n)$。\n- 如果 $n=2k+1$ 是奇数，那么 $\\left\\lfloor \\frac{n}{2} \\right\\rfloor=k$，因此 $(g\\circ f)(n)=2k+1=n=(f\\circ g)(n)$。\n\n因此，当且仅当 $n$ 为偶数时，这两个复合函数的值不相等。最小的正偶数是 $n=2$，这也是使得 $(f\\circ g)(n)\\neq(g\\circ f)(n)$ 的最小正整数。", "answer": "$$\\boxed{2}$$", "id": "1358150"}, {"introduction": "一旦你掌握了如何构建复合函数，就可以开始分析它的性质。本练习[@problem_id:2292285]向你提出挑战：寻找一个复合函数的“不动点”——即那些经过函数映射后保持不变的输入值。这个过程将函数复合的构造与代数问题求解巧妙地结合在一起，展示了不同数学概念的融会贯通。", "problem": "考虑两个实值函数 $f: \\mathbb{R} \\to \\mathbb{R}$ 和 $g: \\mathbb{R} \\to \\mathbb{R}$，其表达式定义为 $f(x) = x^2$ 和 $g(x) = x - 1$。令 $h(x)$ 为先应用 $g$ 再应用 $f$ 得到的复合函数；即 $h(x) = (f \\circ g)(x) = f(g(x))$。\n\n如果一个函数将一个实数 $c$ 映射到其自身，则称 $c$ 为该函数的一个不动点。换言之，若 $h(c) = c$，则 $c$ 是 $h(x)$ 的一个不动点。\n\n求函数 $h(x)$ 的所有实数不动点。最终答案应为精确表达式。", "solution": "给定 $f(x) = x^{2}$ 和 $g(x) = x - 1$。复合函数 $h(x) = (f \\circ g)(x)$ 是通过将 $g(x)$ 代入 $f$ 得到的：\n$$\nh(x) = f(g(x)) = f(x - 1) = (x - 1)^{2}.\n$$\n$h$ 的一个不动点 $c$ 满足 $h(c) = c$。因此，我们求解\n$$\n(c - 1)^{2} = c.\n$$\n展开左边并整理项得到\n$$\nc^{2} - 2c + 1 = c \\quad \\Longrightarrow \\quad c^{2} - 3c + 1 = 0.\n$$\n这是一个二次方程。使用二次方程 $az^{2} + bz + d = 0$ 的求根公式 $z = \\frac{-b \\pm \\sqrt{b^{2} - 4ad}}{2a}$，并取 $a = 1$，$b = -3$，$d = 1$，我们得到\n$$\nc = \\frac{-(-3) \\pm \\sqrt{(-3)^{2} - 4 \\cdot 1 \\cdot 1}}{2 \\cdot 1} = \\frac{3 \\pm \\sqrt{9 - 4}}{2} = \\frac{3 \\pm \\sqrt{5}}{2}.\n$$\n两个解都是实数，所以这些是 $h$ 的所有实数不动点。", "answer": "$$\\boxed{\\begin{pmatrix} \\frac{3 - \\sqrt{5}}{2} & \\frac{3 + \\sqrt{5}}{2} \\end{pmatrix}}$$", "id": "2292285"}, {"introduction": "将一个函数与自身反复复合，有时会产生意想不到的规律。本练习[@problem_id:1783051]引入了函数“阶”的概念，挑战你找出需要多少次迭代才能使函数变回其初始状态。这揭示了函数复合与代数中“循环群”概念之间的深刻联系，为我们展示了数学不同分支间的美妙共鸣。", "problem": "考虑除去零和一的实数集合，记为 $S = \\mathbb{R} \\setminus \\{0, 1\\}$。设函数 $f: S \\to S$ 的定义为 $f(x) = \\frac{x-1}{x}$。\n\n我们可以将此函数与自身进行重复复合。设 $f^1(x) = f(x)$，$f^2(x) = f(f(x))$，且一般地，对于任意整数 $n > 1$，有 $f^n(x) = f(f^{n-1}(x))$。这个过程生成了一个函数序列。\n\n函数 $f$ 在复合运算下的*阶*定义为满足对所有 $x \\in S$ 都有 $f^n(x) = x$ 的最小正整数 $n$。求函数 $f$ 的阶。", "solution": "我们首先验证 $f$ 将 $S$ 映射到 $S$。对于 $x \\in S$，$x \\neq 0$，因此 $f(x)$ 有定义。若 $f(x) = 0$，则 $\\frac{x-1}{x} = 0$ 意味着 $x-1 = 0$，即 $x = 1$，但该值已被排除。若 $f(x) = 1$，则 $\\frac{x-1}{x} = 1$ 意味着 $x-1 = x$，即 $-1 = 0$，这是一个矛盾。因此，对所有 $x \\in S$ 都有 $f(x) \\in S$。\n\n我们来显式计算各次迭代。从\n$$\nf(x) = \\frac{x-1}{x},\n$$\n开始，我们求得\n$$\nf^{2}(x) = f(f(x)) = \\frac{\\frac{x-1}{x} - 1}{\\frac{x-1}{x}} = \\frac{\\frac{x-1-x}{x}}{\\frac{x-1}{x}} = \\frac{\\frac{-1}{x}}{\\frac{x-1}{x}} = \\frac{-1}{x} \\cdot \\frac{x}{x-1} = \\frac{-1}{x-1} = \\frac{1}{1-x}.\n$$\n接着，\n$$\nf^{3}(x) = f(f^{2}(x)) = \\frac{\\frac{1}{1-x} - 1}{\\frac{1}{1-x}} = \\frac{\\frac{1-(1-x)}{1-x}}{\\frac{1}{1-x}} = \\frac{\\frac{x}{1-x}}{\\frac{1}{1-x}} = \\frac{x}{1-x} \\cdot (1-x) = x.\n$$\n因此，对所有 $x \\in S$ 都有 $f^{3}(x) = x$，所以 $f^{3}$ 是 $S$ 上的恒等函数。\n\n为证明其最小性，我们检查 $f$ 和 $f^{2}$ 都不是 $S$ 上的恒等函数。如果 $f$ 是恒等函数，则应有\n$$\n\\frac{x-1}{x} = x \\quad \\text{for all } x \\in S,\n$$\n该式可整理为 $x^{2} - x + 1 = 0$。此二次方程的判别式为 $1 - 4 = -3 < 0$，故其没有实数解；因此 $f$ 不是恒等函数。如果 $f^{2}$ 是恒等函数，则应有\n$$\n\\frac{1}{1-x} = x \\quad \\text{for all } x \\in S,\n$$\n这同样意味着 $x^{2} - x + 1 = 0$，该方程也没有实数解；因此 $f^{2}$ 也不是恒等函数。\n\n因此，使得 $f^{n}$ 是 $S$ 上的恒等函数的最小正整数 $n$ 是 $n = 3$。$f$ 的阶是 $3$。", "answer": "$$\\boxed{3}$$", "id": "1783051"}]}