{"hands_on_practices": [{"introduction": "理论的理解始于实践。这个练习将我们带回双射函数最核心的定义，通过函数复合的视角来审视单射性与满射性。当两个函数的复合是一个恒等映射时，这会对原函数各自的性质产生什么必然的限制？通过剖析这个问题，你将深化对函数性质之间深刻联系的理解，为后续学习逆函数等概念打下坚实基础。", "problem": "考虑两个非空集合 $A$ 和 $B$。设 $f: A \\to B$ 和 $g: B \\to A$ 为两个函数。假设它们的复合函数，记作 $f \\circ g$，是集合 $B$ 上的恒等映射。这意味着对于 $B$ 中的每一个元素 $b$，等式 $f(g(b)) = b$ 恒成立。\n\n如果一个函数将其定义域中的不同元素映射到其上域中的不同元素，则称该函数为单射（或一对一）的。如果一个函数的上域中的每个元素都是其定义域中至少一个元素的像，则称该函数为满射（或映上的）。\n\n仅根据这些信息，下列哪个陈述必然为真？选择所有有效选项。\n\nA. 函数 $f$ 是单射的。\n\nB. 函数 $f$ 是满射的。\n\nC. 函数 $g$ 是单射的。\n\nD. 函数 $g$ 是满射的。\n\nE. 复合函数 $g \\circ f$ 是 $A$ 上的恒等映射。", "solution": "我们已知非空集合 $A$ 和 $B$、函数 $f: A \\to B$ 和 $g: B \\to A$，以及条件 $f \\circ g = \\operatorname{id}_{B}$，即对于所有 $b \\in B$，\n$$\nf(g(b)) = b.\n$$\n\n我们逐一分析每个陈述：\n\n- 证明 $f$ 是满射的（陈述 B）：任取 $b \\in B$。根据给定条件，\n$$\nb = f(g(b)).\n$$\n因此 $b$ 位于 $f$ 的像集中，所以 $B$ 中的每个元素 $b$ 都被 $f$ 映射到。因此，$f$ 是满射的。\n\n- 证明 $g$ 是单射的（陈述 C）：假设 $b_{1}, b_{2} \\in B$ 满足 $g(b_{1}) = g(b_{2})$。将函数 $f$ 应用于等式两边，得到\n$$\nf(g(b_{1})) = f(g(b_{2})) \\implies b_{1} = b_{2}.\n$$\n因此 $g$ 是单射的。\n\n- 陈述 A（$f$ 是单射的）不一定成立。一个具体的反例是：设 $A = \\{1,2\\}$ 且 $B = \\{b\\}$。定义 $f(1) = b$ 且 $f(2) = b$（所以 $f$ 不是单射的）。定义 $g(b) = 1$。那么对于所有 $b \\in B$，\n$$\nf(g(b)) = f(1) = b,\n$$\n所以 $f \\circ g = \\operatorname{id}_{B}$ 成立，但 $f$ 并非单射。因此 A 不一定为真。\n\n- 陈述 D（$g$ 是满射的）不一定成立。使用相同的反例，$g(B) = \\{1\\} \\subsetneq A$，所以 $g$ 不是满射的。因此 D 不一定为真。\n\n- 陈述 E（$g \\circ f = \\operatorname{id}_{A}$）不一定成立。在上述反例中，对于 $a = 2$，\n$$\n(g \\circ f)(2) = g(b) = 1 \\neq 2,\n$$\n所以 $g \\circ f \\neq \\operatorname{id}_{A}$。总的来说，$f \\circ g = \\operatorname{id}_{B}$ 意味着 $f$ 是满射的且 $g$ 是单射的，但这并不意味着它们互为逆函数。\n\n因此，必然为真的陈述是 B 和 C。", "answer": "$$\\boxed{BC}$$", "id": "1779428"}, {"introduction": "接下来，我们将抽象的集合概念应用到一个具体的代数结构中：模$n$整数环 $\\mathbb{Z}_n$。这个问题以一个假设的“数据加扰”场景为背景，来探讨何种条件下线性映射 $f(x) \\equiv ax \\pmod{n}$ 是可逆的。解答这个问题的关键在于揭示数论中的最大公约数性质与函数在代数系统中的双射行为之间的内在联系。", "problem": "一个简单的数据置乱算法作用于整数集合 $\\mathbb{Z}_n = \\{0, 1, 2, \\dots, n-1\\}$，其中 $n  1$ 是一个固定的整数。该算法取一个整数 $x \\in \\mathbb{Z}_n$，并使用一个秘密整数密钥 $a$ 将其映射到一个新的整数 $y \\in \\mathbb{Z}_n$，其中 $a$ 也是一个从 $0$ 到 $n-1$ 的整数。该映射由函数 $f(x) \\equiv ax \\pmod{n}$ 定义。\n\n为了使这个置乱算法有用，它必须是完全可逆的。这意味着对于每一个可能的置乱输出 $y \\in \\mathbb{Z}_n$，必须存在且仅存在一个原始输入 $x \\in \\mathbb{Z}_n$ 使得 $f(x) = y$。\n\n关于密钥 $a$ 和模数 $n$ 的下列哪个条件能保证置乱函数 $f(x)$ 对于 $\\mathbb{Z}_n$ 中的任意选择的 $x$ 都是完全可逆的？\n\nA. $a$ 是一个素数。\n\nB. $n$ 是一个素数。\n\nC. $a$ 和 $n$ 的最大公约数是 1。\n\nD. $a$ 是 $n$ 的一个因子。\n\nE. $n$ 是 $a$ 的一个因子。", "solution": "我们被给予了映射 $f:\\mathbb{Z}_{n}\\to\\mathbb{Z}_{n}$，定义为 $f(x)\\equiv ax \\pmod{n}$，其中 $a\\in\\{0,1,\\dots,n-1\\}$。该函数是完全可逆的，当且仅当它在有限集 $\\mathbb{Z}_{n}$ 上是双射的，这等价于 $f$ 是单射的。\n\n一个线性映射 $x\\mapsto ax \\pmod{n}$ 是一个双射，当且仅当 $a$ 存在模 $n$ 的乘法逆元，即，存在一个 $b\\in\\mathbb{Z}_{n}$ 使得\n$$\nab\\equiv 1 \\pmod{n}.\n$$\n根据裴蜀定理（Bézout’s identity），这样的 $b$ 存在，当且仅当最大公约数满足\n$$\n\\gcd(a,n)=1.\n$$\n充分性证明：如果 $\\gcd(a,n)=1$，那么存在整数 $u,v$ 使得\n$$\nua+vn=1.\n$$\n在模 $n$ 下简化，我们得到\n$$\nua\\equiv 1 \\pmod{n},\n$$\n所以 $u$ 是 $a$ 模 $n$ 的一个逆元。因此对于任意 $y\\in\\mathbb{Z}_{n}$，唯一的原像是 $x\\equiv uy \\pmod{n}$，这使得 $f$ 成为双射，从而完全可逆。\n\n必要性证明：如果 $f$ 是双射的，那么存在一个逆映射，并且存在 $b$ 使得 $ab\\equiv 1 \\pmod{n}$，即\n$$\nab-1=kn\n$$\n对于某个整数 $k$。$a$ 和 $n$ 的任何公约数 $d$ 都能整除等式的左边，因此也能整除 $1$，所以 $d=1$，这意味着 $\\gcd(a,n)=1$。\n\n因此，充要条件是 $\\gcd(a,n)=1$。\n\n检查选项：\n- A 不充分：例如，当 $n=6$ 且 $a=3$（素数）时，我们有 $\\gcd(3,6)=3\\neq 1$，且 $f$ 不是单射的，因为 $f(0)\\equiv f(2)\\equiv 0 \\pmod{6}$。\n- B 如陈述的那样不充分：如果 $n$ 是素数但 $a=0$，那么 $f$ 将每个 $x$ 映射到 $0$，这不是双射的。\n- C 正是所证明的充要条件。\n- D 不成立，除非 $a=1$：如果 $a$ 整除 $n$ 且 $a\\neq 1$，那么 $\\gcd(a,n)=a1$，并且 $f$ 不是单射的，因为 $f(0)\\equiv f(n/a)\\equiv 0 \\pmod{n}$。\n- E 意味着 $a=0$（因为 $0\\leq a\\leq n-1$），这是不可逆的。\n\n因此，正确的选项是 C。", "answer": "$$\\boxed{C}$$", "id": "1779480"}, {"introduction": "最后的练习将双射的概念与我们熟悉的微积分和线性代数知识联系起来。我们不再仅仅将求导看作一种计算，而是将其视为多项式向量空间之间的一种线性变换。此题的挑战在于，通过巧妙地选择定义域和陪域，可以将一个我们熟知的非双射操作（求导）转变为一个完美的一一对应关系，这体现了在抽象数学中构造特定映射的核心思想。", "problem": "设 $n$ 是一个正整数。设 $P_n(\\mathbb{R})$ 表示所有次数至多为 $n$ 的实系数多项式的集合。设 $P_n^0(\\mathbb{R})$ 表示 $P_n(\\mathbb{R})$ 中常数项为零的多项式 $p(x)$ 组成的子集，即 $p(0) = 0$。\n\n考虑微分算子 $D$，它将一个多项式 $p(x)$ 映射到其导数 $p'(x)$。一个函数是双射的，如果它既是单射的（一对一的）又是满射的（映上的）。对于算子 $D$，下列哪种定义域和陪域的定义会使其成为一个双射函数？\n\nA. $D: P_n(\\mathbb{R}) \\to P_n(\\mathbb{R})$\n\nB. $D: P_n(\\mathbb{R}) \\to P_{n-1}(\\mathbb{R})$\n\nC. $D: P_n^0(\\mathbb{R}) \\to P_{n-1}(\\mathbb{R})$\n\nD. $D: P_n^0(\\mathbb{R}) \\to P_n(\\mathbb{R})$", "solution": "我们考虑具有标准基的多项式实向量空间。空间 $P_{n}(\\mathbb{R})$ 的维数为 $n+1$，其一组基为 $\\{1,x,\\dots,x^{n}\\}$，而子空间 $P_{n}^{0}(\\mathbb{R})=\\{p\\in P_{n}(\\mathbb{R}) : p(0)=0\\}$ 的维数为 $n$，其一组基为 $\\{x,x^{2},\\dots,x^{n}\\}$。\n\n微分算子 $D$ 是线性的，其作用方式为\n$$\nD\\!\\left(\\sum_{k=0}^{n} a_{k}x^{k}\\right)=\\sum_{k=1}^{n} k a_{k}x^{k-1}.\n$$\n其在 $P_{n}(\\mathbb{R})$ 上的核是常数多项式的集合：\n$$\n\\ker(D|_{P_{n}})=\\{a_{0}: a_{0}\\in\\mathbb{R}\\},\n$$\n所以 $\\dim\\ker(D|_{P_{n}})=1$。其像包含在 $P_{n-1}(\\mathbb{R})$ 中。实际上，对于任意 $q\\in P_{n-1}(\\mathbb{R})$，通过取任意一个反导数，都存在一个 $p\\in P_{n}(\\mathbb{R})$ 使得 $D(p)=q$，例如\n$$\np(x)=\\int_{0}^{x} q(t)\\,dt + c,\n$$\n所以 $\\operatorname{Im}(D|_{P_{n}})=P_{n-1}(\\mathbb{R})$ 且 $\\dim\\operatorname{Im}(D|_{P_{n}})=n$。\n\n评估每个选项：\n\nA. $D: P_{n}(\\mathbb{R})\\to P_{n}(\\mathbb{R})$。核非平凡（常数），所以不是单射的。同时，$\\operatorname{Im}(D)=P_{n-1}(\\mathbb{R})\\subsetneq P_{n}(\\mathbb{R})$，所以不是满射的。因此不是双射的。\n\nB. $D: P_{n}(\\mathbb{R})\\to P_{n-1}(\\mathbb{R})$。如上所述，$\\operatorname{Im}(D)=P_{n-1}(\\mathbb{R})$，所以是满射的。核非平凡（常数），所以不是单射的。因此不是双射的。\n\nC. $D: P_{n}^{0}(\\mathbb{R})\\to P_{n-1}(\\mathbb{R})$。如果 $p\\in P_{n}^{0}(\\mathbb{R})$ 且 $D(p)=0$，那么 $p$ 是一个常数。因为 $p(0)=0$，我们必有 $p\\equiv 0$，所以 $\\ker(D|_{P_{n}^{0}})=\\{0\\}$ 且 $D$ 是单射的。对于满射性，给定 $q\\in P_{n-1}(\\mathbb{R})$，定义\n$$\np(x)=\\int_{0}^{x} q(t)\\,dt.\n$$\n那么 $p\\in P_{n}^{0}(\\mathbb{R})$ 因为 $p(0)=0$ 且 $\\deg p\\leq n$，并且 $D(p)=q$。因此 $D$ 是满射的。因为两个空间的维数都是 $n$，根据秩-零度定理，我们也可以得出其为双射。\n\nD. $D: P_{n}^{0}(\\mathbb{R})\\to P_{n}(\\mathbb{R})$。像仍然是 $P_{n-1}(\\mathbb{R})$，它是陪域 $P_{n}(\\mathbb{R})$ 的一个真子空间，所以不是满射的。虽然核是平凡的（因此是单射的），但它不是双射的。\n\n因此，唯一的双射映射是选项 C。", "answer": "$$\\boxed{C}$$", "id": "1779469"}]}