{"hands_on_practices": [{"introduction": "在分析学中，我们常常希望用行为良好的连续函数来替代不连续的函数。本练习将通过一个基础而重要的例子，向您展示如何“平滑”一个不连续点。您将使用一个连续的分段线性函数（形似梯形）来逼近一个特征函数（形似方箱），并通过计算它们之间在 $L^1$ 范数下的误差，具体感受逼近误差的几何意义，即两个函数图像所围成的面积。 [@problem_id:1282849]", "problem": "在实分析中，使用连续函数来近似不连续函数通常是很有用的。考虑特征函数 $f(x) = \\chi_{[0, 1]}(x)$，其定义为：当 $x \\in [0, 1]$ 时为 $1$，否则为 $0$。我们希望使用一个由实数 $\\delta$（其中 $0 < \\delta < 1/2$）参数化的连续分段线性函数族 $g_\\delta(x)$ 来近似该函数。函数 $g_\\delta(x)$ 定义如下：\n$$\ng_\\delta(x) = \\begin{cases}\n0 & \\text{若 } x \\le 0 \\\\\n\\frac{x}{\\delta} & \\text{若 } 0 < x < \\delta \\\\\n1 & \\text{若 } \\delta \\le x \\le 1-\\delta \\\\\n\\frac{1-x}{\\delta} & \\text{若 } 1-\\delta < x < 1 \\\\\n0 & \\text{若 } x \\ge 1\n\\end{cases}\n$$\n近似的质量由两个函数之差的 $L^1(\\mathbb{R})$ 范数来衡量。一个函数 $h(x)$ 的 $L^1(\\mathbb{R})$ 范数由 $\\|h\\|_1 = \\int_{-\\infty}^{\\infty} |h(x)| dx$ 给出。\n\n确定参数 $\\delta$ 的精确值，使得近似误差 $\\|f - g_\\delta\\|_1$ 恰好等于 $\\frac{1}{42}$。将您的答案表示为分数形式。", "solution": "我们计算 $L^{1}(\\mathbb{R})$ 误差 $\\|f-g_{\\delta}\\|_{1}=\\int_{-\\infty}^{\\infty}|f(x)-g_{\\delta}(x)|\\,dx$。因为当 $x\\notin[0,1]$ 时，$f(x)=0=g_{\\delta}(x)$，所以被积函数在该区间上为零。在 $[0,1]$ 上，我们分段比较：\n- 对于 $x\\in[0,\\delta)$，$f(x)=1$ 且 $g_{\\delta}(x)=x/\\delta$，所以 $|f-g_{\\delta}|=1-\\frac{x}{\\delta}$。\n- 对于 $x\\in[\\delta,1-\\delta]$，$f(x)=1=g_{\\delta}(x)$，所以 $|f-g_{\\delta}|=0$。\n- 对于 $x\\in(1-\\delta,1]$，$f(x)=1$ 且 $g_{\\delta}(x)=(1-x)/\\delta$，所以 $|f-g_{\\delta}|=1-\\frac{1-x}{\\delta}$。\n点 $x\\in\\{0,\\delta,1-\\delta,1\\}$ 对积分的影响可以忽略不计。\n\n因此\n$$\n\\|f-g_{\\delta}\\|_{1}\n=\\int_{0}^{\\delta}\\left(1-\\frac{x}{\\delta}\\right)\\,dx\n+\\int_{1-\\delta}^{1}\\left(1-\\frac{1-x}{\\delta}\\right)\\,dx\n$$\n计算第一个积分：\n$$\n\\int_{0}^{\\delta}\\left(1-\\frac{x}{\\delta}\\right)\\,dx\n=\\left[x-\\frac{x^{2}}{2\\delta}\\right]_{0}^{\\delta}\n=\\delta-\\frac{\\delta^{2}}{2\\delta}\n=\\frac{\\delta}{2}.\n$$\n计算第二个积分：\n$$\n\\int_{1-\\delta}^{1}\\left(1-\\frac{1-x}{\\delta}\\right)\\,dx\n=\\int_{1-\\delta}^{1}\\left(1-\\frac{1}{\\delta}+\\frac{x}{\\delta}\\right)\\,dx\n=\\left(1-\\frac{1}{\\delta}\\right)\\delta+\\frac{1}{\\delta}\\cdot\\frac{1-(1-\\delta)^{2}}{2}\n=\\delta-1+1-\\frac{\\delta}{2}\n=\\frac{\\delta}{2}.\n$$\n因此，\n$$\n\\|f-g_{\\delta}\\|_{1}=\\frac{\\delta}{2}+\\frac{\\delta}{2}=\\delta.\n$$\n施加要求 $\\|f-g_{\\delta}\\|_{1}=\\frac{1}{42}$，我们得到\n$$\n\\delta=\\frac{1}{42}.\n$$\n该值满足所要求的 $0<\\delta<\\frac{1}{2}$。", "answer": "$$\\boxed{\\frac{1}{42}}$$", "id": "1282849"}, {"introduction": "在上一个练习的基础上，一个自然的问题是：这种逼近方法在其他函数空间中是否同样有效？本练习将前一个问题推广到更广泛的 $L^p$ 空间。您将计算逼近误差，并发现它既与逼近函数的“陡峭度”参数 $n$ 有关，也与空间本身的参数 $p$ 有关，从而揭示了在这些重要的函数空间中逼近是如何实现的。 [@problem_id:1282895]", "problem": "设 $a$ 和 $b$ 为实数，满足 $a < b$。设 $p$ 为满足 $p \\ge 1$ 的实数，$n$ 为正整数。\n\n对于任意可测集 $S \\subset \\mathbb{R}$，其特征函数 $\\chi_S: \\mathbb{R} \\to \\mathbb{R}$ 定义为：若 $x \\in S$，则 $\\chi_S(x) = 1$；若 $x \\notin S$，则 $\\chi_S(x) = 0$。\n\n考虑一个连续函数 $g_n: \\mathbb{R} \\to \\mathbb{R}$，它被构造用来逼近区间 $[a, b]$ 的特征函数。该函数 $g_n$ 的分段定义如下：\n$$\ng_n(x) = \n\\begin{cases} \n1 & \\text{若 } a \\le x \\le b \\\\\nn(x - a) + 1 & \\text{若 } a - \\frac{1}{n} \\le x < a \\\\\n1 - n(x - b) & \\text{若 } b < x \\le b + \\frac{1}{n} \\\\\n0 & \\text{其他情况}\n\\end{cases}\n$$\n$\\mathbb{R}$ 上的实值函数 $f$ 的 $L^p$-范数由公式 $\\|f\\|_p = \\left( \\int_{-\\infty}^{\\infty} |f(x)|^p \\, dx \\right)^{1/p}$ 给出。\n\n计算 $g_n$ 与区间 $[a,b]$ 的特征函数之差的 $L^p$-范数，记为 $\\|g_n - \\chi_{[a,b]}\\|_p$。请将您的答案表示为关于 $n$ 和 $p$ 的单个闭式解析表达式。", "solution": "根据 $L^{p}$ 范数的定义，\n$$\n\\|g_{n}-\\chi_{[a,b]}\\|_{p}^{p}=\\int_{-\\infty}^{\\infty}|g_{n}(x)-\\chi_{[a,b]}(x)|^{p}\\,dx.\n$$\n在 $[a,b]$ 上， $g_{n}(x)=1=\\chi_{[a,b]}(x)$，因此被积函数为零。对于 $x\\le a-\\frac{1}{n}$ 和 $x\\ge b+\\frac{1}{n}$，两个函数都为零，因此被积函数也为零。唯一的贡献来自于斜坡区间 $[a-\\frac{1}{n},a)$ 和 $(b,b+\\frac{1}{n}]$。\n\n在 $[a-\\frac{1}{n},a)$ 上，$\\chi_{[a,b]}(x)=0$ 且 $g_{n}(x)=n(x-a)+1\\in[0,1)$，因此\n$$\nI_{L}=\\int_{a-\\frac{1}{n}}^{a}|g_{n}(x)-\\chi_{[a,b]}(x)|^{p}\\,dx=\\int_{a-\\frac{1}{n}}^{a}\\left(n(x-a)+1\\right)^{p}dx.\n$$\n通过换元 $t=n(x-a)+1$，我们得到 $dx=\\frac{dt}{n}$，且 $t$ 的取值范围从 $0$ 到 $1$，得出\n$$\nI_{L}=\\frac{1}{n}\\int_{0}^{1}t^{p}\\,dt=\\frac{1}{n}\\cdot\\frac{1}{p+1}.\n$$\n\n在 $(b,b+\\frac{1}{n}]$ 上，$\\chi_{[a,b]}(x)=0$ 且 $g_{n}(x)=1-n(x-b)\\in(0,1]$，因此\n$$\nI_{R}=\\int_{b}^{b+\\frac{1}{n}}|g_{n}(x)-\\chi_{[a,b]}(x)|^{p}\\,dx=\\int_{b}^{b+\\frac{1}{n}}\\left(1-n(x-b)\\right)^{p}dx.\n$$\n通过换元 $u=1-n(x-b)$，我们得到 $dx=-\\frac{du}{n}$，且 $u$ 的取值范围从 $1$ 降到 $0$，得出\n$$\nI_{R}=\\frac{1}{n}\\int_{0}^{1}u^{p}\\,du=\\frac{1}{n}\\cdot\\frac{1}{p+1}.\n$$\n\n因此，\n$$\n\\|g_{n}-\\chi_{[a,b]}\\|_{p}^{p}=I_{L}+I_{R}=\\frac{2}{n(p+1)},\n$$\n然后取 $p$ 次方根，得到\n$$\n\\|g_{n}-\\chi_{[a,b]}\\|_{p}=\\left(\\frac{2}{n(p+1)}\\right)^{\\frac{1}{p}}.\n$$", "answer": "$$\\boxed{\\left(\\frac{2}{n(p+1)}\\right)^{\\frac{1}{p}}}$$", "id": "1282895"}, {"introduction": "目前为止，我们使用的逼近函数是预先构造好的。但如果我们想从某一类函数（例如，所有线性函数）中找到“最佳”的那个呢？本练习将带您进入一个更深刻的领域：$L^2$ 希尔伯特空间中的最佳逼近问题。您将运用正交投影的原理，找到最“贴近”目标阶梯函数的线性函数 $g(x) = ax+b$，这不仅能解决问题，更揭示了逼近理论背后的深刻几何思想。 [@problem_id:1282881]", "problem": "在逼近论中，一个核心问题是用一个更简单的函数类中的函数来找到给定函数的“最佳”逼近。考虑在区间 $[0, 1]$ 上的实值平方可积函数空间 $L^2([0, 1])$，其上定义了内积 $\\langle f, g \\rangle = \\int_0^1 f(x)g(x) dx$。在此空间中，两个函数 $f$ 和 $g$ 之间的距离由它们差的 $L^2$-范数给出，即 $\\|f-g\\|_{L^2} = \\sqrt{\\langle f-g, f-g \\rangle}$。\n\n设 $f(x)$ 是一个阶梯函数，定义如下：\n$$\nf(x) = \\begin{cases} 1 & \\text{if } 0 \\leq x \\leq 1/2 \\\\ 0 & \\text{if } 1/2 < x \\leq 1 \\end{cases}\n$$\n这个函数也可以写成 $f(x) = \\chi_{[0, 1/2]}(x)$，即区间 $[0, 1/2]$ 的特征函数。\n\n我们希望用形如 $g(x) = ax + b$ 的线性函数来逼近 $f(x)$，其中 $a$ 和 $b$ 是实常数。所有这些线性函数构成了 $L^2([0, 1])$ 的一个子空间 $V$。\n\n通过求 $f(x)$ 到子空间 $V$ 的最小距离来确定最佳逼近。也就是说，计算 $\\inf_{a,b \\in \\mathbb{R}} \\|f(x) - (ax+b)\\|_{L^2}$ 的值。将你的答案表示为一个精确分数。", "solution": "我们在希尔伯特空间 $L^{2}([0,1])$ 中进行计算，其内积为 $\\langle u,v\\rangle=\\int_{0}^{1}u(x)v(x)\\,dx$。线性函数子空间为 $V=\\operatorname{span}\\{1,x\\}$。根据正交投影原理，最佳 $L^{2}$-逼近 $g(x)=ax+b\\in V$ 满足残差 $r(x)=f(x)-g(x)$ 与 $V$ 正交，即：\n$$\n\\int_{0}^{1}\\big(f(x)-ax-b\\big)\\,dx=0,\\qquad \\int_{0}^{1}x\\big(f(x)-ax-b\\big)\\,dx=0.\n$$\n计算所需的内积：\n$$\n\\langle 1,1\\rangle=\\int_{0}^{1}1\\,dx=1,\\quad \\langle 1,x\\rangle=\\int_{0}^{1}x\\,dx=\\frac{1}{2},\\quad \\langle x,x\\rangle=\\int_{0}^{1}x^{2}\\,dx=\\frac{1}{3},\n$$\n$$\n\\langle f,1\\rangle=\\int_{0}^{1}f(x)\\,dx=\\int_{0}^{1/2}1\\,dx=\\frac{1}{2},\\quad \\langle f,x\\rangle=\\int_{0}^{1}x f(x)\\,dx=\\int_{0}^{1/2}x\\,dx=\\frac{1}{8}.\n$$\n因此，关于 $b$ 和 $a$ 的法方程为\n$$\nb+\\frac{1}{2}a=\\frac{1}{2},\\qquad \\frac{1}{2}b+\\frac{1}{3}a=\\frac{1}{8}.\n$$\n由第一个方程，得 $b=\\frac{1}{2}-\\frac{1}{2}a$。代入第二个方程：\n$$\n\\frac{1}{2}\\left(\\frac{1}{2}-\\frac{1}{2}a\\right)+\\frac{1}{3}a=\\frac{1}{8}\\;\\;\\Longrightarrow\\;\\;\\frac{1}{4}-\\frac{1}{4}a+\\frac{1}{3}a=\\frac{1}{8}.\n$$\n合并带 $a$ 的项：\n$$\n\\left(-\\frac{1}{4}+\\frac{1}{3}\\right)a=\\frac{1}{8}-\\frac{1}{4}=-\\frac{1}{8}\\;\\;\\Longrightarrow\\;\\;\\frac{1}{12}a=-\\frac{1}{8}\\;\\;\\Longrightarrow\\;\\;a=-\\frac{3}{2}.\n$$\n那么\n$$\nb=\\frac{1}{2}-\\frac{1}{2}\\left(-\\frac{3}{2}\\right)=\\frac{1}{2}+\\frac{3}{4}=\\frac{5}{4}.\n$$\n因此，正交投影为 $g(x)=-\\frac{3}{2}x+\\frac{5}{4}$。因为 $r=f-g$ 与 $V$ 正交（从而也与 $g$ 正交），我们有勾股恒等式\n$$\n\\|f\\|_{L^{2}}^{2}=\\|g\\|_{L^{2}}^{2}+\\|f-g\\|_{L^{2}}^{2}.\n$$\n计算范数。首先，\n$$\n\\|f\\|_{L^{2}}^{2}=\\int_{0}^{1}f(x)^{2}\\,dx=\\int_{0}^{1/2}1\\,dx=\\frac{1}{2}.\n$$\n接下来，\n$$\n\\|g\\|_{L^{2}}^{2}=\\int_{0}^{1}\\left(-\\frac{3}{2}x+\\frac{5}{4}\\right)^{2}dx=\\int_{0}^{1}\\left(\\frac{9}{4}x^{2}-\\frac{15}{4}x+\\frac{25}{16}\\right)dx=\\frac{9}{4}\\cdot\\frac{1}{3}-\\frac{15}{4}\\cdot\\frac{1}{2}+\\frac{25}{16}=\\frac{7}{16}.\n$$\n因此，\n$$\n\\|f-g\\|_{L^{2}}^{2}=\\|f\\|_{L^{2}}^{2}-\\|g\\|_{L^{2}}^{2}=\\frac{1}{2}-\\frac{7}{16}=\\frac{1}{16},\n$$\n所以最小距离是\n$$\n\\inf_{a,b\\in\\mathbb{R}}\\|f-(ax+b)\\|_{L^{2}}=\\|f-g\\|_{L^{2}}=\\frac{1}{4}.\n$$", "answer": "$$\\boxed{\\frac{1}{4}}$$", "id": "1282881"}]}