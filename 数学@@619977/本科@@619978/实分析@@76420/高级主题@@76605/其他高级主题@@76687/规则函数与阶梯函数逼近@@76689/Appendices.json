{"hands_on_practices": [{"introduction": "要真正理解阶梯函数逼近，第一步是学会如何量化逼近的“好坏程度”。这个练习提供了一个绝佳的起点，它要求我们计算一个具体函数 $f(x)=x$ 和一个用取整函数构造的特定阶梯函数 $\\phi(x)$ 之间的均匀距离。通过这个直接的计算，你将亲身体验如何找到在整个区间上的最大误差，即 $\\|f - \\phi\\|_{\\infty}$ [@problem_id:1320146]。", "problem": "在实分析的研究中，一个函数 $g: [a,b] \\to \\mathbb{R}$ 被称为阶梯函数，如果区间 $[a,b]$ 可以被剖分成有限个子区间，且在每个子区间上 $g$ 均为常数。阶梯函数在定义积分和逼近更复杂的函数方面是基础。这种逼近的质量通常用一致范数来度量。对于区间 $I$ 上的一个有界函数 $h$，其一致范数定义为 $\\|h\\|_{\\infty} = \\sup_{x \\in I} |h(x)|$。\n\n考虑区间 $[0, 1]$ 上的函数 $f(x) = x$。我们希望使用一个特定的阶梯函数 $\\phi(x)$ 来逼近这个函数，该函数定义为 $\\phi(x) = \\frac{\\lfloor 4x \\rfloor}{4}$，其中 $x \\in [0,1]$。此处 $\\lfloor y \\rfloor$ 表示向下取整函数，它给出小于或等于 $y$ 的最大整数。\n\n计算在区间 $[0, 1]$ 上 $f$ 和 $\\phi$ 之间的一致距离，该距离由 $\\|f - \\phi\\|_{\\infty}$ 给出。将你的答案表示为一个精确分数。", "solution": "我们有 $f(x)=x$ 和 $\\phi(x)=\\frac{\\lfloor 4x \\rfloor}{4}$ 在区间 $[0,1]$ 上。对每个 $k \\in \\{0,1,2,3\\}$，定义 $I_{k}=[\\frac{k}{4},\\frac{k+1}{4})$。在 $I_{k}$ 上，$\\lfloor 4x \\rfloor = k$，因此 $\\phi(x)=\\frac{k}{4}$ 并且\n$$\nf(x)-\\phi(x)=x-\\frac{k}{4}, \\quad x \\in I_{k}.\n$$\n由于在 $I_{k}$ 上 $x \\geq \\frac{k}{4}$，我们有 $|f(x)-\\phi(x)|=x-\\frac{k}{4}$，该表达式关于 $x$ 是单调递增的。因此，\n$$\n\\sup_{x \\in I_{k}} |f(x)-\\phi(x)|=\\lim_{x \\to (\\frac{k+1}{4})^{-}} \\left(x-\\frac{k}{4}\\right)=\\frac{k+1}{4}-\\frac{k}{4}=\\frac{1}{4}.\n$$\n在右端点 $x=\\frac{k+1}{4}$ (对于 $k=0,1,2$) 处，我们有 $\\phi(x)=\\frac{k+1}{4}=f(x)$，所以 $|f(x)-\\phi(x)|=0$。在 $x=1$ 处，$\\phi(1)=1=f(1)$，所以 $|f(1)-\\phi(1)|=0$。因此，在 $[0,1]$ 上的上确界由在每个 $I_{k}$ 上从左侧逼近的值决定，且等于 $\\frac{1}{4}$：\n$$\n\\|f-\\phi\\|_{\\infty}=\\sup_{x \\in [0,1]} \\left|x-\\frac{\\lfloor 4x \\rfloor}{4}\\right|=\\frac{1}{4}.\n$$\n从而，一致距离为精确分数 $\\frac{1}{4}$。", "answer": "$$\\boxed{\\frac{1}{4}}$$", "id": "1320146"}, {"introduction": "在理解了如何度量误差之后，下一个自然的问题是：我们如何控制误差？这个练习将挑战你从另一个角度思考逼近问题：给定一个可接受的误差范围 $\\epsilon$，我们需要将区间划分得多细，才能保证阶梯函数逼近的误差在此范围之内？通过为函数 $f(x) = x^2$ 构建一个合适的阶梯函数，你将探索划分数量 $N$ 与逼近精度之间的定量关系 [@problem_id:1320118]。", "problem": "在实分析中，定义在闭区间 $[a, b]$ 上的函数 $f$ 如果可以被阶梯函数一致逼近，则称其为可调函数。这意味着对于任意给定的容差 $\\epsilon > 0$，存在一个定义在 $[a, b]$ 上的阶梯函数 $\\phi$，使得其差的一致范数满足不等式 $\\sup_{x \\in [a, b]} |f(x) - \\phi(x)| < \\epsilon$。\n\n考虑函数 $f(x) = x^2$ 在区间 $[0, 2]$ 上的情况。设 $P_N = \\{x_0, x_1, \\dots, x_N\\}$ 是将 $[0, 2]$ 分成 $N$ 个等长子区间的均匀分割，其中 $x_k = \\frac{2k}{N}$，$k=0, 1, \\dots, N$。\n\n一个对应的阶梯函数 $\\phi_N(x)$ 基于此分割构造如下：\n- 对于从 $1$ 到 $N$ 的每个整数 $k$，阶梯函数在区间 $[x_{k-1}, x_k)$ 上的值是恒定的，并由 $f$ 在左端点的值定义，即 $\\phi_N(x) = f(x_{k-1})$。\n- 在整个区间的右端点，我们定义 $\\phi_N(2) = f(x_{N-1})$。\n\n给定容差 $\\epsilon = 0.05$，求满足逼近条件 $\\sup_{x \\in [0, 2]} |f(x) - \\phi_N(x)| < \\epsilon$ 的最小正整数 $N$。", "solution": "我们考虑在 $[0,2]$ 上的函数 $f(x)=x^{2}$ 以及与均匀分割 $x_{k}=\\frac{2k}{N}$（$k=0,1,\\dots,N$）相关联的左端点阶梯函数 $\\phi_{N}$。在每个半开子区间 $[x_{k-1},x_{k})$ 上，我们有 $\\phi_{N}(x)=f(x_{k-1})$。由于 $f$ 在 $[0,2]$ 上是递增的，在 $[x_{k-1},x_{k})$ 上的逐点误差为\n$$\nf(x)-\\phi_{N}(x)=f(x)-f(x_{k-1})\\geq 0,\n$$\n该误差在 $[x_{k-1},x_{k})$ 上的上确界在 $x\\to x_{k}^{-}$ 时达到，其值为\n$$\nf(x_{k})-f(x_{k-1}).\n$$\n在 $x=2=x_{N}$ 处，根据定义有 $\\phi_{N}(2)=f(x_{N-1})$，因此端点误差为 $f(x_{N})-f(x_{N-1})$，这恰好与最后一个子区间的增量相同。因此，\n$$\n\\sup_{x\\in[0,2]}|f(x)-\\phi_{N}(x)|=\\max_{1\\leq k\\leq N}\\big(f(x_{k})-f(x_{k-1})\\big).\n$$\n对于 $f(x)=x^{2}$ 和 $x_{k}=\\frac{2k}{N}$，我们计算可得\n$$\nf(x_{k})-f(x_{k-1})=\\left(\\frac{2k}{N}\\right)^{2}-\\left(\\frac{2(k-1)}{N}\\right)^{2}=\\frac{4}{N^{2}}\\big(k^{2}-(k-1)^{2}\\big)=\\frac{4}{N^{2}}(2k-1).\n$$\n由于 $2k-1$ 随 $k$ 的增加而增加，最大值在 $k=N$ 时取得，得到\n$$\n\\sup_{x\\in[0,2]}|f(x)-\\phi_{N}(x)|=\\frac{4}{N^{2}}(2N-1).\n$$\n我们需要此值小于容差 $\\epsilon=0.05=\\frac{1}{20}$：\n$$\n\\frac{4(2N-1)}{N^{2}}<\\frac{1}{20}.\n$$\n两边同乘以 $N^{2}>0$，然后再乘以 $20>0$，得到等价不等式\n$$\n80(2N-1)<N^{2}\\quad\\Longleftrightarrow\\quad N^{2}-160N+80>0.\n$$\n对应的一元二次方程 $N^{2}-160N+80=0$ 的判别式为\n$$\n\\Delta=160^{2}-4\\cdot 1\\cdot 80=25600-320=25280=64\\cdot 395,\n$$\n所以方程的根为\n$$\nN=\\frac{160\\pm\\sqrt{25280}}{2}=80\\pm 4\\sqrt{395}.\n$$\n因为该二次函数的图像开口向上，所以不等式 $N^{2}-160N+80>0$ 对于 $N>80+4\\sqrt{395}$ 成立。为了确定满足此严格不等式的最小整数 $N$，我们直接在 $80(2N-1)<N^{2}$ 中检验 $N=159$ 和 $N=160$：\n- 对于 $N=159$：$80(2\\cdot 159-1)=80\\cdot 317=25360$，而 $N^{2}=25281$，因此 $25360<25281$ 是错误的；故 $N=159$ 不满足条件。\n- 对于 $N=160$：$80(2\\cdot 160-1)=80\\cdot 319=25520$，而 $N^{2}=25600$，因此 $25520<25600$ 是成立的；故 $N=160$ 满足条件。\n\n因此，使得 $\\sup_{x\\in[0,2]}|f(x)-\\phi_{N}(x)|<0.05$ 成立的最小正整数 $N$ 是 $160$。", "answer": "$$\\boxed{160}$$", "id": "1320118"}, {"introduction": "可调函数不仅可以通过阶梯函数逼近来定义，还有一个等价的、非常有用的判别方法，即在定义域内每一点都存在单侧极限。这个练习将引导你探究一个在区间 $(0, 1]$ 上由无穷多个常数片段构成的函数。通过分析该函数在 $x=0$ 点附近的行为，你将深刻理解为何单侧极限的存在性是成为可调函数的关键，并发现一个经典的“病态”函数的例子 [@problem_id:1320116]。", "problem": "考虑一个定义在区间 $(0, 1]$ 上的函数 $f$，其规则如下：\n对于任意正整数 $n$，$f(x)$ 的值在子区间 $(\\frac{1}{n+1}, \\frac{1}{n}]$ 上为常数。具体地讲，对于所有 $x \\in (\\frac{1}{n+1}, \\frac{1}{n}]$，有 $f(x) = (-1)^n$。\n\n一个定义在闭区间 $[a, b]$ 上的函数 $g$ 被称为**可调函数 (regulated function)**，如果对于每一点 $c \\in [a, b)$，其右极限 $\\lim_{x \\to c^+} g(x)$ 存在，并且对于每一点 $c \\in (a, b]$，其左极限 $\\lim_{x \\to c^-} g(x)$ 存在。\n\n问题是函数 $f$ 是否能延拓为闭区间 $[0, 1]$ 上的一个可调函数。这意味着，我们能否通过定义 $f(0)$ 的值，使得新函数在 $[0, 1]$ 上满足可调函数的定义？\n\n下列哪个陈述正确地回答了这个问题并给出了正确的推理？\n\nA. 是，该函数可以延拓为 $[0, 1]$ 上的可调函数，因为它是由一系列常数片段构成的。\nB. 是，通过定义 $f(0)=0$，该函数可以延拓为 $[0, 1]$ 上的可调函数，因为 $f(x)$ 的值在 $1$ 和 $-1$ 之间振荡。\nC. 否，该函数不能延拓为 $[0, 1]$ 上的可调函数，因为它在 $(0, 1]$ 中有无穷多个不连续点。\nD. 否，该函数不能延拓为 $[0, 1]$ 上的可调函数，因为右极限 $\\lim_{x\\to 0^+} f(x)$ 不存在。\nE. 否，该函数不能延拓为 $[0, 1]$ 上的可调函数，因为它在 $(0, 1]$ 上不是一致连续的。", "solution": "给定函数 $f:(0,1]\\to\\mathbb{R}$，其定义为：对于每个正整数 $n$，当 $x\\in\\left(\\frac{1}{n+1},\\frac{1}{n}\\right]$ 时，$f(x)=(-1)^{n}$。一个函数 $g:[a,b]\\to\\mathbb{R}$ 是可调的，如果对于每一个 $c\\in[a,b)$，右极限 $\\lim_{x\\to c^{+}}g(x)$ 存在，且对于每一个 $c\\in(a,b]$，左极限 $\\lim_{x\\to c^{-}}g(x)$ 存在。\n\n首先，我们分析 $f$ 在 $(0,1]$ 上的单侧极限。对于任何不形如 $1/n$ 的 $c\\in(0,1]$，存在一个 $n$ 使得 $c\\in\\left(\\frac{1}{n+1},\\frac{1}{n}\\right)$，此时 $f$ 在 $c$ 的一个邻域内是常数，因此左右极限 $\\lim_{x\\to c^{+}}f(x)$ 和 $\\lim_{x\\to c^{-}}f(x)$ 都存在且等于 $(-1)^{n}$。在点 $c=\\frac{1}{n}$ 处，左极限等于函数在 $\\left(\\frac{1}{n+1},\\frac{1}{n}\\right]$ 上的常数值，即 $\\lim_{x\\to (1/n)^{-}}f(x)=(-1)^{n}$；而右极限（对于 $n\\geq 2$）等于函数在 $\\left(\\frac{1}{n},\\frac{1}{n-1}\\right]$ 上的常数值，即 $\\lim_{x\\to (1/n)^{+}}f(x)=(-1)^{n-1}$。因此，在 $(0,1]$ 上所有必需的单侧极限都存在（尽管存在跳跃不连续点）。\n\n要将 $f$ 延拓为 $[0,1]$ 上的一个可调函数，我们必须定义 $f(0)$ 并确保右极限 $\\lim_{x\\to 0^{+}}f(x)$ 存在。$f(0)$ 的取值不影响 $\\lim_{x\\to 0^{+}}f(x)$ 的存在性，因为该极限仅依赖于 $x$ 在 $0$ 附近且大于 $0$ 时的值。\n\n我们证明 $\\lim_{x\\to 0^{+}}f(x)$ 不存在。考虑两个序列 $x_{n}=\\frac{1}{2n}$ 和 $y_{n}=\\frac{1}{2n+1}$。当 $n\\to\\infty$ 时，有 $x_{n}\\to 0^{+}$ 和 $y_{n}\\to 0^{+}$。此外，由于 $x_{n}\\in\\left(\\frac{1}{2n+1},\\frac{1}{2n}\\right]$，所以 $f(x_{n})=(-1)^{2n}=1$。而 $y_{n}\\in\\left(\\frac{1}{2n+2},\\frac{1}{2n+1}\\right]$，所以 $f(y_{n})=(-1)^{2n+1}=-1$。因此，\n$$\n\\lim_{n\\to\\infty}f(x_{n})=1,\\qquad \\lim_{n\\to\\infty}f(y_{n})=-1,\n$$\n故右极限 $\\lim_{x\\to 0^{+}}f(x)$ 不存在。\n\n根据 $[0,1]$ 上可调函数的定义，$\\lim_{x\\to 0^{+}}f(x)$ 不存在意味着，无论如何选择 $f(0)$ 的值，都无法使延拓后的函数在 $[0,1]$ 上成为可调函数。\n\n因此，正确的论述是该函数无法延拓为 $[0,1]$ 上的可调函数，因为在 $0$ 点的右极限不存在。这对应于选项D。选项A和B是错误的，因为分段为常数或定义 $f(0)=0$ 并不能保证在 $0$ 点必需的右极限存在。选项C是错误的，因为只要每一点的单侧极限都存在，可调函数就可以有无穷多个跳跃不连续点。选项E是错误的，因为一致连续性不是成为可调函数的必要条件。", "answer": "$$\\boxed{D}$$", "id": "1320116"}]}