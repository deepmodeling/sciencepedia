{"hands_on_practices": [{"introduction": "理解复合函数连续性的第一步是确定其定义域。这个练习通过组合对数函数、绝对值函数和多项式函数，让你实践一项基本技能：识别复合函数在何处有定义，并因此是连续的。通过分析函数的结构，我们可以应用复合函数连续性定理来确定其最大连续区间 [@problem_id:1289643]。", "problem": "考虑一个函数 $h(x)$，它对所有表达式有意义的实数 $x$ 有定义。该函数由以下法则给出：\n$$h(x) = \\ln(|x^2 - 4|)$$\n其中 $\\ln$ 表示自然对数。如果一个函数在一个集合的每一点上都连续，则称该函数在该集合上是连续的。\n\n确定函数 $h(x)$ 连续的最大实数集合。\n\nA. $(-\\infty, -2] \\cup [2, \\infty)$\n\nB. $(-\\infty, -2) \\cup (2, \\infty)$\n\nC. $\\mathbb{R} \\setminus \\{-2, 2\\}$\n\nD. $\\mathbb{R}$\n\nE. $[-2, 2]$", "solution": "我们通过复合函数的法则来分析 $h(x) = \\ln(|x^{2} - 4|)$ 的连续性。\n\n首先，回顾一下 $\\ln(u)$ 在 $u \\in (0,\\infty)$ 上有定义且连续。因此，$h(x)$ 有定义的条件是其内部表达式满足\n$$\n|x^{2} - 4| > 0.\n$$\n因为 $|y| = 0$ 当且仅当 $y = 0$，所以我们有 $|x^{2} - 4| = 0$ 当且仅当\n$$\nx^{2} - 4 = 0 \\quad \\Longleftrightarrow \\quad x^{2} = 4 \\quad \\Longleftrightarrow \\quad x = \\pm 2.\n$$\n因此，\n$$\n|x^{2} - 4| > 0 \\quad \\text{对所有} \\quad x \\in \\mathbb{R} \\setminus \\{-2, 2\\}.\n$$\n接下来，注意到 $x \\mapsto x^{2} - 4$ 是一个多项式，在 $\\mathbb{R}$ 上是连续的，并且绝对值函数在 $\\mathbb{R}$ 上也是连续的。因此 $g(x) = |x^{2} - 4|$ 在 $\\mathbb{R}$ 上是连续的。由于 $\\ln$ 在 $(0,\\infty)$ 上是连续的，复合函数 $h(x) = \\ln(g(x))$ 在所有满足 $g(x) > 0$ 的 $x$ 处是连续的，即在\n$$\n\\mathbb{R} \\setminus \\{-2, 2\\}.\n$$\n在 $x = \\pm 2$ 处，我们有 $|x^{2} - 4| = 0$，所以 $h$ 在这些点上没有定义，因此不可能是连续的。因此，$h$ 连续的最大集合是\n$$\n\\mathbb{R} \\setminus \\{-2, 2\\},\n$$\n这对应于选项C。", "answer": "$$\\boxed{C}$$", "id": "1289643"}, {"introduction": "当我们将连续函数与像取整函数这样的不连续函数复合时，情况会变得更加有趣。这个练习挑战我们去精确地找出复合函数在哪些点上“继承”了不连续性，以及更微妙地，在哪些点上可能不会 [@problem_id:1289623]。这有助于我们理解不连续性是如何在函数复合中传递或被抑制的，特别是当内层函数达到一个整数值时。", "problem": "考虑一个对所有实数 $x$ 定义的实值函数 $h(x)$，其公式为 $h(x) = \\lfloor 2\\sin(x) \\rfloor$，其中 $\\lfloor y \\rfloor$ 表示 $y$ 的下取整，即小于或等于 $y$ 的最大整数。请确定函数 $h(x)$ 不连续的所有实数 $x$ 的集合。将答案表示为一个由性质定义的集合。", "solution": "我们分析函数 $h(x)=\\lfloor 2\\sin(x)\\rfloor$，它是连续函数 $g(x)=2\\sin(x)$ 与下取整函数的复合函数。对任意整数 $m\\in\\mathbb{Z}$，下取整函数在每个区间 $[m,m+1)$ 上是常数，并在每个整数输入处发生跳跃。\n\n一般原则：如果 $g$ 连续，那么当 $g(x_{0})\\notin\\mathbb{Z}$ 时，$h(x)=\\lfloor g(x)\\rfloor$ 在 $x_{0}$ 处是连续的。如果 $g(x_{0})=m\\in\\mathbb{Z}$，$h$ 在 $x_{0}$ 处的连续性取决于 $g$ 是否在 $x_{0}$ 的任意邻近处取到小于 $m$ 的值。具体来说：\n- 如果在 $x_{0}$ 的任意邻近处存在 $x$ 使得 $g(x)<m$，那么在 $x_{0}$ 附近有 $\\lfloor g(x)\\rfloor=m-1$，而 $h(x_{0})=\\lfloor m\\rfloor=m$，因此 $h$ 在 $x_{0}$ 处不连续。\n- 如果在 $x_{0}$ 的某个邻域内有 $g(x)\\geq m$（即 $x_{0}$ 是 $g$ 在水平线 $y=m$ 上的一个局部极小值点），那么在 $x_{0}$ 附近有 $\\lfloor g(x)\\rfloor=m$，因此 $h$ 在 $x_{0}$ 处是连续的。\n\n将此原则应用于 $g(x)=2\\sin(x)$，其值域为 $[-2,2]$。此范围内的整数只有 $-2,-1,0,1,2$。因此，可能的不连续点发生在 $2\\sin(x)\\in\\{-2,-1,0,1,2\\}$ 处。\n\n- 如果 $2\\sin(x_{0})=-2$（即 $\\sin(x_{0})=-1$），那么 $x_{0}$ 是 $g$ 的一个严格局部极小值点。在 $x_{0}$ 的一个邻域内，我们有 $g(x) \\ge -2$。因此，对于足够接近 $x_0$ 的 $x$，有 $\\lfloor g(x)\\rfloor=-2$。而 $h(x_{0})=\\lfloor -2 \\rfloor=-2$，所以 $h$ 在这样的 $x_{0}$ 处是连续的。\n\n- 对于 $2\\sin(x_{0})\\in\\{-1,0,1,2\\}$：\n  - 如果 $2\\sin(x_{0})=2$（即 $\\sin(x_{0})=1$），那么 $x_{0}$ 是 $g$ 的一个局部极大值点，对于接近 $x_{0}$ 但 $x\\neq x_{0}$ 的点，有 $g(x)\\in(1,2)$，所以 $\\lfloor g(x)\\rfloor=1$ 而 $h(x_{0})=2$；发生不连续。\n  - 如果 $2\\sin(x_{0})\\in\\{-1,0,1\\}$，那么 $g$ 穿过相应的整数水平线（因为在这些点上 $\\cos(x_{0})\\neq 0$），在 $x_{0}$ 的任意邻近处同时取到小于和大于该整数的值。因此 $h$ 的左极限和右极限不同，所以 $h$ 在这样的 $x_{0}$ 处不连续。\n\n因此，$h$ 的不连续点恰好是那些使得 $2\\sin(x)$ 为 $-2$ 以外整数的 $x$。等价地，不连续点是所有满足 $\\sin(x)\\in\\{-\\frac{1}{2},0,\\frac{1}{2},1\\}$ 的 $x$，而在满足 $\\sin(x)=-1$ 的点处函数是连续的。\n\n因此不连续点的集合是\n$$\\{x\\in\\mathbb{R}:2\\sin(x)\\in\\mathbb{Z}\\setminus\\{-2\\}\\}.$$", "answer": "$$\\boxed{\\{x \\in \\mathbb{R} : 2\\sin(x) \\in \\mathbb{Z} \\setminus \\{-2\\}\\}}$$", "id": "1289623"}, {"introduction": "这个练习提出了一个发人深省的难题：一个处处不连续的函数（如 Dirichlet 函数）与一个连续函数复合，能否得到一个处处连续的函数？这个问题揭示了关于连续性本质的一个惊人且深刻的见解，它迫使我们回归连续性的基本定义 [@problem_id:1289599]。通过这个思想实验，我们可以看到外层函数的性质有时可以“抵消”或“平滑”内层函数的剧烈振荡。", "problem": "设狄利克雷函数，记为 $D(x)$，对所有实数 $x$ 定义如下：\n$$\nD(x) = \\begin{cases} \n1 & \\text{如果 } x \\text{ 是有理数} \\\\\n0 & \\text{如果 } x \\text{ 是无理数} \n\\end{cases}\n$$\n考虑一个在 $\\mathbb{R}$ 上处处连续的函数 $f: \\mathbb{R} \\to \\mathbb{R}$。设一个新函数 $g: \\mathbb{R} \\to \\mathbb{R}$ 由复合 $g(x) = (f \\circ D)(x) = f(D(x))$ 定义。\n\n下列关于函数 $f$ 的哪个条件是函数 $g$ 在所有 $x \\in \\mathbb{R}$ 上连续的充分必要条件？\n\nA. $f$ 必须是常数函数。\n\nB. $f(0) = f(1)$。\n\nC. 对所有 $x \\in [0, 1]$，$f(x) = 0$。\n\nD. $f$ 必须在 $x=0$ 和 $x=1$ 处可导。\n\nE. 关于 $f$ 不存在这样的条件能使 $g$ 连续，因为内函数 $D(x)$ 处处不连续。", "solution": "我们注意到 $D:\\mathbb{R}\\to\\{0,1\\}$，其中当 $x$ 为有理数时 $D(x)=1$，当 $x$ 为无理数时 $D(x)=0$。因此 $g(x)=f(D(x))$ 只取两个值：$f(1)$（当 $x$ 为有理数时）和 $f(0)$（当 $x$ 为无理数时）。有理数集和无理数集都在 $\\mathbb{R}$ 中是稠密的，因此对于任意 $x\\in\\mathbb{R}$，都存在有理数序列 $\\{r_{n}\\}$ 和无理数序列 $\\{s_{n}\\}$ 使得 $r_{n}\\to x$ 且 $s_{n}\\to x$。\n\n必要性：假设 $g$ 在任意一点 $x\\in\\mathbb{R}$ 处连续。根据连续性的序列刻画，对于任意序列 $x_{n}\\to x$，必须有 $g(x_{n})\\to g(x)$。特别地，\n$$\n\\lim_{n\\to\\infty}g(r_{n})=\\lim_{n\\to\\infty}f(D(r_{n}))=\\lim_{n\\to\\infty}f(1)=f(1),\n$$\n以及\n$$\n\\lim_{n\\to\\infty}g(s_{n})=\\lim_{n\\to\\infty}f(D(s_{n}))=\\lim_{n\\to\\infty}f(0)=f(0).\n$$\n要使 $g$ 在 $x$ 处连续，这两个极限必须彼此相等，并等于 $g(x)$，因此 $f(1)=f(0)$。所以，$f(0)=f(1)$ 是 $g$ 在任何 $x$ 处连续的必要条件，因此也是在整个 $\\mathbb{R}$ 上连续的必要条件。\n\n充分性：假设对于某个 $c\\in\\mathbb{R}$，有 $f(0)=f(1)=c$。那么对于每一个 $x\\in\\mathbb{R}$，\n$$\ng(x)=f(D(x))=\\begin{cases}f(1)=c,& x\\in\\mathbb{Q},\\\\ f(0)=c,& x\\in\\mathbb{R}\\setminus\\mathbb{Q},\\end{cases}\n$$\n所以 $g$ 是 $\\mathbb{R}$ 上的常数函数 $g(x)=c$，因此它处处连续。故 $f(0)=f(1)$ 是充分条件。\n\n所以，关于 $f$ 的充分必要条件是 $f(0)=f(1)$，这对应于选项 B。其他选项不成立：A 不是必要条件，因为 $f$ 无需在整个 $\\mathbb{R}$ 上是常数函数，只需其在 $0$ 和 $1$ 处的值相等；C 的条件比要求更强，不是必要条件；D 与函数值的约束无关；E 是错误的，因为尽管 $D$ 处处不连续，$g$ 仍然可以是常数函数，从而处处连续。", "answer": "$$\\boxed{B}$$", "id": "1289599"}]}