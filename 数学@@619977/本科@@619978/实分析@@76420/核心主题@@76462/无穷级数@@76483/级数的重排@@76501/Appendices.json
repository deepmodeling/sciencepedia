{"hands_on_practices": [{"introduction": "我们已经知道，交错调和级数收敛于 $\\ln(2)$。但是，如果我们稍微改变其项的顺序，结果会怎样？这个练习将通过一个具体的计算，带你探索将原级数重排为“每两项正项跟一项负项”后，级数将收敛到一个全新的和。这是你亲手验证条件收敛级数的和依赖于其项排列顺序的第一个实践。[@problem_id:21020]", "problem": "交错调和级数是一个条件收敛级数，定义为\n$$\nS = \\sum_{n=1}^{\\infty} \\frac{(-1)^{n+1}}{n} = 1 - \\frac{1}{2} + \\frac{1}{3} - \\frac{1}{4} + \\frac{1}{5} - \\frac{1}{6} + \\dots\n$$\n这是一个标准结论，该级数收敛于 $S = \\ln(2)$。\n\n考虑此级数的一个重排，我们称之为 $S'$，其构成方式是按照各项在原级数中出现的顺序，先取两个正项，再取一个负项。该重排级数的前几项为：\n$$\nS' = \\left(1 + \\frac{1}{3}\\right) - \\frac{1}{2} + \\left(\\frac{1}{5} + \\frac{1}{7}\\right) - \\frac{1}{4} + \\left(\\frac{1}{9} + \\frac{1}{11}\\right) - \\frac{1}{6} + \\dots\n$$\n推导这个重排级数 $S'$ 收敛到的值。", "solution": "设重排级数记为 $S'$。我们可以通过分析其部分和序列来求出它的和。一种自然的分组方式是每三项为一组，每组对应两个正项和一个负项。第 $k$ 组的项可以写为：\n$$\nb_k = \\frac{1}{4k-3} + \\frac{1}{4k-1} - \\frac{1}{2k}\n$$\n第一组 ($k=1$) 是 $1 + \\frac{1}{3} - \\frac{1}{2}$。\n第二组 ($k=2$) 是 $\\frac{1}{5} + \\frac{1}{7} - \\frac{1}{4}$。\n第三组 ($k=3$) 是 $\\frac{1}{9} + \\frac{1}{11} - \\frac{1}{6}$。\n\n让我们考虑部分和 $S'_{3N}$，它是前 $N$ 个这样分组的和：\n$$\nS'_{3N} = \\sum_{k=1}^{N} b_k = \\sum_{k=1}^{N} \\left( \\frac{1}{4k-3} + \\frac{1}{4k-1} - \\frac{1}{2k} \\right)\n$$\n为了计算当 $N \\to \\infty$ 时该和式的极限，我们将对通项 $b_k$ 进行变形，使其与原交错调和级数的项建立联系。我们可以巧妙地添加和减去一些项：\n$$\nb_k = \\frac{1}{4k-3} - \\frac{1}{4k-2} + \\frac{1}{4k-1} - \\frac{1}{4k} + \\frac{1}{4k-2} + \\frac{1}{4k} - \\frac{1}{2k}\n$$\n前四项构成了交错调和级数的一部分。我们将其分组，并化简剩余的项：\n$$\nb_k = \\left( \\frac{1}{4k-3} - \\frac{1}{4k-2} + \\frac{1}{4k-1} - \\frac{1}{4k} \\right) + \\left( \\frac{1}{4k-2} - \\frac{1}{2k} \\right)\n$$\n第二个括号中的内容可以化简为：\n$$\n\\frac{1}{4k-2} - \\frac{1}{2k} = \\frac{1}{2(2k-1)} - \\frac{1}{2k} = \\frac{1}{2} \\left( \\frac{1}{2k-1} - \\frac{1}{2k} \\right)\n$$\n所以，通项 $b_k$ 变为：\n$$\nb_k = \\left( \\frac{1}{4k-3} - \\frac{1}{4k-2} + \\frac{1}{4k-1} - \\frac{1}{4k} \\right) + \\frac{1}{2} \\left( \\frac{1}{2k-1} - \\frac{1}{2k} \\right)\n$$\n现在，我们将其代回到 $S'_{3N}$ 的求和式中：\n$$\nS'_{3N} = \\sum_{k=1}^{N} \\left[ \\left( \\frac{1}{4k-3} - \\frac{1}{4k-2} + \\frac{1}{4k-1} - \\frac{1}{4k} \\right) + \\frac{1}{2} \\left( \\frac{1}{2k-1} - \\frac{1}{2k} \\right) \\right]\n$$\n我们可以将其拆分为两个独立的和式：\n$$\nS'_{3N} = \\sum_{k=1}^{N} \\left( \\frac{1}{4k-3} - \\frac{1}{4k-2} + \\frac{1}{4k-1} - \\frac{1}{4k} \\right) + \\frac{1}{2} \\sum_{k=1}^{N} \\left( \\frac{1}{2k-1} - \\frac{1}{2k} \\right)\n$$\n让我们分别分析每个和式。第一个和式展开后是：\n$$\n\\left(1 - \\frac{1}{2} + \\frac{1}{3} - \\frac{1}{4}\\right) + \\left(\\frac{1}{5} - \\frac{1}{6} + \\frac{1}{7} - \\frac{1}{8}\\right) + \\dots + \\left(\\frac{1}{4N-3} - \\frac{1}{4N-2} + \\frac{1}{4N-1} - \\frac{1}{4N}\\right) = \\sum_{j=1}^{4N} \\frac{(-1)^{j+1}}{j}\n$$\n这是原交错调和级数到第 $4N$ 项的部分和。\n\n第二个和式是：\n$$\n\\frac{1}{2} \\left[ \\left(1 - \\frac{1}{2}\\right) + \\left(\\frac{1}{3} - \\frac{1}{4}\\right) + \\dots + \\left(\\frac{1}{2N-1} - \\frac{1}{2N}\\right) \\right] = \\frac{1}{2} \\sum_{j=1}^{2N} \\frac{(-1)^{j+1}}{j}\n$$\n这是交错调和级数到第 $2N$ 项的部分和的 $\\frac{1}{2}$ 倍。\n\n因此，我们得到部分和 $S'_{3N}$ 的表达式：\n$$\nS'_{3N} = \\sum_{j=1}^{4N} \\frac{(-1)^{j+1}}{j} + \\frac{1}{2} \\sum_{j=1}^{2N} \\frac{(-1)^{j+1}}{j}\n$$\n为求得级数 $S'$ 的和，我们令 $N \\to \\infty$ 取极限。\n$$\nS' = \\lim_{N \\to \\infty} S'_{3N} = \\lim_{N \\to \\infty} \\left( \\sum_{j=1}^{4N} \\frac{(-1)^{j+1}}{j} \\right) + \\lim_{N \\to \\infty} \\left( \\frac{1}{2} \\sum_{j=1}^{2N} \\frac{(-1)^{j+1}}{j} \\right)\n$$\n因为交错调和级数收敛于 $\\ln(2)$，其部分和序列也收敛于 $\\ln(2)$。因此：\n$$\n\\lim_{N \\to \\infty} \\sum_{j=1}^{4N} \\frac{(-1)^{j+1}}{j} = \\ln(2)\n$$\n和\n$$\n\\lim_{N \\to \\infty} \\frac{1}{2} \\sum_{j=1}^{2N} \\frac{(-1)^{j+1}}{j} = \\frac{1}{2} \\left( \\lim_{N \\to \\infty} \\sum_{j=1}^{2N} \\frac{(-1)^{j+1}}{j} \\right) = \\frac{1}{2} \\ln(2)\n$$\n综合这些结果，我们求得和为：\n$$\nS' = \\ln(2) + \\frac{1}{2}\\ln(2) = \\frac{3}{2}\\ln(2)\n$$\n为确保级数收敛于此值，我们必须检查部分和 $S'_{3N+1}$ 和 $S'_{3N+2}$ 也收敛到相同的极限。\n$S'_{3N+1} = S'_{3N} + \\frac{1}{4N+1}$。当 $N \\to \\infty$ 时，项 $\\frac{1}{4N+1} \\to 0$。\n$S'_{3N+2} = S'_{3N} + \\frac{1}{4N+1} + \\frac{1}{4N+3}$。当 $N \\to \\infty$ 时，$\\frac{1}{4N+1}$ 和 $\\frac{1}{4N+3}$ 都趋于 $0$。\n因此，$\\lim_{N \\to \\infty} S'_{3N} = \\lim_{N \\to \\infty} S'_{3N+1} = \\lim_{N \\to \\infty} S'_{3N+2}$，重排级数的和确实是 $\\frac{3}{2}\\ln(2)$。", "answer": "$$\n\\boxed{\\frac{3}{2}\\ln(2)}\n$$", "id": "21020"}, {"introduction": "在上一个练习的基础上，我们自然会问一个更普遍的问题：对于任意给定的$p$个正项和$q$个负项的重排模式，我们能否预测出新的和？这个练习将引导你使用调和数及其渐进性质，来推导一个普适的公式 $S_{p,q} = \\ln(2\\sqrt{\\frac{p}{q}})$。通过这个实践，你的理解将从一个特例提升为一个具有预测能力的普适性规律。[@problem_id:21055]", "problem": "交错调和级数由下式给出：\n$$S = \\sum_{n=1}^{\\infty} \\frac{(-1)^{n+1}}{n} = 1 - \\frac{1}{2} + \\frac{1}{3} - \\frac{1}{4} + \\dots$$\n已知此级数是条件收敛的，其和为 $S = \\ln(2)$。由于它是条件收敛的，重排其项的顺序可以改变其和的值。\n\n考虑该级数的一个重排，其构造规则如下：对于给定的正整数 $p$ 和 $q$，新级数通过取原级数的前 $p$ 个正项，后跟前 $q$ 个负项，然后用后续未使用的项重复此模式而形成。\n\n例如，重排级数中第一个由 $(p+q)$ 个项组成的块是：\n$$ \\left(1 + \\frac{1}{3} + \\dots + \\frac{1}{2p-1}\\right) - \\left(\\frac{1}{2} + \\frac{1}{4} + \\dots + \\frac{1}{2q}\\right) $$\n第二个块将是：\n$$ \\left(\\frac{1}{2p+1} + \\dots + \\frac{1}{4p-1}\\right) - \\left(\\frac{1}{2q+2} + \\dots + \\frac{1}{4q}\\right) $$\n依此类推。\n\n令 $S_{p,q}$ 表示此重排级数的和。您的任务是推导出一个用 $p$ 和 $q$ 表示 $S_{p,q}$ 的公式。\n\n为了帮助您进行推导，您可以使用关于第 $n$ 个调和数 $H_n = \\sum_{k=1}^{n} \\frac{1}{k}$ 的以下事实：\n1. 前 $n$ 个奇数的倒数之和为 $\\sum_{k=1}^{n} \\frac{1}{2k-1} = H_{2n} - \\frac{1}{2}H_n$。\n2. 前 $n$ 个偶数的倒数之和为 $\\sum_{k=1}^{n} \\frac{1}{2k} = \\frac{1}{2}H_n$。\n3. 对于大的 $n$，调和数具有由 $\\lim_{n\\to\\infty} (H_n - \\ln(n)) = \\gamma$ 给出的渐近行为，其中 $\\gamma$ 是欧拉-马歇罗尼常数。这意味着在计算极限时，您可以将 $H_n$ 替换为 $\\ln(n) + \\gamma$。", "solution": "设 $A_N$ 为重排级数在 $N$ 个完整块之后的部分和。每个块由 $p$ 个正项和 $q$ 个负项组成。在 $N$ 个块之后，我们已经对原始交错调和级数的前 $Np$ 个正项和前 $Nq$ 个负项求和。\n\n交错调和级数的正项形式为 $\\frac{1}{2k-1}$，负项形式为 $-\\frac{1}{2k}$。因此，部分和 $A_N$ 可以写成前 $Np$ 个正项之和减去前 $Nq$ 个负项绝对值之和：\n$$ A_N = \\left( \\sum_{k=1}^{Np} \\frac{1}{2k-1} \\right) - \\left( \\sum_{k=1}^{Nq} \\frac{1}{2k} \\right) $$\n\n我们使用所提供的将这些和与调和数联系起来的恒等式。\n对于奇数倒数之和，令 $n=Np$：\n$$ \\sum_{k=1}^{Np} \\frac{1}{2k-1} = H_{2(Np)} - \\frac{1}{2}H_{Np} = H_{2Np} - \\frac{1}{2}H_{Np} $$\n对于偶数倒数之和，令 $n=Nq$：\n$$ \\sum_{k=1}^{Nq} \\frac{1}{2k} = \\frac{1}{2}H_{Nq} $$\n将这些表达式代回 $A_N$ 的公式中：\n$$ A_N = \\left( H_{2Np} - \\frac{1}{2}H_{Np} \\right) - \\left( \\frac{1}{2}H_{Nq} \\right) $$\n\n重排级数的和 $S_{p,q}$ 是当 $N \\to \\infty$ 时部分和序列 $A_N$ 的极限。只需考虑在完整块结束后形成的部分和的极限即可。\n$$ S_{p,q} = \\lim_{N \\to \\infty} A_N = \\lim_{N \\to \\infty} \\left( H_{2Np} - \\frac{1}{2}H_{Np} - \\frac{1}{2}H_{Nq} \\right) $$\n\n现在，我们使用给定的调和数渐近公式，$H_n \\approx \\ln(n) + \\gamma$。当 $N \\to \\infty$ 时，自变量 $2Np$、$Np$ 和 $Nq$ 也趋于无穷。我们可以将渐近形式代入极限中：\n$$ S_{p,q} = \\lim_{N \\to \\infty} \\left[ (\\ln(2Np) + \\gamma) - \\frac{1}{2}(\\ln(Np) + \\gamma) - \\frac{1}{2}(\\ln(Nq) + \\gamma) \\right] $$\n我们使用对数性质 $\\ln(ab) = \\ln(a) + \\ln(b)$ 来展开各项：\n$$ \\ln(2Np) = \\ln(2) + \\ln(N) + \\ln(p) $$\n$$ \\ln(Np) = \\ln(N) + \\ln(p) $$\n$$ \\ln(Nq) = \\ln(N) + \\ln(q) $$\n将这些展开式代入 $S_{p,q}$ 的表达式中：\n$$ S_{p,q} = \\lim_{N \\to \\infty} \\left[ (\\ln(2) + \\ln(N) + \\ln(p) + \\gamma) - \\frac{1}{2}(\\ln(N) + \\ln(p) + \\gamma) - \\frac{1}{2}(\\ln(N) + \\ln(q) + \\gamma) \\right] $$\n由于极限是在 $N \\to \\infty$ 的条件下计算的，我们可以合并极限表达式中含 $\\ln(N)$ 的项、含 $\\gamma$ 的项以及常数项。\n$$ S_{p,q} = \\ln(2) + \\ln(p) - \\frac{1}{2}\\ln(p) - \\frac{1}{2}\\ln(q) + \\left(\\ln(N) - \\frac{1}{2}\\ln(N) - \\frac{1}{2}\\ln(N)\\right) + \\left(\\gamma - \\frac{1}{2}\\gamma - \\frac{1}{2}\\gamma\\right) $$\n含 $\\ln(N)$ 和 $\\gamma$ 的项相互抵消：\n$$ \\ln(N) - \\ln(N) = 0 $$\n$$ \\gamma - \\gamma = 0 $$\n表达式简化为：\n$$ S_{p,q} = \\ln(2) + \\frac{1}{2}\\ln(p) - \\frac{1}{2}\\ln(q) $$\n使用对数性质 $c\\ln(a) = \\ln(a^c)$ 和 $\\ln(a) - \\ln(b) = \\ln(a/b)$，我们合并对数项：\n$$ S_{p,q} = \\ln(2) + \\frac{1}{2}(\\ln(p) - \\ln(q)) $$\n$$ S_{p,q} = \\ln(2) + \\frac{1}{2}\\ln\\left(\\frac{p}{q}\\right) $$\n$$ S_{p,q} = \\ln(2) + \\ln\\left(\\left(\\frac{p}{q}\\right)^{1/2}\\right) = \\ln(2) + \\ln\\left(\\sqrt{\\frac{p}{q}}\\right) $$\n最后，使用性质 $\\ln(a) + \\ln(b) = \\ln(ab)$：\n$$ S_{p,q} = \\ln\\left(2\\sqrt{\\frac{p}{q}}\\right) $$\n这就是所求的重排级数和的闭式表达式。", "answer": "$$\\boxed{\\ln\\left(2\\sqrt{\\frac{p}{q}}\\right)}$$", "id": "21055"}, {"introduction": "黎曼重排定理最惊人的部分是，条件收敛级数不仅可以重排得到不同的和，甚至可以使其发散到无穷。这个最终的实践将让你亲身体验这一过程。你将遵循一个明确给出的算法，主动地重排一个条件收敛级数，使其部分和一步步走向负无穷，从而对黎曼定理的强大威力有更深刻和直观的认识。[@problem_id:1319794]", "problem": "考虑级数 $S = \\sum_{n=2}^{\\infty} \\frac{(-1)^n}{\\sqrt{n}}$。设其正项序列为 $(p_k)_{k=1}^{\\infty}$，负项序列为 $(q_k)_{k=1}^{\\infty}$，两个序列都按照各项在原级数 $S$ 中出现的顺序排列。\n\n一个新级数 $S'$ 是通过根据以下迭代算法重排 $S$ 的各项来构造的：\n- **对于 $j=1$**：对前 $m_1$ 个负项 $q_1, q_2, \\dots, q_{m_1}$求和，其中 $m_1$ 是使部分和 $\\sum_{i=1}^{m_1} q_i$ 小于或等于 $-1$ 的最小整数。然后，加上第一个正项 $p_1$。\n- **对于 $j=2$**：从当前的和开始，继续加上接下来的 $m_2$ 个可用负项 $q_{m_1+1}, \\dots, q_{m_1+m_2}$，其中 $m_2$ 是使重排级数的总和小于或等于 $-2$ 的最小整数。然后，加上第二个正项 $p_2$。\n- **对于 $j \\ge 1$ 的一般步骤**：在加上项 $p_{j-1}$ 之后（对于 $j=1$，我们从和为 0 开始），我们对最少数量的、后续未使用的负项（比如 $m_j$ 个）进行求和，直到重排级数的总和首次小于或等于 $-j$。然后，我们加上正项 $p_j$。\n\n确定在 $S'$ 的部分和首次小于或等于 $-3$ 的确切时刻，从原级数 $S$ 中用于构造 $S'$ 的总项数（包括正项和负项）。", "solution": "该级数为 $S=\\sum_{n=2}^{\\infty}\\frac{(-1)^{n}}{\\sqrt{n}}$，因此正项为 $p_{k}=\\frac{1}{\\sqrt{2k}}$（来自偶数 $n=2k$），负项为 $q_{k}=-\\frac{1}{\\sqrt{2k+1}}$（来自奇数 $n=2k+1$），两者都按它们在 $S$ 中出现的顺序排列。\n\n对于 $j=1$，对前几个负项求和，直到部分和 $\\leq -1$。我们计算\n$q_{1}=-\\frac{1}{\\sqrt{3}}\\approx -0.57735$\n$q_1+q_2 = -\\frac{1}{\\sqrt{3}}-\\frac{1}{\\sqrt{5}}\\approx -1.02456$\n因此最小项数是 $m_{1}=2$，加上这两个负项后，部分和约为 $-1.02456$。然后加上 $p_{1}=\\frac{1}{\\sqrt{2}}\\approx 0.70711$，得到当前总和\n$$\nS'_{1}\\approx -1.02456 + 0.70711 = -0.31745.\n$$\n\n对于 $j=2$，继续添加未使用的负项，直到总和 $\\leq -2$。从 $-0.31745$ 开始，依次加上\n$q_{3}=-\\frac{1}{\\sqrt{7}}$, 当前和 $\\approx -0.69542$\n$q_{4}=-\\frac{1}{\\sqrt{9}}$, 当前和 $\\approx -1.02875$\n$q_{5}=-\\frac{1}{\\sqrt{11}}$, 当前和 $\\approx -1.33027$\n$q_{6}=-\\frac{1}{\\sqrt{13}}$, 当前和 $\\approx -1.60762$\n$q_{7}=-\\frac{1}{\\sqrt{15}}$, 当前和 $\\approx -1.86582$\n$q_{8}=-\\frac{1}{\\sqrt{17}}$, 当前和 $\\approx -2.10835 \\leq -2$\n在加 $q_{8}$ 之前，和约等于 $-1.86582 > -2$，所以这里的最小项数是 $m_{2}=6$。然后加上 $p_{2}=\\frac{1}{\\sqrt{4}}=\\frac{1}{2}=0.5$，得到\n$$\nS'_{2}\\approx -2.10835+0.5=-1.60835.\n$$\n\n对于 $j=3$，继续添加负项，直到总和 $\\leq -3$。从 $-1.60835$ 开始，加上\n$q_{9}=-\\frac{1}{\\sqrt{19}}$, 当前和 $\\approx -1.83777$\n$q_{10}=-\\frac{1}{\\sqrt{21}}$, 当前和 $\\approx -2.05598$\n$q_{11}=-\\frac{1}{\\sqrt{23}}$, 当前和 $\\approx -2.26450$\n$q_{12}=-\\frac{1}{\\sqrt{25}}$, 当前和 $\\approx -2.46450$\n$q_{13}=-\\frac{1}{\\sqrt{27}}$, 当前和 $\\approx -2.65695$\n$q_{14}=-\\frac{1}{\\sqrt{29}}$, 当前和 $\\approx -2.84264$\n$q_{15}=-\\frac{1}{\\sqrt{31}}$, 当前和 $\\approx -3.02225 \\leq -3$\n在加 $q_{15}$ 之前，和约等于 $-2.84264 > -3$，所以这里的最小项数是 $m_{3}=7$。\n\n因此，在部分和首次变为 $\\leq -3$ 的确切时刻（这发生在添加 $q_{15}$ 之后，添加 $p_3$ 之前），所使用的总项数是到目前为止使用的所有负项数与已插入的正项数之和。使用的负项总数为 $m_1+m_2+m_3 = 2+6+7=15$。已插入的正项为 $p_1$ 和 $p_2$，共 2 项。因此，使用的总项数为 $15 + 2 = 17$。", "answer": "$$\\boxed{17}$$", "id": "1319794"}]}