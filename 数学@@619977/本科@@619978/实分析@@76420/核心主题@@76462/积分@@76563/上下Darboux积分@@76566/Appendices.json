{"hands_on_practices": [{"introduction": "我们从一个基础练习开始，以巩固达布上和与下和的定义。通过处理一个阶梯函数，你将直接体验如何在每个子区间上确定下确界（infimum）和上确界（supremum）来计算这些和。这个练习 [@problem_id:2333882] 是掌握积分理论计算机制的第一步，特别是对于不连续函数而言。", "problem": "设函数 $f$ 在区间 $[0, 1]$ 上定义为 $f(x) = \\lfloor 3x \\rfloor$，其中 $\\lfloor \\cdot \\rfloor$ 表示向下取整函数，即取不大于其参数的最大整数。考虑区间 $[0, 1]$ 的一个分割 $P = \\{0, \\frac{1}{3}, \\frac{2}{3}, 1\\}$。\n\n计算函数 $f$ 关于分割 $P$ 的达布下和 $L(f, P)$ 与达布上和 $U(f, P)$。\n\n将答案表示为一个行矩阵 $\\begin{pmatrix} L(f, P)  U(f, P) \\end{pmatrix}$，其中下和在前。", "solution": "我们使用分割上达布和的定义。对于分割 $P=\\{0, \\frac{1}{3}, \\frac{2}{3}, 1\\}$，子区间为 $[0,\\frac{1}{3}]$、$[\\frac{1}{3},\\frac{2}{3}]$ 和 $[\\frac{2}{3},1]$，每个子区间的长度均为 $\\frac{1}{3}$。对每个子区间 $[x_{i-1},x_{i}]$，令 $m_{i}=\\inf\\{f(x):x\\in[x_{i-1},x_{i}]\\}$ 且 $M_{i}=\\sup\\{f(x):x\\in[x_{i-1},x_{i}]\\}$。于是\n$$\nL(f,P)=\\sum_{i=1}^{3} m_{i}\\,(x_{i}-x_{i-1}),\\qquad U(f,P)=\\sum_{i=1}^{3} M_{i}\\,(x_{i}-x_{i-1}).\n$$\n我们逐个分析函数 $f(x)=\\lfloor 3x\\rfloor$ 在每个子区间上的行为来确定下确界 $m_i$ 和上确界 $M_i$。\n- 对于子区间 $[0, \\frac{1}{3}]$：\n  - 当 $x \\in [0, \\frac{1}{3})$ 时，$0 \\le 3x  1$，所以 $f(x) = \\lfloor 3x \\rfloor = 0$。\n  - 当 $x = \\frac{1}{3}$ 时，$f(\\frac{1}{3}) = \\lfloor 3 \\cdot \\frac{1}{3} \\rfloor = \\lfloor 1 \\rfloor = 1$。\n  - 因此，在闭区间 $[0, \\frac{1}{3}]$ 上，函数 $f$ 的取值集合为 $\\{0, 1\\}$。所以，$m_1 = \\inf f = 0$，$M_1 = \\sup f = 1$。\n- 对于子区间 $[\\frac{1}{3}, \\frac{2}{3}]$：\n  - 当 $x \\in [\\frac{1}{3}, \\frac{2}{3})$ 时，$1 \\le 3x  2$，所以 $f(x) = \\lfloor 3x \\rfloor = 1$。\n  - 当 $x = \\frac{2}{3}$ 时，$f(\\frac{2}{3}) = \\lfloor 3 \\cdot \\frac{2}{3} \\rfloor = \\lfloor 2 \\rfloor = 2$。\n  - 因此，在闭区间 $[\\frac{1}{3}, \\frac{2}{3}]$ 上，函数 $f$ 的取值集合为 $\\{1, 2\\}$。所以，$m_2 = \\inf f = 1$，$M_2 = \\sup f = 2$。\n- 对于子区间 $[\\frac{2}{3}, 1]$：\n  - 当 $x \\in [\\frac{2}{3}, 1)$ 时，$2 \\le 3x  3$，所以 $f(x) = \\lfloor 3x \\rfloor = 2$。\n  - 当 $x = 1$ 时，$f(1) = \\lfloor 3 \\cdot 1 \\rfloor = \\lfloor 3 \\rfloor = 3$。\n  - 因此，在闭区间 $[\\frac{2}{3}, 1]$ 上，函数 $f$ 的取值集合为 $\\{2, 3\\}$。所以，$m_3 = \\inf f = 2$，$M_3 = \\sup f = 3$。\n因此，\n$$\nL(f,P)=\\left(0\\cdot \\frac{1}{3}\\right)+\\left(1\\cdot \\frac{1}{3}\\right)+\\left(2\\cdot \\frac{1}{3}\\right)=\\frac{0+1+2}{3}=1,\n$$\n$$\nU(f,P)=\\left(1\\cdot \\frac{1}{3}\\right)+\\left(2\\cdot \\frac{1}{3}\\right)+\\left(3\\cdot \\frac{1}{3}\\right)=\\frac{1+2+3}{3}=2.\n$$\n因此，所求的行矩阵是 $\\begin{pmatrix} 1  2 \\end{pmatrix}$。", "answer": "$$\\boxed{\\begin{pmatrix} 1  2 \\end{pmatrix}}$$", "id": "2333882"}, {"introduction": "理解了如何计算达布和之后，下一个关键步骤是探索划分的精细程度如何影响积分的近似精度。这个练习 [@problem_id:2333883] 将黎曼可积性的核心准则——$U(f, P) - L(f, P)  \\epsilon$——变得具体化。通过找出一个满足特定精度要求的最小子区间数 $n$，你将深刻理解达布和如何随着划分的加密而收敛。", "problem": "考虑定义在闭区间 $[0, 5]$ 上的线性函数 $f(x) = 2x$。我们将此区间划分为 $n$ 个等长的子区间，其中 $n$ 为一个正整数。设此均匀划分为 $P_n = \\{x_0, x_1, \\ldots, x_n\\}$，其中划分点由 $x_k = \\frac{5k}{n}$ 给出，对于 $k = 0, 1, \\ldots, n$。\n\n对于每个子区间 $I_k = [x_{k-1}, x_k]$，其中 $k \\in \\{1, 2, \\ldots, n\\}$，我们定义两个值：\n- $M_k = \\sup\\{f(x) \\mid x \\in I_k\\}$，函数在该子区间上的最小上界。\n- $m_k = \\inf\\{f(x) \\mid x \\in I_k\\}$，函数在该子区间上的最大下界。\n\n使用这些值，我们构造上和 $U(f, P_n) = \\sum_{k=1}^{n} M_k (x_k - x_{k-1})$ 与下和 $L(f, P_n) = \\sum_{k=1}^{n} m_k (x_k - x_{k-1})$。\n\n求最小的正整数 $n$，使得差值 $U(f, P_n) - L(f, P_n)$ 严格小于 $0.1$。", "solution": "我们考虑在 $[0,5]$ 上的线性函数 $f(x)=2x$ 以及由 $x_{k}=\\frac{5k}{n}$（$k=0,1,\\ldots,n$）给出的均匀划分 $P_{n}$。每个子区间的宽度为\n$$\n\\Delta x=x_{k}-x_{k-1}=\\frac{5}{n}.\n$$\n因为 $f$ 在 $[0,5]$ 上是严格递增的，所以在每个子区间 $I_{k}=[x_{k-1},x_{k}]$ 上我们有\n$$\nM_{k}=\\sup\\{f(x)\\mid x\\in I_{k}\\}=f(x_{k})=2x_{k},\\qquad m_{k}=\\inf\\{f(x)\\mid x\\in I_{k}\\}=f(x_{k-1})=2x_{k-1}.\n$$\n因此，对于每个 $k$：\n$$\nM_{k}-m_{k}=2x_{k}-2x_{k-1}=2(x_{k}-x_{k-1})=2\\Delta x.\n$$\n上和与下和之差为\n$$\nU(f,P_{n})-L(f,P_{n})=\\sum_{k=1}^{n}(M_{k}-m_{k})(x_{k}-x_{k-1})=\\sum_{k=1}^{n}\\left(2\\Delta x\\right)\\Delta x=2n(\\Delta x)^{2}.\n$$\n代入 $\\Delta x=\\frac{5}{n}$ 得\n$$\nU(f,P_{n})-L(f,P_{n})=2n\\left(\\frac{5}{n}\\right)^{2}=\\frac{50}{n}.\n$$\n我们需要求满足以下不等式的最小正整数 $n$：\n$$ \\frac{50}{n}  0.1 \\quad \\text{即} \\quad \\frac{50}{n}  \\frac{1}{10} $$\n由于 $n > 0$，我们可以将不等式两边同乘以 $10n$ 而不改变不等号方向，得到：\n$$ 500  n $$\n因此，满足此严格不等式的最小正整数 $n$ 是 $n=501$。", "answer": "$$\\boxed{501}$$", "id": "2333883"}, {"introduction": "现在，我们将视野从达布和扩展到达布积分（即下和的上确界与上和的下确界）。这个练习 [@problem_id:2296364] 揭示了达布积分的一个深刻性质：它对于函数在有限个点上的改变不敏感。通过分析一个仅在单点被修改的函数，你将挑战自己对连续性的直观理解，并体会到达布积分定义的严谨与强大。", "problem": "考虑定义在区间 $[0, 3]$ 上的函数 $f$ 如下：\n$$\nf(x) = \\begin{cases}\nx^2  \\text{若 } x \\in [0, 3] \\text{ 且 } x \\neq \\sqrt{2} \\\\\n0  \\text{若 } x = \\sqrt{2}\n\\end{cases}\n$$\n计算函数 $f$ 在区间 $[0, 3]$ 上的下 Darboux 积分 $L(f)$ 和上 Darboux 积分 $U(f)$。\n\n将答案以行矩阵的格式表示为一对值 $(L(f), U(f))$。", "solution": "在 $[0,3]$ 上定义 $g(x)=x^{2}$。则对所有满足 $x\\neq \\sqrt{2}$ 的 $x\\in[0,3]$，有 $f(x)=g(x)$，且 $f(\\sqrt{2})=0$。显然，在 $[0,3]$ 上有 $0\\leq f(x)\\leq 9$，因此 $f$ 是有界的。\n\n对于任意分割 $P=\\{0=x_{0}x_{1}\\cdotsx_{n}=3\\}$，令\n$$\nm_{i}(h)=\\inf\\{h(x):x\\in[x_{i-1},x_{i}]\\},\\quad\nM_{i}(h)=\\sup\\{h(x):x\\in[x_{i-1},x_{i}]\\},\n$$\n以及下达布和与上达布和\n$$\nL(h,P)=\\sum_{i=1}^{n} m_{i}(h)\\,(x_{i}-x_{i-1}),\\quad\nU(h,P)=\\sum_{i=1}^{n} M_{i}(h)\\,(x_{i}-x_{i-1}).\n$$\n下达布积分与上达布积分分别为\n$$\nL(h)=\\sup_{P} L(h,P),\\qquad U(h)=\\inf_{P} U(h,P).\n$$\n\n上达布积分：对于每个子区间 $[x_{i-1},x_{i}]$，由于对所有 $x$ 都有 $f(x) \\le g(x)$，且对于任意不包含 $\\sqrt{2}$ 的点 $y \\in [x_{i-1},x_{i}]$，我们可以找到一个序列 $y_n \\to y$ 使得 $f(y_n)=g(y_n) \\to g(y)$。这表明 $f$ 和 $g$ 在每个子区间上的上确界是相同的。\n$$\nM_{i}(f)=M_{i}(g)\\quad\\text{对所有 }i,\n$$\n因此\n$$\nU(f,P)=U(g,P)\\quad\\text{对所有分割 }P,\n$$\n故\n$$\nU(f)=\\inf_{P}U(f,P)=\\inf_{P}U(g,P)=U(g).\n$$\n因为 $g$ 在 $[0,3]$ 上连续，所以它是黎曼可积的，且 $U(g)=L(g)=\\int_{0}^{3}x^{2}\\,dx$。因此\n$$\nU(f)=\\int_{0}^{3}x^{2}\\,dx=\\left.\\frac{x^{3}}{3}\\right|_{0}^{3}=\\frac{27}{3}=9.\n$$\n\n下达布积分：我们已知 $U(f)=9$ 且总有 $L(f) \\le U(f)$，所以 $L(f) \\le 9$。我们只需证明 $L(f) \\ge 9$。\n为此，我们证明对任意 $\\epsilon > 0$，都存在一个分割 $P$ 使得 $L(f, P) > 9 - \\epsilon$。\n1.  由于 $g(x)=x^2$ 可积且积分为 9，存在一个分割 $P_1$ 使得 $L(g, P_1) > 9 - \\epsilon/2$。\n2.  现在构造一个更精细的分割 $P$。我们可以通过在 $P_1$ 中加入额外的点来加细分割，确保包含 $\\sqrt{2}$ 的子区间 $I_k = [x_{k-1}, x_k]$ 的长度 $\\Delta x_k$ 足够小。具体来说，我们要求 $\\Delta x_k  \\frac{\\epsilon}{18}$。\n3.  因为 $P$ 是 $P_1$ 的加细，所以 $L(g, P) \\ge L(g, P_1) > 9 - \\epsilon/2$。\n4.  接下来比较 $L(f, P)$ 和 $L(g, P)$ 的差值：\n    $L(g, P) - L(f, P) = \\sum_i (m_i(g) - m_i(f))\\Delta x_i$。\n    该和中，仅在包含 $\\sqrt{2}$ 的子区间 $I_k$ 上的一项非零（因为在其他区间 $f=g$）。\n    $L(g, P) - L(f, P) = (m_k(g) - m_k(f))\\Delta x_k$。\n    在 $I_k$ 上，$m_k(f)=0$（因为 $f(\\sqrt{2})=0$ 且 $f \\ge 0$），而 $m_k(g) \\ge 0$。同时，$g(x)=x^2$ 在 $[0,3]$ 上以 $9$ 为界，所以 $m_k(g) \\le M_k(g) \\le 9$。\n    于是 $L(g, P) - L(f, P) \\le 9 \\cdot \\Delta x_k  9 \\cdot (\\frac{\\epsilon}{18}) = \\epsilon/2$。\n5.  最后，我们有：\n    $L(f, P) = L(g, P) - (L(g, P) - L(f, P)) > (9 - \\epsilon/2) - \\epsilon/2 = 9 - \\epsilon$。\n    既然对任意 $\\epsilon > 0$ 我们都能找到一个分割 $P$ 使得 $L(f, P) > 9 - \\epsilon$，那么根据下积分的定义，$L(f) = \\sup_P L(f, P) \\ge 9$。\n最终，由于 $L(f) \\le 9$ 且 $L(f) \\ge 9$，我们得出 $L(f) = 9$。\n\n因此，$f$ 在 $[0,3]$ 上的下达布积分和上达布积分均为 $9$。", "answer": "$$\\boxed{\\begin{pmatrix} 9  9 \\end{pmatrix}}$$", "id": "2296364"}]}