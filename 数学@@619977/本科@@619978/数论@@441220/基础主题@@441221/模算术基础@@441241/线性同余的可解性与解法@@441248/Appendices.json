{"hands_on_practices": [{"introduction": "在解决线性同余问题时，一个常见的误区是像解普通方程一样直接在两边“除”以一个数。本练习将通过一个具体的例子，探讨模算术中“零因子”的概念，并阐明为何这种直观的除法操作有时会失效。通过这个实践 [@problem_id:3086906]，你将理解最大公约数在判断同余方程是否有解时扮演的关键角色，为后续学习更通用的解法奠定坚实的理论基础。", "problem": "考虑模整数 $m$ 的同余类，并回想：如果存在一个非零的模 $m$ 剩余类 $r$ 使得 $ar \\equiv 0 \\pmod{m}$，则称模 $m$ 的元素 $a$ 为零因子。请使用模数 $m = 12$ 和系数 $a = 6$ 进行计算。\n\n1. 从基本原理（即同余的定义和零因子的定义）出发，证明 $6$ 是模 $12$ 的一个零因子。解释为什么在同余式 $6x \\equiv b \\pmod{12}$ 中，“两边同除以 $6$”这一步骤通常是无效的。\n\n2. 考虑同余式 $6x \\equiv 9 \\pmod{12}$ 和 $6x \\equiv 18 \\pmod{12}$。从同余的定义出发，并利用整除性和最大公约数（gcd）的基本性质，确定：\n   - 同余式 $6x \\equiv 9 \\pmod{12}$ 是否有解，如果有，它有多少个模 $12$ 的不同余解；\n   - 找出一个正确的方法，将 $6x \\equiv 18 \\pmod{12}$ 转换成一个保留所有解且模数严格更小的简化同余式，并解出它以得到所有模 $12$ 的不同余解。\n\n3. 定义 $T$ 为两个量之和：同余式 $6x \\equiv 9 \\pmod{12}$ 的模 $12$ 不同余解的总数，加上同余式 $6x \\equiv 18 \\pmod{12}$ 的所有模 $12$ 不同余解的最小非负剩余之和。计算 $T$。\n\n你的最终答案必须是一个数字。", "solution": "这个问题是有效的，因为它是初等数论领域内一个定义明确、自成一体的问题，具体涉及线性同余。所有术语都是标准的，目标也很明确。\n\n这个问题分为三个部分。我们将按顺序处理每个部分。\n\n**第1部分：模12下元素$6$的分析**\n\n首先，我们将证明 $6$ 是模 $12$ 的一个零因子。根据定义，如果存在一个非零的模 $m$ 剩余类 $r$ 使得 $ar \\equiv 0 \\pmod{m}$，则元素 $a$ 是模 $m$ 的一个零因子。这里，$a=6$ 且 $m=12$。一个非零的模 $12$ 剩余类 $r$ 是指任何满足 $r \\not\\equiv 0 \\pmod{12}$ 的整数 $r$，即 $12$ 不能整除 $r$。我们需要寻找这样一个 $r$ 使得 $6r \\equiv 0 \\pmod{12}$。\n\n根据同余的定义，$6r \\equiv 0 \\pmod{12}$ 意味着 $12$ 整除 $(6r - 0)$，或者简单写作 $12 | 6r$。这意味着存在一个整数 $k$ 使得 $6r = 12k$。两边除以 $6$，我们得到 $r = 2k$。我们需要找到一个形如 $2k$ 但不是 $12$ 的倍数的整数 $r$。我们可以选择 $k=1$，这得到 $r=2$。$2$ 的剩余类是模 $12$ 非零的，因为 $12 \\nmid 2$。我们可以验证其乘积：$6 \\cdot 2 = 12$，并且由于 $12 \\equiv 0 \\pmod{12}$，我们找到了一个非零剩余类 $r=2$ 使得 $6r \\equiv 0 \\pmod{12}$。因此，根据定义，$6$ 是模 $12$ 的一个零因子。\n\n接下来，我们解释为什么在同余式 $6x \\equiv b \\pmod{12}$ 中，“两边同除以 $6$” 通常不是一个有效的操作。在模运算中，除以一个整数 $a$ 的操作仅当 $a$ 存在模 $m$ 的乘法逆元时才是良定义的。一个元素 $a$ 存在模 $m$ 的乘法逆元，当且仅当 $a$ 和 $m$ 的最大公约数为 $1$，即 $\\gcd(a, m) = 1$。在我们的例子中，$a=6$，$m=12$，我们有 $\\gcd(6, 12) = 6$。因为 $\\gcd(6, 12) \\neq 1$，所以整数 $6$ 不存在模 $12$ 的乘法逆元。没有乘法逆元，消去律就不成立。例如，考虑成立的同余式 $6 \\cdot 1 \\equiv 18 \\pmod{12}$，也就是 $6 \\equiv 6 \\pmod{12}$。再考虑 $6 \\cdot 3 \\equiv 18 \\pmod{12}$。如果我们能“除以 $6$”，那么从 $6 \\cdot 1 \\equiv 6 \\cdot 3 \\pmod{12}$ 我们会错误地得出 $1 \\equiv 3 \\pmod{12}$。这是错误的，这表明除以一个零因子通常不是一个有效的操作。\n\n**第2部分：解线性同余式**\n\n我们分析给定的两个同余式。形式为 $ax \\equiv b \\pmod{m}$ 的线性同余式有解，当且仅当 $d = \\gcd(a, m)$ 整除 $b$。如果这个条件成立，那么恰好有 $d$ 个模 $m$ 的不同余解。\n\n对于同余式 $6x \\equiv 9 \\pmod{12}$：\n这里，$a=6$，$b=9$，$m=12$。我们计算最大公约数 $d = \\gcd(a, m) = \\gcd(6, 12) = 6$。为了使解存在，$d$ 必须整除 $b$。我们检查 $6$ 是否整除 $9$。因为 $9 = 6 \\cdot 1 + 3$，所以 $6$ 不整除 $9$。因此，同余式 $6x \\equiv 9 \\pmod{12}$ 无解。不同余解的个数是 $0$。\n\n对于同余式 $6x \\equiv 18 \\pmod{12}$：\n这里，$a=6$，$b=18$，$m=12$。首先，我们可以将右边对模 $12$ 进行化简：因为 $18 = 1 \\cdot 12 + 6$，我们有 $18 \\equiv 6 \\pmod{12}$。该同余式等价于 $6x \\equiv 6 \\pmod{12}$。\n现在，我们用 $a=6$，$b=6$ 和 $m=12$ 来检查可解性条件。最大公约数是 $d = \\gcd(6, 12) = 6$。我们检查 $d$ 是否整除 $b$：$6$ 整除 $6$，这是成立的。因此，存在整数解 $x$，并且恰好有 $d=6$ 个模 $12$ 的不同余解。\n\n为了找到这些解，我们遵循指定的方法来变换同余式。同余式 $6x \\equiv 6 \\pmod{12}$ 等价于 $12$ 整除 $(6x - 6)$，这可以写成线性丢番图方程 $6x - 6 = 12k$，其中 $k$ 是某个整数。将整个方程除以 $d = \\gcd(6, 12) = 6$，我们得到：\n$$x - 1 = 2k$$\n这个方程可以重写为一个模数严格更小的同余式：\n$$x \\equiv 1 \\pmod{2}$$\n新的模数是 $m' = \\frac{m}{d} = \\frac{12}{6} = 2$。这个简化的同余式 $x \\equiv 1 \\pmod{2}$ 与原同余式具有相同的整数解集 $x$。解是所有奇数。\n\n为了找到所有模 $12$ 的不同余解，我们必须在最小非负剩余集 $\\{0, 1, 2, \\dots, 11\\}$ 中找到满足 $x \\equiv 1 \\pmod{2}$ 的整数 $x$。这些是该范围内的奇数：\n$$x \\in \\{1, 3, 5, 7, 9, 11\\}$$\n这些就是 $6$ 个模 $12$ 的不同余解。\n\n**第3部分：$T$的计算**\n\n值 $T$ 定义为两个量之和：\n1.  同余式 $6x \\equiv 9 \\pmod{12}$ 的模 $12$ 不同余解的总数。\n2.  同余式 $6x \\equiv 18 \\pmod{12}$ 的所有模 $12$ 不同余解的最小非负剩余之和。\n\n根据第2部分，$6x \\equiv 9 \\pmod{12}$ 的解的个数为 $0$。\n同样根据第2部分，$6x \\equiv 18 \\pmod{12}$ 的解的最小非负剩余为 $\\{1, 3, 5, 7, 9, 11\\}$。它们的和是：\n$$1 + 3 + 5 + 7 + 9 + 11$$\n这是一个有 $6$ 项的等差数列，首项 $a_1=1$，末项 $a_6=11$。其和由公式 $\\frac{n}{2}(a_1 + a_n)$ 给出：\n$$\\text{Sum} = \\frac{6}{2}(1 + 11) = 3(12) = 36$$\n\n因此，$T$ 的值是这两个量之和：\n$$T = 0 + 36 = 36$$", "answer": "$$\\boxed{36}$$", "id": "3086906"}, {"introduction": "理解了可解性条件后，我们来系统地学习求解一般线性同余方程 $ax \\equiv b \\pmod{m}$ 的完整流程。本练习 [@problem_id:3086886] 将引导你处理系数 $a$ 与模数 $m$ 不互素的情况，这在实际问题中经常出现。你将实践计算最大公约数、约简同余方程、并最终求出所有解的完整过程，将理论知识转化为一套可靠的解题算法。", "problem": "设 $a$、$b$ 和 $m$ 为整数，其中 $m \\geq 2$。回顾定义：$a \\equiv b \\pmod{m}$ 意为 $m$ 整除 $a-b$。线性同余是一种形如 $ax \\equiv b \\pmod{m}$ 的表达式，其中 $x$ 是一个整数变量。仅使用同余的定义以及整除性和最大公约数（GCD）的基本性质，判断同余式 $84x \\equiv 126 \\pmod{210}$ 是否有整数解。如果有解，通过系统地将问题简化为具有更小模的同余式，并在适当时使用乘法逆元的存在性，从第一性原理出发刻画其整个解集。作为你的最终数值答案，报告满足 $0 \\leq x  210$ 的最小非负整数解 $x$。", "solution": "问题是判断线性同余式 $84x \\equiv 126 \\pmod{210}$ 的可解性，如果存在解，则刻画解集并找到最小非负解。\n\n首先，我们验证问题陈述的有效性。\n该问题是初等数论中的一个标准练习。它提供了所有必要的信息：整数 $a=84$，$b=126$ 和模 $m=210$。同余、最大公约数（GCD）和乘法逆元等定义和概念都是标准的、定义明确的。该问题是自包含的、数学上可靠且适定的。没有科学或事实上的不健全、模糊或矛盾之处。该问题是有效的。\n\n我们从第一性原理出发进行求解。\n根据定义，线性同余式 $ax \\equiv b \\pmod{m}$ 等价于 $m$ 整除 $ax-b$ 这一陈述。这意味着存在一个整数 $k$，使得 $ax-b = mk$。这可以重写为一个关于两个变量 $x$ 和 $k$ 的线性丢番图方程：\n$$ax - mk = b$$\n数论的一个基本定理指出，该方程有整数解 $x$ 和 $k$ 的充分必要条件是 $d = \\gcd(a, m)$ 整除 $b$。\n\n对于给定的同余式 $84x \\equiv 126 \\pmod{210}$，我们有 $a=84$，$b=126$ 和 $m=210$。我们必须首先计算 $d = \\gcd(84, 210)$。我们使用欧几里得算法：\n$$210 = 2 \\cdot 84 + 42$$\n$$84 = 2 \\cdot 42 + 0$$\n最后一个非零余数是 $42$，所以 $d = \\gcd(84, 210) = 42$。\n\n现在，我们检查 $d$ 是否整除 $b$。我们需要确定 $42$ 是否整除 $126$。我们进行除法运算：\n$$\\frac{126}{42} = 3$$\n由于 $126 = 3 \\cdot 42$，$42$ 确实整除 $126$。因此，线性同余式 $84x \\equiv 126 \\pmod{210}$ 有整数解。\n\n为了找到解，我们遵循指令，将问题简化为具有更小模的同余式。我们从等价的丢番图方程开始：\n$$84x - 210k = 126$$\n我们可以将整个方程两边同时除以 $d = \\gcd(84, 210) = 42$：\n$$\\frac{84}{42}x - \\frac{210}{42}k = \\frac{126}{42}$$\n$$2x - 5k = 3$$\n这个方程可以转换回一个同余式。方程 $2x - 3 = 5k$ 意味着 $5$ 整除 $2x - 3$，这等价于：\n$$2x \\equiv 3 \\pmod{5}$$\n这就是简化后的同余式，其模更小，为 $m' = \\frac{m}{d} = \\frac{210}{42} = 5$。\n\n现在我们求解 $2x \\equiv 3 \\pmod{5}$。因为 $\\gcd(2, 5) = 1$，所以系数 $2$ 存在唯一的模 $5$ 乘法逆元。我们寻找一个整数 $z$ 使得 $2z \\equiv 1 \\pmod{5}$。通过观察，我们可以看到 $2 \\cdot 3 = 6$，并且 $6 \\equiv 1 \\pmod{5}$。因此，$2$ 模 $5$ 的乘法逆元是 $3$。\n\n我们将简化后同余式两边同乘以这个逆元：\n$$3 \\cdot (2x) \\equiv 3 \\cdot 3 \\pmod{5}$$\n$$(3 \\cdot 2)x \\equiv 9 \\pmod{5}$$\n$$6x \\equiv 9 \\pmod{5}$$\n由于 $6 \\equiv 1 \\pmod{5}$ 且 $9 \\equiv 4 \\pmod{5}$，该同余式简化为：\n$$x \\equiv 4 \\pmod{5}$$\n这就是简化后同余式的解。它也刻画了原始同余式的所有整数解的集合。任何形如 $x = 4 + 5j$（其中 $j$ 为整数）的整数 $x$ 都是一个解。\n\n问题要求的是模 $210$ 的完整解集。一个有解的线性同余式 $ax \\equiv b \\pmod{m}$ 将恰好有 $d = \\gcd(a, m)$ 个模 $m$ 的非同余解。在我们的例子中，有 $d=42$ 个模 $210$ 的解。这些解由以下公式给出：\n$$x_j = x_0 + j \\cdot \\frac{m}{d} \\quad \\text{for } j = 0, 1, 2, \\dots, d-1$$\n其中 $x_0$ 是任意一个特解。我们已经发现解集由 $x \\equiv 4 \\pmod{5}$ 刻画。满足此条件的最小非负整数是 $x_0 = 4$。\n当 $x_0=4$，$m=210$ 且 $d=42$ 时，解为：\n$$x_j = 4 + j \\cdot \\left(\\frac{210}{42}\\right) = 4 + 5j \\quad \\text{for } j = 0, 1, 2, \\dots, 41$$\n在区间 $0 \\le x  210$ 内的 $42$ 个解是：\n对于 $j=0$：$x_0 = 4 + 5(0) = 4$\n对于 $j=1$：$x_1 = 4 + 5(1) = 9$\n对于 $j=2$：$x_2 = 4 + 5(2) = 14$\n...\n对于 $j=41$：$x_{41} = 4 + 5(41) = 4 + 205 = 209$\n解集是 $\\{4, 9, 14, 19, \\dots, 209\\}$。\n\n问题要求的是满足 $0 \\leq x  210$ 的最小非负整数解 $x$。从解集中，这对应于 $j=0$ 的情况，即 $x_0 = 4$。", "answer": "$$\\boxed{4}$$", "id": "3086886"}, {"introduction": "求解线性同余方程的一个核心步骤是求模逆元，尤其是在将方程约简为系数与模数互素的形式之后。本练习 [@problem_id:3086904] 旨在让你专注于并掌握这一关键计算技巧。通过逐步应用扩展欧几里得算法，你将熟练掌握这个强大的工具，它不仅是解同余方程的基础，也是密码学等领域中的重要计算引擎。", "problem": "在初等数论中，如果整数 $a$ 与整数 $b$ 的乘积 $ab$ 与 $1$ 模 $m$ 同余，则称 $b$ 是 $a$ 模 $m$ 的模逆元。请仅使用模 $m$ 同余、最大公约数 (gcd) 的定义以及欧几里得算法的性质，通过应用扩展欧几里得算法 (EEA) 来确定 $37$ 模 $101$ 的模逆元。请从基本原理出发证明该逆元的存在性，然后通过将 $37$ 与您得到的候选逆元相乘，并将乘积对 $101$ 取模化简为 $1$ 来验证您的结果。请将您的最终答案表示为集合 $\\{0,1,\\dots,100\\}$ 中的最小非负余数。", "solution": "该问题要求找到整数 $a=37$ 模 $m=101$ 的模逆元。设该逆元为 $b$。根据定义，如果同余式 $ab \\equiv 1 \\pmod{m}$ 成立，则 $b$ 是 $a$ 模 $m$ 的模逆元。\n\n首先，我们必须证明该逆元的存在性。根据数论的基本原理，整数 $a$ 模 $m$ 的模逆元存在的充分必要条件是 $a$ 和 $m$ 互质，即它们的最大公约数为 $1$，记为 $\\gcd(a,m)=1$。在本例中，这意味着我们必须验证 $\\gcd(37, 101) = 1$。整数 $101$ 是一个质数。整数 $37$ 也是一个质数。由于 $37$ 不等于 $101$，它不能整除 $101$。因此，$37$ 和 $101$ 的最大公约数确实是 $1$。\n\n存在性的证明依赖于贝祖等式，该等式指出，对于任意两个整数 $a$ 和 $m$，存在整数 $x$ 和 $y$ 使得 $ax + my = \\gcd(a,m)$。由于我们已经确定 $\\gcd(37, 101) = 1$，因此必然存在整数 $x$ 和 $y$ 满足方程 $37x + 101y = 1$。如果我们考虑此方程模 $101$，则项 $101y$ 同余于 $0$，因为 $101y$ 是 $101$ 的倍数。因此，方程简化为 $37x \\equiv 1 \\pmod{101}$。根据模逆元的定义，整数 $x$ 就是 $37$ 模 $101$ 的模逆元。扩展欧几里得算法 (EEA) 为找到这些整数 $x$ 和 $y$ 提供了一种构造性方法。\n\n我们现在对 $37$ 和 $101$ 应用扩展欧几里得算法。EEA 的第一部分是标准的欧几里得算法，用于求最大公约数。我们以初始值 $101$ 和 $37$ 开始。\n$$101 = 2 \\times 37 + 27$$\n$$37 = 1 \\times 27 + 10$$\n$$27 = 2 \\times 10 + 7$$\n$$10 = 1 \\times 7 + 3$$\n$$7 = 2 \\times 3 + 1$$\n$$3 = 3 \\times 1 + 0$$\n最后一个非零余数是 $1$，这证实了 $\\gcd(101, 37) = 1$。\n\n接下来，我们从倒数第二个方程开始逆向回代，将最大公约数 $1$ 表示为 $37$ 和 $101$ 的线性组合。\n由方程 $7 = 2 \\times 3 + 1$，可得：\n$$1 = 7 - (2 \\times 3)$$\n由方程 $10 = 1 \\times 7 + 3$ 可得 $3 = 10 - (1 \\times 7)$。将其代入上述关于 $1$ 的表达式中：\n$$1 = 7 - 2 \\times (10 - 1 \\times 7) = 7 - (2 \\times 10) + (2 \\times 7) = (3 \\times 7) - (2 \\times 10)$$\n由方程 $27 = 2 \\times 10 + 7$ 可得 $7 = 27 - (2 \\times 10)$。代入上式：\n$$1 = 3 \\times (27 - 2 \\times 10) - (2 \\times 10) = (3 \\times 27) - (6 \\times 10) - (2 \\times 10) = (3 \\times 27) - (8 \\times 10)$$\n由方程 $37 = 1 \\times 27 + 10$ 可得 $10 = 37 - (1 \\times 27)$。代入上式：\n$$1 = 3 \\times 27 - 8 \\times (37 - 1 \\times 27) = (3 \\times 27) - (8 \\times 37) + (8 \\times 27) = (11 \\times 27) - (8 \\times 37)$$\n最后，由方程 $101 = 2 \\times 37 + 27$ 可得 $27 = 101 - (2 \\times 37)$。代入上式：\n$$1 = 11 \\times (101 - 2 \\times 37) - (8 \\times 37)$$\n$$1 = (11 \\times 101) - (22 \\times 37) - (8 \\times 37)$$\n$$1 = (11 \\times 101) - (30 \\times 37)$$\n这就得到了贝祖等式的形式 $ax + my = \\gcd(a,m)$，具体为：\n$$(-30) \\times 37 + 11 \\times 101 = 1$$\n将此方程对 $101$ 取模：\n$$(-30) \\times 37 + 11 \\times 101 \\equiv 1 \\pmod{101}$$\n$$(-30) \\times 37 + 0 \\equiv 1 \\pmod{101}$$\n$$(-30) \\times 37 \\equiv 1 \\pmod{101}$$\n这表明 $-30$ 是 $37$ 模 $101$ 的一个模逆元。\n\n问题要求在集合 $\\{0, 1, \\dots, 100\\}$ 中找到最小的非负余数。值 $-30$ 不在该集合中。我们通过加上模数 $101$ 来找到等价的正余数：\n$$-30 \\pmod{101} \\equiv -30 + 101 \\pmod{101} \\equiv 71 \\pmod{101}$$\n因此，$37$ 模 $101$ 的模逆元是 $71$。\n\n最后，我们必须验证这个结果。我们需要检查是否 $37 \\times 71 \\equiv 1 \\pmod{101}$。\n我们计算乘积：\n$$37 \\times 71 = 2627$$\n现在，我们将 $2627$ 除以 $101$ 进行整数除法以求得余数。我们寻找整数 $q$ 和 $r$ 使得 $2627 = q \\times 101 + r$，其中 $0 \\le r  101$。将 $2627$ 除以 $101$ 得到商 $q=26$：\n$$26 \\times 101 = 2626$$\n所以，我们可以写成：\n$$2627 = 26 \\times 101 + 1$$\n余数是 $r=1$。这证实了 $37 \\times 71 \\equiv 1 \\pmod{101}$。结果是正确的。\n\n以最小非负余数表示的 $37$ 模 $101$ 的模逆元是 $71$。", "answer": "$$\\boxed{71}$$", "id": "3086904"}]}