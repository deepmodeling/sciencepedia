{"hands_on_practices": [{"introduction": "我们从模算术中的一个实际挑战——减法——开始。当 $a \\lt b$ 时，直接计算 $a-b$ 会得到一个负数，这在求模时需要额外处理。本练习 [@problem_id:3087232] 将指导你推导并应用一个巧妙而可靠的方法，通过该方法，你可以在计算 $(a-b) \\pmod{n}$ 的过程中完全避免负数，为更复杂的运算建立稳固的计算技巧。", "problem": "设 $n$ 为一个固定的正整数，设 $a,b$ 为满足 $0 \\le a,b  n$ 的整数。当 $a  b$ 时，计算 $(a-b) \\pmod n$ 会产生一个负的中间值。推导并证明一个等价公式 $(a + (n-b)) \\pmod n$，该公式可以避免负数。使用此方法计算 $(26-62) \\pmod{78}$ 的规范代表元。", "solution": "问题要求推导并应用一个公式来计算 $(a-b) \\pmod n$ 且避免负数，特别是当 $a  b$ 时。具体任务是计算 $(26-62) \\pmod{78}$。\n\n**1. 公式推导与证明**\n我们要证明 $(a-b) \\pmod n = (a + (n-b)) \\pmod n$。\n根据同余的定义，两个数模 $n$ 同余意味着它们的差是 $n$ 的整数倍。我们来计算表达式 $(a+(n-b))$ 与 $(a-b)$ 的差：\n$$ (a + (n-b)) - (a-b) = a + n - b - a + b = n $$\n由于两个表达式的差是 $n$，它们必然模 $n$ 同余。因此，$(a-b) \\equiv a + (n-b) \\pmod n$。\n在题目设定的 $0 \\le a,b  n$ 和 $a  b$ 的条件下，$a-b$ 是负数。而 $a+(n-b)$ 表达式中，$n-b$ 是正数，所以整个计算过程都在非负整数范围内进行，从而避免了处理负数。\n\n**2. 应用公式计算**\n我们应用公式 $(a + (n-b)) \\pmod n$ 来计算 $(26-62) \\pmod{78}$。\n-   令 $a = 26$\n-   令 $b = 62$\n-   令 $n = 78$\n\n首先，计算 $n-b$：\n$$ n-b = 78 - 62 = 16 $$\n然后，计算 $a + (n-b)$：\n$$ a + (n-b) = 26 + 16 = 42 $$\n最后，对结果取模 $78$：\n$$ 42 \\pmod{78} $$\n因为 $0 \\le 42  78$，所以 $42$ 本身就是规范代表元。\n\n**验证**\n直接计算：$(26 - 62) \\pmod{78} = -36 \\pmod{78}$。\n为了得到规范代表元（一个在 $[0, n-1]$ 范围内的数），我们加上模数 $n$：\n$$ -36 + 78 = 42 $$\n两种方法得到的结果一致，证明了方法的正确性。", "answer": "$$\n\\boxed{42}\n$$", "id": "3087232"}, {"introduction": "模乘法并不总是像我们熟悉的整数或实数乘法那样“行为良好”。一个关键的区别在于，在模算术中，由 $ax \\equiv ay \\pmod{n}$ 不一定能推出 $x \\equiv y \\pmod{n}$，即消去律可能失效。本练习 [@problem_id:3087251] 将让你亲手构造一个这样的反例，从而揭示“零因子”在合数模算术中的重要作用，并加深你对模乘法独特属性的理解。", "problem": "设模数 $n=84$。从模 $n$ 同余的定义（即 $a \\equiv b \\pmod{n}$ 当且仅当 $n$ 整除 $a-b$）出发，结合模 $n$ 的单位（即满足 $\\gcd(u,n)=1$ 的整数 $u$）和模 $n$ 的零因子（即满足 $\\gcd(z,n) \\neq 1$ 的非零整数 $z$）的定义。仅使用这些基础，确定满足 $1 \\le x  y  n$ 和 $1  a  n$ 的最小正整数 $a$、$x$ 和 $y$，使得模乘法同余式 $a x \\equiv a y \\pmod{n}$ 成立，但消去律不成立，即 $x \\not\\equiv y \\pmod{n}$。在所有满足条件的模 $n$ 例子中，选择 $a$ 最小的一个，对于该 $a$ 值，选择 $x$ 最小的一个，然后选择 $y$ 最小的一个。将最终的三元组 $(a,x,y)$ 表示为 $\\begin{pmatrix} a  x  y \\end{pmatrix}$ 形式的单行矩阵。", "solution": "问题要求找到满足一组与模运算相关的特定条件的最小正整数 $a$、$x$ 和 $y$。模为 $n = 84$。条件如下：\n1. $1  a  n$\n2. $1 \\le x  y  n$\n3. $a x \\equiv a y \\pmod{n}$\n4. $x \\not\\equiv y \\pmod{n}$\n\n最终的三元组 $(a,x,y)$ 必须通过首先最小化 $a$，然后对于该 $a$ 值最小化 $x$，最后对于该数对 $(a,x)$ 最小化 $y$ 来选择。\n\n问题的核心在于第三个条件 $a x \\equiv a y \\pmod{n}$，这意味着 $n$ 整除差值 $ax - ay$。这可以写成 $n | a(y-x)$。\n\n第四个条件 $x \\not\\equiv y \\pmod{n}$ 意味着 $n$ 不整除差值 $y-x$。这一点由第二个条件 $1 \\le x  y  n$ 保证，该条件意味着 $0  y-x  n$。由于 $y-x$ 是一个严格小于 $n$ 的正整数，它不可能是 $n$ 的倍数。\n\n我们在寻找一种情况，其中 $n$ 整除乘积 $a(y-x)$，但 $n$ 不整除因子 $(y-x)$。这种情况只有在 $a$ 与 $n$ 有公因子时才会发生。具体来说，模运算中的消去律指出，如果 $ax \\equiv ay \\pmod{n}$ 且 $\\gcd(a, n) = 1$，那么可以“消去”$a$ 得到 $x \\equiv y \\pmod{n}$。本题要求的是消去律不成立的场景，这就要求 $a$ 不是模 $n$ 的单位。根据所给定义，这意味着 $a$ 必须是零因子，即 $\\gcd(a, n) \\neq 1$。由于 $1  a  n$，这等价于 $\\gcd(a, n) > 1$。\n\n我们的第一步是找到 $a$ 的最小可能值。约束条件是 $1  a  84$ 且 $\\gcd(a, 84) > 1$。为了找到最小的 $a$，我们可以从 $2$ 开始测试整数。\n$n=84$ 的质因数分解是 $84 = 2^2 \\times 3 \\times 7$。\n大于 $1$ 且与 $84$ 有公因子的最小整数是 $84$ 的最小质因子，即 $2$。因此，$a$ 的最小可能值是 $2$。\n所以，我们固定 $a=2$。\n\n现在我们将 $a=2$ 代入同余式 $ax \\equiv ay \\pmod{n}$。得到：\n$2x \\equiv 2y \\pmod{84}$\n根据同余的定义，这意味着 $84 | 2(y-x)$。\n将除数和被除数同除以它们的公因子 $2$，我们得到一个等价的表述：\n$\\frac{84}{2} | \\frac{2(y-x)}{2}$\n$42 | (y-x)$\n\n这意味着差值 $y-x$ 必须是 $42$ 的倍数。设 $y-x = 42k$，其中 $k$ 为某个正整数。\n从约束条件 $1 \\le x  y  84$ 中，我们可以推断出 $y-x$ 的可能范围。$y \\le 83$ 且 $x \\ge 1$，所以 $y-x \\le 82$。所以，$1 \\le y-x \\le 82$。\n在此范围内的 $42$ 的倍数只有 $42 \\times 1 = 42$。因此，唯一的可能性是 $y-x = 42$。\n\n我们已经确定，对于最小的 $a=2$，必须有 $y-x=42$，即 $y = x+42$。\n我们的下一步是找到 $x$ 的最小值。$x$ 的约束条件是 $1 \\le x  n$，即 $1 \\le x  84$。$x$ 的最小可能整数值是 $x=1$。\n\n我们来检查 $x=1$ 是否是一个有效的选择。如果 $x=1$，那么 $y = 1+42 = 43$。我们必须验证这对数 $(x,y)=(1,43)$ 是否满足条件 $1 \\le x  y  n$。\n$1 \\le 1  43  84$。这是成立的。\n所以，对于最小的 $a=2$，最小的 $x$ 是 $1$。\n\n最后，我们需要为数对 $(a,x)=(2,1)$ 找到 $y$ 的最小值。我们已经推导出，对于 $a=2$，条件 $y-x=42$ 必须成立。当 $x=1$ 时，这就唯一确定了 $y=43$。任何其他对 $y$ 的选择都会违反 $y=x+42$ 或 $1 \\le x  y  n$ 的约束。因此，对于所选的 $a$ 和 $x$，$y=43$ 是最小且唯一可能的值。\n\n最终得到的三元组是 $(a,x,y) = (2,1,43)$。让我们最后再验证一次所有条件：\n- $n=84$。\n- $a=2$: $1  2  84$。（条件1成立）\n- $x=1, y=43$: $1 \\le 1  43  84$。（条件2成立）\n- $ax \\equiv ay \\pmod{n}$: $2 \\times 1 \\equiv 2 \\times 43 \\pmod{84} \\implies 2 \\equiv 86 \\pmod{84}$。这是成立的，因为 $86-2=84$，可以被 $84$ 整除。（条件3成立）\n- $x \\not\\equiv y \\pmod{n}$: $1 \\not\\equiv 43 \\pmod{84}$。这是成立的，因为 $43-1=42$，不能被 $84$ 整除。（条件4成立）\n\n三元组 $(2,1,43)$ 是满足字典序最小化标准的唯一解。", "answer": "$$ \\boxed{\\begin{pmatrix} 2  1  43 \\end{pmatrix}} $$", "id": "3087251"}, {"introduction": "在上一节中我们看到“零因子”会导致乘法消去律失效，那么哪些元素在这种运算下表现良好呢？这些拥有乘法逆元的“良好”元素被称为“可逆元”（units）。本练习 [@problem_id:3087246] 将引导你找出一个给定模数下的所有可逆元，并验证它们在模乘法下构成一个优美的代数结构——群。理解这个单位群是深入学习数论和现代密码学的关键一步。", "problem": "在配备了模加法、模减法和模乘法的剩余类环 $\\mathbb{Z}/36\\mathbb{Z}$ 中进行计算。模 $36$ 的单位群，记作 $\\mathbb{Z}/36\\mathbb{Z}^{\\times}$，由满足在模乘法下存在 $[b]$ 使得 $[a]\\cdot[b]=[1]$ 的所有剩余类 $[a]$ 组成。从模 $n$ 同余、最大公约数 (GCD) 和群公理的定义出发，完成以下任务：\n\n1. 通过列出所有在模 $36$ 下可逆的剩余类 $[a]$（其中 $1 \\le a \\le 35$），明确地确定集合 $\\mathbb{Z}/36\\mathbb{Z}^{\\times}$。\n2. 仅使用整数算术和同余的性质，检验并证明 $\\mathbb{Z}/36\\mathbb{Z}^{\\times}$ 在模乘法下满足群公理：\n   (a) 封闭性，\n   (b) 结合性，\n   (c) 单位元，\n   (d) 逆元。您的证明必须是明确的，并且除了基本定义和诸如贝祖等式（Bézout’s identity）及整除性性质等经过充分检验的定理外，不得依赖任何其他事实。\n3. 计算 $\\mathbb{Z}/36\\mathbb{Z}^{\\times}$ 中所有元素的乘积，并将其模 $36$ 简化。将您的最终答案表示为集合 $\\{0,1,\\dots,35\\}$ 中的唯一整数代表。\n\n无需四舍五入。将最终答案表示为 $\\{0,1,\\dots,35\\}$ 中的单个整数。", "solution": "该问题要求我们分析剩余类环 $\\mathbb{Z}/36\\mathbb{Z}$ 中由模乘法形成的单位群 $\\mathbb{Z}/36\\mathbb{Z}^{\\times}$。\n\n**第一部分：确定集合 $\\mathbb{Z}/36\\mathbb{Z}^{\\times}$**\n\n一个剩余类 $[a]$ 是单位群 $\\mathbb{Z}/36\\mathbb{Z}^{\\times}$ 中的元素，当且仅当它在模 $36$ 下有乘法逆元。这等价于 $a$ 和 $36$ 的最大公约数为 $1$，即 $\\text{gcd}(a, 36) = 1$。\n\n$36$ 的素因数分解是 $36 = 2^2 \\cdot 3^2$。因此，一个整数 $a$ 与 $36$ 互素，当且仅当它不能被 $2$ 整除且不能被 $3$ 整除。我们需要列出所有在范围 $1 \\le a  36$ 内的这样的整数 $a$。\n\n我们来枚举从 $1$ 到 $35$ 的整数，并排除那些能被 $2$ 或 $3$ 整除的数：\n- 剩下的整数是：$1, 5, 7, 11, 13, 17, 19, 23, 25, 29, 31, 35$。\n\n这些元素的数量由欧拉总计函数 $\\phi(n)$ 给出。\n$$ \\phi(36) = \\phi(2^2 \\cdot 3^2) = \\phi(4)\\phi(9) = (4 - 2)(9 - 3) = 2 \\cdot 6 = 12 $$\n我们的列表有 $12$ 个元素，与预期数量相符。\n\n因此，构成单位群的剩余类集合是：\n$$ \\mathbb{Z}/36\\mathbb{Z}^{\\times} = \\{[1], [5], [7], [11], [13], [17], [19], [23], [25], [29], [31], [35]\\} $$\n\n**第二部分：群公理的证明**\n\n设 $U = \\mathbb{Z}/36\\mathbb{Z}^{\\times}$。运算是模乘法。我们来验证四个群公理。\n\n(a) **封闭性**：\n设 $[a] \\in U$ 和 $[b] \\in U$。根据定义，这意味着 $\\text{gcd}(a, 36) = 1$ 且 $\\text{gcd}(b, 36) = 1$。我们需要证明它们的乘积 $[a][b] = [ab]$ 也在 $U$ 中。这等价于证明 $\\text{gcd}(ab, 36) = 1$。\n条件 $\\text{gcd}(a, 36) = 1$ 意味着 $a$ 与 $36$ 没有共同的素因数（即 $2$ 和 $3$）。因此，$2 \\nmid a$ 且 $3 \\nmid a$。类似地，$2 \\nmid b$ 且 $3 \\nmid b$。由于素数的基本性质，如果 $2$ 和 $3$ 都不整除 $a$ 和 $b$，它们也不能整除乘积 $ab$。因此，$\\text{gcd}(ab, 36) = 1$。这表明 $[ab] \\in U$，所以集合 $U$ 在模乘法下是封闭的。\n\n(b) **结合性**：\n设 $[a], [b], [c] \\in U$。我们需要证明 $([a][b])[c] = [a]([b][c])$。\n根据模乘法的定义：$([a][b])[c] = [ab][c] = [(ab)c]$ 以及 $[a]([b][c]) = [a][bc] = [a(bc)]$。\n由于整数的乘法满足结合律，所以 $(ab)c = a(bc)$。因此，$[(ab)c] = [a(bc)]$，这证明了结合性。这个性质继承自整数环 $\\mathbb{Z}$。\n\n(c) **单位元**：\n我们需要找到一个元素 $[e] \\in U$，使得对于任何 $[a] \\in U$，都有 $[a][e] = [e][a] = [a]$。\n考虑剩余类 $[1]$。首先，$[1]$ 在 $U$ 中，因为 $\\text{gcd}(1, 36) = 1$。对于任何 $[a] \\in U$，我们有 $[a][1] = [a \\cdot 1] = [a]$ 和 $[1][a] = [1 \\cdot a] = [a]$。因此，$[1]$ 是 $U$ 的单位元。\n\n(d) **逆元**：\n对于每个元素 $[a] \\in U$，我们必须证明存在一个元素 $[b] \\in U$，使得 $[a][b] = [b][a] = [1]$。\n设 $[a] \\in U$，则 $\\text{gcd}(a, 36) = 1$。根据贝祖等式，存在整数 $x$ 和 $y$ 使得 $ax + 36y = 1$。\n考虑此方程模 $36$，项 $36y$ 同余于 $0$，所以 $ax \\equiv 1 \\pmod{36}$。\n这意味着剩余类 $[x]$ 是 $[a]$ 的乘法逆元。令 $[b] = [x]$。我们还必须证明这个逆元 $[b]$ 也在 $U$ 中。从 $ax \\equiv 1 \\pmod{36}$ 可知，存在整数 $k$ 使得 $ax - 1 = 36k$，即 $ax - 36k = 1$。$x$ 和 $36$ 的任何公约数都必须能整除它们的线性组合 $ax - 36k$，即必须能整除 $1$。唯一能整除 $1$ 的正整数是 $1$ 本身。因此，$\\text{gcd}(x, 36) = 1$，这证实了 $[x]=[b] \\in U$。\n\n**第三部分：计算所有元素的乘积**\n\n我们想计算乘积 $P = \\prod_{[a] \\in \\mathbb{Z}/36\\mathbb{Z}^{\\times}} [a]$ 模 $36$。\n策略是将每个元素与其乘法逆元配对。这样一对的乘积是 $[1]$。总乘积 $P$ 将是那些自逆元（即自身的逆元）的乘积。\n一个元素 $[x]$ 是自身的逆元，如果 $[x]^2 = [x^2] = [1]$，这意味着 $x^2 \\equiv 1 \\pmod{36}$。\n这个同余式等价于同余方程组：\n$$ \\begin{cases} x^2 \\equiv 1 \\pmod{4} \\\\ x^2 \\equiv 1 \\pmod{9} \\end{cases} $$\n所有 $U$ 中的元素 $x$ 都满足 $\\text{gcd}(x, 36) = 1$，这意味着 $x$ 必须是奇数。任何奇数的平方模 $4$ 都余 $1$，所以第一个同余式对所有元素都成立。\n我们剩下要解的是在 $x \\in \\{1, 5, 7, 11, 13, 17, 19, 23, 25, 29, 31, 35\\}$ 中满足 $x^2 \\equiv 1 \\pmod 9$ 的 $x$。\n同余式 $x^2 \\equiv 1 \\pmod 9$ 的解是 $x \\equiv 1 \\pmod 9$ 和 $x \\equiv 8 \\pmod 9$。\n我们来找出集合中哪些元素满足这些条件：\n-   满足 $x \\equiv 1 \\pmod 9$ 的元素：$1, 19$。\n-   满足 $x \\equiv 8 \\pmod 9$ 的元素：$17, 35$。\n所以，是自身逆元的元素是 $\\{[1], [17], [19], [35]\\}$。\n其余的 $12-4=8$ 个元素与它们各自不同的逆元配对，每对的乘积为 $[1]$。\n因此，总乘积 $P$ 是自逆元元素的乘积：\n$$ P \\equiv 1 \\cdot 17 \\cdot 19 \\cdot 35 \\pmod{36} $$\n我们计算这个乘积模 $36$ 的值：\n-   注意 $35 \\equiv -1 \\pmod{36}$。\n-   我们来计算 $17 \\cdot 19 = (18-1)(18+1) = 18^2 - 1$。由于 $36 = 2 \\cdot 18$，所以 $18^2 = 18 \\cdot (36/2) = 9 \\cdot 36 \\equiv 0 \\pmod{36}$。\n-   所以，$17 \\cdot 19 \\equiv 0 - 1 \\equiv -1 \\pmod{36}$。\n-   将这些代回 $P$ 的乘积中：\n$$ P \\equiv 1 \\cdot (-1) \\cdot (-1) \\pmod{36} $$\n$$ P \\equiv 1 \\pmod{36} $$\n$\\mathbb{Z}/36\\mathbb{Z}^{\\times}$ 中所有元素的乘积是 $[1]$。在集合 $\\{0, 1, \\dots, 35\\}$ 中的唯一整数代表是 $1$。", "answer": "$$\n\\boxed{1}\n$$", "id": "3087246"}]}