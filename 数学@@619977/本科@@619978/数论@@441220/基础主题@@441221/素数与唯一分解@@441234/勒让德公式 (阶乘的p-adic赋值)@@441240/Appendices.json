{"hands_on_practices": [{"introduction": "计算一个像 $100!$ 这样巨大数字的素因数分解似乎是一项艰巨的任务。然而，通过系统地计算，我们可以得出一个简洁而强大的公式。这个练习将引导你从第一性原理出发，推导出勒让德公式，并用它来解决一个具体问题，从而为理解阶乘的数论性质奠定基础。[@problem_id:3086742]", "problem": "设 $p$ 是一个素数，并令 $v_{p}(n!)$ 表示 $n!$ 的素数分解中 $p$ 的指数，也就是说，存在唯一的整数 $e \\geq 0$，使得 $p^{e}$ 整除 $n!$ 而 $p^{e+1}$ 不整除 $n!$。请仅从算术基本定理（整数的唯一分解）以及 $v_{p}(n!)$ 定义为 $\\sum_{m=1}^{n} v_{p}(m)$ 出发，通过仔细计算整数 $1,2,\\dots,n$ 贡献了多少个因子 $p$，首先推导出一个用包含最大整数（向下取整）函数 $\\lfloor \\cdot \\rfloor$ 的有限和表示的 $v_{p}(n!)$ 的显式表达式。然后使用你推导出的表达式来显式计算 $v_{2}(100!)$ 和 $v_{5}(100!)$。\n\n请将你的最终结果以行矩阵 $\\begin{pmatrix} v_{2}(100!)  v_{5}(100!) \\end{pmatrix}$ 的形式报告。无需四舍五入。", "solution": "本题要求推导 $n!$ 的 $p$-adic 赋值（记为 $v_{p}(n!)$）的显式公式，及其后续应用。推导必须从算术基本定理以及 $v_{p}(n!)$ 是从 1 到 $n$ 的整数的 $p$-adic 赋值之和这一定义出发。\n\n设 $p$ 为素数，$n$ 为正整数。项 $n!$ 是所有小于等于 $n$ 的正整数的乘积：\n$$n! = 1 \\cdot 2 \\cdot 3 \\cdots n = \\prod_{m=1}^{n} m$$\n算术基本定理指出，任何大于1的整数都可以唯一地表示为素数的乘积。整数 $k$ 的 $p$-adic 赋值，记为 $v_{p}(k)$，是 $k$ 的素数分解中素数 $p$ 的指数。根据指数的性质，乘积的赋值是其因子的赋值之和。因此，$n!$ 的素数分解中 $p$ 的指数由下式给出：\n$$v_{p}(n!) = v_{p}\\left(\\prod_{m=1}^{n} m\\right) = \\sum_{m=1}^{n} v_{p}(m)$$\n这确认了问题陈述中提供的出发点。如果 $p$ 不整除 $m$，则项 $v_{p}(m)$ 为零。\n\n为了找到一个显式表达式，我们将通过考虑集合 $\\{1, 2, \\dots, n\\}$ 中的哪些整数 $m$ 贡献了因子 $p$ 来重新计算这个和。\n集合 $\\{1, 2, \\dots, n\\}$ 中 $p$ 的每个倍数都贡献一个因子 $p$。$p$ 的倍数是 $p, 2p, 3p, \\dots, kp$ 且 $kp \\le n$。此类倍数的数量由满足 $k \\le \\frac{n}{p}$ 的最大整数 $k$ 给出，这正是 $\\lfloor \\frac{n}{p} \\rfloor$。这说明了这些数中的每一个都至少贡献了一个因子 $p$。\n\n然而，有些数贡献了不止一个因子 $p$。具体来说，$p^2$ 的倍数至少贡献了两个因子 $p$。集合 $\\{1, 2, \\dots, n\\}$ 中 $p^2$ 的倍数是 $p^2, 2p^2, \\dots, lp^2$ 且 $lp^2 \\le n$。此类倍数的数量是 $\\lfloor \\frac{n}{p^2} \\rfloor$。在上一步中，我们已经为这些数中的每一个计入了一个因子 $p$（因为 $p^2$ 的每个倍数也是 $p$ 的倍数）。因此，我们必须为 $p^2$ 的每个倍数再多计一个因子 $p$。\n\n这个推理可以扩展到 $p$ 的更高次幂。对于任何整数 $k \\ge 1$，集合 $\\{1, 2, \\dots, n\\}$ 中 $p^k$ 的倍数形式为 $j p^k \\le n$。此类倍数的数量是 $\\lfloor \\frac{n}{p^k} \\rfloor$。这些数中的每一个都为 $n!$ 贡献了至少 $k$ 个因子 $p$。我们的计数方法在每个层级上对因子数量求和：\n- 计数 $\\lfloor \\frac{n}{p} \\rfloor$ 包含每个能被 $p$, $p^2$, $p^3$ 等整除的数，且只计一次。\n- 计数 $\\lfloor \\frac{n}{p^2} \\rfloor$ 包含每个能被 $p^2$, $p^3$ 等整除的数，且只计一次。\n- 计数 $\\lfloor \\frac{n}{p^k} \\rfloor$ 包含每个能被 $p^k$, $p^{k+1}$ 等整除的数，且只计一次。\n\n一个整数 $m$，其 $v_p(m) = E$，能被 $p, p^2, \\dots, p^E$ 整除，但不能被 $p^{E+1}$ 整除。因此，这个整数 $m$ 在 $\\lfloor\\frac{n}{p}\\rfloor, \\lfloor\\frac{n}{p^2}\\rfloor, \\dots, \\lfloor\\frac{n}{p^E}\\rfloor$ 的每一个求和中都恰好被计数一次。在我们的方案中，整数 $m$ 被计数的总次数是 $E$，这恰好是它的 $p$-adic 赋值 $v_p(m)$。\n将从 1 到 $n$ 的所有整数 $m$ 的这些贡献相加，就得到了总指数 $v_p(n!)$。\n因此，$n!$ 中因子 $p$ 的总数是 $p$ 的所有次幂的这些计数的和：\n$$v_{p}(n!) = \\left\\lfloor \\frac{n}{p} \\right\\rfloor + \\left\\lfloor \\frac{n}{p^2} \\right\\rfloor + \\left\\lfloor \\frac{n}{p^3} \\right\\rfloor + \\dots = \\sum_{k=1}^{\\infty} \\left\\lfloor \\frac{n}{p^k} \\right\\rfloor$$\n这就是著名的 Legendre 公式。这个和是有限的，因为当 $p^k > n$ 时，项 $\\lfloor \\frac{n}{p^k} \\rfloor$ 变为 0。\n\n现在，我们使用这个公式来计算所需的值。\n\n首先，我们计算 $v_{2}(100!)$。这里，$p=2$ 且 $n=100$。\n$$v_{2}(100!) = \\sum_{k=1}^{\\infty} \\left\\lfloor \\frac{100}{2^k} \\right\\rfloor$$\n和的各项是：\n当 $k=1$ 时： $\\lfloor \\frac{100}{2} \\rfloor = \\lfloor 50 \\rfloor = 50$\n当 $k=2$ 时： $\\lfloor \\frac{100}{4} \\rfloor = \\lfloor 25 \\rfloor = 25$\n当 $k=3$ 时： $\\lfloor \\frac{100}{8} \\rfloor = \\lfloor 12.5 \\rfloor = 12$\n当 $k=4$ 时： $\\lfloor \\frac{100}{16} \\rfloor = \\lfloor 6.25 \\rfloor = 6$\n当 $k=5$ 时： $\\lfloor \\frac{100}{32} \\rfloor = \\lfloor 3.125 \\rfloor = 3$\n当 $k=6$ 时： $\\lfloor \\frac{100}{64} \\rfloor = \\lfloor 1.5625 \\rfloor = 1$\n当 $k=7$ 时： $\\lfloor \\frac{100}{128} \\rfloor = \\lfloor 0.78125 \\rfloor = 0$。所有后续项也为0。\n所以，和为：\n$$v_{2}(100!) = 50 + 25 + 12 + 6 + 3 + 1 = 97$$\n\n其次，我们计算 $v_{5}(100!)$。这里，$p=5$ 且 $n=100$。\n$$v_{5}(100!) = \\sum_{k=1}^{\\infty} \\left\\lfloor \\frac{100}{5^k} \\right\\rfloor$$\n和的各项是：\n当 $k=1$ 时： $\\lfloor \\frac{100}{5} \\rfloor = \\lfloor 20 \\rfloor = 20$\n当 $k=2$ 时： $\\lfloor \\frac{100}{25} \\rfloor = \\lfloor 4 \\rfloor = 4$\n当 $k=3$ 时： $\\lfloor \\frac{100}{125} \\rfloor = \\lfloor 0.8 \\rfloor = 0$。所有后续项也为0。\n所以，和为：\n$$v_{5}(100!) = 20 + 4 = 24$$\n\n计算出的值为 $v_{2}(100!) = 97$ 和 $v_{5}(100!) = 24$。题目要求以行矩阵的形式给出结果。", "answer": "$$\n\\boxed{\\begin{pmatrix} 97  24 \\end{pmatrix}}\n$$", "id": "3086742"}, {"introduction": "一个深刻的数学思想往往有多种表达形式，勒让德公式也不例外。除了使用取整函数的求和形式，它还有一个与数字的 $p$ 进制表示紧密相关的优美形式。这个练习将让你通过计算同一个值 $v_3(100!)$ 来验证这两种形式的等价性，从而加深你对阶乘 $p$ 进赋值与数基之间深刻联系的理解。[@problem_id:3086771]", "problem": "设 $p$ 为素数，令 $v_{p}(n!)$ 表示 $n!$ 的素因数分解中 $p$ 的指数，即满足 $p^{a}$ 整除 $n!$ 的最大整数 $a$。考虑 $p=3$ 和 $n=100$ 的情况。仅使用 $v_{p}(n!)$ 的定义以及基本事实——每个 $p$ 的倍数提供一个因子 $p$，更一般地，$p$ 的更高次幂 $p^{k}$ 会贡献额外的因子，完成以下任务：\n- 首先，通过计算从 $1$ 到 $100$ 的整数中能被 $3$、$3^2$、$3^3$ 等整除的数的个数，并将这些计数求和为 $\\,\\sum_{k \\ge 1} \\left\\lfloor \\frac{100}{3^{k}} \\right\\rfloor$ 来计算 $v_{3}(100!)$。\n- 其次，将 $100$ 写成 $3$ 进制，将 $3$ 进制各位数字之和 $s_{3}(100)$ 定义为该 $3$ 进制展开式中各位数字的和，并根据 $100$ 在 $3$ 进制下的位值分解与 $100!$ 中因子 $3$ 的总数之间的关系，计算表达式 $\\frac{100 - s_{3}(100)}{2}$。\n验证两种计算方法的结果是否一致。将最终答案表示为一个精确的整数，不要四舍五入。", "solution": "问题陈述经评估有效。这是一个基于既定原理的初等数论中的良构问题，并包含得出唯一解所需的所有必要信息。\n\n目标是计算素数 $p=3$ 在 $n=100!$ 的素因数分解中的指数，该量记为 $v_{3}(100!)$。此计算将使用问题陈述中指定的两种不同但相关的方法进行。最后，我们将验证两种方法是否得出相同的整数结果。\n\n第一种方法是直接应用 Legendre 公式，该公式给出素数 $p$ 在 $n!$ 分解式中的指数，其值为 $n$ 除以 $p$ 的连续次幂的商的整数部分之和。该公式为：\n$$v_{p}(n!) = \\sum_{k=1}^{\\infty} \\left\\lfloor \\frac{n}{p^k} \\right\\rfloor$$\n对于给定的情况 $n=100$ 和 $p=3$，公式变为：\n$$v_{3}(100!) = \\sum_{k=1}^{\\infty} \\left\\lfloor \\frac{100}{3^k} \\right\\rfloor$$\n当 $3^k  100$ 时，各项变为零，因此求和是有限的。我们需要计算 $k=1, 2, 3, 4$ 时的项。下一个幂次 $3^5=243$ 超过了 $100$。\n各项计算如下：\n- 当 $k=1$ 时：贡献来自于 $3^1=3$ 的倍数。在 $1$ 到 $100$ 的范围内，这样的倍数有 $\\left\\lfloor \\frac{100}{3} \\right\\rfloor = 33$ 个。\n- 当 $k=2$ 时：贡献来自于 $3^2=9$ 的倍数。这样的倍数有 $\\left\\lfloor \\frac{100}{9} \\right\\rfloor = 11$ 个。这些数在因能被 $3$ 整除而被计数过一次的基础上，又额外贡献了一个因子 $3$。\n- 当 $k=3$ 时：贡献来自于 $3^3=27$ 的倍数。这样的倍数有 $\\left\\lfloor \\frac{100}{27} \\right\\rfloor = 3$ 个。\n- 当 $k=4$ 时：贡献来自于 $3^4=81$ 的倍数。这样的倍数有 $\\left\\lfloor \\frac{100}{81} \\right\\rfloor = 1$ 个。\n总指数 $v_{3}(100!)$ 是这些计数的和：\n$$v_{3}(100!) = 33 + 11 + 3 + 1 = 48$$\n\n第二种方法使用了 Legendre 定理的另一种形式，它将 $v_{p}(n!)$ 与 $n$ 在 $p$ 进制下各位数字之和（记为 $s_{p}(n)$）联系起来。该公式为：\n$$v_{p}(n!) = \\frac{n - s_{p}(n)}{p-1}$$\n对于 $n=100$ 和 $p=3$，我们需要计算表达式 $\\frac{100 - s_{3}(100)}{3-1} = \\frac{100 - s_{3}(100)}{2}$。\n首先，我们必须将 $n=100$ 表示为 $3$ 进制。这可以通过连续除以 $3$ 并记录余数来完成：\n$100 \\div 3 = 33$ 余 $1$\n$33 \\div 3 = 11$ 余 $0$\n$11 \\div 3 = 3$ 余 $2$\n$3 \\div 3 = 1$ 余 $0$\n$1 \\div 3 = 0$ 余 $1$\n按计算顺序倒序读取余数，得到 $3$ 进制表示：$100_{10} = 10201_{3}$。\n我们可以验证这一点：$1 \\cdot 3^4 + 0 \\cdot 3^3 + 2 \\cdot 3^2 + 0 \\cdot 3^1 + 1 \\cdot 3^0 = 1 \\cdot 81 + 0 + 2 \\cdot 9 + 0 + 1 = 81 + 18 + 1 = 100$。\n接下来，我们计算 $s_{3}(100)$，即 $100$ 在 $3$ 进制下各位数字之和：\n$$s_{3}(100) = 1 + 0 + 2 + 0 + 1 = 4$$\n现在，我们将此值代入给定表达式：\n$$\\frac{100 - s_{3}(100)}{2} = \\frac{100 - 4}{2} = \\frac{96}{2} = 48$$\n\n两种计算方法都得到结果 $48$。第一种方法，通过计算 $3$ 的幂的倍数，得出 $v_{3}(100!) = 48$。第二种方法，使用 $100$ 的 $3$ 进制展开式，也计算出结果为 $48$。正如 Legendre 公式的两种等价形式所预期的那样，这两个结果是一致的。", "answer": "$$\\boxed{48}$$", "id": "3086771"}, {"introduction": "掌握了勒让德公式的两种形式后，我们现在可以应用它们来解决更复杂的问题，例如判断二项式系数 $\\binom{n}{k}$ 的整除性。这个练习将挑战你运用关于 $p$ 进制数字和的知识，推导出一个判断 $p$ 是否整除 $\\binom{n}{k}$ 的简洁准则，即库默尔定理。你会发现，这个看似复杂的问题最终可以归结为 $p$ 进制下的加法是否产生进位，这展示了数论中惊人的简洁之美。[@problem_id:3086784]", "problem": "设 $p$ 是一个固定的素数。对于正整数 $m$，定义 $p$-adic 赋值 $v_p(m)$ 为使得 $p^{e}$ 整除 $m$ 的最大整数 $e$，并令 $s_p(m)$ 表示 $m$ 的 $p$ 进制数字之和。设 $n$ 的 $p$ 进制表示为 $n=\\sum_{i=0}^{t} n_i p^{i}$，其中 $n_t \\neq 0$ 且每个数字 $n_i \\in \\{0,1,\\dots,p-1\\}$。定义\n$$N_p(n) \\text{ 为满足 } 0 \\leq k \\leq n \\text{ 且 } p \\nmid \\binom{n}{k} \\text{ 的整数 } k \\text{ 的数量。}$$\n仅使用 $v_p(\\cdot)$ 的定义、$p$ 进制表示法以及被称为 Legendre 公式（用于阶乘赋值）的著名事实，推导出一个关于 $k$ 和 $n$ 的 $p$ 进制数字的充要条件，使得 $p \\nmid \\binom{n}{k}$，然后得出一个完全用 $p$ 进制数字 $n_0,n_1,\\dots,n_t$ 表示的 $N_p(n)$ 的封闭形式表达式。你的最终答案必须是一个仅依赖于 $n_0,n_1,\\dots,n_t$ 和 $p$ 的单一解析表达式。无需四舍五入。", "solution": "该问题已经过验证，被认为是有效的。这是一个在数论领域中定义明确、有科学依据且客观的问题。\n\n设 $p$ 是一个固定的素数。对于正整数 $m$，$p$-adic 赋值 $v_p(m)$ 是整除 $m$ 的 $p$ 的最高次幂的指数。我们需要求出满足 $0 \\leq k \\leq n$ 且 $p$ 不整除二项式系数 $\\binom{n}{k}$ 的整数 $k$ 的数量。该条件等价于 $v_p\\left(\\binom{n}{k}\\right) = 0$。\n\n二项式系数定义为 $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$，其中 $0 \\leq k \\leq n$。使用 $p$-adic 赋值的基本性质 $v_p(ab) = v_p(a) + v_p(b)$ 和 $v_p(a/b) = v_p(a) - v_p(b)$，我们可以将二项式系数的赋值写为：\n$$v_p\\left(\\binom{n}{k}\\right) = v_p(n!) - v_p(k!) - v_p((n-k)!)$$\n此式对 $0  k  n$ 成立。对于 $k=0$ 或 $k=n$，$\\binom{n}{k}=1$，因此 $v_p\\left(\\binom{n}{k}\\right) = 0$。\n\n问题要求我们必须使用 Legendre 公式，该公式给出了阶乘 $m!$ 的 $p$-adic 赋值：\n$$v_p(m!) = \\sum_{j=1}^{\\infty} \\left\\lfloor \\frac{m}{p^j} \\right\\rfloor$$\n设整数 $m$ 的 $p$ 进制表示为 $m = \\sum_{i=0}^{t} m_i p^i$，其中 $m_i \\in \\{0, 1, \\dots, p-1\\}$。其数字和为 $s_p(m) = \\sum_{i=0}^{t} m_i$。我们可以用 $m$ 和 $s_p(m)$ 来表示 $v_p(m!)$。\n项 $\\lfloor m/p^j \\rfloor$ 可以写作：\n$$\\left\\lfloor \\frac{m}{p^j} \\right\\rfloor = \\left\\lfloor \\sum_{i=0}^{t} m_i p^{i-j} \\right\\rfloor = \\sum_{i=j}^{t} m_i p^{i-j}$$\n将此代入 Legendre 公式：\n$$v_p(m!) = \\sum_{j=1}^{\\infty} \\sum_{i=j}^{t} m_i p^{i-j}$$\n改变求和顺序：\n$$v_p(m!) = \\sum_{i=1}^{t} \\sum_{j=1}^{i} m_i p^{i-j} = \\sum_{i=1}^{t} m_i \\sum_{j=1}^{i} p^{i-j}$$\n内层和是一个几何级数：$\\sum_{l=0}^{i-1} p^l = \\frac{p^i-1}{p-1}$。\n$$v_p(m!) = \\sum_{i=1}^{t} m_i \\left(\\frac{p^i-1}{p-1}\\right) = \\frac{1}{p-1} \\sum_{i=0}^{t} m_i (p^i-1)$$\n注意，我们可以包含 $i=0$ 这一项，因为 $m_0(p^0-1)=0$。\n$$v_p(m!) = \\frac{1}{p-1} \\left( \\sum_{i=0}^{t} m_i p^i - \\sum_{i=0}^{t} m_i \\right) = \\frac{m - s_p(m)}{p-1}$$\n这是一个著名的恒等式，按要求从 Legendre 公式推导而来。\n\n现在，我们将这个恒等式代入 $v_p\\left(\\binom{n}{k}\\right)$ 的表达式中：\n$$v_p\\left(\\binom{n}{k}\\right) = \\frac{n-s_p(n)}{p-1} - \\frac{k-s_p(k)}{p-1} - \\frac{(n-k)-s_p(n-k)}{p-1}$$\n$$v_p\\left(\\binom{n}{k}\\right) = \\frac{(n-k-(n-k)) + s_p(k) + s_p(n-k) - s_p(n)}{p-1}$$\n$$v_p\\left(\\binom{n}{k}\\right) = \\frac{s_p(k) + s_p(n-k) - s_p(n)}{p-1}$$\n这个结果被称为 Kummer 定理。由于 $p-1 > 0$，条件 $v_p\\left(\\binom{n}{k}\\right) = 0$ 等价于分子为零：\n$$s_p(k) + s_p(n-k) = s_p(n)$$\n为了理解这个条件对数字意味着什么，我们考虑在 $p$ 进制下 $k$ 和 $n-k$ 的加法。设 $k = \\sum_{i=0}^{t} k_i p^i$ 且 $n-k = \\sum_{i=0}^{t} m_i p^i$。它们的和是 $n = \\sum_{i=0}^{t} n_i p^i$。设 $c_i$ 是在 $p$ 进制加法中由第 $i-1$ 位产生的进位，其中 $c_0 = 0$。这些数字之间的关系由标准加法算法给出：\n$$k_i + m_i + c_i = n_i + p c_{i+1}$$\n对所有 $i \\ge 0$ 求和：\n$$\\sum_{i=0}^{t} k_i + \\sum_{i=0}^{t} m_i + \\sum_{i=0}^{t} c_i = \\sum_{i=0}^{t} n_i + p \\sum_{i=0}^{t} c_{i+1}$$\n识别出数字和：\n$$s_p(k) + s_p(n-k) + \\sum_{i=1}^{t+1} c_i = s_p(n) + p \\sum_{i=1}^{t+1} c_i$$\n设 $C = \\sum_{i=1}^{t+1} c_i$ 为进位总数。那么：\n$$s_p(k) + s_p(n-k) - s_p(n) = (p-1)C$$\n将此与我们得到的 $v_p\\left(\\binom{n}{k}\\right)$ 的表达式进行比较，我们发现：\n$$v_p\\left(\\binom{n}{k}\\right) = C$$\n这意味着 $\\binom{n}{k}$ 的 $p$-adic 赋值恰好是在 $p$ 进制下计算 $k$ 和 $n-k$ 相加时的进位次数。\n因此，条件 $p \\nmid \\binom{n}{k}$，即 $v_p\\left(\\binom{n}{k}\\right)=0$，等价于 $C=0$。由于进位 $c_i$ 是非负整数，$C=0$ 当且仅当所有进位都为零，即对所有 $i$ 都有 $c_i=0$。\n\n对所有 $i$ 都有 $c_i = 0$ 的条件将按位相加简化为 $k_i+m_i = n_i$。这对应于执行减法 $n-k$ 时没有任何“借位”。由于 $m_i$ 是 $n-k$ 的数字，它们是非负的，$m_i \\ge 0$。因此，关系 $k_i+m_i = n_i$ 意味着对所有 $i$ 都有 $k_i \\le n_i$。\n反之，如果对所有 $i$ 都有 $k_i \\le n_i$，那么我们可以计算 $n-k = \\sum (n_i - k_i)p^i$。$n-k$ 的数字是 $m_i=n_i-k_i$。在这种情况下，$s_p(n-k) = \\sum(n_i-k_i) = s_p(n)-s_p(k)$，所以 $s_p(k)+s_p(n-k)=s_p(n)$，这意味着 $v_p\\left(\\binom{n}{k}\\right)=0$。\n因此，$p \\nmid \\binom{n}{k}$ 的充要条件是，对于每一个 $i$，$k$ 的第 $i$ 个 $p$ 进制数字（记为 $k_i$）必须小于或等于 $n$ 的第 $i$ 个 $p$ 进制数字 $n_i$。\n\n我们现在需要找到 $N_p(n)$，即在 $0 \\le k \\le n$ 范围内满足这个按位条件的整数 $k$ 的数量。设 $n = \\sum_{i=0}^{t} n_i p^i$ 且 $n_t \\neq 0$。一个整数 $k$ 由其 $p$ 进制数字 $k_i$ 唯一确定。我们正在寻找数字序列 $(k_t, k_{t-1}, \\dots, k_0)$ 的数量，使得对于每个 $i \\in \\{0, 1, \\dots, t\\}$ 都有 $0 \\le k_i \\le n_i$。\n对于每个数字位置 $i$，$k_i$ 的可能选择数量为 $n_i - 0 + 1 = n_i+1$。\n每个数字 $k_i$ 的选择与其他数字的选择是独立的。根据基本计数原理（乘法法则），选择数字序列 $(k_t, \\dots, k_0)$ 的总方法数是每个数字选择数量的乘积。\n任何以这种方式形成的整数 $k=\\sum_{i=0}^t k_i p^i$（其中 $0 \\le k_i \\le n_i$）将自动满足 $k \\le n$，因为 $n-k = \\sum_{i=0}^t (n_i-k_i)p^i \\ge 0$。\n因此，这样的整数 $k$ 的总数是：\n$$N_p(n) = (n_0+1)(n_1+1)\\cdots(n_t+1) = \\prod_{i=0}^{t} (n_i+1)$$\n这就是所要求的用 $n$ 的 $p$ 进制数字表示的 $N_p(n)$ 的封闭形式表达式。", "answer": "$$\\boxed{\\prod_{i=0}^{t} (n_i+1)}$$", "id": "3086784"}]}