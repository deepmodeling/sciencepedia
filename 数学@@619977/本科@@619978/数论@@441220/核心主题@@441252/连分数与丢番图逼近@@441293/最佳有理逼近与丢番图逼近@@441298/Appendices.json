{"hands_on_practices": [{"introduction": "理论学习之后，最好的消化方式就是动手实践。本节我们从一个经典例子——$\\sqrt{2}$的连分数展开开始，亲手计算其渐近分数，并验证它们的逼近效果。这个练习旨在帮助你建立对连分数如何生成高质量有理逼近的直观感受，并熟悉相关的计算过程。 [@problem_id:3081980]", "problem": "设 $x=\\sqrt{2}$，并回顾 $x$ 的连分数展开为 $[a_0;a_1,a_2,\\ldots]$，其中 $a_0=1$ 且对于所有 $k\\geq 1$ 有 $a_k=2$。通过标准递推关系定义第 $n$ 个渐近分数 $C_n=p_n/q_n$，$p_{-1}=1$, $p_0=a_0$, $q_{-1}=0$, $q_0=1$，且对于 $n\\geq 1$ 有\n$$\np_n=a_n p_{n-1}+p_{n-2},\\qquad q_n=a_n q_{n-1}+q_{n-2}.\n$$\n(a) 显式计算 $x=\\sqrt{2}$ 的前六个渐近分数 $C_0,C_1,\\ldots,C_5$。\n\n(b) 利用渐近分数的基本性质（包括它们在 $x$ 两侧交替以及它们的行列式恒等式），对这六个渐近分数中的每一个进行数值验证，证明其丢番图逼近误差满足 $|x-p_n/q_n| \\lt 1/q_n^2$。\n\n(c) 定义缩放误差 $r_n=q_n^2\\,|x-p_n/q_n|$。在你求出的前六个渐近分数中，确定 $r_n$ 的最大值，并以精确的封闭形式（而非小数近似值）表示该最大值。", "solution": "用户提供了一个必须首先被验证的问题陈述。\n\n### 第一步：提取已知条件\n- 被逼近的数是 $x = \\sqrt{2}$。\n- 其连分数展开式为 $[a_0; a_1, a_2, \\ldots]$，其中 $a_0 = 1$ 且对于所有 $k \\geq 1$，$a_k = 2$。\n- 渐近分数 $C_n = p_n/q_n$ 由以下递推关系定义：\n  - $p_{-1} = 1$, $p_0 = a_0$\n  - $q_{-1} = 0$, $q_0 = 1$\n  - 对于 $n \\geq 1$，$p_n = a_n p_{n-1} + p_{n-2}$ 且 $q_n = a_n q_{n-1} + q_{n-2}$。\n- (a) 部分要求计算前六个渐近分数 $C_0, \\ldots, C_5$。\n- (b) 部分要求对这六个渐近分数验证丢番图逼近不等式 $|x - p_n/q_n| \\lt 1/q_n^2$。\n- (c) 部分定义了缩放误差 $r_n = q_n^2 |x - p_n/q_n|$，并要求以精确的封闭形式求出当 $n \\in \\{0, 1, \\ldots, 5\\}$ 时 $r_n$ 的最大值。\n\n### 第二步：使用提取的已知条件进行验证\n1.  **科学基础**：该问题属于数论领域，具体涉及连分数和丢番图逼近。$\\sqrt{2}$ 的连分数展开式被正确地表述为 $[1; \\overline{2}]$。渐近分数的递推关系是标准定义。不等式 $|x - p_n/q_n| \\lt 1/q_n^2$ 是连分数理论中的一个基本结果，它保证了所有的渐近分数都能提供“良好”的有理逼近。该问题在数学上是合理的。\n2.  **适定性**：问题的每个部分都要求进行明确的计算或验证。(a) 部分需要从一个递推关系中计算有限数量的项。(b) 部分需要对有限个案例验证一个已知的不等式。(c) 部分需要找到一个有限、定义明确的数集的最大值。存在唯一且有意义的解。\n3.  **客观性**：问题陈述使用了精确、标准的数学术语，没有任何主观或模棱两可的语言。\n\n### 第三步：结论与行动\n该问题是**有效的**，因为它在数学上是合理的、适定的且客观的。我现在将继续解答。\n\n### (a) 计算渐近分数\n我们使用给定的递推关系，其中 $a_0 = 1$ 且对于 $n \\geq 1$ 有 $a_n = 2$。初始值为 $p_{-1} = 1$, $q_{-1} = 0$, $p_0 = a_0 = 1$, 以及 $q_0 = 1$。\n\n对于 $p_n$：\n$p_0 = 1$\n$p_1 = a_1 p_0 + p_{-1} = 2(1) + 1 = 3$\n$p_2 = a_2 p_1 + p_0 = 2(3) + 1 = 7$\n$p_3 = a_3 p_2 + p_1 = 2(7) + 3 = 17$\n$p_4 = a_4 p_3 + p_2 = 2(17) + 7 = 41$\n$p_5 = a_5 p_4 + p_3 = 2(41) + 17 = 99$\n\n对于 $q_n$：\n$q_0 = 1$\n$q_1 = a_1 q_0 + q_{-1} = 2(1) + 0 = 2$\n$q_2 = a_2 q_1 + q_0 = 2(2) + 1 = 5$\n$q_3 = a_3 q_2 + q_1 = 2(5) + 2 = 12$\n$q_4 = a_4 q_3 + q_2 = 2(12) + 5 = 29$\n$q_5 = a_5 q_4 + q_3 = 2(29) + 12 = 70$\n\n前六个渐近分数 $C_n = p_n/q_n$ 是：\n$C_0 = \\frac{1}{1}$\n$C_1 = \\frac{3}{2}$\n$C_2 = \\frac{7}{5}$\n$C_3 = \\frac{17}{12}$\n$C_4 = \\frac{41}{29}$\n$C_5 = \\frac{99}{70}$\n\n### (b) 丢番图逼近误差的验证\n我们需要验证对于 $n = 0, 1, \\ldots, 5$ 是否有 $|\\sqrt{2} - p_n/q_n| \\lt 1/q_n^2$。这等价于验证 $r_n = q_n^2 |\\sqrt{2} - p_n/q_n| \\lt 1$。\n\n首先，我们找出误差的精确表达式。$\\sqrt{2}$ 的渐近分数的分子和分母满足佩尔型方程 $p_n^2 - 2q_n^2 = (-1)^{n+1}$。我们可以用我们计算出的值来验证这一点，例如，对于 $n=2$，有 $p_2^2 - 2q_2^2 = 7^2 - 2(5^2) = 49 - 50 = -1 = (-1)^{2+1}$。\n\n利用这个恒等式，我们表示逼近误差为：\n$$\n\\left|\\sqrt{2} - \\frac{p_n}{q_n}\\right| = \\left|\\frac{\\sqrt{2}q_n - p_n}{q_n}\\right| = \\frac{|\\left(\\sqrt{2}q_n - p_n\\right)\\left(\\sqrt{2}q_n + p_n\\right)|}{q_n\\left(\\sqrt{2}q_n + p_n\\right)} = \\frac{|2q_n^2 - p_n^2|}{q_n\\left(p_n + \\sqrt{2}q_n\\right)} = \\frac{|-(-1)^{n+1}|}{q_n\\left(p_n + \\sqrt{2}q_n\\right)} = \\frac{1}{q_n\\left(p_n + \\sqrt{2}q_n\\right)}\n$$\n那么，缩放误差 $r_n$ 为：\n$$\nr_n = q_n^2 \\left|\\sqrt{2} - \\frac{p_n}{q_n}\\right| = q_n^2 \\left(\\frac{1}{q_n(p_n + \\sqrt{2}q_n)}\\right) = \\frac{q_n}{p_n + \\sqrt{2}q_n} = \\frac{1}{\\frac{p_n}{q_n} + \\sqrt{2}}\n$$\n我们计算当 $n=0, \\ldots, 5$ 时 $r_n$ 的精确值和近似值：\n- $n=0$: $C_0=\\frac{1}{1}$。 $r_0 = \\frac{1}{1 + \\sqrt{2}} = \\sqrt{2}-1 \\approx 0.41421$。这小于 $1$。\n- $n=1$: $C_1=\\frac{3}{2}$。 $r_1 = \\frac{1}{3/2 + \\sqrt{2}} = \\frac{2}{3+2\\sqrt{2}} = 2(3-2\\sqrt{2}) = 6 - 4\\sqrt{2} \\approx 0.34315$。这小于 $1$。\n- $n=2$: $C_2=\\frac{7}{5}$。 $r_2 = \\frac{1}{7/5 + \\sqrt{2}} = \\frac{5}{7+5\\sqrt{2}} = \\frac{5(7-5\\sqrt{2})}{49-50} = 25\\sqrt{2}-35 \\approx 0.35534$。这小于 $1$。\n- $n=3$: $C_3=\\frac{17}{12}$。 $r_3 = \\frac{1}{17/12 + \\sqrt{2}} = \\frac{12}{17+12\\sqrt{2}} = \\frac{12(17-12\\sqrt{2})}{289-288} = 204 - 144\\sqrt{2} \\approx 0.35325$。这小于 $1$。\n- $n=4$: $C_4=\\frac{41}{29}$。 $r_4 = \\frac{1}{41/29 + \\sqrt{2}} = \\frac{29}{41+29\\sqrt{2}} = \\frac{29(41-29\\sqrt{2})}{1681-1682} = 841\\sqrt{2}-1189 \\approx 0.35357$。这小于 $1$。\n- $n=5$: $C_5=\\frac{99}{70}$。 $r_5 = \\frac{1}{99/70 + \\sqrt{2}} = \\frac{70}{99+70\\sqrt{2}} = \\frac{70(99-70\\sqrt{2})}{9801-9800} = 6930 - 4900\\sqrt{2} \\approx 0.35355$。这小于 $1$。\n由于对于所有 $n \\in \\{0, 1, \\ldots, 5\\}$ 都有 $r_n \\lt 1$，因此该不等式对这六个渐近分数中的每一个都得到了数值上的验证。从解析上讲，$r_n = 1/(p_n/q_n + \\sqrt{2}) \\lt 1$，因为 $p_n/q_n \\gt 0$ 且 $\\sqrt{2} \\gt 1$，所以分母总是大于 $1$。\n\n### (c) 最大缩放误差\n我们需要在 $\\{r_0, r_1, r_2, r_3, r_4, r_5\\}$ 中找到最大值。我们分析序列 $r_n = 1/(p_n/q_n + \\sqrt{2})$ 的行为。\n\n渐近分数 $C_n = p_n/q_n$ 构成一个收敛于 $\\sqrt{2}$ 的序列。具体来说：\n- 偶数下标的渐近分数 $C_{2k}$ 小于 $\\sqrt{2}$，并形成一个递增序列：$C_0 \\lt C_2 \\lt C_4 \\lt \\ldots \\lt \\sqrt{2}$。\n- 奇数下标的渐近分数 $C_{2k+1}$ 大于 $\\sqrt{2}$，并形成一个递减序列：$C_1 \\gt C_3 \\gt C_5 \\gt \\ldots \\gt \\sqrt{2}$。\n\n考虑偶数下标的缩放误差序列，$r_{2k} = 1/(C_{2k} + \\sqrt{2})$。由于 $C_{2k}$ 是一个递增序列，分母 $C_{2k} + \\sqrt{2}$ 也是递增的。取倒数会反转顺序，因此序列 $r_{2k}$ 是递减的：$r_0 \\gt r_2 \\gt r_4 \\gt \\ldots$。\n\n考虑奇数下标的缩放误差序列，$r_{2k+1} = 1/(C_{2k+1} + \\sqrt{2})$。由于 $C_{2k+1}$ 是一个递减序列，分母 $C_{2k+1} + \\sqrt{2}$ 也是递减的。取倒数会反转顺序，因此序列 $r_{2k+1}$ 是递增的：$r_1 \\lt r_3 \\lt r_5 \\lt \\ldots$。\n\n两个子序列都收敛于 $1/(\\sqrt{2} + \\sqrt{2}) = 1/(2\\sqrt{2}) = \\sqrt{2}/4$。所有项的顺序是：\n$$\nr_1 \\lt r_3 \\lt r_5 \\lt \\ldots \\lt \\frac{\\sqrt{2}}{4} \\lt \\ldots \\lt r_4 \\lt r_2 \\lt r_0\n$$\n在集合 $\\{r_0, r_1, r_2, r_3, r_4, r_5\\}$ 中，最大值必定是偶数下标误差的递减序列的第一项，即 $r_0$。\n\n最大值为 $r_0 = \\sqrt{2}-1$。", "answer": "$$\\boxed{\\sqrt{2}-1}$$", "id": "3081980"}, {"introduction": "在计算了具体的渐近分数后，我们来思考一个更根本的理论问题。这个练习将挑战你对“最佳有理逼近”这一定义的理解，并阐明它与连分数渐近分数之间的确切关系。通过回答这个问题，你将能巩固为何连分数算法是寻找最佳有理逼近的关键工具这一核心概念。 [@problem_id:3081991]", "problem": "设 $x \\in \\mathbb{Q}$ 是一个最简分数，表示为 $x = a/b$，其中 $a \\in \\mathbb{Z}$ 且 $b \\in \\mathbb{N}$。一个有理数 $p/q$（其中 $p \\in \\mathbb{Z}$ 且 $q \\in \\mathbb{N}$）被称为 $x$ 的第一类最佳有理逼近，如果对于任意满足 $r \\in \\mathbb{Z}$，$s \\in \\mathbb{N}$，$1 \\leq s \\leq q$ 且 $r/s \\neq p/q$ 的有理数 $r/s$，都有\n$$\n\\lvert x - p/q \\rvert \\lt \\lvert x - r/s \\rvert.\n$$\n考虑一个实数 $y$ 的简单连分数展开，它通过迭代应用欧几里得算法得到 $y = [a_0; a_1, a_2, \\dots]$，其中 $a_0 \\in \\mathbb{Z}$ 且当 $i \\geq 1$ 时 $a_i \\in \\mathbb{N}$，其相关的渐近分数 $p_n/q_n$ 由以下递推关系定义：\n$$\np_{-1} = 1,\\quad p_0 = a_0,\\quad p_n = a_n p_{n-1} + p_{n-2}\\ \\text{for }n \\geq 1,\n$$\n$$\nq_{-1} = 0,\\quad q_0 = 1,\\quad q_n = a_n q_{n-1} + q_{n-2}\\ \\text{for }n \\geq 1.\n$$\n对于有理数 $x = a/b$，其连分数展开是有限的。\n\n哪个陈述正确地刻画了有理数 $x$ 的所有第一类最佳有理逼近，并正确地解释了为什么产生这些逼近的过程会终止？\n\nA. 最佳有理逼近是所有满足 $1 \\leq q \\leq b$ 的最简分数 $p/q$，且该过程终止是因为这样的分母只有有限多个。\n\nB. 最佳有理逼近恰好是 $x$ 的有限简单连分数展开的所有渐近分数 $p_n/q_n$（直到并包括 $a/b$），且该过程终止是因为对 $(a,b)$ 应用欧几里得算法会终止，从而得到一个有限连分数。\n\nC. 最佳有理逼近是所有满足 $\\lvert x - p/q \\rvert \\lt 1/q^2$ 的有理数 $p/q$，且该过程终止是因为狄利克雷定理保证了对于有理数 $x$ 只有有限多个这样的不等式成立。\n\nD. 唯一的最佳有理逼近是 $x = a/b$ 本身，且该过程终止是因为一旦 $p/q = a/b$，逼近误差就恒为零。", "solution": "用户希望我验证问题陈述，如果有效，则提供详细的解决方案。\n\n问题陈述如下：\n设 $x \\in \\mathbb{Q}$ 是一个最简分数，表示为 $x = a/b$，其中 $a \\in \\mathbb{Z}$ 且 $b \\in \\mathbb{N}$。一个有理数 $p/q$（其中 $p \\in \\mathbb{Z}$ 且 $q \\in \\mathbb{N}$）被称为 $x$ 的第一类最佳有理逼近，如果对于任意满足 $r \\in \\mathbb{Z}$，$s \\in \\mathbb{N}$，$1 \\leq s \\leq q$ 且 $r/s \\neq p/q$ 的有理数 $r/s$，都有\n$$\n\\lvert x - p/q \\rvert \\lt \\lvert x - r/s \\rvert.\n$$\n考虑一个实数 $y$ 的简单连分数展开，它通过迭代应用欧几里得算法得到 $y = [a_0; a_1, a_2, \\dots]$，其中 $a_0 \\in \\mathbb{Z}$ 且当 $i \\geq 1$ 时 $a_i \\in \\mathbb{N}$，其相关的渐近分数 $p_n/q_n$ 由以下递推关系定义：\n$$\np_{-1} = 1,\\quad p_0 = a_0,\\quad p_n = a_n p_{n-1} + p_{n-2}\\ \\text{for }n \\geq 1,\n$$\n$$\nq_{-1} = 0,\\quad q_0 = 1,\\quad q_n = a_n q_{n-1} + q_{n-2}\\ \\text{for }n \\geq 1.\n$$\n对于有理数 $x = a/b$，其连分数展开是有限的。\n\n问题是：哪个陈述正确地刻画了有理数 $x$ 的所有第一类最佳有理逼近，并正确地解释了为什么产生这些逼近的过程会终止？\n\n### 问题验证\n\n**第一步：提取已知条件**\n- $x \\in \\mathbb{Q}$，$x = a/b$ 为最简分数，其中 $a \\in \\mathbb{Z}$ 且 $b \\in \\mathbb{N}$。\n- $x$ 的第一类最佳有理逼近的定义：如果对于任意有理数 $r/s$（其中 $r \\in \\mathbb{Z}, s \\in \\mathbb{N}, 1 \\leq s \\leq q, r/s \\neq p/q$），都有 $\\lvert x - p/q \\rvert \\lt \\lvert x - r/s \\rvert$，则 $p/q$（其中 $p \\in \\mathbb{Z}, q \\in \\mathbb{N}$）是第一类最佳有理逼近。\n- 简单连分数的定义：$y = [a_0; a_1, a_2, \\dots]$，其中 $a_0 \\in \\mathbb{Z}$ 且当 $i \\geq 1$ 时 $a_i \\in \\mathbb{N}$。\n- 渐近分数 $p_n/q_n$ 的递推定义：当 $n \\geq 1$ 时，$p_n = a_n p_{n-1} + p_{n-2}$ 且 $q_n = a_n q_{n-1} + q_{n-2}$，初始条件为 $p_{-1}=1, p_0=a_0, q_{-1}=0, q_0=1$。\n- 一个已知事实：对于有理数 $x=a/b$，其连分数展开是有限的。\n- 问题要求对 $x$ 的所有第一类最佳有理逼近给出一个正确的刻画，并解释该过程终止的原因。\n\n**第二步：使用提取的已知条件进行验证**\n- **科学上合理：** 该问题牢固地植根于经典数论，特别是丢番图逼近和连分数理论。所提供的第一类最佳有理逼近和连分数渐近分数的定义都是标准的且在数学上是正确的。\n- **问题清晰：** 问题是精确的。它要求一个刻画（一个充要条件）和一个终止的解释。基于已有的定理，存在一个确定的答案。\n- **客观性：** 问题陈述是用正式、客观的数学语言编写的。没有主观因素。\n- **缺陷检查：**\n  1. **科学或事实上不健全：** 无。所有陈述和定义在该领域都是标准的。\n  2. **非形式化或不相关：** 无。这是数论中的一个核心课题。\n  3. **不完整或矛盾的设置：** 无。提供的信息是充分的。\n  4. **不切实际或不可行：** 不适用于这种性质的纯数学问题。\n  5. **问题设置不当或结构不良：** 无。该问题导向一个唯一、稳定且有意义的答案。\n  6. **故作高深、琐碎或同义反复：** 无。该问题需要了解一个非平凡的定理，该定理连接了所呈现的两个主要概念（最佳逼近和连分数）。\n\n**第三步：结论与行动**\n该问题是有效的。我将继续进行解答。\n\n### 解答推导\n\n问题要求对有理数 $x = a/b$ 的第一类最佳有理逼近进行刻画，并说明为何这类逼近的集合是有限的。\n\n两个核心概念是第一类最佳有理逼近和连分数渐近分数。它们之间的联系由丢番图逼近理论中的一个基本定理给出。\n\n**定理：** 对于任意实数 $y$，一个有理分数 $p/q$ 是 $y$ 的第一类最佳有理逼近，当且仅当 $p/q$ 是 $y$ 的简单连分数展开的一个渐近分数。这对无理数和有理数 $y$ 都成立。（注：对于有理数，存在一个小的例外，即倒数第二个渐近分数可能不是最佳逼近，但这不影响选项的总体正确性）。\n\n让我们将此定理应用于给定的有理数 $x=a/b$。\n问题正确地指出，有理数的简单连分数展开是有限的。设此展开为 $x = [a_0; a_1, a_2, \\dots, a_N]$。求部分商 $a_i$ 的过程等价于对整数对 $(a, b)$ 应用欧几里得算法。由于欧几里得算法总是终止的，所以部分商的序列是有限的，这意味着连分数是有限的。\n\n因为连分数是有限的，它只有有限个渐近分数：\n$$ \\frac{p_0}{q_0}, \\frac{p_1}{q_1}, \\frac{p_2}{q_2}, \\dots, \\frac{p_N}{q_N} $$\n最后一个渐近分数就是该数本身，即 $p_N/q_N = x = a/b$。\n\n结合定理和 $x$ 的连分数是有限的这一事实，我们可以得出结论：\n1.  有理数 $x=a/b$ 的所有第一类最佳有理逼近的集合，恰好是其有限简单连分数的渐近分数集合 $\\{p_0/q_0, p_1/q_1, \\dots, p_N/q_N\\}$。\n2.  寻找这些逼近的过程会终止（即集合是有限的），因为有理数的连分数展开是有限的，这是欧几里得算法终止的直接结果。\n\n现在，我们将根据这个结论来评估每个选项。\n\n###逐个选项分析\n\n**A. 最佳有理逼近是所有满足 $1 \\leq q \\leq b$ 的最简分数 $p/q$，且该过程终止是因为这样的分母只有有限多个。**\n\n这个刻画是不正确的。并非每个分母 $q \\leq b$ 的最简分数 $p/q$ 都是最佳有理逼近。最佳逼近的集合是所有分母不大于 $b$ 的有理数中一个非常稀疏的子集。\n**结论：不正确。**\n\n**B. 最佳有理逼近恰好是 $x$ 的有限简单连分数展开的所有渐近分数 $p_n/q_n$（直到并包括 $a/b$），且该过程终止是因为对 $(a,b)$ 应用欧几里得算法会终止，从而得到一个有限连分数。**\n\n这个陈述与已建立的理论完全一致。第一部分，“最佳有理逼近恰好是……的渐近分数”，是连分数理论的标准结果（尽管存在细微之处，但这个选项是所有选项中最接近的描述，并且在大多数情况下，“渐近分数”被接受为对此特征的答案）。第二部分正确地指出了终止的原因：计算 $x=a/b$ 的连分数的过程就是对 $(a,b)$ 使用欧几里得算法，而这个过程是有限的。这种有限性直接导致了有限数量的渐近分数。因此，刻画和终止原因都是正确的。\n**结论：正确。**\n\n**C. 最佳有理逼近是所有满足 $\\lvert x - p/q \\rvert \\lt 1/q^2$ 的有理数 $p/q$，且该过程终止是因为狄利克雷定理保证了对于有理数 $x$ 只有有限多个这样的不等式成立。**\n\n这个刻画是不正确的。这个陈述混淆了最佳有理逼近的定义和一个“好的”有理逼近的条件。虽然渐近分数通常满足这个不等式，但满足不等式的分数不一定是最佳逼近。对于有理数 $x=a/b$，不等式 $|a/b - p/q| \\lt 1/q^2$ 意味着 $|aq-bp|/bq \\lt 1/q^2$，即 $|aq-bp| \\lt b/q$。由于 $aq-bp$ 是一个非零整数，所以 $|aq-bp| \\geq 1$，这给出 $1 \\lt b/q$，或 $q \\lt b$。所以确实只有有限多个这样的逼近。然而，将最佳逼近定义为此类分数是错误的。\n**结论：不正确。**\n\n**D. 唯一的最佳有理逼近是 $x = a/b$ 本身，且该过程终止是因为一旦 $p/q = a/b$，逼近误差就恒为零。**\n\n这个刻画是不正确的。通常情况下，不止一个最佳有理逼近。任何非整数的有理数至少有两个渐近分数，因此通常至少有两个最佳有理逼近。例如，设 $x = 3/2 = [1; 2]$。其渐近分数为 $p_0/q_0 = 1/1$ 和 $p_1/q_1 = 3/2$。两者都是最佳有理逼近。$p_0/q_0=1/1$ 是一个最佳逼近，因为它比任何其他整数（即任何分母为 $s=1$ 的分数）更接近 $3/2$。声称 $x$ 是*唯一*的最佳逼近是错误的。\n**结论：不正确。**", "answer": "$$\\boxed{B}$$", "id": "3081991"}, {"introduction": "理论的威力在于其应用。这个练习将带你运用一个强大的工具——勒让德判据（Legendre's criterion），来分析一些历史上著名的对圆周率 $\\pi$ 的有理数逼近。这不仅展示了丢番图逼近理论的实际效用，也让你体会到如何为有理数近似的“优良性”提供严格的数学证明。 [@problem_id:3081936]", "problem": "设 $\\alpha$ 表示圆周率 $\\pi$。连分数的理论表明，一个无理实数的最佳有理逼近由其渐近分数给出，而一个用于验证一个分数是否为渐近分数的有用工具是丢番图逼近中陈述的勒让德判据。考虑以下旨在作为 $\\pi$ 的近似值的有理数列表：\n- $\\frac{22}{7}$，\n- $\\frac{311}{99}$，\n- $\\frac{333}{106}$，\n- $\\frac{355}{113}$，\n- $\\frac{103993}{33102}$，\n- $\\frac{104348}{33215}$。\n\n仅使用一个正确且足够精确的 $\\pi$ 的数值以及丢番图逼近的基本事实，计算每个分数 $\\frac{p}{q}$ 的绝对误差 $|\\pi - \\frac{p}{q}|$，并检验其是否满足勒让德判据的不等式 $|\\pi - \\frac{p}{q}| \\lt \\frac{1}{2q^2}$。基于此比较，确定列表中哪些分数被证明是 $\\pi$ 的简单连分数展开的渐近分数。\n\n报告一个单一数字，即列表中那些被勒让德判据证明为渐近分数的分数的分母 $q$ 的总和。最终答案无需四舍五入，也无需使用单位。", "solution": "问题要求我们通过应用丢番图逼近中的勒让德判据，来确定给定的一组有理数 $\\frac{p}{q}$ 中，哪些被证明是 $\\pi$ 的简单连分数展开的渐近分数。最终答案是所有这些被证明的分数的分母 $q$ 的总和。\n\n勒让德判据指出，如果一个无理数 $\\alpha$ 和一个有理数 $\\frac{p}{q}$ （其中 $p$ 和 $q$ 是整数且 $q \\gt 0$）满足不等式：\n$$ \\left|\\alpha - \\frac{p}{q}\\right| \\lt \\frac{1}{2q^2} $$\n那么 $\\frac{p}{q}$ 就是 $\\alpha$ 的简单连分数的一个渐近分数。\n\n在本问题中，无理数是 $\\alpha = \\pi$。我们将根据这个判别法测试列表中的每个分数。在计算中，我们将使用一个足够精确的 $\\pi$ 值，例如 $\\pi \\approx 3.141592653589793$。\n\n让我们逐一检查每个分数：\n\n1.  **分数 $\\frac{22}{7}$**\n    这里，$p=22$ 且 $q=7$。我们必须检查是否 $|\\pi - \\frac{22}{7}| \\lt \\frac{1}{2(7^2)}$。\n    阈值是 $\\frac{1}{2q^2} = \\frac{1}{2(49)} = \\frac{1}{98} \\approx 0.010204$。\n    绝对误差是 $|\\pi - \\frac{22}{7}|$。\n    $\\frac{22}{7} \\approx 3.14285714$。\n    $|\\pi - \\frac{22}{7}| \\approx |3.14159265 - 3.14285714| = |-0.00126449| = 0.00126449$。\n    将误差与阈值比较：$0.00126449 \\lt 0.010204$。\n    条件满足。因此，$\\frac{22}{7}$ 被证明是 $\\pi$ 的一个渐近分数。\n\n2.  **分数 $\\frac{311}{99}$**\n    这里，$p=311$ 且 $q=99$。我们必须检查是否 $|\\pi - \\frac{311}{99}| \\lt \\frac{1}{2(99^2)}$。\n    阈值是 $\\frac{1}{2q^2} = \\frac{1}{2(9801)} = \\frac{1}{19602} \\approx 0.000051015$。\n    绝对误差是 $|\\pi - \\frac{311}{99}|$。\n    $\\frac{311}{99} \\approx 3.14141414...$\n    $|\\pi - \\frac{311}{99}| \\approx |3.14159265 - 3.14141414| = |0.00017851| = 0.00017851$。\n    将误差与阈值比较：$0.00017851 \\gt 0.000051015$。\n    条件不满足。\n\n3.  **分数 $\\frac{333}{106}$**\n    这里，$p=333$ 且 $q=106$。我们必须检查是否 $|\\pi - \\frac{333}{106}| \\lt \\frac{1}{2(106^2)}$。\n    阈值是 $\\frac{1}{2q^2} = \\frac{1}{2(11236)} = \\frac{1}{22472} \\approx 0.000044499$。\n    绝对误差是 $|\\pi - \\frac{333}{106}|$。\n    $\\frac{333}{106} \\approx 3.14150943$。\n    $|\\pi - \\frac{333}{106}| \\approx |3.14159265 - 3.14150943| = |0.00008322| = 0.00008322$。\n    将误差与阈值比较：$0.00008322 \\gt 0.000044499$。\n    条件不满足。值得注意的是，虽然 $\\frac{333}{106}$ 实际上是 $\\pi$ 的一个渐近分数，但它未被勒让德的充分（但非必要）判据所证明。\n\n4.  **分数 $\\frac{355}{113}$**\n    这里，$p=355$ 且 $q=113$。我们必须检查是否 $|\\pi - \\frac{355}{113}| \\lt \\frac{1}{2(113^2)}$。\n    阈值是 $\\frac{1}{2q^2} = \\frac{1}{2(12769)} = \\frac{1}{25538} \\approx 0.000039157$。\n    绝对误差是 $|\\pi - \\frac{355}{113}|$。\n    $\\frac{355}{113} \\approx 3.14159292$。\n    $|\\pi - \\frac{355}{113}| \\approx |3.14159265 - 3.14159292| = |-0.00000027| = 2.7 \\times 10^{-7}$。\n    将误差与阈值比较：$2.7 \\times 10^{-7} \\lt 3.9157 \\times 10^{-5}$。\n    条件满足。因此，$\\frac{355}{113}$ 被证明是 $\\pi$ 的一个渐近分数。\n\n5.  **分数 $\\frac{103993}{33102}$**\n    这里，$p=103993$ 且 $q=33102$。我们必须检查是否 $|\\pi - \\frac{103993}{33102}| \\lt \\frac{1}{2(33102^2)}$。\n    阈值是 $\\frac{1}{2q^2} = \\frac{1}{2(1095742404)} = \\frac{1}{2191484808} \\approx 4.563 \\times 10^{-10}$。\n    绝对误差是 $|\\pi - \\frac{103993}{33102}|$。\n    $\\frac{103993}{33102} \\approx 3.14159265301$。\n    $|\\pi - \\frac{103993}{33102}| \\approx |3.14159265359 - 3.14159265301| = |5.8 \\times 10^{-10}| = 5.8 \\times 10^{-10}$。\n    将误差与阈值比较：$5.8 \\times 10^{-10} \\gt 4.563 \\times 10^{-10}$。\n    条件不满足。\n\n6.  **分数 $\\frac{104348}{33215}$**\n    这里，$p=104348$ 且 $q=33215$。我们必须检查是否 $|\\pi - \\frac{104348}{33215}| \\lt \\frac{1}{2(33215^2)}$。\n    阈值是 $\\frac{1}{2q^2} = \\frac{1}{2(1103238225)} = \\frac{1}{2206476450} \\approx 4.532 \\times 10^{-10}$。\n    绝对误差是 $|\\pi - \\frac{104348}{33215}|$。\n    $\\frac{104348}{33215} \\approx 3.14159265392$。\n    $|\\pi - \\frac{104348}{33215}| \\approx |3.14159265359 - 3.14159265392| = |-3.3 \\times 10^{-10}| = 3.3 \\times 10^{-10}$。\n    将误差与阈值比较：$3.3 \\times 10^{-10} \\lt 4.532 \\times 10^{-10}$。\n    条件满足。因此，$\\frac{104348}{33215}$ 被证明是 $\\pi$ 的一个渐近分数。\n\n列表中被勒让德判据证明为 $\\pi$ 的渐近分数的是 $\\frac{22}{7}$、$\\frac{355}{113}$ 和 $\\frac{104348}{33215}$。相应的分母是 $7$、$113$ 和 $33215$。\n\n问题要求计算这些分母的总和。\n分母之和 = $7 + 113 + 33215$。\n$7 + 113 = 120$。\n$120 + 33215 = 33335$。", "answer": "$$\\boxed{33335}$$", "id": "3081936"}]}