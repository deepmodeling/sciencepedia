{"hands_on_practices": [{"introduction": "在素数模算术中，有一个被称为“新生之梦”的著名恒等式：$(x+y)^p \\equiv x^p+y^p \\pmod p$。这个练习将引导你通过二项式系数的性质来探究其背后的原理，从而加深对费马小定理证明思路的理解。通过与合数模的对比，你将清晰地看到为何素数在数论中扮演着如此特殊的角色。[@problem_id:3085236]", "problem": "设 $p$ 是一个素数，考虑使用二项式定理展开 $(x+y)^{p}$。利用以下基本事实：对于素数 $p$，每个满足 $1 \\leq k \\leq p-1$ 的二项式系数 $\\binom{p}{k}$ 都能被 $p$ 整除；以及根据费马小定理，对于任意整数 $a$，有 $a^{p} \\equiv a \\pmod{p}$。从这些基础出发（不要假定除这些之外的任何特殊同余公式），确定并证明以下具体数值实例中的余数。\n\n取 $x=5$，$y=7$，$p=13$（素数），并与合数模数情况 $m=12$（合数）进行比较。计算\n- $(x+y)^{p}$ 模 $p$ 的余数，\n- $x^{p}+y^{p}$ 模 $p$ 的余数，\n- $(x+y)^{m}$ 模 $m$ 的余数，\n- $x^{m}+y^{m}$ 模 $m$ 的余数。\n\n你必须从二项式定理和素数二项式系数的基本整除性质出发，来证明素数模数的情况，并使用基础的模算术工具（如中国剩余定理（CRT）和欧拉定理）来证明合数模数的情况。将你的最终答案表示为单行矩阵 $\\begin{pmatrix}r_{1}  r_{2}  r_{3}  r_{4}\\end{pmatrix}$ 的形式，其中 $r_{1}$、$r_{2}$、$r_{3}$、$r_{4}$ 是按上述顺序列出的四个余数。无需四舍五入。", "solution": "问题陈述已经过验证，被认为是合理的。这是一个初等数论中定义明确的问题，没有科学或事实上的不健全、模糊或矛盾之处。所有必要的数据和条件都已提供。\n\n该问题要求计算四个余数，对比模素数 $p$ 的指数运算与模合数 $m$ 的指数运算的行为。给定 $x=5$，$y=7$，素数 $p=13$，以及合数模数 $m=12$。\n\n### 第一部分：素数模数情况 ($p=13$)\n\n问题要求基于二项式定理和素数模数的二项式系数性质进行证明。设 $p$ 为一个素数。$(x+y)^p$ 的二项式展开式为：\n$$(x+y)^p = \\sum_{k=0}^{p} \\binom{p}{k} x^{p-k} y^k$$\n展开这个和，我们得到：\n$$(x+y)^p = \\binom{p}{0}x^p y^0 + \\binom{p}{1}x^{p-1}y^1 + \\dots + \\binom{p}{p-1}x^1 y^{p-1} + \\binom{p}{p}x^0 y^p$$\n首尾的二项式系数为 $\\binom{p}{0} = 1$ 和 $\\binom{p}{p} = 1$。表达式变为：\n$$(x+y)^p = x^p + y^p + \\sum_{k=1}^{p-1} \\binom{p}{k} x^{p-k} y^k$$\n正如问题中所述，对于素数 $p$，每个二项式系数 $\\binom{p}{k}$（其中 $1 \\leq k \\leq p-1$）都能被 $p$ 整除。这意味着对于这些 $k$ 值，有 $\\binom{p}{k} \\equiv 0 \\pmod{p}$。因此，求和式 $\\sum_{k=1}^{p-1} \\binom{p}{k} x^{p-k} y^k$ 中的每一项都是 $p$ 的倍数。因此，这个和本身模 $p$ 同余于 $0$：\n$$\\sum_{k=1}^{p-1} \\binom{p}{k} x^{p-k} y^k \\equiv 0 \\pmod{p}$$\n将整个展开式对模 $p$ 取余，我们建立了被称为“新生之梦”的恒等式：\n$$(x+y)^p \\equiv x^p + y^p \\pmod{p}$$\n\n现在我们将此应用于具体的数值实例。\n\n**1. $(x+y)^p$ 模 $p$ 的余数 ($r_1$)**\n\n我们需要计算 $(5+7)^{13} \\pmod{13}$。\n这就是 $12^{13} \\pmod{13}$。\n我们已知费马小定理，该定理指出对于任意整数 $a$ 和素数 $p$，有 $a^p \\equiv a \\pmod{p}$。\n令 $a = 12$，$p = 13$，我们有：\n$$12^{13} \\equiv 12 \\pmod{13}$$\n因此，第一个余数是 $r_1 = 12$。\n\n**2. $x^p + y^p$ 模 $p$ 的余数 ($r_2$)**\n\n我们需要计算 $5^{13} + 7^{13} \\pmod{13}$。\n对每一项应用费马小定理：\n- 对 $a=5$，$p=13$：$5^{13} \\equiv 5 \\pmod{13}$。\n- 对 $a=7$，$p=13$：$7^{13} \\equiv 7 \\pmod{13}$。\n因此，\n$$5^{13} + 7^{13} \\equiv 5 + 7 \\pmod{13}$$\n$$5^{13} + 7^{13} \\equiv 12 \\pmod{13}$$\n因此，第二个余数是 $r_2 = 12$。\n正如我们最初推导所预期的，$r_1 = r_2$。\n\n### 第二部分：合数模数情况 ($m=12$)\n\n这部分说明了为什么“新生之梦”恒等式对于合数模数不成立。给定 $m=12$。\n\n**3. $(x+y)^m$ 模 $m$ 的余数 ($r_3$)**\n\n我们需要计算 $(5+7)^{12} \\pmod{12}$。\n这就是 $12^{12} \\pmod{12}$。\n因为 $12 \\equiv 0 \\pmod{12}$，且指数 $12$ 是一个正整数，我们有：\n$$12^{12} \\equiv 0^{12} \\equiv 0 \\pmod{12}$$\n因此，第三个余数是 $r_3 = 0$。\n\n**4. $x^m + y^m$ 模 $m$ 的余数 ($r_4$)**\n\n我们需要计算 $5^{12} + 7^{12} \\pmod{12}$。\n问题指导我们使用诸如中国剩余定理（CRT）和欧拉定理之类的工具。我们将计算模 $12$ 的素数幂因子（即 $3$ 和 $4$）的余数。\n\n**模 3 计算：**\n我们计算 $5^{12} + 7^{12} \\pmod{3}$。\n$5 \\equiv 2 \\pmod{3}$\n$7 \\equiv 1 \\pmod{3}$\n所以，$5^{12} + 7^{12} \\equiv 2^{12} + 1^{12} \\pmod{3}$。\n$1^{12} = 1$。对于 $2^{12}$，由于 $3$ 是素数，我们可以使用费马小定理。对于 $p \\nmid a$，有 $a^{p-1} \\equiv 1 \\pmod p$。\n这里，$2^{3-1} = 2^2 = 4 \\equiv 1 \\pmod{3}$。\n那么 $2^{12} = (2^2)^6 \\equiv 1^6 \\equiv 1 \\pmod{3}$。\n所以，$5^{12} + 7^{12} \\equiv 1 + 1 \\equiv 2 \\pmod{3}$。\n\n**模 4 计算：**\n我们计算 $5^{12} + 7^{12} \\pmod{4}$。\n$5 \\equiv 1 \\pmod{4}$\n$7 \\equiv -1 \\pmod{4}$\n所以，$5^{12} + 7^{12} \\equiv 1^{12} + (-1)^{12} \\pmod{4}$。\n$1^{12} = 1$ 且 $(-1)^{12} = 1$。\n所以，$5^{12} + 7^{12} \\equiv 1 + 1 \\equiv 2 \\pmod{4}$。\n\n**使用中国剩余定理（CRT）合并：**\n设 $N = 5^{12} + 7^{12}$。我们有同余方程组：\n$$N \\equiv 2 \\pmod{3}$$\n$$N \\equiv 2 \\pmod{4}$$\n由于值 $2$ 是两个同余方程的解，并且根据中国剩余定理的解在模 $\\operatorname{lcm}(3,4)=12$ 下的唯一性，我们可以立即得出结论：$N \\equiv 2 \\pmod{12}$。\n因此，第四个余数是 $r_4 = 2$。\n\n另外，也可以使用欧拉定理。$\\phi(12) = 12(1-\\frac{1}{2})(1-\\frac{1}{3}) = 12(\\frac{1}{2})(\\frac{2}{3}) = 4$。对于任何与 $12$ 互素的整数 $a$，有 $a^4 \\equiv 1 \\pmod{12}$。\n由于 $\\gcd(5,12)=1$，所以 $5^{12} = (5^4)^3 \\equiv 1^3 \\equiv 1 \\pmod{12}$。\n同样，$\\gcd(7,12)=1$，但我们可以找到一个更小的指数：$7^2 = 49 \\equiv 1 \\pmod{12}$。所以 $7^{12}=(7^2)^6 \\equiv 1^6 \\equiv 1 \\pmod{12}$。\n因此，$5^{12} + 7^{12} \\equiv 1 + 1 \\equiv 2 \\pmod{12}$，确认了 $r_4=2$。\n\n注意到 $r_3 = 0$ 且 $r_4 = 2$，因此对于这个合数模数，$(x+y)^m \\not\\equiv x^m+y^m \\pmod m$。\n\n### 余数总结\n- $r_1 = (5+7)^{13} \\pmod{13} = 12$.\n- $r_2 = 5^{13}+7^{13} \\pmod{13} = 12$.\n- $r_3 = (5+7)^{12} \\pmod{12} = 0$.\n- $r_4 = 5^{12}+7^{12} \\pmod{12} = 2$.\n最终答案以行矩阵形式呈现。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n12  12  0  2\n\\end{pmatrix}\n}\n$$", "id": "3085236"}, {"introduction": "费马小定理不仅仅是一个理论上的优美结论，更是一个强大的计算工具，能将看似复杂的表达式化繁为简。这个实践将挑战你求解一个模素数的几何级数之和。你会发现，借助费马小定理 $a^p \\equiv a \\pmod p$，这个问题的解法会变得异常简洁和巧妙。[@problem_id:3085238]", "problem": "设 $p$ 是一个素数，$a$ 是一个整数且 $a \\not\\equiv 1 \\pmod p$。考虑有限和 $S=\\sum_{k=1}^{p-1} a^{k}$。请确定 $S$ 模 $p$ 的余数，用一个在集合 $\\{0,1,\\dots,p-1\\}$ 中的简化整数以闭合形式表示。不需要近似值。", "solution": "本题要求确定有限和 $S=\\sum_{k=1}^{p-1} a^{k}$ 模 $p$ 的余数，其中 $p$ 是一个素数，$a$ 是一个满足 $a \\not\\equiv 1 \\pmod p$ 的整数。最终答案应为集合 $\\{0, 1, \\dots, p-1\\}$ 中的一个整数。\n\n首先，我们对问题陈述进行验证。\n给定条件如下：\n1. $p$ 是一个素数。\n2. $a$ 是一个整数。\n3. $a \\not\\equiv 1 \\pmod p$。\n4. $S = \\sum_{k=1}^{p-1} a^{k}$。\n\n这个问题在数论领域有其科学依据。它是一个良构、客观且自洽的问题。所给条件充分且一致，足以推导出一个唯一解。例如，条件 $a \\not\\equiv 1 \\pmod p$ 至关重要，因为如果此条件不满足，和的值将会改变。该问题没有违反任何数学原理，并使用了标准的、无歧义的术语。因此，该问题被认为是有效的。\n\n我们接下来求 $S$ 模 $p$ 的值。\n设该和为 $S$。\n$$S = a^1 + a^2 + a^3 + \\dots + a^{p-1}$$\n这是一个有限几何级数。为了求和，我们可以使用标准的代数技巧。考虑 $S$ 与项 $(a-1)$ 的乘积：\n$$(a-1)S = (a-1)\\left(\\sum_{k=1}^{p-1} a^k\\right) = (a-1)(a + a^2 + \\dots + a^{p-1})$$\n将 $(a-1)$ 乘进去，我们得到：\n$$(a-1)S = (a^2 + a^3 + \\dots + a^{p}) - (a + a^2 + \\dots + a^{p-1})$$\n这是一个裂项和。大部分项都相互抵消：\n$$(a-1)S = a^p - a$$\n现在，我们在模算术的背景下考虑这个方程，具体是模 $p$。\n$$(a-1)S \\equiv a^p - a \\pmod p$$\n我们可以应用费马小定理（Fermat's Little Theorem），该定理指出，如果 $p$ 是一个素数，那么对于任意整数 $a$，以下关系成立：\n$$a^p \\equiv a \\pmod p$$\n将此结果代入我们的同余式中，我们得到：\n$$(a-1)S \\equiv a - a \\pmod p$$\n$$(a-1)S \\equiv 0 \\pmod p$$\n这个同余式表明，整数 $(a-1)$ 和 $S$ 的乘积是素数 $p$ 的倍数。\n在模 $p$ 的整数环中，记作 $\\mathbb{Z}_p$，这意味着剩余类 $[a-1]$ 和 $[S]$ 的乘积是零类 $[0]$。因为 $p$ 是素数，$\\mathbb{Z}_p$ 是一个域，这意味着它是一个整环。在整环中，如果两个元素的乘积为零，那么至少有一个元素必须为零。\n因此，由 $(a-1)S \\equiv 0 \\pmod p$ 可知，必定有 $a-1 \\equiv 0 \\pmod p$ 或 $S \\equiv 0 \\pmod p$。\n\n问题陈述中给出了关键条件 $a \\not\\equiv 1 \\pmod p$。这等价于：\n$$a-1 \\not\\equiv 0 \\pmod p$$\n由于第一个因子 $(a-1)$ 不与 $0$ 模 $p$ 同余，所以第二个因子 $S$ 必须与 $0$ 模 $p$ 同余。\n因此，我们必定有：\n$$S \\equiv 0 \\pmod p$$\n题目要求将 $S$ 模 $p$ 的余数表示为集合 $\\{0, 1, \\dots, p-1\\}$ 中的一个简化整数。同余式 $S \\equiv 0 \\pmod p$ 意味着 $S$ 除以 $p$ 的余数是 $0$。\n\n只要 $a \\not\\equiv 1 \\pmod p$，这个结果对任何整数 $a$ 都成立。这也包括 $a \\equiv 0 \\pmod p$ 的情况。如果 $a \\equiv 0 \\pmod p$，那么对于所有 $k \\ge 1$ 都有 $a^k \\equiv 0 \\pmod p$。此时，和 $S$ 将是零的和，即 $0 \\pmod p$。我们使用 $(a-1)S = a^p - a$ 的一般性论证也涵盖了这种情况，因为形式为 $a^p \\equiv a \\pmod p$ 的费马小定理对所有整数 $a$（包括 $a=0$）都有效。\n\n$S$ 模 $p$ 的余数是 $0$。", "answer": "$$\n\\boxed{0}\n$$", "id": "3085238"}, {"introduction": "费马小定理的一个深刻推论是，在模素数 $p$ 的乘法群中，所有元素的阶都能整除 $p-1$。这一结构性洞见使我们能够解决一些看似计算量巨大的问题，例如计算同余方程解的个数。本练习将向你展示如何运用这一性质，来精确计算形如 $x^k \\equiv 1 \\pmod p$ 的方程有多少个解，从而将你对费马小定理的应用提升到一个新的层次。[@problem_id:3085218]", "problem": "设 $p$ 为素数 $1009$。考虑模 $p$ 的乘法剩余，即在模 $p$ 意义下，由满足 $1 \\leq x \\leq p-1$ 的整数 $x$ 组成的集合。求满足同余式 $x^{6300} \\equiv 1 \\pmod{1009}$ 的剩余 $x$ 的个数。将最终答案表示为单个整数。", "solution": "问题要求解在范围 $1 \\leq x \\leq p-1$ 内满足同余式 $x^{6300} \\equiv 1 \\pmod{p}$ 的整数解 $x$ 的数量，其中 $p=1009$。\n\n首先，我们必须验证 $p=1009$ 是一个素数。为此，我们可以测试它是否能被小于等于 $\\sqrt{1009}$ 的素数整除。由于 $\\sqrt{1009} \\approx 31.76$，我们测试直到 $31$ 的素数。这些素数是 $2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31$。\n- $1009$ 是奇数，不能被 $2$ 整除。\n- 其各位数字之和为 $1+0+0+9=10$，不能被 $3$ 整除，所以 $1009$ 不能被 $3$ 整除。\n- $1009$ 的个位数不是 $0$ 或 $5$，所以不能被 $5$ 整除。\n- $1009 = 7 \\times 144 + 1$。\n- $1009 = 11 \\times 91 + 8$。\n- $1009 = 13 \\times 77 + 8$。\n- $1009 = 17 \\times 59 + 6$。\n- $1009 = 19 \\times 53 + 2$。\n- $1009 = 23 \\times 43 + 20$。\n- $1009 = 29 \\times 34 + 23$。\n- $1009 = 31 \\times 32 + 17$。\n由于 $1009$ 不能被任何小于或等于其平方根的素数整除，所以 $1009$ 是一个素数。\n\n满足 $1 \\leq x \\leq p-1$ 的整数集合在模 $p$ 乘法下构成一个群。该群记为 $(\\mathbb{Z}/p\\mathbb{Z})^*$ 或 $U(p)$。因为 $p$ 是一个素数，所以这个群是循环群。该群的阶为 $|(\\mathbb{Z}/1009\\mathbb{Z})^*| = p-1 = 1009 - 1 = 1008$。\n\n我们要求解方程 $x^{6300} \\equiv 1 \\pmod{1009}$ 的解的个数。这等价于在循环群 $G = (\\mathbb{Z}/1009\\mathbb{Z})^*$ 中找到满足方程 $x^{6300} = e$ 的元素 $x$ 的数量，其中 $e$ 是群的单位元（在此情境下为 $1$）。\n\n循环群理论中的一个基本结果指出，对于一个阶为 $n$ 的循环群 $G$，方程 $g^k=e$（其中 $k$ 是一个整数）的解的个数为 $\\gcd(k, n)$。\n\n在本问题中，群是 $G = (\\mathbb{Z}/1009\\mathbb{Z})^*$，它是一个阶为 $n = 1008$ 的循环群。指数为 $k = 6300$。因此，同余式 $x^{6300} \\equiv 1 \\pmod{1009}$ 的解的个数等于 $\\gcd(6300, 1008)$。\n\n为了计算最大公约数，我们首先找出每个数的素因数分解。\n对于 $6300$：\n$$6300 = 63 \\times 100 = (9 \\times 7) \\times (10^2) = (3^2 \\times 7) \\times (2 \\times 5)^2 = 3^2 \\times 7 \\times 2^2 \\times 5^2$$\n所以，$6300$ 的素因数分解是 $2^2 \\times 3^2 \\times 5^2 \\times 7^1$。\n\n对于 $1008$：\n$$1008 = 2 \\times 504 = 2^2 \\times 252 = 2^3 \\times 126 = 2^4 \\times 63 = 2^4 \\times 9 \\times 7 = 2^4 \\times 3^2 \\times 7^1$$\n所以，$1008$ 的素因数分解是 $2^4 \\times 3^2 \\times 7^1$。\n\n现在，我们通过取每个公共素因数的最低次幂来求最大公约数：\n$$\\gcd(6300, 1008) = \\gcd(2^2 \\times 3^2 \\times 5^2 \\times 7^1, 2^4 \\times 3^2 \\times 7^1)$$\n公共素因数是 $2$、$3$ 和 $7$。\n$2$ 的最低次幂是 $\\min(2, 4) = 2$。\n$3$ 的最低次幂是 $\\min(2, 2) = 2$。\n$7$ 的最低次幂是 $\\min(1, 1) = 1$。\n素因数 $5$ 不是公共的，所以它在最大公约数中的次幂是 $0$。\n\n因此，\n$$\\gcd(6300, 1008) = 2^2 \\times 3^2 \\times 7^1 = 4 \\times 9 \\times 7 = 36 \\times 7 = 252$$\n\n满足同余式 $x^{6300} \\equiv 1 \\pmod{1009}$ 的剩余 $x$ 的数量是 $252$。", "answer": "$$\\boxed{252}$$", "id": "3085218"}]}