{"hands_on_practices": [{"introduction": "真正掌握一个新数学概念的最佳方式是亲自动手实践。第一个练习将引导你通过枚举法，手动计算整数分拆函数 $p(n)$ 的最初几个值 [@problem_id:3092748]。通过系统地列出小整数的所有分拆方式，你不仅能对分拆建立起基础直觉，还能锻炼组合枚举中的关键技能。", "problem": "一个非负整数 $n$ 的一个划分，是指将 $n$ 写成一串正整数之和且不考虑加数顺序的方式，令 $p(n)$ 表示这种划分的数量。我们约定 $p(0)=1$ 以计入空划分。仅使用此定义和第一性原理（即，基于无序和的直接枚举），完成以下任务：\n\n- 对于每一个 $n \\in \\{0,1,2,3,4,5\\}$，列出 $n$ 的所有划分，并对它们进行计数以计算 $p(n)$。\n- 通过一种有原则的分类方法（例如，按最大部分分层），简要证明你的列表是穷尽的。\n\n将你的最终结果以单行矩阵的形式报告，其中按顺序包含 $p(0),p(1),p(2),p(3),p(4),p(5)$ 的值。无需四舍五入，也无单位。最终答案必须是单个表达式。", "solution": "该问题被确定为有效的，因为它是在初等数论中一个适定的、自洽的、有科学依据的问题。我们基于第一性原理，即直接枚举，来求解。\n\n该问题要求计算非负整数 $n$ 的划分数 $p(n)$，其中 $n \\in \\{0, 1, 2, 3, 4, 5\\}$。$n$ 的一个划分是将其写成正整数之和的方式，其中加数的顺序无关紧要。为确保每个划分都有唯一的表示，我们采用标准约定，将划分的各部分按非递增顺序书写。\n\n为确保对于每个 $n > 0$ 的划分列表都是穷尽的，我们将通过按最大部分（我们用 $k$ 表示）进行分层来系统地构造它们。对于给定的 $n$，最大部分 $k$ 的取值范围可以从 $1$ 到 $n$。对于 $k$ 的每种选择，我们接着需要找到剩余和 $n-k$ 的划分，其约束条件是该子划分的所有部分都小于或等于 $k$。这种系统的、递归的方法保证了所有划分都只被生成一次。\n\n现在我们来计算每个所需 $n$ 值的 $p(n)$。\n\n对于 $n=0$：\n问题给出了约定 $p(0)=1$。这对应于空划分，它是将 $0$ 表示为正整数之和（一个有零个项的和）的唯一方式。\n因此，$p(0) = 1$。\n\n对于 $n=1$：\n唯一可能的最大部分是 $k=1$。剩余的和是 $1-1=0$。这给出了唯一的划分：\n- $1$\n因此，$p(1) = 1$。\n\n对于 $n=2$：\n我们按最大部分 $k$ 分层：\n- 如果 $k=2$：划分为 $2$。\n- 如果 $k=1$：划分必须是 $1$ 的和，即 $1+1$。\n$n=2$ 的完整划分列表是：$2$，$1+1$。\n因此，$p(2) = 2$。\n\n对于 $n=3$：\n我们按最大部分 $k$ 分层：\n- 如果 $k=3$：划分为 $3$。\n- 如果 $k=2$：剩余的和是 $3-2=1$。我们必须将 $1$ 划分成大小至多为 $2$ 的部分。唯一的此类划分是 $1$。这给出了划分 $2+1$。\n- 如果 $k=1$：划分必须是 $1$ 的和，即 $1+1+1$。\n$n=3$ 的完整划分列表是：$3$，$2+1$，$1+1+1$。\n因此，$p(3) = 3$。\n\n对于 $n=4$：\n我们按最大部分 $k$ 分层：\n- 如果 $k=4$：划分为 $4$。\n- 如果 $k=3$：剩余的和是 $4-3=1$。划分为 $3+1$。\n- 如果 $k=2$：剩余的和是 $4-2=2$。我们必须将 $2$ 划分成大小至多为 $2$ 的部分。根据为 $p(2)$ 确定的结果，这些划分是 $2$ 和 $1+1$。这给出了划分 $2+2$ 和 $2+1+1$。\n- 如果 $k=1$：划分必须是 $1$ 的和，即 $1+1+1+1$。\n$n=4$ 的完整划分列表是：$4$，$3+1$，$2+2$，$2+1+1$，$1+1+1+1$。\n因此，$p(4) = 5$。\n\n对于 $n=5$：\n我们按最大部分 $k$ 分层：\n- 如果 $k=5$：划分为 $5$。\n- 如果 $k=4$：剩余的和是 $5-4=1$。划分为 $4+1$。\n- 如果 $k=3$：剩余的和是 $5-3=2$。我们必须将 $2$ 划分成大小至多为 $3$ 的部分。这些划分是 $2$ 和 $1+1$。这给出了划分 $3+2$ 和 $3+1+1$。\n- 如果 $k=2$：剩余的和是 $5-2=3$。我们必须将 $3$ 划分成大小至多为 $2$ 的部分。根据我们对 $n=3$ 的分析，最大部分至多为 $2$ 的 $3$ 的划分是 $2+1$ 和 $1+1+1$。这给出了划分 $2+2+1$ 和 $2+1+1+1$。\n- 如果 $k=1$：划分必须是 $1$ 的和，即 $1+1+1+1+1$。\n$n=5$ 的完整划分列表是：$5$，$4+1$，$3+2$，$3+1+1$，$2+2+1$，$2+1+1+1$，$1+1+1+1+1$。\n因此，$p(5) = 7$。\n\n总之，计算出的值为：\n$p(0) = 1$\n$p(1) = 1$\n$p(2) = 2$\n$p(3) = 3$\n$p(4) = 5$\n$p(5) = 7$\n\n最终结果以包含这些值的单行矩阵的形式报告，并按顺序排列。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n1  1  2  3  5  7\n\\end{pmatrix}\n}\n$$", "id": "3092748"}, {"introduction": "在手动计数之后，我们转向一个更强大、更优雅的代数工具：生成函数。这个练习将引导你展开欧拉著名的乘积公式，揭示这个紧凑的表达式如何奇迹般地编码了整个整数分拆数列 [@problem_id:3092732]。这项实践在组合对象与形式幂级数的操作之间架起了一座桥梁，这是现代组合学的基石。", "problem": "设 $p(n)$ 表示非负整数 $n$ 的整数划分数，并约定 $p(0)=1$。一个由 Leonhard Euler 提出的经典恒等式给出了 $\\{p(n)\\}_{n \\geq 0}$ 的普通生成函数：\n$$\\sum_{n=0}^{\\infty} p(n) q^{n} \\;=\\; \\prod_{k=1}^{\\infty} \\frac{1}{1 - q^{k}}.$$\n从这个恒等式出发，仅使用每个因子的几何级数展开以及严格的次数截断论证，将右侧的无穷乘积展开到并包括 $q^{6}$ 次项，然后提取系数以确定 $p(0), p(1), p(2), p(3), p(4), p(5), p(6)$。请证明为什么只有有限个因子对截至6次的系数有贡献。将最终答案以单行矩阵的形式给出，按序列出 $p(0)$ 到 $p(6)$。不需要四舍五入，答案必须是精确值。", "solution": "此问题是有效的。这是一个在数论领域中提法恰当且有科学依据的问题，基于划分函数的生成函数的一个经典恒等式。所有必要信息都已提供，任务是执行一个标准的、尽管详细的计算。\n\n我们已知划分函数 $p(n)$ 的普通生成函数，它计算了将一个非负整数 $n$ 写成正整数之和的方式数：\n$$P(q) = \\sum_{n=0}^{\\infty} p(n) q^{n} = \\prod_{k=1}^{\\infty} \\frac{1}{1 - q^{k}}$$\n问题陈述了约定 $p(0)=1$，这与乘积表示是一致的，因为展开式的常数项（$q^0$ 的系数）是 $1$。\n\n我们的目标是确定 $n \\in \\{0, 1, 2, 3, 4, 5, 6\\}$ 时系数 $p(n)$ 的值。这需要将右侧的无穷乘积展开到 $q^6$ 次项。\n\n首先，我们将乘积中的每个因子展开为几何级数：\n$$\\frac{1}{1 - q^{k}} = 1 + q^{k} + q^{2k} + q^{3k} + \\dots = \\sum_{j=0}^{\\infty} (q^k)^j$$\n因此，无穷乘积可以写成：\n$$P(q) = \\left(\\sum_{j_1=0}^{\\infty} q^{j_1 \\cdot 1}\\right) \\left(\\sum_{j_2=0}^{\\infty} q^{j_2 \\cdot 2}\\right) \\left(\\sum_{j_3=0}^{\\infty} q^{j_3 \\cdot 3}\\right) \\dots$$\n$P(q)$ 展开式中的一个项 $q^n$ 是通过从每个因子中选择一项（比如说 $q^{j_k \\cdot k}$）并将它们相乘得到的，使得指数之和为 $n$：\n$$q^n = q^{j_1 \\cdot 1} q^{j_2 \\cdot 2} q^{j_3 \\cdot 3} \\dots = q^{\\sum_{k=1}^{\\infty} j_k k}$$\n这对应于划分 $n = \\underbrace{1+\\dots+1}_{j_1 \\text{ 个}} + \\underbrace{2+\\dots+2}_{j_2 \\text{ 个}} + \\dots$。\n\n为了找到截至6次的系数，我们需要计算模 $q^7$ 的级数展开。我们必须证明为什么可以截断这个无穷乘积。考虑一个因子 $\\frac{1}{1 - q^k}$，其中 $k > 6$。这个因子的展开式是 $1 + q^k + q^{2k} + \\dots$。由于任何非常数项的次数都至少为 $k > 6$，所以这个因子只能贡献其常数项 $1$ 给任何次数小于或等于 $6$ 的单项式。因此，所有 $k > 6$ 的因子都不影响 $n \\le 6$ 时 $q^n$ 的系数。\n形式上，我们在形式幂级数环 $\\mathbb{Z}[[q]]$ 中工作。计算是在模理想 $(q^7)$ 下进行的。我们有：\n$$P(q) \\equiv \\prod_{k=1}^{6} \\frac{1}{1 - q^{k}} \\pmod{q^7}$$\n我们一步步展开这个截断的乘积。\n\n设 $P_m(q) = \\prod_{k=1}^{m} \\frac{1}{1-q^k}$。我们将迭代计算这个乘积直到 $m=6$，在每一步都舍去次数为7或更高的项。\n\n对于 $m=1$：\n$$P_1(q) = \\frac{1}{1-q} \\equiv 1 + q + q^2 + q^3 + q^4 + q^5 + q^6 \\pmod{q^7}$$\n\n对于 $m=2$：\n$$P_2(q) = P_1(q) \\cdot \\frac{1}{1-q^2} \\equiv (1 + q + q^2 + q^3 + q^4 + q^5 + q^6)(1+q^2+q^4+q^6) \\pmod{q^7}$$\n$$P_2(q) \\equiv (1 + q + q^2 + q^3 + q^4 + q^5 + q^6) + q^2(1 + q + q^2 + q^3 + q^4) + q^4(1 + q + q^2) + q^6(1) \\pmod{q^7}$$\n$$P_2(q) \\equiv (1 + q + q^2 + q^3 + q^4 + q^5 + q^6) + (q^2 + q^3 + q^4 + q^5 + q^6) + (q^4 + q^5 + q^6) + q^6 \\pmod{q^7}$$\n按次数合并同类项：\n$$P_2(q) \\equiv 1 + q + (1+1)q^2 + (1+1)q^3 + (1+1+1)q^4 + (1+1+1)q^5 + (1+1+1+1)q^6 \\pmod{q^7}$$\n$$P_2(q) \\equiv 1 + q + 2q^2 + 2q^3 + 3q^4 + 3q^5 + 4q^6 \\pmod{q^7}$$\n\n对于 $m=3$：\n$$P_3(q) = P_2(q) \\cdot \\frac{1}{1-q^3} \\equiv (1 + q + 2q^2 + 2q^3 + 3q^4 + 3q^5 + 4q^6)(1+q^3+q^6) \\pmod{q^7}$$\n$$P_3(q) \\equiv (1 + q + 2q^2 + 2q^3 + 3q^4 + 3q^5 + 4q^6) + q^3(1 + q + 2q^2 + 2q^3) + q^6(1) \\pmod{q^7}$$\n$$P_3(q) \\equiv (1 + q + 2q^2 + 2q^3 + 3q^4 + 3q^5 + 4q^6) + (q^3 + q^4 + 2q^5 + 2q^6) + q^6 \\pmod{q^7}$$\n$$P_3(q) \\equiv 1 + q + 2q^2 + (2+1)q^3 + (3+1)q^4 + (3+2)q^5 + (4+2+1)q^6 \\pmod{q^7}$$\n$$P_3(q) \\equiv 1 + q + 2q^2 + 3q^3 + 4q^4 + 5q^5 + 7q^6 \\pmod{q^7}$$\n\n对于 $m=4$：\n$$P_4(q) = P_3(q) \\cdot \\frac{1}{1-q^4} \\equiv (1 + q + 2q^2 + 3q^3 + 4q^4 + 5q^5 + 7q^6)(1+q^4) \\pmod{q^7}$$\n$$P_4(q) \\equiv (1 + q + 2q^2 + 3q^3 + 4q^4 + 5q^5 + 7q^6) + q^4(1 + q + 2q^2) \\pmod{q^7}$$\n$$P_4(q) \\equiv (1 + q + 2q^2 + 3q^3 + 4q^4 + 5q^5 + 7q^6) + (q^4 + q^5 + 2q^6) \\pmod{q^7}$$\n$$P_4(q) \\equiv 1 + q + 2q^2 + 3q^3 + (4+1)q^4 + (5+1)q^5 + (7+2)q^6 \\pmod{q^7}$$\n$$P_4(q) \\equiv 1 + q + 2q^2 + 3q^3 + 5q^4 + 6q^5 + 9q^6 \\pmod{q^7}$$\n\n对于 $m=5$：\n$$P_5(q) = P_4(q) \\cdot \\frac{1}{1-q^5} \\equiv (1 + q + 2q^2 + 3q^3 + 5q^4 + 6q^5 + 9q^6)(1+q^5) \\pmod{q^7}$$\n$$P_5(q) \\equiv (1 + q + 2q^2 + 3q^3 + 5q^4 + 6q^5 + 9q^6) + q^5(1+q) \\pmod{q^7}$$\n$$P_5(q) \\equiv (1 + q + 2q^2 + 3q^3 + 5q^4 + 6q^5 + 9q^6) + (q^5 + q^6) \\pmod{q^7}$$\n$$P_5(q) \\equiv 1 + q + 2q^2 + 3q^3 + 5q^4 + (6+1)q^5 + (9+1)q^6 \\pmod{q^7}$$\n$$P_5(q) \\equiv 1 + q + 2q^2 + 3q^3 + 5q^4 + 7q^5 + 10q^6 \\pmod{q^7}$$\n\n对于 $m=6$：\n$$P_6(q) = P_5(q) \\cdot \\frac{1}{1-q^6} \\equiv (1 + q + 2q^2 + 3q^3 + 5q^4 + 7q^5 + 10q^6)(1+q^6) \\pmod{q^7}$$\n$$P_6(q) \\equiv (1 + q + 2q^2 + 3q^3 + 5q^4 + 7q^5 + 10q^6) + q^6(1) \\pmod{q^7}$$\n$$P_6(q) \\equiv 1 + q + 2q^2 + 3q^3 + 5q^4 + 7q^5 + (10+1)q^6 \\pmod{q^7}$$\n$$P_6(q) \\equiv 1 + q + 2q^2 + 3q^3 + 5q^4 + 7q^5 + 11q^6 \\pmod{q^7}$$\n\n由于 $k>6$ 的因子对次数为6或更低的项没有贡献，这就是所求的展开式。\n$$\\sum_{n=0}^{6} p(n) q^n = 1 + 1q + 2q^2 + 3q^3 + 5q^4 + 7q^5 + 11q^6$$\n通过比较两边 $q^n$ 的系数，我们提取出 $p(n)$ 的值：\n$p(0) = 1$ (这与给定的约定相符)\n$p(1) = 1$\n$p(2) = 2$\n$p(3) = 3$\n$p(4) = 5$\n$p(5) = 7$\n$p(6) = 11$\n最终答案是这些值的有序列表。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n1  1  2  3  5  7  11\n\\end{pmatrix}\n}\n$$", "id": "3092732"}, {"introduction": "除了代数公式，视觉化表示也能提供深刻的洞见。本练习将介绍一种简单而深刻的图形化方法——费勒斯图（Ferrers diagram），并探索其优雅的共轭变换概念 [@problem_id:3092756]。通过执行这种几何变换，你将发现并证明一个优美的隐藏对称性，体会到视觉化论证可以和纯代数论证一样严谨有力。", "problem": "设 $n$ 是一个正整数，$n$ 的一个划分是一个有限的非递增正整数序列，其和为 $n$。一个划分的费勒图是一个左对齐的方格阵列，其第 $i$ 行的长度等于第 $i$ 个部分。一个划分的共轭划分是通过转置其费勒图（即交换行和列）得到的。\n\n仅使用这些定义，首先解释为什么共轭操作是在“$n$ 的部分数至多为 $k$ 的划分”集合与“$n$ 的最大部分至多为 $k$ 的划分”集合之间的一个双射。然后，对于 $n=8$ 和 $k=3$ 的情况，通过对部分数进行系统的分类讨论来枚举所有部分数至多为 $3$ 的 $8$ 的划分，并使用费勒图共轭来验证这类划分的数量等于最大部分至多为 $3$ 的 $8$ 的划分数量。这个共同的数量是多少？请以一个单独的整数形式给出你的最终答案，不带任何额外的文字或单位。", "solution": "我们从定义开始。$n$ 的一个划分 $\\lambda$ 是一个序列 $\\lambda=(\\lambda_{1},\\lambda_{2},\\dots,\\lambda_{\\ell})$，满足 $\\lambda_{1}\\geq \\lambda_{2}\\geq \\cdots \\geq \\lambda_{\\ell}\\geq 1$ 且 $\\sum_{i=1}^{\\ell}\\lambda_{i}=n$。其费勒图是一个左对齐的方格阵列，第 $i$ 行有 $\\lambda_{i}$ 个方格。共轭划分 $\\lambda^{\\prime}$ 是通过转置费勒图定义的：$\\lambda^{\\prime}$ 的第 $j$ 行的方格数等于 $\\lambda$ 的费勒图的第 $j$ 列的方格数。\n\n从这个构造中，直接可以得出两个关键性质：\n- $\\lambda$ 的部分数等于其非空行的数量，即其长度 $\\ell(\\lambda)$。转置后，$\\lambda^{\\prime}$ 的非空行数等于 $\\lambda$ 的非空列数，而后者正是 $\\lambda$ 的最大部分的大小，即 $\\lambda_{1}$。\n- 类似地，$\\lambda^{\\prime}$ 的最大部分等于 $\\lambda$ 的非空行数，即 $\\ell(\\lambda)$。\n\n因此，共轭操作是一个双射，它将“部分数”这一统计量与“最大部分”这一统计量相互交换。特别地，对于任意固定的 $k$，共轭操作在“$n$ 的部分数至多为 $k$ 的划分”（即 $\\ell(\\lambda)\\leq k$）与“$n$ 的最大部分至多为 $k$ 的划分”（即 $\\lambda_{1}\\leq k$）之间建立了一个双射。\n\n现在设 $n=8$ 且 $k=3$。我们通过按部分数分组来枚举部分数至多为 $3$ 的 $8$ 的划分。\n\n- 恰好有 $1$ 个部分：\n  - $8$。\n\n- 恰好有 $2$ 个部分（和为 $8$ 的非递增数对）：\n  - $7+1$, $6+2$, $5+3$, $4+4$。\n\n- 恰好有 $3$ 个部分（和为 $8$ 的非递增三元组）：\n  - $6+1+1$, $5+2+1$, $4+3+1$, $4+2+2$, $3+3+2$。\n\n对这些进行计数，部分数至多为 $3$ 的 $8$ 的划分共有 $1+4+5=10$ 个。\n\n根据上述双射，这些划分的共轭划分恰好是最大部分至多为 $3$ 的 $8$ 的划分，因此这类划分也必然有 $10$ 个。\n\n为了完整起见，我们也可以直接验证“最大部分至多为 $3$”这一边的计数。这样的一个划分由非负整数 $(a,b,c)$ 决定，它们分别表示等于 $3$、$2$ 和 $1$ 的部分数量，并满足\n$$3a+2b+c=8.$$\n我们来计算满足 $a,b,c\\in\\mathbb{Z}_{\\ge 0}$ 的解 $(a,b,c)$ 的数量：\n- 当 $a=0$ 时：$2b\\le 8$，所以 $b=0,1,2,3,4$；这得到 $5$ 个解，其中 $c=8-2b$。\n- 当 $a=1$ 时：$2b\\le 5$，所以 $b=0,1,2$；这得到 $3$ 个解，其中 $c=5-2b$。\n- 当 $a=2$ 时：$2b\\le 2$，所以 $b=0,1$；这得到 $2$ 个解，其中 $c=2-2b$。\n- 当 $a\\ge 3$ 时：无解。\n\n总共有 $5+3+2=10$ 个解，这证实了基于双射的计数。\n\n因此，“部分数至多为 $3$ 的 $8$ 的划分”和“最大部分至多为 $3$ 的 $8$ 的划分”的共同数量是 $10$。", "answer": "$$\\boxed{10}$$", "id": "3092756"}]}