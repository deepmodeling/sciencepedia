{"hands_on_practices": [{"introduction": "并非所有在集合上定义的关系都是等价关系。一个关系必须满足自反性、对称性和传递性这三个严格的公理。本练习 [@problem_id:1550899] 提供了一个具体而直观的场景——图论中的路径距离——来检验我们对这些基本定义的理解。它揭示了一个重要的教训：即使一个关系看起来很“合理”，也必须经过严格的验证，特别是传递性，因为它往往是最容易出错的属性。", "problem": "考虑一个简单无权图 $G=(V, E)$，其中 $V$ 是顶点集，$E$ 是边集。对于属于同一连通分量的任意两个顶点 $u, v \\in V$，令 $d(u, v)$ 表示它们之间的最短路径距离，定义为连接 $u$ 和 $v$ 的路径中的最小边数。按照惯例，任何顶点到其自身的距离为零，即 $d(u, u) = 0$。\n\n在顶点集 $V$ 上定义一个关系 $\\sim$。我们称 $u \\sim v$ 当且仅当 $u$ 和 $v$ 在同一个连通分量中，且它们之间的最短路径距离 $d(u,v)$ 是一个偶数。\n\n回顾一下，一个关系成为等价关系需要满足的三个性质：\n1.  **自反性：** 对于任意 $v \\in V$，都有 $v \\sim v$。\n2.  **对称性：** 对于任意 $u, v \\in V$，如果 $u \\sim v$，则 $v \\sim u$。\n3.  **传递性：** 对于任意 $u, v, w \\in V$，如果 $u \\sim v$ 且 $v \\sim w$，则 $u \\sim w$。\n\n对于任何简单无权图 $G$ 上的关系 $\\sim$，以下哪个陈述是正确的？\n\nA. 关系 $\\sim$ 总是等价关系。\n\nB. 关系 $\\sim$ 总是自反和对称的，但并不总是传递的。\n\nC. 关系 $\\sim$ 总是自反和传递的，但并不总是对称的。\n\nD. 关系 $\\sim$ 总是对称和传递的，但并不总是自反的。\n\nE. 关系 $\\sim$ 不保证具有自反性、对称性或传递性中的任何一种。", "solution": "我们来验证由“$u \\sim v$ 当且仅当 $u$ 和 $v$ 位于 $G$ 的同一连通分量中，且 $d(u,v)$ 为偶数”所定义的关系 $\\sim$ 的每个性质。\n\n自反性：对于任意 $v \\in V$，我们有 $d(v,v)=0$，这是一个偶数，且 $v$ 与其自身在同一个连通分量中。因此 $v \\sim v$。所以，关系 $\\sim$ 是自反的。\n\n对称性：对于无向图中的任意 $u,v \\in V$，$d(u,v)=d(v,u)$。此外，“在同一个连通分量中”这个条件也是对称的。因此，如果 $u \\sim v$，则 $v \\sim u$。所以，关系 $\\sim$ 是对称的。\n\n传递性：这个性质通常不成立。给出一个反例：设 $G$ 是一个包含五个顶点 $\\{x_{0},x_{1},x_{2},x_{3},x_{4}\\}$ 的环，其边为 $\\{x_{i},x_{i+1}\\}$，其中 $i$ 对 $5$ 取模。那么\n$$\nd(x_{0},x_{2})=2,\\quad d(x_{2},x_{4})=2,\\quad d(x_{0},x_{4})=1.\n$$\n因此 $x_{0} \\sim x_{2}$ 且 $x_{2} \\sim x_{4}$，但 $x_{0} \\not\\sim x_{4}$。所以，关系 $\\sim$ 并不总是传递的。\n\n结论：关系 $\\sim$ 总是自反和对称的，但并不总是传递的。正确选项是 B。", "answer": "$$\\boxed{B}$$", "id": "1550899"}, {"introduction": "一旦我们确认一个关系是等价关系，一个很自然的问题就是：它将集合划分成了多少个不同的等价类？这个问题 [@problem_id:1550897] 引导我们掌握一种计算等价类数量的通用策略。通过将整数基于它们与固定数 $n$ 的最大公约数 (GCD) 进行分类，我们发现等价类的数量恰好等于 $n$ 的正因子的数量。这个练习将抽象的划分概念与具体的数论计算联系起来，展示了等价关系在构建新数学结构中的力量。", "problem": "考虑所有整数的集合 $\\mathbb{Z}$。对于一个固定的正整数 $n > 1$，在 $\\mathbb{Z}$ 上定义一个关系 $\\sim$ 如下：对于任意两个整数 $a$ 和 $b$，我们称 $a \\sim b$ 当且仅当 $a$ 与 $n$ 的最大公约数 (GCD) 等于 $b$ 与 $n$ 的最大公约数。即，$a \\sim b \\iff \\gcd(a, n) = \\gcd(b, n)$。此关系是一个等价关系，它将集合 $\\mathbb{Z}$ 划分成不相交的等价类。\n\n在 $n = 60$ 的特定情况下，确定不同等价类的总数。", "solution": "根据定义，两个整数 $a$ 和 $b$ 是等价的，当且仅当 $\\gcd(a,n)=\\gcd(b,n)$。因此，任意整数 $a$ 的等价类完全由单个值 $d=\\gcd(a,n)$ 决定。\n\n对于任意整数 $a$，$\\gcd(a,n)$ 是 $n$ 的一个正因数，因此每个等价类都对应于 $n$ 的某个正因数 $d$。反之，对于 $n$ 的任意正因数 $d$，取 $a=d$ 可得 $\\gcd(d,n)=d$，所以 $n$ 的每个正因数实际上都会作为一个类的标记出现。因此，等价类与 $n$ 的正因数一一对应，所以类的总数等于 $n$ 的正因数个数。\n\n对于 $n=60$，通过素因数分解计算其正因数的个数\n$$\n60=2^{2}\\cdot 3^{1}\\cdot 5^{1}.\n$$\n如果 $n=\\prod p_{i}^{\\alpha_{i}}$，那么正因数的个数为 $\\prod (\\alpha_{i}+1)$。因此\n$$\n\\tau(60)=(2+1)(1+1)(1+1)=3\\cdot 2\\cdot 2=12.\n$$\n因此，对于 $n=60$ 有 $12$ 个不同的等价类。", "answer": "$$\\boxed{12}$$", "id": "1550897"}, {"introduction": "等价类的概念起初可能显得有些抽象，但它们往往具有非常直观的几何解释。本练习 [@problem_id:1550903] 将我们带入熟悉的欧几里得平面 $\\mathbb{R}^2$，并展示了如何根据到原点的不同距离度量（欧几里得距离与出租车距离）来可视化等价类。这些等价类分别呈现为圆形和方形，将抽象的集合论概念转化为具体的几何图形。通过求解这两个不同等价类的交集，您将有机会融合几何直觉与代数技巧，从而更深刻地理解等价关系。", "problem": "设 $S = \\mathbb{R}^2$ 是笛卡尔平面中的点集。我们在集合 $S$ 上定义两种不同的等价关系，$\\sim_E$ 和 $\\sim_T$。\n\n对于 $S$ 中的任意两点 $p_1 = (x_1, y_1)$ 和 $p_2 = (x_2, y_2)$：\n1.  欧几里得关系 $\\sim_E$ 定义为 $p_1 \\sim_E p_2$ 当且仅当这两点到原点 $(0,0)$ 的欧几里得距离相等。欧几里得距离由公式 $d_E(p, O) = \\sqrt{x^2 + y^2}$ 给出，其中 $p=(x,y)$ 且 $O=(0,0)$。因此，$p_1 \\sim_E p_2 \\iff d_E(p_1, O) = d_E(p_2, O)$。\n2.  出租车关系 $\\sim_T$ 定义为 $p_1 \\sim_T p_2$ 当且仅当这两点到原点 $(0,0)$ 的出租车距离相等。出租车距离由公式 $d_T(p, O) = |x| + |y|$ 给出。因此，$p_1 \\sim_T p_2 \\iff d_T(p_1, O) = d_T(p_2, O)$。\n\n对于 $S$ 上的一个等价关系 $R$，令 $[p]_R$ 表示点 $p \\in S$ 的等价类。\n\n考虑特定点 $P_0 = (3, 4)$。确定在欧几里得关系下 $P_0$ 的等价类与在出租车关系下 $P_0$ 的等价类的交集中的点的数量。换句话说，求集合 $[P_0]_{\\sim_E} \\cap [P_0]_{\\sim_T}$ 的基数。", "solution": "$P_{0}=(3,4)$ 的欧几里得等价类是以原点为中心、半径为 $d_{E}(P_{0},O)$ 的圆，因此\n$$\n[P_{0}]_{\\sim_{E}}=\\{(x,y)\\in \\mathbb{R}^{2}:x^{2}+y^{2}=3^{2}+4^{2}=25\\}。\n$$\n$P_{0}$ 的出租车等价类是经过 $P_{0}$ 的 $|x|+|y|$ 的水平集，因此\n$$\n[P_{0}]_{\\sim_{T}}=\\{(x,y)\\in \\mathbb{R}^{2}:|x|+|y|=|3|+|4|=7\\}。\n$$\n因此，交集 $[P_{0}]_{\\sim_{E}}\\cap [P_{0}]_{\\sim_{T}}$ 是以下方程组的解集：\n$$\nx^{2}+y^{2}=25,\\qquad |x|+|y|=7.\n$$\n按象限处理绝对值。\n\n第一象限（$x\\geq 0$, $y\\geq 0$）：$x+y=7$。将 $y=7-x$ 代入 $x^{2}+y^{2}=25$：\n$$\nx^{2}+(7-x)^{2}=25\\;\\Rightarrow\\;2x^{2}-14x+24=0\\;\\Rightarrow\\;x^{2}-7x+12=0\\;\\Rightarrow\\;(x-3)(x-4)=0.\n$$\n因此 $x\\in\\{3,4\\}$，对应的 $y=7-x\\in\\{4,3\\}$，得到两个解。\n\n第二象限（$x\\leq 0$, $y\\geq 0$）：$-x+y=7$。将 $y=7+x$ 代入：\n$$\nx^{2}+(7+x)^{2}=25\\;\\Rightarrow\\;2x^{2}+14x+24=0\\;\\Rightarrow\\;x^{2}+7x+12=0\\;\\Rightarrow\\;(x+3)(x+4)=0.\n$$\n因此 $x\\in\\{-3,-4\\}$，对应的 $y=7+x\\in\\{4,3\\}$，得到两个解。\n\n第三象限（$x\\leq 0$, $y\\leq 0$）：$-x-y=7$。将 $y=-7-x$ 代入：\n$$\nx^{2}+(-7-x)^{2}=25\\;\\Rightarrow\\;2x^{2}+14x+24=0\\;\\Rightarrow\\;(x+3)(x+4)=0.\n$$\n因此 $x\\in\\{-3,-4\\}$，对应的 $y=-7-x\\in\\{-4,-3\\}$，得到两个解。\n\n第四象限（$x\\geq 0$, $y\\leq 0$）：$x-y=7$。将 $y=x-7$ 代入：\n$$\nx^{2}+(x-7)^{2}=25\\;\\Rightarrow\\;2x^{2}-14x+24=0\\;\\Rightarrow\\;(x-3)(x-4)=0.\n$$\n因此 $x\\in\\{3,4\\}$，对应的 $y=x-7\\in\\{-4,-3\\}$，得到两个解。\n\n所有解都满足其所在象限的符号约束，且四种情况互不相交。因此，总共有 $2+2+2+2=8$ 个交点。\n\n因此，集合 $[P_{0}]_{\\sim_{E}}\\cap [P_{0}]_{\\sim_{T}}$ 的基数是 $8$。", "answer": "$$\\boxed{8}$$", "id": "1550903"}]}