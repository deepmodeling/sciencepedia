{"hands_on_practices": [{"introduction": "这个练习将我们带入组合学原理的一个基本应用：计算具有特定构成的序列的概率。通过分析一个简化的数字通信模型，你将练习使用多项式系数来计算对象被分配到多个不同类别的情况下的排列数量。这项技能是解决统计力学、遗传学和质量控制等领域问题的基础。[@problem_id:1905149]", "problem": "在一个简化的数字通信系统模型中，传输一个由$N$个数据包组成的序列。每个数据包可以独立地处于$S$个不同状态中的一个，标记为 $1, 2, \\ldots, S$。对于任何给定的数据包，这$S$个状态中的每一个都是等可能的。\n\n我们指定两个特定状态：‘状态 A’（状态 1）和‘状态 B’（状态 2）。在一个随机传输的包含$N$个数据包的序列中，恰好有$k_A$个数据包处于状态 A，且恰好有$k_B$个数据包处于状态 B 的概率是多少？其中 $k_A$ 和 $k_B$ 是非负整数，满足 $k_A + k_B \\le N$。\n\n请用一个关于 $N$、$S$、$k_A$ 和 $k_B$ 的封闭形式解析表达式给出你的答案。", "solution": "该问题要求计算一个由$N$个数据包组成的序列中特定构成的概率，其中每个数据包可以独立地处于$S$个等可能状态中的一个。这是一个经典的组合概率问题。解决方案可以通过计算有利结果数与所有可能结果总数的比率来找到。\n\n首先，我们来确定所有可能结果的总数。该序列由$N$个数据包组成。这$N$个数据包中的每一个都可以处于$S$个状态中的任意一个。由于每个数据包的状态是独立的，样本空间 $|\\Omega|$ 中所有可能序列的总数可以使用乘法原理计算得出：\n$$ |\\Omega| = S \\times S \\times \\dots \\times S \\text{ (N times)} = S^N $$\n\n接下来，我们需要计算有利结果的数量，我们将其表示为 $|E|$。一个有利结果是指一个序列，其中恰好包含$k_A$个处于状态 A 的数据包，恰好$k_B$个处于状态 B 的数据包，因此还剩 $N - k_A - k_B$ 个数据包处于任何其他状态。我们可以通过以下步骤构建这样的序列：\n\n1.  **为状态 A 选择位置：** 我们需要从序列中$N$个可用位置中为处于状态 A 的数据包选择$k_A$个位置。完成此操作的方法数由二项式系数 $\\binom{N}{k_A}$ 给出。\n$$ \\binom{N}{k_A} = \\frac{N!}{k_A!(N-k_A)!} $$\n\n2.  **为状态 B 选择位置：** 放置了$k_A$个数据包后，还剩下 $N - k_A$ 个位置。我们需要从这些剩余位置中为处于状态 B 的数据包选择$k_B$个位置。完成此操作的方法数是 $\\binom{N-k_A}{k_B}$。\n$$ \\binom{N-k_A}{k_B} = \\frac{(N-k_A)!}{k_B!(N-k_A-k_B)!} $$\n\n3.  **为剩余位置分配状态：** 还剩下 $N - k_A - k_B$ 个位置。这些位置上的数据包不能处于状态 A 或状态 B。对于其中的每一个剩余数据包，都有 $S-2$ 个其他状态可用。由于有 $N - k_A - k_B$ 个这样的位置，且每个位置的选择是独立的，因此为这些剩余数据包分配状态的方法数是 $(S-2)^{N - k_A - k_B}$。\n\n根据乘法原理，有利序列的总数 $|E|$ 是执行每个步骤的方法数的乘积：\n$$ |E| = \\binom{N}{k_A} \\binom{N-k_A}{k_B} (S-2)^{N - k_A - k_B} $$\n让我们简化二项式系数的乘积：\n$$ \\binom{N}{k_A} \\binom{N-k_A}{k_B} = \\frac{N!}{k_A!(N-k_A)!} \\times \\frac{(N-k_A)!}{k_B!(N-k_A-k_B)!} = \\frac{N!}{k_A!k_B!(N-k_A-k_B)!} $$\n这是多项式系数 $\\binom{N}{k_A, k_B, N-k_A-k_B}$，它计算了将$N$个项目分成大小分别为 $k_A$、$k_B$ 和 $N-k_A-k_B$ 的三个不同组的方法数。\n\n因此，有利结果的总数是：\n$$ |E| = \\frac{N!}{k_A!k_B!(N-k_A-k_B)!} (S-2)^{N - k_A - k_B} $$\n\n最后，概率 $P(E)$ 是有利结果数与总结果数的比率：\n$$ P(E) = \\frac{|E|}{|\\Omega|} = \\frac{\\frac{N!}{k_A!k_B!(N-k_A-k_B)!} (S-2)^{N - k_A - k_B}}{S^N} $$\n\n这可以写成最终的表达式。", "answer": "$$\\boxed{\\frac{N!}{k_A! k_B! (N - k_A - k_B)!} \\frac{(S-2)^{N - k_A - k_B}}{S^N}}$$", "id": "1905149"}, {"introduction": "这个问题通过一个常见的场景——个人识别码（PIN）——来探讨一个精妙而强大的组合思想。虽然“严格递增”的数字条件意味着顺序，但计算这些可能性的最有效方法是首先忽略顺序。这个练习揭示了如何将问题转化为组合而非排列的角度，从而得到更简洁、直接的解答。[@problem_id:1905135]", "problem": "一家金融服务公司使用一个4位数的个人识别码（PIN）来验证交易。PIN的每一位数字都是从集合 $\\{0, 1, 2, \\dots, 9\\}$ 中选取的整数，并且是有放回地选取，这意味着数字可以重复。如果一个PIN的前两位数字构成一个严格递增序列，且其后两位数字也构成一个严格递增序列，则该PIN被认为具有“成对递增”结构。例如，PIN码3714是有效的，因为 $3 < 7$ 且 $1 < 4$，而3125则不是。一个随机生成的4位数PIN具有成对递增结构的概率是多少？请将您的答案表示为最简精确分数。", "solution": "设PIN的各位数字为 $(d_{1}, d_{2}, d_{3}, d_{4})$，每一位都独立地从 $\\{0,1,2,\\dots,9\\}$ 中选取。所有可能的PIN的总数为\n$$\n10^{4}\n$$。\n成对递增结构要求 $d_{1}<d_{2}$ 且 $d_{3}<d_{4}$。满足 $a,b\\in\\{0,1,\\dots,9\\}$ 和 $a<b$ 的严格递增有序对 $(a,b)$ 的数量，等于从一个10元素集合中选取2个元素的子集的数量，即\n$$\n\\binom{10}{2}\n$$。\n由于前两位数字和后两位数字是独立选择的，因此满足条件的PIN的数量为\n$$\n\\binom{10}{2}^{2}\n$$。\n因此，所求的概率为\n$$\n\\frac{\\binom{10}{2}^{2}}{10^{4}}=\\frac{\\left(\\frac{10\\cdot 9}{2}\\right)^{2}}{10^{4}}=\\frac{10^{2}\\cdot 9^{2}}{2^{2}\\cdot 10^{4}}=\\frac{9^{2}}{2^{2}\\cdot 10^{2}}=\\frac{81}{400}\n$$。\n因此，一个随机生成的4位数PIN具有成对递增结构的概率是 $\\frac{81}{400}$。", "answer": "$$\\boxed{\\frac{81}{400}}$$", "id": "1905135"}, {"introduction": "我们最后的练习挑战你转变分析视角，这是概率论中高级问题求解的关键技能。乍一看，判断两个随机集合的并集是否覆盖整个空间似乎需要复杂的计数。然而，当我们不再将集合视为一个整体，而是考虑每个独立元素的概率时，一个更为强大的解决方案便浮现出来。这个练习展示了将一个庞大复杂的问题分解为若干个更小、独立部分的优美之处。[@problem_id:1905089]", "problem": "一个高安全性的研究设施由 $n$ 个不同的安全检查点保护，编号从 1 到 $n$。该设施的安保由两个独立的计算机系统管理，即 System Alpha 和 System Beta。\n\n激活后，System Alpha 会布防这 $n$ 个检查点的一个子集。类似地，System Beta 也会布防其自己的检查点子集。对于每个系统，布防 $2^n$ 个可能的子集中的任何一个的概率都是均等的。System Alpha 和 System Beta 所做的选择在统计上是独立的。\n\n当且仅当这 $n$ 个检查点中的每一个都至少被两个系统之一布防时，该设施被认为是“完全运行的”。如果两个系统同时激活，该设施进入完全运行状态的概率是多少？你的答案应该是一个关于 $n$ 的表达式。", "solution": "设检查点集合为 $[n]=\\{1,2,\\dots,n\\}$。System Alpha 随机选择一个子集 $A\\subseteq[n]$，System Beta 随机选择一个子集 $B\\subseteq[n]$，两者在 $2^n$ 个子集中独立且均匀地进行选择。\n\n当且仅当 $A\\cup B=[n]$ 时，设施是完全运行的。对于每个检查点 $i\\in[n]$，定义事件 $E_{i}$ 为检查点 $i$ 被至少一个系统布防，即 $i\\in A\\cup B$。\n\n对于一个固定的 $i$，$i$ 是否被包含在 $A$ 中和是否被包含在 $B$ 中是参数为 $\\frac{1}{2}$ 的独立伯努利事件。因此，\n$$\n\\mathbb{P}(E_{i})=1-\\mathbb{P}(i\\notin A\\text{ 且 }i\\notin B)=1-\\left(\\frac{1}{2}\\right)\\left(\\frac{1}{2}\\right)=\\frac{3}{4}\n$$。\n对于不同的检查点 $i$，包含指示符对 $\\big(\\mathbf{1}_{\\{i\\in A\\}},\\mathbf{1}_{\\{i\\in B\\}}\\big)$ 是独立的，因为每个系统都独立地选择每个元素，且两个系统相互独立。因此，事件 $E_{1},\\dots,E_{n}$ 是独立的，所有检查点都被布防的概率是\n$$\n\\mathbb{P}\\left(\\bigcap_{i=1}^{n}E_{i}\\right)=\\prod_{i=1}^{n}\\mathbb{P}(E_{i})=\\left(\\frac{3}{4}\\right)^{n}\n$$。\n\n等价地，通过计数：共有 $4^{n}$ 种等可能的配对 $(A,B)$。对于一个固定的子集 $S\\subseteq[n]$，满足 $S\\subseteq([n]\\setminus A)\\cap([n]\\setminus B)$ 的配对数量为 $4^{n-|S|}$。根据容斥原理，满足 $A\\cup B=[n]$ 的配对数量为\n$$\n\\sum_{S\\subseteq[n]}(-1)^{|S|}4^{n-|S|}=4^{n}\\sum_{k=0}^{n}\\binom{n}{k}\\left(-\\frac{1}{4}\\right)^{k}=4^{n}\\left(1-\\frac{1}{4}\\right)^{n}=3^{n}\n$$，\n所以所求概率为 $\\frac{3^{n}}{4^{n}}=\\left(\\frac{3}{4}\\right)^{n}$。", "answer": "$$\\boxed{\\left(\\frac{3}{4}\\right)^{n}}$$", "id": "1905089"}]}