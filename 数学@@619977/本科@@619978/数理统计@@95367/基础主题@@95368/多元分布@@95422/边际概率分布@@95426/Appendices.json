{"hands_on_practices": [{"introduction": "在处理任何联合概率分布时，首要任务是验证其有效性，即确保其在整个定义域上的积分为1。这个练习将引导你完成这个基本步骤——归一化，并在此基础上计算一个核心统计量，即期望值。通过这个过程 [@problem_id:1932521]，你将掌握处理联合概率密度函数（PDF）的基本计算流程。", "problem": "考虑两个连续随机变量 $X$ 和 $Y$，其相互作用由一个联合概率密度函数（PDF）描述，给定为 $f(x, y) = c(x^{2} + y)$。该函数定义在方形区域 $0 \\le x \\le 1$ 和 $0 \\le y \\le 1$ 上，而在其他地方 $f(x, y) = 0$。这里，$c$ 是一个归一化常数。\n\n你的任务是计算随机变量 $X$ 的期望值，记作 $\\mathbb{E}[X]$。将你的答案表示为最简分数形式。", "solution": "我们首先通过强制概率密度在其支撑集上的积分为 $1$来确定归一化常数 $c$。支撑集是方形区域 $\\{(x,y): 0 \\leq x \\leq 1, 0 \\leq y \\leq 1\\}$。因此，\n$$\n\\int_{0}^{1}\\int_{0}^{1} f(x,y)\\,dy\\,dx \\;=\\; \\int_{0}^{1}\\int_{0}^{1} c\\left(x^{2}+y\\right)\\,dy\\,dx \\;=\\; 1.\n$$\n计算关于 $y$ 的内层积分：\n$$\n\\int_{0}^{1} \\left(x^{2}+y\\right)\\,dy \\;=\\; x^{2}\\int_{0}^{1} dy + \\int_{0}^{1} y\\,dy \\;=\\; x^{2}\\cdot 1 + \\frac{1}{2} \\;=\\; x^{2} + \\frac{1}{2}.\n$$\n现在对 $x$ 积分：\n$$\n\\int_{0}^{1} \\left(x^{2} + \\frac{1}{2}\\right)\\,dx \\;=\\; \\left[\\frac{x^{3}}{3} + \\frac{x}{2}\\right]_{0}^{1} \\;=\\; \\frac{1}{3} + \\frac{1}{2} \\;=\\; \\frac{5}{6}.\n$$\n因此，\n$$\nc \\cdot \\frac{5}{6} \\;=\\; 1 \\;\\;\\Rightarrow\\;\\; c \\;=\\; \\frac{6}{5}.\n$$\n\n$X$ 的期望值定义为\n$$\n\\mathbb{E}[X] \\;=\\; \\int_{0}^{1}\\int_{0}^{1} x\\, f(x,y)\\,dy\\,dx \\;=\\; \\int_{0}^{1}\\int_{0}^{1} x \\cdot c\\left(x^{2}+y\\right)\\,dy\\,dx \\;=\\; c \\int_{0}^{1}\\int_{0}^{1} \\left(x^{3} + x y\\right)\\,dy\\,dx.\n$$\n计算关于 $y$ 的内层积分：\n$$\n\\int_{0}^{1} \\left(x^{3} + x y\\right)\\,dy \\;=\\; x^{3}\\int_{0}^{1} dy + x \\int_{0}^{1} y\\,dy \\;=\\; x^{3}\\cdot 1 + x \\cdot \\frac{1}{2} \\;=\\; x^{3} + \\frac{x}{2}.\n$$\n现在对 $x$ 积分：\n$$\n\\int_{0}^{1} \\left(x^{3} + \\frac{x}{2}\\right)\\,dx \\;=\\; \\left[\\frac{x^{4}}{4} + \\frac{x^{2}}{4}\\right]_{0}^{1} \\;=\\; \\frac{1}{4} + \\frac{1}{4} \\;=\\; \\frac{1}{2}.\n$$\n所以，\n$$\n\\mathbb{E}[X] \\;=\\; c \\cdot \\frac{1}{2} \\;=\\; \\frac{6}{5} \\cdot \\frac{1}{2} \\;=\\; \\frac{3}{5}.\n$$", "answer": "$$\\boxed{\\frac{3}{5}}$$", "id": "1932521"}, {"introduction": "现实世界中的概率问题往往涉及比简单矩形更复杂的几何区域。这个练习将挑战你处理一个三角形区域上的均匀分布，这要求你仔细地确定积分的边界。这个过程 [@problem_id:1932559] 将强化你从联合分布中推导边缘分布的关键技能，并利用它来计算方差 $\\operatorname{Var}(Y)$，这是衡量随机变量离散程度的重要指标。", "problem": "一个坐标为 $(X, Y)$ 的点从由顶点为 $(0,0)$、$(2,0)$ 和 $(1,1)$ 的三角形所围成的区域中均匀随机地选取。随机变量 $X$ 和 $Y$ 表示所选点的坐标。\n\n计算随机变量 $Y$ 的方差，记为 $\\operatorname{Var}(Y)$。", "solution": "该区域是顶点为 $(0,0)$、$(2,0)$ 和 $(1,1)$ 的三角形。其面积为\n$$\nA=\\frac{1}{2}\\times 2\\times 1=1.\n$$\n对于此三角形上的均匀分布，其联合密度函数在三角形区域内为 $f_{X,Y}(x,y)=\\frac{1}{A}=1$，在区域外为 $0$。\n\n对于一个固定的 $y$ 且 $0\\leq y\\leq 1$，该三角形的水平切片从左边界（沿从 $(0,0)$ 到 $(1,1)$ 的直线，其方程为 $x=y$）延伸到右边界（沿从 $(2,0)$ 到 $(1,1)$ 的直线，其方程为 $x=2-y$）。因此，$Y$ 的边缘密度函数为\n$$\nf_{Y}(y)=\\int_{x=y}^{2-y} 1\\,dx=(2-y)-y=2-2y,\\quad 0\\leq y\\leq 1,\n$$\n其它情况下 $f_{Y}(y)=0$。\n\n计算 $Y$ 的一阶矩和二阶矩：\n$$\n\\mathbb{E}[Y]=\\int_{0}^{1} y\\,f_{Y}(y)\\,dy=\\int_{0}^{1} y(2-2y)\\,dy=2\\int_{0}^{1} y\\,dy-2\\int_{0}^{1} y^{2}\\,dy.\n$$\n计算积分：\n$$\n\\int_{0}^{1} y\\,dy=\\left.\\frac{y^{2}}{2}\\right|_{0}^{1}=\\frac{1}{2},\\quad \\int_{0}^{1} y^{2}\\,dy=\\left.\\frac{y^{3}}{3}\\right|_{0}^{1}=\\frac{1}{3}.\n$$\n因此，\n$$\n\\mathbb{E}[Y]=2\\cdot \\frac{1}{2}-2\\cdot \\frac{1}{3}=1-\\frac{2}{3}=\\frac{1}{3}.\n$$\n接下来，\n$$\n\\mathbb{E}[Y^{2}]=\\int_{0}^{1} y^{2}\\,f_{Y}(y)\\,dy=\\int_{0}^{1} y^{2}(2-2y)\\,dy=2\\int_{0}^{1} y^{2}\\,dy-2\\int_{0}^{1} y^{3}\\,dy.\n$$\n计算积分：\n$$\n\\int_{0}^{1} y^{2}\\,dy=\\frac{1}{3},\\quad \\int_{0}^{1} y^{3}\\,dy=\\left.\\frac{y^{4}}{4}\\right|_{0}^{1}=\\frac{1}{4}.\n$$\n因此，\n$$\n\\mathbb{E}[Y^{2}]=2\\cdot \\frac{1}{3}-2\\cdot \\frac{1}{4}=\\frac{2}{3}-\\frac{1}{2}=\\frac{1}{6}.\n$$\n根据方差公式 $\\operatorname{Var}(Y)=\\mathbb{E}[Y^{2}]-(\\mathbb{E}[Y])^{2}$，我们得到\n$$\n\\operatorname{Var}(Y)=\\frac{1}{6}-\\left(\\frac{1}{3}\\right)^{2}=\\frac{1}{6}-\\frac{1}{9}=\\frac{1}{18}.\n$$", "answer": "$$\\boxed{\\frac{1}{18}}$$", "id": "1932559"}, {"introduction": "本章的最后一个练习将我们从直接积分计算提升到一个更具概念性的层面。该问题 [@problem_id:1932526] 引入了一个常见于现实模型的场景：一个随机变量的参数本身是另一个随机变量。你将学习并应用一个强大的工具——全方差公式（Law of Total Variance），它展示了如何通过对不确定性进行“平均”来计算无条件方差，从而将边缘化的思想与更普适的条件期望联系起来。", "problem": "在一个半导体制造过程中，单个芯片上的缺陷数量 $X$ 被发现服从泊松分布。然而，平均缺陷率 $\\Lambda$ 在不同生产批次之间不是恒定的，它本身就是一个随机变量。已经确定 $\\Lambda$ 服从指数分布。\n\n设在给定特定缺陷率 $\\lambda$ 的条件下，$X$ 的条件概率质量函数 (PMF) 为：\n$$P(X=k | \\Lambda=\\lambda) = \\frac{\\exp(-\\lambda) \\lambda^k}{k!}, \\quad \\text{for } k=0, 1, 2, \\dots$$\n随机变量 $\\Lambda$ 的概率密度函数 (PDF) 由下式给出：\n$$f_{\\Lambda}(\\lambda) = \\beta \\exp(-\\beta \\lambda), \\quad \\text{for } \\lambda > 0$$\n其中 $\\beta$ 是一个正常数，用于参数化缺陷率的可变性。\n\n你的任务是确定缺陷数量的无条件方差 $\\operatorname{Var}(X)$。请用参数 $\\beta$ 的解析表达式表示你的答案。", "solution": "令 $X|\\Lambda=\\lambda$ 服从均值为 $\\lambda$ 的泊松分布，因此条件均值和条件方差为\n$$\n\\mathbb{E}[X|\\Lambda=\\lambda]=\\lambda, \\quad \\operatorname{Var}(X|\\Lambda=\\lambda)=\\lambda.\n$$\n无条件方差可通过全方差公式获得：\n$$\n\\operatorname{Var}(X)=\\mathbb{E}\\!\\left[\\operatorname{Var}(X|\\Lambda)\\right]+\\operatorname{Var}\\!\\left(\\mathbb{E}[X|\\Lambda]\\right).\n$$\n代入泊松分布的条件矩，得到\n$$\n\\operatorname{Var}(X)=\\mathbb{E}[\\Lambda]+\\operatorname{Var}(\\Lambda).\n$$\n\n现在计算当 $\\Lambda$ 具有指数密度 $f_{\\Lambda}(\\lambda)=\\beta \\exp(-\\beta \\lambda)$（$\\lambda>0$）时的前两阶矩。\n\n一阶矩：\n$$\n\\mathbb{E}[\\Lambda]=\\int_{0}^{\\infty}\\lambda\\,\\beta \\exp(-\\beta \\lambda)\\,d\\lambda.\n$$\n令 $t=\\beta \\lambda$，则 $d\\lambda=dt/\\beta$ 且 $\\lambda=t/\\beta$。那么\n$$\n\\mathbb{E}[\\Lambda]=\\beta \\int_{0}^{\\infty}\\frac{t}{\\beta}\\exp(-t)\\frac{dt}{\\beta}=\\frac{1}{\\beta}\\int_{0}^{\\infty}t\\exp(-t)\\,dt=\\frac{\\Gamma(2)}{\\beta}=\\frac{1}{\\beta}.\n$$\n\n二阶矩：\n$$\n\\mathbb{E}[\\Lambda^{2}]=\\int_{0}^{\\infty}\\lambda^{2}\\,\\beta \\exp(-\\beta \\lambda)\\,d\\lambda.\n$$\n使用同样的代换 $t=\\beta \\lambda$，\n$$\n\\mathbb{E}[\\Lambda^{2}]=\\beta \\int_{0}^{\\infty}\\left(\\frac{t}{\\beta}\\right)^{2}\\exp(-t)\\frac{dt}{\\beta}=\\frac{1}{\\beta^{2}}\\int_{0}^{\\infty}t^{2}\\exp(-t)\\,dt=\\frac{\\Gamma(3)}{\\beta^{2}}=\\frac{2}{\\beta^{2}}.\n$$\n因此，\n$$\n\\operatorname{Var}(\\Lambda)=\\mathbb{E}[\\Lambda^{2}]-(\\mathbb{E}[\\Lambda])^{2}=\\frac{2}{\\beta^{2}}-\\left(\\frac{1}{\\beta}\\right)^{2}=\\frac{1}{\\beta^{2}}.\n$$\n\n代入全方差表达式可得\n$$\n\\operatorname{Var}(X)=\\mathbb{E}[\\Lambda]+\\operatorname{Var}(\\Lambda)=\\frac{1}{\\beta}+\\frac{1}{\\beta^{2}}.\n$$", "answer": "$$\\boxed{\\frac{1}{\\beta}+\\frac{1}{\\beta^{2}}}$$", "id": "1932526"}]}