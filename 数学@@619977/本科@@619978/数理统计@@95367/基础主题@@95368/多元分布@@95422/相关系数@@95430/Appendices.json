{"hands_on_practices": [{"introduction": "本练习旨在通过一个基于离散随机变量的简单思想实验，来巩固相关系数的计算基础。通过分析掷骰子这一熟悉场景中定义的两个指标变量，你将直接应用期望 $\\mathbb{E}[X]$、方差 $\\text{Var}(X)$ 和协方差 $\\text{Cov}(X,Y)$ 的定义来推导皮尔逊相关系数 $\\rho(X, Y)$。这个基本练习是掌握相关性概念并将其应用于更复杂问题的关键第一步。[@problem_id:3537]", "problem": "考虑一个随机试验，即投掷一个公平的六面骰子一次。设投掷的结果为随机变量 $S$，它可以取 $1$ 到 $6$ 的整数值，且取每个值的概率相等。\n\n基于结果 $S$ 定义了两个新的随机变量 $X$ 和 $Y$：\n-   随机变量 $X$ 是一个指示变量，定义为：\n    $$\n    X = \\begin{cases} 1 & \\text{如果 } S \\le 3 \\\\ 0 & \\text{如果 } S > 3 \\end{cases}\n    $$\n-   随机变量 $Y$ 也是一个指示变量，定义为：\n    $$\n    Y = \\begin{cases} 1 & \\text{如果 } S \\text{ 是偶数} \\\\ 0 & \\text{如果 } S \\text{ 是奇数} \\end{cases}\n    $$\n\n你的任务是推导随机变量 $X$ 和 $Y$ 之间的 Pearson 相关系数 $\\rho(X, Y)$。", "solution": "我们有 $S$ 在 $\\{1,2,3,4,5,6\\}$ 上服从均匀分布，因此对于 $i=1,\\dots,6$，$P(S=i)=\\tfrac16$。定义指示变量\n$$X=I_{\\{S\\le3\\}},\\qquad Y=I_{\\{\\text{$S$ 是偶数}\\}}.$$\n\n1. 计算 $\\mathbb{E}[X]$ 和 $\\text{Var}(X)$。  \n   由于当 $S\\in\\{1,2,3\\}$ 时有 $X=1$，\n   $$P(X=1)=\\frac3{6}=\\frac12,\\quad P(X=0)=\\frac12,$$\n   所以\n   $$\\mathbb{E}[X]=1\\cdot\\frac12+0\\cdot\\frac12=\\frac12,$$\n   $$\\text{Var}(X)=\\mathbb{E}[X^2]-\\mathbb{E}[X]^2=\\mathbb{E}[X]-\\mathbb{E}[X]^2\n     =\\frac12-\\Bigl(\\frac12\\Bigr)^2\n     =\\frac12-\\frac14\n     =\\frac14.$$\n\n2. 计算 $\\mathbb{E}[Y]$ 和 $\\text{Var}(Y)$。  \n   由于当 $S\\in\\{2,4,6\\}$ 时有 $Y=1$，\n   $$P(Y=1)=\\frac3{6}=\\frac12,\\quad P(Y=0)=\\frac12,$$\n   所以\n   $$\\mathbb{E}[Y]=\\frac12,\\quad\n     \\text{Var}(Y)=\\frac12-\\Bigl(\\frac12\\Bigr)^2\n     =\\frac14.$$\n\n3. 计算 $\\mathbb{E}[XY]$。  \n   当且仅当 $S\\le3$ 且 $S$ 是偶数时，即 $S=2$ 时，我们有 $XY=1$。因此\n   $$P(XY=1)=P(S=2)=\\frac16,\\quad P(XY=0)=\\frac56,$$\n   $$\\mathbb{E}[XY]=1\\cdot\\frac16+0\\cdot\\frac56=\\frac16.$$\n\n4. 计算协方差：\n   $$\\text{Cov}(X,Y)=\\mathbb{E}[XY]-\\mathbb{E}[X]\\mathbb{E}[Y]\n     =\\frac16-\\frac12\\cdot\\frac12\n     =\\frac16-\\frac14\n     =-\\frac1{12}.$$\n\n5. 最后，Pearson 相关系数为\n   $$\\rho(X,Y)\n     =\\frac{\\text{Cov}(X,Y)}{\\sqrt{\\text{Var}(X)\\,\\text{Var}(Y)}}\n     =\\frac{-\\frac1{12}}{\\sqrt{\\frac14\\cdot\\frac14}}\n     =\\frac{-\\frac1{12}}{\\frac14}\n     =-\\frac13.$$", "answer": "$$\\boxed{-\\frac{1}{3}}$$", "id": "3537"}, {"introduction": "相关系数是衡量线性关系的指标，一个常见的误解是认为零相关就意味着两个变量之间没有关系。本练习通过一个精心设计的思想实验来挑战这一误解，其中一个变量是另一个变量的确定性非线性函数。通过证明它们的样本皮尔逊相关系数为零，你将深刻理解到相关性不等于依赖性，并认识到在解释相关系数时保持批判性思维的重要性。[@problem_id:3526]", "problem": "考虑一个由三个点 $(x_1, y_1)$、$(x_2, y_2)$ 和 $(x_3, y_3)$ 组成的数据集。$x$ 坐标为 $x_1 = -a$、$x_2 = 0$ 和 $x_3 = a$，其中 $a$ 是一个非零实常数。$y$ 坐标由二次关系 $y_i = kx_i^2 + c$ 确定，其中 $k$ 和 $c$ 是非零实常数。\n\n样本 Pearson 相关系数 $r$ 是衡量两组数据之间线性相关性的一个度量。其定义为：\n$$\nr = \\frac{\\sum_{i=1}^n (x_i - \\bar{x})(y_i - \\bar{y})}{\\sqrt{\\sum_{i=1}^n (x_i - \\bar{x})^2} \\sqrt{\\sum_{i=1}^n (y_i - \\bar{y})^2}}\n$$\n其中 $\\bar{x}$ 是 $x_i$ 值的均值，$\\bar{y}$ 是 $y_i$ 值的均值。\n\n给定此数据集，其中 $y$ 是 $x$ 的一个确定性的非线性函数，请推导样本 Pearson 相关系数 $r$ 的值。", "solution": "首先，计算均值 $\\bar{x}$ 和 $\\bar{y}$。我们有\n$$\\bar{x} = \\frac{-a + 0 + a}{3} = 0,$$\n$$\\bar{y} = \\frac{(k a^2 + c) + c + (k a^2 + c)}{3} = \\frac{2 k a^2 + 3 c}{3} = \\frac{2}{3} k a^2 + c.$$\n\n接着，计算离差 $x_i - \\bar{x}$ 和 $y_i - \\bar{y}$。由于 $\\bar{x}=0$，所以 $x_i - \\bar{x} = x_i$。我们得到\n$$y_1 - \\bar{y} = k a^2 + c - \\Bigl(\\frac{2}{3} k a^2 + c\\Bigr) = \\frac{1}{3} k a^2,$$\n$$y_2 - \\bar{y} = c - \\Bigl(\\frac{2}{3} k a^2 + c\\Bigr) = -\\frac{2}{3} k a^2,$$\n$$y_3 - \\bar{y} = k a^2 + c - \\Bigl(\\frac{2}{3} k a^2 + c\\Bigr) = \\frac{1}{3} k a^2.$$\n\n$r$ 的分子是\n$$\\sum_{i=1}^3 (x_i - \\bar{x})(y_i - \\bar{y})\n= (-a)\\frac{1}{3}k a^2 + 0\\cdot\\Bigl(-\\frac{2}{3}k a^2\\Bigr)\n+ a\\frac{1}{3}k a^2\n= -\\frac{1}{3}k a^3 + \\frac{1}{3}k a^3 = 0.$$\n\n分母不为零，因为\n$$\\sum_{i=1}^3 (x_i - \\bar{x})^2 = a^2 + 0 + a^2 = 2a^2,$$\n$$\\sum_{i=1}^3 (y_i - \\bar{y})^2\n= 2\\Bigl(\\frac{1}{3}k a^2\\Bigr)^2 + \\Bigl(-\\frac{2}{3}k a^2\\Bigr)^2\n= \\frac{6}{9}k^2 a^4 = \\frac{2}{3}k^2 a^4.$$\n因此，样本 Pearson 相关系数为\n$$r = 0.$$", "answer": "$$\\boxed{0}$$", "id": "3526"}, {"introduction": "在现实世界的数据分析中，离群值（outliers）可能会极大地扭曲统计结果，相关系数也不例外。本练习模拟了一个常见的数据分析场景：一个原本具有完美线性关系的数据集被单个离群点“污染”。通过计算并比较离群点添加前后的相关系数，你将亲身体验到皮尔逊相关系数对极端值的敏感性，并理解在进行相关性分析前进行数据可视化的必要性。[@problem_id:1911174]", "problem": "一位统计学家正在分析两个相关的二元数据集。\n数据集 A 包含以下四个 $(x, y)$ 数据对：$(1, 5), (2, 7), (3, 9), (4, 11)$。\n数据集 B 是通过向数据集 A 中添加一个额外的数据点 $(10, 0)$ 而创建的。\n\n对于一个包含 $n$ 个数据对 $(x_i, y_i)$ 的数据集，其样本相关系数 $r$ 由以下公式给出：\n$$ r = \\frac{n \\sum_{i=1}^{n} x_i y_i - (\\sum_{i=1}^{n} x_i)(\\sum_{i=1}^{n} y_i)}{\\sqrt{[n \\sum_{i=1}^{n} x_i^2 - (\\sum_{i=1}^{n} x_i)^2][n \\sum_{i=1}^{n} y_i^2 - (\\sum_{i=1}^{n} y_i)^2]}} $$\n\n设 $r_A$ 为数据集 A 的样本相关系数，$r_B$ 为数据集 B 的样本相关系数。计算相关系数的变化量 $\\Delta r = r_B - r_A$。\n\n将您的最终答案四舍五入至三位有效数字。", "solution": "问题要求计算两个数据集之间样本相关系数的变化量 $\\Delta r = r_B - r_A$。我们将首先计算数据集 A 的相关系数 $r_A$，然后计算数据集 B 的相关系数 $r_B$。\n\n**步骤 1：计算数据集 A 的相关系数 $r_A$。**\n数据集 A 为 $\\{(1, 5), (2, 7), (3, 9), (4, 11)\\}$。数据点的数量为 $n_A = 4$。\n我们首先需要计算必要的各项总和：\n$$ \\sum x_i = 1 + 2 + 3 + 4 = 10 $$\n$$ \\sum y_i = 5 + 7 + 9 + 11 = 32 $$\n$$ \\sum x_i^2 = 1^2 + 2^2 + 3^2 + 4^2 = 1 + 4 + 9 + 16 = 30 $$\n$$ \\sum y_i^2 = 5^2 + 7^2 + 9^2 + 11^2 = 25 + 49 + 81 + 121 = 276 $$\n$$ \\sum x_i y_i = (1)(5) + (2)(7) + (3)(9) + (4)(11) = 5 + 14 + 27 + 44 = 90 $$\n\n现在，我们将这些总和代入样本相关系数 $r_A$ 的公式中：\n$$ r_A = \\frac{n_A \\sum x_i y_i - (\\sum x_i)(\\sum y_i)}{\\sqrt{[n_A \\sum x_i^2 - (\\sum x_i)^2][n_A \\sum y_i^2 - (\\sum y_i)^2]}} $$\n$$ r_A = \\frac{4(90) - (10)(32)}{\\sqrt{[4(30) - (10)^2][4(276) - (32)^2]}} $$\n$$ r_A = \\frac{360 - 320}{\\sqrt{[120 - 100][1104 - 1024]}} $$\n$$ r_A = \\frac{40}{\\sqrt{[20][80]}} $$\n$$ r_A = \\frac{40}{\\sqrt{1600}} = \\frac{40}{40} = 1 $$\n所以，数据集 A 的相关系数为 $r_A = 1$。这是符合预期的，因为数据集 A 中的点完全位于直线 $y=2x+3$ 上。\n\n**步骤 2：计算数据集 B 的相关系数 $r_B$。**\n数据集 B 为 $\\{(1, 5), (2, 7), (3, 9), (4, 11), (10, 0)\\}$。数据点的数量为 $n_B = 5$。\n我们可以通过将新数据点 $(10, 0)$ 的贡献加到数据集 A 的各项总和上，来计算新的总和：\n$$ \\sum x_i = 10 + 10 = 20 $$\n$$ \\sum y_i = 32 + 0 = 32 $$\n$$ \\sum x_i^2 = 30 + 10^2 = 30 + 100 = 130 $$\n$$ \\sum y_i^2 = 276 + 0^2 = 276 $$\n$$ \\sum x_i y_i = 90 + (10)(0) = 90 $$\n\n现在，将这些新的总和代入 $r_B$ 的公式中：\n$$ r_B = \\frac{n_B \\sum x_i y_i - (\\sum x_i)(\\sum y_i)}{\\sqrt{[n_B \\sum x_i^2 - (\\sum x_i)^2][n_B \\sum y_i^2 - (\\sum y_i)^2]}} $$\n$$ r_B = \\frac{5(90) - (20)(32)}{\\sqrt{[5(130) - (20)^2][5(276) - (32)^2]}} $$\n$$ r_B = \\frac{450 - 640}{\\sqrt{[650 - 400][1380 - 1024]}} $$\n$$ r_B = \\frac{-190}{\\sqrt{[250][356]}} $$\n$$ r_B = \\frac{-190}{\\sqrt{89000}} \\approx \\frac{-190}{298.328677...} \\approx -0.636901... $$\n\n**步骤 3：计算变化量 $\\Delta r = r_B - r_A$。**\n使用我们找到的 $r_A$ 和 $r_B$ 的值：\n$$ \\Delta r = r_B - r_A \\approx -0.636901... - 1 $$\n$$ \\Delta r \\approx -1.636901... $$\n\n**步骤 4：四舍五入最终答案。**\n问题要求将最终答案四舍五入至三位有效数字。\n$$ \\Delta r \\approx -1.64 $$", "answer": "$$\\boxed{-1.64}$$", "id": "1911174"}]}