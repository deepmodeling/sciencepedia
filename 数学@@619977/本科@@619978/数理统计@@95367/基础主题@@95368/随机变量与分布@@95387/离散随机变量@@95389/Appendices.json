{"hands_on_practices": [{"introduction": "本练习将从一个基础但至关重要的概念——方差——入手。我们将通过一个简化的数字传感器模型，来探讨一个随机变量的变异性。这个练习旨在帮助你理解如何将一个简单的“开/关”过程（伯努利试验）模型化，并计算其输出信号的方差，这会让你切实体会到线性变换对随机变量方差的影响。[@problem_id:1365287]", "problem": "一个数字传感器的简化模型被用来检测在固定时间间隔内是否存在特定的亚原子粒子。该传感器有两个输出信号电平。如果没有检测到粒子，它输出一个基线信号电平 $S_0$。如果检测到一个或多个粒子（被视为单个“检测事件”），它输出一个升高的信号电平 $S_1$。在任何给定的时间间隔内发生检测事件的概率是 $p$。令随机变量 $V$ 表示探测器在随机选择的时间间隔内输出的信号电平。\n\n确定随机变量 $V$ 的方差。将你的答案表示为关于 $p$、$S_0$ 和 $S_1$ 的符号表达式。", "solution": "令 $V$ 为表示探测器信号电平的随机变量。题目说明 $V$ 可以取两个可能的值：$S_0$（未检测到）和 $S_1$（检测到）。与这些值相关的概率如下：\n$P(V = S_1) = p$\n$P(V = S_0) = 1-p$\n\n为了求 $V$ 的方差，我们可以使用公式 $\\operatorname{Var}(V) = \\mathbb{E}[V^2] - (\\mathbb{E}[V])^2$。\n\n首先，我们计算 $V$ 的期望值（均值），记为 $\\mathbb{E}[V]$：\n$$\\mathbb{E}[V] = \\sum_{v} v \\cdot P(V=v)$$\n$$\\mathbb{E}[V] = S_1 \\cdot P(V=S_1) + S_0 \\cdot P(V=S_0)$$\n$$\\mathbb{E}[V] = S_1 p + S_0(1-p)$$\n\n接下来，我们计算 $V^2$ 的期望值，记为 $\\mathbb{E}[V^2]$：\n$$\\mathbb{E}[V^2] = \\sum_{v} v^2 \\cdot P(V=v)$$\n$$\\mathbb{E}[V^2] = S_1^2 \\cdot P(V=S_1) + S_0^2 \\cdot P(V=S_0)$$\n$$\\mathbb{E}[V^2] = S_1^2 p + S_0^2(1-p)$$\n\n现在，我们将这些表达式代入方差公式：\n$$\\operatorname{Var}(V) = \\mathbb{E}[V^2] - (\\mathbb{E}[V])^2$$\n$$\\operatorname{Var}(V) = (S_1^2 p + S_0^2(1-p)) - (S_1 p + S_0(1-p))^2$$\n\n让我们展开平方项：\n$$(S_1 p + S_0(1-p))^2 = (S_1 p)^2 + 2(S_1 p)(S_0(1-p)) + (S_0(1-p))^2$$\n$$= S_1^2 p^2 + 2 S_0 S_1 p(1-p) + S_0^2 (1-p)^2$$\n$$= S_1^2 p^2 + 2 S_0 S_1 (p-p^2) + S_0^2 (1-2p+p^2)$$\n$$= S_1^2 p^2 + 2 S_0 S_1 p - 2 S_0 S_1 p^2 + S_0^2 - 2 S_0^2 p + S_0^2 p^2$$\n\n现在，将这个展开式代回方差方程：\n$$\\operatorname{Var}(V) = (S_1^2 p + S_0^2 - S_0^2 p) - (S_1^2 p^2 + 2 S_0 S_1 p - 2 S_0 S_1 p^2 - S_0^2 + 2 S_0^2 p - S_0^2 p^2)$$\n$$\\operatorname{Var}(V) = S_1^2 p + S_0^2 - S_0^2 p - S_1^2 p^2 - 2 S_0 S_1 p + 2 S_0 S_1 p^2 - S_0^2 + 2 S_0^2 p - S_0^2 p^2$$\n\n我们可以消去 $S_0^2$ 项。现在，让我们根据 $p$ 的幂来组合余下的项：\n$$\\operatorname{Var}(V) = (S_1^2 - S_0^2 - 2 S_0 S_1 + 2 S_0^2)p + (-S_1^2 + 2 S_0 S_1 - S_0^2)p^2$$\n$$\\operatorname{Var}(V) = (S_1^2 - 2S_0 S_1 + S_0^2)p - (S_1^2 - 2S_0 S_1 + S_0^2)p^2$$\n\n识别出公因式 $(S_1^2 - 2S_0 S_1 + S_0^2) = (S_1 - S_0)^2$：\n$$\\operatorname{Var}(V) = (S_1 - S_0)^2 p - (S_1 - S_0)^2 p^2$$\n\n提出公因式 $(S_1 - S_0)^2$：\n$$\\operatorname{Var}(V) = (S_1 - S_0)^2 (p - p^2)$$\n$$\\operatorname{Var}(V) = (S_1 - S_0)^2 p(1-p)$$\n\n另外，我们可以使用伯努利随机变量来为检测事件建模。令 $X$ 为一个随机变量，当发生检测事件时 $X=1$，未发生检测时 $X=0$。那么 $X \\sim \\text{Bernoulli}(p)$。信号电平 $V$ 可以表示为 $X$ 的线性变换：\n$$V = S_0 (1-X) + S_1 X = S_0 + (S_1 - S_0)X$$\n使用方差的性质 $\\operatorname{Var}(aX+b) = a^2 \\operatorname{Var}(X)$，其中 $a = S_1 - S_0$ 且 $b=S_0$：\n$$\\operatorname{Var}(V) = \\operatorname{Var}(S_0 + (S_1 - S_0)X) = (S_1 - S_0)^2 \\operatorname{Var}(X)$$\n参数为 $p$ 的伯努利随机变量 $X$ 的方差已知为 $\\operatorname{Var}(X) = p(1-p)$。\n证明如下：$\\mathbb{E}[X] = 1 \\cdot p + 0 \\cdot (1-p) = p$。$\\mathbb{E}[X^2] = 1^2 \\cdot p + 0^2 \\cdot (1-p) = p$。因此，$\\operatorname{Var}(X) = \\mathbb{E}[X^2] - (\\mathbb{E}[X])^2 = p - p^2 = p(1-p)$。\n将此结果代入我们关于 $\\operatorname{Var}(V)$ 的方程中：\n$$\\operatorname{Var}(V) = (S_1 - S_0)^2 p(1-p)$$\n两种方法得到相同的结果。", "answer": "$$\\boxed{(S_1 - S_0)^{2} p(1-p)}$$", "id": "1365287"}, {"introduction": "在理解了单个变量的方差之后，我们进一步探讨多个随机变量之间的关系。本练习将引导你计算两个组合信号之间的协方差，但不是通过繁琐的直接求和，而是巧妙地运用协方差的线性性质。通过这个练习，你将学会一种更高效、更具洞察力的方法来分析随机变量的组合。[@problem_id:1365306]", "problem": "在一个简化的数字控制系统模型中，生成了两个独立的随机整数信号 $X_1$ 和 $X_2$。\n\n第一个信号 $X_1$ 可以从集合 $\\{1, 2, 3\\}$ 中取值。这些结果的概率由 $P(X_1=1) = \\frac{1}{2}$，$P(X_1=2) = \\frac{1}{3}$ 和 $P(X_1=3) = \\frac{1}{6}$ 给出。\n\n第二个信号 $X_2$ 由一个等同于掷一个标准的六面公平骰子的过程生成，所以它可以以相等的概率取从 $1$ 到 $6$ 的任何整数值。\n\n然后这两个信号被组合起来形成两个新的系统变量 $U$ 和 $V$，定义如下：\n$U = X_1 + X_2$\n$V = 2X_1 - X_2$\n\n假设 $X_1$ 和 $X_2$ 是统计独立的，计算协方差 $\\operatorname{Cov}(U, V)$。将你的答案表示为最简精确分数形式。", "solution": "我们使用协方差的双线性和对称性。当 $U=X_{1}+X_{2}$ 且 $V=2X_{1}-X_{2}$ 时，\n$$\n\\operatorname{Cov}(U,V)=\\operatorname{Cov}(X_{1}+X_{2},\\,2X_{1}-X_{2})=\\operatorname{Cov}(X_{1},2X_{1})+\\operatorname{Cov}(X_{1},-X_{2})+\\operatorname{Cov}(X_{2},2X_{1})+\\operatorname{Cov}(X_{2},-X_{2}).\n$$\n使用 $\\operatorname{Cov}(aX,bY)=ab\\,\\operatorname{Cov}(X,Y)$，$\\operatorname{Cov}(X,X)=\\operatorname{Var}(X)$，以及 $X_{1}$ 和 $X_{2}$ 的独立性（这给出了 $\\operatorname{Cov}(X_{1},X_{2})=0$），我们得到\n$$\n\\operatorname{Cov}(U,V)=2\\,\\operatorname{Var}(X_{1})-\\operatorname{Var}(X_{2}).\n$$\n\n计算 $\\operatorname{Var}(X_{1})$。首先，\n$$\n\\mathbb{E}[X_{1}]=1\\cdot \\frac{1}{2}+2\\cdot \\frac{1}{3}+3\\cdot \\frac{1}{6}=\\frac{1}{2}+\\frac{2}{3}+\\frac{1}{2}=\\frac{5}{3},\n$$\n$$\n\\mathbb{E}[X_{1}^{2}]=1^{2}\\cdot \\frac{1}{2}+2^{2}\\cdot \\frac{1}{3}+3^{2}\\cdot \\frac{1}{6}=\\frac{1}{2}+\\frac{4}{3}+\\frac{9}{6}=\\frac{10}{3}.\n$$\n因此，\n$$\n\\operatorname{Var}(X_{1})=\\mathbb{E}[X_{1}^{2}]-(\\mathbb{E}[X_{1}])^{2}=\\frac{10}{3}-\\left(\\frac{5}{3}\\right)^{2}=\\frac{10}{3}-\\frac{25}{9}=\\frac{5}{9}.\n$$\n\n计算 $\\operatorname{Var}(X_{2})$。由于 $X_{2}$ 在 $\\{1,2,3,4,5,6\\}$ 上是均匀分布的，\n$$\n\\mathbb{E}[X_{2}]=\\frac{1+2+3+4+5+6}{6}=\\frac{7}{2}, \\quad \\mathbb{E}[X_{2}^{2}]=\\frac{1^{2}+2^{2}+3^{2}+4^{2}+5^{2}+6^{2}}{6}=\\frac{91}{6}.\n$$\n因此，\n$$\n\\operatorname{Var}(X_{2})=\\mathbb{E}[X_{2}^{2}]-(\\mathbb{E}[X_{2}])^{2}=\\frac{91}{6}-\\left(\\frac{7}{2}\\right)^{2}=\\frac{91}{6}-\\frac{49}{4}=\\frac{35}{12}.\n$$\n\n代入协方差表达式中：\n$$\n\\operatorname{Cov}(U,V)=2\\cdot \\frac{5}{9}-\\frac{35}{12}=\\frac{10}{9}-\\frac{35}{12}=\\frac{40}{36}-\\frac{105}{36}=-\\frac{65}{36}.\n$$", "answer": "$$\\boxed{-\\frac{65}{36}}$$", "id": "1365306"}, {"introduction": "有些问题初看起来似乎需要复杂的组合数学计算，但实际上存在着更为优雅的解法。本练习将带你探究一个经典问题：在一次随机洗牌后，平均有多少个元素会留在其原始位置？你将学习使用“指示变量”和期望的线性性这一强大工具，它能将复杂问题分解为简单部分，并得出一个出人意料的简洁普适的结论。[@problem_id:1913525]", "problem": "一家软件开发公司创建了一款数据匿名化工具。其核心功能之一是随机打乱一个唯一用户标识符 (ID) 的列表。为了测试此功能，一位质量保证分析师取了一个包含8个不同用户ID的列表，我们可以将其标记为 $U_1, U_2, \\dots, U_8$。该软件应用一种打乱算法，生成这8个ID的一个排列，其中每种可能的排列出现的概率均等。如果一个ID在打乱后仍处于列表中的相同索引位置，则称其处于其“原始位置”（例如，如果ID $U_3$ 最终位于打乱后列表的第3个位置）。\n\n计算经过一次打乱后，预期有多少用户ID会保持在其原始位置。您的最终答案应为一个实数。", "solution": "令 $n=8$，并设该排列是从 $\\{U_{1},U_{2},\\dots,U_{n}\\}$ 的 $n!$ 种排列中均匀随机选择的。为不动点定义指示变量：对于每个 $k \\in \\{1,2,\\dots,n\\}$，\n$$\nI_{k}=\n\\begin{cases}\n1, & \\text{如果 } U_{k} \\text{ 在位置 } k \\text{ 上,}\\\\\n0, & \\text{否则}.\n\\end{cases}\n$$\n令 $X$ 表示处于其原始位置的用户ID总数。那么\n$$\nX=\\sum_{k=1}^{n} I_{k}.\n$$\n利用期望的线性性质（该性质不要求独立性），\n$$\n\\mathbb{E}[X]=\\sum_{k=1}^{n}\\mathbb{E}[I_{k}]=\\sum_{k=1}^{n}\\mathbb{P}(I_{k}=1).\n$$\n为了计算 $\\mathbb{P}(I_{k}=1)$，注意到将 $U_{k}$ 固定在位置 $k$ 上，剩下 $n-1$ 个ID的排列有 $(n-1)!$ 种，而总排列数有 $n!$ 种。因此\n$$\n\\mathbb{P}(I_{k}=1)=\\frac{(n-1)!}{n!}=\\frac{1}{n}.\n$$\n所以，\n$$\n\\mathbb{E}[X]=\\sum_{k=1}^{n}\\frac{1}{n}=1.\n$$\n代入 $n=8$，得到不动点的期望数量为 $1$。", "answer": "$$\\boxed{1}$$", "id": "1913525"}]}