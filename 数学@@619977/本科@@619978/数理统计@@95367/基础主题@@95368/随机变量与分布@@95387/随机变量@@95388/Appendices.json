{"hands_on_practices": [{"introduction": "许多概率问题乍看之下非常复杂，但通过巧妙的数学工具可以变得出人意料地简单。本练习 [@problem_id:1329488] 介绍了一种强大的技巧——指示随机变量，它能让我们轻松计算在随机排列中“不动点”的期望数量。通过将一个复杂事件分解为一系列简单的伯努利试验，你将亲身体会到期望线性性质 $E[\\sum X_i] = \\sum E[X_i]$ 的威力，即使在变量非独立的情况下它也同样适用。", "problem": "一个数据中心运行着 $N$ 台专用服务器，其中每台服务器都被指定运行 $N$ 个不同任务集合中的一个特定计算任务。在一次全系统重启期间，任务分配调度器发生故障。它将 $N$ 个任务完全随机地重新分配给 $N$ 台服务器。这次重新分配是一个排列，意味着每台服务器恰好接收一个任务，每个任务也恰好分配给一台服务器。所有 $N!$ 种可能的排列（分配）都是等可能的。\n\n被分配到其原始指定任务的服务器的期望数量是多少？请用 $N$ 的函数表示你的答案。", "solution": "设 $X$ 为接收到其正确指定任务的服务器总数的随机变量。我们需要求出 $X$ 的期望值，记为 $E[X]$。\n\n为了解决这个问题，我们可以将 $X$ 表示为一系列指示随机变量的和。我们为每台服务器 $i$ 定义一个指示随机变量 $X_i$，其中 $i$ 的范围从 $1$ 到 $N$。变量 $X_i$ 的定义如下：\n$$\nX_i = \\begin{cases} 1 & \\text{如果服务器 } i \\text{ 被分配了正确的任务} \\\\ 0 & \\text{否则} \\end{cases}\n$$\n被正确分配的服务器总数 $X$ 是这些单个指示变量的和，因为每个等于1的 $X_i$ 都为总数贡献了1。\n$$\nX = X_1 + X_2 + \\dots + X_N = \\sum_{i=1}^{N} X_i\n$$\n我们将使用的关键性质是期望的线性性。该性质指出，随机变量之和的期望值等于它们各自期望值的和。即使这些随机变量不是独立的，该性质也成立。\n$$\nE[X] = E\\left[\\sum_{i=1}^{N} X_i\\right] = \\sum_{i=1}^{N} E[X_i]\n$$\n现在，我们必须求出单个指示变量的期望值 $E[X_i]$。根据离散随机变量期望值的定义，$E[X_i]$ 的计算方法是每个可能值乘以其概率的总和：\n$$\nE[X_i] = (1) \\cdot P(X_i = 1) + (0) \\cdot P(X_i = 0) = P(X_i = 1)\n$$\n因此，问题简化为求任何给定服务器（比如服务器 $i$）被分配到其正确任务的概率。\n\n考虑服务器 $i$。有 $N$ 个不同的任务可以分配给它。由于分配是完全随机的，这 $N$ 个任务中的任何一个被分配给服务器 $i$ 的概率都是相等的。在这些任务中，只有一个是服务器 $i$ 的正确任务。\n因此，服务器 $i$ 被分配到其正确任务的概率是：\n$$\nP(X_i = 1) = \\frac{1}{N}\n$$\n这意味着指示随机变量 $X_i$ 的期望值是：\n$$\nE[X_i] = \\frac{1}{N}\n$$\n对于从 $i=1$ 到 $N$ 的每一台服务器，这个概率以及期望值都是相同的。\n\n最后，我们可以将这个结果代回到总期望 $E[X]$ 的求和公式中：\n$$\nE[X] = \\sum_{i=1}^{N} E[X_i] = \\sum_{i=1}^{N} \\frac{1}{N}\n$$\n这个求和包含 $N$ 个相同的项，每一项都等于 $1/N$。因此，这个和是：\n$$\nE[X] = N \\times \\frac{1}{N} = 1\n$$\n被正确分配的服务器的期望数量是 1。值得注意的是，这个结果与服务器的总数 $N$ 无关（假设 $N \\ge 1$）。", "answer": "$$\\boxed{1}$$", "id": "1329488"}, {"introduction": "随机变量不仅是理论上的抽象概念，更是解决现实世界决策问题的有力工具。本练习 [@problem_id:1913504] 将带你进入一个商业场景，通过分析一个重复性测试的潜在收益与风险，来计算其期望净利润。你将应用几何分布来建模“首次失败前”的试验次数，并利用期望值的计算来量化一个不确定过程的长期平均结果，这在金融和风险评估中是一项核心技能。", "problem": "一家数据分析初创公司正在对其新的专有算法进行压力测试。测试由一系列试验（或称“运行”）组成。每次运行都与其他运行相互独立。对于任何给定的运行，算法遇到严重故障的概率为常数 $p$，此时整个测试过程将立即停止。如果没有发生故障，则该次运行被视为成功。\n\n这家初创公司与客户签订了一份基于绩效的合同，从而形成了以下测试阶段的财务模型：\n- 每一次成功的运行，公司将获得 $R_S$ 美元的收入。\n- 每次运行，无论成功与否，都会产生 $C_O$ 美元的运营成本。\n- 一次严重故障会因数据恢复和报告而产生 $C_F$ 美元的一次性罚款成本。\n\n测试过程开始后将一直持续进行，直到观察到第一次严重故障为止。给定以下参数，请确定整个测试过程的期望净利润。\n\n参数:\n- 任何单次运行中发生严重故障的概率，$p = 0.05$\n- 单次成功运行的收入，$R_S = 300$ 美元\n- 每次运行的运营成本，$C_O = 40$ 美元\n- 一次性故障罚款成本，$C_F = 800$ 美元\n\n以美元表示您的最终答案。", "solution": "令 $p$ 为任意一次运行的故障概率，$q=1-p$ 为成功概率。该过程在第一次故障时停止。令 $K$ 为第一次故障前成功运行的次数。那么 $K$ 服从定义在 $\\{0,1,2,\\dots\\}$ 上的几何分布，其概率质量函数为 $P(K=k)=q^{k}p$，期望为 $E[K]=\\frac{q}{p}$。\n\n对于一次包含 $k$ 次成功和一次失败的实现情况：\n- 收入为 $kR_{S}$。\n- 运营成本为 $(k+1)C_{O}$（每次运行，包括失败的那次，都会产生 $C_{O}$ 的成本）。\n- 故障罚款为 $C_{F}$。\n\n因此，该实现情况的净利润为\n$$\n\\Pi(k)=kR_{S}-(k+1)C_{O}-C_{F}=k(R_{S}-C_{O})-C_{O}-C_{F}.\n$$\n求期望并使用 $E[K]=\\frac{q}{p}$，可得\n$$\nE[\\Pi]=E[K](R_{S}-C_{O})-C_{O}-C_{F}\n=\\frac{q}{p}(R_{S}-C_{O})-C_{O}-C_{F}.\n$$\n代入 $p=0.05$，$q=1-0.05=0.95$，$R_{S}=300$，$C_{O}=40$ 和 $C_{F}=800$：\n$$\nE[\\Pi]=\\frac{0.95}{0.05}(300-40)-40-800\n=19\\cdot 260-40-800\n=4940-840\n=4100.\n$$\n因此，期望净利润为 $4100$ 美元。", "answer": "$$\\boxed{4100}$$", "id": "1913504"}, {"introduction": "在统计学中，理解变量之间的关系至关重要，而“不相关”与“独立”是两个常被混淆的核心概念。本练习 [@problem_id:1922916] 为你提供了一个具体的联合概率分布，要求你计算其协方差并检验其独立性。通过这个实践，你将清晰地看到协方差 $\\text{Cov}(X,Y)$ 为零的两个变量为何不一定是相互独立的，从而加深对这两个概念之间细微但关键的差别的理解。", "problem": "考虑一对离散随机变量 $(X, Y)$，其联合概率质量函数 (PMF) 记作 $p(x, y) = P(X=x, Y=y)$，且仅在四个特定点上取非零值。这些概率由下式给出：\n- $p(-1, 0) = \\frac{1}{3}$\n- $p(1, 0) = \\frac{1}{6}$\n- $p(0, -1) = \\frac{1}{4}$\n- $p(0, 1) = \\frac{1}{4}$\n\n对于所有其他的数对 $(x, y)$，其联合概率质量函数 $p(x, y) = 0$。\n\n你的任务是基于此分布计算两个量。首先，计算 $X$ 和 $Y$ 之间的协方差，记作 $\\text{Cov}(X,Y)$。其次，计算 $\\delta = P(X=1)P(Y=0) - P(X=1, Y=0)$ 的值，这是一个与事件 $\\{X=1\\}$ 和 $\\{Y=0\\}$ 的独立性相关的度量。\n\n将你的最终答案表示为一个有序对 $(\\text{Cov}(X,Y), \\delta)$。", "solution": "我们使用离散随机变量的期望和协方差的定义。协方差定义为 $\\operatorname{Cov}(X,Y)=E[XY]-E[X]E[Y]$。给定的联合 PMF 的支撑集位于 $(-1,0)$（概率为 $\\frac{1}{3}$）、$(1,0)$（概率为 $\\frac{1}{6}$）、$(0,-1)$（概率为 $\\frac{1}{4}$）和 $(0,1)$（概率为 $\\frac{1}{4}$），在其他地方均为零。总概率为 $\\frac{1}{3}+\\frac{1}{6}+\\frac{1}{4}+\\frac{1}{4}=1$，因此这是一个有效的 PMF。\n\n首先，计算边缘概率。对于 $X$：\n$$\nP(X=-1)=\\frac{1}{3},\\quad P(X=1)=\\frac{1}{6},\\quad P(X=0)=\\frac{1}{4}+\\frac{1}{4}=\\frac{1}{2}.\n$$\n对于 $Y$：\n$$\nP(Y=0)=\\frac{1}{3}+\\frac{1}{6}=\\frac{1}{2},\\quad P(Y=-1)=\\frac{1}{4},\\quad P(Y=1)=\\frac{1}{4}.\n$$\n\n使用 $E[X]=\\sum_{x} x\\,P(X=x)$ 和 $E[Y]=\\sum_{y} y\\,P(Y=y)$ 计算期望：\n$$\nE[X]=(-1)\\cdot \\frac{1}{3}+1\\cdot \\frac{1}{6}+0\\cdot \\frac{1}{2}=-\\frac{1}{6},\n$$\n$$\nE[Y]=0\\cdot \\frac{1}{2}+(-1)\\cdot \\frac{1}{4}+1\\cdot \\frac{1}{4}=0.\n$$\n\n使用 $E[XY]=\\sum_{x,y} xy\\,p(x,y)$ 在支撑集上计算 $E[XY]$：\n$$\nE[XY]=(-1\\cdot 0)\\cdot \\frac{1}{3}+(1\\cdot 0)\\cdot \\frac{1}{6}+(0\\cdot (-1))\\cdot \\frac{1}{4}+(0\\cdot 1)\\cdot \\frac{1}{4}=0.\n$$\n\n因此，根据协方差公式，\n$$\n\\operatorname{Cov}(X,Y)=E[XY]-E[X]E[Y]=0-\\left(-\\frac{1}{6}\\right)\\cdot 0=0.\n$$\n\n接下来，根据边缘概率和联合概率计算 $\\delta=P(X=1)P(Y=0)-P(X=1,Y=0)$：\n$$\n\\delta=\\left(\\frac{1}{6}\\right)\\left(\\frac{1}{2}\\right)-\\frac{1}{6}=\\frac{1}{12}-\\frac{1}{6}=-\\frac{1}{12}.\n$$\n\n因此，有序对 $(\\operatorname{Cov}(X,Y),\\delta)$ 是 $\\left(0,-\\frac{1}{12}\\right)$。", "answer": "$$\\boxed{\\begin{pmatrix} 0 & -\\frac{1}{12} \\end{pmatrix}}$$", "id": "1922916"}]}