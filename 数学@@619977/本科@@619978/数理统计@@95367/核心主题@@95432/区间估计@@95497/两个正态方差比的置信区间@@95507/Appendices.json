{"hands_on_practices": [{"introduction": "掌握理论后，第一步是通过计算来巩固它。这个练习提供了一个直接的应用场景，要求你使用样本数据和 F 分布的临界值来构建两个总体方差比的置信区间。通过完成这个基础练习 [@problem_id:1908225]，你将熟练掌握比较两个正态总体变异性的核心计算技能。", "problem": "一组分析师正在评估两种不同金融风险模型（标记为模型 A 和模型 B）的性能一致性。他们对每个模型进行一系列模拟，以估计投资组合的风险价值，而衡量一致性的主要指标是这些估计值的方差。假设两种模型的估计值是相互独立的，并且服从正态分布。\n\n使用模型 A 运行了一个大小为 $n_A = 16$ 的随机样本模拟，得到的样本方差为 $s_A^2 = 4.80$（单位为百万美元的平方）。使用模型 B 运行了第二个大小为 $n_B = 11$ 的独立随机样本模拟，得到的样本方差为 $s_B^2 = 2.10$（单位相同）。\n\n该团队希望为真实总体方差之比 $\\frac{\\sigma_A^2}{\\sigma_B^2}$ 构建一个 95% 的置信区间，以比较模型的精度。\n\n给定以下来自 F 分布的临界值，其中记号 $F_{\\alpha, \\nu_1, \\nu_2}$ 表示上侧尾部概率为 $\\alpha$，分子自由度为 $\\nu_1$，分母自由度为 $\\nu_2$ 的临界值：\n- $F_{0.025, 15, 10} = 3.522$\n- $F_{0.05, 15, 10} = 2.848$\n- $F_{0.025, 16, 11} = 3.379$\n- $F_{0.025, 10, 15} = 3.060$\n- $F_{0.05, 10, 15} = 2.544$\n\n计算比率 $\\frac{\\sigma_A^2}{\\sigma_B^2}$ 的 95% 置信区间的下限和上限。按顺序报告下限和上限，每个值均保留三位有效数字。", "solution": "我们要求解总体方差比 $\\frac{\\sigma_A^2}{\\sigma_B^2}$ 的 $(1-\\alpha)=95\\%$ 置信区间。枢轴量 $F = \\frac{S_A^2/\\sigma_A^2}{S_B^2/\\sigma_B^2}$ 服从自由度为 $\\nu_A = n_A-1=15$ 和 $\\nu_B=n_B-1=10$ 的F分布。\n\n置信区间的一般形式为：\n$$ \\left[ \\frac{s_A^2/s_B^2}{F_{\\alpha/2, \\nu_A, \\nu_B}}, \\frac{s_A^2/s_B^2}{F_{1-\\alpha/2, \\nu_A, \\nu_B}} \\right] $$\n利用F分布的倒数性质 $F_{1-p, \\nu_1, \\nu_2} = \\frac{1}{F_{p, \\nu_2, \\nu_1}}$，区间可以写成：\n$$ \\left[ \\frac{s_A^2/s_B^2}{F_{\\alpha/2, \\nu_A, \\nu_B}}, \\left(\\frac{s_A^2}{s_B^2}\\right) F_{\\alpha/2, \\nu_B, \\nu_A} \\right] $$\n本题中，$\\alpha=0.05$，所以 $\\alpha/2 = 0.025$。我们需要以下临界值：\n- 上限临界值（分母）：$F_{0.025, 15, 10} = 3.522$\n- 下限临界值（用于计算上限的分母）：$F_{0.025, 10, 15} = 3.060$\n\n样本方差比为：\n$$ \\frac{s_A^2}{s_B^2} = \\frac{4.80}{2.10} = \\frac{16}{7} \\approx 2.2857 $$\n计算置信区间的下限和上限：\n$$ \\text{下限} = \\frac{s_A^2/s_B^2}{F_{0.025, 15, 10}} = \\frac{16/7}{3.522} \\approx 0.64898 \\approx 0.649 $$\n$$ \\text{上限} = \\left(\\frac{s_A^2}{s_B^2}\\right) \\times F_{0.025, 10, 15} = \\left(\\frac{16}{7}\\right) \\times 3.060 \\approx 6.99429 \\approx 6.99 $$\n因此，$\\frac{\\sigma_A^2}{\\sigma_B^2}$ 的 95% 置信区间约为 $(0.649, 6.99)$。", "answer": "$$\\boxed{\\begin{pmatrix}0.649 & 6.99\\end{pmatrix}}$$", "id": "1908225"}, {"introduction": "统计学不仅是分析已有数据的工具，更是规划未来研究的蓝图。这个练习 [@problem_id:1908216] 将带你进入实验设计的世界，探讨如何在实验开始前，根据预期的精度要求来确定所需的样本量。解决这个问题能让你理解理论知识如何指导我们做出高效、经济的科学决策。", "problem": "一位材料科学家正在设计一项实验，以比较两种新型金属合金（合金A和合金B）的生产一致性。假设每种合金样本的拉伸强度服从正态分布，其均值和方差（$\\sigma_A^2$ 和 $\\sigma_B^2$）可能不同。该科学家计划从每条合金生产线上收集相等数量的样本 $n$，并为总体方差之比 $\\frac{\\sigma_A^2}{\\sigma_B^2}$ 构建一个95%的置信区间。\n\n为了确保实验的统计功效，必须控制置信区间的宽度。然而，由于置信区间宽度本身是一个随机变量（因为它依赖于样本方差），该科学家决定控制其期望值。作为实验设计的一个基准，假设目前两个生产过程具有相同的变异性，即 $\\sigma_A^2 = \\sigma_B^2$。\n\n在此假设下，为确保 $\\frac{\\sigma_A^2}{\\sigma_B^2}$ 的95%置信区间的期望宽度至多为1.5，每种合金所需的最小整数样本量 $n$ 是多少？\n\n给定F分布的以下临界值 $F_{\\alpha, \\nu_1, \\nu_2}$，其中 $\\alpha=0.025$，自由度为 $\\nu_1=\\nu_2=\\nu$：\n- 对于 $\\nu=34$, $F_{0.025, 34, 34} = 1.975$\n- 对于 $\\nu=35$, $F_{0.025, 35, 35} = 1.956$\n- 对于 $\\nu=36$, $F_{0.025, 36, 36} = 1.938$\n- 对于 $\\nu=37$, $F_{0.025, 37, 37} = 1.921$\n- 对于 $\\nu=38$, $F_{0.025, 38, 38} = 1.905$", "solution": "设每种合金的样本量为 $n$，则自由度为 $\\nu = n - 1$。\n总体方差之比 $\\frac{\\sigma_A^2}{\\sigma_B^2}$ 的 $(1-\\alpha)$ 置信区间由以下公式给出：\n$$ \\left[ \\left(\\frac{S_A^2}{S_B^2}\\right) \\frac{1}{F_{\\alpha/2, \\nu, \\nu}}, \\left(\\frac{S_A^2}{S_B^2}\\right) \\frac{1}{F_{1-\\alpha/2, \\nu, \\nu}} \\right] $$\n利用F分布的倒数性质 $F_{1-p, \\nu_1, \\nu_2} = 1/F_{p, \\nu_2, \\nu_1}$，在本题中因为自由度相等，性质简化为 $F_{1-p, \\nu, \\nu} = 1/F_{p, \\nu, \\nu}$。置信区间可以写为：\n$$ \\left[ \\left(\\frac{S_A^2}{S_B^2}\\right) \\frac{1}{F_{\\alpha/2, \\nu, \\nu}}, \\left(\\frac{S_A^2}{S_B^2}\\right) F_{\\alpha/2, \\nu, \\nu} \\right] $$\n令 $c_\\nu = F_{\\alpha/2, \\nu, \\nu} = F_{0.025, \\nu, \\nu}$ 为给定的上侧临界值。置信区间的宽度为：\n$$ W = \\frac{S_A^2}{S_B^2} \\left(c_\\nu - \\frac{1}{c_\\nu}\\right) $$\n在基准假设 $\\sigma_{A}^{2} = \\sigma_{B}^{2}$ 下，我们有 $\\frac{S_A^2}{S_B^2} \\sim F_{\\nu,\\nu}$，因此其期望值为 $\\mathbb{E}\\!\\left[\\frac{S_{A}^{2}}{S_{B}^{2}}\\right] = \\frac{\\nu}{\\nu - 2}$（对于 $\\nu > 2$）。\n因此，期望宽度为：\n$$ \\mathbb{E}[W] = \\frac{\\nu}{\\nu - 2}\\left(c_{\\nu} - \\frac{1}{c_{\\nu}}\\right) $$\n对于一个95%的置信区间，我们要求 $\\mathbb{E}[W] \\leq 1.5$。我们逐一计算 $\\mathbb{E}[W]$：\n\n- 对于 $\\nu=34$ ($n=35$): $\\mathbb{E}[W] = \\frac{34}{32} \\left(1.975 - \\frac{1}{1.975}\\right) \\approx 1.560 > 1.5$\n- 对于 $\\nu=35$ ($n=36$): $\\mathbb{E}[W] = \\frac{35}{33} \\left(1.956 - \\frac{1}{1.956}\\right) \\approx 1.532 > 1.5$\n- 对于 $\\nu=36$ ($n=37$): $\\mathbb{E}[W] = \\frac{36}{34} \\left(1.938 - \\frac{1}{1.938}\\right) \\approx 1.506 > 1.5$\n- 对于 $\\nu=37$ ($n=38$): $\\mathbb{E}[W] = \\frac{37}{35} \\left(1.921 - \\frac{1}{1.921}\\right) \\approx 1.480 \\leq 1.5$\n\n由于 $\\mathbb{E}[W]$ 是关于 $\\nu$ 的递减函数，满足要求的最小 $\\nu$ 值为 $\\nu=37$，这对应于每种合金的样本量 $n=\\nu+1=38$。", "answer": "$$\\boxed{38}$$", "id": "1908216"}, {"introduction": "任何统计方法都有其适用边界，理解这些边界是批判性思维的关键。这个练习 [@problem_id:1908224] 通过一个模拟研究，探讨了当正态性假设不成立时，经典的 F 检验会发生什么。通过比较经典方法与更稳健的自助法（bootstrap）的表现，你将深刻体会到检验模型假设的重要性，并了解到在假设不满足时可供选择的现代统计工具。", "problem": "一位数据科学家正在评估两种用于构建两个总体方差之比 $\\theta = \\sigma_1^2 / \\sigma_2^2$ 的95%置信区间的方法的性能。\n\n方法A是在两个总体呈正态分布的假设下推导出的经典方法。该置信区间基于F分布。\n方法B是一种非参数百分位数自助法（bootstrap），它不假设总体的特定分布。\n\n该科学家怀疑其数据所来自的潜在总体不是正态分布，而是具有更重尾部的对称分布。为了研究这两种方法的稳健性，她进行了一项模拟研究。在模拟中，她从两个独立的总体中抽取样本，这些总体的数据遵循缩放的学生t分布，因为已知t分布具有重尾。\n\n模拟方案如下：\n1.  第一个样本的数据从真实方差为 $\\sigma_1^2$ 的总体中抽取。\n2.  第二个样本的数据从真实方差为 $\\sigma_2^2$ 的独立总体中抽取。\n3.  样本量为 $n_1 = 20$ 和 $n_2 = 30$。\n4.  方差之比的真实值设定为 $\\theta = 1.5$。\n5.  重复步骤1-3共 $N = 50,000$ 次。对于每次重复，使用方法A和方法B分别为 $\\theta$ 构建95%置信区间。\n\n运行模拟后，该科学家记录了每种类型的区间成功“覆盖”（即包含）方差真实值 $\\theta = 1.5$ 的次数。\n\n结果如下：\n- 方法A（F分布）：在50,000次试验中，置信区间覆盖了真实值43,155次。\n- 方法B（百分位数自助法）：在50,000次试验中，置信区间覆盖了真实值47,420次。\n\n一个方法的*覆盖误差*定义为该方法的估计覆盖概率与名义置信水平（95%）之间的绝对差。计算方法A的覆盖误差与方法B的覆盖误差之间的绝对差。将您的最终答案表示为保留三位有效数字的小数。", "solution": "设方法A和方法B的估计覆盖概率分别为 $\\hat{p}_A$ 和 $\\hat{p}_B$，名义置信水平为 $p_0 = 0.95$。\n\n首先，计算每种方法的估计覆盖概率：\n$$ \\hat{p}_A = \\frac{43155}{50000} = 0.8631 $$\n$$ \\hat{p}_B = \\frac{47420}{50000} = 0.9484 $$\n\n接下来，计算每种方法的覆盖误差，即估计覆盖概率与名义水平之差的绝对值：\n$$ E_A = |\\hat{p}_A - p_0| = |0.8631 - 0.95| = |-0.0869| = 0.0869 $$\n$$ E_B = |\\hat{p}_B - p_0| = |0.9484 - 0.95| = |-0.0016| = 0.0016 $$\n\n最后，计算两个覆盖误差之间的绝对差：\n$$ |E_A - E_B| = |0.0869 - 0.0016| = 0.0853 $$\n保留三位有效数字，结果为 $0.0853$。", "answer": "$$\\boxed{0.0853}$$", "id": "1908224"}]}