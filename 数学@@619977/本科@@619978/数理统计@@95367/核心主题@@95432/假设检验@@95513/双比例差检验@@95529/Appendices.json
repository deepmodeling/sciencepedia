{"hands_on_practices": [{"introduction": "在许多科学和工业领域，比较两个群体的比例是常见的需求，例如评估两种不同制造工艺的优劣。本练习将通过一个材料科学中的实际案例，引导你计算用于比较两个独立样本比例的检验统计量。这个计算是假设检验的核心，掌握它能为你判断观察到的差异是否具有统计显著性奠定坚实的基础。[@problem_id:1958853]", "problem": "一家材料科学公司正在测试两种不同的瓷砖生产工艺，工艺A和工艺B。该公司希望确定在标准压力测试下，两种工艺生产的瓷砖其开裂倾向是否存在差异。从工艺A生产的瓷砖中随机抽取350块进行测试，其中42块出现开裂。再从工艺B生产的瓷砖中独立随机抽取400块以同样的方式进行测试，其中68块出现开裂。\n\n为了评估两种工艺生产的瓷砖真实开裂比例是否不同，我们进行了一项假设检验。计算本次假设检验所用检验统计量的值。将最终答案四舍五入至四位有效数字。", "solution": "设 $p_1$ 为工艺A生产的瓷砖在压力测试下开裂的真实比例，设 $p_2$ 为工艺B生产的瓷砖开裂的真实比例。目标是检验这两个比例是否不同。\n\n本次检验的原假设和备择假设如下：\n原假设, $H_0: p_1 = p_2$ (比例相等)。\n备择假设, $H_a: p_1 \\neq p_2$ (比例不相等)。\n\n首先，我们计算每种工艺的样本开裂比例。设 $\\hat{p}_1$ 和 $\\hat{p}_2$ 分别为工艺A和工艺B的样本比例。\n\n对于工艺A：\n样本量, $n_1 = 350$。\n开裂瓷砖数, $x_1 = 42$。\n样本比例, $\\hat{p}_1 = \\frac{x_1}{n_1} = \\frac{42}{350} = 0.12$。\n\n对于工艺B：\n样本量, $n_2 = 400$。\n开裂瓷砖数, $x_2 = 68$。\n样本比例, $\\hat{p}_2 = \\frac{x_2}{n_2} = \\frac{68}{400} = 0.17$。\n\n由于原假设假定两个总体比例相等 ($p_1 = p_2 = p$), 我们应该合并两个样本的数据，以获得对这个共同比例的更好估计。这个合并样本比例，记为 $\\hat{p}_c$，计算如下：\n$$ \\hat{p}_c = \\frac{x_1 + x_2}{n_1 + n_2} = \\frac{42 + 68}{350 + 400} = \\frac{110}{750} = \\frac{11}{75} $$\n\n用于检验两个比例之差的检验统计量是一个z分数，使用以下公式计算：\n$$ z = \\frac{(\\hat{p}_1 - \\hat{p}_2) - (p_1 - p_2)_0}{\\sqrt{\\hat{p}_c(1 - \\hat{p}_c)\\left(\\frac{1}{n_1} + \\frac{1}{n_2}\\right)}} $$\n在原假设下，差值 $(p_1 - p_2)_0$ 为0。因此公式简化为：\n$$ z = \\frac{\\hat{p}_1 - \\hat{p}_2}{\\sqrt{\\hat{p}_c(1 - \\hat{p}_c)\\left(\\frac{1}{n_1} + \\frac{1}{n_2}\\right)}} $$\n\n现在，我们将计算出的值代入公式。\n分子是 $\\hat{p}_1 - \\hat{p}_2 = 0.12 - 0.17 = -0.05$。\n项 $1 - \\hat{p}_c$ 是 $1 - \\frac{11}{75} = \\frac{64}{75}$。\n项 $\\frac{1}{n_1} + \\frac{1}{n_2}$ 是 $\\frac{1}{350} + \\frac{1}{400} = \\frac{8}{2800} + \\frac{7}{2800} = \\frac{15}{2800} = \\frac{3}{560}$。\n\n分母是：\n$$ \\sqrt{\\hat{p}_c(1 - \\hat{p}_c)\\left(\\frac{1}{n_1} + \\frac{1}{n_2}\\right)} = \\sqrt{\\left(\\frac{11}{75}\\right)\\left(\\frac{64}{75}\\right)\\left(\\frac{3}{560}\\right)} $$\n$$ \\sqrt{\\frac{11 \\times 64 \\times 3}{75 \\times 75 \\times 560}} = \\sqrt{\\frac{2112}{3150000}} \\approx \\sqrt{0.000670476...} \\approx 0.02589355... $$\n\n现在，我们计算z统计量：\n$$ z = \\frac{-0.05}{0.02589355...} \\approx -1.931141... $$\n\n将结果四舍五入到四位有效数字，我们得到 -1.931。", "answer": "$$\\boxed{-1.931}$$", "id": "1958853"}, {"introduction": "计算出检验统计量后，下一步关键是做出统计决策。本练习以一个引人入胜的行为经济学研究为背景，探讨了匿名性如何影响人们对敏感问题的回答。你不仅需要计算检验统计量，还需要在一个给定的显著性水平 $\\alpha$ 下，决定是拒绝还是不能拒绝原假设，从而完整地体验一次假设检验的全过程。[@problem_id:1958816]", "problem": "一个行为经济学家团队正在研究与敏感话题相关的调查回复中的“社会期望偏差”（social desirability bias）。他们假设，与面对面访谈相比，在匿名在线调查中承认逃税的个体比例会有所不同。为了检验这一假设，他们从两个独立的随机样本中收集了数据。\n\n在第一个样本中，有1250名个体完成了一项匿名在线调查。其中，有175人承认至少有一次在纳税申报单上故意少报收入。\n\n在第二个样本中，有880名不同的个体参加了由研究员进行的面对面访谈。在这个群体中，有96人承认有同样的逃税行为。\n\n设 $p_1$ 为在线调查情境下承认逃税的真实个体比例，$p_2$ 为面对面访谈情境下的真实个体比例。研究人员希望检验原假设 $H_0: p_1 = p_2$ 与备择假设 $H_a: p_1 \\ne p_2$。\n\n使用 $\\alpha = 0.05$ 的显著性水平，计算用于比较这两个比例的适当的检验统计量，并确定假设检验的结果。下列哪个陈述是正确的？\n\nA. 检验统计量约等于1.84，且不拒绝原假设。\n\nB. 检验统计量约等于1.84，且拒绝原假设。\n\nC. 检验统计量约等于2.11，且不拒绝原假设。\n\nD. 检验统计量约等于2.11，且拒绝原假设。\n\nE. 检验统计量约等于2.15，且拒绝原假设。", "solution": "该问题要求我们对两个总体比例的差异进行双样本z检验。设在线调查为第1组，面对面访谈为第2组。\n\n首先，我们定义问题中给出的参数和统计量。\n对于匿名在线调查（第1组）：\n样本量，$n_1 = 1250$\n“成功”次数（承认的人数），$x_1 = 175$\n\n对于面对面访谈（第2组）：\n样本量，$n_2 = 880$\n“成功”次数（承认的人数），$x_2 = 96$\n\n显著性水平为 $\\alpha = 0.05$。\n\n假设如下：\n原假设：$H_0: p_1 = p_2$（真实比例相等）。\n备择假设：$H_a: p_1 \\ne p_2$（真实比例不同）。这是一个双尾检验。\n\n首先，我们计算每组的样本比例。\n在线调查的样本比例为：\n$$ \\hat{p}_1 = \\frac{x_1}{n_1} = \\frac{175}{1250} = 0.14 $$\n面对面访谈的样本比例为：\n$$ \\hat{p}_2 = \\frac{x_2}{n_2} = \\frac{96}{880} = \\frac{12}{110} = \\frac{6}{55} \\approx 0.10909 $$\n\n因为原假设假定总体比例相等 ($p_1 = p_2 = p$)，我们应该使用一个合并估计值来估计共同比例 $p$。合并样本比例 $\\hat{p}_{\\text{pool}}$ 通过合并两个样本的数据计算得出：\n$$ \\hat{p}_{\\text{pool}} = \\frac{x_1 + x_2}{n_1 + n_2} = \\frac{175 + 96}{1250 + 880} = \\frac{271}{2130} $$\n数值上，$\\hat{p}_{\\text{pool}} \\approx 0.12723$。\n\n接下来，我们计算检验统计量 $Z$。双比例z检验统计量的公式是：\n$$ Z = \\frac{(\\hat{p}_1 - \\hat{p}_2)}{\\sqrt{\\hat{p}_{\\text{pool}}(1-\\hat{p}_{\\text{pool}})(\\frac{1}{n_1} + \\frac{1}{n_2})}} $$\n我们来计算这个公式的各个组成部分。\n样本比例之差为：\n$$ \\hat{p}_1 - \\hat{p}_2 = 0.14 - \\frac{6}{55} = \\frac{7}{50} - \\frac{6}{55} = \\frac{7 \\cdot 11 - 6 \\cdot 10}{550} = \\frac{77 - 60}{550} = \\frac{17}{550} \\approx 0.030909 $$\n标准误（Z统计量的分母）为：\n$$ SE = \\sqrt{\\hat{p}_{\\text{pool}}(1-\\hat{p}_{\\text{pool}})(\\frac{1}{n_1} + \\frac{1}{n_2})} $$\n$$ SE = \\sqrt{\\frac{271}{2130} \\left(1 - \\frac{271}{2130}\\right) \\left(\\frac{1}{1250} + \\frac{1}{880}\\right)} $$\n$$ SE = \\sqrt{\\frac{271}{2130} \\cdot \\frac{1859}{2130} \\left(\\frac{1}{1250} + \\frac{1}{880}\\right)} $$\n$$ SE \\approx \\sqrt{0.12723 \\cdot (0.87277) \\cdot (0.0008 + 0.00113636)} $$\n$$ SE \\approx \\sqrt{0.11104 \\cdot (0.00193636)} \\approx \\sqrt{0.000215018} \\approx 0.0146635 $$\n现在我们可以计算Z统计量：\n$$ Z = \\frac{\\hat{p}_1 - \\hat{p}_2}{SE} \\approx \\frac{0.030909}{0.0146635} \\approx 2.1078 $$\n四舍五入到两位小数，检验统计量为 $Z \\approx 2.11$。\n\n最后，我们必须做出决策。我们将计算出的检验统计量与显著性水平为 $\\alpha = 0.05$ 的双尾检验在标准正态分布下的临界值进行比较。临界值为 $z_{\\alpha/2} = z_{0.025}$。\n从标准正态分布表或计算器中，可以查到临界值 $z_{0.025}$ 约等于 $1.96$。\n决策规则是：如果 $|Z| > z_{\\alpha/2}$，则拒绝 $H_0$。\n在我们的例子中， $|2.11| = 2.11$，而临界值为 $1.96$。\n由于 $2.11 > 1.96$，我们拒绝原假设 $H_0$。\n\n或者，我们可以使用p值法。对于双尾检验，p值的计算公式是 $2 \\cdot P(Z > |Z_{calc}|)$。\n$$ \\text{p-value} = 2 \\cdot P(Z > 2.11) = 2 \\cdot (1 - P(Z \\le 2.11)) $$\n使用标准正态分布表，可以查到 $P(Z \\le 2.11) \\approx 0.9826$。\n$$ \\text{p-value} \\approx 2 \\cdot (1 - 0.9826) = 2 \\cdot (0.0174) = 0.0348 $$\n由于p值（$0.0348$）小于显著性水平（$\\alpha = 0.05$），我们拒绝原假设。\n\n两种方法都导向相同的结论：我们拒绝原假设。在5%的显著性水平上，有统计上显著的证据表明，在匿名在线调查和面对面访谈中，承认逃税的个体真实比例存在差异。\n\n将我们的结果与给定选项进行匹配：计算出的检验统计量约等于2.11，我们拒绝原假设。这对应于选项D。", "answer": "$$\\boxed{D}$$", "id": "1958816"}, {"introduction": "在前面的练习中，我们测试的是两个比例是否“不同”（即双尾检验）。然而，在许多研究中，我们的问题更具方向性：一种新方法是否“优于”旧方法？本练习将你带入计算机科学的算法评估领域，你将学习如何构建和执行单尾检验，以判断新算法的成功率（$p_2$）是否确实高于基准算法（$p_1$）。这将使你能够处理更具体的、有方向性的研究假设，例如 $H_a: p_2 > p_1$。[@problem_id:1958843]", "problem": "一位计算机科学家正在评估一种新的启发式算法的性能，我们称之为“动态冷却模拟退火（SADCS）”，该算法用于解决旅行商问题（TSP）。其性能将与一个成熟的基准算法——“贪心最近邻（GNN）”启发式算法进行比较。成功的衡量标准是算法能否在一个大型基准测试套件中为给定的问题实例找到已知的最优解。\n\nGNN算法在 $n_1 = 400$ 个问题实例上运行，并在其中 $x_1 = 148$ 个案例中找到了最优解。新的SADCS算法在另一组 $n_2 = 350$ 个问题实例上运行，并在 $x_2 = 145$ 个案例中找到了最优解。\n\n这位计算机科学家想确定新的SADCS算法的成功率是否真的高于GNN算法。为此，在零假设（即两种算法找到最优解的真实比例没有差异）下计算一个检验统计量。计算这个检验统计量的值，该值将用于单尾检验，以评估SADCS算法是否优于GNN算法。\n\n将您的最终答案四舍五入到三位有效数字。", "solution": "我们正在比较两个大样本的独立比例。设 $\\hat{p}_{1} = \\frac{x_{1}}{n_{1}}$ 为GNN的样本比例，$\\hat{p}_{2} = \\frac{x_{2}}{n_{2}}$ 为SADCS的样本比例。在零假设 $H_{0}: p_{1} = p_{2}$ 下，合并比例为\n$$\n\\hat{p} = \\frac{x_{1} + x_{2}}{n_{1} + n_{2}}。\n$$\n$H_{0}$ 下的标准误是\n$$\n\\operatorname{SE} = \\sqrt{\\hat{p}\\left(1 - \\hat{p}\\right)\\left(\\frac{1}{n_{1}} + \\frac{1}{n_{2}}\\right)}。\n$$\n对于评估SADCS是否更优的单尾检验，其 $z$-统计量为\n$$\nz = \\frac{\\hat{p}_{2} - \\hat{p}_{1}}{\\operatorname{SE}}。\n$$\n\n计算样本比例和合并比例：\n$$\n\\hat{p}_{1} = \\frac{148}{400} = \\frac{37}{100}, \\quad \\hat{p}_{2} = \\frac{145}{350} = \\frac{29}{70}, \\quad \\hat{p} = \\frac{148 + 145}{400 + 350} = \\frac{293}{750}。\n$$\n计算差值和标准误的组成部分：\n$$\n\\hat{p}_{2} - \\hat{p}_{1} = \\frac{29}{70} - \\frac{37}{100} = \\frac{290 - 259}{700} = \\frac{31}{700},\n$$\n$$\n\\hat{p}\\left(1 - \\hat{p}\\right) = \\frac{293}{750}\\cdot\\frac{457}{750} = \\frac{133901}{562500}, \\quad \\frac{1}{n_{1}} + \\frac{1}{n_{2}} = \\frac{1}{400} + \\frac{1}{350} = \\frac{3}{560}。\n$$\n因此，$H_{0}$ 下的方差为\n$$\n\\hat{p}\\left(1 - \\hat{p}\\right)\\left(\\frac{1}{n_{1}} + \\frac{1}{n_{2}}\\right) = \\frac{133901}{562500}\\cdot\\frac{3}{560} = \\frac{133901}{105000000},\n$$\n所以\n$$\n\\operatorname{SE} = \\sqrt{\\frac{133901}{105000000}}。\n$$\n因此，\n$$\nz = \\frac{\\frac{31}{700}}{\\sqrt{\\frac{133901}{105000000}}}。\n$$\n进行数值计算（因为需要一个数值答案），\n$$\n\\operatorname{SE} \\approx 0.0357106,\\quad \\hat{p}_{2} - \\hat{p}_{1} \\approx 0.0442857,\n$$\n所以\n$$\nz \\approx \\frac{0.0442857}{0.0357106} \\approx 1.24。\n$$\n四舍五入到三位有效数字，检验统计量是 $1.24$。", "answer": "$$\\boxed{1.24}$$", "id": "1958843"}]}