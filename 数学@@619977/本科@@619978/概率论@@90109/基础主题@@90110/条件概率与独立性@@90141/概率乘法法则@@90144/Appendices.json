{"hands_on_practices": [{"introduction": "第一个练习为应用乘法法则解决相依事件提供了一个基础场景。通过计算连续两次不放回地抽中无瑕疵产品的概率，你将练习根据先前的结果调整概率，这是序贯分析中的一项核心技能。[@problem_id:16194]", "problem": "一批新生产的小部件正在接受质量控制检验。这批小部件总共有 $N$ 件。在这批小部件中，有未知数量 $D$ 件是次品。其余的小部件是合格品。一名检验员从这批小部件中随机抽取两件，一次一件，**不放回**。\n\n推导一个通用表达式，用于计算检验员抽取的两件小部件均为合格品的概率。该表达式应使用小部件总数 $N$ 和次品数量 $D$ 来表示。假设 $N > 1$ 且批次中至少有两件合格品（即 $N-D \\ge 2$）。", "solution": "我们来定义抽取过程中的事件。\n设 $A$ 为第一次抽取的小部件是合格品的事件。\n设 $B$ 为第二次抽取的小部件是合格品的事件。\n\n我们需要求的是两个事件同时发生的概率，即 $A$ 和 $B$ 的交集概率，记为 $P(A \\cap B)$。\n\n由于是不放回抽样，第二次抽取的结果依赖于第一次抽取的结果。因此，事件 $A$ 和 $B$ 是相依事件。我们必须使用相依事件的乘法法则，其公式如下：\n$$\nP(A \\cap B) = P(A) \\times P(B|A)\n$$\n其中 $P(B|A)$ 是在事件 $A$ 已经发生的条件下，事件 $B$ 发生的条件概率。\n\n首先，我们计算事件 $A$ 的概率。\n批次中的小部件总数为 $N$。\n次品的数量为 $D$。\n因此，合格品的数量为 $N - D$。\n\n第一次抽取到合格品的概率是合格品数量与小部件总数的比值：\n$$\nP(A) = \\frac{\\text{合格品数量}}{\\text{小部件总数}} = \\frac{N - D}{N}\n$$\n\n接下来，我们计算条件概率 $P(B|A)$。这是在第一次抽取的小部件是合格品的条件下，第二次抽取的小部件也是合格品的概率。\n如果第一次抽取的是合格品，那么批次中会减少一件合格品，总数也减少一件。\n新的合格品数量为 $(N - D) - 1$。\n新的小部件总数为 $N - 1$。\n\n现在，第二次抽取到合格品的概率是：\n$$\nP(B|A) = \\frac{\\text{剩余合格品数量}}{\\text{剩余小部件总数}} = \\frac{N - D - 1}{N - 1}\n$$\n\n最后，我们将这些概率代入乘法法则公式中：\n$$\nP(A \\cap B) = P(A) \\times P(B|A) = \\left(\\frac{N - D}{N}\\right) \\times \\left(\\frac{N - D - 1}{N - 1}\\right)\n$$\n\n合并这些项，得到最终表达式：\n$$\nP(A \\cap B) = \\frac{(N - D)(N - D - 1)}{N(N - 1)}\n$$", "answer": "$$\n\\boxed{\\frac{(N - D)(N - D - 1)}{N(N - 1)}}\n$$", "id": "16194"}, {"introduction": "在之前例子的基础上，这个问题将事件序列扩展到三个，并引入了多个类别，模拟了真实的质量控制流程。解决这个问题需要迭代应用乘法法则，并在每一步仔细追踪样本空间构成的变化。这个练习能够增强你处理更复杂的多阶段概率计算的能力。[@problem_id:1402915]", "problem": "在一个高精度制造工厂中，一批100个被称为量子隧穿二极管（QTDs）的特种电子元件正在接受严格的质量控制检验。在这批元件中，已知有5个二极管存在结构性缺陷（A型），8个二极管存在电子性缺陷（B型），以及3个二极管存在封装缺陷（C型）。所有缺陷类型都是相互排斥的，这意味着没有一个二极管会同时存在一种以上的缺陷。一个质量控制机器人从这批元件中随机抽取3个二极管，依次进行测试。抽取的二极管在被选中后不放回。\n\n计算按此特定顺序，第一个抽中的二极管是A型缺陷，第二个是B型缺陷，第三个是C型缺陷的概率。\n\n将您的答案以小数形式表示，并保留四位有效数字。", "solution": "让我们将这批二极管的总数表示为 $N = 100$。\n具有A型缺陷的二极管数量为 $N_A = 5$。\n具有B型缺陷的二极管数量为 $N_B = 8$。\n具有C型缺陷的二极管数量为 $N_C = 3$。\n\n我们需要计算在不放回抽样的情况下，三个事件按特定顺序发生的概率。让我们定义以下事件：\n- $E_1$：第一个抽中的二极管有A型缺陷。\n- $E_2$：第二个抽中的二极管有B型缺陷。\n- $E_3$：第三个抽中的二极管有C型缺陷。\n\n我们要求的是这些事件按指定顺序相交的概率，即 $P(E_1 \\cap E_2 \\cap E_3)$。由于抽样是不放回的，这些事件是相依的。我们可以使用概率的乘法法则（也称为链式法则）：\n$$P(E_1 \\cap E_2 \\cap E_3) = P(E_1) \\times P(E_2 | E_1) \\times P(E_3 | E_1 \\cap E_2)$$\n\n现在，我们分步计算这些概率。\n\n第1步：计算第一个事件的概率，$P(E_1)$。\n在总共 $N=100$ 个二极管中，有 $N_A=5$ 个是A型缺陷。\n$$P(E_1) = \\frac{\\text{A型缺陷二极管数量}}{\\text{二极管总数}} = \\frac{N_A}{N} = \\frac{5}{100}$$\n\n第2步：计算第二个事件的概率，$P(E_2 | E_1)$。\n这是在第一个抽中的二极管为A型缺陷的条件下，第二个抽中的二极管为B型缺陷的条件概率。第一次抽取后，一个（A型）二极管被移除，因此批次中还剩下 $N-1 = 99$ 个二极管。B型缺陷二极管的数量没有改变，仍然是 $N_B = 8$ 个。\n$$P(E_2 | E_1) = \\frac{\\text{B型缺陷二极管数量}}{\\text{剩余二极管数量}} = \\frac{N_B}{N-1} = \\frac{8}{99}$$\n\n第3步：计算第三个事件的概率，$P(E_3 | E_1 \\cap E_2)$。\n这是在第一个抽中的是A型缺陷、第二个是B型缺陷的条件下，第三个抽中的是C型缺陷的条件概率。前两次抽取后，移除了两个二极管，因此还剩下 $N-2 = 98$ 个二极管。C型缺陷二极管的数量没有改变，仍然是 $N_C = 3$ 个。\n$$P(E_3 | E_1 \\cap E_2) = \\frac{\\text{C型缺陷二极管数量}}{\\text{剩余二极管数量}} = \\frac{N_C}{N-2} = \\frac{3}{98}$$\n\n第4步：将这些概率相乘以求得最终答案。\n$$P(E_1 \\cap E_2 \\cap E_3) = \\frac{5}{100} \\times \\frac{8}{99} \\times \\frac{3}{98}$$\n$$P(E_1 \\cap E_2 \\cap E_3) = \\frac{5 \\times 8 \\times 3}{100 \\times 99 \\times 98} = \\frac{120}{970200}$$\n我们可以简化这个分数：\n$$P(E_1 \\cap E_2 \\cap E_3) = \\frac{12}{97020} = \\frac{1}{8085}$$\n\n第5步：将分数转换为小数，并四舍五入到四位有效数字。\n$$\\frac{1}{8085} \\approx 0.0001236858...$$\n前四位有效数字是1、2、3和6。第五位有效数字是8，它大于或等于5，因此我们将第四位有效数字（6）向上舍入为7。\n四舍五入后的值为 $0.0001237$。这可以写成科学记数法形式 $1.237 \\times 10^{-4}$。", "answer": "$$\\boxed{1.237 \\times 10^{-4}}$$", "id": "1402915"}, {"introduction": "我们最后的练习将从有形物体转向抽象的排列领域，展示了乘法法则的广泛适用性。确定一个随机排列中特定映射序列的概率，将序贯概率与组合数学和算法分析中的基本概念联系起来。这个练习突显了如何用一个简单的规则来分析复杂的结构。[@problem_id:1402919]", "problem": "考虑整数集合 $S = \\{1, 2, \\dots, n\\}$，其中 $n$ 是一个满足 $n \\ge 3$ 的整数。生成一个随机排列 $\\pi: S \\to S$，所有 $n!$ 种可能的排列都是等可能被选中的。如果一个排列的赋值与一组特定映射相匹配，我们称该排列包含这组映射。\n\n随机生成的排列 $\\pi$ 包含特定映射 $\\pi(1) = 2$，$\\pi(2) = 3$ 和 $\\pi(3) = 1$ 的概率是多少？将答案表示为关于 $n$ 的单个闭式解析表达式。", "solution": "集合 $S=\\{1,2,\\dots,n\\}$ 的一个均匀随机排列有 $n!$ 个等可能的结果。要求有特定映射 $\\pi(1)=2$，$\\pi(2)=3$ 和 $\\pi(3)=1$，这固定了 $1,2,3$ 的像，并且对剩下的 $n-3$ 个元素没有施加进一步的约束，这剩下的元素可以在它们之间任意排列，有 $(n-3)!$ 种方式。因此，包含这些映射的排列数量为 $(n-3)!$，所求的概率是\n$$\n\\frac{(n-3)!}{n!}=\\frac{1}{n(n-1)(n-2)}.\n$$\n等价地，使用条件概率，\n$$\nP(\\pi(1)=2)=\\frac{1}{n},\\quad P(\\pi(2)=3\\mid \\pi(1)=2)=\\frac{1}{n-1},\\quad P(\\pi(3)=1\\mid \\pi(1)=2,\\pi(2)=3)=\\frac{1}{n-2},\n$$\n将它们相乘可得\n$$\nP(\\pi(1)=2,\\pi(2)=3,\\pi(3)=1)=\\frac{1}{n(n-1)(n-2)}.\n$$", "answer": "$$\\boxed{\\frac{1}{n(n-1)(n-2)}}$$", "id": "1402919"}]}