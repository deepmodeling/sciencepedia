{"hands_on_practices": [{"introduction": "让我们从一个经典的概率问题开始，通过一个直观的例子来探索条件概率的核心思想。这个练习将向您展示，当获得新信息时，我们如何缩小可能结果的范围（即样本空间），从而重新计算事件的概率。掌握这个基础概念是理解更复杂概率场景的第一步。[@problem_id:3049]", "problem": "考虑一个掷两个公平六面骰子的实验。这两个骰子是独立的，六个面（标有数字1到6）中的每一个面朝上的概率都相等。\n\n设 $A$ 为事件“至少有一个骰子显示数字5”。\n设 $B$ 为事件“两个骰子显示数字之和恰好为8”。\n\n求在事件 $B$ 已经发生的条件下，事件 $A$ 发生的条件概率，记为 $P(A|B)$。", "solution": "问题要求的是条件概率 $P(A|B)$。在一个样本空间中，事件 $A$ 和 $B$ 的条件概率定义为：\n$$\nP(A|B) = \\frac{P(A \\cap B)}{P(B)}\n$$\n其中 $P(A \\cap B)$ 是事件 $A$ 和 $B$ 同时发生的概率，而 $P(B)$ 是事件 $B$ 发生的概率，且 $P(B) > 0$。\n\n对于具有有限个等可能结果的问题，这可以计算为事件交集中的结果数与条件事件中的结果数之比：\n$$\nP(A|B) = \\frac{|A \\cap B|}{|B|}\n$$\n\n首先，我们来定义样本空间 $S$。该实验涉及掷两个六面骰子。结果可以用一个有序对 $(d_1, d_2)$ 表示，其中 $d_1$ 是第一个骰子的结果，$d_2$ 是第二个骰子的结果。每个骰子可以显示来自集合 $\\{1, 2, 3, 4, 5, 6\\}$ 中的一个数字。\n所有可能结果的总数为 $|S| = 6 \\times 6 = 36$。\n\n接下来，我们确定对应于事件 $B$ 的结果集合，其中骰子点数之和为8。\n$$\nB = \\{(d_1, d_2) | d_1 + d_2 = 8\\}\n$$\n列出这些有序对：\n$B = \\{(2, 6), (3, 5), (4, 4), (5, 3), (6, 2)\\}$\n事件 $B$ 中的结果数为 $|B| = 5$。\n\n现在，我们来确定交集事件 $A \\cap B$ 的结果集合。该事件对应于点数之和为8且至少有一个骰子显示5的结果。我们可以通过检查集合 $B$ 来找到这些结果。\n$$\nA \\cap B = \\{(d_1, d_2) \\in B | d_1 = 5 \\text{ or } d_2 = 5\\}\n$$\n从集合 $B$ 中，满足此条件的结果是：\n$A \\cap B = \\{(3, 5), (5, 3)\\}$\n交集事件 $A \\cap B$ 中的结果数为 $|A \\cap B| = 2$。\n\n最后，我们可以使用等可能结果的公式来计算条件概率 $P(A|B)$。我们已知事件 B 已经发生，因此我们的新的、缩减的样本空间就是集合 $B$ 本身，它有5个结果。在这5个可能的结果中，有2个满足事件 A 的条件。\n$$\nP(A|B) = \\frac{|A \\cap B|}{|B|}\n$$\n代入我们找到的值：\n$$\nP(A|B) = \\frac{2}{5}\n$$", "answer": "$$\n\\boxed{\\frac{2}{5}}\n$$", "id": "3049"}, {"introduction": "现实世界中的问题往往不会直接提供可数的具体结果，而是给出抽象的概率值。本练习将引导你从具体的计数方法过渡到抽象的代数操纵。你将练习如何运用条件概率的定义式 $P(B|A) = P(A \\cap B) / P(A)$ 来推导一个相关的概率，这是掌握贝叶斯定理等更高级工具的关键一步。[@problem_id:3058]", "problem": "在微芯片制造的质量控制流程中，会进行两种不同的自动化测试，即测试 A 和测试 B。令 $A$ 表示一个随机挑选的微芯片未能通过测试 A 的事件，令 $B$ 表示它未能通过测试 B 的事件。与这些测试相关的概率如下所示：\n\n- 一个芯片未能通过测试 A 的概率是 $P(A) = p_A$。\n- 一个芯片未能通过测试 B 的概率是 $P(B) = p_B$。\n- 一个芯片在已知未能通过测试 B 的情况下，也未能通过测试 A 的概率是 $P(A|B) = p_{A|B}$。\n\n假设概率的数值如下：\n- $p_A = \\frac{1}{2}$\n- $p_B = \\frac{2}{5}$\n- $p_{A|B} = \\frac{3}{5}$\n\n使用条件概率的基本定义，推导一个表示 $P(B|A)$ 的表达式，即一个微芯片在已知未能通过测试 A 的情况下，也未能通过测试 B 的概率。然后，计算其数值。", "solution": "问题要求计算条件概率 $P(B|A)$。对于两个事件 $X$ 和 $Y$（其中 $P(Y)>0$），条件概率的定义如下：\n$$\nP(X|Y) = \\frac{P(X \\cap Y)}{P(Y)}\n$$\n其中 $P(X \\cap Y)$ 是事件 $X$ 和 $Y$ 同时发生的联合概率。\n\n我们的目标是求 $P(B|A)$。根据定义，我们可以写出：\n$$\nP(B|A) = \\frac{P(B \\cap A)}{P(A)}\n$$\n\n问题给出了 $P(A)$，但没有直接给出联合概率 $P(B \\cap A)$。但是，我们已知 $P(A|B)$ 和 $P(B)$。我们可以利用 $P(A|B)$ 的条件概率定义：\n$$\nP(A|B) = \\frac{P(A \\cap B)}{P(B)}\n$$\n\n我们可以重新整理这个方程来求解联合概率 $P(A \\cap B)$：\n$$\nP(A \\cap B) = P(A|B) P(B)\n$$\n\n事件的交集是可交换的，这意味着“事件 A 和 B 发生”与“事件 B 和 A 发生”是同一个事件。因此，它们的概率是相等的：\n$$\nP(A \\cap B) = P(B \\cap A)\n$$\n\n现在我们可以将从整理后的公式中得到的 $P(A \\cap B)$ 的表达式代入我们求 $P(B|A)$ 的方程中：\n$$\nP(B|A) = \\frac{P(A \\cap B)}{P(A)} = \\frac{P(A|B) P(B)}{P(A)}\n$$\n\n这样我们就得到了用给定数量表示 $P(B|A)$ 的符号表达式。现在，我们代入给定的数值：\n- $P(A) = p_A = \\frac{1}{2}$\n- $P(B) = p_B = \\frac{2}{5}$\n- $P(A|B) = p_{A|B} = \\frac{3}{5}$\n\n将这些值代入我们推导出的公式中：\n$$\nP(B|A) = \\frac{\\left(\\frac{3}{5}\\right) \\left(\\frac{2}{5}\\right)}{\\frac{1}{2}}\n$$\n\n首先，我们计算分子中的乘积：\n$$\nP(B|A) = \\frac{\\frac{3 \\times 2}{5 \\times 5}}{\\frac{1}{2}} = \\frac{\\frac{6}{25}}{\\frac{1}{2}}\n$$\n\n除以一个分数，等于乘以它的倒数：\n$$\nP(B|A) = \\frac{6}{25} \\times \\frac{2}{1} = \\frac{12}{25}\n$$\n\n因此，一个微芯片在已知未能通过测试 A 的情况下，也未能通过测试 B 的概率是 $\\frac{12}{25}$。", "answer": "$$\n\\boxed{\\frac{12}{25}}\n$$", "id": "3058"}, {"introduction": "这个练习展示了条件概率最强大的应用之一：贝叶斯推理。你将学习如何“反转”条件概率——即利用“因”导出“果”的概率（例如，某生产线产品次品的概率）来推断出“果”反推“因”的概率（例如，一个次品来自某生产线的概率）。这种推理方式在医学诊断、质量控制和机器学习等领域至关重要。[@problem_id:3074]", "problem": "一家工厂使用两条不同的生产线（生产线A和生产线B）生产一种特定类型的微芯片。生产线A负责生产总微芯片中的一部分，比例为 $p_A$，而生产线B则生产剩余部分，比例为 $p_B = 1-p_A$。\n\n由于设备差异，来自生产线A的微芯片有缺陷的概率是 $d_A$，而来自生产线B的微芯片有缺陷的概率是 $d_B$。所有微芯片在装运前都被收集在同一个箱子里。\n\n假设从箱子中随机抽取一个微芯片，并发现它是有缺陷的。推导这个有缺陷的微芯片是由生产线A生产的概率表达式。请用 $p_A$，$d_A$ 和 $d_B$ 来表示你的答案。", "solution": "我们定义以下事件：\n- $A$：所选微芯片由生产线A生产的事件。\n- $B$：所选微芯片由生产线B生产的事件。\n- $D$：所选微芯片是有缺陷的事件。\n\n根据问题描述，我们已知以下概率：\n- 随机选取的微芯片来自生产线A的概率是 $P(A) = p_A$。\n- 随机选取的微芯片来自生产线B的概率是 $P(B) = p_B = 1 - p_A$。\n- 在已知微芯片来自生产线A的情况下，该微芯片有缺陷的概率是 $P(D|A) = d_A$。\n- 在已知微芯片来自生产线B的情况下，该微芯片有缺陷的概率是 $P(D|B) = d_B$。\n\n我们想要求的是，在已知微芯片有缺陷的情况下，它是由生产线A生产的概率。这即是条件概率 $P(A|D)$。\n\n条件概率的定义如下：\n$$\nP(A|D) = \\frac{P(A \\cap D)}{P(D)}\n$$\n其中 $P(A \\cap D)$ 是微芯片来自生产线A且有缺陷的概率，而 $P(D)$ 是随机选取的微芯片有缺陷的总概率。\n\n首先，我们来求分子 $P(A \\cap D)$。我们可以对 $P(D|A)$ 的条件概率定义进行变形：\n$$\nP(D|A) = \\frac{P(D \\cap A)}{P(A)}\n$$\n求解 $P(D \\cap A)$（这与 $P(A \\cap D)$ 相同），我们得到：\n$$\nP(A \\cap D) = P(D|A) P(A)\n$$\n代入已知值：\n$$\nP(A \\cap D) = d_A p_A\n$$\n\n接下来，我们来求分母 $P(D)$。一个微芯片可能有缺陷有两种互斥的情况：它由生产线A生产且有缺陷，或者它由生产线B生产且有缺陷。根据全概率公式，我们可以将 $P(D)$ 表示为这两种可能性的和：\n$$\nP(D) = P(D \\cap A) + P(D \\cap B)\n$$\n我们已经求出 $P(D \\cap A) = d_A p_A$。同理，我们可以求出 $P(D \\cap B)$：\n$$\nP(D \\cap B) = P(D|B) P(B) = d_B p_B\n$$\n代入 $p_B = 1 - p_A$：\n$$\nP(D \\cap B) = d_B (1 - p_A)\n$$\n现在，我们可以将有缺陷的总概率写为：\n$$\nP(D) = d_A p_A + d_B (1 - p_A)\n$$\n\n最后，我们将分子 $P(A \\cap D)$和分母 $P(D)$ 的表达式代回到我们最初的 $P(A|D)$ 公式中：\n$$\nP(A|D) = \\frac{d_A p_A}{d_A p_A + d_B (1 - p_A)}\n$$\n这就是有缺陷的部件来自生产线A的概率的最终表达式。", "answer": "$$\n\\boxed{\\frac{p_A d_A}{p_A d_A + (1-p_A) d_B}}\n$$", "id": "3074"}]}