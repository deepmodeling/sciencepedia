{"hands_on_practices": [{"introduction": "这个练习介绍了一种处理组合问题中限制条件的基本技巧。我们将探讨一个计算生物学中的场景，其中两种蛋白质因相互抑制而不能同时存在于一个组中。通过计算总的可能性并减去被禁止的组合，我们可以有效地找到答案，这体现了减法原理的简洁与强大。[@problem_id:1356194]", "problem": "一个计算生物学实验室的研究团队正在尝试鉴定一个功能性蛋白质复合物。他们需要从一组可供筛选的20种不同蛋白质中，组成一个包含恰好5种蛋白质的测试组。然而，已知其中两种蛋白质，我们称之为Protein Alpha和Protein Beta，在结构上相互抑制。因此，它们不能同时被包含在同一个测试组中。允许包含其中一个而不包含另一个，或者两者都不包含。\n\n在这个限制条件下，可以组成多少个不同的、包含5种蛋白质的测试组？", "solution": "我们将测试组建模为从20种不同蛋白质中选出的一个包含5个元素的子集。在没有限制的情况下，这样的组的数量由二项式系数 $\\binom{20}{5}$ 给出。\n\n该限制禁止同时包含Protein Alpha ($A$) 和 Protein Beta ($B$)。我们计算同时包含 $A$ 和 $B$ 的不合规组的数量，然后从总数中减去这个数量。如果同时包含 $A$ 和 $B$，那么剩下的 $3$ 种蛋白质必须从其余的 $18$ 种蛋白质中选择，这有 $\\binom{18}{3}$ 种方式。根据减法原理，合规组的数量为\n$$\n\\binom{20}{5}-\\binom{18}{3}.\n$$\n计算这些二项式系数，\n$$\n\\binom{20}{5}=\\frac{20\\cdot 19\\cdot 18\\cdot 17\\cdot 16}{5\\cdot 4\\cdot 3\\cdot 2\\cdot 1}=15504,\n\\qquad\n\\binom{18}{3}=\\frac{18\\cdot 17\\cdot 16}{3\\cdot 2\\cdot 1}=816.\n$$\n因此，合规测试组的数量是\n$$\n15504-816=14688.\n$$\n作为一种通过分类讨论进行的验证：要么不包含 $A$ 和 $B$ （有 $\\binom{18}{5}$ 种方式），要么只包含它们中的一个（有 $2$ 种方式选择包含哪一个，然后从剩下的 $18$ 种蛋白质中选择 $4$ 种，得到 $2\\binom{18}{4}$ 种方式）。这得出 $\\binom{18}{5}+2\\binom{18}{4}=8568+6120=14688$，与上面的结果相符。", "answer": "$$\\boxed{14688}$$", "id": "1356194"}, {"introduction": "在简单的排除限制之外，本练习处理了一个需要同时满足多个“至少一个”条件的场景，这在实验设计中十分常见。我们将分析一个基因筛选问题，其中选出的样本必须包含至少两种不同的遗传标记。这个问题阐明了当多个条件存在交集时，如何应用容斥原理来进行正确计数，从而避免重复计算或遗漏。[@problem_id:1349164]", "problem": "一个基因工程实验室的研究团队正在对12个独特的冷冻保存植物样本进行一项实验。这些样本根据是否存在两种特定的遗传标记进行分类，我们称之为标记P和标记Q。实验室的库存显示了以下分布：\n\n- 12个样本中，恰好有5个拥有标记P。\n- 12个样本中，恰好有4个拥有标记Q。\n- 12个样本中，恰好有2个同时拥有标记P和标记Q。\n\n该团队需要选择一个由4个样本组成的子集以进行一项新的实验方案。为了使实验有效，所选的4个样本子集必须包含至少一个带有标记P的样本和至少一个带有标记Q的样本。\n\n有多少种不同的4样本子集可以被选出且满足这个条件？", "solution": "设 $P$ 表示拥有标记P的样本集合，$Q$ 表示拥有标记Q的样本集合。库存信息显示 $|P|=5$，$|Q|=4$，且 $|P\\cap Q|=2$。因此，通过减法计算：\n$$|P\\setminus Q|=|P|-|P\\cap Q|=5-2=3,$$\n$$|Q\\setminus P|=|Q|-|P\\cap Q|=4-2=2.$$\n既不含标记P也不含标记Q的样本数量为\n$$12-\\big(|P\\setminus Q|+|Q\\setminus P|+|P\\cap Q|\\big)=12-(3+2+2)=5.$$\n我们使用容斥原理来计算包含至少一个P和一个Q的4元素子集的数量。4个样本的子集总数为 $\\binom{12}{4}$。不含P的子集必须从 $Q\\setminus P$ 和“两者皆无”的样本中选择，总数为 $2+5=7$，因此有 $\\binom{7}{4}$ 种选法。不含Q的子集必须从 $P\\setminus Q$ 和“两者皆无”的样本中选择，总数为 $3+5=8$，因此有 $\\binom{8}{4}$ 种选法。既不含P也不含Q的子集完全从“两者皆无”的样本中选择，因此有 $\\binom{5}{4}$ 种选法。因此，所求的数量为\n$$\\binom{12}{4}-\\binom{7}{4}-\\binom{8}{4}+\\binom{5}{4}.$$\n计算二项式系数，\n$$\\binom{12}{4}=495,\\quad \\binom{7}{4}=35,\\quad \\binom{8}{4}=70,\\quad \\binom{5}{4}=5,$$\n所以最终的数量是\n$$495-35-70+5=395.$$", "answer": "$$\\boxed{395}$$", "id": "1349164"}, {"introduction": "我们最后的练习探讨了一种不同类型的约束：物理间隔。在服务器机架中放置设备并要求它们之间保持最小距离，这构成了一个看似复杂的计数问题。我们将学习一种强大的解题策略，它通过巧妙的变量代换，将这个排列布局问题转化为一个简单的组合选择问题，突显出视角转换为解决组合难题带来的突破。[@problem_id:1349203]", "problem": "一位数据中心管理员正在规划一个新服务器机柜的布局。该机柜包含一排共 $N$ 个插槽，从 1 到 $N$ 编号。管理员需要安装 $k$ 台相同的高性能服务器。这些服务器会产生大量热量，为了保证充分冷却，任意两台服务器之间必须至少有 $m$ 个空插槽。\n\n此外，由于布线和维护接入的需求，机柜两端的插槽（即插槽 1 和插槽 $N$）被指定为强制净空区，不能被这些专用服务器占用。\n\n假设 $N$、$k$ 和 $m$ 均为正整数，且存在有效的放置方案，请确定按照这些规则放置 $k$ 台相同服务器的所有不同方式的总数。请用一个关于 $N$、$k$ 和 $m$ 的封闭形式解析表达式给出你的答案。", "solution": "设允许使用的插槽为从 $2$ 到 $N-1$ 的整数，这是一个长度为 $L=N-2$ 的区间。我们必须从 $\\{1,2,\\ldots,L\\}$（对允许的插槽区间重新索引）中选择 $k$ 个占用的位置 $p_{1}<p_{2}<\\cdots<p_{k}$，使得“任意两台服务器之间至少有 $m$ 个空插槽”的分隔约束等价于\n$$\np_{j+1}-p_{j} \\geq m+1 \\quad \\text{for all } j \\in \\{1,\\ldots,k-1\\}.\n$$\n定义变换后的变量\n$$\nq_{j} = p_{j} - (j-1)m \\quad \\text{for } j=1,\\ldots,k.\n$$\n那么\n$$\nq_{j+1} - q_{j} = \\left(p_{j+1} - jm\\right) - \\left(p_{j} - (j-1)m\\right) = p_{j+1} - p_{j} - m \\geq 1,\n$$\n因此 $q_{1}<q_{2}<\\cdots<q_{k}$ 是严格递增的整数。$p_{j}$ 的边界，$1 \\leq p_{1}$ 和 $p_{k} \\leq L$，变为\n$$\n1 \\leq q_{1} \\quad \\text{and} \\quad q_{k} \\leq L - (k-1)m.\n$$\n因此，变换后的 $q_{j}$ 相当于从集合 $\\{1,2,\\ldots,L-(k-1)m\\}$ 中选择 $k$ 个不同的整数，有效 $k$-元组的数量即为二项式系数\n$$\n\\binom{L-(k-1)m}{k}.\n$$\n代入 $L=N-2$ 得到有效放置的总数为\n$$\n\\binom{N-2-(k-1)m}{k},\n$$\n可行性条件为 $N-2-(k-1)m \\geq k$（根据题设，此条件被假定为成立）。", "answer": "$$\\boxed{\\binom{N-2-(k-1)m}{k}}$$", "id": "1349203"}]}