{"hands_on_practices": [{"introduction": "让我们从一个经典的掷骰子概率场景开始。这个练习为应用容斥原理计算两个事件并集的概率提供了一个具体的基础。通过仔细地枚举结果，你将练习在一个清晰可控的情境下计算 $P(A)$、$P(B)$ 以及关键的交集项 $P(A \\cap B)$。[@problem_id:15924]", "problem": "考虑一个涉及三个独立随机数生成器的过程。每个生成器以相等的概率从集合 $S = \\{1, 2, 3, 4, 5, 6\\}$ 中生成一个整数。设三个生成器的输出结果分别记为 $d_1$、$d_2$ 和 $d_3$。\n\n我们定义两个事件：\n- 事件 $A$：输出结果之和小于6，即 $d_1 + d_2 + d_3 < 6$。\n- 事件 $B$：至少有一个输出结果是整数 $2$。\n\n使用容斥原理，求事件 $A \\cup B$ 的概率，该事件对应于输出结果之和小于6，或者至少有一个输出结果是 $2$ 的情况。", "solution": "我们有三个独立的生成器，每个生成器都从 $\\{1,2,3,4,5,6\\}$ 中均匀选择，因此所有等可能结果的总数为 $6^3=216$。\n\n1. 计算 $P(A)=P(d_1+d_2+d_3<6)$。\n   唯一可能的和是 $3,4,5$。 我们计算得出每种和的有序三元组 $(d_1,d_2,d_3)$ 的数量：\n   和 $=3$：只有 $(1,1,1)$，数量为 $1$。\n   \n   和 $=4$：模式为 $(1,1,2)$ 及其排列，数量为 $\\binom{3}{1}=3$。\n   \n   和 $=5$：模式为 $(1,1,3)$（3种排列）和 $(1,2,2)$（3种排列），总数为 $6$。\n   \n   因此 \n   $$\n     \\#\\{A\\}=1+3+6=10,\n     \\quad\n     P(A)=\\frac{10}{216}.\n   $$\n\n2. 计算 $P(B)=P(\\text{至少有一个 }2)$。\n   等价地，\n   $$\n     P(B)=1-P(\\text{没有 }2)=1-\\Bigl(\\frac56\\Bigr)^3\n         =1-\\frac{125}{216}\n         =\\frac{91}{216}.\n   $$\n\n3. 计算 $P(A\\cap B)$。\n   在和小于 $6$ 的 $10$ 个结果中，包含至少一个 2 的是：\n   - 来自和为4的： $(1,1,2)$ 的所有 $3$ 种排列，\n   - 来自和为5的： $(1,2,2)$ 的所有 $3$ 种排列。\n   \n   总计 $\\#\\{A\\cap B\\}=3+3=6$，所以\n   $$\n     P(A\\cap B)=\\frac{6}{216}.\n   $$\n\n4. 根据容斥原理，\n   $$\n     P(A\\cup B)\n     =P(A)+P(B)-P(A\\cap B)\n     =\\frac{10}{216}+\\frac{91}{216}-\\frac{6}{216}\n     =\\frac{95}{216}.\n   $$", "answer": "$$\\boxed{\\frac{95}{216}}$$", "id": "15924"}, {"introduction": "现在我们从简单的结果转向不同物品的排列问题，这是计算机科学和数据安全等领域的常见应用。此问题探讨了排列组合，以及容斥原理如何帮助我们确定特定元素出现在指定位置的概率。这是一个极佳的练习，可以帮助你掌握使用阶乘进行计数，从而确定事件及其交集的大小。[@problem_id:1364784]", "problem": "某实验性系统的数据安全协议涉及在分析前对一组用户数据进行匿名化处理。该系统处理一批10个唯一的用户文件，这些文件由整数 $\\{1, 2, \\dots, 10\\}$ 标识。匿名化过程包括对这10个标识符的有序列表应用一个随机排列。每个排列都是等可能的。\n\n为进行合规性检查，一名审计员关心排列后两个特定用户文件的位置。在一个随机生成的排列中，由整数“3”标识的用户文件最终位于第5个位置，或者由整数“7”标识的用户文件最终位于第2个位置的概率是多少？\n\n请将您的答案表示为最简精确分数。", "solution": "设样本空间为10个不同标识符的所有排列的集合，其大小为 $10!$，且所有排列都是等可能的。\n\n定义事件：\n- $A$：标识符 $3$ 在第 $5$ 个位置。\n- $B$：标识符 $7$ 在第 $2$ 个位置。\n\n通过计数：\n- 为了计算 $|A|$，将 $3$ 固定在第 $5$ 个位置，并对剩下的 $9$ 个标识符进行任意排列：$|A|=9!$。\n- 类似地，$|B|=9!$。\n- 对于 $|A \\cap B|$，将 $3$ 固定在第 $5$ 个位置，将 $7$ 固定在第 $2$ 个位置，并对剩下的 $8$ 个标识符进行排列：$|A \\cap B|=8!$。\n\n根据容斥原理，所求概率为\n$$\n\\mathbb{P}(A \\cup B)=\\frac{|A|+|B|-|A \\cap B|}{10!}=\\frac{9!+9!-8!}{10!}.\n$$\n使用 $9!=9 \\cdot 8!$ 和 $10!=10 \\cdot 9 \\cdot 8!$ 进行化简：\n$$\n\\mathbb{P}(A \\cup B)=\\frac{(9+9-1)\\cdot 8!}{10 \\cdot 9 \\cdot 8!}=\\frac{17}{10 \\cdot 9}=\\frac{17}{90}.\n$$\n因此，$3$ 在第 $5$ 个位置或 $7$ 在第 $2$ 个位置的概率是 $\\frac{17}{90}$。", "answer": "$$\\boxed{\\frac{17}{90}}$$", "id": "1364784"}, {"introduction": "这最后一个练习将容斥原理与组合学和数论的概念相结合，并将其置于服务器网格这一现代背景下。你需要计算由空间位置和模运算定义的事件的概率，这需要一种更结构化的计数方法。这个问题展示了该原理在解决更复杂、多层次问题时的强大威力。[@problem_id:1364779]", "problem": "一个数据中心运营着一个专用于高性能计算的方形服务器网格。该网格由 $12 \\times 12$ 台服务器组成，每台服务器由其整数坐标 $(i,j)$ 唯一标识，其中 $i$ 是行号，$j$ 是列号，且 $1 \\le i, j \\le 12$。\n\n为了实现负载均衡和热量管理，这些服务器被分为三种类型：A型、B型和C型。位于位置 $(i,j)$ 的服务器类型由其坐标和 $S = i+j$ 的值根据以下方案确定：\n- 如果 $S \\equiv 1 \\pmod{3}$，则服务器为A型。\n- 如果 $S \\equiv 2 \\pmod{3}$，则服务器为B型。\n- 如果 $S \\equiv 0 \\pmod{3}$，则服务器为C型。\n\n一个性能监控系统会从整个网格中随机选择一台服务器进行诊断性检查。每台服务器被选中的概率是相等的。\n\n设 $E_1$ 为所选服务器位于“高优先级区域”的事件，该区域包括前两行（第1行和第2行）或最后两列（第11列和第12列）的所有服务器。设 $E_2$ 为所选服务器为A型的事件。\n\n计算事件 $E_1 \\cup E_2$ 的概率，即所选服务器位于高优先级区域、或为A型、或两者皆是的概率。将最终答案四舍五入至四位有效数字。", "solution": "共有 $12 \\times 12$ 台服务器，因此样本空间的大小为 $N=144$。在这 $144$ 台服务器上的选择是均匀的。\n\n事件 $E_{1}$ 包括前两行或最后两列。前两行的服务器数量为 $2 \\times 12=24$，最后两列的服务器数量为 $12 \\times 2=24$，它们的交集（行 $\\{1,2\\}$ 和列 $\\{11,12\\}$）有 $2 \\times 2=4$ 台服务器。根据容斥原理，\n$$\n|E_{1}|=24+24-4=44.\n$$\n\n事件 $E_{2}$ 是指 $i+j \\equiv 1 \\pmod{3}$（A型）。由于两个维度都是 $3$ 的倍数，所以在 $12 \\times 12$ 的网格中，每个模3的剩余类出现的频率是相同的。因此，\n$$\n|E_{2}|=\\frac{144}{3}=48.\n$$\n\n为了求出 $|E_{1} \\cap E_{2}|$，我们通过将 $E_{1}$ 分解为前两行和后两列，并减去其重叠部分，来计算 $E_{1}$ 内A型服务器的数量。\n\n- 行 $i=1$: A型要求 $1+j \\equiv 1 \\pmod{3}$，所以 $j \\equiv 0 \\pmod{3}$，在 $\\{1,\\dots,12\\}$ 中得到 $4$ 个位置。\n- 行 $i=2$: A型要求 $2+j \\equiv 1 \\pmod{3}$，所以 $j \\equiv 2 \\pmod{3}$，得到 $4$ 个位置。\n因此，前两行共有 $8$ 台A型服务器。\n\n- 列 $j=11$: A型要求 $i+11 \\equiv 1 \\pmod{3}$，所以 $i \\equiv 2 \\pmod{3}$，在 $\\{1,\\dots,12\\}$ 中得到 $4$ 个位置。\n- 列 $j=12$: A型要求 $i+12 \\equiv 1 \\pmod{3}$，所以 $i \\equiv 1 \\pmod{3}$，得到 $4$ 个位置。\n因此，最后两列共有 $8$ 台A型服务器。\n\n- 重叠部分（行 $\\{1,2\\}$ 和列 $\\{11,12\\}$）：这四个单元格是 $(1,11)$、$(1,12)$、$(2,11)$、$(2,12)$，其坐标和分别为 $12,13,13,14$。当坐标和与 $1 \\pmod{3}$ 同余时为A型，所以恰好 $(1,12)$ 和 $(2,11)$ 是A型，共 $2$ 个单元格。\n\n因此，\n$$\n|E_{1} \\cap E_{2}|=8+8-2=14.\n$$\n\n根据并集的容斥原理，\n$$\n|E_{1} \\cup E_{2}|=|E_{1}|+|E_{2}|-|E_{1} \\cap E_{2}|=44+48-14=78.\n$$\n因此，所求概率为\n$$\n\\frac{|E_{1} \\cup E_{2}|}{144}=\\frac{78}{144}=\\frac{13}{24}=0.541666\\ldots\n$$\n四舍五入到四位有效数字，结果是 $0.5417$。", "answer": "$$\\boxed{0.5417}$$", "id": "1364779"}]}