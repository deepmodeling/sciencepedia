{"hands_on_practices": [{"introduction": "动手实践的第一步是掌握如何使用期望的线性性来计算随机图中特定结构的平均数量。这个问题以社交网络中的“开放三元组”为背景，引导你计算一个三顶点路径（$P_3$）的期望数量。这是一个基础但极为重要的练习，它展示了如何将一个复杂的全局问题分解为一系列简单的局部概率计算。[@problem_id:1367265]", "problem": "考虑一个社交网络的简化模型，该模型表示为一个具有 $N$ 个顶点的图，其中每个顶点对应一个个体。任意两个顶点之间都有一条代表友谊关系的边，这条边以固定的概率 $p$ 存在，且与其他所有边独立。\n\n在社交网络分析中，一个关键的结构是“开放三元组”。开放三元组定义为一组由三个不同个体（例如 Alex、Beth 和 Chris）构成的集合，在他们之间恰好存在两段友谊关系。例如，Alex 是 Beth 的朋友，Beth 是 Chris 的朋友，但 Alex 和 Chris 不是朋友。这种结构在 Alex 和 Chris 之间形成了一条两步路径。\n\n你的任务是计算该网络模型中不同开放三元组的期望数量。单个开放三元组由其唯一的三个个体集合来确定。请用个体总数 $N$ 和友谊概率 $p$ 给出一个闭式解析表达式作为答案。", "solution": "设该网络为一个无向 Erdős–Rényi 图 $G(N,p)$，其有 $N$ 个顶点和独立的边概率 $p$。在一组三个不同的顶点上，当它们之间三条可能的边中恰好有两条存在时，就形成了一个开放三元组。\n\n对于任意一个固定的由不同顶点组成的无序三元组，存在三条可能的边。恰好有两条边存在的事件，要求在三条边中选择一条不存在，而其余两条边存在。根据边的独立性，一个给定的三元组形成开放三元组的概率是\n$$\n\\Pr(\\text{在给定三元组上的开放三元组})=3\\,p^{2}(1-p).\n$$\n设 $X$ 为图中开放三元组的总数。用 $T$ 来索引无序三元组，并定义指示变量 $I_{T}$：如果三元组 $T$ 构成一个开放三元组，则 $I_T=1$，否则 $I_T=0$。那么\n$$\nX=\\sum_{T} I_{T}, \\quad \\text{所以} \\quad \\mathbb{E}[X]=\\sum_{T} \\mathbb{E}[I_{T}].\n$$\n根据对称性，对于每个三元组 $T$，都有 $\\mathbb{E}[I_{T}]=3\\,p^{2}(1-p)$。无序三元组的数量为 $\\binom{N}{3}$。因此，\n$$\n\\mathbb{E}[X]=\\binom{N}{3}\\cdot 3\\,p^{2}(1-p)=\\frac{N(N-1)(N-2)}{2}\\,p^{2}(1-p).\n$$\n这就给出了不同开放三元组的期望数量关于 $N$ 和 $p$ 的一个闭式表达式。", "answer": "$$\\boxed{\\frac{N(N-1)(N-2)}{2}\\,p^{2}(1-p)}$$", "id": "1367265"}, {"introduction": "在掌握了基本子图的计数方法后，我们来探讨一个更精细的概念：诱导子图。这个问题要求你计算一个诱导的四顶点路径（$P_4$）的期望数量，这种结构在问题中被称为“脆弱线性级联”。通过这个练习，你将学会区分普通子图和诱导子图，并理解在计算中同时考虑边的存在与不存在的重要性。[@problem_id:1367289]", "problem": "考虑一个由 $n$ 个服务器组成的大规模网络，其中任意两个不同的服务器都以概率 $p$ 通过直接通信链路相连，且每对服务器之间的连接是独立的。该网络可以被建模为一个 Erdős-Rényi 随机图，记作 $G(n,p)$。\n\n在这个网络中，我们感兴趣的是一个特定的拓扑特征：一种“脆弱线性级联”。该特征被定义为一组四个不同的服务器，它们以这样一种方式排列，形成一个与四个顶点的路径图 $P_4$ 同构的*导出*子图。路径图 $P_k$ 是一个有 $k$ 个顶点 $v_1, v_2, \\dots, v_k$ 和 $k-1$ 条边 $(v_1,v_2), (v_2,v_3), \\dots, (v_{k-1},v_k)$ 的图。一个顶点集上的导出子图精确地包含原图中连接该集合内顶点的所有边。“脆弱”这一方面意味着不存在任何可以绕过该线性结构的捷径链路。\n\n确定随机图 $G(n,p)$ 中不同脆弱线性级联（即与 $P_4$ 同构的导出子图）的期望数量。最终答案应该是一个用 $n$ 和 $p$ 表示的闭式解析表达式。", "solution": "设 $X$ 为 $G(n,p)$ 中与 $P_{4}$ 同构的导出子图的数量。对所有 4 顶点子集 $S \\subseteq [n]$ 进行索引，并定义指示变量\n$$\nX_{S}=\n\\begin{cases}\n1, & \\text{如果 } S \\text{ 上的导出子图与 } P_{4} \\text{ 同构，}\\\\\n0, & \\text{否则。}\n\\end{cases}\n$$\n那么 $X=\\sum_{S} X_{S}$，其中求和遍历所有 $\\binom{n}{4}$ 个子集 $S$。根据期望的线性性，\n$$\n\\mathbb{E}[X]=\\sum_{S} \\mathbb{E}[X_{S}]=\\binom{n}{4}\\,\\mathbb{P}(\\text{固定集合 } S \\text{ 上的导出子图是 } P_{4})。\n$$\n\n固定一个 4 顶点集 $S$。在 $S$ 上的 $\\binom{4}{2}=6$ 条可能的边中，一个导出 $P_{4}$ 要求恰好存在 3 条路径边，而另外 3 条边不存在。对于 $S$ 上的 $P_{4}$ 的任何一个特定的标记实现，其概率为\n$$\np^{3}(1-p)^{3}。\n$$\n我们来计算在 $S$ 上有多少个不同的标记边集可以构成一个 $P_{4}$。以 $\\binom{4}{2}$ 种方式选择两个端点，然后以 2 种方式排列两个内部顶点，得到 12 个不同的边集。等价地，数量为 $\\frac{4!}{|\\mathrm{Aut}(P_{4})|}=\\frac{24}{2}=12$。因此，\n$$\n\\mathbb{P}(S \\text{ 上的导出子图为 }P_{4})=12\\,p^{3}(1-p)^{3}。\n$$\n\n代入回去，\n$$\n\\mathbb{E}[X]=\\binom{n}{4}\\cdot 12\\,p^{3}(1-p)^{3}=\\frac{1}{2}\\,n(n-1)(n-2)(n-3)\\,p^{3}(1-p)^{3}。\n$$\n这就是关于 $n$ 和 $p$ 的一个闭式表达式。", "answer": "$$\\boxed{\\frac{1}{2}\\,n(n-1)(n-2)(n-3)\\,p^{3}(1-p)^{3}}$$", "id": "1367289"}, {"introduction": "现在，我们将关注点从计算局部结构的平均数量转移到确定特定全局结构的出现概率上。这个问题挑战你计算一个随机图 $G(n,p)$ 恰好形成一个包含所有顶点的完美环（即哈密顿环）的概率。这个练习将组合学中的图计数与 $G(n,p)$ 模型的概率计算相结合，让你深入理解特定宏观结构在随机网络中出现的可能性。[@problem_id:1367296]", "problem": "考虑一个由 $n$ 个粒子组成的系统，其中 $n \\geq 3$。我们使用 Erdős-Rényi 随机图模型（记为 $G(n,p)$）来为这些粒子间的相互作用建模。该图有 $n$ 个顶点，代表这些粒子。对于任意一对不同的顶点，都以固定的概率 $p$ ($0 < p < 1$) 存在一条边，且与其他所有顶点对的边是否出现相互独立。如果生成的图是包含所有 $n$ 个顶点的单个圈（也称为哈密顿圈），我们称该结构形成了一个单个宏观环。确定图 $G(n,p)$ 形成这样一个单个宏观环的概率。将您的答案表示为 $n$ 和 $p$ 的函数。", "solution": "我们将相互作用图建模为具有 $n$ 个有标号顶点的图 $G(n,p)$，其中 $\\binom{n}{2}$ 条可能的边中的每一条都以概率 $p$ 独立地出现，并以概率 $1-p$ 不出现。\n\n“单个宏观环”意味着生成的图恰好是一个使用了所有 $n$ 个顶点且没有额外边的圈。对于一个固定的哈密顿圈（即，对 $n$ 个有标号顶点的一种固定的循环排序，相邻顶点之间以及首尾顶点之间有边），恰好有 $n$ 条边存在，而所有其他 $\\binom{n}{2}-n$ 条边都必须不存在。根据边的独立性，该图恰好是这个特定圈的概率为\n$$\np^{n}(1-p)^{\\binom{n}{2}-n}.\n$$\n\n我们现在计算在无向图设置中，$n$ 个有标号顶点上的不同哈密顿圈的数量。$n$ 个有标号顶点的循环排序数量为 $(n-1)!$，但由于存在两种可能的方向（顺时针和逆时针），每个无向圈被计算了两次。因此，不同哈密顿圈的数量为\n$$\n\\frac{(n-1)!}{2}.\n$$\n\n图等于两个不同哈密顿圈的事件是不相交的，因为每个这样的事件都指定了一个不同的确切边集。因此，根据不相交事件的概率可加性， $G(n,p)$ 恰好是一个 $n$-圈的总概率为\n$$\n\\frac{(n-1)!}{2}\\,p^{n}(1-p)^{\\binom{n}{2}-n}.\n$$\n这对所有 $n \\geq 3$ 和 $0<p<1$ 都成立。", "answer": "$$\\boxed{\\frac{(n-1)!}{2}\\,p^{n}\\left(1-p\\right)^{\\binom{n}{2}-n}}$$", "id": "1367296"}]}