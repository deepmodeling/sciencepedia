{"hands_on_practices": [{"introduction": "德菲内蒂定理的核心思想是将可交换序列看作是条件独立同分布过程的混合。理解这一点的第一步是学会如何从这个混合模型中计算基本概率。这个练习将指导你应用全概率定律，通过对未知参数 $\\theta$ 的所有可能性进行“平均”，从而将一个条件概率转化为一个无条件的边缘概率，这是理解和使用可交换序列的基础。[@problem_id:1355478]", "id": "1355478", "problem": "考虑一系列实验，每次实验的结果可以是成功（用 1 表示）或失败（用 0 表示）。设 $X_1, X_2, X_3, \\dots$ 是表示这些实验结果的随机变量序列。已知该序列是*可交换的*（exchangeable），这意味着其任何有限子集的联合概率分布在变量重新排序后保持不变。例如，观测到序列 (1, 0, 1) 的概率与观测到 (1, 1, 0) 或 (0, 1, 1) 的概率相同。\n\n概率论中的一个关键结果，de Finetti 定理，指出对于这样一个无限可交换的二元结果序列，存在一个在 $[0, 1]$ 上取值的随机变量 $\\Theta$，使得在以 $\\Theta = \\theta$ 为条件的`情况下`，随机变量 $X_1, X_2, \\dots$ 是独立的、同分布的伯努利试验，其成功概率由 $P(X_i = 1 | \\Theta = \\theta) = \\theta$ 给出。\n\n假设我们通过将参数 $\\Theta$ 视为从区间 $[0, 1]$ 上的连续均匀分布中抽取的随机变量，来为该过程潜在成功率的初始不确定性建模。\n\n基于此模型，计算第一次实验结果为成功的无条件概率，即 $P(X_1 = 1)$。", "solution": "该问题要求计算无条件概率 $P(X_1 = 1)$。我们已知在参数 $\\Theta$ 给定条件下 $X_1=1$ 的条件概率，也已知 $\\Theta$ 的概率分布。这种情况需要使用连续随机变量的全概率公式。\n\n设 $f_{\\Theta}(\\theta)$ 是随机变量 $\\Theta$ 的概率密度函数（PDF）。全概率公式指出，我们可以通过将事件的条件概率对条件变量的所有可能值进行积分，并以该变量的 PDF 加权，来求得事件的无条件概率。用数学形式表示为：\n$$P(X_1 = 1) = \\int_{-\\infty}^{\\infty} P(X_1 = 1 | \\Theta = \\theta) f_{\\Theta}(\\theta) \\, d\\theta$$\n\n我们已知两个关键信息：\n1. 成功的条件概率：$P(X_1 = 1 | \\Theta = \\theta) = \\theta$。\n2. 参数 $\\Theta$ 的分布：$\\Theta$ 服从区间 $[0, 1]$ 上的连续均匀分布。\n\n对于 $[a, b]$ 上的均匀分布，其 PDF 由 $f(x) = \\frac{1}{b-a}$（当 $x \\in [a, b]$ 时）给出，否则 $f(x)=0$。在我们的例子中，区间是 $[0, 1]$，因此 $\\Theta$ 的 PDF 是：\n$$f_{\\Theta}(\\theta) = \\frac{1}{1-0} = 1 \\quad \\text{对于 } \\theta \\in [0, 1]$$\n且当 $\\theta$ 在此区间之外时，$f_{\\Theta}(\\theta) = 0$。\n\n现在我们可以将这些代入全概率公式的积分中。由于当 $\\theta$ 在区间 $[0, 1]$ 之外时，$f_{\\Theta}(\\theta)$ 为零，积分的上下限可以从 $(-\\infty, \\infty)$ 更改为 $(0, 1)$：\n$$P(X_1 = 1) = \\int_{0}^{1} P(X_1 = 1 | \\Theta = \\theta) f_{\\Theta}(\\theta) \\, d\\theta$$\n\n代入给定的条件概率和 PDF 的表达式：\n$$P(X_1 = 1) = \\int_{0}^{1} (\\theta) \\cdot (1) \\, d\\theta$$\n$$P(X_1 = 1) = \\int_{0}^{1} \\theta \\, d\\theta$$\n\n现在，我们计算这个简单的积分。$\\theta$ 关于 $\\theta$ 的不定积分是 $\\frac{\\theta^2}{2}$。我们计算其在 0 到 1 上的定积分：\n$$P(X_1 = 1) = \\left[ \\frac{\\theta^2}{2} \\right]_{0}^{1}$$\n$$P(X_1 = 1) = \\frac{1^2}{2} - \\frac{0^2}{2}$$\n$$P(X_1 = 1) = \\frac{1}{2} - 0$$\n$$P(X_1 = 1) = \\frac{1}{2}$$\n\n因此，第一次实验成功的无条件概率是 $\\frac{1}{2}$。这个结果意味着，在没有任何先验观测，并且对成功概率 $\\theta$ 采用完全无信息（均匀）的先验分布时，成功和失败是等可能的。", "answer": "$$\\boxed{\\frac{1}{2}}$$"}, {"introduction": "德菲内蒂定理揭示了一个深刻的见解：在一个可交换序列中，虽然观测值在给定参数 $\\theta$ 时是独立的，但它们在整体上并非独立。本练习将引导你计算两次观测之间的相关性，从而揭示它们之间存在的正相关关系。这种相关性源于每次观测都为我们提供了关于那个共同的、未知的参数 $\\theta$ 的信息。[@problem_id:1355469]", "id": "1355469", "problem": "一位政治学家正在研究一项新法律提案的公众舆论。支持该法律的人口真实比例 $\\theta$ 是未知的。为了对这种不确定性进行建模，该科学家将 $\\theta$ 视为一个随机变量 $\\Theta$ 的结果，该随机变量在区间 $[0, 1]$ 上服从均匀分布。\n\n该科学家通过从总体中随机抽样个体来进行民意调查。令 $X_i$ 为一个随机变量，表示第 $i$ 个个体的回答，其中如果该个体支持该法律，则 $X_i = 1$，否则 $X_i = 0$。假设对于给定的真实比例 $\\theta$，$X_1, X_2, \\ldots$ 这些个体回答是相互独立且同分布的伯努利试验，其成功（支持）的概率等于 $\\theta$。\n\n考虑这个模型，任意两个不同个体 $i$ 和 $j$（其中 $i \\neq j$）的回答之间的相关系数 $\\text{Corr}(X_i, X_j)$ 是多少？", "solution": "我们通过一个分层混合模型来对回答进行建模：令 $\\Theta \\sim \\text{Uniform}(0,1)$，并且在 $\\Theta=\\theta$ 的条件下，变量 $X_{1},X_{2},\\ldots$ 是独立的，其中 $X_{i} \\sim \\text{Bernoulli}(\\theta)$。对于 $i \\neq j$，相关系数为\n$$\n\\text{Corr}(X_{i},X_{j})=\\frac{\\text{Cov}(X_{i},X_{j})}{\\sqrt{\\text{Var}(X_{i})\\text{Var}(X_{j})}}=\\frac{\\text{Cov}(X_{1},X_{2})}{\\text{Var}(X_{1})},\n$$\n根据可交换性。\n\n首先使用全期望定律计算 $E[X_{1}]$：\n$$\nE[X_{1}]=E\\!\\left[E[X_{1}\\mid \\Theta]\\right]=E[\\Theta]=\\int_{0}^{1}\\theta\\,d\\theta=\\frac{1}{2}.\n$$\n接下来，利用在给定 $\\Theta$ 下的条件独立性来计算 $E[X_{1}X_{2}]$：\n$$\nE[X_{1}X_{2}]=E\\!\\left[E[X_{1}X_{2}\\mid \\Theta]\\right]=E\\!\\left[E[X_{1}\\mid \\Theta]\\,E[X_{2}\\mid \\Theta]\\right]=E[\\Theta^{2}]=\\int_{0}^{1}\\theta^{2}\\,d\\theta=\\frac{1}{3}.\n$$\n因此，\n$$\n\\text{Cov}(X_{1},X_{2})=E[X_{1}X_{2}]-E[X_{1}]E[X_{2}]=\\frac{1}{3}-\\left(\\frac{1}{2}\\right)^{2}=\\frac{1}{12}.\n$$\n\n现在使用全方差定律计算 $\\text{Var}(X_{1})$：\n$$\n\\text{Var}(X_{1})=E\\!\\left[\\text{Var}(X_{1}\\mid \\Theta)\\right]+\\text{Var}\\!\\left(E[X_{1}\\mid \\Theta]\\right)=E[\\Theta(1-\\Theta)]+\\text{Var}(\\Theta).\n$$\n我们有\n$$\nE[\\Theta(1-\\Theta)]=E[\\Theta]-E[\\Theta^{2}]=\\frac{1}{2}-\\frac{1}{3}=\\frac{1}{6},\n$$\n以及\n$$\n\\text{Var}(\\Theta)=E[\\Theta^{2}]-(E[\\Theta])^{2}=\\frac{1}{3}-\\left(\\frac{1}{2}\\right)^{2}=\\frac{1}{12}.\n$$\n因此，\n$$\n\\text{Var}(X_{1})=\\frac{1}{6}+\\frac{1}{12}=\\frac{1}{4}.\n$$\n\n最后，相关系数为\n$$\n\\text{Corr}(X_{i},X_{j})=\\frac{\\frac{1}{12}}{\\frac{1}{4}}=\\frac{1}{3}.\n$$", "answer": "$$\\boxed{\\frac{1}{3}}$$"}, {"introduction": "德菲内蒂定理的真正力量在于它为贝叶斯推断提供了理论基础，即构建一个从数据中学习的框架。这个实践问题模拟了一个真实场景：我们基于观测数据来更新关于未知参数的初始信念。你将运用贝叶斯定理来修正你的理解，并对未来的事件做出预测，这正是贝叶斯学习过程的精髓。[@problem_id:1355482]", "id": "1355482", "problem": "在一家半导体制造厂中，一批微处理器由两条不同的生产线（生产线A或生产线B）之一生产。目前尚不清楚是哪条生产线生产了当前这批产品。根据历史生产数据，该批次来自生产线A的先验概率为 $\\frac{1}{4}$，而来自生产线B的概率为 $\\frac{3}{4}$。\n\n每条生产线所产微处理器的质量由一个恒定但不同的通过特定应力测试的概率来表征。来自生产线A的微处理器通过测试的概率为 $\\frac{1}{3}$，而来自生产线B的微处理器通过测试的概率为 $\\frac{2}{3}$。在来自同一条生产线的任何给定批次中，不同微处理器的测试结果是相互独立的。\n\n一位工程师从该批次中随机抽取三个微处理器进行测试。第一个微处理器通过了测试，而第二个未通过。设随机变量 $X_i$ 在第 $i$ 个微处理器通过测试时为1，未通过时为0。因此，观测到的结果是 $X_1 = 1$ 和 $X_2 = 0$。\n\n计算在已知前两个测试结果的条件下，第三个微处理器将通过测试的概率。请将您的答案表示为一个最简分数。", "solution": "设未知的生产线为一个潜变量 $L \\in \\{A,B\\}$。先验概率为 $P(L=A)=\\frac{1}{4}$ 和 $P(L=B)=\\frac{3}{4}$。通过概率为 $p_{A}=\\frac{1}{3}$ 和 $p_{B}=\\frac{2}{3}$，并且在给定 $L$ 的条件下，测试结果是服从相应参数的独立 Bernoulli 分布。\n\n用 $D=\\{X_{1}=1, X_{2}=0\\}$ 表示观测数据。根据给定 $L$ 的条件独立性，似然函数为\n$$\nP(D \\mid L=A)=p_{A}\\left(1-p_{A}\\right)=\\frac{1}{3}\\cdot\\frac{2}{3}=\\frac{2}{9}, \\quad\nP(D \\mid L=B)=p_{B}\\left(1-p_{B}\\right)=\\frac{2}{3}\\cdot\\frac{1}{3}=\\frac{2}{9}.\n$$\n根据 Bayes’ 法则，\n$$\nP(L=A \\mid D)=\\frac{P(D \\mid A)P(A)}{P(D \\mid A)P(A)+P(D \\mid B)P(B)}.\n$$\n由于 $P(D \\mid A)=P(D \\mid B)$，后验概率等于先验概率：\n$$\nP(L=A \\mid D)=\\frac{1}{4}, \\quad P(L=B \\mid D)=\\frac{3}{4}.\n$$\n第三个测试的预测概率可通过全概率公式获得：\n$$\nP(X_{3}=1 \\mid D)=P(L=A \\mid D)\\,p_{A}+P(L=B \\mid D)\\,p_{B}\n=\\frac{1}{4}\\cdot\\frac{1}{3}+\\frac{3}{4}\\cdot\\frac{2}{3}\n=\\frac{1}{12}+\\frac{1}{2}=\\frac{7}{12}.\n$$\n因此，在已知前两个测试结果的条件下，第三个微处理器通过测试的概率是 $\\frac{7}{12}$。", "answer": "$$\\boxed{\\frac{7}{12}}$$"}]}