{"hands_on_practices": [{"introduction": "这个练习展示了对称性的力量，这是可交换序列的一个决定性特征。通过在给定序列总和 $S_n = \\sum_{i=1}^n X_i = s$ 的条件下计算单个变量的条件期望 $E[X_1 | S_n = s]$，你将学会关于整体的信息是如何均等地分配给其各个组成部分的。这是一个经典范例，能够加深你对对称系统的直观理解。[@problem_id:1360777]", "problem": "考虑一个由 $n$ 个相互作用的智能体组成的系统，例如，金融市场中的交易员或社交网络中的个人。令随机变量 $X_i$ 表示智能体 $i$ 的某个特定数值属性，其中 $i = 1, 2, \\dots, n$。由于智能体之间存在相互作用，其属性不一定是独立的。然而，已知该系统是对称的，这意味着如果我们任意地重新标记这些智能体，其属性的联合统计特性将保持不变。这表明随机变量序列 $(X_1, X_2, \\dots, X_n)$ 是有限可交换的。\n\n如果对于索引 $\\{1, 2, \\dots, n\\}$ 的任意一个排列 $\\pi$，随机变量序列 $(X_{\\pi(1)}, X_{\\pi(2)}, \\dots, X_{\\pi(n)})$ 的联合概率分布与 $(X_1, X_2, \\dots, X_n)$ 的联合概率分布相同，则该序列 $(X_1, \\dots, X_n)$ 被定义为有限可交换的。假设对所有的 $i$，$E[X_i]$ 都存在。\n\n假设对系统的一次全局测量只揭示了所有属性的总和，且发现该总和是一个特定值 $s$。也就是说，我们有条件 $\\sum_{i=1}^n X_i = s$。\n\n在给定此信息的情况下，确定第一个智能体属性的条件期望 $E\\left[X_1 \\mid \\sum_{i=1}^n X_i = s\\right]$。请用 $n$ 和 $s$ 将您的答案表示为一个解析表达式。", "solution": "令 $S \\equiv \\sum_{i=1}^{n} X_{i}$。根据有限可交换性，对于 $\\{1,\\dots,n\\}$ 的任意排列 $\\pi$，$(X_{1},\\dots,X_{n})$ 的联合分布与 $(X_{\\pi(1)},\\dots,X_{\\pi(n)})$ 的联合分布相同。特别地，对于任意有界可测函数 $h$ 和任意 $j \\in \\{1,\\dots,n\\}$，选择一个交换索引 $1$ 和 $j$ 的排列。由于 $S$ 在排列下是对称的，$S$ 在这种交换下是不变的。因此，\n$$\nE\\!\\left[X_{1} h(S)\\right] \\;=\\; E\\!\\left[X_{j} h(S)\\right].\n$$\n根据条件期望的定义性质以及 $h(S)$ 相对于 $\\sigma(S)$ 是可测的这一事实，这意味着\n$$\nE\\!\\left[E\\!\\left[X_{1}\\mid S\\right] h(S)\\right] \\;=\\; E\\!\\left[E\\!\\left[X_{j}\\mid S\\right] h(S)\\right]\n$$\n对所有有界可测函数 $h$ 成立。因此，\n$$\nE\\!\\left[X_{1}\\mid S\\right] \\;=\\; E\\!\\left[X_{j}\\mid S\\right] \\quad \\text{几乎必然对所有 } j,\n$$\n所以存在一个函数 $m$ 使得 $E[X_{i}\\mid S]=m(S)$ 对每个 $i$ 几乎必然成立。\n\n利用条件期望的线性性，\n$$\nE\\!\\left[S \\mid S\\right] \\;=\\; E\\!\\left[\\sum_{i=1}^{n} X_{i} \\,\\bigg|\\, S\\right] \\;=\\; \\sum_{i=1}^{n} E\\!\\left[X_{i}\\mid S\\right] \\;=\\; \\sum_{i=1}^{n} m(S) \\;=\\; n\\,m(S).\n$$\n但是 $E[S\\mid S]=S$ 几乎必然成立，所以\n$$\nn\\,m(S) \\;=\\; S \\quad \\Rightarrow \\quad m(S) \\;=\\; \\frac{S}{n} \\quad \\text{几乎必然}.\n$$\n从而，对于总和的任意特定值 $s$，\n$$\nE\\!\\left[X_{1}\\mid S=s\\right] \\;=\\; \\frac{s}{n}.\n$$", "answer": "$$\\boxed{\\frac{s}{n}}$$", "id": "1360777"}, {"introduction": "这个问题是 de Finetti 定理的一个具体例证，该定理深刻揭示了可交换序列的内在结构。你将推导出一组条件独立变量的联合分布，从而揭示可交换性是如何从混合模型中自然产生的。这个概念是贝叶斯推断和建模的基石。[@problem_id:1360778]", "problem": "在一家半导体制造厂中，一种新的蚀刻工艺正在开发中。单个微芯片通过质量控制检查的概率 $P$ 是未知的，并且由于环境敏感性，它可能会每日波动。这个每日概率 $P$ 被建模为一个服从贝塔分布的随机变量，其已知的形状参数为 $\\alpha > 0$ 和 $\\beta > 0$。贝塔分布的概率密度函数由 $f(p; \\alpha, \\beta) = \\frac{p^{\\alpha-1}(1-p)^{\\beta-1}}{B(\\alpha, \\beta)}$ 给出，其中 $p \\in (0,1)$，$B(\\alpha, \\beta)$ 是贝塔函数。\n\n在给定的一天，成功概率 $P$ 固定但未知，进行了一系列 $n$ 次独立实验。在每次实验 $i$（其中 $i=1, \\dots, n$）中，芯片被依次测试，直到找到第一个通过测试的芯片。令 $X_i$ 为在第 $i$ 次实验中观察到第一个通过测试的芯片时的试验次数。给定 $P$，每个 $X_i$ 都服从几何分布，其概率质量函数(PMF)定义为 $P(X_i = k | P) = (1-P)^{k-1}P$，其中 $k \\in \\{1, 2, 3, \\dots\\}$。\n\n假设随机变量 $X_1, X_2, \\dots, X_n$ 在给定 $P$ 的值时是条件独立的，请确定它们的联合无条件概率质量函数 $p(x_1, x_2, \\dots, x_n)$。\n\n请用 $x_1, \\dots, x_n, n, \\alpha, \\beta,$ 和贝塔函数 $B(a,b)$ 将您的答案表示为一个闭式解析表达式。", "solution": "我们已知，在成功概率 $P=p$ 固定的条件下，随机变量 $X_{1},\\dots,X_{n}$ 是独立的，并且每个都服从支撑集为 $\\{1,2,3,\\dots\\}$ 的几何分布，其概率质量函数(PMF)为\n$$\n\\Pr(X_{i}=x_{i}\\mid P=p)=(1-p)^{x_{i}-1}p.\n$$\n因此，给定 $P=p$ 时 $(X_{1},\\dots,X_{n})$ 的联合条件概率质量函数为\n$$\n\\Pr(X_{1}=x_{1},\\dots,X_{n}=x_{n}\\mid P=p)=\\prod_{i=1}^{n}(1-p)^{x_{i}-1}p\n=p^{n}(1-p)^{\\sum_{i=1}^{n}x_{i}-n}.\n$$\n$P$ 的先验分布为 $\\operatorname{Beta}(\\alpha,\\beta)$，其密度函数为\n$$\nf(p;\\alpha,\\beta)=\\frac{p^{\\alpha-1}(1-p)^{\\beta-1}}{B(\\alpha,\\beta)},\\quad p\\in(0,1).\n$$\n根据全概率律（对 $P$ 进行边缘化），无条件联合概率质量函数为\n$$\np(x_{1},\\dots,x_{n})\n=\\int_{0}^{1}\\Pr(X_{1}=x_{1},\\dots,X_{n}=x_{n}\\mid P=p)\\,f(p;\\alpha,\\beta)\\,dp.\n$$\n代入上面推导出的表达式，\n$$\np(x_{1},\\dots,x_{n})\n=\\int_{0}^{1}p^{n}(1-p)^{\\sum_{i=1}^{n}x_{i}-n}\\cdot \\frac{p^{\\alpha-1}(1-p)^{\\beta-1}}{B(\\alpha,\\beta)}\\,dp\n=\\frac{1}{B(\\alpha,\\beta)}\\int_{0}^{1}p^{\\alpha+n-1}(1-p)^{\\beta+\\sum_{i=1}^{n}x_{i}-n-1}\\,dp.\n$$\n识别出该积分为贝塔函数的定义 $B(a,b)=\\int_{0}^{1}t^{a-1}(1-t)^{b-1}\\,dt$，我们得到\n$$\np(x_{1},\\dots,x_{n})=\\frac{B\\!\\left(\\alpha+n,\\ \\beta+\\sum_{i=1}^{n}x_{i}-n\\right)}{B(\\alpha,\\beta)},\n$$\n其中 $x_{i}\\in\\{1,2,3,\\dots\\}$，$i=1,\\dots,n$。这是一个用 $x_{1},\\dots,x_{n},n,\\alpha,\\beta$ 和贝塔函数 $B(a,b)$ 表示的闭式表达式。", "answer": "$$\\boxed{\\frac{B\\!\\left(\\alpha+n,\\ \\beta+\\sum_{i=1}^{n}x_{i}-n\\right)}{B(\\alpha,\\beta)}}$$", "id": "1360778"}, {"introduction": "基于可交换变量不一定独立的理解，这个练习聚焦于一个关键的统计推论：相关性。你将计算一个可交换序列总和 $S_N = \\sum_{i=1}^N X_i$ 的方差，学习协方差项 $\\text{Cov}(X_i, X_j) = \\gamma$（其中 $i \\neq j$）如何从根本上改变与独立同分布（IID）情形不同的结果。这项技能对于在受共同影响的系统中正确建模不确定性至关重要。[@problem_id:1360765]", "problem": "一家农业科技公司在一大片田地里部署了一个由 $N$ 个传感器组成的网络，以监测土壤湿度水平。设 $X_i$ 为表示第 $i$ 个传感器测量值的随机变量，其中 $i=1, 2, \\dots, N$。由于制造工艺和校准，这些传感器被认为是统计上相同的。这意味着任何单个传感器测量值的方差都相同，我们将其记为 $\\sigma^2$。形式上，对于所有的 $i$，都有 $\\text{Var}(X_i) = \\sigma^2$。\n\n由于传感器位于同一块田地，它们会受到共同环境因素的影响，例如降雨和灌溉模式。因此，它们的读数在统计上不是独立的。公司使用的模型假设，任何两个不同传感器的读数之间的协方差是一个恒定值，我们将其记为 $\\gamma$。形式上，对于所有的 $i \\neq j$，都有 $\\text{Cov}(X_i, X_j) = \\gamma$。\n\n公司通过计算所有传感器读数的总和 $S_N = \\sum_{i=1}^N X_i$ 来聚合数据。请确定这个总和的方差 $\\text{Var}(S_N)$ 的表达式，用 $N$、$\\sigma^2$ 和 $\\gamma$ 表示。", "solution": "设 $S_{N}=\\sum_{i=1}^{N} X_{i}$。随机变量之和的方差满足\n$$\n\\operatorname{Var}\\!\\left(\\sum_{i=1}^{N} X_{i}\\right)=\\sum_{i=1}^{N} \\operatorname{Var}(X_{i})+2\\sum_{1 \\leq i<j \\leq N} \\operatorname{Cov}(X_{i},X_{j}).\n$$\n已知对于所有的 $i$ 都有 $\\operatorname{Var}(X_{i})=\\sigma^{2}$，且对于所有的 $i \\neq j$ 都有 $\\operatorname{Cov}(X_{i},X_{j})=\\gamma$，我们分别计算各项。\n\n首先，\n$$\n\\sum_{i=1}^{N} \\operatorname{Var}(X_{i})=\\sum_{i=1}^{N} \\sigma^{2}=N\\sigma^{2}.\n$$\n其次，\n$$\n2\\sum_{1 \\leq i<j \\leq N} \\operatorname{Cov}(X_{i},X_{j})=2\\sum_{1 \\leq i<j \\leq N} \\gamma=2 \\binom{N}{2} \\gamma=2 \\cdot \\frac{N(N-1)}{2}\\gamma=N(N-1)\\gamma.\n$$\n因此，\n$$\n\\operatorname{Var}(S_{N})=N\\sigma^{2}+N(N-1)\\gamma.\n$$", "answer": "$$\\boxed{N\\sigma^{2}+N(N-1)\\gamma}$$", "id": "1360765"}]}