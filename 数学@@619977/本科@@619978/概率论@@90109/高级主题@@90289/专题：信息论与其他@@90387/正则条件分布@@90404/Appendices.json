{"hands_on_practices": [{"introduction": "我们从一个直观的二维几何问题开始，来建立正则条件分布的基本概念。在这个练习中，给定一个二维平面上的均匀分布区域，我们将通过固定一个变量 $Y$ 的值来探索另一个变量 $X$ 的行为。这就像对联合概率密度进行一次“水平切割”，通过计算切面上概率的分布，我们可以具体地理解条件概率密度函数 $f_{X|Y}(x|y)$ 是如何从联合密度 $f_{X,Y}(x,y)$ 和边缘密度 $f_Y(y)$ 中产生的 [@problem_id:1384514]。", "problem": "一个坐标为 $(X, Y)$ 的点从笛卡尔平面中的一个区域 $\\mathcal{R}$ 内被随机选取。该选取服从 $\\mathcal{R}$ 上的均匀概率分布。区域 $\\mathcal{R}$ 被定义为满足不等式 $x^2 \\le y \\le 1$ 的所有点 $(x, y)$ 的集合。\n\n考虑一个特定的结果，其中观测到 $y$ 坐标为 $Y=y$，其中 $y$ 的取值满足 $0 < y < 1$。任务是确定在此观测条件下，随机变量 $X$ 的条件概率分布的性质。\n\n下列哪个描述准确地刻画了给定 $Y=y$ 时 $X$ 的条件分布？\n\nA. 在区间 $[-\\sqrt{y}, \\sqrt{y}]$ 上的均匀分布\n\nB. 在区间 $[-1, 1]$ 上的均匀分布\n\nC. 均值为 0、方差为 $y$ 的正态分布\n\nD. 在区间 $[-1, 1]$ 上具有抛物线形概率密度函数的分布\n\nE. 在区间 $[0, \\infty)$ 上的指数分布", "solution": "令 $\\mathcal{R}=\\{(x,y): x^{2}\\leq y\\leq 1\\}$。由于该选取在 $\\mathcal{R}$ 上是均匀的，其联合密度函数具有以下形式\n$$\nf_{X,Y}(x,y)=c \\quad \\text{for }(x,y)\\in \\mathcal{R}, \\quad \\text{and }0\\text{ otherwise},\n$$\n其中 $c$ 由归一化条件确定。区域 $\\mathcal{R}$ 的面积为\n$$\nA=\\iint_{\\mathcal{R}} dx\\,dy=\\int_{0}^{1}\\left(\\int_{-\\sqrt{y}}^{\\sqrt{y}} dx\\right)dy=\\int_{0}^{1}2\\sqrt{y}\\,dy=2\\int_{0}^{1}y^{1/2}\\,dy=2\\left[\\frac{2}{3}y^{3/2}\\right]_{0}^{1}=\\frac{4}{3}.\n$$\n因此 $c=\\frac{1}{A}=\\frac{3}{4}$。\n\n对于 $0<y<1$，$Y$ 的边际密度函数为\n$$\nf_{Y}(y)=\\int_{-\\sqrt{y}}^{\\sqrt{y}} f_{X,Y}(x,y)\\,dx=\\int_{-\\sqrt{y}}^{\\sqrt{y}} c\\,dx=c\\cdot 2\\sqrt{y}.\n$$\n因此，给定 $Y=y$ 时 $X$ 的条件密度函数为\n$$\nf_{X\\mid Y}(x\\mid y)=\\frac{f_{X,Y}(x,y)}{f_{Y}(y)}=\\frac{c}{2c\\sqrt{y}}=\\frac{1}{2\\sqrt{y}}\n$$\n对于 $x\\in[-\\sqrt{y},\\sqrt{y}]$，其他情况下为 $0$。这正是在区间 $[-\\sqrt{y},\\sqrt{y}]$ 上的均匀分布的密度函数，因为该区间的长度是 $2\\sqrt{y}$，而常数密度值恰好是其倒数。\n\n因此，正确的描述是在 $[-\\sqrt{y},\\sqrt{y}]$ 上的均匀分布。", "answer": "$$\\boxed{A}$$", "id": "1384514"}, {"introduction": "在掌握了二维情况后，我们将挑战一个三维空间中的问题，将我们的直观理解扩展到更高维度。这个练习要求我们处理一个在四面体内部均匀分布的随机点 $(X,Y,Z)$，并推导在已知 $X=x$ 和 $Y=y$ 的条件下，$Z$ 的条件分布 [@problem_id:1384540]。这不仅巩固了“切片”的思想，也展示了即使在更复杂的几何设定中，正则条件分布的计算原则依然适用。", "problem": "一个坐标由随机向量 $(X, Y, Z)$ 表示的点，从一个三维空间中根据一个在四面体体积上的均匀概率分布进行选取。该四面体的顶点位于点 $(0,0,0)$, $(1,0,0)$, $(0,1,0)$ 和 $(0,0,1)$。\n\n考虑一次观测，其中前两个坐标的值已知，即 $X=x$ 和 $Y=y$，且满足约束条件 $x > 0$, $y > 0$ 和 $x+y < 1$。\n\n在给定 $X=x$ 和 $Y=y$ 的条件下，确定随机变量 $Z$ 在其有效取值范围内的条件概率密度函数的值。请将您的答案表示为关于 $x$ 和 $y$ 的符号表达式。", "solution": "设 $T$ 为顶点在 $(0,0,0)$, $(1,0,0)$, $(0,1,0)$ 和 $(0,0,1)$ 的四面体。穿过三个非原点顶点 $(1,0,0)$, $(0,1,0)$ 和 $(0,0,1)$ 的平面由方程 $x+y+z=1$ 给出。四面体 $T$ 是 $\\mathbb{R}^3$ 中由以下不等式定义的区域：\n$$ x \\ge 0, \\quad y \\ge 0, \\quad z \\ge 0, \\quad x+y+z \\le 1 $$\n\n第一步是求出随机向量 $(X, Y, Z)$ 的联合概率密度函数 (PDF)，记为 $f_{X,Y,Z}(x,y,z)$。由于分布在四面体 $T$ 的体积上是均匀的，联合 PDF 在 $T$ 内部为一个常数，在其他地方为零。这个常数的值是 $T$ 体积的倒数。\n\n一个顶点在原点，另外三个顶点由向量 $\\vec{a}$、$\\vec{b}$ 和 $\\vec{c}$ 给出的四面体的体积为 $V = \\frac{1}{6} |(\\vec{a} \\times \\vec{b}) \\cdot \\vec{c}|$。在我们的例子中，$\\vec{a} = (1,0,0)$，$\\vec{b} = (0,1,0)$，以及 $\\vec{c} = (0,0,1)$。\n叉积为：\n$$ \\vec{a} \\times \\vec{b} = (1,0,0) \\times (0,1,0) = (0,0,1) $$\n点积为：\n$$ (\\vec{a} \\times \\vec{b}) \\cdot \\vec{c} = (0,0,1) \\cdot (0,0,1) = 1 $$\n所以，四面体的体积是：\n$$ V = \\frac{1}{6} |1| = \\frac{1}{6} $$\n因此，联合 PDF 为：\n$$ f_{X,Y,Z}(x,y,z) = \\begin{cases} \\frac{1}{V} = 6 & \\text{if } (x,y,z) \\in T \\\\ 0 & \\text{otherwise} \\end{cases} $$\n\n下一步是求出 $(X,Y)$ 对的边缘概率密度函数，记为 $f_{X,Y}(x,y)$。这通过将联合 PDF 对所有可能的 $z$ 值进行积分得到。\n$$ f_{X,Y}(x,y) = \\int_{-\\infty}^{\\infty} f_{X,Y,Z}(x,y,z) \\, dz $$\n对于一个固定的 $(x,y)$ 对， $z$ 的可能范围由定义 $T$ 的不等式决定：$z \\ge 0$ 和 $z \\le 1-x-y$。因此，积分区间是从 $0$ 到 $1-x-y$。边缘 PDF 仅在由 $x \\ge 0, y \\ge 0, x+y \\le 1$ 定义的三角形区域 $S$ 内的 $(x,y)$ 处非零。对于 $(x,y) \\in S$：\n$$ f_{X,Y}(x,y) = \\int_{0}^{1-x-y} 6 \\, dz = 6 [z]_{0}^{1-x-y} = 6(1-x-y) $$\n所以，对于支撑区域 $S$ 内的 $(x,y)$，边缘 PDF 是 $f_{X,Y}(x,y) = 6(1-x-y)$，在其他情况下为 0。\n\n问题要求的是给定 $X=x$ 和 $Y=y$ 时 $Z$ 的条件概率密度函数，记为 $f_{Z|X,Y}(z|x,y)$。它由以下公式给出：\n$$ f_{Z|X,Y}(z|x,y) = \\frac{f_{X,Y,Z}(x,y,z)}{f_{X,Y}(x,y)} $$\n此函数在 $f_{X,Y}(x,y) > 0$ 的 $(x,y)$ 值处有定义。题目指定了 $x>0, y>0, x+y<1$，这在支撑区域 $S$ 内部，所以 $f_{X,Y}(x,y) = 6(1-x-y) \\neq 0$。\n\n给定 $x$ 和 $y$ 时，$z$ 的条件支撑集是 $0 \\le z \\le 1-x-y$。在这个 $z$ 的范围内，我们有 $f_{X,Y,Z}(x,y,z) = 6$。因此，对于 $0 \\le z \\le 1-x-y$：\n$$ f_{Z|X,Y}(z|x,y) = \\frac{6}{6(1-x-y)} = \\frac{1}{1-x-y} $$\n对于此范围之外的 $z$ 值，条件 PDF 为 0。该条件分布是区间 $[0, 1-x-y]$ 上的一个均匀分布。\n\n题目要求的是条件概率密度函数在其有效取值范围内的值。这个值是常数 $\\frac{1}{1-x-y}$。", "answer": "$$\\boxed{\\frac{1}{1-x-y}}$$", "id": "1384540"}, {"introduction": "现在，让我们超越简单的几何切片，探索一种更抽象但功能强大的条件化情景。在这个问题中，我们将不再对单个坐标进行条件化，而是对一组随机变量的函数——它们的次序统计量（具体来说是最大值）进行条件化 [@problem_id:1384520]。这种类型的分析在可靠性工程和经济学等领域至关重要，它将揭示一个深刻的结果：条件分布可以是一种混合分布，即同时包含离散的概率质量点和连续的概率密度部分。", "problem": "一个分布式传感器网络由部署在偏远地区的 $n$ 个独立同分布的传感器节点组成。每个传感器的寿命，记为 $X_i$（其中 $i=1, \\dots, n$），是一个随机变量，假设其服从均匀分布 $U[0, \\theta]$，其中 $\\theta$ 是一个已知的以年为单位的最大可能寿命。只要至少有一个传感器在工作，该网络就被认为是可运行的。一位工程师到达现场，观察到最后一个传感器在时间 $y$ 失效，即所有传感器中的最大寿命为 $X_{(n)} = \\max(X_1, \\dots, X_n) = y$。该工程师对在这一观测条件下，某个特定传感器（例如传感器1，$X_1$）的寿命的统计特性感兴趣。\n\n对于给定的 $y \\in (0, \\theta]$ 和整数 $n \\ge 2$，以下哪个陈述正确描述了在给定 $X_{(n)}=y$ 的条件下 $X_1$ 的条件概率分布？\n\nA. 该分布是一个混合分布。在点 $x=y$ 处有一个大小为 $1/n$ 的离散概率质量。剩余的概率 $(n-1)/n$ 在区间 $[0, y)$ 上连续均匀分布。\n\nB. 该分布是纯连续的，并且在区间 $[0, y]$ 上是均匀分布。\n\nC. 该分布是纯连续的，其概率密度函数为 $f(x|y) = \\frac{n x^{n-1}}{y^n}$，其中 $0 \\le x \\le y$。\n\nD. 该分布是一个混合分布。在点 $x=y$ 处有一个大小为 $1/2$ 的离散概率质量，剩余的概率 $1/2$ 在区间 $[0, y)$ 上连续均匀分布，无论 $n$ 的值是多少。", "solution": "设 $X_{1},\\dots,X_{n}$ 是独立同分布的随机变量，且 $X_{i} \\sim U[0,\\theta]$，并令 $X_{(n)}=\\max(X_{1},\\dots,X_{n})$。固定 $y \\in (0,\\theta]$。因为分布是连续的，所以最大值由唯一的某个下标取到的概率为1。在 $X_{(n)}=y$ 的条件下，由于可交换性（exchangeability），最大值由下标 $i$ 取到的事件的概率为 $1/n$，因此\n$$\n\\mathbb{P}(X_{1}=y \\mid X_{(n)}=y)=\\frac{1}{n},\n$$\n这表明在 $X_{1}$ 的条件分布中，在 $x=y$ 处有一个大小为 $\\frac{1}{n}$ 的离散点质量。\n\n接下来，对于 $0 \\leq x < y \\leq \\theta$，我们计算条件密度 $f_{X_{1}\\mid X_{(n)}}(x\\mid y)$。令 $M_{-1}=\\max(X_{2},\\dots,X_{n})$。对于 $x<y$，事件 $\\{X_{(n)}=y\\}$ 与事件 $\\{M_{-1}=y\\}$ 相同，因为 $X_{1}<y$ 意味着总体的最大值是其余 $n-1$ 个变量的最大值。利用独立性，\n$$\nf_{X_{1},X_{(n)}}(x,y)=f_{X_{1}}(x)\\,f_{M_{-1}}(y), \\quad 0\\leq x<y\\leq \\theta.\n$$\n这里，当 $x \\in [0,\\theta]$ 时，$f_{X_{1}}(x)=\\frac{1}{\\theta}$，并且 $n-1$ 个独立的 $U[0,\\theta]$ 变量的最大值的密度为\n$$\nf_{M_{-1}}(y)=\\frac{(n-1)\\,y^{\\,n-2}}{\\theta^{\\,n-1}}, \\quad 0\\leq y \\leq \\theta.\n$$\n因此，\n$$\nf_{X_{1},X_{(n)}}(x,y)=\\frac{n-1}{\\theta^{\\,n}}\\,y^{\\,n-2}, \\quad 0\\leq x<y\\leq \\theta.\n$$\n最大值 $X_{(n)}$ 的边际密度为\n$$\nf_{X_{(n)}}(y)=\\frac{n\\,y^{\\,n-1}}{\\theta^{\\,n}}, \\quad 0< y < \\theta.\n$$\n因此，对于 $0\\leq x<y$，\n$$\nf_{X_{1}\\mid X_{(n)}}(x\\mid y)=\\frac{f_{X_{1},X_{(n)}}(x,y)}{f_{X_{(n)}}(y)}=\\frac{\\frac{n-1}{\\theta^{\\,n}}\\,y^{\\,n-2}}{\\frac{n\\,y^{\\,n-1}}{\\theta^{\\,n}}}=\\frac{n-1}{n\\,y}.\n$$\n这个密度函数在 $[0,y)$ 上关于 $x$ 是一个常数，因此它在 $[0,y)$ 上是均匀分布的。它在 $[0,y)$ 上的总质量为\n$$\n\\int_{0}^{y}\\frac{n-1}{n\\,y}\\,dx=\\frac{n-1}{n},\n$$\n剩下的概率质量 $\\frac{1}{n}$ 位于 $x=y$ 处，这与 $\\mathbb{P}(X_{1}=y \\mid X_{(n)}=y)=\\frac{1}{n}$ 一致。\n\n因此，在给定 $X_{(n)}=y$ 的条件下，$X_{1}$ 的条件分布是一个混合分布：在 $x=y$ 处有一个大小为 $\\frac{1}{n}$ 的离散质量，以及在 $[0,y)$ 上总质量为 $\\frac{n-1}{n}$ 的连续均匀分布。这对应于选项A。", "answer": "$$\\boxed{A}$$", "id": "1384520"}]}