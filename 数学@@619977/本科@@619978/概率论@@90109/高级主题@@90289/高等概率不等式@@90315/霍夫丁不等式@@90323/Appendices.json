{"hands_on_practices": [{"introduction": "霍夫丁不等式最强大的应用之一是在实验设计中，特别是在确定所需样本量方面。本练习将通过一个经典的民意调查场景，带你计算为达到预期的准确度 $\\epsilon$ 和置信度 $1-\\delta$ 所需的最小样本量 $n$。这个练习将帮助你掌握统计学和数据科学中的一项基本技能，即如何在收集数据之前就对实验规模做出有根据的估计。[@problem_id:1364493]", "problem": "一家政治民调机构的任务是估计某市市长的支持率。设支持市长的真实、未知的人口比例为 $p$。该机构将调查 $n$ 名随机抽选的选民，并使用支持率的样本比例，记为 $\\hat{p}$，作为 $p$ 的估计值。该机构希望能够声称其估计值与真实值的差距在 $\\pm 3\\%$ 以内，且置信度至少为 $95\\%$。\n\n为了确定所需的样本量，该机构使用了霍夫丁不等式 (Hoeffding's inequality)。对于来自某个分布的 $n$ 个独立观测值 $X_1, \\dots, X_n$，其中每个观测值都在一个区间 $[a, b]$ 内有界，该不等式给出了样本均值 $\\bar{X}$ 与真实均值 $\\mu$ 的偏差超过某个值 $\\epsilon > 0$ 的概率的一个上界：\n$$P(|\\bar{X} - \\mu| \\ge \\epsilon) \\le 2 \\exp\\left(-\\frac{2n\\epsilon^2}{(b-a)^2}\\right)$$\n\n假设每位选民的回答都是一个独立的随机变量，那么该机构必须使用的最小整数样本量 $n$ 是多少，才能保证其所期望的准确度和置信度，而不管真实的潜在支持率 $p$ 是多少？", "solution": "设 $X_{i}$ 为第 $i$ 位选民的支持指示变量，其中 $X_{i} \\in \\{0,1\\}$ 且 $\\mathbb{E}[X_{i}]=p$。那么样本比例为 $\\hat{p}=\\bar{X}=\\frac{1}{n}\\sum_{i=1}^{n}X_{i}$。每个 $X_{i}$ 都在 $[0,1]$ 内有界，所以 $a=0$ 且 $b=1$。\n\n霍夫丁不等式 (Hoeffding's inequality) 指出，对于任意 $\\epsilon>0$，\n$$\n\\Pr(|\\bar{X}-\\mu|\\geq \\epsilon)\\leq 2\\exp\\!\\left(-\\frac{2n\\epsilon^{2}}{(b-a)^{2}}\\right).\n$$\n这里 $(b-a)=1$，所以\n$$\n\\Pr(|\\hat{p}-p|\\geq \\epsilon)\\leq 2\\exp(-2n\\epsilon^{2}).\n$$\n为确保准确度在 $0.03$ 以内，置信度至少为 $0.95$，需要满足\n$$\n\\Pr(|\\hat{p}-p|\\geq 0.03)\\leq 0.05.\n$$\n将霍夫丁上界设为至多 $0.05$：\n$$\n2\\exp(-2n\\cdot 0.03^{2})\\leq 0.05.\n$$\n两边除以 $2$：\n$$\n\\exp(-2n\\cdot 0.03^{2})\\leq 0.025.\n$$\n对两边取自然对数 $\\ln$，并利用 $\\ln$ 的单调性：\n$$\n-2n\\cdot 0.03^{2}\\leq \\ln(0.025).\n$$\n两边乘以 $-1$（不等号反向）并求解 $n$：\n$$\n2n\\cdot 0.03^{2}\\geq -\\ln(0.025)=\\ln(40),\n$$\n$$\nn\\geq \\frac{\\ln(40)}{2\\cdot 0.03^{2}}.\n$$\n因此，最小整数样本量为\n$$\nn=\\left\\lceil \\frac{\\ln(40)}{2\\cdot 0.03^{2}} \\right\\rceil.\n$$\n计算其值：$\\ln(40)\\approx 3.688879454$ 且 $2\\cdot 0.03^{2}=0.0018$，所以\n$$\n\\frac{\\ln(40)}{0.0018}\\approx 2049.377\\ldots,\n$$\n因此最小整数为 $2050$。", "answer": "$$\\boxed{2050}$$", "id": "1364493"}, {"introduction": "在确定了实验设计后，我们常常需要评估出现极端结果的可能性。本练习将视角从“设计实验”转向“分析结果”，通过一个简化的金融模型，展示霍夫丁不等式如何为罕见事件的发生概率提供一个严格的上限。理解这一点对于风险评估和异常检测等领域至关重要，它让我们能够量化“小概率事件”到底有多小。[@problem_id:1364534]", "problem": "一位金融分析师正在研究一个简化的股票日常波动模型。在这个模型中，任何一天的股价上涨或下跌的概率是均等的，且独立于其他天的表现。该分析师将一个时期定义为“异常看涨”，如果在此期间股价上涨天数的比例超过 0.75。\n\n考虑一个为期 $N = 200$ 个交易日的时期。设 $X_i$ 是一个随机变量，如果第 $i$ 天股价上涨，则其值为 1，如果下跌，则其值为 0。变量 $X_1, X_2, \\dots, X_N$ 是独立同分布的。上涨天数的样本平均比例由 $\\bar{X}_N = \\frac{1}{N}\\sum_{i=1}^{N} X_i$ 给出。\n\n为了分析此类罕见事件，可以使用 Hoeffding 不等式。对于 $N$ 个独立随机变量 $X_i$ 的样本均值 $\\bar{X}_N$，其中每个 $X_i$ 都界于区间 $[0, 1]$ 内，该不等式为样本均值与其期望值 $E[\\bar{X}_N]$ 的偏差至少为某个量 $\\epsilon > 0$ 的概率提供了一个上界：\n$$P(\\bar{X}_N - E[\\bar{X}_N] \\ge \\epsilon) \\le \\exp(-2N\\epsilon^2)$$\n\n使用这个不等式，计算一个 200 天的时期纯粹由于偶然性而“异常看涨”的概率上限。将您的最终答案四舍五入到四位有效数字。", "solution": "每个 $X_{i}$ 都服从参数为 $\\frac{1}{2}$ 的伯努利分布，因为股价上涨和下跌的概率是均等的。因此 $E[X_{i}]=\\frac{1}{2}$，并且根据期望的线性性质，\n$$\nE[\\bar{X}_{N}]=E\\left[\\frac{1}{N}\\sum_{i=1}^{N}X_{i}\\right]=\\frac{1}{N}\\sum_{i=1}^{N}E[X_{i}]=\\frac{1}{2}.\n$$\n一个“异常看涨”的时期要求 $\\bar{X}_{N}>0.75$。对独立的 $X_{i}\\in[0,1]$ 使用 Hoeffding 不等式，\n$$\nP\\left(\\bar{X}_{N}-E[\\bar{X}_{N}]\\ge \\epsilon\\right)\\le \\exp(-2N\\epsilon^{2}).\n$$\n设 $\\epsilon=0.75-\\frac{1}{2}=\\frac{1}{4}$。则\n$$\nP\\left(\\bar{X}_{N}\\ge 0.75\\right)=P\\left(\\bar{X}_{N}-\\tfrac{1}{2}\\ge \\tfrac{1}{4}\\right)\\le \\exp\\left(-2N\\left(\\tfrac{1}{4}\\right)^{2}\\right)=\\exp\\left(-\\frac{N}{8}\\right).\n$$\n对于 $N=200$，\n$$\nP\\left(\\bar{X}_{200}\\ge 0.75\\right)\\le \\exp(-25).\n$$\n数值上，$\\exp(-25)\\approx 1.388794386\\times 10^{-11}$，保留四位有效数字为 $1.389\\times 10^{-11}$。", "answer": "$$\\boxed{1.389 \\times 10^{-11}}$$", "id": "1364534"}, {"introduction": "为了真正领会霍夫丁不等式的威力，将其与其他工具进行比较是一种非常有效的方法。本练习将霍夫丁不等式与另一个著名的切比雪夫不等式进行正面对决，通过计算两者在特定情况下的界限比值，揭示霍夫丁不等式利用变量有界信息所带来的巨大优势。通过这个对比，你将深刻理解其指数级收敛的界限为何远比多项式级收敛的界限更为紧致和强大。[@problem_id:792723]", "problem": "一个拉得马赫随机变量（Rademacher random variable）是一种离散随机变量，它以 $1/2$ 的概率取值 $+1$，以 $1/2$ 的概率取值 $-1$。考虑一组 $n$ 个独立同分布 (i.i.d.) 的拉得马赫随机变量 $X_1, X_2, \\ldots, X_n$。记它们的和为 $S_n = \\sum_{i=1}^n X_i$。\n\n一个随机变量偏离其均值的概率可以用各种集中不等式来界定。两个著名的例子是切比雪夫不等式（Chebyshev's inequality）和霍夫丁不等式（Hoeffding's inequality）。\n\n1.  **切比雪夫不等式（双边）:** 对于任何具有有限均值 $\\mu = E[Y]$ 和有限非零方差 $\\sigma^2 = \\text{Var}(Y)$ 的随机变量 $Y$，对于任意实数 $a > 0$，以下不等式成立：\n    $$\n    P(|Y - \\mu| \\ge a) \\le \\frac{\\sigma^2}{a^2}\n    $$\n\n2.  **霍夫丁不等式（双边）:** 对于 $n$ 个独立随机变量的和 $S_n = \\sum_{i=1}^n X_i$，其中每个 $X_i$ 都在区间 $[a_i, b_i]$ 内有界，对于任意 $t > 0$，以下不等式成立：\n    $$\n    P(|S_n - E[S_n]| \\ge t) \\le 2\\exp\\left(-\\frac{2t^2}{\\sum_{i=1}^n (b_i - a_i)^2}\\right)\n    $$\n\n将这两个不等式应用于拉得马赫随机变量之和的尾部概率 $P(|S_n| \\ge t)$，可以得到两个不同的上界。我们将从切比雪夫不等式得出的界记为 $B_C(t)$，从霍夫丁不等式得出的界记为 $B_H(t)$。\n\n求比值 $R(t) = \\frac{B_H(t)}{B_C(t)}$ 在定义域 $t > 0$ 上的最大可能值。", "solution": "1. 对于 $n$ 个拉得马赫随机变量之和 $S_n$（均值为 $0$，方差为 $n$），其切比雪夫界为：\n$$\nB_C(t)=P(|S_n|\\ge t)\\le\\frac{\\Var(S_n)}{t^2}=\\frac{n}{t^2}\n$$\n\n2. 由于每个 $X_i\\in[-1,1]$，所以 $(b_i-a_i)^2=4$，其霍夫丁界为：\n$$\nB_H(t)=2\\exp\\Bigl(-\\frac{2t^2}{\\sum_{i=1}^n4}\\Bigr)\n=2\\exp\\Bigl(-\\frac{t^2}{2n}\\Bigr)\n$$\n\n3. 比值\n$$\nR(t)=\\frac{B_H(t)}{B_C(t)}\n=\\frac{2\\exp(-t^2/(2n))}{\\,n/t^2\\,}\n=\\frac{2t^2}{n}\\exp\\Bigl(-\\frac{t^2}{2n}\\Bigr)\n$$\n\n4. 设 $u=\\frac{t^2}{2n}$，则\n$$\nR=4u e^{-u},\\quad u>0\n$$\n求最大值：$\\frac{d}{du}[u e^{-u}]=e^{-u}(1-u)=0\\implies u=1$。因此\n$$\nR_{\\max}=4\\cdot1\\cdot e^{-1}=\\frac{4}{e}\n$$", "answer": "$$\\boxed{\\frac{4}{e}}$$", "id": "792723"}]}