{"hands_on_practices": [{"introduction": "让我们从一个基础练习开始，分析随机图的一个基本属性。我们将研究在一个随机有向图 $D(n, p)$ 中，“源”节点（即入度为零的节点）数量的集中情况。这个问题是麦克迪尔米德不等式应用的绝佳起点，因为它完美地展示了有界差分方法最直接的应用：改变单个输入变量（一条边的存在与否）最多只会使目标函数（源节点总数）的值改变 1。通过这个练习，你将掌握应用该不等式的核心逻辑。[@problem_id:1372535]", "problem": "考虑一个随机有向图，记为 $D(n, p)$，它构建于一个包含 $n$ 个标记为 $\\{1, 2, \\dots, n\\}$ 的顶点的集合上。对于每一对满足 $i \\neq j$ 的不同顶点的有序对 $(i, j)$，图中都以概率 $p \\in (0, 1)$ 包含一条从 $i$ 到 $j$ 的有向边，且与所有其他边独立。\n\n如果一个顶点的入度为零，即没有指向它的有向边，则该顶点被定义为“源顶点”。令 $X$ 为一个随机变量，表示在一个随机生成的 $D(n, p)$ 实例中源顶点的总数。\n\n您的任务是为源顶点数 $X$ 偏离其期望值 $\\mathbb{E}[X]$ 至少为正数 $t$ 的概率，推导出一个通用的上界。此概率界的最终表达式必须是一个用顶点数 $n$ 和偏差 $t$ 表示的闭式解析表达式。", "solution": "令有向边由独立的伯努利随机变量 $\\{Y_{ij}\\}_{i \\neq j}$ 表示，其中如果边 $i \\to j$ 存在，则 $Y_{ij}=1$，否则 $Y_{ij}=0$，每个变量的参数均为 $p$。共有 $m=n(n-1)$ 个这样的变量。对每个顶点 $v \\in \\{1,\\dots,n\\}$，定义指示变量\n$$\nI_{v}=\\mathbf{1}\\{\\text{$v$ has in-degree }0\\}=\\prod_{u \\neq v}\\mathbf{1}\\{Y_{uv}=0\\}.\n$$\n源顶点的总数为\n$$\nX=\\sum_{v=1}^{n} I_{v}.\n$$\n根据指向固定顶点 $v$ 的入边的独立性，我们有\n$$\n\\mathbb{E}[I_{v}]=\\prod_{u \\neq v}\\mathbb{P}(Y_{uv}=0)=(1-p)^{n-1},\n$$\n因此由期望的线性性可得\n$$\n\\mathbb{E}[X]=\\sum_{v=1}^{n}\\mathbb{E}[I_{v}]=n(1-p)^{n-1}.\n$$\n\n我们现在使用 McDiarmid 的有界差分不等式来推导 $X$ 在其期望 $\\mathbb{E}[X]$ 周围的集中界。将 $X$ 视为独立变量 $\\{Y_{ij}\\}_{i \\neq j}$ 的一个函数 $f$：\n$$\nX=f\\big(\\{Y_{ij}\\}_{i \\neq j}\\big).\n$$\n如果两个边的配置仅在单个坐标 $Y_{ij}$ 上不同，那么只有顶点 $j$ 的入度可能改变，因此只有 $I_{j}$ 可能改变。所以，$X$ 的值最多改变 1：\n$$\n|f(\\dots,Y_{ij},\\dots)-f(\\dots,Y_{ij}',\\dots)| \\leq 1 \\quad \\text{for all } i \\neq j.\n$$\n因此每个坐标的利普希茨常数为 $c_{ij}=1$，并且\n$$\n\\sum_{i \\neq j} c_{ij}^{2}=\\sum_{i \\neq j} 1^{2}=n(n-1)=m.\n$$\n根据 McDiarmid 不等式，对于所有 $t>0$，\n$$\n\\mathbb{P}\\big(|X-\\mathbb{E}[X]|\\geq t\\big) \\leq 2 \\exp\\!\\left(-\\frac{2t^{2}}{\\sum_{i \\neq j} c_{ij}^{2}}\\right)\n= 2 \\exp\\!\\left(-\\frac{2t^{2}}{n(n-1)}\\right).\n$$\n这就得到了一个用 $n$ 和 $t$ 表示的、与 $p$ 无关的闭式上界。", "answer": "$$\\boxed{2\\,\\exp\\!\\left(-\\frac{2t^{2}}{n(n-1)}\\right)}$$", "id": "1372535"}, {"introduction": "在掌握了基础应用之后，我们来处理一个稍微复杂的计数问题。我们将研究在一个随机过程中“孤立项”（singleton，即只出现一次的元素）数量的集中性，这是数据分析和网络监控中的常见情景。这个例子引入了一种新的情况：改变单个输入可能会对目标函数产生更大的影响。这需要我们更仔细地为差分设定界限，从而加深对有界差分条件的理解与应用。[@problem_id:1372557]", "problem": "一所大学的网络安全系统监控传入的数据包以检测异常活动。在一个简化模型中，特定时间窗口内到达的 $n$ 个数据包中的每一个都被分配一个“源哈希”，它是一个整数值。每个源哈希都是独立生成的，并且均匀分布在包含 $m$ 个可能整数值的集合 $\\{1, 2, \\ldots, m\\}$ 上。\n\n一位分析师有兴趣识别“单例源”，其定义为在该时间窗口内恰好只发出一个数据包的源。设随机变量 $U$ 表示观测到的此类单例源的数量。虽然单例源的精确期望数量 $\\mathbb{E}[U]$ 的计算可能很复杂，但关键是要建立一个关于 $U$ 可能偏离其期望程度的强有力保证。\n\n使用一个合适的集中不等式，求出概率 $P(|U - \\mathbb{E}[U]| \\ge \\epsilon n)$ 的一个非平凡上界，其中 $\\epsilon$ 是一个小的正常数，代表与均值的分数偏差。你的答案应该是一个用 $n$ 和 $\\epsilon$ 表示的闭式解析表达式。", "solution": "设 $X_{1},\\ldots,X_{n}$ 为独立随机变量，在 $\\{1,2,\\ldots,m\\}$ 上均匀取值。设 $N_{j}=\\sum_{i=1}^{n}\\mathbf{1}\\{X_{i}=j\\}$ 为来自源 $j$ 的数据包计数，并定义\n$$\nU=\\sum_{j=1}^{m}\\mathbf{1}\\{N_{j}=1\\}。\n$$\n因此，$U=f(X_{1},\\ldots,X_{n})$ 是独立输入的一个确定性函数。\n\n我们应用 McDiarmid’s 有界差分不等式。为此，我们限定改变单个坐标所产生的影响。固定 $k\\in\\{1,\\ldots,n\\}$，并考虑将 $X_{k}$ 的值从 $a$ 变为 $b$。只有计数 $N_{a}$ 和 $N_{b}$ 会改变（每个最多改变一），因此只有指示函数 $\\mathbf{1}\\{N_{a}=1\\}$ 和 $\\mathbf{1}\\{N_{b}=1\\}$ 会受到影响。因此，$U$ 的总变化满足\n$$\n|f(x_{1},\\ldots,x_{k},\\ldots,x_{n})-f(x_{1},\\ldots,x_{k}',\\ldots,x_{n})|\\leq 2,\n$$\n对于 $x_{1},\\ldots,x_{n}$ 和 $x_{k}'$ 的所有选择。因此，有界差分常数可以对所有的 $i$ 取为 $c_{i}=2$，并且\n$$\n\\sum_{i=1}^{n}c_{i}^{2}=4n。\n$$\n\nMcDiarmid 不等式表明，对于所有 $t>0$，\n$$\n\\mathbb{P}\\big(f(X_{1},\\ldots,X_{n})-\\mathbb{E}[f(X_{1},\\ldots,X_{n})]\\geq t\\big)\\leq \\exp\\!\\left(-\\frac{2t^{2}}{\\sum_{i=1}^{n}c_{i}^{2}}\\right),\n$$\n并且相同的界对下尾部也成立。将此应用于 $f=U$ 和 $t=\\epsilon n$，我们得到双侧偏差界\n$$\n\\mathbb{P}\\big(|U-\\mathbb{E}[U]|\\geq \\epsilon n\\big)\\leq 2\\exp\\!\\left(-\\frac{2(\\epsilon n)^{2}}{4n}\\right)=2\\exp\\!\\left(-\\frac{\\epsilon^{2}n}{2}\\right)。\n$$\n\n这给出了一个用 $n$ 和 $\\epsilon$ 表示的、与 $m$ 无关的、呈指数衰减的闭式上界。", "answer": "$$\\boxed{2\\exp\\!\\left(-\\frac{1}{2}\\,\\epsilon^{2} n\\right)}$$", "id": "1372557"}, {"introduction": "最后，我们将探讨麦克迪尔米德不等式在一个著名的几何优化问题——旅行商问题（TSP）中的强大应用。这个练习展示了如何运用该不等式来分析复杂优化解在随机输入下的稳定性。它需要一个巧妙的几何论证来确定差分的界限，这充分体现了该工具的通用性和深刻性，并将其应用从简单的计数推广到分析复杂的结构化问题。[@problem_id:1372547]", "problem": "在随机优化领域，我们关心具有随机输入的问题的解的稳定性。考虑一个包含 $n$ 个点 $X_1, X_2, \\dots, X_n$ 的旅行商问题（TSP），这些点是从单位正方形 $[0, 1]^2$ 中独立且均匀随机选取的。令 $L_n = f(X_1, \\dots, X_n)$ 为访问每个点并返回原点的最短可能路径的长度。$L_n$ 的值是一个随机变量，我们希望了解它可以偏离其期望值 $\\mathbb{E}[L_n]$ 的程度。\n\nMcDiarmid 不等式为此提供了一个强大的工具。该不等式指出，如果一个关于独立随机变量的函数 $f(x_1, \\dots, x_n)$ 满足有界差分性质，即对于定义域中的任意 $i \\in \\{1, \\dots, n\\}$ 和任意值 $x_1, \\dots, x_n, x'_i$\n$$ |f(x_1, \\dots, x_i, \\dots, x_n) - f(x_1, \\dots, x'_i, \\dots, x_n)| \\le c_i $$\n那么对于任意 $t > 0$ ，以下集中不等式成立：\n$$ P(|f(X_1, \\dots, X_n) - \\mathbb{E}[f(X_1, \\dots, X_n)]| \\ge t) \\le 2\\exp\\left(-\\frac{2t^2}{\\sum_{i=1}^n c_i^2}\\right) $$\n\n你的任务是将此不等式应用于 TSP 路径长度 $L_n$。确定概率 $P(|L_n - \\mathbb{E}[L_n]| \\ge t)$ 的一个上界。你的最终答案应该是一个关于 $n$ 和 $t$ 的解析表达式。", "solution": "令 $L_{n}=f(X_{1},\\dots,X_{n})$ 为通过点集 $\\{X_{1},\\dots,X_{n}\\}$ 和 $[0,1]^{2}$ 中固定原点的最优欧几里得 TSP 路径的长度。随机变量 $X_{1},\\dots,X_{n}$ 是独立的，满足 McDiarmid 不等式的独立性假设。\n\n为了验证有界差分性质，固定 $i\\in\\{1,\\dots,n\\}$ 以及两种点的配置 $(x_{1},\\dots,x_{n})$ 和 $(x_{1},\\dots,x'_{i},\\dots,x_{n})$。设 $L$ 为配置 $(x_{1},\\dots,x_{n})$ 的最优路径长度，并设 $T$ 为实现该长度 $L$ 的最优路径。在路径 $T$ 中，点 $x_{i}$ 有两个路径上的邻居，记为 $A$ 和 $B$（每个邻居是其他的某个 $x_{j}$ 或原点）。考虑修改后实例 $(x_{1},\\dots,x'_{i},\\dots,x_{n})$ 的一条路径 $T'$，该路径保留了 $T$ 的所有邻接关系，除了将边 $(A,x_{i})$ 和 $(x_{i},B)$ 替换为 $(A,x'_{i})$ 和 $(x'_{i},B)$。那么长度的变化满足\n$$\n\\text{len}(T')-\\text{len}(T)\n=\\big(d(A,x'_{i})-d(A,x_{i})\\big)+\\big(d(B,x'_{i})-d(B,x_{i})\\big),\n$$\n其中 $d(\\cdot,\\cdot)$ 是欧几里得距离。根据反三角不等式，对于任意点 $a,p,q$，\n$$\n\\big|d(a,p)-d(a,q)\\big|\\le d(p,q).\n$$\n应用此不等式两次可得\n$$\n\\text{len}(T')-\\text{len}(T)\\le d(x_{i},x'_{i})+d(x_{i},x'_{i})=2\\,d(x_{i},x'_{i}).\n$$\n由于配置 $(x_{1},\\dots,x'_{i},\\dots,x_{n})$ 的最优长度 $L'$ 至多为 $\\text{len}(T')$，我们得到 $L'-L\\le 2\\,d(x_{i},x'_{i})$。根据对称性（交换 $x_{i}$ 和 $x'_{i}$ 的角色），我们同样可以得到 $L-L'\\le 2\\,d(x_{i},x'_{i})$。因此，\n$$\n\\big|f(x_{1},\\dots,x_{i},\\dots,x_{n})-f(x_{1},\\dots,x'_{i},\\dots,x_{n})\\big|\\le 2\\,d(x_{i},x'_{i}).\n$$\n因为所有点都位于 $[0,1]^{2}$ 中，所以最大可能距离是 $d(x_{i},x'_{i})\\le \\sqrt{2}$，因此我们可以取\n$$\nc_{i}=2\\sqrt{2}\\quad\\text{对于所有 }i\\in\\{1,\\dots,n\\}.\n$$\n于是 $\\sum_{i=1}^{n}c_{i}^{2}=n\\,(2\\sqrt{2})^{2}=8n$。对于任意 $t > 0$，McDiarmid 不等式给出，\n$$\nP\\big(\\,|L_{n}-E[L_{n}]|\\ge t\\,\\big)\\le 2\\exp\\!\\left(-\\frac{2t^{2}}{\\sum_{i=1}^{n}c_{i}^{2}}\\right)\n=2\\exp\\!\\left(-\\frac{2t^{2}}{8n}\\right)\n=2\\exp\\!\\left(-\\frac{t^{2}}{4n}\\right).\n$$\n这就是所求的用 $n$ 和 $t$ 表示的上界。", "answer": "$$\\boxed{2\\exp\\!\\left(-\\frac{t^{2}}{4n}\\right)}$$", "id": "1372547"}]}