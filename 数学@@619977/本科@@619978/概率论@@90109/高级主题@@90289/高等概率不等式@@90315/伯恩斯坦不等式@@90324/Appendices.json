{"hands_on_practices": [{"introduction": "这个练习提供了一个应用伯恩斯坦不等式的经典场景，可以帮助我们具体地理解一个核心思想：许多独立随机事件的总和（如此处的考试总分）会高度集中在其期望值附近。通过计算一个学生在一次长考试中分数大幅偏离期望值的概率上限，你将能够熟练掌握应用伯恩斯坦不等式的基本步骤和技巧。[@problem_id:1345821]", "problem": "一名学生正在参加一场由 $N=250$ 道独立问题组成的资格考试。对于每道题，该学生答对的概率为 $p=0.75$。答对一题得 4 分，而答错一题则扣 2 分。设 $T$ 为该学生的总分。确定该学生总分与其期望值偏差超过 150 分的概率的一个上界，即求 $P(|T - \\mathbb{E}[T]| > 150)$ 的一个上界。将您的答案以数值形式报告，并四舍五入到三位有效数字。", "solution": "设 $X_{i}$ 表示第 $i$ 题的得分，答对时 $X_{i}=4$，答错时 $X_{i}=-2$。则 $T=\\sum_{i=1}^{N}X_{i}$，其中 $N=250$，且 $P(X_{i}=4)=p=0.75$，$P(X_{i}=-2)=1-p$。\n\n计算 $X_{i}$ 的均值和方差：\n$$\n\\mathbb{E}[X_{i}]=4p-2(1-p)=6p-2,\\quad \\mathbb{E}[X_{i}^{2}]=16p+4(1-p)=4+12p.\n$$\n因此\n$$\n\\operatorname{Var}(X_{i})=\\mathbb{E}[X_{i}^{2}]-(\\mathbb{E}[X_{i}])^{2}=(4+12p)-(6p-2)^{2}.\n$$\n当 $p=\\frac{3}{4}$ 时，\n$$\n\\mathbb{E}[X_{i}]=\\frac{5}{2},\\quad \\mathbb{E}[X_{i}^{2}]=13,\\quad \\operatorname{Var}(X_{i})=13-\\left(\\frac{5}{2}\\right)^{2}=\\frac{27}{4}.\n$$\n因此，\n$$\n\\mathbb{E}[T]=N\\,\\mathbb{E}[X_{i}]=250\\cdot\\frac{5}{2}=625,\\quad \\operatorname{Var}(T)=N\\,\\operatorname{Var}(X_{i})=250\\cdot\\frac{27}{4}=\\frac{3375}{2}.\n$$\n\n我们对中心化变量 $Y_{i}=X_{i}-\\mathbb{E}[X_{i}]$ 应用伯恩斯坦不等式（Bernstein’s inequality）。这些变量是独立的，均值为零，并且满足几乎必然有界的条件\n$$\n|Y_{i}|\\leq \\max\\{|4-\\tfrac{5}{2}|,|-2-\\tfrac{5}{2}|\\}=\\frac{9}{2}.\n$$\n设 $\\sigma^{2}=\\sum_{i=1}^{N}\\operatorname{Var}(Y_{i})=\\operatorname{Var}(T)=\\frac{3375}{2}$ 且 $c=\\frac{9}{2}$。伯恩斯坦不等式给出，对于任意 $t>0$，\n$$\nP\\left(|T-\\mathbb{E}[T]|\\geq t\\right)\\leq 2\\exp\\left(-\\frac{t^{2}}{2\\sigma^{2}+\\frac{2}{3}ct}\\right).\n$$\n当 $t=150$ 时，我们得到\n$$\nP\\left(|T-\\mathbb{E}[T]|>150\\right)\\leq 2\\exp\\left(-\\frac{150^{2}}{2\\cdot\\frac{3375}{2}+\\frac{2}{3}\\cdot\\frac{9}{2}\\cdot 150}\\right)\n=2\\exp\\left(-\\frac{22500}{3375+450}\\right)\n=2\\exp\\left(-\\frac{100}{17}\\right).\n$$\n数值上，当四舍五入到三位有效数字时，这约等于 $0.00558$。", "answer": "$$\\boxed{0.00558}$$", "id": "1345821"}, {"introduction": "在金融领域，量化风险是做出明智决策的关键，而伯恩斯坦不等式为此提供了强有力的工具。本练习将带你进入高频交易的场景，通过估算一项交易策略年度亏损的概率上限，你将学会如何将实际问题（例如，收益为负）转化为不等式可以处理的标准形式。[@problem_id:1345810]", "problem": "一位量化分析师正在为自动化高频交易策略开发一个模型。每日的盈利或亏损，表示为资本的一个分数，由一个随机变量表示。该模型假设每日收益是独立同分布的。\n\n设第 $i$ 天的收益为随机变量 $X_i$。在一个包含 $n=252$ 个交易日的交易年中，收益 $\\{X_i\\}_{i=1}^{n}$ 按以下属性建模：\n- 每日期望收益为 $E[X_i] = \\mu = 8.0 \\times 10^{-4}$。\n- 每日收益的方差为 $\\text{Var}(X_i) = \\sigma^2 = 1.2 \\times 10^{-4}$。\n- 每日收益有严格界限，对于任何一天 $i$，收益 $X_i$ 保证在区间 $[-0.02, 0.03]$ 内。\n\n为了评估该策略的风险，分析师希望找到整个年度策略亏损概率的一个上界。\n\n对于一组 $n$ 个独立随机变量 $\\{Z_i\\}_{i=1}^n$，满足 $E[Z_i]=0$ 和对所有 $i$ 都有 $|Z_i| \\le K$，以下集中不等式对任意 $t>0$ 成立：\n$$\nP\\left(\\sum_{i=1}^n Z_i \\ge t\\right) \\le \\exp\\left(-\\frac{t^2}{2\\left(\\sum_{i=1}^n \\text{Var}(Z_i) + \\frac{1}{3}Kt\\right)}\\right)\n$$\n使用这个给定的不等式，计算年度总收益 $\\sum_{i=1}^{n} X_i$ 为负的概率的一个上界。将答案表示为保留三位有效数字的小数。", "solution": "问题要求计算概率 $P\\left(\\sum_{i=1}^{n} X_i < 0\\right)$ 的一个上界。所给的不等式为一个零均值随机变量之和大于或等于某个正值 $t$ 的概率提供了一个上界。我们必须首先转换我们的问题以适应这种结构。\n\n设 $S_n = \\sum_{i=1}^{n} X_i$。我们想要求出 $P(S_n < 0)$ 的一个上界。\n\n给定的不等式适用于零均值随机变量。让我们定义一组新的零均值随机变量 $Z_i$。一个自然的选择是对 $X_i$ 变量进行中心化：\n设 $Y_i = X_i - \\mu$。则 $E[Y_i] = E[X_i - \\mu] = E[X_i] - \\mu = \\mu - \\mu = 0$。\n这些新变量的和是 $\\sum_{i=1}^{n} Y_i = \\sum_{i=1}^{n} (X_i - \\mu) = S_n - n\\mu$。\n\n我们感兴趣的事件 $S_n < 0$，可以用 $Y_i$ 的和来重写：\n$S_n - n\\mu < -n\\mu$\n$\\sum_{i=1}^{n} Y_i < -n\\mu$\n\n这还不是 $\\sum Z_i \\ge t$ 的形式。为了处理不等式的方向，我们可以定义第二组零均值变量，$W_i = -Y_i = \\mu - X_i$。\n$E[W_i] = E[\\mu - X_i] = \\mu - E[X_i] = 0$。\n事件 $\\sum Y_i < -n\\mu$ 等价于 $-\\sum W_i < -n\\mu$，可以简化为 $\\sum W_i > n\\mu$。\n\n现在我们已经将问题化为所需的形式：我们想求 $P\\left(\\sum_{i=1}^{n} W_i > n\\mu\\right)$ 的一个上界。我们可以应用给定的不等式，令 $Z_i = W_i$ 且 $t = n\\mu$。\n\n首先，我们必须确定不等式的参数：\n1.  **阈值 $t$**：\n    $t = n\\mu = 252 \\times (8.0 \\times 10^{-4}) = 0.2016$。\n\n2.  **方差项 $\\sum_{i=1}^n \\text{Var}(W_i)$**：\n    $W_i$ 的方差与 $X_i$ 的方差有关：\n    $\\text{Var}(W_i) = \\text{Var}(\\mu - X_i) = \\text{Var}(-X_i) = (-1)^2 \\text{Var}(X_i) = \\sigma^2$。\n    由于变量是同分布的，对于所有 $i$，$\\text{Var}(W_i) = \\sigma^2 = 1.2 \\times 10^{-4}$。\n    方差之和为：\n    $\\sum_{i=1}^{n} \\text{Var}(W_i) = n\\sigma^2 = 252 \\times (1.2 \\times 10^{-4}) = 0.03024$。\n\n3.  **界限 $K$**：\n    我们需要 $|W_i| = |\\mu - X_i|$ 的一个上界 $K$。\n    给定 $X_i \\in [-0.02, 0.03]$。当 $\\mu = 0.0008$ 时，变量 $W_i = 0.0008 - X_i$ 的界限如下：\n    当 $X_i = -0.02$ 时，$W_i = 0.0008 - (-0.02) = 0.0208$。\n    当 $X_i = 0.03$ 时，$W_i = 0.0008 - 0.03 = -0.0292$。\n    所以，$W_i \\in [-0.0292, 0.0208]$。\n    界限 $K$ 是 $W_i$ 能取到的最大绝对值：\n    $K = \\max(|-0.0292|, |0.0208|) = 0.0292$。\n\n现在我们将这些值代入不等式：\n$$\nP\\left(\\sum_{i=1}^{n} W_i \\ge n\\mu\\right) \\le \\exp\\left(-\\frac{t^2}{2\\left(\\sum_{i=1}^{n} \\text{Var}(W_i) + \\frac{1}{3}Kt\\right)}\\right)\n$$\n各项为：\n$t^2 = (0.2016)^2 = 0.04064256$。\n$\\sum_{i=1}^{n} \\text{Var}(W_i) = 0.03024$。\n$\\frac{1}{3}Kt = \\frac{1}{3} \\times 0.0292 \\times 0.2016 = \\frac{0.00588672}{3} = 0.00196224$。\n\n指数中分数的分母是：\n$2 \\times (0.03024 + 0.00196224) = 2 \\times (0.03220224) = 0.06440448$。\n\n完整的指数是：\n$-\\frac{0.04064256}{0.06440448} \\approx -0.63105$\n\n概率的上界是：\n$P \\le \\exp(-0.63105) \\approx 0.53203$\n\n四舍五入到三位有效数字，上界为 $0.532$。", "answer": "$$\\boxed{0.532}$$", "id": "1345810"}, {"introduction": "自助法（Bootstrap）是现代统计学和数据科学中评估模型稳定性的基石。这个练习将引导你从理论上探索其有效性，通过推导自助样本均值与原始样本均值之间偏差的概率上界，你将深入理解伯恩斯坦不等式如何为评估统计估计量的稳定性提供坚实的数学保证。[@problem_id:1345793]", "problem": "一位数据科学家正在分析一个源于数据集 $S$ 的估计量的稳定性，该数据集包含 $n$ 个测量值 $\\{x_1, x_2, \\dots, x_n\\}$。已知每个测量值 $x_i$ 都包含在区间 $[a, b]$ 内，其中 $a$ 和 $b$ 是已知的实数。\n\n令 $\\bar{x}$ 为该数据集的样本均值，即 $\\bar{x} = \\frac{1}{n}\\sum_{i=1}^n x_i$。数据离散程度的一个关键度量是其离差平方和，由 $V = \\sum_{i=1}^n (x_i - \\bar{x})^2$ 给出。\n\n为了评估均值的稳定性，一个自助法重采样样本 $S^* = \\{X_1^*, \\dots, X_n^*\\}$，是通过从原始数据集 $S$ 中有放回地均匀抽取 $n$ 个样本而创建的新数据集。这个新数据集的均值是随机变量 $\\bar{X}^* = \\frac{1}{n}\\sum_{i=1}^n X_i^*$。\n\n请确定自助法样本均值 $\\bar{X}^*$ 与原始样本均值 $\\bar{x}$ 之间的绝对差超过给定正容差 $\\epsilon$ 的概率的一个严格上界。你的最终答案应为一个用 $n$、$\\epsilon$、$V$、$a$ 和 $b$ 表示的闭式解析表达式。", "solution": "定义经验分布，该分布在每个观测值 $x_{i}$ 上赋予 $1/n$ 的概率质量。一个自助法重采样样本 $X_{1}^{*},\\dots,X_{n}^{*}$ 是从该经验分布中抽取的独立样本，因此每个 $X_{i}^{*}$ 在集合 $\\{x_{1},\\dots,x_{n}\\}\\subseteq[a,b]$ 中取值，且 $\\mathbb{P}(X_{i}^{*}=x_{j})=1/n$。\n\n计算单个自助法抽样的均值和方差，以固定数据集S为条件。根据期望的线性性质，\n$$\n\\mathbb{E}[X_{i}^{*}\\mid S] \\;=\\; \\frac{1}{n}\\sum_{j=1}^{n} x_{j} \\;=\\; \\bar{x}.\n$$\n其在经验分布下的方差为\n$$\n\\operatorname{Var}(X_{i}^{*}\\mid S) \\;=\\; \\frac{1}{n}\\sum_{j=1}^{n}(x_{j}-\\bar{x})^{2} \\;=\\; \\frac{V}{n}.\n$$\n此外，由于对所有 $j$ 都有 $x_{j}\\in[a,b]$，我们有 $X_{i}^{*}\\in[a,b]$，因此\n$$\n|X_{i}^{*}-\\bar{x}| \\;\\leq\\; \\max\\{\\bar{x}-a,\\,b-\\bar{x}\\} \\;\\leq\\; b-a.\n$$\n\n令 $Y_{i}=X_{i}^{*}-\\bar{x}$。那么 $Y_{1},\\dots,Y_{n}$ 是独立的、中心化的随机变量，其方差 $\\operatorname{Var}(Y_{i}\\mid S)=V/n$ 且 $|Y_{i}|\\leq b-a$ 几乎必然成立。我们想要界定\n$$\n\\mathbb{P}\\big(|\\bar{X}^{*}-\\bar{x}|\\geq\\epsilon\\mid S\\big)\n\\;=\\;\n\\mathbb{P}\\!\\left(\\left|\\frac{1}{n}\\sum_{i=1}^{n}Y_{i}\\right| \\geq\\epsilon \\,\\middle|\\, S\\right).\n$$\n\n应用 Bernstein 不等式处理独立的、零均值的、有界变量：如果 $|Y_{i}|\\leq M$ 几乎必然成立，且 $\\sum_{i=1}^{n}\\operatorname{Var}(Y_{i})=n\\sigma^{2}$，那么对于所有 $\\epsilon>0$，\n$$\n\\mathbb{P}\\!\\left(\\left|\\frac{1}{n}\\sum_{i=1}^{n}Y_{i}\\right|\\geq\\epsilon\\right)\n\\;\\leq\\;\n2\\exp\\!\\left(-\\frac{n\\epsilon^{2}}{2\\sigma^{2}+\\frac{2}{3}M\\epsilon}\\right).\n$$\n这里，$\\sigma^{2}=V/n$ 且 $M=b-a$。代入可得条件上界\n$$\n\\mathbb{P}\\big(|\\bar{X}^{*}-\\bar{x}|\\geq\\epsilon\\mid S\\big)\n\\;\\leq\\;\n2\\exp\\!\\left(-\\frac{n\\epsilon^{2}}{\\frac{2V}{n}+\\frac{2}{3}(b-a)\\epsilon}\\right)\n\\;=\\;\n2\\exp\\!\\left(-\\frac{n^{2}\\epsilon^{2}}{2V+\\frac{2}{3}n(b-a)\\epsilon}\\right).\n$$\n由于随机性仅来自于给定 $S$ 时的自助法重采样，这便提供了所需的、用 $n$、$\\epsilon$、$V$、$a$ 和 $b$ 表示的严格上界。", "answer": "$$\\boxed{2\\exp\\!\\left(-\\frac{n\\epsilon^{2}}{\\frac{2V}{n}+\\frac{2}{3}(b-a)\\epsilon}\\right)}$$", "id": "1345793"}]}