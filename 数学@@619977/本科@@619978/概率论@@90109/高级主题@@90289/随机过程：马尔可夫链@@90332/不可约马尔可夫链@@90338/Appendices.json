{"hands_on_practices": [{"introduction": "在分析马尔可夫链时，首要任务是理解其状态空间的结构。一个系统是紧密连接的整体，还是由若干个独立的子部分组成？这个练习将引导你深入探讨连通类和不可约性的核心概念。通过这个练习，你将学会如何通过追踪状态之间的转换路径来识别马尔可夫链是否为不可约的，这是进行任何深入分析前必须掌握的基础技能。[@problem_id:1312394]", "problem": "一个软件过程的简化模型将其行为描述为一个离散时间马尔可夫链中的状态序列。该过程的状态空间由集合 $\\{S_1, S_2, S_3, S_4\\}$ 给出。状态之间的转换遵循以下概率规则：\n\n- 从状态 $S_1$ 出发，系统以概率 $p_1$ 转换到状态 $S_2$，或以概率 $1 - p_1$ 保持在状态 $S_1$。\n- 从状态 $S_2$ 出发，系统总是转换到状态 $S_3$。\n- 从状态 $S_3$ 出发，系统以概率 $p_3$ 转换到状态 $S_4$，或以概率 $1 - p_3$ 转换回状态 $S_2$。\n- 从状态 $S_4$ 出发，系统总是转换回状态 $S_3$。\n\n对于概率为 $p_1 = 0.4$ 和 $p_3 = 0.7$ 的特定情况，下列哪个陈述正确描述了此马尔可夫链的性质？\n\nA. 该链是不可约的，因此只有一个互通类：$\\{S_1, S_2, S_3, S_4\\}$。\n\nB. 该链有两个互通类：$\\{S_1, S_2\\}$ 和 $\\{S_3, S_4\\}$。\n\nC. 该链有两个互通类：$\\{S_1\\}$ 和 $\\{S_2, S_3, S_4\\}$。状态 $S_1$ 是暂留的。\n\nD. 该链有两个互通类：$\\{S_1, S_2, S_3\\}$ 和 $\\{S_4\\}$。状态 $S_4$ 是吸收的。\n\nE. 该链有三个互通类：$\\{S_1\\}$、$\\{S_2, S_3\\}$ 和 $\\{S_4\\}$。", "solution": "为了确定对马尔可夫链的正确描述，我们需要识别其互通类。如果状态 $j$ 可从状态 $i$ 到达，且状态 $i$ 可从状态 $j$ 到达，则称两个状态 $i$ 和 $j$ 是互通的，记作 $i \\leftrightarrow j$。一个互通类是一个最大的状态集合，其中每对状态都是互通的。如果所有状态都属于同一个互通类，则该马尔可夫链是不可约的。\n\n让我们使用给定的转换概率 $p_1 = 0.4$ 和 $p_3 = 0.7$ 来分析状态之间的可达性。如果转换概率 $P_{ij}$ 大于零，则从状态 $i$ 到状态 $j$ 的转换是可能的。\n\n转换概率为：\n- $P_{11} = 1 - p_1 = 0.6$\n- $P_{12} = p_1 = 0.4$\n- $P_{23} = 1$\n- $P_{32} = 1 - p_3 = 0.3$\n- $P_{34} = p_3 = 0.7$\n- $P_{43} = 1$\n所有其他转换概率均为零。\n\n让我们检查互通关系。\n\n1.  **从状态 $S_1$ 开始**：\n    - $S_1$ 能否到达其他状态？是的。因为 $P_{12} = 0.4 > 0$，所以存在一条路径 $S_1 \\to S_2$。从 $S_2$ 出发，系统必须进入 $S_3$ ($P_{23}=1$)。从 $S_3$ 出发，它可以到达 $S_4$ ($P_{34}=0.7>0$)。因此，$S_1$ 可以到达 $S_2$、$S_3$ 和 $S_4$。\n    - 其他状态能否到达 $S_1$？我们来检查任何进入 $S_1$ 的转换。进入 $S_1$ 的转换只有 $P_{11}, P_{21}, P_{31}, P_{41}$。我们有 $P_{11} > 0$，但是 $P_{21}=0$，$P_{31}=0$ 且 $P_{41}=0$。这意味着系统一旦离开状态 $S_1$，就永远无法返回。\n    - 由于 $S_2$ 无法到达 $S_1$，所以 $S_1$ 和 $S_2$ 不互通 ($S_1 \\not\\leftrightarrow S_2$)。以此类推，$S_1$ 与 $S_3$ 或 $S_4$ 也不互通。\n    - 因此，$\\{S_1\\}$ 自身形成一个互通类。由于可以离开该状态（以概率 $p_1=0.4$）且永不返回，状态 $S_1$ 是一个暂留状态。\n\n2.  **检查剩余的状态 $\\{S_2, S_3, S_4\\}$**：\n    - **$S_2$ 和 $S_3$ 之间的互通**：\n        - $S_2$ 能否到达 $S_3$？是的，$P_{23} = 1 > 0$。\n        - $S_3$ 能否到达 $S_2$？是的，$P_{32} = 0.3 > 0$。\n        - 所以，$S_2$ 和 $S_3$ 互通: $S_2 \\leftrightarrow S_3$。\n    - **$S_3$ 和 $S_4$ 之间的互通**：\n        - $S_3$ 能否到达 $S_4$？是的，$P_{34} = 0.7 > 0$。\n        - $S_4$ 能否到达 $S_3$？是的，$P_{43} = 1 > 0$。\n        - 所以，$S_3$ 和 $S_4$ 互通: $S_3 \\leftrightarrow S_4$。\n    - **$S_2$ 和 $S_4$ 之间的互通**：\n        - 由于互通是一种传递关系（$S_2 \\leftrightarrow S_3$ 且 $S_3 \\leftrightarrow S_4$），我们可以得出结论 $S_2 \\leftrightarrow S_4$。我们来验证一下：\n        - 从 $S_2$ 到 $S_4$ 的路径：$S_2 \\to S_3 \\to S_4$。此路径存在。\n        - 从 $S_4$ 到 $S_2$ 的路径：$S_4 \\to S_3 \\to S_2$。此路径存在。\n        - 所以，$S_2$ 和 $S_4$ 也互通。\n\n3.  **结论**：\n    - 状态 $\\{S_2, S_3, S_4\\}$ 形成一个单独的互通类，因为这个集合中的每个状态都与集合中的其他每个状态互通，并且此集合之外的任何状态都不能与它们互通。\n    - 这个类是闭合的，因为没有任何从 $\\{S_2, S_3, S_4\\}$ 中的状态到状态 $S_1$ 的转换。一旦链进入这个类，它就永远无法离开。这意味着 $\\{S_2, S_3, S_4\\}$ 是一个常返类。\n    - 该链不是不可约的，因为它有多个互通类。\n    - 互通类是 $\\{S_1\\}$ 和 $\\{S_2, S_3, S_4\\}$。\n    - 状态 $S_1$ 是暂留的，因为有可能离开该状态且不可能返回。\n\n将我们的发现与给定选项进行比较：\n- A 是不正确的，因为该链不是不可约的。\n- B 是不正确的，因为 $S_2$ 和 $S_3$ 在同一个类中。\n- C 是正确的。它正确地指出了两个互通类 $\\{S_1\\}$ 和 $\\{S_2, S_3, S_4\\}$，并正确地将 $S_1$ 识别为暂留状态。\n- D 是不正确的，因为它错误地识别了类。此外，$S_4$ 不是一个吸收状态，因为可以离开它 ($P_{43}=1$)。一个吸收状态 $i$ 必须满足 $P_{ii}=1$。\n- E 是不正确的，因为只有两个互通类。", "answer": "$$\\boxed{C}$$", "id": "1312394"}, {"introduction": "现实世界中的系统行为常常受到可变参数的影响。这些参数的变化如何影响马尔可夫链模型的基本性质？这个练习要求你超越静态分析，研究一个链的不可约性如何依赖于一个可变参数 $\\alpha$。你将通过分析临界情况，探索链的连通性在何种条件下会“断裂”，从而将状态空间分解为多个部分。这种参数化分析是系统设计和优化的关键，它有助于我们理解模型的稳健性并确定其行为发生改变的关键阈值。[@problem_id:1368027]", "problem": "考虑一个自我复制的数字实体在四个标记为 {1, 2, 3, 4} 的服务器节点之间移动的简化模型。该实体在离散时间步上的移动被建模为在此状态空间上的一个马尔可夫链。转移概率取决于一个系统参数 $\\alpha \\in [0, 1]$，该参数控制实体的探索行为。\n\n一步转移概率矩阵 $P = (P_{ij})$ 由下式给出：\n$$\nP = \\begin{pmatrix}\n0 & \\alpha & 1-\\alpha & 0 \\\\\n1 & 0 & 0 & 0 \\\\\n0 & 0 & 0 & 1 \\\\\n1-\\alpha & 0 & \\alpha & 0\n\\end{pmatrix}\n$$\n其中 $P_{ij}$ 是从状态 $i$ 转移到状态 $j$ 的概率。\n\n如果该实体可能从任何一个服务器节点移动到任何其他服务器节点（不一定在一步之内），则该马尔可夫链被定义为不可约的。以下哪个选项正确地描述了使该马尔可夫链不可约的所有 $\\alpha$ 值的集合？\n\nA. $\\alpha \\in [0, 1]$\n\nB. $\\alpha \\in (0, 1)$\n\nC. $\\alpha \\in \\{0, 1\\}$\n\nD. $\\alpha \\in [0, 1/2) \\cup (1/2, 1]$\n\nE. $\\alpha = 1/2$\n\nF. 该链对于任何 $\\alpha$ 值都不是不可约的。", "solution": "设状态空间为 $S=\\{1,2,3,4\\}$。$S$ 上的一个离散时间马尔可夫链是不可约的，当且仅当对所有 $i,j \\in S$，存在 $n \\in \\mathbb{N}$ 使得 $(P^{n})_{ij}>0$。\n\n有向边 $i \\to j$ 存在，当且仅当 $P_{ij}>0$。根据给定的矩阵，\n$$\nP=\\begin{pmatrix}\n0 & \\alpha & 1-\\alpha & 0 \\\\\n1 & 0 & 0 & 0 \\\\\n0 & 0 & 0 & 1 \\\\\n1-\\alpha & 0 & \\alpha & 0\n\\end{pmatrix},\n$$\n边的存在情况如下，取决于 $\\alpha$：\n\n1) 情况 $0<\\alpha<1$：此时 $P_{12}=\\alpha>0$, $P_{13}=1-\\alpha>0$, $P_{21}=1$, $P_{34}=1$, $P_{41}=1-\\alpha>0$, $P_{43}=\\alpha>0$。因此有向图包含边 $1 \\to 2$, $1 \\to 3$, $2 \\to 1$, $3 \\to 4$, $4 \\to 1$, $4 \\to 3$。这给出了\n- $2 \\to 3$ 通过路径 $2 \\to 1 \\to 3$,\n- $3 \\to 2$ 通过路径 $3 \\to 4 \\to 1 \\to 2$,\n- $1 \\leftrightarrow 4$ 通过路径 $1 \\to 3 \\to 4$ 和 $4 \\to 1$,\n并且类似地，通过连接这些路径，每个状态都能到达其他任何状态。因此，对所有 $i,j \\in S$，存在 $n$ 使得 $(P^{n})_{ij}>0$，所以该链是不可约的。\n\n2) 情况 $\\alpha=0$：此时 $P_{12}=0$, $P_{13}=1$, $P_{21}=1$, $P_{34}=1$, $P_{41}=1$, $P_{43}=0$。边为 $1 \\to 3$, $2 \\to 1$, $3 \\to 4$, $4 \\to 1$。状态 2 没有入边，因为对所有 $k \\in S$，$P_{k2}=0$。对于任何 $i \\neq 2$ 和任何 $n \\geq 1$，在时间 $n$ 到达状态 2 将需要一个进入状态 2 的最后一步转移，而这是不可能的；因此 $(P^{n})_{i2}=0$。因此并非所有状态都是互通的，并且该链不是不可约的。\n\n3) 情况 $\\alpha=1$：此时 $P_{12}=1$, $P_{13}=0$, $P_{21}=1$, $P_{34}=1$, $P_{41}=0$, $P_{43}=1$。边为 $1 \\leftrightarrow 2$ 和 $3 \\leftrightarrow 4$，在集合 $\\{1,2\\}$ 和 $\\{3,4\\}$ 之间没有边。因此状态空间分解为两个封闭的互通类，所以对于任何 $i \\in \\{1,2\\}$ 和 $j \\in \\{3,4\\}$（反之亦然），对所有 $n$ 都有 $(P^{n})_{ij}=0$，并且该链不是不可约的。\n\n综合以上情况，该链是不可约的，当且仅当 $0<\\alpha<1$。在这些选项中，这对应于选项 B。", "answer": "$$\\boxed{B}$$", "id": "1368027"}, {"introduction": "马尔可夫链最强大的应用之一是预测系统的长期行为。例如，一台服务器在其生命周期内将有多少比例的时间处于“运行”、“待机”或“故障”状态？这个问题揭示了研究不可约（且非周期）马尔可夫链的最终目的：它保证了唯一平稳分布 $\\pi$ 的存在。这个平稳分布精确地描述了系统在每个状态下花费时间的长期平均比例。计算平稳分布是随机建模中的一项核心技能，它使我们能对从服务器可靠性到生物种群动态等各种系统做出精确的长期预测。[@problem_id:1312364]", "problem": "一个数据中心的专用服务器以离散时间模型运行，其状态在每小时结束时进行评估。该服务器可能处于以下三种状态之一：运行中（Operational，主动处理任务）、待机（Standby，空闲但随时准备接收任务）或故障（Failed，已崩溃并等待修复）。\n\n根据大量的日志数据，确定了以下的一小时转移概率：\n- 如果服务器处于运行中状态，它有 0.2 的概率转移到待机状态（任务完成），有 0.1 的概率转移到故障状态（硬件/软件错误）。\n- 如果服务器处于待机状态，它有 0.6 的概率变为运行中状态（分配了新任务），有 0.1 的概率转移到故障状态（例如，电源故障）。\n- 如果服务器处于故障状态，它有 0.8 的概率在一小时内被修复并返回到待机状态。故障服务器修复后不能直接变为运行中状态；它必须首先经过待机状态。\n\n任何未指定的转移都意味着服务器在该小时内保持其当前状态。假设服务器连续运行很长时间，那么它处于运行中状态的时间在长期来看占多大比例？请将您的答案表示为保留三位有效数字的小数。", "solution": "将服务器建模为一个离散时间、有限状态的马尔可夫链，其状态为运行中（$O$）、待机（$S$）和故障（$F$）。根据未指定的转移意味着保持当前状态的规则，一步转移概率如下：\n- 从 $O$：$P_{OO}=1-0.2-0.1=0.7$, $P_{OS}=0.2$, $P_{OF}=0.1$.\n- 从 $S$：$P_{SO}=0.6$, $P_{SS}=1-0.6-0.1=0.3$, $P_{SF}=0.1$.\n- 从 $F$：$P_{FS}=0.8$, $P_{FF}=1-0.8=0.2$, $P_{FO}=0$.\n\n当状态顺序为 $(O,S,F)$ 时，转移矩阵为\n$$\nP=\\begin{pmatrix}\n0.7 & 0.2 & 0.1\\\\\n0.6 & 0.3 & 0.1\\\\\n0 & 0.8 & 0.2\n\\end{pmatrix}.\n$$\n设平稳分布为 $\\pi=(\\pi_{O},\\pi_{S},\\pi_{F})$，满足 $\\pi=\\pi P$ 和 $\\pi_{O}+\\pi_{S}+\\pi_{F}=1$。平衡方程组为\n$$\n\\pi_{O}=0.7\\pi_{O}+0.6\\pi_{S}+0\\cdot\\pi_{F},\\quad\n\\pi_{S}=0.2\\pi_{O}+0.3\\pi_{S}+0.8\\pi_{F},\\quad\n\\pi_{F}=0.1\\pi_{O}+0.1\\pi_{S}+0.2\\pi_{F}.\n$$\n由第一个方程可得，\n$$\n\\pi_{O}-0.7\\pi_{O}-0.6\\pi_{S}=0\\;\\Rightarrow\\;0.3\\pi_{O}=0.6\\pi_{S}\\;\\Rightarrow\\;\\pi_{O}=2\\pi_{S}.\n$$\n由第三个方程可得，\n$$\n\\pi_{F}-0.2\\pi_{F}=0.1\\pi_{O}+0.1\\pi_{S}\\;\\Rightarrow\\;0.8\\pi_{F}=0.1(\\pi_{O}+\\pi_{S})\\;\\Rightarrow\\;\\pi_{F}=\\frac{1}{8}(\\pi_{O}+\\pi_{S}).\n$$\n代入 $\\pi_{O}=2\\pi_{S}$ 可得\n$$\n\\pi_{F}=\\frac{1}{8}(2\\pi_{S}+\\pi_{S})=\\frac{3}{8}\\pi_{S}.\n$$\n使用归一化条件 $\\pi_{O}+\\pi_{S}+\\pi_{F}=1$：\n$$\n2\\pi_{S}+\\pi_{S}+\\frac{3}{8}\\pi_{S}=1\\;\\Rightarrow\\;3\\pi_{S}+\\frac{3}{8}\\pi_{S}=\\frac{27}{8}\\pi_{S}=1\\;\\Rightarrow\\;\\pi_{S}=\\frac{8}{27}.\n$$\n则\n$$\n\\pi_{O}=2\\pi_{S}=\\frac{16}{27},\\qquad \\pi_{F}=\\frac{3}{8}\\pi_{S}=\\frac{1}{9}.\n$$\n因此，长期来看服务器处于运行中状态的时间比例为 $\\pi_{O}=\\frac{16}{27}\\approx 0.59259\\ldots$，保留三位有效数字为 $0.593$。", "answer": "$$\\boxed{0.593}$$", "id": "1312364"}]}