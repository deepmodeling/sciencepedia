{"hands_on_practices": [{"introduction": "斯科罗霍德表示定理将分布收敛转化为几乎必然收敛，但其证明可能是抽象的。为了将这个强大的定理付诸实践，我们从一个基础练习开始。在这个练习中，我们将为一个收敛到常数的简单离散随机变量序列，明确地构建斯科罗霍德表示 [@problem_id:1388075]。通过使用分位数函数法，你将亲手体验如何在一个新的概率空间上构建一个几乎必然收敛的序列。", "problem": "考虑一个离散随机变量序列 $\\{X_n\\}_{n=1}^{\\infty}$。对每个整数 $n \\ge 1$，随机变量 $X_n$ 由概率 $P(X_n = 1/n) = 1/2$ 和 $P(X_n = -1/n) = 1/2$ 定义。该序列依分布收敛于一个常数随机变量 $X=0$。\n\nSkorokhod 表示定理提供了一个将依分布收敛转换为几乎必然收敛的强有力方法。该定理指出，如果一个实值随机变量序列 $\\{X_n\\}$ 依分布收敛于随机变量 $X$，那么存在一个单一的概率空间 $(\\Omega, \\mathcal{F}, P)$，以及定义在该空间上的一个新的随机变量序列 $\\{Y_n\\}$ 和一个随机变量 $Y$，它们具有以下性质：\n1. 对每个 $n$，$Y_n$ 与 $X_n$ 同分布。\n2. $Y$ 与 $X$ 同分布。\n3. 序列 $\\{Y_n\\}$ 几乎必然收敛于 $Y$。\n\n你的任务是为给定的 $\\{X_n\\}$ 显式构造序列 $\\{Y_n\\}$。我们将使用标准构造法，其中共同的概率空间是带有勒贝格测度的单位区间，即 $(\\Omega, \\mathcal{F}, P) = ([0,1], \\mathcal{B}([0,1]), \\lambda)$，其中 $\\mathcal{B}([0,1])$ 是 Borel σ-代数，而 $\\lambda$ 是勒贝格测度。在这个空间上，每个随机变量 $Y_n$ 可以表示为一个可测函数 $Y_n(u)$，其中 $u \\in [0,1]$。\n\n确定对于 $u \\in (0,1]$ 的 $Y_n(u)$ 的显式函数形式。你的答案应当表示为关于 $u$ 和 $n$ 的一个分段函数。", "solution": "给定序列 $\\{X_{n}\\}_{n=1}^{\\infty}$ 满足 $P(X_{n}=\\frac{1}{n})=\\frac{1}{2}$ 和 $P(X_{n}=-\\frac{1}{n})=\\frac{1}{2}$，且其依分布收敛的极限为 $X=0$。为了在 $([0,1],\\mathcal{B}([0,1]),\\lambda)$ 上构造 $\\{Y_{n}\\}$，使得对每个 $n$ 都有 $Y_{n}\\overset{d}{=}X_{n}$，$Y\\overset{d}{=}X$ 且 $Y_{n}\\to Y$ 几乎必然成立，我们使用逆变换法。\n\n设 $U$ 表示 $([0,1],\\lambda)$ 上的恒等随机变量，即 $U(u)=u$。对每个 $n$，设 $F_{n}$ 是 $X_{n}$ 的累积分布函数。由于 $X_{n}$ 在 $-\\frac{1}{n}$ 和 $\\frac{1}{n}$ 处各有 $\\frac{1}{2}$ 的概率质量，我们有\n$$\nF_{n}(x)=\n\\begin{cases}\n0, & x<-\\frac{1}{n},\\\\\n\\frac{1}{2}, & -\\frac{1}{n}\\le x<\\frac{1}{n},\\\\\n1, & x\\ge \\frac{1}{n}.\n\\end{cases}\n$$\n定义右连续广义逆（分位数）函数\n$$\nF_{n}^{-1}(u)=\\inf\\{x\\in\\mathbb{R}:F_{n}(x)\\ge u\\}, \\quad u\\in(0,1].\n$$\n从 $F_{n}$ 的形式，我们计算出\n$$\nF_{n}^{-1}(u)=\n\\begin{cases}\n-\\frac{1}{n}, & 0<u\\le \\frac{1}{2},\\\\\n\\frac{1}{n}, & \\frac{1}{2}<u\\le 1.\n\\end{cases}\n$$\n设 $Y_{n}(u)=F_{n}^{-1}(u)$，其中 $u\\in(0,1]$。那么 $Y_{n}$ 与 $X_{n}$ 同分布，因为 $U$ 在 $(0,1]$ 上是均匀分布的，且逆变换保持分布不变。此外，对每个固定的 $u\\in(0,1]\\setminus\\{\\frac{1}{2}\\}$，我们有 $|Y_{n}(u)|=\\frac{1}{n}\\to 0$，因此 $Y_{n}(u)\\to 0$。由于集合 $\\{\\frac{1}{2}\\}$ 的勒贝格测度为零，可知 $Y_{n}\\to 0$ 几乎必然成立。取 $Y(u)\\equiv 0$ 可得 $Y\\overset{d}{=}X$，这就完成了 Skorokhod 表示。\n\n因此，对于 $u\\in(0,1]$ 的显式函数形式是\n$$\nY_{n}(u)=\n\\begin{cases}\n-\\frac{1}{n}, & 0<u\\le \\frac{1}{2},\\\\\n\\frac{1}{n}, & \\frac{1}{2}<u\\le 1.\n\\end{cases}\n$$", "answer": "$$\\boxed{Y_{n}(u)=\\begin{cases}-\\frac{1}{n}, & 0<u\\le \\frac{1}{2},\\\\[4pt]\\frac{1}{n}, & \\frac{1}{2}<u\\le 1.\\end{cases}}$$", "id": "1388075"}, {"introduction": "在前一个练习的基础上，我们现在将同样强大的构造技术应用于连续随机变量序列。这个练习探讨了一个均匀分布序列的弱收敛，这是一个在概率论中常见且直观的场景 [@problem_id:1460421]。通过为这个连续情况推导斯科罗霍德表示，你将看到分位数函数法作为一种通用工具的优雅之处，并加深对几乎必然收敛是如何被精确构建出来的理解。", "problem": "考虑一个概率分布序列 $(\\mu_n)_{n\\ge 2}$，其中对于每个整数 $n \\ge 2$，$\\mu_n$ 是区间 $[0, 1 - 1/n]$ 上的均匀分布。令 $\\mu$ 为区间 $[0,1]$ 上的均匀分布。已知测度序列 $(\\mu_n)$ 弱收敛于 $\\mu$。\n\nSkorokhod 表示定理保证了存在一个公共概率空间 $(\\Omega, \\mathcal{F}, P)$ 以及定义在该空间上的一个实值随机变量序列 $(Y_n)_{n\\ge 2}$ 和一个随机变量 $Y$，使得：\n1. 对每个 $n \\ge 2$，$Y_n$ 的概率律为 $\\mu_n$。\n2. $Y$ 的概率律为 $\\mu$。\n3. 对于 $P$-几乎所有的 $\\omega \\in \\Omega$，$Y_n(\\omega) \\to Y(\\omega)$。\n\n您的任务是给出这些随机变量的一个显式构造。具体来说，使用概率空间 $(\\Omega, \\mathcal{F}, P) = ([0,1], \\mathcal{B}, \\lambda)$，其中 $[0,1]$ 是单位区间，$\\mathcal{B}$ 是其 Borel σ-代数，$\\lambda$ 是勒贝格测度，请找出对于 $\\omega \\in [0,1]$ 的 $Y_n(\\omega)$ 和 $Y(\\omega)$ 的函数形式。\n\n请将您的答案表示为函数对 $(Y_n(\\omega), Y(\\omega))$。", "solution": "我们的目标是在概率空间 $([0,1], \\mathcal{B}, \\lambda)$ 上构造随机变量，使其概率律分别为 $\\mu_n$ 和 $\\mu$，并满足 $Y_n \\to Y$ 几乎必然收敛。\n\n首先，令 $U(\\omega) = \\omega$（对于 $\\omega \\in [0,1]$）。由于 $\\lambda$ 是勒贝格测度，$U$ 在 $[0,1]$ 上服从均匀分布。\n\n定义 $Y(\\omega)$ 的概率律为 $\\mu$，即 $[0,1]$ 上的均匀分布。$\\mu$ 的累积分布函数是 $F(x) = 0$（对于 $x < 0$），$F(x) = x$（对于 $x \\in [0,1]$），以及 $F(x) = 1$（对于 $x \\ge 1$）。其分位数函数（广义逆）为 $F^{-1}(u) = u$（对于 $u \\in [0,1]$）。使用概率积分变换，设置\n$$\nY(\\omega) = F^{-1}(U(\\omega)) = U(\\omega) = \\omega.\n$$\n因此 $Y$ 的概率律为 $\\mu$。\n\n对于每个 $n \\ge 2$，定义 $Y_n$ 的概率律为 $\\mu_n$，即 $[0, 1 - \\frac{1}{n}]$ 上的均匀分布。$\\mu_n$ 的累积分布函数是\n$$\nF_n(x) = \\begin{cases}\n0, & x < 0, \\\\\n\\frac{x}{1 - \\frac{1}{n}}, & x \\in [0, 1 - \\frac{1}{n}], \\\\\n1, & x \\ge 1 - \\frac{1}{n}.\n\\end{cases}\n$$\n其广义逆（分位数函数）是\n$$\nF_n^{-1}(u) = \\left(1 - \\frac{1}{n}\\right) u, \\quad u \\in [0,1].\n$$\n定义\n$$\nY_n(\\omega) = F_n^{-1}(U(\\omega)) = \\left(1 - \\frac{1}{n}\\right)\\omega.\n$$\n为验证 $Y_n$ 的概率律，计算对于 $x \\in \\mathbb{R}$ 的情况：\n$$\nP(Y_n \\le x) = \\lambda\\left(\\left\\{\\omega \\in [0,1] : \\left(1 - \\frac{1}{n}\\right)\\omega \\le x\\right\\}\\right)\n= \\lambda\\left(\\left\\{\\omega \\le \\frac{x}{1 - \\frac{1}{n}}\\right\\}\\right)\n= \\begin{cases}\n0, & x < 0, \\\\\n\\frac{x}{1 - \\frac{1}{n}}, & x \\in [0, 1 - \\frac{1}{n}], \\\\\n1, & x \\ge 1 - \\frac{1}{n},\n\\end{cases}\n$$\n这恰好是 $F_n(x)$，所以 $Y_n$ 的概率律是 $\\mu_n$。\n\n最后，几乎必然收敛对于所有 $\\omega \\in [0,1]$ 逐点成立：\n$$\nY_n(\\omega) = \\left(1 - \\frac{1}{n}\\right)\\omega \\to \\omega = Y(\\omega) \\quad \\text{as } n \\to \\infty.\n$$\n因此，在 $([0,1], \\mathcal{B}, \\lambda)$ 上，一个显式构造是 $Y_n(\\omega) = \\left(1 - \\frac{1}{n}\\right)\\omega$ 和 $Y(\\omega) = \\omega$。", "answer": "$$\\boxed{\\begin{pmatrix}\\left(1 - \\frac{1}{n}\\right)\\omega & \\omega\\end{pmatrix}}$$", "id": "1460421"}, {"introduction": "掌握了斯科罗霍德表示的构造方法后，我们来探讨一个更深层次的问题：这种构造的代价是什么？这个练习揭示了该定理的一个微妙但至关重要的方面：即使原始序列是独立的，标准的分位数构造方法也会在新的序列中引入相关性 [@problem_id:1388054]。通过计算构造出的两个随机变量的协方差，你将量化这种依赖性，从而理解在获得几乎必然收敛的保证时所做的权衡。", "problem": "考虑一个独立随机变量序列 $\\{X_n\\}_{n \\ge 1}$，其中每个 $X_n$ 服从成功概率为 $p_n$ 的伯努利分布。参数 $p_n$ 由公式 $p_n = \\frac{1}{2} - \\frac{1}{n+3}$ (对于 $n \\ge 1$) 给出。该随机变量序列依分布收敛于一个随机变量 $X$。\n\nSkorokhod 表示定理允许我们在一个单一的共同概率空间上构造另一个随机变量序列 $\\{Y_n\\}_{n \\ge 1}$。这是通过分位数函数法实现的。设 $F_n$ 是随机变量 $X_n$ 的累积分布函数 (CDF)。相应的分位数函数定义为 $F_n^{-1}(u) = \\inf\\{x \\in \\mathbb{R} : F_n(x) \\ge u\\}$，其中 $u \\in (0,1)$。然后新的随机变量定义为 $Y_n = F_n^{-1}(U)$，其中 $U$ 是一个在区间 $[0,1]$ 上均匀分布的单一随机变量。通过这种构造，每个 $Y_n$ 都与相应的 $X_n$ 具有相同的分布。\n\n你的任务是分析这个新序列中前两个随机变量 $Y_1$ 和 $Y_2$ 之间的关系。计算表达式 $E[Y_1 Y_2] - E[Y_1]E[Y_2]$ 的值。将你的最终答案以最简分数形式呈现。", "solution": "对于成功概率为 $p_{n}$ 的伯努利随机变量，其累积分布函数 (CDF) 为\n$$\nF_{n}(x)=\\begin{cases}\n0, & x<0,\\\\\n1-p_{n}, & 0\\le x<1,\\\\\n1, & x\\ge 1.\n\\end{cases}\n$$\n分位数函数 $F_{n}^{-1}(u)=\\inf\\{x:F_{n}(x)\\ge u\\}$ 满足\n$$\nF_{n}^{-1}(u)=\\begin{cases}\n0, & 0<u\\le 1-p_{n},\\\\\n1, & 1-p_{n}<u<1.\n\\end{cases}\n$$\n因此，对于 $U\\sim \\text{Unif}[0,1]$，我们有\n$$\nY_{n}=\\mathbf{1}_{\\{U>1-p_{n}\\}}.\n$$\n所以，对于每个 $n$，\n$$\n\\mathbb{E}[Y_{n}]=\\mathbb{P}(U>1-p_{n})=p_{n}.\n$$\n特别地，\n$$\np_{1}=\\frac{1}{2}-\\frac{1}{1+3}=\\frac{1}{4},\\qquad p_{2}=\\frac{1}{2}-\\frac{1}{2+3}=\\frac{3}{10},\n$$\n所以\n$$\n\\mathbb{E}[Y_{1}]=\\frac{1}{4},\\qquad \\mathbb{E}[Y_{2}]=\\frac{3}{10}.\n$$\n对于乘积，\n$$\nY_{1}Y_{2}=\\mathbf{1}_{\\{U>1-p_{1}\\}}\\mathbf{1}_{\\{U>1-p_{2}\\}}=\\mathbf{1}_{\\{U>\\max(1-p_{1},\\,1-p_{2})\\}},\n$$\n所以\n$$\n\\mathbb{E}[Y_{1}Y_{2}]=\\mathbb{P}\\big(U>\\max(1-p_{1},\\,1-p_{2})\\big)\n=1-\\max(1-p_{1},\\,1-p_{2})=\\min(p_{1},p_{2}).\n$$\n由于 $p_{1}=\\frac{1}{4}<\\frac{3}{10}=p_{2}$，我们得到\n$$\n\\mathbb{E}[Y_{1}Y_{2}]=\\frac{1}{4}.\n$$\n因此，\n$$\n\\mathbb{E}[Y_{1}Y_{2}]-\\mathbb{E}[Y_{1}]\\mathbb{E}[Y_{2}]\n=\\frac{1}{4}-\\left(\\frac{1}{4}\\right)\\left(\\frac{3}{10}\\right)\n=\\frac{1}{4}-\\frac{3}{40}\n=\\frac{7}{40}.\n$$", "answer": "$$\\boxed{\\frac{7}{40}}$$", "id": "1388054"}]}