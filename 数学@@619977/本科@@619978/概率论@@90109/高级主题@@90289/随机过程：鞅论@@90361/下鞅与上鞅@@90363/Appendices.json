{"hands_on_practices": [{"introduction": "理解基础变换如何影响随机过程的性质是至关重要的。本练习将探讨最简单的情形：对一个下鞅进行线性伸缩和平移，即 $Y_n = a X_n + b$。通过这个练习，你将能阐明过程的“趋势”如何被这些变换所影响，并巩固下鞅与上鞅的核心定义。[@problem_id:1390452]", "problem": "在一个简化的金融模型中，某种资产在离散时间步 $n=0, 1, 2, \\dots$ 上的价格由一个可积随机变量序列 $(X_n)_{n \\geq 0}$ 表示。该序列适应于一个信息流 $(\\mathcal{F}_n)_{n \\geq 0}$，这个信息流代表了直到时间 $n$ 为止可用的信息历史。该资产被认为是投资者的一个“有利博弈”，用数学术语来说，这意味着 $(X_n)_{n \\geq 0}$ 是关于 $(\\mathcal{F}_n)_{n \\geq 0}$ 的一个下鞅。\n\n一位金融工程师创造了一种新的衍生证券，其价格 $(Y_n)_{n \\geq 0}$ 由线性变换 $Y_n = a X_n + b$ 定义，其中 $a$ 和 $b$ 是实常数。我们假设 $(Y_n)_{n \\geq 0}$ 也是一个适应于相同信息流的可积随机变量序列。\n\n对于任何一个本身不构成鞅的原始下鞅 $(X_n)_{n \\geq 0}$，以下关于过程 $(Y_n)_{n \\geq 0}$ 的陈述中，哪一个总是正确的？\n\nA. 无论 $a$ 和 $b$ 的值如何，$(Y_n)_{n \\geq 0}$ 始终是下鞅。\n\nB. $(Y_n)_{n \\geq 0}$ 是下鞅当且仅当 $a \\geq 0$。\n\nC. $(Y_n)_{n \\geq 0}$ 是下鞅当且仅当 $b \\geq 0$。\n\nD. $(Y_n)_{n \\geq 0}$ 是上鞅当且仅当 $a > 0$。\n\nE. 除非 $a=1$ 且 $b=0$，否则 $(Y_n)_{n \\geq 0}$ 不可能是鞅。", "solution": "根据定义，一个适应于 $(\\mathcal{F}_{n})_{n \\geq 0}$ 的过程 $(X_{n})_{n \\geq 0}$ 是一个下鞅，如果对于所有的 $n$ 都满足\n$$\n\\mathbb{E}\\!\\left[X_{n+1}\\mid \\mathcal{F}_{n}\\right]\\geq X_{n}\\quad\\text{a.s.}\n$$\n令 $Y_{n}=aX_{n}+b$，其中 $a,b$ 为实常数。由于 $X_{n}$ 是可积且适应的，所以 $Y_{n}$ 也是可积且适应的，因为 $|Y_{n}|=|aX_{n}+b|\\leq |a||X_{n}|+|b|$ 且 $Y_{n}$ 是 $\\mathcal{F}_{n}$-可测的。\n\n计算条件期望：\n$$\n\\mathbb{E}\\!\\left[Y_{n+1}\\mid \\mathcal{F}_{n}\\right]\n=\\mathbb{E}\\!\\left[aX_{n+1}+b\\mid \\mathcal{F}_{n}\\right]\n=a\\,\\mathbb{E}\\!\\left[X_{n+1}\\mid \\mathcal{F}_{n}\\right]+b.\n$$\n我们将其与 $Y_{n}=aX_{n}+b$ 进行比较。\n\n情况 $a\\geq 0$：使用 $X$ 的下鞅不等式，\n$$\n\\mathbb{E}\\!\\left[Y_{n+1}\\mid \\mathcal{F}_{n}\\right]\n=a\\,\\mathbb{E}\\!\\left[X_{n+1}\\mid \\mathcal{F}_{n}\\right]+b\n\\geq aX_{n}+b\n=Y_{n},\n$$\n所以对于任意 $a\\geq 0$ 和任何 $b$，$(Y_{n})$ 都是一个下鞅。\n\n情况 $a<0$：如果 $(Y_{n})$ 是一个下鞅，那么\n$$\n\\mathbb{E}\\!\\left[Y_{n+1}\\mid \\mathcal{F}_{n}\\right]-Y_{n}\n=a\\left(\\mathbb{E}\\!\\left[X_{n+1}\\mid \\mathcal{F}_{n}\\right]-X_{n}\\right)\\geq 0.\n$$\n因为 $a<0$，这蕴含着\n$$\n\\mathbb{E}\\!\\left[X_{n+1}\\mid \\mathcal{F}_{n}\\right]-X_{n}\\leq 0\\quad\\text{a.s.}\n$$\n但 $X$ 是一个下鞅，所以 $\\mathbb{E}\\!\\left[X_{n+1}\\mid \\mathcal{F}_{n}\\right]-X_{n}\\geq 0$ a.s. 结合这两个不等式可得\n$$\n\\mathbb{E}\\!\\left[X_{n+1}\\mid \\mathcal{F}_{n}\\right]=X_{n}\\quad\\text{a.s. for all }n,\n$$\n即，$(X_{n})$ 是一个鞅。这与 $(X_{n})$ 不是鞅的假设相矛盾。因此，对于一个非鞅的下鞅 $(X_{n})$，当 $a<0$ 时，$(Y_{n})$ 不可能是下鞅。\n\n加性常数 $b$ 不影响下鞅或上鞅不等式，因为它通过条件期望的线性性质在两侧被抵消。特殊情况 $a=0$ 得到 $Y_{n}=b$，这是一个常数过程，它是一个鞅，因此也是一个下鞅。\n\n因此，$(Y_{n})$ 是下鞅当且仅当 $a\\geq 0$。结果如下：\n- A 是错误的（当 $a<0$ 时不成立）。\n- B 是正确的。\n- C 是错误的（取决于 $a$，而不是 $b$）。\n- D 是错误的；实际上，$(Y_{n})$ 是上鞅当且仅当 $a\\leq 0$（当 $a=0$ 时得到一个鞅）。\n- E 是错误的；当 $a=0$ 时，即使 $X$ 不是一个鞅，任何 $b$ 都会得到一个鞅，而如果 $a\\neq 0$，则 $Y$ 是一个鞅仅当 $X$ 是一个鞅。", "answer": "$$\\boxed{B}$$", "id": "1390452"}, {"introduction": "在掌握了基本变换后，我们来探讨一个更深入的概念：如何从一个非鞅的过程中构造出一个鞅。本练习通过一个经典的随机游走平方值的例子，引入了“补偿过程” $(M_n = S_n^2 - n\\sigma^2)$ 的思想。这个练习对于理解如何“移除”可预测的漂移以分离出纯粹的随机性至关重要，这也是随机分析中的一个核心技巧。[@problem_id:1390412]", "problem": "一个算法交易策略正在一个为“公平”而设计的模拟市场中进行测试，这意味着价格没有固有的向上或向下漂移。该策略在任何给定的一天，即第 $k$ 天，所产生的收益或损失由一个随机变量 $Y_k$ 表示。假定每日结果 $\\{Y_k\\}_{k \\ge 1}$ 是独立同分布 (i.i.d.) 的，其期望值为 $E[Y_k] = 0$，方差为一个恒定的非零值 $Var(Y_k) = \\sigma^2$。$n$ 天后的总累计收益或损失是和 $S_n = \\sum_{k=1}^n Y_k$。一位风险分析师定义了一个“补偿方差过程”$M_n$ 来分析该策略的风险状况。该过程定义为 $M_n = S_n^2 - n\\sigma^2$。\n\n假设每日收益/损失的标准差已知为 $\\sigma = 350$。在为期 $n=8$ 个交易日后，观察到累计收益为 $S_8 = 2100$。根据此信息，计算在第 $n=20$ 天时补偿方差过程的期望值。请将答案表示为单个实数。", "solution": "给定独立同分布 (i.i.d.) 的每日盈亏 $\\{Y_{k}\\}_{k \\ge 1}$，其 $E[Y_{k}] = 0$ 且 $\\operatorname{Var}(Y_{k}) = \\sigma^{2}$。定义 $S_{n} = \\sum_{k=1}^{n} Y_{k}$ 以及 $M_{n} = S_{n}^{2} - n \\sigma^{2}$。设 $\\{\\mathcal{F}_{n}\\}$ 为自然滤波 $\\mathcal{F}_{n} = \\sigma(Y_{1},\\dots,Y_{n})$。\n\n首先，我们证明 $\\{M_{n}\\}$ 是一个鞅。使用 $S_{n+1} = S_{n} + Y_{n+1}$，我们计算\n$$\nS_{n+1}^{2} = S_{n}^{2} + 2 S_{n} Y_{n+1} + Y_{n+1}^{2}.\n$$\n取关于 $\\mathcal{F}_{n}$ 的条件期望，并利用独立性和零均值，\n$$\nE[S_{n+1}^{2} \\mid \\mathcal{F}_{n}] = S_{n}^{2} + 2 S_{n} E[Y_{n+1} \\mid \\mathcal{F}_{n}] + E[Y_{n+1}^{2} \\mid \\mathcal{F}_{n}] = S_{n}^{2} + 0 + E[Y_{n+1}^{2}] = S_{n}^{2} + \\sigma^{2}.\n$$\n因此，\n$$\nE[M_{n+1} \\mid \\mathcal{F}_{n}] = E[S_{n+1}^{2} - (n+1)\\sigma^{2} \\mid \\mathcal{F}_{n}] = S_{n}^{2} + \\sigma^{2} - (n+1)\\sigma^{2} = S_{n}^{2} - n \\sigma^{2} = M_{n},\n$$\n所以 $\\{M_{n}\\}$ 是一个鞅。\n\n根据鞅的性质，对于 $20 \\ge 8$ 有，\n$$\nE[M_{20} \\mid \\mathcal{F}_{8}] = M_{8}.\n$$\n根据观测值 $S_{8} = 2100$ 和 $\\sigma = 350$，我们计算\n$$\nM_{8} = S_{8}^{2} - 8 \\sigma^{2} = 2100^{2} - 8 \\cdot 350^{2}.\n$$\n计算每一项：\n$$\n2100^{2} = 4{,}410{,}000, \\quad 350^{2} = 122{,}500, \\quad 8 \\cdot 122{,}500 = 980{,}000.\n$$\n因此，\n$$\nM_{8} = 4{,}410{,}000 - 980{,}000 = 3{,}430{,}000.\n$$\n因此，\n$$\nE[M_{20} \\mid S_{8} = 2100] = 3{,}430{,}000.\n$$", "answer": "$$\\boxed{3430000}$$", "id": "1390412"}, {"introduction": "在探索了线性和特定构造之后，理解这些性质的边界同样重要。这个练习挑战了一种直觉，即“上鞅”的性质在任何“合理”的非线性函数（例如取最大值函数 $\\max(\\cdot, \\cdot)$）下都会保持不变。通过寻找一个反例，你将能更深刻地理解这些数学结构的精妙之处，并培养批判性思维。[@problem_id:1390442]", "problem": "考虑概率论中的如下论断：\n\n“若 $X = (X_n)_{n \\geq 0}$ 和 $Y = (Y_n)_{n \\geq 0}$ 是关于同一域流 $(\\mathcal{F}_n)_{n \\geq 0}$ 的两个上鞅，则由 $M_n = \\max(X_n, Y_n)$ 定义的过程 $M = (M_n)_{n \\geq 0}$ 也是关于 $(\\mathcal{F}_n)_{n \\geq 0}$ 的一个上鞅。”\n\n回顾一下，一个过程 $Z = (Z_n)_{n \\geq 0}$ 适应于一个域流 $(\\mathcal{F}_n)_{n \\geq 0}$ 是指对每个 $n$，随机变量 $Z_n$ 都是 $\\mathcal{F}_n$-可测的。这样的一个过程是一个上鞅，如果它是适应的，对所有 $n$ 都有 $E[|Z_n|] < \\infty$，并且对所有 $n \\geq 0$ 都满足 $E[Z_{n+1} | \\mathcal{F}_n] \\leq Z_n$。\n\n设 $(\\xi_i)_{i \\geq 1}$ 为一列独立同分布的随机变量，满足 $P(\\xi_i = 1) = P(\\xi_i = -1) = 1/2$。设 $S_n$ 是一个简单对称随机游走，定义为 $S_0 = 0$ 和 $S_n = \\sum_{i=1}^n \\xi_i$（当 $n \\geq 1$ 时）。设 $(\\mathcal{F}_n)_{n \\geq 0}$ 是由该随机游走生成的自然域流，即 $\\mathcal{F}_0 = \\{\\emptyset, \\Omega\\}$ 且对 $n \\geq 1$ 有 $\\mathcal{F}_n = \\sigma(\\xi_1, \\dots, \\xi_n)$。\n\n下列哪一对过程 $(X_n, Y_n)$ 为上述论断提供了一个有效的反例？\n\nA. $X_n = S_n$ 和 $Y_n = -S_n$\n\nB. $X_n = -n^2$ 和 $Y_n = -n^2 - 1$\n\nC. $X_n = S_n$ 和 $Y_n = S_n - 1$\n\nD. $X_n = S_n^2$ 和 $Y_n = 0$", "solution": "我们逐一分析每个选项，通过验证给定过程的上鞅性质，然后检验由逐点最大值定义的过程是否违反了上鞅不等式。\n\n回顾一下，对于简单对称随机游走，有 $S_{n+1} = S_n + \\xi_{n+1}$，其中 $E[\\xi_{n+1} \\mid \\mathcal{F}_n] = 0$ 且 $\\xi_{n+1}$ 独立于 $\\mathcal{F}_n$。因此\n$$\nE[S_{n+1} \\mid \\mathcal{F}_n] = S_n + E[\\xi_{n+1} \\mid \\mathcal{F}_n] = S_n,\n$$\n所以 $(S_n)_{n \\geq 0}$ 是一个鞅。因此，$(S_n)$ 和 $(-S_n)$ 都是上鞅。此外，$S_n$ 和任何确定性序列都适应于 $(\\mathcal{F}_n)$，且所考虑的所有过程对每个固定的 $n$ 都具有有限一阶矩。\n\n选项 A：$X_n = S_n$, $Y_n = -S_n$。$(X_n)$ 和 $(Y_n)$ 都是鞅，因此也都是上鞅。其最大值为\n$$\nM_n = \\max(S_n, -S_n) = |S_n|.\n$$\n我们计算条件期望。以 $\\mathcal{F}_n$ 为条件，分情况讨论：\n- 如果 $S_n = k$ 且 $k \\geq 1$，那么 $S_{n+1} \\in \\{k+1, k-1\\}$，两者概率相等，所以\n$$\nE[|S_{n+1}| \\mid \\mathcal{F}_n] = \\frac{|k+1| + |k-1|}{2} = \\frac{(k+1) + (k-1)}{2} = k = |S_n|.\n$$\n- 如果 $S_n = -k$ 且 $k \\geq 1$，同样的计算得出 $E[|S_{n+1}| \\mid \\mathcal{F}_n] = |S_n|$。\n- 如果 $S_n = 0$，那么 $S_{n+1} \\in \\{1, -1\\}$，两者概率相等，所以\n$$\nE[|S_{n+1}| \\mid \\mathcal{F}_n] = \\frac{|1| + |-1|}{2} = 1 > 0 = |S_n|.\n$$\n因此，$E[M_{n+1} \\mid \\mathcal{F}_n] \\geq M_n$，并且在概率为正的事件 $\\{S_n = 0\\}$ 上不等式是严格成立的。因此 $(M_n)$ 是一个下鞅，不满足上鞅不等式。这为该论断提供了一个有效的反例。\n\n选项 B：$X_n = -n^{2}$，$Y_n = -n^{2} - 1$。这些过程是确定性的、适应的且可积的。上鞅条件简化为 $X_{n+1} \\leq X_n$ 和 $Y_{n+1} \\leq Y_n$：\n$$\n-(n+1)^{2} \\leq -n^{2}, \\quad -(n+1)^{2} - 1 \\leq -n^{2} - 1,\n$$\n这对所有 $n$ 都成立。其最大值为\n$$\nM_n = \\max(-n^{2}, -n^{2} - 1) = -n^{2} = X_n,\n$$\n它是一个上鞅。因此这不是一个反例。\n\n选项 C：$X_n = S_n$，$Y_n = S_n - 1$。由于 $S_n$ 是一个鞅，所以 $S_n - 1$ 也是一个鞅：\n$$\nE[S_{n+1} - 1 \\mid \\mathcal{F}_n] = E[S_{n+1} \\mid \\mathcal{F}_n] - 1 = S_n - 1 = Y_n.\n$$\n其最大值满足\n$$\nM_n = \\max(S_n, S_n - 1) = S_n,\n$$\n它是一个上鞅。因此这不是一个反例。\n\n选项 D：$X_n = S_n^{2}$，$Y_n = 0$。我们有\n$$\nE[S_{n+1}^{2} \\mid \\mathcal{F}_n] = E[(S_n + \\xi_{n+1})^{2} \\mid \\mathcal{F}_n] = S_n^{2} + 2 S_n E[\\xi_{n+1} \\mid \\mathcal{F}_n] + E[\\xi_{n+1}^{2} \\mid \\mathcal{F}_n] = S_n^{2} + 1,\n$$\n所以 $(S_n^{2})$ 是一个下鞅，而不是一个上鞅。因此，该选项不满足 $X$ 和 $Y$ 都是上鞅的前提条件，不能作为反例。\n\n因此，只有选项 A 提供了一个有效的反例：两个输入过程都是上鞅，而它们的逐点最大值 $(|S_n|)$ 不是一个上鞅。", "answer": "$$\\boxed{A}$$", "id": "1390442"}]}