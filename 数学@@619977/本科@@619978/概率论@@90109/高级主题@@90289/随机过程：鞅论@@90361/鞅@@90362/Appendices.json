{"hands_on_practices": [{"introduction": "要真正理解鞅，一个极好的起点是亲手构建一个。这个练习将指导我们从一个非鞅的过程中，通过引入一个确定性的“补偿”项，来构造一个鞅。具体来说，我们将考察简单对称随机游走的平方，并找到一个修正项 $a_n$，使得 $S_n^2 - a_n$ 成为一个公平博弈的数学模型，这个过程将帮助我们掌握鞅验证的核心计算技巧。[@problem_id:1310316]", "problem": "考虑一个金融工具离散时间演化的简化模型。令 $X_i$（其中 $i=1, 2, 3, \\dots$）为一列独立同分布的随机变量，代表每日的市场冲击，且满足 $P(X_i = 1) = P(X_i = -1) = \\frac{1}{2}$。该金融工具在第 $n$ 天结束时的头寸由一个简单对称随机游走 $S_n = \\sum_{i=1}^n X_i$ 给出，起始于 $S_0 = 0$。由这些冲击生成的自然域流记为 $\\mathcal{F}_n = \\sigma(X_1, X_2, \\dots, X_n)$，表示截至第 $n$ 天的市场信息历史。\n\n某个金融衍生品的价值与此头寸呈二次方关系，由过程 $Y_n = S_n^2$ 给出。为了使这个衍生品成为一个“公平博弈”，我们引入一个非随机的、确定性的成本调整过程 $a_n$，并将其从价值中减去。由此得到的净价值过程为 $M_n = S_n^2 - a_n$。\n\n求出确定性序列 $a_n$（对于 $n \\ge 0$）的显式公式，使得过程 $M_n$ 构成一个关于域流 $\\mathcal{F}_n$ 的鞅，并假设初始成本为零，即 $a_0 = 0$。", "solution": "我们需要过程 $M_{n} = S_{n}^{2} - a_{n}$ 是关于 $\\mathcal{F}_{n}$ 的一个鞅，即对于所有 $n \\geq 0$ 都满足\n$$\n\\mathbb{E}\\!\\left[M_{n+1}\\mid \\mathcal{F}_{n}\\right] = M_{n}.\n$$\n使用 $S_{n+1} = S_{n} + X_{n+1}$，展开 $S_{n+1}^{2}$：\n$$\nS_{n+1}^{2} = (S_{n} + X_{n+1})^{2} = S_{n}^{2} + 2 S_{n} X_{n+1} + X_{n+1}^{2}.\n$$\n给定 $\\mathcal{F}_{n}$ 取条件期望，并利用 $X_{n+1}$ 独立于 $\\mathcal{F}_{n}$，且 $\\mathbb{E}[X_{n+1}]=0$ 和 $X_{n+1}^{2}=1$ 几乎必然成立，我们得到\n$$\n\\mathbb{E}\\!\\left[S_{n+1}^{2}\\mid \\mathcal{F}_{n}\\right] = S_{n}^{2} + 2 S_{n} \\mathbb{E}[X_{n+1}] + \\mathbb{E}[X_{n+1}^{2}] = S_{n}^{2} + 1.\n$$\n因此，\n$$\n\\mathbb{E}\\!\\left[M_{n+1}\\mid \\mathcal{F}_{n}\\right] = \\mathbb{E}\\!\\left[S_{n+1}^{2} - a_{n+1}\\mid \\mathcal{F}_{n}\\right] = S_{n}^{2} + 1 - a_{n+1}.\n$$\n根据鞅的性质，上式必须等于 $M_{n} = S_{n}^{2} - a_{n}$，所以\n$$\nS_{n}^{2} + 1 - a_{n+1} = S_{n}^{2} - a_{n} \\quad \\Longrightarrow \\quad a_{n+1} - a_{n} = 1.\n$$\n在初始条件 $a_{0} = 0$下，这个一阶差分方程的解为\n$$\na_{n} = \\sum_{k=1}^{n} 1 = n \\quad \\text{对于所有 } n \\geq 0.\n$$\n直接验证可以确认鞅的性质：\n$$\n\\mathbb{E}\\!\\left[M_{n+1}\\mid \\mathcal{F}_{n}\\right] = S_{n}^{2} + 1 - (n+1) = S_{n}^{2} - n = M_{n}.\n$$\n因此，所求的确定性序列是 $a_{n} = n$。", "answer": "$$\\boxed{n}$$", "id": "1310316"}, {"introduction": "并非所有有意义的随机过程都满足鞅的严格等式条件；有些过程的期望值会系统性地增加或减少。这就引出了下鞅（submartingale，期望趋势向上）和上鞅（supermartingale，期望趋势向下）的概念。这个练习通过考察随机游走位置的绝对值 $|S_n|$，展示了一个经典的下鞅例子，它揭示了鞅理论与函数的凸性之间深刻的联系，尤其是在应用詹森不等式（Jensen's inequality）时。[@problem_id:1310339]", "problem": "设 $\\{X_i\\}_{i \\in \\mathbb{N}}$ 为概率空间 $(\\Omega, \\mathcal{F}, P)$ 上的一个独立同分布随机变量序列，满足 $P(X_i = 1) = P(X_i = -1) = 1/2$。一个简单对称随机游走 $\\{S_n\\}_{n \\ge 0}$ 定义为 $S_0 = 0$ 且当 $n \\ge 1$ 时 $S_n = \\sum_{i=1}^n X_i$。设 $\\{\\mathcal{F}_n\\}_{n \\ge 0}$ 是由此序列生成的自然信息流，其中当 $n \\ge 1$ 时 $\\mathcal{F}_n = \\sigma(X_1, \\dots, X_n)$，且 $\\mathcal{F}_0 = \\{\\emptyset, \\Omega\\}$。\n\n考虑一个新随机过程 $\\{M_n\\}_{n \\ge 0}$，其定义为 $M_n = |S_n|$。\n\n下列哪个陈述正确描述了过程 $\\{M_n\\}_{n \\ge 0}$ 相对于信息流 $\\{\\mathcal{F}_n\\}_{n \\ge 0}$ 的性质？\n\nA. $\\{M_n\\}_{n \\ge 0}$ 是一个鞅。\n\nB. $\\{M_n\\}_{n \\ge 0}$ 是一个下鞅，但不是鞅。\n\nC. $\\{M_n\\}_{n \\ge 0}$ 是一个上鞅，但不是鞅。\n\nD. $\\{M_n\\}_{n \\ge 0}$ 既不是下鞅也不是上鞅。", "solution": "我们首先检验 $\\{M_{n}\\}_{n \\ge 0}$ 是适应的且可积的。由于 $S_{n}$ 是 $\\mathcal{F}_{n}$-可测的，那么 $M_{n}=\\lvert S_{n}\\rvert$ 也是 $\\mathcal{F}_{n}$-可测的，因此是适应的。此外，几乎必然有 $\\lvert S_{n}\\rvert\\leq n$，因此对于每个 $n$，$\\mathbb{E}[\\lvert M_{n}\\rvert]\\leq n<\\infty$，故而是可积的。\n\n接下来，我们计算 $M_{n+1}$ 在给定 $\\mathcal{F}_{n}$ 下的条件期望：\n$$\n\\mathbb{E}[M_{n+1}\\mid \\mathcal{F}_{n}]\n=\\mathbb{E}[\\lvert S_{n}+X_{n+1}\\rvert\\mid \\mathcal{F}_{n}]\n=\\frac{1}{2}\\big(\\lvert S_{n}+1\\rvert+\\lvert S_{n}-1\\rvert\\big),\n$$\n利用 $X_{n+1}$ 独立于 $\\mathcal{F}_{n}$ 以及 $P(X_{n+1}=1)=P(X_{n+1}=-1)=\\frac{1}{2}$。\n\n我们将此与 $M_{n}=\\lvert S_{n}\\rvert$ 进行比较。对于任意实数 $s$，考虑\n$$\n\\frac{1}{2}\\big(\\lvert s+1\\rvert+\\lvert s-1\\rvert\\big)\\geq \\lvert s\\rvert.\n$$\n这个不等式可以通过分情况来验证：\n- 如果 $s\\geq 1$，则 $\\lvert s+1\\rvert=s+1$ 且 $\\lvert s-1\\rvert=s-1$，因此平均值等于 $s=\\lvert s\\rvert$。\n- 如果 $-1\\leq s\\leq 1$，则 $\\lvert s+1\\rvert+\\lvert s-1\\rvert=2$，所以平均值等于 $1\\geq \\lvert s\\rvert$，仅当 $|s|=1$ 时等号成立。\n- 如果 $s\\leq -1$，令 $s=-a$ 且 $a\\geq 1$，则 $\\lvert s+1\\rvert=a-1$ 且 $\\lvert s-1\\rvert=a+1$，所以平均值等于 $a=\\lvert s\\rvert$。\n\n等价地，由函数 $x\\mapsto \\lvert x\\rvert$ 的凸性以及 $\\mathbb{E}[X_{n+1}\\mid \\mathcal{F}_{n}]=0$，根据 Jensen 不等式可得\n$$\n\\mathbb{E}[\\lvert S_{n}+X_{n+1}\\rvert\\mid \\mathcal{F}_{n}]\n\\geq \\lvert S_{n}+\\mathbb{E}[X_{n+1}\\mid \\mathcal{F}_{n}]\\rvert\n=\\lvert S_{n}\\rvert=M_{n}.\n$$\n因此 $\\{M_{n}\\}_{n\\ge 0}$ 是一个下鞅。\n\n为证明它不是一个鞅，只需在 $\\mathcal{F}_{n}$ 中找到一个概率为正的事件，使得不等式为严格不等式。在事件 $\\{S_{n}=0\\}$ 上，我们有\n$$\n\\mathbb{E}[M_{n+1}\\mid \\mathcal{F}_{n}]=\\frac{1}{2}(\\lvert 1\\rvert+\\lvert -1\\rvert)=1>M_{n}=\\lvert 0\\rvert=0.\n$$\n因为当 $n$ 为偶数时 $P(S_{n}=0)>0$，所以对于这些 $n$，鞅等式以正概率不成立。因此，$\\{M_{n}\\}_{n\\ge 0}$ 不是一个鞅。\n\n综上，$\\{M_{n}\\}_{n\\ge 0}$ 是一个下鞅，但不是一个鞅。", "answer": "$$\\boxed{B}$$", "id": "1310339"}, {"introduction": "鞅理论的强大之处在于其广泛的应用，尤其是在金融数学中。这个练习将我们的视角从加性模型（如随机游走）转移到乘性模型，后者更常用于描述资产价格的演变。通过确定使资产增值过程成为鞅的特定概率，我们实际上是在寻找一个使投资成为“公平游戏”的市场条件。这清晰地展示了如何将鞅的抽象定义转化为金融模型中具体且有意义的参数。[@problem_id:1310334]", "problem": "考虑一个金融资产价值在离散时间步长 $n=0, 1, 2, \\dots$ 上演变的简化模型。设 $V_n$ 为该资产在时间 $n$ 的价值。初始价值为一个正常数 $V_0$。后续时间步长的价值由递归关系 $V_n = V_{n-1} \\cdot \\xi_n$ (对于 $n \\ge 1$) 给出。随机变量 $\\{\\xi_n\\}_{n \\ge 1}$ 是一列独立同分布 (i.i.d.) 的正随机变量，代表了每日的乘性增长因子。\n\n每个增长因子 $\\xi_n$ 可取两个值之一：“上涨”值 $u = 1.25$（概率为 $p$），或“下跌”值 $d = 0.85$（概率为 $1-p$）。资产价值截至时间 $n$ 的历史由自然信息流 $\\mathcal{F}_n = \\sigma(\\xi_1, \\dots, \\xi_n)$ 表示，它形式上代表了截至时间 $n$ 已知的所有信息。\n\n在此金融模型中，“公平博弈”是指资产价值过程 $\\{V_n\\}_{n \\ge 0}$ 是关于信息流 $\\{\\mathcal{F}_n\\}_{n \\ge 0}$ 的鞅。如果一个过程的未来值的期望（在给定截至目前的全部历史信息的条件下）就等于其当前值，那么这个过程就是一个鞅。\n\n请确定概率 $p$ 的具体值，以确保该资产模型代表一个公平博弈。将您的答案表示为最简分数。", "solution": "一个公平博弈要求关于自然信息流的鞅条件成立：对于所有 $n \\ge 1$，\n$$\n\\mathbb{E}\\!\\left[V_{n}\\mid \\mathcal{F}_{n-1}\\right]=V_{n-1}.\n$$\n根据递归关系 $V_{n}=V_{n-1}\\,\\xi_{n}$ 以及 $\\xi_{n}$ 独立于 $\\mathcal{F}_{n-1}$ 的性质，我们有\n$$\n\\mathbb{E}\\!\\left[V_{n}\\mid \\mathcal{F}_{n-1}\\right]=\\mathbb{E}\\!\\left[V_{n-1}\\,\\xi_{n}\\mid \\mathcal{F}_{n-1}\\right]=V_{n-1}\\,\\mathbb{E}[\\xi_{n}].\n$$\n因此，鞅条件等价于\n$$\n\\mathbb{E}[\\xi_{n}]=1.\n$$\n当 $\\xi_{n}$ 以概率 $p$ 取值为 $u$、以概率 $1-p$ 取值为 $d$ 时，\n$$\n\\mathbb{E}[\\xi_{n}]=p\\,u+(1-p)\\,d=1.\n$$\n解出 $p$ 可得，\n$$\np(u-d)+d=1 \\;\\;\\Longrightarrow\\;\\; p=\\frac{1-d}{u-d}.\n$$\n代入 $u=1.25=\\frac{5}{4}$ 和 $d=0.85=\\frac{17}{20}$：\n$$\np=\\frac{1-\\frac{17}{20}}{\\frac{5}{4}-\\frac{17}{20}}=\\frac{\\frac{3}{20}}{\\frac{25}{20}-\\frac{17}{20}}=\\frac{\\frac{3}{20}}{\\frac{8}{20}}=\\frac{3}{8}.\n$$\n因此，使 $\\{V_{n}\\}$ 成为鞅的概率 $p$ 是 $\\frac{3}{8}$。", "answer": "$$\\boxed{\\frac{3}{8}}$$", "id": "1310334"}]}