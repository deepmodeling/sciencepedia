{"hands_on_practices": [{"introduction": "让我们从一个基础应用开始。这个练习将引导你分解一个由独立随机变量构成的累积和过程，这是应用 Doob 分解最直接的情景。通过这个练习，你将学会如何精准地分离出过程的可预测趋势（即均值的累积效应）与随机波动，为掌握该定理奠定坚实的基础。[@problem_id:1397477]", "problem": "设 $\\{Y_k\\}_{k=1}^\\infty$ 为一列独立的随机变量。每个随机变量的均值依赖于其下标，由 $E[Y_k] = \\frac{1}{k}$（$k \\ge 1$）给出。此外，假设对所有 $k$ 都有 $E[|Y_k|] < \\infty$。\n\n考虑由累加和定义的随机过程 $X_n$，即 $X_n = \\sum_{k=1}^n Y_k$（$n \\ge 1$），初始条件为 $X_0 = 0$。设 $\\{\\mathcal{F}_n\\}_{n=0}^\\infty$ 是由序列 $\\{Y_k\\}$ 生成的自然信息流，其中 $\\mathcal{F}_0 = \\{\\emptyset, \\Omega\\}$ 是平凡σ-代数，而 $\\mathcal{F}_n = \\sigma(Y_1, \\dots, Y_n)$（$n \\ge 1$）。\n\n根据 Doob 分解定理，任何具有有限期望的适应过程 $X_n$ 都可以唯一地表示为一个鞅 $M_n$ 和一个可预测过程 $A_n$ 的和，即 $X_n = M_n + A_n$。\n\n求出在标准初始条件 $M_0 = 0$ 和 $A_0 = 0$ 下，鞅分量 $M_n$ 和可预测过程分量 $A_n$（$n \\geq 1$）的显式表达式。\n\n将您的答案以一个行矩阵的形式呈现，其中包含两个表达式：第一个是 $M_n$ 的表达式，第二个是 $A_n$ 的表达式。", "solution": "我们首先回顾适应可积过程的离散时间 Doob 分解。对于一个满足 $E[|X_n|] < \\infty$ 的适应过程 $\\{X_n\\}_{n \\geq 0}$，Doob 分解写作 $X_n = M_n + A_n$，其中 $M_n$ 是一个满足 $M_0 = 0$ 的鞅，$A_n$ 是一个满足 $A_0 = 0$ 的可预测过程。在离散时间中，可预测分量由下式给出\n$$\nA_n = \\sum_{k=1}^{n} E[X_k - X_{k-1} \\mid \\mathcal{F}_{k-1}],\n$$\n而鞅分量为 $M_n = X_n - A_n$。\n\n在本问题中，$X_n = \\sum_{k=1}^{n} Y_k$ 且 $X_0 = 0$。因此，单步增量为\n$$\nX_n - X_{n-1} = Y_n.\n$$\n因此，可预测增量为\n$$\nE[X_n - X_{n-1} \\mid \\mathcal{F}_{n-1}] = E[Y_n \\mid \\mathcal{F}_{n-1}].\n$$\n由于 $Y_n$ 独立于 $\\mathcal{F}_{n-1} = \\sigma(Y_1,\\dots,Y_{n-1})$ 且 $E[|Y_n|] < \\infty$，我们有\n$$\nE[Y_n \\mid \\mathcal{F}_{n-1}] = E[Y_n] = \\frac{1}{n}.\n$$\n因此，可预测过程为\n$$\nA_n = \\sum_{k=1}^{n} E[Y_k \\mid \\mathcal{F}_{k-1}] = \\sum_{k=1}^{n} \\frac{1}{k}.\n$$\n因此，鞅分量为\n$$\nM_n = X_n - A_n = \\sum_{k=1}^{n} Y_k - \\sum_{k=1}^{n} \\frac{1}{k} = \\sum_{k=1}^{n} \\left(Y_k - \\frac{1}{k}\\right).\n$$\n根据构造，$A_n$ 是可预测的，因为 $A_n - A_{n-1} = \\frac{1}{n}$ 是 $\\mathcal{F}_{n-1}$-可测的，且 $A_0 = 0$。而 $M_n$ 是一个鞅，因为\n$$\nE[M_n \\mid \\mathcal{F}_{n-1}] = E\\left[\\sum_{k=1}^{n} \\left(Y_k - \\frac{1}{k}\\right) \\Biggm| \\mathcal{F}_{n-1}\\right]\n= \\sum_{k=1}^{n-1} \\left(Y_k - \\frac{1}{k}\\right) + E\\left[Y_n - \\frac{1}{n} \\mid \\mathcal{F}_{n-1}\\right]\n= M_{n-1}.\n$$\n因此，Doob 分解如上被唯一确定。", "answer": "$$\\boxed{\\begin{pmatrix}\\sum_{k=1}^{n}\\left(Y_{k}-\\frac{1}{k}\\right) & \\sum_{k=1}^{n}\\frac{1}{k}\\end{pmatrix}}$$", "id": "1397477"}, {"introduction": "现在，我们来探讨一个更微妙且富有洞察力的问题。我们知道简单对称随机游走 $S_n$ 是一个鞅，但它的绝对值 $|S_n|$ 呢？这个练习将展示鞅的非线性函数如何形成一个下鞅，并揭示其可预测部分——一个与随机游走在原点停留次数相关的迷人结构，这在随机过程理论中被称为“局部时”。[@problem_id:1397444]", "problem": "设 $(Y_i)_{i \\ge 1}$ 是一个独立同分布 (i.i.d.) 的随机变量序列，其中每个变量的结果服从概率分布 $P(Y_i = 1) = P(Y_i = -1) = 1/2$。一个简单对称随机游走 (SSRW)，记作 $(S_n)_{n \\ge 0}$，定义为 $S_0 = 0$ 及 $S_n = \\sum_{i=1}^n Y_i$（当 $n \\ge 1$ 时）。\n\n由此过程生成的自然信息流为 $(\\mathcal{F}_n)_{n \\ge 0}$，其中 $\\mathcal{F}_0 = \\{\\emptyset, \\Omega\\}$（平凡σ-代数），且对于 $n \\ge 1$，有 $\\mathcal{F}_n = \\sigma(Y_1, \\dots, Y_n)$。\n\n考虑由 $X_n = |S_n|$ 定义的随机过程 $(X_n)_{n \\ge 0}$。根据 Doob 分解定理，任何适应于信息流 $(\\mathcal{F}_n)_{n \\ge 0}$ 的过程 $X_n$ 都可以唯一地写成和 $X_n = M_n + A_n$ 的形式，其中 $(M_n)_{n \\ge 0}$ 是关于 $(\\mathcal{F}_n)_{n \\ge 0}$ 的一个鞅，而 $(A_n)_{n \\ge 0}$ 是一个可预测过程且 $A_0 = 0$。一个过程 $(A_n)_{n \\ge 1}$ 被称为可预测的，如果对于每个 $n \\ge 1$，随机变量 $A_n$ 都是关于 σ-代数 $\\mathcal{F}_{n-1}$ 可测的。\n\n你的任务是对于过程 $X_n = |S_n|$，求出其鞅部分 $M_n$ 和可预测部分 $A_n$ 的显式表达式。\n\n使用指示函数记号 $\\mathbf{1}_{E}$，当事件 E 发生时其值为1，否则为0。将你的最终答案表示为一个 $1 \\times 2$ 矩阵，第一个元是 $M_n$ 的表达式，第二个元是 $A_n$ 的表达式。", "solution": "Doob 分解定理表明，任何适应过程 $X_n$ 都可以唯一地写成 $X_n = M_n + A_n$ 的形式，其中 $M_n$ 是一个鞅，而 $A_n$ 是一个可预测过程。这些部分由以下公式给出：\n$A_0 = 0$ 且对于 $n \\ge 1$，\n$$A_n = \\sum_{k=1}^{n} \\left( E[X_k | \\mathcal{F}_{k-1}] - X_{k-1} \\right)$$\n鞅部分则由 $M_n = X_n - A_n$ 给出。\n\n我们的过程是 $X_n = |S_n|$。我们首先计算条件期望项 $E[X_k | \\mathcal{F}_{k-1}]$。\n$$E[X_k | \\mathcal{F}_{k-1}] = E[|S_k| | \\mathcal{F}_{k-1}]$$\n我们知道 $S_k = S_{k-1} + Y_k$。由于 $S_{k-1}$ 是 $\\mathcal{F}_{k-1}$-可测的，所以在给定 $\\mathcal{F}_{k-1}$ 的条件下，可以将其值视为已知。随机变量 $Y_k$ 独立于 $\\mathcal{F}_{k-1}$。\n$$E[|S_k| | \\mathcal{F}_{k-1}] = E[|S_{k-1} + Y_k| | \\mathcal{F}_{k-1}]$$\n根据期望的定义以及 $Y_k$ 的分布：\n$$E[|S_{k-1} + Y_k| | \\mathcal{F}_{k-1}] = \\frac{1}{2} |S_{k-1} + 1| + \\frac{1}{2} |S_{k-1} - 1|$$\n我们现在通过考虑 $S_{k-1}$ 值的两种情况来分析这个表达式。注意，$S_n$ 只能取整数值。\n\n情况1：$S_{k-1} \\neq 0$。\n由于 $S_{k-1}$ 是一个非零整数，所以 $|S_{k-1}| \\ge 1$。\n如果 $S_{k-1} \\ge 1$，那么 $S_{k-1}+1 > 0$ 且 $S_{k-1}-1 \\ge 0$。所以 $|S_{k-1}+1| = S_{k-1}+1$ 且 $|S_{k-1}-1| = S_{k-1}-1$。\n条件期望为：\n$$\\frac{1}{2} (S_{k-1}+1) + \\frac{1}{2} (S_{k-1}-1) = \\frac{1}{2} (2S_{k-1}) = S_{k-1} = |S_{k-1}| = X_{k-1}$$\n如果 $S_{k-1} \\le -1$，那么 $S_{k-1}+1 \\le 0$ 且 $S_{k-1}-1 < 0$。所以 $|S_{k-1}+1| = -(S_{k-1}+1)$ 且 $|S_{k-1}-1| = -(S_{k-1}-1)$。\n条件期望为：\n$$\\frac{1}{2} (-(S_{k-1}+1)) + \\frac{1}{2} (-(S_{k-1}-1)) = \\frac{1}{2} (-S_{k-1}-1 -S_{k-1}+1) = \\frac{1}{2} (-2S_{k-1}) = -S_{k-1} = |S_{k-1}| = X_{k-1}$$\n在 $S_{k-1} \\neq 0$ 的两种子情况下，我们都有 $E[X_k | \\mathcal{F}_{k-1}] = |S_{k-1}| = X_{k-1}$。\n\n情况2：$S_{k-1} = 0$。\n条件期望变为：\n$$\\frac{1}{2} |0 + 1| + \\frac{1}{2} |0 - 1| = \\frac{1}{2}(1) + \\frac{1}{2}(1) = 1$$\n另外，请注意如果 $S_{k-1} = 0$，那么 $X_{k-1} = |S_{k-1}| = 0$。所以在这种情况下，$E[X_k | \\mathcal{F}_{k-1}] = 1 = X_{k-1} + 1$。\n\n我们可以使用指示函数 $\\mathbf{1}_{\\{E\\}}$ 来合并这两种情况，当事件 E 为真时其值为1，否则为0。\n$$E[X_k | \\mathcal{F}_{k-1}] = \\begin{cases} X_{k-1} & \\text{if } S_{k-1} \\neq 0 \\\\ X_{k-1} + 1 & \\text{if } S_{k-1} = 0 \\end{cases}$$\n这可以简洁地写成：\n$$E[X_k | \\mathcal{F}_{k-1}] = X_{k-1} + \\mathbf{1}_{\\{S_{k-1}=0\\}}$$\n现在我们可以计算可预测过程 $A_n$：\n$$A_n = \\sum_{k=1}^{n} \\left( E[X_k | \\mathcal{F}_{k-1}] - X_{k-1} \\right)$$\n代入我们关于条件期望的结果：\n$$A_n = \\sum_{k=1}^{n} \\left( (X_{k-1} + \\mathbf{1}_{\\{S_{k-1}=0\\}}) - X_{k-1} \\right) = \\sum_{k=1}^{n} \\mathbf{1}_{\\{S_{k-1}=0\\}}$$\n将求和指标从 $k$ 变为 $j = k-1$：\n$$A_n = \\sum_{j=0}^{n-1} \\mathbf{1}_{\\{S_j=0\\}}$$\n这个过程 $A_n$ 记录了到时间 $n-1$ 为止，随机游走处于原点的次数。这是一个可预测过程，因为 $A_n$ 的值仅依赖于到时间 $n-1$ 为止的游走路径，因此是 $\\mathcal{F}_{n-1}$-可测的。由于给定 $S_0=0$，所以和式中总是包含 $j=0$ 这一项，因此对于 $n \\ge 1$ 有 $A_n \\ge 1$。\n\n最后，我们求鞅部分 $M_n$：\n$$M_n = X_n - A_n = |S_n| - \\sum_{k=0}^{n-1} \\mathbf{1}_{\\{S_k=0\\}}$$\n所以，$X_n = |S_n|$ 的 Doob 分解为 $X_n = M_n + A_n$，其中：\n$M_n = |S_n| - \\sum_{k=0}^{n-1} \\mathbf{1}_{\\{S_k=0\\}}$\n$A_n = \\sum_{k=0}^{n-1} \\mathbf{1}_{\\{S_k=0\\}}$", "answer": "$$\\boxed{\\begin{pmatrix} |S_n| - \\sum_{k=0}^{n-1} \\mathbf{1}_{\\{S_k=0\\}} & \\sum_{k=0}^{n-1} \\mathbf{1}_{\\{S_k=0\\}} \\end{pmatrix}}$$", "id": "1397444"}, {"introduction": "为了展示 Doob 分解的广泛适用性，我们将其应用于一个不同的随机过程模型。本练习将分析一个在“失败”和“运行”两种状态之间切换的马尔可夫链。你将看到马尔可夫性质如何简化条件期望的计算，并学会如何分解这类描述现实世界中状态转换的系统，例如设备故障或信用评级变化。[@problem_id:1298497]", "problem": "考虑一个系统，其在任意离散时间步 $n \\ge 0$ 的状态由一个随机变量 $X_n$ 描述。该系统可能处于两种状态之一：“失效”，由状态0表示；或“运行”，由状态1表示。状态序列 $(X_n)_{n \\ge 0}$ 在状态空间 $S = \\{0, 1\\}$ 上构成一个时间齐次马尔可夫链。\n\n其转移概率定义如下：\n- 在一个时间步内，从“失效”状态转移到“运行”状态的概率为 $P(X_{n+1}=1 | X_n=0) = \\alpha$。\n- 在一个时间步内，从“运行”状态转移到“失效”状态的概率为 $P(X_{n+1}=0 | X_n=1) = \\beta$。\n此处，$\\alpha$ 和 $\\beta$ 为常数，满足 $0 < \\alpha < 1$ 和 $0 < \\beta < 1$。\n\n令 $\\mathcal{F}_n = \\sigma(X_0, X_1, \\dots, X_n)$ 为该过程生成的自然σ-代数域流。过程 $X_n$ 具有形式为 $X_n = M_n + A_n$ 的Doob分解，其中 $(M_n)_{n \\ge 0}$ 是关于σ-代数域流 $(\\mathcal{F}_n)_{n \\ge 0}$ 的鞅，而 $(A_n)_{n \\ge 0}$ 是一个可预见过程，且 $A_0 = 0$。\n\n找出当 $n \\ge 1$ 时，鞅 $M_n$ 和可预见过程 $A_n$ 的显式表达式。您的答案应为一对表达式 $(M_n, A_n)$，用 $\\alpha$、$\\beta$以及过程 $(X_k)_{k=0, \\dots, n}$ 的过去值来表示。", "solution": "一个适应过程 $X_n$ 的Doob分解由 $X_n = M_n + A_n$ 给出，其中 $M_n$ 是一个鞅， $A_n$ 是一个可预见过程，且 $A_0=0$。当 $n \\ge 1$ 时，可预见过程 $A_n$ 由递推关系式 $A_n - A_{n-1} = E[X_n | \\mathcal{F}_{n-1}] - X_{n-1}$ 定义。鞅 $M_n$ 则由 $M_n = X_n - A_n$ 给出。\n\n首先，我们需要计算条件期望 $E[X_n | \\mathcal{F}_{n-1}]$。根据过程 $(X_n)$ 的马尔可夫性质，该期望仅依赖于时间 $n-1$ 时的状态。\n$$E[X_n | \\mathcal{F}_{n-1}] = E[X_n | X_{n-1}]$$\n随机变量 $X_n$ 的取值范围为 $\\{0, 1\\}$，因此其期望由下式给出：\n$$E[X_n | X_{n-1}] = 1 \\cdot P(X_n=1 | X_{n-1}) + 0 \\cdot P(X_n=0 | X_{n-1}) = P(X_n=1 | X_{n-1})$$\n我们针对 $X_{n-1}$ 的两个可能取值来计算这个条件概率：\n- 若 $X_{n-1} = 0$，则 $P(X_n=1 | X_{n-1}=0) = \\alpha$。\n- 若 $X_{n-1} = 1$，则 $P(X_n=1 | X_{n-1}=1) = 1 - P(X_n=0 | X_{n-1}=1) = 1-\\beta$。\n\n我们可以写出一个对两种情况都有效的 $E[X_n | X_{n-1}]$ 的单一表达式。由于 $X_{n-1}$ 的取值为0或1，我们可以将其用作指示变量：\n$$E[X_n | X_{n-1}] = \\alpha (1-X_{n-1}) + (1-\\beta) X_{n-1} = \\alpha + X_{n-1} - \\alpha X_{n-1} - \\beta X_{n-1} = \\alpha + (1-\\alpha-\\beta)X_{n-1}$$\n\n现在我们可以求出可预见过程的增量 $\\Delta A_n = A_n - A_{n-1}$：\n$$\\Delta A_n = E[X_n | \\mathcal{F}_{n-1}] - X_{n-1} = (\\alpha + (1-\\alpha-\\beta)X_{n-1}) - X_{n-1}$$\n$$\\Delta A_n = \\alpha + X_{n-1} - \\alpha X_{n-1} - \\beta X_{n-1} - X_{n-1} = \\alpha - (\\alpha+\\beta)X_{n-1}$$\n考虑到 $A_0=0$ ，过程 $A_n$ 可通过将这些增量从 $k=1$ 到 $n$ 求和得到：\n$$A_n = \\sum_{k=1}^{n} \\Delta A_k = \\sum_{k=1}^{n} (\\alpha - (\\alpha+\\beta)X_{k-1})$$\n$$A_n = n\\alpha - (\\alpha+\\beta)\\sum_{k=1}^{n} X_{k-1}$$\n通过平移求和指数，我们得到 $A_n$ 的最终表达式：\n$$A_n = n\\alpha - (\\alpha+\\beta)\\sum_{k=0}^{n-1} X_k$$\n这就是当 $n \\ge 1$ 时，分解中可预见部分的显式表达式。\n\n接下来，我们求鞅部分 $M_n$。根据定义， $M_n = X_n - A_n$。\n代入我们刚求出的 $A_n$ 的表达式：\n$$M_n = X_n - \\left( n\\alpha - (\\alpha+\\beta)\\sum_{k=0}^{n-1} X_k \\right)$$\n$$M_n = X_n - n\\alpha + (\\alpha+\\beta)\\sum_{k=0}^{n-1} X_k$$\n这就是当 $n \\ge 1$ 时，分解中鞅部分的显式表达式。\n\nDoob分解的表达式对 $(M_n, A_n)$ 是：\n$$M_n = X_n - n\\alpha + (\\alpha+\\beta)\\sum_{k=0}^{n-1} X_k$$\n$$A_n = n\\alpha - (\\alpha+\\beta)\\sum_{k=0}^{n-1} X_k$$", "answer": "$$\\boxed{\\begin{pmatrix}X_n - n\\alpha + (\\alpha+\\beta)\\sum_{k=0}^{n-1} X_k & n\\alpha - (\\alpha+\\beta)\\sum_{k=0}^{n-1} X_k\\end{pmatrix}}$$", "id": "1298497"}]}