{"hands_on_practices": [{"introduction": "让我们从最基础的部分开始：超几何概率公式从何而来？第一个练习将引导你运用基本的计数原理，从头推导出其概率质量函数。理解这个推导过程是掌握为何超几何分布是模拟无放回抽样正确模型的关键。[@problem_id:8681]", "problem": "一个罐中装有 $N$ 个物体组成的有限总体。这些物体有两种不同的类型：A 型和 B 型。其中有 $K$ 个 A 型物体，因此有 $N-K$ 个 B 型物体。从罐中*不放回地*抽取一个包含 $n$ 个物体的样本。\n\n推导所抽取的物体中恰好有 $k$ 个 A 型物体的概率 $P(X=k)$ 的通用表达式。您可以假设所要求的每种类型物体的数量不超过可用数量（即，$k \\le K$ 且 $n-k \\le N-K$）。", "solution": "我们从一个装有 $N$ 个物体的罐中不放回地抽取 $n$ 个物体。所有 $\\binom{N}{n}$ 个大小为 $n$ 的等可能子集构成了样本空间。\n\n从 $N$ 个物体中选择 $n$ 个物体的总方法数：\n$$\n|\\Omega| \\;=\\;\\binom{N}{n}.\n$$\n\n要恰好得到 $k$ 个 A 型物体，我们必须从 $K$ 个 A 型物体中选择 $k$ 个，并从 $N-K$ 个 B 型物体中选择 $n-k$ 个。有利结果的数量是\n$$\n|\\{X=k\\}| \\;=\\;\\binom{K}{k}\\,\\binom{N-K}{\\,n-k\\,}.\n$$\n\n根据古典概型定义，\n$$\nP(X=k) \\;=\\;\\frac{|\\{X=k\\}|}{|\\Omega|}\n\\;=\\;\\frac{\\binom{K}{k}\\,\\binom{N-K}{\\,n-k\\,}}{\\binom{N}{n}}.\n$$", "answer": "$$\\boxed{\\frac{\\binom{K}{k}\\,\\binom{N-K}{n-k}}{\\binom{N}{n}}}$$", "id": "8681"}, {"introduction": "既然我们已经有了计算任何给定结果概率的公式，接下来让我们确定可以预期的平均结果，即期望值。这个练习要求你计算样本中次品的预期数量，这是一个在质量控制中常见的问题。我们将引入一个强大的技巧——指示变量法，它不仅能简化计算，还能提供比直接求和更深刻的洞察。[@problem_id:1373487]", "problem": "一批50个特种晶体管的货物中有7个是次品。一名质检员从这批货物中随机不放回地抽取10个晶体管的样本进行检测。计算所选样本中次品晶体管的期望数量。答案以分数或小数表示。", "solution": "设总体大小为 $N=50$，次品晶体管的数量为 $K=7$，样本大小为 $n=10$。令 $X$ 表示样本中次品晶体管的数量。\n\n将此抽取过程建模为不放回的超几何抽样。对于 $i=1,2,\\dots,n$，定义指示变量 $I_{i}$：如果第 $i$ 次抽到的晶体管是次品，则 $I_{i}=1$，否则 $I_{i}=0$。那么\n$$\nX=\\sum_{i=1}^{n} I_{i}.\n$$\n根据期望的线性性，\n$$\n\\mathbb{E}[X]=\\sum_{i=1}^{n} \\mathbb{E}[I_{i}].\n$$\n对于每个 $i$，根据不放回抽样的对称性，第 $i$ 次抽到次品的边缘概率等于总体中次品的比例：\n$$\n\\mathbb{E}[I_{i}] = \\mathbb{P}(\\text{第$i$个是次品}) = \\frac{K}{N}.\n$$\n因此，\n$$\n\\mathbb{E}[X] = \\sum_{i=1}^{n} \\frac{K}{N} = n \\cdot \\frac{K}{N}.\n$$\n代入 $n=10$，$K=7$ 和 $N=50$ 可得\n$$\n\\mathbb{E}[X] = 10 \\cdot \\frac{7}{50} = \\frac{70}{50} = \\frac{7}{5}.\n$$\n这等价于 $1.4$。", "answer": "$$\\boxed{\\frac{7}{5}}$$", "id": "1373487"}, {"introduction": "了解期望值很有用，但要获得完整的图像，我们还需要理解结果的变化性或离散程度，即方差。这最后一个练习将挑战你推导出超几何分布的方差。我们将再次利用指示变量法的巧妙之处，展示这个单一技术如何能同时用于求解均值和方差，从而让你对分布的特性有更全面的认识。[@problem_id:8713]", "problem": "考虑一批共 $N$ 个的制成品。在此批产品中，有未知数量 $K$ 个次品。质量控制过程包括从此批产品中随机抽取一个大小为 $n$ 的样本进行测试，该抽样为无放回抽样。令随机变量 $X$ 表示在大小为 $n$ 的样本中发现的次品数量。在样本中恰好找到 $k$ 个次品的概率由超几何概率质量函数给出：\n\n$$ P(X=k) = \\frac{\\binom{K}{k}\\binom{N-K}{n-k}}{\\binom{N}{n}} $$\n\n其中 $\\binom{a}{b}$ 是二项式系数，表示从一个包含 $a$ 个元素的集合中选取 $b$ 个元素的方法数。参数满足 $N, K, n \\in \\mathbb{Z}^+$，且 $n \\leq N$ 及 $K \\leq N$。\n\n你的任务是推导随机变量 $X$ 的方差，记为 $\\text{Var}(X)$，并用参数 $N$、$K$ 和 $n$ 表示。", "solution": "我们使用指示变量法。将抽出的项目标记为 $i=1,\\dots,n$，并令\n$$I_i=\\begin{cases}1,&\\text{若第 $i$ 次抽取为次品},\\\\0,&\\text{否则}.\\end{cases}$$\n则\n$$X=\\sum_{i=1}^nI_i.$$\n\n1.  根据对称性，\n$$p=E[I_i]=\\Pr\\{\\text{第 $i$ 次抽取为次品}\\}=\\frac{K}{N}.$$\n因此\n$$\\Var(I_i)=p(1-p)=\\frac{K}{N}\\Bigl(1-\\frac{K}{N}\\Bigr).$$\n\n2.  对于 $i\\neq j$，无放回抽样给出\n$$\\Cov(I_i,I_j)=E[I_iI_j]-E[I_i]E[I_j]\n=-\\frac{p(1-p)}{\\,N-1\\,}\n=-\\frac{1}{N-1}\\frac{K}{N}\\Bigl(1-\\frac{K}{N}\\Bigr).$$\n\n3.  于是\n$$\\Var(X)\n=\\sum_{i=1}^n\\Var(I_i)+2\\sum_{1\\le i<j\\le n}\\Cov(I_i,I_j)\n=n\\,p(1-p)+n(n-1)\\Bigl(-\\frac{p(1-p)}{N-1}\\Bigr).$$\n提出公因子 $p(1-p)$：\n$$\\Var(X)\n=p(1-p)\\Bigl[n-\\frac{n(n-1)}{N-1}\\Bigr]\n=\\frac{K}{N}\\Bigl(1-\\frac{K}{N}\\Bigr)\\,n\\frac{N-n}{\\,N-1\\,}.$$\n代回即得到经典的超几何分布方差。", "answer": "$$\\boxed{n\\frac{K}{N}\\Bigl(1-\\frac{K}{N}\\Bigr)\\frac{N-n}{N-1}}$$", "id": "8713"}]}