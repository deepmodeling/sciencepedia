{"hands_on_practices": [{"introduction": "在处理连续随机变量时，最直观的起点是均匀分布，其中每个点的可能性都是相同的。在这种情况下，计算一个事件的概率就简化为了一个几何问题：计算有利结果区域的面积与样本空间总面积之比。本练习 [@problem_id:1347139] 将引导你通过一个具体的工程场景，在一个矩形区域上计算满足非线性条件的概率，从而将抽象的积分概念与直观的面积计算联系起来。", "id": "1347139", "problem": "一种新型的低功耗无线传感器正在接受测试。该传感器的运行寿命 $X$ 和其数据传输速率 $Y$ 是两个关键的性能指标。由于电池特性和环境因素，这两个指标的联合行为可以通过在一个特定的矩形区域上服从均匀分布的点 $(X,Y)$ 来建模。\n\n寿命 $X$（单位：年）在0到2年之间均匀变化，而传输速率 $Y$（单位：兆比特每秒）在0到1兆比特每秒之间均匀变化。随机变量 $X$ 和 $Y$ 在由这些范围定义的矩形上联合均匀分布。\n\n如果传感器的参数满足不等式 $Y \\le \\ln(X+1)$，则认为该传感器具有“最佳性能”。这个不等式表示一种权衡，即寿命较长的传感器即使只能维持较低的最大数据速率，也被认为是最佳的。\n\n计算一个随机选择的传感器表现出最佳性能的概率。您的答案应该是一个单一的封闭形式解析表达式。", "solution": "设 $(X,Y)$ 在矩形 $\\{(x,y): 0 \\le x \\le 2,\\ 0 \\le y \\le 1\\}$ 上均匀分布。其联合密度为常数，等于该矩形面积的倒数，即在该矩形上 $f_{X,Y}(x,y) = \\frac{1}{2}$，在其他地方为零。最佳性能事件为 $\\{(x,y): 0 \\le x \\le 2,\\ 0 \\le y \\le 1,\\ y \\le \\ln(x+1)\\}$。\n\n该概率等于该事件的指示函数相对于均匀密度的积分，即均匀密度 $\\frac{1}{2}$ 乘以矩形中满足 $y \\le \\ln(x+1)$ 的子集的面积。由于 $\\ln(x+1)$ 在 $[0,2]$ 上是递增的，且 $\\ln(1) = 0$，$\\ln(3) > 1$，因此在 $[0,2]$ 中存在唯一的 $x_{0}$ 使得 $\\ln(x_{0}+1) = 1$。求解 $\\ln(x_{0}+1) = 1$ 得到 $x_{0} = \\exp(1) - 1$。\n\n对于 $0 \\le x \\le \\exp(1) - 1$，我们有 $\\ln(x+1) \\le 1$，所以 $y$ 允许的垂直范围是 $0 \\le y \\le \\ln(x+1)$。对于 $\\exp(1) - 1 \\le x \\le 2$，我们有 $\\ln(x+1) \\ge 1$，所以整个垂直线段 $0 \\le y \\le 1$ 都是允许的。因此，有利区域的面积 $A$ 为\n$$\nA = \\int_{0}^{\\exp(1)-1} \\ln(x+1)\\,dx \\;+\\; \\int_{\\exp(1)-1}^{2} 1 \\, dx.\n$$\n通过换元 $u = x+1$, $du = dx$ 计算第一个积分，得到\n$$\n\\int_{0}^{\\exp(1)-1} \\ln(x+1)\\,dx = \\int_{1}^{\\exp(1)} \\ln(u)\\,du = \\left[u \\ln(u) - u\\right]_{1}^{\\exp(1)}.\n$$\n计算得，\n$$\n\\left[u \\ln(u) - u\\right]_{1}^{\\exp(1)} = \\left(\\exp(1)\\cdot 1 - \\exp(1)\\right) - \\left(1 \\cdot 0 - 1\\right) = 0 - (-1) = 1.\n$$\n第二个积分为\n$$\n\\int_{\\exp(1)-1}^{2} 1 \\, dx = 2 - \\left(\\exp(1) - 1\\right) = 3 - \\exp(1).\n$$\n因此，有利区域的面积为\n$$\nA = 1 + \\left(3 - \\exp(1)\\right) = 4 - \\exp(1).\n$$\n由于矩形的总面积为 $2$，所求概率为\n$$\nP = \\frac{A}{2} = \\frac{4 - \\exp(1)}{2} = 2 - \\frac{\\exp(1)}{2}.\n$$", "answer": "$$\\boxed{2 - \\frac{\\exp(1)}{2}}$$"}, {"introduction": "掌握了矩形区域上的概率计算后，我们自然会问：当随机变量的取值范围是一个更复杂的几何形状时，我们该如何处理？这个练习 [@problem_id:1347160] 将挑战你处理一个平行四边形支撑集上的均匀分布。这里的核心任务是准确地用数学语言描述这个几何区域的边界，并正确地设立积分限来计算其面积，这对培养解决实际问题的几何直觉至关重要。", "id": "1347160", "problem": "设 $X$ 和 $Y$ 为连续随机变量，其联合概率密度函数 (PDF) 为\n$$ f(x,y) = \\begin{cases} k & \\text{若 } (x,y) \\text{ 在平行四边形 } S \\text{ 内} \\\\ 0 & \\text{其他情况} \\end{cases} $$\n其中 $S$ 是 $xy$ 平面上由顶点 $(0,0)$、$(3,0)$、$(5,4)$ 和 $(2,4)$ 围成的区域。$k$ 是一个归一化常数。\n\n计算概率 $P(X > Y)$。请将您的最终答案表示为精确分数。", "solution": "我们首先利用联合概率密度函数在其支撑集上的积分为 1 这一事实来确定归一化常数。区域 $S$ 是一个平行四边形，其从 $(0,0)$ 出发的相邻边向量为 $\\vec{u}=(3,0)$ 和 $\\vec{v}=(2,4)$。其面积是由这些向量作为行（或列）构成的矩阵的行列式的绝对值：\n$$\n\\text{Area}(S)=\\left| \\det \\begin{pmatrix} 3 & 0 \\\\ 2 & 4 \\end{pmatrix} \\right|=\\left|3\\cdot 4 - 0\\cdot 2\\right|=12.\n$$\n因此，归一化常数为\n$$\nk=\\frac{1}{\\text{Area}(S)}=\\frac{1}{12}.\n$$\n\n现在我们计算 $P(X>Y)$：\n$$\nP(X>Y)=\\iint_{S \\cap \\{x>y\\}} f(x,y)\\,dx\\,dy = k \\cdot \\text{Area}\\big(S \\cap \\{x>y\\}\\big).\n$$\n因此，我们只需找到 $S$ 中满足 $x>y$ 的子集的面积。\n\n我们通过水平切片来描述 $S$。$S$ 的左右两边分别是连接 $(0,0)$ 到 $(2,4)$ 和连接 $(3,0)$ 到 $(5,4)$ 的线段，它们的方程分别为\n$$\ny=2x \\quad \\text{和} \\quad y=2x-6,\n$$\n解出 $x$ 可得在固定的 $y \\in [0,4]$ 处的水平边界：\n$$\nx_{\\text{left}}=\\frac{y}{2}, \\qquad x_{\\text{right}}=\\frac{y}{2}+3.\n$$\n在该水平切片内，条件 $x>y$ 要求 $x \\in (y,\\, x_{\\text{right}}]$。因为对于 $y \\in [0,4]$，我们有 $y \\geq \\frac{y}{2}$，所以有效的下界变为 $\\max\\!\\left(y,\\frac{y}{2}\\right)=y$。因此，对于每个 $y \\in [0,4]$，在 $S$ 内部满足 $x>y$ 的线段长度为\n$$\nL(y)=\\left(\\frac{y}{2}+3\\right) - y = 3 - \\frac{y}{2}.\n$$\n于是 $S \\cap \\{x>y\\}$ 的面积为\n$$\n\\int_{0}^{4} \\left(3 - \\frac{y}{2}\\right)\\,dy = \\left[3y - \\frac{y^{2}}{4}\\right]_{0}^{4} = 12 - 4 = 8.\n$$\n因此，\n$$\nP(X>Y)=k \\cdot 8 = \\frac{1}{12}\\cdot 8 = \\frac{2}{3}.\n$$\n由于边界 $x=y$ 的面积为零，因此使用 $>$ 还是 $\\geq$ 不会影响概率的计算结果。", "answer": "$$\\boxed{\\frac{2}{3}}$$"}, {"introduction": "现实世界中的许多现象并非是均匀分布的；某些结果往往比其他结果更有可能发生。为了模拟这种情况，我们引入非均匀概率密度函数（PDF）。本练习 [@problem_id:1347145] 将引导你处理一个联合 PDF 为 $f(x, y) = Cxy$ 的情况，你需要计算一个涉及取整函数的特殊事件的概率，这要求你不仅要正确划定积分区域，还要执行完整的二重积分来解释不同位置的“权重”或“密度”。", "id": "1347145", "problem": "设 $X$ 和 $Y$ 为两个连续随机变量，其联合概率密度函数 (PDF) 由下式给出\n$$\nf(x, y) = \\begin{cases} Cxy & \\text{若 } 0 \\le x \\le 3 \\text{ 且 } 0 \\le y \\le 3 \\\\ 0 & \\text{其它} \\end{cases}\n$$\n其中 $C$ 是一个归一化常数。\n\n计算概率 $P(\\lfloor X \\rfloor = \\lfloor Y \\rfloor)$，其中 $\\lfloor \\cdot \\rfloor$ 表示向下取整函数，即取不大于其自变量的最大整数。请以精确分数的形式给出答案。", "solution": "我们首先通过要求联合 PDF 在其支撑集上的积分为 $1$ 来确定归一化常数 $C$。支撑集是正方形 $[0,3]\\times[0,3]$，所以\n$$\n\\int_{0}^{3}\\int_{0}^{3} Cxy \\, dy \\, dx \\;=\\; C \\left(\\int_{0}^{3} x \\, dx\\right)\\left(\\int_{0}^{3} y \\, dy\\right) \\;=\\; C \\left(\\left[\\frac{x^{2}}{2}\\right]_{0}^{3}\\right)\\left(\\left[\\frac{y^{2}}{2}\\right]_{0}^{3}\\right)\n\\;=\\; C \\left(\\frac{9}{2}\\right)\\left(\\frac{9}{2}\\right) \\;=\\; C \\frac{81}{4}.\n$$\n令此式等于 $1$ 得到 $C=\\frac{4}{81}$。\n\n我们需要计算 $P(\\lfloor X \\rfloor=\\lfloor Y \\rfloor)$。由于在连续密度下，边界线的概率为零，该事件是三个不相交矩形的并集：\n$$\n[0,1)\\times[0,1), \\quad [1,2)\\times[1,2), \\quad [2,3)\\times[2,3).\n$$\n因此，\n$$\nP(\\lfloor X \\rfloor=\\lfloor Y \\rfloor)\n= \\sum_{k=0}^{2} \\int_{k}^{k+1}\\int_{k}^{k+1} Cxy \\, dy \\, dx\n= C \\sum_{k=0}^{2} \\left(\\int_{k}^{k+1} x \\, dx\\right)\\left(\\int_{k}^{k+1} y \\, dy\\right).\n$$\n对每个 $k$，计算\n$$\n\\int_{k}^{k+1} x \\, dx \\;=\\; \\left[\\frac{x^{2}}{2}\\right]_{k}^{k+1} \\;=\\; \\frac{(k+1)^{2}-k^{2}}{2} \\;=\\; \\frac{2k+1}{2}.\n$$\n因此，\n$$\nP(\\lfloor X \\rfloor=\\lfloor Y \\rfloor)\n= C \\sum_{k=0}^{2} \\left(\\frac{2k+1}{2}\\right)^{2}\n= C \\cdot \\frac{1}{4} \\sum_{k=0}^{2} (2k+1)^{2}\n= \\frac{4}{81} \\cdot \\frac{1}{4} \\left(1^{2}+3^{2}+5^{2}\\right)\n= \\frac{4}{81} \\cdot \\frac{1}{4} \\cdot 35\n= \\frac{35}{81}.\n$$\n因此，所求概率为精确分数 $\\frac{35}{81}$。", "answer": "$$\\boxed{\\frac{35}{81}}$$"}]}