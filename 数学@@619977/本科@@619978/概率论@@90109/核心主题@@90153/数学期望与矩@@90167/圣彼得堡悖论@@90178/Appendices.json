{"hands_on_practices": [{"introduction": "圣彼得堡悖论的核心在于其无限的期望收益，但这与我们的直觉相悖。这个练习将带你从最基本的概率角度入手，计算在单次游戏中获得高额回报的可能性。通过这个计算，你会发现，尽管理论上的平均收益是无限的，但获得巨额奖金的概率却极低，这揭示了期望值与单次游戏现实之间的鸿沟。", "problem": "一家赌场基于一个思想实验，推出了一款概率游戏。玩家支付一次性的入场费即可参与。在游戏中，一枚公平的硬币被反复抛掷，直到首次出现“正面”(H)为止。设 $n$ 为首次观察到“正面”时抛掷的次数。赌场则向玩家支付 $V(n) = 2^n$ 美元的奖金。玩家的净利润是奖金减去入场费。\n\n假设玩该游戏的入场费是 $C = 10$ 美元，玩家单次游戏的净利润至少为 $118$ 美元的概率是多少？", "solution": "设 $N$ 表示首次出现“正面”时的（随机）抛掷次数。对于一枚公平的硬币，$N$ 在 $\\{1,2,\\dots\\}$ 上服从成功概率为 $p=\\frac{1}{2}$ 的几何分布，所以\n$$\n\\Pr(N=n)=(1-p)^{n-1}p=\\left(\\frac{1}{2}\\right)^{n-1}\\left(\\frac{1}{2}\\right)=\\left(\\frac{1}{2}\\right)^{n}.\n$$\n奖金为 $V(N)=2^{N}$ 美元，入场费为 $C=10$ 美元。净利润为 $V(N)-C=2^{N}-10$。净利润至少为 $118$ 的事件为\n$$\n2^{N}-10\\geq 118 \\quad\\Longleftrightarrow\\quad 2^{N}\\geq 128 \\quad\\Longleftrightarrow\\quad N\\geq 7,\n$$\n因为 $128=2^{7}$。因此，\n$$\n\\Pr(\\text{net profit}\\geq 118)=\\Pr(N\\geq 7)=\\sum_{n=7}^{\\infty}\\left(\\frac{1}{2}\\right)^{n}\n=\\frac{\\left(\\frac{1}{2}\\right)^{7}}{1-\\frac{1}{2}}\n=\\left(\\frac{1}{2}\\right)^{6}\n=\\frac{1}{64}.\n$$", "answer": "$$\\boxed{\\frac{1}{64}}$$", "id": "1406433"}, {"introduction": "仅仅知道获得巨额收益的概率很低还不够，我们需要一个更好的指标来描述“典型”的游戏结果。这个练习引入了中位数的概念，它衡量的是分布的中心趋势，与受极端值影响的期望值（均值）形成鲜明对比。通过计算两场独立游戏的收益中位数，你将更深刻地体会到为什么对于圣彼得堡游戏，期望值可能不是一个有用的参考指标。", "problem": "概率论中一个经典的思维实验是圣彼得堡博弈。在这个博弈中，一枚公平的硬币被反复抛掷，直到第一次出现正面为止。如果第一次正面出现在第 $n$ 次抛掷时（其中 $n=1, 2, 3, \\ldots$），玩家将获得 $2^n$ 美元的奖金。\n\n考虑一个场景，一个玩家独立地参与两次这样的圣彼得堡博弈。玩家的总奖金是这两次独立博弈的奖金之和。\n\n确定玩家总奖金的中位数。请用美元表示你的答案。", "solution": "设 $N$ 表示单次博弈中第一次出现正面时的抛掷次数。对于一枚公平的硬币，$P(N=n)=2^{-n}$，其中 $n=1,2,\\ldots$。单次博弈的奖金为 $X=2^{N}$，因此 $P(X=2^{n})=2^{-n}$ 对于 $n\\ge 1$ 成立，可得 $P(X=2)=\\frac{1}{2}$，$P(X=4)=\\frac{1}{4}$，以及 $P(X\\ge 8)=\\sum_{n\\ge 3}2^{-n}=\\frac{1}{4}$。\n\n设 $X_{1}$ 和 $X_{2}$ 是两次独立博弈的奖金，并设 $S=X_{1}+X_{2}$。我们寻求一个中位数 $m$，使得 $P(S\\le m)\\ge \\frac{1}{2}$ 且 $P(S\\ge m)\\ge \\frac{1}{2}$。\n\n首先计算 $P(S\\le 6)$。如果任意一个 $X_{i}\\ge 8$，那么 $S\\ge 8+2=10>6$，因此 $S\\le 6$ 意味着 $X_{1},X_{2}\\in\\{2,4\\}$。在这些可能性中，$(X_{1},X_{2})=(4,4)$ 得到 $S=8>6$，而 $(2,2)$ 得到 $S=4$，$(2,4)$ 或 $(4,2)$ 得到 $S=6$。利用独立性，\n$$\nP(S\\le 6)=P(X_{1}=2,X_{2}=2)+P(X_{1}=2,X_{2}=4)+P(X_{1}=4,X_{2}=2)\n=\\left(\\frac{1}{2}\\right)^{2}+2\\cdot\\frac{1}{2}\\cdot\\frac{1}{4}\n=\\frac{1}{4}+\\frac{1}{4}=\\frac{1}{2}.\n$$\n接下来，对于任何 $m<6$，特别是 $m=5$ 的情况，要使得 $S\\le 5$ 的唯一方式是 $(X_{1},X_{2})=(2,2)$，所以\n$$\nP(S\\le 5)=P(X_{1}=2,X_{2}=2)=\\left(\\frac{1}{2}\\right)^{2}=\\frac{1}{4}<\\frac{1}{2}.\n$$\n因此，$6$ 是满足 $P(S\\le m)\\ge \\frac{1}{2}$ 的最小 $m$ 值，并且它满足 $P(S\\ge 6)=1-P(S\\le 5)=\\frac{3}{4}\\ge \\frac{1}{2}$。因此，总奖金的中位数是 $6$ 美元。", "answer": "$$\\boxed{6}$$", "id": "1406398"}, {"introduction": "面对一个具有无限期望值但实际收益却很可能极低的游戏，一个理性的人会如何决策？这个练习模拟了一个更现实的场景，玩家可以在不确定的游戏收益和一笔固定的保证金额之间做出选择。通过制定最优策略并计算其期望收益，你将接触到解决此悖论的一个关键思路——效用理论，即人们追求的是效用的最大化，而不仅仅是金钱的期望值。", "problem": "提出了一种圣彼得堡博弈的修改版本。在这个游戏中，一枚均匀的硬币被独立重复地抛掷，直到第一次出现“正面”为止。如果第一次“正面”出现在第 $k$ 次抛掷时，玩家将获得一笔 $X = (1.5)^k$ 美元的初始收益。\n\n在结果 $k$ 已知且初始收益 $X$ 被计算出来后，玩家必须做出一个决定。他们可以选择接受收益 $X$，或者将其更换为一个保证的、固定的支付额 $G = 5$ 美元。一个寻求最大化其收益的理性玩家，将总是选择两者中较大的金额。\n\n假设玩家总是采用这种最优决策策略，计算参与此修改版游戏的玩家的总期望收益。以美元为单位，将您的最终答案四舍五入到三位有效数字。", "solution": "设 $K$ 为重复抛掷一枚均匀硬币时，第一次出现正面的次数。则对于 $k\\in\\{1,2,3,\\dots\\}$，有 $P(K=k)=2^{-k}$。初始收益为 $X=(\\tfrac{3}{2})^{k}$。玩家获得的收益为 $Y=\\max\\!\\big((\\tfrac{3}{2})^{k},5\\big)$。\n\n找到阈值 $k_{0}$，使得 $(\\tfrac{3}{2})^{k}\\geq 5$ 当且仅当 $k\\geq k_{0}$。解不等式 $(\\tfrac{3}{2})^{k}\\geq 5$ 得到 $k\\geq \\frac{\\ln(5)}{\\ln(3/2)}$，并通过检验整数可知 $k_{0}=4$，因为 $(\\tfrac{3}{2})^{3}= \\frac{27}{8}<5$ 而 $(\\tfrac{3}{2})^{4}=\\frac{81}{16}>5$。\n\n因此，\n$$\n\\mathbb{E}[Y]\n=\\sum_{k=1}^{3} 5\\cdot 2^{-k}+\\sum_{k=4}^{\\infty} \\left(\\frac{3}{2}\\right)^{k} 2^{-k}\n=5\\sum_{k=1}^{3}2^{-k}+\\sum_{k=4}^{\\infty}\\left(\\frac{3}{4}\\right)^{k}.\n$$\n计算每个和：\n$$\n\\sum_{k=1}^{3}2^{-k}=\\frac{1}{2}+\\frac{1}{4}+\\frac{1}{8}=\\frac{7}{8},\\qquad\n\\sum_{k=4}^{\\infty}\\left(\\frac{3}{4}\\right)^{k}=\\frac{\\left(\\frac{3}{4}\\right)^{4}}{1-\\frac{3}{4}}=\\frac{\\frac{81}{256}}{\\frac{1}{4}}=\\frac{81}{64}.\n$$\n因此，\n$$\n\\mathbb{E}[Y]=5\\cdot \\frac{7}{8}+\\frac{81}{64}=\\frac{35}{8}+\\frac{81}{64}=\\frac{280+81}{64}=\\frac{361}{64}=5.640625.\n$$\n四舍五入到三位有效数字，结果是 $5.64$ 美元。", "answer": "$$\\boxed{5.64}$$", "id": "1406385"}]}