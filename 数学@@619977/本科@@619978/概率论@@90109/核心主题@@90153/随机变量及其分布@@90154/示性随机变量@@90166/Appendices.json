{"hands_on_practices": [{"introduction": "这项入门练习将通过一个具体场景，帮助你实践使用指示随机变量的基本技巧。我们将分析一个假设的像素网格制造过程，以计算其中特定类型缺陷的期望数量。解题的关键在于将一个宏观问题（整个显示屏上的总缺陷数）分解为一系列简单的、局部化的事件之和（每个可能位置上出现缺陷），这是概率分析中的核心策略。[@problem_id:1365956]", "problem": "一家公司正在开发一种新型的大面积柔性显示器。该显示器由 $n$ 行 $m$ 列的像素组成的矩形网格构成。由于制造过程中的缺陷，每个独立像素有 $p$ 的概率存在缺陷，导致其永久性地“卡亮”。任何像素的状态（有缺陷或无缺陷）在统计上独立于所有其他像素。\n\n当同一行中两个相邻像素都有缺陷时，会出现一种称为“水平对偶缺陷”的特定视觉瑕疵。确定整个 $n \\times m$ 显示器上水平对偶缺陷的期望数量。用 $n$、$m$ 和 $p$ 的符号表达式表示你的答案。", "solution": "令 $X_{i,j}$ 为指示随机变量，表示第 $i$ 行第 $j$ 列和第 $j+1$ 列像素之间存在水平对偶缺陷，其中 $i \\in \\{1,\\dots,n\\}$ 且 $j \\in \\{1,\\dots,m-1\\}$。因此，如果两个像素都有缺陷，则 $X_{i,j}=1$，否则 $X_{i,j}=0$。\n\n水平对偶缺陷的总数为\n$$\nH=\\sum_{i=1}^{n}\\sum_{j=1}^{m-1} X_{i,j}.\n$$\n根据期望的线性性质，\n$$\n\\mathbb{E}[H]=\\sum_{i=1}^{n}\\sum_{j=1}^{m-1} \\mathbb{E}[X_{i,j}].\n$$\n对于一个固定的相邻像素对，根据像素缺陷的独立性以及每个像素的缺陷概率为 $p$，\n$$\n\\mathbb{P}(X_{i,j}=1)=p \\cdot p=p^{2},\n$$\n所以\n$$\n\\mathbb{E}[X_{i,j}]=p^{2}.\n$$\n整个网格中有 $n(m-1)$ 个这样的相邻像素对，因此\n$$\n\\mathbb{E}[H]=n(m-1)p^{2}.\n$$", "answer": "$$\\boxed{n(m-1)p^{2}}$$", "id": "1365956"}, {"introduction": "这个问题揭示了指示随机变量的强大威力，尤其是在处理非独立事件时。通过分析一个经典的数据随机匹配场景，你将发现期望的线性性质如何让我们绕过复杂的依赖关系，得出一个出人意料地简洁而优美的结果。这个练习完美地展示了为什么指示随机变量是概率论工具箱中不可或缺的一环。[@problem_id:1366013]", "problem": "在一个大规模数据中心，一个有故障的批处理脚本尝试迁移用户数据。系统包含 $n$ 个不同的用户账户，标记为 $A_1, A_2, \\dots, A_n$，以及 $n$ 个对应的用户数据文件，标记为 $P_1, P_2, \\dots, P_n$。最初，对于所有的 $i=1, \\dots, n$，账户 $A_i$ 都与数据文件 $P_i$ 正确关联。然而，这个有故障的脚本破坏了所有现有的关联，并创建了一组新的随机配对。新的映射是一个完美的一一对应关系，其中每个用户账户与唯一一个用户数据文件随机配对，并且每个数据文件也只分配给唯一一个账户。所有可能的一一配对都是等可能的。\n\n求出在脚本运行后，仍然与其原始数据文件正确关联的用户账户的期望数量。用户账户的数量 $n$ 是一个大于或等于1的正整数。请以一个具体的数值形式给出你的答案。", "solution": "将随机的重新分配建模为集合 $\\{1,2,\\dots,n\\}$ 上的一个均匀随机排列 $\\sigma$，其中 $\\sigma(i)=j$ 表示账户 $A_i$ 与数据文件 $P_j$ 配对。与其原始数据文件正确关联的账户数量就是排列 $\\sigma$ 的不动点数量。\n\n对于 $i \\in \\{1,\\dots,n\\}$，定义指示变量 $X_i$ 如下：\n$$\nX_i=\\begin{cases}\n1, & \\text{如果 } \\sigma(i)=i,\\\\\n0, & \\text{否则。}\n\\end{cases}\n$$\n令 $X=\\sum_{i=1}^{n} X_i$ 表示不动点的总数。根据期望的线性性质，\n$$\n\\mathbb{E}[X]=\\sum_{i=1}^{n} \\mathbb{E}[X_i].\n$$\n对于每个 $i$，由于 $\\sigma$ 是在所有 $n!$ 个排列上均匀随机的，固定 $i$ 的排列数量为 $(n-1)!$，所以\n$$\n\\Pr(\\sigma(i)=i)=\\frac{(n-1)!}{n!}=\\frac{1}{n}.\n$$\n因为 $X_i$ 是一个指示变量，\n$$\n\\mathbb{E}[X_i]=\\Pr(X_i=1)=\\Pr(\\sigma(i)=i)=\\frac{1}{n}.\n$$\n因此，\n$$\n\\mathbb{E}[X]=\\sum_{i=1}^{n} \\frac{1}{n}=1.\n$$\n因此，对于任何整数 $n\\geq 1$，保持正确关联的账户的期望数量是 $1$。", "answer": "$$\\boxed{1}$$", "id": "1366013"}, {"introduction": "最后的这项练习旨在挑战你将指示随机变量的概念推广到更抽象的组合结构上。我们将不再是计数简单的点或配对，而是计算一个随机排列中长度为 $k$ 的循环的期望数量。这个问题要求你将指示随机变量方法与组合计数原理相结合，从而展示该技术的通用性及其在更高级问题中的应用。[@problem_id:1365981]", "problem": "在一所大型大学宿舍里，有$n$名学生，每名学生都分配有一个从1到$n$编号的独立信箱。一天，一次邮件错投导致每名学生的唯一一封信被放入了$n$个信箱中的一个，且每个信箱恰好收到一封信。信件到信箱的分配是完全随机的，这意味着$n$封信件的$n!$种可能排列中的每一种都是等可能的。\n\n一个“长度为$k$的投递环”被定义为一个由$k$个不同学生组成的序列，例如$s_1, s_2, \\dots, s_k$，满足学生$s_1$的信在学生$s_2$的信箱里，学生$s_2$的信在学生$s_3$的信箱里，以此类推，学生$s_{k-1}$的信在学生$s_k$的信箱里，最后，学生$s_k$的信回到了学生$s_1$的信箱里。\n\n对于满足$n \\ge k \\ge 1$的任意整数$n$和$k$，确定长度恰好为$k$的不同投递环的期望数量。用关于$n$和/或$k$的解析表达式来表示你的答案。", "solution": "设信件到信箱的随机分配为一个对$n$名学生进行的均匀随机排列。定义$X_{k}$为该排列中长度恰好为$k$的投递环的数量。我们的目标是计算$\\operatorname{E}[X_{k}]$。\n\n考虑这$n$名学生上的所有不同的$k$-圈的集合，其中圈的识别不考虑循环旋转（即，如同在排列的不相交圈分解中一样）。这种$k$-圈的数量为\n$$\nN_{k}=\\binom{n}{k}(k-1)!,\n$$\n因为我们首先选择$k$名学生，然后将他们排成一个圈，其中$k$个线性排序对应于同一个圈，因此在一个固定的$k$-元集上有$(k-1)!$个不同的圈。\n\n对于每个特定的$k$-圈$C$，定义指示变量$I_{C}$，如果$C$作为排列中的一个圈出现，则$I_{C}$等于$1$，否则等于$0$。那么\n$$\nX_{k}=\\sum_{C} I_{C},\n$$\n其中求和遍及所有$N_{k}$个不同的$k$-圈。根据期望的线性性，\n$$\n\\operatorname{E}[X_{k}]=\\sum_{C}\\operatorname{E}[I_{C}]=\\sum_{C}\\Pr(I_{C}=1).\n$$\n\n对于任意固定的$k$-圈$C$，包含$C$（其中$k$个元素的排列与$C$中完全相同）的排列数量等于$(n-k)!$，因为剩下的$n-k$个元素可以任意排列。由于总排列数为$n!$，我们有\n$$\n\\Pr(I_{C}=1)=\\frac{(n-k)!}{n!}.\n$$\n因此，\n$$\n\\operatorname{E}[X_{k}]=N_{k}\\cdot\\frac{(n-k)!}{n!}\n=\\binom{n}{k}(k-1)!\\cdot\\frac{(n-k)!}{n!}.\n$$\n使用$\\binom{n}{k}=\\dfrac{n!}{k!(n-k)!}$，我们简化得到：\n$$\n\\operatorname{E}[X_{k}]\n=\\frac{n!}{k!(n-k)!}\\cdot (k-1)!\\cdot \\frac{(n-k)!}{n!}\n=\\frac{1}{k}.\n$$\n该结论对于所有满足$n\\ge k\\ge 1$的整数$n$和$k$都成立。", "answer": "$$\\boxed{\\frac{1}{k}}$$", "id": "1365981"}]}