{"hands_on_practices": [{"introduction": "极大值原理的一个核心结论是，光滑函数在紧致流形的内部极大值点处，其拉普拉斯算子（Laplacian）的值必然非正，即 $\\Delta f \\le 0$。这个练习 [@problem_id:3057777] 提供了一个在二维球面 $S^2$ 上的具体例子，让你亲手验证这一基本事实。通过为特定函数定位极大值点并显式计算其拉普拉斯算子的值，你将加深对这一原理几何直观的理解——在极大值点附近，函数曲面“向下弯曲”。", "problem": "设 $S^2$ 为半径为 $1$ 的 $2$-维球面，其上赋有标准的圆形黎曼度量。在球坐标 $(\\theta,\\varphi)$ 中，其中 $\\theta \\in [0,\\pi]$ 为余纬，$\\varphi \\in [0,2\\pi)$ 为经度（角度以弧度为单位），度量由 $\\mathrm{d}s^{2} = \\mathrm{d}\\theta^{2} + \\sin^{2}\\theta\\,\\mathrm{d}\\varphi^{2}$ 给出。考虑定义在 $S^2$ 上的光滑函数 $f : S^2 \\to \\mathbb{R}$：\n$$\nf(\\theta,\\varphi) = \\sin^{2}\\theta\\,\\cos(3\\varphi).\n$$\n请从第一性原理出发，利用拉普拉斯-贝尔特拉米算子 $\\Delta f$ 作为与 $S^2$ 上的度量 $g$ 相关联的梯度的散度（即 $\\Delta f = \\operatorname{div}(\\nabla f)$）的定义，以及用度量张量表示散度的坐标表达式来解决本题。请勿使用任何关于 $\\Delta$ 的现成公式；所有需要的公式都必须自行导出。\n\n任务：\n1. 找出 $f$ 的临界点，并使用 $(\\theta,\\varphi)$ 坐标下的二阶导数检验法来确定这些点的性质，从而证明 $f$ 在 $S^2$ 上有多个孤立的局部极大值点。\n2. 从度量 $g$ 导出 $\\Delta f$ 在 $(\\theta,\\varphi)$ 坐标下的表达式，并显式计算 $\\Delta f(\\theta,\\varphi)$。\n3. 计算你在赤道（$\\theta = \\pi/2$）处且经度为 $\\varphi \\in \\{0,\\,2\\pi/3,\\,4\\pi/3\\}$ 时找到的每个局部极大值点上的 $\\Delta f$ 值，并按 $\\varphi = 0$, $\\varphi = 2\\pi/3$, $\\varphi = 4\\pi/3$ 的顺序报告这三个值。\n\n使用 $\\mathrm{pmatrix}$ 环境将你的最终答案表示为单个行矩阵。无需四舍五入。", "solution": "### 问题验证\n\n我们来分解问题陈述并进行验证。\n\n**第1步：提取已知条件**\n\n-   流形：$S^2$，半径为1的2维球面，赋以其标准的圆形黎曼度量。\n-   坐标：球坐标 $(\\theta, \\varphi)$，其中 $\\theta \\in [0, \\pi]$ 为余纬，$\\varphi \\in [0, 2\\pi)$ 为经度。\n-   度量张量：$\\mathrm{d}s^{2} = \\mathrm{d}\\theta^{2} + \\sin^{2}\\theta\\,\\mathrm{d}\\varphi^{2}$。\n-   函数：$f : S^2 \\to \\mathbb{R}$，定义为 $f(\\theta,\\varphi) = \\sin^{2}\\theta\\,\\cos(3\\varphi)$。\n-   算子：拉普拉斯-贝尔特拉米算子 $\\Delta f = \\operatorname{div}(\\nabla f)$。\n-   约束：必须从第一性原理（度量张量）出发推导坐标表达式，不得使用关于 $\\Delta$ 的现成公式。\n\n**任务：**\n1.  找出 $f$ 的临界点，使用二阶导数检验法对其分类，并证明存在多个孤立的局部极大值点。\n2.  推导 $\\Delta f$ 在 $(\\theta, \\varphi)$ 坐标下的表达式，并对给定的 $f$ 进行计算。\n3.  计算在赤道（$\\theta = \\pi/2$）上，经度为 $\\varphi \\in \\{0, 2\\pi/3, 4\\pi/3\\}$ 的局部极大值点处的 $\\Delta f$。\n4.  将这三个值以行矩阵形式报告。\n\n**第2步：使用提取的已知条件进行验证**\n\n1.  **有科学依据吗？** 是。该问题设置在黎曼几何的框架内，这是一个完善的数学分支。所涉及的对象（球面、度量、函数、拉普拉斯-贝尔特拉米算子）都是标准的。\n2.  **适定的吗？** 是。函数是光滑的，流形是紧的，因此极大值和极小值存在。任务具体，并能导出一个唯一的答案。问题要求证明极大值的存在，这是一个可验证的论断。计算过程是明确定义的。\n3.  **客观的吗？** 是。语言精确且数学化，没有主观论断。\n4.  **科学/事实上不严谨之处？** 无。该度量是 $S^2$ 上的标准度量。函数是良定义且光滑的。拉普拉斯算子的定义是标准的。\n5.  **不可形式化/不相关吗？** 否。该问题是黎曼几何中的一个标准练习，特别与流形上的分析相关（极值原理与极大值点处拉普拉斯算子的符号有关）。\n6.  **设置不完整/矛盾吗？** 否。所有必要信息都已提供。度量、函数和定义域都已指定。任务清晰。\n7.  **不现实/不可行吗？** 否。这些都是标准的数学计算。\n8.  **不适定的吗？** 否。存在唯一解。“第一性原理”一词被明确为指从度量 $g$ 推导 $\\Delta$ 的坐标表达式。\n9.  **伪深刻/琐碎吗？** 否。虽然这是一个标准的练习，但它需要几个非平凡的计算步骤：寻找临界点，在坐标片上应用二阶导数检验法，从度量推导拉普拉斯公式，并进行求值。这并非易事。\n10. **超出科学可验证范围吗？** 否。结果是可以通过数学方法验证的。\n\n**结论：** 该问题是**有效的**。\n\n### 解题计划\n\n我将开始解题。\n\n**第1部分：临界点及其分类**\n\n-   函数为 $f(\\theta, \\varphi) = \\sin^2\\theta \\cos(3\\varphi)$。\n-   临界点是梯度 $\\nabla f$ 为零的点。在局部坐标中，这意味着偏导数为零：$\\frac{\\partial f}{\\partial \\theta} = 0$ 且 $\\frac{\\partial f}{\\partial \\varphi} = 0$。\n-   $\\frac{\\partial f}{\\partial \\theta} = 2\\sin\\theta\\cos\\theta \\cos(3\\varphi) = \\sin(2\\theta) \\cos(3\\varphi) = 0$。\n-   $\\frac{\\partial f}{\\partial \\varphi} = \\sin^2\\theta (-3\\sin(3\\varphi)) = -3\\sin^2\\theta \\sin(3\\varphi) = 0$。\n-   定义域为 $\\theta \\in [0, \\pi]$ 和 $\\varphi \\in [0, 2\\pi)$。\n\n-   从第二个方程 $-3\\sin^2\\theta \\sin(3\\varphi) = 0$ 可得：\n    -   要么 $\\sin^2\\theta = 0 \\implies \\sin\\theta = 0$。这发生在 $\\theta=0$（北极）和 $\\theta=\\pi$（南极）。在这些情况下，第一个方程 $\\sin(2\\theta)\\cos(3\\varphi) = 0$ 自动满足，因为 $\\sin(0)=0$ 且 $\\sin(2\\pi)=0$。所以，两极都是临界点。\n        -   在 $\\theta=0$ 时，$f(0, \\varphi) = 0$。\n        -   在 $\\theta=\\pi$ 时，$f(\\pi, \\varphi) = 0$。\n    -   要么 $\\sin(3\\varphi) = 0$。这意味着 $3\\varphi = k\\pi$，其中 $k$ 为整数。所以 $\\varphi = k\\pi/3$。由于 $\\varphi \\in [0, 2\\pi)$，我们有 $\\varphi = 0, \\pi/3, 2\\pi/3, \\pi, 4\\pi/3, 5\\pi/3$。\n\n-   现在将 $\\sin(3\\varphi)=0$ 代入第一个方程：$\\sin(2\\theta)\\cos(3\\varphi) = 0$。\n    -   如果 $\\sin(3\\varphi) = 0$，那么 $\\cos^2(3\\varphi) = 1$，所以 $\\cos(3\\varphi) = \\pm 1$。这意味着 $\\cos(3\\varphi)$ 永不为零。\n    -   所以，必须有 $\\sin(2\\theta) = 0$。这意味着 $2\\theta = m\\pi$，其中 $m$ 为整数。由于 $\\theta \\in [0, \\pi]$，我们有 $2\\theta = 0, \\pi, 2\\pi$，即 $\\theta = 0, \\pi/2, \\pi$。\n        -   我们已经找到了 $\\theta=0$ 和 $\\theta=\\pi$ 的情况（两极）。\n        -   新的情况是 $\\theta = \\pi/2$（赤道）。\n\n-   所以，临界点是：\n    1.  北极：$\\theta = 0$。所有 $\\varphi$ 值都对应同一个点。\n    2.  南极：$\\theta = \\pi$。所有 $\\varphi$ 值都对应同一个点。\n    3.  赤道上的点：$\\theta=\\pi/2$ 且 $\\varphi \\in \\{0, \\pi/3, 2\\pi/3, \\pi, 4\\pi/3, 5\\pi/3\\}$。\n\n-   现在，使用二阶导数检验法对这些点进行分类。我们需要 $f$ 在 $(\\theta, \\varphi)$ 坐标下的Hessian矩阵。\n    -   $f_{\\theta\\theta} = \\frac{\\partial}{\\partial\\theta} (\\sin(2\\theta)\\cos(3\\varphi)) = 2\\cos(2\\theta)\\cos(3\\varphi)$。\n    -   $f_{\\varphi\\varphi} = \\frac{\\partial}{\\partial\\varphi} (-3\\sin^2\\theta \\sin(3\\varphi)) = -9\\sin^2\\theta \\cos(3\\varphi)$。\n    -   $f_{\\theta\\varphi} = \\frac{\\partial}{\\partial\\varphi} (2\\sin\\theta\\cos\\theta \\cos(3\\varphi)) = -3\\sin(2\\theta)\\sin(3\\varphi)$。\n\n-   Hessian矩阵 $H = \\begin{pmatrix} f_{\\theta\\theta}  f_{\\theta\\varphi} \\\\ f_{\\varphi\\theta}  f_{\\varphi\\varphi} \\end{pmatrix}$。\n    -   在任何临界点，$\\sin(3\\varphi)=0$ 或 $\\sin(2\\theta)=0$。无论哪种情况，$f_{\\theta\\varphi}=0$。所以在所有临界点（除了坐标奇异的两极），Hessian矩阵都是对角的。\n    -   $H = \\begin{pmatrix} 2\\cos(2\\theta)\\cos(3\\varphi)  0 \\\\ 0  -9\\sin^2\\theta \\cos(3\\varphi) \\end{pmatrix}$。\n    -   行列式 $\\det(H) = -18 \\cos(2\\theta)\\sin^2\\theta \\cos^2(3\\varphi)$。\n\n-   让我们检查赤道上的点：$\\theta = \\pi/2$。\n    -   $\\sin^2(\\pi/2) = 1$。$\\cos(2(\\pi/2)) = \\cos(\\pi) = -1$。\n    -   临界点出现在 $\\sin(3\\varphi)=0$ 的地方，即 $\\varphi \\in \\{0, \\pi/3, 2\\pi/3, \\pi, 4\\pi/3, 5\\pi/3\\}$。\n    -   对于这些 $\\varphi$ 值，我们有 $\\cos(3\\varphi) = \\pm 1$。\n        -   当 $\\varphi = 0, 2\\pi/3, 4\\pi/3$ 时，$\\cos(3\\varphi) = 1$。\n        -   当 $\\varphi = \\pi/3, \\pi, 5\\pi/3$ 时，$\\cos(3\\varphi) = -1$。\n\n-   情况1：$\\theta = \\pi/2$ 且 $\\cos(3\\varphi) = 1$。（$\\varphi = 0, 2\\pi/3, 4\\pi/3$）\n    -   $f(\\pi/2, \\varphi) = \\sin^2(\\pi/2) \\cos(3\\varphi) = 1 \\cdot 1 = 1$。\n    -   $f_{\\theta\\theta} = 2\\cos(\\pi)\\cos(3\\varphi) = 2(-1)(1) = -2$。\n    -   $f_{\\varphi\\varphi} = -9\\sin^2(\\pi/2)\\cos(3\\varphi) = -9(1)(1) = -9$。\n    -   $H = \\begin{pmatrix} -2  0 \\\\ 0  -9 \\end{pmatrix}$。\n    -   $\\det(H) = 18 > 0$ 且 $f_{\\theta\\theta} < 0$。这些是局部极大值点。\n    -   共有3个这样的点。它们是孤立的。\n\n-   情况2：$\\theta = \\pi/2$ 且 $\\cos(3\\varphi) = -1$。（$\\varphi = \\pi/3, \\pi, 5\\pi/3$）\n    -   $f(\\pi/2, \\varphi) = \\sin^2(\\pi/2) \\cos(3\\varphi) = 1 \\cdot (-1) = -1$。\n    -   $f_{\\theta\\theta} = 2\\cos(\\pi)\\cos(3\\varphi) = 2(-1)(-1) = 2$。\n    -   $f_{\\varphi\\varphi} = -9\\sin^2(\\pi/2)\\cos(3\\varphi) = -9(1)(-1) = 9$。\n    -   $H = \\begin{pmatrix} 2  0 \\\\ 0  9 \\end{pmatrix}$。\n    -   $\\det(H) = 18 > 0$ 且 $f_{\\theta\\theta} > 0$。这些是局部极小值点。\n\n-   情况3：两极 $\\theta=0, \\pi$。\n    -   坐标系在两极是退化的。让我们分析附近的函数值。\n    -   在 $\\theta=0$（北极），$f = \\sin^2\\theta \\cos(3\\varphi) \\approx \\theta^2 \\cos(3\\varphi)$。对于小的 $\\theta$，这个值可以是正的也可以是负的，取决于 $\\varphi$。所以北极是一个鞍点。\n    -   类似地，在 $\\theta=\\pi$（南极）附近，令 $\\theta' = \\pi-\\theta$。那么 $\\sin\\theta = \\sin(\\pi-\\theta') = \\sin\\theta'$。所以 $f \\approx (\\theta')^2 \\cos(3\\varphi)$。这同样是一个鞍点。\n    -   函数在两极的值是 $f=0$。极大值为 $1$，极小值为 $-1$。所以两极不是极值点。\n    -   在 $(\\theta, \\varphi)$ 坐标下的二阶导数检验法在两极是不可靠的。最好是局部地评估 $f$ 的行为。\n    -   在 $\\theta=0$ 附近，$f(\\theta,\\varphi) = \\sin^2\\theta \\cos(3\\varphi)$。$f(0, \\varphi)=0$。对于任意小的 $\\epsilon>0$，$f(\\epsilon,0) = \\sin^2(\\epsilon)>0$ 且 $f(\\epsilon, \\pi/3)=\\sin^2(\\epsilon)\\cos(\\pi) = -\\sin^2(\\epsilon)<0$。所以在极点的任何邻域内，都存在函数值大于和小于极点处函数值的点。因此，两极是鞍点。同样的论证也适用于南极。\n\n-   第1部分的结论：函数 $f$ 在 $(\\pi/2, 0)$、$(\\pi/2, 2\\pi/3)$ 和 $(\\pi/2, 4\\pi/3)$ 有3个孤立的局部极大值点。它还有3个孤立的局部极小值点和2个鞍点（两极）。这证实了原先的论断。\n\n**第2部分：$\\Delta f$ 的推导和计算**\n\n-   问题要求从 $\\Delta f = \\operatorname{div}(\\nabla f)$ 和度量出发推导 $\\Delta f$。\n-   设坐标为 $(x^1, x^2) = (\\theta, \\varphi)$。\n-   度量张量为 $g_{ij}$。从 $\\mathrm{d}s^2 = g_{ij} \\mathrm{d}x^i \\mathrm{d}x^j = \\mathrm{d}\\theta^2 + \\sin^2\\theta \\mathrm{d}\\varphi^2$，我们有：\n    -   $g_{11} = g_{\\theta\\theta} = 1$。\n    -   $g_{22} = g_{\\varphi\\varphi} = \\sin^2\\theta$。\n    -   $g_{12} = g_{21} = 0$。\n    -   所以 $g = \\begin{pmatrix} 1  0 \\\\ 0  \\sin^2\\theta \\end{pmatrix}$。\n-   逆度量张量 $g^{ij}$ 是 $g_{ij}$ 的矩阵逆：\n    -   $g^{11} = 1$。\n    -   $g^{22} = 1/\\sin^2\\theta$。\n    -   $g^{12} = g^{21} = 0$。\n    -   所以 $g^{-1} = \\begin{pmatrix} 1  0 \\\\ 0  1/\\sin^2\\theta \\end{pmatrix}$。\n-   度量张量的行列式为 $g = \\det(g_{ij}) = \\sin^2\\theta$。所以 $\\sqrt{g} = |\\sin\\theta| = \\sin\\theta$ 因为 $\\theta \\in [0, \\pi]$。\n\n-   首先，求梯度向量场 $\\nabla f$。$\\nabla f$ 的分量由 $(\\nabla f)^i = g^{ij} \\frac{\\partial f}{\\partial x^j}$ 给出。\n    -   $(\\nabla f)^1 = (\\nabla f)^\\theta = g^{\\theta\\theta} \\frac{\\partial f}{\\partial \\theta} + g^{\\theta\\varphi} \\frac{\\partial f}{\\partial \\varphi} = 1 \\cdot \\frac{\\partial f}{\\partial \\theta} + 0 = \\frac{\\partial f}{\\partial \\theta}$。\n    -   $(\\nabla f)^2 = (\\nabla f)^\\varphi = g^{\\varphi\\theta} \\frac{\\partial f}{\\partial \\theta} + g^{\\varphi\\varphi} \\frac{\\partial f}{\\partial \\varphi} = 0 + \\frac{1}{\\sin^2\\theta} \\frac{\\partial f}{\\partial \\varphi}$。\n    -   所以，$\\nabla f$ 是分量为 $\\left(\\frac{\\partial f}{\\partial \\theta}, \\frac{1}{\\sin^2\\theta} \\frac{\\partial f}{\\partial \\varphi}\\right)$ 的向量场。\n\n-   接下来，求分量为 $X^i$ 的向量场 $X$ 的散度。公式为 $\\operatorname{div}(X) = \\frac{1}{\\sqrt{g}} \\sum_i \\frac{\\partial}{\\partial x^i} (\\sqrt{g} X^i)$。\n-   令 $X = \\nabla f$。所以 $X^\\theta = \\frac{\\partial f}{\\partial \\theta}$ 且 $X^\\varphi = \\frac{1}{\\sin^2\\theta} \\frac{\\partial f}{\\partial \\varphi}$。\n-   $\\Delta f = \\operatorname{div}(\\nabla f) = \\frac{1}{\\sin\\theta} \\left[ \\frac{\\partial}{\\partial \\theta} \\left(\\sin\\theta \\cdot (\\nabla f)^\\theta \\right) + \\frac{\\partial}{\\partial \\varphi} \\left(\\sin\\theta \\cdot (\\nabla f)^\\varphi \\right) \\right]$。\n-   $\\Delta f = \\frac{1}{\\sin\\theta} \\left[ \\frac{\\partial}{\\partial \\theta} \\left(\\sin\\theta \\frac{\\partial f}{\\partial \\theta} \\right) + \\frac{\\partial}{\\partial \\varphi} \\left(\\sin\\theta \\frac{1}{\\sin^2\\theta} \\frac{\\partial f}{\\partial \\varphi} \\right) \\right]$。\n-   $\\Delta f = \\frac{1}{\\sin\\theta} \\frac{\\partial}{\\partial \\theta} \\left(\\sin\\theta \\frac{\\partial f}{\\partial \\theta} \\right) + \\frac{1}{\\sin^2\\theta} \\frac{\\partial^2 f}{\\partial \\varphi^2}$。\n    -   这是在这些坐标下拉普拉斯算子的一般表达式。（为了得到最终的通用公式，我也应该展开第一项）。\n    -   $\\frac{\\partial}{\\partial \\theta} (\\sin\\theta \\frac{\\partial f}{\\partial \\theta}) = \\cos\\theta \\frac{\\partial f}{\\partial \\theta} + \\sin\\theta \\frac{\\partial^2 f}{\\partial \\theta^2}$。\n    -   所以 $\\Delta f = \\frac{\\cos\\theta}{\\sin\\theta} \\frac{\\partial f}{\\partial \\theta} + \\frac{\\partial^2 f}{\\partial \\theta^2} + \\frac{1}{\\sin^2\\theta} \\frac{\\partial^2 f}{\\partial \\varphi^2}$。\n    -   这与著名的公式相符，所以我的推导是正确的。\n\n-   现在，计算 $f(\\theta,\\varphi) = \\sin^{2}\\theta\\,\\cos(3\\varphi)$ 的 $\\Delta f$。\n    -   $\\frac{\\partial f}{\\partial \\theta} = 2\\sin\\theta\\cos\\theta \\cos(3\\varphi) = \\sin(2\\theta)\\cos(3\\varphi)$。\n    -   $\\frac{\\partial^2 f}{\\partial \\theta^2} = 2\\cos(2\\theta)\\cos(3\\varphi)$。\n    -   $\\frac{\\partial f}{\\partial \\varphi} = -3\\sin^2\\theta\\sin(3\\varphi)$。\n    -   $\\frac{\\partial^2 f}{\\partial \\varphi^2} = -9\\sin^2\\theta\\cos(3\\varphi)$。\n\n-   将这些代入拉普拉斯算子公式：\n    -   $\\Delta f = \\frac{\\cos\\theta}{\\sin\\theta} (2\\sin\\theta\\cos\\theta \\cos(3\\varphi)) + 2\\cos(2\\theta)\\cos(3\\varphi) + \\frac{1}{\\sin^2\\theta}(-9\\sin^2\\theta\\cos(3\\varphi))$。\n    -   $\\Delta f = 2\\cos^2\\theta \\cos(3\\varphi) + 2\\cos(2\\theta)\\cos(3\\varphi) - 9\\cos(3\\varphi)$。\n    -   提出 $\\cos(3\\varphi)$：$\\Delta f = \\cos(3\\varphi) [2\\cos^2\\theta + 2\\cos(2\\theta) - 9]$。\n    -   使用 $\\cos(2\\theta) = 2\\cos^2\\theta-1$。\n    -   $\\Delta f = \\cos(3\\varphi) [2\\cos^2\\theta + 2(2\\cos^2\\theta-1) - 9]$。\n    -   $\\Delta f = \\cos(3\\varphi) [2\\cos^2\\theta + 4\\cos^2\\theta - 2 - 9]$。\n    -   $\\Delta f = \\cos(3\\varphi) [6\\cos^2\\theta - 11]$。\n    -   让我们再检查一遍。\n    -   $\\Delta f = -(6\\sin^2\\theta + 5) \\cos(3\\varphi)$。\n\n    -   让我们再检查一遍。我将使用分离变量的方法重新计算。\n    -   $\\Delta f = \\frac{1}{\\sin\\theta} \\frac{\\partial}{\\partial \\theta} \\left(\\sin\\theta \\frac{\\partial f}{\\partial \\theta} \\right) + \\frac{1}{\\sin^2\\theta} \\frac{\\partial^2 f}{\\partial \\varphi^2}$\n    -   $\\frac{\\partial f}{\\partial \\theta} = 2\\sin\\theta\\cos\\theta \\cos(3\\varphi)$\n    -   $\\sin\\theta \\frac{\\partial f}{\\partial \\theta} = 2\\sin^2\\theta\\cos\\theta \\cos(3\\varphi)$\n    -   $\\frac{\\partial}{\\partial \\theta}(\\sin\\theta \\frac{\\partial f}{\\partial \\theta}) = (4\\sin\\theta\\cos^2\\theta - 2\\sin^3\\theta)\\cos(3\\varphi)$\n    -   $\\frac{1}{\\sin\\theta}\\frac{\\partial}{\\partial \\theta}(\\sin\\theta \\frac{\\partial f}{\\partial \\theta}) = (4\\cos^2\\theta - 2\\sin^2\\theta)\\cos(3\\varphi)$\n    -   $\\frac{\\partial^2 f}{\\partial \\varphi^2} = -9\\sin^2\\theta \\cos(3\\varphi)$\n    -   $\\frac{1}{\\sin^2\\theta}\\frac{\\partial^2 f}{\\partial \\varphi^2} = -9\\cos(3\\varphi)$\n    -   $\\Delta f = (4\\cos^2\\theta - 2\\sin^2\\theta)\\cos(3\\varphi) - 9\\cos(3\\varphi)$\n    -   $\\Delta f = \\cos(3\\varphi)[4\\cos^2\\theta - 2\\sin^2\\theta - 9]$\n    -   $\\Delta f = \\cos(3\\varphi)[4(1-\\sin^2\\theta) - 2\\sin^2\\theta - 9]$\n    -   $\\Delta f = \\cos(3\\varphi)[4-4\\sin^2\\theta - 2\\sin^2\\theta - 9]$\n    -   $\\Delta f = \\cos(3\\varphi)[-5-6\\sin^2\\theta] = -(6\\sin^2\\theta+5)\\cos(3\\varphi)$。\n    -   这证实了我之前的结果。计算似乎是正确的。\n\n-   第2部分的结论：\n    -   坐标表达式为 $\\Delta f = \\frac{1}{\\sin\\theta} \\frac{\\partial}{\\partial \\theta} \\left(\\sin\\theta \\frac{\\partial f}{\\partial \\theta} \\right) + \\frac{1}{\\sin^2\\theta} \\frac{\\partial^2 f}{\\partial \\varphi^2}$。\n    -   显式计算得出 $\\Delta f(\\theta, \\varphi) = -(6\\sin^2\\theta + 5)\\cos(3\\varphi)$。\n\n**第3部分：在局部极大值点处计算 $\\Delta f$**\n\n-   局部极大值点在第1部分中找到。它们是 $\\theta = \\pi/2$ 且 $\\varphi_1=0$, $\\varphi_2=2\\pi/3$, $\\varphi_3=4\\pi/3$。\n-   在所有这些点上：\n    -   $\\theta = \\pi/2 \\implies \\sin^2\\theta = \\sin^2(\\pi/2) = 1$。\n    -   对于 $\\varphi \\in \\{0, 2\\pi/3, 4\\pi/3\\}$，我们有 $3\\varphi \\in \\{0, 2\\pi, 4\\pi\\}$。\n    -   在这三种情况下，$\\cos(3\\varphi) = \\cos(0) = \\cos(2\\pi) = \\cos(4\\pi) = 1$。\n\n-   现在，在这些点上计算 $\\Delta f = -(6\\sin^2\\theta + 5)\\cos(3\\varphi)$。\n-   $\\Delta f = -(6(1) + 5)(1) = -(11)(1) = -11$。\n-   对于所有三个极大值点，该值是相同的。\n    -   对于 $(\\theta, \\varphi) = (\\pi/2, 0)$：$\\Delta f = -(6\\sin^2(\\pi/2)+5)\\cos(0) = -(6+5)(1) = -11$。\n    -   对于 $(\\theta, \\varphi) = (\\pi/2, 2\\pi/3)$：$\\Delta f = -(6\\sin^2(\\pi/2)+5)\\cos(2\\pi) = -(6+5)(1) = -11$。\n    -   对于 $(\\theta, \\varphi) = (\\pi/2, 4\\pi/3)$：$\\Delta f = -(6\\sin^2(\\pi/2)+5)\\cos(4\\pi) = -(6+5)(1) = -11$。\n\n-   这个结果在极值原理的背景下是合理的。对于黎曼流形上的光滑函数 $f$，在其局部极大值点 $p$，必须有 $\\Delta f(p) \\le 0$。我的结果 $-11$ 与此一致。\n-   问题要求按顺序给出这三个值。所以是 $(-11, -11, -11)$。\n\n-   最终答案格式：`$$\\boxed{\\begin{pmatrix} -11  -11  -11 \\end{pmatrix}}$$`。\n\n我将最后再次检查整个过程。\n\n**第1部分：临界点**\n-   偏导数和临界点位置的求解是正确的。\n\n**分类：**\n-   在 $(\\pi/2, k\\pi/3)$ 处的Hessian矩阵 $H = \\begin{pmatrix} -2\\cos(3\\varphi)  0 \\\\ 0  -9\\cos(3\\varphi) \\end{pmatrix}$。\n-   如果 $\\cos(3\\varphi)=1$ (即 $\\varphi = 0, 2\\pi/3, 4\\pi/3$)，$H = \\begin{pmatrix} -2  0 \\\\ 0  -9 \\end{pmatrix}$。迹为 $-11<0$，行列式为 $18>0$。局部极大值。正确。\n-   如果 $\\cos(3\\varphi)=-1$ (即 $\\varphi = \\pi/3, \\pi, 5\\pi/3$)，$H = \\begin{pmatrix} 2  0 \\\\ 0  9 \\end{pmatrix}$。迹为 $11>0$，行列式为 $18>0$。局部极小值。正确。\n-   问题要求证明它有*多个孤立的局部极大值点*，已经证明了，有3个。正确。\n\n**第2部分：拉普拉斯算子**\n-   度量 $g_{\\theta\\theta}=1, g_{\\varphi\\varphi}=\\sin^2\\theta$。$\\sqrt{g}=\\sin\\theta$。\n-   $\\Delta f = \\frac{1}{\\sqrt{g}} \\frac{\\partial}{\\partial x^i}(\\sqrt{g} g^{ij} \\frac{\\partial f}{\\partial x^j})$ 的推导是标准的。\n-   得到的公式 $\\Delta f = \\frac{1}{\\sin\\theta}\\frac{\\partial}{\\partial\\theta}(\\sin\\theta \\frac{\\partial f}{\\partial\\theta}) + \\frac{1}{\\sin^2\\theta} \\frac{\\partial^2 f}{\\partial\\varphi^2}$ 是正确的。\n-   对 $f(\\theta,\\varphi) = \\sin^{2}\\theta\\,\\cos(3\\varphi)$ 进行计算，得到 $\\Delta f = (-6\\sin^2\\theta-5)\\cos(3\\varphi)$。计算是可靠的。\n\n**第3部分：求值**\n-   极大值点在 $(\\pi/2, 0), (\\pi/2, 2\\pi/3), (\\pi/2, 4\\pi/3)$。\n-   在这些点，$\\sin^2(\\pi/2)=1$。\n-   且 $\\cos(3 \\cdot 0)=1$, $\\cos(3 \\cdot 2\\pi/3)=\\cos(2\\pi)=1$, $\\cos(3 \\cdot 4\\pi/3)=\\cos(4\\pi)=1$。\n-   所以对于所有三个点，$\\Delta f = -(6(1) + 5)(1) = -11$。\n-   三个值为 $-11, -11, -11$。\n-   问题要求最终答案为使用 `pmatrix` 的单个行矩阵。\n-   最终答案 `\\begin{pmatrix} -11  -11  -11 \\end{pmatrix}` 似乎是正确的。\n\n所有步骤似乎都是完整和正确的。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n-11  -11  -11\n\\end{pmatrix}\n}\n$$", "id": "3057777"}, {"introduction": "数学定理的强大威力源于其严谨的假设。这个练习 [@problem_id:3057815] 旨在通过构造一个反例，来揭示极大值原理中区域“紧致性”这一拓扑假设的绝对必要性。你将在一个非紧致的区域（上半平面）上构建一个简单的调和函数，它在边界上为零，但在内部却无界，从而清晰地展示出当紧致性条件缺失时，极大值原理为何会失效。", "problem": "设 $(M,g)$ 是一个黎曼流形，并令 $\\Delta_{g}$ 表示拉普拉斯–贝尔特拉米算子。次调和函数的弱边界最大值原理指出，在一个具有紧闭包 $\\overline{\\Omega}$ 和非空边界 $\\partial \\Omega$ 的区域 $\\Omega \\subset M$ 上，如果 $u \\in C^{2}(\\Omega) \\cap C^{0}(\\overline{\\Omega})$ 在 $\\Omega$ 上满足 $\\Delta_{g} u \\ge 0$，那么 $u$ 在 $\\Omega$ 上的上确界由其边界值控制。在本问题中，您将通过一个例子来证明 $\\overline{\\Omega}$ 的紧性是此原理的必要条件。\n\n在黎曼流形 $(\\mathbb{R}^{2},g_{\\text{eucl}})$ 中进行研究，其中 $g_{\\text{eucl}}$ 是欧几里得度量，因此拉普拉斯–贝尔特拉米算子 $\\Delta_{g}$ 与经典拉普拉斯算子 $\\partial_{xx}+\\partial_{yy}$ 一致。考虑非紧区域 $\\Omega=\\{(x,y)\\in\\mathbb{R}^{2}: y>0\\}$，其边界为 $\\partial \\Omega=\\{(x,0):x\\in\\mathbb{R}\\}$，非紧闭包为 $\\overline{\\Omega}=\\{(x,y)\\in\\mathbb{R}^{2}: y\\ge 0\\}$。\n\n构造一个函数 $u:\\overline{\\Omega}\\to\\mathbb{R}$，使得：\n- $u \\in C^{2}(\\Omega)\\cap C^{0}(\\overline{\\Omega})$;\n- $\\Delta_{g} u \\ge 0$ 在 $\\Omega$ 上；\n- $u|_{\\partial \\Omega}=0$；且\n- $\\sup_{\\Omega} u > \\sup_{\\partial \\Omega} u$。\n\n您的构造必须从 $(\\mathbb{R}^{2},g_{\\text{eucl}})$ 上拉普拉斯–贝尔特拉米算子的基本定义以及 $\\overline{\\Omega}$ 的拓扑性质出发。通过计算 $\\Delta_{g} u$ 来显式地验证其次调和性，并论证 $\\overline{\\Omega}$ 不是紧集。最后，以闭式表达式的形式给出您选择的 $u(x,y)$。最终答案必须仅为 $u(x,y)$ 的表达式（无推导过程）。", "solution": "该问题要求构造一个函数，作为在具有非紧闭包的区域上次调和函数的弱边界最大值原理的一个反例。背景设定为黎曼流形 $(\\mathbb{R}^{2}, g_{\\text{eucl}})$，其中拉普拉斯-贝尔特拉米算子 $\\Delta_g$ 是标准拉普拉斯算子 $\\Delta = \\frac{\\partial^2}{\\partial x^2} + \\frac{\\partial^2}{\\partial y^2}$。指定的区域是开上半平面 $\\Omega=\\{(x,y)\\in\\mathbb{R}^{2}: y>0\\}$，其边界为 $\\partial \\Omega=\\{(x,0):x\\in\\mathbb{R}\\}$，闭包为 $\\overline{\\Omega}=\\{(x,y)\\in\\mathbb{R}^{2}: y\\ge 0\\}$。\n\n首先，需要证明该区域的闭包 $\\overline{\\Omega}$ 不是紧集。根据欧几里得空间 $\\mathbb{R}^n$ 的海涅-博雷尔定理，一个集合是紧集当且仅当它既是闭集又是有界集。根据定义，集合 $\\overline{\\Omega}$ 是闭集，因为它是 $\\Omega$ 的闭包。要判断其是否有界，我们必须检查是否存在一个有限半径 $R > 0$，使得 $\\overline{\\Omega}$ 包含在以原点为中心、半径为 $R$ 的开球 $B_R(0)$ 内。对于任意 $R > 0$，考虑点 $p = (0, R) \\in \\overline{\\Omega}$。该点的欧几里得范数为 $\\|p\\| = \\sqrt{0^2 + R^2} = R$。这个点位于球 $B_R(0)$ 的边界上，而不是其内部。更确切地说，点 $q = (0, R+1)$ 也在 $\\overline{\\Omega}$ 中，其范数 $\\|q\\| = R+1 > R$，因此它位于 $B_R(0)$ 之外。由于对于任意大的半径 $R$，我们总能在 $\\overline{\\Omega}$ 中找到不在 $B_R(0)$ 内的点，因此集合 $\\overline{\\Omega}$ 是无界的。由于 $\\overline{\\Omega}$ 不是有界集，所以它不可能是紧集。\n\n现在，我们构造一个满足给定条件的函数 $u: \\overline{\\Omega} \\to \\mathbb{R}$。我们提议函数 $u(x,y) = y$。我们必须验证这个函数满足所有四个指定标准。\n\n1.  **光滑性**：函数 $u(x,y) = y$ 是关于变量 $x$ 和 $y$ 的多项式。因此，它在整个 $\\mathbb{R}^2$ 上是无穷次可微的（$C^{\\infty}$）。所以，它属于 $C^{2}(\\Omega) \\cap C^{0}(\\overline{\\Omega})$ 类，符合要求。\n\n2.  **次调和性**：我们必须验证在 $\\Omega$ 上 $\\Delta_{g} u \\ge 0$。我们计算 $u$ 的拉普拉斯算子：\n    $$ \\frac{\\partial u}{\\partial x} = \\frac{\\partial}{\\partial x}(y) = 0 $$\n    $$ \\frac{\\partial u}{\\partial y} = \\frac{\\partial}{\\partial y}(y) = 1 $$\n    二阶偏导数为：\n    $$ \\frac{\\partial^2 u}{\\partial x^2} = \\frac{\\partial}{\\partial x}(0) = 0 $$\n    $$ \\frac{\\partial^2 u}{\\partial y^2} = \\frac{\\partial}{\\partial y}(1) = 0 $$\n    因此，拉普拉斯算子为：\n    $$ \\Delta_{g} u = \\frac{\\partial^2 u}{\\partial x^2} + \\frac{\\partial^2 u}{\\partial y^2} = 0 + 0 = 0 $$\n    由于在 $\\Omega$ 上处处有 $\\Delta_{g} u = 0$，因此条件 $\\Delta_{g} u \\ge 0$ 得以满足。事实上，函数 $u$ 在 $\\Omega$ 上是调和的。\n\n3.  **边界条件**：边界 $\\partial\\Omega$ 是实轴，其中 $y=0$。我们计算 $u$ 在此边界上的值：\n    $$ u|_{\\partial\\Omega} = u(x,0) = 0 \\quad \\forall x \\in \\mathbb{R} $$\n    函数在边界上恒等于零，符合要求。\n\n4.  **上确界条件**：我们必须证明 $\\sup_{\\Omega} u > \\sup_{\\partial \\Omega} u$。\n    首先，在边界上的上确界是：\n    $$ \\sup_{\\partial \\Omega} u = \\sup_{x \\in \\mathbb{R}} u(x,0) = \\sup_{x \\in \\mathbb{R}} 0 = 0 $$\n    其次，在区域内部的上确界是：\n    $$ \\sup_{\\Omega} u = \\sup_{\\{(x,y) \\in \\mathbb{R}^2 : y > 0\\}} u(x,y) = \\sup_{\\{y \\in \\mathbb{R} : y > 0 \\}} y = +\\infty $$\n    比较这两个值，我们有 $+\\infty > 0$。因此，条件 $\\sup_{\\Omega} u > \\sup_{\\partial \\Omega} u$ 得以满足。\n\n函数 $u(x,y)=y$ 成功地满足了所有指定标准。它是一个在 $\\Omega$ 上的次调和（具体来说是调和）函数，在 $\\overline{\\Omega}$ 上连续，在边界 $\\partial\\Omega$ 上为零，然而其在内部 $\\Omega$ 上的上确界严格大于其在边界上的上确界。这就提供了所要求的反例，并证明了区域闭包的紧性是弱最大值原理成立的必要条件。", "answer": "$$\n\\boxed{y}\n$$", "id": "3057815"}, {"introduction": "极大值原理不仅适用于拉普拉斯算子，还可以推广到更一般的二阶“椭圆”算子，但这需要小心处理算子的性质。这个练习 [@problem_id:3057780] 探讨了强极大值原理的一个精妙之处：算子的“一致椭圆性”条件。通过分析一个在圆柱面上定义的“退化”椭圆算子，你将构造一个反例，说明在缺少一致椭圆性的情况下，一个非恒定函数可能在区域内部达到其最大值，从而揭示了该条件在强极大值原理中的关键作用。", "problem": "设 $M = \\mathbb{S}^1 \\times (-1,1)$ 是一个柱面，其角坐标为 $t \\in \\mathbb{S}^1$，高程坐标为 $y \\in (-1,1)$。考虑作用在光滑函数 $u \\in C^{\\infty}(M)$ 上的二阶线性算子 $L$，其定义为\n$$\n(Lu)(t,y) = \\frac{\\partial^{2} u}{\\partial t^{2}}(t,y).\n$$\n该算子可以写成非散度形式 $(Lu) = a^{ij}(x)\\,\\partial_{ij}u$，其中 $a^{ij}$ 是一个对称 $(2,0)$-张量场的分量，在坐标基下为常数矩阵\n$$\nA = \\begin{pmatrix} 1  0 \\\\ 0  0 \\end{pmatrix},\n$$\n因此 $L$ 是退化椭圆的，但不是一致椭圆的。一致椭圆算子的强极值原理 (SMP) 粗略地表述为：如果 $L$ 在一个连通区域上是一致椭圆的，并且 $(Lu) \\ge 0$，那么一个非常数函数 $u$ 不可能在内点达到其最大值。\n\n仅使用椭圆性和强极值原理的基本定义（除了其陈述外，不使用任何现成的定理），完成以下任务：\n- 直接根据定义验证 $L$ 是退化椭圆的，但不是一致椭圆的。\n- 定义 $u \\colon M \\to \\mathbb{R}$ 为 $u(t,y) = 1 - y^{2}$，并证明 $u$ 是光滑、非常数的，在 $M$ 上达到一个（非严格的）内部极大值，同时处处满足 $(Lu) \\ge 0$。解释为什么这表明在没有一致椭圆性的情况下，强极值原理不成立。\n\n最后，设 $p \\in M$ 是 $u$ 达到其最大值的任意内点。计算 $(Lu)(p)$ 的值。你的最终答案必须是一个实数。不需要四舍五入。", "solution": "问题要求我们分析柱面 $M = \\mathbb{S}^1 \\times (-1,1)$ 上的一个退化椭圆算子 $L$，并证明由于缺乏一致椭圆性，强极值原理 (SMP) 不成立。$M$ 上的坐标是 $t \\in \\mathbb{S}^1$ 和 $y \\in (-1,1)$。算子由 $(Lu)(t,y) = \\frac{\\partial^{2} u}{\\partial t^{2}}(t,y)$ 给出。\n\n首先，我们直接根据定义来验证 $L$ 是退化椭圆的，但不是一致椭圆的。\n一个非散度形式的二阶线性算子 $Lu = a^{ij}(x)\\partial_{ij}u$ 由其主系数的对称矩阵 $A(x) = (a^{ij}(x))$ 来刻画。设 $\\xi = (\\xi_1, \\dots, \\xi_n)$ 是一个余向量。算子 $L$ 被称为：\n- 在区域 $\\Omega$ 上是退化椭圆的（或简称为弱椭圆的），如果对所有 $x \\in \\Omega$，矩阵 $A(x)$ 都是半正定的，即对所有余向量 $\\xi$，都有 $\\sum_{i,j} a^{ij}(x)\\xi_i\\xi_j \\ge 0$。\n- 在区域 $\\Omega$ 上是一致椭圆的，如果存在一个常数 $\\lambda > 0$，使得对所有 $x \\in \\Omega$ 和所有余向量 $\\xi$，都有 $\\sum_{i,j} a^{ij}(x)\\xi_i\\xi_j \\ge \\lambda|\\xi|^2$，其中 $|\\xi|^2 = \\sum_i \\xi_i^2$。\n\n在我们的例子中，流形 $M$ 是二维的，坐标为 $(x^1, x^2) = (t, y)$。算子 $L$ 由 $Lu = \\frac{\\partial^2 u}{\\partial t^2}$ 给出。这可以写成 $Lu = a^{ij}\\partial_{ij}u$，其常系数矩阵为\n$$\nA = (a^{ij}) = \\begin{pmatrix} 1  0 \\\\ 0  0 \\end{pmatrix}.\n$$\n与 $A$ 相关联的二次型，对于任意余向量 $\\xi = (\\xi_1, \\xi_2)$，为\n$$\n\\sum_{i,j=1}^{2} a^{ij}\\xi_i\\xi_j = a^{11}\\xi_1^2 + (a^{12}+a^{21})\\xi_1\\xi_2 + a^{22}\\xi_2^2 = 1 \\cdot \\xi_1^2 + 0 \\cdot \\xi_1\\xi_2 + 0 \\cdot \\xi_2^2 = \\xi_1^2.\n$$\n为了检查退化椭圆性，我们必须验证是否对所有 $\\xi = (\\xi_1, \\xi_2)$ 都有 $\\xi_1^2 \\ge 0$。这显然是真的，因为任何实数的平方都是非负的。因此，算子 $L$ 是退化椭圆的。\n\n为了检查一致椭圆性，我们必须确定是否存在一个常数 $\\lambda > 0$，使得对于所有 $\\xi = (\\xi_1, \\xi_2) \\neq (0,0)$，都有 $\\xi_1^2 \\ge \\lambda |\\xi|^2 = \\lambda(\\xi_1^2 + \\xi_2^2)$。这个不等式必须对所有非零余向量成立。让我们用余向量 $\\xi = (0, 1)$ 来检验。不等式变为 $0^2 \\ge \\lambda(0^2 + 1^2)$，简化为 $0 \\ge \\lambda$。这与 $\\lambda > 0$ 的要求相矛盾。因此，不存在这样的正常数 $\\lambda$，算子 $L$ 不是一致椭圆的。\n\n接下来，我们分析由 $u(t,y) = 1 - y^{2}$ 定义的函数 $u \\colon M \\to \\mathbb{R}$，并证明它可作为 $L$ 的强极值原理的一个反例。\n1.  光滑性：函数 $u(t,y) = 1 - y^2$ 是坐标 $y$ 的一个多项式。它在 $M$ 上的所有阶偏导数都存在且连续。例如，$\\frac{\\partial u}{\\partial y} = -2y$，$\\frac{\\partial^2 u}{\\partial y^2} = -2$，且对于 $k > 2$，有 $\\frac{\\partial^k u}{\\partial y^k} = 0$。所有关于 $t$ 的偏导数都为零。因此，$u$ 是一个光滑函数，即 $u \\in C^{\\infty}(M)$。\n2.  非常数性：函数 $u$ 依赖于 $y$。例如，$u(t,0) = 1 - 0^2 = 1$ 且 $u(t, 1/2) = 1 - (1/2)^2 = 3/4$。由于 $u$ 取不同的值，它是一个非常数函数。\n3.  内部极大值：$y$ 坐标的定义域是开区间 $(-1,1)$。函数 $u(t,y) = 1 - y^2$ 与 $t$ 无关。当 $y^2$ 取最小值时，它达到最大值。在 $(-1,1)$ 上，这发生在 $y=0$ 处。$u$ 的最大值为 $u(t,0) = 1$。这个最大值在由 $y=0$ 定义的圆上的每一点都达到，即集合 $\\mathbb{S}^1 \\times \\{0\\}$。因为 $0 \\in (-1,1)$，所以任何点 $p=(t,0)$ 都是定义域 $M = \\mathbb{S}^1 \\times (-1,1)$ 的一个内点。因此，非常数函数 $u$ 在一个内点（实际上，在一个内点子流形上）达到了它的最大值。\n4.  关于 $Lu$ 的条件：我们计算 $(Lu)(t,y)$：\n    $$\n    (Lu)(t,y) = \\frac{\\partial^{2} u}{\\partial t^{2}}(t,y) = \\frac{\\partial^{2}}{\\partial t^{2}}(1 - y^{2}).\n    $$\n    由于 $1-y^2$ 不依赖于 $t$，它关于 $t$ 的一阶和二阶偏导数都为零。\n    $$\n    \\frac{\\partial}{\\partial t}(1 - y^{2}) = 0 \\implies \\frac{\\partial^{2}}{\\partial t^{2}}(1 - y^{2}) = 0.\n    $$\n    所以，对所有 $(t,y) \\in M$，我们有 $(Lu)(t,y) = 0$。条件 $(Lu) \\ge 0$ 在 $M$ 上处处满足。\n\n总而言之，我们在一个连通区域 $M$ 上有一个非常数函数 $u$，它处处满足 $Lu \\ge 0$ 并在一个内点达到其最大值。这正是一致椭圆算子的强极值原理所禁止的情况。由于 $L$ 不是一致椭圆的，这个例子表明一致椭圆性是强极值原理成立的必要假设。对于这个退化椭圆算子，该原理不成立。\n\n最后，题目要求我们计算 $(Lu)(p)$ 的值，其中 $p \\in M$ 是 $u$ 达到其最大值的任意内点。如上所述，这些点的集合是 $\\mathbb{S}^1 \\times \\{0\\}$。设 $p = (t_0, 0)$ 是这样一个点。我们已经计算出，对于 $M$ 中的所有点 $(t,y)$，都有 $(Lu)(t,y) = 0$。因此，在点 $p$ 处，我们有 $(Lu)(p) = 0$。", "answer": "$$\n\\boxed{0}\n$$", "id": "3057780"}]}