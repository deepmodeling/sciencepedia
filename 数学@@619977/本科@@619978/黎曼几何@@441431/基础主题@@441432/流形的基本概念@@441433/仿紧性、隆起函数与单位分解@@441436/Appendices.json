{"hands_on_practices": [{"introduction": "“托函数”（bump function）是分析学中的基本工具，可视为特征函数的光滑模拟。本练习将演示构造它们的基本技巧：通过与一个“磨光器”（mollifier）进行卷积，来平滑一个非光滑的函数（如一个简单的“盒子”函数）。通过这个过程 [@problem_id:3061222]，你不仅将构造一个具体的托函数，还将获得关于其导数大小如何与过渡区域宽度相关的量化理解。", "problem": "设 $n\\in\\mathbb{N}$，并令 $B_{r}(0)\\subset\\mathbb{R}^{n}$ 表示以原点为中心、半径为 $r$ 的开欧几里得球。回顾欧几里得空间分析中的标准事实：一个标准的柔化子是函数 $\\rho\\in C_{c}^{\\infty}(\\mathbb{R}^{n})$，满足 $\\rho\\geq 0$，$\\operatorname{supp}(\\rho)\\subset B_{1}(0)$，且 $\\int_{\\mathbb{R}^{n}}\\rho(x)\\,dx=1$。对于 $\\varepsilon>0$，定义缩放的柔化子 $\\rho_{\\varepsilon}(x):=\\varepsilon^{-n}\\rho(x/\\varepsilon)$。对于局部可积函数 $f$，当积分有限时，卷积定义为 $(f*\\rho_{\\varepsilon})(x):=\\int_{\\mathbb{R}^{n}}f(x-y)\\rho_{\\varepsilon}(y)\\,dy$。\n\n仅使用这些定义，通过将一个合适的利普希茨（Lipschitz）截断函数与一个标准柔化子进行卷积，构造一个函数 $\\chi\\in C_{c}^{\\infty}(\\mathbb{R}^{n})$，其支集在 $B_{2}(0)$ 内，并且在 $B_{1}(0)$ 上满足 $\\chi\\equiv 1$。具体地：\n- 选择一个参数 $\\varepsilon\\in(0,\\tfrac{1}{2})$，并定义一个径向利普希茨函数 $f(x)=\\psi(|x|)$，使得对于 $0\\leq r\\leq 1+\\varepsilon$ 有 $\\psi(r)=1$，对于 $r\\geq 2-\\varepsilon$ 有 $\\psi(r)=0$，并且 $\\psi$ 在区间 $[1+\\varepsilon,\\,2-\\varepsilon]$ 上从 $1$ 单调过渡到 $0$。\n- 令 $\\chi:=f*\\rho_{\\varepsilon}$。\n\n证明 $\\chi\\in C_{c}^{\\infty}(\\mathbb{R}^{n})$，$\\operatorname{supp}(\\chi)\\subset B_{2}(0)$，并且 $\\chi\\equiv 1$ 在 $B_{1}(0)$ 上成立。然后，仅使用卷积的性质和 $f$ 的构造，估计其梯度的一致范数 $\\|\\nabla\\chi\\|_{\\infty}$。为了得到一个具体的界，取 $\\varepsilon=\\tfrac{1}{4}$，并给出从你的构造中得到的 $\\|\\nabla\\chi\\|_{\\infty}$ 上界的数值。无需四舍五入；将你的最终答案表示为一个精确数。", "solution": "该问题陈述是实分析中的一个有效练习，具体涉及通过卷积构造光滑隆起函数。所有定义都是标准的，该问题是适定且自洽的。我将开始解答。\n\n问题要求构造一个具有特定性质的函数 $\\chi\\in C_{c}^{\\infty}(\\mathbb{R}^{n})$，然后估计其梯度的一致范数。构造方法被指定为 $\\chi := f*\\rho_{\\varepsilon}$，其中 $f$ 是一个特定的利普希茨截断函数，$\\rho_{\\varepsilon}$ 是一个缩放的标准柔化子。\n\n让我们将解答分解为所需的几个部分。\n\n### 第1部分：利普希茨函数 $f$ 的构造\n\n给定 $f(x) = \\psi(|x|)$，其中 $\\psi: [0, \\infty) \\to \\mathbb{R}$ 是一个满足以下条件的函数：\n1.  对于 $r \\in [0, 1+\\varepsilon]$，$\\psi(r) = 1$\n2.  对于 $r \\geq 2-\\varepsilon$，$\\psi(r) = 0$\n3.  $\\psi$ 在区间 $[1+\\varepsilon, 2-\\varepsilon]$ 上是单调的。\n\n我们要求 $f$ 是利普希茨函数。如果 $\\psi$ 是利普希茨的，这一点就能得到保证。满足这些条件的最简单的 $\\psi$ 选择是在区间 $[1+\\varepsilon, 2-\\varepsilon]$ 上从 $1$ 线性过渡到 $0$ 的函数。\n\n让我们定义这个分段线性函数 $\\psi(r)$：\n$$\n\\psi(r) = \\begin{cases}\n1  & \\text{若 } 0 \\leq r \\leq 1+\\varepsilon \\\\\n\\frac{(2-\\varepsilon) - r}{(2-\\varepsilon) - (1+\\varepsilon)}  & \\text{若 } 1+\\varepsilon < r < 2-\\varepsilon \\\\\n0  & \\text{若 } r \\geq 2-\\varepsilon\n\\end{cases}\n$$\n线性部分可简化为，当 $r \\in (1+\\varepsilon, 2-\\varepsilon)$ 时，$\\psi(r) = \\frac{2-\\varepsilon-r}{1-2\\varepsilon}$。\n这个函数 $\\psi$ 是连续的，其导数（在存在的地方）为：\n$$\n\\psi'(r) = \\begin{cases}\n0  & \\text{若 } 0 \\leq r < 1+\\varepsilon \\text{ 或 } r > 2-\\varepsilon \\\\\n-\\frac{1}{1-2\\varepsilon}  & \\text{若 } 1+\\varepsilon < r < 2-\\varepsilon\n\\end{cases}\n$$\n该导数有界，所以 $\\psi$ 是一个利普希茨连续函数。函数 $f(x) = \\psi(|x|)$ 也因此在 $\\mathbb{R}^n$ 上是利普希茨连续的。$f$ 的支集包含在闭球 $\\overline{B_{2-\\varepsilon}(0)}$ 中，因为当 $|x| \\geq 2-\\varepsilon$ 时，$f(x)=0$。\n\n### 第2部分：$\\chi = f * \\rho_{\\varepsilon}$ 的性质\n\n现在我们来证明 $\\chi(x) = (f * \\rho_{\\varepsilon})(x) = \\int_{\\mathbb{R}^n} f(x-y) \\rho_{\\varepsilon}(y) dy$ 的所述性质。\n\n1.  **$\\chi \\in C_{c}^{\\infty}(\\mathbb{R}^{n})$ 且 $\\operatorname{supp}(\\chi) \\subset B_{2}(0)$：**\n    函数 $f$ 是具有紧支集的连续函数，因此属于 $L^1(\\mathbb{R}^n)$。根据定义，函数 $\\rho_{\\varepsilon}$ 属于 $C_{c}^{\\infty}(\\mathbb{R}^n)$。卷积理论的一个标准结果表明，一个 $L^1$ 函数与一个 $C^\\infty_c$ 函数的卷积是一个 $C^\\infty$ 函数。因此，$\\chi$ 是一个光滑函数。\n\n    为了确定 $\\chi$ 的支集，我们使用性质 $\\operatorname{supp}(g*h) \\subset \\overline{\\operatorname{supp}(g) + \\operatorname{supp}(h)}$。\n    -   $f$ 的支集包含在 $\\overline{B_{2-\\varepsilon}(0)}$ 中。\n    -   $\\rho_{\\varepsilon}$ 的支集由 $\\rho$ 的支集导出。给定 $\\operatorname{supp}(\\rho) \\subset B_1(0)$，如果 $y \\in \\operatorname{supp}(\\rho_\\varepsilon)$，则 $y/\\varepsilon \\in \\operatorname{supp}(\\rho)$，这意味着 $|y/\\varepsilon|<1$，所以 $|y|<\\varepsilon$。因此，$\\operatorname{supp}(\\rho_{\\varepsilon}) \\subset B_{\\varepsilon}(0)$。\n\n    我们来找出 $\\chi(x)$ 可以非零的集合。\n    $\\chi(x) \\neq 0$ 仅当存在一个 $y \\in \\mathbb{R}^n$ 使得 $f(x-y) \\neq 0$ 且 $\\rho_{\\varepsilon}(y) \\neq 0$。这意味着：\n    -   $y \\in \\operatorname{supp}(\\rho_{\\varepsilon}) \\implies |y| < \\varepsilon$。\n    -   $x-y \\in \\operatorname{supp}(f) \\implies |x-y| \\leq 2-\\varepsilon$。\n\n    使用三角不等式，我们可以界定 $|x|$：\n    $$|x| = |(x-y) + y| \\leq |x-y| + |y| < (2-\\varepsilon) + \\varepsilon = 2$$\n    所以，如果 $\\chi(x) \\neq 0$，则 $|x| < 2$。这意味着集合 $\\{x \\mid \\chi(x) \\neq 0\\}$ 是开球 $B_2(0)$ 的一个子集。$\\chi$ 的支集作为该集合的闭包，必须包含在 $B_2(0)$ 的闭包内，即 $\\operatorname{supp}(\\chi) \\subset \\overline{B_2(0)}$。\n\n    此外，如果 $|x| \\ge 2$，那么对于任何满足 $|y|<\\varepsilon$ 的 $y$，我们有 $|x-y| \\ge |x|-|y| > 2-\\varepsilon$。\n    由于当 $|z|\\ge 2-\\varepsilon$ 时 $f(z)=0$，因此对于 $\\rho_\\varepsilon$ 支集中的所有 $y$，$f(x-y)=0$。\n    因此，对于所有 $|x| \\ge 2$，$\\chi(x) = \\int f(x-y)\\rho_\\varepsilon(y)dy = 0$。\n    这表明 $\\chi$ 的支集是一个包含在开球 $B_2(0)$ 内的紧集。因此，$\\chi \\in C_c^{\\infty}(\\mathbb{R}^n)$ 且 $\\operatorname{supp}(\\chi) \\subset B_2(0)$。\n\n2.  **在 $B_1(0)$ 上 $\\chi \\equiv 1$：**\n    设 $x \\in B_1(0)$，所以 $|x|<1$。我们分析 $\\chi(x)$ 的值：\n    $$\\chi(x) = \\int_{\\mathbb{R}^n} f(x-y) \\rho_{\\varepsilon}(y) dy$$\n    积分仅在 $y \\in \\operatorname{supp}(\\rho_{\\varepsilon})$ 时非零，这意味着 $|y| < \\varepsilon$。对于这样的 $y$，我们评估 $f$ 的自变量：\n    $$|x-y| \\leq |x| + |y| < 1 + \\varepsilon$$\n    根据我们对 $f(z) = \\psi(|z|)$ 的构造，当 $|z| \\leq 1+\\varepsilon$ 时，$f(z) = 1$。由于 $|x-y| < 1+\\varepsilon$，因此对于所有对积分有贡献的 $y$，$f(x-y)=1$。\n    所以，对于 $x \\in B_1(0)$，$\\chi(x)$ 的表达式变为：\n    $$\\chi(x) = \\int_{\\operatorname{supp}(\\rho_{\\varepsilon})} (1) \\cdot \\rho_{\\varepsilon}(y) dy = \\int_{\\mathbb{R}^n} \\rho_{\\varepsilon}(y) dy$$\n    缩放的柔化子的总积分为 1：\n    $$ \\int_{\\mathbb{R}^n} \\rho_{\\varepsilon}(y) dy = \\int_{\\mathbb{R}^n} \\varepsilon^{-n} \\rho(y/\\varepsilon) dy $$\n    使用换元法 $u=y/\\varepsilon$，我们有 $y=\\varepsilon u$ 且 $dy = \\varepsilon^n du$。积分变为：\n    $$ \\int_{\\mathbb{R}^n} \\varepsilon^{-n} \\rho(u) \\varepsilon^n du = \\int_{\\mathbb{R}^n} \\rho(u) du = 1 $$\n    因此，对于任何 $x \\in B_1(0)$，$\\chi(x)=1$。\n\n### 第3部分：$\\|\\nabla\\chi\\|_{\\infty}$ 的估计\n\n我们需要找到 $\\chi$ 的梯度的一致范数的上界。卷积的一个关键性质是，在适当的条件下，微分可以传递给任一函数，即 $\\nabla(g*h) = (\\nabla g)*h = g*(\\nabla h)$。由于 $f$ 是利普希茨的但不一定是 $C^1$ 的，它的导数 $\\nabla f$ 作为 $L^\\infty(\\mathbb{R}^n)$ 中的弱导数存在。关系式 $\\nabla \\chi = (\\nabla f) * \\rho_{\\varepsilon}$ 在分布意义下成立，并且由于 $\\rho_\\varepsilon$ 是光滑的，其结果也是一个光滑函数。\n\n我们可以应用卷积的杨氏不等式（Young's inequality），该不等式表明对于 $1/p = 1/q + 1/r - 1$ 有 $\\|g*h\\|_p \\leq \\|g\\|_q \\|h\\|_r$。我们关心的是 $\\|\\nabla\\chi\\|_\\infty$，所以我们设 $p=\\infty$。指数的一个有效选择是 $q=\\infty$ 和 $r=1$。\n$$ \\|\\nabla\\chi\\|_{\\infty} = \\|(\\nabla f) * \\rho_{\\varepsilon}\\|_{\\infty} \\leq \\|\\nabla f\\|_{\\infty} \\|\\rho_{\\varepsilon}\\|_{1} $$\n让我们计算右侧的两个范数。\n-   $\\|\\rho_{\\varepsilon}\\|_1 = \\int_{\\mathbb{R}^n} |\\rho_{\\varepsilon}(y)| dy$。由于 $\\rho \\ge 0$，所以 $\\rho_{\\varepsilon} \\ge 0$，因此这等于 $\\int_{\\mathbb{R}^n} \\rho_{\\varepsilon}(y) dy = 1$。\n-   $\\|\\nabla f\\|_{\\infty}$ 是 $f(x)=\\psi(|x|)$ 的弱导数的 $L^\\infty$-范数。弱导数几乎处处与经典导数 $\\nabla f(x) = \\psi'(|x|) \\frac{x}{|x|}$ 一致。其大小为 $|\\nabla f(x)| = |\\psi'(|x|)|$。因此，$\\|\\nabla f\\|_{\\infty} = \\sup_{r>0} |\\psi'(r)|$。\n    根据我们选择的线性 $\\psi$，我们发现 $|\\psi'(r)|$ 要么是 $0$，要么是 $\\frac{1}{1-2\\varepsilon}$。\n    所以，$\\|\\nabla f\\|_{\\infty} = \\frac{1}{1-2\\varepsilon}$。\n\n将这些范数代入不等式，得到我们的估计：\n$$ \\|\\nabla\\chi\\|_{\\infty} \\leq \\frac{1}{1-2\\varepsilon} \\cdot 1 = \\frac{1}{1-2\\varepsilon} $$\n\n### 第4部分：$\\varepsilon=1/4$ 时的具体界\n\n问题要求当 $\\varepsilon = 1/4$ 时此上界的数值。条件 $\\varepsilon \\in (0, 1/2)$ 得到满足。\n将 $\\varepsilon = 1/4$ 代入我们导出的界中：\n$$ \\|\\nabla\\chi\\|_{\\infty} \\leq \\frac{1}{1 - 2(\\frac{1}{4})} = \\frac{1}{1 - \\frac{1}{2}} = \\frac{1}{\\frac{1}{2}} = 2 $$\n梯度的一致范数的上界为 $2$。", "answer": "$$\\boxed{2}$$", "id": "3061222"}, {"introduction": "托函数的真正威力在于它们被用来构造“单位分解”（partitions of unity）。单位分解使我们能够将流形上的一个全局对象分解为局部小块，然后再将局部解无缝地拼接在一起。本练习 [@problem_id:3061230] 通过指导你针对一个给定的开覆盖，在圆周 $S^1$ 上显式地构造一个单位分解，从而将这一抽象概念具体化。", "problem": "设 $S^1=\\{z\\in\\mathbb{C}:|z|=1\\}$ 为具有标准光滑流形结构的单位圆。回顾以下基本定义。$\\mathbb{R}$ 上的光滑隆起函数是一个具有紧支集的函数 $\\eta\\in C^{\\infty}(\\mathbb{R})$。从属于光滑流形 $M$ 的一个开覆盖 $\\{U_{\\alpha}\\}$ 的光滑单位分解是一个函数族 $\\{\\varphi_{\\alpha}\\}\\subset C^{\\infty}(M)$，满足对每个 $\\alpha$ 有 $0\\leq \\varphi_{\\alpha}\\leq 1$、$\\operatorname{supp}\\varphi_{\\alpha}\\subset U_{\\alpha}$，并且 $\\sum_{\\alpha}\\varphi_{\\alpha}\\equiv 1$，其中该和是局部有限的。\n\n考虑一对交叠的弧\n$$U_1=\\{z\\in S^1:\\operatorname{Re}(z)>-1/2\\},\\qquad U_2=\\{z\\in S^1:\\operatorname{Re}(z)<1/2\\}.$$\n它们构成了 $S^1$ 的一个开覆盖。\n\n由经典的单侧隆起函数 $\\beta:\\mathbb{R}\\to[0,\\infty)$ 定义标准的 $C^{\\infty}$ 阶跃函数 $s:\\mathbb{R}\\to[0,1]$，其中 $\\beta$ 由下式给出\n$$\\beta(t)=\\begin{cases}\\exp\\!\\big(-\\frac{1}{t}\\big),  t>0,\\\\[4pt]0,  t\\leq 0,\\end{cases}$$\n通过\n$$s(t)=\\frac{\\beta(t)}{\\beta(t)+\\beta(1-t)}.$$\n于是，当 $t\\leq 0$ 时 $s(t)=0$，当 $t\\geq 1$ 时 $s(t)=1$，当 $t\\in(0,1)$ 时 $0  s(t)  1$。\n\n利用此构造，定义一个函数 $\\chi(r)=s(2r+1/2)$，并进而在 $S^1$ 上定义一对函数 $\\varphi_1(z)=\\chi(\\operatorname{Re}(z))$ 和 $\\varphi_2(z)=1-\\chi(\\operatorname{Re}(z))$。证明 $\\{\\varphi_1, \\varphi_2\\}$ 是从属于开覆盖 $\\{U_1, U_2\\}$ 的光滑单位分解。然后，计算 $\\varphi_1(i)$ 的值。", "solution": "问题要求我们验证一对显式构造的函数 $\\varphi_1$ 和 $\\varphi_2$ 构成一个从属于给定单位圆 $S^1$ 开覆盖的单位分解，然后计算其中一个函数在特定点的值。我们将依次处理每个要求的性质。\n\n流形是单位圆 $S^1 = \\{z \\in \\mathbb{C} : |z|=1\\}$。开覆盖为 $\\{U_1, U_2\\}$，其中 $U_1=\\{z\\in S^1:\\operatorname{Re}(z)-1/2\\}$ 且 $U_2=\\{z\\in S^1:\\operatorname{Re}(z)1/2\\}$。单位分解函数通过 $\\varphi_1(z)=\\chi(\\operatorname{Re}(z))$ 和 $\\varphi_2(z)=1-\\chi(\\operatorname{Re}(z))$ 定义，其中 $\\chi(r) = s(2r+1/2)$ 且 $s(t)=\\frac{\\beta(t)}{\\beta(t)+\\beta(1-t)}$，而 $\\beta(t)$ 是标准的单侧隆起函数。\n\n1.  **$\\varphi_1$ 和 $\\varphi_2$ 的光滑性**\n\n    函数 $\\beta: \\mathbb{R} \\to [0, \\infty)$ 定义为当 $t0$ 时 $\\beta(t)=\\exp(-1/t)$，当 $t \\leq 0$ 时 $\\beta(t)=0$，它是一个光滑函数的标准例子，即 $\\beta \\in C^{\\infty}(\\mathbb{R})$。它在 $t=0$ 处的光滑性是分析学中的一个经典结果，可以证明其所有右导数都存在且等于 $0$。\n\n    函数 $s(t) = \\frac{\\beta(t)}{\\beta(t)+\\beta(1-t)}$ 被定义为涉及 $\\beta$ 的函数之商。分母 $\\beta(t)+\\beta(1-t)$ 恒为正。如果 $t \\in (0,1)$，则 $\\beta(t)$ 和 $\\beta(1-t)$ 均为正。如果 $t \\leq 0$，则 $\\beta(t)=0$ 且 $1-t \\geq 1  0$，因此 $\\beta(1-t)0$。如果 $t \\geq 1$，则 $1-t \\leq 0$，因此 $\\beta(1-t)=0$ 且 $\\beta(t)0$。由于分母永不为零且 $\\beta$ 是一个 $C^{\\infty}$ 函数，根据微分法则，$s(t)$ 也属于 $C^{\\infty}(\\mathbb{R})$。\n\n    函数 $\\chi(r) = s(2r+1/2)$ 是 $C^{\\infty}$ 函数 $s$ 和仿射函数（因此也是 $C^{\\infty}$ 函数）$r \\mapsto 2r+1/2$ 的复合。因此，$\\chi \\in C^{\\infty}(\\mathbb{R})$。\n\n    函数 $\\varphi_1(z) = \\chi(\\operatorname{Re}(z))$ 定义在光滑流形 $S^1$ 上。实部函数 $\\operatorname{Re}: S^1 \\to \\mathbb{R}$ 是一个光滑函数。在局部坐标中，例如使用角 $\\theta$ 使得 $z(\\theta) = \\cos(\\theta) + i\\sin(\\theta)$，我们有 $\\operatorname{Re}(z(\\theta)) = \\cos(\\theta)$，这是一个关于 $\\theta$ 的 $C^{\\infty}$ 函数。由于 $\\varphi_1$ 是光滑函数 $\\chi$ 和光滑函数 $\\operatorname{Re}$ 的复合，因此它是 $S^1$ 上的一个光滑函数，所以 $\\varphi_1 \\in C^{\\infty}(S^1)$。\n\n    最后，$\\varphi_2(z) = 1 - \\varphi_1(z)$。这是一个常数函数（它是光滑的）和一个光滑函数 $\\varphi_1$ 的差。因此，$\\varphi_2 \\in C^{\\infty}(S^1)$。\n\n2.  **函数的值域 ($0\\leq \\varphi_i\\leq 1$)**\n\n    根据定义，对所有 $t \\in \\mathbb{R}$ 都有 $\\beta(t) \\geq 0$。对于函数 $s(t) = \\frac{\\beta(t)}{\\beta(t)+\\beta(1-t)}$，分子和分母都是非负的。显然 $s(t) \\geq 0$。此外，由于 $\\beta(1-t) \\geq 0$，我们有 $\\beta(t) \\leq \\beta(t) + \\beta(1-t)$，这意味着 $s(t) \\leq 1$。因此，$s(t)$ 的值域包含在 $[0,1]$ 中。\n    \n    由于 $\\chi(r) = s(2r+1/2)$，其值域也包含在 $[0,1]$ 中。因此，对于任何 $z \\in S^1$，$\\varphi_1(z) = \\chi(\\operatorname{Re}(z))$ 必须满足 $0 \\leq \\varphi_1(z) \\leq 1$。\n    \n    对于 $\\varphi_2(z) = 1 - \\varphi_1(z)$，不等式 $0 \\leq \\varphi_1(z) \\leq 1$ 直接导出 $0 \\leq 1 - \\varphi_1(z) \\leq 1$，所以 $0 \\leq \\varphi_2(z) \\leq 1$。\n\n3.  **支集条件 ($\\operatorname{supp}\\varphi_1 \\subset U_1$ 且 $\\operatorname{supp}\\varphi_2 \\subset U_2$)**\n\n    一个函数的支集是该函数非零点集的闭包。\n    \n    对于 $\\varphi_1$：$\\varphi_1(z) = s(2\\operatorname{Re}(z)+1/2)$。我们知道 $s(t)=0$ 当且仅当 $t \\leq 0$。因此，$\\varphi_1(z)=0$ 当且仅当 $2\\operatorname{Re}(z)+1/2 \\leq 0$，化简得 $\\operatorname{Re}(z) \\leq -1/4$。\n    $\\varphi_1$ 非零的点集为 $\\{z \\in S^1 : \\varphi_1(z)  0\\} = \\{z \\in S^1 : \\operatorname{Re}(z)  -1/4\\}$。\n    $\\varphi_1$ 的支集是该集合的闭包：$\\operatorname{supp}\\varphi_1 = \\overline{\\{z \\in S^1 : \\operatorname{Re}(z)  -1/4\\}} = \\{z \\in S^1 : \\operatorname{Re}(z) \\geq -1/4\\}$。\n    我们必须检查这是否是 $U_1 = \\{z \\in S^1 : \\operatorname{Re}(z)  -1/2\\}$ 的子集。如果 $z \\in \\operatorname{supp}\\varphi_1$，则 $\\operatorname{Re}(z) \\geq -1/4$。因为 $-1/4  -1/2$，所以 $\\operatorname{Re}(z)  -1/2$，这意味着 $z \\in U_1$。因此，$\\operatorname{supp}\\varphi_1 \\subset U_1$。\n\n    对于 $\\varphi_2$：$\\varphi_2(z) = 1 - \\varphi_1(z)$。我们知道 $s(t)=1$ 当且仅当 $t \\geq 1$。所以 $\\varphi_1(z)=1$ 当且仅当 $2\\operatorname{Re}(z)+1/2 \\geq 1$，化简得 $\\operatorname{Re}(z) \\geq 1/4$。\n    这意味着 $\\varphi_2(z)=0$ 当且仅当 $\\operatorname{Re}(z) \\geq 1/4$。\n    $\\varphi_2$ 非零的点集为 $\\{z \\in S^1 : \\varphi_2(z)  0\\} = \\{z \\in S^1 : \\operatorname{Re}(z)  1/4\\}$。\n    $\\varphi_2$ 的支集是该集合的闭包：$\\operatorname{supp}\\varphi_2 = \\overline{\\{z \\in S^1 : \\operatorname{Re}(z)  1/4\\}} = \\{z \\in S^1 : \\operatorname{Re}(z) \\leq 1/4\\}$。\n    我们必须检查这是否是 $U_2 = \\{z \\in S^1 : \\operatorname{Re}(z)  1/2\\}$ 的子集。如果 $z \\in \\operatorname{supp}\\varphi_2$，则 $\\operatorname{Re}(z) \\leq 1/4$。因为 $1/4  1/2$，所以 $\\operatorname{Re}(z)  1/2$，这意味着 $z \\in U_2$。因此，$\\operatorname{supp}\\varphi_2 \\subset U_2$。\n\n4.  **求和性质 ($\\varphi_1+\\varphi_2\\equiv 1$)**\n\n    $\\varphi_2$ 的定义是 $\\varphi_2(z) = 1 - \\varphi_1(z)$。因此，对于任何 $z \\in S^1$，我们有\n    $$ \\varphi_1(z) + \\varphi_2(z) = \\varphi_1(z) + (1 - \\varphi_1(z)) = 1. $$\n    这对所有 $z \\in S^1$ 成立，所以 $\\varphi_1 + \\varphi_2 \\equiv 1$。\n    通过已确立的性质 1-4，我们证明了 $\\{\\varphi_1, \\varphi_2\\}$ 是一个从属于覆盖 $\\{U_1, U_2\\}$ 的单位分解。\n\n5.  **计算 $\\varphi_1(i)$**\n\n    我们被要求计算函数 $\\varphi_1(z)$ 在点 $z=i$ 的值。$i$ 的实部是 $\\operatorname{Re}(i) = 0$。\n    根据定义：\n    $$ \\varphi_1(i) = \\chi(\\operatorname{Re}(i)) = \\chi(0). $$\n    接下来，我们使用 $\\chi(r)$ 的定义：\n    $$ \\chi(0) = s(2(0)+1/2) = s(1/2). $$\n    最后，我们使用 $s(t)$ 的定义：\n    $$ s(1/2) = \\frac{\\beta(1/2)}{\\beta(1/2) + \\beta(1-1/2)} = \\frac{\\beta(1/2)}{\\beta(1/2) + \\beta(1/2)} = \\frac{\\beta(1/2)}{2\\beta(1/2)}. $$\n    由于 $1/2  0$，函数 $\\beta(1/2) = \\exp(-1/(1/2)) = \\exp(-2)$ 是一个正实数。我们可以从分子和分母中约去此项：\n    $$ s(1/2) = \\frac{1}{2}. $$\n    因此，显式值为 $\\varphi_1(i) = 1/2$。", "answer": "$$\\boxed{\\frac{1}{2}}$$", "id": "3061230"}, {"introduction": "最后的步骤是将这些构造从平坦的欧几里得空间推广到任意黎曼流形的普适情境中。这需要用黎曼距离函数代替欧氏距离，并利用流形的图卡结构来进行局部平滑。这个进阶练习 [@problem_id:3061236] 正是处理这种推广，它展示了如何在嵌套集合之间构建一个光滑截断函数，并揭示了流形的几何、集合间的分离程度以及函数导数界之间的深刻联系。", "problem": "设 $(M,g)$ 是一个光滑的仿紧黎曼流形，并设 $K \\subset U \\Subset V \\subset M$ 是一族嵌套集合，其中 $K$ 是紧集，$U$ 是相对紧集（其闭包 $\\overline{U}$ 是紧的且包含在 $V$ 中），$V$ 是开集。定义黎曼距离函数 $d_{g}(\\cdot,\\cdot)$ 并令\n$$\n\\delta \\coloneqq \\inf\\{ d_{g}(x,y) : x \\in K,\\ y \\in M\\setminus U \\} = d_{g}(K, M\\setminus U)  0.\n$$\n仅使用以下基本事实：仿紧流形容许从属于任何开覆盖的局部有限单位分解；在局部坐标卡中与标准磨光子的卷积可以光滑化函数，且其导数界与磨光半径成反比；黎曼距离函数是 $1$-利普希茨的。请完成以下任务：\n\n1. 构造一个函数 $\\phi \\in C^{\\infty}_{c}(V)$，使得在 $K$ 上 $\\phi \\equiv 1$ 且 $\\operatorname{supp}\\phi \\subset V$。\n\n2. 对于一个固定的非增截断函数 $\\vartheta \\in C^{\\infty}(\\mathbb{R})$，它满足：当 $t \\leq \\frac{1}{3}$ 时 $\\vartheta(t) \\equiv 1$，当 $t \\geq \\frac{2}{3}$ 时 $\\vartheta(t) \\equiv 0$，且对所有 $m \\in \\mathbb{N}$ 其导数有界 $\\sup_{t \\in \\mathbb{R}} |\\vartheta^{(m)}(t)|  \\infty$。请导出协变导数 $|\\nabla^{k}\\phi|$ 关于 $\\delta$ 的界，并解释构造过程中出现的 $\\delta$ 标度关系。\n\n你的最终任务是一个计算：确定控制第 $k$ 阶协变导数界的、显式依赖于 $\\delta$ 的因子，\n$$\n\\sup_{x \\in M} |\\nabla^{k}\\phi(x)| \\leq C_{k}\\,\\big(\\text{explicit }\\delta\\text{-dependent factor}\\big),\n$$\n其中 $C_{k}$ 是一个常数，仅依赖于 $k$、固定的函数 $\\vartheta$ 以及在 $\\overline{V}$ 上的坐标卡和度量的均匀界，而不依赖于 $\\delta$、$K$、$U$ 或 $V$（除了 $\\delta$ 本身的出现）。请将这个显式依赖于 $\\delta$ 的因子以单个闭式解析表达式的形式给出。不需要数值取整，也不涉及单位。", "solution": "所述问题在数学上是适定的，并且在黎曼几何的既定框架内有其科学依据。它要求构造一个光滑隆起函数并分析其导数界，这是几何分析中的一个标准且基本的任务。所有给定的术语和前提都是有效的。因此，我们可以着手求解。\n\n总体策略是首先使用黎曼距离构造一个合适的连续但非光滑的函数。然后，利用问题陈述中描述的原理对该函数进行正则化（光滑化）。最后，将此光滑函数与给定的截断函数 $\\vartheta$ 复合，得到所需的函数 $\\phi$。$\\phi$ 的协变导数的界将使用链式法则和正则化过程已知的标度性质来推导。\n\n**第1部分：函数 $\\phi$ 的构造**\n\n设 $h: M \\to \\mathbb{R}$ 是到紧集 $K$ 的黎曼距离函数，定义为 $h(x) \\coloneqq d_g(x, K) = \\inf_{y \\in K} d_g(x, y)$。该函数在 $M$ 上是连续的，并且是 $1$-利普希茨的，即对所有 $x_1, x_2 \\in M$ 都有 $|h(x_1) - h(x_2)| \\le d_g(x_1, x_2)$。然而，一般情况下 $h$ 不是光滑的。\n\n为了获得一个光滑函数，我们必须对 $h$ 进行正则化。问题陈述允许使用局部坐标卡中的磨光（通过单位分解拼接在一起）。让我们将这样一个光滑半径为 $\\varepsilon  0$ 的正则化过程的结果记为 $h_\\varepsilon$。这个过程产生一个光滑函数 $h_\\varepsilon \\in C^\\infty(M)$，它具有以下从给定前提中推导出的标准性质：\n1.  **一致逼近：** 存在一个常数 $A_0$（独立于 $h$ 和 $\\varepsilon$），使得对所有 $x \\in M$ 都有 $|h_\\varepsilon(x) - h(x)| \\le A_0 \\varepsilon$。通过对磨光子进行适当的归一化，我们可以确保 $A_0=1$，因此 $|h_\\varepsilon(x) - h(x)| \\le \\varepsilon$。\n2.  **导数界：** 对每个整数 $p \\ge 1$，存在一个常数 $B_p  0$，使得第 $p$ 阶协变导数的范数有界 $|\\nabla^p h_\\varepsilon|_g \\le B_p \\varepsilon^{-(p-1)}$。这些常数 $B_p$ 依赖于磨光子的选择以及度量及其导数（即克里斯托费尔符号及其导数）在紧集 $\\overline{V}$ 上的均匀界，但它们独立于 $\\varepsilon$ 和 $\\delta$。对于 $p=1$，界为 $|\\nabla h_\\varepsilon|_g \\le B_1$，可以证明该界至多为 $h$ 的利普希茨常数，因此 $B_1 \\le 1$。\n\n给定固定的非增函数 $\\vartheta \\in C^\\infty(\\mathbb{R})$，满足当 $t \\le \\frac{1}{3}$ 时 $\\vartheta(t) = 1$，当 $t \\ge \\frac{2}{3}$ 时 $\\vartheta(t) = 0$。我们还给定 $\\delta = d_g(K, M \\setminus U)  0$。我们通过选择一个依赖于 $\\delta$ 的合适的光滑半径 $\\varepsilon$ 来构造函数 $\\phi$。我们设定光滑半径为 $\\varepsilon = \\frac{\\delta}{3}$。\n\n现在，按如下方式定义函数 $\\phi \\in C^\\infty(M)$：\n$$\n\\phi(x) \\coloneqq \\vartheta\\left( \\frac{h_{\\delta/3}(x)}{\\delta} \\right).\n$$\n该函数是光滑的，因为它是光滑函数的复合。我们验证其性质：\n\n1.  **在 $K$ 上的取值：** 对任意 $x \\in K$，我们有 $h(x) = d_g(x, K) = 0$。根据正则化的逼近性质，有 $|h_{\\delta/3}(x) - h(x)| = |h_{\\delta/3}(x)| \\le \\frac{\\delta}{3}$。由于 $h$ 是非负的，可以构造正则化过程使得 $h_{\\delta/3}$ 也是非负的。因此，$0 \\le h_{\\delta/3}(x) \\le \\frac{\\delta}{3}$。$\\vartheta$ 的自变量是 $\\frac{h_{\\delta/3}(x)}{\\delta}$，满足 $0 \\le \\frac{h_{\\delta/3}(x)}{\\delta} \\le \\frac{1}{3}$。根据 $\\vartheta$ 的定义，这意味着对所有 $x \\in K$ 都有 $\\phi(x) = 1$。\n\n2.  **支撑集：** $\\phi$ 的支撑集，记为 $\\operatorname{supp}(\\phi)$，是集合 $\\{x \\in M \\mid \\phi(x) \\neq 0\\}$ 的闭包。函数 $\\phi(x)$ 仅当 $\\vartheta$ 的自变量小于 $\\frac{2}{3}$ 时才可能非零。这意味着 $\\frac{h_{\\delta/3}(x)}{\\delta}  \\frac{2}{3}$，即 $h_{\\delta/3}(x)  \\frac{2\\delta}{3}$。\n    再次使用逼近性质，如果 $h_{\\delta/3}(x)  \\frac{2\\delta}{3}$，那么 $h(x) \\le h_{\\delta/3}(x) + \\frac{\\delta}{3}  \\frac{2\\delta}{3} + \\frac{\\delta}{3} = \\delta$。\n    所以，$\\operatorname{supp}(\\phi) \\subseteq \\{x \\in M \\mid h(x) \\le \\delta\\} = \\{x \\in M \\mid d_g(x, K) \\le \\delta\\}$。\n    根据 $\\delta = \\inf\\{ d_g(x,y) : x \\in K,\\ y \\in M\\setminus U \\}$ 的定义，任何满足 $d_g(z, K)  \\delta$ 的点 $z$ 必须位于 $U$ 中。边界情况 $d_g(z, K) = \\delta$ 可能位于 $M \\setminus U$ 中。然而，我们对支撑集的条件 $h(x) \\le \\frac{2\\delta}{3} + \\frac{\\delta}{3} = \\delta$ 来自于一个严格不等式，因此对于 $\\phi$ 可能非零的点，我们有 $h(x)  \\delta$。因此，$\\{x \\mid \\phi(x) \\ne 0\\} \\subset \\{x \\mid h(x)  \\delta\\} \\subset U$。\n    由于 $\\operatorname{supp}(\\phi)$ 是这个集合的闭包，并且 $U \\Subset V$（意味着 $\\overline{U}$ 是紧的且 $\\overline{U} \\subset V$），因此 $\\operatorname{supp}(\\phi) \\subseteq \\overline{U} \\subset V$。由于 $\\overline{U}$ 是紧的，$\\operatorname{supp}(\\phi)$ 也是紧的。因此，$\\phi \\in C^\\infty_c(V)$。\n\n**第2部分：协变导数的界**\n\n我们现在推导 $|\\nabla^k \\phi|_g$ 的界。设 $F(x) \\coloneqq \\frac{h_{\\delta/3}(x)}{\\delta}$。那么 $\\phi(x) = \\vartheta(F(x))$。$\\phi$ 的第 $k$ 阶协变导数可以使用广义链式法则（Faà di Bruno 公式）计算，该公式将 $\\nabla^k \\phi$ 表示为包含 $\\vartheta$ 的导数和 $F$ 的协变导数的项之和。关键步骤是确定 $|\\nabla^p F|_g$ 相对于 $\\delta$ 的标度关系。\n\n对任意整数 $p \\ge 1$，我们有：\n$$\n\\nabla^p F(x) = \\nabla^p \\left( \\frac{h_{\\delta/3}(x)}{\\delta} \\right) = \\frac{1}{\\delta} \\nabla^p h_{\\delta/3}(x).\n$$\n使用正则化函数导数的假设界，并取 $\\varepsilon = \\frac{\\delta}{3}$，我们发现：\n$$\n|\\nabla^p F(x)|_g = \\frac{1}{\\delta} |\\nabla^p h_{\\delta/3}(x)|_g \\le \\frac{1}{\\delta} \\left( B_p \\left(\\frac{\\delta}{3}\\right)^{-(p-1)} \\right) = \\frac{B_p}{\\delta} \\frac{3^{p-1}}{\\delta^{p-1}} = (B_p 3^{p-1}) \\delta^{-p}.\n$$\n设 $C'_p = B_p 3^{p-1}$。这个常数依赖于 $p$、流形在 $\\overline{V}$ 上的几何性质以及磨光子，但与 $\\delta$ 无关。因此，$|\\nabla^p F|_g \\le C'_p \\delta^{-p}$。\n\n$\\nabla^k (\\vartheta \\circ F)$ 的通用公式是多线性项之和。每个项的形式大致为 $\\vartheta^{(m)}(F) \\cdot \\text{TensorProduct}(\\nabla^{p_1} F, \\dots, \\nabla^{p_m} F)$，其中微分阶数之和为 $k$。这样一个项的范数由一个常数乘以 $\\sup|\\vartheta^{(m)}| \\cdot \\prod_{j=1}^m |\\nabla^{p_j} F|_g$ 为界。\n\n该项的界的 $\\delta$ 依赖关系由每个因子的 $\\delta$ 依赖关系的乘积给出：\n$$\n\\prod_{j=1}^m (\\text{factor for } |\\nabla^{p_j} F|_g) = \\prod_{j=1}^m \\delta^{-p_j} = \\delta^{-\\sum_{j=1}^m p_j}.\n$$\n由于 Faà di Bruno 公式的结构，每一项中导数的阶数之和总是 $k$。因此，$\\nabla^k \\phi$ 展开式中的每一项的范数，其 $\\delta$ 标度关系均为 $\\delta^{-k}$。\n\n例如，考虑展开式中的两个示例项：\n1.  包含 $\\nabla^k F$ 的项：即 $(\\vartheta' \\circ F) \\nabla^k F$。其范数有界 $\\sup|\\vartheta'| |\\nabla^k F|_g \\le \\sup|\\vartheta'| C'_k \\delta^{-k}$。\n2.  仅包含 $F$ 的一阶导数的项：即 $(\\vartheta^{(k)} \\circ F) (\\nabla F)^{\\otimes k}$。其范数有界 $\\sup|\\vartheta^{(k)}| |\\nabla F|_g^k \\le \\sup|\\vartheta^{(k)}| (C'_1 \\delta^{-1})^k = (\\sup|\\vartheta^{(k)}| (C'_1)^k) \\delta^{-k}$。\n\n由于构成 $\\nabla^k\\phi$ 的每一项的范数都由一个常数乘以 $\\delta^{-k}$ 为界，它们的和 $|\\nabla^k\\phi|_g$ 也由一个常数乘以 $\\delta^{-k}$ 为界。\n$$\n\\sup_{x \\in M} |\\nabla^{k}\\phi(x)|_g \\le C_{k} \\delta^{-k}.\n$$\n常数 $C_k$ 包含了 $\\vartheta$ 的导数界、正则化常数 $B_p$、来自链式法则的组合因子以及来自流形的几何界，这些都不依赖于 $\\delta$。\n\n因此，控制此界的显式依赖于 $\\delta$ 的因子是 $\\delta^{-k}$。", "answer": "$$\\boxed{\\delta^{-k}}$$", "id": "3061236"}]}