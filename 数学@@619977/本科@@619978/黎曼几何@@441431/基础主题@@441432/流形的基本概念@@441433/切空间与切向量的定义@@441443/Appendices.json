{"hands_on_practices": [{"introduction": "我们从最熟悉的欧几里得空间 $\\mathbb{R}^n$ 入手，来严格化切向量的概念。这个练习将引导你证明，将切向量定义为一个作用在函数上的“导子”这一抽象代数定义，能够自然地恢复我们对于“$\\mathbb{R}^n$ 中任意一点的切空间就是 $\\mathbb{R}^n$ 自身的一个副本”这一直观理解。通过这个实践，你将为理解切空间的代数方法打下坚实的基础。[@problem_id:3067491]", "problem": "设 $M = \\mathbb{R}^{n}$ 具有其标准光滑结构和标准全局坐标函数 $x^{1},\\dots,x^{n}$。固定一点 $p \\in \\mathbb{R}^{n}$。在点 $p$ 的一个切向量被定义为在点 $p$ 的一个导子，即一个线性映射 $D : C^{\\infty}(\\mathbb{R}^{n}) \\to \\mathbb{R}$，它对所有 $f,g \\in C^{\\infty}(\\mathbb{R}^{n})$ 都满足莱布尼茨法则 $D(fg) = f(p)\\,D(g) + g(p)\\,D(f)$。\n\n仅使用此定义以及关于光滑函数的标准事实（例如，一阶泰勒展开和微积分基本定理），完成以下任务：\n\n1. 证明对于每个 $i \\in \\{1,\\dots,n\\}$，由 $\\left.\\frac{\\partial}{\\partial x^{i}}\\right|_{p}(f) = \\frac{\\partial f}{\\partial x^{i}}(p)$ 定义的映射 $\\left.\\frac{\\partial}{\\partial x^{i}}\\right|_{p} : C^{\\infty}(\\mathbb{R}^{n}) \\to \\mathbb{R}$ 是在点 $p$ 的一个导子。\n\n2. 证明在点 $p$ 的任意导子 $D$ 都由 $n$ 个实数 $D(x^{1}),\\dots,D(x^{n})$ 唯一确定。\n\n3. 对于任意 $f \\in C^{\\infty}(\\mathbb{R}^{n})$，计算一个用 $D(x^{i})$ 和 $\\frac{\\partial f}{\\partial x^{i}}(p)$ 表示 $D(f)$ 的公式。\n\n4. 结论是，$T_{p}\\mathbb{R}^{n}$ 是一个 $n$ 维实向量空间，其基为 $\\left\\{\\left.\\frac{\\partial}{\\partial x^{i}}\\right|_{p}\\right\\}_{i=1}^{n}$，并且通过将向量 $(v^{1},\\dots,v^{n}) \\in \\mathbb{R}^{n}$ 映到在点 $p$ 的相关联的导子，它可以自然地与 $\\mathbb{R}^{n}$ 等同。\n\n最后，写出与任意向量 $v = (v^{1},\\dots,v^{n}) \\in \\mathbb{R}^{n}$ 对应的导子 $D_{v}$ 的显式闭式表达式，该表达式使用在点 $p$ 的标准坐标偏导数算子表示。最终答案必须是单一的符号表达式。无需四舍五入。", "solution": "问题陈述经验证是科学上合理的、适定的、客观的且内部一致的。它代表了微分几何中关于切向量代数定义的一个标准且基础的练习。所有的定义和前提都是标准的且数学上是合理的。因此，我们可以继续进行解答。\n\n问题分为四个部分，我们将按顺序解决它们，以得出最终结论。\n\n1. 证明对于每个 $i \\in \\{1,\\dots,n\\}$，由 $\\left.\\frac{\\partial}{\\partial x^{i}}\\right|_{p}(f) = \\frac{\\partial f}{\\partial x^{i}}(p)$ 定义的映射 $\\left.\\frac{\\partial}{\\partial x^{i}}\\right|_{p} : C^{\\infty}(\\mathbb{R}^{n}) \\to \\mathbb{R}$ 是在点 $p$ 的一个导子。\n\n在点 $p$ 的一个导子必须满足两个性质：它必须是从 $C^{\\infty}(\\mathbb{R}^{n})$ 到 $\\mathbb{R}$ 的线性映射，并且必须满足莱布尼茨法则。让我们为算子 $D_{i} = \\left.\\frac{\\partial}{\\partial x^{i}}\\right|_{p}$ 验证这些性质。\n\n首先，我们验证线性性。设 $f, g \\in C^{\\infty}(\\mathbb{R}^{n})$ 且 $a, b \\in \\mathbb{R}$。偏导数算子 $\\frac{\\partial}{\\partial x^{i}}$ 是线性的。因此，\n$$D_{i}(af+bg) = \\frac{\\partial(af+bg)}{\\partial x^{i}}(p) = \\left(a\\frac{\\partial f}{\\partial x^{i}} + b\\frac{\\partial g}{\\partial x^{i}}\\right)(p) = a\\frac{\\partial f}{\\partial x^{i}}(p) + b\\frac{\\partial g}{\\partial x^{i}}(p) = aD_{i}(f) + bD_{i}(g)。$$\n因此，$D_{i}$ 是一个线性映射。\n\n其次，我们验证莱布尼茨法则。对于 $f, g \\in C^{\\infty}(\\mathbb{R}^{n})$，标准的偏微分乘法法则表明 $\\frac{\\partial(fg)}{\\partial x^{i}} = \\frac{\\partial f}{\\partial x^{i}}g + f\\frac{\\partial g}{\\partial x^{i}}$。在点 $p$ 处求值得到：\n$$D_{i}(fg) = \\frac{\\partial(fg)}{\\partial x^{i}}(p) = \\frac{\\partial f}{\\partial x^{i}}(p)g(p) + f(p)\\frac{\\partial g}{\\partial x^{i}}(p) = g(p)D_{i}(f) + f(p)D_{i}(g)。$$\n这正是在问题中定义的莱布尼茨法则，其中函数在点 $p$ 处求值。两个条件都满足，因此对于每个 $i \\in \\{1,\\dots,n\\}$，$\\left.\\frac{\\partial}{\\partial x^{i}}\\right|_{p}$ 是在点 $p$ 的一个导子。\n\n2. 证明在点 $p$ 的任意导子 $D$ 都由 $n$ 个实数 $D(x^{1}),\\dots,D(x^{n})$ 唯一确定。\n\n3. 对于任意 $f \\in C^{\\infty}(\\mathbb{R}^{n})$，计算一个用 $D(x^{i})$ 和 $\\frac{\\partial f}{\\partial x^{i}}(p)$ 表示 $D(f)$ 的公式。\n\n我们将一起解决第2部分和第3部分，因为在第3部分中推导出的公式将作为第2部分的证明。设 $D$ 是在点 $p$ 的一个任意导子。\n\n首先，我们建立任何导子的一个必要性质。设 $c \\in \\mathbb{R}$ 是一个常数，并令 $c(x)$ 表示值为 $c$ 的常数函数。函数 $1(x) = 1$ 满足 $1(x) = 1(x) \\cdot 1(x)$。对函数 $1$ 应用莱布尼茨法则：\n$$D(1) = D(1 \\cdot 1) = 1(p)D(1) + 1(p)D(1) = 1 \\cdot D(1) + 1 \\cdot D(1) = 2D(1)。$$\n这意味着 $D(1) = 0$。根据线性性，对于任何常数函数 $c(x)=c$，我们有 $D(c) = D(c \\cdot 1) = c D(1) = c \\cdot 0 = 0$。因此，任何导子都将任何常数函数映射到零。\n\n现在，设 $f \\in C^{\\infty}(\\mathbb{R}^{n})$ 是一个任意光滑函数。使用微积分基本定理，我们可以对任意 $x \\in \\mathbb{R}^n$ 写出：\n$$f(x) - f(p) = \\int_{0}^{1} \\frac{d}{dt} f(p + t(x-p)) \\, dt。$$\n根据多元函数的链式法则，积分内的导数是：\n$$\\frac{d}{dt} f(p + t(x-p)) = \\sum_{i=1}^{n} \\frac{\\partial f}{\\partial x^{i}}(p + t(x-p)) (x^{i} - p^{i})。$$\n将其代回，我们得到：\n$$f(x) - f(p) = \\int_{0}^{1} \\sum_{i=1}^{n} \\frac{\\partial f}{\\partial x^{i}}(p + t(x-p)) (x^{i} - p^{i}) \\, dt = \\sum_{i=1}^{n} (x^{i} - p^{i}) \\int_{0}^{1} \\frac{\\partial f}{\\partial x^{i}}(p + t(x-p)) \\, dt。$$\n让我们为 $i=1,\\dots,n$ 定义函数 $g_{i}(x)$ 如下：\n$$g_{i}(x) = \\int_{0}^{1} \\frac{\\partial f}{\\partial x^{i}}(p + t(x-p)) \\, dt。$$\n由于 $f$ 是光滑的，其偏导数也是光滑的。一个光滑函数关于一个参数的积分也是光滑的（这是高等微积分中的一个标准结果）。因此，每个 $g_{i}$ 都是一个光滑函数，即 $g_{i} \\in C^{\\infty}(\\mathbb{R}^{n})$。$f$ 的表达式可以写成一个函数：\n$$f(x) = f(p) + \\sum_{i=1}^{n} (x^{i} - p^{i}) g_{i}(x)。$$\n让我们在 $x=p$ 处计算 $g_i(x)$ 的值：\n$$g_{i}(p) = \\int_{0}^{1} \\frac{\\partial f}{\\partial x^{i}}(p) \\, dt = \\frac{\\partial f}{\\partial x^{i}}(p) \\int_{0}^{1} dt = \\frac{\\partial f}{\\partial x^{i}}(p)。$$\n现在我们将导子 $D$ 应用于函数 $f$。我们将 $f(x)$ 的表达式解释为函数的等式。设 $c_{f(p)}$ 是值为 $f(p)$ 的常数函数，设 $c_{p^i}$ 是值为 $p^i$ 的常数函数。函数 $x^i$ 是第 $i$ 个坐标函数。\n$$f = c_{f(p)} + \\sum_{i=1}^{n} (x^{i} - c_{p^i}) g_{i}。$$\n使用 $D$ 的线性性：\n$$D(f) = D(c_{f(p)}) + \\sum_{i=1}^{n} D((x^{i} - c_{p^i}) g_{i})。$$\n正如我们所证明的，$D(c_{f(p)}) = 0$。对和中的每一项应用莱布尼茨法则：\n$$D((x^{i} - c_{p^i}) g_{i}) = g_{i}(p) D(x^{i} - c_{p^i}) + (p^{i} - p^{i}) D(g_{i})。$$\n这里，我们使用了函数 $x^i - c_{p^i}$ 在点 $p$ 处的值为 $p^i - p^i = 0$ 这一事实。第二项消失：\n$$D((x^{i} - c_{p^i}) g_{i}) = g_{i}(p) D(x^{i} - c_{p^i}) + 0 \\cdot D(g_{i}) = g_{i}(p) D(x^{i} - c_{p^i})。$$\n再次使用线性性，$D(x^{i} - c_{p^i}) = D(x^i) - D(c_{p^i}) = D(x^i) - 0 = D(x^i)$。代入这个以及 $g_i(p)$ 的表达式：\n$$D((x^{i} - c_{p^i}) g_{i}) = \\frac{\\partial f}{\\partial x^{i}}(p) D(x^{i})。$$\n对所有 $i$ 求和，我们得到 $D(f)$ 的最终公式：\n$$D(f) = \\sum_{i=1}^{n} \\frac{\\partial f}{\\partial x^{i}}(p) D(x^{i})。$$\n这就是第3部分所要求的公式。这个公式将 $D$ 在任意光滑函数 $f$ 上的作用表示为 $f$ 在点 $p$ 的偏导数的线性组合，其系数是 $n$ 个实数 $D(x^1), \\dots, D(x^n)$。因此，如果这 $n$ 个数已知，那么 $D$ 对任何 $f \\in C^{\\infty}(\\mathbb{R}^n)$ 的作用就完全确定了。这就证明了第2部分的论断。\n\n4. 结论是，$T_{p}\\mathbb{R}^{n}$ 是一个 $n$ 维实向量空间，其基为 $\\left\\{\\left.\\frac{\\partial}{\\partial x^{i}}\\right|_{p}\\right\\}_{i=1}^{n}$，并且通过将向量 $(v^{1},\\dots,v^{n}) \\in \\mathbb{R}^{n}$ 映到在点 $p$ 的相关联的导子，它可以自然地与 $\\mathbb{R}^{n}$ 等同。\n\n设 $v^{i} = D(x^{i})$，其中 $i=1,\\dots,n$。这些是 $n$ 个实数。第3部分的公式可以改写为表示算子 $D$ 本身：\n$$D(\\cdot) = \\sum_{i=1}^{n} v^{i} \\frac{\\partial (\\cdot)}{\\partial x^{i}}(p) \\implies D = \\sum_{i=1}^{n} v^{i} \\left.\\frac{\\partial}{\\partial x^{i}}\\right|_{p}。$$\n这表明任何导子 $D \\in T_{p}\\mathbb{R}^{n}$ 都可以写成算子 $\\left\\{\\left.\\frac{\\partial}{\\partial x^{i}}\\right|_{p}\\right\\}_{i=1}^{n}$ 的线性组合。这意味着这组 $n$ 个导子张成了向量空间 $T_{p}\\mathbb{R}^{n}$。\n\n为了证明它是一组基，我们必须证明线性无关性。假设存在标量 $c^{1},\\dots,c^{n} \\in \\mathbb{R}$ 使得：\n$$\\sum_{i=1}^{n} c^{i} \\left.\\frac{\\partial}{\\partial x^{i}}\\right|_{p} = 0,$$\n其中 $0$ 是零导子（将每个函数都映射到 $0$ 的映射）。为了使这个算子等式成立，它们必须对每个函数 $f \\in C^{\\infty}(\\mathbb{R}^{n})$ 都有相同的作用。让我们选择特定的坐标函数 $f(x) = x^{j}$，其中 $j \\in \\{1,\\dots,n\\}$。将算子应用于 $x^j$：\n$$\\left(\\sum_{i=1}^{n} c^{i} \\left.\\frac{\\partial}{\\partial x^{i}}\\right|_{p}\\right)(x^{j}) = 0。$$\n根据线性性，这是：\n$$\\sum_{i=1}^{n} c^{i} \\frac{\\partial x^{j}}{\\partial x^{i}}(p) = 0。$$\n偏导数 $\\frac{\\partial x^{j}}{\\partial x^{i}}$ 等于克罗内克 delta $\\delta_{ij}$，当 $i=j$ 时为 $1$，当 $i \\neq j$ 时为 $0$。所以，\n$$\\sum_{i=1}^{n} c^{i} \\delta_{ij} = c^{j}。$$\n因此方程简化为 $c^{j} = 0$。由于这对每个 $j \\in \\{1,\\dots,n\\}$ 都成立，所有系数 $c^j$ 都必须为零。这证明了导子集合 $\\left\\{\\left.\\frac{\\partial}{\\partial x^{i}}\\right|_{p}\\right\\}_{i=1}^{n}$ 是线性无关的。\n\n由于这个集合既张成 $T_p\\mathbb{R}^n$ 又是线性无关的，所以它构成了 $T_p\\mathbb{R}^n$ 的一组基。向量空间的维数是其基中元素的数量，即 $n$。因此，$T_{p}\\mathbb{R}^{n}$ 是一个 $n$ 维实向量空间。\n\n$\\mathbb{R}^n$ 和 $T_p\\mathbb{R}^n$ 之间的自然等同直接源于这种基表示。我们可以定义一个映射 $\\Phi: \\mathbb{R}^n \\to T_p\\mathbb{R}^n$，它将一个向量 $v = (v^1, \\dots, v^n) \\in \\mathbb{R}^n$ 映到这样一个导子，该导子在基 $\\left\\{\\left.\\frac{\\partial}{\\partial x^{i}}\\right|_{p}\\right\\}$ 下的分量就是 $v$ 的分量。即：\n$$\\Phi(v) = D_{v} = \\sum_{i=1}^{n} v^{i} \\left.\\frac{\\partial}{\\partial x^{i}}\\right|_{p}。$$\n这个映射是一个向量空间同构，提供了导子的几何空间与代数空间 $\\mathbb{R}^n$ 之间的一个自然等同。\n\n最后，与任意向量 $v = (v^{1},\\dots,v^{n}) \\in \\mathbb{R}^{n}$ 对应的导子 $D_{v}$ 的显式闭式表达式就是这个相同的表达式。它是一个写成在点 $p$ 的标准坐标偏导数算子线性组合的算子。\n$$D_{v} = \\sum_{i=1}^{n} v^{i} \\left.\\frac{\\partial}{\\partial x^{i}}\\right|_{p}。$$", "answer": "$$\n\\boxed{\\sum_{i=1}^{n} v^{i} \\left.\\frac{\\partial}{\\partial x^{i}}\\right|_{p}}\n$$", "id": "3067491"}, {"introduction": "在建立了代数定义之后，我们现在转向一个更几何的视角。这个问题采用了一个非常直观的定义，即把切向量看作流形上一条曲线的速度。通过研究单位球面 $S^n$ 这个经典的例子，你将把抽象概念与视觉和几何直觉联系起来，并推导出嵌入曲面上切空间的一个基本性质。[@problem_id:3067533]", "problem": "设 $S^{n}=\\{x\\in\\mathbb{R}^{n+1}:\\langle x,x\\rangle=1\\}$ 为 $\\mathbb{R}^{n+1}$中的单位球面，其上的内积为标准欧几里得内积 $\\langle \\cdot,\\cdot\\rangle$。利用在点 $p\\in S^{n}$ 处的切向量的定义，即对于一条满足 $\\gamma(0)=p$ 的光滑曲线 $\\gamma:(- \\epsilon,\\epsilon)\\to S^{n}$，其速度为 $v=\\gamma^{\\prime}(0)$，并仅使用约束条件 $\\langle p,p\\rangle=1$ 和标准微分法则，推导出只依赖于 $p$ 和内积的切空间 $T_{p}S^{n}$ 的一个刻画。然后，将此问题特殊化到 $n=2$ 的情形，其中 $p=\\left(\\frac{1}{3},\\frac{2}{3},\\frac{2}{3}\\right)\\in S^{2}\\subset\\mathbb{R}^{3}$ 且 $u=(2,-1,5)\\in\\mathbb{R}^{3}$，并计算 $u$ 在 $T_{p}S^{2}$ 上的正交投影的长度的平方。给出你的最终答案，形式为一个精确的有理数。", "solution": "首先对问题进行验证，以确保其是适定的、科学上合理的，并且提供了所有必要的信息。\n\n**问题验证**\n\n1.  **已知条件提取**：\n    -   单位球面定义为 $S^{n}=\\{x\\in\\mathbb{R}^{n+1}:\\langle x,x\\rangle=1\\}$。\n    -   内积是标准欧几里得内积 $\\langle \\cdot,\\cdot\\rangle$。\n    -   在点 $p\\in S^{n}$ 处的一个切向量 $v$ 是一条满足 $\\gamma(0)=p$ 的光滑曲线 $\\gamma:(-\\epsilon,\\epsilon)\\to S^{n}$ 的速度向量 $v=\\gamma^{\\prime}(0)$。\n    -   第一个任务是推导切空间 $T_{p}S^{n}$ 的一个刻画。\n    -   第二个任务是特殊化到 $n=2$ 的情况，其中 $p=\\left(\\frac{1}{3},\\frac{2}{3},\\frac{2}{3}\\right)$ 且 $u=(2,-1,5)\\in\\mathbb{R}^{3}$。\n    -   最后的计算是 $u$ 到 $T_{p}S^{2}$ 上的正交投影的长度的平方。\n    -   答案必须是一个精确的有理数。\n\n2.  **验证检查**：\n    -   该问题是微分几何中的一个标准练习。所有定义都是标准的且正确的。\n    -   该问题是自洽的。检查点 $p=\\left(\\frac{1}{3},\\frac{2}{3},\\frac{2}{3}\\right)$ 是否在单位球面 $S^2$ 上：$\\langle p,p\\rangle = \\left(\\frac{1}{3}\\right)^2 + \\left(\\frac{2}{3}\\right)^2 + \\left(\\frac{2}{3}\\right)^2 = \\frac{1}{9}+\\frac{4}{9}+\\frac{4}{9}=\\frac{9}{9}=1$。已知条件是一致的。\n    -   该问题是客观且适定的，会导出一个唯一的、可验证的解。\n\n3.  **结论**：问题有效。\n\n**解**\n\n**第一部分：切空间 $T_{p}S^{n}$ 的刻画**\n\n设 $v$ 是球面 $S^{n}$ 在点 $p \\in S^{n}$ 处的一个切向量。根据定义，存在一条光滑曲线 $\\gamma: (-\\epsilon, \\epsilon) \\to S^{n}$ (对于某个 $\\epsilon > 0$)，使得 $\\gamma(0) = p$ 且在 $t=0$ 处的速度向量为 $\\gamma'(0) = v$。\n\n由于曲线 $\\gamma(t)$ 在其定义域内的所有 $t$ 值上都位于球面 $S^{n}$ 上，它必须满足球面的定义方程：\n$$\n\\langle \\gamma(t), \\gamma(t) \\rangle = 1\n$$\n该方程对所有 $t \\in (-\\epsilon, \\epsilon)$ 成立。我们可以对等式两边关于 $t$ 求导。常数 $1$ 的导数为 $0$。对于左边，我们使用内积的微分乘法法则：\n$$\n\\frac{d}{dt} \\langle \\gamma(t), \\gamma(t) \\rangle = \\langle \\gamma'(t), \\gamma(t) \\rangle + \\langle \\gamma(t), \\gamma'(t) \\rangle\n$$\n因为标准欧几里得内积是对称的，所以上式变为：\n$$\n2 \\langle \\gamma(t), \\gamma'(t) \\rangle = 0\n$$\n这个关系对所有 $t \\in (-\\epsilon, \\epsilon)$ 都成立。特别地，它在 $t=0$ 时也必须成立：\n$$\n2 \\langle \\gamma(0), \\gamma'(0) \\rangle = 0\n$$\n代入 $\\gamma(0) = p$ 和 $\\gamma'(0) = v$，我们得到：\n$$\n2 \\langle p, v \\rangle = 0 \\quad \\implies \\quad \\langle p, v \\rangle = 0\n$$\n这表明任何切向量 $v \\in T_{p}S^{n}$ 都必须与位置向量 $p$ 正交。这意味着切空间是 $p$ 的张成的正交补的一个子集：$T_{p}S^{n} \\subseteq \\{v \\in \\mathbb{R}^{n+1} : \\langle p, v \\rangle = 0\\}$。\n\n为了证明相等，我们必须证明任何满足 $\\langle p, v \\rangle = 0$ 的向量 $v \\in \\mathbb{R}^{n+1}$ 确实是 $p$ 处的一个切向量。设 $v$ 为这样一个向量。如果 $v$ 是零向量，那么它显然是一个切向量（例如，由常值曲线 $\\gamma(t)=p$ 产生）。如果 $v \\neq 0$，考虑如下定义的曲线 $\\gamma(t)$：\n$$\n\\gamma(t) = (\\cos(|v|t))p + \\left(\\frac{\\sin(|v|t)}{|v|}\\right)v\n$$\n其中 $|v| = \\sqrt{\\langle v,v \\rangle}$。我们验证这条曲线满足所需条件。\n首先，$\\gamma(0) = (\\cos(0))p + \\left(\\frac{\\sin(0)}{|v|}\\right)v = 1 \\cdot p + 0 \\cdot v = p$。\n其次，速度向量是 $\\gamma'(t) = -|v|\\sin(|v|t)p + \\cos(|v|t)v$。在 $t=0$ 时，我们有 $\\gamma'(0) = -|v|\\sin(0)p + \\cos(0)v = 0 \\cdot p + 1 \\cdot v = v$。\n第三，我们检查 $\\gamma(t)$ 是否在 $S^{n}$ 上：\n$$\n\\langle \\gamma(t), \\gamma(t) \\rangle = \\left\\langle (\\cos(|v|t))p + \\left(\\frac{\\sin(|v|t)}{|v|}\\right)v, (\\cos(|v|t))p + \\left(\\frac{\\sin(|v|t)}{|v|}\\right)v \\right\\rangle\n$$\n利用内积的双线性：\n$$\n= \\cos^2(|v|t)\\langle p, p \\rangle + 2\\cos(|v|t)\\frac{\\sin(|v|t)}{|v|}\\langle p, v \\rangle + \\frac{\\sin^2(|v|t)}{|v|^2}\\langle v, v \\rangle\n$$\n我们知道 $\\langle p,p \\rangle=1$ (因为 $p \\in S^{n}$)，我们假设了 $\\langle p,v \\rangle=0$，并且 $\\langle v,v \\rangle=|v|^2$。代入这些值：\n$$\n= \\cos^2(|v|t) \\cdot 1 + 0 + \\frac{\\sin^2(|v|t)}{|v|^2} \\cdot |v|^2 = \\cos^2(|v|t) + \\sin^2(|v|t) = 1\n$$\n因此，曲线 $\\gamma(t)$ 对所有 $t$ 都位于 $S^{n}$ 上。我们成功地构造了一条通过 $p$ 且速度为 $v$ 的在 $S^n$ 上的曲线。因此，任何与 $p$ 正交的向量 $v$ 都在 $T_p S^n$ 中。\n切空间的刻画是 $\\mathbb{R}^{n+1}$ 中所有与位置向量 $p$ 正交的向量的集合：\n$$\nT_{p}S^{n} = \\{v \\in \\mathbb{R}^{n+1} : \\langle p, v \\rangle = 0\\}\n$$\n\n**第二部分：投影计算**\n\n我们特殊化到 $n=2$ 的情况，其中 $p=\\left(\\frac{1}{3},\\frac{2}{3},\\frac{2}{3}\\right) \\in S^2$ 且 $u=(2,-1,5) \\in \\mathbb{R}^{3}$。切空间 $T_{p}S^{2}$ 是 $\\mathbb{R}^3$ 中过原点且法向量为 $p$ 的平面。\n\n任何向量 $u \\in \\mathbb{R}^3$ 都可以唯一地分解为一个平行于平面 $T_{p}S^{2}$ 的分量 $u_{\\parallel}$ 和一个与之正交的分量 $u_{\\perp}$。分量 $u_{\\parallel}$ 是 $u$ 在 $T_{p}S^{2}$ 上的正交投影。分量 $u_{\\perp}$ 是 $u$ 在法线方向上的投影，该方向由 $p$ 张成。\n$$\nu = u_{\\parallel} + u_{\\perp}\n$$\n其中 $u_{\\parallel} \\in T_pS^2$ 且 $u_{\\perp}$ 在 $T_pS^2$ 的正交补中。$T_pS^2$ 的正交补是由 $p$ 张成的直线。因此，$u_{\\perp} = \\text{proj}_{p}(u)$。\n\n$u$ 在向量 $p$ 上的投影由下式给出：\n$$\nu_{\\perp} = \\text{proj}_{p}(u) = \\frac{\\langle u, p \\rangle}{\\langle p, p \\rangle} p\n$$\n由于 $p \\in S^2$，我们有 $\\langle p, p \\rangle = |p|^2 = 1$。公式简化为：\n$$\nu_{\\perp} = \\langle u, p \\rangle p\n$$\n问题要求的是 $u$ 在 $T_{p}S^{2}$ 上的正交投影的长度的平方，即 $|u_{\\parallel}|^2$。由于 $u_{\\parallel}$ 和 $u_{\\perp}$ 是正交的，勾股定理适用：\n$$\n|u|^2 = |u_{\\parallel}|^2 + |u_{\\perp}|^2\n$$\n因此，$|u_{\\parallel}|^2 = |u|^2 - |u_{\\perp}|^2$。\n\n首先，我们计算 $|u|^2$：\n$$\n|u|^2 = \\langle u, u \\rangle = \\langle(2,-1,5), (2,-1,5)\\rangle = 2^2 + (-1)^2 + 5^2 = 4+1+25 = 30\n$$\n接下来，我们计算 $|u_{\\perp}|^2$。$u_{\\perp}$ 的长度为：\n$$\n|u_{\\perp}|^2 = \\langle u_{\\perp}, u_{\\perp} \\rangle = \\langle \\langle u, p \\rangle p, \\langle u, p \\rangle p \\rangle = (\\langle u, p \\rangle)^2 \\langle p, p \\rangle = (\\langle u, p \\rangle)^2\n$$\n我们计算内积 $\\langle u, p \\rangle$：\n$$\n\\langle u, p \\rangle = \\left\\langle (2, -1, 5), \\left(\\frac{1}{3}, \\frac{2}{3}, \\frac{2}{3}\\right) \\right\\rangle = (2)\\left(\\frac{1}{3}\\right) + (-1)\\left(\\frac{2}{3}\\right) + (5)\\left(\\frac{2}{3}\\right) = \\frac{2}{3} - \\frac{2}{3} + \\frac{10}{3} = \\frac{10}{3}\n$$\n所以，$|u_{\\perp}|^2 = \\left(\\frac{10}{3}\\right)^2 = \\frac{100}{9}$。\n\n最后，我们求出到切空间上的投影的长度的平方：\n$$\n|u_{\\parallel}|^2 = |u|^2 - |u_{\\perp}|^2 = 30 - \\frac{100}{9} = \\frac{30 \\cdot 9}{9} - \\frac{100}{9} = \\frac{270 - 100}{9} = \\frac{170}{9}\n$$\n这是一个精确的有理数，符合要求。", "answer": "$$\\boxed{\\frac{170}{9}}$$", "id": "3067533"}, {"introduction": "微分几何的一个核心主题是区分依赖于坐标的表示和内蕴的几何对象。这个练习直面这一挑战，它将展示为什么一个切向量不能被简单地等同于它在某个特定坐标系下的分量列表。通过完成这个例子，你将深刻体会到，为什么我们需要像“导子”这样的抽象定义来确保在流形上一致地定义向量。[@problem_id:3067492]", "problem": "设 $M=\\mathbb{R}$ 赋予其标准光滑结构，且令 $p=0\\in M$。考虑光滑曲线 $\\gamma:(-1,1)\\to M$，其定义为 $\\gamma(t)=t$，且满足 $\\gamma(0)=0$。令 $v$ 表示由 $\\gamma$ 在点 $p$ 处确定的切向量，根据曲线等价类定义和抽象导子定义，$v$ 作用于光滑函数 $f\\in C^{\\infty}(M)$ 的方式为 $v(f)=\\left.\\frac{d}{dt}f(\\gamma(t))\\right|_{t=0}$。\n\n在点 $p$ 处定义两个坐标卡：\n- $\\varphi_{1}:U\\to \\mathbb{R}$，其中 $U=\\mathbb{R}$ 且 $\\varphi_{1}(x)=x$，\n- $\\varphi_{2}:U\\to \\mathbb{R}$，其中 $U=\\mathbb{R}$ 且 $\\varphi_{2}(x)=2x+x^{3}$。\n\n将 $v$ 朴素地视为逐坐标的速度，通过取 $\\gamma$ 在该坐标卡中的坐标表示在 $t=0$ 处的导数，可以在每个坐标卡中为 $v$ 赋予一个数值。\n\n任务：\n1. 在坐标卡 $\\varphi_{1}$ 中，通过朴素的逐坐标辨识，计算赋予 $v$ 的数值。\n2. 在坐标卡 $\\varphi_{2}$ 中，通过朴素的逐坐标辨识，计算赋予 $v$ 的数值。\n3. 仅使用切向量的抽象导子定义，计算光滑函数 $f(x)=x^{2}+3x$ 对应的 $v(f)$，并简要解释为什么该值与所选坐标卡无关。\n4. 最后，根据第 1-2 部分的结果，计算比率（坐标卡 $\\varphi_{2}$ 中的数值）/（坐标卡 $\\varphi_{1}$ 中的数值）。以最简精确形式给出该比率作为你的最终答案。无需四舍五入。", "solution": "首先验证该问题，以确保其具有科学依据、问题表述清晰且客观。\n\n### 第 1 步：提取已知条件\n- 流形：$M=\\mathbb{R}$，具有其标准光滑结构。\n- 点：$p=0 \\in M$。\n- 曲线：$\\gamma:(-1,1) \\to M$，由 $\\gamma(t)=t$ 给出，且 $\\gamma(0)=p=0$。\n- 切向量：$v$ 是由 $\\gamma$ 在点 $p$ 处确定的切向量。作为一个导子，它作用于光滑函数 $f \\in C^{\\infty}(M)$ 的方式为 $v(f)=\\left.\\frac{d}{dt}f(\\gamma(t))\\right|_{t=0}$。\n- 坐标卡 1：$\\varphi_{1}:U \\to \\mathbb{R}$，其中 $U=\\mathbb{R}$ 且 $\\varphi_{1}(x)=x$。\n- 坐标卡 2：$\\varphi_{2}:U \\to \\mathbb{R}$，其中 $U=\\mathbb{R}$ 且 $\\varphi_{2}(x)=2x+x^{3}$。\n- 任务：\n    1. 计算 $v$ 在坐标卡 $\\varphi_{1}$ 中的坐标表示。\n    2. 计算 $v$ 在坐标卡 $\\varphi_{2}$ 中的坐标表示。\n    3. 使用导子定义计算 $f(x)=x^{2}+3x$ 对应的 $v(f)$，并解释其坐标卡无关性。\n    4. 计算坐标卡 $\\varphi_{2}$ 中的数值与坐标卡 $\\varphi_{1}$ 中的数值之比。\n\n### 第 2 步：使用提取的已知条件进行验证\n该问题根植于微分几何的基本定义，特别是光滑流形上切向量的概念。流形 $M=\\mathbb{R}$ 是最简单的非平凡例子。坐标卡是良定义的；$\\varphi_1(x)=x$ 是恒等坐标卡。对于 $\\varphi_2(x)=2x+x^3$，其导数为 $\\varphi_2'(x)=2+3x^2$，该导数永不为零。因此，$\\varphi_2$ 是一个从 $\\mathbb{R}$到 $\\mathbb{R}$ 的有效微分同胚，并构成一个有效的坐标卡。将切向量定义为导子是标准做法。这些问题是精确的、数学性的，并且基于这些定义有唯一的答案。该问题是自洽且一致的。它没有违反任何科学原理，不基于错误的假设，并使用清晰、客观的语言。因此，该问题被认定为有效。\n\n### 第 3 步：进行求解\n\n**任务 1：计算在坐标卡 $\\varphi_{1}$ 中赋予 $v$ 的数值。**\n\n“朴素的逐坐标辨识”对应于在由坐标卡定义的基底下，寻找切向量的分量。这可以通过计算曲线在该坐标系中的表示对时间的导数来找到。\n\n曲线是 $\\gamma(t)=t$。$\\gamma$ 在坐标卡 $\\varphi_{1}$ 中的坐标表示由复合函数 $\\hat{\\gamma}_{1}(t) = \\varphi_{1}(\\gamma(t))$ 给出。\n$$\n\\hat{\\gamma}_{1}(t) = \\varphi_{1}(t) = t\n$$\n在这个坐标卡中赋予 $v$ 的数值是 $\\hat{\\gamma}_{1}(t)$ 关于 $t$ 的导数，在 $t=0$ 处的值。\n$$\nv_{1} = \\left.\\frac{d}{dt}\\hat{\\gamma}_{1}(t)\\right|_{t=0} = \\left.\\frac{d}{dt}(t)\\right|_{t=0} = 1\n$$\n所以，对于坐标卡 $\\varphi_{1}$，该数值是 $1$。\n\n**任务 2：计算在坐标卡 $\\varphi_{2}$ 中赋予 $v$ 的数值。**\n\n类似地，我们找到 $\\gamma$ 在坐标卡 $\\varphi_{2}$ 中的坐标表示，即 $\\hat{\\gamma}_{2}(t) = \\varphi_{2}(\\gamma(t))$。\n$$\n\\hat{\\gamma}_{2}(t) = \\varphi_{2}(t) = 2t+t^{3}\n$$\n在这个坐标卡中赋予 $v$ 的数值是 $\\hat{\\gamma}_{2}(t)$ 关于 $t$ 的导数，在 $t=0$ 处的值。\n$$\nv_{2} = \\left.\\frac{d}{dt}\\hat{\\gamma}_{2}(t)\\right|_{t=0} = \\left.\\frac{d}{dt}(2t+t^{3})\\right|_{t=0} = \\left.(2+3t^{2})\\right|_{t=0} = 2+3(0)^{2} = 2\n$$\n所以，对于坐标卡 $\\varphi_{2}$，该数值是 $2$。\n\n这说明了切向量的分量是依赖于坐标卡的核心原理。\n\n**任务 3：计算 $v(f)$ 并解释其坐标卡无关性。**\n\n切向量 $v$ 被定义为作用于光滑函数 $f \\in C^{\\infty}(M)$ 上的一个算子，其作用方式为 $v(f)=\\left.\\frac{d}{dt}f(\\gamma(t))\\right|_{t=0}$。我们给定的函数是 $f(x)=x^{2}+3x$。\n\n首先，我们将函数 $f$ 与曲线 $\\gamma(t)=t$ 复合：\n$$\nf(\\gamma(t)) = f(t) = t^{2}+3t\n$$\n接下来，我们对这个表达式关于 $t$ 求导：\n$$\n\\frac{d}{dt}f(\\gamma(t)) = \\frac{d}{dt}(t^{2}+3t) = 2t+3\n$$\n最后，我们在 $t=0$ 处计算这个导数的值：\n$$\nv(f) = \\left.(2t+3)\\right|_{t=0} = 2(0)+3 = 3\n$$\n$v(f)$ 的值是 $3$。\n\n这个值与所选坐标卡无关，这是由一个根本原因决定的。$v(f)$ 的定义仅依赖于函数 $f: M \\to \\mathbb{R}$ 和曲线 $\\gamma: (-1,1) \\to M$。这两者都是内蕴对象，它们是在流形 $M$ 本身上定义的，无需参考任何坐标系。复合函数 $f \\circ \\gamma$ 是一个从 $\\mathbb{R}$ 的区间到 $\\mathbb{R}$ 的映射，其导数是微积分中的标准运算，不需要任何与流形相关的坐标卡。由于计算 $v(f)$ 的过程中没有任何步骤涉及到坐标卡的选择，因此结果必然与坐标卡无关。这表明，当切向量 $v$ 被看作一个导子时，它是一个不依赖于坐标的几何对象，尽管它在不同坐标基底下的分量会随着坐标卡的改变而改变。\n\n**任务 4：计算比率。**\n\n问题要求计算在坐标卡 $\\varphi_{2}$ 中计算的数值与在坐标卡 $\\varphi_{1}$ 中计算的数值之比。\n根据任务 1，坐标卡 $\\varphi_{1}$ 对应的数值是 $v_{1}=1$。\n根据任务 2，坐标卡 $\\varphi_{2}$ 对应的数值是 $v_{2}=2$。\n\n该比率为：\n$$\n\\frac{v_{2}}{v_{1}} = \\frac{2}{1} = 2\n$$\n这个比率是在点 $p$ 处坐标变换的雅可比矩阵（在此为导数）的值。从 $\\varphi_{1}$ 坐标（我们称之为 $x$）到 $\\varphi_{2}$ 坐标（我们称之为 $y$）的变换是 $y(x) = \\varphi_{2}(\\varphi_{1}^{-1}(x)) = \\varphi_{2}(x) = 2x+x^{3}$。其雅可比导数是 $\\frac{dy}{dx} = 2+3x^{2}$。在点 $p=0$ 处，$x=0$，所以雅可比导数是 $2+3(0)^2=2$，这与我们计算的比率相符。", "answer": "$$\\boxed{2}$$", "id": "3067492"}]}