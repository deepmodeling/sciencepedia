{"hands_on_practices": [{"introduction": "领域行为的核心是一个经济决策。本练习将让你通过建立一个成本收益模型，来亲手解决一个典型的领域防御问题。你需要量化防御行为的能量收益（通过改善觅食率 $b(t_d)$）和成本（包括巡逻消耗 $c_p$ 和受伤风险），并运用微积分找到能最大化每日净能量获取的最佳防御时间投入 $t_d^{\\star}$。这个练习是理解经济可防御性模型的基础 [@problem_id:2537303]。", "problem": "一只具有领地性的食蜜鸟类面临一个日常分配问题：如何在领地防御（巡逻和驱赶入侵者）和觅食之间分配时间。假设该个体遵循行为生态学中的一个标准最优原则，即在有限的时间预算内最大化预期的每日净能量收益：选择分配给防御的时间 $t_{d}$（单位为 $\\mathrm{h}$），以在长度为 $T$ 的一天内最大化净能量摄入（单位为 $\\mathrm{kJ}$）。\n\n给定以下基于经验的组成部分和参数：\n\n- 时间预算：$T = 24\\,\\mathrm{h}$，因此觅食时间为 $t_{f} = T - t_{d}$。\n- 巡逻成本：每小时防御的能量成本为 $c_{p} = 40\\,\\mathrm{kJ\\,h^{-1}}$。\n- 无防御时的基准觅食率：$b_{0} = 100\\,\\mathrm{kJ\\,h^{-1}}$。\n- 防御通过减少因入侵者造成的资源损失来提高实际觅食率，其效果呈边际递减；有防御时的觅食率为\n  $$b(t_{d}) = b_{0} + \\alpha \\left(1 - \\exp(-\\beta t_{d})\\right),$$\n  其中 $\\alpha = 60\\,\\mathrm{kJ\\,h^{-1}}$ 且 $\\beta = 0.2\\,\\mathrm{h^{-1}}$。\n- 受伤风险：预期的争斗次数随防御时间线性增加，关系为 $\\lambda(t_{d}) = \\lambda_{0}\\, t_{d}$，其中 $\\lambda_{0} = 0.05\\,\\mathrm{h^{-1}}$。每次争斗造成的预期受伤损失为 $E = 500\\,\\mathrm{kJ}$，因此一天内预期的受伤总损失为 $E\\,\\lambda(t_{d})$。\n\n在一个简单的加性收益模型下，预期的每日净能量收益为\n$$P(t_{d}) \\;=\\; b(t_{d})\\,(T - t_{d}) \\;-\\; c_{p}\\,t_{d} \\;-\\; E\\,\\lambda(t_{d}).$$\n\n计算使 $P(t_{d})$ 最大化的最优每日防御时间分配 $t_{d}^{\\star}$，约束条件为 $0 \\le t_{d} \\le T$。将您的答案四舍五入至三位有效数字，并以小时为单位表示。", "solution": "首先对问题陈述进行验证。\n\n步骤1：提取已知条件。\n- 总时间预算：$T = 24\\,\\mathrm{h}$\n- 分配给防御的时间：$t_{d}$ (单位为 $\\mathrm{h}$)\n- 分配给觅食的时间：$t_{f} = T - t_{d}$\n- 每小时巡逻成本：$c_{p} = 40\\,\\mathrm{kJ\\,h^{-1}}$\n- 基准觅食率：$b_{0} = 100\\,\\mathrm{kJ\\,h^{-1}}$\n- 有防御时的觅食率函数：$b(t_{d}) = b_{0} + \\alpha (1 - \\exp(-\\beta t_{d}))$\n- 觅食增益参数：$\\alpha = 60\\,\\mathrm{kJ\\,h^{-1}}$\n- 边际递减参数：$\\beta = 0.2\\,\\mathrm{h^{-1}}$\n- 预期争斗次数函数：$\\lambda(t_{d}) = \\lambda_{0}\\, t_{d}$\n- 争斗率参数：$\\lambda_{0} = 0.05\\,\\mathrm{h^{-1}}$\n- 每次争斗的预期受伤损失：$E = 500\\,\\mathrm{kJ}$\n- 预期每日净能量收益函数：$P(t_{d}) = b(t_{d})\\,(T - t_{d}) - c_{p}\\,t_{d} - E\\,\\lambda(t_{d})$\n- 约束条件：$0 \\le t_{d} \\le T$\n- 目标：找到使 $P(t_{d})$ 最大化的最优防御时间 $t_{d}^{\\star}$。\n- 精度要求：将答案四舍五入至三位有效数字。\n\n步骤2：使用提取的条件进行验证。\n该问题是行为生态学领域一个标准的优化问题。它在科学上基于最优性理论，这是该学科的一个核心原则。数学模型是适定的，使用了连续和可微函数（指数和线性项），这在模拟具有边际收益递减和线性成本的生物学权衡时很常见。所有的参数和函数都有明确的定义，并且单位在量纲上是一致的。例如，乘积 $b(t_d)(T-t_d)$ 的单位是能量（$\\mathrm{kJ\\,h^{-1}} \\times \\mathrm{h} = \\mathrm{kJ}$），收益函数中的所有其他项也是如此。该问题是自洽的、客观的，并且没有违反任何数学或科学的基本原理。它需要使用微分学的标准方法来求解一个函数在闭区间上的最大值。\n\n步骤3：结论与行动。\n问题被认定为有效。将推导解答。\n\n目标是找到在区间 $[0, T]$ 内使预期每日净能量收益 $P(t_{d})$ 最大化的 $t_{d}$ 值。收益函数由下式给出：\n$$P(t_{d}) = b(t_{d})\\,(T - t_{d}) - c_{p}\\,t_{d} - E\\,\\lambda(t_{d})$$\n我们代入 $b(t_{d})$ 和 $\\lambda(t_{d})$ 的表达式：\n$$P(t_{d}) = \\left[b_{0} + \\alpha \\left(1 - \\exp(-\\beta t_{d})\\right)\\right](T - t_{d}) - c_{p}\\,t_{d} - E\\,\\lambda_{0}\\,t_{d}$$\n为了求最大值，我们必须计算 $P(t_{d})$ 对 $t_{d}$ 的一阶导数并令其为零。首先，我们将关于 $t_{d}$ 的线性项组合起来：\n$$P(t_{d}) = \\left(b_{0} + \\alpha\\right)(T - t_{d}) - \\alpha(T - t_{d})\\exp(-\\beta t_{d}) - (c_{p} + E \\lambda_{0})t_{d}$$\n现在，我们对 $P(t_{d})$ 关于 $t_{d}$ 求导，对 $-\\alpha(T - t_{d})\\exp(-\\beta t_{d})$ 项使用乘法法则：\n$$\\frac{dP}{dt_{d}} = -(b_{0} + \\alpha) - \\alpha\\left[(-1)\\exp(-\\beta t_{d}) + (T - t_{d})(-\\beta\\exp(-\\beta t_{d}))\\right] - (c_{p} + E \\lambda_{0})$$\n简化表达式：\n$$\\frac{dP}{dt_{d}} = -(b_{0} + \\alpha) + \\alpha\\exp(-\\beta t_{d}) + \\alpha\\beta(T - t_{d})\\exp(-\\beta t_{d}) - (c_{p} + E \\lambda_{0})$$\n提出公因子 $\\alpha\\exp(-\\beta t_{d})$：\n$$\\frac{dP}{dt_{d}} = \\alpha\\exp(-\\beta t_{d}) \\left[1 + \\beta(T - t_{d})\\right] - (b_{0} + \\alpha + c_{p} + E \\lambda_{0})$$\n为了找到临界点，我们令导数为零：\n$$\\alpha\\exp(-\\beta t_{d}^{\\star}) \\left[1 + \\beta(T - t_{d}^{\\star})\\right] = b_{0} + \\alpha + c_{p} + E \\lambda_{0}$$\n这就是最优性条件。为了验证解 $t_{d}^{\\star}$ 对应于一个最大值，我们检查二阶导数 $P''(t_d)$ 的符号。\n$$P''(t_d) = \\frac{d^{2}P}{dt_{d}^{2}} = \\alpha \\left\\{ (-\\beta \\exp(-\\beta t_d))[1 + \\beta(T-t_d)] + (\\exp(-\\beta t_d))(-\\beta) \\right\\}$$\n$$P''(t_d) = -\\alpha \\beta \\exp(-\\beta t_d) \\left[ 1 + \\beta(T-t_d) + 1 \\right]$$\n$$P''(t_d) = -\\alpha \\beta \\exp(-\\beta t_d) \\left[ 2 + \\beta T - \\beta t_d \\right]$$\n鉴于 $\\alpha > 0$，$\\beta > 0$ 且 $\\exp(-\\beta t_d) > 0$，$P''(t_d)$ 的符号由括号中的项决定。参数为 $T=24$, $\\beta=0.2$。因此，$2 + \\beta T = 2 + 0.2 \\times 24 = 2 + 4.8 = 6.8$。该项变为 $6.8 - 0.2 t_d$。对于有效范围 $[0, 24]$ 内的任何 $t_d$，此项均为正（$6.8 - 0.2 \\times 24 = 6.8 - 4.8 = 2 > 0$）。因此，在所关注的定义域上，$P''(t_d)$ 总是负的。这证实了函数 $P(t_d)$ 是严格凹函数，且该临界点是唯一的全局最大值点。\n\n现在我们通过首先代入给定的数值来求解最优性条件以得到 $t_{d}^{\\star}$：\n- $T = 24$\n- $c_{p} = 40$\n- $b_{0} = 100$\n- $\\alpha = 60$\n- $\\beta = 0.2$\n- $\\lambda_{0} = 0.05$\n- $E = 500$\n最优性条件的右边是：\n$$b_{0} + \\alpha + c_{p} + E \\lambda_{0} = 100 + 60 + 40 + (500)(0.05) = 200 + 25 = 225$$\n方程变为：\n$$60 \\exp(-0.2 t_{d}^{\\star}) \\left[1 + 0.2(24 - t_{d}^{\\star})\\right] = 225$$\n$$\\exp(-0.2 t_{d}^{\\star}) \\left[1 + 4.8 - 0.2 t_{d}^{\\star}\\right] = \\frac{225}{60}$$\n$$\\exp(-0.2 t_{d}^{\\star}) \\left[5.8 - 0.2 t_{d}^{\\star}\\right] = 3.75$$\n这是一个关于 $t_{d}^{\\star}$ 的超越方程，无法用初等函数解析求解。我们必须使用数值方法。设 $f(t_d) = \\exp(-0.2 t_d) (5.8 - 0.2 t_d) - 3.75$。我们在区间 $[0, 24]$ 内寻找 $f(t_d) = 0$ 的根。\n当 $t_d = 0$ 时，$f(0) = \\exp(0)(5.8) - 3.75 = 2.05 > 0$。\n当 $t_d = T=24$ 时，$f(24) = \\exp(-4.8)(5.8 - 4.8) - 3.75 = \\exp(-4.8) - 3.75 < 0$。\n由于函数是连续的并且变号，所以在该区间内存在一个根。由于 $P''(t_d)<0$，$P'(t_d)$ 是单调递减的，因此这个根是唯一的。\n使用数值求解器（例如，牛顿法或二分法），我们找到解：\n$$t_{d}^{\\star} \\approx 1.85135\\,\\mathrm{h}$$\n题目要求将答案四舍五入至三位有效数字。\n$$t_{d}^{\\star} \\approx 1.85\\,\\mathrm{h}$$\n该值位于有效定义域 $[0, 24]$ 内，代表了使鸟的每日净能量收益最大化的最优防御时间分配。", "answer": "$$ \\boxed{1.85} $$", "id": "2537303"}, {"introduction": "在建立了单个领域的经济模型后，我们进一步考虑社会互动。此实践将领域边界 $x_b$ 视为两个竞争者动态博弈的结果，而非静态界线。你将推导边界的期望漂移速率 $v(x_b)$，它取决于双方在资源梯度 $\\rho(x)$ 上争夺的边际净收益。这个练习可以帮助你理解竞争者之间的不对称性（如防御成本 $k_i$ 或收益系数 $b_i$ 的差异）如何塑造群体的空间格局 [@problem_id:2537281]。", "problem": "考虑两个领地防卫者，记为 $A$ 和 $B$，占据一个由空间坐标 $x$ 上区间 $[0, L]$ 表示的一维生境。防卫者 $A$ 的中心庇护所在 $x=0$，防卫者 $B$ 的在 $x=L$。两个领地之间的瞬时边界位于位置 $x_b \\in (0, L)$，它界定了 $A$ 防卫的最右点和 $B$ 防卫的最左点。\n\n假设以下基本要素，这些要素基于资源防卫理论和标准生态生物能量学：\n- 资源密度沿生境呈线性梯度变化，由 $\\rho(x) = \\rho_{0} + g x$ 给出，其中 $\\rho_{0} > 0$ 且 $g$ 为常数。\n- 对于在边界 $x_b$ 处获得的一个小的领地长度增量 $\\mathrm{d}x$，防卫者 $i \\in \\{A, B\\}$ 获得的净能量收益与 $\\rho(x_b)$ 成正比，比例系数为 $b_i > 0$。即，在 $x_b$ 处，防卫者 $i$ 获得 $\\mathrm{d}x$ 领地的边际总收益为 $b_i \\rho(x_b) \\,\\mathrm{d}x$。\n- 每个防卫者为维持和巡逻边界而产生能量成本，该成本随其庇护所与边界之间距离的增加而增加。令 $d_A(x_b) = x_b$ 且 $d_B(x_b) = L - x_b$。防卫者 $i$ 维持边界相关的单位时间成本由凸函数 $C_i(d_i) = \\tfrac{1}{2} k_i d_i^{2}$ 给出，其中 $k_i > 0$。因此，对于边界沿增加 $d_i$ 的方向发生的无穷小位移 $\\mathrm{d}x$，边际成本变化为 $k_i d_i(x_b) \\,\\mathrm{d}x$。\n- 边界通过防卫者之间的对抗性互动和巡逻努力进行行为调整，使得边界移动的期望速率遵循一个短视、过阻尼的梯度跟随规则：边界的期望漂移速度与 $A$ 向右移动和 $B$ 向左移动的边际净收益（收益减去成本增量）之差成正比。将此比例常数记为 $\\lambda > 0$。\n- 为考虑随机入侵和环境变异性，假设边界位置的演化遵循一个随机微分方程 (stochastic differential equation, SDE) $\\mathrm{d}x_b = v(x_b)\\,\\mathrm{d}t + \\sigma \\,\\mathrm{d}W_t$，其中 $\\sigma \\ge 0$ 为常数， $W_t$ 是标准维纳过程。函数 $v(x_b)$ 是待推导的期望漂移率。\n\n仅使用以上要素和“净适应度率等于摄入减去成本”的第一性原理推理，推导期望漂移率 $v(x_b)$ 作为 $x_b$, $\\rho_{0}$, $g$, $b_A$, $b_B$, $k_A$, $k_B$, $L$ 和 $\\lambda$ 的函数的闭式表达式。以单一的符号形式解析表达式作答。不要代入数值。最终的方框答案中不要包含单位。", "solution": "问题陈述在理论生态学领域提出了一个有效且定义明确的问题。它具有科学依据，内容自洽且客观。我们将着手推导领地边界的期望漂移率 $v(x_b)$。\n\n推导的基础是边际分析原理，即边界的移动由每个竞争者的边际收益净差驱动。问题明确指出，漂移速度 $v(x_b)$ 与防卫者 $A$ 向右移动和防卫者 $B$ 向左移动的边际净收益之差成正比。\n\n我们首先将每个防卫者在边界位置 $x_b$ 处的边际净收益形式化。净收益是获得的总收益与产生的成本之差。\n\n对于位于 $x=0$ 的防卫者 $A$，假设边界向右发生无穷小位移 $\\mathrm{d}x_b > 0$，将导致其获得一段长度为 $\\mathrm{d}x_b$ 的领地。\n$A$ 从此次移动中获得的边际总收益为 $b_A \\rho(x_b) \\mathrm{d}x_b$。\n边界距离 $A$ 的庇护所为 $d_A(x_b) = x_b$。成本函数为 $C_A(d_A) = \\frac{1}{2} k_A d_A^2 = \\frac{1}{2} k_A x_b^2$。向右移动会增加此距离。该位移的边际成本变化明确给出为 $k_A d_A(x_b) \\mathrm{d}x_b = k_A x_b \\mathrm{d}x_b$。\n因此，促使防卫者 $A$ 向右移动的边际净收益，我们记为 $\\mathcal{M}_A(x_b)$，是边际收益减去边际成本：\n$$\n\\mathcal{M}_A(x_b) \\mathrm{d}x_b = (b_A \\rho(x_b) - k_A x_b) \\mathrm{d}x_b\n$$\n数量 $\\mathcal{M}_A(x_b) = b_A \\rho(x_b) - k_A x_b$ 表示 $A$ 在 $x_b$ 处每单位领地扩张所获得的边际适应度率优势。\n\n对于位于 $x=L$ 的防卫者 $B$，分析必须针对向左移动进行构建，因为这对应于其领地的扩张。考虑边界向左发生一个大小为 $\\mathrm{d}x_b > 0$ 的假设性位移（即边界从 $x_b$ 移动到 $x_b - \\mathrm{d}x_b$）。\n$B$ 从在 $x_b$ 处获得此领地中得到的边际总收益为 $b_B \\rho(x_b) \\mathrm{d}x_b$。\n边界距离 $B$ 的庇护所为 $d_B(x_b) = L - x_b$。向左移动会增加此距离。该位移的边际成本变化为 $k_B d_B(x_b) \\mathrm{d}x_b = k_B (L - x_b) \\mathrm{d}x_b$。\n因此，促使防卫者 $B$ 向左移动的边际净收益，我们记为 $\\mathcal{M}_B(x_b)$，是：\n$$\n\\mathcal{M}_B(x_b) \\mathrm{d}x_b = (b_B \\rho(x_b) - k_B (L - x_b)) \\mathrm{d}x_b\n$$\n数量 $\\mathcal{M}_B(x_b) = b_B \\rho(x_b) - k_B (L-x_b)$ 表示 $B$ 在 $x_b$ 处每单位领地扩张所获得的边际适应度率优势。\n\n边界的期望漂移速度 $v(x_b)$ 是在 $x$ 增加的方向（向右移动）上定义的。该运动由两个防卫者之间的竞争驱动。如果防卫者 $A$ 向右推的“压力”超过防卫者 $B$ 向左推的“压力”，则会出现正速度。这个净压力是它们各自扩张领地的边际净收益之差。\n\n根据问题陈述，漂移速度与此差值成正比：\n$$\nv(x_b) = \\lambda (\\mathcal{M}_A(x_b) - \\mathcal{M}_B(x_b))\n$$\n代入 $\\mathcal{M}_A(x_b)$ 和 $\\mathcal{M}_B(x_b)$ 的表达式：\n$$\nv(x_b) = \\lambda \\left[ (b_A \\rho(x_b) - k_A x_b) - (b_B \\rho(x_b) - k_B (L - x_b)) \\right]\n$$\n现在，我们代入给定的资源密度线性形式 $\\rho(x_b) = \\rho_0 + g x_b$：\n$$\nv(x_b) = \\lambda \\left[ b_A (\\rho_0 + g x_b) - k_A x_b - b_B (\\rho_0 + g x_b) + k_B (L - x_b) \\right]\n$$\n我们展开各项，并收集常数项和依赖于 $x_b$ 的项。\n$$\nv(x_b) = \\lambda \\left[ b_A \\rho_0 + b_A g x_b - k_A x_b - b_B \\rho_0 - b_B g x_b + k_B L - k_B x_b \\right]\n$$\n按 $\\rho_0$、$L$ 和 $x_b$ 对各项进行分组：\n$$\nv(x_b) = \\lambda \\left[ (b_A \\rho_0 - b_B \\rho_0 + k_B L) + (b_A g - b_B g - k_A - k_B) x_b \\right]\n$$\n最后，我们提取公因子，得到漂移率作为 $x_b$ 和给定参数的函数的闭式表达式：\n$$\nv(x_b) = \\lambda \\left[ ((b_A - b_B) \\rho_0 + k_B L) + (g(b_A - b_B) - (k_A + k_B)) x_b \\right]\n$$\n此表达式代表边界运动的确定性部分，它是其位置 $x_b$ 的线性函数。在没有随机性的情况下，边界的稳定平衡点将是 $v(x_b^*) = 0$ 的位置 $x_b^*$。然而，问题只要求给出 $v(x_b)$ 的表达式。", "answer": "$$\n\\boxed{\\lambda \\left[ \\left( (b_A - b_B) \\rho_0 + k_B L \\right) + \\left( g(b_A - b_B) - k_A - k_B \\right) x_b \\right]}\n$$", "id": "2537281"}, {"introduction": "现实世界中的资源分布和竞争威胁是空间异质的。本练习从一维的抽象模型转向了二维的、更加真实的觅食景观，要求你扮演一个“领地设计师”的角色。你将通过编写程序来解决一个空间优化问题：在考虑了斑块状资源 $h_i$ 的价值、边界巡逻成本 $L(T)$ 以及竞争者排斥区等多重约束后，如何通过选择纳入哪些资源点来界定一个能使净收益 $J(T)$ 最大化的领地多边形。这个练习体现了计算思维在解决现代生态学问题中的强大作用 [@problem_id:2537343]。", "problem": "考虑一个中心区域性生物体，它在平面上选择一个连续的防御区域，以在竞争者排斥的情况下最大化成本-收益权衡。您将得到中心生物体的巢穴位置、具有相关价值的点状资源热点，以及带有圆形排斥缓冲区的竞争者核心位置。该生物体的防御区域必须是一个包含巢穴的简单多边形，并且假定为巢穴与所选热点子集的凸包，这反映了包围这些点的最小巡逻成本。\n\n基本基础和定义：\n- 一个领土多边形 $T$ 的净收益为 $J(T) = \\sum_{i=1}^{n} v_i \\,\\mathbf{1}\\{h_i \\in T\\} - k \\, L(T)$，其中 $h_i \\in \\mathbb{R}^2$ 是热点 $i$ 的位置，$v_i \\in \\mathbb{R}_{\\ge 0}$ 是其以资源单位 (RU) 计量的价值，$k \\in \\mathbb{R}_{>0}$ 是以 RU/米 为单位的周长成本系数，$L(T)$ 是 $T$ 的周长（单位：米），$\\mathbf{1}\\{\\cdot\\}$ 是包含边界的指示函数，即，在 $\\partial T$ 上的点被计为包含在内。所有距离均以米为单位计量。\n- 竞争者核心施加排斥区。对于位于 $c_j \\in \\mathbb{R}^2$ 且排斥半径为 $r_j \\in \\mathbb{R}_{>0}$ 的竞争者 $j$，防御多边形 $T$ 仅当它不与闭圆盘 $D(c_j, r_j) = \\{x \\in \\mathbb{R}^2 : \\|x - c_j\\|_2 \\le r_j\\}$ 相交或接触时才可行。等价地，从 $c_j$ 到 $T$ 的最小欧几里得距离必须严格大于 $r_j$；如果 $c_j \\in T$ 或从 $c_j$ 到 $\\partial T$ 上任意点的最小距离 $\\le r_j$，则 $T$ 是不可行的。\n- 可行领土集合：对于热点索引的任意子集 $S \\subseteq \\{1,\\dots,n\\}$，将候选多边形 $T_S$ 定义为点集 $\\{N\\} \\cup \\{h_i : i \\in S\\}$ 的凸包，其中 $N \\in \\mathbb{R}^2$ 是巢穴的位置。如果 $|\\mathrm{CH}(\\{N\\} \\cup \\{h_i : i \\in S\\})| \\ge 3$，则 $T_S$ 是一个真多边形，其周长 $L(T_S)$ 由边长之和（单位：米）给出。如果 $|\\mathrm{CH}(\\cdot)| < 3$，则将 $T_S$ 视为防御面积为零的退化情况，并定义 $L(T_S) = 0$；在这种情况下，仅当一个热点恰好位于退化对象（单个点或线段）上时，才算被捕获。\n- 目标：在所有其 $T_S$ 相对于所有竞争者圆盘均为可行的子集 $S \\subseteq \\{1,\\dots,n\\}$ 中，选择使 $J(T_{S})$ 最大化的 $S^\\star$。平局必须通过以下确定性规则打破：如果 $J(T_{S_1}) = J(T_{S_2})$ 在容差 $\\varepsilon = 10^{-9}$ 内，则优先选择 $L(T_{S})$ 较小的那个；如果在此容差内仍然平局，则优先选择其捕获的热点索引（即所有满足 $h_i \\in T_S$ 的 $i$，包括任何非 $S$ 中但偶然被包含的点）的排序列表在字典序上更小的那个。\n\n要求的实现方法：\n- 您必须实现一个对所有子集 $S \\subseteq \\{1,\\dots,n\\}$ 的穷举搜索，按所述计算 $T_S$，测试其对竞争者圆盘的可行性，计算 $J(T_S)$，并根据平局打破规则选择最优解。几何谓词必须以指定的绝对容差 $\\varepsilon = 10^{-9}$ 包括边界情况。\n- 使用凸包构造来定义候选多边形。使用欧几里得距离（单位：米）。资源捕获采用边界包含规则，而竞争者缓冲区采用边界排斥规则（与任何 $D(c_j, r_j)$ 相交或相切均视为不可行）。\n- 将每个测试用例的最终数值答案表示为浮点数，单位为资源单位 (RU)，每个数值四舍五入到六位小数。\n\n测试套件和输入：\n对于以下所有情况，巢穴位置为 $N = (0.0, 0.0)$ 米。所有情况共用一个包含 $n=8$ 个热点的集合，其索引 $i \\in \\{0,1,2,3,4,5,6,7\\}$，位置 $h_i = (x_i, y_i)$（单位：米），以及价值 $v_i$（单位：RU）如下：\n- $i = 0$: $h_0 = (2.0, 1.0)$，$v_0 = 10.0$。\n- $i = 1$: $h_1 = (3.0, 0.0)$，$v_1 = 8.0$。\n- $i = 2$: $h_2 = (2.5, 1.5)$，$v_2 = 7.0$。\n- $i = 3$: $h_3 = (-1.0, -0.5)$，$v_3 = 3.0$。\n- $i = 4$: $h_4 = (4.0, 0.0)$，$v_4 = 6.0$。\n- $i = 5$: $h_5 = (0.5, 3.0)$，$v_5 = 5.0$。\n- $i = 6$: $h_6 = (5.0, 2.0)$，$v_6 = 9.0$。\n- $i = 7$: $h_7 = (-2.0, 2.0)$，$v_7 = 4.0$。\n\n为以下四种情况提供解决方案：\n- 情况 A (理想路径): 周长成本 $k = 2.0$ RU/m；一个竞争者，位于 $c_0 = (6.0, 1.0)$ 米，半径 $r_0 = 1.0$ 米。\n- 情况 B (高周长惩罚): 周长成本 $k = 5.0$ RU/m；一个竞争者，位于 $c_0 = (6.0, 1.0)$ 米，半径 $r_0 = 1.0$ 米。\n- 情况 C (竞争者靠近热点集群): 周长成本 $k = 2.0$ RU/m；两个竞争者：$c_0$ 位于 $(6.0, 1.0)$ 米，半径 $r_0 = 1.0$ 米；$c_1$ 位于 $(2.8, 0.7)$ 米，半径 $r_1 = 0.6$ 米。\n- 情况 D (低周长惩罚，附加竞争者约束): 周长成本 $k = 0.5$ RU/m；两个竞争者：$c_0$ 位于 $(6.0, 1.0)$ 米，半径 $r_0 = 1.0$ 米；$c_1$ 位于 $(3.5, 0.5)$ 米，半径 $r_1 = 0.7$ 米。\n\n最终输出格式：\n您的程序应生成单行输出，其中包含按顺序排列的情况 A、B、C 和 D 的最优净收益，格式为用方括号括起来的逗号分隔列表。每个条目必须是四舍五入到六位小数的浮点数，单位为资源单位 (RU)，例如 $[12.345678, 9.876543, \\dots]$。", "solution": "该问题要求通过最大化净收益函数来找到一个最优的领土多边形，该函数平衡了捕获资源的价值与领土周长相关的成本。领土被定义为生物体巢穴和所选资源热点子集的凸包。此优化受到竞争者排斥区的约束，领土不得与这些区域相交。\n\n该问题在理论生态学框架内被验证为适定且有科学依据的，可以通过穷举搜索来求解。鉴于热点数量较少 ($n=8$)，候选领土的总数（对应于热点的幂集）为 $2^8 = 256$。这个搜索空间在计算上是可行的。\n\n对于提供的每个测试用例，算法按以下步骤进行：\n\n1.  遍历子集：我们生成热点索引集 $\\{0, 1, \\dots, 7\\}$ 的所有 $2^8$ 个子集 $S$。对每个子集，我们定义一个候选领土 $T_S$。空集 $S = \\emptyset$ 也包括在内，它产生一个仅包含巢穴 $N$ 的基准领土。\n\n2.  领土构建：候选领土 $T_S$ 是点集 $\\{N\\} \\cup \\{h_i : i \\in S\\}$ 的凸包。\n    *   **非退化情况**：如果点集包含至少3个非共线点，其凸包构成一个简单多边形。我们使用一个标准的计算几何算法，由 `scipy.spatial.ConvexHull` 库函数提供，来确定该多边形的顶点。然后，周长 $L(T_S)$ 是多边形边长的总和。\n    *   **退化情况**：如果点集的凸包少于3个顶点（即点是共线或重合的），问题将领土定义为一个退化对象（单个点或线段）。对于这种情况，周长被明确定义为 $L(T_S) = 0$。\n\n3.  可行性分析：每个候选领土 $T_S$ 必须针对所有竞争者排斥区进行评估。一个领土当且仅当它与每个闭合的竞争者圆盘 $D(c_j, r_j)$ 保持严格的正距离时，才被视为可行。这意味着从竞争者中心 $c_j$ 到领土 $T_S$ 中任意点的最小欧几里得距离必须严格大于竞争者的排斥半径 $r_j$。\n    *   从外部点 $c_j$ 到凸多边形 $T_S$ 的最小距离是 $c_j$ 到 $T_S$ 各顶点和各边的距离中的最小值。如果 $c_j$ 在 $T_S$ 内部，该距离为0。\n    *   对于退化领土，检查涉及计算从 $c_j$ 到该点或线段的最小距离。\n    *   任何对于任意竞争者 $j$ 违反了此条件 $\\min_{p \\in T_S} \\|c_j - p\\|_2 > r_j$ 的领土都将被丢弃。\n\n4.  净收益计算：对于每个可行的领土，根据公式 $J(T_S) = V_S - k \\cdot L(T_S)$ 计算净收益。\n    *   总资源价值 $V_S$ 是被该领土捕获的所有热点 $h_i$ 的价值 $v_i$ 的总和。如果一个热点位于 $T_S$ 内部或其边界上，则称其被捕获。此检查对所有 $n=8$ 个热点执行，无论它们是否在生成集 $S$ 中。\n    *   周长成本是周长 $L(T_S)$ 和成本系数 $k$ 的乘积。\n\n5.  最优选择：算法维护一个迄今为止找到的最佳解决方案的记录，初始值为仅有巢穴的基准情况（其收益为 $J=0$）。每个新的可行解决方案都与当前最优解进行比较，并根据指定的分级平局打破协议进行更新：\n    a. 主要标准是最大化净收益 $J(T_S)$。\n    b. 如果收益在 $\\varepsilon = 10^{-9}$ 的容差内相等，则优先选择周长 $L(T_S)$ 较小的领土。\n    c. 如果收益和周长都平局，则通过选择其捕获的热点索引的排序列表在字典序上更小的解决方案来打破平局。\n\n这种穷举评估保证了最终选择的领土是根据问题标准下的唯一最优解。这个最优领土的净收益是每个情况的最终答案。", "answer": "$$ \\boxed{[15.155793, 8.000000, 12.000000, 34.469796]} $$", "id": "2537343"}]}