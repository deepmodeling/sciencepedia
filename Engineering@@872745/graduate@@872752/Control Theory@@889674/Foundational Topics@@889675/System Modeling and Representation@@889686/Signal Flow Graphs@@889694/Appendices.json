{"hands_on_practices": [{"introduction": "The first step in analyzing any system represented by a Signal Flow Graph (SFG) is to determine its overall input-output relationship, or transfer function. This foundational exercise challenges you to derive the transfer function for a system with multiple paths and feedback loops using first principles. Mastering this skill [@problem_id:1610001] is essential for understanding how individual component gains and their interconnections collectively define the system's dynamic behavior.", "problem": "A linear time-invariant system is described by a Signal Flow Graph (SFG) that defines the relationships between an input signal $R(s)$ and an output signal $Y(s)$. The graph consists of an input node $R(s)$, an output node $Y(s)$, and four intermediate nodes denoted as $N_1, N_2, N_3,$ and $N_4$. All signals flow in the direction of the arrows, and each branch connecting two nodes has an associated symbolic gain.\n\nThe specific connections and their corresponding gains are as follows:\n- From $R(s)$ to $N_1$ with gain $a$.\n- From $N_1$ to $N_2$ with gain $b$.\n- From $N_2$ to $Y(s)$ with gain $c$.\n- From $R(s)$ to $N_3$ with gain $d$.\n- From $N_3$ to $N_4$ with gain $e$.\n- From $N_4$ to $Y(s)$ with gain $f$.\n- From $N_1$ back to $N_1$ (a self-loop) with gain $g$.\n- From $N_2$ back to $N_1$ with gain $h$.\n- From $N_4$ back to $N_3$ with gain $k$.\n- From $N_4$ back to $N_4$ (a self-loop) with gain $m$.\n\nDetermine the overall transfer function of the system, $T(s) = \\frac{Y(s)}{R(s)}$, expressed as a single rational function in terms of the symbolic gains $a, b, c, d, e, f, g, h, k,$ and $m$.", "solution": "We use standard signal flow graph node equations: the signal at each node equals the sum of its incoming signals, each equal to the upstream nodeâ€™s signal times the branch gain. Denote the node signals by $R$, $Y$, $N_{1}$, $N_{2}$, $N_{3}$, and $N_{4}$.\n\nFor the left subgraph, the node equations are\n$$\nN_{1} = a R + g N_{1} + h N_{2}, \\qquad N_{2} = b N_{1}.\n$$\nEliminating $N_{2}$ gives\n$$\nN_{1} - g N_{1} - h N_{2} = a R \\;\\;\\Rightarrow\\;\\; (1 - g) N_{1} - h b N_{1} = a R \\;\\;\\Rightarrow\\;\\; (1 - g - h b) N_{1} = a R,\n$$\nhence\n$$\nN_{1} = \\frac{a}{1 - g - h b}\\,R, \\qquad N_{2} = b N_{1} = \\frac{a b}{1 - g - h b}\\,R.\n$$\n\nFor the right subgraph, the node equations are\n$$\nN_{3} = d R + k N_{4}, \\qquad N_{4} = e N_{3} + m N_{4}.\n$$\nRewriting the second equation gives\n$$\n(1 - m) N_{4} = e N_{3} \\;\\;\\Rightarrow\\;\\; N_{4} = \\frac{e}{1 - m}\\,N_{3}.\n$$\nSubstitute into the first:\n$$\nN_{3} = d R + k N_{4} = d R + \\frac{k e}{1 - m}\\,N_{3} \\;\\;\\Rightarrow\\;\\; \\left(1 - \\frac{k e}{1 - m}\\right) N_{3} = d R.\n$$\nTherefore\n$$\nN_{3} = \\frac{(1 - m)}{1 - m - k e}\\,d R, \\qquad N_{4} = \\frac{e}{1 - m}\\,N_{3} = \\frac{d e}{1 - m - k e}\\,R.\n$$\n\nThe output node sums its inputs:\n$$\nY = c N_{2} + f N_{4} = c\\left(\\frac{a b}{1 - g - h b}\\,R\\right) + f\\left(\\frac{d e}{1 - m - k e}\\,R\\right).\n$$\nDivide by $R$ to obtain the overall transfer function\n$$\nT(s) \\equiv \\frac{Y(s)}{R(s)} = \\frac{a b c}{1 - g - h b} + \\frac{d e f}{1 - m - k e}.\n$$\nExpressed as a single rational function,\n$$\nT(s) = \\frac{a b c\\,(1 - m - k e) + d e f\\,(1 - g - h b)}{(1 - g - h b)(1 - m - k e)}.\n$$", "answer": "$$\\boxed{\\frac{a b c\\left(1 - m - k e\\right) + d e f\\left(1 - g - h b\\right)}{\\left(1 - g - h b\\right)\\left(1 - m - k e\\right)}}$$", "id": "1610001"}, {"introduction": "In system design, it is common for different structural configurations to yield identical functional behavior. This practice explores the concept of system equivalence by asking you to prove that two distinct Signal Flow Graphs share the same transfer function. By applying Mason's Gain Formula to both systems [@problem_id:1609987], you will develop a deeper appreciation for how this powerful tool abstracts away structural details to reveal the fundamental input-output dynamics.", "problem": "Two competing engineering groups, Team Epsilon and Team Zeta, have proposed different architectures for a linear time-invariant control system. Both systems are designed to have the same input signal $R(s)$ and output signal $Y(s)$, where $s$ is the complex frequency variable.\n\nThe architecture proposed by Team Epsilon is described by a Signal Flow Graph (SFG) with four nodes: an input node $R$, an output node $Y$, and two intermediate nodes $N_1$ and $N_2$. The directed paths and their associated gains are as follows:\n- a path from $R$ to $N_1$ with gain $G_1$\n- a path from $N_1$ to $N_2$ with gain $G_2$\n- a path from $N_2$ to $Y$ with gain $G_3$\n- a feedback path from $N_2$ to $N_1$ with gain $H_1$\n- a feedback path from $Y$ to $N_2$ with gain $H_2$\n\nThe architecture proposed by Team Zeta is described by a simpler SFG with three nodes: an input node $R$, an output node $Y$, and one intermediate node $M_1$. Its paths and gains are as follows:\n- a path from $R$ to $M_1$ with gain $G_1$\n- a path from $M_1$ to $Y$ with gain $G_2 G_3$\n- a self-loop on node $M_1$ with gain $(G_2 H_1 + G_3 H_2)$\n\nDespite their structural differences, the lead engineer claims both systems are functionally identical. To verify this claim, determine the single overall transfer function $T(s) = Y(s)/R(s)$ that represents both systems. Express your answer as a symbolic expression in terms of the gains $G_1, G_2, G_3, H_1$, and $H_2$.", "solution": "To solve this problem, we will determine the overall transfer function for each of the two Signal Flow Graphs (SFGs) using Mason's Gain Formula. The formula is given by:\n$$T(s) = \\frac{\\sum_{k} P_k \\Delta_k}{\\Delta}$$\nwhere $P_k$ is the gain of the $k$-th forward path from input to output, $\\Delta$ is the determinant of the graph, and $\\Delta_k$ is the cofactor of the $k$-th forward path.\n\nThe determinant $\\Delta$ is calculated as:\n$\\Delta = 1 - (\\text{sum of all individual loop gains}) + (\\text{sum of gain products of all pairs of non-touching loops}) - (\\text{sum of gain products of all sets of three non-touching loops}) + \\dots$\n\nThe cofactor $\\Delta_k$ is the value of $\\Delta$ for the subgraph that does not touch the $k$-th forward path.\n\n**Part 1: Analysis of Team Epsilon's SFG**\n\nFirst, we identify the forward paths from input $R$ to output $Y$.\nThere is only one forward path: $P_1 = R \\to N_1 \\to N_2 \\to Y$.\nThe gain of this path is the product of the gains along the path:\n$$P_1 = G_1 G_2 G_3$$\n\nNext, we identify all the individual loops in the graph.\n- Loop 1 ($L_1$): This loop goes from node $N_1$ to $N_2$ and back to $N_1$. The path is $N_1 \\to N_2 \\to N_1$. The gain is $L_1 = G_2 H_1$.\n- Loop 2 ($L_2$): This loop goes from node $N_2$ to $Y$ and back to $N_2$. The path is $N_2 \\to Y \\to N_2$. The gain is $L_2 = G_3 H_2$.\n\nNow, we check if there are any pairs of non-touching loops.\nLoop $L_1$ involves nodes $N_1$ and $N_2$.\nLoop $L_2$ involves nodes $N_2$ and $Y$.\nSince both loops share the common node $N_2$, they are touching loops. There are no pairs of non-touching loops.\n\nWe can now calculate the determinant $\\Delta_E$ for Team Epsilon's graph.\n$$\\Delta_E = 1 - (L_1 + L_2) = 1 - (G_2 H_1 + G_3 H_2) = 1 - G_2 H_1 - G_3 H_2$$\n\nNext, we calculate the cofactor $\\Delta_1$ for the forward path $P_1$. The path $P_1$ passes through nodes $N_1$, $N_2$, and $Y$. Since this path touches both loops $L_1$ (at nodes $N_1, N_2$) and $L_2$ (at nodes $N_2, Y$), all loops are removed from the calculation of $\\Delta_1$. Therefore, $\\Delta_1 = 1$.\n\nFinally, we apply Mason's Gain Formula to find the transfer function $T_E(s)$ for Team Epsilon's system.\n$$T_E(s) = \\frac{P_1 \\Delta_1}{\\Delta_E} = \\frac{G_1 G_2 G_3}{1 - G_2 H_1 - G_3 H_2}$$\n\n**Part 2: Analysis of Team Zeta's SFG**\n\nNow, we repeat the process for Team Zeta's SFG.\nFirst, we identify the forward paths from input $R$ to output $Y$.\nThere is only one forward path: $P'_1 = R \\to M_1 \\to Y$.\nThe gain of this path is the product of the gains along the path:\n$$P'_1 = (G_1)(G_2 G_3) = G_1 G_2 G_3$$\n\nNext, we identify all the individual loops in the graph.\nThere is only one loop, a self-loop on node $M_1$. The problem statement gives its gain directly:\n$$L'_1 = G_2 H_1 + G_3 H_2$$\n\nSince there is only one loop, there can be no pairs of non-touching loops.\n\nWe can now calculate the determinant $\\Delta_Z$ for Team Zeta's graph.\n$$\\Delta_Z = 1 - (L'_1) = 1 - (G_2 H_1 + G_3 H_2) = 1 - G_2 H_1 - G_3 H_2$$\n\nNext, we calculate the cofactor $\\Delta'_1$ for the forward path $P'_1$. The path $P'_1$ passes through node $M_1$. Since the loop $L'_1$ is a self-loop on node $M_1$, the path touches the loop. Therefore, all loops are removed from the calculation of $\\Delta'_1$, and we get $\\Delta'_1 = 1$.\n\nFinally, we apply Mason's Gain Formula to find the transfer function $T_Z(s)$ for Team Zeta's system.\n$$T_Z(s) = \\frac{P'_1 \\Delta'_1}{\\Delta_Z} = \\frac{G_1 G_2 G_3}{1 - G_2 H_1 - G_3 H_2}$$\n\n**Conclusion**\n\nComparing the results, we find that $T_E(s) = T_Z(s)$. This verifies the lead engineer's claim that both systems are functionally identical. The single overall transfer function that represents both systems is:\n$$T(s) = \\frac{G_1 G_2 G_3}{1 - G_2 H_1 - G_3 H_2}$$", "answer": "$$\\boxed{\\frac{G_{1} G_{2} G_{3}}{1 - G_{2} H_{1} - G_{3} H_{2}}}$$", "id": "1609987"}, {"introduction": "Signal Flow Graphs are more than just a tool for calculating transfer functions; they provide deep insights into the internal properties of a system. This advanced problem demonstrates the connection between the graphical structure of an SFG and the fundamental control concept of observability. By analyzing the graph [@problem_id:1610015], you will see how a pole-zero cancellation in the transfer function corresponds to an unobservable state, linking graphical analysis directly to the state-space properties of the system.", "problem": "A linear time-invariant (LTI) control system is described by a Signal Flow Graph (SFG). The graph models the interactions between an input signal $U$, an output signal $Y$, and two internal state variables, $X_1$ and $X_2$. The nodes of the SFG consist of the input $U$, the output $Y$, the state variables $X_1$ and $X_2$, and their corresponding derivatives in the Laplace domain, $sX_1$ and $sX_2$.\n\nThe structure of the system is defined by the following directed paths and their associated gains, where $p_1$, $p_2$, and $k_u$ are distinct, positive real constants:\n\n1.  Standard integrator paths exist from $sX_1$ to $X_1$ and from $sX_2$ to $X_2$, both with a gain of $1/s$.\n2.  There is a path from the input node $U$ to the derivative node $sX_2$ with a gain of $k_u$.\n3.  There is a path from the state node $X_2$ to its own derivative node $sX_2$ with a gain of $-p_2$.\n4.  There is a path from the state node $X_2$ to the derivative node $sX_1$ with a gain of $1$.\n5.  There is a path from the state node $X_1$ to its own derivative node $sX_1$ with a gain of $-p_1$.\n6.  The output $Y$ is a linear combination of the states. There is a path from state node $X_1$ to output node $Y$ with a gain of $c_1$, and a path from state node $X_2$ to output node $Y$ with a gain of $c_2$.\n\nThe output gains are specifically chosen such that they satisfy the relations $c_1 = p_2 - p_1$ and $c_2 = 1$. Due to this particular configuration, a pole-zero cancellation occurs in the system's input-output transfer function, which renders one of the state variables structurally unobservable from the output $Y$.\n\nBased on an analysis of the system described, which state variable is unobservable?\n\nA. $X_1$\n\nB. $X_2$\n\nC. Both $X_1$ and $X_2$ are unobservable.\n\nD. The system is fully observable; neither state is unobservable.", "solution": "From the given signal-flow relations, the state equations in the time domain are\n$$\n\\dot{x}_{1}=-p_{1}x_{1}+x_{2},\\qquad \\dot{x}_{2}=-p_{2}x_{2}+k_{u}u,\n$$\nand the output is\n$$\ny=c_{1}x_{1}+c_{2}x_{2},\\qquad c_{1}=p_{2}-p_{1},\\quad c_{2}=1.\n$$\nEquivalently, in the Laplace domain,\n$$\nsX_{1}=-p_{1}X_{1}+X_{2}\\;\\Rightarrow\\;(s+p_{1})X_{1}=X_{2}\\;\\Rightarrow\\;X_{1}=\\frac{X_{2}}{s+p_{1}},\n$$\n$$\nsX_{2}=-p_{2}X_{2}+k_{u}U\\;\\Rightarrow\\;(s+p_{2})X_{2}=k_{u}U\\;\\Rightarrow\\;X_{2}=\\frac{k_{u}}{s+p_{2}}\\,U,\n$$\nand\n$$\nY=c_{1}X_{1}+c_{2}X_{2}=X_{2}\\left(\\frac{c_{1}}{s+p_{1}}+c_{2}\\right).\n$$\nThus the input-output transfer function is\n$$\n\\frac{Y}{U}=\\frac{k_{u}\\left(\\frac{c_{1}}{s+p_{1}}+c_{2}\\right)}{s+p_{2}}=\\frac{k_{u}\\left(c_{1}+c_{2}(s+p_{1})\\right)}{(s+p_{1})(s+p_{2})}.\n$$\nWith $c_{1}=p_{2}-p_{1}$ and $c_{2}=1$, the numerator becomes $s+p_{2}$, so\n$$\n\\frac{Y}{U}=\\frac{k_{u}(s+p_{2})}{(s+p_{1})(s+p_{2})}=\\frac{k_{u}}{s+p_{1}}.\n$$\nTherefore the pole at $s=-p_{2}$ is canceled by a zero. In LTI systems, an exact pole-zero cancellation in the input-output map removes that mode from the measured output, indicating an unobservable mode at the canceled pole.\n\nTo link this to the state, write the state-space matrices\n$$\nA=\\begin{pmatrix}-p_{1}&1\\\\0&-p_{2}\\end{pmatrix},\\quad B=\\begin{pmatrix}0\\\\ k_{u}\\end{pmatrix},\\quad C=\\begin{pmatrix}p_{2}-p_{1}&1\\end{pmatrix}.\n$$\nThe eigenvalues of $A$ are $-p_{1}$ and $-p_{2}$. The canceled pole is $-p_{2}$, hence the mode associated with $-p_{2}$ is unobservable. Since $A$ is upper triangular with diagonal entry $-p_{2}$ in the second state channel (and the self-loop $-p_{2}$ is on $X_{2}$ in the SFG), this unobservable mode corresponds to the state $X_{2}$.\n\nFor completeness, the observability matrix is\n$$\n\\mathcal{O}=\\begin{pmatrix}C\\\\ CA\\end{pmatrix}\n=\\begin{pmatrix}p_{2}-p_{1}&1\\\\ -p_{1}(p_{2}-p_{1})&-p_{1}\\end{pmatrix},\n$$\nwhose determinant is zero, confirming loss of one observable mode. The corresponding unobservable eigenmode is the $-p_{2}$ mode, i.e., the one structurally associated with $X_{2}$.\n\nTherefore, the unobservable state variable is $X_{2}$.", "answer": "$$\\boxed{B}$$", "id": "1610015"}]}