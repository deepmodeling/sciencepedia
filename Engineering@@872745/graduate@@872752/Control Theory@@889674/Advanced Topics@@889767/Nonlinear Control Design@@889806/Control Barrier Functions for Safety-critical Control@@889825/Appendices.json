{"hands_on_practices": [{"introduction": "Before designing controllers to enforce safety, it is essential to understand the fundamental geometric condition for a set to be forward invariant. This practice explores this core concept from viability theory by examining an uncontrolled system. You will use the formal definition of the Bouligand contingent cone to verify Nagumo's theorem, which states that a set is forward invariant if and only if the system's vector field at any boundary point does not point outside the set [@problem_id:2695271]. This exercise provides a first-principles understanding of the geometric foundation upon which all control barrier functions are built.", "problem": "Consider the uncontrolled scalar system given by the ordinary differential equation $\\dot{x}=-x+x^{3}$, and the safety set defined by the superlevel set of a candidate barrier function $h(x)=1-x^{2}$ as $C=\\{x\\in\\mathbb{R}:h(x)\\ge 0\\}=[-1,1]$. In the context of Control Barrier Functions (CBF), forward invariance of $C$ can be checked using the Bouligand contingent tangent cone and a boundary condition reminiscent of Nagumoâ€™s theorem.\n\nStarting from first principles, use the definition of the Bouligand contingent tangent cone\n$$\nT_{C}(x)=\\left\\{v\\in\\mathbb{R}:\\,\\exists\\,t_{k}\\downarrow 0^{+},\\,x_{k}\\in C,\\,x_{k}\\to x,\\,\\frac{x_{k}-x}{t_{k}}\\to v\\right\\},\n$$\nto derive $T_{C}(x)$ at the boundary points $x=1$ and $x=-1$ of $C$. Then, using only the fundamental definition of forward invariance for differential equations $\\dot{x}=f(x)$ together with the tangent-cone condition, determine whether $C$ is forward invariant for the given system by checking whether $f(x)\\in T_{C}(x)$ at the boundary points.\n\nTo encode your invariance verdict as a single real number, define the scalar violation margin\n$$\nV=\\max\\big(f(1),\\,-f(-1)\\big),\n$$\nwhere $f(x)=-x+x^{3}$. If $V\\le 0$, then $C$ is forward invariant; if $V0$, then $C$ is not forward invariant. Compute $V$ exactly. No rounding is required. Report the final value of $V$ as a pure number (dimensionless).", "solution": "The problem statement is first validated for scientific soundness and consistency.\nThe givens are:\n1.  System dynamics: $\\dot{x} = f(x) = -x+x^{3}$.\n2.  Safety set: $C = \\{x \\in \\mathbb{R} : h(x) \\ge 0\\}$ where $h(x) = 1-x^{2}$, which simplifies to $C = [-1, 1]$.\n3.  Bouligand contingent tangent cone definition: $T_{C}(x)=\\left\\{v\\in\\mathbb{R}:\\,\\exists\\,t_{k}\\downarrow 0^{+},\\,x_{k}\\in C,\\,x_{k}\\to x,\\,\\frac{x_{k}-x}{t_{k}}\\to v\\right\\}$.\n4.  Task: Derive $T_C(x)$ at the boundary points $x = 1$ and $x = -1$.\n5.  Task: Check for forward invariance by verifying if $f(x) \\in T_C(x)$ at the boundary.\n6.  Violation margin definition: $V = \\max(f(1), -f(-1))$.\n7.  Final objective: Compute the exact value of $V$.\n\nThe problem is scientifically grounded in the fields of dynamical systems and control theory, specifically viability theory. It is well-posed, objective, and contains all necessary information to proceed. All terms are standard and defined. There are no contradictions or unrealistic assumptions. The problem is therefore deemed valid. We proceed with the solution.\n\nThe first step is to derive the Bouligand contingent tangent cone $T_C(x)$ for the set $C = [-1, 1]$ at its boundary points, $\\partial C = \\{-1, 1\\}$.\n\nConsider the boundary point $x=1$.\nTo find $T_C(1)$, we seek all possible limit vectors $v$ such that for a sequence of times $t_k \\to 0^+$ and a sequence of points $x_k \\in C$ converging to $1$, we have $\\frac{x_k-1}{t_k} \\to v$.\nSince $x_k \\in C = [-1, 1]$, it must be that $x_k \\le 1$ for all $k$. Consequently, the numerator $x_k - 1 \\le 0$. The denominator $t_k$ is strictly positive. Therefore, the ratio $\\frac{x_k-1}{t_k} \\le 0$. The limit of a sequence of non-positive numbers must be non-positive, so it must be that $v \\le 0$.\nNow, we must show that any $v \\le 0$ is attainable. Let $v$ be an arbitrary non-positive real number. We must construct appropriate sequences. Let $t_k = \\frac{1}{k}$ for $k \\in \\mathbb{Z}^+$, so $t_k \\downarrow 0^+$. Define the sequence $x_k = 1 + v t_k = 1 + \\frac{v}{k}$.\nWe verify the conditions:\n1.  $x_k \\to 1$ as $k \\to \\infty$: $\\lim_{k\\to\\infty} (1 + \\frac{v}{k}) = 1 + 0 = 1$. This is satisfied.\n2.  $\\frac{x_k - 1}{t_k} \\to v$: $\\frac{(1 + v t_k) - 1}{t_k} = \\frac{v t_k}{t_k} = v$. The sequence is constant and its limit is $v$. This is satisfied.\n3.  $x_k \\in C = [-1, 1]$ for all sufficiently large $k$:\n    - Since $v \\le 0$ and $t_k  0$, $v t_k \\le 0$, which implies $x_k = 1 + v t_k \\le 1$.\n    - We also require $x_k \\ge -1$, which means $1 + \\frac{v}{k} \\ge -1$, or $\\frac{v}{k} \\ge -2$, or $v \\ge -2k$. Since $v$ is a fixed number and $k \\to \\infty$, this inequality holds for all sufficiently large $k$.\nThus, any $v \\le 0$ can be generated. The tangent cone at $x=1$ is the set of all non-positive real numbers.\n$$\nT_C(1) = (-\\infty, 0]\n$$\n\nConsider the boundary point $x=-1$.\nTo find $T_C(-1)$, we seek limits $v$ where $\\frac{x_k - (-1)}{t_k} \\to v$ for $t_k \\to 0^+$ and $x_k \\in C$ with $x_k \\to -1$.\nSince $x_k \\in C = [-1, 1]$, we have $x_k \\ge -1$. The numerator $x_k + 1 \\ge 0$. The denominator $t_k  0$. Therefore, the ratio $\\frac{x_k+1}{t_k} \\ge 0$, and its limit must satisfy $v \\ge 0$.\nNow, we show that any $v \\ge 0$ is attainable. Let $v$ be an arbitrary non-negative real number. Let $t_k = \\frac{1}{k}$ and define the sequence $x_k = -1 + v t_k = -1 + \\frac{v}{k}$.\nWe verify the conditions:\n1.  $x_k \\to -1$ as $k \\to \\infty$: $\\lim_{k\\to\\infty} (-1 + \\frac{v}{k}) = -1 + 0 = -1$. This is satisfied.\n2.  $\\frac{x_k - (-1)}{t_k} \\to v$: $\\frac{(-1 + v t_k) - (-1)}{t_k} = \\frac{v t_k}{t_k} = v$. The limit is $v$. This is satisfied.\n3.  $x_k \\in C = [-1, 1]$ for all sufficiently large $k$:\n    - Since $v \\ge 0$ and $t_k  0$, $v t_k \\ge 0$, which implies $x_k = -1 + v t_k \\ge -1$.\n    - We also require $x_k \\le 1$, meaning $-1 + \\frac{v}{k} \\le 1$, or $\\frac{v}{k} \\le 2$, or $v \\le 2k$. This holds for all sufficiently large $k$.\nThus, any $v \\ge 0$ can be generated. The tangent cone at $x=-1$ is the set of all non-negative real numbers.\n$$\nT_C(-1) = [0, \\infty)\n$$\n\nThe next step is to check for forward invariance of the set $C$. A set $C$ is forward invariant for the system $\\dot{x} = f(x)$ if and only if the vector field $f(x)$ is tangent to the set $C$ at every point on its boundary. This is Nagumo's theorem, formally stated as $f(x) \\in T_C(x)$ for all $x \\in \\partial C$.\nHere, $\\partial C = \\{-1, 1\\}$ and $f(x) = -x + x^{3}$.\n\nWe must check the condition at each boundary point:\n1.  At $x=1$:\n    We calculate the vector field: $f(1) = -1 + (1)^{3} = -1 + 1 = 0$.\n    We check if $f(1) \\in T_C(1)$. We require $0 \\in (-\\infty, 0]$. This is true. The condition is satisfied at $x=1$.\n\n2.  At $x=-1$:\n    We calculate the vector field: $f(-1) = -(-1) + (-1)^{3} = 1 - 1 = 0$.\n    We check if $f(-1) \\in T_C(-1)$. We require $0 \\in [0, \\infty)$. This is also true. The condition is satisfied at $x=-1$.\n\nSince the condition $f(x) \\in T_C(x)$ holds for all points $x \\in \\partial C$, the set $C = [-1, 1]$ is forward invariant for the system $\\dot{x} = -x+x^3$. The vector field points to zero at both boundaries, which means trajectories starting at the boundaries are instantaneously at rest, and trajectories approaching the boundaries will slow down and halt at the boundary. The points $x=-1$, $x=0$, and $x=1$ are the system's equilibria, and $x=-1$ and $x=1$ are stable.\n\nFinally, we compute the violation margin $V$, defined as $V = \\max(f(1), -f(-1))$.\nUsing our previously computed values:\n$f(1) = 0$\n$f(-1) = 0$\nSo, the calculation for $V$ is:\n$$\nV = \\max(0, -0) = \\max(0, 0) = 0\n$$\nThe condition for forward invariance is given as $V \\le 0$. Our result $V=0$ satisfies this condition, which is consistent with our conclusion based on the tangent cone analysis.", "answer": "$$\\boxed{0}$$", "id": "2695271"}, {"introduction": "Building on the concept of forward invariance, this exercise introduces the primary function of a CBF: to synthesize a set of control inputs that guarantee safety. For a given linear system, you will use the Lie derivative to compute the time-derivative of the barrier function, $\\dot{h}(x,u)$, and translate the exponential CBF constraint, $\\dot{h}(x,u) + \\gamma h(x) \\ge 0$, into a direct inequality on the control input $u$. This practice [@problem_id:2695281] demonstrates the core algebraic mechanism of CBF-based control and provides critical insight into the trade-off between the strictness of the safety requirement (the rate $\\gamma$) and the available control authority.", "problem": "Consider the linear control-affine system $\\dot{x} = A x + B u$ with state $x \\in \\mathbb{R}^{2}$ and scalar control $u \\in \\mathbb{R}$. The safety set is defined by the superlevel set of a linear function $h(x) = c^{\\top} x + d$, namely $\\mathcal{S} = \\{ x \\in \\mathbb{R}^{2} \\mid h(x) \\ge 0 \\}$. A Control Barrier Function (CBF) condition with an exponential rate parameter $\\gamma  0$ is enforced by requiring the derivative of $h$ along trajectories to satisfy $\\dot{h}(x,u) + \\gamma h(x) \\ge 0$ at the current state $x$. This is the standard exponential CBF condition that ensures forward invariance of $\\mathcal{S}$ when feasible.\n\nStarting from the fundamental definitions of the Lie derivative and the above inequality (without assuming any closed-form result), derive the set of admissible control inputs that satisfy the CBF inequality for the specific system and barrier data\n$$\nA = \\begin{pmatrix} 0  1 \\\\ -2  -3 \\end{pmatrix}, \\quad\nB = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}, \\quad\nc = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}, \\quad\nd = 1,\n$$\nevaluated at the state\n$$\nx = \\begin{pmatrix} 1 \\\\ -2 \\end{pmatrix}.\n$$\nAssume a hard input bound $|u| \\le U_{\\max}$ with $U_{\\max} = 3$. Your task is to compute the admissible interval of controls $u$ that satisfy both the CBF inequality $\\dot{h}(x,u) + \\gamma h(x) \\ge 0$ and the input bound $|u| \\le U_{\\max}$, expressed explicitly as interval endpoints in terms of $\\gamma$. \n\nAdditionally, analyze how the admissible interval depends on $\\gamma$ (monotonicity and feasibility as $\\gamma$ varies), starting from the fundamental inequality and the given data; provide a logically argued qualitative description as part of your derivation.\n\nProvide your final answer as a $1 \\times 2$ row vector containing the lower and upper endpoints of the admissible interval as a closed-form analytic expression in $\\gamma$. No numerical rounding is required, and no units are necessary. Do not provide inequalities or equations as your final answer; provide the interval endpoints only, in the specified format.", "solution": "The problem requires the derivation of the admissible control interval for a linear control-affine system subject to a Control Barrier Function (CBF) constraint and actuator limits. The derivation must proceed from first principles.\n\nThe system dynamics are given by $\\dot{x} = Ax + Bu$, with $x \\in \\mathbb{R}^{2}$ and $u \\in \\mathbb{R}$. The safety set is defined as $\\mathcal{S} = \\{ x \\in \\mathbb{R}^{2} \\mid h(x) \\ge 0 \\}$, where the barrier function is $h(x) = c^{\\top}x + d$. The safety condition is enforced by the exponential CBF inequality:\n$$\n\\dot{h}(x,u) + \\gamma h(x) \\ge 0\n$$\nwhere $\\gamma  0$ is a given rate parameter. The time derivative of $h(x)$ along the system trajectories, $\\dot{h}(x,u)$, is given by the chain rule: $\\dot{h}(x,u) = \\frac{\\partial h}{\\partial x} \\dot{x}$. For a control-affine system, this expands to:\n$$\n\\dot{h}(x,u) = \\frac{\\partial h}{\\partial x} (Ax + Bu) = \\frac{\\partial h}{\\partial x}Ax + \\frac{\\partial h}{\\partial x}Bu\n$$\nThese terms are the Lie derivatives of $h$ with respect to the system's drift and control vector fields, denoted $L_f h(x) = \\frac{\\partial h}{\\partial x}Ax$ and $L_g h(x) = \\frac{\\partial h}{\\partial x}B$. The CBF inequality can thus be written as:\n$$\nL_f h(x) + L_g h(x) u + \\gamma h(x) \\ge 0\n$$\nWe must first compute each term using the provided data:\n$$\nA = \\begin{pmatrix} 0  1 \\\\ -2  -3 \\end{pmatrix}, \\quad\nB = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}, \\quad\nc = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}, \\quad\nd = 1\n$$\nThe barrier function is $h(x) = c^{\\top}x + d = \\begin{pmatrix} 0  1 \\end{pmatrix} \\begin{pmatrix} x_1 \\\\ x_2 \\end{pmatrix} + 1 = x_2 + 1$.\nThe gradient of $h(x)$ is constant: $\\frac{\\partial h}{\\partial x} = \\nabla h(x)^{\\top} = c^{\\top} = \\begin{pmatrix} 0  1 \\end{pmatrix}$.\n\nNow we calculate the Lie derivative terms:\n$L_f h(x) = c^{\\top} A x = \\begin{pmatrix} 0  1 \\end{pmatrix} \\begin{pmatrix} 0  1 \\\\ -2  -3 \\end{pmatrix} x = \\begin{pmatrix} -2  -3 \\end{pmatrix} \\begin{pmatrix} x_1 \\\\ x_2 \\end{pmatrix} = -2x_1 - 3x_2$.\n$L_g h(x) = c^{\\top} B = \\begin{pmatrix} 0  1 \\end{pmatrix} \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix} = 1$.\n\nThe problem requires evaluation at the specific state $x = \\begin{pmatrix} 1 \\\\ -2 \\end{pmatrix}$. We evaluate $h(x)$ and $L_f h(x)$ at this state:\n$h(\\begin{pmatrix} 1 \\\\ -2 \\end{pmatrix}) = (-2) + 1 = -1$.\n$L_f h(\\begin{pmatrix} 1 \\\\ -2 \\end{pmatrix}) = -2(1) - 3(-2) = -2 + 6 = 4$.\nThe value of $L_g h(x)$ is constant and equals $1$.\n\nSubstituting these numerical values into the CBF inequality:\n$$\n4 + (1)u + \\gamma(-1) \\ge 0\n$$\n$$\n4 + u - \\gamma \\ge 0\n$$\nSolving for the control input $u$, we obtain the constraint imposed by the CBF condition:\n$$\nu \\ge \\gamma - 4\n$$\nThis inequality defines the set of controls that ensure the system state moves towards the safe region $\\mathcal{S}$ with at least the prescribed exponential rate $\\gamma$.\n\nIn addition to the CBF constraint, the control input is subject to actuator limits $|u| \\le U_{\\max}$ with $U_{\\max} = 3$. This corresponds to the closed interval:\n$$\n-3 \\le u \\le 3\n$$\nThe set of admissible control inputs must satisfy both constraints simultaneously. Therefore, we find the intersection of the two sets:\n$$\n\\{ u \\in \\mathbb{R} \\mid u \\ge \\gamma - 4 \\} \\cap \\{ u \\in \\mathbb{R} \\mid -3 \\le u \\le 3 \\}\n$$\nThe resulting admissible interval for $u$ is $[\\max(-3, \\gamma-4), 3]$.\nFor this interval to be non-empty, the lower bound must be less than or equal to the upper bound: $\\max(-3, \\gamma-4) \\le 3$. This is true if and only if $\\gamma - 4 \\le 3$, which simplifies to $\\gamma \\le 7$. Since we are given $\\gamma  0$, the problem is feasible for any $\\gamma \\in (0, 7]$.\n\nNow, we analyze the dependence of this admissible interval on the parameter $\\gamma$.\nThe lower bound on the control required by the CBF, $u_{min, CBF} = \\gamma - 4$, increases linearly with $\\gamma$. This is because a larger $\\gamma$ specifies a more stringent safety requirement (a faster rate of convergence to the safe set), which demands a more forceful control action.\nThe admissible interval for $u$ is $[\\max(-3, \\gamma-4), 3]$.\n- If $0  \\gamma \\le 1$, then $\\gamma - 4 \\le -3$. In this case, the CBF constraint is less restrictive than the actuator's lower limit. The lower bound of the interval is $\\max(-3, \\gamma-4) = -3$. The admissible interval is $[-3, 3]$, meaning the full range of control authority is available.\n- If $1  \\gamma \\le 7$, then $\\gamma - 4  -3$. The CBF constraint becomes the active lower bound. The admissible interval is $[\\gamma-4, 3]$. As $\\gamma$ increases in this range, the lower bound $\\gamma-4$ increases, and the size of the interval, which is $3 - (\\gamma-4) = 7-\\gamma$, shrinks. This illustrates the trade-off: stricter safety (higher $\\gamma$) reduces control freedom.\n- At the feasibility limit $\\gamma = 7$, the interval degenerates to a single point $[3, 3]$, forcing the unique control choice $u=3$.\n- If $\\gamma  7$, the condition $u \\ge \\gamma - 4$ cannot be satisfied by any $u \\in [-3, 3]$, so the admissible set is empty, and the safety objective is infeasible.\n\nThe endpoints of the admissible interval, expressed as a function of $\\gamma$ for feasible cases, are:\nLower endpoint: $u_{min} = \\max(\\gamma-4, -3)$\nUpper endpoint: $u_{max} = 3$\n\nThese expressions constitute the closed-form analytic representation of the interval endpoints.", "answer": "$$\n\\boxed{\\begin{pmatrix} \\max(\\gamma-4, -3)  3 \\end{pmatrix}}\n$$", "id": "2695281"}, {"introduction": "A crucial step in applying CBFs is bridging the gap between continuous-time theory and discrete-time digital implementation. This practice addresses the practical challenge that a safety constraint satisfied at discrete sampling instants does not guarantee safety *between* them due to discretization error. Using a provided bound on the local truncation error, you will derive a \"tightening\" term for the CBF constraint that compensates for the worst-case error introduced by a zero-order-hold implementation [@problem_id:2695318]. This exercise is a fundamental step toward creating robust, practical, and truly safe controllers for implementation on real-world systems.", "problem": "Consider a control-affine system with state $x \\in \\mathbb{R}^{n}$ and input $u \\in \\mathbb{R}^{m}$ governed by $\\dot{x} = f(x) + g(x) u$, where $f$ and $g$ are locally Lipschitz vector fields. Let $h: \\mathbb{R}^{n} \\to \\mathbb{R}$ be a continuously differentiable control barrier function defining the safe set $\\mathcal{C} = \\{ x \\in \\mathbb{R}^{n} : h(x) \\ge 0 \\}$. A continuous-time safety condition is enforced through the inequality $\\dot{h}(x,u) + \\alpha(h(x)) \\ge 0$, where $\\alpha$ is an extended class-$\\mathcal{K}$ function. The controller is implemented digitally with Zero-Order Hold (ZOH) at sampling period $\\Delta  0$, and at each sample time $t_{k}$ a Quadratic Program (QP) enforces the instantaneous constraint $\\dot{h}(x_{k},u_{k}) + \\alpha(h(x_{k})) \\ge \\eta(\\Delta)$ for some tightening term $\\eta(\\Delta)$ to be determined, where $x_{k} = x(t_{k})$ and $u_{k}$ is held constant on $[t_{k}, t_{k+1})$ with $t_{k+1} = t_{k} + \\Delta$.\n\nTo reason about discretization effects, use as a fundamental base the local truncation error bound for the forward Euler method applied to the composite function $t \\mapsto h(x(t))$: there exists a known constant $K \\ge 0$ such that, for all $k$ and all admissible $(x_{k}, u_{k})$ in a compact forward-invariant set containing $\\mathcal{C}$, the one-step error satisfies\n$$\n\\left| h(x(t_{k+1})) - h(x(t_{k})) - \\Delta \\, \\dot{h}(x_{k},u_{k}) \\right| \\le \\frac{1}{2} K \\Delta^{2}.\n$$\nAssume that the discrete-time safety surrogate you wish to guarantee is\n$$\nh(x(t_{k+1})) - h(x(t_{k})) + \\Delta \\, \\alpha(h(x(t_{k}))) \\ge 0\n$$\nfor every time step and every admissible $(x_{k}, u_{k})$.\n\nStarting from these principles and facts, analyze how the discretization error may violate the discrete-time safety surrogate even when $\\dot{h}(x_{k},u_{k}) + \\alpha(h(x_{k})) \\ge 0$ holds at the sampling instant, and derive the smallest tightening term $\\eta^{\\star}(\\Delta)$ that, when used in the sampled-time QP constraint $\\dot{h}(x_{k},u_{k}) + \\alpha(h(x_{k})) \\ge \\eta(\\Delta)$, is sufficient to guarantee the above discrete-time safety surrogate for all steps.\n\nYour final answer must be a single closed-form expression for $\\eta^{\\star}(\\Delta)$ in terms of $K$ and $\\Delta$ only. Do not include any inequality in your final answer.", "solution": "The problem is subjected to validation.\n\nGivens extracted verbatim are:\n1.  System dynamics: $\\dot{x} = f(x) + g(x) u$, with state $x \\in \\mathbb{R}^{n}$ and input $u \\in \\mathbb{R}^{m}$. $f$ and $g$ are locally Lipschitz.\n2.  Control Barrier Function (CBF): $h: \\mathbb{R}^{n} \\to \\mathbb{R}$, continuously differentiable.\n3.  Safe set: $\\mathcal{C} = \\{ x \\in \\mathbb{R}^{n} : h(x) \\ge 0 \\}$.\n4.  Continuous-time safety condition: $\\dot{h}(x,u) + \\alpha(h(x)) \\ge 0$, where $\\alpha$ is an extended class-$\\mathcal{K}$ function.\n5.  Digital implementation: Zero-Order Hold (ZOH) with sampling period $\\Delta  0$. At each sample time $t_{k}$, a control $u_k$ is computed and held constant over the interval $[t_{k}, t_{k+1})$.\n6.  Sampled-time QP constraint: $\\dot{h}(x_{k},u_{k}) + \\alpha(h(x_{k})) \\ge \\eta(\\Delta)$ is enforced at each $t_k$, where $x_k = x(t_k)$.\n7.  One-step error bound: For a known constant $K \\ge 0$, the error is bounded by $\\left| h(x(t_{k+1})) - h(x(t_{k})) - \\Delta \\, \\dot{h}(x_{k},u_{k}) \\right| \\le \\frac{1}{2} K \\Delta^{2}$.\n8.  Target discrete-time safety surrogate: $h(x(t_{k+1})) - h(x(t_{k})) + \\Delta \\, \\alpha(h(x(t_{k}))) \\ge 0$.\n\nThe problem is scientifically grounded within control theory, specifically concerning the robustification of control barrier functions for sampled-data systems. It is well-posed, objective, and contains sufficient information for a unique derivation. No contradictions, ambiguities, or pseudo-profound elements are present. The problem is deemed valid.\n\nThe objective is to derive the smallest sufficient tightening term $\\eta^{\\star}(\\Delta)$ such that enforcing the constraint\n$$\n\\dot{h}(x_{k},u_{k}) + \\alpha(h(x_{k})) \\ge \\eta^{\\star}(\\Delta)\n$$\nat each sampling instant $t_{k}$ guarantees that the discrete-time safety surrogate\n$$\nh(x(t_{k+1})) - h(x(t_{k})) + \\Delta \\, \\alpha(h(x_{k})) \\ge 0\n$$\nholds for all steps $k$. Here, $x_{k}$ denotes $x(t_{k})$ and $u_{k}$ is the control input applied over $[t_{k}, t_{k+1})$.\n\nThe core of the analysis lies in the provided one-step error bound, which connects the state at two consecutive sampling instants through the derivative at the beginning of the interval. The inequality\n$$\n\\left| h(x(t_{k+1})) - h(x_{k}) - \\Delta \\, \\dot{h}(x_{k},u_{k}) \\right| \\le \\frac{1}{2} K \\Delta^{2}\n$$\nis equivalent to the pair of inequalities:\n$$\n-\\frac{1}{2} K \\Delta^{2} \\le h(x(t_{k+1})) - h(x_{k}) - \\Delta \\, \\dot{h}(x_{k},u_{k}) \\le \\frac{1}{2} K \\Delta^{2}\n$$\nwhere $\\dot{h}(x_{k},u_{k}) = \\frac{\\partial h}{\\partial x}(x_k) \\cdot (f(x_k) + g(x_k)u_k)$.\n\nTo satisfy the target safety surrogate, we must ensure $h(x(t_{k+1}))$ is sufficiently large. We must therefore reason about the worst-case scenario, which corresponds to the lower bound on $h(x(t_{k+1}))$. From the left-hand side of the above compound inequality, we can establish a lower bound on the one-step evolution of $h(x(t))$:\n$$\nh(x(t_{k+1})) - h(x_{k}) \\ge \\Delta \\, \\dot{h}(x_{k},u_{k}) - \\frac{1}{2} K \\Delta^{2}\n$$\nThis inequality provides a guaranteed lower bound for the change in $h$ over one sampling period.\n\nThe desired discrete-time safety surrogate is:\n$$\nh(x(t_{k+1})) - h(x_{k}) + \\Delta \\, \\alpha(h(x_{k})) \\ge 0\n$$\nTo guarantee this condition holds, we can substitute the lower bound for the term $h(x(t_{k+1})) - h(x_{k})$. This yields a stronger, sufficient condition:\n$$\n\\left( \\Delta \\, \\dot{h}(x_{k},u_{k}) - \\frac{1}{2} K \\Delta^{2} \\right) + \\Delta \\, \\alpha(h(x_{k})) \\ge 0\n$$\nThis new inequality is a sufficient condition that must be satisfied by the choice of $u_k$ to guarantee discrete-time safety. We must now rearrange this condition into the form of the QP constraint to identify the required tightening term $\\eta(\\Delta)$.\n\nAdding $\\frac{1}{2} K \\Delta^{2}$ to both sides gives:\n$$\n\\Delta \\, \\dot{h}(x_{k},u_{k}) + \\Delta \\, \\alpha(h(x_{k})) \\ge \\frac{1}{2} K \\Delta^{2}\n$$\nSince the sampling period $\\Delta$ is strictly positive ($\\Delta  0$), we can divide the entire inequality by $\\Delta$ without changing the direction of the inequality:\n$$\n\\dot{h}(x_{k},u_{k}) + \\alpha(h(x_{k})) \\ge \\frac{1}{2} K \\Delta\n$$\nThis is precisely the form of the constraint enforced by the sampled-time QP, $\\dot{h}(x_{k},u_{k}) + \\alpha(h(x_{k})) \\ge \\eta(\\Delta)$. By direct comparison, we find that setting $\\eta(\\Delta) = \\frac{1}{2} K \\Delta$ provides a sufficient condition.\n\nThe problem requires the *smallest* such sufficient term, $\\eta^{\\star}(\\Delta)$. The derivation shows that any $\\eta(\\Delta) \\ge \\frac{1}{2} K \\Delta$ is sufficient. The bound on the local truncation error is tight, meaning there exist system dynamics and states for which the error term $h(x(t_{k+1})) - h(x_{k}) - \\Delta \\, \\dot{h}(x_{k},u_{k})$ can be arbitrarily close to $-\\frac{1}{2} K \\Delta^{2}$. In such a worst-case scenario, if we choose $\\eta(\\Delta)  \\frac{1}{2} K \\Delta$, it is possible to select a control $u_k$ such that $\\dot{h}(x_{k},u_{k}) + \\alpha(h(x_{k})) = \\eta(\\Delta)$. This would lead to\n$$\n\\Delta \\, \\dot{h}(x_{k},u_{k}) + \\Delta \\, \\alpha(h(x_{k})) = \\Delta \\, \\eta(\\Delta)  \\frac{1}{2} K \\Delta^{2}\n$$\nwhich is insufficient to guarantee safety. Thus, the condition $\\eta(\\Delta) \\ge \\frac{1}{2} K \\Delta$ is not only sufficient but also necessary within this analytical framework. The smallest value that satisfies this is the equality.\n\nTherefore, the smallest sufficient tightening term is:\n$$\n\\eta^{\\star}(\\Delta) = \\frac{1}{2} K \\Delta\n$$", "answer": "$$\n\\boxed{\\frac{1}{2} K \\Delta}\n$$", "id": "2695318"}]}