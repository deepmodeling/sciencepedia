{"hands_on_practices": [{"introduction": "The classic Euler buckling formula assumes the material remains perfectly elastic, which is only true for sufficiently slender columns. This practice explores the boundary where that assumption fails, guiding you to derive the critical slenderness ratio that marks the limit of elastic theory [@problem_id:2894162]. Mastering this concept is the first step in correctly identifying whether a column's stability should be assessed using an elastic or inelastic approach.", "problem": "A straight, prismatic column of length $L$, uniform cross-sectional area $A$, and second moment of area $I$ is pin-supported at both ends. The material obeys an isotropic, rate-independent bilinear stress–strain law in uniaxial compression: linear elastic with modulus $E$ up to the yield stress $\\sigma_{y}$ at strain $\\varepsilon_{y}=\\sigma_{y}/E$, followed by linear hardening with constant tangent (post-yield) modulus $E_{h}$, where $0 \\leq E_{h} < E$. Let the yield load be $P_{y}=A \\sigma_{y}$. Define the radius of gyration $r=\\sqrt{I/A}$ and the effective-length factor $K$ such that the slenderness ratio is $\\lambda = K L / r$.\n\nAdopt the tangent modulus theory of inelastic column buckling, in which the instantaneous tangent modulus $E_{t}$ of the uniaxial stress–strain curve governs the small-deflection buckling eigenvalue. For the bilinear model, $E_{t}=E$ for stresses below or at $\\sigma_{y}$ and $E_{t}=E_{h}$ for stresses above $\\sigma_{y}$. Using only standard beam–column equilibrium and curvature relations, determine the slenderness threshold $\\lambda_{\\mathrm{th}}$ at which the elastic Euler buckling formula and the inelastic (tangent-modulus-based) buckling formula intersect. Express your final answer as a single closed-form symbolic expression in terms of $E$ and $\\sigma_{y}$. Do not introduce any numerical values. No units are required in the final expression.", "solution": "The critical buckling stress, $\\sigma_{cr}$, for a column is given by the generalized Euler formula, which incorporates the tangent modulus, $E_{t}$, at the instant of buckling. For a column with effective length $KL$, cross-sectional area $A$, and second moment of area $I$, the critical stress is:\n$$\n\\sigma_{cr} = \\frac{P_{cr}}{A} = \\frac{\\pi^2 E_t I}{A (KL)^2}\n$$\nUsing the definitions of the radius of gyration, $r = \\sqrt{I/A}$, and the slenderness ratio, $\\lambda = KL/r$, this equation simplifies to:\n$$\n\\sigma_{cr} = \\frac{\\pi^2 E_t}{\\lambda^2}\n$$\nThe tangent modulus, $E_t$, is dependent on the stress level. Based on the provided bilinear material model, we have two distinct regimes:\n\n1.  **Elastic Buckling Regime**: This regime corresponds to buckling at a stress level at or below the material's yield stress, i.e., $\\sigma_{cr} \\leq \\sigma_{y}$. In this range, the material is elastic, and the tangent modulus is equal to the elastic modulus, $E_{t} = E$. The governing equation is the classical Euler buckling formula:\n    $$\n    \\sigma_{cr} = \\frac{\\pi^2 E}{\\lambda^2}\n    $$\n    This formula is applicable only if the slenderness ratio $\\lambda$ is sufficiently large to ensure that the calculated $\\sigma_{cr}$ does not exceed $\\sigma_{y}$.\n\n2.  **Inelastic Buckling Regime**: This regime corresponds to buckling at a stress level above the material's yield stress, i.e., $\\sigma_{cr} > \\sigma_{y}$. In this range, the material has yielded and exhibits strain hardening. The tangent modulus is equal to the post-yield hardening modulus, $E_{t} = E_{h}$. The governing equation is:\n    $$\n    \\sigma_{cr} = \\frac{\\pi^2 E_h}{\\lambda^2}\n    $$\n    This formula is applicable for columns with a slenderness ratio $\\lambda$ small enough that the column becomes unstable only after the average stress has surpassed $\\sigma_{y}$.\n\nThe problem requires finding the slenderness threshold, $\\lambda_{\\mathrm{th}}$, that separates these two behavioral regimes. This threshold represents the boundary condition where the mode of failure transitions from elastic to inelastic buckling. This transition occurs when the critical stress predicted by the elastic Euler formula is exactly equal to the material's yield stress, $\\sigma_{y}$. For any slenderness ratio greater than $\\lambda_{\\mathrm{th}}$, the column will buckle elastically at a stress below $\\sigma_{y}$. For any slenderness ratio less than $\\lambda_{\\mathrm{th}}$, the Euler formula would erroneously predict a buckling stress greater than $\\sigma_{y}$, indicating that the column must first yield, and thus buckling is an inelastic phenomenon.\n\nTherefore, the condition defining the threshold $\\lambda_{\\mathrm{th}}$ is:\n$$\n\\sigma_{y} = \\frac{\\pi^2 E}{\\lambda_{\\mathrm{th}}^2}\n$$\nWe solve this equation for $\\lambda_{\\mathrm{th}}$. Rearranging the terms, we get:\n$$\n\\lambda_{\\mathrm{th}}^2 = \\frac{\\pi^2 E}{\\sigma_{y}}\n$$\nTaking the positive square root, as slenderness ratio is by definition a positive quantity, we arrive at the expression for the slenderness threshold:\n$$\n\\lambda_{\\mathrm{th}} = \\sqrt{\\frac{\\pi^2 E}{\\sigma_{y}}}\n$$\nThis can be simplified to:\n$$\n\\lambda_{\\mathrm{th}} = \\pi \\sqrt{\\frac{E}{\\sigma_{y}}}\n$$\nThis expression is in terms of only the specified variables $E$ and $\\sigma_{y}$, as required. The existence of the hardening modulus $E_h$ is what defines the behavior in the inelastic range ($\\lambda < \\lambda_{\\mathrm{th}}$), but its value is not required to find the boundary itself.", "answer": "$$\n\\boxed{\\pi \\sqrt{\\frac{E}{\\sigma_{y}}}}\n$$", "id": "2894162"}, {"introduction": "Once a column is determined to be in the inelastic range, how do we calculate its buckling load? This exercise provides a direct application of Engesser's tangent modulus theory for a column uniformly stressed beyond its proportional limit [@problem_id:2885503]. By replacing the elastic modulus $E$ with the appropriate tangent modulus $E_t$ for a simple bilinear material, you will calculate the reduced buckling load and gain a concrete understanding of plasticity's destabilizing effect.", "problem": "A straight, prismatic, circular steel column of diameter $d=50\\,\\mathrm{mm}$ and length $L=2.5\\,\\mathrm{m}$ is centrally loaded in compression between ideal pinned-pinned ends. The material is characterized by a bilinear uniaxial stress-strain law:\n- For $0 \\le \\varepsilon \\le \\varepsilon_{p}$, $\\sigma = E\\,\\varepsilon$ with elastic modulus $E=210\\,\\mathrm{GPa}$ and proportional-limit stress $\\sigma_{p}=250\\,\\mathrm{MPa}$, so that $\\varepsilon_{p}=\\sigma_{p}/E$.\n- For $\\varepsilon>\\varepsilon_{p}$, $\\sigma=\\sigma_{p}+H\\left(\\varepsilon-\\varepsilon_{p}\\right)$ with constant tangent (hardening) modulus $H=8\\,\\mathrm{GPa}$.\n\nThe column is brought to a uniform compressive strain $\\varepsilon^{\\ast}=1.50\\times 10^{-3}$ under quasi-static loading, with no residual stresses and no initial geometric imperfections. Neglect shear deformation in accordance with Euler–Bernoulli beam theory and assume small deflections.\n\nUsing a first-principles stability analysis about the current preloaded state, treat the incremental flexural response with the tangent modulus approach (i.e., replace the elastic modulus in the linearized moment–curvature relation by the tangent modulus at the pre-strain $\\varepsilon^{\\ast}$). Determine the inelastic critical buckling load corresponding to the lowest mode (pinned–pinned) for this preloaded state.\n\nInstructions:\n- Compute the tangent modulus $E_{t}$ at $\\varepsilon^{\\ast}$ from the bilinear law.\n- Derive the linearized governing equation for lateral deflection and its eigenvalue condition appropriate to the tangent modulus approach.\n- Evaluate the corresponding critical load numerically for the given data.\n- Express the final result as a single number in $\\mathrm{kN}$, rounded to four significant figures.", "solution": "The problem requires the determination of the inelastic critical buckling load for a column preloaded into the plastic range. The appropriate methodology for this is the tangent modulus theory, as specified in the problem statement.\n\nFirst, we must ascertain the state of the material at the specified pre-strain, $\\varepsilon^{\\ast} = 1.50 \\times 10^{-3}$. The material exhibits a bilinear stress-strain relationship. The elastic region is defined for strains $\\varepsilon$ such that $0 \\le \\varepsilon \\le \\varepsilon_{p}$, where $\\varepsilon_{p}$ is the strain at the proportional limit. The proportional limit strain is calculated as:\n$$\n\\varepsilon_{p} = \\frac{\\sigma_{p}}{E}\n$$\nSubstituting the given values, $\\sigma_{p}=250\\,\\mathrm{MPa} = 250 \\times 10^{6}\\,\\mathrm{Pa}$ and $E=210\\,\\mathrm{GPa} = 210 \\times 10^{9}\\,\\mathrm{Pa}$:\n$$\n\\varepsilon_{p} = \\frac{250 \\times 10^{6}\\,\\mathrm{Pa}}{210 \\times 10^{9}\\,\\mathrm{Pa}} = \\frac{25}{21000} = \\frac{1}{840} \\approx 1.1905 \\times 10^{-3}\n$$\nThe given pre-strain is $\\varepsilon^{\\ast} = 1.50 \\times 10^{-3}$. Since $\\varepsilon^{\\ast} > \\varepsilon_{p}$, the column is uniformly compressed into the plastic (hardening) range.\n\nAccording to the tangent modulus theory, the incremental flexural response is governed by the tangent modulus, $E_{t}$, which is the slope of the stress-strain curve at the operating point $\\varepsilon^{\\ast}$. For the given bilinear law, the stress-strain relation for $\\varepsilon > \\varepsilon_{p}$ is $\\sigma=\\sigma_{p}+H\\left(\\varepsilon-\\varepsilon_{p}\\right)$. The tangent modulus is therefore the constant hardening modulus $H$:\n$$\nE_{t} = \\frac{d\\sigma}{d\\varepsilon}\\bigg|_{\\varepsilon=\\varepsilon^{\\ast}} = H = 8\\,\\mathrm{GPa} = 8 \\times 10^{9}\\,\\mathrm{Pa}\n$$\nNow, we derive the governing equation for buckling. Consider the column under an axial compressive load $P$ that has induced the uniform strain $\\varepsilon^{\\ast}$. Let $v(x)$ be a small lateral deflection from the straight equilibrium position. According to Euler-Bernoulli beam theory, the internal bending moment $M(x)$ is related to the curvature $\\frac{d^{2}v}{dx^{2}}$ by:\n$$\nM(x) = E_{t} I \\frac{d^{2}v}{dx^{2}}\n$$\nwhere $I$ is the second moment of area of the cross-section. The internal moment must balance the external moment produced by the axial load $P$ acting on the deflected shape, which is $M_{ext}(x) = -P v(x)$. The negative sign indicates a restoring moment. For equilibrium, $M(x) + P v(x) = 0$. This yields the linearized governing differential equation for the lateral deflection:\n$$\nE_{t} I \\frac{d^{2}v}{dx^{2}} + P v(x) = 0\n$$\nThis is a second-order homogeneous linear ordinary differential equation. Letting $k^{2} = \\frac{P}{E_{t}I}$, the equation becomes $\\frac{d^{2}v}{dx^{2}} + k^{2}v=0$. The general solution is:\n$$\nv(x) = A \\sin(kx) + B \\cos(kx)\n$$\nwhere $A$ and $B$ are constants. These are determined by the boundary conditions. For a pinned-pinned column of length $L$, the deflection is zero at both ends:\n$1$. $v(0) = 0$\n$2$. $v(L) = 0$\n\nApplying the first condition:\n$$\nv(0) = A \\sin(0) + B \\cos(0) = B = 0\n$$\nThe solution reduces to $v(x) = A \\sin(kx)$. Applying the second condition:\n$$\nv(L) = A \\sin(kL) = 0\n$$\nFor a non-trivial solution (i.e., a buckled shape, $A \\neq 0$), we must have $\\sin(kL)=0$. This is the eigenvalue condition, which is satisfied when:\n$$\nkL = n\\pi, \\quad n = 1, 2, 3, \\ldots\n$$\nSubstituting back $k = \\sqrt{\\frac{P}{E_{t}I}}$, we find the possible buckling loads $P_{n}$:\n$$\n\\sqrt{\\frac{P_{n}}{E_{t}I}} L = n\\pi \\implies P_{n} = \\frac{n^{2}\\pi^{2}E_{t}I}{L^{2}}\n$$\nThe lowest critical load, $P_{cr}$, corresponds to the first buckling mode, $n=1$:\n$$\nP_{cr} = \\frac{\\pi^{2}E_{t}I}{L^{2}}\n$$\nThis is the Engesser formula for inelastic buckling. We now compute the required quantities. The column has a circular cross-section with diameter $d = 50\\,\\mathrm{mm} = 0.05\\,\\mathrm{m}$. The second moment of area $I$ is:\n$$\nI = \\frac{\\pi d^{4}}{64} = \\frac{\\pi (0.05\\,\\mathrm{m})^{4}}{64} = \\frac{\\pi (6.25 \\times 10^{-6}\\,\\mathrm{m}^{4})}{64}\n$$\nThe length of the column is $L=2.5\\,\\mathrm{m}$. Substituting all values into the critical load formula:\n$$\nP_{cr} = \\frac{\\pi^{2} (8 \\times 10^{9}\\,\\mathrm{Pa}) \\left( \\frac{\\pi (6.25 \\times 10^{-6}\\,\\mathrm{m}^{4})}{64} \\right)}{(2.5\\,\\mathrm{m})^{2}}\n$$\nWe can simplify the expression:\n$$\nP_{cr} = \\frac{\\pi^{3} (8 \\times 10^{9}) (6.25 \\times 10^{-6})}{64 \\times 6.25} = \\frac{\\pi^{3} \\times 8 \\times 10^{3}}{64} = \\frac{\\pi^{3} \\times 1000}{8} = 125\\pi^{3}\\,\\mathrm{N}\n$$\nNow, we compute the numerical value:\n$$\nP_{cr} \\approx 125 \\times (31.00627668) \\,\\mathrm{N} \\approx 3875.784585\\,\\mathrm{N}\n$$\nThe problem requires the answer in kilonewtons ($\\mathrm{kN}$), rounded to four significant figures.\n$$\nP_{cr} \\approx 3.87578\\,\\mathrm{kN}\n$$\nRounding to four significant figures, we get:\n$$\nP_{cr} = 3.876\\,\\mathrm{kN}\n$$\nThis is the inelastic critical buckling load for the preloaded column.", "answer": "$$\\boxed{3.876}$$", "id": "2885503"}, {"introduction": "Real-world scenarios often involve complex stress distributions, such as in beam-columns, where plasticity is not uniform across the section. This advanced computational practice introduces the powerful fiber model method, which is the basis for modern structural analysis software [@problem_id:2894079]. By discretizing the cross-section, you will assemble the section's true tangent stiffness from first principles and compute the buckling load for non-uniform yielding, bridging the gap between idealized theory and engineering practice.", "problem": "Implement a program that discretizes a rectangular cross-section into fibers along the depth, assigns each fiber a tangent modulus according to its current stress, and assembles the section tangent stiffness quantities needed for an inelastic column buckling assessment based on tangent modulus theory.\n\nYour design must start from fundamental incremental mechanics. Use the small-strain kinematics for a Bernoulli-Euler beam section in bending about one principal axis, where the axial strain field at a section is written as $ \\epsilon(y) = \\epsilon_0 - y \\, \\kappa $, with $ \\epsilon_0 $ the axial strain at the section reference line, $ y $ the coordinate measured along the section depth from a reference, and $ \\kappa $ the curvature. The incremental constitutive law for each fiber is $ \\mathrm{d}\\sigma = E_t(\\sigma) \\, \\mathrm{d}\\epsilon $, where $ \\sigma $ is the current axial stress in the fiber and $ E_t(\\sigma) $ is its tangent modulus evaluated at that stress. The section force resultants increments satisfy $ \\mathrm{d}N = \\int_A \\mathrm{d}\\sigma \\, \\mathrm{d}A $ and $ \\mathrm{d}M = \\int_A -y \\, \\mathrm{d}\\sigma \\, \\mathrm{d}A $, where $ A $ is the cross-sectional area. Your program must discretize these integrals over fibers and assemble the section tangent stiffness terms for axial and bending response. Use the tangent modulus theory for the Euler buckling estimate, in which the bending stiffness in the buckling expression is the section tangent bending stiffness about the current incremental neutral axis.\n\nGeometry and discretization:\n- The cross-section is a rectangle of width $ b $ and depth $ h $. Use $ b = 0.2 $ m and $ h = 0.3 $ m.\n- Discretize the section into $ N_f $ equal-thickness layers along the depth direction ($ y $-axis), with $ N_f = 200 $. Each layer has area $ A_f = b \\, h / N_f $ and centroid coordinate $ y_i $ located at the center of the layer. Let $ y = 0 $ at the geometric centroid, positive toward the top face, so $ y \\in [-h/2, h/2] $.\n\nMaterial and tangent modulus:\n- The base elastic modulus is $ E = 2.10 \\times 10^{11} $ Pa.\n- The post-yield tangent modulus is $ E_p = 5.00 \\times 10^{9} $ Pa.\n- The yield stress magnitude is $ \\sigma_y = 2.50 \\times 10^{8} $ Pa.\n- The tangent modulus function is bilinear, defined fiberwise as $ E_t(\\sigma) = E $ if $ |\\sigma| \\le \\sigma_y $ and $ E_t(\\sigma) = E_p $ if $ |\\sigma| > \\sigma_y $.\n\nStress field specification:\n- For each test case, the current axial stress field varies linearly through the depth according to $ \\sigma(y) = s_0 + s_1 \\, (2y/h) $, with given parameters $ s_0 $ and $ s_1 $ in pascals.\n\nSection tangent stiffness assembly:\n- Compute the $ E_t $-weighted incremental neutral axis location $ y_n $ that satisfies $ \\sum_i E_{t,i} \\, A_f \\, (y_i - y_n) = 0 $. This is the unique $ y_n $ such that $ \\sum_i E_{t,i} \\, A_f \\, y_i = y_n \\sum_i E_{t,i} \\, A_f $.\n- Compute the axial tangent stiffness $ S_N = \\sum_i E_{t,i} \\, A_f $, which has units of newtons.\n- Compute the bending tangent stiffness about the $ z $-axis (i.e., bending in the $ x\\text{-}y $ plane) $ S_M = \\sum_i E_{t,i} \\, A_f \\, (y_i - y_n)^2 $, which has units of newton-meter squared.\n- For a column of length $ L $ and effective length factor $ K $, compute the tangent-modulus Euler critical load $ P_\\text{cr} = \\pi^2 \\, S_M / (K L)^2 $, which has units of newtons. Use the small-deflection buckling criterion consistent with tangent modulus theory.\n\nTest suite:\nUse the following four independent test cases. Each case is defined by $ (s_0, s_1, L, K) $.\n1. Case 1: $ s_0 = 1.00 \\times 10^{8} $ Pa, $ s_1 = 0.00 $ Pa, $ L = 2.00 $ m, $ K = 1.00 $.\n2. Case 2: $ s_0 = 0.00 $ Pa, $ s_1 = 3.00 \\times 10^{8} $ Pa, $ L = 2.00 $ m, $ K = 1.00 $.\n3. Case 3: $ s_0 = 2.00 \\times 10^{8} $ Pa, $ s_1 = 1.00 \\times 10^{8} $ Pa, $ L = 3.00 $ m, $ K = 0.50 $.\n4. Case 4: $ s_0 = 0.00 $ Pa, $ s_1 = 6.00 \\times 10^{8} $ Pa, $ L = 1.00 $ m, $ K = 2.00 $.\n\nProgram requirements:\n- Implement the fiber-layer discretization as specified and compute, for each test case, the triple $ (S_N, S_M, P_\\text{cr}) $ using the definitions above. All integrals must be approximated by summations over the $ N_f $ layers.\n- Express all outputs in International System of Units (SI): $ S_N $ in newtons, $ S_M $ in newton-meter squared, and $ P_\\text{cr} $ in newtons. No angle inputs are required; do not use degrees or radians for any angle in this problem.\n- Your program should produce a single line of output containing the results for the four test cases as a comma-separated list enclosed in square brackets, concatenating the triples for the cases in order. That is, the output must be $ [S_{N,1}, S_{M,1}, P_{\\text{cr},1}, S_{N,2}, S_{M,2}, P_{\\text{cr},2}, S_{N,3}, S_{M,3}, P_{\\text{cr},3}, S_{N,4}, S_{M,4}, P_{\\text{cr},4}] $ with numerical values.", "solution": "The solution requires calculating section properties based on a fiber discretization of the rectangular cross-section. The core of the problem is to determine the tangent modulus for each fiber based on its current stress level and then to sum the contributions of all fibers to obtain the macroscopic section response.\n\nFirst, we discretize the cross-section of width $b$ and depth $h$ into $N_f$ horizontal layers, or fibers. Each fiber has a height of $\\Delta y = h / N_f$ and an area of $A_f = b \\cdot \\Delta y = b h / N_f$. The centroid of the $i$-th fiber (where $i$ is indexed from $0$ to $N_f-1$, bottom to top) is located at coordinate $y_i$:\n$$ y_i = -\\frac{h}{2} + \\left(i + \\frac{1}{2}\\right) \\Delta y = -\\frac{h}{2} + \\left(i + \\frac{1}{2}\\right) \\frac{h}{N_f} $$\n\nFor each test case, the stress $\\sigma_i$ at the centroid of each fiber is calculated using the given linear stress distribution:\n$$ \\sigma_i = \\sigma(y_i) = s_0 + s_1 \\left(\\frac{2y_i}{h}\\right) $$\nwhere $s_0$ and $s_1$ are parameters for the specific case.\n\nNext, the tangent modulus $E_{t,i}$ for each fiber is determined from the bilinear material law, which depends on the absolute value of the stress $\\sigma_i$ relative to the yield stress $\\sigma_y$:\n$$ E_{t,i} = E_t(\\sigma_i) = \\begin{cases} E & \\text{if } |\\sigma_i| \\le \\sigma_y \\\\ E_p & \\text{if } |\\sigma_i| > \\sigma_y \\end{cases} $$\nHere, $E$ is the elastic modulus and $E_p$ is the post-yield tangent modulus.\n\nWith the tangent modulus of each fiber established, we can compute the section's tangent stiffness properties by approximating the governing integrals with summations over the fibers.\n\nThe axial tangent stiffness, $S_N$, is the sum of the stiffness contributions of all fibers:\n$$ S_N = \\sum_{i=0}^{N_f-1} E_{t,i} A_f $$\nThis value corresponds to the integral $\\int_A E_t(y) \\, \\mathrm{d}A$.\n\nThe location of the incremental neutral axis, $y_n$, is the $E_t$-weighted centroid of the section area. It is found by setting the $E_t$-weighted first moment of area about this axis to zero. Solving for $y_n$:\n$$ \\sum_{i=0}^{N_f-1} E_{t,i} A_f (y_i - y_n) = 0 \\implies y_n = \\frac{\\sum_{i=0}^{N_f-1} E_{t,i} A_f y_i}{\\sum_{i=0}^{N_f-1} E_{t,i} A_f} = \\frac{\\sum_{i=0}^{N_f-1} E_{t,i} y_i}{\\sum_{i=0}^{N_f-1} E_{t,i}} $$\nThe term $A_f$ cancels from the numerator and denominator.\n\nThe tangent bending stiffness, $S_M$, is the $E_t$-weighted second moment of area about the incremental neutral axis $y_n$. This is calculated using the parallel axis theorem in its discrete form for each fiber:\n$$ S_M = \\sum_{i=0}^{N_f-1} E_{t,i} A_f (y_i - y_n)^2 $$\nThis value corresponds to the integral $\\int_A E_t(y) (y - y_n)^2 \\, \\mathrm{d}A$, which represents the effective bending stiffness $(EI)_{eff}$ in the tangent modulus theory.\n\nFinally, the tangent modulus critical buckling load, $P_\\text{cr}$, is calculated using the Euler buckling formula with the tangent bending stiffness $S_M$ and the column's effective length, $K L$:\n$$ P_\\text{cr} = \\frac{\\pi^2 S_M}{(K L)^2} $$\n\nThis procedure is applied to each of the four test cases specified in the problem statement. The numerical implementation will use these formulas directly.", "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Calculates inelastic section properties and buckling load for a rectangular\n    cross-section using the tangent modulus theory.\n    \"\"\"\n\n    # --- Problem Constants ---\n    # Geometry\n    b = 0.2  # m\n    h = 0.3  # m\n    Nf = 200 # Number of fibers\n\n    # Material properties\n    E = 2.10e11  # Pa (Elastic Modulus)\n    Ep = 5.00e9   # Pa (Post-yield Tangent Modulus)\n    sigma_y = 2.50e8 # Pa (Yield Stress)\n\n    # --- Discretization ---\n    # Fiber layer thickness\n    dy = h / Nf\n    # Fiber layer area\n    fiber_area = b * dy\n    # Fiber centroid coordinates, from bottom (-h/2) to top (+h/2)\n    y_coords = np.linspace(-h/2 + dy/2, h/2 - dy/2, Nf)\n\n    # --- Test Cases ---\n    test_cases = [\n        # (s0 [Pa], s1 [Pa], L [m], K)\n        (1.00e8, 0.00e8, 2.00, 1.00),\n        (0.00e8, 3.00e8, 2.00, 1.00),\n        (2.00e8, 1.00e8, 3.00, 0.50),\n        (0.00e8, 6.00e8, 1.00, 2.00),\n    ]\n\n    results = []\n    \n    for case in test_cases:\n        s0, s1, L, K = case\n\n        # 1. Calculate stress in each fiber\n        # sigma(y) = s0 + s1 * (2y/h)\n        stress = s0 + s1 * (2 * y_coords / h)\n\n        # 2. Determine tangent modulus for each fiber based on stress\n        # Et = E if |sigma| <= sigma_y, else Ep\n        tangent_modulus = np.where(np.abs(stress) <= sigma_y, E, Ep)\n        \n        # 3. Calculate section tangent stiffness properties\n        # Axial tangent stiffness S_N = sum(Et_i * A_f)\n        S_N = np.sum(tangent_modulus) * fiber_area\n\n        # Incremental neutral axis location y_n\n        # y_n = sum(Et_i * y_i) / sum(Et_i)\n        # Note: A_f cancels out\n        yn_numerator = np.sum(tangent_modulus * y_coords)\n        yn_denominator = np.sum(tangent_modulus)\n        y_n = yn_numerator / yn_denominator\n        \n        # Bending tangent stiffness S_M about the neutral axis\n        # S_M = sum(Et_i * A_f * (y_i - y_n)^2)\n        S_M = np.sum(tangent_modulus * (y_coords - y_n)**2) * fiber_area\n\n        # 4. Calculate tangent-modulus Euler critical load P_cr\n        # P_cr = pi^2 * S_M / (K*L)^2\n        effective_length = K * L\n        P_cr = (np.pi**2 * S_M) / (effective_length**2)\n\n        results.extend([S_N, S_M, P_cr])\n\n    # Format the output as a single comma-separated list in brackets.\n    output_str = f\"[{','.join(map(str, results))}]\"\n    print(output_str)\n\nsolve()\n```", "id": "2894079"}]}