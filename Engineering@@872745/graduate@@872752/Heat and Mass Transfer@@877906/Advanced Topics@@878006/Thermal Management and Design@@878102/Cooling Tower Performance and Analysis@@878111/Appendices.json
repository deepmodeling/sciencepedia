{"hands_on_practices": [{"introduction": "The Merkel method provides the theoretical foundation for cooling tower analysis and design. This practice guides you through building a numerical model from first principles to calculate the required tower 'size,' represented by the volumetric transfer coefficient product $K_a a_v V$. By implementing the governing conservation equations and standard psychrometric relations, you will develop a robust tool for sizing a counterflow tower for a given heat load and operating conditions [@problem_id:2474416].", "problem": "You are asked to implement a numerically robust procedure, based on the Merkel integral, to compute the required product of overall volumetric mass transfer coefficient, interfacial area per unit volume, and tower volume, denoted by $K_a a_v V$, for a counterflow evaporative cooling tower that rejects a specified heat load to an air stream. Your procedure must start from conservation principles and standard psychrometric relations, and must not rely on any pre-tabulated tower performance correlations. All physical inputs use the International System of Units (SI), and all outputs must be reported in the specified SI units.\n\nThe physical setting uses the following modeling bases and assumptions:\n- Conservation of energy for a differential tower slice and steady operation.\n- The Merkel method with the Lewis factor (ratio of heat to mass transfer analog coefficients) assumed equal to unity, and negligible heat capacity of liquid-vapor interfaces.\n- Air is treated as an ideal mixture of Dry Air (DA) and water vapor with standard psychrometric relationships at a uniform total pressure.\n- Water specific heat is treated as constant over the temperature range of interest.\n\nYour program must implement the following fundamental relations and steps:\n\n1. Define the water-side heat flow rate as $Q$ in watts ($\\mathrm{W}$), the inlet and outlet water temperatures as $T_{w,\\mathrm{in}}$ and $T_{w,\\mathrm{out}}$ in degrees Celsius ($^{\\circ}\\mathrm{C}$), the inlet air dry-bulb temperature as $T_{a,\\mathrm{in}}$ in degrees Celsius ($^{\\circ}\\mathrm{C}$), the inlet air relative humidity as $\\phi_{\\mathrm{in}}$ in decimal fraction (e.g., $0.50$ for fifty percent), the total static pressure as $P$ in pascals ($\\mathrm{Pa}$), and the dry-air mass flow rate as $G$ in kilograms per second ($\\mathrm{kg/s}$). The volumetric product $K_a a_v V$ must be reported in kilograms of dry air per second ($\\mathrm{kg/s}$).\n\n2. Compute the water-side heat capacity rate\n$$\nL \\equiv \\dot{m}_w c_{p,w} = \\frac{Q}{\\Delta T_w}, \\quad \\Delta T_w \\equiv T_{w,\\mathrm{in}} - T_{w,\\mathrm{out}},\n$$\nwith $c_{p,w}$ taken constant and absorbed into $L$ by definition as is standard in the Merkel method. Note that $L$ has units of $\\mathrm{W/K}$.\n\n3. Use conservation of energy on a differential slice and the Merkel driving potential to write\n$$\nL\\,\\mathrm{d}T_w = K_a a_v \\left(h_s(T_w) - h_{ma}\\right)\\,\\mathrm{d}V,\n$$\nwhere $h_s(T_w)$ is the specific enthalpy of saturated moist air (per unit mass of dry air) at the interface temperature equal to the local water temperature $T_w$, and $h_{ma}$ is the bulk moist air enthalpy (per unit mass of dry air). The corresponding air-side energy balance gives\n$$\nG\\,\\mathrm{d}h_{ma} = K_a a_v \\left(h_s(T_w) - h_{ma}\\right)\\,\\mathrm{d}V.\n$$\nEliminate $\\mathrm{d}V$ to obtain the operating line slope\n$$\n\\frac{\\mathrm{d}h_{ma}}{\\mathrm{d}T_w} = \\frac{L}{G}.\n$$\nWith the counterflow boundary condition that the inlet air at the tower bottom contacts the outlet water, the bulk air enthalpy along the tower varies linearly with the local water temperature as\n$$\nh_{ma}(T_w) = h_{ma,\\mathrm{in}} + \\frac{L}{G}\\,\\left(T_w - T_{w,\\mathrm{out}}\\right),\n$$\nwhere $h_{ma,\\mathrm{in}}$ is the inlet air enthalpy.\n\n4. Integrate the differential energy balance to obtain the Merkel integral for the required volumetric capacity:\n$$\nK_a a_v V \\;=\\; L \\int_{T_{w,\\mathrm{out}}}^{T_{w,\\mathrm{in}}} \\frac{\\mathrm{d}T_w}{h_s(T_w) - h_{ma}(T_w)}.\n$$\nThis integral must be evaluated numerically.\n\n5. Implement standard psychrometric relations to compute $h_{ma,\\mathrm{in}}$ and $h_s(T_w)$:\n- Saturation vapor pressure over liquid water (valid over $T \\in [0,50]\\,^{\\circ}\\mathrm{C}$) by the Magnus-type relation\n$$\np_{ws}(T) = 610.94\\,\\exp\\!\\left(\\frac{17.625\\,T}{T+243.04}\\right)\\quad\\text{(Pa)},\n$$\nwith $T$ in $^{\\circ}\\mathrm{C}$.\n- Humidity ratio at given $T$ and relative humidity $\\phi$:\n$$\nW(T,\\phi,P) = \\frac{0.62198\\,\\phi\\,p_{ws}(T)}{P - \\phi\\,p_{ws}(T)}\\quad\\text{(kg vapor/kg dry air)}.\n$$\n- Humidity ratio at saturation at the interface temperature:\n$$\nW_s(T,P) = \\frac{0.62198\\,p_{ws}(T)}{P - p_{ws}(T)}.\n$$\n- Moist air specific enthalpy per unit mass of dry air (with $h=0$ at $T=0\\,^{\\circ}\\mathrm{C}$ and zero humidity), using the widely adopted linearized form:\n$$\nh(T,W) = 1000\\left(1.006\\,T + W\\left(2501 + 1.86\\,T\\right)\\right)\\quad\\text{(J/kg dry air)},\n$$\nwith $T$ in $^{\\circ}\\mathrm{C}$. For the saturation enthalpy at the interface, set $W=W_s(T,P)$ and $T=T_w$:\n$$\nh_s(T_w) = h\\!\\left(T_w,\\,W_s(T_w,P)\\right).\n$$\n\n6. Numerical evaluation details:\n- Discretize the water temperature interval $[T_{w,\\mathrm{out}},\\,T_{w,\\mathrm{in}}]$ into a sufficiently fine uniform grid, compute the integrand $1/\\left(h_s(T_w)-h_{ma}(T_w)\\right)$ at each grid point, and integrate by the composite trapezoidal rule.\n- For physical realism, ensure $h_s(T_w) - h_{ma}(T_w) > 0$ over the range; otherwise, the inputs are unphysical for the Merkel method.\n\nInput units and output requirement:\n- Inputs per test case: $Q$ in $\\mathrm{W}$, $T_{w,\\mathrm{in}}$ in $^{\\circ}\\mathrm{C}$, $T_{w,\\mathrm{out}}$ in $^{\\circ}\\mathrm{C}$, $T_{a,\\mathrm{in}}$ in $^{\\circ}\\mathrm{C}$, $\\phi_{\\mathrm{in}}$ as a decimal, $P$ in $\\mathrm{Pa}$, and $G$ in $\\mathrm{kg/s}$.\n- Output per test case: the required $K_a a_v V$ in $\\mathrm{kg/s}$, rounded to three decimal places.\n\nTest suite:\nProvide results for the following five parameter sets. Each set is given as an ordered $7$-tuple $(Q,\\,T_{w,\\mathrm{in}},\\,T_{w,\\mathrm{out}},\\,T_{a,\\mathrm{in}},\\,\\phi_{\\mathrm{in}},\\,P,\\,G)$:\n- Case $1$ (general): $(5.0\\times 10^{6},\\,40.0,\\,30.0,\\,25.0,\\,0.50,\\,101325.0,\\,500.0)$.\n- Case $2$ (humid inlet air): $(2.0\\times 10^{6},\\,35.0,\\,28.0,\\,28.0,\\,0.90,\\,101325.0,\\,300.0)$.\n- Case $3$ (high altitude): $(3.0\\times 10^{6},\\,45.0,\\,32.0,\\,20.0,\\,0.40,\\,85000.0,\\,600.0)$.\n- Case $4$ (large air flow, nearly flat operating line): $(1.0\\times 10^{6},\\,40.0,\\,35.0,\\,20.0,\\,0.50,\\,101325.0,\\,2000.0)$.\n- Case $5$ (small air flow, steep operating line): $(1.0\\times 10^{6},\\,40.0,\\,32.0,\\,25.0,\\,0.50,\\,101325.0,\\,100.0)$.\n\nProgram output format:\nYour program should produce a single line of output containing the five computed $K_a a_v V$ values as a comma-separated list enclosed in square brackets, in the same order as the test suite and rounded to three decimal places; for example, $[x_1,x_2,x_3,x_4,x_5]$ with each $x_i$ in $\\mathrm{kg/s}$.", "solution": "The problem statement submitted for analysis is clear, scientifically sound, and well-posed. It presents a standard engineering task in the field of heat and mass transfer: the sizing of a counterflow cooling tower using the established Merkel method. All necessary physical principles, constitutive relations, and boundary conditions are provided, and the required numerical procedure is specified unambiguously. The problem is free from contradictions, subjective claims, or factual inaccuracies, and its parameters are within a physically plausible range. Thus, I deem the problem valid and will proceed with a rigorous solution.\n\nThe core of the problem lies in the evaluation of the Merkel integral, which quantifies the required \"size\" or \"capacity\" of the cooling tower, represented by the product $K_a a_v V$. This quantity is derived from fundamental principles of energy and mass conservation applied to a differential control volume within the tower.\n\nFirst, we establish the energy balance. The heat rejected by the water stream, $L\\,\\mathrm{d}T_w$, must be transferred to the air stream. In the Merkel model, this transfer is driven by the difference in specific enthalpy between saturated air at the water-air interface, $h_s(T_w)$, and the bulk moist air, $h_{ma}$. This leads to the differential rate equation for a slice of tower volume $\\mathrm{d}V$:\n$$\nL\\,\\mathrm{d}T_w = K_a a_v \\left(h_s(T_w) - h_{ma}\\right)\\,\\mathrm{d}V\n$$\nHere, $L$ is the water-side heat capacity rate, $L = \\frac{Q}{T_{w,\\mathrm{in}} - T_{w,\\mathrm{out}}}$, having units of $\\mathrm{W/K}$ or $\\mathrm{J/(s \\cdot K)}$. The term $K_a a_v$ is the overall volumetric mass transfer coefficient, with units of $\\mathrm{kg/(s \\cdot m^3)}$.\n\nSimultaneously, the energy gained by the air stream as it passes through the same differential volume is given by:\n$$\nG\\,\\mathrm{d}h_{ma} = K_a a_v \\left(h_s(T_w) - h_{ma}\\right)\\,\\mathrm{d}V\n$$\nwhere $G$ is the mass flow rate of dry air in $\\mathrm{kg/s}$.\n\nBy equating the right-hand sides of these two energy balances, we find the relationship between the change in air enthalpy and the change in water temperature:\n$$\nL\\,\\mathrm{d}T_w = G\\,\\mathrm{d}h_{ma} \\implies \\frac{\\mathrm{d}h_{ma}}{\\mathrm{d}T_w} = \\frac{L}{G}\n$$\nThis linear relationship defines the \"operating line\" of the cooling tower. Integrating this from the bottom of the tower (where air enters at $h_{ma,\\mathrm{in}}$ and water leaves at $T_{w,\\mathrm{out}}$) to an arbitrary point in the tower with local water temperature $T_w$ and air enthalpy $h_{ma}(T_w)$ yields:\n$$\nh_{ma}(T_w) - h_{ma,\\mathrm{in}} = \\frac{L}{G} (T_w - T_{w,\\mathrm{out}})\n$$\n$$\nh_{ma}(T_w) = h_{ma,\\mathrm{in}} + \\frac{L}{G} (T_w - T_{w,\\mathrm{out}})\n$$\nThis equation provides the bulk air enthalpy at any point in the tower as a function of the local water temperature.\n\nTo find the required tower capacity, we rearrange the water-side energy balance and integrate over the entire tower height, which corresponds to the water temperature changing from $T_{w,\\mathrm{out}}$ to $T_{w,\\mathrm{in}}$:\n$$\n\\frac{\\mathrm{d}T_w}{h_s(T_w) - h_{ma}(T_w)} = \\frac{K_a a_v}{L} \\mathrm{d}V\n$$\nAssuming $K_a a_v$ is constant throughout the tower, integration gives:\n$$\n\\int_{T_{w,\\mathrm{out}}}^{T_{w,\\mathrm{in}}} \\frac{\\mathrm{d}T_w}{h_s(T_w) - h_{ma}(T_w)} = \\frac{K_a a_v}{L} \\int_0^V \\mathrm{d}V = \\frac{K_a a_v V}{L}\n$$\nRearranging for the desired product $K_a a_v V$ yields the Merkel integral:\n$$\nK_a a_v V = L \\int_{T_{w,\\mathrm{out}}}^{T_{w,\\mathrm{in}}} \\frac{\\mathrm{d}T_w}{h_s(T_w) - h_{ma}(T_w)}\n$$\nThe units of this quantity are $(\\mathrm{J/(s \\cdot K)}) \\cdot (\\mathrm{K / (J/kg)}) = \\mathrm{kg/s}$, as correctly stated in the problem.\n\nThe evaluation requires expressions for the enthalpies $h_s(T_w)$ and $h_{ma}(T_w)$. This necessitates the use of standard psychrometric relations. The sequence of calculation is as follows:\n1.  Calculate the saturation vapor pressure $p_{ws}(T)$ at a given temperature $T$ (in $^{\\circ}\\mathrm{C}$) using the provided Magnus-type formula:\n    $$\n    p_{ws}(T) = 610.94\\,\\exp\\!\\left(\\frac{17.625\\,T}{T+243.04}\\right)\n    $$\n2.  Calculate the humidity ratio $W$. For unsaturated air with relative humidity $\\phi$ at pressure $P$:\n    $$\n    W(T,\\phi,P) = \\frac{0.62198\\,\\phi\\,p_{ws}(T)}{P - \\phi\\,p_{ws}(T)}\n    $$\n    For saturated air at the water interface, $\\phi=1$, and the humidity ratio $W_s$ is:\n    $$\n    W_s(T_w,P) = \\frac{0.62198\\,p_{ws}(T_w)}{P - p_{ws}(T_w)}\n    $$\n3.  Calculate the moist air specific enthalpy $h$ (in $\\mathrm{J/kg}$ dry air) given $T$ (in $^{\\circ}\\mathrm{C}$) and $W$:\n    $$\n    h(T,W) = 1000\\left(1.006\\,T + W\\left(2501 + 1.86\\,T\\right)\\right)\n    $$\n4.  The specific enthalpies for the Merkel integral are then:\n    -   $h_{ma,\\mathrm{in}} = h(T_{a,\\mathrm{in}}, W(T_{a,\\mathrm{in}}, \\phi_{\\mathrm{in}}, P))$\n    -   $h_{ma}(T_w) = h_{ma,\\mathrm{in}} + \\frac{L}{G} (T_w - T_{w,\\mathrm{out}})$\n    -   $h_s(T_w) = h(T_w, W_s(T_w, P))$\n\nThe definite integral is computed numerically. The interval of integration $[T_{w,\\mathrm{out}}, T_{w,\\mathrm{in}}]$ is discretized into a uniform grid of points. The value of the integrand, $\\frac{1}{h_s(T_w) - h_{ma}(T_w)}$, is calculated at each grid point. The composite trapezoidal rule is then applied to these values to approximate the integral. A sufficiently large number of grid points, such as $1000$ or more, ensures high accuracy.\n\nThe implementation will consist of helper functions for the psychrometric calculations and a main function to orchestrate the steps for each test case: calculation of $L$, determination of the inlet air enthalpy $h_{ma,in}$, numerical integration over the water temperature range, and final computation of $K_a a_v V$.", "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the cooling tower performance problem for a suite of test cases\n    based on the Merkel integral method.\n    \"\"\"\n\n    def p_ws(T_celsius):\n        \"\"\"\n        Calculates saturation vapor pressure over liquid water.\n        :param T_celsius: Temperature in degrees Celsius.\n        :return: Saturation pressure in Pascals.\n        \"\"\"\n        return 610.94 * np.exp((17.625 * T_celsius) / (T_celsius + 243.04))\n\n    def W_hum(T_celsius, phi, P_pascal):\n        \"\"\"\n        Calculates humidity ratio for given relative humidity.\n        :param T_celsius: Dry-bulb temperature in degrees Celsius.\n        :param phi: Relative humidity as a decimal fraction.\n        :param P_pascal: Total pressure in Pascals.\n        :return: Humidity ratio in kg vapor / kg dry air.\n        \"\"\"\n        p_v = phi * p_ws(T_celsius)\n        return (0.62198 * p_v) / (P_pascal - p_v)\n\n    def W_sat(T_celsius, P_pascal):\n        \"\"\"\n        Calculates humidity ratio at saturation.\n        :param T_celsius: Temperature in degrees Celsius.\n        :param P_pascal: Total pressure in Pascals.\n        :return: Saturated humidity ratio in kg vapor / kg dry air.\n        \"\"\"\n        p_sat = p_ws(T_celsius)\n        return (0.62198 * p_sat) / (P_pascal - p_sat)\n\n    def h_air(T_celsius, W_kg_per_kg):\n        \"\"\"\n        Calculates moist air specific enthalpy.\n        :param T_celsius: Temperature in degrees Celsius.\n        :param W_kg_per_kg: Humidity ratio in kg vapor / kg dry air.\n        :return: Specific enthalpy in J / kg dry air.\n        \"\"\"\n        return 1000.0 * (1.006 * T_celsius + W_kg_per_kg * (2501.0 + 1.86 * T_celsius))\n\n    def calculate_kavV(params):\n        \"\"\"\n        Calculates the required KaV/L for a single cooling tower case.\n        :param params: A tuple containing (Q, Tw_in, Tw_out, Ta_in, phi_in, P, G).\n        :return: The volumetric product KaV in kg/s.\n        \"\"\"\n        Q, Tw_in, Tw_out, Ta_in, phi_in, P, G = params\n        \n        # 1. Compute water-side heat capacity rate L\n        if Tw_in <= Tw_out:\n            # Physically impossible for cooling, avoids division by zero or negative\n            return float('nan') \n        L = Q / (Tw_in - Tw_out)\n\n        # 2. Compute inlet air properties\n        W_in = W_hum(Ta_in, phi_in, P)\n        h_a_in = h_air(Ta_in, W_in)\n\n        # 3. Define the integrand for the Merkel integral\n        def integrand(Tw):\n            # Enthalpy of saturated air at the interface (water) temperature\n            h_s_Tw = h_air(Tw, W_sat(Tw, P))\n            \n            # Enthalpy of bulk air from the operating line\n            h_a_Tw = h_a_in + (L / G) * (Tw - Tw_out)\n            \n            driving_force = h_s_Tw - h_a_Tw\n            if driving_force <= 0:\n                # Unphysical condition, integral would diverge or be invalid.\n                # In a robust implementation, this would raise an error.\n                # For this problem, we assume valid inputs as per validation.\n                return np.inf\n                \n            return 1.0 / driving_force\n\n        # 4. Numerical integration using the composite trapezoidal rule\n        num_steps = 2000  # Number of steps for integration, ensures high accuracy\n        Tw_grid = np.linspace(Tw_out, Tw_in, num_steps + 1)\n        \n        integrand_values = np.array([integrand(T) for T in Tw_grid])\n        \n        # Use numpy.trapz for integration\n        integral_val = np.trapz(integrand_values, Tw_grid)\n\n        # 5. Compute the final result\n        KaV = L * integral_val\n        \n        return KaV\n\n    # Define the test cases from the problem statement.\n    test_cases = [\n        # (Q,      Tw_in, Tw_out, Ta_in, phi_in, P,       G)\n        (5.0e6, 40.0,  30.0,   25.0,  0.50,   101325.0, 500.0), # Case 1\n        (2.0e6, 35.0,  28.0,   28.0,  0.90,   101325.0, 300.0), # Case 2\n        (3.0e6, 45.0,  32.0,   20.0,  0.40,   85000.0,  600.0), # Case 3\n        (1.0e6, 40.0,  35.0,   20.0,  0.50,   101325.0, 2000.0),# Case 4\n        (1.0e6, 40.0,  32.0,   25.0,  0.50,   101325.0, 100.0), # Case 5\n    ]\n\n    results = []\n    for case in test_cases:\n        result = calculate_kavV(case)\n        results.append(f\"{result:.3f}\")\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(results)}]\")\n\nsolve()\n```", "id": "2474416"}, {"introduction": "While comprehensive models are powerful, engineers often use simplified energy balances for quick assessments, and a common simplification is to assume a constant latent heat of vaporization, $h_{fg}$. This exercise challenges you to quantify the error introduced by this assumption by comparing it against a more accurate, temperature-dependent model for $h_{fg}$ [@problem_id:2474403]. This analysis will sharpen your ability to judge when simplified models are appropriate and to understand the sources of error in thermal system calculations.", "problem": "A mechanical-draft counterflow cooling tower operates at steady state with negligible heat losses to the surroundings. Warm water enters at temperature $T_{w,\\mathrm{in}}$ and mass flow rate $\\dot{m}_{w}$, contacts an upflow of ambient air of dry-air mass flow rate $\\dot{m}_{da}$, and leaves cooled at temperature $T_{w,\\mathrm{out}}$. A measured evaporation rate $\\dot{m}_{\\mathrm{ev}}$ transfers liquid water from the bulk to the air stream. The tower operates near atmospheric pressure. Assume the moist air specific heat per unit mass of dry air, $c_{p,ma}$, and the liquid-water specific heat, $c_{p,w}$, are constants over the relevant temperature range. The dry-bulb temperature of the air increases from $T_{a,\\mathrm{in}}$ to $T_{a,\\mathrm{out}}$. Neglect drift and blowdown so that the only water loss is via evaporation.\n\nA commonly used approximate energy balance on the water side sets the sensible cooling of water equal to the sum of latent heating of the air due to evaporation plus the sensible heating of the air:\n$$\n\\dot{m}_{w}\\,c_{p,w}\\,\\bigl(T_{w,\\mathrm{in}}-T_{w,\\mathrm{out}}\\bigr)\\;=\\;\\dot{m}_{\\mathrm{ev}}\\,h_{fg}^{(\\ast)}\\;+\\;\\dot{m}_{da}\\,c_{p,ma}\\,\\bigl(T_{a,\\mathrm{out}}-T_{a,\\mathrm{in}}\\bigr),\n$$\nwhere $h_{fg}^{(\\ast)}$ is the latent heat of vaporization used in the calculation. Two modeling choices are considered:\n- A constant latent heat $h_{fg}^{(\\mathrm{const})}$.\n- A temperature-dependent latent heat evaluated at the liquid–vapor film temperature, $h_{fg}\\!\\left(T_{\\mathrm{film}}\\right)$.\n\nFor water at near-atmospheric pressure, use the following well-tested approximation for the temperature dependence of the latent heat, obtained from the difference between saturated vapor enthalpy referenced to liquid water at $0\\,^{\\circ}\\mathrm{C}$ and the sensible enthalpy of liquid water:\n$$\nh_{fg}(T_{^{\\circ}\\mathrm{C}})\\;\\approx\\;2500\\;-\\;\\bigl(c_{p,w}-c_{p,v}\\bigr)\\,T_{^{\\circ}\\mathrm{C}}\\quad\\text{(kJ/kg)},\n$$\nwith $c_{p,w}=4.186\\;\\mathrm{kJ/(kg\\cdot K)}$, $c_{p,v}=1.86\\;\\mathrm{kJ/(kg\\cdot K)}$, and $T_{^{\\circ}\\mathrm{C}}$ the temperature in degrees Celsius. The constant value used by the approximate method is $h_{fg}^{(\\mathrm{const})}=2500\\;\\mathrm{kJ/kg}$.\n\nData for this tower:\n- $\\dot{m}_{w}=150\\;\\mathrm{kg/s}$, $T_{w,\\mathrm{in}}=313.15\\;\\mathrm{K}$.\n- $\\dot{m}_{\\mathrm{ev}}=1.50\\;\\mathrm{kg/s}$.\n- $\\dot{m}_{da}=100\\;\\mathrm{kg/s}$, $c_{p,ma}=1.04\\;\\mathrm{kJ/(kg\\cdot K)}$, $T_{a,\\mathrm{in}}=303.15\\;\\mathrm{K}$, $T_{a,\\mathrm{out}}=308.15\\;\\mathrm{K}$.\n- $T_{\\mathrm{film}}=323.15\\;\\mathrm{K}$.\n\nStarting from conservation of energy and consistent definitions of enthalpy for moist air and liquid water, derive the expression for the outlet water temperature predicted by each modeling choice, identify the signed error\n$$\n\\Delta T_{w,\\mathrm{out}}\\;=\\;T_{w,\\mathrm{out}}^{(\\mathrm{const})}\\;-\\;T_{w,\\mathrm{out}}^{(\\mathrm{var})},\n$$\nand compute its value for the given data. Here, $T_{w,\\mathrm{out}}^{(\\mathrm{const})}$ is obtained using $h_{fg}^{(\\mathrm{const})}$, and $T_{w,\\mathrm{out}}^{(\\mathrm{var})}$ is obtained using $h_{fg}\\!\\left(T_{\\mathrm{film}}\\right)$.\n\nExpress the final answer in kelvins. Round your answer to four significant figures.", "solution": "The problem is first subjected to validation.\n\nStep 1: Extract Givens.\nThe givens are:\n- Water mass flow rate, $\\dot{m}_{w} = 150\\;\\mathrm{kg/s}$.\n- Water inlet temperature, $T_{w,\\mathrm{in}} = 313.15\\;\\mathrm{K}$.\n- Evaporation rate, $\\dot{m}_{\\mathrm{ev}} = 1.50\\;\\mathrm{kg/s}$.\n- Dry-air mass flow rate, $\\dot{m}_{da} = 100\\;\\mathrm{kg/s}$.\n- Moist air specific heat, $c_{p,ma} = 1.04\\;\\mathrm{kJ/(kg\\cdot K)}$.\n- Air inlet temperature, $T_{a,\\mathrm{in}} = 303.15\\;\\mathrm{K}$.\n- Air outlet temperature, $T_{a,\\mathrm{out}} = 308.15\\;\\mathrm{K}$.\n- Liquid-water specific heat, $c_{p,w} = 4.186\\;\\mathrm{kJ/(kg\\cdot K)}$.\n- Specific heat of water vapor, $c_{p,v} = 1.86\\;\\mathrm{kJ/(kg\\cdot K)}$.\n- Film temperature, $T_{\\mathrm{film}} = 323.15\\;\\mathrm{K}$.\n- The approximate energy balance equation: $\\dot{m}_{w}\\,c_{p,w}\\,\\bigl(T_{w,\\mathrm{in}}-T_{w,\\mathrm{out}}\\bigr)\\;=\\;\\dot{m}_{\\mathrm{ev}}\\,h_{fg}^{(\\ast)}\\;+\\;\\dot{m}_{da}\\,c_{p,ma}\\,\\bigl(T_{a,\\mathrm{out}}-T_{a,\\mathrm{in}}\\bigr)$.\n- The temperature-dependent latent heat formula: $h_{fg}(T_{^{\\circ}\\mathrm{C}})\\;\\approx\\;2500\\;-\\;\\bigl(c_{p,w}-c_{p,v}\\bigr)\\,T_{^{\\circ}\\mathrm{C}}\\quad\\text{(kJ/kg)}$.\n- The constant latent heat value: $h_{fg}^{(\\mathrm{const})}=2500\\;\\mathrm{kJ/kg}$.\n- The variable latent heat prescription: $h_{fg}^{(\\mathrm{var})} = h_{fg}\\!\\left(T_{\\mathrm{film}}\\right)$.\n- Objective: Compute the signed error $\\Delta T_{w,\\mathrm{out}}\\;=\\;T_{w,\\mathrm{out}}^{(\\mathrm{const})}\\;-\\;T_{w,\\mathrm{out}}^{(\\mathrm{var})}$.\n\nStep 2: Validate Using Extracted Givens.\nThe problem is scientifically grounded, using standard principles of thermodynamics for a cooling tower analysis. It is well-posed, providing all necessary data and a clear objective. The language is objective and precise. The premises are consistent and the data are physically realistic. The problem requires analysis of a specified approximate model, which is a standard task in engineering science. No flaws are identified.\n\nStep 3: Verdict and Action.\nThe problem is valid. A solution will be provided.\n\nThe problem requires the analysis of a given approximate energy balance for the cooling tower. We are to derive expressions for the outlet water temperature, $T_{w,\\mathrm{out}}$, based on this balance. Let the general form of the energy balance be\n$$\n\\dot{m}_{w}\\,c_{p,w}\\,\\bigl(T_{w,\\mathrm{in}}-T_{w,\\mathrm{out}}\\bigr)\\;=\\;\\dot{m}_{\\mathrm{ev}}\\,h_{fg}^{(\\ast)}\\;+\\;\\dot{m}_{da}\\,c_{p,ma}\\,\\bigl(T_{a,\\mathrm{out}}-T_{a,\\mathrm{in}}\\bigr)\n$$\nwhere $h_{fg}^{(\\ast)}$ represents the chosen model for the latent heat of vaporization.\n\nTo find the outlet water temperature, $T_{w,\\mathrm{out}}$, we rearrange this equation:\n$$\nT_{w,\\mathrm{in}}-T_{w,\\mathrm{out}} = \\frac{\\dot{m}_{\\mathrm{ev}}\\,h_{fg}^{(\\ast)}\\;+\\;\\dot{m}_{da}\\,c_{p,ma}\\,\\bigl(T_{a,\\mathrm{out}}-T_{a,\\mathrm{in}}\\bigr)}{\\dot{m}_{w}\\,c_{p,w}}\n$$\n$$\nT_{w,\\mathrm{out}} = T_{w,\\mathrm{in}} - \\frac{\\dot{m}_{\\mathrm{ev}}\\,h_{fg}^{(\\ast)}\\;+\\;\\dot{m}_{da}\\,c_{p,ma}\\,\\bigl(T_{a,\\mathrm{out}}-T_{a,\\mathrm{in}}\\bigr)}{\\dot{m}_{w}\\,c_{p,w}}\n$$\nFor brevity, let the sensible heat absorbed by the air be $\\dot{Q}_{sens,a} = \\dot{m}_{da}\\,c_{p,ma}\\,\\bigl(T_{a,\\mathrm{out}}-T_{a,\\mathrm{in}}\\bigr)$. The expression for the outlet water temperature becomes:\n$$\nT_{w,\\mathrm{out}}^{(\\ast)} = T_{w,\\mathrm{in}} - \\frac{\\dot{m}_{\\mathrm{ev}}\\,h_{fg}^{(\\ast)}\\;+\\;\\dot{Q}_{sens,a}}{\\dot{m}_{w}\\,c_{p,w}}\n$$\nWe now apply the two specified models for the latent heat.\n\nCase 1: Constant latent heat, $h_{fg}^{(\\ast)} = h_{fg}^{(\\mathrm{const})}$.\nThe outlet water temperature is:\n$$\nT_{w,\\mathrm{out}}^{(\\mathrm{const})} = T_{w,\\mathrm{in}} - \\frac{\\dot{m}_{\\mathrm{ev}}\\,h_{fg}^{(\\mathrm{const})}\\;+\\;\\dot{Q}_{sens,a}}{\\dot{m}_{w}\\,c_{p,w}}\n$$\n\nCase 2: Variable latent heat, $h_{fg}^{(\\ast)} = h_{fg}^{(\\mathrm{var})} = h_{fg}(T_{\\mathrm{film}})$.\nThe outlet water temperature is:\n$$\nT_{w,\\mathrm{out}}^{(\\mathrm{var})} = T_{w,\\mathrm{in}} - \\frac{\\dot{m}_{\\mathrm{ev}}\\,h_{fg}(T_{\\mathrm{film}})\\;+\\;\\dot{Q}_{sens,a}}{\\dot{m}_{w}\\,c_{p,w}}\n$$\nThe problem asks for the signed error $\\Delta T_{w,\\mathrm{out}} = T_{w,\\mathrm{out}}^{(\\mathrm{const})} - T_{w,\\mathrm{out}}^{(\\mathrm{var})}$. We subtract the expression for $T_{w,\\mathrm{out}}^{(\\mathrm{var})}$ from the expression for $T_{w,\\mathrm{out}}^{(\\mathrm{const})}$.\n$$\n\\Delta T_{w,\\mathrm{out}} = \\left(T_{w,\\mathrm{in}} - \\frac{\\dot{m}_{\\mathrm{ev}}\\,h_{fg}^{(\\mathrm{const})}\\;+\\;\\dot{Q}_{sens,a}}{\\dot{m}_{w}\\,c_{p,w}}\\right) - \\left(T_{w,\\mathrm{in}} - \\frac{\\dot{m}_{\\mathrm{ev}}\\,h_{fg}(T_{\\mathrm{film}})\\;+\\;\\dot{Q}_{sens,a}}{\\dot{m}_{w}\\,c_{p,w}}\\right)\n$$\nThe terms $T_{w,\\mathrm{in}}$ and the term containing $\\dot{Q}_{sens,a}$ cancel, which simplifies the expression significantly:\n$$\n\\Delta T_{w,\\mathrm{out}} = -\\frac{\\dot{m}_{\\mathrm{ev}}\\,h_{fg}^{(\\mathrm{const})}}{\\dot{m}_{w}\\,c_{p,w}} + \\frac{\\dot{m}_{\\mathrm{ev}}\\,h_{fg}(T_{\\mathrm{film}})}{\\dot{m}_{w}\\,c_{p,w}} = \\frac{\\dot{m}_{\\mathrm{ev}}}{\\dot{m}_{w}\\,c_{p,w}} \\left( h_{fg}(T_{\\mathrm{film}}) - h_{fg}^{(\\mathrm{const})} \\right)\n$$\nThis is the symbolic expression for the error. Now, we substitute the given formulas for the latent heats:\n$h_{fg}^{(\\mathrm{const})} = 2500\\;\\mathrm{kJ/kg}$\n$h_{fg}(T_{\\mathrm{film}}) = 2500 - (c_{p,w} - c_{p,v})T_{\\mathrm{film},{^{\\circ}\\mathrm{C}}}$\nThe difference in latent heats is:\n$$\nh_{fg}(T_{\\mathrm{film}}) - h_{fg}^{(\\mathrm{const})} = \\left(2500 - (c_{p,w} - c_{p,v})T_{\\mathrm{film},{^{\\circ}\\mathrm{C}}}\\right) - 2500 = -(c_{p,w} - c_{p,v})T_{\\mathrm{film},{^{\\circ}\\mathrm{C}}}\n$$\nSubstituting this into the expression for $\\Delta T_{w,\\mathrm{out}}$ yields the final symbolic form for the error:\n$$\n\\Delta T_{w,\\mathrm{out}} = - \\frac{\\dot{m}_{\\mathrm{ev}} (c_{p,w} - c_{p,v}) T_{\\mathrm{film},{^{\\circ}\\mathrm{C}}}}{\\dot{m}_{w} c_{p,w}}\n$$\nWe now proceed with the numerical computation. First, the film temperature must be converted from Kelvin to degrees Celsius as required by the empirical formula for $h_{fg}$:\n$T_{\\mathrm{film},{^{\\circ}\\mathrm{C}}} = T_{\\mathrm{film}} - 273.15 = 323.15 - 273.15 = 50.0\\;^{\\circ}\\mathrm{C}$.\nThe specific heat values are $c_{p,w} = 4.186\\;\\mathrm{kJ/(kg\\cdot K)}$ and $c_{p,v} = 1.86\\;\\mathrm{kJ/(kg\\cdot K)}$.\nThe mass flow rates are $\\dot{m}_{\\mathrm{ev}} = 1.50\\;\\mathrm{kg/s}$ and $\\dot{m}_{w} = 150\\;\\mathrm{kg/s}$.\n\nWe substitute these values into our derived expression:\n$$\n\\Delta T_{w,\\mathrm{out}} = - \\frac{(1.50\\;\\mathrm{kg/s}) \\times (4.186\\;\\mathrm{kJ/(kg\\cdot K)} - 1.86\\;\\mathrm{kJ/(kg\\cdot K)}) \\times 50.0}{(150\\;\\mathrm{kg/s}) \\times (4.186\\;\\mathrm{kJ/(kg\\cdot K)})}\n$$\nNote that the numerical value $50.0$ comes from $T_{\\mathrm{film},{^{\\circ}\\mathrm{C}}}$. The units of specific heat are in terms of temperature intervals, so a Kelvin is equivalent to a degree Celsius difference, and the units are consistent.\n$$\n\\Delta T_{w,\\mathrm{out}} = - \\frac{1.50 \\times (2.326) \\times 50.0}{150 \\times 4.186}\n$$\n$$\n\\Delta T_{w,\\mathrm{out}} = - \\frac{174.45}{627.9} \\approx -0.27784679... \\;\\mathrm{K}\n$$\nThe result must be rounded to four significant figures.\n$$\n\\Delta T_{w,\\mathrm{out}} \\approx -0.2778\\;\\mathrm{K}\n$$\nThe negative sign indicates that the model using the constant latent heat predicts a lower outlet water temperature than the model using the temperature-dependent latent heat. This is expected, as the temperature-dependent latent heat at $50.0\\;^{\\circ}\\mathrm{C}$ is smaller than the constant value of $2500\\;\\mathrm{kJ/kg}$, implying less heat removal from the water for the same evaporation rate.", "answer": "$$\\boxed{-0.2778}$$", "id": "2474403"}, {"introduction": "One-dimensional models are invaluable for initial design, but their accuracy hinges on the assumption of uniform flow, which is rarely true in practice. This problem explores the significant impact of liquid maldistribution on cooling tower performance by comparing a simple 1D lumped model with a more realistic channel-resolved model [@problem_id:2474415]. You will discover how non-uniformities can degrade performance and learn why a more detailed analysis, akin to Computational Fluid Dynamics (CFD), is sometimes necessary for accurate prediction.", "problem": "A crossflow, induced-draft cooling tower is analyzed under conditions where strong lateral maldistribution of liquid water occurs across parallel vertical flow passages. You are to compare a channel-resolved prediction intended to mimic a fine-grid Computational Fluid Dynamics (Computational Fluid Dynamics (CFD)) model against a one-dimensional (one-dimensional (1D)) lumped model, and then quantify the discrepancy in the predicted cold water outlet temperature. The water stream is modeled as a plug flow with negligible axial conduction. The air side is modeled, for this exercise, as a very large capacity sink that maintains a constant wet-bulb temperature throughout the fill. Each channel has an effective overall heat transfer conductance that lumps the height-integrated product of overall heat transfer coefficient and interfacial area.\n\nFundamental base and assumptions to be used:\n- Conservation of energy for the water phase in differential form along the flow direction, with the air treated as an infinite-capacity thermal sink at constant wet-bulb temperature.\n- Plug-flow water in each independent channel, negligible thermal capacitance of the solid packing.\n- For each channel, a constant, height-integrated overall conductance parameter that we denote by $UA_k$ in units of $\\mathrm{W/K}$.\n- The water specific heat is constant and equal to $c_{p,w}$, and the water mass flow in channel $k$ is $m_{w,k}=\\phi_k\\,m_{w,\\mathrm{tot}}$, where $\\phi_k$ are nonnegative flow fractions that sum to $1$.\n\nTasks to perform from first principles:\n1. Starting from conservation of energy, derive for a single channel $k$ a governing relation between the inlet water temperature $T_{w,\\mathrm{in}}$, the outlet water temperature $T_{w,\\mathrm{out},k}$, the wet-bulb temperature $T_{wb}$ (treated as constant), the channel conductance $UA_k$, the channel water flow $m_{w,k}$, and the specific heat $c_{p,w}$, under the plug-flow and constant-parameter assumptions given above. Your derivation should begin from the appropriate differential form of the energy balance and proceed by separation of variables and integration across the control volume.\n2. Define the CFD-like outlet temperature as the mass-flow-weighted average across channels: $T_{w,\\mathrm{out}}^{\\mathrm{CFD}}=\\sum_{k=1}^{N}\\phi_k\\,T_{w,\\mathrm{out},k}$.\n3. Derive the 1D-lumped counterpart by aggregating all channels into one equivalent pass with $UA_{\\mathrm{tot}}=\\sum_{k=1}^{N}UA_k$ and total water flow $m_{w,\\mathrm{tot}}$, and obtain $T_{w,\\mathrm{out}}^{\\mathrm{1D}}$ from the same fundamental balance used in Task $1$.\n4. Quantify the discrepancy using:\n   - Absolute error in Kelvin: $\\Delta T=\\left|T_{w,\\mathrm{out}}^{\\mathrm{CFD}}-T_{w,\\mathrm{out}}^{\\mathrm{1D}}\\right|$.\n   - A relative error as a decimal fraction normalized by the approach to wet-bulb on the CFD-like prediction: $r=\\Delta T/\\max\\left(\\left|T_{w,\\mathrm{out}}^{\\mathrm{CFD}}-T_{wb}\\right|,\\,\\varepsilon\\right)$, where $\\varepsilon$ is a small baseline scale.\n5. Assess model adequacy for each test case by the following criterion: the 1D model is deemed adequate if simultaneously $\\Delta T\\leq 0.5$ and $r\\leq 0.1$, where all temperatures are in Kelvin and the relative error $r$ is a decimal fraction (not a percentage).\n\nUse the following fixed constants in all cases:\n- Water specific heat: $c_{p,w}=4180\\,\\mathrm{J/(kg\\cdot K)}$.\n- Relative-error baseline: $\\varepsilon=0.5\\,\\mathrm{K}$.\n\nTest suite. For each case, the variables are: number of channels $N$, inlet water temperature $T_{w,\\mathrm{in}}$ in Kelvin, wet-bulb temperature $T_{wb}$ in Kelvin, total water mass flow $m_{w,\\mathrm{tot}}$ in $\\mathrm{kg/s}$, the list $\\{UA_k\\}$ in $\\mathrm{W/K}$ for $k=1,\\dots,N$, and the list of flow fractions $\\{\\phi_k\\}$ (dimensionless) that sum to $1$.\n- Case A (strong maldistribution, moderate effectiveness):\n  - $N=4$\n  - $T_{w,\\mathrm{in}}=313.15$\n  - $T_{wb}=298.15$\n  - $m_{w,\\mathrm{tot}}=50$\n  - $\\{UA_k\\}=\\{20000,\\,25000,\\,30000,\\,75000\\}$\n  - $\\{\\phi_k\\}=\\{0.05,\\,0.10,\\,0.15,\\,0.70\\}$\n- Case B (no maldistribution benchmark):\n  - $N=5$\n  - $T_{w,\\mathrm{in}}=308.15$\n  - $T_{wb}=295.15$\n  - $m_{w,\\mathrm{tot}}=60$\n  - $\\{UA_k\\}=\\{10000,\\,10000,\\,10000,\\,10000,\\,10000\\}$\n  - $\\{\\phi_k\\}=\\{0.20,\\,0.20,\\,0.20,\\,0.20,\\,0.20\\}$\n- Case C (extreme maldistribution, very uneven capacity-to-flow):\n  - $N=3$\n  - $T_{w,\\mathrm{in}}=323.15$\n  - $T_{wb}=300.15$\n  - $m_{w,\\mathrm{tot}}=40$\n  - $\\{UA_k\\}=\\{5000,\\,10000,\\,145000\\}$\n  - $\\{\\phi_k\\}=\\{0.60,\\,0.35,\\,0.05\\}$\n- Case D (high overall effectiveness with maldistribution):\n  - $N=4$\n  - $T_{w,\\mathrm{in}}=310.15$\n  - $T_{wb}=299.15$\n  - $m_{w,\\mathrm{tot}}=50$\n  - $\\{UA_k\\}=\\{50000,\\,50000,\\,50000,\\,50000\\}$\n  - $\\{\\phi_k\\}=\\{0.10,\\,0.10,\\,0.30,\\,0.50\\}$\n\nProgram requirements:\n- Implement the derivation to compute $T_{w,\\mathrm{out},k}$ for each channel and then $T_{w,\\mathrm{out}}^{\\mathrm{CFD}}$ and $T_{w,\\mathrm{out}}^{\\mathrm{1D}}$ for each case.\n- Compute for each case the pair $(\\Delta T,\\,r)$ and the adequacy boolean.\n- Express all temperatures in Kelvin. The relative error $r$ must be reported as a decimal fraction. Round all reported floating-point outputs to six decimal places.\n- Final output format: Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, where each test case’s result is a list of the form $[\\Delta T, r, \\mathrm{adequate}]$. For example: $[[\\Delta T_1,r_1,\\mathrm{True}],[\\Delta T_2,r_2,\\mathrm{False}],\\dots]$.", "solution": "We begin from conservation of energy for the water phase in a single vertical channel. Let $z$ be the axial coordinate. The water mass flow in channel $k$ is $m_{w,k}$, the specific heat is $c_{p,w}$, and the bulk water temperature is $T_w(z)$. The air side is treated as a constant-temperature, infinite-capacity sink at the wet-bulb temperature $T_{wb}$, and the height-integrated conductance for channel $k$ is $UA_k$ in $\\mathrm{W/K}$. Under steady state, neglecting axial conduction, the rate of sensible energy loss of the water over a differential span is balanced by the heat transfer to the air sink. The differential energy balance is\n$$\nm_{w,k}\\,c_{p,w}\\,\\frac{dT_w}{dz} \\;=\\; -\\,U a P\\,\\left(T_w(z)-T_{wb}\\right),\n$$\nwhere $U a P$ is the product of overall heat transfer coefficient, interfacial area per unit length, and wet perimeter, which we treat as constant with respect to $z$ within channel $k$. Integrating over the channel height converts $U a P$ to a height-integrated conductance. Introducing the height-integrated parameter\n$$\nUA_k \\;=\\; \\int_0^L U a P \\,dz,\n$$\nand integrating the separable ordinary differential equation from $z=0$ at inlet to $z=L$ at outlet, we obtain\n$$\n\\int_{T_{w,\\mathrm{in}}}^{T_{w,\\mathrm{out},k}} \\frac{dT_w}{T_w-T_{wb}} \\;=\\; -\\,\\int_0^L \\frac{U a P}{m_{w,k}\\,c_{p,w}}\\,dz \\;=\\; -\\,\\frac{UA_k}{m_{w,k}\\,c_{p,w}}.\n$$\nThis yields the logarithmic relation\n$$\n\\ln\\!\\left(\\frac{T_{w,\\mathrm{out},k}-T_{wb}}{T_{w,\\mathrm{in}}-T_{wb}}\\right) \\;=\\; -\\,\\frac{UA_k}{m_{w,k}\\,c_{p,w}},\n$$\nand therefore the single-channel outlet temperature is\n$$\nT_{w,\\mathrm{out},k} \\;=\\; T_{wb} \\;+\\; \\left(T_{w,\\mathrm{in}}-T_{wb}\\right)\\,\\exp\\!\\left(-\\frac{UA_k}{m_{w,k}\\,c_{p,w}}\\right).\n$$\nDefine the water flow split by $\\phi_k$ so that $m_{w,k}=\\phi_k\\,m_{w,\\mathrm{tot}}$ and $\\sum_{k=1}^{N}\\phi_k=1$. The CFD-like (channel-resolved) outlet temperature is then the mass-flow-weighted average\n$$\nT_{w,\\mathrm{out}}^{\\mathrm{CFD}} \\;=\\; \\sum_{k=1}^{N}\\phi_k\\,T_{w,\\mathrm{out},k} \\;=\\; T_{wb} \\;+\\; \\left(T_{w,\\mathrm{in}}-T_{wb}\\right)\\,\\sum_{k=1}^{N}\\phi_k\\,\\exp\\!\\left(-\\frac{UA_k}{\\phi_k\\,m_{w,\\mathrm{tot}}\\,c_{p,w}}\\right).\n$$\n\nFor the one-dimensional lumped model, we consider the entire bundle of channels as a single equivalent pass with aggregate conductance $UA_{\\mathrm{tot}}=\\sum_{k=1}^{N}UA_k$ in parallel with the same total water flow $m_{w,\\mathrm{tot}}$. Repeating the same derivation with $UA_{\\mathrm{tot}}$ and $m_{w,\\mathrm{tot}}$ gives\n$$\nT_{w,\\mathrm{out}}^{\\mathrm{1D}} \\;=\\; T_{wb} \\;+\\; \\left(T_{w,\\mathrm{in}}-T_{wb}\\right)\\,\\exp\\!\\left(-\\frac{UA_{\\mathrm{tot}}}{m_{w,\\mathrm{tot}}\\,c_{p,w}}\\right).\n$$\n\nThe discrepancy metrics are defined as follows. The absolute error is\n$$\n\\Delta T \\;=\\; \\left|T_{w,\\mathrm{out}}^{\\mathrm{CFD}}-T_{w,\\mathrm{out}}^{\\mathrm{1D}}\\right|.\n$$\nTo obtain a scale-aware relative error that remains well-defined in the limit of very small approach to the wet-bulb temperature, we normalize by the larger of the CFD-like approach $A_{\\mathrm{CFD}}=\\left|T_{w,\\mathrm{out}}^{\\mathrm{CFD}}-T_{wb}\\right|$ and a small baseline $\\varepsilon$:\n$$\nr \\;=\\; \\frac{\\Delta T}{\\max\\!\\left(A_{\\mathrm{CFD}},\\,\\varepsilon\\right)}.\n$$\nWith the adequacy criterion posed as $\\Delta T\\leq 0.5$ and $r\\leq 0.1$, we evaluate each test case.\n\nAlgorithmic implementation per test case:\n- Inputs: $N$, $T_{w,\\mathrm{in}}$, $T_{wb}$, $m_{w,\\mathrm{tot}}$, $c_{p,w}$, $\\{UA_k\\}_{k=1}^{N}$, $\\{\\phi_k\\}_{k=1}^{N}$.\n- For each channel $k$, compute $m_{w,k}=\\phi_k\\,m_{w,\\mathrm{tot}}$, the transfer unit $NTU_k=UA_k/(m_{w,k}\\,c_{p,w})$, then $T_{w,\\mathrm{out},k}=T_{wb}+(T_{w,\\mathrm{in}}-T_{wb})\\,e^{-NTU_k}$.\n- Compute $T_{w,\\mathrm{out}}^{\\mathrm{CFD}}=\\sum_{k=1}^{N}\\phi_k\\,T_{w,\\mathrm{out},k}$.\n- Compute $UA_{\\mathrm{tot}}=\\sum_{k=1}^{N}UA_k$, $NTU_{\\mathrm{tot}}=UA_{\\mathrm{tot}}/(m_{w,\\mathrm{tot}}\\,c_{p,w})$, and $T_{w,\\mathrm{out}}^{\\mathrm{1D}}=T_{wb}+(T_{w,\\mathrm{in}}-T_{wb})\\,e^{-NTU_{\\mathrm{tot}}}$.\n- Compute $\\Delta T$, $A_{\\mathrm{CFD}}=\\left|T_{w,\\mathrm{out}}^{\\mathrm{CFD}}-T_{wb}\\right|$, $r=\\Delta T/\\max(A_{\\mathrm{CFD}},\\varepsilon)$ with $\\varepsilon=0.5$, and the adequacy boolean $(\\Delta T\\leq 0.5)\\wedge(r\\leq 0.1)$.\n- Report $[\\Delta T, r, \\mathrm{adequate}]$ with $\\Delta T$ and $r$ rounded to six decimal places.\n\nQualitative expectations for the test suite:\n- Case A, with moderate overall effectiveness and strong but not extreme maldistribution, should yield a small but nonzero $\\Delta T$ and satisfy adequacy.\n- Case B, with uniform conductance and uniform flow, produces identical transfer units across channels, making the channel-average equivalent to the lumped model; thus $\\Delta T$ is effectively zero and adequacy holds.\n- Case C, with very uneven capacity-to-flow ratios, heavily violates the lumped assumption and should yield a large $\\Delta T$ and fail adequacy.\n- Case D, in the high-effectiveness regime with maldistribution, exhibits sensitivity of outlet temperature to flow nonuniformity, likely producing a moderate $\\Delta T$ that fails at least one adequacy condition.\n\nThe accompanying program implements these steps and prints a single-line, list-of-lists with $[\\Delta T, r, \\mathrm{adequate}]$ for each case, using temperatures in Kelvin and relative error as a decimal fraction, both rounded to six decimal places.", "answer": "```python\nimport numpy as np\n\ndef compute_case(T_in, T_wb, m_w_tot, cp_w, UA_list, phi_list, eps=0.5):\n    UA = np.array(UA_list, dtype=float)\n    phi = np.array(phi_list, dtype=float)\n    # Ensure no zero-flow channels to avoid division by zero\n    # (Problem data provides strictly positive splits.)\n    m_w_k = phi * m_w_tot  # kg/s per channel\n    NTU_k = UA / (m_w_k * cp_w)\n    # Channel outlet temperatures based on plug-flow exponential cooling to wet-bulb\n    exp_terms = np.exp(-NTU_k)\n    T_out_k = T_wb + (T_in - T_wb) * exp_terms\n    # CFD-like mass-weighted outlet\n    T_out_cfd = float(np.dot(phi, T_out_k))\n    # 1D lumped outlet\n    UA_tot = float(np.sum(UA))\n    NTU_tot = UA_tot / (m_w_tot * cp_w)\n    T_out_1d = T_wb + (T_in - T_wb) * np.exp(-NTU_tot)\n    # Discrepancy metrics\n    abs_err = abs(T_out_cfd - T_out_1d)\n    approach_cfd = abs(T_out_cfd - T_wb)\n    denom = max(approach_cfd, eps)\n    rel_err = abs_err / denom\n    adequate = (abs_err <= 0.5) and (rel_err <= 0.1)\n    # Round floats to six decimals\n    abs_err = round(abs_err, 6)\n    rel_err = round(rel_err, 6)\n    return [abs_err, rel_err, adequate]\n\ndef solve():\n    cp_w = 4180.0  # J/(kg K)\n    eps = 0.5      # K baseline for relative error\n    test_cases = [\n        # Case A\n        {\n            \"T_in\": 313.15, \"T_wb\": 298.15, \"m_w_tot\": 50.0, \"cp_w\": cp_w,\n            \"UA_list\": [20000.0, 25000.0, 30000.0, 75000.0],\n            \"phi_list\": [0.05, 0.10, 0.15, 0.70]\n        },\n        # Case B\n        {\n            \"T_in\": 308.15, \"T_wb\": 295.15, \"m_w_tot\": 60.0, \"cp_w\": cp_w,\n            \"UA_list\": [10000.0, 10000.0, 10000.0, 10000.0, 10000.0],\n            \"phi_list\": [0.20, 0.20, 0.20, 0.20, 0.20]\n        },\n        # Case C\n        {\n            \"T_in\": 323.15, \"T_wb\": 300.15, \"m_w_tot\": 40.0, \"cp_w\": cp_w,\n            \"UA_list\": [5000.0, 10000.0, 145000.0],\n            \"phi_list\": [0.60, 0.35, 0.05]\n        },\n        # Case D\n        {\n            \"T_in\": 310.15, \"T_wb\": 299.15, \"m_w_tot\": 50.0, \"cp_w\": cp_w,\n            \"UA_list\": [50000.0, 50000.0, 50000.0, 50000.0],\n            \"phi_list\": [0.10, 0.10, 0.30, 0.50]\n        },\n    ]\n\n    results = []\n    for case in test_cases:\n        res = compute_case(\n            T_in=case[\"T_in\"],\n            T_wb=case[\"T_wb\"],\n            m_w_tot=case[\"m_w_tot\"],\n            cp_w=case[\"cp_w\"],\n            UA_list=case[\"UA_list\"],\n            phi_list=case[\"phi_list\"],\n            eps=eps\n        )\n        results.append(res)\n\n    # Final print statement in the exact required format.\n    # Ensure booleans and floats are printed as default Python representations.\n    print(f\"[{','.join(str(r) for r in results)}]\")\n\nsolve()\n```", "id": "2474415"}]}