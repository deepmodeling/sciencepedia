{"hands_on_practices": [{"introduction": "The choice of boundary condition at a fin's tip can significantly influence the calculated heat transfer, yet it is often a point of modeling simplification. This first practice challenges you to rigorously derive and compare the heat transfer rates for a fin with two distinct tip conditions: an insulated (adiabatic) tip and a tip maintained at the ambient fluid temperature. By working from first principles to develop both solutions [@problem_id:2483918], you will gain a quantitative understanding of how these modeling choices affect performance predictions.", "problem": "A straight rectangular fin of uniform cross-section is machined from a solid of thermal conductivity $k$ and attached to a wall kept at a known base temperature $T_b$. The fin has length $L$, constant cross-sectional area $A_c$, and perimeter $P$ exposed to a fluid at ambient temperature $T_{\\infty}$ with a spatially uniform and constant convective heat transfer coefficient $h$. Assume steady, one-dimensional conduction along the fin axis $x \\in [0,L]$ with $x=0$ at the base, no internal heat generation, constant properties, and negligible contact resistance at the base. Let the temperature excess be $\\theta(x) \\equiv T(x) - T_{\\infty}$ and the fin parameter be $m \\equiv \\sqrt{hP/(k A_c)}$.\n\nStarting only from an energy balance on a differential element of the fin, Fourier’s law of heat conduction, and Newton’s law of convective cooling, do the following:\n\n- Formulate and solve the governing linear, homogeneous ordinary differential boundary-value problem for $\\theta(x)$ for the case of a prescribed ambient tip temperature, $\\theta(L)=0$, with the base temperature specified, $\\theta(0)=\\theta_b \\equiv T_b - T_{\\infty}$. From your solution, obtain the base heat rate $q_b^{(\\text{amb tip})}$.\n- For the same fin with the same $m$ and $L$, but with an adiabatic tip, impose $\\frac{d\\theta}{dx}(L)=0$ while keeping $\\theta(0)=\\theta_b$, solve for $\\theta(x)$, and obtain the base heat rate $q_b^{(\\text{adiab tip})}$.\n\nFinally, express the ratio\n$$\nR(mL) \\equiv \\frac{q_b^{(\\text{amb tip})}}{q_b^{(\\text{adiab tip})}}\n$$\nas a single closed-form analytic expression that depends only on the dimensionless group $mL$. Provide your final answer for $R(mL)$ in simplest symbolic form. No numerical evaluation is required, and no units should be reported.", "solution": "The problem as stated is a standard, well-posed exercise in heat transfer and is scientifically sound. We shall proceed with the derivation and solution.\n\nFirst, we must derive the governing differential equation for the temperature distribution in the fin. Consider a differential element of the fin of length $dx$ located at a position $x$ from the base. An energy balance on this element under steady-state conditions dictates that the rate of heat conducted into the element at $x$ must equal the sum of the rate of heat conducted out of the element at $x+dx$ and the rate of heat lost by convection from the surface of the element.\nMathematically, this is expressed as:\n$$\n\\dot{Q}_{\\text{cond, in}} = \\dot{Q}_{\\text{cond, out}} + d\\dot{Q}_{\\text{conv}}\n$$\nLet the rate of heat conduction at position $x$ be $q_x$. Then $\\dot{Q}_{\\text{cond, in}} = q_x$ and $\\dot{Q}_{\\text{cond, out}} = q_{x+dx}$. The heat loss by convection from the differential surface area $dA_s = P dx$ is given by Newton's law of cooling as $d\\dot{Q}_{\\text{conv}} = h (P dx) (T(x) - T_{\\infty})$. The energy balance becomes:\n$$\nq_x = q_{x+dx} + hP(T - T_{\\infty})dx\n$$\nWe can express $q_{x+dx}$ using a Taylor series expansion of $q_x$: $q_{x+dx} = q_x + \\frac{dq_x}{dx}dx + \\dots$. Neglecting higher-order terms, the equation simplifies to:\n$$\n-\\frac{dq_x}{dx} - hP(T - T_{\\infty}) = 0\n$$\nFrom Fourier's law of heat conduction, the heat rate is $q_x = -k A_c \\frac{dT}{dx}$, where $k$ is the thermal conductivity and $A_c$ is the cross-sectional area, both assumed constant. Substituting this into the energy balance gives:\n$$\n-\\frac{d}{dx} \\left(-k A_c \\frac{dT}{dx}\\right) - hP(T - T_{\\infty}) = 0\n$$\n$$\nk A_c \\frac{d^2T}{dx^2} - hP(T - T_{\\infty}) = 0\n$$\nTo simplify, we introduce the temperature excess $\\theta(x) \\equiv T(x) - T_{\\infty}$. Since $T_{\\infty}$ is constant, $\\frac{d\\theta}{dx} = \\frac{dT}{dx}$ and $\\frac{d^2\\theta}{dx^2} = \\frac{d^2T}{dx^2}$. The equation becomes:\n$$\nk A_c \\frac{d^2\\theta}{dx^2} - hP\\theta = 0\n$$\nDividing by $k A_c$ and defining the fin parameter $m^2 \\equiv \\frac{hP}{kA_c}$, we arrive at the required second-order, linear, homogeneous ordinary differential equation:\n$$\n\\frac{d^2\\theta}{dx^2} - m^2\\theta = 0\n$$\nThe general solution to this equation is conveniently expressed using hyperbolic functions:\n$$\n\\theta(x) = C_1 \\cosh(mx) + C_2 \\sinh(mx)\n$$\nwhere $C_1$ and $C_2$ are constants to be determined by the boundary conditions.\n\nCase 1: Prescribed Ambient Tip Temperature\nThe boundary conditions for this case are a specified base temperature, $\\theta(0) = \\theta_b$, and a tip temperature equal to the ambient fluid temperature, $\\theta(L) = 0$.\nApplying the first boundary condition at $x=0$:\n$$\n\\theta(0) = C_1 \\cosh(0) + C_2 \\sinh(0) = C_1 \\cdot 1 + C_2 \\cdot 0 = C_1 = \\theta_b\n$$\nApplying the second boundary condition at $x=L$:\n$$\n\\theta(L) = \\theta_b \\cosh(mL) + C_2 \\sinh(mL) = 0\n$$\nSolving for $C_2$:\n$$\nC_2 = -\\theta_b \\frac{\\cosh(mL)}{\\sinh(mL)}\n$$\nSubstituting the constants back into the general solution gives the temperature distribution:\n$$\n\\theta(x) = \\theta_b \\cosh(mx) - \\theta_b \\frac{\\cosh(mL)}{\\sinh(mL)} \\sinh(mx) = \\frac{\\theta_b}{\\sinh(mL)} \\left[ \\sinh(mL)\\cosh(mx) - \\cosh(mL)\\sinh(mx) \\right]\n$$\nUsing the hyperbolic identity $\\sinh(A-B) = \\sinh(A)\\cosh(B) - \\cosh(A)\\sinh(B)$, the solution simplifies to:\n$$\n\\theta(x) = \\theta_b \\frac{\\sinh(m(L-x))}{\\sinh(mL)}\n$$\nThe base heat rate, $q_b$, is the heat conducted into the fin at its base, $x=0$:\n$$\nq_b^{(\\text{amb tip})} = q_x|_{x=0} = -k A_c \\frac{dT}{dx}\\bigg|_{x=0} = -k A_c \\frac{d\\theta}{dx}\\bigg|_{x=0}\n$$\nFirst, we find the derivative of $\\theta(x)$:\n$$\n\\frac{d\\theta}{dx} = \\frac{\\theta_b}{\\sinh(mL)} \\cdot \\cosh(m(L-x)) \\cdot (-m) = -m \\theta_b \\frac{\\cosh(m(L-x))}{\\sinh(mL)}\n$$\nEvaluating at $x=0$:\n$$\n\\frac{d\\theta}{dx}\\bigg|_{x=0} = -m \\theta_b \\frac{\\cosh(mL)}{\\sinh(mL)}\n$$\nThe base heat rate is therefore:\n$$\nq_b^{(\\text{amb tip})} = -k A_c \\left( -m \\theta_b \\frac{\\cosh(mL)}{\\sinh(mL)} \\right) = k A_c m \\theta_b \\coth(mL)\n$$\nRecalling that $m = \\sqrt{hP/(kA_c)}$, we can write $k A_c m = \\sqrt{k^2 A_c^2 \\cdot hP/(kA_c)} = \\sqrt{hPkA_c}$. Thus:\n$$\nq_b^{(\\text{amb tip})} = \\sqrt{hPkA_c} \\, \\theta_b \\coth(mL)\n$$\n\nCase 2: Adiabatic Tip\nThe boundary conditions are $\\theta(0) = \\theta_b$ and an insulated (adiabatic) tip, which implies no heat flux, so $\\frac{d\\theta}{dx}(L) = 0$.\nThe first boundary condition again yields $C_1 = \\theta_b$.\nTo apply the second boundary condition, we first differentiate the general solution:\n$$\n\\frac{d\\theta}{dx} = m C_1 \\sinh(mx) + m C_2 \\cosh(mx)\n$$\nAt $x=L$:\n$$\n\\frac{d\\theta}{dx}\\bigg|_{x=L} = m \\theta_b \\sinh(mL) + m C_2 \\cosh(mL) = 0\n$$\nSolving for $C_2$:\n$$\nC_2 = -\\theta_b \\frac{\\sinh(mL)}{\\cosh(mL)}\n$$\nThe temperature distribution for the adiabatic tip case is:\n$$\n\\theta(x) = \\theta_b \\cosh(mx) - \\theta_b \\frac{\\sinh(mL)}{\\cosh(mL)} \\sinh(mx) = \\frac{\\theta_b}{\\cosh(mL)} \\left[ \\cosh(mL)\\cosh(mx) - \\sinh(mL)\\sinh(mx) \\right]\n$$\nUsing the identity $\\cosh(A-B) = \\cosh(A)\\cosh(B) - \\sinh(A)\\sinh(B)$, this simplifies to:\n$$\n\\theta(x) = \\theta_b \\frac{\\cosh(m(L-x))}{\\cosh(mL)}\n$$\nThe base heat rate is calculated as before:\n$$\nq_b^{(\\text{adiab tip})} = -k A_c \\frac{d\\theta}{dx}\\bigg|_{x=0}\n$$\nThe derivative is:\n$$\n\\frac{d\\theta}{dx} = \\frac{\\theta_b}{\\cosh(mL)} \\cdot \\sinh(m(L-x)) \\cdot (-m) = -m \\theta_b \\frac{\\sinh(m(L-x))}{\\cosh(mL)}\n$$\nEvaluating at $x=0$:\n$$\n\\frac{d\\theta}{dx}\\bigg|_{x=0} = -m \\theta_b \\frac{\\sinh(mL)}{\\cosh(mL)}\n$$\nThe base heat rate is:\n$$\nq_b^{(\\text{adiab tip})} = -k A_c \\left( -m \\theta_b \\frac{\\sinh(mL)}{\\cosh(mL)} \\right) = k A_c m \\theta_b \\tanh(mL) = \\sqrt{hPkA_c} \\, \\theta_b \\tanh(mL)\n$$\n\nFinally, we compute the ratio $R(mL) \\equiv \\frac{q_b^{(\\text{amb tip})}}{q_b^{(\\text{adiab tip})}}$:\n$$\nR(mL) = \\frac{\\sqrt{hPkA_c} \\, \\theta_b \\coth(mL)}{\\sqrt{hPkA_c} \\, \\theta_b \\tanh(mL)}\n$$\nThe common term $\\sqrt{hPkA_c} \\, \\theta_b$ cancels, leaving:\n$$\nR(mL) = \\frac{\\coth(mL)}{\\tanh(mL)}\n$$\nSince $\\coth(z) = \\frac{1}{\\tanh(z)}$, we have:\n$$\nR(mL) = \\frac{1/\\tanh(mL)}{\\tanh(mL)} = \\frac{1}{\\tanh^2(mL)}\n$$\nThis expression is equivalent to $\\coth^2(mL)$. We present the answer in this form.", "answer": "$$\n\\boxed{\\coth^{2}(mL)}\n$$", "id": "2483918"}, {"introduction": "Intuitively, adding a fin increases surface area and should enhance heat transfer, but this is not always true. This exercise explores the crucial design concept of fin effectiveness, $\\varepsilon_f$, which balances the benefit of increased convective area against the thermal resistance introduced by the fin material itself. You will determine the conditions under which a fin can act as an insulator, reducing overall heat transfer, and derive the critical fin length required to achieve any enhancement at all [@problem_id:2526154]. This analysis is fundamental to making sound engineering decisions in thermal management.", "problem": "A straight fin of uniform cross-section is machined from a homogeneous solid with thermal conductivity $k$ and attached perfectly to a planar wall that is isothermal at temperature $T_b$. The fin extends a length $L$ in the $x$ direction into a quiescent fluid at uniform temperature $T_{\\infty}$. The fin has constant cross-sectional area $A_c$ and perimeter $P$ (both independent of $x$), and exchanges heat with the fluid by convection with a spatially uniform heat transfer coefficient $h$. The fin tip at $x=L$ is thermally insulated. The base of the fin at $x=0$ covers a footprint area on the wall equal to $A_b$, and for a uniform cross-section fin attached normally to the wall you may take $A_b = A_c$. Assume one-dimensional heat flow along $x$, constant properties, and steady state. \n\nYou are to determine when adding the fin reduces the heat transfer relative to leaving the base area bare. Define the fin effectiveness $\\varepsilon_f$ as the ratio of the total heat flow from the fin to the fluid, $Q_{\\text{fin}}$, to the heat that would be transferred from the base footprint area $A_b$ if the fin were absent, $h A_b (T_b - T_{\\infty})$:\n$$\\varepsilon_f \\equiv \\frac{Q_{\\text{fin}}}{h A_b (T_b - T_{\\infty})}.$$\n\nTasks:\n- Starting from Fourier’s law of heat conduction, $q_x = -k A_c \\,\\frac{dT}{dx}$, and Newton’s law of cooling, $q^{\\prime\\prime} = h\\,(T - T_{\\infty})$, write a steady energy balance on a differential control volume of thickness $dx$ of the fin and derive the governing ordinary differential equation for the excess temperature $\\theta(x) \\equiv T(x) - T_{\\infty}$. Impose the isothermal base condition at $x=0$ and the adiabatic tip condition at $x=L$, and solve to obtain a closed-form expression for $Q_{\\text{fin}}$ in terms of $k$, $h$, $P$, $A_c$, $L$, and $T_b - T_{\\infty}$.\n- Using your result for $Q_{\\text{fin}}$, obtain an exact expression for $\\varepsilon_f$ in terms of $k$, $h$, $P$, $A_c$, and $L$, taking $A_b = A_c$.\n- Define “negative fin effectiveness” to mean that adding the fin reduces heat transfer relative to the bare base, that is, $\\varepsilon_f  1$. Determine the exact analytical expression for the critical length $L_{\\mathrm{crit}}$ (as a function of $k$, $h$, $P$, $A_c$) at which $\\varepsilon_f = 1$. Your final answer must be this single expression for $L_{\\mathrm{crit}}$.\n- Briefly explain, based on fundamental heat transfer mechanisms, how it is possible for a fin to reduce the heat transfer from the surface.\n\nExpress the final result for $L_{\\mathrm{crit}}$ as a closed-form analytic expression in terms of $k$, $h$, $P$, and $A_c$. No numerical evaluation is required.", "solution": "The problem statement has been evaluated and is determined to be scientifically grounded, well-posed, and objective. It represents a canonical problem in the study of heat transfer from extended surfaces and contains all necessary information for a unique solution. We shall proceed with the derivation and analysis as requested.\n\nThe first task is to derive the governing differential equation for the fin temperature. We perform a steady-state energy balance on a differential control volume of the fin, of thickness $dx$, located at a distance $x$ from the base. Under the assumption of one-dimensional heat flow, energy enters the control volume by conduction at face $x$ and leaves by conduction at face $x+dx$ and by convection from the surface area $P\\,dx$.\n\nThe rate of heat conduction into the control volume at $x$ is given by Fourier's law:\n$$q_x = -k A_c \\frac{dT}{dx}$$\nThe rate of heat conduction out of the control volume at $x+dx$ is:\n$$q_{x+dx} = q_x + \\frac{dq_x}{dx} dx$$\nThe rate of heat convection from the surface of the control volume is given by Newton's law of cooling:\n$$dq_{\\text{conv}} = h (P\\,dx) (T(x) - T_{\\infty})$$\nFor steady state, the energy balance is $\\text{Energy In} = \\text{Energy Out}$, which gives:\n$$q_x = q_{x+dx} + dq_{\\text{conv}}$$\nSubstituting the expressions and simplifying, we get:\n$$q_x = \\left(q_x + \\frac{dq_x}{dx} dx\\right) + h P (T - T_{\\infty}) dx$$\n$$-\\frac{dq_x}{dx} = h P (T - T_{\\infty})$$\nNow, we substitute the expression for $q_x$:\n$$-\\frac{d}{dx}\\left(-k A_c \\frac{dT}{dx}\\right) = h P (T - T_{\\infty})$$\nFor constant thermal conductivity $k$ and cross-sectional area $A_c$, this simplifies to:\n$$\\frac{d^2T}{dx^2} = \\frac{hP}{kA_c} (T - T_{\\infty})$$\nWe define the excess temperature as $\\theta(x) \\equiv T(x) - T_{\\infty}$. Its derivatives are $\\frac{d\\theta}{dx} = \\frac{dT}{dx}$ and $\\frac{d^2\\theta}{dx^2} = \\frac{d^2T}{dx^2}$. The equation becomes a homogeneous, second-order linear ordinary differential equation:\n$$\\frac{d^2\\theta}{dx^2} - m^2 \\theta = 0$$\nwhere the fin parameter $m$ is defined as $m \\equiv \\sqrt{\\frac{hP}{kA_c}}$.\n\nThe boundary conditions in terms of $\\theta(x)$ are:\n1. Isothermal base at $x=0$: $T(0) = T_b \\implies \\theta(0) = T_b - T_{\\infty} \\equiv \\theta_b$.\n2. Adiabatic (insulated) tip at $x=L$: $q_x(L) = -k A_c \\frac{dT}{dx}|_{x=L} = 0 \\implies \\frac{d\\theta}{dx}|_{x=L} = 0$.\n\nThe general solution to the differential equation is $\\theta(x) = C_1 \\cosh(mx) + C_2 \\sinh(mx)$. Applying the first boundary condition at $x=0$:\n$\\theta_b = C_1 \\cosh(0) + C_2 \\sinh(0) \\implies C_1 = \\theta_b$.\nThe solution becomes $\\theta(x) = \\theta_b \\cosh(mx) + C_2 \\sinh(mx)$. Its derivative is $\\frac{d\\theta}{dx} = m\\theta_b \\sinh(mx) + mC_2 \\cosh(mx)$.\nApplying the second boundary condition at $x=L$:\n$0 = m\\theta_b \\sinh(mL) + mC_2 \\cosh(mL) \\implies C_2 = -\\theta_b \\frac{\\sinh(mL)}{\\cosh(mL)} = -\\theta_b \\tanh(mL)$.\nSubstituting $C_2$ back into the solution for $\\theta(x)$:\n$\\theta(x) = \\theta_b \\cosh(mx) - \\theta_b \\tanh(mL) \\sinh(mx) = \\theta_b \\left(\\frac{\\cosh(mL)\\cosh(mx) - \\sinh(mL)\\sinh(mx)}{\\cosh(mL)}\\right)$.\nUsing the hyperbolic identity $\\cosh(A-B) = \\cosh(A)\\cosh(B) - \\sinh(A)\\sinh(B)$, the temperature distribution is:\n$$\\theta(x) = \\theta_b \\frac{\\cosh(m(L-x))}{\\cosh(mL)}$$\nThe total heat flow from the fin, $Q_{\\text{fin}}$, is the heat conducted into the base at $x=0$:\n$$Q_{\\text{fin}} = q_x(0) = -k A_c \\frac{d\\theta}{dx}|_{x=0}$$\nThe derivative is $\\frac{d\\theta}{dx} = \\frac{\\theta_b}{\\cosh(mL)} [-m \\sinh(m(L-x))]$. Evaluating at $x=0$:\n$$\\frac{d\\theta}{dx}|_{x=0} = -m \\frac{\\theta_b \\sinh(mL)}{\\cosh(mL)} = -m \\theta_b \\tanh(mL)$$\nThus, the heat flow is:\n$$Q_{\\text{fin}} = -k A_c (-m \\theta_b \\tanh(mL)) = k A_c m \\theta_b \\tanh(mL)$$\nSubstituting $m = \\sqrt{\\frac{hP}{kA_c}}$ and $\\theta_b = T_b - T_{\\infty}$:\n$$Q_{\\text{fin}} = k A_c \\sqrt{\\frac{hP}{kA_c}} (T_b - T_{\\infty}) \\tanh(mL) = \\sqrt{hPkA_c} (T_b - T_{\\infty}) \\tanh(mL)$$\nThis is the required expression for $Q_{\\text{fin}}$.\n\nNext, we find the fin effectiveness, $\\varepsilon_f$. With the given definition and the fact that $A_b = A_c$:\n$$\\varepsilon_f \\equiv \\frac{Q_{\\text{fin}}}{h A_b (T_b - T_{\\infty})} = \\frac{\\sqrt{hPkA_c} (T_b - T_{\\infty}) \\tanh(mL)}{h A_c (T_b - T_{\\infty})}$$\n$$\\varepsilon_f = \\frac{\\sqrt{hPkA_c}}{h A_c} \\tanh(mL) = \\sqrt{\\frac{hPkA_c}{h^2 A_c^2}} \\tanh(mL) = \\sqrt{\\frac{kP}{hA_c}} \\tanh(mL)$$\nThis is the expression for fin effectiveness.\n\nThe problem defines \"negative fin effectiveness\" as the condition $\\varepsilon_f  1$. The critical length, $L_{\\mathrm{crit}}$, is the length at which $\\varepsilon_f = 1$.\n$$1 = \\sqrt{\\frac{kP}{hA_c}} \\tanh(mL_{\\mathrm{crit}})$$\nSolving for $\\tanh(mL_{\\mathrm{crit}})$:\n$$\\tanh(mL_{\\mathrm{crit}}) = \\sqrt{\\frac{hA_c}{kP}}$$\nThis equation has a real solution for $L_{\\mathrm{crit}}$ only if the argument of the inverse hyperbolic tangent is less than $1$, i.e., $\\sqrt{\\frac{hA_c}{kP}}  1$, which implies $kP  hA_c$. If this condition is not met, the fin is never effective ($\\varepsilon_f  1$ for all $L0$). Assuming $kP  hA_c$, we can solve for $L_{\\mathrm{crit}}$:\n$$mL_{\\mathrm{crit}} = \\arctanh\\left(\\sqrt{\\frac{hA_c}{kP}}\\right)$$\n$$L_{\\mathrm{crit}} = \\frac{1}{m} \\arctanh\\left(\\sqrt{\\frac{hA_c}{kP}}\\right)$$\nSubstituting the expression for $m = \\sqrt{\\frac{hP}{kA_c}}$ gives the final expression for the critical length:\n$$L_{\\mathrm{crit}} = \\sqrt{\\frac{kA_c}{hP}} \\arctanh\\left(\\sqrt{\\frac{hA_c}{kP}}\\right)$$\n\nFinally, a brief physical explanation is required for how a fin can reduce heat transfer. The purpose of a fin is to augment heat transfer by increasing the surface area available for convection. However, the fin itself possesses a finite thermal conductivity, introducing a thermal resistance to heat flow along its length. This causes the fin's surface temperature to decrease with distance from the base.\nThe overall performance of the fin depends on the trade-off between two competing effects:\n1. The increase in convective surface area (from $A_c$ to $PL$ for a fin of length $L$, neglecting the tip area).\n2. The decrease in the average surface temperature for convection, relative to the base temperature $T_b$, due to internal conductive resistance.\nIf a fin is constructed from a material with low thermal conductivity ($k$), or has a geometry with a small perimeter-to-area ratio ($P/A_c$, a \"thick\" fin), the internal conductive resistance can be substantial. In such a scenario, the fin material effectively insulates the base area it covers. The heat that would have been dissipated by convection from the bare base area $A_c$ is now forced to conduct through the fin, a path of potentially higher thermal resistance. If the reduction in average surface temperature is so severe that it outweighs the benefit of the added surface area, the total heat transfer from the finned surface will be less than that from the original bare surface. This condition, $\\varepsilon_f  1$, is precisely what the derived criterion for $L  L_{\\mathrm{crit}}$ describes.", "answer": "$$\\boxed{\\sqrt{\\frac{k A_c}{h P}} \\arctanh\\left(\\sqrt{\\frac{h A_c}{k P}}\\right)}$$", "id": "2526154"}, {"introduction": "While analytical solutions provide invaluable insight, most real-world engineering problems are solved numerically. A cornerstone of computational analysis is verification: ensuring the code correctly solves the mathematical model. This practice guides you through this vital process by developing a finite difference scheme for a fin and validating it against the exact analytical solution [@problem_id:2483922]. By quantifying the discretization error as a function of grid resolution, you will gain hands-on experience with the principles of numerical accuracy and convergence, essential skills for any modern thermal engineer.", "problem": "You are asked to validate a numerical model of an extended surface (rectangular fin with adiabatic tip) against its analytical counterpart and to quantify discretization error systematically. Begin from a conservation of energy statement at the differential control volume level for a one-dimensional steady fin with convection along its wetted perimeter. Do not assume any specific formula for the fin temperature field or heat rate; instead, derive them from first principles.\n\nA straight fin of constant rectangular cross-section has constant thermal conductivity $k$, cross-sectional area $A_c$, perimeter $P$, length $L$, base located at $x=0$ held at a uniform temperature $T_b$, and an adiabatic tip at $x=L$. The surrounding fluid is at temperature $T_\\infty$ with a uniform heat transfer coefficient $h$. Define the excess temperature field $T(x)-T_\\infty$ and the non-dimensional variables $\\xi = x/L$ and $\\theta(\\xi) = \\left(T(x)-T_\\infty\\right)/\\left(T_b-T_\\infty\\right)$.\n\nTasks:\n- From an energy balance on a differential element of the fin, derive the governing ordinary differential equation for $\\theta(\\xi)$ and the associated boundary conditions for a rectangular fin with an adiabatic tip. Identify the single non-dimensional parameter $M$ that controls the solution, where $M$ depends on $\\left(h,P,k,A_c,L\\right)$.\n- Solve the boundary-value problem analytically to obtain a closed-form expression for $\\theta(\\xi)$ that satisfies the base and tip boundary conditions, and obtain a closed-form expression for the dimensionless base heat rate $Q^\\star = -\\left.\\dfrac{d\\theta}{d\\xi}\\right|_{\\xi=0}$.\n- Construct a second-order accurate finite difference model on a uniform grid for $\\xi\\in[0,1]$ with $N$ nodes including the boundaries. Use second-order centered differences in the interior, enforce the base condition at $\\xi=0$ directly, and enforce the adiabatic tip condition at $\\xi=1$ in a way that preserves second-order accuracy on the discrete system. Post-process the discrete solution to approximate $Q^\\star$ using a second-order one-sided difference at the base.\n- Quantify the discretization error by comparing the numerical $Q^\\star$ to the analytical $Q^\\star$ via the relative error $\\varepsilon = \\left|Q^\\star_{\\text{FD}}-Q^\\star_{\\text{exact}}\\right|/\\left|Q^\\star_{\\text{exact}}\\right|$.\n\nYour program must implement both the analytical and numerical models of the boundary-value problem and report the relative errors for the following test suite of parameter values:\n- Non-dimensional fin parameter $M\\in\\{\\,0.5,\\,2.0,\\,5.0\\,\\}$.\n- Grid sizes $N\\in\\{\\,5,\\,9,\\,17,\\,33\\,\\}$.\n\nThe test cases to be evaluated are the Cartesian product of the above sets, ordered lexicographically by $M$ first and then by $N$, i.e., the ordered list of pairs is:\n$[(0.5,5),(0.5,9),(0.5,17),(0.5,33),(2.0,5),(2.0,9),(2.0,17),(2.0,33),(5.0,5),(5.0,9),(5.0,17),(5.0,33)]$.\n\nFor each case, compute the relative error $\\varepsilon$ as a float. The final output format must be a single line containing a comma-separated list of the $12$ errors, enclosed in square brackets, with each error printed in scientific notation with $8$ significant digits (for example, $[1.23456789e-04,2.34567890e-05,\\dots]$). No physical units are required in the output because $Q^\\star$ and $\\varepsilon$ are dimensionless.", "solution": "The problem as stated is a standard, well-posed problem in heat transfer and numerical analysis. It is scientifically grounded, self-contained, and free of contradictions or ambiguities. It will be addressed by deriving the governing equations from first principles, solving them analytically, developing a second-order accurate numerical scheme, and quantifying the discretization error.\n\n**Part 1: Derivation of the Governing Equation and Boundary Conditions**\n\nWe begin by applying the principle of conservation of energy to a differential control volume of the fin. Consider a segment of the fin of infinitesimal length $dx$ located at a position $x$ from the base. Under steady-state conditions, the rate of energy entering the control volume must equal the rate of energy leaving it.\n\nEnergy enters the control volume at face $x$ by conduction, $q_x$. Energy leaves the control volume at face $x+dx$ by conduction, $q_{x+dx}$, and from the wetted perimeter surface by convection, $dq_{conv}$. The energy balance is:\n$$q_x = q_{x+dx} + dq_{conv}$$\n\nAccording to Fourier's law of conduction, the heat rate is given by $q_x = -k A_c \\frac{dT}{dx}$, where $k$ is the thermal conductivity, $A_c$ is the cross-sectional area, and $\\frac{dT}{dx}$ is the temperature gradient. The term $q_{x+dx}$ can be expressed using a first-order Taylor series expansion of $q_x$:\n$$q_{x+dx} = q_x + \\frac{d q_x}{dx} dx$$\n\nThe rate of heat loss by convection from the surface of the differential element is given by Newton's law of cooling:\n$$dq_{conv} = h (P dx) (T(x) - T_\\infty)$$\nwhere $h$ is the convective heat transfer coefficient, $P$ is the wetted perimeter, and $(T(x) - T_\\infty)$ is the local temperature difference between the fin and the surrounding fluid.\n\nSubstituting these expressions into the energy balance equation:\n$$q_x = \\left(q_x + \\frac{d q_x}{dx} dx\\right) + h P (T - T_\\infty) dx$$\nThis simplifies to:\n$$-\\frac{d q_x}{dx} = h P (T - T_\\infty)$$\nSubstituting the expression for $q_x$ from Fourier's law:\n$$-\\frac{d}{dx}\\left(-k A_c \\frac{dT}{dx}\\right) = h P (T - T_\\infty)$$\nAssuming constant $k$ and $A_c$, this becomes:\n$$k A_c \\frac{d^2 T}{dx^2} - h P (T - T_\\infty) = 0$$\n$$\\frac{d^2 T}{dx^2} - \\frac{hP}{kA_c} (T - T_\\infty) = 0$$\nLet us define the excess temperature as $\\Theta(x) = T(x) - T_\\infty$. Its derivatives are $\\frac{d\\Theta}{dx} = \\frac{dT}{dx}$ and $\\frac{d^2\\Theta}{dx^2} = \\frac{d^2T}{dx^2}$. The equation transforms to:\n$$\\frac{d^2 \\Theta}{dx^2} - m^2 \\Theta = 0, \\quad \\text{where} \\quad m^2 = \\frac{hP}{kA_c}$$\nNext, we non-dimensionalize the equation. Let $\\xi = x/L$ be the dimensionless position and $\\theta(\\xi) = \\frac{\\Theta(x)}{\\Theta_b} = \\frac{T(x)-T_\\infty}{T_b-T_\\infty}$ be the dimensionless temperature, where $\\Theta_b = T_b-T_\\infty$ is the excess temperature at the base.\nUsing the chain rule for derivatives:\n$$\\frac{d}{dx} = \\frac{d\\xi}{dx}\\frac{d}{d\\xi} = \\frac{1}{L}\\frac{d}{d\\xi} \\quad \\text{and} \\quad \\frac{d^2}{dx^2} = \\frac{1}{L^2}\\frac{d^2}{d\\xi^2}$$\nSubstituting $\\Theta(x) = \\Theta_b \\theta(\\xi)$ and the derivative transformations into the ODE:\n$$\\frac{\\Theta_b}{L^2} \\frac{d^2\\theta}{d\\xi^2} - m^2 \\Theta_b \\theta = 0$$\nDividing by $\\frac{\\Theta_b}{L^2}$ yields the final non-dimensional governing equation:\n$$\\frac{d^2\\theta}{d\\xi^2} - (mL)^2 \\theta = 0$$\nThe single non-dimensional parameter that governs the solution is $M = mL = L\\sqrt{\\frac{hP}{kA_c}}$. The ODE is:\n$$\\frac{d^2\\theta}{d\\xi^2} - M^2 \\theta = 0$$\nThe boundary conditions are transformed as follows:\n1. Base at $x=0$ ($\\xi=0$): $T(0)=T_b$.\n   $$\\theta(0) = \\frac{T(0) - T_\\infty}{T_b - T_\\infty} = \\frac{T_b - T_\\infty}{T_b - T_\\infty} = 1$$\n2. Adiabatic tip at $x=L$ ($\\xi=1$): The heat flux is zero, so $q_x(L) = -kA_c \\left.\\frac{dT}{dx}\\right|_{x=L} = 0$. This implies $\\left.\\frac{dT}{dx}\\right|_{x=L}=0$.\n   $$\\left.\\frac{dT}{dx}\\right|_{x=L} = \\left.(T_b-T_\\infty)\\frac{d\\theta}{dx}\\right|_{x=L} = \\left.(T_b-T_\\infty)\\frac{1}{L}\\frac{d\\theta}{d\\xi}\\right|_{\\xi=1} = 0$$\n   This yields the dimensionless condition:\n   $$\\left.\\frac{d\\theta}{d\\xi}\\right|_{\\xi=1} = 0$$\n\n**Part 2: Analytical Solution**\n\nThe boundary-value problem to be solved is:\n$$\\theta''(\\xi) - M^2 \\theta(\\xi) = 0, \\quad \\text{with} \\quad \\theta(0)=1, \\quad \\theta'(1)=0$$\nThe general solution to this linear, homogeneous, second-order ODE with constant coefficients is conveniently expressed using hyperbolic functions:\n$$\\theta(\\xi) = C_1 \\cosh(M\\xi) + C_2 \\sinh(M\\xi)$$\nWe apply the boundary conditions to determine the constants $C_1$ and $C_2$.\nFrom $\\theta(0)=1$:\n$$C_1 \\cosh(0) + C_2 \\sinh(0) = 1 \\implies C_1 \\cdot 1 + C_2 \\cdot 0 = 1 \\implies C_1 = 1$$\nThus, the solution is of the form $\\theta(\\xi) = \\cosh(M\\xi) + C_2 \\sinh(M\\xi)$. The derivative is:\n$$\\theta'(\\xi) = M \\sinh(M\\xi) + C_2 M \\cosh(M\\xi)$$\nFrom $\\theta'(1)=0$:\n$$M \\sinh(M) + C_2 M \\cosh(M) = 0$$\nFor $M \\neq 0$, we find $C_2 = -\\frac{\\sinh(M)}{\\cosh(M)} = -\\tanh(M)$.\nSubstituting the constants back into the solution gives:\n$$\\theta(\\xi) = \\cosh(M\\xi) - \\tanh(M)\\sinh(M\\xi) = \\frac{\\cosh(M)\\cosh(M\\xi) - \\sinh(M)\\sinh(M\\xi)}{\\cosh(M)}$$\nUsing the hyperbolic identity $\\cosh(A-B) = \\cosh(A)\\cosh(B) - \\sinh(A)\\sinh(B)$, we obtain the elegant closed-form solution:\n$$\\theta(\\xi) = \\frac{\\cosh(M(1-\\xi))}{\\cosh(M)}$$\nThe dimensionless base heat rate is $Q^\\star = -\\left.\\frac{d\\theta}{d\\xi}\\right|_{\\xi=0}$. From the derivative expression:\n$$\\theta'(\\xi) = \\frac{-M \\sinh(M(1-\\xi))}{\\cosh(M)}$$\nEvaluating at $\\xi=0$:\n$$\\left.\\frac{d\\theta}{d\\xi}\\right|_{\\xi=0} = \\frac{-M \\sinh(M)}{\\cosh(M)} = -M \\tanh(M)$$\nTherefore, the exact dimensionless base heat rate is:\n$$Q^\\star_{\\text{exact}} = M \\tanh(M)$$\n\n**Part 3: Finite Difference Model**\n\nWe discretize the domain $\\xi \\in [0,1]$ using $N$ nodes $\\xi_i = i\\Delta\\xi$ for $i=0, 1, \\dots, N-1$, where the grid spacing is $\\Delta\\xi = 1/(N-1)$. Let $\\theta_i$ denote the numerical approximation of $\\theta(\\xi_i)$.\n\nFor the interior nodes ($i=1, \\dots, N-2$), we approximate the second derivative using a second-order accurate centered difference formula:\n$$\\theta''(\\xi_i) \\approx \\frac{\\theta_{i-1} - 2\\theta_i + \\theta_{i+1}}{(\\Delta\\xi)^2}$$\nSubstituting into the ODE $\\theta'' - M^2\\theta = 0$ gives a linear algebraic equation for each interior node:\n$$\\frac{\\theta_{i-1} - 2\\theta_i + \\theta_{i+1}}{(\\Delta\\xi)^2} - M^2\\theta_i = 0$$\n$$\\theta_{i-1} - (2 + M^2(\\Delta\\xi)^2)\\theta_i + \\theta_{i+1} = 0$$\nThe boundary condition at the base ($\\xi_0=0$) is a Dirichlet condition, enforced exactly:\n$$\\theta_0 = 1$$\nAt the adiabatic tip ($\\xi_{N-1}=1$), the Neumann condition $\\theta'(1)=0$ is enforced with second-order accuracy. We introduce a \"ghost\" node at $\\xi_N = 1+\\Delta\\xi$ and use a centered difference for the derivative at $\\xi_{N-1}$:\n$$\\frac{\\theta_N - \\theta_{N-2}}{2\\Delta\\xi} \\approx \\theta'(1) = 0 \\implies \\theta_N = \\theta_{N-2}$$\nNow, we apply the discretized ODE at the boundary node $i=N-1$:\n$$\\frac{\\theta_{N-2} - 2\\theta_{N-1} + \\theta_N}{(\\Delta\\xi)^2} - M^2\\theta_{N-1} = 0$$\nSubstituting $\\theta_N = \\theta_{N-2}$ gives the equation for the tip node:\n$$2\\theta_{N-2} - (2 + M^2(\\Delta\\xi)^2)\\theta_{N-1} = 0$$\nThis results in a system of $N-1$ linear equations for the $N-1$ unknowns $\\theta_1, \\dots, \\theta_{N-1}$, which is tridiagonal and can be written as $A \\vec{u} = \\vec{b}$, where $\\vec{u}=[\\theta_1, \\dots, \\theta_{N-1}]^T$. This system is solved numerically.\n\nFinally, we approximate the dimensionless base heat rate $Q^\\star$ using a second-order accurate one-sided (forward) difference formula for the derivative at $\\xi=0$:\n$$\\left.\\frac{d\\theta}{d\\xi}\\right|_{\\xi=0} \\approx \\frac{-3\\theta_0 + 4\\theta_1 - \\theta_2}{2\\Delta\\xi}$$\nSince $Q^\\star = -\\left.\\frac{d\\theta}{d\\xi}\\right|_{\\xi=0}$, the numerical approximation is:\n$$Q^\\star_{\\text{FD}} = -\\frac{-3\\theta_0 + 4\\theta_1 - \\theta_2}{2\\Delta\\xi}$$\n\n**Part 4: Error Quantification**\n\nThe relative error between the finite difference and analytical solutions for the base heat rate is computed as:\n$$\\varepsilon = \\frac{\\left|Q^\\star_{\\text{FD}} - Q^\\star_{\\text{exact}}\\right|}{\\left|Q^\\star_{\\text{exact}}\\right|}$$\nThis procedure will be implemented for each pair of $(M, N)$ values specified in the problem statement. The expected behavior is that the error $\\varepsilon$ decreases with increasing $N$, and because all finite difference approximations used are second-order accurate, the error should scale as $\\varepsilon \\propto (\\Delta\\xi)^2$, which means it should decrease by a factor of approximately $4$ whenever the grid spacing $\\Delta\\xi$ is halved (i.e., when $N-1$ is doubled). The provided sequence of $N$ values ($5, 9, 17, 33$) is designed to demonstrate this quadratic convergence rate.", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Validates a numerical model of an extended surface against its analytical \n    counterpart and quantifies discretization error.\n    \"\"\"\n    \n    # Define the test cases from the problem statement.\n    test_cases = [\n        (0.5, 5), (0.5, 9), (0.5, 17), (0.5, 33),\n        (2.0, 5), (2.0, 9), (2.0, 17), (2.0, 33),\n        (5.0, 5), (5.0, 9), (5.0, 17), (5.0, 33)\n    ]\n\n    results = []\n    \n    for M, N in test_cases:\n        # 1. Analytical Solution\n        # Q_star_exact = M * tanh(M)\n        q_star_exact = M * np.tanh(M)\n\n        # 2. Numerical Solution (Finite Difference)\n        \n        # Grid setup\n        # N nodes including boundaries, so N-1 intervals\n        delta_xi = 1.0 / (N - 1)\n        \n        # System size for unknowns theta_1, ..., theta_{N-1}\n        system_size = N - 1\n        \n        # Construct the linear system A*u = b\n        # where u = [theta_1, theta_2, ..., theta_{N-1}]\n        \n        # A is a (nearly) tridiagonal matrix\n        A = np.zeros((system_size, system_size))\n        b = np.zeros(system_size)\n        \n        # Common diagonal term\n        diag_val = -(2.0 + M**2 * delta_xi**2)\n        \n        # Populate the matrix A and vector b\n        for i in range(system_size):\n            if i == 0:\n                # Equation for theta_1: D*theta_1 + theta_2 = -theta_0 = -1\n                A[i, i] = diag_val\n                if system_size > 1:\n                    A[i, i+1] = 1.0\n                b[i] = -1.0 # since theta_0 = 1\n            elif i  system_size - 1:\n                # Interior nodes: theta_{i-1} + D*theta_i + theta_{i+1} = 0\n                A[i, i-1] = 1.0\n                A[i, i] = diag_val\n                A[i, i+1] = 1.0\n            else: # i == system_size - 1, the tip node\n                # Tip node: 2*theta_{N-2} + D*theta_{N-1} = 0\n                A[i, i-1] = 2.0\n                A[i, i] = diag_val\n\n        # Solve the linear system for theta values\n        theta_unknowns = np.linalg.solve(A, b)\n        \n        # Extract theta_1 and theta_2 for heat rate calculation\n        theta_0 = 1.0\n        theta_1 = theta_unknowns[0]\n        theta_2 = theta_unknowns[1] if system_size > 1 else 0 # Should not occur for N>=5\n\n        # 3. Calculate Numerical Base Heat Rate (Q_star_FD)\n        # Using a second-order one-sided difference at the base (xi=0)\n        # Q_star = - (dtheta/dxi)|_0\n        # dtheta/dxi|_0 approx (-3*theta_0 + 4*theta_1 - theta_2) / (2*delta_xi)\n        dtheta_dxi_0 = (-3.0 * theta_0 + 4.0 * theta_1 - theta_2) / (2.0 * delta_xi)\n        q_star_fd = -dtheta_dxi_0\n\n        # 4. Quantify Discretization Error\n        # Relative error epsilon = |Q_fd - Q_exact| / |Q_exact|\n        if np.abs(q_star_exact) > 1e-15: # Avoid division by zero\n            relative_error = np.abs(q_star_fd - q_star_exact) / np.abs(q_star_exact)\n        else:\n            relative_error = np.abs(q_star_fd - q_star_exact)\n\n        results.append(relative_error)\n\n    # Final print statement in the exact required format.\n    # Scientific notation with 8 significant digits\n    formatted_results = [f\"{err:.8e}\" for err in results]\n    print(f\"[{','.join(formatted_results)}]\")\n\nsolve()\n```", "id": "2483922"}]}