{"hands_on_practices": [{"introduction": "A uniaxial tensile test provides the fundamental data for material characterization, but interpreting this data correctly requires distinguishing between different stress measures. This practice [@problem_id:2708356] guides you through the process of calculating engineering stress and true (Cauchy) stress from direct experimental measurements of load and specimen diameter. By deriving the relationship between these two quantities, you will gain a concrete understanding of why true stress becomes increasingly important at large strains, a key concept in plasticity and finite deformation analysis.", "problem": "A cylindrical metallic specimen is subjected to a monotonic uniaxial tensile test in a servo-hydraulic frame. A calibrated load cell reports the applied axial load as a function of time, denoted by $P(t)$, and a laser micrometer at the mid-gauge section reports the instantaneous lateral diameter $d(t)$. The initial diameter and initial gauge length are $d_{0}$ and $L_{0}$, respectively. Assume the stress state in the gauge section is homogeneous and axisymmetric up to the time of interest, the cross-section remains circular, and local barreling or necking-induced triaxiality can be neglected for the purpose of the stress measure comparison at that time.\n\nStarting only from the continuum definition that the Cauchy (true) normal stress equals the axial force divided by the current cross-sectional area and that the engineering stress equals the axial force divided by the original cross-sectional area, derive a procedure that uses the measured signals $P(t)$ and $d(t)$ to compute the instantaneous Cauchy (true) stress $\\sigma(t)$ and the engineering stress $\\sigma_{\\mathrm{eng}}(t)$ at the same instant. From your derivation, obtain an explicit expression for the instantaneous ratio $r(t) \\equiv \\sigma(t)/\\sigma_{\\mathrm{eng}}(t)$ written solely in terms of measurable geometric quantities.\n\nAt the specific time $t^{\\ast}$, the following measurements and initial data are available: $P(t^{\\ast}) = 52.0$ kN, $d(t^{\\ast}) = 9.200$ mm, $d_{0} = 10.000$ mm, and $L_{0} = 50.00$ mm. Compute the numerical value of $r(t^{\\ast})$. Express your final answer as a pure number (dimensionless) and round your answer to four significant figures. Do not include any units in your final answer. You may assume International System of Units (SI) throughout and that $\\pi$ is the circle constant relating circumference and diameter of a circle.", "solution": "The problem presented requires a systematic derivation based on fundamental definitions from continuum mechanics. Before proceeding to a solution, a validation of the problem statement is mandatory.\n\n### Step 1: Extract Givens\nThe explicitly provided data and definitions are:\n-   Applied axial load as a function of time: $P(t)$\n-   Instantaneous lateral diameter as a function of time: $d(t)$\n-   Initial diameter: $d_{0}$\n-   Initial gauge length: $L_{0}$\n-   Definition of Cauchy (true) normal stress: The axial force divided by the current cross-sectional area.\n-   Definition of engineering stress: The axial force divided by the original cross-sectional area.\n-   Assumption: The stress state is homogeneous and axisymmetric.\n-   Assumption: The cross-section remains circular.\n-   Assumption: Local barreling or necking-induced triaxiality is negligible.\n-   Objective 1: Derive a procedure to compute the instantaneous Cauchy stress $\\sigma(t)$ and engineering stress $\\sigma_{\\mathrm{eng}}(t)$ from the measured signals $P(t)$ and $d(t)$.\n-   Objective 2: Derive an explicit expression for the ratio $r(t) \\equiv \\sigma(t)/\\sigma_{\\mathrm{eng}}(t)$ solely in terms of measurable geometric quantities.\n-   Objective 3: Compute the numerical value of $r(t^{\\ast})$ at time $t^{\\ast}$.\n-   Data at time $t^{\\ast}$: $P(t^{\\ast}) = 52.0$ kN, $d(t^{\\ast}) = 9.200$ mm, $d_{0} = 10.000$ mm, and $L_{0} = 50.00$ mm.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is assessed against the criteria for validity.\n1.  **Scientifically Grounded**: The problem is based on the standard and fundamental definitions of Cauchy (true) stress and engineering stress, which are cornerstone concepts in solid mechanics and materials science. The experimental context, a uniaxial tensile test, is standard practice. The problem is scientifically sound.\n2.  **Well-Posed**: The problem is well-posed. It provides all necessary definitions and data to derive the required expressions and compute the final numerical value. A unique and stable solution exists. The inclusion of $L_0$ and $P(t^\\ast)$ is noted; while not required for the final ratio calculation, they do not create a contradiction and are relevant to the broader context of a tensile test, testing the student's ability to identify relevant parameters.\n3.  **Objective**: The language is precise, technical, and free of subjectivity.\n4.  **Flaw Analysis**: The problem does not violate any fundamental principles, is not based on false premises, and the provided data ($d(t^{\\ast})  d_0$ for a tensile test) are physically consistent with the expected Poisson's effect. The problem is complete, consistent, and formalizable.\n\n### Step 3: Verdict and Action\nThe problem is deemed **valid**. A solution will be derived.\n\nThe problem is to establish a procedure for calculating engineering and Cauchy stress from experimental measurements and then to derive their ratio.\n\nFirst, we formalize the definitions provided. The initial cross-sectional area, $A_0$, of the cylindrical specimen is given by its initial diameter $d_0$.\n$$A_0 = \\frac{\\pi}{4} d_0^2$$\nThe engineering stress, $\\sigma_{\\mathrm{eng}}(t)$, is defined as the ratio of the applied axial load $P(t)$ to the original area $A_0$.\n$$\\sigma_{\\mathrm{eng}}(t) = \\frac{P(t)}{A_0} = \\frac{P(t)}{\\frac{\\pi}{4} d_0^2}$$\nTo compute $\\sigma_{\\mathrm{eng}}(t)$, one must measure the initial diameter $d_0$ once before the test and measure the load $P(t)$ continuously during the test.\n\nNext, the Cauchy (or true) stress, $\\sigma(t)$, is defined as the ratio of the applied axial load $P(t)$ to the instantaneous cross-sectional area $A(t)$. Assuming the cross-section remains circular, the instantaneous area is a function of the instantaneous diameter $d(t)$.\n$$A(t) = \\frac{\\pi}{4} d(t)^2$$\nTherefore, the Cauchy stress is given by:\n$$\\sigma(t) = \\frac{P(t)}{A(t)} = \\frac{P(t)}{\\frac{\\pi}{4} d(t)^2}$$\nTo compute $\\sigma(t)$, one must measure both the load $P(t)$ and the diameter $d(t)$ continuously and simultaneously throughout the test. This completes the first part of the problem.\n\nThe second part requires the derivation of the ratio $r(t) = \\sigma(t) / \\sigma_{\\mathrm{eng}}(t)$. Using the expressions derived above:\n$$r(t) = \\frac{\\sigma(t)}{\\sigma_{\\mathrm{eng}}(t)} = \\frac{P(t)/A(t)}{P(t)/A_0}$$\nThe applied load $P(t)$ is a common factor in the numerator and denominator, and thus it cancels out, provided $P(t) \\neq 0$.\n$$r(t) = \\frac{A_0}{A(t)}$$\nThis shows that the ratio of true stress to engineering stress is equivalent to the ratio of the initial cross-sectional area to the current cross-sectional area. Now, substituting the expressions for the areas in terms of their respective diameters:\n$$r(t) = \\frac{\\frac{\\pi}{4} d_0^2}{\\frac{\\pi}{4} d(t)^2}$$\nThe constant factor $\\frac{\\pi}{4}$ also cancels. The expression for the ratio $r(t)$ simplifies to a function of only the measurable geometric quantities $d_0$ and $d(t)$, as required.\n$$r(t) = \\left(\\frac{d_0}{d(t)}\\right)^2$$\nThis completes the derivation.\n\nFinally, we must compute the numerical value of this ratio at the specific instant $t^{\\ast}$. The given data are:\n-   Initial diameter, $d_0 = 10.000$ mm.\n-   Instantaneous diameter at time $t^{\\ast}$, $d(t^{\\ast}) = 9.200$ mm.\n\nThe other data, $P(t^{\\ast}) = 52.0$ kN and $L_0 = 50.00$ mm, are not required for the calculation of the dimensionless ratio $r(t^{\\ast})$, as shown by the derived formula.\n\nSubstituting the numerical values into the expression for $r(t^{\\ast})$:\n$$r(t^{\\ast}) = \\left(\\frac{d_0}{d(t^{\\ast})}\\right)^2 = \\left(\\frac{10.000}{9.200}\\right)^2$$\nPerforming the calculation:\n$$r(t^{\\ast}) = \\left(1.0869565...\\right)^2$$\n$$r(t^{\\ast}) = 1.1814641...$$\nThe problem requires the answer to be rounded to four significant figures.\n$$r(t^{\\ast}) \\approx 1.181$$\nThis result is dimensionless, as expected for a ratio of two quantities with the same units (stress). The fact that $r(t^{\\ast}) > 1$ is consistent with a tensile test, where the cross-sectional area decreases, causing the true stress to be greater than the engineering stress.", "answer": "$$\\boxed{1.181}$$", "id": "2708356"}, {"introduction": "While theoretical models often assume a perfectly uniform stress state, real-world uniaxial tests are susceptible to artifacts like bending due to load train misalignment. This practice [@problem_id:2708328] addresses this common experimental challenge by showing how to use strain gauge data from opposite sides of a specimen to decouple the true axial strain from the superposed bending strain. This hands-on data correction is a critical skill for any experimentalist, ensuring the accurate determination of fundamental material properties like Young's modulus from non-ideal test data.", "problem": "A flat dog-bone specimen made of an unknown, linearly elastic, homogeneous, and isotropic material is tested in uniaxial tension under small strains. The specimen has a uniform rectangular cross-section in the gage section with width $20.0$ mm and thickness $6.00$ mm. Two foil strain gauges are bonded at the mid-width on opposite faces of the specimen in the loading direction, centered in the gage length. The load train is not perfectly aligned, so the specimen experiences a small superposed bending during the axial loading. Throughout the loading sequence below, the material response remains within the linear elastic regime, plane sections remain plane, and the through-thickness normal strain in the gage section varies linearly with thickness coordinate. The following load steps and measured axial strains on the two opposite faces (denoted \"Face A\" and \"Face B\") are recorded:\n\n- Step $1$: Applied tensile load $F = 10.0$ kN; measured axial strains $\\varepsilon_{A} = 0.00044444$, $\\varepsilon_{B} = 0.00034921$.\n- Step $2$: Applied tensile load $F = 20.0$ kN; measured axial strains $\\varepsilon_{A} = 0.00088889$, $\\varepsilon_{B} = 0.00069841$.\n- Step $3$: Applied tensile load $F = 30.0$ kN; measured axial strains $\\varepsilon_{A} = 0.00133333$, $\\varepsilon_{B} = 0.00104762$.\n- Step $4$: Applied tensile load $F = 40.0$ kN; measured axial strains $\\varepsilon_{A} = 0.00177778$, $\\varepsilon_{B} = 0.00139683$.\n\nUsing only fundamental kinematic assumptions for small-strain bending of a prismatic bar in combined axial force and bending (that plane sections remain plane and that the through-thickness normal strain varies linearly with the thickness coordinate), do the following:\n\n1) For each load step, represent the through-thickness axial strain as the sum of a uniform axial component and a linear bending component, and from the two face measurements determine the average axial strain and the curvature consistently with these assumptions. \n\n2) Using your results, for Step $3$ compute the bending strain ratio, defined here as the ratio of the magnitude of the bending strain at the surface to the average axial strain in the section at that load.\n\n3) Construct the corrected axial stress–strain data by pairing the nominal axial stress $\\sigma = F/A$ with the average axial strain you computed in part $1$, where $A$ is the cross-sectional area of the gage section. Then, in the linear-elastic regime through the origin, determine the corrected Young’s modulus as the best-fit slope of $\\sigma$ versus the corrected axial strain. You may assume the data are perfectly proportional and use any nonzero point relative to the origin to evaluate the slope. \n\nExpress the final answer as the corrected Young’s modulus in gigapascals (GPa), rounded to four significant figures. Do not report the intermediate bending ratio as the final answer. All strains are dimensionless.", "solution": "The problem statement is scientifically grounded, well-posed, objective, and provides a complete and consistent set of data and assumptions. The problem is valid and a solution can be derived.\n\nThe fundamental kinematic assumption for combined axial loading and bending is that the axial strain, $\\varepsilon_{xx}$ (which we will denote as $\\varepsilon$), varies linearly through the specimen thickness. Let the coordinate $y$ be defined through the thickness, with $y=0$ at the geometric mid-plane. The specimen has a thickness $t = 6.00$ mm, so the two faces on which strains are measured are at $y = -\\frac{t}{2}$ and $y = +\\frac{t}{2}$. The linear strain distribution is given by the equation:\n$$\n\\varepsilon(y) = \\varepsilon_{avg} + \\kappa y\n$$\nHere, $\\varepsilon_{avg}$ represents the uniform axial strain component, which is the strain at the mid-plane, and $\\kappa$ is the curvature of the specimen's neutral axis due to the superposed bending moment.\n\nThe two strain gauges on opposite faces, Face A and Face B, measure the strains $\\varepsilon_A$ and $\\varepsilon_B$ at the surfaces. Let us assign Face A to the surface at $y = +\\frac{t}{2}$ and Face B to the surface at $y = -\\frac{t}{2}$. The measured strains can be expressed as:\n$$\n\\varepsilon_A = \\varepsilon\\left(y = +\\frac{t}{2}\\right) = \\varepsilon_{avg} + \\kappa \\frac{t}{2}\n$$\n$$\n\\varepsilon_B = \\varepsilon\\left(y = -\\frac{t}{2}\\right) = \\varepsilon_{avg} - \\kappa \\frac{t}{2}\n$$\nThis constitutes a system of two linear equations for the two unknown quantities: the average axial strain $\\varepsilon_{avg}$ and the curvature $\\kappa$.\n\nFirst, to solve for $\\varepsilon_{avg}$, we add the two equations:\n$$\n\\varepsilon_A + \\varepsilon_B = \\left(\\varepsilon_{avg} + \\kappa \\frac{t}{2}\\right) + \\left(\\varepsilon_{avg} - \\kappa \\frac{t}{2}\\right) = 2 \\varepsilon_{avg}\n$$\nThis gives the formula for the average axial strain, which represents the true axial strain component from the applied tensile force $F$:\n$$\n\\varepsilon_{avg} = \\frac{\\varepsilon_A + \\varepsilon_B}{2}\n$$\nTo solve for the curvature $\\kappa$, we subtract the second equation from the first:\n$$\n\\varepsilon_A - \\varepsilon_B = \\left(\\varepsilon_{avg} + \\kappa \\frac{t}{2}\\right) - \\left(\\varepsilon_{avg} - \\kappa \\frac{t}{2}\\right) = \\kappa t\n$$\nThis yields the formula for the curvature:\n$$\n\\kappa = \\frac{\\varepsilon_A - \\varepsilon_B}{t}\n$$\nThese relationships are valid for each load step provided. This completes the first part of the problem's requirements.\n\nFor the second part, we compute the bending strain ratio for Step $3$. The bending strain is the term $\\varepsilon_{bend}(y) = \\kappa y$. The magnitude of the bending strain at the surface ($y=\\pm\\frac{t}{2}$) is $|\\varepsilon_{bend, surf}| = |\\kappa \\frac{t}{2}|$. The bending strain ratio is defined as the ratio of this magnitude to the average axial strain:\n$$\n\\text{Bending Strain Ratio} = \\frac{|\\varepsilon_{bend, surf}|}{\\varepsilon_{avg}} = \\frac{|\\kappa \\frac{t}{2}|}{\\varepsilon_{avg}}\n$$\nSubstituting the expressions for $\\varepsilon_{avg}$ and $\\kappa$ derived above:\n$$\n\\text{Bending Strain Ratio} = \\frac{\\left|\\frac{\\varepsilon_A - \\varepsilon_B}{t} \\frac{t}{2}\\right|}{\\frac{\\varepsilon_A + \\varepsilon_B}{2}} = \\frac{\\frac{|\\varepsilon_A - \\varepsilon_B|}{2}}{\\frac{\\varepsilon_A + \\varepsilon_B}{2}} = \\frac{|\\varepsilon_A - \\varepsilon_B|}{\\varepsilon_A + \\varepsilon_B}\n$$\nFor Step $3$, the given data are $\\varepsilon_A = 0.00133333$ and $\\varepsilon_B = 0.00104762$.\n$$\n\\text{Bending Strain Ratio} = \\frac{|0.00133333 - 0.00104762|}{0.00133333 + 0.00104762} = \\frac{0.00028571}{0.00238095} \\approx 0.1200\n$$\nThis indicates a bending artifact of approximately $12\\%$, which is significant and must be corrected for an accurate determination of the material's Young's modulus.\n\nFor the third part, we determine the corrected Young's modulus, $E$. The modulus is the slope of the corrected axial stress-strain curve. The corrected data pairs are $(\\varepsilon_{avg}, \\sigma)$, where $\\sigma$ is the nominal axial stress $\\sigma = \\frac{F}{A}$.\nThe cross-sectional area $A$ of the specimen's gage section is:\n$$\nA = \\text{width} \\times \\text{thickness} = (20.0 \\, \\text{mm}) \\times (6.00 \\, \\text{mm}) = 120 \\, \\text{mm}^2\n$$\nIn SI units, $A = 120 \\times (10^{-3} \\, \\text{m})^2 = 1.20 \\times 10^{-4} \\, \\text{m}^2$.\n\nThe problem states that the data are perfectly proportional, so we can calculate the modulus $E = \\frac{\\sigma}{\\varepsilon_{avg}}$ using any of the non-zero data points. Let us select Step $4$ for the calculation.\nThe givens for Step $4$ are:\nApplied load, $F_4 = 40.0 \\, \\text{kN} = 40.0 \\times 10^3 \\, \\text{N}$.\nMeasured strains, $\\varepsilon_{A,4} = 0.00177778$ and $\\varepsilon_{B,4} = 0.00139683$.\n\nFirst, calculate the average axial strain, $\\varepsilon_{avg,4}$:\n$$\n\\varepsilon_{avg,4} = \\frac{\\varepsilon_{A,4} + \\varepsilon_{B,4}}{2} = \\frac{0.00177778 + 0.00139683}{2} = \\frac{0.00317461}{2} = 0.001587305\n$$\nNext, calculate the nominal axial stress, $\\sigma_4$:\n$$\n\\sigma_4 = \\frac{F_4}{A} = \\frac{40.0 \\times 10^3 \\, \\text{N}}{1.20 \\times 10^{-4} \\, \\text{m}^2} = \\frac{40.0}{1.20} \\times 10^7 \\, \\frac{\\text{N}}{\\text{m}^2} = \\frac{100}{3} \\times 10^7 \\, \\text{Pa} \\approx 3.3333 \\times 10^8 \\, \\text{Pa}\n$$\nNow, we compute the Young's modulus, $E$:\n$$\nE = \\frac{\\sigma_4}{\\varepsilon_{avg,4}} = \\frac{\\frac{100}{3} \\times 10^7 \\, \\text{Pa}}{0.001587305} \\approx 2.0999983 \\times 10^{11} \\, \\text{Pa}\n$$\nThe problem asks for the answer in gigapascals (GPa), where $1 \\, \\text{GPa} = 10^9 \\, \\text{Pa}$.\n$$\nE \\approx 209.99983 \\, \\text{GPa}\n$$\nUpon closer inspection, the strain data corresponds to exact fractions. For instance, in Step $1$, $\\varepsilon_{A,1} = \\frac{4}{9000}$ and $\\varepsilon_{B,1} \\approx \\frac{11}{31500}$, which leads to an average strain $\\varepsilon_{avg,1} = \\frac{1}{2520}$. The load is $F_1 = 10^4 \\, \\text{N}$, giving a stress $\\sigma_1 = \\frac{10^4 \\, \\text{N}}{1.2 \\times 10^{-4} \\, \\text{m}^2} = \\frac{5}{6} \\times 10^8 \\, \\text{Pa}$. The modulus is then exactly:\n$$\nE = \\frac{\\sigma_1}{\\varepsilon_{avg,1}} = \\frac{\\frac{5}{6} \\times 10^8 \\, \\text{Pa}}{\\frac{1}{2520}} = \\frac{5}{6} \\times 2520 \\times 10^8 \\, \\text{Pa} = 5 \\times 420 \\times 10^8 \\, \\text{Pa} = 2100 \\times 10^8 \\, \\text{Pa} = 2.1 \\times 10^{11} \\, \\text{Pa}\n$$\nThis exact result is $E = 210 \\times 10^9 \\, \\text{Pa}$, or $210 \\, \\text{GPa}$.\n\nRounding the final answer to four significant figures as requested, we get $210.0$ GPa.", "answer": "$$\n\\boxed{210.0}\n$$", "id": "2708328"}, {"introduction": "Computational modeling provides a powerful complement to physical experiments, allowing for detailed exploration of stress and strain fields. This exercise [@problem_id:2708299] introduces the fundamentals of simulating a uniaxial test using the Finite Element Method (FEM). You will build a simple one-dimensional model from first principles and, most importantly, verify it against the known analytical solution, a critical step in any rigorous computational analysis. This practice develops core skills in both setting up and validating numerical models, which are essential for modern engineering design and research.", "problem": "A straight prismatic specimen is tested in uniaxial loading under small deformations with an isotropic, linear elastic response. Your task is to formulate a one-dimensional finite element model for this uniaxial test that avoids rigid body motions through appropriate boundary conditions, and to verify that the computed average stress–strain relation matches the analytical uniform solution valid prior to localization or necking. Use the Finite Element Method (FEM) with linear two-node bar elements.\n\nStart from the following fundamental bases only: balance of linear momentum in quasistatics, the small-strain kinematic definition, and Hooke’s law for an isotropic linear elastic material. Do not invoke any other advanced results as starting points.\n\nModeling assumptions:\n- The bar has length $L$, constant cross-sectional area $A$, and Young’s modulus $E$.\n- There are no body forces.\n- Small strain kinematics applies, so the axial strain is $\\varepsilon = du/dx$ with axial displacement $u(x)$.\n- The constitutive law is $\\sigma = E \\,\\varepsilon$, where $\\sigma$ is the axial Cauchy stress.\n- Use linear two-node elements and assemble the global stiffness in the standard manner.\n- To avoid rigid body motion, impose the essential boundary condition $u(0) = 0$. In displacement-controlled tests, also prescribe $u(L) = u_L$. In force-controlled tests, apply a nodal force $F$ at $x=L$ while keeping $u(0)=0$.\n\nComputations to perform in your program:\n- Assemble the global stiffness matrix and load vector for a mesh of $n_e$ linear elements spanning $[0,L]$ with uniform spacing.\n- For displacement control, treat $u(0)$ and $u(L)$ as essential boundary conditions. For force control, treat only $u(0)$ as essential and apply the nodal force $F$ at $x=L$.\n- Solve for the nodal displacements and compute the reaction forces as $r = K u - f$, where $K$ is the assembled stiffness, $u$ is the global displacement vector, and $f$ is the applied external load vector.\n- Compute the average strain as $\\bar{\\varepsilon} = \\big(u(L) - u(0)\\big)/L$.\n- Compute the average stress as:\n  - Displacement control: $\\bar{\\sigma} = r_N/A$, where $r_N$ is the reaction at the right end $x=L$.\n  - Force control: $\\bar{\\sigma} = -r_0/A$, where $r_0$ is the reaction at the fixed left end $x=0$.\n- Define the verification metric $e$ for each test as follows: if $|E\\,\\bar{\\varepsilon}|  0$, set $e = \\big|\\bar{\\sigma} - E \\,\\bar{\\varepsilon}\\big| / \\big|E \\,\\bar{\\varepsilon}\\big|$. If $|E\\,\\bar{\\varepsilon}| = 0$ and both $\\bar{\\sigma}$ and $\\bar{\\varepsilon}$ are numerically zero, set $e=0$; otherwise set $e$ to a large finite value, e.g., $e=1$.\n\nAnalytical uniform solution criterion:\n- Before any localization, the analytical uniform solution requires $\\bar{\\sigma} = E\\,\\bar{\\varepsilon}$.\n\nUnits:\n- Express all inputs in International System of Units (SI): length $L$ in meters, area $A$ in square meters, Young’s modulus $E$ in pascals, displacement $u_L$ in meters, and force $F$ in newtons.\n- The output verification metric $e$ is dimensionless.\n\nTest suite:\n- Case $1$ (displacement control, tension): $L = 0.5\\,\\mathrm{m}$, $A = 2.0\\times 10^{-4}\\,\\mathrm{m^2}$, $E = 2.10\\times 10^{11}\\,\\mathrm{Pa}$, $n_e = 10$, $u_L = 5.0\\times 10^{-4}\\,\\mathrm{m}$.\n- Case $2$ (force control, compression): $L = 1.0\\,\\mathrm{m}$, $A = 1.0\\times 10^{-3}\\,\\mathrm{m^2}$, $E = 7.0\\times 10^{10}\\,\\mathrm{Pa}$, $n_e = 7$, $F = -5.0\\times 10^{4}\\,\\mathrm{N}$.\n- Case $3$ (displacement control, single element): $L = 0.123\\,\\mathrm{m}$, $A = 3.3\\times 10^{-4}\\,\\mathrm{m^2}$, $E = 1.10\\times 10^{11}\\,\\mathrm{Pa}$, $n_e = 1$, $u_L = 2.46\\times 10^{-5}\\,\\mathrm{m}$.\n- Case $4$ (force control, zero load): $L = 0.4\\,\\mathrm{m}$, $A = 5.0\\times 10^{-4}\\,\\mathrm{m^2}$, $E = 2.0\\times 10^{11}\\,\\mathrm{Pa}$, $n_e = 8$, $F = 0.0\\,\\mathrm{N}$.\n\nFinal output format:\n- Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, in the order of Cases $1$ through $4$: for example, $\\big[ e_1, e_2, e_3, e_4 \\big]$. Each $e_i$ must be a floating-point number.", "solution": "We begin from balance of linear momentum in quasistatics, small-strain kinematics, and Hooke’s law. For a straight, prismatic bar with no body forces, the internal axial force is $N(x) = A \\,\\sigma(x)$, where $A$ is constant. Quasistatic equilibrium demands $dN/dx = 0$, so the axial force, and hence the axial stress for a prismatic bar, is spatially constant in the absence of body forces and before localization. Kinematics under small strain gives $\\varepsilon(x) = du/dx$. Hooke’s law for isotropic linear elasticity under uniaxial loading gives $\\sigma(x) = E\\,\\varepsilon(x) = E\\,du/dx$.\n\nTo derive the weak form, consider the Principle of Virtual Work: the internal virtual work equals the external virtual work for all admissible virtual displacements $\\delta u$ that vanish on essential boundary conditions. The internal virtual work for a one-dimensional bar is\n$$\n\\delta W_{\\mathrm{int}} = \\int_0^L A\\,\\sigma\\,\\delta \\varepsilon\\, dx = \\int_0^L A\\, E\\, \\frac{du}{dx} \\frac{d\\,\\delta u}{dx}\\, dx.\n$$\nThe external virtual work from a nodal force $F$ at $x=L$ is\n$$\n\\delta W_{\\mathrm{ext}} = F\\, \\delta u(L),\n$$\nand if $u(L)$ is prescribed (displacement control), then $F$ is an unknown reaction and does not enter the right-hand side since $\\delta u(L)=0$ for admissible variations. The weak form is therefore\n$$\n\\int_0^L A\\, E\\, \\frac{du}{dx} \\frac{d\\,\\delta u}{dx}\\, dx = \\delta W_{\\mathrm{ext}}.\n$$\n\nDiscretization by the Finite Element Method (FEM) with linear two-node elements proceeds by approximating $u(x)$ as a piecewise linear function over $n_e$ elements covering $[0,L]$. For a single element spanning $[x_a, x_b]$ of length $L_e = x_b - x_a$, the element stiffness matrix is obtained by substituting the linear shape functions $N_1(x)$ and $N_2(x)$ into the weak form, yielding\n$$\nk^{(e)} = \\frac{A E}{L_e} \\begin{bmatrix} 1  -1 \\\\ -1  1 \\end{bmatrix}.\n$$\nAssemble all element stiffness matrices into the global stiffness matrix $K \\in \\mathbb{R}^{(n+1)\\times(n+1)}$, where $n = n_e$ is the number of elements and there are $n+1$ nodes. The global load vector $f$ is zero everywhere except possibly at the rightmost node $x=L$ for force-controlled tests, where $f_N = F$. Essential boundary conditions are imposed to eliminate rigid body motions: $u(0) = 0$ is always enforced. For displacement control, $u(L) = u_L$ is also enforced; for force control, only $u(0)=0$ is enforced.\n\nSolve the linear system for the free nodal unknowns. After obtaining the global displacement vector $u$, compute the reaction forces by the standard relation\n$$\nr = K u - f,\n$$\nwhere entries of $r$ at essential degrees of freedom represent reactions. Define the average strain and average stress as\n$$\n\\bar{\\varepsilon} = \\frac{u(L) - u(0)}{L}, \\qquad\n\\bar{\\sigma} =\n\\begin{cases}\n\\dfrac{r_N}{A},  \\text{displacement control}, \\\\\n-\\dfrac{r_0}{A},  \\text{force control},\n\\end{cases}\n$$\nwhere $r_0$ and $r_N$ are the reaction forces at the left and right ends, respectively. The analytical uniform solution valid before localization is\n$$\n\\bar{\\sigma} = E \\, \\bar{\\varepsilon}.\n$$\nThis follows from the uniformity of stress in the prismatic bar without body forces and the linear constitutive law, together with a linear displacement profile $u(x)$ consistent with the essential boundary conditions.\n\nVerification metric: For numerical comparison, define\n$$\ne =\n\\begin{cases}\n\\dfrac{\\left|\\bar{\\sigma} - E \\,\\bar{\\varepsilon}\\right|}{\\left|E \\,\\bar{\\varepsilon}\\right|},  \\text{if } \\left|E \\,\\bar{\\varepsilon}\\right| > 0, \\\\\n0,  \\text{if } \\left|E \\,\\bar{\\varepsilon}\\right| = 0 \\text{ and } \\bar{\\sigma} = 0 \\text{ and } \\bar{\\varepsilon} = 0, \\\\\n1,  \\text{otherwise}.\n\\end{cases}\n$$\nThis metric is dimensionless and evaluates the relative deviation from the analytical uniform relation. Because the displacement field for a prismatic bar under these conditions is exactly linear, the linear two-node element reproduces the exact solution, and the assembled FEM solution matches the analytical uniform solution up to floating-point roundoff. Therefore, for the test suite described, each $e$ should be on the order of machine precision for nonzero load cases, and exactly zero for the zero-load case in exact arithmetic. In finite precision arithmetic, one may observe very small values close to zero.\n\nAlgorithmic steps for the program:\n- For each test case, generate node coordinates $x_i = i\\, L / n_e$ for $i=0,\\dots,n_e$.\n- Assemble $K$ by looping over elements and adding $k^{(e)}$ to the appropriate global indices.\n- Build $f$ according to the test type (zero for displacement control; set $f_N = F$ for force control).\n- Partition into free and constrained degrees of freedom according to the essential boundary conditions. For displacement control, account for both end displacements in the right-hand side using the standard partitioned system $K_{ff} u_f = f_f - K_{fc} u_c$.\n- Recover the full displacement vector $u$ and compute reactions $r = K u - f$.\n- Compute $\\bar{\\varepsilon}$ and $\\bar{\\sigma}$ as above; then compute $e$ using the piecewise definition.\n- Collect $e$ for all tests and print a single line as a comma-separated list enclosed in square brackets.\n\nFor the provided test suite:\n- Case $1$: $L = 0.5\\,\\mathrm{m}$, $A = 2.0\\times 10^{-4}\\,\\mathrm{m^2}$, $E = 2.10\\times 10^{11}\\,\\mathrm{Pa}$, $n_e = 10$, $u_L = 5.0\\times 10^{-4}\\,\\mathrm{m}$.\n- Case $2$: $L = 1.0\\,\\mathrm{m}$, $A = 1.0\\times 10^{-3}\\,\\mathrm{m^2}$, $E = 7.0\\times 10^{10}\\,\\mathrm{Pa}$, $n_e = 7$, $F = -5.0\\times 10^{4}\\,\\mathrm{N}$.\n- Case $3$: $L = 0.123\\,\\mathrm{m}$, $A = 3.3\\times 10^{-4}\\,\\mathrm{m^2}$, $E = 1.10\\times 10^{11}\\,\\mathrm{Pa}$, $n_e = 1$, $u_L = 2.46\\times 10^{-5}\\,\\mathrm{m}$.\n- Case $4$: $L = 0.4\\,\\mathrm{m}$, $A = 5.0\\times 10^{-4}\\,\\mathrm{m^2}$, $E = 2.0\\times 10^{11}\\,\\mathrm{Pa}$, $n_e = 8$, $F = 0.0\\,\\mathrm{N}$.\n\nImplementing these steps yields verification errors $e$ that are essentially zero within floating-point precision, thereby confirming that the computed average stress–strain matches the analytical uniform solution before necking.", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef assemble_bar_stiffness(L, A, E, n_elem):\n    \"\"\"\n    Assemble the global stiffness matrix for a 1D bar using n_elem linear elements.\n    \"\"\"\n    n_nodes = n_elem + 1\n    K = np.zeros((n_nodes, n_nodes), dtype=float)\n    # Uniform mesh spacing\n    x = np.linspace(0.0, L, n_nodes)\n    for e in range(n_elem):\n        x_a = x[e]\n        x_b = x[e + 1]\n        Le = x_b - x_a\n        ke = (A * E / Le) * np.array([[1.0, -1.0],\n                                      [-1.0,  1.0]], dtype=float)\n        # Scatter to global K\n        nodes = [e, e + 1]\n        for i_local, I in enumerate(nodes):\n            for j_local, J in enumerate(nodes):\n                K[I, J] += ke[i_local, j_local]\n    return K\n\ndef solve_bar(L, A, E, n_elem, mode, value):\n    \"\"\"\n    Solve the bar problem for one test case.\n\n    Parameters:\n        L, A, E: geometry and material\n        n_elem: number of linear elements\n        mode: 'disp' or 'force'\n        value: uL if mode == 'disp', or F if mode == 'force'\n\n    Returns:\n        u: global displacement vector\n        r: reaction vector (K u - f)\n    \"\"\"\n    n_nodes = n_elem + 1\n    K = assemble_bar_stiffness(L, A, E, n_elem)\n    f = np.zeros(n_nodes, dtype=float)\n\n    # Essential boundary conditions\n    constrained_dofs = []\n    constrained_values = []\n\n    # Left end fixed\n    constrained_dofs.append(0)\n    constrained_values.append(0.0)\n\n    if mode == 'disp':\n        # Prescribe right-end displacement\n        uL = float(value)\n        constrained_dofs.append(n_nodes - 1)\n        constrained_values.append(uL)\n    elif mode == 'force':\n        # Apply nodal force at right end\n        F = float(value)\n        f[-1] += F\n    else:\n        raise ValueError(\"Unknown mode\")\n\n    # Build arrays for solving\n    all_dofs = np.arange(n_nodes)\n    constrained_dofs = np.array(constrained_dofs, dtype=int)\n    constrained_values = np.array(constrained_values, dtype=float)\n    free_dofs = np.setdiff1d(all_dofs, constrained_dofs, assume_unique=False)\n\n    # Initialize displacement vector\n    u = np.zeros(n_nodes, dtype=float)\n    # Assign known displacements\n    u[constrained_dofs] = constrained_values\n\n    if free_dofs.size > 0:\n        # Partitioned system: Kff uf = ff - Kfc uc\n        Kff = K[np.ix_(free_dofs, free_dofs)]\n        Kfc = K[np.ix_(free_dofs, constrained_dofs)]\n        ff = f[free_dofs]\n        rhs = ff - Kfc @ u[constrained_dofs]\n        # Solve for free displacements\n        uf = np.linalg.solve(Kff, rhs)\n        u[free_dofs] = uf\n\n    # Compute reactions r = K u - f\n    r = K @ u - f\n    return u, r\n\ndef compute_avg_measures(L, A, E, u, r, mode):\n    \"\"\"\n    Compute average strain, average stress, and verification error metric.\n    \"\"\"\n    u0 = u[0]\n    uL = u[-1]\n    eps_bar = (uL - u0) / L\n    if mode == 'disp':\n        sigma_bar = r[-1] / A\n    else:\n        sigma_bar = -r[0] / A\n\n    # Verification metric\n    denom = abs(E * eps_bar)\n    if denom > 0.0:\n        e = abs(sigma_bar - E * eps_bar) / denom\n    else:\n        # If both measures are numerically zero, return 0, else 1\n        if abs(sigma_bar) = 1e-14 and abs(eps_bar) = 1e-14:\n            e = 0.0\n        else:\n            e = 1.0\n    return eps_bar, sigma_bar, e\n\ndef solve():\n    # Define the test cases from the problem statement.\n    # Each case: (L, A, E, n_elem, mode, value)\n    test_cases = [\n        (0.5, 2.0e-4, 2.10e11, 10, 'disp', 5.0e-4),   # Case 1\n        (1.0, 1.0e-3, 7.0e10,  7,  'force', -5.0e4),  # Case 2\n        (0.123, 3.3e-4, 1.10e11, 1, 'disp', 2.46e-5), # Case 3\n        (0.4, 5.0e-4, 2.0e11,  8,  'force', 0.0),     # Case 4\n    ]\n\n    results = []\n    for L, A, E, n_elem, mode, value in test_cases:\n        u, r = solve_bar(L, A, E, n_elem, mode, value)\n        _, _, e = compute_avg_measures(L, A, E, u, r, mode)\n        results.append(e)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nif __name__ == \"__main__\":\n    solve()\n```", "id": "2708299"}]}