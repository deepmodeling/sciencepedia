{"hands_on_practices": [{"introduction": "Before we can master the use of a Parallel-in, Serial-out (PISO) register, it's essential to understand its fundamental construction. This first practice takes you back to basics, challenging you to design the core selection logic for a single register stage using only elementary gates. By deriving the Boolean expression that controls whether a flip-flop loads new data or shifts existing data [@problem_id:1950675], you will gain a foundational insight into the PISO register's dual-mode capability.", "problem": "Consider a single bit-slice, stage $i$, of a generic Parallel-In, Serial-Out (PISO) shift register. This stage is built around a D-type flip-flop and its associated input logic. The behavior of this stage is governed by a single mode control signal, $M$.\n\nThe functionality is defined as follows:\n- When $M=0$, the register is in 'load' mode. On the next active clock edge, the flip-flop should capture the value from a parallel data input line, $P_i$.\n- When $M=1$, the register is in 'shift' mode. On the next active clock edge, the flip-flop should capture the value from a serial data input line, $S_i$. The serial input $S_i$ is connected to the output of the previous stage's flip-flop.\n\nYour task is to design the combinational logic circuit that provides the correct input signal, $D_i$, to the D-type flip-flop for stage $i$. This logic must be designed from first principles, using only elementary AND, OR, and NOT gates. The use of any pre-packaged logic components like multiplexers (MUX) or decoders is explicitly forbidden.\n\nDetermine the Boolean expression for the flip-flop input $D_i$ in terms of the inputs $P_i$, $S_i$, and $M$. In your final expression, you may use standard Boolean algebra notation where multiplication (e.g., $A \\cdot B$) represents AND, addition (e.g., $A+B$) represents OR, and an overbar (e.g., $\\overline{A}$) represents NOT.", "solution": "We require a Boolean function $D_{i}(M,P_{i},S_{i})$ such that:\n- If $M=0$ (load mode), then $D_{i}=P_{i}$.\n- If $M=1$ (shift mode), then $D_{i}=S_{i}$.\n\nUsing Boolean conditioning (Shannon expansion) on $M$, any function $F(M,\\dots)$ can be written as $F=\\overline{M}\\cdot F|_{M=0}+M\\cdot F|_{M=1}$. Applying this to $D_{i}$ with $D_{i}|_{M=0}=P_{i}$ and $D_{i}|_{M=1}=S_{i}$ gives\n$$\nD_{i}=\\overline{M}\\cdot P_{i}+M\\cdot S_{i}.\n$$\nThis expression uses only elementary gates: one NOT to generate $\\overline{M}$, two AND gates to form $\\overline{M}\\cdot P_{i}$ and $M\\cdot S_{i}$, and one OR gate to sum them.\n\nVerification:\n- For $M=0$: $D_{i}=1\\cdot P_{i}+0\\cdot S_{i}=P_{i}$.\n- For $M=1$: $D_{i}=0\\cdot P_{i}+1\\cdot S_{i}=S_{i}$.\n\nHence the required combinational logic is\n$$\nD_{i}=(\\overline{M}\\cdot P_{i})+(M\\cdot S_{i}).\n$$", "answer": "$$\\boxed{(\\overline{M}\\cdot P_{i})+(M\\cdot S_{i})}$$", "id": "1950675"}, {"introduction": "With the gate-level logic established, we now scale up to see the entire register in action. This exercise focuses on the PISO register's primary function: data serialization. You will trace the complete process of loading a parallel data word and then shifting it out bit-by-bit, which is a core task in digital communication and data processing [@problem_id:1950743]. This practice solidifies the relationship between the parallel-loaded state and the resulting serial output stream.", "problem": "A simple data serialization circuit utilizes an 8-bit Parallel-In, Serial-Out (PISO) shift register. This register consists of eight D-type flip-flops, labeled from Q7 for the Most Significant Bit (MSB) to Q0 for the Least Significant Bit (LSB).\n\nThe operation proceeds in two phases. First, in the 'load' phase, the 8-bit hexadecimal data word `$B4` is loaded in parallel into the register. This means the MSB of the data word is stored in Q7, the next bit in Q6, and so on, down to the LSB which is stored in Q0.\n\nSecond, the register's mode is switched to 'shift'. On the rising edge of each subsequent clock pulse, all bits in the register are shifted one position to the right (i.e., the value from Q_n moves to Q_{n-1}). The serial data input feeding Q7 is held at logic 0 during this entire shift phase. The serial output of the circuit is taken from the Q0 pin.\n\nDetermine the sequence of the first 8 bits that appear at the serial output during the shift phase, starting with the output generated by the first clock pulse.\n\nWhich of the following represents the correct 8-bit serial output sequence?\n\nA. `00101101`\n\nB. `10110100`\n\nC. `01001011`\n\nD. `11010010`\n\nE. `01000011`", "solution": "Interpret the hexadecimal word $B4$ as an 8-bit binary word with the Most Significant Bit (MSB) at $Q_{7}$ and the Least Significant Bit (LSB) at $Q_{0}$. Since $B=1011$ and $4=0100$, the initial contents after the load phase are:\n$$\n[Q_{7},Q_{6},Q_{5},Q_{4},Q_{3},Q_{2},Q_{1},Q_{0}] = [1,0,1,1,0,1,0,0].\n$$\nDuring the shift phase, on each rising clock edge, the register shifts right with zero serial-in:\n$$\nQ_{n-1}^{+} = Q_{n}, \\quad Q_{7}^{+} = 0,\n$$\nwhere the superscript $+$ denotes the value just after the clock edge.\n\nThe serial output is taken from $Q_{0}$. The bit “generated by” a given clock pulse is the bit shifted out at that edge, i.e., the content of $Q_{0}$ just before the shift. Therefore, the first $8$ output bits are exactly the initially loaded bits from LSB to MSB:\n$$\nb_{k} = Q_{k-1}^{(0)} \\quad \\text{for } k=1,2,\\dots,8,\n$$\nwhere $Q^{(0)}$ denotes the values immediately after the load phase.\n\nUsing the initial state $[1,0,1,1,0,1,0,0]$, we obtain:\n$$\n[b_{1},b_{2},b_{3},b_{4},b_{5},b_{6},b_{7},b_{8}] = [Q_{0},Q_{1},Q_{2},Q_{3},Q_{4},Q_{5},Q_{6},Q_{7}] = [0,0,1,0,1,1,0,1].\n$$\nThus, the 8-bit serial output sequence is $00101101$, which corresponds to option A.", "answer": "$$\\boxed{A}$$", "id": "1950743"}, {"introduction": "While our models often assume ideal components, real-world digital circuits can and do fail. This final practice moves from ideal operation to practical troubleshooting, a critical skill for any digital designer. Presented with an incorrect serial output, you must deduce the specific internal \"stuck-at\" fault responsible for the error [@problem_id:1950684]. This diagnostic challenge requires you to apply your knowledge of the register's internal load and shift paths to solve a realistic engineering problem.", "problem": "An 8-bit Parallel-In, Serial-Out (PISO) shift register is constructed using eight D-type flip-flops, labeled $DFF_7$ through $DFF_0$ from left to right. The serial output, $S_{out}$, is taken from the output of the rightmost flip-flop, $Q_0$.\n\nFor each flip-flop $DFF_i$ (where $i$ ranges from 0 to 7), its D-input, $D_i$, is connected to the output of a 2-to-1 multiplexer. This multiplexer selects between two sources based on a single control line, `SHIFT/LOAD`:\n- When `SHIFT/LOAD` = 0 (Parallel Load mode), the multiplexer selects the parallel data input bit $P_i$.\n- When `SHIFT/LOAD` = 1 (Shift mode), the multiplexer selects the output of the adjacent flip-flop to the left, $Q_{i+1}$. For the leftmost flip-flop, $DFF_7$, this shift-in input is permanently grounded (logic 0).\n\nThe register is intended for the following operation:\n1. The `SHIFT/LOAD` signal is set to 0. The parallel data word $P = (P_7, P_6, P_5, P_4, P_3, P_2, P_1, P_0) = (1, 1, 1, 1, 1, 1, 1, 1)$ is applied to the inputs. A single clock pulse is applied to load this data.\n2. The `SHIFT/LOAD` signal is set to 1. A sequence of eight clock pulses is then applied to shift the data out serially. The serial output stream is read from $S_{out}$ after each clock pulse.\n\nAfter performing this operation, the observed 8-bit serial output stream, from first bit out to last, is `11110111`. A single stuck-at-0 fault is known to exist somewhere in the circuit. Based on this observation, which of the following is the most plausible fault?\n\nA. The D-input of flip-flop $DFF_3$ ($D_3$) is stuck-at-0.\n\nB. The output of flip-flop $DFF_4$ ($Q_4$) is stuck-at-0.\n\nC. The parallel data input pin for flip-flop $DFF_4$ ($P_4$) is stuck-at-0.\n\nD. The master `SHIFT/LOAD` control line is stuck-at-0.\n\nE. The output of flip-flop $DFF_3$ ($Q_3$) is stuck-at-0.", "solution": "Let the register be right-shifting with $Q_{i}$ feeding $Q_{i-1}$ in shift mode and the serial output taken at $S_{out}=Q_{0}$. After a parallel load with $P=(P_{7},\\dots,P_{0})$, the content is $Q_{i}(0)=P_{i}$.\n\nWhen clocking in shift mode and observing the bit that shifts out on each clock (the standard PISO timing), the $k$-th observed serial bit equals the content that was in $Q_{k-1}$ immediately after the parallel load. Thus, for an ideal, fault-free register,\n$$\nb_{k}=P_{k-1}\\quad\\text{for }k=1,2,\\dots,8.\n$$\nWith $P_{i}=1$ for all $i$, a good register would yield $b_{1}\\dots b_{8}=11111111$.\n\nThe observed stream is $11110111$, which means $b_{1}=P_{0}=1$, $b_{2}=P_{1}=1$, $b_{3}=P_{2}=1$, $b_{4}=P_{3}=1$, $b_{5}=P_{4}=0$, $b_{6}=P_{5}=1$, $b_{7}=P_{6}=1$, $b_{8}=P_{7}=1$. Therefore, the load produced $Q_{4}(0)=P_{4}=0$ while all other loaded bits were $1$.\n\nNow test each single stuck-at-0 fault against this observation:\n\n1) Master control stuck-at-0 (option D): the device would remain in load mode; every clock would reload $P$, so $Q_{0}$ would stay $1$ at every read, yielding $11111111$, contradicting observation.\n\n2) $D_{3}$ stuck-at-0 (option A): during load, $Q_{3}(0)=0$, so the fourth bit in the stream would be $0$ (i.e., $1110\\ldots$), not the fifth. Moreover, during shifting, zeros would further propagate right, introducing additional errors inconsistent with $11110111$.\n\n3) $Q_{3}$ stuck-at-0 (option E): forces $Q_{3}(0)=0$ and, in shift mode, continually injects zeros to the right. The fourth bit out would be `0`, and subsequent bits would also be corrupted, which is inconsistent with the observation.\n\n4) $Q_{4}$ stuck-at-0 (option B): This fault would cause $Q_{4}$ to be `0` after the parallel load, so the fifth bit of the output stream ($b_5$, corresponding to $P_4$) would correctly be `0`. However, the stuck fault also breaks the shift path. On every shift cycle, $Q_3$ would receive a `0` from the stuck $Q_4$. Therefore, after the first four bits (`1111`) are shifted out, the fifth bit is `0`, and all subsequent bits shifted into $Q_0$ would also be `0`. The full stream would be `11110000`. This does not match the observed `11110111`.\n\n5) $P_{4}$ stuck-at-0 (option C): during parallel load this alone makes $Q_{4}(0)=0$ with all other $Q_{i}(0)=1$. The shift path remains intact, so the serial stream equals the loaded word from $Q_{0}$ to $Q_{7}$:\n$$\nb_{1}\\dots b_{8}=(Q_{0}(0),Q_{1}(0),Q_{2}(0),Q_{3}(0),Q_{4}(0),Q_{5}(0),Q_{6}(0),Q_{7}(0))=11110111,\n$$\nwhich matches exactly.\n\nTherefore, the only single stuck-at-0 fault consistent with the observation is the parallel input $P_{4}$ stuck-at-0.", "answer": "$$\\boxed{C}$$", "id": "1950684"}]}