{"hands_on_practices": [{"introduction": "One of the primary applications of a Johnson counter is as a frequency divider. This exercise will help you master the fundamental relationship between the number of flip-flops in the counter, the input clock frequency, and the resulting frequency at the output of any individual flip-flop. Understanding this principle, where the output frequency is $f_{out} = f_{clk} / (2N)$, is essential for using Johnson counters in timing and control applications [@problem_id:1968637].", "problem": "A digital circuit for generating sequential control signals is built using four D-type flip-flops. These flip-flops are connected in series to form a shift register. The key feature of this design is that the inverted output ($Q'$) of the last flip-flop is fed back to the data input ($D$) of the first flip-flop. This specific configuration is commonly known as a Johnson counter or a twisted-ring counter. If a clock signal with a stable frequency of 800 Hz is applied to the clock inputs of all flip-flops, what is the frequency of the signal observed at the non-inverted output ($Q$) of any single flip-flop in the counter? Express your final answer in Hz.", "solution": "A Johnson (twisted-ring) counter with $N$ D flip-flops cycles through $2N$ distinct states because the inverted output of the last stage is fed back to the first stage, creating a sequence with a contiguous run of ones that grows and then shrinks. Each clock pulse advances the state by one, so the full cycle period equals the duration of $2N$ clock cycles. Therefore, the output of any single flip-flop, being a deterministic function of the counter state, repeats every full cycle and thus has a fundamental frequency equal to the clock frequency divided by $2N$.\n\nLet $N=4$ and the clock frequency be $f_{\\text{clk}}=800$ Hz. The number of states is\n$$\nL=2N=8.\n$$\nThe clock period is\n$$\nT_{\\text{clk}}=\\frac{1}{f_{\\text{clk}}}.\n$$\nThe period of the waveform at any $Q$ output is\n$$\nT_{Q}=L\\,T_{\\text{clk}}=\\frac{2N}{f_{\\text{clk}}},\n$$\nso the frequency observed at any $Q$ output is\n$$\nf_{Q}=\\frac{1}{T_{Q}}=\\frac{f_{\\text{clk}}}{2N}=\\frac{800}{8}=100.\n$$\nAlthough the duty cycles differ among stages, the repetition frequency for each $Q$ output is the same, given by $\\frac{f_{\\text{clk}}}{2N}$.", "answer": "$$\\boxed{100}$$", "id": "1968637"}, {"introduction": "In the real world, digital circuits can sometimes power up in unintended states due to noise or timing glitches. This practice explores the behavior of a Johnson counter when it initializes into an \"illegal\" or unused state. By tracing the counter's progression from this faulty starting point, you will learn about state machine robustness and the important concept of self-correction, or the lack thereof [@problem_id:1968654].", "problem": "A digital control circuit is implemented using a 3-bit synchronous sequential counter. The circuit is constructed from three D-type flip-flops, whose outputs are denoted as $Q_2$, $Q_1$, and $Q_0$. The circuit is wired as a Johnson counter, where the input to the first flip-flop ($D_2$) is connected to the inverted output of the last flip-flop ($\\overline{Q_0}$), and the remaining connections follow a shift-register pattern: $D_1 = Q_2$ and $D_0 = Q_1$.\n\nDuring startup, a fault causes the counter to enter an illegal or unused state, $Q_2Q_1Q_0 = 010$. The system's synchronous clock pulse continues to drive the counter from this initial state.\n\nWhat is the sequence of states ($Q_2Q_1Q_0$) that the counter will be in after the 1st, 2nd, 3rd, and 4th clock pulses, respectively?\n\nA. $101, 010, 101, 010$\n\nB. $101, 110, 111, 011$\n\nC. $001, 000, 100, 110$\n\nD. $010, 010, 010, 010$\n\nE. $110, 111, 011, 001$", "solution": "A 3-bit Johnson counter built from D flip-flops with connections $D_{2}=\\overline{Q_{0}}$, $D_{1}=Q_{2}$, and $D_{0}=Q_{1}$ has the synchronous next-state equations\n$$\nQ_{2}^{+}=\\overline{Q_{0}},\\quad Q_{1}^{+}=Q_{2},\\quad Q_{0}^{+}=Q_{1}.\n$$\nStarting from the given illegal state $Q_{2}Q_{1}Q_{0}=010$:\n- After the 1st clock: with $(Q_{2},Q_{1},Q_{0})=(0,1,0)$,\n$$\nQ_{2}^{+}=\\overline{0}=1,\\quad Q_{1}^{+}=0,\\quad Q_{0}^{+}=1 \\;\\Rightarrow\\; 101.\n$$\n- After the 2nd clock: with $(Q_{2},Q_{1},Q_{0})=(1,0,1)$,\n$$\nQ_{2}^{+}=\\overline{1}=0,\\quad Q_{1}^{+}=1,\\quad Q_{0}^{+}=0 \\;\\Rightarrow\\; 010.\n$$\n- After the 3rd clock: from $010$ again,\n$$\n101.\n$$\n- After the 4th clock: from $101$ again,\n$$\n010.\n$$\nThus the sequence after the 1st, 2nd, 3rd, and 4th pulses is $101, 010, 101, 010$, which corresponds to option A.", "answer": "$$\\boxed{A}$$", "id": "1968654"}, {"introduction": "This final practice moves you from analyzing a given circuit to synthesizing your own. Your task is to implement a Johnson counter using JK flip-flops instead of the more direct D flip-flops, which requires deriving the correct input logic. This exercise is crucial for developing practical design skills, as it forces you to work with state transition tables and logic minimization to achieve a functional and efficient circuit [@problem_id:1968640].", "problem": "A synchronous 3-bit Johnson counter is to be designed using JK flip-flops. The state of the counter is represented by the outputs of the flip-flops, denoted as $Q_2, Q_1, Q_0$, where $Q_2$ is the most significant bit. The counter is intended to cycle through the standard Johnson counter sequence.\n\nYour task is to determine the minimal Boolean logic equations for the inputs $J_1$ and $K_1$ of the middle flip-flop (the one with output $Q_1$). The equations for $J_1$ and $K_1$ should be expressed as functions of the present state variables $Q_2, Q_1,$ and $Q_0$. Any states that are not part of the standard 3-bit Johnson counter sequence should be treated as don't-care conditions to simplify the logic.\n\nPresent your final answer as a row matrix containing the two simplified Boolean expressions, with the expression for $J_1$ first, followed by the expression for $K_1$.", "solution": "The goal is to find the minimal logic expressions for the inputs $J_1$ and $K_1$ of the middle flip-flop in a 3-bit Johnson counter built from JK flip-flops.\n\nFirst, we establish the state transition table for a 3-bit Johnson counter. A Johnson counter is a shift register where the inverted output of the last stage is fed back to the input of the first stage. The sequence of states is as follows:\n\nPresent State ($Q_2Q_1Q_0$) - Next State ($Q_2^+Q_1^+Q_0^+$)\n1. 000 - 100\n2. 100 - 110\n3. 110 - 111\n4. 111 - 011\n5. 011 - 001\n6. 001 - 000\n\nFrom this sequence, we can deduce the next-state equations for a design using D flip-flops:\n$Q_2^+ = \\overline{Q_0}$\n$Q_1^+ = Q_2$\n$Q_0^+ = Q_1$\n\nWe are interested in the inputs to the middle flip-flop, FF1, which has the output $Q_1$. Its next state is given by $Q_1^+ = Q_2$. Our task is to find the inputs $J_1$ and $K_1$ that produce this behavior.\n\nNext, we use the excitation table for a JK flip-flop, which shows the required $J$ and $K$ inputs to achieve a transition from a present state $Q$ to a next state $Q^+$.\n\n| $Q \\to Q^+$ | J | K |\n|:---:|:---:|:---:|\n| $0 \\to 0$   | 0 | X |\n| $0 \\to 1$   | 1 | X |\n| $1 \\to 0$   | X | 1 |\n| $1 \\to 1$   | X | 0 |\n(where 'X' denotes a don't-care condition)\n\nNow, we construct a combined transition and excitation table for the flip-flop FF1. We list all 8 possible present states ($Q_2Q_1Q_0$), the present state of FF1 ($Q_1$), its required next state ($Q_1^+ = Q_2$), and the corresponding required inputs $J_1$ and $K_1$. The states 010 and 101 are not in the Johnson sequence, so their next states and corresponding J/K inputs are don't-cares.\n\n| Present State ($Q_2Q_1Q_0$) | $Q_1$ | $Q_1^+ = Q_2$ | Transition $Q_1 \\to Q_1^+$ | $J_1$ | $K_1$ |\n|:---:|:---:|:---:|:---:|:---:|:---:|\n| 000 | 0 | 0 | $0 \\to 0$ | 0 | X |\n| 001 | 0 | 0 | $0 \\to 0$ | 0 | X |\n| 010 (Unused) | 1 | 0 | $1 \\to 0$ | X | 1 |\n| 011 | 1 | 0 | $1 \\to 0$ | X | 1 |\n| 100 | 0 | 1 | $0 \\to 1$ | 1 | X |\n| 101 (Unused) | 0 | 1 | $0 \\to 1$ | 1 | X |\n| 110 | 1 | 1 | $1 \\to 1$ | X | 0 |\n| 111 | 1 | 1 | $1 \\to 1$ | X | 0 |\n\nWith this table, we can use Karnaugh maps (K-maps) to find the minimal expressions for $J_1$ and $K_1$ as functions of $Q_2, Q_1, Q_0$.\n\n**K-map for $J_1$:**\nThe map is populated with the values from the $J_1$ column of our table.\n```\n      Q1Q0\n   Q2   00  01  11  10\n    0    0   0   X   X\n    1    1   1   X   X\n```\nTo find the minimal expression, we group the 1s, using the don't-cares (X) to create larger groups. We can group the two 1s in the bottom row with the two X's in the same row. This group covers the entire row where $Q_2=1$.\nThis grouping gives the simplified expression:\n$J_1 = Q_2$\n\n**K-map for $K_1$:**\nSimilarly, we populate the K-map for $K_1$.\n```\n      Q1Q0\n   Q2   00  01  11  10\n    0    X   X   1   1\n    1    X   X   0   0\n```\nTo find the minimal expression for $K_1$, we need to cover the 1s. A standard minimal Sum-of-Products approach would group the two 1s, resulting in the expression $K_1 = \\overline{Q_2}Q_1$. However, we can often find a simpler overall implementation by assigning the don't-care values strategically. The goal is to find the minimal logic, which usually implies the lowest gate count.\n\nLet's consider the well-known D-to-JK conversion: $J = D$ and $K = \\overline{D}$. For our flip-flop, the equivalent D input is $D_1 = Q_1^+ = Q_2$. This suggests a solution might be $J_1 = Q_2$ and $K_1 = \\overline{Q_2}$. Let's see if this is a valid simplification using our K-map.\n\nTo get $K_1 = \\overline{Q_2}$, we need all cells in the top row ($Q_2=0$) to be 1 and all cells in the bottom row ($Q_2=1$) to be 0.\nOur K-map for $K_1$ is:\n```\n      Q1Q0\n   Q2   00  01  11  10\n    0    X   X   1   1\n    1    X   X   0   0\n```\nIf we assign the don't-cares in the top row ($Q_2=0$) to be 1, and the don't-cares in the bottom row ($Q_2=1$) to be 0, the map becomes:\n```\n      Q1Q0\n   Q2   00  01  11  10\n    0    1   1   1   1\n    1    0   0   0   0\n```\nGrouping the top row gives the term $\\overline{Q_2}$. This covers all the 1s and is a valid simplification. Therefore, the minimal logic expression for $K_1$ is:\n$K_1 = \\overline{Q_2}$\n\nThis solution ($J_1=Q_2, K_1=\\overline{Q_2}$) is simpler than the one derived by only grouping the explicit '1' entries ($J_1=Q_2, K_1=\\overline{Q_2}Q_1$), as it requires only one inverter for $K_1$ versus an inverter and an AND gate.\n\nThus, the minimal logic equations for the middle flip-flop are $J_1 = Q_2$ and $K_1 = \\overline{Q_2}$.", "answer": "$$\\boxed{\\begin{pmatrix} Q_2  \\overline{Q_2} \\end{pmatrix}}$$", "id": "1968640"}]}