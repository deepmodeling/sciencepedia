{"hands_on_practices": [{"introduction": "Understanding how charge behaves in isolated parts of a circuit is fundamental to digital design, especially in dynamic logic and memory cells. This exercise models the critical phenomenon of charge sharing, where connecting two nodes causes their stored charge—and thus voltage—to redistribute according to the principle of charge conservation [@problem_id:1922264]. This concept is crucial for predicting the stability of logic states in circuits where nodes may be temporarily disconnected from power rails.", "problem": "In digital circuit design, charge sharing is a critical phenomenon that can affect the state of dynamic logic nodes. Consider a simplified model of such a scenario. A storage node, represented by an ideal capacitor $C_1$, is charged to the logic-high supply voltage, $V_{DD}$. A nearby floating interconnect, which can be modeled as a second ideal capacitor $C_2$, is initially fully discharged, meaning its voltage is 0 V. The two capacitors are identical, so $C_1 = C_2 = C$.\n\nA near-ideal Complementary Metal-Oxide-Semiconductor (CMOS) transmission gate is connected between these two capacitors. At time $t=0$, the transmission gate, which was previously off, is turned on, creating a conductive path. Assume the system consisting of the two capacitors and the gate is perfectly isolated from any other power source or ground connection after the initial setup.\n\nAfter a sufficient amount of time has passed for the system to reach a stable electrostatic equilibrium, what is the final voltage, $V_f$, across the two capacitors?\n\nA. $V_{DD}$\n\nB. $0.75 V_{DD}$\n\nC. $0.5 V_{DD}$\n\nD. $0.25 V_{DD}$\n\nE. $0$", "solution": "The two-capacitor system is isolated after setup and the transmission gate is assumed near-ideal, so when it turns on it provides a conductive path without adding or removing net charge. Neglecting parasitics and charge injection, the total charge in the isolated system is conserved.\n\nLet the initial voltages be $V_{1}(0)=V_{DD}$ on $C_{1}=C$ and $V_{2}(0)=0$ on $C_{2}=C$. The initial charges (with respect to ground) are:\n$$\nQ_{1,i}=C V_{1}(0)=C V_{DD}, \\quad Q_{2,i}=C V_{2}(0)=0.\n$$\nThus the total initial charge is:\n$$\nQ_{\\text{tot},i}=Q_{1,i}+Q_{2,i}=C V_{DD}.\n$$\n\nAfter the switch is turned on and sufficient time passes, the two top nodes equalize to a common final voltage $V_{f}$. The final charges are:\n$$\nQ_{1,f}=C V_{f}, \\quad Q_{2,f}=C V_{f},\n$$\nso the total final charge is:\n$$\nQ_{\\text{tot},f}=Q_{1,f}+Q_{2,f}=2 C V_{f}.\n$$\n\nBy conservation of charge $Q_{\\text{tot},f}=Q_{\\text{tot},i}$, giving:\n$$\n2 C V_{f}=C V_{DD} \\quad \\Rightarrow \\quad V_{f}=\\frac{V_{DD}}{2}.\n$$\n\nEquivalently, using the general charge-sharing result for two capacitors initially at $V_{1}$ and $V_{2}$,\n$$\nV_{f}=\\frac{C_{1} V_{1}+C_{2} V_{2}}{C_{1}+C_{2}},\n$$\nand substituting $C_{1}=C_{2}=C$, $V_{1}=V_{DD}$, $V_{2}=0$ yields $V_{f}=V_{DD}/2$. Hence the correct option is C.", "answer": "$$\\boxed{C}$$", "id": "1922264"}, {"introduction": "Why is a CMOS transmission gate built with both an NMOS and a PMOS transistor? Analyzing failure modes provides a clear answer. This problem explores a common \"stuck-open\" fault to demonstrate the limitations of using only a single transistor to pass signals, revealing the core reason for the complementary design that ensures a strong output for both logic '0' and logic '1' [@problem_id:1922274].", "problem": "A Complementary Metal-Oxide-Semiconductor (CMOS) transmission gate is designed to pass a signal between an input node `IN` and an output node `OUT`. The gate is constructed from one N-type Metal-Oxide-Semiconductor (NMOS) transistor and one P-type Metal-Oxide-Semiconductor (PMOS) transistor connected in parallel. The gate is controlled by a signal `C` applied to the gate of the NMOS transistor, and its complement `$\\bar{C}$` applied to the gate of the PMOS transistor.\n\nThe circuit operates with a supply voltage of $V_{DD}$ and a ground reference of $0$ V. The logic '1' level is defined as $V_{DD}$ and the logic '0' level as $0$ V. The NMOS has a positive threshold voltage $V_{Tn}$ and the PMOS has a negative threshold voltage $V_{Tp}$.\n\nConsider a scenario where the transmission gate is intended to be in its 'ON' state, meaning the control signal `C` is at logic '1' ($V_{DD}$) and `$\\bar{C}$` is at logic '0' ($0$ V). A steady logic '1' signal is applied to the input `IN`, so $V_{IN} = V_{DD}$. However, a manufacturing defect has caused the PMOS transistor to be \"stuck-open,\" rendering it electrically equivalent to a permanent open circuit.\n\nAssuming the output node `OUT` is initially at $0$ V and is connected to a load that draws no current, determine the final steady-state voltage at `OUT`. For this analysis, you may ignore the body effect. Express your answer as a symbolic expression in terms of the provided parameters ($V_{DD}$, $V_{Tn}$, $V_{Tp}$).", "solution": "The PMOS is stuck-open, so it is an open circuit and cannot conduct. The transmission path from $IN$ to $OUT$ is therefore only through the NMOS, whose gate is driven by $C=V_{DD}$, with $V_{IN}=V_{DD}$.\n\nFor an NMOS, the terminal at the lower potential acts as the source. Since $V_{IN}=V_{DD}$ and $V_{OUT}$ starts at $0$, we have $V_{OUT} \\leq V_{IN}$ throughout the charging process, so the NMOS source is effectively the $OUT$ node. The NMOS gate-source voltage is then\n$$\nV_{GS}=V_{G}-V_{S}=V_{DD}-V_{OUT}.\n$$\nThe NMOS conducts while $V_{GS} \\geq V_{Tn}$ and stops conducting when $V_{GS}$ falls to $V_{Tn}$. With no load current at $OUT$, the steady state is reached when the channel just turns off, i.e.,\n$$\nV_{DD}-V_{OUT}=V_{Tn}.\n$$\nSolving for $V_{OUT}$ gives\n$$\nV_{OUT}=V_{DD}-V_{Tn}.\n$$\nThe body effect is neglected, so $V_{Tn}$ is constant, and the stuck-open PMOS plays no role; $V_{Tp}$ does not enter the result. Thus the final steady-state output voltage is $V_{DD}-V_{Tn}$.", "answer": "$$\\boxed{V_{DD}-V_{Tn}}$$", "id": "1922274"}, {"introduction": "Beyond their role as simple switches, transmission gates are versatile building blocks for constructing complex logic functions efficiently. This practice moves from device-level analysis to circuit-level application, showing how multiple transmission gates can be orchestrated to create a conditional data swapper [@problem_id:1922235]. This structure is a practical example of a multiplexer, a fundamental component in digital data routing and processing.", "problem": "A digital circuit is designed to function as a conditional data swapper. It has two data inputs, `A` and `B`, a single control input `SWAP`, and two data outputs, `X` and `Y`. The circuit is constructed using four Complementary Metal-Oxide-Semiconductor (CMOS) Transmission Gates (TGs), labeled `TG1`, `TG2`, `TG3`, and `TG4`.\n\nThe behavior of a CMOS TG is defined by two complementary control inputs, `C` and `$\\bar{C}$`. The TG acts as a closed switch, passing the signal bidirectionally, when `C=1` and `$\\bar{C}=0$`. It acts as an open switch (high-impedance state) when `C=0` and `$\\bar{C}=1$`. The control signal `SWAP` and its complement `$\\overline{\\text{SWAP}}$` are used to drive the TGs.\n\nThe circuit's wiring is as follows:\n- **For Output X:**\n  - `TG1` connects data input `A` to data output `X`. Its control inputs are `C = $\\overline{\\text{SWAP}}$` and `$\\bar{C}$ = SWAP`.\n  - `TG2` connects data input `B` to data output `X`. Its control inputs are `C = SWAP` and `$\\bar{C} = \\overline{\\text{SWAP}}$`.\n- **For Output Y:**\n  - `TG3` connects data input `B` to data output `Y`. Its control inputs are `C = $\\overline{\\text{SWAP}}$` and `$\\bar{C}$ = SWAP`.\n  - `TG4` connects data input `A` to data output `Y`. Its control inputs are `C = SWAP` and `$\\bar{C} = \\overline{\\text{SWAP}}$`.\n\nGiven the steady-state logic levels `A=1`, `B=0`, and `SWAP=1`, determine the resulting logic levels on the outputs `X` and `Y`.\n\nA. `X=1, Y=0`\n\nB. `X=0, Y=1`\n\nC. `X=1, Y=1`\n\nD. `X=0, Y=0`\n\nE. Both outputs are in a high-impedance state.", "solution": "A CMOS transmission gate conducts (closed switch) when its complementary control inputs satisfy $C=1$ and $\\bar{C}=0$, and is open (high impedance) when $C=0$ and $\\bar{C}=1$. Let $S$ denote the control input $\\text{SWAP}$ and $\\overline{S}$ its complement. The outputs implement multiplexing:\n$$\nX=\\overline{S}\\cdot A+S\\cdot B,\\qquad Y=\\overline{S}\\cdot B+S\\cdot A.\n$$\nGiven $A=1$, $B=0$, and $S=1$, we have $\\overline{S}=0$. Substituting into the expressions:\n$$\nX=0\\cdot 1+1\\cdot 0=0,\\qquad Y=0\\cdot 0+1\\cdot 1=1.\n$$\nEquivalently, evaluating each TG:\n- TG1 to $X$ has $C=\\overline{S}=0$, $\\bar{C}=S=1$; it is open, so $A$ does not drive $X$.\n- TG2 to $X$ has $C=S=1$, $\\bar{C}=\\overline{S}=0$; it is closed, so $X=B=0$.\n- TG3 to $Y$ has $C=\\overline{S}=0$, $\\bar{C}=S=1$; it is open, so $B$ does not drive $Y$.\n- TG4 to $Y$ has $C=S=1$, $\\bar{C}=\\overline{S}=0$; it is closed, so $Y=A=1$.\n\nTherefore, $X=0$ and $Y=1$, corresponding to option B.", "answer": "$$\\boxed{B}$$", "id": "1922235"}]}