{"hands_on_practices": [{"introduction": "This first exercise takes us back to the fundamentals of digital logic. Before we can appreciate complex memory maps, we must understand how a decoder is built from the ground up. This problem challenges you to implement the chip select logic for a specific memory range using only universal NOR gates, a common task that connects abstract Boolean algebra to a concrete circuit implementation. [@problem_id:1946694]", "problem": "A microprocessor system utilizes a 16-bit address bus, with address lines denoted from $A_{15}$ (most significant bit) to $A_0$ (least significant bit). A memory chip needs to be integrated into this system and must be enabled only when the address on the bus falls within the hexadecimal range of $0x9000$ to $0x9FFF$, inclusive.\n\nThe memory chip has an active-low chip select input, denoted as $\\overline{CS}$. This means the chip is selected when $\\overline{CS}=0$ and deselected when $\\overline{CS}=1$. You are tasked with designing the decoding logic for this chip select signal. Your design must be implemented using *only* 2-input NOR gates.\n\nWhat is the minimum number of 2-input NOR gates required to create this address decoding circuit?", "solution": "The address range from $0x9000$ to $0x9FFF$ corresponds to the upper four address bits $A_{15}A_{14}A_{13}A_{12}=1001$, with $A_{11}\\dots A_{0}$ as don’t-cares. Therefore, the active-high detect signal for this block is\n$$\nD = A_{15}\\,A_{12}\\,\\overline{A_{14}}\\,\\overline{A_{13}}.\n$$\nBecause the memory chip has an active-low chip select, the required chip-select input is\n$$\n\\overline{CS}=\\overline{D}=\\overline{A_{15}A_{12}\\,\\overline{A_{14}}\\,\\overline{A_{13}}}.\n$$\nBy DeMorgan’s law this can also be written as\n$$\n\\overline{CS}=\\overline{A_{15}}+\\overline{A_{12}}+A_{14}+A_{13}.\n$$\n\nWe must implement $\\overline{CS}$ using only 2-input NOR gates. The following NOR-only realization uses standard identities:\n- Inverter: $\\overline{x}=\\operatorname{NOR}(x,x)$.\n- AND using NOR: $x y=\\operatorname{NOR}\\big(\\operatorname{NOR}(x,x),\\operatorname{NOR}(y,y)\\big)$.\n- Also, $\\operatorname{NOR}(x,y)=\\overline{x+y}$, so $\\operatorname{NOR}(A_{14},A_{13})=\\overline{A_{14}+A_{13}}=\\overline{A_{14}}\\,\\overline{A_{13}}$.\n\nA minimal gate-count implementation proceeds as follows:\n\n1) Form $t_{1}=A_{15}A_{12}$ using NOR-only AND:\n$$\nn_{15}=\\operatorname{NOR}(A_{15},A_{15}),\\quad n_{12}=\\operatorname{NOR}(A_{12},A_{12}),\\quad t_{1}=\\operatorname{NOR}(n_{15},n_{12}).\n$$\nThis takes $3$ NOR gates.\n\n2) Form $t_{2}=\\overline{A_{14}}\\,\\overline{A_{13}}$ directly as a NOR:\n$$\nt_{2}=\\operatorname{NOR}(A_{14},A_{13}).\n$$\nThis takes $1$ NOR gate.\n\n3) Form $D=t_{1}t_{2}$ using NOR-only AND and then invert to get $\\overline{CS}=\\overline{D}$:\n$$\nu=\\operatorname{NOR}(t_{1},t_{1}),\\quad v=\\operatorname{NOR}(t_{2},t_{2}),\\quad D=\\operatorname{NOR}(u,v),\\quad \\overline{CS}=\\operatorname{NOR}(D,D).\n$$\nThis takes 4 gates for this stage.\n\nTotal NOR gates used: $3+1+4=8$.\n\nTo argue minimality, note that $\\overline{CS}$ depends on $A_{15}$ and $A_{12}$ in complemented form, so at least two inversions are necessary. Realizing the required four-variable combination with only 2-input NOR gates further requires at least six additional NOR operations to combine four inputs under correct polarity (equivalently, building two 2-input ORs and a final OR, with each OR realized by two NORs), giving a lower bound of $2+6=8$. The construction above meets this bound, so $8$ is minimal.", "answer": "$$\\boxed{8}$$", "id": "1946694"}, {"introduction": "With the basics of decoder implementation in hand, we now scale up to a system-level view. Real-world systems contain multiple memory devices, and the decoder's job is to ensure each one responds only to its designated address range. This practice asks you to reverse-engineer a memory map for a system containing both RAM and ROM, calculating the total utilized and vacant space, a core task in embedded system architecture. [@problem_id:1946665]", "problem": "An engineer is tasked with reverse-engineering the memory architecture of a legacy 8-bit embedded system. The system's microprocessor has a 16-bit address bus, allowing it to address a total space of 64 Kilobytes (KB), where 1 KB = $2^{10}$ bytes. The address lines are labeled $A_{15}$ (most significant) down to $A_0$ (least significant).\n\nThe system contains two memory chips:\n1.  A 16 KB Random Access Memory (RAM) chip.\n2.  An 8 KB Read-Only Memory (ROM) chip.\n\nThe lower address lines from the microprocessor ($A_0, A_1, ...$) are connected directly to the address inputs of the memory chips to select a byte within the chip. The higher address lines are used for chip selection via a decoder. Both Chip Select (CS) inputs are active-high, meaning a chip is enabled when its CS pin receives a logic '1'.\n\nThe decoding logic is determined to be:\n-   For the 16 KB RAM chip: $CS_{RAM} = \\overline{A_{15}} \\cdot \\overline{A_{14}}$\n-   For the 8 KB ROM chip: $CS_{ROM} = A_{15} \\cdot A_{14} \\cdot A_{13}$\n\nCalculate the total amount of unused (unaddressable) memory space within the system's 64 KB address range. Express your answer in Kilobytes (KB).", "solution": "The microprocessor has a 16-bit address bus, so the total addressable space is\n$$2^{16}\\ \\text{bytes} = 64\\ \\text{KB},$$\nusing $1\\ \\text{KB} = 2^{10}\\ \\text{bytes}$.\n\nThe RAM chip is enabled when $A_{15}=0$ and $A_{14}=0$, as given by\n$$CS_{RAM}=\\overline{A_{15}}\\cdot \\overline{A_{14}}.$$\nFixing these two high-order bits selects a contiguous block whose size equals the number of combinations of the remaining lower bits. The remaining $16-2=14$ address lines $A_{13}\\ldots A_{0}$ vary freely, yielding\n$$2^{14}\\ \\text{bytes} = 16\\ \\text{KB}.$$\n\nThe ROM chip is enabled when $A_{15}=1$, $A_{14}=1$, and $A_{13}=1$, as given by\n$$CS_{ROM}=A_{15}\\cdot A_{14}\\cdot A_{13}.$$\nFixing these three high-order bits leaves $16-3=13$ lower address lines $A_{12}\\ldots A_{0}$ varying, yielding\n$$2^{13}\\ \\text{bytes} = 8\\ \\text{KB}.$$\n\nThese two regions are disjoint because the RAM requires $A_{15}=0$ while the ROM requires $A_{15}=1$. Therefore, the total used space is\n$$16\\ \\text{KB} + 8\\ \\text{KB} = 24\\ \\text{KB}.$$\n\nThe unused (unaddressed) space is the remainder of the $64\\ \\text{KB}$ range:\n$$64\\ \\text{KB} - 24\\ \\text{KB} = 40\\ \\text{KB}.$$\nEquivalently, in bytes and then converted to KB:\n$$\\frac{2^{16} - \\left(2^{14} + 2^{13}\\right)}{2^{10}} = 2^{6} - 2^{4} - 2^{3} = 64 - 16 - 8 = 40\\ \\text{KB}.$$", "answer": "$$\\boxed{40}$$", "id": "1946665"}, {"introduction": "Our final practice plunges you into the practical world of debugging and fault analysis, where theoretical designs meet real-world imperfections. You are presented with a memory system where a critical wiring error has occurred, connecting a decoder enable pin to a control signal instead of an address line. Your challenge is to diagnose the consequences of this fault, a skill that separates a novice designer from an expert engineer. [@problem_id:1946715]", "problem": "A digital system designer is interfacing eight 1-kilobyte (KB) static RAM chips with a microprocessor that has a 16-bit address bus ($A_{15}$ down to $A_0$) and a Read/Write control line ($R/\\overline{W}$). The $R/\\overline{W}$ line is at logic HIGH for a read operation and logic LOW for a write operation.\n\nThe design goal is to map the eight RAM chips into a single contiguous 8 KB block of memory starting at address 0x8000. To achieve this, a single 74LS138 3-to-8 decoder is used for chip selection. The 74LS138 has one active-high enable input ($G_1$) and two active-low enable inputs ($G_{2A}$ and $G_{2B}$). For the decoder to be active, the enable inputs must be $G_1=1$, $G_{2A}=0$, and $G_{2B}=0$.\n\nThe intended connections for the decoder are:\n-   **Enable Inputs:** $G_1$ is connected to $A_{15}$, $G_{2A}$ is connected to $A_{14}$, and $G_{2B}$ is connected to $A_{13}$.\n-   **Select Inputs:** The select lines $C$, $B$, and $A$ are connected to $A_{12}$, $A_{11}$, and $A_{10}$ respectively.\n-   **Outputs:** The active-low outputs $\\overline{Y_0}$ through $\\overline{Y_7}$ are connected to the active-low Chip Select ($\\overline{CS}$) inputs of RAM chips 0 through 7, respectively.\n\nAfter manufacturing, a fault is discovered: the wire for the $G_1$ enable input was mistakenly connected to the CPU's $R/\\overline{W}$ line instead of the $A_{15}$ address line. The $A_{15}$ line is no longer connected to the decoder.\n\nWhich of the following statements most accurately describes the operational behavior of the RAM with this wiring fault?\n\nA. The RAM can be written to, but cannot be read from. The active address range remains 0x8000-0x9FFF.\n\nB. The RAM is fully functional (readable and writable), but it now appears at two address ranges: 0x0000-0x1FFF and 0x8000-0x9FFF.\n\nC. The RAM can be read from, but cannot be written to. The active address range for reads is now duplicated, appearing at both 0x0000-0x1FFF and 0x8000-0x9FFF.\n\nD. The system operates exactly as intended, because the $R/\\overline{W}$ line is HIGH (logic 1) during a read cycle, which satisfies the $G_1$ enable input just as $A_{15}=1$ would have.", "solution": "To determine the behavior of the system with the fault, we must analyze how the mis-wiring affects the decoder's enable logic, and consequently, the memory system's response to read/write operations and its address map.\n\n**Step 1: Analyze the Intended (Correct) Decoding Logic**\n\nIn the original design, the 74LS138 decoder is enabled when its enable inputs satisfy the condition $G_1=1$, $G_{2A}=0$, and $G_{2B}=0$. The connections are:\n-   $G_1 \\leftarrow A_{15}$\n-   $G_{2A} \\leftarrow A_{14}$\n-   $G_{2B} \\leftarrow A_{13}$\n\nSo, the decoder is enabled if and only if $A_{15}=1$, $A_{14}=0$, and $A_{13}=0$. In binary, this corresponds to an address prefix of `100...`.\nThe memory addresses with this prefix span from `1000 0000 0000 0000` (0x8000) to `1001 1111 1111 1111` (0x9FFF). This is an 8 KB address block. The select lines $A_{12}, A_{11}, A_{10}$ are used to select one of the eight 1 KB chips within this block. This configuration correctly maps the 8 KB of RAM to the intended address range.\n\n**Step 2: Analyze the Faulty Decoding Logic**\n\nIn the faulty configuration, the $G_1$ input is connected to the $R/\\overline{W}$ line instead of $A_{15}$. The enable logic for the decoder now becomes:\n-   $G_1 = (R/\\overline{W})$\n-   $G_{2A} = A_{14}$\n-   $G_{2B} = A_{13}$\n\nThe condition for the decoder to be enabled is now: $(R/\\overline{W})=1$ AND $A_{14}=0$ AND $A_{13}=0$.\n\n**Step 3: Analyze the Impact on Read and Write Operations**\n\nWe examine the new enable condition for CPU read and write cycles.\n\n-   **Write Cycle:** During a write operation, the CPU sets the $R/\\overline{W}$ line to LOW (logic 0). The enable condition for the decoder is $(0)=1$ AND $A_{14}=0$ AND $A_{13}=0$. The first part of this logical AND, `(0)=1`, is always false. Therefore, the decoder cannot be enabled during any write cycle, regardless of the address on the bus. Since the decoder is never enabled, its outputs $\\overline{Y_0}-\\overline{Y_7}$ will never be asserted (go low). This means no RAM chip will ever be selected (since their $\\overline{CS}$ inputs remain high). Consequently, **it is impossible to write data to any of the RAM chips.**\n\n-   **Read Cycle:** During a read operation, the CPU sets the $R/\\overline{W}$ line to HIGH (logic 1). The enable condition for the decoder becomes $(1)=1$ AND $A_{14}=0$ AND $A_{13}=0$. This simplifies to the condition: $A_{14}=0$ AND $A_{13}=0$. If this address condition is met, the decoder will be enabled, and one of its outputs will select a RAM chip. Therefore, **it is possible to read data from the RAM chips.**\n\nCombining these findings, we conclude that the RAM can be read from, but not written to.\n\n**Step 4: Analyze the Impact on the Address Map (Address Aliasing)**\n\nThe faulty enable logic, active only during reads, depends on $A_{14}=0$ and $A_{13}=0$. Crucially, it is now independent of the $A_{15}$ address line. This means the decoder will respond during a read operation whenever the address prefix is `X00...` (where X represents the \"don't care\" state of $A_{15}$).\n\nLet's find the address ranges that satisfy this condition:\n-   **Case 1: $A_{15}=0$.** The address prefix is `000...`. This corresponds to addresses where $A_{15}=0, A_{14}=0, A_{13}=0$. The 8 KB block of RAM (selected by $A_{12}, A_{11}, A_{10}$) will appear in the address range from `0000 0000 0000 0000` to `0001 1111 1111 1111`, which is **0x0000 to 0x1FFF**.\n-   **Case 2: $A_{15}=1$.** The address prefix is `100...`. This corresponds to addresses where $A_{15}=1, A_{14}=0, A_{13}=0$. The 8 KB block of RAM will also appear in the address range from `1000 0000 0000 0000` to `1001 1111 1111 1111`, which is **0x8000 to 0x9FFF**. This is the originally intended range.\n\nBecause the RAM responds to read requests in both of these ranges, the memory is said to be \"aliased\" or \"mirrored\". A read from address 0x0100 will access the exact same memory cell as a read from address 0x8100.\n\n**Step 5: Evaluate the Options**\n\n-   A. \"The RAM can be written to, but cannot be read from...\" - Incorrect. Our analysis shows the opposite is true.\n-   B. \"The RAM is fully functional (readable and writable)...\" - Incorrect. Write operations fail.\n-   C. \"The RAM can be read from, but cannot be written to. The active address range for reads is now duplicated, appearing at both 0x0000-0x1FFF and 0x8000-0x9FFF.\" - **Correct.** This statement accurately summarizes our findings: writes fail, reads work, and the active address range is aliased to appear at both 0x0000-0x1FFF and 0x8000-0x9FFF.\n-   D. \"The system operates exactly as intended...\" - Incorrect. This ignores two major problems: the failure of all write operations and the creation of an address alias, which can cause significant system instability.", "answer": "$$\\boxed{C}$$", "id": "1946715"}]}