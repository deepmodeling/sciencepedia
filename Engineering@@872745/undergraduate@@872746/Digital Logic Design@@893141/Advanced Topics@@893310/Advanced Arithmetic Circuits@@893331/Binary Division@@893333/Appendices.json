{"hands_on_practices": [{"introduction": "The restoring division algorithm is a fundamental method for implementing division in hardware, closely mimicking the pen-and-paper long division process. Its name comes from the characteristic 'restore' step: after a trial subtraction, if the result is negative, the original value is restored. This practice guides you through a complete, cycle-by-cycle trace of the algorithm, building a solid foundation for understanding how digital circuits perform this essential arithmetic operation. [@problem_id:1913872]", "problem": "A digital circuit is designed to perform unsigned binary division using the restoring division algorithm. The circuit uses an Accumulator register (A), a Quotient register (Q), and a Divisor register (M). The number of bits in the dividend (and thus the Q register) is $n=4$. The A and M registers are sized to be $n+1=5$ bits to accommodate the sign bit and prevent overflow during intermediate calculations.\n\nThe circuit is tasked with dividing the dividend $1001_2$ by the divisor $11_2$. Initially, the A register is cleared to $00000_2$, the Q register holds the dividend $1001_2$, and the M register holds the divisor, padded to 5 bits as $00011_2$.\n\nThe division process proceeds for $n=4$ cycles. Each cycle consists of the following steps:\n1. The concatenated register pair `$AQ$` is shifted one bit to the left. The bit shifted out of Q's most significant bit (MSB) position moves into A's least significant bit (LSB) position.\n2. The value in M is subtracted from A ($A \\leftarrow A - M$). All arithmetic is performed using two's complement representation.\n3. The MSB of A is checked.\n    - If the MSB of A is 1 (indicating a negative result), the LSB of Q is set to 0, and the value of A is restored by adding M back to it ($A \\leftarrow A + M$).\n    - If the MSB of A is 0 (indicating a positive or zero result), the LSB of Q is set to 1, and the value of A is not changed.\n\nWhich of the following options correctly lists the sequence of 5-bit binary values held in the accumulator (A) register at the conclusion of each of the four cycles, from cycle 1 to cycle 4?\n\nA. $00001_2, 00010_2, 00001_2, 00000_2$\n\nB. $11110_2, 11111_2, 00001_2, 00000_2$\n\nC. $00001_2, 00010_2, 00010_2, 00001_2$\n\nD. $00001_2, 00001_2, 00010_2, 00000_2$", "solution": "We use the restoring division algorithm with registers: $A$ (5 bits), $Q$ (4 bits), and $M$ (5 bits). Initialize $A=00000_{2}$, $Q=1001_{2}$, $M=00011_{2}$. Each cycle performs: left shift of the concatenated $AQ$, then $A \\leftarrow A - M$ using two’s complement arithmetic in 5 bits, then if $A$ is negative (MSB $=1$) set $Q$ LSB to $0$ and restore $A \\leftarrow A+M$; otherwise set $Q$ LSB to $1$ and keep $A$.\n\nCycle 1: Shift left $AQ$. The MSB of $Q$ is $1$, so after the shift $A=00001_{2}$ and $Q=0010_{2}$. Subtract $M$: compute two’s complement of $M=00011_{2}$ in 5 bits as $11101_{2}$, hence\n$$\nA \\leftarrow 00001_{2} + 11101_{2} = 11110_{2}.\n$$\nMSB is $1$ (negative), so set LSB of $Q$ to $0$ and restore\n$$\nA \\leftarrow 11110_{2} + 00011_{2} = 00001_{2}.\n$$\nEnd of cycle 1: $A=00001_{2}$.\n\nCycle 2: Shift left $AQ$. The MSB of $Q$ is $0$, so $A=00010_{2}$ and $Q=0100_{2}$. Subtract $M$:\n$$\nA \\leftarrow 00010_{2} + 11101_{2} = 11111_{2}.\n$$\nNegative, so set LSB of $Q$ to $0$ and restore\n$$\nA \\leftarrow 11111_{2} + 00011_{2} = 00010_{2}.\n$$\nEnd of cycle 2: $A=00010_{2}$.\n\nCycle 3: Shift left $AQ$. The MSB of $Q$ is $0$, so $A=00100_{2}$ and $Q=1000_{2}$. Subtract $M$:\n$$\nA \\leftarrow 00100_{2} + 11101_{2} = 00001_{2}.\n$$\nNonnegative, so set LSB of $Q$ to $1$ and keep $A$. End of cycle 3: $A=00001_{2}$.\n\nCycle 4: Shift left $AQ$. The MSB of $Q$ is $1$, so $A=00011_{2}$ and $Q=0010_{2}$. Subtract $M$:\n$$\nA \\leftarrow 00011_{2} - 00011_{2} = 00000_{2}.\n$$\nNonnegative, so set LSB of $Q$ to $1$ and keep $A$. End of cycle 4: $A=00000_{2}$.\n\nTherefore, the accumulator $A$ at the conclusion of cycles 1 through 4 is $00001_{2}, 00010_{2}, 00001_{2}, 00000_{2}$, which corresponds to option A.", "answer": "$$\\boxed{A}$$", "id": "1913872"}, {"introduction": "To improve performance, the non-restoring division algorithm eliminates the time-consuming restore step. Instead of correcting a negative result immediately, it carries the negative balance forward and compensates in the following cycle with an addition instead of a subtraction. This exercise focuses on the critical first cycle of the algorithm, allowing you to master the core decision-making logic that makes this method more efficient. [@problem_id:1913879]", "problem": "A processor is designed to perform division using the non-restoring algorithm. The registers involved are a 5-bit accumulator (A), a 5-bit divisor register (M), and a 4-bit quotient register (Q). For a particular division, the dividend is $1101_2$ and the divisor is $0101_2$.\n\nInitially, the accumulator A is set to $00000_2$, the divisor M holds $00101_2$, and the quotient register Q holds the dividend $1101_2$.\n\nThe algorithm proceeds in cycles. The first cycle consists of two main actions:\n1. A single-bit left shift is performed on the conceptually concatenated registers A and Q. The bit shifted out from the Most Significant Bit (MSB) of Q moves into the Least Significant Bit (LSB) of A.\n2. The accumulator A is then updated by either adding or subtracting the contents of M, based on the new sign bit (MSB) of A. If the MSB of A is 0, a subtraction ($A \\leftarrow A - M$) is performed. If the MSB of A is 1, an addition ($A \\leftarrow A + M$) is performed. Subtraction is implemented using two's complement addition.\n\nWhat is the 5-bit binary value in the accumulator register A immediately after these first two actions (the left shift and the subsequent arithmetic update) are completed?\n\nChoose the correct option from the following:\nA. $00010_2$\n\nB. $11100_2$\n\nC. $00110_2$\n\nD. $11011_2$\n\nE. $00001_2$", "solution": "The initial register contents are $A=00000_{2}$, $M=00101_{2}$, and $Q=1101_{2}$. The first action is a single-bit left shift of the concatenated $A:Q$. In a left shift of $A:Q$, the mapping is such that the former $\\text{MSB}$ of $Q$ becomes the new $\\text{LSB}$ of $A$, and $Q$ shifts left with $Q_{0}$ filled with $0$.\n\nApplying this to $A=00000_{2}$ and $Q=1101_{2}$ gives\n$$\nA \\leftarrow 00001_{2}, \\quad Q \\leftarrow 1010_{2}.\n$$\n\nNext, we update $A$ based on its new $\\text{MSB}$. Since the new $\\text{MSB}$ of $A$ is $0$, we perform subtraction:\n$$\nA \\leftarrow A - M = 00001_{2} - 00101_{2}.\n$$\nUsing two's complement subtraction, compute the two's complement of $M$:\n$$\n\\text{two's complement}(00101_{2}) = 11011_{2},\n$$\nso\n$$\nA = 00001_{2} + 11011_{2} = 11100_{2}.\n$$\n\nTherefore, immediately after the shift and the arithmetic update, the 5-bit accumulator $A$ is $11100_{2}$, which corresponds to option B.", "answer": "$$\\boxed{B}$$", "id": "1913879"}, {"introduction": "Building upon the logic from the previous exercise, this problem challenges you to perform a full trace of the non-restoring division algorithm. By working through all the cycles, you will see how the alternating sequence of subtractions and additions correctly computes the quotient. This exercise also reveals an important nuance of the algorithm: the final value in the accumulator may not be the true remainder and sometimes requires a final correction step. [@problem_id:1913819]", "problem": "Consider the division of the 4-bit unsigned binary number $D = 1011_2$ (the dividend) by the unsigned binary number $V = 11_2$ (the divisor). This division is to be performed using the non-restoring division algorithm.\n\nThe hardware setup consists of an accumulator register 'A', a quotient register 'Q', and a divisor register 'M'. For this operation, the accumulator A and the divisor M are represented using 5 bits. The dividend D is initially loaded into the 4-bit register Q. The accumulator A is initialized to all zeros.\n\nThe algorithm proceeds for a number of cycles equal to the number of bits in the dividend. The standard non-restoring algorithm for unsigned integers is used, which involves a conditional addition or subtraction based on the sign of the accumulator, followed by setting the new quotient bit.\n\nDetermine the final binary value contained in the 5-bit accumulator register A immediately after the last of the four cycles is completed. Note that this is the value *before* any potential final correction step is performed on the remainder. Provide your answer as a 5-bit binary string.", "solution": "We use the standard non-restoring division algorithm with two's-complement arithmetic in the 5-bit accumulator $A$ and 5-bit divisor $M$. Initialize $A=00000$, $Q=1011$, and $M=00011$. For each of the $4$ cycles, perform:\n1) Left shift the concatenated $(A,Q)$ by one bit.\n2) If $A \\ge 0$, do $A \\leftarrow A - M$; if $A < 0$, do $A \\leftarrow A + M$ (all in 5-bit two's-complement).\n3) Set the new quotient bit $Q_{0}$ to $1$ if $A \\ge 0$, else $0$.\n\nCycle 1:\n- Shift: The concatenated register $(A,Q)$ is shifted left from $00000\\,1011$ to $00001\\,011\\_$, so $A=00001$.\n- Since $A \\ge 0$, compute $A \\leftarrow A - M = 00001 - 00011 = 00001 + 11101 = 11110$.\n- Since $A<0$, set $Q_{0}=0$, so $Q=0110$.\n\nCycle 2:\n- Shift: $(A,Q)$ is shifted left from $11110\\,0110$ to $11100\\,110\\_$, so $A=11100$.\n- Since $A < 0$, compute $A \\leftarrow A + M = 11100 + 00011 = 11111$.\n- Since $A<0$, set $Q_{0}=0$, so $Q=1100$.\n\nCycle 3:\n- Shift: $(A,Q)$ is shifted left from $11111\\,1100$ to $11111\\,100\\_$, so $A=11111$.\n- Since $A < 0$, compute $A \\leftarrow A + M = 11111 + 00011 = 00010$ (discarding the carry).\n- Since $A \\ge 0$, set $Q_{0}=1$, so $Q=1001$.\n\nCycle 4:\n- Shift: $(A,Q)$ is shifted left from $00010\\,1001$ to $00101\\,001\\_$, so $A=00101$.\n- Since $A \\ge 0$, compute $A \\leftarrow A - M = 00101 - 00011 = 00010$.\n- Since $A \\ge 0$, set $Q_{0}=1$, so $Q=0011$.\n\nImmediately after the fourth cycle (and before any final correction), the accumulator is $A=00010$.", "answer": "$$\\boxed{00010}$$", "id": "1913819"}]}