{"hands_on_practices": [{"introduction": "Understanding a circuit's behavior often begins with visualizing its state transitions, which are concisely summarized in a flow table. This first practice focuses on using a flow table to spot a critical race, a hazardous condition where unpredictable internal delays can lead the circuit to different final states [@problem_id:1956353]. Mastering this visual analysis is the first step toward designing reliable asynchronous systems.", "problem": "An asynchronous sequential circuit is described by the flow table below. The circuit has two state variables, $y_1$ and $y_2$, and a single input variable, $x$. The entries in the table represent the next state ($Y_1 Y_2$) for a given present state ($y_1 y_2$) and input $x$. A stable state occurs when the next state is the same as the present state ($Y_1 Y_2 = y_1 y_2$).\n\nConsider the case where the circuit can settle into one of two different stable states, $S_A$ (represented by $y_1 y_2 = 10$) or $S_B$ (represented by $y_1 y_2 = 11$), due to a critical race condition. A critical race occurs when a single input change causes two or more state variables to change, and the final stable state reached depends on the relative propagation delays of the internal signals.\n\n**Flow Table:**\n\n| Present State ($y_1 y_2$) | Next State ($Y_1 Y_2$) for $x=0$ | Next State ($Y_1 Y_2$) for $x=1$ |\n|:-------------------------:|:--------------------------------:|:--------------------------------:|\n| 00                        | 00                               | 11                               |\n| 01                        | 01                               | 11                               |\n| 11                        | 10                               | 11                               |\n| 10                        | 00                               | 10                               |\n\nWhich of the following transitions describes the specific scenario that can lead to this critical race, resulting in a final stable state of either $S_A$ or $S_B$?\n\nA. The circuit is in the stable state corresponding to $y_1 y_2 = 00$ and the input $x$ changes from 0 to 1.\n\nB. The circuit is in the stable state corresponding to $y_1 y_2 = 11$ and the input $x$ changes from 1 to 0.\n\nC. The circuit is in the stable state corresponding to $y_1 y_2 = 01$ and the input $x$ changes from 0 to 1.\n\nD. The circuit is in the stable state corresponding to $y_1 y_2 = 10$ and the input $x$ changes from 1 to 0.", "solution": "A critical race in an asynchronous sequential circuit occurs when a single input change causes two or more state variables to change simultaneously, so that unequal internal delays can lead to different sequences of intermediate states and possibly different final stable states.\n\nFrom the flow table, determine stability and the number of bits changing for each present state and input:\n- For $y_1 y_2 = 00$: if $x=0$, $Y_1 Y_2 = 00$ (stable); if $x=1$, $Y_1 Y_2 = 11$ (both bits change).\n- For $y_1 y_2 = 01$: if $x=0$, $Y_1 Y_2 = 01$ (stable); if $x=1$, $Y_1 Y_2 = 11$ (one bit changes).\n- For $y_1 y_2 = 11$: if $x=1$, $Y_1 Y_2 = 11$ (stable); if $x=0$, $Y_1 Y_2 = 10$ (one bit changes).\n- For $y_1 y_2 = 10$: if $x=1$, $Y_1 Y_2 = 10$ (stable); if $x=0$, $Y_1 Y_2 = 00$ (one bit changes).\n\nA critical race can only occur where a single input change demands a two-bit state change. The only such case is when the circuit is in $y_1 y_2 = 00$ and $x$ changes from $0$ to $1$, since $Y_1 Y_2$ becomes $11$. Due to unequal delays, the circuit may pass through different intermediate states:\n- If $y_2$ changes first, the sequence is $00 \\to 01$. With $x=1$ at $01$, the next state is $11$, and then $11$ is stable for $x=1$, yielding $S_B$.\n- If $y_1$ changes first, the sequence is $00 \\to 10$. With $x=1$ at $10$, the next state is $10$, which is already stable for $x=1$, yielding $S_A$.\n\nThus, starting in $y_1 y_2 = 00$ with an input change $x: 0 \\to 1$ can lead to either $S_A$ or $S_B$ depending on relative delays, which is exactly the described critical race. The other options involve only one-bit changes and therefore do not produce this ambiguity.", "answer": "$$\\boxed{A}$$", "id": "1956353"}, {"introduction": "Identifying a hazard is only half the battle; a robust design requires eliminating it. This exercise demonstrates a classic technique for resolving a critical race by modifying the circuit's flow table [@problem_id:1956335]. By strategically inserting an intermediate state, you will learn how to guide the circuit through a race-free path, ensuring its behavior is predictable and correct.", "problem": "Consider an asynchronous sequential circuit operating in fundamental mode, where state transitions are triggered by changes in input levels. The circuit has two state variables, $y_1$ and $y_2$, and a single input, $x$. Its behavior is defined by the following flow table, which shows the next state $(Y_1 Y_2)$ for each combination of present state $(y_1 y_2)$ and input $x$.\n\n| Present State ($y_1 y_2$) | Next State ($Y_1 Y_2$) |\n|---|---|\n| | **x=0** | **x=1** |\n| 00 | 00 | 00 |\n| 01 | 01 | 10 |\n| 11 | 01 | 11 |\n| 10 | 00 | 10 |\n\nIn this flow table, an entry where the next state $(Y_1 Y_2)$ is the same as the present state $(y_1 y_2)$ represents a stable state. For instance, for present state `00` and input `x=0`, the next state is `00`, so the circuit is stable. All other entries represent unstable states, leading to further transitions.\n\nA critical race condition exists in this design. Specifically, when the circuit is in the stable state for $(y_1, y_2) = (0, 1)$ with input $x=0$, a change in the input to $x=1$ initiates a transition that requires both state variables to change simultaneously. Due to unpredictable gate and wire delays, the circuit may end up in an incorrect final stable state.\n\nYour task is to eliminate this critical race. To do so, you must modify the flow table to create a deterministic, race-free transition path that utilizes the state encoded as $(y_1, y_2) = (1, 1)$ as a temporary, unstable intermediate state.\n\nProvide the two modified next-state entries in the flow table that accomplish this. Present your answer as a row matrix `[entry_A, entry_B]`, where `entry_A` is the new next-state $(Y_1 Y_2)$ for (Present State=`01`, Input=`1`) and `entry_B` is the new next-state $(Y_1 Y_2)$ for (Present State=`11`, Input=`1`). Both entries must be represented as two-digit binary numbers.", "solution": "We analyze the given asynchronous sequential circuit in fundamental mode. The flow table specifies next-state behavior for the two state variables $y_{1}$ and $y_{2}$ under the single input $x$. A stable state occurs when the next state $(Y_{1}Y_{2})$ equals the present state $(y_{1}y_{2})$.\n\nFrom the table, for the present state $(y_1, y_2) = (0,1)$ and input $x=1$, the next state is $(Y_1, Y_2) = (1,0)$. The Hamming distance between $01$ and $10$ is\n$$\nd_{H}(01,10)=2,\n$$\nwhich implies that both state variables must change, creating a critical race in an asynchronous implementation due to arbitrary relative delays.\n\nTo eliminate the critical race while preserving the intended external mapping (that a change from $x=0$ to $x=1$ at present state $01$ should ultimately lead to the stable state $10$), we enforce a single-bit step sequence that uses $(11)$ as a temporary, unstable intermediate state as required. We therefore modify:\n- the next state for $(y_1, y_2) = (0,1)$ and $x=1$ to be $11$, so that\n$$\nd_{H}(01,11)=1,\n$$\n- and the next state for $(y_1, y_2) = (1,1)$ and $x=1$ to be $10$, so that\n$$\nd_{H}(11,10)=1.\n$$\n\nWith these two modifications, the transition under $x=1$ becomes $01 \\to 11 \\to 10$, which is race-free because each step changes only one state variable. The final stable state at $((1,0), x=1)$ remains unchanged from the original specification, and $((1,1), x=1)$ becomes an unstable intermediate state as intended.\n\nThus, the required modified entries are:\n- entry for (Present State $=01$, Input $=1$): $11$,\n- entry for (Present State $=11$, Input $=1$): $10$.", "answer": "$$\\boxed{\\begin{pmatrix} 11 & 10 \\end{pmatrix}}$$", "id": "1956335"}, {"introduction": "While flow tables provide a high-level map, a circuit's true behavior is dictated by its fundamental excitation equations. This final practice challenges you to detect a critical race by working directly from these Boolean expressions [@problem_id:1956305]. This skill is crucial for analyzing circuits where a flow table isn't readily available and for understanding the deep connection between logic gates and state machine dynamics.", "problem": "An asynchronous sequential circuit is defined by two state variables, $y_1$ and $y_2$, and a single input $x$. The circuit's behavior is governed by the next-state excitation equations:\n$Y_1 = x y_1 + x' y_2$\n$Y_2 = x y_2 + x' y_1' y_2'$\nIn these boolean expressions, juxtaposition represents the logical AND operation, the `+` symbol represents the logical OR operation, and the prime symbol (') represents the logical NOT operation.\n\nA transition is initiated when the input $x$ changes, while the circuit is resting in a stable state (a state where $(Y_1, Y_2) = (y_1, y_2)$). A critical race condition occurs during a transition if two conditions are met:\n1. The transition requires two or more state variables ($y_1, y_2$) to change their values simultaneously.\n2. The subsequent behavior of the circuit, such as the final stable state or stable cycle it settles into, depends on the unpredictable order in which these state variables actually change.\n\nAnalyze the circuit's behavior for all possible transitions originating from a stable state. Which of the following statements correctly describes the presence of critical races in this circuit?\n\nA) No critical races exist.\n\nB) A critical race occurs for the transition initiated from the stable state $(y_1, y_2)=(0, 1)$ when the input $x$ changes from $1$ to $0$.\n\nC) A critical race occurs for the transition initiated from the stable state $(y_1, y_2)=(1, 0)$ when the input $x$ changes from $1$ to $0$.\n\nD) A critical race occurs for the transition initiated from the stable state $(y_1, y_2)=(1, 1)$ when the input $x$ changes from $1$ to $0$.\n\nE) A critical race occurs for a transition initiated from a stable state when the input $x$ changes from $0$ to $1$.", "solution": "We are given the excitation equations\n$$Y_{1}=x y_{1}+x' y_{2},\\qquad Y_{2}=x y_{2}+x' y_{1}' y_{2}',$$\nwith juxtaposition denoting logical AND, the plus sign denoting logical OR, and the prime denoting logical NOT. A stable state for a fixed input $x$ satisfies\n$$Y_{1}=y_{1},\\qquad Y_{2}=y_{2}.$$\n\nFirst, determine all stable states for each constant input value.\n\n- For $x=1$ we have $x'=0$, so\n$$Y_{1}=y_{1},\\qquad Y_{2}=y_{2}.$$\nThus, for $x=1$, every state $(y_1, y_2) \\in \\{(0,0), (0,1), (1,0), (1,1)\\}$ is stable.\n\n- For $x=0$ we have $x'=1$, so\n$$Y_{1}=y_{2},\\qquad Y_{2}=y_{1}' y_{2}'.$$\nEvaluate at each state:\n1) If $(y_{1},y_{2})=(0,0)$, then $(Y_{1},Y_{2})=(0,1)\\neq(0,0)$.\n2) If $(y_{1},y_{2})=(0,1)$, then $(Y_{1},Y_{2})=(1,0)\\neq(0,1)$.\n3) If $(y_{1},y_{2})=(1,0)$, then $(Y_{1},Y_{2})=(0,0)\\neq(1,0)$.\n4) If $(y_{1},y_{2})=(1,1)$, then $(Y_{1},Y_{2})=(1,0)\\neq(1,1)$.\nHence there are no stable states for $x=0$.\n\nBy the problemâ€™s definition, transitions are initiated when $x$ changes while the circuit is resting in a stable state. Since only $x=1$ has stable states, the only transitions to analyze are those with $x$ changing from $1$ to $0$, starting from each stable state $(y_{1},y_{2})\\in\\{(0,0),(0,1),(1,0),(1,1)\\}$.\n\nFor each such starting state at the instant $x$ switches to $0$, compute the demanded next $(Y_{1},Y_{2})$ under $x=0$ and count how many state variables must change:\n- From $(y_{1},y_{2})=(0,0)$: under $x=0$, $(Y_{1},Y_{2})=(0,1)$. Only $y_{2}$ must change $0 \\to 1$. Exactly one variable changes; no race.\n- From $(y_{1},y_{2})=(0,1)$: under $x=0$, $(Y_{1},Y_{2})=(1,0)$. Both $y_{1}$ and $y_{2}$ must change ($0 \\to 1$ and $1 \\to 0$). Two variables must change; potential race.\n- From $(y_{1},y_{2})=(1,0)$: under $x=0$, $(Y_{1},Y_{2})=(0,0)$. Only $y_{1}$ must change $1 \\to 0$. Exactly one variable changes; no race.\n- From $(y_{1},y_{2})=(1,1)$: under $x=0$, $(Y_{1},Y_{2})=(1,0)$. Only $y_{2}$ must change $1 \\to 0$. Exactly one variable changes; no race.\n\nThus, the only candidate for a critical race is the transition initiated from $(y_{1},y_{2})=(0,1)$ when $x$ changes $1 \\to 0$. We must now verify condition 2: that the subsequent behavior depends on the unpredictable order in which $y_{1}$ and $y_{2}$ actually change.\n\nAnalyze the two possible orders from $(0,1)$ with $x=0$ and $(Y_{1},Y_{2})=(1,0)$:\n- If $y_{1}$ changes first: $(0,1) \\to (1,1)$. Recompute under $x=0$: from $(1,1)$, $(Y_{1},Y_{2})=(1,0)$, so $y_{2}$ changes next: $(1,1) \\to (1,0)$. Next, from $(1,0)$, $(Y_{1},Y_{2})=(0,0)$, so $y_{1}$ changes: $(1,0) \\to (0,0)$. Next, from $(0,0)$, $(Y_{1},Y_{2})=(0,1)$, so $y_{2}$ changes: $(0,0) \\to (0,1)$. This produces a 4-state cycle\n$$(0,1) \\to (1,1) \\to (1,0) \\to (0,0) \\to (0,1) \\to \\cdots.$$\n- If $y_{2}$ changes first: $(0,1) \\to (0,0)$. From $(0,0)$, $(Y_{1},Y_{2})=(0,1)$, so $y_{2}$ changes back: $(0,0) \\to (0,1)$. This yields a 2-state oscillation\n$$(0,1) \\leftrightarrow (0,0) \\leftrightarrow (0,1) \\leftrightarrow \\cdots,$$\nprovided that $y_{2}$ continues to be the variable that changes when both are enabled upon returning to $(0,1)$. The presence of multiple possible evolutions (a 4-state cycle if $y_{1}$ changes first versus immediate return to $(0,1)$ and a 2-state oscillation if $y_{2}$ changes first, with the ongoing behavior depending on the relative change ordering) shows that the subsequent behavior depends on the unpredictable order in which $y_{1}$ and $y_{2}$ change.\n\nTherefore, the transition from $(y_{1},y_{2})=(0,1)$ when $x$ changes from $1$ to $0$ satisfies both conditions for a critical race. No other transition initiated from a stable state requires two state variables to change. Since there are no stable states for $x=0$, no transition is initiated when $x$ changes from $0$ to $1$ under the given definition.\n\nHence, the correct choice is B only.", "answer": "$$\\boxed{B}$$", "id": "1956305"}]}