{"hands_on_practices": [{"introduction": "Our first exercise grounds our understanding in the most fundamental step of ASM realization: translating state transitions into the specific logic required by a flip-flop. By working with a simple two-state machine and a T-type flip-flop, this practice illustrates how a flip-flop's characteristic equation dictates the necessary input logic, forming the bridge between the abstract state diagram and concrete hardware. This is a core skill for implementing any sequential circuit [@problem_id:1957163].", "problem": "A simple sequential circuit is designed to control an automated valve. The behavior of the controller is described by a two-state Algorithmic State Machine (ASM) chart. The two states are `CLOSED` and `OPEN`. The state of the machine is stored in a single T-flip-flop, where the flip-flop's output, denoted by `Q`, represents the state. The state assignment is as follows: `CLOSED` corresponds to `Q=0`, and `OPEN` corresponds to `Q=1`.\n\nThe controller has a single binary input, `S` (for 'Start'), and a single binary output, `V` (for 'Valve'). The sequential behavior is defined as:\n\n1.  When in the `CLOSED` state (`Q=0`), the controller monitors the input `S`. If `S=0`, it remains in the `CLOSED` state. If `S=1`, it transitions to the `OPEN` state on the next clock edge.\n2.  When in the `OPEN` state (`Q=1`), the controller again monitors the input `S`. If `S=1`, it remains in the `OPEN` state. If `S=0`, it transitions back to the `CLOSED` state on the next clock edge.\n\nThe output `V` is a Moore-type output which is asserted high (`V=1`) if and only if the controller is in the `OPEN` state. Otherwise, `V=0`.\n\nYour task is to determine the correct logical expressions for the T-flip-flop's input (`T`) and the system's output (`V`). The expressions should be in terms of the state variable `Q` and the input `S`.\n\nSelect the option that correctly provides the excitation equation for `T` and the output equation for `V`. In the options below, the notation $\\overline{A}$ represents NOT A, $A+B$ represents A OR B, juxtaposition $AB$ represents A AND B, and $A \\oplus B$ represents A XOR B.\n\nA. $T = S$, $V = Q$\n\nB. $T = \\overline{Q}S$, $V = Q$\n\nC. $T = Q + S$, $V = S$\n\nD. $T = Q \\oplus S$, $V = Q$\n\nE. $T = QS$, $V = Q \\oplus S$", "solution": "From the ASM description, the next state depends only on the input $S$:\n- If $S=0$, the next state is $\\text{CLOSED}$, i.e., $Q^{+}=0$.\n- If $S=1$, the next state is $\\text{OPEN}$, i.e., $Q^{+}=1$.\nThese conditions hold regardless of the present state $Q$, so the next-state function is\n$$Q^{+}=S.$$\n\nFor a T-flip-flop, the characteristic equation is\n$$Q^{+}=T \\oplus Q.$$\nSolving for $T$ gives the excitation equation:\n$$T=Q \\oplus Q^{+}.$$\nSubstituting $Q^{+}=S$ yields\n$$T=Q \\oplus S.$$\n\nThe output $V$ is a Moore output asserted only in the $\\text{OPEN}$ state, which corresponds to $Q=1$, hence\n$$V=Q.$$\n\nComparing with the given options, this corresponds to option D: $T=Q \\oplus S$, $V=Q$.", "answer": "$$\\boxed{D}$$", "id": "1957163"}, {"introduction": "Building correct hardware is only half the battle; analyzing and debugging it is often the greater challenge. This next practice shifts our perspective from pure design to analysis, a crucial skill for any digital logic engineer. By examining a faulty Mealy machine implementation of a sequence detector, you will learn to use the ASM chart as the source of truth to diagnose and pinpoint errors in combinational logic, reinforcing the importance of rigorous verification [@problem_id:1957138].", "problem": "An engineer is designing a sequential circuit to detect the specific overlapping input sequence `101` using an Algorithmic State Machine (ASM) chart. The circuit is a Mealy machine with a single binary input `X` and a single binary output `Z`. The output `Z` should be `1` only during the clock cycle when the final `1` of the `101` sequence is detected. The state of the machine is stored in two D-type flip-flops, `Q1` and `Q0`.\n\nThe ASM chart is defined as follows:\n-   **State S0 (binary `Q1Q0=00`):** The initial or reset state. If input `X=0`, the machine remains in state `S0`. If `X=1`, it transitions to state `S1`. The output `Z` is always `0` in this state.\n-   **State S1 (binary `Q1Q0=01`):** This state indicates that the last input was `1`. If input `X=0`, the machine transitions to state `S2`. If `X=1`, it remains in `S1` (as the sequence becomes `...11`). The output `Z` is always `0` in this state.\n-   **State S2 (binary `Q1Q0=10`):** This state indicates that the sequence `10` has been received. If input `X=0`, the sequence is broken, and the machine resets to `S0`. If `X=1`, the target sequence `101` is complete; the machine transitions to state `S1` (as this final `1` can be the start of a new sequence) and the output `Z` is asserted to `1` for this transition.\n-   The state `Q1Q0=11` is unused and can be treated as a don't-care condition.\n\nA junior engineer has proposed an implementation using the flip-flops and standard logic gates. The proposed logic equations for the flip-flop inputs (`D1`, `D0`) and the output (`Z`) are given below. However, there is a single error in the implementation, corresponding to one incorrect logic gate.\n\nProposed Equations:\n1.  $D_1 = \\overline{Q_1} Q_0 X$\n2.  $D_0 = X$\n3.  $Z = Q_1 \\overline{Q_0} X$\n\nBy deriving the correct logic equations from the ASM chart specification, identify the single incorrect component in the proposed implementation from the options below.\n\nA. The 3-input AND gate used to generate the output `Z`.\nB. The inverter that generates `Q1'` for the `D1` gate.\nC. The 3-input AND gate used to generate the next-state input `D1`.\nD. The inverter that generates `Q0'` for the `Z` gate.\nE. The direct wire connection from the input `X` to the next-state input `D0`.", "solution": "We translate the ASM specification into next-state and output equations using the assigned encoding $S0 \\equiv Q_{1}Q_{0}=00$, $S1 \\equiv 01$, $S2 \\equiv 10$, with $11$ unused.\n\nFrom the ASM chart:\n- From $S0$ ($Q_{1}Q_{0}=00$): If $X=0$, next state is $00$; if $X=1$, next state is $01$.\n- From $S1$ ($Q_{1}Q_{0}=01$): If $X=0$, next state is $10$; if $X=1$, next state is $01$.\n- From $S2$ ($Q_{1}Q_{0}=10$): If $X=0$, next state is $00$; if $X=1$, next state is $01$.\n\nThe Mealy output is asserted only on the transition that completes $101$, i.e., when in $S2$ and $X=1$, so $Z=1$ if and only if $(Q_{1},Q_{0},X)=(1,0,1)$.\n\nDerive $D_{1}$ (the next value of $Q_{1}$). $D_{1}=1$ exactly when the next state is $S2$ ($10$). From the chart, this occurs only from present $S1$ with $X=0$, i.e., when $Q_{1}=0$, $Q_{0}=1$, $X=0$. Therefore,\n$$\nD_{1} = \\overline{Q_{1}}Q_{0}\\overline{X} \\, .\n$$\n\nDerive $D_{0}$ (the next value of $Q_{0}$). $D_{0}=1$ exactly when the next state is $S1$ ($01$). From the chart, the next state is $S1$ for any present state in $\\{S0,S1,S2\\}$ whenever $X=1$. Thus,\n$$\nD_{0} = X \\, .\n$$\n\nDerive the output $Z$. By the Mealy definition above, $Z=1$ only when in $S2$ ($Q_{1}=1$, $Q_{0}=0$) and $X=1$, hence\n$$\nZ = Q_{1}\\overline{Q_{0}}X \\, .\n$$\n\nCompare with the proposed equations:\n1. Proposed $D_{1} = \\overline{Q_1}Q_0X$ versus correct $D_{1} = \\overline{Q_1}Q_0\\overline{X}$. The proposed expression has $X$ where $\\overline{X}$ is required, so it is incorrect.\n2. Proposed $D_{0} = X$ matches the correct result, so it is correct.\n3. Proposed $Z = Q_1\\overline{Q_0}X$ matches the correct result, so it is correct.\n\nHence, the single incorrect component is the 3-input AND gate used to generate $D_{1}$, which should take $\\overline{Q_{1}}$, $Q_{0}$, and $\\overline{X}$ as inputs but was implemented with $X$ instead of $\\overline{X}$.\n\nTherefore, the correct choice is C.", "answer": "$$\\boxed{C}$$", "id": "1957138"}, {"introduction": "Now, let's synthesize our skills to tackle a more complete and realistic design challenge. This problem involves implementing a multi-state Moore machine to detect a specific data sequence, a common task in digital communications and data processing. You will derive and minimize the logic for a system with multiple state variables, solidifying your ability to translate a complex ASM chart into an efficient and practical hardware circuit ready for implementation in a device like a PAL [@problem_id:1957159].", "problem": "An engineer is designing a digital controller for a data link that must synchronize to an incoming serial bitstream. The controller needs to implement a specific Algorithmic State Machine (ASM) as a Moore machine to detect the 4-bit sequence `1101`. The system has a single serial data input, `X`, and is driven by a master clock, `CLK`. It has a single output, `Z`, which should be asserted high for exactly one clock cycle upon the successful detection of the complete `1101` sequence. The machine must correctly handle overlapping patterns. For example, if the input sequence is `1101101`, the output `Z` should be high during the clock cycle after the first `1` of `1101` is received, and again high during the clock cycle after the second `1` of the subsequent `1101` is received.\n\nThe state machine is described by five states:\n- **IDLE (S0):** The initial/reset state. It waits for the first `1` of the sequence.\n- **GOT1 (S1):** The machine has received a `1`.\n- **GOT11 (S2):** The machine has received the sequence `11`.\n- **GOT110 (S3):** The machine has received the sequence `110`.\n- **MATCH (S4):** The machine has just received the complete `1101` sequence. The output `Z` is high only in this state.\n\nFrom the **IDLE** state, if the input `X` is `0`, the machine remains in the **IDLE** state. If `X` is `1`, it transitions to the **GOT1** state.\nFrom the **GOT1** state, an input of `1` transitions the machine to **GOT11**, while an input of `0` resets it to **IDLE**.\nFrom the **GOT11** state, an input of `0` moves it to **GOT110**. To handle overlapping cases like `11101...`, an input of `1` causes it to remain in the **GOT11** state, as the last two `1`s can form the beginning of a new potential match.\nFrom the **GOT110** state, an input of `1` completes the pattern and transitions the machine to the **MATCH** state. An input of `0` breaks the pattern and resets it to **IDLE**.\nFrom the **MATCH** state, the search for a new pattern begins. If the next input `X` is `1`, it could be the start of a new `1101` sequence, so the machine transitions to the **GOT1** state. If `X` is `0`, it transitions back to **IDLE**.\n\nThe state of the machine is represented by three D-type flip-flops, holding the state variables $Q_2$, $Q_1$, and $Q_0$. The states are encoded as follows: S0 is $000$, S1 is $001$, S2 is $010$, S3 is $011$, and S4 is $100$. The inputs to these flip-flops are denoted $D_2$, $D_1$, and $D_0$. The unused state encodings ($101$, $110$, $111$) can be treated as don't-care conditions.\n\nThis state machine is to be implemented using a generic Programmable Array Logic (PAL) device. The device has sufficient registered outputs for the state variables and at least one combinational output for `Z`. The logic for each flip-flop input ($D_i$) and the output `Z` is implemented in sum-of-products form.\n\nWhich of the following sets of minimized sum-of-products logic equations correctly describes the implementation of this state machine? (Note: products represent AND, `+` represents OR, and $\\overline{A}$ represents NOT A.)\n\nA.\n$D_2 = Q_1 Q_0 X$\n$D_1 = \\overline{Q_2} Q_1 \\overline{Q_0} + \\overline{Q_2} \\overline{Q_1} Q_0 X$\n$D_0 = \\overline{Q_1} \\overline{Q_0} X + \\overline{Q_2} Q_1 \\overline{Q_0} \\overline{X}$\n$Z = Q_2 \\overline{Q_1} \\overline{Q_0}$\n\nB.\n$D_2 = Q_1 Q_0 X$\n$D_1 = \\overline{Q_2} Q_1 \\overline{Q_0} \\overline{X} + \\overline{Q_2} Q_1 \\overline{Q_0} X + \\overline{Q_2} \\overline{Q_1} Q_0 X$\n$D_0 = \\overline{Q_1} \\overline{Q_0} X + \\overline{Q_2} Q_1 \\overline{Q_0} \\overline{X}$\n$Z = Q_2 \\overline{Q_1} \\overline{Q_0}$\n\nC.\n$D_2 = Q_1 Q_0 X$\n$D_1 = \\overline{Q_2} Q_1 \\overline{Q_0} + \\overline{Q_2} \\overline{Q_1} Q_0 X$\n$D_0 = \\overline{Q_1} \\overline{Q_0} X + \\overline{Q_2} Q_1 \\overline{Q_0} \\overline{X}$\n$Z = \\overline{Q_2} Q_1 Q_0 X$\n\nD.\n$D_2 = Q_1 Q_0 X$\n$D_1 = \\overline{Q_2} \\overline{Q_1} Q_0 X + \\overline{Q_2} Q_1 \\overline{Q_0} \\overline{X}$\n$D_0 = \\overline{Q_1} \\overline{Q_0} X + \\overline{Q_2} Q_1 \\overline{Q_0} \\overline{X}$\n$Z = Q_2 \\overline{Q_1} \\overline{Q_0}$", "solution": "Construct the Moore machine transition table from the specification using the encoded states $S0=000$, $S1=001$, $S2=010$, $S3=011$, $S4=100$, with input $X$ and next-state bits $Q_{2}^{+},Q_{1}^{+},Q_{0}^{+}$ equal to $D_{2},D_{1},D_{0}$, respectively.\n\nFrom the description:\n- From $S0$ $(000)$: $X=0 \\rightarrow S0$ $(000)$, $X=1 \\rightarrow S1$ $(001)$.\n- From $S1$ $(001)$: $X=0 \\rightarrow S0$ $(000)$, $X=1 \\rightarrow S2$ $(010)$.\n- From $S2$ $(010)$: $X=0 \\rightarrow S3$ $(011)$, $X=1 \\rightarrow S2$ $(010)$.\n- From $S3$ $(011)$: $X=0 \\rightarrow S0$ $(000)$, $X=1 \\rightarrow S4$ $(100)$.\n- From $S4$ $(100)$: $X=0 \\rightarrow S0$ $(000)$, $X=1 \\rightarrow S1$ $(001)$.\n\nDerive each next-state bit as a sum-of-products over the current state and input.\n\n1) For $D_{2}=Q_{2}^{+}$: This is $1$ only when the next state is $S4$ $(100)$. That occurs only from current $S3$ $(011)$ with $X=1$. Using the encoded variables, this yields the product term $\\overline{Q_{2}}Q_{1}Q_{0}X$. Since among valid states the condition $Q_{1}Q_{0}=1$ implies $S3$, the minimized implicant is\n$$\nD_{2}=Q_{1}Q_{0}X.\n$$\n\n2) For $D_{1}=Q_{1}^{+}$: This is $1$ when the next state is $S2$ $(010)$ or $S3$ $(011)$.\n- $S2$ occurs from $S1$ $(001)$ with $X=1$ and from $S2$ $(010)$ with $X=1$.\n- $S3$ occurs from $S2$ $(010)$ with $X=0$.\nThus, for current $S2$ $(010)$, $D_{1}=1$ for both $X=0$ and $X=1$, giving the $X$-independent term $\\overline{Q_{2}}Q_{1}\\overline{Q_{0}}$. For current $S1$ $(001)$ with $X=1$, we add $\\overline{Q_{2}}\\overline{Q_{1}}Q_{0}X$. Therefore, the minimized expression is\n$$\nD_{1}=\\overline{Q_{2}}Q_{1}\\overline{Q_{0}}+\\overline{Q_{2}}\\overline{Q_{1}}Q_{0}X.\n$$\n\n3) For $D_{0}=Q_{0}^{+}$: This is $1$ when the next state is $S1$ $(001)$ or $S3$ $(011)$.\n- $S1$ occurs from $S0$ $(000)$ with $X=1$ and from $S4$ $(100)$ with $X=1$. Both cases are covered by $\\overline{Q_{1}}\\overline{Q_{0}}X$ (note this single implicant covers both $S0$ and $S4$).\n- $S3$ occurs from $S2$ $(010)$ with $X=0$, giving $\\overline{Q_{2}}Q_{1}\\overline{Q_{0}}\\overline{X}$.\nHence,\n$$\nD_{0}=\\overline{Q_{1}}\\overline{Q_{0}}X+\\overline{Q_{2}}Q_{1}\\overline{Q_{0}}\\overline{X}.\n$$\n\n4) For the Moore output $Z$: It must be high only in state $S4$ $(100)$, which yields\n$$\nZ=Q_{2}\\overline{Q_{1}}\\overline{Q_{0}}.\n$$\n\nCompare with the options:\n- All options have $D_{2}=Q_{1}Q_{0}X$ and $D_{0}=\\overline{Q_{1}}\\overline{Q_{0}}X+\\overline{Q_{2}}Q_{1}\\overline{Q_{0}}\\overline{X}$, matching the derivation.\n- For $D_{1}$, the minimized form is $D_{1}=\\overline{Q_{2}}Q_{1}\\overline{Q_{0}}+\\overline{Q_{2}}\\overline{Q_{1}}Q_{0}X$, which matches options A and C; option B redundantly splits the first term into two $X$-conditioned products (not minimized), and option D is incorrect because it omits the $X$-independent coverage of state $S2$.\n- For $Z$, the correct Moore output is $Z=Q_{2}\\overline{Q_{1}}\\overline{Q_{0}}$; option C incorrectly makes $Z$ depend on $X$.\n\nTherefore, the correct minimized sum-of-products implementation is option A.", "answer": "$$\\boxed{A}$$", "id": "1957159"}]}