{"hands_on_practices": [{"introduction": "The foundational skill in modeling any physical system is translating its structure and governing laws into a mathematical equation. This practice focuses on that essential first step. By applying Kirchhoff's Current Law to a simplified model of a piezoelectric energy harvester, you will derive the first-order differential equation that describes the voltage across the load. Solving this equation will allow you to understand both the transient start-up behavior and the long-term steady-state response of the circuit [@problem_id:1592511].", "problem": "A simplified model for a piezoelectric energy harvester is used to power a wireless sensor node. The harvester converts ambient mechanical vibrations into electrical energy. The circuit can be modeled as an ideal current source, $I_s(t)$, in parallel with the piezoelectric material's internal capacitance, $C_p$, and the sensor's load resistance, $R_L$.\n\nThe mechanical vibrations are steady and sinusoidal, resulting in a current given by $I_s(t) = I_0 \\cos(\\omega t)$ for time $t \\ge 0$, where $I_0$ is the current amplitude and $\\omega$ is the angular frequency of the vibrations. Before the vibrations start at $t=0$, the system is at rest, and the capacitor is fully discharged.\n\nDerive an expression for the voltage $V_L(t)$ across the load resistor for $t \\ge 0$. Your answer should be a single closed-form analytic expression in terms of $t$, $I_0$, $\\omega$, $C_p$, and $R_L$.", "solution": "Model the node across $R_{L}$ and $C_{p}$ by applying Kirchhoff's current law with the convention that currents through the passive elements leave the node while the source injects current into the node. The node voltage equals the load voltage $V_{L}(t)$. The KCL equation is\n$$I_{s}(t)=\\frac{V_{L}(t)}{R_{L}}+C_{p}\\frac{dV_{L}(t)}{dt}.$$\nWith $I_{s}(t)=I_{0}\\cos(\\omega t)$ and the initial condition $V_{L}(0)=0$ (capacitor initially uncharged), this becomes the linear first-order ODE\n$$C_{p}\\frac{dV_{L}}{dt}+\\frac{1}{R_{L}}V_{L}=I_{0}\\cos(\\omega t).$$\nDefine the time constant $\\tau=R_{L}C_{p}$ to write\n$$\\frac{dV_{L}}{dt}+\\frac{1}{\\tau}V_{L}=\\frac{I_{0}}{C_{p}}\\cos(\\omega t).$$\nSolve by superposition. The homogeneous solution satisfies\n$$\\frac{dV_{h}}{dt}+\\frac{1}{\\tau}V_{h}=0\\quad\\Rightarrow\\quad V_{h}(t)=K\\exp\\!\\left(-\\frac{t}{\\tau}\\right).$$\nSeek a particular solution of the form $V_{p}(t)=A\\cos(\\omega t)+B\\sin(\\omega t)$. Then\n$$\\frac{dV_{p}}{dt}=-A\\omega\\sin(\\omega t)+B\\omega\\cos(\\omega t),$$\nand substituting into the ODE gives\n$$\\bigl(B\\omega+\\frac{A}{\\tau}\\bigr)\\cos(\\omega t)+\\bigl(-A\\omega+\\frac{B}{\\tau}\\bigr)\\sin(\\omega t)=\\frac{I_{0}}{C_{p}}\\cos(\\omega t).$$\nEquating coefficients yields the system\n$$B\\omega+\\frac{A}{\\tau}=\\frac{I_{0}}{C_{p}},\\qquad -A\\omega+\\frac{B}{\\tau}=0.$$\nFrom the second equation $B=A\\omega\\tau$. Substituting into the first gives\n$$A\\omega^{2}\\tau+\\frac{A}{\\tau}=\\frac{I_{0}}{C_{p}}\\;\\Rightarrow\\;A\\frac{1+\\omega^{2}\\tau^{2}}{\\tau}=\\frac{I_{0}}{C_{p}}\\;\\Rightarrow\\;A=\\frac{I_{0}}{C_{p}}\\frac{\\tau}{1+\\omega^{2}\\tau^{2}},$$\nand\n$$B=A\\omega\\tau=\\frac{I_{0}}{C_{p}}\\frac{\\omega\\tau^{2}}{1+\\omega^{2}\\tau^{2}}.$$\nThus the general solution is\n$$V_{L}(t)=K\\exp\\!\\left(-\\frac{t}{\\tau}\\right)+A\\cos(\\omega t)+B\\sin(\\omega t).$$\nApply the initial condition $V_{L}(0)=0$:\n$$0=K+A\\quad\\Rightarrow\\quad K=-A.$$\nTherefore,\n$$V_{L}(t)=-A\\exp\\!\\left(-\\frac{t}{\\tau}\\right)+A\\cos(\\omega t)+B\\sin(\\omega t).$$\nSubstitute $A$ and $B$, and then replace $\\tau=R_{L}C_{p}$ to express the result in the required parameters:\n$$V_{L}(t)=\\frac{I_{0}R_{L}\\cos(\\omega t)+I_{0}\\omega R_{L}^{2}C_{p}\\sin(\\omega t)-I_{0}R_{L}\\exp\\!\\left(-\\frac{t}{R_{L}C_{p}}\\right)}{1+\\omega^{2}R_{L}^{2}C_{p}^{2}}.$$\nThis is a single closed-form analytic expression valid for $t\\ge 0$ that satisfies the initial condition and the circuit dynamics.", "answer": "$$\\boxed{\\frac{I_{0}R_{L}\\cos(\\omega t)+I_{0}\\omega R_{L}^{2}C_{p}\\sin(\\omega t)-I_{0}R_{L}\\exp\\!\\left(-\\frac{t}{R_{L}C_{p}}\\right)}{1+\\omega^{2}R_{L}^{2}C_{p}^{2}}}$$", "id": "1592511"}, {"introduction": "While differential equations describe system dynamics in the time domain, control engineers often prefer the frequency-domain perspective offered by the Laplace transform. This practice involves deriving the transfer function $H(s)$ for a more complex passive circuit, the twin-T notch filter. This exercise will reinforce your skills in nodal analysis in the $s$-domain and demonstrate how a circuit's physical structure creates specific frequency-dependent behaviors, such as the complete rejection of a signal at a particular \"notch\" frequency [@problem_id:1592499].", "problem": "A passive electrical filter, known as a symmetrical Twin-T notch filter, is constructed as follows. A voltage source providing $v_{in}(t)$ is connected to the input terminal, and the output voltage $v_{out}(t)$ is measured at the output terminal. Both voltages are relative to a common ground. The circuit between the input and output terminals consists of two parallel T-networks.\n\nThe first T-network is composed of two resistors, each with resistance $R$, connected in series between the input and output terminals. From the node between these two resistors, a capacitor with capacitance $2C$ is connected to ground.\n\nThe second T-network is composed of two capacitors, each with capacitance $C$, connected in series between the input and output terminals. From the node between these two capacitors, a resistor with resistance $R/2$ is connected to ground.\n\nThe output terminal is connected to a load with infinite impedance (i.e., no current is drawn from the output).\n\nYour first task is to determine the transfer function $H(s) = \\frac{V_{out}(s)}{V_{in}(s)}$, where $V_{in}(s)$ and $V_{out}(s)$ are the Laplace transforms of the input and output voltages, respectively. Express your answer in terms of the parameters $R$, $C$, and the complex frequency variable $s$.\n\nYour second task is to find the specific angular frequency $\\omega_0$ at which the magnitude of the transfer function is zero. Express this frequency in rad/s.", "solution": "Let the input node be at potential $V_{1}=V_{in}$ (ideal voltage source, zero source impedance), the output node at $V_{2}=V_{out}$, and the internal midpoints of the two T-networks be $V_{a}$ (resistive T) and $V_{b}$ (capacitive T). Use Laplace-domain admittances: for a resistor $R$, $G=\\frac{1}{R}$; for a capacitor $C$, $Y_{C}=sC$. In the resistive T, the shunt capacitor is $2C$ with admittance $2sC$. In the capacitive T, the shunt resistor is $\\frac{R}{2}$ with admittance $2G$.\n\nKCL at node $a$ (connected to $V_{1}$ via $G$, to $V_{2}$ via $G$, and to ground via $2sC$) gives\n$$\nG(V_{a}-V_{1})+G(V_{a}-V_{2})+2sC\\,V_{a}=0\n\\;\\Rightarrow\\;\n(2G+2sC)V_{a}-G(V_{1}+V_{2})=0\n\\;\\Rightarrow\\;\nV_{a}=\\frac{G}{2(G+sC)}(V_{1}+V_{2}).\n$$\nKCL at node $b$ (connected to $V_{1}$ via $sC$, to $V_{2}$ via $sC$, and to ground via $2G$) gives\n$$\nsC(V_{b}-V_{1})+sC(V_{b}-V_{2})+2G\\,V_{b}=0\n\\;\\Rightarrow\\;\n(2sC+2G)V_{b}-sC(V_{1}+V_{2})=0\n\\;\\Rightarrow\\;\nV_{b}=\\frac{sC}{2(G+sC)}(V_{1}+V_{2}).\n$$\nKCL at node $2$ (connected to $V_{a}$ via $G$ and to $V_{b}$ via $sC$) gives\n$$\nG(V_{2}-V_{a})+sC(V_{2}-V_{b})=0\n\\;\\Rightarrow\\;\n(G+sC)V_{2}-G V_{a}-sC\\,V_{b}=0.\n$$\nDefine $D=G+sC$. Substituting $V_{a}$ and $V_{b}$:\n$$\nD V_{2}-G\\frac{G}{2D}(V_{1}+V_{2})-sC\\frac{sC}{2D}(V_{1}+V_{2})=0.\n$$\nMultiplying by $2D$ and rearranging:\n$$\n\\left[2D^{2}-(G^{2}+(sC)^{2})\\right]V_{2}=(G^{2}+(sC)^{2})V_{1}.\n$$\nSince $D^{2}=G^{2}+2GsC+(sC)^{2}$, we get\n$$\n2D^{2}-(G^{2}+(sC)^{2})=G^{2}+4GsC+(sC)^{2}.\n$$\nTherefore the transfer function is\n$$\nH(s)=\\frac{V_{2}}{V_{1}}=\\frac{G^{2}+(sC)^{2}}{G^{2}+4GsC+(sC)^{2}}.\n$$\nWith $G=\\frac{1}{R}$, multiply numerator and denominator by $R^{2}$ to obtain\n$$\nH(s)=\\frac{1+(sRC)^{2}}{1+4sRC+(sRC)^{2}}.\n$$\nTo find the angular frequency where the magnitude is zero, evaluate the numerator at $s=j\\omega$:\n$$\n1+(j\\omega RC)^{2}=1-\\omega^{2}R^{2}C^{2}=0\n\\;\\Rightarrow\\;\n\\omega_{0}=\\frac{1}{RC}.\n$$\nAt $\\omega_{0}$ the denominator equals $1+4j-\\!1=4j\\neq 0$, so the magnitude is indeed zero there.", "answer": "The transfer function is:\n$$\\boxed{H(s) = \\frac{1+(sRC)^{2}}{1+4sRC+(sRC)^{2}}}$$\n\nThe angular frequency at which the magnitude is zero is:\n$$\\boxed{\\omega_0 = \\frac{1}{RC}}$$", "id": "1592499"}, {"introduction": "Beyond analyzing existing circuits, a key aspect of engineering is designing systems to achieve a desired function. This advanced practice explores the concept of synthesis, where active components are used to create a specific dynamic behavior. You will analyze a gyrator circuit, which cleverly uses operational amplifiers, resistors, and a capacitor to simulate the behavior of an inductor. This problem demonstrates how to model circuits with active components and reveals the powerful principle of creating effective impedance, a cornerstone of modern integrated circuit design [@problem_id:1592514].", "problem": "An engineer is designing a circuit to synthesize an inductive element without using a physical inductor coil, a common practice in integrated circuit design. The proposed circuit uses two ideal Operational Amplifiers (op-amps), two resistors, and one capacitor, all referenced to a common ground. The circuit is configured as follows:\n\n1.  The input port is defined by an input terminal and the common ground. The input voltage is $v_{in}(t)$ and the input current is $i_{in}(t)$.\n2.  The input terminal is connected to the non-inverting input of the first op-amp, OA1.\n3.  A resistor with resistance $R_1$ connects the input terminal to the output of the second op-amp, OA2.\n4.  OA1 is configured as a voltage follower, meaning its output is directly connected to its inverting input.\n5.  The output of OA1 is connected to one plate of a capacitor with capacitance $C_1$. The other plate of the capacitor is connected to the non-inverting input of OA2. Let's call the node between the capacitor and OA2's non-inverting input \"Node A\".\n6.  A resistor with resistance $R_2$ is connected between Node A and the common ground.\n7.  OA2 is also configured as a voltage follower, with its output connected to its inverting input.\n\nThe input impedance of this circuit, $Z_{in}(s) = V_{in}(s)/I_{in}(s)$, contains a frequency-dependent term characteristic of an inductor. By analyzing the circuit, identify this inductive component of the impedance and find an analytic expression for the resulting effective inductance, $L_{eff}$, in terms of $R_1$, $R_2$, and $C_1$.", "solution": "Ideal op-amps in voltage-follower configuration impose the following constraints: infinite input impedance (no input current), zero output impedance, and output equal to the non-inverting input. Therefore OA1 enforces its output voltage equal to $v_{in}(t)$ without drawing input current, and OA2 enforces its output voltage equal to the voltage at Node A.\n\nBecause OA1 input draws no current and the capacitor $C_{1}$ is connected to OA1â€™s output (not to the input terminal), the input current $i_{in}(t)$ flows only through $R_{1}$ from the input terminal to Node A. In the Laplace domain, write $V_{in}(s)$ and $V_{A}(s)$ for the node voltages, and use the capacitor current relation $I_{C}(s)=C_{1}s\\left(V_{A}(s)-V_{in}(s)\\right)$.\n\nApply KCL at Node A, taking currents leaving Node A as positive:\n$$\n\\frac{V_{A}}{R_{2}}+\\frac{V_{A}-V_{in}}{R_{1}}+C_{1}s\\left(V_{A}-V_{in}\\right)=0.\n$$\nCollect terms to solve for $V_{A}$ in terms of $V_{in}$:\n$$\nV_{A}\\left(\\frac{1}{R_{2}}+\\frac{1}{R_{1}}+C_{1}s\\right)-V_{in}\\left(\\frac{1}{R_{1}}+C_{1}s\\right)=0\n\\quad\\Rightarrow\\quad\nV_{A}=V_{in}\\,\\frac{\\frac{1}{R_{1}}+C_{1}s}{\\frac{1}{R_{2}}+\\frac{1}{R_{1}}+C_{1}s}.\n$$\nThe input current is the current through $R_{1}$:\n$$\nI_{in}=\\frac{V_{in}-V_{A}}{R_{1}}=\\frac{V_{in}}{R_{1}}\\left(1-\\frac{\\frac{1}{R_{1}}+C_{1}s}{\\frac{1}{R_{2}}+\\frac{1}{R_{1}}+C_{1}s}\\right)\n=\\frac{V_{in}}{R_{1}}\\cdot\\frac{\\frac{1}{R_{2}}}{\\frac{1}{R_{2}}+\\frac{1}{R_{1}}+C_{1}s}.\n$$\nHence the input impedance is\n$$\nZ_{in}(s)=\\frac{V_{in}}{I_{in}}=R_{1}\\cdot\\frac{\\frac{1}{R_{2}}+\\frac{1}{R_{1}}+C_{1}s}{\\frac{1}{R_{2}}}\n=R_{1}\\left(1+\\frac{R_{2}}{R_{1}}+R_{2}C_{1}s\\right)\n=R_{1}+R_{2}+s\\left(R_{1}R_{2}C_{1}\\right).\n$$\nThis has the form of a series resistance $(R_{1}+R_{2})$ plus an inductive reactance $sL$. Therefore, the inductive component is $sL_{eff}$ with\n$$\nL_{eff}=R_{1}R_{2}C_{1}.\n$$", "answer": "$$\\boxed{R_{1}R_{2}C_{1}}$$", "id": "1592514"}]}