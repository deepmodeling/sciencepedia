{"hands_on_practices": [{"introduction": "Before diving into complex calculations, it is crucial to understand the basic structure of a reduced-order observer. This first exercise focuses on a fundamental step: determining the size of the observer gain matrix, $L$. Understanding the dimensions of $L$ is essential for ensuring the mathematical operations in the observer equations are correctly defined and for appreciating how the observer uses measured information to correct its estimates of unmeasured states [@problem_id:1604258].", "problem": "A control systems engineer is tasked with designing a state estimator for a complex mechatronic system. The system's dynamics are accurately modeled by a fifth-order linear time-invariant (LTI) state-space representation. This implies that the system's state vector consists of five components. Through installed sensors, two of the system's state variables are directly and continuously measured, providing the output of the system.\n\nDue to computational constraints on the embedded controller, the engineer decides to implement a reduced-order observer. This type of observer is designed to estimate only the state variables that are not directly measured. The design of this observer requires the calculation of a constant gain matrix, commonly denoted by $L$, which is used to correct the state estimate based on the available measurements.\n\nWhat are the dimensions (number of rows $\\times$ number of columns) of this reduced-order observer gain matrix $L$?\n\nA. $5 \\times 2$\n\nB. $2 \\times 3$\n\nC. $3 \\times 2$\n\nD. $5 \\times 5$", "solution": "Let the LTI system have state dimension $n=5$ and output dimension $p=2$, since two state variables are directly measured. By an appropriate similarity transformation, assume the output matrix is brought to the canonical form\n$$\nC=\\begin{bmatrix}I_{p} & 0\\end{bmatrix},\n$$\nso that the state is partitioned as $x=\\begin{bmatrix}x_{m} \\\\ x_{u}\\end{bmatrix}$ with $x_{m}\\in\\mathbb{R}^{p}$ measured and $x_{u}\\in\\mathbb{R}^{n-p}$ unmeasured. Partition the system matrices accordingly:\n$$\nA=\\begin{bmatrix}A_{11} & A_{12} \\\\ A_{21} & A_{22}\\end{bmatrix},\\quad\nB=\\begin{bmatrix}B_{1}\\\\ B_{2}\\end{bmatrix},\\quad\ny=x_{m}.\n$$\nThe dynamics of the estimation error $e_{u}=x_{u}-\\hat{x}_{u}$ in a reduced-order observer are given by:\n$$\n\\dot{e}_{u}=(A_{22}-L A_{12})e_{u}.\n$$\nFor the matrix product $L A_{12}$ to be well-defined and for the overall matrix $(A_{22}-L A_{12})$ to be square, we must analyze the dimensions. The matrix $A_{12}$ maps the unmeasured states $x_u$ to the dynamics of the measured states $x_m$, so it has dimensions $p\\times (n-p)$. The observer gain matrix $L$ must therefore have dimensions $(n-p)\\times p$ so that the product $L A_{12}$ is a square matrix of size $(n-p)\\times (n-p)$, matching the dimensions of $A_{22}$. Hence,\n$$\n\\dim(L)=(n-p)\\times p=(5-2)\\times 2=3\\times 2.\n$$\nThis corresponds to option C.", "answer": "$$\\boxed{C}$$", "id": "1604258"}, {"introduction": "The primary purpose of an observer is to produce estimates that converge to the true state values quickly and smoothly. The observer gain, $L$, is the key design parameter we use to control this convergence. This practice problem moves from structure to function, demonstrating how to calculate a specific value for $L$ to place the observer's error dynamics pole at a desired location, thereby dictating the speed at which estimation errors decay [@problem_id:1604275].", "problem": "An aerospace engineer is developing a controller for a small Unmanned Aerial Vehicle (UAV). A simplified linear model for the pitch dynamics of the drone around its hovering equilibrium is given by the following state-space representation:\n\n$$\n\\frac{d}{dt} \\begin{pmatrix} x_1(t) \\\\ x_2(t) \\end{pmatrix} = \\begin{pmatrix} 0 & 1 \\\\ -a_1 & -a_2 \\end{pmatrix} \\begin{pmatrix} x_1(t) \\\\ x_2(t) \\end{pmatrix} + \\begin{pmatrix} 0 \\\\ b_1 \\end{pmatrix} u(t)\n$$\n\nHere, $x_1(t)$ is the pitch angle in radians, and $x_2(t)$ is the pitch rate in radians per second. The term $u(t)$ represents the control input from the motors. The system parameters are given as $a_1 = 25.0 \\text{ s}^{-2}$ and $a_2 = 12.5 \\text{ s}^{-1}$.\n\nThe onboard sensors can accurately measure the pitch angle $x_1(t)$, so the output equation is $y(t) = x_1(t)$. However, the pitch rate $x_2(t)$ is not directly measured and must be estimated for use in a feedback control law. To achieve this, a first-order reduced-order observer is to be designed. The observer's task is to generate an estimate $\\hat{x}_2(t)$ of the state $x_2(t)$.\n\nFor rapid convergence of the estimate, the engineer wants the single pole of the observer's error dynamics to be located at $s = -50.0 \\text{ s}^{-1}$. Determine the value of the scalar observer gain, $L$, required to achieve this pole placement.\n\nExpress your answer for $L$ in units of $\\text{s}^{-1}$, rounded to three significant figures.", "solution": "We begin with the given system\n$$\n\\dot{x}=\\begin{pmatrix}0 & 1\\\\ -a_{1} & -a_{2}\\end{pmatrix}x+\\begin{pmatrix}0\\\\ b_{1}\\end{pmatrix}u,\\quad y=x_{1},\n$$\nand partition the state as $x=\\begin{pmatrix}x_{m}\\\\ x_{u}\\end{pmatrix}$ with $x_{m}=x_{1}$ (measured) and $x_{u}=x_{2}$ (unmeasured). Then the submatrices are:\n$$\nA_{11}=0,\\quad A_{12}=1,\\quad A_{21}=-a_{1},\\quad A_{22}=-a_{2},\\quad B_{1}=0,\\quad B_{2}=b_{1}.\n$$\nThe dynamics of the estimation error $\\tilde{x}_{u}=x_{u}-\\hat{x}_{u}$ are given by the equation derived in the main text:\n$$\n\\dot{\\tilde{x}}_{u}=\\left(A_{22}-L A_{12}\\right)\\tilde{x}_{u}.\n$$\nFor this first-order system, the single observer error pole is located at the eigenvalue of the scalar matrix $(A_{22}-L A_{12})$, which is simply:\n$$\ns=A_{22}-L A_{12}.\n$$\nTo assign this pole at the desired location $s=-\\lambda$ with $\\lambda>0$, we require\n$$\nA_{22}-L A_{12}=-\\lambda\\quad\\Longrightarrow\\quad L=\\frac{A_{22}+\\lambda}{A_{12}}.\n$$\nFor the given system, $A_{22}=-a_{2}$ and $A_{12}=1$, so\n$$\nL=-a_{2}+\\lambda.\n$$\nWith the target pole at $s=-50\\,\\text{s}^{-1}$, we set $\\lambda=50\\,\\text{s}^{-1}$ and use $a_{2}=12.5\\,\\text{s}^{-1}$ to obtain\n$$\nL=-12.5\\,\\text{s}^{-1}+50\\,\\text{s}^{-1}=37.5\\,\\text{s}^{-1}.\n$$\nRounded to three significant figures, the required observer gain is $37.5$ in units of $\\text{s}^{-1}$.", "answer": "$$\\boxed{37.5}$$", "id": "1604275"}, {"introduction": "We have seen how to place the poles of an observer's error dynamics, but when is this always possible? This question delves into the fundamental theoretical condition, known as detectability, that guarantees a stable reduced-order observer can be designed. By analyzing a system's internal structure, we can determine beforehand if our design efforts will be successful, distinguishing between systems where the unmeasured states are merely detectable versus those that are fully observable [@problem_id:1604272].", "problem": "Consider a third-order linear time-invariant (LTI) system described by the state-space representation $\\dot{x}(t) = Ax(t)$ and $y(t) = Cx(t)$, where $x(t) \\in \\mathbb{R}^3$ is the state vector and $y(t) \\in \\mathbb{R}$ is the measured output. The system matrices are given by:\n$$A = \\begin{pmatrix} 0 & 1 & -1 \\\\ 1 & -2 & 1 \\\\ 0 & 1 & -2 \\end{pmatrix}, \\quad C = \\begin{pmatrix} 1 & 0 & 0 \\end{pmatrix}$$\nTo estimate the unmeasured states of this system, one can design a reduced-order observer. A fundamental prerequisite for the existence of a stable reduced-order observer is that a specific subsystem partition satisfies the property of detectability.\n\nBased on an analysis of the system, which of the following statements is correct regarding the suitability for designing a stable reduced-order observer?\n\nA. A stable reduced-order observer can be designed because the relevant subsystem is observable.\n\nB. A stable reduced-order observer can be designed because the relevant subsystem is detectable, although it is not observable.\n\nC. A stable reduced-order observer cannot be designed because the relevant subsystem is not detectable.\n\nD. A stable reduced-order observer cannot be designed because the relevant subsystem is not controllable.\n\nE. It is not possible to determine the suitability without knowing the input matrix $B$ of the full state-space model $\\dot{x} = Ax+Bu$.", "solution": "We are given the system $\\dot{x}(t)=Ax(t)$, $y(t)=Cx(t)$ with \n$$\nA=\\begin{pmatrix}\n0 & 1 & -1\\\\\n1 & -2 & 1\\\\\n0 & 1 & -2\n\\end{pmatrix}, \n\\quad \nC=\\begin{pmatrix}1 & 0 & 0\\end{pmatrix},\n$$\nso the measured output is $y=x_{1}$. For a reduced-order observer, we partition the state as $x=\\begin{pmatrix}x_{m}\\\\x_{u}\\end{pmatrix}$ with $x_{m}=x_{1}\\in\\mathbb{R}$ and $x_{u}=\\begin{pmatrix}x_{2}\\\\x_{3}\\end{pmatrix}\\in\\mathbb{R}^{2}$. Partitioning $A$ conformably gives:\n$$\nA=\\begin{pmatrix}\nA_{11} & A_{12}\\\\\nA_{21} & A_{22}\n\\end{pmatrix} = \\begin{pmatrix}\n0 & \\begin{pmatrix}1 & -1\\end{pmatrix}\\\\\n\\begin{pmatrix}1\\\\0\\end{pmatrix} & \\begin{pmatrix}-2 & 1\\\\ 1 & -2\\end{pmatrix}\n\\end{pmatrix}.\n$$\nThe error dynamics of a reduced-order observer are governed by the matrix $(A_{22}-L A_{12})$. A stable observer can be designed if and only if the pair $(A_{22},A_{12})$ is detectable. This condition ensures that a gain $L$ exists such that $(A_{22}-L A_{12})$ is Hurwitz (all eigenvalues have negative real parts).\n\nWe first test for detectability by examining the eigenvalues of $A_{22}$. The characteristic polynomial of $A_{22}$ is:\n$$\n\\det(\\lambda I - A_{22})=\\det\\begin{pmatrix}\\lambda+2 & -1\\\\ -1 & \\lambda+2\\end{pmatrix}\n=(\\lambda+2)^{2}-1=\\lambda^{2}+4\\lambda+3=(\\lambda+1)(\\lambda+3).\n$$\nThe eigenvalues of $A_{22}$ are $\\lambda_1=-1$ and $\\lambda_2=-3$. Since both eigenvalues are strictly in the left half-plane (i.e., stable), any unobservable modes of the pair $(A_{22},A_{12})$ must be stable. Therefore, the pair is detectable regardless of $A_{12}$.\n\nNext, to check for observability, we form the observability matrix for the pair $(A_{22},A_{12})$:\n$$\n\\mathcal{O}=\\begin{pmatrix}\nA_{12}\\\\\nA_{12}A_{22}\n\\end{pmatrix}.\n$$\nWe compute the second row:\n$$\nA_{12}A_{22}=\\begin{pmatrix}1 & -1\\end{pmatrix}\\begin{pmatrix}-2 & 1\\\\ 1 & -2\\end{pmatrix}\n=\\begin{pmatrix}-3 & 3\\end{pmatrix}.\n$$\nThus, the full observability matrix is:\n$$\n\\mathcal{O}=\\begin{pmatrix}\n1 & -1\\\\\n-3 & 3\n\\end{pmatrix}.\n$$\nSince the second row is -3 times the first, the rows are linearly dependent. The rank of $\\mathcal{O}$ is 1, which is less than the dimension of the unmeasured state (2). Therefore, the pair $(A_{22},A_{12})$ is not observable.\n\nSince the pair is detectable but not observable, a stable reduced-order observer can be designed, but its poles cannot be arbitrarily placed. However, the existence of a stable observer is guaranteed. The conditions of controllability and the input matrix $B$ are not relevant for observer design.\n\nHence, the correct statement is B.", "answer": "$$\\boxed{B}$$", "id": "1604272"}]}