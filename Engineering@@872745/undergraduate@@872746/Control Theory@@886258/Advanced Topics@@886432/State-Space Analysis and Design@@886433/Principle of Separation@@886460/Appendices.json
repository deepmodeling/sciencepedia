{"hands_on_practices": [{"introduction": "The separation principle allows us to first tackle the control problem as if all states were perfectly measurable. This exercise demonstrates this initial step, showing how to calculate the state-feedback gains necessary to make a physical system, like an active car suspension, behave according to a desired performance model.", "problem": "A simplified model for an active vehicle suspension system is described by the second-order linear differential equation:\n$$m \\frac{d^2y}{dt^2} + c \\frac{dy}{dt} + k y(t) = u(t)$$\nHere, $y(t)$ is the vertical displacement of the vehicle's body from its equilibrium position, $m$ is the mass of the body, $c$ is the passive damping coefficient of the shock absorber, and $k$ is the spring constant. The term $u(t)$ represents the active force supplied by a control actuator.\n\nA state-feedback controller is implemented to improve ride comfort. The active force is proportional to the vehicle's displacement and vertical velocity, according to the control law:\n$$u(t) = -k_1 y(t) - k_2 \\frac{dy}{dt}$$\nwhere $k_1$ and $k_2$ are the feedback gains that need to be determined.\n\nThe engineering objective is to make the active suspension system behave like a desired reference model. This target model has the same mass $m$ but features a desired effective stiffness $k_d$ and a desired effective damping $c_d$. The motion of this ideal reference model is described by the homogeneous differential equation:\n$$m \\frac{d^2y}{dt^2} + c_d \\frac{dy}{dt} + k_d y(t) = 0$$\n\nDetermine the expressions for the feedback gains $k_1$ and $k_2$ required to make the behavior of the controlled suspension system identical to that of the desired reference model. Your final answer should be two expressions, one for $k_1$ and one for $k_2$.", "solution": "The goal is to find the feedback gains $k_1$ and $k_2$ such that the controlled system's dynamics match the desired reference dynamics.\n\nFirst, we write down the equation of motion for the physical suspension system with the active controller. The initial equation is:\n$$m \\frac{d^2y}{dt^2} + c \\frac{dy}{dt} + k y(t) = u(t)$$\n\nNext, we substitute the given state-feedback control law, $u(t) = -k_1 y(t) - k_2 \\frac{dy}{dt}$, into the system's equation of motion. This gives us the closed-loop dynamics:\n$$m \\frac{d^2y}{dt^2} + c \\frac{dy}{dt} + k y(t) = -k_1 y(t) - k_2 \\frac{dy}{dt}$$\n\nTo analyze the behavior of this controlled system, we rearrange the equation by moving all terms involving $y(t)$ and its derivatives to the left-hand side:\n$$m \\frac{d^2y}{dt^2} + c \\frac{dy}{dt} + k_2 \\frac{dy}{dt} + k y(t) + k_1 y(t) = 0$$\n\nNow, we group the terms by the order of the derivative of $y(t)$:\n$$m \\frac{d^2y}{dt^2} + (c + k_2) \\frac{dy}{dt} + (k + k_1) y(t) = 0$$\nThis is the differential equation describing the actual behavior of the actively controlled suspension system.\n\nThe problem states that the desired behavior is that of a reference model described by the equation:\n$$m \\frac{d^2y}{dt^2} + c_d \\frac{dy}{dt} + k_d y(t) = 0$$\n\nFor the controlled system's behavior to be identical to the desired reference model's behavior, their governing differential equations must be equivalent. Since the coefficient of the $\\frac{d^2y}{dt^2}$ term ($m$) is already the same in both equations, we can equate the coefficients of the $\\frac{dy}{dt}$ and $y(t)$ terms.\n\nEquating the coefficients of the $\\frac{dy}{dt}$ term:\n$$c + k_2 = c_d$$\nSolving for $k_2$ gives:\n$$k_2 = c_d - c$$\n\nEquating the coefficients of the $y(t)$ term:\n$$k + k_1 = k_d$$\nSolving for $k_1$ gives:\n$$k_1 = k_d - k$$\n\nThus, the required feedback gains are $k_1 = k_d - k$ and $k_2 = c_d - c$. The problem asks for the two expressions for $k_1$ and $k_2$.", "answer": "$$\\boxed{k_1 = k_d - k, \\quad k_2 = c_d - c}$$", "id": "1601334"}, {"introduction": "In reality, not all states are available for feedback, which is why we need a state observer. This practice focuses on the second part of the separated design: creating an observer that can accurately estimate the system's internal states. You will see how to choose an observer gain to ensure the estimation error decays at a specified rate, a crucial step for reliable control.", "problem": "The concentration of a certain pollutant in a large, well-mixed lake is being monitored. The system can be modeled by a first-order linear differential equation. Let $x(t)$ be the average concentration of the pollutant in milligrams per liter (mg/L). Its dynamics are described by:\n$$\n\\dot{x}(t) = ax(t) + bu(t)\n$$\nwhere $a$ represents the natural decay rate of the pollutant, and $u(t)$ is the rate at which a nearby factory discharges the pollutant in milligrams per second (mg/s). The parameter $b$ relates the discharge rate to the rate of change of concentration.\n\nDirectly measuring the average concentration $x(t)$ is infeasible. Instead, a sensor measures the water's turbidity, $y(t)$, which is assumed to be linearly proportional to the pollutant concentration:\n$$\ny(t) = cx(t)\n$$\nwhere $c$ is a known sensor calibration constant.\n\nTo estimate the unmeasurable concentration $x(t)$, a Luenberger observer is implemented. The observer is a software-based model that runs in parallel with the physical system. Its dynamics are given by:\n$$\n\\dot{\\hat{x}}(t) = a\\hat{x}(t) + bu(t) + L(y(t) - c\\hat{x}(t))\n$$\nwhere $\\hat{x}(t)$ is the estimated concentration and $L$ is the observer gain. The convergence of the estimate $\\hat{x}(t)$ to the true value $x(t)$ depends on the pole of the estimation error dynamics, which is located at $s = a - Lc$. For the observer to respond quickly and correct for any initial mismatch, an engineer has determined that this pole must be placed at a desired location $p_o$.\n\nGiven the following system parameters:\n- Natural decay parameter: $a = -0.080 \\text{ day}^{-1}$\n- Input effectiveness parameter: $b = 3.5 \\times 10^{-8} \\frac{\\text{mg/L}}{\\text{mg/s}}$\n- Sensor calibration constant: $c = 1.25 \\frac{\\text{TU}}{\\text{mg/L}}$, where TU is Turbidity Unit.\n- Desired observer pole location: $p_o = -0.60 \\text{ day}^{-1}$\n\nCalculate the required numerical value for the observer gain $L$. Express your answer for the gain $L$ in units of $\\frac{\\text{mg/L}}{\\text{TU} \\cdot \\text{day}}$, rounded to three significant figures.", "solution": "We begin with the plant and output equations:\n$$\n\\dot{x}(t) = a x(t) + b u(t), \\quad y(t) = c x(t).\n$$\nThe Luenberger observer is\n$$\n\\dot{\\hat{x}}(t) = a \\hat{x}(t) + b u(t) + L\\big(y(t) - c \\hat{x}(t)\\big).\n$$\nDefine the estimation error $e(t) = x(t) - \\hat{x}(t)$. Its dynamics follow from\n$$\n\\dot{e}(t) = \\dot{x}(t) - \\dot{\\hat{x}}(t) = \\big(a x(t) + b u(t)\\big) - \\big(a \\hat{x}(t) + b u(t) + L(y(t) - c \\hat{x}(t))\\big).\n$$\nUsing $y(t) = c x(t)$, we get $y(t) - c \\hat{x}(t) = c\\big(x(t) - \\hat{x}(t)\\big) = c e(t)$. Hence,\n$$\n\\dot{e}(t) = a\\big(x(t) - \\hat{x}(t)\\big) - L \\, c \\, e(t) = \\big(a - L c\\big) e(t).\n$$\nTherefore, the estimation error dynamics have a pole at\n$$\ns = a - L c.\n$$\nTo place the observer pole at the desired location $p_{o}$, we set\n$$\na - L c = p_{o} \\quad \\Longrightarrow \\quad L = \\frac{a - p_{o}}{c}.\n$$\nUnit check: $a$ and $p_{o}$ have units of day$^{-1}$, and $c$ has units TU per mg/L, so $L$ has units $(\\text{day}^{-1})/(\\text{TU}/(\\text{mg}/\\text{L})) = (\\text{mg}/\\text{L})/(\\text{TU}\\cdot \\text{day})$, as required.\n\nSubstitute the given values $a = -0.080 \\, \\text{day}^{-1}$, $p_{o} = -0.60 \\, \\text{day}^{-1}$, and $c = 1.25 \\, \\text{TU}/(\\text{mg}/\\text{L})$:\n$$\nL = \\frac{-0.080 - (-0.60)}{1.25} = \\frac{0.520}{1.25} = 0.416.\n$$\nRounded to three significant figures, the required observer gain is $0.416$ in units of $(\\text{mg}/\\text{L})/(\\text{TU}\\cdot \\text{day})$.", "answer": "$$\\boxed{0.416}$$", "id": "1601383"}, {"introduction": "The power of the separation principle lies in its guarantee about the combined system's behavior. This final exercise puts the principle to the test by asking you to analyze the stability of a complete observer-based controller. It critically demonstrates that the overall system's poles are the union of the controller poles and observer poles, highlighting why both parts must be independently designed for stability.", "problem": "An engineer is designing a control system for an unstable process modeled as a continuous-time Linear Time-Invariant (LTI) system. The system dynamics are described by the state-space equations $\\dot{x}(t) = Ax(t) + Bu(t)$ and $y(t) = Cx(t)$, where $x(t)$ is the state vector, $u(t)$ is the control input, and $y(t)$ is the measured output.\n\nThe system matrices are given as:\n$$\nA = \\begin{pmatrix} 0 & 1 \\\\ 3 & -2 \\end{pmatrix}, \\quad B = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}, \\quad C = \\begin{pmatrix} 1 & 0 \\end{pmatrix}\n$$\n\nA full state-feedback controller of the form $u(t) = -Kx(t)$ is not feasible because not all states are directly measurable. Therefore, an observer-based controller is proposed. The control law will be $u(t) = -K\\hat{x}(t)$, where $\\hat{x}(t)$ is the state estimate provided by a Luenberger observer.\n\nA state-feedback gain $K = \\begin{pmatrix} 11 & 4 \\end{pmatrix}$ has been designed, which is known to place the poles of the state-feedback system ($A-BK$) in stable locations. For the observer, a gain matrix $L = \\begin{pmatrix} -4 \\\\ 1 \\end{pmatrix}$ has been chosen.\n\nYour task is to analyze the stability of the complete closed-loop system, which consists of the plant, the observer, and the state-feedback law. Calculate the value of the closed-loop pole with the largest real part. Round your final answer to three significant figures.", "solution": "The stability of the overall observer-based control system is determined by the set of all its closed-loop poles. According to the principle of separation in control theory, the set of poles of the combined system (plant with an observer-based controller) is the union of the set of poles of the state-feedback regulator and the set of poles of the observer.\n\nWe need to find these two sets of poles independently.\n\nFirst, we determine the poles of the state-feedback regulator. These are the eigenvalues of the matrix $(A-BK)$. The state-feedback gain is given as $K = \\begin{pmatrix} 11 & 4 \\end{pmatrix}$.\nThe matrix $(A-BK)$ is calculated as:\n$$\nA - BK = \\begin{pmatrix} 0 & 1 \\\\ 3 & -2 \\end{pmatrix} - \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix} \\begin{pmatrix} 11 & 4 \\end{pmatrix} = \\begin{pmatrix} 0 & 1 \\\\ 3 & -2 \\end{pmatrix} - \\begin{pmatrix} 0 & 0 \\\\ 11 & 4 \\end{pmatrix} = \\begin{pmatrix} 0 & 1 \\\\ -8 & -6 \\end{pmatrix}\n$$\nThe poles are the roots of the characteristic equation, $\\det(\\lambda I - (A-BK)) = 0$.\n$$\n\\det\\left( \\begin{pmatrix} \\lambda & 0 \\\\ 0 & \\lambda \\end{pmatrix} - \\begin{pmatrix} 0 & 1 \\\\ -8 & -6 \\end{pmatrix} \\right) = \\det\\begin{pmatrix} \\lambda & -1 \\\\ 8 & \\lambda+6 \\end{pmatrix} = 0\n$$\n$$\n\\lambda(\\lambda+6) - (-1)(8) = \\lambda^{2} + 6\\lambda + 8 = 0\n$$\nFactoring this polynomial gives:\n$$\n(\\lambda+2)(\\lambda+4) = 0\n$$\nSo, the poles of the state-feedback regulator are $\\lambda_{1} = -2$ and $\\lambda_{2} = -4$. Both poles have negative real parts, confirming that the controller is stabilizing.\n\nSecond, we determine the poles of the state observer. These are the eigenvalues of the matrix $(A-LC)$. The observer gain is given as $L = \\begin{pmatrix} -4 \\\\ 1 \\end{pmatrix}$.\nThe matrix $(A-LC)$ is calculated as:\n$$\nA - LC = \\begin{pmatrix} 0 & 1 \\\\ 3 & -2 \\end{pmatrix} - \\begin{pmatrix} -4 \\\\ 1 \\end{pmatrix} \\begin{pmatrix} 1 & 0 \\end{pmatrix} = \\begin{pmatrix} 0 & 1 \\\\ 3 & -2 \\end{pmatrix} - \\begin{pmatrix} -4 & 0 \\\\ 1 & 0 \\end{pmatrix} = \\begin{pmatrix} 4 & 1 \\\\ 2 & -2 \\end{pmatrix}\n$$\nThe observer poles are the roots of the characteristic equation, $\\det(\\lambda I - (A-LC)) = 0$.\n$$\n\\det\\left( \\begin{pmatrix} \\lambda & 0 \\\\ 0 & \\lambda \\end{pmatrix} - \\begin{pmatrix} 4 & 1 \\\\ 2 & -2 \\end{pmatrix} \\right) = \\det\\begin{pmatrix} \\lambda-4 & -1 \\\\ -2 & \\lambda+2 \\end{pmatrix} = 0\n$$\n$$\n(\\lambda-4)(\\lambda+2) - (-1)(-2) = \\lambda^{2} - 2\\lambda - 8 - 2 = \\lambda^{2} - 2\\lambda - 10 = 0\n$$\nWe use the quadratic formula, $\\lambda = \\frac{-b \\pm \\sqrt{b^{2}-4ac}}{2a}$, to find the roots of this equation, with $a=1$, $b=-2$, and $c=-10$.\n$$\n\\lambda = \\frac{-(-2) \\pm \\sqrt{(-2)^{2} - 4(1)(-10)}}{2(1)} = \\frac{2 \\pm \\sqrt{4 + 40}}{2} = \\frac{2 \\pm \\sqrt{44}}{2} = 1 \\pm \\sqrt{11}\n$$\nSo, the poles of the observer are $\\lambda_{3} = 1 + \\sqrt{11}$ and $\\lambda_{4} = 1 - \\sqrt{11}$. Because the pole $1 + \\sqrt{11}$ has a positive real part, the observer is unstable.\n\nThe set of all closed-loop poles for the complete system is the union of these two sets: $\\{-2, -4, 1 + \\sqrt{11}, 1 - \\sqrt{11}\\}$.\n\nThe question asks for the pole with the largest real part. We compare the real parts of all four poles:\n$\\text{Re}(-2) = -2$\n$\\text{Re}(-4) = -4$\n$\\text{Re}(1 + \\sqrt{11}) = 1 + \\sqrt{11} \\approx 1 + 3.3166 = 4.3166$\n$\\text{Re}(1 - \\sqrt{11}) = 1 - \\sqrt{11} \\approx 1 - 3.3166 = -2.3166$\n\nThe pole with the largest real part is $1 + \\sqrt{11}$. We need to provide its numerical value rounded to three significant figures.\nValue $= 1 + \\sqrt{11} \\approx 4.3166247...$\nRounding to three significant figures, we get $4.32$.\nSince there is a pole with a positive real part, the overall system is unstable, despite the controller design being stable.", "answer": "$$\\boxed{4.32}$$", "id": "1601363"}]}