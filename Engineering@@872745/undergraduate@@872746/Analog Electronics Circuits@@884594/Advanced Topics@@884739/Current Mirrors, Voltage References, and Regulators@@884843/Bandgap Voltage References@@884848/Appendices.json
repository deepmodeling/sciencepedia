{"hands_on_practices": [{"introduction": "The ultimate goal of a voltage reference is stability, and the most common challenge to this stability is temperature fluctuation. This first exercise introduces the fundamental metric used to quantify this performance: the Temperature Coefficient (TC). By calculating the average TC from measured data, you will practice a crucial skill for evaluating and comparing the quality of any voltage reference circuit.", "problem": "A crucial characteristic of a voltage reference circuit is its stability with respect to temperature fluctuations. This is quantified by the average Temperature Coefficient (TC), which measures the relative change in output voltage per degree of temperature change.\n\nAn engineer performs a thermal test on a new bandgap voltage reference design. The device is subjected to a temperature sweep. At an initial temperature of $T_1 = 0.0^{\\circ}\\text{C}$, the output reference voltage is measured to be $V_1 = 1.250 \\text{ V}$. The temperature is then stabilized at a final value of $T_2 = 100.0^{\\circ}\\text{C}$, where the output voltage is measured to be $V_2 = 1.251 \\text{ V}$. For the purpose of this analysis, the reference voltage for normalization is considered to be the voltage at the initial temperature, $V_1$.\n\nCalculate the average temperature coefficient for this device over the given temperature range. Express the result in units of parts per million per degree Celsius (ppm/$^{\\circ}$C). Round your final answer to three significant figures.", "solution": "The average temperature coefficient over a finite temperature interval is defined as the fractional change in output per unit temperature change, normalized to a chosen reference voltage. Using the specified normalization to the initial voltage $V_{1}$, the average temperature coefficient is\n$$\n\\text{TC}_{\\text{avg}}=\\frac{V_{2}-V_{1}}{V_{1}\\left(T_{2}-T_{1}\\right)} /{}^{\\circ}\\text{C}.\n$$\nSubstituting the given values $V_{1}=1.250\\ \\text{V}$, $V_{2}=1.251\\ \\text{V}$, $T_{1}=0.0^{\\circ}\\text{C}$, and $T_{2}=100.0^{\\circ}\\text{C}$, we compute the increments\n$$\n\\Delta V=V_{2}-V_{1}=1.251-1.250=0.001\\ \\text{V}, \\qquad \\Delta T=T_{2}-T_{1}=100.0-0.0=100.0\\ {}^{\\circ}\\text{C}.\n$$\nTherefore,\n$$\n\\text{TC}_{\\text{avg}}=\\frac{0.001}{1.250\\times 100.0}\\ /{}^{\\circ}\\text{C}\n=\\frac{0.001}{125}\\ /{}^{\\circ}\\text{C}\n=8.0\\times 10^{-6}\\ /{}^{\\circ}\\text{C}.\n$$\nTo express this in parts per million per degree Celsius, note that $1\\ \\text{ppm} = 10^{-6}$, hence\n$$\n\\text{TC}_{\\text{avg}}=8.0\\ \\text{ppm}/{}^{\\circ}\\text{C}.\n$$\nRounding to three significant figures gives $8.00\\ \\text{ppm}/{}^{\\circ}\\text{C}$.", "answer": "$$\\boxed{8.00}$$", "id": "1282313"}, {"introduction": "The core principle of a bandgap reference lies in balancing two opposing temperature effects. One component, the base-emitter voltage ($V_{BE}$) of a bipolar junction transistor (BJT), naturally decreases with temperature, making it a \"Complementary to Absolute Temperature\" (CTAT) source. The challenge is creating a voltage that does the opposite—one that is \"Proportional to Absolute Temperature\" (PTAT). This practice delves into the heart of PTAT voltage generation by examining how a precise voltage difference, $\\Delta V_{BE}$, can be created using two BJTs with mismatched emitter areas.", "problem": "In the design of a temperature-stable bandgap voltage reference, a key component is a pair of Bipolar Junction Transistors (BJTs), Q1 and Q2. The two transistors are fabricated on the same silicon die and are assumed to be identical in all aspects except for their emitter areas. The emitter junction area of transistor Q2 is 8 times larger than that of transistor Q1. In the circuit, both transistors are operated at the same collector current. The relationship between collector current ($I_C$) and base-emitter voltage ($V_{BE}$) is governed by the simplified Ebers-Moll equation $I_C = I_S \\exp(V_{BE}/V_T)$, where $I_S$ is the saturation current and $V_T$ is the thermal voltage. The saturation current $I_S$ is directly proportional to the emitter junction area. The system operates at a temperature of $T = 300 \\text{ K}$. Use the Boltzmann constant, $k = 1.3806 \\times 10^{-23} \\text{ J/K}$, and the elementary charge, $q = 1.6022 \\times 10^{-19} \\text{ C}$.\n\nCalculate the difference in their base-emitter voltages, defined as $\\Delta V_{BE} = V_{BE1} - V_{BE2}$. Express your answer in millivolts (mV) and round it to three significant figures.", "solution": "Given the simplified Ebers-Moll relation for a BJT operated in forward active region,\n$$\nI_{C} = I_{S}\\,\\exp\\!\\left(\\frac{V_{BE}}{V_{T}}\\right),\n$$\nwith thermal voltage defined as\n$$\nV_{T} = \\frac{kT}{q},\n$$\nand knowing that the saturation current is proportional to emitter area, we have for the two transistors operated at the same collector current,\n$$\nI_{C} = I_{S1}\\,\\exp\\!\\left(\\frac{V_{BE1}}{V_{T}}\\right) = I_{S2}\\,\\exp\\!\\left(\\frac{V_{BE2}}{V_{T}}\\right),\n$$\nwith $I_{S2} = 8 I_{S1}$ because the emitter area of Q2 is eight times that of Q1.\n\nDividing the two expressions gives\n$$\n\\frac{I_{S1}\\,\\exp\\!\\left(\\frac{V_{BE1}}{V_{T}}\\right)}{I_{S1}\\,\\exp\\!\\left(\\frac{V_{BE2}}{V_{T}}\\right)} = \\frac{I_{S2}}{I_{S1}} \\implies \\exp\\!\\left(\\frac{V_{BE1}-V_{BE2}}{V_{T}}\\right) = 8.\n$$\nTaking the natural logarithm,\n$$\n\\Delta V_{BE} \\equiv V_{BE1} - V_{BE2} = V_{T}\\,\\ln(8).\n$$\n\nCompute $V_{T}$ at $T=300\\,\\text{K}$ using $k = 1.3806 \\times 10^{-23}\\,\\text{J/K}$ and $q = 1.6022 \\times 10^{-19}\\,\\text{C}$:\n$$\nV_{T} = \\frac{kT}{q} = \\frac{(1.3806 \\times 10^{-23})(300)}{1.6022 \\times 10^{-19}}\\,\\text{V}\n= \\frac{4.1418 \\times 10^{-21}}{1.6022 \\times 10^{-19}}\\,\\text{V}\n= \\left(\\frac{4.1418}{1.6022}\\right)\\times 10^{-2}\\,\\text{V}\n\\approx 2.585 \\times 10^{-2}\\,\\text{V}.\n$$\nThen\n$$\n\\Delta V_{BE} = V_{T}\\,\\ln(8) \\approx (0.02585\\,\\text{V})\\,(2.07944) = 0.053753\\,\\text{V} = 53.753\\,\\text{mV}.\n$$\nRounding to three significant figures gives\n$$\n\\Delta V_{BE} \\approx 53.8\\,\\text{mV}.\n$$", "answer": "$$\\boxed{53.8}$$", "id": "1282339"}, {"introduction": "With both a CTAT voltage source ($V_{BE}$) and a PTAT voltage source (derived from $\\Delta V_{BE}$) available, the final design step is to combine them to achieve a temperature-invariant output. This is accomplished by scaling the PTAT component and adding it to the CTAT component. This problem guides you through the process of balancing the temperature coefficients to achieve a net-zero TC and, crucially, explores the real-world implications of component imperfections on the circuit's final performance.", "problem": "An analog circuit designer is creating a bandgap voltage reference. The output voltage, $V_{REF}$, is generated by summing a voltage with a negative temperature coefficient and a voltage with a positive temperature coefficient. This can be modeled by the equation:\n$$V_{REF} = V_{BE} + M \\cdot \\ln(N) \\cdot V_T$$\nHere, $V_{BE}$ is the base-emitter voltage of a key bipolar junction transistor (BJT), which acts as a Complementary To Absolute Temperature (CTAT) voltage source. The term $M \\cdot \\ln(N) \\cdot V_T$ represents the Proportional To Absolute Temperature (PTAT) voltage component.\n\nThe parameters in this model are defined as follows:\n- $V_T = \\frac{kT}{q}$ is the thermal voltage, where $T$ is the absolute temperature.\n- $k = 1.3806 \\times 10^{-23} \\text{ J/K}$ is the Boltzmann constant.\n- $q = 1.6022 \\times 10^{-19} \\text{ C}$ is the elementary charge.\n- $N$ is a dimensionless constant representing the ratio of emitter areas of two transistors in the circuit, given as $N=10$.\n- $M$ is a dimensionless resistor ratio, $M = R_2/R_1$, which is used to scale the PTAT voltage.\n- The temperature coefficient of the base-emitter voltage at the operating point is constant and given by $\\frac{dV_{BE}}{dT} = -2.10 \\text{ mV/K}$.\n\nThe circuit is designed to have a zero temperature coefficient ($\\frac{dV_{REF}}{dT} = 0$) at its nominal operating temperature by carefully choosing the resistor ratio $M$. However, due to a fabrication error, the actual resistor ratio $M$ is 15% larger than the ideal value required to achieve this zero temperature coefficient.\n\nCalculate the resulting temperature coefficient of the output voltage, $\\frac{dV_{REF}}{dT}$. Express your final answer in microvolts per Kelvin (µV/K), rounded to three significant figures.", "solution": "We are given the bandgap reference model\n$$V_{REF} = V_{BE} + M \\cdot \\ln(N) \\cdot V_{T},$$\nwith $V_{T} = \\frac{k T}{q}$. Differentiating with respect to $T$, treating $M$ and $N$ as temperature-independent constants,\n$$\\frac{dV_{REF}}{dT} = \\frac{dV_{BE}}{dT} + M \\cdot \\ln(N) \\cdot \\frac{dV_{T}}{dT}.$$\nSince $V_{T} = \\frac{k T}{q}$, we have\n$$\\frac{dV_{T}}{dT} = \\frac{k}{q}.$$\nTherefore,\n$$\\frac{dV_{REF}}{dT} = \\frac{dV_{BE}}{dT} + M \\cdot \\ln(N) \\cdot \\frac{k}{q}.$$\n\nAt the nominal operating temperature, the ideal resistor ratio $M_{\\text{ideal}}$ is chosen so that the temperature coefficient is zero:\n$$0 = \\frac{dV_{BE}}{dT} + M_{\\text{ideal}} \\cdot \\ln(N) \\cdot \\frac{k}{q}.$$\nHence,\n$$M_{\\text{ideal}} \\cdot \\ln(N) \\cdot \\frac{k}{q} = -\\frac{dV_{BE}}{dT}.$$\n\nDue to the fabrication error, the actual ratio is $M_{\\text{act}} = (1 + \\delta) M_{\\text{ideal}}$ with $\\delta = 0.15$. The resulting temperature coefficient becomes\n$$\\left.\\frac{dV_{REF}}{dT}\\right|_{\\text{act}} = \\frac{dV_{BE}}{dT} + M_{\\text{act}} \\cdot \\ln(N) \\cdot \\frac{k}{q}.$$\nSubstitute $M_{\\text{act}} = (1 + \\delta) M_{\\text{ideal}}$ and use the zero-TC condition:\n$$\\left.\\frac{dV_{REF}}{dT}\\right|_{\\text{act}} = \\frac{dV_{BE}}{dT} + (1 + \\delta)\\left(-\\frac{dV_{BE}}{dT}\\right) = -\\delta \\frac{dV_{BE}}{dT}.$$\n\nWith $\\frac{dV_{BE}}{dT} = -2.10 \\text{ mV/K}$ and $\\delta = 0.15$,\n$$\\left.\\frac{dV_{REF}}{dT}\\right|_{\\text{act}} = -0.15 \\times (-2.10 \\text{ mV/K}) = 0.315 \\text{ mV/K}.$$\nConverting to microvolts per Kelvin,\n$$0.315 \\text{ mV/K} = 315 \\text{ microvolts per Kelvin}.$$\nRounded to three significant figures, the result is $315$ in the requested unit.", "answer": "$$\\boxed{315}$$", "id": "1282324"}]}