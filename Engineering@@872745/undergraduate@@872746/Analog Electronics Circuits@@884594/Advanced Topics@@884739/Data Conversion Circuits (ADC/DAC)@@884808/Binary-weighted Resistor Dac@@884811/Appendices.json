{"hands_on_practices": [{"introduction": "To truly understand how a digital word transforms into an analog voltage, we must start with the fundamental calculation. This first exercise walks you through the core mechanics of a binary-weighted resistor DAC, applying Kirchhoff's Current Law to an ideal inverting summer to find the precise output voltage for a given digital input. Mastering this calculation is the foundation for analyzing and designing more complex DAC systems [@problem_id:1282973].", "problem": "An engineer is designing a simple waveform generator using a 4-bit binary-weighted resistor Digital-to-Analog Converter (DAC). The DAC is built around an ideal operational amplifier in an inverting summer configuration. The digital input is a 4-bit word, denoted as $d_3d_2d_1d_0$, where $d_3$ is the Most Significant Bit (MSB) and $d_0$ is the Least Significant Bit (LSB). The resistor connected to the MSB input ($d_3$) has a resistance of $R$. The subsequent resistors are binary weighted, such that the resistor for bit $d_i$ has a resistance of $2^{3-i}R$. The feedback resistor of the operational amplifier, $R_f$, is set to be equal to the base resistor $R$, i.e., $R_f = R$. The digital inputs control switches. A digital '1' connects the corresponding resistor to a reference voltage, $V_{ref}$, while a digital '0' connects it to ground (0 V). The reference voltage is given as $V_{ref} = 2.56$ V. If the digital input word is 1010, what is the resulting analog output voltage, $V_{out}$? Provide your answer in volts (V).", "solution": "For an ideal inverting summing amplifier, the inverting input is at virtual ground, so the sum of currents through the input resistors equals the current through the feedback resistor. Using Ohm’s law and KCL at the summing node, we have\n$$\n\\frac{-V_{out}}{R_{f}}=\\sum_{i=0}^{3}\\frac{V_{i}}{R_{i}},\n$$\nso\n$$\nV_{out}=-R_{f}\\sum_{i=0}^{3}\\frac{V_{i}}{R_{i}}.\n$$\nEach input voltage is $V_{i}=d_{i}V_{ref}$, and the input resistances are $R_{i}=2^{3-i}R$, with $R_{f}=R$. Therefore,\n$$\nV_{out}=-R\\sum_{i=0}^{3}\\frac{d_{i}V_{ref}}{2^{3-i}R}=-V_{ref}\\sum_{i=0}^{3}\\frac{d_{i}}{2^{3-i}}.\n$$\nFor the input word $d_{3}d_{2}d_{1}d_{0}=1010$, the sum evaluates to\n$$\n\\sum_{i=0}^{3}\\frac{d_{i}}{2^{3-i}}=\\frac{1}{2^{0}}+\\frac{0}{2^{1}}+\\frac{1}{2^{2}}+\\frac{0}{2^{3}}=1+\\frac{1}{4}=\\frac{5}{4}.\n$$\nThus,\n$$\nV_{out}=-V_{ref}\\cdot\\frac{5}{4}.\n$$\nSubstituting $V_{ref}=2.56$,\n$$\nV_{out}=-2.56\\cdot\\frac{5}{4}=-3.2.\n$$", "answer": "$$\\boxed{-3.2}$$", "id": "1282973"}, {"introduction": "Moving from theory to application, a critical task for an engineer is determining the necessary specifications for a component to meet a system's needs. This practice problem shifts our focus to design, asking you to determine the minimum number of bits a DAC requires to achieve a desired resolution in a practical, albeit hypothetical, laser-scanning system. This exercise highlights the direct link between the digital precision of the DAC and the performance of the overall analog system [@problem_id:1282904].", "problem": "A custom-built laser scanning system uses an $n$-bit binary-weighted resistor Digital-to-Analog Converter (DAC) to control the angular position of a mirror. The DAC has a reference voltage of $V_{ref} = 8.00 \\text{ V}$. The full-scale range (FSR) voltage of the DAC is defined to be equal to this reference voltage, $V_{FSR} = V_{ref}$. The angular position of the mirror, $\\alpha$, is linearly proportional to the DAC's output voltage, $V_{out}$. The system is calibrated such that an ideal output voltage equal to the FSR voltage ($V_{out} = V_{FSR}$) would correspond to a maximum angle of $\\alpha_{max} = 1.50^\\circ$ relative to the zero position. For the scanner to function as required in an optics experiment, the smallest incremental change in angle (the angular resolution) must be no more than $0.0040^\\circ$.\n\nDetermine the minimum integer number of bits, $n$, that the DAC must have to meet this design specification.", "solution": "The mirror angle is linearly proportional to the DAC output voltage, so a one-code change of the DAC produces a proportional angular change. For an ideal unipolar $n$-bit DAC with codes $0$ to $2^{n}-1$ spanning the full-scale range $V_{FSR}$, the ideal voltage step (1 LSB) is\n$$\n\\Delta V=\\frac{V_{FSR}}{2^{n}-1}.\n$$\nBecause $\\alpha$ is proportional to $V_{out}$ and $V_{out}=V_{FSR}$ corresponds to $\\alpha_{max}$, the angular step per code is\n$$\n\\Delta \\alpha=\\frac{\\alpha_{max}}{V_{FSR}}\\Delta V=\\frac{\\alpha_{max}}{2^{n}-1}.\n$$\nTo meet the required angular resolution, we must have\n$$\n\\Delta \\alpha \\le \\alpha_{req} \\quad \\Longrightarrow \\quad \\frac{\\alpha_{max}}{2^{n}-1}\\le \\alpha_{req}.\n$$\nSolving for $n$ gives\n$$\n2^{n}-1 \\ge \\frac{\\alpha_{max}}{\\alpha_{req}}.\n$$\nWith $\\alpha_{max}=1.50$ and $\\alpha_{req}=0.0040$ (the units cancel),\n$$\n\\frac{\\alpha_{max}}{\\alpha_{req}}=\\frac{1.50}{0.0040}=375,\n$$\nso\n$$\n2^{n}-1 \\ge 375 \\quad \\Longrightarrow \\quad 2^{n}\\ge 376.\n$$\nThe smallest integer $n$ satisfying this is $n=9$, since $2^{8}=256  376$ and $2^{9}=512\\ge 376$.", "answer": "$$\\boxed{9}$$", "id": "1282904"}, {"introduction": "Ideal components exist only in textbooks; real-world circuits are subject to manufacturing defects and imperfections. This final practice explores the consequences of such a fault—an open-circuited resistor—on a DAC's performance. By calculating the Differential Non-Linearity (DNL), you will learn how to quantify the deviation from ideal behavior and understand critical concepts like non-monotonicity, which can arise from seemingly simple hardware failures [@problem_id:1282910].", "problem": "Consider a 4-bit binary-weighted resistor Digital-to-Analog Converter (DAC) implemented with an ideal operational amplifier in an inverting summer configuration. The digital input word is represented as $(b_3 b_2 b_1 b_0)_2$, where $b_3$ is the Most Significant Bit (MSB). The input resistors corresponding to bits $b_3, b_2, b_1,$ and $b_0$ are $R, 2R, 4R,$ and $8R$, respectively. The feedback resistor is $R_f = R/2$. The logic '1' level corresponds to a voltage $V_{ref}$, and the logic '0' level corresponds to ground (0 V).\n\nA manufacturing defect causes the input resistor corresponding to bit $b_1$ to be open-circuited. For this faulty DAC, we analyze its performance using the Differential Non-Linearity (DNL) metric. The DNL for the transition from digital code $D$ to $D+1$ is defined as:\n$$DNL(D) = \\frac{V_{out}(D+1) - V_{out}(D)}{V_{LSB, ideal}} - 1$$\nwhere $V_{out}(D)$ is the output voltage of the faulty DAC for the digital input $D$, and $V_{LSB, ideal}$ is the voltage change corresponding to one Least Significant Bit (LSB) in the *ideal, non-faulty* version of the same DAC.\n\nCalculate the maximum magnitude of the DNL, $\\max|DNL(D)|$, across all possible transitions from an integer code $D$ to $D+1$ (for $D$ from 0 to 14).", "solution": "For an ideal inverting summer with input resistors $R,2R,4R,8R$ for $(b_{3},b_{2},b_{1},b_{0})$ and feedback $R_{f}=R/2$, the output is\n$$\nV_{\\text{out,ideal}}(D)=-\\frac{R_{f}}{R}V_{\\text{ref}}\\left(b_{3}+\\frac{b_{2}}{2}+\\frac{b_{1}}{4}+\\frac{b_{0}}{8}\\right)\n=-\\frac{V_{\\text{ref}}}{2}\\left(b_{3}+\\frac{b_{2}}{2}+\\frac{b_{1}}{4}+\\frac{b_{0}}{8}\\right).\n$$\nSince $D=b_{3}2^{3}+b_{2}2^{2}+b_{1}2^{1}+b_{0}2^{0}$, we have\n$$\nb_{3}+\\frac{b_{2}}{2}+\\frac{b_{1}}{4}+\\frac{b_{0}}{8}=\\frac{D}{8},\n$$\nso\n$$\nV_{\\text{out,ideal}}(D)=-\\frac{V_{\\text{ref}}}{16}D.\n$$\nHence the ideal one-code step is constant and signed,\n$$\nV_{LSB,\\text{ideal}}=V_{\\text{out,ideal}}(D+1)-V_{\\text{out,ideal}}(D)=-\\frac{V_{\\text{ref}}}{16}.\n$$\n\nWith the $b_{1}$ input resistor open, the $b_{1}$ branch contributes no current, so the faulty output is\n$$\nV_{\\text{out}}(D)=-\\frac{V_{\\text{ref}}}{2}\\left(b_{3}+\\frac{b_{2}}{2}+\\frac{b_{0}}{8}\\right),\n$$\nand the step $s(D)\\equiv V_{\\text{out}}(D+1)-V_{\\text{out}}(D)$ is determined by which of $b_{3},b_{2},b_{0}$ toggle when incrementing $D$ to $D+1$ (the $b_{1}$ toggles are irrelevant).\n\nClassifying $D\\to D+1$ transitions:\n- If $D$ is even, then $b_{0}:0\\to 1$ and no carry; only $b_{0}$ toggles. Thus\n$$\ns(D)=-\\frac{V_{\\text{ref}}}{2}\\left(\\frac{1}{8}\\right)=-\\frac{V_{\\text{ref}}}{16}.\n$$\n- If $D$ is odd with $b_{1}=0$, then $b_{0}:1\\to 0$ with a carry to $b_{1}:0\\to 1$ (ignored), no further carry. Only $b_{0}$ contributes:\n$$\ns(D)=+\\frac{V_{\\text{ref}}}{16}.\n$$\n- If $D$ is odd with $b_{1}=1$ and $b_{2}=0$ (patterns $\\cdots 0\\,1\\,1$), then $b_{0}:1\\to 0$, $b_{1}:1\\to 0$ with carry to $b_{2}:0\\to 1$. The contributing toggles are $b_{0}:+V_{\\text{ref}}/16$ and $b_{2}:-V_{\\text{ref}}/4$, giving\n$$\ns(D)=\\frac{V_{\\text{ref}}}{16}-\\frac{V_{\\text{ref}}}{4}=-\\frac{3V_{\\text{ref}}}{16}.\n$$\n- If $D$ is odd with $b_{1}=1$ and $b_{2}=1$ (pattern $0111$ at $D=7$ within range), then $b_{0}:1\\to 0$, $b_{1}:1\\to 0$, $b_{2}:1\\to 0$ and carry to $b_{3}:0\\to 1$. The contributing toggles are $b_{0}:+V_{\\text{ref}}/16$, $b_{2}:+V_{\\text{ref}}/4$, $b_{3}:-V_{\\text{ref}}/2$, so\n$$\ns(D)=\\frac{V_{\\text{ref}}}{16}+\\frac{V_{\\text{ref}}}{4}-\\frac{V_{\\text{ref}}}{2}=-\\frac{3V_{\\text{ref}}}{16}.\n$$\n\nTherefore, across all $D=0,\\ldots,14$, the faulty step values are\n$$\ns(D)\\in\\left\\{-\\frac{V_{\\text{ref}}}{16},\\;+\\frac{V_{\\text{ref}}}{16},\\;-\\frac{3V_{\\text{ref}}}{16}\\right\\}.\n$$\nUsing the given definition\n$$\nDNL(D)=\\frac{s(D)}{V_{LSB,\\text{ideal}}}-1=\\frac{s(D)}{-V_{\\text{ref}}/16}-1,\n$$\nwe obtain the three possible DNL values:\n$$\n\\begin{aligned}\ns(D)=-\\frac{V_{\\text{ref}}}{16} \\Rightarrow DNL(D)=1-1=0,\\\\\ns(D)=+\\frac{V_{\\text{ref}}}{16} \\Rightarrow DNL(D)=-1-1=-2,\\\\\ns(D)=-\\frac{3V_{\\text{ref}}}{16} \\Rightarrow DNL(D)=3-1=2.\n\\end{aligned}\n$$\nHence the maximum magnitude across all transitions is\n$$\n\\max_{D\\in\\{0,\\ldots,14\\}}|DNL(D)|=2.\n$$", "answer": "$$\\boxed{2}$$", "id": "1282910"}]}