{"hands_on_practices": [{"introduction": "Mastering precision rectifiers begins with understanding their ideal behavior and core function. This exercise challenges you to determine the output of a precision half-wave rectifier for a custom triangular input waveform, a common task in signal conditioning. By calculating the average DC value of the output, you will practice a fundamental analysis technique used to characterize rectified signals. [@problem_id:1326258]", "problem": "An engineer is designing a signal conditioning circuit to process the output of a specialized sensor. The sensor's output, $V_{in}(t)$, is a periodic triangular waveform with a period of $T$. The waveform linearly ramps up from a minimum voltage of $V_{min} = -1.0$ V at $t=0$ to a maximum voltage of $V_{max} = +5.0$ V at $t=T/2$, and then linearly ramps down back to $V_{min}$ at $t=T$.\n\nThe conditioning circuit is a non-inverting precision half-wave rectifier built using an ideal operational amplifier (op-amp) and ideal diodes. The circuit is designed such that its output voltage, $V_{out}(t)$, is equal to the input voltage, $V_{in}(t)$, when $V_{in}(t)$ is positive, and $V_{out}(t)$ is zero when $V_{in}(t)$ is negative or zero.\n\nCalculate the average Direct Current (DC) value of the output voltage $V_{out}(t)$. Express your answer in Volts, rounded to three significant figures.", "solution": "The average DC value over one period is defined by\n$$\n\\overline{V}_{\\text{out}}=\\frac{1}{T}\\int_{0}^{T} V_{\\text{out}}(t)\\,dt.\n$$\nFor a non-inverting precision half-wave rectifier with ideal components, $V_{\\text{out}}(t)=V_{\\text{in}}(t)$ when $V_{\\text{in}}(t)>0$ and $V_{\\text{out}}(t)=0$ otherwise.\n\nThe input triangular waveform ramps from $V_{\\min}=-1$ at $t=0$ to $V_{\\max}=5$ at $t=T/2$, then back to $-1$ at $t=T$. The rising segment is\n$$\nV_{\\text{in}}(t)=-1+\\frac{5-(-1)}{T/2}\\,t=-1+\\frac{12}{T}t,\\quad 0\\le t\\le \\frac{T}{2},\n$$\nwhich crosses zero at $-1+\\frac{12}{T}t=0\\Rightarrow t=\\frac{T}{12}$. The falling segment is\n$$\nV_{\\text{in}}(t)=5+\\frac{-1-5}{T/2}\\left(t-\\frac{T}{2}\\right)=11-\\frac{12}{T}t,\\quad \\frac{T}{2}\\le t\\le T,\n$$\nwhich crosses zero at $11-\\frac{12}{T}t=0\\Rightarrow t=\\frac{11T}{12}$.\n\nTherefore,\n$$\nV_{\\text{out}}(t)=\n\\begin{cases}\n-1+\\frac{12}{T}t,  \\frac{T}{12} \\le t \\le \\frac{T}{2}, \\\\\n11-\\frac{12}{T}t,  \\frac{T}{2} \\le t \\le \\frac{11T}{12}, \\\\\n0,  \\text{otherwise}.\n\\end{cases}\n$$\nCompute the area over the positive intervals:\n$$\n\\int_{\\frac{T}{12}}^{\\frac{T}{2}}\\left(-1+\\frac{12}{T}t\\right)dt=\\left[-t+\\frac{6}{T}t^{2}\\right]_{\\frac{T}{12}}^{\\frac{T}{2}}=\\frac{25}{24}T,\n$$\n$$\n\\int_{\\frac{T}{2}}^{\\frac{11T}{12}}\\left(11-\\frac{12}{T}t\\right)dt=\\left[11t-\\frac{6}{T}t^{2}\\right]_{\\frac{T}{2}}^{\\frac{11T}{12}}=\\frac{25}{24}T.\n$$\nTotal area over one period is\n$$\n\\frac{25}{24}T+\\frac{25}{24}T=\\frac{25}{12}T,\n$$\nso the average DC value is\n$$\n\\overline{V}_{\\text{out}}=\\frac{1}{T}\\cdot\\frac{25}{12}T=\\frac{25}{12}\\ \\text{V}.\n$$\nNumerically, $\\frac{25}{12}=2.083\\ldots$, which rounded to three significant figures is $2.08$.", "answer": "$$\\boxed{2.08}$$", "id": "1326258"}, {"introduction": "While ideal models are excellent for learning, real-world components have imperfections that affect circuit performance. This practice explores the impact of a common fault, diode leakage current, on a precision rectifier's output during its non-conducting cycle. By modeling this non-ideality, you will learn to predict and quantify the small but significant error voltages that distinguish practical circuits from their ideal counterparts. [@problem_id:1326278]", "problem": "A precision rectifier circuit is constructed using an operational amplifier (op-amp), which can be considered ideal except for its output voltage being limited by saturation rails at $+V_{sat}$ and $-V_{sat}$. The input signal, $v_{in}$, is connected to the non-inverting (+) terminal of the op-amp. The op-amp's output terminal is connected to the anode of a faulty diode, $D$. The cathode of this diode is designated as the circuit's output node, $v_{out}$. A feedback path is established by connecting the output node $v_{out}$ directly to the inverting (-) terminal of the op-amp. Finally, a load resistor, $R_{load}$, is connected between the output node $v_{out}$ and ground.\n\nThe diode $D$ is known to be faulty, exhibiting a reverse leakage current. This fault is accurately modeled by considering the diode as an ideal diode in parallel with a large leakage resistance, $R_L$.\n\nGiven the following parameters:\n- Load resistance, $R_{load} = 10.0 \\, \\text{k}\\Omega$\n- Diode leakage resistance, $R_L = 2.00 \\, \\text{M}\\Omega$\n- Op-amp saturation voltage, $V_{sat} = 12.0 \\, \\text{V}$\n\nCalculate the output voltage, $v_{out}$, at an instant when the input voltage is at its most negative value, corresponding to the trough of its cycle. At this instant, $v_{in}$ is equal to $-4.0 \\, \\text{V}$. Express your answer in millivolts (mV), rounded to three significant figures.", "solution": "The problem asks for the output voltage $v_{out}$ of a precision rectifier circuit during its ideally non-conducting cycle. We are given the input voltage at this instant is $v_{in} = -4.0 \\, \\text{V}$.\n\nFirst, let's analyze the state of the operational amplifier (op-amp). The input voltage $v_{in}$ is applied to the non-inverting terminal (+), so $v_{+} = v_{in} = -4.0 \\, \\text{V}$. The inverting terminal (-) is connected to the output, so $v_{-} = v_{out}$. The op-amp's function in a negative feedback configuration is to adjust its output, $v_{op}$, to make $v_{-} = v_{+}$. Therefore, the op-amp attempts to set $v_{out} = -4.0 \\, \\text{V}$.\n\nTo achieve a negative output voltage $v_{out}$, the op-amp's own output, $v_{op}$, which is connected to the anode of the diode $D$, must be even more negative (to overcome the diode's forward voltage drop). A negative voltage at the anode of the diode relative to its cathode ($v_{out}$) will cause the ideal diode part of our model to be reverse-biased.\n\nWhen the ideal diode is reverse-biased, it behaves as an open circuit. This action breaks the negative feedback loop that would normally connect the op-amp's output to its inverting terminal via the diode. When an ideal op-amp's negative feedback loop is open, it behaves as a high-gain comparator. Its output will swing to one of its saturation rails.\n\nThe differential input voltage to the op-amp is $v_d = v_{+} - v_{-}$. At the moment the loop opens, $v_{+} = v_{in}$ and $v_{-}$ is an output voltage that was previously positive or zero. As $v_{in}$ becomes negative, $v_d$ becomes negative. With a negative differential input ($v_d  0$), the op-amp's output voltage, $v_{op}$, will saturate at its negative rail. Therefore, $v_{op} = -V_{sat}$.\n\nNow we can analyze the output part of the circuit. The op-amp's output terminal acts as a voltage source with a value of $-V_{sat}$. This voltage source is connected to the output node $v_{out}$ through the leakage resistance $R_L$ (since the ideal diode part is an open circuit). The output node $v_{out}$ is also connected to ground through the load resistor $R_{load}$.\n\nThe output voltage $v_{out}$ can be found using the voltage divider rule. The node $v_{out}$ is between two resistors, $R_L$ and $R_{load}$, which are connected between a voltage of $-V_{sat}$ and ground (0 V). The formula for the voltage divider is:\n$$v_{out} = (-V_{sat}) \\frac{R_{load}}{R_{load} + R_L}$$\nNote that the value of $v_{in}$ caused the op-amp to saturate, but once saturated, the exact value of $v_{in}$ does not affect the output voltage, which is determined solely by $V_{sat}$, $R_{load}$, and $R_L$.\n\nWe are given the following values:\n$V_{sat} = 12.0 \\, \\text{V}$\n$R_{load} = 10.0 \\, \\text{k}\\Omega = 10.0 \\times 10^{3} \\, \\Omega$\n$R_L = 2.00 \\, \\text{M}\\Omega = 2.00 \\times 10^{6} \\, \\Omega$\n\nSubstituting these values into the equation for $v_{out}$:\n$$v_{out} = -12.0 \\, \\text{V} \\times \\frac{10.0 \\times 10^{3} \\, \\Omega}{10.0 \\times 10^{3} \\, \\Omega + 2.00 \\times 10^{6} \\, \\Omega}$$\n$$v_{out} = -12.0 \\, \\text{V} \\times \\frac{10.0 \\times 10^{3}}{2010 \\times 10^{3}}$$\n$$v_{out} = -12.0 \\, \\text{V} \\times \\frac{10.0}{2010}$$\n$$v_{out} \\approx -12.0 \\times 0.004975124$$\n$$v_{out} \\approx -0.05970149 \\, \\text{V}$$\nThe problem asks for the answer in millivolts (mV). To convert from volts to millivolts, we multiply by 1000:\n$$v_{out} \\approx -0.05970149 \\times 1000 \\, \\text{mV}$$\n$$v_{out} \\approx -59.70149 \\, \\text{mV}$$\nRounding the result to three significant figures, we get:\n$$v_{out} = -59.7 \\, \\text{mV}$$", "answer": "$$\\boxed{-59.7}$$", "id": "1326278"}, {"introduction": "The performance of a precision rectifier can degrade significantly at high frequencies, a challenge not captured by simple static models. This advanced problem guides you to model the output \"glitch\" caused by the combined effects of the op-amp's finite slew rate and the diode's reverse recovery time. Understanding and quantifying these dynamic limitations is essential for designing reliable high-speed analog signal processing systems. [@problem_id:1326303]", "problem": "An engineer is designing a high-frequency data acquisition system using an inverting precision half-wave rectifier. The circuit is built with an operational amplifier (op-amp) and two diodes, D1 and D2, in the standard configuration shown in many textbooks. The input resistor $R_1$ and feedback resistor $R_2$ are of equal value ($R_1 = R_2 = R$). The circuit is intended to produce an output $v_{out} = -v_{in}$ for $v_{in}  0$ and $v_{out} = 0$ for $v_{in}  0$.\n\nHowever, at the high operating frequency, the non-ideal characteristics of the op-amp and diodes create a significant voltage glitch at the output each time the input sinusoid crosses zero from negative to positive. You are tasked with quantifying this glitch based on a simplified model of the transient behavior.\n\nThe input signal is a sinusoid $v_{in}(t) = V_p \\sin(\\omega t)$. The circuit components have the following non-ideal characteristics:\n- The op-amp has a finite slew rate, $SR$. It is otherwise ideal.\n- The diodes (D1 and D2) have a constant forward voltage drop, $V_D$, when conducting. When a diode switches from a conducting (ON) to a non-conducting (OFF) state, it exhibits a reverse recovery time, $t_{rr}$.\n\nThe following simplified model describes the circuit's behavior during the glitch that occurs as $v_{in}(t)$ crosses zero at $t=0$ (from negative to positive):\n1.  At $t=0^-$, the op-amp output voltage is $v_A = -V_D$. For the circuit to switch to the correct state for $v_{in}0$, the op-amp output must swing to $v_A = +V_D$. This transition is limited by the slew rate, so the op-amp output voltage for $t0$ is given by $v_A(t) = -V_D + SR \\cdot t$ until it reaches $+V_D$.\n2.  Diode D2, which was conducting for $t0$, enters its reverse recovery phase at $t=0$. For the duration $0 \\le t \\le t_{rr}$, it is modeled as maintaining its 'ON' state connection, which enforces the relationship $v_{out}(t) = v_A(t) + V_D$. For $t  t_{rr}$, D2 behaves as an open circuit.\n3.  Diode D1 remains an open circuit until the op-amp output $v_A(t)$ reaches $+V_D$, at which point it turns ON.\n4.  If a time interval exists where both diodes are modeled as open circuits, the output node $v_{out}$ is connected only to the op-amp's inverting input $v_-$ via resistor $R_2$. For this scenario, you may assume $v_{out}(t) = v_{in}(t)$.\n5.  For the short duration of the glitch, the input signal can be approximated by $v_{in}(t) \\approx V_p \\omega t$.\n\nThe glitch is considered to terminate at time $t_{end}$, defined as the first moment the circuit reaches a stable configuration that will cause $v_{out}(t)$ to return towards its ideal value of zero.\n\nGiven the following parameters:\n- Peak input voltage, $V_p = 5.0 \\text{ V}$\n- Input signal frequency, $f = 1.0 \\text{ MHz}$ ($\\omega = 2\\pi f$)\n- Diode forward voltage, $V_D = 0.70 \\text{ V}$\n- Op-amp slew rate, $SR = 10.0 \\text{ V}/\\mu\\text{s}$\n- Diode reverse recovery time, $t_{rr} = 50.0 \\text{ ns}$\n\nCalculate the total \"glitch area\", which is defined as the time integral of the output voltage, $\\int_0^{t_{end}} v_{out}(t) dt$. Express your answer in nano-Volt-seconds (nV·s), rounded to three significant figures.", "solution": "We model the inverting precision half-wave rectifier around the zero crossing using the given simplified dynamics. Let the op-amp output be $v_{A}(t)$ and the rectifier output be $v_{out}(t)$. The relevant behaviors are:\n\n- For $t \\ge 0$, the op-amp slews from $v_{A}(0^{-})=-V_{D}$ toward $+V_{D}$ at the finite slew rate $SR$, so\n$$\nv_{A}(t)=-V_{D}+SR\\,t,\n$$\nuntil it reaches $+V_{D}$. The time for this is\n$$\nt_{VD}=\\frac{(+V_{D})-(-V_{D})}{SR}=\\frac{2V_{D}}{SR}.\n$$\n\n- Diode D2 is in reverse recovery during $0 \\le t \\le t_{rr}$ and is modeled as remaining ON, enforcing\n$$\nv_{out}(t)=v_{A}(t)+V_{D}.\n$$\nWith $v_{A}(t)=-V_{D}+SR\\,t$, this gives\n$$\nv_{out}(t)=SR\\,t,\\quad 0 \\le t \\le t_{rr}.\n$$\n\n- Diode D1 remains OFF until $v_{A}(t)$ reaches $+V_{D}$ at $t=t_{VD}$. After D2 exits reverse recovery at $t=t_{rr}$, and before D1 turns ON, both diodes are OFF. In that interval, the output is connected only via $R_{2}$ to the inverting input, and per the model we take\n$$\nv_{out}(t)=v_{in}(t)\\approx V_{p}\\omega t.\n$$\n\n- The glitch terminates at the first moment the circuit reaches the stable configuration for $v_{in}0$, namely D1 ON and D2 OFF, which occurs at $t_{end}=t_{VD}$ provided $t_{rr}t_{VD}$.\n\nWith the given parameters, compute the key times:\n$$\nt_{VD}=\\frac{2V_{D}}{SR},\\qquad t_{rr}\\ \\text{given}.\n$$\nUsing $V_{D}=0.70\\ \\text{V}$ and $SR=10.0\\ \\text{V}/\\mu\\text{s}=1.0\\times 10^{7}\\ \\text{V/s}$,\n$$\nt_{VD}=\\frac{2\\times 0.70}{1.0\\times 10^{7}}=1.4\\times 10^{-7}\\ \\text{s}=140\\ \\text{ns}.\n$$\nSince $t_{rr}=50.0\\ \\text{ns}t_{VD}$, there is an interval $t_{rr}\\le t\\le t_{VD}$ where both diodes are OFF and $v_{out}(t)\\approx V_{p}\\omega t$.\n\nTherefore, the glitch area is the sum of two integrals:\n$$\nA=\\int_{0}^{t_{rr}} v_{out}(t)\\,dt+\\int_{t_{rr}}^{t_{VD}} v_{out}(t)\\,dt\n=\\int_{0}^{t_{rr}} SR\\,t\\,dt+\\int_{t_{rr}}^{t_{VD}} V_{p}\\omega\\,t\\,dt.\n$$\nEvaluate:\n$$\n\\int_{0}^{t_{rr}} SR\\,t\\,dt=\\frac{SR}{2}\\,t_{rr}^{2},\\qquad\n\\int_{t_{rr}}^{t_{VD}} V_{p}\\omega\\,t\\,dt=\\frac{V_{p}\\omega}{2}\\left(t_{VD}^{2}-t_{rr}^{2}\\right).\n$$\nHence\n$$\nA=\\frac{1}{2}\\left[SR\\,t_{rr}^{2}+V_{p}\\omega\\left(t_{VD}^{2}-t_{rr}^{2}\\right)\\right]\n=\\frac{1}{2}\\left[V_{p}\\omega\\,t_{VD}^{2}+\\left(SR-V_{p}\\omega\\right)t_{rr}^{2}\\right],\n$$\nwith $t_{VD}=\\frac{2V_{D}}{SR}$.\n\nNow substitute numerical values. Use $V_{p}=5.0\\ \\text{V}$, $\\omega=2\\pi f=2\\pi\\times 10^{6}\\ \\text{rad/s}$, $SR=1.0\\times 10^{7}\\ \\text{V/s}$, $V_{D}=0.70\\ \\text{V}$, and $t_{rr}=50.0\\times 10^{-9}\\ \\text{s}$. First,\n$$\nt_{VD}^{2}=\\left(\\frac{2V_{D}}{SR}\\right)^{2}=\\frac{(2\\times 0.70)^{2}}{(1.0\\times 10^{7})^{2}}=1.96\\times 10^{-14}\\ \\text{s}^{2},\n$$\n$$\nt_{rr}^{2}=(50.0\\times 10^{-9})^{2}=2.50\\times 10^{-15}\\ \\text{s}^{2},\n$$\nso\n$$\nt_{VD}^{2}-t_{rr}^{2}=1.71\\times 10^{-14}\\ \\text{s}^{2}.\n$$\nCompute each area term:\n$$\nA_{1}=\\frac{SR}{2}\\,t_{rr}^{2}=\\frac{1.0\\times 10^{7}}{2}\\times 2.50\\times 10^{-15}=1.25\\times 10^{-8}\\ \\text{V}\\cdot \\text{s},\n$$\n$$\nV_{p}\\omega=\\left(5.0\\right)\\left(2\\pi\\times 10^{6}\\right)=\\pi\\times 10^{7}\\ \\text{V/s},\n$$\n$$\nA_{2}=\\frac{V_{p}\\omega}{2}\\left(t_{VD}^{2}-t_{rr}^{2}\\right)=\\frac{\\pi\\times 10^{7}}{2}\\times 1.71\\times 10^{-14}=0.855\\,\\pi\\times 10^{-7}\\ \\text{V}\\cdot \\text{s}.\n$$\nNumerically,\n$$\nA_{2}\\approx 2.6860617188\\times 10^{-7}\\ \\text{V}\\cdot \\text{s}.\n$$\nThus\n$$\nA=A_{1}+A_{2}\\approx \\left(1.25\\times 10^{-8}+2.6860617188\\times 10^{-7}\\right)\\ \\text{V}\\cdot \\text{s}=2.8110617188\\times 10^{-7}\\ \\text{V}\\cdot \\text{s}.\n$$\nExpressed in nano-Volt-seconds, use $1\\ \\text{nV}\\cdot \\text{s}=10^{-9}\\ \\text{V}\\cdot \\text{s}$:\n$$\nA\\approx 2.8110617188\\times 10^{-7}\\ \\text{V}\\cdot \\text{s}=281.10617188\\ \\text{nV}\\cdot \\text{s}.\n$$\nRounded to three significant figures, the glitch area is $281$ in units of nV·s.", "answer": "$$\\boxed{281}$$", "id": "1326303"}]}