{"hands_on_practices": [{"introduction": "The journey into active filter design often begins with a practical task: creating a filter that meets a specific frequency requirement. This first exercise [@problem_id:1329867] simulates a common engineering scenario where you must design a Sallen-Key low-pass filter for a target cutoff frequency. More importantly, it introduces the real-world constraint of using standard component values, forcing you to bridge the gap between ideal calculations and practical implementation.", "problem": "An audio engineer is designing a reconstruction filter for the output of a Digital-to-Analog Converter (DAC). The filter's purpose is to smooth the \"stair-step\" output of the DAC, removing high-frequency artifacts. A second-order, unity-gain Sallen-Key low-pass filter topology has been chosen for this task. The design requires a target cutoff frequency of $f_c = 1.5 \\text{ kHz}$.\n\nThe engineer has a stock of high-precision capacitors and will use two identical capacitors, $C_1 = C_2 = C = 10.0 \\text{ nF}$. For simplicity and to achieve a specific filter response, the two resistors in the filter are also chosen to be identical, $R_1 = R_2 = R$.\n\nThe engineer must select a resistor value from a standard E12 series inventory. The available resistance values (in k$\\Omega$) in the relevant range are: {4.7, 5.6, 6.8, 8.2, 10, 12, 15, 18, 22}.\n\nFirst, calculate the ideal resistance $R$ that would perfectly achieve the target cutoff frequency. Then, select the available standard resistor value from the provided list that is closest to this ideal value. Using this selected standard resistor for both $R_1$ and $R_2$, calculate the new, actual cutoff frequency of the filter.\n\nExpress your final answer for the actual cutoff frequency in Hz, rounded to three significant figures.", "solution": "For a second-order, unity-gain Sallen-Key low-pass filter, the pole (natural) frequency is given by\n$$\nf_{0}=\\frac{1}{2\\pi\\sqrt{R_{1}R_{2}C_{1}C_{2}}}.\n$$\nWith identical components $R_{1}=R_{2}=R$ and $C_{1}=C_{2}=C$, this reduces to\n$$\nf_{0}=\\frac{1}{2\\pi R C}.\n$$\nInterpreting the specified cutoff frequency as the pole frequency, the ideal resistance required to achieve the target $f_{c}$ is obtained from\n$$\nR_{\\text{ideal}}=\\frac{1}{2\\pi f_{c} C}.\n$$\nSubstituting $f_{c}=1.5\\times 10^{3}$ and $C=10.0\\times 10^{-9}$,\n$$\nR_{\\text{ideal}}=\\frac{1}{2\\pi\\left(1.5\\times 10^{3}\\right)\\left(10.0\\times 10^{-9}\\right)}=\\frac{1}{3\\pi\\times 10^{-5}}=\\frac{10^{5}}{3\\pi}\\ \\Omega\\approx 1.061\\times 10^{4}\\ \\Omega,\n$$\nso $R_{\\text{ideal}}\\approx 10.6\\ \\text{k}\\Omega$. From the available E12 values {4.7, 5.6, 6.8, 8.2, 10, 12, 15, 18, 22} k$\\Omega$, the closest is $10\\ \\text{k}\\Omega$.\n\nUsing $R=10\\ \\text{k}\\Omega$ and $C=10.0\\ \\text{nF}$, the actual cutoff frequency is\n$$\nf_{c,\\text{actual}}=\\frac{1}{2\\pi R C}=\\frac{1}{2\\pi\\left(10^{4}\\right)\\left(10\\times 10^{-9}\\right)}=\\frac{1}{2\\pi\\times 10^{-4}}=\\frac{10^{4}}{2\\pi}\\ \\text{Hz}\\approx 1.591549\\times 10^{3}\\ \\text{Hz}.\n$$\nRounded to three significant figures, this is\n$$\nf_{c,\\text{actual}}\\approx 1.59\\times 10^{3}\\ \\text{Hz}.\n$$", "answer": "$$\\boxed{1.59\\times 10^{3}}$$", "id": "1329867"}, {"introduction": "While frequency response is a crucial filter characteristic, understanding a filter's behavior in the time domain is equally important, especially when dealing with non-sinusoidal signals like digital pulses or sudden transients. This practice [@problem_id:1329853] shifts our focus from the frequency domain to the time domain by analyzing the step response of a Sallen-Key high-pass filter. By calculating the output voltage at a specific moment after a sudden DC input is applied, you will gain insight into the filter's transient behavior and the fundamental role it plays in shaping signals over time.", "problem": "A unity-gain second-order Sallen-Key High-Pass Filter (HPF) is designed for a signal processing application. The filter is constructed using an ideal operational amplifier. The component selection consists of two identical resistors, $R_1 = R_2 = R$, and two identical capacitors, $C_1 = C_2 = C$. This specific configuration is known to yield a critically damped response (quality factor $Q=0.5$) with a characteristic frequency $\\omega_0 = 1/(RC)$.\n\nThe chosen component values are $R = 10.0 \\text{ k}\\Omega$ and $C = 10.0 \\text{ nF}$. The circuit is initially at rest, with zero voltage across all components and a zero output voltage for all times $t < 0$. At time $t=0$, the input voltage, $v_{in}(t)$, instantly steps from $0$ V to a constant DC voltage of $V_{SS} = 5.00 \\text{ V}$.\n\nCalculate the output voltage, $v_{out}(t)$, of the filter at the specific time $t_f = 50.0\\ \\mu\\text{s}$. Provide your answer in volts, rounded to three significant figures.", "solution": "The problem asks for the output voltage of a second-order Sallen-Key High-Pass Filter (HPF) at a specific time after a DC step voltage is applied to its input. The filter is described as having unity gain ($K=1$) and being critically damped ($Q=0.5$).\n\nFirst, we write down the general transfer function $H(s) = V_{out}(s) / V_{in}(s)$ for a second-order HPF with unity gain:\n$$H(s) = \\frac{s^2}{s^2 + \\frac{\\omega_0}{Q}s + \\omega_0^2}$$\nwhere $\\omega_0$ is the characteristic frequency and $Q$ is the quality factor.\n\nThe problem states that the filter is critically damped, which means $Q=0.5$. Substituting this into the transfer function gives:\n$$H(s) = \\frac{s^2}{s^2 + \\frac{\\omega_0}{0.5}s + \\omega_0^2} = \\frac{s^2}{s^2 + 2\\omega_0 s + \\omega_0^2}$$\nThe denominator is a perfect square:\n$$H(s) = \\frac{s^2}{(s+\\omega_0)^2}$$\n\nNext, we calculate the characteristic frequency $\\omega_0$ using the given component values, $R = 10.0 \\text{ k}\\Omega = 1.00 \\times 10^4 \\Omega$ and $C = 10.0 \\text{ nF} = 1.00 \\times 10^{-8} \\text{ F}$.\n$$\\omega_0 = \\frac{1}{RC} = \\frac{1}{(1.00 \\times 10^4 \\, \\Omega)(1.00 \\times 10^{-8} \\, \\text{F})} = \\frac{1}{1.00 \\times 10^{-4} \\, \\text{s}} = 1.00 \\times 10^4 \\, \\text{rad/s}$$\n\nThe input signal is a step function from $0$ to $V_{SS} = 5.00 \\text{ V}$ at $t=0$. The input voltage is $v_{in}(t) = V_{SS} u(t)$, where $u(t)$ is the Heaviside step function. The Laplace transform of the input signal is:\n$$V_{in}(s) = \\mathcal{L}\\{V_{SS} u(t)\\} = \\frac{V_{SS}}{s}$$\n\nNow, we find the output voltage in the Laplace domain, $V_{out}(s)$, by multiplying the transfer function with the input signal's transform:\n$$V_{out}(s) = H(s) V_{in}(s) = \\left( \\frac{s^2}{(s+\\omega_0)^2} \\right) \\left( \\frac{V_{SS}}{s} \\right) = \\frac{s V_{SS}}{(s+\\omega_0)^2}$$\n\nTo find the output voltage in the time domain, $v_{out}(t)$, we need to compute the inverse Laplace transform of $V_{out}(s)$. We can find this by recognizing that $V_{out}(s)$ is related to a standard Laplace transform pair.\nLet's consider the transform pair $\\mathcal{L}\\{t \\exp(-\\omega_0 t)\\} = \\frac{1}{(s+\\omega_0)^2}$.\nOur expression is $V_{out}(s) = V_{SS} \\frac{s}{(s+\\omega_0)^2}$. We can use the time-domain differentiation property of the Laplace transform, which states that $\\mathcal{L}\\{\\frac{d}{dt}f(t)\\} = sF(s) - f(0^-)$. For a function $f(t)$ that is zero for $t<0$, this simplifies to $\\mathcal{L}\\{\\frac{d}{dt}f(t)\\} = sF(s)$.\n\nLet $F(s) = \\frac{V_{SS}}{(s+\\omega_0)^2}$. The corresponding time-domain function is $f(t) = V_{SS} t \\exp(-\\omega_0 t)$.\nThen, $V_{out}(s) = sF(s)$, so $v_{out}(t) = \\frac{d}{dt}f(t)$.\n$$v_{out}(t) = \\frac{d}{dt} \\left( V_{SS} t \\exp(-\\omega_0 t) \\right)$$\nUsing the product rule for differentiation:\n$$v_{out}(t) = V_{SS} \\left( (1) \\cdot \\exp(-\\omega_0 t) + t \\cdot (-\\omega_0 \\exp(-\\omega_0 t)) \\right)$$\n$$v_{out}(t) = V_{SS} (1 - \\omega_0 t) \\exp(-\\omega_0 t)$$\n\nNow we can calculate the output voltage at the specified time $t_f = 50.0\\ \\mu\\text{s} = 5.00 \\times 10^{-5}\\ \\text{s}$.\nFirst, calculate the dimensionless product $\\omega_0 t_f$:\n$$\\omega_0 t_f = (1.00 \\times 10^4 \\, \\text{rad/s}) \\times (5.00 \\times 10^{-5} \\, \\text{s}) = 0.500$$\n\nSubstitute this and $V_{SS} = 5.00 \\text{ V}$ into the expression for $v_{out}(t)$:\n$$v_{out}(t_f) = 5.00 \\times (1 - 0.500) \\times \\exp(-0.500)$$\n$$v_{out}(t_f) = 5.00 \\times 0.500 \\times \\exp(-0.500)$$\n$$v_{out}(t_f) = 2.50 \\times \\exp(-0.500)$$\n\nNow, we compute the numerical value:\n$$v_{out}(t_f) = 2.50 \\times 0.6065306... \\text{ V} \\approx 1.516326... \\text{ V}$$\n\nThe problem asks for the answer to be rounded to three significant figures.\n$$v_{out}(t_f) \\approx 1.52 \\text{ V}$$", "answer": "$$\\boxed{1.52}$$", "id": "1329853"}, {"introduction": "The Sallen-Key topology is not just for filtering; with a slight modification, it can be transformed into a signal generator. This final practice [@problem_id:1329824] delves into the profound relationship between feedback, gain, and system stability. By determining the critical gain $K$ that pushes the filter's poles onto the imaginary axis, you will discover the precise condition under which the circuit transitions from a stable filter to a sustained oscillator, offering a powerful demonstration of how feedback systems can be engineered for different functions.", "problem": "An electronics engineer is designing a simple sinusoidal signal generator. The design is based on a Sallen-Key second-order low-pass filter topology which can be induced to oscillate.\n\nThe circuit is constructed as follows:\n1.  An ideal Operational Amplifier (op-amp) is configured to act as a non-inverting voltage amplifier, providing a constant positive gain $K$, such that its output voltage is $K$ times the voltage at its non-inverting input terminal.\n2.  The input voltage source for the filter, $V_{in}$, is connected in series with a resistor $R_1$ to a node designated as A.\n3.  Node A is connected to the non-inverting input of the op-amp through a second resistor, $R_2$.\n4.  A capacitor, $C_2$, is connected from the non-inverting input of the op-amp to ground.\n5.  A feedback path is completed by another capacitor, $C_1$, which is connected from the op-amp's output back to node A.\n\nFor this specific design, a simplified component selection is made where the resistors are equal, $R_1 = R_2 = R$, and the capacitors are also equal, $C_1 = C_2 = C$.\n\nThe engineer needs to determine the precise value of the gain $K$ that will cause the circuit to transition from a stable filter to a stable oscillator, producing a sustained sinusoidal voltage at the output even with a zero or transient input. What is the numerical value of this critical gain $K$?", "solution": "To find the critical gain for sustained oscillations, analyze the natural (homogeneous) response with the input set to zero. With $V_{in}=0$, the series resistor $R_{1}=R$ connects node A to ground. Let the node voltages be $V_{a}$ at node A and $V_{b}$ at the op-amp non-inverting input. The op-amp output is $V_{out}=K V_{b}$. The elements are:\n- $R_{1}=R$ from node A to ground,\n- $R_{2}=R$ from node A to node B,\n- $C_{2}=C$ from node B to ground,\n- $C_{1}=C$ from node A to $V_{out}$.\n\nUse Laplace-domain admittances with $G=\\frac{1}{R}$ and $Y_{C}=sC$. Apply KCL at node A, summing currents to connected nodes:\n$$\nG V_{a} + G\\left(V_{a}-V_{b}\\right) + sC\\left(V_{a}-K V_{b}\\right) = 0,\n$$\nwhich simplifies to\n$$\n(2G + sC) V_{a} - (G + s C K) V_{b} = 0.\n$$\nApply KCL at node B:\n$$\nG\\left(V_{b}-V_{a}\\right) + sC V_{b} = 0,\n$$\nwhich gives\n$$\n- G V_{a} + (G + sC) V_{b} = 0.\n$$\nFor a nontrivial solution, the determinant of the coefficient matrix must vanish:\n$$\n\\begin{vmatrix}\n2G + sC & -(G + s C K) \\\\\n- G & G + sC\n\\end{vmatrix}\n= 0.\n$$\nCompute the determinant:\n$$\n(2G + sC)(G + sC) - G(G + s C K) = 0.\n$$\nExpand and collect terms:\n$$\ns^{2} C^{2} + G s C (3 - K) + G^{2} = 0.\n$$\nDivide by $C^{2}$ and define $\\omega_{0} = \\frac{G}{C} = \\frac{1}{RC}$ to obtain the characteristic equation\n$$\ns^{2} + \\omega_{0} (3 - K) s + \\omega_{0}^{2} = 0.\n$$\nSustained sinusoidal oscillation requires purely imaginary roots, i.e., zero damping, which occurs when the coefficient of $s$ is zero:\n$$\n\\omega_{0} (3 - K) = 0 \\quad \\Rightarrow \\quad K = 3.\n$$\nAt $K=3$, the roots are $s = \\pm \\mathrm{j}\\,\\omega_{0}$, indicating sustained oscillations.", "answer": "$$\\boxed{3}$$", "id": "1329824"}]}