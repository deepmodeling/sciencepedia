{"hands_on_practices": [{"introduction": "To truly grasp sampling rate conversion, it's essential to work through the process step-by-step. This first exercise provides a direct, hands-on calculation involving a finite input signal. By manually performing the upsampling, filtering, and downsampling stages, you will build a concrete understanding of the mechanics underlying this powerful signal processing technique [@problem_id:1750673].", "problem": "In a specialized digital signal processing (DSP) unit, a short input signal needs to be resampled. The input is a finite-length causal signal defined as $x[n] = \\{1, 2, 3\\}$ for $n=0, 1, 2$ respectively, and $x[n] = 0$ for all other integer values of $n$.\n\nThis signal is processed by a sampling rate converter that changes the rate by a rational factor of $L/M = 2/3$. The converter consists of three stages:\n1.  An upsampler that increases the sampling rate by a factor of $L=2$.\n2.  An ideal low-pass filter.\n3.  A downsampler that decreases the sampling rate by a factor of $M=3$.\n\nThe ideal low-pass filter is designed to perfectly remove imaging artifacts created by the upsampler without distorting the desired signal components. It has a cutoff frequency of $\\omega_c = \\pi/M$ and a passband gain equal to $L$.\n\nDetermine the values of the output sequence $y[n]$ for the indices $n = -1, 0, 1, 2, 3$.", "solution": "The input is $x[n]=\\{1,2,3\\}$ for $n=0,1,2$ and zero otherwise. The converter performs upsampling by $L=2$, ideal low-pass filtering with passband gain $L$ and cutoff $\\omega_{c}=\\pi/M=\\pi/3$, and downsampling by $M=3$.\n\nUpsampling by $L=2$ yields $u[n]=x[n/2]$ for even $n$, and $u[n]=0$ for odd $n$. Equivalently, $u[2r]=x[r]$ for $r=0,1,2$ and $u[n]=0$ otherwise.\n\nThe ideal low-pass filter has frequency response\n$$\nH(\\omega)=\\begin{cases}\nL, & |\\omega|\\leq \\omega_{c},\\\\\n0, & \\text{otherwise},\n\\end{cases}\n$$\nwith $L=2$ and $\\omega_{c}=\\pi/3$. Its impulse response is the inverse DTFT:\n$$\nh[n]=\\frac{1}{2\\pi}\\int_{-\\omega_{c}}^{\\omega_{c}}L\\,\\exp(j\\omega n)\\,d\\omega\n=\n\\begin{cases}\n\\displaystyle \\frac{L\\omega_{c}}{\\pi}, & n=0,\\\\\n\\\\[6pt]\n\\displaystyle \\frac{L\\sin(\\omega_{c} n)}{\\pi n}, & n\\neq 0.\n\\end{cases}\n$$\nSubstituting $L=2$ and $\\omega_{c}=\\pi/3$ gives\n$$\nh[0]=\\frac{2}{3},\\qquad h[n]=\\frac{2\\sin\\!\\left(\\frac{\\pi n}{3}\\right)}{\\pi n}\\ \\text{ for } n\\neq 0.\n$$\nAfter filtering, $w[n]=(h*u)[n]=\\sum_{k}h[k]\\,u[n-k]$. Using the sparsity of $u[n]$, this becomes\n$$\nw[n]=\\sum_{r=0}^{2}x[r]\\;h[n-2r].\n$$\nDownsampling by $M=3$ gives\n$$\ny[n]=w[3n]=\\sum_{r=0}^{2}x[r]\\;h[3n-2r].\n$$\nWith $x[0]=1$, $x[1]=2$, $x[2]=3$, we have\n$$\ny[n]=h[3n]+2\\,h[3n-2]+3\\,h[3n-4].\n$$\nWe evaluate $h[m]$ at required indices using $h[0]=\\frac{2}{3}$ and, for $m\\neq 0$, $h[m]=\\frac{2\\sin(\\pi m/3)}{\\pi m}$. Note $h[m]$ is even and $h[3q]=0$ for nonzero integers $q$.\n\nCompute the needed values:\n- $h[\\pm 1]=\\frac{2\\sin(\\pi/3)}{\\pi}=\\frac{\\sqrt{3}}{\\pi}$,\n- $h[\\pm 2]=\\frac{2\\sin(2\\pi/3)}{2\\pi}=\\frac{\\sqrt{3}}{2\\pi}$,\n- $h[\\pm 3]=0$,\n- $h[\\pm 4]=\\frac{2\\sin(4\\pi/3)}{4\\pi}=-\\frac{\\sqrt{3}}{4\\pi}$,\n- $h[\\pm 5]=\\frac{2\\sin(5\\pi/3)}{5\\pi}=-\\frac{\\sqrt{3}}{5\\pi}$,\n- $h[\\pm 6]=0$,\n- $h[\\pm 7]=\\frac{2\\sin(7\\pi/3)}{7\\pi}=\\frac{\\sqrt{3}}{7\\pi}$,\n- $h[9]=0$.\n\nNow evaluate $y[n]=h[3n]+2h[3n-2]+3h[3n-4]$:\n\nFor $n=-1$: $3n=-3$, $3n-2=-5$, $3n-4=-7$,\n$$\ny[-1]=h[-3]+2h[-5]+3h[-7]=0+2\\!\\left(-\\frac{\\sqrt{3}}{5\\pi}\\right)+3\\!\\left(\\frac{\\sqrt{3}}{7\\pi}\\right)=\\frac{\\sqrt{3}}{35\\pi}.\n$$\n\nFor $n=0$: $3n=0$, $3n-2=-2$, $3n-4=-4$,\n$$\ny[0]=h[0]+2h[-2]+3h[-4]=\\frac{2}{3}+2\\!\\left(\\frac{\\sqrt{3}}{2\\pi}\\right)+3\\!\\left(-\\frac{\\sqrt{3}}{4\\pi}\\right)=\\frac{2}{3}+\\frac{\\sqrt{3}}{4\\pi}.\n$$\n\nFor $n=1$: $3n=3$, $3n-2=1$, $3n-4=-1$,\n$$\ny[1]=h[3]+2h[1]+3h[-1]=0+2\\!\\left(\\frac{\\sqrt{3}}{\\pi}\\right)+3\\!\\left(\\frac{\\sqrt{3}}{\\pi}\\right)=\\frac{5\\sqrt{3}}{\\pi}.\n$$\n\nFor $n=2$: $3n=6$, $3n-2=4$, $3n-4=2$,\n$$\ny[2]=h[6]+2h[4]+3h[2]=0+2\\!\\left(-\\frac{\\sqrt{3}}{4\\pi}\\right)+3\\!\\left(\\frac{\\sqrt{3}}{2\\pi}\\right)=\\frac{\\sqrt{3}}{\\pi}.\n$$\n\nFor $n=3$: $3n=9$, $3n-2=7$, $3n-4=5$,\n$$\ny[3]=h[9]+2h[7]+3h[5]=0+2\\!\\left(\\frac{\\sqrt{3}}{7\\pi}\\right)+3\\!\\left(-\\frac{\\sqrt{3}}{5\\pi}\\right)=-\\frac{11\\sqrt{3}}{35\\pi}.\n$$\n\nThus, for $n=-1,0,1,2,3$, the output sequence is\n$$\n\\left(\\frac{\\sqrt{3}}{35\\pi},\\ \\frac{2}{3}+\\frac{\\sqrt{3}}{4\\pi},\\ \\frac{5\\sqrt{3}}{\\pi},\\ \\frac{\\sqrt{3}}{\\pi},\\ -\\frac{11\\sqrt{3}}{35\\pi}\\right).\n$$", "answer": "$$\\boxed{\\begin{pmatrix}\\frac{\\sqrt{3}}{35\\pi} & \\frac{2}{3}+\\frac{\\sqrt{3}}{4\\pi} & \\frac{5\\sqrt{3}}{\\pi} & \\frac{\\sqrt{3}}{\\pi} & -\\frac{11\\sqrt{3}}{35\\pi}\\end{pmatrix}}$$", "id": "1750673"}, {"introduction": "While the time-domain view shows *how* rate conversion is done, the frequency domain reveals *why* it works. This practice uses a simple alternating sequence, which has a very specific frequency signature, as input. By tracking the signal's spectrum through the upsampling and filtering stages, you can clearly visualize the crucial role of the low-pass filter in eliminating imaging artifacts [@problem_id:1750635].", "problem": "A discrete-time signal processing system performs sampling rate conversion by a rational factor of $L/M$. The process consists of three stages: first, the input signal is upsampled by a factor of $L=2$; second, the upsampled signal is passed through an ideal low-pass filter; and third, the filtered signal is downsampled by a factor of $M=3$.\n\nThe input to the system is the alternating sequence $x[n] = (-1)^n$.\n\nThe ideal low-pass filter is designed to prevent aliasing from the downsampling stage and has a transfer function given by:\n$$ H(e^{j\\omega}) = \\begin{cases} 2 & \\text{for } |\\omega| \\leq \\frac{\\pi}{3} \\\\ 0 & \\text{for } \\frac{\\pi}{3} < |\\omega| \\leq \\pi \\end{cases} $$\nDetermine the output sequence $y[n]$ of this system. Express your answer as a closed-form expression in terms of $n$.", "solution": "We analyze the system stage by stage in the frequency domain using the discrete-time Fourier transform (DTFT) and standard multirate relations.\n\nThe input is $x[n] = (-1)^{n} = \\exp(j \\pi n)$. Its DTFT is a line spectrum at $\\omega = \\pi$ modulo $2\\pi$, which can be represented as\n$$\nX(e^{j\\omega}) = 2\\pi \\sum_{k\\in\\mathbb{Z}} \\delta(\\omega - \\pi - 2\\pi k).\n$$\n\nAfter upsampling by $L=2$, the DTFT of the upsampled signal $u[n]$ is given by the standard formula\n$$\nU(e^{j\\omega}) = X(e^{j 2\\omega}).\n$$\nSubstituting the expression for $X$,\n$$\nU(e^{j\\omega}) = 2\\pi \\sum_{k\\in\\mathbb{Z}} \\delta(2\\omega - \\pi - 2\\pi k).\n$$\nUsing the scaling property of the Dirac delta, $\\delta(a \\omega - b) = \\frac{1}{|a|}\\delta(\\omega - b/a)$, we obtain\n$$\nU(e^{j\\omega}) = \\pi \\sum_{k\\in\\mathbb{Z}} \\delta\\!\\left(\\omega - \\frac{\\pi}{2} - \\pi k\\right).\n$$\nThus, within the principal interval, the upsampled signal has spectral lines only at $\\omega = \\pm \\frac{\\pi}{2}$.\n\nThe ideal low-pass filter has transfer function\n$$\nH(e^{j\\omega}) = \\begin{cases}\n2 & \\text{for } |\\omega| \\leq \\frac{\\pi}{3}, \\\\\n0 & \\text{for } \\frac{\\pi}{3} < |\\omega| \\leq \\pi.\n\\end{cases}\n$$\nSince $\\frac{\\pi}{2} > \\frac{\\pi}{3}$, the frequencies $\\omega = \\pm \\frac{\\pi}{2}$ lie strictly outside the passband. Therefore, the spectrum after filtering is\n$$\nW(e^{j\\omega}) = H(e^{j\\omega})\\,U(e^{j\\omega}) = 0,\n$$\nwhich implies the time-domain filtered signal is identically zero:\n$$\nw[n] = 0 \\quad \\text{for all } n.\n$$\n\nFinally, downsampling by $M=3$ yields\n$$\ny[n] = w[3n] = 0 \\quad \\text{for all } n.\n$$\n\nTherefore, the output sequence is the zero sequence.", "answer": "$$\\boxed{0}$$", "id": "1750635"}, {"introduction": "A robust system design not only requires knowing how to build a process correctly but also understanding the consequences of design flaws. This final practice explores a realistic scenario where a critical component—the anti-aliasing filter—is omitted from the rate conversion chain [@problem_id:1750693]. Analyzing the resulting output will provide valuable insight into the phenomenon of aliasing and highlight why proper filtering is non-negotiable in practical applications.", "problem": "An audio processing system is designed to change the playback speed of a recording. The input is a continuous-time signal, which for testing purposes is a pure tone modeled by $x(t) = \\cos(\\omega_0 t)$, where the frequency $f_0 = \\omega_0 / (2\\pi)$ is exactly $6 \\text{ kHz}$. This signal is first digitized by an Analog-to-Digital Converter (ADC) operating at a sampling rate of $F_s = 20 \\text{ kHz}$, producing a discrete-time sequence $x[n]$.\n\nTo achieve the desired effect, the system must resample this sequence by a rational factor of $3/4$. This is implemented by first upsampling the sequence $x[n]$ by a factor of $L=3$ to get an intermediate sequence $x_u[n]$, and then downsampling $x_u[n]$ by a factor of $M=4$ to produce the final output sequence $y[n]$.\n\nHowever, due to a design flaw, the crucial low-pass anti-aliasing filter, which should be applied to $x_u[n]$ before downsampling, has been completely omitted. The final sequence $y[n]$ is then sent to an ideal Digital-to-Analog Converter (DAC) operating at the new, modified sampling rate to produce the output analog signal $y(t)$.\n\nDetermine all distinct positive frequencies, in kHz, that are present in the resulting analog signal $y(t)$. Present your answers in ascending order.", "solution": "The analog input is $x(t)=\\cos(\\omega_{0} t)$ with $f_{0}=\\omega_{0}/(2\\pi)=6\\ \\text{kHz}$. Sampling at $F_{s}=20\\ \\text{kHz}$ with $T=1/F_{s}$ gives the discrete-time tone\n$$\nx[n]=\\cos(\\omega_{d} n),\\quad \\omega_{d}=\\frac{2\\pi f_{0}}{F_{s}}=\\frac{2\\pi\\cdot 6}{20}=\\frac{3\\pi}{5}\\ \\text{rad/sample}.\n$$\n\nUpsampling by $L=3$ yields $x_{u}[n]$ with DTFT $X_{u}(\\exp(j\\omega))=X(\\exp(j\\omega L))$. For an impulse at $\\pm\\omega_{d}$, the upsampled spectrum has impulses at\n$$\n\\omega=\\frac{\\pm\\omega_{d}+2\\pi k}{L},\\quad k=0,1,2.\n$$\nWith $\\omega_{d}=\\frac{3\\pi}{5}$ and $L=3$, the distinct positive frequencies in $x_{u}[n]$ are\n$$\n\\omega=\\frac{\\pi}{5},\\quad \\omega=\\frac{7\\pi}{15},\\quad \\omega=\\frac{13\\pi}{15}.\n$$\n\nDownsampling $x_{u}[n]$ by $M=4$ maps each discrete-time sinusoid at $\\omega$ to $y[n]=x_{u}[nM]$, i.e. to frequency\n$$\n\\omega'\\equiv M\\omega \\pmod{2\\pi}.\n$$\nApplying $M=4$ to the three upsampled frequencies gives\n$$\n\\omega'_{1}=4\\cdot\\frac{\\pi}{5}=\\frac{4\\pi}{5},\\quad\n\\omega'_{2}=4\\cdot\\frac{7\\pi}{15}=\\frac{28\\pi}{15}\\equiv -\\frac{2\\pi}{15},\\quad\n\\omega'_{3}=4\\cdot\\frac{13\\pi}{15}=\\frac{52\\pi}{15}\\equiv -\\frac{8\\pi}{15},\n$$\nso the distinct positive magnitudes present in $y[n]$ are\n$$\n\\left\\{\\frac{2\\pi}{15},\\ \\frac{8\\pi}{15},\\ \\frac{4\\pi}{5}\\right\\}.\n$$\n\nThe DAC operates at the new sampling rate\n$$\nF_{s}'=\\frac{L}{M}F_{s}=\\frac{3}{4}\\cdot 20\\ \\text{kHz}=15\\ \\text{kHz}.\n$$\nAn ideal DAC maps a discrete-time angular frequency $\\omega'$ to analog frequency $f=(\\omega'/(2\\pi))F_{s}'$. Thus the analog frequencies corresponding to the above three $\\omega'$ are\n$$\nf_{1}=\\frac{1}{15}F_{s}'=1\\ \\text{kHz},\\quad\nf_{2}=\\frac{4}{15}F_{s}'=4\\ \\text{kHz},\\quad\nf_{3}=\\frac{2}{5}F_{s}'=6\\ \\text{kHz}.\n$$\n\nTherefore, the distinct positive frequencies present in $y(t)$ are $1\\ \\text{kHz}$, $4\\ \\text{kHz}$, and $6\\ \\text{kHz}$, in ascending order.", "answer": "$$\\boxed{\\begin{pmatrix}1 & 4 & 6\\end{pmatrix}}$$", "id": "1750693"}]}