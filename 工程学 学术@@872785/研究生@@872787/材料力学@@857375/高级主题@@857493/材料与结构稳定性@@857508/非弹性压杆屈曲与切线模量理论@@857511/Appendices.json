{"hands_on_practices": [{"introduction": "本练习提供了切线模量理论的一个直接且基础的应用。通过分析一个由理想双线性应力-应变曲线材料制成的压杆，我们可以清晰地量化当材料应力超过比例极限后，其屈曲强度的降低程度。该练习旨在巩固核心概念：对于非弹性屈曲，欧拉公式中的弹性模量 $E$ 必须被切线模量 $E_t$ 替代，以反映材料刚度的降低[@problem_id:2885503]。", "problem": "一根直径为 $d=50\\,\\mathrm{mm}$、长度为 $L=2.5\\,\\mathrm{m}$ 的直棱柱形圆形钢柱，在理想的销-销端之间受到中心压缩荷载。该材料的单轴应力-应变关系为双线性：\n- 对于 $0 \\le \\varepsilon \\le \\varepsilon_{p}$，$\\sigma = E\\,\\varepsilon$，其中弹性模量 $E=210\\,\\mathrm{GPa}$，比例极限应力 $\\sigma_{p}=250\\,\\mathrm{MPa}$，因此 $\\varepsilon_{p}=\\sigma_{p}/E$。\n- 对于 $\\varepsilon\\varepsilon_{p}$，$\\sigma=\\sigma_{p}+H\\left(\\varepsilon-\\varepsilon_{p}\\right)$，其中切线（硬化）模量为常数 $H=8\\,\\mathrm{GPa}$。\n\n在准静态加载下，该柱被压缩至均匀应变 $\\varepsilon^{\\ast}=1.50\\times 10^{-3}$，无残余应力，也无初始几何缺陷。根据 Euler–Bernoulli 梁理论，忽略剪切变形，并假设为小挠度。\n\n使用关于当前预加载状态的第一性原理稳定性分析，采用切线模量法处理增量弯曲响应（即，在线性化弯矩-曲率关系中，用预应变 $\\varepsilon^{\\ast}$ 处的切线模量代替弹性模量）。确定此预加载状态下对应于最低阶模态（销-销）的非弹性临界屈曲荷载。\n\n说明：\n- 根据双线性定律计算 $\\varepsilon^{\\ast}$ 处的切线模量 $E_{t}$。\n- 推导适用于切线模量法的横向挠度线性化控制方程及其特征值条件。\n- 根据给定数据，数值计算相应的临界荷载。\n- 将最终结果以 $\\mathrm{kN}$ 为单位表示为一个数字，并四舍五入到四位有效数字。", "solution": "所述问题已经过验证，被认为是自洽、一致且在科学上基于固体力学原理，特别是柱的非弹性屈曲理论。因此，我们可以进行正式求解。\n\n该问题要求确定预加载到塑性范围内的柱的非弹性临界屈曲荷载。解决此问题的适当方法是切线模量理论，正如问题陈述中所指定的。\n\n首先，我们必须确定材料在指定预应变 $\\varepsilon^{\\ast} = 1.50 \\times 10^{-3}$ 下的状态。该材料呈现出双线性应力-应变关系。弹性区域定义为应变 $\\varepsilon$ 满足 $0 \\le \\varepsilon \\le \\varepsilon_{p}$，其中 $\\varepsilon_{p}$ 是比例极限下的应变。比例极限应变计算如下：\n$$\n\\varepsilon_{p} = \\frac{\\sigma_{p}}{E}\n$$\n代入给定值，$\\sigma_{p}=250\\,\\mathrm{MPa} = 250 \\times 10^{6}\\,\\mathrm{Pa}$ 和 $E=210\\,\\mathrm{GPa} = 210 \\times 10^{9}\\,\\mathrm{Pa}$：\n$$\n\\varepsilon_{p} = \\frac{250 \\times 10^{6}\\,\\mathrm{Pa}}{210 \\times 10^{9}\\,\\mathrm{Pa}} = \\frac{25}{21000} = \\frac{1}{840} \\approx 1.1905 \\times 10^{-3}\n$$\n给定的预应变为 $\\varepsilon^{\\ast} = 1.50 \\times 10^{-3}$。由于 $\\varepsilon^{\\ast}  \\varepsilon_{p}$，该柱被均匀压缩进入塑性（硬化）范围。\n\n根据切线模量理论，增量弯曲响应由切线模量 $E_{t}$ 控制，它是应力-应变曲线在工作点 $\\varepsilon^{\\ast}$ 处的斜率。对于给定的双线性定律，当 $\\varepsilon  \\varepsilon_{p}$ 时，应力-应变关系为 $\\sigma=\\sigma_{p}+H\\left(\\varepsilon-\\varepsilon_{p}\\right)$。因此，切线模量就是恒定的硬化模量 $H$：\n$$\nE_{t} = \\frac{d\\sigma}{d\\varepsilon}\\bigg|_{\\varepsilon=\\varepsilon^{\\ast}} = H = 8\\,\\mathrm{GPa} = 8 \\times 10^{9}\\,\\mathrm{Pa}\n$$\n现在，我们推导屈曲的控制方程。考虑柱在轴向压缩荷载 $P$ 作用下，该荷载已引起均匀应变 $\\varepsilon^{\\ast}$。设 $v(x)$ 是偏离直线平衡位置的一个小横向挠度。根据 Euler-Bernoulli 梁理论，内部弯矩 $M(x)$ 与曲率 $\\frac{d^{2}v}{dx^{2}}$ 的关系为：\n$$\nM(x) = E_{t} I \\frac{d^{2}v}{dx^{2}}\n$$\n对柱的变形部分进行力矩平衡分析，可得内部弯矩 $M(x)$ 与轴向荷载 $P$ 产生的弯矩之间的关系为 $M(x) + P v(x) = 0$。这得出了横向挠度的线性化控制微分方程：\n$$\nE_{t} I \\frac{d^{2}v}{dx^{2}} + P v(x) = 0\n$$\n这是一个二阶齐次线性常微分方程。令 $k^{2} = \\frac{P}{E_{t}I}$，方程变为 $\\frac{d^{2}v}{dx^{2}} + k^{2}v=0$。其通解为：\n$$\nv(x) = A \\sin(kx) + B \\cos(kx)\n$$\n其中 $A$ 和 $B$ 是常数。它们由边界条件确定。对于长度为 $L$ 的销-销柱，两端的挠度为零：\n$1$. $v(0) = 0$\n$2$. $v(L) = 0$\n\n应用第一个条件：\n$$\nv(0) = A \\sin(0) + B \\cos(0) = B = 0\n$$\n解简化为 $v(x) = A \\sin(kx)$。应用第二个条件：\n$$\nv(L) = A \\sin(kL) = 0\n$$\n为了得到非平凡解（即屈曲形状，$A \\neq 0$），必须有 $\\sin(kL)=0$。这是特征值条件，当满足以下条件时成立：\n$$\nkL = n\\pi, \\quad n = 1, 2, 3, \\ldots\n$$\n将 $k = \\sqrt{\\frac{P}{E_{t}I}}$ 代回，我们得到可能的屈曲荷载 $P_{n}$：\n$$\n\\sqrt{\\frac{P_{n}}{E_{t}I}} L = n\\pi \\implies P_{n} = \\frac{n^{2}\\pi^{2}E_{t}I}{L^{2}}\n$$\n最低临界荷载 $P_{cr}$ 对应于第一屈曲模态，$n=1$：\n$$\nP_{cr} = \\frac{\\pi^{2}E_{t}I}{L^{2}}\n$$\n这是用于非弹性屈曲的 Engesser 公式。我们现在计算所需的量。该柱具有圆形横截面，直径 $d = 50\\,\\mathrm{mm} = 0.05\\,\\mathrm{m}$。截面二次矩 $I$ 为：\n$$\nI = \\frac{\\pi d^{4}}{64} = \\frac{\\pi (0.05\\,\\mathrm{m})^{4}}{64} = \\frac{\\pi (6.25 \\times 10^{-6}\\,\\mathrm{m}^{4})}{64}\n$$\n柱的长度为 $L=2.5\\,\\mathrm{m}$。将所有值代入临界荷载公式：\n$$\nP_{cr} = \\frac{\\pi^{2} (8 \\times 10^{9}\\,\\mathrm{Pa}) \\left( \\frac{\\pi (6.25 \\times 10^{-6}\\,\\mathrm{m}^{4})}{64} \\right)}{(2.5\\,\\mathrm{m})^{2}}\n$$\n我们可以简化表达式：\n$$\nP_{cr} = \\frac{\\pi^{3} (8 \\times 10^{9}) (6.25 \\times 10^{-6})}{64 \\times 6.25} = \\frac{\\pi^{3} \\times 8 \\times 10^{3}}{64} = \\frac{\\pi^{3} \\times 1000}{8} = 125\\pi^{3}\\,\\mathrm{N}\n$$\n现在，我们计算数值：\n$$\nP_{cr} \\approx 125 \\times (31.00627668) \\,\\mathrm{N} \\approx 3875.784585\\,\\mathrm{N}\n$$\n问题要求答案以千牛顿 ($\\mathrm{kN}$) 为单位，并四舍五入到四位有效数字。\n$$\nP_{cr} \\approx 3.87578\\,\\mathrm{kN}\n$$\n四舍五入到四位有效数字，我们得到：\n$$\nP_{cr} = 3.876\\,\\mathrm{kN}\n$$\n这就是预加载柱的非弹性临界屈曲荷载。", "answer": "$$\\boxed{3.876}$$", "id": "2885503"}, {"introduction": "虽然双线性模型便于阐述，但真实金属的应力-应变行为通常由像Ramberg-Osgood关系这样的连续非线性函数更精确地描述。本练习从简单的理想化模型进阶到一项关键的解析技能：推导切线模量 $E_t$ 作为应力 $\\sigma$ 的函数。掌握这一推导过程，您便能将非弹性屈曲理论应用于更广泛的工程材料[@problem_id:2894136]。", "problem": "一根由遵循 Ramberg–Osgood 应力-应变关系的金属制成的细长柱，将采用切线模量理论进行非弹性屈曲评估。在单轴单调加载下，该材料遵循\n$$\\epsilon(\\sigma)=\\frac{\\sigma}{E}+\\alpha\\left(\\frac{\\sigma}{\\sigma_{0}}\\right)^{n},$$\n其中，$E$ 是杨氏模量，$\\alpha$ 和 $n$ 是表征应变硬化的正常数材料参数，$\\sigma_{0}$ 是一个与初始屈服应力同量级的参考应力。切线模量 $E_{t}(\\sigma)$ 定义为应力 $\\sigma$ 下 $\\sigma$–$\\epsilon$ 曲线的局部斜率，并且是在该柱的非弹性欧拉型屈曲估算中使用的模量。\n\n仅从给定的本构关系和切线模量作为应力-应变曲线斜率的定义出发，推导出一个用 $E$、$\\alpha$、$\\sigma_{0}$、$n$ 和 $\\sigma$ 表示的 $E_{t}(\\sigma)$ 的闭式表达式。假设 $\\alpha0$，$n1$ 且 $\\sigma0$。然后，在固定的归一化应力 $r=\\sigma/\\sigma_{0}$ 下，简要讨论 $E_{t}(\\sigma)$ 如何随应变硬化指数 $n$ 在 $r1$、$r=1$ 和 $r1$ 三种情况下变化，并指出标志着趋势发生质变的任何 $n$ 的阈值。\n\n请将 $E_{t}(\\sigma)$ 的最终结果以单个闭式解析表达式的形式给出。如果对其进行数值计算，结果应以帕斯卡（$\\left(\\text{Pa}\\right)$）为单位报告，但不要在最终的方框表达式中附加单位。无需四舍五入。", "solution": "在尝试任何解答之前，需要对问题陈述进行验证。\n\n**第 1 步：提取已知条件**\n-   本构关系由 Ramberg–Osgood 方程给出：$\\epsilon(\\sigma)=\\frac{\\sigma}{E}+\\alpha\\left(\\frac{\\sigma}{\\sigma_{0}}\\right)^{n}$。\n-   $E$ 是杨氏模量。\n-   $\\alpha$ 和 $n$ 是表征应变硬化的正常数材料参数。\n-   $\\sigma_{0}$ 是一个参考应力。\n-   切线模量 $E_{t}(\\sigma)$ 定义为应力 $\\sigma$ 下 $\\sigma$–$\\epsilon$ 曲线的局部斜率。\n-   约束条件为：$\\alpha  0$，$n  1$ 且 $\\sigma  0$。\n-   目标有两方面：首先，推导 $E_{t}(\\sigma)$ 的闭式表达式；其次，讨论在固定的归一化应力 $r = \\sigma/\\sigma_{0}$ 下，$E_{t}(\\sigma)$ 随应变硬化指数 $n$ 的变化情况。\n\n**第 2 步：使用提取的已知条件进行验证**\n-   **科学依据**：该问题植根于固体力学，特别是柱的非弹性屈曲理论。Ramberg–Osgood 关系是用于描述金属应力-应变行为的标准、经过经验验证的模型。源自 Engesser 理论的切线模量概念是该领域的基础。该问题在科学上是合理的，在事实上是正确的。\n-   **适定性**：问题陈述清晰。它提供了一个本构方程和一个定义，从中可以推导出新的量——切线模量。后续分析基于推导出的表达式。该问题是自洽的，并允许一个唯一且有意义的解。\n-   **客观性**：问题以精确、技术性的语言呈现，没有主观性或歧义。\n\n**第 3 步：结论与行动**\n问题有效。它在科学上合理、适定、客观，并包含完整求解所需的所有信息。因此，我将继续进行推导和分析。\n\n切线模量 $E_t$ 定义为应力对应变的导数：\n$$E_t(\\sigma) = \\frac{d\\sigma}{d\\epsilon}$$\n这是应变对应力的导数 $\\frac{d\\epsilon}{d\\sigma}$ 的倒数。给定的应力-应变关系是：\n$$\\epsilon(\\sigma) = \\frac{\\sigma}{E} + \\alpha \\left(\\frac{\\sigma}{\\sigma_0}\\right)^n$$\n为了求出 $E_t$，我们首先通过将 $\\epsilon(\\sigma)$ 的表达式逐项对 $\\sigma$ 求导来计算 $\\frac{d\\epsilon}{d\\sigma}$：\n$$\\frac{d\\epsilon}{d\\sigma} = \\frac{d}{d\\sigma} \\left[ \\frac{\\sigma}{E} + \\alpha \\frac{\\sigma^n}{\\sigma_0^n} \\right]$$\n线性弹性部分的导数是：\n$$\\frac{d}{d\\sigma}\\left(\\frac{\\sigma}{E}\\right) = \\frac{1}{E}$$\n非线性塑性部分的导数是：\n$$\\frac{d}{d\\sigma}\\left(\\alpha \\frac{\\sigma^n}{\\sigma_0^n}\\right) = \\frac{\\alpha}{\\sigma_0^n} \\frac{d}{d\\sigma}(\\sigma^n) = \\frac{\\alpha}{\\sigma_0^n} (n\\sigma^{n-1})$$\n这可以重写为：\n$$\\frac{\\alpha n}{\\sigma_0} \\frac{\\sigma^{n-1}}{\\sigma_0^{n-1}} = \\frac{\\alpha n}{\\sigma_0} \\left(\\frac{\\sigma}{\\sigma_0}\\right)^{n-1}$$\n合并各项，我们得到 $\\frac{d\\epsilon}{d\\sigma}$ 的表达式：\n$$\\frac{d\\epsilon}{d\\sigma} = \\frac{1}{E} + \\frac{\\alpha n}{\\sigma_0} \\left(\\frac{\\sigma}{\\sigma_0}\\right)^{n-1}$$\n切线模量 $E_t(\\sigma)$ 是该表达式的倒数：\n$$E_t(\\sigma) = \\left[ \\frac{1}{E} + \\frac{\\alpha n}{\\sigma_0} \\left(\\frac{\\sigma}{\\sigma_0}\\right)^{n-1} \\right]^{-1}$$\n为了得到最终的闭式表达式，我们可以对方括号内的项找到一个公分母并进行化简：\n$$E_t(\\sigma) = \\left[ \\frac{1}{E} \\left( 1 + E \\frac{\\alpha n}{\\sigma_0} \\left(\\frac{\\sigma}{\\sigma_0}\\right)^{n-1} \\right) \\right]^{-1}$$\n$$E_t(\\sigma) = \\frac{E}{1 + \\frac{E \\alpha n}{\\sigma_0} \\left(\\frac{\\sigma}{\\sigma_0}\\right)^{n-1}}$$\n这就是所求的切线模量的闭式表达式。\n\n对于问题的第二部分，我们分析在固定的归一化应力 $r = \\sigma/\\sigma_0$ 下，$E_t$ 作为应变硬化指数 $n$ 的函数的行为。$E_t$ 的表达式变为：\n$$E_t(n) = \\frac{E}{1 + \\frac{E \\alpha n}{\\sigma_0} r^{n-1}}$$\n令常数项为 $C = \\frac{E\\alpha}{\\sigma_0}  0$。表达式简化为：\n$$E_t(n) = \\frac{E}{1 + C (n r^{n-1})}$$\n当 $n1$ 时，$E_t$ 随 $n$ 的变化与函数 $g(n) = n r^{n-1}$ 的变化成反比。我们针对 $r$ 的三种情况分析 $g(n)$。\n\n1.  **情况 $r  1$（应力高于参考应力）：**\n    在这种情况下，$r$ 是一个大于 $1$ 的数。随着 $n$ 的增加，$n$ 和 $r^{n-1}$ 都增加。它们的乘积 $g(n) = n r^{n-1}$ 是 $n$ 的严格递增函数。因此，$E_t(n)$ 的分母增加，从而 $E_t(n)$ 是 $n$ 的**严格递减**函数。\n\n2.  **情况 $r = 1$（应力等于参考应力）：**\n    此时，对于所有 $n$，$r^{n-1} = 1^{n-1} = 1$。函数变为 $g(n) = n$。这是 $n$ 的严格递增函数。因此，$E_t(n)$ 是 $n$ 的**严格递减**函数。\n\n3.  **情况 $r  1$（应力低于参考应力）：**\n    这种情况更为复杂。我们考察 $g(n)$ 对 $n$ 的导数：\n    $$\\frac{dg}{dn} = \\frac{d}{dn}(n e^{(n-1)\\ln(r)}) = e^{(n-1)\\ln(r)} + n e^{(n-1)\\ln(r)}\\ln(r) = r^{n-1}(1 + n\\ln(r))$$\n    由于 $r1$，$\\ln(r)$ 是负数。$\\frac{dg}{dn}$ 的符号取决于 $(1 + n\\ln(r))$ 这一项。存在一个 $n$ 的临界值，记为 $n_{crit}$，使得该项为零：\n    $$1 + n_{crit}\\ln(r) = 0 \\implies n_{crit} = -\\frac{1}{\\ln(r)}$$\n    由于 $r1$，$\\ln(r)0$，所以 $n_{crit}  0$。其行为取决于 $n_{crit}$ 是大于还是小于 $1$（$n$ 的下界）。\n    $n_{crit} > 1 \\iff -\\frac{1}{\\ln(r)} > 1 \\iff -1  \\ln(r) \\iff e^{-1}  r$。\n\n    -   **子情况 $e^{-1}  r  1$**：此时，$n_{crit} > 1$。\n        对于 $1  n  n_{crit}$，我们有 $n  -1/\\ln(r)$，这意味着 $1+n\\ln(r)  0$，所以 $\\frac{dg}{dn}  0$。函数 $g(n)$ 递增。\n        对于 $n > n_{crit}$，我们有 $1+n\\ln(r)  0$，所以 $\\frac{dg}{dn}  0$。函数 $g(n)$ 递减。\n        因此，$g(n)$ 在 $n=n_{crit}$ 处有最大值。相应地，$E_t(n)$ 在 $n = n_{crit}$ 处有**最小值**。它在 $1  n  n_{crit}$ 范围内先减小，然后在 $n > n_{crit}$ 范围内增大。\n\n    -   **子情况 $0  r \\le e^{-1}$**：此时，$\\ln(r) \\le -1$，这意味着 $n_{crit} = -1/\\ln(r) \\le 1$。\n        由于 $n$ 的定义域是 $n1$，我们始终处于 $n > n_{crit}$ 的区域。在此区域内，$1+n\\ln(r)  0$，所以 $\\frac{dg}{dn}  0$。对于所有 $n1$，函数 $g(n)$ 严格递减。\n        当 $n \\to \\infty$ 时，$g(n) = n r^{n-1} \\to 0$。\n        因此，$E_t(n)$ 是 $n$ 的**严格递增**函数，当 $n \\to \\infty$ 时，其值趋近于弹性极限 $E$。\n\n总而言之，$n$ 的关键阈值是 $n_{crit} = -1/\\ln(r)$，它仅在 $r  e^{-1}$ 时才有意义。$E_t$ 随 $n$ 增大的行为从根本上取决于应力是高于还是低于参考应力，其中屈服前区域表现出依赖于 $r$ 值的复杂非单调行为。", "answer": "$$\\boxed{\\frac{E}{1 + \\frac{E \\alpha n}{\\sigma_{0}} \\left(\\frac{\\sigma}{\\sigma_{0}}\\right)^{n-1}}}$$", "id": "2894136"}, {"introduction": "在许多实际情况中，例如压弯组合作用下的压杆，截面上的应力并非均匀分布。因此，切线模量 $E_t$ 也在截面内各点变化，使得单一的 $E_t$ 值不足以代表整个截面。这项高级计算练习引入了纤维模型——一种构成现代结构分析基础的强大数值技术。通过该方法，您可以通过积分每个具有自身局部切线模量的纤维的贡献，来计算截面的有效刚度[@problem_id:2894079]。", "problem": "实现一个程序，该程序将矩形截面沿深度方向离散化为纤维，根据每根纤维当前的应力为其分配切线模量，并组装基于切线模量理论进行非弹性柱屈曲评估所需的截面切线刚度量。\n\n您的设计必须从基本增量力学出发。使用关于一个主轴弯曲的 Bernoulli-Euler 梁截面的小应变运动学，其中截面上的轴向应变场写为 $ \\epsilon(y) = \\epsilon_0 - y \\, \\kappa $，其中 $ \\epsilon_0 $ 是截面参考线处的轴向应变，$ y $ 是从参考点沿截面深度测量的坐标，$ \\kappa $ 是曲率。每根纤维的增量本构律为 $ \\mathrm{d}\\sigma = E_t(\\sigma) \\, \\mathrm{d}\\epsilon $，其中 $ \\sigma $ 是纤维中当前的轴向应力，$ E_t(\\sigma) $ 是在该应力下计算的切线模量。截面合力增量满足 $ \\mathrm{d}N = \\int_A \\mathrm{d}\\sigma \\, \\mathrm{d}A $ 和 $ \\mathrm{d}M = \\int_A y \\, \\mathrm{d}\\sigma \\, \\mathrm{d}A $，其中 $ A $ 是截面面积。您的程序必须将这些积分在纤维上进行离散化，并组装用于轴向和弯曲响应的截面切线刚度项。使用切线模量理论进行欧拉屈曲估算，其中屈曲表达式中的抗弯刚度是关于当前增量中性轴的截面切线抗弯刚度。\n\n几何形状与离散化：\n- 截面为矩形，宽度为 $ b $，深度为 $ h $。使用 $ b = 0.2 $ m 和 $ h = 0.3 $ m。\n- 沿深度方向（$ y $ 轴）将截面离散化为 $ N_f $ 个等厚度层，其中 $ N_f = 200 $。每层的面积为 $ A_f = b \\, h / N_f $，其形心坐标 $ y_i $ 位于该层的中心。设 $ y = 0 $ 在几何形心处，朝向顶面为正，因此 $ y \\in [-h/2, h/2] $。\n\n材料与切线模量：\n- 基本弹性模量为 $ E = 2.10 \\times 10^{11} $ Pa。\n- 屈服后切线模量为 $ E_p = 5.00 \\times 10^{9} $ Pa。\n- 屈服应力大小为 $ \\sigma_y = 2.50 \\times 10^{8} $ Pa。\n- 切线模量函数是双线性的，对每根纤维定义为：如果 $ |\\sigma| \\le \\sigma_y $，则 $ E_t(\\sigma) = E $；如果 $ |\\sigma|  \\sigma_y $，则 $ E_t(\\sigma) = E_p $。\n\n应力场规定：\n- 对于每个测试用例，当前的轴向应力场根据 $ \\sigma(y) = s_0 + s_1 \\, (2y/h) $ 沿深度线性变化，其中给定的参数 $ s_0 $ 和 $ s_1 $ 的单位为帕斯卡。\n\n截面切线刚度组装：\n- 计算满足 $ \\sum_i E_{t,i} \\, A_f \\, (y_i - y_n) = 0 $ 的 $ E_t $ 加权增量中性轴位置 $ y_n $。这是唯一的 $ y_n $，使得 $ \\sum_i E_{t,i} \\, A_f \\, y_i = y_n \\sum_i E_{t,i} \\, A_f $。\n- 计算轴向切线刚度 $ S_N = \\sum_i E_{t,i} \\, A_f $，单位为牛顿。\n- 计算关于 $ z $ 轴的抗弯切线刚度（即在 $ x\\text{-}y $ 平面内的弯曲）$ S_M = \\sum_i E_{t,i} \\, A_f \\, (y_i - y_n)^2 $，单位为牛顿-米平方。\n- 对于长度为 $ L $、有效长度系数为 $ K $ 的柱，计算切线模量欧拉临界荷载 $ P_\\text{cr} = \\pi^2 \\, S_M / (K L)^2 $，单位为牛顿。使用与切线模量理论一致的小挠度屈曲准则。\n\n测试套件：\n使用以下四个独立的测试用例。每个用例由 $ (s_0, s_1, L, K) $ 定义。\n1. 用例 1：$ s_0 = 1.00 \\times 10^{8} $ Pa，$ s_1 = 0.00 $ Pa，$ L = 2.00 $ m，$ K = 1.00 $。\n2. 用例 2：$ s_0 = 0.00 $ Pa，$ s_1 = 3.00 \\times 10^{8} $ Pa，$ L = 2.00 $ m，$ K = 1.00 $。\n3. 用例 3：$ s_0 = 2.00 \\times 10^{8} $ Pa，$ s_1 = 1.00 \\times 10^{8} $ Pa，$ L = 3.00 $ m，$ K = 0.50 $。\n4. 用例 4：$ s_0 = 0.00 $ Pa，$ s_1 = 6.00 \\times 10^{8} $ Pa，$ L = 1.00 $ m，$ K = 2.00 $。\n\n程序要求：\n- 按照规定实现纤维层离散化，并对每个测试用例，使用上述定义计算三元组 $ (S_N, S_M, P_\\text{cr}) $。所有积分必须通过对 $ N_f $ 层的求和来近似。\n- 所有输出均以国际单位制（SI）表示：$ S_N $ 单位为牛顿，$ S_M $ 单位为牛顿-米平方，$ P_\\text{cr} $ 单位为牛顿。不需要角度输入；此问题中不要对任何角度使用度或弧度。\n- 您的程序应生成单行输出，其中包含四个测试用例的结果，形式为一个用方括号括起来的逗号分隔列表，按顺序连接各用例的三元组。即，输出必须是带有数值的 $ [S_{N,1}, S_{M,1}, P_{\\text{cr},1}, S_{N,2}, S_{M,2}, P_{\\text{cr},2}, S_{N,3}, S_{M,3}, P_{\\text{cr},3}, S_{N,4}, S_{M,4}, P_{\\text{cr},4}] $。", "solution": "在尝试提供解决方案之前，需对问题进行验证。\n\n### 第 1 步：提取已知信息\n-   **几何形状与离散化**：\n    -   矩形截面：宽度 $b = 0.2 \\, \\mathrm{m}$，深度 $h = 0.3 \\, \\mathrm{m}$。\n    -   纤维层数：$N_f = 200$。\n    -   纤维层面积：$A_f = b h / N_f$。\n    -   坐标系：$y \\in [-h/2, h/2]$，其中 $y=0$ 位于几何形心。纤维形心 $y_i$ 位于每层的中心。\n-   **材料属性**：\n    -   弹性模量：$E = 2.10 \\times 10^{11} \\, \\mathrm{Pa}$。\n    -   屈服后切线模量：$E_p = 5.00 \\times 10^{9} \\, \\mathrm{Pa}$。\n    -   屈服应力：$\\sigma_y = 2.50 \\times 10^{8} \\, \\mathrm{Pa}$。\n-   **本构律**：\n    -   切线模量：当 $|\\sigma| \\le \\sigma_y$ 时，$E_t(\\sigma) = E$；当 $|\\sigma|  \\sigma_y$ 时，$E_t(\\sigma) = E_p$。\n-   **应力场**：\n    -   当前应力分布：$\\sigma(y) = s_0 + s_1 (2y/h)$，参数 $(s_0, s_1)$ 在每个测试用例中指定。\n-   **计算公式**：\n    -   增量中性轴：$y_n$ 满足 $\\sum_i E_{t,i} A_f (y_i - y_n) = 0$。\n    -   轴向切线刚度：$S_N = \\sum_i E_{t,i} A_f$。\n    -   抗弯切线刚度：$S_M = \\sum_i E_{t,i} A_f (y_i - y_n)^2$。\n    -   切线模量临界荷载：$P_\\text{cr} = \\pi^2 S_M / (K L)^2$。\n-   **测试用例**：\n    1.  $(s_0, s_1, L, K) = (1.00 \\times 10^{8} \\, \\mathrm{Pa}, 0.00 \\, \\mathrm{Pa}, 2.00 \\, \\mathrm{m}, 1.00)$。\n    2.  $(s_0, s_1, L, K) = (0.00 \\, \\mathrm{Pa}, 3.00 \\times 10^{8} \\, \\mathrm{Pa}, 2.00 \\, \\mathrm{m}, 1.00)$。\n    3.  $(s_0, s_1, L, K) = (2.00 \\times 10^{8} \\, \\mathrm{Pa}, 1.00 \\times 10^{8} \\, \\mathrm{Pa}, 3.00 \\, \\mathrm{m}, 0.50)$。\n    4.  $(s_0, s_1, L, K) = (0.00 \\, \\mathrm{Pa}, 6.00 \\times 10^{8} \\, \\mathrm{Pa}, 1.00 \\, \\mathrm{m}, 2.00)$。\n-   **输出要求**：一个包含数值的逗号分隔列表 $[S_{N,1}, S_{M,1}, P_{\\text{cr},1}, \\dots, S_{N,4}, S_{M,4}, P_{\\text{cr},4}]$。\n\n### 第 2 步：使用提取的已知信息进行验证\n根据既定标准对问题进行评估。\n1.  **科学依据**：该问题基于非弹性柱屈曲的经典理论，特别是切线模量理论（Engesser 理论）。使用纤维模型离散化截面是结构力学中一种标准且有效的数值方法。控制方程与梁的连续介质力学原理一致。材料模型是标准的双线性简化。所有方面都具有科学合理性。\n2.  **适定性**：所有必要的参数、常数和公式均已提供。问题定义完整且无歧义，每个测试用例都有唯一的解。\n3.  **客观性**：问题以精确的技术语言陈述，不含主观性或个人观点。\n4.  **其他标准**：该问题可形式化，与指定主题直接相关，内部一致，并需要进行非平凡的计算。所提供的数值对于钢结构是物理上现实的。\n\n### 第 3 步：结论与行动\n问题是**有效的**。将根据指定的方法提供解决方案。\n\n### 求解推导\n\n解决方案要求基于矩形截面的纤维离散化来计算截面属性。问题的核心是根据每根纤维当前的应力水平确定其切线模量，然后将所有纤维的贡献相加，以获得宏观的截面响应。\n\n首先，我们将宽度为 $b$、深度为 $h$ 的截面离散化为 $N_f$ 个水平层或纤维。每个纤维的高度为 $\\Delta y = h / N_f$，面积为 $A_f = b \\cdot \\Delta y = b h / N_f$。第 $i$ 个纤维（其中 $i$ 的索引从 $0$ 到 $N_f-1$，从下到上）的形心位于坐标 $y_i$ 处：\n$$ y_i = -\\frac{h}{2} + \\left(i + \\frac{1}{2}\\right) \\Delta y = -\\frac{h}{2} + \\left(i + \\frac{1}{2}\\right) \\frac{h}{N_f} $$\n\n对于每个测试用例，使用给定的线性应力分布计算每个纤维形心处的应力 $\\sigma_i$：\n$$ \\sigma_i = \\sigma(y_i) = s_0 + s_1 \\left(\\frac{2y_i}{h}\\right) $$\n其中 $s_0$ 和 $s_1$ 是特定情况下的参数。\n\n接下来，根据双线性材料定律确定每个纤维的切线模量 $E_{t,i}$，该定律取决于应力 $\\sigma_i$ 的绝对值与屈服应力 $\\sigma_y$ 的相对关系：\n$$ E_{t,i} = E_t(\\sigma_i) = \\begin{cases} E  \\text{if } |\\sigma_i| \\le \\sigma_y \\\\ E_p  \\text{if } |\\sigma_i|  \\sigma_y \\end{cases} $$\n此处，$E$ 是弹性模量，$E_p$ 是屈服后切线模量。\n\n在确定了每个纤维的切线模量后，我们可以通过用纤维求和来近似控制积分，从而计算截面的切线刚度属性。\n\n轴向切线刚度 $S_N$ 是所有纤维刚度贡献的总和：\n$$ S_N = \\sum_{i=0}^{N_f-1} E_{t,i} A_f $$\n该值对应于积分 $\\int_A E_t(y) \\, \\mathrm{d}A$。\n\n增量中性轴的位置 $y_n$ 是截面面积的 $E_t$ 加权形心。通过将关于该轴的 $E_t$ 加权面积一阶矩设为零来找到它。求解 $y_n$：\n$$ \\sum_{i=0}^{N_f-1} E_{t,i} A_f (y_i - y_n) = 0 \\implies y_n = \\frac{\\sum_{i=0}^{N_f-1} E_{t,i} A_f y_i}{\\sum_{i=0}^{N_f-1} E_{t,i} A_f} = \\frac{\\sum_{i=0}^{N_f-1} E_{t,i} y_i}{\\sum_{i=0}^{N_f-1} E_{t,i}} $$\n项 $A_f$ 在分子和分母中被抵消。\n\n切线抗弯刚度 $S_M$ 是关于增量中性轴 $y_n$ 的 $E_t$ 加权面积二阶矩。这是使用平行轴定理的离散形式对每个纤维计算的：\n$$ S_M = \\sum_{i=0}^{N_f-1} E_{t,i} A_f (y_i - y_n)^2 $$\n该值对应于积分 $\\int_A E_t(y) (y - y_n)^2 \\, \\mathrm{d}A$，它表示切线模量理论中的有效抗弯刚度 $(EI)_{eff}$。\n\n最后，使用欧拉屈曲公式，结合切线抗弯刚度 $S_M$ 和柱的有效长度 $K L$ 来计算切线模量临界屈曲荷载 $P_\\text{cr}$：\n$$ P_\\text{cr} = \\frac{\\pi^2 S_M}{(K L)^2} $$\n\n此过程应用于问题陈述中指定的四个测试用例中的每一个。数值实现将直接使用这些公式。", "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Calculates inelastic section properties and buckling load for a rectangular\n    cross-section using the tangent modulus theory.\n    \"\"\"\n\n    # --- Problem Constants ---\n    # Geometry\n    b = 0.2  # m\n    h = 0.3  # m\n    Nf = 200 # Number of fibers\n\n    # Material properties\n    E = 2.10e11  # Pa (Elastic Modulus)\n    Ep = 5.00e9   # Pa (Post-yield Tangent Modulus)\n    sigma_y = 2.50e8 # Pa (Yield Stress)\n\n    # --- Discretization ---\n    # Fiber layer thickness\n    dy = h / Nf\n    # Fiber layer area\n    fiber_area = b * dy\n    # Fiber centroid coordinates, from bottom (-h/2) to top (+h/2)\n    y_coords = np.linspace(-h/2 + dy/2, h/2 - dy/2, Nf)\n\n    # --- Test Cases ---\n    test_cases = [\n        # (s0 [Pa], s1 [Pa], L [m], K)\n        (1.00e8, 0.00e8, 2.00, 1.00),\n        (0.00e8, 3.00e8, 2.00, 1.00),\n        (2.00e8, 1.00e8, 3.00, 0.50),\n        (0.00e8, 6.00e8, 1.00, 2.00),\n    ]\n\n    results = []\n    \n    for case in test_cases:\n        s0, s1, L, K = case\n\n        # 1. Calculate stress in each fiber\n        # sigma(y) = s0 + s1 * (2y/h)\n        stress = s0 + s1 * (2 * y_coords / h)\n\n        # 2. Determine tangent modulus for each fiber based on stress\n        # Et = E if |sigma| = sigma_y, else Ep\n        tangent_modulus = np.where(np.abs(stress) = sigma_y, E, Ep)\n        \n        # 3. Calculate section tangent stiffness properties\n        # Axial tangent stiffness S_N = sum(Et_i * A_f)\n        S_N = np.sum(tangent_modulus) * fiber_area\n\n        # Incremental neutral axis location y_n\n        # y_n = sum(Et_i * y_i) / sum(Et_i)\n        # Note: A_f cancels out\n        yn_numerator = np.sum(tangent_modulus * y_coords)\n        yn_denominator = np.sum(tangent_modulus)\n        y_n = yn_numerator / yn_denominator if yn_denominator != 0 else 0\n        \n        # Bending tangent stiffness S_M about the neutral axis\n        # S_M = sum(Et_i * A_f * (y_i - y_n)^2)\n        S_M = np.sum(tangent_modulus * (y_coords - y_n)**2) * fiber_area\n\n        # 4. Calculate tangent-modulus Euler critical load P_cr\n        # P_cr = pi^2 * S_M / (K*L)^2\n        effective_length = K * L\n        P_cr = (np.pi**2 * S_M) / (effective_length**2) if effective_length != 0 else float('inf')\n\n        results.extend([S_N, S_M, P_cr])\n\n    # Format the output as a single comma-separated list in brackets.\n    output_str = f\"[{','.join(map(str, results))}]\"\n    print(output_str)\n\nsolve()\n```", "id": "2894079"}]}