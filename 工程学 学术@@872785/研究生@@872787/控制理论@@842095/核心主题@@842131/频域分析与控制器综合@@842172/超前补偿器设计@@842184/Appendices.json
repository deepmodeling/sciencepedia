{"hands_on_practices": [{"introduction": "超前补偿器的核心能力在于其为系统提供正相移，从而改善瞬态响应和稳定性。在着手进行复杂的设计之前，首要任务是掌握如何量化这一基本属性。这个练习 [@problem_id:1570320] 将引导你计算一个给定超前补偿器所能提供的最大相位超前角，这是评估补偿器是否能满足所需相位裕度提升的关键一步。", "problem": "一位控制系统工程师正在设计一个反馈控制器，以改善一个定位系统的瞬态响应。作为设计的一部分，一个超前补偿器被引入到控制回路中。所选超前补偿器的传递函数由下式给出：\n$$G_c(s) = K_c \\frac{s+z}{s+p}$$\n对于超前补偿器，极点位置 $p$ 总是大于零点位置 $z$（即 $p > z > 0$）。这种配置使得补偿器能够为系统的频率响应增加正相位，这对于改善相位裕度至关重要。工程师已选择零点位于 $z = 2.0 \\text{ rad/s}$，极点位于 $p = 18.0 \\text{ rad/s}$。增益 $K_c$ 是一个正的常数，被单独调节以满足其他性能指标。\n\n确定该特定补偿器能为系统提供的最大超前相位 $\\phi_m$。请以度为单位表示你的答案，并四舍五入到三位有效数字。", "solution": "补偿器为 $G_{c}(s) = K_{c}\\frac{s+z}{s+p}$，其中 $pz0$。增益 $K_{c}$ 不影响相位，因此在频率 $\\omega$ 处的相位贡献是\n$$\\phi(\\omega) = \\arg(j\\omega+z) - \\arg(j\\omega+p) = \\arctan\\!\\left(\\frac{\\omega}{z}\\right) - \\arctan\\!\\left(\\frac{\\omega}{p}\\right)。$$\n为了找到最大超前相位，对 $\\omega$ 求导并令其等于零：\n$$\\frac{d\\phi}{d\\omega} = \\frac{z}{z^{2}+\\omega^{2}} - \\frac{p}{p^{2}+\\omega^{2}} = 0。$$\n求解可得\n$$z(p^{2}+\\omega^{2}) = p(z^{2}+\\omega^{2}) \\;\\;\\Rightarrow\\;\\; \\omega^{2} = pz \\;\\;\\Rightarrow\\;\\; \\omega_{m} = \\sqrt{pz}。$$\n在 $\\omega_{m}$ 处计算相位，\n$$\\phi_{m} = \\arctan\\!\\left(\\sqrt{\\frac{p}{z}}\\right) - \\arctan\\!\\left(\\sqrt{\\frac{z}{p}}\\right)。$$\n使用三角恒等式，这可以写成\n$$\\phi_{m} = \\arcsin\\!\\left(\\frac{p - z}{p + z}\\right)。$$\n代入 $z = 2.0$ 和 $p = 18.0$：\n$$\\phi_{m} = \\arcsin\\!\\left(\\frac{18 - 2}{18 + 2}\\right) = \\arcsin(0.8)。$$\n转换为度并四舍五入到三位有效数字：\n$$\\phi_{m} = \\arcsin(0.8)\\cdot \\frac{180}{\\pi} \\approx 53.130\\dots \\;\\Rightarrow\\; 53.1。$$", "answer": "$$\\boxed{53.1}$$", "id": "1570320"}, {"introduction": "理论计算是基础，但实际的控制工程常常涉及多重、甚至相互冲突的设计目标。这个练习 [@problem_id:1570554] 将你置于一个更真实的场景中：你需要设计一个控制器，不仅要满足瞬态响应指标（通过根轨迹法配置闭环极点），还要达到特定的稳态误差要求。通过这个实践，你将了解到为何超前补偿器是改善瞬态响应的利器，以及为何它常需要与滞后补偿器等其他工具结合，以构建一个全面的高性能控制系统。", "problem": "一个单轴定位系统的简化模型，其开环对象传递函数为 $G_p(s) = \\frac{1}{s(s+4)}$。需要设计一个反馈控制器以满足两个主要性能指标：首先，主导闭环极点必须位于 $s = -3 \\pm j3$；其次，静态速度误差常数 $K_v$ 必须恰好为 $5.0 \\, \\text{s}^{-1}$。\n\n为了实现这些指标，采用了一种两阶段补偿策略。首先设计一个形式为 $G_{lead}(s) = K \\frac{s+a}{s+b}$ 的超前补偿器，以满足瞬态响应要求（即极点配置）。对于此超前补偿器设计，其零点被策略性地放置以对消对象的稳定极点，即 $a=4$。\n\n研究发现仅使用超前补偿器不足以满足稳态误差要求。因此，将一个滞后补偿器 $G_{lag}(s) = \\frac{s+c}{s+d}$ 与对象和超前补偿器级联。该滞后补偿器的极点放置在 $d=0.012$。选择滞后补偿器的参数，使其主要调整稳态误差，而不会显著改变主导闭环极点的位置。\n\n确定滞后补偿器所需的零点 $c$ 的位置。答案以保留两位有效数字的实数形式给出。", "solution": "设计目标是为对象 $G_p(s) = \\frac{1}{s(s+4)}$ 设计一个控制器，以实现闭环极点位于 $s_d = -3 \\pm j3$ 且静态速度误差常数为 $K_v = 5.0 \\, \\text{s}^{-1}$。该控制器是一个超前补偿器和一个滞后补偿器的级联，即 $G_c(s) = G_{lead}(s)G_{lag}(s)$。\n\n**步骤1：设计超前补偿器**\n\n超前补偿器为 $G_{lead}(s) = K \\frac{s+a}{s+b}$。题目说明其零点设置在 $s=-4$ 以对消对象极点，因此 $a=4$。经过超前补偿的系统的开环传递函数为：\n$$ G_{OL, lead}(s) = G_{lead}(s)G_p(s) = \\left(K \\frac{s+4}{s+b}\\right) \\left(\\frac{1}{s(s+4)}\\right) = \\frac{K}{s(s+b)} $$\n为了使该系统的根轨迹通过期望的极点位置 $s_d = -3+j3$，必须满足相角条件：\n$$ \\angle G_{OL, lead}(s_d) = -180^\\circ $$\n相角是所有零点到点 $s_d$ 的向量相角之和减去所有极点到点 $s_d$ 的向量相角之和。\n$$ \\angle\\left(\\frac{K}{s_d(s_d+b)}\\right) = -\\angle(s_d) - \\angle(s_d+b) = -180^\\circ $$\n我们计算从原点极点 $s=0$ 到 $s_d$ 的向量相角：\n$$ \\angle(s_d) = \\angle(-3+j3) = \\arctan\\left(\\frac{3}{-3}\\right) = 135^\\circ $$\n将此代入相角条件方程：\n$$ -135^\\circ - \\angle(s_d+b) = -180^\\circ $$\n$$ \\angle(s_d+b) = 180^\\circ - 135^\\circ = 45^\\circ $$\n项 $\\angle(s_d+b)$ 是从极点 $s=-b$ 到 $s_d$ 的向量相角。设此角为 $\\theta_b$。\n$$ \\theta_b = \\angle(-3+j3+b) = \\angle((b-3)+j3) = 45^\\circ $$\n根据几何关系，我们可以使用正切函数：\n$$ \\tan(\\theta_b) = \\frac{\\text{Im}(s_d)}{\\text{Re}(s_d+b)} = \\frac{3}{b-3} $$\n$$ \\tan(45^\\circ) = 1 = \\frac{3}{b-3} $$\n$$ b-3 = 3 \\implies b = 6 $$\n所以，超前补偿器的极点位于 $s=-6$。\n\n接下来，我们使用在 $s_d$ 处的幅值条件来求解增益 $K$：\n$$ |G_{OL, lead}(s_d)| = 1 $$\n$$ \\left|\\frac{K}{s_d(s_d+b)}\\right|_{s_d=-3+j3, b=6} = 1 $$\n$$ |K| = |s_d| |s_d+6| $$\n$$ |s_d| = |-3+j3| = \\sqrt{(-3)^2 + 3^2} = \\sqrt{9+9} = \\sqrt{18} $$\n$$ |s_d+6| = |-3+j3+6| = |3+j3| = \\sqrt{3^2 + 3^2} = \\sqrt{9+9} = \\sqrt{18} $$\n$$ |K| = \\sqrt{18} \\cdot \\sqrt{18} = 18 $$\n因此，超前补偿器为 $G_{lead}(s) = 18 \\frac{s+4}{s+6}$，经过超前补偿的开环系统为 $G_{OL, lead}(s) = \\frac{18}{s(s+6)}$。\n\n**步骤2：评估超前补偿系统的速度误差常数**\n\n超前补偿系统的静态速度误差常数 $K_{v,lead}$ 为：\n$$ K_{v,lead} = \\lim_{s \\to 0} s \\, G_{OL, lead}(s) = \\lim_{s \\to 0} s \\frac{18}{s(s+6)} = \\frac{18}{6} = 3.0 \\, \\text{s}^{-1} $$\n该值小于所要求的 $K_v = 5.0 \\, \\text{s}^{-1}$。\n\n**步骤3：设计滞后补偿器**\n\n增加一个滞后补偿器 $G_{lag}(s) = \\frac{s+c}{s+d}$ 以增大速度误差常数。总的开环传递函数为：\n$$ G_{OL, total}(s) = G_{lag}(s) G_{OL, lead}(s) = \\left(\\frac{s+c}{s+d}\\right) \\left(\\frac{18}{s(s+6)}\\right) $$\n总的静态速度误差常数为：\n$$ K_{v,total} = \\lim_{s \\to 0} s \\, G_{OL, total}(s) = \\lim_{s \\to 0} s \\left(\\frac{s+c}{s+d}\\right) \\left(\\frac{18}{s(s+6)}\\right) $$\n$$ K_{v,total} = \\left(\\frac{c}{d}\\right) \\left(\\frac{18}{6}\\right) = 3 \\frac{c}{d} $$\n我们要求 $K_{v,total} = 5.0$。\n$$ 5.0 = 3 \\frac{c}{d} $$\n$$ \\frac{c}{d} = \\frac{5.0}{3} $$\n题目说明滞后补偿器的极点放置在 $d=0.012$。现在我们可以求解零点 $c$。\n$$ c = d \\left(\\frac{5}{3}\\right) = 0.012 \\times \\frac{5}{3} = 0.004 \\times 5 = 0.020 $$\n题目要求答案保留两位有效数字。计算值为 $0.020$。\n\n最终答案是 $c$ 的值。", "answer": "$$\\boxed{0.020}$$", "id": "1570554"}, {"introduction": "现代控制系统绝大多数是在数字计算机上实现的，这要求我们将连续时间的设计转化为离散时间的算法。这个从模拟到数字的转换过程并非完美无缺，其中一个核心挑战是频率轴的非线性“畸变”。这个高级练习 [@problem_id:2718180] 聚焦于解决这一问题的关键技术——频率预畸变（frequency prewarping），推导在使用双线性变换时如何修正设计频率，以确保最终的数字补偿器在穿越频率等关键点上的性能与我们的连续时间设计初衷完全吻合。", "problem": "您正在设计一个数字超前补偿器，以调整采样数据控制环路的相位裕度。该补偿器将通过使用双线性变换（BLT）对连续时间超前补偿器进行离散化来实现。目标是在穿越频率处匹配所需的连续时间相位。设所需的连续时间穿越频率为 $\\omega_c$（单位：弧度/秒），采样周期为 $T$。您将使用频率预畸变来确保，在应用双线性变换后，在与 $\\omega_c$ 对应的离散时间频率处，离散时间补偿后的开环相位与在 $\\omega_c$ 处的连续时间设计相位相匹配。\n\n从双线性变换的定义以及连续时间和离散时间线性时不变系统的频率响应定义出发，推导预畸变模拟频率 $\\omega_w$（单位：弧度/秒）。连续时间超前补偿器应在此频率下进行设计，以便在应用双线性变换后，在与 $\\omega_c$ 对应的数字频率处，离散时间补偿后的开环相位等于在 $\\omega_c$ 处的连续时间相位。请用符号形式表示您的最终答案 $\\omega_w$，以 $\\omega_c$ 和 $T$ 表示。请以解析表达式的形式提供您的最终答案，单位为弧度/秒。不需要进行数值计算。", "solution": "目标是确定用于设计连续时间补偿器的预畸变模拟频率，记为 $\\omega_w$。该补偿器在使用双线性变换（BLT）离散化后，必须产生一个数字补偿器，其在对应于指定的临界连续频率 $\\omega_c$ 的数字频率处的相位，与原始连续时间设计在 $\\omega_c$ 处的相位匹配。\n\n在双线性变换下，连续时间拉普拉斯域变量 $s$ 和离散时间Z域变量 $z$ 之间的关系定义为：\n$$\ns = \\frac{2}{T} \\frac{z-1}{z+1}\n$$\n其中 $T$ 是采样周期。\n\n为了理解这种变换对频率响应的影响，我们分析连续时间频率轴（$s=j\\omega_a$）与离散时间单位圆（$z=e^{j\\Omega}$）之间的映射关系。在这里，$\\omega_a$ 是连续时间原型系统的模拟频率，$\\Omega = \\omega_d T$ 是归一化数字频率，其中 $\\omega_d$ 是数字频率，单位为弧度/秒。\n\n将 $s = j\\omega_a$ 和 $z = e^{j\\omega_d T}$ 代入双线性变换的定义，我们得到两个频域之间的关系：\n$$\nj\\omega_a = \\frac{2}{T} \\frac{e^{j\\omega_d T} - 1}{e^{j\\omega_d T} + 1}\n$$\n为了简化右侧的表达式，我们从分子和分母中提取因子 $e^{j\\omega_d T / 2}$：\n$$\nj\\omega_a = \\frac{2}{T} \\frac{e^{j\\omega_d T / 2}(e^{j\\omega_d T / 2} - e^{-j\\omega_d T / 2})}{e^{j\\omega_d T / 2}(e^{j\\omega_d T / 2} + e^{-j\\omega_d T / 2})}\n$$\n使用欧拉公式 $\\sin(x) = \\frac{e^{jx} - e^{-jx}}{2j}$ 和 $\\cos(x) = \\frac{e^{jx} + e^{-jx}}{2}$，表达式简化为：\n$$\nj\\omega_a = \\frac{2}{T} \\frac{2j\\sin(\\frac{\\omega_d T}{2})}{2\\cos(\\frac{\\omega_d T}{2})}\n$$\n$$\nj\\omega_a = \\frac{2}{T} j\\tan\\left(\\frac{\\omega_d T}{2}\\right)\n$$\n消去两边的虚数单位 $j$，得到频率畸变方程：\n$$\n\\omega_a = \\frac{2}{T} \\tan\\left(\\frac{\\omega_d T}{2}\\right)\n$$\n这个方程展示了模拟频率轴 $\\omega_a$ 和数字频率轴 $\\omega_d$ 之间的非线性关系。它规定了所得数字滤波器在数字频率 $\\omega_d$ 处的频率响应，与源连续时间滤波器在相应的模拟频率 $\\omega_a$ 处的频率响应相同。\n\n问题要求最终数字补偿器在对应于 $\\omega_c$ 的数字频率处（即在 $\\omega_d = \\omega_c$ 处）的相位，必须等于理想连续时间设计在频率 $\\omega_c$ 处的相位。设 $C_d(z)$ 是推导出的数字补偿器，$C_{ideal}(s)$ 是目标连续时间补偿器。条件是：\n$$\n\\angle C_d(e^{j\\omega_c T}) = \\angle C_{ideal}(j\\omega_c)\n$$\n在离散化之前实际实现的连续时间补偿器是预畸变原型，我们可以称之为 $C_{pre}(s)$。它的离散化得到 $C_d(z)$。频率响应映射告诉我们：\n$$\nC_d(e^{j\\omega_d T}) = C_{pre}(j\\omega_a)\n$$\n其中 $\\omega_a$ 由畸变方程给出。对于我们感兴趣的特定频率 $\\omega_d = \\omega_c$，这意味着：\n$$\n\\angle C_d(e^{j\\omega_c T}) = \\angle C_{pre}\\left(j\\frac{2}{T} \\tan\\left(\\frac{\\omega_c T}{2}\\right)\\right)\n$$\n为了满足问题的要求，我们必须使相位相等：\n$$\n\\angle C_{pre}\\left(j\\frac{2}{T} \\tan\\left(\\frac{\\omega_c T}{2}\\right)\\right) = \\angle C_{ideal}(j\\omega_c)\n$$\n这个等式决定了原型滤波器 $C_{pre}(s)$ 的设计。我们根据 $C_{ideal}(s)$ 在频率 $\\omega_c$ 处的期望行为来设计它。该方程表明，为了在最终的数字滤波器中在正确的频率上实现此行为，原型 $C_{pre}(s)$ 必须在频率 $\\frac{2}{T} \\tan(\\frac{\\omega_c T}{2})$ 处表现出相同的行为。\n\n因此，连续时间补偿器必须设计的模拟频率，也就是问题中所标记的预畸变频率 $\\omega_w$，正是这个畸变后的模拟频率。连续时间原型的所有设计计算（例如，极点和零点的配置），通常会使用 $\\omega_c$，现在必须改用 $\\omega_w$。\n$$\n\\omega_w = \\frac{2}{T} \\tan\\left(\\frac{\\omega_c T}{2}\\right)\n$$\n这就是所要求的符号表达式。", "answer": "$$\n\\boxed{\\frac{2}{T} \\tan\\left(\\frac{\\omega_c T}{2}\\right)}\n$$", "id": "2718180"}]}