{"hands_on_practices": [{"introduction": "滑模控制的一个核心目标是设计一个趋近律，以确保系统状态在有限时间内到达预设的滑模面。本练习是理解此过程的基石，我们将分析最简洁也最具启发性的趋近律 $\\dot{s} = -k \\operatorname{sgn}(s)$。通过构建一个李雅普诺夫函数，我们将严格证明有限时间收敛性，并精确推导到达滑模面所需的时间，为深入理解滑模控制的内在机理打下坚实基础 ([@problem_id:2745634])。", "problem": "考虑一个单输入动力系统中与滑模面相关的标量滑模变量 $s(t)$。假设施加了一个趋近律，使得 $s(t)$ 的闭环演化对于所有 $t \\ge 0$ 满足 $\\dot{s}(t) = -k\\,\\operatorname{sgn}(s(t))$，其中 $k0$ 是一个已知常数，$\\operatorname{sgn}(\\cdot)$ 表示符号函数，并约定 $\\operatorname{sgn}(0)=0$。令 $V(s) = \\tfrac{1}{2}s^{2}$ 为一个候选李雅普诺夫函数。从微分链式法则以及符号函数和绝对值函数的基本性质出发，建立沿 $s(t)$ 轨迹的 $\\dot{V}(t)$ 的表达式，并证明该演化确保了滑模面 $s=0$ 的有限时间可达性。然后，给定任意初始条件 $s(0)$，计算使得 $s(T)=0$ 的精确趋近时间 $T$。\n\n你的最终答案必须是关于 $s(0)$ 和 $k$ 的单一闭式符号表达式。不需要数值舍入，也不涉及物理单位。", "solution": "我们首先回顾基本定义。符号函数定义为：如果 $s0$，则 $\\operatorname{sgn}(s) = 1$；如果 $s0$，则 $\\operatorname{sgn}(s) = -1$；并且 $\\operatorname{sgn}(0) = 0$。绝对值对于所有 $s \\in \\mathbb{R}$ 满足 $|s| = s\\,\\operatorname{sgn}(s)$。候选李雅普诺夫函数为 $V(s) = \\tfrac{1}{2} s^{2}$，该函数关于 $s$ 是非负且径向无界的。\n\n使用链式法则，V 沿 $s(t)$ 轨迹的时间导数为\n$$\n\\dot{V}(t) = \\frac{\\mathrm{d}}{\\mathrm{d}t}\\bigg(\\frac{1}{2} s(t)^{2}\\bigg) = s(t)\\,\\dot{s}(t).\n$$\n代入给定的趋近律 $\\dot{s}(t) = -k\\,\\operatorname{sgn}(s(t))$，得到\n$$\n\\dot{V}(t) = s(t)\\,\\big(-k\\,\\operatorname{sgn}(s(t))\\big) = -k\\,s(t)\\,\\operatorname{sgn}(s(t)) = -k\\,|s(t)|.\n$$\n这表明对于所有 $t$，$\\dot{V}(t) \\le 0$，并且只要 $s(t) \\ne 0$，它就严格为负。因此，$V$ 单调递减，直到 $s$ 到达 0。此外，由于 $V(t) = \\tfrac{1}{2} s(t)^{2}$，我们可以写出\n$$\n\\dot{V}(t) = -k\\,|s(t)| = -k\\,\\sqrt{2 V(t)}.\n$$\n这个微分方程在任何 $s(t) \\ne 0$ 的区间上是可分离的，并且对于 $V0$，其右侧关于 $V$ 是局部利普希茨的。分离变量并从 $t=0$ 积分到 $t=T$（$s(T)=0$ 的第一个时刻，等价于 $V(T)=0$），初始条件为 $V(0) = \\tfrac{1}{2} s(0)^{2}$：\n$$\n\\int_{V(0)}^{V(T)} \\frac{\\mathrm{d}V}{\\sqrt{V}} = \\int_{0}^{T} -k\\,\\sqrt{2}\\,\\mathrm{d}t.\n$$\n左边的积分等于 $2\\big(\\sqrt{V(T)} - \\sqrt{V(0)}\\big)$，右边的积分等于 $-k\\,\\sqrt{2}\\,T$。由于 $V(T)=0$，我们得到\n$$\n2\\big(0 - \\sqrt{V(0)}\\big) = -k\\,\\sqrt{2}\\,T \\quad \\Longrightarrow \\quad -2\\sqrt{V(0)} = -k\\,\\sqrt{2}\\,T.\n$$\n解出 $T$ 并代入 $V(0) = \\tfrac{1}{2} s(0)^{2}$ 得到\n$$\nT = \\frac{2}{k\\,\\sqrt{2}} \\sqrt{V(0)} = \\frac{2}{k\\,\\sqrt{2}} \\sqrt{\\frac{1}{2} s(0)^{2}} = \\frac{|s(0)|}{k}.\n$$\n这就是精确的到达时间，对于任何有限的 $s(0)$ 它都是有限的，并且当 $s(0)=0$ 时满足 $T=0$。一种等价的直接推导方法是注意到 $\\operatorname{sgn}(s(t))$ 在 $s$ 到达 0 之前保持不变，因此 $\\dot{s}(t) = -k\\,\\operatorname{sgn}(s(0))$ 积分得到 $s(t) = s(0) - k\\,t\\,\\operatorname{sgn}(s(0))$，而首次到达 $s=0$ 的时间是唯一的 $T$，使得 $s(0) - k\\,T\\,\\operatorname{sgn}(s(0)) = 0$，这也得到相同的表达式 $T = |s(0)|/k$。\n\n因此，李雅普诺夫导数为 $\\dot{V}(t) = -k\\,|s(t)|$，精确趋近时间为 $T = |s(0)|/k$。", "answer": "$$\\boxed{\\frac{|s(0)|}{k}}$$", "id": "2745634"}, {"introduction": "在设计了趋近律之后，我们转向滑模面本身的设计，本练习将处理一个关键的实际挑战：非匹配扰动。我们将看到，由向量 $C$ 定义的滑模面 $s=Cx$ 的选择并非随意的。通过将设计问题表述为一个约束优化问题，我们可以系统地设计出一个对特定扰动具有内在不敏感性的滑模面，这是鲁棒控制设计中的一项关键技术 ([@problem_id:2745644])。", "problem": "考虑一个具有非匹配扰动的线性时不变系统，其状态方程描述为\n$$\\dot{x} = A x + B u + D w,$$\n其中 $x \\in \\mathbb{R}^{3}$ 是状态， $u \\in \\mathbb{R}$ 是控制输入， $w \\in \\mathbb{R}^{2}$ 是一个未知的外部扰动，而 $A \\in \\mathbb{R}^{3 \\times 3}$、 $B \\in \\mathbb{R}^{3 \\times 1}$ 和 $D \\in \\mathbb{R}^{3 \\times 2}$ 是常数矩阵。设滑动变量定义为 $s = C x$，其中 $C \\in \\mathbb{R}^{1 \\times 3}$ 是待设计的。滑模到达条件将通过一个不连续控制来强制执行，该控制使得形式为 $V = \\tfrac{1}{2} s^{2}$ 的李雅普诺夫函数在 $s \\neq 0$ 时严格递减，这要求 $\\dot{s}$ 中乘以 $u$ 的系数非零。假设给定以下矩阵：\n$$\nA = \\begin{pmatrix}\n0  1  0 \\\\\n0  0  1 \\\\\n-1  -2  -3\n\\end{pmatrix}, \\quad\nB = \\begin{pmatrix}\n1 \\\\\n2 \\\\\n1\n\\end{pmatrix}, \\quad\nD = \\begin{pmatrix}\n1  0 \\\\\n0  1 \\\\\n1  1\n\\end{pmatrix}.\n$$\n\n您的目标是最小化非匹配扰动对滑动动态的影响。从第一性原理出发：通过沿着轨迹对 $s = C x$ 进行微分，并使用滑动变量的定义和系统动态，论证为什么非匹配扰动通过一个形式为 $C D w$ 的项对 $\\dot{s}$ 产生影响。然后，根据单输入系统的到达条件，构建以下约束优化问题：\n$$\n\\min_{C \\in \\mathbb{R}^{1 \\times 3}} \\;\\; \\| C D \\|_{F}^{2}\n\\quad \\text{subject to} \\quad C B = 1.\n$$\n这里 $\\| \\cdot \\|_{F}$ 表示弗罗贝尼乌斯范数。通过将 $C$ 与 $D^{\\top}$ 的零空间对齐，推导求解该问题的 $C$ 的充分条件，然后为给定的 $B$ 和 $D$ 计算显式的最小化 $C$。将您的最终答案表示为一个具有精确有理数项的单行向量。不需要四舍五入。", "solution": "分析滑动动态的第一性原理是计算滑动变量 $s$ 的时间导数。给定 $s = C x$ 且 $C$ 是一个常数矩阵，其时间导数为：\n$$\n\\dot{s} = \\frac{d}{dt}(C x) = C \\dot{x}\n$$\n将给定的状态方程 $\\dot{x} = A x + B u + D w$ 代入 $\\dot{s}$ 的表达式中，得到：\n$$\n\\dot{s} = C (A x + B u + D w) = C A x + C B u + C D w\n$$\n该方程描述了滑动变量的动态。项 $C D w$ 展示了外部扰动 $w$ 如何影响 $\\dot{s}$。为了最小化扰动对滑动动态的影响，合乎逻辑的做法是最小化从 $w$ 到 $\\dot{s}$ 的“增益”，即矩阵 $C D$。弗罗贝尼乌斯范数 $\\| C D \\|_{F}$ 是衡量矩阵大小的标准度量。最小化其平方 $\\| C D \\|_{F}^{2}$ 是等效的，并且在数学上更方便。约束 $C B = 1$ 是一种归一化，确保控制 $u$ 对 $s$ 的动态有明确定义的非零影响，这是到达条件所要求的。因此，该问题被正确地构建为一个约束优化问题。\n\n我们必须找到一个 $C \\in \\mathbb{R}^{1 \\times 3}$ 来解决：\n$$\n\\min_{C} \\| C D \\|_{F}^{2} \\quad \\text{subject to} \\quad C B = 1\n$$\n目标函数作为范数的平方，始终是非负的：$\\| C D \\|_{F}^{2} \\geq 0$。目标函数的绝对最小值可能为 $0$，这当且仅当 $C D = 0$ 时发生。这个条件意味着行向量 $C$ 必须位于矩阵 $D$ 的左零空间中。等价地，列向量 $C^{\\top}$ 必须位于 $D^{\\top}$ 的零空间中。\n\n让我们求 $D^{\\top}$ 的零空间。$D$ 的转置是：\n$$\nD^{\\top} = \\begin{pmatrix}\n1  0  1 \\\\\n0  1  1\n\\end{pmatrix}\n$$\n如果 $D^{\\top}v = 0$，则向量 $v = \\begin{pmatrix} v_1 \\\\ v_2 \\\\ v_3 \\end{pmatrix}$ 位于 $D^{\\top}$ 的零空间中。这给出了线性方程组：\n$$\n\\begin{cases}\nv_1 + v_3 = 0 \\\\\nv_2 + v_3 = 0\n\\end{cases}\n$$\n这意味着 $v_1 = -v_3$ 且 $v_2 = -v_3$。选择 $v_3 = 1$ 作为自由参数，我们得到一维零空间的一个基向量：\n$$\nn = \\begin{pmatrix} -1 \\\\ -1 \\\\ 1 \\end{pmatrix}\n$$\n因此，$D^{\\top}$ 零空间中的任何向量 $C^{\\top}$ 都必须是 $n$ 的标量倍。即，对于某个标量 $k \\in \\mathbb{R}$，有 $C^{\\top} = k n$。这意味着 $C$ 必须具有以下形式：\n$$\nC = k n^{\\top} = k \\begin{pmatrix} -1  -1  1 \\end{pmatrix}\n$$\n对于这样的 $C$，我们有 $C D = 0$，从而达到了目标函数的全局最小值。现在，我们必须检查这种形式的 $C$ 是否能满足约束 $C B = 1$。我们将 $C$ 的表达式代入约束中：\n$$\nC B = \\left( k \\begin{pmatrix} -1  -1  1 \\end{pmatrix} \\right) \\begin{pmatrix} 1 \\\\ 2 \\\\ 1 \\end{pmatrix} = 1\n$$\n执行矩阵乘法：\n$$\nk ((-1)(1) + (-1)(2) + (1)(1)) = k(-1 - 2 + 1) = -2k = 1\n$$\n这个方程可以解出 $k$：\n$$\nk = -\\frac{1}{2}\n$$\n由于存在一个 $k$ 值，因此可以找到一个同时满足 $C D = 0$ 和 $C B = 1$ 的向量 $C$。这个 $C$ 是该约束优化问题的唯一最优解，因为它在保持在可行集内的同时，实现了目标函数的绝对最小值。\n\n显式的最小化向量 $C$ 是：\n$$\nC = \\left(-\\frac{1}{2}\\right) \\begin{pmatrix} -1  -1  1 \\end{pmatrix} = \\begin{pmatrix} \\frac{1}{2}  \\frac{1}{2}  -\\frac{1}{2} \\end{pmatrix}\n$$\n这个结果是从第一性原理分析推导出来的，并满足所有条件。", "answer": "$$\n\\boxed{\\begin{pmatrix} \\frac{1}{2}  \\frac{1}{2}  -\\frac{1}{2} \\end{pmatrix}}\n$$", "id": "2745644"}, {"introduction": "最后的练习在一个实际的工程场景中，将滑模面设计与趋近律设计融为一体。现实世界的系统对控制力的大小和响应时间等性能指标都有严格的限制。本练习将演示如何将这些工程规格转化为数学约束，并通过求解一个多目标优化问题，找到在相互竞争的目标之间取得平衡的最优设计参数 ([@problem_id:2745600])。", "problem": "考虑一个单输入单输出系统，其模型为一阶积分器 $\\dot{x}(t) = u(t)$，其中状态为 $x(t) \\in \\mathbb{R}$，控制输入为 $u(t) \\in \\mathbb{R}$。不存在外部扰动。需要设计一个滑模控制 (SMC) 律，使用滑模变量 $s(t) = \\lambda x(t)$，其中 $\\lambda  0$ 是一个设计参数。选择不连续控制律为 $u(t) = -k \\,\\mathrm{sign}(s(t))$，其中 $k  0$ 是切换增益。初始滑模变量为 $s(0) = s_{0}$，且 $s_{0} = 2$。\n\n必须满足两个工程要求：\n1) 有界控制幅值要求 $|u(t)| \\leq U_{\\max}$，其中对于所有 $t \\geq 0$，有 $U_{\\max} = 1.5$，\n2) 到达时间要求，即滑模变量从 $s(0)$ 开始，在最多 $T_{\\mathrm{req}} = 0.5$ 秒内到达滑模面。\n\n通过多目标优化来设计 $\\lambda$ 和 $k$，该优化通过最小化性能指标 $J(\\lambda,k) = \\lambda^{2} + k^{2}$ 来惩罚滑模面斜率和控制增益，同时满足上述两个要求。从第一性原理推导由趋近条件所引申的约束，建立约束优化问题，并精确求解。以有序对 $\\big(k^{\\star}, \\lambda^{\\star}\\big)$ 的形式给出你的最终答案。\n\n使用 LaTeX 的 pmatrix 环境将最终答案表示为单行矩阵。无需四舍五入。", "solution": "设计参数 $\\lambda$ 和 $k$ 需要建立一个约束优化问题。首先，必须用 $\\lambda$ 和 $k$ 来表述由工程要求施加的约束。\n\n到达时间约束的推导：\n滑模变量 $s(t)$ 的动态特性通过对 $s(t) = \\lambda x(t)$ 关于时间求导得到：\n$$ \\dot{s}(t) = \\frac{ds}{dt} = \\lambda \\dot{x}(t) $$\n代入系统动态方程 $\\dot{x}(t) = u(t)$：\n$$ \\dot{s}(t) = \\lambda u(t) $$\n代入控制律 $u(t) = -k \\,\\mathrm{sign}(s(t))$：\n$$ \\dot{s}(t) = -\\lambda k \\,\\mathrm{sign}(s(t)) $$\n必须满足趋近条件 $s(t)\\dot{s}(t)  0$ (对于 $s(t) \\neq 0$)，以确保状态轨迹向滑模面 $s(t)=0$ 运动。\n$$ s(t)\\dot{s}(t) = s(t) \\big(-\\lambda k \\,\\mathrm{sign}(s(t))\\big) = -\\lambda k \\, s(t) \\frac{s(t)}{|s(t)|} = -\\lambda k |s(t)| $$\n由于 $\\lambda  0$ 且 $k  0$，对于任何 $s(t) \\neq 0$，乘积 $-\\lambda k |s(t)|$ 严格为负。因此，对于任何正的 $\\lambda$ 和 $k$ 的选择，趋近条件都得到满足。\n\n为了求得到达时间 $T_r$，我们必须求解趋近阶段中关于 $s(t)$ 的微分方程。初始条件为 $s(0) = s_{0} = 2$，是正数。在时间区间 $t \\in [0, T_r)$ 内，滑模变量 $s(t)$ 保持为正，所以 $\\mathrm{sign}(s(t)) = 1$。动态方程简化为：\n$$ \\dot{s}(t) = -\\lambda k $$\n这是一个一阶线性常微分方程。我们从 $t=0$ 到 $t=T_r$ 进行积分：\n$$ \\int_{s(0)}^{s(T_r)} ds = \\int_{0}^{T_r} -\\lambda k \\, dt $$\n状态在时间 $T_r$ 到达滑模面，这意味着 $s(T_r) = 0$。当 $s(0) = s_0$ 时：\n$$ s(T_r) - s(0) = -\\lambda k (T_r - 0) $$\n$$ 0 - s_0 = -\\lambda k T_r $$\n$$ T_r = \\frac{s_0}{\\lambda k} $$\n到达时间要求为 $T_r \\leq T_{\\mathrm{req}}$。代入 $T_r$ 的表达式以及 $s_0=2$ 和 $T_{\\mathrm{req}}=0.5$ 的值：\n$$ \\frac{2}{\\lambda k} \\leq 0.5 \\implies \\lambda k \\geq \\frac{2}{0.5} \\implies \\lambda k \\geq 4 $$\n这是对设计参数的第一个约束。\n\n控制幅值约束的推导：\n控制输入为 $u(t) = -k \\,\\mathrm{sign}(s(t))$。其幅值为：\n$$ |u(t)| = |-k \\,\\mathrm{sign}(s(t))| = k |\\mathrm{sign}(s(t))| $$\n对于 $s(t) \\neq 0$，我们有 $|\\mathrm{sign}(s(t))|=1$，所以 $|u(t)|=k$。要求 $|u(t)| \\leq U_{\\max}$ 变为：\n$$ k \\leq U_{\\max} $$\n代入值 $U_{\\max} = 1.5$：\n$$ k \\leq 1.5 $$\n这是第二个约束。\n\n约束优化问题的构建：\n目标是找到最优参数 $(\\lambda^{\\star}, k^{\\star})$，使得性能指标 $J(\\lambda,k) = \\lambda^{2} + k^{2}$ 最小，同时满足推导出的约束和给定的正性条件。\n\n最小化：\n$$ J(\\lambda, k) = \\lambda^{2} + k^{2} $$\n约束条件：\n1. $\\lambda k \\geq 4$\n2. $k \\leq 1.5$\n3. $\\lambda  0$\n4. $k  0$\n\n优化问题的求解：\n目标函数 $J(\\lambda, k)$ 表示参数空间中点 $(\\lambda, k)$ 到原点 $(0,0)$ 的欧几里得距离的平方。最小化 $J$ 等价于在可行域中找到离原点最近的点。\n\n可行域是第一象限中满足 $k \\leq 1.5$ 和 $\\lambda k \\geq 4$ 的点 $(\\lambda, k)$ 的集合。第二个不等式可以写为 $k \\geq 4/\\lambda$。因此，可行域由以下条件定义：\n$$ \\frac{4}{\\lambda} \\leq k \\leq 1.5 $$\n为使该不等式对 $k$ 有非空解集，我们必须有 $4/\\lambda \\leq 1.5$，这意味着 $\\lambda \\geq 4/1.5 = 4/(3/2) = 8/3$。\n\n可行域的下界是双曲线 $k=4/\\lambda$，上界是水平线 $k=1.5$。这两条边界曲线相交于点 $1.5 = 4/\\lambda$，解得 $\\lambda=8/3$。交点为 $(\\lambda, k) = (8/3, 1.5)$。\n\n问题是在此可行域中找到一个点 $(\\lambda, k)$，使得 $\\lambda^2+k^2$ 最小。目标函数的等值线是以原点为中心的圆，即 $ \\lambda^2+k^2=R^2 $。我们寻求与可行域有非空交集的最小的圆。\n\n考虑边界曲线 $k=4/\\lambda$ 上的无约束最小值。我们想要最小化 $f(\\lambda) = \\lambda^2 + (4/\\lambda)^2 = \\lambda^2 + 16\\lambda^{-2}$。其导数为 $f'(\\lambda) = 2\\lambda - 32\\lambda^{-3}$。令导数为零可得 $2\\lambda = 32/\\lambda^3$，即 $\\lambda^4 = 16$。由于 $\\lambda  0$，最小值在 $\\lambda=2$ 处取得。对应的 $k$ 是 $k=4/2=2$。该点为 $(2, 2)$。\n然而，这个点不在可行域内，因为 $k=2$ 违反了约束 $k \\leq 1.5$。\n\n由于目标函数 $\\lambda^2+k^2$ 是一个凸函数，且可行域是一个凸集，最小值必定位于可行域的边界上。边界由 $\\lambda \\geq 8/3$ 上的线段 $k=1.5$ 和 $\\lambda \\ge 8/3$ 上的双曲线弧 $k=4/\\lambda$ 组成。\n\n到线段 $k=1.5$（其中 $\\lambda \\geq 8/3$）上一点的与原点距离的平方是 $J(\\lambda, 1.5) = \\lambda^2 + (1.5)^2$。对于 $\\lambda  0$，该函数是单调递增的。因此，在区间 $\\lambda \\geq 8/3$ 上的最小值在最左边的点 $\\lambda=8/3$ 处取得。\n\n到双曲线弧 $k=4/\\lambda$（其中 $\\lambda  8/3 \\approx 2.67$）上一点的与原点距离的平方是 $J(\\lambda, 4/\\lambda) = \\lambda^2 + 16/\\lambda^2$。对于 $\\lambda0$，该函数的无约束最小值在 $\\lambda=2$ 处取得。对于 $\\lambda  2$，该函数是单调递增的。因此，在区间 $\\lambda  8/3$ 上，当 $\\lambda$ 从右侧趋近于 $8/3$ 时，也趋近于最小值。\n\n两种分析都表明，目标函数在可行域上的最小值出现在公共边界点，即 $k=1.5$ 和 $\\lambda k=4$ 的交点。这个角点是 $(\\lambda, k) = (8/3, 1.5)$。\n\n因此，最优值为 $\\lambda^{\\star} = 8/3$ 和 $k^{\\star} = 1.5$。为了完整性，我们使用分数表示 $1.5 = 3/2$。\n\n最优对为 $\\lambda^{\\star} = 8/3$ 和 $k^{\\star} = 3/2$。问题要求以有序对 $(k^{\\star}, \\lambda^{\\star})$ 的形式给出最终答案。所以这些值为 $k^{\\star} = 3/2$ 和 $\\lambda^{\\star} = 8/3$。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\frac{3}{2}  \\frac{8}{3}\n\\end{pmatrix}\n}\n$$", "id": "2745600"}]}