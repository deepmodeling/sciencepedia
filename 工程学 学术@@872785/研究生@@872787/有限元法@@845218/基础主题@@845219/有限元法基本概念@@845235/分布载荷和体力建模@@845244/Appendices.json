{"hands_on_practices": [{"introduction": "我们从一个经典的结构力学问题开始。这个练习将演示如何运用虚功原理，将分布式的表面压力转化为静力等效的节点力，这是模拟压力容器等结构的基础。通过这个实践，您将深入理解“一致节点荷载”的概念及其在轴对称问题中的推导过程。[@problem_id:2580334]", "problem": "一个半径为 $R$、壁厚均匀为 $t$ 的薄壁闭端右旋圆柱壳，承受垂直于壳体表面的均匀内压 $p$。假设轴对称，忽略弯曲（薄膜行为），并考虑一个标准的两节点线性轴对称薄膜有限元（有限元法，FEM）。该单元代表中面上的一段长度为 $L$ 的直线子午段，其半径恒为 $R$。单元节点位于 $z=0$（节点1）和 $z=L$（节点2），使用全局圆柱坐标系 $(r,z)$，其中向外的法线方向为 $+r$ 方向。\n\n从静力平衡第一原理和表面牵引力的虚功陈述出发，完成以下任务：\n\n1) 推导在给定压力 $p$ 作用下，圆柱壳单位长度上的薄膜合力 $N_{\\phi}$（子午向/轴向）和 $N_{\\theta}$（环向/周向）。\n\n2) 推导仅由作用在单元曲面上的压力场引起的一致节点荷载向量。使用单元在线性子午坐标系下的形函数和轴对称环向积分，将节点1和节点2的节点荷载表示为全局 $(r,z)$ 分量。\n\n将您的最终答案以单行矩阵 $[\\,N_{\\phi},\\,N_{\\theta},\\,F_{r1},\\,F_{z1},\\,F_{r2},\\,F_{z2}\\,]$ 的封闭形式表示，使用 $p$、$R$ 和 $L$。不要代入数值，也不要在最终表达式中包含单位。", "solution": "所给出的问题陈述是有效的。这是一个在固体力学和有限元法领域内，基于既定科学原理的适定问题。该问题是自洽的、一致的，并提供了推导所求量唯一解所需的所有信息。推导将按要求分两部分进行。\n\n第1部分：薄膜合力的推导\n\n薄膜合力是壳体中面上单位长度的力，通过壳体微分或有限截面的静力平衡来确定。问题指明这是一个闭端圆柱体，这对确定子午向力至关重要。\n\n首先，我们推导环向（或周向）合力 $N_{\\theta}$。我们考虑一个轴向长度为 $L_{seg}$ 的圆柱体段的受力体图，该段由一个通过中心轴的平面切割而成。内压 $p$ 径向向外作用。该压力作用在投影面积（一个尺寸为 $2R \\times L_{seg}$ 的矩形）上的合力，必须与作用在壳壁两个切割截面上的环向力相平衡。\n由压力产生的总力为 $F_p = p \\cdot (2R \\cdot L_{seg})$。\n来自壳壁的总抵抗力为 $F_{wall} = 2 \\cdot (N_{\\theta} \\cdot L_{seg})$，其中 $N_{\\theta}$ 是单位轴向长度的环向力。\n为满足平衡：\n$$F_{wall} = F_p$$\n$$2 N_{\\theta} L_{seg} = 2 p R L_{seg}$$\n求解 $N_{\\theta}$ 可得：\n$$N_{\\theta} = pR$$\n\n接下来，我们推导子午向（或轴向）合力 $N_{\\phi}$。对于圆柱体，子午向对应于轴向。由于圆柱体是闭端的，内压 $p$ 在圆形的端盖上施加一个力。我们考虑通过垂直于 $z$ 轴的横向切割创建的圆柱体受力体图。作用在面积为 $\\pi R^2$ 的端盖上的压力产生的总轴向力为 $F_{axial} = p \\cdot (\\pi R^2)$。这个力必须与沿切割周长（即 $2\\pi R$）积分的子午向合力 $N_{\\phi}$ 相平衡。\n来自壳壁的总抵抗力为 $F_{wall} = N_{\\phi} \\cdot (2\\pi R)$。\n为满足轴向平衡：\n$$F_{wall} = F_{axial}$$\n$$N_{\\phi} (2\\pi R) = p(\\pi R^2)$$\n求解 $N_{\\phi}$ 可得：\n$$N_{\\phi} = \\frac{p \\pi R^2}{2\\pi R} = \\frac{pR}{2}$$\n\n第2部分：一致节点荷载向量的推导\n\n一个单元的一致节点荷载向量 $\\mathbf{F}_e$ 是从虚功原理推导出来的。由外表面牵引力 $\\mathbf{t}$ 所做的虚功等效于节点力 $\\mathbf{F}_e$ 通过虚节点位移 $\\delta\\mathbf{d}$ 所做的功。这种关系表示为：\n$$\\delta W_{ext} = \\delta\\mathbf{d}^T \\mathbf{F}_e = \\int_{\\Gamma_e} \\delta\\mathbf{u}^T \\mathbf{t} \\, d\\Gamma_e$$\n其中 $\\mathbf{u}$ 是位移场，$\\delta\\mathbf{u}$ 是虚位移场，$\\Gamma_e$ 是施加牵引力的单元表面。位移场使用形函数 $\\mathbf{N}$ 从节点位移插值得到，即 $\\mathbf{u} = \\mathbf{N}\\mathbf{d}$，因此 $\\delta\\mathbf{u} = \\mathbf{N}\\delta\\mathbf{d}$。将此代入虚功方程可得：\n$$\\delta\\mathbf{d}^T \\mathbf{F}_e = \\int_{\\Gamma_e} (\\mathbf{N}\\delta\\mathbf{d})^T \\mathbf{t} \\, d\\Gamma_e = \\delta\\mathbf{d}^T \\int_{\\Gamma_e} \\mathbf{N}^T \\mathbf{t} \\, d\\Gamma_e$$\n由此我们确定一致节点荷载向量为：\n$$\\mathbf{F}_e = \\int_{\\Gamma_e} \\mathbf{N}^T \\mathbf{t} \\, d\\Gamma_e$$\n对于轴对称单元，表面微分 $d\\Gamma_e$ 由 $d\\Gamma_e = 2\\pi r \\, ds$ 给出，其中 $s$ 是沿单元子午线的坐标。对于给定的直圆柱单元，半径 $r$ 是常数，$r=R$，子午坐标 $s$ 就是轴向坐标 $z$，因此 $ds=dz$。积分在单元的长度上进行，从 $z=0$ 到 $z=L$。\n\n内压 $p$ 垂直于内表面作用。在全局 $(r,z)$ 圆柱坐标系中，向外的法线方向为 $+r$ 方向，牵引力向量为 $\\mathbf{t} = \\begin{pmatrix} p \\\\ 0 \\end{pmatrix}$。\n\n该单元是一个两节点线性单元。位移分量 $u_r(z)$ 和 $u_z(z)$ 由节点1（$z=0$）的节点值 $(u_{r1}, u_{z1})$ 和节点2（$z=L$）的节点值 $(u_{r2}, u_{z2})$ 插值得到。线性形函数为：\n$$N_1(z) = 1 - \\frac{z}{L}$$\n$$N_2(z) = \\frac{z}{L}$$\n位移插值由下式给出：\n$$\\begin{pmatrix} u_r(z) \\\\ u_z(z) \\end{pmatrix} = \\begin{pmatrix} N_1(z)  0  N_2(z)  0 \\\\ 0  N_1(z)  0  N_2(z) \\end{pmatrix} \\begin{pmatrix} u_{r1} \\\\ u_{z1} \\\\ u_{r2} \\\\ u_{z2} \\end{pmatrix} = \\mathbf{N}(z) \\mathbf{d}$$\n节点力向量 $\\mathbf{F}_e = \\begin{pmatrix} F_{r1}  F_{z1}  F_{r2}  F_{z2} \\end{pmatrix}^T$ 的计算如下：\n$$\\mathbf{F}_e = \\int_{0}^{L} \\mathbf{N}(z)^T \\mathbf{t} (2\\pi R) \\, dz$$\n$$\\mathbf{F}_e = 2\\pi R \\int_{0}^{L} \\begin{pmatrix} N_1  0 \\\\ 0  N_1 \\\\ N_2  0 \\\\ 0  N_2 \\end{pmatrix} \\begin{pmatrix} p \\\\ 0 \\end{pmatrix} dz = 2\\pi R p \\int_{0}^{L} \\begin{pmatrix} N_1(z) \\\\ 0 \\\\ N_2(z) \\\\ 0 \\end{pmatrix} dz$$\n我们必须计算形函数的积分：\n$$\\int_{0}^{L} N_1(z) \\, dz = \\int_{0}^{L} \\left(1 - \\frac{z}{L}\\right) dz = \\left[z - \\frac{z^2}{2L}\\right]_{0}^{L} = L - \\frac{L^2}{2L} = \\frac{L}{2}$$\n$$\\int_{0}^{L} N_2(z) \\, dz = \\int_{0}^{L} \\frac{z}{L} \\, dz = \\left[\\frac{z^2}{2L}\\right]_{0}^{L} = \\frac{L^2}{2L} = \\frac{L}{2}$$\n将这些结果代回 $\\mathbf{F}_e$ 的表达式中：\n$$\\mathbf{F}_e = 2\\pi R p \\begin{pmatrix} L/2 \\\\ 0 \\\\ L/2 \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} \\pi p R L \\\\ 0 \\\\ \\pi p R L \\\\ 0 \\end{pmatrix}$$\n因此，节点荷载向量的分量是：\n$F_{r1} = \\pi p R L$\n$F_{z1} = 0$\n$F_{r2} = \\pi p R L$\n$F_{z2} = 0$\n施加在单元上的总径向力为 $p \\cdot (2\\pi R L)$，该力被正确地分配给两个节点，每个节点分配到 $\\pi p R L$。轴向节点力为零，因为曲面上的压力纯粹作用在径向方向。\n\n将所有推导出的量组合成指定的单行矩阵 $[\\,N_{\\phi},\\,N_{\\theta},\\,F_{r1},\\,F_{z1},\\,F_{r2},\\,F_{z2}\\,]$，得到最终答案。\n$$N_{\\phi} = \\frac{pR}{2}$$\n$$N_{\\theta} = pR$$\n$$F_{r1} = \\pi p R L$$\n$$F_{z1} = 0$$\n$$F_{r2} = \\pi p R L$$\n$$F_{z2} = 0$$", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\frac{pR}{2} & pR & \\pi p R L & 0 & \\pi p R L & 0\n\\end{pmatrix}\n}\n$$", "id": "2580334"}, {"introduction": "在正确应用荷载的基础上，我们进一步探讨错误分析与验证。这个练习展示了一个在工程实践中常见的陷阱：在不同坐标系间错误地转换荷载。本练习的目标是让您理解，离散的节点力必须与原始的连续荷载在静力上等效（即具有相同的合力和合力矩），并学习一种简单而有效的平衡检查方法。[@problem_id:2580271]", "problem": "使用有限元法（FEM）对一根长度为 $L$ 的单个直平面框架构件进行建模。该构件相对于全局x轴倾斜角度为 $\\theta$，节点1位于全局坐标原点，节点2的坐标为 $\\left(L\\cos\\theta,\\,L\\sin\\theta\\right)$。该构件在全跨范围内承受一个集度为常数 $q$ 的均布荷载，该荷载在全局坐标系中竖直向下作用（即，沿全局-y方向）。无其他荷载作用。为进行荷载验证（而非求解位移），暂时忽略支座，以便只考虑施加的外荷载。\n\n一位工程师错误地将此全局竖向荷载映射到构件的局部坐标系中，假设其为大小为 $q$ 的纯局部横向荷载，且无局部轴向分量。换言之，他们对整个构件取单位长度的局部荷载为 $\\left(q_{x}^{\\mathrm{loc}}, q_{y}^{\\mathrm{loc}}\\right)=\\left(0,\\,-q\\right)$，然后将相应的等效节点荷载组装到全局系统中。\n\n从连续体线动量和角动量平衡的第一性原理出发，推导由以下两种情况产生的全局合力以及绕全局坐标原点的标量平面外力矩：\n- 真实的连续分布荷载（沿倾斜构件的全局竖向 $-q\\,\\mathbf{e}_y$），以及\n- 转换到全局坐标系并沿构件积分的错误映射局部荷载 $\\left(0,-q\\right)$。\n\n使用局部和全局单位矢量之间的旋转关系，其中局部基底为 $\\mathbf{e}_{x}^{\\mathrm{loc}}=\\left[\\cos\\theta,\\ \\sin\\theta\\right]$ 和 $\\mathbf{e}_{y}^{\\mathrm{loc}}=\\left[-\\sin\\theta,\\ \\cos\\theta\\right]$，构件中心线由弧长 $s\\in[0,L]$ 参数化，其全局位置为 $\\mathbf{r}(s)=\\left[s\\cos\\theta,\\ s\\sin\\theta\\right]$。将绕原点的二维力矩取为标量 $M_{O}=\\int \\left(x f_y - y f_x\\right)\\,ds$。\n\n将问题具体化到数值案例 $L=4\\,\\mathrm{m}$，$\\theta=30^\\circ$ 和 $q=5\\,\\mathrm{kN/m}$。然后回答以下关于错误施加的荷载是否满足离散全局平衡，以及如何通过在组装后对全局节点力和力矩求和来设计一个诊断测试以检测任何不平衡的多项选择题。假设对于一个均布线荷载，无论提供给单元子程序的单位长度荷载矢量是什么，组装的等效节点荷载（力和节点力矩/力偶）都能精确地再现该线荷载的合力及其力矩。\n\n哪个陈述是正确的？\n\nA. 离散平衡得到满足。组装后的全局总和等于真实的连续体合力：$\\sum \\mathbf{F}=\\left(0,\\,-20\\right)\\,\\mathrm{kN}$ 和 $\\sum M_{O}=-34.641\\,\\mathrm{kN\\cdot m}$。一个合适的测试是验证这些总和是否匹配；没有检测到不平衡。\n\nB. 由于错误的映射，离散平衡被违反。组装后的全局总和为 $\\sum \\mathbf{F}=\\left(10,\\,-17.321\\right)\\,\\mathrm{kN}$ 和 $\\sum M_{O}=-40.000\\,\\mathrm{kN\\cdot m}$，相对于真实的连续体合力产生残差 $\\mathbf{R}_{F}=\\left(-10.000,\\,-2.679\\right)\\,\\mathrm{kN}$ 和 $R_{M}=+5.359\\,\\mathrm{kN\\cdot m}$。一个合适的测试是：组装后（暂时移除支座），计算 $\\sum \\mathbf{F}$ 和 $\\sum\\left(\\mathbf{r}_i\\times \\mathbf{F}_i\\right)+\\sum M_i$ 绕选定原点的合力与合力矩，并与解析的连续体积分进行比较；如果残差超过容差，则标记为不平衡。\n\nC. 离散力组装正确但力矩不正确。可以发现 $\\sum \\mathbf{F}=\\left(0,\\,-20\\right)\\,\\mathrm{kN}$ 而 $\\sum M_{O}=-40.000\\,\\mathrm{kN\\cdot m}$。适当的测试是只检查全局力矩总和，因为力平衡自动成立。\n\nD. 离散力组装不正确，但由于巧合，全局力矩等于真实的连续体力矩。具体来说，$\\sum \\mathbf{F}=\\left(10,\\,-17.321\\right)\\,\\mathrm{kN}$ 但 $\\sum M_{O}=-34.641\\,\\mathrm{kN\\cdot m}$。最好的测试是只将 $\\sum \\mathbf{F}$ 与解析合力进行比较；力矩检查是不必要的。", "solution": "对问题陈述进行验证。\n\n步骤1：提取已知条件\n- 一根长度为 $L$ 的单个直平面框架构件。\n- 相对于全局x轴的倾斜角 $\\theta$。\n- 节点1位于全局坐标原点 $(0,0)$。\n- 节点2位于坐标 $(L\\cos\\theta, L\\sin\\theta)$。\n- 一个集度为 $q$ 的均布荷载在全局坐标系中沿竖直向下方向（全局-y方向）作用于全跨。\n- 为进行分析，忽略支座。\n- 对荷载进行了错误的映射：声称单位长度的局部荷载为 $(q_{x}^{\\mathrm{loc}}, q_{y}^{\\mathrm{loc}})=(0, -q)$。\n- 局部和全局基底矢量之间的关系由 $\\mathbf{e}_{x}^{\\mathrm{loc}}=[\\cos\\theta, \\sin\\theta]$ 和 $\\mathbf{e}_{y}^{\\mathrm{loc}}=[-\\sin\\theta, \\cos\\theta]$ 给出。\n- 构件中心线由弧长 $s \\in [0,L]$ 参数化为 $\\mathbf{r}(s)=[s\\cos\\theta, s\\sin\\theta]$。\n- 绕原点的力矩定义为 $M_{O}=\\int (x f_y - y f_x)\\,ds$。\n- 提供了一个假设：“对于一个均布线荷载，无论提供给单元子程序的单位长度荷载矢量是什么，组装的等效节点荷载（力和节点力矩/力偶）都能精确地再现该线荷载的合力及其力矩。”\n- 用于具体化的数值：$L=4\\,\\mathrm{m}$，$\\theta=30^\\circ$，$q=5\\,\\mathrm{kN/m}$。\n\n步骤2：使用提取的已知条件进行验证\n该问题在连续介质力学、矢量微积分和有限元法的原理上具有科学依据。它提出了结构分析中一个现实的错误场景——坐标系之间荷载的错误转换。该问题是适定的；它提供了执行所要求的计算和比较所需的所有必要信息、定义和关系。语言精确客观。所提供的数据是一致且物理上合理的。不存在科学或逻辑上的缺陷。\n\n步骤3：结论与行动\n问题是有效的。将推导完整解答。\n\n首先，我们推导真实连续荷载的全局合力和力矩。\n真实的分布荷载是单位长度上的力 $\\mathbf{f}_{\\text{true}}$，在全局负y方向上作用。\n$$\n\\mathbf{f}_{\\text{true}}(s) = q\\,(-\\mathbf{e}_y) = [0, -q]\n$$\n该荷载沿构件中心线施加，其位置矢量由 $\\mathbf{r}(s) = [s\\cos\\theta, s\\sin\\theta]$（其中 $s \\in [0, L]$）参数化。\n\n合力 $\\mathbf{F}_{\\text{true}}$ 是力分布在构件长度上的积分：\n$$\n\\mathbf{F}_{\\text{true}} = \\int_{0}^{L} \\mathbf{f}_{\\text{true}}(s) \\, ds = \\int_{0}^{L} [0, -q] \\, ds = [0, -qL]\n$$\n绕全局坐标原点的合力矩 $M_{O,\\text{true}}$ 是力分布力矩的积分：\n$$\nM_{O,\\text{true}} = \\int_{0}^{L} (\\mathbf{r}(s) \\times \\mathbf{f}_{\\text{true}}(s))_z \\, ds\n$$\n使用提供的标量公式 $M_{O} = \\int (x f_y - y f_x) \\, ds$，其中 $\\mathbf{r}(s) = [x(s), y(s)] = [s\\cos\\theta, s\\sin\\theta]$ 且 $\\mathbf{f}_{\\text{true}} = [f_x, f_y] = [0, -q]$：\n$$\nM_{O,\\text{true}} = \\int_{0}^{L} ( (s\\cos\\theta)(-q) - (s\\sin\\theta)(0) ) \\, ds = -q\\cos\\theta \\int_{0}^{L} s \\, ds\n$$\n$$\nM_{O,\\text{true}} = -q\\cos\\theta \\left[ \\frac{s^2}{2} \\right]_{0}^{L} = -\\frac{qL^2}{2}\\cos\\theta\n$$\n\n接下来，我们分析工程师错误映射荷载产生的合力。\n工程师假设了一个局部荷载分布 $(q_{x}^{\\mathrm{loc}}, q_{y}^{\\mathrm{loc}}) = (0, -q)$。这代表了构件局部坐标系中的力分布。单位长度上的局部力矢量为 $\\mathbf{f}_{\\text{loc}} = [0, -q]$。\n为了找到全局合力，我们必须首先在全局坐标系中表示这个荷载。从局部到全局的转换由下式给出：\n$$\n\\mathbf{f}_{\\text{incorrect}}(s) = q_{x}^{\\mathrm{loc}} \\mathbf{e}_{x}^{\\mathrm{loc}} + q_{y}^{\\mathrm{loc}} \\mathbf{e}_{y}^{\\mathrm{loc}}\n$$\n代入给定的分量和基底矢量：\n$$\n\\mathbf{f}_{\\text{incorrect}}(s) = (0)\\mathbf{e}_{x}^{\\mathrm{loc}} + (-q)\\mathbf{e}_{y}^{\\mathrm{loc}} = -q [-\\sin\\theta, \\cos\\theta] = [q\\sin\\theta, -q\\cos\\theta]\n$$\n这是全局坐标系中错误的力分布。\n\n这个错误分布产生的合力 $\\mathbf{F}_{\\text{incorrect}}$ 是：\n$$\n\\mathbf{F}_{\\text{incorrect}} = \\int_{0}^{L} \\mathbf{f}_{\\text{incorrect}}(s) \\, ds = \\int_{0}^{L} [q\\sin\\theta, -q\\cos\\theta] \\, ds = [qL\\sin\\theta, -qL\\cos\\theta]\n$$\n问题陈述说明，组装的等效节点荷载的总和 $\\sum \\mathbf{F}$ 再现了这个合力。\n这个错误荷载绕原点的合力矩 $M_{O,\\text{incorrect}}$ 是：\n使用 $\\mathbf{r}(s) = [s\\cos\\theta, s\\sin\\theta]$ 和 $\\mathbf{f}_{\\text{incorrect}} = [f_x, f_y] = [q\\sin\\theta, -q\\cos\\theta]$：\n$$\nM_{O,\\text{incorrect}} = \\int_{0}^{L} ( (s\\cos\\theta)(-q\\cos\\theta) - (s\\sin\\theta)(q\\sin\\theta) ) \\, ds\n$$\n$$\nM_{O,\\text{incorrect}} = \\int_{0}^{L} -qs (\\cos^2\\theta + \\sin^2\\theta) \\, ds = -q \\int_{0}^{L} s \\, ds\n$$\n$$\nM_{O,\\text{incorrect}} = -q \\left[ \\frac{s^2}{2} \\right]_{0}^{L} = -\\frac{qL^2}{2}\n$$\n问题陈述说明，组装的等效节点力矩的总和 $\\sum M_{O}$ 再现了这个合力矩。\n\n现在，我们具体化到数值案例：$L=4\\,\\mathrm{m}$，$\\theta=30^\\circ$，$q=5\\,\\mathrm{kN/m}$。\n我们使用 $\\cos(30^\\circ) = \\frac{\\sqrt{3}}{2} \\approx 0.866025$ 和 $\\sin(30^\\circ) = \\frac{1}{2} = 0.5$。\n\n真实荷载的合力：\n$$\n\\mathbf{F}_{\\text{true}} = [0, -(5)(4)] = [0, -20]\\,\\mathrm{kN}\n$$\n$$\nM_{O,\\text{true}} = -\\frac{(5)(4^2)}{2}\\cos(30^\\circ) = -\\frac{80}{2} \\left(\\frac{\\sqrt{3}}{2}\\right) = -20\\sqrt{3} \\approx -34.641\\,\\mathrm{kN\\cdot m}\n$$\n这些是正确施加荷载应该产生的基准值。\n\n错误荷载的合力（代表组装的节点荷载的总和）：\n$$\n\\sum \\mathbf{F} = \\mathbf{F}_{\\text{incorrect}} = [(5)(4)\\sin(30^\\circ), -(5)(4)\\cos(30^\\circ)] = [20(0.5), -20(0.866025)]\n$$\n$$\n\\sum \\mathbf{F} = [10, -17.3205] \\approx [10, -17.321]\\,\\mathrm{kN}\n$$\n$$\n\\sum M_{O} = M_{O,\\text{incorrect}} = -\\frac{(5)(4^2)}{2} = -\\frac{80}{2} = -40\\,\\mathrm{kN\\cdot m}\n$$\n\n误差，或称残差，是真实合力与计算合力之间的差值。通常将残差定义为 $\\text{真实值} - \\text{计算值}$。\n力残差：\n$$\n\\mathbf{R}_{F} = \\mathbf{F}_{\\text{true}} - \\mathbf{F}_{\\text{incorrect}} = [0, -20] - [10, -17.321] = [-10, -2.679]\\,\\mathrm{kN}\n$$\n力矩残差：\n$$\nR_{M} = M_{O,\\text{true}} - M_{O,\\text{incorrect}} = -34.641 - (-40.000) = +5.359\\,\\mathrm{kN\\cdot m}\n$$\n工程师的错误导致模型中施加的荷载与实际物理荷载在静力学上不等效。这违反了荷载表示的原则。因此，用于检查正确性的诊断测试必须将组装的节点荷载的合力与真实的连续荷载的合力进行比较。\n\n我们现在评估每个选项。\n\nA. 离散平衡得到满足。组装后的全局总和等于真实的连续体合力：$\\sum \\mathbf{F}=\\left(0,\\,-20\\right)\\,\\mathrm{kN}$ 和 $\\sum M_{O}=-34.641\\,\\mathrm{kN\\cdot m}$。一个合适的测试是验证这些总和是否匹配；没有检测到不平衡。\n这是**不正确的**。我的计算表明组装后的总和为 $\\sum \\mathbf{F} \\approx \\left(10,\\,-17.321\\right)\\,\\mathrm{kN}$ 和 $\\sum M_{O}=-40.000\\,\\mathrm{kN\\cdot m}$。它们不等于真实的合力。\n\nB. 由于错误的映射，离散平衡被违反。组装后的全局总和为 $\\sum \\mathbf{F}=\\left(10,\\,-17.321\\right)\\,\\mathrm{kN}$ 和 $\\sum M_{O}=-40.000\\,\\mathrm{kN\\cdot m}$，相对于真实的连续体合力产生残差 $\\mathbf{R}_{F}=\\left(-10.000,\\,-2.679\\right)\\,\\mathrm{kN}$ 和 $R_{M}=+5.359\\,\\mathrm{kN\\cdot m}$。一个合适的测试是：组装后（暂时移除支座），计算 $\\sum \\mathbf{F}$ 和 $\\sum\\left(\\mathbf{r}_i\\times \\mathbf{F}_i\\right)+\\sum M_i$ 绕选定原点的合力与合力矩，并与解析的连续体积分进行比较；如果残差超过容差，则标记为不平衡。\n这是**正确的**。计算出的错误荷载的组装总和与所述值相符。定义为真实值减去计算值的残差也相符。所描述的诊断测试正是验证所施加的节点荷载与物理连续荷载之间静力等效性的正确程序。\n\nC. 离散力组装正确但力矩不正确。可以发现 $\\sum \\mathbf{F}=\\left(0,\\,-20\\right)\\,\\mathrm{kN}$ 而 $\\sum M_{O}=-40.000\\,\\mathrm{kN\\cdot m}$。适当的测试是只检查全局力矩总和，因为力平衡自动成立。\n这是**不正确的**。离散力没有正确组装。力的总和是 $\\sum \\mathbf{F} \\approx \\left(10,\\,-17.321\\right)\\,\\mathrm{kN}$，而不是 $\\left(0,\\,-20\\right)\\,\\mathrm{kN}$。\n\nD. 离散力组装不正确，但由于巧合，全局力矩等于真实的连续体力矩。具体来说，$\\sum \\mathbf{F}=\\left(10,\\,-17.321\\right)\\,\\mathrm{kN}$ 但 $\\sum M_{O}=-34.641\\,\\mathrm{kN\\cdot m}$。最好的测试是只将 $\\sum \\mathbf{F}$ 与解析合力进行比较；力矩检查是不必要的。\n这是**不正确的**。全局组装力矩为 $\\sum M_O = -40.000\\,\\mathrm{kN\\cdot m}$，不等于真实的连续体力矩 $M_{O,\\text{true}} \\approx -34.641\\,\\mathrm{kN\\cdot m}$。这并非巧合。力和力矩的检查都是必要的。", "answer": "$$\\boxed{B}$$", "id": "2580271"}, {"introduction": "最后，我们介绍一种用于软件验证的、先进且强大的技术——“制造解方法”(Method of Manufactured Solutions, MMS)。此方法通过为一个预设的精确解反向推导其所需的体力项和边界牵引力项，从而创建一个完整的边值问题。通过将有限元计算结果与这个已知的精确解进行比较，我们可以严谨地验证程序中分布式荷载和边界牵引力项实现的正确性，并评估整体计算精度。[@problem_id:2580339]", "problem": "考虑单位正方形域 $\\Omega = (0,1)\\times(0,1)$ 上的二维、小应变、线性弹性边值问题，假设为平面应变情况，材料为各向同性，其拉梅(Lamé)参数为 $\\lambda > 0$ 和 $\\mu > 0$。其强形式包括在 $\\Omega$ 内的动量平衡方程 $-\\nabla\\cdot \\boldsymbol{\\sigma} = \\boldsymbol{b}$、运动学关系 $\\boldsymbol{\\varepsilon}(\\boldsymbol{u}) = \\tfrac{1}{2}\\left(\\nabla \\boldsymbol{u} + \\nabla \\boldsymbol{u}^{\\mathsf{T}}\\right)$ 以及本构关系 $\\boldsymbol{\\sigma} = \\lambda\\,\\mathrm{tr}\\!\\left(\\boldsymbol{\\varepsilon}\\right)\\boldsymbol{I} + 2\\mu\\,\\boldsymbol{\\varepsilon}$。边界 $\\partial\\Omega$ 被划分为狄利克雷(Dirichlet)部分 $\\Gamma_{D} = \\{x=0\\}\\cup\\{y=0\\}$ 和诺伊曼(Neumann)部分 $\\Gamma_{N} = \\{x=1\\}\\cup\\{y=1\\}$。\n\n使用人造解法，设精确位移场指定为\n$$\n\\boldsymbol{u}(x,y) = \\begin{pmatrix} u_{1}(x,y) \\\\ u_{2}(x,y) \\end{pmatrix}\n= \\begin{pmatrix} x^{2}y \\\\ -x y^{2} \\end{pmatrix}.\n$$\n在 $\\Gamma_{D}$ 上，施加本质边界条件 $\\boldsymbol{u} = \\boldsymbol{u}(x,y)$；在 $\\Gamma_{N}$ 上，面力 $\\boldsymbol{t}$ 满足 $\\boldsymbol{t} = \\boldsymbol{\\sigma}(\\boldsymbol{u})\\boldsymbol{n}$，其中 $\\boldsymbol{n}$ 是向外的单位法向量。\n\n任务：\n- 推导在 $\\Omega$ 内的体力场 $\\boldsymbol{b}(x,y)$ 和在 $\\Gamma_{N}$ 上的面力场 $\\boldsymbol{t}(x,y)$，使得上述 $\\boldsymbol{u}(x,y)$ 成为该强形式问题的一个精确解。\n- 定义标量\n$$\nQ \\;=\\; \\int_{0}^{1}\\!\\!\\int_{0}^{1} b_{1}(x,y)\\,dx\\,dy,\n$$\n其中 $b_{1}$ 是 $\\boldsymbol{b}$ 的第一个分量。以 $\\lambda$ 和 $\\mu$ 的封闭形式解析表达式报告 $Q$ 的值。假设所有量都是无量纲的，无需单位。无需数值取整。\n- 简要概述在有限元法 (FEM) 框架内的一个验证过程，用以评估使用此人造解实现的分布体力 $\\boldsymbol{b}$ 和边界面力 $\\boldsymbol{t}$ 的正确性。\n\n你最终报告的答案必须是 $Q$ 的单一封闭形式表达式。", "solution": "我们从无惯性项的基本线性动量平衡方程 $-\\nabla\\cdot\\boldsymbol{\\sigma} = \\boldsymbol{b}$（在 $\\Omega$ 内）出发，结合小应变运动学关系 $\\boldsymbol{\\varepsilon}(\\boldsymbol{u}) = \\tfrac{1}{2}(\\nabla \\boldsymbol{u} + \\nabla \\boldsymbol{u}^{\\mathsf{T}})$ 和各向同性线性弹性本构关系 $\\boldsymbol{\\sigma} = \\lambda\\,\\mathrm{tr}(\\boldsymbol{\\varepsilon})\\boldsymbol{I} + 2\\mu\\,\\boldsymbol{\\varepsilon}$。诺伊曼(Neumann)边界上的面力由 $\\boldsymbol{t} = \\boldsymbol{\\sigma}\\boldsymbol{n}$ 给出。\n\n第1步：计算人造解的位移梯度和应变。给定 $u_{1}(x,y) = x^{2}y$ 和 $u_{2}(x,y) = -xy^{2}$，\n$$\n\\frac{\\partial u_{1}}{\\partial x} = 2xy,\\quad \\frac{\\partial u_{1}}{\\partial y} = x^{2},\\quad\n\\frac{\\partial u_{2}}{\\partial x} = -y^{2},\\quad \\frac{\\partial u_{2}}{\\partial y} = -2xy.\n$$\n因此，小应变张量的分量为\n$$\n\\varepsilon_{xx} = \\frac{\\partial u_{1}}{\\partial x} = 2xy,\\qquad\n\\varepsilon_{yy} = \\frac{\\partial u_{2}}{\\partial y} = -2xy,\\qquad\n\\varepsilon_{xy} = \\frac{1}{2}\\!\\left(\\frac{\\partial u_{1}}{\\partial y} + \\frac{\\partial u_{2}}{\\partial x}\\right) = \\frac{1}{2}\\!\\left(x^{2} - y^{2}\\right).\n$$\n其迹为\n$$\n\\mathrm{tr}(\\boldsymbol{\\varepsilon}) \\;=\\; \\varepsilon_{xx} + \\varepsilon_{yy} \\;=\\; 2xy - 2xy \\;=\\; 0.\n$$\n\n第2步：计算柯西(Cauchy)应力。使用 $\\boldsymbol{\\sigma} = \\lambda\\,\\mathrm{tr}(\\boldsymbol{\\varepsilon})\\boldsymbol{I} + 2\\mu\\,\\boldsymbol{\\varepsilon}$ 以及 $\\mathrm{tr}(\\boldsymbol{\\varepsilon})=0$，\n$$\n\\sigma_{xx} = 2\\mu\\,\\varepsilon_{xx} = 4\\mu\\,xy,\\qquad\n\\sigma_{yy} = 2\\mu\\,\\varepsilon_{yy} = -4\\mu\\,xy,\\qquad\n\\sigma_{xy} = 2\\mu\\,\\varepsilon_{xy} = \\mu\\,(x^{2} - y^{2}).\n$$\n根据对称性，$\\sigma_{yx} = \\sigma_{xy}$。\n\n第3步：计算应力的散度以获得体力 $\\boldsymbol{b}$。散度为 $(\\nabla\\cdot\\boldsymbol{\\sigma})_{i} = \\sum_{j}\\partial \\sigma_{ij}/\\partial x_{j}$，因此\n$$\n(\\nabla\\cdot\\boldsymbol{\\sigma})_{x} = \\frac{\\partial \\sigma_{xx}}{\\partial x} + \\frac{\\partial \\sigma_{xy}}{\\partial y}\n= \\frac{\\partial (4\\mu\\,xy)}{\\partial x} + \\frac{\\partial \\big(\\mu\\,(x^{2} - y^{2})\\big)}{\\partial y}\n= 4\\mu\\,y - 2\\mu\\,y = 2\\mu\\,y,\n$$\n$$\n(\\nabla\\cdot\\boldsymbol{\\sigma})_{y} = \\frac{\\partial \\sigma_{yx}}{\\partial x} + \\frac{\\partial \\sigma_{yy}}{\\partial y}\n= \\frac{\\partial \\big(\\mu\\,(x^{2} - y^{2})\\big)}{\\partial x} + \\frac{\\partial (-4\\mu\\,xy)}{\\partial y}\n= 2\\mu\\,x - 4\\mu\\,x = -2\\mu\\,x.\n$$\n因此，根据 $-\\nabla\\cdot\\boldsymbol{\\sigma} = \\boldsymbol{b}$，\n$$\n\\boldsymbol{b}(x,y) = \\begin{pmatrix} b_{1}(x,y) \\\\ b_{2}(x,y) \\end{pmatrix}\n= \\begin{pmatrix} -2\\mu\\,y \\\\ 2\\mu\\,x \\end{pmatrix}.\n$$\n\n第4步：计算 $\\Gamma_{N}$ 上的面力。面力为 $\\boldsymbol{t} = \\boldsymbol{\\sigma}\\boldsymbol{n}$。\n\n- 在右边界 $\\{x=1\\}$ 上，向外的单位法向量为 $\\boldsymbol{n} = (1,0)^{\\mathsf{T}}$。因此\n$$\n\\boldsymbol{t}(1,y) = \\begin{pmatrix} \\sigma_{xx}(1,y) \\\\ \\sigma_{yx}(1,y) \\end{pmatrix}\n= \\begin{pmatrix} 4\\mu\\,y \\\\ \\mu\\,(1 - y^{2}) \\end{pmatrix}.\n$$\n\n- 在上边界 $\\{y=1\\}$ 上，向外的单位法向量为 $\\boldsymbol{n} = (0,1)^{\\mathsf{T}}$。因此\n$$\n\\boldsymbol{t}(x,1) = \\begin{pmatrix} \\sigma_{xy}(x,1) \\\\ \\sigma_{yy}(x,1) \\end{pmatrix}\n= \\begin{pmatrix} \\mu\\,(x^{2} - 1) \\\\ -4\\mu\\,x \\end{pmatrix}.\n$$\n\n第5步：计算所求的标量 $Q = \\int_{0}^{1}\\!\\!\\int_{0}^{1} b_{1}(x,y)\\,dx\\,dy$。由于 $b_{1}(x,y) = -2\\mu\\,y$，\n$$\nQ = \\int_{0}^{1}\\!\\!\\int_{0}^{1} \\big(-2\\mu\\,y\\big)\\,dx\\,dy\n= \\int_{0}^{1} \\left[\\int_{0}^{1} \\big(-2\\mu\\,y\\big)\\,dx \\right] dy\n= \\int_{0}^{1} \\big(-2\\mu\\,y\\cdot 1\\big)\\,dy\n= -2\\mu \\int_{0}^{1} y\\,dy\n= -2\\mu \\cdot \\frac{1}{2} = -\\mu.\n$$\n\n第6步：概述使用此人造解在有限元法 (FEM) 中验证分布载荷和面力的程序。\n- 通过在每个单元上的体积积分，在单元级载荷向量中实现体力 $\\boldsymbol{b}(x,y) = (-2\\mu\\,y,\\,2\\mu\\,x)^{\\mathsf{T}}$；并通过在属于 $\\{x=1\\}\\cup\\{y=1\\}$ 的边界面上的边界积分，实现 $\\Gamma_{N}$ 上的面力 $\\boldsymbol{t}$。\n- 通过将节点位移 $\\boldsymbol{u}$ 的值设置为精确解 $\\boldsymbol{u}(x,y) = (x^{2}y,\\,-xy^{2})^{\\mathsf{T}}$，在 $\\Gamma_{D} = \\{x=0\\}\\cup\\{y=0\\}$ 上施加本质边界条件。\n- 求解离散线性系统以获得有限元位移场 $\\boldsymbol{u}_{h}$。\n- 计算与精确解的误差范数，例如，$L^{2}$ 范数 $\\|\\boldsymbol{u} - \\boldsymbol{u}_{h}\\|_{L^{2}(\\Omega)}$ 和能量范数 $\\|\\boldsymbol{u} - \\boldsymbol{u}_{h}\\|_{E} = \\left(\\int_{\\Omega} (\\boldsymbol{\\varepsilon}(\\boldsymbol{u} - \\boldsymbol{u}_{h})):\\boldsymbol{C}:(\\boldsymbol{\\varepsilon}(\\boldsymbol{u} - \\boldsymbol{u}_{h}))\\,d\\Omega\\right)^{1/2}$，其中 $\\boldsymbol{C}$ 是对应于 $(\\lambda,\\mu)$ 的四阶弹性张量。\n- 在固定的多项式次数 $p$ 下执行 $h$-refinement（网格加密），并验证预期的收敛阶：对于形状规则网格上的足够光滑的解，预期有 $\\|\\boldsymbol{u} - \\boldsymbol{u}_{h}\\|_{L^{2}(\\Omega)} = \\mathcal{O}(h^{p+1})$ 和 $\\|\\boldsymbol{u} - \\boldsymbol{u}_{h}\\|_{E} = \\mathcal{O}(h^{p})$。偏离这些收敛率通常表明在组装分布体力或边界面力项时存在错误。\n- 作为载荷一致性的辅助检查，将精确解代入弱形式并评估其残差；该残差应仅处于数值积分误差的水平。此外，通过比较 $\\int_{\\Omega}\\boldsymbol{b}\\,d\\Omega + \\int_{\\Gamma_{N}}\\boldsymbol{t}\\,ds + \\int_{\\Gamma_{D}}\\boldsymbol{r}\\,ds = \\boldsymbol{0}$ 来验证全局平衡，其中 $\\boldsymbol{r}$ 表示从有限元解中恢复的 $\\Gamma_{D}$ 上的反作用面力。\n- 通过将 $\\int_{\\Omega_{e}} \\boldsymbol{N}^{\\mathsf{T}} \\boldsymbol{b}\\,d\\Omega$ 和 $\\int_{\\partial\\Omega_{e}\\cap\\Gamma_{N}} \\boldsymbol{N}^{\\mathsf{T}} \\boldsymbol{t}\\,ds$ 的数值积分与高阶参考积分进行比较，来检查单元级载荷向量的组装，其中 $\\boldsymbol{N}$ 是形函数。\n\n推导出的 $\\boldsymbol{b}$ 和 $\\boldsymbol{t}$ 保证了精确解 $\\boldsymbol{u}$ 满足强形式和边界条件；因此，在正确实现的情况下，有限元解应能再现预期的收敛行为。", "answer": "$$\\boxed{-\\mu}$$", "id": "2580339"}]}