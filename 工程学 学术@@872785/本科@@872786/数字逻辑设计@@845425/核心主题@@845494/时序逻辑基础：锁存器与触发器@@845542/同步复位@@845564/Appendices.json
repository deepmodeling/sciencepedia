{"hands_on_practices": [{"introduction": "在设计复杂电路之前，掌握同步复位在单个触发器层面的基本行为至关重要。第一个练习要求你逐个周期地追踪一个T触发器的输出，同时考虑其翻转输入和具有更高优先级的同步复位信号。这项练习将帮助你建立关于同步复位如何与时钟及其他数据输入相互作用的直观理解。[@problem_id:1965961]", "problem": "一个数字系统包含一个正边沿触发的T型触发器。该触发器有一个时钟输入 (`CLK`)、一个翻转输入 (`T`)、一个高电平有效同步复位输入 (`RST`) 和一个单输出 (`Q`)。\n\n该触发器的行为如下：\n- 所有状态变化仅在 `CLK` 信号的上升沿发生。\n- 如果在时钟上升沿时 `RST` 输入为高电平（逻辑1），则无论 `T` 输入的值如何，输出 `Q` 都被强制为低电平（逻辑0）。\n- 如果在时钟上升沿时 `RST` 输入为低电平（逻辑0），则触发器按正常模式工作：如果 `T` 为低电平（0），输出 `Q` 保持其先前状态；如果 `T` 为高电平（1），则其状态翻转。\n\n初始状态下，在第一个时钟周期之前，输出 `Q` 处于低电平（0）。在前六个时钟周期的每个上升沿之前，`T` 和 `RST` 输入的值保持稳定，如下表所示。\n\n| 时钟周期 | `T` 输入 | `RST` 输入 |\n| :--- | :---: | :---: |\n| 1 | 1 | 0 |\n| 2 | 1 | 0 |\n| 3 | 1 | 1 |\n| 4 | 0 | 0 |\n| 5 | 1 | 0 |\n| 6 | 0 | 1 |\n\n在时钟周期 1 到 6 的上升沿之后，输出 `Q` 的值序列分别是什么？\n\nA. 1, 0, 0, 0, 1, 0\n\nB. 1, 0, 1, 1, 0, 0\n\nC. 1, 1, 0, 0, 1, 0\n\nD. 0, 1, 0, 0, 1, 0", "solution": "设时钟周期 $k$ 上升沿之后的状态为 $Q[k]$，初始条件为第一个时钟周期前的 $Q[0]=0$。同步高电平有效的复位在上升沿起主导作用，因此每个上升沿的更新规则是：\n- 如果 $RST=1$，则无论 $T$ 为何值，$Q[k]=0$。\n- 如果 $RST=0$，则T触发器正常工作，因此如果 $T=0$，则 $Q[k]=Q[k-1]$；如果 $T=1$，则 $Q[k]=\\overline{Q[k-1]}$。\n\n现在根据表格中的值，逐个周期应用此规则。\n\n周期 1: $T=1$, $RST=0$ 导致翻转。从 $Q[0]=0$ 得到 $Q[1]=1$。\n\n周期 2: $T=1$, $RST=0$ 导致翻转。从 $Q[1]=1$ 得到 $Q[2]=0$。\n\n周期 3: $T=1$, $RST=1$ 导致同步复位。因此，$Q[3]=0$。\n\n周期 4: $T=0$, $RST=0$ 导致保持。从 $Q[3]=0$ 得到 $Q[4]=0$。\n\n周期 5: $T=1$, $RST=0$ 导致翻转。从 $Q[4]=0$ 得到 $Q[5]=1$。\n\n周期 6: $T=0$, $RST=1$ 导致同步复位。因此，$Q[6]=0$。\n\n因此，在周期 1 到 6 的上升沿之后，输出序列为 $1, 0, 0, 0, 1, 0$，这对应于选项 A。", "answer": "$$\\boxed{A}$$", "id": "1965961"}, {"introduction": "同步复位的一个关键优势是其可预测的时序，这有助于防止亚稳态。这个练习从逻辑行为转向物理实现，要求你计算一个经过组合逻辑路径的复位信号所需的建立时间。理解这些时序计算对于确保数字设计的可靠性和稳定性至关重要。[@problem_id:1965945]", "problem": "在一个同步数字系统的设计中，一个特定的D触发器（DFF）必须通过一个名为`RST`的高电平有效外部信号被复位到‘0’状态。该复位是同步实现的，这意味着复位操作受系统时钟控制。`RST`信号不直接连接到DFF的异步复位引脚，而是被整合到为DFF的数据输入端`D`提供输入的组合逻辑中。\n\n从外部`RST`信号到`D`输入的逻辑路径如下：`RST`信号连接到一个双输入与非门的一个输入端。该与非门的另一个输入端永久连接到逻辑‘1’（高电压）。与非门的输出接着通过一个反相器，而反相器的输出直接连接到DFF的`D`输入端。\n\n各组件的时序参数如下：\n- 双输入与非门的传播延迟，$t_{pd,NAND} = 1.2$ ns。\n- 反相器的传播延迟，$t_{pd,INV} = 0.8$ ns。\n- DFF数据输入端（`D`引脚）所需的建立时间，$t_{su,DFF} = 2.5$ ns。\n\n计算外部`RST`信号相对于有效时钟沿的最小建立时间要求，我们将其表示为 $t_{su,RST}$。以纳秒（ns）为单位表示最终答案，并四舍五入到两位有效数字。", "solution": "题目给定一个同步复位，其实现方式是将外部信号$RST$通过组合逻辑馈送到D触发器的D输入端。路径为 $RST \\rightarrow \\text{双输入与非门（另一输入接}1)} \\rightarrow \\text{反相器} \\rightarrow D$。从功能上看，由于$\\text{NAND}(RST,1)=\\overline{RST}$，而反相器输出$\\overline{\\overline{RST}}=RST$，因此整体逻辑是一个缓冲器，所以信号极性不影响时序分析。从$RST$到$D$的总传播延迟是各个门传播延迟之和。\n\n定义路径延迟：\n$$\nt_{pd,\\text{path}}=t_{pd,\\text{NAND}}+t_{pd,\\text{INV}}.\n$$\n\n对于一个同步输入，为满足触发器的建立时间，其在$D$端的信号必须在有效时钟沿之前至少$t_{su,\\text{DFF}}$的时间内保持稳定。如果$RST$是控制外部信号，在相对于有效时钟沿的$-t_{su,\\text{RST}}$时刻发生变化，其影响将在路径延迟后出现在$D$端。因此，为确保$D$在$-t_{su,\\text{DFF}}$时刻有效，我们需要满足\n$$\n-t_{su,\\text{RST}}+t_{pd,\\text{path}}\\leq -t_{su,\\text{DFF}},\n$$\n整理后得到\n$$\nt_{su,\\text{RST}}=t_{su,\\text{DFF}}+t_{pd,\\text{path}}.\n$$\n\n代入给定值，\n$$\nt_{pd,\\text{path}}=1.2\\ \\text{ns}+0.8\\ \\text{ns}=2.0\\ \\text{ns},\n$$\n因此\n$$\nt_{su,\\text{RST}}=2.5\\ \\text{ns}+2.0\\ \\text{ns}=4.5\\ \\text{ns}.\n$$\n\n四舍五入到两位有效数字，$RST$相对于有效时钟沿所需的最小建立时间为$4.5$ ns。", "answer": "$$\\boxed{4.5}$$", "id": "1965945"}, {"introduction": "现在，让我们将所学知识应用到一个更大的时序电路中，并探讨一个常见的故障场景。这个问题要求你判断一个3位同步计数器在复位线路永久固定为高电平时将如何表现。通过分析这种故障情况，你可以加深对同步复位的优先级逻辑如何主导电路正常运行的理解。[@problem_id:1965937]", "problem": "一个同步3位二进制加法计数器由三个T型触发器构成，其输出表示为 $Q_2 Q_1 Q_0$，其中 $Q_2$ 是最高有效位。该计数器设计为在时钟信号的上升沿递增。各触发器T输入端的逻辑由下式给出：\n$T_0 = 1$\n$T_1 = Q_0$\n$T_2 = Q_1 \\cdot Q_0$\n\n该计数器还包含一个高电平有效的同步复位输入，标记为 `RST`。当 `RST` 被置位（逻辑高电平）时，计数器应在下一个时钟上升沿复位到状态 $(0,0,0)$。每个触发器 $Q_i$ 的次态逻辑遵循方程 $Q_{i, \\text{next}} = (T_i \\oplus Q_i) \\cdot \\overline{\\text{RST}}$，其中 $\\oplus$ 表示异或（XOR）运算，$\\overline{\\text{RST}}$ 是 `RST` 的非运算。\n\n假设一个制造缺陷导致 `RST` 输入线永久固定为1（逻辑高电平）。如果计数器被初始化为某个任意的非零状态，并且时钟持续运行，那么计数器的最终长期行为是什么？\n\nA. 计数器将永久固定在状态 $(1,1,1)$。\n\nB. 计数器将作为一个3位减法计数器工作。\n\nC. 计数器将像复位未激活时一样，从 $(0,0,0)$ 到 $(1,1,1)$ 连续循环所有8个状态。\n\nD. 计数器将在第一个有效时钟沿转换到状态 $(0,0,0)$ 并无限期地保持在该状态。\n\nE. 计数器将立即异步复位到 $(0,0,0)$ 并保持在那里，与时钟无关。", "solution": "当没有其他控制信号时，T型触发器根据 $Q_{i,\\text{next}}=T_{i}\\oplus Q_{i}$ 更新状态。对于给定的高电平有效同步复位 $\\text{RST}$ 实现，每个触发器的次态为\n$$\nQ_{i,\\text{next}}=\\left(T_{i}\\oplus Q_{i}\\right)\\cdot\\overline{\\text{RST}}.\n$$\n此处 $\\cdot$ 表示逻辑与（AND），$\\oplus$ 表示异或（XOR）。当制造缺陷导致 $\\text{RST}=1$ 永久成立时，我们始终有 $\\overline{\\text{RST}}=0$。将 $\\overline{\\text{RST}}=0$ 代入，对于每个 $i\\in\\{0,1,2\\}$，可得：\n$$\nQ_{i,\\text{next}}=\\left(T_{i}\\oplus Q_{i}\\right)\\cdot 0=0.\n$$\n因此，无论当前状态 $(Q_{2},Q_{1},Q_{0})$ 是什么，在 `RST` 固定为高电平后的第一个时钟上升沿，其下一个状态是\n$$\n(Q_{2,\\text{next}},Q_{1,\\text{next}},Q_{0,\\text{next}})=(0,0,0).\n$$\n由于 $\\text{RST}$ 保持固定为 $1$，相同的逻辑在每个后续的上升沿都适用，强制使\n$$\n(Q_{2,\\text{next}},Q_{1,\\text{next}},Q_{0,\\text{next}})=(0,0,0)\n$$\n在每个时钟沿都成立。因此，从任何非零初始状态开始，计数器在第一个有效时钟沿转换到 $(0,0,0)$，并无限期地保持在该状态。这与选项D相符，并排除了：\n- A：不可能，因为同步复位强制输出为零，而不是一。\n- B：不会发生减法计数，因为复位门控逻辑起主导作用。\n- C：正常计数功能被 $\\overline{\\text{RST}}=0$ 禁用了。\n- E：该复位是同步的，因此不会有立即的异步变化；状态变化发生在时钟沿。", "answer": "$$\\boxed{D}$$", "id": "1965937"}]}