{"hands_on_practices": [{"introduction": "理论知识需要通过实践来巩固。理解门控D锁存器的时序行为，包括其透明和不透明状态，是掌握时序逻辑电路的关键第一步。这个练习将引导你分析一个带有具体传播延迟 $t_{pd}$ 的D锁存器，在给定一系列输入信号变化时，精确追踪其输出波形，从而加深对电平敏感特性和延迟效应的理解。[@problem_id:1968088]", "problem": "门控D锁存器是一种基本的数字逻辑电路，它有一个数据输入(D)，一个门控输入(G)和一个输出(Q)。该锁存器的行为定义如下：\n- 当门控输入G为高电平(逻辑1)时，锁存器处于“透明”模式，输出Q跟随数据输入D的状态。\n- 当门控输入G为低电平(逻辑0)时，锁存器处于“不透明”模式，输出Q保持其最后的值，忽略D输入的任何变化。\n\n考虑该锁存器的一个具体实现，其具有统一的传播延迟 $t_{pd} = 2 \\text{ ns}$。这意味着，输入(D或G)的任何导致输出Q发生变化的变化，都将在延迟 $t_{pd}$ 后才反映在Q上。\n\n从 $t=0$ 开始，输入D和G随时间经历一系列跃迁。初始时，在 $t=0$ 时，输出Q为低电平(逻辑0)。D和G输入的状态在 $t=0$ 时也为低电平。后续的跃迁如下：\n\n- 在 $t=10 \\text{ ns}$ 时，输入D从低电平跃迁到高电平。\n- 在 $t=20 \\text{ ns}$ 时，输入G从低电平跃迁到高电平。\n- 在 $t=35 \\text{ ns}$ 时，输入D从高电平跃迁到低电平。\n- 在 $t=45 \\text{ ns}$ 时，输入D从低电平跃迁到高电平。\n- 在 $t=60 \\text{ ns}$ 时，输入G从高电平跃迁到低电平。\n- 在 $t=70 \\text{ ns}$ 时，输入D从高电平跃迁到低电平。\n\n您的任务是分析输出Q随时间变化的行为。计算在 $t=0 \\text{ ns}$ 到 $t=90 \\text{ ns}$ 的时间间隔内，输出Q处于高电平状态的总时间。请用纳秒表示您的最终答案。", "solution": "我们对一个传播延迟为 $t_{pd}=2~\\text{ns}$ 的门控D锁存器进行建模。该锁存器的行为是：\n- 如果 $G=1$，输出在延迟 $t_{pd}$ 后跟随 $D$。\n- 如果 $G=0$，输出保持其最后的值；$D$ 的变化不会产生影响。\n- $G$ 到 $1$ 的上升沿跃迁会导致 $Q$ 在 $t_{pd}$ 后取 $D$ 的当前值。\n- $G$ 到 $0$ 的下降沿跃迁不会改变 $Q$；它只是阻止了来自 $D$ 的进一步传播。\n\n在 $t=0$ 时的初始条件：$D=0$，$G=0$，$Q=0$。\n\n按给定的输入跃迁顺序分析：\n\n1) 在 $t=10~\\text{ns}$ 时，$D:0\\to1$ 且 $G=0$。由于锁存器是不透明的，所以对 $Q$ 没有影响。\n\n2) 在 $t=20~\\text{ns}$ 时，$G:0\\to1$。锁存器变为透明；因为在 $t=20~\\text{ns}$ 时 $D=1$，$Q$ 将在延迟 $t_{pd}$ 后更新为 $1$：\n$$t=20~\\text{ns} \\implies Q \\text{ 在 } 20+2=22~\\text{ns} \\text{ 时变为 } 1\\text{。}$$\n因此 $Q:0\\to1$ 在 $t=22~\\text{ns}$ 时。\n\n3) 在 $t=35~\\text{ns}$ 时，$D:1\\to0$ 且 $G=1$。输出将在 $t_{pd}$ 后跟随：\n$$t=35~\\text{ns} \\implies Q \\text{ 在 } 35+2=37~\\text{ns} \\text{ 时变为 } 0\\text{。}$$\n因此 $Q:1\\to0$ 在 $t=37~\\text{ns}$ 时。\n\n4) 在 $t=45~\\text{ns}$ 时，$D:0\\to1$ 且 $G=1$。输出将在 $t_{pd}$ 后跟随：\n$$t=45~\\text{ns} \\implies Q \\text{ 在 } 45+2=47~\\text{ns} \\text{ 时变为 } 1\\text{。}$$\n因此 $Q:0\\to1$ 在 $t=47~\\text{ns}$ 时。\n\n5) 在 $t=60~\\text{ns}$ 时，$G:1\\to0$。关闭门控不会改变 $Q$；它只是保持当前值。此时 $Q=1$，此后由于 $G=0$，$Q$ 保持为 $1$。\n\n6) 在 $t=70~\\text{ns}$ 时，$D:1\\to0$ 且 $G=0$。锁存器是不透明的，所以对 $Q$ 没有影响。\n\n因此，$Q=1$ 的时间区间是：\n- 从 $t=22~\\text{ns}$ 到 $t=37~\\text{ns}$，持续时间 $37-22=15~\\text{ns}$。\n- 从 $t=47~\\text{ns}$ 到 $t=90~\\text{ns}$，持续时间 $90-47=43~\\text{ns}$。\n\n在 $t=0~\\text{ns}$ 和 $t=90~\\text{ns}$ 之间，$Q$ 处于高电平的总时间是\n$$15~\\text{ns} + 43~\\text{ns} = 58~\\text{ns}。$$", "answer": "$$\\boxed{58}$$", "id": "1968088"}, {"introduction": "在将锁存器作为“黑盒”模型掌握后，探索其内部结构是提升能力的重要一步。这个练习揭示了一个由与非门（NAND gates）构成的典型D锁存器实现，并引入了一个实际工程中常见的问题——故障分析。通过诊断一个内部节点的“固定为1”（stuck-at-1）故障如何影响电路的整体功能，你将能够更深刻地理解门级电路结构与其宏观行为之间的紧密联系。[@problem_id:1968091]", "problem": "一个门控D锁存器由与非门按如下方式构成。主要输入是一条数据线 `D` 和一条使能线 `E`。一个反相器，由一个输入端连接在一起的与非门构成，用于生成 `D_bar = NOT(D)`。锁存器的输出是 `Q` 和 `Q_bar`。其内部结构包含两个主要部分：\n1.  一对输入引导与非门：第一个门计算 `S_bar = NAND(D, E)`，第二个门计算 `R_bar = NAND(D_bar, E)`。\n2.  一个交叉耦合的置位-复位（SR）锁存器核心：它由两个与非门组成，其中 `Q = NAND(S_bar, Q_bar)` 且 `Q_bar = NAND(R_bar, Q)`。\n\n考虑一种情况，其中一个制造缺陷导致某个特定的输入引脚永久性地固定为1（连接到逻辑高电平）。受影响的引脚是SR锁存器核心上部与非门（产生输出`Q`的那个门）的输入端，该引脚本应接收`S_bar`信号。\n\n以下哪个陈述准确地描述了这个有故障的D锁存器的操作行为？\n\nA. 该锁存器功能完全正常，与一个普通的门控D锁存器一样，故障对其行为没有可观察到的影响。\n\nB. 无论输入 `D` 和 `E` 是什么，输出 `Q` 永久性地固定为0。\n\nC. 当使能输入 `E` 为高电平时，锁存器变为透明但反转数据，即 `Q` 跟随 `NOT(D)`。当 `E` 为低电平时，它保持其状态。\n\nD. 当使能输入 `E` 为高电平时，锁存器将正确地从 `D` 输入加载 `0`，但无法加载 `1`，而是保持其先前的状态。当 `E` 为低电平时，锁存器正确地保持其状态。\n\nE. 该锁存器永久透明，意味着无论使能输入 `E` 是什么，输出 `Q` 总是跟随输入 `D`。\n\nF. 只要使能 `E` 为高电平，电路就会变得不稳定并发生振荡。", "solution": "令 $\\operatorname{NAND}(x,y)=\\neg(x \\land y)$。在预期的锁存器中，引导和核心的关系是\n$$\\overline{D}=\\operatorname{NAND}(D,D)=\\neg D,$$\n$$\\overline{S}=\\operatorname{NAND}(D,E),\\quad \\overline{R}=\\operatorname{NAND}(\\overline{D},E),$$\n$$Q=\\operatorname{NAND}(\\overline{S},\\overline{Q}),\\quad \\overline{Q}=\\operatorname{NAND}(\\overline{R},Q).$$\n在存在故障的情况下，本应将$\\overline{S}$信号传送到产生$Q$的与非门的输入引脚被固定在逻辑$1$。因此，上部的核心门变为\n$$Q=\\operatorname{NAND}(1,\\overline{Q})=\\neg(1 \\land \\overline{Q})=\\neg \\overline{Q},$$\n而下部的核心门保持不变\n$$\\overline{Q}=\\operatorname{NAND}(\\overline{R},Q).$$\n$\\overline{R}$的引导电路保持不变：\n$$\\overline{R}=\\operatorname{NAND}(\\overline{D},E).$$\n\n按$E$的不同情况进行分析。\n\n1) 如果 $E=0$，那么 $\\overline{R}=\\operatorname{NAND}(\\overline{D},0)=1$。因此\n$$\\overline{Q}=\\operatorname{NAND}(1,Q)=\\neg Q,$$\n与$Q=\\neg \\overline{Q}$一起，这只是互补条件。没有输入强制其改变状态，所以锁存器保持其先前的状态。\n\n2) 如果 $E=1$，那么 $\\overline{R}=\\operatorname{NAND}(\\overline{D},1)=\\neg \\overline{D}=D$。\n\n- 如果 $D=0$，那么 $\\overline{R}=0$ 并且\n$$\\overline{Q}=\\operatorname{NAND}(0,Q)=1 \\implies Q=\\neg \\overline{Q}=0.$$\n因此，无论先前的状态如何，$Q$被强制为$0$；锁存器正确地加载了$0$。\n\n- 如果 $D=1$，那么 $\\overline{R}=1$ 并且\n$$\\overline{Q}=\\operatorname{NAND}(1,Q)=\\neg Q,$$\n这与$Q=\\neg \\overline{Q}$一起只强加了$Q=\\neg \\overline{Q}$的条件，即两个先前的稳定状态都持续存在，没有强制发生转换。因此，锁存器无法加载$1$，而是保持其先前的状态。\n\n这与描述相符：当$E$为低电平时，锁存器保持状态；当$E$为高电平时，它能正确加载$0$，但不能加载$1$，而是保持先前的状态。因此，正确选项是D，所有其他选项都与推导出的行为不一致。", "answer": "$$\\boxed{D}$$", "id": "1968091"}, {"introduction": "简单的逻辑元件在非标准接法下可以产生复杂的动态行为。这个练习挑战你分析当D锁存器的输入端 $D$ 与其反相输出端 $\\bar{Q}$ 相连时会发生什么。这种巧妙的反馈连接将一个静态的存储元件转变成一个振荡器，这是许多数字系统中不可或缺的基本模块，同时也揭示了不当反馈可能导致的电路不稳定性。[@problem_id:1968100]", "problem": "一个标准的门控D锁存器有一个数据输入(D)、一个使能输入(E)和一个主输出(Q)及其互补输出($\\bar{Q}$)。该锁存器的行为如下：当使能输入E保持在逻辑高电平(E=1)时，输出Q变得等于数据输入D（透明模式）。当使能输入E保持在逻辑低电平(E=0)时，锁存器保持其当前状态，输出Q不受D输入变化的影响（存储模式）。\n\n考虑一个特定电路，其中该锁存器的D输入永久连接到其自身的互补输出$\\bar{Q}$。使能输入E由一个周期性方波信号驱动。\n\n下列哪个陈述最能描述输出Q的行为？\n\nA. 无论使能信号E的状态如何，输出Q都保持其初始值不变。\n\nB. 在使能信号E为高电平的整个期间，输出Q快速振荡，当E变为低电平时，保持其最后的状态。\n\nC. 在每个使能信号E的上升沿，输出Q的状态恰好翻转一次，在其他情况下保持稳定。\n\nD. 输出Q的状态变得与使能信号的状态相同，即 $Q = E$。\n\nE. 在每个使能信号E的下降沿，输出Q的状态恰好翻转一次，在其他情况下保持稳定。", "solution": "一个电平敏感的门控D锁存器具有特性方程\n$$Q^{+} = E D + \\bar{E} Q,$$\n其中 $Q^{+}$ 是 $Q$ 的次态，$E$ 是使能输入，$D$ 是数据输入。\n\n在给定电路中，$D$ 永久连接到互补输出，所以\n$$D = \\bar{Q}.$$\n代入特性方程得到\n$$Q^{+} = E \\bar{Q} + \\bar{E} Q.$$\n\n按 $E$ 的情况分析：\n- 如果 $E = 0$，则\n$$Q^{+} = \\bar{E} Q = Q,$$\n所以锁存器保持其当前状态（存储模式）。\n- 如果 $E = 1$，则\n$$Q^{+} = E \\bar{Q} = \\bar{Q}.$$\n因此，当 $E$ 为高电平时，锁存器试图将 $Q$ 设置为其当前值的补码。在传输延迟导致 $Q$ 变为 $\\bar{Q}$ 后，反馈使得 $D$ 变为 $\\bar{Q^{+}} = Q$，从而引发另一次变化。只要 $E$ 保持高电平，这种交替就会重复，产生受锁存器传输延迟限制的连续翻转。当 $E$ 变为低电平时，锁存器重新进入存储模式，并保持其在该瞬间所处的状态。\n\n因此，当 $E$ 为高电平时，输出 $Q$ 振荡，当 $E$ 为低电平时，保持其最后的状态，这与选项B相符。", "answer": "$$\\boxed{B}$$", "id": "1968100"}]}