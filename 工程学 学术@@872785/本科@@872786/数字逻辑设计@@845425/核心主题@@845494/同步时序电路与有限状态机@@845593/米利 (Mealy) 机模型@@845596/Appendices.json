{"hands_on_practices": [{"introduction": "第一个练习旨在帮助你直接理解米利机 (Mealy machine) 的核心工作原理。通过手动追踪给定输入序列下机器的状态转换和相应的输出，你将建立一个坚实的基础，理解其行为如何由当前状态和输入信号共同决定。这项练习对于形象地掌握米利机的动态特性至关重要 [@problem_id:1968925]。", "problem": "米利机（Mealy machine）是一种有限状态机，其输出值由当前状态和当前输入共同决定。考虑一个特定的米利机，它有两个状态 $S_0$ 和 $S_1$，一个输入字母表 $\\{0, 1\\}$，以及一个输出字母表 $\\{0, 1\\}$。该机器的行为由以下规则定义：\n\n**转换规则：**\n1.  如果输入为 '0'，机器保持在当前状态。\n2.  如果输入为 '1'，机器转换到另一个状态（从 $S_0$ 到 $S_1$，或从 $S_1$ 到 $S_0$）。\n\n**输出规则：**\n1.  如果输入为 '0'，无论当前状态如何，机器的输出总是 '1'。\n2.  如果输入为 '1'，当从状态 $S_0$ 转换出去时，机器的输出为 '0'。\n3.  如果输入为 '1'，当从状态 $S_1$ 转换出去时，机器的输出为 '1'。\n\n已知该机器从状态 $S_0$ 开始，请确定为输入序列 '10011' 生成的输出序列。\n\nA. 10101\n\nB. 01100\n\nC. 11101\n\nD. 01110\n\nE. 10011", "solution": "题目要求我们找出一个米利机对于给定输入序列的输出序列。该机器从状态 $S_0$ 开始，并逐位处理输入序列 `10011`。我们将为每个输入符号追踪状态和输出。\n\n初始状态为 $S_{current} = S_0$。\n\n**步骤 1：处理第一个输入 '1'。**\n- 当前状态：$S_0$\n- 输入：'1'\n- 根据输入 '1' 的转换规则，机器转换到另一个状态。所以，下一个状态是 $S_1$。\n- 根据从状态 $S_0$ 输入 '1' 的输出规则，输出为 '0'。\n- 目前的输出：`0`\n- 新状态：$S_1$\n\n**步骤 2：处理第二个输入 '0'。**\n- 当前状态：$S_1$\n- 输入：'0'\n- 根据输入 '0' 的转换规则，机器保持在当前状态。所以，下一个状态是 $S_1$。\n- 根据输入 '0' 的输出规则，输出为 '1'。\n- 目前的输出：`01`\n- 新状态：$S_1$\n\n**步骤 3：处理第三个输入 '0'。**\n- 当前状态：$S_1$\n- 输入：'0'\n- 根据输入 '0' 的转换规则，机器保持在当前状态。所以，下一个状态是 $S_1$。\n- 根据输入 '0' 的输出规则，输出为 '1'。\n- 目前的输出：`011`\n- 新状态：$S_1$\n\n**步骤 4：处理第四个输入 '1'。**\n- 当前状态：$S_1$\n- 输入：'1'\n- 根据输入 '1' 的转换规则，机器转换到另一个状态。所以，下一个状态是 $S_0$。\n- 根据从状态 $S_1$ 输入 '1' 的输出规则，输出为 '1'。\n- 目前的输出：`0111`\n- 新状态：$S_0$\n\n**步骤 5：处理第五个输入 '1'。**\n- 当前状态：$S_0$\n- 输入：'1'\n- 根据输入 '1' 的转换规则，机器转换到另一个状态。所以，下一个状态是 $S_1$。\n- 根据从状态 $S_0$ 输入 '1' 的输出规则，输出为 '0'。\n- 最终输出序列：`01110`\n- 最终状态：$S_1$\n\n机器为输入 `10011` 生成的完整输出序列是 `01110`。这对应于选项 D。", "answer": "$$\\boxed{D}$$", "id": "1968925"}, {"introduction": "从分析转向设计，这个问题挑战你像数字设计师一样思考。你将探索如何构建一个米利机来执行特定功能：检测一个输入序列。这个练习阐明了一个关键概念，即状态可以作为一种记忆，用来追踪实现目标序列的进度，这是设计用于模式识别的状态机的基本原则 [@problem_id:1968914]。", "problem": "一个数字控制器正在被设计用于监控一个串行二进制数据流。该控制器必须实现为一个米利（Mealy）有限状态机。米利机是一种有限状态机，其输出是当前状态和当前输入的函数。\n\n该状态机有一个单比特二进制输入 `X` 和一个单比特二进制输出 `Z`。该状态机的功能是检测一个特定的输入序列。输出 `Z` 必须为'1'，且仅持续一个时钟周期，并与目标序列的最后一个输入同时发生。目标序列是三个连续的'1' (`111`)。\n\n一个关键的设计约束是，检测到的序列不能与新序列的开头重叠。例如，如果输入流是 `111111`，状态机应检测到第一个 `111` 序列并输出一个 `1`，然后检测到第二个 `111` 序列并输出另一个 `1`。对于此输入，输出序列将是 `001001`。在检测到 `111` 序列并且输出 `Z` 被置为 `1` 之后，状态机必须完全重置其计数，并开始搜索一个全新的、完全分离的三个 `1` 的序列。\n\n完成此任务所需的最小米利机的状态可以根据接收到的连续'1'的历史来定义：\n- `$S_0$`：初始或'复位'状态。没有看到连续的'1'，或者序列刚被输入'0'中断。\n- `$S_1$`：表示最后一个输入是潜在序列中的第一个'1'的状态（即，输入历史以 `...01` 结尾）。\n- `$S_2$`：表示最后两个输入是连续的'1'的状态（即，输入历史以 `...011` 结尾）。\n\n假设状态机当前处于状态 `$S_2$`，如果下一个输入 `X` 是'1'，请确定下一个状态和相应的输出 `Z`。\n\nA) 下一个状态：$S_0$，输出：0\n\nB) 下一个状态：$S_1$，输出：1\n\nC) 下一个状态：$S_2$，输出：1\n\nD) 下一个状态：$S_0$，输出：1\n\nE) 下一个状态：$S_2$，输出：0", "solution": "米利机由下一状态函数 $\\delta(\\text{state},X)$ 和输出函数 $\\lambda(\\text{state},X)$ 定义，两者都取决于当前状态和当前输入 $X \\in \\{0,1\\}$。\n\n根据状态的定义：\n- $S_2$ 意味着最后两个输入是连续的1。如果下一个输入是 $X=1$，那么最后三个输入就是 `111`。\n- 规范要求在检测到 `111` 时，输出 `Z` 必须在第三个 `1` 的时钟周期恰好为 `1`。在米利机中，这意味着 $\\lambda(S_2, 1)=1$。\n- 非重叠约束要求在检测后完全复位，因此下一个状态必须是 $S_0$，即 $\\delta(S_2, 1)=S_0$。\n\n因此，当处于状态 $S_2$ 且输入为 $X=1$ 时，状态转移到 $S_0$，输出 $Z=1$，这与选项 D 相符。\n\n这也重现了输入为 `111111` 的示例轨迹：从 $S_0$ 开始，第三个 `1` 导致 $(S_2,1)\\to(S_0,Z=1)$，然后接下来的三个 `1` 重复同样的过程，产生指定的输出 `001001`。", "answer": "$$\\boxed{D}$$", "id": "1968914"}, {"introduction": "最后一个实践问题展示了米利机在复杂现实世界应用中的强大功能。你将分析一个使用米利机实现简单流密码（一种常见的加密技术）的系统。该问题引入了一个多位状态向量，其状态转换由线性反馈移位寄存器 (LFSR) 定义，突显了抽象的状态机模型如何被应用于解决数据安全等领域的复杂工程挑战 [@problem_id:1968900]。", "problem": "考虑一个同步数字系统，它被设计为一个简单的流密码，可以建模为一个Mealy机。该机器有一个单一的二进制输入 `P`（表示明文位）和一个单一的二进制输出 `C`（表示密文位）。\n\n机器的内部状态由一个4位移位寄存器定义，其状态向量表示为 `(S_3, S_2, S_1, S_0)`。机器的运行由一个系统时钟控制。在每个时钟沿，根据当前状态和输入会发生两个动作：\n\n1.  **输出生成**：生成密文输出位 `C`。它是当前输入位 `P` 与当前状态的最低有效位 `S_0` 进行异或（XOR）运算的结果。即 `C = P \\oplus S_0`。\n\n2.  **状态更新**：为下一个周期更新状态。寄存器执行右移操作，并使用基于当前状态的反馈函数计算新的最高有效位 `S_3`。该反馈由本原多项式 `G(x) = x^4 + x + 1` 确定。此多项式规定，新的 `S_3` 是当前 `S_1` 和 `S_0` 的异或。完整的状态转换定义如下，其中带撇的变量表示下一个状态的值：\n    - `S'_3 = S_1 \\oplus S_0`\n    - `S'_2 = S_3`\n    - `S'_1 = S_2`\n    - `S'_0 = S_1`\n\n机器初始化到状态 `(S_3, S_2, S_1, S_0) = (1, 0, 0, 0)`。一个输入明文流 `P = 11010` 被顺序应用，最左边的位是在第一个时钟周期处理的第一个位。\n\n在处理完输入流的第5个也是最后一个位之后，机器的4位状态向量 `(S_3, S_2, S_1, S_0)` 是什么？请以行矩阵的形式提供你的答案。", "solution": "我们将该机器建模为一个状态向量为 $(S_{3},S_{2},S_{1},S_{0})$ 的Mealy机。在每个时钟周期，输出位为 $C=P \\oplus S_{0}$，这不影响状态，而下一状态仅由当前状态通过多项式 $G(x)=x^{4}+x+1$ 给定的反馈确定。状态更新方程为：\n$$\nS_{3}'=S_{1}\\oplus S_{0},\\quad S_{2}'=S_{3},\\quad S_{1}'=S_{2},\\quad S_{0}'=S_{1}.\n$$\n机器初始化于\n$$\n(S_{3},S_{2},S_{1},S_{0})=(1,0,0,0).\n$$\n我们对五个时钟周期（每个输入位一个周期）进行状态更新迭代。异或运算是模2加法。\n\n周期 1 (从 $(1,0,0,0)$ 开始):\n$$\nS_{3}'=0\\oplus 0=0,\\quad S_{2}'=1,\\quad S_{1}'=0,\\quad S_{0}'=0 \\;\\Rightarrow\\; (0,1,0,0).\n$$\n\n周期 2 (从 $(0,1,0,0)$ 开始):\n$$\nS_{3}'=0\\oplus 0=0,\\quad S_{2}'=0,\\quad S_{1}'=1,\\quad S_{0}'=0 \\;\\Rightarrow\\; (0,0,1,0).\n$$\n\n周期 3 (从 $(0,0,1,0)$ 开始):\n$$\nS_{3}'=1\\oplus 0=1,\\quad S_{2}'=0,\\quad S_{1}'=0,\\quad S_{0}'=1 \\;\\Rightarrow\\; (1,0,0,1).\n$$\n\n周期 4 (从 $(1,0,0,1)$ 开始):\n$$\nS_{3}'=0\\oplus 1=1,\\quad S_{2}'=1,\\quad S_{1}'=0,\\quad S_{0}'=0 \\;\\Rightarrow\\; (1,1,0,0).\n$$\n\n周期 5 (从 $(1,1,0,0)$ 开始):\n$$\nS_{3}'=0\\oplus 0=0,\\quad S_{2}'=1,\\quad S_{1}'=1,\\quad S_{0}'=0 \\;\\Rightarrow\\; (0,1,1,0).\n$$\n\n因此，在处理完第五个输入位后，状态向量为 $(0,1,1,0)$。", "answer": "$$\\boxed{\\begin{pmatrix}0  1  1  0\\end{pmatrix}}$$", "id": "1968900"}]}