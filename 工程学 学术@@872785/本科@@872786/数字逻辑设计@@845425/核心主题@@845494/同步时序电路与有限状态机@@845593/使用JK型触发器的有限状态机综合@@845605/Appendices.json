{"hands_on_practices": [{"introduction": "本练习将引导你完成一个基础但至关重要的任务：使用JK触发器设计一个序列发生器。通过构建一个能够循环产生特定模式的摩尔型有限状态机（FSM），你将掌握从状态转移图到具体逻辑电路实现的核心流程。这个练习是后续更复杂FSM设计的基础。[@problem_id:1938540]", "problem": "需要设计一个同步摩尔型有限状态机 (FSM)，以生成一个重复的输出序列。该机器具有单一输出 $Z$，它在连续的时钟周期上产生模式 `1, 1, 1, 0`，然后重复。机器的状态由两个 JK 触发器实现，状态变量 $A$ 和 $B$ 代表它们各自的输出。状态分配定义如下：产生第一个 '1' 的状态是 $S_0=00$，产生第二个 '1' 的状态是 $S_1=01$，产生第三个 '1' 的状态是 $S_2=11$，产生 '0' 的状态是 $S_3=10$。FSM 按照 $S_0 \\rightarrow S_1 \\rightarrow S_2 \\rightarrow S_3 \\rightarrow S_0$ 的顺序在这些状态之间循环。您的任务是确定触发器输入 $J_A, K_A, J_B,$ 和 $K_B$ 的最简“积之和”(SOP) 表达式。用当前状态变量 $A$ 和 $B$ 来表示您的答案。", "solution": "给定的摩尔 FSM 根据状态分配，在以下状态序列中循环：\n$$S_{0}=00 \\rightarrow S_{1}=01 \\rightarrow S_{2}=11 \\rightarrow S_{3}=10 \\rightarrow S_{0}=00,$$\n其中触发器输出为 $(A,B)$。\n\n由此，用当前状态 $(A,B)$ 和次态 $(A^{+},B^{+})$ 写出状态转换表：\n- $00 \\rightarrow 01$: $A:0 \\rightarrow 0$, $B:0 \\rightarrow 1$。\n- $01 \\rightarrow 11$: $A:0 \\rightarrow 1$, $B:1 \\rightarrow 1$。\n- $11 \\rightarrow 10$: $A:1 \\rightarrow 1$, $B:1 \\rightarrow 0$。\n- $10 \\rightarrow 00$: $A:1 \\rightarrow 0$, $B:0 \\rightarrow 0$。\n\n通过观察，次态函数为\n$$A^{+}=B,\\qquad B^{+}=\\overline{A}。$$\n\n使用 JK 触发器的行为及其激励表：\n- 对于 $Q:0 \\rightarrow 0$：$J=0$，$K=$ 无关项。\n- 对于 $Q:0 \\rightarrow 1$：$J=1$，$K=$ 无关项。\n- 对于 $Q:1 \\rightarrow 0$：$J=$ 无关项，$K=1$。\n- 对于 $Q:1 \\rightarrow 1$：$J=$ 无关项，$K=0$，\n\n根据每个现态确定所需的 $J$ 和 $K$ 值。\n\n对于触发器 $A$：\n- $00 \\rightarrow 01$: $A:0 \\rightarrow 0 \\Rightarrow J_{A}=0,\\,K_{A}=d$.\n- $01 \\rightarrow 11$: $A:0 \\rightarrow 1 \\Rightarrow J_{A}=1,\\,K_{A}=d$.\n- $11 \\rightarrow 10$: $A:1 \\rightarrow 1 \\Rightarrow J_{A}=d, K_{A}=0$.\n- $10 \\rightarrow 00$: $A:1 \\rightarrow 0 \\Rightarrow J_{A}=d, K_{A}=1$.\n\n利用无关项后，一个最简的 SOP 实现是\n$$J_{A}=B,\\qquad K_{A}=\\overline{B}。$$\n通过 JK 特性方程 $A^{+}=J_{A}\\overline{A}+\\overline{K_{A}}A$ 进行验证可得\n$$A^{+}=B\\overline{A}+B A=B(\\overline{A}+A)=B,$$\n与要求一致。\n\n对于触发器 $B$：\n- $00 \\rightarrow 01$: $B:0 \\rightarrow 1 \\Rightarrow J_{B}=1,\\,K_{B}=d$.\n- $01 \\rightarrow 11$: $B:1 \\rightarrow 1 \\Rightarrow J_{B}=d, K_{B}=0$.\n- $11 \\rightarrow 10$: $B:1 \\rightarrow 0 \\Rightarrow J_{B}=d, K_{B}=1$.\n- $10 \\rightarrow 00$: $B:0 \\rightarrow 0 \\Rightarrow J_{B}=0,\\,K_{B}=d$.\n\n一个最简的 SOP 实现是\n$$J_{B}=\\overline{A},\\qquad K_{B}=A。$$\n用特性方程 $B^{+}=J_{B}\\overline{B}+\\overline{K_{B}}B$ 进行检验：\n$$B^{+}=\\overline{A}\\,\\overline{B}+\\overline{A}\\,B=\\overline{A}(\\overline{B}+B)=\\overline{A},$$\n与要求一致。\n\n因此，用当前状态 $(A,B)$ 表示的 JK 输入的最简 SOP 表达式为\n$$J_{A}=B,\\quad K_{A}=\\overline{B},\\quad J_{B}=\\overline{A},\\quad K_{B}=A。$$", "answer": "$$\\boxed{\\begin{pmatrix} B  \\overline{B}  \\overline{A}  A \\end{pmatrix}}$$", "id": "1938540"}, {"introduction": "在掌握了如何生成固定序列后，我们将更进一步，设计一个能与外部输入交互的状态机。这个2位同步加/减计数器练习展示了如何根据控制信号（$X$）改变FSM的行为。这是构建各种数字控制器（如CPU中的程序计数器或频率分频器）所需的一项关键技能。[@problem_id:1938557]", "problem": "使用两个 JK 触发器设计一个同步的 2 位二进制计数器。该计数器有一个单一的控制输入，表示为 $X$。计数器的两个输出位是 $Q_1$（最高有效位，MSB）和 $Q_0$（最低有效位，LSB）。\n\n计数器的行为由输入 $X$ 决定，如下所示：\n- 如果 $X=0$，计数器按序列 00, 01, 10, 11 向上计数，然后回绕到 00。\n- 如果 $X=1$，计数器按序列 00, 11, 10, 01 向下计数，然后回绕到 00。\n\n计数器的状态由触发器输出 $Q_1Q_0$ 表示。最高有效位（MSB）触发器的 JK 输入为 $J_1$ 和 $K_1$，最低有效位（LSB）触发器的 JK 输入为 $J_0$ 和 $K_0$。您的任务是确定这四个输入关于 $Q_1$、$Q_0$ 和 $X$ 的简化布尔表达式。\n\n下列哪组方程正确地实现了指定的计数器？\n\nA. $J_1 = Q_0\\overline{X} + \\overline{Q_0}X$, $K_1 = Q_0\\overline{X} + \\overline{Q_0}X$, $J_0 = 1$, $K_0 = 1$\n\nB. $J_1 = 1$, $K_1 = 1$, $J_0 = Q_1\\overline{X} + \\overline{Q_1}X$, $K_0 = Q_1\\overline{X} + \\overline{Q_1}X$\n\nC. $J_1 = \\overline{Q_0}\\overline{X} + Q_0X$, $K_1 = \\overline{Q_0}\\overline{X} + Q_0X$, $J_0 = 1$, $K_0 = 1$\n\nD. $J_1 = Q_0$, $K_1 = Q_0$, $J_0 = X$, $K_0 = X$\n\nE. $J_1 = Q_0 \\oplus X$, $K_1 = Q_0$, $J_0 = 1$, $K_0 = 1$", "solution": "我们使用两个 JK 触发器设计一个同步的 2 位可逆计数器，其控制输入为 $X$，输出为 $Q_{1}$（MSB）和 $Q_{0}$（LSB）。所需的 JK 触发器激励关系是：\n$$\nJ = \\overline{Q}\\,Q^{+}, \\quad K = Q\\,\\overline{Q^{+}},\n$$\n等效地，当触发器必须翻转（$Q^{+}=\\overline{Q}$）时，我们可以强制 $J=K=1$；当它必须保持（$Q^{+}=Q$）时，我们可以设置 $J=K=0$。\n\n首先确定次态函数。\n\n1) 对于最低有效位（LSB）$Q_{0}$：\n从两个序列（向上和向下计数）来看，$Q_{0}$ 在每个时钟周期都会翻转。因此，\n$$\nQ_{0}^{+} = \\overline{Q_{0}}.\n$$\n要用 JK 触发器实现无条件翻转，选择\n$$\nJ_{0} = 1, \\quad K_{0} = 1.\n$$\n\n2) 对于最高有效位（MSB）$Q_{1}$：\n计算 $Q_{1}^{+}$ 作为 $Q_{1}$、$Q_{0}$ 和 $X$ 的函数。\n\n- 如果 $X=0$（向上计数）：序列为 $00 \\to 01 \\to 10 \\to 11 \\to 00$，得出\n$$\nQ_{1}^{+} = Q_{1} \\oplus Q_{0}.\n$$\n- 如果 $X=1$（向下计数）：序列为 $00 \\to 11 \\to 10 \\to 01 \\to 00$，得出\n$$\nQ_{1}^{+} = \\overline{Q_{1} \\oplus Q_{0}}.\n$$\n通过使用 $X$ 进行多路复用，将它们组合起来，\n$$\nQ_{1}^{+} = (Q_{1} \\oplus Q_{0}) \\oplus X.\n$$\n\n要通过翻转信号驱动 JK 触发器，利用翻转条件为 $T_{1} = Q_{1} \\oplus Q_{1}^{+}$ 这一事实。于是，\n$$\nT_{1} = Q_{1} \\oplus \\big((Q_{1} \\oplus Q_{0}) \\oplus X\\big) = Q_{0} \\oplus X,\n$$\n使用 $\\oplus$ 的结合律和消去律。因此设置\n$$\nJ_{1} = K_{1} = T_{1} = Q_{0} \\oplus X.\n$$\n总结：\n$$\nJ_{1} = K_{1} = Q_{0} \\oplus X = Q_{0}\\,\\overline{X} + \\overline{Q_{0}}\\,X, \\quad J_{0} = 1, \\quad K_{0} = 1.\n$$\n与选项比较，这与选项 A 相匹配。", "answer": "$$\\boxed{A}$$", "id": "1938557"}, {"introduction": "这个综合性练习将你置于一个更接近实际应用的场景：为串行通信协议设计一个错误检测器。你需要构建一个米利型FSM，它不仅要跟踪数据位的位置（计数），还要实时处理数据（计算奇偶校验），并在特定条件下产生错误信号。这个任务融合了计数、数据处理和时序逻辑，是检验你对FSM综合应用掌握程度的绝佳实践。[@problem_id:1938550]", "problem": "您的任务是设计一个用作米利型有限状态机 (FSM) 的数字逻辑电路。该 FSM 用于一种自定义串行通信协议，其中数据被组织成4位字，在单个输入线 $X$ 上以每时钟周期一位的速度到达。该 FSM 的目的是通过生成一个输出信号 $E$ 来充当错误检测器。当一个字的第四位到达时，仅当该位的值不等于同一字的前三位的异或 (XOR) 值时，错误信号 $E$ 才必须置为逻辑高电平 (1)。在所有其他时间，以及如果对第四位的检查成功， $E$ 必须为逻辑低电平 (0)。在检查完每个4位字后，FSM 必须自动复位到其初始状态，以正确处理下一个字。\n\n该 FSM 将使用三个JK触发器来实现。它们的输出标记为 $Q_A$、$Q_B$ 和 $Q_C$。输出为 $Q_A$ 和 $Q_B$ 的触发器将用作状态计数器，以跟踪4位字内的位置。输出为 $Q_C$ 的触发器将用于存储输入数据位的累积异或和。FSM 从 $Q_A = Q_B = Q_C = 0$ 的复位状态开始。计数器的状态分配定义如下：状态 S0 (初始) 对应 $Q_AQ_B=00$，状态 S1 (1位后) 为 $Q_AQ_B=01$，状态 S2 (2位后) 为 $Q_AQ_B=10$，状态 S3 (3位后) 为 $Q_AQ_B=11$。\n\n推导三个JK触发器输入 ($J_A, K_A, J_B, K_B, J_C, K_C$) 的简化布尔逻辑表达式以及米利型输出 $E$ 的表达式。选择正确提供所有七个表达式的选项。\n\nA.\n$J_A=Q_B$\n$K_A=Q_B$\n$J_B=1$\n$K_B=1$\n$J_C=(\\overline{Q_A}+\\overline{Q_B})X$\n$K_C=Q_A Q_B + X(Q_A \\oplus Q_B) + \\overline{X}\\overline{Q_A}\\overline{Q_B}$\n$E=Q_A Q_B(Q_C \\oplus X)$\n\nB.\n$J_A=Q_B$\n$K_A=Q_B$\n$J_B=1$\n$K_B=1$\n$J_C=X$\n$K_C=X$\n$E=Q_A Q_B(Q_C \\oplus X)$\n\nC.\n$J_A=Q_B$\n$K_A=Q_B$\n$J_B=1$\n$K_B=1$\n$J_C=(\\overline{Q_A}+\\overline{Q_B})X$\n$K_C=(\\overline{Q_A}+\\overline{Q_B})\\overline{X} + Q_A Q_B$\n$E=Q_A Q_B(Q_C \\oplus X)$\n\nD.\n$J_A=Q_B$\n$K_A=Q_B$\n$J_B=1$\n$K_B=1$\n$J_C=(\\overline{Q_A}+\\overline{Q_B})X$\n$K_C=Q_A Q_B + X(Q_A \\oplus Q_B) + \\overline{X}\\overline{Q_A}\\overline{Q_B}$\n$E=Q_A Q_B$\n\nE.\n$J_A = Q_A \\oplus Q_B$\n$K_A = \\overline{Q_A \\oplus Q_B}$\n$J_B = \\overline{Q_B}$\n$K_B = Q_B$\n$J_C=X$\n$K_C=X$\n$E=Q_A Q_B(Q_C \\oplus X)$", "solution": "设JK触发器的特征方程为\n$$\nQ^{+} = J\\overline{Q} + \\overline{K}Q.\n$$\n因此，一个JK触发器实现：J=K=0 保持，J=1,K=0 置位，J=0,K=1 复位，J=K=1 翻转。\n\n使用 Q_A, Q_B 的计数器，用于状态 S0=00, S1=01, S2=10, S3=11：\n- 选择 $J_B=1$, $K_B=1$，这样 $Q_B$ 在每个时钟周期翻转。\n- 选择 $J_A=Q_B$, $K_A=Q_B$，这样 $Q_A$ 在 $Q_B=1$ 时翻转，在 $Q_B=0$ 时保持。\n从 $Q_AQ_B=00$ 开始，这将产生同步序列 $00 \\to 01 \\to 10 \\to 11 \\to 00$，这正是按模4计数位所需要的。\n\n米利输出条件：在第四位到达时（即，当现态为 S3，所以 $Q_AQ_B=11$），当且仅当 $X \\neq$ 前三位的异或和时，置位错误信号。令 $Q_C$ 在合并当前输入前保持累积的异或和，因此在 S3 状态时，它等于前三位的异或和。因此，\n$$\nE = Q_A Q_B \\,(Q_C \\oplus X).\n$$\n\n一个字内 $Q_C$ 的次态规范：\n- 在 S0（第一位之前），期望的 $Q_C^{+} = X$，这样接收第一位后的异或和等于 $X$。\n- 在 S1 和 S2，期望的 $Q_C^{+} = Q_C \\oplus X$ 以累积异或和。\n- 在 S3（第四位），检查后我们必须为下一个字复位异或和，所以期望的 $Q_C^{+} = 0$。\n\n将这些转换为每个状态的 JK 控制：\n- 要强制 $Q_C^{+} = X$ 而不论 $Q_C$ (S0)，使用 $J_C=X, K_C=\\overline{X}$ 因为\n$$\nQ_C^{+} = X\\,\\overline{Q_C} + X\\,Q_C = X.\n$$\n- 要实现 $Q_C^{+} = Q_C \\oplus X$ (S1, S2)，使用 $J_C=X, K_C=X$ (当 $X=1$ 时翻转，当 $X=0$ 时保持)。\n- 要强制 $Q_C^{+} = 0$ (S3)，使用 $J_C=0, K_C=1$。\n\n使用状态译码信号对这些分段控制进行编码：\n- S0 是 $\\overline{Q_A}\\,\\overline{Q_B}$。\n- S1 是 $\\overline{Q_A}\\,Q_B$。\n- S2 是 $Q_A\\,\\overline{Q_B}$。\n- S3 是 $Q_A\\,Q_B$。\n\n对于 $J_C$：它在 S0, S1, S2 中必须是 $X$，在 S3 中必须是 $0$。因为 S3 是唯一 $Q_AQ_B=11$ 的状态，所以 S0, S1, S2 的指示符是 $(\\overline{Q_A}+\\overline{Q_B})$。因此\n$$\nJ_C = (\\overline{Q_A}+\\overline{Q_B})\\,X.\n$$\n\n对于 $K_C$：组合这三种情况：\n- S0 贡献了 $\\overline{X}\\,\\overline{Q_A}\\,\\overline{Q_B}$。\n- S1 或 S2 贡献了 $X(\\overline{Q_A}Q_B + Q_A\\overline{Q_B}) = X\\,(Q_A \\oplus Q_B)$。\n- S3 贡献了 $Q_AQ_B$。\n因此\n$$\nK_C = \\overline{X}\\,\\overline{Q_A}\\,\\overline{Q_B} + X\\,(Q_A \\oplus Q_B) + Q_AQ_B.\n$$\n\n汇总所有表达式，得到\n$$\nJ_A=Q_B,\\quad K_A=Q_B,\\quad J_B=1,\\quad K_B=1,\n$$\n$$\nJ_C=(\\overline{Q_A}+\\overline{Q_B})X,\\quad K_C=Q_A Q_B + X(Q_A \\oplus Q_B) + \\overline{X}\\,\\overline{Q_A}\\,\\overline{Q_B},\n$$\n$$\nE=Q_A Q_B(Q_C \\oplus X),\n$$\n这与选项 A 匹配。", "answer": "$$\\boxed{A}$$", "id": "1938550"}]}