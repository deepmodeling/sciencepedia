{"hands_on_practices": [{"introduction": "理论是骨架，实践是血肉。要真正掌握状态化简，我们必须亲自动手。让我们从状态化简的核心算法——划分法 (partitioning method) ——的第一步开始。这个练习将引导我们检查一个给定的有限状态机 (FSM)，并确定在第一轮划分后，哪些状态可以被区分开。这不仅能帮助我们理解状态等价的根本判据，还能揭示一个重要的事实：有时，一个设计已经是最小化的。[@problem_id:1962486]", "problem": "一个摩尔型有限状态机 (FSM) 用于控制一个简单的工业过程。该机器有一个二进制输入 $x$ 和一个二进制输出 $z$。该 FSM 的行为由以下状态表描述，其中 $S_0$、$S_1$ 和 $S_2$ 是机器的状态。\n\n| 当前状态 | 下一状态 ($x=0$) | 下一状态 ($x=1$) | 输出 ($z$) |\n|:-------:|:--------------:|:--------------:|:--------:|\n|  $S_0$   |      $S_1$      |      $S_2$      |    0     |\n|  $S_1$   |      $S_2$      |      $S_1$      |    1     |\n|  $S_2$   |      $S_0$      |      $S_1$      |    0     |\n\n使用划分法进行状态最小化的过程始于一个初始划分 $P_0$，其中状态根据其输出进行分组。然后，通过检查 $P_0$ 中每个组的下一状态转移，将此划分精化为一个新的划分 $P_1$。一个组中的两个状态被认为是等价的，并且只有在对于每个可能的输入，它们的下一状态都落入 $P_0$ 的同一个块中时，它们才能在 $P_1$ 中保持在同一个块中。\n\n对于上面描述的 FSM，其划分 $P_1$ 是什么？\n\nA. `{{$S_0$, $S_2$}, {$S_1$}}`\n\nB. `{{$S_0$}, {$S_1$}, {$S_2$}}`\n\nC. `{{$S_0$, $S_1$, $S_2$}}`\n\nD. `{{$S_0$, $S_1$}, {$S_2$}}`", "solution": "目标是确定状态划分 $P_1$，它是对基于输出的初始划分 $P_0$ 的第一次精化。这是一个两步过程。\n\n首先，我们确定初始划分 $P_0$。状态划分算法首先将所有具有相同输出的状态分组。\n根据状态表：\n- $S_0$ 状态的输出是 $z=0$。\n- $S_1$ 状态的输出是 $z=1$。\n- $S_2$ 状态的输出是 $z=0$。\n\n状态 $S_0$ 和 $S_2$ 具有相同的输出 ($z=0$)，因此它们被分在一组。状态 $S_1$ 有一个独特的输出 ($z=1$)，所以它在自己的组里。\n因此，初始划分是：\n$P_0 = \\{\\{S_0, S_2\\}, \\{S_1\\}\\}$\n\n其次，我们精化 $P_0$ 以创建 $P_1$。我们必须检查 $P_0$ 的每个块内状态的等价性。\n块 $\\{S_1\\}$ 只包含一个状态，因此不能被精化。它保持原样。\n现在，考虑块 $\\{S_0, S_2\\}$。我们必须检查状态 $S_0$ 和 $S_2$ 是否等价。要使它们等价，对于每个输入，它们的下一状态必须映射到 $P_0$ 的同一个块中。\n\n让我们检查 $S_0$ 和 $S_2$ 的转移：\n\n对于输入 $x=0$：\n- $S_0$ 的下一状态是 $S_1$。状态 $S_1$ 属于 $P_0$ 中的块 $\\{S_1\\}$。\n- $S_2$ 的下一状态是 $S_0$。状态 $S_0$ 属于 $P_0$ 中的块 $\\{S_0, S_2\\}$。\n\n下一状态 $S_1$ 和 $S_0$ 属于 $P_0$ 的不同块。既然我们找到了一个输入 ($x=0$)，对于该输入，$S_0$ 和 $S_2$ 的下一状态在当前划分 $P_0$ 的不同块中，因此状态 $S_0$ 和 $S_2$ 是可区分的。\n\n因为 $S_0$ 和 $S_2$ 是可区分的，所以来自 $P_0$ 的块 $\\{S_0, S_2\\}$ 必须被分裂成两个独立的块：$\\{S_0\\}$ 和 $\\{S_2\\}$。\n\n组合精化后的块，新的划分 $P_1$ 由块 $\\{S_1\\}$ 和新分裂的块 $\\{S_0\\}$ 和 $\\{S_2\\}$ 形成。\n$P_1 = \\{\\{S_0\\}, \\{S_1\\}, \\{S_2\\}\\}$\n\n此时，每个状态都在自己的块中，因此不可能进行进一步的精化。这意味着该 FSM 已经是其最小化形式。问题要求的是划分 $P_1$，它对应于选项 B。", "answer": "$$\\boxed{B}$$", "id": "1962486"}, {"introduction": "掌握了划分法的基本步骤后，是时候迎接一个更全面的挑战了。在这个练习中，我们将对一个更复杂的多状态Mealy机应用完整的状态化简流程。通过迭代地精炼状态划分，直到找到最终的等价类，你将学会如何系统性地处理状态间的复杂依赖关系，并最终确定一个复杂控制器的最小状态数。[@problem_id:1962530]", "problem": "一位数字系统工程师的任务是为一个控制器模块优化逻辑。该控制器的行为由以下完全指定的同步Mealy型有限状态机（FSM）描述。该FSM有七个状态，分别标记为A、B、C、D、E、F和G。它接收一个二进制输入 $x \\in \\{0, 1\\}$，并产生一个二进制输出 $z \\in \\{Y, Z\\}$。状态转换和输出逻辑由下面的状态表定义。\n\n| 当前状态 | 次态, $x=0$ | 输出 $z, x=0$ | 次态, $x=1$ | 输出 $z, x=1$ |\n|:---:|:---:|:---:|:---:|:---:|\n| A | B | Y | E | Z |\n| B | C | Z | A | Y |\n| C | B | Y | G | Z |\n| D | F | Z | A | Y |\n| E | E | Z | A | Z |\n| F | D | Y | G | Z |\n| G | A | Y | E | Y |\n\n为了降低硬件成本和复杂性，工程师必须通过识别并合并所有等价状态来最小化FSM中的状态数量。确定与所描述的FSM等价的最小化FSM中的状态数量。请以单个整数形式提供您的答案。", "solution": "对于一个Mealy型FSM，如果对于每个输入符号和每个未来的输入序列，两个状态都能产生相同的输出序列，那么这两个状态是等价的；归纳地讲，如果对于每个输入 $x \\in \\{0,1\\}$，状态 $p$ 和 $q$ 的立即输出相等，并且它们的次态也是等价的，那么状态 $p$ 和 $q$ 是等价的。\n\n首先，根据立即输出对 $(z_{0},z_{1})$ 对状态进行分组，其中 $z_{0}$ 是输入 $x=0$ 时的输出， $z_{1}$ 是输入 $x=1$ 时的输出：\n- $A:(Y,Z)$、 $B:(Z,Y)$、 $C:(Y,Z)$、 $D:(Z,Y)$、 $E:(Z,Z)$、 $F:(Y,Z)$、 $G:(Y,Y)$。\n因此，基于立即输出的初始划分是\n$$\nP_{0}=\\{\\{A,C,F\\},\\{B,D\\},\\{E\\},\\{G\\}\\}。\n$$\n\n根据相对于 $P_{0}$ 的次态行为进行细化。使用转移函数： $A:0\\to B,1\\to E$； $B:0\\to C,1\\to A$； $C:0\\to B,1\\to G$； $D:0\\to F,1\\to A$； $E:0\\to E,1\\to A$； $F:0\\to D,1\\to G$； $G:0\\to A,1\\to E$。\n\n- 对于 $\\{A,C,F\\}$：\n  - 当输入为0时，A转移到 $\\{B,D\\}$；当输入为1时，A转移到 $\\{E\\}$，得到的特征为 $(\\{B,D\\},\\{E\\})$。\n  - 当输入为0时，C转移到 $\\{B,D\\}$；当输入为1时，C转移到 $\\{G\\}$，得到的特征为 $(\\{B,D\\},\\{G\\})$。\n  - 当输入为0时，F转移到 $\\{B,D\\}$；当输入为1时，F转移到 $\\{G\\}$，得到的特征为 $(\\{B,D\\},\\{G\\})$。\n  因此，$\\{A,C,F\\}$ 分裂为 $\\{A\\}$ 和 $\\{C,F\\}$。\n\n- 对于 $\\{B,D\\}$：\n  - 当输入为0时，B转移到 $\\{A,C,F\\}$；当输入为1时，B也转移到 $\\{A,C,F\\}$，因此在 $P_{0}$ 下的特征为 $(\\{A,C,F\\},\\{A,C,F\\})$。\n  - D在两个输入下也都转移到 $\\{A,C,F\\}$，具有相同的特征。\n  因此，在这一细化步骤中，$\\{B,D\\}$ 保持在一起。\n\n单元素集合 $\\{E\\}$ 和 $\\{G\\}$ 保持不变。\n\n因此，细化后的划分是\n$$\nP_{1}=\\{\\{A\\},\\{C,F\\},\\{B,D\\},\\{E\\},\\{G\\}\\}。\n$$\n\n检查 $P_{1}$ 的稳定性：\n- 对于 $\\{C,F\\}$：C和F在输入为0时都转移到 $\\{B,D\\}$，在输入为1时都转移到 $\\{G\\}$，所以它们保持在一起。\n- 对于 $\\{B,D\\}$：B和D在输入为0时都转移到 $\\{C,F\\}$，在输入为1时都转移到 $\\{A\\}$，所以它们保持在一起。\n- $\\{A\\}$ 的特征为 $(\\{B,D\\},\\{E\\})$，$\\{E\\}$ 的特征为 $(\\{E\\},\\{A\\})$，而 $\\{G\\}$ 的特征为 $(\\{A\\},\\{E\\})$。\n\n没有进一步的分裂发生，并且具有不同立即输出的类之间不可能进行合并。因此，最小化的FSM的状态数等于 $P_{1}$ 中等价类的数量，即5个。", "answer": "$$\\boxed{5}$$", "id": "1962530"}, {"introduction": "状态化简的最终目标是构建一个更简单、更高效的等价电路。找到状态的等价类只是过程的一半，真正的价值在于利用这些信息来创建新的、简化的状态机。这个练习将带我们完成这最后一步：给定一个状态机的最终划分，我们将学习如何构建出对应的最小化状态表。这是将理论分析转化为实际工程设计的关键技能。[@problem_id:1962511]", "problem": "一个同步时序电路由下示的 Mealy 型状态表描述。该电路有五个状态（$S_0, S_1, S_2, S_3, S_4$），一个二进制输入 $x$ 和一个二进制输出 $z$。\n\n| 现态 | 次态 ($x=0$) | 次态 ($x=1$) | 输出 ($x=0$) | 输出 ($x=1$) |\n|:-------------:|:------------------:|:------------------:|:--------------:|:--------------:|\n|     $S_0$     |       $S_1$        |       $S_2$        |        0       |        0       |\n|     $S_1$     |       $S_0$        |       $S_1$        |        1       |        0       |\n|     $S_2$     |       $S_0$        |       $S_3$        |        0       |        1       |\n|     $S_3$     |       $S_4$        |       $S_2$        |        0       |        0       |\n|     $S_4$     |       $S_3$        |       $S_4$        |        1       |        0       |\n\n应用状态化简算法后，最终的等价状态划分为 $P_{final} = \\{(S_0, S_3), (S_1, S_4), (S_2)\\}$。\n\n你的任务是为最简化的机器构建化简后的状态表。化简后状态表中的新状态应由划分中每个等价类里下标最小的状态来表示。\n\n以下哪个表格代表了正确的最简化机器？\n\n**A.**\n| 新状态 | 次态 ($x=0$) | 次态 ($x=1$) | 输出 ($x=0$) | 输出 ($x=1$) |\n|:---------:|:------------------:|:------------------:|:--------------:|:--------------:|\n|   $S_0$   |       $S_1$        |       $S_2$        |        0       |        0       |\n|   $S_1$   |       $S_0$        |       $S_1$        |        1       |        0       |\n|   $S_2$   |       $S_0$        |       $S_0$        |        0       |        1       |\n\n**B.**\n| 新状态 | 次态 ($x=0$) | 次态 ($x=1$) | 输出 ($x=0$) | 输出 ($x=1$) |\n|:---------:|:------------------:|:------------------:|:--------------:|:--------------:|\n|   $S_0$   |       $S_1$        |       $S_2$        |        0       |        1       |\n|   $S_1$   |       $S_0$        |       $S_1$        |        1       |        0       |\n|   $S_2$   |       $S_0$        |       $S_3$        |        0       |        0       |\n\n**C.**\n| 新状态 | 次态 ($x=0$) | 次态 ($x=1$) | 输出 ($x=0$) | 输出 ($x=1$) |\n|:---------:|:------------------:|:------------------:|:--------------:|:--------------:|\n|   $S_0$   |       $S_1$        |       $S_2$        |        0       |        0       |\n|   $S_1$   |       $S_0$        |       $S_1$        |        1       |        0       |\n|   $S_2$   |       $S_0$        |       $S_2$        |        0       |        1       |\n\n**D.**\n| 新状态 | 次态 ($x=0$) | 次态 ($x=1$) | 输出 ($x=0$) | 输出 ($x=1$) |\n|:---------:|:------------------:|:------------------:|:--------------:|:--------------:|\n|   $S_0$   |       $S_4$        |       $S_2$        |        0       |        0       |\n|   $S_1$   |       $S_3$        |       $S_4$        |        1       |        0       |\n|   $S_2$   |       $S_0$        |       $S_3$        |        0       |        1       |", "solution": "给定一个 Mealy 型机器，其状态为 $S_0,S_1,S_2,S_3,S_4$，输入为 $x \\in \\{0,1\\}$。给定的最终等价状态划分为 $P_{final}=\\{(S_0,S_3),(S_1,S_4),(S_2)\\}$。对于一个化简后的 Mealy 型机器，同一等价类中的两个状态对于每个输入值都必须产生相同的输出，并转换到等价的次态。最简化的机器使用每个等价类中下标最小的代表，因此化简后的状态为 $\\{S_0,S_3\\}$ 的代表 $S_0$，$\\{S_1,S_4\\}$ 的代表 $S_1$，以及 $\\{S_2\\}$ 的代表 $S_2$。\n\n通过检查每个输入下每个等价类的所有成员（如果适用）来构建化简后的转移和输出：\n- 等价类 $\\{S_0,S_3\\} \\to$ 代表 $S_0$：\n当 $x=0$ 时：根据原状态表，$S_0 \\to S_1$ 且 $z=0$，$S_3 \\to S_4$ 且 $z=0$。由于 $S_1,S_4$ 都在等价类 $\\{S_1,S_4\\}$ 中，因此化简后的次态是 $S_1$，输出是 $0$。\n当 $x=1$ 时：$S_0 \\to S_2$ 且 $z=0$，$S_3 \\to S_2$ 且 $z=0$。由于 $S_2$ 自成一个等价类，因此化简后的次态是 $S_2$，输出是 $0$。\n因此，化简后的状态 $S_0$：$x=0 \\Rightarrow$ 次态 $S_1$，$z=0$；$x=1 \\Rightarrow$ 次态 $S_2$，$z=0$。\n- 等价类 $\\{S_1,S_4\\} \\to$ 代表 $S_1$：\n当 $x=0$ 时：$S_1 \\to S_0$ 且 $z=1$，$S_4 \\to S_3$ 且 $z=1$。由于 $S_0,S_3$ 都在等价类 $\\{S_0,S_3\\}$ 中，因此化简后的次态是 $S_0$，输出是 $1$。\n当 $x=1$ 时：$S_1 \\to S_1$ 且 $z=0$，$S_4 \\to S_4$ 且 $z=0$。由于 $S_1,S_4$ 都在同一个等价类 $\\{S_1,S_4\\}$ 中，因此化简后的次态是 $S_1$，输出是 $0$。\n因此，化简后的状态 $S_1$：$x=0 \\Rightarrow$ 次态 $S_0$，$z=1$；$x=1 \\Rightarrow$ 次态 $S_1$，$z=0$。\n- 等价类 $\\{S_2\\} \\to$ 代表 $S_2$：\n当 $x=0$ 时：$S_2 \\to S_0$ 且 $z=0$。由于 $S_0$ 在等价类 $\\{S_0,S_3\\}$ 中，因此化简后的次态是 $S_0$，输出是 $0$。\n当 $x=1$ 时：$S_2 \\to S_3$ 且 $z=1$。由于 $S_3$ 在等价类 $\\{S_0,S_3\\}$ 中，因此化简后的次态是 $S_0$，输出是 $1$。\n因此，化简后的状态 $S_2$：$x=0 \\Rightarrow$ 次态 $S_0$，$z=0$；$x=1 \\Rightarrow$ 次态 $S_0$，$z=1$。\n\n因此，化简后的状态表为：\n- $S_0$ 行：次态 $S_1$ (当 $x=0$ 时)，$S_2$ (当 $x=1$ 时)；输出 $0$ (当 $x=0$ 时)，$0$ (当 $x=1$ 时)。\n- $S_1$ 行：次态 $S_0$ (当 $x=0$ 时)，$S_1$ (当 $x=1$ 时)；输出 $1$ (当 $x=0$ 时)，$0$ (当 $x=1$ 时)。\n- $S_2$ 行：次态 $S_0$ (当 $x=0$ 时)，$S_0$ (当 $x=1$ 时)；输出 $0$ (当 $x=0$ 时)，$1$ (当 $x=1$ 时)。\n\n与选项比较，这与选项 A 完全匹配；选项 B、C 和 D 在一个或多个条目上不符。", "answer": "$$\\boxed{A}$$", "id": "1962511"}]}