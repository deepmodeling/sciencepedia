{"hands_on_practices": [{"introduction": "第一个练习旨在培养解读状态表的基本技能。通过追踪状态机在给定输入序列下的状态变化，你将学会如何“执行”状态表所定义的逻辑，这是理解和调试任何时序电路的基础。[@problem_id:1962855]", "problem": "一个同步时序电路充当一个简单物料分拣系统的核心控制器。该控制器的行为由一个有限状态机描述。该状态机有四个不同的状态，分别记为 `A`、`B`、`C` 和 `D`。这些状态之间的转换由一个单比特输入 `X` 控制，该输入来自一个用于区分两种类型物料的传感器。\n\n该状态机的状态转换表如下所示。该表显示了在每个当前状态（PS）下，对于输入 `X` 的每个可能值，对应的次态（NS）。\n\n| 现态 (PS) | X=0 时的次态 (NS) | X=1 时的次态 (NS) |\n|:---------:|:-----------------:|:-----------------:|\n|     A     |         B         |         C         |\n|     B     |         A         |         D         |\n|     C     |         D         |         B         |\n|     D     |         C         |         A         |\n\n在操作开始前，该状态机被初始化到状态 `A`。然后，一个输入序列 `X = 1011` 被输入到该机器，每个时钟周期处理序列中的一个比特。序列的第一个比特（`1`）是第一个时钟周期的输入，第二个比特（`0`）是第二个时钟周期的输入，依此类推。\n\n请确定在第一个、第二个、第三个和第四个时钟周期结束时，该机器分别处于的状态序列。\n\n从以下选项中选择正确的序列。\n\nA. A, C, D, A\n\nB. B, D, A, B\n\nC. C, B, A, C\n\nD. C, D, A, B\n\nE. C, D, A, C", "solution": "同步有限状态机在每个时钟沿根据状态转换表定义的次态函数 $f(\\text{PS},X)$ 更新其状态。从表中可知，次态函数为：\n$$\nf(\\text{A},0)=\\text{B},\\quad f(\\text{A},1)=\\text{C},\\quad\nf(\\text{B},0)=\\text{A},\\quad f(\\text{B},1)=\\text{D},\\quad\nf(\\text{C},0)=\\text{D},\\quad f(\\text{C},1)=\\text{B},\\quad\nf(\\text{D},0)=\\text{C},\\quad f(\\text{D},1)=\\text{A}.\n$$\n状态机在第一个时钟之前从状态 $\\text{A}$ 开始，因此设 $S_{0}=\\text{A}$。每个周期的输入序列为 $X_{1}=1$, $X_{2}=0$, $X_{3}=1$, $X_{4}=1$。周期 $k$ 结束时的状态为 $S_{k}=f(S_{k-1},X_{k})$。\n\n逐步分析：\n- 第一个周期结束时：$S_{1}=f(\\text{A},1)=\\text{C}$。\n- 第二个周期结束时：$S_{2}=f(\\text{C},0)=\\text{D}$。\n- 第三个周期结束时：$S_{3}=f(\\text{D},1)=\\text{A}$。\n- 第四个周期结束时：$S_{4}=f(\\text{A},1)=\\text{C}$。\n\n因此，状态序列为 $\\text{C}, \\text{D}, \\text{A}, \\text{C}$，这对应于选项 E。", "answer": "$$\\boxed{E}$$", "id": "1962855"}, {"introduction": "这个练习将带你超越简单地读取状态表，挑战你像设计师一样思考。你必须利用电路的预期功能——一个模3计数器——来逻辑推导出缺失的状态转换，从而将抽象的状态表与数字系统的具体行为联系起来。[@problem_id:1962874]", "problem": "一个同步时序电路被设计成一个模3计数器。该电路有两个状态变量 $Q_1$ 和 $Q_0$，它们定义了计数器的当前状态。它有一个单一的控制输入 $EN$。电路的行为如下：如果 $EN=0$，计数器保持在当前状态；如果 $EN=1$，计数器转换到其指定计数序列中的下一个状态。\n\n用于模3计数的三个状态由二进制值 $Q_1Q_0$ 表示。计数值到这些二进制状态的映射不一定按标准二进制顺序。下面提供了一个描述电路行为的部分状态表，但其中一个次态条目缺失，并用 `??` 表示。\n\n**部分状态表：**\n\n| 现态 ($Q_1Q_0$) | 输入 ($EN$) | 次态 ($Q_1'Q_0'$) |\n| :---: | :---: | :---: |\n| 00 | 0 | 00 |\n| 00 | 1 | 11 |\n| 01 | 0 | 01 |\n| 01 | 1 | 00 |\n| 11 | 0 | 11 |\n| 11 | 1 | ?? |\n\n缺失的次态条目 `??` 的正确两位二进制值是什么？\n\nA. 00\n\nB. 01\n\nC. 10\n\nD. 11", "solution": "一个模3计数器恰好使用三个不同的状态，并且当 $EN=1$ 使能时，必须以一个单一的3周期置换方式在这些状态中前进。从表中可知，三个有效状态是 $00$、$01$ 和 $11$，因此状态集为 $S=\\{00,01,11\\}$。当 $EN=0$ 时，次态等于现态，这已由给定的行满足。\n\n对于 $EN=1$，次态映射必须是 $S$ 上的一个双射，形成一个单一的3周期。给定的条目指定了\n$$\nf(00)=11, \\quad f(01)=00,\n$$\n其中 $f$ 是 $EN=1$ 时的次态函数。从 $01$ 开始并相继应用 $f$ 得到\n$$\n01 \\xrightarrow{f} 00 \\xrightarrow{f} 11 \\xrightarrow{f} \\, ?.\n$$\n为了在 $S$ 上完成一个3周期，而不重复像或离开 $S$，唯一一致的选择是\n$$\nf(11)=01.\n$$\n这产生了一个循环 $01 \\to 00 \\to 11 \\to 01$，这是一个在三个指定状态上的有效模3计数序列。任何其他选择要么会映射到 $S$ 之外（例如 $10$），要么会在 $EN=1$ 下产生一个不动点（例如 $11$），要么会通过重复一个像（例如映射到已经是 $f(01)$ 的 $00$）而违反双射性。\n\n因此，缺失的次态是 $01$，对应于选项B。", "answer": "$$\\boxed{B}$$", "id": "1962874"}, {"introduction": "在实际的数字设计中，效率至关重要。本练习介绍了状态化简，这是一种强大的优化技术，用于创建更小、更经济的电路。你将学习如何策略性地使用“无关项”（`-`）来使不同状态兼容并进行合并，这是高级逻辑综合中的一项关键技能。[@problem_id:1962866]", "problem": "一个同步时序电路由下方的状态表部分描述。该电路有一个输入 `x` 和一个输出 `z`。“无关”项用 `-` 表示。\n\n| 现态 | 次态, x=0 | 次态, x=1 | 输出, z, x=0 | 输出, z, x=1 |\n| :-----------: | :---------------: | :---------------: | :--------------: | :--------------: |\n|       A       |         B         |         C         |        1         |        0         |\n|       B       |         A         |         D         |        0         |        1         |\n|       C       |         E         |         -         |        -         |        0         |\n|       D       |         -         |         A         |        1         |        -         |\n|       E       |         -         |         B         |        1         |        0         |\n\n在数字逻辑设计中，状态化简是一种关键的优化技术。如果两个状态的输出和次态规格对于任何输入都不冲突，那么它们被认为是相容的（或可合并的）。具体来说，对于任何输入 `x`，它们的输出必须相同，或者其中一个/两个是“无关”项。同样，它们的次态要么必须相同，要么必须形成一个新的相容状态对。\n\n你的任务是通过适当地定义状态 `C` 和 `D` 各自所在行中的“无关”项，来使得它们可以合并。一旦完成这些赋值，状态 `C` 和 `D` 将被合并成一个单一的新状态，我们称之为 `(CD)`。确定化简后状态表中这个新状态 `(CD)` 的完整行。\n\n以下哪一项代表了合并后状态 `(CD)` 的行，其格式为 `(x=0 时的次态, x=1 时的次态, x=0 时的输出, x=1 时的输出)`？\n\nA. `(E, A, 1, 0)`\n\nB. `(E, A, 1, 1)`\n\nC. `(B, C, 0, 0)`\n\nD. `(E, D, 1, 0)`\n\nE. 状态 C 和 D 无法变得相容。", "solution": "为了解决这个问题，我们需要确定“无关”项 (`-`) 的赋值，以使状态 `C` 和 `D` 相容。如果对于每个输入值，两个状态 `S_i` 和 `S_j` 的输出不矛盾，并且它们的次态是一个相容对，那么这两个状态就是相容的。\n\n让我们分析状态对 `(C, D)` 对于每个输入 `x` 的相容性要求。\n\n**情况 1：输入 `x = 0`**\n\n1.  **输出**：我们比较输出 `z(C, 0)` 和 `z(D, 0)`。\n    - 根据表格，`z(C, 0) = -` 且 `z(D, 0) = 1`。\n    - 为了使它们相容，它们不能冲突。由于 `z(C, 0)` 是一个“无关”项，我们可以将其赋值为 `z(D, 0)` 的值。\n    - **赋值 1**：我们必须设置 `z(C, 0) = 1`。\n\n2.  **次态**：我们比较次态 `NS(C, 0)` 和 `NS(D, 0)`。\n    - 根据表格，`NS(C, 0) = E` 且 `NS(D, 0) = -`。\n    - 为了相容性，我们可以将“无关”次态赋值为已指定的那个次态。\n    - **赋值 2**：我们必须设置 `NS(D, 0) = E`。\n    - 这产生了一个隐含的配对要求，即次态对 `(E, E)` 必须是相容的。一对相同的状态总是相容的。\n\n**情况 2：输入 `x = 1`**\n\n1.  **输出**：我们比较输出 `z(C, 1)` 和 `z(D, 1)`。\n    - 根据表格，`z(C, 1) = 0` 且 `z(D, 1) = -`。\n    - 为了相容性，我们必须将 `z(D, 1)` 赋值为与 `z(C, 1)` 相同的值。\n    - **赋值 3**：我们必须设置 `z(D, 1) = 0`。\n\n2.  **次态**：我们比较次态 `NS(C, 1)` 和 `NS(D, 1)`。\n    - 根据表格，`NS(C, 1) = -` 且 `NS(D, 1) = A`。\n    - 为了相容性，我们必须给 `NS(C, 1)` 赋一个值，使得产生的次态对是相容的。实现这一目标的最简单方法是，将 `NS(C, 1)` 赋值为与 `NS(D, 1)` 相同的值。\n    - **赋值 4**：我们设置 `NS(C, 1) = A`。\n    - 这意味着状态对 `(A, A)` 必须是相容的，而这总是成立的。任何对 `NS(C, 1)` 的其他选择都会对另一个不同的状态对引入新的相容性要求，需要检查是否存在冲突。例如，设置 `NS(C, 1) = B` 将需要检查状态对 `(B, A)`，它们在 `x=0` 时有冲突的输出（`z(B,0)=0`, `z(A,0)=1`），因此它们是不相容的。因此，设置 `NS(C, 1) = A` 是正确且最直接的方法。\n\n**赋值总结：**\n- `z(C, 0)` 被设置为 `1`。\n- `NS(D, 0)` 被设置为 `E`。\n- `z(D, 1)` 被设置为 `0`。\n- `NS(C, 1)` 被设置为 `A`。\n\n现在我们可以在这些赋值之后写出状态 `C` 和 `D` 的完整指定行：\n- **状态 C 的行**：\n  - `NS(C, 0) = E` (给定)\n  - `NS(C, 1) = A` (赋值)\n  - `z(C, 0) = 1` (赋值)\n  - `z(C, 1) = 0` (给定)\n  - C 的结果行为：`(E, A, 1, 0)`\n\n- **状态 D 的行**：\n  - `NS(D, 0) = E` (赋值)\n  - `NS(D, 1) = A` (给定)\n  - `z(D, 0) = 1` (给定)\n  - `z(D, 1) = 0` (赋值)\n  - D 的结果行为：`(E, A, 1, 0)`\n\n由于两行现在完全相同，状态 `C` 和 `D` 可以合并成一个单一的新状态 `(CD)`。这个合并后状态的行就是它们现在共同拥有的那一行。\n\n合并后状态 `(CD)` 的行，其格式为 `(x=0 时的次态, x=1 时的次态, x=0 时的输出, x=1 时的输出)`，是 `(E, A, 1, 0)`。\n\n将此结果与给定选项进行比较：\nA. `(E, A, 1, 0)` - 与我们的结果匹配。\nB. `(E, A, 1, 1)` - `x=1` 时的输出不正确。\nC. `(B, C, 0, 0)` - 次态和输出均不正确。\nD. `(E, D, 1, 0)` - `x=1` 时的次态不正确。\nE. 状态 C 和 D 无法变得相容。 - 不正确，我们已经证明它们可以相容。\n\n因此，正确选项是 A。", "answer": "$$\\boxed{A}$$", "id": "1962866"}]}