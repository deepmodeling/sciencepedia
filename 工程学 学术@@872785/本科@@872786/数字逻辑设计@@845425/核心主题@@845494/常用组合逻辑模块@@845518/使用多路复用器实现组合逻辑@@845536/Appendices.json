{"hands_on_practices": [{"introduction": "本练习将引导你完成一个基本但至关重要的任务：使用一个 $8$选$1$ 多路选择器 (MUX) 来实现一个 $4$ 变量的布尔函数。这个过程的核心在于将一部分输入变量连接到 MUX 的选择线上，然后根据剩余变量来确定数据输入线的值。通过这个实践 [@problem_id:1923433]，你将掌握将标准布尔表达式（最小项之和）直接映射到 MUX 电路上的系统方法。", "problem": "需要设计一个组合逻辑电路，以实现一个由 $F(A,B,C,D) = \\sum m(0,1,5,7,8,12,14,15)$ 给出的四变量布尔函数，其中 $A$ 是最高有效位，$D$ 是最低有效位。要求您仅使用一个8选1多路选择器（MUX）以及（如果需要）一个反相器来实现此函数。\n\n该多路选择器有三个选择线 $S_2, S_1, S_0$ 和八个数据输入 $I_0$ 到 $I_7$。连接方式规定如下：\n- 函数的变量 $A, B,$ 和 $C$ 分别连接到选择线 $S_2, S_1,$ 和 $S_0$。\n- 数据输入 $I_0, I_1, \\dots, I_7$ 必须连接到以下之一：逻辑 '0'（接地）、逻辑 '1'（Vcc）、变量 $D$ 或其补码 $\\bar{D}$。\n\n确定数据输入 $I_0$ 到 $I_7$ 的正确连接组。以下哪个选项代表了正确的实现？\n\nA. $I_0=1, I_1=0, I_2=\\bar{D}, I_3=\\bar{D}, I_4=D, I_5=0, I_6=D, I_7=1$\n\nB. $I_0=1, I_1=0, I_2=D, I_3=D, I_4=\\bar{D}, I_5=0, I_6=\\bar{D}, I_7=1$\n\nC. $I_0=1, I_1=D, I_2=0, I_3=\\bar{D}, I_4=\\bar{D}, I_5=1, I_6=D, I_7=0$\n\nD. $I_0=\\bar{D}, I_1=D, I_2=0, I_3=1, I_4=1, I_5=0, I_6=D, I_7=\\bar{D}$", "solution": "我们给定的布尔函数为 $F(A,B,C,D)=\\sum m(0,1,5,7,8,12,14,15)$，其中 $A$ 是最高有效位，$D$ 是最低有效位，所以一个最小项索引是 $m=8A+4B+2C+D$。一个选择线为 $S_{2}=A$, $S_{1}=B$, $S_{0}=C$ 的8选1多路选择器会选择输入 $I_{k}$，其中 $k=4A+2B+C$。对于每个固定的三元组 $(A,B,C)$，函数 $F$ 变为仅与 $D$ 相关的函数，并且由于每对仅在 $D$ 上不同的最小项要么都存在、要么都不存在、要么恰好有一个存在，因此 $F$ 分别简化为 $1$、$0$、$D$ 或 $\\bar{D}$。我们为所有的 $(A,B,C)$ 计算这个值：\n\n1. 对于 $(A,B,C)=(0,0,0)$，相关的最小项是 $m=8\\cdot 0+4\\cdot 0+2\\cdot 0+D$，即 $m\\in\\{0,1\\}$。由于 $0,1$ 都在列表中，所以 $F=1$。因此 $I_{0}=1$。\n\n2. 对于 $(A,B,C)=(0,0,1)$，相关的最小项是 $m\\in\\{2,3\\}$。$2$ 和 $3$ 都不存在，所以 $F=0$。因此 $I_{1}=0$。\n\n3. 对于 $(A,B,C)=(0,1,0)$，相关的最小项是 $m\\in\\{4,5\\}$。只有 $5$ 存在，所以 $F=D$。因此 $I_{2}=D$。\n\n4. 对于 $(A,B,C)=(0,1,1)$，相关的最小项是 $m\\in\\{6,7\\}$。只有 $7$ 存在，所以 $F=D$。因此 $I_{3}=D$。\n\n5. 对于 $(A,B,C)=(1,0,0)$，相关的最小项是 $m\\in\\{8,9\\}$。只有 $8$ 存在，所以 $F=\\bar{D}$。因此 $I_{4}=\\bar{D}$。\n\n6. 对于 $(A,B,C)=(1,0,1)$，相关的最小项是 $m\\in\\{10,11\\}$。两者都不存在，所以 $F=0$。因此 $I_{5}=0$。\n\n7. 对于 $(A,B,C)=(1,1,0)$，相关的最小项是 $m\\in\\{12,13\\}$。只有 $12$ 存在，所以 $F=\\bar{D}$。因此 $I_{6}=\\bar{D}$。\n\n8. 对于 $(A,B,C)=(1,1,1)$，相关的最小项是 $m\\in\\{14,15\\}$。两者都存在，所以 $F=1$。因此 $I_{7}=1$。\n\n按顺序收集所需的数据输入得到\n$$I_{0}=1,\\ I_{1}=0,\\ I_{2}=D,\\ I_{3}=D,\\ I_{4}=\\bar{D},\\ I_{5}=0,\\ I_{6}=\\bar{D},\\ I_{7}=1,$$\n这与选项 B 相匹配。", "answer": "$$\\boxed{B}$$", "id": "1923433"}, {"introduction": "在实际设计中，逻辑功能通常不是以最小项列表的形式给出，而是通过其期望的行为或属性来描述。本练习 [@problem_id:1923421] 就提出了这样一个场景，要求你实现一个“汉明重量检测器”。你需要首先将这个基于属性的描述转化为具体的逻辑关系，然后再应用多路选择器的实现技术，这能有效锻炼你从抽象需求到具体电路的转换能力。", "problem": "需要一个数字逻辑电路来实现一个特定的4输入函数 $F(A, B, C, D)$。当且仅当输入向量 $(A, B, C, D)$ 的汉明权重（输入为逻辑'1'的数量）恰好为2时，该函数必须输出逻辑'1'。对于所有其他输入组合，该函数必须输出逻辑'0'。\n\n你的任务是仅使用一个8选1多路选择器（MUX）和至多一个外部反相器来实现这个函数。输入 $A$、$B$ 和 $C$ 将分别连接到MUX的选择线 $S_2$、$S_1$ 和 $S_0$，其中 $A$ 是最高有效位。MUX的数据输入（由有序集合 $(I_0, I_1, I_2, I_3, I_4, I_5, I_6, I_7)$ 表示）必须连接到逻辑'0'、逻辑'1'、第四个输入变量 $D$ 或其反相 $\\bar{D}$。\n\n以下哪个选项正确指定了为实现函数 $F$ 所需的数据输入 $(I_0, I_1, I_2, I_3, I_4, I_5, I_6, I_7)$ 的连接？\n\nA. $(0, D, D, \\bar{D}, D, \\bar{D}, \\bar{D}, 0)$\n\nB. $(0, \\bar{D}, D, D, \\bar{D}, D, \\bar{D}, 0)$\n\nC. $(1, D, D, \\bar{D}, D, \\bar{D}, \\bar{D}, 1)$\n\nD. $(0, D, \\bar{D}, 1, D, \\bar{D}, 0, 0)$\n\nE. $(\\bar{D}, D, D, 0, 1, \\bar{D}, \\bar{D}, D)$", "solution": "我们需要一个4输入函数 $F(A,B,C,D)$，当且仅当 $(A,B,C,D)$ 的汉明权重等于 $2$ 时，$F=1$。将布尔变量解释为整数 $0$ 或 $1$，该条件为\n$$\nF(A,B,C,D)=1 \\;\\;\\text{iff}\\;\\; A+B+C+D=2,\\quad \\text{else } F=0.\n$$\n8选1 MUX使用 $A,B,C$ 作为选择线 $S_{2},S_{1},S_{0}$，其中 $A$ 为最高有效位，因此所选数据输入的索引为\n$$\ni \\;=\\; 4A + 2B + C,\n$$\n意思是，当 $ABC=000$ 时选择 $I_{0}$，当 $ABC=001$ 时选择 $I_{1}$，当 $ABC=010$ 时选择 $I_{2}$，当 $ABC=011$ 时选择 $I_{3}$，当 $ABC=100$ 时选择 $I_{4}$，当 $ABC=101$ 时选择 $I_{5}$，当 $ABC=110$ 时选择 $I_{6}$，以及当 $ABC=111$ 时选择 $I_{7}$。\n\n对于固定的 $(A,B,C)$，定义 $k = A+B+C$。那么条件 $A+B+C+D=2$ 变为\n$$\nk + D \\;=\\; 2.\n$$\n因此，作为 $D$ 的函数：\n- 如果 $k=0$，则需要 $D=2$，这是不可能的；因此 $F=0$ (恒为 $0$)。\n- 如果 $k=1$，则需要 $D=1$；因此 $F=D$。\n- 如果 $k=2$，则需要 $D=0$；因此 $F=\\bar{D}$。\n- 如果 $k=3$，则需要 $D=-1$，这是不可能的；因此 $F=0$ (恒为 $0$)。\n\n现在根据每个 $ABC$ 组合的 $k$ 值来分配 $I_{i}$：\n- $ABC=000$ 得到 $k=0 \\Rightarrow I_{0}=0$。\n- $ABC=001$ 得到 $k=1 \\Rightarrow I_{1}=D$。\n- $ABC=010$ 得到 $k=1 \\Rightarrow I_{2}=D$。\n- $ABC=011$ 得到 $k=2 \\Rightarrow I_{3}=\\bar{D}$。\n- $ABC=100$ 得到 $k=1 \\Rightarrow I_{4}=D$。\n- $ABC=101$ 得到 $k=2 \\Rightarrow I_{5}=\\bar{D}$。\n- $ABC=110$ 得到 $k=2 \\Rightarrow I_{6}=\\bar{D}$。\n- $ABC=111$ 得到 $k=3 \\Rightarrow I_{7}=0$。\n\n因此，所需的元组是\n$$\n(I_{0},I_{1},I_{2},I_{3},I_{4},I_{5},I_{6},I_{7}) \\;=\\; (0, D, D, \\bar{D}, D, \\bar{D}, \\bar{D}, 0),\n$$\n这与选项A相匹配，并且最多使用一个外部反相器来生成 $\\bar{D}$。", "answer": "$$\\boxed{A}$$", "id": "1923421"}, {"introduction": "这项挑战性练习将你的思维从“实现”转向“综合”。你将不再使用一个大型 MUX 来实现函数，而是要用最少的 $2$选$1$ MUX 这一基本构建模块来合成一个三输入异或门。这个练习 [@problem_id:1923472] 不仅考验你的电路设计技巧，还要求你提供严格的形式化证明来论证你设计的最小性，这让你能像一个真正的数字系统工程师一样，在资源限制下进行优化设计。", "problem": "一位数字系统工程师的任务是设计一个基本计算模块，即一个3输入异或门（XOR），其布尔函数为 $F(A, B, C) = A \\oplus B \\oplus C$。然而，由于供应链的限制，该工程师只能使用2选1多路选择器（MUX）以及常数逻辑值'0'（假）和'1'（真）。一个2选1 MUX有两个数据输入（$I_0, I_1$）、一个选择输入（$S$）和一个输出（$Y$），其布尔表达式定义为 $Y = S' \\cdot I_0 + S \\cdot I_1$，其中 $S'$ 表示 $S$ 的逻辑非。\n\n你的任务是确定实现3输入异或函数 $F(A, B, C)$ 所需的2选1 MUX的绝对最小数量。此外，你必须提供一个严格的形式论证，以证明任何实现都不可能使用比你声称的数量更少的MUX。在你的设计中，任何MUX的输入可以是任何主输入（$A, B, C$）、常数（'0', '1'），或另一个MUX的输出，只要最终电路是一个组合（无环）网络。请仅提供最小数量作为最终答案。", "solution": "我们被限制只能使用2选1 MUX和常数。一个2选1 MUX实现以下函数\n$$Y=S' \\cdot I_{0}+S \\cdot I_{1}.$$\n我们必须用最少数量的此类MUX实现 $F(A,B,C)=A \\oplus B \\oplus C$，并证明其最优性。\n\n首先，我们展示一个使用四个MUX的显式构造（一个上限），并符号化地验证其正确性。\n\n1) 使用一个MUX实现一个主输入的反相。例如，通过选择 $S=A$, $I_{0}=1$, $I_{1}=0$ 用一个MUX生成 $A'$，得到\n$$A'=A' \\cdot 1 + A \\cdot 0=A'.$$\n\n2) 使用两个由 $C$ 控制的MUX来产生一对信号 $L$ 和 $L'$，其中\n$$L=\\mathrm{MUX}(C,A,A')=C' \\cdot A + C \\cdot A'=A \\oplus C,$$\n$$L'=\\mathrm{MUX}(C,A',A)=C' \\cdot A' + C \\cdot A=A \\odot C=(A \\oplus C)'.$$\n\n3) 使用最后一个由 $B$ 控制的MUX来组合 $L$ 和 $L'$：\n$$F=\\mathrm{MUX}(B,L,L')=B' \\cdot L + B \\cdot L'=B' \\cdot (A \\oplus C) + B \\cdot (A \\odot C).$$\n由于 $B' \\cdot X + B \\cdot X'=B \\oplus X$，这会得到\n$$F=B \\oplus (A \\oplus C)=A \\oplus B \\oplus C.$$\n这个构造使用1个MUX进行反相（$A'$），2个MUX形成 $L$ 和 $L'$，以及1个MUX与 $B$ 组合，总共需要4个MUX。\n\n因此，4个MUX是足够的。\n\n接下来，我们证明少于4个MUX是不可能的（一个下限）。\n\n我们使用Shannon分解和异或协因子的结构。\n\n对于任何变量，比如 $A$，奇偶函数满足\n$$F(A,B,C)=A' \\cdot G(B,C)+A \\cdot G'(B,C),$$\n其中\n$$G(B,C)=B \\oplus C,\\qquad G'(B,C)=(B \\oplus C)'.$$\n因此，任何使用一个选择输入为 $A$ 的顶层MUX来实现 $F$ 的方案，都必须同时提供数据输入 $I_{0}=G$ 和 $I_{1}=G'$。\n\n我们现在建立两个关于使用2选1 MUX和常数实现 $G$ 和 $G'$ 的必要事实：\n\n事实1（单MUX实现 $B \\oplus C$ 需要一个主输入的反相）。如果一个2选1 MUX实现 $G(B,C)=B \\oplus C$，那么对于 $S=B$ 我们必须有 $I_{0}=C$ 和 $I_{1}=C'$，或者对于 $S=C$ 我们必须有 $I_{0}=B$ 和 $I_{1}=B'$，因为\n$$B \\oplus C=B' \\cdot C + B \\cdot C'=C' \\cdot B + C \\cdot B'.$$\n因此，单MUX实现 $G$ 必然需要 $B'$ 或 $C'$ 作为可用信号。获得一个主输入反相的唯一允许方法是使用一个MUX作为反相器（例如，通过 $S=X, I_{0}=1, I_{1}=0$ 从 $X$ 得到 $X'$）。\n\n事实2（同时提供 $G$ 和 $G'$ 作为数据信号需要至少两个MUX输出，并且，如果尚无主输入反相可用，则至少需要一个额外的MUX来创建它）。由于每个2选1 MUX只有一个输出，因此无法从单个MUX同时获得 $G$ 和 $G'$。因此，要将 $G$ 和 $G'$ 都提供给顶层MUX，其下层至少需要有两个MUX的输出可用。有两种可能的方式来实现这些：\n- 用一个MUX计算 $G$，然后用另一个MUX将其反相得到 $G'$。根据事实1，第一个MUX需要一个主输入反相；如果该反相信号尚不可用，则必须先用另一个MUX生成它，这将导致 $G/G'$ 模块使用超过两个MUX。\n- 分别用一个MUX直接计算 $G$ 和 $G'$（例如，$G=\\mathrm{MUX}(B,C,C')$ 和 $G'=\\mathrm{MUX}(B,C',C)$）。这要求两个MUX共享一个主输入反相（$C'$ 或 $B'$）。如果先验地没有可用的主输入反相，则必须用一个额外的MUX来生成它。\n\n因此，无论如何，当仅从 $A,B,C$ 和常数开始时，生成 $G$ 和 $G'$ 总共至少需要三个MUX：一个MUX用于生成单个主输入反相（根据事实1），再加上两个MUX使用该反相信号来实现 $G$ 和 $G'$（根据事实2）。\n\n最后，选择输入为 $A$ 并组合 $G$ 和 $G'$ 的顶层Shannon MUX是另一个额外的MUX。因此，任何 $F$ 的实现都必须至少使用\n$$1 \\text{ (用于反相)} + 2 \\text{ (用于 } G \\text{ 和 } G') + 1 \\text{ (顶层 MUX)}=4 \\text{ 个MUX}。$$\n\n这与显式的4-MUX构造相匹配。因此，实现 $F(A,B,C)=A \\oplus B \\oplus C$ 所需的2选1 MUX的绝对最小数量是4。", "answer": "$$\\boxed{4}$$", "id": "1923472"}]}