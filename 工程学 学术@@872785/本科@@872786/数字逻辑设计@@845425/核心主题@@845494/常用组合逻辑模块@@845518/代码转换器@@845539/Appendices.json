{"hands_on_practices": [{"introduction": "代码转换是数字系统设计中的一项基本任务，它确保了使用不同编码方案的模块之间可以无缝通信。本练习将带领您设计一个将“余3码”（Excess-3）转换为“二进制编码的十进制”（BCD）码的电路。通过这个经典问题 [@problem_id:1922585]，您将实践如何利用无关项来简化布尔逻辑，这是优化组合逻辑电路的一项关键技能。", "problem": "在一个旧式的数字算术单元中，数字使用4位余3码表示。为了与现代显示器接口，需要一个组合逻辑电路，将每个有效的4位余3码数字转换回其标准的4位二进制编码的十进制（BCD）表示。\n\nBCD码用其4位无符号二进制等效值（0000到1001）来表示十进制数字0到9。余3码是通过将十进制数字的BCD表示加上3（二进制0011）而形成的。例如，十进制数5的BCD码是0101，所以其余3码表示为 $0101 + 0011 = 1000$。\n\n您的任务是确定此转换器的简化布尔逻辑。该转换器接收一个4位余3码输入，表示为 $E_3E_2E_1E_0$（其中 $E_3$ 是最高有效位MSB），并产生一个4位BCD输出，表示为 $B_3B_2B_1B_0$（其中 $B_3$ 是MSB）。在余3码中，不对应任何有效十进制数字（0-9）的输入组合可以作为无关项（don't-care conditions）处理，以简化逻辑。\n\n选择提供BCD输出位的四个正确简化布尔表达式集的选项。在下面的表达式中，撇号（例如 $E'$）表示非（NOT）运算，并置表示与（AND）运算（例如 $XY$ 是 $X \\text{ AND } Y$），加号（$+$）表示或（OR）运算。符号 $\\oplus$ 表示异或（XOR）运算。\n\nA.\n$B_3 = E_3 E_2 + E_3 E_1 E_0$\n$B_2 = E_2'E_1' + E_2'E_0' + E_2E_1E_0$\n$B_1 = E_1 \\oplus E_0$\n$B_0 = E_0'$\n\nB.\n$B_3 = E_3 E_2$\n$B_2 = E_2'E_1' + E_2'E_0'$\n$B_1 = E_1 \\oplus E_0$\n$B_0 = E_0'$\n\nC.\n$B_3 = E_3 E_2' + E_3 E_1' E_0'$\n$B_2 = E_2'(E_1+E_0) + E_2E_1'E_0'$\n$B_1 = E_1 \\oplus E_0$\n$B_0 = E_0'$\n\nD.\n$B_3 = E_3 E_2 + E_3 E_1 E_0$\n$B_2 = E_2'E_1' + E_2'E_0' + E_2E_1E_0$\n$B_1 = (E_1 \\oplus E_0)'$\n$B_0 = E_0$\n\nE.\n$B_3 = E_3+E_2+E_1+E_0$\n$B_2 = E_2(E_1+E_0)$\n$B_1 = E_1 E_0$\n$B_0 = E_0'$", "solution": "一个余3码数字是 $E= \\text{BCD} + 3$。对于十进制数字 $d=0$ 到 $9$，有效的4位余3码输入 $E_{3}E_{2}E_{1}E_{0}$ 及其对应的BCD输出 $B_{3}B_{2}B_{1}B_{0}$ 如下：\n$$\n\\begin{aligned}\n0011 \\to 0000,\\\\\n0100 \\to 0001,\\\\\n0101 \\to 0010,\\\\\n0110 \\to 0011,\\\\\n0111 \\to 0100,\\\\\n1000 \\to 0101,\\\\\n1001 \\to 0110,\\\\\n1010 \\to 0111,\\\\\n1011 \\to 1000,\\\\\n1100 \\to 1001.\n\\end{aligned}\n$$\n所有其他4位输入都是无关项：$\\{0000,0001,0010,1101,1110,1111\\}$。\n\n$B_{0}$的推导：从表中可以看出，对于所有有效输入，当$E_{0}=1$时$B_{0}=0$，当$E_{0}=0$时$B_{0}=1$，因此 $B_{0}=E_{0}'$。\n\n$B_{1}$的推导：从表中可以看出，在所有有效输入中，$B_{1}=1$ 当且仅当 $E_{1}\\neq E_{0}$，因此 $B_{1}=E_{1}\\oplus E_{0}$。\n\n$B_{2}$的推导：$B_{2}=1$ 的最小项是 $E=0111,1000,1001,1010$，即：\n$B_{2} = E_{3}'E_{2}E_{1}E_{0} + E_{3}E_{2}'E_{1}'E_{0}' + E_{3}E_{2}'E_{1}'E_{0} + E_{3}E_{2}'E_{1}E_{0}'$。\n使用无关项来扩展蕴含项：\n- 将 $E_{3}'E_{2}E_{1}E_{0}$ 与在 $1111$ 处的无关项合并，得到 $E_{2}E_{1}E_{0}$。\n- 合并 $E_{3}E_{2}'E_{1}'E_{0}'$ 和 $E_{3}E_{2}'E_{1}'E_{0}$，并利用在 $0000,0001$ 处的无关项进行扩展，得到 $E_{2}'E_{1}'$。\n- 合并 $E_{3}E_{2}'E_{1}'E_{0}'$ 和 $E_{3}E_{2}'E_{1}E_{0}'$，并利用在 $0000,0010$ 处的无关项进行扩展，得到 $E_{2}'E_{0}'$。\n因此 $B_{2} = E_{2}'E_{1}' + E_{2}'E_{0}' + E_{2}E_{1}E_{0}$。\n\n$B_{3}$的推导：$B_{3}=1$ 的最小项是 $E=1011,1100$，即：\n$B_{3} = E_{3}E_{2}'E_{1}E_{0} + E_{3}E_{2}E_{1}'E_{0}'$。\n使用无关项进行扩展：\n- 利用在 $1101,1110,1111$ 处的无关项将 $E_{3}E_{2}E_{1}'E_{0}'$ 扩展为 $E_{3}E_{2}$。\n- 利用在 $1111$ 处的无关项將 $E_{3}E_{2}'E_{1}E_{0}$ 扩展为 $E_{3}E_{1}E_{0}$。\n因此 $B_{3} = E_{3}E_{2} + E_{3}E_{1}E_{0}$。\n\n总结结果：\n$$\nB_{3} = E_{3}E_{2} + E_{3}E_{1}E_{0},\\quad\nB_{2} = E_{2}'E_{1}' + E_{2}'E_{0}' + E_{2}E_{1}E_{0},\\quad\nB_{1} = E_{1}\\oplus E_{0},\\quad\nB_{0} = E_{0}'.\n$$\n这与选项A匹配。", "answer": "$$\\boxed{A}$$", "id": "1922585"}, {"introduction": "现实世界的转换器通常不仅需要转换数据，还需要验证其有效性，以确保系统的稳健性。这个练习 [@problem_id:1922579] 挑战您设计一个双功能电路：它不仅将4位格雷码转换为二进制码，还产生一个“有效性”信号。这个信号用于判断输入是否代表0到9的十进制数，这在处理有范围限制的数据时至关重要。", "problem": "一个数字系统需要一个专门的4位代码转换器。该转换器接受一个4位格雷码输入，表示为 $G_3G_2G_1G_0$，其中 $G_3$ 是最高有效位。它产生两个输出：与输入对应的4位标准二进制表示 $B_3B_2B_1B_0$（其中 $B_3$ 是最高有效位），以及一个单位有效性信号 $V$。\n\n当且仅当输入格雷码表示的十进制值在0到9之间（含0和9）时，有效性信号 $V$ 必须为逻辑'1'（高电平）。对于所有其他有效的4位格雷码输入，有效性信号 $V$ 必须为逻辑'0'（低电平）。\n\n您的任务是确定此转换器的布尔逻辑。假设输入由变量 $G_3, G_2, G_1,$ 和 $G_0$ 表示，请为二进制输出位 $B_2$ 和有效性信号 $V$ 找出正确的简化积之和 (SOP) 表达式对。使用上划线表示逻辑非（例如，$\\bar{A}$）。\n\n从以下选项中选择正确的选项。\n\nA. $B_2 = \\bar{G}_3 G_2 + G_3 \\bar{G}_2$; $V = \\bar{G}_3 + G_3 G_2 \\bar{G}_1$\nB. $B_2 = \\bar{G}_3 + G_2 \\bar{G}_1$; $V = \\bar{G}_3 G_2 + G_3 \\bar{G}_2$\nC. $B_2 = G_3 G_2 + \\bar{G}_3 \\bar{G}_2$; $V = \\bar{G}_3 G_1 + G_3 G_2$\nD. $B_2 = \\bar{G}_3 G_2 + G_3 \\bar{G}_2$; $V = \\bar{G}_3 + G_3 G_2 \\bar{G}_0$\nE. $B_2 = \\bar{G}_3 \\bar{G}_2 + G_3 \\bar{G}_1 G_0$; $V = \\bar{G}_3 G_2 + G_2 \\bar{G}_1$", "solution": "标准的格雷码到二进制码的转换关系是\n$$\nB_{3}=G_{3},\\quad B_{2}=B_{3}\\oplus G_{2},\\quad B_{1}=B_{2}\\oplus G_{1},\\quad B_{0}=B_{1}\\oplus G_{0}.\n$$\n使用 $B_{3}=G_{3}$，第二个方程给出\n$$\nB_{2}=G_{3}\\oplus G_{2}=\\bar{G}_{3}G_{2}+G_{3}\\bar{G}_{2}.\n$$\n\n当且仅当二进制值 $B_{3}B_{2}B_{1}B_{0}$ 在 $\\{0,1,\\dots,9\\}$ 范围内时，有效性信号必须为 $V=1$。无效集合是 $\\{10,11,12,13,14,15\\}$，用 $B$ 位表示的条件是\n$$\n\\text{invalid}:\\ I=B_{3}(B_{2}+B_{1}).\n$$\n因此\n$$\nV=\\overline{I}=\\overline{B}_{3}+\\overline{B}_{2}\\,\\overline{B}_{1}.\n$$\n现在将 $V$ 转换为 $G$ 变量。因为 $B_{3}=G_{3}$，我们写出\n$$\nV=\\bar{G}_{3}+\\overline{B}_{2}\\,\\overline{B}_{1}.\n$$\n当 $G_{3}=1$ 时，我们有 $B_{2}=G_{3}\\oplus G_{2}=\\bar{G}_{2}$ 和 $B_{1}=B_{2}\\oplus G_{1}=\\bar{G}_{2}\\oplus G_{1}$。因此\n$$\n\\overline{B}_{2}=G_{2},\\qquad \\overline{B}_{1}=\\overline{\\bar{G}_{2}\\oplus G_{1}}=\\bar{G}_{2}G_{1}+G_{2}\\bar{G}_{1},\n$$\n所以\n$$\n\\overline{B}_{2}\\,\\overline{B}_{1}=G_{2}(\\bar{G}_{2}G_{1}+G_{2}\\bar{G}_{1})=G_{2}\\bar{G}_{1}.\n$$\n对于 $G_{3}=0$ 的情况，$\\bar{G}_{3}$ 项已经使得 $V=1$，所以结合两种情况得出\n$$\nV=\\bar{G}_{3}+G_{3}G_{2}\\bar{G}_{1}.\n$$\n\n因此，\n$$\nB_{2}=\\bar{G}_{3}G_{2}+G_{3}\\bar{G}_{2},\\qquad V=\\bar{G}_{3}+G_{3}G_{2}\\bar{G}_{1},\n$$\n这对应于选项A。", "answer": "$$\\boxed{A}$$", "id": "1922579"}, {"introduction": "为了提高硬件的效率和通用性，现代数字设计常常采用可重构电路。本练习 [@problem_id:1922558] 旨在设计一个可根据模式选择输入 $M$ 在两种不同功能间切换的转换器。您将构建一个单一电路，它既能实现二进制到“独热码”（One-Hot）的转换，也能实现二进制到“温度计码”（Thermometer）的转换，这体现了在逻辑设计中实现功能灵活性的核心思想。", "problem": "一个专用的算术逻辑单元（ALU）需要一个可重构代码转换器。该数字电路接受一个3位无符号二进制数，由输入 $B_2B_1B_0$ 表示，其中 $B_2$ 是最高有效位。输入的十进制值由 $k = 4B_2 + 2B_1 + B_0$ 给出。该电路还有一个单模式选择输入 $M$。该转换器产生一个8位输出 $Y_7Y_6...Y_0$。\n\n该电路根据 $M$ 的值在两种不同的模式下工作：\n\n1.  **独热码模式 ($M=0$)：** 在此模式下，电路执行二进制到独热码的转换。对于给定的十进制输入值 $k$，相应的输出位 $Y_k$ 被设置为逻辑1，而所有其他输出位被设置为逻辑0。\n\n2.  **温度计码模式 ($M=1$)：** 在此模式下，电路执行二进制到温度计码的转换。对于给定的十进制输入值 $k$，所有索引 $j$ 小于或等于 $k$ （即 $j \\le k$）的输出位 $Y_j$ 被设置为逻辑1。所有其他输出位（其中 $j > k$）被设置为逻辑0。\n\n您的任务是确定单个输出位的简化逻辑。请找出输出位 $Y_5$ 关于四个输入变量 $M, B_2, B_1,$ 和 $B_0$ 的最小积之和（SOP）布尔表达式。使用标准的布尔代数表示法，其中加法（$+$）表示“或”运算，乘法（并列）表示“与”运算，撇号（$'$) 表示“非”运算（NOT）。", "solution": "题目要求解输出位 $Y_5$ 的最小积之和（SOP）布尔表达式。$Y_5$ 的行为取决于模式选择输入 $M$ 和3位二进制输入 $B_2B_1B_0$。我们可以使用基于模式选择 $M$ 的类似多路复用器的结构来表示任何输出位 $Y_k$ 的逻辑：\n$$Y_k = M' \\cdot (\\text{独热码模式下 } Y_k \\text{ 的表达式}) + M \\cdot (\\text{温度计码模式下 } Y_k \\text{ 的表达式})$$\n我们将位 $k$ 的独热码逻辑表示为 $H_k$，位 $k$ 的温度计码逻辑表示为 $T_k$。那么 $Y_5$ 的表达式为：\n$$Y_5 = M' \\cdot H_5 + M \\cdot T_5$$\n\n首先，我们确定 $H_5$ 的布尔表达式。\n在独热码模式下，只有当输入的十进制值恰好为 $k$ 时，输出位 $Y_k$ 才为1。对于 $Y_5$，这意味着只有当输入二进制数是5的表示形式，即 $B_2B_1B_0 = 101$ 时，它才为1。\n这对应于 $B_2=1$，$B_1=0$ 和 $B_0=1$ 的最小项。\n因此，$H_5$ 的表达式为：\n$$H_5 = B_2 B_1' B_0$$\n\n其次，我们确定 $T_5$ 的布尔表达式。\n在温度计码模式下，如果输入的十进制值 $k$ 大于或等于 $j$（$k \\ge j$），则输出位 $Y_j$ 为1。对于我们特定的输出位 $Y_5$，这意味着只要输入值 $k$ 为5、6或7，$T_5$ 就为1。\n我们需要为条件 $k \\ge 5$ 找到一个简化的布尔表达式。满足此条件的输入值为：\n- $k=5 \\implies B_2B_1B_0 = 101$\n- $k=6 \\implies B_2B_1B_0 = 110$\n- $k=7 \\implies B_2B_1B_0 = 111$\n\n这些情况的最小项之和为：\n$$T_5 = B_2 B_1' B_0 + B_2 B_1 B_0' + B_2 B_1 B_0$$\n我们可以使用布尔代数简化此表达式：\n$$T_5 = B_2 B_1' B_0 + B_2 B_1 (B_0' + B_0)$$\n因为 $B_0' + B_0 = 1$：\n$$T_5 = B_2 B_1' B_0 + B_2 B_1$$\n提取公因式 $B_2$：\n$$T_5 = B_2 (B_1' B_0 + B_1)$$\n使用吸收律 $X+X'Y = X+Y$：\n$$T_5 = B_2 (B_1 + B_0)$$\n因此，温度计码逻辑部分的简化表达式是 $T_5 = B_2(B_1 + B_0)$，展开为 $B_2 B_1 + B_2 B_0$。\n\n现在，我们将 $H_5$ 和 $T_5$ 的表达式代回到 $Y_5$ 的主方程中：\n$$Y_5 = M' (B_2 B_1' B_0) + M (B_2 (B_1 + B_0))$$\n$$Y_5 = M' B_2 B_1' B_0 + M B_2 B_1 + M B_2 B_0$$\n这是一个有效的SOP表达式，但它可能不是最简的。为了找到最小SOP，我们可以使用一个关于函数 $Y_5(M, B_2, B_1, B_0)$ 的4变量卡诺图（K-map）。$Y_5=1$ 时的最小项是：\n- 来自 $M' B_2 B_1' B_0$：$MB_2B_1B_0 = 0101$（最小项 5）\n- 来自 $M B_2 B_1$：$MB_2B_1B_0 = 1110$（最小项 14）和 $1111$（最小项 15）\n- 来自 $M B_2 B_0$：$MB_2B_1B_0 = 1101$（最小项 13）和 $1111$（最小项 15）\n\n卡诺图如下，行代表 $MB_2$，列代表 $B_1B_0$：\n$$\n\\begin{array}{c|cccc}\nY_5  B_1B_0=00  01  11  10 \\\\\n\\hline\nMB_2=00  0  0  0  0 \\\\\nMB_2=01  0  1  0  0 \\\\\nMB_2=11  0  1  1  1 \\\\\nMB_2=10  0  0  0  0 \\\\\n\\end{array}\n$$\n1的位置在 $(M,B_2,B_1,B_0) = (0,1,0,1)$, $(1,1,0,1)$, $(1,1,1,1)$ 和 $(1,1,1,0)$。\n\n我们对1进行分组以找到质蕴涵项：\n- 最小项5（$0101$）处的 `1` 可以与最小项13（$1101$）处的 `1` 分组。这个组与 $M$ 无关，对应于项 $B_2 B_1' B_0$。这是一个本质质蕴涵项，因为最小项5只被这个组覆盖。\n- 最小项14（$1110$）处的 `1` 可以与最小项15（$1111$）处的 `1` 分组。这个组对应于项 $M B_2 B_1$。这是一个本质质蕴涵项，因为最小项14只被这个组覆盖。\n\n这两个本质质蕴涵项覆盖了图上所有的1：\n- 第一组（$B_2 B_1' B_0$）覆盖了最小项5和13。\n- 第二组（$M B_2 B_1$）覆盖了最小项14和15。\n它们共同覆盖了所有需要的最小项（5, 13, 14, 15）。\n\n因此，$Y_5$ 的最小积之和表达式是这两个本质质蕴涵项的和：\n$$Y_5 = B_2 B_1' B_0 + M B_2 B_1$$", "answer": "$$\\boxed{B_2 B_1' B_0 + M B_2 B_1}$$", "id": "1922558"}]}