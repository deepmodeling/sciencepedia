{"hands_on_practices": [{"introduction": "要真正理解超前进位加法器，我们必须从其核心部件开始。第一个实践练习将指导你完成对“传递”信号 ($P_i$)、“生成”信号 ($G_i$) 以及它们如何组合决定最终进位输出的基本计算，这展示了加法器并行计算的能力。[@problem_id:1918213]", "problem": "一位数字系统工程师正在设计一个定制的4位算术逻辑单元（ALU）。该ALU的一个关键组件是一个4位先行进位加法器（CLA），它计算两个4位二进制数 $A = A_3A_2A_1A_0$ 和 $B = B_3B_2B_1B_0$ 的和。\n\nCLA的速度是通过为每个比特位 $i$ 预先计算两个信号来实现的：一个“生成”信号（$G_i$）和一个“传播”信号（$P_i$）。这些信号的定义如下，其中 $\\cdot$ 代表逻辑与（AND）运算，$\\oplus$ 代表逻辑异或（XOR）运算：\n- 生成: $G_i = A_i \\cdot B_i$\n- 传播: $P_i = A_i \\oplus B_i$\n\n然后，这些信号被用来计算每个比特位的进位输出。比特位 $i$ 的进位输出表示为 $C_{i+1}$。对于一个初始进位输入为 $C_0$ 的4位加法器，最终的进位输出信号 $C_4$ 由以下布尔表达式确定：\n$$C_4 = G_3 + P_3 G_2 + P_3 P_2 G_1 + P_3 P_2 P_1 G_0 + P_3 P_2 P_1 P_0 C_0$$\n其中 $+$ 代表逻辑或（OR）运算。\n\n考虑操作数 $A = 1011_2$ 和 $B = 0110_2$ 的加法。假设加法器的初始进位输入为 $C_0 = 0$，确定最高有效位的传播信号（$P_3$）、最高有效位的生成信号（$G_3$）以及加法器的最终进位输出（$C_4$）的布尔值。", "solution": "给定 $A=1011_{2}$ 和 $B=0110_{2}$，因此从最高有效位到最低有效位的比特分配如下：\n$$A_{3}=1,\\ A_{2}=0,\\ A_{1}=1,\\ A_{0}=1;\\quad B_{3}=0,\\ B_{2}=1,\\ B_{1}=1,\\ B_{0}=0.$$\n\n根据定义，对于每个比特位 $i$，\n$$P_{i}=A_{i}\\oplus B_{i},\\qquad G_{i}=A_{i}B_{i}.$$\n\n计算最高有效位的传播和生成信号：\n$$P_{3}=A_{3}\\oplus B_{3}=1\\oplus 0=1,$$\n$$G_{3}=A_{3}B_{3}=1\\cdot 0=0.$$\n\n为了计算 $C_{4}$，我们使用\n$$C_{4}=G_{3}+P_{3}G_{2}+P_{3}P_{2}G_{1}+P_{3}P_{2}P_{1}G_{0}+P_{3}P_{2}P_{1}P_{0}C_{0},$$\n其中 $C_{0}=0$。因此，我们需要计算 $P_{2},G_{2},P_{1},G_{1},P_{0},G_{0}$：\n$$P_{2}=A_{2}\\oplus B_{2}=0\\oplus 1=1,\\quad G_{2}=A_{2}B_{2}=0\\cdot 1=0,$$\n$$P_{1}=A_{1}\\oplus B_{1}=1\\oplus 1=0,\\quad G_{1}=A_{1}B_{1}=1\\cdot 1=1,$$\n$$P_{0}=A_{0}\\oplus B_{0}=1\\oplus 0=1,\\quad G_{0}=A_{0}B_{0}=1\\cdot 0=0.$$\n\n代入进位表达式中：\n$$C_{4}=0+1\\cdot 0+1\\cdot 1\\cdot 1+1\\cdot 1\\cdot 0\\cdot 0+1\\cdot 1\\cdot 0\\cdot 1\\cdot 0=0+0+1+0+0=1.$$\n\n因此，$P_{3}=1$，$G_{3}=0$，且 $C_{4}=1$。", "answer": "$$\\boxed{\\begin{pmatrix}1  0  1\\end{pmatrix}}$$", "id": "1918213"}, {"introduction": "除了逻辑理论，工程师还必须考虑设计的物理实现成本。这个实践问题将我们的重点转移到硬件复杂性上，要求你确定构建超前进位逻辑单元所需的逻辑门数量，这突显了在速度和电路面积之间的权衡。[@problem_id:1918181]", "problem": "在4位超前进位加法器 (CLA) 的设计中，一个核心组件是超前进位逻辑单元。该单元负责基于初始进位输入 ($C_0$) 以及来自每个比特位 ($i=0, 1, 2, 3$) 的传播 ($P_i$) 和生成 ($G_i$) 信号，快速计算出进位位 ($C_1, C_2, C_3, C_4$)。\n\n对于一个4位CLA，其进位输出的完全展开的两级逻辑表达式如下：\n$$C_1 = G_0 + P_0 C_0$$\n$$C_2 = G_1 + P_1 G_0 + P_1 P_0 C_0$$\n$$C_3 = G_2 + P_2 G_1 + P_2 P_1 G_0 + P_2 P_1 P_0 C_0$$\n$$C_4 = G_3 + P_3 G_2 + P_3 P_2 G_1 + P_3 P_2 P_1 G_0 + P_3 P_2 P_1 P_0 C_0$$\n\n你的任务是确定仅实现此超前进位逻辑单元所需的全部基本逻辑门数量。你必须遵守以下约束条件：\n1.  唯一可用的门是双输入与门和双输入或门。\n2.  每个进位输出 ($C_1, C_2, C_3, C_4$) 都必须根据上述表达式独立实现。不同进位输出的电路之间不共享任何逻辑门或中间乘积项。例如，为 $C_2$ 计算的项 $P_1 G_0$ 不能在 $C_3$ 的计算中重用。\n3.  你的计数不应包括生成初始 $P_i$ 和 $G_i$ 信号所需的逻辑。你可以假设 $P_0, P_1, P_2, P_3$, $G_0, G_1, G_2, G_3$ 和 $C_0$ 都是可用的输入。\n\n计算所需的双输入与门和双输入或门的总数。", "solution": "我们必须仅使用双输入与门和双输入或门，来实现给定的关于 $C_{1}, C_{2}, C_{3}, C_{4}$ 的完全展开的积之和表达式，并且在不同进位输出之间不共享任何中间结果。在一个两级SOP（积之和）实现中：\n- 一个对 $r$ 个输入进行与运算的乘积项需要使用 $r-1$ 个双输入与门。单个文字（例如 $G_{i}$）需要 0 个与门。\n- 对 $n$ 个乘积项进行或运算需要使用 $n-1$ 个双输入或门。\n\n将此规则应用于每个进位方程。\n\n对于 $C_{1} = G_{0} + P_{0}C_{0}$，各项的长度分别为 $1$ 和 $2$。\n- 与门数量: $(1-1) + (2-1) = 0 + 1 = 1$。\n- 或门数量: $2 - 1 = 1$。\n- $C_{1}$ 的总计: $1 + 1 = 2$。\n\n对于 $C_{2} = G_{1} + P_{1}G_{0} + P_{1}P_{0}C_{0}$，各项的长度分别为 $1, 2, 3$。\n- 与门数量: $(1-1) + (2-1) + (3-1) = 0 + 1 + 2 = 3$。\n- 或门数量: $3 - 1 = 2$。\n- $C_{2}$ 的总计: $3 + 2 = 5$。\n\n对于 $C_{3} = G_{2} + P_{2}G_{1} + P_{2}P_{1}G_{0} + P_{2}P_{1}P_{0}C_{0}$，各项的长度分别为 $1, 2, 3, 4$。\n- 与门数量: $(1-1) + (2-1) + (3-1) + (4-1) = 0 + 1 + 2 + 3 = 6$。\n- 或门数量: $4 - 1 = 3$。\n- $C_{3}$ 的总计: $6 + 3 = 9$。\n\n对于 $C_{4} = G_{3} + P_{3}G_{2} + P_{3}P_{2}G_{1} + P_{3}P_{2}P_{1}G_{0} + P_{3}P_{2}P_{1}P_{0}C_{0}$，各项的长度分别为 $1, 2, 3, 4, 5$。\n- 与门数量: $(1-1) + (2-1) + (3-1) + (4-1) + (5-1) = 0 + 1 + 2 + 3 + 4 = 10$。\n- 或门数量: $5 - 1 = 4$。\n- $C_{4}$ 的总计: $10 + 4 = 14$。\n\n对所有四个进位输出求和，得到双输入门的总数：\n$$2 + 5 + 9 + 14 = 30.$$\n\n等价地，对于 $k \\in \\{1,2,3,4\\}$ 的 $C_{k}$，有 $k+1$ 个乘积项，其长度分别为 $1,2,\\dots,k+1$。因此，每个 $C_{k}$ 所需的与门数量为 $\\sum_{r=1}^{k+1} (r-1) = \\sum_{t=0}^{k} t = \\frac{k(k+1)}{2}$，每个 $C_{k}$ 所需的或门数量为 $(k+1)-1 = k$。因此，每个 $C_{k}$ 的总门数为 $\\frac{k(k+3)}{2}$，并且\n$$\\sum_{k=1}^{4} \\frac{k(k+3)}{2} = \\frac{1 \\cdot 4}{2} + \\frac{2 \\cdot 5}{2} + \\frac{3 \\cdot 6}{2} + \\frac{4 \\cdot 7}{2} = 2 + 5 + 9 + 14 = 30.$$", "answer": "$$\\boxed{30}$$", "id": "1918181"}, {"introduction": "任何数字设计师的一项关键技能是诊断和调试故障电路的能力。本练习呈现了一个在超前进位加法器中带有常见设计错误的场景，并要求你找出能揭示该错误的特定输入，从而加深你对每个信号如何促成正确操作的理解。[@problem_id:1918186]", "problem": "在设计一个数字算术电路时，一位工程师正在创建一个2位加法器，它接收两个2位二进制数 $A=A_1A_0$ 和 $B=B_1B_0$，以及一个单位的进位输入 $C_0$，以产生一个2位的和以及一个最终的进位输出 $C_2$。该设计旨在利用超前进位加法器（CLA）的原理。\n\n对于每个比特位置 $i$，标准的传播（$P_i$）和生成（$G_i$）信号定义如下：\n$P_i = A_i \\oplus B_i$\n$G_i = A_i B_i$\n\n每个阶段的进位输出 $C_{i+1}$ 可以通过递归公式 $C_{i+1} = G_i + P_i C_i$ 正确表示。\n\n工程师正确地实现了第一阶段的进位输出为 $C_1 = G_0 + P_0 C_0$。然而，在实现第二阶段进位输出 $C_2$ 的逻辑时，工程师犯了一个错误，使用了信号 $P_0$ 而不是 $P_1$。由此产生的 $C_2$ 的错误逻辑是：\n$C_{2, \\text{faulty}} = G_1 + P_0 C_1$\n\n下列哪个输入组合（以元组 $(A, B, C_0)$ 的形式指定，其中 $A$ 和 $B$ 是二进制数）会导致工程师的错误电路计算出的 $C_2$ 值与正确值不同？\n\nA. $(A=01_2, B=10_2, C_0=0)$\nB. $(A=10_2, B=10_2, C_0=1)$\nC. $(A=01_2, B=11_2, C_0=0)$\nD. $(A=11_2, B=11_2, C_0=0)$\nE. $(A=01_2, B=01_2, C_0=1)$", "solution": "我们使用标准的超前进位关系和布尔代数，其中 $+$ 表示“或”运算，并置表示“与”运算。对于比特 $i$，传播信号和生成信号分别为 $P_{i}=A_{i}\\oplus B_{i}$ 和 $G_{i}=A_{i}B_{i}$，进位满足\n$$\nC_{i+1}=G_{i}+P_{i}C_{i}.\n$$\n因此，正确的第二阶段进位是\n$$\nC_{2}=G_{1}+P_{1}C_{1},\\quad \\text{其中 } C_{1}=G_{0}+P_{0}C_{0}.\n$$\n错误的实现对第二阶段使用了 $P_{0}$ 而不是 $P_{1}$：\n$$\nC_{2,\\text{faulty}}=G_{1}+P_{0}C_{1}.\n$$\n两者仅在 $G_{1}$ 项不强制输出为高电平（1）且 $P$ 加权的 $C_{1}$ 项不同时才会产生差异。具体来说，$C_{2}\\neq C_{2,\\text{faulty}}$ 当且仅当\n$$\nG_{1}=0,\\quad C_{1}=1,\\quad P_{1}\\neq P_{0}.\n$$\n\n我们通过计算 $P_{i}$、$G_{i}$ 和 $C_{1}$ 来评估每个选项。\n\nA. $A=01_{2}$, $B=10_{2}$, $C_{0}=0$。比特位：$A_{1}=0,A_{0}=1$；$B_{1}=1,B_{0}=0$。\n$$\nP_{1}=0\\oplus 1=1,\\quad G_{1}=0\\cdot 1=0,\\quad P_{0}=1\\oplus 0=1,\\quad G_{0}=1\\cdot 0=0,\n$$\n$$\nC_{1}=G_{0}+P_{0}C_{0}=0+1\\cdot 0=0.\n$$\n此处 $C_{1}=0$，所以 $C_{2}=P_{1}C_{1}=0$ 且 $C_{2,\\text{faulty}}=P_{0}C_{1}=0$，因此没有差异。\n\nB. $A=10_{2}$, $B=10_{2}$, $C_{0}=1$。比特位：$A_{1}=1,A_{0}=0$；$B_{1}=1,B_{0}=0$。\n$$\nP_{1}=1\\oplus 1=0,\\quad G_{1}=1\\cdot 1=1,\\quad P_{0}=0\\oplus 0=0,\\quad G_{0}=0\\cdot 0=0,\n$$\n$$\nC_{1}=0+0\\cdot 1=0.\n$$\n由于 $G_{1}=1$，所以 $C_{2}$ 和 $C_{2,\\text{faulty}}$ 均为 $1$，因此没有差异。\n\nC. $A=01_{2}$, $B=11_{2}$, $C_{0}=0$。比特位：$A_{1}=0,A_{0}=1$；$B_{1}=1,B_{0}=1$。\n$$\nP_{1}=0\\oplus 1=1,\\quad G_{1}=0\\cdot 1=0,\\quad P_{0}=1\\oplus 1=0,\\quad G_{0}=1\\cdot 1=1,\n$$\n$$\nC_{1}=1+0\\cdot 0=1.\n$$\n此处 $G_{1}=0$，$C_{1}=1$，且 $P_{1}\\neq P_{0}$，所以\n$$\nC_{2}=G_{1}+P_{1}C_{1}=0+1\\cdot 1=1,\\quad C_{2,\\text{faulty}}=0+0\\cdot 1=0,\n$$\n两者不同。\n\nD. $A=11_{2}$, $B=11_{2}$, $C_{0}=0$。比特位：$A_{1}=1,A_{0}=1$；$B_{1}=1,B_{0}=1$。\n$$\nP_{1}=1\\oplus 1=0,\\quad G_{1}=1\\cdot 1=1,\\quad P_{0}=1\\oplus 1=0,\\quad G_{0}=1\\cdot 1=1,\n$$\n$$\nC_{1}=1+0\\cdot 0=1.\n$$\n由于 $G_{1}=1$，两个输出均为 $1$，因此没有差异。\n\nE. $A=01_{2}$, $B=01_{2}$, $C_{0}=1$。比特位：$A_{1}=0,A_{0}=1$；$B_{1}=0,B_{0}=1$。\n$$\nP_{1}=0\\oplus 0=0,\\quad G_{1}=0\\cdot 0=0,\\quad P_{0}=1\\oplus 1=0,\\quad G_{0}=1\\cdot 1=1,\n$$\n$$\nC_{1}=1+0\\cdot 1=1.\n$$\n此处 $G_{1}=0$ 且 $C_{1}=1$，但 $P_{1}=P_{0}=0$，所以 $C_{2}=0$ 且 $C_{2,\\text{faulty}}=0$，因此没有差异。\n\n因此，只有选项 C 会导致差异。", "answer": "$$\\boxed{C}$$", "id": "1918186"}]}