{"hands_on_practices": [{"introduction": "理论知识是基础，但真正的理解来自于实践。让我们从一个基本练习开始，计算一个理想化纹波计数器的总传播延迟。这个练习将帮助你掌握延迟是如何在多级触发器中逐级累积的，并理解为什么这个累积效应是限制计数器速度的根本原因。", "problem": "一个数字控制系统依赖一个12位异步二进制计数器（通常称为纹波计数器）进行事件排序。该计数器由级联的T型触发器构成，其中一个触发器的输出作为下一个触发器的时钟输入。制造商规定，每个独立的触发器具有15纳秒（ns）的时钟到输出传播延迟。为确保系统操作的完整性，关键是要确定在时钟脉冲施加到其第一级后，计数器达到稳定值所需的最长时间。这个持续时间被称为总的最坏情况传播延迟。\n\n计算这个12位纹波计数器的总的最坏情况传播延迟。请以纳秒（ns）为单位表示您的答案。", "solution": "纹波（异步）计数器由级联的T型触发器构成，因此每个级的输出都作为下一级的时钟输入。如果每个触发器都有一个时钟到输出的传播延迟 $t_{pd}$，那么第一级的变化必须依次通过每个后续级进行传播。最坏情况的建立时间发生在变化传播过所有 $N$ 级时（例如，一个导致每个触发器都翻转的转换）。\n\n因此，总的最坏情况传播延迟是各级延迟的总和：\n$$\nT_{\\text{wc}} = N \\, t_{pd}.\n$$\n对于一个 $12$ 位的纹波计数器，$N = 12$，并且每个触发器的 $t_{pd} = 15 \\text{ ns}$，\n$$\nT_{\\text{wc}} = 12 \\times 15 \\text{ ns} = 180 \\text{ ns}.\n$$\n因此，在时钟脉冲施加到第一级后，计数器达到稳定所需的最长时间是 $180 \\text{ ns}$。", "answer": "$$\\boxed{180}$$", "id": "1955756"}, {"introduction": "在现实世界的工程设计中，我们很少能用到完全相同的组件。这个练习模拟了一个更贴近实际的场景：使用具有不同传播延迟的触发器构建计数器。通过这个计算，你将巩固对延迟累积原理的理解，并看到即使在组件不一致的情况下，其核心计算方法依然适用。", "problem": "一名电子专业的学生正在为一个课程项目构建一个4位异步二进制计数器，也称为纹波计数器。该计数器由四个独立的T型触发器（FF）构成。由于零件来自一个剩余零件箱，这些触发器并不完全相同，每个触发器从其时钟输入到其输出都有不同的传播延迟。\n\n该计数器采用标准的纹波配置接线：外部时钟信号仅施加到第一个触发器（FF0，代表最低有效位）。FF0的输出用作FF1的时钟信号。FF1的输出用作FF2的时钟信号，FF2的输出用作FF3（代表最高有效位）的时钟信号。\n\n这四个触发器的传播延迟如下：\n- FF0: $t_{pd,0} = 12$ ns\n- FF1: $t_{pd,1} = 9$ ns\n- FF2: $t_{pd,2} = 15$ ns\n- FF3: $t_{pd,3} = 11$ ns\n\n确定该计数器的最坏情况总传播延迟。这是在引发最长可能转换链的单个外部时钟沿之后，计数器的所有输出稳定到其正确的最终状态所需的最长时间。\n\n请以纳秒（ns）为单位表示您的最终答案。", "solution": "在由T型触发器构建的异步（纹波）计数器中，外部时钟上的单个有效沿首先导致FF0在其时钟到输出的传播延迟后发生翻转。FF0产生的输出转换作为FF1的时钟沿，FF1随后在其自身的传播延迟后翻转，这个过程会逐级传递到后续的级联中。\n\n最长的稳定时间发生在导致所有四级都翻转的计数转换上（例如，类似于二进制进位传播的转换），因此最坏情况的总传播延迟是链上各个时钟到输出延迟的总和。如果外部时钟沿发生在零时刻，那么：\n- FF0的输出在时间 $t_{pd,0}$ 稳定，\n- FF1的输出在时间 $t_{pd,0}+t_{pd,1}$ 稳定，\n- FF2的输出在时间 $t_{pd,0}+t_{pd,1}+t_{pd,2}$ 稳定，\n- FF3的输出（在最坏情况下最后一个稳定）在时间 $t_{\\text{worst}}=\\sum_{k=0}^{3} t_{pd,k}$ 稳定。\n\n代入给定值，\n$$t_{\\text{worst}}=t_{pd,0}+t_{pd,1}+t_{pd,2}+t_{pd,3} = 12+9+15+11 = 47.$$\n\n因此，最坏情况的总传播延迟为 $47$ ns。", "answer": "$$\\boxed{47}$$", "id": "1955762"}, {"introduction": "掌握了如何计算总延迟后，一个自然而然的问题是：我们能否通过优化组件布局来提高计数器的性能？这个练习是一个设计思维的挑战，它要求你分析将最快或最慢的触发器放在不同位置对计数器最高工作频率的影响。这不仅是对计算能力的考验，更是对传播延迟根本原理的深度理解的检验[@problem_id:1955762]。", "problem": "一位数字系统设计的学徒接到任务，需要构建一个4位异步二进制加法计数器，通常称为纹波计数器。他们有四个独立的T型触发器可用于该项目。经测试发现，这些触发器具有不同的时钟到输出传播延迟（$t_{pd}$）。测得的延迟分别为8纳秒（ns）、10 ns、12 ns和15 ns。为简化问题，您可以假设所有触发器的建立时间和保持时间都可以忽略不计。\n\n该计数器将采用标准的纹波配置构建：主系统时钟信号仅连接到第一个触发器的时钟输入端，该触发器代表最低有效位（LSB）。每个后续触发器的输出则用作链中下一个触发器的时钟输入，链中最后一个触发器代表最高有效位（MSB）。\n\n这位学徒正在考虑两种不同的触发器排列方式：\n- **配置X：** 触发器按传播延迟递增的顺序排列，8 ns的触发器位于LSB级，15 ns的触发器位于MSB级。\n- **配置Y：** 触发器按传播延迟递减的顺序排列，15 ns的触发器位于LSB级，8 ns的触发器位于MSB级。\n\n为确保计数器在所有条件下都能正确工作，输入时钟的周期必须足够长，以允许状态变化在整个计数器中传播。确定该4位计数器能够可靠工作的输入时钟的最大可能频率。答案以兆赫兹（MHz）为单位表示，并四舍五入到三位有效数字。", "solution": "设纹波链中的四个T型触发器，按从LSB到MSB的级联顺序，其时钟到输出的传播延迟分别标记为 $t_{1}, t_{2}, t_{3}, t_{4}$。在一个所有级的T输入均为1且建立/保持时间可忽略的纹波（异步）加法计数器中，最坏情况的状态变化发生在所有级都必须翻转时，这种情况出现在当前计数值的所有低位均为1时。\n\n在系统时钟的有效边沿：\n- LSB的输出在延迟 $t_{1}$后翻转。\n- 该转换作为第二级的时钟边沿，其输出在额外的延迟 $t_{2}$后翻转，即相对于系统时钟边沿的 $t_{1}+t_{2}$ 时刻。\n- 同样，第三级在 $t_{1}+t_{2}+t_{3}$ 时刻翻转。\n- MSB（第四级）在 $t_{1}+t_{2}+t_{3}+t_{4}$ 时刻翻转。\n\n为保证在所有输入状态下都能正确工作，系统时钟周期 $T_{\\text{clk}}$ 必须满足\n$$\nT_{\\text{clk}} \\geq t_{1}+t_{2}+t_{3}+t_{4}.\n$$\n因为这个约束只取决于各级延迟的总和，所以四个给定延迟的任何排列都会得出相同的界限。因此，无论是配置X（延迟递增）还是配置Y（延迟递减），它们所需的最小系统时钟周期是相同的\n$$\nT_{\\min} = 8\\ \\text{ns} + 10\\ \\text{ns} + 12\\ \\text{ns} + 15\\ \\text{ns} = 45\\ \\text{ns}.\n$$\n最大可靠输入时钟频率为\n$$\nf_{\\max} = \\frac{1}{T_{\\min}} = \\frac{1}{45 \\times 10^{-9}}\\ \\text{Hz} = \\frac{10^{3}}{45}\\ \\text{MHz} \\approx 22.2\\ \\text{MHz},\n$$\n四舍五入到三位有效数字。", "answer": "$$\\boxed{22.2}$$", "id": "1955743"}]}