{"hands_on_practices": [{"introduction": "理论知识只有通过实践才能得以巩固。本节将通过一系列动手练习，带你深入探索通用阵列逻辑（GAL）的设计与应用。让我们从最核心的概念开始：将编程连接转换为逻辑表达式。这个练习将帮助你直观地理解一个GAL设备是如何通过其可编程的“与”阵列和固定的“或”阵列，从输入信号生成一个特定的布尔函数的。[@problem_id:1939685]", "problem": "一个简单的可编程逻辑器件配置有四个输入，分别指定为 $A, B, C$ 和 $D$。其内部结构包含一个输入级，该输入级为每个输入信号提供原变量和反变量两种形式。这些信号被送入一个可编程与阵列，该阵列由若干“乘积项线”组成。这些乘积项线与输入信号的连接编程如下：\n\n*   乘积项线 $P_1$ 连接到输入 $B$ 的原变量和输入 $C$ 的反变量。\n*   乘积项线 $P_2$ 连接到输入 $A$ 的反变量以及输入 $C$ 和 $D$ 的原变量。\n*   乘积项线 $P_3$ 连接到输入 $A$ 和 $B$ 的原变量。\n*   乘积项线 $P_4$ 连接到输入 $B$ 和 $D$ 的原变量以及输入 $A$ 的反变量。\n\n这些乘积项线的输出随后连接到一个固定的或门，以产生最终的输出函数 $F$。用于函数 $F$ 的或门连接到乘积项线 $P_1$、$P_2$ 和 $P_4$ 的输出。\n\n请确定输出函数 $F$ 关于输入 $A, B, C$ 和 $D$ 的布尔表达式。", "solution": "输入级为 $A, B, C$ 和 $D$ 提供原变量和反变量信号。每个乘积项线实现所选文字的逻辑与，固定的或门将选定的乘积项相加以形成 $F$。\n\n根据给定的编程：\n- 乘积项 $P_{1}$ 连接到原变量 $B$ 和反变量 $C$，因此其与门输出为\n$$P_{1} = B\\overline{C}.$$\n- 乘积项 $P_{2}$ 连接到反变量 $A$ 以及原变量 $C$ 和 $D$，所以\n$$P_{2} = \\overline{A}CD.$$\n- 乘积项 $P_{3}$ 连接到原变量 $A$ 和 $B$，所以\n$$P_{3} = AB.$$\n- 乘积项 $P_{4}$ 连接到原变量 $B$ 和 $D$ 以及反变量 $A$，所以\n$$P_{4} = \\overline{A}BD.$$\n\n$F$ 的或门连接到 $P_{1}, P_{2}$ 和 $P_{4}$，因此\n$$F = P_{1} + P_{2} + P_{4} = B\\overline{C} + \\overline{A}CD + \\overline{A}BD.$$\n\n可选地，对最后两项使用分配律，\n$$\\overline{A}CD + \\overline{A}BD = \\overline{A}D(C + B),$$\n所以一个等价的因式分解形式是\n$$F = B\\overline{C} + \\overline{A}D(B + C).$$\n\n两种形式都是根据编程连接推导出的 $F$ 的正确布尔表达式。", "answer": "$$\\boxed{B\\overline{C}+\\overline{A}CD+\\overline{A}BD}$$", "id": "1939685"}, {"introduction": "掌握了基础知识后，让我们来挑战一个更贴近实际的设计问题：在一个GAL器件上实现一个算术逻辑单元（ALU）。这个练习的精髓在于处理GAL架构的一个关键限制——输出宏单元之间缺少直接的内部反馈。你将被迫为进位逻辑设计一个“先行”方案，将所有输出都表示为基本输入的函数，这对于在两级逻辑结构上实现多位运算至关重要。[@problem_id:1939736]", "problem": "您的任务是使用单个通用阵列逻辑 (GAL) 器件设计一个紧凑的2位算术逻辑单元 (ALU)。该ALU对两个2位无符号二进制数 $A = A_1A_0$ 和 $B = B_1B_0$进行操作，并由一个1位模式选择输入 $S$ 控制。该单元产生一个2位结果 $Z = Z_1Z_0$ 和一个1位最终进位输出 $C_{out}$。\n\n该ALU的功能定义如下：\n- 如果 $S=0$，该单元执行2位加法：$\\{C_{out}, Z_1Z_0\\} = A + B$。假设2位加法器的初始进位输入为0。\n- 如果 $S=1$，该单元对操作数A执行逻辑左移：$Z_1 = A_0$ 且 $Z_0 = 0$。对于此操作，输入 $B$ 是一个“无关项”，且进位输出 $C_{out}$ 必须为0。\n\n目标GAL器件具有一个可编程与阵列，后跟一个固定或阵列。每个输出（$Z_1, Z_0, C_{out}$）都由其专用的组合输出逻辑宏单元（OLMC）产生，该宏单元实际上是一个由与阵列的乘积项馈入的单个大或门。该架构的一个关键限制是逻辑阵列内的OLMC之间没有直接的反馈路径。因此，任何中间信号，例如加法期间从位0到位1的进位，都不能在一个OLMC中生成并被另一个OLMC使用。每个输出引脚的所有逻辑必须仅用主输入 $A_1, A_0, B_1, B_0$ 和 $S$ 来表示。\n\n您的任务是为最高有效结果位 $Z_1$ 推导出最小化积之和 (SOP) 逻辑表达式。请使用标准的布尔表示法，其中加法 `+` 表示或运算，并置表示与运算（例如，$XY$ 是 $X$ AND $Y$），上划线表示非运算（例如，$\\overline{X}$ 是 NOT $X$）。", "solution": "我们必须仅用主输入 $A_{1}, A_{0}, B_{1}, B_{0}$ 和 $S$ 来表示 $Z_{1}$，因为GAL架构不允许OLMC间的反馈。ALU的行为是：\n- 当 $S=1$ （左移模式）时，$Z_{1}=A_{0}$ 且 $C_{out}=0$；$B$ 是无关项。\n- 当 $S=0$ （加法模式）时，进位输入为 $0$，位0的进位是 $C_{0}=A_{0}B_{0}$，位1的和是 $Z_{1} = A_{1} \\oplus B_{1} \\oplus C_{0}$。\n\n对 $S$ 使用 Shannon 分解，我们写出\n$$\nZ_{1} = S \\cdot A_{0} + \\overline{S} \\cdot \\left(A_{1} \\oplus B_{1} \\oplus (A_{0}B_{0})\\right).\n$$\n\n接下来，我们将三变量异或转换为积之和形式。对于 $X \\oplus Y \\oplus Z$，其范式SOP为\n$$\nX \\oplus Y \\oplus Z = \\overline{X}\\,\\overline{Y}\\,Z + \\overline{X}\\,Y\\,\\overline{Z} + X\\,\\overline{Y}\\,\\overline{Z} + X\\,Y\\,Z.\n$$\n设 $X=A_{1}$，$Y=B_{1}$，以及 $Z=A_{0}B_{0}$，得到\n$$\nA_{1} \\oplus B_{1} \\oplus (A_{0}B_{0}) = \\overline{A_{1}}\\,\\overline{B_{1}}\\,(A_{0}B_{0}) + \\overline{A_{1}}\\,B_{1}\\,\\overline{(A_{0}B_{0})} + A_{1}\\,\\overline{B_{1}}\\,\\overline{(A_{0}B_{0})} + A_{1}\\,B_{1}\\,(A_{0}B_{0}).\n$$\n\n对补积应用德摩根定律：\n$$\n\\overline{(A_{0}B_{0})} = \\overline{A_{0}} + \\overline{B_{0}}.\n$$\n展开以获得以文字表示的SOP：\n$$\n\\begin{aligned}\nA_{1} \\oplus B_{1} \\oplus (A_{0}B_{0})\n= \\overline{A_{1}}\\,\\overline{B_{1}}\\,A_{0}B_{0}\n+ \\overline{A_{1}}\\,B_{1}\\,(\\overline{A_{0}} + \\overline{B_{0}})\n+ A_{1}\\,\\overline{B_{1}}\\,(\\overline{A_{0}} + \\overline{B_{0}})\n+ A_{1}\\,B_{1}\\,A_{0}B_{0} \\\\\n= \\overline{A_{1}}\\,\\overline{B_{1}}\\,A_{0}B_{0}\n+ \\overline{A_{1}}\\,B_{1}\\,\\overline{A_{0}}\n+ \\overline{A_{1}}\\,B_{1}\\,\\overline{B_{0}}\n+ A_{1}\\,\\overline{B_{1}}\\,\\overline{A_{0}}\n+ A_{1}\\,\\overline{B_{1}}\\,\\overline{B_{0}}\n+ A_{1}\\,B_{1}\\,A_{0}B_{0}.\n\\end{aligned}\n$$\n\n将其代回并分配 $\\overline{S}$，以获得一个两级SOP（乘积项之和），全部用文字表示：\n$$\n\\begin{aligned}\nZ_{1}\n= S A_{0}\n+ \\overline{S}\\,\\overline{A_{1}}\\,\\overline{B_{1}}\\,A_{0}B_{0}\n+ \\overline{S}\\,\\overline{A_{1}}\\,B_{1}\\,\\overline{A_{0}}\n+ \\overline{S}\\,\\overline{A_{1}}\\,B_{1}\\,\\overline{B_{0}}\n+ \\overline{S}\\,A_{1}\\,\\overline{B_{1}}\\,\\overline{A_{0}}\n+ \\overline{S}\\,A_{1}\\,\\overline{B_{1}}\\,\\overline{B_{0}}\n+ \\overline{S}\\,A_{1}\\,B_{1}\\,A_{0}B_{0}.\n\\end{aligned}\n$$\n\n最小化证明：\n- 对于 $S=1$，项 $S A_{0}$ 是必要且充分的，并且它与 $B$ 无关，符合所述的无关项条件。\n- 对于 $S=0$，当 $A_{0}B_{0}=0$ 时，$Z_{1}=A_{1}\\oplus B_{1}$，这需要四个3文字蕴含项：$A_{1}\\overline{B_{1}}\\overline{A_{0}}$、$A_{1}\\overline{B_{1}}\\overline{B_{0}}$、$\\overline{A_{1}}B_{1}\\overline{A_{0}}$ 和 $\\overline{A_{1}}B_{1}\\overline{B_{0}}$；若不错误地包含 $(A_{0},B_{0})=(1,1)$ 的情况，则这些项都不能合并。\n- 当 $A_{0}B_{0}=1$ 时，$Z_{1}=\\overline{A_{1}\\oplus B_{1}}$，这强制需要两个4文字蕴含项 $A_{1}B_{1}A_{0}B_{0}$ 和 $\\overline{A_{1}}\\overline{B_{1}}A_{0}B_{0}$；这些项不能扩展，因为它们会包含关断集的最小项。\n\n因此，上述SOP是最小的，并且遵守了在为 $Z_{1}$ 实现的单个两级结构中仅使用主输入的GAL约束。", "answer": "$$\\boxed{SA_{0}+\\overline{S}A_{1}\\overline{B_{1}}\\overline{A_{0}}+\\overline{S}A_{1}\\overline{B_{1}}\\overline{B_{0}}+\\overline{S}\\overline{A_{1}}B_{1}\\overline{A_{0}}+\\overline{S}\\overline{A_{1}}B_{1}\\overline{B_{0}}+\\overline{S}A_{1}B_{1}A_{0}B_{0}+\\overline{S}\\overline{A_{1}}\\overline{B_{1}}A_{0}B_{0}}$$", "id": "1939736"}, {"introduction": "GAL的强大之处不仅仅在于组合逻辑，其寄存器模式下的输出逻辑宏单元（OLMC）使其能够实现同步时序电路，如状态机。在本练习中，我们将进行一次“数字考古”，从最底层的JEDEC熔丝图文件出发，逆向工程出一个用GAL实现的未知状态机。通过解读熔丝设置、重建乘积项和状态转移方程，你将揭示该电路的高层功能，从而全面地理解从物理编程到逻辑行为的整个过程。[@problem_id:1939702]", "problem": "一位数字系统工程师的任务是逆向工程一个使用通用阵列逻辑 (GAL) 16V8 器件的遗留系统。已知该器件实现了一个同步状态机。状态存储在两个配置为寄存器模式的输出逻辑宏单元 (OLMC) 中，位于引脚 18 和 19。设引脚 18 的寄存器输出为状态变量 $Q_1$，引脚 19 的输出为状态变量 $Q_0$。该状态机由连接到引脚 1 的系统时钟驱动。所有其他输入引脚均未使用，并被视为逻辑低电平。\n\nGAL 的编程由联合电子设备工程委员会 (JEDEC) 的熔丝图文件定义。在此文件中，以 `L` 开头后跟一个地址的行表示单个乘积项的 32 个熔丝的状态。`0` 代表未熔断的熔丝（存在连接），`1` 代表已熔断的熔丝（无连接）。逻辑功能以积之和的形式实现。\n\nGAL16V8 的与阵列有 32 个输入，其连接由熔丝图决定。对于此状态机，仅使用了来自寄存器输出的反馈路径。与阵列的输入连接映射如下：\n-   与阵列的第 28 和 29 列：来自引脚 18 上 OLMC 的原变量 ($Q_1$) 和反变量 ($\\overline{Q_1}$) 反馈。\n-   与阵列的第 30 和 31 列：来自引脚 19 上 OLMC 的原变量 ($Q_0$) 和反变量 ($\\overline{Q_0}$) 反馈。\n\nD 触发器的次态逻辑 $D_1$ 和 $D_0$ 由几个乘积项的逻辑或决定：\n-   $D_1$（用于状态变量 $Q_1$）是乘积项 48 到 54 的逻辑和。\n-   $D_0$（用于状态变量 $Q_0$）是乘积项 56 到 62 的逻辑和。\n\n工程师从 JEDEC 文件中恢复了以下几行。连接到这些 OLMC 的所有其他乘积项的所有熔丝都已熔断（即，它们在熔丝图中的行全为 `1`）。\n\n`L1536 11111111111111111111111111111001`\n`L1568 11111111111111111111111111110110`\n`L1792 11111111111111111111111111111011`\n\n*注意*：地址 `Lxxxx` 表示一个乘积项的起始熔丝编号。乘积项 `k` 从熔丝地址 `k * 32` 开始。\n\n根据这些信息，以下哪个选项正确地指出了简化的次态逻辑方程和状态机执行的功能，其中状态由元组 $(Q_1, Q_0)$ 表示？\n\nA. 方程：$D_1 = Q_1$, $D_0 = \\overline{Q_0}$；功能：一个二分频计数器，其状态 $(Q_1, Q_0)$ 在 (0,1) 和 (0,0) 之间切换。\nB. 方程：$D_1 = Q_0$, $D_0 = Q_1$；功能：一个在每个时钟周期交换状态位的状态机。\nC. 方程：$D_1 = Q_1 \\oplus Q_0$, $D_0 = \\overline{Q_1}$；功能：一个模3计数器，循环经过状态 00、01 和 11。\nD. 方程：$D_1 = Q_1 \\oplus Q_0$, $D_0 = \\overline{Q_1}$；功能：一个2位格雷码计数器，序列为 00 -> 01 -> 11 -> 10 -> 00。\nE. 方程：$D_1 = \\overline{Q_1}Q_0$, $D_0 = Q_1\\overline{Q_0}$；功能：一个从任何其他状态转移到状态 (1,0) 的状态机。", "solution": "GAL16V8 的与阵列有 32 列；对于本设计，只有第 28 到 31 列是相关的，映射如下：\n- 第 28 列：$Q_{1}$ (原变量)\n- 第 29 列：$\\overline{Q_{1}}$ (反变量)\n- 第 30 列：$Q_{0}$ (原变量)\n- 第 31 列：$\\overline{Q_{0}}$ (反变量)\n\n在每个乘积项的 JEDEC 熔丝图中，熔丝值 $0$ 表示存在连接（包含字面量），$1$ 表示无连接。每行 `L` 上的字符串按列升序列出了一个乘积项的 32 个熔丝，因此最后四位按顺序对应于第 $28$–$31$ 列。\n\n用于 $D_{1}$ 的乘积项是第 $48$ 到 $54$ 项，用于 $D_{0}$ 的是第 $56$ 到 $62$ 项。提供的行对应于以下乘积项：\n- `L1536` $\\Rightarrow$ 乘积项 $48$，因为 $48 \\times 32 = 1536$。\n- `L1568` $\\Rightarrow$ 乘积项 $49$，因为 $49 \\times 32 = 1568$。\n- `L1792` $\\Rightarrow$ 乘积项 $56$，因为 $56 \\times 32 = 1792$。\n这些或门的所有其他乘积项的所有熔丝都已熔断（没有连接字面量），因此没有任何贡献。\n\n通过最后四位解码每个提供的乘积项：\n1.  `L1536 ... 11111001`：此乘积项的熔丝图最后四位（对应列28-31）是 `1001`。由于 `0` 代表连接，这意味着第29列（$\\overline{Q_1}$）和第30列（$Q_0$）是连接的。因此，\n$$\n\\text{PT}_{48} \\;=\\; \\overline{Q_{1}}\\,Q_{0}.\n$$\n2.  `L1568 ... 11110110`：此乘积项的熔丝图最后四位是 `0110`。这意味着第28列（$Q_1$）和第31列（$\\overline{Q_0}$）是连接的。因此，\n$$\n\\text{PT}_{49} \\;=\\; Q_{1}\\,\\overline{Q_{0}}.\n$$\n3.  `L1792 ... 11111011`：此乘积项的熔丝图最后四位是 `1011`。这意味着只有第29列（$\\overline{Q_1}$）是连接的。因此，\n$$\n\\text{PT}_{56} \\;=\\; \\overline{Q_{1}}.\n$$\n\n因此，使用指定的或门分组：\n- 对于 $D_{1}$（乘积项 $48$ 到 $54$ 的和），只有 $\\text{PT}_{48}$ 和 $\\text{PT}_{49}$ 是活动的：\n$$\nD_{1} \\;=\\; \\text{PT}_{48} \\,+\\, \\text{PT}_{49}\n\\;=\\; \\overline{Q_{1}}\\,Q_{0} \\;+\\; Q_{1}\\,\\overline{Q_{0}}\n\\;=\\; Q_{1} \\oplus Q_{0}.\n$$\n- 对于 $D_{0}$（乘积项 $56$ 到 $62$ 的和），只有 $\\text{PT}_{56}$ 是活动的：\n$$\nD_{0} \\;=\\; \\text{PT}_{56} \\;=\\; \\overline{Q_{1}}.\n$$\n\n确定状态转换函数 $(Q_{1},Q_{0}) \\mapsto (D_{1},D_{0})$：\n- 如果 $(Q_{1},Q_{0})=(0,0)$，则 $(D_{1},D_{0})=(0\\oplus 0,\\overline{0})=(0,1)$。\n- 如果 $(Q_{1},Q_{0})=(0,1)$，则 $(D_{1},D_{0})=(0\\oplus 1,\\overline{0})=(1,1)$。\n- 如果 $(Q_{1},Q_{0})=(1,1)$，则 $(D_{1},D_{0})=(1\\oplus 1,\\overline{1})=(0,0)$。\n- 如果 $(Q_{1},Q_{0})=(1,0)$，则 $(D_{1},D_{0})=(1\\oplus 0,\\overline{1})=(1,0)$。\n\n因此，该状态机循环经过 $00 \\rightarrow 01 \\rightarrow 11 \\rightarrow 00$，而状态 $10$ 是一个自循环。这是一个在状态 $\\{00,01,11\\}$ 上的模$3$计数器。简化的方程和行为与选项 C 匹配。", "answer": "$$\\boxed{C}$$", "id": "1939702"}]}