{"hands_on_practices": [{"introduction": "一个大容量的DRAM芯片，如256 Mibit，并不是一个简单的线性列表，而是在物理上排列成一个二维阵列。这项练习将指导你如何将总容量和特定的组织结构（例如行数和列数的关系）转化为行、列解码器所需的地址线数量 [@problem_id:1931012]。这是一个在存储器硬件设计中的关键步骤，它连接了存储器的逻辑容量和其物理实现。", "problem": "一位工程师正在为低功耗物联网（IoT）传感器节点设计一款定制微控制器。其中一个关键组件是用于数据记录的嵌入式动态随机存取存储器（DRAM）芯片。该DRAM芯片的总存储容量为 256 Mebibits (Mibit)。其内部存储单元阵列排列成矩形，其中行数正好是单比特存储单元列数的四倍。为了提高数据吞吐量，该存储器被设计为以8比特字为单位进行访问。在一个存储器访问周期中，会选中一整行，其内容被加载到一个读出放大器缓冲器中；然后使用一个列地址从该缓冲器中选择一个8比特字用于输出。\n\n根据此架构，确定行解码器所需的地址线数量和列解码器所需的地址线数量。请以一对整数的形式给出您的答案，行地址线数量在前，列地址线数量在后。", "solution": "设单比特单元的总数为 $N$，行数为 $R$，列数为 $C$。容量为 $256$ Mebibits，所以\n$$\nN=256\\times 2^{20}=2^{8}\\times 2^{20}=2^{28}\\ \\text{bits}.\n$$\n阵列组织满足 $R=4C$，且阵列大小满足 $RC=N$。因此，\n$$\nRC=2^{28},\\quad R=4C\\ \\Rightarrow\\ 4C^{2}=2^{28}\\ \\Rightarrow\\ C^{2}=2^{26}\\ \\Rightarrow\\ C=2^{13}.\n$$\n因此，\n$$\nR=4C=4\\cdot 2^{13}=2^{15}.\n$$\n行解码器必须从 $R$ 行中唯一地选择一行，所以行地址线的数量为\n$$\n\\log_{2}(R)=\\log_{2}\\!\\left(2^{15}\\right)=15.\n$$\n激活一行后，$C$ 个比特被加载到读出放大器缓冲器中。访问以 $8$ 比特字为单位进行，所以每行可选的字的数量为\n$$\nW=\\frac{C}{8}=\\frac{2^{13}}{2^{3}}=2^{10}.\n$$\n因此，列解码器必须从 $W$ 个字中选择一个，需要\n$$\n\\log_{2}(W)=\\log_{2}\\!\\left(2^{10}\\right)=10\n$$\n条列地址线。\n\n因此，所需的地址线数量为 $15$ 条（行）和 $10$ 条（列）。", "answer": "$$\\boxed{\\begin{pmatrix}15  10\\end{pmatrix}}$$", "id": "1931012"}, {"introduction": "理解了DRAM的整体架构后，让我们深入探究单个比特是如何被读取的。读取操作并非简单的数字查询，而是一个精密的模拟过程。本练习将读取操作建模为一个电荷守恒问题，让你通过计算来理解当存储单元与位线连接时发生的电荷共享，以及由此在位线上产生的微小电压变化 [@problem_id:1931032]。这个微小的电压信号正是读出放大器需要检测和放大的对象。", "problem": "在现代动态随机存取存储器（DRAM）阵列中，数据以电荷的形式存储在每个存储单元内的一个小电容器上。“读取”操作涉及感应这些电荷。考虑一个正在被读取的单个DRAM单元的简化模型。\n\n该单元由一个存储电容器组成，其电容为 $C_{cell} = 5.0 \\text{ fF}$ (飞法)。该单元连接到一根称为位线的长导线上，位线本身具有 $C_{bitline} = 25.0 \\text{ fF}$ 的寄生电容。内存控制器的工作电源电压为 $V_{DD} = 1.8 \\text{ V}$。\n\n为了启动一个读取周期，位线首先被预充电到恰好为 $V_{DD}/2$ 的参考电压。随后，字线被置为有效，这实际上闭合了一个开关（访问晶体管），将单元的存储电容器连接到位线。\n\n在这个特定场景中，单元电容器存储的是逻辑“0”，意味着其初始电压为 $V_{cell, initial} = 0 \\text{ V}$。当字线被置为有效时，电荷在单元电容器和位线电容器之间重新分配，直到它们达到一个共同的最终电压 $V_{final}$。\n\n计算这个最终电压 $V_{final}$ 的值。以伏特为单位表示您的答案，并四舍五入到三位有效数字。", "solution": "我们将读取操作建模为两个初始电压不同、随后通过一个理想开关闭合连接的电容器之间的电荷共享。相关的物理原理是封闭系统中的电荷守恒。\n\n设 $C_{bitline}$ 表示位线电容，$C_{cell}$ 表示单元电容。初始时，位线被预充电到 $V_{bitline,0} = \\frac{V_{DD}}{2}$，而单元的电压为 $V_{cell,0} = 0$。连接后，它们共享一个共同的最终电压 $V_{f}$。\n\n根据电荷守恒（以地为参考）：\n$$\nQ_{\\text{initial}} \\;=\\; Q_{\\text{final}}.\n$$\n初始总电荷为：\n$$\nQ_{\\text{initial}} \\;=\\; C_{bitline} V_{bitline,0} + C_{cell} V_{cell,0} \\;=\\; C_{bitline} \\left(\\frac{V_{DD}}{2}\\right) + C_{cell} (0).\n$$\n最终总电荷，此时两个电容器的电压均为 $V_{f}$，是：\n$$\nQ_{\\text{final}} \\;=\\; (C_{bitline} + C_{cell}) V_{f}.\n$$\n令二者相等并求解 $V_{f}$：\n$$\n(C_{bitline} + C_{cell}) V_{f} \\;=\\; C_{bitline} \\left(\\frac{V_{DD}}{2}\\right)\n\\;\\;\\Rightarrow\\;\\;\nV_{f} \\;=\\; \\frac{C_{bitline}}{C_{bitline} + C_{cell}} \\cdot \\frac{V_{DD}}{2}.\n$$\n代入 $C_{bitline} = 25.0 \\times 10^{-15}\\,\\text{F}$，$C_{cell} = 5.0 \\times 10^{-15}\\,\\text{F}$ 和 $V_{DD} = 1.8\\,\\text{V}$：\n$$\n\\frac{C_{bitline}}{C_{bitline} + C_{cell}} \\;=\\; \\frac{25.0}{25.0 + 5.0} \\;=\\; \\frac{25}{30} \\;=\\; \\frac{5}{6},\n$$\n$$\nV_{f} \\;=\\; \\frac{5}{6} \\cdot \\frac{1.8}{2} \\;=\\; \\frac{5}{6} \\cdot 0.9 \\;=\\; 0.75。\n$$\n四舍五入到三位有效数字，最终电压为 $0.750$。", "answer": "$$\\boxed{0.750}$$", "id": "1931032"}, {"introduction": "DRAM阵列的正常工作依赖于严格的操作规则，例如在同一位线上一次只能激活一条字线。本练习通过一个假设的故障场景，探讨了当这些规则被破坏时会发生什么 [@problem_id:1930990]。通过分析两个存储单元同时访问同一位线所导致的后果，你将能更深刻地理解那些用以保证存储系统数据完整性的设计原则。", "problem": "在一个简化的动态随机存取存储器（DRAM）阵列模型中，每个存储单元由一个访问晶体管和一个存储电容器组成（1T1C单元）。阵列的行由字线（WL）寻址，列由位线（BL）寻址。要读取一个单元，其对应的字线被置为高电平（驱动至高电压），这会打开访问晶体管，并将存储电容器连接到其对应的位线。在读取之前，位线被预充电到电压 $V_{pre} = V_{DD}/2$，其中 $V_{DD}$ 是电源电压。然后，一个读出放大器检测位线上的微小电压变化，以确定电容器是存储了逻辑'1'（充电至约 $V_{DD}$）还是逻辑'0'（放电至 0 V）。\n\n考虑一个涉及故障内存控制器的情况。该控制器错误地同时将两条不同的字线 WL_A 和 WL_B 置为高电平。这两条字线分别连接到两个不同的存储单元，单元A和单元B。单元A和单元B都连接到完全相同的位线 BL_C。\n\n在故障发生时，单元A（位于WL_A上）存储的是逻辑'1'，意味着其电容器被充电至 $V_{DD}$。同时，单元B（位于WL_B上）存储的是逻辑'0'，意味着其电容器基本已放电（0 V）。假设每个单元中存储电容器的电容为 $C_S$，位线的总电容为 $C_{BL}$。对于本分析，假设 $C_{BL}$ 远大于 $C_S$。\n\n下列哪个陈述最准确地描述了同时置位WL_A和WL_B的直接后果？\n\nA. 位线的读出放大器将随机读取来自单元A的'1'或来自单元B的'0'，并且两个单元中存储的数据都将被保留。\n\nB. 通过这两个单元在电源（$V_{DD}$）和地之间形成直接短路，导致晶体管立即受到永久性损坏。\n\nC. 两个单元实际上相互竞争，将位线电压驱动到一个既不是有效'1'也不是有效'0'的中间水平，导致读取错误和单元A中数据的丢失。\n\nD. 由于位线电容 $C_{BL}$ 远大于单元电容 $C_S$，位线电压基本保持在 $V_{DD}/2$ 不变，并且无法从任一单元读取数据。\n\nE. 位线电压将被拉低至0V，因为单元B中已放电的电容器充当了一个电荷汇，吸收了来自位线和单元A的所有电荷。", "solution": "将每个节点的电压和电荷相对于地进行建模，并在单元A和单元B的访问晶体管同时导通，将其存储电容器短接到同一位线时，使用电荷守恒定律。\n\n故障发生前：\n- 位线被预充电至 $V_{BL,i}=V_{DD}/2$，其电荷为 $Q_{BL,i}=C_{BL}\\left(V_{DD}/2\\right)$。\n- 单元A存储逻辑'1'，因此其电容器电压为 $V_{A,i}=V_{DD}$，电荷为 $Q_{A,i}=C_{S}V_{DD}$。\n- 单元B存储逻辑'0'，因此其电容器电压为 $V_{B,i}=0$，电荷为 $Q_{B,i}=0$。\n\n当WL_A和WL_B同时被置位时，位线节点和两个存储电容器并联到一个公共节点上。忽略漏电流并假设电荷瞬时重新分配，组合节点上的电荷是守恒的：\n$$\nQ_{\\text{total,i}}=Q_{\\text{total,f}}.\n$$\n因此，\n$$\nC_{BL}\\left(\\frac{V_{DD}}{2}\\right)+C_{S}V_{DD}+0=(C_{BL}+2C_{S})V_{f}.\n$$\n求解最终的公共电压 $V_{f}$ 可得\n$$\nV_{f}=V_{DD}\\frac{\\frac{C_{BL}}{2}+C_{S}}{C_{BL}+2C_{S}}=\\frac{V_{DD}}{2}.\n$$\n因此，在两个单元连接后，位线电压恰好为 $V_{DD}/2$，并且两个存储电容器的电压均被均衡至 $V_{f}=V_{DD}/2$。对于DRAM单元来说，这个电压既不是一个有效的存储'1'，也不是一个有效的存储'0'，因此单元A失去了其存储的'1'（单元B也不再保持'0'）。读出放大器看不到有用的差分信号（与预充电电压没有偏差），导致读取错误；如果随后启用，它可能会由于偏移而任意锁存，然后覆盖两个单元，但直接的后果是电压处于中间水平，并且单元A中的原始内容丢失。\n\n这种行为与描述相符，即两个单元实际上相互抗衡，在位线上建立了一个中间电压水平，破坏了读取操作并摧毁了单元A中存储的'1'。因此，最准确的选项是C。", "answer": "$$\\boxed{C}$$", "id": "1930990"}]}