{"hands_on_practices": [{"introduction": "动态功耗是CMOS电路在活动状态下的主要功耗来源，其大小与电源电压的平方成正比。这个练习旨在通过一个具体的计算，直观地展示降低电源电压对减少动态功耗的显著效果。通过这个实践，你将掌握动态功耗与电源电压之间的核心关系，这是所有低功耗设计技术中最基本也是最有效的策略之一。[@problem_id:1963189]", "problem": "一个设计团队正在为一款使用互补金属氧化物半导体 (CMOS) 技术构建的定制处理器开发低功耗模式。在这种技术中，运行期间功耗的主要来源是动态功耗。该团队的策略是通过降低电源电压 $V_{DD}$ 来减少功耗。在提议的低功耗模式下，电源电压 $V_{DD}$ 降低至其正常工作模式下值的90%。假设时钟频率和逻辑门的平均开关活动保持不变，计算动态功耗的百分比降幅。将您的最终答案表示为小数值（例如，25%的降幅应写作0.25）。", "solution": "CMOS逻辑中的动态功耗主要由电容开关引起，并由以下标准关系式给出\n$$P_{\\text{dyn}}=\\alpha C_{L} V_{DD}^{2} f,$$\n其中 $\\alpha$ 是平均开关活动因子，$C_{L}$ 是有效负载电容，$V_{DD}$ 是电源电压，$f$ 是时钟频率。\n\n在低功耗模式下，电源电压降低为\n$$V_{DD}'=0.9\\,V_{DD}.$$\n假设 $\\alpha$、$C_{L}$ 和 $f$ 保持不变，新的动态功耗为\n$$P_{\\text{dyn}}'=\\alpha C_{L} \\left(V_{DD}'\\right)^{2} f=\\alpha C_{L} \\left(0.9\\,V_{DD}\\right)^{2} f=0.9^{2}\\,\\alpha C_{L} V_{DD}^{2} f=0.81\\,P_{\\text{dyn}}.$$\n\n动态功耗的相对减少量为\n$$\\frac{P_{\\text{dyn}}-P_{\\text{dyn}}'}{P_{\\text{dyn}}}=1-0.81=0.19.$$\n\n因此，表示为小数的百分比降幅为 $0.19$。", "answer": "$$\\boxed{0.19}$$", "id": "1963189"}, {"introduction": "在动态功耗的公式 $P_{\\text{dyn}}=\\alpha C_{L} V_{DD}^{2} f$ 中，开关活动因子 $\\alpha$ 是一个关键参数，它量化了电路节点的翻转频率。这个因子不仅取决于时钟频率，还与逻辑门的功能及其输入信号的统计特性密切相关。本练习将通过比较几种基本逻辑门的开关活动，帮助你理解逻辑功能本身如何影响功耗，并学会使用概率方法来评估设计的功耗特性。[@problem_id:1963188]", "problem": "一位数字电路设计师正在评估三种基本逻辑门的动态功耗：反相器 (NOT)、双输入与非门 (NAND) 和双输入异或门 (XOR)。一个互补金属氧化物半导体 (CMOS) 门电路所消耗的动态功耗与其平均开关活动成正比。\n\n开关活动，记为 $\\alpha$，定义为门电路的输出逻辑电平在两个连续的、独立的时间步之间发生变化的概率。\n\n您需要根据以下假设分析这三种门的预期开关活动：\n1.  施加到每个门输入端的逻辑信号在统计上是相互独立的。\n2.  对于任何单条输入线，其为逻辑 '1' 的概率为 0.5，为逻辑 '0' 的概率也为 0.5（即均匀随机分布）。\n3.  在一个给定时间步的输入集与前一个时间步的输入集在统计上是独立的。\n\n基于这些假设，请确定这三种门的正确排序，从预期平均开关活动最高的门到最低的门。使用 'I' 代表反相器，'N' 代表双输入与非门，'X' 代表双输入异或门。\n\n从以下选项中选择正确的排序。\n\nA. I > X > N\n\nB. X > I > N\n\nC. I = X > N\n\nD. N > I = X\n\nE. N > X > I", "solution": "开关活动 $\\alpha$ 是指门电路的输出在两个连续的、独立的时间步之间发生变化的概率。设 $Y_{t}$ 表示在时间 $t$ 的输出。根据给定的假设，时间 $t$ 和 $t+1$ 的输入集是独立同分布的，因此输出 $Y_{t}$ 和 $Y_{t+1}$ 也是独立同分布的伯努利随机变量，其中 $p=\\Pr(Y=1)$ 且 $1-p=\\Pr(Y=0)$。因此，\n$$\n\\alpha=\\Pr(Y_{t}\\neq Y_{t+1})=\\Pr(Y_{t}=0,\\,Y_{t+1}=1)+\\Pr(Y_{t}=1,\\,Y_{t+1}=0).\n$$\n根据跨时间的独立性，\n$$\n\\alpha=\\Pr(Y=0)\\Pr(Y=1)+\\Pr(Y=1)\\Pr(Y=0)=2\\,\\Pr(Y=0)\\Pr(Y=1)=2p(1-p).\n$$\n\n因此，为了比较不同门的 $\\alpha$，我们需要在独立的、均匀随机的输入条件下，为每个门计算 $p=\\Pr(Y=1)$。\n\n反相器 (I)：如果输入 $A$ 有 $\\Pr(A=1)=\\frac{1}{2}$，则输出 $Y=\\lnot A$ 满足\n$$\np=\\Pr(Y=1)=\\Pr(A=0)=\\frac{1}{2},\n$$\n所以\n$$\n\\alpha_{I}=2\\left(\\frac{1}{2}\\right)\\left(1-\\frac{1}{2}\\right)=2\\cdot\\frac{1}{2}\\cdot\\frac{1}{2}=\\frac{1}{2}.\n$$\n\n双输入异或门 (X)：对于独立的、均为均匀分布的输入 $A,B$，$Y=A\\oplus B$ 在 $A\\neq B$ 时为 1。因此\n$$\np=\\Pr(Y=1)=\\Pr(A=0,B=1)+\\Pr(A=1,B=0)=\\frac{1}{4}+\\frac{1}{4}=\\frac{1}{2},\n$$\n所以\n$$\n\\alpha_{X}=2\\left(\\frac{1}{2}\\right)\\left(1-\\frac{1}{2}\\right)=\\frac{1}{2}.\n$$\n\n双输入与非门 (N)：对于 $Y=\\lnot(AB)$，\n$$\np=\\Pr(Y=1)=1-\\Pr(A=1,B=1)=1-\\frac{1}{4}=\\frac{3}{4},\n$$\n所以\n$$\n\\alpha_{N}=2\\left(\\frac{3}{4}\\right)\\left(1-\\frac{3}{4}\\right)=2\\cdot\\frac{3}{4}\\cdot\\frac{1}{4}=\\frac{3}{8}.\n$$\n\n比较可知，$\\alpha_{I}=\\alpha_{X}=\\frac{1}{2}$ 且 $\\alpha_{N}=\\frac{3}{8}$，因此从最高到最低的开关活动排序为 $I=X>N$，这对应于选项 C。", "answer": "$$\\boxed{C}$$", "id": "1963188"}, {"introduction": "功耗优化的思想贯穿于数字设计的各个层次，从物理层到系统架构层。本练习将我们的视角从单个逻辑门提升到系统级的数据通路——总线，探讨一个更高级别的设计决策：数据编码方式。你将通过分析一个具体的数据序列，比较不同编码方案（符号数值表示法与二进制补码）如何影响总线上的比特翻转次数，并最终影响动态功耗。[@problem_id:1963161]", "problem": "一位嵌入式系统工程师正在设计一个低功耗数字信号处理核心，该核心通过一个4位并行数据总线与存储单元通信。该系统的工作电源电压 $V_{DD}$ 为 1.2 V，总线时钟频率 $f$ 为 250 MHz。总线上每条独立线路的总有效电容 $C_{line}$ 为 1.5 pF。N位总线的平均动态功耗由公式 $P_{avg} = \\alpha_T \\cdot C_{line} \\cdot V_{DD}^2 \\cdot f$ 建模，其中 $\\alpha_T$ 表示每个时钟周期内所有N条线路上发生的比特翻转（0到1或1到0）的平均次数。\n\n该工程师需要评估两种不同的4位有符号数编码方案——原码表示法和补码表示法——对功耗的影响。为此，将传输一个基准数据序列。总线初始状态为所有线路均为逻辑0。然后，按每个时钟周期一个值的速率，传输以下十进制整数值序列：`+3, -3, +2, -2, +1, -1, 0`。\n\n对于原码表示法，最高有效位 (MSB) 是符号位（0为正，1为负），其余位表示数值的大小。对于补码表示法，负数是通过将对应正数的所有位取反然后加一来形成的。\n\n计算使用补码 ($P_{TC}$) 和原码 ($P_{SM}$) 传输此特定序列时，平均动态功耗的绝对差值 $|P_{TC} - P_{SM}|$。答案以微瓦 ($\\mu$W) 为单位，并四舍五入到三位有效数字。", "solution": "我们使用给定的动态功耗模型\n$$P_{avg}=\\alpha_{T}\\,C_{line}\\,V_{DD}^{2}\\,f,$$\n其中 $\\alpha_{T}$ 是每个时钟周期内所有4条线路上的平均比特翻转次数。\n\n我们必须计算在给定的7个周期的传输中（从初始全零总线状态开始），原码(SM)和补码(TC)两种情况下的 $\\alpha_{T}$，然后求出功耗的绝对差值：\n$$|P_{TC}-P_{SM}|=|\\alpha_{T,TC}-\\alpha_{T,SM}|\\,C_{line}\\,V_{DD}^{2}\\,f.$$\n\n对于4位总线，列出码字以及连续字之间的汉明距离（包括从初始状态 $0000$ 到第一个值的翻转）。序列为 $+3,-3,+2,-2,+1,-1,0$。\n\n原码（MSB是符号位，其余3位是数值）：\n- $+3: 0011$, $-3: 1011$, $+2: 0010$, $-2: 1010$, $+1: 0001$, $-1: 1001$, $0: 0000$。\n翻转:\n$0000\\to0011:2$,\n$0011\\to1011:1$,\n$1011\\to0010:2$,\n$0010\\to1010:1$,\n$1010\\to0001:3$,\n$0001\\to1001:1$,\n$1001\\to0000:2$。\n总计 $=12$，因此\n$$\\alpha_{T,SM}=\\frac{12}{7}.$$\n\n补码：\n- $+3: 0011$, $-3: 1101$, $+2: 0010$, $-2: 1110$, $+1: 0001$, $-1: 1111$, $0: 0000$。\n翻转:\n$0000\\to0011:2$,\n$0011\\to1101:3$,\n$1101\\to0010:4$,\n$0010\\to1110:2$,\n$1110\\to0001:4$,\n$0001\\to1111:3$,\n$1111\\to0000:4$。\n总计 $=22$，因此\n$$\\alpha_{T,TC}=\\frac{22}{7}.$$\n\n因此，\n$$|\\alpha_{T,TC}-\\alpha_{T,SM}|=\\left|\\frac{22}{7}-\\frac{12}{7}\\right|=\\frac{10}{7}.$$\n于是，\n$$|P_{TC}-P_{SM}|=\\frac{10}{7}\\,C_{line}\\,V_{DD}^{2}\\,f.$$\n\n代入给定值 $C_{line}=1.5\\times10^{-12}\\,\\text{F}$，$V_{DD}=1.2\\,\\text{V}$，$f=250\\times10^{6}\\,\\text{s}^{-1}$：\n$$C_{line}V_{DD}^{2}f=(1.5\\times10^{-12})(1.2)^{2}(250\\times10^{6})=540\\times10^{-6}\\,\\text{W},$$\n所以\n$$|P_{TC}-P_{SM}|=\\frac{10}{7}\\times 540\\times10^{-6}\\,\\text{W}=\\frac{5400}{7}\\times10^{-6}\\,\\text{W}.$$\n转换为微瓦并四舍五入到三位有效数字，得到 $771\\,\\text{微瓦}$。", "answer": "$$\\boxed{771}$$", "id": "1963161"}]}