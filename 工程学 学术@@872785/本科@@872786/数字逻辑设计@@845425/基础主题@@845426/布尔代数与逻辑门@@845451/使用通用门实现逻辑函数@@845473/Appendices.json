{"hands_on_practices": [{"introduction": "通用门（如与非门）是数字设计的基石，因为它们可以用来实现任何逻辑功能。这个练习将指导你完成一个基本但至关重要的转换过程：将一个标准的“和的积”（SOP）布尔表达式转换为一个仅使用与非门的电路。通过这个实践[@problem_id:1942452]，你将掌握利用德摩根定律进行电路转换的核心技巧。", "problem": "一个化学反应堆的安全监控系统使用三个二进制传感器，分别标记为A、B和C。值为1表示传感器为“ON”（检测到某种状况），值为0表示为“OFF”。一个由输出F表示的警报，在特定条件下被触发（F=1）。系统逻辑规定，如果传感器C为ON，则必须激活警报。或者，如果传感器A为OFF而传感器B为ON，警报也会被激活。在其他情况下，警报保持OFF状态（F=0）。\n\n您的任务是设计一个实现此安全协议的逻辑电路。该设计必须仅使用双输入与非门（NAND gate）。实现这个函数F(A, B, C)所需的最少双输入与非门数量是多少？", "solution": "警报逻辑为：如果 $C=1$，或者如果 $A=0$ 且 $B=1$，则触发。用布尔形式表示为\n$$\nF(A,B,C)=C+BA'.\n$$\n使用德摩根定律（De Morgan’s laws）来获得一个适合与非门实现的因式分解形式。首先进行求反运算：\n$$\nF'=(C+BA')'=C'(BA')'.\n$$\n再次对第二个因子应用德摩根定律：\n$$\n(BA')'=B'+A,\n$$\n因此\n$$\nF' = C'(B'+A)\\quad\\Rightarrow\\quad F=\\big[C'(B'+A)\\big]'.\n$$\n一个双输入与非门从输入X和Y计算出 $[XY]'$。因此，$F$ 是 $X=C'$ 和 $Y=B'+A$ 的与非运算结果。现在也用与非门来实现 $Y$。对和式使用德摩根定律，\n$$\nB'+A=(BA')',\n$$\n所以 $Y$ 是一个输入为 $B$ 和 $A'$ 的与非门的输出。\n\n因此，一个仅使用与非门的实现如下：\n- 使用与非门反相器将 $A$ 反相得到 $A'$：$\\operatorname{NAND}(A,A)=A'$。\n- 使用一个与非门形成 $Y=(BA')'$：$\\operatorname{NAND}(B,A')$。\n- 使用与非门反相器将 $C$ 反相得到 $C'$：$\\operatorname{NAND}(C,C)=C'$。\n- 将 $C'$ 和 $Y$ 进行与非运算生成 $F$：$F=\\operatorname{NAND}(C', (BA')')=\\big[C'(B'+A)\\big]'=C+BA'$。\n\n门数量统计：两个反相器（用于 $A'$ 和 $C'$）加上两个用于组合的与非门，总共需要 $4$ 个双输入与非门。\n\n为了证明其最小性，注意到函数 $F$ 对于 $A$ 是负单调的（negative-unate），对于 $B$ 和 $C$ 是正单调的（positive-unate）。在一个仅由与非门构成的网络中，每个门在信号路径上都会引入一次反相。要实现 $A$ 的负单调性，需要在 $A$ 的路径上有奇数次反相，这要求在两级与非结构之前至少对 $A$ 进行一次显式反相。同时，要保持 $C$ 的正单调性，需要在 $C$ 的路径上有偶数次反相；如果仅将 $C$ 输入到最后的与非门，会产生一次反相（奇数次），因此 $C$ 必须在进入最后的与非门之前被反相一次（或通过一个额外的与非门级），这会增加一个门。再加上最后的组合以及 $BA'$ 项的形成，这使得至少需要 $4$ 个双输入与非门。因此，$4$ 既是充分的也是必要的。", "answer": "$$\\boxed{4}$$", "id": "1942452"}, {"introduction": "与与非门类似，或非门也具有通用性，能够构建任何复杂的数字系统。本练习将探讨与非门的“对偶”问题：将一个“积的和”（POS）表达式转换为纯或非门电路[@problem_id:1942455]。这个练习不仅能巩固你对德摩根定律的理解，还能让你体会到在不同逻辑形式之间进行转换的对称之美。", "problem": "一个化学反应堆的安全监控系统正在被设计，该系统仅使用双输入或非门。在特定的条件下，该系统必须触发一个由逻辑函数 $F$ 表示的最终警报。当且仅当检测到冷却剂流量错误（逻辑 $1$），并且同时反应堆温度过高（逻辑 $1$）或内部压力过高（逻辑 $1$）时，警报 $F$ 应被激活（逻辑 $1$）。\n\n设逻辑变量定义如下：\n- 当温度过高时 $A = 1$，否则 $A = 0$。\n- 当压力过高时 $B = 1$，否则 $B = 0$。\n- 当检测到冷却剂流量错误时 $C = 1$，否则 $C = 0$。\n\n输入 $A$、$B$ 和 $C$ 可用，但它们的反相（$A'$、$B'$、$C'$）不可用。您必须设计一个电路来实现警报函数 $F$，并使用最少数量的双输入或非门。\n\n实现函数 $F$ 所需的双输入或非门的最小数量是多少？", "solution": "我们要仅使用双输入或非门来实现警报函数。所需的逻辑是\n$$F = C(A + B).$$\n使用形式为 $X Y = (X' + Y')'$ 的德摩根定律，令 $X = C$ 且 $Y = A + B$，我们将其重写为\n$$F = \\big(C' + (A + B)'\\big)'.$$\n一个双输入或非门实现 $X \\downarrow Y = (X + Y)'$。由此我们得到必需的子表达式：\n- 用一个双输入或非门并将输入连接在一起实现反相（非）：$X' = X \\downarrow X$。\n- 项 $(A + B)'$ 直接用一个或非门实现：$(A + B)' = A \\downarrow B$。\n- 项 $C'$ 直接用一个或非门实现：$C' = C \\downarrow C$。\n最后，对和求反是这两个结果的另一次或非运算：\n$$F = \\big((A + B)' + C'\\big)' = (A \\downarrow B) \\downarrow (C \\downarrow C).$$\n这个结构正好使用了三个双输入或非门：一个用于 $(A + B)'$，一个用于 $C'$，以及一个最终的或非门来产生 $F$。\n\n为了证明其最小性，注意到任何仅使用两个双输入或非门且依赖于所有三个输入的实现，其第一个门必须由两个输入构成 $(X + Y)'$ 的形式，第二个门将此结果与第三个输入 $Z$ 进行或非运算，得到\n$$\\big((X + Y)' + Z\\big)' = (X + Y)Z'.$$\n它的形式是“两个输入的和与第三个输入的反相的与”，在输入端无法直接获得输入的反相时，对于 $X、Y、Z$ 到 $A、B、C$ 的任何赋值，该形式都不能等于 $C(A + B)$。因此，两个门是不够的，而三个门是必要且充分的。\n\n因此，所需的双输入或非门的最小数量是三个。", "answer": "$$\\boxed{3}$$", "id": "1942455"}, {"introduction": "在实际的工程设计中，我们追求的不仅是功能的实现，更是效率和成本的最优化。这个挑战性的练习将带你超越简单的单函数转换，进入多输出电路的优化设计领域[@problem_id:1942398]。你将学习如何通过共享中间逻辑，用最少的与非门同时实现异或（XOR）和同或（XNOR）这两个密切相关的功能，这是通往高效数字系统设计的关键一步。", "problem": "需要设计一个数字电路，用于同时计算两个输入 $A$ 和 $B$ 的两个函数。第一个函数是异或（XOR）运算，定义为 $F_1 = A \\oplus B = A'B + AB'$，其中撇号表示逻辑非运算。第二个函数是同或（XNOR）运算，定义为 $F_2 = A \\odot B = A'B' + AB$。您的任务是创建一个能同时产生输出 $F_1$ 和 $F_2$ 的单一逻辑系统，并且只使用双输入与非门。通过最大化复用中间逻辑信号，确定实现这整个系统所需的双输入与非门的绝对最小数量。", "solution": "我们仅限于使用双输入与非门。将双输入与非门表示为 $\\operatorname{NAND}(X,Y)=(XY)'$，其中补运算（非）用撇号表示。\n\n构建共享的中间信号：\n1) $P=\\operatorname{NAND}(A,B)=(AB)'$。\n根据德摩根定律，$(AB)'=A'+B'$。\n\n2) $Y=\\operatorname{NAND}(A,P)=(AP)'=(A(A'+B'))'= (AA'+AB')'= (0+AB')'=(AB')'$。\n\n3) $Z=\\operatorname{NAND}(B,P)=(BP)'=(B(A'+B'))'= (BA'+BB')'= (A'B+0)'=(A'B)'$。\n\n复用 $Y$ 和 $Z$ 计算 $F_1$（XOR）：\n4) $F_{1}=\\operatorname{NAND}(Y,Z)=(YZ)'=\\big((AB')'(A'B)'\\big)'$。\n对该式应用德摩根定律。首先，我们化简乘积 $YZ$：\n根据德摩根定律，$(AB')'=A'+B$ 且 $(A'B)'=A+B'$，因此\n$YZ=(A'+B)(A+B')=A'A+A'B'+AB+BB'=0+A'B'+AB+0=A'B'+AB$，\n所以\n$F_{1}=(YZ)'=(A'B'+AB)'=(A'+B'+AB)'(A'B'+AB) = (A+B)(A'+B') = A'B+AB'$，\n这正是 $A \\oplus B$。\n\n现在，在最大化复用的前提下，用一个额外的与非门计算 $F_2$（XNOR）。注意到 $F_2$ 是 $F_1$ 的补函数，即 $F_2 = F_1'$。一个直接的方法是用一个与非门作为反相器来得到 $F_2$。\n$F_2 = F_1' = \\operatorname{NAND}(F_1, F_1) = ((A'B+AB')')' = A'B+AB'$，这不对。$F_2 = F_1' = (A'B+AB')' = (A+B')(A'+B)=A'B'+AB$。\n一个更巧妙的复用方法是使用已有的信号 $P$。\n5) $F_2 = \\operatorname{NAND}(P,F_1) = (P F_1)'$\n其中 $P=(AB)'$ 且 $F_1=A'B+AB'$。\n$P F_1 = (A'+B')(A'B+AB') = A'A'B + A'AB' + B'A'B + B'AB' = A'B + 0 + 0 + AB' = A'B+AB'$。\n因此\n$F_2 = (P F_1)' = (A'B+AB')' = A'B'+AB$，\n这正是 $A \\odot B$。\n\n门数量与最小性：\n- 该结构使用了五个双输入与非门：分别用于构成 $P, Y, Z$ 各一个，然后用于 $F_1$ 和 $F_2$ 各一个。\n- 一个仅输出 $A \\oplus B$ 的双输入与非门实现至少需要四个与非门（这是标准的最小化结果；上述经典的4与非门实现，在对称性下是基本唯一的）。在那个最小的4与非门结构中，唯一的内部门输出是 $P=(AB)'$, $Y=(AB')'$, 和 $Z=(A'B)'$，它们之中没有一个等于 $A'B'+AB$ (XNOR)。因此，要同时产生作为门输出的 $F_1$ 及其补函数 $F_2$，至少需要一个额外的与非门。因此，同时实现 $F_1$ 和 $F_2$ 所需的双输入与非门的绝对最小数量是五个。\n\n综上所述，五个双输入与非门是必要且充分的，如上所示，这实现了对 $P, Y, Z$ 的最大化复用。", "answer": "$$\\boxed{5}$$", "id": "1942398"}]}