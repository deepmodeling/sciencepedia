{"hands_on_practices": [{"introduction": "在集成电路设计中，为了简化制造流程并降低成本，通常会仅使用一种标准逻辑门（如与非门）来构建整个电路。这个练习将带你体验这一过程，它不仅能证明与非门的功能完备性，还能锻炼你的布尔代数化简能力。通过解决这个问题 [@problem_id:1974670]，你将学会如何系统地将一个给定的逻辑表达式，通过化简并利用德摩根定律，转换为一个仅由与非门构成的等效电路。", "problem": "在设计专用集成电路（ASIC）时，一个设计团队决定仅使用一种类型的标准逻辑单元，以简化布局和制造过程。所选的单元是双输入与非门。\n\n一位初级工程师的任务是实现一个特定的控制逻辑函数 $F$，该函数依赖于三个输入信号：$A$、$B$ 和 $C$。该函数由布尔表达式 $F(A, B, C) = A'B + BC' + C$ 定义。\n\n假设输入信号 $A$、$B$ 和 $C$ 可用，但它们的反相（$A'$、$B'$、$C'$）不可用，必须使用可用的双输入与非门来生成。那么，实现函数 $F$ 所需的双输入与非门的最少总数是多少？", "solution": "我们从给定的布尔函数开始：\n$$F(A,B,C) = A'B + BC' + C$$\n\n首先，我们对表达式进行代数化简。应用吸收律 $X + XY = X$ 的变体 $X+X'Y = X+Y$，我们可以简化 $BC' + C$ 项：\n$$C + BC' = C + B$$\n\n将此结果代回原表达式：\n$$F = A'B + (B + C) = (A'B + B) + C$$\n\n再次应用吸收律 $XY+Y=Y$（令 $Y=B, X=A'$）：\n$$A'B + B = B$$\n\n所以，函数可以极大地简化为：\n$$F = B + C$$\n\n现在，我们仅使用双输入与非门来实现 $F = B + C$。根据德摩根定律，或运算可以等效地表示为：\n$$B+C = \\overline{\\overline{B} \\cdot \\overline{C}}$$\n\n为使用与非门实现这一点，我们需要：\n- 使用一个双输入与非门作为反相器生成 $\\overline{B}$（即 $B'$）：$\\overline{B} = \\overline{B \\cdot B}$。这需要1个门。\n- 使用一个双输入与非门作为反相器生成 $\\overline{C}$（即 $C'$）：$\\overline{C} = \\overline{C \\cdot C}$。这需要1个门。\n- 使用第三个双输入与非门计算 $\\overline{\\overline{B} \\cdot \\overline{C}}$：$F = \\overline{\\overline{B} \\cdot \\overline{C}}$。这需要1个门。\n\n这总共使用了3个双输入与非门。\n\n最小性证明：一般情况下，要仅使用双输入与非门实现两个非反相输入的或运算，根据德摩根变换，需要两次输入反相和一个与非门，总共需要3个门。在没有预先存在的反相输入的情况下，仅用两个与非门是无法实现 $B+C$ 的。因此，3是所需的最少数量。", "answer": "$$\\boxed{3}$$", "id": "1974670"}, {"introduction": "从电路设计转向电路分析是数字逻辑学习中的一个重要步骤，这对于后续的电路测试与调试至关重要。本练习模拟了一个常见的硬件故障——“固定为0”故障，要求你分析一个给定的与非门电路在这种异常情况下的行为。通过追踪信号在门间的传递路径 [@problem_id:1974638]，你将深入理解逻辑门电路的工作原理，并了解如何预测实际硬件故障对电路功能的影响。", "problem": "一个数字逻辑电路由四个双输入与非门构成，分别命名为 G1、G2、G3 和 G4。该电路有三个输入端，标记为 A、B 和 C，以及一个输出端 F。这些门按如下方式互连：\n\n-   门 G1 的两个输入都连接到输入端 C。\n-   门 G2 的输入是 G1 的输出和输入端 A。\n-   门 G3 的输入是输入端 C 和 B。\n-   门 G4 的输入是 G2 和 G3 的输出。最后一个门 G4 的输出即为电路的输出 F。\n\n现在，考虑一个“固定为0”的故障情况，即输入端 B 永久保持在逻辑“0”。请确定输出 F 关于剩余有效输入 A 和 C 的简化布尔表达式。简化后的表达式应以“积之和”形式表示。", "solution": "设双输入与非运算定义为 $\\operatorname{NAND}(X,Y)=\\overline{XY}$，其中并置表示逻辑与，+ 表示逻辑或，上划线表示逻辑非。\n\n在固定为0故障 $B=0$ 条件下，逐个门进行推导：\n- 门 G1 的两个输入都接至 $C$，所以其输出为 $G1=\\overline{C \\cdot C}=\\overline{C}$。\n- 门 G2 的输入为 $G1$ 和 $A$，因此 $G2=\\overline{(\\overline{C}) \\cdot A}=\\overline{A \\cdot \\overline{C}}$。\n- 门 G3 的输入为 $C$ 和 $B$，但 $B=0$，所以 $G3=\\overline{C \\cdot 0}=\\overline{0}=1$。\n- 门 G4 的输入为 $G2$ 和 $G3$，因此输出 $F$ 为\n$$\nF=\\overline{G2 \\cdot G3}=\\overline{\\left(\\overline{A \\cdot \\overline{C}}\\right)\\cdot 1}=\\overline{\\overline{A \\cdot \\overline{C}}}=A \\cdot \\overline{C}\n$$\n这里使用了对合律 $\\overline{\\overline{X}}=X$。\n\n因此，以积之和形式表示的简化输出（一个单独的乘积项）为 $A\\overline{C}$。", "answer": "$$\\boxed{A\\overline{C}}$$", "id": "1974638"}, {"introduction": "现代数字电路设计不仅要求逻辑功能的正确性，还必须满足速度等性能指标。这个高级练习挑战你在严格的传播延迟限制下，实现一个相对复杂的逻辑函数。你需要在设计中同时考虑逻辑等效变换和电路的层级结构，以确保从任何输入到最终输出的延迟不超过三个门级延迟 [@problem_id:1974622]。这个问题将培养你的多级逻辑综合能力，让你学会如何为了优化性能而进行策略性的电路设计。", "problem": "需要设计一个数字逻辑电路来实现一个特定的四输入布尔函数 $F(A,B,C,D)$。该函数由表达式 $F(A,B,C,D) = (A \\oplus B)' + (C \\oplus D)$ 定义，其中 $\\oplus$ 表示异或 (XOR) 运算，撇号 (') 表示非 (NOT) 运算。\n\n你的任务是设计该函数的一个实现，该实现需遵守两个严格的约束条件：\n1. 电路必须**仅**使用双输入与非门 (NAND) 构建。\n2. 从任何输入到最终输出的最大传播延迟不得超过**三级门延迟**。\n\n在本设计中，你可以假定所有四个主输入 ($A, B, C, D$) 及其反相信号 ($A', B', C', D'$) 在零时刻同时可用。\n\n确定在满足所有给定约束条件的情况下，构建此电路所需的最少双输入与非门数量。", "solution": "问题要求在输入及其反相信号均可用的情况下，用最多三级门延迟实现函数 $F(A,B,C,D) = (A \\oplus B)' + (C \\oplus D)$ 所需的最少双输入与非门数量。\n\n**步骤 1：分析并简化布尔函数。**\n\n设 $X = A \\oplus B$ 且 $Y = C \\oplus D$。该函数可写为 $F = X' + Y$。\n利用布尔恒等式 $P' + Q = (P \\cdot Q')'$，我们可以将 $F$ 表达为一种适合于与非门实现的形式。\n$F = (X \\cdot Y')'$\n这等价于 $F = \\text{NAND}(X, Y')$。\n\n让我们将原始表达式代回 $X$ 和 $Y'$。\n$X = A \\oplus B$\n$Y' = (C \\oplus D)' = C \\leftrightarrow D$ (同或运算)\n\n因此，要实现的函数是 $F = \\text{NAND}(A \\oplus B, C \\leftrightarrow D)$。\n\n**步骤 2：根据传播延迟约束规划电路结构。**\n\n函数 $F$ 是单个与非门的输出。为了使整个电路的最大延迟为三级门延迟，这个最终与非门的输入必须在第二级门的输出处可用。\n设最终的门是第三级门。其输入是信号 $A \\oplus B$ 和 $C \\leftrightarrow D$。\n因此，我们必须能够用最多两级门延迟生成 $A \\oplus B$ 和 $C \\leftrightarrow D$。\n\n**步骤 3：为 $A \\oplus B$ 设计一个两级与非门电路。**\n\n异或的表达式是 $A \\oplus B = A'B + AB'$。这是一个积之和 (SOP) 表达式。一个两级与非-与非结构可以实现任何SOP函数。\n$A \\oplus B = \\overline{\\overline{A'B} \\cdot \\overline{AB'}}$\n这等价于 $A \\oplus B = \\text{NAND}(\\text{NAND}(A', B), \\text{NAND}(A, B'))$。\n\n让我们分析这个子电路的级数和门数量。我们已知输入及其反相信号 ($A, A', B, B'$) 在零时刻可用。\n- 第 1 级：我们为乘积项构建与非门。\n  - $G_1 = \\text{NAND}(A', B)$\n  - $G_2 = \\text{NAND}(A, B')$\n  由于这些门的输入在零时刻可用，它们的输出在一级门延迟后可用（第 1 级）。\n- 第 2 级：我们组合第 1 级门的输出。\n  - $X_{out} = A \\oplus B = \\text{NAND}(G_1, G_2)$\n  该门的输入在一级门延迟后可用，因此其输出在两级门延迟后可用（第 2 级）。\n\n这个 $A \\oplus B$ 的实现使用了 3 个与非门，延迟为 2 级。\n\n**步骤 4：为 $C \\leftrightarrow D$ 设计一个两级与非门电路。**\n\n同或的表达式是 $C \\leftrightarrow D = CD + C'D'$。这也是一个积之和表达式。我们可以使用相同的两级与非-与非结构。\n$C \\leftrightarrow D = \\overline{\\overline{CD} \\cdot \\overline{C'D'}}$\n这等价于 $C \\leftrightarrow D = \\text{NAND}(\\text{NAND}(C, D), \\text{NAND}(C', D'))$。\n\n让我们分析这个子电路的级数和门数量。输入 $C, C', D, D'$ 在零时刻可用。\n- 第 1 级：我们为乘积项构建与非门。\n  - $G_3 = \\text{NAND}(C, D)$\n  - $G_4 = \\text{NAND}(C', D')$\n  它们的输出在一级门延迟后可用（第 1 级）。\n- 第 2 级：我们组合第 1 级门的输出。\n  - $Y_{out} = C \\leftrightarrow D = \\text{NAND}(G_3, G_4)$\n  其输出在两级门延迟后可用（第 2 级）。\n\n这个 $C \\leftrightarrow D$ 的实现使用了 3 个与非门，延迟为 2 级。\n\n**步骤 5：组合子电路并计算总门数。**\n\n最终电路为 $F = \\text{NAND}(X_{out}, Y_{out})$。\n- 输入 $X_{out}$（来自步骤 3）和 $Y_{out}$（来自步骤 4）都在两级门延迟后可用。\n- 最终的门 $G_{final} = \\text{NAND}(X_{out}, Y_{out})$ 接收这些输入。因此，其输出 $F$ 在三级门延迟后可用。\n\n这个结构满足三级传播延迟的约束。现在，我们计算总的门数量。\n- 用于 $A \\oplus B$ 的门：3个门 ($G_1, G_2, \\text{和最终的} X_{out} \\text{门}$)。\n- 用于 $C \\leftrightarrow D$ 的门：3个门 ($G_3, G_4, \\text{和最终的} Y_{out} \\text{门}$)。\n- 最终组合门：1个门 ($G_{final}$)。\n\n总门数 = 3 + 3 + 1 = 7。\n\n该电路可以表示为：\n$F = \\text{NAND}(\\text{NAND}(\\text{NAND}(A', B), \\text{NAND}(A, B')), \\text{NAND}(\\text{NAND}(C, D), \\text{NAND}(C', D')))$。\n这是满足所有约束条件的最有效实现。", "answer": "$$\\boxed{7}$$", "id": "1974622"}]}