{"hands_on_practices": [{"introduction": "将物理现实转化为计算模型是 CFD 成功的关键。本练习将通过一个经典的自然对流问题，指导您如何为不同类型的物理表面（如恒温热源、绝热地板和远场环境）选择最合适的边界条件，这是所有热流体仿真的基础。正确定义这些边界是准确预测温度和速度分布的第一步。[@problem_id:1734331]", "problem": "一位工程师的任务是为一个放置在巨大、密封且静止的房间地板上的热薄圆盘所产生的自然对流羽流创建一个仿真模型。目标是使用计算流体动力学（CFD）来预测空气的温度场和速度场。仿真区域被定义为一个包围热盘的巨大矩形空气盒子。\n\n这个计算区域的边界分类如下：\n- `S_hot`：热圆盘的上表面，维持在一个恒定的高温 $T_{hot}$。\n- `S_floor`：区域内但未被热盘覆盖的房间地板部分。该表面被假定为绝热的。\n- `S_far`：矩形区域的顶部和四个垂直侧面，位于远离热盘的位置。\n\n为了设置仿真，工程师必须为这些表面中的每一个分配合适的物理边界条件类型。提供了四种常见的边界条件类型及其物理定义如下：\n\n- **等温无滑移壁面**：边界处的流体速度为零。边界处的温度保持在一个指定的恒定值。\n- **绝热无滑移壁面**：边界处的流体速度为零。垂直于边界的热通量为零。\n- **开口**：边界处的压力固定在一个指定的环境值。如果流体通过此边界进入区域，它将以指定的环境温度进入。如果流体流出，它将携带其在区域内部的温度流出（温度上为零梯度条件）。\n- **对称**：垂直于边界的速度分量为零，且剪切应力为零。垂直于边界的热通量为零。此条件用于模拟流场平行于边界的对称平面。\n\n对于此场景的物理真实仿真，以下哪个选项正确地将边界条件类型分配给表面 `S_hot`、`S_floor` 和 `S_far`？\n\nA. `S_hot`：等温无滑移壁面，`S_floor`：绝热无滑移壁面，`S_far`：开口\n\nB. `S_hot`：等温无滑移壁面，`S_floor`：绝热无滑移壁面，`S_far`：绝热无滑移壁面\n\nC. `S_hot`：等温无滑移壁面，`S_floor`：等温无滑移壁面，`S_far`：开口\n\nD. `S_hot`：绝热无滑移壁面，`S_floor`：绝热无滑移壁面，`S_far`：对称", "solution": "我们识别每个边界的物理性质，并使用浮力驱动流的标准壁面和远场条件，将其与给定的边界条件定义相匹配。\n\n1) 对于热盘表面 $S_{\\text{hot}}$：\n- 它是一个与空气接触的固体表面，因此适用无滑移条件：在 $S_{\\text{hot}}$ 上 $\\boldsymbol{u}=\\boldsymbol{0}$。\n- 它维持在一个指定的恒定温度 $T_{\\text{hot}}$，因此适用等温条件：在 $S_{\\text{hot}}$ 上 $T=T_{\\text{hot}}$。\n这些完全是等温无滑移壁面的定义。\n\n2) 对于剩余的地板 $S_{\\text{floor}}$（未被盘覆盖的房间地板部分）：\n- 它是一个固体壁面，因此适用无滑移条件：在 $S_{\\text{floor}}$ 上 $\\boldsymbol{u}=\\boldsymbol{0}$。\n- 它是绝热的，因此法向热通量为零：在 $S_{\\text{floor}}$ 上 $q_{n}=-k\\,\\nabla T\\cdot \\boldsymbol{n}=0$。对于恒定的热导率 $k$，这意味着 $\\partial T/\\partial n=0$。\n这些完全是绝热无滑移壁面的定义。\n\n3) 对于远场边界 $S_{\\text{far}}$（放置在远离热盘的计算域的顶部和垂直侧面）：\n- 计算区域是房间空气的截断部分。在 $S_{\\text{far}}$ 之外是更多静止的房间空气，而不是固体壁面。为了表示一个有效的无界环境，并允许浮力驱动的卷吸和排出，同时将反射降至最低，需要施加一个远场/开放边界。\n- “开口”边界将静压固定为环境值 $p=p_{\\text{amb}}$，并在流入（$\\boldsymbol{u}\\cdot \\boldsymbol{n} < 0$）时施加 $T=T_{\\text{amb}}$，在流出（$\\boldsymbol{u}\\cdot \\boldsymbol{n} > 0$）时施加零法向温度梯度 $\\partial T/\\partial n=0$。当计算域只是一个子域时，这与预期的“巨大、密封且静止的房间”情境相匹配：开口模拟了远离羽流的周围环境，而没有引入人造的固体壁面。在 $S_{\\text{far}}$ 处使用绝热无滑移壁面会在此处施加 $\\boldsymbol{u}=\\boldsymbol{0}$ 和 $\\partial T/\\partial n=0$，这会不合物理地限制和反射羽流；使用对称边界需要一个真正的对称平面和平行流动，这在所有远场边界上都不成立。\n\n因此，正确的分配是：\n- $S_{\\text{hot}}$：等温无滑移壁面，\n- $S_{\\text{floor}}$：绝热无滑移壁面，\n- $S_{\\text{far}}$：开口。\n\n在提供的选项中，这对应于选项 A。", "answer": "$$\\boxed{A}$$", "id": "1734331"}, {"introduction": "流体运动通常是由压力差驱动的，而不是预先设定的速度。本练习通过模拟浴缸排水时形成的漩涡，挑战您对压力边界条件的理解，特别是在处理与大气接触的自由表面时。与直接指定出口速度不同，设置压力边界能让求解器更自然地计算出流动形态，这对于捕捉像漩涡这样的复杂流动现象至关重要。[@problem_id:1734286]", "problem": "一位工程师的任务是创建一个简化的计算流体动力学（CFD）模拟，模拟水从一个圆柱形浴缸中排出的过程。目标是捕捉排水口上方形成的典型旋转涡旋。计算域是一个装满水的圆柱体。该模拟将流体建模为单相、不可压缩的粘性液体。水的初始状态是静止的，只有一个非常小的初始切向速度来引发涡旋。\n\n圆柱域的边界定义如下：\n- **顶部表面**：水的上部平坦表面，与大气相通。\n- **侧壁**：浴缸的弯曲垂直壁面。\n- **底壁**：浴缸的平坦底面，不包括排水口。\n- **排水口**：位于底壁中心的一个圆形开口，水通过该开口流出域。\n\n为了正确模拟排水过程的物理现象，必须在这些表面上应用一套边界条件。以下哪组边界条件最适合此模拟？\n\nA. **顶部表面**：速度入口（指定速度为零）。**侧壁**：无滑移壁面。**底壁**：无滑移壁面。**排水口**：速度出口（指定均匀的出口速度）。\n\nB. **顶部表面**：对称。**侧壁**：无滑移壁面。**底壁**：无滑移壁面。**排水口**：出流（所有变量均为零梯度条件）。\n\nC. **顶部表面**：滑移壁面（零剪切应力）。**侧壁**：滑移壁面。**底壁**：滑移壁面。**排水口**：压力出口（指定表压）。\n\nD. **顶部表面**：压力边界（代表大气压力）。**侧壁**：无滑移壁面。**底壁**：无滑移壁面。**排水口**：压力出口（指定表压，低于顶部表面）。\n\nE. **顶部表面**：无滑移壁面。**侧壁**：无滑移壁面。**底壁**：无滑移壁面。**排水口**：质量流出口（指定质量流率）。", "solution": "我们将流动模型化为单相、不可压缩的粘性流，由不可压缩的Navier–Stokes方程控制：\n$$\n\\nabla \\cdot \\mathbf{u} = 0, \\qquad\n\\rho \\left( \\frac{\\partial \\mathbf{u}}{\\partial t} + \\mathbf{u}\\cdot \\nabla \\mathbf{u} \\right) = -\\nabla p + \\mu \\nabla^{2}\\mathbf{u} + \\rho \\mathbf{g}.\n$$\n为了获得物理上正确的排水过程和排水口上方的涡旋，边界条件必须 (i) 在暴露于大气的开放自由表面上提供正确的应力，(ii) 在固体壁面上正确地实施粘性效应以允许边界层和涡旋的发展，以及 (iii) 在出口处施加一个压力参考，以驱动外流而不过于人为地约束速度剖面。\n\n对于固体壁面（侧壁和底部，不包括排水口），需要粘性无滑移条件来捕捉剪切和涡旋结构，因此：\n$$\n\\mathbf{u} = \\mathbf{0} \\quad \\text{在侧壁和底壁上（不包括排水口）}。\n$$\n\n对于暴露于大气的顶部表面，正确的条件是代表大气压力的压力（牵引力）边界。在连续介质形式中，设外向单位法向量为 $\\mathbf{n}$，柯西应力张量为 $\\boldsymbol{\\sigma} = -p\\mathbf{I} + \\mu\\left(\\nabla \\mathbf{u} + \\nabla \\mathbf{u}^{T}\\right)$，大气边界条件施加：\n$$\n\\boldsymbol{\\sigma}\\,\\mathbf{n} = -p_{\\text{atm}}\\,\\mathbf{n},\n$$\n这在典型的CFD实现中表示为压力边界，其中 $p = p_{\\text{atm}}$ 且剪切应力为零。这允许自由表面响应流动，而无需指定速度，并正确设置了绝对压力参考。\n\n对于排水口，外流应由自由表面和排水口之间的压力差驱动。因此，压力出口是合适的，需要指定一个表压 $p_{\\text{out}}$ 使得：\n$$\np = p_{\\text{out}}, \\qquad p_{\\text{out}}  p_{\\text{atm}},\n$$\n这样压力梯度就能引起排水，并且排水口的速度剖面由Navier–Stokes方程的解确定，而不是被人为施加。\n\n现在评估各个选项：\n\nA. 将顶部表面设为速度为零的速度入口，会固定那里的速度为 $\\mathbf{u}=\\mathbf{0}$ 并且没有施加大气应力；在排水口采用指定均匀出口速度的速度出口，施加了一个不符合物理的剖面，并且不允许求解器确定由涡旋引起的正确剖面。因此A不合适。\n\nB. 将顶部表面设为对称边界，强制法向速度为零和法向梯度为零，这与大气自由表面不同，也无法提供驱动排水的压力参考。在排水口对所有变量使用零梯度条件的出流边界，没有施加所需的压降，并且对于决定质量流的单个出口可能是不适定的。因此B不合适。\n\nC. 滑移壁面消除了侧壁和底壁上的粘性剪切，抑制了在粘性液体中形成真实涡旋所必需的边界层。因此C不合适。\n\nD. 顶部表面设为大气压力 $p_{\\text{atm}}$ 的压力边界，侧壁和底壁设为无滑移壁面，排水口设为压力出口且 $p_{\\text{out}}  p_{\\text{atm}}$，这提供了正确的物理设置。这个条件组合是最符合物理现实的。\n\nE. 无滑移壁面不适用于顶部自由表面。指定质量流出口会强制一个流率，而不是让它由压差自然产生，这使得捕捉涡旋的动态形成过程变得困难。因此E不合适。\n\n综上所述，选项 D 是最合适的。", "answer": "$$\\boxed{D}$$", "id": "1734286"}, {"introduction": "在工程应用中，我们常常需要通过仿真来确定设备在特定性能目标下的工作点。本练习介绍了一种更高级的边界条件应用：设计一个“智能”或算法驱动的边界条件，它可以在求解过程中自动调整出口压力 $P_{out}$，以精确达到预设的目标质量流量 $\\dot{m}_{target}$。掌握这种技术对于使用 CFD 进行设备性能表征和优化至关重要。[@problem_id:1734287]", "problem": "一位计算流体动力学（CFD）工程师的任务是为一种新的离心泵设计生成性能曲线。性能曲线关联了泵产生的压头与其通过的质量流量。为此，工程师需要运行一系列稳态模拟，每次模拟对应一个特定的目标质量流量。\n\n该泵的CFD模型使用“质量流量入口”边界条件和一种特制的“压力出口”边界条件。工程师没有为每个期望的质量流量手动猜测出口压力值，而是在出口边界条件中实现了一个自定义算法。该算法在模拟的迭代过程中自动调整出口静压 $P_{out}$，以达到预定义的目标质量流量 $\\dot{m}_{target}$。\n\n该算法的工作原理如下：在每 $N$ 次求解器迭代块结束时，算法会计算出口处的当前质量流量 $\\dot{m}_{current}$。然后它会更新 $P_{out}$ 的值，用于下一个 $N$ 次迭代块。设 $P_{out, k}$ 是在第 $k$ 个迭代块期间使用的出口压力值，$\\dot{m}_{current, k}$ 是在该块结束时计算出的质量流量。下一个迭代块的新压力 $P_{out, k+1}$ 是根据 $P_{out, k}$、$\\dot{m}_{current, k}$ 和常量 $\\dot{m}_{target}$ 计算的。一个小的正松弛因子 $\\beta$，其单位为压力除以质量流量（例如，Pa$\\cdot$s/kg），用于控制压力修正的大小。\n\n假设物理行为是出口背压的增加导致通过泵的质量流量减少，反之亦然，那么下列哪个更新方案正确描述了一个能使计算出的质量流量收敛到目标值的算法？\n\nA. $P_{out, k+1} = P_{out, k} - \\beta (\\dot{m}_{target} - \\dot{m}_{current, k})$\n\nB. $P_{out, k+1} = P_{out, k} + \\beta (\\dot{m}_{target} - \\dot{m}_{current, k})$\n\nC. $P_{out, k+1} = P_{out, k} + \\beta (\\dot{m}_{current, k} / \\dot{m}_{target})$\n\nD. $P_{out, k+1} = P_{out, k} - \\beta |\\dot{m}_{target} - \\dot{m}_{current, k}|$\n\nE. $P_{out, k+1} = \\beta (\\dot{m}_{target} / \\dot{m}_{current, k})$", "solution": "设泵的质量流量是出口压力的函数，$\\dot{m}=f(P_{out})$。根据给定的物理行为（增加出口背压会减少流量），这意味着该函数的导数小于零，即 $f^{\\prime}(P_{out})  0$。\n\n我们将第 $k$ 个迭代块结束时的质量流量误差定义为：\n$$\ne_{k}=\\dot{m}_{target}-\\dot{m}_{current,k}=\\dot{m}_{target}-f(P_{out,k}).\n$$\n我们寻求一个更新规则 $P_{out,k+1}=P_{out,k}+u_{k}$，使得误差 $e_{k}\\to 0$。对下一次迭代的流量进行一阶泰勒展开：\n$$\n\\dot{m}_{current,k+1}=f(P_{out,k+1})\\approx f(P_{out,k})+f^{\\prime}(P_{out,k})u_{k}.\n$$\n因此，下一个迭代步的误差满足：\n$$\ne_{k+1}=\\dot{m}_{target}-\\dot{m}_{current,k+1}\\approx \\left[\\dot{m}_{target}-f(P_{out,k})\\right]-f^{\\prime}(P_{out,k})u_{k}=e_{k}-f^{\\prime}(P_{out,k})u_{k}.\n$$\n我们选择一个带有松弛因子 $\\beta0$ 的比例控制，并设置压力修正量为：\n$$\nu_{k}=-\\beta e_{k}.\n$$\n那么，误差的递推关系为：\n$$\ne_{k+1}\\approx e_{k}-f^{\\prime}(P_{out,k})(-\\beta e_{k})=\\left(1+\\beta f^{\\prime}(P_{out,k})\\right)e_{k}.\n$$\n由于 $f^{\\prime}(P_{out,k})0$，只要选择足够小的 $\\beta0$，就可以确保收敛因子 $\\left|1+\\beta f^{\\prime}(P_{out,k})\\right|1$，从而形成一个收缩映射，使得 $\\dot{m}_{current,k}$ 收敛到 $\\dot{m}_{target}$。这个更新规则对应于：\n$$\nP_{out,k+1}=P_{out,k}-\\beta\\left(\\dot{m}_{target}-\\dot{m}_{current,k}\\right),\n$$\n即选项A。这个规则也符合物理逻辑：如果当前流量 $\\dot{m}_{current,k}\\dot{m}_{target}$，括号中的项为正，算法会减小出口压力 $P_{out}$，从而增加流量；如果 $\\dot{m}_{current,k}\\dot{m}_{target}$，括号中的项为负，算法会增加出口压力 $P_{out}$，从而减少流量。\n\n量纲一致性也支持选项A：$\\beta$ 的单位是压力除以质量流量，乘以 $(\\dot{m}_{target}-\\dot{m}_{current,k})$（单位是质量流量）后得到的单位是压力，与 $P_{out}$ 的量纲匹配。\n\n相比之下：\n- 选项B使用了相反的符号，得到 $e_{k+1}\\approx(1-\\beta f^{\\prime})e_{k}$。由于 $f^{\\prime}0$，收敛因子 $1-\\beta f^{\\prime}  1$，误差会增长，导致算法发散。\n- 选项C的附加项 $\\beta(\\dot{m}_{current,k}/\\dot{m}_{target})$ 是无量纲的，当它与 $\\beta$ 相乘时，其单位与压力不符。此外，即使在 $e_{k}=0$（即 $\\dot{m}_{current,k} = \\dot{m}_{target}$）时，该项也不为零，因此不会收敛到目标点。\n- 选项D总是减去一个正值 $\\beta|\\dot{m}_{target}-\\dot{m}_{current,k}|$，这意味着无论误差符号如何，$P_{out}$ 都会单向减小，这通常不会使 $e_{k}\\to 0$。\n- 选项E将 $P_{out,k+1}$ 设置为与一个无量纲比率成正比，这不仅导致 $P_{out}$ 的单位错误，而且在目标处没有不动点。\n\n因此，只有选项A能产生正确的反馈方向，量纲一致，并且对于一个小的正 $\\beta$ 值是局部收敛的。", "answer": "$$\\boxed{A}$$", "id": "1734287"}]}