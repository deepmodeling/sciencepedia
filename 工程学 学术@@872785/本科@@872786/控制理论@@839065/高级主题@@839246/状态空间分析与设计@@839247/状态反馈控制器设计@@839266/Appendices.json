{"hands_on_practices": [{"introduction": "这第一个练习将帮助你在最简单的情景——一阶系统中，奠定对极点配置的理解。通过为一个温度控制器计算反馈增益，你将看到增益 $k$、系统的物理参数以及闭环系统单极点位置之间的直接数学关系。这个练习对于掌握状态反馈如何直接调控系统稳定性与响应速度至关重要。[@problem_id:1614741]", "problem": "一个用于航天器仪器温度控制的简化模型由牛顿冷却定律及一个受控热源来描述。该仪器的温度 $T(t)$ 遵循以下一阶微分方程：\n$$\n\\frac{dT(t)}{dt} = -\\alpha (T(t) - T_{amb}) + \\gamma U(t)\n$$\n其中 $T_{amb}$ 是航天器内部的恒定环境温度。正常数 $\\alpha$ 是传热系数，表示仪器向其周围环境散热的速度。正常数 $\\gamma$ 是加热增益，它将控制输入 $U(t)$（供给电阻加热器的功率）与温度变化率联系起来。\n\n为了将仪器维持在期望的设定点温度 $T_{sp}$，使用了一个比例控制器。加热器功率的控制律为：\n$$\nU(t) = k (T_{sp} - T(t))\n$$\n其中 $k$ 是待确定的比例反馈增益。\n\n为了进行分析，方便定义一个状态变量 $x(t) = T(t) - T_{amb}$，它表示温度与环境温度的偏差。这个闭环系统的动态特性由单个极点来表征。你的任务是确定反馈增益 $k$ 的解析表达式，该表达式将此极点配置在实轴上的指定位置 $p$。\n\n请用系统参数 $\\alpha$、$\\gamma$ 和期望的极点位置 $p$ 来表示增益 $k$ 的答案。", "solution": "目标是找到将闭环系统极点配置在指定位置 $p$ 的反馈增益 $k$。我们首先用状态变量 $x(t) = T(t) - T_{amb}$ 来表示系统动态。\n\n首先，我们求状态变量 $x(t)$ 的时间导数：\n$$\n\\frac{dx(t)}{dt} = \\frac{d}{dt} (T(t) - T_{amb})\n$$\n由于 $T_{amb}$ 是一个常数，其导数为零。因此：\n$$\n\\frac{dx(t)}{dt} = \\frac{dT(t)}{dt}\n$$\n现在我们可以将此代入给定的系统方程：\n$$\n\\frac{dx(t)}{dt} = -\\alpha (T(t) - T_{amb}) + \\gamma U(t)\n$$\n根据定义，$x(t) = T(t) - T_{amb}$，所以我们可以用状态变量 $x(t)$ 重写该方程：\n$$\n\\frac{dx(t)}{dt} = -\\alpha x(t) + \\gamma U(t)\n$$\n这是系统的开环状态空间表示。\n\n接下来，我们引入控制律。控制律由下式给出：\n$$\nU(t) = k (T_{sp} - T(t))\n$$\n我们需要用状态变量 $x(t)$ 来表示这个控制律。根据 $x(t)$ 的定义，我们有 $T(t) = x(t) + T_{amb}$。将其代入控制律，得到：\n$$\nU(t) = k (T_{sp} - (x(t) + T_{amb}))\n$$\n$$\nU(t) = k (T_{sp} - T_{amb}) - k x(t)\n$$\n现在，我们将这个 $U(t)$ 的表达式代回状态空间方程，以获得闭环系统动态：\n$$\n\\frac{dx(t)}{dt} = -\\alpha x(t) + \\gamma [k (T_{sp} - T_{amb}) - k x(t)]\n$$\n为了找到极点，我们关心微分方程的齐次部分，即与 $x(t)$ 相乘的项。让我们将这些项组合起来：\n$$\n\\frac{dx(t)}{dt} = -\\alpha x(t) - \\gamma k x(t) + \\gamma k (T_{sp} - T_{amb})\n$$\n$$\n\\frac{dx(t)}{dt} = -(\\alpha + \\gamma k) x(t) + \\gamma k (T_{sp} - T_{amb})\n$$\n这是一个形式为 $\\dot{x} = A x + B u_{ext}$ 的一阶线性常微分方程，其中闭环系统矩阵（在本例中为标量）是 $A_{cl} = -(\\alpha + \\gamma k)$，外部输入项是 $B u_{ext} = \\gamma k (T_{sp} - T_{amb})$。\n\n线性时不变系统的极点由其系统矩阵的特征值给出。对于这个一阶系统，极点就是系统矩阵 $A_{cl}$ 的标量值。\n$$\n\\text{pole} = -(\\alpha + \\gamma k)\n$$\n题目要求将该极点配置在指定位置 $p$。因此，我们令：\n$$\np = -(\\alpha + \\gamma k)\n$$\n最后，我们求解这个方程以得到未知增益 $k$：\n$$\n-p = \\alpha + \\gamma k\n$$\n$$\n\\gamma k = -p - \\alpha\n$$\n$$\nk = \\frac{-p - \\alpha}{\\gamma}\n$$\n这就是所要求的反馈增益 $k$ 的解析表达式。", "answer": "$$ \\boxed{\\frac{-p - \\alpha}{\\gamma}} $$", "id": "1614741"}, {"introduction": "转向一个更复杂的二阶系统，例如这里提出的直流电机模型，可以让我们更精细地塑造系统的动态响应。在此练习中，你将学习一种设计反馈控制器的标准技术：将闭环系统特征多项式的系数与期望目标多项式的系数进行匹配。这种强大的代数方法是状态反馈设计的基石，它使你能够精确定义系统的瞬态行为，如其阻尼和自然频率。[@problem_id:1614752]", "problem": "一个电枢控制直流电机的简化模型由一个线性时不变状态空间系统描述。状态向量定义为 $x = [x_1, x_2]^T$，其中 $x_1$ 是电机轴的角速度，$x_2$ 是电枢电流。系统动力学由方程 $\\dot{x} = Ax + Bu$ 给出，其中 $u$ 是输入电枢电压。系统矩阵为：\n$$\nA = \\begin{pmatrix} -10  5 \\\\ -0.1  -2 \\end{pmatrix}, \\quad B = \\begin{pmatrix} 0 \\\\ 2 \\end{pmatrix}\n$$\n为了调节电机的行为，我们采用了一个状态反馈控制器，其控制律为 $u = -Kx$，其中 $K = [k_1 \\ k_2]$ 是反馈增益的常数行向量。设计目标是使所得闭环系统的特征多项式为 $P(s) = s^2 + 8s + 16$。\n\n确定所需的状态反馈增益行向量 $K$。您的答案应该是一个包含增益数值的行矩阵。", "solution": "我们首先通过检查能控性来验证极点配置的可行性。能控性矩阵为 $[B,\\ AB]$，其中 $AB = A B$：\n$$\nB = \\begin{pmatrix} 0 \\\\ 2 \\end{pmatrix}, \\quad AB = \\begin{pmatrix} -10  5 \\\\ -\\frac{1}{10}  -2 \\end{pmatrix} \\begin{pmatrix} 0 \\\\ 2 \\end{pmatrix} = \\begin{pmatrix} 10 \\\\ -4 \\end{pmatrix}, \\quad [B,\\ AB] = \\begin{pmatrix} 0  10 \\\\ 2  -4 \\end{pmatrix}.\n$$\n其行列式为 $-20 \\neq 0$，因此系统是能控的，极点配置是可行的。\n\n通过状态反馈 $u = -Kx$，闭环矩阵为 $A_{\\text{cl}} = A - BK$。由于 $B K = \\begin{pmatrix} 0  0 \\\\ 2 k_{1}  2 k_{2} \\end{pmatrix}$，我们得到\n$$\nA - BK = \\begin{pmatrix} -10  5 \\\\ -\\frac{1}{10} - 2 k_{1}  -2 - 2 k_{2} \\end{pmatrix}.\n$$\n闭环系统的特征多项式为\n$$\n\\det\\!\\left(s I - (A - BK)\\right) = \n\\det\\!\\begin{pmatrix} s + 10  -5 \\\\ \\frac{1}{10} + 2 k_{1}  s + 2 + 2 k_{2} \\end{pmatrix}\n= (s + 10)(s + 2 + 2 k_{2}) + 5\\!\\left(\\frac{1}{10} + 2 k_{1}\\right).\n$$\n展开并组合各项，\n$$\n= s^{2} + s(12 + 2 k_{2}) + \\left(20 + 20 k_{2}\\right) + \\frac{1}{2} + 10 k_{1}\n= s^{2} + s(12 + 2 k_{2}) + \\left(\\frac{41}{2} + 20 k_{2} + 10 k_{1}\\right).\n$$\n我们通过匹配系数，将其与期望的多项式 $P(s) = s^{2} + 8 s + 16$ 进行比较：\n$$\n12 + 2 k_{2} = 8 \\quad \\Rightarrow \\quad k_{2} = -2,\n$$\n$$\n\\frac{41}{2} + 20 k_{2} + 10 k_{1} = 16 \\quad \\Rightarrow \\quad \\frac{41}{2} - 40 + 10 k_{1} = 16 \\quad \\Rightarrow \\quad 10 k_{1} = \\frac{71}{2} \\quad \\Rightarrow \\quad k_{1} = \\frac{71}{20}.\n$$\n因此，所需的状态反馈增益行向量为 $K = \\begin{pmatrix} \\frac{71}{20}  -2 \\end{pmatrix}$。", "answer": "$$\\boxed{\\begin{pmatrix} \\frac{71}{20}  -2 \\end{pmatrix}}$$", "id": "1614752"}, {"introduction": "这最后一个练习超越了纯粹的计算，旨在探索一个关键的工程权衡：性能与控制成本。虽然将极点放置在左半平面的深处可以获得快速响应，但这通常需要巨大的控制输入，而物理执行器可能无法提供如此大的能量。通过为一个质量-弹簧-阻尼系统设计并比较一个“慢”控制器和一个“快”控制器，你将深刻理解极点位置的决策如何直接影响执行器的需求以及整个控制设计的可行性。[@problem_id:1614726]", "problem": "一个质量-弹簧-阻尼系统由以下二阶线性微分方程描述：\n$$m\\ddot{x}(t) + b\\dot{x}(t) + kx(t) = u(t)$$\n其中，$x(t)$ 是质量块偏离其平衡位置的位移，$u(t)$ 是一个外部控制力。该系统具有以下参数：质量 $m=1.0$ kg，阻尼系数 $b=3.0$ Ns/m，以及弹簧常数 $k=2.0$ N/m。\n\n该系统将使用状态反馈控制器进行控制。状态向量定义为 $\\mathbf{x}(t) = [x_1(t), x_2(t)]^T = [x(t), \\dot{x}(t)]^T$，控制律由 $u(t) = -K\\mathbf{x}(t) = -k_1 x_1(t) - k_2 x_2(t)$ 给出。\n\n通过将闭环系统极点放置在s平面的特定位置，设计了两种不同的控制器以实现不同的性能目标。\n- **控制器S（慢速）：** 该控制器将闭环极点放置在 $p_S = \\{-2.0, -3.0\\}$。\n- **控制器F（快速）：** 该控制器将闭环极点放置在 $p_F = \\{-8.0, -10.0\\}$。\n\n系统初始处于静止状态，初始位移为 $x(0) = 0.5$ m，初始速度为零，即 $\\dot{x}(0) = 0$。对于每个控制器，控制输入 $u(t)$ 将作用于系统，使其返回到平衡状态 $\\mathbf{x} = [0, 0]^T$。\n\n设 $|u_{\\text{max,S}}|$ 和 $|u_{\\text{max,F}}|$ 分别为慢速控制器和快速控制器在从 $t=0$ 到无穷的整个时间演化过程中所需控制输入信号的最大幅值。\n\n计算比值 $\\frac{|u_{\\text{max,F}}|}{|u_{\\text{max,S}}|}$。", "solution": "首先，我们将质量-弹簧-阻尼系统表示为状态空间形式。设状态变量为 $x_1 = x$ 和 $x_2 = \\dot{x}$。状态方程为：\n$\\dot{x}_1 = x_2$\n$\\dot{x}_2 = \\ddot{x} = \\frac{1}{m}(-kx - b\\dot{x} + u) = -\\frac{k}{m}x_1 - \\frac{b}{m}x_2 + \\frac{1}{m}u$\n\n写成矩阵形式，$\\dot{\\mathbf{x}} = A\\mathbf{x} + B\\mathbf{u}$，其中：\n$A = \\begin{pmatrix} 0  1 \\\\ -k/m  -b/m \\end{pmatrix}$ 和 $B = \\begin{pmatrix} 0 \\\\ 1/m \\end{pmatrix}$。\n\n代入给定值 $m=1.0$ kg，$b=3.0$ Ns/m 和 $k=2.0$ N/m：\n$A = \\begin{pmatrix} 0  1 \\\\ -2  -3 \\end{pmatrix}$ 和 $B = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}$。\n\n状态反馈控制律为 $u = -K\\mathbf{x} = -\\begin{pmatrix} k_1  k_2 \\end{pmatrix}\\begin{pmatrix} x_1 \\\\ x_2 \\end{pmatrix}$。\n闭环系统的动态特性由 $\\dot{\\mathbf{x}} = (A-BK)\\mathbf{x}$ 给出。\n$A-BK = \\begin{pmatrix} 0  1 \\\\ -2  -3 \\end{pmatrix} - \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}\\begin{pmatrix} k_1  k_2 \\end{pmatrix} = \\begin{pmatrix} 0  1 \\\\ -2  -3 \\end{pmatrix} - \\begin{pmatrix} 0  0 \\\\ k_1  k_2 \\end{pmatrix} = \\begin{pmatrix} 0  1 \\\\ -2-k_1  -3-k_2 \\end{pmatrix}$。\n\n闭环系统的极点是矩阵 $A-BK$ 的特征值，也就是特征方程 $\\det(sI - (A-BK)) = 0$ 的根。\n$\\det \\begin{pmatrix} s  -1 \\\\ 2+k_1  s+3+k_2 \\end{pmatrix} = s(s+3+k_2) - (-1)(2+k_1) = 0$\n$s^2 + (3+k_2)s + (2+k_1) = 0$。\n\n现在，我们来确定两个控制器的增益矩阵 $K_S$ 和 $K_F$。\n\n**控制器S（慢速）：**\n期望的极点位于 $\\{-2.0, -3.0\\}$。期望的特征多项式是：\n$(s - (-2))(s - (-3)) = (s+2)(s+3) = s^2 + 5s + 6 = 0$。\n通过将此多项式的系数与一般特征多项式 $s^2 + (3+k_{2,S})s + (2+k_{1,S}) = 0$ 进行比较，我们得到：\n$3 + k_{2,S} = 5 \\implies k_{2,S} = 2$\n$2 + k_{1,S} = 6 \\implies k_{1,S} = 4$\n因此，慢速控制器的增益矩阵为 $K_S = \\begin{pmatrix} 4  2 \\end{pmatrix}$。\n\n**控制器F（快速）：**\n期望的极点位于 $\\{-8.0, -10.0\\}$。期望的特征多项式是：\n$(s - (-8))(s - (-10)) = (s+8)(s+10) = s^2 + 18s + 80 = 0$。\n通过将此多项式的系数与一般特征多项式 $s^2 + (3+k_{2,F})s + (2+k_{1,F}) = 0$ 进行比较，我们得到：\n$3 + k_{2,F} = 18 \\implies k_{2,F} = 15$\n$2 + k_{1,F} = 80 \\implies k_{1,F} = 78$\n因此，快速控制器的增益矩阵为 $K_F = \\begin{pmatrix} 78  15 \\end{pmatrix}$。\n\n接下来，我们需要为每个控制器找到控制输入的最大幅值 $|u(t)|$。控制输入由 $u(t) = -k_1 x_1(t) - k_2 x_2(t)$ 给出。初始条件为 $x(0)=0.5$ m 和 $\\dot{x}(0)=0$ m/s，对应于初始状态向量 $\\mathbf{x}(0) = [0.5, 0]^T$。\n\n对于一个从静止状态（但有非零位移）开始的系统，状态反馈控制器将在最开始的时刻（$t=0$）施加最大的矫正力。在这一瞬间，位移达到最大值，而速度（通常会通过 $k_2$ 为控制作用贡献一个类似阻尼的项）为零。随着系统的运动，位移减小，速度变为非零，但这些项的组合会导致较小的控制输入幅值。因此，最大控制输入幅值出现在 $t=0$ 时刻。\n$|u_{\\text{max}}| = |u(0)| = |-K\\mathbf{x}(0)|$。\n\n我们来为每个控制器计算这个值。\n对于控制器S：\n$|u_{\\text{max,S}}| = |-K_S \\mathbf{x}(0)| = \\left|-\\begin{pmatrix} 4  2 \\end{pmatrix}\\begin{pmatrix} 0.5 \\\\ 0 \\end{pmatrix}\\right| = |-(4 \\times 0.5 + 2 \\times 0)| = |-2.0| = 2.0$ N。\n\n对于控制器F：\n$|u_{\\text{max,F}}| = |-K_F \\mathbf{x}(0)| = \\left|-\\begin{pmatrix} 78  15 \\end{pmatrix}\\begin{pmatrix} 0.5 \\\\ 0 \\end{pmatrix}\\right| = |-(78 \\times 0.5 + 15 \\times 0)| = |-39.0| = 39.0$ N。\n\n最后，我们计算所需比值：\n$\\frac{|u_{\\text{max,F}}|}{|u_{\\text{max,S}}|} = \\frac{39.0}{2.0} = 19.5$。\n这个结果展示了控制设计中的权衡：要实现更快的响应（极点在左半平面中离虚轴更远），就需要显著更大的控制力。", "answer": "$$\\boxed{19.5}$$", "id": "1614726"}]}