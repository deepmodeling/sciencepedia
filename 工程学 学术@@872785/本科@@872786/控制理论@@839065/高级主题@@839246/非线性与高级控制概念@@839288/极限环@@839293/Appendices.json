{"hands_on_practices": [{"introduction": "让我们从一个直观的物理系统开始，探索极限环的起源。这个练习将一个简单的继电器控制器应用于一个无摩擦滑块上，这种情况虽然理想化，但它能让我们通过基础的运动学原理精确计算出极限环的特性。通过这个过程，你将建立起一个坚实的直觉，理解非线性元件是如何在反馈系统中产生并维持持续振荡的 [@problem_id:1588857]。", "problem": "一个简单的定位系统由一个质量为 $m$ 的滑块组成，该滑块可在无摩擦的水平轨道上自由滑动。滑块在时间 $t$ 的位置由 $y(t)$ 给出。一个控制器根据其位置对滑块施加一个力 $u(t)$。该控制器作为一个理想继电器运行，施加一个大小为 $F_0$ 的恒定力，方向与滑块偏离原点的位移方向相反。\n\n该系统的动力学由以下方程描述：\n$$m\\ddot{y}(t) = u(t)$$\n其中控制力由下式给出：\n$$u(t) = -F_0 \\text{sgn}(y(t))$$\n这里，$F_0$ 是一个正常数，符号函数 $\\text{sgn}(x)$ 定义为：当 $x > 0$ 时为 $1$，当 $x  0$ 时为 $-1$。假设当滑块通过原点 ($y=0$) 时，力的方向瞬时切换。\n\n滑块最初在位置 $y(0) = y_0$ 处静止，$\\dot{y}(0) = 0$，其中 $y_0$ 是一个正常数。释放后，系统进入一种持续的周期性振荡，这种现象被称为极限环。\n\n确定此极限环的周期 $T$。请用 $m$、$F_0$ 和 $y_0$ 的符号表达式表示你的答案。", "solution": "运动方程为 $m \\ddot{y}(t) = -F_{0}\\,\\text{sgn}\\!\\left(y(t)\\right)$。因此，加速度是分段恒定的：\n- 当 $y(t) > 0$ 时，$\\ddot{y} = -\\frac{F_{0}}{m}$。\n- 当 $y(t)  0$ 时，$\\ddot{y} = +\\frac{F_{0}}{m}$。\n初始条件为 $y(0) = y_{0} > 0$ 和 $\\dot{y}(0) = 0$。\n\n从 $t=0$ 到首次穿过原点，运动具有恒定加速度 $a_{1} = -\\frac{F_{0}}{m}$。使用匀加速运动学关系，\n$$\ny(t) = y_{0} + \\dot{y}(0)\\,t + \\frac{1}{2} a_{1} t^{2} = y_{0} - \\frac{F_{0}}{2m} t^{2},\n$$\n到达 $y=0$ 的时间 $t_{1}$ 可通过求解 $0 = y_{0} - \\frac{F_{0}}{2m} t_{1}^{2}$ 得到，\n$$\nt_{1} = \\sqrt{\\frac{2 m y_{0}}{F_{0}}}.\n$$\n穿过原点时的速度由 $\\dot{y}(t) = \\dot{y}(0) + a_{1} t$ 得到，\n$$\n\\dot{y}(t_{1}) = -\\frac{F_{0}}{m}\\, t_{1} = -\\sqrt{\\frac{2 F_{0} y_{0}}{m}}.\n$$\n\n刚穿过原点进入 $y0$ 区域，控制力切换为 $u=+F_{0}$，因此加速度为 $a_{2} = +\\frac{F_{0}}{m}$。从速度 $\\dot{y}(t_{1})$ 减速到零所需的时间可以通过 $\\dot{y}(t_{1}+\\tau) = \\dot{y}(t_{1}) + \\frac{F_{0}}{m}\\,\\tau = 0$ 求得，\n$$\n\\tau = \\sqrt{\\frac{2 m y_{0}}{F_{0}}} = t_{1}.\n$$\n此减速过程中的位移满足 $0 = \\dot{y}(t_{1})^{2} + 2 \\left(\\frac{F_{0}}{m}\\right) s$，因此\n$$\ns = -\\frac{m}{2 F_{0}} \\dot{y}(t_{1})^{2} = -\\frac{m}{2 F_{0}} \\left(\\frac{2 F_{0} y_{0}}{m}\\right) = -y_{0},\n$$\n所以转折点在 $y=-y_{0}$ 处，此时速度为零，时间为 $t = t_{1} + \\tau = 2 t_{1}$。\n\n根据对称性，后续的时间间隔是相同的：\n- 从 $y=-y_{0}$，$\\dot{y}=0$ 到 $y=0$：时间 $t_{1}$。\n- 从 $y=0$ 到 $y=+y_{0}$，$\\dot{y}=0$：时间 $t_{1}$。\n\n因此，返回到初始状态 $(y,\\dot{y})=(y_{0},0)$ 的完整周期是\n$$\nT = 4 t_{1} = 4 \\sqrt{\\frac{2 m y_{0}}{F_{0}}}.\n$$\n这对应于一种对称的周期性运动，其特点是具有大小恒定、分段恒定的指向原点的加速度，并在 $y=0$ 处瞬时切换。", "answer": "$$\\boxed{4 \\sqrt{\\frac{2 m y_{0}}{F_{0}}}}$$", "id": "1588857"}, {"introduction": "对于更复杂的系统，精确分析往往不可行，因此我们需要借助近似方法。描述函数法是一种强大的工具，它通过谐波平衡原理——即寻找满足 $G(j\\omega)N(A) = -1$ 条件的振荡频率和幅值——来预测极限环的存在。这个练习不仅会带你应用描述函数法预测极限环的特性，还将引导你判断其稳定性，这是评估系统实际行为的关键一步 [@problem_id:1588855]。", "problem": "一个单位负反馈控制系统由前向通路中的一个非线性元件和一个线性对象构成。非线性元件的输入是误差信号 $e(t)$。该非线性元件是一个理想继电器，其输出 $u(t)$ 由下式描述：\n$$ u(t) = \\begin{cases} +2  \\text{if } e(t) > 0 \\\\ -2  \\text{if } e(t)  0 \\end{cases} $$\n该输出 $u(t)$ 接着被输入到线性时不变对象中，其传递函数为：\n$$ G(s) = \\frac{20}{s(s+2)(s+4)} $$\n系统在其他方面处于静止状态，初始条件为零。基于描述函数分析法，预测系统输出中产生的持续振荡（极限环）的特性。从以下选项中选择正确的描述。\n\nA) 振幅 $A = \\frac{10}{3\\pi}$，角频率 $\\omega = 2\\sqrt{2}$ rad/s，稳定\n\nB) 振幅 $A = \\frac{10}{3\\pi}$，角频率 $\\omega = 2\\sqrt{2}$ rad/s，不稳定\n\nC) 振幅 $A = \\frac{5}{3\\pi}$，角频率 $\\omega = 4$ rad/s，稳定\n\nD) 振幅 $A = \\frac{20}{3\\pi}$，角频率 $\\omega = \\sqrt{2}$ rad/s，不稳定\n\nE) 振幅 $A = \\frac{10}{3\\pi}$，角频率 $\\omega = 2$ rad/s，稳定\n\nF) 预测不存在极限环。", "solution": "在一个具有描述函数为 $N(A)$ 的静态非线性和线性对象 $G(s)$ 的单位负反馈系统中，预测的极限环可以通过谐波平衡（描述函数）方程找到\n$$\n1+N(A)G(j\\omega)=0 \\quad \\Longleftrightarrow \\quad \\begin{cases}\n\\angle G(j\\omega)=-\\pi,\n\\\\\n|N(A)|\\,|G(j\\omega)|=1.\n\\end{cases}\n$$\n对于一个输出电平为 $\\pm h$、输入为振幅为 $A$ 的正弦信号的理想对称继电器，其描述函数为\n$$\nN(A)=\\frac{4h}{\\pi A}.\n$$\n此处 $h=2$，因此\n$$\nN(A)=\\frac{8}{\\pi A}.\n$$\n\n对象为\n$$\nG(s)=\\frac{20}{s(s+2)(s+4)}.\n$$\n其频率响应为\n$$\nG(j\\omega)=\\frac{20}{j\\omega\\,(j\\omega+2)\\,(j\\omega+4)}.\n$$\n相位为\n$$\n\\angle G(j\\omega)=-\\frac{\\pi}{2}-\\arctan\\!\\left(\\frac{\\omega}{2}\\right)-\\arctan\\!\\left(\\frac{\\omega}{4}\\right).\n$$\n相位条件 $\\angle G(j\\omega)=-\\pi$ 给出\n$$\n\\arctan\\!\\left(\\frac{\\omega}{2}\\right)+\\arctan\\!\\left(\\frac{\\omega}{4}\\right)=\\frac{\\pi}{2}.\n$$\n使用 $\\tan(\\alpha+\\beta)=\\frac{\\tan\\alpha+\\tan\\beta}{1-\\tan\\alpha\\,\\tan\\beta}$，这要求 $1-\\left(\\frac{\\omega}{2}\\right)\\left(\\frac{\\omega}{4}\\right)=0$，即\n$$\n\\frac{\\omega^{2}}{8}=1 \\;\\;\\Longrightarrow\\;\\; \\omega=2\\sqrt{2}.\n$$\n\n$G(j\\omega)$ 的幅值为\n$$\n|G(j\\omega)|=\\frac{20}{\\omega\\,\\sqrt{\\omega^{2}+4}\\,\\sqrt{\\omega^{2}+16}}.\n$$\n当 $\\omega^{2}=8$ 时，\n$$\n|G(j\\omega)|=\\frac{20}{(2\\sqrt{2})\\,(2\\sqrt{3})\\,(2\\sqrt{6})}=\\frac{20}{48}=\\frac{5}{12}.\n$$\n幅值条件 $|N(A)|\\,|G(j\\omega)|=1$ 变为\n$$\n\\frac{8}{\\pi A}\\cdot\\frac{5}{12}=1 \\;\\;\\Longrightarrow\\;\\; \\frac{10}{3\\pi A}=1 \\;\\;\\Longrightarrow\\;\\; A=\\frac{10}{3\\pi}.\n$$\n\n为了评估稳定性，定义 $H(A)=|G(j\\omega_{0})|-\\frac{1}{|N(A)|}$，其中 $\\omega_{0}$ 由相位条件固定。此处，由于 $\\arg N(A)=0$，$\\omega_{0}$ 与 $A$ 无关，所以\n$$\n\\frac{dH}{dA}=-\\frac{d}{dA}\\left(\\frac{1}{|N(A)|}\\right)=-\\frac{d}{dA}\\left(\\frac{\\pi A}{8}\\right)=-\\frac{\\pi}{8}  0.\n$$\n因此，振幅的微小增加会使得 $|N||G|1$，振荡会衰减回去；而微小减少会使得 $|N||G|>1$，振荡会增长回去。因此，预测的极限环是稳定的。\n\n因此，描述函数分析法预测存在一个稳定的极限环，其振幅为 $A=\\frac{10}{3\\pi}$，角频率为 $\\omega=2\\sqrt{2}$ rad/s，这与选项A相对应。", "answer": "$$\\boxed{A}$$", "id": "1588855"}, {"introduction": "在掌握了分析方法后，我们自然会问：如何利用这些知识来改善系统性能？这个实践将焦点从分析转向设计，探讨如何通过引入一个简单的微分反馈（PD控制器）来主动改变系统的极限环。你将看到，通过调整控制器的参数来改变系统的相位特性，我们可以有效地移动甚至消除不期望的振荡 [@problem_id:1588885]。", "problem": "一个无人机械臂的位置控制系统正在被分析。该机械臂的动力学模型由一个二阶传递函数 $G_p(s) = \\frac{K}{s(s+a)}$ 给出，其中 $K$ 和 $a$ 是正实常数，分别代表系统增益和一个与阻尼相关的参数。该系统由一个简单的继电器执行器驱动，提供一个幅值为 $M$ 的控制信号。控制回路中存在一个不可忽略的 $\\tau$ 秒的显著处理延迟。这个延迟导致系统出现极限环，这是一种不希望出现的持续振荡。\n\n为了减弱这种振荡，在继电器执行器之前通过实现一个形式为 $C(s) = 1 + K_d s$ 的比例-微分（PD）控制器，引入了一个简单的微分反馈路径。目标是改变极限环的特性。\n\n确定微分增益 $K_d$ 的精确值，该值将极限环的频率移动到一个新的特定值 $\\omega_1 = \\frac{\\pi}{2\\tau}$。将你的最终答案表示为关于被控对象参数 $a$ 的解析表达式。", "solution": "我们使用描述函数法来分析由继电器引起的极限环。该回路包含一个线性前置滤波器 $C(s)=1+K_{d}s$，其后是一个幅值为 $M$ 的理想继电器，再其后是线性动力学环节 $G_{p}(s)\\exp(-s\\tau)$，其中 $G_{p}(s)=\\frac{K}{s(s+a)}$。对于频率为 $\\omega$ 的正弦振荡，谐波平衡条件是\n$$\n1+N(A_{v})\\,C(j\\omega)\\,G_{p}(j\\omega)\\,\\exp(-j\\omega\\tau)=0,\n$$\n其中 $N(A_{v})=\\frac{4M}{\\pi A_{v}}$ 是理想继电器（无迟滞）的描述函数，$A_{v}$ 是继电器输入端的振幅。由于 $N(A_{v})$ 是正实数，振荡频率由相位条件决定\n$$\n\\angle\\big\\{C(j\\omega)\\,G_{p}(j\\omega)\\,\\exp(-j\\omega\\tau)\\big\\}=-\\pi.\n$$\n计算各部分的相位贡献：\n- $C(j\\omega)=1+j\\omega K_{d}$ 的相位为 $\\phi_{C}=\\arctan(\\omega K_{d})$。\n- $G_{p}(j\\omega)=\\frac{K}{j\\omega\\,(j\\omega+a)}$ 的相位为\n$$\n\\phi_{p}=-\\left(\\frac{\\pi}{2}+\\arctan\\!\\left(\\frac{\\omega}{a}\\right)\\right),\n$$\n因为 $1/(j\\omega)$ 贡献 $-\\frac{\\pi}{2}$，$1/(j\\omega+a)$ 贡献 $-\\arctan(\\omega/a)$，而 $K>0$ 增加零相位。\n- 延迟环节贡献 $\\phi_{\\tau}=-\\omega\\tau$。\n\n因此，总相位为\n$$\n\\phi_{\\text{tot}}=\\arctan(\\omega K_{d})-\\left(\\frac{\\pi}{2}+\\arctan\\!\\left(\\frac{\\omega}{a}\\right)+\\omega\\tau\\right).\n$$\n在期望频率 $\\omega_{1}=\\frac{\\pi}{2\\tau}$ 处施加条件 $\\phi_{\\text{tot}}=-\\pi$ 得到\n$$\n\\arctan(\\omega_{1}K_{d})-\\left(\\frac{\\pi}{2}+\\arctan\\!\\left(\\frac{\\omega_{1}}{a}\\right)+\\frac{\\pi}{2}\\right)=-\\pi,\n$$\n化简后得到\n$$\n\\arctan(\\omega_{1}K_{d})=\\arctan\\!\\left(\\frac{\\omega_{1}}{a}\\right).\n$$\n因为等式两边都在 $(-\\frac{\\pi}{2},\\frac{\\pi}{2})$ 区间内，所以可以得出\n$$\n\\omega_{1}K_{d}=\\frac{\\omega_{1}}{a}\\quad\\Longrightarrow\\quad K_{d}=\\frac{1}{a}.\n$$\n幅值条件将决定振荡的振幅（涉及 $K$ 和 $M$），但它不影响设定频率的 $K_{d}$ 值。因此，使极限环频率为 $\\omega_{1}=\\frac{\\pi}{2\\tau}$ 的精确微分增益是 $K_{d}=\\frac{1}{a}$。", "answer": "$$\\boxed{\\frac{1}{a}}$$", "id": "1588885"}]}