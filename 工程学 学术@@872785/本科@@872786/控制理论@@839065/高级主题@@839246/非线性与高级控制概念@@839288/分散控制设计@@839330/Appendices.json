{"hands_on_practices": [{"introduction": "分散控制虽然结构简单，但并非总是有效。这个练习将通过一个由弹簧连接的双航天器系统的直观例子，展示一个分散控制设计中的典型陷阱。通过分析这个系统，你将亲身体会到为何某些系统模式可能对控制器“不可见”，从而导致无法实现稳定，并理解在设计前进行系统分析的重要性。([@problem_id:1568194])", "problem": "两个质量均为 $m$ 的相同自主航天器，正在远离任何显著引力场的深空中进行编队飞行演习。它们由一根刚度为 $k$ 的轻弹簧连接。在本问题中，它们的运动被限制在连接它们的直线上的一维空间内。设两个航天器在惯性参考系中的位置分别为 $x_1$ 和 $x_2$。\n\n为了保持编队并校正扰动，每个航天器都配备了一个驱动推进器的比例控制器。航天器1上的控制器产生力 $u_1 = -K x_1$，航天器2上的控制器产生力 $u_2 = -K x_2$，其中 $K$ 是一个正常数增益。该控制方案的目标是实现渐近稳定性，即如果系统从其平衡状态（$x_1=0, x_2=0, \\dot{x}_1=0, \\dot{x}_2=0$）受到扰动，它将在时间趋于无穷大时返回该状态。\n\n一位工程师分析了这种分散式控制策略，并得出结论认为它无法实现其目标。以下哪个陈述为这一失败提供了最准确的物理和数学原因？\n\nA. 控制力 $u_1$ 和 $u_2$ 独立施加于每个质量块，无法影响系统质心的集体共模运动，质心将无界漂移。\nB. 仅基于位置的控制律作用如同一个额外的虚拟弹簧，但不能引入阻尼。没有耗散能量的机制，任何振荡的总能量都是守恒的，从而阻止系统静止下来。\nC. 两个比例控制器与物理弹簧之间的相互作用总是为至少一种运动模式创建正反馈回路，导致其振幅呈指数级增长。\nD. 控制作用基于绝对位置。整个系统的整体平移会改变控制力，但不会改变内部弹簧力，从而产生一种不平衡，使得系统对于任何控制增益的选择都内在地不稳定。", "solution": "利用牛顿第二定律，写出施加在每个质量块上的弹簧力和控制力的运动方程。对于航天器1，\n$$\nm \\ddot{x}_{1}=-k(x_{1}-x_{2})-K x_{1},\n$$\n对于航天器2，\n$$\nm \\ddot{x}_{2}=-k(x_{2}-x_{1})-K x_{2}.\n$$\n引入质心坐标和相对坐标，\n$$\ns=\\frac{x_{1}+x_{2}}{2},\\quad r=x_{1}-x_{2},\n$$\n因此 $x_{1}=s+\\frac{r}{2}$ 且 $x_{2}=s-\\frac{r}{2}$。将两个方程相加，得到质心动力学方程：\n$$\nm(\\ddot{x}_{1}+\\ddot{x}_{2})=-K(x_{1}+x_{2}) \\;\\;\\Longrightarrow\\;\\; 2 m \\ddot{s}=-2 K s \\;\\;\\Longrightarrow\\;\\; \\ddot{s}+\\frac{K}{m}s=0.\n$$\n用第一个方程减去第二个方程，得到相对运动方程：\n$$\nm(\\ddot{x}_{1}-\\ddot{x}_{2})=-k\\big[(x_{1}-x_{2})-(x_{2}-x_{1})\\big]-K(x_{1}-x_{2})\n$$\n化简为\n$$\nm \\ddot{r}=-(2 k+K) r \\;\\;\\Longrightarrow\\;\\; \\ddot{r}+\\frac{2 k+K}{m} r=0.\n$$\n两种模式都是无阻尼谐振子。特征方程为\n$$\n\\lambda^{2}+\\frac{K}{m}=0,\\quad \\lambda^{2}+\\frac{2 k+K}{m}=0,\n$$\n其特征值为 $\\lambda=\\pm i\\sqrt{\\frac{K}{m}}$ 和 $\\lambda=\\pm i\\sqrt{\\frac{2 k+K}{m}}$，它们是纯虚数。对于线性时不变系统，渐近稳定性要求所有特征值的实部都严格为负。在这里，所有实部都为零，因此系统不是渐近稳定的；解是有界振荡。\n\n这个结论也可以从能量的角度来考虑。总机械能，\n$$\nE=\\frac{1}{2} m \\dot{x}_{1}^{2}+\\frac{1}{2} m \\dot{x}_{2}^{2}+\\frac{1}{2} k(x_{1}-x_{2})^{2}+\\frac{1}{2} K x_{1}^{2}+\\frac{1}{2} K x_{2}^{2},\n$$\n是动能以及与物理弹簧和比例控制力（其作用相当于指向惯性原点的虚拟弹簧）相关的势能之和。使用 $m \\ddot{x}_{1}=-\\partial V/\\partial x_{1}$ 和 $m \\ddot{x}_{2}=-\\partial V/\\partial x_{2}$，其中 $V=\\frac{1}{2} k(x_{1}-x_{2})^{2}+\\frac{1}{2} K x_{1}^{2}+\\frac{1}{2} K x_{2}^{2}$，可以得到\n$$\n\\dot{E}=m \\dot{x}_{1}\\ddot{x}_{1}+m \\dot{x}_{2}\\ddot{x}_{2}+\\frac{\\partial V}{\\partial x_{1}}\\dot{x}_{1}+\\frac{\\partial V}{\\partial x_{2}}\\dot{x}_{2}=0.\n$$\n因此没有能量耗散；除非初始能量已经为零，否则振幅不会衰减到零。因此，仅基于位置的比例控制作用相当于增加了保守的弹簧，不能产生渐近稳定性。\n\n与选项比较：质心运动不是漂移模式，因为它受到 $-K(x_{1}+x_{2})$ 的控制，所以A不正确。不存在正反馈引起的不稳定性；特征值是纯虚数，所以C和D不正确。正确的原因是B中所述的缺乏阻尼。", "answer": "$$\\boxed{B}$$", "id": "1568194"}, {"introduction": "认识到回路间的交互是分散控制设计的核心挑战后，我们需要一个工具来量化这种影响。相对增益矩阵（RGA）正是为此而生的关键分析方法，它能帮助工程师评估不同控制回路之间的耦合强度。在这个实践中，你将为一个化工过程计算RGA，并学习如何利用其结果为分散控制系统选择最佳的输入-输出配对方案。([@problem_id:1605982])", "problem": "一位化学工程师正在为一个热混合单元设计一个分散控制系统。该系统有两个操纵输入：热流的流速 $u_1$ 和冷流的流速 $u_2$。目标是控制两个过程输出：混合流的总的体积流率 $y_1$ 和混合流的最终温度 $y_2$。\n\n对于与期望操作点的微小偏差，输入和输出之间的稳态关系由线性模型 $\\Delta\\mathbf{y} = K \\Delta\\mathbf{u}$ 描述，其中 $\\mathbf{u} = \\begin{pmatrix} u_1 \\\\ u_2 \\end{pmatrix}$，$\\mathbf{y} = \\begin{pmatrix} y_1 \\\\ y_2 \\end{pmatrix}$，而 $K$ 是系统的稳态增益矩阵。对于这个具体过程，增益矩阵经实验确定为：\n$$\nK = \\begin{pmatrix} 0.8 & 0.2 \\\\ 0.2 & 0.8 \\end{pmatrix}\n$$\n\n为了评估控制回路之间的相互作用程度，该工程师决定使用相对增益矩阵（RGA）分析。RGA矩阵 $\\Lambda$ 的计算公式为 $\\Lambda = K \\circ (K^{-1})^T$，其中 $\\circ$ 表示逐元素（哈达玛）积。一个用于衡量相互作用的总结性指标是 Bristol 的 RGA 数 $\\eta_{RGA}$，对于一个 $n \\times n$ 的系统，其定义为：\n$$\n\\eta_{RGA} = \\sum_{i=1}^{n} \\sum_{j=1}^{n} |\\lambda_{ij} - \\delta_{ij}|\n$$\n其中 $\\lambda_{ij}$ 是 RGA 矩阵 $\\Lambda$ 的元素，而 $\\delta_{ij}$ 是克罗内克 delta（当 $i=j$ 时 $\\delta_{ij}=1$，当 $i \\neq j$ 时 $\\delta_{ij}=0$）。\n\n您需要完成两个目标：\n1.  计算此系统的 Bristol RGA 数 $\\eta_{RGA}$ 的值。将您的最终答案四舍五入到三位有效数字。\n2.  根据您的分析，选择下面最能描述该系统特性和适当的控制配对策略的陈述。建议的“直接”配对是使用输入 $u_1$ 控制输出 $y_1$，使用输入 $u_2$ 控制输出 $y_2$。\n\nA. 该系统存在非常强的相互作用，使用直接配对的分散控制策略是极不可取的，因为它很可能导致不稳定。\nB. 该系统存在显著的相互作用，虽然直接配对可能稳定，但与多变量控制器相比，其性能将严重下降。\nC. 该系统是完全解耦的，这意味着直接配对将作为两个独立的单回路控制器运行，没有任何交叉效应。\nD. 该系统表现出弱相互作用，推荐使用直接配对（$u_1 \\to y_1$, $u_2 \\to y_2$）的分散控制策略，并且预计其性能良好。\nE. 系统相互作用表明，为了实现有效控制，应反转配对（$u_1 \\to y_2$, $u_2 \\to y_1$）。\n\n请以一对数的形式提供您的答案：$\\eta_{RGA}$ 的数值和对应正确陈述的字母。", "solution": "该问题要求计算一个给定 2x2 系统的 Bristol 相对增益矩阵（RGA）数 $\\eta_{RGA}$，并对此值进行解释。\n\n**步骤 1：计算增益矩阵 K 的逆矩阵。**\n给定的稳态增益矩阵是：\n$$\nK = \\begin{pmatrix} 0.8 & 0.2 \\\\ 0.2 & 0.8 \\end{pmatrix}\n$$\n首先，我们求 $K$ 的行列式：\n$$\n\\det(K) = (0.8)(0.8) - (0.2)(0.2) = 0.64 - 0.04 = 0.60\n$$\n一个 2x2 矩阵 $\\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix}$ 的逆矩阵是 $\\frac{1}{ad-bc} \\begin{pmatrix} d & -b \\\\ -c & a \\end{pmatrix}$。\n将此公式应用于 $K$：\n$$\nK^{-1} = \\frac{1}{0.60} \\begin{pmatrix} 0.8 & -0.2 \\\\ -0.2 & 0.8 \\end{pmatrix} = \\begin{pmatrix} \\frac{0.8}{0.6} & -\\frac{0.2}{0.6} \\\\ -\\frac{0.2}{0.6} & \\frac{0.8}{0.6} \\end{pmatrix} = \\begin{pmatrix} \\frac{4}{3} & -\\frac{1}{3} \\\\ -\\frac{1}{3} & \\frac{4}{3} \\end{pmatrix}\n$$\n\n**步骤 2：计算 RGA 矩阵 $\\Lambda$。**\nRGA 矩阵定义为 $\\Lambda = K \\circ (K^{-1})^T$。\n首先，我们求 $K^{-1}$ 的转置。由于 $K^{-1}$ 是一个对称矩阵，其转置等于其本身：\n$$\n(K^{-1})^T = \\begin{pmatrix} \\frac{4}{3} & -\\frac{1}{3} \\\\ -\\frac{1}{3} & \\frac{4}{3} \\end{pmatrix}\n$$\n现在，我们对 $K$ 和 $(K^{-1})^T$ 进行逐元素（哈达玛）积：\n$$\n\\Lambda = K \\circ (K^{-1})^T = \\begin{pmatrix} 0.8 & 0.2 \\\\ 0.2 & 0.8 \\end{pmatrix} \\circ \\begin{pmatrix} \\frac{4}{3} & -\\frac{1}{3} \\\\ -\\frac{1}{3} & \\frac{4}{3} \\end{pmatrix}\n$$\n$$\n\\Lambda = \\begin{pmatrix} 0.8 \\times \\frac{4}{3} & 0.2 \\times (-\\frac{1}{3}) \\\\ 0.2 \\times (-\\frac{1}{3}) & 0.8 \\times \\frac{4}{3} \\end{pmatrix} = \\begin{pmatrix} \\frac{3.2}{3} & -\\frac{0.2}{3} \\\\ -\\frac{0.2}{3} & \\frac{3.2}{3} \\end{pmatrix} = \\begin{pmatrix} \\frac{16}{15} & -\\frac{1}{15} \\\\ -\\frac{1}{15} & \\frac{16}{15} \\end{pmatrix}\n$$\n作为检验，RGA 矩阵的任何行或列的元素之和必须为 1。对于第一行：$\\frac{16}{15} - \\frac{1}{15} = \\frac{15}{15} = 1$。计算是正确的。\n\n**步骤 3：计算 Bristol 的 RGA 数 $\\eta_{RGA}$。**\n给出的定义是 $\\eta_{RGA} = \\sum_{i=1}^{2} \\sum_{j=1}^{2} |\\lambda_{ij} - \\delta_{ij}|$。\n对于一个 2x2 系统，克罗内克 delta 矩阵是单位矩阵 $I = \\begin{pmatrix} 1 & 0 \\\\ 0 & 1 \\end{pmatrix}$。\n所以我们需要计算：\n$$\n\\eta_{RGA} = |\\lambda_{11}-1| + |\\lambda_{12}-0| + |\\lambda_{21}-0| + |\\lambda_{22}-1|\n$$\n代入我们计算出的 $\\Lambda$ 的值：\n$$\n\\eta_{RGA} = \\left|\\frac{16}{15}-1\\right| + \\left|-\\frac{1}{15}-0\\right| + \\left|-\\frac{1}{15}-0\\right| + \\left|\\frac{16}{15}-1\\right|\n$$\n$$\n\\eta_{RGA} = \\left|\\frac{1}{15}\\right| + \\left|-\\frac{1}{15}\\right| + \\left|-\\frac{1}{15}\\right| + \\left|\\frac{1}{15}\\right|\n$$\n$$\n\\eta_{RGA} = \\frac{1}{15} + \\frac{1}{15} + \\frac{1}{15} + \\frac{1}{15} = \\frac{4}{15}\n$$\n现在，我们将这个分数转换为小数，并四舍五入到三位有效数字：\n$$\n\\eta_{RGA} = \\frac{4}{15} \\approx 0.26666...\n$$\n四舍五入到三位有效数字得到 $\\eta_{RGA} = 0.267$。\n\n**步骤 4：解释结果并选择正确的陈述。**\nRGA 数 $\\eta_{RGA}$ 为 0 表示一个完全解耦的系统（对角或反对角）。当该数值从 0 增加时，表示相互作用程度更强。$\\eta_{RGA} \\approx 0.267$ 的值很小且接近 0，这表明控制回路之间的相互作用很弱。\n\n此外，我们检查 RGA 矩阵 $\\Lambda$ 本身。\n$$\n\\Lambda = \\begin{pmatrix} 16/15 & -1/15 \\\\ -1/15 & 16/15 \\end{pmatrix} \\approx \\begin{pmatrix} 1.067 & -0.067 \\\\ -0.067 & 1.067 \\end{pmatrix}\n$$\n配对的经验法则是选择与正且接近 1 的 RGA 元素（$\\lambda_{ij}$）相对应的输入-输出对。\n对于直接配对（$u_1 \\to y_1$, $u_2 \\to y_2$），相应的 RGA 元素是 $\\lambda_{11} = 16/15$ 和 $\\lambda_{22} = 16/15$。两者都为正，并且非常接近 1。\n对于反转配对（$u_1 \\to y_2$, $u_2 \\to y_1$），RGA 元素是 $\\lambda_{21} = -1/15$ 和 $\\lambda_{12} = -1/15$。这些是负值，表明这种配对会导致回路不稳定或反向作用。\n\n因此，弱相互作用（小的 $\\eta_{RGA}$）和对角配对的 RGA 元素接近 1 强烈表明，直接配对（$u_1 \\to y_1$, $u_2 \\to y_2$）是分散控制策略的一个好选择。\n\n让我们评估一下选项：\nA：不正确。相互作用是弱的，不是强的。\nB：不正确。由于相互作用弱，性能下降应该是最小的。\nC：不正确。系统不是完全解耦的，因为 $\\eta_{RGA} \\neq 0$ 且 $\\Lambda$ 的非对角元素不为零。\nD：正确。相互作用是弱的，并且推荐直接配对策略。\nE：不正确。由于 RGA 元素为负，强烈不建议反转配对。\n\n最终答案由数值 0.267 和字母 D 组成。", "answer": "$$\\boxed{\\begin{pmatrix} 0.267 & D \\end{pmatrix}}$$", "id": "1605982"}, {"introduction": "当分析表明系统各回路间的交互作用过强，以至于简单的分散控制无法取得良好性能时，我们便需要采取更主动的设计策略。解耦控制就是一种有效方法，它通过引入一个补偿器，从根本上消除或减弱回路间的耦合。在这个练习中，你将亲自设计一个解耦器，将一个耦合的2x2系统转变为两个独立的单输入单输出系统，从而为后续的控制器设计铺平道路。([@problem_id:1568170])", "problem": "考虑一个线性的、时不变的、双输入双输出 (TITO) 过程，该过程模拟了化学反应器中两个变量之间的相互作用。该过程由以下传递函数矩阵 $G(s)$ 描述：\n$$\nG(s) = \\begin{pmatrix} G_{11}(s) & G_{12}(s) \\\\ G_{21}(s) & G_{22}(s) \\end{pmatrix} = \\begin{pmatrix} \\frac{2}{s+1} & \\frac{1}{s+3} \\\\ \\frac{1.5}{s+4} & \\frac{3}{s+2} \\end{pmatrix}\n$$\n为了简化控制设计，引入了一个预补偿器，也称为解耦器，$D(s)$。该解耦器设计为以下一般结构：\n$$\nD(s) = \\begin{pmatrix} 1 & d_{12}(s) \\\\ d_{21}(s) & 1 \\end{pmatrix}\n$$\n目标是选择非对角元素 $d_{12}(s)$ 和 $d_{21}(s)$ 的传递函数，使得由视在被控对象矩阵 $Q(s) = G(s)D(s)$ 描述的补偿后系统是对角的。这种解耦作用确保了第一个输入只影响第一个输出，第二个输入只影响第二个输出。\n\n确定解耦器元素 $d_{12}(s)$ 和 $d_{21}(s)$ 的解析表达式。将你的最终答案表示为一个 1x2 的行矩阵，其中 $d_{12}(s)$ 是第一个元素，$d_{21}(s)$ 是第二个元素。", "solution": "我们已知 TITO 被控对象\n$$\nG(s)=\\begin{pmatrix}\nG_{11}(s) & G_{12}(s)\\\\\nG_{21}(s) & G_{22}(s)\n\\end{pmatrix}\n=\n\\begin{pmatrix}\n\\frac{2}{s+1} & \\frac{1}{s+3}\\\\\n\\frac{1.5}{s+4} & \\frac{3}{s+2}\n\\end{pmatrix},\n$$\n和一个右预补偿器 (解耦器)\n$$\nD(s)=\\begin{pmatrix}\n1 & d_{12}(s)\\\\\nd_{21}(s) & 1\n\\end{pmatrix}.\n$$\n补偿后的 (视在) 被控对象是\n$$\nQ(s)=G(s)D(s).\n$$\n矩阵相乘得到\n$$\nQ(s)=\\begin{pmatrix}\nG_{11}+G_{12}d_{21} & G_{11}d_{12}+G_{12}\\\\\nG_{21}+G_{22}d_{21} & G_{21}d_{12}+G_{22}\n\\end{pmatrix}.\n$$\n为实现解耦，我们需要非对角线项为零：\n$$\nG_{11}d_{12}+G_{12}=0,\\qquad G_{21}+G_{22}d_{21}=0.\n$$\n求解这些关于解耦器元素的线性方程，得到\n$$\nd_{12}(s)=-\\frac{G_{12}(s)}{G_{11}(s)},\\qquad d_{21}(s)=-\\frac{G_{21}(s)}{G_{22}(s)}.\n$$\n代入给定的传递函数，\n$$\nd_{12}(s)=-\\frac{\\frac{1}{s+3}}{\\frac{2}{s+1}}=-\\frac{s+1}{2(s+3)},\n\\qquad\nd_{21}(s)=-\\frac{\\frac{1.5}{s+4}}{\\frac{3}{s+2}}=-\\frac{1.5(s+2)}{3(s+4)}=-\\frac{0.5(s+2)}{s+4}=-\\frac{s+2}{2(s+4)}.\n$$\n解耦验证：\n$$\nQ_{12}=G_{11}d_{12}+G_{12}=\\frac{2}{s+1}\\left(-\\frac{s+1}{2(s+3)}\\right)+\\frac{1}{s+3}=-\\frac{1}{s+3}+\\frac{1}{s+3}=0,\n$$\n$$\nQ_{21}=G_{21}+G_{22}d_{21}=\\frac{1.5}{s+4}+\\frac{3}{s+2}\\left(-\\frac{s+2}{2(s+4)}\\right)=\\frac{1.5}{s+4}-\\frac{1.5}{s+4}=0.\n$$\n因此，所选的 $d_{12}(s)$ 和 $d_{21}(s)$ 实现了对角的视在被控对象 $Q(s)$。", "answer": "$$\\boxed{\\begin{pmatrix}-\\frac{s+1}{2(s+3)} & -\\frac{s+2}{2(s+4)}\\end{pmatrix}}$$", "id": "1568170"}]}