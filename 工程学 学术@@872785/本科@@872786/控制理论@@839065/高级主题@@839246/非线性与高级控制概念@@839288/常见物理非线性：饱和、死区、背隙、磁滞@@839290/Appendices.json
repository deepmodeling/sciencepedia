{"hands_on_practices": [{"introduction": "死区是在机械系统中常见的非线性现象，通常由静摩擦或“粘滞”引起。在电机开始转动之前，施加的电压或力必须克服这种初始阻力。本练习精确地模拟了这一情景，要求你计算当控制信号是一个缓慢斜坡时，电机从启动到达到目标速度所需的时间。通过解决这个问题 [@problem_id:1563700]，你将具体理解死区是如何转化为可感知的响应延迟的。", "problem": "我们正在分析一个小型直流（DC）电机的控制系统。一个控制器产生输出电压 $V_{out}$，该电压与指令信号 $V_{in}$ 成正比，其关系式为 $V_{out} = K V_{in}$，其中 $K$ 是一个无量纲的正增益。\n\n由于其齿轮箱中存在静摩擦，电机本身表现出非理想行为。只有当施加电压的绝对值 $|V_{out}|$ 超过阈值电压 $V_{th}$ 时，电机轴才会开始转动。对于超过此阈值的施加电压，电机的稳态角速度 $\\omega$ 由线性关系 $\\omega = G(|V_{out}| - V_{th})$ 给出，其中 $G$ 是一个单位为 rad/(V·s) 的正常数。如果施加电压的绝对值小于或等于该阈值，则角速度为零。\n\n系统初始处于静止状态，输入为零。在时间 $t=0$ 时，指令信号从零开始线性增加，遵循方程 $V_{in}(t) = \\alpha t$（对于 $t \\ge 0$），其中 $\\alpha$ 是一个单位为 V/s 的正常数。\n\n推导一个符号表达式，表示电机角速度首次达到目标值 $\\omega_f$ 的时间 $t_f$。你的表达式应使用参数 $K$、$V_{th}$、$G$、$\\alpha$ 和 $\\omega_f$ 来表示。", "solution": "对于斜坡输入，控制器的输出由 $V_{out} = K V_{in}$ 和 $V_{in}(t) = \\alpha t$ 得到，即\n$$\nV_{out}(t) = K \\alpha t \\quad \\text{（对于 } t \\ge 0\\text{）。}\n$$\n由于存在静摩擦阈值，电机直到 $|V_{out}(t)| > V_{th}$ 时才开始运动。由于 $\\alpha0$ 且 $K0$，有 $V_{out}(t) \\ge 0$，因此越过阈值的时间 $t_{th}$ 满足\n$$\nK \\alpha t_{th} = V_{th} \\;\\;\\Rightarrow\\;\\; t_{th} = \\frac{V_{th}}{K \\alpha}.\n$$\n对于 $t \\ge t_{th}$，稳态角速度为\n$$\n\\omega(t) = G\\big(|V_{out}(t)| - V_{th}\\big) = G\\big(K \\alpha t - V_{th}\\big),\n$$\n而对于 $t \\le t_{th}$，$\\omega(t)=0$。由于当 $t \\ge t_{th}$ 时 $\\omega(t)$ 线性增加，它首次达到正目标值 $\\omega_{f}$ 的时间满足\n$$\n\\omega_{f} = G\\big(K \\alpha t_{f} - V_{th}\\big).\n$$\n求解 $t_{f}$ 可得\n$$\nt_{f} = \\frac{\\omega_{f}/G + V_{th}}{K \\alpha} = \\frac{\\omega_{f} + G V_{th}}{G K \\alpha}.\n$$\n只要 $\\omega_{f} \\ge 0$，该解就满足 $t_{f} \\ge t_{th}$，因为 $t_{f} - t_{th} = \\frac{\\omega_{f}}{G K \\alpha} \\ge 0$。如果 $\\omega_{f}=0$，则电机 $\\omega=0$ 的最早时间是 $t=0$；对于预期的正目标速度，上述表达式适用。", "answer": "$$\\boxed{\\frac{\\omega_{f}+G V_{th}}{G K \\alpha}}$$", "id": "1563700"}, {"introduction": "如果说死区影响的是小信号，那么饱和则影响大信号。从电机到阀门，每个物理执行器都有其最大输出极限。这个练习 [@problem_id:1563707] 探讨了在一个机械臂控制系统中，这种饱和现象所带来的后果。你将确定机械臂在跟踪目标时，其放大器不达到电压极限的最大速度，从而将饱和这一抽象概念与一个关键的性能限制直接联系起来。", "problem": "一个单位反馈控制系统被设计用来管理机器人操纵器的角位置$\\theta(t)$。该被控对象包括电机和操纵臂，被建模为一个纯积分器。将输入电机电压$v(t)$与输出角位置$\\theta(t)$关联的传递函数由$G_p(s) = \\frac{\\Theta(s)}{V(s)} = \\frac{K_m}{s}$给出。\n\n一个增益为$K_p$的比例控制器计算误差信号，其输出随后被发送到一个功率放大器。然而，该放大器表现出对称饱和非线性特性。驱动电机的放大器输出电压$v(t)$被限制在最大绝对值$V_{max}$。\n\n系统被指令去跟踪一个参考斜坡输入，$r(t) = R \\cdot t$（对于$t \\geq 0$），其中$R$是恒定的目标角速度。假设系统可以达到一种稳态条件，在该条件下它以恒定误差跟踪该斜坡输入。\n\n确定最大的可能斜坡率$R_{max}$，在该斜坡率下，功率放大器在稳态跟踪期间将持续工作在线性区域内。\n\n系统参数如下：\n- 电机增益: $K_m = 0.50 \\text{ rad/(V}\\cdot\\text{s)}$\n- 比例控制器增益: $K_p = 10.0 \\text{ V/rad}$\n- 放大器饱和电压: $V_{max} = 12.0 \\text{ V}$\n\n用rad/s表示你的答案$R_{max}$。提供精确的数值。", "solution": "被控对象的传递函数为$G_{p}(s)=\\frac{K_{m}}{s}$，这在时域中意味着$\\dot{\\theta}(t)=K_{m} v(t)$。对于单位反馈，误差为$e(t)=r(t)-\\theta(t)$。比例控制器的输出为$u_{c}(t)=K_{p} e(t)$，功率放大器的输出为$v(t)$，在线性区域内其值等于$u_{c}(t)$，否则饱和在$\\pm V_{\\max}$。\n\n对于斜坡输入$r(t)=R t$并假设以恒定误差$e_{\\text{ss}}$进行稳态跟踪，我们有$\\theta(t)=R t - e_{\\text{ss}}$，所以求导可得$\\dot{\\theta}(t)=R$。根据被控对象的关系式，\n$$\n\\dot{\\theta}(t)=K_{m} v_{\\text{ss}} \\quad \\Rightarrow \\quad v_{\\text{ss}}=\\frac{R}{K_{m}}.\n$$\n在稳态的线性区域内，$v_{\\text{ss}}=K_{p} e_{\\text{ss}}$，得到$e_{\\text{ss}}=\\frac{R}{K_{p} K_{m}}$，这与速度常数$K_{v}=K_{p} K_{m}$的标准结果相符。\n\n为了在稳态跟踪中避免饱和，放大器的输出必须满足\n$$\n|v_{\\text{ss}}| \\leq V_{\\max} \\quad \\Rightarrow \\quad \\left|\\frac{R}{K_{m}}\\right| \\leq V_{\\max} \\quad \\Rightarrow \\quad |R| \\leq K_{m} V_{\\max}.\n$$\n因此，保持放大器线性的最大斜坡率是\n$$\nR_{\\max}=K_{m} V_{\\max}.\n$$\n代入给定值$K_{m}=0.50$和$V_{\\max}=12.0$，\n$$\nR_{\\max}=0.50 \\times 12.0 = 6.0.\n$$", "answer": "$$\\boxed{6}$$", "id": "1563707"}, {"introduction": "识别和分析非线性至关重要，但下一步往往是减轻其负面影响。本练习 [@problem_id:1563690] 从分析转向设计，要求你创建一个预补偿器来抵消执行器的死区效应。为了证明你设计的有效性，你需要量化系统在跟踪正弦信号时的改善程度，这项任务将引导你使用傅里叶分析这一强大工具来评估非线性系统的性能。", "problem": "一个用于高精度机器人手臂的控制系统采用了一个电动执行器，其响应表现出死区非线性。执行器的输入电压 $u$ 与其输出速度 $y_{act}$ 之间的关系在数学上建模为：\n$$\ny_{act} =\n\\begin{cases}\nK_{act}(u - \\delta)   \\text{for } u  \\delta \\\\\n0   \\text{for } -\\delta \\leq u \\leq \\delta \\\\\nK_{act}(u + \\delta)   \\text{for } u  -\\delta\n\\end{cases}\n$$\n其中 $\\delta$ 是死区半宽度，而 $K_{act}$ 是激活区内的执行器增益。\n\n为了实现精确跟踪，控制器生成一个期望的正弦速度曲线 $v(t) = V_0 \\sin(\\omega t)$。我们将分析两种驱动执行器的方案。\n\n方案1（未补偿）：控制器的输出 $v(t)$ 直接施加于执行器，即 $u(t) = v(t)$。\n\n方案2（已补偿）：在控制器和执行器之间放置一个理想的逆预补偿器。该预补偿器以期望速度 $v(t)$ 作为其输入，并生成所需的执行器输入电压 $u(t)$，以完美地线性化响应，使得执行器的输出 $y_{act}(t)$ 理想地匹配 $v(t)$。\n\n为了量化跟踪保真度的改善，我们比较两种方案中执行器输出信号的基频分量的振幅。设 $B_1$ 为未补偿系统的基波振幅，$B_2$ 为已补偿系统的基波振幅。\n\n给定参数 $V_0 = 0.5 \\text{ V}$，$\\delta = 0.2 \\text{ V}$ 和 $K_{act} = 1.5$，计算改善比 $R = B_2 / B_1$。请将您的答案表示为一个无量纲实数，并四舍五入到三位有效数字。", "solution": "问题要求计算补偿系统与未补偿系统的执行器输出基波振幅之比，$R = B_2/B_1$。我们将分别分析每种情况以求出 $B_1$ 和 $B_2$。\n\n**步骤1：分析补偿系统（方案2）**\n\n在此方案中，使用了一个理想的逆预补偿器。其目的是为执行器生成一个输入 $u(t)$，使得执行器的输出 $y_{act}(t)$ 等于期望的速度曲线 $v(t) = V_0 \\sin(\\omega t)$。\n\n让我们推导逆函数 $u = f^{-1}(v)$，其中 $y_{act} = f(u)$ 是死区函数。\n- 如果我们想要 $y_{act} = v > 0$，我们必须处于区域 $u > \\delta$。执行器方程为 $v = K_{act}(u - \\delta)$。解出 $u$ 得 $u = \\frac{v}{K_{act}} + \\delta$。\n- 如果我们想要 $y_{act} = v  0$，我们必须处于区域 $u  -\\delta$。执行器方程为 $v = K_{act}(u + \\delta)$。解出 $u$ 得 $u = \\frac{v}{K_{act}} - \\delta$。\n- 如果我们想要 $y_{act} = v = 0$，$u$ 可以在 $[-\\delta, \\delta]$ 区间内的任何位置。我们可以选择 $u=0$。\n\n这些可以合并为预补偿器输出的单个表达式：\n$$\nu(t) = \\frac{v(t)}{K_{act}} + \\delta \\cdot \\text{sgn}(v(t))\n$$\n使用此预补偿器，执行器的输出为 $y_{act,2}(t) = v(t) = V_0 \\sin(\\omega t)$。这是一个纯正弦信号。纯正弦波的基波振幅就是其自身的振幅。\n因此，$B_2 = V_0$。\n\n**步骤2：分析未补偿系统（方案1）**\n\n在此方案中，执行器的输入为 $u(t) = v(t) = V_0 \\sin(\\omega t)$。将此代入死区模型，得到执行器的输出 $y_{act,1}(t)$。只有当 $|u(t)| > \\delta$ 或 $|V_0 \\sin(\\omega t)| > \\delta$ 时，输出才非零。\n\n为了求出基波振幅 $B_1$，我们计算周期信号 $y_{act,1}(t)$ 的傅里叶级数系数。由于死区函数 $f(u)$ 是一个奇函数（$f(-u) = -f(u)$），并且输入 $u(t)$ 也是一个奇函数，因此输出 $y_{act,1}(t) = f(u(t))$ 也是一个奇函数。因此，所有的余弦系数（$a_n$）都为零。基波振幅 $B_1$ 就是第一个正弦系数 $b_1$ 的大小。\n\n$$\nB_1 = b_1 = \\frac{2}{T} \\int_0^T y_{act,1}(t) \\sin(\\omega t) dt\n$$\n我们将积分变量改为 $\\theta = \\omega t$，因此 $dt = d\\theta/\\omega$ 且 $T=2\\pi/\\omega$。\n$$\nB_1 = \\frac{2}{2\\pi/\\omega} \\int_0^{2\\pi} y_{act,1}(\\theta/\\omega) \\sin(\\theta) \\frac{d\\theta}{\\omega} = \\frac{1}{\\pi} \\int_0^{2\\pi} y_{act,1}(\\theta/\\omega) \\sin(\\theta) d\\theta\n$$\n当 $|V_0 \\sin\\theta| > \\delta$ 时，执行器被激活。我们定义 $\\theta_d = \\arcsin(\\frac{\\delta}{V_0})$，其中 $0  \\theta_d  \\pi/2$。在一个周期 $[0, 2\\pi]$ 内，执行器在两个区间内被激活：\n1.  当 $\\theta \\in (\\theta_d, \\pi - \\theta_d)$ 时，$u(\\theta/\\omega) = V_0 \\sin\\theta > \\delta$。输出为 $y_{act,1} = K_{act}(V_0 \\sin\\theta - \\delta)$。\n2.  当 $\\theta \\in (\\pi + \\theta_d, 2\\pi - \\theta_d)$ 时，$u(\\theta/\\omega) = V_0 \\sin\\theta  -\\delta$。输出为 $y_{act,1} = K_{act}(V_0 \\sin\\theta + \\delta)$。\n\n$B_1$ 的积分变为：\n$$\nB_1 = \\frac{1}{\\pi} \\left[ \\int_{\\theta_d}^{\\pi-\\theta_d} K_{act}(V_0 \\sin\\theta - \\delta)\\sin\\theta \\,d\\theta + \\int_{\\pi+\\theta_d}^{2\\pi-\\theta_d} K_{act}(V_0 \\sin\\theta + \\delta)\\sin\\theta \\,d\\theta \\right]\n$$\n根据对称性，第二个积分等于第一个积分。让我们通过代换 $\\phi = \\theta - \\pi$ 来验证。\n$\\int_{\\theta_d}^{\\pi-\\theta_d} K_{act}(V_0 \\sin(\\phi+\\pi) + \\delta)\\sin(\\phi+\\pi) \\,d\\phi = \\int_{\\theta_d}^{\\pi-\\theta_d} K_{act}(-V_0 \\sin\\phi + \\delta)(-\\sin\\phi) \\,d\\phi = \\int_{\\theta_d}^{\\pi-\\theta_d} K_{act}(V_0 \\sin\\phi - \\delta)\\sin\\phi \\,d\\phi$。\n因此，这两个积分确实是相同的。\n$$\nB_1 = \\frac{2K_{act}}{\\pi} \\int_{\\theta_d}^{\\pi-\\theta_d} (V_0 \\sin^2\\theta - \\delta \\sin\\theta) \\,d\\theta\n$$\n我们逐项计算积分：\n$\\int (\\sin^2\\theta) d\\theta = \\frac{\\theta}{2} - \\frac{\\sin(2\\theta)}{4}$\n$\\int (\\sin\\theta) d\\theta = -\\cos\\theta$\n所以，$\\int_{\\theta_d}^{\\pi-\\theta_d} (V_0 \\sin^2\\theta - \\delta \\sin\\theta) \\,d\\theta = \\left[ V_0\\left(\\frac{\\theta}{2} - \\frac{\\sin(2\\theta)}{4}\\right) + \\delta \\cos\\theta \\right]_{\\theta_d}^{\\pi-\\theta_d}$\n在积分上下限处求值：\n$= \\left( V_0\\left(\\frac{\\pi-\\theta_d}{2} - \\frac{\\sin(2\\pi-2\\theta_d)}{4}\\right) + \\delta \\cos(\\pi-\\theta_d) \\right) - \\left( V_0\\left(\\frac{\\theta_d}{2} - \\frac{\\sin(2\\theta_d)}{4}\\right) + \\delta \\cos\\theta_d \\right)$\n使用 $\\sin(2\\pi-2\\theta_d)=-\\sin(2\\theta_d)$ 和 $\\cos(\\pi-\\theta_d)=-\\cos\\theta_d$：\n$= V_0\\left(\\frac{\\pi-2\\theta_d}{2} - \\frac{-\\sin(2\\theta_d)-\\sin(2\\theta_d)}{4}\\right) + \\delta(-\\cos\\theta_d - \\cos\\theta_d)$\n$= V_0\\left(\\frac{\\pi}{2} - \\theta_d + \\frac{\\sin(2\\theta_d)}{2}\\right) - 2\\delta \\cos\\theta_d$\n使用 $\\sin(2\\theta_d) = 2\\sin\\theta_d\\cos\\theta_d$：\n$= V_0\\left(\\frac{\\pi}{2} - \\theta_d + \\sin\\theta_d\\cos\\theta_d\\right) - 2\\delta \\cos\\theta_d$\n现在代入 $\\delta = V_0 \\sin\\theta_d$：\n$= V_0\\left(\\frac{\\pi}{2} - \\theta_d + \\sin\\theta_d\\cos\\theta_d\\right) - 2(V_0\\sin\\theta_d) \\cos\\theta_d = V_0\\left(\\frac{\\pi}{2} - \\theta_d - \\sin\\theta_d\\cos\\theta_d\\right)$\n将此代回 $B_1$ 的表达式中：\n$$\nB_1 = \\frac{2 K_{act} V_0}{\\pi} \\left( \\frac{\\pi}{2} - \\theta_d - \\sin\\theta_d \\cos\\theta_d \\right)\n$$\n\n**步骤3：计算改善比 R**\n\n改善比为 $R = B_2 / B_1$。\n$$\nR = \\frac{V_0}{\\frac{2 K_{act} V_0}{\\pi} \\left( \\frac{\\pi}{2} - \\theta_d - \\sin\\theta_d \\cos\\theta_d \\right)} = \\frac{\\pi}{2 K_{act} \\left( \\frac{\\pi}{2} - \\theta_d - \\sin\\theta_d \\cos\\theta_d \\right)}\n$$\n\n**步骤4：代入数值**\n给定参数为 $V_0 = 0.5$，$\\delta = 0.2$ 和 $K_{act} = 1.5$。首先，我们求出 $\\theta_d$：\n$$\n\\sin\\theta_d = \\frac{\\delta}{V_0} = \\frac{0.2}{0.5} = 0.4\n$$\n$$\n\\theta_d = \\arcsin(0.4) \\approx 0.4115168 \\text{ radians}\n$$\n我们还需要 $\\cos\\theta_d$：\n$$\n\\cos\\theta_d = \\sqrt{1 - \\sin^2\\theta_d} = \\sqrt{1 - 0.4^2} = \\sqrt{1 - 0.16} = \\sqrt{0.84} \\approx 0.9165151\n$$\n现在，我们计算分母中的项：\n$$\n\\frac{\\pi}{2} - \\theta_d - \\sin\\theta_d \\cos\\theta_d = \\frac{\\pi}{2} - \\arcsin(0.4) - (0.4)\\sqrt{0.84}\n$$\n$$\n\\approx 1.570796 - 0.411517 - (0.4)(0.916515) \\approx 1.570796 - 0.411517 - 0.366606 \\approx 0.792673\n$$\n现在，我们计算 R 的完整分母：\n$$\n2 K_{act} (\\dots) = 2 \\times 1.5 \\times 0.792673 = 3 \\times 0.792673 = 2.378019\n$$\n最后，我们计算 R：\n$$\nR = \\frac{\\pi}{2.378019} \\approx \\frac{3.141593}{2.378019} \\approx 1.32110\n$$\n四舍五入到三位有效数字，我们得到 $1.32$。", "answer": "$$\\boxed{1.32}$$", "id": "1563690"}]}