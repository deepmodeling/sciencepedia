{"hands_on_practices": [{"introduction": "PID 控制器是工业自动化的主力，但并非所有控制器在数学上都以相同的方式表示。不同的软件和硬件平台常常使用不同的数学形式，例如标准型和并行型。本练习 [@problem_id:1574102] 提供了在这些常见形式之间进行转换的动手实践，这是一项确保整定参数在不同系统中正确应用的关键技能。", "problem": "在工业自动化领域，比例-积分-微分 (PID) 控制器得到了普遍应用。然而，不同的制造商和软件平台通常对控制器使用不同的参数化形式。一位工程师的任务是将一组整定参数从一个旧控制器迁移到一个新的仿真环境中。\n\n旧控制器使用**标准形式**（也称为交互形式），其传递函数 $C_{std}(s)$ 由下式给出：\n$$C_{std}(s) = K_p \\left(1 + \\frac{1}{T_i s} + T_d s\\right)$$\n其中，$K_p$ 是比例增益，$T_i$ 是积分时间，$T_d$ 是微分时间。\n\n新的仿真软件需要**并行形式**（也称为理想形式或非交互形式）的参数，其传递函数 $C_{par}(s)$ 由下式给出：\n$$C_{par}(s) = K_p' + \\frac{K_i}{s} + K_d s$$\n其中，$K_p'$ 是比例增益，$K_i$ 是积分增益，$K_d$ 是微分增益。\n\n旧控制器的参数记录为 $K_p = 5.0$，$T_i = 2.0 \\text{ s}$ 和 $T_d = 0.50 \\text{ s}$。为确保新控制器的行为与旧控制器完全相同，工程师必须找到等效的并行形式增益。\n\n确定并行形式增益 $K_p'$、$K_i$ 和 $K_d$ 的数值。请以对应于 $(K_p', K_i, K_d)$ 的一组三个数字的形式给出答案。", "solution": "给定标准形式的传递函数定义为 $C_{std}(s) = K_{p}\\left(1 + \\frac{1}{T_{i}s} + T_{d}s\\right)$，并行形式的传递函数为 $C_{par}(s) = K_{p}' + \\frac{K_{i}}{s} + K_{d}s$。为了使两种形式对所有 $s$ 都匹配，我们展开标准形式：\n$$\nC_{std}(s) = K_{p} + \\frac{K_{p}}{T_{i}}\\frac{1}{s} + K_{p}T_{d}\\,s.\n$$\n将其系数与 $C_{par}(s)$ 的系数进行比较，得到以下恒等式\n$$\nK_{p}' = K_{p}, \\quad K_{i} = \\frac{K_{p}}{T_{i}}, \\quad K_{d} = K_{p}T_{d}.\n$$\n将给定的数值 $K_{p} = 5.0$，$T_{i} = 2.0$ 和 $T_{d} = 0.50$ 代入，得到\n$$\nK_{p}' = 5.0, \\quad K_{i} = \\frac{5.0}{2.0} = 2.5, \\quad K_{d} = 5.0 \\times 0.50 = 2.5.\n$$", "answer": "$$\\boxed{(5.0, 2.5, 2.5)}$$", "id": "1574102"}, {"introduction": "一旦我们理解了控制器的结构，下一步就是对其进行整定以满足性能指标。本练习 [@problem_id:1574078] 从静态设定点转向动态跟踪问题，要求您计算出精确的比例增益，以在跟踪一个温度斜坡信号时达到指定的稳态误差。这个练习将系统类型和误差常数的理论概念与实现精确控制的实际目标联系起来。", "problem": "一个用于稳定激光晶体的高精度温控箱由一个反馈控制系统进行调节。该温控箱的传递函数 $G_p(s)$ 描述了箱内温度变化 $\\Delta\\Theta(s)$ (单位：摄氏度, $^{\\circ}\\mathrm{C}$) 与加热器输入功率 $P(s)$ (单位：瓦特, W) 之间的关系，由一个二阶模型给出：\n$$G_p(s) = \\frac{\\Delta\\Theta(s)}{P(s)} = \\frac{K}{(\\tau_1 s + 1)(\\tau_2 s + 1)}$$\n系统参数已确定如下：\n- 直流增益, $K = 0.50\\,^{\\circ}\\mathrm{C}/\\mathrm{W}$\n- 主时间常数, $\\tau_1 = 40.0 \\ \\text{s}$\n- 次时间常数, $\\tau_2 = 10.0 \\ \\text{s}$\n\n系统采用比例-积分 (PI) 控制器来管理加热器功率。其传递函数为：\n$$C(s) = K_p \\left(1 + \\frac{1}{T_i s}\\right)$$\n其中 $K_p$ 是比例增益，$T_i$ 是积分时间。根据标准的整定方法，积分时间 $T_i$ 被设定为等于热过程的主导（即最大）时间常数。\n\n系统需要跟踪一个线性温度斜坡设定值，定义为 $r(t) = \\alpha t$，其中斜坡速率为 $\\alpha = 0.050\\,^{\\circ}\\mathrm{C}/\\mathrm{s}$。你的任务是计算能使稳态跟踪误差恰好为 $e_{ss} = 0.30\\,^{\\circ}\\mathrm{C}$ 的比例增益 $K_p$ 的具体值。\n\n请以瓦特/摄氏度 ($\\mathrm{W}/^{\\circ}\\mathrm{C}$)为单位表示你的答案，并四舍五入至三位有效数字。", "solution": "题目要求在给定一个二阶过程的情况下，计算PI控制器的比例增益 $K_p$，使得系统对于斜坡输入的稳态误差达到一个特定值。\n\n首先，我们定义闭环反馈系统的各个组成部分。\n过程传递函数为 $G_p(s) = \\frac{K}{(\\tau_1 s + 1)(\\tau_2 s + 1)}$。\n控制器传递函数为 $C(s) = K_p \\left(1 + \\frac{1}{T_i s}\\right)$。\n设定值为斜坡输入 $r(t) = \\alpha t$，其在拉普拉斯域中的表达式为 $R(s) = \\mathcal{L}\\{\\alpha t\\} = \\frac{\\alpha}{s^2}$。\n\n题目指出，积分时间 $T_i$ 被设定为过程的主导（最大）时间常数。比较 $\\tau_1 = 40.0 \\ \\text{s}$ 和 $\\tau_2 = 10.0 \\ \\text{s}$，主导时间常数为 $\\tau_1$。因此，我们设定 $T_i = \\tau_1$。\n\n控制器传递函数可以重写为：\n$$C(s) = K_p \\frac{T_i s + 1}{T_i s} = K_p \\frac{\\tau_1 s + 1}{\\tau_1 s}$$\n\n系统的开环传递函数为 $L(s) = C(s)G_p(s)$。\n$$L(s) = \\left(K_p \\frac{\\tau_1 s + 1}{\\tau_1 s}\\right) \\left(\\frac{K}{(\\tau_1 s + 1)(\\tau_2 s + 1)}\\right)$$\n我们可以看到 $(\\tau_1 s + 1)$ 项被消去：\n$$L(s) = \\frac{K_p K}{s \\tau_1 (\\tau_2 s + 1)}$$\n$L(s)$ 分母中存在的 $s$ 项表明这是一个1型系统。\n\n稳态误差 $e_{ss}$ 可以使用终值定理求得：\n$$e_{ss} = \\lim_{t \\to \\infty} e(t) = \\lim_{s \\to 0} s E(s)$$\n在单位反馈系统中，误差信号 $E(s)$ 由下式给出：\n$$E(s) = \\frac{R(s)}{1 + L(s)}$$\n将此式代入 $e_{ss}$ 的表达式中：\n$$e_{ss} = \\lim_{s \\to 0} s \\frac{R(s)}{1 + L(s)} = \\lim_{s \\to 0} s \\frac{\\alpha/s^2}{1 + L(s)} = \\lim_{s \\to 0} \\frac{\\alpha}{s(1 + L(s))} = \\lim_{s \\to 0} \\frac{\\alpha}{s + s L(s)}$$\n对于一个1型系统，当输入为斜坡信号时，其稳态误差是一个非零的有限值。该值由 $e_{ss} = \\frac{\\alpha}{K_v}$ 给出，其中 $K_v$ 是静态速度误差常数。\n\n速度误差常数 $K_v$ 定义为：\n$$K_v = \\lim_{s \\to 0} s L(s)$$\n代入我们得到的 $L(s)$ 表达式：\n$$K_v = \\lim_{s \\to 0} s \\left( \\frac{K_p K}{s \\tau_1 (\\tau_2 s + 1)} \\right) = \\lim_{s \\to 0} \\frac{K_p K}{\\tau_1 (\\tau_2 s + 1)}$$\n计算该极限：\n$$K_v = \\frac{K_p K}{\\tau_1 (\\tau_2 \\cdot 0 + 1)} = \\frac{K_p K}{\\tau_1}$$\n现在我们可以用 $K_p$ 和已知的系统参数来表示稳态误差：\n$$e_{ss} = \\frac{\\alpha}{K_v} = \\frac{\\alpha}{K_p K / \\tau_1} = \\frac{\\alpha \\tau_1}{K_p K}$$\n题目要求我们找出能产生特定稳态误差 $e_{ss} = 0.30\\,^{\\circ}\\mathrm{C}$ 的 $K_p$ 值。我们可以重新整理方程来求解 $K_p$：\n$$K_p = \\frac{\\alpha \\tau_1}{e_{ss} K}$$\n现在，我们代入给定的数值：\n- $\\alpha = 0.050\\,^{\\circ}\\mathrm{C}/\\mathrm{s}$\n- $\\tau_1 = 40.0 \\ \\text{s}$\n- $e_{ss} = 0.30\\,^{\\circ}\\mathrm{C}$\n- $K = 0.50\\,^{\\circ}\\mathrm{C}/\\mathrm{W}$\n\n$$K_p = \\frac{(0.050)(40.0)}{(0.30)(0.50)} = \\frac{2.0}{0.15}$$\n$$K_p = \\frac{200}{15} = \\frac{40}{3} \\approx 13.333...\\,\\mathrm{W}/^{\\circ}\\mathrm{C}$$\n$K_p$ 的单位可以从其在控制器中的定义推导出来。误差信号的单位是 $^{\\circ}$C。控制器输出是功率，单位为 W。因此，比例增益 $K_p$ 的单位是 $\\mathrm{W}/^{\\circ}\\mathrm{C}$。\n\n题目要求答案保留三位有效数字。\n$$K_p \\approx 13.3$$", "answer": "$$\\boxed{13.3}$$", "id": "1574078"}, {"introduction": "有效的控制器整定通常始于通过经验测试来理解过程本身。这最后一个练习 [@problem_id:1574063] 模拟了一个完整的工程工作流程，从分析系统的阶跃响应曲线到辨识一阶加死区（FOPDT）模型。然后，您将使用这个模型和标准的整定规则来计算控制器增益，并比较不同的参数辨识方法如何影响最终的整定结果。", "problem": "一位工程师正在对一款新型高性能中央处理器（CPU）的热响应进行系统辨识测试。其目标是创建一个动态模型，用以设计一个用于温度调节的比例-积分（PI）反馈控制器。操作变量是散热风扇的占空比 $u$，以百分比（%）表示；被控变量是 CPU 的核心温度 $T$，以摄氏度（$^{\\circ}\\mathrm{C}$）表示。\n\n该过程假定可以通过一个一阶加纯滞后（FOPDT）传递函数来建模：\n$$G(s) = \\frac{T(s)}{U(s)} = \\frac{K_p e^{-\\theta s}}{\\tau s + 1}$$\n其中 $K_p$ 是过程增益，$\\tau$ 是时间常数，$\\theta$ 是纯滞后时间。\n\n为了辨识这些参数，进行了一次阶跃测试。系统初始处于稳态，温度为 $T_i = 85.0\\,^{\\circ}\\mathrm{C}$，风扇占空比为 $u_i = 50.0\\%$。在时间 $t=0$ 时，风扇占空比突增至 $u_f = 70.0\\%$。随后，温度开始下降，最终稳定在一个新的稳态值 $T_f = 62.0\\,^{\\circ}\\mathrm{C}$。\n\n对记录的温度数据进行分析，得到以下关键信息：\n1.  温度完成其总变化量 25% 所需的时间为 $t_{25} = 5.20$ 秒。\n2.  温度完成其总变化量 75% 所需的时间为 $t_{75} = 15.8$ 秒。\n3.  另一项分析表明，在温度-时间曲线上最大斜率点处绘制的切线与初始温度线（$T=85.0\\,^{\\circ}\\mathrm{C}$）相交于时间 $t_a = 2.80$ 秒，与最终温度线（$T=62.0\\,^{\\circ}\\mathrm{C}$）相交于时间 $t_b = 11.5$ 秒。\n\n您的任务是比较两种不同的参数估计方法。\n首先，使用点 1 和 2 的信息（两点法）确定一组 FOPDT 参数（$K_p$, $\\tau_1$, $\\theta_1$）。\n其次，使用点 3 的信息（切线法）确定另一组 FOPDT 参数（$K_p$, $\\tau_2$, $\\theta_2$）。\n\n对于每组 FOPDT 参数，使用 Tyreus-Luyben 整定法则计算相应的 PI 控制器比例增益（$K_{c,1}$ 和 $K_{c,2}$），该法则对于 PI 控制器由下式给出：\n$$K_c = \\frac{\\tau}{2.2 K_p \\theta}$$\n最后，计算比值 $R = \\frac{K_{c,1}}{K_{c,2}}$，其中 $K_{c,1}$ 是由两点法得出的增益，而 $K_{c,2}$ 是由切线法得出的增益。\n\n将您的答案 $R$ 表示为一个无量纲值，并四舍五入到三位有效数字。", "solution": "FOPDT 模型为\n$$G(s)=\\frac{T(s)}{U(s)}=\\frac{K_{p}\\exp(-\\theta s)}{\\tau s+1}.$$\n对于在 $t=0$ 时，大小为 $\\Delta u=u_{f}-u_{i}$ 的 $u$ 的阶跃，且纯滞后时间为 $\\theta$，当 $t\\geq \\theta$ 时的时间响应为\n$$T(t)=T_{f}+\\left(T_{i}-T_{f}\\right)\\exp\\!\\left(-\\frac{t-\\theta}{\\tau}\\right),$$\n等价地，\n$$\\frac{T(t)-T_{f}}{T_{i}-T_{f}}=\\exp\\!\\left(-\\frac{t-\\theta}{\\tau}\\right).$$\n\n由稳态阶跃计算过程增益：\n$$K_{p}=\\frac{T_{f}-T_{i}}{u_{f}-u_{i}}=\\frac{62.0-85.0}{0.70-0.50}=-115.$$\n\n两点法（使用 $t_{25}$ 和 $t_{75}$）：\n“完成 $25\\%$”意味着剩余部分为 $0.75$，因此\n$$\\exp\\!\\left(-\\frac{t_{25}-\\theta_{1}}{\\tau_{1}}\\right)=0.75.$$\n“完成 $75\\%$”意味着剩余部分为 $0.25$，因此\n$$\\exp\\!\\left(-\\frac{t_{75}-\\theta_{1}}{\\tau_{1}}\\right)=0.25.$$\n取对数并相减，\n$$(t_{75}-t_{25})=\\tau_{1}\\ln(3)\\quad\\Rightarrow\\quad \\tau_{1}=\\frac{t_{75}-t_{25}}{\\ln(3)}=\\frac{15.8-5.20}{\\ln(3)}\\approx 9.648536.$$\n由 $(t_{25}-\\theta_{1})=-\\tau_{1}\\ln(0.75)$，\n$$\\theta_{1}=t_{25}+\\tau_{1}\\ln(0.75)=5.20+9.648536\\,\\ln(0.75)\\approx 2.424289.$$\n\n切线法（使用 $t_{a}$ 和 $t_{b}$）：\n对于一个理想的 FOPDT 模型，在最大斜率点（紧接着 $t=\\theta$ 之后）的切线会通过点 $(t,\\;T)=(\\theta,\\;T_{i})$，并与 $T=T_{f}$ 相交于 $t=\\theta+\\tau$。因此，\n$$\\theta_{2}=t_{a}=2.80,\\qquad \\tau_{2}=t_{b}-t_{a}=11.5-2.80=8.70.$$\n\nTyreus-Luyben PI 增益公式：\n$$K_{c}=\\frac{\\tau}{2.2\\,K_{p}\\,\\theta}.$$\n因此，\n$$K_{c,1}=\\frac{\\tau_{1}}{2.2\\,K_{p}\\,\\theta_{1}}=\\frac{9.648536}{2.2\\cdot(-115)\\cdot 2.424289}\\approx -1.5731\\times 10^{-2},$$\n$$K_{c,2}=\\frac{\\tau_{2}}{2.2\\,K_{p}\\,\\theta_{2}}=\\frac{8.70}{2.2\\cdot(-115)\\cdot 2.80}\\approx -1.2281\\times 10^{-2}.$$\n\n所要求的比值为\n$$R=\\frac{K_{c,1}}{K_{c,2}}=\\frac{\\tau_{1}\\,\\theta_{2}}{\\tau_{2}\\,\\theta_{1}}=\\frac{9.648536\\cdot 2.80}{8.70\\cdot 2.424289}\\approx 1.2809.$$\n四舍五入到三位有效数字：\n$$R\\approx 1.28.$$", "answer": "$$\\boxed{1.28}$$", "id": "1574063"}]}