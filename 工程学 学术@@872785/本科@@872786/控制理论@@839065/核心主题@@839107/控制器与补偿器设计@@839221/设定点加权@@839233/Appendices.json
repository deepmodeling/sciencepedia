{"hands_on_practices": [{"introduction": "我们首先通过一个直接的计算来建立直观认识。这个练习旨在阐明设定点权重如何直接影响控制器在设定点发生阶跃变化时的初始输出，这是理解其抑制超调能力的第一步。通过这个计算，你可以清晰地看到设定点权重参数 $b$ 是如何调节初始控制作用的幅度的。", "problem": "在工业过程控制中，一种用于防止设定值发生阶跃变化时控制信号出现大的突变的常用策略被称为“设定值权重”。考虑一个由比例-积分 (PI) 控制器控制的过程。控制器根据参考设定值 $r(t)$ 和测量的过程输出 $y(t)$，按照以下定律计算控制信号 $u(t)$：\n\n$$u(t) = K_p (b \\cdot r(t) - y(t)) + K_i \\int_0^t [r(\\tau) - y(\\tau)] d\\tau$$\n\n此处，$K_p$ 是比例增益，$K_i$ 是积分增益，$b$ 是无量纲的设定值权重因子（$0 \\le b \\le 1$）。\n\n系统初始处于静止状态，即对于所有时间 $t \\le 0$，过程输出为零，$y(t)=0$，参考设定值为零，$r(t)=0$。在时间 $t=0$ 时，参考设定值发生从 0 到 3 的阶跃变化。控制器配置了以下参数：$K_p = 5$，$K_i = 2$，$b = 0.4$。\n\n计算在参考设定值阶跃变化施加后瞬间的控制信号大小，记为 $u(0^+)$。请以精确数值形式给出你的答案。", "solution": "带设定值权重的 PI 控制器由下式给出\n$$u(t) = K_{p}\\left(b\\,r(t) - y(t)\\right) + K_{i}\\int_{0}^{t}\\left[r(\\tau) - y(\\tau)\\right]\\,d\\tau.$$\n我们在阶跃发生后的瞬间 $t=0^{+}$ 处计算控制信号。使用给定的初始条件 $r(t)=0$ 和 $y(t)=0$（对于 $t \\le 0$）以及阶跃 $r(0^{+})=3$，过程输出的物理连续性意味着 $y(0^{+})=0$。因此，\n$$u(0^{+}) = K_{p}\\left(b\\,r(0^{+}) - y(0^{+})\\right) + K_{i}\\int_{0}^{0^{+}}\\left[r(\\tau) - y(\\tau)\\right]\\,d\\tau.$$\n在阶跃发生的瞬间，积分项为零，因为积分区间长度为零，且没有脉冲贡献：\n$$\\int_{0}^{0^{+}}\\left[r(\\tau) - y(\\tau)\\right]\\,d\\tau = 0.$$\n因此，\n$$u(0^{+}) = K_{p}\\,b\\,r(0^{+}).$$\n代入数值 $K_{p}=5$，$b=0.4$ 和 $r(0^{+})=3$ 得\n$$u(0^{+}) = 5 \\times 0.4 \\times 3 = 6.$$", "answer": "$$\\boxed{6}$$", "id": "1609265"}, {"introduction": "在理解了对控制信号的瞬时影响后，我们接下来分析设定点权重如何改变整个闭环系统的动态特性。通过推导闭环传递函数，你将看到设定点权重因子 $b$ 如何在不改变系统特征方程（从而不影响扰动抑制性能）的情况下，调整系统对设定点变化的响应。这一推导揭示了设定点权重实现“二自由度”控制的数学原理。", "problem": "一个小型实验腔室温度控制的简化模型由一阶过程传递函数 $P(s) = \\frac{Y(s)}{U(s)} = \\frac{K}{\\tau s+1}$ 给出，其中 $Y(s)$ 是腔室温度的拉普拉斯变换，$U(s)$ 是供给加热器功率的拉普拉斯变换。该过程具有增益 $K$ 和时间常数 $\\tau$。\n\n为了改善对设定点变化的响应并减少超调，采用了一个在比例项上带有设定点加权的比例-积分 (PI) 控制器。该控制器的输出在拉普拉斯域中由以下关系描述：\n$$U(s) = K_{p} (b R(s) - Y(s)) + \\frac{K_{i}}{s}(R(s) - Y(s))$$\n在此方程中，$R(s)$ 是期望设定点温度的拉普拉斯变换，$K_p$ 是比例增益，$K_i$ 是积分增益，$b$ 是无量纲的设定点加权因子，满足 $0 \\le b \\le 1$。\n\n推导该系统的设定点跟踪闭环传递函数 $T(s) = \\frac{Y(s)}{R(s)}$。请用 $s$、$K$、$\\tau$、$K_p$、$K_i$ 和 $b$ 表示你的答案。", "solution": "该系统由两个主要方程描述：过程模型和控制器律。\n\n过程模型由下式给出：\n$$Y(s) = P(s)U(s) = \\frac{K}{\\tau s+1}U(s)$$\n\n控制器律由下式给出：\n$$U(s) = K_{p} (b R(s) - Y(s)) + \\frac{K_{i}}{s}(R(s) - Y(s))$$\n\n为了求得闭环传递函数 $T(s) = \\frac{Y(s)}{R(s)}$，我们首先将控制器方程代入过程方程。在此之前，将控制器方程中的项按 $R(s)$ 和 $Y(s)$ 分组会很有帮助：\n$$U(s) = \\left(b K_{p} + \\frac{K_{i}}{s}\\right)R(s) - \\left(K_{p} + \\frac{K_{i}}{s}\\right)Y(s)$$\n\n现在，将这个 $U(s)$ 的表达式代入过程方程：\n$$Y(s) = \\frac{K}{\\tau s+1} \\left[ \\left(b K_{p} + \\frac{K_{i}}{s}\\right)R(s) - \\left(K_{p} + \\frac{K_{i}}{s}\\right)Y(s) \\right]$$\n\n为了解出 $\\frac{Y(s)}{R(s)}$，我们需要重新整理方程，将所有 $Y(s)$ 项归于一侧，所有 $R(s)$ 项归于另一侧。首先，两边同乘以 $(\\tau s+1)$：\n$$(\\tau s+1)Y(s) = K \\left[ \\left(b K_{p} + \\frac{K_{i}}{s}\\right)R(s) - \\left(K_{p} + \\frac{K_{i}}{s}\\right)Y(s) \\right]$$\n\n为了消除 $1/s$ 项，一个常用的技巧是为括号内的控制器项找到一个公分母：\n$$(\\tau s+1)Y(s) = K \\left[ \\left(\\frac{b K_{p}s + K_{i}}{s}\\right)R(s) - \\left(\\frac{K_{p}s + K_{i}}{s}\\right)Y(s) \\right]$$\n\n现在，整个方程乘以 $s$ 以消去分母：\n$$s(\\tau s+1)Y(s) = K \\left[ (b K_{p}s + K_{i})R(s) - (K_{p}s + K_{i})Y(s) \\right]$$\n\n将两边的项展开：\n$$(\\tau s^2 + s)Y(s) = K(b K_{p}s + K_{i})R(s) - K(K_{p}s + K_{i})Y(s)$$\n\n将所有包含 $Y(s)$ 的项移到左侧：\n$$(\\tau s^2 + s)Y(s) + K(K_{p}s + K_{i})Y(s) = K(b K_{p}s + K_{i})R(s)$$\n\n从左侧提取公因式 $Y(s)$：\n$$Y(s) \\left[ \\tau s^2 + s + K(K_{p}s + K_{i}) \\right] = K(b K_{p}s + K_{i})R(s)$$\n\n在括号内展开并按 $s$ 的幂次分组各项：\n$$Y(s) \\left[ \\tau s^2 + s + K K_{p}s + K K_{i} \\right] = K(b K_{p}s + K_{i})R(s)$$\n$$Y(s) \\left[ \\tau s^2 + (1 + K K_{p})s + K K_{i} \\right] = K(b K_{p}s + K_{i})R(s)$$\n\n最后，为了求得传递函数 $T(s) = \\frac{Y(s)}{R(s)}$，将两边同时除以 $R(s)$ 和乘以 $Y(s)$ 的 $s$ 的多项式：\n$$\\frac{Y(s)}{R(s)} = \\frac{K(b K_{p}s + K_{i})}{\\tau s^2 + (1 + K K_{p})s + K K_{i}}$$\n\n这就是所求的闭环传递函数。", "answer": "$$\\boxed{\\frac{K(b K_{p}s + K_{i})}{\\tau s^{2} + (1 + K K_{p})s + K K_{i}}}$$", "id": "1609241"}, {"introduction": "理论最终要服务于实践。最后一个练习将连续时间的PI控制器设计带入数字世界，这是现代控制系统实现的基石。通过将控制器方程离散化，你将学习如何构建一个可以在数字处理器上运行的增量式算法，这对于实际工程应用至关重要。", "problem": "在数字控制系统中，为减小设定值阶跃变化后的大控制信号变化和潜在的超调，一种常用策略是使用设定值加权。考虑一个连续时间比例-积分（PI）控制器，其中设定值加权仅应用于比例项。控制信号 $u(t)$ 由以下方程描述：\n\n$$u(t) = K_p (b \\cdot r(t) - y(t)) + K_i \\int_0^t (r(\\tau) - y(\\tau)) d\\tau$$\n\n此处，$r(t)$ 是设定值，$y(t)$ 是被测过程输出，$K_p$ 是比例增益，$K_i$ 是积分增益，$b$ 是无量纲的设定值加权因子。\n\n这个连续时间控制器将在一个具有固定采样周期 $T$ 的数字处理器上实现。为此，需要将控制器方程转换为离散时间差分方程。积分项将使用后向欧拉法进行近似，即一个采样区间上的积分由一个矩形的面积来近似，该矩形的高度为被积函数在该区间末端的值。\n\n令 $u[k]$、$r[k]$ 和 $y[k]$ 分别表示 $u(t)$、$r(t)$ 和 $y(t)$ 在采样时刻 $t = kT$ 的值。推导控制信号的差分方程。您的任务是给出一个 $u[k]$ 的表达式，用前一个控制信号 $u[k-1]$、当前和前一个设定值（$r[k], r[k-1]$）、当前和前一个过程输出（$y[k], y[k-1]$）以及控制器参数 $K_p$、$K_i$、$T$ 和 $b$ 来表示。", "solution": "从比例项带有设定值加权的连续时间PI控制器开始：\n$$u(t)=K_{p}\\big(b\\,r(t)-y(t)\\big)+K_{i}\\int_{0}^{t}\\big(r(\\tau)-y(\\tau)\\big)\\,d\\tau.$$\n设采样周期为 $T$，并定义采样变量 $u[k]=u(kT)$、$r[k]=r(kT)$、$y[k]=y(kT)$。引入离散积分状态\n$$I[k]\\approx \\int_{0}^{kT}\\big(r(\\tau)-y(\\tau)\\big)\\,d\\tau.$$\n在一个采样区间上使用后向欧拉法，\n$$I[k]=I[k-1]+T\\big(r[k]-y[k]\\big).$$\n离散控制器可以写成\n$$u[k]=K_{p}\\big(b\\,r[k]-y[k]\\big)+K_{i}I[k],$$\n以及在上一步，\n$$u[k-1]=K_{p}\\big(b\\,r[k-1]-y[k-1]\\big)+K_{i}I[k-1].$$\n用前者减去后者，并代入后向欧拉更新式：\n$$u[k]-u[k-1]=K_{p}\\Big(b\\big(r[k]-r[k-1]\\big)-\\big(y[k]-y[k-1]\\big)\\Big)+K_{i}\\big(I[k]-I[k-1]\\big),$$\n$$u[k]-u[k-1]=K_{p}\\Big(b\\big(r[k]-r[k-1]\\big)-\\big(y[k]-y[k-1]\\big)\\Big)+K_{i}T\\big(r[k]-y[k]\\big).$$\n重新整理可得所需的差分方程，以 $u[k-1]$、$r[k],r[k-1]$、$y[k],y[k-1]$ 和参数表示：\n$$u[k]=u[k-1]+K_{p}\\Big(b\\big(r[k]-r[k-1]\\big)-\\big(y[k]-y[k-1]\\big)\\Big)+K_{i}T\\big(r[k]-y[k]\\big).$$", "answer": "$$\\boxed{u[k]=u[k-1]+K_{p}\\left(b\\left(r[k]-r[k-1]\\right)-\\left(y[k]-y[k-1]\\right)\\right)+K_{i}T\\left(r[k]-y[k]\\right)}$$", "id": "1609275"}]}