{"hands_on_practices": [{"introduction": "本练习将从一个经典问题入手：使用比例控制器（P控制）进行卫星天线的位置控制。通过计算系统在恒定干扰力矩下的稳态误差，你将亲身体会到纯比例控制的一个核心局限性。这个实践是理解为什么我们需要更复杂的控制器（如PI或PID）来消除稳态误差的关键第一步。", "problem": "卫星的天线定位系统被建模为一个简单的机电系统。天线的角位置 $\\theta(t)$ 由一个直流（DC）电机控制。电机和天线负载组合的动力学由以下二阶线性微分方程描述：\n$$\nJ \\ddot{\\theta}(t) + b \\dot{\\theta}(t) = T_m(t) - T_L(t)\n$$\n其中 $J$ 是总转动惯量，$b$ 是粘性摩擦系数，$T_m(t)$ 是电机产生的转矩，$T_L(t)$ 是外部扰动转矩。\n\n电机转矩与施加在其上的电压 $V(t)$ 成正比，关系式为 $T_m(t) = K_t V(t)$，其中 $K_t$ 是电机转矩常数。\n\n系统采用比例控制器进行控制。控制器根据跟踪误差 $e(t) = \\theta_{ref}(t) - \\theta(t)$ 来设置电机电压，其中 $\\theta_{ref}(t)$ 是期望的参考角度。控制律由下式给出：\n$$\nV(t) = K_p e(t)\n$$\n其中 $K_p$ 是比例增益。\n\n考虑一个场景：系统初始静止于 $\\theta(0) = 0$，其任务是在所有时间 $t \\geq 0$ 内指向一个固定的参考角度 $\\theta_{ref}(t) = \\theta_0$。同时，天线在 $t \\geq 0$ 时受到一个恒定的扰动转矩 $T_L(t) = T_d$，这代表一个持续的力，例如太阳风压力。\n\n确定稳态位置误差，定义为 $e_{ss} = \\lim_{t\\to\\infty} e(t)$。将您的答案表示为包含参数 $J$、$b$、$K_t$、$K_p$、$\\theta_0$ 和 $T_d$ 的符号表达式。", "solution": "为求解稳态误差，我们将在拉普拉斯域中分析该系统。首先，我们对系统的动力学方程进行拉普拉斯变换，假设初始条件为零（$\\theta(0) = 0, \\dot{\\theta}(0) = 0$）。\n\n动力学方程为：\n$$\nJ \\ddot{\\theta}(t) + b \\dot{\\theta}(t) = T_m(t) - T_L(t)\n$$\n进行拉普拉斯变换，我们得到：\n$$\nJ s^2 \\theta(s) + b s \\theta(s) = T_m(s) - T_L(s)\n$$\n$$\ns(Js + b)\\theta(s) = T_m(s) - T_L(s)\n$$\n此处，$\\theta(s)$、$T_m(s)$ 和 $T_L(s)$ 分别是 $\\theta(t)$、$T_m(t)$ 和 $T_L(t)$ 的拉普拉斯变换。\n\n接下来，我们在拉普拉斯域中对控制器和电机转矩进行建模。\n控制律为 $V(t) = K_p e(t)$，其变换形式为：\n$$\nV(s) = K_p E(s)\n$$\n电机转矩为 $T_m(t) = K_t V(t)$，其变换形式为：\n$$\nT_m(s) = K_t V(s)\n$$\n将 $V(s)$ 的表达式代入 $T_m(s)$ 的表达式中，我们得到受控电机产生的转矩：\n$$\nT_m(s) = K_t K_p E(s)\n$$\n误差信号定义为 $e(t) = \\theta_{ref}(t) - \\theta(t)$，因此其拉普拉斯变换为 $E(s) = \\theta_{ref}(s) - \\theta(s)$。\n\n现在我们可以将 $T_m(s)$ 的表达式代入系统的动力学方程：\n$$\ns(Js + b)\\theta(s) = K_t K_p E(s) - T_L(s)\n$$\n我们的目标是找到误差 $E(s)$ 的表达式。为此，我们将 $\\theta(s)$ 替换为其等价的误差和参考信号表达式：$\\theta(s) = \\theta_{ref}(s) - E(s)$。\n$$\ns(Js + b)[\\theta_{ref}(s) - E(s)] = K_t K_p E(s) - T_L(s)\n$$\n现在，我们重新整理方程以求解 $E(s)$。\n$$\ns(Js + b)\\theta_{ref}(s) - s(Js + b)E(s) = K_t K_p E(s) - T_L(s)\n$$\n将所有包含 $E(s)$ 的项归到一边，所有其他项归到另一边：\n$$\ns(Js + b)\\theta_{ref}(s) + T_L(s) = [s(Js + b) + K_t K_p] E(s)\n$$\n求解 $E(s)$：\n$$\nE(s) = \\frac{s(Js + b)}{s(Js + b) + K_t K_p} \\theta_{ref}(s) + \\frac{T_L(s)}{s(Js + b) + K_t K_p}\n$$\n问题指定了恒定的参考角度 $\\theta_{ref}(t) = \\theta_0$ 和恒定的扰动转矩 $T_L(t) = T_d$。这些是时间上的阶跃输入，因此它们的拉普拉斯变换是：\n$$\n\\theta_{ref}(s) = \\mathcal{L}\\{\\theta_0 u(t)\\} = \\frac{\\theta_0}{s}\n$$\n$$\nT_L(s) = \\mathcal{L}\\{T_d u(t)\\} = \\frac{T_d}{s}\n$$\n将这些代入 $E(s)$ 的表达式中：\n$$\nE(s) = \\frac{s(Js + b)}{s(Js + b) + K_t K_p} \\left(\\frac{\\theta_0}{s}\\right) + \\frac{1}{s(Js + b) + K_t K_p} \\left(\\frac{T_d}{s}\\right)\n$$\n$$\nE(s) = \\frac{Js + b}{s(Js + b) + K_t K_p} \\theta_0 + \\frac{T_d}{s(s(Js + b) + K_t K_p)}\n$$\n为了求得稳态误差 $e_{ss}$，我们使用终值定理。该定理指出，如果 $sE(s)$ 的极点位于s平面的左半部分，则 $e_{ss} = \\lim_{t\\to\\infty} e(t) = \\lim_{s\\to 0} sE(s)$。对于正增益，闭环系统是稳定的，所以我们可以应用该定理。\n$$\ne_{ss} = \\lim_{s\\to 0} s \\left[ \\frac{Js + b}{s(Js + b) + K_t K_p} \\theta_0 + \\frac{T_d}{s(s(Js + b) + K_t K_p)} \\right]\n$$\n将 $s$ 分配到括号内：\n$$\ne_{ss} = \\lim_{s\\to 0} \\left[ \\frac{s(Js + b)}{s(Js + b) + K_t K_p} \\theta_0 + \\frac{T_d}{s(Js + b) + K_t K_p} \\right]\n$$\n现在，我们通过令 $s=0$ 来计算极限：\n$$\ne_{ss} = \\left[ \\frac{0(J(0) + b)}{0(J(0) + b) + K_t K_p} \\theta_0 + \\frac{T_d}{0(J(0) + b) + K_t K_p} \\right]\n$$\n$$\ne_{ss} = \\left[ \\frac{0}{K_t K_p} \\theta_0 + \\frac{T_d}{K_t K_p} \\right]\n$$\n$$\ne_{ss} = 0 + \\frac{T_d}{K_t K_p}\n$$\n结果表明，由阶跃参考输入 $\\theta_0$ 引起的稳态误差为零。这是预料之中的，因为被控对象包含一个积分环节（$1/s$ 项），使得闭环系统相对于参考输入是 I 型系统。然而，由于恒定的扰动转矩 $T_d$，存在一个非零的稳态误差。最终的稳态误差为：\n$$\ne_{ss} = \\frac{T_d}{K_t K_p}\n$$", "answer": "$$\\boxed{\\frac{T_d}{K_t K_p}}$$", "id": "1562479"}, {"introduction": "微分（D）环节因其预测能力而备受青睐，但其应用并非总是无往不利。本练习通过一个包含显著时间延迟的假设过程，让你分析微分作用在其中的真实效果 [@problem_id:1562473]。你将使用Padé近似法来探索理想微分器与时间延迟结合时，在高频段对系统相位产生的负面影响，从而理解在实际工程中需审慎使用微分控制的原因。", "problem": "一位控制工程师正在分析为一个表现出显著时间延迟的过程的控制回路中添加理想微分作用的可行性。微分作用由传递函数 $C_D(s) = T_d s$ 表示，其中 $T_d$ 是微分时间常数。过程时间延迟由传递函数 $G_{delay}(s) = e^{-Ls}$ 建模，其中 $L$ 是延迟时间。\n\n为了理解这两个元素之间的相互作用，该工程师考虑一个复合模块，代表直接应用于时间延迟信号的微分作用，其组合传递函数为 $G_{combo}(s) = C_D(s) \\cdot G_{delay}(s)$。例如，当微分作用是实现在过程变量上而不是误差信号上时，就可能出现这种配置。\n\n使用时间延迟的一阶Padé近似 $e^{-Ls} \\approx \\frac{1 - Ls/2}{1 + Ls/2}$，确定组合传递函数 $G_{combo}(s)$ 在高频极限（即角频率 $\\omega \\to \\infty$）下的渐近相位。\n\n将您的最终答案表示为以度为单位的单个数字。", "solution": "我们已知微分控制器 $C_{D}(s)=T_{d}s$ 和时间延迟 $G_{delay}(s)=\\exp(-Ls)$。组合传递函数为\n$$\nG_{combo}(s)=C_{D}(s)\\,G_{delay}(s)=T_{d}s\\,\\exp(-Ls).\n$$\n使用一阶Padé近似 $\\exp(-Ls)\\approx \\frac{1-\\frac{L}{2}s}{1+\\frac{L}{2}s}$，近似的组合传递函数为\n$$\n\\tilde{G}_{combo}(s)=T_{d}s\\,\\frac{1-\\frac{L}{2}s}{1+\\frac{L}{2}s}.\n$$\n为了确定高频渐近相位，通过设置 $s=\\mathrm{j}\\omega$ 且 $\\omega0$ 来计算频率响应：\n$$\n\\tilde{G}_{combo}(\\mathrm{j}\\omega)=T_{d}(\\mathrm{j}\\omega)\\,\\frac{1-\\mathrm{j}\\frac{L}{2}\\omega}{1+\\mathrm{j}\\frac{L}{2}\\omega}.\n$$\n乘积的相位是各项相位之和，比值的相位是分子与分母相位之差。假设 $T_{d}0$（在控制设计中是标准做法），则 $\\arg(T_{d})=0$。此外，$\\arg(\\mathrm{j}\\omega)=\\frac{\\pi}{2}$。对于Padé因子，当 $\\omega\\to\\infty$ 时，\n$$\n\\arg\\!\\left(1-\\mathrm{j}\\frac{L}{2}\\omega\\right)\\to \\arg\\!\\left(-\\mathrm{j}\\frac{L}{2}\\omega\\right)=-\\frac{\\pi}{2},\\quad\n\\arg\\!\\left(1+\\mathrm{j}\\frac{L}{2}\\omega\\right)\\to \\arg\\!\\left(\\mathrm{j}\\frac{L}{2}\\omega\\right)=\\frac{\\pi}{2}.\n$$\n因此，Padé因子的高频相位贡献为\n$$\n-\\frac{\\pi}{2}-\\frac{\\pi}{2}=-\\pi.\n$$\n将所有贡献相加，$\\tilde{G}_{combo}(\\mathrm{j}\\omega)$ 在 $\\omega\\to\\infty$ 时的渐近相位为\n$$\n0+\\frac{\\pi}{2}+(-\\pi)=-\\frac{\\pi}{2},\n$$\n这对应于 $-90$ 度。", "answer": "$$\\boxed{-90}$$", "id": "1562473"}, {"introduction": "这个综合性练习展示了一种巧妙的混合控制策略，旨在同时优化瞬态响应和稳态精度。你将分析一个从PD控制器动态切换到PID控制器的伺服系统，以精确跟踪一个斜坡轨迹 [@problem_id:1618099]。通过解决这个问题，你不仅能巩固对PD和PID控制器特性的理解，还能深刻体会到积分（I）作用在消除复杂输入（如斜坡信号）稳态误差方面的不可替代性。", "problem": "一个伺服机构被设计用于控制一个有效载荷的位置，该载荷可以被建模为一个纯惯性质量，从而得到一个被控对象传递函数 $P(s) = 1/s^2$。该系统配置为单位反馈。为了实现初始的快速响应，使用了一个比例-微分（PD）控制器，其控制律由 $u(t) = K_p e(t) + K_d \\dot{e}(t)$ 给出，其中 $e(t)$ 是跟踪误差。增益 $K_p$ 和 $K_d$ 是正数，并且它们的选择使得闭环系统是欠阻尼的。\n\n系统初始处于静止状态，输出为零，误差为零。在时间 $t=0$ 时，系统被指令去跟踪一个斜坡参考轨迹 $r(t) = At$（对于 $t \\ge 0$），其中 $A$ 是一个正常数。\n\n为了消除稳态误差，控制策略被设计为在跟踪误差 $e(t)$ 首次穿过零的时刻 $t_{switch}  0$ 进行切换。在这个时刻，引入了积分作用，控制器在所有后续时间 $t \\ge t_{switch}$ 内变为比例-积分-微分（PID）控制器。新的控制律是 $u(t) = K_p e(t) + K_d \\dot{e}(t) + K_i \\int_{t_{switch}}^t e(\\tau)d\\tau$，使用相同的增益 $K_p$、$K_d$ 和一个正的积分增益 $K_i$。你可以假设这些增益的选择使得最终的PID控制系统是稳定的。\n\n确定最终的稳态跟踪误差 $e_{ss} = \\lim_{t\\to\\infty} e(t)$。请以符号表达式的形式给出你的答案。", "solution": "被控对象为 $P(s)=\\frac{1}{s^{2}}$，采用单位反馈。该系统运行的最终阶段是采用PID控制器。因此，最终的稳态误差由PID控制下的闭环系统决定。\n\n在 $t \\ge t_{switch}$ 阶段，控制器为比例-积分-微分（PID）控制器，其传递函数为 $C_{PID}(s) = K_p + K_d s + \\frac{K_i}{s}$。\n\n开环传递函数为 $L_{PID}(s) = C_{PID}(s)P(s)$:\n$$\nL_{PID}(s) = \\left( K_p + K_d s + \\frac{K_i}{s} \\right) \\frac{1}{s^2} = \\frac{K_d s^2 + K_p s + K_i}{s^3}\n$$\n这是一个 **3 型系统**，因为它在原点 $s=0$ 处有三个极点。\n\n我们要确定系统在斜坡输入 $r(t) = At$（其拉普拉斯变换为 $R(s) = A/s^2$）下的最终稳态误差。稳态误差可以通过终值定理计算，其值为 $e_{ss} = \\lim_{s\\to 0} s E(s)$。\n\n误差信号 $E(s)$ 由下式给出：\n$$\nE(s) = \\frac{1}{1 + L_{PID}(s)} R(s)\n$$\n代入 $L_{PID}(s)$ 和 $R(s)$:\n$$\nE(s) = \\frac{1}{1 + \\frac{K_d s^2 + K_p s + K_i}{s^3}} \\left( \\frac{A}{s^2} \\right) = \\frac{s^3}{s^3 + K_d s^2 + K_p s + K_i} \\left( \\frac{A}{s^2} \\right)\n$$\n$$\nE(s) = \\frac{As}{s^3 + K_d s^2 + K_p s + K_i}\n$$\n现在应用终值定理来计算最终的稳态误差 $e_{ss}$。问题假设最终的PID系统是稳定的，因此定理适用。\n$$\ne_{ss} = \\lim_{t\\to\\infty} e(t) = \\lim_{s\\to 0} s E(s)\n$$\n$$\ne_{ss} = \\lim_{s\\to 0} s \\left( \\frac{As}{s^3 + K_d s^2 + K_p s + K_i} \\right) = \\lim_{s\\to 0} \\frac{As^2}{s^3 + K_d s^2 + K_p s + K_i}\n$$\n当 $s \\to 0$ 时，分子趋向于 $A \\cdot 0^2 = 0$，分母趋向于 $K_i$。由于 $K_i$ 是一个正常数，分母不为零。\n$$\ne_{ss} = \\frac{0}{K_i} = 0\n$$\n因此，系统的最终稳态跟踪误差为零。积分作用的存在将系统提升为3型，确保了对斜坡输入（加速度为零的输入）的零稳态误差。", "answer": "$$\\boxed{0}$$", "id": "1618099"}]}