{"hands_on_practices": [{"introduction": "在分析放大器的交流特性之前，必须首先确定其直流偏置条件，即静态工作点（Q-point）。这个练习将带你计算一个典型共漏极放大器的直流漏极电流和源极电压，这是任何放大器分析的第一步，也是理解其后续所有性能的基础[@problem_id:1291891]。通过这个计算，你将掌握使用MOSFET的直流模型来预测电路行为的基本技能。", "problem": "一个N沟道增强型金属氧化物半导体场效应晶体管（NMOSFET）被用于构建一个共漏极放大器，也称为源极跟随器。该放大器通过连接到单一正电源电压 $V_{DD}$ 的分压网络进行偏置。电阻 $R_1$ 连接在 $V_{DD}$ 和NMOSFET的栅极之间，而电阻 $R_2$ 连接在栅极和地之间。晶体管的漏极直接连接到 $V_{DD}$，一个源极电阻 $R_S$ 连接在源极端和地之间。\n\n电路参数如下：\n- 电源电压, $V_{DD} = 15.0 \\, \\text{V}$\n- 栅极电阻1, $R_1 = 2.20 \\, \\text{M}\\Omega$\n- 栅极电阻2, $R_2 = 1.80 \\, \\text{M}\\Omega$\n- 源极电阻, $R_S = 2.70 \\, \\text{k}\\Omega$\n\n该NMOSFET具有以下特性：\n- 阈值电压, $V_{th} = 1.20 \\, \\text{V}$\n- 跨导参数, $k_n = 1.50 \\, \\text{mA/V}^2$\n\n对于此电路的直流偏置点，确定静态漏极电流 $I_D$ 和静态源极电压 $V_S$。您应假设晶体管工作在饱和区，并忽略沟道长度调制效应（即输出电阻 $r_o$ 为无穷大）。\n\n提供您对 ($I_D$, $V_S$) 对的答案。将 $I_D$ 以毫安（mA）表示，将 $V_S$ 以伏特（V）表示。将两个值四舍五入到三位有效数字。", "solution": "对于具有栅极偏置分压器且栅极电流可忽略不计的源极跟随器，直流栅极电压由分压器设定：\n$$\nV_{G}=\\frac{R_{2}}{R_{1}+R_{2}}V_{DD}.\n$$\n源极电压通过欧姆定律与漏极电流相关：\n$$\nV_{S}=I_{D}R_{S}.\n$$\n假设工作在饱和区并忽略沟道长度调制，NMOS漏极电流方程为\n$$\nI_{D}=\\frac{1}{2}k_{n}\\left(V_{GS}-V_{th}\\right)^{2}=\\frac{1}{2}k_{n}\\left(V_{G}-V_{S}-V_{th}\\right)^{2}.\n$$\n代入 $V_{S}=I_{D}R_{S}$ 以获得关于 $I_{D}$ 的单一方程：\n$$\nI_{D}=\\frac{1}{2}k_{n}\\left(V_{G}-V_{th}-R_{S}I_{D}\\right)^{2}.\n$$\n定义 $a=\\frac{1}{2}k_{n}$，$b=R_{S}$ 和 $c=V_{G}-V_{th}$。那么\n$$\nI_{D}=a\\left(c-bI_{D}\\right)^{2}=a\\left(c^{2}-2bcI_{D}+b^{2}I_{D}^{2}\\right),\n$$\n这可以重新整理成关于 $I_{D}$ 的二次方程：\n$$\nab^{2}I_{D}^{2}-\\left(2abc+1\\right)I_{D}+ac^{2}=0.\n$$\n从分压器计算 $V_{G}$：\n$$\nV_{G}=\\frac{1.80\\,\\text{M}\\Omega}{2.20\\,\\text{M}\\Omega+1.80\\,\\text{M}\\Omega}\\cdot 15.0\\,\\text{V}=6.75\\,\\text{V}.\n$$\n因此 $c=V_{G}-V_{th}=6.75-1.20=5.55\\,\\text{V}$。当 $k_{n}=1.50\\,\\text{mA/V}^{2}$ 时，我们有 $a=0.75\\,\\text{mA/V}^{2}$。使用 $R_{S}=2.70\\,\\text{k}\\Omega$（并以mA为单位取 $I_{D}$，以便 $V_{S}$ 的单位为V），$b=2.70\\,\\text{k}\\Omega$。二次方程变为\n$$\n\\left(5.4675\\right)I_{D}^{2}-\\left(23.4775\\right)I_{D}+\\left(23.101875\\right)=0,\n$$\n其解为\n$$\nI_{D}=\\frac{23.4775\\pm\\sqrt{23.4775^{2}-4\\cdot 5.4675\\cdot 23.101875}}{2\\cdot 5.4675}.\n$$\n判别式的值为 $45.955$，所以\n$$\nI_{D}=\\frac{23.4775\\pm \\sqrt{45.955}}{10.935}.\n$$\n较大的根导致 $V_{GS}0$，这是不符合物理实际的；有效的根是\n$$\nI_{D}\\approx \\frac{23.4775- \\sqrt{45.955}}{10.935}\\approx 1.527\\,\\text{mA}.\n$$\n那么\n$$\nV_{S}=I_{D}R_{S}\\approx \\left(1.527\\,\\text{mA}\\right)\\left(2.70\\,\\text{k}\\Omega\\right)\\approx 4.123\\,\\text{V}.\n$$\n检验饱和条件：$V_{DS}=V_{DD}-V_{S}\\approx 10.877\\,\\text{V}$ 且 $V_{GS}-V_{th}\\approx 2.627-1.20\\approx 1.427\\,\\text{V}$，因此 $V_{DS}\\geq V_{GS}-V_{th}$ 成立，验证了假设。\n\n四舍五入到三位有效数字：\n$$\nI_{D}=1.53\\,\\text{mA},\\quad V_{S}=4.12\\,\\text{V}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix}1.53  4.12\\end{pmatrix}}$$", "id": "1291891"}, {"introduction": "共漏极放大器（源极跟随器）的主要作用是作为电压缓冲器，其关键特性是低输出电阻。这个练习将指导你使用小信号模型推导输出电阻的表达式，揭示晶体管的内部参数如何影响这一关键性能指标[@problem_id:1291880]。掌握这一分析方法对于理解源极跟随器的工作原理和设计高效的缓冲级至关重要。", "problem": "一个源极跟随器（也称为共漏极放大器）由一个n沟道金属氧化物半导体场效应晶体管（MOSFET）构成，记为 $M_1$。$M_1$ 的漏极连接到正电源 $V_{DD}$，其栅极作为输入电压，其源极作为输出电压。晶体管 $M_1$ 的特性由其小信号跨导 $g_{m1}$、其内在输出电阻 $r_{o1}$ 以及其体效应跨导 $g_{mb1}$ 决定。\n\n该放大器由一个非理想有源负载加载，该有源负载由另一个配置为电流源的晶体管实现。该有源负载呈现出大小为 $r_{o2}$ 的有限小信号输出电阻。主晶体管 $M_1$ 和有源负载是连接到输出节点的仅有的两个元件。\n\n假设 $M_1$ 的体端连接到电路的地参考，并且为了进行小信号分析，电源 $V_{DD}$ 也处于交流地状态，推导该放大器的输出电阻 $R_{out}$ 的表达式。你的答案应该是一个用 $g_{m1}$、$g_{mb1}$、$r_{o1}$ 和 $r_{o2}$ 表示的单一闭合形式表达式。", "solution": "为了确定源极跟随器的输出电阻 $R_{out}$，我们使用标准的测试源法。我们将所有独立的交流源置零，在输出节点施加一个测试电压 $v_x$，并计算从测试源流出的相应电流 $i_x$。输出电阻则由 $R_{out} = v_x / i_x$ 给出。\n\n首先，我们确定小信号条件。输出节点是晶体管 $M_1$ 的源极，因此其电压为 $v_s = v_x$。放大器的输入电压设置为零，因此 $M_1$ 的栅极电压为 $v_g = 0$。$M_1$ 的漏极连接到电源 $V_{DD}$，这是一个交流地，因此 $v_d = 0$。$M_1$ 的体端也连接到地，因此 $v_b = 0$。\n\n根据这些端点电压，我们可以确定 $M_1$ 小信号模型的控制电压：\n栅源电压为 $v_{gs1} = v_g - v_s = 0 - v_x = -v_x$。\n体源电压为 $v_{bs1} = v_b - v_s = 0 - v_x = -v_x$。\n\n接下来，我们在输出节点应用基尔霍夫电流定律（KCL）。由测试源提供的总电流 $i_x$ 必须等于从该节点流出并进入所连接元件的电流之和。连接到输出节点的元件是负载电阻 $r_{o2}$ 和晶体管 $M_1$ 的源极端子。\n\n因此，我们可以写出KCL方程：\n$$i_x = i_{r_{o2}} + i_{s1}$$\n其中 $i_{r_{o2}}$ 是流经负载电阻 $r_{o2}$ 到地的电流，而 $i_{s1}$ 是流入 $M_1$ 源极端子的电流。\n\n流经负载电阻 $r_{o2}$ 的电流由欧姆定律给出：\n$$i_{r_{o2}} = \\frac{v_x}{r_{o2}}$$\n\n为了求出流入 $M_1$ 源极的电流 $i_{s1}$，我们分析晶体管小信号模型内部的电流。该模型由内在输出电阻 $r_{o1}$ 与两个受控电流源 $g_{m1}v_{gs1}$ 和 $g_{mb1}v_{bs1}$ 并联组成，这两个电流源都从漏极指向源极。\n\n1.  **流经 $r_{o1}$ 的电流**：该电阻连接在源极（电压为 $v_x$）和漏极（电压为 $0$ V）之间。从源极节点流经 $r_{o1}$ 到漏极的电流为 $\\frac{v_s - v_d}{r_{o1}} = \\frac{v_x - 0}{r_{o1}} = \\frac{v_x}{r_{o1}}$。\n\n2.  **来自 $g_{m1}v_{gs1}$ 源的电流**：该电流源将一个大小为 $g_{m1}v_{gs1}$ 的电流从漏极推向源极。由于 $v_{gs1} = -v_x$，该电流为 $-g_{m1}v_x$。这个负值表示电流实际上是从源极流向漏极。因此，一个大小为 $g_{m1}v_x$ 的电流离开源极节点。\n\n3.  **来自 $g_{mb1}v_{bs1}$ 源的电流**：类似地，该电流源将一个大小为 $g_{mb1}v_{bs1}$ 的电流从漏极推向源极。由于 $v_{bs1} = -v_x$，该电流为 $-g_{mb1}v_x$。这也对应于一个大小为 $g_{mb1}v_x$ 的电流离开源极节点。\n\n从输出节点流出并进入 $M_1$ 源极的总电流 $i_{s1}$ 是这三个分量的和：\n$$i_{s1} = \\frac{v_x}{r_{o1}} + g_{m1}v_x + g_{mb1}v_x$$\n\n现在我们将 $i_{r_{o2}}$ 和 $i_{s1}$ 的表达式代入KCL方程：\n$$i_x = \\frac{v_x}{r_{o2}} + \\left( \\frac{v_x}{r_{o1}} + g_{m1}v_x + g_{mb1}v_x \\right)$$\n\n我们可以从等式右边提出公因子 $v_x$：\n$$i_x = v_x \\left( \\frac{1}{r_{o2}} + \\frac{1}{r_{o1}} + g_{m1} + g_{mb1} \\right)$$\n\n最后，输出电阻 $R_{out}$ 是 $v_x$ 与 $i_x$ 的比值：\n$$R_{out} = \\frac{v_x}{i_x} = \\frac{1}{\\frac{1}{r_{o1}} + \\frac{1}{r_{o2}} + g_{m1} + g_{mb1}}$$\n\n这个表达式表明，输出电阻是 $r_{o1}$、$r_{o2}$ 以及与跨导相对应的电阻 $1/g_{m1}$ 和 $1/g_{mb1}$ 的并联组合。为了将其写成单一分数形式，我们通分：\n$$R_{out} = \\frac{1}{\\frac{r_{o2} + r_{o1} + (g_{m1} + g_{mb1})r_{o1}r_{o2}}{r_{o1}r_{o2}}}$$\n\n将其取倒数得到最终表达式：\n$$R_{out} = \\frac{r_{o1}r_{o2}}{r_{o1} + r_{o2} + (g_{m1} + g_{mb1})r_{o1}r_{o2}}$$", "answer": "$$\\boxed{\\frac{r_{o1}r_{o2}}{r_{o1} + r_{o2} + (g_{m1} + g_{mb1})r_{o1}r_{o2}}}$$", "id": "1291880"}, {"introduction": "在许多精密应用中，放大器自身的噪声是限制其性能的关键因素。这个进阶练习旨在计算源极跟随器的等效输入参考噪声，让你了解电路中主要噪声源（如晶体管的沟道热噪声和负载电阻的热噪声）的贡献[@problem_id:1291914]。掌握这种分析能够帮助你理解低噪声放大器设计中的权衡，从而更全面地评估放大器的实际性能。", "problem": "考虑一个由单个n沟道金属氧化物半导体场效应晶体管（MOSFET）实现的源极跟随器放大器。该晶体管的特性由其跨导 $g_m$、体效应跨导 $g_{mb}$ 和有限的输出电阻 $r_o$ 来描述。MOSFET的源极端连接到一个负载电阻 $R_L$，该电阻再接地。输出电压在源极端获取。MOSFET的漏极连接到正电源电压（作为交流地），其衬底（体）接地。\n\n该电路中的主要噪声源是MOSFET的沟道热噪声和负载电阻 $R_L$ 的热噪声。所有其他噪声源，如闪烁噪声（1/f噪声）和栅极噪声，均可视为忽略不计。沟道热噪声被建模为漏极和源极端之间的一个电流源，其谱密度由 $\\bar{i_{nd}^2}/\\Delta f = 4k_B T \\gamma g_m$ 给出。负载电阻的热噪声具有电压谱密度 $\\bar{v_{nR}^2}/\\Delta f = 4k_B T R_L$。在这里，$k_B$ 是 Boltzmann 常数，$T$ 是绝对温度，而 $\\gamma$ 是一个与工艺相关的沟道热噪声系数。\n\n推导总等效输入参考噪声电压谱密度 $\\frac{\\bar{v_{ni}^2}}{\\Delta f}$ 的表达式。你的最终答案应该是一个用给定参数 $k_B, T, \\gamma, g_m, g_{mb}, r_o$ 和 $R_L$ 表示的闭式表达式。", "solution": "设小信号源极节点电压为 $v_{s}$，栅极（输入）电压为 $v_{g}$。定义电导 $g_{L}=\\frac{1}{R_{L}}$ 和 $g_{o}=\\frac{1}{r_{o}}$。使用hybrid-$\\pi$小信号模型，其中漏极为交流接地，体为接地，MOSFET的漏极电流增量为\n$$\ni_{d}=g_{m}v_{gs}+g_{mb}v_{bs}=g_{m}(v_{g}-v_{s})+g_{mb}(0-v_{s})=g_{m}v_{g}-(g_{m}+g_{mb})v_{s}.\n$$\n在源极节点应用KCL（基尔霍夫电流定律）（流出 $R_{L}$ 和 $r_{o}$ 的电流等于受控源注入的电流）：\n$$\n\\frac{v_{s}}{R_{L}}+\\frac{v_{s}}{r_{o}}-\\big[g_{m}v_{g}-(g_{m}+g_{mb})v_{s}\\big]=0,\n$$\n可得\n$$\nv_{s}\\left(g_{L}+g_{o}+g_{m}+g_{mb}\\right)-g_{m}v_{g}=0.\n$$\n因此，跟随器增益为\n$$\nA_{v}\\equiv \\frac{v_{s}}{v_{g}}=\\frac{g_{m}}{g_{L}+g_{o}+g_{m}+g_{mb}}.\n$$\n\n对于噪声分析，设 $v_{g}=0$。那么在源极看到的网络是一个并联电导\n$$\nG_{x}=g_{o}+g_{m}+g_{mb},\n$$\n所以总并联电导为\n$$\ng_{\\text{tot}}=g_{L}+G_{x}=g_{L}+g_{o}+g_{m}+g_{mb}.\n$$\n\n1) 沟道热噪声：漏极和源极之间的沟道噪声电流源的谱密度为\n$$\n\\frac{\\overline{i_{nd}^{2}}}{\\Delta f}=4k_{B}T\\gamma g_{m}.\n$$\n它与 $g_{\\text{tot}}$ 并联，所以输出噪声电压谱密度为\n$$\n\\frac{\\overline{v_{n,\\text{mos}}^{2}}}{\\Delta f}=\\frac{4k_{B}T\\gamma g_{m}}{g_{\\text{tot}}^{2}}.\n$$\n\n2) 负载电阻热噪声：将 $R_{L}$ 建模为其 Thevenin 噪声源，其谱密度为\n$$\n\\frac{\\overline{v_{nR}^{2}}}{\\Delta f}=4k_{B}T R_{L}.\n$$\n该噪声通过由 $R_{L}$ 和 $Z_{x}=1/G_{x}$ 构成的分压器出现在源极节点，得到\n$$\n\\frac{\\overline{v_{n,R}^{2}}}{\\Delta f}=4k_{B}T R_{L}\\left(\\frac{Z_{x}}{R_{L}+Z_{x}}\\right)^{2}\n=4k_{B}T R_{L}\\left(\\frac{1}{1+R_{L}G_{x}}\\right)^{2}.\n$$\n使用 $1+R_{L}G_{x}=R_{L}(g_{L}+G_{x})=R_{L}g_{\\text{tot}}$，上式可化简为\n$$\n\\frac{\\overline{v_{n,R}^{2}}}{\\Delta f}=\\frac{4k_{B}T}{R_{L}g_{\\text{tot}}^{2}}.\n$$\n\n将不相关的噪声贡献相加，\n$$\n\\frac{\\overline{v_{o}^{2}}}{\\Delta f}\n=4k_{B}T\\left(\\frac{\\gamma g_{m}}{g_{\\text{tot}}^{2}}+\\frac{1}{R_{L}g_{\\text{tot}}^{2}}\\right)\n=4k_{B}T\\frac{\\gamma g_{m}+\\frac{1}{R_{L}}}{g_{\\text{tot}}^{2}}.\n$$\n\n通过除以增益的平方来获得输入参考噪声：\n$$\n\\frac{\\overline{v_{ni}^{2}}}{\\Delta f}\n=\\frac{\\overline{v_{o}^{2}}/\\Delta f}{A_{v}^{2}}\n=4k_{B}T\\frac{\\gamma g_{m}+\\frac{1}{R_{L}}}{g_{m}^{2}}.\n$$\n等效地，\n$$\n\\frac{\\overline{v_{ni}^{2}}}{\\Delta f}=4k_{B}T\\left(\\frac{\\gamma}{g_{m}}+\\frac{1}{g_{m}^{2}R_{L}}\\right).\n$$\n注意，$g_{mb}$ 和 $r_{o}$ 会影响增益和输出参考噪声，但在输入参考的结果中被抵消了。", "answer": "$$\\boxed{4k_{B}T\\left(\\frac{\\gamma}{g_{m}}+\\frac{1}{g_{m}^{2}R_{L}}\\right)}$$", "id": "1291914"}]}