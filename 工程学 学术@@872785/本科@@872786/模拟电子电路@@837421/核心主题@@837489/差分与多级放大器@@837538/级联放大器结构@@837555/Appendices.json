{"hands_on_practices": [{"introduction": "将多个放大器级联是获得高增益的常用方法。然而，简单地将各级的独立增益相乘会得出不准确的结果，因为后一级放大器的输入电阻会成为前一级的负载，从而降低前一级的实际电压增益。这个练习将引导你通过一个典型的两级共射（CE）放大器电路，亲手计算这种“级间负载效应”，这是理解和设计级联放大器的基本功。[@problem_id:1287036]", "problem": "正在设计一个音频前置放大器，该放大器采用两级级联的共发射极（CE）放大器配置。两个级都使用相同的 NPN 型双极结型晶体管（BJT）构建。每个级的电路都采用标准的四电阻分压网络进行偏置。假设在直流分析中，标准的基极-发射极正向电压为 $V_{BE} = 0.7 \\text{ V}$，且电路工作温度下的热电压为 $V_T = 25 \\text{ mV}$。BJT 的电流增益为 $\\beta = 120$，且具有非常大的厄利电压，因此可以忽略厄利效应。整个电路的电源电压为 $V_{CC} = 15 \\text{ V}$。\n\n第一级放大器的元件值为：\n- 集电极电阻：$R_{C1} = 6.8 \\text{ k}\\Omega$\n- 发射极电阻：$R_{E1} = 1.0 \\text{ k}\\Omega$\n- 基极偏置电阻 1（连接到 $V_{CC}$）：$R_{1A} = 82 \\text{ k}\\Omega$\n- 基极偏置电阻 2（连接到地）：$R_{2A} = 18 \\text{ k}\\Omega$\n\n第二级放大器的元件值为：\n- 集电极电阻：$R_{C2} = 4.3 \\text{ k}\\Omega$\n- 发射极电阻：$R_{E2} = 750 \\text{ }\\Omega$\n- 基极偏置电阻 1（连接到 $V_{CC}$）：$R_{1B} = 68 \\text{ k}\\Omega$\n- 基极偏置电阻 2（连接到地）：$R_{2B} = 13 \\text{ k}\\Omega$\n\n所有耦合电容和旁路电容都足够大，在感兴趣的信号频率下，它们的阻抗可以视作短路。发射极电阻 $R_{E1}$ 和 $R_{E2}$ 被电容完全旁路，这意味着在交流分析中它们的阻抗为零。\n\n计算第一级的负载交流电压增益 ($A_{v1} = v_{out1}/v_{in1}$) 。第一级的输出取自其 BJT 的集电极，并通过电容耦合到第二级的输入端（基极）。将您的最终答案四舍五入至三位有效数字。", "solution": "由于耦合电容和旁路电容在交流下视为短路，并且忽略了厄利效应，每个共发射极（CE）级都可以使用 hybrid-π 模型进行分析，其中发射极处于交流接地状态（外部发射极电阻被完全旁路）。第一级的小信号增益是带负载的经典共发射极放大器的结果：\n$$A_{v1}=-g_{m1}\\left(R_{C1}\\parallel R_{\\text{in2}}\\right),$$\n其中 $g_{m1}=I_{C1}/V_{T}$ 由第一级的直流偏置决定，而 $R_{\\text{in2}}$ 是从第二级基极看进去的输入电阻（包括其偏置网络），由下式给出：\n$$R_{\\text{in2}}=\\left(R_{1B}\\parallel R_{2B}\\parallel r_{\\pi 2}\\right),\\quad r_{\\pi 2}=\\frac{\\beta V_{T}}{I_{C2}}.$$\n\n第一级的直流偏置分析使用其基极分压网络的戴维南等效电路。其中 $R_{1A}$ 从 $V_{CC}$ 连接到基极，$R_{2A}$ 连接到地：\n$$V_{\\text{TH1}}=V_{CC}\\frac{R_{2A}}{R_{1A}+R_{2A}},\\quad R_{\\text{TH1}}=R_{1A}\\parallel R_{2A}.$$\n考虑基极电流的负载效应，发射极电流和集电极电流为：\n$$I_{E1}=\\frac{V_{\\text{TH1}}-V_{BE}}{R_{E1}+\\frac{R_{\\text{TH1}}}{\\beta+1}},\\qquad I_{C1}=\\frac{\\beta}{\\beta+1}I_{E1},\\qquad g_{m1}=\\frac{I_{C1}}{V_{T}}.$$\n使用给定值 $V_{CC}=15\\ \\text{V}$，$R_{1A}=82\\ \\text{k}\\Omega$，$R_{2A}=18\\ \\text{k}\\Omega$，$R_{E1}=1.0\\ \\text{k}\\Omega$，$\\beta=120$，$V_{BE}=0.7\\ \\text{V}$，$V_{T}=25\\ \\text{mV}$：\n$$V_{\\text{TH1}}=15\\cdot\\frac{18}{82+18}=2.7\\ \\text{V},\\quad R_{\\text{TH1}}=\\frac{82\\cdot 18}{82+18}\\ \\text{k}\\Omega=14.76\\ \\text{k}\\Omega,$$\n$$I_{E1}=\\frac{2.7-0.7}{1000+\\frac{14760}{121}}=\\frac{2.0}{1121.983}\\ \\text{A}=1.783\\times 10^{-3}\\ \\text{A},$$\n$$I_{C1}=\\frac{120}{121}I_{E1}=1.768\\times 10^{-3}\\ \\text{A},\\qquad g_{m1}=\\frac{1.768\\times 10^{-3}}{0.025}=7.074\\times 10^{-2}\\ \\text{S}.$$\n\n第二级的直流偏置（由于耦合电容而独立）类似地可以得出 $I_{C2}$，然后是 $r_{\\pi 2}$。当 $R_{1B}=68\\ \\text{k}\\Omega$，$R_{2B}=13\\ \\text{k}\\Omega$，$R_{E2}=750\\ \\Omega$ 时：\n$$V_{\\text{TH2}}=15\\cdot\\frac{13}{68+13}=\\frac{195}{81}=2.4074\\ \\text{V},\\quad R_{\\text{TH2}}=\\frac{68\\cdot 13}{68+13}\\ \\text{k}\\Omega=\\frac{884}{81}\\ \\text{k}\\Omega=10.9136\\ \\text{k}\\Omega,$$\n$$I_{E2}=\\frac{V_{\\text{TH2}}-V_{BE}}{R_{E2}+\\frac{R_{\\text{TH2}}}{\\beta+1}}=\\frac{1.7074}{750+\\frac{10913.58}{121}}=\\frac{1.7074}{840.195}\\ \\text{A}=2.032\\times 10^{-3}\\ \\text{A},$$\n$$I_{C2}=\\frac{120}{121}I_{E2}=2.015\\times 10^{-3}\\ \\text{A},\\qquad r_{\\pi 2}=\\frac{\\beta V_{T}}{I_{C2}}=\\frac{120\\cdot 0.025}{2.015\\times 10^{-3}}=1.49\\times 10^{3}\\ \\Omega.$$\n因此，第二级的输入电阻为\n$$R_{\\text{in2}}=R_{1B}\\parallel R_{2B}\\parallel r_{\\pi 2}=10.9136\\ \\text{k}\\Omega\\parallel 1.488\\ \\text{k}\\Omega=1.310\\ \\text{k}\\Omega.$$\n\n第一级的集电极通过耦合电容被 $R_{\\text{in2}}$ 负载，因此等效集电极负载为\n$$R_{L1}=R_{C1}\\parallel R_{\\text{in2}}=6.8\\ \\text{k}\\Omega\\parallel 1.310\\ \\text{k}\\Omega=1.098\\times 10^{3}\\ \\Omega.$$\n\n因此，第一级的负载交流电压增益为\n$$A_{v1}=-g_{m1}R_{L1}=-(7.074\\times 10^{-2})\\times(1.098\\times 10^{3})=-7.77\\times 10^{1}.$$\n四舍五入至三位有效数字，\n$$A_{v1}=-77.7.$$", "answer": "$$\\boxed{-77.7}$$", "id": "1287036"}, {"introduction": "成功设计级联放大器不仅需要分析其性能，更关键在于根据设计目标（如输入/输出阻抗、增益或带宽）选择合适的放大器组态。不同的级联组合（如共射-共射，共射-共基，或共射-共集）具有截然不同的特性。本练习将让你扮演电路设计师的角色，通过比较不同第二级组态对总输出电阻的影响，来理解如何做出明智的拓扑选择，以满足特定的电路要求。[@problem_id:1287017]", "problem": "一位电子工程师正在设计一个两级级联放大器，该放大器使用两个相同的双极结型晶体管 (BJT)。这些 BJT 偏置在相同的直流工作点，其小信号行为可以用混合参数 (h-参数) 模型来描述。放大器的第一级是固定的共发射极 (CE) 配置，带有一个集电极电阻 $R_{C1}$。\n\n设计目标是为第二级选择一种配置，以最大化整个两级放大器的总小信号输出电阻 $R_{out}$。第二级的可用配置有共发射极 (CE)、共基极 (CB) 或共集电极 (CC)。\n\n在工作点，相同的 BJT 具有以下 CE h-参数：\n- 输入阻抗, $h_{ie} = 1.25 \\text{ k}\\Omega$\n- 正向电流增益, $h_{fe} = 120$\n- 输出导纳, $h_{oe} = 20 \\text{ }\\mu\\text{S}$\n- 反向电压反馈比, $h_{re} = 2.0 \\times 10^{-4}$\n\n电路参数为：\n- 第一级的集电极电阻, $R_{C1} = 8.0 \\text{ k}\\Omega$\n- 对于 CE 或 CB 第二级选项，使用一个 $R_{C2} = 8.0 \\text{ k}\\Omega$ 的集电极电阻作为负载。\n- 对于 CC 第二级选项，使用一个 $R_{E2} = 8.0 \\text{ k}\\Omega$ 的发射极电阻作为负载。\n\n第二级的下列哪种配置能产生最高的总输出电阻 $R_{out}$？\n\nA. 共发射极 (CE)\n\nB. 共基极 (CB)\n\nC. 共集电极 (CC)\n\nD. 三种配置产生的输出电阻大致相同。", "solution": "我们希望找到能最大化总小信号输出电阻的第二级配置，其中输出取自第二级的输出节点。根据小信号的定义，将输入源设置为零，并通过一个测试源来找出在输出节点看到的电阻。\n\n用与给定 h-参数相关的 hybrid-pi 参数对每个相同的 BJT 进行建模：\n- 输入电阻: $r_{\\pi} = h_{ie}$。\n- 跨导: $g_{m} = \\frac{h_{fe}}{h_{ie}}$ (使用小信号关系 $\\beta = g_{m} r_{\\pi}$)。\n- 输出电阻: $r_{o} = \\frac{1}{h_{oe}}$。\n- 反向电压反馈 $h_{re}$ 非常小，其对输出电阻的影响在一阶近似下可以忽略不计，因此我们在计算中忽略它。\n\n给定的数值为：\n$$r_{\\pi} = 1.25 \\times 10^{3}, \\quad \\beta = 120, \\quad g_{m} = \\frac{120}{1.25 \\times 10^{3}} = 9.6 \\times 10^{-2}, \\quad r_{o} = \\frac{1}{20 \\times 10^{-6}} = 5.0 \\times 10^{4}.$$\n\n第一级 (CE) 的输出节点 (集电极) 连接到 $R_{C1}$ 和第一个晶体管的 $r_{o}$；当输入源设置为零时，第一级输出端的对地小信号电阻为\n$$R_{X} = R_{C1} \\parallel r_{o} = \\left(\\frac{1}{R_{C1}} + \\frac{1}{r_{o}}\\right)^{-1} = \\left(\\frac{1}{8.0 \\times 10^{3}} + \\frac{1}{5.0 \\times 10^{4}}\\right)^{-1} \\approx 6.8966 \\times 10^{3}.$$\n\n现在评估每种配置下第二级的输出电阻。\n\n1) 第二级为 CE：\n输入源置零时，第二级的基极通过 $R_{X}$ 和 $r_{\\pi}$ 接地，并且由于 $h_{re} \\approx 0$，在集电极施加测试激励时，基极电压保持为地电位。因此，看入第二个晶体管集电极的小信号电阻近似为 $r_{o}$，并且该级的输出节点还有一个连接到交流地的 $R_{C2}$。因此\n$$R_{\\text{out,CE}} \\approx R_{C2} \\parallel r_{o} = \\left(\\frac{1}{8.0 \\times 10^{3}} + \\frac{1}{5.0 \\times 10^{4}}\\right)^{-1} \\approx 6.8966 \\times 10^{3}.$$\n\n2) 第二级为 CB：\n这里基极为交流接地，发射极由第一级的输出通过电阻 $R_{S} = R_{X}$ 驱动。为了求出看入第二个晶体管集电极的小信号电阻（仅晶体管本身），用测试电压 $v_{c}$ 驱动集电极，并设产生的测试电流为 $i_{t}$；发射极节点的电压为 $v_{e}$，并通过 $R_{S}$ 接地。使用 hybrid-pi 模型 (忽略 $h_{re}$)：\n- 通过 $r_{o}$ 从集电极到发射极的电流是 $(v_{c} - v_{e})/r_{o}$。\n- 从集电极到发射极的受控电流源是 $g_{m} v_{\\pi}$，其中 $v_{\\pi} = v_{b} - v_{e} = -v_{e}$，因此等于 $-g_{m} v_{e}$。\n\n发射极节点 KCL (通过 $R_{S}$ 的电流等于从集电极支路进入的电流)：\n$$\\frac{v_{e}}{R_{S}} = \\frac{v_{c} - v_{e}}{r_{o}} - g_{m} v_{e}.$$\n整理得\n$$v_{e} \\left(g_{m} + \\frac{1}{r_{o}} + \\frac{1}{R_{S}}\\right) = \\frac{v_{c}}{r_{o}}, \\quad \\Rightarrow \\quad v_{e} = \\frac{v_{c}/r_{o}}{g_{m} + \\frac{1}{r_{o}} + \\frac{1}{R_{S}}}.$$\n\n集电极节点 KCL 给出测试电流：\n$$i_{t} = \\frac{v_{c} - v_{e}}{r_{o}} - g_{m} v_{e} = \\frac{v_{c}}{r_{o}} - v_{e} \\left(\\frac{1}{r_{o}} + g_{m}\\right) = \\frac{v_{c}}{r_{o}} \\left[1 - \\frac{\\frac{1}{r_{o}} + g_{m}}{g_{m} + \\frac{1}{r_{o}} + \\frac{1}{R_{S}}}\\right] = \\frac{v_{c}}{r_{o}} \\cdot \\frac{\\frac{1}{R_{S}}}{g_{m} + \\frac{1}{r_{o}} + \\frac{1}{R_{S}}}.$$\n因此，单独晶体管的集电极小信号电阻为\n$$r_{\\text{out,CB,trans}} = \\frac{v_{c}}{i_{t}} = r_{o} \\cdot \\frac{g_{m} + \\frac{1}{r_{o}} + \\frac{1}{R_{S}}}{\\frac{1}{R_{S}}} = r_{o} \\left(1 + g_{m} R_{S} + \\frac{R_{S}}{r_{o}}\\right) = r_{o} + r_{o} g_{m} R_{S} + R_{S}.$$\n\n该级的输出节点还有一个连接到交流地的 $R_{C2}$，所以\n$$R_{\\text{out,CB}} = R_{C2} \\parallel r_{\\text{out,CB,trans}}.$$\n数值上，$R_{S} = R_{X} \\approx 6.8966 \\times 10^{3}$ 且 $g_{m} R_{S} \\approx 9.6 \\times 10^{-2} \\times 6.8966 \\times 10^{3} \\approx 6.62 \\times 10^{2}$。因此\n$$r_{\\text{out,CB,trans}} \\approx 5.0 \\times 10^{4} \\left(1 + 6.62 \\times 10^{2} + \\frac{6.8966 \\times 10^{3}}{5.0 \\times 10^{4}}\\right) + 0 \\approx 5.0 \\times 10^{4} \\times 6.63 \\times 10^{2} + 6.8966 \\times 10^{3} \\approx 3.3 \\times 10^{7},$$\n这比 $R_{C2} = 8.0 \\times 10^{3}$ 大好几个数量级。因此\n$$R_{\\text{out,CB}} \\approx R_{C2} \\approx 8.0 \\times 10^{3}.$$\n\n3) 第二级为 CC (射极跟随器)：\n输出在发射极，通过 $R_{E2}$ 接地。输入源置零时，基极看到的对地戴维南电阻为 $R_{B} = R_{X}$。看入发射极的射极跟随器的小信号输出电阻 (忽略 $r_{o}$) 近似为\n$$r_{\\text{out,CC,trans}} \\approx \\frac{r_{\\pi} + R_{B}}{1 + \\beta},$$\n而包含 $r_{o}$ 会使其等效地并联，这对这里的值几乎没有改變。数值上，\n$$r_{\\text{out,CC,trans}} \\approx \\frac{1.25 \\times 10^{3} + 6.8966 \\times 10^{3}}{1 + 120} \\approx \\frac{8.1466 \\times 10^{3}}{121} \\approx 6.735 \\times 10^{1}.$$\n该级的输出节点有 $R_{E2}$ 接地，所以总输出电阻为\n$$R_{\\text{out,CC}} \\approx R_{E2} \\parallel r_{\\text{out,CC,trans}} \\approx 8.0 \\times 10^{3} \\parallel 6.735 \\times 10^{1} \\approx 6.7 \\times 10^{1},$$\n这比 CE 和 CB 的情况小了几个数量级。\n\n比较：\n- CE: $R_{\\text{out,CE}} \\approx 6.90 \\times 10^{3}$。\n- CB: $R_{\\text{out,CB}} \\approx 8.0 \\times 10^{3}$ (受 $R_{C2}$ 限制，因为固有集电极电阻非常大)。\n- CC: $R_{\\text{out,CC}} \\approx 6.7 \\times 10^{1}$。\n\n因此，共基极第二级产生最高的总输出电阻。", "answer": "$$\\boxed{B}$$", "id": "1287017"}, {"introduction": "除了使用电容进行交流耦合，直接耦合是另一种重要的级联技术，尤其在集成电路设计中十分普遍，因为它可以节省芯片面积并改善低频响应。直接耦合的挑战在于，前一级的直流输出电压直接决定了后一级的静态工作点（Q点），这要求精确的偏置设计。本练习将带你分析一个直接耦合的MOSFET放大器，重点关注如何通过设置第一级的直流电压，来精确地为第二级建立所需的静态工作点。[@problem_id:1287034]", "problem": "考虑一个由两个相同的N沟道金属氧化物半导体（NMOS）晶体管 $M_1$ 和 $M_2$ 构成的两级放大器。两个晶体管均采用共源（CS）配置，其源极端子接地。放大器的两个级是直接耦合的，这意味着 $M_1$ 的漏极端子直接连接到 $M_2$ 的栅极端子。该电路由单inject直流电压源 $V_{DD} = 5.0$ V 供电。每个晶体管的漏极通过一个漏极电阻（$M_1$ 的为 $R_{D1}$，$M_2$ 的为 $R_{D2}$）连接到电源 $V_{DD}$。\n\n两个晶体管具有相同的阈值电压 $V_{tn} = 0.70$ V 和相同的跨导参数 $k_n = 1.0 \\text{ mA/V}^2$。工作在饱和区的晶体管的漏极电流 $I_D$ 由表达式 $I_D = k_n (V_{GS} - V_{tn})^2$ 给出，其中 $V_{GS}$ 是栅-源电压。您可以忽略沟道长度调制效应（即，假设输出电阻 $r_o$ 为无穷大）。\n\n该放大器的直流偏置设计旨在将第二级（$M_2$）的静态工作点设置为漏极电流 $I_{D2,Q} = 0.50$ mA 和漏极电压 $V_{D2,Q} = 2.5$ V。已经确认，此工作点使 $M_2$ 处于饱和区。\n\n为了实现第二级的这个特定静态条件，第一级晶体管漏极所需的直流电压 $V_{D1,Q}$ 是多少？请以伏特为单位表示答案，并四舍五入到三位有效数字。", "solution": "这两个级是直接耦合的，因此第二个晶体管的栅极连接到第一个晶体管的漏极。由于源极接地，第二个晶体管的栅-源电压等于第一个晶体管的漏极电压：\n$$\nV_{GS2} = V_{G2} - V_{S2} = V_{D1} - 0 = V_{D1}.\n$$\n对于处于饱和区的NMOS晶体管（忽略沟道长度调制），漏极电流为\n$$\nI_{D2} = k_{n}\\left(V_{GS2} - V_{tn}\\right)^{2}.\n$$\n求解为实现指定的静态电流所需的栅-源电压，\n$$\nV_{GS2} = V_{tn} + \\sqrt{\\frac{I_{D2}}{k_{n}}}.\n$$\n因为在此电路中 $V_{GS2} = V_{D1}$，所以 $M_{1}$ 所需的直流漏极电压为\n$$\nV_{D1,Q} = V_{tn} + \\sqrt{\\frac{I_{D2,Q}}{k_{n}}}.\n$$\n代入给定的数值 $V_{tn} = 0.70$，$I_{D2,Q} = 0.50 \\text{ mA}$ 和 $k_{n} = 1.0 \\text{ mA/V}^{2}$，\n$$\nV_{D1,Q} = 0.70 + \\sqrt{\\frac{0.50}{1.0}} = 0.70 + \\sqrt{0.50} \\approx 0.70 + 0.70710678 \\approx 1.40710678.\n$$\n四舍五入到三位有效数字，得到 $V_{D1,Q} \\approx 1.41$。作为 $M_2$ 饱和的一致性检查，过驱动电压为 $V_{OV2} = V_{GS2} - V_{tn} \\approx 0.707$，$V_{D2,Q} = 2.5$ 满足 $V_{D2,Q} \\geq V_{OV2}$，这证实了其处于饱和状态。", "answer": "$$\\boxed{1.41}$$", "id": "1287034"}]}