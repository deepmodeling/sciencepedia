## 引言
在[模拟电路设计](@entry_id:270580)的广阔领域中，[负反馈](@entry_id:138619)是提升放大器性能、确保其稳定性和精度的基石。然而，要将微弱的电流信号精确地转换为稳定、可用的电压信号，工程师需要一种特定的电路结构——[跨阻放大器](@entry_id:275441)。如何系统性地构建并优化这类放大器，是模[拟设](@entry_id:184384)计中的一个核心挑战。本文将全面解析解决这一问题的关键技术：并联-并联[负反馈](@entry_id:138619)。

本文旨在为您提供一个从理论到实践的完整学习路径。在第一章“原理与机制”中，我们将剖析并联-并联拓扑的构成，推导其[闭环增益](@entry_id:275610)，并量化其在稳定增益、扩展带宽和降低阻抗方面的显著优势。接着，在第二章“应用与跨学科联系”中，我们将探索这一强大拓扑在[光通信](@entry_id:200237)、[电力](@entry_id:262356)电子、高速[电路设计](@entry_id:261622)等领域的广泛应用，并讨论噪声、稳定性等实际问题。最后，通过第三章“动手实践”中的精选问题，您将有机会亲手应用所学知识，巩固对并联-并联反馈的深刻理解。

## 原理与机制

[负反馈](@entry_id:138619)是[模拟电路设计](@entry_id:270580)中用于稳定放大器性能、精确设定其增益并调整其输入与[输出阻抗](@entry_id:265563)的基石。根据信号在输入端混合的方式和在输出端采样的方式，[反馈拓扑](@entry_id:271848)可分为四种基本类型。本章将深入探讨其中一种至关重要的配置：**并联-并联反馈（shunt-shunt feedback）**。这种拓扑结构在输入端采用并联混合（电流求和），在输出端采用并联采样（电压采样）。其核心功能是构建一个性能稳定且精确的**[跨阻放大器](@entry_id:275441)（transresistance amplifier）**，它接收电流信号作为输入，并产生一个成比例的电压信号作为输出。

### 并联-并联拓扑：概念总览

为了理解并联-并联反馈的结构，我们必须分别审视其输入和输出连接。

- **输出端的并联采样（Shunt Sensing）**：反馈网络的目标是“感知”或“采样”输出信号。在并联-并联配置中，输出信号是电压 $v_o$。为了测量电压，反馈网络必须与输出端口并联连接，就像电压表一样。这种并联连接方式在反馈术语中被称为**并联采样**。一个典型的例子是，反馈网络的输入端直接连接到放大器的输出节点。[@problem_id:1307717] [@problem_id:1332788]

- **输入端的并联混合（Shunt Mixing）**：反馈网络将采样到的输出信号经过处理后，送回到放大器的输入端，与原始输入信号进行“混合”。在并联-并联配置中，输入信号是一个电流 $i_s$。反馈网络产生的反馈信号也是一个电流 $i_f$。这两个电流在输入节点处通过[基尔霍夫电流定律](@entry_id:270632)（KCL）进行求和，即它们并联注入同一点。这种通过电流求和的混合方式被称为**并联混合**。[@problem_id:1307717]

因此，“并联-并联”这个名称精确地描述了信号的路径：在输出端并联采样电压，在输入端并联混合电流。这种结构的理想放大器类型是**[跨阻放大器](@entry_id:275441)**，其增益由输出电压与输入电流之比定义，单位为欧姆（$\Omega$）。

### 理想反馈模型与[闭环增益](@entry_id:275610)

我们可以使用一个通用的方框图模型来分析并联-并联[反馈系统](@entry_id:268816)。该系统由一个主放大器（或称开环放大器）和一个反馈网络构成。

- **主放大器**：其功能是跨阻放大，由其**开环跨阻增益** $R_m$ 表征。它接收输入电流 $i_i$ 并产生输出电压 $v_o$：
  $v_o = R_m i_i$

- **反馈网络**：它采样输出电压 $v_o$，并产生一个反馈电流 $i_f$。这个过程由**[反馈因子](@entry_id:275731)** $\beta_g$ 描述，它是一个**跨导（transconductance）**：
  $i_f = \beta_g v_o$

在输入节点，源电流 $i_s$ 被分流为进入主放大器的电流 $i_i$ 和来自反馈网络的电流 $i_f$。对于负反馈，反馈电流会减小流入放大器的净电流。根据[基尔霍夫电流定律](@entry_id:270632)：
$i_s = i_i + i_f$

通过联立这三个基本方程，我们可以推导出整个系统的**闭环跨阻增益** $A_{rf} = v_o / i_s$。首先，将 $i_f$ 和 $i_i = v_o / R_m$ 代入KCL方程：
$i_s = \frac{v_o}{R_m} + \beta_g v_o = v_o \left( \frac{1}{R_m} + \beta_g \right)$

整理后得到[闭环增益](@entry_id:275610)的表达式 [@problem_id:1332837]：
$A_{rf} = \frac{v_o}{i_s} = \frac{1}{\frac{1}{R_m} + \beta_g} = \frac{R_m}{1 + R_m \beta_g}$

在这个表达式中，乘积 $T = R_m \beta_g$ 是一个极其重要的无量纲参数，称为**[环路增益](@entry_id:268715)（loop gain）**。它是信号在[反馈环](@entry_id:273536)路中循环一周所经历的总增益。因此，[闭环增益](@entry_id:275610)的经典形式可以写为：
$A_{rf} = \frac{R_m}{1 + T}$

当环路增益非常大时（$T \gg 1$），分母中的“1”可以忽略，[闭环增益](@entry_id:275610)近似为：
$A_{rf} \approx \frac{R_m}{T} = \frac{R_m}{R_m \beta_g} = \frac{1}{\beta_g}$

这一结果揭示了[负反馈](@entry_id:138619)的核心优势之一：当环路增益足够大时，系统的整体增益几乎完全由反馈网络（$\beta_g$）决定，而不再依赖于可能不稳定或不精确的主[放大器增益](@entry_id:261870) $R_m$。在许多实际电路中，反馈网络由稳定、精确的无源元件（如电阻）构成，从而实现了高度可预测和稳定的[闭环增益](@entry_id:275610)。

最典型的并联-并联反馈电路是使用[运算放大器](@entry_id:263966)（op-amp）构建的**[跨阻放大器](@entry_id:275441)**。[@problem_id:1307717] 在这种配置中，一个反馈电阻 $R_f$ 连接在运放的输出端和反相输入端之间，输入电流源连接到反相输入端，同相输入端接地。对于理想[运放](@entry_id:274011)，其开环增益无穷大，输入电流为零，且由于[负反馈](@entry_id:138619)，反相输入端形成**[虚地](@entry_id:269132)（virtual ground）**。因此，所有输入电流 $I_{in}$ 都必须流过反馈电阻 $R_f$。根据欧姆定律：
$V_{out} - V_{-} = -I_{in} R_f$
由于 $V_{-} = 0$（[虚地](@entry_id:269132)），我们得到：
$V_{out} = -I_{in} R_f$
因此，闭环跨阻增益为 $A_{rf} = -R_f$。[@problem_id:1332807] 在这个理想例子中，[反馈因子](@entry_id:275731) $\beta_g = -1/R_f$（负号表示[负反馈](@entry_id:138619)），开环增益 $R_m$ 相当于[运放](@entry_id:274011)的开环电压增益乘以某个[等效电阻](@entry_id:264704)，趋于无穷大。这完美地印证了 $A_{rf} \approx 1/\beta_g$ 的结论。

### 并联-并联负反馈的优势

除了稳定增益，并联-并联[负反馈](@entry_id:138619)还带来了一系列显著的性能改善，这些改善对于构建高性能放大器至关重要。

#### 增益的去敏感化

现实世界中放大器的开环增益 $R_m$ 很容易受到制造容差、温度变化和电源电压波动的影响。[负反馈](@entry_id:138619)能够显著降低[闭环增益](@entry_id:275610)对这些变化的敏感度。我们可以通过对[闭环增益](@entry_id:275610)公式进行[微分](@entry_id:158718)来量化这种效应。[闭环增益](@entry_id:275610) $A_{rf}$ 相对于开环增益 $R_m$ 的变化率（即灵敏度）为：
$\frac{\Delta A_{rf}}{A_{rf}} = \left( \frac{1}{1 + R_m \beta_g} \right) \frac{\Delta R_m}{R_m} = \frac{1}{1+T} \frac{\Delta R_m}{R_m}$

这个关系式表明，[闭环增益](@entry_id:275610)的相对变化量是开环增益相对变化量的 $\frac{1}{1+T}$ 倍。因子 $(1+T)$ 被称为**去敏感因子（desensitivity factor）**。如果环路增益 $T$ 很大，[闭环增益](@entry_id:275610)的变化将远小于开环增益的变化。

例如，假设一个[跨阻放大器](@entry_id:275441)的开环增益 $R_{m,OL}$ 有高达 $40\%$ 的不确定性。如果通过引入并联-并联负反馈，使得[环路增益](@entry_id:268715) $T=24$，那么[闭环增益](@entry_id:275610) $R_{m,CL}$ 的相对变化将减小为 [@problem_id:1306793]：
$\frac{\Delta R_{m, CL}}{R_{m, CL}} = \frac{1}{1+24} \times 0.40 = \frac{0.40}{25} = 0.016$
这意味着一个原本高达 $40\%$ 的增益波动被成功抑制到了仅有 $1.6\%$，极大地提升了电路的稳定性和可预测性。

#### 带宽的扩展

放大器的增益并非在所有频率下都保持不变。一个常见的简化模型是单极点模型，其开环增益表示为：
$R_m(s) = \frac{R_{m0}}{1 + s/\omega_H}$
其中 $R_{m0}$ 是直流（零频）开环增益，$\omega_H$ 是开环-3dB带宽（以弧度/秒为单位）。将此模型代入[闭环增益](@entry_id:275610)公式，我们得到：
$A_{rf}(s) = \frac{\frac{R_{m0}}{1 + s/\omega_H}}{1 + \beta_g \frac{R_{m0}}{1 + s/\omega_H}} = \frac{R_{m0}}{1 + \beta_g R_{m0} + s/\omega_H} = \frac{R_{m0}/(1+T_0)}{1 + s/(\omega_H(1+T_0))}$
其中 $T_0 = \beta_g R_{m0}$ 是直流[环路增益](@entry_id:268715)。

从这个结果中，我们可以识别出闭环[直流增益](@entry_id:267449) $A_{rf,0}$ 和闭环-3dB带宽 $\omega_{Hf}$：
$A_{rf,0} = \frac{R_{m0}}{1+T_0}$
$\omega_{Hf} = \omega_H(1+T_0)$

这表明，施加负反馈后，[直流增益](@entry_id:267449)降低了 $(1+T_0)$ 倍，而带宽则扩大了 $(1+T_0)$ 倍。它们的乘积，即**增益-带宽积（gain-bandwidth product, GBW）**，保持不变：
$A_{rf,0} \cdot \omega_{Hf} = \left( \frac{R_{m0}}{1+T_0} \right) \cdot (\omega_H(1+T_0)) = R_{m0} \omega_H$

这个守恒关系意味着我们可以通过调整反馈量（即调整 $T_0$）来用增益换取带宽。例如，一个开环放大器，其电压增益-带宽积 $GBW_v = 3.50 \text{ GHz}$（基于 $50.0 \Omega$ 参考电阻），其跨阻增益-带宽积为 $R_{m0} f_H = GBW_v \times R_0$。如果设计一个闭环跨阻增益为 $R_{mf,0} = 5.00 \text{ k}\Omega$ 的放大器，其闭环带宽 $f_{Hf}$ 可以计算得出 [@problem_id:1332822]：
$f_{Hf} = \frac{R_{m0} f_H}{R_{mf,0}} = \frac{GBW_v \times R_0}{R_{mf,0}} = \frac{(3.50 \times 10^9 \text{ Hz}) \times (50.0 \Omega)}{5.00 \times 10^3 \Omega} = 35.0 \text{ MHz}$
这清晰地展示了如何通过牺牲增益来获得所需的高速性能。

#### 输入与[输出阻抗](@entry_id:265563)的调整

并联-并联反馈对放大器的输入和输出阻抗有着深刻且可预测的影响。一个普遍的规律是：**在某个端口的并联连接会降低该端口的等效阻抗**。

- **[输入阻抗](@entry_id:271561)**：由于输入端是并联混合，闭环[输入阻抗](@entry_id:271561) $R_{if}$ 会显著降低。其值等于开环[输入阻抗](@entry_id:271561) $R_i$ 除以去敏感因子：
  $R_{if} = \frac{R_i}{1+T}$
  对于一个理想的电流输入放大器（[跨阻放大器](@entry_id:275441)），低输入阻抗是极其有利的。它允许放大器从信号源“吸收”几乎全部的可用电流，而不是让电流在信号源的[内阻](@entry_id:268117)上产生不必要的电压降。例如，一个开环输入电阻为 $R_i=3.00 \text{ k}\Omega$ 的放大器，在[环路增益](@entry_id:268715) $T=20$ 的反馈作用下，其闭环[输入电阻](@entry_id:178645)将降至 [@problem_id:1337899]：
  $R_{if} = \frac{3.00 \text{ k}\Omega}{1+20} \approx 143 \Omega$

- **输出阻抗**：同样，由于输出端是并联采样，闭环[输出阻抗](@entry_id:265563) $R_{of}$ 也会显著降低。其值等于开环[输出阻抗](@entry_id:265563) $R_o$ 除以去敏感因子：
  $R_{of} = \frac{R_o}{1+T}$
  低输出阻抗是[理想电压源](@entry_id:276609)的特征。它意味着放大器的输出电压在驱动负载时不会因为负载电流的抽取而显著下降。考虑一个开环输出电阻为 $R_o=1.50 \text{ k}\Omega$ 的放大器，在 $T=20$ 的反馈下，其闭环[输出电阻](@entry_id:276800)将变为 [@problem_id:1337899]：
  $R_{of} = \frac{1.50 \text{ k}\Omega}{1+20} \approx 71.4 \Omega$
  对于具有非常大开环增益的[运放电路](@entry_id:265104)，这种降低效应更为剧烈。一个具有 $A_{OL} = 2.0 \times 10^{4}$ 和 $R_{out} = 75 \Omega$ 的非理想[运放](@entry_id:274011)，在构成闭环[跨阻放大器](@entry_id:275441)后，其输出阻抗可以降至毫欧级别，例如 $0.00469 \Omega$ [@problem_id:1332788]。这使得放大器的输出表现得像一个近乎理想的电压源。

综上所述，并联-并联反馈通过同时降低输入和输出阻抗，将一个普通的放大器转变为一个高性能的[跨阻放大器](@entry_id:275441)，它能有效地接收输入电流并稳定地输出电压。[@problem_id:1317269]

### 实际电路实现与分析

虽然理想反馈模型为我们提供了深刻的洞察，但在实际电路中，我们需要考虑更多非理想效应。

#### 运算放大器实现中的非理想性

基于运放的[跨阻放大器](@entry_id:275441)是并联-并联反馈最常见的应用。在进行高精度或高频率分析时，必须考虑运放的非理想性以及寄生元件的影响。

例如，在实际的反馈电阻 $R_f$ 上，不可避免地会存在一个微小的**寄生并联电容** $C_f$。这个电容会使得反馈网络的阻抗 $Z_f(s)$ 变为频率的函数：
$Z_f(s) = R_f || \frac{1}{sC_f} = \frac{R_f}{1 + sR_fC_f}$

对于一个理想运放构成的[跨阻放大器](@entry_id:275441)，其[闭环增益](@entry_id:275610)为 $A_{cl}(s) = -Z_f(s)$。因此，[寄生电容](@entry_id:270891)在[闭环传递函数](@entry_id:275480)中引入了一个极点 [@problem_id:1332812]：
$A_{cl}(s) = -\frac{R_f}{1 + sR_fC_f}$
这个极点的频率为 $f_p = \frac{1}{2\pi R_f C_f}$。例如，当 $R_f = 250 \text{ k}\Omega$ 且[寄生电容](@entry_id:270891) $C_f = 2.0 \text{ pF}$ 时，会在大约 $318 \text{ kHz}$ 处产生一个极点。这个极点会限制放大器的工作带宽，并在与运放自身的极点相互作用时可能引发不稳定性（[振荡](@entry_id:267781)）。因此，在高速设计中，必须仔细管理反馈路径上的[寄生电容](@entry_id:270891)。

#### 分立晶体管实现

并联-并联反馈结构也可以用分立晶体管实现。一个经典的例子是使用单个BJT构建的放大器，其中一个反馈电阻 $R_F$ 从集电极（输出）连接到基极（输入）。输入电流信号注入基极，输出电压在集电极获取。[@problem_id:1332800]

对这类电路进行精确分析通常比应用理想反馈公式更复杂，需要直接使用[小信号模型](@entry_id:270703)和[电路分析](@entry_id:261116)方法（如KCL和KVL）。例如，对于考虑了晶体管[输入电阻](@entry_id:178645) $r_{\pi}$、输出电阻 $r_o$ 和[跨导](@entry_id:274251) $g_m$ 的[BJT放大器](@entry_id:277024)，其闭环跨阻增益可以通过在基极和集电极节点列写KCL方程来求解，最终得到一个复杂的表达式，如：
$R_{mf} = \frac{r_{\pi} R_C r_o (1 - g_m R_F)}{(r_{\pi} + R_F)(R_C + r_o) + R_C r_o (1 + g_m r_{\pi})}$
尽管形式复杂，但这个结果同样体现了[负反馈](@entry_id:138619)的效应，即[闭环增益](@entry_id:275610)是电路所有参数（包括反馈电阻 $R_F$）的函数。这种直接分析法虽然繁琐，但对于理解非理想条件下电路的真实行为是必不可少的。它验证了我们在理想模型中建立的直觉，并为精确设计提供了数学工具。