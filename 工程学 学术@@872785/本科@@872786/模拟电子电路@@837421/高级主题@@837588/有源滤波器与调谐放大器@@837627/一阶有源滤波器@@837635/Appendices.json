{"hands_on_practices": [{"introduction": "有源滤波器的主要应用之一是选择性地滤除不必要的频率，例如来自传感器的噪声信号。这个练习将你置于一个真实的设计场景中：你必须配置一个高通滤波器以满足特定的噪声衰减要求。这个过程将锻炼你利用滤波器的频率响应特性，将性能目标转化为精确元件值的核心技能。[@problem_id:1303548]", "problem": "一位工程师正在设计一个模拟前端，用于处理来自传感器的信号。原始信号被一个特定频率 $f_{noise}$ 的强低频噪声分量所污染。为了减轻这个问题，采用了一个理想运算放大器（op-amp）以同相配置实现的一阶有源高通滤波器。\n\n该滤波器电路由一个电容为 $C$ 的电容器和一个电阻为 $R$ 的电阻器组成，它们共同设定了滤波器的频率响应。运算放大器的反馈网络被配置为在高频下提供一个恒定的通带电压增益 $A_0$。\n\n主要设计规范要求，在噪声频率 $f_{noise}$ 处，滤波器的电压增益幅值恰好是通带增益 $A_0$ 的 $1\\%$。\n\n给定以下参数：\n- 噪声频率，$f_{noise} = 5.00 \\, \\text{Hz}$\n- 电容，$C = 2.20 \\, \\mu\\text{F}$\n- 通带增益，$A_0 = 20$\n\n计算该滤波器所需的电阻 $R$。以欧姆（$\\Omega$）为单位表示最终答案，并四舍五入到三位有效数字。", "solution": "问题要求计算在一阶有源高通滤波器中，为在给定噪声频率下实现特定衰减所需的电阻 $R$ 的值。\n\n首先，我们为所述的有源高通滤波器建立传递函数 $H(s) = V_{out}(s) / V_{in}(s)$。该电路是一个同相配置的运算放大器，其中输入信号 $V_{in}(s)$ 首先通过一个无源RC高通网络，然后才到达同相输入端 ($V_+$)。运算放大器随后放大该端的电压。\n\n同相输入端的电压 $V_+(s)$ 由电阻 $R$ 和电容 $C$ 组成的分压器决定。\n$$V_+(s) = V_{in}(s) \\frac{R}{R + \\frac{1}{sC}} = V_{in}(s) \\frac{sRC}{1 + sRC}$$\n\n运算放大器处于同相配置，提供 $A_0$ 的增益。输出电压由 $V_{out}(s) = A_0 V_+(s)$ 给出。\n$$V_{out}(s) = A_0 \\left( V_{in}(s) \\frac{sRC}{1 + sRC} \\right)$$\n\n因此，滤波器的传递函数为：\n$$H(s) = \\frac{V_{out}(s)}{V_{in}(s)} = A_0 \\frac{sRC}{1 + sRC}$$\n\n为了分析滤波器相对于频率的行为，我们通过进行替换 $s = j\\omega$（其中 $\\omega = 2\\pi f$ 是角频率），在频域中评估传递函数。\n$$H(j\\omega) = A_0 \\frac{j\\omega RC}{1 + j\\omega RC}$$\n\n这个复传递函数的幅值 $|H(j\\omega)|$ 给出了在给定角频率 $\\omega$ 下滤波器的电压增益。\n$$|H(j\\omega)| = \\left| A_0 \\frac{j\\omega RC}{1 + j\\omega RC} \\right| = A_0 \\frac{|j\\omega RC|}{|1 + j\\omega RC|}$$\n$$|H(j\\omega)| = A_0 \\frac{\\omega RC}{\\sqrt{1^2 + (\\omega RC)^2}}$$\n这个表达式描述了滤波器的增益作为频率的函数。当 $\\omega \\to \\infty$ 时，增益接近 $A_0$，即通带增益。\n\n问题规定，在噪声频率 $f_{noise}$ 处的增益幅值必须是通带增益 $A_0$ 的 $1\\%$（或 0.01）。我们可以将这个条件写为：\n$$|H(j\\omega_{noise})| = 0.01 \\times A_0$$\n其中 $\\omega_{noise} = 2\\pi f_{noise}$。\n\n将我们的增益幅值表达式代入此条件：\n$$A_0 \\frac{\\omega_{noise} RC}{\\sqrt{1 + (\\omega_{noise} RC)^2}} = 0.01 A_0$$\n\n通带增益 $A_0$ 出现在方程的两边，可以被消去。这表明所需的电阻 $R$ 与具体的通带增益无关，因此给定的值 $A_0=20$ 在这部分计算中是一个干扰项。\n$$\\frac{\\omega_{noise} RC}{\\sqrt{1 + (\\omega_{noise} RC)^2}} = 0.01$$\n\n为了求解 $R$，我们可以首先求解项 $X = \\omega_{noise} RC$。\n$$\\frac{X}{\\sqrt{1 + X^2}} = 0.01$$\n\n将方程两边平方得到：\n$$\\frac{X^2}{1 + X^2} = (0.01)^2 = 0.0001 = 10^{-4}$$\n$$X^2 = 10^{-4} (1 + X^2)$$\n$$X^2 = 10^{-4} + 10^{-4} X^2$$\n$$X^2 (1 - 10^{-4}) = 10^{-4}$$\n$$X^2 (0.9999) = 10^{-4}$$\n$$X^2 = \\frac{10^{-4}}{0.9999}$$\n由于 $X = \\omega_{noise} RC$ 必须是一个正数，我们取正平方根：\n$$X = \\sqrt{\\frac{10^{-4}}{0.9999}} = \\frac{10^{-2}}{\\sqrt{0.9999}} = \\frac{0.01}{\\sqrt{0.9999}}$$\n\n现在，我们代回 $X = \\omega_{noise} RC = 2\\pi f_{noise} RC$：\n$$2\\pi f_{noise} RC = \\frac{0.01}{\\sqrt{0.9999}}$$\n\n我们现在可以求解 $R$：\n$$R = \\frac{0.01}{2\\pi f_{noise} C \\sqrt{0.9999}}$$\n\n现在我们代入给定的数值：$f_{noise} = 5.00 \\, \\text{Hz}$ 和 $C = 2.20 \\, \\mu\\text{F} = 2.20 \\times 10^{-6} \\, \\text{F}$。\n$$R = \\frac{0.01}{2\\pi (5.00) (2.20 \\times 10^{-6}) \\sqrt{0.9999}}$$\n计算分母：\n$$2\\pi (5.00) (2.20 \\times 10^{-6}) = 6.9115 \\times 10^{-5}$$\n$$\\sqrt{0.9999} \\approx 0.99995$$\n$$R \\approx \\frac{0.01}{(6.9115 \\times 10^{-5}) (0.99995)} = \\frac{0.01}{6.91115 \\times 10^{-5}}$$\n$$R \\approx 144.695 \\, \\Omega$$\n\n问题要求答案以欧姆为单位，并四舍五入到三位有效数字。\n$$R \\approx 145 \\, \\Omega$$", "answer": "$$\\boxed{145}$$", "id": "1303548"}, {"introduction": "频率响应描述了滤波器对正弦输入的稳态行为，但理解其对信号突变的反应对于数字信号处理等应用同样至关重要。本练习探讨了一阶低通滤波器对阶跃输入的时域响应。通过分析其瞬态行为以及电路时间常数在塑造输出信号时所扮演的角色，你将能更全面地理解滤波器的工作原理。[@problem_id:1303570]", "problem": "在数模转换器（DAC）的重建滤波器设计中，通常采用一阶有源低通滤波器来平滑阶梯状输出。考虑一个使用理想运算放大器（op-amp）构建的此类滤波器的简化模型。\n\n该滤波器采用反相拓扑结构实现。一个输入信号 $v_{in}(t)$ 通过一个阻值为 $R_{in}$ 的输入电阻连接到运算放大器的反相输入端。连接运放输出端和其反相输入端的反馈路径，由一个阻值为 $R_f$ 的反馈电阻与一个电容值为 $C_f$ 的反馈电容并联组成。运算放大器的同相输入端接地。\n\n在时间 $t=0$ 时，输入信号发生突变，模型化为一个幅值为 $V_0$ 的电压阶跃。这意味着当 $t \\ge 0$ 时，$v_{in}(t) = V_0$，当 $t  0$ 时，$v_{in}(t) = 0$。假设在 $t=0$ 之前，电路处于静态，且电容器完全放电。\n\n求出在所有 $t > 0$ 时，输出电压 $v_{out}(t)$ 的表达式。你的答案应该是关于时间 $t$、输入电压幅值 $V_0$ 以及元件值 $R_{in}$、$R_f$ 和 $C_f$ 的函数。", "solution": "对于一个同相输入端接地的反相拓扑结构中的理想运放，其反相输入端为虚地，即 $v_{-}=0$，且没有电流流入运放输入端。根据基尔霍夫电流定律（KCL），在反相输入节点处的电流之和为零：\n$$\n\\frac{v_{in}(t)}{R_{in}} + \\frac{v_{out}(t)}{R_{f}} + C_{f}\\frac{dv_{out}(t)}{dt} = 0\n$$\n整理上式，我们得到一个关于输出电压 $v_{out}$ 的一阶线性常微分方程：\n$$\nR_{f}C_{f}\\frac{dv_{out}}{dt} + v_{out}(t) = -\\frac{R_{f}}{R_{in}}v_{in}(t)\n$$\n当 $t > 0$ 时，输入为阶跃信号 $v_{in}(t) = V_{0}$。方程变为：\n$$\nR_{f}C_{f}\\frac{dv_{out}}{dt} + v_{out}(t) = -\\frac{R_{f}}{R_{in}}V_{0}\n$$\n该方程的解由齐次解和特解组成。特解（稳态解）对应于 $t \\to \\infty$ 的情况，此时电容相当于开路，电路变为一个简单的反相放大器，因此 $v_{p}(t) = - \\frac{R_f}{R_{in}}V_0$。齐次方程 $R_{f}C_{f}\\frac{dv_{out}}{dt} + v_{out}(t) = 0$ 的解为 $v_{h}(t) = A e^{-t/(R_f C_f)}$。\n因此，通解为：\n$$\nv_{out}(t) = v_p(t) + v_h(t) = -\\frac{R_{f}}{R_{in}}V_0 + A e^{-t/(R_f C_f)}\n$$\n我们利用初始条件来求解常数 $A$。由于电容器在 $t=0$ 之前是完全放电的，并且其两端电压不能突变，因此输出电压在 $t=0^+$ 时为零，即 $v_{out}(0^+) = 0$。\n$$\n0 = -\\frac{R_{f}}{R_{in}}V_0 + A e^{0} \\implies A = \\frac{R_{f}}{R_{in}}V_0\n$$\n将 $A$ 代回通解，我们得到最终的表达式：\n$$\nv_{out}(t) = -\\frac{R_{f}}{R_{in}}V_0 + \\frac{R_{f}}{R_{in}}V_0 e^{-t/(R_f C_f)} = -\\frac{R_{f}}{R_{in}}V_{0}\\left(1-e^{-\\frac{t}{R_{f}C_{f}}}\\right)\n$$\n此结果符合预期的初始值 $v_{out}(0^{+})=0$ 和直流极限 $v_{out}(\\infty)=-\\frac{R_{f}}{R_{in}}V_{0}$。", "answer": "$$\\boxed{-\\frac{R_{f}}{R_{in}}V_{0}\\left(1-\\exp\\!\\left(-\\frac{t}{R_{f}C_{f}}\\right)\\right)}$$", "id": "1303570"}, {"introduction": "我们之前的分析都基于理想运算放大器，但实际元件的局限性会影响电路性能。这个问题深入探讨了一个关键的非理想特性：运算放大器的压摆率（slew rate）。你将计算在压摆率引起失真之前，低通滤波器在高频下能处理的最大输入信号幅度，这突显了在实际滤波器设计中考虑运放规格的重要性。[@problem_id:1303556]", "problem": "一个数据采集系统的模拟前端采用一个有源滤波器，在数字化之前从传感器信号中去除高频噪声。该滤波器是一个一阶有源低通滤波器。该电路由一个简单的RC低通滤波级和一个同相放大级串联而成。输入信号$v_{in}$施加于一个电阻$R$上，该电阻与一个接地的电容$C$串联。电容器两端的电压随后被馈入运算放大器（op-amp）的同相输入端（+）。该运算放大器使用一个反馈电阻$R_F$和一个从反相输入端（-）接地的电阻$R_1$，配置成一个标准的同相放大器。\n\n元件值如下：\n- 电阻 $R = 10.0 \\text{ k}\\Omega$\n- 电容 $C = 1.00 \\text{ nF}$\n- 反馈电阻 $R_F = 30.0 \\text{ k}\\Omega$\n- 接地电阻 $R_1 = 10.0 \\text{ k}\\Omega$\n\n所使用的运算放大器具有指定的压摆率$SR = 0.500 \\text{ V}/\\mu\\text{s}$。该系统使用频率为$f_{in} = 400 \\text{ kHz}$的持续正弦噪声信号进行测试。确定在滤波器输出端出现压摆率引起的失真之前，此输入正弦信号的最大振幅。答案以伏特为单位表示，并四舍五入至三位有效数字。", "solution": "设输入为正弦波$v_{in}(t)=V_{in}\\sin(\\omega t)$，其中角频率 $\\omega = 2\\pi f_{in}$。从$v_{in}$到电容电压$v_{C}$的RC低通传递函数为\n$$\nH_{RC}(j\\omega)=\\frac{v_{C}}{v_{in}}=\\frac{1}{1+j\\omega R C},\\qquad |H_{RC}(j\\omega)|=\\frac{1}{\\sqrt{1+(\\omega R C)^{2}}}.\n$$\n同相放大器的闭环增益为\n$$\nG=1+\\frac{R_{F}}{R_{1}}.\n$$\n因此，输出正弦波振幅为\n$$\nV_{out}=G\\,|H_{RC}(j\\omega)|\\,V_{in}.\n$$\n对于正弦波$v_{out}(t)=V_{out}\\sin(\\omega t+\\phi)$，其最大斜率的幅值为\n$$\n\\left|\\frac{dv_{out}}{dt}\\right|_{\\max}=\\omega V_{out}.\n$$\n当该值等于压摆率$SR$时，开始出现压摆失真，因此\n$$\n\\omega\\,G\\,|H_{RC}(j\\omega)|\\,V_{in}=SR.\n$$\n求解最大无失真输入振幅，\n$$\nV_{in,\\max}=\\frac{SR}{\\omega G |H_{RC}(j\\omega)|}\n=\\frac{SR}{\\omega G}\\,\\sqrt{1+(\\omega R C)^{2}}.\n$$\n\n现在代入给定值：$R=10.0\\times 10^{3} \\, \\Omega$，$C=1.00\\times 10^{-9} \\, \\text{F}$，$R_{F}=30.0\\times 10^{3} \\, \\Omega$，$R_{1}=10.0\\times 10^{3} \\, \\Omega$。增益 $G=1+\\frac{30.0\\times 10^{3}}{10.0\\times 10^{3}}=4$。输入频率 $f_{in}=400 \\text{ kHz} = 4.00\\times 10^{5} \\text{ Hz}$，因此角频率 $\\omega=2\\pi f_{in}=2\\pi(4.00 \\times 10^5) = 8\\pi \\times 10^5 \\text{ rad/s}$。电路的时间常数 $R C=(10.0\\times 10^3)(1.00\\times 10^{-9}) = 1.00\\times 10^{-5} \\text{ s}$。于是\n$$\n\\omega R C=(8\\pi \\times 10^5)(1.00\\times 10^{-5})=8\\pi,\\qquad \\sqrt{1+(\\omega R C)^{2}}=\\sqrt{1+(8\\pi)^{2}}=\\sqrt{1+64\\pi^{2}}.\n$$\n在$SR=0.500 \\text{ V}/\\mu\\text{s} = 0.500\\times 10^{6} \\text{ V/s}$的情况下，振幅为\n$$\nV_{in,\\max}=\\frac{0.500\\times 10^{6}}{(8\\pi \\times 10^5)\\cdot 4}\\,\\sqrt{1+64\\pi^{2}}\n=\\frac{0.5}{3.2\\pi}\\sqrt{1+64\\pi^{2}}\n=1.25\\,\\sqrt{\\frac{1}{64\\pi^2}+1}.\n$$\n数值上，$\\sqrt{1+\\frac{1}{64\\pi^{2}}}\\approx 1.000792$，因此\n$$\nV_{in,\\max}\\approx 1.25\\times 1.000792\\approx 1.251 \\text{ V}.\n$$\n四舍五入到三位有效数字，结果为$1.25$ V。", "answer": "$$\\boxed{1.25}$$", "id": "1303556"}]}