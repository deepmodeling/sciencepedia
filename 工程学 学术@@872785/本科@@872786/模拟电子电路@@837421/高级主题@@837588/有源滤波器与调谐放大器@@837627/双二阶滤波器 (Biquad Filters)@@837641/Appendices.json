{"hands_on_practices": [{"introduction": "双二阶滤波器是信号处理中的基本构件，尤其在音频系统等需要塑造频谱的应用中至关重要。其主要作用之一是作为低通滤波器，有选择地通过所需的低频信号，同时衰减不想要的高频噪声。本练习将提供一个动手实践的机会，让你利用传递函数计算滤波器在特定频率下的衰减，这是分析和验证滤波器设计的一项核心技能。[@problem_id:1283325]", "problem": "在设计高保真音响系统时，采用了一个二阶 Sallen-Key 低通滤波器作为数模转换器 (DAC) 后的重建滤波器。该滤波器的作用是通过衰减由数字采样过程引入的高频失真来平滑 DAC 的输出。\n\n该滤波器的行为由以下连续时间传递函数描述：\n$$ H(s) = \\frac{\\omega_0^2}{s^2 + \\frac{\\omega_0}{Q}s + \\omega_0^2} $$\n其中$\\omega_0$是自然角频率，$Q$是品质因数。\n\n该滤波器设计的自然频率为$f_0 = 22.0 \\text{ kHz}$，品质因数为$Q=0.800$。DAC 的工作采样频率为$f_s = 96.0 \\text{ kHz}$。\n\n计算滤波器在采样频率$f_s$处的衰减。答案以分贝 (dB) 表示，并四舍五入到三位有效数字。", "solution": "对于角频率为 $\\omega$ 的正弦输入，将 $s = j\\omega$ 代入\n$$\nH(s) = \\frac{\\omega_{0}^{2}}{s^{2} + \\frac{\\omega_{0}}{Q}s + \\omega_{0}^{2}}\n$$\n得到\n$$\nH(j\\omega) = \\frac{\\omega_{0}^{2}}{-\\omega^{2} + j\\frac{\\omega_{0}}{Q}\\omega + \\omega_{0}^{2}}.\n$$\n其幅值为\n$$\n|H(j\\omega)| = \\frac{\\omega_{0}^{2}}{\\sqrt{(\\omega_{0}^{2} - \\omega^{2})^{2} + \\left(\\frac{\\omega_{0}\\omega}{Q}\\right)^{2}}}.\n$$\n引入归一化频率比 $r = \\frac{\\omega}{\\omega_{0}} = \\frac{f}{f_{0}}$，可得\n$$\n|H(j\\omega)| = \\frac{1}{\\sqrt{(1 - r^{2})^{2} + \\left(\\frac{r}{Q}\\right)^{2}}}.\n$$\n以分贝为单位的衰减定义为\n$$\nA_{\\text{dB}} = -20 \\log_{10}\\big(|H(j\\omega)|\\big) = 10 \\log_{10}\\!\\left((1 - r^{2})^{2} + \\left(\\frac{r}{Q}\\right)^{2}\\right).\n$$\n在采样频率 $f = f_{s}$ 处，已知 $f_{0} = 22.0 \\times 10^{3}$，$Q = 0.800$，$f_{s} = 96.0 \\times 10^{3}$，\n$$\nr = \\frac{f_{s}}{f_{0}} = \\frac{96.0 \\times 10^{3}}{22.0 \\times 10^{3}} = \\frac{96}{22} = \\frac{48}{11}.\n$$\n使用精确值 $Q = \\frac{4}{5}$，\n$$\n(1 - r^{2})^{2} = \\left(1 - \\left(\\frac{48}{11}\\right)^{2}\\right)^{2} = \\left(1 - \\frac{2304}{121}\\right)^{2} = \\left(-\\frac{2183}{121}\\right)^{2} = \\frac{4765489}{14641},\n$$\n$$\n\\left(\\frac{r}{Q}\\right)^{2} = \\left(\\frac{\\frac{48}{11}}{\\frac{4}{5}}\\right)^{2} = \\left(\\frac{60}{11}\\right)^{2} = \\frac{3600}{121}.\n$$\n因此，\n$$\nD \\equiv (1 - r^{2})^{2} + \\left(\\frac{r}{Q}\\right)^{2} = \\frac{4765489}{14641} + \\frac{3600}{121} = \\frac{4765489 + 435600}{14641} = \\frac{5201089}{14641}.\n$$\n于是，\n$$\nA_{\\text{dB}} = 10 \\log_{10}\\!\\left(\\frac{5201089}{14641}\\right) \\approx 10 \\log_{10}(355.241366) \\approx 25.5.\n$$\n四舍五入到三位有效数字，在 $f_{s}$ 处的衰减为 $25.5$ dB。", "answer": "$$\\boxed{25.5}$$", "id": "1283325"}, {"introduction": "滤波器的特性不仅仅由其频率响应定义；它在时域中的行为同样重要，尤其是在控制系统或数据转换应用中。品质因数 $Q$ 不仅决定了滤波器频率截断的尖锐程度，还主导了其对阶跃输入等突变信号的瞬态响应。本练习旨在探索频域参数 $Q$ 与由此产生的时域过冲之间的关键联系，突显了滤波器设计中的一个重要权衡。[@problem_id:1283369]", "problem": "一位电气工程师正在为高速数模转换器（DAC）设计一个有源重建滤波器。该滤波器的作用是平滑DAC的阶梯状输出，以产生干净的模拟信号。该滤波器被建模为一个二阶低通双二阶滤波器，其传递函数由标准形式给出：\n$$H(s) = \\frac{V_{out}(s)}{V_{in}(s)} = \\frac{\\omega_0^2}{s^2 + \\frac{\\omega_0}{Q}s + \\omega_0^2}$$\n设计规定自然频率为 $\\omega_0 = 5.0 \\times 10^6$ rad/s，品质因数为 $Q = 2.0$。对于单位阶跃输入，输出电压响应 $v_{out}(t)$ 会出现振铃并超过其最终稳态值。计算该滤波器响应的百分比超调量。百分比超调量定义为 $100 \\times \\frac{v_{peak} - v_{ss}}{v_{ss}}$，其中 $v_{peak}$ 是输出电压的峰值，$v_{ss}$ 是其最终稳态值。请以数值形式给出答案，不带百分号，并四舍五入到三位有效数字。", "solution": "给定的传递函数是一个标准二阶低通形式，其分母为 $s^{2} + \\frac{\\omega_{0}}{Q}s + \\omega_{0}^{2}$。与标准形式 $s^{2} + 2\\zeta \\omega_{0} s + \\omega_{0}^{2}$ 相比，阻尼比 $\\zeta$ 满足 $2\\zeta \\omega_{0} = \\frac{\\omega_{0}}{Q}$，因此\n$$\\zeta = \\frac{1}{2Q}.$$\n当 $Q = 2.0$ 时，我们得到\n$$\\zeta = \\frac{1}{4}.$$\n\n对于单位阶跃输入和单位直流增益，稳态值为 $v_{ss} = H(0) \\cdot 1 = 1$。欠阻尼阶跃响应在以下时间达到第一个峰值：\n$$t_{p} = \\frac{\\pi}{\\omega_{0}\\sqrt{1 - \\zeta^{2}}},$$\n相应的超调量与稳态值之比是标准结果：\n$$M_{p} = \\frac{v_{peak} - v_{ss}}{v_{ss}} = \\exp\\!\\left(-\\frac{\\zeta \\pi}{\\sqrt{1 - \\zeta^{2}}}\\right).$$\n对于 $\\zeta = \\frac{1}{4}$，\n$$\\sqrt{1 - \\zeta^{2}} = \\sqrt{1 - \\frac{1}{16}} = \\sqrt{\\frac{15}{16}} = \\frac{\\sqrt{15}}{4},$$\n所以\n$$M_{p} = \\exp\\!\\left(-\\frac{(1/4)\\pi}{\\sqrt{15}/4}\\right) = \\exp\\!\\left(-\\frac{\\pi}{\\sqrt{15}}\\right).$$\n需要报告的百分比超调量（不带百分号）是 $100 \\times M_{p}$：\n$$\\text{PO} = 100 \\times \\exp\\!\\left(-\\frac{\\pi}{\\sqrt{15}}\\right).$$\n数值上，$\\sqrt{15} \\approx 3.872983346$，所以 $\\frac{\\pi}{\\sqrt{15}} \\approx 0.811155735$，并且\n$$\\exp(-0.811155735) \\approx 0.444344225.$$\n因此\n$$\\text{PO} \\approx 44.4344225,$$\n四舍五入到三位有效数字是 $44.4$。", "answer": "$$\\boxed{44.4}$$", "id": "1283369"}, {"introduction": "尽管理想滤波器理论提供了坚实的基础，但实际的电路设计必须解决现实世界元件的局限性。作为许多有源滤波器核心的运算放大器，其增益带宽积 ($\\omega_t$) 是有限的，这可能导致滤波器的实际品质因数偏离其设计值——这种现象被称为 Q 值增强。这个进阶问题将挑战你扮演一名设计工程师的角色，设计一种无源补偿技术来抵消这种非理想效应并恢复滤波器的性能，从而弥合教科书模型与专业实践之间的差距。[@problem_id:1283346]", "problem": "托-托马斯（Tow-Thomas）状态变量二阶滤波器是一种多功能有源滤波器拓扑。考虑一个设计用于产生带通响应的版本，它由三个运算放大器（op-amps）、电阻和电容构成。电路拓扑如下：\n1.  输入信号 $V_{in}$ 通过输入电阻 $R_{in}$ 被馈入一个有损反相积分器级（运放A1）。该级还接收来自一个反相器级（运放A3）输出的反馈信号。这第一级的输出是带通输出 $V_{BP}$。\n2.  信号 $V_{BP}$ 被馈入一个无损反相积分器级（运放A2），产生低通输出 $V_{LP}$。\n3.  信号 $V_{LP}$ 被馈入一个单位增益反相放大器级（运放A3），其输出被反馈到第一级的输入端。\n\n对于理想设计，选择元件值以实现目标中心频率 $\\omega_0$ 和品质因数 $Q$。无损积分器和反相器级中的电阻，以及有损积分器的主要反馈和输入电阻均等于一个值 $R$。两个积分器级中的电容均等于一个值 $C$。通过这些选择，理想中心频率为 $\\omega_0 = 1/(RC)$。品质因数 $Q$ 由有损积分器级中的电阻 $R_Q$ 设定，其关系为 $Q=R_Q/R$。\n\n在实际实现中，所有三个运放都是相同的且非理想的，其特性由一个具有有限增益带宽积（GBW）（表示为 $\\omega_t$）的单极点模型描述。详细分析表明，这种非理想性会导致滤波器的实际品质因数 $\\hat{Q}$ 偏离设计值 $Q$。对于 $\\omega_0 \\ll \\omega_t$ 的高Q值设计，这种偏差可以很好地由以下关系近似：\n$$ \\frac{1}{\\hat{Q}} = \\frac{1}{Q} - \\frac{4\\omega_0}{\\omega_t} $$\n这种现象称为Q值增强，可能导致峰化和潜在的不稳定性。为了抵消这种效应，采用了一种无源补偿技术。在无损反相积分器级（运放A2）的反馈路径中，与主电容 $C$ 串联添加一个小的补偿电阻 $r_c$。\n\n你的任务是确定这个补偿电阻 $r_c$ 所需的值，以主动抵消Q值增强效应，从而将滤波器的有效品质因数恢复到其预期的设计值 $Q$。假设补偿很小，使得 $r_c \\ll R$，并且近似条件 $\\omega_0 \\ll \\omega_t$ 成立。\n\n请用 $C$ 和 $\\omega_t$ 的符号表达式来表示你的答案 $r_c$。", "solution": "将状态变量定义为理想Tow-Thomas电路的内部输出：$x_{1} \\equiv V_{BP}$（带通）和 $x_{2} \\equiv V_{LP}$（低通）。采用标准的Tow-Thomas元件选择（两个积分器电容均等于 $C$，所有相关电阻均等于 $R$，且 $\\omega_{0} = 1/(R C)$，$Q = R_{Q}/R$），有损积分器（A1）得到著名的理想状态关系式\n$$\n\\frac{d x_{1}}{d t} + \\frac{\\omega_{0}}{Q}\\,x_{1} = \\omega_{0}\\,x_{2}.\n$$\n对于在反馈路径中的电容 $C$ 上串联了一个小的补偿电阻 $r_{c}$ 的无损反相积分器（A2），其反馈阻抗为 $Z_{f2} = r_{c} + \\frac{1}{s C}$。由于输入电阻为 $R$，该级在拉普拉斯域中的关系为\n$$\nX_{2}(s) = -\\frac{Z_{f2}}{R}\\,X_{1}(s) = -\\left(\\frac{r_{c}}{R} + \\frac{1}{s R C}\\right) X_{1}(s).\n$$\n转换到时域并求导，得到\n$$\n\\frac{d x_{2}}{d t} = -\\omega_{0}\\,x_{1} - \\alpha\\,\\frac{d x_{1}}{d t}, \\quad \\text{其中} \\quad \\alpha \\equiv \\frac{r_{c}}{R}, \\; \\omega_{0} \\equiv \\frac{1}{R C}.\n$$\n在零输入情况下（以获得特征多项式），联立两个状态方程。为简洁起见，使用拉普拉斯域，\n$$\ns X_{1} + \\frac{\\omega_{0}}{Q} X_{1} = \\omega_{0} X_{2}, \\quad s X_{2} = -\\omega_{0} X_{1} - \\alpha s X_{1} = -(\\omega_{0} + \\alpha s) X_{1}.\n$$\n消去 $X_{1}$ 得到特征方程\n$$\ns^{2} + \\left(\\frac{\\omega_{0}}{Q} + \\alpha \\omega_{0}\\right) s + \\omega_{0}^{2} = 0.\n$$\n因此，串联电阻 $r_{c}$ 增加了阻尼项，使得有效品质因数的倒数变为\n$$\n\\frac{1}{Q_{\\text{eff}}} = \\frac{1}{Q} + \\alpha = \\frac{1}{Q} + \\frac{r_{c}}{R}.\n$$\n运放有限的GBW引入的Q值增强效应（对于 $\\omega_{0} \\ll \\omega_{t}$）可由下式描述\n$$\n\\frac{1}{\\hat{Q}} = \\frac{1}{Q} - \\frac{4 \\omega_{0}}{\\omega_{t}}.\n$$\n包含补偿电阻 $r_{c}$ 后，总的品质因数倒数变为\n$$\n\\frac{1}{Q_{\\text{net}}} = \\left(\\frac{1}{Q} - \\frac{4 \\omega_{0}}{\\omega_{t}}\\right) + \\frac{r_{c}}{R}.\n$$\n为了恢复到设计的Q值，需要 $1/Q_{\\text{net}} = 1/Q$，这得出\n$$\n\\frac{r_{c}}{R} = \\frac{4 \\omega_{0}}{\\omega_{t}}.\n$$\n使用 $\\omega_{0} = \\frac{1}{R C}$，\n$$\nr_{c} = R \\cdot \\frac{4}{R C\\,\\omega_{t}} = \\frac{4}{C\\,\\omega_{t}}.\n$$\n当 $\\omega_{t} \\gg \\omega_{0}$ 时，这满足了小补偿假设 $r_{c} \\ll R$，并且在一阶近似上抵消了Q值增强效应。", "answer": "$$\\boxed{\\frac{4}{C \\omega_{t}}}$$", "id": "1283346"}]}