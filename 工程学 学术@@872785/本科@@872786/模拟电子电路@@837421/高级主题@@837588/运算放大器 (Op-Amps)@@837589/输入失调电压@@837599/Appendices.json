{"hands_on_practices": [{"introduction": "在任何放大器电路中，运算放大器固有的输入失调电压 ($V_{OS}$) 并不会消失；它会像预期的信号一样被放大。本练习将通过一个标准的同相放大器配置，带你从根本上审视这一现象。通过为一个给定的 $V_{OS}$ 计算输出误差，你将具体理解这个微小的输入不完美性是如何在输出端导致显著的直流误差的。[@problem_id:1311479]", "problem": "一位工程师正在为一个传感器系统构建一个前置放大器电路，该电路使用单个运算放大器（op-amp）。该运算放大器被配置为同相放大器。反馈电阻 $R_f$ 的值为 $90.0 \\text{ k}\\Omega$，从反相输入端接地的电阻 $R_i$ 的值为 $10.0 \\text{ k}\\Omega$。放大器的输入信号端直接接地。\n\n电路中使用的运算放大器不是理想的，它具有一个称为输入失调电压 $V_{OS}$ 的特性。这种非理想特性导致即使在输入信号为零时，输出端也会出现一个非零的直流电压。\n\n您的任务是计算在涉及两个不同运放的两种不同情况下，直流输出电压 $V_{out}$ 的值：\n1.  第一个运放的输入失调电压为 $V_{OS} = +2.0 \\text{ mV}$。\n2.  第二个运放的输入失调电压为 $V_{OS} = -2.0 \\text{ mV}$。\n\n请按顺序提供两个计算出的输出电压：首先是 $V_{OS} = +2.0 \\text{ mV}$ 的情况，其次是 $V_{OS} = -2.0 \\text{ mV}$ 的情况。答案以毫伏 (mV) 为单位，并四舍五入到三位有效数字。", "solution": "我们考虑一个同相放大器，其反馈网络由从输出到反相输入端的 $R_{f}$ 和从反相输入端到地的 $R_{i}$ 定义。施加在同相输入端的信号的闭环增益为\n$$\nA_{\\text{cl}}=1+\\frac{R_{f}}{R_{i}}。\n$$\n运放的输入失调电压 $V_{OS}$ 可以建模为一个与同相输入端串联的小直流电压源，因此当外部输入接地时，闭环放大器的有效输入为 $V_{OS}$。因此，直流输出失调为\n$$\nV_{\\text{out}}=A_{\\text{cl}}\\,V_{OS}=\\left(1+\\frac{R_{f}}{R_{i}}\\right)V_{OS}。\n$$\n代入给定的电阻值 $R_{f}=90.0\\text{ k}\\Omega$ 和 $R_{i}=10.0\\text{ k}\\Omega$ 可得\n$$\n1+\\frac{R_{f}}{R_{i}}=1+\\frac{90.0}{10.0}=1+9=10。\n$$\n因此，\n$$\nV_{\\text{out}}=10\\,V_{OS}。\n$$\n对于 $V_{OS}=+2.0\\text{ mV}$：\n$$\nV_{\\text{out}}=10\\times 2.0=20.0\\text{ mV}。\n$$\n对于 $V_{OS}=-2.0\\text{ mV}$：\n$$\nV_{\\text{out}}=10\\times(-2.0)=-20.0\\text{ mV}。\n$$\n四舍五入到三位有效数字并以毫伏表示，结果为 $20.0$ 和 $-20.0$。", "answer": "$$\\boxed{\\begin{pmatrix}20.0  -20.0\\end{pmatrix}}$$", "id": "1311479"}, {"introduction": "在具有记忆功能的电路中，例如积分器，输入失调电压的后果可能要严重得多。与在简单放大器中产生静态直流误差不同，积分器会随时间累积这种误差。本练习展示了即使是微小的恒定 $V_{OS}$ 也会如同一个持续的输入信号，导致积分器的输出线性上升或下降，直至达到电源轨的极限——这是一种被称为饱和的关键失效模式。[@problem_id:1311458]", "problem": "一个积分器电路由一个运算放大器（op-amp）、一个电阻 $R$ 和一个电容 $C$ 构成。电阻从电路的输入端连接到运放的反相输入端。电容构成一个从运放输出端到其反相输入端的反馈路径。运放的同相输入端直接接地。在某一特定应用中，电路的输入端也保持在接地电位（$v_{in} = 0$）。\n\n该运放除具有恒定的直流输入失调电压 $V_{os}$ 外，在其他方面均被视为理想的（无限开环增益、无限输入阻抗、零输出阻抗）。为进行分析，此失调电压可建模为一个与同相输入端串联的小电压源。在时间 $t=0$ 时，电容器完全放电。运放由电源供电，其输出会在 $\\pm V_{sat}$ 处饱和。\n\n给定元件值为 $R = 100 \\text{ k}\\Omega$，$C = 10.0 \\text{ }\\mu\\text{F}$，$V_{os} = 2.50 \\text{ mV}$ 以及 $V_{sat} = 12.0 \\text{ V}$，计算输出电压的幅值首次达到饱和水平时的时间。答案以秒为单位，并四舍五入到三位有效数字。", "solution": "因为除了在同相输入端有一个建模为串联源的直流输入失调电压外，该运放是理想的，所以在未饱和时，它满足虚短条件 $v_{-}=v_{+}$。由于外部同相输入端接地，且存在串联的失调电压源 $V_{os}$，内部同相节点的电位为 $v_{+}=V_{os}$，因此 $v_{-}=V_{os}$。\n\n在反相节点处，应用 KCL (基尔霍夫电流定律，忽略输入偏置电流)。从输入端流向反相节点的电阻电流为\n$$\ni_{R}=\\frac{v_{in}-v_{-}}{R}=\\frac{0 - V_{os}}{R}=-\\frac{V_{os}}{R}.\n$$\n从反相节点流向输出端的电容电流为\n$$\ni_{C}=C\\frac{d}{dt}\\big(v_{-}-v_{out}\\big)=C\\frac{d}{dt}\\big(V_{os}-v_{out}\\big)=-C\\frac{dv_{out}}{dt}.\n$$\n在反相节点处的 KCL 给出 $i_{R}+i_{C}=0$，因此\n$$\n-\\frac{V_{os}}{R}-C\\frac{dv_{out}}{dt}=0 \\;\\;\\Rightarrow\\;\\; \\frac{dv_{out}}{dt}=-\\frac{V_{os}}{R C}.\n$$\n根据初始条件 $v_{out}(0)=0$（电容器初始未充电），输出为\n$$\nv_{out}(t)=-\\frac{V_{os}}{R C}\\,t.\n$$\n当 $|v_{out}(t)|=V_{sat}$ 时，其幅值首次达到饱和水平，得到\n$$\n\\frac{|V_{os}|}{R C}\\,t=V_{sat}\\;\\;\\Rightarrow\\;\\; t=\\frac{R C\\,V_{sat}}{|V_{os}|}.\n$$\n代入给定值 $R=100 \\text{ k}\\Omega=100\\times 10^{3}\\,\\Omega$，$C=10.0\\,\\mu\\text{F}=10.0\\times 10^{-6}\\,\\text{F}$，$V_{os}=2.50 \\times 10^{-3}\\,\\text{V}$ 和 $V_{sat}=12.0\\,\\text{V}$。首先计算\n$$\nR C=(100\\times 10^{3})(10.0\\times 10^{-6})=\\;1.00\\;\\text{s},\n$$\n因此\n$$\nt=\\frac{(1.00\\;\\text{s})\\,(12.0)}{2.50\\times 10^{-3}}=4.80\\times 10^{3}\\;\\text{s}.\n$$\n四舍五入到三位有效数字，时间为 $4.80 \\times 10^{3}$ 秒。", "answer": "$$\\boxed{4.80 \\times 10^{3}}$$", "id": "1311458"}, {"introduction": "在理解了 $V_{OS}$ 引发的问题之后，工程师们常常需要设计系统来主动消除它。这个高级练习将让你扮演一名系统设计师的角色，解决现代可编程增益放大器 (PGA) 中的失调问题。你将为一个反馈回路中的数模转换器 (DAC) 确定所需的分辨率，以确保在所有增益设置下，残余失调误差都保持在严格的规格之内，这展示了模拟与数字技术在实际应用中的巧妙结合。[@problem_id:1311452]", "problem": "一个精密数据采集系统使用可编程增益放大器 (PGA) 来调理输入信号。该 PGA 具有一组可选的2的幂次方的增益 $G$，其取值集合为 $\\{1, 2, 4, 8, 16, 32\\}$。该放大器自身带有一个固有的输入参考失调电压 $V_{OS,int}$，已知在所有工作条件和增益设置下，其最差情况下的幅值为 $|V_{OS,int}|_{max} = 15 \\text{ mV}$。\n\n为了抵消这个失调，系统实现了一个数字失调消除反馈回路。该回路使用一个 $B$ 位双极性数模转换器 (DAC) 来生成一个校正电压 $V_{corr}$。DAC 的输出可以覆盖从 $-V_{ref}$ 到 $+V_{ref}$ 的对称范围，并且这个校正电压在 PGA 的输入端从信号路径中被有效减去。\n\nPGA 的设计包含一个节能特性，即放大器的电源电压 $\\pm V_{DD}$ 会根据所选的增益 $G$ 动态调整。DAC 的参考电压 $V_{ref}$ 与此电源直接关联，使得 $V_{ref}(G) = V_{DD}(G)$。其关系由公式 $V_{DD}(G) = V_{base} + k \\cdot G$ 给出，其中 $V_{base} = 1.0 \\text{ V}$ 且 $k = 0.1 \\text{ V}$。\n\n为使系统正常工作，必须在所有可能的增益设置下满足两个条件：\n1. DAC 的输出范围必须足以抵消可能的最大固有失调电压。\n2. 由 DAC 有限分辨率引起的最差情况下的残余输入参考失调，必须严格小于 $V_{res,spec} = 50 \\text{ \\mu V}$。\n\n确定 DAC 所需的最小整数位数 $B$，以使其在 PGA 的整个增益设置范围内满足这两个条件。", "solution": "DAC 必须能抵消一个最差情况下的幅值为 $|V_{OS,int}|_{max} = 15 \\times 10^{-3} \\text{ V}$ 的输入参考失调 $V_{OS,int}$，并且对于所有的 $G \\in \\{1,2,4,8,16,32\\}$，其最差情况下的残余失调必须严格小于 $V_{res,spec} = 50 \\times 10^{-6} \\text{ V}$。DAC 的参考电压通过 $V_{ref}(G) = V_{DD}(G) = V_{base} + k G$ 跟踪增益，其中 $V_{base} = 1.0 \\text{ V}$ 且 $k = 0.1 \\text{ V}$。\n\n首先，确保对于所有的 $G$，DAC 的范围都能覆盖最差情况下的失调。最小的参考电压出现在 $G_{min} = 1$ 时，因此\n$$\nV_{ref,min} = V_{base} + k G_{min} = 1.0 + 0.1 \\cdot 1 = 1.1 \\text{ V}.\n$$\n由于 $V_{ref,min} = 1.1 \\text{ V} \\gg 15 \\times 10^{-3} \\text{ V}$，条件 $V_{ref}(G) \\ge |V_{OS,int}|_{max}$ 对所有 $G$ 都成立。\n\n其次，限定由量化引起的残余误差。对于一个覆盖范围为 $[-V_{ref}(G), +V_{ref}(G)]$ 的 $B$ 位双极性 DAC，其满量程范围是 $2 V_{ref}(G)$，所以最低有效位 (LSB) 是\n$$\n\\text{LSB}(G) = \\frac{2 V_{ref}(G)}{2^{B}}.\n$$\n采用最近码选择法，最差情况下的残余失调最多为半个 LSB：\n$$\nV_{res}(G) \\le \\frac{\\text{LSB}(G)}{2} = \\frac{V_{ref}(G)}{2^{B}}.\n$$\n要求对于所有 $G$ 都有 $V_{res}(G)  V_{res,spec}$，可得\n$$\n\\frac{V_{ref}(G)}{2^{B}}  V_{res,spec} \\quad \\text{for all } G.\n$$\n由于 $V_{ref}(G)$ 随 $G$ 增大而增大，最差情况出现在 $G_{max} = 32$ 时：\n$$\nV_{ref,max} = V_{base} + k G_{max} = 1.0 + 0.1 \\cdot 32 = 4.2 \\text{ V}.\n$$\n因此，\n$$\n\\frac{4.2}{2^{B}}  50 \\times 10^{-6} \\quad \\Longrightarrow \\quad 2^{B} > \\frac{4.2}{50 \\times 10^{-6}} = 8.4 \\times 10^{4}.\n$$\n计算2的幂，有 $2^{16} = 65536  8.4 \\times 10^{4}$ 且 $2^{17} = 131072 > 8.4 \\times 10^{4}$。因此，满足该不等式的最小整数 $B$ 是 $B = 17$。\n\n这个选择也满足了上面已经验证过的范围条件，所以 $B = 17$ 在所有增益设置下都满足这两个要求。", "answer": "$$\\boxed{17}$$", "id": "1311452"}]}