{"hands_on_practices": [{"introduction": "第一个练习将让你扮演分析师的角色，来研究一个非理想反相放大器。通过从一个已知的输出电压反向推导，你将计算出运算放大器内部受控源所需的电压。这个过程清晰地展示了非零输出电阻 ($r_o$) 的实际影响，因为它会产生一个电压降，而运放必须克服这个电压降才能向负载提供所需的电压。[@problem_id:1303076]", "problem": "一个反相放大器由一个非理想运算放大器（op-amp）、一个输入电阻 $R_1$ 和一个反馈电阻 $R_f$ 构成。该运放的同相输入端接地。一个负载电阻 $R_L$连接在输出端和地之间。\n\n该非理想运放的模型具有有限的开环电压增益 $A_{ol}$、有限的输入电阻 $r_i$（在反相和同相输入端之间测量）以及非零的输出电阻 $r_o$。该运放模型的输出由一个值为 $A_{ol}v_d$ 的受控电压源与输出电阻 $r_o$ 串联组成，其中 $v_d$ 是差分输入电压 $(v_+ - v_-)$。\n\n电路参数如下：\n- 输入电阻, $R_1 = 10.0 \\text{ k}\\Omega$\n- 反馈电阻, $R_f = 100.0 \\text{ k}\\Omega$\n- 负载电阻, $R_L = 2.0 \\text{ k}\\Omega$\n- 开环增益, $A_{ol} = 2.0 \\times 10^5 \\text{ V/V}$\n- 输入电阻, $r_i = 2.0 \\text{ M}\\Omega$\n- 输出电阻, $r_o = 50.0 \\Omega$\n\n在某个特定的稳态直流工作条件下，测得负载电阻 $R_L$ 两端的电压恰好为 $v_o = -4.00 \\text{ V}$。\n\n计算在这些条件下内部受控源 $A_{ol}v_d$ 所需的电压。答案以伏特为单位表示，并四舍五入到三位有效数字。", "solution": "设输出节点电压为 $v_{o}$（给定为 $-4.00$），反相输入节点电压为 $v_{-}$，差分输入电压为 $v_{d} = v_{+} - v_{-}$。由于同相输入端接地，因此 $v_{+} = 0$，所以 $v_{-} = -v_{d}$。\n\n将运放输出建模为一个值为 $A_{ol}v_{d}$ 的受控源与 $r_{o}$ 串联。在输出节点应用KCL（以离开节点的电流为正），得到：\n$$\n\\frac{v_{o}}{R_{L}} + \\frac{v_{o} - v_{-}}{R_{f}} + \\frac{v_{o} - A_{ol}v_{d}}{r_{o}} = 0.\n$$\n使用 $v_{-} = -v_{d}$，上式变为：\n$$\n\\frac{A_{ol}v_{d} - v_{o}}{r_{o}} = \\frac{v_{o}}{R_{L}} + \\frac{v_{o} + v_{d}}{R_{f}}.\n$$\n两边同乘以 $r_{o}$ 并合并关于 $v_{d}$ 的项：\n$$\nA_{ol}v_{d} - v_{o} = r_{o}\\frac{v_{o}}{R_{L}} + r_{o}\\frac{v_{o} + v_{d}}{R_{f}}\n$$\n$$\nA_{ol}v_{d} - v_{o} = r_{o}\\frac{v_{o}}{R_{L}} + r_{o}\\frac{v_{o}}{R_{f}} + r_{o}\\frac{v_{d}}{R_{f}}\n$$\n$$\nv_{d}\\left(A_{ol} - \\frac{r_{o}}{R_{f}}\\right) = v_{o}\\left(1 + \\frac{r_{o}}{R_{L}} + \\frac{r_{o}}{R_{f}}\\right).\n$$\n因此，\n$$\nv_{d} = v_{o}\\,\\frac{1 + \\frac{r_{o}}{R_{L}} + \\frac{r_{o}}{R_{f}}}{A_{ol} - \\frac{r_{o}}{R_{f}}}, \\quad\nA_{ol}v_{d} = v_{o}\\, \\frac{A_{ol}\\left(1 + \\frac{r_{o}}{R_{L}} + \\frac{r_{o}}{R_{f}}\\right)}{A_{ol} - \\frac{r_{o}}{R_{f}}}.\n$$\n\n代入给定值 $v_{o} = -4.00$，$R_{L} = 2.0\\times 10^{3}$，$R_{f} = 1.0\\times 10^{5}$，$A_{ol} = 2.0\\times 10^{5}$，$r_{o} = 50.0$：\n$$\n\\frac{r_{o}}{R_{L}} = \\frac{50.0}{2000} = 0.025,\\quad \\frac{r_{o}}{R_{f}} = \\frac{50.0}{100000} = 5.0\\times 10^{-4},\n$$\n$$\n1 + \\frac{r_{o}}{R_{L}} + \\frac{r_{o}}{R_{f}} = 1.0255,\\quad A_{ol} - \\frac{r_{o}}{R_{f}} = 200000 - 5.0\\times 10^{-4} = 199999.9995.\n$$\n因此，\n$$\nA_{ol}v_{d} = (-4.00)\\,\\frac{200000\\times 1.0255}{199999.9995} \\approx -4.102000010\\ \\text{V}.\n$$\n四舍五入到三位有效数字，结果为 $-4.10$。", "answer": "$$\\boxed{-4.10}$$", "id": "1303076"}, {"introduction": "现在，让我们将重点从分析转向一个实际的设计场景。电压跟随器是用于阻抗匹配的基本电路模块，其增益精度通常至关重要。这个问题挑战你确定一个运算放大器所允许的最大输出电阻 ($r_o$)，以确保该缓冲器的带载增益不低于特定的性能阈值。[@problem_id:1303041]", "problem": "一位工程师正在设计一个缓冲电路，用于将一个高阻抗传感器与一个模数转换器 (ADC) 的输入端连接。该缓冲器使用一个非理想运算放大器（op-amp）以电压跟随器的配置实现。该运算放大器的特性为：有限的开环差分电压增益 $A_{od} = 2.0 \\times 10^{5}$，有限的输入电阻 $r_{in} = 2.0 \\text{ M}\\Omega$，以及一个非零的内部输出电阻 $r_o$。ADC 为该缓冲器提供了一个 $R_L = 10.0 \\text{ k}\\Omega$ 的负载电阻。\n\n为确保精确的信号转换，带负载缓冲器的总电压增益，定义为负载上的输出电压与来自传感器的输入电压之比 ($v_{out}/v_{in}$)，必须至少为 0.999。假设传感器作为一个理想电压源连接到运放的同相输入端，求出满足此性能要求的运放最大可容忍内部输出电阻 $r_o$。\n\n答案以欧姆 ($\\Omega$) 为单位，并四舍五入至三位有效数字。", "solution": "对非理想电压跟随器进行建模：\n- 受控源内部节点电压 $v_{x} = A_{od}(v_{+} - v_{-}) = A_{od}(v_{in} - v_{o})$。\n- 在 $v_{x}$ 和输出节点 $v_{o}$ 之间串联一个输出电阻 $r_{o}$。\n- 从 $v_{o}$ 到地接一个负载 $R_{L}$。\n- 在两个输入端之间建模有限输入电阻 $r_{in}$，即一个从 $v_{+}$ 到 $v_{-}$ 的电阻。由于 $v_{+} = v_{in}$ (理想源)，这会产生一个从 $v_{o}$ 到 $v_{in}$ 的电流 $(v_{o} - v_{in})/r_{in}$。\n\n在 $v_{o}$ 处应用基尔霍夫电流定律 (KCL)，流过 $r_{o}$ 的电流为负载电流和输入电阻电流之和：\n$$\n\\frac{v_{x} - v_{o}}{r_{o}} = \\frac{v_{o}}{R_{L}} + \\frac{v_{o} - v_{in}}{r_{in}}.\n$$\n代入 $v_{x} = A_{od}(v_{in} - v_{o})$：\n$$\n\\frac{A_{od}(v_{in} - v_{o}) - v_{o}}{r_{o}} = \\frac{v_{o}}{R_{L}} + \\frac{v_{o} - v_{in}}{r_{in}}.\n$$\n两边乘以 $r_{o}$ 并合并同类项：\n$$\nA_{od}v_{in} - A_{od}v_{o} - v_{o} = r_{o}\\left(\\frac{v_{o}}{R_{L}} + \\frac{v_{o}}{r_{in}} - \\frac{v_{in}}{r_{in}}\\right).\n$$\n重新整理以分离出 $v_{o}/v_{in}$：\n$$\nA_{od}v_{in} + \\frac{r_{o}}{r_{in}}v_{in} = v_{o}\\left(A_{od} + 1 + \\frac{r_{o}}{R_{L}} + \\frac{r_{o}}{r_{in}}\\right),\n$$\n$$\n\\frac{v_{o}}{v_{in}} = \\frac{A_{od} + \\frac{r_{o}}{r_{in}}}{A_{od} + 1 + \\frac{r_{o}}{R_{L}} + \\frac{r_{o}}{r_{in}}}.\n$$\n施加要求 $\\frac{v_{o}}{v_{in}} \\geq 0.999$：\n$$\n\\frac{A_{od} + \\frac{r_{o}}{r_{in}}}{A_{od} + 1 + \\frac{r_{o}}{R_{L}} + \\frac{r_{o}}{r_{in}}} \\geq 0.999.\n$$\n由于分母为正，交叉相乘并化简：\n$$\nA_{od} + \\frac{r_{o}}{r_{in}} \\geq 0.999\\left(A_{od} + 1 + \\frac{r_{o}}{R_{L}} + \\frac{r_{o}}{r_{in}}\\right),\n$$\n$$\n0.001A_{od} + 0.001\\frac{r_{o}}{r_{in}} - 0.999 - 0.999\\frac{r_{o}}{R_{L}} \\geq 0,\n$$\n$$\nA_{od} - 999 + r_{o}\\left(\\frac{1}{r_{in}} - \\frac{999}{R_{L}}\\right) \\geq 0.\n$$\n求解最大允许的 $r_{o}$：\n$$\nr_{o,\\max} = \\frac{A_{od} - 999}{\\frac{999}{R_{L}} - \\frac{1}{r_{in}}}.\n$$\n代入给定值 $A_{od} = 2.0 \\times 10^{5}$，$r_{in} = 2.0 \\times 10^{6}\\ \\Omega$，$R_{L} = 1.0 \\times 10^{4}\\ \\Omega$：\n$$\nr_{o,\\max} = \\frac{2.0 \\times 10^{5} - 999}{\\frac{999}{1.0 \\times 10^{4}} - \\frac{1}{2.0 \\times 10^{6}}}\n= \\frac{199001}{0.0999 - 5.0 \\times 10^{-7}}\n= \\frac{199001}{\\frac{199799}{2.0 \\times 10^{6}}}\n= \\frac{199001 \\cdot 2.0 \\times 10^{6}}{199799}.\n$$\n数值计算结果约为 $1.992012 \\times 10^{6}\\ \\Omega$。四舍五入至三位有效数字：\n$$\nr_{o,\\max} \\approx 1.99 \\times 10^{6}.\n$$", "answer": "$$\\boxed{1.99 \\times 10^{6}}$$", "id": "1303041"}, {"introduction": "当我们将理论与实际测量联系起来时，理论就变得鲜活了。这最后一个练习模拟了一个表征运算放大器的常用实验室步骤。通过测量一个驱动两种不同负载的电压跟随器的输出电压，你可以推算出运算放大器的内部输出电阻 ($r_o$)，从而将抽象模型与实际元件的特性联系起来。[@problem_id:1303063]", "problem": "一位电子工程师的任务是描述一个非理想运算放大器（op-amp）的特性。已知该运算放大器具有有限的开环直流增益 $A_0$ 和非零的内部输出电阻 $r_o$。为进行此测量，其输入阻抗被假定为无穷大。\n\n工程师将该运算放大器配置为电压跟随器（单位增益缓冲器）。为确定 $r_o$，他们使用一个恒定的直流输入信号进行了一个两步实验。\n\n1.  首先，将一个电阻值为 $R_{L1} = 100 \\Omega$ 的负载电阻连接到跟随器的输出端，测得输出电压为 $V_{out1} = 4.9826 \\text{ V}$。\n2.  其次，将第一个负载电阻更换为一个新的、电阻值为 $R_{L2} = 50.0 \\Omega$ 的电阻，测得输出电压为 $V_{out2} = 4.9753 \\text{ V}$。\n\n该运算放大器的开环直流增益给定为 $A_0 = 500$。\n\n使用这些测量数据，计算该运算放大器的内部输出电阻 $r_o$。答案以欧姆为单位，并四舍五入到三位有效数字。", "solution": "将该运算放大器建模为一个开环增益为 $A_{0}$ 的压控电压源，与一个内部输出电阻 $r_{o}$ 串联。在单位增益缓冲器中，反相输入端感测外部输出节点，因此内部源电压为 $A_{0}(V_{in}-V_{out})$，该电压在 $r_{o}$ 和负载 $R_{L}$ 之间分压。根据分压原理，\n$$\nV_{out}=\\frac{R_{L}}{r_{o}+R_{L}}\\,A_{0}\\,(V_{in}-V_{out}).\n$$\n求解闭环增益，\n$$\n\\frac{V_{out}}{V_{in}}=\\frac{\\frac{A_{0}R_{L}}{r_{o}+R_{L}}}{1+\\frac{A_{0}R_{L}}{r_{o}+R_{L}}}\n=\\frac{A_{0}R_{L}}{r_{o}+R_{L}(1+A_{0})}.\n$$\n对于两个负载 $R_{L1}$ 和 $R_{L2}$ 以及相同的 $V_{in}$，\n$$\nV_{out1}=V_{in}\\frac{A_{0}R_{L1}}{r_{o}+R_{L1}(1+A_{0})},\\qquad\nV_{out2}=V_{in}\\frac{A_{0}R_{L2}}{r_{o}+R_{L2}(1+A_{0})}.\n$$\n取两式之比，并定义 $m\\equiv \\frac{V_{out1}}{V_{out2}}$，\n$$\nm=\\frac{R_{L1}}{R_{L2}}\\cdot\\frac{r_{o}+R_{L2}(1+A_{0})}{r_{o}+R_{L1}(1+A_{0})}.\n$$\n求解此方程以得到 $r_{o}$，\n$$\nm\\bigl(r_{o}+R_{L1}(1+A_{0})\\bigr)=\\frac{R_{L1}}{R_{L2}}\\bigl(r_{o}+R_{L2}(1+A_{0})\\bigr),\n$$\n$$\nr_{o}\\left(m-\\frac{R_{L1}}{R_{L2}}\\right)=R_{L1}(1+A_{0})(1-m),\n$$\n$$\nr_{o}=R_{L1}(1+A_{0})\\,\\frac{1-m}{m-\\frac{R_{L1}}{R_{L2}}}.\n$$\n代入给定值 $A_{0}=500$, $R_{L1}=100$, $R_{L2}=50.0$, $V_{out1}=4.9826$, $V_{out2}=4.9753$。将其写为以下形式会更方便：\n$$\nr_{o}=R_{L1}(1+A_{0})\\,\\frac{V_{out1}-V_{out2}}{2V_{out2}-V_{out1}},\n$$\n这是通过将 $m$ 替换为 $\\frac{V_{out1}}{V_{out2}}$ 并化简得到的。数值计算如下：\n$$\nV_{out1}-V_{out2}=0.0073,\\qquad 2V_{out2}-V_{out1}=4.9680,\n$$\n$$\nr_{o}=100\\cdot 501\\cdot \\frac{0.0073}{4.968}\\approx 73.617\\ \\text{Ohms}.\n$$\n四舍五入到三位有效数字， $r_{o}=73.6$ 欧姆。", "answer": "$$\\boxed{73.6}$$", "id": "1303063"}]}