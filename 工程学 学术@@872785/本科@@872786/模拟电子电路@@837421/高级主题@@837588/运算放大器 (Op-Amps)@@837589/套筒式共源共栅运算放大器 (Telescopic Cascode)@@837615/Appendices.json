{"hands_on_practices": [{"introduction": "在设计任何放大器时，首要考虑的参数之一是其功耗。静态功耗代表了电路在无信号输入时的“待机”能量消耗，是评估能效的基本指标。本练习将引导你计算套筒式共源共栅放大器的静态功耗，通过这个基本计算，你将理解尾电流 $I_{tail}$ 如何直接决定整个放大器的直流功耗，为后续的性能权衡分析建立一个基准 [@problem_id:1335648]。", "problem": "一个单级套筒式共源共栅运算放大器采用金属-氧化物-半导体场效应晶体管 (MOSFET) 技术设计。该放大器采用一个N沟道差分输入对。整个放大器电路由一个相对于地的电压为 $V_{DD}$ 的单正电源供电。在其静态状态下（即没有施加输入信号时），该放大器的有源电路通过一个理想的尾电流源进行偏置，该电流源从差分对中吸收总电流为 $I_{tail}$。假设所有晶体管都工作在预期的饱和区，并且为共源共栅晶体管产生参考电压的偏置电路所消耗的任何电流都可以忽略不计。\n\n给定电源电压 $V_{DD} = 1.80$ V 和尾偏置电流 $I_{tail} = 250$ µA，计算该放大器的总静态功耗。\n\n以毫瓦 (mW) 为单位表示您的答案，并四舍五入到三位有效数字。", "solution": "由单电源供电的静态或静态功耗是电源电压与从该电源汲取的总直流电流的乘积。因此，静态功耗由下式给出\n$$\nP_{\\text{static}}=V_{DD}\\,I_{DD}.\n$$\n在一个由理想尾电流源偏置、具有N沟道差分输入对的单级套筒式共源共栅运算放大器中，并且假设偏置网络电流可忽略不计，从正电源汲取的总电流等于尾电流，即：\n$$\nI_{DD}=I_{\\text{tail}}.\n$$\n因此，\n$$\nP_{\\text{static}}=V_{DD}\\,I_{\\text{tail}}.\n$$\n代入给定值，\n$$\nP_{\\text{static}}=(1.80)\\times\\left(250\\times 10^{-6}\\right)\\ \\mathrm{W}=450\\times 10^{-6}\\ \\mathrm{W}.\n$$\n转换为毫瓦，\n$$\nP_{\\text{static}}=450\\times 10^{-6}\\ \\mathrm{W}\\times 10^{3}\\ \\frac{\\mathrm{mW}}{\\mathrm{W}}=0.450\\ \\mathrm{mW}.\n$$\n四舍五入到三位有效数字，结果仍为 $0.450\\ \\mathrm{mW}$。", "answer": "$$\\boxed{0.450}$$", "id": "1335648"}, {"introduction": "在确定了放大器的功耗基准后，下一步是关注其动态性能，特别是速度。单位增益带宽是衡量放大器速度的关键指标，直接决定了其在高频应用中的表现。本练习将让你掌握一个核心设计关系：单位增益带宽由输入级的跨导 $g_{m1}$ 和负载电容 $C_L$ 共同决定。通过这个实践，你将学会如何为一个具体的高速应用选择合适的晶体管参数 [@problem_id:1335622]。", "problem": "一位模拟电路设计师的任务是为一款先进成像传感器中的像素读出电路设计一个高速、单级的套筒式共源共栅运算跨导放大器（OTA）。该 OTA 用于驱动后续的信号处理级，其呈现的总有效负载电容为 $C_L = 1.5 \\text{ pF}$。系统的一项关键性能要求是，当该 OTA 配置为单位增益反馈结构时，其单位增益带宽必须达到 $f_u = 800 \\text{ MHz}$。在本次分析中，可以假设 OTA 的频率响应由输出节点的单个极点主导，使其成为一个一阶系统。所有其他寄生电容都可以忽略不计。\n\n计算为满足此带宽规范，输入差分对晶体管所需的跨导 $g_{m1}$。以毫西门子（mS）为单位表示答案，并四舍五入到三位有效数字。", "solution": "该问题要求计算当一个套筒式共源共栅 OTA 驱动一个容性负载 $C_L$ 时，为达到特定的单位增益带宽 $f_u$，其输入对所需的跨导 $g_{m1}$。\n\n首先，我们来定义单极点系统中单位增益带宽、直流增益和主极点之间的关系。单位增益角频率 $\\omega_u$ 是直流开环电压增益 $A_{v0}$ 与主极点角频率 $\\omega_p$ 的乘积。这被称为增益带宽积（GBP）。\n$$ \\omega_u = A_{v0} \\cdot \\omega_p $$\n单位增益带宽 $f_u$ 以赫兹为单位给出，所以我们用 $f_u$ 来表示 $\\omega_u$：\n$$ \\omega_u = 2\\pi f_u $$\n\n接下来，我们需要找出套筒式共源共栅 OTA 的 $A_{v0}$ 和 $\\omega_p$ 的表达式。\nOTA 的总跨导由其输入差分对决定，因此其有效跨导为 $G_m = g_{m1}$。\n直流开环电压增益 $A_{v0}$ 是 OTA 的跨导与其输出电阻 $R_{out}$ 的乘积。\n$$ A_{v0} = G_m R_{out} = g_{m1} R_{out} $$\n套筒式共源共栅放大器的输出电阻 $R_{out}$ 非常高，但在本问题中不需要其确切值。\n\n题目说明频率响应由输出节点的极点主导。该极点由放大器的输出电阻 $R_{out}$ 和输出节点的总负载电容（即给定的 $C_L$）形成。这个主极点的角频率 $\\omega_p$ 为：\n$$ \\omega_p = \\frac{1}{R_{out} C_L} $$\n\n现在，我们可以将 $A_{v0}$ 和 $\\omega_p$ 的表达式代入增益带宽积方程中：\n$$ \\omega_u = (g_{m1} R_{out}) \\left( \\frac{1}{R_{out} C_L} \\right) $$\n我们可以看到，输出电阻 $R_{out}$ 在表达式中被消掉了：\n$$ \\omega_u = \\frac{g_{m1}}{C_L} $$\n对于主极点在输出端的单级 OTA，这是一个基本关系式。\n\n我们的目标是求出 $g_{m1}$。我们可以重新整理方程来求解它：\n$$ g_{m1} = \\omega_u C_L $$\n代入 $\\omega_u = 2\\pi f_u$：\n$$ g_{m1} = 2\\pi f_u C_L $$\n\n现在我们可以代入给定的数值：\n$f_u = 800 \\text{ MHz} = 800 \\times 10^6 \\text{ Hz}$\n$C_L = 1.5 \\text{ pF} = 1.5 \\times 10^{-12} \\text{ F}$\n\n$$ g_{m1} = 2\\pi (800 \\times 10^6 \\text{ Hz}) (1.5 \\times 10^{-12} \\text{ F}) $$\n$$ g_{m1} = 2\\pi (1200 \\times 10^{-6}) \\text{ S} $$\n$$ g_{m1} = 2400\\pi \\times 10^{-6} \\text{ S} $$\n$$ g_{m1} \\approx 7539.822 \\times 10^{-6} \\text{ S} $$\n结果的单位是西门子（S）。题目要求答案以毫西门子（mS）为单位，其中 $1 \\text{ mS} = 10^{-3} \\text{ S}$。\n$$ g_{m1} \\approx 7.539822 \\text{ mS} $$\n\n最后，按要求我们将答案四舍五入到三位有效数字：\n$$ g_{m1} \\approx 7.54 \\text{ mS} $$\n最终答案的数值是 7.54。", "answer": "$$\\boxed{7.54}$$", "id": "1335622"}, {"introduction": "理想的设计在现实世界中会面临各种限制，例如环境温度的变化。输入共模范围 (ICMR) 定义了放大器能够正常处理输入信号的电压范围，是保证电路鲁棒性的关键参数。本练习将探讨温度如何通过影响晶体管的阈值电压 $V_{TH}$ 来改变 ICMR，这是一个在面向实际应用（如汽车或航空电子设备）的设计中必须考虑的重要二阶效应 [@problem_id:1335642]。", "problem": "一个NMOS输入的套筒式共源共栅运算放大器正在为高温应用进行设计。其性能对芯片温度的变化很敏感，特别是通过晶体管阈值电压的温度依赖性表现出来。\n\n输入共模范围 (ICMR) 的下限和上限（分别表示为 $V_{in,cm,min}$ 和 $V_{in,cm,max}$）由以下简化表达式确定，这些表达式确保所有晶体管都工作在饱和区：\n1.  下限：$V_{in,cm,min} = V_{OV,tail} + V_{OV,in} + V_{THN}$\n2.  上限：$V_{in,cm,max} = C + V_{THN}$，其中 $C$ 是一个与温度无关的常数。\n\n此处，$V_{THN}$ 是NMOS晶体管的阈值电压，$V_{THP}$ 是PMOS晶体管的阈值电压。$V_{OV,tail}$ 和 $V_{OV,in}$ 分别是尾电流源和输入差分对晶体管的过驱动电压。\n\n阈值电压随温度 ($T$) 线性变化，关系如下：\n-   $V_{THN}(T) = V_{THN,0} - k_{TN} (T - T_0)$\n-   $V_{THP}(T) = V_{THP,0} + k_{TP} (T - T_0)$\n\n其中 $T_0$ 是参考温度，$k_{TN}, k_{TP}$ 是正温度系数。注意，$V_{THP,0}$ 是一个负值。\n\n在参考温度 $T_0 = 300\\,$K 时，该放大器使用以下参数运行：\n-   NMOS阈值电压, $V_{THN,0} = 0.45\\,$V\n-   PMOS阈值电压, $V_{THP,0} = -0.50\\,$V\n-   尾晶体管过驱动电压, $V_{OV,tail} = 0.20\\,$V\n-   输入晶体管过驱动电压, $V_{OV,in} = 0.15\\,$V\n-   NMOS阈值温度系数, $k_{TN} = 1.50\\,$mV/K\n-   PMOS阈值温度系数, $k_{TP} = 1.20\\,$mV/K\n\n假设过驱动电压和常数 $C$ 不随温度变化。\n\n如果芯片温度从 $T_0=300\\,$K 均匀增加到 $T_f = 375\\,$K，计算由此引起的输入共模下限的变化量 $\\Delta V_{in,cm,min} = V_{in,cm,min}(T_f) - V_{in,cm,min}(T_0)$，以及输入共模上限的变化量 $\\Delta V_{in,cm,max} = V_{in,cm,max}(T_f) - V_{in,cm,max}(T_0)$。\n\n将你的最终答案表示为一对值 $(\\Delta V_{in,cm,min}, \\Delta V_{in,cm,max})$，单位为毫伏 (mV)。将该对值中的每个值四舍五入到三位有效数字。", "solution": "我们从给定的ICMR边界条件开始：\n1.  下限：$V_{in,cm,min} = V_{OV,tail} + V_{OV,in} + V_{THN}$\n2.  上限：$V_{in,cm,max} = C + V_{THN}$，其中 $C$ 是一个与温度无关的常数。\n\n阈值电压的温度依赖性为：\n$$V_{THN}(T) = V_{THN,0} - k_{TN}(T - T_0)$$\n我们假设过驱动电压 $V_{OV,tail}, V_{OV,in}$ 和常数 $C$ 不随温度变化。温度变化量为 $\\Delta T = T_f - T_0$。\n\n对于下限，其变化量为：\n$$\\Delta V_{in,cm,min} = V_{in,cm,min}(T_f) - V_{in,cm,min}(T_0)$$\n$$\\Delta V_{in,cm,min} = \\bigl[V_{OV,tail} + V_{OV,in} + V_{THN}(T_f)\\bigr] - \\bigl[V_{OV,tail} + V_{OV,in} + V_{THN}(T_0)\\bigr]$$\n$$\\Delta V_{in,cm,min} = V_{THN}(T_f) - V_{THN}(T_0)$$\n代入 $V_{THN}(T)$ 的表达式：\n$$\\Delta V_{in,cm,min} = \\bigl[V_{THN,0} - k_{TN}(T_f - T_0)\\bigr] - V_{THN,0} = -k_{TN} \\Delta T$$\n\n对于上限，根据给定的简化模型，其变化量为：\n$$\\Delta V_{in,cm,max} = V_{in,cm,max}(T_f) - V_{in,cm,max}(T_0)$$\n$$\\Delta V_{in,cm,max} = \\bigl[C + V_{THN}(T_f)\\bigr] - \\bigl[C + V_{THN}(T_0)\\bigr]$$\n$$\\Delta V_{in,cm,max} = V_{THN}(T_f) - V_{THN}(T_0) = -k_{TN} \\Delta T$$\n因此，上限和下限的变化量是相同的。PMOS阈值电压及其温度系数 $k_{TP}$ 在此简化模型下不影响ICMR的变化，成为一个无关参数。\n\n现在代入给定的数值：\n$\\Delta T = 375\\ \\text{K} - 300\\ \\text{K} = 75\\ \\text{K}$\n$k_{TN} = 1.50\\ \\text{mV/K}$\n\n$$\\Delta V_{in,cm,min} = -k_{TN}\\Delta T = -(1.50\\ \\text{mV/K})(75\\ \\text{K}) = -112.5\\ \\text{mV}$$\n$$\\Delta V_{in,cm,max} = -k_{TN}\\Delta T = -(1.50\\ \\text{mV/K})(75\\ \\text{K}) = -112.5\\ \\text{mV}$$\n\n将每个值四舍五入到三位有效数字，我们得到 $\\Delta V_{in,cm,min} = -113\\ \\text{mV}$ 和 $\\Delta V_{in,cm,max} = -113\\ \\text{mV}$。", "answer": "$$\\boxed{\\begin{pmatrix}-113  -113\\end{pmatrix}}$$", "id": "1335642"}]}