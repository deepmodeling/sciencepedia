{"hands_on_practices": [{"introduction": "本练习将聚焦于最常见的运算放大器电路之一：加法放大器。通过设计一个计算两个信号平均值的电路，你将在一个实际的信号处理任务中应用“虚地”概念。这个练习将巩固你对基尔霍夫电流定律和虚地假设如何协同工作，以分析和设计执行数学运算的电路的理解。[@problem_id:1341089]", "problem": "一位工程师正在为传感器阵列设计一个信号调理电路。该电路必须接收两个输入电压 $V_1$ 和 $V_2$，并产生一个输出电压 $V_{out}$，其值等于两个输入电压的负平均值。该电路由一个理想运算放大器（Op-Amp）和三个电阻构成。两个输入电压 $V_1$ 和 $V_2$ 通过两个独立的输入电阻 $R_{in,1}$ 和 $R_{in,2}$ 连接到运算放大器的反相输入端。一个反馈电阻 $R_f$ 将运算放大器的输出端连接到其反相输入端。运算放大器的同相输入端直接接地。\n\n设计要求规定输出电压必须满足关系式 $V_{out} = -\\frac{1}{2}(V_1 + V_2)$。为了简化实现，两个输入电阻被选为相同的值，即 $R_{in,1} = R_{in,2} = 27.0 \\, \\text{k}\\Omega$。\n\n假设运算放大器是理想的，计算所需反馈电阻 $R_f$ 的值。答案以千欧姆（k$\\Omega$）为单位，并四舍五入到三位有效数字。", "solution": "对于一个同相输入端接地的理想反相加法放大器，其反相输入端处于虚地状态，因此 $V_{-} = 0$。在反相节点处应用基尔霍夫电流定律可得\n$$\\frac{V_{1} - V_{-}}{R_{in,1}} + \\frac{V_{2} - V_{-}}{R_{in,2}} + \\frac{V_{out} - V_{-}}{R_{f}} = 0.$$\n当 $V_{-} = 0$ 时，上式简化为\n$$\\frac{V_{1}}{R_{in,1}} + \\frac{V_{2}}{R_{in,2}} + \\frac{V_{out}}{R_{f}} = 0,$$\n因此\n$$V_{out} = -R_{f}\\left(\\frac{V_{1}}{R_{in,1}} + \\frac{V_{2}}{R_{in,2}}\\right).$$\n当输入电阻相同时，即 $R_{in,1} = R_{in,2} = R_{in}$，上式变为\n$$V_{out} = -\\frac{R_{f}}{R_{in}}(V_{1} + V_{2}).$$\n设计要求为 $V_{out} = -\\frac{1}{2}(V_{1} + V_{2})$，因此通过系数匹配可得\n$$\\frac{R_{f}}{R_{in}} = \\frac{1}{2} \\quad \\Rightarrow \\quad R_{f} = \\frac{1}{2}R_{in}.$$\n当 $R_{in} = 27.0\\,\\text{k}\\Omega$ 时，所需的反馈电阻为\n$$R_{f} = \\frac{1}{2}\\times 27.0\\,\\text{k}\\Omega = 13.5\\,\\text{k}\\Omega.$$\n四舍五入到三位有效数字，结果为 $13.5$ 千欧姆。", "answer": "$$\\boxed{13.5}$$", "id": "1341089"}, {"introduction": "在虚地的基础上，本练习将探索更具普适性的“虚短”原理。你将分析一个非反相输入端连接到非零参考电压的电路，从而实现直流电平移位。这个问题表明，反相输入端的电位会跟随非反相输入端的电位，这是设计超越简单反相放大器的各种模拟系统时的一个关键概念。[@problem_id:1341082]", "problem": "一个信号调理电路由一个理想运算放大器（op-amp）构成，用于对直流输入信号进行电平移位。电路的构造如下：一个阻值为 $R_1$ 的电阻将提供电压 $V_{in}$ 的输入电压源连接到运算放大器的反相输入端（-）。一个阻值为 $R_f$ 的反馈电阻连接在输出端（提供电压 $V_{out}$）和反相输入端之间。为了实现所需的电平移位，运算放大器的同相输入端（+）连接到一个稳定的直流参考电压 $V_{ref}$，而不是接地。\n\n假设运算放大器是理想的，推导输出电压 $V_{out}$ 关于输入电压 $V_{in}$、参考电压 $V_{ref}$ 以及电阻 $R_1$ 和 $R_f$ 的符号表达式。", "solution": "假设这是一个带有负反馈的理想运算放大器。理想运算放大器的条件是：（i）输入阻抗无穷大，因此输入电流为零；（ii）在线性区，两个输入端的电压相等，即 $V_{-}=V_{+}$。由于同相输入端连接到 $V_{ref}$，因此反相输入节点的电压为 $V_{-}=V_{ref}$。\n\n在反相输入节点处应用基尔霍夫电流定律。由于没有电流流入运算放大器的输入端，流过 $R_{1}$ 和 $R_{f}$ 的电流之和必须为零。以从源流入节点的电流为正，\n$$\n\\frac{V_{in}-V_{-}}{R_{1}}+\\frac{V_{out}-V_{-}}{R_{f}}=0.\n$$\n代入 $V_{-}=V_{ref}$：\n$$\n\\frac{V_{in}-V_{ref}}{R_{1}}+\\frac{V_{out}-V_{ref}}{R_{f}}=0.\n$$\n求解 $V_{out}$：\n$$\n\\frac{V_{out}-V_{ref}}{R_{f}}=-\\frac{V_{in}-V_{ref}}{R_{1}}\n$$\n$$\nV_{out}-V_{ref}=-\\frac{R_{f}}{R_{1}}\\left(V_{in}-V_{ref}\\right)\n$$\n$$\nV_{out}=V_{ref}-\\frac{R_{f}}{R_{1}}V_{in}+\\frac{R_{f}}{R_{1}}V_{ref}\n=\\left(1+\\frac{R_{f}}{R_{1}}\\right) V_{ref}-\\frac{R_{f}}{R_{1}} V_{in}.\n$$\n这就是所求的关于 $V_{in}$、$V_{ref}$、$R_{1}$ 和 $R_{f}$ 的符号表达式。", "answer": "$$\\boxed{\\left(1+\\frac{R_{f}}{R_{1}}\\right) V_{ref}-\\frac{R_{f}}{R_{1}} V_{in}}$$", "id": "1341082"}, {"introduction": "最后的这个练习将虚短概念应用于差分放大器——一种基本的仪表电路构建模块。该问题引入了元件不匹配这一常见的实际缺陷，并分析其对共模信号抑制的影响。这个练习不仅考验了你在更复杂电路上的分析能力，还让你深刻理解理想模型与实际电路性能之间的关系。[@problem_id:1341094]", "problem": "一个理想运算放大器（Op-Amp）被配置为差分放大器。该电路的构造如下：一个输入电压 $v_1$ 通过一个电阻 $R_1$ 连接到运放的反相输入端（$-$）。一个反馈电阻 $R_2$ 连接输出端 $v_{out}$ 和反相输入端。第二个输入电压 $v_2$ 通过一个电阻 $R_3$ 连接到同相输入端（$+$）。同相输入端还通过一个电阻 $R_4$ 接地。\n\n该放大器设计为具有完美匹配的电阻比，使得 $R_3 = R_1$ 且 $R_4 = R_2$。然而，由于制造缺陷，电阻 $R_4$ 的值与其期望值有一个分数偏差 $\\delta$。它的实际电阻值为 $R_4 = R_2(1+\\delta)$，而电阻 $R_1$、$R_2$ 和 $R_3$ 均处于其理想的期望值（即 $R_3 = R_1$）。\n\n一个纯共模输入信号被施加到放大器上，使得 $v_1 = v_2 = V_{cm}$。确定最终的输出电压 $v_{out}$。将您的答案表示为关于 $V_{cm}$、$R_1$、$R_2$ 和 $\\delta$ 的单个闭式解析表达式。", "solution": "对于一个带负反馈的理想运放，其输入电流为零，且输入节点电压满足 $v_{-} = v_{+}$。\n\n同相输入端 $v_+$ 的电压由 $v_2$、$R_3$ 和 $R_4$ 构成的分压器决定：\n$$\nv_{+} = v_{2}\\,\\frac{R_{4}}{R_{3} + R_{4}}.\n$$\n在反相输入节点处应用KCL（基尔霍夫电流定律），考虑到运放输入电流为零，可得：\n$$\n\\frac{v_{1} - v_{-}}{R_{1}} + \\frac{v_{out} - v_{-}}{R_{2}} = 0.\n$$\n对 $v_{out}$ 进行整理，得到：\n$$\nv_{out} = v_{-}\\left(1+\\frac{R_2}{R_1}\\right) - v_{1}\\frac{R_2}{R_1}\n$$\n使用纯共模输入 $v_{1} = v_{2} = V_{cm}$ 以及虚短条件 $v_{-} = v_{+}$，我们有：\n$$\nv_{out} = v_{+}\\left(1+\\frac{R_2}{R_1}\\right) - V_{cm}\\frac{R_2}{R_1}\n$$\n将 $v_{+} = V_{cm}\\,\\frac{R_{4}}{R_{3} + R_{4}}$ 代入，并使用给定的电阻值 $R_3 = R_1$ 和 $R_4 = R_2(1+\\delta)$：\n$$\nv_{out} = \\left(V_{cm} \\frac{R_2(1+\\delta)}{R_1 + R_2(1+\\delta)}\\right) \\left(\\frac{R_1+R_2}{R_1}\\right) - V_{cm}\\frac{R_2}{R_1}\n$$\n提取公因式 $\\frac{V_{cm}R_2}{R_1}$：\n$$\nv_{out} = \\frac{V_{cm}R_2}{R_1} \\left[ \\frac{(R_1+R_2)(1+\\delta)}{R_1+R_2(1+\\delta)} - 1 \\right]\n$$\n将方括号内的项合并到一个公分母下进行化简：\n$$\n\\frac{(R_1+R_2)(1+\\delta) - (R_1+R_2(1+\\delta))}{R_1+R_2(1+\\delta)} = \\frac{R_1+R_2+R_1\\delta+R_2\\delta - R_1-R_2-R_2\\delta}{R_1+R_2(1+\\delta)} = \\frac{R_1\\delta}{R_1+R_2(1+\\delta)}\n$$\n将化简后的结果代回，得到最终表达式：\n$$\nv_{out} = \\frac{V_{cm}R_2}{R_1} \\left[ \\frac{R_1\\delta}{R_1+R_2(1+\\delta)} \\right] = V_{cm}\\,\\frac{R_{2}\\delta}{R_{1} + R_{2}(1+\\delta)}\n$$\n该表达式在 $\\delta = 0$ 时满足 $v_{out} = 0$，与理想差分放大器抑制共模信号的特性相符。", "answer": "$$\\boxed{V_{cm}\\,\\frac{R_{2}\\,\\delta}{R_{1}+R_{2}\\left(1+\\delta\\right)}}$$", "id": "1341094"}]}