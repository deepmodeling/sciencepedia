{"hands_on_practices": [{"introduction": "要真正掌握精密整流器，我们首先要从其理想行为入手。这个练习要求你分析一个带有非标准三角波输入的同相精密半波整流器 [@problem_id:1326258]。通过确定输出波形并计算其平均直流值，你将巩固对电路基本传递函数的理解，并练习必要的信号分析技能。", "problem": "一位工程师正在设计一个信号调理电路，用于处理一个特殊传感器的输出。传感器的输出 $V_{in}(t)$ 是一个周期为 $T$ 的周期性三角波形。该波形从 $t=0$ 时的最小电压 $V_{min} = -1.0$ V 线性上升到 $t=T/2$ 时的最大电压 $V_{max} = +5.0$ V，然后在 $t=T$ 时线性下降回到 $V_{min}$。\n\n该调理电路是一个同相精密半波整流电路，由一个理想运算放大器（op-amp）和理想二极管构成。该电路的设计使得当输入电压 $V_{in}(t)$ 为正时，其输出电压 $V_{out}(t)$ 等于输入电压 $V_{in}(t)$；当 $V_{in}(t)$ 为负或零时，$V_{out}(t)$ 为零。\n\n计算输出电压 $V_{out}(t)$ 的平均直流（DC）值。请用伏特（Volts）表示你的答案，并四舍五入到三位有效数字。", "solution": "一个周期内的平均直流值定义为\n$$\n\\overline{V}_{\\text{out}}=\\frac{1}{T}\\int_{0}^{T} V_{\\text{out}}(t)\\,dt.\n$$\n对于一个由理想元件构成的同相精密半波整流电路，当 $V_{\\text{in}}(t)0$ 时，$V_{\\text{out}}(t)=V_{\\text{in}}(t)$，否则 $V_{\\text{out}}(t)=0$。\n\n输入三角波形从 $t=0$ 时的 $V_{\\min}=-1$ 上升到 $t=T/2$ 时的 $V_{\\max}=5$，然后在 $t=T$ 时回到 $-1$。上升段为\n$$\nV_{\\text{in}}(t)=-1+\\frac{5-(-1)}{T/2}\\,t=-1+\\frac{12}{T}t,\\quad 0\\le t\\le \\frac{T}{2},\n$$\n该段在 $-1+\\frac{12}{T}t=0\\Rightarrow t=\\frac{T}{12}$ 处穿过零点。下降段为\n$$\nV_{\\text{in}}(t)=5+\\frac{-1-5}{T/2}\\left(t-\\frac{T}{2}\\right)=11-\\frac{12}{T}t,\\quad \\frac{T}{2}\\le t\\le T,\n$$\n该段在 $11-\\frac{12}{T}t=0\\Rightarrow t=\\frac{11T}{12}$ 处穿过零点。\n\n因此，\n$$\nV_{\\text{out}}(t)=\n\\begin{cases}\n-1+\\frac{12}{T}t,  \\frac{T}{12}\\le t\\le \\frac{T}{2},\\\\\n11-\\frac{12}{T}t,  \\frac{T}{2}\\le t\\le \\frac{11T}{12},\\\\\n0,  \\text{其它情况}.\n\\end{cases}\n$$\n计算正值区间的面积：\n$$\n\\int_{\\frac{T}{12}}^{\\frac{T}{2}}\\left(-1+\\frac{12}{T}t\\right)dt=\\left[-t+\\frac{6}{T}t^{2}\\right]_{\\frac{T}{12}}^{\\frac{T}{2}}=\\frac{25}{24}T,\n$$\n$$\n\\int_{\\frac{T}{2}}^{\\frac{11T}{12}}\\left(11-\\frac{12}{T}t\\right)dt=\\left[11t-\\frac{6}{T}t^{2}\\right]_{\\frac{T}{2}}^{\\frac{11T}{12}}=\\frac{25}{24}T.\n$$\n一个周期内的总面积为\n$$\n\\frac{25}{24}T+\\frac{25}{24}T=\\frac{25}{12}T,\n$$\n所以平均直流值为\n$$\n\\overline{V}_{\\text{out}}=\\frac{1}{T}\\cdot\\frac{25}{12}T=\\frac{25}{12}\\ \\text{V}.\n$$\n数值上，$\\frac{25}{12}=2.083\\ldots$，四舍五入到三位有效数字为 $2.08$。", "answer": "$$\\boxed{2.08}$$", "id": "1326258"}, {"introduction": "理想模型为我们提供了坚实的基础，但真实世界的电路总有不完美之处。本练习将探讨一个常见问题：精密整流器中的二极管漏电流 [@problem_id:1326278]。通过对一个有缺陷的二极管进行建模，你将研究为何在非导通阶段输出并非完美的零，并学会计算这种由漏电引起的误差，从而对运放饱和及实际电路的局限性获得关键的理解。", "problem": "一个精密整流电路由一个运算放大器（op-amp）构成，该运放可被视为理想运放，除了其输出电压受限于饱和电压轨$+V_{sat}$和$-V_{sat}$。输入信号$v_{in}$连接到运放的同相（+）输入端。运放的输出端连接到一个有故障的二极管$D$的阳极。该二极管的阴极被指定为电路的输出节点$v_{out}$。通过将输出节点$v_{out}$直接连接到运放的反相（-）输入端，建立了一个反馈路径。最后，一个负载电阻$R_{load}$连接在输出节点$v_{out}$和地之间。\n\n已知二极管$D$有故障，表现出反向漏电流。该故障可以通过将二极管视为一个理想二极管与一个大的漏电阻$R_L$并联来精确建模。\n\n给定以下参数：\n- 负载电阻，$R_{load} = 10.0 \\, \\text{k}\\Omega$\n- 二极管漏电阻，$R_L = 2.00 \\, \\text{M}\\Omega$\n- 运放饱和电压，$V_{sat} = 12.0 \\, \\text{V}$\n\n计算当输入电压处于其周期的最低谷值，即最负值时，输出电压$v_{out}$的值。在此瞬间，$v_{in}$等于$-4.0 \\, \\text{V}$。将您的答案以毫伏（mV）为单位表示，并四舍五入到三位有效数字。", "solution": "问题要求计算精密整流电路在其理想非导通周期内的输出电压$v_{out}$。我们已知此瞬间的输入电压为$v_{in} = -4.0 \\, \\text{V}$。\n\n首先，我们来分析运算放大器（op-amp）的状态。输入电压$v_{in}$施加于同相输入端（+），因此$v_{+} = v_{in} = -4.0 \\, \\text{V}$。反相输入端（-）连接到输出，因此$v_{-} = v_{out}$。在负反馈配置中，运放的功能是调整其输出$v_{op}$，以使$v_{-} = v_{+}$。因此，运放试图将$v_{out}$设置为$-4.0 \\, \\text{V}$。\n\n为了实现负的输出电压$v_{out}$，运放自身的输出$v_{op}$（连接到二极管$D$的阳极）必须是更负的电压（以克服二极管的正向压降）。二极管阳极相对于其阴极（$v_{out}$）的负电压将导致我们模型中的理想二极管部分反向偏置。\n\n当理想二极管反向偏置时，它表现为开路。这一行为断开了通常通过二极管将运放输出连接到其反相输入端的负反馈回路。当理想运放的负反馈回路断开时，它表现为一个高增益比较器。其输出将摆动到其饱和电压轨之一。\n\n运放的差分输入电压为$v_d = v_{+} - v_{-}$。在回路断开的瞬间，$v_{+} = v_{in}$，$v_{-}$是先前为正或零的输出电压。随着$v_{in}$变为负值，$v_d$也变为负值。对于负的差分输入（$v_d  0$），运放的输出电压$v_{op}$将饱和到其负电压轨。因此，$v_{op} = -V_{sat}$。\n\n现在我们可以分析电路的输出部分。运放的输出端充当一个值为$-V_{sat}$的电压源。该电压源通过漏电阻$R_L$连接到输出节点$v_{out}$（因为理想二极管部分是开路）。输出节点$v_{out}$也通过负载电阻$R_{load}$连接到地。\n\n输出电压$v_{out}$可以使用分压法则来找到。节点$v_{out}$位于两个电阻$R_L$和$R_{load}$之间，这两个电阻连接在电压$-V_{sat}$和地（0 V）之间。分压公式为：\n$$v_{out} = (-V_{sat}) \\frac{R_{load}}{R_{load} + R_L}$$\n请注意，$v_{in}$的值导致运放饱和，但一旦饱和，$v_{in}$的精确值不再影响输出电压，输出电压仅由$V_{sat}$、$R_{load}$和$R_L$决定。\n\n我们给定的值为：\n$V_{sat} = 12.0 \\, \\text{V}$\n$R_{load} = 10.0 \\, \\text{k}\\Omega = 10.0 \\times 10^{3} \\, \\Omega$\n$R_L = 2.00 \\, \\text{M}\\Omega = 2.00 \\times 10^{6} \\, \\Omega$\n\n将这些值代入$v_{out}$的方程中：\n$$v_{out} = -12.0 \\, \\text{V} \\times \\frac{10.0 \\times 10^{3} \\, \\Omega}{10.0 \\times 10^{3} \\, \\Omega + 2.00 \\times 10^{6} \\, \\Omega}$$\n$$v_{out} = -12.0 \\, \\text{V} \\times \\frac{10.0 \\times 10^{3}}{2010 \\times 10^{3}}$$\n$$v_{out} = -12.0 \\, \\text{V} \\times \\frac{10.0}{2010}$$\n$$v_{out} \\approx -12.0 \\times 0.004975124$$\n$$v_{out} \\approx -0.05970149 \\, \\text{V}$$\n问题要求答案以毫伏（mV）为单位。为了从伏特转换为毫伏，我们乘以1000：\n$$v_{out} \\approx -0.05970149 \\times 1000 \\, \\text{mV}$$\n$$v_{out} \\approx -59.70149 \\, \\text{mV}$$\n将结果四舍五入到三位有效数字，我们得到：\n$$v_{out} = -59.7 \\, \\text{mV}$$", "answer": "$$\\boxed{-59.7}$$", "id": "1326278"}, {"introduction": "随着信号频率的增加，精密整流器的性能不再仅仅受静态误差的限制，动态效应开始变得至关重要。这个高级练习深入探讨了电路的高频行为，其中运放的压摆率和二极管的反向恢复时间共同作用，在输出端产生毛刺 [@problem_id:1326303]。通过分析这些瞬态效应的简化模型，你将学会预测这些毛刺的特征，这是设计高速模拟系统的一项至关重要的技能。", "problem": "一位工程师正在设计一个高频数据采集系统，该系统使用一个反相精密半波整流器。该电路由一个运算放大器（op-amp）和两个二极管D1、D2构成，其标准配置如许多教科书所示。输入电阻$R_1$和反馈电阻$R_2$的阻值相等（$R_1 = R_2 = R$）。该电路的设计目标是当$v_{in}  0$时产生输出$v_{out} = -v_{in}$，当$v_{in} > 0$时产生输出$v_{out} = 0$。\n\n然而，在高工作频率下，运算放大器和二极管的非理想特性会在输入正弦波每次从负到正过零时，在输出端产生一个显著的电压毛刺（glitch）。你的任务是基于一个简化的瞬态行为模型来量化这个毛刺。\n\n输入信号为正弦波$v_{in}(t) = V_p \\sin(\\omega t)$。电路元件具有以下非理想特性：\n- 运算放大器具有有限的压摆率（slew rate），$SR$。在其他方面它是理想的。\n- 二极管（D1和D2）在导通时具有恒定的正向压降$V_D$。当二极管从导通（ON）状态切换到非导通（OFF）状态时，它会表现出反向恢复时间$t_{rr}$。\n\n下述简化模型描述了当$v_{in}(t)$在$t=0$时（从负到正）过零期间发生的毛刺的电路行为：\n1.  在$t=0^-$时，运算放大器的输出电压为$v_A = -V_D$。为了使电路切换到$v_{in}>0$时的正确状态，运算放大器的输出必须摆动到$v_A = +V_D$。这个转换受压摆率的限制，因此在$t>0$时，运算放大器的输出电压由$v_A(t) = -V_D + SR \\times t$给出，直到它达到$+V_D$。\n2.  在$t0$时导通的二极管D2，在$t=0$时进入其反向恢复阶段。在$0 \\le t \\le t_{rr}$期间，它被建模为维持其“导通”（ON）状态连接，这强制了关系式$v_{out}(t) = v_A(t) + V_D$。对于$t > t_{rr}$，D2表现为开路。\n3.  二极管D1保持开路状态，直到运算放大器输出$v_A(t)$达到$+V_D$时，它才导通。\n4.  如果存在一个时间区间，两个二极管都被建模为开路，则输出节点$v_{out}$仅通过电阻$R_2$连接到运算放大器的反相输入端$v_-$。对于这种情况，你可以假设$v_{out}(t) = v_{in}(t)$。\n5.  在毛刺的短暂持续时间内，输入信号可以近似为$v_{in}(t) \\approx V_p \\omega t$。\n\n毛刺被认为在时间$t_{end}$终止，该时间定义为电路达到一个稳定配置的第一个时刻，该配置将导致$v_{out}(t)$返回其理想值零。\n\n给定以下参数：\n- 输入电压峰值，$V_p = 5.0 \\text{ V}$\n- 输入信号频率，$f = 1.0 \\text{ MHz}$ ($\\omega = 2\\pi f$)\n- 二极管正向压降，$V_D = 0.70 \\text{ V}$\n- 运算放大器压摆率，$SR = 10.0 \\text{ V}/\\mu\\text{s}$\n- 二极管反向恢复时间，$t_{rr} = 50.0 \\text{ ns}$\n\n计算总“毛刺面积”，其定义为输出电压的时间积分 $\\int_0^{t_{end}} v_{out}(t) dt$。请以纳伏秒（nV·s）为单位表示你的答案，并四舍五入到三位有效数字。", "solution": "我们使用给定的简化动态特性来建模反相精密半波整流器在过零点附近的行为。设运算放大器输出为$v_{A}(t)$，整流器输出为$v_{out}(t)$。相关行为如下：\n\n- 对于$t \\ge 0$，运算放大器以有限压摆率$SR$从$v_{A}(0^{-})=-V_{D}$向$+V_{D}$摆动，因此\n$$\nv_{A}(t)=-V_{D}+SR \\times t,\n$$\n直到达到$+V_{D}$。所需时间为\n$$\nt_{VD}=\\frac{(+V_{D})-(-V_{D})}{SR}=\\frac{2V_{D}}{SR}.\n$$\n\n- 在$0 \\le t \\le t_{rr}$期间，二极管D2处于反向恢复状态，并被建模为保持导通，强制\n$$\nv_{out}(t)=v_{A}(t)+V_{D}.\n$$\n代入$v_{A}(t)=-V_{D}+SR \\times t$，得到\n$$\nv_{out}(t)=SR \\times t,\\quad 0 \\le t \\le t_{rr}.\n$$\n\n- 二极管D1保持截止状态，直到$v_{A}(t)$在$t=t_{VD}$时达到$+V_{D}$。在D2于$t=t_{rr}$退出反向恢复之后，且在D1导通之前，两个二极管都处于截止状态。在该区间内，输出仅通过$R_{2}$连接到反相输入端，根据模型，我们取\n$$\nv_{out}(t)=v_{in}(t)\\approx V_{p}\\omega t.\n$$\n\n- 毛刺在电路达到$v_{in}>0$的稳定配置的第一个时刻终止，即D1导通且D2截止，这发生在$t_{end}=t_{VD}$，前提是$t_{rr}  t_{VD}$。\n\n我们现在计算相关的时间和值：\n- $SR = 10.0 \\, \\text{V}/\\mu\\text{s} = 10.0 \\times 10^{6} \\, \\text{V/s}$\n- $t_{rr} = 50.0 \\, \\text{ns} = 50.0 \\times 10^{-9} \\, \\text{s}$\n- 时间$t_{VD} = \\frac{2 \\times 0.70 \\, \\text{V}}{10.0 \\times 10^6 \\, \\text{V/s}} = 0.14 \\times 10^{-6} \\, \\text{s} = 140 \\, \\text{ns}$\n- 由于$t_{rr} = 50 \\, \\text{ns}  t_{VD} = 140 \\, \\text{ns}$，毛刺持续时间为$t_{end} = t_{VD} = 140 \\, \\text{ns}$，并且包含两个不同的阶段。\n\n毛刺面积是两个阶段的积分之和：$\\text{Area} = \\int_{0}^{t_{rr}}v_{out}(t)\\,dt + \\int_{t_{rr}}^{t_{VD}}v_{out}(t)\\,dt$\n\n第一阶段的面积（$0 \\le t \\le t_{rr}$）：\n$$\n\\text{Area}_1 = \\int_{0}^{t_{rr}} (SR \\times t) \\, dt = \\frac{1}{2} SR t_{rr}^2\n$$\n$$\n\\text{Area}_1 = \\frac{1}{2} (10.0 \\times 10^6 \\, \\text{V/s}) \\times (50.0 \\times 10^{-9} \\, \\text{s})^2 = 12.5 \\times 10^{-9} \\, \\text{V·s} = 12.5 \\, \\text{nV·s}\n$$\n\n第二阶段的面积（$t_{rr} \\le t \\le t_{VD}$）：\n$$\n\\text{Area}_2 = \\int_{t_{rr}}^{t_{VD}} (V_p \\omega t) \\, dt = \\frac{1}{2} V_p \\omega (t_{VD}^2 - t_{rr}^2)\n$$\n其中 $\\omega = 2\\pi f = 2\\pi \\times (1.0 \\times 10^6 \\, \\text{Hz})$。\n$$\n\\text{Area}_2 = \\frac{1}{2} \\times 5.0 \\, \\text{V} \\times (2\\pi \\times 10^6 \\, \\text{s}^{-1}) \\times ((140 \\times 10^{-9} \\, \\text{s})^2 - (50 \\times 10^{-9} \\, \\text{s})^2)\n$$\n$$\n\\text{Area}_2 = 5\\pi \\times 10^6 \\times (19600 - 2500) \\times 10^{-18} \\, \\text{V·s}\n$$\n$$\n\\text{Area}_2 = 5\\pi \\times 10^6 \\times 17100 \\times 10^{-18} \\, \\text{V·s} = 85500\\pi \\times 10^{-12} \\, \\text{V·s}\n$$\n$$\n\\text{Area}_2 \\approx 268.606 \\times 10^{-9} \\, \\text{V·s} \\approx 268.6 \\, \\text{nV·s}\n$$\n\n总毛刺面积：\n$$\n\\text{Total Area} = \\text{Area}_1 + \\text{Area}_2 = 12.5 \\, \\text{nV·s} + 268.6 \\, \\text{nV·s} = 281.1 \\, \\text{nV·s}\n$$\n四舍五入到三位有效数字，结果为$281 \\, \\text{nV·s}$。", "answer": "$$\\boxed{281}$$", "id": "1326303"}]}