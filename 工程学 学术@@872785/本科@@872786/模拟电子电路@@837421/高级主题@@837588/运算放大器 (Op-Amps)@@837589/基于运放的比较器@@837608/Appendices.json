{"hands_on_practices": [{"introduction": "我们从一个实际应用案例开始：设计一个温度监控电路。这个练习将帮助你理解如何利用简单的分压电路来精确设定比较器的开关阈值，这是将物理世界的信号（温度）转换为电路可以响应的电压信号的关键一步。通过解决这个问题 [@problem_id:1322203]，你将掌握比较器作为电平检测器的核心设计原则。", "problem": "一个用于电子设备外壳的温度监控电路使用一个理想运算放大器（op-amp）来控制一个冷却风扇。该电路设计用于在内部温度超过特定阈值时开启风扇。\n\n温度由一个负温度系数（NTC）热敏电阻感知。在电路预期的工作范围内，热敏电阻的阻值 $R_T$ 可以通过线性模型 $R_T(T) = R_0 - k(T - T_0)$ 精确描述，其中 $T$ 是摄氏度为单位的温度。已知参数为：在参考温度 $T_0 = 25.0^\\circ\\text{C}$ 时，$R_0 = 12.0 \\text{ k}\\Omega$，温度系数为 $k = 400.0 \\, \\Omega/^\\circ\\text{C}$。\n\n电路的传感部分由一个分压器组成，该分压器由一个 $V_S = +5.00 \\text{ V}$ 的精密电源供电。热敏电阻 $R_T$ 连接在电源 $V_S$ 和节点 A 之间，一个固定电阻 $R_1$ 连接在节点 A 和地之间。节点 A 的电压，记为 $V_{sense}$，被输入到运算放大器的同相（+）输入端。\n\n参考电压 $V_{ref}$ 提供给运算放大器的反相（-）输入端。该电压由第二个分压器产生，同样由 $V_S$ 供电。该参考分压器由一个连接在 $V_S$ 和节点 B 之间的电阻 $R_2$ 以及一个连接在节点 B 和地之间的电阻 $R_3$ 组成。节点 B 的电压作为 $V_{ref}$。\n\n电路需满足以下设计规范：\n1.  当温度上升到触发点 $T_{trip} = 50.0^\\circ\\text{C}$ 时，风扇必须启动。\n2.  参考分压器（包含 $R_2$ 和 $R_3$）从电源 $V_S$ 汲取的总电流必须精确为 $I_{ref\\_div} = 0.250 \\text{ mA}$。\n3.  当系统处于参考温度 $T_0 = 25.0^\\circ\\text{C}$ 时，传感分压器（包含 $R_T$ 和 $R_1$）从电源 $V_S$ 汲取的总电流必须为 $I_{sense\\_div} = 0.200 \\text{ mA}$。\n\n确定 $R_1$、$R_2$ 和 $R_3$ 所需的电阻值。请按 ($R_1$, $R_2$, $R_3$) 的特定顺序提供您的答案，以千欧姆（$\\text{k}\\Omega$）为单位，并四舍五入到三位有效数字。", "solution": "热敏电阻的阻值线性模型为 $R_{T}(T) = R_{0} - k\\left(T - T_{0}\\right)$，其中 $R_{0} = 12.0 \\text{ k}\\Omega$，$T_{0} = 25.0^{\\circ}\\text{C}$，且 $k = 400.0 \\, \\Omega/^{\\circ}\\text{C}$。在触发温度 $T_{trip} = 50.0^{\\circ}\\text{C}$ 时，热敏电阻的阻值为\n$$\nR_{T}(T_{trip}) = R_{0} - k\\left(T_{trip} - T_{0}\\right).\n$$\n代入给定值，\n$$\nR_{T}(T_{trip}) = 12.0 \\times 10^{3} - 400.0\\left(50.0 - 25.0\\right) = 12.0 \\times 10^{3} - 10.0 \\times 10^{3} = 2.0 \\times 10^{3} \\ \\Omega.\n$$\n\n传感分压器由 $R_{T}$（上）和 $R_{1}$（下）组成，跨接在 $V_{S} = 5.00 \\ \\text{V}$ 上。在 $T_{0}$ 时的指定电流为 $I_{sense\\_div} = 0.200 \\ \\text{mA}$。根据欧姆定律，\n$$\nI_{sense\\_div} = \\frac{V_{S}}{R_{T}(T_{0}) + R_{1}} \\quad \\Rightarrow \\quad R_{T}(T_{0}) + R_{1} = \\frac{V_{S}}{I_{sense\\_div}}.\n$$\n使用 $R_{T}(T_{0}) = R_{0} = 12.0 \\times 10^{3} \\ \\Omega$，\n$$\nR_{1} = \\frac{V_{S}}{I_{sense\\_div}} - R_{0} = \\frac{5.00}{0.200 \\times 10^{-3}} - 12.0 \\times 10^{3} = 25.0 \\times 10^{3} - 12.0 \\times 10^{3} = 13.0 \\times 10^{3} \\ \\Omega.\n$$\n\n传感节点的电压由分压关系给出\n$$\nV_{sense}(T) = V_{S} \\frac{R_{1}}{R_{T}(T) + R_{1}}.\n$$\n对于用作比较器的理想运算放大器，开关阈值出现在 $V_{sense}(T_{trip}) = V_{ref}$ 时。因此，\n$$\nV_{ref} = V_{S} \\frac{R_{1}}{R_{T}(T_{trip}) + R_{1}}.\n$$\n\n参考分压器由 $R_{2}$（上）和 $R_{3}$（下）组成，跨接在 $V_{S}$ 上。其电流指定为 $I_{ref\\_div} = 0.250 \\ \\text{mA}$，因此根据欧姆定律，\n$$\nI_{ref\\_div} = \\frac{V_{S}}{R_{2} + R_{3}} \\quad \\Rightarrow \\quad R_{2} + R_{3} = \\frac{V_{S}}{I_{ref\\_div}} = \\frac{5.00}{0.250 \\times 10^{-3}} = 20.0 \\times 10^{3} \\ \\Omega.\n$$\n参考电压为\n$$\nV_{ref} = V_{S} \\frac{R_{3}}{R_{2} + R_{3}}.\n$$\n令 $V_{ref}$ 等于 $V_{sense}(T_{trip})$ 并消去 $V_{S}$ 得\n$$\n\\frac{R_{3}}{R_{2} + R_{3}} = \\frac{R_{1}}{R_{T}(T_{trip}) + R_{1}}.\n$$\n代入 $R_{1} = 13.0 \\times 10^{3} \\ \\Omega$ 和 $R_{T}(T_{trip}) = 2.0 \\times 10^{3} \\ \\Omega$：\n$$\n\\frac{R_{3}}{R_{2} + R_{3}} = \\frac{13.0 \\times 10^{3}}{2.0 \\times 10^{3} + 13.0 \\times 10^{3}} = \\frac{13}{15}.\n$$\n由于 $R_{2} + R_{3} = 20.0 \\times 10^{3} \\ \\Omega$，可得\n$$\nR_{3} = \\left(R_{2} + R_{3}\\right)\\frac{13}{15} = 20.0 \\times 10^{3} \\cdot \\frac{13}{15} = \\frac{260}{15} \\times 10^{3} \\ \\Omega = 17.333\\ldots \\times 10^{3} \\ \\Omega,\n$$\n以及\n$$\nR_{2} = \\left(R_{2} + R_{3}\\right) - R_{3} = 20.0 \\times 10^{3} - 17.333\\ldots \\times 10^{3} = 2.666\\ldots \\times 10^{3} \\ \\Omega.\n$$\n\n以千欧姆表示并四舍五入到三位有效数字，所需的电阻值为 $R_{1} = 13.0$，$R_{2} = 2.67$ 和 $R_{3} = 17.3$。", "answer": "$$\\boxed{\\begin{pmatrix} 13.0  2.67  17.3 \\end{pmatrix}}$$", "id": "1322203"}, {"introduction": "理想比较器在嘈杂环境中可能会因输入信号的微小波动而在输出端产生不期望的快速切换。为了增强电路的抗噪声能力，我们引入了带有迟滞特性的施密特触发器。这个问题 [@problem_id:1322180] 让你深入分析一个更贴近真实的场景，其中运算放大器的饱和电压不对称，且参考电压不为零。通过计算迟滞宽度和中心电压，你将学会如何量化和预测真实世界中比较器电路的行为。", "problem": "一个反相施密特触发器由一个非理想运算放大器（op-amp）和一个正反馈网络构成。输入信号 $V_{in}$ 直接连接到运放的反相输入端 ($V_-$)。正反馈网络连接到同相输入端 ($V_+$)。该网络包含一个连接在运放输出端 ($V_{out}$) 和同相输入端 ($V_+$) 之间的电阻 $R_1$，以及一个连接在同相输入端 ($V_+$) 和一个稳定的直流参考电压 $V_{ref}$ 之间的第二个电阻 $R_2$。\n\n运放的供电方式导致其具有不对称的饱和电压。输出电压在正电压 $V_{sat+} = +13.5 \\text{ V}$ 和负电压 $V_{sat-} = -11.5 \\text{ V}$ 处饱和。电路使用以下元件值构建：$R_1 = 30.0 \\text{ k}\\Omega$，$R_2 = 10.0 \\text{ k}\\Omega$ 以及 $V_{ref} = 2.50 \\text{ V}$。\n\n基于此配置，计算触发器传输特性的中心电压 ($V_C$) 和迟滞宽度 ($V_W$)。将你的最终答案以单行矩阵的形式呈现，其中包含中心电压和迟滞宽度的数值，顺序为 $\\begin{pmatrix} V_C  V_W \\end{pmatrix}$。数值应以伏特 (V) 为单位。将最终数值答案四舍五入到三位有效数字。", "solution": "在一个反相施密特触发器中，反相输入端接至 $V_{in}$，同相输入端 $V_{+}$ 由来自 $V_{out}$ 和 $V_{ref}$ 的双源电阻网络驱动。节点 $V_{+}$ 的电压可通过节点分析确定（理想输入不吸取电流）。在 $V_{+}$ 处应用KCL可得\n$$\n\\frac{V_{+}-V_{out}}{R_{1}}+\\frac{V_{+}-V_{ref}}{R_{2}}=0,\n$$\n解得\n$$\nV_{+}=\\frac{R_{2}V_{out}+R_{1}V_{ref}}{R_{1}+R_{2}}.\n$$\n当 $V_{-}=V_{+}$ 时运放发生翻转，并且由于 $V_{-}=V_{in}$，翻转阈值是在每种饱和输出状态下，$V_{in}$ 等于 $V_{+}$ 时的值：\n$$\nV_{TU}=\\frac{R_{2}V_{sat+}+R_{1}V_{ref}}{R_{1}+R_{2}},\\qquad\nV_{TL}=\\frac{R_{2}V_{sat-}+R_{1}V_{ref}}{R_{1}+R_{2}}.\n$$\n迟滞宽度和中心电压为\n$$\nV_{W}=V_{TU}-V_{TL}=\\frac{R_{2}}{R_{1}+R_{2}}\\left(V_{sat+}-V_{sat-}\\right),\n$$\n$$\nV_{C}=\\frac{V_{TU}+V_{TL}}{2}=\\frac{R_{2}\\left(V_{sat+}+V_{sat-}\\right)+2R_{1}V_{ref}}{2\\left(R_{1}+R_{2}\\right)}.\n$$\n代入 $R_{1}=30.0$，$R_{2}=10.0$，$V_{ref}=2.50$，$V_{sat+}=13.5$，$V_{sat-}=-11.5$。首先计算比率：\n$$\n\\frac{R_{2}}{R_{1}+R_{2}}=\\frac{10.0}{40.0}=0.25,\\qquad \\frac{R_{1}}{R_{1}+R_{2}}=\\frac{30.0}{40.0}=0.75.\n$$\n那么阈值为\n$$\nV_{TU}=0.25\\cdot 13.5+0.75\\cdot 2.50=3.375+1.875=5.25,\n$$\n$$\nV_{TL}=0.25\\cdot(-11.5)+0.75\\cdot 2.50=-2.875+1.875=-1.00.\n$$\n因此\n$$\nV_{W}=5.25-(-1.00)=6.25,\\qquad V_{C}=\\frac{5.25+(-1.00)}{2}=2.125.\n$$\n四舍五入到三位有效数字，得到 $V_{C}=2.13$ 和 $V_{W}=6.25$。", "answer": "$$\\boxed{\\begin{pmatrix} 2.13  6.25 \\end{pmatrix}}$$", "id": "1322180"}, {"introduction": "标准施密特触发器提供对称的迟滞区间，但这并非总是最优解。在某些应用中，我们可能需要对上升和下降的信号边沿有不同的噪声容限。这个练习 [@problem_id:1322166] 展示了一个巧妙的设计，通过在正反馈路径中加入一个二极管来创建不对称的迟滞特性。它挑战你跳出常规思维，学习如何利用非线性元件来定制电路的传输特性，以满足特定的应用需求。", "problem": "一个运算放大器被配置为带有正反馈的比较器，以产生迟滞效应。该运放被认为是理想的，具有无限输入阻抗和零输出阻抗，但其输出电压 $V_{out}$ 受饱和电平 $\\pm V_{sat}$ 的限制。\n\n电路的构造如下：\n- 反相输入端 ($V_-$) 连接到一个稳定的直流电压源，设定参考电压 $V_{ref}$。\n- 同相输入端，我们称之为节点 $P$，作为一个求和点。\n- 一个输入电阻 $R_1$ 将外部输入信号 $V_{in}$ 连接到节点 $P$。\n- 从输出 $V_{out}$ 到节点 $P$ 的反馈路径由一个反馈电阻 $R_2$ 与一个二极管 $D$ 串联组成。二极管的阴极连接到运放的输出端，其阳极连接到 $R_2$ 的一端。$R_2$ 的另一端连接到节点 $P$。\n\n二极管 $D$ 的模型是：当其导通时，具有一个恒定的正向压降 $V_D$；当其反向偏置时，充当开路。\n\n元件和参数值如下：\n$R_1 = 10.0 \\text{ k}\\Omega$\n$R_2 = 47.0 \\text{ k}\\Omega$\n$V_{ref} = 1.50 \\text{ V}$\n$V_{sat} = 13.0 \\text{ V}$\n$V_D = 0.70 \\text{ V}$\n\n确定输出状态切换时的两个输入电压电平。这些电平被称为上触发点（导致输出从低到高转换的输入电压）和下触发点（导致输出从高到低转换的输入电压）。\n\n将您的最终答案表示为一个包含两个值的行矩阵，顺序为 [上触发点, 下触发点]。将两个值都用伏特表示，并四舍五入到三位有效数字。", "solution": "理想运放比较器在同相输入节点电压等于反相输入参考电压时切换状态，因此切换条件为 $V_{P}=V_{ref}$。输出状态决定了二极管是否导通，从而决定了是否存在通过 $R_{2}$ 的正反馈。\n\n当 $V_{out}=+V_{sat}$ (高电平) 时，二极管的阴极电位高于其阳极电位；它处于反向偏置状态，为开路。此时，节点 $P$ 仅通过 $R_{1}$ 连接到 $V_{in}$，并且由于没有输入偏置电流，$V_{P}=V_{in}$。从高到低的转换（下触发点）发生在 $V_{P}=V_{ref}$ 时，因此\n$$V_{in,\\text{LTP}}=V_{ref}.$$\n\n当 $V_{out}=-V_{sat}$ (低电平) 时，二极管正向偏置。在恒定压降模型下，二极管阳极（连接到 $R_{2}$ 的 $D$ 的一端）的电位为\n$$V_{A}=V_{out}+V_{D}=-V_{sat}+V_{D}.$$\n节点 $P$ 通过 $R_{1}$ 和 $R_{2}$ 连接到两个源，并且没有电流流入运放输入端，因此在 $P$ 点的KCL（基尔霍夫电流定律）给出\n$$(V_{P}-V_{in})/R_{1}+(V_{P}-V_{A})/R_{2}=0.$$\n在从低到高的转换（上触发点）时，$V_{P}=V_{ref}$ 而输出仍为低电平，所以\n$$\\frac{V_{ref}-V_{in}}{R_{1}}+\\frac{V_{ref}-(-V_{sat}+V_{D})}{R_{2}}=0.$$\n求解 $V_{in}$，\n$$V_{in,\\text{UTP}}=V_{ref}+\\frac{R_{1}}{R_{2}}\\bigl(V_{ref}+V_{sat}-V_{D}\\bigr).$$\n\n代入给定值，\n$$V_{in,\\text{UTP}}=1.50+\\frac{10.0}{47.0}\\bigl(1.50+13.0-0.70\\bigr)=1.50+\\frac{10.0}{47.0}\\times 13.80\\approx 4.436\\ \\text{V},$$\n$$V_{in,\\text{LTP}}=1.50\\ \\text{V}.$$\n四舍五入到三位有效数字，触发点为 $4.44\\ \\text{V}$ (上) 和 $1.50\\ \\text{V}$ (下)。", "answer": "$$\\boxed{\\begin{pmatrix}4.44  1.50\\end{pmatrix}}$$", "id": "1322166"}]}