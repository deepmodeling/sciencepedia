{"hands_on_practices": [{"introduction": "This problem introduces one of the most versatile tools in combinatorics: the \"stars and bars\" method. We will see how a distribution problem involving data objects and servers can be simplified into a standard problem of finding non-negative integer solutions to a linear equation. The key insight is learning how to model the \"leftover\" items, which transforms an inequality constraint ($\\sum c_i \\le n$) into a simple equality that can be solved directly. [@problem_id:1356638]", "problem": "In a simplified model of a content delivery network, a stream of $n$ identical data objects is to be cached across a sequence of $k$ distinct regional servers. The stream arrives at the first server. At each server, any number of the currently available data objects (from zero up to all of them) can be stored in its cache. The remaining objects are then passed to the next server in the sequence. Any data objects that remain after passing through the final server (server $k$) are discarded.\n\nA complete \"caching configuration\" is described by the tuple $(c_1, c_2, \\dots, c_k)$, where $c_i$ is the non-negative integer number of data objects cached by server $i$. Determine the total number of distinct caching configurations possible. Express your answer as a single closed-form analytic expression in terms of $n$ and $k$.", "solution": "We model the process as assigning counts $c_{1},\\dots,c_{k}$ of $n$ identical data objects to $k$ distinct servers, with any remaining objects discarded after server $k$. A valid caching configuration is a $k$-tuple $(c_{1},\\dots,c_{k})$ with $c_{i}\\in \\mathbb{Z}_{\\ge 0}$ and\n$$\n\\sum_{i=1}^{k} c_{i} \\le n.\n$$\nLet $r$ denote the number of objects discarded after the last server. By definition,\n$$\nr = n - \\sum_{i=1}^{k} c_{i}, \\quad r \\in \\mathbb{Z}_{\\ge 0}.\n$$\nThis establishes a bijection between $k$-tuples $(c_{1},\\dots,c_{k})$ satisfying $\\sum_{i=1}^{k} c_{i} \\le n$ and $(k+1)$-tuples $(c_{1},\\dots,c_{k},r)$ of nonnegative integers satisfying\n$$\n\\sum_{i=1}^{k} c_{i} + r = n.\n$$\nThus, the number of caching configurations equals the number of nonnegative integer solutions to\n$$\nc_{1} + c_{2} + \\dots + c_{k} + r = n.\n$$\nBy the stars-and-bars principle, the number of solutions in nonnegative integers to a sum of $m$ variables equaling $n$ is $\\binom{n + m - 1}{m - 1}$. Here $m = k+1$, so the count is\n$$\n\\binom{n + (k+1) - 1}{(k+1) - 1} = \\binom{n + k}{k}.\n$$\nTherefore, the total number of distinct caching configurations is $\\binom{n + k}{k}$.", "answer": "$$\\boxed{\\binom{n+k}{k}}$$", "id": "1356638"}, {"introduction": "Real-world counting problems often come with specific constraints. This exercise builds upon the basic \"stars and bars\" framework by introducing a minimum requirement for one of the categories. You will practice the essential technique of \"pre-allocating\" items to satisfy the constraint, thereby reducing the problem to a familiar form that can be solved with the standard formula. [@problem_id:1356649]", "problem": "A university's information technology department has purchased $n$ identical, perpetual software licenses for a new computational package. These licenses are to be distributed among $k$ distinct research laboratories. Due to a special funding arrangement, a specific laboratory, the \"Astrophysics Research Group,\" must receive at least three licenses. Given that $n$ and $k$ are integers such that $n \\ge 3$ and $k \\ge 1$, find a closed-form expression in terms of $n$ and $k$ for the total number of distinct ways to distribute the $n$ licenses. A closed-form expression is one that does not contain unevaluated sums, integrals, or derivatives.", "solution": "This problem asks for the number of ways to distribute $n$ identical items (software licenses) into $k$ distinct bins (research laboratories), with a specific constraint on one of the bins. This is a classic combinatorial problem that can be solved using the \"stars and bars\" method.\n\nLet $x_i$ be the number of licenses assigned to laboratory $i$, for $i = 1, 2, \\dots, k$. Since the laboratories are distinct but the licenses are identical, a specific distribution is defined by the set of values $\\{x_1, x_2, \\dots, x_k\\}$. The total number of licenses is $n$, so we are looking for the number of non-negative integer solutions to the equation:\n$$x_1 + x_2 + \\dots + x_k = n$$\n\nLet's designate laboratory 1 as the \"Astrophysics Research Group\". The problem states that this lab must receive at least three licenses. This imposes the following constraints on the variables:\n- $x_1 \\ge 3$\n- $x_i \\ge 0$ for $i = 2, 3, \\dots, k$\n\nTo handle the constraint $x_1 \\ge 3$, we can define a new variable. Let $y_1 = x_1 - 3$. Since $x_1$ must be an integer greater than or equal to 3, $y_1$ must be a non-negative integer ($y_1 \\ge 0$). We can express $x_1$ as $x_1 = y_1 + 3$.\n\nNow we substitute this back into our original equation:\n$$(y_1 + 3) + x_2 + x_3 + \\dots + x_k = n$$\n\nSubtracting 3 from both sides, we get a new equation:\n$$y_1 + x_2 + x_3 + \\dots + x_k = n - 3$$\n\nThe problem is now transformed into finding the number of non-negative integer solutions to this new equation. This is a standard stars and bars problem. We are distributing $N = n - 3$ identical items (the remaining licenses) into $K = k$ distinct bins (all the laboratories, including the Astrophysics group which is now free to receive zero *additional* licenses).\n\nThe formula for the number of ways to distribute $N$ identical items into $K$ distinct bins is given by the multiset coefficient, which is equivalent to a binomial coefficient:\n$$ \\binom{N+K-1}{K-1} $$\n\nIn our case, we have $N = n - 3$ and $K = k$. Substituting these into the formula gives:\n$$ \\binom{(n-3) + k - 1}{k-1} $$\n\nSimplifying the expression inside the binomial coefficient, we get:\n$$ \\binom{n+k-4}{k-1} $$\n\nThis is the closed-form expression for the number of ways to distribute the licenses according to the given rules. It represents the number of ways to choose the positions for the $k-1$ \"bars\" (dividers between labs) among a total of $n-3$ \"stars\" (licenses) and $k-1$ \"bars\".", "answer": "$$\\boxed{\\binom{n+k-4}{k-1}}$$", "id": "1356649"}, {"introduction": "This practice demonstrates the elegance of combinatorial arguments, specifically the \"double counting\" method, to simplify complex expressions. Instead of tediously calculating and summing three separate multinomial coefficients, we will construct a single, unified counting problem. By counting the elements of a carefully chosen set in two different ways, we can prove that the original sum is equivalent to a single, much simpler expression. [@problem_id:1356619]", "problem": "A technology company is deploying a fleet of microservices onto a computing cluster. The services are of three distinct types: Type A (Analytics), Type B (Business Logic), and Type C (Cache). The services of the same type are considered indistinguishable. Each node in the cluster can host exactly one service, and the cluster configuration is defined by the unique sequence of service types assigned to the nodes, which are arranged in a fixed, ordered line.\n\nA junior Site Reliability Engineer (SRE) is tasked with evaluating resource allocation by calculating the number of possible deployment configurations for a cluster with 11 nodes under three different scenarios:\n\n*   **Scenario 1:** Deploy 4 services of Type A, 4 of Type B, and 3 of Type C. Let $N_1$ be the number of distinct configurations for this scenario.\n*   **Scenario 2:** Deploy 5 services of Type A, 3 of Type B, and 3 of Type C. Let $N_2$ be the number of distinct configurations for this scenario.\n*   **Scenario 3:** Deploy 5 services of Type A, 4 of Type B, and 2 of Type C. Let $N_3$ be the number of distinct configurations for this scenario.\n\nThe SRE needs to report the total number of configurations across all three scenarios, which is the sum $N_{total} = N_1 + N_2 + N_3$. Instead of calculating each of $N_1$, $N_2$, and $N_3$ individually and then summing them, find the value of $N_{total}$ by formulating and solving a single, equivalent counting problem. What is the numerical value of $N_{total}$?", "solution": "We seek $N_{total}=N_{1}+N_{2}+N_{3}$, where each $N_{i}$ is a multinomial coefficient counting distinct sequences of length 11:\n- Scenario 1: $N_{1}=\\binom{11}{4,4,3} = \\dfrac{11!}{4!\\,4!\\,3!}$\n- Scenario 2: $N_{2}=\\binom{11}{5,3,3} = \\dfrac{11!}{5!\\,3!\\,3!}$\n- Scenario 3: $N_{3}=\\binom{11}{5,4,2} = \\dfrac{11!}{5!\\,4!\\,2!}$\n\nInstead of summing these values, we can solve a single, equivalent counting problem using a combinatorial argument. This sum is an instance of Pascal's identity for multinomial coefficients.\n\nConsider the problem of forming an ordered sequence of length 12 using 5 services of Type A, 4 of Type B, and 3 of Type C. By definition, the total number of such distinct sequences is given by the multinomial coefficient:\n$$ N_{equiv} = \\binom{12}{5, 4, 3} = \\frac{12!}{5!\\,4!\\,3!} $$\n\nNow, let's count this same set of sequences using a different method, by partitioning them based on the type of service placed in the final (12th) position.\n*   **Case 1: The last service is Type A.** If the 12th position is an A, then the first 11 positions must be a sequence formed from the remaining services: 4 of Type A, 4 of Type B, and 3 of Type C. The number of ways to arrange these is $\\binom{11}{4,4,3} = N_1$.\n*   **Case 2: The last service is Type B.** If the 12th position is a B, then the first 11 positions must be a sequence formed from 5 A's, 3 B's, and 3 C's. The number of ways is $\\binom{11}{5,3,3} = N_2$.\n*   **Case 3: The last service is Type C.** If the 12th position is a C, then the first 11 positions must be a sequence formed from 5 A's, 4 B's, and 2 C's. The number of ways is $\\binom{11}{5,4,2} = N_3$.\n\nSince these three cases are mutually exclusive and cover all possibilities for arranging the 12 services, the total number of sequences is the sum of the counts from each case. By the principle of double counting, we have:\n$$ N_{equiv} = N_1 + N_2 + N_3 $$\nTherefore, the required sum $N_{total}$ is equal to $\\binom{12}{5, 4, 3}$.\n\nWe now calculate the numerical value:\n$$ N_{total} = \\frac{12!}{5!\\,4!\\,3!} = \\frac{479001600}{120 \\cdot 24 \\cdot 6} = \\frac{479001600}{17280} = 27720 $$", "answer": "$$\\boxed{27720}$$", "id": "1356619"}]}