{"hands_on_practices": [{"introduction": "Many data structures in computer science, from file systems to decision processes, are modeled as full $m$-ary trees where every internal node has exactly $m$ children. This exercise explores a fundamental relationship between the number of internal nodes (the \"hubs\" or decision points) and the total size of the tree. By applying basic tree properties, you will derive a simple but powerful formula for calculating the total number of vertices [@problem_id:1378419], a vital skill for analyzing algorithm efficiency and memory requirements.", "problem": "In graph theory, a rooted tree is defined as a **full $m$-ary tree** if every parent node (an internal vertex) has exactly $m$ children. A vertex that has no children is called a leaf.\n\nConsider a proposed architecture for a new type of distributed cryptographic ledger. The data structure is a full $m$-ary tree where the internal vertices represent transaction hubs and the leaves represent individual transaction records. For this particular ledger design, it is specified that every transaction hub must branch out to exactly $m=5$ other nodes (which can be other hubs or transaction records).\n\nIf a specific instance of this ledger contains exactly 121 transaction hubs, what is the total number of nodes (hubs and records combined) in this tree structure?", "solution": "Let $m$ denote the arity, $i$ the number of internal vertices (transaction hubs), $l$ the number of leaves (transaction records), and $n$ the total number of nodes.\n\nIn any tree, the number of edges equals $n-1$. In a full $m$-ary tree, each internal vertex has exactly $m$ children, so the total number of edges is also\n$$\nE = m i.\n$$\nEquating these gives\n$$\nm i = n - 1 \\quad \\Rightarrow \\quad n = m i + 1.\n$$\nSubstituting $m=5$ and $i=121$ yields\n$$\nn = 5 \\cdot 121 + 1 = 606.\n$$\nAs a consistency check, the number of leaves is\n$$\nl = (m-1)i + 1 = 4 \\cdot 121 + 1 = 485,\n$$\nand $i + l = 121 + 485 = 606$, which agrees with the result above.", "answer": "$$\\boxed{606}$$", "id": "1378419"}, {"introduction": "Moving beyond rigidly structured trees, we now consider properties that hold for *any* tree, regardless of its specific shape. This practice challenges you to connect the number of leaves (terminal nodes) to the degrees of the internal nodes using the handshaking lemma. This powerful lemma states that the sum of degrees of all vertices is twice the number of edges, and applying it to a tree structure reveals a surprising and useful formula [@problem_id:1378393].", "problem": "A technology company is designing the network architecture for a new distributed computing cluster. The design specifies that the network topology must be a tree to prevent data loops and ensure that there is exactly one unique path between any two nodes. The nodes in the network are categorized into two types: \"edge nodes\" and \"core routers\".\n\nAn edge node is a computing node with a degree of exactly one, serving as an entry or termination point in the network. A core router is an internal computing node with a degree greater than one, responsible for routing traffic between different segments of the network.\n\nThe total number of nodes in the entire network (comprising both edge nodes and core routers) is denoted by $n$. The sum of the degrees of all the core routers in the network is given as $S$.\n\nBased on this information, derive a general expression for the total number of edge nodes in the network in terms of $n$ and $S$.", "solution": "Let $L$ denote the number of edge nodes (degree exactly $1$) and let $I$ denote the number of core routers (degree greater than $1$). Then $n = L + I$.\n\nIn any tree with $n$ nodes, the number of edges is $n - 1$. By the handshaking lemma, the sum of all vertex degrees equals twice the number of edges, hence the total degree sum is $2(n - 1)$.\n\nThe sum of degrees over all nodes is the sum over core routers plus the sum over edge nodes. By definition, the sum of degrees of core routers is $S$, and each edge node contributes degree $1$, so the sum over all edge nodes is $L$. Therefore,\n$$S + L = 2(n - 1).$$\nSolving for $L$ gives\n$$L = 2(n - 1) - S = 2n - 2 - S.$$\nThis expresses the total number of edge nodes in terms of $n$ and $S$.", "answer": "$$\\boxed{2n-2-S}$$", "id": "1378393"}, {"introduction": "One of the most elegant results in combinatorics is the ability to uniquely represent a labeled tree with a simple sequence of numbers. This exercise introduces the concept of a Pr端fer sequence, which serves as a unique \"fingerprint\" for a tree, a result connected to Cayley's formula for the number of spanning trees in a complete graph. You will practice the hands-on algorithm for decoding such a sequence to reconstruct the original tree's connections, providing a tangible experience with a deep connection between graph structures and combinatorial sequences [@problem_id:1378435].", "problem": "A systems administrator is trying to reconstruct the topology of a network of $n=8$ servers, labeled with unique integers from $1$ to $8$. The original network was a tree structure. Before decommissioning, a diagnostic tool generated a sequence of length $n-2$ by repeatedly applying the following procedure until only two servers remained connected:\n1. Identify the server that is a leaf (i.e., connected to only one other server) and has the smallest integer label.\n2. Record the label of the server to which this smallest leaf is connected.\n3. Remove the smallest leaf and its connection from the network.\n\nThe resulting diagnostic sequence recorded by the tool is $S = (4, 4, 5, 5, 6, 6)$.\nYour task is to determine the original set of edges that defined the network's tree topology. Which of the following sets of edges represents the original network? The edges are represented as unordered pairs of server labels.\n\nA. $\\{(1,4), (2,4), (3,5), (4,5), (5,6), (6,7), (6,8)\\}$\n\nB. $\\{(1,2), (2,3), (3,4), (4,5), (5,6), (6,7), (7,8)\\}$\n\nC. $\\{(1,8), (2,8), (3,8), (4,8), (5,8), (6,8), (7,8)\\}$\n\nD. $\\{(1,4), (2,4), (3,5), (4,5), (5,6), (6,7), (7,8)\\}$", "solution": "We recognize the described diagnostic sequence as the Pr端fer sequence of a labeled tree on $n=8$ vertices, produced by repeatedly removing the smallest labeled leaf and recording its neighbor. Given the Pr端fer sequence $S=(4,4,5,5,6,6)$, we reconstruct the tree using the standard Pr端fer decoding algorithm.\n\nFirst, compute the degree $d(v)$ of each vertex $v\\in\\{1,2,\\dots,8\\}$ using the formula\n$$\nd(v)=1+\\text{(number of occurrences of }v\\text{ in }S).\n$$\nCounting in $S$ yields: $4$ appears $2$ times, $5$ appears $2$ times, $6$ appears $2$ times, and all others appear $0$ times. Therefore,\n$$\n\\begin{aligned}\n&d(1)=1,\\quad d(2)=1,\\quad d(3)=1,\\quad d(4)=3,\\\\\n&d(5)=3,\\quad d(6)=3,\\quad d(7)=1,\\quad d(8)=1.\n\\end{aligned}\n$$\n\nInitialize the set of current leaves as those with degree $1$: $\\{1,2,3,7,8\\}$. Proceed through $S$ from left to right; at each step, connect the smallest leaf to the current sequence element, decrement both corresponding degrees by $1$, remove the leaf (whose degree becomes $0$), and continue.\n\nStep with $S_{1}=4$: smallest leaf is $1$. Add edge $(1,4)$. Update\n$$\nd(1):1\\to 0,\\quad d(4):3\\to 2.\n$$\nCurrent leaves: $\\{2,3,7,8\\}$.\n\nStep with $S_{2}=4$: smallest leaf is $2$. Add edge $(2,4)$. Update\n$$\nd(2):1\\to 0,\\quad d(4):2\\to 1.\n$$\nCurrent leaves: $\\{3,4,7,8\\}$.\n\nStep with $S_{3}=5$: smallest leaf is $3$. Add edge $(3,5)$. Update\n$$\nd(3):1\\to 0,\\quad d(5):3\\to 2.\n$$\nCurrent leaves: $\\{4,7,8\\}$.\n\nStep with $S_{4}=5$: smallest leaf is $4$. Add edge $(4,5)$. Update\n$$\nd(4):1\\to 0,\\quad d(5):2\\to 1.\n$$\nCurrent leaves: $\\{5,7,8\\}$.\n\nStep with $S_{5}=6$: smallest leaf is $5$. Add edge $(5,6)$. Update\n$$\nd(5):1\\to 0,\\quad d(6):3\\to 2.\n$$\nCurrent leaves: $\\{7,8\\}$.\n\nStep with $S_{6}=6$: smallest leaf is $7$. Add edge $(7,6)$. Update\n$$\nd(7):1\\to 0,\\quad d(6):2\\to 1.\n$$\nSequence exhausted; the two remaining vertices with degree $1$ are $6$ and $8$. Connect them:\n$$\n(6,8).\n$$\n\nCollecting all edges, the reconstructed tree has edges\n$$\n\\{(1,4),\\,(2,4),\\,(3,5),\\,(4,5),\\,(5,6),\\,(6,7),\\,(6,8)\\},\n$$\nwhich matches option A.", "answer": "$$\\boxed{A}$$", "id": "1378435"}]}