{"hands_on_practices": [{"introduction": "Understanding the fundamental relationship between the number of vertices and edges is the first step in analyzing a graph's connectivity. This exercise explores a core principle: that an excess of edges relative to vertices guarantees the presence of cycles. By considering a hypothetical water distribution network, you will apply this rule to determine a necessary structural property of the graph based solely on high-level counts [@problem_id:1495017].", "problem": "A municipal engineering team is analyzing the design of a new water distribution network. The network can be modeled as a simple graph where each junction where pipes meet or end is a vertex, and each continuous pipe segment connecting two junctions is an edge. The preliminary design for a suburb consists of a total of $V$ junctions and $E$ pipes. After a review, the lead engineer notes that the number of pipes is strictly greater than the number of junctions minus one, i.e., $E > V - 1$.\n\nBased solely on this information, which of the following statements about the water network's graph structure must be true?\n\nA. The network is connected, meaning it is possible to get from any junction to any other junction.\n\nB. The network must contain at least one cycle, meaning there is at least one path a water molecule could take that starts and ends at the same junction without immediately reversing direction.\n\nC. The network cannot be disconnected; it must form a single component.\n\nD. Every junction in the network must have at least two pipes connected to it.\n\nE. The network forms a single connected component that contains redundant pathways.", "solution": "Let $G$ be a simple undirected graph with $V$ vertices and $E$ edges, and suppose $EV-1$. Let $c$ denote the number of connected components of $G$, so $c\\geq 1$.\n\nKey fact about acyclic graphs (forests): If $G$ is acyclic, then each component with $v_{i}$ vertices has exactly $v_{i}-1$ edges. Summing over all components,\n$$\nE=\\sum_{i=1}^{c}(v_{i}-1)=\\left(\\sum_{i=1}^{c}v_{i}\\right)-c=V-c\\leq V-1,\n$$\nwith equality if and only if $c=1$ (i.e., $G$ is a tree).\n\nTaking the contrapositive, if $EV-1$ then $G$ cannot be acyclic. Therefore $G$ must contain at least one cycle. This makes statement B necessarily true.\n\nWe now test the other statements and show they are not forced by $EV-1$.\n\nConnectedness (A, C, E): The inequality $EV-1$ does not imply connectedness. For instance, let $m\\geq 4$ and take one component to be $K_{m}$ (which has $\\binom{m}{2}$ edges) and add one isolated vertex. Then\n$$\nV=m+1,\\quad E=\\binom{m}{2}=\\frac{m(m-1)}{2}m=V-1,\n$$\nbut the graph is disconnected. Hence A, C, and E are not guaranteed.\n\nMinimum degree condition (D): The inequality $EV-1$ does not force every vertex to have degree at least $2$. For example, start with the star $K_{1,r}$ for $r\\geq 3$, which has $V=r+1$ and $E=r=V-1$. Add one extra edge between two distinct leaves. The new graph has\n$$\nE'=E+1=VV-1,\n$$\nbut the leaves not used in the added edge still have degree $1$. Thus D is not guaranteed.\n\nTherefore, the only statement that must be true is B.", "answer": "$$\\boxed{B}$$", "id": "1495017"}, {"introduction": "Beyond static counting, we can use algorithms to actively probe a graph's structure. This practice demonstrates how a Breadth-First Search (BFS) traversal, a fundamental algorithm for exploring graphs, can be used to definitively detect cycles in a connected network. Mastering this technique is crucial for tasks like identifying redundant pathways in computer networks or other connected systems [@problem_id:1354171].", "problem": "A network engineering team at a startup, \"CloudConnect\", is implementing a new routing protocol for their data centers. The network of servers is modeled as a connected, undirected graph where servers are vertices and direct data links are edges. A critical component of the protocol is a routine that checks for redundant pathways, which manifest as cycles in the graph. To perform this check, the protocol initiates a Breadth-First Search (BFS) from an arbitrary source server.\n\nThe BFS algorithm systematically explores the graph layer by layer. It uses a queue to manage the servers to visit, a `visited` flag for each server to track discovery, and a `parent` pointer for each server to reconstruct the discovery path (i.e., `parent[v]` is the server `u` that first discovered `v`).\n\nYour task is to identify the precise condition that, when encountered during the execution of this BFS traversal, unambiguously indicates that the network graph contains at least one cycle.\n\nAssume the BFS is running on a connected, undirected graph. Let `u` be the server currently being processed (i.e., just removed from the front of the queue), and let `v` be a neighbor of `u` according to the graph's adjacency list.\n\nWhich of the following events is a necessary and sufficient condition to detect a cycle?\n\nA. When processing server `u`, the algorithm discovers a neighboring server `v` that has already been marked as `visited`.\n\nB. When processing server `u`, the algorithm discovers a neighboring server `v` that has already been marked as `visited` and is the `parent` of `u` in the BFS tree.\n\nC. After the BFS traversal is complete, the total number of nodes in the `parent` array is not equal to the total number of servers in the graph.\n\nD. When processing server `u`, the algorithm discovers a neighboring server `v` that has already been marked as `visited` and is not the `parent` of `u` in the BFS tree.\n\nE. The BFS queue becomes empty, but the number of visited servers is less than the total number of servers in the graph.", "solution": "We model the network as a connected, undirected graph and run a BFS from some source. For each vertex $w \\neq s$ discovered by BFS, the edge $(\\mathrm{parent}[w], w)$ belongs to the BFS tree $T$. The structure $T$ is a spanning tree of the graph (because the graph is connected and BFS reaches every vertex), hence $T$ has a unique simple path between any two vertices in it.\n\nSufficiency of D: Suppose that while processing a vertex $u$, we inspect an adjacent vertex $v$ such that $v$ is already marked $\\mathrm{visited}$ and $v \\neq \\mathrm{parent}[u]$. Consider the unique path in the BFS tree $T$ from $u$ to $v$, denoted $P_{T}(u,v)$. Because $T$ is a tree, $P_{T}(u,v)$ is simple and unique. Adding the non-tree edge $(u,v)$ to $P_{T}(u,v)$ yields a simple cycle:\n$$\n\\text{cycle} = P_{T}(u,v) \\cup \\{(u,v)\\}.\n$$\nTherefore, encountering a $\\mathrm{visited}$ neighbor $v$ that is not $\\mathrm{parent}[u]$ guarantees that the graph contains a cycle.\n\nNecessity of D: Suppose the graph contains a cycle. Let $T$ be the BFS tree defined by the $\\mathrm{parent}$ pointers. Because the graph has a cycle, there exists at least one original edge $e = (a,b)$ that is not in $T$ (no tree on the same vertex set can contain all cycle edges). Since $T$ spans all vertices, there is a unique path in $T$ between $a$ and $b$. During BFS, let $x$ be the endpoint of $e$ that is processed later, and let $y$ be the other endpoint. When $x$ is processed, $y$ is already marked $\\mathrm{visited}$, and because $e \\notin T$, we have $\\mathrm{parent}[x] \\neq y$. When examining edge $(x,y)$ from $x$â€™s adjacency list, the algorithm finds a neighbor $y$ that is $\\mathrm{visited}$ and not the $\\mathrm{parent}$ of $x$. Hence the event in D must occur if the graph has a cycle.\n\nTherefore, D is a necessary and sufficient condition.\n\nWhy the other options fail:\n- A is not sufficient: in any connected acyclic graph (a tree), when processing a vertex $u$, the neighbor $v = \\mathrm{parent}[u]$ is already $\\mathrm{visited}$, yet there is no cycle.\n- B is not sufficient and is uninformative: encountering the already $\\mathrm{visited}$ parent happens systematically for every non-root vertex in any BFS tree, regardless of cycles.\n- C is irrelevant: the size of the $\\mathrm{parent}$ array is a fixed implementation detail; in a connected graph, BFS visits all vertices and fills $\\mathrm{parent}[w]$ for all $w \\neq s$ whether or not cycles exist.\n- E contradicts connectedness: in a connected graph BFS visits all vertices, so the queue becomes empty only after visiting the entire vertex set; this condition cannot hold and says nothing about cycles.\n\nThus the precise necessary and sufficient condition is option D.", "answer": "$$\\boxed{D}$$", "id": "1354171"}, {"introduction": "This final exercise challenges you to synthesize your understanding of connectivity, vertex degrees, and graph modification. You will analyze a specifically constructed graph and predict how its connectivity changes when certain vertices are removed. This problem models real-world scenarios where network components might fail, and we need to understand the impact on the overall structure [@problem_id:1359363].", "problem": "Consider an undirected graph $G$ constructed according to the following procedure. First, start with $m$ disjoint copies of the complete graph on $n$ vertices, $K_n$. Let these copies be denoted by $C_1, C_2, \\dots, C_m$. Next, introduce a single new vertex, $v_c$, which we will call the central vertex. For each copy $C_i$, where $i$ ranges from $1$ to $m$, select exactly one vertex from that copy, call it $l_i$, and add an edge connecting $l_i$ to the central vertex $v_c$. This completes the construction of the graph $G$.\n\nFor this problem, let the parameters be $m=12$ and $n=9$.\n\nA new graph, $G'$, is formed from $G$ by simultaneously removing all vertices that have a degree of exactly 9, along with all edges incident to those vertices.\n\nCalculate the number of connected components in the resulting graph $G'$.", "solution": "We begin by characterizing the degrees of the vertices in the graph $G$ as constructed. Each copy $C_{i}$ is a $K_{n}$, so every vertex in $C_{i}$ has degree $n-1$ within $C_{i}$. In each $C_{i}$, exactly one vertex $l_{i}$ is additionally connected to the central vertex $v_{c}$, so:\n- For any leader $l_{i}$, its degree in $G$ is\n$$\n\\deg(l_{i})=(n-1)+1=n.\n$$\n- For any non-leader vertex in $C_{i}$, its degree in $G$ is\n$$\n\\deg=\\;n-1.\n$$\n- The central vertex $v_{c}$ is adjacent to exactly one vertex in each of the $m$ copies, hence\n$$\n\\deg(v_{c})=m.\n$$\n\nWith the given parameters $m=12$ and $n=9$, these become:\n$$\n\\deg(l_{i})=9,\\quad \\deg(\\text{non-leader})=8,\\quad \\deg(v_{c})=12.\n$$\n\nThe graph $G'$ is obtained by simultaneously removing all vertices of degree exactly $9$ from $G$, along with all edges incident to them. Therefore, precisely the $m$ leader vertices $l_{1},\\dots,l_{m}$ are removed.\n\nConsider the effect on each $C_{i}$. Removing $l_{i}$ from $K_{n}$ leaves the induced subgraph on the remaining $n-1$ vertices, which is $K_{n-1}$. Thus, after removal, each $C_{i}$ becomes $K_{n-1}$. With $n=9$, each copy becomes $K_{8}$, which is connected.\n\nThe central vertex $v_{c}$ loses all its incident edges because they were all incident to the removed leaders. Hence $v_{c}$ becomes an isolated vertex, which forms its own connected component.\n\nTherefore, the total number of connected components in $G'$ is the sum of:\n- $m$ connected components from the $m$ copies that became $K_{n-1}$,\n- $1$ additional component from the isolated central vertex.\n\nHence the total number of connected components is\n$$\nm+1.\n$$\nSubstituting $m=12$ gives\n$$\n12+1=13.\n$$", "answer": "$$\\boxed{13}$$", "id": "1359363"}]}