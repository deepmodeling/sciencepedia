{"hands_on_practices": [{"introduction": "A fundamental rule for any valid flow is the conservation property. For any point in the network that is not the start (source) or end (sink), the total amount of \"stuff\" flowing in must precisely equal the total amount flowing out. This exercise [@problem_id:1387800] provides a practical check on this principle, asking you to audit a proposed flow distribution and identify where this crucial rule is broken.", "problem": "In a small-scale data center, a network is designed to route data packets from a source server $s$ to a sink server $t$. The network consists of a set of vertices $V = \\{s, t, A, B, C, D\\}$ and a set of directed edges representing data pathways. An engineer has proposed a flow distribution, represented by a function $f(u, v)$ which denotes the number of data packets per second flowing from vertex $u$ to vertex $v$.\n\nThe proposed flow values are as follows:\n- $f(s, A) = 10$\n- $f(s, B) = 12$\n- $f(A, C) = 6$\n- $f(A, D) = 4$\n- $f(B, C) = 7$\n- $f(B, D) = 4$\n- $f(C, t) = 13$\n- $f(D, t) = 8$\n\nFor a flow to be valid, it must satisfy the flow conservation property at every non-terminal vertex (i.e., any vertex other than the source $s$ and the sink $t$). This property states that for any non-terminal vertex $v$, the total flow into $v$ must equal the total flow out of $v$.\n\nWhich of the following non-terminal vertices violates the flow conservation property?\n\nA. Vertex A\n\nB. Vertex B\n\nC. Vertex C\n\nD. Vertex D", "solution": "To solve this problem, we need to check the flow conservation property for each of the non-terminal vertices: $A$, $B$, $C$, and $D$. The flow conservation property for a vertex $v$ states that the sum of flows on all incoming edges must equal the sum of flows on all outgoing edges. Let's denote the total incoming flow to a vertex $v$ as $Flow_{in}(v)$ and the total outgoing flow as $Flow_{out}(v)$.\n\n**Check Vertex A:**\nThe edges providing flow into vertex $A$ come from the source $s$. The only incoming edge is $(s, A)$.\n$Flow_{in}(A) = f(s, A) = 10$\n\nThe edges carrying flow out of vertex $A$ go to vertices $C$ and $D$. The outgoing edges are $(A, C)$ and $(A, D)$.\n$Flow_{out}(A) = f(A, C) + f(A, D) = 6 + 4 = 10$\n\nSince $Flow_{in}(A) = 10$ and $Flow_{out}(A) = 10$, the flow conservation property is satisfied for vertex $A$.\n\n**Check Vertex B:**\nThe edges providing flow into vertex $B$ come from the source $s$. The only incoming edge is $(s, B)$.\n$Flow_{in}(B) = f(s, B) = 12$\n\nThe edges carrying flow out of vertex $B$ go to vertices $C$ and $D$. The outgoing edges are $(B, C)$ and $(B, D)$.\n$Flow_{out}(B) = f(B, C) + f(B, D) = 7 + 4 = 11$\n\nSince $Flow_{in}(B) = 12$ and $Flow_{out}(B) = 11$, the total incoming flow does not equal the total outgoing flow ($12 \\neq 11$). Therefore, vertex $B$ violates the flow conservation property.\n\n**Check Vertex C:**\nThe edges providing flow into vertex $C$ come from vertices $A$ and $B$. The incoming edges are $(A, C)$ and $(B, C)$.\n$Flow_{in}(C) = f(A, C) + f(B, C) = 6 + 7 = 13$\n\nThe edges carrying flow out of vertex $C$ go to the sink $t$. The only outgoing edge is $(C, t)$.\n$Flow_{out}(C) = f(C, t) = 13$\n\nSince $Flow_{in}(C) = 13$ and $Flow_{out}(C) = 13$, the flow conservation property is satisfied for vertex $C$.\n\n**Check Vertex D:**\nThe edges providing flow into vertex $D$ come from vertices $A$ and $B$. The incoming edges are $(A, D)$ and $(B, D)$.\n$Flow_{in}(D) = f(A, D) + f(B, D) = 4 + 4 = 8$\n\nThe edges carrying flow out of vertex $D$ go to the sink $t$. The only outgoing edge is $(D, t)$.\n$Flow_{out}(D) = f(D, t) = 8$\n\nSince $Flow_{in}(D) = 8$ and $Flow_{out}(D) = 8$, the flow conservation property is satisfied for vertex $D$.\n\nBased on these calculations, the only non-terminal vertex that violates the flow conservation property is vertex $B$.", "answer": "$$\\boxed{B}$$", "id": "1387800"}, {"introduction": "Once we establish that a flow is valid, we need a way to quantify its overall throughput. The \"value of the flow\" is a key metric, defined as the net amount of flow leaving the source. This practice [@problem_id:1387817] will guide you through calculating this value, a foundational skill for assessing network efficiency.", "problem": "A corporate communications network is modeled as a directed graph where nodes represent routing centers and edges represent dedicated communication links. The network has a set of nodes $V = \\{S, A, B, C, D, T\\}$, where $S$ is the central server (the source) and $T$ is the external gateway (the sink).\n\nA particular traffic pattern is described by a flow function $f(u, v)$, which gives the data rate from node $u$ to node $v$. For this traffic pattern, all links with zero flow are omitted from the description. The non-zero flows, measured in Gigabits per second (Gbps), are given as follows:\n\n-   The flow from $S$ to $A$ is $15$ Gbps.\n-   The flow from $S$ to $B$ is $22$ Gbps.\n-   The flow from $A$ to $S$ is $1$ Gbps.\n-   The flow from $A$ to $C$ is $14$ Gbps.\n-   The flow from $B$ to $D$ is $22$ Gbps.\n-   The flow from $C$ to $T$ is $22$ Gbps.\n-   The flow from $D$ to $C$ is $8$ Gbps.\n-   The flow from $D$ to $T$ is $14$ Gbps.\n\nYou are given that this represents a valid flow, meaning that for every node except the source $S$ and the sink $T$, the total flow into the node equals the total flow out of it.\n\nCalculate the net flow rate out of the source vertex $S$. Express your answer in Gbps.", "solution": "The net flow (value of the flow) out of the source $S$ is defined by\n$$\n|f|=\\sum_{v\\in V} f(S,v)-\\sum_{v\\in V} f(v,S).\n$$\nFrom the given nonzero flows, the only flows leaving $S$ are $f(S,A)=15$ and $f(S,B)=22$, and the only flow entering $S$ is $f(A,S)=1$. Therefore,\n$$\n|f|=\\big(f(S,A)+f(S,B)\\big)-f(A,S)=(15+22)-1=36.\n$$\nAs a consistency check using the sink $T$, by flow conservation the same value equals the net inflow to $T$:\n$$\n|f|=\\sum_{u\\in V} f(u,T)-\\sum_{u\\in V} f(T,u)=\\big(f(C,T)+f(D,T)\\big)-0=(22+14)-0=36,\n$$\nwhich matches. Hence, the net flow rate out of $S$ is $36$ Gbps.", "answer": "$$\\boxed{36}$$", "id": "1387817"}, {"introduction": "The real power of network flow theory lies in optimizationâ€”finding ways to send the maximum possible flow from source to sink. The Ford-Fulkerson algorithm provides a systematic way to achieve this by iteratively finding paths with spare capacity and increasing the flow along them. In this hands-on exercise [@problem_id:1387823], you will perform one full iteration of this algorithm, from finding an augmenting path to calculating the new, improved total flow.", "problem": "A logistics company manages a distribution network represented by a directed graph. The nodes are a source depot ($S$), a destination city ($T$), and four intermediate transfer hubs ($U, V, W, X$). The directed links between these nodes represent one-way roads, and each has a maximum capacity measured in cargo units per hour.\n\nThe network's structure and capacities, denoted by $c(i, j)$ for the link from node $i$ to node $j$, are as follows:\n- $c(S, U) = 10$\n- $c(S, V) = 8$\n- $c(U, V) = 4$\n- $c(U, W) = 7$\n- $c(V, W) = 3$\n- $c(V, X) = 6$\n- $c(W, T) = 9$\n- $c(X, T) = 5$\nAny link not listed has a capacity of zero.\n\nA traffic analysis reveals the current flow, $f(i, j)$, on some of the links:\n- $f(S, U) = 6$\n- $f(U, W) = 6$\n- $f(W, T) = 6$\n- $f(S, V) = 4$\n- $f(V, X) = 4$\n- $f(X, T) = 4$\nThe flow on all other links is zero. The current total flow from the source $S$ to the sink $T$ is 10 cargo units per hour.\n\nTo increase the throughput, you must perform a single iteration of the Ford-Fulkerson algorithm. Your task is to find an augmenting path from $S$ to $T$ in the residual graph. To ensure a unique path, you must use a Breadth-First Search (BFS) that explores the neighbors of any given node in alphabetical order. Based on this specific augmenting path, what is the new total flow value from $S$ to $T$?\n\nExpress your answer as a single integer, representing the total flow in cargo units per hour.", "solution": "We form the residual graph for the current flow. For each directed link with capacity $c(i,j)$ and current flow $f(i,j)$, the forward residual capacity is $r(i,j)=c(i,j)-f(i,j)$, and the reverse residual capacity is $r(j,i)=f(i,j)$. Using the given data:\n- On $S \\to U$: $r(S,U)=10-6=4$ and $r(U,S)=6$.\n- On $S \\to V$: $r(S,V)=8-4=4$ and $r(V,S)=4$.\n- On $U \\to V$: $r(U,V)=4-0=4$ and $r(V,U)=0$.\n- On $U \\to W$: $r(U,W)=7-6=1$ and $r(W,U)=6$.\n- On $V \\to W$: $r(V,W)=3-0=3$ and $r(W,V)=0$.\n- On $V \\to X$: $r(V,X)=6-4=2$ and $r(X,V)=4$.\n- On $W \\to T$: $r(W,T)=9-6=3$ and $r(T,W)=6$.\n- On $X \\to T$: $r(X,T)=5-4=1$ and $r(T,X)=4$.\n\nWe run a single BFS from $S$ in the residual graph, exploring neighbors of each node in alphabetical order. Starting at $S$, its neighbors with positive residuals are $U$ and $V$, enqueued as $U$ then $V$. Processing $U$ next, and exploring its neighbors in alphabetical order, we encounter $W$ via $U \\to W$ since $r(U,W)=1>0$, so we enqueue $W$. Processing $V$ next, we enqueue $X$ via $V \\to X$ since $r(V,X)=2>0$. Processing $W$ next, we discover $T$ via $W \\to T$ since $r(W,T)=3>0$. Thus the BFS finds the augmenting path $S \\to U \\to W \\to T$.\n\nThe bottleneck residual capacity on this path is the minimum of the residual capacities along its edges:\n$$\\Delta=\\min\\{r(S,U),\\,r(U,W),\\,r(W,T)\\}=\\min\\{4,\\,1,\\,3\\}=1.$$\nAugmenting by $\\Delta$ increases the total flow by $1$, so the new total flow value is\n$$|f'|=|f|+\\Delta=10+1=11.$$", "answer": "$$\\boxed{11}$$", "id": "1387823"}]}