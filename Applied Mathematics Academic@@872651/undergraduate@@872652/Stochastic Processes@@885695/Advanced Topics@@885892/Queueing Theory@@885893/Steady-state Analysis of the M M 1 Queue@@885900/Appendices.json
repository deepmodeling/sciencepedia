{"hands_on_practices": [{"introduction": "Understanding the average time a customer spends in a system is a cornerstone of queueing analysis. This first practice problem [@problem_id:1334433] walks you through a classic scenario, a coffee shop, to calculate this fundamental metric, the average sojourn time ($W$). By applying the core principles of the M/M/1 model, you will see how to use arrival rates ($\\lambda$) and service rates ($\\mu$) to predict the average total customer experience, from arrival to departure.", "problem": "A popular downtown coffee shop operates with a single barista who takes orders and prepares the drinks. On a typical weekday morning, customers arrive following a Poisson process at an average rate of 45 customers per hour. The time it takes for the barista to serve a single customer, from taking the order to handing over the drink, is found to be exponentially distributed with a mean of 70 seconds. Assume that the system is operating in a steady state and that there is enough waiting space for all arriving customers.\n\nCalculate the average total time a customer spends in the coffee shop, from the moment they arrive until the moment they receive their drink and depart. Express your answer in minutes, rounded to three significant figures.", "solution": "Model the system as an M/M/1 queue with arrival rate $\\lambda$ and service rate $\\mu$ under steady state. For an M/M/1 queue, the average total time in system (waiting plus service) is\n$$\nW=\\frac{1}{\\mu-\\lambda},\n$$\nprovided $\\lambda\\mu$.\n\nThe arrival rate is $\\lambda=45$ customers per hour. The service time is exponentially distributed with mean $70$ seconds, so the service rate in per hour is\n$$\n\\mu=\\frac{1}{70\\ \\text{s}}\\times 3600\\ \\text{s/h}=\\frac{3600}{70}=\\frac{360}{7}\\ \\text{per hour}.\n$$\nCheck stability:\n$$\n\\rho=\\frac{\\lambda}{\\mu}=\\frac{45}{360/7}=\\frac{315}{360}=0.8751,\n$$\nso steady state holds.\n\nCompute $W$:\n$$\n\\mu-\\lambda=\\frac{360}{7}-45=\\frac{360-315}{7}=\\frac{45}{7}\\ \\text{per hour},\n$$\n$$\nW=\\frac{1}{\\mu-\\lambda}=\\frac{1}{45/7}=\\frac{7}{45}\\ \\text{hours}.\n$$\nConvert to minutes:\n$$\nW=\\frac{7}{45}\\times 60=\\frac{420}{45}=\\frac{28}{3}\\ \\text{minutes}\\approx 9.333\\ldots\\ \\text{minutes}.\n$$\nRounded to three significant figures, this is $9.33$ minutes.", "answer": "$$\\boxed{9.33}$$", "id": "1334433"}, {"introduction": "Beyond simply analyzing an existing system, queueing theory is a powerful tool for designing new ones or optimizing current operations. This exercise [@problem_id:1334404] shifts the focus from calculation to design, challenging you to determine the minimum service capacity needed to meet a specific quality-of-service guarantee. You will work backwards from a desired average waiting time in the queue ($W_q$) to find the required server speed, a common task in capacity planning and resource management.", "problem": "A small startup operates a single, high-performance computing server to process data analysis jobs submitted by its clients. The jobs arrive at the server's processing queue according to a Poisson process at an average rate of 144 jobs per hour. The time required to process a single job is known to follow an exponential distribution. The company wants to guarantee a quality of service by ensuring that the average time a job has to wait in the queue before its processing begins does not exceed 45 seconds.\n\nTo achieve this, the company needs to configure the server's processing capacity. Assuming the server operates continuously and processes jobs one at a time, what is the minimum service rate, in jobs per minute, that the server must maintain?\n\nExpress your answer in jobs per minute, rounded to three significant figures.", "solution": "The physical scenario described can be modeled as an M/M/1 queueing system. The 'M's stand for Markovian (or memoryless), indicating that both the inter-arrival times and the service times are exponentially distributed. The '1' signifies that there is a single server.\n\nFirst, we need to establish consistent units for the rates and times. The problem gives the arrival rate in jobs per hour and the maximum waiting time in seconds, but asks for the final service rate in jobs per minute. Let's convert everything to minutes.\n\nThe arrival rate, denoted by $\\lambda$, is given as 144 jobs per hour.\n$$ \\lambda = \\frac{144 \\text{ jobs}}{1 \\text{ hour}} \\times \\frac{1 \\text{ hour}}{60 \\text{ minutes}} = 2.4 \\text{ jobs/minute} $$\n\nThe maximum allowed average waiting time in the queue, which we will call $W_{q, \\text{max}}$, is 45 seconds.\n$$ W_{q, \\text{max}} = 45 \\text{ seconds} \\times \\frac{1 \\text{ minute}}{60 \\text{ seconds}} = 0.75 \\text{ minutes} $$\n\nLet $\\mu$ be the service rate in jobs per minute, which is the quantity we need to find. For a steady-state M/M/1 queue, the average waiting time in the queue, $W_q$, is given by the formula:\n$$ W_q = \\frac{\\lambda}{\\mu(\\mu - \\lambda)} $$\nThis formula is valid only for a stable system, which requires the service rate to be greater than the arrival rate, i.e., $\\mu  \\lambda$.\n\nWe are given the condition that the average waiting time must not exceed $W_{q, \\text{max}}$. This translates to the inequality:\n$$ W_q \\le W_{q, \\text{max}} $$\nSubstituting the formula for $W_q$:\n$$ \\frac{\\lambda}{\\mu(\\mu - \\lambda)} \\le W_{q, \\text{max}} $$\n\nNow, substitute the numerical values for $\\lambda$ and $W_{q, \\text{max}}$:\n$$ \\frac{2.4}{\\mu(\\mu - 2.4)} \\le 0.75 $$\n\nTo solve this inequality for $\\mu$, we first consider the stability condition $\\mu  \\lambda = 2.4$. In this case, both $\\mu$ and $(\\mu - 2.4)$ are positive, so their product $\\mu(\\mu - 2.4)$ is also positive. We can multiply both sides of the inequality by this product without changing the direction of the inequality sign:\n$$ 2.4 \\le 0.75 \\mu (\\mu - 2.4) $$\n$$ 2.4 \\le 0.75 \\mu^2 - (0.75)(2.4) \\mu $$\n$$ 2.4 \\le 0.75 \\mu^2 - 1.8 \\mu $$\n\nTo simplify, we can divide the entire inequality by 0.75 (or multiply by 4/3):\n$$ \\frac{2.4}{0.75} \\le \\mu^2 - \\frac{1.8}{0.75} \\mu $$\n$$ 3.2 \\le \\mu^2 - 2.4 \\mu $$\n\nRearranging this into a standard quadratic inequality form:\n$$ \\mu^2 - 2.4 \\mu - 3.2 \\ge 0 $$\n\nTo find when this inequality holds, we first find the roots of the corresponding quadratic equation $\\mu^2 - 2.4 \\mu - 3.2 = 0$ using the quadratic formula, $\\mu = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}$:\n$$ \\mu = \\frac{-(-2.4) \\pm \\sqrt{(-2.4)^2 - 4(1)(-3.2)}}{2(1)} $$\n$$ \\mu = \\frac{2.4 \\pm \\sqrt{5.76 + 12.8}}{2} $$\n$$ \\mu = \\frac{2.4 \\pm \\sqrt{18.56}}{2} $$\n\nNow, we calculate the two roots:\n$$ \\mu_1 = \\frac{2.4 - \\sqrt{18.56}}{2} \\approx \\frac{2.4 - 4.3081}{2} \\approx -0.95405 $$\n$$ \\mu_2 = \\frac{2.4 + \\sqrt{18.56}}{2} \\approx \\frac{2.4 + 4.3081}{2} \\approx 3.35405 $$\n\nThe quadratic function $f(\\mu) = \\mu^2 - 2.4 \\mu - 3.2$ represents a parabola opening upwards. Therefore, the inequality $f(\\mu) \\ge 0$ is satisfied for $\\mu \\le \\mu_1$ or $\\mu \\ge \\mu_2$.\nSo, $\\mu \\le -0.95405$ or $\\mu \\ge 3.35405$.\n\nWe must also satisfy the stability condition for the queue, which is $\\mu  \\lambda = 2.4$.\nCombining the two conditions:\n1.  $(\\mu \\le -0.95405 \\text{ or } \\mu \\ge 3.35405)$\n2.  $\\mu  2.4$\n\nThe only region that satisfies both conditions is $\\mu \\ge 3.35405$.\nThe problem asks for the minimum service rate that meets the requirement. This corresponds to the lower bound of the valid range for $\\mu$.\nTherefore, the minimum required service rate is $\\mu_{\\text{min}} = 3.35405$ jobs/minute.\n\nThe problem asks to round the final answer to three significant figures.\nThe first three significant figures of 3.35405 are 3, 3, and 5. The next digit is 4, which is less than 5, so we round down.\nThe minimum service rate is 3.35 jobs/minute.", "answer": "$$\\boxed{3.35}$$", "id": "1334404"}, {"introduction": "While average performance metrics are useful, they don't capture the full picture of system variability. This practice [@problem_id:1334418] moves beyond averages to explore the system's steady-state probability distribution. By calculating a percentile for the number of jobs in the system, you will learn how to quantify the likelihood of experiencing high congestion, providing a more robust understanding for setting service-level expectations.", "problem": "A university's digital fabrication lab operates a single high-demand 3D printer for student projects. The lab is open 24/7, and the system can be considered to be in steady-state operation. Requests for print jobs arrive according to a Poisson process with a mean rate of $\\lambda = 0.5$ jobs per hour. The time required to complete any given print job is well-approximated by an exponential distribution, and the printer can complete jobs at an average rate of $\\mu = 0.8$ jobs per hour.\n\nThe lab manager wants to set a service-level expectation for students. To do this, they need to determine the 95th percentile for the total number of print jobs in the system. This number includes the job currently being printed as well as any jobs waiting in the queue. Find this value. Note that the number of jobs must be an integer.", "solution": "This problem can be modeled as an M/M/1 queueing system. The 'M's signify that both the inter-arrival times and the service times are exponentially distributed (which is equivalent to Poisson arrivals). The '1' signifies a single server, which in this case is the 3D printer.\n\nThe given parameters are:\n- Arrival rate, $\\lambda = 0.5$ jobs per hour.\n- Service rate, $\\mu = 0.8$ jobs per hour.\n\nFirst, we calculate the traffic intensity or utilization factor, $\\rho$, of the system. This value represents the proportion of time the server is busy.\n$$\n\\rho = \\frac{\\lambda}{\\mu} = \\frac{0.5}{0.8} = \\frac{5}{8} = 0.625\n$$\nSince $\\rho  1$, the queue is stable and will reach a steady state, as stated in the problem.\n\nIn the steady state of an M/M/1 queue, the probability of having exactly $n$ jobs in the system (including the one in service) is given by the geometric distribution:\n$$\nP(N=n) = (1-\\rho)\\rho^n, \\quad \\text{for } n = 0, 1, 2, \\dots\n$$\nWe are asked to find the 95th percentile for the number of jobs in the system. Let this value be $k$. By definition, the 95th percentile is the smallest integer $k$ such that the probability of having $k$ or fewer jobs in the system is at least 0.95. Mathematically, we need to find the smallest integer $k$ satisfying:\n$$\nP(N \\le k) \\ge 0.95\n$$\nThe cumulative distribution function (CDF), $P(N \\le k)$, is the sum of the probabilities from $n=0$ to $n=k$:\n$$\nP(N \\le k) = \\sum_{n=0}^{k} P(N=n) = \\sum_{n=0}^{k} (1-\\rho)\\rho^n\n$$\nThis is a finite geometric series. We can factor out the constant term $(1-\\rho)$ and use the formula for the sum of a geometric series, $\\sum_{i=0}^{m} r^i = \\frac{1-r^{m+1}}{1-r}$:\n$$\nP(N \\le k) = (1-\\rho) \\sum_{n=0}^{k} \\rho^n = (1-\\rho) \\left( \\frac{1-\\rho^{k+1}}{1-\\rho} \\right) = 1 - \\rho^{k+1}\n$$\nNow, we can use this simplified expression for the CDF to solve the inequality for $k$:\n$$\n1 - \\rho^{k+1} \\ge 0.95\n$$\nRearranging the inequality:\n$$\n0.05 \\ge \\rho^{k+1}\n$$\nor\n$$\n\\rho^{k+1} \\le 0.05\n$$\nTo solve for $k$, we take the natural logarithm of both sides.\n$$\n\\ln(\\rho^{k+1}) \\le \\ln(0.05)\n$$\n$$\n(k+1)\\ln(\\rho) \\le \\ln(0.05)\n$$\nNow we substitute the value of $\\rho = 0.625$. The natural logarithm of a number between 0 and 1 is negative. Specifically, $\\ln(0.625)  0$. Therefore, when we divide by $\\ln(\\rho)$, we must reverse the inequality sign:\n$$\nk+1 \\ge \\frac{\\ln(0.05)}{\\ln(0.625)}\n$$\nNow we compute the numerical value:\n$$\nk+1 \\ge \\frac{-2.99573227}{-0.47000362} \\approx 6.37384\n$$\nSubtracting 1 from both sides:\n$$\nk \\ge 6.37384 - 1\n$$\n$$\nk \\ge 5.37384\n$$\nSince the number of jobs, $k$, must be an integer, the smallest integer value of $k$ that satisfies this inequality is $6$.\n\nTherefore, the 95th percentile for the total number of jobs in the system is 6. This means that 95% of the time, an arriving student will find 6 or fewer jobs in total (being printed or waiting).", "answer": "$$\\boxed{6}$$", "id": "1334418"}]}