{"hands_on_practices": [{"introduction": "The first step in analyzing any continuous-time Markov chain is to translate a description of the system's behavior into a precise mathematical object. This exercise [@problem_id:1352656] provides practice in this essential skill, guiding you to construct the generator matrix, $Q$, from a narrative about state transitions and their associated rates. Mastering this translation is the foundation for all further analysis, from short-term predictions to long-term behavior.", "problem": "A simplified model for the lifecycle of a computer virus on an infected machine is described as a continuous-time Markov chain. The virus can be in one of three states: Dormant (State 1), Replicating (State 2), or Detected (State 3).\n\nThe transitions between states are governed by the following rates:\n- A dormant virus becomes active and starts replicating at a constant rate of $\\lambda$ per day.\n- A replicating virus may become dormant again to evade simple detection mechanisms at a constant rate of $\\mu$ per day.\n- An active antivirus scanner finds and flags a replicating virus at a constant rate of $\\sigma_R$ per day.\n- The scanner can also find a dormant virus, but at a lower constant rate of $\\sigma_D$ per day.\n- Once a virus is in the 'Detected' state, it is isolated and cannot change its state.\n\nYour task is to construct the generator matrix, denoted by $Q$, for this continuous-time Markov chain. The states should be ordered as (1: Dormant, 2: Replicating, 3: Detected). Present the matrix $Q$ as your final answer.", "solution": "We model the virus lifecycle as a continuous-time Markov chain with states ordered as follows: 1 for Dormant, 2 for Replicating, and 3 for Detected. For a generator matrix $Q=\\{q_{ij}\\}$ of a continuous-time Markov chain, the off-diagonal entries $q_{ij}$ for $i\\neq j$ are the transition rates from state $i$ to state $j$, and the diagonal entries satisfy $q_{ii}=-\\sum_{j\\neq i}q_{ij}$ so that each row sums to zero.\n\nFrom the problem statement, the nonzero transition rates are:\n- From Dormant (1) to Replicating (2): rate $\\lambda$, so $q_{12}=\\lambda$.\n- From Dormant (1) to Detected (3): rate $\\sigma_{D}$, so $q_{13}=\\sigma_{D}$.\n- From Replicating (2) to Dormant (1): rate $\\mu$, so $q_{21}=\\mu$.\n- From Replicating (2) to Detected (3): rate $\\sigma_{R}$, so $q_{23}=\\sigma_{R}$.\n- Detected (3) is absorbing, so there are no outgoing transitions from state 3, implying $q_{31}=0$ and $q_{32}=0$.\n\nUsing $q_{ii}=-\\sum_{j\\neq i}q_{ij}$ for each state:\n- For state 1: $q_{11}=-(\\lambda+\\sigma_{D})$.\n- For state 2: $q_{22}=-(\\mu+\\sigma_{R})$.\n- For state 3: $q_{33}=0$.\n\nTherefore, the generator matrix $Q$ in the specified state order is\n$$\nQ=\\begin{pmatrix}\n-(\\lambda+\\sigma_{D}) & \\lambda & \\sigma_{D} \\\\\n\\mu & -(\\mu+\\sigma_{R}) & \\sigma_{R} \\\\\n0 & 0 & 0\n\\end{pmatrix}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix}\n-(\\lambda+\\sigma_{D}) & \\lambda & \\sigma_{D} \\\\\n\\mu & -(\\mu+\\sigma_{R}) & \\sigma_{R} \\\\\n0 & 0 & 0\n\\end{pmatrix}}$$", "id": "1352656"}, {"introduction": "While the generator matrix defines the rules of motion, simulation brings a Markov chain to life, revealing how it evolves stochastically over time. This practice [@problem_id:1292573] walks you through the core algorithm for generating a sample path, using random numbers to determine both the waiting time in a state and the destination of the next jump. This hands-on process builds a deep intuition for how the continuous-time dynamics unfold one step at a time.", "problem": "A small-scale, private cloud computing node is being monitored. Its state can be modeled as a continuous-time Markov chain. The system can be in one of four states: State 1 (`Idle`), State 2 (`Processing`), State 3 (`Overloaded`), or State 4 (`Failed`).\n\nThe dynamics of the system are governed by the following transition rates:\n- A new job arrives with a rate $\\lambda$, causing a transition from `Idle` to `Processing`. If a job arrives while the system is `Processing`, it transitions to `Overloaded`.\n- A running job is completed with a rate $\\mu$. This leads to a transition from `Processing` to `Idle` (if no jobs are in the queue) or from `Overloaded` to `Processing` (as the queued job begins).\n- The node can suffer a hardware failure from any operational state. The failure rate depends on the load: $\\delta_1$ from `Idle`, $\\delta_2$ from `Processing`, and $\\delta_3$ from `Overloaded`. All failures lead to the `Failed` state.\n- A `Failed` node can be repaired, transitioning back to the `Idle` state with a rate $\\rho$.\n\nTo simulate a sample path of this system, one uses pairs of random numbers, $(u_t, u_s)$, drawn from a uniform distribution on $(0,1)$. For a system in state $i$ with total exit rate $q_i$, the time to the next jump is calculated as $\\Delta t = -(1/q_i) \\ln(u_t)$. The next state is then determined based on the value of $u_s$.\n\nSuppose the system starts in the `Idle` state at time $t=0$. You are given the following rate parameters:\n- Job arrival rate, $\\lambda = 2.0 \\text{ s}^{-1}$\n- Job completion rate, $\\mu = 3.0 \\text{ s}^{-1}$\n- Failure rate from `Idle`, $\\delta_1 = 0.1 \\text{ s}^{-1}$\n- Failure rate from `Processing`, $\\delta_2 = 0.2 \\text{ s}^{-1}$\n- Failure rate from `Overloaded`, $\\delta_3 = 0.5 \\text{ s}^{-1}$\n- Repair rate, $\\rho = 0.4 \\text{ s}^{-1}$\n\nYou are also provided with the following pre-ordered sequence of uniform random numbers: $(0.35, 0.80, 0.62, 0.25, 0.18, 0.98)$. The first number is used to determine the time of the first jump, the second to determine the state of the first jump, the third for the time of the second jump, the fourth for the state of the second jump, and so on.\n\nCalculate the time at which the third jump occurs. Express your answer in seconds, rounded to three significant figures.", "solution": "We model the system as a continuous-time Markov chain with the given transition rates. For a state with total exit rate $q_{i}$, the time to the next jump is $\\Delta t=-(1/q_{i})\\ln(u_{t})$, and the next state is chosen using $u_{s}$ with probabilities proportional to the outgoing rates.\n\nFrom `Idle` (state 1): transitions are to `Processing` (state 2) with rate $\\lambda$ and to `Failed` (state 4) with rate $\\delta_{1}$. Thus\n$$\nq_{1}=\\lambda+\\delta_{1}=2.0+0.1=2.1,\n\\qquad\np_{1\\to 2}=\\frac{\\lambda}{q_{1}}=\\frac{2.0}{2.1}=\\frac{20}{21},\n\\qquad\np_{1\\to 4}=\\frac{\\delta_{1}}{q_{1}}=\\frac{0.1}{2.1}=\\frac{1}{21}.\n$$\nFirst jump time with $u_{1}=0.35$:\n$$\n\\Delta t_{1}=-\\frac{1}{q_{1}}\\ln(u_{1})=-\\frac{1}{2.1}\\ln(0.35)\\approx \\frac{1.049822124}{2.1}\\approx 0.499915297.\n$$\nState selection with $u_{2}=0.80$ gives $u_{2}\\leq 20/21$, so the next state is `Processing` (state 2). Thus $t_{1}=\\Delta t_{1}\\approx 0.499915297$.\n\nFrom `Processing` (state 2): transitions are to `Idle` (state 1) with rate $\\mu$, to `Overloaded` (state 3) with rate $\\lambda$, and to `Failed` (state 4) with rate $\\delta_{2}$. Thus\n$$\nq_{2}=\\mu+\\lambda+\\delta_{2}=3.0+2.0+0.2=5.2,\n$$\n$$\np_{2\\to 1}=\\frac{\\mu}{q_{2}}=\\frac{3.0}{5.2}=\\frac{15}{26},\\quad\np_{2\\to 3}=\\frac{\\lambda}{q_{2}}=\\frac{2.0}{5.2}=\\frac{5}{13},\\quad\np_{2\\to 4}=\\frac{\\delta_{2}}{q_{2}}=\\frac{0.2}{5.2}=\\frac{1}{26}.\n$$\nSecond jump waiting time with $u_{3}=0.62$:\n$$\n\\Delta t_{2}=-\\frac{1}{q_{2}}\\ln(u_{3})=-\\frac{1}{5.2}\\ln(0.62)\\approx \\frac{0.478035801}{5.2}\\approx 0.091929962.\n$$\nState selection with $u_{4}=0.25$ gives $u_{4}\\leq 15/26$, so the next state is `Idle` (state 1). Thus $t_{2}=t_{1}+\\Delta t_{2}\\approx 0.499915297+0.091929962\\approx 0.591845259$.\n\nBack in `Idle` (state 1), the total exit rate is again $q_{1}=2.1$. The third jump waiting time with $u_{5}=0.18$ is\n$$\n\\Delta t_{3}=-\\frac{1}{q_{1}}\\ln(u_{5})=-\\frac{1}{2.1}\\ln(0.18)\\approx \\frac{1.714798428}{2.1}\\approx 0.816570680.\n$$\nTherefore, the time of the third jump is\n$$\nt_{3}=t_{2}+\\Delta t_{3}\\approx 0.591845259+0.816570680\\approx 1.408415939.\n$$\nRounded to three significant figures, the third jump occurs at $1.41$ seconds.", "answer": "$$\\boxed{1.41}$$", "id": "1292573"}, {"introduction": "After understanding how individual random paths are generated, we can move to making powerful analytical predictions about the system's long-term properties. This problem [@problem_id:1292548] introduces the concept of an absorbing state, which is common in models of system failure or task completion. You will learn to calculate a crucial performance metric—the mean time to absorption—by setting up and solving a system of linear equations derived directly from the generator matrix.", "problem": "A specialized computing unit used in a high-frequency trading system can be modeled as being in one of three states: State 1 (`Active`), State 2 (`Lagging`), and State 3 (`Failed`). The transitions between these states follow the dynamics of a continuous-time Markov chain.\n\n- In the `Active` state, the unit is functioning at full capacity.\n- In the `Lagging` state, the unit's processing speed has dropped, but it is still functional.\n- In the `Failed` state, the unit has ceased to function and requires a manual reset. Once the unit enters the `Failed` state, it remains there indefinitely.\n\nThe transition rates between the states, given in units of events per hour, are as follows:\n- The rate of transition from `Active` to `Lagging` is $\\lambda_{12} = 2.0$.\n- The rate of transition from `Active` to `Failed` is $\\lambda_{13} = 0.1$.\n- The rate of transition from `Lagging` to `Active` is $\\lambda_{21} = 4.0$.\n- The rate of transition from `Lagging` to `Failed` is $\\lambda_{23} = 0.5$.\n\nAll other transition rates between distinct states are zero. If the unit begins in the `Active` state, what is the expected time until it enters the `Failed` state?\n\nExpress your answer in hours, rounded to three significant figures.", "solution": "Model the system as a continuous-time Markov chain with states $1$ (Active), $2$ (Lagging), and $3$ (Failed), where state $3$ is absorbing. The generator entries for transitions among transient states follow $q_{ij}=\\lambda_{ij}$ for $i\\neq j$, and $q_{ii}=-\\sum_{j\\neq i}\\lambda_{ij}$. With the given rates,\n$$\nq_{12}=2.0,\\quad q_{13}=0.1,\\quad q_{21}=4.0,\\quad q_{23}=0.5,\n$$\nso\n$$\nq_{11}=-(2.0+0.1)=-2.1,\\quad q_{22}=-(4.0+0.5)=-4.5,\\quad q_{33}=0.\n$$\nRestricting to the transient states $1$ and $2$, the subgenerator is\n$$\nQ_{T}=\\begin{pmatrix}\n-2.1 & 2.0\\\\\n4.0 & -4.5\n\\end{pmatrix}.\n$$\nLet $t_{i}$ be the expected time to absorption (entering state $3$) starting from state $i$. For a CTMC, the expected absorption times for transient states satisfy\n$$\nQ_{T}\\begin{pmatrix}t_{1}\\\\ t_{2}\\end{pmatrix}=-\\begin{pmatrix}1\\\\ 1\\end{pmatrix}.\n$$\nThus,\n$$\n\\begin{cases}\n-2.1\\,t_{1}+2.0\\,t_{2}=-1,\\\\\n4.0\\,t_{1}-4.5\\,t_{2}=-1.\n\\end{cases}\n$$\nSolve the system. From the first equation,\n$$\n-2.1\\,t_{1}=-1-2.0\\,t_{2}\\quad\\Rightarrow\\quad t_{1}=\\frac{1+2.0\\,t_{2}}{2.1}.\n$$\nSubstitute into the second equation:\n$$\n4.0\\left(\\frac{1+2.0\\,t_{2}}{2.1}\\right)-4.5\\,t_{2}=-1.\n$$\nWrite $2.1=\\frac{21}{10}$ and $4.5=\\frac{9}{2}$ to keep exact arithmetic:\n$$\n\\frac{40}{21}\\left(1+2t_{2}\\right)-\\frac{9}{2}\\,t_{2}=-1\n\\;\\Rightarrow\\;\n\\frac{40}{21}+\\left(\\frac{80}{21}-\\frac{9}{2}\\right)t_{2}=-1.\n$$\nCompute the coefficient of $t_{2}$:\n$$\n\\frac{80}{21}-\\frac{9}{2}=\\frac{160}{42}-\\frac{189}{42}=-\\frac{29}{42},\n$$\nso\n$$\n\\frac{40}{21}-\\frac{29}{42}\\,t_{2}=-1\n\\;\\Rightarrow\\;\n-\\frac{29}{42}\\,t_{2}=-1-\\frac{40}{21}=-\\frac{61}{21}.\n$$\nHence,\n$$\nt_{2}=\\left(-\\frac{61}{21}\\right)\\left(-\\frac{42}{29}\\right)=\\frac{61}{21}\\cdot\\frac{42}{29}=\\frac{122}{29}.\n$$\nBack-substitute to get $t_{1}$:\n$$\nt_{1}=\\frac{1+2t_{2}}{2.1}=\\frac{1+\\frac{244}{29}}{\\frac{21}{10}}\n=\\frac{\\frac{273}{29}}{\\frac{21}{10}}=\\frac{273}{29}\\cdot\\frac{10}{21}\n=\\frac{130}{29}.\n$$\nSince the unit begins in the Active state, the desired expected time is $t_{1}=\\frac{130}{29}\\,\\text{hours}\\approx 4.48275862\\,\\text{hours}$, which rounded to three significant figures is $4.48$ hours.", "answer": "$$\\boxed{4.48}$$", "id": "1292548"}]}