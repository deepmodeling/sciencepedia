{"hands_on_practices": [{"introduction": "To truly understand the Ford-Fulkerson algorithm, there is no substitute for tracing its execution step-by-step. This first exercise guides you through the core mechanics of the algorithm: finding an augmenting path and updating the flow and residual capacities. By working through two iterations on a sample network, you will build a concrete understanding of how the algorithm progressively increases the total flow from source to sink. [@problem_id:1541570]", "problem": "A disaster relief agency is coordinating the distribution of supplies from a Central Depot (`S`) to a Stricken Town (`T`). The supplies are moved through a network of intermediate transfer points (`A`, `B`, `C`, `D`). The road network between these locations can be modeled as a directed graph where each edge represents a one-way route with a maximum capacity, measured in \"units of supplies per hour\".\n\nThe network is defined by the following directed edges and their capacities:\n- From `S` to `A`: capacity 10\n- From `S` to `B`: capacity 8\n- From `A` to `C`: capacity 7\n- From `A` to `D`: capacity 4\n- From `B` to `D`: capacity 6\n- From `C` to `T`: capacity 9\n- From `D` to `C`: capacity 2\n- From `D` to `T`: capacity 12\n\nAll other potential directed edges in the network have a capacity of 0.\n\nYour task is to calculate the total flow from the Central Depot `S` to the Stricken Town `T` after performing exactly two iterations of the Ford-Fulkerson algorithm. The augmenting paths must be found using a depth-first search (DFS) starting from the source `S`. When exploring from any given node, you must consider its neighbors in alphabetical order.\n\nProvide the final answer as a single integer.", "solution": "We apply Ford-Fulkerson with depth-first search starting at $S$, exploring neighbors in alphabetical order at each step, and augment along the first $S$–$T$ path found. Residual capacity on edge $(u,v)$ is denoted $r(u,v)$, initialized to the given capacity $c(u,v)$, with reverse edges initialized to zero. Each augmentation updates residuals by decreasing $r(u,v)$ by the path flow and increasing $r(v,u)$ by the same amount, preserving flow conservation.\n\nIteration 1 (initial residuals $r=c$): From $S$, DFS explores $A$ before $B$. From $A$, it explores $C$ before $D$. From $C$, it goes to $T$. The first augmenting path found is $S \\to A \\to C \\to T$. Its bottleneck is\n$$\n\\Delta f_{1}=\\min\\{c(S,A),c(A,C),c(C,T)\\}=\\min\\{10,7,9\\}=7.\n$$\nUpdate residuals: $r(S,A)=10-7=3$, $r(A,S)=7$; $r(A,C)=7-7=0$, $r(C,A)=7$; $r(C,T)=9-7=2$, $r(T,C)=7$.\n\nIteration 2 (using updated residuals): From $S$, DFS again explores $A$ first since $r(S,A)=3>0$. From $A$, it tries $C$ first but $r(A,C)=0$, so it proceeds to $D$ with $r(A,D)=4>0$. From $D$, it explores $C$ before $T$; $r(D,C)=2>0$. From $C$, it goes to $T$ with $r(C,T)=2>0$. The first augmenting path found is $S \\to A \\to D \\to C \\to T$. Its bottleneck is\n$$\n\\Delta f_{2}=\\min\\{r(S,A),r(A,D),r(D,C),r(C,T)\\}=\\min\\{3,4,2,2\\}=2.\n$$\nUpdate residuals: $r(S,A)=3-2=1$, $r(A,S)=7+2=9$; $r(A,D)=4-2=2$, $r(D,A)=2$; $r(D,C)=2-2=0$, $r(C,D)=2$; $r(C,T)=2-2=0$, $r(T,C)=7+2=9$.\n\nAfter exactly two augmentations, the total flow value from $S$ to $T$ is\n$$\n|f|=\\Delta f_{1}+\\Delta f_{2}=7+2=9.\n$$", "answer": "$$\\boxed{9}$$", "id": "1541570"}, {"introduction": "The Ford-Fulkerson method's correctness does not depend on which augmenting path you choose, but its efficiency certainly does. This exercise demonstrates a classic scenario where making consistently poor choices for augmenting paths leads to a number of iterations dependent on the network's capacities, not just its structure. This crucial insight highlights the importance of intelligent path-finding strategies, such as those used in the Edmonds-Karp algorithm, to guarantee good performance. [@problem_id:1541549]", "problem": "Consider a flow network defined by a set of vertices $V = \\{s, a, b, t\\}$, where $s$ is the source and $t$ is the sink. The network has a set of directed edges with associated integer capacities. Let the capacity of an edge from vertex $u$ to vertex $v$ be denoted by $c(u, v)$. The edges and their capacities are defined as follows:\n- $c(s, a) = C$\n- $c(s, b) = C$\n- $c(a, t) = C$\n- $c(b, t) = C$\n- $c(a, b) = 1$\nAll other edges that are not listed have a capacity of 0. For this problem, let the constant $C = 500$.\n\nYou are to find the maximum flow from $s$ to $t$ using the Ford-Fulkerson algorithm. However, you must follow a specific rule for choosing the augmenting path at each iteration: if multiple augmenting paths exist in the current residual graph, you must always select the path that has the smallest bottleneck capacity. If there is a tie for the smallest bottleneck capacity, you may choose any one of the tied paths.\n\nCalculate the total number of augmentations (i.e., iterations) that the Ford-Fulkerson algorithm will perform to find the maximum flow under this specific path selection strategy.", "solution": "Let $G=(V,E)$ be the directed network with source $s$, sink $t$, capacities $c(u,v)$ as given, and initial flow $f\\equiv 0$. Let $c_{f}(u,v)$ denote the residual capacity under flow $f$. For any $s$–$t$ path $P$ in the current residual graph, its bottleneck is $\\beta(P)=\\min_{(u,v)\\in P}c_{f}(u,v)$. Ford–Fulkerson augments by $\\delta=\\beta(P)$ along $P$, updating residuals by\n$$\nc_{f}^{\\text{new}}(u,v)=c_{f}(u,v)-\\delta\\quad\\text{for forward edges on }P,\\quad\nc_{f}^{\\text{new}}(v,u)=c_{f}(v,u)+\\delta\\quad\\text{for their reverse edges},\n$$\nand the flow value increases by $\\delta$.\n\nInitially, the residual edges are $s\\to a$, $s\\to b$, $a\\to t$, $b\\to t$ with capacity $C$, and $a\\to b$ with capacity $1$. The available $s$–$t$ residual paths include:\n- $P_{1}: s\\to a\\to b\\to t$ with $\\beta(P_{1})=\\min\\{C,1,C\\}=1$,\n- $P_{2}: s\\to a\\to t$ with $\\beta(P_{2})=C$,\n- $P_{3}: s\\to b\\to t$ with $\\beta(P_{3})=C$.\nBy the rule, the algorithm must pick a path with the smallest bottleneck, hence it picks $P_{1}$ and augments $\\delta=1$.\n\nAfter augmenting along $P_{1}$, the residual capacities change to\n$$\nc_{f}(s,a)=C-1,\\quad c_{f}(a,s)=1,\\quad c_{f}(a,b)=0,\\quad c_{f}(b,a)=1,\\quad c_{f}(b,t)=C-1,\\quad c_{f}(t,b)=1,\n$$\nwith $c_{f}(s,b)=C$ and $c_{f}(a,t)=C$ unchanged. Now an $s$–$t$ path with the smallest bottleneck is\n$$\nP_{4}: s\\to b\\to a\\to t\\quad\\text{with}\\quad\\beta(P_{4})=\\min\\{C,1,C\\}=1,\n$$\nso the algorithm augments again by $\\delta=1$ along $P_{4}$.\n\nInductive invariant. After $2m$ augmentations (for some integer $m\\geq 0$), the residual capacities satisfy\n$$\nc_{f}(s,a)=c_{f}(s,b)=c_{f}(a,t)=c_{f}(b,t)=C-m,\\quad c_{f}(a,b)=1,\\quad c_{f}(b,a)=0,\n$$\nand all other residual edges are the corresponding reverse edges with capacities determined by flow conservation. This holds for $m=0$ initially. Given it holds for $m$, the next augmentation must choose $P_{1}: s\\to a\\to b\\to t$, whose bottleneck is\n$$\n\\beta(P_{1})=\\min\\{c_{f}(s,a),c_{f}(a,b),c_{f}(b,t)\\}=\\min\\{C-m,1,C-m\\}=1,\n$$\nprovided $C-m>0$. Augmenting by $1$ yields, after $2m+1$ augmentations,\n$$\nc_{f}(s,a)=C-m-1,\\quad c_{f}(b,t)=C-m-1,\\quad c_{f}(s,b)=C-m,\\quad c_{f}(a,t)=C-m,\\quad c_{f}(a,b)=0,\\quad c_{f}(b,a)=1.\n$$\nThen the smallest-bottleneck path is $P_{4}: s\\to b\\to a\\to t$ with bottleneck\n$$\n\\beta(P_{4})=\\min\\{c_{f}(s,b),c_{f}(b,a),c_{f}(a,t)\\}=\\min\\{C-m,1,C-m\\}=1,\n$$\nagain assuming $C-m>0$. Augmenting by $1$ along $P_{4}$ restores the even-index form with $m$ replaced by $m+1$, proving the invariant.\n\nTermination and count. The alternation between $P_{1}$ and $P_{4}$ continues as long as $C-m>0$. The largest $m$ for which the two augmentations at stage $m$ are possible is $m=C-1$. After performing those two augmentations, we reach $m=C$, at which point\n$$\nc_{f}(s,a)=c_{f}(s,b)=c_{f}(a,t)=c_{f}(b,t)=0,\n$$\nso there is no residual path from $s$ to $t$ and the algorithm terminates. Therefore, the total number of augmentations performed is\n$$\n2C.\n$$\nBy the max-flow min-cut theorem, the maximum flow value is $\\min\\{c(s,a)+c(s,b),\\,c(a,t)+c(b,t)\\}=2C$, and since each augmentation adds exactly $1$ unit of flow (the chosen bottleneck), exactly $2C$ augmentations are necessary and sufficient.\n\nSubstituting $C=500$ gives a total of $2\\cdot 500=1000$ augmentations.", "answer": "$$\\boxed{1000}$$", "id": "1541549"}, {"introduction": "Beyond simply calculating a network's maximum throughput, the principles of max-flow can be used to analyze its structural vulnerabilities. This practice introduces the concept of a 'critical' edge, a link whose capacity directly limits the total possible flow. By leveraging the max-flow min-cut theorem to identify these edges, you will learn to pinpoint the most important bottlenecks in a system, a vital skill for robust network design and analysis. [@problem_id:1541523]", "problem": "In a distributed computing network for a particle physics experiment, data is generated at a source node `S` and must be transmitted to a central storage unit `T`. The network consists of several intermediate processing nodes and high-bandwidth links, each with a maximum data transmission rate (capacity).\n\nAn edge in this flow network is defined as 'critical' if any reduction in its capacity results in a reduction in the value of the maximum flow from the source `S` to the sink `T`.\n\nThe network topology and the capacity of each link (in terabits per second, Tbps) are given as follows:\n- An edge from `S` to `A` with capacity 10.\n- An edge from `S` to `B` with capacity 10.\n- An edge from `A` to `C` with capacity 7.\n- An edge from `B` to `C` with capacity 7.\n- An edge from `C` to `D` with capacity 5.\n- An edge from `D` to `E` with capacity 8.\n- An edge from `D` to `F` with capacity 8.\n- An edge from `E` to `T` with capacity 12.\n- An edge from `F` to `T` with capacity 12.\n\nIdentify all critical edges in this network.\n\nA. (A, C) and (B, C)\n\nB. (C, D)\n\nC. (D, E) and (D, F)\n\nD. (S, A) and (S, B)\n\nE. (C, D), (E, T), and (F, T)", "solution": "We apply the max-flow min-cut theorem: the value of any maximum $S$–$T$ flow equals the minimum capacity of an $S$–$T$ cut. An $S$–$T$ cut is specified by a set $X$ with $S \\in X$ and $T \\notin X$, and its capacity is the sum of capacities of all edges from $X$ to $V \\setminus X$.\n\nList convenient cuts and compute their capacities:\n- $X=\\{S\\}$: crossing edges are $(S,A)$ and $(S,B)$, so\n$$\nc(\\delta^{+}(X))=10+10=20.\n$$\n- $X=\\{S,A\\}$: crossing edges are $(S,B)$ and $(A,C)$, so\n$$\nc(\\delta^{+}(X))=10+7=17.\n$$\n- $X=\\{S,B\\}$: crossing edges are $(S,A)$ and $(B,C)$, so\n$$\nc(\\delta^{+}(X))=10+7=17.\n$$\n- $X=\\{S,A,B\\}$: crossing edges are $(A,C)$ and $(B,C)$, so\n$$\nc(\\delta^{+}(X))=7+7=14.\n$$\n- $X=\\{S,A,B,C\\}$: the only crossing edge is $(C,D)$, so\n$$\nc(\\delta^{+}(X))=5.\n$$\n- $X=\\{S,A,B,C,D\\}$: crossing edges are $(D,E)$ and $(D,F)$, so\n$$\nc(\\delta^{+}(X))=8+8=16.\n$$\n- $X=\\{S,A,B,C,D,E\\}$: crossing edges are $(D,F)$ and $(E,T)$, so\n$$\nc(\\delta^{+}(X))=8+12=20.\n$$\n- $X=\\{S,A,B,C,D,F\\}$: crossing edges are $(D,E)$ and $(F,T)$, so\n$$\nc(\\delta^{+}(X))=8+12=20.\n$$\n- $X=\\{S,A,B,C,D,E,F\\}$: crossing edges are $(E,T)$ and $(F,T)$, so\n$$\nc(\\delta^{+}(X))=12+12=24.\n$$\n\nThe unique minimum cut is $X=\\{S,A,B,C\\}$ with capacity $5$, hence the maximum flow value is\n$$\nv^{*}=5.\n$$\n\nAn edge is critical if any reduction in its capacity reduces $v^{*}$. By the max-flow min-cut theorem, reducing the capacity of an edge on every minimum cut reduces the minimum cut capacity and thus $v^{*}$. Since the minimum cut above is unique and consists solely of edge $(C,D)$ with capacity $5$, any reduction of $c(C,D)$ strictly decreases the cut capacity and thus reduces the maximum flow. Therefore $(C,D)$ is critical.\n\nConversely, for all other edges:\n- Upstream edges $(S,A)$, $(S,B)$, $(A,C)$, $(B,C)$ have aggregate capacities strictly larger than $5$; reducing any one of them slightly leaves at least $5$ units of $S$–$C$ throughput, so $v^{*}$ remains $5$.\n- Downstream edges $(D,E)$, $(D,F)$, $(E,T)$, $(F,T)$ also have sufficient aggregate capacity exceeding $5$; reducing any one of them slightly still allows routing the full $5$ units through the other branch, so $v^{*}$ remains $5$.\n\nHence the only critical edge is $(C,D)$, corresponding to option B.", "answer": "$$\\boxed{B}$$", "id": "1541523"}]}