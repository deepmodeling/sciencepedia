{"hands_on_practices": [{"introduction": "Before we can determine the treewidth of a graph, we must be able to confidently verify if a given structure is a valid tree decomposition. This exercise provides a hands-on opportunity to apply the three core propertiesâ€”vertex coverage, edge coverage, and the connectivity property. By systematically checking these rules against a concrete example [@problem_id:1550977], you will build a solid foundational understanding of this fundamental concept.", "problem": "Consider an undirected graph $G = (V, E)$ with a vertex set $V = \\{1, 2, 3, 4, 5\\}$ and an edge set $E = \\{(1, 2), (2, 3), (3, 1), (3, 4), (4, 5), (5, 3)\\}$.\n\nA tree decomposition of a graph $G$ is a pair $(T, \\mathcal{X})$, where $T$ is a tree and $\\mathcal{X} = \\{X_i\\}_{i \\in V(T)}$ is a collection of subsets of $V$ (called bags), indexed by the nodes of $T$, that satisfies the following three properties:\n1.  **Vertex Coverage**: The union of all bags is the entire vertex set of $G$. That is, $\\bigcup_{i \\in V(T)} X_i = V$.\n2.  **Edge Coverage**: For every edge $(u, v)$ in $E$, there exists at least one bag $X_i$ that contains both $u$ and $v$.\n3.  **Connectivity Property**: For every vertex $v \\in V$, the set of nodes of $T$ whose corresponding bags contain $v$, i.e., $\\{i \\in V(T) \\mid v \\in X_i\\}$, forms a connected subtree of $T$.\n\nThe **width** of a tree decomposition $(T, \\mathcal{X})$ is defined as $\\max_{i \\in V(T)} |X_i| - 1$.\n\nWhich of the following options describes a valid tree decomposition of the graph $G$ with a width of exactly 2?\n\nA. The tree $T$ has two nodes, $\\{t_1, t_2\\}$, with an edge between them. The bags are $X_{t_1} = \\{1, 2, 3\\}$ and $X_{t_2} = \\{3, 4\\}$.\n\nB. The tree $T$ has two nodes, $\\{t_1, t_2\\}$, with an edge between them. The bags are $X_{t_1} = \\{1, 2, 4, 5\\}$ and $X_{t_2} = \\{3\\}$.\n\nC. The tree $T$ has two nodes, $\\{t_1, t_2\\}$, with an edge between them. The bags are $X_{t_1} = \\{1, 2, 3\\}$ and $X_{t_2} = \\{1, 4, 5\\}$.\n\nD. The tree $T$ has two nodes, $\\{t_1, t_2\\}$, with an edge between them. The bags are $X_{t_1} = \\{1, 2, 3\\}$ and $X_{t_2} = \\{3, 4, 5\\}$.\n\nE. The tree $T$ is a path with three nodes, $t_1 - t_2 - t_3$. The bags are $X_{t_1} = \\{1, 2, 3\\}$, $X_{t_2} = \\{1, 5\\}$, and $X_{t_3} = \\{3, 4, 5\\}$.", "solution": "Let $G=(V,E)$ with $V=\\{1,2,3,4,5\\}$ and $E=\\{(1,2),(2,3),(3,1),(3,4),(4,5),(5,3)\\}$. A tree decomposition $(T,\\mathcal{X})$ must satisfy:\n1) Vertex coverage: $\\bigcup_{i\\in V(T)}X_{i}=V$.\n2) Edge coverage: For each $(u,v)\\in E$, there exists $i$ with $\\{u,v\\}\\subseteq X_{i}$.\n3) Connectivity: For each $v\\in V$, the index set $\\{i\\in V(T)\\mid v\\in X_{i}\\}$ is connected in $T$.\nThe width is $\\max_{i\\in V(T)}|X_{i}|-1$; width exactly $2$ requires $\\max_{i}|X_{i}|=3$ and feasibility of the properties.\n\nCheck each option:\n\nA. $T$ has two nodes $t_{1}-t_{2}$, $X_{t_{1}}=\\{1,2,3\\}$, $X_{t_{2}}=\\{3,4\\}$. Vertex coverage gives $\\{1,2,3,4\\}\\neq V$ since $5\\notin X_{t_{1}}\\cup X_{t_{2}}$. Thus property 1 fails. Width is $\\max(3,2)-1=2$, but the decomposition is invalid.\n\nB. $X_{t_{1}}=\\{1,2,4,5\\}$, $X_{t_{2}}=\\{3\\}$. Width is $\\max(4,1)-1=3\\neq 2$, so it does not have width $2$. Moreover, edge $(2,3)$ is not covered by any bag, so property 2 fails as well.\n\nC. $X_{t_{1}}=\\{1,2,3\\}$, $X_{t_{2}}=\\{1,4,5\\}$. Width is $\\max(3,3)-1=2$. Vertex coverage holds: $\\{1,2,3\\}\\cup\\{1,4,5\\}=V$. Edge coverage fails for $(3,4)$ and $(3,5)$ since no bag contains $\\{3,4\\}$ or $\\{3,5\\}$. Hence invalid.\n\nD. $X_{t_{1}}=\\{1,2,3\\}$, $X_{t_{2}}=\\{3,4,5\\}$. Width is $\\max(3,3)-1=2$. Vertex coverage holds: $\\{1,2,3\\}\\cup\\{3,4,5\\}=V$. Edge coverage:\n- $(1,2),(2,3),(3,1)\\subseteq X_{t_{1}}$,\n- $(3,4),(4,5),(5,3)\\subseteq X_{t_{2}}$.\nConnectivity property: For $v=1,2$, only $t_{1}$ contains $v$; for $v=4,5$, only $t_{2}$ contains $v$; for $v=3$, both $t_{1}$ and $t_{2}$ contain $v$, and $\\{t_{1},t_{2}\\}$ is connected in $T$. Thus all three properties hold with width $2$.\n\nE. $T$ is $t_{1}-t_{2}-t_{3}$, $X_{t_{1}}=\\{1,2,3\\}$, $X_{t_{2}}=\\{1,5\\}$, $X_{t_{3}}=\\{3,4,5\\}$. Width is $\\max(3,2,3)-1=2$. Vertex and edge coverage both hold. However, the connectivity property fails for $v=3$ since $3\\in X_{t_{1}}$ and $3\\in X_{t_{3}}$ but $3\\notin X_{t_{2}}$, so $\\{i\\mid 3\\in X_{i}\\}=\\{t_{1},t_{3}\\}$ is not connected in $T$.\n\nTherefore, the only valid tree decomposition of width exactly $2$ among the options is D.", "answer": "$$\\boxed{D}$$", "id": "1550977"}, {"introduction": "Finding a graph's treewidth is a key skill that requires a rigorous approach, proving that no decomposition of smaller width exists while also demonstrating one that achieves the claimed width. This practice guides you through the standard method of establishing a lower bound (often using graph minors) and an upper bound (by explicit construction). Working with the classic wheel graph family [@problem_id:1555572] will equip you with a powerful and widely applicable proof technique.", "problem": "In graph theory, a tree decomposition of a graph $G = (V, E)$ is a pair $(T, \\{X_t\\}_{t \\in V(T)})$, where $T$ is a tree and each $X_t$ (called a bag) is a subset of $V$, that satisfies the following three properties:\n1. The union of all bags is the vertex set of G: $\\bigcup_{t \\in V(T)} X_t = V$.\n2. For every edge $(u, v) \\in E$, there exists a bag $X_t$ such that both $u$ and $v$ are in $X_t$.\n3. For every vertex $v \\in V$, the set of nodes of $T$ whose corresponding bags contain $v$, i.e., $\\{t \\in V(T) \\mid v \\in X_t\\}$, forms a connected subtree of $T$.\n\nThe width of a tree decomposition is defined as $\\max_{t \\in V(T)} |X_t| - 1$. The treewidth of a graph $G$, denoted $tw(G)$, is the minimum width over all possible tree decompositions of $G$.\n\nConsider the wheel graph $W_n$ on $n$ vertices, defined for $n \\ge 4$. The vertex set is $V = \\{c, v_1, v_2, \\ldots, v_{n-1}\\}$. The vertex $c$ is the central hub, connected to all other vertices $v_1, \\ldots, v_{n-1}$. These $n-1$ vertices form a cycle, with edges $(v_i, v_{i+1})$ for $i=1, \\ldots, n-2$, and an edge $(v_{n-1}, v_1)$.\n\nLet $tw(W_n)$ be the treewidth of the wheel graph $W_n$. Which of the following statements is true for all $n \\ge 5$?\n\nA. $tw(W_n) = 2$, and an optimal tree decomposition can be constructed using bags of size 3 arranged in a cycle.\n\nB. $tw(W_n) = 3$, and any optimal tree decomposition must have an underlying tree $T$ that is a path.\n\nC. $tw(W_n) = 3$, and an optimal tree decomposition can be constructed where the underlying tree $T$ is a path.\n\nD. $tw(W_n)$ is not constant for $n \\ge 5$; specifically, $tw(W_n) = \\lfloor \\frac{n-1}{2} \\rfloor$.\n\nE. $tw(W_n) = 4$, because $W_n$ contains a $K_4$ subgraph and the hub vertex adds one to the treewidth.", "solution": "To determine the correct statement, we must first find the treewidth of the wheel graph $W_n$ for $n \\ge 5$. We will do this by establishing a lower bound and an upper bound for $tw(W_n)$.\n\n**1. Lower Bound for an arbitrary $n \\ge 4$**\n\nA key theorem in graph theory states that if a graph $H$ is a minor of a graph $G$, then $tw(H) \\le tw(G)$. The treewidth of a complete graph $K_k$ is $k-1$. If we can show that $W_n$ (for $n \\ge 4$) has a $K_4$ minor, this implies $tw(W_n) \\ge tw(K_4) = 4-1 = 3$.\n\nTo find a $K_4$ minor in $W_n$, we need to find four disjoint non-empty subsets of vertices $V_1, V_2, V_3, V_4$ such that the subgraphs induced by each $V_i$ are connected, and for every pair $i \\ne j$, there is an edge in $W_n$ connecting a vertex in $V_i$ to a vertex in $V_j$.\n\nLet's define these sets for $W_n$ with vertices $\\{c, v_1, \\dots, v_{n-1}\\}$ where $n \\ge 4$:\n- $V_1 = \\{c\\}$\n- $V_2 = \\{v_1\\}$\n- $V_3 = \\{v_2\\}$\n- $V_4 = \\{v_3, v_4, \\ldots, v_{n-1}\\}$\n\nLet's check the conditions:\n- The sets are disjoint and their union is a subset of $V(W_n)$. This is true.\n- The induced subgraphs $W_n[V_i]$ are connected. $W_n[V_1]$, $W_n[V_2]$, and $W_n[V_3]$ are single vertices, which are connected. For $V_4$, the vertices $\\{v_3, \\dots, v_{n-1}\\}$ form a path on the rim of the wheel graph (e.g., $v_3-v_4-\\dots-v_{n-1}$), which is connected. This holds as long as $V_4$ is not empty, which is true for $n \\ge 4$.\n- The sets are mutually adjacent:\n    - $(V_1, V_2)$: The edge $(c, v_1)$ connects them.\n    - $(V_1, V_3)$: The edge $(c, v_2)$ connects them.\n    - $(V_1, V_4)$: The edge $(c, v_3)$ connects them (since $v_3 \\in V_4$).\n    - $(V_2, V_3)$: The rim edge $(v_1, v_2)$ connects them.\n    - $(V_2, V_4)$: The rim edge $(v_1, v_{n-1})$ connects them (since $v_{n-1} \\in V_4$).\n    - $(V_3, V_4)$: The rim edge $(v_2, v_3)$ connects them (since $v_3 \\in V_4$).\n\nSince all conditions are met, $W_n$ has a $K_4$ minor for all $n \\ge 4$. This establishes the lower bound: $tw(W_n) \\ge 3$. This applies to the case $n \\ge 5$.\n\n**2. Upper Bound for $n \\ge 4$**\n\nTo establish an upper bound, we must construct a tree decomposition of width 3. A width of 3 means the largest bag must have size $3+1 = 4$.\n\nLet the tree $T$ be a path with $n-2$ nodes, which we label $t_1, t_2, \\ldots, t_{n-2}$. The edges of $T$ are $(t_i, t_{i+1})$ for $i=1, \\ldots, n-3$. For each node $t_i \\in V(T)$, we define a bag $X_{t_i}$ as follows:\n$X_{t_i} = \\{c, v_1, v_{i+1}, v_{i+2}\\}$ for $i=1, \\ldots, n-2$, where vertex indices on the rim are taken modulo $n-1$ (with $v_{n-1}$ mapping to $v_0$ for convenience, though we use $v_1, \\dots, v_{n-1}$). A simpler construction is clearer: path with $n-2$ nodes $t_1, \\ldots, t_{n-2}$. Let bags be $X_{t_i} = \\{c, v_i, v_{i+1}, v_{i+2}\\}$ for $i=1, \\ldots, n-3$ and $X_{t_{n-2}} = \\{c, v_{n-2}, v_{n-1}, v_1\\}$.\nLet's re-state a correct construction: Let the tree $T$ be a path with $n-2$ nodes $t_1, \\dots, t_{n-2}$. Let the bags be $X_{t_i} = \\{c, v_i, v_{i+1}\\}$ for $i=1, \\dots, n-2$. This gives width 2, but fails connectivity for $c$ if the path is long, and fails to cover edge $(v_{n-1}, v_1)$.\n\nA correct construction for width 3 is as follows: Let $T$ be a path with $n-2$ nodes, $t_1, \\dots, t_{n-2}$.\nDefine the bags as $X_{t_i} = \\{c, v_1, v_{i+1}, v_{i+2}\\}$ for $i=1, \\ldots, n-3$, and the final bag as $X_{t_{n-2}} = \\{c, v_1, v_{n-2}, v_{n-1}\\}$.\nLet's verify this construction for $n \\ge 4$.\n- **Property 1 (Vertex Coverage):**\n    - The hub vertex $c$ and rim vertex $v_1$ are in every bag.\n    - Rim vertex $v_2$ is in $X_{t_1}$.\n    - Rim vertex $v_j$ for $3 \\le j \\le n-2$ is in bags $X_{t_{j-2}}$ and $X_{t_{j-1}}$.\n    - Rim vertex $v_{n-1}$ is in bags $X_{t_{n-3}}$ and $X_{t_{n-2}}$.\n    Every vertex of $W_n$ is in at least one bag.\n\n- **Property 2 (Edge Coverage):**\n    - Hub edges $(c, v_j)$: For any $v_j$, it is in some bag $X_{t_i}$. Since $c$ is in all bags, the edge $(c, v_j)$ is covered.\n    - Rim edges $(v_j, v_{j+1})$:\n        - $(v_1, v_2)$: Covered by $X_{t_1} = \\{c, v_1, v_2, v_3\\}$.\n        - For $j \\in \\{2, \\ldots, n-3\\}$, edge $(v_j, v_{j+1})$ is covered by $X_{t_{j-1}} = \\{c, v_1, v_j, v_{j+1}\\}$.\n        - $(v_{n-2}, v_{n-1})$ is covered by $X_{t_{n-3}}$ and $X_{t_{n-2}}$.\n    - Rim wrap-around edge $(v_{n-1}, v_1)$: Covered by bag $X_{t_{n-2}} = \\{c, v_1, v_{n-2}, v_{n-1}\\}$.\n    All edges are covered.\n\n- **Property 3 (Connected Subtree):**\n    - For $c$ and $v_1$, the bags containing them correspond to all nodes of the path $T$, which is a connected subtree.\n    - For $v_2$, it is only in $X_{t_1}$. The induced subtree is the single node $t_1$, which is connected.\n    - For $v_j$ where $3 \\le j \\le n-1$, it appears in a set of bags corresponding to adjacent nodes on the path $T$, forming a connected subtree.\n    The property holds for all vertices.\n\nThe largest bag in this decomposition has size 4. Therefore, the width of this decomposition is $4-1=3$. This shows that $tw(W_n) \\le 3$.\n\n**Conclusion on Treewidth**\n\nSince we have shown $tw(W_n) \\ge 3$ and $tw(W_n) \\le 3$ for all $n \\ge 4$, we can conclude that $tw(W_n) = 3$ for $n \\ge 4$. This is true for the condition of the problem, $n \\ge 5$.\n\n**Analysis of the Options**\n\nNow we evaluate each statement for $n \\ge 5$:\n\nA. $tw(W_n) = 2$, and an optimal tree decomposition can be constructed using bags of size 3 arranged in a cycle.\nThis is false. We've shown $tw(W_n) = 3$. Also, the underlying structure of a tree decomposition must be a tree, not a cycle.\n\nB. $tw(W_n) = 3$, and any optimal tree decomposition must have an underlying tree $T$ that is a path.\nThe first part, $tw(W_n)=3$, is correct. However, the claim that *any* optimal decomposition's tree must be a path is false. For example, take the path decomposition $(T, \\{X_t\\})$ we constructed. We can form a new tree $T'$ by adding a new leaf node $t'$ adjacent to $t_1 \\in V(T)$. We can define a new set of bags where the bag for $t'$ is a copy of the bag for $t_1$, i.e., $X'_{t'} = X_{t_1}$. This new decomposition is also of width 3, but its underlying tree $T'$ is not a path.\n\nC. $tw(W_n) = 3$, and an optimal tree decomposition can be constructed where the underlying tree $T$ is a path.\nThis is correct. We found $tw(W_n) = 3$, and our explicit construction provides an optimal tree decomposition (width 3) where the underlying tree is a path.\n\nD. $tw(W_n)$ is not constant for $n \\ge 5$; specifically, $tw(W_n) = \\lfloor \\frac{n-1}{2} \\rfloor$.\nThis is false. We proved that $tw(W_n) = 3$ for all $n \\ge 4$, so it is constant for $n \\ge 5$.\n\nE. $tw(W_n) = 4$, because $W_n$ contains a $K_4$ subgraph and the hub vertex adds one to the treewidth.\nThis is false. The treewidth is 3, not 4. The reasoning is also flawed. For $n \\ge 5$, $W_n$ does not contain a $K_4$ as a subgraph (it only has triangles). It has a $K_4$ *minor*, which gives a lower bound of 3, not 4. The effect of a hub vertex on treewidth is not a simple addition.\n\nTherefore, the only true statement is C.", "answer": "$$\\boxed{C}$$", "id": "1555572"}, {"introduction": "Understanding how treewidth behaves when we modify a graph is crucial for both theory and network design applications. This problem explores the effect of a simple yet common operation: edge subdivision. By analyzing how this modification impacts a graph's structure, you will discover a key invariance property of treewidth [@problem_id:1550983] and gain a deeper appreciation for its robust nature.", "problem": "In the field of network science, the treewidth of a graph is a crucial parameter that measures how \"tree-like\" the graph's topology is. A lower treewidth often correlates with the feasibility of solving certain computationally hard problems on that network. Consider a graph $G$ representing a network. An operation known as \"edge subdivision\" is performed on an edge $\\{u,v\\}$ in $G$. This operation involves removing the direct link $\\{u,v\\}$ and inserting a new node $w$ connected to both $u$ and $v$, effectively replacing the edge with a path $u-w-v$. Let the resulting graph be $G'$. As a graph theorist analyzing network modifications, you are asked to determine the general effect of this operation on treewidth.\n\nLet $G$ be any simple graph possessing at least one edge, and let $tw(G)$ be its treewidth. Let $G'$ be the graph that results from subdividing exactly one edge of $G$. Which one of the following statements about the treewidth of the new graph, $tw(G')$, is always correct?\n\nA. $tw(G') > tw(G)$ can occur for some graphs $G$.\n\nB. $tw(G') < tw(G)$ can occur for some graphs $G$.\n\nC. $tw(G') = tw(G)$ for all graphs $G$ with at least one edge.\n\nD. $tw(G') = \\max(tw(G), 2)$ for all graphs $G$.\n\nE. The outcome depends on which edge is subdivided; for some choices $tw(G') > tw(G)$ while for others $tw(G') = tw(G)$.", "solution": "We analyze how treewidth behaves under subdividing a single edge.\n\nFirst, recall minor-monotonicity of treewidth: if $H$ is a minor of $G$, then $tw(H) \\le tw(G)$. When an edge $\\{u,v\\}$ of $G$ is subdivided by inserting a new vertex $w$, the original graph $G$ is obtained from $G'$ by contracting either edge $\\{u,w\\}$ or $\\{w,v\\}$. Hence $G$ is a minor of $G'$, and therefore\n$$\ntw(G) \\le tw(G').\n$$\n\nNext, we show $tw(G') \\le tw(G)$ by constructing from any tree decomposition of $G$ of width $k$ a tree decomposition of $G'$ of width at most $k$. Let $(\\mathcal{X},\\mathcal{T})$ be a tree decomposition of $G$ with width $k$, so each bag $X \\in \\mathcal{X}$ has $|X| \\le k+1$. Because $\\{u,v\\}$ is an edge of $G$, there exists a bag $B \\in \\mathcal{X}$ with $\\{u,v\\} \\subseteq B$.\n\nA known proof strategy is to modify the decomposition of $G$. Take an optimal tree decomposition of $G$. For every bag $X_i$ that contains both $u$ and $v$, we simply add the new vertex $w$ to it. Let's call the new bag collection $\\mathcal{X}'$.\nThe set of nodes $\\{i \\mid \\{u,v\\} \\subseteq X_i\\}$ induces a connected subtree in $\\mathcal{T}$. Therefore, the set of nodes whose bags now contain $w$ also induces a connected subtree, so the connectivity property for $w$ holds. The properties for all other vertices are maintained. Vertex coverage holds as $w$ is added. Edge coverage for new edges $\\{u,w\\}$ and $\\{v,w\\}$ holds because any bag that contained $\\{u,v\\}$ now contains $\\{u,v,w\\}$.\nThis construction is valid, but it might increase the width if a bag containing $\\{u,v\\}$ already had maximal size $k+1$.\n\nA more robust construction that preserves width is as follows: Take a tree decomposition $(T, \\mathcal{X})$ of $G$ of width $k=tw(G)$. Since $\\{u,v\\}$ is an edge, there must be some bag $X_i$ containing both $u$ and $v$. Create a new tree $T'$ by adding a new node $i'$ and an edge $(i, i')$, making $i'$ a leaf. The new bag collection $\\mathcal{X}'$ is $\\mathcal{X}$ plus a new bag $X_{i'} = \\{u, v, w\\}$.\nLet's check this new decomposition $(T', \\mathcal{X}')$ for $G'$:\n- **Vertex Coverage:** All vertices of $G$ are covered by $\\mathcal{X}$. The new vertex $w$ is covered by $X_{i'}$. This holds.\n- **Edge Coverage:** All edges of $G$ are covered by $\\mathcal{X}$. The new edges $\\{u,w\\}$ and $\\{v,w\\}$ are covered by $X_{i'}$. This holds.\n- **Connectivity:** For any original vertex $x \\in V(G)$, its set of nodes in $T'$ is its original set in $T$, plus $i'$ if $x \\in \\{u,v\\}$. Since $i$ is in the original node set for both $u$ and $v$, and $i'$ is attached to $i$, the new node sets remain connected. For the new vertex $w$, its bags are just $\\{i'\\}$, which is connected. This holds.\n- **Width:** The width of the new decomposition is $\\max(k, |X_{i'}|-1) = \\max(k, 3-1) = \\max(tw(G), 2)$.\n\nThis shows $tw(G') \\le \\max(tw(G), 2)$.\nIf $tw(G) \\ge 2$, this implies $tw(G') \\le tw(G)$.\nIf $tw(G)=1$ (i.e., $G$ is a forest with at least one edge), subdividing an edge yields another forest, so $tw(G')=1$. In this case $tw(G')=tw(G)$.\nIf $tw(G)=0$, the graph has no edges to subdivide.\n\nSo for any graph $G$ with at least one edge, we have shown $tw(G) \\le tw(G')$ and $tw(G') \\le tw(G)$ (since $tw(G) \\ge 1$ implies $\\max(tw(G),2) \\ge tw(G)$ is not a tight bound, but the equality holds). A more complex proof shows that $tw(G') \\le tw(G)$ is always true. Combining the two inequalities $tw(G) \\le tw(G')$ and $tw(G') \\le tw(G)$, we must have $tw(G') = tw(G)$.\n\nThis rules out A, B, D, and E, leaving C as the always-correct statement.", "answer": "$$\\boxed{C}$$", "id": "1550983"}]}