{"hands_on_practices": [{"introduction": "The assignment problem is a cornerstone of combinatorial optimization, and weighted bipartite matching provides a powerful framework for its solution. This first exercise places you in a virology lab, tasked with pairing antibodies to antigens to achieve the highest possible total effectiveness. This practice introduces the fundamental goal of maximizing the sum of weights in a perfect matching, a concept with wide applications from logistics to bioinformatics.[@problem_id:1555315]", "problem": "A research team in a virology lab is developing a new panel of antiviral treatments. They have engineered four distinct antibody candidates, denoted Ab-1, Ab-2, Ab-3, and Ab-4. They wish to test the efficacy of these candidates against four different viral antigen variants, denoted Ag-A, Ag-B, Ag-C, and Ag-D.\n\nFor each possible pairing of an antibody with an antigen, a \"binding affinity score\" has been experimentally determined. A higher score indicates a stronger and more effective binding. The scores are summarized in the following affinity matrix, where the rows correspond to the antibody candidates and the columns correspond to the antigen variants.\n\n$$\n\\begin{array}{c|cccc}\n  \\text{Ag-A}  \\text{Ag-B}  \\text{Ag-C}  \\text{Ag-D} \\\\\n\\hline\n\\text{Ab-1}  15  12  13  10 \\\\\n\\text{Ab-2}  11  14  16  12 \\\\\n\\text{Ab-3}  13  11  15  14 \\\\\n\\text{Ab-4}  10  13  12  11 \\\\\n\\end{array}\n$$\n\nTo streamline the next phase of experiments, the team needs to create an optimal assignment, pairing each antibody candidate with exactly one unique antigen variant. The goal is to maximize the sum of the binding affinity scores for the four chosen pairs.\n\nWhat is the maximum possible total binding affinity score that can be achieved in this optimal assignment?", "solution": "We model the optimal pairing as an assignment problem. Let antibodies be indexed by $i \\in \\{1,2,3,4\\}$ and antigens by $j \\in \\{1,2,3,4\\}$. An assignment corresponds to a permutation $\\sigma$ of $\\{1,2,3,4\\}$, where antibody $i$ is paired with antigen $\\sigma(i)$. The total binding affinity score for $\\sigma$ is\n$$\nS(\\sigma) = \\sum_{i=1}^{4} a_{i,\\sigma(i)},\n$$\nwhere $a_{ij}$ is the given affinity matrix entry:\n$$\n[a_{ij}] =\n\\begin{pmatrix}\n15  12  13  10\\\\\n11  14  16  12\\\\\n13  11  15  14\\\\\n10  13  12  11\n\\end{pmatrix}.\n$$\nWe compute $S(\\sigma)$ for all $4! = 24$ permutations $\\sigma$:\n$$\n(1,2,3,4):\\; 15+14+15+11=55,\\quad\n(1,2,4,3):\\; 15+14+14+12=55,\n$$\n$$\n(1,3,2,4):\\; 15+16+11+11=53,\\quad\n(1,3,4,2):\\; 15+16+14+13=58,\n$$\n$$\n(1,4,2,3):\\; 15+12+11+12=50,\\quad\n(1,4,3,2):\\; 15+12+15+13=55,\n$$\n$$\n(2,1,3,4):\\; 12+11+15+11=49,\\quad\n(2,1,4,3):\\; 12+11+14+12=49,\n$$\n$$\n(2,3,1,4):\\; 12+16+13+11=52,\\quad\n(2,3,4,1):\\; 12+16+14+10=52,\n$$\n$$\n(2,4,1,3):\\; 12+12+13+12=49,\\quad\n(2,4,3,1):\\; 12+12+15+10=49,\n$$\n$$\n(3,1,2,4):\\; 13+11+11+11=46,\\quad\n(3,1,4,2):\\; 13+11+14+13=51,\n$$\n$$\n(3,2,1,4):\\; 13+14+13+11=51,\\quad\n(3,2,4,1):\\; 13+14+14+10=51,\n$$\n$$\n(3,4,1,2):\\; 13+12+13+13=51,\\quad\n(3,4,2,1):\\; 13+12+11+10=46,\n$$\n$$\n(4,1,2,3):\\; 10+11+11+12=44,\\quad\n(4,1,3,2):\\; 10+11+15+13=49,\n$$\n$$\n(4,2,1,3):\\; 10+14+13+12=49,\\quad\n(4,2,3,1):\\; 10+14+15+10=49,\n$$\n$$\n(4,3,1,2):\\; 10+16+13+13=52,\\quad\n(4,3,2,1):\\; 10+16+11+10=47.\n$$\nThe maximum value among these is $58$, achieved by the permutation $(1,3,4,2)$, i.e., Ab-1 with Ag-A, Ab-2 with Ag-C, Ab-3 with Ag-D, and Ab-4 with Ag-B.", "answer": "$$\\boxed{58}$$", "id": "1555315"}, {"introduction": "Building on the previous problem, we now explore the minimization counterpart of the assignment problem. Instead of maximizing a benefit, the goal here is to minimize a total cost, specifically the energy consumption of servers in a data center. This exercise demonstrates the versatility of weighted bipartite matching, showing how the same underlying principles can be applied to optimize for efficiency and resource conservation.[@problem_id:1555349]", "problem": "A data center manager for a high-performance computing cluster needs to assign four specialized computational jobs to four distinct servers. The servers, named Alpha, Beta, Gamma, and Delta, have different hardware architectures, leading to varying energy consumption for each job. The manager's goal is to create a one-to-one assignment of jobs to servers that minimizes the total energy consumption for running all four tasks. The four jobs are: a Quantum Simulation (QS), a Protein Folding simulation (PF), a Fluid Dynamics calculation (FD), and a Cryptographic Analysis (CA).\n\nThe projected energy consumption for each job-server pairing, in kilowatt-hours (kWh), is given in the following list.\n- **Server Alpha:** 10 kWh for QS, 12 kWh for PF, 19 kWh for FD, 11 kWh for CA.\n- **Server Beta:** 5 kWh for QS, 10 kWh for PF, 7 kWh for FD, 8 kWh for CA.\n- **Server Gamma:** 12 kWh for QS, 14 kWh for PF, 13 kWh for FD, 11 kWh for CA.\n- **Server Delta:** 8 kWh for QS, 15 kWh for PF, 11 kWh for FD, 9 kWh for CA.\n\nEach server must be assigned exactly one job, and each job must be run on exactly one server. What is the minimum possible total energy consumption to complete all four jobs? Express your answer in kWh.", "solution": "Let the set of servers be $\\{\\text{Alpha}, \\text{Beta}, \\text{Gamma}, \\text{Delta}\\}$ and the set of jobs be $\\{\\text{QS}, \\text{PF}, \\text{FD}, \\text{CA}\\}$. Let $C(s,j)$ denote the energy cost (in kWh) of running job $j$ on server $s$. The objective is to minimize the total energy\n$$\nE=\\sum_{s} C\\bigl(s,\\sigma(s)\\bigr),\n$$\nover all one-to-one assignments $\\sigma$ from servers to jobs. Since there are four servers and four jobs, this is equivalent to checking all permutations, but we reduce the work by conditioning on which server runs QS and then solving the remaining $3\\times 3$ subproblem by direct enumeration.\n\nCase 1: Assign QS to Beta, so $C(\\text{Beta},\\text{QS})=5$. The remaining subproblem for $\\{\\text{Alpha}, \\text{Gamma}, \\text{Delta}\\}$ and $\\{\\text{PF}, \\text{FD}, \\text{CA}\\}$ yields the following minimal totals:\n- If $\\text{CA}\\to\\text{Delta}$: $12+13+9=34$.\n- If $\\text{CA}\\to\\text{Alpha}$: $14+19+11=44$ (or $12+13+11=36$ if paired optimally), and the minimum among feasible pairings is $34$ as found above.\nThus the minimal remaining sum is $34$, giving total $5+34=39$.\n\nTo be explicit, enumerating the best pairings:\n- $\\text{CA}\\to\\text{Delta}$, $\\text{PF}\\to\\text{Alpha}$, $\\text{FD}\\to\\text{Gamma}$ gives $12+13+9=34$, hence total $5+34=39$.\nNo other pairing in this case improves $39$.\n\nCase 2: Assign QS to Delta, so $C(\\text{Delta},\\text{QS})=8$. The remaining subproblem for $\\{\\text{Alpha}, \\text{Beta}, \\text{Gamma}\\}$ and $\\{\\text{PF}, \\text{FD}, \\text{CA}\\}$:\n- Choose $\\text{FD}\\to\\text{Beta}$ with cost $7$, then assign $\\text{PF}\\to\\text{Alpha}$ and $\\text{CA}\\to\\text{Gamma}$, giving $12+11=23$ for these two. The subtotal is $7+23=30$, and the grand total is $8+30=38$.\nChecking alternatives within this case:\n- If $\\text{FD}\\to\\text{Beta}$ but swap the other two, $7+11+14=32$, total $8+32=40$.\n- If $\\text{CA}\\to\\text{Beta}$, the best completion is $12+13$, giving $8+(8+12+13)=41$.\n- If $\\text{PF}\\to\\text{Beta}$, the best completion is $11+11$, giving $8+(10+11+11)=40$.\nThus the minimum for this case is $38$.\n\nCase 3: Assign QS to Alpha, so $C(\\text{Alpha},\\text{QS})=10$. The remaining subproblem for $\\{\\text{Beta}, \\text{Gamma}, \\text{Delta}\\}$ and $\\{\\text{PF}, \\text{FD}, \\text{CA}\\}$ has minimum obtained, for example, by $\\text{FD}\\to\\text{Beta}$, $\\text{PF}\\to\\text{Gamma}$, $\\text{CA}\\to\\text{Delta}$ with subtotal $7+14+9=30$, giving total $10+30=40$. Other pairings in this case do not beat $40$.\n\nCase 4: Assign QS to Gamma, so $C(\\text{Gamma},\\text{QS})=12$. For $\\{\\text{Alpha}, \\text{Beta}, \\text{Delta}\\}$ and $\\{\\text{PF}, \\text{FD}, \\text{CA}\\}$, choose $\\text{FD}\\to\\text{Beta}$, $\\text{PF}\\to\\text{Alpha}$, $\\text{CA}\\to\\text{Delta}$ with subtotal $7+12+9=28$, giving total $12+28=40$. No alternative in this case improves $40$.\n\nCollecting the case minima, we have totals $39$, $38$, $40$, and $40$. Therefore, the minimal possible total energy consumption is\n$$\n\\min\\{39,38,40,40\\}=38.\n$$\nOne optimal assignment achieving $38$ kWh is $\\text{QS}\\to\\text{Delta}$, $\\text{FD}\\to\\text{Beta}$, $\\text{PF}\\to\\text{Alpha}$, $\\text{CA}\\to\\text{Gamma}$, yielding $8+7+12+11=38$.", "answer": "$$\\boxed{38}$$", "id": "1555349"}, {"introduction": "Real-world optimization problems often involve more than just straightforward pairings; they include special conditions and constraints. This intermediate problem challenges you to model a more complex scenario involving employee reassignment, where moving personnel incurs a penalty cost. Your task is to first construct the \"effective\" weight matrix by incorporating these penalties before finding the optimal assignment, highlighting the crucial skill of translating practical constraints into a formal graph-theoretic model.[@problem_id:1555326]", "problem": "A technology company is restructuring its engineering department, which consists of five key engineers: Evelyn, Frank, Grace, Heidi, and Ivan. The new structure has three project teams: Team Apollo (2 positions), Team Boreas (2 positions), and Team Cronos (1 position). The five available positions can be denoted as $A_1, A_2, B_1, B_2, C_1$.\n\nEach engineer has a \"skill fit\" score for each team, representing their potential productivity and contribution. These scores are given in the table below:\n\n| Engineer | Team Apollo | Team Boreas | Team Cronos |\n|----------|-------------|-------------|--------------|\n| Evelyn   | 25          | 40          | 50           |\n| Frank    | 30          | 35          | 45           |\n| Grace    | 55          | 20          | 30           |\n| Heidi    | 40          | 60          | 35           |\n| Ivan     | 25          | 30          | 70           |\n\nFor an engineer assigned to a team, their skill fit score is the same for any of the available positions on that team.\n\nCurrently, the engineers are assigned as follows:\n- Team Apollo: Evelyn, Frank\n- Team Boreas: Grace, Heidi\n- Team Cronos: Ivan\n\nThe restructuring requires re-assigning all five engineers to the five available positions to form new teams. Moving an engineer from their current team to a different one incurs a disruption cost, which is represented by a penalty of 15 points. This penalty is subtracted from the engineer's skill fit score for that new assignment. If an engineer is assigned to a new position but remains on the same team, no penalty is incurred.\n\nThe total value of a new assignment plan is the sum of the effective scores for all five engineers, where an engineer's effective score is their skill fit for the assigned team minus any applicable penalty.\n\nYour task is to determine the maximum possible total value of the new assignment plan.", "solution": "Let the teams be $A$ (Apollo), $B$ (Boreas), and $C$ (Cronos). For each engineer $i$ and team $T\\in\\{A,B,C\\}$, let $s_{iT}$ denote the base skill fit score, and let $T_{i}^{0}$ denote the current team of engineer $i$. The effective score $e_{iT}$ for assigning engineer $i$ to team $T$ is\n$$\ne_{iT}=\\begin{cases}\ns_{iT},  T=T_{i}^{0},\\\\\ns_{iT}-15,  T\\neq T_{i}^{0}.\n\\end{cases}\n$$\nFrom the data and current assignments (Evelyn and Frank on $A$, Grace and Heidi on $B$, Ivan on $C$), the effective scores are:\n- Evelyn: $e_{EA}=25$, $e_{EB}=40-15=25$, $e_{EC}=50-15=35$.\n- Frank: $e_{FA}=30$, $e_{FB}=35-15=20$, $e_{FC}=45-15=30$.\n- Grace: $e_{GA}=55-15=40$, $e_{GB}=20$, $e_{GC}=30-15=15$.\n- Heidi: $e_{HA}=40-15=25$, $e_{HB}=60$, $e_{HC}=35-15=20$.\n- Ivan: $e_{IA}=25-15=10$, $e_{IB}=30-15=15$, $e_{IC}=70$.\n\nWe must assign exactly two engineers to $A$, two to $B$, and one to $C$, maximizing the total effective score.\n\nProceed by cases on the engineer assigned to $C$.\n\nCase 1: $C=\\text{Ivan}$. Then the remaining engineers $\\{\\text{Evelyn},\\text{Frank},\\text{Grace},\\text{Heidi}\\}$ must fill two $A$ and two $B$ slots. Their $A$/$B$ effective scores are:\n- Evelyn: $(A,B)=(25,25)$,\n- Frank: $(30,20)$,\n- Grace: $(40,20)$,\n- Heidi: $(25,60)$.\nChoose which two go to $A$ (the rest to $B$); compute the total for the four in each choice:\n- $A=\\{E,F\\}$: $25+30+(20+60)=135$,\n- $A=\\{E,G\\}$: $25+40+(20+60)=145$,\n- $A=\\{E,H\\}$: $25+25+(20+20)=90$,\n- $A=\\{F,G\\}$: $30+40+(25+60)=155$,\n- $A=\\{F,H\\}$: $30+25+(25+20)=100$,\n- $A=\\{G,H\\}$: $40+25+(25+20)=110$.\nThe maximum for these four is $155$, attained by $A=\\{\\text{Frank},\\text{Grace}\\}$ and $B=\\{\\text{Evelyn},\\text{Heidi}\\}$. Adding Ivan on $C$ gives total\n$$\n155+e_{IC}=155+70=225.\n$$\n\nCase 2: $C=\\text{Evelyn}$. Remaining $\\{\\text{Frank},\\text{Grace},\\text{Heidi},\\text{Ivan}\\}$ with $(A,B)$ scores:\n- Frank $(30,20)$, Grace $(40,20)$, Heidi $(25,60)$, Ivan $(10,15)$.\nEvaluate choices of two for $A$:\n- $A=\\{F,G\\}$: $30+40+(60+15)=145$,\n- $A=\\{F,H\\}$: $30+25+(20+15)=90$,\n- $A=\\{F,I\\}$: $30+10+(20+60)=120$,\n- $A=\\{G,H\\}$: $40+25+(20+15)=100$,\n- $A=\\{G,I\\}$: $40+10+(20+60)=130$,\n- $A=\\{H,I\\}$: $25+10+(20+20)=75$.\nThe maximum for these four is $145$. Adding $e_{EC}=35$ yields total $180$.\n\nCase 3: $C=\\text{Frank}$. Remaining $\\{\\text{Evelyn},\\text{Grace},\\text{Heidi},\\text{Ivan}\\}$ with $(A,B)$ scores:\n- Evelyn $(25,25)$, Grace $(40,20)$, Heidi $(25,60)$, Ivan $(10,15)$.\nEvaluate choices of two for $A$:\n- $A=\\{E,G\\}$: $25+40+(60+15)=140$,\n- $A=\\{E,H\\}$: $25+25+(20+15)=85$,\n- $A=\\{E,I\\}$: $25+10+(20+60)=115$,\n- $A=\\{G,H\\}$: $40+25+(25+15)=105$,\n- $A=\\{G,I\\}$: $40+10+(25+60)=135$,\n- $A=\\{H,I\\}$: $25+10+(25+20)=80$.\nMaximum for these four is $140$. Adding $e_{FC}=30$ yields total $170$.\n\nCase 4: $C=\\text{Grace}$. Remaining $\\{\\text{Evelyn},\\text{Frank},\\text{Heidi},\\text{Ivan}\\}$ with $(A,B)$ scores:\n- Evelyn $(25,25)$, Frank $(30,20)$, Heidi $(25,60)$, Ivan $(10,15)$.\nEvaluate choices of two for $A$:\n- $A=\\{E,F\\}$: $25+30+(60+15)=130$,\n- $A=\\{E,H\\}$: $25+25+(20+15)=85$,\n- $A=\\{E,I\\}$: $25+10+(20+60)=115$,\n- $A=\\{F,H\\}$: $30+25+(25+15)=95$,\n- $A=\\{F,I\\}$: $30+10+(25+60)=125$,\n- $A=\\{H,I\\}$: $25+10+(25+20)=80$.\nMaximum for these four is $130$. Adding $e_{GC}=15$ yields total $145$.\n\nCase 5: $C=\\text{Heidi}$. Remaining $\\{\\text{Evelyn},\\text{Frank},\\text{Grace},\\text{Ivan}\\}$ with $(A,B)$ scores:\n- Evelyn $(25,25)$, Frank $(30,20)$, Grace $(40,20)$, Ivan $(10,15)$.\nEvaluate choices of two for $A$:\n- $A=\\{E,F\\}$: $25+30+(20+15)=90$,\n- $A=\\{E,G\\}$: $25+40+(20+15)=100$,\n- $A=\\{E,I\\}$: $25+10+(20+20)=75$,\n- $A=\\{F,G\\}$: $30+40+(25+15)=110$,\n- $A=\\{F,I\\}$: $30+10+(25+20)=85$,\n- $A=\\{G,I\\}$: $40+10+(25+20)=95$.\nMaximum for these four is $110$. Adding $e_{HC}=20$ yields total $130$.\n\nComparing all cases, the maximum total is $225$, achieved when $C=\\text{Ivan}$ and among the remaining four, $A=\\{\\text{Frank},\\text{Grace}\\}$ and $B=\\{\\text{Evelyn},\\text{Heidi}\\}$.", "answer": "$$\\boxed{225}$$", "id": "1555326"}]}