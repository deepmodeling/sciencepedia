{"hands_on_practices": [{"introduction": "Our first practice introduces the core engine of the probabilistic method: linearity of expectation. We'll explore a random tournament model, which you can imagine as a competition where every game's outcome is a coin flip. This exercise [@problem_id:1410201] reveals the surprisingly high number of 'cyclic triples'—non-transitive relationships like rock-paper-scissors—and provides a foundational skill for calculating expected values in random structures.", "problem": "In a large online gaming league with $n$ players, a round-robin tournament is organized. In this tournament, every player competes against every other player exactly once. There are no draws; each game results in a definitive win for one of the two players.\n\nThe skill level of the players is very close, so the outcome of any given game is essentially random. For any two players, each has a probability of $1/2$ of winning their game, and all game outcomes are mutually independent.\n\nA configuration of particular interest is the \"cyclic triple\". A cyclic triple is a set of three distinct players, let's call them P1, P2, and P3, such that P1 defeats P2, P2 defeats P3, and P3 in turn defeats P1. Such a cycle demonstrates a non-transitive relationship in rankings (i.e., \"rock-paper-scissors\" dynamics).\n\nAssuming $n \\geq 3$, what is the expected number of cyclic triples in this tournament? Express your answer as a function of $n$.", "solution": "Let the $n$ players form a random tournament where each game outcome is independent and each player has probability $\\frac{1}{2}$ to win any given match.\n\nDefine, for each unordered triple of distinct players $T$, an indicator random variable $X_{T}$ that equals $1$ if the triple forms a cyclic triple (i.e., a directed $3$-cycle) and equals $0$ otherwise. The total number of cyclic triples is then\n$$\nX=\\sum_{T} X_{T},\n$$\nwhere the sum runs over all unordered triples $T$ of players. By linearity of expectation,\n$$\n\\mathbb{E}[X]=\\sum_{T} \\mathbb{E}[X_{T}].\n$$\n\nFix any particular triple $T=\\{P_{1},P_{2},P_{3}\\}$. Among these three players, there are three games, and each game orientation (which player beats which) is determined independently with probability $\\frac{1}{2}$ for each direction. Hence there are $2^{3}$ equally likely orientations of the three edges. A cyclic triple corresponds to a directed $3$-cycle, of which there are exactly $2$ orientations (clockwise and counterclockwise). Therefore,\n$$\n\\mathbb{P}(X_{T}=1)=\\frac{2}{2^{3}}=\\frac{1}{4},\n$$\nso\n$$\n\\mathbb{E}[X_{T}]=\\frac{1}{4}.\n$$\n\nThere are $\\binom{n}{3}$ unordered triples of players. Substituting into the linearity-of-expectation sum gives\n$$\n\\mathbb{E}[X]=\\binom{n}{3}\\cdot\\frac{1}{4}=\\frac{1}{4}\\binom{n}{3}.\n$$\nThis holds for all $n\\geq 3$.", "answer": "$$\\boxed{\\frac{1}{4}\\binom{n}{3}}$$", "id": "1410201"}, {"introduction": "Building on the concept of expectation, we now turn to the widely-used Erdős–Rényi random graph model, $G(n,p)$. This exercise [@problem_id:1546148] challenges you to count the expected number of four-cycles, a common motif in network analysis. It combines the probabilistic thinking from our first practice with essential combinatorial counting, a powerful pairing for analyzing complex graphs.", "problem": "A large-scale decentralized peer-to-peer network is modeled as a random graph. The network consists of $n$ distinct nodes, and a direct, bidirectional communication link (an edge) is established between any pair of distinct nodes with a probability $p$, where $0 < p < 1$. The presence or absence of any link is independent of all other links.\n\nIn this network, a key structure for ensuring data integrity and routing efficiency is the 'resilient quartet'. A resilient quartet is defined as a subgraph formed by exactly four distinct nodes and four specific edges that connect these nodes into a single, simple cycle of length four. For example, given four nodes A, B, C, and D, a resilient quartet exists if the links (A,B), (B,C), (C,D), and (D,A) are all present. The presence or absence of any other potential links between these four nodes (i.e., the \"diagonal\" links (A,C) and (B,D)) does not affect its classification as a resilient quartet.\n\nGiven the network parameters $n$ and $p$, determine the expected number of resilient quartets in the network. Provide your answer as a closed-form analytic expression in terms of $n$ and $p$.", "solution": "Let $G$ be the Erdős–Rényi random graph with parameters $n$ and $p$. Define $X$ to be the number of resilient quartets (simple 4-cycles) in $G$.\n\nIntroduce indicator variables: for each undirected simple 4-cycle $C$ on the labeled vertex set $\\{1,\\dots,n\\}$, let $I_{C}$ be the indicator that all four edges of $C$ are present in $G$. Then\n$$\nX=\\sum_{C} I_{C}.\n$$\nBy linearity of expectation,\n$$\n\\mathbb{E}[X]=\\sum_{C} \\mathbb{E}[I_{C}]=\\sum_{C} \\mathbb{P}(I_{C}=1).\n$$\nFor any fixed 4-cycle $C$, exactly four specific edges must be present; all edges in $G$ are independent and present with probability $p$, and the presence or absence of the two possible diagonals among the same four vertices does not affect the classification. Therefore,\n$$\n\\mathbb{P}(I_{C}=1)=p^{4}.\n$$\n\nIt remains to count the number of distinct undirected 4-cycles on $n$ labeled vertices. First choose the 4 vertices; there are $\\binom{n}{4}$ ways. On a fixed labeled set of 4 vertices, the number of distinct undirected 4-cycles is\n$$\n\\frac{(4-1)!}{2}=3,\n$$\nsince there are $(4-1)!$ cyclic orderings and we divide by $2$ for reversal symmetry.\n\nHence the total number of candidate 4-cycles is\n$$\n3\\binom{n}{4}.\n$$\nCombining the count with the probability for each cycle,\n$$\n\\mathbb{E}[X]=\\left(3\\binom{n}{4}\\right)p^{4}.\n$$\nEquivalently, $\\mathbb{E}[X]=\\frac{n(n-1)(n-2)(n-3)}{8}\\,p^{4}$.", "answer": "$$\\boxed{3\\binom{n}{4}p^{4}}$$", "id": "1546148"}, {"introduction": "This final practice showcases the profound 'existence' aspect of the probabilistic method. The goal is no longer just to calculate an average, but to use that average to prove that a certain structure *must exist*. By analyzing a simple randomized process for finding an independent set [@problem_id:1410205], we can establish a guaranteed lower bound on its size for *any* graph, demonstrating how randomness can be a powerful tool for obtaining deterministic, concrete results.", "problem": "A technology company is deploying a large number of wireless sensors over a geographical area. The network of sensors is modeled as a simple undirected graph $G=(V, E)$, where $V$ is the set of $n$ sensors, and an edge $(u,v) \\in E$ exists if sensors $u$ and $v$ are close enough to interfere with each other. To reduce power consumption and signal interference, the company wants to activate a subset of sensors $I \\subseteq V$ such that no two active sensors interfere with each other. This means the set $I$ must be an independent set of the graph $G$. The network is designed such that any given sensor can interfere with at most $\\Delta$ other sensors, meaning the maximum degree of the graph is $\\Delta$.\n\nA randomized, two-stage algorithm is implemented to generate the independent set $I$:\n\n1.  **Candidacy Stage:** A preliminary set of candidate sensors, $S$, is formed. Each sensor in $V$ is independently chosen to be in $S$ with a fixed probability $p$.\n2.  **Conflict Resolution Stage:** Any edge whose both endpoints are in $S$ is called a \"conflicting edge\". To form the final independent set $I$, a new set $S'$ is created from $S$ by removing, for each conflicting edge, exactly one of its endpoints. The final set $I$ is $S'$.\n\nThe expected size of the set $I$, denoted $E[|I|]$, is difficult to compute directly as it depends on the precise graph structure and the specific removal choices. However, a useful lower bound on this expectation can be found. Let $X = |S|$ be the number of candidate sensors chosen in the first stage, and let $Y$ be the number of conflicting edges within $S$. The total number of sensors removed from $S$ is at most $Y$. Thus, the size of the final set is bounded by $|I| \\ge X - Y$. This implies a lower bound on the expected size: $E[|I|] \\ge E[X - Y]$.\n\nYour task is to calculate this lower bound on the expected size. Assume the company sets the selection probability to $p = \\frac{1}{\\Delta+1}$. Determine the value for $E[X-Y]$, finding a general lower bound for this quantity that depends only on $n$ and $\\Delta$, holding for any graph with $n$ vertices and maximum degree $\\Delta$. Express your answer as a single closed-form analytic expression in terms of $n$ and $\\Delta$.", "solution": "Let $G=(V,E)$ be a simple undirected graph on $n$ vertices with maximum degree $\\Delta$. In the candidacy stage, each vertex is included in $S$ independently with probability $p=\\frac{1}{\\Delta+1}$. Define $X=|S|$ and let $Y$ be the number of edges of $G$ whose both endpoints lie in $S$. Since in the conflict resolution stage at most one endpoint is removed for each conflicting edge, the number of removals is at most $Y$, hence $|I| \\ge X - Y$. By linearity of expectation,\n$$\nE[|I|] \\ge E[X - Y] = E[X] - E[Y].\n$$\n\nCompute $E[X]$ using indicator variables. For each $v \\in V$, let $I_{v}$ be the indicator that $v \\in S$. Then $X=\\sum_{v \\in V} I_{v}$ and $E[I_{v}] = p$, so\n$$\nE[X] = \\sum_{v \\in V} E[I_{v}] = \\sum_{v \\in V} p = n p.\n$$\n\nCompute $E[Y]$ similarly. For each edge $e=\\{u,v\\} \\in E$, let $J_{e}$ be the indicator that both $u$ and $v$ are in $S$. Since selections are independent and each endpoint is chosen with probability $p$, we have $E[J_{e}] = p^{2}$. With $m=|E|$,\n$$\nY=\\sum_{e \\in E} J_{e}\n\\quad\\text{and}\\quad\nE[Y] = \\sum_{e \\in E} E[J_{e}] = m p^{2}.\n$$\n\nTherefore,\n$$\nE[X - Y] = n p - m p^{2}.\n$$\nThis depends on $m$, which is not fixed, but the maximum degree bound implies an upper bound on $m$. Since $\\sum_{v \\in V} \\deg(v) = 2m$ and $\\deg(v) \\le \\Delta$ for all $v$,\n$$\n2m = \\sum_{v \\in V} \\deg(v) \\le n \\Delta\n\\quad\\Longrightarrow\\quad\nm \\le \\frac{n \\Delta}{2}.\n$$\nSubstituting this upper bound on $m$ into $E[X - Y]$ yields a uniform lower bound valid for all graphs with maximum degree $\\Delta$:\n$$\nE[X - Y] \\ge n p - \\frac{n \\Delta}{2} p^{2}.\n$$\nWith $p=\\frac{1}{\\Delta+1}$,\n$$\nE[X - Y] \\ge n \\cdot \\frac{1}{\\Delta+1} - \\frac{n \\Delta}{2} \\cdot \\frac{1}{(\\Delta+1)^{2}}\n= \\frac{n(\\Delta+2)}{2(\\Delta+1)^{2}}.\n$$\nThis depends only on $n$ and $\\Delta$ and holds for any graph with maximum degree $\\Delta$.", "answer": "$$\\boxed{\\frac{n(\\Delta+2)}{2(\\Delta+1)^{2}}}$$", "id": "1410205"}]}