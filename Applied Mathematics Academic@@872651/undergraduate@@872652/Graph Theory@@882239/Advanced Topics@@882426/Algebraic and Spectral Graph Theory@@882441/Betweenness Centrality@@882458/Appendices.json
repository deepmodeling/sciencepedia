{"hands_on_practices": [{"introduction": "To build a solid understanding of betweenness centrality, we begin with the most fundamental network structure: a simple line of nodes, known as a path graph. This exercise moves beyond calculating a single value and challenges you to derive a general formula for the centrality of any node in the path [@problem_id:1483222]. By doing so, you will develop a clear intuition for how a node's position along a linear sequence directly determines its importance as a bridge for communication.", "problem": "A path graph $P_n$ consists of $n$ vertices, labeled $v_1, v_2, \\ldots, v_n$, with edges connecting $v_i$ and $v_{i+1}$ for all $i$ from $1$ to $n-1$. The (unnormalized) betweenness centrality of a vertex $v$, denoted $C_B(v)$, measures its importance in the network by counting how many shortest paths pass through it. It is formally defined as:\n$$C_B(v) = \\sum_{\\{s,t\\}} \\frac{\\sigma_{st}(v)}{\\sigma_{st}}$$\nHere, the sum is over all unique unordered pairs of nodes $\\{s,t\\}$ such that $s \\neq v$ and $t \\neq v$. In the formula, $\\sigma_{st}$ is the total number of shortest paths between any two vertices $s$ and $t$, and $\\sigma_{st}(v)$ is the number of those shortest paths that pass through the vertex $v$.\n\nCalculate the unnormalized betweenness centrality of the vertex $v_k$ in the path graph $P_n$, for an arbitrary integer $k$ such that $1 \\le k \\le n$. Express your final answer as an analytic expression in terms of $n$ and $k$.", "solution": "We are given the path graph $P_{n}$ with vertices $v_{1},\\ldots,v_{n}$ and edges $\\{v_{i},v_{i+1}\\}$ for $i=1,\\ldots,n-1$. The betweenness centrality for $v_{k}$ is calculated by summing contributions over all unordered pairs $\\{s,t\\}$ not including $v_k$.\n\nFirst, $P_{n}$ is a tree, hence for any distinct $s,t\\in V$ there is exactly one simple (and thus shortest) path between them. Therefore,\n$$\n\\sigma_{st}=1 \\quad \\text{for all } s\\neq t.\n$$\nConsequently, the fraction $\\frac{\\sigma_{st}(v_{k})}{\\sigma_{st}}$ is either 1 (if the path passes through $v_k$) or 0 (if it does not). The sum reduces to counting the number of unordered pairs $\\{s,t\\}$, with $s, t \\neq v_k$, for which the unique shortest path between $s$ and $t$ passes through $v_k$.\n\nIn a path graph, the unique path from $s$ to $t$ passes through $v_{k}$ if and only if $s$ and $t$ lie on opposite sides of $v_{k}$. Let the vertex labels correspond to their indices. The set of vertices to the \"left\" of $v_k$ is $L=\\{v_1, v_2, \\ldots, v_{k-1}\\}$ and the set of vertices to the \"right\" is $R=\\{v_{k+1}, v_{k+2}, \\ldots, v_n\\}$.\nThe sizes of these sets are $|L|=k-1$ and $|R|=n-k$.\n\nFor the path between a pair $\\{s,t\\}$ to pass through $v_k$, one vertex must be in set $L$ and the other must be in set $R$. The number of ways to choose one vertex from $L$ and one vertex from $R$ is $|L| \\times |R|$. Each such pair contributes 1 to the centrality score.\n\nTherefore, the betweenness centrality is:\n$$\nC_{B}(v_{k}) = |L| \\times |R| = (k-1)(n-k).\n$$\nThis expression correctly yields $0$ at the endpoints ($k=1$ or $k=n$) and is maximized at the center of the path, as expected.", "answer": "$$\\boxed{(k-1)\\,(n-k)}$$", "id": "1483222"}, {"introduction": "Next, we increase the complexity from a one-dimensional path to a two-dimensional grid, which serves as a model for many real-world networks like street layouts or processor connections. This practice focuses on the most connected node—the one at the very center—and requires a more sophisticated approach to counting shortest paths [@problem_id:1483203]. You'll see how leveraging the graph's symmetry is a powerful strategy for managing the combinatorial calculations and appreciating the dramatic rise in centrality for well-positioned nodes.", "problem": "Consider a small communication network modeled as a graph. The network consists of 9 nodes arranged in a 3x3 grid. A node can communicate directly only with its immediate neighbors (nodes that are horizontally or vertically adjacent). The distance between any two nodes is defined as the number of direct communication links in the shortest path connecting them.\n\nTo assess the importance of a node in routing information, we use the measure of betweenness centrality. The unnormalized betweenness centrality of a node $v$ is defined as:\n$$C_B(v) = \\sum_{\\{s,t\\}} \\frac{\\sigma_{st}(v)}{\\sigma_{st}}$$\nwhere the sum is over all unique unordered pairs of nodes $\\{s,t\\}$ in the graph such that $s \\neq v$ and $t \\neq v$. In this formula, $\\sigma_{st}$ is the total number of shortest paths between nodes $s$ and $t$, and $\\sigma_{st}(v)$ is the number of those shortest paths that pass through node $v$.\n\nCalculate the unnormalized betweenness centrality for the single node located at the exact center of the 3x3 grid. Express your answer as a simplified fraction.", "solution": "Label the grid nodes by coordinates $(i,j)$ with $i,j \\in \\{1,2,3\\}$ and let the center be $v=(2,2)$. The distance is Manhattan: for nodes $x=(i_{x},j_{x})$ and $y=(i_{y},j_{y})$, $d(x,y)=|i_{x}-i_{y}|+|j_{x}-j_{y}|$. For $s,t$ with horizontal difference $d_{x}=|i_{s}-i_{t}|$ and vertical difference $d_{y}=|j_{s}-j_{t}|$, the number of shortest $s$–$t$ paths is\n$$\n\\sigma_{st}=\\binom{d_{x}+d_{y}}{d_{x}}.\n$$\nThe center $v$ lies on some shortest $s$–$t$ path if and only if $d(s,v)+d(v,t)=d(s,t)$, which holds precisely when $v$ lies in the axis-aligned rectangle with corners $s$ and $t$. In that case, the number of shortest $s$–$t$ paths through $v$ is\n$$\n\\sigma_{st}(v)=\\sigma_{sv}\\,\\sigma_{vt}.\n$$\nWe sum $\\sigma_{st}(v)/\\sigma_{st}$ over all unordered pairs $\\{s,t\\}$ of the $8$ non-center nodes. By symmetry, classify the nodes into edge centers $E=\\{(1,2),(2,1),(2,3),(3,2)\\}$ and corners $C=\\{(1,1),(1,3),(3,1),(3,3)\\}$, and partition the pairs into $E$–$E$, $C$–$C$, and $E$–$C$.\n\n1) $E$–$E$ pairs: There are $\\binom{4}{2}=6$ pairs. Two are opposite across $v$: $(1,2)$–$(3,2)$ and $(2,1)$–$(2,3)$. For each, $d=2$, $\\sigma_{st}=1$, and the unique shortest path passes through $v$, so each contributes $1$. The remaining four pairs are perpendicular, e.g., $(1,2)$–$(2,1)$, with $d=2$, $\\sigma_{st}=\\binom{2}{1}=2$, $\\sigma_{sv}=1$, $\\sigma_{vt}=1$, hence contribution $\\sigma_{sv}\\sigma_{vt}/\\sigma_{st}=1/2$ each. Thus\n$$\n\\text{sum over }E\\text{–}E = 2\\cdot 1 + 4\\cdot \\frac{1}{2} = 4.\n$$\n\n2) $C$–$C$ pairs: There are $\\binom{4}{2}=6$ pairs. Two are opposite diagonals: $(1,1)$–$(3,3)$ and $(1,3)$–$(3,1)$. For each, $d_{x}=2$, $d_{y}=2$, so $\\sigma_{st}=\\binom{4}{2}=6$. Also $d(s,v)=2$ with $\\sigma_{sv}=\\binom{2}{1}=2$, and $d(v,t)=2$ with $\\sigma_{vt}=2$, giving $\\sigma_{st}(v)=4$ and contribution $4/6=2/3$ each. The remaining four pairs share a row or column (e.g., $(1,1)$–$(1,3)$), for which $v$ is not in the rectangle and the contribution is $0$. Thus\n$$\n\\text{sum over }C\\text{–}C = 2\\cdot \\frac{2}{3} = \\frac{4}{3}.\n$$\n\n3) $E$–$C$ pairs: There are $4\\cdot 4=16$ pairs. For a given corner, say $(1,1)$, the pairs with adjacent edges $(1,2)$ and $(2,1)$ have $d=1$ and give zero contribution. The pairs with the opposite edges $(3,2)$ and $(2,3)$ have $d_{x}+d_{y}=3$ with $(d_{x},d_{y})$ equal to $(2,1)$ or $(1,2)$, so $\\sigma_{st}=\\binom{3}{2}=3$, while $\\sigma_{sv}=\\binom{2}{1}=2$ and $\\sigma_{vt}=\\binom{1}{1}=1$, giving contribution $2/3$ each. By symmetry this holds for each corner, so there are $8$ contributing $E$–$C$ pairs at $2/3$ and $8$ at $0$, hence\n$$\n\\text{sum over }E\\text{–}C = 8\\cdot \\frac{2}{3} = \\frac{16}{3}.\n$$\n\nAdding all contributions gives\n$$\nC_{B}(v) = 4 + \\frac{4}{3} + \\frac{16}{3} = \\frac{12+4+16}{3} = \\frac{32}{3}.\n$$\nThis is the unnormalized betweenness centrality of the center node for unordered distinct pairs.", "answer": "$$\\boxed{\\frac{32}{3}}$$", "id": "1483203"}, {"introduction": "Finally, we explore a different but equally important network topology: the bipartite graph, which models connections between two distinct sets of entities. In this problem, you will calculate the centrality of a node in a complete bipartite graph $K_{2,3}$ [@problem_id:1483194]. This exercise highlights how betweenness centrality quantifies the crucial role of nodes that act as intermediaries, connecting otherwise disconnected groups within a network.", "problem": "Consider a simple, unweighted graph representing a small communication network. The network has five nodes, which are partitioned into two disjoint sets: a set $U = \\{u_1, u_2\\}$ and a set $W = \\{v_1, v_2, v_3\\}$. An edge exists between any node in $U$ and any node in $W$. No edges exist between any two nodes that are both in $U$ or both in $W$. This structure corresponds to a complete bipartite graph, denoted as $K_{2,3}$.\n\nThe betweenness centrality of a node is a measure of its importance for the flow of information through the network. For a node $v$, its betweenness centrality, $C_B(v)$, is defined as:\n$$C_B(v) = \\sum_{\\{s,t\\}} \\frac{\\sigma_{st}(v)}{\\sigma_{st}}$$\nwhere the sum is over all unique unordered pairs of nodes $\\{s,t\\}$ in the graph such that $s \\neq v$ and $t \\neq v$. In this formula, $\\sigma_{st}$ is the total number of shortest paths between node $s$ and node $t$, and $\\sigma_{st}(v)$ is the number of those shortest paths that pass through node $v$.\n\nCalculate the betweenness centrality of the node $u_1$. Express your answer as a single fraction in simplest form.", "solution": "The graph is the complete bipartite graph $K_{2,3}$ with parts $U=\\{u_{1},u_{2}\\}$ and $W=\\{v_{1},v_{2},v_{3}\\}$, with all edges between $U$ and $W$ and none within a part. The betweenness centrality for $u_{1}$ is\n$$\nC_{B}(u_{1})=\\sum_{\\{s,t\\}} \\frac{\\sigma_{st}(u_{1})}{\\sigma_{st}},\n$$\nwhere the sum is over all unordered pairs $\\{s,t\\}$ with $s\\neq u_{1}$ and $t\\neq u_{1}$. Excluding $u_{1}$, the remaining nodes are $\\{u_{2},v_{1},v_{2},v_{3}\\}$, giving $\\binom{4}{2}=6$ pairs. Partition these pairs into types and compute contributions.\n\n1) Pairs of the form $\\{u_{2},v_{k}\\}$ for $k\\in\\{1,2,3\\}$: The shortest path length is $1$ (edge $u_{2}v_{k}$), so $\\sigma_{u_{2}v_{k}}=1$, and no shortest path passes through $u_{1}$, hence $\\sigma_{u_{2}v_{k}}(u_{1})=0$. Each such pair contributes $0$.\n\n2) Pairs of the form $\\{v_{i},v_{j}\\}$ with $i\\neq j$: Any shortest path has length $2$ and must go through a node in $U$. There are exactly two shortest paths, one via $u_{1}$ and one via $u_{2}$, so $\\sigma_{v_{i}v_{j}}=2$ and $\\sigma_{v_{i}v_{j}}(u_{1})=1$. Each such pair contributes $\\frac{1}{2}$. There are $\\binom{3}{2}=3$ such pairs, so their total contribution is $3\\cdot \\frac{1}{2}=\\frac{3}{2}$.\n\nSumming all contributions gives\n$$\nC_{B}(u_{1})=\\frac{3}{2}.\n$$", "answer": "$$\\boxed{\\frac{3}{2}}$$", "id": "1483194"}]}