{"hands_on_practices": [{"introduction": "时序电路的核心在于其状态以及在输入信号驱动下状态之间的转换规则。理解和预测电路行为的第一步，就是能够根据给定的输入序列，一步步追踪系统的状态演化。本练习 [@problem_id:2073892] 将引导你完成这一基本功的训练，通过分析一个假设的三稳态基因模块，来精确预测其在一系列化学信号作用下的最终命运。", "problem": "一个合成生物学研究团队正在一种细菌内部设计一个基因时序电路。该电路被称为“三稳态记忆模块”(Tri-stable Memory Module)，其设计旨在响应一系列化学输入。电路的状态决定了细菌将产生哪种蛋白质（如果有的话）。该模块可以存在于三种离散状态之一：\n\n1.  **OFF**：基线状态，不产生特定的输出蛋白。模块在初始创建时始终处于此状态。\n2.  **PRIMED**：由初始信号触发的中间状态。在此状态下，细胞会产生一种瞬时的、无功能的标记肽，但不会产生最终的输出蛋白。\n3.  **ON**：完全激活的状态，细胞在此状态下稳定地产生所需的功​​能性蛋白（例如酶或荧光标记物）。\n\n这些状态之间的转换由向细胞环境中添加三种不同的、不相互作用的化学信号来控制。该电路一次处理一个信号，其状态转换是根据当前状态和当前输入信号确定的。其逻辑如下：\n\n*   **从 OFF 状态的转换：**\n    *   输入 `Signal-X` 会导致转换到 `PRIMED` 状态。\n    *   输入 `Signal-Y` 或 `Reset-Z` 不会引起变化，状态保持为 `OFF`。\n\n*   **从 PRIMED 状态的转换：**\n    *   输入 `Signal-Y` 会导致转换到 `ON` 状态。\n    *   输入 `Signal-X` 不会引起变化，状态保持为 `PRIMED`。\n    *   输入 `Reset-Z` 会导致转换到 `OFF` 状态。\n\n*   **从 ON 状态的转换：**\n    *   输入 `Reset-Z` 会导致转换到 `OFF` 状态。\n    *   输入 `Signal-X` 或 `Signal-Y` 不会引起变化，状态保持为 `ON`。\n\n一个含有该电路的新鲜细菌培养物被制备好，这意味着所有电路最初都处于 `OFF` 状态。然后，该培养物按指定顺序，依次接受以下信号序列：\n\n`Signal-X`, `Signal-X`, `Signal-Y`, `Reset-Z`, `Signal-X`, `Signal-Y`\n\n在处理完这一整个信号序列后，三稳态记忆模块的最终状态是什么？\n\nA. OFF\n\nB. PRIMED\n\nC. ON\n\nD. 状态在 PRIMED 和 ON 之间振荡。\n\nE. 如果不知道信号浓度，则无法确定最终状态。", "solution": "我们将该模块建模为一个初始状态为 OFF 的确定性有限状态机。允许的状态转换如下：\n- 从 OFF 状态：Signal-X 导致进入 PRIMED 状态；Signal-Y 或 Reset-Z 不导致变化（保持 OFF 状态）。\n- 从 PRIMED 状态：Signal-Y 导致进入 ON 状态；Signal-X 不导致变化（保持 PRIMED 状态）；Reset-Z 导致进入 OFF 状态。\n- 从 ON 状态：Reset-Z 导致进入 OFF 状态；Signal-X 或 Signal-Y 不导致变化（保持 ON 状态）。\n\n从 OFF 状态开始，按顺序处理给定的序列。\n\n1) 输入：Signal-X，当前状态：OFF。根据从 OFF 状态接收 Signal-X 的规则，下一个状态为 PRIMED。\n状态变为 PRIMED。\n\n2) 输入：Signal-X，当前状态：PRIMED。根据从 PRIMED 状态接收 Signal-X 的规则，状态无变化。\n状态保持为 PRIMED。\n\n3) 输入：Signal-Y，当前状态：PRIMED。根据从 PRIMED 状态接收 Signal-Y 的规则，下一个状态为 ON。\n状态变为 ON。\n\n4) 输入：Reset-Z，当前状态：ON。根据从 ON 状态接收 Reset-Z 的规则，下一个状态为 OFF。\n状态变为 OFF。\n\n5) 输入：Signal-X，当前状态：OFF。根据从 OFF 状态接收 Signal-X 的规则，下一个状态为 PRIMED。\n状态变为 PRIMED。\n\n6) 输入：Signal-Y，当前状态：PRIMED。根据从 PRIMED 状态接收 Signal-Y 的规则，下一个状态为 ON。\n状态变为 ON。\n\n因此，在处理完整个序列后，最终状态为 ON，对应选项 C。状态转换是确定性的，不依赖于信号浓度，因此最终状态是唯一确定的。", "answer": "$$\\boxed{C}$$", "id": "2073892"}, {"introduction": "在合成生物学中，时机至关重要。当两个或多个过程被同一信号同时触发时，哪个过程率先完成，往往决定了细胞的最终状态。本练习 [@problem_id:2073919] 介绍了一个关键概念——“竞争条件”(race condition)，通过一个巧妙的思想实验，展示了分子动力学上的微小时间差异如何导致确定性的、但并非显而易见的细胞决策。", "problem": "一名合成生物学家在一种细菌中设计了一个基因“决策”电路。该电路旨在选择两种可能状态之一，这两种状态由两种荧光蛋白之一的表达来表示：绿色荧光蛋白（GFP）或红色荧光蛋白（RFP）。\n\n该电路由两个操纵子组成，排列成相互抑制的“拨动开关”结构：\n1.  **绿色操纵子**：包含GFP的基因和一个阻遏蛋白Repressor-R的基因。该操纵子的表达由启动子Promoter-G控制。\n2.  **红色操纵子**：包含RFP的基因和一个阻遏蛋白Repressor-G的基因。该操纵子的表达由启动子Promoter-R控制。\n\n阻遏蛋白的功能如下：\n-   由绿色操纵子产生的Repressor-R，结合并失活启动子Promoter-R。\n-   由红色操纵子产生的Repressor-G，结合并失活启动子Promoter-G。\n\n启动子Promoter-G和Promoter-R最初都处于“关闭”状态，但被设计为通过添加相同的外部化学诱导剂Signal-I而被激活。一旦Signal-I被添加到细胞培养物中，两个启动子会同时被激活，从而引发两个操纵子之间的一场“竞赛”。\n\n我们将每条通路的“锁定时间”定义为：从添加Signal-I开始，到该通路的阻遏蛋白达到足以完全且不可逆地关闭一个相对启动子分子的浓度所经过的总时间。由于密码子使用偏好和蛋白质折叠动力学的差异，这些时间对于每条通路是不同的。\n\n-   绿色通路的锁定时间（产生足够的Repressor-R）为 $T_{Green} = 18.5$ 分钟。\n-   红色通路的锁定时间（产生足够的Repressor-G）为 $T_{Red} = 16.0$ 分钟。\n\n如果一个包含该电路的相同细胞培养物被培养，并在时间 $t=0$ 时引入Signal-I，那么这些细胞稳定、长期的可观察荧光状态会是什么？\n\nA) 细胞将只表达GFP并呈现绿色。\n\nB) 细胞将只表达RFP并呈现红色。\n\nC) 细胞将同时表达GFP和RFP，呈现黄色/橙色。\n\nD) 细胞将不会表达任何一种荧光蛋白。\n\nE) 结果不可预测；培养物将包含绿色细胞和红色细胞的随机混合物。", "solution": "将 $T_{Green}$ 定义为从 $t=0$（添加Signal-I）时刻起，直到绿色操纵子产生足够的Repressor-R来关闭Promoter-R所需的时间；将 $T_{Red}$ 定义为红色操纵子产生足够的Repressor-G来关闭Promoter-G所需的相应时间。根据设计，两个启动子在 $t=0$ 时同时被激活，开始各自阻遏蛋白的生产。\n\n相互抑制拨动开关的关键原理是：一旦某个阻遏蛋白首先达到其阈值浓度，它就会结合并关闭相对的启动子。这会终止相对阻遏蛋白的进一步产生，从而巩固最初的胜利者，并建立一个一个操纵子开启而另一个关闭的稳定吸收态。因此，结果由锁定时间之间的不等关系决定：\n如果 $T_{Red}  T_{Green}$，则 Repressor-G 首先关闭 Promoter-G $\\Rightarrow$ Promoter-G 关闭，红色状态开启。\n如果 $T_{Green}  T_{Red}$，则 Repressor-R 首先关闭 Promoter-R $\\Rightarrow$ Promoter-R 关闭，绿色状态开启。\n\n根据给定的数值，我们有 $T_{Red}  T_{Green}$。因此，红色通路首先锁定，在Repressor-R能够达到其自身阈值之前，Repressor-G就关闭了Promoter-G，系统于是稳定在表达RFP且GFP被沉默的红色状态。由于培养物由在相同确定性时序下的相同细胞组成，其稳定、长期的可观察状态在整个培养物中将完全是红色。", "answer": "$$\\boxed{B}$$", "id": "2073919"}, {"introduction": "除了简单的记忆功能，时序电路还能执行计数等计算任务。本练习 [@problem_id:2073923] 挑战你像电路设计师一样思考，将一个现有的功能模块（加法计数器）通过修改其内部“连线”，来实现一种全新的功能（减法计数器）。这个过程清晰地展示了，简单组件之间连接方式的改变，是如何创造出复杂多样的系统行为的。", "problem": "在一个合成生物学项目中，一个团队正在设计一种细菌来管理有限资源的消耗。他们设计了一个基因电路，用作一个2位倒计时器。该计时器应从代表资源单元总数的状态开始，并在每次消耗一个资源单元时减一。每消耗一个单元，一个名为`PULSE`的细胞内信号会从低电平（LOW）变为高电平（HIGH），然后再回到低电平。\n\n计时器的核心由两个相同的基因模块`FF0`（用于最低有效位，LSB）和`FF1`（用于最高有效位，MSB）构成。这些模块的行为与下降沿触发的T型触发器完全相同。下降沿触发的触发器仅在其时钟（CLK）输入从高电平信号转换到低电平信号的精确时刻改变其输出状态。T型触发器被设置为“翻转”模式，这意味着只要其T输入保持高电平，其输出Q将在一个有效的时钟沿上翻转到相反的状态（从低电平到高电平，或从高电平到低电平）。每个模块都有一个标准输出 `Q` 和一个反相输出 `Q_bar`。\n\n最初的设计，作为一个原型，被接线成一个2位异步加法计数器：\n1.  `PULSE`信号连接到`FF0`的CLK输入端。\n2.  `FF0`的标准输出`Q_0`连接到`FF1`的CLK输入端。\n3.  `FF0`和`FF1`的T输入端都永久保持高电平。\n4.  计数器的状态从输出端 (`Q_1`, `Q_0`) 读取。\n\n这个电路错误地进行加法计数：00 - 01 - 10 - 11 - 00。为了修正这个问题并创建所需的减法计数器（例如，序列为 11 - 10 - 01 - 00），必须进行一个单一的接线修改。以下哪项更改将正确地将电路转换为2位异步减法计数器？\n\nA. `FF1`的CLK输入端应连接到`FF0`的反相输出（`Q_bar_0`），而不是标准输出（`Q_0`）。\n\nB. `PULSE`信号应连接到`FF1`的CLK输入端，而输出`Q_1`应连接到`FF0`的CLK输入端。\n\nC. `FF1`的T输入端应连接到`FF0`的反相输出（`Q_bar_0`），而不是保持高电平。\n\nD. `FF0`和`FF1`的CLK输入端都应直接连接到`PULSE`信号。\n\nE. 标准输出`Q_0`应连接到`FF1`的T输入端，同时`PULSE`信号连接到`FF1`的CLK输入端。", "solution": "题目要求我们找出将一个使用下降沿触发T型触发器构成的2位异步加法计数器转换为减法计数器的单一接线更改。让我们将低电平状态表示为0，高电平状态表示为1。计数器状态由元组 $(Q_1, Q_0)$ 给出。\n\n首先，我们来分析初始加法计数器电路的行为。\n触发器是下降沿触发的，这意味着当它们各自的时钟（CLK）输入从1转换到0时，其输出会翻转。两个T输入都保持为1，因此它们始终处于翻转模式。\n\n-   **触发器 FF0 (LSB):** 其时钟输入是 `PULSE` 信号。对于每个完整的脉冲周期（0 - 1 - 0），都有一个下降沿（1 - 0）。因此，$Q_0$ 在每个脉冲上都会翻转。其序列为 0, 1, 0, 1, ...\n\n-   **触发器 FF1 (MSB):** 其时钟输入连接到 $Q_0$。它仅在其时钟输入 $Q_0$ 经历下降沿（从1转换到0）时才会翻转。\n\n让我们从 (0, 0) 开始追踪状态转换 $(Q_1, Q_0)$：\n1.  **初始状态：** $(Q_1, Q_0) = (0, 0)$。\n2.  **脉冲 1：** `PULSE` 从 1 - 0。$Q_0$ 从 0 翻转到 1。$Q_0$ 产生了一个 0 - 1 的转换（上升沿），所以 $Q_1$ 不翻转。新状态为 (0, 1)。\n3.  **脉冲 2：** `PULSE` 从 1 - 0。$Q_0$ 从 1 翻转到 0。$Q_0$ 产生了一个 1 - 0 的转换（下降沿），所以 $Q_1$ 从 0 翻转到 1。新状态为 (1, 0)。\n4.  **脉冲 3：** `PULSE` 从 1 - 0。$Q_0$ 从 0 翻转到 1。$Q_0$ 产生了一个 0 - 1 的转换，所以 $Q_1$ 不翻转。新状态为 (1, 1)。\n5.  **脉冲 4：** `PULSE` 从 1 - 0。$Q_0$ 从 1 翻转到 0。$Q_0$ 产生了一个 1 - 0 的转换，所以 $Q_1$ 从 1 翻转到 0。新状态为 (0, 0)。\n\n序列为 $00 \\rightarrow 01 \\rightarrow 10 \\rightarrow 11 \\rightarrow 00$，对应于加法计数：0, 1, 2, 3, 0。这证实了初始电路是一个加法计数器。\n\n现在，我们来确定减法计数器所需的行为。序列应该是 $00 \\rightarrow 11 \\rightarrow 10 \\rightarrow 01 \\rightarrow 00$（或者，从满计数3开始，$11 \\rightarrow 10 \\rightarrow 01 \\rightarrow 00$）。\n让我们从状态 (1, 1) 开始追踪所需的序列：\n-   **起始状态：** $(Q_1, Q_0) = (1, 1)$。\n-   **脉冲 1：** `PULSE` 时钟使 $Q_0$ 翻转为 0。所需下一状态为 (1, 0)。这意味着 $Q_1$ 不应翻转。\n-   **脉冲 2：** `PULSE` 时钟使 $Q_0$ 翻转为 1。所需下一状态为 (0, 1)。这意味着 $Q_1$ 必须从 1 翻转到 0。\n-   **脉冲 3：** `PULSE` 时钟使 $Q_0$ 翻转为 0。所需下一状态为 (0, 0)。这意味着 $Q_1$ 不应翻转。\n-   **脉冲 4：** `PULSE` 时钟使 $Q_0$ 翻转为 1。所需下一状态为 (1, 1)（如果我们从0循环回来）。这意味着 $Q_1$ 必须从 0 翻转到 1。\n\n通过此分析，我们可以看出减法计数器的规则：每当 $Q_0$ 从 0 转换到 1 时，$Q_1$ 必须翻转。\n触发器 `FF1` 是下降沿触发的，因此需要其CLK输入上有一个 1 - 0 的转换才能翻转。我们需要找到一个在 $Q_0$ 发生 0 - 1 转换时能提供 1 - 0 转换的信号。\n让我们考虑 `FF0` 的反相输出 `Q_bar_0`。根据定义，`Q_bar_0` 是 $Q_0$ 的逻辑反。\n-   当 $Q_0$ 从 0 转换到 1 时，`Q_bar_0` 从 1 转换到 0。\n这正是为实现减法计数而在正确时刻为 `FF1` 提供时钟所需的下降沿信号。\n因此，正确的修改是将 `FF1` 的 CLK 输入与 $Q_0$ 断开，并将其连接到 `Q_bar_0`。这对应于选项 A。\n\n让我们简要分析一下为什么其他选项是错误的：\n-   **B：** 颠倒触发器的顺序（`PULSE` - `FF1`，`Q_1` - `FF0`）只会使 $Q_1$ 成为 LSB，而 $Q_0$ 成为 MSB，但就其操作 $(Q_0, Q_1)$ 而言，它仍然是一个加法计数器。\n-   **C：** 将 `FF1` 的 T 输入连接到 `Q_bar_0`。这意味着 `FF1` 仅当其时钟沿到达时 `Q_bar_0` 为高电平（即 $Q_0$ 为低电平）时才会翻转。它的时钟仍然是 $Q_0$，当 $Q_0$ 从 1-0 时会产生一个下降沿。在那一刻，`Q_bar_0` 是 0，所以 T 输入将是低电平，`FF1` 将永远不会翻转。计数器会卡住。\n-   **D：** 将两个 CLK 输入都连接到 `PULSE` 会创建一个同步计数器。由于两个 T 输入都为高电平，所以 $Q_0$ 和 $Q_1$ 都会在每个脉冲上翻转。序列将是 $00 \\rightarrow 11 \\rightarrow 00 \\rightarrow 11 ...$，这不是一个减法计数器。\n-   **E：** 这描述了一种不同的、更复杂的电路配置，不对应于标准的加法或减法计数器。\n\n因此，唯一正确的修改是使用前一级的反相输出来为下一级提供时钟。", "answer": "$$\\boxed{A}$$", "id": "2073923"}]}