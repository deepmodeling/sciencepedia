{"hands_on_practices": [{"introduction": "The most fundamental question in the Gambler's Ruin problem is determining the chance of ultimate failure. This exercise provides a foundational practice by guiding you to derive the probability of ruin for the general case where the game is not necessarily fair ($p \\neq q$). The method involves setting up and solving a linear difference equation, which is a powerful and widely applicable technique for analyzing sequential processes [@problem_id:7899].", "problem": "Consider a simplified betting game known as the Gambler's Ruin. A gambler starts with an initial fortune of $i$ integer units of currency. The gambler plays a sequence of rounds against a house. In each round, the gambler wagers one unit. They win one unit with a constant probability $p$, and lose one unit with a probability $q=1-p$.\n\nThe gambler has a predetermined goal: to reach a total fortune of $N$ units, where $N  i  0$. The game terminates if the gambler's fortune reaches $N$ (success) or if it drops to $0$ (ruin). Let $P_i$ denote the probability that the gambler is eventually ruined, given they start with a fortune of $i$ units.\n\nAssuming that the probability of winning a round is not equal to the probability of losing a round (i.e., $p \\neq q$), derive the general expression for the probability of ruin, $P_i$, as a function of their initial fortune $i$, the target fortune $N$, the win probability $p$, and the loss probability $q$.", "solution": "We denote by $P_i$ the probability of eventual ruin starting from fortune $i$, with $P_0=1$ and $P_N=0$.  In one step the gambler moves to $i+1$ with probability $p$ and to $i-1$ with probability $q=1-p$, so the recursion is\n$$\nP_i \\;=\\; p\\,P_{i+1} \\;+\\; q\\,P_{i-1},\\qquad i=1,2,\\dots,N-1.\n$$\nRearrange to homogeneous form:\n$$\np\\,P_{i+1}-P_i+q\\,P_{i-1}=0.\n$$\nAssume a solution of the form $P_i=r^i$.  The characteristic equation is\n$$\np\\,r^2 - r + q = 0,\n$$\nwhose roots are $r=1$ and $r=\\frac{q}{p}$.  Hence the general solution is\n$$\nP_i \\;=\\; A + B\\Bigl(\\tfrac{q}{p}\\Bigr)^{i}.\n$$\nApply the boundary conditions:\n\n$$\nP_0=A+B=1,\n\\qquad\nP_N=A+B\\Bigl(\\tfrac{q}{p}\\Bigr)^{N}=0.\n$$\n\nSubtracting gives \n$$\nB\\Bigl(1-\\bigl(\\tfrac{q}{p}\\bigr)^N\\Bigr)=1\n\\;\\Longrightarrow\\;\nB=\\frac{1}{1-(q/p)^N},\n\\quad\nA=1-B=\\frac{-\\,(q/p)^N}{1-(q/p)^N}.\n$$\nTherefore\n$$\nP_i\n=\\;A + B\\Bigl(\\tfrac{q}{p}\\Bigr)^i\n=\\frac{(q/p)^i - (q/p)^N}{1 - (q/p)^N}.\n$$", "answer": "$$\\boxed{\\frac{\\bigl(\\tfrac{q}{p}\\bigr)^{i}-\\bigl(\\tfrac{q}{p}\\bigr)^{N}}{1-\\bigl(\\tfrac{q}{p}\\bigr)^{N}}}$$", "id": "7899"}, {"introduction": "Beyond the probability of winning or losing, another critical aspect of the Gambler's Ruin problem is understanding how long the game is expected to last. This practice focuses on deriving the expected number of plays until the game ends, specifically for the balanced scenario of a fair game ($p = q = 1/2$). Solving this problem reveals a surprisingly simple and elegant quadratic relationship between the gambler's starting fortune and the expected duration of the game [@problem_id:7857].", "problem": "A gambler starts with an initial fortune of $i$ integer units of money. The gambler plays a series of games. The objective is to reach a total fortune of $N$ units, where $N  i  0$. The game stops if the gambler's fortune reaches $N$ (a win) or $0$ (ruin).\n\nIn each game, a fair coin is tossed. If it's heads, the gambler wins $1$ unit. If it's tails, the gambler loses $1$ unit. Let $p$ be the probability of winning a game and $q$ be the probability of losing a game. For a fair coin, $p = q = \\frac{1}{2}$.\n\nLet $E_i$ represent the expected number of games that will be played until the game ends (either by ruin or by reaching the target fortune $N$), given the gambler's initial fortune is $i$.\n\nThe expected number of games $E_i$ for $0  i  N$ can be related to the expected number of games from adjacent states by considering the outcome of the very next game. After one game (which adds $1$ to the total game count), the gambler's fortune becomes $i+1$ with probability $p$ or $i-1$ with probability $q$. Therefore, the expected number of *additional* games from this new state is $E_{i+1}$ or $E_{i-1}$, respectively. This leads to the recurrence relation:\n$$E_i = 1 + p E_{i+1} + q E_{i-1}$$\nIf the gambler's fortune is $0$ or $N$, the game has already ended, so no more games are played. The boundary conditions are therefore $E_0 = 0$ and $E_N = 0$.\n\nDerive the expression for $E_i$ in terms of the initial fortune $i$ and the target fortune $N$ for the case of a fair coin.", "solution": "We have for $0iN$ the recurrence from one step of the fair game:\n$$E_i = 1 + \\tfrac12 E_{i+1} + \\tfrac12 E_{i-1}.$$\nMultiply by 2:\n$$2E_i = 2 + E_{i+1} + E_{i-1}\n\\quad\\Longrightarrow\\quad\nE_{i+1}-2E_i+E_{i-1} = -2.$$\nThe homogeneous solution is\n$$E_i^{(h)} = A + Bi.$$\nA particular solution of the form $Ci^2$ leads to $C(i+1)^2 - 2Ci^2 + C(i-1)^2 = -2$, which means $2C=-2$, so $C=-1$.\nHence the general solution is\n$$E_i = A + Bi - i^2.$$\nApply the boundary conditions $E_0=0$ and $E_N=0$:\n$$E_0 = A = 0,\\qquad E_N = BN - N^2 = 0\\;\\Rightarrow\\;B=N.$$\nTherefore\n$$E_i = N i - i^2 = i\\,(N - i).$$", "answer": "$$\\boxed{i(N - i)}$$", "id": "7857"}, {"introduction": "This practice explores the intriguing and practical scenario where a gambler faces an opponent with seemingly infinite resources, a common model for an individual versus a large institution like a casino or the stock market. By removing the upper \"success\" boundary and analyzing the random walk on a semi-infinite line, you can calculate the ultimate probability of ruin. This problem reveals a profound insight: even against an infinitely rich adversary, a player with a statistical edge ($p  q$) has a non-zero chance of never going bankrupt, a cornerstone concept in risk analysis and probability theory [@problem_id:7854].", "problem": "A particle performs a random walk on the non-negative integers $\\{0, 1, 2, \\dots\\}$. The particle starts at an initial position $i$, where $i$ is a positive integer.\n\nAt each discrete time step, the particle's position changes according to the following rules:\n- It moves one step to the right (from position $k$ to $k+1$) with probability $p$.\n- It moves one step to the left (from position $k$ to $k-1$) with probability $q$, where $q = 1-p$.\n\nThe game is considered \"favorable\" for movement to the right, meaning that $p  q$. The position $k=0$ is an absorbing barrier. Once the particle reaches position 0, the process stops. This event is analogous to \"ruin\" in a gambling context. There is no other boundary; the particle can move arbitrarily far to the right.\n\nLet $P_i$ be the probability that the particle, starting from position $i$, will eventually reach the origin at $k=0$. Derive a closed-form expression for $P_i$ in terms of the initial position $i$ and the probabilities $p$ and $q$.", "solution": "We seek $P_k=\\Pr\\{\\text{hit 0 eventually}\\mid\\text{start at }k\\}$ for $k\\ge0$.  Clearly $P_0=1$, and as $k\\to\\infty$ drift is to the right ($pq$), so $P_k$ remains bounded and $\\lim_{k\\to\\infty}P_k=0$.\n\nBy conditioning on the first step for $k\\ge1$, we have the recurrence\n$$\nP_k = p\\,P_{k+1} + q\\,P_{k-1},\n\\quad p+q=1.\n$$\n\nThis is a homogeneous linear difference equation.  Its characteristic equation is\n$$\nr = p\\,r^2 + q\n\\;\\Longrightarrow\\;\np\\,r^2 - r + q = 0\n\\;\\Longrightarrow\\;\nr = \\frac{1\\pm\\sqrt{1-4pq}}{2p}\n=\\frac{1\\pm(p-q)}{2p}.\n$$\nHence the roots are\n$$\nr_1 = 1,\\quad r_2 = \\frac{q}{p}.\n$$\nThus the general solution is\n$$\nP_k = A\\cdot1^k + B\\Bigl(\\frac{q}{p}\\Bigr)^k = A + B\\Bigl(\\frac{q}{p}\\Bigr)^k.\n$$\n\nImpose boundary conditions:\n1. $P_0=1$ gives $A+B=1$.\n2. $\\lim_{k\\to\\infty}P_k=0$ forces $A=0$ (since $|q/p|1$ for $pq$).\n\nThus $A=0$, $B=1$, and for initial position $i$,\n$$\nP_i = \\Bigl(\\frac{q}{p}\\Bigr)^i.\n$$", "answer": "$$\\boxed{\\left(\\frac{q}{p}\\right)^i}$$", "id": "7854"}]}