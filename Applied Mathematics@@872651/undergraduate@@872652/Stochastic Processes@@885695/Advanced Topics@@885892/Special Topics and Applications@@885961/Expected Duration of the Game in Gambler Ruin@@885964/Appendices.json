{"hands_on_practices": [{"introduction": "The simplest version of the Gambler's Ruin problem is the fair game, where each step has an equal chance of moving up or down. A natural question to ask is how the expected length of the game changes if we scale up the system. This exercise [@problem_id:1301315] provides a powerful insight into this relationship by exploring what happens when both the total capital and the starting capital are doubled, revealing a fundamental scaling law.", "problem": "Two players, Alice and Bob, are engaged in a simple turn-based token game. In each turn, a fair coin is tossed. If the result is heads, Alice gives one token to Bob. If the result is tails, Bob gives one token to Alice. The game ends as soon as one player runs out of tokens and thus has 0, at which point the other player has all the tokens.\n\nWe will analyze two different versions of this game.\n\nIn **Game 1**, the total number of tokens in play is $N$. Alice starts with a certain number of tokens, $k$, where $0  k  N$. Let $T_1$ be the expected number of turns until Game 1 ends.\n\nIn **Game 2**, the total number of tokens in play is doubled to $2N$. To ensure a fair comparison, Alice's initial fractional share of the total tokens is kept the same as in Game 1. Let $T_2$ be the expected number of turns until Game 2 ends.\n\nDetermine the value of the ratio $T_2 / T_1$. The result is a constant, independent of both $N$ and $k$. Your answer should be a single number.", "solution": "Let $X_{t}$ denote Alice’s token count after $t$ turns. In each turn, $X_{t}$ changes by $+1$ with probability $\\frac{1}{2}$ (tails: Bob gives one token to Alice) and by $-1$ with probability $\\frac{1}{2}$ (heads: Alice gives one token to Bob). The game ends when $X_{t}$ hits $0$ or the total. This is a simple symmetric random walk with absorbing boundaries.\n\nLet $E_{k}^{(N)}$ be the expected time to absorption when the total is $N$ and the initial state is $k$, with $0kN$. By the law of total expectation and the Markov property, for $k=1,2,\\dots,N-1$,\n$$\nE_{k}^{(N)}=1+\\frac{1}{2}E_{k+1}^{(N)}+\\frac{1}{2}E_{k-1}^{(N)},\n$$\nwith boundary conditions\n$$\nE_{0}^{(N)}=0,\\qquad E_{N}^{(N)}=0.\n$$\nRearranging gives the second-difference equation\n$$\nE_{k+1}^{(N)}-2E_{k}^{(N)}+E_{k-1}^{(N)}=-2.\n$$\nSeek a quadratic solution $E_{k}^{(N)}=ak^{2}+bk+c$. Then\n$$\nE_{k+1}^{(N)}-2E_{k}^{(N)}+E_{k-1}^{(N)}=2a,\n$$\nso $2a=-2$ and hence $a=-1$. The boundary $E_{0}^{(N)}=0$ gives $c=0$, and $E_{N}^{(N)}=0$ gives $-N^{2}+bN=0$, so $b=N$. Therefore\n$$\nE_{k}^{(N)}=k(N-k).\n$$\n\nIn Game 1, $T_{1}=E_{k}^{(N)}=k(N-k)$.\n\nIn Game 2, the total is $2N$, and Alice’s initial fraction is preserved, so her initial tokens are $2N\\cdot\\frac{k}{N}=2k$. Hence\n$$\nT_{2}=E_{2k}^{(2N)}=2k\\bigl(2N-2k\\bigr)=4k(N-k).\n$$\nThus the ratio is\n$$\n\\frac{T_{2}}{T_{1}}=\\frac{4k(N-k)}{k(N-k)}=4,\n$$\nwhich is independent of $N$ and $k$.", "answer": "$$\\boxed{4}$$", "id": "1301315"}, {"introduction": "While fair games provide a useful theoretical starting point, many real-world processes are inherently biased, where one outcome is more likely than another. This exercise [@problem_id:1301312] models such a scenario using the hypothetical example of a nanoscopic charge trap. By working through this problem, you will apply the general method for finding the expected duration in an asymmetric random walk, a crucial skill for modeling more realistic systems.", "problem": "A nanoscopic charge trap is being modeled as a one-dimensional system. The state of the trap is defined by the number of excess electrons it holds. Initially, the trap contains $i = 15$ excess electrons. In discrete time steps, the number of electrons changes by exactly one due to quantum tunneling events. An electron tunnels into the trap, increasing the count by one, with a probability $p = 0.4$. An electron tunnels out of the trap, decreasing the count by one, with a probability $q = 1-p = 0.6$.\n\nThe process is considered terminated when one of two boundary conditions is met: either the trap becomes fully depleted (the number of excess electrons drops to 0) or it becomes saturated (the number of excess electrons reaches its maximum capacity of $N = 40$).\n\nCalculate the expected number of time steps until the process terminates. Round your final answer to three significant figures.", "solution": "Let $T_{i}$ be the expected number of steps to absorption starting from $i$ electrons, with absorbing boundaries at $0$ and $N$. By first-step analysis,\n$$\nT_{i} = 1 + p\\,T_{i+1} + q\\,T_{i-1}, \\quad 1 \\leq i \\leq N-1,\n$$\nwith boundary conditions $T_{0} = 0$ and $T_{N} = 0$. Rearranging gives\n$$\np\\,T_{i+1} - T_{i} + q\\,T_{i-1} = -1.\n$$\nSolve the homogeneous equation $p\\,T_{i+1} - T_{i} + q\\,T_{i-1} = 0$ by trying $T_{i}^{(h)} = r^{i}$, which yields the characteristic equation $p r^{2} - r + q = 0$ with roots $r_{1} = 1$ and $r_{2} = \\frac{q}{p}$. Hence\n$$\nT_{i}^{(h)} = A + B\\left(\\frac{q}{p}\\right)^{i}.\n$$\nSeek a particular solution of the form $T_{i}^{(p)} = C\\,i$. Substituting into the recurrence gives\n$$\nC i = 1 + p\\,C(i+1) + q\\,C(i-1) = 1 + C\\big((p+q)i + (p - q)\\big) = 1 + C\\big(i + (p - q)\\big),\n$$\nso $0 = 1 + C(p - q)$ and therefore $C = \\frac{1}{q - p}$. The general solution is\n$$\nT_{i} = A + B\\left(\\frac{q}{p}\\right)^{i} + \\frac{i}{q - p}.\n$$\nApplying $T_{0} = 0$ gives $A + B = 0$. Applying $T_{N} = 0$ gives\n$$\n0 = A + B\\left(\\frac{q}{p}\\right)^{N} + \\frac{N}{q - p}\n= -B + B\\left(\\frac{q}{p}\\right)^{N} + \\frac{N}{q - p},\n$$\nso\n$$\nB = -\\frac{N}{q - p}\\,\\frac{1}{\\left(\\frac{q}{p}\\right)^{N} - 1}, \\quad A = -B.\n$$\nThus\n$$\nT_{i} = \\frac{i}{q - p} - \\frac{N}{q - p}\\,\\frac{\\left(\\frac{q}{p}\\right)^{i} - 1}{\\left(\\frac{q}{p}\\right)^{N} - 1}\n= \\frac{i}{q - p} - \\frac{N}{q - p}\\,\\frac{1 - \\left(\\frac{q}{p}\\right)^{i}}{1 - \\left(\\frac{q}{p}\\right)^{N}}.\n$$\n\nFor $p = 0.4$, $q = 0.6$, $N = 40$, and $i = 15$, we have $q - p = 0.2$ and $r = \\frac{q}{p} = 1.5$. Compute\n$$\nS = \\frac{1 - r^{i}}{1 - r^{N}} = \\frac{r^{i} - 1}{r^{N} - 1}.\n$$\nUsing $r^{15} = \\left(\\frac{3}{2}\\right)^{15} = \\frac{14348907}{32768} \\approx 437.893890380859$ and $r^{40} = \\left(\\frac{3}{2}\\right)^{40} \\approx 1.2089258 \\times 10^{7}$, we get\n$$\nS \\approx \\frac{437.893890380859 - 1}{1.2089258 \\times 10^{7} - 1} \\approx 3.6145 \\times 10^{-5}.\n$$\nTherefore\n$$\nT_{15} = \\frac{15}{0.2} - \\frac{40}{0.2}\\,S = 75 - 200\\,S \\approx 75 - 200 \\times 3.6145 \\times 10^{-5} \\approx 74.99277.\n$$\nRounded to three significant figures, the expected number of steps is $75.0$.", "answer": "$$\\boxed{75.0}$$", "id": "1301312"}, {"introduction": "The expected duration tells us the average time until the game ends, but it doesn't capture the full picture, as the actual duration can vary significantly from this average. To quantify this variability, we can calculate the variance. This practice [@problem_id:1301323] challenges you to go beyond the mean and derive the variance of the game's duration, providing a deeper understanding of the distribution of the time to absorption.", "problem": "A gambler participates in a game of chance with an initial capital of $i$ dollars, where $i$ is an integer in the range $0  i  N$. The game is played in a series of independent rounds. In each round, the gambler has a probability of $1/2$ of winning $1 dollar and a probability of $1/2$ of losing $1 dollar. The game concludes when the gambler's capital reaches either $0$ dollars (ruin) or a predetermined target of $N$ dollars (victory).\n\nLet $T$ be the random variable representing the total number of rounds played until the game ends. The expected duration of the game, conditioned on the starting capital $i$, is given by the known formula $E_i[T] = i(N-i)$.\n\nYour task is to determine the variance of the game's duration, $Var_i(T)$, as a function of the initial capital $i$ and the target capital $N$. Express your final answer as a symbolic expression in terms of $i$ and $N$.", "solution": "Let $T_{i}$ denote the absorption time starting from state $i\\in\\{0,1,\\dots,N\\}$, and define $m_{i}=E_{i}[T]$ and $s_{i}=E_{i}[T^{2}]$. The process is a simple symmetric random walk with absorbing boundaries at $0$ and $N$, hence $m_{0}=m_{N}=0$ and $s_{0}=s_{N}=0$. The one-step decomposition gives, for $1\\leq i\\leq N-1$,\n$$\nm_{i}=\\frac{1}{2}\\left(1+m_{i-1}\\right)+\\frac{1}{2}\\left(1+m_{i+1}\\right),\n$$\nwhich rearranges to\n$$\nm_{i}-\\frac{1}{2}m_{i-1}-\\frac{1}{2}m_{i+1}=1.\n$$\nThe known solution satisfying the boundary conditions is $m_{i}=i(N-i)$. From this we compute\n$$\nm_{i+1}+m_{i-1}=2m_{i}-2.\n$$\n\nFor the second moment, using $T_{i}=1+T_{i\\pm 1}$ with probability $\\frac{1}{2}$ each, we have\n$$\ns_{i}=\\frac{1}{2}E\\!\\left[(1+T_{i-1})^{2}\\right]+\\frac{1}{2}E\\!\\left[(1+T_{i+1})^{2}\\right]\n=1+\\frac{1}{2}\\left(s_{i-1}+s_{i+1}\\right)+\\left(m_{i-1}+m_{i+1}\\right).\n$$\nHence\n$$\ns_{i}-\\frac{1}{2}s_{i-1}-\\frac{1}{2}s_{i+1}=1+m_{i-1}+m_{i+1}=2m_{i}-1,\n$$\nor equivalently\n$$\ns_{i+1}-2s_{i}+s_{i-1}=-4m_{i}+2.\n$$\nSubstituting $m_{i}=i(N-i)$ gives\n$$\ns_{i+1}-2s_{i}+s_{i-1}=4i^{2}-4Ni+2.\n$$\n\nSeek a quartic polynomial solution $s_{i}=a i^{4}+b i^{3}+c i^{2}+d i+e$. The discrete second difference satisfies\n$$\ns_{i+1}-2s_{i}+s_{i-1}=12a\\,i^{2}+6b\\,i+(2a+2c).\n$$\nMatching coefficients with $4i^{2}-4Ni+2$ yields\n$$\n12a=4\\;\\Rightarrow\\;a=\\frac{1}{3},\\quad 6b=-4N\\;\\Rightarrow\\;b=-\\frac{2}{3}N,\\quad 2a+2c=2\\;\\Rightarrow\\;c=\\frac{2}{3}.\n$$\nThe boundary conditions $s_{0}=0$ and $s_{N}=0$ force $e=0$ and determine $d$ from\n$$\n0=s_{N}=\\frac{1}{3}N^{4}-\\frac{2}{3}N\\cdot N^{3}+\\frac{2}{3}N^{2}+dN\n=-\\frac{1}{3}N^{4}+\\frac{2}{3}N^{2}+dN,\n$$\nso\n$$\nd=\\frac{1}{3}N^{3}-\\frac{2}{3}N.\n$$\nTherefore\n$$\ns_{i}=\\frac{1}{3}i^{4}-\\frac{2}{3}N i^{3}+\\frac{2}{3}i^{2}+\\left(\\frac{1}{3}N^{3}-\\frac{2}{3}N\\right)i.\n$$\n\nThe variance is $V_{i}=\\operatorname{Var}_{i}(T)=s_{i}-m_{i}^{2}$. Using $m_{i}=i(N-i)$,\n$$\nm_{i}^{2}=i^{2}N^{2}-2Ni^{3}+i^{4},\n$$\nhence\n$$\nV_{i}\n=\\left[\\frac{1}{3}i^{4}-\\frac{2}{3}N i^{3}+\\frac{2}{3}i^{2}+\\left(\\frac{1}{3}N^{3}-\\frac{2}{3}N\\right)i\\right]\n-\\left[i^{2}N^{2}-2Ni^{3}+i^{4}\\right].\n$$\nCollecting terms and factoring,\n$$\nV_{i}=\\frac{1}{3}\\left[-2i^{4}+4Ni^{3}+(2-3N^{2})i^{2}+(N^{3}-2N)i\\right]\n=\\frac{1}{3}i(N-i)\\left[2i^{2}-2Ni+N^{2}-2\\right].\n$$", "answer": "$$\\boxed{\\frac{1}{3}\\,i\\,(N-i)\\,\\bigl(N^{2}-2-2\\,i\\,(N-i)\\bigr)}$$", "id": "1301323"}]}