{"hands_on_practices": [{"introduction": "This exercise provides a foundational application of the Doob Decomposition theorem. By analyzing a simple cumulative sum process, you will practice the core mechanical steps of identifying and separating the predictable trend from the martingale noise. This problem is key to understanding how the conditional expectation operator is used to construct the compensator term by term. [@problem_id:1397477]", "problem": "Let $\\{Y_k\\}_{k=1}^\\infty$ be a sequence of independent random variables. The mean of each random variable is dependent on its index, given by $E[Y_k] = \\frac{1}{k}$ for $k \\ge 1$. Furthermore, assume that $E[|Y_k|]  \\infty$ for all $k$.\n\nConsider the stochastic process $X_n$ defined by the cumulative sum $X_n = \\sum_{k=1}^n Y_k$ for $n \\ge 1$, with the initial condition $X_0 = 0$. Let $\\{\\mathcal{F}_n\\}_{n=0}^\\infty$ be the natural filtration generated by the sequence $\\{Y_k\\}$, where $\\mathcal{F}_0 = \\{\\emptyset, \\Omega\\}$ is the trivial sigma-algebra and $\\mathcal{F}_n = \\sigma(Y_1, \\dots, Y_n)$ for $n \\ge 1$.\n\nAccording to the Doob Decomposition Theorem, any adapted process $X_n$ with finite expectation can be uniquely expressed as the sum of a martingale $M_n$ and a predictable process $A_n$, such that $X_n = M_n + A_n$.\n\nFind the explicit expressions for the martingale component $M_n$ and the predictable process component $A_n$ for $n \\geq 1$, subject to the standard initial conditions $M_0 = 0$ and $A_0 = 0$.\n\nPresent your answer as a row matrix containing two expressions: the first for $M_n$ and the second for $A_n$.", "solution": "We first recall the discrete-time Doob decomposition for an adapted, integrable process. For an adapted process $\\{X_n\\}_{n \\geq 0}$ with $E[|X_n|]  \\infty$, the Doob decomposition writes $X_n = M_n + A_n$, where $M_n$ is a martingale with $M_0 = 0$ and $A_n$ is a predictable process with $A_0 = 0$. In discrete time, the predictable component is given by\n$$\nA_n = \\sum_{k=1}^{n} E[X_k - X_{k-1} \\mid \\mathcal{F}_{k-1}],\n$$\nand the martingale component is $M_n = X_n - A_n$.\n\nIn our case, $X_n = \\sum_{k=1}^{n} Y_k$ with $X_0 = 0$. Therefore, the one-step increment is\n$$\nX_n - X_{n-1} = Y_n.\n$$\nThus, the predictable increment is\n$$\nE[X_n - X_{n-1} \\mid \\mathcal{F}_{n-1}] = E[Y_n \\mid \\mathcal{F}_{n-1}].\n$$\nSince $Y_n$ is independent of $\\mathcal{F}_{n-1} = \\sigma(Y_1,\\dots,Y_{n-1})$ and $E[|Y_n|]  \\infty$, we have\n$$\nE[Y_n \\mid \\mathcal{F}_{n-1}] = E[Y_n] = \\frac{1}{n}.\n$$\nTherefore, the predictable process is\n$$\nA_n = \\sum_{k=1}^{n} E[Y_k \\mid \\mathcal{F}_{k-1}] = \\sum_{k=1}^{n} \\frac{1}{k}.\n$$\nConsequently, the martingale component is\n$$\nM_n = X_n - A_n = \\sum_{k=1}^{n} Y_k - \\sum_{k=1}^{n} \\frac{1}{k} = \\sum_{k=1}^{n} \\left(Y_k - \\frac{1}{k}\\right).\n$$\nBy construction, $A_n$ is predictable since $A_n - A_{n-1} = \\frac{1}{n}$ is $\\mathcal{F}_{n-1}$-measurable, $A_0 = 0$, and $M_n$ is a martingale since\n$$\nE[M_n \\mid \\mathcal{F}_{n-1}] = E\\left[\\sum_{k=1}^{n} \\left(Y_k - \\frac{1}{k}\\right) \\Biggm| \\mathcal{F}_{n-1}\\right]\n= \\sum_{k=1}^{n-1} \\left(Y_k - \\frac{1}{k}\\right) + E\\left[Y_n - \\frac{1}{n} \\mid \\mathcal{F}_{n-1}\\right]\n= M_{n-1}.\n$$\nThus the Doob decomposition is uniquely identified as above.", "answer": "$$\\boxed{\\begin{pmatrix}\\sum_{k=1}^{n}\\left(Y_{k}-\\frac{1}{k}\\right)  \\sum_{k=1}^{n}\\frac{1}{k}\\end{pmatrix}}$$", "id": "1397477"}, {"introduction": "We now move from a general sum to a classic and fundamental process in probability theory: the squared simple symmetric random walk. This practice demonstrates how a non-linear transformation of a martingale (the random walk itself) results in a submartingale with a surprisingly simple, deterministic trend. Uncovering this structure is a cornerstone of understanding martingales and their applications in modeling. [@problem_id:1298470]", "problem": "Consider a simple symmetric random walk $(S_n)_{n \\geq 0}$ on the integers $\\mathbb{Z}$. The walk starts at $S_0 = 0$ and evolves according to $S_n = \\sum_{i=1}^n Y_i$ for $n \\geq 1$, where the $(Y_i)_{i \\geq 1}$ are independent and identically distributed random variables with probability distribution $P(Y_i = 1) = P(Y_i = -1) = 1/2$. Let $(\\mathcal{F}_n)_{n \\geq 0}$ be the natural filtration generated by this walk, i.e., $\\mathcal{F}_n = \\sigma(S_0, S_1, \\ldots, S_n)$.\n\nNow, consider the stochastic process $X_n = S_n^2$. This process represents the squared distance of the walker from the origin. It is a submartingale with respect to the filtration $(\\mathcal{F}_n)$. According to the Doob decomposition theorem, any adapted submartingale $X_n$ can be uniquely written as the sum of a martingale and a predictable process:\n$$X_n = M_n + A_n$$\nwhere $(M_n)_{n \\geq 0}$ is a martingale with respect to $(\\mathcal{F}_n)$ and $(A_n)_{n \\geq 0}$ is a predictable, non-decreasing process with $A_0 = 0$.\n\nYour task is to find the explicit expressions for the martingale component $M_n$ and the predictable component $A_n$ for the process $X_n = S_n^2$. Present your answer as a row matrix containing the expression for $M_n$ followed by the expression for $A_n$.", "solution": "We apply the Doob decomposition to the adapted submartingale $X_{n}=S_{n}^{2}$. By definition, the decomposition is $X_{n}=M_{n}+A_{n}$ with $A_{0}=0$, where\n$$\nA_{n}=\\sum_{k=1}^{n}\\mathbb{E}\\!\\left[X_{k}-X_{k-1}\\mid \\mathcal{F}_{k-1}\\right], \\quad M_{n}=X_{n}-A_{n}.\n$$\nCompute the increment of $X_{n}$:\n$$\nX_{n}-X_{n-1}=S_{n}^{2}-S_{n-1}^{2}=(S_{n-1}+Y_{n})^{2}-S_{n-1}^{2}=2S_{n-1}Y_{n}+Y_{n}^{2}.\n$$\nUsing independence of $Y_{n}$ from $\\mathcal{F}_{n-1}$ and the symmetry, we have $\\mathbb{E}[Y_{n}\\mid \\mathcal{F}_{n-1}]=0$ and $Y_{n}^{2}=1$, hence $\\mathbb{E}[Y_{n}^{2}\\mid \\mathcal{F}_{n-1}]=1$. Therefore,\n$$\n\\mathbb{E}\\!\\left[X_{n}-X_{n-1}\\mid \\mathcal{F}_{n-1}\\right]=\\mathbb{E}\\!\\left[2S_{n-1}Y_{n}+1\\mid \\mathcal{F}_{n-1}\\right]=2S_{n-1}\\mathbb{E}[Y_{n}\\mid \\mathcal{F}_{n-1}]+1=1.\n$$\nThus,\n$$\nA_{n}=\\sum_{k=1}^{n}1=n,\n$$\nwhich is predictable and non-decreasing with $A_{0}=0$. Consequently,\n$$\nM_{n}=X_{n}-A_{n}=S_{n}^{2}-n.\n$$\nTo verify the martingale property,\n$$\n\\mathbb{E}[M_{n}\\mid \\mathcal{F}_{n-1}]=\\mathbb{E}[S_{n}^{2}-n\\mid \\mathcal{F}_{n-1}]=S_{n-1}^{2}+2S_{n-1}\\mathbb{E}[Y_{n}\\mid \\mathcal{F}_{n-1}]+\\mathbb{E}[Y_{n}^{2}\\mid \\mathcal{F}_{n-1}]-n=S_{n-1}^{2}+1-n=M_{n-1}.\n$$\nHence, $M_{n}=S_{n}^{2}-n$ is a martingale and $A_{n}=n$ is the predictable compensator. By uniqueness of the Doob decomposition, these are the desired components.", "answer": "$$\\boxed{\\begin{pmatrix} S_{n}^{2}-n  n \\end{pmatrix}}$$", "id": "1298470"}, {"introduction": "Building on the previous example, this problem explores a higher-order polynomial of the simple symmetric random walk, specifically its cube. This exercise highlights a crucial aspect of the Doob Decomposition: the predictable process is not always a simple deterministic function like time itself. Here, you will discover that the compensator depends on the entire past trajectory of the random walk, reinforcing the true meaning of a \"predictable\" process. [@problem_id:1298492]", "problem": "Let $\\{Y_i\\}_{i \\ge 1}$ be a sequence of independent and identically distributed random variables, where the probability of each outcome is given by $P(Y_i = 1) = P(Y_i = -1) = 1/2$. A simple symmetric random walk $\\{S_n\\}_{n \\ge 0}$ is constructed from this sequence, with an initial position $S_0 = 0$ and subsequent positions defined by $S_n = \\sum_{i=1}^n Y_i$ for $n \\ge 1$. Let $\\mathcal{F}_n = \\sigma(Y_1, \\dots, Y_n)$ be the natural filtration generated by the sequence of steps, with $\\mathcal{F}_0$ being the trivial sigma-algebra.\n\nConsider the stochastic process $\\{X_n\\}_{n \\ge 0}$ defined by $X_n = S_n^3$. According to the Doob decomposition theorem, any such process adapted to the filtration $\\mathcal{F}_n$ can be uniquely written as the sum $X_n = M_n + A_n$. In this decomposition, $\\{M_n\\}_{n \\ge 0}$ is a martingale with respect to $\\mathcal{F}_n$, and $\\{A_n\\}_{n \\ge 0}$ is a predictable process (meaning $A_n$ is $\\mathcal{F}_{n-1}$-measurable for all $n \\ge 1$) satisfying $A_0 = 0$.\n\nYour task is to determine the predictable process $A_n$ for $n \\ge 1$. Express your answer as a summation involving the terms of the random walk $S_k$ for indices $k$ strictly less than $n$.", "solution": "We use the discrete-time Doob decomposition: for an integrable adapted process $X_{n}$, define $A_{0}=0$ and\n$$\nA_{n}-A_{n-1}=\\mathbb{E}\\left[X_{n}-X_{n-1}\\mid \\mathcal{F}_{n-1}\\right], \\quad n\\ge 1,\n$$\nso that $M_{n}:=X_{n}-A_{n}$ is a martingale.\n\nHere $X_{n}=S_{n}^{3}$ with $S_{n}=S_{n-1}+Y_{n}$ and $Y_{n}$ independent of $\\mathcal{F}_{n-1}$, with $\\mathbb{P}(Y_{n}=1)=\\mathbb{P}(Y_{n}=-1)=\\frac{1}{2}$. Compute the increment:\n$$\nX_{n}-X_{n-1}=S_{n}^{3}-S_{n-1}^{3}=(S_{n-1}+Y_{n})^{3}-S_{n-1}^{3}\n=3S_{n-1}^{2}Y_{n}+3S_{n-1}Y_{n}^{2}+Y_{n}^{3}.\n$$\nTaking conditional expectation given $\\mathcal{F}_{n-1}$ and using independence and the moments $\\mathbb{E}[Y_{n}\\mid \\mathcal{F}_{n-1}]=0$, $\\mathbb{E}[Y_{n}^{2}\\mid \\mathcal{F}_{n-1}]=1$, and $\\mathbb{E}[Y_{n}^{3}\\mid \\mathcal{F}_{n-1}]=\\mathbb{E}[Y_{n}]=0$ (since $Y_{n}^{3}=Y_{n}$), we obtain\n$$\n\\mathbb{E}[X_{n}-X_{n-1}\\mid \\mathcal{F}_{n-1}]=3S_{n-1}.\n$$\nHence the predictable compensator satisfies\n$$\nA_{n}-A_{n-1}=3S_{n-1}, \\quad A_{0}=0,\n$$\nwhich yields\n$$\nA_{n}=\\sum_{k=1}^{n}3S_{k-1}=3\\sum_{k=0}^{n-1}S_{k}.\n$$\nThis $A_{n}$ is $\\mathcal{F}_{n-1}$-measurable for each $n\\ge 1$, as required.", "answer": "$$\\boxed{3\\sum_{k=0}^{n-1} S_{k}}$$", "id": "1298492"}]}