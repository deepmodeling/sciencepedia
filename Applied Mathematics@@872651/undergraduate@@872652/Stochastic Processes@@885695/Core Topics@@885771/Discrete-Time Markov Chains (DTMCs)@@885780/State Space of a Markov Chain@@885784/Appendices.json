{"hands_on_practices": [{"introduction": "Defining the state space is the first and most crucial step in building a Markov chain model. This practice helps translate the physical limitations of a system into a precise mathematical set. We begin with a familiar scenario involving a web server with a finite capacity to see how to define a simple, discrete state space based on clear operational limits [@problem_id:1332892].", "problem": "A small e-commerce company operates a web server to handle customer transactions. The server has a maximum capacity and can handle at most 8 concurrent connections. Any new connection requests that arrive when the server is at full capacity are rejected. The number of active connections is recorded at the end of each second. The dynamics of new connections arriving and existing connections terminating are modeled as a discrete-time Markov chain.\n\nLet the state of the system at any given time be defined as the number of active connections. Which of the following sets correctly represents the state space $\\mathcal{S}$ for this Markov chain?\n\nA. $\\mathcal{S} = \\{1, 2, 3, 4, 5, 6, 7, 8\\}$\n\nB. $\\mathcal{S} = \\{0, 1, 2, \\dots\\}$\n\nC. $\\mathcal{S} = [0, 8]$\n\nD. $\\mathcal{S} = \\{0, 1, 2, 3, 4, 5, 6, 7, 8\\}$\n\nE. $\\mathcal{S} = \\{0, 1, 2, 3, 4, 5, 6, 7\\}$", "solution": "We model the system as a discrete-time Markov chain where the state at each time step is the number of active connections on the server at the end of that second.\n\nGiven the server can handle at most 8 concurrent connections and any arrivals beyond this capacity are rejected, the number of active connections $n$ must satisfy the integer constraint\n$$\n0 \\leq n \\leq 8.\n$$\nBecause the count of active connections is an integer and zero active connections is possible, the state space is the finite set\n$$\n\\mathcal{S} = \\{0,1,2,3,4,5,6,7,8\\}.\n$$\nChecking the options:\n- A excludes $0$, which is invalid.\n- B allows arbitrarily large counts, contradicting the capacity limit.\n- C is a real interval, not a discrete set of integer counts.\n- D matches the derived state space.\n- E excludes $8$, contradicting the maximum capacity being attainable.\n\nTherefore, the correct choice is D.", "answer": "$$\\boxed{D}$$", "id": "1332892"}, {"introduction": "Not all systems can be described by a simple sequence of integers. This exercise explores how to define a state space for a game of tennis, a system governed by a unique set of rules [@problem_id:1332860]. You will learn to identify and count all the non-terminal (transient) situations in the game, including special states like 'Deuce' and 'Advantage', which are crucial for capturing the game's dynamics.", "problem": "In stochastic processes, a single game of tennis can be modeled as a discrete-time Markov chain where the state of the system is the current score. Let's define the rules of a standard game:\n\n1.  Points are awarded in the sequence: 15, 30, 40. For our model, we can represent these scores as 1, 2, and 3 points, respectively. A score of zero is 'Love'.\n2.  A player wins the game if they have won at least 4 points and are ahead of their opponent by at least 2 points.\n3.  If the score becomes tied at 3-3 (40-40), the state is called 'Deuce'.\n4.  From Deuce, if a player wins a point, they gain 'Advantage'.\n5.  If the player with Advantage wins the next point, they win the game. If they lose the next point, the score returns to Deuce.\n\nThe states where one player has won the game are considered absorbing states. All other states, from which the game has not yet concluded, are called transient states. How many distinct transient states are there in the state space for a single game of tennis?\n\nA. 13\n\nB. 16\n\nC. 18\n\nD. 20\n\nE. 21", "solution": "We model the game as a Markov chain whose non-absorbing (transient) states are all scores from which the game has not yet been won. A player wins (absorbing state) as soon as they have at least four points and lead by at least two, i.e., a state with scores $(i,j)$ is absorbing if $i \\geq 4$ and $i-j \\geq 2$, or $j \\geq 4$ and $j-i \\geq 2$.\n\nBefore deuce, the possible scores are $(i,j)$ with $0 \\leq i \\leq 3$ and $0 \\leq j \\leq 3$. Among these, $(3,3)$ is the deuce state, which the problem specifies is treated as a single labeled state “Deuce,” and all ties at $k=k \\geq 3$ are collapsed into that same deuce state by the given rules. Therefore, count the pre-deuce transient scores as\n$$\nT_{1}=\\{(i,j): 0 \\leq i \\leq 3,\\; 0 \\leq j \\leq 3,\\; (i,j) \\neq (3,3)\\},\n$$\nso\n$$\n|T_{1}|=16-1=15.\n$$\n\nFrom deuce, there are two additional transient states corresponding to the player-specific “Advantage” positions:\n$$\nT_{2}=\\{\\text{Deuce},\\ \\text{Advantage A},\\ \\text{Advantage B}\\},\n$$\nso\n$$\n|T_{2}|=3.\n$$\n\nAll other states with a player at least two points ahead and with at least four points are absorbing by rule and therefore excluded from the transient count.\n\nHence the total number of transient states is\n$$\n|T_{1}|+|T_{2}|=15+3=18,\n$$\nwhich matches option C.", "answer": "$$\\boxed{C}$$", "id": "1332860"}, {"introduction": "Many real-world systems, such as populations or financial portfolios, are described by multiple variables at once. This practice tackles a more advanced scenario: modeling an insect population across different age classes under strict environmental constraints [@problem_id:1332884]. You will need to use powerful combinatorial tools to count the number of valid states in this multi-dimensional system, a skill essential for analyzing complex stochastic processes.", "problem": "An ecologist is modeling the population dynamics of a rare species of bioluminescent insect, the \"Quasar Moth,\" within a closed terrarium. The model simplifies the population into $k=4$ distinct age classes: Larva ($n_1$), Pupa ($n_2$), Adult ($n_3$), and Elder ($n_4$). The state of the system at any given time is defined by the population vector $(n_1, n_2, n_3, n_4)$, where each $n_i$ is a non-negative integer representing the number of individuals in that age class.\n\nDue to strict conservation protocols and resource management, the total population of Quasar Moths in the terrarium is maintained at a constant size of $N=50$. This means that for any possible state, the sum of the individuals across all age classes must be $n_1 + n_2 + n_3 + n_4 = 50$.\n\nFurthermore, the model incorporates the following biological and environmental constraints:\n1.  To ensure a continuous life cycle, the population of larvae must always be at least 10.\n2.  The number of special pupation sites is limited, so the pupa population cannot exceed 15.\n3.  Territorial behavior and food competition among adults limit their population to a maximum of 20.\n\nThe set of all possible valid population vectors $(n_1, n_2, n_3, n_4)$ that satisfy all the given conditions constitutes the state space of this population model. Calculate the total number of distinct states in this state space.", "solution": "We need the number of integer 4-tuples $(n_1, n_2, n_3, n_4)$ with $n_i \\geq 0$ satisfying $n_1 + n_2 + n_3 + n_4 = 50$ and the constraints $n_1 \\geq 10$, $n_2 \\leq 15$, $n_3 \\leq 20$. Set $m_1 = n_1 - 10 \\geq 0$ so that\n$$\nm_1 + n_2 + n_3 + n_4 = 40,\n$$\nwith $m_1, n_2, n_3, n_4 \\geq 0$, $n_2 \\leq 15$, $n_3 \\leq 20$.\n\nWithout the upper bounds, the number of nonnegative integer solutions to $x_1 + x_2 + x_3 + x_4 = 40$ is, by stars and bars, $\\binom{40+4-1}{4-1}=\\binom{43}{3}$. Impose the bounds on $n_2$ and $n_3$ by inclusion-exclusion. Let $A$ be the set with $n_2 \\geq 16$ and $B$ the set with $n_3 \\geq 21$.\n\n- For $|A|$: set $y_2 = n_2 - 16 \\geq 0$, giving $m_1 + y_2 + n_3 + n_4 = 40-16=24$, so $|A|=\\binom{24+4-1}{3}=\\binom{27}{3}$.\n- For $|B|$: set $y_3 = n_3 - 21 \\geq 0$, giving $m_1 + n_2 + y_3 + n_4 = 40-21=19$, so $|B|=\\binom{19+4-1}{3}=\\binom{22}{3}$.\n- For $|A\\cap B|$: set $y_2 = n_2 - 16 \\geq 0$, $y_3 = n_3 - 21 \\geq 0$, giving $m_1 + y_2 + y_3 + n_4 = 40-16-21=3$, so $|A\\cap B|=\\binom{3+4-1}{3}=\\binom{6}{3}$.\n\nThus the valid count is\n$$\n\\binom{43}{3}-\\binom{27}{3}-\\binom{22}{3}+\\binom{6}{3}.\n$$\nCompute each term:\n$$\n\\binom{43}{3}=\\frac{43\\cdot 42\\cdot 41}{6}=12341,\\quad\n\\binom{27}{3}=\\frac{27\\cdot 26\\cdot 25}{6}=2925,\n$$\n$$\n\\binom{22}{3}=\\frac{22\\cdot 21\\cdot 20}{6}=1540,\\quad\n\\binom{6}{3}=20.\n$$\nTherefore the total number of distinct states is\n$$\n12341-2925-1540+20=7896.\n$$", "answer": "$$\\boxed{7896}$$", "id": "1332884"}]}