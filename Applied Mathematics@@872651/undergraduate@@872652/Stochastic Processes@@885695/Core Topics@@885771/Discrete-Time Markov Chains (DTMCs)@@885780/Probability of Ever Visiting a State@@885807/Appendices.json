{"hands_on_practices": [{"introduction": "To begin, let's explore the fundamental technique of first-step analysis. This powerful method allows us to calculate the probability of ever reaching a target state by breaking the problem down into the immediate possibilities of the very next step. The following exercise [@problem_id:1326112] provides a perfect illustration, using the relatable scenario of a library book's journey to find the probability it eventually returns to the shelf.", "problem": "A university library models the life cycle of a book using a discrete-time stochastic process. The status of a book is observed each day and can be categorized into one of four states: 'On Shelf' (S), 'Checked Out' (C), 'In Transit' (T, for books being returned and processed), and 'Lost' (L).\n\nThe transition probabilities from one day to the next are as follows:\n- A book that is 'On Shelf' will be 'Checked Out' the next day with a probability of 1.0.\n- A book that is 'Checked Out' has a 0.2 probability of being renewed (remaining 'Checked Out'), a 0.75 probability of being returned (becoming 'In Transit'), and a 0.05 probability of being declared 'Lost'.\n- A book that is 'In Transit' has a 0.8 probability of being successfully placed 'On Shelf', a 0.15 probability of remaining 'In Transit' for further processing, and a 0.05 probability of becoming 'Lost'.\n- A book that is 'Lost' will remain 'Lost' indefinitely.\n\nA new book is donated to the library and its initial status is 'In Transit'. What is the probability that this book will ever reach the 'On Shelf' status? Express your answer as an exact fraction.", "solution": "Model the daily status as a Markov chain with states $S$ (On Shelf), $C$ (Checked Out), $T$ (In Transit), and $L$ (Lost). We are asked for the probability that, starting from $T$, the chain ever visits $S$ at least once.\n\nLet $x_{T}$ denote the probability of ever reaching $S$ starting from $T$. Using first-step analysis from state $T$:\n- With probability $0.8$, the next state is $S$, which counts as success and contributes $1$.\n- With probability $0.15$, the next state is $T$ again, after which the success probability remains $x_{T}$.\n- With probability $0.05$, the next state is $L$, from which $S$ is never reached, contributing $0$.\n\nTherefore,\n$$\nx_{T} = 0.8 \\cdot 1 + 0.15 \\cdot x_{T} + 0.05 \\cdot 0.\n$$\nSolving,\n$$\nx_{T} - 0.15 x_{T} = 0.8 \\quad \\Longrightarrow \\quad 0.85 x_{T} = 0.8 \\quad \\Longrightarrow \\quad x_{T} = \\frac{0.8}{0.85} = \\frac{80}{85} = \\frac{16}{17}.\n$$\nThus, the probability that the donated book will ever reach the On Shelf status is $\\frac{16}{17}$.", "answer": "$$\\boxed{\\frac{16}{17}}$$", "id": "1326112"}, {"introduction": "Building on the basic principle, we now consider situations where the fates of multiple states are intertwined. Often, the probability of success from one starting point depends on the probabilities from other states it could transition to, leading to a system of simultaneous linear equations. This weather modeling problem [@problem_id:1326137] demonstrates how to set up and solve such a system to determine the chances of a sunny day returning before a storm hits.", "problem": "A simplified meteorological model for a remote island describes the daily weather pattern. The weather on any given day can be one of four types: 'Sunny', 'Cloudy', 'Rainy', or 'Storm'. The model is governed by the following daily transition probabilities:\n\n-   If it is Sunny, the next day will be Sunny, Cloudy, or Rainy with probabilities $0.5$, $0.4$, and $0.1$, respectively.\n-   If it is Cloudy, the next day will be Sunny, Cloudy, Rainy, or Storm with probabilities $0.3$, $0.4$, $0.2$, and $0.1$, respectively.\n-   If it is Rainy, the next day will be Sunny, Cloudy, Rainy, or Storm with probabilities $0.1$, $0.3$, $0.2$, and $0.4$, respectively.\n-   Once a Storm occurs, the weather remains 'Storm' permanently.\n\nSuppose today is a Sunny day. What is the probability that, in the future, there will be at least one more Sunny day before a Storm ever occurs?\n\nProvide your answer as a single closed-form analytic expression.", "solution": "Let the states be $S$ (Sunny), $C$ (Cloudy), $R$ (Rainy), and $T$ (Storm, absorbing). Define $p_{X}$ as the probability, starting from state $X$, of hitting $S$ before ever hitting $T$. Our goal is $p_{S}$, interpreted as the probability of revisiting $S$ at least once (i.e., at time $\\geq 1$) before $T$ occurs.\n\nBy first-step analysis:\n- From $S$: $p_{S} = \\frac{1}{2}\\cdot 1 + \\frac{2}{5} p_{C} + \\frac{1}{10} p_{R}$, since transitions are $S \\to S$ with probability $\\frac{1}{2}$ (immediate success), $S \\to C$ with $\\frac{2}{5}$, and $S \\to R$ with $\\frac{1}{10}$, with no direct transition to $T$.\n- From $C$: $p_{C} = \\frac{3}{10}\\cdot 1 + \\frac{2}{5} p_{C} + \\frac{1}{5} p_{R} + \\frac{1}{10}\\cdot 0$, since $C \\to S$ with $\\frac{3}{10}$ (success), $C \\to C$ with $\\frac{2}{5}$, $C \\to R$ with $\\frac{1}{5}$, and $C \\to T$ with $\\frac{1}{10}$ (failure).\n- From $R$: $p_{R} = \\frac{1}{10}\\cdot 1 + \\frac{3}{10} p_{C} + \\frac{1}{5} p_{R} + \\frac{2}{5}\\cdot 0$, since $R \\to S$ with $\\frac{1}{10}$ (success), $R \\to C$ with $\\frac{3}{10}$, $R \\to R$ with $\\frac{1}{5}$, and $R \\to T$ with $\\frac{2}{5}$ (failure).\n\nRewriting the linear system for $p_{C}$ and $p_{R}$:\n$$\n\\begin{aligned}\np_{C} - \\frac{2}{5} p_{C} - \\frac{1}{5} p_{R} = \\frac{3}{10} \\quad \\Rightarrow \\quad \\frac{3}{5} p_{C} - \\frac{1}{5} p_{R} = \\frac{3}{10}, \\\\\np_{R} - \\frac{1}{5} p_{R} - \\frac{3}{10} p_{C} = \\frac{1}{10} \\quad \\Rightarrow \\quad \\frac{4}{5} p_{R} - \\frac{3}{10} p_{C} = \\frac{1}{10}.\n\\end{aligned}\n$$\nMultiplying the first by $10$ and the second by $10$ gives:\n$$\n6 p_{C} - 2 p_{R} = 3, \\qquad -3 p_{C} + 8 p_{R} = 1.\n$$\nAdding $4$ times the second to the first (or solving directly) yields\n$$\np_{C} = \\frac{13}{21}, \\qquad p_{R} = \\frac{5}{14}.\n$$\nTherefore,\n$$\np_{S} = \\frac{1}{2} + \\frac{2}{5}\\cdot \\frac{13}{21} + \\frac{1}{10}\\cdot \\frac{5}{14}\n= \\frac{1}{2} + \\frac{26}{105} + \\frac{1}{28}\n= \\frac{30}{60} + \\frac{17}{60}\n= \\frac{47}{60}.\n$$\nThus, the probability that there will be at least one more Sunny day before any Storm occurs, given today is Sunny, is $\\frac{47}{60}$.", "answer": "$$\\boxed{\\frac{47}{60}}$$", "id": "1326137"}, {"introduction": "The principles of first-step analysis extend naturally from simple state diagrams to more complex random walks on graphs, such as those modeling network traffic or molecular motion. In this exercise [@problem_id:1326095], we analyze a data packet's path on a custom computer network. It serves as an excellent opportunity to practice not only setting up the probability equations but also to employ powerful problem-solving shortcuts like symmetry to simplify otherwise complex calculations.", "problem": "A specialized computer network is designed with $N=12$ nodes, labeled sequentially as $0, 1, 2, \\dots, 11$. The primary connections form a ring topology, where each node $i$ is connected to its adjacent neighbors, $(i-1) \\pmod{12}$ and $(i+1) \\pmod{12}$. To enhance network performance, a direct, high-speed link (a \"shortcut\") is established between node $0$ and node $6$ (i.e., node $N/2$).\n\nA data packet is routed through this network. The routing protocol is a simple random walk: from any given node, the packet is forwarded to one of its connected neighbors, chosen uniformly at random. For example, from node $0$, the packet can move to node $1$, node $11$, or node $6$, each with a probability of $1/3$. From a standard node like node $2$, it can move to node $1$ or node $3$, each with a probability of $1/2$.\n\nFor security monitoring, node $3$ (i.e., node $N/4$) is configured as a \"honeypot\". If the packet ever arrives at node $3$, it is captured and its journey ends.\n\nSuppose a new packet is created and begins its journey at node $1$. Calculate the probability that this packet will traverse the shortcut link between node $0$ and node $6$ at some point before it is captured by the honeypot at node $3$.\n\nExpress your answer as an exact fraction in simplest form.", "solution": "Let $u(i)$ denote the probability that, starting from node $i$, the walk traverses the shortcut edge $\\{0,6\\}$ at some time before it hits node $3$. Node $3$ is absorbing failure, so $u(3)=0$. Traversing the shortcut is absorbing success; at nodes $0$ and $6$ there is an immediate success with probability $1/3$ by stepping along the shortcut.\n\nFor nodes $i\\notin\\{0,3,6\\}$ (degree $2$) the walk is a simple random walk, so\n$$\nu(i)=\\frac{u(i-1)+u(i+1)}{2}.\n$$\nAt node $0$ (neighbors $11,1,6$) and node $6$ (neighbors $5,7,0$), the immediate success via the shortcut contributes:\n$$\nu(0)=\\frac{1}{3}u(11)+\\frac{1}{3}u(1)+\\frac{1}{3},\\qquad\nu(6)=\\frac{1}{3}u(5)+\\frac{1}{3}u(7)+\\frac{1}{3}.\n$$\nImpose the reflection symmetry across node $3$ (which fixes $3$ and swaps $0\\leftrightarrow 6$, $1\\leftrightarrow 5$, $2\\leftrightarrow 4$, $11\\leftrightarrow 7$, $10\\leftrightarrow 8$, and fixes $9$). By uniqueness of solutions to the harmonic system, this symmetry implies\n$$\nu(0)=u(6)=:a,\\quad u(1)=u(5)=:b,\\quad u(2)=u(4)=:c,\\quad u(11)=u(7)=:d,\\quad u(10)=u(8)=:e,\\quad u(9)=:f.\n$$\nWrite the equations in these variables. From the degree-$2$ nodes:\n$$\nb=\\frac{a+c}{2},\\qquad c=\\frac{b}{2},\\qquad d=\\frac{e+a}{2},\\qquad e=\\frac{f+d}{2},\\qquad f=\\frac{e+e}{2}=e.\n$$\nFrom $f=e$ and $e=(f+d)/2$ we obtain $e=d$, and then $d=(e+a)/2$ gives $d=a$. Hence $a=d=e=f$.\n\nFrom node $0$ (or $6$),\n$$\na=\\frac{1}{3}d+\\frac{1}{3}b+\\frac{1}{3}=\\frac{1}{3}a+\\frac{1}{3}b+\\frac{1}{3},\n$$\nso\n$$\n3a=a+b+1\\;\\Rightarrow\\;2a=b+1\\;\\Rightarrow\\;b=2a-1.\n$$\nUsing $c=b/2$ in $b=(a+c)/2$ yields\n$$\nb=\\frac{a+\\frac{b}{2}}{2}=\\frac{a}{2}+\\frac{b}{4}\\;\\Rightarrow\\;4b=2a+b\\;\\Rightarrow\\;3b=2a\\;\\Rightarrow\\;b=\\frac{2}{3}a.\n$$\nEquating $b=2a-1$ and $b=(2/3)a$,\n$$\n\\frac{2}{3}a=2a-1\\;\\Rightarrow\\;2a=6a-3\\;\\Rightarrow\\;4a=3\\;\\Rightarrow\\;a=\\frac{3}{4}.\n$$\nThus\n$$\nb=2a-1=2\\cdot\\frac{3}{4}-1=\\frac{1}{2}.\n$$\nTherefore $u(1)=\\frac{1}{2}$ is the desired probability that the packet traverses the shortcut before being captured at node $3$ when starting from node $1$.", "answer": "$$\\boxed{\\frac{1}{2}}$$", "id": "1326095"}]}