{"hands_on_practices": [{"introduction": "The Chapman-Kolmogorov equations provide the fundamental tool for looking into the future of a Markov process. This first exercise grounds this powerful idea in a simple, intuitive scenario: a robotic vacuum cleaner moving between two rooms. By repeatedly applying the one-step transition rules, you will calculate the probability of the robot's location after multiple time steps, directly illustrating how short-term probabilities compose to determine long-term behavior [@problem_id:1347922].", "problem": "A smart robotic vacuum cleaner operates in an apartment with two rooms, a Living Room (Room 1) and a Bedroom (Room 2). The robot's movement between the rooms is modeled as a discrete-time stochastic process. At the end of each cleaning cycle (a time step), the robot decides where to go next based on its current location.\n\nThe transition probabilities are as follows:\n- If the robot is in the Living Room (Room 1), there is a probability of $\\frac{1}{3}$ it will stay in the Living Room for the next cycle, and a probability of $\\frac{2}{3}$ it will move to the Bedroom (Room 2).\n- If the robot is in the Bedroom (Room 2), there is a probability of $\\frac{1}{2}$ it will move to the Living Room for the next cycle, and a probability of $\\frac{1}{2}$ it will stay in the Bedroom.\n\nSuppose the robot starts its cleaning process in the Living Room at time step $t=0$. What is the probability that the robot will be in the Living Room at time step $t=3$? Express your answer as a single fraction.", "solution": "Model the robotâ€™s location as a two-state Markov chain with states $1$ (Living Room) and $2$ (Bedroom). Let $p_{t}=\\mathbb{P}(X_{t}=1)$ be the probability the robot is in the Living Room at time $t$. By the law of total probability and the given transition probabilities,\n$$\np_{t+1}=p_{t}\\cdot \\frac{1}{3}+(1-p_{t})\\cdot \\frac{1}{2}=\\frac{1}{2}-\\frac{1}{6}p_{t}.\n$$\nThis is a linear difference equation. Its fixed point $p^{*}$ satisfies\n$$\np^{*}=\\frac{1}{2}-\\frac{1}{6}p^{*}\\quad\\Rightarrow\\quad p^{*}\\left(1+\\frac{1}{6}\\right)=\\frac{1}{2}\\quad\\Rightarrow\\quad p^{*}=\\frac{3}{7}.\n$$\nThus the general solution is\n$$\np_{t}-p^{*}=\\left(-\\frac{1}{6}\\right)^{t}\\left(p_{0}-p^{*}\\right).\n$$\nWith the initial condition $p_{0}=1$, we get\n$$\np_{3}=\\frac{3}{7}+\\left(1-\\frac{3}{7}\\right)\\left(-\\frac{1}{6}\\right)^{3}=\\frac{3}{7}+\\frac{4}{7}\\left(-\\frac{1}{216}\\right)=\\frac{3}{7}-\\frac{1}{378}=\\frac{161}{378}=\\frac{23}{54}.\n$$\nTherefore, the probability that the robot is in the Living Room at time step $t=3$ is $\\frac{23}{54}$.", "answer": "$$\\boxed{\\frac{23}{54}}$$", "id": "1347922"}, {"introduction": "Beyond simply predicting future states, the principles underlying the Chapman-Kolmogorov equations allow us to perform inference on the hidden history of a stochastic process. In this problem, we are given the state of a system at a starting time and a later ending time. Your task is to use the transition probabilities to deduce the likelihood of the system having passed through a specific intermediate state, a common task in diagnostics and system monitoring [@problem_id:1347939].", "problem": "A monitoring system tracks the state of a critical server component at the end of each hour. The component can be in one of three states: State 1 (Optimal), State 2 (Degraded), or State 3 (Failed). The transitions between states form a discrete-time Markov chain. The one-step transition probability matrix, $P$, where $P_{ij} = P(X_{t+1}=j | X_t=i)$, is given by:\n$$\nP = \\begin{pmatrix}\n1 - 2\\alpha  2\\alpha  0 \\\\\n\\beta  1 - \\beta - \\gamma  \\gamma \\\\\n0  0  1\n\\end{pmatrix}\n$$\nHere, $X_t$ denotes the state of the component at hour $t$. The parameters $\\alpha, \\beta, \\gamma$ are constants that satisfy $0  2\\alpha  1$, $0  \\beta  1$, $0  \\gamma  1$, and $\\beta + \\gamma  1$.\n\nSuppose the component is observed to be in the Optimal state (State 1) at time $t=0$. Two hours later, at time $t=2$, it is observed to be in the Degraded state (State 2).\n\nGiven these observations, calculate the conditional probability that the component was in the Degraded state (State 2) at time $t=1$. Express your answer as a closed-form analytic expression in terms of $\\alpha$, $\\beta$, and $\\gamma$.", "solution": "We are asked to compute the conditional probability $P(X_{1}=2 \\mid X_{0}=1, X_{2}=2)$ for a time-homogeneous Markov chain with transition matrix $P$. By the definition of conditional probability and the Markov property (future depends on the present state only), we use\n$$\nP(X_{1}=j \\mid X_{0}=i, X_{2}=k) = \\frac{P(X_{1}=j, X_{2}=k \\mid X_{0}=i)}{P(X_{2}=k \\mid X_{0}=i)}.\n$$\nThe numerator factors by the Markov property as\n$$\nP(X_{1}=j, X_{2}=k \\mid X_{0}=i) = P(X_{1}=j \\mid X_{0}=i)\\,P(X_{2}=k \\mid X_{1}=j) = P_{i j} P_{j k},\n$$\nand the denominator, by the law of total probability and the Markov property, is\n$$\nP(X_{2}=k \\mid X_{0}=i) = \\sum_{m} P(X_{2}=k \\mid X_{1}=m)\\,P(X_{1}=m \\mid X_{0}=i) = \\sum_{m} P_{i m} P_{m k}.\n$$\nTherefore,\n$$\nP(X_{1}=j \\mid X_{0}=i, X_{2}=k) = \\frac{P_{i j} P_{j k}}{\\sum_{m} P_{i m} P_{m k}}.\n$$\nWe substitute $i=1$, $k=2$, and use the given $P$. The nonzero relevant entries are\n$$\nP_{1,1} = 1 - 2\\alpha,\\quad P_{1,2} = 2\\alpha,\\quad P_{2,2} = 1 - \\beta - \\gamma,\\quad P_{1,3} = 0.\n$$\nSince $P_{1,3}=0$, the sum in the denominator reduces to $m \\in \\{1,2\\}$. For $j=2$, the numerator is\n$$\nP_{1,2} P_{2,2} = (2\\alpha)(1 - \\beta - \\gamma).\n$$\nThe denominator is\n$$\n\\sum_{m} P_{1,m} P_{m,2} = P_{1,1} P_{1,2} + P_{1,2} P_{2,2} = (1 - 2\\alpha)(2\\alpha) + (2\\alpha)(1 - \\beta - \\gamma) = 2\\alpha \\big(2 - 2\\alpha - \\beta - \\gamma\\big).\n$$\nHence,\n$$\nP(X_{1}=2 \\mid X_{0}=1, X_{2}=2) = \\frac{(2\\alpha)(1 - \\beta - \\gamma)}{2\\alpha \\big(2 - 2\\alpha - \\beta - \\gamma\\big)} = \\frac{1 - \\beta - \\gamma}{2 - 2\\alpha - \\beta - \\gamma}.\n$$\nThis expression is well-defined under the given constraints $02\\alpha1$, $0\\beta1$, $0\\gamma1$, and $\\beta+\\gamma1$, which ensure the denominator is positive.", "answer": "$$\\boxed{\\frac{1-\\beta-\\gamma}{2-2\\alpha-\\beta-\\gamma}}$$", "id": "1347939"}, {"introduction": "Many real-world systems do not operate under fixed rules; their dynamics can evolve over time. This exercise challenges you to apply the Chapman-Kolmogorov equation in a more general and realistic context: a time-inhomogeneous Markov chain where the underlying transition probabilities change after the first step. Solving this problem requires moving beyond simple matrix exponentiation and using the core principle of composing transitions, highlighting the true versatility of the Chapman-Kolmogorov framework [@problem_id:706878].", "problem": "Consider a discrete-time lazy random walk on a time-varying graph with a set of three vertices $V = \\{1, 2, 3\\}$. The behavior of the walk is governed by a laziness parameter $p \\in (0, 1)$. At any vertex $v$, the walker has a probability $p$ of staying at $v$ for the next time step. With probability $1-p$, the walker moves to one of the neighboring vertices, chosen uniformly at random. The set of neighbors of a vertex $v$ is determined by its degree $d(v)$ in the graph at that specific time. If a vertex has no neighbors ($d(v)=0$), the walker stays at $v$ with probability 1.\n\nThe structure of the graph is time-dependent.\n- For the first time step, from time $t=0$ to $t=1$, the graph is $G_0 = (V, E_0)$ with the edge set $E_0 = \\{(1, 3), (2, 3)\\}$.\n- For all subsequent time steps, from $t=n$ to $t=n+1$ for all $n \\ge 1$, an edge is added between vertices 1 and 2. The graph becomes $G_1 = (V, E_1)$ with the edge set $E_1 = \\{(1, 2), (1, 3), (2, 3)\\}$.\n\nLet $P_{ij}(t)$ denote the probability that the walker is at vertex $j$ at time $t$, given that it started at vertex $i$ at time $t=0$. Using the Chapman-Kolmogorov equation for time-inhomogeneous Markov chains, derive a closed-form expression for the two-step transition probability $P_{33}(2)$ as a function of the laziness parameter $p$.", "solution": "1. The two-step transition probability is given by the Chapman-Kolmogorov equation for time-inhomogeneous chains:  \n   $$P_{33}(2)=\\sum_{k\\in\\{1,2,3\\}}P_{3k}(1)\\,P_{k3}(2)\\,. $$\n2. On $G_0$ (first step), vertex 3 has degree 2, so  \n   $$P_{33}(1)=p,\\quad P_{31}(1)=P_{32}(1)=\\frac{1-p}{2}\\,. $$\n3. On $G_1$ (second step), all vertices have degree 2, so for any $k\\in\\{1,2,3\\}$,  \n   $$P_{k3}(2)=\\begin{cases}\n   p,k=3,\\\\\n   \\tfrac{1-p}{2},k=1,2.\n   \\end{cases}$$\n4. Substituting into the sum:  \n   $$\n   P_{33}(2)\n   =P_{33}(1)P_{33}(2)+P_{31}(1)P_{13}(2)+P_{32}(1)P_{23}(2)\n   =p\\cdot p+2\\cdot\\frac{1-p}{2}\\cdot\\frac{1-p}{2}\n   =p^2+\\frac{(1-p)^2}{2}\\,. \n   $$", "answer": "$$\\boxed{p^2+\\frac{(1-p)^2}{2}}$$", "id": "706878"}]}