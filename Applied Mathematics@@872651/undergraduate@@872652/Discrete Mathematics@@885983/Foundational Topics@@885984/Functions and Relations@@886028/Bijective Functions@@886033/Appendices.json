{"hands_on_practices": [{"introduction": "In computer science, functions that transform data must often be analyzed for information loss. This first exercise explores a simple data transformation—prepending a character to a string—which serves as a perfect model for testing our understanding of injectivity (uniqueness) and surjectivity (completeness). By analyzing this function, you'll practice applying these fundamental concepts in a tangible, non-numerical context relevant to data serialization and protocol design [@problem_id:1352245].", "problem": "In the design of a data serialization protocol, messages are represented as finite-length strings over a given alphabet $\\Sigma$. Let $\\Sigma^*$ denote the set of all such strings, including the empty string which is denoted by $\\epsilon$. The alphabet $\\Sigma$ is guaranteed to contain at least two distinct characters.\n\nA proposed transformation function, $f: \\Sigma^* \\to \\Sigma^*$, is introduced to version-stamp messages. The function takes a message $s \\in \\Sigma^*$ and prepends a fixed, special character $m \\in \\Sigma$ to it. For example, if $\\Sigma = \\{0, 1, \\#\\}$, the special character is $m = \\#$, and the input message is $s = \\text{\"101\"}$, the transformed message is $f(s) = \\text{\"\\#101\"}$. Similarly, if the input is the empty string $\\epsilon$, the output is $f(\\epsilon) = \\text{\"\\#\"}$.\n\nAnalyze the mathematical properties of this transformation function $f$. Which of the following statements accurately describes the function $f$?\n\nA. The function $f$ is injective (one-to-one) but not surjective (onto).\n\nB. The function $f$ is surjective but not injective.\n\nC. The function $f$ is a bijection (i.e., both injective and surjective).\n\nD. The function $f$ is neither injective nor surjective.\n\nE. The properties of $f$ as injective or surjective depend on the specific choice of the marker character $m$ from the alphabet $\\Sigma$.", "solution": "Let $\\Sigma$ be an alphabet with at least two distinct characters, let $\\Sigma^{*}$ be the free monoid of all finite strings over $\\Sigma$ including $\\epsilon$, and fix $m \\in \\Sigma$. Define $f:\\Sigma^{*} \\to \\Sigma^{*}$ by $f(s)=ms$ for all $s \\in \\Sigma^{*}$.\n\nTo test injectivity, use the definition: $f$ is injective if for all $s_{1},s_{2} \\in \\Sigma^{*}$, $f(s_{1})=f(s_{2})$ implies $s_{1}=s_{2}$. Suppose $f(s_{1})=f(s_{2})$. Then\n$$\nms_{1}=ms_{2}.\n$$\nIn the free monoid $\\Sigma^{*}$, concatenation admits left-cancellation because of unique factorization of strings into symbols: equality of two strings that both begin with the same first symbol $m$ implies equality of the remaining suffixes. Therefore,\n$$\ns_{1}=s_{2}.\n$$\nHence $f$ is injective.\n\nTo test surjectivity, use the definition: $f$ is surjective if for every $t \\in \\Sigma^{*}$ there exists $s \\in \\Sigma^{*}$ with $f(s)=t$. For any $s \\in \\Sigma^{*}$, the length satisfies\n$$\n|f(s)|=|ms|=|s|+1 \\geq 1.\n$$\nTherefore $\\epsilon$ is not in the image of $f$, since $f(s) \\neq \\epsilon$ for all $s$. Thus there exists $t=\\epsilon \\in \\Sigma^{*}$ with no preimage, so $f$ is not surjective. Equivalently, the image of $f$ is exactly the subset $m\\Sigma^{*}=\\{ms : s \\in \\Sigma^{*}\\}$ consisting of strings that begin with $m$, which is a proper subset of $\\Sigma^{*}$; for example, pick any $a \\in \\Sigma$ with $a \\neq m$ (which exists since $\\Sigma$ has at least two distinct characters), then the string $a$ is not in the image.\n\nThese properties do not depend on the particular choice of $m \\in \\Sigma$. Therefore, the correct description is that $f$ is injective but not surjective.", "answer": "$$\\boxed{A}$$", "id": "1352245"}, {"introduction": "Moving from simple transformations to more complex systems, we often encounter functions defined by different rules for different inputs. This problem presents a hypothetical \"state scrambler\" in a computing system, where perfect reversibility is critical [@problem_id:1352304]. Analyzing this piecewise function challenges you to perform a more rigorous case-by-case analysis to determine if the function is a true bijection, a skill essential for verifying the behavior of algorithms and abstract machines.", "problem": "In the study of theoretical computer science, abstract machines are often defined by state-transition functions. Consider one such function, a 'state scrambler', which maps an integer state index $n$ to a new state index $f(n)$. The set of all possible states is indexed by the set of all integers, $\\mathbb{Z}$. For the scrambling to be perfectly reversible and to cover all possible states, the function $f: \\mathbb{Z} \\to \\mathbb{Z}$ must be a bijection (i.e., both injective and surjective).\n\nA specific state scrambler protocol is proposed, defined by the following rule for any integer $n \\in \\mathbb{Z}$:\n$$ f(n) = \\begin{cases} |n^2 - n| & \\text{if } n \\text{ is even} \\\\ -|n^2 - n| - 1 & \\text{if } n \\text{ is odd} \\end{cases} $$\n\nAnalyze the properties of this function. Which of the following statements is true?\n\nA. The function is injective but not surjective.\n\nB. The function is surjective but not injective.\n\nC. The function is both injective and surjective (i.e., it is a bijection).\n\nD. The function is neither injective nor surjective.", "solution": "Define $f:\\mathbb{Z}\\to\\mathbb{Z}$ by\n$$\nf(n)=\\begin{cases}\n|n^{2}-n| & \\text{if $n$ is even},\\\\\n-|n^{2}-n|-1 & \\text{if $n$ is odd}.\n\\end{cases}\n$$\nNote that $n^{2}-n=n(n-1)$, the product of consecutive integers.\n\nFirst observe the ranges by parity:\n- If $n$ is even, then $f(n)=|n(n-1)|\\geq 0$.\n- If $n$ is odd, then $f(n)=-|n(n-1)|-1\\leq -1$.\n\nThus images of even and odd inputs are disjoint (nonnegative versus negative), so if $f(n_{1})=f(n_{2})$ then $n_{1},n_{2}$ must have the same parity.\n\nInjectivity on even inputs: Let $n,m$ be even and suppose $f(n)=f(m)$. Then\n$$\n|n(n-1)|=|m(m-1)|.\n$$\nThere are two subcases.\n\n(1) $n(n-1)=m(m-1)$. Then\n$$\nn^{2}-n-m^{2}+m=0 \\iff (n-m)(n+m-1)=0.\n$$\nHence $n=m$ or $n+m=1$. Since the sum of two even integers cannot equal $1$, we get $n=m$.\n\n(2) $n(n-1)=-m(m-1)$. Then\n$$\nn^{2}-n+m^{2}-m=0 \\iff \\left(n-\\frac{1}{2}\\right)^{2}+\\left(m-\\frac{1}{2}\\right)^{2}=\\frac{1}{2}.\n$$\nFor any integer $t$, $\\left(t-\\frac{1}{2}\\right)^{2}\\geq \\frac{1}{4}$, with equality only when $t\\in\\{0,1\\}$. Thus the solutions satisfy $n,m\\in\\{0,1\\}$. With $n,m$ even, this forces $n=m=0$. Therefore no distinct even integers map to the same value, proving injectivity on even inputs.\n\nInjectivity on odd inputs: Let $n,m$ be odd and suppose $f(n)=f(m)$. Then\n$$\n-|n(n-1)|-1=-|m(m-1)|-1 \\iff |n(n-1)|=|m(m-1)|.\n$$\nBy the same two subcases as above:\n- If $n(n-1)=m(m-1)$, then $(n-m)(n+m-1)=0$, giving $n=m$ or $n+m=1$. The sum of two odd integers is even, so $n=m$.\n- If $n(n-1)=-m(m-1)$, then $\\left(n-\\frac{1}{2}\\right)^{2}+\\left(m-\\frac{1}{2}\\right)^{2}=\\frac{1}{2}$, yielding $n,m\\in\\{0,1\\}$. With $n,m$ odd, this forces $n=m=1$.\nThus injectivity holds on odd inputs as well.\n\nSince there is no cross-parity collision (nonnegative versus negative images), $f$ is injective on $\\mathbb{Z}$.\n\nFailure of surjectivity: We show that some integers are not in the image. For any integer $n$, one has\n$$\n|n(n-1)|=\\begin{cases}\n0 & \\text{if } n\\in\\{0,1\\},\\\\\n\\geq 2 & \\text{otherwise},\n\\end{cases}\n$$\nbecause for $n\\notin\\{0,1\\}$ the two consecutive integers $n$ and $n-1$ have absolute values at least $1$ and $2$, producing product of absolute value at least $2$. Therefore $|n(n-1)|\\neq 1$ for all $n\\in\\mathbb{Z}$.\n\nConsequently:\n- No even input maps to $1$ because $f(n)=|n(n-1)|$ for even $n$ cannot equal $1$.\n- No odd input maps to $-2$ because $f(n)=-|n(n-1)|-1$ would require $|n(n-1)|=1$, which is impossible.\n\nHence $1$ and $-2$ are not in the image of $f$, so $f$ is not surjective.\n\nCombining the two parts, $f$ is injective but not surjective.", "answer": "$$\\boxed{A}$$", "id": "1352304"}, {"introduction": "Beyond just verifying their properties, bijections are powerful tools for solving practical problems, such as mapping multi-dimensional data to a single dimension. This exercise introduces the famous Cantor pairing function, an elegant bijection from a 2D grid ($\\mathbb{N}_0 \\times \\mathbb{N}_0$) to a 1D list ($\\mathbb{N}_0$) [@problem_id:1352278]. Instead of proving its bijectivity, your task is to apply its inverse, demonstrating how such functions are used in practice to decode a linear index back into its original coordinates, a foundational concept in database indexing and computer graphics.", "problem": "In a theoretical data storage system, an infinite two-dimensional grid is used to store data nodes. The location of each node is specified by its coordinates $(x, y)$, where both $x$ and $y$ are non-negative integers from the set $\\mathbb{N}_0 = \\{0, 1, 2, ...\\}$. To create a flat one-dimensional index for these nodes, a pairing function $f: \\mathbb{N}_0 \\times \\mathbb{N}_0 \\to \\mathbb{N}_0$ is employed. This function assigns a unique integer ID to each coordinate pair $(x, y)$ and ensures that every non-negative integer corresponds to exactly one coordinate pair. The function is defined as:\n\n$$ f(x, y) = \\frac{1}{2}(x+y)(x+y+1) + y $$\n\nA specific data node has been assigned the integer ID of 2023. Determine the original grid coordinates $(x, y)$ for this node. Present your answer as a pair of integers for $(x, y)$.", "solution": "We are given the Cantor pairing function $f(x,y) = \\frac{1}{2}(x+y)(x+y+1) + y$ and the value $n=2023$. Let $w = x + y$. Then\n$$\nf(x,y) = T(w) + y,\\quad \\text{where } T(w) = \\frac{w(w+1)}{2}.\n$$\nTo invert $f$, choose the unique integer $w$ such that\n$$\nT(w) \\le n < T(w+1),\n$$\nand then compute\n$$\ny = n - T(w),\\quad x = w - y.\n$$\nTo find $w$, solve $T(w) \\le n$, i.e.,\n$$\n\\frac{w(w+1)}{2} \\le n \\quad \\Longleftrightarrow \\quad w^{2} + w - 2n \\le 0.\n$$\nThe equality $w^{2} + w - 2n = 0$ has roots\n$$\nw = \\frac{-1 \\pm \\sqrt{1 + 8n}}{2},\n$$\nand since $w \\ge 0$, we take\n$$\nw = \\left\\lfloor \\frac{-1 + \\sqrt{1 + 8n}}{2} \\right\\rfloor.\n$$\nFor $n = 2023$,\n$$\nw = \\left\\lfloor \\frac{-1 + \\sqrt{1 + 8 \\cdot 2023}}{2} \\right\\rfloor = \\left\\lfloor \\frac{-1 + \\sqrt{16185}}{2} \\right\\rfloor.\n$$\nWe check triangular numbers to bracket $n$:\n$$\nT(63) = \\frac{63 \\cdot 64}{2} = 2016,\\quad T(64) = \\frac{64 \\cdot 65}{2} = 2080,\n$$\nso $2016 \\le 2023 < 2080$, hence $w = 63$. Then\n$$\ny = n - T(w) = 2023 - 2016 = 7,\\quad x = w - y = 63 - 7 = 56.\n$$\nA direct verification gives\n$$\nf(56,7) = \\frac{1}{2}(56+7)(56+7+1) + 7 = \\frac{1}{2}\\cdot 63 \\cdot 64 + 7 = 2016 + 7 = 2023,\n$$\nso the coordinates are $(x,y) = (56,7)$.", "answer": "$$\\boxed{\\begin{pmatrix}56 & 7\\end{pmatrix}}$$", "id": "1352278"}]}