## Introduction
In mathematics, functions are the primary tools for describing relationships between different sets of objects. We typically think of a function as a rule that takes a single input and produces a single output. However, to unlock a deeper understanding of mathematical structures, we must move beyond this one-to-one perspective and ask broader questions: What happens when a function acts on an entire collection of inputs? And which inputs are responsible for producing a given collection of outputs? This article addresses these questions by introducing two of the most fundamental concepts in set theory and function analysis: the **image** and the **[preimage](@entry_id:150899)**.

Mastering [image and preimage](@entry_id:148315) is essential for anyone studying higher mathematics. These concepts provide a precise language to describe how functions map, group, transform, and structure sets. They bridge the gap between elementary function evaluation and the sophisticated analysis required in abstract algebra, topology, and computer science. This article will guide you through the principles, applications, and practical exercises needed to build a robust understanding of these powerful tools. In "Principles and Mechanisms," we will formally define [image and preimage](@entry_id:148315), explore their core properties, and uncover their elegant relationship with [set partitions](@entry_id:266983). Following that, "Applications and Interdisciplinary Connections" will showcase how these concepts are applied to solve problems and reveal structures in fields ranging from graph theory to [error-correcting codes](@entry_id:153794). Finally, "Hands-On Practices" will offer you the opportunity to solidify your knowledge by working through concrete problems.

## Principles and Mechanisms

In our study of functions, we are accustomed to the idea of "applying" a function to an input to produce an output. This section delves into a more sophisticated understanding of this process by examining two fundamental concepts: the **image** and the **preimage**. These concepts extend our view from individual input-output pairs to the collective behavior of functions on entire sets of elements. Mastering images and preimages is crucial, as they form the bedrock for advanced topics in [discrete mathematics](@entry_id:149963), analysis, and topology, providing the language to describe how functions map, group, and structure sets.

### The Image of a Set

The most direct question we can ask about a function $f: X \to Y$ is: if we take a collection of inputs, what collection of outputs do we get?

Let's begin with the image of a single element. For any element $x$ in the domain $X$, its **image** under $f$ is simply the element $f(x)$ in the [codomain](@entry_id:139336) $Y$. This is the standard evaluation of a function.

We can extend this idea from a single element to a subset of the domain. For any subset $A \subseteq X$, the **image of A under f**, denoted $f(A)$, is the set of all outputs generated by the elements of $A$. Formally, this is defined as:

$f(A) = \{ f(x) \mid x \in A \}$

It is essential to recognize that $f(A)$ is a subset of the codomain $Y$. A special case of the image of a set is the **range** of the function, which is the image of the entire domain, $f(X)$. The range consists of all possible values the function can actually produce.

To make this concrete, consider a function $f: S \times S \to \mathbb{Z}$ defined by $f(x, y) = |x - 2y|$, where the domain is built from the set $S = \{-2, -1, 0, 1, 2\}$. Let's find the image of the subset $A = \{(x, y) \in S \times S \mid x + y = 0\}$. First, we identify the elements of $A$: these are pairs where one component is the negative of the other. Given the elements in $S$, we find $A = \{(-2, 2), (-1, 1), (0, 0), (1, -1), (2, -2)\}$. To find the image $f(A)$, we apply the function $f$ to each pair in $A$:

- $f(-2, 2) = |-2 - 2(2)| = |-6| = 6$
- $f(-1, 1) = |-1 - 2(1)| = |-3| = 3$
- $f(0, 0) = |0 - 2(0)| = |0| = 0$
- $f(1, -1) = |1 - 2(-1)| = |3| = 3$
- $f(2, -2) = |2 - 2(-2)| = |6| = 6$

Collecting these unique output values, we find that the image of the set $A$ is $f(A) = \{0, 3, 6\}$ [@problem_id:1375385]. Notice that even though $A$ has five elements, its image $f(A)$ has only three. This occurs because multiple inputs can map to the same output (e.g., $f(-1, 1) = f(1, -1) = 3$).

The elements of the image need not be simple numbers. Consider a function $f: S \to \mathcal{P}(S)$ where $S = \{1, 2, ..., 12\}$ and $\mathcal{P}(S)$ is the [power set](@entry_id:137423) of $S$. The function rule is that for any integer $n \in S$, $f(n)$ is the set of its multiples within $S$. For instance, the image of the element $3$ is the set of its multiples in $S$, so $f(3) = \{3, 6, 9, 12\}$. Similarly, $f(4) = \{4, 8, 12\}$. The outputs of this function are themselves sets [@problem_id:1375354].

### The Preimage of a Set

While the image answers "where do these inputs go?", the preimage answers the reverse question: "which inputs could have led to these outputs?". The concept of a [preimage](@entry_id:150899), or **[inverse image](@entry_id:154161)**, is one of the most powerful in mathematics.

For a function $f: X \to Y$, the **preimage of a subset B** of the codomain, denoted $f^{-1}(B)$, is the set of all elements in the domain $X$ that map to an element in $B$. Formally:

$f^{-1}(B) = \{ x \in X \mid f(x) \in B \}$

It is critically important to understand that the notation $f^{-1}$ here **does not** imply that the function $f$ has an [inverse function](@entry_id:152416). The preimage $f^{-1}(B)$ is a well-defined set for *any* function, whether it is invertible or not. If $B$ contains a single element, say $B=\{y\}$, we often write the [preimage](@entry_id:150899) as $f^{-1}(y)$ instead of the more formal $f^{-1}(\{y\})$.

Let's consider an intuitive, non-numerical example. Suppose a set of servers $X = \{s_1, ..., s_8\}$ are located in a set of data centers $Y = \{\text{Tokyo, London, Sydney, Mumbai, New York}\}$. A function $f: X \to Y$ maps each server to its location. If we need to perform maintenance on all servers in the European and Australian regions, we are interested in the locations $B = \{\text{London, Sydney}\}$. The set of servers we need to work on is precisely the [preimage](@entry_id:150899) $f^{-1}(B)$. By checking which servers map to 'London' or 'Sydney', we identify the required set of servers [@problem_id:1375371].

The nature of the preimage can vary greatly depending on the function.
- **Discrete Sets:** In the function $f(x, y) = |x - 2y|$ from our previous example, if we seek the [preimage](@entry_id:150899) of the set $B = \{1, 3\}$, we must find all pairs $(x, y)$ in the domain $S \times S$ such that $|x - 2y|$ is either 1 or 3. This involves a systematic search over the [finite domain](@entry_id:176950), yielding a [discrete set](@entry_id:146023) of pairs: $f^{-1}(\{1, 3\}) = \{(-1, -2), (-1, -1), (-1, 0), (-1, 1), (1, -1), (1, 0), (1, 1), (1, 2)\}$ [@problem_id:1375385].

- **Solutions to Congruences:** Consider a function $g: S \to \mathbb{Z}_{12}$ defined by $g(n) = (5n + 7) \pmod{12}$, where $S = \{1, 2, ..., 30\}$. To find the preimage of the element $8 \in \mathbb{Z}_{12}$, we must solve the congruence $5n + 7 \equiv 8 \pmod{12}$. This simplifies to $5n \equiv 1 \pmod{12}$. By finding the [multiplicative inverse](@entry_id:137949) of 5 modulo 12 (which is 5, since $5 \times 5 = 25 \equiv 1 \pmod{12}$), we find $n \equiv 5 \pmod{12}$. The solutions must be of the form $n = 12k + 5$. We then select only those solutions that lie within the domain $S$, which are $5, 17,$ and $29$. Thus, $g^{-1}(8) = \{5, 17, 29\}$ [@problem_id:1375351].

- **Continuous Intervals:** The preimage is not always a discrete collection of points. Consider a quantization function $Q: \mathbb{R} \to \mathbb{Z}$ given by $Q(v) = \lfloor v/3 \rfloor$. If we want to find the [preimage](@entry_id:150899) of the integer $-2$, we are solving the equation $\lfloor v/3 \rfloor = -2$. By the definition of the [floor function](@entry_id:265373), this is equivalent to the inequality $-2 \le v/3 \lt -1$. Multiplying by 3, we get $-6 \le v \lt -3$. The [preimage](@entry_id:150899) is therefore not a single value or a [discrete set](@entry_id:146023), but the entire continuous interval $[-6, -3)$ [@problem_id:1375388].

- **Geometric Objects:** Preimages can also describe geometric shapes. Let $f: \mathbb{R}^3 \to \mathbb{R}$ be defined by $f(x, y, z) = x + y + z$. The preimage of the number 1, $f^{-1}(1)$, is the set of all points $(x, y, z)$ such that $x + y + z = 1$. This is the standard [equation of a plane](@entry_id:151332) in three-dimensional space. Since the point $(0, 0, 0)$ does not satisfy the equation ($0+0+0 \neq 1$), this plane does not pass through the origin [@problem_id:1375343].

- **Descriptive Sets:** Sometimes, the most meaningful way to describe a preimage is by stating the condition that its elements must satisfy. For the function $f: \mathbb{Z} \times \mathbb{Z} \to \mathbb{Z}$ defined by $f(x, y) = |x| - |y|$, the preimage of 0 is the set of all pairs $(x,y)$ such that $|x| - |y| = 0$, which simplifies to $|x| = |y|$. This condition is met if and only if $x=y$ or $x=-y$. This provides a complete and clear description of an infinite set of points in the integer lattice [@problem_id:1375367].

### Fundamental Properties and Relationships

The operations of taking an image and a [preimage](@entry_id:150899) have a rich interplay. One might naively assume that applying them in succession would return the original set, but this is not always the case. Understanding the precise relationships is key to using these tools correctly.

#### Composing Image and Preimage: $f(f^{-1}(B))$

Let's first consider applying the [preimage](@entry_id:150899) operation, followed by the image operation. Given a subset $B \subseteq Y$, what is the set $f(f^{-1}(B))$? One might guess the answer is simply $B$, but this is only true under specific conditions.

The universally true relationship is:
$f(f^{-1}(B)) = B \cap f(X)$

Let's prove this by double inclusion [@problem_id:1574885].
1.  **Proof that $f(f^{-1}(B)) \subseteq B \cap f(X)$**: Let $y \in f(f^{-1}(B))$. By the definition of image, there exists an element $x \in f^{-1}(B)$ such that $f(x) = y$. Since $x \in f^{-1}(B)$, its image $f(x)$ must be in $B$. Thus, $y \in B$. Furthermore, since $y = f(x)$ for some $x$ in the domain $X$, $y$ is also in the range of $f$, so $y \in f(X)$. Because $y$ is in both sets, $y \in B \cap f(X)$.

2.  **Proof that $B \cap f(X) \subseteq f(f^{-1}(B))$**: Let $y \in B \cap f(X)$. Since $y \in f(X)$, there exists some $x \in X$ such that $f(x) = y$. Since we also know $y \in B$, we have found an element $x \in X$ whose image $f(x)$ is in $B$. By the definition of [preimage](@entry_id:150899), this means $x \in f^{-1}(B)$. Now, since we have an element $x$ in the set $f^{-1}(B)$, its image, $f(x)=y$, must be in the image of that set, $f(f^{-1}(B))$.

This identity reveals that the resulting set consists only of the elements of $B$ that are actually "reachable" by the function $f$. If $B$ contains elements outside the function's range, they cannot appear in the final set. The equality $f(f^{-1}(B)) = B$ holds if and only if $B$ is a subset of the function's range, $B \subseteq f(X)$. This condition is always met if the function is **surjective** (or "onto"), meaning its range is equal to its [codomain](@entry_id:139336).

#### Composing Preimage and Image: $f^{-1}(f(A))$

Now let's examine the reverse composition. Given a subset $A \subseteq X$, what is the set $f^{-1}(f(A))$? Here, the relationship is an inclusion:

$A \subseteq f^{-1}(f(A))$

This is straightforward to see. For any $x \in A$, its image is $f(x)$. By definition, $f(x)$ is an element of the set $f(A)$. The [preimage](@entry_id:150899) $f^{-1}(f(A))$ is the set of all elements that map into $f(A)$. Since $x$ is one such element, $x$ must belong to $f^{-1}(f(A))$.

When is this inclusion an equality? The set $f^{-1}(f(A))$ contains every element of $A$, but it might also contain elements *not* in $A$. Specifically, it includes any element $z \in X \setminus A$ that happens to have the same image as an element in $A$. This happens when a function is not **injective** (or "one-to-one").

Consider the function $f: \mathbb{Z} \to \{0, 1, 2, 3, 4\}$ defined by $f(n) = n \pmod 5$, and let the subset of the domain be $A = \{1, 6\}$. The image of this set is $f(A) = \{f(1), f(6)\} = \{1, 1\} = \{1\}$. Now, we find the [preimage](@entry_id:150899) of this image: $f^{-1}(f(A)) = f^{-1}(\{1\})$. This is the set of all integers $n \in \mathbb{Z}$ such that $n \pmod 5 = 1$. This set is $\{..., -9, -4, 1, 6, 11, ...\}$. Clearly, $A = \{1, 6\}$ is a [proper subset](@entry_id:152276) of $f^{-1}(f(A))$, as it does not contain elements like 11, which is in $f^{-1}(f(A))$ but not in $A$ [@problem_id:1297656]. The equality $A = f^{-1}(f(A))$ holds for all subsets $A \subseteq X$ if and only if the function $f$ is injective.

### Preimages and Partitions of a Set

One of the most elegant applications of preimages is their natural ability to partition a set. A **partition** of a set $X$ is a collection of non-empty, pairwise disjoint subsets of $X$ whose union is the entire set $X$.

Consider any function $f: X \to Y$. This function groups elements of the domain $X$ together based on their image. All elements that map to the same output value can be seen as belonging to the same "club". The collection of these clubs forms a partition of the domain.

More formally, for any function $f: X \to Y$, the collection of non-empty preimages of elements in the image of $f$ forms a partition of the domain $X$. This collection is the set $\mathcal{F} = \{ f^{-1}(y) \mid y \in f(X) \}$.

Let's verify the three properties of a partition [@problem_id:2310840]:
1.  **Non-empty subsets:** We define the collection $\mathcal{F}$ using only elements $y$ from the image $f(X)$. By definition of the image, for every such $y$, there must be at least one $x \in X$ such that $f(x)=y$. This guarantees that each preimage set $f^{-1}(y)$ is non-empty.
2.  **Union is the whole set:** Every element $x \in X$ must map to some value $y = f(x)$ in the codomain. This value $y$ is, by definition, in the image $f(X)$. Therefore, $x$ belongs to the preimage set $f^{-1}(y)$. Since every $x \in X$ belongs to one of these preimage sets, their union must be all of $X$.
3.  **Pairwise disjoint subsets:** Consider two distinct output values $y_1, y_2 \in f(X)$. Let's assume their preimages $f^{-1}(y_1)$ and $f^{-1}(y_2)$ have a non-empty intersection. This means there is some element $x$ such that $x \in f^{-1}(y_1)$ and $x \in f^{-1}(y_2)$. But by the definition of preimage, this implies $f(x)=y_1$ and $f(x)=y_2$. Since a function must assign a unique output to each input, we must have $y_1 = y_2$, which contradicts our assumption that the values were distinct. Therefore, the intersection must be empty.

As an example, let's partition the set $X = \{1, 2, 3, 4, 5, 6, 7, 8\}$ using the function $f(x) = (x^2 + 1) \pmod{5}$. By calculating the function's value for each element in $X$, we find the image (range) is $f(X) = \{0, 1, 2\}$. Now we find the [preimage](@entry_id:150899) for each of these three values:
- $f^{-1}(0) = \{x \in X \mid x^2+1 \equiv 0 \pmod 5\} = \{2, 3, 7, 8\}$
- $f^{-1}(1) = \{x \in X \mid x^2+1 \equiv 1 \pmod 5\} = \{5\}$
- $f^{-1}(2) = \{x \in X \mid x^2+1 \equiv 2 \pmod 5\} = \{1, 4, 6\}$

The collection of these sets, $\mathcal{F} = \{\{2, 3, 7, 8\}, \{5\}, \{1, 4, 6\}\}$, satisfies all the conditions for a partition of $X$: each set is non-empty, their union is $X$, and they are pairwise disjoint. This demonstrates a profound connection between functions and the fundamental structure of sets.