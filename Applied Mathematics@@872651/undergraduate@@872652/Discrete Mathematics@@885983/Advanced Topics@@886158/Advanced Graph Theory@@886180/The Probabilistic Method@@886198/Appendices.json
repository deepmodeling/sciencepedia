{"hands_on_practices": [{"introduction": "The probabilistic method often begins with a simple yet powerful tool: linearity of expectation. This principle allows us to calculate the expected number of certain substructures in a random object, like a graph, without needing to understand the full, often complex, probability distribution. In this exercise, you will calculate the expected number of 4-cycles in the classic random graph model, $G(n,p)$ [@problem_id:1546148]. By defining simple indicator variables for each potential cycle and summing their expectations, you will practice a foundational technique that elegantly bypasses the dependencies between overlapping substructures, a core skill for analyzing random combinatorial objects.", "problem": "A large-scale decentralized peer-to-peer network is modeled as a random graph. The network consists of $n$ distinct nodes, and a direct, bidirectional communication link (an edge) is established between any pair of distinct nodes with a probability $p$, where $0 < p < 1$. The presence or absence of any link is independent of all other links.\n\nIn this network, a key structure for ensuring data integrity and routing efficiency is the 'resilient quartet'. A resilient quartet is defined as a subgraph formed by exactly four distinct nodes and four specific edges that connect these nodes into a single, simple cycle of length four. For example, given four nodes A, B, C, and D, a resilient quartet exists if the links (A,B), (B,C), (C,D), and (D,A) are all present. The presence or absence of any other potential links between these four nodes (i.e., the \"diagonal\" links (A,C) and (B,D)) does not affect its classification as a resilient quartet.\n\nGiven the network parameters $n$ and $p$, determine the expected number of resilient quartets in the network. Provide your answer as a closed-form analytic expression in terms of $n$ and $p$.", "solution": "Let $G$ be the Erd\\H{o}s–R\\'enyi random graph with parameters $n$ and $p$. Define $X$ to be the number of resilient quartets (simple 4-cycles) in $G$.\n\nIntroduce indicator variables: for each undirected simple 4-cycle $C$ on the labeled vertex set $\\{1,\\dots,n\\}$, let $I_{C}$ be the indicator that all four edges of $C$ are present in $G$. Then\n$$\nX=\\sum_{C} I_{C}.\n$$\nBy linearity of expectation,\n$$\n\\mathbb{E}[X]=\\sum_{C} \\mathbb{E}[I_{C}]=\\sum_{C} \\mathbb{P}(I_{C}=1).\n$$\nFor any fixed 4-cycle $C$, exactly four specific edges must be present; all edges in $G$ are independent and present with probability $p$, and the presence or absence of the two possible diagonals among the same four vertices does not affect the classification. Therefore,\n$$\n\\mathbb{P}(I_{C}=1)=p^{4}.\n$$\n\nIt remains to count the number of distinct undirected 4-cycles on $n$ labeled vertices. First choose the 4 vertices; there are $\\binom{n}{4}$ ways. On a fixed labeled set of 4 vertices, the number of distinct undirected 4-cycles is\n$$\n\\frac{(4-1)!}{2}=3,\n$$\nsince there are $(4-1)!$ cyclic orderings and we divide by $2$ for reversal symmetry.\n\nHence the total number of candidate 4-cycles is\n$$\n3\\binom{n}{4}.\n$$\nCombining the count with the probability for each cycle,\n$$\n\\mathbb{E}[X]=\\left(3\\binom{n}{4}\\right)p^{4}.\n$$\nEquivalently, $\\mathbb{E}[X]=\\frac{n(n-1)(n-2)(n-3)}{8}\\,p^{4}$.", "answer": "$$\\boxed{3\\binom{n}{4}p^{4}}$$", "id": "1546148"}, {"introduction": "A hallmark of the probabilistic method is its power to deliver elegant, non-constructive existence proofs. A common step in these proofs involves showing that the expected number of \"bad\" properties in a random construction is less than one. This exercise asks you to act as a critic and analyze the precise logic underlying this step, pinpointing a subtle but common misconception [@problem_id:1485029]. By dissecting the flawed reasoning, you will reinforce your understanding of why an average value being small guarantees the existence of at least one instance with a desired property, which is the cornerstone of this proof technique.", "problem": "In a graph theory course, a student is learning about Ramsey numbers and the probabilistic method for finding their lower bounds. The Ramsey number $R(k, t)$ is the smallest integer $n$ such that any red-blue coloring of the edges of a complete graph on $n$ vertices, $K_n$, must contain either a red $K_k$ (a complete subgraph of size $k$ with all edges colored red) or a blue $K_t$.\n\nThe student attempts to formulate an argument to find a lower bound for the diagonal Ramsey number $R(k, k)$. The student's argument proceeds as follows:\n\n1.  Consider a complete graph $K_n$ on $n$ vertices. Color each of its $\\binom{n}{2}$ edges independently and uniformly at random, either red or blue, with probability $\\frac{1}{2}$ for each color.\n\n2.  Let $S$ be any specific subset of $k$ vertices. The probability that the subgraph induced by $S$ is a monochromatic $K_k$ is $2 \\cdot \\left(\\frac{1}{2}\\right)^{\\binom{k}{2}} = 2^{1-\\binom{k}{2}}$.\n\n3.  Let $X$ be the random variable for the total number of monochromatic $K_k$ subgraphs in the coloring. By linearity of expectation, the expected number of monochromatic $K_k$ subgraphs is $E[X] = \\binom{n}{k} 2^{1-\\binom{k}{2}}$.\n\n4.  Now, suppose we choose $n$ and $k$ such that $E[X] < 1$.\n\n5.  The student concludes: \"The expected number of monochromatic $K_k$s is the average number over all possible colorings. If this average is less than one, then every single coloring must result in a graph with fewer than one monochromatic $K_k$. Since the number of such subgraphs must be an integer, this means every coloring must have zero monochromatic $K_k$s. Therefore, if $\\binom{n}{k} 2^{1-\\binom{k}{2}} < 1$, then $R(k, k) > n$.\"\n\nWhat is the primary logical flaw in the student's reasoning, specifically in their conclusion in Step 5?\n\nA. The formula for the expected value $E[X]$ is incorrect; it should not be a product of the number of subgraphs and the probability.\n\nB. The expectation $E[X]$ is an average over all outcomes, and having $E[X] < 1$ does not imply that every outcome must be zero; it only guarantees that at least one outcome must be zero.\n\nC. The argument is invalid because the expectation of a discrete random variable, like the number of subgraphs, must be an integer. The condition $E[X] < 1$ is therefore a contradiction.\n\nD. The conclusion that $R(k, k) > n$ is incorrect. Even if a coloring with no monochromatic $K_k$ exists, it does not provide information about the Ramsey number.\n\nE. The student's argument breaks down because the random variable $X$ does not follow a uniform distribution, which is a required condition for this type of probabilistic argument.", "solution": "We model the random coloring by taking the sample space of all $2^{\\binom{n}{2}}$ red-blue edge colorings of $K_{n}$ with the uniform distribution. For each $k$-subset $S$ of vertices, the event that $S$ induces a monochromatic $K_{k}$ has probability $2 \\cdot \\left(\\frac{1}{2}\\right)^{\\binom{k}{2}} = 2^{1-\\binom{k}{2}}$. Let $X$ be the number of monochromatic $K_{k}$ subgraphs; by linearity of expectation,\n$$\nE[X] \\;=\\; \\sum_{S \\in \\binom{[n]}{k}} \\Pr(\\text{$S$ is monochromatic}) \\;=\\; \\binom{n}{k}\\, 2^{\\,1-\\binom{k}{2}}.\n$$\nAssume $E[X] < 1$. The student’s Step 5 claims that if the average number of monochromatic $K_{k}$ is less than $1$, then every coloring must have fewer than $1$ such subgraph, hence $0$. This is a logical error: an average bound does not impose a pointwise bound on every outcome.\n\nFormally, since $X \\ge 0$, Markov’s inequality gives\n$$\n\\Pr(X \\ge 1) \\le \\frac{E[X]}{1} = E[X] < 1,\n$$\nso\n$$\n\\Pr(X = 0) = 1 - \\Pr(X \\ge 1) \\ge 1 - E[X] > 0.\n$$\nThus there exists at least one coloring with $X=0$, but it is false that every coloring must have $X=0$. A simple counterexample to the student’s inference pattern: a random variable that is $0$ with probability $\\frac{3}{4}$ and $2$ with probability $\\frac{1}{4}$ has $E[X] = \\frac{1}{2} < 1$, yet not every outcome is $0$.\n\nTherefore, the primary flaw in Step 5 is conflating the expectation (an average) with a universal guarantee about all outcomes. The correct statement is that $E[X] < 1$ implies the existence of at least one coloring with no monochromatic $K_{k}$, not that every coloring has none. This corresponds to option B.", "answer": "$$\\boxed{B}$$", "id": "1485029"}, {"introduction": "While proving that a combinatorial object with certain properties exists is a major achievement, we often want to actually find such an object. This is the goal of derandomization, a set of techniques that transform probabilistic arguments into deterministic, constructive algorithms. This problem guides you through a concrete application of one such technique, the method of conditional expectations, to solve the weighted MAX-CUT problem [@problem_id:1410242]. By making a sequence of locally optimal choices, you will deterministically build a solution whose quality was initially guaranteed only by a probabilistic argument, revealing the deep connection between existence proofs and practical computation.", "problem": "A large logistics company is looking to partition its warehouses into two distinct operational zones, \"East\" and \"West\", to streamline its distribution network. The efficiency of this partition is measured by the total daily transfer cost of goods that move *between* the two zones. A higher inter-zone cost signifies that the partition successfully separates high-volume traffic routes, which can then be managed by a specialized transit system.\n\nThe company has a set of warehouses (vertices) and knows the daily transfer cost (edge weight) between any two warehouses that have a direct route. To create the partition, they employ a deterministic algorithm based on a derandomization technique from probabilistic combinatorics.\n\nThe warehouses are indexed as $v_1, v_2, \\ldots, v_n$ and are processed sequentially in this order. For each warehouse $v_k$ (for $k=1, \\ldots, n$), it is assigned to either the \"East\" or \"West\" zone. The decision is made according to the following rule:\nThe algorithm assigns $v_k$ to the zone that maximizes the sum of transfer costs to warehouses that have *already* been placed in the *opposite* zone. In case of a tie, $v_k$ is assigned to the \"East\" zone.\n\nConsider a small network of 5 warehouses, $V = \\{v_1, v_2, v_3, v_4, v_5\\}$, with the following direct routes and transfer costs (weights):\n- $w_{12}=3$, $w_{13}=5$, $w_{15}=2$\n- $w_{23}=8$, $w_{24}=6$\n- $w_{34}=4$, $w_{35}=7$\n- $w_{45}=10$\nAll other pairs of warehouses do not have a direct route (i.e., their edge weight is 0).\n\nYour task is to apply this algorithm to the given network. Calculate the total weight of the cut produced, which corresponds to the total daily transfer cost between the \"East\" and \"West\" zones.", "solution": "We process vertices in order $v_{1},\\ldots,v_{5}$. For each $v_{k}$, if placed in East, its immediate contribution to the cut is $\\sum_{u \\in W} w_{ku}$; if placed in West, its immediate contribution is $\\sum_{u \\in E} w_{ku}$. We choose the side that maximizes this sum, breaking ties toward East.\n\nInitialize $E=\\emptyset$, $W=\\emptyset$, and current cut weight $C=0$.\n\n1) $v_{1}$:\n- If $v_{1}\\in E$: $\\sum_{u \\in W} w_{1u}=0$.\n- If $v_{1}\\in W$: $\\sum_{u \\in E} w_{1u}=0$.\nTie, so place $v_{1}\\in E$. Now $E=\\{v_{1}\\}$, $W=\\emptyset$, $C=0$.\n\n2) $v_{2}$:\n- If $v_{2}\\in E$: $\\sum_{u \\in W} w_{2u}=0$.\n- If $v_{2}\\in W$: $\\sum_{u \\in E} w_{2u}=w_{21}=w_{12}=3$.\nChoose West. Add $3$ to the cut: $C=0+3=3$. Now $E=\\{v_{1}\\}$, $W=\\{v_{2}\\}$.\n\n3) $v_{3}$:\n- If $v_{3}\\in E$: $\\sum_{u \\in W} w_{3u}=w_{32}=w_{23}=8$.\n- If $v_{3}\\in W$: $\\sum_{u \\in E} w_{3u}=w_{31}=w_{13}=5$.\nChoose East. Add $8$ to the cut: $C=3+8=11$. Now $E=\\{v_{1},v_{3}\\}$, $W=\\{v_{2}\\}$.\n\n4) $v_{4}$:\n- If $v_{4}\\in E$: $\\sum_{u \\in W} w_{4u}=w_{42}=w_{24}=6$.\n- If $v_{4}\\in W$: $\\sum_{u \\in E} w_{4u}=w_{41}+w_{43}=0+w_{34}=4$ (since $w_{14}=0$).\nChoose East. Add $6$ to the cut: $C=11+6=17$. Now $E=\\{v_{1},v_{3},v_{4}\\}$, $W=\\{v_{2}\\}$.\n\n5) $v_{5}$:\n- If $v_{5}\\in E$: $\\sum_{u \\in W} w_{5u}=w_{52}=w_{25}=0$.\n- If $v_{5}\\in W$: $\\sum_{u \\in E} w_{5u}=w_{51}+w_{53}+w_{54}=w_{15}+w_{35}+w_{45}=2+7+10=19$.\nChoose West. Add $19$ to the cut: $C=17+19=36$. Now $E=\\{v_{1},v_{3},v_{4}\\}$, $W=\\{v_{2}, v_5\\}$.\n\nThe final partition is $E=\\{v_1, v_3, v_4\\}$ and $W=\\{v_2, v_5\\}$. The total weight of the cut produced by the algorithm is $36$. The set of crossing edges is $\\{(1,2), (1,5), (2,3), (2,4), (3,5), (4,5)\\}$, and their weights $3, 2, 8, 6, 7, 10$ sum to $36$.", "answer": "$$\\boxed{36}$$", "id": "1410242"}]}