{"hands_on_practices": [{"introduction": "To begin, let's apply our knowledge to one of the most fundamental types of Directed Acyclic Graphs: a simple path. By analyzing this elementary structure [@problem_id:1533651], you can directly practice identifying vertices with zero in-degree (sources) and zero out-degree (sinks). This exercise solidifies the core definitions in a clear and uncluttered context.", "problem": "Consider a Directed Acyclic Graph (DAG) denoted by $G$, which is constructed on a set of $n$ vertices, labeled $V = \\{v_1, v_2, \\dots, v_n\\}$, where $n$ is an integer and $n \\ge 2$. The structure of the graph is defined by its edges: for every integer $i$ from $1$ to $n-1$, there is a directed edge from vertex $v_i$ to vertex $v_{i+1}$. These are the only edges present in the graph $G$.\n\nIn any directed graph, a vertex is called a **source** if its in-degree is 0 (i.e., it has no incoming edges). A vertex is called a **sink** if its out-degree is 0 (i.e., it has no outgoing edges).\n\nBased on this information, determine the total number of vertices in $G$ that are either a source or a sink.\n\nA. 1\nB. 2\nC. $n$\nD. $n-1$\nE. The number depends on the value of $n$.", "solution": "The graph $G$ has vertex set $V=\\{v_{1},v_{2},\\dots,v_{n}\\}$ and edge set defined as follows: for each integer $i$ with $1 \\leq i \\leq n-1$, there is exactly one directed edge from $v_{i}$ to $v_{i+1}$. Thus the edge set is $E=\\{(v_{i},v_{i+1}) : i=1,2,\\dots,n-1\\}$, and there are no other edges.\n\nCompute in-degree and out-degree of each vertex:\n- For $v_{1}$, there is no edge entering $v_{1}$, so its in-degree is $0$, and there is one edge leaving $v_{1}$ to $v_{2}$, so its out-degree is $1$. Hence $v_{1}$ is a source and not a sink.\n- For $v_{n}$, there is one edge entering $v_{n}$ from $v_{n-1}$, so its in-degree is $1$, and there is no edge leaving $v_{n}$, so its out-degree is $0$. Hence $v_{n}$ is a sink and not a source.\n- For any $v_{i}$ with $2 \\leq i \\leq n-1$, there is exactly one incoming edge from $v_{i-1}$ and exactly one outgoing edge to $v_{i+1}$, so its in-degree is $1$ and its out-degree is $1$. Hence such $v_{i}$ is neither a source nor a sink.\n\nTherefore, exactly two vertices are either a source or a sink, namely $v_{1}$ (source) and $v_{n}$ (sink). This corresponds to option B.", "answer": "$$\\boxed{B}$$", "id": "1533651"}, {"introduction": "With the basics established, it's time to sharpen your critical thinking skills and challenge a common misconception. Does every DAG necessarily have the same number of sources and sinks? This practice [@problem_id:1533666] asks you to evaluate several small graphs to find a counterexample, a crucial skill for verifying or refuting claims in graph theory.", "problem": "A directed graph $G$ is defined by a set of vertices $V$ and a set of edges $E$, where each edge is an ordered pair of vertices $(u,v)$ representing a directed connection from vertex $u$ to vertex $v$. The in-degree of a vertex is the number of incoming edges, and the out-degree is the number of outgoing edges.\n\nWithin this context, we define the following terms:\n- A **source** is a vertex with an in-degree of 0.\n- A **sink** is a vertex with an out-degree of 0.\n- A **Directed Acyclic Graph (DAG)** is a directed graph that contains no directed cycles (i.e., there is no path of edges that starts and ends at the same vertex).\n\nConsider the following claim: \"For any non-empty Directed Acyclic Graph, the number of sources is always equal to the number of sinks.\"\n\nYour task is to identify which of the following graphs, described by their vertex set $V$ and edge set $E$, serves as a counterexample to this claim.\n\nA. $V = \\{1, 2, 3\\}$, $E = \\{(1, 2), (1, 3)\\}$\nB. $V = \\{1, 2, 3\\}$, $E = \\{(1, 2), (2, 3)\\}$\nC. $V = \\{1, 2, 3\\}$, $E = \\{(1, 2), (2, 3), (3, 1)\\}$\nD. $V = \\{1, 2, 3, 4\\}$, $E = \\{(1, 3), (1, 4), (2, 3), (2, 4)\\}$", "solution": "We test each option to find a non-empty Directed Acyclic Graph (DAG) in which the number of sources (vertices with in-degree zero) is not equal to the number of sinks (vertices with out-degree zero). For each graph, we compute in-degrees and out-degrees, verify acyclicity, and compare the counts of sources and sinks.\n\nOption A: $V=\\{1,2,3\\}$, $E=\\{(1,2),(1,3)\\}$. The degrees are: $\\deg^{-}(1)=0$ and $\\deg^{+}(1)=2$ (edges to $2$ and $3$), $\\deg^{-}(2)=1$ and $\\deg^{+}(2)=0$ (incoming from $1$ only), $\\deg^{-}(3)=1$ and $\\deg^{+}(3)=0$ (incoming from $1$ only). Sources are $\\{1\\}$ (count $1$), sinks are $\\{2,3\\}$ (count $2$). There is no directed cycle, since all edges go from $1$ to $\\{2,3\\}$ and neither $2$ nor $3$ has outgoing edges. Thus this is a non-empty DAG with sources not equal to sinks, so it is a counterexample.\n\nOption B: $V=\\{1,2,3\\}$, $E=\\{(1,2),(2,3)\\}$. The degrees are: $\\deg^{-}(1)=0$, $\\deg^{+}(1)=1$; $\\deg^{-}(2)=1$, $\\deg^{+}(2)=1$; $\\deg^{-}(3)=1$, $\\deg^{+}(3)=0$. Sources are $\\{1\\}$ (count $1$), sinks are $\\{3\\}$ (count $1$). This is a DAG (a directed path), and counts are equal, so not a counterexample.\n\nOption C: $V=\\{1,2,3\\}$, $E=\\{(1,2),(2,3),(3,1)\\}$. This contains the directed cycle $1 \\to 2 \\to 3 \\to 1$, so it is not a DAG and therefore cannot serve as a counterexample to the claim restricted to DAGs.\n\nOption D: $V=\\{1,2,3,4\\}$, $E=\\{(1,3),(1,4),(2,3),(2,4)\\}$. The degrees are: $\\deg^{-}(1)=0$, $\\deg^{+}(1)=2$; $\\deg^{-}(2)=0$, $\\deg^{+}(2)=2$; $\\deg^{-}(3)=2$, $\\deg^{+}(3)=0$; $\\deg^{-}(4)=2$, $\\deg^{+}(4)=0$. Sources are $\\{1,2\\}$ (count $2$), sinks are $\\{3,4\\}$ (count $2$). There is no directed cycle since all edges go from $\\{1,2\\}$ to $\\{3,4\\}$, so it is a DAG with equal counts, not a counterexample.\n\nTherefore, the only valid counterexample among the options is A.", "answer": "$$\\boxed{A}$$", "id": "1533666"}, {"introduction": "The concepts of sources and sinks are powerful because they model many real-world systems, from project tasks to software dependencies. In this final exercise [@problem_id:1533678], you'll step into a practical scenario, translating the theoretical definition of a sink into an algorithmic procedure. Your task is to find all \"top-level\" libraries by interpreting a graph's adjacency list representation, bridging the gap between abstract theory and computational practice.", "problem": "CodeWeavers Inc. manages a complex ecosystem of internal software libraries. The relationships between these libraries are modeled as a Directed Acyclic Graph (DAG), where a directed edge from library `u` to library `v`, denoted `(u, v)`, signifies that library `u` is a direct dependency for library `v`. The company needs to identify all \"top-level\" libraries, which are defined as libraries that are not dependencies for any other library in the system. In graph theory terms, these are the sink vertices of the dependency graph.\n\nThe structure of this dependency graph, consisting of 12 libraries labeled with integers from 0 to 11, is provided as an adjacency list representation. In this representation, `\\mathrm{Adj}[i]` is a list of libraries that depend on library `i`.\n\n- `\\mathrm{Adj}[0] = [1, 4]`\n- `\\mathrm{Adj}[1] = [2, 3]`\n- `\\mathrm{Adj}[2] = []`\n- `\\mathrm{Adj}[3] = [5]`\n- `\\mathrm{Adj}[4] = [5]`\n- `\\mathrm{Adj}[5] = [6]`\n- `\\mathrm{Adj}[6] = []`\n- `\\mathrm{Adj}[7] = [8, 9]`\n- `\\mathrm{Adj}[8] = [10]`\n- `\\mathrm{Adj}[9] = [10]`\n- `\\mathrm{Adj}[10] = [11]`\n- `\\mathrm{Adj}[11] = []`\n\nYour task is to identify all the top-level libraries (sinks). Present your answer as a row matrix of vertex IDs in increasing order.", "solution": "We model the libraries as a directed acyclic graph $G=(V,E)$ with $V=\\{0,1,\\dots,11\\}$. A directed edge $(u,v)\\in E$ means $u$ is a direct dependency of $v$. The adjacency list is given so that $\\mathrm{Adj}[i]$ lists the vertices $v$ such that $(i,v)\\in E$.\n\nTop-level libraries (sinks) are vertices that are not dependencies of any other library. In graph terms, a sink is a vertex $v\\in V$ with outdegree zero. Let $d^{+}(v)$ denote the outdegree of $v$. Then $v$ is a sink if and only if $d^{+}(v)=0$, which is equivalent to $\\mathrm{Adj}[v]$ being the empty list.\n\nWe examine each vertexâ€™s adjacency list:\n- $\\mathrm{Adj}[0]=[1,4]\\neq\\emptyset\\Rightarrow d^{+}(0)>0$.\n- $\\mathrm{Adj}[1]=[2,3]\\neq\\emptyset\\Rightarrow d^{+}(1)>0$.\n- $\\mathrm{Adj}[2]=[\\ ]=\\emptyset\\Rightarrow d^{+}(2)=0$ (sink).\n- $\\mathrm{Adj}[3]=[5]\\neq\\emptyset\\Rightarrow d^{+}(3)>0$.\n- $\\mathrm{Adj}[4]=[5]\\neq\\emptyset\\Rightarrow d^{+}(4)>0$.\n- $\\mathrm{Adj}[5]=[6]\\neq\\emptyset\\Rightarrow d^{+}(5)>0$.\n- $\\mathrm{Adj}[6]=[\\ ]=\\emptyset\\Rightarrow d^{+}(6)=0$ (sink).\n- $\\mathrm{Adj}[7]=[8,9]\\neq\\emptyset\\Rightarrow d^{+}(7)>0$.\n- $\\mathrm{Adj}[8]=[10]\\neq\\emptyset\\Rightarrow d^{+}(8)>0$.\n- $\\mathrm{Adj}[9]=[10]\\neq\\emptyset\\Rightarrow d^{+}(9)>0$.\n- $\\mathrm{Adj}[10]=[11]\\neq\\emptyset\\Rightarrow d^{+}(10)>0$.\n- $\\mathrm{Adj}[11]=[\\ ]=\\emptyset\\Rightarrow d^{+}(11)=0$ (sink).\n\nTherefore, the sink vertices are $2$, $6$, and $11$. In increasing order, the row matrix is $\\begin{pmatrix}2 & 6 & 11\\end{pmatrix}$.", "answer": "$$\\boxed{\\begin{pmatrix}2 & 6 & 11\\end{pmatrix}}$$", "id": "1533678"}]}