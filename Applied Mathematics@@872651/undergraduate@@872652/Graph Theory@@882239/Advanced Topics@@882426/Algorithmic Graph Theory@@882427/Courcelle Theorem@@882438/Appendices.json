{"hands_on_practices": [{"introduction": "Before we can leverage the power of Courcelle's Theorem, we must first learn to quantify a graph's structural complexity. This exercise provides foundational practice in computing the treewidth, a key parameter that measures how \"tree-like\" a graph is. By working through this problem, you will gain hands-on experience with the definition of a tree decomposition and learn a powerful technique for finding the exact treewidth of certain graph classes [@problem_id:1492829].", "problem": "In graph theory, the concept of treewidth provides a measure of how \"tree-like\" a graph is. A formal definition is as follows:\n\nA **tree decomposition** of a graph $G=(V, E)$ is a pair $(T, \\{X_i\\}_{i \\in I})$, where $T=(I, F)$ is a tree, and $\\{X_i\\}_{i \\in I}$ is a family of subsets of $V$ (called bags), one for each node of $T$, that satisfies the following three properties:\n1. The union of all bags covers all vertices of $G$: $\\bigcup_{i \\in I} X_i = V$.\n2. For every edge $\\{u, v\\}$ in $G$, there exists at least one bag $X_i$ that contains both $u$ and $v$.\n3. For every vertex $v \\in V$, the set of nodes $i \\in I$ whose bags $X_i$ contain $v$ forms a connected subtree of $T$.\n\nThe **width** of a tree decomposition is defined as the size of its largest bag minus one: $\\max_{i \\in I} |X_i| - 1$. The **treewidth** of a graph $G$, denoted $\\text{tw}(G)$, is the minimum width over all possible tree decompositions of $G$.\n\nConsider a path graph $P_{12}$ with 12 vertices, labeled $v_1, v_2, \\ldots, v_{12}$, where edges exist between $v_j$ and $v_{j+1}$ for all $j$ from 1 to 11. A new graph, let's call it $G_{12}$, is constructed by taking $P_{12}$ and adding a single new \"universal\" vertex, $u$, which is connected by an edge to every one of the original 12 vertices ($v_1, \\ldots, v_{12}$).\n\nWhat is the treewidth of the resulting graph $G_{12}$?\n\nA. 1\nB. 2\nC. 3\nD. 4\nE. 11\nF. 12", "solution": "We analyze $G_{12}$ obtained by adding a universal vertex $u$ to the path $P_{12}$ on vertices $v_{1},\\ldots,v_{12}$.\n\nFirst, we determine the clique number $\\omega(G_{12})$. For each $j \\in \\{1,\\ldots,11\\}$, the set $\\{u, v_{j}, v_{j+1}\\}$ induces a triangle, so $\\omega(G_{12}) \\geq 3$. Among the vertices $\\{v_{1},\\ldots,v_{12}\\}$, the only adjacencies are between consecutive vertices, so no three of them form a clique; hence any clique can include at most one pair $\\{v_{j}, v_{j+1}\\}$ together with $u$. Therefore $\\omega(G_{12}) = 3$.\n\nNext, we show $G_{12}$ is chordal. The subgraph on $\\{v_{1},\\ldots,v_{12}\\}$ is a tree (in fact a path), so it has no cycles. Thus any cycle in $G_{12}$ must contain $u$. Let a cycle contain the vertices $u, w_{1},\\ldots,w_{k}$ with $k \\geq 3$ from $\\{v_{1},\\ldots,v_{12}\\}$. Since $u$ is adjacent to every $w_{i}$, the edges $\\{u, w_{i}\\}$ with $i \\in \\{2,\\ldots,k-1\\}$ form chords of the cycle, so there are no induced cycles of length at least $4$. Hence $G_{12}$ is chordal.\n\nFor a chordal graph $G$, the treewidth satisfies $\\text{tw}(G) = \\omega(G) - 1$. Using $\\omega(G_{12}) = 3$, we get\n$$\n\\text{tw}(G_{12}) = 3 - 1 = 2.\n$$\n\nFor completeness, we exhibit a tree decomposition of width $2$. Let $I = \\{1,\\ldots,11\\}$, let $T$ be the path on nodes $1-2-\\cdots-11$, and define bags\n$$\nX_{j} = \\{u, v_{j}, v_{j+1}\\} \\quad \\text{for all } j \\in \\{1,\\ldots,11\\}.\n$$\nVerification:\n1. Coverage: $\\bigcup_{j=1}^{11} X_{j}$ contains $u$ and every $v_{j}$, since $v_{j} \\in X_{j-1} \\cup X_{j}$ with the conventions that $v_{1} \\in X_{1}$ and $v_{12} \\in X_{11}$.\n2. Edge coverage: Each path edge $\\{v_{j}, v_{j+1}\\}$ lies in $X_{j}$. Each edge $\\{u, v_{j}\\}$ lies in $X_{j}$ or $X_{j-1}$ (with endpoints handled as above).\n3. Connectedness: For $u$, the indices are all of $I$, a connected subtree. For $v_{j}$ with $2 \\leq j \\leq 11$, the indices are $\\{j-1, j\\}$; for $v_{1}$ and $v_{12}$, the indices are $\\{1\\}$ and $\\{11\\}$, respectively. Each is connected in $T$.\n\nEach bag has size $3$, so the width is $3-1=2$. Combined with the clique lower bound, this confirms $\\text{tw}(G_{12}) = 2$.\n\nHence the correct option is B.", "answer": "$$\\boxed{B}$$", "id": "1492829"}, {"introduction": "The second crucial component of Courcelle's Theorem is the descriptive language used to specify graph properties: Monadic Second-Order (MSO) logic. This practice challenges you to translate a precise combinatorial property—that a graph is 2-regular—into a formal MSO sentence. Mastering this translation is key to determining whether a given graph problem can be solved efficiently on graphs of bounded treewidth using the theorem's framework [@problem_id:1492856].", "problem": "In the study of logic on graphs, Monadic Second-Order (MSO) logic provides a powerful language to express graph properties. We consider simple, undirected graphs $G=(V,E)$, where $V$ is a finite set of vertices and $E$ is a set of 2-element subsets of $V$ representing edges.\n\nThe language of MSO logic for graphs allows quantification over vertices (first-order, e.g., $\\forall v$, $\\exists u$) and over sets of vertices (second-order, e.g., $\\forall S$, $\\exists Y$). The logic uses lowercase letters like $u, v, w, \\dots$ for vertex variables and uppercase letters like $S, X, Y, \\dots$ for set variables. The available atomic formulas are:\n- $u=v$ (equality of vertices)\n- $u \\in S$ (vertex $u$ is in set $S$)\n- $\\text{adj}(u,v)$ (adjacency predicate, true if there is an edge between $u$ and $v$)\n\nThese can be combined using standard logical connectives: $\\land$ (and), $\\lor$ (or), $\\neg$ (not), $\\rightarrow$ (implies), and $\\leftrightarrow$ (if and only if).\n\nYour task is to identify which of the following MSO sentences correctly and precisely expresses the property that a graph is **2-regular**. A graph is 2-regular if and only if every vertex in the graph has a degree of exactly two.\n\nA. $\\forall v \\exists S ( (\\exists x \\exists y (x \\neq y \\land x \\in S \\land y \\in S \\land \\forall z (z \\in S \\rightarrow (z=x \\lor z=y)))) \\land (\\forall u (u \\in S \\leftrightarrow \\text{adj}(v,u))) )$\n\nB. $\\forall v \\exists x \\exists y (x \\neq y \\land \\text{adj}(v,x) \\land \\text{adj}(v,y))$\n\nC. $\\forall v \\exists S ( (\\exists x \\exists y (x \\neq y \\land x \\in S \\land y \\in S \\land \\forall z (z \\in S \\rightarrow (z=x \\lor z=y)))) \\land (\\forall u (\\text{adj}(v,u) \\rightarrow u \\in S)) )$\n\nD. $\\forall v \\exists x \\exists y (\\forall z (\\text{adj}(v,z) \\leftrightarrow (z=x \\lor z=y)))$\n\nE. $\\forall v \\exists S ( (\\exists x \\exists y (x \\in S \\land y \\in S)) \\land (\\forall u (u \\in S \\leftrightarrow \\text{adj}(v,u))) )$", "solution": "We want an MSO sentence that is true for exactly those simple undirected graphs in which every vertex has degree exactly two, i.e., for all vertices $v$, the neighborhood $N(v)$ has cardinality exactly $2$.\n\nAnalyze option A:\nThe sentence is\n$$\n\\forall v \\exists S\\Big( \\big(\\exists x \\exists y \\big(x \\neq y \\land x \\in S \\land y \\in S \\land \\forall z (z \\in S \\rightarrow (z=x \\lor z=y))\\big)\\big) \\land \\big(\\forall u (u \\in S \\leftrightarrow \\text{adj}(v,u))\\big) \\Big).\n$$\nThe first conjunct asserts that $S$ has exactly two distinct elements $x$ and $y$: it requires $x \\neq y$, both $x$ and $y$ are in $S$, and that every $z \\in S$ must be either $x$ or $y$, hence $|S|=2$. The second conjunct asserts that $S$ is exactly the neighborhood of $v$, i.e., for all $u$, $u \\in S$ if and only if $\\text{adj}(v,u)$. Therefore, for each $v$, $N(v)=S$ and $|N(v)|=|S|=2$. Hence option A expresses precisely that every vertex has degree exactly $2$. Conversely, if the graph is $2$-regular, then for each $v$ we can take $S=N(v)$, which has exactly two distinct elements, and both conjuncts hold. Thus A is correct.\n\nAnalyze option B:\n$$\n\\forall v \\exists x \\exists y (x \\neq y \\land \\text{adj}(v,x) \\land \\text{adj}(v,y)).\n$$\nThis requires that each $v$ has at least two distinct neighbors, but it does not forbid a third neighbor. Therefore it does not enforce degree exactly $2$, only degree at least $2$. Hence B is not correct.\n\nAnalyze option C:\n$$\n\\forall v \\exists S\\Big( \\big(\\exists x \\exists y (x \\neq y \\land x \\in S \\land y \\in S \\land \\forall z (z \\in S \\rightarrow (z=x \\lor z=y)))\\big) \\land \\big(\\forall u (\\text{adj}(v,u) \\rightarrow u \\in S)\\big) \\Big).\n$$\nThe first conjunct still enforces that $|S|=2$, but the second conjunct only enforces $N(v) \\subseteq S$. Hence $\\deg(v) \\leq 2$ is enforced, not equality. In particular, a vertex of degree $0$ or $1$ satisfies the condition (choose any $S$ of size $2$ with $N(v)\\subseteq S$). Thus C is not correct.\n\nAnalyze option D:\n$$\n\\forall v \\exists x \\exists y (\\forall z (\\text{adj}(v,z) \\leftrightarrow (z=x \\lor z=y))).\n$$\nThis purports to enforce $N(v)=\\{x,y\\}$ as a set, but it omits the constraint $x \\neq y$. If $x=y$, the right-hand side becomes $(z=x)$, which enforces that $N(v)$ has size exactly $1$. Therefore graphs where some vertex has degree $1$ would satisfy the sentence for that vertex, and the global statement allows all vertices to have degree $1$. Hence D does not characterize degree exactly $2$.\n\nAnalyze option E:\n$$\n\\forall v \\exists S \\Big( (\\exists x \\exists y (x \\in S \\land y \\in S)) \\land (\\forall u (u \\in S \\leftrightarrow \\text{adj}(v,u))) \\Big).\n$$\nThe second conjunct forces $S=N(v)$. The first conjunct requires merely that $S$ contains (not necessarily distinct) $x$ and $y$. Since there is no $x \\neq y$, this only guarantees that $S$ is nonempty if $x=y$, or that $|S| \\geq 2$ if $x \\neq y$ is witnessed. Because the quantifiers over $x,y$ are existential, the weakest requirement is chosen: the sentence is satisfied whenever $N(v)$ is nonempty, i.e., $\\deg(v)\\geq 1$. Thus E does not enforce degree exactly $2$.\n\nTherefore, the only sentence that correctly and precisely expresses that every vertex has degree exactly $2$ is option A.", "answer": "$$\\boxed{A}$$", "id": "1492856"}, {"introduction": "This final practice ties the concepts of treewidth and algorithmic performance together, illustrating the practical implications of Courcelle's Theorem. You will step into the role of a computer scientist analyzing a fixed-parameter tractable (FPT) algorithm whose efficiency depends on the input graph's treewidth. By calculating this structural parameter for a specific graph, you will directly determine a key factor in the algorithm's runtime, demonstrating how theoretical graph properties can predict real-world computational costs [@problem_id:1492835].", "problem": "A computer scientist is analyzing the performance of a fixed-parameter tractable algorithm. The algorithm's runtime on an input graph $G$ with $n$ vertices is bounded by a function of the form $O(f(k) \\cdot p(n))$, where $p(n)$ is a polynomial in $n$ and $f(k)$ is a function that depends only on a structural graph parameter $k$ known as the treewidth. For the problem she is studying, finding a maximum independent set, the exponential part of the complexity is given by $f(k) = 3^k$.\n\nShe is interested in the performance on a specific test graph $G = (V, E)$, where the set of vertices is $V = \\{v_1, v_2, v_3, v_4, v_5\\}$ and the set of edges is $E = \\{\\{v_1, v_2\\}, \\{v_2, v_3\\}, \\{v_3, v_4\\}, \\{v_4, v_1\\}, \\{v_1, v_5\\}, \\{v_2, v_5\\}\\}$.\n\nTo predict the algorithm's behavior, calculate the value of the parameter-dependent factor $f(k)$ for this graph $G$. The final answer should be a single integer.", "solution": "We are given an FPT running time of the form $O(f(k)\\cdot p(n))$ with $f(k)=3^{k}$, where $k$ is the treewidth of the input graph $G$. Therefore, to compute $f(k)$ for the given $G$, we must determine the treewidth $k$ of $G$.\n\nGraph structure: $V=\\{v_{1},v_{2},v_{3},v_{4},v_{5}\\}$ and $E=\\{\\{v_{1},v_{2}\\},\\{v_{2},v_{3}\\},\\{v_{3},v_{4}\\},\\{v_{4},v_{1}\\},\\{v_{1},v_{5}\\},\\{v_{2},v_{5}\\}\\}$. The subgraph on $\\{v_{1},v_{2},v_{3},v_{4}\\}$ is a $4$-cycle, and $\\{v_{1},v_{2},v_{5}\\}$ forms a triangle.\n\nLower bound on treewidth: The clique number $\\omega(G)$ is at least $3$ because $\\{v_{1},v_{2},v_{5}\\}$ is a triangle. A standard bound is $\\operatorname{tw}(G)\\geq \\omega(G)-1$, hence\n$$\n\\operatorname{tw}(G)\\geq 3-1=2.\n$$\n\nUpper bound via an explicit tree decomposition: Consider the following bags\n$$\nB_{1}=\\{v_{1},v_{2},v_{5}\\},\\quad B_{2}=\\{v_{1},v_{2},v_{3}\\},\\quad B_{3}=\\{v_{1},v_{3},v_{4}\\}.\n$$\nArrange them in a path $B_{1}-B_{2}-B_{3}$. Verify the tree decomposition properties:\n- Edge coverage: $\\{v_{1},v_{2}\\}\\subseteq B_{1}$ (also in $B_{2}$), $\\{v_{2},v_{3}\\}\\subseteq B_{2}$, $\\{v_{3},v_{4}\\}\\subseteq B_{3}$, $\\{v_{4},v_{1}\\}\\subseteq B_{3}$, $\\{v_{1},v_{5}\\}\\subseteq B_{1}$, $\\{v_{2},v_{5}\\}\\subseteq B_{1}$.\n- Running intersection: The vertices appear in connected subtrees: $v_{5}$ only in $B_{1}$; $v_{2}$ in $B_{1},B_{2}$; $v_{3}$ in $B_{2},B_{3}$; $v_{4}$ only in $B_{3}$; $v_{1}$ in all three bags, which are connected as a path.\n\nThe maximum bag size is $3$, so the width is $3-1=2$. Therefore,\n$$\n\\operatorname{tw}(G)\\leq 2.\n$$\nCombining with the lower bound, we conclude $\\operatorname{tw}(G)=2$.\n\nFinally, using $f(k)=3^{k}$, we obtain\n$$\nf(2)=3^{2}=9.\n$$", "answer": "$$\\boxed{9}$$", "id": "1492835"}]}