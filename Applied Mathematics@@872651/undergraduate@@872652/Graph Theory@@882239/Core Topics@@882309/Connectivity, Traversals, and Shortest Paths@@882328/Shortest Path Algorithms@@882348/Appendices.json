{"hands_on_practices": [{"introduction": "Finding the most efficient path in a network with non-negative costs, like time delays or distances, is a classic problem solved by Dijkstra's algorithm. This practice provides a concrete scenario of a data center network, where you will manually trace the algorithm's steps to find the minimum latency from a central router to all servers. By working through this exercise [@problem_id:1532819], you will gain a hands-on understanding of how this greedy algorithm systematically builds a tree of shortest paths.", "problem": "A small data center's network consists of one central Router, labeled `R`, and five servers, labeled `S1`, `S2`, `S3`, `S4`, and `S5`. Data packets can travel between certain pairs of devices, and each connection has an associated latency, measured in milliseconds (ms). The network topology and latencies are as follows:\n\n- `R` is connected to `S1` with a latency of 10 ms.\n- `R` is connected to `S2` with a latency of 3 ms.\n- `R` is connected to `S3` with a latency of 8 ms.\n- `S1` is connected to `S2` with a latency of 4 ms.\n- `S1` is connected to `S4` with a latency of 2 ms.\n- `S2` is connected to `S3` with a latency of 2 ms.\n- `S2` is connected to `S4` with a latency of 9 ms.\n- `S3` is connected to `S5` with a latency of 5 ms.\n- `S4` is connected to `S5` with a latency of 1 ms.\n\nAll connections are bidirectional, meaning the latency is the same in either direction. Determine the minimum possible latency for a data packet to travel from the central Router `R` to each of the five servers.\n\nProvide the final latencies for `S1`, `S2`, `S3`, `S4`, and `S5`, in that specific order. The final answer should be a set of numbers, expressed in ms.", "solution": "We are asked to find the minimum-latency paths from the source node $R$ to the destinations $S_{1},S_{2},S_{3},S_{4},S_{5}$ in an undirected weighted network. All latencies are nonnegative, so Dijkstra’s algorithm applies. Let $d(X)$ denote the current best-known latency from $R$ to node $X$. Initialize $d(R)=0$ and $d(S_{i})=\\infty$ for all $i$, then relax along edges from the settled node with the smallest tentative distance at each step.\n\nInitialization using edges from $R$:\n- From $R$ to $S_{1}$: $d(S_{1})=\\min(\\infty,10)=10$.\n- From $R$ to $S_{2}$: $d(S_{2})=\\min(\\infty,3)=3$.\n- From $R$ to $S_{3}$: $d(S_{3})=\\min(\\infty,8)=8$.\n- No direct edges from $R$ to $S_{4}$ or $S_{5}$: $d(S_{4})=\\infty$, $d(S_{5})=\\infty$.\n\nSettle the smallest tentative node $S_{2}$ with $d(S_{2})=3$ and relax its neighbors:\n- Edge $S_{2}$–$S_{1}$ with weight $4$: $d(S_{1})=\\min(10,3+4)=7$.\n- Edge $S_{2}$–$S_{3}$ with weight $2$: $d(S_{3})=\\min(8,3+2)=5$.\n- Edge $S_{2}$–$S_{4}$ with weight $9$: $d(S_{4})=\\min(\\infty,3+9)=12$.\n\nNow tentative distances are $d(S_{1})=7$, $d(S_{3})=5$, $d(S_{4})=12$, $d(S_{5})=\\infty$. Settle $S_{3}$ with $d(S_{3})=5$ and relax its neighbors:\n- Edge $S_{3}$–$S_{5}$ with weight $5$: $d(S_{5})=\\min(\\infty,5+5)=10$.\n- Edge $S_{3}$–$S_{2}$ offers $5+2=7$, which does not improve $d(S_{2})=3$.\n\nNow tentative distances are $d(S_{1})=7$, $d(S_{4})=12$, $d(S_{5})=10$. Settle $S_{1}$ with $d(S_{1})=7$ and relax its neighbors:\n- Edge $S_{1}$–$S_{4}$ with weight $2$: $d(S_{4})=\\min(12,7+2)=9$.\n- Edge $S_{1}$–$S_{2}$ offers $7+4=11$, which does not improve $d(S_{2})=3$.\n\nNow tentative distances are $d(S_{4})=9$, $d(S_{5})=10$. Settle $S_{4}$ with $d(S_{4})=9$ and relax its neighbors:\n- Edge $S_{4}$–$S_{5}$ with weight $1$: $d(S_{5})=\\min(10,9+1)=10$ (no change).\n\nFinally, settle $S_{5}$ with $d(S_{5})=10$. All nodes are settled, yielding the minimal latencies:\n- $d(S_{1})=7$\n- $d(S_{2})=3$\n- $d(S_{3})=5$\n- $d(S_{4})=9$\n- $d(S_{5})=10$\n\nThese are in milliseconds as required by the problem statement; the final answer lists the numerical values in the specified order.", "answer": "$$\\boxed{\\begin{pmatrix}7  3  5  9  10\\end{pmatrix}}$$", "id": "1532819"}, {"introduction": "While Dijkstra's algorithm is efficient, its greedy strategy can fail when a graph contains edges with negative weights, which might represent discounts, gains, or other special conditions. The Bellman-Ford algorithm provides a more general solution by systematically relaxing every edge in the graph multiple times. This exercise [@problem_id:1532774] challenges you to execute the first few passes of the algorithm, observing how path estimates are gradually improved, even in the presence of negative costs.", "problem": "Consider a directed, weighted graph with a set of vertices $V = \\{S, A, B, C, D\\}$ and a set of specified directed edges with associated weights. The task is to find the shortest path cost estimates from a source vertex $S$ to all other vertices.\n\nThe initial cost estimates $d(v)$ for any vertex $v \\in V$ are $d(S) = 0$ and $d(v) = \\infty$ for all $v \\neq S$.\n\nWe will perform an iterative process to update these cost estimates. A single \"pass\" of the process consists of relaxing the graph's edges in a specific, fixed order. For each edge $(u, v)$ with weight $w(u,v)$ in the sequence, the cost estimate to vertex $v$ is updated according to the rule: $d(v) = \\min(d(v), d(u) + w(u,v))$.\n\nThe graph's edges and the fixed order for relaxation in each pass are as follows:\n1. Edge $(A, B)$ with weight $-4$.\n2. Edge $(S, C)$ with weight $2$.\n3. Edge $(B, D)$ with weight $3$.\n4. Edge $(C, D)$ with weight $7$.\n5. Edge $(S, A)$ with weight $5$.\n6. Edge $(C, A)$ with weight $-1$.\n\nDetermine the cost estimates $d(A)$, $d(B)$, $d(C)$, and $d(D)$ after exactly two full passes of this relaxation process have been completed. Express your answer as a list of four numbers corresponding to the final costs for vertices A, B, C, and D in that order.", "solution": "We apply the relaxation rule for each directed edge $(u,v)$ with weight $w(u,v)$ in the fixed order, using $d(v) \\leftarrow \\min\\!\\left(d(v),\\, d(u)+w(u,v)\\right)$, starting from $d(S)=0$ and $d(A)=d(B)=d(C)=d(D)=\\infty$.\n\nPass 1 begins with $d(A)=\\infty$, $d(B)=\\infty$, $d(C)=\\infty$, $d(D)=\\infty$. Relaxing $(A,B)$ with weight $-4$ gives $d(B)=\\min\\!\\left(\\infty,\\, \\infty-4\\right)=\\infty$. Relaxing $(S,C)$ with weight $2$ gives $d(C)=\\min\\!\\left(\\infty,\\, 0+2\\right)=2$. Relaxing $(B,D)$ with weight $3$ gives $d(D)=\\min\\!\\left(\\infty,\\, \\infty+3\\right)=\\infty$. Relaxing $(C,D)$ with weight $7$ gives $d(D)=\\min\\!\\left(\\infty,\\, 2+7\\right)=9$. Relaxing $(S,A)$ with weight $5$ gives $d(A)=\\min\\!\\left(\\infty,\\, 0+5\\right)=5$. Relaxing $(C,A)$ with weight $-1$ gives $d(A)=\\min\\!\\left(5,\\, 2-1\\right)=1$. At the end of pass 1, the estimates are $d(A)=1$, $d(B)=\\infty$, $d(C)=2$, $d(D)=9$.\n\nPass 2 starts from $d(A)=1$, $d(B)=\\infty$, $d(C)=2$, $d(D)=9$. Relaxing $(A,B)$ with weight $-4$ gives $d(B)=\\min\\!\\left(\\infty,\\, 1-4\\right)=-3$. Relaxing $(S,C)$ with weight $2$ gives $d(C)=\\min\\!\\left(2,\\, 0+2\\right)=2$. Relaxing $(B,D)$ with weight $3$ gives $d(D)=\\min\\!\\left(9,\\, -3+3\\right)=0$. Relaxing $(C,D)$ with weight $7$ gives $d(D)=\\min\\!\\left(0,\\, 2+7\\right)=0$. Relaxing $(S,A)$ with weight $5$ gives $d(A)=\\min\\!\\left(1,\\, 0+5\\right)=1$. Relaxing $(C,A)$ with weight $-1$ gives $d(A)=\\min\\!\\left(1,\\, 2-1\\right)=1$. Therefore, after exactly two full passes, the final cost estimates in the order $(A,B,C,D)$ are $1$, $-3$, $2$, and $0$.", "answer": "$$\\boxed{\\begin{pmatrix}1  -3  2  0\\end{pmatrix}}$$", "id": "1532774"}, {"introduction": "Sometimes we need to know the shortest path not just from a single source, but between every possible pair of vertices in a graph. This is the All-Pairs Shortest Path (APSP) problem, for which the Floyd-Warshall algorithm offers an elegant dynamic programming solution. In this practice [@problem_id:1504965], you will update a distance matrix step-by-step, revealing how the algorithm finds optimal routes by iteratively considering each vertex as a potential intermediate point in all paths.", "problem": "Consider a weighted directed graph with 4 vertices, labeled 1, 2, 3, and 4. The costs of the direct paths between any two vertices are given by an initial distance matrix $D^{(0)}$. In this matrix, the element $D^{(0)}_{ij}$ represents the weight of the directed edge from vertex $i$ to vertex $j$. If no direct edge exists from $i$ to $j$, the weight is considered infinite ($\\infty$). The self-distance $D^{(0)}_{ii}$ is 0 for all vertices.\n\nThe initial distance matrix $D^{(0)}$ is given as:\n$$ D^{(0)} = \\begin{pmatrix} 0  4  \\infty  7 \\\\ \\infty  0  1  \\infty \\\\ 6  \\infty  0  2 \\\\ 3  -2  \\infty  0 \\end{pmatrix} $$\n\nThe Floyd-Warshall algorithm computes the all-pairs shortest paths by iteratively updating this matrix. In the $k$-th iteration (for $k=1, 2, \\dots, 4$), the algorithm considers paths that use vertex $k$ as an intermediate vertex to potentially find a shorter path between any two vertices $i$ and $j$.\n\nStarting with the given matrix $D^{(0)}$, perform the first two iterations of the Floyd-Warshall algorithm to compute the matrices $D^{(1)}$ (using $k=1$) and $D^{(2)}$ (using $k=2$). Your task is to determine the final state of the distance matrix after the second iteration, $D^{(2)}$.", "solution": "We use the Floyd-Warshall update rule: for each iteration $k$ and for all $i,j$,\n$$\nD^{(k)}_{ij}=\\min\\left(D^{(k-1)}_{ij},\\,D^{(k-1)}_{ik}+D^{(k-1)}_{kj}\\right).\n$$\nGiven\n$$\nD^{(0)}=\\begin{pmatrix}\n0  4  \\infty  7\\\\\n\\infty  0  1  \\infty\\\\\n6  \\infty  0  2\\\\\n3  -2  \\infty  0\n\\end{pmatrix},\n$$\nwe perform the first iteration with $k=1$, using $D^{(1)}_{ij}=\\min\\left(D^{(0)}_{ij},\\,D^{(0)}_{i1}+D^{(0)}_{1j}\\right)$.\n\nFor $i=1$:\n- $j=1$: $\\min(0,\\,0+0)=0$.\n- $j=2$: $\\min(4,\\,0+4)=4$.\n- $j=3$: $\\min(\\infty,\\,0+\\infty)=\\infty$.\n- $j=4$: $\\min(7,\\,0+7)=7$.\n\nFor $i=2$ (since $D^{(0)}_{21}=\\infty$, all via $1$ are $\\infty$):\n- $j=1$: $\\min(\\infty,\\,\\infty)=\\infty$.\n- $j=2$: $\\min(0,\\,\\infty)=0$.\n- $j=3$: $\\min(1,\\,\\infty)=1$.\n- $j=4$: $\\min(\\infty,\\,\\infty)=\\infty$.\n\nFor $i=3$ (with $D^{(0)}_{31}=6$):\n- $j=1$: $\\min(6,\\,6+0)=6$.\n- $j=2$: $\\min(\\infty,\\,6+4)=10$.\n- $j=3$: $\\min(0,\\,6+\\infty)=0$.\n- $j=4$: $\\min(2,\\,6+7)=2$.\n\nFor $i=4$ (with $D^{(0)}_{41}=3$):\n- $j=1$: $\\min(3,\\,3+0)=3$.\n- $j=2$: $\\min(-2,\\,3+4)=-2$.\n- $j=3$: $\\min(\\infty,\\,3+\\infty)=\\infty$.\n- $j=4$: $\\min(0,\\,3+7)=0$.\n\nThus\n$$\nD^{(1)}=\\begin{pmatrix}\n0  4  \\infty  7\\\\\n\\infty  0  1  \\infty\\\\\n6  10  0  2\\\\\n3  -2  \\infty  0\n\\end{pmatrix}.\n$$\n\nNext, perform the second iteration with $k=2$, using $D^{(2)}_{ij}=\\min\\left(D^{(1)}_{ij},\\,D^{(1)}_{i2}+D^{(1)}_{2j}\\right)$.\n\nFor $i=1$ (with $D^{(1)}_{12}=4$):\n- $j=1$: $\\min(0,\\,4+\\infty)=0$.\n- $j=2$: $\\min(4,\\,4+0)=4$.\n- $j=3$: $\\min(\\infty,\\,4+1)=5$.\n- $j=4$: $\\min(7,\\,4+\\infty)=7$.\n\nFor $i=2$ (with $D^{(1)}_{22}=0$):\n- $j=1$: $\\min(\\infty,\\,0+\\infty)=\\infty$.\n- $j=2$: $\\min(0,\\,0+0)=0$.\n- $j=3$: $\\min(1,\\,0+1)=1$.\n- $j=4$: $\\min(\\infty,\\,0+\\infty)=\\infty$.\n\nFor $i=3$ (with $D^{(1)}_{32}=10$):\n- $j=1$: $\\min(6,\\,10+\\infty)=6$.\n- $j=2$: $\\min(10,\\,10+0)=10$.\n- $j=3$: $\\min(0,\\,10+1)=0$.\n- $j=4$: $\\min(2,\\,10+\\infty)=2$.\n\nFor $i=4$ (with $D^{(1)}_{42}=-2$):\n- $j=1$: $\\min(3,\\, -2+\\infty)=3$.\n- $j=2$: $\\min(-2,\\, -2+0)=-2$.\n- $j=3$: $\\min(\\infty,\\, -2+1)=-1$.\n- $j=4$: $\\min(0,\\, -2+\\infty)=0$.\n\nTherefore, the matrix after the second iteration is\n$$\nD^{(2)}=\\begin{pmatrix}\n0  4  5  7\\\\\n\\infty  0  1  \\infty\\\\\n6  10  0  2\\\\\n3  -2  -1  0\n\\end{pmatrix}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix}0  4  5  7 \\\\ \\infty  0  1  \\infty \\\\ 6  10  0  2 \\\\ 3  -2  -1  0\\end{pmatrix}}$$", "id": "1504965"}]}