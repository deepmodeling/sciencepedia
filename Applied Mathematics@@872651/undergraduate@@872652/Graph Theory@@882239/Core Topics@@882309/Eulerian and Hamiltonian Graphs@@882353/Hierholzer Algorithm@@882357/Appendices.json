{"hands_on_practices": [{"introduction": "Before applying Hierholzer's algorithm, a crucial first step is to confirm that the graph in question actually possesses an Eulerian circuit. This practice problem [@problem_id:1512112] focuses on this foundational requirement, asking you to analyze the vertex degrees of a wheel graph, $W_5$. By determining why the algorithm isn't applicable, you will reinforce your understanding of the necessary and sufficient conditions for a graph to be Eulerian.", "problem": "Consider a wheel graph, denoted as $W_5$. This graph is constructed by taking a cycle graph with four vertices, $C_4$, and adding a new, fifth vertex (the \"hub\" or \"central vertex\") that is connected by an edge to each of the four vertices of the $C_4$. Hierholzer's algorithm provides a method for finding an Eulerian circuit in a graph. An Eulerian circuit is a trail in a finite graph that visits every edge exactly once and returns to the starting vertex.\n\nWhich of the following statements correctly explains why Hierholzer's algorithm cannot be used to find an Eulerian circuit on the graph $W_5$?\n\nA. All vertices in the graph have an odd degree.\n\nB. The graph is not connected.\n\nC. The central vertex has an odd degree.\n\nD. The graph contains vertices of odd degree.\n\nE. The total number of edges in the graph is odd.", "solution": "We recall the Eulerian circuit criterion: A finite graph has an Eulerian circuit if and only if it is connected and every vertex has even degree.\n\nFor the wheel graph $W_{5}$ constructed from $C_{4}$ by adding a hub connected to all four cycle vertices:\n- Let $h$ denote the hub. It is adjacent to all four rim vertices, so\n$$\n\\deg(h)=4,\n$$\nwhich is even.\n- Let $v_{1},v_{2},v_{3},v_{4}$ be the rim vertices forming $C_{4}$. Each rim vertex is adjacent to two neighbors on the cycle and to the hub, so for each $i$,\n$$\n\\deg(v_{i})=2+1=3,\n$$\nwhich is odd.\n\nThus the graph contains vertices of odd degree (specifically, all four rim vertices). Although $W_{5}$ is connected, it fails the necessary condition that all vertices have even degree, so it does not have an Eulerian circuit. Therefore, Hierholzer’s algorithm cannot be used to find an Eulerian circuit on $W_{5}$, and the correct explanation is that the graph contains vertices of odd degree.\n\nFor completeness, option C is false because $\\deg(h)=4$ is even; option B is false because $W_{5}$ is connected; option A is false because not all vertices have odd degree; and option E is irrelevant and false here since $|E(W_{5})|=4+4=8$ is even, and in any case the parity of the number of edges is not the Eulerian condition.", "answer": "$$\\boxed{D}$$", "id": "1512112"}, {"introduction": "Once a graph is confirmed to be Eulerian, Hierholzer's algorithm begins by tracing an arbitrary circuit from a starting vertex. This exercise [@problem_id:1512142] provides a hands-on simulation of this initial step on a small multigraph. By following a clear, deterministic rule for choosing the next edge, you will practice the core path-finding mechanic of the algorithm and see how the first sub-circuit is formed.", "problem": "Consider an undirected multigraph $G$ defined by a vertex set $V = \\{A, B, C, D\\}$ and an edge multiset $E = \\{\\{A, C\\}, \\{A, D\\}, \\{B, C\\}, \\{B, D\\}, \\{C, D\\}, \\{C, D\\}\\}$. This graph is connected and all its vertices have an even degree, which guarantees the existence of an Eulerian circuit.\n\nYou are tasked with applying Hierholzer's algorithm to find an Eulerian circuit. The algorithm begins by finding an initial circuit and then successively augmenting it with sub-circuits until all edges are included.\n\nYour specific task is to determine the sequence of vertices that constitutes the **initial circuit** found by the algorithm, under the following conditions:\n1. The starting and ending vertex for the circuit must be $C$.\n2. When tracing the path, if there are multiple choices for the next vertex along an untraversed edge, you must always choose the vertex that comes first in alphabetical order.\n\nWhich of the following sequences represents this initial circuit?\n\nA. C-A-D-B-C\n\nB. C-D-B-C\n\nC. C-A-D-C-D-B-C\n\nD. A-C-B-D-A\n\nE. C-D-A-B-C", "solution": "We restate the relevant step of Hierholzer’s algorithm: starting at the specified vertex, follow a trail of unused edges, always picking at each step an unused incident edge, until you first return to the starting vertex. That closed walk is the initial circuit; subsequent augmentation with sub-circuits comes later.\n\nThe multigraph has vertices $V=\\{A,B,C,D\\}$ and edges (with multiplicity) $E=\\{\\{A,C\\},\\{A,D\\},\\{B,C\\},\\{B,D\\},\\{C,D\\},\\{C,D\\}\\}$. The neighbors of each vertex via unused edges, in alphabetical order, are:\n- From $C$: $A$, $B$, $D$ (with two parallel edges to $D$).\n- From $A$: $C$, $D$.\n- From $B$: $C$, $D$.\n- From $D$: $A$, $B$, $C$ (with two parallel edges to $C$).\n\nApply the rule “always choose the earliest vertex alphabetically among available unused edges,” starting at $C$:\n1. At $C$, available neighbors are $A$, $B$, $D$ (two). Choose $A$. Traverse $C \\to A$. The edge $\\{A,C\\}$ is now used.\n2. At $A$, available neighbor via an unused edge is only $D$ (since $\\{A,C\\}$ is used). Traverse $A \\to D$. The edge $\\{A,D\\}$ is now used.\n3. At $D$, available neighbors via unused edges are $B$ and $C$ (two). By alphabetical order, choose $B$. Traverse $D \\to B$. The edge $\\{B,D\\}$ is now used.\n4. At $B$, the only available neighbor via an unused edge is $C$. Traverse $B \\to C$. The edge $\\{B,C\\}$ is now used.\n5. We have returned to the starting vertex $C$. By the definition of the initial circuit in Hierholzer’s algorithm, we stop here.\n\nTherefore, the initial circuit is the sequence $C-A-D-B-C$, which corresponds to option A. All other listed sequences either violate the alphabetical-choice rule or the specified starting vertex condition, or do not represent the first return to $C$.", "answer": "$$\\boxed{A}$$", "id": "1512142"}, {"introduction": "Moving from a conceptual understanding to a practical implementation, the efficiency of Hierholzer's algorithm heavily depends on the choice of data structures. This problem [@problem_id:1512147] explores the computational consequences of how we store and manipulate the tour as it's being built. By comparing a dynamic array with a linked list, you will analyze the time complexity of the crucial 'splicing' operation and understand what it takes to build a truly efficient algorithm.", "problem": "In the implementation of Hierholzer's algorithm for finding an Eulerian circuit in a connected undirected graph, a key operation is \"circuit splicing\". This operation occurs when the algorithm has traced a circuit but has not yet used all edges. It then finds a vertex `u` on the current circuit that has an unused edge, traces a new circuit starting and ending at `u`, and then splices this new circuit into the original one.\n\nConsider a connected graph with $V$ vertices and $E$ edges, where every vertex has an even degree. You are tasked with analyzing the performance of two different C++ implementations of Hierholzer's algorithm, which differ only in the data structure used to store the sequence of vertices in the circuits.\n\n**Approach 1:** The vertex sequence of a circuit is stored in a `std::vector<Vertex>`, which is a dynamic array. To splice a new circuit (a vector `new_tour`) into an existing one (`main_tour`) at the first occurrence of vertex `u`, the implementation finds the iterator `it` pointing to `u` in `main_tour` and uses `main_tour.insert(it + 1, new_tour.begin() + 1, new_tour.end())`.\n\n**Approach 2:** The vertex sequence of a circuit is stored as a custom circular, doubly-linked list of nodes. Each node holds a vertex and pointers to the next and previous nodes in the circuit. Splicing involves re-wiring a constant number of pointers to merge the two circular lists. For this analysis, you can access any node in the list in $O(1)$ time if you have a pointer to it.\n\nLet the complexity of a single splice operation be the time taken to merge a new sub-tour into the main tour. Let the overall complexity be the worst-case time for the entire algorithm to find the final Eulerian circuit.\n\nWhich of the following 4-tuples correctly represents the complexities for `(Worst-case for one splice in Approach 1, Overall worst-case for Approach 1, Worst-case for one splice in Approach 2, Overall worst-case for Approach 2)`?\n\nA. $(O(E), O(V \\cdot E), O(1), O(V+E))$\n\nB. $(O(E), O(E^2), O(\\log V), O(E \\log V))$\n\nC. $(O(V), O(V^2), O(1), O(V+E))$\n\nD. $(O(E), O(V \\cdot E), O(V), O(V^2))$\n\nE. $(O(\\log E), O(E \\log E), O(1), O(V+E))$", "solution": "We are given a connected undirected graph with $V$ vertices and $E$ edges, all degrees even, so an Eulerian circuit exists. Hierholzer’s algorithm repeatedly forms cycles and splices them. We analyze two implementations that differ only in the data structure used for the tour representation.\n\nDefinition of a splice operation for this analysis: only the time to merge a new sub-tour into the main tour (not the time to find $u$ or to trace the new sub-tour).\n\nApproach 1 (std::vector):\n- A tour is stored as a vector of vertices. To splice a new tour of length $k$ (number of vertices inserted, excluding the first $u$ which overlaps) into a main tour of current length $m$, insertion at position $i$ requires:\n  - Shifting the suffix of the main vector after position $i$, which costs $\\Theta(m - i)$.\n  - Copying the $k$ vertices from the new tour into the gap, which costs $\\Theta(k)$.\n- Therefore, the worst-case cost of a single splice is obtained when $i$ is near the beginning and when $m$ and $k$ are as large as possible, yielding\n$$\n\\text{single-splice cost} = O((m - i) + k) = O(E).\n$$\n\nTo bound the overall number of splices, observe the standard property of Hierholzer’s algorithm:\n- At any splicing step, we choose a vertex $u$ on the current main tour that has at least one unused incident edge in the residual graph of unused edges.\n- The subroutine that traces a new cycle starting at $u$ in a graph where all vertices have even degree will continue until it returns to $u$ with no unused incident edges at $u$. In fact, this walk consumes all unused edges in the connected component of the residual graph that contains $u$.\n- Consequently, after splicing this sub-tour, vertex $u$ has no unused incident edges and will never be chosen again as a splice point.\n- Two distinct splices cannot start from the same vertex. Hence, the number of splices is at most the number of vertices that ever have unused incident edges, which is at most $V$.\n\nHence, in Approach 1:\n- Each splice costs $O(E)$ in the worst case.\n- There are at most $V$ splices.\n- All per-edge processing (marking/removing edges as used) contributes $O(E)$ and does not change the asymptotic bound dominated by splicing.\n\nThus the overall worst-case complexity for Approach 1 is\n$$\nO(V \\cdot E).\n$$\n\nApproach 2 (circular doubly linked list):\n- Splicing two circular lists at a node $u$ requires changing a constant number of pointers, assuming we already have pointers to the relevant nodes. Therefore,\n$$\n\\text{single-splice cost} = O(1).\n$$\n- The number of splices is again at most $V$ by the same reasoning as above.\n- Each edge is traversed and removed exactly once, giving $O(E)$ for edge processing.\n\nThus the overall worst-case complexity for Approach 2 is\n$$\nO(V + E).\n$$\n\nCollecting the four quantities in the specified order (Approach 1 single-splice, Approach 1 overall, Approach 2 single-splice, Approach 2 overall) gives:\n$$\n(O(E),\\, O(V \\cdot E),\\, O(1),\\, O(V+E)).\n$$\n\nAmong the options, this corresponds to option A.", "answer": "$$\\boxed{A}$$", "id": "1512147"}]}