{"hands_on_practices": [{"introduction": "The best way to understand the Max-Flow Min-Cut theorem is to see it in action. This first exercise provides a direct, hands-on opportunity to apply an algorithm like the Ford-Fulkerson method to a small network. By calculating the maximum possible flow and independently identifying a minimum cut, you will empirically verify the theorem's central claim that these two values are always equal [@problem_id:1408993].", "problem": "Consider a small-scale data transmission network represented by a directed graph. The network has a source node `S`, a sink node `T`, and four intermediate routing nodes `A`, `B`, `C`, and `D`. The directed links and their corresponding maximum data carrying capacities (in arbitrary units of flow) are given as follows:\n- From `S` to `A` with capacity 10.\n- From `S` to `C` with capacity 12.\n- From `A` to `B` with capacity 7.\n- From `A` to `D` with capacity 4.\n- From `B` to `T` with capacity 10.\n- From `C` to `D` with capacity 9.\n- From `D` to `B` with capacity 3.\n- From `D` to `T` with capacity 8.\n\nAll links are one-way as specified. There are no other links in the network. The goal is to determine the throughput of this network.\n\nCalculate the value of the maximum flow from the source `S` to the sink `T`, and calculate the capacity of a minimum `S-T` cut. Provide the two integer values in the specified order: maximum flow value first, followed by the minimum cut capacity.", "solution": "Let $G=(V,E)$ be the directed graph with source $S$, sink $T$, and intermediate nodes $A,B,C,D$. For each directed edge $(u,v)\\in E$, let the capacity be $c_{uv}$ and the flow be $f_{uv}$, with $0\\leq f_{uv}\\leq c_{uv}$. Flow conservation holds at intermediate nodes: for each $v\\in\\{A,B,C,D\\}$,\n$$\n\\sum_{u:(u,v)\\in E} f_{uv}=\\sum_{w:(v,w)\\in E} f_{vw}.\n$$\nThe capacities are:\n$$\nc_{S,A}=10,\\quad c_{S,C}=12,\\quad c_{A,B}=7,\\quad c_{A,D}=4,\\quad c_{B,T}=10,\\quad c_{C,D}=9,\\quad c_{D,B}=3,\\quad c_{D,T}=8.\n$$\n\nApply the Ford–Fulkerson method using augmenting paths and residual capacities.\n\n1) Augment along the path $S\\to A\\to B\\to T$. The bottleneck is\n$$\n\\min\\{c_{S,A},c_{A,B},c_{B,T}\\}=\\min\\{10,7,10\\}=7.\n$$\nSend $7$ units: set $f_{S,A}=7$, $f_{A,B}=7$, $f_{B,T}=7$.\n\n2) Augment along the path $S\\to C\\to D\\to T$. The bottleneck is\n$$\n\\min\\{c_{S,C},c_{C,D},c_{D,T}\\}=\\min\\{12,9,8\\}=8.\n$$\nSend $8$ units: set $f_{S,C}=8$, $f_{C,D}=8$, $f_{D,T}=8$.\n\n3) Consider the path $S\\to A\\to D\\to B\\to T$ in the residual network. The current forward residual capacities on these arcs are\n$$\nr_{S,A}=c_{S,A}-f_{S,A}=10-7=3,\\quad r_{A,D}=c_{A,D}-f_{A,D}=4-0=4,\n$$\n$$\nr_{D,B}=c_{D,B}-f_{D,B}=3-0=3,\\quad r_{B,T}=c_{B,T}-f_{B,T}=10-7=3.\n$$\nThe bottleneck is $\\min\\{3,4,3,3\\}=3$. Augment $3$ units along this path: update\n$f_{S,A}=7+3=10$, $f_{A,D}=0+3=3$, $f_{D,B}=0+3=3$, $f_{B,T}=7+3=10$.\n\nCompute the total flow value after these augmentations. At the sink,\n$$\n|f|=f_{B,T}+f_{D,T}=10+8=18.\n$$\nAlternatively, at the source,\n$$\n|f|=f_{S,A}+f_{S,C}=10+8=18.\n$$\n\nVerify that no further augmenting path exists. In the residual graph, the forward residual capacities to $T$ are $r_{B,T}=10-10=0$ and $r_{D,T}=8-8=0$. From $S$, the reachable nodes via residual edges are $S\\to C$ (with $r_{S,C}=12-8=4$), then $C\\to D$ (with $r_{C,D}=9-8=1$), and also $D\\to A$ via the reverse of $A\\to D$ (with residual $f_{A,D}=3$), hence $A$ is reachable. Node $B$ is not reachable because $r_{A,B}=7-7=0$ and $r_{D,B}=3-3=0$, and $T$ is not reachable because $r_{B,T}=0$ and $r_{D,T}=0$. Therefore the reachable set is $R=\\{S,A,C,D\\}$.\n\nThe capacity of the cut $(R,\\overline{R})$ is the sum of capacities of edges from $R$ to $\\overline{R}=\\{B,T\\}$:\n$$\nc(R,\\overline{R})=c_{A,B}+c_{D,B}+c_{D,T}=7+3+8=18.\n$$\nBy the max-flow min-cut theorem, the maximum flow equals the minimum cut capacity, which matches the constructed flow value. Hence the maximum $S$–$T$ flow is $18$ and the minimum cut capacity is $18$.", "answer": "$$\\boxed{\\begin{pmatrix} 18 & 18 \\end{pmatrix}}$$", "id": "1408993"}, {"introduction": "Real-world networks are not static; they are constantly being upgraded or modified. This practice problem moves from pure calculation to practical analysis, challenging you to predict the outcome of a network enhancement. By determining the new maximum flow after a link's capacity is increased, you will gain insight into how bottlenecks, defined by minimum cuts, govern a system's overall throughput [@problem_id:1408934].", "problem": "Consider a directed network for transporting data from a source node $S$ to a sink node $T$. The network consists of a set of nodes $V = \\{S, A, B, C, D, T\\}$ and a set of directed edges with specified integer capacities, which represent the maximum rate of data flow in units per second. The edges and their corresponding capacities $c(u, v)$ are given as follows:\n- $c(S, A) = 10$\n- $c(S, B) = 8$\n- $c(A, C) = 5$\n- $c(A, D) = 6$\n- $c(B, C) = 4$\n- $c(B, D) = 5$\n- $c(C, T) = 9$\n- $c(D, T) = 7$\n\nAll other pairs of nodes have no direct edge between them. Suppose a system upgrade is performed that increases the capacity of the single edge from node $D$ to node $T$ by 1 unit, while all other capacities remain unchanged.\n\nCalculate the new maximum flow from the source $S$ to the sink $T$ in the upgraded network.", "solution": "Let the upgraded capacity on edge $D \\to T$ be $c'(D,T)=8$, with all other capacities unchanged.\n\nBy the max-flow min-cut theorem, the maximum $S$–$T$ flow equals the minimum capacity of an $S$–$T$ cut. Consider the cut with source side $\\{S,A,B,C,D\\}$ and sink side $\\{T\\}$. Its capacity is\n$$\n\\text{cap}=\\sum_{u\\in \\{S,A,B,C,D\\}} c(u,T)=c(C,T)+c'(D,T)=9+8=17,\n$$\nso any feasible flow satisfies\n$$\n|f|\\leq 17.\n$$\n\nTo show that $17$ is achievable, define a flow $f$ on the edges by\n$$\nf(S,A)=9,\\quad f(S,B)=8,\n$$\n$$\nf(A,C)=5,\\quad f(A,D)=4,\\quad f(B,C)=4,\\quad f(B,D)=4,\n$$\n$$\nf(C,T)=9,\\quad f(D,T)=8.\n$$\nCapacity constraints hold since\n$f(S,A)\\leq 10$, $f(S,B)\\leq 8$, $f(A,C)\\leq 5$, $f(A,D)\\leq 6$, $f(B,C)\\leq 4$, $f(B,D)\\leq 5$, $f(C,T)\\leq 9$, $f(D,T)\\leq 8$.\n\nFlow conservation holds at intermediate nodes:\n$$\n\\text{at }A:\\; f(S,A)=f(A,C)+f(A,D)\\;\\Rightarrow\\; 9=5+4,\n$$\n$$\n\\text{at }B:\\; f(S,B)=f(B,C)+f(B,D)\\;\\Rightarrow\\; 8=4+4,\n$$\n$$\n\\text{at }C:\\; f(A,C)+f(B,C)=f(C,T)\\;\\Rightarrow\\; 5+4=9,\n$$\n$$\n\\text{at }D:\\; f(A,D)+f(B,D)=f(D,T)\\;\\Rightarrow\\; 4+4=8.\n$$\nTherefore $f$ is a feasible flow with value\n$$\n|f|=f(S,A)+f(S,B)=17.\n$$\nCombining the upper bound $|f|\\leq 17$ with the feasible flow of value $17$, the new maximum flow is $17$.", "answer": "$$\\boxed{17}$$", "id": "1408934"}, {"introduction": "Not all paths to a solution are equally efficient. This advanced problem explores a crucial aspect of algorithmic performance by presenting a hypothetical scenario where a naive path-selection strategy can be extremely slow. By analyzing this 'worst-case' behavior, you will appreciate why the specific implementation of a max-flow algorithm—particularly the method for choosing augmenting paths—is so important for solving large-scale problems efficiently [@problem_id:1408949].", "problem": "Consider a capacitated directed network used for modeling data transfer between a source `S` and a sink `T`. The network consists of four intermediate data hubs, `U1`, `U2`, `V1`, and `V2`. The connections and their maximum data transfer rates (capacities) are defined as follows, where `K` is a large integer constant:\n- `(S, U1)` with capacity `K`\n- `(S, U2)` with capacity `K`\n- `(U1, V1)` with capacity `K`\n- `(U2, V2)` with capacity `K`\n- `(V1, T)` with capacity `K`\n- `(V2, T)` with capacity `K`\n- `(V1, V2)` with capacity `1`\n\nAn analyst is using a particular implementation of the Ford-Fulkerson algorithm to determine the maximum flow from `S` to `T`. This implementation uses a specific, non-optimal strategy for choosing augmenting paths, which we will call the Greedy Bridge-Using (GBU) method. The GBU method operates under the following rule:\n\n*   If there exists an augmenting path in the current residual graph that includes the edge `(V1, V2)` or the edge `(V2, V1)`, the algorithm **must** choose one such path.\n\nAssume the algorithm starts with zero flow and repeatedly applies the GBU method to augment the flow until the maximum flow is reached. For the value `K = 1989`, what is the total number of flow augmentations the algorithm will perform?", "solution": "Let all initial flows be zero. The GBU rule enforces that every chosen augmenting path contains the unit-capacity bridge, either $(V_{1},V_{2})$ or its residual reverse $(V_{2},V_{1})$, whenever such a path exists. Because the bridge has capacity $1$, any such augmenting path has bottleneck $1$, so each augmentation increases the total $S$–$T$ flow by exactly $1$.\n\nIntroduce counters:\n- Let $a$ be the number of augmentations that use the forward bridge edge $(V_{1},V_{2})$ along the path $S \\to U_{1} \\to V_{1} \\to V_{2} \\to T$.\n- Let $b$ be the number of augmentations that use the reverse residual edge $(V_{2},V_{1})$ along the path $S \\to U_{2} \\to V_{2} \\to V_{1} \\to T$.\n\nEach augmentation updates flows as follows:\n- Using $(V_{1},V_{2})$ increases $f(S,U_{1})$, $f(U_{1},V_{1})$, and $f(V_{2},T)$ by $1$, and increases $f(V_{1},V_{2})$ by $1$.\n- Using $(V_{2},V_{1})$ increases $f(S,U_{2})$, $f(U_{2},V_{2})$, and $f(V_{1},T)$ by $1$, and decreases $f(V_{1},V_{2})$ by $1$ (since it uses the residual back edge to cancel one unit on $(V_{1},V_{2})$).\n\nHence, after $a$ forward-bridge and $b$ reverse-bridge augmentations,\n$$\nf(S,U_{1})=a,\\quad f(U_{1},V_{1})=a,\\quad f(V_{2},T)=a,\n$$\n$$\nf(S,U_{2})=b,\\quad f(U_{2},V_{2})=b,\\quad f(V_{1},T)=b,\n$$\nand\n$$\nf(V_{1},V_{2})=a-b,\\quad \\text{with } 0 \\leq f(V_{1},V_{2}) \\leq 1.\n$$\nThe total flow value is\n$$\n|f|=f(V_{1},T)+f(V_{2},T)=a+b.\n$$\n\nAvailability of a bridge-containing augmenting path in the residual graph is determined as follows:\n- If $f(V_{1},V_{2})=0$ (i.e., $a=b$), then the residual edge $(V_{1},V_{2})$ is available with capacity $1$, and the path $S \\to U_{1} \\to V_{1} \\to V_{2} \\to T$ exists if and only if the residual capacities on $(S,U_{1})$, $(U_{1},V_{1})$, and $(V_{2},T)$ are positive. Those residual capacities are $K-a$, $K-a$, and $K-a$, respectively, so the condition is $a<K$.\n- If $f(V_{1},V_{2})=1$ (i.e., $a=b+1$), then the residual edge $(V_{2},V_{1})$ is available with capacity $1$, and the path $S \\to U_{2} \\to V_{2} \\to V_{1} \\to T$ exists if and only if the residual capacities on $(S,U_{2})$, $(U_{2},V_{2})$, and $(V_{1},T)$ are positive. Those residual capacities are $K-b$, $K-b$, and $K-b$, respectively, so the condition is $b<K$.\n\nTherefore, as long as $a<K$ and $b<K$, there exists a bridge-containing augmenting path, and the GBU rule forces the algorithm to use it. Moreover, the bridge orientation alternates: when $a=b$ the algorithm must use $(V_{1},V_{2})$, yielding $a \\leftarrow a+1$; when $a=b+1$ it must use $(V_{2},V_{1})$, yielding $b \\leftarrow b+1$. Starting from $(a,b)=(0,0)$, after $n$ augmentations,\n$$ (a,b)=\n\\begin{cases}\n\\left(\\frac{n}{2},\\frac{n}{2}\\right),  \\text{if } n \\text{ is even} \\\\\n\\left(\\frac{n+1}{2},\\frac{n-1}{2}\\right),  \\text{if } n \\text{ is odd}\n\\end{cases}\n$$\n\nThe process stops exactly when no bridge-containing augmenting path exists. The first time this happens is when both $a=K$ and $b=K$, because:\n- At $n=2K-1$, we have $(a,b)=(K,K-1)$, so $bK$ and the path through $(V_{2},V_{1})$ still exists; one more augmentation yields $(a,b)=(K,K)$.\n- At $(a,b)=(K,K)$, both required residual capacities vanish on the terminal edges: $(V_{2},T)$ and $(V_{1},T)$ are saturated, so no bridge-containing path exists, and in fact the cut into $T$ has capacity $2K$, so $|f|=2K$ is maximal. A feasible flow of value $2K$ is $K$ units on $S \\to U_{1} \\to V_{1} \\to T$ and $K$ units on $S \\to U_{2} \\to V_{2} \\to T$, showing this bound is tight.\n\nSince each augmentation increases $|f|$ by $1$, reaching $|f|=2K$ requires exactly $2K$ augmentations. For $K=1989$,\n$$\n2K=2 \\times 1989=3978.\n$$", "answer": "$$\\boxed{3978}$$", "id": "1408949"}]}