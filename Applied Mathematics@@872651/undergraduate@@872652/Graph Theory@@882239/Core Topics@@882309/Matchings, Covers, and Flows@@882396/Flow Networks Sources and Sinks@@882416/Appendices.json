{"hands_on_practices": [{"introduction": "The bedrock principle of any flow network is the law of conservation. This rule states that for any intermediate node—one that is neither a source nor a sink—the total flow entering must exactly equal the total flow exiting. This exercise provides a direct, hands-on opportunity to verify this fundamental constraint, which is essential for auditing and debugging network flow models [@problem_id:1504829].", "problem": "A technology company, DataStream Inc., is conducting an audit of the data flow within its internal server network. The network is modeled as a directed graph where servers are vertices and network links are directed edges. The company has a main data center, which acts as the source $s$, and a primary backup archive, which acts as the sink $t$.\n\nThe network consists of the set of vertices $V = \\{s, v_1, v_2, v_3, v_4, t\\}$. An intern has measured the current data flow rate, denoted by $f(u,v)$, for each active connection $(u,v)$ in the network. The flow rates are measured in terabits per second (Tb/s). The recorded flows are as follows:\n\n- $f(s, v_1) = 12$\n- $f(s, v_2) = 15$\n- $f(v_1, v_2) = 5$\n- $f(v_1, v_3) = 7$\n- $f(v_2, v_3) = 9$\n- $f(v_2, v_4) = 11$\n- $f(v_3, v_4) = 8$\n- $f(v_3, t) = 5$\n- $f(v_4, t) = 18$\n\nFor any vertex $v$ that is neither the source nor the sink, the flow conservation principle requires that the total flow into $v$ must equal the total flow out of $v$. The net flow at a vertex $v$ is defined as the total flow into $v$ minus the total flow out of $v$. Your task is to verify the intern's measurements by calculating the net flow for the server represented by vertex $v_3$.\n\nExpress your answer for the net flow at $v_3$ as a single number in Tb/s.", "solution": "By the flow conservation principle, the net flow at a vertex $v$ (not source or sink) is defined as total inflow minus total outflow:\n$$\\text{net}(v) = \\sum_{u} f(u,v) - \\sum_{w} f(v,w).$$\nFor $v_{3}$, the incoming edges are $(v_{1},v_{3})$ and $(v_{2},v_{3})$, and the outgoing edges are $(v_{3},v_{4})$ and $(v_{3},t)$. Therefore,\n$$\\text{net}(v_{3}) = f(v_{1},v_{3}) + f(v_{2},v_{3}) - f(v_{3},v_{4}) - f(v_{3},t).$$\nSubstituting the given values:\n$$\\text{net}(v_{3}) = 7 + 9 - 8 - 5 = 16 - 13 = 3.$$\nThus, the net flow at $v_{3}$ is $3$ Tb/s; since this is nonzero, the given measurements violate flow conservation at $v_{3}$.", "answer": "$$\\boxed{3}$$", "id": "1504829"}, {"introduction": "Beyond verifying existing flows, a key application of network analysis is assessing potential upgrades to improve overall throughput. This practice moves from local conservation rules to the global capacity of the network, utilizing the powerful max-flow min-cut theorem. By calculating the change in maximum flow after adding a new link, you will gain practical experience in evaluating network enhancements, a common task in fields ranging from logistics to data communications [@problem_id:1504814].", "problem": "A data center's internal network is modeled as a directed graph where nodes represent servers and edges represent data links. The capacity of each link, measured in gigabits per second (Gbps), determines the maximum rate of data transfer. The goal is to move data from a designated source server, $s$, to a sink server, $t$.\n\nThe current network configuration is defined by the set of vertices $V = \\{s, a, b, t\\}$ and the following directed edges with their respective capacities:\n- An edge $(s, a)$ with a capacity of 10 Gbps.\n- An edge $(a, b)$ with a capacity of 5 Gbps.\n- An edge $(b, t)$ with a capacity of 10 Gbps.\n- An edge $(s, t)$ with a capacity of 5 Gbps.\n\nTo enhance the network's throughput, an engineer proposes adding a new direct link from the source server $s$ to server $b$. This new link, $(s, b)$, is specified to have a capacity of 3 Gbps.\n\nCalculate the resulting increase in the maximum flow from $s$ to $t$ after this modification. Express your answer as a single number in Gbps.", "solution": "We model the network as a directed graph with capacity function $c(u,v)$ on edge $(u,v)$. By the max-flow min-cut theorem, the value of the maximum $s$–$t$ flow equals the minimum capacity over all $s$–$t$ cuts $(S,T)$, where $S \\subset V$ contains $s$ and $t \\in T = V \\setminus S$. The capacity of a cut is\n$$\nc(S,T) = \\sum_{u \\in S}\\sum_{v \\in T} c(u,v).\n$$\n\nOriginal network (without $(s,b)$):\n- Possible $s$–$t$ cuts are determined by choosing $S \\subset \\{s,a,b\\}$ with $s \\in S$. Enumerate:\n1) $S=\\{s\\}$, $T=\\{a,b,t\\}$:\n$$\nc(S,T)=c(s,a)+c(s,t)=10+5=15.\n$$\n2) $S=\\{s,a\\}$, $T=\\{b,t\\}$:\n$$\nc(S,T)=c(a,b)+c(s,t)=5+5=10.\n$$\n3) $S=\\{s,b\\}$, $T=\\{a,t\\}$:\n$$\nc(S,T)=c(s,a)+c(b,t)+c(s,t)=10+10+5=25.\n$$\n4) $S=\\{s,a,b\\}$, $T=\\{t\\}$:\n$$\nc(S,T)=c(b,t)+c(s,t)=10+5=15.\n$$\nThus the minimum cut capacity is $\\min\\{15,10,25,15\\}=10$. Therefore the original maximum flow value is $10$.\n\nModified network (adding $(s,b)$ with $c(s,b)=3$):\nRecompute the same cut capacities, now including $c(s,b)$ where applicable.\n1) $S=\\{s\\}$, $T=\\{a,b,t\\}$:\n$$\nc(S,T)=c(s,a)+c(s,b)+c(s,t)=10+3+5=18.\n$$\n2) $S=\\{s,a\\}$, $T=\\{b,t\\}$:\n$$\nc(S,T)=c(a,b)+c(s,b)+c(s,t)=5+3+5=13.\n$$\n3) $S=\\{s,b\\}$, $T=\\{a,t\\}$:\n$$\nc(S,T)=c(s,a)+c(b,t)+c(s,t)=10+10+5=25.\n$$\n4) $S=\\{s,a,b\\}$, $T=\\{t\\}$:\n$$\nc(S,T)=c(b,t)+c(s,t)=10+5=15.\n$$\nThus the new minimum cut capacity is $\\min\\{18,13,25,15\\}=13$. Therefore the new maximum flow value is $13$.\n\nThe resulting increase in the maximum flow is the difference between the new and original maximum flows:\n$$\n\\Delta = 13 - 10 = 3.\n$$\nMeasured in the given unit, the increase is $3$ Gbps.", "answer": "$$\\boxed{3}$$", "id": "1504814"}, {"introduction": "Real-world networks often feature more complex topologies than a single source and single sink, such as having multiple sources. While a standard technique involves creating an abstract \"super-source,\" a deeper understanding comes from adapting core algorithms to handle these scenarios directly. This advanced problem challenges you to modify an augmenting path algorithm to solve a multi-source problem without altering the network graph, thereby strengthening your grasp of how these algorithms function at a fundamental level [@problem_id:1504817].", "problem": "A data logistics company, QuantumLeap Dynamics, needs to transfer a large scientific dataset from its redundant storage facilities to a central supercomputer for processing. The company's network can be modeled as a directed graph where nodes represent data centers, routers, and the supercomputer, and the edges represent fiber optic links with a specific maximum data transfer rate.\n\nThe network consists of the following nodes:\n- Two source data centers: `DC1` and `DC2`.\n- Two network routers: `R1` and `R2`.\n- One sink supercomputer: `SC`.\n\nThe directed links and their corresponding capacities, in terabytes per hour (TB/h), are as follows:\n- `(DC1, R1)`: 10 TB/h\n- `(DC1, R2)`: 5 TB/h\n- `(DC2, R1)`: 6 TB/h\n- `(DC2, R2)`: 8 TB/h\n- `(R1, R2)`: 4 TB/h\n- `(R1, SC)`: 12 TB/h\n- `(R2, SC)`: 9 TB/h\n\nYour task is to determine the maximum possible total data transfer rate from the two data centers (`DC1` and `DC2`) combined to the supercomputer (`SC`).\n\nTo solve this, you must use an augmenting path-based algorithm, such as Edmonds-Karp. However, you are explicitly forbidden from modifying the network topology, for instance, by adding a consolidated \"super-source\" node that connects to `DC1` and `DC2`. Your method must instead adapt the initialization of the algorithm's path-finding search to handle the two distinct sources directly.\n\nExpress your final answer as a single numerical value for the maximum flow in TB/h.", "solution": "The problem asks for the maximum flow in a multi-source, single-sink network. The standard method for solving such problems is to create a \"super-source\" node `S*`, add directed edges from `S*` to each of the real sources (`DC1`, `DC2`) with infinite capacity, and then find the max flow from `S*` to the sink `SC`. However, the problem explicitly forbids this modification of the graph.\n\nWe must therefore adapt an augmenting path algorithm, like the Edmonds-Karp algorithm, to handle multiple sources. The Edmonds-Karp algorithm repeatedly finds a shortest augmenting path (in terms of the number of edges) in the residual graph using a Breadth-First Search (BFS) and augments flow along this path. The adaptation required is in the initialization of the BFS. Instead of starting the search from a single source node, we initialize the BFS queue with all source nodes (`DC1` and `DC2`). This effectively searches for a path from *any* of the sources to the sink.\n\nLet the flow function be denoted by `f(u, v)` and the capacity by `c(u, v)`. The residual capacity from node `u` to `v` is `c_f(u, v) = c(u, v) - f(u, v)`. Initially, the flow is zero everywhere, so the residual graph is identical to the original graph. The total flow is `F = 0`.\n\n**Iteration 1:**\nWe search for an augmenting path from `{DC1, DC2}` to `SC` in the residual graph.\nInitialize BFS queue: `Q = [DC1, DC2]`.\nThe BFS will explore paths. Two shortest paths of length 2 exist: `DC1 -> R1 -> SC` and `DC1 -> R2 -> SC`. A third, `DC2 -> R1 -> SC`, is also of length 2. The algorithm can pick any. Let's select `DC1 -> R1 -> SC`.\nThe residual capacities along this path are `c_f(DC1, R1) = 10` and `c_f(R1, SC) = 12`.\nThe bottleneck capacity is `min(10, 12) = 10`.\nWe augment the flow by 10. `F = 0 + 10 = 10`.\nUpdate residual capacities:\n- `c_f(DC1, R1)` decreases to `10 - 10 = 0`. A reverse edge `(R1, DC1)` is created with capacity `c_f(R1, DC1) = 10`.\n- `c_f(R1, SC)` decreases to `12 - 10 = 2`. A reverse edge `(SC, R1)` is created with capacity `c_f(SC, R1) = 10`.\n\n**Iteration 2:**\nSearch for a new augmenting path. Initialize BFS queue: `Q = [DC1, DC2]`.\nThe shortest path is now `DC2 -> R2 -> SC` with length 2.\nThe residual capacities are `c_f(DC2, R2) = 8` and `c_f(R2, SC) = 9`.\nThe bottleneck capacity is `min(8, 9) = 8`.\nWe augment the flow by 8. `F = 10 + 8 = 18`.\nUpdate residual capacities:\n- `c_f(DC2, R2)` decreases to `8 - 8 = 0`. Reverse edge `c_f(R2, DC2) = 8`.\n- `c_f(R2, SC)` decreases to `9 - 8 = 1`. Reverse edge `c_f(SC, R2) = 8`.\n\n**Iteration 3:**\nSearch for a new augmenting path. Initialize BFS queue: `Q = [DC1, DC2]`.\nA shortest path is `DC1 -> R2 -> SC` with length 2.\nThe residual capacities are `c_f(DC1, R2) = 5` and `c_f(R2, SC) = 1`.\nThe bottleneck capacity is `min(5, 1) = 1`.\nWe augment the flow by 1. `F = 18 + 1 = 19`.\nUpdate residual capacities:\n- `c_f(DC1, R2)` decreases to `5 - 1 = 4`. `c_f(R2, DC1)` increases to 1.\n- `c_f(R2, SC)` decreases to `1 - 1 = 0`. `c_f(SC, R2)` increases to `8 + 1 = 9`.\n\n**Iteration 4:**\nSearch for a new augmenting path. Initialize BFS queue: `Q = [DC1, DC2]`.\nA shortest path is `DC2 -> R1 -> SC` with length 2.\nThe residual capacities are `c_f(DC2, R1) = 6` and `c_f(R1, SC) = 2`.\nThe bottleneck capacity is `min(6, 2) = 2`.\nWe augment the flow by 2. `F = 19 + 2 = 21`.\nUpdate residual capacities:\n- `c_f(DC2, R1)` decreases to `6 - 2 = 4`. `c_f(R1, DC2)` becomes 2.\n- `c_f(R1, SC)` decreases to `2 - 2 = 0`. `c_f(SC, R1)` increases to `10 + 2 = 12`.\n\n**Iteration 5:**\nSearch for a new augmenting path. Initialize BFS queue: `Q = [DC1, DC2]`.\nLet's trace the reachable nodes from `{DC1, DC2}`.\n- From `DC1`, we can reach `R2` (residual capacity 4).\n- From `DC2`, we can reach `R1` (residual capacity 4) and `R2` (residual capacity 0, cannot use).\n- So, from sources, we can reach `R1` and `R2`.\n- From `R1`, can we reach `SC`? No, `c_f(R1, SC) = 0`. Can we go elsewhere? We can go to `R2` (`c_f(R1, R2) = 4`).\n- From `R2`, can we reach `SC`? No, `c_f(R2, SC) = 0`.\n- Let's check path `DC2 -> R1 -> R2`. From `R2`, we cannot reach `SC`. So this path does not lead to the sink.\nThe BFS will explore the set of reachable nodes: `{DC1, DC2, R1, R2}`. Since `SC` cannot be reached from any of these nodes in the current residual graph, the search terminates. No more augmenting paths exist.\n\nThe algorithm terminates. The maximum flow is the sum of all augmentations.\n`F_max = 10 + 8 + 1 + 2 = 21`.\n\nThis result can be verified by the max-flow min-cut theorem. Consider the cut `C = ({DC1, DC2, R1, R2}, {SC})`. This cut separates the sources from the sink. The capacity of the cut is the sum of capacities of all edges going from the source-side partition to the sink-side partition.\nCapacity(C) = `c(R1, SC) + c(R2, SC) = 12 + 9 = 21`.\nSince we found a flow of 21 and a cut of capacity 21, by the max-flow min-cut theorem, this must be the maximum flow.\n\nThe maximum total data transfer rate is 21 TB/h.", "answer": "$$\\boxed{21}$$", "id": "1504817"}]}