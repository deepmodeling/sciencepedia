{"hands_on_practices": [{"introduction": "A successful experiment begins with a robust setup, yet idealized boundary conditions are rarely achieved in practice. This exercise explores a crucial aspect of torsion testing: the unavoidable presence of grip misalignment. By analyzing how a small lateral eccentricity induces parasitic bending moments, you will apply both torsion and beam theory to derive a quantitative tolerance for fixture alignment, a vital skill for ensuring data integrity [@problem_id:2705601].", "problem": "A long, circular cylindrical specimen of length $L$ and radius $a$ is tested in torsion between two rigid, parallel grips. The grips’ axes are parallel but laterally offset by a small eccentricity $e$, so that the centroidal axes of the end cross-sections are separated by a transverse distance $e$ while the end sections remain parallel. The machine applies a quasi-static torque $T$ about its own axis. Assume linear elasticity, small deformations, Saint-Venant torsion for the circular shaft, and Euler–Bernoulli bending for the lateral response. The cross-sectional polar second moment is $J$ and the second moment of area about the relevant bending axis is $I$; the shear modulus is $G$ and Young’s modulus is $E$.\n\nBecause of the misalignment, the specimen develops a self-equilibrated bending field that accommodates the enforced end offset $e$ while keeping both end cross-sections free of bending rotation. In the torsion test, a shear strain gauge rosette is used to measure the surface shear strain due to torsion. To prevent contamination of the shear-strain measurement by spurious bending, the laboratory specifies a measurement tolerance $\\eta \\in (0,1)$ defined as the maximum allowable ratio of the magnitude of the bending-induced axial normal strain at the outer surface to the magnitude of the torsion-induced shear strain at the outer surface, both evaluated at the same applied torque $T$.\n\nStarting from fundamental beam and torsion relations (equilibrium, compatibility, and linear elastic constitutive laws), derive the maximum permissible eccentricity $e_{\\max}$ such that the ratio of the spurious bending axial strain magnitude at the surface to the true torsional shear strain magnitude at the surface does not exceed $\\eta$. Express $e_{\\max}$ in terms of $L$, $G$, $J$, $T$, and $\\eta$ only, eliminating any intermediate quantities not required by the final tolerance definition. You must produce a single closed-form analytic expression for $e_{\\max}$. Express $e_{\\max}$ in meters. Do not substitute numerical values. Do not present an inequality; present only the expression for $e_{\\max}$.", "solution": "The supplied problem is subjected to validation.\n\n**Step 1: Extract Givens**\n- Specimen geometry: length $L$, radius $a$.\n- Loading and boundary conditions: applied torque $T$, lateral eccentricity of end grips $e$. End sections are parallel and separated by a transverse distance $e$.\n- Material properties: Shear modulus $G$, Young's modulus $E$.\n- Section properties: Polar second moment of area $J$, second moment of area for bending $I$.\n- Assumptions: Linear elasticity, small deformations, Saint-Venant torsion, Euler–Bernoulli bending.\n- Tolerance definition: $\\eta = \\frac{|\\epsilon_{xx, \\text{bending}}|_{\\max}}{|\\gamma_{x\\theta, \\text{torsion}}|_{\\max}}$, where $\\eta \\in (0,1)$. The strains are evaluated at the outer surface.\n- Objective: Derive the maximum permissible eccentricity, $e_{\\max}$, as a function of $L$, $G$, $J$, $T$, and $\\eta$ only.\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is scientifically grounded, rooted in the classical theories of elasticity, specifically Saint-Venant's torsion and Euler-Bernoulli beam theory. The setup describes a realistic experimental artifact in materials testing, namely, fixture misalignment. The problem is well-posed: the boundary conditions for the bending problem are clearly specified (imposed displacement and zero slopes at both ends), and the objective is to derive a specific quantity based on a precise mathematical criterion. The language used is objective and formal. All necessary parameters are provided, and the requirement to express the final answer in terms of a specific subset of these parameters constitutes a part of the problem's challenge, not a flaw. The problem does not violate any of the invalidity criteria.\n\n**Step 3: Verdict and Action**\nThe problem is valid. A solution will be derived.\n\nThe core of the problem is to relate the externally imposed eccentricity $e$ to the ratio of strains $\\eta$. The maximum permissible eccentricity $e_{\\max}$ is the value of $e$ for which this ratio is exactly equal to the specified tolerance $\\eta$.\n\nThe tolerance is defined as:\n$$\n\\eta = \\frac{|\\epsilon_{xx, \\text{bending}}|_{\\max}}{|\\gamma_{x\\theta, \\text{torsion}}|_{\\max}}\n$$\nWe must determine the expressions for the two strain components.\n\nFirst, we analyze the torsion-induced shear strain, $\\gamma_{x\\theta, \\text{torsion}}$. For a circular shaft under a torque $T$, the shear stress $\\tau$ at a radial distance $r$ from the centroidal axis is given by the Saint-Venant torsion formula:\n$$\n\\tau(r) = \\frac{Tr}{J}\n$$\nwhere $J$ is the polar second moment of area of the cross-section. According to Hooke's law for shear in a linear elastic material, the shear strain $\\gamma$ is related to the shear stress by the shear modulus $G$:\n$$\n\\gamma(r) = \\frac{\\tau(r)}{G} = \\frac{Tr}{GJ}\n$$\nThe magnitude of this shear strain is maximum at the outer surface of the specimen, where $r=a$:\n$$\n|\\gamma_{x\\theta, \\text{torsion}}|_{\\max} = \\frac{Ta}{GJ}\n$$\n\nNext, we analyze the bending-induced axial normal strain, $\\epsilon_{xx, \\text{bending}}$. The misalignment imposes a fixed-end condition on the specimen, which acts as a beam of length $L$. Let the coordinate $x$ run along the undeformed centroidal axis of the specimen, from $x=0$ to $x=L$. The transverse deflection is $v(x)$. The boundary conditions are:\n1. At $x=0$, the deflection is zero: $v(0) = 0$.\n2. At $x=0$, the end section is parallel to its original orientation, so the slope is zero: $\\frac{dv}{dx}(0) = 0$.\n3. At $x=L$, the deflection is the enforced eccentricity: $v(L) = e$.\n4. At $x=L$, the end section is also parallel to its original orientation, so the slope is zero: $\\frac{dv}{dx}(L) = 0$.\n\nFor Euler-Bernoulli beam theory with no transverse distributed load, the governing differential equation is:\n$$\nEI \\frac{d^4v}{dx^4} = 0\n$$\nwhere $E$ is Young's modulus and $I$ is the second moment of area about the bending axis. The general solution is a cubic polynomial:\n$$\nv(x) = C_1 x^3 + C_2 x^2 + C_3 x + C_4\n$$\nApplying the boundary conditions:\n- $v(0) = 0 \\implies C_4 = 0$.\n- $\\frac{dv}{dx} = 3C_1 x^2 + 2C_2 x + C_3$.\n- $\\frac{dv}{dx}(0) = 0 \\implies C_3 = 0$.\nSo, $v(x) = C_1 x^3 + C_2 x^2$.\n- $v(L) = C_1 L^3 + C_2 L^2 = e$.\n- $\\frac{dv}{dx}(L) = 3C_1 L^2 + 2C_2 L = 0 \\implies C_2 = -\\frac{3}{2} L C_1$.\nSubstituting $C_2$ into the equation for $v(L)$:\n$$\nC_1 L^3 + \\left(-\\frac{3}{2} L C_1\\right) L^2 = e \\implies C_1 L^3 \\left(1 - \\frac{3}{2}\\right) = e \\implies -\\frac{1}{2} C_1 L^3 = e\n$$\nThis gives $C_1 = -\\frac{2e}{L^3}$. Subsequently, $C_2 = -\\frac{3}{2}L \\left(-\\frac{2e}{L^3}\\right) = \\frac{3e}{L^2}$.\nThe deflection curve is thus:\n$$\nv(x) = e \\left( \\frac{3x^2}{L^2} - \\frac{2x^3}{L^3} \\right)\n$$\nThe bending moment $M(x)$ is given by $M(x) = EI \\frac{d^2v}{dx^2}$.\n$$\n\\frac{d^2v}{dx^2} = e \\left( \\frac{6}{L^2} - \\frac{12x}{L^3} \\right)\n$$\n$$\nM(x) = EIe \\left( \\frac{6}{L^2} - \\frac{12x}{L^3} \\right) = \\frac{6EIe}{L^2} \\left( 1 - \\frac{2x}{L} \\right)\n$$\nThe maximum magnitude of the bending moment occurs at the ends of the beam, where $x=0$ and $x=L$:\n$$\nM(0) = \\frac{6EIe}{L^2}, \\quad M(L) = -\\frac{6EIe}{L^2}\n$$\nSo, the maximum bending moment magnitude is $M_{\\max} = \\frac{6EIe}{L^2}$.\n\nThe axial normal strain due to bending, $\\epsilon_{xx}$, at a distance $y$ from the neutral axis is:\n$$\n\\epsilon_{xx}(x, y) = \\frac{M(x)y}{EI}\n$$\nThe magnitude of this strain is maximum at the outer surface, $|y|=a$, and at the locations of maximum moment magnitude, i.e., at $x=0$ and $x=L$.\n$$\n|\\epsilon_{xx, \\text{bending}}|_{\\max} = \\frac{M_{\\max} a}{EI} = \\frac{1}{EI} \\left( \\frac{6EIe}{L^2} \\right) a = \\frac{6ae}{L^2}\n$$\nNow, we can assemble the expression for the tolerance $\\eta$:\n$$\n\\eta = \\frac{|\\epsilon_{xx, \\text{bending}}|_{\\max}}{|\\gamma_{x\\theta, \\text{torsion}}|_{\\max}} = \\frac{\\frac{6ae}{L^2}}{\\frac{Ta}{GJ}}\n$$\nSimplifying the expression by canceling the radius $a$:\n$$\n\\eta = \\frac{6e}{L^2} \\frac{GJ}{T} = \\frac{6GJe}{TL^2}\n$$\nThe maximum permissible eccentricity $e_{\\max}$ corresponds to the case where the equality holds. We solve for $e=e_{\\max}$:\n$$\ne_{\\max} = \\frac{\\eta T L^2}{6GJ}\n$$\nThis expression depends only on the required variables $L$, $G$, $J$, $T$, and $\\eta$. The units are checked for consistency: $\\eta$ is dimensionless, $T$ is in units of force $\\times$ length ($[F][L]$), $L$ is length ($[L]$), $G$ is stress ($[F][L]^{-2}$), and $J$ is the polar second moment of area ($[L]^4$).\n$$\n[e_{\\max}] = \\frac{[1] [F][L] [L]^2}{[F][L]^{-2} [L]^4} = \\frac{[F][L]^3}{[F][L]^2} = [L]\n$$\nThe units are correct. For the result to be in meters, all input quantities must be expressed in a consistent SI system of units (Newtons, meters, seconds).", "answer": "$$\n\\boxed{\\frac{\\eta T L^2}{6 G J}}\n$$", "id": "2705601"}, {"introduction": "While elastic analysis is foundational, understanding the full mechanical response of ductile materials requires modeling plasticity. This computational practice challenges you to derive the complete torque-twist relationship for an elastic-perfectly plastic material from first principles [@problem_id:2705638]. By implementing this model, you will also investigate the critical differences between displacement- and torque-controlled loading, revealing important lessons about numerical stability and path-dependence in material simulations.", "problem": "A homogeneous, isotropic, solid circular bar of radius $R$ and length $L$ is subjected to pure torsion under small strains and small rotations. The material is modeled as linear elastic up to a shear yield stress $\\tau_y$ and then ideal (perfectly) plastic in shear with no hardening. Let the shear modulus be $G$. Assume Saint-Venant torsion applies and neglect warping; the polar second moment of area is $J$ for the cross-section. The basic kinematics and statics of torsion provide that the engineering shear strain at radius $r$ under twist angle $\\theta$ is $\\gamma(r)=r\\,\\theta/L$, and the torque $T$ transmitted is the cross-sectional integral of shear traction times moment arm. Under torque control, a target torque $T$ is prescribed; under displacement-driven twist control, a target twist $\\theta$ is prescribed.\n\nStarting only from the fundamental statements above, derive a piecewise, closed-form constitutive relation between torque $T$ and twist $\\theta$ for the elastic–perfectly plastic bar, including the onset of yielding and the post-yield response with an elastic core and a plastic annulus. Then, derive the inverse mapping that recovers $\\theta$ given $T$, highlighting any domain restrictions needed to ensure a finite solution.\n\nUsing your derived relations, write a program that computes and compares displacement-driven and torque-driven results for the following single bar with fixed parameters:\n- Radius $R = 0.01\\,\\text{m}$.\n- Length $L = 1.0\\,\\text{m}$.\n- Shear modulus $G = 80 \\times 10^9\\,\\text{Pa}$.\n- Shear yield stress $\\tau_y = 250 \\times 10^6\\,\\text{Pa}$.\n\nYour program must implement two functions based on your derivation:\n- $T(\\theta)$: torque as a function of twist.\n- $\\theta(T)$: twist as a function of torque.\n\nDefine the polar second moment of area $J$ for a solid circular cross-section and any other intermediate quantities you need from your derivation. Use the following test suite to assess path dependence and numerical stability implications:\n\n- Case A (elastic, displacement-driven reference): prescribe $\\theta_A = 0.1\\,\\text{rad}$, compute $T_A = T(\\theta_A)$, then recover $\\hat{\\theta}_A = \\theta(T_A)$. Record the absolute difference $|\\hat{\\theta}_A - \\theta_A|$ in radians.\n- Case B (onset of yield, displacement-driven reference): prescribe $\\theta_B = \\theta_y$ (the twist at first yield), compute $T_B = T(\\theta_B)$, then recover $\\hat{\\theta}_B = \\theta(T_B)$. Record the absolute difference $|\\hat{\\theta}_B - \\theta_B|$ in radians.\n- Case C (post-yield, displacement-driven reference): prescribe $\\theta_C = 2\\,\\theta_y$, compute $T_C = T(\\theta_C)$, then recover $\\hat{\\theta}_C = \\theta(T_C)$. Record the absolute difference $|\\hat{\\theta}_C - \\theta_C|$ in radians.\n- Case D1 (near plastic limit, torque-driven): prescribe $T_{0.99} = 0.99\\,T_p$ where $T_p$ is the fully plastic torque from your derivation, compute $\\theta_{0.99} = \\theta(T_{0.99})$, then map back $\\hat{T}_{0.99} = T(\\theta_{0.99})$. Record the absolute difference $|\\hat{T}_{0.99} - T_{0.99}|$ in $\\text{N}\\cdot\\text{m}$ and the ratio $\\theta_{0.99}/\\theta_y$ (dimensionless).\n- Case D2 (closer to plastic limit, torque-driven): prescribe $T_{0.999} = 0.999\\,T_p$, compute $\\theta_{0.999} = \\theta(T_{0.999})$, and record the ratio $\\theta_{0.999}/\\theta_y$ (dimensionless).\n\nAll computations must use International System of Units (SI): lengths in meters, torque in newton-meters, stresses in pascals, and twist in radians. For the angle unit, use radians. Your program’s final output must be a single line containing a comma-separated list enclosed in square brackets with the following values in order:\n- $|\\hat{\\theta}_A - \\theta_A|$ in radians,\n- $|\\hat{\\theta}_B - \\theta_B|$ in radians,\n- $|\\hat{\\theta}_C - \\theta_C|$ in radians,\n- $|\\hat{T}_{0.99} - T_{0.99}|$ in $\\text{N}\\cdot\\text{m}$,\n- $\\theta_{0.99}/\\theta_y$ as a floating-point number,\n- $\\theta_{0.999}/\\theta_y$ as a floating-point number.\n\nFor example, the final printed line must look like: [$x_1$,$x_2$,$x_3$,$x_4$,$x_5$,$x_6$] where each $x_i$ is a floating-point number in the units specified above. No other text should be printed.", "solution": "The problem requires the derivation of the constitutive relationship between torque $T$ and angle of twist $\\theta$ for a linear elastic, perfectly plastic solid circular bar, and its inverse. The derivation must proceed from first principles as stated in the problem.\n\nFirst, we define the key parameters and fundamental relations. The bar has radius $R$ and length $L$. The material shear modulus is $G$ and the shear yield stress is $\\tau_y$. The kinematic assumption is that the shear strain $\\gamma$ at a radius $r$ from the center is linear with respect to $r$ and proportional to the total twist $\\theta$:\n$$\n\\gamma(r) = \\frac{r\\theta}{L}\n$$\nThe material constitutive model is elastic-perfectly plastic. In the elastic range, shear stress $\\tau$ is related to shear strain $\\gamma$ by Hooke's Law, $\\tau = G\\gamma$. This holds as long as the stress does not exceed the yield stress, i.e., $|\\tau| \\le \\tau_y$. Once the stress reaches $\\tau_y$, the material yields and can deform plastically with the stress remaining constant at $\\tau_y$.\nThe total torque $T$ is the resultant of the shear stress distribution $\\tau(r)$ integrated over the cross-sectional area $A$:\n$$\nT = \\int_A r \\tau(r) \\, dA = \\int_0^R r \\tau(r) (2\\pi r \\, dr) = 2\\pi \\int_0^R r^2 \\tau(r) \\, dr\n$$\n\nThe analysis is divided into two regimes: the fully elastic response and the elastic-plastic response.\n\n**Derivation of Torque as a function of Twist, $T(\\theta)$**\n\n**1. Elastic Regime**\nThe entire bar behaves elastically as long as the maximum shear stress, which occurs at the outer radius $r=R$, is less than or equal to the yield stress $\\tau_y$.\nThe stress at radius $r$ is $\\tau(r) = G\\gamma(r) = G\\frac{r\\theta}{L}$.\nThe maximum stress is $\\tau_{max} = \\tau(R) = \\frac{GR\\theta}{L}$.\nThe condition for full elasticity is $\\tau_{max} \\le \\tau_y$, which translates to a condition on the angle of twist:\n$$\n\\theta \\le \\frac{\\tau_y L}{GR}\n$$\nWe define the angle of twist at which yielding first occurs as $\\theta_y$:\n$$\n\\theta_y = \\frac{\\tau_y L}{GR}\n$$\nFor any $\\theta \\le \\theta_y$, the torque is calculated by substituting the elastic stress distribution into the torque integral:\n$$\nT = 2\\pi \\int_0^R r^2 \\left(G\\frac{r\\theta}{L}\\right) dr = \\frac{2\\pi G \\theta}{L} \\int_0^R r^3 dr = \\frac{2\\pi G \\theta}{L} \\left(\\frac{R^4}{4}\\right)\n$$\nRecognizing the polar second moment of area for a solid circle as $J = \\frac{\\pi R^4}{2}$, the torque in the elastic regime is:\n$$\nT(\\theta) = \\frac{GJ\\theta}{L} \\quad \\text{for } 0 \\le \\theta \\le \\theta_y\n$$\nThe torque at the yield point is $T_y = T(\\theta_y) = \\frac{GJ\\theta_y}{L}$. Substituting the expression for $\\theta_y$, we find:\n$$\nT_y = \\frac{G}{L} \\left(\\frac{\\pi R^4}{2}\\right) \\left(\\frac{\\tau_y L}{GR}\\right) = \\frac{\\pi R^3 \\tau_y}{2}\n$$\n\n**2. Elastic-Plastic Regime**\nWhen the twist angle $\\theta$ exceeds $\\theta_y$, the material at the outer radii yields. An elastic core remains, surrounded by a plastic annulus. Let $r_y$ be the radius of the interface between the elastic core and the plastic region. At this radius, the strain is exactly the yield strain, $\\gamma_y = \\tau_y/G$.\nUsing the kinematic relation, $\\gamma(r_y) = \\frac{r_y \\theta}{L} = \\gamma_y = \\frac{\\tau_y}{G}$.\nWe can solve for the elastic core radius $r_y$:\n$$\nr_y = \\frac{\\tau_y L}{G\\theta} = \\left(\\frac{\\tau_y L}{GR}\\right) \\frac{R}{\\theta} = R\\frac{\\theta_y}{\\theta}\n$$\nFor $\\theta > \\theta_y$, we have $r_y < R$. The stress distribution is now piecewise:\n-   Elastic core ($0 \\le r \\le r_y$): $\\tau(r) = G\\gamma(r) = G\\frac{r\\theta}{L} = \\tau_y \\frac{r}{r_y}$\n-   Plastic annulus ($r_y < r \\le R$): $\\tau(r) = \\tau_y$\n\nThe total torque is the sum of contributions from the elastic core ($T_{el}$) and the plastic annulus ($T_{pl}$):\n$$\nT_{el} = 2\\pi \\int_0^{r_y} r^2 \\left(\\tau_y \\frac{r}{r_y}\\right) dr = \\frac{2\\pi \\tau_y}{r_y} \\left[\\frac{r^4}{4}\\right]_0^{r_y} = \\frac{\\pi r_y^3 \\tau_y}{2}\n$$\n$$\nT_{pl} = 2\\pi \\int_{r_y}^R r^2 \\tau_y dr = 2\\pi \\tau_y \\left[\\frac{r^3}{3}\\right]_{r_y}^R = \\frac{2\\pi \\tau_y}{3}(R^3 - r_y^3)\n$$\nThe total torque is $T = T_{el} + T_{pl}$:\n$$\nT = \\frac{\\pi r_y^3 \\tau_y}{2} + \\frac{2\\pi \\tau_y R^3}{3} - \\frac{2\\pi \\tau_y r_y^3}{3} = \\frac{2\\pi \\tau_y R^3}{3} - \\frac{\\pi \\tau_y r_y^3}{6}\n$$\nThe limiting torque as the entire section becomes plastic ($r_y \\to 0$) is the fully plastic torque, $T_p$:\n$$\nT_p = \\frac{2\\pi R^3 \\tau_y}{3}\n$$\nNote that $T_p = \\frac{4}{3}T_y$. Substituting $T_p$ and the expression for $r_y$ into the torque equation for the elastic-plastic regime:\n$$\nT(\\theta) = T_p - \\frac{\\pi \\tau_y}{6} \\left(R\\frac{\\theta_y}{\\theta}\\right)^3 = T_p - \\frac{\\pi R^3 \\tau_y}{6} \\left(\\frac{\\theta_y}{\\theta}\\right)^3\n$$\nUsing $T_p = \\frac{2\\pi R^3 \\tau_y}{3}$, we can write $\\frac{\\pi R^3 \\tau_y}{6} = \\frac{T_p}{4}$. Thus:\n$$\nT(\\theta) = T_p \\left[1 - \\frac{1}{4}\\left(\\frac{\\theta_y}{\\theta}\\right)^3\\right] \\quad \\text{for } \\theta > \\theta_y\n$$\n\n**Summary of $T(\\theta)$:**\nThe complete torque-twist relation is a piecewise function:\n$$\nT(\\theta) = \n\\begin{cases} \n\\frac{GJ\\theta}{L} & \\text{if } 0 \\le \\theta \\le \\theta_y \\\\\nT_p \\left[1 - \\frac{1}{4}\\left(\\frac{\\theta_y}{\\theta}\\right)^3\\right] & \\text{if } \\theta > \\theta_y \n\\end{cases}\n$$\n\n**Derivation of Twist as a function of Torque, $\\theta(T)$**\n\nThis is the inverse mapping.\n\n**1. Elastic Regime**\nFor torques $0 \\le T \\le T_y$, the response is elastic. We invert the linear relation:\n$$\n\\theta(T) = \\frac{TL}{GJ} \\quad \\text{for } 0 \\le T \\le T_y\n$$\n\n**2. Elastic-Plastic Regime**\nFor torques $T_y < T < T_p$, the bar is partially plastic. We invert the nonlinear relation derived earlier:\n$$\nT = T_p \\left[1 - \\frac{1}{4}\\left(\\frac{\\theta_y}{\\theta}\\right)^3\\right]\n$$\nRearranging to solve for $\\theta$:\n$$\n\\frac{T}{T_p} = 1 - \\frac{1}{4}\\left(\\frac{\\theta_y}{\\theta}\\right)^3 \\implies \\frac{1}{4}\\left(\\frac{\\theta_y}{\\theta}\\right)^3 = 1 - \\frac{T}{T_p}\n$$\n$$\n\\left(\\frac{\\theta}{\\theta_y}\\right)^3 = \\frac{1}{4\\left(1 - \\frac{T}{T_p}\\right)} \\implies \\frac{\\theta}{\\theta_y} = \\left[4\\left(1 - \\frac{T}{T_p}\\right)\\right]^{-1/3}\n$$\n$$\n\\theta(T) = \\theta_y \\left[4\\left(1 - \\frac{T}{T_p}\\right)\\right]^{-1/3} \\quad \\text{for } T_y < T < T_p\n$$\n**Domain Restriction:** The expression for $\\theta(T)$ in the post-yield regime is only defined for $T < T_p$. As $T$ approaches $T_p$, the term $(1 - T/T_p)$ approaches zero, causing $\\theta(T)$ to approach infinity. This reflects the nature of ideal plasticity: once the fully plastic state is reached, the bar can undergo arbitrarily large deformation (twist) without any increase in torque. Therefore, a finite twist $\\theta$ cannot be found for $T = T_p$. The domain for this inverse mapping is $[0, T_p)$.\n\n**Summary of $\\theta(T)$:**\nThe complete twist-torque relation is also a piecewise function:\n$$\n\\theta(T) = \n\\begin{cases} \n\\frac{TL}{GJ} & \\text{if } 0 \\le T \\le T_y \\\\\n\\theta_y \\left[4\\left(1 - \\frac{T}{T_p}\\right)\\right]^{-1/3} & \\text{if } T_y < T < T_p \n\\end{cases}\n$$\n\nThe specified numerical computations require implementing these derived functions. The test cases are designed to verify the consistency of the forward and inverse mappings across the elastic and plastic regimes, and to probe the numerical behavior near the fully plastic limit $T_p$, where the derivative $\\frac{d\\theta}{dT}$ becomes unbounded, indicating potential numerical instability in torque-controlled scenarios.", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the torsion problem for an elastic-perfectly plastic bar.\n    Derives and implements the T(theta) and theta(T) relationships,\n    then runs a test suite to evaluate numerical characteristics.\n    \"\"\"\n    \n    # 1. Define fixed parameters from the problem statement (SI units)\n    R = 0.01  # Radius in meters\n    L = 1.0   # Length in meters\n    G = 80e9  # Shear modulus in Pascals\n    tau_y = 250e6  # Shear yield stress in Pascals\n\n    # 2. Calculate derived constants based on the theory\n    # Polar second moment of area for a solid circular cross-section\n    J = np.pi * R**4 / 2\n    \n    # Twist at first yield\n    theta_y = (tau_y * L) / (G * R)\n    \n    # Torque at first yield\n    # T_y can be calculated in two ways, which must be consistent:\n    # T_y = (G * J * theta_y) / L\n    T_y = (np.pi * R**3 * tau_y) / 2\n    \n    # Fully plastic torque (asymptotic limit)\n    # T_p = (2 * np.pi * R**3 * tau_y) / 3\n    # It is exactly 4/3 of T_y\n    T_p = (4.0 / 3.0) * T_y\n\n    # 3. Implement the forward and inverse constitutive functions\n    def T_from_theta(theta):\n        \"\"\"Computes torque T as a function of twist theta.\"\"\"\n        if not np.isscalar(theta):\n            theta = np.asarray(theta)\n            \n        # The function is vectorized using np.where\n        # Elastic regime: T = G * J * theta / L\n        # Plastic regime: T = T_p * (1 - 0.25 * (theta_y / theta)**3)\n        return np.where(\n            theta = theta_y,\n            (G * J / L) * theta,\n            T_p * (1.0 - 0.25 * (theta_y / theta)**3)\n        )\n\n    def theta_from_T(T):\n        \"\"\"Computes twist theta as a function of torque T.\"\"\"\n        if not np.isscalar(T):\n            T = np.asarray(T)\n        \n        # Check for invalid torque values (above the plastic limit)\n        if np.any(T > T_p):\n            # Not strictly required by problem, but good practice\n            raise ValueError(\"Torque cannot exceed the fully plastic torque T_p.\")\n\n        # Elastic regime: theta = T * L / (G * J)\n        # Plastic regime: theta = theta_y / (4 * (1 - T/T_p))**(1/3)\n        return np.where(\n            T = T_y,\n            T * L / (G * J),\n            theta_y / ( (4.0 * (1.0 - T / T_p))**(1.0 / 3.0) )\n        )\n\n    # 4. Execute the test suite\n    results = []\n\n    # Case A: Elastic, displacement-driven\n    theta_A = 0.1  # rad\n    T_A = T_from_theta(theta_A)\n    theta_A_hat = theta_from_T(T_A)\n    diff_A = abs(theta_A_hat - theta_A)\n    results.append(diff_A)\n\n    # Case B: Onset of yield, displacement-driven\n    theta_B = theta_y\n    T_B = T_from_theta(theta_B)\n    theta_B_hat = theta_from_T(T_B)\n    diff_B = abs(theta_B_hat - theta_B)\n    results.append(diff_B)\n\n    # Case C: Post-yield, displacement-driven\n    theta_C = 2.0 * theta_y\n    T_C = T_from_theta(theta_C)\n    theta_C_hat = theta_from_T(T_C)\n    diff_C = abs(theta_C_hat - theta_C)\n    results.append(diff_C)\n\n    # Case D1: Near plastic limit, torque-driven\n    T_099 = 0.99 * T_p\n    theta_099 = theta_from_T(T_099)\n    T_099_hat = T_from_theta(theta_099)\n    diff_D1 = abs(T_099_hat - T_099)\n    ratio_D1 = theta_099 / theta_y\n    results.append(diff_D1)\n    results.append(ratio_D1)\n\n    # Case D2: Closer to plastic limit, torque-driven\n    T_0999 = 0.999 * T_p\n    theta_0999 = theta_from_T(T_0999)\n    ratio_D2 = theta_0999 / theta_y\n    results.append(ratio_D2)\n\n    # 5. Format and print the final output\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```", "id": "2705638"}, {"introduction": "To characterize materials for applications like impact dynamics, we must test them at high strain rates, often using a Split Hopkinson Torsion Bar (SHTB). This advanced problem immerses you in the analysis of SHTB data, where the material's response must be inferred from elastic stress waves propagating in the apparatus [@problem_id:2705592]. You will use one-dimensional wave theory to reconstruct the specimen's dynamic stress-strain curve from hypothetical strain gauge signals and assess the critical assumption of torque equilibrium during the test.", "problem": "A cylindrical Split Hopkinson Torsion Bar (SHTB) experiment is conducted using two identical solid maraging-steel bars (input and output) of circular cross-section. The bars have radius $r_b = 10$ mm, shear modulus $G_b = 80$ GPa, and mass density $\\rho_b = 7800$ kg/m$^3$. The specimen is a solid circular cylinder of radius $r_s = 5$ mm and gage length $L_s = 4$ mm. Assume Saint-Venant torsion for bars and specimen, one-dimensional torsional wave propagation in the bars, and elastic bars. The torsional wave speed in a homogeneous isotropic bar is $C_t = \\sqrt{G/\\rho}$.\n\nUsing two-gauge processing and travel-time correction, the bar surface shear strain waveforms at the specimen interfaces are separated and time-aligned as follows (all as functions of continuous time $t$ in seconds):\n- Incident surface shear strain in the input bar at the specimen face: $\\gamma_I(t) = A \\exp\\!\\left(-\\dfrac{(t - t_0)^2}{2 s^2}\\right)$ with $A = 8.0 \\times 10^{-4}$, $t_0 = 70 \\,\\mu\\text{s}$, and $s = 20 \\,\\mu\\text{s}$.\n- Reflected surface shear strain in the input bar at the specimen face: $\\gamma_R(t) = -\\beta \\, \\gamma_I(t)$ with $\\beta = 0.40$.\n- Transmitted surface shear strain in the output bar at the specimen face: $\\gamma_T(t) = (1 - \\beta + \\varepsilon)\\, \\gamma_I(t)$ with $\\varepsilon = 0.050$.\n\nYou may take the polar second moments of area for the solid circular bars and specimen as $J_b = \\dfrac{\\pi r_b^4}{2}$ and $J_s = \\dfrac{\\pi r_s^4}{2}$, respectively.\n\nTasks:\n1) Starting from the torsional wave equation and the definition of torque–twist coupling in a circular shaft, derive expressions for the specimen outer-fiber shear stress $\\tau_s(t)$ and the specimen outer-fiber engineering shear strain $\\gamma_s(t)$ in terms of $(\\gamma_I,\\gamma_R,\\gamma_T)$, $G_b$, $\\rho_b$, $r_b$, $r_s$, $L_s$, $J_b$, and $J_s$. Clearly state all kinematic and dynamic interface relations you use.\n\n2) Using your results from part (1), write the parametric representation of the specimen shear stress–strain curve $\\tau_s(\\gamma_s)$ for the given waveforms. Do not linearize unless justified by assumptions intrinsic to your derivation.\n\n3) To assess force (torque) equilibrium in the specimen during the loading pulse, define the dimensionless equilibrium error metric\n$$\n\\mathcal{E} \\equiv \\left[ \\dfrac{\\displaystyle \\int_{-\\infty}^{\\infty} \\left( T_{\\text{in}}(t) - T_{\\text{out}}(t) \\right)^{2} \\, dt}{\\displaystyle \\int_{-\\infty}^{\\infty} \\left( T_{\\text{out}}(t) \\right)^{2} \\, dt} \\right]^{1/2},\n$$\nwhere $T_{\\text{in}}(t)$ is the torque applied to the specimen from the input side and $T_{\\text{out}}(t)$ is the torque transmitted into the output bar. Express $T_{\\text{in}}(t)$ and $T_{\\text{out}}(t)$ in terms of the bar quantities and $(\\gamma_I,\\gamma_R,\\gamma_T)$, and then evaluate the integral exactly for the given waveforms.\n\nFinally, report the numerical value of $\\mathcal{E}$, expressed as a dimensionless decimal, rounded to four significant figures.", "solution": "The problem posed is a valid and well-defined problem in the field of solid mechanics, specifically concerning the analysis of data from a Split Hopkinson Torsion Bar (SHTB) experiment. It is scientifically grounded, internally consistent, and requires a rigorous application of fundamental principles. We will proceed with a complete solution.\n\nThe analysis is founded on the principles of one-dimensional elastic wave propagation in the bars and Saint-Venant torsion theory for both bars and specimen.\n\nFirst, we establish the relationships between the surface shear strains $(\\gamma_I, \\gamma_R, \\gamma_T)$ measured in the bars and the physical quantities of torque $T$ and angular velocity $\\dot{\\theta}$. For a circular bar under torsion, the shear strain $\\gamma$ at a radius $r$ is related to the twist per unit length, $\\kappa = d\\theta/dz$, by $\\gamma = r \\kappa$. For the bars, at the outer surface where strain is measured ($r=r_b$), the surface shear strain is $\\gamma_b = r_b \\kappa(t)$. Thus, $\\kappa(t) = \\gamma_b(t)/r_b$. The torque $T(t)$ is given by $T(t) = G_b J_b \\kappa(t)$, where $G_b$ is the shear modulus and $J_b$ is the polar second moment of area of the bar. Substituting for $\\kappa(t)$, we obtain the torque in terms of the surface shear strain:\n$$ T(t) = \\frac{G_b J_b}{r_b} \\gamma_b(t) $$\nThe one-dimensional wave equation for torsion implies a relationship between the particle angular velocity $\\dot{\\theta}(t)$ and the twist per unit length $\\kappa(t)$. For a wave propagating in the positive $z$-direction (incident and transmitted waves), $\\dot{\\theta}(t) = -C_t \\kappa(t)$, where $C_t = \\sqrt{G_b/\\rho_b}$ is the torsional wave speed. For a wave propagating in the negative $z$-direction (reflected wave), $\\dot{\\theta}(t) = C_t \\kappa(t)$. Expressing $\\kappa$ in terms of surface shear strain:\n$$ \\dot{\\theta}_{I,T}(t) = -C_t \\frac{\\gamma_{I,T}(t)}{r_b} $$\n$$ \\dot{\\theta}_R(t) = C_t \\frac{\\gamma_R(t)}{r_b} $$\n\n**Part 1: Derivation of Specimen Stress and Strain**\n\nThe average engineering shear strain rate in the specimen, $\\dot{\\gamma}_s(t)$, is determined by the relative angular velocity of its two faces divided by its length $L_s$, scaled by the specimen radius $r_s$. The input face (interface $1$) has angular velocity $\\dot{\\theta}_1(t) = \\dot{\\theta}_I(t) + \\dot{\\theta}_R(t)$, and the output face (interface $2$) has angular velocity $\\dot{\\theta}_2(t) = \\dot{\\theta}_T(t)$.\nThe kinematic relation is:\n$$ \\dot{\\gamma}_s(t) = \\frac{r_s}{L_s} (\\dot{\\theta}_1(t) - \\dot{\\theta}_2(t)) = \\frac{r_s}{L_s} (\\dot{\\theta}_I(t) + \\dot{\\theta}_R(t) - \\dot{\\theta}_T(t)) $$\nSubstituting the expressions for angular velocities in terms of shear strains:\n$$ \\dot{\\gamma}_s(t) = \\frac{r_s}{L_s} \\left( -C_t \\frac{\\gamma_I(t)}{r_b} + C_t \\frac{\\gamma_R(t)}{r_b} - \\left(-C_t \\frac{\\gamma_T(t)}{r_b}\\right) \\right) = \\frac{C_t r_s}{r_b L_s} (\\gamma_R(t) - \\gamma_I(t) + \\gamma_T(t)) $$\nThe specimen shear strain $\\gamma_s(t)$ is obtained by integrating the strain rate from time $t = -\\infty$ (before the pulse arrives):\n$$ \\gamma_s(t) = \\int_{-\\infty}^{t} \\dot{\\gamma}_s(\\tau) \\, d\\tau = \\frac{C_t r_s}{r_b L_s} \\int_{-\\infty}^{t} (\\gamma_R(\\tau) - \\gamma_I(\\tau) + \\gamma_T(\\tau)) \\, d\\tau $$\nThis is the required expression for the specimen outer-fiber engineering shear strain.\n\nThe shear stress in the specimen, $\\tau_s(t)$, is calculated from the torque transmitted through it. Standard practice in SHTB analysis is to use the torque measured in the output bar, $T_{\\text{out}}(t)$, as it is generally considered a more reliable measure of the torque sustained by the specimen, especially if the specimen material exhibits strain hardening or softening. The torque at the output face is equal to the transmitted torque, $T_{\\text{out}}(t) = T_T(t)$. The stress at the outer fiber of the specimen is given by the torsion formula:\n$$ \\tau_s(t) = \\frac{T_{\\text{out}}(t) r_s}{J_s} = \\frac{T_T(t) r_s}{J_s} $$\nSubstituting the expression for transmitted torque in terms of the transmitted strain wave:\n$$ \\tau_s(t) = \\left( \\frac{G_b J_b}{r_b} \\gamma_T(t) \\right) \\frac{r_s}{J_s} = \\frac{G_b J_b r_s}{J_s r_b} \\gamma_T(t) $$\nUsing the given formulas for the polar second moments of area, $J_b = \\frac{\\pi r_b^4}{2}$ and $J_s = \\frac{\\pi r_s^4}{2}$:\n$$ \\tau_s(t) = \\frac{G_b (\\pi r_b^4 / 2) r_s}{(\\pi r_s^4 / 2) r_b} \\gamma_T(t) = G_b \\left(\\frac{r_b}{r_s}\\right)^3 \\gamma_T(t) $$\nThis is the required expression for the specimen outer-fiber shear stress.\n\n**Part 2: Parametric Representation of the Stress-Strain Curve**\n\nThe problem provides specific functional forms for the strain waveforms:\n$\\gamma_I(t) = A \\exp\\!\\left(-\\dfrac{(t - t_0)^2}{2 s^2}\\right)$, $\\gamma_R(t) = -\\beta \\gamma_I(t)$, and $\\gamma_T(t) = (1 - \\beta + \\varepsilon) \\gamma_I(t)$.\nWe substitute these into the derived expressions for $\\tau_s(t)$ and $\\gamma_s(t)$.\n\nFor the stress:\n$$ \\tau_s(t) = G_b \\left(\\frac{r_b}{r_s}\\right)^3 (1 - \\beta + \\varepsilon) \\gamma_I(t) $$\n$$ \\tau_s(t) = G_b \\left(\\frac{r_b}{r_s}\\right)^3 (1 - \\beta + \\varepsilon) A \\exp\\left(-\\frac{(t - t_0)^2}{2 s^2}\\right) $$\nFor the strain, we first simplify the combination of strain terms:\n$$ \\gamma_R(t) - \\gamma_I(t) + \\gamma_T(t) = -\\beta \\gamma_I(t) - \\gamma_I(t) + (1 - \\beta + \\varepsilon) \\gamma_I(t) = (- \\beta - 1 + 1 - \\beta + \\varepsilon) \\gamma_I(t) = (\\varepsilon - 2\\beta) \\gamma_I(t) $$\nSo, the strain rate is $\\dot{\\gamma}_s(t) = \\frac{C_t r_s}{r_b L_s} (\\varepsilon - 2\\beta) \\gamma_I(t)$. Then the strain is:\n$$ \\gamma_s(t) = \\frac{C_t r_s}{r_b L_s} (\\varepsilon - 2\\beta) \\int_{-\\infty}^{t} \\gamma_I(\\tau) \\, d\\tau $$\n$$ \\gamma_s(t) = \\frac{C_t r_s}{r_b L_s} (\\varepsilon - 2\\beta) \\int_{-\\infty}^{t} A \\exp\\left(-\\frac{(\\tau - t_0)^2}{2 s^2}\\right) d\\tau $$\nThe integral can be expressed using the error function, $\\text{erf}(x) = \\frac{2}{\\sqrt{\\pi}}\\int_0^x e^{-u^2}du$. A standard result for the integral of a Gaussian function is $\\int_{-\\infty}^x e^{-t^2/(2\\sigma^2)} dt = \\sigma \\sqrt{\\frac{\\pi}{2}} [1 + \\text{erf}(\\frac{x}{\\sigma\\sqrt{2}})]$. With our parameters, this becomes:\n$$ \\int_{-\\infty}^{t} A \\exp\\left(-\\frac{(\\tau - t_0)^2}{2 s^2}\\right) d\\tau = A s \\sqrt{\\frac{\\pi}{2}} \\left[1 + \\text{erf}\\left(\\frac{t - t_0}{s\\sqrt{2}}\\right)\\right] $$\nThus, the parametric expression for strain is:\n$$ \\gamma_s(t) = \\frac{C_t r_s}{r_b L_s} (\\varepsilon - 2\\beta) A s \\sqrt{\\frac{\\pi}{2}} \\left[1 + \\text{erf}\\left(\\frac{t - t_0}{s\\sqrt{2}}\\right)\\right] $$\nThe pair of equations for $\\tau_s(t)$ and $\\gamma_s(t)$ constitutes the parametric representation of the stress-strain curve with time $t$ as the parameter.\n\n**Part 3: Evaluation of the Equilibrium Error Metric $\\mathcal{E}$**\n\nThe equilibrium error metric is defined as:\n$$ \\mathcal{E} \\equiv \\left[ \\dfrac{\\displaystyle \\int_{-\\infty}^{\\infty} \\left( T_{\\text{in}}(t) - T_{\\text{out}}(t) \\right)^{2} \\, dt}{\\displaystyle \\int_{-\\infty}^{\\infty} \\left( T_{\\text{out}}(t) \\right)^{2} \\, dt} \\right]^{1/2} $$\nThe torque applied to the specimen from the input bar is $T_{\\text{in}}(t) = T_I(t) + T_R(t)$. The torque transmitted into the output bar is $T_{\\text{out}}(t) = T_T(t)$.\nUsing the torque-strain relation, we have:\n$$ T_{\\text{in}}(t) = \\frac{G_b J_b}{r_b} (\\gamma_I(t) + \\gamma_R(t)) = \\frac{G_b J_b}{r_b} (\\gamma_I(t) - \\beta \\gamma_I(t)) = \\frac{G_b J_b}{r_b} (1 - \\beta) \\gamma_I(t) $$\n$$ T_{\\text{out}}(t) = \\frac{G_b J_b}{r_b} \\gamma_T(t) = \\frac{G_b J_b}{r_b} (1 - \\beta + \\varepsilon) \\gamma_I(t) $$\nThe difference in torques is:\n$$ T_{\\text{in}}(t) - T_{\\text{out}}(t) = \\frac{G_b J_b}{r_b} [(1-\\beta) - (1-\\beta+\\varepsilon)] \\gamma_I(t) = -\\varepsilon \\frac{G_b J_b}{r_b} \\gamma_I(t) $$\nNow we substitute these expressions into the definition of $\\mathcal{E}$:\n$$ \\mathcal{E}^2 = \\frac{\\displaystyle \\int_{-\\infty}^{\\infty} \\left( -\\varepsilon \\frac{G_b J_b}{r_b} \\gamma_I(t) \\right)^{2} \\, dt}{\\displaystyle \\int_{-\\infty}^{\\infty} \\left( (1 - \\beta + \\varepsilon) \\frac{G_b J_b}{r_b} \\gamma_I(t) \\right)^{2} \\, dt} $$\nThe constant factor $(\\frac{G_b J_b}{r_b})^2$ and the integral $\\int_{-\\infty}^{\\infty} \\gamma_I(t)^2 \\, dt$ cancel from the numerator and denominator. This integral is finite and non-zero for the given Gaussian pulse.\n$$ \\int_{-\\infty}^{\\infty} \\gamma_I(t)^2 \\, dt = \\int_{-\\infty}^{\\infty} A^2 \\exp\\left(-\\frac{(t - t_0)^2}{s^2}\\right) dt = A^2 s \\sqrt{\\pi} $$\nAfter cancellation, the expression for $\\mathcal{E}^2$ simplifies to a ratio of constants:\n$$ \\mathcal{E}^2 = \\frac{(-\\varepsilon)^2}{(1 - \\beta + \\varepsilon)^2} = \\frac{\\varepsilon^2}{(1 - \\beta + \\varepsilon)^2} $$\nTaking the square root gives the error metric $\\mathcal{E}$:\n$$ \\mathcal{E} = \\left| \\frac{\\varepsilon}{1 - \\beta + \\varepsilon} \\right| $$\nWe are given $\\beta = 0.40$ and $\\varepsilon = 0.050$. All quantities are positive, so the absolute value is not strictly necessary.\n$$ \\mathcal{E} = \\frac{0.050}{1 - 0.40 + 0.050} = \\frac{0.050}{0.60 + 0.050} = \\frac{0.050}{0.650} = \\frac{5}{65} = \\frac{1}{13} $$\nTo find the numerical value, we perform the division:\n$$ \\mathcal{E} = \\frac{1}{13} \\approx 0.07692307... $$\nRounding to four significant figures as required, we get $\\mathcal{E} = 0.07692$.\nThis value represents the root-mean-square error in torque equilibrium, normalized by the root-mean-square of the transmitted torque. A value of approximately $7.7\\%$ indicates a measurable, but not extreme, deviation from perfect torque equilibrium during the test.", "answer": "$$\n\\boxed{0.07692}\n$$", "id": "2705592"}]}