{"hands_on_practices": [{"introduction": "The journey of analyzing a control system often begins with its physical description, which translates into a set of differential or algebraic equations. This exercise provides practice in the essential first step of moving from a system's coupled equations—a common scenario in interconnected mechanical or electrical systems—to its overall transfer function. By solving for the relationship between a specific input and output, you will be honing the algebraic manipulation skills that form the foundation for all subsequent Signal Flow Graph analysis. [@problem_id:1609995]", "problem": "Consider a simplified model for a haptic feedback system, where a motor is coupled to a user-interface knob through a flexible shaft. The dynamics of this system in the Laplace domain, assuming zero initial conditions, are described by the following coupled algebraic equations:\n$$ (J_1 s^2 + B s + K) \\Theta_1(s) - (B s + K) \\Theta_2(s) = T(s) $$\n$$ -(B s + K) \\Theta_1(s) + (J_2 s^2 + B s + K) \\Theta_2(s) = T_d(s) $$\nHere, $\\Theta_1(s)$ is the Laplace transform of the motor's angular position and $\\Theta_2(s)$ is that of the knob's angular position. $T(s)$ represents the torque applied by the motor, and $T_d(s)$ is an external disturbance torque applied to the knob. The parameters $J_1, J_2, B, K$ are positive real constants representing the moments of inertia, damping coefficient, and torsional spring constant of the system components, respectively.\n\nDetermine the transfer function $G(s) = \\frac{\\Theta_2(s)}{T(s)}$ assuming the disturbance torque is zero, i.e., $T_d(s) = 0$. Present your final answer as a single closed-form analytic expression in terms of $s, J_1, J_2, B,$ and $K$.", "solution": "We are given the coupled equations in the Laplace domain with zero initial conditions:\n$$\\left(J_{1}s^{2}+Bs+K\\right)\\Theta_{1}(s)-\\left(Bs+K\\right)\\Theta_{2}(s)=T(s)$$\n$$-\\left(Bs+K\\right)\\Theta_{1}(s)+\\left(J_{2}s^{2}+Bs+K\\right)\\Theta_{2}(s)=T_{d}(s).$$\nAssuming $T_{d}(s)=0$, we can solve this system of two linear equations for $\\Theta_1(s)$ and $\\Theta_2(s)$. To find the transfer function $G(s) = \\frac{\\Theta_2(s)}{T(s)}$, we want to eliminate $\\Theta_1(s)$.\n\nFrom the second equation with $T_d(s) = 0$:\n$$-\\left(Bs+K\\right)\\Theta_{1}(s)+\\left(J_{2}s^{2}+Bs+K\\right)\\Theta_{2}(s)=0$$\n$$\\left(J_{2}s^{2}+Bs+K\\right)\\Theta_{2}(s)=\\left(Bs+K\\right)\\Theta_{1}(s)$$\n$$\\Theta_{1}(s) = \\frac{J_{2}s^{2}+Bs+K}{Bs+K} \\Theta_2(s)$$\n\nNow substitute this expression for $\\Theta_1(s)$ into the first equation:\n$$\\left(J_{1}s^{2}+Bs+K\\right)\\left(\\frac{J_{2}s^{2}+Bs+K}{Bs+K} \\Theta_2(s)\\right)-\\left(Bs+K\\right)\\Theta_{2}(s)=T(s)$$\nFactor out $\\Theta_2(s)$:\n$$\\left[\\frac{\\left(J_{1}s^{2}+Bs+K\\right)\\left(J_{2}s^{2}+Bs+K\\right)}{Bs+K} - (Bs+K)\\right]\\Theta_{2}(s)=T(s)$$\nCombine the terms in the bracket over a common denominator:\n$$\\left[\\frac{\\left(J_{1}s^{2}+Bs+K\\right)\\left(J_{2}s^{2}+Bs+K\\right) - (Bs+K)^2}{Bs+K}\\right]\\Theta_{2}(s)=T(s)$$\nNow, we can solve for the transfer function $\\frac{\\Theta_2(s)}{T(s)}$:\n$$G(s) = \\frac{\\Theta_{2}(s)}{T(s)}=\\frac{Bs+K}{\\left(J_{1}s^{2}+Bs+K\\right)\\left(J_{2}s^{2}+Bs+K\\right)-(Bs+K)^{2}}$$\nTo simplify the denominator, let's expand the product:\nDenominator $= (J_1s^2(J_2s^2+Bs+K) + (Bs+K)(J_2s^2+Bs+K)) - (Bs+K)^2$\n$= J_1J_2s^4 + J_1Bs^3 + J_1Ks^2 + J_2(Bs+K)s^2 + (Bs+K)^2 - (Bs+K)^2$\n$= J_1J_2s^4 + J_1Bs^3 + J_1Ks^2 + J_2Bs^3 + J_2Ks^2$\nCombine like terms:\n$= J_1J_2s^4 + (J_1+J_2)Bs^3 + (J_1+J_2)Ks^2$\nSo the final transfer function is:\n$$G(s) = \\frac{Bs+K}{J_1J_2s^4 + (J_1+J_2)Bs^3 + (J_1+J_2)Ks^2}$$", "answer": "$$\\boxed{\\frac{B s + K}{J_{1} J_{2} s^{4} + (J_{1} + J_{2}) B s^{3} + (J_{1} + J_{2}) K s^{2}}}$$", "id": "1609995"}, {"introduction": "A key insight in systems theory is that different internal structures can produce identical input-output behavior. This practice demonstrates that principle by challenging you to prove the functional equivalence of two distinct Signal Flow Graphs. By systematically applying Mason's Gain Formula to each graph, you will not only master the mechanics of identifying paths and loops but also appreciate the power of SFGs as an abstract tool for describing system dynamics, independent of a specific implementation. [@problem_id:1609987]", "problem": "Two competing engineering groups, Team Epsilon and Team Zeta, have proposed different architectures for a linear time-invariant control system. Both systems are designed to have the same input signal $R(s)$ and output signal $Y(s)$, where $s$ is the complex frequency variable.\n\nThe architecture proposed by Team Epsilon is described by a Signal Flow Graph (SFG) with four nodes: an input node $R$, an output node $Y$, and two intermediate nodes $N_1$ and $N_2$. The directed paths and their associated gains are as follows:\n- a path from $R$ to $N_1$ with gain $G_1$\n- a path from $N_1$ to $N_2$ with gain $G_2$\n- a path from $N_2$ to $Y$ with gain $G_3$\n- a feedback path from $N_2$ to $N_1$ with gain $H_1$\n- a feedback path from $Y$ to $N_2$ with gain $H_2$\n\nThe architecture proposed by Team Zeta is described by a simpler SFG with three nodes: an input node $R$, an output node $Y$, and one intermediate node $M_1$. Its paths and gains are as follows:\n- a path from $R$ to $M_1$ with gain $G_1$\n- a path from $M_1$ to $Y$ with gain $G_2 G_3$\n- a self-loop on node $M_1$ with gain $(G_2 H_1 + G_3 H_2)$\n\nDespite their structural differences, the lead engineer claims both systems are functionally identical. To verify this claim, determine the single overall transfer function $T(s) = Y(s)/R(s)$ that represents both systems. Express your answer as a symbolic expression in terms of the gains $G_1, G_2, G_3, H_1$, and $H_2$.", "solution": "To solve this problem, we will determine the overall transfer function for each of the two Signal Flow Graphs (SFGs) using Mason's Gain Formula. The formula is given by:\n$$T(s) = \\frac{\\sum_{k} P_k \\Delta_k}{\\Delta}$$\nwhere $P_k$ is the gain of the $k$-th forward path from input to output, $\\Delta$ is the determinant of the graph, and $\\Delta_k$ is the cofactor of the $k$-th forward path.\n\nThe determinant $\\Delta$ is calculated as:\n$\\Delta = 1 - (\\text{sum of all individual loop gains}) + (\\text{sum of gain products of all pairs of non-touching loops}) - (\\text{sum of gain products of all sets of three non-touching loops}) + \\dots$\n\nThe cofactor $\\Delta_k$ is the value of $\\Delta$ for the subgraph that does not touch the $k$-th forward path.\n\n**Part 1: Analysis of Team Epsilon's SFG**\n\nFirst, we identify the forward paths from input $R$ to output $Y$.\nThere is only one forward path: $P_1 = R \\to N_1 \\to N_2 \\to Y$.\nThe gain of this path is the product of the gains along the path:\n$$P_1 = G_1 G_2 G_3$$\n\nNext, we identify all the individual loops in the graph.\n- Loop 1 ($L_1$): This loop goes from node $N_1$ to $N_2$ and back to $N_1$. The path is $N_1 \\to N_2 \\to N_1$. The gain is $L_1 = G_2 H_1$.\n- Loop 2 ($L_2$): This loop goes from node $N_2$ to $Y$ and back to $N_2$. The path is $N_2 \\to Y \\to N_2$. The gain is $L_2 = G_3 H_2$.\n\nNow, we check if there are any pairs of non-touching loops.\nLoop $L_1$ involves nodes $N_1$ and $N_2$.\nLoop $L_2$ involves nodes $N_2$ and $Y$.\nSince both loops share the common node $N_2$, they are touching loops. There are no pairs of non-touching loops.\n\nWe can now calculate the determinant $\\Delta_E$ for Team Epsilon's graph.\n$$\\Delta_E = 1 - (L_1 + L_2) = 1 - (G_2 H_1 + G_3 H_2) = 1 - G_2 H_1 - G_3 H_2$$\n\nNext, we calculate the cofactor $\\Delta_1$ for the forward path $P_1$. The path $P_1$ passes through nodes $N_1$, $N_2$, and $Y$. Since this path touches both loops $L_1$ (at nodes $N_1, N_2$) and $L_2$ (at nodes $N_2, Y$), all loops are removed from the calculation of $\\Delta_1$. Therefore, $\\Delta_1 = 1$.\n\nFinally, we apply Mason's Gain Formula to find the transfer function $T_E(s)$ for Team Epsilon's system.\n$$T_E(s) = \\frac{P_1 \\Delta_1}{\\Delta_E} = \\frac{G_1 G_2 G_3}{1 - G_2 H_1 - G_3 H_2}$$\n\n**Part 2: Analysis of Team Zeta's SFG**\n\nNow, we repeat the process for Team Zeta's SFG.\nFirst, we identify the forward paths from input $R$ to output $Y$.\nThere is only one forward path: $P'_1 = R \\to M_1 \\to Y$.\nThe gain of this path is the product of the gains along the path:\n$$P'_1 = (G_1)(G_2 G_3) = G_1 G_2 G_3$$\n\nNext, we identify all the individual loops in the graph.\nThere is only one loop, a self-loop on node $M_1$. The problem statement gives its gain directly:\n$$L'_1 = G_2 H_1 + G_3 H_2$$\n\nSince there is only one loop, there can be no pairs of non-touching loops.\n\nWe can now calculate the determinant $\\Delta_Z$ for Team Zeta's graph.\n$$\\Delta_Z = 1 - (L'_1) = 1 - (G_2 H_1 + G_3 H_2) = 1 - G_2 H_1 - G_3 H_2$$\n\nNext, we calculate the cofactor $\\Delta'_1$ for the forward path $P'_1$. The path $P'_1$ passes through node $M_1$. Since the loop $L'_1$ is a self-loop on node $M_1$, the path touches the loop. Therefore, all loops are removed from the calculation of $\\Delta'_1$, and we get $\\Delta'_1 = 1$.\n\nFinally, we apply Mason's Gain Formula to find the transfer function $T_Z(s)$ for Team Zeta's system.\n$$T_Z(s) = \\frac{P'_1 \\Delta'_1}{\\Delta_Z} = \\frac{G_1 G_2 G_3}{1 - G_2 H_1 - G_3 H_2}$$\n\n**Conclusion**\n\nComparing the results, we find that $T_E(s) = T_Z(s)$. This verifies the lead engineer's claim that both systems are functionally identical. The single overall transfer function that represents both systems is:\n$$T(s) = \\frac{G_1 G_2 G_3}{1 - G_2 H_1 - G_3 H_2}$$", "answer": "$$\\boxed{\\frac{G_{1} G_{2} G_{3}}{1 - G_{2} H_{1} - G_{3} H_{2}}}$$", "id": "1609987"}, {"introduction": "A truly powerful analytical tool does more than just compute an answer; it provides deeper insight into the system's fundamental properties. This advanced exercise elevates the use of Signal Flow Graphs beyond simple transfer function calculation to the diagnosis of core state-space concepts like observability. You will investigate how a specific structure within the graph leads to a pole-zero cancellation, revealing a direct link between the graphical representation and the unobservability of an internal state variable. [@problem_id:1610015]", "problem": "A linear time-invariant (LTI) control system is described by a Signal Flow Graph (SFG). The graph models the interactions between an input signal $U$, an output signal $Y$, and two internal state variables, $X_1$ and $X_2$. The nodes of the SFG consist of the input $U$, the output $Y$, the state variables $X_1$ and $X_2$, and their corresponding derivatives in the Laplace domain, $sX_1$ and $sX_2$.\n\nThe structure of the system is defined by the following directed paths and their associated gains, where $p_1$, $p_2$, and $k_u$ are distinct, positive real constants:\n\n1.  Standard integrator paths exist from $sX_1$ to $X_1$ and from $sX_2$ to $X_2$, both with a gain of $1/s$.\n2.  There is a path from the input node $U$ to the derivative node $sX_2$ with a gain of $k_u$.\n3.  There is a path from the state node $X_2$ to its own derivative node $sX_2$ with a gain of $-p_2$.\n4.  There is a path from the state node $X_2$ to the derivative node $sX_1$ with a gain of $1$.\n5.  There is a path from the state node $X_1$ to its own derivative node $sX_1$ with a gain of $-p_1$.\n6.  The output $Y$ is a linear combination of the states. There is a path from state node $X_1$ to output node $Y$ with a gain of $c_1$, and a path from state node $X_2$ to output node $Y$ with a gain of $c_2$.\n\nThe output gains are specifically chosen such that they satisfy the relations $c_1 = p_2 - p_1$ and $c_2 = 1$. Due to this particular configuration, a pole-zero cancellation occurs in the system's input-output transfer function, which renders one of the state variables structurally unobservable from the output $Y$.\n\nBased on an analysis of the system described, which state variable is unobservable?\n\nA. $X_1$\n\nB. $X_2$\n\nC. Both $X_1$ and $X_2$ are unobservable.\n\nD. The system is fully observable; neither state is unobservable.", "solution": "From the given signal-flow relations, the state equations in the time domain are\n$$\n\\dot{x}_{1}=-p_{1}x_{1}+x_{2},\\qquad \\dot{x}_{2}=-p_{2}x_{2}+k_{u}u,\n$$\nand the output is\n$$\ny=c_{1}x_{1}+c_{2}x_{2},\\qquad c_{1}=p_{2}-p_{1},\\quad c_{2}=1.\n$$\nEquivalently, in the Laplace domain,\n$$\nsX_{1}=-p_{1}X_{1}+X_{2}\\;\\Rightarrow\\;(s+p_{1})X_{1}=X_{2}\\;\\Rightarrow\\;X_{1}=\\frac{X_{2}}{s+p_{1}},\n$$\n$$\nsX_{2}=-p_{2}X_{2}+k_{u}U\\;\\Rightarrow\\;(s+p_{2})X_{2}=k_{u}U\\;\\Rightarrow\\;X_{2}=\\frac{k_{u}}{s+p_{2}}\\,U,\n$$\nand\n$$\nY=c_{1}X_{1}+c_{2}X_{2}=X_{2}\\left(\\frac{c_{1}}{s+p_{1}}+c_{2}\\right).\n$$\nThus the input-output transfer function is\n$$\n\\frac{Y}{U}=\\frac{k_{u}\\left(\\frac{c_{1}}{s+p_{1}}+c_{2}\\right)}{s+p_{2}}=\\frac{k_{u}\\left(c_{1}+c_{2}(s+p_{1})\\right)}{(s+p_{1})(s+p_{2})}.\n$$\nWith $c_{1}=p_{2}-p_{1}$ and $c_{2}=1$, the numerator becomes $k_u( (p_2-p_1) + 1(s+p_1) ) = k_u(p_2-p_1+s+p_1) = k_u(s+p_2)$, so\n$$\n\\frac{Y}{U}=\\frac{k_{u}(s+p_{2})}{(s+p_{1})(s+p_{2})}=\\frac{k_{u}}{s+p_{1}}.\n$$\nThe transfer function has a single pole at $s=-p_1$. However, the full system has poles determined by the dynamics of both state variables. The dynamics of $X_2$ are governed by $\\dot{x}_2 = -p_2 x_2 + k_u u$, which corresponds to a pole at $s=-p_2$. Since this pole at $s=-p_2$ is canceled by a zero at the same location in the input-output transfer function, the mode associated with this pole is not visible at the output. This means the mode is unobservable.\n\nThe state variable directly associated with the pole at $s=-p_2$ is $X_2$. Therefore, state variable $X_2$ is unobservable.\n\nTo confirm this with the state-space representation, the matrices are:\n$$\nA=\\begin{pmatrix}-p_{1}&1\\\\0&-p_{2}\\end{pmatrix},\\quad B=\\begin{pmatrix}0\\\\ k_{u}\\end{pmatrix},\\quad C=\\begin{pmatrix}p_{2}-p_{1}&1\\end{pmatrix}.\n$$\nThe eigenvalues of the upper-triangular matrix $A$ are its diagonal elements, $\\lambda_1 = -p_1$ and $\\lambda_2 = -p_2$. The canceled pole corresponds to the eigenvalue $\\lambda_2 = -p_2$. In this representation, the dynamics of $X_2$ are governed by the second row of the state equation, which is associated with the eigenvalue $-p_2$.\n\nFor completeness, the observability matrix is\n$$\n\\mathcal{O}=\\begin{pmatrix}C\\\\ CA\\end{pmatrix}\n=\\begin{pmatrix}p_{2}-p_{1}&1\\\\ -p_{1}(p_{2}-p_{1})&-p_{1}\\end{pmatrix},\n$$\nwhose determinant is $\\det(\\mathcal{O}) = (p_2-p_1)(-p_1) - (1)(-p_1(p_2-p_1)) = -p_1(p_2-p_1) + p_1(p_2-p_1) = 0$. Since the determinant is zero, the matrix is singular and the system is not fully observable. The unobservable mode is the one associated with the eigenvalue $-p_2$, which corresponds to state $X_2$.\n\nTherefore, the unobservable state variable is $X_{2}$.", "answer": "$$\\boxed{B}$$", "id": "1610015"}]}