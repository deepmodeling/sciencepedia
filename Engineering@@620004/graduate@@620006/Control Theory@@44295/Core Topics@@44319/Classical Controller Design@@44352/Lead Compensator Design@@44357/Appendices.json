{"hands_on_practices": [{"introduction": "The primary function of a lead compensator, $G_c(s) = K_c \\frac{s+z}{s+p}$, is to introduce a positive phase shift into a system's frequency response, thereby improving its phase margin and transient characteristics. This exercise focuses on a fundamental aspect of its design: calculating the maximum phase lead, $\\phi_m$, that a compensator can provide. Understanding how to determine this peak phase contribution based on the pole and zero locations is essential for assessing its potential to meet performance specifications [@problem_id:1570320].", "problem": "A control systems engineer is designing a feedback controller to improve the transient response of a positioning system. As part of the design, a lead compensator is introduced into the control loop. The transfer function of the chosen lead compensator is given by:\n$$G_c(s) = K_c \\frac{s+z}{s+p}$$\nFor a lead compensator, the pole location $p$ is always greater than the zero location $z$ (i.e., $p > z > 0$). This configuration allows the compensator to add positive phase to the system's frequency response, which is crucial for improving phase margin. The engineer has selected the zero to be at $z = 2.0 \\text{ rad/s}$ and the pole to be at $p = 18.0 \\text{ rad/s}$. The gain $K_c$ is a positive real constant adjusted separately to meet other performance criteria.\n\nDetermine the maximum phase lead, $\\phi_m$, that this specific compensator can provide to the system. Express your answer in degrees, rounded to three significant figures.", "solution": "The compensator is $G_{c}(s) = K_{c}\\frac{s+z}{s+p}$ with $p>z>0$. The gain $K_{c}$ does not affect phase, so the phase contribution at frequency $\\omega$ is\n$$\\phi(\\omega) = \\arg(j\\omega+z) - \\arg(j\\omega+p) = \\arctan\\!\\left(\\frac{\\omega}{z}\\right) - \\arctan\\!\\left(\\frac{\\omega}{p}\\right).$$\nTo find the maximum phase lead, differentiate with respect to $\\omega$ and set to zero:\n$$\\frac{d\\phi}{d\\omega} = \\frac{z}{z^{2}+\\omega^{2}} - \\frac{p}{p^{2}+\\omega^{2}} = 0.$$\nSolving gives\n$$z(p^{2}+\\omega^{2}) = p(z^{2}+\\omega^{2}) \\;\\;\\Rightarrow\\;\\; \\omega^{2} = pz \\;\\;\\Rightarrow\\;\\; \\omega_{m} = \\sqrt{pz}.$$\nEvaluating the phase at $\\omega_{m}$,\n$$\\phi_{m} = \\arctan\\!\\left(\\sqrt{\\frac{p}{z}}\\right) - \\arctan\\!\\left(\\sqrt{\\frac{z}{p}}\\right).$$\nUsing trigonometric identities, this can be written as\n$$\\phi_{m} = \\arcsin\\!\\left(\\frac{p - z}{p + z}\\right).$$\nSubstitute $z = 2.0$ and $p = 18.0$:\n$$\\phi_{m} = \\arcsin\\!\\left(\\frac{18 - 2}{18 + 2}\\right) = \\arcsin(0.8).$$\nConvert to degrees and round to three significant figures:\n$$\\phi_{m} = \\arcsin(0.8)\\cdot \\frac{180}{\\pi} \\approx 53.130\\dots \\;\\Rightarrow\\; 53.1.$$", "answer": "$$\\boxed{53.1}$$", "id": "1570320"}, {"introduction": "Beyond its frequency response characteristics, a lead compensator's effectiveness is best understood by its impact on the closed-loop system's poles. This practice uses a thought experiment to explore the qualitative effect of pole-zero placement on the root locus and, consequently, the system's transient response. By analyzing what happens when a lead compensator is incorrectly implemented as a lag compensator, you will build a strong intuition for how lead compensation shapes system dynamics by pulling root locus branches towards the more stable left-half of the s-plane [@problem_id:1570596].", "problem": "A control systems engineer is tasked with improving the transient response of a unity-feedback system. The plant is described by the transfer function $G(s) = \\frac{1}{s(s+a)}$, where $a$ is a positive real constant. The goal is to use a lead compensator of the form $C(s) = \\frac{s+z_c}{s+p_c}$ to achieve a faster settling time and better stability margins. In a lead compensator, the zero is placed closer to the origin than the pole in the s-plane, meaning $0 < z_c < p_c$.\n\nAfter designing the appropriate values for $z_c$ and $p_c$, the engineer makes an implementation error. The deployed compensator is accidentally configured as $C_{error}(s) = \\frac{s+p_c}{s+z_c}$, effectively swapping the locations of the pole and zero.\n\nWhich of the following statements provides the most accurate qualitative description of the consequences of this error on the system's root locus and its resulting transient response, compared to the uncompensated system?\n\nA. The erroneous compensator acts as a lag compensator. This will tend to bend the root locus branches toward the right half-plane, generally leading to a system with a longer settling time.\n\nB. The erroneous compensator acts as a lag compensator. This will pull the root locus branches further into the left half-plane, resulting in a system with a shorter settling time.\n\nC. The error is insignificant because both the pole and zero are in the stable left half-plane. The system's root locus and transient response will be nearly identical to the intended lead-compensated design.\n\nD. The erroneous compensator still functions as a lead compensator, but with a reduced phase lead. The transient response will be improved compared to the uncompensated system, but not as much as the intended design.\n\nE. The erroneous compensator structure makes the open-loop system unstable. Therefore, it is impossible to achieve a stable closed-loop system for any positive gain.", "solution": "The unity-feedback open-loop transfer function is $L(s)=K\\,C(s)\\,G(s)$ with $G(s)=\\frac{1}{s(s+a)}$, $a>0$. The intended lead compensator is $C_{\\text{lead}}(s)=\\frac{s+z_{c}}{s+p_{c}}$ with $0<z_{c}<p_{c}$, which places a zero at $-z_{c}$ closer to the origin than the pole at $-p_{c}$. The implemented erroneous compensator is\n$$\nC_{\\text{error}}(s)=\\frac{s+p_{c}}{s+z_{c}},\n$$\nwhich places a pole at $-z_{c}$ closer to the origin than the zero at $-p_{c}$; this is the defining structure of a lag compensator.\n\nTo see the phase behavior, evaluate the compensator on the imaginary axis:\n$$\n\\angle C_{\\text{lead}}(j\\omega)=\\arctan\\!\\Big(\\frac{\\omega}{z_{c}}\\Big)-\\arctan\\!\\Big(\\frac{\\omega}{p_{c}}\\Big)>0 \\quad\\text{for }\\omega>0,\\,0<z_{c}<p_{c},\n$$\nwhich is a positive phase lead, and\n$$\n\\angle C_{\\text{error}}(j\\omega)=\\arctan\\!\\Big(\\frac{\\omega}{p_{c}}\\Big)-\\arctan\\!\\Big(\\frac{\\omega}{z_{c}}\\Big)=-\\Big[\\arctan\\!\\Big(\\frac{\\omega}{z_{c}}\\Big)-\\arctan\\!\\Big(\\frac{\\omega}{p_{c}}\\Big)\\Big]<0,\n$$\nwhich is a phase lag. Thus, the erroneous compensator is a lag compensator.\n\nRoot locus points satisfy the angle condition\n$$\n\\angle L(s)=\\angle\\big(K\\,C(s)\\,G(s)\\big)=(2k+1)\\pi,\\quad k\\in\\mathbb{Z}.\n$$\nRelative to the uncompensated plant $G(s)$, a lead compensator contributes positive phase at candidate dominant-pole locations, so to meet the angle condition the plant’s contribution must be more negative, which occurs for points further left in the left half-plane. Hence lead shifts the locus leftward, improving damping and speed.\n\nConversely, the erroneous lag compensator contributes negative phase at those locations. To satisfy the angle condition, the plant’s contribution must be less negative, which occurs for points further to the right. Therefore, the lag tends to bend the locus toward the right half-plane compared to both the uncompensated and the intended lead-compensated loci.\n\nTransient response is governed by the dominant closed-loop poles. Let the dominant poles be at $s_{d}=\\sigma_{d}\\pm j\\omega_{d}$ with $\\sigma_{d}<0$. Settling time scales approximately as\n$$\nT_{s}\\approx\\frac{4}{|\\sigma_{d}|}=\\frac{4}{\\zeta\\omega_{n}},\n$$\nwhere $\\zeta$ and $\\omega_{n}$ are the damping ratio and natural frequency of the dominant pair. If the root locus is pulled rightward, $|\\sigma_{d}|$ decreases, which increases $T_{s}$ and generally reduces damping (larger overshoot), yielding a slower, less well-damped transient than the uncompensated system when gains are chosen along the shifted locus.\n\nThe erroneous structure does not make the open-loop system unstable, since it adds one pole and one zero in the left half-plane; stable closed-loop operation remains possible for suitable gains, but performance degrades.\n\nTherefore, the most accurate qualitative description is that the erroneous compensator acts as a lag compensator that tends to bend the root locus toward the right half-plane, leading to longer settling time.", "answer": "$$\\boxed{A}$$", "id": "1570596"}, {"introduction": "In modern control systems, analog compensator designs are typically implemented on digital processors, a transition that requires careful discretization. This advanced practice explores the critical step of converting a continuous-time design to a discrete-time equivalent using the bilinear transform. You will derive the principle of frequency prewarping, a crucial technique used to counteract the frequency distortion inherent in the transform and ensure the final digital compensator provides the intended phase lead at the critical crossover frequency [@problem_id:2718180].", "problem": "You are designing a digital lead compensator to shape the phase margin of a sampled-data control loop. The compensator will be implemented by discretizing a continuous-time lead compensator using the bilinear transform (BLT). The goal is to match the desired continuous-time phase at the crossover frequency. Let the desired continuous-time crossover frequency be $\\omega_c$ in radians per second and the sampling period be $T$. You will use frequency prewarping to ensure that, after applying the bilinear transform, the discrete-time compensated open-loop phase at the discrete-time frequency corresponding to $\\omega_c$ matches the continuous-time design phase at $\\omega_c$.\n\nStarting from the definition of the bilinear transform and the definition of the frequency responses of continuous-time and discrete-time linear time-invariant systems, derive the prewarped analog frequency $\\omega_w$ (in radians per second) at which the continuous-time lead compensator should be designed so that, after applying the bilinear transform, the discrete-time compensated open-loop phase at the digital frequency that corresponds to $\\omega_c$ equals the continuous-time phase at $\\omega_c$. Express your final answer for $\\omega_w$ symbolically in terms of $\\omega_c$ and $T$. Provide your final answer as an analytic expression in radians per second. No numerical evaluation is required.", "solution": "The objective is to determine the prewarped analog frequency, denoted as $\\omega_w$, for the design of a continuous-time compensator. This compensator, when discretized using the bilinear transform (BLT), must yield a digital compensator whose phase at the digital frequency corresponding to a specified critical continuous frequency, $\\omega_c$, matches the phase of the original continuous-time design at $\\omega_c$.\n\nThe relationship between the continuous-time Laplace domain variable $s$ and the discrete-time Z-domain variable $z$ under the bilinear transform is defined as:\n$$\ns = \\frac{2}{T} \\frac{z-1}{z+1}\n$$\nwhere $T$ is the sampling period.\n\nTo understand the effect of this transformation on the frequency response, we analyze the mapping between the continuous-time frequency axis ($s=j\\omega_a$) and the discrete-time unit circle ($z=e^{j\\Omega}$). Here, $\\omega_a$ is the analog frequency of the continuous-time prototype system, and $\\Omega = \\omega_d T$ is the normalized digital frequency, where $\\omega_d$ is the digital frequency in radians per second.\n\nBy substituting $s = j\\omega_a$ and $z = e^{j\\omega_d T}$ into the BLT definition, we obtain the relationship between the two frequency domains:\n$$\nj\\omega_a = \\frac{2}{T} \\frac{e^{j\\omega_d T} - 1}{e^{j\\omega_d T} + 1}\n$$\nTo simplify the expression on the right-hand side, we factor out $e^{j\\omega_d T / 2}$ from both the numerator and the denominator:\n$$\nj\\omega_a = \\frac{2}{T} \\frac{e^{j\\omega_d T / 2}(e^{j\\omega_d T / 2} - e^{-j\\omega_d T / 2})}{e^{j\\omega_d T / 2}(e^{j\\omega_d T / 2} + e^{-j\\omega_d T / 2})}\n$$\nUsing Euler's identities, $\\sin(x) = \\frac{e^{jx} - e^{-jx}}{2j}$ and $\\cos(x) = \\frac{e^{jx} + e^{-jx}}{2}$, the expression simplifies to:\n$$\nj\\omega_a = \\frac{2}{T} \\frac{2j\\sin(\\frac{\\omega_d T}{2})}{2\\cos(\\frac{\\omega_d T}{2})}\n$$\n$$\nj\\omega_a = \\frac{2}{T} j\\tan\\left(\\frac{\\omega_d T}{2}\\right)\n$$\nCanceling the imaginary unit $j$ from both sides yields the frequency warping equation:\n$$\n\\omega_a = \\frac{2}{T} \\tan\\left(\\frac{\\omega_d T}{2}\\right)\n$$\nThis equation demonstrates the non-linear relationship between the analog frequency axis $\\omega_a$ and the digital frequency axis $\\omega_d$. It dictates that the frequency response of the resulting digital filter at a digital frequency $\\omega_d$ is identical to the frequency response of the source continuous-time filter at the corresponding analog frequency $\\omega_a$.\n\nThe problem requires that the phase of the final digital compensator at the digital frequency corresponding to $\\omega_c$ (that is, at $\\omega_d = \\omega_c$) must be equal to the phase of the ideal continuous-time design at frequency $\\omega_c$. Let $C_d(z)$ be the derived digital compensator and $C_{ideal}(s)$ be the target continuous-time compensator. The condition is:\n$$\n\\angle C_d(e^{j\\omega_c T}) = \\angle C_{ideal}(j\\omega_c)\n$$\nThe continuous-time compensator that is actually implemented before discretization is the prewarped prototype, which we can call $C_{pre}(s)$. Its discretization gives $C_d(z)$. The frequency response mapping tells us that:\n$$\nC_d(e^{j\\omega_d T}) = C_{pre}(j\\omega_a)\n$$\nwhere $\\omega_a$ is given by the warping equation. For our specific frequency of interest, $\\omega_d = \\omega_c$, this implies:\n$$\n\\angle C_d(e^{j\\omega_c T}) = \\angle C_{pre}\\left(j\\frac{2}{T} \\tan\\left(\\frac{\\omega_c T}{2}\\right)\\right)\n$$\nTo satisfy the problem's requirement, we must equate the phases:\n$$\n\\angle C_{pre}\\left(j\\frac{2}{T} \\tan\\left(\\frac{\\omega_c T}{2}\\right)\\right) = \\angle C_{ideal}(j\\omega_c)\n$$\nThis equality dictates the design of the prototype filter $C_{pre}(s)$. We design $C_{ideal}(s)$ based on its desired behavior at frequency $\\omega_c$. The equation shows that to achieve this behavior in the final digital filter at the correct frequency, the prototype $C_{pre}(s)$ must exhibit this same behavior at the frequency $\\frac{2}{T} \\tan(\\frac{\\omega_c T}{2})$.\n\nTherefore, the analog frequency at which the continuous-time compensator must be designed, which the problem labels as the prewarped frequency $\\omega_w$, is precisely this warped analog frequency. All design calculations for the continuous-time prototype (e.g., placement of poles and zeros) that would normally use $\\omega_c$ must instead use $\\omega_w$.\n$$\n\\omega_w = \\frac{2}{T} \\tan\\left(\\frac{\\omega_c T}{2}\\right)\n$$\nThis is the required symbolic expression.", "answer": "$$\n\\boxed{\\frac{2}{T} \\tan\\left(\\frac{\\omega_c T}{2}\\right)}\n$$", "id": "2718180"}]}