{"hands_on_practices": [{"introduction": "A cornerstone of modern control is the two-degrees-of-freedom architecture, which separates the tasks of disturbance rejection and reference tracking. While the feedback controller, $C(s)$, is designed to ensure stability and attenuate disturbances, a feedforward prefilter, $F(s)$, can be independently designed to shape the system's response to reference commands. This exercise [@problem_id:2708599] provides fundamental practice in this technique, challenging you to derive a prefilter that forces the overall system to mimic a canonical, well-behaved second-order response, a common objective in motion control and process applications.", "problem": "Consider a unity-feedback single-input single-output loop with a prefilter. The plant is given by the strictly proper, stable transfer function $G(s)=\\dfrac{10}{(s+1)(s+2)}$. The controller is purely proportional, $C(s)=k$ with $k>0$, and the prefilter $F(s)$ is placed in series with the external reference signal before the summing junction. Assume internal stability of the feedback interconnection with $k>0$.\n\nStarting from first principles (the Laplace-domain interconnection equations for the standard unity-feedback loop with a prefilter), derive the reference-to-output transfer function $Y(s)/R(s)$ and use it to design a proper, causal prefilter $F(s)$ such that the overall reference-to-output transfer function equals the canonical second-order form with prescribed positive damping ratio $\\zeta$ and natural frequency $\\omega_n>0$, namely\n$$\n\\frac{Y(s)}{R(s)}=\\frac{\\omega_n^2}{s^2+2\\zeta \\omega_n s+\\omega_n^2}.\n$$\nExpress your final $F(s)$ as a single rational function of $s$ in closed form in terms of $k$, $\\zeta$, and $\\omega_n$. State any conditions on the parameters that ensure $F(s)$ is causal and internally stabilizing when interconnected with the given loop. No numerical evaluation is required. The final answer must be a single closed-form analytic expression for $F(s)$.", "solution": "The problem statement is subjected to validation and is found to be valid. It is a well-posed problem in classical control theory, free of scientific or logical inconsistencies. We shall proceed with the derivation.\n\nThe system described is a single-input, single-output (SISO) feedback control loop with a prefilter. The interconnections between the components are defined by the following Laplace-domain equations, which constitute the first principles of this system's analysis:\n$1$. The output of the plant is $Y(s) = G(s)U(s)$, where $Y(s)$ is the Laplace transform of the output signal and $U(s)$ is the transform of the control input.\n$2$. The control input is generated by the controller, $U(s) = C(s)E(s)$, where $E(s)$ is the transform of the error signal.\n$3$. The error signal is formed at the summing junction, $E(s) = R'(s) - Y(s)$, where the system has unity feedback.\n$4$. The signal $R'(s)$ is the output of the prefilter $F(s)$ acting on the external reference signal $R(s)$, so $R'(s) = F(s)R(s)$.\n\nTo derive the reference-to-output transfer function, $\\frac{Y(s)}{R(s)}$, we substitute these equations systematically.\nStarting with $Y(s)=G(s)U(s)$, we substitute the expression for $U(s)$:\n$$Y(s) = G(s)C(s)E(s)$$\nNext, we substitute the expression for $E(s)$:\n$$Y(s) = G(s)C(s) \\left( F(s)R(s) - Y(s) \\right)$$\nExpanding the right-hand side gives:\n$$Y(s) = G(s)C(s)F(s)R(s) - G(s)C(s)Y(s)$$\nTo solve for $Y(s)$ in terms of $R(s)$, we group all terms involving $Y(s)$ on one side of the equation:\n$$Y(s) + G(s)C(s)Y(s) = G(s)C(s)F(s)R(s)$$\n$$Y(s) \\left( 1 + G(s)C(s) \\right) = G(s)C(s)F(s)R(s)$$\nThe overall transfer function from the reference $R(s)$ to the output $Y(s)$ is therefore:\n$$\\frac{Y(s)}{R(s)} = \\frac{C(s)G(s)}{1 + C(s)G(s)} F(s)$$\nThis equation shows that the overall system response is the product of the closed-loop transfer function of the feedback system (without the prefilter) and the prefilter transfer function. Let us denote the closed-loop transfer function as $T_{CL}(s) = \\frac{C(s)G(s)}{1 + C(s)G(s)}$.\n\nNow, we substitute the given expressions for the plant $G(s) = \\frac{10}{(s+1)(s+2)}$ and the controller $C(s)=k$.\nThe loop transfer function is $L(s) = C(s)G(s) = \\frac{10k}{(s+1)(s+2)} = \\frac{10k}{s^2+3s+2}$.\nThe closed-loop transfer function $T_{CL}(s)$ is:\n$$T_{CL}(s) = \\frac{L(s)}{1+L(s)} = \\frac{\\frac{10k}{s^2+3s+2}}{1 + \\frac{10k}{s^2+3s+2}} = \\frac{10k}{s^2+3s+2 + 10k}$$\nThe problem requires the overall reference-to-output transfer function to match the canonical second-order form:\n$$\\frac{Y(s)}{R(s)} = \\frac{\\omega_n^2}{s^2+2\\zeta \\omega_n s+\\omega_n^2}$$\nwhere $\\zeta>0$ and $\\omega_n>0$. Let this target transfer function be denoted by $T_{target}(s)$.\nWe have the relationship $T_{target}(s) = T_{CL}(s) F(s)$. To find the prefilter $F(s)$ that achieves this, we solve for $F(s)$:\n$$F(s) = \\frac{T_{target}(s)}{T_{CL}(s)}$$\nSubstituting the expressions for $T_{target}(s)$ and $T_{CL}(s)$:\n$$F(s) = \\frac{\\frac{\\omega_n^2}{s^2+2\\zeta \\omega_n s+\\omega_n^2}}{\\frac{10k}{s^2+3s+2+10k}}$$\nThis simplifies to:\n$$F(s) = \\frac{\\omega_n^2}{10k} \\cdot \\frac{s^2+3s+2+10k}{s^2+2\\zeta \\omega_n s+\\omega_n^2}$$\nThis is the required expression for the prefilter $F(s)$.\n\nWe must now analyze the conditions for causality and stability.\nA rational transfer function is causal if the degree of its numerator polynomial is less than or equal to the degree of its denominator polynomial. For our derived $F(s)$, the numerator is a second-degree polynomial in $s$, and the denominator is also a second-degree polynomial in $s$. Since the degrees are equal, the transfer function is proper, and therefore causal. This holds for all finite, non-zero values of the parameters, so no additional conditions are required for causality.\n\nFor stability, we must consider the stability of the entire system. The prefilter $F(s)$ is in a feedforward path and does not alter the characteristic equation of the feedback loop. The stability of the overall system is determined by the poles of the feedback loop and the poles of the prefilter itself.\nThe poles of the feedback loop are the roots of its characteristic equation, $1+L(s)=0$, which is $s^2+3s+2+10k=0$. For this quadratic polynomial, the poles are in the left-half of the complex plane if and only if all coefficients are positive. The coefficients are $1$, $3$, and $2+10k$. Given the constraint $k>0$, the coefficient $2+10k$ is strictly positive. Thus, the feedback loop is internally stable for all $k>0$, as assumed in the problem statement.\nThe poles of the prefilter $F(s)$ are the roots of its denominator, $s^2+2\\zeta \\omega_n s+\\omega_n^2=0$. The problem specifies that $\\zeta>0$ and $\\omega_n>0$. Consequently, all coefficients of this polynomial ($1$, $2\\zeta\\omega_n$, and $\\omega_n^2$) are strictly positive. Therefore, the poles of $F(s)$ are in the left-half plane, and $F(s)$ is a stable transfer function.\nThe prefilter cancels the stable poles of the closed-loop system and replaces them with the desired stable poles of the canonical second-order system. Since the canceled poles are stable, this cancellation does not introduce internal instability.\nIn summary, the conditions given in the problem statement, namely $k>0$, $\\zeta>0$, and $\\omega_n>0$, are sufficient to ensure both the causality of $F(s)$ and the stability of the overall interconnected system. No further conditions are necessary.\nThe final closed-form expression for $F(s)$ is:\n$$F(s) = \\frac{\\omega_n^2(s^2+3s+2+10k)}{10k(s^2+2\\zeta \\omega_n s+\\omega_n^2)}$$", "answer": "$$ \\boxed{ \\frac{\\omega_n^2(s^2+3s+2+10k)}{10k(s^2+2\\zeta \\omega_n s+\\omega_n^2)} } $$", "id": "2708599"}, {"introduction": "Building on the concept of a prefilter, it's crucial to recognize how theoretical structures manifest in practical industrial controllers. Many commercial PID controllers implement a feature known as \"setpoint weighting,\" which applies different gains to the reference and output signals within the proportional and derivative terms. This practice exercise [@problem_id:2708600] establishes the formal equivalence between the abstract prefilter architecture and the widely used setpoint-weighted PID structure. By deriving the mathematical relationship, you will gain a deeper appreciation for how different feedforward implementations can achieve the same goal of shaping the reference response.", "problem": "Consider a single-input single-output (SISO) linear time-invariant (LTI) plant with transfer function $G(s)$ in unity feedback. Two reference-shaping architectures are proposed, both driven by the same reference signal $R(s)$ and both using the same Proportional-Integral-Derivative (PID) coefficients $K_p$, $K_i$, and $K_d$:\n\n- Architecture $\\mathcal{W}$ (setpoint-weighted PID, no prefilter): The control input is generated by a PID in which the proportional term uses a weight $\\beta$ on the reference, the integral term uses the error, and the derivative term uses a weight $\\gamma$ on the reference derivative. In the Laplace domain, the control law is\n$$\nU_{\\mathcal{W}}(s) \\;=\\; K_p\\big(\\beta\\,R(s) - Y(s)\\big) \\;+\\; \\frac{K_i}{s}\\big(R(s)-Y(s)\\big) \\;+\\; K_d\\,s\\big(\\gamma\\,R(s) - Y(s)\\big),\n$$\nand the plant output is $Y(s) = G(s)\\,U_{\\mathcal{W}}(s)$.\n\n- Architecture $\\mathcal{F}$ (unweighted PID with a reference prefilter): The reference is first filtered by a strictly proper or proper, stable filter $F(s)$ before entering the summing junction, and a standard (unweighted) PID acts on the resulting error. In the Laplace domain,\n$$\nU_{\\mathcal{F}}(s) \\;=\\; \\Big(K_p + \\frac{K_i}{s} + K_d\\,s\\Big)\\,\\big(F(s)\\,R(s) - Y(s)\\big),\n$$\nand $Y(s) = G(s)\\,U_{\\mathcal{F}}(s)$.\n\nWork from the fundamental closed-loop relations for SISO LTI systems with unity feedback to compare the closed-loop reference-to-output maps $T_{\\mathcal{W}}(s) \\equiv \\dfrac{Y(s)}{R(s)}$ and $T_{\\mathcal{F}}(s) \\equiv \\dfrac{Y(s)}{R(s)}$ for these two architectures. Without assuming anything special about $G(s)$ beyond being a proper transfer function of a causal plant, decide which of the following statements is correct.\n\nA. For unity feedback and identical $K_p$, $K_i$, $K_d$ in both architectures, the two architectures are reference-equivalent for all $R(s)$ and all $G(s)$ if and only if\n$$\nF(s) \\;=\\; \\frac{K_p\\,\\beta \\;+\\; \\dfrac{K_i}{s} \\;+\\; K_d\\,\\gamma\\,s}{K_p \\;+\\; \\dfrac{K_i}{s} \\;+\\; K_d\\,s}.\n$$\n\nB. Reference-equivalence requires the prefilter to depend explicitly on the plant to compensate the loop gain, namely $F(s) = \\dfrac{1 + G(s)C_y(s)}{1 + G(s)C(s)}$ for suitable controller choices, where $C_y(s)$ denotes the weighted PID seen by the output and $C(s)$ the unweighted PID in Architecture $\\mathcal{F}$.\n\nC. The two architectures can be made reference-equivalent for step references by choosing $F(s) = \\beta$ as a constant, independent of $K_p$, $K_i$, $K_d$, and $G(s)$.\n\nD. The two architectures can only be reference-equivalent when $\\beta = \\gamma = 1$, in which case any stable $F(s)$ with unit direct current (DC) gain will produce the same closed-loop reference map.\n\nSelect the correct option. Justify your choice by deriving the relevant closed-loop maps from first principles and stating any necessary and sufficient conditions for equivalence.", "solution": "We begin from the fundamental closed-loop relations for SISO LTI systems in unity feedback. Throughout, $R(s)$ is the reference, $Y(s)$ is the output, $U(s)$ is the control input, and $G(s)$ is the plant transfer function.\n\n1) Architecture $\\mathcal{W}$ (setpoint-weighted PID)\n\nBy definition,\n$$\nU_{\\mathcal{W}}(s) \\;=\\; K_p\\big(\\beta\\,R - Y\\big) \\;+\\; \\frac{K_i}{s}\\big(R - Y\\big) \\;+\\; K_d\\,s\\big(\\gamma\\,R - Y\\big).\n$$\nGroup the reference and output terms:\n$$\nU_{\\mathcal{W}}(s) \\;=\\; \\underbrace{\\Big(K_p\\,\\beta + \\frac{K_i}{s} + K_d\\,\\gamma\\,s\\Big)}_{C_{rw}(s)}\\,R(s) \\;-\\; \\underbrace{\\Big(K_p + \\frac{K_i}{s} + K_d\\,s\\Big)}_{C_y(s)}\\,Y(s).\n$$\nThe plant obeys $Y = G\\,U_{\\mathcal{W}}$, hence\n$$\nY(s) \\;=\\; G(s)\\,\\Big(C_{rw}(s)\\,R(s) - C_y(s)\\,Y(s)\\Big),\n$$\nso that\n$$\n\\big(1 + G(s)\\,C_y(s)\\big)\\,Y(s) \\;=\\; G(s)\\,C_{rw}(s)\\,R(s).\n$$\nTherefore, the closed-loop reference-to-output map for Architecture $\\mathcal{W}$ is\n$$\nT_{\\mathcal{W}}(s) \\;\\equiv\\; \\frac{Y(s)}{R(s)} \\;=\\; \\frac{G(s)\\,C_{rw}(s)}{1 + G(s)\\,C_y(s)},\n$$\nwith\n$$\nC_{rw}(s) \\;=\\; K_p\\,\\beta + \\frac{K_i}{s} + K_d\\,\\gamma\\,s, \n\\qquad\nC_y(s) \\;=\\; K_p + \\frac{K_i}{s} + K_d\\,s.\n$$\n\n2) Architecture $\\mathcal{F}$ (unweighted PID with prefilter)\n\nHere,\n$$\nU_{\\mathcal{F}}(s) \\;=\\; C(s)\\,\\big(F(s)\\,R(s) - Y(s)\\big),\n\\qquad\nC(s) \\;=\\; K_p + \\frac{K_i}{s} + K_d\\,s.\n$$\nWith $Y = G\\,U_{\\mathcal{F}}$, we obtain\n$$\nY(s) \\;=\\; G(s)\\,C(s)\\,\\big(F(s)\\,R(s) - Y(s)\\big),\n$$\nso\n$$\n\\big(1 + G(s)\\,C(s)\\big)\\,Y(s) \\;=\\; G(s)\\,C(s)\\,F(s)\\,R(s).\n$$\nThus, the closed-loop reference-to-output map for Architecture $\\mathcal{F}$ is\n$$\nT_{\\mathcal{F}}(s) \\;\\equiv\\; \\frac{Y(s)}{R(s)} \\;=\\; \\frac{G(s)\\,C(s)\\,F(s)}{1 + G(s)\\,C(s)}.\n$$\n\n3) Equivalence condition\n\nTo achieve reference-equivalence, we require $T_{\\mathcal{W}}(s) \\equiv T_{\\mathcal{F}}(s)$ for all $s$ in the region of interest and for all $G(s)$ admissible under the unity-feedback assumption. Since $C_y(s) = C(s)$ by construction (they are the same unweighted PID), the denominators already match:\n$$\n1 + G(s)\\,C_y(s) \\;=\\; 1 + G(s)\\,C(s).\n$$\nTherefore, equality of $T_{\\mathcal{W}}$ and $T_{\\mathcal{F}}$ reduces to equality of numerators:\n$$\nG(s)\\,C_{rw}(s) \\;=\\; G(s)\\,C(s)\\,F(s) \\quad \\text{for all } G(s).\n$$\nCanceling $G(s)$ gives the necessary and sufficient condition\n$$\nC_{rw}(s) \\;=\\; C(s)\\,F(s).\n$$\nSubstituting the definitions,\n$$\nK_p\\,\\beta + \\frac{K_i}{s} + K_d\\,\\gamma\\,s \\;=\\; \\Big(K_p + \\frac{K_i}{s} + K_d\\,s\\Big)\\,F(s),\n$$\nso that\n$$\nF(s) \\;=\\; \\frac{K_p\\,\\beta + \\dfrac{K_i}{s} + K_d\\,\\gamma\\,s}{K_p + \\dfrac{K_i}{s} + K_d\\,s}.\n$$\nThis condition is independent of the plant $G(s)$ and is both necessary and sufficient for reference-equivalence.\n\nAdditional remarks on realizability:\n- Multiply numerator and denominator by $s$ to see\n$$\nF(s) \\;=\\; \\frac{K_d\\,\\gamma\\,s^2 + K_p\\,\\beta\\,s + K_i}{K_d\\,s^2 + K_p\\,s + K_i},\n$$\nwhich is proper. For $\\gamma = 0$, $F(s)$ is strictly proper. The direct current (DC) gain is $F(0) = 1$, and the high-frequency limit is $\\lim_{s\\to\\infty}F(s) = \\gamma$.\n\n4) Option-by-option analysis\n\n- Option A: This is exactly the necessary and sufficient condition just derived from first principles, and it is independent of $G(s)$. Verdict: Correct.\n\n- Option B: This asserts a plant-dependent condition $F(s) = \\dfrac{1 + G(s)C_y(s)}{1 + G(s)C(s)}$. However, we have shown that the denominators match automatically because $C_y(s) = C(s)$, and the equivalence reduces to $F(s) = \\dfrac{C_{rw}(s)}{C(s)}$, which is plant-independent. Verdict: Incorrect.\n\n- Option C: Choosing $F(s) = \\beta$ yields\n$$\nT_{\\mathcal{F}}(s) \\;=\\; \\frac{G(s)\\,C(s)\\,\\beta}{1 + G(s)\\,C(s)}.\n$$\nBut the setpoint-weighted map is\n$$\nT_{\\mathcal{W}}(s) \\;=\\; \\frac{G(s)\\,(K_p\\,\\beta + \\frac{K_i}{s} + K_d\\,\\gamma\\,s)}{1 + G(s)\\,(K_p + \\frac{K_i}{s} + K_d\\,s)},\n$$\nwhich does not, in general, equal $T_{\\mathcal{F}}(s)$ even for step inputs (whose Laplace transform scales as $1/s$), unless restrictive and non-generic parameter relations hold. Verdict: Incorrect.\n\n- Option D: When $\\beta = \\gamma = 1$, Architecture $\\mathcal{W}$ reduces to the unweighted PID with no prefilter, so $T_{\\mathcal{W}}(s) = \\dfrac{G(s)\\,C(s)}{1 + G(s)\\,C(s)}$. For equivalence, we require $F(s) \\equiv 1$. It is not true that any stable $F(s)$ with unit DC gain suffices; only $F(s) \\equiv 1$ preserves the entire frequency response. Verdict: Incorrect.", "answer": "$$\\boxed{A}$$", "id": "2708600"}, {"introduction": "Beyond reference tracking, the other primary role of feedforward control is to reject measurable disturbances before they can significantly affect the system output. This task becomes particularly challenging in the presence of time delays, or \"dead-time,\" which are ubiquitous in chemical processes and communication networks. This advanced problem [@problem_id:2708598] situates you in a realistic scenario involving a plant with dead-time compensated by a Smith predictor, a specialized feedback structure. Your task is to design an additional feedforward path to cancel a measured disturbance, forcing a careful analysis of signal paths, the limits of causality, and the fundamental distinction between feedback and feedforward actions.", "problem": "Consider a single-input single-output linear time-invariant (LTI) plant with a pure input-output dead-time. The true plant from the actuator effort to the measured output is modeled as $P(s) = P_0(s)\\,e^{-s\\theta}$, where $P_0(s)$ is a strictly proper, stable, minimum-phase transfer function and $\\theta > 0$ is a known constant dead-time. A controller $C(s)$ is implemented using the Smith predictor architecture with an internal model $\\hat P_0(s)$ and the same known delay $e^{-s\\theta}$. The Smith predictor constructs a delay-free pseudo-output by combining the measured output and the model response so that the controller $C(s)$ operates as if the delay were not present in the feedback path.\n\nAdditionally, an input disturbance enters additively at the same physical summing node as the controller output before the plant dynamics. Specifically, the actuator input is $u_{\\mathrm{act}}(s) = u(s) + H(s)\\,d(s)$, where $u(s)$ is the control signal, $d(s)$ is an exogenous disturbance, and $H(s)$ is a known, stable transfer function modeling the disturbance path to the actuator summing node. A measured disturbance proxy $d_m(s)$ is available and related to $d(s)$ by $d_m(s) = M(s)\\,e^{-s\\theta_m}\\,d(s)$, where $M(s)$ is a known, stable, invertible transfer function and $\\theta_m \\ge 0$ is a known sensor/transport delay in the measurement channel. You may assume that $M(s)$ and $H(s)$ are proper and that $M(s)$ is minimum-phase so that $M(s)^{-1}$ is stable.\n\nA measured-disturbance feedforward path $u_f(s) = F(s)\\,d_m(s)$ is to be added in parallel with the feedback controller, summed at the same actuator summing node as $u(s)$ and $H(s)\\,d(s)$. The design objective for $F(s)$ is to cancel, as nearly as possible, the effect of $d(s)$ on the output $y(s)$, while preserving the nominal Smith predictor properties of the feedback loop.\n\nFrom first principles of block-diagram algebra, the Laplace-domain representation of time delay by $e^{-s\\cdot}$, and the standard definition of the closed-loop characteristic equation as the denominator of the reference-to-output transfer function under unity feedback interconnection, select all statements below that are correct.\n\nA. A Smith predictor is a feedforward controller because it uses a process model to predict the delayed output and injects a control signal that cancels the delay ahead of time; therefore, it replaces feedback rather than restructuring it.\n\nB. Under exact model matching $\\hat P_0(s) = P_0(s)$, the Smith predictor removes the explicit factor $e^{-s\\theta}$ from the closed-loop characteristic equation of the feedback loop, but the reference-to-output transfer function still contains the true plant delay $e^{-s\\theta}$ as a factor in its numerator.\n\nC. To cancel the disturbance at the plant output using the measured proxy $d_m(s)$, the ideal feedforward is $F(s) = -\\,P_0(s)^{-1}\\,e^{+s\\theta}\\,H(s)\\,M(s)^{-1}\\,e^{+s\\theta_m}$ so that the feedforward path inverts the dead-time and the delay-free plant to align and cancel the disturbance downstream.\n\nD. If the control and disturbance enter at the same actuator summing node upstream of the same plant dead-time, and if model knowledge is exact, then ignoring the feedback loop for the purpose of feedforward design, the disturbance-canceling choice is $F(s) = -\\,H(s)\\,M(s)^{-1}\\,e^{+s\\theta_m}$; this is causal only if the measured proxy provides at least $\\theta_m$ seconds of preview relative to the disturbance reaching the actuator summing node.\n\nE. Adding a properly summed measured-disturbance feedforward path $u_f(s) = F(s)\\,d_m(s)$ to a Smith-predictor-regulated system necessarily alters the closed-loop characteristic equation by reintroducing $e^{-s\\theta}$ into the denominator, with a risk of destabilizing the predictor.\n\nSelect all correct options.", "solution": "Let $r(s)$ be the reference input. In a Smith predictor architecture, the feedback controller $C(s)$ acts on an error signal $e_{sp}(s) = r(s) - y_{sp}(s)$, where $y_{sp}(s)$ is a delay-compensated pseudo-output. The control signal from the feedback path is $u(s) = C(s)(r(s) - y_{sp}(s))$. The pseudo-output is constructed as $y_{sp}(s) = y(s) + (\\hat{P}_0(s) - \\hat{P}(s))u(s) = y(s) + \\hat{P}_0(s)(1 - e^{-s\\theta})u(s)$.\n\nThe plant output is $y(s) = P(s)u_{\\mathrm{act}}(s) = P_0(s)e^{-s\\theta}[u(s) + u_f(s) + H(s)d(s)]$.\n\nWe are given to assume exact model matching, so $\\hat{P}_0(s) = P_0(s)$. Substituting this and the expression for $y(s)$ into the equation for $u(s)$:\n$u(s) = C(s) \\left[ r(s) - \\left( P_0(s)e^{-s\\theta}[u(s) + u_f(s) + H(s)d(s)] + P_0(s)(1 - e^{-s\\theta})u(s) \\right) \\right]$\n$u(s) = C(s) \\left[ r(s) - P_0(s)e^{-s\\theta}u(s) - P_0(s)e^{-s\\theta}(u_f(s) + H(s)d(s)) - P_0(s)u(s) + P_0(s)e^{-s\\theta}u(s) \\right]$\n$u(s) = C(s) \\left[ r(s) - P_0(s)u(s) - P_0(s)e^{-s\\theta}(u_f(s) + H(s)d(s)) \\right]$\nSolving for $u(s)$:\n$u(s) [1 + C(s)P_0(s)] = C(s)r(s) - C(s)P_0(s)e^{-s\\theta}[u_f(s) + H(s)d(s)]$\n$u(s) = \\frac{C(s)}{1 + C(s)P_0(s)}r(s) - \\frac{C(s)P_0(s)e^{-s\\theta}}{1 + C(s)P_0(s)}[u_f(s) + H(s)d(s)]$\n\nNow we find the plant output $y(s)$:\n$y(s) = P_0(s)e^{-s\\theta}[u(s) + u_f(s) + H(s)d(s)]$\nSubstitute the expression for $u(s)$:\n$y(s) = P_0(s)e^{-s\\theta}\\left[ \\frac{C(s)}{1+C(s)P_0(s)}r(s) - \\frac{C(s)P_0(s)e^{-s\\theta}}{1+C(s)P_0(s)}[u_f(s) + H(s)d(s)] + [u_f(s) + H(s)d(s)] \\right]$\n$y(s) = \\frac{C(s)P_0(s)e^{-s\\theta}}{1+C(s)P_0(s)}r(s) + P_0(s)e^{-s\\theta}\\left[1 - \\frac{C(s)P_0(s)e^{-s\\theta}}{1+C(s)P_0(s)}\\right][u_f(s) + H(s)d(s)]$\n\n**A. Evaluation of Option A**\nThe statement claims a Smith predictor is a feedforward controller that replaces feedback. This is fundamentally incorrect. The Smith predictor is a model-based *feedback* control strategy. Its structure is explicitly a feedback loop, where the controller output $u(s)$ depends on the error between the reference $r(s)$ and a signal $y_{sp}(s)$ derived from the plant output $y(s)$. It does not replace feedback; it restructures the feedback loop to improve performance for systems with dead-time. The \"prediction\" is internal to the feedback compensator to effectively remove the delay from the characteristic equation, not to operate in an open-loop fashion.\n**Verdict: Incorrect**\n\n**B. Evaluation of Option B**\nFrom the derived expression for $y(s)$, the reference-to-output transfer function $G_{yr}(s)$ is:\n$$G_{yr}(s) = \\frac{y(s)}{r(s)} = \\frac{C(s)P_0(s)e^{-s\\theta}}{1+C(s)P_0(s)}$$\nThe closed-loop characteristic equation is obtained by setting the denominator of this transfer function to zero:\n$$1 + C(s)P_0(s) = 0$$\nThis equation does not contain the dead-time term $e^{-s\\theta}$, which confirms the first part of the statement. The Smith predictor effectively makes the feedback loop behave as if it were controlling the delay-free plant $P_0(s)$.\nHowever, the numerator of the transfer function $G_{yr}(s)$ clearly contains the factor $e^{-s\\theta}$. This means the overall closed-loop response to a reference change will still exhibit the full plant dead-time $\\theta$, which is physically unavoidable. Both parts of the statement are true.\n**Verdict: Correct**\n\n**C. Evaluation of Option C**\nThe objective of the feedforward controller $F(s)$ is to cancel the effect of the disturbance $d(s)$ on the output $y(s)$. A standard principle in feedforward design is to analyze the disturbance paths independent of the feedback loop, as feedback is intended to correct for residual errors. The disturbance $d(s)$ affects the output $y(s)$ through two paths:\n1. The direct disturbance path: $d(s) \\rightarrow H(s) \\rightarrow u_{\\mathrm{act}}(s) \\rightarrow P(s) \\rightarrow y(s)$. Contribution: $P(s)H(s)d(s)$.\n2. The feedforward control path: $d(s) \\rightarrow M(s)e^{-s\\theta_m} \\rightarrow d_m(s) \\rightarrow F(s) \\rightarrow u_f(s) \\rightarrow u_{\\mathrm{act}}(s) \\rightarrow P(s) \\rightarrow y(s)$. Contribution: $P(s)F(s)M(s)e^{-s\\theta_m}d(s)$.\n\nFor perfect cancellation, the sum of these contributions must be zero:\n$P(s)H(s)d(s) + P(s)F(s)M(s)e^{-s\\theta_m}d(s) = 0$\nAs $P(s)$ is not identically zero, we can divide by it:\n$H(s) + F(s)M(s)e^{-s\\theta_m} = 0$\nSolving for the ideal feedforward controller $F(s)$:\n$$F(s) = -H(s)M(s)^{-1}e^{+s\\theta_m}$$\nThe formula presented in option C, $F(s) = -\\,P_0(s)^{-1}\\,e^{+s\\theta}\\,H(s)\\,M(s)^{-1}\\,e^{+s\\theta_m}$, is incorrect. It attempts to invert the plant dynamics $P_0(s)e^{-s\\theta}$, which is not necessary since both the disturbance and the control action pass through the same plant. Furthermore, because $P_0(s)$ is strictly proper, its inverse $P_0(s)^{-1}$ is improper and thus not physically realizable. The term $e^{+s\\theta}$ is also non-causal.\n**Verdict: Incorrect**\n\n**D. Evaluation of Option D**\nThis option correctly states the principle of ignoring the feedback loop for feedforward design. As derived for option C, the ideal disturbance-canceling choice of $F(s)$ is indeed:\n$$F(s) = -H(s)M(s)^{-1}e^{+s\\theta_m}$$\nThis confirms the first part of the statement. The second part discusses causality. The transfer function $F(s)$ contains the term $e^{+s\\theta_m}$. In the time domain, this corresponds to a time advance of $\\theta_m$. If $\\theta_m > 0$, this operation is non-causal, as it requires future values of its input signal. An LTI system with transfer function $F(s)$ is causal if and only if its impulse response $f(t)$ is zero for all $t  0$. The presence of $e^{+s\\theta_m}$ for $\\theta_m > 0$ will make $f(t)$ non-zero for $t  0$. Therefore, for $\\theta_m > 0$, $F(s)$ is a non-causal transfer function. Such a controller can only be implemented if a preview of its input signal is available. The statement says that this is causal \"only if the measured proxy provides at least $\\theta_m$ seconds of preview\". This phrasing is slightly imprecise but the intent is clear and correct: implementation requires a preview of $\\theta_m$. The logic holds.\n**Verdict: Correct**\n\n**E. Evaluation of Option E**\nThe characteristic equation of the closed-loop system determines its stability. As defined in the problem and derived for option B, the characteristic equation is the denominator of the reference-to-output transfer function, which is $1+C(s)P_0(s)=0$. This derivation was performed on the full system including the feedforward path $u_f(s)=F(s)d_m(s)$. The feedforward controller $F(s)$ and the disturbance signal $d_m(s)$ do not appear in the characteristic equation. This is a fundamental property of LTI systems: a feedforward path, which takes an external signal and adds its output to the control signal, does not alter the poles of the closed-loop system and therefore does not affect its stability. The stability is determined by the feedback loop structure itself. The statement that adding the feedforward path \"necessarily alters the closed-loop characteristic equation\" is false.\n**Verdict: Incorrect**", "answer": "$$\\boxed{BD}$$", "id": "2708598"}]}