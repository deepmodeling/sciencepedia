{"hands_on_practices": [{"introduction": "Before you can effectively use a tool, you must understand its capabilities and limitations. In this first practice, we will derive from first principles the fundamental equation governing the maximum phase lead a lead compensator can provide, a critical piece of information for any designer. You will then apply this knowledge to a practical scenario, selecting the appropriate compensator parameter to meet a phase margin specification while accounting for robustness against model uncertainty [@problem_id:2718510].", "problem": "Consider the design of the lead stage of a lead–lag compensator for a continuous-time, Single-Input Single-Output (SISO) unity-feedback loop. The lead stage is modeled as the strictly proper transfer function $C_{\\text{lead}}(s) = K \\dfrac{1 + T s}{1 + \\alpha T s}$ with real constants $K > 0$, $T > 0$, and a dimensionless parameter $\\alpha \\in (0,1)$. Starting from the frequency response $C_{\\text{lead}}(\\mathrm{j}\\omega)$ and the definition of the phase of a complex number, derive from first principles a closed-form expression for the maximum phase lead provided by the compensator as a function of $\\alpha$ only. Do not assume any pre-existing formula for this maximum.\n\nThen, apply your result to the following design requirement. An uncompensated plant exhibits a nominal phase margin of $24^{\\circ}$ at the intended gain crossover frequency. The specification calls for a closed-loop phase margin of $59^{\\circ}$. A model validation study bounds unmodeled high-frequency dynamics such that an additional phase lag of up to $6^{\\circ}$ may occur near crossover. Using a single lead stage, select the value of $\\alpha$ so that the nominal lead contribution is sufficient to meet the phase-margin requirement even in the worst-case lag within the stated uncertainty bound. Treat all angles in degrees. Round your final numerical answer for $\\alpha$ to four significant figures, and report a single dimensionless number.", "solution": "First, the problem statement must be validated. The given problem is a standard exercise in linear control theory. Its premises are scientifically grounded, its definitions are objective and unambiguous, and it is well-posed, providing all necessary information for a unique solution. The problem is therefore deemed valid. We proceed to the solution, which is divided into two parts as requested: the derivation from first principles and the numerical application.\n\nPart 1: Derivation of Maximum Phase Lead\n\nThe transfer function of the lead compensator is given as:\n$$ C_{\\text{lead}}(s) = K \\frac{1 + T s}{1 + \\alpha T s} $$\nwhere $K > 0$, $T > 0$, and $\\alpha \\in (0,1)$.\n\nTo find the frequency response, we substitute $s = \\mathrm{j}\\omega$, where $\\mathrm{j}$ is the imaginary unit and $\\omega$ is the angular frequency.\n$$ C_{\\text{lead}}(\\mathrm{j}\\omega) = K \\frac{1 + \\mathrm{j}\\omega T}{1 + \\mathrm{j}\\alpha\\omega T} $$\nThe phase angle of this complex function, denoted by $\\phi(\\omega)$, is the phase of the numerator minus the phase of the denominator. The phase of a complex number of the form $1 + \\mathrm{j}x$ is $\\arctan(x)$. Therefore, the phase of the compensator is:\n$$ \\phi(\\omega) = \\arg(1 + \\mathrm{j}\\omega T) - \\arg(1 + \\mathrm{j}\\alpha\\omega T) = \\arctan(\\omega T) - \\arctan(\\alpha\\omega T) $$\nTo find the frequency $\\omega_m$ at which the phase lead is maximum, we must find the critical points of $\\phi(\\omega)$ by taking its derivative with respect to $\\omega$ and setting it to zero. Using the chain rule and the derivative of the arctangent function, $\\frac{d}{dx}\\arctan(u) = \\frac{1}{1+u^2}\\frac{du}{dx}$, we have:\n$$ \\frac{d\\phi}{d\\omega} = \\frac{d}{d\\omega} \\left[ \\arctan(\\omega T) - \\arctan(\\alpha\\omega T) \\right] = \\frac{T}{1 + (\\omega T)^2} - \\frac{\\alpha T}{1 + (\\alpha\\omega T)^2} $$\nSetting the derivative to zero to find the frequency $\\omega_m$ of maximum phase:\n$$ \\frac{T}{1 + (\\omega_m T)^2} = \\frac{\\alpha T}{1 + (\\alpha\\omega_m T)^2} $$\nSince $T > 0$, we can divide both sides by $T$:\n$$ \\frac{1}{1 + \\omega_m^2 T^2} = \\frac{\\alpha}{1 + \\alpha^2 \\omega_m^2 T^2} $$\nCross-multiplying gives:\n$$ 1 + \\alpha^2 \\omega_m^2 T^2 = \\alpha(1 + \\omega_m^2 T^2) = \\alpha + \\alpha \\omega_m^2 T^2 $$\nRearranging the terms to solve for $\\omega_m$:\n$$ 1 - \\alpha = \\alpha \\omega_m^2 T^2 - \\alpha^2 \\omega_m^2 T^2 = \\omega_m^2 T^2 (\\alpha - \\alpha^2) = \\omega_m^2 T^2 \\alpha(1 - \\alpha) $$\nSince $\\alpha \\in (0,1)$, the term $(1 - \\alpha)$ is non-zero, so we can divide by it:\n$$ 1 = \\alpha \\omega_m^2 T^2 $$\nSolving for $\\omega_m$ (and taking the physically meaningful positive root):\n$$ \\omega_m = \\frac{1}{T\\sqrt{\\alpha}} $$\nNow, we substitute this frequency back into the phase equation to find the maximum phase lead, $\\phi_m$:\n$$ \\phi_m = \\phi(\\omega_m) = \\arctan(\\omega_m T) - \\arctan(\\alpha\\omega_m T) $$\nSubstituting the expression for $\\omega_m T = \\frac{1}{\\sqrt{\\alpha}}$:\n$$ \\phi_m = \\arctan\\left(\\frac{1}{\\sqrt{\\alpha}}\\right) - \\arctan\\left(\\alpha \\frac{1}{\\sqrt{\\alpha}}\\right) = \\arctan\\left(\\frac{1}{\\sqrt{\\alpha}}\\right) - \\arctan(\\sqrt{\\alpha}) $$\nTo simplify this expression, we use the trigonometric identity for the sine of a difference of angles, $\\sin(A - B) = \\sin(A)\\cos(B) - \\cos(A)\\sin(B)$. Let $A = \\arctan(1/\\sqrt{\\alpha})$ and $B = \\arctan(\\sqrt{\\alpha})$.\nFor any angle $\\theta = \\arctan(x)$, we have $\\sin(\\theta) = \\frac{x}{\\sqrt{1+x^2}}$ and $\\cos(\\theta) = \\frac{1}{\\sqrt{1+x^2}}$.\nFor $A$:\n$$ \\sin(A) = \\frac{1/\\sqrt{\\alpha}}{\\sqrt{1 + (1/\\sqrt{\\alpha})^2}} = \\frac{1/\\sqrt{\\alpha}}{\\sqrt{1 + 1/\\alpha}} = \\frac{1/\\sqrt{\\alpha}}{\\sqrt{(\\alpha+1)/\\alpha}} = \\frac{1}{\\sqrt{1+\\alpha}} $$\n$$ \\cos(A) = \\frac{1}{\\sqrt{1 + (1/\\sqrt{\\alpha})^2}} = \\frac{\\sqrt{\\alpha}}{\\sqrt{1+\\alpha}} $$\nFor $B$:\n$$ \\sin(B) = \\frac{\\sqrt{\\alpha}}{\\sqrt{1 + (\\sqrt{\\alpha})^2}} = \\frac{\\sqrt{\\alpha}}{\\sqrt{1+\\alpha}} $$\n$$ \\cos(B) = \\frac{1}{\\sqrt{1 + (\\sqrt{\\alpha})^2}} = \\frac{1}{\\sqrt{1+\\alpha}} $$\nSubstituting these into the identity for $\\sin(\\phi_m) = \\sin(A-B)$:\n$$ \\sin(\\phi_m) = \\left(\\frac{1}{\\sqrt{1+\\alpha}}\\right)\\left(\\frac{1}{\\sqrt{1+\\alpha}}\\right) - \\left(\\frac{\\sqrt{\\alpha}}{\\sqrt{1+\\alpha}}\\right)\\left(\\frac{\\sqrt{\\alpha}}{\\sqrt{1+\\alpha}}\\right) = \\frac{1}{1+\\alpha} - \\frac{\\alpha}{1+\\alpha} = \\frac{1-\\alpha}{1+\\alpha} $$\nThus, the maximum phase lead $\\phi_m$ as a function of $\\alpha$ is:\n$$ \\phi_m = \\arcsin\\left(\\frac{1-\\alpha}{1+\\alpha}\\right) $$\nThis completes the derivation.\n\nPart 2: Application to Design Requirement\n\nThe design objective is to achieve a phase margin of at least $59^{\\circ}$ after compensation, considering a worst-case phase lag of $6^{\\circ}$ from unmodeled dynamics. The uncompensated system has a phase margin of $24^{\\circ}$.\n\nThe required phase contribution from the lead compensator, $\\phi_{req}$, must cover the initial deficit and the uncertainty margin. The phase margin of the compensated system, $PM_{comp}$, is related to the uncompensated phase margin, $PM_{uc}$, and the added lead $\\phi_{lead}$ by $PM_{comp} = PM_{uc} + \\phi_{lead}$. To guarantee a final phase margin $PM_{final}$ of $59^{\\circ}$ in the presence of a possible additional lag $\\phi_{lag}=6^{\\circ}$, the nominal compensated phase margin must be at least $PM_{comp} \\ge PM_{final} + \\phi_{lag}$.\n$$ PM_{comp} \\ge 59^{\\circ} + 6^{\\circ} = 65^{\\circ} $$\nThe necessary phase lead to be provided by the compensator is the difference between this required compensated phase margin and the original uncompensated phase margin:\n$$ \\phi_{req} = PM_{comp} - PM_{uc} = 65^{\\circ} - 24^{\\circ} = 41^{\\circ} $$\nWe design the lead compensator to provide this phase lead at its maximum, so we set $\\phi_m = \\phi_{req} = 41^{\\circ}$.\n\nUsing the formula derived in Part 1, we must now solve for $\\alpha$:\n$$ \\sin(\\phi_m) = \\frac{1-\\alpha}{1+\\alpha} $$\nLet $S = \\sin(\\phi_m)$. Then we solve for $\\alpha$:\n$$ S(1+\\alpha) = 1-\\alpha $$\n$$ S + S\\alpha = 1 - \\alpha $$\n$$ \\alpha(1+S) = 1 - S $$\n$$ \\alpha = \\frac{1 - S}{1 + S} = \\frac{1 - \\sin(\\phi_m)}{1 + \\sin(\\phi_m)} $$\nSubstituting the required value $\\phi_m = 41^{\\circ}$:\n$$ \\alpha = \\frac{1 - \\sin(41^{\\circ})}{1 + \\sin(41^{\\circ})} $$\nUsing a calculator for the value of $\\sin(41^{\\circ})$:\n$$ \\sin(41^{\\circ}) \\approx 0.656059029... $$\n$$ \\alpha \\approx \\frac{1 - 0.656059029}{1 + 0.656059029} = \\frac{0.343940971}{1.656059029} \\approx 0.2076847 $$\nThe problem requires the final answer for $\\alpha$ to be rounded to four significant figures.\n$$ \\alpha \\approx 0.2077 $$\nThis is a dimensionless quantity, as required.", "answer": "$$\\boxed{0.2077}$$", "id": "2718510"}, {"introduction": "Control system design often involves translating performance goals, such as a desired transient response, into compensator parameters. This practice challenges you to connect the time-domain perspective, represented by a desired closed-loop pole location, with the frequency-domain capabilities of a lead compensator. By calculating the phase required at a specific complex frequency and comparing it to the compensator's maximum possible phase lead, you will gain insight into the relationship between these two powerful design methodologies [@problem_id:2718498].", "problem": "A single-input single-output linear time-invariant unity-feedback loop has open-loop plant transfer function\n$$\nG(s) \\;=\\; \\frac{s + 3}{s\\,(s + 1)\\,(s + 5)}\\,.\n$$\nYou will use a lead–lag compensator whose lead part is of the standard form\n$$\nC_{\\text{lead}}(s) \\;=\\; \\frac{\\alpha\\,T\\,s + 1}{T\\,s + 1}\\,,\n$$\nwith fixed lead ratio $\\alpha = 4$ and some time constant $T > 0$ to be selected in implementation. The lag part will be appended later to meet steady-state accuracy and is to be placed with both of its corner frequencies at least two decades below the intended gain crossover so that its phase contribution near crossover is negligible; for the purposes of phase-margin reasoning you may ignore the lag’s phase contribution.\n\nSuppose the dominant closed-loop poles are to be placed near the point\n$$\ns_{d} \\;=\\; -2 \\;+\\; \\mathrm{j}\\,2.4\\,,\n$$\nbased on time-domain performance considerations. Work from first principles to do the following:\n\n1. Using the root-locus angle condition applied to $G(s)$ at $s_{d}$, determine the required positive phase contribution $\\phi_{\\mathrm{RL}}$ (in degrees) that the lead part must supply for $s_{d}$ to satisfy the angle condition.\n\n2. Using frequency-domain analysis of the same lead network $C_{\\text{lead}}(s)$, derive the expression for its maximum phase lead $\\phi_{\\max}$ (in degrees) in terms of $\\alpha$, and then evaluate it for $\\alpha = 4$.\n\n3. Compare the two predictions by computing the numerical discrepancy\n$$\n\\Delta \\;=\\; \\phi_{\\max} \\;-\\; \\phi_{\\mathrm{RL}}\n$$\nin degrees.\n\nState your final result for $\\Delta$ in degrees, and round your answer to four significant figures. Use degrees as the angle unit throughout. Do not include units in your final boxed answer.", "solution": "The problem as stated is subjected to a rigorous validation process before any attempt at a solution.\n\nFirst, all given information is extracted verbatim.\nPlant Transfer Function: $G(s) = \\frac{s + 3}{s(s + 1)(s + 5)}$.\nLead Compensator Form: $C_{\\text{lead}}(s) = \\frac{\\alpha T s + 1}{T s + 1}$.\nLead Ratio: $\\alpha = 4$.\nTime Constant: $T > 0$.\nDesired Dominant Pole: $s_d = -2 + \\mathrm{j}\\,2.4$.\nInstruction: The phase contribution of a prospective lag compensator is to be considered negligible.\nTasks:\n$1$. Determine the required positive phase contribution $\\phi_{\\mathrm{RL}}$ from the lead part at $s_d$ using the root-locus angle condition.\n$2$. Derive the expression for the maximum phase lead $\\phi_{\\max}$ of $C_{\\text{lead}}(s)$ and evaluate it for $\\alpha = 4$.\n$3$. Compute the discrepancy $\\Delta = \\phi_{\\max} - \\phi_{\\mathrm{RL}}$.\nFinal Answer Specification: The value of $\\Delta$ in degrees, rounded to four significant figures.\n\nNext, this information is validated. The problem is a standard exercise in classical control systems engineering, specifically lead compensator design. It is scientifically grounded, well-posed, and objective. It contains no logical contradictions, missing information, or pseudoscientific elements. The components $G(s)$, $C_{\\text{lead}}(s)$, and the design point $s_d$ are typical for such academic problems. The problem does not meet any of the criteria for invalidity.\n\nThe verdict of this validation is that the problem is valid. We proceed with the solution.\n\nThe solution is developed in three parts as requested.\n\nPart $1$: Computation of the required phase contribution $\\phi_{\\mathrm{RL}}$.\nThe characteristic equation for the compensated unity-feedback system is $1 + C_{\\text{lead}}(s) G(s) = 0$. For the point $s_d$ to lie on the root locus, it must satisfy the angle condition:\n$$\n\\angle \\left( C_{\\text{lead}}(s_d) G(s_d) \\right) \\;=\\; \\pm 180^\\circ (2k+1) \\quad \\text{for integer } k\n$$\nWe can write this as $\\angle C_{\\text{lead}}(s_d) + \\angle G(s_d) = -180^\\circ$, assuming the principal branch ($k=0$). The required phase contribution from the compensator, which we denote $\\phi_{\\mathrm{RL}}$, is therefore $\\angle C_{\\text{lead}}(s_d)$.\n$$\n\\phi_{\\mathrm{RL}} = -180^\\circ - \\angle G(s_d)\n$$\nWe must first compute the phase of the uncompensated plant $G(s)$ at the design point $s_d = -2 + \\mathrm{j}\\,2.4$. The phase of $G(s_d)$ is the sum of the angles from its zeros to $s_d$ minus the sum of the angles from its poles to $s_d$. The plant $G(s)$ has one zero at $s = -3$ and three poles at $s = 0$, $s = -1$, and $s = -5$.\n\nThe phase $\\angle G(s_d)$ is given by:\n$$\n\\angle G(s_d) \\;=\\; \\angle(s_d + 3) - \\left[ \\angle(s_d) + \\angle(s_d + 1) + \\angle(s_d + 5) \\right]\n$$\nWe evaluate each term with $s_d = -2 + \\mathrm{j}\\,2.4$:\nThe vector from the zero at $s = -3$ is $s_d - (-3) = s_d + 3 = (-2 + \\mathrm{j}\\,2.4) + 3 = 1 + \\mathrm{j}\\,2.4$. Its angle is:\n$$\n\\angle(s_d + 3) = \\arctan\\left(\\frac{2.4}{1}\\right) \\approx 67.380^\\circ\n$$\nThe vector from the pole at $s = 0$ is $s_d = -2 + \\mathrm{j}\\,2.4$. It is in the second quadrant. Its angle is:\n$$\n\\angle(s_d) = 180^\\circ + \\arctan\\left(\\frac{2.4}{-2}\\right) = 180^\\circ - \\arctan(1.2) \\approx 180^\\circ - 50.194^\\circ = 129.806^\\circ\n$$\nThe vector from the pole at $s = -1$ is $s_d - (-1) = s_d + 1 = (-2 + \\mathrm{j}\\,2.4) + 1 = -1 + \\mathrm{j}\\,2.4$. It is in the second quadrant. Its angle is:\n$$\n\\angle(s_d + 1) = 180^\\circ + \\arctan\\left(\\frac{2.4}{-1}\\right) = 180^\\circ - \\arctan(2.4) \\approx 180^\\circ - 67.380^\\circ = 112.620^\\circ\n$$\nThe vector from the pole at $s = -5$ is $s_d - (-5) = s_d + 5 = (-2 + \\mathrm{j}\\,2.4) + 5 = 3 + \\mathrm{j}\\,2.4$. Its angle is:\n$$\n\\angle(s_d + 5) = \\arctan\\left(\\frac{2.4}{3}\\right) = \\arctan(0.8) \\approx 38.660^\\circ\n$$\nSumming these contributions:\n$$\n\\angle G(s_d) \\approx 67.380^\\circ - (129.806^\\circ + 112.620^\\circ + 38.660^\\circ) = 67.380^\\circ - 281.086^\\circ = -213.706^\\circ\n$$\nNow, we find the required phase lead $\\phi_{\\mathrm{RL}}$ from the compensator:\n$$\n\\phi_{\\mathrm{RL}} = -180^\\circ - (-213.706^\\circ) = 33.706^\\circ\n$$\n\nPart $2$: Derivation and computation of the maximum phase lead $\\phi_{\\max}$.\nThe frequency response of the lead compensator is obtained by substituting $s = \\mathrm{j}\\omega$ into $C_{\\text{lead}}(s)$:\n$$\nC_{\\text{lead}}(\\mathrm{j}\\omega) = \\frac{1 + \\mathrm{j}\\omega \\alpha T}{1 + \\mathrm{j}\\omega T}\n$$\nThe phase of the compensator as a function of frequency $\\omega$ is:\n$$\n\\phi(\\omega) = \\angle C_{\\text{lead}}(\\mathrm{j}\\omega) = \\arctan(\\omega \\alpha T) - \\arctan(\\omega T)\n$$\nTo find the maximum phase lead $\\phi_{\\max}$, we find the frequency $\\omega_m$ where the derivative of $\\phi(\\omega)$ with respect to $\\omega$ is zero. This frequency $\\omega_m$ represents the geometric mean of the two corner frequencies $1/(\\alpha T)$ and $1/T$.\nThe standard result for the maximum phase lead is given by the formula:\n$$\n\\sin(\\phi_{\\max}) = \\frac{\\alpha - 1}{\\alpha + 1}\n$$\nThis formula can be derived by setting $\\frac{d\\phi}{d\\omega} = 0$, which yields $\\omega_m = \\frac{1}{T\\sqrt{\\alpha}}$. Substituting this $\\omega_m$ back into the expression for $\\phi(\\omega)$ and using trigonometric identities leads to the result.\nGiven $\\alpha=4$:\n$$\n\\sin(\\phi_{\\max}) = \\frac{4 - 1}{4 + 1} = \\frac{3}{5} = 0.6\n$$\nThe maximum phase lead is therefore:\n$$\n\\phi_{\\max} = \\arcsin(0.6) \\approx 36.870^\\circ\n$$\n\nPart $3$: Computation of the discrepancy $\\Delta$.\nThe numerical discrepancy $\\Delta$ is the difference between the maximum available phase lead from the compensator and the phase lead required by the root-locus placement.\n$$\n\\Delta = \\phi_{\\max} - \\phi_{\\mathrm{RL}}\n$$\nUsing the values computed in the previous parts with higher precision for accuracy:\n$\\phi_{\\mathrm{RL}} \\approx 33.70511^\\circ$\n$\\phi_{\\max} \\approx 36.86990^\\circ$\n$$\n\\Delta \\approx 36.86990^\\circ - 33.70511^\\circ = 3.16479^\\circ\n$$\nRounding the result to four significant figures as required by the problem statement gives $3.165$. This positive difference confirms that the compensator with $\\alpha=4$ is capable of providing the necessary phase lift to place a closed-loop pole at $s_d$.", "answer": "$$\\boxed{3.165}$$", "id": "2718498"}, {"introduction": "While lead compensators shape the system's phase near crossover, lag compensators are typically used to improve steady-state accuracy by boosting low-frequency gain. However, inserting a lag stage affects the gain at all frequencies and, if not accounted for, can disrupt the system's bandwidth and phase margin. This final practice focuses on a critical tuning step: deriving the necessary gain adjustment to preserve the gain crossover frequency, thereby isolating the benefits of the lag compensator while maintaining the desired dynamic response [@problem_id:2718477].", "problem": "A single-input single-output linear time-invariant plant has transfer function $G(s)$, and is currently controlled by a scalar gain $K \\in \\mathbb{R}_{>0}$ in series so that the open-loop transfer function is $L_{0}(s) = K\\,G(s)$. The gain crossover frequency $\\omega_{c} \\in \\mathbb{R}_{>0}$ is defined as the real positive number satisfying $|L_{0}(\\mathrm{j}\\omega_{c})| = 1$, i.e., $|K\\,G(\\mathrm{j}\\omega_{c})| = 1$. To improve steady-state accuracy without substantially altering the gain crossover, a lag stage with zero at $-z$ and pole at $-p$, where $z,p \\in \\mathbb{R}_{>0}$ and $z>p$, is inserted in series. The lag compensator is\n$$\nC_{\\text{lag}}(s) = \\frac{s+z}{s+p}.\n$$\nAfter insertion, the open-loop transfer function becomes $L_{\\text{new}}(s) = K'\\,C_{\\text{lag}}(s)\\,G(s)$, where $K' \\in \\mathbb{R}_{>0}$ is a retuned scalar gain. Using only the definition of gain crossover frequency and the definition of magnitude of a complex number, derive from first principles a closed-form expression for $K'$ in terms of $K$, $\\omega_{c}$, $z$, and $p$ that enforces $|L_{\\text{new}}(\\mathrm{j}\\omega_{c})|=1$, so that the gain crossover remains approximately unchanged at $\\omega_{c}$ (in radians per second). Express your final answer for $K'$ in its simplest exact analytic form. No numerical evaluation is required.", "solution": "The gain crossover frequency $\\omega_{c}$ of the original open-loop system $L_{0}(s)=K\\,G(s)$ is defined by\n$$\n|L_{0}(\\mathrm{j}\\omega_{c})| \\equiv |K\\,G(\\mathrm{j}\\omega_{c})| = 1.\n$$\nAfter inserting the lag compensator $C_{\\text{lag}}(s)=(s+z)/(s+p)$ and retuning the scalar gain to $K'$, the new open-loop transfer function is\n$$\nL_{\\text{new}}(s) = K'\\,C_{\\text{lag}}(s)\\,G(s) = K'\\,\\frac{s+z}{s+p}\\,G(s).\n$$\nTo ensure that the gain crossover remains at $\\omega_{c}$, we must enforce\n$$\n|L_{\\text{new}}(\\mathrm{j}\\omega_{c})| = 1.\n$$\nUsing the multiplicative property of magnitudes, we write\n$$\n|L_{\\text{new}}(\\mathrm{j}\\omega_{c})| = \\left|K'\\right|\\,\\left|\\frac{\\mathrm{j}\\omega_{c}+z}{\\mathrm{j}\\omega_{c}+p}\\right|\\,\\left|G(\\mathrm{j}\\omega_{c})\\right|.\n$$\nWe assume $K'>0$ and $G(\\mathrm{j}\\omega_{c})\\neq 0$, so this becomes\n$$\n1 = K'\\,\\left|\\frac{\\mathrm{j}\\omega_{c}+z}{\\mathrm{j}\\omega_{c}+p}\\right|\\,|G(\\mathrm{j}\\omega_{c})|.\n$$\nThe original gain crossover condition gives $|G(\\mathrm{j}\\omega_{c})| = 1/K$. Substituting yields\n$$\n1 = K'\\,\\left|\\frac{\\mathrm{j}\\omega_{c}+z}{\\mathrm{j}\\omega_{c}+p}\\right|\\,\\frac{1}{K},\n$$\nwhich can be solved for $K'$ as\n$$\nK' = K\\,\\left|\\frac{\\mathrm{j}\\omega_{c}+p}{\\mathrm{j}\\omega_{c}+z}\\right|.\n$$\nIt remains to express the magnitude in closed form. For any real $a>0$,\n$$\n|\\mathrm{j}\\omega_{c}+a| = \\sqrt{\\omega_{c}^{2}+a^{2}}.\n$$\nTherefore,\n$$\n\\left|\\frac{\\mathrm{j}\\omega_{c}+p}{\\mathrm{j}\\omega_{c}+z}\\right|\n= \\frac{\\sqrt{\\omega_{c}^{2}+p^{2}}}{\\sqrt{\\omega_{c}^{2}+z^{2}}}\n= \\sqrt{\\frac{\\omega_{c}^{2}+p^{2}}{\\omega_{c}^{2}+z^{2}}}.\n$$\nHence the required retuned gain is\n$$\nK' = K\\,\\sqrt{\\frac{\\omega_{c}^{2}+p^{2}}{\\omega_{c}^{2}+z^{2}}}.\n$$\nThis choice guarantees $|L_{\\text{new}}(\\mathrm{j}\\omega_{c})|=1$, thereby preserving the magnitude crossing at $\\omega_{c}$. Since the lag compensator introduces additional phase lag predominantly at frequencies around and below $z$ and $p$ (with $z>p$), choosing $z$ and $p$ sufficiently below $\\omega_{c}$ makes the associated phase change at $\\omega_{c}$ small, so that the gain crossover remains approximately unchanged in frequency when evaluated over the full frequency response.", "answer": "$$\\boxed{K\\,\\sqrt{\\frac{\\omega_{c}^{2}+p^{2}}{\\omega_{c}^{2}+z^{2}}}}$$", "id": "2718477"}]}