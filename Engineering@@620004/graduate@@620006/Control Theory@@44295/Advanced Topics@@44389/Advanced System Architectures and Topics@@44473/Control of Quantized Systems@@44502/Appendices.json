{"hands_on_practices": [{"introduction": "We begin by exploring one of the most fundamental questions in quantized control: what is the absolute minimum amount of information required to stabilize an unstable system? This exercise challenges you to determine the 'coarsest' possible static quantizer—that is, the one with the fewest levels—that can successfully wrangle an unstable scalar plant. By analyzing the conditions for set invariance, you will derive a beautiful and intuitive result that directly relates the required number of quantization levels to the degree of instability of the system [@problem_id:2696268].", "problem": "Consider the discrete-time scalar plant given by the unstable linear time-invariant system\n$$\nx_{k+1} = a\\,x_k + u_k,\n$$\nwith known constant $a \\in \\mathbb{R}$ satisfying $|a|>1$. The state is measured without noise and fed to a static uniform midrise quantizer $q(\\cdot)$ having $N$ symmetric levels over the range $[-R, R]$ for a given $R>0$. The quantizer saturates outside this range and has step size\n$$\n\\Delta \\triangleq \\frac{2R}{N}.\n$$\nAssume that $x_0 \\in [-R,R]$ and that the controller applies a static state-feedback law of the form\n$$\nu_k = K\\,q(x_k),\n$$\nwhere $K \\in \\mathbb{R}$ is a constant to be designed. The quantization error is defined by $e_k \\triangleq x_k - q(x_k)$, and for all $x_k \\in [-R,R]$ one has the well-tested bound $|e_k| \\leq \\Delta/2$ for a uniform midrise quantizer operating without saturation.\n\nDefine practical stability of the origin to mean that there exist a controller gain $K$ and a number of quantization levels $N$ such that the closed-loop trajectory remains inside the quantizer’s unsaturated range $[-R,R]$ for all time and is ultimately bounded within a neighborhood of the origin whose radius is proportional to the quantization step size $\\Delta$.\n\nUsing only these definitions and bounds, compute, in closed form as a function of $|a|$, the minimum integer number of quantization levels $N_{\\min}$ for which there exists a constant gain $K$ rendering the origin practically stable in the above sense for every initial condition $x_0 \\in [-R,R]$. Your final answer must be an analytic expression in terms of $|a|$. Do not round your answer.", "solution": "The state-space representation of the discrete-time scalar plant is given by\n$$\nx_{k+1} = a\\,x_k + u_k,\n$$\nwhere $|a| > 1$. The control law is a static state-feedback law using a quantized measurement of the state:\n$$\nu_k = K\\,q(x_k),\n$$\nwhere $q(\\cdot)$ is a uniform midrise quantizer. The relationship between the state $x_k$ and its quantized value $q(x_k)$ can be expressed using the quantization error $e_k \\triangleq x_k - q(x_k)$. Thus, we can write $q(x_k) = x_k - e_k$.\n\nSubstituting the control law into the plant dynamics and using the definition of the quantization error, we obtain the closed-loop system dynamics:\n$$\nx_{k+1} = a\\,x_k + K(x_k - e_k) = (a+K)x_k - K\\,e_k.\n$$\nThis equation describes the evolution of the state under quantized feedback control.\n\nThe problem requires us to find the minimum integer number of quantization levels, $N_{\\min}$, for which practical stability of the origin can be achieved. According to the provided definition, practical stability necessitates the existence of a gain $K$ such that two conditions are met:\n$1$. The closed-loop trajectory remains inside the quantizer’s unsaturated range $[-R,R]$ for all time $k \\ge 0$, given the initial condition $x_0 \\in [-R,R]$. This is a set invariance condition.\n$2$. The trajectory is ultimately bounded within a neighborhood of the origin whose radius is proportional to the quantization step size $\\Delta$.\n\nLet us first analyze the ultimate boundedness condition. The dynamics are governed by $x_{k+1} = (a+K)x_k - K\\,e_k$. For the state to be bounded in the presence of the bounded disturbance-like term $-K\\,e_k$, the homogeneous part of the system, $x_{k+1} = (a+K)x_k$, must be asymptotically stable. This requires the pole of the nominal closed-loop system, $(a+K)$, to be inside the unit circle, which means:\n$$\n|a+K| < 1.\n$$\n\nNow, we analyze the set invariance condition. We must ensure that if $|x_k| \\le R$, then $|x_{k+1}| \\le R$. Using the triangle inequality on the closed-loop dynamics, we have:\n$$\n|x_{k+1}| = |(a+K)x_k - K\\,e_k| \\le |a+K|\\,|x_k| + |K|\\,|e_k|.\n$$\nThe problem states that for an unsaturated measurement, i.e., for $|x_k| \\le R$, the quantization error is bounded by $|e_k| \\le \\Delta/2$. To guarantee that $|x_{k+1}| \\le R$ for any $|x_k| \\le R$, we must consider the worst-case scenario within this range, which occurs at the boundary $|x_k| = R$. Substituting the bounds $|x_k| \\le R$ and $|e_k| \\le \\Delta/2$ into the inequality yields:\n$$\n|x_{k+1}| \\le |a+K|\\,R + |K|\\,\\frac{\\Delta}{2}.\n$$\nFor the set $[-R,R]$ to be invariant, the right-hand side must be less than or equal to $R$:\n$$\n|a+K|\\,R + |K|\\,\\frac{\\Delta}{2} \\le R.\n$$\nSince $R > 0$, we can divide by $R$:\n$$\n|a+K| + |K|\\,\\frac{\\Delta}{2R} \\le 1.\n$$\nThe quantization step size is defined as $\\Delta = \\frac{2R}{N}$, so $\\frac{\\Delta}{2R} = \\frac{1}{N}$. Substituting this into the inequality gives:\n$$\n|a+K| + \\frac{|K|}{N} \\le 1.\n$$\n\nWe seek the minimum integer $N$ for which there exists a gain $K$ that satisfies both $|a+K| < 1$ and $|a+K| + |K|/N \\le 1$. These two conditions can be combined. The second inequality can be rewritten as:\n$$\n\\frac{|K|}{N} \\le 1 - |a+K|.\n$$\nSince $|a+K|<1$, the term $1-|a+K|$ is strictly positive. Thus we can write:\n$$\nN \\ge \\frac{|K|}{1 - |a+K|}.\n$$\nFor such a gain $K$ to exist, the number of levels $N$ must be greater than or equal to the minimum possible value of the expression on the right-hand side. We must therefore find the minimum of the function $f(K) = \\frac{|K|}{1 - |a+K|}$ over the set of all stabilizing gains $K$, i.e., for $K$ such that $|a+K| < 1$.\nLet $m = \\min_{K: |a+K|<1} f(K)$. Then, we must have $N \\ge m$.\n\nLet's find this minimum value $m$. Let $\\lambda = a+K$. The constraint becomes $|\\lambda| < 1$. The gain is $K = \\lambda - a$. The function to minimize is now a function of $\\lambda \\in (-1,1)$:\n$$\ng(\\lambda) = \\frac{|\\lambda - a|}{1 - |\\lambda|}.\n$$\nWe analyze this function based on the sign of $a$. Since $|a|>1$, $a$ is non-zero.\nCase $1$: $a>1$. For $\\lambda \\in (-1,1)$, $\\lambda-a$ is always negative, so $|\\lambda-a| = a-\\lambda$.\nThe function is $g(\\lambda) = \\frac{a-\\lambda}{1-|\\lambda|}$.\nFor $\\lambda \\in [0,1)$, $g(\\lambda) = \\frac{a-\\lambda}{1-\\lambda} = \\frac{a-1+1-\\lambda}{1-\\lambda} = \\frac{a-1}{1-\\lambda} + 1$. This function is monotonically increasing on $[0,1)$, so its minimum is at $\\lambda=0$, with value $g(0)=a$.\nFor $\\lambda \\in (-1,0)$, $g(\\lambda) = \\frac{a-\\lambda}{1+\\lambda} = \\frac{a+1-(\\lambda+1)}{1+\\lambda} = \\frac{a+1}{1+\\lambda} - 1$. This function is monotonically decreasing on $(-1,0)$, approaching its minimum as $\\lambda \\to 0^{-}$. The limit is $\\lim_{\\lambda \\to 0^{-}} g(\\lambda) = a$.\nThe infimum of $g(\\lambda)$ on $(-1,1)$ is therefore $a$, which is $|a|$.\n\nCase $2$: $a<-1$. For $\\lambda \\in (-1,1)$, $\\lambda-a$ is always positive, so $|\\lambda-a| = \\lambda-a$.\nThe function is $g(\\lambda) = \\frac{\\lambda-a}{1-|\\lambda|}$. Let $a' = -a > 1$, so $g(\\lambda) = \\frac{\\lambda+a'}{1-|\\lambda|}$.\nThis has the same form as in Case $1$ with $a$ replaced by $a'$ and $\\lambda$ by $-\\lambda$. The analysis is symmetric. Its minimum value is $a'$, which is $|a|$.\n\nIn both cases, the minimum value of the expression is $|a|$. This minimum is achieved for $\\lambda=0$, which corresponds to the gain choice $K = -a$.\nSo, we have established that for a stabilizing gain $K$ to exist that also guarantees the invariance of $[-R,R]$, we must satisfy the condition:\n$$\nN \\ge |a|.\n$$\nSince $N$ must be an integer, the minimum possible value for $N$ is the smallest integer greater than or equal to $|a|$. This is given by the ceiling function:\n$$\nN_{\\min} = \\lceil |a| \\rceil.\n$$\nWith this minimum $N$ (or any $N \\ge N_{\\min}$), we can choose the gain $K=-a$. This satisfies $|a+K|=0<1$. The invariance condition becomes $0 + |-a|/N \\le 1$, or $|a| \\le N$, which is satisfied by our choice of $N$. Finally, with $K=-a$, the dynamics are $x_{k+1}=ae_k$. Since $|e_k| \\le \\Delta/2$, we have $|x_{k+1}| \\le |a|\\frac{\\Delta}{2}$. This shows that any trajectory starting in $[-R,R]$ enters the set $[-|a|\\frac{\\Delta}{2}, |a|\\frac{\\Delta}{2}]$ in one step and remains there. This satisfies the ultimate boundedness requirement, with the radius of the bounding set being proportional to $\\Delta$.\n\nTherefore, the minimum integer number of quantization levels is indeed $\\lceil |a| \\rceil$.", "answer": "$$\n\\boxed{\\lceil |a| \\rceil}\n$$", "id": "2696268"}, {"introduction": "While deterministic, worst-case analysis provides crucial stability guarantees, a statistical approach can offer valuable insights into system performance. In this practice, we model the quantization error as a random, uniformly distributed noise process—a common and powerful approximation in digital signal processing and control. Your task will be to derive the stationary variance of the system state, quantifying the long-term, average impact of quantization on a stable system's output [@problem_id:2696244].", "problem": "Consider a scalar discrete-time linear time-invariant system driven by quantization error modeled as an additive noise process, given by the recursion $x_{k+1}=a\\,x_{k}+b\\,e_{k}$, where $k\\in\\mathbb{Z}_{\\ge 0}$ indexes time, $a\\in\\mathbb{R}$ and $b\\in\\mathbb{R}$ are constants with $|a|<1$, and $\\{e_{k}\\}$ is an independent and identically distributed (i.i.d.) sequence with $e_{k}\\sim \\mathcal{U}\\!\\left[-\\Delta/2,\\Delta/2\\right]$ for a fixed step size $\\Delta>0$. Assume $x_{0}$ is independent of $\\{e_{k}\\}$ and has a finite second moment. Treat the quantization error as unsaturated and independent of $x_{k}$ for all $k$. Using only core definitions of expectation and variance, the independence assumptions, and well-tested facts about the uniform distribution, derive from first principles the stationary variance of $x_{k}$ in closed form as a function of $a$, $b$, and $\\Delta$. Provide your answer as a single analytic expression in terms of $a$, $b$, and $\\Delta$. No numerical approximation or rounding is required.", "solution": "The problem statement must first be validated for scientific soundness and consistency.\n\n**Step 1: Extract Givens**\n- System dynamics: $x_{k+1}=a\\,x_{k}+b\\,e_{k}$\n- Time index: $k\\in\\mathbb{Z}_{\\ge 0}$\n- System parameters: $a, b \\in \\mathbb{R}$\n- Stability constraint: $|a|<1$\n- Noise process: $\\{e_{k}\\}$ is an independent and identically distributed (i.i.d.) sequence.\n- Noise distribution: $e_{k}\\sim \\mathcal{U}\\!\\left[-\\frac{\\Delta}{2},\\frac{\\Delta}{2}\\right]$ for a constant step size $\\Delta>0$.\n- Initial condition: $x_{0}$ is independent of $\\{e_{k}\\}$ and has a finite second moment, $\\mathbb{E}[x_0^2] < \\infty$.\n- Independence assumption: $e_{k}$ is independent of $x_{k}$ for all $k$.\n- Objective: Derive the stationary variance of $x_{k}$ as a function of $a$, $b$, and $\\Delta$.\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is scientifically grounded. It presents a standard model for a linear time-invariant (LTI) system subject to quantization noise, a fundamental topic in digital control and signal processing. The model is well-posed; the stability condition $|a|<1$ is essential and correctly stated, ensuring that the system's statistical moments converge to a unique stationary state. All terms are defined with mathematical precision, and the assumptions, such as the independence of the noise sequence and its independence from the state, are standard for this type of analysis and internally consistent. The problem is objective, free of ambiguity, and does not violate any physical or mathematical principles.\n\n**Verdict**\nThe problem is valid. A solution will be derived from first principles as requested.\n\nThe derivation proceeds in three parts: first, we characterize the noise process; second, we analyze the mean of the state $x_k$; and third, we analyze the variance of the state $x_k$.\n\nFirst, we determine the mean and variance of the noise term $e_k$. The probability density function (PDF) for $e_k \\sim \\mathcal{U}\\!\\left[-\\frac{\\Delta}{2},\\frac{\\Delta}{2}\\right]$ is $f_e(z) = \\frac{1}{\\Delta}$ for $z \\in \\left[-\\frac{\\Delta}{2},\\frac{\\Delta}{2}\\right]$ and $0$ otherwise.\nThe expected value of $e_k$ is, by definition:\n$$\n\\mathbb{E}[e_k] = \\int_{-\\infty}^{\\infty} z f_e(z) dz = \\int_{-\\Delta/2}^{\\Delta/2} z \\cdot \\frac{1}{\\Delta} dz = \\frac{1}{\\Delta} \\left[ \\frac{z^2}{2} \\right]_{-\\Delta/2}^{\\Delta/2} = \\frac{1}{2\\Delta} \\left( \\left(\\frac{\\Delta}{2}\\right)^2 - \\left(-\\frac{\\Delta}{2}\\right)^2 \\right) = 0\n$$\nThe variance of $e_k$, denoted $\\sigma_e^2$, is given by $\\text{Var}(e_k) = \\mathbb{E}[e_k^2] - (\\mathbb{E}[e_k])^2$. Since the mean is $0$, the variance is equal to the second moment:\n$$\n\\sigma_e^2 = \\mathbb{E}[e_k^2] = \\int_{-\\infty}^{\\infty} z^2 f_e(z) dz = \\int_{-\\Delta/2}^{\\Delta/2} z^2 \\cdot \\frac{1}{\\Delta} dz = \\frac{1}{\\Delta} \\left[ \\frac{z^3}{3} \\right]_{-\\Delta/2}^{\\Delta/2} = \\frac{1}{3\\Delta} \\left( \\left(\\frac{\\Delta}{2}\\right)^3 - \\left(-\\frac{\\Delta}{2}\\right)^3 \\right) = \\frac{1}{3\\Delta} \\left( \\frac{\\Delta^3}{8} + \\frac{\\Delta^3}{8} \\right) = \\frac{2\\Delta^3}{24\\Delta} = \\frac{\\Delta^2}{12}\n$$\n\nNext, we analyze the mean of the state $x_k$. Let $\\mu_k = \\mathbb{E}[x_k]$. Taking the expectation of the system's recursion:\n$$\n\\mathbb{E}[x_{k+1}] = \\mathbb{E}[a\\,x_{k}+b\\,e_{k}]\n$$\nBy linearity of expectation, this becomes:\n$$\n\\mu_{k+1} = a\\,\\mathbb{E}[x_k] + b\\,\\mathbb{E}[e_k] = a\\,\\mu_k + b \\cdot 0 = a\\,\\mu_k\n$$\nThis is a geometric progression for the mean. As $k \\to \\infty$, the stationary mean $\\mu_x = \\lim_{k\\to\\infty} \\mu_k$. Since $|a|<1$, this limit is:\n$$\n\\mu_x = \\lim_{k\\to\\infty} a^k \\mu_0 = 0\n$$\nThus, the process $x_k$ has a stationary mean of $0$.\n\nFinally, we derive the stationary variance, $\\sigma_x^2 = \\text{Var}(x_k)$. By definition, $\\text{Var}(x_k) = \\mathbb{E}[x_k^2] - (\\mathbb{E}[x_k])^2$. Since the stationary mean is $0$, the stationary variance is equal to the stationary second moment, i.e., $\\sigma_x^2 = \\mathbb{E}[x^2]$.\nLet us establish the recursion for the second moment, $\\mathbb{E}[x_k^2]$:\n$$\n\\mathbb{E}[x_{k+1}^2] = \\mathbb{E}[(a\\,x_{k}+b\\,e_{k})^2] = \\mathbb{E}[a^2 x_k^2 + 2ab\\,x_k e_k + b^2 e_k^2]\n$$\nBy linearity of expectation:\n$$\n\\mathbb{E}[x_{k+1}^2] = a^2 \\mathbb{E}[x_k^2] + 2ab\\,\\mathbb{E}[x_k e_k] + b^2 \\mathbb{E}[e_k^2]\n$$\nThe state $x_k$ is a function of the initial state $x_0$ and the past noise terms $\\{e_0, e_1, \\dots, e_{k-1}\\}$. Since $\\{e_k\\}$ is an i.i.d. sequence, $e_k$ is independent of all previous terms $e_j$ for $j < k$. As $x_0$ is also independent of $\\{e_k\\}$, it follows that $x_k$ is independent of $e_k$. The problem statement also provides this as a direct assumption. Therefore, the expectation of the product term separates:\n$$\n\\mathbb{E}[x_k e_k] = \\mathbb{E}[x_k]\\mathbb{E}[e_k] = \\mu_k \\cdot 0 = 0\n$$\nSubstituting this and the variance of the noise, $\\mathbb{E}[e_k^2]=\\sigma_e^2=\\frac{\\Delta^2}{12}$, into the recursion for the second moment yields:\n$$\n\\mathbb{E}[x_{k+1}^2] = a^2 \\mathbb{E}[x_k^2] + b^2 \\frac{\\Delta^2}{12}\n$$\nIn the stationary state, the moments are constant, so $\\mathbb{E}[x_{k+1}^2] = \\mathbb{E}[x_k^2] = M_2$, where $M_2$ is the stationary second moment. The recursion becomes an algebraic equation for $M_2$:\n$$\nM_2 = a^2 M_2 + \\frac{b^2 \\Delta^2}{12}\n$$\nSolving for $M_2$:\n$$\nM_2(1-a^2) = \\frac{b^2 \\Delta^2}{12}\n$$\nSince $|a|<1$, $1-a^2>0$, and we can divide by it:\n$$\nM_2 = \\frac{b^2 \\Delta^2}{12(1-a^2)}\n$$\nAs established, the stationary variance $\\sigma_x^2$ is equal to the stationary second moment $M_2$ because the stationary mean $\\mu_x$ is $0$.\nTherefore, the stationary variance of $x_k$ is:\n$$\n\\sigma_x^2 = \\frac{b^2 \\Delta^2}{12(1-a^2)}\n$$\nThis expression is the closed-form solution required.", "answer": "$$\n\\boxed{\\frac{b^{2}\\Delta^{2}}{12(1-a^{2})}}\n$$", "id": "2696244"}, {"introduction": "Moving from analysis to synthesis, this final practice presents a complete design challenge that integrates the core concepts of quantized control. You are tasked with designing both a controller gain $K$ and a quantizer's dynamic range $M$ to satisfy a set of practical specifications: avoiding measurement saturation and ensuring the system state eventually enters a desired target region. This problem requires you to carefully balance the conditions for stability, ultimate boundedness, and state invariance to find a feasible solution, mimicking the trade-offs faced in real-world engineering design [@problem_id:2696241].", "problem": "Consider the scalar discrete-time plant with full-state feedback through a uniform midrise quantizer:\n$$x_{k+1} = a\\,x_k + b\\,u_k,$$\nwith control law\n$$u_k = K\\,\\hat{x}_k,$$\nwhere $\\hat{x}_k$ is the quantized measurement of $x_k$. The quantizer is symmetric, midrise, and uniform with $L$ equally spaced output levels over the interval $[-M,M]$ and saturates outside this interval. Hence the quantization step is $\\Delta = \\frac{2M}{L}$, and, provided no saturation occurs, the quantization error $e_k := \\hat{x}_k - x_k$ satisfies $|e_k| \\leq \\frac{\\Delta}{2} = \\frac{M}{L}$.\n\nYou are given the following parameters:\n- $a = 2$,\n- $b = 1$,\n- $L = 30$,\n- the initial bound $|x_0| \\leq X_0$ with $X_0 = 5$,\n- and a target ball radius $r = 0.5$ (in $\\mathbb{R}$, this is the interval $[-r,r]$).\n\nUsing only fundamental properties of linear time-invariant difference equations, induced norms, and the stated quantizer model, design a scalar feedback gain $K \\in \\mathbb{R}$ and the smallest dynamic range $M > 0$ such that:\n1) the quantizer does not saturate at any time (i.e., $|x_k| \\leq M$ for all $k \\geq 0$), and\n2) the trajectory enters the target ball, i.e., there exists some finite $k_0$ such that $|x_k| \\leq r$ for all $k \\geq k_0$.\n\nExpress your final answer as the row vector $\\begin{pmatrix}K & M\\end{pmatrix}$. No additional text is allowed in the final answer. No units are required. No rounding is necessary; give exact values.", "solution": "The problem requires the design of a feedback gain $K$ and the smallest dynamic range $M$ for a scalar discrete-time system under quantized feedback, such that the state trajectory remains bounded and converges to a target region.\n\nFirst, we must perform a mandatory validation of the problem statement.\n\nStep 1: Extract Givens\nThe given system dynamics and control law are:\nPlant: $x_{k+1} = a\\,x_k + b\\,u_k$\nControl law: $u_k = K\\,\\hat{x}_k$\nParameters: $a = 2$, $b = 1$.\nThe quantizer has $L=30$ levels over the range $[-M, M]$. The quantization step is $\\Delta = \\frac{2M}{L}$.\nThe quantization error is $e_k := \\hat{x}_k - x_k$.\nProvided no saturation occurs (i.e., $|x_k| \\leq M$), the error is bounded: $|e_k| \\leq \\frac{\\Delta}{2} = \\frac{M}{L}$.\nThe initial state is bounded by $|x_0| \\leq X_0$, with $X_0 = 5$.\nThe target region is a ball of radius $r = 0.5$, which is the interval $[-r, r]$.\n\nThe design objectives are:\n1. No saturation: $|x_k| \\leq M$ for all $k \\geq 0$.\n2. Convergence: There exists a finite $k_0$ such that $|x_k| \\leq r$ for all $k \\geq k_0$.\n\nWe must find a suitable gain $K \\in \\mathbb{R}$ and the smallest possible value for $M > 0$.\n\nStep 2: Validate Using Extracted Givens\nThe problem is scientifically grounded, rooted in the established field of control theory for quantized systems. It is well-posed, providing sufficient information to determine the design parameters. The language is objective and mathematically precise. The problem does not violate any of the invalidity criteria.\n\nStep 3: Verdict and Action\nThe problem is valid. We will now proceed with the solution.\n\nThe closed-loop system dynamics are obtained by substituting the control law into the plant equation.\n$$x_{k+1} = a\\,x_k + b\\,(K\\,\\hat{x}_k)$$\nWe express the quantized state $\\hat{x}_k$ in terms of the true state $x_k$ and the quantization error $e_k$ as $\\hat{x}_k = x_k + e_k$.\n$$x_{k+1} = a\\,x_k + b\\,K\\,(x_k + e_k) = (a+bK)\\,x_k + bKe_k$$\nThis is a linear time-invariant difference equation driven by a bounded disturbance term, $bKe_k$. Let $\\lambda = a+bK$.\n$$x_{k+1} = \\lambda x_k + bKe_k$$\n\nFor the state $x_k$ to converge towards the origin, the homogeneous system $x_{k+1} = \\lambda x_k$ must be asymptotically stable. For a scalar discrete-time system, this requires the eigenvalue $\\lambda$ to have a magnitude less than $1$.\n$$|\\lambda| = |a+bK| < 1$$\nSubstituting the given values $a=2$ and $b=1$:\n$$|2+K| < 1 \\implies -1 < 2+K < 1 \\implies -3 < K < -1$$\nThis is the necessary condition for stability.\n\nNext, we analyze the bounded-input, bounded-state properties. Using the triangle inequality:\n$$|x_{k+1}| \\leq |\\lambda x_k + bKe_k| \\leq |\\lambda||x_k| + |bK||e_k|$$\nThe quantization error is bounded by $|e_k| \\leq M/L$ as long as $|x_k| \\leq M$. Assuming no saturation for now, we have:\n$$|x_{k+1}| \\leq |\\lambda||x_k| + |bK|\\frac{M}{L}$$\nThe solution to this difference inequality, starting from an initial condition $x_0$, is bounded by:\n$$|x_k| \\leq |\\lambda|^k |x_0| + \\sum_{i=0}^{k-1} |\\lambda|^i \\left( |bK|\\frac{M}{L} \\right) = |\\lambda|^k |x_0| + \\frac{1-|\\lambda|^k}{1-|\\lambda|} |bK|\\frac{M}{L}$$\nAs $k \\to \\infty$, since $|\\lambda|<1$, the state $x_k$ enters and remains within an ultimate bound $S$ given by:\n$$S = \\lim_{k\\to\\infty} \\left( |\\lambda|^k |x_0| + \\frac{1-|\\lambda|^k}{1-|\\lambda|} |bK|\\frac{M}{L} \\right) = \\frac{|bK|}{1-|\\lambda|}\\frac{M}{L}$$\nThe convergence requirement (Objective 2) states that the trajectory must enter the target ball of radius $r$. This means the ultimate bound $S$ must be no larger than $r$.\n$$\\frac{|bK|}{1-|a+bK|}\\frac{M}{L} \\leq r$$\n\nThe no-saturation requirement (Objective 1) states that $|x_k| \\leq M$ for all $k \\geq 0$. We must check this for the entire trajectory, including the transient phase. The bound on $|x_k|$ can be written as:\n$$|x_k| \\leq S + (X_0 - S)|\\lambda|^k$$\nThis assumes the worst-case initial condition $|x_0|=X_0$. The function $f(k) = S + (X_0-S)|\\lambda|^k$ is monotonic.\n- If $X_0 \\geq S$, the function is non-increasing, and its maximum is at $k=0$, which is $X_0$. So we require $X_0 \\leq M$.\n- If $X_0 < S$, the function is non-decreasing, and its supremum is $S$. So we require $S \\leq M$.\nCombining these, the no-saturation condition is $\\max(X_0, S) \\leq M$.\n\nWe have $X_0=5$ and $r=0.5$. The convergence condition requires $S \\leq r$, which implies $S \\leq 0.5$. Therefore, $S < X_0$. The no-saturation condition $\\max(X_0, S) \\leq M$ simplifies to $X_0 \\leq M$.\n\nWe want to find the smallest $M > 0$. The condition $M \\geq X_0$ provides a lower bound. The smallest possible value for $M$ is $M_{min} = X_0 = 5$. We must determine if this choice is feasible.\nSetting $M = X_0 = 5$, we check if there exists a gain $K$ that satisfies both the stability and convergence conditions.\n1. Stability: $-3 < K < -1$.\n2. Convergence with $M=X_0$:\n$$\\frac{|bK|}{1-|a+bK|}\\frac{X_0}{L} \\leq r$$\nSubstituting the known values $a=2, b=1, L=30, X_0=5, r=0.5$:\n$$\\frac{|1 \\cdot K|}{1-|2+1 \\cdot K|}\\frac{5}{30} \\leq 0.5$$\n$$\\frac{|K|}{1-|2+K|} \\cdot \\frac{1}{6} \\leq \\frac{1}{2}$$\n$$\\frac{|K|}{1-|2+K|} \\leq 3$$\nWe must solve this inequality for $K$ within the stability range $-3 < K < -1$. We analyze two cases.\n\nCase 1: $-2 \\leq K < -1$.\nIn this interval, $|K| = -K$ and $|2+K| = 2+K$.\n$$\\frac{-K}{1-(2+K)} \\leq 3 \\implies \\frac{-K}{-1-K} \\leq 3 \\implies \\frac{K}{1+K} \\leq 3$$\nSince $K \\in [-2, -1)$, the denominator $(1+K)$ is negative. Multiplying by $(1+K)$ reverses the inequality sign:\n$$K \\geq 3(1+K) \\implies K \\geq 3+3K \\implies -2K \\geq 3 \\implies K \\leq -\\frac{3}{2}$$\nThe solution for this case is the intersection of $[-2, -1)$ and $(-\\infty, -1.5]$, which is $K \\in [-2, -1.5]$.\n\nCase 2: $-3 < K < -2$.\nIn this interval, $|K| = -K$ and $|2+K| = -(2+K)$.\n$$\\frac{-K}{1-(-(2+K))} \\leq 3 \\implies \\frac{-K}{3+K} \\leq 3$$\nSince $K \\in (-3, -2)$, the denominator $(3+K)$ is positive.\n$$-K \\leq 3(3+K) \\implies -K \\leq 9+3K \\implies -9 \\leq 4K \\implies K \\geq -\\frac{9}{4}$$\nThe solution for this case is the intersection of $(-3, -2)$ and $[-2.25, \\infty)$, which is $K \\in [-2.25, -2)$.\n\nCombining the solutions from both cases, the full range of admissible gains $K$ is $[-2.25, -2) \\cup [-2, -1.5]$, which is the closed interval $[-2.25, -1.5]$.\nAny gain $K$ within this interval allows for the smallest possible dynamic range $M=X_0=5$. The problem asks for \"a\" specific gain $K$. A rational choice is the one that provides the most robustness by maximizing the margin in the inequality $\\frac{|K|}{1-|2+K|} \\leq 3$. This is equivalent to minimizing the function $f(K) = \\frac{|K|}{1-|2+K|}$ over the interval $K \\in [-2.25, -1.5]$.\nAs shown by the case analysis, $f(K)$ decreases on $[-2.25, -2)$ and increases on $[-2, -1.5]$. The minimum value of $f(K)$ occurs at $K=-2$.\nAt $K=-2$, we have $f(-2) = \\frac{|-2|}{1-|2-2|} = \\frac{2}{1} = 2$. This value provides the largest margin, as $2 \\leq 3$.\n\nThus, we select the gain $K=-2$. The smallest dynamic range is $M=5$.\nThe resulting design is the pair $(K, M) = (-2, 5)$.\nLet us verify this solution:\n- Gain: $K=-2$. Stability: $|a+bK| = |2+1(-2)| = 0 < 1$. Condition holds.\n- Dynamic range: $M=5$. No-saturation: $M=5 \\geq X_0=5$. Condition holds.\n- Convergence: $\\frac{|bK|}{1-|a+bK|}\\frac{M}{L} = \\frac{|1(-2)|}{1-0}\\frac{5}{30} = 2 \\cdot \\frac{1}{6} = \\frac{1}{3}$. We check if $\\frac{1}{3} \\leq r=0.5$. This is true. All conditions are satisfied.\nThe smallest dynamic range is $M=5$, and a robust choice for the gain is $K=-2$.", "answer": "$$\\boxed{\\begin{pmatrix}-2 & 5\\end{pmatrix}}$$", "id": "2696241"}]}