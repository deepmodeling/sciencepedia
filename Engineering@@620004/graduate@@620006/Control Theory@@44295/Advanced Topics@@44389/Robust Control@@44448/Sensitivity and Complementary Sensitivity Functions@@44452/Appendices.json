{"hands_on_practices": [{"introduction": "A primary goal of feedback control is to make a system robust to external disturbances. The sensitivity function, $S(s)$, is the key transfer function that quantifies how disturbances entering at the plant's output propagate to the system output. This practice problem [@problem_id:1608710] provides a direct, hands-on application of this concept by asking you to calculate the steady-state tracking error of a motor control system subjected to a persistent drift, linking the properties of $S(s)$ to tangible system performance.", "problem": "A control engineer is tasked with designing a position control system for a high-precision laser cutting head. The dynamics of the DC motor and cutting head assembly are modeled by the transfer function $P(s) = \\frac{K}{s(\\tau s + 1)}$, where $K$ is the motor-drive gain and $\\tau$ is the motor's mechanical time constant. A proportional controller, with transfer function $C(s) = K_p$, is used in a standard negative feedback configuration.\n\nThe system is intended to hold a fixed position, meaning the reference input $r(t)$ is zero. However, the system is subject to a persistent external disturbance, such as a slow mechanical drift or an external force. This is modeled as an additive disturbance signal $d(t)$ at the plant's output, such that the Laplace transform of the measured output is given by $Y(s) = P(s)U(s) + D(s)$, where $U(s)$ is the controller output and $D(s)$ is the disturbance.\n\nFor this analysis, assume the disturbance is a ramp function, $d(t) = d_0 t$ for $t \\ge 0$, where $d_0$ is the constant rate of drift. Determine the steady-state position error of the laser cutting head, defined as $y_{ss} = \\lim_{t \\to \\infty} y(t)$, caused by this disturbance.\n\nExpress your answer as a symbolic expression in terms of $K$, $\\tau$, $K_p$, and $d_0$.", "solution": "We model the closed-loop with proportional control and an additive output disturbance. The plant is $P(s) = \\frac{K}{s(\\tau s + 1)}$ and the controller is $C(s) = K_p$. With standard negative feedback, the control signal is $U(s) = K_p\\big(R(s) - Y(s)\\big)$. Since the reference is zero, $R(s) = 0$, so\n$$\nU(s) = -K_p Y(s).\n$$\nThe output with an additive disturbance $D(s)$ at the plant output is\n$$\nY(s) = P(s) U(s) + D(s).\n$$\nSubstituting $U(s)$ gives\n$$\nY(s) = P(s)\\big(-K_p Y(s)\\big) + D(s),\n$$\nwhich rearranges to\n$$\n\\big(1 + K_p P(s)\\big) Y(s) = D(s),\n$$\nhence\n$$\nY(s) = \\frac{D(s)}{1 + K_p P(s)}.\n$$\nThe disturbance is a ramp $d(t) = d_0 t$ for $t \\ge 0$, so\n$$\nD(s) = \\frac{d_0}{s^2}.\n$$\nThe transfer function from the disturbance $D$ to the output $Y$ is the sensitivity function $S(s) = \\frac{1}{1 + K_p P(s)}$. Substituting the plant model:\n$$\nS(s) = \\frac{1}{1 + K_p \\frac{K}{s(\\tau s + 1)}} = \\frac{s(\\tau s + 1)}{s(\\tau s + 1) + K_p K}.\n$$\nTherefore, the output is\n$$\nY(s) = S(s)\\,D(s) = \\frac{s(\\tau s + 1)}{s(\\tau s + 1) + K_p K} \\cdot \\frac{d_0}{s^2}.\n$$\nAssuming the closed loop is internally stable so that the final value theorem applies, the steady-state output (defined in the problem statement as the steady-state position error) is\n$$\ny_{ss} = \\lim_{t \\to \\infty} y(t) = \\lim_{s \\to 0} s Y(s) = \\lim_{s \\to 0} s \\left( \\frac{s(\\tau s + 1)}{s(\\tau s + 1) + K_p K} \\cdot \\frac{d_0}{s^2} \\right).\n$$\nThis simplifies to:\n$$\ny_{ss} = \\lim_{s \\to 0} \\frac{d_0 (\\tau s + 1)}{s(\\tau s + 1) + K_p K}.\n$$\nTaking the limit as $s \\to 0$ yields\n$$\ny_{ss} = \\frac{d_0(0+1)}{0(0+1) + K_p K} = \\frac{d_0}{K_p K}.\n$$\nThus, the steady-state position error due to the ramp output disturbance is\n$$\ny_{ss} = \\frac{d_0}{K_p K},\n$$\nwhich is independent of $\\tau$.", "answer": "$$\\boxed{\\frac{d_0}{K_pK}}$$", "id": "1608710"}, {"introduction": "The magnitude of the sensitivity function across frequencies, $|S(j\\omega)|$, offers profound insights not just into disturbance rejection, but also into the system's robustness to uncertainty. The peak sensitivity, $M_s$, is geometrically related to the system's proximity to instability on a Nyquist plot, which in turn relates to classical stability margins. This exercise [@problem_id:1608764] challenges you to solidify this crucial connection by deriving the explicit lower bound on phase margin based on a given $M_s$ value, demonstrating how performance and robustness are fundamentally intertwined.", "problem": "A control engineer is analyzing the robustness of a high-precision servo motor used in a robotic arm. The system is modeled as a standard unity feedback loop with a plant transfer function $G(s)$. The sensitivity function of the closed-loop system, which relates output disturbances to the system output, is given by $S(s) = \\frac{1}{1+G(s)}$.\n\nThrough frequency response analysis of the hardware, it has been determined that the sensitivity function has a peak magnitude $M_s = \\max_{\\omega}|S(j\\omega)| = 2.9$. Based solely on this information, determine the theoretical lower bound on the system's phase margin, $\\phi_m$. Express your answer in degrees, rounded to three significant figures.", "solution": "Let the open-loop transfer function be $L(s)=G(s)$ with unity feedback. The sensitivity function is $S(s)=\\frac{1}{1+L(s)}$, so in the frequency domain, $|S(j\\omega)|=\\frac{1}{|1+L(j\\omega)|}$. The peak sensitivity is $M_s = \\max_{\\omega}|S(j\\omega)|$, which implies that $|1+L(j\\omega)| \\geq 1/M_s$ for all $\\omega$.\n\nThe phase margin, $\\phi_m$, is defined at the gain crossover frequency, $\\omega_c$, where $|L(j\\omega_c)|=1$. At this frequency, the open-loop transfer function can be written as $L(j\\omega_c) = 1 \\cdot e^{j\\theta_c}$, where $\\theta_c$ is the phase angle at $\\omega_c$. The phase margin is defined as $\\phi_m = \\pi + \\theta_c$ (in radians). Thus, $\\theta_c = \\phi_m - \\pi$.\n\nWe evaluate $|1+L(j\\omega_c)|$:\n$$|1+L(j\\omega_c)| = |1 + e^{j(\\phi_m - \\pi)}| = |1 - \\cos(\\phi_m) - j\\sin(\\phi_m)|$$\nGeometrically, this is the distance from the point $-1+j0$ to the point $L(j\\omega_c)$ on the unit circle in the complex plane. This distance can be calculated as $2\\sin(\\phi_m/2)$.\n\nTherefore, at the crossover frequency:\n$$|S(j\\omega_c)| = \\frac{1}{|1+L(j\\omega_c)|} = \\frac{1}{2\\sin(\\phi_m/2)}$$\nSince $M_s$ is the maximum value of $|S(j\\omega)|$ over all frequencies, it must be greater than or equal to the value at $\\omega_c$:\n$$M_s \\geq |S(j\\omega_c)| = \\frac{1}{2\\sin(\\phi_m/2)}$$\nRearranging for the phase margin gives the lower bound:\n$$\\sin(\\frac{\\phi_m}{2}) \\geq \\frac{1}{2M_s} \\quad \\Rightarrow \\quad \\phi_m \\geq 2\\arcsin\\left(\\frac{1}{2M_s}\\right)$$\nWith $M_s=2.9$, we can calculate the numerical value:\n$$\\phi_m \\geq 2\\arcsin\\left(\\frac{1}{2\\times 2.9}\\right) = 2\\arcsin\\left(\\frac{1}{5.8}\\right)$$\nNumerically, in radians:\n$$2\\arcsin(1/5.8) \\approx 0.34656 \\text{ rad}$$\nConverting to degrees:\n$$0.34656 \\times \\frac{180}{\\pi} \\approx 19.856^\\circ$$\nRounded to three significant figures, the theoretical lower bound on the phase margin is $19.9$ degrees.", "answer": "$$\\boxed{19.9}$$", "id": "1608764"}, {"introduction": "A tempting but perilous controller design technique is the cancellation of an unstable plant pole with a controller zero. While this may stabilize the reference-to-output transfer function, $T(s)$, it can create a hidden or \"internal\" instability that renders the system useless in practice. This advanced problem [@problem_id:2744192] illustrates this critical concept by showing how a disturbance entering the loop can excite an unstable mode that is not visible from the reference input, underscoring the need to analyze all internal transfer functions—many of which involve $S(s)$ and $T(s)$—to guarantee true system stability.", "problem": "Consider a Single-Input Single-Output (SISO) Linear Time-Invariant (LTI) feedback interconnection with unity negative feedback. The plant is given by the proper rational transfer function\n$$\nP(s)=\\frac{s+1}{(s-1)(s+2)}\\,,\n$$\nwhich has one unstable pole at $s=1$. The controller is chosen to cancel the factor $(s-1)$ of the plant and is given by\n$$\nK(s)=\\frac{k\\,(s-1)}{s+a}\\,,\n$$\nwhere $k0$ and $a0$. The reference input is $r$, the control input to the plant is $u$, and the measured output is $y$. An additive disturbance $d$ enters at the plant input, so that the plant equation is $y=P\\,(u+d)$. There is no measurement noise.\n\nStarting only from the input-output relations implied by the unity-feedback interconnection (no state-space realization is needed), do the following:\n\n- Derive the closed-loop transfer function from the reference input $r$ to the output $y$ and the closed-loop transfer function from the disturbance input $d$ to the output $y$ in terms of $P$ and $K$. Express your result using the standard sensitivity function and complementary sensitivity function, but do not assume any special cancellation beyond what is implied by $K(s)$ above.\n\n- Assume $k$ and $a$ are chosen such that all poles of the complementary sensitivity function are strictly in the open left-half complex plane, so that the map from $r$ to $y$ is stable. Determine whether the internal closed-loop map from $d$ to $y$ is stable under this choice, and if it is not, identify the precise location of its unstable pole.\n\nYour final answer must be the location of that unstable pole as a single real number. No rounding is required and no units are involved.", "solution": "First, we derive the general closed-loop transfer functions. The signals in the Laplace domain are related by:\n$e(s) = r(s) - y(s)$\n$u(s) = K(s) e(s) = K(s) (r(s) - y(s))$\n$y(s) = P(s) (u(s) + d(s))$\n\nSubstituting the expression for $u(s)$ into the equation for $y(s)$:\n$y(s) = P(s) [K(s) (r(s) - y(s)) + d(s)]$\n$y(s) = P(s) K(s) r(s) - P(s) K(s) y(s) + P(s) d(s)$\n\nCollecting terms with $y(s)$ on the left-hand side and solving for $y(s)$ yields the overall input-output relation:\n$y(s) [1 + P(s) K(s)] = P(s) K(s) r(s) + P(s) d(s)$\n$$\ny(s) = \\frac{P(s) K(s)}{1 + P(s) K(s)} r(s) + \\frac{P(s)}{1 + P(s) K(s)} d(s)\n$$\nUsing the loop transfer function $L(s) = P(s) K(s)$, sensitivity function $S(s) = \\frac{1}{1 + L(s)}$, and complementary sensitivity function $T(s) = \\frac{L(s)}{1 + L(s)}$, this becomes:\n$$y(s) = T(s) r(s) + P(s) S(s) d(s)$$\nThe transfer function from reference $r$ to output $y$ is $G_{yr}(s) = T(s)$, and from disturbance $d$ to output $y$ is $G_{yd}(s) = P(s)S(s)$.\n\nNext, we analyze the stability of these functions using the given $P(s)$ and $K(s)$. The loop transfer function is:\n$$L(s) = P(s) K(s) = \\frac{s+1}{(s-1)(s+2)} \\cdot \\frac{k(s-1)}{s+a}$$\nThe transfer function from $r$ to $y$ is $T(s) = \\frac{L(s)}{1+L(s)}$. For stability analysis, we must not pre-cancel the unstable pole-zero pair.\n$$1 + L(s) = 1 + \\frac{k(s+1)(s-1)}{(s-1)(s+2)(s+a)} = \\frac{(s-1)(s+2)(s+a) + k(s+1)(s-1)}{(s-1)(s+2)(s+a)}$$\n$$T(s) = \\frac{L(s)}{1+L(s)} = \\frac{\\frac{k(s+1)(s-1)}{(s-1)(s+2)(s+a)}}{\\frac{(s-1)[(s+2)(s+a) + k(s+1)]}{(s-1)(s+2)(s+a)}} = \\frac{k(s+1)(s-1)}{(s-1)[(s+2)(s+a) + k(s+1)]}$$\nAfter cancelling the common factor $(s-1)$, we get the input-output transfer function:\n$$T(s) = \\frac{k(s+1)}{(s+2)(s+a) + k(s+1)} = \\frac{k(s+1)}{s^2 + (a+k+2)s + (2a+k)}$$\nSince $a0$ and $k0$, all coefficients of the characteristic polynomial in the denominator are positive. For a second-order system, this guarantees the poles of $T(s)$ are in the open left-half plane, so the map from $r$ to $y$ is stable.\n\nNow, we analyze the transfer function from disturbance $d$ to output $y$, $G_{yd}(s) = P(s)S(s) = \\frac{P(s)}{1+L(s)}$:\n$$G_{yd}(s) = \\frac{\\frac{s+1}{(s-1)(s+2)}}{1 + L(s)} = \\frac{\\frac{s+1}{(s-1)(s+2)}}{\\frac{(s-1)[(s+2)(s+a) + k(s+1)]}{(s-1)(s+2)(s+a)}}$$\nSimplifying this expression:\n$$G_{yd}(s) = \\frac{s+1}{(s-1)(s+2)} \\cdot \\frac{(s-1)(s+2)(s+a)}{(s-1)[(s+2)(s+a) + k(s+1)]}$$\nAfter cancelling the common term $(s+2)$, the expression is:\n$$G_{yd}(s) = \\frac{(s+1)(s+a)}{(s-1)[(s+2)(s+a) + k(s+1)]} = \\frac{(s+1)(s+a)}{(s-1)[s^2 + (a+k+2)s + (2a+k)]}$$\nThe poles of this transfer function are the roots of the denominator. These are $s=1$ and the stable roots of the characteristic polynomial. The presence of the term $(s-1)$ in the denominator means that $G_{yd}(s)$ has an unstable pole at $s=1$.\n\nThis unstable pole was cancelled in the transfer function $T(s)$ but remains in the transfer function from the disturbance. This is a classic case of internal instability. The system is not internally stable, and a disturbance at the plant input will excite an unstable mode, causing the output to grow without bound. The location of the unstable pole is $s=1$.", "answer": "$$\n\\boxed{1}\n$$", "id": "2744192"}]}