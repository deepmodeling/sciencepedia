{"hands_on_practices": [{"introduction": "The foundation of any CBF-based controller is its ability to translate a geometric safety requirement into an algebraic constraint on the control input. This practice provides a hands-on walk-through of this core mechanism for a simple linear system [@problem_id:2695281]. By deriving the set of admissible controls that satisfy the CBF inequality from first principles, you will solidify your understanding of how system dynamics and the choice of barrier function define the space of safe actions.", "problem": "Consider the linear control-affine system $\\dot{x} = A x + B u$ with state $x \\in \\mathbb{R}^{2}$ and scalar control $u \\in \\mathbb{R}$. The safety set is defined by the superlevel set of a linear function $h(x) = c^{\\top} x + d$, namely $\\mathcal{S} = \\{ x \\in \\mathbb{R}^{2} \\mid h(x) \\ge 0 \\}$. A Control Barrier Function (CBF) condition with an exponential rate parameter $\\gamma > 0$ is enforced by requiring the derivative of $h$ along trajectories to satisfy $\\dot{h}(x,u) + \\gamma h(x) \\ge 0$ at the current state $x$. This is the standard exponential CBF condition that ensures forward invariance of $\\mathcal{S}$ when feasible.\n\nStarting from the fundamental definitions of the Lie derivative and the above inequality (without assuming any closed-form result), derive the set of admissible control inputs that satisfy the CBF inequality for the specific system and barrier data\n$$\nA = \\begin{pmatrix} 0 & 1 \\\\ -2 & -3 \\end{pmatrix}, \\quad\nB = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}, \\quad\nc = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}, \\quad\nd = 1,\n$$\nevaluated at the state\n$$\nx = \\begin{pmatrix} 1 \\\\ -2 \\end{pmatrix}.\n$$\nAssume a hard input bound $|u| \\le U_{\\max}$ with $U_{\\max} = 3$. Your task is to compute the admissible interval of controls $u$ that satisfy both the CBF inequality $\\dot{h}(x,u) + \\gamma h(x) \\ge 0$ and the input bound $|u| \\le U_{\\max}$, expressed explicitly as interval endpoints in terms of $\\gamma$. \n\nAdditionally, analyze how the admissible interval depends on $\\gamma$ (monotonicity and feasibility as $\\gamma$ varies), starting from the fundamental inequality and the given data; provide a logically argued qualitative description as part of your derivation.\n\nProvide your final answer as a $1 \\times 2$ row vector containing the lower and upper endpoints of the admissible interval as a closed-form analytic expression in $\\gamma$. No numerical rounding is required, and no units are necessary. Do not provide inequalities or equations as your final answer; provide the interval endpoints only, in the specified format.", "solution": "The problem requires the derivation of the admissible control interval for a linear control-affine system subject to a Control Barrier Function (CBF) constraint and actuator limits. The derivation must proceed from first principles.\n\nThe system dynamics are given by $\\dot{x} = Ax + Bu$, with $x \\in \\mathbb{R}^{2}$ and $u \\in \\mathbb{R}$. The safety set is defined as $\\mathcal{S} = \\{ x \\in \\mathbb{R}^{2} \\mid h(x) \\ge 0 \\}$, where the barrier function is $h(x) = c^{\\top}x + d$. The safety condition is enforced by the exponential CBF inequality:\n$$\n\\dot{h}(x,u) + \\gamma h(x) \\ge 0\n$$\nwhere $\\gamma > 0$ is a given rate parameter. The time derivative of $h(x)$ along the system trajectories, $\\dot{h}(x,u)$, is given by the chain rule: $\\dot{h}(x,u) = \\frac{\\partial h}{\\partial x} \\dot{x}$. For a control-affine system, this expands to:\n$$\n\\dot{h}(x,u) = \\frac{\\partial h}{\\partial x} (Ax + Bu) = \\frac{\\partial h}{\\partial x}Ax + \\frac{\\partial h}{\\partial x}Bu\n$$\nThese terms are the Lie derivatives of $h$ with respect to the system's drift and control vector fields, denoted $L_f h(x) = \\frac{\\partial h}{\\partial x}Ax$ and $L_g h(x) = \\frac{\\partial h}{\\partial x}B$. The CBF inequality can thus be written as:\n$$\nL_f h(x) + L_g h(x) u + \\gamma h(x) \\ge 0\n$$\nWe must first compute each term using the provided data:\n$$\nA = \\begin{pmatrix} 0 & 1 \\\\ -2 & -3 \\end{pmatrix}, \\quad\nB = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}, \\quad\nc = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}, \\quad\nd = 1\n$$\nThe barrier function is $h(x) = c^{\\top}x + d = \\begin{pmatrix} 0 & 1 \\end{pmatrix} \\begin{pmatrix} x_1 \\\\ x_2 \\end{pmatrix} + 1 = x_2 + 1$.\nThe gradient of $h(x)$ is constant: $\\frac{\\partial h}{\\partial x} = \\nabla h(x)^{\\top} = c^{\\top} = \\begin{pmatrix} 0 & 1 \\end{pmatrix}$.\n\nNow we calculate the Lie derivative terms:\n$L_f h(x) = c^{\\top} A x = \\begin{pmatrix} 0 & 1 \\end{pmatrix} \\begin{pmatrix} 0 & 1 \\\\ -2 & -3 \\end{pmatrix} x = \\begin{pmatrix} -2 & -3 \\end{pmatrix} \\begin{pmatrix} x_1 \\\\ x_2 \\end{pmatrix} = -2x_1 - 3x_2$.\n$L_g h(x) = c^{\\top} B = \\begin{pmatrix} 0 & 1 \\end{pmatrix} \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix} = 1$.\n\nThe problem requires evaluation at the specific state $x = \\begin{pmatrix} 1 \\\\ -2 \\end{pmatrix}$. We evaluate $h(x)$ and $L_f h(x)$ at this state:\n$h(\\begin{pmatrix} 1 \\\\ -2 \\end{pmatrix}) = (-2) + 1 = -1$.\n$L_f h(\\begin{pmatrix} 1 \\\\ -2 \\end{pmatrix}) = -2(1) - 3(-2) = -2 + 6 = 4$.\nThe value of $L_g h(x)$ is constant and equals $1$.\n\nSubstituting these numerical values into the CBF inequality:\n$$\n4 + (1)u + \\gamma(-1) \\ge 0\n$$\n$$\n4 + u - \\gamma \\ge 0\n$$\nSolving for the control input $u$, we obtain the constraint imposed by the CBF condition:\n$$\nu \\ge \\gamma - 4\n$$\nThis inequality defines the set of controls that ensure the system state moves towards the safe region $\\mathcal{S}$ with at least the prescribed exponential rate $\\gamma$.\n\nIn addition to the CBF constraint, the control input is subject to actuator limits $|u| \\le U_{\\max}$ with $U_{\\max} = 3$. This corresponds to the closed interval:\n$$\n-3 \\le u \\le 3\n$$\nThe set of admissible control inputs must satisfy both constraints simultaneously. Therefore, we find the intersection of the two sets:\n$$\n\\{ u \\in \\mathbb{R} \\mid u \\ge \\gamma - 4 \\} \\cap \\{ u \\in \\mathbb{R} \\mid -3 \\le u \\le 3 \\}\n$$\nThe resulting admissible interval for $u$ is $[\\max(-3, \\gamma-4), 3]$.\nFor this interval to be non-empty, the lower bound must be less than or equal to the upper bound: $\\max(-3, \\gamma-4) \\le 3$. This is true if and only if $\\gamma - 4 \\le 3$, which simplifies to $\\gamma \\le 7$. Since we are given $\\gamma > 0$, the problem is feasible for any $\\gamma \\in (0, 7]$.\n\nNow, we analyze the dependence of this admissible interval on the parameter $\\gamma$.\nThe lower bound on the control required by the CBF, $u_{min, CBF} = \\gamma - 4$, increases linearly with $\\gamma$. This is because a larger $\\gamma$ specifies a more stringent safety requirement (a faster rate of convergence to the safe set), which demands a more forceful control action.\nThe admissible interval for $u$ is $[\\max(-3, \\gamma-4), 3]$.\n- If $0 < \\gamma < 1$, then $\\gamma - 4 < -3$. In this case, the CBF constraint is less restrictive than the actuator's lower limit. The lower bound of the interval is $\\max(-3, \\gamma-4) = -3$. The admissible interval is $[-3, 3]$, meaning the full range of control authority is available.\n- If $\\gamma = 1$, the CBF requirement $u \\ge -3$ exactly matches the actuator's lower limit. The interval remains $[-3, 3]$.\n- If $1 < \\gamma \\le 7$, then $\\gamma - 4 > -3$. The CBF constraint becomes the active lower bound. The admissible interval is $[\\gamma-4, 3]$. As $\\gamma$ increases in this range, the lower bound $\\gamma-4$ increases, and the size of the interval, which is $3 - (\\gamma-4) = 7-\\gamma$, shrinks. This illustrates the trade-off: stricter safety (higher $\\gamma$) reduces control freedom.\n- At the feasibility limit $\\gamma = 7$, the interval degenerates to a single point $[3, 3]$, forcing the unique control choice $u=3$.\n- If $\\gamma > 7$, the condition $u \\ge \\gamma - 4$ cannot be satisfied by any $u \\in [-3, 3]$, so the admissible set is empty, and the safety objective is infeasible.\n\nThe endpoints of the admissible interval, expressed as a function of $\\gamma$ for feasible cases, are:\nLower endpoint: $u_{min} = \\max(\\gamma-4, -3)$\nUpper endpoint: $u_{max} = 3$\n\nThese expressions constitute the closed-form analytic representation of the interval endpoints.", "answer": "$$\n\\boxed{\\begin{pmatrix} \\max(\\gamma-4, -3) & 3 \\end{pmatrix}}\n$$", "id": "2695281"}, {"introduction": "A given safe set $\\mathcal{C}$ can be represented by infinitely many barrier functions $h(x)$ such that $\\mathcal{C} = \\{x \\mid h(x) \\ge 0\\}$. This exercise explores the important, practical consequences of this non-uniqueness [@problem_id:2695290]. By constructing two different barrier functions for the same circular safe region and comparing their gradients, you will see how this design choice directly influences the resulting CBF constraint and, consequently, the behavior of the synthesized safe controller.", "problem": "Consider a planar system with state $x \\in \\mathbb{R}^{2}$ and the circular safe set $C = \\{ x \\in \\mathbb{R}^{2} : \\|x\\| \\le R \\}$ for a fixed radius $R > 0$. In the sense of control barrier functions (CBF), a continuously differentiable function $h : \\mathbb{R}^{2} \\to \\mathbb{R}$ represents the safe set $C$ if $C = \\{ x : h(x) \\ge 0 \\}$ and its boundary $\\partial C$ coincides with $\\{ x : h(x) = 0 \\}$. Starting from this definition and standard multivariable calculus (gradient, chain rule), do the following:\n\n1) Construct two $C^{1}$ barrier functions $h_{1}$ and $h_{2}$ that represent the same safe set $C$:\n- Let $h_{1}(x) = R^{2} - \\|x\\|^{2}$.\n- Let $h_{2}(x) = \\exp\\!\\big(\\alpha\\,(R^{2} - \\|x\\|^{2})\\big) - 1$, with $\\alpha = \\frac{5}{2}$.\n\nVerify from first principles that both $h_{1}$ and $h_{2}$ represent the same safe set $C$.\n\n2) Compute the gradients $\\nabla h_{1}(x)$ and $\\nabla h_{2}(x)$, and evaluate both at the boundary point $x_{b} = \\begin{pmatrix} R \\\\ 0 \\end{pmatrix} \\in \\partial C$.\n\n3) Define the scalar ratio\n$$\n\\rho \\;=\\; \\frac{\\|\\nabla h_{2}(x_{b})\\|}{\\|\\nabla h_{1}(x_{b})\\|}.\n$$\nCompute $\\rho$ exactly for the given $\\alpha = \\frac{5}{2}$. Report your final answer as a single real number with no rounding.", "solution": "The solution proceeds in three parts as requested. Let the state vector be $x = \\begin{pmatrix} x_1 \\\\ x_2 \\end{pmatrix}$, so its squared norm is $\\|x\\|^{2} = x_{1}^{2} + x_{2}^{2}$.\n\n**Part 1: Verification of Safe Set Representation**\n\nFirst, consider $h_{1}(x) = R^{2} - \\|x\\|^{2}$.\nThis function is a polynomial in the components of $x$, and is therefore infinitely differentiable ($C^{\\infty}$), which satisfies the $C^{1}$ requirement.\nThe condition $h_{1}(x) \\ge 0$ is equivalent to $R^{2} - \\|x\\|^{2} \\ge 0$, which simplifies to $R^{2} \\ge \\|x\\|^{2}$. Since both $R$ and $\\|x\\|$ are non-negative, this is equivalent to $R \\ge \\|x\\|$, which is precisely the definition of the safe set $C$. Thus, $\\{x : h_{1}(x) \\ge 0\\} = C$.\nThe condition $h_{1}(x) = 0$ is equivalent to $R^{2} - \\|x\\|^{2} = 0$, or $\\|x\\| = R$. This is the definition of the boundary $\\partial C$. Thus, $\\{x : h_{1}(x) = 0\\} = \\partial C$.\nThe function $h_{1}(x)$ correctly represents the safe set $C$.\n\nNext, consider $h_{2}(x) = \\exp(\\alpha(R^{2} - \\|x\\|^{2})) - 1$ with $\\alpha = \\frac{5}{2}$.\nThe argument of the exponential function is a polynomial, and the exponential function itself is $C^{\\infty}$. Compositions and sums of $C^{\\infty}$ functions are $C^{\\infty}$, so $h_{2}(x)$ is $C^{\\infty}$ and thus $C^{1}$.\nThe condition $h_{2}(x) \\ge 0$ is equivalent to $\\exp(\\alpha(R^{2} - \\|x\\|^{2})) - 1 \\ge 0$, or $\\exp(\\alpha(R^{2} - \\|x\\|^{2})) \\ge 1$.\nSince the natural logarithm function is strictly increasing, applying it to both sides preserves the inequality: $\\ln(\\exp(\\alpha(R^{2} - \\|x\\|^{2}))) \\ge \\ln(1)$, which gives $\\alpha(R^{2} - \\|x\\|^{2}) \\ge 0$.\nGiven that $\\alpha = \\frac{5}{2} > 0$, this inequality holds if and only if $R^{2} - \\|x\\|^{2} \\ge 0$, which is the same condition as for $h_{1}(x)$. As shown before, this defines the set $C$.\nThe condition $h_{2}(x) = 0$ is equivalent to $\\exp(\\alpha(R^{2} - \\|x\\|^{2})) = 1$. This implies $\\alpha(R^{2} - \\|x\\|^{2}) = 0$. Since $\\alpha \\ne 0$, this requires $R^{2} - \\|x\\|^{2} = 0$, which defines the boundary $\\partial C$.\nThe function $h_{2}(x)$ also correctly represents the same safe set $C$.\n\n**Part 2: Gradient Computation**\n\nFirst, we compute the gradient of $h_{1}(x) = R^{2} - (x_{1}^{2} + x_{2}^{2})$.\n$$\n\\nabla h_{1}(x) = \\begin{pmatrix} \\frac{\\partial h_{1}}{\\partial x_{1}} \\\\ \\frac{\\partial h_{1}}{\\partial x_{2}} \\end{pmatrix} = \\begin{pmatrix} -2x_{1} \\\\ -2x_{2} \\end{pmatrix} = -2x\n$$\nAt the boundary point $x_{b} = \\begin{pmatrix} R \\\\ 0 \\end{pmatrix}$, the gradient is:\n$$\n\\nabla h_{1}(x_{b}) = -2 \\begin{pmatrix} R \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} -2R \\\\ 0 \\end{pmatrix}\n$$\n\nNext, we compute the gradient of $h_{2}(x)$. We observe that $h_{2}(x)$ can be written as a function of $h_{1}(x)$: $h_{2}(x) = \\exp(\\alpha h_{1}(x)) - 1$.\nUsing the chain rule, its gradient is:\n$$\n\\nabla h_{2}(x) = \\nabla \\left( \\exp(\\alpha h_{1}(x)) - 1 \\right) = \\exp(\\alpha h_{1}(x)) \\cdot \\nabla(\\alpha h_{1}(x)) = \\alpha \\exp(\\alpha h_{1}(x)) \\nabla h_{1}(x)\n$$\nWe evaluate this at the point $x_{b}$. First, we evaluate $h_{1}(x_{b})$:\n$$\nh_{1}(x_{b}) = R^{2} - \\|x_{b}\\|^{2} = R^{2} - \\left( R^{2} + 0^{2} \\right) = 0\n$$\nSubstituting this into the expression for $\\nabla h_{2}(x)$:\n$$\n\\nabla h_{2}(x_{b}) = \\alpha \\exp(\\alpha \\cdot 0) \\nabla h_{1}(x_{b}) = \\alpha \\exp(0) \\nabla h_{1}(x_{b}) = \\alpha \\cdot 1 \\cdot \\nabla h_{1}(x_{b}) = \\alpha \\nabla h_{1}(x_{b})\n$$\nSubstituting the value of $\\nabla h_{1}(x_{b})$ and $\\alpha = \\frac{5}{2}$:\n$$\n\\nabla h_{2}(x_{b}) = \\frac{5}{2} \\begin{pmatrix} -2R \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} -5R \\\\ 0 \\end{pmatrix}\n$$\n\n**Part 3: Ratio Computation**\n\nThe ratio $\\rho$ is defined as $\\rho = \\frac{\\|\\nabla h_{2}(x_{b})\\|}{\\|\\nabla h_{1}(x_{b})\\|}$.\nFirst, we compute the norms of the gradients at $x_{b}$.\n$$\n\\|\\nabla h_{1}(x_{b})\\| = \\left\\| \\begin{pmatrix} -2R \\\\ 0 \\end{pmatrix} \\right\\| = \\sqrt{(-2R)^{2} + 0^{2}} = \\sqrt{4R^{2}} = 2R\n$$\nNote that we use $|2R| = 2R$ because the problem specifies $R > 0$.\n$$\n\\|\\nabla h_{2}(x_{b})\\| = \\left\\| \\begin{pmatrix} -5R \\\\ 0 \\end{pmatrix} \\right\\| = \\sqrt{(-5R)^{2} + 0^{2}} = \\sqrt{25R^{2}} = 5R\n$$\nAlternatively, using the relationship from Part 2:\n$$\n\\|\\nabla h_{2}(x_{b})\\| = \\|\\alpha \\nabla h_{1}(x_{b})\\| = |\\alpha| \\|\\nabla h_{1}(x_{b})\\|\n$$\nSince $\\alpha = \\frac{5}{2} > 0$, we have $|\\alpha| = \\alpha$.\nNow, we compute the ratio $\\rho$:\n$$\n\\rho = \\frac{\\|\\nabla h_{2}(x_{b})\\|}{\\|\\nabla h_{1}(x_{b})\\|} = \\frac{\\alpha \\|\\nabla h_{1}(x_{b})\\|}{\\|\\nabla h_{1}(x_{b})\\|}\n$$\nSince $R > 0$, $\\nabla h_{1}(x_{b})$ is not the zero vector, and its norm $\\|\\nabla h_{1}(x_{b})\\| = 2R$ is non-zero. Therefore, we can cancel the norms:\n$$\n\\rho = \\alpha\n$$\nSubstituting the given value $\\alpha = \\frac{5}{2}$:\n$$\n\\rho = \\frac{5}{2} = 2.5\n$$\nThis result demonstrates that while different barrier functions can represent the same safe set, the magnitude of their gradients on the boundary can differ. This magnitude is critical in the formulation of the CBF constraint, and thus the choice of $h(x)$ directly influences the resulting safe control law.", "answer": "$$\\boxed{2.5}$$", "id": "2695290"}, {"introduction": "A critical challenge in applying CBFs is bridging the gap between continuous-time theory and discrete-time digital implementation. Discretization errors introduced by sampled-data control can lead to violations of the safety certificate, even if the continuous-time constraint is met at sampling instants [@problem_id:2695318]. This practice requires you to analyze this effect and derive a \"tightening term\" that robustifies the CBF inequality, providing a provable guarantee of safety for the resulting sampled-data system.", "problem": "Consider a control-affine system with state $x \\in \\mathbb{R}^{n}$ and input $u \\in \\mathbb{R}^{m}$ governed by $\\dot{x} = f(x) + g(x) u$, where $f$ and $g$ are locally Lipschitz vector fields. Let $h: \\mathbb{R}^{n} \\to \\mathbb{R}$ be a continuously differentiable control barrier function defining the safe set $\\mathcal{C} = \\{ x \\in \\mathbb{R}^{n} : h(x) \\ge 0 \\}$. A continuous-time safety condition is enforced through the inequality $\\dot{h}(x,u) + \\alpha(h(x)) \\ge 0$, where $\\alpha$ is an extended class-$\\mathcal{K}$ function. The controller is implemented digitally with Zero-Order Hold (ZOH) at sampling period $\\Delta > 0$, and at each sample time $t_{k}$ a Quadratic Program (QP) enforces the instantaneous constraint $\\dot{h}(x_{k},u_{k}) + \\alpha(h(x_{k})) \\ge \\eta(\\Delta)$ for some tightening term $\\eta(\\Delta)$ to be determined, where $x_{k} = x(t_{k})$ and $u_{k}$ is held constant on $[t_{k}, t_{k+1})$ with $t_{k+1} = t_{k} + \\Delta$.\n\nTo reason about discretization effects, use as a fundamental base the local truncation error bound for the forward Euler method applied to the composite function $t \\mapsto h(x(t))$: there exists a known constant $K \\ge 0$ such that, for all $k$ and all admissible $(x_{k}, u_{k})$ in a compact forward-invariant set containing $\\mathcal{C}$, the one-step error satisfies\n$$\n\\left| h(x(t_{k+1})) - h(x(t_{k})) - \\Delta \\, \\dot{h}(x_{k},u_{k}) \\right| \\le \\frac{1}{2} K \\Delta^{2}.\n$$\nAssume that the discrete-time safety surrogate you wish to guarantee is\n$$\nh(x(t_{k+1})) - h(x(t_{k})) + \\Delta \\, \\alpha(h(x(t_{k}))) \\ge 0\n$$\nfor every time step and every admissible $(x_{k}, u_{k})$.\n\nStarting from these principles and facts, analyze how the discretization error may violate the discrete-time safety surrogate even when $\\dot{h}(x_{k},u_{k}) + \\alpha(h(x_{k})) \\ge 0$ holds at the sampling instant, and derive the smallest tightening term $\\eta^{\\star}(\\Delta)$ that, when used in the sampled-time QP constraint $\\dot{h}(x_{k},u_{k}) + \\alpha(h(x_{k})) \\ge \\eta(\\Delta)$, is sufficient to guarantee the above discrete-time safety surrogate for all steps.\n\nYour final answer must be a single closed-form expression for $\\eta^{\\star}(\\Delta)$ in terms of $K$ and $\\Delta$ only. Do not include any inequality in your final answer.", "solution": "The objective is to derive the smallest sufficient tightening term $\\eta^{\\star}(\\Delta)$ such that enforcing the constraint\n$$\n\\dot{h}(x_{k},u_{k}) + \\alpha(h(x_{k})) \\ge \\eta^{\\star}(\\Delta)\n$$\nat each sampling instant $t_{k}$ guarantees that the discrete-time safety surrogate\n$$\nh(x(t_{k+1})) - h(x(t_{k})) + \\Delta \\, \\alpha(h(x_{k})) \\ge 0\n$$\nholds for all steps $k$. Here, $x_{k}$ denotes $x(t_{k})$ and $u_{k}$ is the control input applied over $[t_{k}, t_{k+1})$.\n\nThe core of the analysis lies in the provided one-step error bound, which connects the state at two consecutive sampling instants through the derivative at the beginning of the interval. The inequality\n$$\n\\left| h(x(t_{k+1})) - h(x_{k}) - \\Delta \\, \\dot{h}(x_{k},u_{k}) \\right| \\le \\frac{1}{2} K \\Delta^{2}\n$$\nis equivalent to the pair of inequalities:\n$$\n-\\frac{1}{2} K \\Delta^{2} \\le h(x(t_{k+1})) - h(x_{k}) - \\Delta \\, \\dot{h}(x_{k},u_{k}) \\le \\frac{1}{2} K \\Delta^{2}\n$$\nwhere $\\dot{h}(x_{k},u_{k}) = \\frac{\\partial h}{\\partial x}(x_k) \\cdot (f(x_k) + g(x_k)u_k)$.\n\nTo satisfy the target safety surrogate, we must ensure $h(x(t_{k+1}))$ is sufficiently large. We must therefore reason about the worst-case scenario, which corresponds to the lower bound on $h(x(t_{k+1}))$. From the left-hand side of the above compound inequality, we can establish a lower bound on the one-step evolution of $h(x(t))$:\n$$\nh(x(t_{k+1})) - h(x_{k}) \\ge \\Delta \\, \\dot{h}(x_{k},u_{k}) - \\frac{1}{2} K \\Delta^{2}\n$$\nThis inequality provides a guaranteed lower bound for the change in $h$ over one sampling period.\n\nThe desired discrete-time safety surrogate is:\n$$\nh(x(t_{k+1})) - h(x_{k}) + \\Delta \\, \\alpha(h(x_{k})) \\ge 0\n$$\nTo guarantee this condition holds, we can substitute the lower bound for the term $h(x(t_{k+1})) - h(x_{k})$. This yields a stronger, sufficient condition:\n$$\n\\left( \\Delta \\, \\dot{h}(x_{k},u_{k}) - \\frac{1}{2} K \\Delta^{2} \\right) + \\Delta \\, \\alpha(h(x_{k})) \\ge 0\n$$\nThis new inequality is a sufficient condition that must be satisfied by the choice of $u_k$ to guarantee discrete-time safety. We must now rearrange this condition into the form of the QP constraint to identify the required tightening term $\\eta(\\Delta)$.\n\nAdding $\\frac{1}{2} K \\Delta^{2}$ to both sides gives:\n$$\n\\Delta \\, \\dot{h}(x_{k},u_{k}) + \\Delta \\, \\alpha(h(x_{k})) \\ge \\frac{1}{2} K \\Delta^{2}\n$$\nSince the sampling period $\\Delta$ is strictly positive ($\\Delta > 0$), we can divide the entire inequality by $\\Delta$ without changing the direction of the inequality:\n$$\n\\dot{h}(x_{k},u_{k}) + \\alpha(h(x_{k})) \\ge \\frac{1}{2} K \\Delta\n$$\nThis is precisely the form of the constraint enforced by the sampled-time QP, $\\dot{h}(x_{k},u_{k}) + \\alpha(h(x_{k})) \\ge \\eta(\\Delta)$. By direct comparison, we find that setting $\\eta(\\Delta) = \\frac{1}{2} K \\Delta$ provides a sufficient condition.\n\nThe problem requires the *smallest* such sufficient term, $\\eta^{\\star}(\\Delta)$. The derivation shows that any $\\eta(\\Delta) \\ge \\frac{1}{2} K \\Delta$ is sufficient. The bound on the local truncation error is tight, meaning there exist system dynamics and states for which the error term $h(x(t_{k+1})) - h(x_{k}) - \\Delta \\, \\dot{h}(x_{k},u_{k})$ can be arbitrarily close to $-\\frac{1}{2} K \\Delta^{2}$. In such a worst-case scenario, if we choose $\\eta(\\Delta) < \\frac{1}{2} K \\Delta$, it is possible to select a control $u_k$ such that $\\dot{h}(x_{k},u_{k}) + \\alpha(h(x_{k})) = \\eta(\\Delta)$. This would lead to\n$$\n\\Delta \\, \\dot{h}(x_{k},u_{k}) + \\Delta \\, \\alpha(h(x_{k})) = \\Delta \\, \\eta(\\Delta) < \\frac{1}{2} K \\Delta^{2}\n$$\nwhich is insufficient to guarantee safety. Thus, the condition $\\eta(\\Delta) \\ge \\frac{1}{2} K \\Delta$ is not only sufficient but also necessary within this analytical framework. The smallest value that satisfies this is the equality.\n\nTherefore, the smallest sufficient tightening term is:\n$$\n\\eta^{\\star}(\\Delta) = \\frac{1}{2} K \\Delta\n$$", "answer": "$$\n\\boxed{\\frac{1}{2} K \\Delta}\n$$", "id": "2695318"}]}