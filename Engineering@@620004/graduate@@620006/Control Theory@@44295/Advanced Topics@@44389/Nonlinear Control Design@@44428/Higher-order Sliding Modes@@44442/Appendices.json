{"hands_on_practices": [{"introduction": "Effective implementation of a higher-order sliding mode controller, such as the super-twisting algorithm, begins not with the controller itself, but with a rigorous analysis of the system dynamics. This practice guides you through the essential preparatory steps: verifying that the system's relative degree is compatible with the chosen controller and optimizing the sliding surface design. By calculating and minimizing the Lipschitz constant of the system's nonlinearities, you will learn a crucial technique for enhancing the controller's robustness and performance even before it is activated [@problem_id:2711865].", "problem": "A single-input single-output (SISO) nonlinear system is given in control-affine form by the state equations\n$$\n\\dot{x}_{1} = x_{2}, \\qquad \\dot{x}_{2} = -a\\,x_{1} - b\\,x_{2} + u + d(t),\n$$\nwhere $x = [x_{1}\\; x_{2}]^{\\top} \\in \\mathbb{R}^{2}$ is the state, $u \\in \\mathbb{R}$ is the control input, $a>0$ and $b>0$ are known constants, and $d(t)$ is an unknown matched disturbance with bounded derivative $\\left|\\dot{d}(t)\\right| \\leq \\Delta$ for some known $\\Delta>0$. Consider the sliding variable\n$$\ns(x) = x_{2} + \\lambda\\,x_{1},\n$$\nwith design parameter $\\lambda \\in \\mathbb{R}$. You intend to enforce $s(x)=0$ using a higher-order sliding mode (HOSM) strategy, specifically the super-twisting algorithm (STA), which, under standard assumptions, requires that the sliding variable have relative degree $r=1$ with respect to the control input and that the perturbation term in $\\dot{s}$ be Lipschitz in the state.\n\nUsing only the fundamental definition of relative degree for SISO systems and the definition of a global Euclidean-norm Lipschitz constant, proceed as follows:\n\n- Determine the relative degree $r$ of $s$ with respect to $u$ for arbitrary $\\lambda \\in \\mathbb{R}$.\n- Rewrite $\\dot{s}$ in the form $\\dot{s} = \\varphi(x,t) + \\gamma\\,u$ and identify $\\varphi(x,t)$ and $\\gamma$. Then, treating $t$ as a parameter, compute the smallest global Euclidean-norm Lipschitz constant $L(\\lambda)$ of $\\varphi(\\cdot,t)$ with respect to $x$ over $\\mathbb{R}^{2}$.\n- Choose $\\lambda$ to minimize $L(\\lambda)$ over $\\lambda \\in \\mathbb{R}$.\n\nProvide your final answer as a closed-form expression for the optimal $\\lambda$ in terms of the given symbols. No numerical rounding is required, and no physical units are needed in the final answer. The angle unit is not applicable in this problem.", "solution": "The problem statement is first subjected to validation.\n\n**Step 1: Extract Givens**\n- System dynamics: $\\dot{x}_{1} = x_{2}$, $\\dot{x}_{2} = -a\\,x_{1} - b\\,x_{2} + u + d(t)$.\n- State: $x = [x_{1}\\; x_{2}]^{\\top} \\in \\mathbb{R}^{2}$.\n- Control input: $u \\in \\mathbb{R}$.\n- Constants: $a>0$, $b>0$ are known.\n- Disturbance property: The derivative is bounded, $|\\dot{d}(t)| \\leq \\Delta$ for a known $\\Delta>0$.\n- Sliding variable: $s(x) = x_{2} + \\lambda\\,x_{1}$.\n- Design parameter: $\\lambda \\in \\mathbb{R}$.\n- Task: Determine the relative degree $r$ of $s$ with respect to $u$; rewrite $\\dot{s} = \\varphi(x,t) + \\gamma\\,u$ and find the smallest global Euclidean-norm Lipschitz constant $L(\\lambda)$ for $\\varphi(\\cdot,t)$ with respect to $x$; find the value of $\\lambda$ that minimizes $L(\\lambda)$.\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is scientifically grounded, well-posed, and objective. It presents a standard exercise in nonlinear control theory, focusing on the prerequisites for applying the super-twisting algorithm to a second-order linear system with a matched disturbance. All provided concepts—relative degree, Lipschitz continuity, and the system model—are fundamental and well-defined in the field of control systems. The problem provides all necessary information and is free from any scientific flaws, logical contradictions, or ambiguities. The condition on the disturbance derivative, $|\\dot{d}(t)| \\leq \\Delta$, provides context as a standard assumption for the convergence of the super-twisting algorithm, but is not directly required for the specific calculations requested regarding the spatial Lipschitz constant.\n\n**Step 3: Verdict and Action**\nThe problem is valid. A rigorous solution will be developed.\n\nThe solution proceeds by systematically addressing the tasks as stated.\n\nFirst, we determine the relative degree of the sliding variable $s(x)$ with respect to the control input $u$. The relative degree is the smallest integer $r$ for which the $r$-th time derivative of $s$ explicitly depends on $u$. We compute the first time derivative of $s$:\n$$\n\\dot{s} = \\frac{d}{dt}s(x(t)) = \\frac{\\partial s}{\\partial x} \\dot{x} = \\begin{pmatrix} \\frac{\\partial s}{\\partial x_1} & \\frac{\\partial s}{\\partial x_2} \\end{pmatrix} \\begin{pmatrix} \\dot{x}_1 \\\\ \\dot{x}_2 \\end{pmatrix}\n$$\nFrom the definition $s(x) = x_{2} + \\lambda\\,x_{1}$, the partial derivatives are $\\frac{\\partial s}{\\partial x_1} = \\lambda$ and $\\frac{\\partial s}{\\partial x_2} = 1$. Substituting these and the system dynamics into the expression for $\\dot{s}$ yields:\n$$\n\\dot{s} = \\lambda \\dot{x}_1 + 1 \\cdot \\dot{x}_2 = \\lambda (x_2) + (-a\\,x_{1} - b\\,x_{2} + u + d(t))\n$$\nRearranging the terms, we obtain:\n$$\n\\dot{s} = -a\\,x_{1} + (\\lambda - b)x_{2} + d(t) + u\n$$\nThe control input $u$ appears in the first derivative of $s$. In the formalism of Lie derivatives, for a system $\\dot{x} = f(x,t) + g(x)u$, the coefficient of $u$ in $\\dot{s}$ is given by $L_g s = \\frac{\\partial s}{\\partial x} g(x)$. Here, $g(x) = \\begin{pmatrix} 0 & 1 \\end{pmatrix}^{\\top}$, so $L_g s = \\begin{pmatrix}\\lambda & 1\\end{pmatrix} \\begin{pmatrix}0 \\\\ 1\\end{pmatrix} = 1$. As $L_g s = 1 \\neq 0$, the relative degree is $r=1$. This holds for any value of $\\lambda \\in \\mathbb{R}$.\n\nNext, we rewrite $\\dot{s}$ in the specified form $\\dot{s} = \\varphi(x,t) + \\gamma\\,u$. From the expression derived above, we directly identify the components:\n$$\n\\varphi(x,t) = -a\\,x_{1} + (\\lambda - b)x_{2} + d(t)\n$$\n$$\n\\gamma = 1\n$$\nThe problem requires finding the smallest global Euclidean-norm Lipschitz constant of $\\varphi(\\cdot,t)$ with respect to the state $x$, treating $t$ as a parameter. For a differentiable function, this constant is the supremum of the spectral norm (induced $2$-norm) of its Jacobian matrix with respect to $x$. The function $\\varphi$ is a scalar field on $\\mathbb{R}^2$, so its Jacobian is its gradient, a row vector:\n$$\nJ_{\\varphi}(x) = \\nabla_{x}\\varphi(x,t) = \\begin{pmatrix} \\frac{\\partial \\varphi}{\\partial x_1} & \\frac{\\partial \\varphi}{\\partial x_2} \\end{pmatrix}\n$$\nThe partial derivatives are computed as:\n$$\n\\frac{\\partial \\varphi}{\\partial x_1} = -a\n$$\n$$\n\\frac{\\partial \\varphi}{\\partial x_2} = \\lambda - b\n$$\nThus, the Jacobian is constant for all $x \\in \\mathbb{R}^2$:\n$$\nJ_{\\varphi}(x) = \\begin{pmatrix} -a & \\lambda - b \\end{pmatrix}\n$$\nThe spectral norm of a constant matrix is its norm. For a row vector, the spectral norm is its standard Euclidean norm. The Lipschitz constant $L(\\lambda)$ is therefore:\n$$\nL(\\lambda) = \\sup_{x \\in \\mathbb{R}^2} \\| J_{\\varphi}(x) \\|_2 = \\left\\| \\begin{pmatrix} -a & \\lambda - b \\end{pmatrix} \\right\\|_2 = \\sqrt{(-a)^2 + (\\lambda - b)^2}\n$$\nThis gives the Lipschitz constant as $L(\\lambda) = \\sqrt{a^2 + (\\lambda - b)^2}$.\n\nFinally, we find the parameter $\\lambda \\in \\mathbb{R}$ that minimizes $L(\\lambda)$. Minimizing $L(\\lambda)$ is equivalent to minimizing its square, $L(\\lambda)^2 = a^2 + (\\lambda - b)^2$, since the square root function is strictly increasing for non-negative arguments. Let $f(\\lambda) = a^2 + (\\lambda - b)^2$. This is a quadratic function of $\\lambda$, which describes a parabola opening upwards. Its minimum is located at its vertex, which can be found by setting its first derivative with respect to $\\lambda$ equal to zero.\n$$\n\\frac{df}{d\\lambda} = \\frac{d}{d\\lambda} \\left( a^2 + (\\lambda - b)^2 \\right) = 2(\\lambda - b)\n$$\nSetting the derivative to zero provides the necessary condition for an extremum:\n$$\n2(\\lambda - b) = 0 \\implies \\lambda = b\n$$\nTo confirm this corresponds to a minimum, we examine the second derivative:\n$$\n\\frac{d^2f}{d\\lambda^2} = \\frac{d}{d\\lambda}(2\\lambda - 2b) = 2\n$$\nSince $\\frac{d^2f}{d\\lambda^2} = 2 > 0$, the function $f(\\lambda)$ has a strict global minimum at $\\lambda = b$. Consequently, $L(\\lambda)$ is also minimized at this value.\n\nThe optimal choice for the parameter $\\lambda$ that minimizes the Lipschitz constant of the perturbation term is $\\lambda=b$. This choice has the physical interpretation of canceling the state-dependent term multiplying $x_2$ in the dynamics of $\\dot{s}$, thus minimizing the sensitivity of the perturbation term to state variations.", "answer": "$$\n\\boxed{b}\n$$", "id": "2711865"}, {"introduction": "Once a higher-order sliding mode is established, how does the controller actively reject disturbances without reintroducing chattering? This exercise provides a deep, conceptual look into the operational mechanism of the super-twisting algorithm under quasi-static conditions [@problem_id:1610755]. By analyzing how the controller's integral term responds to a slow-varying disturbance, you will gain a clear understanding of how HOSM achieves continuous, high-precision tracking and disturbance compensation—its primary advantage over classical first-order sliding modes.", "problem": "A crucial task in modern robotics is controlling a system, such as a manipulator arm, in the presence of unknown external forces. High-order Sliding Mode Control (SMC) is a robust technique for such problems.\n\nConsider a simplified system where the dynamics are modeled by a double integrator plant, $\\ddot{q}(t) = u(t) + d(t)$, where $q(t)$ is the position, $u(t)$ is the control input, and $d(t)$ is an unknown external disturbance.\n\nTo control this system, a sliding variable is defined as $s(t) = \\dot{q}(t) + c q(t)$, with a positive constant $c$. The control objective is to drive $s(t)$ to zero and maintain it there.\n\nThe control law is designed with two components: a nominal part to cancel the known dynamics, and a robust SMC part. Specifically, $u(t) = -c \\dot{q}(t) + u_{smc}(t)$. This design simplifies the sliding dynamics to $\\dot{s}(t) = u_{smc}(t) + d(t)$.\n\nTo generate a continuous control signal and reject the disturbance, a Super-Twisting algorithm is employed for $u_{smc}(t)$:\n$$u_{smc}(t) = -k_1 \\sqrt{|s(t)|} \\operatorname{sgn}(s(t)) + v(t)$$\n$$\\dot{v}(t) = -k_2 \\operatorname{sgn}(s(t))$$\nwhere $k_1$ and $k_2$ are positive gains, and $v(t)$ is an internal state of the controller.\n\nAssume the controller is effective and has brought the system into a steady sliding mode where $s(t)$ remains very close to zero. Now, consider the system is subjected to a slow, periodic disturbance $d(t) = D_0 \\sin(\\omega t)$, where the frequency $\\omega$ is very low. In this quasi-static condition, the controller maintains $s(t) \\approx 0$ primarily by letting the integral term $v(t)$ counteract the disturbance.\n\nBased on this quasi-static assumption, determine the short-term average value of the switching function, denoted as $\\langle \\operatorname{sgn}(s(t)) \\rangle$, that the controller must generate to track this disturbance. Express your answer as a function of $D_0$, $\\omega$, $k_2$, and time $t$.", "solution": "The plant is the double integrator $\\ddot{q}(t)=u(t)+d(t)$ with sliding variable $s(t)=\\dot{q}(t)+c q(t)$. With the nominal control $u(t)=-c \\dot{q}(t)+u_{smc}(t)$, the sliding dynamics reduce to\n$$\n\\dot{s}(t)=u_{smc}(t)+d(t).\n$$\nUsing the super-twisting control,\n$$\nu_{smc}(t) = -k_1 \\sqrt{|s(t)|} \\operatorname{sgn}(s(t)) + v(t), \\qquad \\dot{v}(t) = -k_2 \\operatorname{sgn}(s(t)),\n$$\nwith $k_1>0$ and $k_2>0$. Under the quasi-static assumption with very low-frequency disturbance and effective control, the motion is close to the sliding manifold, so $s(t)\\approx 0$. Consequently, the term $-k_1 \\sqrt{|s|} \\operatorname{sgn}(s)$ is negligible and the sliding dynamics simplify to\n$$\n\\dot{s}(t)\\approx v(t)+d(t).\n$$\nMaintaining $s(t)\\approx 0$ implies $\\dot{s}(t)\\approx 0$, hence\n$$\nv(t)\\approx -d(t).\n$$\nDifferentiating both sides with respect to time gives\n$$\n\\dot{v}(t)\\approx -\\dot{d}(t).\n$$\nFrom the controller, $\\dot{v}(t) = -k_2 \\operatorname{sgn}(s(t))$. Interpreting the switching in the sense of short-term averaging,\n$$\n\\langle \\dot{v}(t)\\rangle = -k_2 \\langle \\operatorname{sgn}(s(t))\\rangle.\n$$\nEquating the two expressions for $\\dot{v}(t)$ yields\n$$\n-k_2 \\langle \\operatorname{sgn}(s(t))\\rangle \\approx -\\dot{d}(t)\n\\quad\\Rightarrow\\quad\n\\langle \\operatorname{sgn}(s(t))\\rangle \\approx \\frac{\\dot{d}(t)}{k_2}.\n$$\nFor the disturbance $d(t)=D_{0}\\sin(\\omega t)$, its derivative is\n$$\n\\dot{d}(t)=D_{0}\\,\\omega\\,\\cos(\\omega t).\n$$\nTherefore, under the quasi-static sliding assumption, the required short-term average of the switching function is\n$$\n\\langle \\operatorname{sgn}(s(t))\\rangle = \\frac{D_0 \\omega}{k_2} \\cos(\\omega t),\n$$\nwhich is valid provided $\\left| \\frac{D_0 \\omega}{k_2} \\cos(\\omega t) \\right| \\leq 1$; otherwise the switching saturates at $\\pm 1$.", "answer": "$$\\boxed{\\frac{D_0 \\omega}{k_2}\\cos(\\omega t)}$$", "id": "1610755"}]}