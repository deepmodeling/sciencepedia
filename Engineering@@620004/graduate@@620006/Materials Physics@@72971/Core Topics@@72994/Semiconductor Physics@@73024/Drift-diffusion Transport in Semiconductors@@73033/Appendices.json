{"hands_on_practices": [{"introduction": "Numerical simulation is a cornerstone of modern semiconductor device design. Before tackling the complex, coupled drift-diffusion-Poisson equations on a computer, it is a crucial professional practice to recast them into a dimensionless form. This practice guides you through the derivation of these natural scaling factors, such as the thermal voltage $V_T$ and the Debye length $L_D$, which render the equations numerically stable and reveal the intrinsic relationships between physical parameters [@problem_id:2816621]. Mastering this technique is the first step toward building robust and accurate device simulators.", "problem": "Consider the coupled drift-diffusion–Poisson system for a one-dimensional non-degenerate semiconductor, written in the International System of Units (SI) for electrons and holes. The governing partial differential equations (PDEs) are the carrier continuity equations with drift-diffusion currents and Poisson's equation for the electrostatic potential. The fundamental physical laws and well-tested relations to be used as the base are: (i) charge conservation, (ii) the definition of current densities including drift and diffusion, (iii) Poisson's equation, and (iv) the Einstein relation. Let $x$ denote position, $t$ denote time, $n(x,t)$ and $p(x,t)$ denote the electron and hole densities, $\\varphi(x,t)$ the electrostatic potential, $E(x,t) = -\\partial \\varphi/\\partial x$ the electric field, $\\epsilon$ the absolute permittivity, $q$ the elementary charge (positive by convention), $k_{B}$ Boltzmann's constant, and $T$ the absolute temperature. The equations are:\n$$\n\\frac{\\partial n}{\\partial t} = \\frac{1}{q}\\frac{\\partial J_n}{\\partial x} + G_n - R_n, \\quad J_n = q \\mu_n n E + q D_n \\frac{\\partial n}{\\partial x},\n$$\n$$\n\\frac{\\partial p}{\\partial t} = -\\frac{1}{q}\\frac{\\partial J_p}{\\partial x} + G_p - R_p, \\quad J_p = q \\mu_p p E - q D_p \\frac{\\partial p}{\\partial x},\n$$\n$$\n-\\frac{\\partial}{\\partial x}\\left(\\epsilon \\frac{\\partial \\varphi}{\\partial x}\\right) = q\\left(p - n + N_D^+ - N_A^-\\right),\n$$\nwith the Einstein relation $D_{n,p} = \\mu_{n,p} k_B T / q$. Assume a uniform, charge-neutral background in the absence of applied bias such that $N_D^+ \\approx N_D$ and $N_A^- \\approx N_A$ are spatially uniform and fully ionized, where $N_D$ and $N_A$ are the donor and acceptor densities, respectively. The intrinsic carrier density is $n_i$.\n\nTask: Derive a mathematically consistent and physically motivated dimensionless scaling that improves numerical conditioning by choosing natural scales for length, potential, and carrier density. Introduce dimensionless variables by $x = L_0 \\hat{x}$, $\\varphi = V_0 \\hat{\\varphi}$, $n = n_0 \\hat{n}$, $p = n_0 \\hat{p}$, and choose $L_0$, $V_0$, and $n_0$ so that the dominant coefficients in the drift-diffusion currents and Poisson's equation are order unity without introducing small or large multiplicative factors in front of the principal terms. Explicitly, start from the equations above and deduce the scales by balancing terms using only the stated base relations (e.g., the Einstein relation), without assuming any particular device geometry other than a device length $L_{\\mathrm{dev}}$ that sets the computational domain extent.\n\nImplementation requirement: Using your derived scaling, write a program that, given material and operating parameters, computes the three natural scales $(L_0, V_0, n_0)$ and the key dimensionless coupling parameter $\\lambda = L_0 / L_{\\mathrm{dev}}$. You must implement the following conventions:\n- The potential scale must be expressed in volts, the length scale in meters, the carrier density scale in $\\mathrm{m}^{-3}$, and the ratio $\\lambda$ is dimensionless.\n- Use $V_0$ equal to the thermal voltage $k_B T / q$ consistent with the Einstein relation balance, and choose $n_0$ as the characteristic mobile charge density in the material, defined as the maximum of $N_D$, $N_A$, and $n_i$ to capture the dominant space-charge scale in a uniformly doped region. Then determine $L_0$ by appropriately balancing Poisson's equation with these choices.\n- All constants must be treated in SI units: $q$ in coulombs, $k_B$ in joules per kelvin, and $\\epsilon$ in farads per meter. Use $\\epsilon = \\epsilon_r \\epsilon_0$ with the vacuum permittivity $\\epsilon_0$.\n\nTest suite: Your program must compute $(L_0, V_0, n_0, \\lambda)$ for each of the following five parameter sets, all given in SI units. Each case is specified as a tuple $(T, \\epsilon_r, N_D, N_A, n_i, L_{\\mathrm{dev}})$:\n1. $(300, 11.7, 1.0\\times 10^{21}, 0.0, 1.08\\times 10^{16}, 1.0\\times 10^{-6})$.\n2. $(300, 13.1, 0.0, 5.0\\times 10^{22}, 2.0\\times 10^{12}, 5.0\\times 10^{-7})$.\n3. $(300, 25.0, 1.0\\times 10^{23}, 0.0, 1.0\\times 10^{16}, 3.0\\times 10^{-9})$.\n4. $(200, 11.7, 1.0\\times 10^{21}, 0.0, 1.0\\times 10^{6}, 1.0\\times 10^{-6})$.\n5. $(300, 11.7, 0.0, 0.0, 1.0\\times 10^{16}, 1.0\\times 10^{-4})$.\n\nAnswer specification:\n- For each test case, output a list $[L_0, V_0, n_0, \\lambda]$ with $L_0$ in meters, $V_0$ in volts, $n_0$ in $\\mathrm{m}^{-3}$, and $\\lambda$ dimensionless.\n- Round all four values to six significant figures.\n- Your program should produce a single line of output containing the results for all test cases as a comma-separated list of the five per-case lists, with no spaces, enclosed in square brackets. For example: $[[a_1,b_1,c_1,d_1],[a_2,b_2,c_2,d_2],\\dots]$.", "solution": "The problem as stated is valid. It is a well-posed task in computational semiconductor physics, based on established theory, and provides a complete set of data and constraints for its resolution. I will now proceed with the derivation and subsequent implementation.\n\nThe objective is to non-dimensionalize the drift-diffusion and Poisson equations for a one-dimensional semiconductor. This is a critical step in preparing the system for numerical solution, as it normalizes the magnitudes of variables and parameters, thereby improving the conditioning of the numerical problem.\n\nWe are given the scaling relations:\n$x = L_0 \\hat{x}$\n$\\varphi = V_0 \\hat{\\varphi}$\n$n = n_0 \\hat{n}$\n$p = n_0 \\hat{p}$\n\nHere, quantities with a circumflex ($\\hat{\\cdot}$) are dimensionless. The scales $L_0$, $V_0$, and $n_0$ are the characteristic length, potential, and carrier density, respectively, which must be determined.\n\nThe derivation proceeds by substituting these scaled variables into the governing equations and choosing the scales such that the resulting dimensionless equations have coefficients of order unity.\n\nFirst, we address Poisson's equation, which links the electrostatic potential to the charge density. For a spatially uniform permittivity $\\epsilon$, the equation is:\n$$\n-\\epsilon \\frac{\\partial^2 \\varphi}{\\partial x^2} = q\\left(p - n + N_D - N_A\\right)\n$$\nHere, we assume full ionization, so the ionized dopant concentrations are equal to the doping densities $N_D$ and $N_A$. Substituting the scaling relations, the second derivative of the potential transforms as $\\frac{\\partial^2}{\\partial x^2} = \\frac{1}{L_0^2} \\frac{\\partial^2}{\\partial \\hat{x}^2}$. The equation becomes:\n$$\n-\\epsilon \\frac{V_0}{L_0^2} \\frac{\\partial^2 \\hat{\\varphi}}{\\partial \\hat{x}^2} = q\\left(n_0 \\hat{p} - n_0 \\hat{n} + N_D - N_A\\right)\n$$\nTo make this equation dimensionless, we divide all terms by a characteristic charge density factor, which we choose to be $q n_0$:\n$$\n-\\left(\\frac{\\epsilon V_0}{q n_0 L_0^2}\\right) \\frac{\\partial^2 \\hat{\\varphi}}{\\partial \\hat{x}^2} = \\hat{p} - \\hat{n} + \\frac{N_D - N_A}{n_0}\n$$\nFor the equation to be well-conditioned, the prefactor of the highest-order derivative term should be of order unity. We enforce this by setting the coefficient to $1$:\n$$\n\\frac{\\epsilon V_0}{q n_0 L_0^2} = 1\n$$\nThis yields a fundamental relationship for the length scale $L_0$:\n$$\nL_0 = \\sqrt{\\frac{\\epsilon V_0}{q n_0}}\n$$\nThis characteristic length is recognized as the Debye screening length for a charge density $n_0$ at a potential energy scale $q V_0$.\n\nNext, we analyze the current density expressions to determine the potential scale $V_0$. Let us consider the electron current density $J_n$, which is composed of a drift term (due to the electric field $E = -\\partial \\varphi/\\partial x$) and a diffusion term (due to the concentration gradient):\n$$\nJ_n = q \\mu_n n E + q D_n \\frac{\\partial n}{\\partial x}\n$$\nWe substitute the scaled variables and also use the Einstein relation, $D_n = \\mu_n k_B T / q$, which is a fundamental link between mobility and diffusivity born from thermodynamic principles.\nThe electric field term is $E = -\\frac{\\partial \\varphi}{\\partial x} = -\\frac{V_0}{L_0}\\frac{\\partial \\hat{\\varphi}}{\\partial \\hat{x}}$. The gradient term is $\\frac{\\partial n}{\\partial x} = \\frac{n_0}{L_0} \\frac{\\partial \\hat{n}}{\\partial \\hat{x}}$.\nSubstitution yields:\n$$\nJ_n = q \\mu_n (n_0 \\hat{n}) \\left(-\\frac{V_0}{L_0} \\frac{\\partial \\hat{\\varphi}}{\\partial \\hat{x}}\\right) + q \\left(\\frac{\\mu_n k_B T}{q}\\right) \\left(\\frac{n_0}{L_0} \\frac{\\partial \\hat{n}}{\\partial \\hat{x}}\\right)\n$$\nWe can factor out common terms to reveal the underlying structure:\n$$\nJ_n = \\frac{q \\mu_n n_0 V_0}{L_0} \\left( -\\hat{n} \\frac{\\partial \\hat{\\varphi}}{\\partial \\hat{x}} + \\frac{k_B T}{q V_0} \\frac{\\partial \\hat{n}}{\\partial \\hat{x}} \\right)\n$$\nThe core principle of this scaling is to balance the drift and diffusion contributions. This is achieved by making their respective coefficients in the dimensionless form equal. Observing the expression in the parenthesis, this balance is naturally struck if we choose the potential scale $V_0$ to be the thermal voltage, $V_T$. Thus, we set:\n$$\nV_0 = \\frac{k_B T}{q}\n$$\nWith this choice, the term $k_B T / (q V_0)$ becomes exactly $1$, and the dimensionless electron current density $\\hat{J}_n = J_n / J_{n0}$ (with current scale $J_{n0} = q \\mu_n n_0 V_0 / L_0$) simplifies to:\n$$\n\\hat{J}_n = -\\hat{n} \\frac{\\partial \\hat{\\varphi}}{\\partial \\hat{x}} + \\frac{\\partial \\hat{n}}{\\partial \\hat{x}} = \\hat{n}\\hat{E} + \\frac{\\partial\\hat{n}}{\\partial\\hat{x}}\n$$\nwhere $\\hat{E} = -\\partial\\hat{\\varphi}/\\partial\\hat{x}$. An analogous result is obtained for the hole current density $J_p$. This choice of $V_0$ is therefore physically motivated and mathematically optimal for balancing the transport and electrostatic effects described by the Einstein relation.\n\nFinally, the problem provides a specific directive for the characteristic carrier density $n_0$. It is to be taken as the maximum of the extrinsic doping concentrations and the intrinsic carrier density:\n$$\nn_0 = \\max(N_D, N_A, n_i)\n$$\nThis choice ensures that $n_0$ reflects the dominant source of mobile or fixed charge in the material, whether it be from donors in n-type material, acceptors in p-type material, or thermally generated electron-hole pairs in an intrinsic or near-intrinsic material.\n\nWith the scales $V_0$ and $n_0$ determined, we can finalize the expression for the length scale $L_0$:\n$$\nL_0 = \\sqrt{\\frac{\\epsilon V_0}{q n_0}} = \\sqrt{\\frac{\\epsilon (k_B T / q)}{q n_0}} = \\sqrt{\\frac{\\epsilon k_B T}{q^2 n_0}}\n$$\nThe dimensionless parameter $\\lambda$ is defined as the ratio of this intrinsic length scale to the overall device length $L_{\\mathrm{dev}}$:\n$$\n\\lambda = \\frac{L_0}{L_{\\mathrm{dev}}}\n$$\nThis parameter provides a measure of how device physics is influenced by boundary effects and space charge regions relative to its size. A large $\\lambda$ indicates a \"short\" device dominated by space charge, whereas a small $\\lambda$ indicates a \"long\" device where quasi-neutral regions may be significant.\n\nIn summary, the calculation for each test case will proceed as follows:\n1.  Calculate potential scale: $V_0 = k_B T / q$.\n2.  Determine carrier density scale: $n_0 = \\max(N_D, N_A, n_i)$.\n3.  Calculate length scale: $L_0 = \\sqrt{\\epsilon k_B T / (q^2 n_0)}$, where $\\epsilon = \\epsilon_r \\epsilon_0$.\n4.  Calculate dimensionless ratio: $\\lambda = L_0 / L_{\\mathrm{dev}}$.\n\nThese formulae will now be implemented to solve the provided test cases.", "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes natural scaling factors for the drift-diffusion-Poisson system\n    for a set of semiconductor material and device parameters.\n    \"\"\"\n\n    # Physical constants in SI units\n    K_B = 1.380649e-23  # Boltzmann constant (J/K)\n    Q = 1.60217663e-19  # Elementary charge (C)\n    EPS_0 = 8.8541878128e-12  # Vacuum permittivity (F/m)\n\n    # Test cases: (T, epsilon_r, N_D, N_A, n_i, L_dev)\n    # T in Kelvin, N_D, N_A, n_i in m^-3, L_dev in m, epsilon_r is dimensionless.\n    test_cases = [\n        (300.0, 11.7, 1.0e21, 0.0, 1.08e16, 1.0e-6),\n        (300.0, 13.1, 0.0, 5.0e22, 2.0e12, 5.0e-7),\n        (300.0, 25.0, 1.0e23, 0.0, 1.0e16, 3.0e-9),\n        (200.0, 11.7, 1.0e21, 0.0, 1.0e6, 1.0e-6),\n        (300.0, 11.7, 0.0, 0.0, 1.0e16, 1.0e-4),\n    ]\n\n    all_results = []\n    \n    for case in test_cases:\n        T, epsilon_r, N_D, N_A, n_i, L_dev = case\n\n        # 1. Calculate the potential scale V0 (thermal voltage)\n        # V0 = (k_B * T) / q\n        v0 = (K_B * T) / Q\n\n        # 2. Determine the characteristic carrier density n0\n        # n0 = max(N_D, N_A, n_i)\n        n0 = np.max([N_D, N_A, n_i])\n\n        # 3. Calculate the length scale L0 (Debye length)\n        # L0 = sqrt(epsilon * k_B * T / (q^2 * n0))\n        epsilon = epsilon_r * EPS_0\n        l0 = np.sqrt((epsilon * K_B * T) / (Q**2 * n0))\n\n        # 4. Calculate the dimensionless coupling parameter lambda\n        # lambda = L0 / L_dev\n        lambda_val = l0 / L_dev\n\n        # Store the results for this case\n        all_results.append([l0, v0, n0, lambda_val])\n\n    # Format the output string according to the problem specification.\n    # Each value is formatted to 6 significant figures using exponential notation.\n    # This ensures consistency and correctness for all magnitudes.\n    # e.g., '1.23456e+05' for 123456\n    # Precision for '.5e' format is 5 decimal places in the mantissa, giving 6 total significant figures.\n    formatted_results = []\n    for result_set in all_results:\n        # Using exponential notation to ensure 6 significant figures are always represented.\n        formatted_set = [f\"{val:.5e}\" for val in result_set]\n        formatted_results.append(f\"[{','.join(formatted_set)}]\")\n    \n    final_output = f\"[{','.join(formatted_results)}]\"\n    print(final_output)\n\nsolve()\n```", "id": "2816621"}, {"introduction": "The fundamental equation for drift current, $J_n = q n \\mu_n E$, appears simple, but its practical application hinges on an accurate model for carrier mobility, $\\mu_n$. This practice moves beyond the assumption of constant mobility, challenging you to implement the realistic, industry-standard Caughey-Thomas model where mobility is a function of both doping concentration and temperature [@problem_id:2816606]. By coding this model and applying it to various scenarios, you will develop essential skills in computational materials physics and gain a deeper appreciation for how material properties govern device behavior.", "problem": "Consider one-dimensional electron transport in a non-degenerate, uniformly ionized, n-type semiconductor where drift dominates and diffusion can be neglected. Assume steady state, low-field transport with no velocity saturation and no carrier generation or recombination. Start from fundamental definitions: the proportionality between drift velocity and electric field through mobility, the definition of current density as charge flux, and the identification of electron density with the ionized donor concentration under full ionization. Use a measured mobility model for the electron mobility that depends on donor concentration and temperature.\n\nYou are given that the measured electron mobility is described by the Caughey–Thomas (CT) model, with temperature-dependent parameters:\n- For any temperature $T$ (in K), define the temperature ratio $r_T = T/300$.\n- The parameter functions are:\n  - $\\mu_{\\min}(T) = 52.2 \\times r_T^{-0.57}$ in $\\mathrm{cm^2/(V\\cdot s)}$,\n  - $\\mu_{0}(T) = 1417 \\times r_T^{-2.33}$ in $\\mathrm{cm^2/(V\\cdot s)}$,\n  - $N_{\\mathrm{ref}}(T) = 9.68\\times 10^{16} \\times r_T^{2.4}$ in $\\mathrm{cm^{-3}}$,\n  - $\\alpha(T) = 0.68 \\times r_T^{0.146}$ (dimensionless).\n- The mobility as a function of donor concentration $N_D$ (in $\\mathrm{cm^{-3}}$) and temperature $T$ (in K) is\n$$\n\\mu_n(N_D,T) = \\mu_{\\min}(T) + \\frac{\\mu_0(T) - \\mu_{\\min}(T)}{1 + \\left(\\dfrac{N_D}{N_{\\mathrm{ref}}(T)}\\right)^{\\alpha(T)}} \\quad \\text{in} \\ \\mathrm{cm^2/(V\\cdot s)}.\n$$\n\nAssume full ionization so that the electron density is $n(x) \\approx N_D(x)$. Use the elementary charge $q = 1.602176634 \\times 10^{-19}$ C. For computations, use the International System of Units (SI): convert all given quantities to SI where needed, and report current densities in $\\mathrm{A/m^2}$.\n\nYour tasks:\n1. From fundamental principles, derive the expression for the electron drift current density $J_n(x)$ in terms of the electron density, mobility, and electric field. Do not invoke any pre-assembled transport formula; start from the definition of drift velocity proportional to the electric field and the definition of current density as charge per unit area per unit time carried by moving electrons.\n2. Implement the above CT mobility model $\\mu_n(N_D,T)$ using the provided parameter functions.\n3. For each test case below, construct the donor and electric field profiles over the device length, compute the spatial drift current density $J_n(x)$, and then compute the requested scalar metric from $J_n(x)$:\n   - Use a uniform spatial grid of $N = 1001$ points over $x \\in [0,L]$, including endpoints.\n   - For any profile specified as “linear from $A$ to $B$,” interpret it as $A + (B-A)\\,x/L$ for $x \\in [0,L]$.\n   - Compute averages as simple arithmetic means over the grid.\n   - Compute the root-mean-square (RMS) as $\\sqrt{\\langle J_n(x)^2 \\rangle}$.\n   - Compute the maximum absolute value as $\\max_x |J_n(x)|$.\n\nPhysical units and conversions to use:\n- Donor concentration input is given in $\\mathrm{cm^{-3}}$; convert to $\\mathrm{m^{-3}}$ when used as a density in SI by multiplying by $10^{6}$.\n- Mobility from the CT model is in $\\mathrm{cm^2/(V\\cdot s)}$; convert to $\\mathrm{m^2/(V\\cdot s)}$ by multiplying by $10^{-4}$.\n- Electric field input is given in $\\mathrm{kV/cm}$; convert to $\\mathrm{V/m}$ by multiplying by $10^{5}$.\n- Length input is given in $\\mu \\mathrm{m}$; convert to $\\mathrm{m}$ by multiplying by $10^{-6}$.\n\nTest suite:\n- Case $1$ (uniform, baseline at $T=300$ K):\n  - $L = 1.0$ $\\mu \\mathrm{m}$,\n  - $T = 300$ K,\n  - $N_D(x) = 1.0 \\times 10^{16}$ $\\mathrm{cm^{-3}}$ (uniform),\n  - $E(x) = 1.0$ $\\mathrm{kV/cm}$ (uniform).\n  - Output metric: the spatial arithmetic mean of $J_n(x)$ in $\\mathrm{A/m^2}$.\n\n- Case $2$ (graded profiles at $T=300$ K):\n  - $L = 2.0$ $\\mu \\mathrm{m}$,\n  - $T = 300$ K,\n  - $N_D(x)$ linear from $1.0 \\times 10^{15}$ $\\mathrm{cm^{-3}}$ to $1.0 \\times 10^{18}$ $\\mathrm{cm^{-3}}$,\n  - $E(x)$ linear from $-2.0$ $\\mathrm{kV/cm}$ to $+2.0$ $\\mathrm{kV/cm}$.\n  - Output metric: the RMS value of $J_n(x)$ in $\\mathrm{A/m^2}$.\n\n- Case $3$ (zero-field edge case at $T=300$ K):\n  - $L = 0.5$ $\\mu \\mathrm{m}$,\n  - $T = 300$ K,\n  - $N_D(x) = 1.0 \\times 10^{19}$ $\\mathrm{cm^{-3}}$ (uniform),\n  - $E(x) = 0.0$ $\\mathrm{kV/cm}$ (uniform).\n  - Output metric: the maximum absolute value of $|J_n(x)|$ in $\\mathrm{A/m^2}$.\n\n- Case $4$ (temperature variation at $T=500$ K, otherwise identical to Case $1$):\n  - $L = 1.0$ $\\mu \\mathrm{m}$,\n  - $T = 500$ K,\n  - $N_D(x) = 1.0 \\times 10^{16}$ $\\mathrm{cm^{-3}}$ (uniform),\n  - $E(x) = 1.0$ $\\mathrm{kV/cm}$ (uniform).\n  - Output metric: the ratio (dimensionless) of the spatial arithmetic mean of $J_n(x)$ for Case $4$ to that for Case $1$ (both means computed as specified above).\n\nNumerical output requirements:\n- Your program must compute these four scalar results in the order of Cases $1$ through $4$.\n- Round each final numeric result to $6$ significant figures.\n- Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets (e.g., \"[$\\text{result}_1$,$\\text{result}_2$,$\\text{result}_3$,$\\text{result}_4$]\"). For Cases $1$–$3$ express the values in $\\mathrm{A/m^2}$; for Case $4$ the value is dimensionless.", "solution": "The problem presented is a well-defined exercise in computational materials physics. It is scientifically grounded, internally consistent, and contains all necessary information for a unique solution. The physical model, the Caughey-Thomas empirical relation for mobility, is standard in the field. The assumptions of steady-state, drift-dominated transport without generation or recombination in a non-degenerate semiconductor are common and appropriate for an introductory problem of this nature. All parameters, boundary conditions, and required output metrics are specified without ambiguity. The problem is therefore valid, and a solution will be provided.\n\nThe task is to compute the electron drift current density, $J_n(x)$, in a one-dimensional semiconductor for several scenarios and then calculate specific metrics from the resulting spatial profile of the current density.\n\nFirst, we must derive the expression for the electron drift current density, $J_n$, from fundamental principles as instructed.\nThe drift velocity, $v_n$, of an electron in a semiconductor under the influence of an electric field, $E$, is, for low fields, directly proportional to the field. The constant of proportionality is the electron mobility, $\\mu_n$. As electrons are negatively charged, they drift in the direction opposite to the electric field vector. This is expressed as:\n$$v_n(x) = -\\mu_n E(x)$$\nHere, $\\mu_n$ is a positive quantity.\n\nCurrent density is defined as the net flux of charge across a unit area per unit time. For electrons, each carrier has a charge of $-q$, where $q$ is the elementary charge, $q = 1.602176634 \\times 10^{-19} \\ \\text{C}$. If the concentration of electrons is $n(x)$, then the density of mobile charge is $-q n(x)$. The current density is the product of this charge density and the drift velocity of the carriers:\n$$J_n(x) = (-q) n(x) v_n(x)$$\nSubstituting the expression for the drift velocity $v_n(x)$ into the equation for the current density $J_n(x)$ yields:\n$$J_n(x) = (-q) n(x) (-\\mu_n E(x))$$\n$$J_n(x) = q n(x) \\mu_n E(x)$$\nThe problem states to assume full ionization of the n-type dopants, which have a concentration $N_D(x)$. Thus, the electron concentration is approximately equal to the donor concentration, $n(x) \\approx N_D(x)$. The mobility, $\\mu_n$, is itself a function of the donor concentration and temperature, $\\mu_n(N_D(x), T)$. The final expression for the electron drift current density is therefore:\n$$J_n(x) = q N_D(x) \\mu_n(N_D(x), T) E(x)$$\nThis is the equation we will implement.\n\nThe electron mobility, $\\mu_n$, is given by the Caughey–Thomas (CT) model. It is crucial to handle the physical units correctly. The model is defined with its input donor concentration $N_D$ in units of $\\mathrm{cm^{-3}}$ and produces an output mobility in units of $\\mathrm{cm^2/(V\\cdot s)}$. For our main calculation of current density in the International System of Units (SI), all quantities must be converted.\nThe necessary unit conversions are:\n- Length: from $\\mu\\mathrm{m}$ to $\\mathrm{m}$, multiply by $10^{-6}$.\n- Donor Concentration ($N_D$): from $\\mathrm{cm^{-3}}$ to $\\mathrm{m^{-3}}$ for use in the final SI current density equation, multiply by $10^6$.\n- Electric Field ($E$): from $\\mathrm{kV/cm}$ to $\\mathrm{V/m}$, multiply by $10^5$.\n- Mobility ($\\mu_n$): from $\\mathrm{cm^2/(V\\cdot s)}$ (as output by the CT model) to $\\mathrm{m^2/(V\\cdot s)}$, multiply by $10^{-4}$.\n\nThe computational procedure is as follows:\n1. For each test case, define the physical parameters: device length $L$, temperature $T$, and the functional forms of the donor concentration profile $N_D(x)$ and electric field profile $E(x)$.\n2. Establish a uniform spatial grid of $N=1001$ points, $x_i = i \\cdot \\frac{L}{N-1}$ for $i = 0, 1, \\dots, N-1$.\n3. At each grid point $x_i$, evaluate the donor concentration $N_D(x_i)$ and the electric field $E(x_i)$.\n4. At each grid point $x_i$, calculate the electron mobility $\\mu_n(N_D(x_i), T)$. This involves:\n    a. Calculating the temperature ratio $r_T = T/300$.\n    b. Calculating the temperature-dependent CT parameters: $\\mu_{\\min}(T)$, $\\mu_{0}(T)$, $N_{\\mathrm{ref}}(T)$, and $\\alpha(T)$.\n    c. Evaluating the CT formula for $\\mu_n$ using $N_D(x_i)$ in units of $\\mathrm{cm^{-3}}$.\n    d. Converting the resulting $\\mu_n$ from $\\mathrm{cm^2/(V\\cdot s)}$ to $\\mathrm{m^2/(V\\cdot s)}$.\n5. At each grid point $x_i$, calculate the drift current density $J_n(x_i)$ in $\\mathrm{A/m^2}$ using the derived formula, ensuring that $q$, $N_D(x_i)$, $\\mu_n(x_i)$, and $E(x_i)$ are all in SI units.\n6. From the computed spatial profile $J_n(x_i)$, calculate the required scalar metric for the test case:\n    - **Mean**: $\\langle J_n \\rangle = \\frac{1}{N} \\sum_{i=0}^{N-1} J_n(x_i)$.\n    - **Root-Mean-Square (RMS)**: $\\sqrt{\\langle J_n^2 \\rangle} = \\sqrt{\\frac{1}{N} \\sum_{i=0}^{N-1} (J_n(x_i))^2}$.\n    - **Maximum Absolute Value**: $\\max_{i} |J_n(x_i)|$.\n    - **Ratio**: For Case $4$, compute the ratio of its mean current density to the mean current density of Case $1$.\n\nThis procedure will be implemented for all four test cases. For Case $3$, where $E(x) = 0$, the drift current density $J_n(x)$ will be identically zero at all points, leading to a maximum absolute value of $0$. Case $4$ requires the result from Case $1$ for its final computation.\nAll final numerical results must be rounded to $6$ significant figures.", "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes electron drift current density in a semiconductor for various scenarios.\n    \"\"\"\n    # Physical Constants\n    Q = 1.602176634e-19  # Elementary charge in C\n\n    # Unit Conversion Factors\n    CM3_TO_M3 = 1e6\n    CM2_TO_M2 = 1e-4\n    KV_PER_CM_TO_V_PER_M = 1e5\n    MICRON_TO_M = 1e-6\n\n    def calculate_mobility_si(nd_cm3, temp_k):\n        \"\"\"\n        Calculates electron mobility using the Caughey-Thomas model.\n        \n        Args:\n            nd_cm3 (np.ndarray): Donor concentration in cm^-3.\n            temp_k (float): Temperature in Kelvin.\n            \n        Returns:\n            np.ndarray: Electron mobility in SI units (m^2/(V*s)).\n        \"\"\"\n        r_t = temp_k / 300.0\n        \n        # Temperature-dependent parameters of the Caughey-Thomas model\n        mu_min_t = 52.2 * (r_t ** -0.57)\n        mu_0_t = 1417.0 * (r_t ** -2.33)\n        n_ref_t = 9.68e16 * (r_t ** 2.4)\n        alpha_t = 0.68 * (r_t ** 0.146)\n        \n        # Caughey-Thomas mobility formula in cm^2/(V*s)\n        mobility_cm2 = mu_min_t + (mu_0_t - mu_min_t) / (1.0 + (nd_cm3 / n_ref_t) ** alpha_t)\n        \n        # Convert to SI units\n        return mobility_cm2 * CM2_TO_M2\n\n    # Test case definitions\n    # Format: (L_um, T_K, ND_spec, E_spec, metric_type)\n    # ND_spec and E_spec: (val,) for uniform, (start, end) for linear\n    test_cases = [\n        (1.0, 300.0, (1.0e16,), (1.0,), 'mean'),\n        (2.0, 300.0, (1.0e15, 1.0e18), (-2.0, 2.0), 'rms'),\n        (0.5, 300.0, (1.0e19,), (0.0,), 'max_abs'),\n        (1.0, 500.0, (1.0e16,), (1.0,), 'ratio_case1'),\n    ]\n\n    results = []\n    mean_j_case1 = None\n    \n    # Grid parameters\n    N = 1001\n\n    for i, case in enumerate(test_cases):\n        L_um, T_K, ND_spec, E_spec, metric = case\n        \n        L_m = L_um * MICRON_TO_M\n        x = np.linspace(0, L_m, N)\n        \n        # Generate N_D profile in cm^-3 and m^-3\n        if len(ND_spec) == 1:\n            ND_profile_cm3 = np.full(N, ND_spec[0])\n        else:\n            ND_profile_cm3 = ND_spec[0] + (ND_spec[1] - ND_spec[0]) * x / L_m\n        ND_profile_m3 = ND_profile_cm3 * CM3_TO_M3\n\n        # Generate E profile in V/m\n        if len(E_spec) == 1:\n            E_profile_vm = np.full(N, E_spec[0] * KV_PER_CM_TO_V_PER_M)\n        else:\n            E_profile_vm = (E_spec[0] + (E_spec[1] - E_spec[0]) * x / L_m) * KV_PER_CM_TO_V_PER_M\n\n        # Calculate mobility profile in SI units (m^2/(V*s))\n        mu_profile_si = calculate_mobility_si(ND_profile_cm3, T_K)\n        \n        # Calculate current density profile J_n = q * n * mu * E in SI units (A/m^2)\n        # Assuming n = N_D\n        J_profile = Q * ND_profile_m3 * mu_profile_si * E_profile_vm\n\n        # Calculate requested metric\n        if metric == 'mean':\n            result = np.mean(J_profile)\n            if i == 0:  # Case 1\n                mean_j_case1 = result\n        elif metric == 'rms':\n            result = np.sqrt(np.mean(J_profile**2))\n        elif metric == 'max_abs':\n            result = np.max(np.abs(J_profile))\n        elif metric == 'ratio_case1':\n            mean_j_case4 = np.mean(J_profile)\n            if mean_j_case1 is None or mean_j_case1 == 0:\n                 result = 0.0\n            else:\n                 result = mean_j_case4 / mean_j_case1\n        \n        results.append(result)\n\n    # Format results to 6 significant figures\n    formatted_results = [f'{res:.6g}' for res in results]\n    \n    print(f\"[{','.join(formatted_results)}]\")\n\nsolve()\n```", "id": "2816606"}, {"introduction": "The p-n junction diode is the building block of modern electronics, and its behavior is a classic application of drift-diffusion theory. This exercise asks you to go beyond simply using the diode equation and instead derive its characteristics from fundamental principles, focusing on the interplay between diffusion current and interface recombination current [@problem_id:2816614]. By calculating the diode ideality factor in a regime dominated by recombination, you will forge a direct link between a microscopic physical process and a critical macroscopic parameter on the device's current-voltage ($I\\text{-}V$) curve.", "problem": "Consider a one-dimensional abrupt $p^{+}\\text{-}n$ junction diode. The $n$-type quasi-neutral region extends from the metallurgical junction edge at $x=0$ to $x \\to \\infty$, is uniformly doped with donor concentration $N_{D}$, and is free of generation except for recombination processes specified below. Assume low-level injection and steady state. The $p$-type side is heavily doped so that hole injection from the $p$-side into the $n$-side dominates the diffusion current. The temperature is $T$, the elementary charge is $q$, and the thermal voltage is $k_{B}T/q$, where $k_{B}$ is the Boltzmann constant.\n\nThe transport of minority-carrier holes in the $n$-type quasi-neutral region is governed by the drift-diffusion law and the steady-state continuity equation with a bulk Shockley-Read-Hall recombination lifetime $\\tau_{p}$, giving an effective minority-carrier diffusion length $L_{p}=\\sqrt{D_{p}\\tau_{p}}$, where $D_{p}$ is the hole diffusion coefficient. The equilibrium minority-carrier concentration on the $n$ side is $p_{n0}=n_{i}^{2}/N_{D}$, where $n_{i}$ is the intrinsic carrier concentration. At the depletion edge ($x=0^{+}$), assume quasi-equilibrium such that the minority-carrier quasi-Fermi level splitting corresponds to an applied forward bias $V$.\n\nIn addition to bulk recombination, the junction plane at $x=0$ contains a finite density of mid-gap interface states that cause interfacial recombination. Model this interfacial recombination by a finite surface recombination velocity $S$ (units of length per time) defined in the usual way via Shockley-Read-Hall kinetics at a mid-gap interface under low-level injection. Treat the depletion region as sufficiently narrow that the interfacial recombination can be taken as localized at $x=0$ and contributes an additive current density associated with the junction interface.\n\nStarting only from the one-dimensional drift-diffusion law, the steady-state continuity equation, low-level injection, and Shockley-Read-Hall recombination physics specialized to mid-gap interface states, perform the following:\n\n- Derive the functional dependence on $V$ of the minority-carrier diffusion current density injected into the $n$-type quasi-neutral region under the stated assumptions, and identify the exponential voltage dependence without invoking any prepackaged diode equation.\n\n- Derive the functional dependence on $V$ of the interfacial recombination current density at the junction plane in terms of the surface recombination velocity $S$ and intrinsic material parameters in the mid-gap, low-level injection limit, again without invoking any prepackaged results.\n\n- Combine the two contributions to obtain the total current density $J(V)$ and define the voltage-dependent ideality factor by $n(V)=\\left[\\frac{q}{k_{B}T}\\right]\\left[\\frac{\\mathrm{d}\\ln J}{\\mathrm{d}V}\\right]^{-1}$.\n\n- In the low forward bias regime in which the interfacial recombination channel dominates the total current but the forward bias is still sufficiently large that the subtracted unity in the exponentials can be neglected, compute the diode ideality factor. Express your final answer as a single number with no units. No intermediate results are needed in the final answer.\n\nIf you find it necessary to evaluate a numerical approximation, round your answer to $4$ significant figures. However, if an exact value can be obtained, report the exact value.", "solution": "The problem statement is subjected to validation.\n\nStep 1: Extracted Givens.\n- A one-dimensional abrupt $p^{+}\\text{-}n$ junction diode.\n- The $n$-type quasi-neutral region is at $x \\ge 0$.\n- The $n$-region is uniformly doped with donor concentration $N_{D}$.\n- The device is in a steady state under low-level injection.\n- The $p$-type side is heavily doped ($p^+$), so hole injection into the $n$-side dominates.\n- Temperature is $T$; elementary charge is $q$; Boltzmann constant is $k_B$.\n- Transport of minority-carrier holes (in the $n$-region) is governed by drift-diffusion.\n- The steady-state continuity equation includes bulk Shockley-Read-Hall (SRH) recombination with lifetime $\\tau_p$.\n- Minority-carrier diffusion length is $L_{p}=\\sqrt{D_{p}\\tau_{p}}$, where $D_{p}$ is the hole diffusion coefficient.\n- Equilibrium minority-carrier concentration in the $n$-side is $p_{n0}=n_{i}^{2}/N_{D}$.\n- Boundary condition at the depletion edge ($x=0^{+}$): $p(0) = p_{n0} \\exp\\left(\\frac{qV}{k_B T}\\right)$ due to quasi-equilibrium under forward bias $V$.\n- Boundary condition at infinity: $p(x \\to \\infty) = p_{n0}$.\n- There is additional interfacial recombination at the junction plane $x=0$ due to mid-gap interface states.\n- This interfacial recombination is modeled by a finite surface recombination velocity $S$.\n- The total current density $J(V)$ is the sum of the diffusion current and the interfacial recombination current.\n- The ideality factor is defined as $n(V)=\\left[\\frac{q}{k_B T}\\right]\\left[\\frac{\\mathrm{d}\\ln J}{\\mathrm{d}V}\\right]^{-1}$.\n- The final calculation is to be done in the low forward bias regime where recombination current dominates and exponential terms are large compared to unity.\n\nStep 2: Validation Using Extracted Givens.\n- Scientific Groundedness: The problem is firmly rooted in the established physics of semiconductor devices, specifically using the drift-diffusion model and Shockley-Read-Hall recombination theory. All concepts are standard and scientifically sound.\n- Well-Posedness: The problem is well-posed. It provides sufficient physical laws and boundary conditions to derive the requested quantities. The tasks lead to a unique and meaningful solution.\n- Objectivity: The language is precise, quantitative, and free of subjective statements.\n- Completeness and Consistency: The problem is self-contained. The provided definitions and conditions are consistent with each other. The directive to derive results from first principles rather than quoting formulas is a pedagogical constraint, not a flaw. The definition of the surface recombination velocity $S$ is stated to be the \"usual way\" for mid-gap states, which, while requiring careful interpretation, is a standard context in the field and points towards a definition linked to SRH parameters. This does not render the problem invalid but requires a rigorous academic interpretation.\n- Feasibility: All conditions and parameters are physically realistic for a semiconductor diode.\n\nStep 3: Verdict and Action.\nThe problem is valid. A complete solution will be provided.\n\nThe analysis proceeds by deriving the two current components, combining them, and then calculating the ideality factor under the specified conditions.\n\nFirst, we derive the diffusion current density $J_{\\text{diff}}$ injected into the $n$-type quasi-neutral region. In steady state, the continuity equation for minority-carrier holes in the $n$-region ($x \\ge 0$) is:\n$$ \\frac{1}{q}\\frac{\\mathrm{d}J_{p}(x)}{\\mathrm{d}x} = - R_{p}(x) $$\nwhere $J_p(x)$ is the hole current density and $R_p(x)$ is the net recombination rate. Under low-level injection, the electric field in the quasi-neutral region is negligible. The drift-diffusion equation for holes, $J_{p}(x) = q\\mu_{p}p(x)E(x) - qD_{p}\\frac{\\mathrm{d}p(x)}{\\mathrm{d}x}$, simplifies to the diffusion equation:\n$$ J_{p}(x) = -qD_{p}\\frac{\\mathrm{d}p(x)}{\\mathrm{d}x} $$\nThe SRH recombination rate under low-level injection is $R_{p}(x) = \\frac{p(x) - p_{n0}}{\\tau_{p}}$, where $p(x)$ is the total hole concentration and $p_{n0}$ is its equilibrium value. Let $\\Delta p(x) = p(x) - p_{n0}$ be the excess hole concentration. Substituting these into the continuity equation gives:\n$$ D_{p}\\frac{\\mathrm{d}^2\\Delta p(x)}{\\mathrm{d}x^2} = \\frac{\\Delta p(x)}{\\tau_{p}} \\implies \\frac{\\mathrm{d}^2\\Delta p(x)}{\\mathrm{d}x^2} - \\frac{\\Delta p(x)}{L_{p}^2} = 0 $$\nwhere $L_{p} = \\sqrt{D_{p}\\tau_{p}}$. The general solution is $\\Delta p(x) = A\\exp(-x/L_{p}) + B\\exp(x/L_{p})$. The boundary conditions are:\n1.  At $x \\to \\infty$, the excess concentration must be zero: $\\Delta p(\\infty) = 0$, which implies $B=0$.\n2.  At the edge of the depletion region, $x=0$, the law of the junction holds: $p(0) = p_{n0}\\exp\\left(\\frac{qV}{k_B T}\\right)$.\nThus, $\\Delta p(0) = p(0) - p_{n0} = p_{n0}\\left(\\exp\\left(\\frac{qV}{k_B T}\\right) - 1\\right)$. This gives $A = \\Delta p(0)$.\nThe excess hole profile is:\n$$ \\Delta p(x) = p_{n0}\\left(\\exp\\left(\\frac{qV}{k_B T}\\right) - 1\\right) \\exp\\left(-\\frac{x}{L_{p}}\\right) $$\nThe diffusion current density is evaluated at $x=0$:\n$$ J_{\\text{diff}} = J_{p}(0) = -qD_{p}\\left.\\frac{\\mathrm{d}p(x)}{\\mathrm{d}x}\\right|_{x=0} = -qD_{p}\\left.\\frac{\\mathrm{d}\\Delta p(x)}{\\mathrm{d}x}\\right|_{x=0} $$\n$$ J_{\\text{diff}} = -qD_{p} \\left[ -\\frac{1}{L_{p}} \\Delta p(0) \\right] = \\frac{qD_{p}}{L_{p}}p_{n0}\\left(\\exp\\left(\\frac{qV}{k_B T}\\right) - 1\\right) $$\nThis expression gives the functional dependence on $V$ for the diffusion current. The exponential voltage dependence is $\\exp\\left(\\frac{qV}{k_B T}\\right)$.\n\nSecond, we derive the interfacial recombination current density $J_{\\text{rec,if}}$. This current is given by $J_{\\text{rec,if}} = qU_{s}$, where $U_{s}$ is the net recombination rate per unit area at the interface ($x=0$). The SRH rate for a single-level trap is:\n$$ U_{s} = \\frac{c_{n}c_{p}N_{it}(p_{s}n_{s} - n_{i}^{2})}{c_{n}(n_{s} + n_{1}) + c_{p}(p_{s} + p_{1})} $$\nwhere $p_s, n_s$ are concentrations at the surface, $N_{it}$ is the trap density per area, $c_n, c_p$ are capture coefficients, and $n_1, p_1$ are carrier concentrations when the Fermi level equals the trap level $E_t$. For mid-gap states, $E_t = E_i$, so $n_1 = p_1 = n_i$. At the interface, under bias $V$, the product is $p_s n_s = n_i^2 \\exp\\left(\\frac{qV}{k_B T}\\right)$. The recombination rate is maximized near the point where the denominator is minimized, which occurs when $c_n n_s \\approx c_p p_s$. For simplicity and as is common, we assume symmetric capture properties, $c_n \\approx c_p = c$, which implies the maximum rate occurs where $n_s \\approx p_s$. In this case, $p_s = n_s = \\sqrt{p_s n_s} = n_i \\exp\\left(\\frac{qV}{2k_B T}\\right)$. Substituting these into the SRH formula:\n$$ U_{s} \\approx \\frac{c^{2}N_{it}(n_i^2 \\exp(\\frac{qV}{k_B T}) - n_i^2)}{c(n_i e^{\\frac{qV}{2k_B T}} + n_i) + c(n_i e^{\\frac{qV}{2k_B T}} + n_i)} = \\frac{c N_{it} n_i^2 (\\exp(\\frac{qV}{k_B T}) - 1)}{2n_i (\\exp(\\frac{qV}{2k_B T}) + 1)} $$\nUsing the identity $\\exp(A) - 1 = (\\exp(A/2) - 1)(\\exp(A/2) + 1)$, we simplify the expression:\n$$ U_{s} \\approx \\frac{c N_{it} n_i (\\exp(\\frac{qV}{2k_B T}) - 1)(\\exp(\\frac{qV}{2k_B T}) + 1)}{2 (\\exp(\\frac{qV}{2k_B T}) + 1)} = \\frac{c N_{it}n_{i}}{2}\\left(\\exp\\left(\\frac{qV}{2k_B T}\\right) - 1\\right) $$\nThe problem defines a surface recombination velocity $S$. In this context, $S$ represents the capture properties of the interface states. A standard definition for symmetric mid-gap traps is $S = c N_{it} = \\sigma v_{th}N_{it}$, where $\\sigma$ is the capture cross-section and $v_{th}$ is the thermal velocity. Using this definition, the recombination current density becomes:\n$$ J_{\\text{rec,if}} = qU_{s} = \\frac{q S n_{i}}{2}\\left(\\exp\\left(\\frac{qV}{2k_B T}\\right) - 1\\right) $$\nThe exponential voltage dependence for the recombination current is $\\exp\\left(\\frac{qV}{2k_B T}\\right)$.\n\nThird, we combine the two current components to obtain the total current density $J(V)$:\n$$ J(V) = J_{\\text{diff}} + J_{\\text{rec,if}} = \\frac{qD_{p}p_{n0}}{L_{p}}\\left(\\exp\\left(\\frac{qV}{k_B T}\\right) - 1\\right) + \\frac{q S n_{i}}{2}\\left(\\exp\\left(\\frac{qV}{2k_B T}\\right) - 1\\right) $$\nThe ideality factor is given by $n(V)=\\left[\\frac{q}{k_B T}\\right]\\left[\\frac{\\mathrm{d}\\ln J}{\\mathrm{d}V}\\right]^{-1}$.\n\nFinally, we compute the ideality factor in the specified regime: low forward bias where $J_{\\text{rec,if}} \\gg J_{\\text{diff}}$ and the bias $V$ is large enough such that $\\exp\\left(\\frac{qV}{2k_B T}\\right) \\gg 1$. In this regime, the total current is dominated by the recombination component, and the subtracted unity terms can be neglected.\n$$ J(V) \\approx J_{\\text{rec,if}}(V) \\approx \\frac{q S n_{i}}{2}\\exp\\left(\\frac{qV}{2k_B T}\\right) $$\nTo find the ideality factor, we compute the derivative of $\\ln J(V)$:\n$$ \\ln J(V) \\approx \\ln\\left(\\frac{q S n_{i}}{2}\\right) + \\frac{qV}{2k_B T} $$\n$$ \\frac{\\mathrm{d}\\ln J}{\\mathrm{d}V} \\approx \\frac{q}{2k_B T} $$\nNow we substitute this into the definition of the ideality factor:\n$$ n = \\left[\\frac{q}{k_B T}\\right]\\left[\\frac{\\mathrm{d}\\ln J}{\\mathrm{d}V}\\right]^{-1} = \\left[\\frac{q}{k_B T}\\right]\\left[\\frac{q}{2k_B T}\\right]^{-1} = \\left(\\frac{q}{k_B T}\\right)\\left(\\frac{2k_B T}{q}\\right) = 2 $$\nIn the specified regime, the diode ideality factor is exactly $2$.", "answer": "$$\\boxed{2}$$", "id": "2816614"}]}