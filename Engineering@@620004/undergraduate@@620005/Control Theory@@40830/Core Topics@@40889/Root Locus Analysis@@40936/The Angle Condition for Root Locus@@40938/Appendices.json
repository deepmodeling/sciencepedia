{"hands_on_practices": [{"introduction": "The angle condition is the definitive test for whether a point in the complex $s$-plane can be a closed-loop pole for a given system. Before sketching a complete root locus, it is crucial to master the skill of verifying if a specific point of interest satisfies this condition. This exercise [@problem_id:1618286] provides a direct application of this principle, tasking you with calculating the net angle contribution from all open-loop poles and zeros to a candidate point to confirm or deny its place on the locus.", "problem": "In the analysis of a unity negative feedback control system, the open-loop transfer function is given by $L(s) = G(s)C(s)$, where $C(s) = K$ is a proportional controller with a variable gain $K > 0$. The plant is described by the transfer function $G(s) = \\frac{s+4}{s(s+2)}$.\n\nA student makes a conjecture that a part of the root locus for this system lies on the vertical line defined by $Re(s) = -1$. To test this conjecture, you are tasked with evaluating the angle condition at a specific point on this line.\n\nCalculate the angle of the open-loop transfer function, $\\angle L(s)$, at the complex frequency $s = -1 + j$. Express your answer in degrees, rounded to three significant figures.", "solution": "The open-loop transfer function is $L(s) = K \\frac{s+4}{s(s+2)}$ with $K>0$. The angle of $L(s)$ at $s=-1+j$ is the sum of the angles of the numerator terms minus the sum of the angles of the denominator terms. Since $K>0$, $\\angle K = 0$.\n\nTherefore,\n$$\n\\angle L(s) = \\arg(s+4) - \\arg(s) - \\arg(s+2)\\quad\\text{at }s=-1+j.\n$$\nEvaluate each argument:\n- $s+4 = (-1+j)+4 = 3+j$, so $\\arg(3+j) = \\arctan\\!\\left(\\frac{1}{3}\\right) \\approx 18.434948\\ \\text{degrees}$.\n- $s = -1+j$ lies in the second quadrant, so $\\arg(-1+j) = 180^\\circ - \\arctan(1) = 135\\ \\text{degrees}$.\n- $s+2 = (-1+j)+2 = 1+j$, so $\\arg(1+j) = \\arctan(1) = 45\\ \\text{degrees}$.\n\nThus,\n$$\n\\angle L(-1+j) \\approx 18.434948 - 135 - 45 = -161.565052\\ \\text{degrees}.\n$$\nRounded to three significant figures, this is $-162$ degrees.", "answer": "$$\\boxed{-162}$$", "id": "1618286"}, {"introduction": "Moving from verification to elementary design, we now use the angle condition as a creative tool. Instead of asking if a point lies on the locus, we demand that it does and solve for an unknown system parameter that makes it so. This practice [@problem_id:1618316] mirrors a common engineering scenario: modifying a system's characteristics to ensure the root locus passes through a desired point corresponding to a specific performance requirement.", "problem": "Consider a unity-gain negative feedback control system whose open-loop transfer function is given by\n$$G(s) = K \\frac{s+b}{s(s+a)}$$\nwhere $K$ is a variable positive gain, and $a$ and $b$ are positive real constants. The locations of the closed-loop poles of this system depend on the value of the gain $K$ and form a path in the complex plane known as the root locus.\n\nGiven that the open-loop zero is at $s = -4$ (i.e., $b=4$), determine the value of the parameter $a$ such that the point $s_1 = -2 + j2$ is a possible location for a closed-loop pole of the system. The parameter $a$ must be positive.", "solution": "For a unity negative feedback system, closed-loop poles satisfy the characteristic equation\n$$\n1 + G(s) = 0,\n$$\nwith the open-loop transfer function\n$$\nG(s) = K \\frac{s+4}{s(s+a)}.\n$$\nA point $s_{1}$ is a closed-loop pole if and only if $G(s_{1}) = -1/K$, which for $K>0$ is equivalent to the root-locus angle condition:\n$$\n\\arg\\!\\left(\\frac{s_{1}+4}{s_{1}(s_{1}+a)}\\right) = (2\\ell+1)\\pi,\\quad \\ell \\in \\mathbb{Z}.\n$$\n\nLet $s_{1} = -2 + j2$. Compute the known angles:\n$$\n\\arg(s_{1}+4) = \\arg(2 + j2) = \\arctan\\!\\left(\\frac{2}{2}\\right) = \\frac{\\pi}{4},\\quad\n\\arg(s_{1}) = \\arg(-2 + j2) = \\pi - \\arctan\\!\\left(\\frac{2}{2}\\right) = \\frac{3\\pi}{4}.\n$$\nWrite $\\arg(s_{1}+a) = \\theta_{a}$, where $s_{1}+a = (a-2) + j2$. The angle condition becomes\n$$\n\\arg(s_{1}+4) - \\arg(s_{1}) - \\arg(s_{1}+a)\n= \\frac{\\pi}{4} - \\frac{3\\pi}{4} - \\theta_{a}\n= -\\frac{\\pi}{2} - \\theta_{a}\n= (2\\ell+1)\\pi.\n$$\nChoosing $\\ell = -1$ gives $-\\frac{\\pi}{2} - \\theta_{a} = -\\pi$, which implies\n$$\n\\theta_{a} = \\frac{\\pi}{2}.\n$$\nTherefore $\\arg(s_{1}+a) = \\frac{\\pi}{2}$, which requires the real part of $s_1+a$ to be zero and the imaginary part to be positive. Since $s_{1}+a = (a-2) + j2$, this gives\n$$\na - 2 = 0 \\quad \\Longrightarrow \\quad a = 2.\n$$\nThe imaginary part $\\operatorname{Im}(s_{1}+a) = 2 > 0$ is satisfied.\n\nWe must also check that a positive gain $K$ exists. From the magnitude condition:\n$$\nK = \\left| -\\frac{s_{1}(s_{1}+a)}{s_{1}+4} \\right|\n= \\left| \\frac{(-2 + j2)\\,(j2)}{2 + j2} \\right|.\n$$\nCompute the numerator:\n$$\n(-2 + j2)(j2) = -j4 + j^{2}4 = -4 - j4,\n$$\nso\n$$\nK = \\left| \\frac{-4 - j4}{2 + j2} \\right| = \\frac{|-4 - j4|}{|2 + j2|} = \\frac{\\sqrt{16+16}}{\\sqrt{4+4}} = \\frac{\\sqrt{32}}{\\sqrt{8}} = \\sqrt{4} = 2.\n$$\nSince $K=2>0$, our solution is valid. Thus $a = 2$ yields a valid positive gain and makes $s_{1} = -2 + j2$ a closed-loop pole.\n\nAs a consistency check using the characteristic polynomial, the closed-loop equation is\n$$\ns(s+a) + K(s+4) = 0 \\quad \\Longrightarrow \\quad s^{2} + (a+K)s + 4K = 0.\n$$\nIf the poles are $-2 \\pm j2$, the monic polynomial is $(s - (-2+j2))(s - (-2-j2)) = (s+2)^2 - (j2)^2 = s^2+4s+4+4 = s^{2} + 4s + 8$. Comparing coefficients gives $a+K = 4$ and $4K = 8 \\Rightarrow K = 2$. Substituting $K=2$ into the first equation gives $a+2 = 4$, hence $a = 2$, agreeing with the result above.", "answer": "$$\\boxed{2}$$", "id": "1618316"}, {"introduction": "This final practice elevates the design process to a more abstract and powerful level by exploring the full range of possible controller configurations. Rather than finding a single compensator zero that meets a design specification, we will determine the entire set of possible solutions. By solving for the geometric locus of all valid zero locations [@problem_id:1618321], you will map out the complete \"design space,\" revealing the relationship between controller parameters and system performance in a visually intuitive way.", "problem": "A feedback control system is being designed for a simplified model of a robotic arm's rotational joint. The plant's open-loop transfer function is given by $G(s) = \\frac{1}{s(s+4)}$. To improve the transient response, a Proportional-Derivative (PD) controller is introduced in the forward path. The transfer function of this controller is $C(s) = K(s-s_z)$, where $K$ is a positive real gain and $s_z = \\sigma_z + j\\omega_z$ is the location of the controller's zero. It is desired that one of the poles of the resulting closed-loop system be located precisely at $s_d = -4+j4$ to meet specific performance requirements.\n\nDetermine the equation that describes the geometric locus of all possible locations for this compensator zero, $s_z$. Express your answer as an equation relating its real part, $\\sigma_z$, and its imaginary part, $\\omega_z$.", "solution": "The open-loop transfer function with the PD controller having a single zero at $s_{z}$ is\n$$\nL(s)=C(s)G(s)=\\frac{K(s-s_{z})}{s(s+4)}.\n$$\nFor the closed-loop system to have a pole at $s_{d}=-4+j4$, the root-locus angle condition must hold:\n$$\n\\arg\\left(L(s_d)\\right) = \\arg\\left(s_{d}-s_{z}\\right)-\\arg\\left(s_{d}\\right)-\\arg\\left(s_{d}+4\\right)=(2\\ell+1)\\pi,\\quad \\ell\\in\\mathbb{Z}.\n$$\nCompute the fixed angles contributed by the plant poles:\n- From the pole at $0$: $\\arg(s_{d})=\\arg(-4+j4)=\\frac{3\\pi}{4}$ (since the point lies in quadrant II).\n- From the pole at $-4$: $\\arg(s_{d}+4)=\\arg(j4)=\\frac{\\pi}{2}$.\n\nSubstituting these values into the angle condition:\n$$\n\\arg\\left(s_{d}-s_{z}\\right) - \\frac{3\\pi}{4} - \\frac{\\pi}{2} = (2\\ell+1)\\pi\n$$\n$$\n\\arg\\left(s_{d}-s_{z}\\right) - \\frac{5\\pi}{4} = (2\\ell+1)\\pi\n$$\nLet's choose $\\ell=-1$, which corresponds to the standard $-180^\\circ$ or $-\\pi$ requirement:\n$$\n\\arg\\left(s_{d}-s_{z}\\right) = \\frac{5\\pi}{4} - \\pi = \\frac{\\pi}{4}.\n$$\nLet $s_{z}=\\sigma_{z}+j\\omega_{z}$ and $s_{d}=\\sigma_{d}+j\\omega_{d}$ with $\\sigma_{d}=-4$ and $\\omega_{d}=4$. The vector $s_d - s_z$ is\n$$\ns_{d}-s_{z}=(\\sigma_{d}-\\sigma_{z})+j(\\omega_{d}-\\omega_{z}) = (-4-\\sigma_z) + j(4-\\omega_z).\n$$\nThe condition $\\arg(s_{d}-s_{z})=\\frac{\\pi}{4}$ implies that the real and imaginary parts of the vector are equal and positive:\n$$\n-4-\\sigma_z = 4-\\omega_z > 0.\n$$\nRewriting the equality gives the straight-line equation relating $\\sigma_{z}$ and $\\omega_{z}$:\n$$\n\\omega_z = 4 - (-4 - \\sigma_z) = \\sigma_z + 8.\n$$\n(Additionally, the ray condition $-4-\\sigma_{z}>0$ requires $\\sigma_{z}< -4$, which in turn means $\\omega_{z}<4$. This ensures the angle is $\\frac{\\pi}{4}$ and that the magnitude condition yields a positive $K$. However, the requested geometric locus is the line defined by the equation itself.)", "answer": "$$\\boxed{\\omega_{z}=\\sigma_{z}+8}$$", "id": "1618321"}]}