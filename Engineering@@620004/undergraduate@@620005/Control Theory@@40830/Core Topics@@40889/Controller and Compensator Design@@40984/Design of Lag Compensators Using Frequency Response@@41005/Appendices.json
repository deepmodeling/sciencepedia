{"hands_on_practices": [{"introduction": "The primary motivation for using a lag compensator is to improve a system's steady-state accuracy without significantly degrading its transient response. This is achieved by increasing the system's low-frequency gain, which in turn reduces the steady-state error. This first exercise [@problem_id:1569797] provides a fundamental connection between the compensator's magnitude response on a Bode plot and its key design parameter, $\\beta$. By solving it, you will gain a concrete understanding of how a lag compensator reshapes the system's open-loop gain.", "problem": "A control systems engineer is designing a feedback controller to improve the steady-state performance of a manufacturing process. The process is modeled by an open-loop transfer function $G(s)$ within a unity-feedback configuration. To enhance the system's accuracy, the engineer decides to introduce a lag compensator in series with the plant.\n\nThe transfer function of the chosen lag compensator is given by:\n$$ G_c(s) = \\frac{s+z_c}{s+p_c} $$\nwhere $z_c$ is the compensator zero and $p_c$ is the compensator pole, with the standard design constraint that $z_c > p_c > 0$.\n\nUpon analyzing the frequency response, the engineer compares the Bode magnitude plot of the original open-loop system, $G(s)$, with that of the compensated open-loop system, $G_c(s)G(s)$. The key observation is that the low-frequency horizontal asymptote of the compensated system's magnitude plot is exactly 20 decibels (dB) higher than the low-frequency horizontal asymptote of the original system's magnitude plot.\n\nA crucial parameter that characterizes the lag compensator is the ratio $\\beta$, defined as $\\beta = \\frac{z_c}{p_c}$. Based on the engineer's observation, determine the numerical value of this parameter $\\beta$.", "solution": "The lag compensator is $G_{c}(s) = \\frac{s+z_{c}}{s+p_{c}}$ with $z_{c} > p_{c} > 0$. Define $\\beta = \\frac{z_{c}}{p_{c}}$.\n\nEvaluate the compensator at low frequency by taking $s = j\\omega$ and letting $\\omega \\to 0$:\n$$\nG_{c}(0) = \\frac{0+z_{c}}{0+p_{c}} = \\frac{z_{c}}{p_{c}} = \\beta.\n$$\nThus, at low frequency,\n$$\n|G_{c}(j\\omega) G(j\\omega)| \\to \\beta\\, |G(j\\omega)|.\n$$\nIn decibels, magnitudes multiply additively:\n$$\n20 \\log_{10}\\!\\big(|G_{c}(j\\omega) G(j\\omega)|\\big) \\to 20 \\log_{10}(\\beta) + 20 \\log_{10}\\!\\big(|G(j\\omega)|\\big).\n$$\nTherefore, the increase in the low-frequency horizontal asymptote due to the compensator is\n$$\n\\Delta_{\\text{LF}} = 20 \\log_{10}(\\beta).\n$$\nGiven that this increase is exactly $20$, we have\n$$\n20 \\log_{10}(\\beta) = 20 \\quad \\Longrightarrow \\quad \\log_{10}(\\beta) = 1 \\quad \\Longrightarrow \\quad \\beta = 10^{1} = 10.\n$$\nThis satisfies $z_{c} > p_{c}$ since $\\beta > 1$.", "answer": "$$\\boxed{10}$$", "id": "1569797"}, {"introduction": "While a lag compensator beneficially boosts low-frequency gain, it also introduces an undesirable phase lag at higher frequencies. A careful designer must account for this effect, as it can erode the system's phase margin if the compensator's phase lag is significant near the new gain crossover frequency. This practice problem [@problem_id:1569765] delves into this crucial trade-off, asking you to reverse-engineer the safety margin a designer built into their calculations. This will reinforce your understanding of why a methodical approach, which anticipates the compensator's own dynamics, is essential for a successful design.", "problem": "In the design of a control system, a lag compensator is used to improve the steady-state error characteristic, while the design procedure ensures a desired phase margin is achieved. The standard design procedure using frequency response techniques involves several key steps. Consider a unity feedback system with an uncompensated open-loop transfer function $G(s)$. A designer aims to achieve a desired phase margin, $\\phi_{m,d}$, by introducing a lag compensator, $G_c(s)$.\n\nThe design process is as follows:\n1.  A target frequency for the new gain crossover, $\\omega_{gc,new}$, is selected. This frequency is chosen such that the phase of the uncompensated system, $\\angle G(j\\omega_{gc,new})$, satisfies the condition $\\angle G(j\\omega_{gc,new}) = -180^\\circ + \\phi_{m,d} + \\epsilon$. Here, $\\epsilon$ is a small, positive safety margin (in degrees) added to account for the negative phase shift that the lag compensator itself will introduce near the crossover frequency.\n2.  The magnitude of the uncompensated system at this frequency, $|G(j\\omega_{gc,new})|$, determines the required attenuation that must be provided by the lag compensator to shift the gain crossover frequency to $\\omega_{gc,new}$.\n\nA control engineer is tasked with this design for an uncompensated system given by the transfer function:\n$$G(s) = \\frac{20}{s(s+2)}$$\nThe desired phase margin for the final compensated system is $\\phi_{m,d} = 50^\\circ$. Following the procedure, the engineer determines that the required attenuation from the lag compensator at the chosen target frequency, $\\omega_{gc,new}$, is exactly 20 dB.\n\nBased on this information, calculate the safety margin $\\epsilon$, in degrees, that the engineer used in their design. Express your answer as a real number rounded to two significant figures.", "solution": "We are given the uncompensated plant $G(s) = \\frac{20}{s(s+2)}$ and that, at the chosen target frequency $\\omega_{gc,new}$, the required attenuation from the lag compensator is exactly 20 dB. This means that at $\\omega_{gc,new}$ the magnitude of the uncompensated plant is\n$$\n|G(j\\omega_{gc,new})| = 10 \\quad\\text{(since 20 dB corresponds to a factor of 10)}.\n$$\nFirst compute the magnitude of $G(j\\omega)$:\n$$\n|G(j\\omega)| = \\left|\\frac{20}{j\\omega(j\\omega+2)}\\right| = \\frac{20}{\\omega\\sqrt{\\omega^{2}+4}}.\n$$\nImposing $|G(j\\omega_{gc,new})| = 10$ gives\n$$\n\\frac{20}{\\omega\\sqrt{\\omega^{2}+4}} = 10 \\;\\;\\Longrightarrow\\;\\; \\omega\\sqrt{\\omega^{2}+4} = 2.\n$$\nSquaring and setting $x = \\omega^{2}$ yields\n$$\n\\omega^{4} + 4\\omega^{2} - 4 = 0 \\;\\;\\Longrightarrow\\;\\; x^{2} + 4x - 4 = 0,\n$$\nso\n$$\nx = \\omega^{2} = -2 + 2\\sqrt{2}, \\quad \\omega = \\sqrt{-2 + 2\\sqrt{2}}.\n$$\nNext, compute the phase of $G(j\\omega)$. For $\\omega>0$,\n$$\n\\angle G(j\\omega) = 0 - 90^{\\circ} - \\theta,\n$$\nwhere $\\theta$ is the angle of $2 + j\\omega$, i.e.\n$$\n\\theta = \\arctan\\!\\left(\\frac{\\omega}{2}\\right)\\cdot \\frac{180}{\\pi}.\n$$\nThus, at $\\omega_{gc,new}$,\n$$\n\\angle G(j\\omega_{gc,new}) = -90^{\\circ} - \\arctan\\!\\left(\\frac{\\omega_{gc,new}}{2}\\right)\\cdot \\frac{180}{\\pi}.\n$$\nThe design condition for selecting $\\omega_{gc,new}$ is\n$$\n\\angle G(j\\omega_{gc,new}) = -180^{\\circ} + \\phi_{m,d} + \\epsilon,\n$$\nso with $\\phi_{m,d} = 50^{\\circ}$,\n$$\n-90^{\\circ} - \\arctan\\!\\left(\\frac{\\omega_{gc,new}}{2}\\right)\\cdot \\frac{180}{\\pi} = -130^{\\circ} + \\epsilon,\n$$\nwhich gives\n$$\n\\epsilon = 40^{\\circ} - \\arctan\\!\\left(\\frac{\\omega_{gc,new}}{2}\\right)\\cdot \\frac{180}{\\pi}.\n$$\nUsing $\\omega_{gc,new} = \\sqrt{-2 + 2\\sqrt{2}}$, we evaluate numerically:\n$$\n\\omega_{gc,new} \\approx 0.910179721,\\quad \\frac{\\omega_{gc,new}}{2} \\approx 0.455089861,\n$$\n$$\n\\arctan\\!\\left(0.455089861\\right)\\cdot \\frac{180}{\\pi} \\approx 24.47^{\\circ},\n$$\nhence\n$$\n\\epsilon \\approx 40.00^{\\circ} - 24.47^{\\circ} = 15.53^{\\circ}.\n$$\nRounded to two significant figures, $\\epsilon \\approx 16$.", "answer": "$$\\boxed{16}$$", "id": "1569765"}, {"introduction": "A robust control system is one that performs reliably even when the physical plant parameters deviate from their nominal design values. This final exercise [@problem_id:1569830] moves from design theory to practical analysis, challenging you to assess the impact of an unexpected change in plant gain on a system's stability. You will calculate the resulting degradation in phase margin and identify a straightforward modification to the lag compensator to restore the system's performance, demonstrating a key principle of robust control engineering.", "problem": "A control systems engineer is working on a unity feedback system for a robotic arm. The nominal open-loop dynamics are described by the transfer function $G_{OL}(s) = G_c(s)G_p(s)$, where the plant is $G_p(s) = \\frac{K}{s(s+5)}$ with a nominal gain constant of $K=10$, and the lag compensator is $G_c(s) = \\frac{s+0.2}{s+0.04}$. This initial design achieves a satisfactory phase margin of $64.5^\\circ$.\n\nDuring testing, it is discovered that due to a manufacturing variance, the true gain constant of the plant is double its nominal value. The compensator $G_c(s)$ remains unchanged. This change adversely affects the system's stability margin.\n\nYour task is to analyze the impact of this parameter change and identify a corrective action. First, calculate the new phase margin of the system with the doubled plant gain. Second, determine which of the proposed modifications to the lag compensator would successfully restore the phase margin to its original value of $64.5^\\circ$.\n\nCalculate the new phase margin in degrees, and round your value to three significant figures. Based on your analysis, select the correct option from the choices below.\n\nA. The new phase margin is $53.6^\\circ$. The compensator should be modified to $G'_{c}(s) = 0.5 \\frac{s+0.2}{s+0.04}$.\n\nB. The new phase margin is $53.6^\\circ$. The compensator should be modified to $G'_{c}(s) = \\frac{s+0.1}{s+0.02}$.\n\nC. The new phase margin is $49.2^\\circ$. The compensator should be modified to $G'_{c}(s) = 0.5 \\frac{s+0.2}{s+0.04}$.\n\nD. The new phase margin is $49.2^\\circ$. The compensator should be modified to $G'_{c}(s) = \\frac{s+0.1}{s+0.02}$.\n\nE. The new phase margin is $53.6^\\circ$. No modification is needed as the phase margin is still acceptable.", "solution": "The unity-feedback phase margin is computed from the open-loop transfer function $L(s)=G_{c}(s)G_{p}(s)$ evaluated at the gain crossover frequency $\\omega_{gc}$, defined by $|L(j\\omega_{gc})|=1$. The phase margin is $\\mathrm{PM}=180+\\arg L(j\\omega_{gc})$ in degrees.\n\nWith $G_{p}(s)=\\frac{K}{s(s+5)}$ and $G_{c}(s)=\\frac{s+0.2}{s+0.04}$, and the doubled plant gain $K=20$, the magnitude of $L(j\\omega)$ is\n$$\n|L(j\\omega)|=\\frac{K}{\\omega\\sqrt{\\omega^{2}+25}}\\cdot\\frac{\\sqrt{\\omega^{2}+0.2^{2}}}{\\sqrt{\\omega^{2}+0.04^{2}}}.\n$$\nThe gain crossover condition $|L(j\\omega_{gc})|=1$ gives, after squaring and letting $x=\\omega_{gc}^{2}$,\n$$\nK^{2}\\frac{x+0.2^{2}}{x(x+0.04^{2})(x+25)}=1\n$$\nwhich rearranges to $K^{2}(x+0.04)=x(x+0.0016)(x+25)$. For $K=20$ (so $K^{2}=400$), this becomes\n$$\nx(x+0.0016)(x+25)-400(x+0.04)=0,\n$$\ni.e.\n$$\nx^{3}+25.0016\\,x^{2}-399.96\\,x-16=0.\n$$\nSolving numerically for the positive root yields $x\\approx 11.114$, hence\n$$\n\\omega_{gc}\\approx \\sqrt{11.114}\\approx 3.334.\n$$\nThe open-loop phase at $\\omega_{gc}$ is\n$$\n\\arg L(j\\omega_{gc})=\\arg G_{c}(j\\omega_{gc})+\\arg G_{p}(j\\omega_{gc}),\n$$\nwith\n$$\n\\arg G_{c}(j\\omega)=\\arctan\\!\\left(\\frac{\\omega}{0.2}\\right)-\\arctan\\!\\left(\\frac{\\omega}{0.04}\\right),\\quad\n\\arg G_{p}(j\\omega)=-90^\\circ-\\arctan\\!\\left(\\frac{\\omega}{5}\\right)\n$$\n(in degrees). Substituting $\\omega_{gc}\\approx 3.334$ gives\n$$\n\\arctan\\!\\left(\\frac{3.334}{0.2}\\right)\\approx 86.565^\\circ,\\quad\n\\arctan\\!\\left(\\frac{3.334}{0.04}\\right)\\approx 89.314^\\circ,\\quad\n\\arctan\\!\\left(\\frac{3.334}{5}\\right)\\approx 33.690^\\circ,\n$$\nso\n$$\n\\arg L(j\\omega_{gc})\\approx (86.565^\\circ-89.314^\\circ)+(-90^\\circ-33.690^\\circ)=-126.439^\\circ,\n$$\nand therefore the new phase margin is\n$$\n\\mathrm{PM}\\approx 180^\\circ-126.439^\\circ=53.561\\ \\text{degrees},\n$$\nwhich rounds to three significant figures as $53.6$ degrees.\n\nTo restore the original phase margin of $64.5$ degrees without changing $G_{p}(s)$, the open-loop magnitude profile at the original crossover must be restored. Multiplying the compensator by a constant factor of $\\frac{1}{2}$ yields\n$$\nG_{c}'(s)=\\frac{1}{2}\\frac{s+0.2}{s+0.04},\n$$\nso the new open-loop becomes\n$$\nL'(s)=G_{c}'(s)\\,G_{p,\\text{true}}(s)=\\left(\\frac{1}{2}\\frac{s+0.2}{s+0.04}\\right)\\left(\\frac{20}{s(s+5)}\\right)=\\frac{s+0.2}{s+0.04}\\cdot\\frac{10}{s(s+5)},\n$$\nwhich exactly matches the original nominal open-loop with $K=10$. Since the phase of a constant gain is zero, this modification restores both the gain crossover frequency and the phase margin to the original $64.5$ degrees. In contrast, shifting the lag pole and zero to $\\frac{s+0.1}{s+0.02}$ preserves the high-frequency magnitude (approximately unity) and does not counteract the doubled plant gain at the crossover, so it does not restore the phase margin.\n\nTherefore, the correct option is A: the new phase margin is $53.6$ degrees, and the compensator should be scaled by $0.5$ as $G'_{c}(s)=0.5\\frac{s+0.2}{s+0.04}$.", "answer": "$$\\boxed{A}$$", "id": "1569830"}]}