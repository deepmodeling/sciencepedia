{"hands_on_practices": [{"introduction": "Before designing a compensator, it is essential to first analyze the performance of the existing, or \"uncompensated,\" system. This practice [@problem_id:1570302] walks you through the fundamental process of evaluating a system's stability in the frequency domain. By calculating the gain crossover frequency and phase margin, you will establish a quantitative baseline that clarifies why compensation is needed and provides a benchmark for measuring improvement.", "problem": "Consider a simplified model for the open-loop transfer function of a position control system for a single-axis camera gimbal. This system describes the relationship between the motor input voltage and the resulting angular position of the camera. The transfer function, $G(s)$, is given by:\n$$G(s) = \\frac{K}{s(s+p)}$$\nFor this particular gimbal system, the parameters have been determined to be $K = 50$ and $p = 5$.\n\nBefore implementing a controller, it is essential to analyze the characteristics of the existing uncompensated system. Your task is to perform a preliminary frequency-domain analysis. Calculate the gain crossover frequency and the phase margin for this uncompensated system.\n\nExpress the gain crossover frequency in rad/s and the phase margin in degrees. The final answer should be a set of two numbers, with the gain crossover frequency listed first. Round both of your final answers to three significant figures.", "solution": "We consider the open-loop transfer function $G(s)=\\dfrac{K}{s(s+p)}$ with $K=50$ and $p=5$. The gain crossover frequency $\\omega_{gc}$ is defined by the condition $|G(j\\omega_{gc})|=1$, and the phase margin is computed from the phase of $G(j\\omega)$ at $\\omega=\\omega_{gc}$.\n\nFirst, compute the magnitude:\n$$\nG(j\\omega)=\\frac{K}{j\\omega\\,(j\\omega+p)} \\quad\\Rightarrow\\quad |G(j\\omega)|=\\frac{K}{|j\\omega|\\,|j\\omega+p|}=\\frac{K}{\\omega\\,\\sqrt{\\omega^{2}+p^{2}}}.\n$$\nThe gain crossover condition $|G(j\\omega_{gc})|=1$ gives\n$$\n\\frac{K}{\\omega_{gc}\\sqrt{\\omega_{gc}^{2}+p^{2}}}=1 \\;\\;\\Rightarrow\\;\\; \\omega_{gc}\\sqrt{\\omega_{gc}^{2}+p^{2}}=K.\n$$\nLet $x=\\omega_{gc}^{2}$. Then\n$$\nx(x+p^{2})=K^{2}\\;\\;\\Rightarrow\\;\\; x^{2}+p^{2}x-K^{2}=0,\n$$\nwhose positive root is\n$$\nx=\\frac{-p^{2}+\\sqrt{p^{4}+4K^{2}}}{2}.\n$$\nTherefore,\n$$\n\\omega_{gc}=\\sqrt{\\frac{-p^{2}+\\sqrt{p^{4}+4K^{2}}}{2}}.\n$$\nSubstituting $K=50$ and $p=5$,\n$$\n\\sqrt{p^{4}+4K^{2}}=\\sqrt{625+10000}=25\\sqrt{17},\n$$\nso\n$$\n\\omega_{gc}=\\sqrt{\\frac{-25+25\\sqrt{17}}{2}}=5\\,\\sqrt{\\frac{-1+\\sqrt{17}}{2}}.\n$$\nNumerically, this yields $\\omega_{gc}\\approx 6.25$ (rad/s) to three significant figures.\n\nNext, compute the phase. For $\\omega>0$,\n$$\n\\angle G(j\\omega)= -\\left(\\frac{\\pi}{2}+\\arctan\\left(\\frac{\\omega}{p}\\right)\\right).\n$$\nThe phase margin is\n$$\n\\text{PM}=\\pi+\\angle G(j\\omega_{gc})=\\pi-\\left(\\frac{\\pi}{2}+\\arctan\\left(\\frac{\\omega_{gc}}{p}\\right)\\right)=\\frac{\\pi}{2}-\\arctan\\left(\\frac{\\omega_{gc}}{p}\\right).\n$$\nUsing the expression above,\n$$\n\\frac{\\omega_{gc}}{p}=\\sqrt{\\frac{-1+\\sqrt{17}}{2}},\n$$\nso\n$$\n\\text{PM}=\\frac{\\pi}{2}-\\arctan\\left(\\sqrt{\\frac{-1+\\sqrt{17}}{2}}\\right) \\quad\\text{(radians)}.\n$$\nConverting to degrees,\n$$\n\\text{PM}_{\\text{deg}}=\\left(\\frac{\\pi}{2}-\\arctan\\left(\\sqrt{\\frac{-1+\\sqrt{17}}{2}}\\right)\\right)\\frac{180}{\\pi}\\approx 38.7 \\;\\text{degrees},\n$$\nrounded to three significant figures.\n\nThus, the gain crossover frequency and phase margin (in the requested order) are approximately $6.25$ and $38.7$.", "answer": "$$\\boxed{\\begin{pmatrix} 6.25 & 38.7 \\end{pmatrix}}$$", "id": "1570302"}, {"introduction": "Once we have analyzed the uncompensated system, the next logical step is to determine precisely what our compensator must achieve. This exercise [@problem_id:1570278] bridges the gap between design specifications and the compensator's properties. You will learn to calculate the required phase lead needed to meet a target phase margin, a critical skill for translating system requirements into concrete design parameters.", "problem": "Consider a unity feedback control system where the uncompensated open-loop plant is described by the transfer function:\n$$G_p(s) = \\frac{A}{s(s+2)}$$\nwhere $A$ is a positive real gain constant. A lead compensator, $G_c(s)$, is to be designed for this system. The design specifications require the final compensated system, $G_c(s)G_p(s)$, to have a gain crossover frequency at $\\omega_{gc} = 4 \\text{ rad/s}$ and a phase margin of at least $50^\\circ$. For robustness, the design of the lead compensator should incorporate a safety margin by providing $10^\\circ$ more phase than the minimum required to meet the phase margin specification at the target crossover frequency.\n\nCalculate the total phase lead, $\\phi_{lead}$, that the compensator must provide at $\\omega = 4 \\text{ rad/s}$. Express your answer in degrees, rounded to three significant figures.", "solution": "The goal is to determine the required phase lead, $\\phi_{lead}$, from a lead compensator at a specified frequency to meet a desired phase margin.\n\nThe phase of the overall compensated system at the gain crossover frequency $\\omega_{gc}$ is given by $\\angle G_c(j\\omega_{gc})G_p(j\\omega_{gc})$. The phase margin ($PM$) is defined as $PM = 180^\\circ + \\angle G_c(j\\omega_{gc})G_p(j\\omega_{gc})$.\n\nWe are given:\n- Desired phase margin, $PM_{des} = 50^\\circ$.\n- Target gain crossover frequency, $\\omega_{gc} = 4 \\text{ rad/s}$.\n- Safety margin for phase, $10^\\circ$.\n- Uncompensated plant transfer function, $G_p(s) = \\frac{A}{s(s+2)}$.\n\nThe required phase of the compensated system at $\\omega_{gc}$ to achieve the desired phase margin is:\n$\\angle G_c(j\\omega_{gc})G_p(j\\omega_{gc}) = PM_{des} - 180^\\circ = 50^\\circ - 180^\\circ = -130^\\circ$.\n\nThe phase of the compensated system is the sum of the phases of the compensator and the plant:\n$\\angle G_c(j\\omega_{gc})G_p(j\\omega_{gc}) = \\angle G_c(j\\omega_{gc}) + \\angle G_p(j\\omega_{gc})$.\nThe term $\\angle G_c(j\\omega_{gc})$ is the phase lead that the compensator must provide, which we are calling $\\phi_{lead}$.\nSo, $\\phi_{lead} + \\angle G_p(j\\omega_{gc}) = -130^\\circ$.\nThis means the minimum required phase lead is $\\phi_{needed} = -130^\\circ - \\angle G_p(j\\omega_{gc})$.\n\nFirst, we must calculate the phase of the uncompensated plant, $\\angle G_p(j\\omega_{gc})$, at the target frequency $\\omega_{gc} = 4 \\text{ rad/s}$.\nWe substitute $s = j\\omega_{gc} = j4$ into the plant transfer function $G_p(s)$. The gain $A$ is a positive real number, so its phase is $0^\\circ$ and does not contribute to the angle calculation.\n$$\n\\angle G_p(j4) = \\angle \\left( \\frac{A}{j4(j4+2)} \\right) = \\angle(A) - \\angle(j4) - \\angle(2+j4)\n$$\nWe have:\n- $\\angle(A) = 0^\\circ$\n- $\\angle(j4) = 90^\\circ$ (the angle of a positive imaginary number)\n- $\\angle(2+j4) = \\arctan\\left(\\frac{4}{2}\\right) = \\arctan(2)$\n\nUsing a calculator for the arctangent:\n$$\n\\arctan(2) \\approx 63.435^\\circ\n$$\nNow, we can find the total phase of the uncompensated plant at this frequency:\n$$\n\\angle G_p(j4) = 0^\\circ - 90^\\circ - 63.435^\\circ = -153.435^\\circ\n$$\n\nThe phase margin of the uncompensated plant at this frequency would be $180^\\circ + \\angle G_p(j4) = 180^\\circ - 153.435^\\circ = 26.565^\\circ$.\nThe desired phase margin is $50^\\circ$. The minimum phase boost needed from the compensator is the difference between the desired phase margin and the plant's current phase margin at that frequency.\n$$\n\\phi_{needed} = PM_{des} - (180^\\circ + \\angle G_p(j4)) = 50^\\circ - 26.565^\\circ = 23.435^\\circ\n$$\n\nAlternatively, using the equation derived earlier:\n$$\n\\phi_{needed} = -130^\\circ - \\angle G_p(j\\omega_{gc}) = -130^\\circ - (-153.435^\\circ) = 23.435^\\circ\n$$\n\nThe problem states that a safety margin of $10^\\circ$ must be included. Therefore, the total phase lead the compensator must be designed to provide is:\n$$\n\\phi_{lead} = \\phi_{needed} + \\text{safety margin}\n$$\n$$\n\\phi_{lead} = 23.435^\\circ + 10^\\circ = 33.435^\\circ\n$$\n\nFinally, we round the answer to three significant figures as requested.\n$$\n\\phi_{lead} \\approx 33.4^\\circ\n$$", "answer": "$$\\boxed{33.4}$$", "id": "1570278"}, {"introduction": "After quantifying the necessary phase lead, the final step is to design the compensator itself. The amount of phase boost a lead compensator can provide is not infinite; it has a maximum value, $\\phi_{max}$, which is directly governed by the parameter $\\alpha$ ($0  \\alpha  1$). This an essential problem [@problem_id:1570311] that explores the core relationship between the compensator's structure and its capability, allowing you to select the parameter $\\alpha$ that will deliver the required performance.", "problem": "In the design of a control system, a lead compensator is often used to improve the system's phase margin and transient response. Consider a first-order lead compensator with the following transfer function:\n$$G_c(s) = K_c \\frac{s + 1/T}{s + 1/(\\alpha T)}$$\nwhere $K_c$ is the compensator gain, $T$ is a time constant, and $\\alpha$ is a parameter that determines the separation between the pole and zero, with $0  \\alpha  1$. This transfer function is commonly written in the form:\n$$G_c(s) = K_c \\alpha \\frac{Ts+1}{\\alpha Ts+1}$$\nFor a specific application, the lead compensator must be designed to provide a maximum phase lead of $45^\\circ$. Determine the required value of the parameter $\\alpha$ to achieve this specification. The answer should be a closed-form analytic expression.", "solution": "The lead compensator is given by $G_{c}(s) = K_{c}\\alpha \\dfrac{Ts+1}{\\alpha Ts+1}$. The phase contribution of $G_{c}(j\\omega)$ is the difference of the phase angles of the zero and the pole:\n$$\n\\phi(\\omega) = \\arctan(\\omega T) - \\arctan(\\omega \\alpha T).\n$$\nTo find the maximum phase lead, differentiate $\\phi(\\omega)$ with respect to $\\omega$ and set the derivative to zero. Using $\\dfrac{d}{d\\omega}\\arctan(u(\\omega)) = \\dfrac{u'(\\omega)}{1+u(\\omega)^{2}}$, we obtain\n$$\n\\frac{d\\phi}{d\\omega} = \\frac{T}{1+(\\omega T)^{2}} - \\frac{\\alpha T}{1+(\\omega \\alpha T)^{2}} = 0.\n$$\nMultiplying through by the denominators and simplifying:\n$$\nT\\bigl(1+(\\omega \\alpha T)^{2}\\bigr) - \\alpha T\\bigl(1+(\\omega T)^{2}\\bigr) = 0,\n$$\n$$\n(1-\\alpha) + (\\omega T)^{2}(\\alpha^{2} - \\alpha) = 0,\n$$\n$$\n(1-\\alpha)\\bigl[1 - \\alpha(\\omega T)^{2}\\bigr] = 0.\n$$\nSince $0\\alpha1$, we have $1-\\alpha \\neq 0$, hence the maximizing frequency satisfies\n$$\n\\omega T = \\frac{1}{\\sqrt{\\alpha}}.\n$$\nEvaluating the phase at this frequency,\n$$\n\\phi_{\\max} = \\arctan\\left(\\frac{1}{\\sqrt{\\alpha}}\\right) - \\arctan\\left(\\sqrt{\\alpha}\\right).\n$$\nUsing the tangent subtraction identity,\n$$\n\\tan(\\phi_{\\max}) = \\frac{\\tan\\left(\\arctan\\left(\\frac{1}{\\sqrt{\\alpha}}\\right)\\right) - \\tan\\left(\\arctan\\left(\\sqrt{\\alpha}\\right)\\right)}{1 + \\tan\\left(\\arctan\\left(\\frac{1}{\\sqrt{\\alpha}}\\right)\\right)\\tan\\left(\\arctan\\left(\\sqrt{\\alpha}\\right)\\right)} = \\frac{\\frac{1}{\\sqrt{\\alpha}} - \\sqrt{\\alpha}}{1 + 1} = \\frac{1-\\alpha}{2\\sqrt{\\alpha}}.\n$$\nThen\n$$\n\\sin(\\phi_{\\max}) = \\frac{\\tan(\\phi_{\\max})}{\\sqrt{1+\\tan^{2}(\\phi_{\\max})}} = \\frac{\\frac{1-\\alpha}{2\\sqrt{\\alpha}}}{\\sqrt{1 + \\frac{(1-\\alpha)^{2}}{4\\alpha}}} = \\frac{1-\\alpha}{1+\\alpha}.\n$$\nFor a required maximum phase lead of $45$ degrees, we set $\\phi_{\\max} = \\frac{\\pi}{4}$, so\n$$\n\\frac{1-\\alpha}{1+\\alpha} = \\sin\\left(\\frac{\\pi}{4}\\right) = \\frac{\\sqrt{2}}{2}.\n$$\nSolving for $\\alpha$,\n$$\n1 - \\alpha = \\frac{\\sqrt{2}}{2}(1 + \\alpha),\n$$\n$$\n(1 - \\frac{\\sqrt{2}}{2}) = \\alpha\\left(1 + \\frac{\\sqrt{2}}{2}\\right),\n$$\n$$\n\\alpha = \\frac{1 - \\frac{\\sqrt{2}}{2}}{1 + \\frac{\\sqrt{2}}{2}} = \\frac{2 - \\sqrt{2}}{2 + \\sqrt{2}} = 3 - 2\\sqrt{2}.\n$$\nThis satisfies $0  \\alpha  1$ as required for a lead compensator.", "answer": "$$\\boxed{3 - 2\\sqrt{2}}$$", "id": "1570311"}]}