{"hands_on_practices": [{"introduction": "Understanding complex systems often begins by analyzing their components in simplified scenarios. This first practice isolates the electrical dynamics of a DC motor by considering a \"stalled rotor\" condition. By eliminating mechanical motion and the associated back-Electromotive Force (back-EMF), we can derive the fundamental transfer function for the armature circuit, providing a crucial building block for more complete models [@problem_id:1592689].", "problem": "A robotic manipulator uses a Direct Current (DC) motor to actuate its gripper. In a specific operation, the gripper is required to hold an object securely, which involves the motor exerting a constant holding torque while its rotor remains completely stationary. This condition is known as a stalled rotor.\n\nThe electrical subsystem of the DC motor's armature can be modeled as a series circuit. This circuit includes an armature resistance, denoted by $R_a$, and an armature inductance, denoted by $L_a$. Additionally, a back Electromotive Force (EMF), denoted by $V_b(t)$, is generated, which is directly proportional to the angular velocity of the motor's rotor. The circuit is driven by an input voltage $V(t)$, resulting in an armature current $I_a(t)$.\n\nFor the stalled rotor condition described, determine the transfer function $G(s) = \\frac{I_a(s)}{V(s)}$, which relates the Laplace transform of the armature current, $I_a(s)$, to the Laplace transform of the input armature voltage, $V(s)$. Express your answer as a closed-form analytic expression in terms of $R_a$ and $L_a$.", "solution": "The armature circuit consists of a series resistance and inductance with a back EMF source proportional to rotor speed. Applying Kirchhoff’s voltage law to the armature loop gives\n$$\nV(t)=R_{a} I_{a}(t)+L_{a} \\frac{d I_{a}(t)}{d t}+V_{b}(t).\n$$\nThe back EMF is proportional to angular velocity, $V_{b}(t)=K_{e}\\,\\omega(t)$. Under the stalled rotor condition, the angular velocity is zero for all time, $\\omega(t)=0$, hence\n$$\nV_{b}(t)=0.\n$$\nTherefore, the governing differential equation reduces to\n$$\nV(t)=R_{a} I_{a}(t)+L_{a} \\frac{d I_{a}(t)}{d t}.\n$$\nTaking the Laplace transform under zero initial conditions yields\n$$\nV(s)=R_{a} I_{a}(s)+L_{a} s\\, I_{a}(s).\n$$\nSolving for the transfer function $G(s)=\\frac{I_{a}(s)}{V(s)}$,\n$$\nG(s)=\\frac{I_{a}(s)}{V(s)}=\\frac{1}{R_{a}+L_{a} s}.\n$$\nThis is the impedance of a series $R$–$L$ circuit inverted, reflecting the absence of back EMF when the rotor is stalled.", "answer": "$$\\boxed{\\frac{1}{L_{a} s+R_{a}}}$$", "id": "1592689"}, {"introduction": "Having modeled the purely electrical subsystem, we now integrate mechanical motion to create a complete electromechanical model. This exercise uses a voice coil actuator to demonstrate how to build a state-space representation, a powerful framework for analyzing systems with multiple interacting energy domains. You will apply both Newton's second law and Kirchhoff's voltage law to describe the system's full behavior in a unified matrix format [@problem_id:1592686].", "problem": "A voice coil actuator is a common electromechanical device used for high-precision linear positioning. A simplified model of such an actuator, like one used to position the read/write head in a hard disk drive, consists of an electrical subsystem (the coil) and a mechanical subsystem (the moving mass).\n\nThe electrical subsystem is a circuit with a resistor of resistance $R$ and an inductor of inductance $L$ in series. When the coil moves with velocity $v(t)$, it generates a back electromotive force (back-EMF) given by $v_{emf}(t) = K_e v(t)$, which opposes the applied voltage. The mechanical subsystem consists of a mass $m$ subject to viscous damping with coefficient $b$. The force generated by the coil is proportional to the current flowing through it, given by $F_{mag}(t) = K_f i(t)$. For this particular actuator, the back-EMF constant $K_e$ and the force constant $K_f$ are identical, so we can define a single motor constant $K = K_e = K_f$.\n\nThe system's dynamics are to be described using a state-space model. The input to the system is the voltage applied across the coil, defined as $u(t) = v_{in}(t)$. The state variables are chosen to represent the physical state of the system. Let the state vector be $\\mathbf{x}(t) = \\begin{bmatrix} x(t) \\\\ v(t) \\\\ i(t) \\end{bmatrix}$, where $x(t)$ is the position of the mass, $v(t) = \\dot{x}(t)$ is its velocity, and $i(t)$ is the current in the coil. The output of the system is the position of the mass, $y(t) = x(t)$.\n\nYour task is to determine the state-space representation of this system in the standard form:\n$$\n\\dot{\\mathbf{x}}(t) = A\\mathbf{x}(t) + B u(t)\n$$\n$$\ny(t) = C\\mathbf{x}(t) + D u(t)\n$$\nBased on your derivation, provide the exact symbolic expression for the state matrix $A$.", "solution": "We define the state vector as $\\mathbf{x}(t) = \\begin{bmatrix} x(t) \\\\ v(t) \\\\ i(t) \\end{bmatrix}$, with input $u(t) = v_{in}(t)$ and output $y(t) = x(t)$. By definition of velocity, the first state equation is\n$$\n\\dot{x}(t) = v(t).\n$$\nFor the mechanical subsystem, applying Newton’s second law with viscous damping and electromagnetic force gives\n$$\nm \\dot{v}(t) = -b v(t) + K i(t),\n$$\nwhich can be written as\n$$\n\\dot{v}(t) = -\\frac{b}{m} v(t) + \\frac{K}{m} i(t).\n$$\nFor the electrical subsystem, applying Kirchhoff’s voltage law to the series $R$–$L$ circuit with back-EMF opposing the applied voltage gives\n$$\nu(t) = L \\dot{i}(t) + R i(t) + v_{emf}(t),\n$$\nand with $v_{emf}(t) = K v(t)$, we obtain\n$$\n\\dot{i}(t) = -\\frac{R}{L} i(t) - \\frac{K}{L} v(t) + \\frac{1}{L} u(t).\n$$\nCollecting the state equations in the standard form $\\dot{\\mathbf{x}}(t) = A \\mathbf{x}(t) + B u(t)$ yields\n$$\n\\begin{bmatrix}\n\\dot{x}(t) \\\\ \\dot{v}(t) \\\\ \\dot{i}(t)\n\\end{bmatrix}\n=\n\\underbrace{\n\\begin{bmatrix}\n0 & 1 & 0 \\\\\n0 & -\\frac{b}{m} & \\frac{K}{m} \\\\\n0 & -\\frac{K}{L} & -\\frac{R}{L}\n\\end{bmatrix}\n}_{A}\n\\begin{bmatrix}\nx(t) \\\\ v(t) \\\\ i(t)\n\\end{bmatrix}\n+\n\\underbrace{\n\\begin{bmatrix}\n0 \\\\ 0 \\\\ \\frac{1}{L}\n\\end{bmatrix}\n}_{B}\nu(t),\n$$\nwith output equation $y(t) = \\begin{bmatrix} 1 & 0 & 0 \\end{bmatrix} \\mathbf{x}(t)$ and $D = 0$. Therefore, the exact symbolic expression for the state matrix $A$ is as shown.", "answer": "$$\\boxed{\\begin{pmatrix}\n0 & 1 & 0 \\\\\n0 & -\\frac{b}{m} & \\frac{K}{m} \\\\\n0 & -\\frac{K}{L} & -\\frac{R}{L}\n\\end{pmatrix}}$$", "id": "1592686"}, {"introduction": "Our final practice shifts from motors to generators, exploring the conversion of mechanical power into electrical power. Here, your task is to derive the overall system transfer function relating the input mechanical torque, $T_m(s)$, to the output load current, $I(s)$ [@problem_id:1592691]. This problem will challenge you to combine the mechanical and electrical equations in the Laplace domain and algebraically solve for a single input-output relationship, a cornerstone skill in classical control systems analysis.", "problem": "A small-scale energy harvesting system uses a Direct Current (DC) generator to convert mechanical power into electrical power. The generator is driven by an external mechanical torque, $T_m(t)$. The rotating part of the generator has a moment of inertia $J$ and experiences viscous friction characterized by a damping coefficient $b$.\n\nThe generator produces an internal voltage $V_g(t)$ that is directly proportional to its angular velocity $\\omega(t)$, according to the relation $V_g(t) = K_v \\omega(t)$, where $K_v$ is the voltage constant. The armature circuit of the generator has an internal resistance $R_a$ and an inductance $L_a$. This generator is connected to a purely resistive external load with resistance $R_L$. The current flowing through the armature and the load is denoted by $I(t)$.\n\nAs current flows, the generator produces an electromagnetic counter-torque, $T_e(t)$, which opposes the driving torque. This counter-torque is proportional to the armature current, given by $T_e(t) = K_t I(t)$, where $K_t$ is the torque constant. For this particular generator, the torque constant and voltage constant are numerically equal in SI units, so you can assume $K_t = K_v = K$.\n\nAssuming the system is initially at rest and all initial conditions are zero, derive the transfer function $G(s) = \\frac{I(s)}{T_m(s)}$, which relates the Laplace transform of the output current, $I(s)$, to the Laplace transform of the input torque, $T_m(s)$. Express your answer in terms of $K, J, b, L_a, R_a$, and $R_L$.", "solution": "To derive the transfer function $G(s) = \\frac{I(s)}{T_m(s)}$, we must first establish the governing differential equations for both the mechanical and electrical subsystems of the DC generator.\n\nFirst, we analyze the mechanical subsystem. We apply Newton's second law for rotation to the generator's rotor. The sum of the torques acting on the rotor is equal to its moment of inertia $J$ multiplied by its angular acceleration $\\frac{d\\omega(t)}{dt}$. The torques involved are the input torque $T_m(t)$, the opposing viscous friction torque $b\\omega(t)$, and the opposing electromagnetic counter-torque $T_e(t)$.\n\n$$ \\sum T = T_m(t) - b\\omega(t) - T_e(t) = J \\frac{d\\omega(t)}{dt} $$\n\nWe are given that $T_e(t) = K_t I(t)$. Using the problem's convention that $K_t = K$, the mechanical equation becomes:\n\n$$ T_m(t) - b\\omega(t) - K I(t) = J \\frac{d\\omega(t)}{dt} $$\n\nNext, we analyze the electrical subsystem. We apply Kirchhoff's Voltage Law (KVL) to the armature circuit loop. The loop consists of the generated voltage source $V_g(t)$, the voltage drop across the armature inductance $L_a$, the voltage drop across the armature resistance $R_a$, and the voltage drop across the load resistance $R_L$. The total resistance in the circuit is $R_{tot} = R_a + R_L$.\n\n$$ V_g(t) - L_a \\frac{dI(t)}{dt} - I(t)R_a - I(t)R_L = 0 $$\n\nWe are given that $V_g(t) = K_v \\omega(t)$. Using the problem's convention that $K_v = K$, we can write:\n\n$$ K\\omega(t) - L_a \\frac{dI(t)}{dt} - I(t)(R_a + R_L) = 0 $$\n\nNow, we have a system of two coupled linear ordinary differential equations. To find the transfer function, we take the Laplace transform of both equations. We assume all initial conditions are zero, which simplifies the transform of the derivatives (i.e., $\\mathcal{L}\\{\\frac{df}{dt}\\} = sF(s)$). Let $T_m(s)$, $\\Omega(s)$, and $I(s)$ be the Laplace transforms of $T_m(t)$, $\\omega(t)$, and $I(t)$, respectively.\n\nThe transformed mechanical equation is:\n$$ T_m(s) - b\\Omega(s) - K I(s) = J s\\Omega(s) $$\n\nThe transformed electrical equation is:\n$$ K\\Omega(s) - L_a s I(s) - I(s)(R_a + R_L) = 0 $$\n\nOur goal is to find the relationship between $I(s)$ and $T_m(s)$, so we must eliminate the intermediate variable $\\Omega(s)$. Let's rearrange the electrical equation to solve for $\\Omega(s)$:\n\n$$ K\\Omega(s) = I(s)(L_a s + R_a + R_L) $$\n$$ \\Omega(s) = \\frac{L_a s + R_a + R_L}{K} I(s) $$\n\nNext, we rearrange the mechanical equation to isolate the terms involving $\\Omega(s)$:\n\n$$ T_m(s) - K I(s) = (J s + b) \\Omega(s) $$\n\nNow, we substitute the expression for $\\Omega(s)$ from the electrical equation into the rearranged mechanical equation:\n\n$$ T_m(s) - K I(s) = (J s + b) \\left( \\frac{L_a s + R_a + R_L}{K} \\right) I(s) $$\n\nTo solve for the ratio $\\frac{I(s)}{T_m(s)}$, we first move all terms with $I(s)$ to one side:\n\n$$ T_m(s) = (J s + b) \\left( \\frac{L_a s + R_a + R_L}{K} \\right) I(s) + K I(s) $$\n\nFactor out $I(s)$:\n\n$$ T_m(s) = \\left[ \\frac{(J s + b)(L_a s + R_a + R_L)}{K} + K \\right] I(s) $$\n\nTo simplify the expression in the brackets, we find a common denominator, which is $K$:\n\n$$ T_m(s) = \\left[ \\frac{(J s + b)(L_a s + R_a + R_L) + K^2}{K} \\right] I(s) $$\n\nFinally, we can write the transfer function $G(s) = \\frac{I(s)}{T_m(s)}$:\n\n$$ G(s) = \\frac{I(s)}{T_m(s)} = \\frac{K}{(J s + b)(L_a s + R_a + R_L) + K^2} $$\n\nFor a standard transfer function representation, we expand the denominator polynomial:\n$$ (J s + b)(L_a s + R_a + R_L) + K^2 = J L_a s^2 + J(R_a + R_L)s + b L_a s + b(R_a + R_L) + K^2 $$\n$$ = J L_a s^2 + (J(R_a + R_L) + b L_a)s + b(R_a + R_L) + K^2 $$\n\nSo, the final expression for the transfer function is:\n$$ G(s) = \\frac{K}{J L_a s^2 + (J(R_a + R_L) + b L_a)s + b(R_a + R_L) + K^2} $$", "answer": "$$\\boxed{\\frac{K}{J L_a s^2 + (J(R_a + R_L) + b L_a)s + b(R_a + R_L) + K^2}}$$", "id": "1592691"}]}