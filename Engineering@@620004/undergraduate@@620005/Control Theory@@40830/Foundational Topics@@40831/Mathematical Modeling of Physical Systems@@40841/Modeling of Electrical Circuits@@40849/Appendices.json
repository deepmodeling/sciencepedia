{"hands_on_practices": [{"introduction": "The first step in mastering circuit modeling is to translate a physical circuit schematic into a mathematical equation that governs its behavior. This practice exercise [@problem_id:1592511] grounds this fundamental skill in a modern application: a simplified piezoelectric energy harvester. By applying Kirchhoff's Current Law to this parallel RC circuit, you will derive and solve a first-order differential equation to find the voltage across the load, which provides a complete picture of the system's dynamic response to a sinusoidal input current.", "problem": "A simplified model for a piezoelectric energy harvester is used to power a wireless sensor node. The harvester converts ambient mechanical vibrations into electrical energy. The circuit can be modeled as an ideal current source, $I_s(t)$, in parallel with the piezoelectric material's internal capacitance, $C_p$, and the sensor's load resistance, $R_L$.\n\nThe mechanical vibrations are steady and sinusoidal, resulting in a current given by $I_s(t) = I_0 \\cos(\\omega t)$ for time $t \\ge 0$, where $I_0$ is the current amplitude and $\\omega$ is the angular frequency of the vibrations. Before the vibrations start at $t=0$, the system is at rest, and the capacitor is fully discharged.\n\nDerive an expression for the voltage $V_L(t)$ across the load resistor for $t \\ge 0$. Your answer should be a single closed-form analytic expression in terms of $t$, $I_0$, $\\omega$, $C_p$, and $R_L$.", "solution": "Model the node across $R_{L}$ and $C_{p}$ by applying Kirchhoff's current law with the convention that currents through the passive elements leave the node while the source injects current into the node. The node voltage equals the load voltage $V_{L}(t)$. The KCL equation is\n$$I_{s}(t)=\\frac{V_{L}(t)}{R_{L}}+C_{p}\\frac{dV_{L}(t)}{dt}.$$\nWith $I_{s}(t)=I_{0}\\cos(\\omega t)$ and the initial condition $V_{L}(0)=0$ (capacitor initially uncharged), this becomes the linear first-order ODE\n$$C_{p}\\frac{dV_{L}}{dt}+\\frac{1}{R_{L}}V_{L}=I_{0}\\cos(\\omega t).$$\nDefine the time constant $\\tau=R_{L}C_{p}$ to write\n$$\\frac{dV_{L}}{dt}+\\frac{1}{\\tau}V_{L}=\\frac{I_{0}}{C_{p}}\\cos(\\omega t).$$\nSolve by superposition. The homogeneous solution satisfies\n$$\\frac{dV_{h}}{dt}+\\frac{1}{\\tau}V_{h}=0\\quad\\Rightarrow\\quad V_{h}(t)=K\\exp\\!\\left(-\\frac{t}{\\tau}\\right).$$\nSeek a particular solution of the form $V_{p}(t)=A\\cos(\\omega t)+B\\sin(\\omega t)$. Then\n$$\\frac{dV_{p}}{dt}=-A\\omega\\sin(\\omega t)+B\\omega\\cos(\\omega t),$$\nand substituting into the ODE gives\n$$\\bigl(B\\omega+\\frac{A}{\\tau}\\bigr)\\cos(\\omega t)+\\bigl(-A\\omega+\\frac{B}{\\tau}\\bigr)\\sin(\\omega t)=\\frac{I_{0}}{C_{p}}\\cos(\\omega t).$$\nEquating coefficients yields the system\n$$B\\omega+\\frac{A}{\\tau}=\\frac{I_{0}}{C_{p}},\\qquad -A\\omega+\\frac{B}{\\tau}=0.$$\nFrom the second equation $B=A\\omega\\tau$. Substituting into the first gives\n$$A\\omega^{2}\\tau+\\frac{A}{\\tau}=\\frac{I_{0}}{C_{p}}\\;\\Rightarrow\\;A\\frac{1+\\omega^{2}\\tau^{2}}{\\tau}=\\frac{I_{0}}{C_{p}}\\;\\Rightarrow\\;A=\\frac{I_{0}}{C_{p}}\\frac{\\tau}{1+\\omega^{2}\\tau^{2}},$$\nand\n$$B=A\\omega\\tau=\\frac{I_{0}}{C_{p}}\\frac{\\omega\\tau^{2}}{1+\\omega^{2}\\tau^{2}}.$$\nThus the general solution is\n$$V_{L}(t)=K\\exp\\!\\left(-\\frac{t}{\\tau}\\right)+A\\cos(\\omega t)+B\\sin(\\omega t).$$\nApply the initial condition $V_{L}(0)=0$:\n$$0=K+A\\quad\\Rightarrow\\quad K=-A.$$\nTherefore,\n$$V_{L}(t)=-A\\exp\\!\\left(-\\frac{t}{\\tau}\\right)+A\\cos(\\omega t)+B\\sin(\\omega t).$$\nSubstitute $A$ and $B$, and then replace $\\tau=R_{L}C_{p}$ to express the result in the required parameters:\n$$V_{L}(t)=\\frac{I_{0}R_{L}\\cos(\\omega t)+I_{0}\\omega R_{L}^{2}C_{p}\\sin(\\omega t)-I_{0}R_{L}\\exp\\!\\left(-\\frac{t}{R_{L}C_{p}}\\right)}{1+\\omega^{2}R_{L}^{2}C_{p}^{2}}.$$\nThis is a single closed-form analytic expression valid for $t\\ge 0$ that satisfies the initial condition and the circuit dynamics.", "answer": "$$\\boxed{\\frac{I_{0}R_{L}\\cos(\\omega t)+I_{0}\\omega R_{L}^{2}C_{p}\\sin(\\omega t)-I_{0}R_{L}\\exp\\!\\left(-\\frac{t}{R_{L}C_{p}}\\right)}{1+\\omega^{2}R_{L}^{2}C_{p}^{2}}}$$", "id": "1592511"}, {"introduction": "While passive components like resistors and capacitors form the basis of many circuits, active components like transistors are what enable amplification and complex signal processing. This exercise [@problem_id:1592507] introduces the crucial concept of small-signal modeling, a technique used to analyze the behavior of non-linear devices like a Bipolar Junction Transistor (BJT) under specific operating conditions. You will work with a linearized model containing a voltage-controlled current source to determine the amplifier's voltage gain, a foundational skill for understanding and designing analog electronic systems.", "problem": "Consider a simplified small-signal model for a common-emitter amplifier circuit utilizing a Bipolar Junction Transistor (BJT). The emitter terminal of the device is connected to ground.\n\nThe input side of the model consists of a signal voltage source $v_{in}$ connected in series with a base resistor $R_B$. This combination is connected to the base terminal. The behavior of the base-emitter junction is modeled by a resistor $r_{\\pi}$ connected between the base and emitter terminals. The voltage across this resistor is denoted as $v_{be}$, with the positive reference at the base.\n\nThe output side of the model consists of a collector resistor $R_C$ connected between the collector terminal and a fixed DC power supply. The output voltage $v_{out}$ is measured at the collector terminal with respect to ground. For the purposes of this small-signal analysis, the fixed DC power supply is to be treated as an AC ground connection.\n\nThe core amplifying behavior of the transistor is represented by a voltage-controlled current source. This source is connected between the collector and emitter terminals and draws a current of magnitude $g_m v_{be}$ directed from the collector towards the emitter. The parameter $g_m$ is the transconductance of the transistor.\n\nBased on this linear circuit model, determine the mathematical expression for the output voltage $v_{out}$ as a function of the input voltage $v_{in}$ and the circuit parameters $g_m$, $r_{\\pi}$, $R_B$, and $R_C$.", "solution": "The emitter is AC-grounded, so $v_{be}$ is the base node voltage relative to ground. The source $v_{in}$ is in series with $R_{B}$ and referenced to ground, placing a fixed AC potential $v_{in}$ across the series path feeding the base. The base sees a simple divider between $R_{B}$ (to $v_{in}$) and $r_{\\pi}$ (to ground), giving\n$$\nv_{be}=v_{in}\\,\\frac{r_{\\pi}}{R_{B}+r_{\\pi}}.\n$$\nOn the collector side, with the DC supply treated as AC ground, $R_{C}$ connects the collector node to ground. The controlled current source draws $g_{m}v_{be}$ from the collector to ground. Applying KCL at the collector node (currents leaving the node sum to zero):\n$$\n\\frac{v_{out}}{R_{C}}+g_{m}v_{be}=0 \\;\\;\\Rightarrow\\;\\; v_{out}=-g_{m}R_{C}\\,v_{be}.\n$$\nSubstituting the expression for $v_{be}$ yields\n$$\nv_{out}=-g_{m}R_{C}\\left(\\frac{r_{\\pi}}{R_{B}+r_{\\pi}}\\right)v_{in}.\n$$\nThis is the small-signal transfer from $v_{in}$ to $v_{out}$ for the given model.", "answer": "$$\\boxed{v_{out} = -g_{m}R_{C}\\,\\frac{r_{\\pi}}{R_{B}+r_{\\pi}}\\,v_{in}}$$", "id": "1592507"}, {"introduction": "As circuits become more complex, analyzing them in the time domain can be cumbersome. A more powerful approach is to work in the frequency domain using the Laplace transform, which allows us to characterize a circuit's behavior with a transfer function. This practice problem [@problem_id:1592499] challenges you to derive the transfer function for a Twin-T notch filter, a classic passive circuit designed to block a specific frequency. This task will hone your skills in nodal analysis and algebraic manipulation in the s-domain, revealing how a clever arrangement of passive components can achieve a highly selective frequency response.", "problem": "A passive electrical filter, known as a symmetrical Twin-T notch filter, is constructed as follows. A voltage source providing $v_{in}(t)$ is connected to the input terminal, and the output voltage $v_{out}(t)$ is measured at the output terminal. Both voltages are relative to a common ground. The circuit between the input and output terminals consists of two parallel T-networks.\n\nThe first T-network is composed of two resistors, each with resistance $R$, connected in series between the input and output terminals. From the node between these two resistors, a capacitor with capacitance $2C$ is connected to ground.\n\nThe second T-network is composed of two capacitors, each with capacitance $C$, connected in series between the input and output terminals. From the node between these two capacitors, a resistor with resistance $R/2$ is connected to ground.\n\nThe output terminal is connected to a load with infinite impedance (i.e., no current is drawn from the output).\n\nYour first task is to determine the transfer function $H(s) = \\frac{V_{out}(s)}{V_{in}(s)}$, where $V_{in}(s)$ and $V_{out}(s)$ are the Laplace transforms of the input and output voltages, respectively. Express your answer in terms of the parameters $R$, $C$, and the complex frequency variable $s$.\n\nYour second task is to find the specific angular frequency $\\omega_0$ at which the magnitude of the transfer function is zero. Express this frequency in rad/s.", "solution": "Let the input node be at potential $V_{1}=V_{in}$ (ideal voltage source, zero source impedance), the output node at $V_{2}=V_{out}$, and the internal midpoints of the two T-networks be $V_{a}$ (resistive T) and $V_{b}$ (capacitive T). Use Laplace-domain admittances: for a resistor $R$, $G=\\frac{1}{R}$; for a capacitor $C$, $Y_{C}=sC$. In the resistive T, the shunt capacitor is $2C$ with admittance $2sC$. In the capacitive T, the shunt resistor is $\\frac{R}{2}$ with admittance $2G$.\n\nKCL at node $a$ (connected to $V_{1}$ via $G$, to $V_{2}$ via $G$, and to ground via $2sC$) gives\n$$\nG(V_{a}-V_{1})+G(V_{a}-V_{2})+2sC\\,V_{a}=0\n\\;\\Rightarrow\\;\n(2G+2sC)V_{a}-G(V_{1}+V_{2})=0\n\\;\\Rightarrow\\;\nV_{a}=\\frac{G}{2(G+sC)}(V_{1}+V_{2}).\n$$\nKCL at node $b$ (connected to $V_{1}$ via $sC$, to $V_{2}$ via $sC$, and to ground via $2G$) gives\n$$\nsC(V_{b}-V_{1})+sC(V_{b}-V_{2})+2G\\,V_{b}=0\n\\;\\Rightarrow\\;\n(2sC+2G)V_{b}-sC(V_{1}+V_{2})=0\n\\;\\Rightarrow\\;\nV_{b}=\\frac{sC}{2(G+sC)}(V_{1}+V_{2}).\n$$\nKCL at node $2$ (connected to $V_{a}$ via $G$ and to $V_{b}$ via $sC$) gives\n$$\nG(V_{2}-V_{a})+sC(V_{2}-V_{b})=0\n\\;\\Rightarrow\\;\n(G+sC)V_{2}-G V_{a}-sC\\,V_{b}=0.\n$$\nDefine $D=G+sC$. Substituting $V_{a}$ and $V_{b}$:\n$$\nD V_{2}-G\\frac{G}{2D}(V_{1}+V_{2})-sC\\frac{sC}{2D}(V_{1}+V_{2})=0.\n$$\nMultiplying by $2D$ and rearranging:\n$$\n\\left[2D^{2}-(G^{2}+(sC)^{2})\\right]V_{2}=(G^{2}+(sC)^{2})V_{1}.\n$$\nSince $D^{2}=G^{2}+2GsC+(sC)^{2}$, we get\n$$\n2D^{2}-(G^{2}+(sC)^{2})=G^{2}+4GsC+(sC)^{2}.\n$$\nTherefore the transfer function is\n$$\nH(s)=\\frac{V_{2}}{V_{1}}=\\frac{G^{2}+(sC)^{2}}{G^{2}+4GsC+(sC)^{2}}.\n$$\nWith $G=\\frac{1}{R}$, multiply numerator and denominator by $R^{2}$ to obtain\n$$\nH(s)=\\frac{1+(sRC)^{2}}{1+4sRC+(sRC)^{2}}.\n$$\nTo find the angular frequency where the magnitude is zero, evaluate the numerator at $s=j\\omega$:\n$$\n1+(j\\omega RC)^{2}=1-\\omega^{2}R^{2}C^{2}=0\n\\;\\Rightarrow\\;\n\\omega_{0}=\\frac{1}{RC}.\n$$\nAt $\\omega_{0}$ the denominator equals $1+4j-1=4j\\neq 0$, so the magnitude is indeed zero there.", "answer": "The transfer function is:\n$$\\boxed{H(s) = \\frac{1+(sRC)^{2}}{1+4sRC+(sRC)^{2}}}$$\nThe notch frequency is:\n$$\\boxed{\\omega_0 = \\frac{1}{RC}}$$", "id": "1592499"}]}