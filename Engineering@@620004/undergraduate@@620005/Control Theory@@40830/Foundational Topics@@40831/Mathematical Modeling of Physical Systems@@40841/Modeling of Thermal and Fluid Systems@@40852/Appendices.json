{"hands_on_practices": [{"introduction": "Many dynamic systems, from electrical circuits to thermal processes, can be effectively modeled as first-order linear systems. This exercise provides foundational practice in deriving such a model for a fluid system, a common scenario in process control. By analyzing a tank with a proportionally controlled inflow and a pump-driven outflow, you will apply the principle of mass conservation to determine the system's time constant, $\\tau$, which is a crucial parameter defining the speed of its response [@problem_id:1593201].", "problem": "A control system is designed to maintain the fluid level in a cylindrical tank of uniform cross-sectional area $A$. The fluid level at any time $t$ is denoted by $h(t)$.\n\nThe inflow rate of the fluid, $q_{in}(t)$, is actively managed by a proportional controller. This controller adjusts the inflow based on the error between a constant desired setpoint height, $h_{ref}$, and the measured height $h(t)$. The behavior of the controller is described by the linear relation $q_{in}(t) = K(h_{ref} - h(t))$, where $K$ is the positive proportional gain.\n\nThe fluid is removed from the tank by a pump. The characteristic curve of this pump indicates that its outflow rate, $q_{out}(t)$, decreases linearly as the fluid head $h(t)$ it has to work against increases. This relationship is accurately modeled by the equation $q_{out}(t) = \\alpha - \\beta h(t)$, where $\\alpha$ and $\\beta$ are positive constants determined by the pump's design.\n\nTo ensure the system is stable and the fluid level can be reliably controlled, the gain $K$ has been selected such that $K > \\beta$. Based on this information, derive the time constant, $\\tau$, of the closed-loop system. Your final answer should be a symbolic expression in terms of the provided parameters.", "solution": "The governing principle is conservation of volume in a tank of uniform cross-sectional area, which yields the dynamic equation\n$$\nA \\frac{dh(t)}{dt} = q_{in}(t) - q_{out}(t).\n$$\nWith the controller and pump relations $q_{in}(t) = K\\big(h_{ref} - h(t)\\big)$ and $q_{out}(t) = \\alpha - \\beta h(t)$, substitution gives\n$$\nA \\frac{dh(t)}{dt} = K\\big(h_{ref} - h(t)\\big) - \\big(\\alpha - \\beta h(t)\\big).\n$$\nSimplifying,\n$$\nA \\frac{dh(t)}{dt} = K h_{ref} - K h(t) - \\alpha + \\beta h(t)\n= \\big(K h_{ref} - \\alpha\\big) + \\big(\\beta - K\\big) h(t).\n$$\nThe steady-state height $h_{ss}$ satisfies $\\frac{dh}{dt}=0$, hence\n$$\n0 = \\big(K h_{ref} - \\alpha\\big) + \\big(\\beta - K\\big) h_{ss}\n\\quad \\Rightarrow \\quad\nh_{ss} = \\frac{\\alpha - K h_{ref}}{\\beta - K}.\n$$\nDefine the deviation variable $x(t) = h(t) - h_{ss}$. Differentiating and using the above dynamics together with the steady-state condition yields\n$$\nA \\frac{dx(t)}{dt} = \\big(\\beta - K\\big) x(t).\n$$\nThis is a first-order linear system. Comparing to the standard form\n$$\n\\frac{dx(t)}{dt} = -\\frac{1}{\\tau} x(t),\n$$\nwe identify\n$$\n-\\frac{1}{\\tau} = \\frac{\\beta - K}{A}\n\\quad \\Rightarrow \\quad\n\\frac{1}{\\tau} = \\frac{K - \\beta}{A}\n\\quad \\Rightarrow \\quad\n\\tau = \\frac{A}{K - \\beta}.\n$$\nSince $K > \\beta$ by design, $\\tau$ is positive and the closed-loop system is stable with time constant $\\tau = \\frac{A}{K - \\beta}$.", "answer": "$$\\boxed{\\frac{A}{K-\\beta}}$$", "id": "1593201"}, {"introduction": "While linear models are convenient, many physical laws are inherently nonlinear. This problem tackles a common nonlinearity in fluid dynamics where outflow through an orifice is proportional to the square root of the liquid height. You will practice the essential technique of linearization, approximating the nonlinear system with a linear model that is valid for small deviations around a specific operating pointâ€”a cornerstone of control engineering. This reveals how the dynamic behavior, encapsulated by the time constant $\\tau$, can change depending on the system's steady state [@problem_id:1593233].", "problem": "A vertical cylindrical tank with a constant internal cross-sectional area $A$ is used to store a liquid. The liquid is supplied to the tank at a volumetric flow rate of $q_{in}(t)$ and exits through an orifice at its base. The outflow rate, $q_{out}(t)$, is proportional to the square root of the liquid height $h(t)$ in the tank, given by the relationship $q_{out}(t) = k\\sqrt{h(t)}$, where $k$ is a constant determined by the orifice characteristics.\n\nInitially, the system is in a steady state, with a constant inflow rate $Q_0$ that results in a constant liquid height of $H_0$. For small variations around this operating point, the dynamic relationship between the deviation in inflow, $\\delta q_{in}(t) = q_{in}(t) - Q_0$, and the deviation in height, $\\delta h(t) = h(t) - H_0$, can be approximated by a first-order linear ordinary differential equation of the form:\n\n$$ \\tau \\frac{d(\\delta h)}{dt} + \\delta h = R \\cdot \\delta q_{in} $$\n\nDetermine the time constant, $\\tau$, of this linearized system. Express your answer as a closed-form analytic expression in terms of the parameters $A$, $k$, and the nominal operating height $H_0$.", "solution": "Apply conservation of volume in the tank. With cross-sectional area $A$, height $h(t)$, inflow $q_{in}(t)$, and outflow $q_{out}(t)=k\\sqrt{h(t)}$, the dynamic balance is\n$$\nA\\frac{dh}{dt}=q_{in}(t)-q_{out}(t)=q_{in}(t)-k\\sqrt{h(t)}.\n$$\nAt the steady operating point $(Q_{0},H_{0})$, the steady-state condition is\n$$\nQ_{0}-k\\sqrt{H_{0}}=0 \\quad \\Longrightarrow \\quad Q_{0}=k\\sqrt{H_{0}}.\n$$\nIntroduce small deviations $\\delta h(t)=h(t)-H_{0}$ and $\\delta q_{in}(t)=q_{in}(t)-Q_{0}$. Substituting $h=H_{0}+\\delta h$ and $q_{in}=Q_{0}+\\delta q_{in}$ into the balance and subtracting the steady-state equation gives\n$$\nA\\frac{d(\\delta h)}{dt}=\\delta q_{in}(t)-\\Big(k\\sqrt{H_{0}+\\delta h}-k\\sqrt{H_{0}}\\Big).\n$$\nLinearize the nonlinear outflow term about $H_{0}$ using a first-order Taylor expansion:\n$$\n\\sqrt{H_{0}+\\delta h}\\approx \\sqrt{H_{0}}+\\frac{1}{2\\sqrt{H_{0}}}\\,\\delta h,\n$$\nwhich yields\n$$\nk\\sqrt{H_{0}+\\delta h}\\approx k\\sqrt{H_{0}}+\\frac{k}{2\\sqrt{H_{0}}}\\,\\delta h.\n$$\nSubstitute this into the deviation balance:\n$$\nA\\frac{d(\\delta h)}{dt}=\\delta q_{in}(t)-\\frac{k}{2\\sqrt{H_{0}}}\\,\\delta h.\n$$\nRearrange into the standard first-order form by dividing through by $\\frac{k}{2\\sqrt{H_{0}}}$:\n$$\n\\underbrace{\\frac{A}{\\frac{k}{2\\sqrt{H_{0}}}}}_{\\tau}\\frac{d(\\delta h)}{dt}+\\delta h=\\underbrace{\\frac{1}{\\frac{k}{2\\sqrt{H_{0}}}}}_{R}\\,\\delta q_{in}(t).\n$$\nTherefore, the time constant is\n$$\n\\tau=\\frac{A}{\\frac{k}{2\\sqrt{H_{0}}}}=\\frac{2A\\sqrt{H_{0}}}{k}.\n$$", "answer": "$$\\boxed{\\frac{2A\\sqrt{H_{0}}}{k}}$$", "id": "1593233"}, {"introduction": "For systems with multiple interacting components or spatially distributed properties, a single differential equation is often insufficient. The state-space representation provides a powerful, unified framework for modeling such complex systems. In this practice, you will model a thermal system by discretizing a heated rod into multiple segments and derive the governing state-space augmented matrix $[A \\mid B]$. This exercise bridges the gap between physical principles and the modern matrix-based methods used extensively in control system analysis and design [@problem_id:1593176].", "problem": "A uniform metal rod of length $L$, cross-sectional area $A$, thermal conductivity $k$, density $\\rho$, and specific heat capacity $c$, is used as a thermal management component for a high-power electronic system. The rod is oriented along the x-axis from $x=0$ to $x=L$. One end, at $x=0$, receives a time-varying heat flow rate, $Q_{in}(t)$, from the electronic component. The other end, at $x=L$, is exposed to a coolant held at a constant ambient temperature $T_{amb}$. Heat is lost from this end surface via convection, which is characterized by a heat transfer coefficient $h$. The cylindrical surface of the rod is assumed to be perfectly insulated, so heat transfer occurs only along the rod's length.\n\nTo create a dynamic model suitable for control system design, the rod is modeled using a lumped-parameter approximation by dividing it into three segments of equal length. The temperature of the first segment (spanning $x=0$ to $x=L/3$) is represented by a single temperature $T_1(t)$, the second segment (from $x=L/3$ to $x=2L/3$) by $T_2(t)$, and the third segment (from $x=2L/3$ to $x=L$) by $T_3(t)$.\n\nFor the purpose of this model, the conductive heat transfer rate between any two adjacent segments $i$ and $j$ is approximated by $Q_{cond} = kA\\frac{T_i - T_j}{\\Delta x}$, where $\\Delta x$ is the length of a segment. The convective heat loss from the end face at $x=L$ is determined using the temperature of the third segment, $T_3(t)$.\n\nThe dynamics of this system can be described by a linear time-invariant state-space model in the standard form $\\dot{\\mathbf{x}} = A\\mathbf{x} + B u$. The state vector $\\mathbf{x}(t)$ is defined by the temperature deviations of each segment from the ambient temperature: $\\mathbf{x}(t) = [\\theta_1(t), \\theta_2(t), \\theta_3(t)]^T$, where $\\theta_i(t) = T_i(t) - T_{amb}$. The input to the system is the controlled heat flow rate, $u(t) = Q_{in}(t)$.\n\nDetermine the augmented matrix $[A \\ B]$ for this system. Express your answer as a single matrix in terms of the given physical parameters: $L, A, k, \\rho, c, h$.", "solution": "Let the segment length be $\\Delta x=\\frac{L}{3}$ and the thermal capacitance of each lump be $C=\\rho c A \\Delta x=\\frac{\\rho c A L}{3}$. Using energy conservation for each segment (with the cylindrical surface insulated), the conductive heat between adjacent segments $i$ and $j$ is $Q_{cond}=kA\\frac{T_{i}-T_{j}}{\\Delta x}$, and the convective loss at $x=L$ is $Q_{conv}=hA\\left(T_{3}-T_{amb}\\right)$.\n\nWriting energy balances:\n- Segment 1: $C \\frac{dT_{1}}{dt}=u-kA\\frac{T_{1}-T_{2}}{\\Delta x}$.\n- Segment 2: $C \\frac{dT_{2}}{dt}=kA\\frac{T_{1}-T_{2}}{\\Delta x}-kA\\frac{T_{2}-T_{3}}{\\Delta x}$.\n- Segment 3: $C \\frac{dT_{3}}{dt}=kA\\frac{T_{2}-T_{3}}{\\Delta x}-hA\\left(T_{3}-T_{amb}\\right)$.\n\nDefine state deviations $\\theta_{i}=T_{i}-T_{amb}$ and input $u=Q_{in}(t)$. Using $T_{i}-T_{j}=\\theta_{i}-\\theta_{j}$ and $T_{3}-T_{amb}=\\theta_{3}$:\n$$\n\\begin{aligned}\nC \\dot{\\theta}_{1}&=u-kA\\frac{\\theta_{1}-\\theta_{2}}{\\Delta x},\\\\\nC \\dot{\\theta}_{2}&=kA\\frac{\\theta_{1}-\\theta_{2}}{\\Delta x}-kA\\frac{\\theta_{2}-\\theta_{3}}{\\Delta x},\\\\\nC \\dot{\\theta}_{3}&=kA\\frac{\\theta_{2}-\\theta_{3}}{\\Delta x}-hA\\,\\theta_{3}.\n\\end{aligned}\n$$\nDivide by $C$ and simplify the coefficients using $\\Delta x=\\frac{L}{3}$:\n$$\n\\frac{kA}{C\\,\\Delta x}=\\frac{kA}{\\left(\\frac{\\rho c A L}{3}\\right)\\left(\\frac{L}{3}\\right)}=\\frac{9k}{\\rho c L^{2}},\\qquad\n\\frac{hA}{C}=\\frac{hA}{\\frac{\\rho c A L}{3}}=\\frac{3h}{\\rho c L},\\qquad\n\\frac{1}{C}=\\frac{3}{\\rho c A L}.\n$$\nHence, in state-space form $\\dot{\\mathbf{x}}=A\\mathbf{x}+Bu$ with $\\mathbf{x}=[\\theta_{1},\\theta_{2},\\theta_{3}]^{T}$ and $u=Q_{in}(t)$, the matrices are\n$$\nA=\\begin{pmatrix}\n-\\frac{9k}{\\rho c L^{2}} & \\frac{9k}{\\rho c L^{2}} & 0 \\\\[4pt]\n\\frac{9k}{\\rho c L^{2}} & -\\frac{18k}{\\rho c L^{2}} & \\frac{9k}{\\rho c L^{2}} \\\\[4pt]\n0 & \\frac{9k}{\\rho c L^{2}} & -\\frac{9k}{\\rho c L^{2}}-\\frac{3h}{\\rho c L}\n\\end{pmatrix},\\qquad\nB=\\begin{pmatrix}\n\\frac{3}{\\rho c A L} \\\\[4pt]\n0 \\\\[4pt]\n0\n\\end{pmatrix}.\n$$\nTherefore, the augmented matrix $[A\\ B]$ is the $3\\times 4$ matrix obtained by appending $B$ as the fourth column to $A$.", "answer": "$$\\boxed{\\begin{pmatrix}\n-\\frac{9k}{\\rho c L^{2}} & \\frac{9k}{\\rho c L^{2}} & 0 & \\frac{3}{\\rho c A L}\\\\\n\\frac{9k}{\\rho c L^{2}} & -\\frac{18k}{\\rho c L^{2}} & \\frac{9k}{\\rho c L^{2}} & 0\\\\\n0 & \\frac{9k}{\\rho c L^{2}} & -\\frac{9k}{\\rho c L^{2}}-\\frac{3h}{\\rho c L} & 0\n\\end{pmatrix}}$$", "id": "1593176"}]}