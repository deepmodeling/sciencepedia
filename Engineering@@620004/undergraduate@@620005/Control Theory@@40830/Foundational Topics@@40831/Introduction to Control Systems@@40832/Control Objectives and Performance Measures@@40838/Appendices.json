{"hands_on_practices": [{"introduction": "A primary goal of control system design is to ensure a system's output follows a command safely and accurately. We often describe this desired behavior using time-domain specifications, such as limiting the peak overshoot to prevent physical damage. This exercise provides a direct link between a critical safety constraint on a robotic arm and the selection of the system's damping ratio, $\\zeta$ [@problem_id:1565442]. You will practice translating a high-level physical requirement into a precise mathematical condition on a fundamental control parameter.", "problem": "A control system for a robotic arm's elbow joint is being designed. The joint is commanded to move from an initial resting angle of $\\theta_2(0) = 0^\\circ$ to a final target angle of $\\theta_{2,f} = 120^\\circ$. Due to mechanical limitations, the joint's absolute angle must not exceed a maximum physical limit of $\\theta_{max} = 150^\\circ$ at any point during the maneuver.\n\nThe angular position of the joint, $\\theta_2(t)$, for time $t \\ge 0$ is modeled by the response of a standard underdamped second-order system given by:\n$$ \\theta_2(t) = \\theta_{2,f} \\left[ 1 - \\frac{\\exp(-\\zeta \\omega_n t)}{\\sqrt{1-\\zeta^2}} \\sin(\\omega_d t + \\phi) \\right] $$\nwhere $\\omega_n$ is the natural frequency, $\\zeta$ is the damping ratio (with $0 < \\zeta < 1$), $\\omega_d = \\omega_n \\sqrt{1-\\zeta^2}$ is the damped natural frequency, and $\\phi = \\arccos(\\zeta)$ is the phase angle.\n\nThe damping ratio $\\zeta$ is a tunable parameter of the controller. To ensure the safety of the robotic arm, what is the minimum value of $\\zeta$ that guarantees the joint angle $\\theta_2(t)$ never exceeds the physical limit $\\theta_{max}$?\n\nExpress your answer as a numerical value rounded to three significant figures.", "solution": "We are given the underdamped second-order step response\n$$\n\\theta_{2}(t) = \\theta_{2,f} \\left[ 1 - \\frac{\\exp(-\\zeta \\omega_{n} t)}{\\sqrt{1-\\zeta^{2}}} \\sin(\\omega_{d} t + \\phi) \\right]\n$$\nwith $\\omega_{d} = \\omega_{n}\\sqrt{1-\\zeta^{2}}$ and $\\phi = \\arccos(\\zeta)$, for a step from $\\theta_{2}(0)=0$ to $\\theta_{2,f}=120^{\\circ}$. The safety constraint is $\\theta_{2}(t) \\le \\theta_{\\max} = 150^{\\circ}$ for all $t \\ge 0$.\n\nDefine the normalized response $y(t) \\equiv \\theta_{2}(t)/\\theta_{2,f}$. Then\n$$\ny(t) = 1 - \\frac{\\exp(-\\zeta \\omega_{n} t)}{\\sqrt{1-\\zeta^{2}}} \\sin(\\omega_{d} t + \\phi).\n$$\nExtrema occur when $\\frac{d}{dt}y(t)=0$. Using the product rule, let $f(t)=\\exp(-\\zeta \\omega_{n} t)$ and $g(t)=\\frac{1}{\\sqrt{1-\\zeta^{2}}}\\sin(\\omega_{d} t + \\phi)$. Then\n$$\n\\frac{d}{dt}y(t) = -\\big[f'(t)g(t) + f(t)g'(t)\\big]\n= \\exp(-\\zeta \\omega_{n} t)\\frac{1}{\\sqrt{1-\\zeta^{2}}}\\Big[\\zeta \\omega_{n}\\sin(\\omega_{d} t + \\phi) - \\omega_{d}\\cos(\\omega_{d} t + \\phi)\\Big].\n$$\nSetting $\\frac{d}{dt}y(t)=0$ gives\n$$\n\\zeta \\omega_{n}\\sin(\\omega_{d} t + \\phi) - \\omega_{d}\\cos(\\omega_{d} t + \\phi) = 0\n\\;\\;\\Longrightarrow\\;\\;\n\\tan(\\omega_{d} t + \\phi) = \\frac{\\omega_{d}}{\\zeta \\omega_{n}} = \\frac{\\sqrt{1-\\zeta^{2}}}{\\zeta}.\n$$\nSince $\\tan(\\phi) = \\frac{\\sqrt{1-\\zeta^{2}}}{\\zeta}$ for $\\phi=\\arccos(\\zeta)$, the extrema satisfy $\\omega_{d} t + \\phi = \\phi + k\\pi$, so the first peak occurs at\n$$\nt_{p} = \\frac{\\pi}{\\omega_{d}}.\n$$\nEvaluating $y(t)$ at $t_{p}$,\n$$\ny(t_{p}) = 1 - \\frac{\\exp\\!\\left(-\\zeta \\omega_{n} \\frac{\\pi}{\\omega_{d}}\\right)}{\\sqrt{1-\\zeta^{2}}}\\sin(\\pi + \\phi)\n= 1 + \\frac{\\exp\\!\\left(-\\zeta \\omega_{n} \\frac{\\pi}{\\omega_{d}}\\right)}{\\sqrt{1-\\zeta^{2}}}\\sin\\phi.\n$$\nUsing $\\sin\\phi = \\sqrt{1-\\zeta^{2}}$ and $\\omega_{d} = \\omega_{n}\\sqrt{1-\\zeta^{2}}$,\n$$\ny_{\\max} = y(t_{p}) = 1 + \\exp\\!\\left(-\\frac{\\zeta \\pi}{\\sqrt{1-\\zeta^{2}}}\\right).\n$$\nThus the peak overshoot is\n$$\nM_{p} \\equiv y_{\\max} - 1 = \\exp\\!\\left(-\\frac{\\zeta \\pi}{\\sqrt{1-\\zeta^{2}}}\\right).\n$$\nThe safety requirement $\\theta_{2}(t) \\le \\theta_{\\max}$ for all $t$ implies the normalized response satisfies $y(t) \\le \\frac{\\theta_{\\max}}{\\theta_{2,f}}$. Since the global maximum is $y_{\\max}$,\n$$\n1 + M_{p} \\le \\frac{\\theta_{\\max}}{\\theta_{2,f}}\n\\;\\;\\Longrightarrow\\;\\;\nM_{p} \\le \\frac{\\theta_{\\max} - \\theta_{2,f}}{\\theta_{2,f}}.\n$$\nWith $\\theta_{2,f} = 120^{\\circ}$ and $\\theta_{\\max} = 150^{\\circ}$,\n$$\n\\frac{\\theta_{\\max} - \\theta_{2,f}}{\\theta_{2,f}} = \\frac{150 - 120}{120} = \\frac{1}{4}.\n$$\nTherefore the condition becomes\n$$\n\\exp\\!\\left(-\\frac{\\zeta \\pi}{\\sqrt{1-\\zeta^{2}}}\\right) \\le \\frac{1}{4}.\n$$\nThe minimum $\\zeta$ that guarantees the constraint is attained at equality:\n$$\n\\exp\\!\\left(-\\frac{\\zeta \\pi}{\\sqrt{1-\\zeta^{2}}}\\right) = \\frac{1}{4}.\n$$\nTaking $\\ln$ and solving,\n$$\n-\\frac{\\zeta \\pi}{\\sqrt{1-\\zeta^{2}}} = \\ln\\!\\left(\\frac{1}{4}\\right) = -\\ln 4\n\\;\\;\\Longrightarrow\\;\\;\n\\frac{\\zeta}{\\sqrt{1-\\zeta^{2}}} = \\frac{\\ln 4}{\\pi}.\n$$\nSquaring both sides and rearranging,\n$$\n\\frac{\\zeta^{2}}{1-\\zeta^{2}} = \\frac{(\\ln 4)^{2}}{\\pi^{2}}\n\\;\\;\\Longrightarrow\\;\\;\n\\zeta^{2} = \\frac{(\\ln 4)^{2}}{\\pi^{2} + (\\ln 4)^{2}}\n\\;\\;\\Longrightarrow\\;\\;\n\\zeta = \\frac{\\ln 4}{\\sqrt{\\pi^{2} + (\\ln 4)^{2}}}.\n$$\nNumerically, $\\ln 4 \\approx 1.386294$ and $\\pi \\approx 3.141593$, giving\n$$\n\\zeta \\approx 0.404 \\quad \\text{(to three significant figures)}.\n$$", "answer": "$$\\boxed{0.404}$$", "id": "1565442"}, {"introduction": "After satisfying basic safety and performance criteria, an engineer might ask, \"Can we make the system's response faster?\" This practice explores the inherent costs associated with such an improvement. You will analyze how the speed of a system, dictated by its closed-loop pole locations, directly impacts the maximum force the actuator must generate [@problem_id:1565389]. This exercise powerfully illustrates the fundamental trade-off between response speed and control effort, a central theme in control engineering.", "problem": "A fundamental challenge in control systems engineering is managing the trade-off between speed of response and the required control effort. Consider a simplified model of a robotic actuator positioning a point mass $m$ on a one-dimensional frictionless track. The state of the system is described by the vector $\\mathbf{x}(t) = [x(t), v(t)]^T$, where $x(t)$ is the position of the mass and $v(t)$ is its velocity. The system's dynamics are governed by Newton's second law, $m\\ddot{x}(t) = u(t)$, where $u(t)$ is the force applied by the actuator.\n\nA state-feedback controller of the form $u(t) = -K\\mathbf{x}(t)$ is implemented to stabilize the mass at the origin ($\\mathbf{x} = [0, 0]^T$). The constant gain matrix $K = [k_1, k_2]$ is chosen using pole placement such that both poles of the closed-loop system are located at $s = -p$ on the real axis, where $p$ is a positive real constant that determines the speed of the system's response.\n\nSuppose the system is tasked with returning to the origin from an initial state of rest at a position $L$. That is, the initial conditions are $x(0) = L$ and $v(0) = 0$, where $L$ is a positive constant.\n\nDetermine a symbolic expression for the peak control force magnitude, $U_{\\text{max}} = \\max_{t \\ge 0} |u(t)|$, required to execute this maneuver. Express your answer in terms of the system parameters $m$, $L$, and $p$.", "solution": "The plant is a point mass with dynamics given by Newtonâ€™s second law, $m \\ddot{x}(t) = u(t)$. Letting the state be $\\mathbf{x}(t) = [x(t), v(t)]^{T}$ with $v(t) = \\dot{x}(t)$, the state-space form under state feedback $u(t) = -K \\mathbf{x}(t)$ with $K = [k_{1}, k_{2}]$ is\n$$\n\\dot{x}(t) = v(t), \\qquad \\dot{v}(t) = -\\frac{k_{1}}{m} x(t) - \\frac{k_{2}}{m} v(t).\n$$\nThe closed-loop characteristic polynomial is\n$$\ns^{2} + \\frac{k_{2}}{m} s + \\frac{k_{1}}{m}.\n$$\nPlacing both closed-loop poles at $s = -p$ requires matching to $(s + p)^{2} = s^{2} + 2 p s + p^{2}$, which yields\n$$\n\\frac{k_{2}}{m} = 2 p \\quad \\Rightarrow \\quad k_{2} = 2 m p, \\qquad \\frac{k_{1}}{m} = p^{2} \\quad \\Rightarrow \\quad k_{1} = m p^{2}.\n$$\nHence the control law is\n$$\nu(t) = -k_{1} x(t) - k_{2} v(t) = -m\\big(p^{2} x(t) + 2 p v(t)\\big).\n$$\nThe closed-loop motion satisfies the second-order ODE\n$$\n\\ddot{x}(t) + 2 p \\dot{x}(t) + p^{2} x(t) = 0,\n$$\nwith initial conditions $x(0) = L$ and $\\dot{x}(0) = v(0) = 0$. For the critically damped case, the solution is\n$$\nx(t) = (C_{1} + C_{2} t)\\exp(-p t).\n$$\nApplying $x(0) = L$ gives $C_{1} = L$. The velocity is\n$$\nv(t) = \\dot{x}(t) = \\exp(-p t)\\big(C_{2} - p C_{1} - p C_{2} t\\big),\n$$\nso $v(0) = 0$ implies $C_{2} - p C_{1} = 0$, hence $C_{2} = p L$. Therefore\n$$\nx(t) = L(1 + p t)\\exp(-p t), \\qquad v(t) = -p^{2} L t \\exp(-p t).\n$$\nSubstituting into the control gives\n$$\nu(t) = -m\\big(p^{2} x(t) + 2 p v(t)\\big) = -m p^{2} L \\exp(-p t)\\big(1 - p t\\big).\n$$\nThus the control magnitude is\n$$\n|u(t)| = m p^{2} L \\exp(-p t)\\,|1 - p t|.\n$$\nDefine $z = p t$ with $z \\ge 0$ and $g(z) = \\exp(-z)|1 - z|$. For $0 \\le z \\le 1$, $g(z) = \\exp(-z)(1 - z)$ has derivative $g'(z) = \\exp(-z)(z - 2) < 0$, so it decreases from $g(0) = 1$ to $g(1) = 0$. For $z \\ge 1$, $g(z) = \\exp(-z)(z - 1)$ has derivative $g'(z) = \\exp(-z)(2 - z)$, which vanishes at $z = 2$ and yields a local maximum $g(2) = \\exp(-2) < 1$. Therefore the global maximum of $g$ on $[0,\\infty)$ is $1$ at $z = 0$.\n\nConsequently,\n$$\nU_{\\text{max}} = \\max_{t \\ge 0} |u(t)| = m p^{2} L.\n$$\nThis occurs at $t = 0$.", "answer": "$$\\boxed{m p^{2} L}$$", "id": "1565389"}, {"introduction": "Beyond responding to commands, a robust control system must effectively reject unwanted external disturbances. This practice shifts our perspective to the frequency domain to evaluate how well a system handles such disturbances, which often occur over a range of frequencies. By calculating the peak magnitude of the transfer function from a process disturbance to the controller's output, you will quantify a worst-case performance scenario to prevent actuator saturation [@problem_id:1565393]. This approach is crucial for designing controllers that remain effective and stable in real-world operating conditions.", "problem": "In the control of a chemical distillation column, the controller output signal $u(t)$, which manipulates the reboiler heat duty, must be kept within physical limits to prevent actuator saturation. A primary cause of large controller action is a disturbance in the feed composition, $d(t)$. To design a robust controller, it is crucial to quantify the worst-case amplification from this disturbance to the controller output. This is captured by the peak magnitude of the frequency response of the transfer function from the disturbance to the controller output.\n\nConsider a feedback control system for the distillation column with the following components and models, where $s$ is the Laplace variable:\n- The process transfer function from the controller output $U(s)$ to the measured product composition $Y(s)$ is given by a first-order model:\n$$P(s) = \\frac{Y(s)}{U(s)} = \\frac{K_p}{\\tau_p s + 1}$$\n- The disturbance transfer function, relating the feed composition disturbance $D(s)$ to the product composition $Y(s)$, is given by:\n$$G_d(s) = \\frac{K_d}{\\tau_d s + 1}$$\n- A Proportional-Integral (PI) controller is used:\n$$C(s) = K_c \\left(1 + \\frac{1}{\\tau_I s}\\right)$$\n\nThe system is configured in a standard feedback loop where the total output is $Y(s) = P(s)U(s) + G_d(s)D(s)$ and the controller action is $U(s) = C(s)(R(s) - Y(s))$, with $R(s)$ being the setpoint. For the purpose of analyzing disturbance rejection, the setpoint is considered constant, i.e., $R(s)=0$.\n\nAssume the following numerical values for the system parameters:\n- Process gain, $K_p = 2.0$ (dimensionless)\n- Process time constant, $\\tau_p = 5.0$ s\n- Disturbance gain, $K_d = 2.0$ (dimensionless)\n- Disturbance time constant, $\\tau_d = 5.0$ s\n- Controller gain, $K_c = 2.5$\n- Integral time, $\\tau_I = 4.0$ s\n\nYour task is to calculate the peak magnitude (the $H_{\\infty}$ norm) of the transfer function $T_{ud}(s) = U(s)/D(s)$. Your answer, which is a dimensionless quantity, should be rounded to four significant figures.", "solution": "For disturbance rejection with a constant setpoint $R(s)=0$, the closed-loop equations are\n$$Y(s) = P(s)U(s) + G_{d}(s)D(s), \\quad U(s) = -C(s)Y(s).$$\nEliminating $Y(s)$ gives\n$$(1 + P(s)C(s))Y(s) = G_{d}(s)D(s) \\;\\;\\Rightarrow\\;\\; \\frac{Y(s)}{D(s)} = \\frac{G_{d}(s)}{1 + P(s)C(s)},$$\nand hence\n$$\\frac{U(s)}{D(s)} \\equiv T_{ud}(s) = -\\frac{C(s)G_{d}(s)}{1 + P(s)C(s)}.$$\n\nWith $P(s) = \\dfrac{K_{p}}{\\tau_{p}s + 1}$, $G_{d}(s) = \\dfrac{K_{d}}{\\tau_{d}s + 1}$, and $C(s) = K_{c}\\left(1 + \\dfrac{1}{\\tau_{I}s}\\right) = K_{c}\\dfrac{\\tau_{I}s + 1}{\\tau_{I}s}$, we obtain\n$$P(s)C(s) = \\frac{K_{p}K_{c}(\\tau_{I}s + 1)}{\\tau_{I}s(\\tau_{p}s + 1)},$$\n$$T_{ud}(s) = -\\frac{K_{c}K_{d}(\\tau_{I}s + 1)}{\\tau_{I}s(\\tau_{d}s + 1)}\\cdot \\frac{1}{1 + \\dfrac{K_{p}K_{c}(\\tau_{I}s + 1)}{\\tau_{I}s(\\tau_{p}s + 1)}}.$$\nMultiplying numerator and denominator by $\\tau_{I}s(\\tau_{p}s + 1)$ yields\n$$T_{ud}(s) = -\\frac{K_{c}K_{d}(\\tau_{p}s + 1)(\\tau_{I}s + 1)}{(\\tau_{d}s + 1)\\left[\\tau_{I}s(\\tau_{p}s + 1) + K_{p}K_{c}(\\tau_{I}s + 1)\\right]}.$$\n\nSubstituting the given numerical values $K_{p} = 2$, $\\tau_{p} = 5$, $K_{d} = 2$, $\\tau_{d} = 5$, $K_{c} = 2.5$, $\\tau_{I} = 4$ gives $K_{p}K_{c} = 5$ and $K_{c}K_{d} = 5$, hence\n$$T_{ud}(s) = -\\frac{5(5s + 1)(4s + 1)}{(5s + 1)\\left[4s(5s + 1) + 5(4s + 1)\\right]} = -\\frac{5(4s + 1)}{20s^{2} + 24s + 5}.$$\n\nFor $s = j\\omega$, the magnitude squared is\n$$\\left|T_{ud}(j\\omega)\\right|^{2} = \\frac{25\\left|1 + 4j\\omega\\right|^{2}}{\\left|20(j\\omega)^{2} + 24j\\omega + 5\\right|^{2}} = \\frac{25\\left(1 + 16\\omega^{2}\\right)}{\\left(5 - 20\\omega^{2}\\right)^{2} + (24\\omega)^{2}}.$$\nLet $x = \\omega^{2} \\ge 0$. Then\n$$f(x) \\equiv \\left|T_{ud}(j\\omega)\\right|^{2} = \\frac{25(1 + 16x)}{400x^{2} + 376x + 25}.$$\nTo find the peak magnitude, differentiate and set to zero:\n$$f'(x) \\propto 16(400x^{2} + 376x + 25) - (1 + 16x)(800x + 376) = -6400x^{2} - 800x + 24.$$\nSetting this to zero gives $6400x^{2} + 800x - 24 = 0$. The physically relevant solution is $x = \\dfrac{40}{1600} = \\dfrac{1}{40}$. Evaluating $f$ at $x = \\dfrac{1}{40}$,\n$$f\\!\\left(\\frac{1}{40}\\right) = \\frac{25\\left(1 + \\dfrac{16}{40}\\right)}{400\\left(\\dfrac{1}{40}\\right)^{2} + 376\\left(\\dfrac{1}{40}\\right) + 25} = \\frac{25\\left(1 + \\dfrac{2}{5}\\right)}{\\dfrac{400}{1600} + \\dfrac{376}{40} + 25} = \\frac{25\\cdot \\dfrac{7}{5}}{\\dfrac{1}{4} + \\dfrac{47}{5} + 25} = \\frac{35}{\\dfrac{693}{20}} = \\frac{700}{693} = \\frac{100}{99}.$$\nAt $x=0$, $f(0) = 1$, and as $x \\to \\infty$, $f(x) \\to 0$, so the maximum is $f_{\\max} = \\dfrac{100}{99}$. Therefore,\n$$\\|T_{ud}\\|_{\\infty} = \\max_{\\omega \\ge 0} \\left|T_{ud}(j\\omega)\\right| = \\sqrt{\\frac{100}{99}} = \\frac{10}{\\sqrt{99}} \\approx 1.0050378.$$\nRounded to four significant figures, the peak magnitude is $1.005$.", "answer": "$$\\boxed{1.005}$$", "id": "1565393"}]}