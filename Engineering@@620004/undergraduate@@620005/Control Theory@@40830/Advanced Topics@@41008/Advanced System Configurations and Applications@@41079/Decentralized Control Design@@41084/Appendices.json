{"hands_on_practices": [{"introduction": "Before we design controllers, it's crucial to understand their fundamental limits. This exercise uses a simple, intuitive mechanical system—two masses connected by a spring—to reveal a critical weakness of some decentralized schemes [@problem_id:1568194]. You will discover why merely responding to local positions is insufficient to guarantee that the entire system will settle to rest, highlighting the crucial difference between marginal stability and the desired goal of asymptotic stability.", "problem": "Two identical autonomous spacecraft, each of mass $m$, are conducting a formation flying exercise in deep space, far from any significant gravitational fields. They are connected by a single light spring of stiffness $k$. For this problem, their motion is restricted to a single dimension along the line connecting them. Let the positions of the two spacecraft in an inertial reference frame be $x_1$ and $x_2$.\n\nTo maintain the formation and correct for disturbances, each spacecraft is equipped with a proportional controller that actuates a thruster. The controller on spacecraft 1 generates a force $u_1 = -K x_1$, and the controller on spacecraft 2 generates a force $u_2 = -K x_2$, where $K$ is a positive constant gain. The goal of this control scheme is to achieve asymptotic stability, meaning that if the system is perturbed from its equilibrium state ($x_1=0, x_2=0, \\dot{x}_1=0, \\dot{x}_2=0$), it will return to that state as time approaches infinity.\n\nAn engineer analyzes this decentralized control strategy and concludes it cannot achieve its goal. Which of the following statements provides the most accurate physical and mathematical reason for this failure?\n\nA. The control forces $u_1$ and $u_2$ are applied independently to each mass and cannot influence the collective common-mode motion of the system's center of mass, which will drift without bound.\n\nB. A control law based only on position acts like an additional virtual spring but cannot introduce damping. Without a mechanism to dissipate energy, the total energy of any oscillation is conserved, preventing the system from settling to rest.\n\nC. The interaction between the two proportional controllers and the physical spring always creates a positive feedback loop for at least one mode of motion, causing its amplitude to grow exponentially.\n\nD. The control actions are based on absolute positions. A uniform translation of the entire system changes the control forces, but not the internal spring force, creating an imbalance that makes the system inherently unstable for any choice of control gain.", "solution": "Write the equations of motion using Newton’s second law, with spring forces and control forces applied to each mass. For spacecraft 1,\n$$\nm \\ddot{x}_{1}=-k(x_{1}-x_{2})-K x_{1},\n$$\nand for spacecraft 2,\n$$\nm \\ddot{x}_{2}=-k(x_{2}-x_{1})-K x_{2}.\n$$\nIntroduce center-of-mass and relative coordinates,\n$$\ns=\\frac{x_{1}+x_{2}}{2},\\quad r=x_{1}-x_{2},\n$$\nso that $x_{1}=s+\\frac{r}{2}$ and $x_{2}=s-\\frac{r}{2}$. Add the two equations to obtain the center-of-mass dynamics:\n$$\nm(\\ddot{x}_{1}+\\ddot{x}_{2})=-K(x_{1}+x_{2}) \\;\\;\\Longrightarrow\\;\\; 2 m \\ddot{s}=-2 K s \\;\\;\\Longrightarrow\\;\\; \\ddot{s}+\\frac{K}{m}s=0.\n$$\nSubtract the second equation from the first to obtain the relative motion:\n$$\nm(\\ddot{x}_{1}-\\ddot{x}_{2})=-k\\big[(x_{1}-x_{2})-(x_{2}-x_{1})\\big]-K(x_{1}-x_{2})\n$$\nwhich simplifies to\n$$\nm \\ddot{r}=-(2 k+K) r \\;\\;\\Longrightarrow\\;\\; \\ddot{r}+\\frac{2 k+K}{m} r=0.\n$$\nBoth modes are undamped harmonic oscillators. The characteristic equations are\n$$\n\\lambda^{2}+\\frac{K}{m}=0,\\quad \\lambda^{2}+\\frac{2 k+K}{m}=0,\n$$\nwith eigenvalues $\\lambda=\\pm i\\sqrt{\\frac{K}{m}}$ and $\\lambda=\\pm i\\sqrt{\\frac{2 k+K}{m}}$, which are purely imaginary. For a linear time-invariant system, asymptotic stability requires all eigenvalues to have strictly negative real parts. Here, all real parts are zero, so the system is not asymptotically stable; solutions are bounded oscillations.\n\nThis conclusion can also be seen from energy considerations. The total mechanical energy,\n$$\nE=\\frac{1}{2} m \\dot{x}_{1}^{2}+\\frac{1}{2} m \\dot{x}_{2}^{2}+\\frac{1}{2} k(x_{1}-x_{2})^{2}+\\frac{1}{2} K x_{1}^{2}+\\frac{1}{2} K x_{2}^{2},\n$$\nis the sum of kinetic energies and the potentials associated with the physical spring and the proportional control forces (which act as virtual springs to the inertial origin). Using $m \\ddot{x}_{1}=-\\partial V/\\partial x_{1}$ and $m \\ddot{x}_{2}=-\\partial V/\\partial x_{2}$ with $V=\\frac{1}{2} k(x_{1}-x_{2})^{2}+\\frac{1}{2} K x_{1}^{2}+\\frac{1}{2} K x_{2}^{2}$, one obtains\n$$\n\\dot{E}=m \\dot{x}_{1}\\ddot{x}_{1}+m \\dot{x}_{2}\\ddot{x}_{2}+\\frac{\\partial V}{\\partial x_{1}}\\dot{x}_{1}+\\frac{\\partial V}{\\partial x_{2}}\\dot{x}_{2}=0.\n$$\nThus no energy is dissipated; the amplitudes cannot decay to zero unless the initial energy is already zero. Therefore the proportional position-only control acts like adding conservative springs and cannot produce asymptotic stability.\n\nComparing with the options: the center-of-mass motion is not a drifting mode because it is controlled by $-K(x_{1}+x_{2})$, so A is incorrect. There is no positive-feedback-induced instability; eigenvalues are purely imaginary, so C and D are incorrect. The correct reason is the lack of damping stated in B.", "answer": "$$\\boxed{B}$$", "id": "1568194"}, {"introduction": "Now that we've seen how interactions can be problematic, how do we measure them? This practice introduces the Relative Gain Array (RGA), an essential tool for pairing inputs and outputs in a multivariable system [@problem_id:1605982]. By analyzing a hypothetical thermal mixing process, you will calculate the RGA and a summary metric of interaction, learning how to make an informed decision on which controller should manage which variable to ensure stable and effective performance.", "problem": "A chemical engineer is designing a decentralized control system for a thermal mixing unit. The system has two manipulated inputs: the flow rate of a hot stream, $u_1$, and the flow rate of a cold stream, $u_2$. The goal is to control two process outputs: the total volumetric flow rate of the mixed stream, $y_1$, and the final temperature of the mixed stream, $y_2$.\n\nFor small deviations from a desired operating point, the steady-state relationship between the inputs and outputs is described by the linear model $\\Delta\\mathbf{y} = K \\Delta\\mathbf{u}$, where $\\mathbf{u} = \\begin{pmatrix} u_1 \\\\ u_2 \\end{pmatrix}$, $\\mathbf{y} = \\begin{pmatrix} y_1 \\\\ y_2 \\end{pmatrix}$, and $K$ is the system's steady-state gain matrix. For this specific process, the gain matrix has been experimentally determined to be:\n$$\nK = \\begin{pmatrix} 0.8 & 0.2 \\\\ 0.2 & 0.8 \\end{pmatrix}\n$$\n\nTo assess the degree of interaction between the control loops, the engineer decides to use Relative Gain Array (RGA) analysis. The RGA matrix, $\\Lambda$, is calculated as $\\Lambda = K \\circ (K^{-1})^T$, where $\\circ$ denotes the element-wise (Hadamard) product. A summary metric for interaction is Bristol's RGA number, $\\eta_{RGA}$, defined for an $n \\times n$ system as:\n$$\n\\eta_{RGA} = \\sum_{i=1}^{n} \\sum_{j=1}^{n} |\\lambda_{ij} - \\delta_{ij}|\n$$\nwhere $\\lambda_{ij}$ are the elements of the RGA matrix $\\Lambda$, and $\\delta_{ij}$ is the Kronecker delta ($\\delta_{ij}=1$ if $i=j$ and $\\delta_{ij}=0$ if $i \\neq j$).\n\nYou are tasked with two objectives:\n1.  Calculate the value of Bristol's RGA number, $\\eta_{RGA}$, for this system. Round your final answer to three significant figures.\n2.  Based on your analysis, select the statement below that best describes the system's characteristics and the appropriate control pairing strategy. The proposed \"direct\" pairing is to use input $u_1$ to control output $y_1$ and input $u_2$ to control output $y_2$.\n\nA. The system has very strong interactions, and a decentralized control strategy using the direct pairing is highly inadvisable as it will likely lead to instability.\n\nB. The system has significant interactions, and while the direct pairing might be stable, its performance will be severely degraded compared to a multivariable controller.\n\nC. The system is perfectly decoupled, meaning the direct pairing will function as two independent single-loop controllers without any cross-effects.\n\nD. The system exhibits weak interactions, and a decentralized control strategy using the direct pairing ($u_1 \\to y_1$, $u_2 \\to y_2$) is recommended and expected to perform well.\n\nE. The system interactions suggest that the pairing should be reversed ($u_1 \\to y_2$, $u_2 \\to y_1$) for effective control.\n\nProvide your answer as a pair: the numerical value for $\\eta_{RGA}$ and the letter corresponding to the correct statement.", "solution": "The problem asks for the calculation of Bristol's Relative Gain Array (RGA) number, $\\eta_{RGA}$, and an interpretation of this value for a given 2x2 system.\n\n**Step 1: Calculate the inverse of the gain matrix K.**\nThe given steady-state gain matrix is:\n$$\nK = \\begin{pmatrix} 0.8 & 0.2 \\\\ 0.2 & 0.8 \\end{pmatrix}\n$$\nFirst, we find the determinant of $K$:\n$$\n\\det(K) = (0.8)(0.8) - (0.2)(0.2) = 0.64 - 0.04 = 0.60\n$$\nThe inverse of a 2x2 matrix $\\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix}$ is $\\frac{1}{ad-bc} \\begin{pmatrix} d & -b \\\\ -c & a \\end{pmatrix}$.\nApplying this formula to $K$:\n$$\nK^{-1} = \\frac{1}{0.60} \\begin{pmatrix} 0.8 & -0.2 \\\\ -0.2 & 0.8 \\end{pmatrix} = \\begin{pmatrix} \\frac{0.8}{0.6} & -\\frac{0.2}{0.6} \\\\ -\\frac{0.2}{0.6} & \\frac{0.8}{0.6} \\end{pmatrix} = \\begin{pmatrix} \\frac{4}{3} & -\\frac{1}{3} \\\\ -\\frac{1}{3} & \\frac{4}{3} \\end{pmatrix}\n$$\n\n**Step 2: Calculate the RGA matrix, $\\Lambda$.**\nThe RGA matrix is defined as $\\Lambda = K \\circ (K^{-1})^T$.\nFirst, we find the transpose of $K^{-1}$. Since $K^{-1}$ is a symmetric matrix, its transpose is equal to itself:\n$$\n(K^{-1})^T = \\begin{pmatrix} \\frac{4}{3} & -\\frac{1}{3} \\\\ -\\frac{1}{3} & \\frac{4}{3} \\end{pmatrix}\n$$\nNow, we perform the element-wise (Hadamard) product of $K$ and $(K^{-1})^T$:\n$$\n\\Lambda = K \\circ (K^{-1})^T = \\begin{pmatrix} 0.8 & 0.2 \\\\ 0.2 & 0.8 \\end{pmatrix} \\circ \\begin{pmatrix} \\frac{4}{3} & -\\frac{1}{3} \\\\ -\\frac{1}{3} & \\frac{4}{3} \\end{pmatrix}\n$$\n$$\n\\Lambda = \\begin{pmatrix} 0.8 \\times \\frac{4}{3} & 0.2 \\times (-\\frac{1}{3}) \\\\ 0.2 \\times (-\\frac{1}{3}) & 0.8 \\times \\frac{4}{3} \\end{pmatrix} = \\begin{pmatrix} \\frac{3.2}{3} & -\\frac{0.2}{3} \\\\ -\\frac{0.2}{3} & \\frac{3.2}{3} \\end{pmatrix} = \\begin{pmatrix} \\frac{16}{15} & -\\frac{1}{15} \\\\ -\\frac{1}{15} & \\frac{16}{15} \\end{pmatrix}\n$$\nAs a check, the sum of elements in any row or column of an RGA matrix must be 1. For the first row: $\\frac{16}{15} - \\frac{1}{15} = \\frac{15}{15} = 1$. The calculation is correct.\n\n**Step 3: Calculate Bristol's RGA number, $\\eta_{RGA}$.**\nThe definition given is $\\eta_{RGA} = \\sum_{i=1}^{2} \\sum_{j=1}^{2} |\\lambda_{ij} - \\delta_{ij}|$.\nThe Kronecker delta matrix for a 2x2 system is the identity matrix $I = \\begin{pmatrix} 1 & 0 \\\\ 0 & 1 \\end{pmatrix}$.\nSo we need to calculate:\n$$\n\\eta_{RGA} = |\\lambda_{11}-1| + |\\lambda_{12}-0| + |\\lambda_{21}-0| + |\\lambda_{22}-1|\n$$\nSubstituting the values from our calculated $\\Lambda$:\n$$\n\\eta_{RGA} = \\left|\\frac{16}{15}-1\\right| + \\left|-\\frac{1}{15}-0\\right| + \\left|-\\frac{1}{15}-0\\right| + \\left|\\frac{16}{15}-1\\right|\n$$\n$$\n\\eta_{RGA} = \\left|\\frac{1}{15}\\right| + \\left|-\\frac{1}{15}\\right| + \\left|-\\frac{1}{15}\\right| + \\left|\\frac{1}{15}\\right|\n$$\n$$\n\\eta_{RGA} = \\frac{1}{15} + \\frac{1}{15} + \\frac{1}{15} + \\frac{1}{15} = \\frac{4}{15}\n$$\nNow, we convert this fraction to a decimal and round to three significant figures:\n$$\n\\eta_{RGA} = \\frac{4}{15} \\approx 0.26666...\n$$\nRounding to three significant figures gives $\\eta_{RGA} = 0.267$.\n\n**Step 4: Interpret the result and choose the correct statement.**\nAn RGA number, $\\eta_{RGA}$, of 0 indicates a perfectly decoupled system (diagonal or anti-diagonal). As the number increases from 0, it indicates a stronger degree of interaction. The value of $\\eta_{RGA} \\approx 0.267$ is small and close to 0, which signifies weak interaction between the control loops.\n\nFurthermore, we examine the RGA matrix $\\Lambda$ itself.\n$$\n\\Lambda = \\begin{pmatrix} 16/15 & -1/15 \\\\ -1/15 & 16/15 \\end{pmatrix} \\approx \\begin{pmatrix} 1.067 & -0.067 \\\\ -0.067 & 1.067 \\end{pmatrix}\n$$\nThe rule of thumb for pairing is to choose input-output pairs corresponding to RGA elements ($\\lambda_{ij}$) that are positive and close to 1.\nFor the direct pairing ($u_1 \\to y_1$, $u_2 \\to y_2$), the corresponding RGA elements are $\\lambda_{11} = 16/15$ and $\\lambda_{22} = 16/15$. Both are positive and very close to 1.\nFor the reversed pairing ($u_1 \\to y_2$, $u_2 \\to y_1$), the RGA elements are $\\lambda_{21} = -1/15$ and $\\lambda_{12} = -1/15$. These are negative, indicating that this pairing would lead to instability or reverse action in the loops.\n\nTherefore, the weak interaction (small $\\eta_{RGA}$) and the RGA elements close to 1 for the diagonal pairing strongly suggest that the direct pairing ($u_1 \\to y_1$, $u_2 \\to y_2$) is a good choice for a decentralized control strategy.\n\nLet's evaluate the options:\nA: Incorrect. Interactions are weak, not strong.\nB: Incorrect. Performance degradation should be minimal due to weak interactions.\nC: Incorrect. The system is not perfectly decoupled, as $\\eta_{RGA} \\neq 0$ and the off-diagonal elements of $\\Lambda$ are not zero.\nD: Correct. The interactions are weak, and the direct pairing is the recommended strategy.\nE: Incorrect. The reversed pairing is strongly discouraged by the negative RGA elements.\n\nThe final answer consists of the numerical value 0.267 and the letter D.", "answer": "$$\\boxed{\\begin{pmatrix} 0.267 & D \\end{pmatrix}}$$", "id": "1605982"}, {"introduction": "When interaction analysis suggests that any simple pairing will perform poorly, a more advanced strategy is needed. This hands-on design problem introduces the concept of a decoupler, a precompensator that effectively cancels the unwanted cross-talk between control loops [@problem_id:1568170]. You will derive the transfer functions for a decoupler that transforms an interacting multivariable process into a set of simple, independent single-input, single-output systems, a powerful technique in practical control engineering.", "problem": "Consider a linear, time-invariant, Two-Input Two-Output (TITO) process that models the interaction between two variables in a chemical reactor. The process is described by the following transfer function matrix $G(s)$:\n$$\nG(s) = \\begin{pmatrix} G_{11}(s) & G_{12}(s) \\\\ G_{21}(s) & G_{22}(s) \\end{pmatrix} = \\begin{pmatrix} \\frac{2}{s+1} & \\frac{1}{s+3} \\\\ \\frac{1.5}{s+4} & \\frac{3}{s+2} \\end{pmatrix}\n$$\nTo simplify the control design, a precompensator, also known as a decoupler, $D(s)$, is introduced. The decoupler is designed with the general structure:\n$$\nD(s) = \\begin{pmatrix} 1 & d_{12}(s) \\\\ d_{21}(s) & 1 \\end{pmatrix}\n$$\nThe objective is to select the transfer functions for the off-diagonal elements, $d_{12}(s)$ and $d_{21}(s)$, such that the compensated system, described by the apparent plant matrix $Q(s) = G(s)D(s)$, is diagonal. This decoupling action ensures that the first input only influences the first output, and the second input only influences the second output.\n\nDetermine the analytic expressions for the decoupler elements $d_{12}(s)$ and $d_{21}(s)$. Present your final answer as a single 1x2 row matrix with $d_{12}(s)$ as the first element and $d_{21}(s)$ as the second element.", "solution": "We are given the TITO plant\n$$\nG(s)=\\begin{pmatrix}\nG_{11}(s) & G_{12}(s)\\\\\nG_{21}(s) & G_{22}(s)\n\\end{pmatrix}\n=\n\\begin{pmatrix}\n\\frac{2}{s+1} & \\frac{1}{s+3}\\\\\n\\frac{1.5}{s+4} & \\frac{3}{s+2}\n\\end{pmatrix},\n$$\nand a right precompensator (decoupler)\n$$\nD(s)=\\begin{pmatrix}\n1 & d_{12}(s)\\\\\nd_{21}(s) & 1\n\\end{pmatrix}.\n$$\nThe compensated (apparent) plant is\n$$\nQ(s)=G(s)D(s).\n$$\nMatrix multiplication gives\n$$\nQ(s)=\\begin{pmatrix}\nG_{11}+G_{12}d_{21} & G_{11}d_{12}+G_{12}\\\\\nG_{21}+G_{22}d_{21} & G_{21}d_{12}+G_{22}\n\\end{pmatrix}.\n$$\nTo achieve decoupling, we require the off-diagonal entries to be zero:\n$$\nG_{11}d_{12}+G_{12}=0,\\qquad G_{21}+G_{22}d_{21}=0.\n$$\nSolving these linear equations for the decoupler elements yields\n$$\nd_{12}(s)=-\\frac{G_{12}(s)}{G_{11}(s)},\\qquad d_{21}(s)=-\\frac{G_{21}(s)}{G_{22}(s)}.\n$$\nSubstituting the given transfer functions,\n$$\nd_{12}(s)=-\\frac{\\frac{1}{s+3}}{\\frac{2}{s+1}}=-\\frac{s+1}{2(s+3)},\n\\qquad\nd_{21}(s)=-\\frac{\\frac{1.5}{s+4}}{\\frac{3}{s+2}}=-\\frac{1.5(s+2)}{3(s+4)}=-\\frac{s+2}{2(s+4)}.\n$$\nVerification of decoupling:\n$$\nQ_{12}=G_{11}d_{12}+G_{12}=\\frac{2}{s+1}\\left(-\\frac{s+1}{2(s+3)}\\right)+\\frac{1}{s+3}=-\\frac{1}{s+3}+\\frac{1}{s+3}=0,\n$$\n$$\nQ_{21}=G_{21}+G_{22}d_{21}=\\frac{1.5}{s+4}+\\frac{3}{s+2}\\left(-\\frac{s+2}{2(s+4)}\\right)=\\frac{1.5}{s+4}-\\frac{1.5}{s+4}=0.\n$$\nThus the chosen $d_{12}(s)$ and $d_{21}(s)$ achieve a diagonal apparent plant $Q(s)$.", "answer": "$$\\boxed{\\begin{pmatrix}-\\frac{s+1}{2(s+3)} & -\\frac{s+2}{2(s+4)}\\end{pmatrix}}$$", "id": "1568170"}]}