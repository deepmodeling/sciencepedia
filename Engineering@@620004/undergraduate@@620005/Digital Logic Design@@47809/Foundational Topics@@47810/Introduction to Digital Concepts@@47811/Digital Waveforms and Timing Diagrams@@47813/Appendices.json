{"hands_on_practices": [{"introduction": "In an ideal digital world, logic gates respond instantly. However, in reality, every component has a propagation delay. This first exercise [@problem_id:1929912] provides a foundational practice in timing analysis by asking you to trace the output of a combinational parity circuit. By calculating the effect of a fixed propagation delay, $t_{pd}$, you will learn the fundamental skill of translating an ideal logic function into a realistic timing diagram.", "problem": "A digital system includes an 8-bit parallel data bus, denoted as $D[7:0]$, where $D[7]$ is the most significant bit. This bus is monitored by a combinational logic circuit that generates a single output bit, $P_{even}$, representing the even parity of the 8-bit data. An even parity scheme ensures that the total number of '1's in the 9-bit word (the 8 data bits plus the 1 parity bit) is always even. The parity generation circuit has a fixed propagation delay of $t_{pd} = 4.5 \\text{ ns}$ from any change on the input data bus $D$ to the corresponding change on the output $P_{even}$.\n\nInitially, the data on the bus is stable at the hexadecimal value $0x55$. At time $t = 10.0 \\text{ ns}$, the data value on the bus instantaneously changes to the hexadecimal value $0xD5$ and remains stable thereafter.\n\nWhich of the following statements accurately describes the behavior of the output signal $P_{even}$ as a function of time, given in nanoseconds (ns)?\n\nA. The signal $P_{even}$ is initially 0, transitions to 1 at $t = 14.5 \\text{ ns}$, and remains at 1.\n\nB. The signal $P_{even}$ is initially 1, transitions to 0 at $t = 14.5 \\text{ ns}$, and remains at 0.\n\nC. The signal $P_{even}$ is initially 0, transitions to 1 at $t = 10.0 \\text{ ns}$, and remains at 1.\n\nD. The signal $P_{even}$ is initially 1, transitions to 0 at $t = 10.0 \\text{ ns}$, and remains at 0.\n\nE. The signal $P_{even}$ remains stable at 0 for all time.\n\nF. The signal $P_{even}$ remains stable at 1 for all time.", "solution": "Define the even-parity bit for an 8-bit word $D[7:0]$ as the bit $P_{even}$ that makes the total number of ones in the $9$-bit word $(D[7:0], P_{even})$ even. Equivalently, letting $\\oplus$ denote XOR, the even-parity bit is the XOR of the data bits:\n$$\nP_{even}=\\bigoplus_{i=0}^{7} D_{i}.\n$$\nThis follows because $\\bigoplus_{i=0}^{7} D_{i}=1$ if and only if the number of ones in $D[7:0]$ is odd, in which case $P_{even}=1$ makes the total even; if $\\bigoplus_{i=0}^{7} D_{i}=0$ (an even number of ones), then $P_{even}=0$ keeps the total even.\n\nThe circuit has a fixed propagation delay $t_{pd}=4.5\\ \\text{ns}$, so the observable output as a function of time is the parity of the input evaluated $t_{pd}$ earlier:\n$$\nP_{even}(t)=\\bigoplus_{i=0}^{7} D_{i}(t-t_{pd}).\n$$\n\nInitially, for $t<10.0\\ \\text{ns}$, the bus value is $0x55=0101\\,0101$. The number of ones in $0101\\,0101$ is $4$, which is even, hence\n$$\n\\bigoplus_{i=0}^{7} D_{i}=0 \\quad\\Rightarrow\\quad P_{even}=0.\n$$\n\nAt $t=10.0\\ \\text{ns}$, the bus instantaneously changes to $0xD5=1101\\,0101$. The number of ones in $1101\\,0101$ is $5$, which is odd, hence\n$$\n\\bigoplus_{i=0}^{7} D_{i}=1 \\quad\\Rightarrow\\quad P_{even}=1\n$$\nfor the new data.\n\nBecause of the propagation delay, this change in $P_{even}$ appears at the output $t_{pd}=4.5\\ \\text{ns}$ after the input change. Therefore, the transition on $P_{even}$ occurs at\n$$\nt=10.0\\ \\text{ns}+4.5\\ \\text{ns}=14.5\\ \\text{ns}.\n$$\nThus, $P_{even}$ is initially $0$, transitions to $1$ at $t=14.5\\ \\text{ns}$, and remains at $1$ thereafter. This corresponds to option A.", "answer": "$$\\boxed{A}$$", "id": "1929912"}, {"introduction": "Building on the concept of simple delay, we now explore its impact in circuits with feedback. The SR latch is a fundamental memory element, but it has a 'forbidden' input state which can lead to unpredictable behavior. This thought experiment [@problem_id:1929927] challenges you to analyze what happens when the latch leaves this forbidden state, revealing how minute differences in propagation delays between gates can resolve a race condition and determine the final stable state.", "problem": "Consider a basic Set-Reset (SR) latch constructed from two cross-coupled 2-input NOR gates. The first NOR gate, let's call it `G_Q`, has the output Q. Its inputs are the external signal S and the output of the other gate, Q_bar. The second NOR gate, `G_Q_bar`, has the output Q_bar. Its inputs are the external signal R and the output Q. The logical behavior of a NOR gate is defined by the Boolean expression `OUT = NOT(A OR B)`.\n\nThe physical implementation of the circuit is not perfectly symmetrical. The propagation delay of gate `G_Q` is `t_pd_Q = 2.0` nanoseconds (ns), while the propagation delay of gate `G_Q_bar` is `t_pd_Q_bar = 2.2` ns.\n\nThe system is initially subjected to the \"forbidden\" input state. For all time $t  0$, both inputs S and R are held high (logical 1). At the precise moment $t = 0$, both inputs are simultaneously de-asserted, transitioning from 1 to 0. For all $t \\ge 0$, the inputs remain low (S=0, R=0).\n\nWhat is the final, stable logical state of the output Q long after this transition occurs (i.e., for $t > 10$ ns)?\n\nA. Q will be 0.\n\nB. Q will be 1.\n\nC. Q will oscillate between 0 and 1 indefinitely.\n\nD. The state of Q is logically indeterminate and cannot be determined from the information provided.", "solution": "A 2-input NOR gate implements $Y=\\overline{A \\lor B}$. With a propagation delay $t_{pd}$, an input change at time $\\tau$ that changes the evaluated logical output causes the output to change at time $\\tau + t_{pd}$ (inertial delay model).\n\nDefine the cross-coupled latch:\n$$Q=\\overline{S \\lor Q_{\\text{bar}}}, \\qquad Q_{\\text{bar}}=\\overline{R \\lor Q}.$$\nGiven $t_{pd,Q}=2.0\\,\\text{ns}$ for $G_{Q}$ and $t_{pd,Q_{\\text{bar}}}}=2.2\\,\\text{ns}$ for $G_{Q_{\\text{bar}}}$.\n\nInitial condition for $t0$: $S=1$, $R=1$. Then\n$$Q=\\overline{1 \\lor Q_{\\text{bar}}}=0, \\qquad Q_{\\text{bar}}=\\overline{1 \\lor Q}=0.$$\n\nAt $t=0^{+}$: $S=0$, $R=0$ and the feedback values are still $Q=0$, $Q_{\\text{bar}}=0$ until outputs respond.\n\nEvaluate each gateâ€™s desired output immediately after $t=0$:\n- For $G_{Q}$: inputs $(S,Q_{\\text{bar}})=(0,0)$, so desired $Q=\\overline{0 \\lor 0}=1$. With $t_{pd,Q}=2.0\\,\\text{ns}$, this schedules $Q$ to switch $0 \\to 1$ at $t=2.0\\,\\text{ns}$, provided no intervening input change makes this evaluation invalid.\n- For $G_{Q_{\\text{bar}}}$: inputs $(R,Q)=(0,0)$, so desired $Q_{\\text{bar}}=\\overline{0 \\lor 0}=1$. With $t_{pd,Q_{\\text{bar}}}=2.2\\,\\text{ns}$, this schedules $Q_{\\text{bar}}$ to switch $0 \\to 1$ at $t=2.2\\,\\text{ns}$, likewise subject to cancellation if inputs change to make the evaluation different.\n\nAt $t=2.0\\,\\text{ns}$, $Q$ switches to $1$. This input change is seen by $G_{Q_{\\text{bar}}}$, whose inputs become $(R,Q)=(0,1)$, giving the immediate logical evaluation\n$$Q_{\\text{bar}}=\\overline{0 \\lor 1}=0.$$\nSince $Q_{\\text{bar}}$ is already $0$, there is no output change to schedule, and the previously scheduled $0 \\to 1$ at $t=2.2\\,\\text{ns}$ is invalidated by the new input condition at $t=2.0\\,\\text{ns}$.\n\nThe latch has thus reached the stable state\n$$Q=1, \\qquad Q_{\\text{bar}}=0,$$\nwhich satisfies the steady-state equations for $S=R=0$:\n$$Q=\\overline{Q_{\\text{bar}}}=1, \\qquad Q_{\\text{bar}}=\\overline{Q}=0.$$\nNo further transitions occur, so for $t10\\,\\text{ns}$ the output remains $Q=1$.\n\nTherefore, the correct choice is B.", "answer": "$$\\boxed{B}$$", "id": "1929927"}, {"introduction": "Our final practice moves into the realm of high-performance synchronous design, where managing timing is critical for reliability. This problem [@problem_id:1929964] presents a common power-saving technique, clock gating, which is notoriously susceptible to timing hazards called glitches. You will analyze the race between a clock and an enable signal to determine the specific range of clock skew that leads to a hazardous glitch, providing a direct insight into the challenges of robust digital system design.", "problem": "In a digital system, a clock gating circuit is implemented to save power. This circuit consists of a simple two-input AND gate whose output, `CLK_gated`, is used to clock a downstream register bank. One input to the AND gate is the system's master clock, `CLK`. The other input is a gate-enable signal, `EN`.\n\nThe master clock `CLK` is a periodic signal with a 50% duty cycle. The enable signal `EN` is generated by the Q-output of a positive-edge-triggered D-type flip-flop (DFF). This DFF is itself clocked by the master `CLK`. The clock-to-Q propagation delay of this DFF is specified as $t_{cq} = 1.3$ ns.\n\nA notable routing delay, $t_{route} = 1.1$ ns, exists for the `EN` signal to travel from the DFF's output to the AND gate's input. Furthermore, a clock skew, $t_{skew}$, is present in the clock distribution network. This skew causes the rising edge of `CLK` to arrive at the AND gate's input at a time $t_{skew}$ after the same edge arrives at the DFF's clock pin. The value of $t_{skew}$ can be adjusted by tuning delay elements in the clock path.\n\nWhen the system decides to disable the clock to the register bank, the `EN` signal transitions from high to low, initiated by a rising edge of `CLK`. This operation can inadvertently produce a short, unwanted pulse, known as a glitch, on the `CLK_gated` line. In this system, such a glitch is considered hazardous if its duration is strictly greater than $W_{min} = 0.5$ ns.\n\nA hazardous glitch will occur if the clock skew $t_{skew}$ falls within a particular range. Which of the following conditions on $t_{skew}$ (in nanoseconds) correctly defines the range that will result in a hazardous glitch on `CLK_gated` when the clock is being disabled?\n\nA. $t_{skew}  1.9$\n\nB. $t_{skew}  1.9$\n\nC. $t_{skew}  2.4$\n\nD. $t_{skew}  2.4$\n\nE. $t_{skew}  0.2$\n\nF. $t_{skew}  0.2$", "solution": "Let $t=0$ be the rising edge of $CLK$ at the DFF clock pin that initiates disabling. By definition of propagation and routing delays:\n$$\nt_{\\text{EN,fall}}=t_{cq}+t_{route}.\n$$\nThe same rising edge of $CLK$ arrives at the AND gate input at\n$$\nt_{\\text{CLK@AND}}=t_{skew}.\n$$\nBecause the AND gate outputs high only when both inputs are high, during a disable event with $EN$ transitioning from high to low:\n- If $t_{skew}\\geq t_{cq}+t_{route}$, then $EN$ is already low when the clock edge reaches the AND gate, so no pulse appears and there is no glitch.\n- If $t_{skew}t_{cq}+t_{route}$, then $CLK\\_{\\text{gated}}$ will go high at $t_{skew}$ and return low when $EN$ falls at $t_{cq}+t_{route}$, producing a pulse of width\n$$\nw=(t_{cq}+t_{route})-t_{skew}.\n$$\nA hazardous glitch is defined by $wW_{min}$. Therefore, the condition for a hazardous glitch is\n$$\n(t_{cq}+t_{route})-t_{skew}W_{min}\\quad\\Longleftrightarrow\\quad t_{skew}t_{cq}+t_{route}-W_{min}.\n$$\nSubstituting the given values,\n$$\nt_{skew}1.3+1.1-0.5=1.9\\ \\text{ns}.\n$$\nThis corresponds to option A.", "answer": "$$\\boxed{A}$$", "id": "1929964"}]}