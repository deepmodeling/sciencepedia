{"hands_on_practices": [{"introduction": "Understanding the behavior of asynchronous circuits begins with analyzing their state transitions. A flow table is a fundamental tool that maps every possible combination of current state and input to a next state. This exercise challenges you to use a flow table to diagnose a critical raceâ€”a scenario where the circuit's final stable state becomes unpredictable due to internal timing differences. Identifying these potential failures is the first step toward designing robust and reliable digital systems. [@problem_id:1956353]", "problem": "An asynchronous sequential circuit is described by the flow table below. The circuit has two state variables, $y_1$ and $y_2$, and a single input variable, $x$. The entries in the table represent the next state ($Y_1 Y_2$) for a given present state ($y_1 y_2$) and input $x$. A stable state occurs when the next state is the same as the present state ($Y_1 Y_2 = y_1 y_2$).\n\nConsider the case where the circuit can settle into one of two different stable states, $S_A$ (represented by $y_1y_2 = 10$) or $S_B$ (represented by $y_1y_2 = 11$), due to a critical race condition. A critical race occurs when a single input change causes two or more state variables to change, and the final stable state reached depends on the relative propagation delays of the internal signals.\n\n**Flow Table:**\n\n| Present State ($y_1 y_2$) | Next State ($Y_1 Y_2$) for $x=0$ | Next State ($Y_1 Y_2$) for $x=1$ |\n|:-------------------------:|:--------------------------------:|:--------------------------------:|\n| 00                        | 00                               | 11                               |\n| 01                        | 01                               | 11                               |\n| 11                        | 10                               | 11                               |\n| 10                        | 00                               | 10                               |\n\nWhich of the following transitions describes the specific scenario that can lead to this critical race, resulting in a final stable state of either $S_A$ or $S_B$?\n\nA. The circuit is in the stable state corresponding to $y_1y_2 = 00$ and the input $x$ changes from 0 to 1.\n\nB. The circuit is in the stable state corresponding to $y_1y_2 = 11$ and the input $x$ changes from 1 to 0.\n\nC. The circuit is in the stable state corresponding to $y_1y_2 = 01$ and the input $x$ changes from 0 to 1.\n\nD. The circuit is in the stable state corresponding to $y_1y_2 = 10$ and the input $x$ changes from 1 to 0.", "solution": "A critical race in an asynchronous sequential circuit occurs when a single input change causes two or more state variables to change simultaneously, so that unequal internal delays can lead to different sequences of intermediate states and possibly different final stable states.\n\nFrom the flow table, determine stability and the number of bits changing for each present state and input:\n- For $y_{1}y_{2}=00$: if $x=0$, $Y_{1}Y_{2}=00$ (stable); if $x=1$, $Y_{1}Y_{2}=11$ (both bits change).\n- For $y_{1}y_{2}=01$: if $x=0$, $Y_{1}Y_{2}=01$ (stable); if $x=1$, $Y_{1}Y_{2}=11$ (one bit changes).\n- For $y_{1}y_{2}=11$: if $x=1$, $Y_{1}Y_{2}=11$ (stable); if $x=0$, $Y_{1}Y_{2}=10$ (one bit changes).\n- For $y_{1}y_{2}=10$: if $x=1$, $Y_{1}Y_{2}=10$ (stable); if $x=0$, $Y_{1}Y_{2}=00$ (one bit changes).\n\nA critical race can only occur where a single input change demands a two-bit state change. The only such case is when the circuit is in $y_{1}y_{2}=00$ and $x$ changes from $0$ to $1$, since $Y_{1}Y_{2}$ becomes $11$. Due to unequal delays, the circuit may pass through different intermediate states:\n- If $y_{2}$ changes first, the sequence is $00 \\to 01$. With $x=1$ at $01$, the next state is $11$, and then $11$ is stable for $x=1$, yielding $S_{B}$.\n- If $y_{1}$ changes first, the sequence is $00 \\to 10$. With $x=1$ at $10$, the next state is $10$, which is already stable for $x=1$, yielding $S_{A}$.\n\nThus, starting in $y_{1}y_{2}=00$ with an input change $x:0 \\to 1$ can lead to either $S_{A}$ or $S_{B}$ depending on relative delays, which is exactly the described critical race. The other options involve only one-bit changes and therefore do not produce this ambiguity.", "answer": "$$\\boxed{A}$$", "id": "1956353"}, {"introduction": "Once a critical race is identified, a designer's next task is to eliminate it. A common and effective technique involves modifying the state transition path to prevent multiple state variables from changing simultaneously. This practice provides a hands-on opportunity to apply this method by strategically inserting an intermediate state, thereby transforming an unpredictable race into a deterministic, step-by-step sequence. [@problem_id:1956335]", "problem": "Consider an asynchronous sequential circuit operating in fundamental mode, where state transitions are triggered by changes in input levels. The circuit has two state variables, $y_1$ and $y_2$, and a single input, $x$. Its behavior is defined by the following flow table, which shows the next state $(Y_1 Y_2)$ for each combination of present state $(y_1 y_2)$ and input $x$.\n\n| Present State ($y_1 y_2$) | Next State ($Y_1 Y_2$) |\n|---|---|\n| | **x=0** | **x=1** |\n| 00 | 00 | 00 |\n| 01 | 01 | 10 |\n| 11 | 01 | 11 |\n| 10 | 00 | 10 |\n\nIn this flow table, an entry where the next state $(Y_1 Y_2)$ is the same as the present state $(y_1 y_2)$ represents a stable state. For instance, for present state `00` and input `x=0`, the next state is `00`, so the circuit is stable. All other entries represent unstable states, leading to further transitions.\n\nA critical race condition exists in this design. Specifically, when the circuit is in the stable state for $(y_1, y_2) = (0, 1)$ with input $x=0$, a change in the input to $x=1$ initiates a transition that requires both state variables to change simultaneously. Due to unpredictable gate and wire delays, the circuit may end up in an incorrect final stable state.\n\nYour task is to eliminate this critical race. To do so, you must modify the flow table to create a deterministic, race-free transition path that utilizes the state encoded as $(y_1, y_2) = (1, 1)$ as a temporary, unstable intermediate state.\n\nProvide the two modified next-state entries in the flow table that accomplish this. Present your answer as a row matrix `[entry_A, entry_B]`, where `entry_A` is the new next-state $(Y_1 Y_2)$ for (Present State=`01`, Input=`1`) and `entry_B` is the new next-state $(Y_1 Y_2)$ for (Present State=`11`, Input=`1`). Both entries must be represented as two-digit binary numbers.", "solution": "We analyze the given asynchronous sequential circuit in fundamental mode. The flow table specifies next-state behavior for the two state variables $y_{1}$ and $y_{2}$ under the single input $x$. A stable state occurs when the next state $(Y_{1}Y_{2})$ equals the present state $(y_{1}y_{2})$.\n\nFrom the table, the entry for $(y_{1}y_{2},x)=(01,1)$ is $10$. The Hamming distance between $01$ and $10$ is\n$$\nd_{H}(01,10)=2,\n$$\nwhich implies that both state variables must change, creating a critical race in an asynchronous implementation due to arbitrary relative delays.\n\nTo eliminate the critical race while preserving the intended external mapping (that a change from $x=0$ to $x=1$ at present state $01$ should ultimately lead to the stable state $10$), we enforce a single-bit step sequence that uses $(11)$ as a temporary, unstable intermediate state as required. We therefore modify:\n- the next state for $(01,1)$ to be $11$, so that\n$$\nd_{H}(01,11)=1,\n$$\n- and the next state for $(11,1)$ to be $10$, so that\n$$\nd_{H}(11,10)=1.\n$$\n\nWith these two modifications, the transition under $x=1$ becomes $01 \\rightarrow 11 \\rightarrow 10$, which is race-free because each step changes only one state variable. The final stable state at $(10,1)$ remains unchanged from the original specification, and $(11,1)$ becomes an unstable intermediate state as intended.\n\nThus, the required modified entries are:\n- entry for (Present State $=01$, Input $=1$): $11$,\n- entry for (Present State $=11$, Input $=1$): $10$.", "answer": "$$\\boxed{\\begin{pmatrix} 11 & 10 \\end{pmatrix}}$$", "id": "1956335"}, {"introduction": "Beyond settling in an incorrect state due to a race, asynchronous circuits can also fall into endless cycles or oscillations, preventing them from ever reaching a stable condition. To detect such behaviors, we must map out the entire state space and analyze the potential transition paths from every unstable state. This exercise guides you through a systematic analysis of a circuit's excitation equations to build its state transition graph and identify all states that are trapped in cycles. [@problem_id:1956292]", "problem": "An asynchronous sequential circuit is a system whose state variables can change at any time in response to changes in its internal logic, without being synchronized by a clock signal. The behavior of such a circuit can be described by a set of excitation equations, which define the \"next\" or \"target\" value for each state variable based on the current values of all state variables.\n\nConsider a 3-variable asynchronous circuit with state variables $y_1, y_2, y_3$. The state of the circuit is represented by the vector $(y_1, y_2, y_3)$. The target state, denoted by the vector $(Y_1, Y_2, Y_3)$, is determined by the following Boolean excitation equations:\n\n$Y_1 = y_1' y_2 + y_1 y_3$\n$Y_2 = y_1 y_2' + y_2 y_3'$\n$Y_3 = y_1' y_3' + y_2 y_3$\n\nwhere multiplication represents the logical AND operation, addition represents the logical OR operation, and the prime symbol (') denotes the logical NOT operation.\n\nThe circuit operates under the following transition model:\n1.  For a given current state $(y_1, y_2, y_3)$, the target state $(Y_1, Y_2, Y_3)$ is computed.\n2.  If the current state is identical to the target state, the state is defined as **stable**, and the circuit remains in this state.\n3.  If the current state differs from the target state, it is **unstable**. One or more state variables $y_i$ will have a value different from their target value $Y_i$.\n4.  When in an unstable state, the circuit transitions to a new state by changing the value of exactly one of the unstable variables. If multiple variables are unstable (a situation known as a race condition), the circuit can transition to any of the states reachable by toggling just one of these unstable variables.\n\nA **cycle** is defined as a sequence of two or more distinct states $S_1, S_2, \\dots, S_k$ (where $k \\ge 2$) such that a valid transition is possible from $S_1$ to $S_2$, from $S_2$ to $S_3$, ..., from $S_{k-1}$ to $S_k$, and finally from $S_k$ back to $S_1$.\n\nDetermine the total number of distinct states of the circuit that are part of at least one such cycle.", "solution": "The excitation equations are\n$$Y_{1}=y_{1}'y_{2}+y_{1}y_{3},\\qquad Y_{2}=y_{1}y_{2}'+y_{2}y_{3}',\\qquad Y_{3}=y_{1}'y_{3}'+y_{2}y_{3}.$$\nFor a current state $s=(y_{1},y_{2},y_{3})$, compute $Y(s)=(Y_{1},Y_{2},Y_{3})$. If $y_{i}\\neq Y_{i}$, then variable $y_{i}$ is unstable; from $s$ a valid transition is obtained by changing exactly one unstable $y_{i}$ to its target value $Y_{i}$, yielding a successor state differing in exactly that one coordinate.\n\nFirst, rewrite the excitation equations casewise to simplify evaluation:\n- For $Y_{1}$, if $y_{1}=0$ then $Y_{1}=y_{2}$, and if $y_{1}=1$ then $Y_{1}=y_{3}$.\n- For $Y_{2}$, if $y_{2}=0$ then $Y_{2}=y_{1}$, and if $y_{2}=1$ then $Y_{2}=y_{3}'$.\n- For $Y_{3}$, if $y_{3}=0$ then $Y_{3}=y_{1}'$, and if $y_{3}=1$ then $Y_{3}=y_{2}$.\n\nEvaluate $Y(s)$, the unstable set, and the outgoing transitions for all eight states:\n1) $s=(0,0,0)$: $Y=(0,0,1)$. Unstable index $\\{3\\}$. Transition $(0,0,0)\\to(0,0,1)$.\n2) $s=(0,0,1)$: $Y=(0,0,0)$. Unstable index $\\{3\\}$. Transition $(0,0,1)\\to(0,0,0)$.\n3) $s=(0,1,0)$: $Y=(1,1,1)$. Unstable indices $\\{1,3\\}$. Transitions $(0,1,0)\\to(1,1,0)$ and $(0,1,0)\\to(0,1,1)$.\n4) $s=(0,1,1)$: $Y=(1,0,1)$. Unstable indices $\\{1,2\\}$. Transitions $(0,1,1)\\to(1,1,1)$ and $(0,1,1)\\to(0,0,1)$.\n5) $s=(1,0,0)$: $Y=(0,1,0)$. Unstable indices $\\{1,2\\}$. Transitions $(1,0,0)\\to(0,0,0)$ and $(1,0,0)\\to(1,1,0)$.\n6) $s=(1,0,1)$: $Y=(1,1,0)$. Unstable indices $\\{2,3\\}$. Transitions $(1,0,1)\\to(1,1,1)$ and $(1,0,1)\\to(1,0,0)$.\n7) $s=(1,1,0)$: $Y=(0,1,0)$. Unstable index $\\{1\\}$. Transition $(1,1,0)\\to(0,1,0)$.\n8) $s=(1,1,1)$: $Y=(1,0,1)$. Unstable index $\\{2\\}$. Transition $(1,1,1)\\to(1,0,1)$.\n\nFrom these transitions, identify cycles:\n- The pair $(0,0,0)\\leftrightarrow(0,0,1)$ forms a cycle of length $2$.\n- The pair $(0,1,0)\\leftrightarrow(1,1,0)$ forms a cycle of length $2$.\n- The pair $(1,1,1)\\leftrightarrow(1,0,1)$ forms a cycle of length $2$.\n- Moreover, the six states $(0,1,0),(1,1,0),(0,1,1),(1,1,1),(1,0,1),(1,0,0)$ form a strongly connected subgraph; for example, a cycle is\n$$(0,1,1)\\to(1,1,1)\\to(1,0,1)\\to(1,0,0)\\to(1,1,0)\\to(0,1,0)\\to(0,1,1).$$\nHence each of these six states lies on at least one directed cycle. Together with the two states $(0,0,0)$ and $(0,0,1)$ that also lie on a $2$-cycle, all $8$ states of the circuit are part of at least one cycle.\n\nTherefore, the total number of distinct states that belong to at least one cycle is $8$.", "answer": "$$\\boxed{8}$$", "id": "1956292"}]}