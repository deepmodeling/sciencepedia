{"hands_on_practices": [{"introduction": "Our first practice focuses on the fundamental timing constraint in any synchronous circuit. We will analyze a simple feedback loop, where a register's output is processed by combinational logic and then fed back to its own input. This exercise [@problem_id:1946454] solidifies the core equation governing maximum clock frequency, which dictates that the clock period $T$ must be long enough to accommodate the sum of the clock-to-Q delay ($t_{c-q}$), the combinational logic delay ($t_{comb}$), and the register's setup time ($t_{setup}$).", "problem": "A specialized data scrambling module within a high-speed communication system is built around a synchronous feedback loop. This loop consists of a single D-type flip-flop (DFF) and a block of combinational logic. The output of the DFF is connected to the input of the combinational logic block, and the output of this logic block is fed back to the D-input of the same DFF. The entire circuit is driven by a single, ideal clock signal.\n\nThe timing characteristics of the components are as follows:\n- The clock-to-Q delay of the DFF is $t_{c-q} = 65 \\text{ ps}$.\n- The propagation delay through the combinational logic block is $t_{comb} = 750 \\text{ ps}$.\n- The setup time required by the DFF is $t_{setup} = 85 \\text{ ps}$.\n- The hold time required by the DFF is $t_{hold} = 40 \\text{ ps}$.\n\nAssuming the hold time constraint is satisfied, calculate the minimum possible clock period that ensures the circuit operates reliably without any setup time violations. Express your final answer in nanoseconds (ns), rounded to three significant figures.", "solution": "We consider the single-register synchronous loop where the data launched from the DFF output must propagate through the combinational logic and arrive at the DFF input in time to meet the setup requirement before the next active clock edge. With an ideal clock and no skew or jitter, the setup-time constraint for reliable operation is given by:\n$$\nT_{\\min} \\geq t_{c-q} + t_{comb} + t_{setup}.\n$$\nSubstituting the given values in picoseconds:\n$$\nT_{\\min} = 65\\,\\text{ps} + 750\\,\\text{ps} + 85\\,\\text{ps} = 900\\,\\text{ps}.\n$$\nConverting to nanoseconds:\n$$\n900\\,\\text{ps} = 0.900\\,\\text{ns}.\n$$\nThe hold-time constraint is stated to be satisfied, so it does not further constrain the minimum period. Therefore, the minimum clock period that avoids setup violations is $0.900\\,\\text{ns}$, rounded to three significant figures.", "answer": "$$\\boxed{0.900}$$", "id": "1946454"}, {"introduction": "Ideal circuits are a useful starting point, but real-world designs are governed by physical realities like wiring delays. This practice introduces the critical concept of clock skew ($T_{skew}$), the variation in arrival time of the clock signal at different registers. By working through this problem [@problem_id:1946392], you will learn how to incorporate skew into the timing equation and discover how it modifies the available time for data propagation, a crucial consideration in high-performance digital systems.", "problem": "A design engineer is analyzing a critical path in a pipelined stage of a custom Application-Specific Integrated Circuit (ASIC) designed for high-speed signal processing. The path consists of a source register, a block of combinational logic, and a destination register, all driven by the same system clock. The timing parameters for the components have been characterized as follows:\n\n- The clock-to-Q delay ($T_{cq}$) for any flip-flop in the source register is 250 ps.\n- The maximum propagation delay through the combinational logic block ($T_{logic}$) is 180 ps.\n- The setup time ($T_{setup}$) required by the flip-flops in the destination register is 60 ps.\n\nDue to routing variations on the chip, there is a clock skew ($T_{skew}$) between the two registers. The clock signal arrives at the destination register's clock input 20 ps later than it arrives at the source register's clock input.\n\nAssuming these are the only timing constraints, determine the maximum possible operating frequency of this pipeline stage. Express your answer in gigahertz (GHz), rounded to three significant figures.", "solution": "For a synchronous pipeline stage with a source register, combinational logic, and a destination register, the setup-time constraint across a single cycle with clock skew is derived by aligning the data arrival and the next capture clock edge.\n\nLet the launch clock edge at the source occur at time zero. The data arrival time at the destination input is:\n$$\nt_{\\text{arr}}=T_{cq}+T_{\\text{logic}}.\n$$\nThe next capture clock edge at the destination arrives at:\n$$\nt_{\\text{cap}}=T_{\\text{clk}}+T_{\\text{skew}},\n$$\nwhere $T_{\\text{skew}}$ is positive if the destination clock arrives later than the source clock. The setup constraint requires:\n$$\nt_{\\text{arr}}+T_{\\text{setup}}\\leq t_{\\text{cap}},\n$$\nwhich gives:\n$$\nT_{cq}+T_{\\text{logic}}+T_{\\text{setup}}\\leq T_{\\text{clk}}+T_{\\text{skew}}.\n$$\nTherefore, the minimum allowable clock period is:\n$$\nT_{\\text{clk,min}}=T_{cq}+T_{\\text{logic}}+T_{\\text{setup}}-T_{\\text{skew}}.\n$$\nSubstituting the given values (in picoseconds):\n$$\nT_{\\text{clk,min}}=250+180+60-20=470\\ \\text{ps}.\n$$\nThe maximum operating frequency is the reciprocal of the minimum period:\n$$\nf_{\\max}=\\frac{1}{T_{\\text{clk,min}}}=\\frac{1}{470\\times 10^{-12}\\ \\text{s}}=\\frac{1}{0.470\\ \\text{ns}}\\approx 2.12766\\ \\text{GHz}.\n$$\nRounding to three significant figures:\n$$\nf_{\\max}=2.13\\ \\text{GHz}.\n$$", "answer": "$$\\boxed{2.13}$$", "id": "1946392"}, {"introduction": "In previous exercises, we treated combinational logic as a block with a single, fixed delay. This final practice challenges you to look inside that block by analyzing the structure of a 16-bit ripple-carry adder to find its true worst-case delay ($T_{comb,max}$). This exercise [@problem_id:1946430] demonstrates that a circuit's maximum operating speed is dictated by its longest data-dependent path, a vital concept for ensuring a design is robust and reliable under all possible input conditions.", "problem": "An engineer is designing a synchronous digital signal processing core that heavily relies on a 16-bit pipelined adder. The adder computes the sum $S = A + B$ for two 16-bit inputs, $A$ and $B$. The pipeline architecture consists of input registers that hold $A$ and $B$, the combinational adder logic, and an output register that captures the sum $S$. The timing parameters for the registers are a clock-to-Q delay of $t_{\\text{clk-q}} = 0.2$ ns and a setup time of $t_{\\text{setup}} = 0.3$ ns.\n\nThe adder itself is constructed as a ripple-carry adder, connecting 16 Full-Adder (FA) cells in series. The delay through the adder is data-dependent. A detailed analysis of a single FA cell at bit position $i$ provides the following timing characteristics, where all times are relative to the start of the combinational logic evaluation period (i.e., after the input registers have stabilized):\n\n- The arrival time of the carry-in to the first FA cell, $C_0$, is $t=0$ as it is wired to ground.\n- The arrival time for the carry-out $C_{i+1}$ depends on the inputs $A_i$ and $B_i$:\n    1. If $A_i = B_i$ (i.e., generate or kill a carry), the carry-out $C_{i+1}$ is determined independently of the carry-in $C_i$. Its value is stable at $0.5$ ns.\n    2. If $A_i \\ne B_i$ (i.e., propagate a carry), the carry-out $C_{i+1}$ depends on the carry-in $C_i$. Its arrival time is $T_{C_{i+1}} = T_{C_i} + 0.6$ ns, where $T_{C_i}$ is the arrival time of $C_i$.\n- The arrival time for the sum bit $S_i$ is dependent on the carry-in $C_i$. Its arrival time is $T_{S_i} = T_{C_i} + 1.0$ ns.\n\nTo ensure correct operation under all conditions, the circuit must be clocked at a frequency that accommodates the longest possible combinational logic delay. What is the absolute maximum clock frequency for this adder that guarantees no timing violations for any possible pair of 16-bit input operands?\n\nExpress your final answer in MHz, rounded to three significant figures.", "solution": "For a synchronous pipeline stage composed of input registers, combinational logic, and an output register, the clock period must satisfy\n$$\nT_{\\text{clk}} \\ge t_{\\text{clk-q}} + T_{\\text{comb,max}} + t_{\\text{setup}}.\n$$\nHere, the combinational logic is a 16-bit ripple-carry adder. Times given for the adder are referenced to the start of the combinational evaluation (i.e., after the input registers have stabilized), so the register-to-register timing must add the register delays to the adderâ€™s worst-case internal delay.\n\nThe carry timing per full adder cell is:\n- If $A_{i} = B_{i}$, then $C_{i+1}$ is independent of $C_{i}$ and arrives at $0.5$ ns.\n- If $A_{i} \\ne B_{i}$, then $C_{i+1}$ propagates from $C_{i}$ with\n$$\nT_{C_{i+1}} = T_{C_{i}} + 0.6 \\text{ ns}.\n$$\nAlso, the sum timing is\n$$\nT_{S_{i}} = T_{C_{i}} + 1.0 \\text{ ns}.\n$$\nWith $C_{0}$ fixed at time $0$, the latest-arriving sum bit occurs when the carry propagates through the maximum number of stages before reaching that bit. For bit $i$, the worst case is to have all lower bits $0$ through $i-1$ in propagate mode, yielding\n$$\nT_{C_{i}} = i \\times 0.6 \\text{ ns}.\n$$\nThus the worst-case sum arrival is at the most significant bit $i=15$:\n$$\nT_{S_{15}} = T_{C_{15}} + 1.0 = 15 \\times 0.6 + 1.0 = 9.0 + 1.0 = 10.0 \\text{ ns}.\n$$\nTherefore the maximum combinational delay is $T_{\\text{comb,max}} = 10.0$ ns. Including the register delays,\n$$\nT_{\\text{clk,min}} = t_{\\text{clk-q}} + T_{\\text{comb,max}} + t_{\\text{setup}} = 0.2 + 10.0 + 0.3 = 10.5 \\text{ ns}.\n$$\nHence the maximum clock frequency is\n$$\nf_{\\max} = \\frac{1}{T_{\\text{clk,min}}} = \\frac{1}{10.5 \\times 10^{-9}} \\text{ Hz} = \\frac{10^{9}}{10.5} \\text{ Hz} = \\frac{10^{3}}{10.5} \\text{ MHz} \\approx 95.238 \\text{ MHz}.\n$$\nRounded to three significant figures, this is $95.2$ MHz.", "answer": "$$\\boxed{95.2}$$", "id": "1946430"}]}