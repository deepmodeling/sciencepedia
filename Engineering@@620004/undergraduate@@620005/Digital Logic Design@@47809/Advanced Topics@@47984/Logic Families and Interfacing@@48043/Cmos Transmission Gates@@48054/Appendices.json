{"hands_on_practices": [{"introduction": "Transmission gates are fundamental for connecting capacitive nodes, such as those found in dynamic logic and memory cells. This practice explores the crucial principle of charge conservation, a key physical phenomenon that governs the behavior of these circuits. By analyzing a scenario where a transmission gate connects two isolated capacitors, you will see how charge redistributes to reach a common voltage [@problem_id:1922264]. Mastering this concept of \"charge sharing\" is essential for designing robust dynamic circuits and preventing logic errors caused by unintended voltage drops.", "problem": "In digital circuit design, charge sharing is a critical phenomenon that can affect the state of dynamic logic nodes. Consider a simplified model of such a scenario. A storage node, represented by an ideal capacitor $C_1$, is charged to the logic-high supply voltage, $V_{DD}$. A nearby floating interconnect, which can be modeled as a second ideal capacitor $C_2$, is initially fully discharged, meaning its voltage is 0 V. The two capacitors are identical, so $C_1 = C_2 = C$.\n\nA near-ideal Complementary Metal-Oxide-Semiconductor (CMOS) transmission gate is connected between these two capacitors. At time $t=0$, the transmission gate, which was previously off, is turned on, creating a conductive path. Assume the system consisting of the two capacitors and the gate is perfectly isolated from any other power source or ground connection after the initial setup.\n\nAfter a sufficient amount of time has passed for the system to reach a stable electrostatic equilibrium, what is the final voltage, $V_f$, across the two capacitors?\n\nA. $V_{DD}$\n\nB. $0.75 V_{DD}$\n\nC. $0.5 V_{DD}$\n\nD. $0.25 V_{DD}$\n\nE. $0$", "solution": "The two-capacitor system is isolated after setup and the transmission gate is assumed near-ideal, so when it turns on it provides a conductive path without adding or removing net charge. Neglecting parasitics and charge injection, the total charge in the isolated system is conserved.\n\nLet the initial voltages be $V_{1}(0)=V_{DD}$ on $C_{1}=C$ and $V_{2}(0)=0$ on $C_{2}=C$. The initial charges (with respect to ground) are:\n$$\nQ_{1,i}=C V_{1}(0)=C V_{DD}, \\quad Q_{2,i}=C V_{2}(0)=0.\n$$\nThus the total initial charge is:\n$$\nQ_{\\text{tot},i}=Q_{1,i}+Q_{2,i}=C V_{DD}.\n$$\n\nAfter the switch is turned on and sufficient time passes, the two top nodes equalize to a common final voltage $V_{f}$. The final charges are:\n$$\nQ_{1,f}=C V_{f}, \\quad Q_{2,f}=C V_{f},\n$$\nso the total final charge is:\n$$\nQ_{\\text{tot},f}=Q_{1,f}+Q_{2,f}=2 C V_{f}.\n$$\n\nBy conservation of charge $Q_{\\text{tot},f}=Q_{\\text{tot},i}$, giving:\n$$\n2 C V_{f}=C V_{DD} \\quad \\Rightarrow \\quad V_{f}=\\frac{V_{DD}}{2}.\n$$\n\nEquivalently, using the general charge-sharing result for two capacitors initially at $V_{1}$ and $V_{2}$,\n$$\nV_{f}=\\frac{C_{1} V_{1}+C_{2} V_{2}}{C_{1}+C_{2}},\n$$\nand substituting $C_{1}=C_{2}=C$, $V_{1}=V_{DD}$, $V_{2}=0$ yields $V_{f}=V_{DD}/2$. Hence the correct option is C.", "answer": "$$\\boxed{C}$$", "id": "1922264"}, {"introduction": "The primary advantage of a CMOS transmission gate is its use of a complementary NMOS and PMOS pair to pass both strong '0' and '1' logic levels without signal degradation. But what happens if the control logic driving the gate fails? This exercise simulates a realistic fault condition where you must analyze each transistor's state to determine the circuit's overall behavior [@problem_id:1922258]. Working through this problem will solidify your understanding of why both transistors are necessary and how a device's physical limitations, like the threshold voltage $V_{Tn}$, can affect its logical output.", "problem": "A Complementary Metal-Oxide-Semiconductor (CMOS) transmission gate is used to pass an input signal `A` to an output `B`. The gate consists of an NMOS transistor and a PMOS transistor connected in parallel, with the input `A` and output `B` connected to their respective source/drain terminals. The NMOS gate is driven by a control signal `C`, and the PMOS gate is driven by its complement $\\bar{C}$, typically generated by an inverter.\n\nThe circuit operates with a supply voltage of $V_{DD} = 3.3 \\text{ V}$. A logic '0' corresponds to $0 \\text{ V}$ and a logic '1' corresponds to $3.3 \\text{ V}$. The threshold voltage for the NMOS transistor is $V_{Tn} = 0.7 \\text{ V}$, and for the PMOS transistor, it is $V_{Tp} = -0.8 \\text{ V}$.\n\nUnder normal operation, when the transmission gate is intended to be ON (passing the signal), $V_C = V_{DD}$ and $V_{\\bar{C}} = 0 \\text{ V}$. However, due to a \"stuck-at-1\" fault in the inverter, when $V_C = V_{DD}$, the inverter's output is also stuck at $V_{DD}$, so $V_{\\bar{C}} = V_{DD}$.\n\nGiven this fault condition, if the input signal is held at a constant logic '1' level, such that $V_A = V_{DD}$, what is the steady-state voltage at the output `B`? You may assume the output `B` is connected to a high-impedance load and you can ignore the body effect and channel-length modulation.\n\nExpress your answer in Volts, rounded to two significant figures.", "solution": "The problem asks for the steady-state output voltage $V_B$ of a CMOS transmission gate under a specific fault condition. The conditions are: input voltage $V_A = V_{DD} = 3.3 \\text{ V}$, NMOS control voltage $V_C = V_{DD} = 3.3 \\text{ V}$, and faulty PMOS control voltage $V_{\\bar{C}} = V_{DD} = 3.3 \\text{ V}$. The transistor threshold voltages are given as $V_{Tn} = 0.7 \\text{ V}$ and $V_{Tp} = -0.8 \\text{ V}$.\n\nA transmission gate consists of a PMOS and an NMOS transistor in parallel. To find the output voltage, we must analyze the state (ON or OFF) of each transistor.\n\nFirst, let's analyze the PMOS transistor.\nA PMOS transistor is ON if its source-to-gate voltage, $V_{SG}$, is greater than the magnitude of its threshold voltage, $|V_{Tp}|$.\nThe gate of the PMOS transistor is connected to the faulty $\\bar{C}$ signal, so its gate voltage is $V_{G,p} = V_{\\bar{C}} = V_{DD}$.\nFor a PMOS transistor, the source is the terminal with the higher potential. The input is at $V_A = V_{DD}$, and the output $V_B$ will charge towards this value. So, the input terminal `A` will act as the source.\nThe source voltage of the PMOS is $V_{S,p} = V_A = V_{DD}$.\nThe source-to-gate voltage is therefore:\n$$V_{SG,p} = V_{S,p} - V_{G,p} = V_{DD} - V_{DD} = 0 \\text{ V}$$\nThe condition for the PMOS to turn ON is $V_{SG,p} > |V_{Tp}|$.\nGiven $V_{Tp} = -0.8 \\text{ V}$, we have $|V_{Tp}| = 0.8 \\text{ V}$.\nThe condition is $0 \\text{ V} > 0.8 \\text{ V}$, which is false.\nThus, the PMOS transistor is in the cutoff region (OFF) and does not conduct any current. The output is therefore determined solely by the NMOS transistor.\n\nNext, let's analyze the NMOS transistor.\nAn NMOS transistor is ON if its gate-to-source voltage, $V_{GS}$, is greater than its threshold voltage, $V_{Tn}$.\nThe gate of the NMOS transistor is connected to the control signal `C`, so its gate voltage is $V_{G,n} = V_C = V_{DD}$.\nFor an NMOS transistor, the source is the terminal with the lower potential. The input is at $V_A = V_{DD}$. The output node `B` starts at a lower potential and is charged up by the current flowing from `A` to `B`. Therefore, the output terminal `B` acts as the source.\nThe source voltage of the NMOS is the output voltage, $V_{S,n} = V_B$.\nThe gate-to-source voltage is:\n$$V_{GS,n} = V_{G,n} - V_{S,n} = V_{DD} - V_B$$\nThe NMOS transistor will conduct current as long as $V_{GS,n} > V_{Tn}$.\n$$V_{DD} - V_B > V_{Tn}$$\nAs current flows from input `A` to output `B`, the output voltage $V_B$ increases. This causes the gate-to-source voltage $V_{GS,n}$ to decrease. The current will stop flowing, and the circuit will reach a steady state, when $V_B$ rises to a level where the NMOS transistor just turns OFF. This occurs when $V_{GS,n}$ is equal to the threshold voltage $V_{Tn}$.\nAt steady state:\n$$V_{GS,n} = V_{DD} - V_B = V_{Tn}$$\nWe can solve for the final steady-state output voltage $V_B$:\n$$V_B = V_{DD} - V_{Tn}$$\nNow, we substitute the given numerical values:\n$$V_{DD} = 3.3 \\text{ V}$$\n$$V_{Tn} = 0.7 \\text{ V}$$\n$$V_B = 3.3 \\text{ V} - 0.7 \\text{ V} = 2.6 \\text{ V}$$\nThe question asks for the answer to be rounded to two significant figures. The calculated value $2.6$ already has two significant figures.\n\nSo, under the given fault condition, the transmission gate behaves like a single NMOS pass transistor, which passes a logic '1' imperfectly, resulting in a threshold voltage drop at the output. The final output voltage is $2.6 \\text{ V}$.", "answer": "$$\\boxed{2.6}$$", "id": "1922258"}, {"introduction": "After exploring their physical characteristics, it's time to use transmission gates as the powerful building blocks they are in digital systems. Functioning as efficient electronically controlled switches, TGs are ideal for routing data signals. This problem transitions from a device-level analysis to a circuit-level perspective, challenging you to determine the function of a data-swapping circuit built from multiple gates [@problem_id:1922235]. This practice develops the essential skill of tracing signal paths and deducing a circuit's high-level behavior from its gate-level implementation and control signals.", "problem": "A digital circuit is designed to function as a conditional data swapper. It has two data inputs, `A` and `B`, a single control input `SWAP`, and two data outputs, `X` and `Y`. The circuit is constructed using four Complementary Metal-Oxide-Semiconductor (CMOS) Transmission Gates (TGs), labeled `TG1`, `TG2`, `TG3`, and `TG4`.\n\nThe behavior of a CMOS TG is defined by two complementary control inputs, $C$ and $\\bar{C}$. The TG acts as a closed switch, passing the signal bidirectionally, when $C=1$ and $\\bar{C}=0$. It acts as an open switch (high-impedance state) when $C=0$ and $\\bar{C}=1$. The control signal `SWAP` and its complement `NOT SWAP` are used to drive the TGs.\n\nThe circuit's wiring is as follows:\n- **For Output X:**\n  - `TG1` connects data input `A` to data output `X`. Its control inputs are $C = \\text{NOT SWAP}$ and $\\bar{C} = \\text{SWAP}$.\n  - `TG2` connects data input `B` to data output `X`. Its control inputs are $C = \\text{SWAP}$ and $\\bar{C} = \\text{NOT SWAP}$.\n- **For Output Y:**\n  - `TG3` connects data input `B` to data output `Y`. Its control inputs are $C = \\text{NOT SWAP}$ and $\\bar{C} = \\text{SWAP}$.\n  - `TG4` connects data input `A` to data output `Y`. Its control inputs are $C = \\text{SWAP}$ and $\\bar{C} = \\text{NOT SWAP}$.\n\nGiven the steady-state logic levels `A=1`, `B=0`, and `SWAP=1`, determine the resulting logic levels on the outputs `X` and `Y`.\n\nA. `X=1, Y=0`\nB. `X=0, Y=1`\nC. `X=1, Y=1`\nD. `X=0, Y=0`\nE. Both outputs are in a high-impedance state.", "solution": "A CMOS transmission gate conducts (closed switch) when its complementary control inputs satisfy $C=1$ and $\\bar{C}=0$, and is open (high impedance) when $C=0$ and $\\bar{C}=1$. Let $S$ denote the control input $\\text{SWAP}$ and $\\overline{S}$ its complement. The outputs implement multiplexing:\n$$\nX=\\overline{S}\\cdot A+S\\cdot B,\\qquad Y=\\overline{S}\\cdot B+S\\cdot A.\n$$\nGiven $A=1$, $B=0$, and $S=1$, we have $\\overline{S}=0$. Substituting into the expressions:\n$$\nX=0\\cdot 1+1\\cdot 0=0,\\qquad Y=0\\cdot 0+1\\cdot 1=1.\n$$\nEquivalently, evaluating each TG:\n- TG1 to $X$ has $C=\\overline{S}=0$, $\\bar{C}=S=1$; it is open, so $A$ does not drive $X$.\n- TG2 to $X$ has $C=S=1$, $\\bar{C}=\\overline{S}=0$; it is closed, so $X=B=0$.\n- TG3 to $Y$ has $C=\\overline{S}=0$, $\\bar{C}=S=1$; it is open, so $B$ does not drive $Y$.\n- TG4 to $Y$ has $C=S=1$, $\\bar{C}=\\overline{S}=0$; it is closed, so $Y=A=1$.\n\nTherefore, $X=0$ and $Y=1$, corresponding to option B.", "answer": "$$\\boxed{B}$$", "id": "1922235"}]}