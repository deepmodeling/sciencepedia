{"hands_on_practices": [{"introduction": "The CMOS inverter is the cornerstone of digital logic, but its performance depends critically on its physical design. To ensure predictable and reliable timing in a digital circuit, the inverter's output should transition from high-to-low just as quickly as it transitions from low-to-high. This practice [@problem_id:1924064] explores how to achieve this symmetry by appropriately sizing the PMOS and NMOS transistors, a fundamental technique that compensates for the inherently lower mobility of holes compared to electrons.", "problem": "A digital circuit design engineer is characterizing a new fabrication process for a standard cell library. The most fundamental logic gate, the inverter, is constructed using a Complementary Metal-Oxide-Semiconductor (CMOS) topology. This inverter consists of one n-type Metal-Oxide-Semiconductor (NMOS) transistor and one p-type Metal-Oxide-Semiconductor (PMOS) transistor. For predictable timing in complex digital systems, it is crucial that the inverter exhibits a symmetric temporal response, meaning its output rise time is equal to its output fall time.\n\nAssume the following parameters for the new fabrication process:\n- The mobility of electrons in the NMOS channel is $\\mu_n = 520 \\text{ cm}^2/(\\text{V}\\cdot\\text{s})$.\n- The mobility of holes in the PMOS channel is $\\mu_p = 200 \\text{ cm}^2/(\\text{V}\\cdot\\text{s})$.\n- Both transistors are designed with the same minimum channel length, $L$.\n- Both transistors have the same gate oxide capacitance per unit area, $C_{ox}$.\n- The magnitude of the threshold voltage is identical for both transistors, i.e., $|V_{th,p}| = V_{th,n}$.\n\nTo achieve symmetric rise and fall times, the channel widths of the transistors, $W_p$ and $W_n$, must be sized appropriately. Determine the required sizing ratio, defined as the ratio of the PMOS channel width to the NMOS channel width ($W_p / W_n$).\n\nProvide your answer as a single real number, rounded to three significant figures.", "solution": "For symmetric rise and fall times in a CMOS inverter driving the same capacitive load, the effective pull-up and pull-down drive strengths must be equal so that the average charging and discharging currents match. Using the square-law model in saturation for long-channel MOSFETs, the drain current magnitude is\n$$\nI_{D}=\\frac{1}{2}\\mu C_{ox}\\frac{W}{L}(V_{ov})^{2},\n$$\nwhere $V_{ov}=V_{GS}-V_{th}$ is the overdrive voltage. With identical $|V_{th,p}|=V_{th,n}$, the same channel length $L$, and the same $C_{ox}$, and targeting a symmetric switching point so that the relevant $V_{ov}$ is comparable for pull-up and pull-down, equalizing the effective conductances reduces to matching the transconductance parameters:\n$$\n\\mu_{p}C_{ox}\\frac{W_{p}}{L}=\\mu_{n}C_{ox}\\frac{W_{n}}{L}.\n$$\nCanceling common factors $C_{ox}$ and $L$ gives\n$$\n\\frac{W_{p}}{W_{n}}=\\frac{\\mu_{n}}{\\mu_{p}}.\n$$\nSubstituting the given mobilities,\n$$\n\\frac{W_{p}}{W_{n}}=\\frac{520}{200}=2.60,\n$$\nrounded to three significant figures.", "answer": "$$\\boxed{2.60}$$", "id": "1924064"}, {"introduction": "While speed is a key performance metric, power consumption is an equally critical design constraint in modern electronics, particularly for mobile and IoT devices. The dominant source of power dissipation in CMOS circuits is dynamic power, consumed only when signals switch and charge capacitive loads. This exercise [@problem_id:1924098] provides a practical scenario for calculating the dynamic power of a single inverter, connecting physical parameters like capacitance ($C_L$) and supply voltage ($V_{DD}$) to the overall energy budget of a circuit.", "problem": "An engineer is tasked with estimating the power budget for a custom-designed low-power microcontroller intended for an Internet of Things (IoT) device. A critical component in the design is a single Complementary Metal-Oxide-Semiconductor (CMOS) inverter that buffers a clock-gating signal. The microcontroller operates with a supply voltage, $V_{DD}$, of 1.8 V and is driven by a system clock with a frequency, $f_{clk}$, of 24 MHz. The inverter drives a total load capacitance, $C_L$, of 35 fF, which includes the input capacitance of the next logic stage and the parasitic wiring capacitance.\n\nThrough simulation, it is determined that the signal at the inverter's output makes a low-to-high transition (i.e., from logic '0' to logic '1') on average once every 5 clock cycles. Assuming that dynamic power is the only significant contributor to power consumption for this gate, calculate the average dynamic power dissipated by this inverter.\n\nExpress your final answer in microwatts ($\\mu$W), rounded to three significant figures.", "solution": "For a CMOS inverter, the dynamic energy drawn from the supply for each low-to-high output transition is\n$$\nE_{\\text{LH}} = C_{L} V_{DD}^{2}.\n$$\nIf the average number of low-to-high transitions per clock cycle is $\\alpha$, and the clock frequency is $f_{clk}$, then the average dynamic power is\n$$\nP_{\\text{dyn}} = \\alpha\\, C_{L} V_{DD}^{2} f_{clk}.\n$$\nHere, the output makes one low-to-high transition every $5$ clock cycles, so $\\alpha = \\frac{1}{5}$. Substituting the given values $C_{L} = 35 \\times 10^{-15}\\ \\text{F}$, $V_{DD} = 1.8\\ \\text{V}$, and $f_{clk} = 24 \\times 10^{6}\\ \\text{Hz}$,\n$$\nP_{\\text{dyn}} = \\frac{1}{5} \\left(35 \\times 10^{-15}\\right) \\left(1.8\\right)^{2} \\left(24 \\times 10^{6}\\right).\n$$\nCompute step by step:\n$$\n(1.8)^{2} = 3.24,\n$$\n$$\n35 \\times 3.24 \\times 24 = 2721.6,\n$$\n$$\n10^{-15} \\times 10^{6} = 10^{-9},\n$$\nthus\n$$\nP_{\\text{dyn}} = \\frac{2721.6}{5} \\times 10^{-9}\\ \\text{W} = 544.32 \\times 10^{-9}\\ \\text{W} = 5.4432 \\times 10^{-7}\\ \\text{W}.\n$$\nConverting to microwatts (where $1\\ \\text{microwatt} = 10^{-6}\\ \\text{W}$) gives\n$$\nP_{\\text{dyn}} = 0.54432\\ \\text{microwatts}.\n$$\nRounded to three significant figures, the result is $0.544$.", "answer": "$$\\boxed{0.544}$$", "id": "1924098"}, {"introduction": "Moving beyond the simple inverter, real-world circuits are built from more complex gates like NAND and NOR. While logically equivalent, different physical arrangements of transistors within these gates can lead to significant differences in performance. This problem [@problem_id:1924059] delves into the art of high-speed design by analyzing how to optimize a multi-input NAND gate, revealing how the strategic placement of a 'late-arriving' input signal within the transistor stack can minimize propagation delay by cleverly managing the discharge of internal parasitic capacitances.", "problem": "In the design of a custom Complementary Metal-Oxide-Semiconductor (CMOS) integrated circuit, a 3-input NAND gate is required. The gate implements the logical function $Y = \\overline{A \\cdot B \\cdot C}$. The standard implementation consists of a pull-up network of three parallel P-channel Metal-Oxide-Semiconductor (PMOS) transistors and a pull-down network of three series N-channel Metal-Oxide-Semiconductor (NMOS) transistors.\n\nLet the three series NMOS transistors in the pull-down network be denoted as $N_1$, $N_2$, and $N_3$. Transistor $N_1$ is connected between the output node $Y$ and an internal node $n_a$. Transistor $N_2$ is connected between node $n_a$ and a second internal node $n_b$. Transistor $N_3$ is connected between node $n_b$ and ground. Each transistor's gate is to be connected to one of the input signals $A$, $B$, or $C$.\n\nDue to routing delays on the chip, input signal $C$ is known to be the \"critical\" or \"late-arriving\" signal. That is, in the case where the output must transition from high to low (which requires $A=B=C=1$), the signals $A$ and $B$ stabilize at a logic '1' value well before signal $C$ transitions from '0' to '1'. To optimize the performance of the circuit, it is necessary to minimize this high-to-low propagation delay, $t_{pHL}$.\n\nWhich of the following assignments of the late-arriving signal $C$ to the gate of one of the NMOS transistors results in the minimum propagation delay $t_{pHL}$?\n\nA. Connect signal $C$ to the gate of $N_1$.\n\nB. Connect signal $C$ to the gate of $N_2$.\n\nC. Connect signal $C$ to the gate of $N_3$.\n\nD. The assignment of signal $C$ to any of the transistors results in the same propagation delay.", "solution": "The high-to-low propagation delay $t_{pHL}$ of a CMOS NAND gate is dominated by the time required to discharge the output load capacitance through the NMOS pull-down path, which becomes conducting only when all three NMOS devices on the selected series path are ON. Under the given condition, $A$ and $B$ settle to logic $1$ early, while $C$ is the late-arriving $0\\to 1$ transition. Therefore, the instant at which the discharge begins is determined by which NMOS transistor receives $C$; the internal node voltages and which capacitances are initially charged at that instant determine the effective load and thus $t_{pHL}$.\n\nModel the NMOS stack as three series resistances $R_{1},R_{2},R_{3}$ for $N_{1},N_{2},N_{3}$ and three shunt capacitances to ground: $C_{Y}$ at the output node $Y$, $C_{a}$ at node $n_{a}$, and $C_{b}$ at node $n_{b}$. The delay for the falling transition can be approximated via an RC tree (Elmore) model as a sum of positive terms proportional to the capacitances that are initially at $V_{DD}$ at the instant the path first conducts. Any internal node that is already at $0$ at that instant does not add a discharge load, because it does not undergo a voltage change.\n\nConsider the three possible assignments of $C$:\n\n1) $C$ connected to $N_{1}$ (top device). Before $C$ arrives, $A$ and $B$ have already turned ON the two lower devices. Thus $n_{a}$ and $n_{b}$ are held near $0$ through the ON path to ground, while $Y$ is held at $V_{DD}$ by the PMOS network. When $C$ turns $N_{1}$ ON, the discharge begins with $n_{a}$ and $n_{b}$ already low. Hence only $C_{Y}$ needs to be discharged. An Elmore-form expression consistent with this condition is\n$$\nt_{pHL}^{(N_{1})}\\approx \\beta_{Y}\\,C_{Y},\n$$\nwith $\\beta_{Y}>0$ determined by the series pull-down resistances; critically, there are no additional positive terms from $C_{a}$ or $C_{b}$ because those nodes are initially at $0$.\n\n2) $C$ connected to $N_{2}$ (middle device). Before $C$ arrives, the top device and bottom device are ON, so $Y$ and $n_{a}$ are charged to $V_{DD}$ through the connection from $Y$ down to $n_{a}$, while $n_{b}$ is held at $0$ through the bottom path to ground. When $C$ turns $N_{2}$ ON, both $C_{Y}$ and $C_{a}$ must be discharged. The delay then has the form\n$$\nt_{pHL}^{(N_{2})}\\approx \\beta_{Y}\\,C_{Y}+\\beta_{a}\\,C_{a},\n$$\nwith $\\beta_{a}>0$ due to the resistive path that discharges $n_{a}$ and the coupling of that discharge current through the series path seen by $Y$.\n\n3) $C$ connected to $N_{3}$ (bottom device). Before $C$ arrives, the top two devices are ON, so $Y$, $n_{a}$, and $n_{b}$ are all charged to $V_{DD}$. When $C$ turns $N_{3}$ ON, all three capacitances must be discharged, yielding\n$$\nt_{pHL}^{(N_{3})}\\approx \\beta_{Y}\\,C_{Y}+\\beta_{a}\\,C_{a}+\\beta_{b}\\,C_{b},\n$$\nwith $\\beta_{b}>0$.\n\nSince all coefficients multiplying $C_{Y},C_{a},C_{b}$ are positive and $C_{a},C_{b}>0$, it follows that\n$$\nt_{pHL}^{(N_{1})}<t_{pHL}^{(N_{2})}<t_{pHL}^{(N_{3})}.\n$$\nIntuitively, placing the late-arriving signal at the top NMOS prevents precharging of internal nodes; when the discharge finally starts, no internal-node capacitance needs to be discharged, minimizing the effective load and thus the propagation delay.\n\nTherefore, connecting the late signal $C$ to the gate of $N_{1}$ minimizes $t_{pHL}$.", "answer": "$$\\boxed{A}$$", "id": "1924059"}]}