{"hands_on_practices": [{"introduction": "A key reason for the dominance of CMOS technology in digital electronics is its high noise immunity. This robustness ensures that a '1' is always interpreted as a '1' and a '0' as a '0', even in the presence of electrical noise. This practice explores how to quantify this resilience by calculating the noise margin, a critical parameter derived from the Voltage Transfer Characteristic (VTC) of an inverter. Understanding noise margins is the first step in designing reliable digital systems that can withstand real-world imperfections. [@problem_id:1966853]", "problem": "A digital systems engineer is working on a new microcontroller design and needs to evaluate the noise immunity of the chosen logic family. The design uses a standard 3.3 V power supply. The engineer consults the datasheet for a typical Complementary Metal-Oxide-Semiconductor (CMOS) inverter from this family and finds the following worst-case voltage parameters:\n\n-   Minimum High-Level Output Voltage ($V_{OH}$): 3.15 V\n-   Maximum Low-Level Output Voltage ($V_{OL}$): 0.10 V\n-   Minimum High-Level Input Voltage ($V_{IH}$): 2.4 V\n-   Maximum Low-Level Input Voltage ($V_{IL}$): 0.9 V\n\nTo ensure reliable operation, the engineer must determine the high-level noise margin ($NM_H$). This value represents the maximum allowable voltage drop or noise that can be superimposed on a high-level input signal before the logic level is potentially misinterpreted.\n\nCalculate the value of the high-level noise margin, $NM_H$. Express your answer in Volts, rounded to two significant figures.", "solution": "The problem asks for the calculation of the high-level noise margin, denoted as $NM_H$. This metric is a crucial measure of a logic circuit's noise immunity.\n\nThe high-level noise margin is defined as the difference between the worst-case (minimum) high-level output voltage that a driving gate can provide, $V_{OH}$, and the worst-case (minimum) high-level input voltage that a receiving gate needs to correctly interpret a high logic level, $V_{IH}$. This difference represents the 'cushion' or margin available to tolerate voltage drops and noise on the line connecting the two gates when a high signal is being transmitted.\n\nThe formula for the high-level noise margin is:\n$$NM_H = V_{OH} - V_{IH}$$\n\nFrom the problem statement, we are given the following parameters for the Complementary Metal-Oxide-Semiconductor (CMOS) inverter:\n-   Minimum High-Level Output Voltage, $V_{OH} = 3.15$ V\n-   Minimum High-Level Input Voltage, $V_{IH} = 2.4$ V\nThe other provided values, $V_{OL}$ and $V_{IL}$, are distractors for this particular question and are used to calculate the low-level noise margin ($NM_L = V_{IL} - V_{OL}$).\n\nNow, we substitute the relevant values into the formula for $NM_H$:\n$$NM_H = 3.15 \\, \\text{V} - 2.4 \\, \\text{V}$$\n$$NM_H = 0.75 \\, \\text{V}$$\n\nThe problem requires the answer to be expressed in Volts and rounded to two significant figures. Our calculated value, 0.75 V, has two significant figures (the '7' and the '5'). Therefore, the value does not require further rounding. The high-level noise margin is 0.75 V.", "answer": "$$\\boxed{0.75}$$", "id": "1966853"}, {"introduction": "At the heart of an inverter's behavior is its switching threshold, $V_M$, the input voltage at which the output is precisely equal to the input. While an ideal, symmetric inverter has a switching threshold of $V_{DD}/2$, real-world designs often use asymmetrical transistors to intentionally shift this point. This exercise demonstrates how to calculate the switching threshold for a non-ideal, or \"skewed,\" inverter, providing insight into how device-level parameters like the transconductance ratio ($\\beta_p / \\beta_n$) influence the circuit's overall VTC. [@problem_id:1966871]", "problem": "A non-ideal Complementary Metal-Oxide-Semiconductor (CMOS) inverter is designed using one enhancement-type n-channel MOSFET (NMOS) and one enhancement-type p-channel MOSFET (PMOS). The inverter is powered by a supply voltage $V_{DD}$. The NMOS transistor has a threshold voltage $V_{Tn}$ and a transconductance parameter $\\beta_n$. The PMOS transistor has a threshold voltage $V_{Tp}$ and a transconductance parameter $\\beta_p$.\n\nThe switching threshold voltage, denoted as $V_M$, is defined as the unique point on the voltage transfer characteristic where the input voltage equals the output voltage ($V_{in} = V_{out}$). Assume that for this operating point, both transistors are in their saturation region and their behavior is described by the simple square-law current model.\n\nGiven the following parameters for the circuit:\n- Supply Voltage, $V_{DD} = 2.5 \\text{ V}$\n- NMOS Threshold Voltage, $V_{Tn} = 0.50 \\text{ V}$\n- PMOS Threshold Voltage, $V_{Tp} = -0.60 \\text{ V}$\n- Transconductance Parameter Ratio, $\\beta_p / \\beta_n = 4.0$\n\nCalculate the value of the switching threshold voltage $V_M$. Express your answer in Volts (V), rounded to three significant figures.", "solution": "The problem asks for the switching threshold voltage $V_M$ of a CMOS inverter. The switching threshold is defined by the condition $V_{in} = V_{out} = V_M$. At this point, the current flowing through the NMOS transistor, $I_{Dn}$, must be equal to the current flowing through the PMOS transistor, $I_{Dp}$.\n\nThe problem states that both transistors are operating in the saturation region. The drain current for an NMOS transistor in saturation is given by the square-law model:\n$$I_{Dn} = \\frac{1}{2} \\beta_n (V_{GS,n} - V_{Tn})^2$$\nFor the NMOS transistor in an inverter configuration, its gate is connected to the input ($V_{in}$) and its source is connected to ground (0 V). Thus, $V_{GS,n} = V_{in} - 0 = V_{in}$. At the switching threshold, $V_{in} = V_M$, so $V_{GS,n} = V_M$. The equation for the NMOS current becomes:\n$$I_{Dn} = \\frac{1}{2} \\beta_n (V_M - V_{Tn})^2$$\n\nSimilarly, the drain current for a PMOS transistor in saturation is given by:\n$$I_{Dp} = \\frac{1}{2} \\beta_p (V_{GS,p} - V_{Tp})^2$$\nFor the PMOS transistor in an inverter, its gate is connected to the input ($V_{in}$) and its source is connected to the supply voltage ($V_{DD}$). Thus, $V_{GS,p} = V_{in} - V_{DD}$. At the switching threshold, $V_{in} = V_M$, so $V_{GS,p} = V_M - V_{DD}$. The equation for the PMOS current becomes:\n$$I_{Dp} = \\frac{1}{2} \\beta_p (V_M - V_{DD} - V_{Tp})^2$$\n\nAt the switching threshold, we set the currents equal: $I_{Dn} = I_{Dp}$.\n$$\\frac{1}{2} \\beta_n (V_M - V_{Tn})^2 = \\frac{1}{2} \\beta_p (V_M - V_{DD} - V_{Tp})^2$$\nWe can cancel the $\\frac{1}{2}$ term from both sides:\n$$\\beta_n (V_M - V_{Tn})^2 = \\beta_p (V_M - V_{DD} - V_{Tp})^2$$\nTo solve for $V_M$, we take the square root of both sides. We must be careful about the signs of the terms inside the squares.\nFor the NMOS transistor to be on, $V_{GS,n} > V_{Tn}$, which means $V_M > V_{Tn}$. So, the term $(V_M - V_{Tn})$ is positive.\nFor the PMOS transistor to be on, $V_{GS,p} < V_{Tp}$. Since $V_{Tp}$ is negative, this is satisfied when $V_{in} < V_{DD} + V_{Tp}$. At the switching threshold, $V_M < V_{DD} + V_{Tp}$. Therefore, the term $(V_M - V_{DD} - V_{Tp})$ is negative.\nTaking the square root and applying these sign considerations ($\\sqrt{x^2} = |x|$):\n$$\\sqrt{\\beta_n} (V_M - V_{Tn}) = \\sqrt{\\beta_p} (-(V_M - V_{DD} - V_{Tp}))$$\n$$\\sqrt{\\beta_n} (V_M - V_{Tn}) = \\sqrt{\\beta_p} (V_{DD} + V_{Tp} - V_M)$$\nNow, we rearrange the equation to solve for $V_M$:\n$$V_M \\sqrt{\\beta_n} - V_{Tn} \\sqrt{\\beta_n} = V_{DD} \\sqrt{\\beta_p} + V_{Tp} \\sqrt{\\beta_p} - V_M \\sqrt{\\beta_p}$$\nGroup the terms containing $V_M$ on one side:\n$$V_M (\\sqrt{\\beta_n} + \\sqrt{\\beta_p}) = V_{Tn} \\sqrt{\\beta_n} + V_{DD} \\sqrt{\\beta_p} + V_{Tp} \\sqrt{\\beta_p}$$\n$$V_M (\\sqrt{\\beta_n} + \\sqrt{\\beta_p}) = V_{Tn} \\sqrt{\\beta_n} + (V_{DD} + V_{Tp}) \\sqrt{\\beta_p}$$\nIsolating $V_M$:\n$$V_M = \\frac{V_{Tn} \\sqrt{\\beta_n} + (V_{DD} + V_{Tp}) \\sqrt{\\beta_p}}{\\sqrt{\\beta_n} + \\sqrt{\\beta_p}}$$\nTo use the given ratio $\\beta_p/\\beta_n$, we can divide the numerator and denominator by $\\sqrt{\\beta_n}$:\n$$V_M = \\frac{V_{Tn} + (V_{DD} + V_{Tp}) \\sqrt{\\frac{\\beta_p}{\\beta_n}}}{1 + \\sqrt{\\frac{\\beta_p}{\\beta_n}}}$$\nNow, we substitute the given numerical values: $V_{DD} = 2.5 \\text{ V}$, $V_{Tn} = 0.50 \\text{ V}$, $V_{Tp} = -0.60 \\text{ V}$, and $\\beta_p / \\beta_n = 4.0$.\nFirst, calculate the square root of the ratio:\n$$\\sqrt{\\frac{\\beta_p}{\\beta_n}} = \\sqrt{4.0} = 2.0$$\nNow, substitute this into the expression for $V_M$:\n$$V_M = \\frac{0.50 + (2.5 + (-0.60)) \\times 2.0}{1 + 2.0}$$\n$$V_M = \\frac{0.50 + (1.9) \\times 2.0}{3.0}$$\n$$V_M = \\frac{0.50 + 3.8}{3.0}$$\n$$V_M = \\frac{4.3}{3.0}$$\n$$V_M = 1.4333... \\text{ V}$$\nThe problem asks for the answer to be rounded to three significant figures.\n$$V_M \\approx 1.43 \\text{ V}$$", "answer": "$$\\boxed{1.43}$$", "id": "1966871"}, {"introduction": "CMOS logic is famous for its extremely low static power consumption, but this advantage holds true only when inputs are held firmly at a valid logic HIGH or LOW. This exercise investigates the critical failure mode where an inverter's input becomes stuck at the switching threshold, $V_M$. By calculating the resulting power draw, you will quantify the \"short-circuit\" current that flows when both transistors are simultaneously active, revealing why slow input transitions or floating inputs are a significant concern in low-power design. [@problem_id:1966835]", "problem": "A digital logic circuit designer is analyzing a failure mode in a test chip. A single Complementary Metal-Oxide-Semiconductor (CMOS) inverter is found to have its input terminal inadvertently tied to a bias voltage that holds it exactly at the inverter's switching threshold voltage, $V_M$. This particular inverter is fabricated using a symmetric design, meaning the PMOS and NMOS transistors are balanced.\n\nThe inverter operates with a supply voltage of $V_{DD} = 2.5 \\text{ V}$. The NMOS transistor has a threshold voltage of $V_{Tn} = 0.5 \\text{ V}$, and the PMOS transistor has a threshold voltage of $V_{Tp} = -0.5 \\text{ V}$. For both transistors, the product of the process transconductance parameter and the aspect ratio is given by $\\beta = \\beta_n = \\beta_p = 200 \\text{ } \\mu\\text{A}/\\text{V}^2$.\n\nAssuming the transistors operate according to the simple square-law model and channel-length modulation is negligible, calculate the static power dissipated by this faulty inverter. Express your answer in milliwatts (mW), rounded to three significant figures.", "solution": "The static power dissipation, $P$, of the CMOS inverter is given by the product of the supply voltage, $V_{DD}$, and the current drawn from the supply, $I_D$.\n$$P = V_{DD} \\cdot I_D$$\nUnder normal static conditions (input is logic high or low), one of the transistors is in the cut-off region, resulting in nearly zero current and thus negligible static power dissipation. However, the problem states that the input voltage, $V_{in}$, is held at the switching threshold, $V_M$. At this specific input voltage, both the NMOS and the PMOS transistors are simultaneously conducting and operating in their saturation regions. This creates a direct path for current to flow from $V_{DD}$ to ground.\n\nFirst, we must determine the value of the switching threshold voltage, $V_M$. By definition, $V_M$ is the input voltage at which the output voltage is equal to the input voltage, $V_{out} = V_{in} = V_M$. It is also the point where the drain current of the NMOS transistor, $I_{Dn}$, equals the drain current of the PMOS transistor, $I_{Dp}$.\nThe saturation current for the NMOS transistor is given by:\n$$I_{Dn} = \\frac{1}{2} \\beta_n (V_{GSn} - V_{Tn})^{2}$$\nFor the PMOS transistor, the saturation current is:\n$$I_{Dp} = \\frac{1}{2} \\beta_p (V_{SGp} - |V_{Tp}|)^{2}$$\nFor the inverter configuration, the gate-source voltage for the NMOS is $V_{GSn} = V_{in} - 0 = V_{in}$. The source-gate voltage for the PMOS is $V_{SGp} = V_{DD} - V_{in}$.\nAt the switching threshold, $V_{in} = V_M$ and $I_{Dn} = I_{Dp}$, so we can write:\n$$\\frac{1}{2} \\beta_n (V_M - V_{Tn})^{2} = \\frac{1}{2} \\beta_p (V_{DD} - V_M - |V_{Tp}|)^{2}$$\nGiven that the inverter is symmetric, we have $\\beta_n = \\beta_p$ and $V_{Tn} = |V_{Tp}|$. The equation simplifies to:\n$$(V_M - V_{Tn})^{2} = (V_{DD} - V_M - V_{Tn})^{2}$$\nTaking the square root of both sides gives:\n$$V_M - V_{Tn} = \\pm(V_{DD} - V_M - V_{Tn})$$\nChoosing the positive root:\n$$V_M - V_{Tn} = V_{DD} - V_M - V_{Tn}$$\n$$2V_M = V_{DD}$$\n$$V_M = \\frac{V_{DD}}{2}$$\n(The negative root leads to $0 = -V_{DD} + 2V_{Tn}$, which is not a general solution.)\nWith $V_{DD} = 2.5 \\text{ V}$, the switching threshold is:\n$$V_M = \\frac{2.5 \\text{ V}}{2} = 1.25 \\text{ V}$$\nNow we can calculate the short-circuit current, $I_D$, flowing through the series-connected transistors. We can use the saturation current equation for the NMOS transistor with $V_{in} = V_M$:\n$$I_D = I_{Dn} = \\frac{1}{2} \\beta_n (V_M - V_{Tn})^{2}$$\nSubstituting the given values: $\\beta_n = 200 \\text{ } \\mu\\text{A}/\\text{V}^2 = 200 \\times 10^{-6} \\text{ A}/\\text{V}^2$, $V_M = 1.25 \\text{ V}$, and $V_{Tn} = 0.5 \\text{ V}$.\n$$I_D = \\frac{1}{2} (200 \\times 10^{-6} \\text{ A}/\\text{V}^2) (1.25 \\text{ V} - 0.5 \\text{ V})^{2}$$\n$$I_D = (100 \\times 10^{-6} \\text{ A}/\\text{V}^2) (0.75 \\text{ V})^{2}$$\n$$I_D = (100 \\times 10^{-6}) (0.5625) \\text{ A}$$\n$$I_D = 56.25 \\times 10^{-6} \\text{ A} = 56.25 \\text{ } \\mu\\text{A}$$\nFinally, we calculate the static power dissipation, $P$:\n$$P = V_{DD} \\cdot I_D$$\n$$P = (2.5 \\text{ V}) \\cdot (56.25 \\times 10^{-6} \\text{ A})$$\n$$P = 140.625 \\times 10^{-6} \\text{ W}$$\nTo express the answer in milliwatts (mW), we multiply by $1000$:\n$$P = 0.140625 \\text{ mW}$$\nRounding to three significant figures, we get:\n$$P \\approx 0.141 \\text{ mW}$$", "answer": "$$\\boxed{0.141}$$", "id": "1966835"}]}