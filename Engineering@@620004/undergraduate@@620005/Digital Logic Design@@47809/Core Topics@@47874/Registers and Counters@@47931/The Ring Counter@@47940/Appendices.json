{"hands_on_practices": [{"introduction": "Understanding the ring counter begins with grasping its core function: the sequential shifting of a state at each tick of the clock. This first exercise challenges you to predict a counter's state at a specific moment, reinforcing the direct link between clock cycles and state transitions. By tracing the behavior of this hypothetical circuit, you'll solidify your understanding of how the 'ring' of states progresses predictably over time, a foundational concept in sequential logic. [@problem_id:1971061]", "problem": "A sequential control circuit for a set of three experimental Light-Emitting Diodes (LEDs) is being designed. The core of the circuit is a 3-bit ring counter, which is constructed from three positive-edge-triggered D-type flip-flops. The outputs of the flip-flops are denoted as $(Q_2, Q_1, Q_0)$, and their corresponding inputs are $(D_2, D_1, D_0)$.\n\nThe flip-flops are interconnected to create a specific rotational shift pattern. The connections are as follows: the output of stage 2, $Q_2$, is connected to the input of stage 0 ($D_0$); the output of stage 1, $Q_1$, is connected to the input of stage 2 ($D_2$); and the output of stage 0, $Q_0$, is connected to the input of stage 1 ($D_1$).\n\nThe counter is driven by a stable clock with a frequency of $1.0$ MHz. At time $t=0$, the system is asynchronously initialized to the state $(Q_2, Q_1, Q_0) = (1, 0, 0)$. A periodic clock signal drives the counter, with its first positive (rising) edge occurring at $t=1.0$ microsecond, and subsequent rising edges occurring at regular intervals determined by the clock frequency.\n\nDetermine the binary state of the counter, represented as the string $Q_2Q_1Q_0$, at the exact time $t = 4.2$ microseconds.", "solution": "The three positive-edge-triggered D flip-flops are interconnected as $D_{0}=Q_{2}$, $D_{2}=Q_{1}$, and $D_{1}=Q_{0}$. On each rising clock edge, the next state equals the present inputs, so the state-update equation is\n$$\n(Q_{2}^{+},\\,Q_{1}^{+},\\,Q_{0}^{+})=(D_{2},\\,D_{1},\\,D_{0})=(Q_{1},\\,Q_{0},\\,Q_{2}),\n$$\nwhich is a right rotation of the triplet $(Q_{2},Q_{1},Q_{0})$.\n\nThe clock frequency is $f=1.0\\times 10^{6}$ hertz, so the clock period is\n$$\nT=\\frac{1}{f}=\\frac{1}{1.0\\times 10^{6}}\\ \\text{seconds}=1.0\\times 10^{-6}\\ \\text{seconds}.\n$$\nRising edges occur at $t=kT$ for integers $k\\geq 1$. The number of rising edges that have occurred by time $t$ is\n$$\nN(t)=\\left\\lfloor \\frac{t}{T}\\right\\rfloor.\n$$\nAt $t=4.2\\times 10^{-6}$ seconds, we have $\\frac{t}{T}=4.2$, hence $N(t)=4$. Because the flip-flops are positive-edge-triggered, the state only changes at rising edges and remains constant between them. Therefore, the state at $t=4.2\\times 10^{-6}$ seconds is the state after exactly $4$ rotations from the initial state.\n\nWith the asynchronous initialization $(Q_{2},Q_{1},Q_{0})=(1,0,0)$ at $t=0$, successive rotations give\n$$\nR^{1}:(1,0,0)\\mapsto(0,0,1),\\quad\nR^{2}:(0,0,1)\\mapsto(0,1,0),\\quad\nR^{3}:(0,1,0)\\mapsto(1,0,0),\\quad\nR^{4}:(1,0,0)\\mapsto(0,0,1).\n$$\nThus, immediately after the rising edge at $t=4.0\\times 10^{-6}$ seconds, and for all times until the next edge at $t=5.0\\times 10^{-6}$ seconds, the state is $(Q_{2},Q_{1},Q_{0})=(0,0,1)$. Therefore, at $t=4.2$ microseconds, the binary string $Q_{2}Q_{1}Q_{0}$ is $001$.", "answer": "$$\\boxed{001}$$", "id": "1971061"}, {"introduction": "While a ring counter is easily conceptualized with D-type flip-flops, a true test of a designer's skill lies in implementing the same behavior with more versatile components like JK flip-flops. This practice requires you to move from the state transition diagram to the specific logic needed for the $J$ and $K$ inputs. This process of deriving input equations from a characteristic table is a fundamental skill in sequential circuit synthesis. [@problem_id:1971069]", "problem": "A 3-bit ring counter is a sequential digital circuit that cycles through a specific sequence of states. The states are represented by the outputs of three flip-flops, denoted as $Q_2Q_1Q_0$. This particular ring counter is designed to follow the state sequence: `100` $\\rightarrow$ `010` $\\rightarrow$ `001`, and then repeat the cycle from `100`. The states not in this sequence (`000`, `011`, `101`, `110`, `111`) are considered unreachable or \"don't care\" states.\n\nThe circuit is to be implemented using three JK flip-flops. The output of flip-flop $i$ is $Q_i$. The behavior of a JK flip-flop is defined by its characteristic equation, $Q_{next} = J\\bar{Q} + \\bar{K}Q$, where $Q$ is the current state and $Q_{next}$ is the next state.\n\nYour task is to determine a valid set of logic expressions for the inputs ($J_2, K_2, J_1, K_1, J_0, K_0$) as functions of the current state outputs ($Q_2, Q_1, Q_0$). Which of the following sets of equations correctly implements the specified 3-bit ring counter?\n\nA.\n$J_2=Q_0, K_2=Q_2$\n$J_1=Q_2, K_1=Q_1$\n$J_0=Q_1, K_0=Q_0$\n\nB.\n$J_2=Q_1, K_2=Q_2$\n$J_1=Q_0, K_1=Q_1$\n$J_0=Q_2, K_0=Q_0$\n\nC.\n$J_2=\\bar{Q_0}, K_2=Q_0$\n$J_1=Q_2, K_1=\\bar{Q_2}$\n$J_0=Q_1, K_0=\\bar{Q_1}$\n\nD.\n$J_2=Q_2, K_2=Q_0$\n$J_1=Q_1, K_1=Q_2$\n$J_0=Q_0, K_0=Q_1$", "solution": "The required one-hot ring sequence is $Q_{2}Q_{1}Q_{0}: 100 \\rightarrow 010 \\rightarrow 001 \\rightarrow 100$, which is equivalently expressed as the next-state relations\n$$\nQ_{2}^{+} = Q_{0}, \\quad Q_{1}^{+} = Q_{2}, \\quad Q_{0}^{+} = Q_{1}.\n$$\nA JK flip-flop obeys the characteristic equation\n$$\nQ^{+} = J\\bar{Q} + \\bar{K}Q.\n$$\nTo realize $Q_{i}^{+}$ from the current state under one-hot operation (exactly one $Q_{i}$ equals $1$ at any time), a sufficient design pattern is to force the currently asserted bit to reset and the next bit to set. This is accomplished by choosing, for each bit,\n$$\nK_{i} = Q_{i} \\quad \\text{(reset the currently high bit)}, \\qquad J_{i} = \\text{the bit that should become }1.\n$$\nApplying the target relations $Q_{2}^{+}=Q_{0}$, $Q_{1}^{+}=Q_{2}$, $Q_{0}^{+}=Q_{1}$ gives\n$$\nJ_{2} = Q_{0}, \\quad K_{2} = Q_{2}; \\qquad J_{1} = Q_{2}, \\quad K_{1} = Q_{1}; \\qquad J_{0} = Q_{1}, \\quad K_{0} = Q_{0}.\n$$\nVerify algebraically using the characteristic equation. For example, with $K_{2}=Q_{2}$ we have $\\bar{K_{2}}=\\bar{Q_{2}}$, hence\n$$\nQ_{2}^{+} = J_{2}\\bar{Q_{2}} + \\bar{K_{2}}Q_{2} = Q_{0}\\bar{Q_{2}} + \\bar{Q_{2}}Q_{2} = Q_{0}\\bar{Q_{2}}.\n$$\nBecause the circuit is restricted to one-hot states, $Q_{0}$ and $Q_{2}$ cannot both be $1$. Thus $Q_{0}\\bar{Q_{2}}=Q_{0}$ on the reachable domain, which yields $Q_{2}^{+}=Q_{0}$ as required. The same calculation yields $Q_{1}^{+}=Q_{2}$ and $Q_{0}^{+}=Q_{1}$ with $J_{1}=Q_{2}, K_{1}=Q_{1}$ and $J_{0}=Q_{1}, K_{0}=Q_{0}$.\n\nTherefore option A implements the specified ring counter. For completeness, each of the other options fails on a reachable state:\n- Option B at $Q_{2}Q_{1}Q_{0}=100$ gives $Q^{+}=001$ instead of $010$.\n- Option C at $Q_{2}Q_{1}Q_{0}=100$ gives $Q^{+}=110$.\n- Option D at $Q_{2}Q_{1}Q_{0}=100$ gives $Q^{+}=100$ (stuck).\n\nHence, the correct choice is A.", "answer": "$$\\boxed{A}$$", "id": "1971069"}, {"introduction": "In practical applications, digital circuits can be affected by noise or uncertain power-on conditions, potentially forcing them into invalid or 'lock-up' states. A robust design anticipates these problems and includes a mechanism for self-correction. This exercise guides you through augmenting a standard ring counter with combinational logic to ensure it can automatically recover from a common failure mode, a crucial technique for creating reliable real-world digital systems. [@problem_id:1971060]", "problem": "A 4-bit synchronous ring counter is constructed using four D-type flip-flops, denoted $FF_3, FF_2, FF_1, FF_0$. The outputs of these flip-flops are $Q_3, Q_2, Q_1, Q_0$ respectively, representing the state of the counter. Under normal operation, the counter cycles through the sequence of states $1000 \\rightarrow 0100 \\rightarrow 0010 \\rightarrow 0001$ and repeats. However, due to a transient glitch, the counter can enter an invalid \"lock-up\" state where $Q_3Q_2Q_1Q_0 = 0000$. From this state, a standard ring counter would remain locked in the $0000$ state indefinitely.\n\nTo prevent this, a self-correcting mechanism must be added. The design requirement is to use combinational logic that incorporates one 4-input NOR gate. This logic must modify the inputs to the flip-flops ($D_3, D_2, D_1, D_0$) such that if the current state is the invalid state $0000$, the state on the next clock cycle will be $1000$. For all valid ring counter states, the normal sequence must be preserved.\n\nLet the output of the 4-input NOR gate be defined as $Y = \\text{NOR}(Q_3, Q_2, Q_1, Q_0)$. Which of the following sets of Boolean equations correctly describes the inputs to the flip-flops for this self-correcting ring counter?\n\nA. $D_3 = Q_0 + Y; \\quad D_2 = Q_3 \\cdot \\overline{Y}; \\quad D_1 = Q_2 \\cdot \\overline{Y}; \\quad D_0 = Q_1 \\cdot \\overline{Y}$\n\nB. $D_3 = \\overline{Q_0}; \\quad D_2 = Q_3; \\quad D_1 = Q_2; \\quad D_0 = Q_1$\n\nC. $D_3 = Q_0 \\cdot \\overline{Y}; \\quad D_2 = Q_3 \\cdot \\overline{Y}; \\quad D_1 = Q_2 \\cdot \\overline{Y}; \\quad D_0 = Q_1 + Y$\n\nD. $D_3 = Q_0 + Y; \\quad D_2 = Q_3 \\cdot Y; \\quad D_1 = Q_2 \\cdot Y; \\quad D_0 = Q_1 \\cdot Y$", "solution": "The goal is to design a self-correcting 4-bit ring counter. The circuit must satisfy two conditions:\n1.  **Normal Operation:** For valid states ($1000, 0100, 0010, 0001$), it must function as a standard ring counter. The input logic for a standard ring counter is $D_3 = Q_0$, $D_2 = Q_3$, $D_1 = Q_2$, and $D_0 = Q_1$.\n2.  **Correction:** If the counter is in the invalid state $0000$, its next state must be $1000$. This means that when the current state is $Q_3Q_2Q_1Q_0 = 0000$, the inputs to the flip-flops must be $D_3D_2D_1D_0 = 1000$.\n\nWe use a 4-input NOR gate to detect the invalid state. Let its output be $Y$.\n$$Y = \\text{NOR}(Q_3, Q_2, Q_1, Q_0) = \\overline{Q_3 + Q_2 + Q_1 + Q_0}$$\nThe output $Y$ will be $1$ if and only if all inputs are $0$, i.e., when the state is $Q_3Q_2Q_1Q_0 = 0000$. For any other state, including all valid ring counter states (which are \"one-hot\", meaning exactly one bit is 1), at least one input to the NOR gate will be 1, making its output $Y=0$.\nSo, $Y=1$ signals the invalid state, and $Y=0$ signals any other state (including all valid ones). Consequently, $\\overline{Y}$ is $1$ for any valid state and $0$ for the invalid state.\n\nWe can express the logic for each D input using a general formula that combines the normal and correction logic:\n$$D_i = (\\text{Normal Logic}_i \\cdot \\overline{Y}) + (\\text{Correction Logic}_i \\cdot Y)$$\nThis structure ensures that when $Y=0$ (normal operation), the correction logic is disabled, and when $Y=1$ (invalid state), the normal logic is disabled.\n\nLet's derive the equation for each flip-flop input.\n\n**For $D_3$:**\n- Normal Logic: $D_{3, \\text{normal}} = Q_0$.\n- Correction Logic: For the next state to be $1000$, we need $D_3=1$. So, $D_{3, \\text{correct}} = 1$.\n- Combined Logic: $D_3 = (Q_0 \\cdot \\overline{Y}) + (1 \\cdot Y) = Q_0\\overline{Y} + Y$.\nUsing the Boolean algebra identity $A + \\overline{A}B = A+B$, we can simplify this expression. Let $A=Y$ and $B=Q_0$.\nThen $Y + \\overline{Y}Q_0 = Y + Q_0$.\nSo, the final equation for $D_3$ is $D_3 = Q_0 + Y$.\n\n**For $D_2$:**\n- Normal Logic: $D_{2, \\text{normal}} = Q_3$.\n- Correction Logic: For the next state to be $1000$, we need $D_2=0$. So, $D_{2, \\text{correct}} = 0$.\n- Combined Logic: $D_2 = (Q_3 \\cdot \\overline{Y}) + (0 \\cdot Y) = Q_3\\overline{Y}$.\n\n**For $D_1$:**\n- Normal Logic: $D_{1, \\text{normal}} = Q_2$.\n- Correction Logic: For the next state to be $1000$, we need $D_1=0$. So, $D_{1, \\text{correct}} = 0$.\n- Combined Logic: $D_1 = (Q_2 \\cdot \\overline{Y}) + (0 \\cdot Y) = Q_2\\overline{Y}$.\n\n**For $D_0$:**\n- Normal Logic: $D_{0, \\text{normal}} = Q_1$.\n- Correction Logic: For the next state to be $1000$, we need $D_0=0$. So, $D_{0, \\text{correct}} = 0$.\n- Combined Logic: $D_0 = (Q_1 \\cdot \\overline{Y}) + (0 \\cdot Y) = Q_1\\overline{Y}$.\n\nLet's summarize the derived equations:\n- $D_3 = Q_0 + Y$\n- $D_2 = Q_3 \\cdot \\overline{Y}$\n- $D_1 = Q_2 \\cdot \\overline{Y}$\n- $D_0 = Q_1 \\cdot \\overline{Y}$\n\nThis set of equations matches option A.", "answer": "$$\\boxed{A}$$", "id": "1971060"}]}