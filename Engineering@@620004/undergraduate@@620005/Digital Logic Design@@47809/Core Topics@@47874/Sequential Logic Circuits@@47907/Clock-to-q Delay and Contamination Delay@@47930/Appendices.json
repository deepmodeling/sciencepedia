{"hands_on_practices": [{"introduction": "To design reliable digital circuits, we must first understand the fundamental timing characteristics of their components. This exercise simulates the process of experimental characterization by asking you to interpret timing measurements, as if from an oscilloscope. By calculating the clock-to-Q contamination delay ($t_{ccq}$), you will grasp its physical meaning as the earliest moment an output can change after a clock edge, a crucial parameter for hold time analysis.", "problem": "A digital systems engineer is characterizing the timing parameters of a custom-designed positive-edge-triggered D-type flip-flop. The data input, D, is held stable at a logic '1' state, while the flip-flop's output, Q, is initially at a logic '0' state. Using a high-precision oscilloscope, the engineer records the timing of events surrounding a single rising edge of the clock signal, CLK.\n\nThe measurements are as follows:\n- The rising edge of the CLK signal occurs precisely at time $t_{clk} = 12.350$ nanoseconds (ns).\n- After the clock edge, the output Q begins its transition from logic '0' to logic '1'. The very instant this transition starts, meaning the output is no longer guaranteed to be at its old value, is measured to be $t_{start} = 12.485$ ns.\n- The output Q is measured to be fully settled and stable at the new logic '1' state at time $t_{stable} = 12.710$ ns.\n\nBased on these experimental measurements, determine the clock-to-Q contamination delay ($t_{ccq}$) for this flip-flop. Express your answer in picoseconds (ps).", "solution": "The clock-to-Q contamination delay is defined as the earliest time after the active clock edge at which the output $Q$ may begin to deviate from its previous value. Therefore,\n$$t_{ccq} = t_{start} - t_{clk}.$$\nUsing the measured times,\n$$t_{ccq} = 12.485\\ \\text{ns} - 12.350\\ \\text{ns} = 0.135\\ \\text{ns}.$$\nConverting nanoseconds to picoseconds using $1\\ \\text{ns} = 10^{3}\\ \\text{ps}$,\n$$t_{ccq} = 0.135\\ \\text{ns} \\times \\frac{10^{3}\\ \\text{ps}}{1\\ \\text{ns}} = 135\\ \\text{ps}.$$", "answer": "$$\\boxed{135}$$", "id": "1921462"}, {"introduction": "Understanding contamination delay is essential for preventing hold time violations, where data changes too quickly for a flip-flop to reliably capture its previous state. This thought experiment explores the critical, and sometimes counter-intuitive, role of clock skew in this analysis. You will determine how a hold violation can occur even when a register's specified hold time ($t_{hold}$) is zero, which deepens your understanding of the \"race condition\" between the data path and clock path.", "problem": "In a synchronous digital circuit, two positive edge-triggered registers, RegA and RegB, are connected in series. The output of RegA is connected to the input of RegB through a block of combinational logic. Both registers are driven by the same clock source, but due to routing differences on the chip, the clock signal may arrive at the two registers at slightly different times. This timing difference is known as clock skew, defined as $t_{skew} = t_{CLK,B} - t_{CLK,A}$, where $t_{CLK,A}$ is the arrival time of the clock edge at RegA and $t_{CLK,B}$ is the arrival time at RegB.\n\nThe timing parameters for the components are given as follows:\n- The contamination delay (minimum clock-to-Q delay) of RegA is $t_{cd,RegA} = 0.85$ ns.\n- The contamination delay (minimum propagation delay) of the combinational logic block is $t_{cd,logic} = 0.55$ ns.\n- The hold time requirement for RegB is $t_{hold,RegB} = 0$ ns.\n\nA hold time violation occurs if the input data to a register changes too soon after the clock edge that is meant to capture the previous, stable data. Even with a zero hold time requirement, a violation is possible in the presence of clock skew.\n\nCalculate the maximum possible clock skew, $t_{skew,max}$, that the circuit can tolerate without a hold time violation at RegB. Express your answer in nanoseconds, rounded to two significant figures.", "solution": "We analyze the hold-time constraint for two positive edge-triggered registers RegA (launch) and RegB (capture) connected through combinational logic, with clock skew defined as $t_{skew} = t_{CLK,B} - t_{CLK,A}$. A hold violation is avoided if the earliest time the new data can arrive at RegB is not earlier than $t_{CLK,B} + t_{hold,RegB}$.\n\nThe earliest time the data launched by RegA can reach RegB is given by the sum of minimum (contamination) delays:\n$$\nt_{arrive,earliest} = t_{CLK,A} + t_{cd,RegA} + t_{cd,logic}.\n$$\nThe hold requirement at RegB is\n$$\nt_{arrive,earliest} \\ge t_{CLK,B} + t_{hold,RegB}.\n$$\nSubstituting $t_{CLK,B} = t_{CLK,A} + t_{skew}$ gives\n$$\nt_{CLK,A} + t_{cd,RegA} + t_{cd,logic} \\ge t_{CLK,A} + t_{skew} + t_{hold,RegB},\n$$\nwhich simplifies to the standard hold constraint with skew:\n$$\nt_{cd,RegA} + t_{cd,logic} \\ge t_{skew} + t_{hold,RegB}.\n$$\nThus, the maximum tolerable clock skew before a hold violation is\n$$\nt_{skew,max} = \\left(t_{cd,RegA} + t_{cd,logic}\\right) - t_{hold,RegB}.\n$$\nSubstituting the given values,\n$$\nt_{skew,max} = (0.85 + 0.55) - 0 = 1.40 \\text{ ns}.\n$$\nRounded to two significant figures, this is $1.4$ ns.", "answer": "$$\\boxed{1.4}$$", "id": "1921495"}, {"introduction": "The ultimate goal of timing analysis is to ensure a complete system functions correctly at a desired speed. This final practice problem integrates all the concepts by challenging you to determine the maximum clock frequency of a multi-stage circuit with a feedback loop. You will need to balance the \"slow path\" constraint set by propagation delay ($t_{pcq}$) and setup time ($t_{setup}$) with the \"fast path\" constraint governed by contamination delay ($t_{ccq}$) and hold time ($t_{hold}$) to find the true performance limit of the entire system.", "problem": "A specialized processing element within a custom Digital Signal Processor (DSP) chip is being designed. The core of this element consists of a two-stage synchronous pipeline with a feedback loop. The first stage is a flip-flop, FF1, and the second stage is a flip-flop, FF2. The output of FF1 is connected to the input of a combinational logic block, Logic1, whose output then feeds the input of FF2. The output of FF2 is connected to the input of a second combinational logic block, Logic2, which in turn feeds back to the input of FF1, closing the loop.\n\nAll flip-flops are identical, positive edge-triggered D-type flip-flops with the following timing characteristics:\n- Setup time, $t_{setup} = 60 \\text{ ps}$\n- Hold time, $t_{hold} = 35 \\text{ ps}$\n- Propagation delay (clock-to-Q), $t_{pcq} = 80 \\text{ ps}$\n- Contamination delay (clock-to-Q), $t_{ccq} = 45 \\text{ ps}$\n\nThe two combinational logic blocks have the following delay characteristics:\n- Logic Block 1 (between FF1 and FF2):\n  - Maximum propagation delay, $t_{comb1,max} = 350 \\text{ ps}$\n  - Minimum contamination delay, $t_{comb1,min} = 150 \\text{ ps}$\n- Logic Block 2 (between FF2 and FF1):\n  - Maximum propagation delay, $t_{comb2,max} = 200 \\text{ ps}$\n  - Minimum contamination delay, $t_{comb2,min} = 120 \\text{ ps}$\n\nTo ensure reliable operation, the circuit timing must satisfy both setup and hold time constraints across all paths. Calculate the maximum possible clock frequency for this circuit. Express your answer in gigahertz (GHz), rounded to three significant figures.", "solution": "We analyze the synchronous timing constraints for both register-to-register paths and determine the maximum clock frequency from the most restrictive setup constraint, while ensuring hold constraints are satisfied. All flip-flops are identical and clocked on the same positive edge, and no clock skew is specified, so we assume zero clock skew.\n\nFor a path from a launching flip-flop to a capturing flip-flop, the setup time constraint is\n$$\nT \\geq t_{pcq} + t_{comb,\\max} + t_{setup}.\n$$\nThe hold time constraint is\n$$\nt_{ccq} + t_{comb,\\min} \\geq t_{hold}.\n$$\n\nThere are two paths:\n\n1) Path FF1 → Logic1 → FF2:\n- Setup constraint:\n$$\nT \\geq t_{pcq} + t_{comb1,\\max} + t_{setup} = 80\\,\\text{ps} + 350\\,\\text{ps} + 60\\,\\text{ps} = 490\\,\\text{ps}.\n$$\n- Hold constraint:\n$$\nt_{ccq} + t_{comb1,\\min} = 45\\,\\text{ps} + 150\\,\\text{ps} = 195\\,\\text{ps} \\geq 35\\,\\text{ps},\n$$\nwhich is satisfied.\n\n2) Path FF2 → Logic2 → FF1:\n- Setup constraint:\n$$\nT \\geq t_{pcq} + t_{comb2,\\max} + t_{setup} = 80\\,\\text{ps} + 200\\,\\text{ps} + 60\\,\\text{ps} = 340\\,\\text{ps}.\n$$\n- Hold constraint:\n$$\nt_{ccq} + t_{comb2,\\min} = 45\\,\\text{ps} + 120\\,\\text{ps} = 165\\,\\text{ps} \\geq 35\\,\\text{ps},\n$$\nwhich is satisfied.\n\nThe required minimum clock period is the maximum of the setup constraints across all paths:\n$$\nT_{\\min} = \\max\\{490\\,\\text{ps},\\,340\\,\\text{ps}\\} = 490\\,\\text{ps}.\n$$\nTherefore, the maximum clock frequency is\n$$\nf_{\\max} = \\frac{1}{T_{\\min}} = \\frac{1}{490\\,\\text{ps}} = \\frac{10^{12}}{490}\\,\\text{Hz} \\approx 2.04\\,\\text{GHz}.\n$$\nRounded to three significant figures in gigahertz, the value is $2.04$.", "answer": "$$\\boxed{2.04}$$", "id": "1921488"}]}