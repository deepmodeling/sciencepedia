{"hands_on_practices": [{"introduction": "The most fundamental way to see edge triggering in action is to create a circuit that changes its state predictably at every clock pulse. This exercise explores a classic configuration where a single negative edge-triggered D-flip-flop is wired to toggle its output, creating a frequency divider. By analyzing this simple feedback loop, you will solidify your understanding of how a flip-flop's state, $Q$, evolves over time and performs a core function used in nearly all digital counters and timers. [@problem_id:1952876]", "problem": "A digital circuit is constructed using a single ideal negative edge-triggered D-type flip-flop. The flip-flop has a data input ($D$), a clock input (`CLK`), a standard output ($Q$), and an inverted output ($\\bar{Q}$). The circuit is configured such that the inverted output $\\bar{Q}$ is connected directly back to the data input $D$.\n\nA periodic square wave signal is applied to the `CLK` input. This clock signal has a constant frequency of $f_{CLK} = 150 \\text{ MHz}$.\n\nAssume that at time $t=0$, immediately before the first negative edge of the clock signal arrives, the output $Q$ is in the logic low state ($Q=0$). Determine the frequency of the signal observed at the output $Q$.\n\nExpress your answer in units of megahertz (MHz).", "solution": "A negative edge-triggered D flip-flop updates its output $Q$ at each falling edge of the clock according to the value present at the data input $D$ just before that edge:\n$$Q(t^{+})=D(t^{-}).$$\nWith the given wiring $D=\\bar{Q}$, at each falling edge we have\n$$Q(t^{+})=\\bar{Q}(t^{-}),$$\nso the flip-flop toggles state on every negative clock edge.\n\nLet the falling edges occur at times $t_{n}$, separated by the clock period $T_{CLK}$, where\n$$T_{CLK}=\\frac{1}{f_{CLK}}.$$\nDefine $Q_{n}=Q(t_{n}^{-})$. The update rule becomes\n$$Q_{n+1}=\\bar{Q}_{n}.$$\nThus $Q$ changes state at every falling edge, i.e., once every interval $T_{CLK}$. A full period of the $Q$ waveform requires two toggles, so the output period is\n$$T_{Q}=2T_{CLK}.$$\nTherefore the output frequency is\n$$f_{Q}=\\frac{1}{T_{Q}}=\\frac{1}{2T_{CLK}}=\\frac{f_{CLK}}{2}.$$\nWith $f_{CLK}=150\\ \\text{MHz}$,\n$$f_{Q}=\\frac{150\\ \\text{MHz}}{2}=75\\ \\text{MHz}.$$\nSince the requested unit is megahertz, the numerical value is $75$.", "answer": "$$\\boxed{75}$$", "id": "1952876"}, {"introduction": "Digital systems often require passing data between stages that operate on different phases of a master clock. This practice models such a scenario using a positive edge-triggered flip-flop followed by a negative edge-triggered one, forming a simple two-stage pipeline. Tracing the data through this circuit will clarify how information is captured at one point in the clock cycle (the rising edge) and then transferred at another (the falling edge), a key concept in designing reliable data paths. [@problem_id:1952889]", "problem": "A minimal digital data sampler consists of two D-type flip-flops, $FF1$ and $FF2$, connected in a series configuration. The circuit is driven by a periodic clock signal, `CLK`, and processes a single data input stream, `D_in`.\n\nThe specific connections and properties are as follows:\n- $FF1$ is a **positive edge-triggered** D-type flip-flop. Its data input $D$ is connected to `D_in`, and its output is `Q1`.\n- $FF2$ is a **negative edge-triggered** D-type flip-flop. Its data input $D$ is connected to the output of the first flip-flop, `Q1`, and its output is `Q2`.\n\nThe clock signal `CLK` has a period of 10 nanoseconds (ns). It is initially at logic 0. In each cycle, the clock is at logic 1 for 5 ns and at logic 0 for 5 ns. The first transition from 0 to 1 (rising edge) occurs at time $t = 5\\ \\text{ns}$.\n\nThe behavior of the data input `D_in` over time is described as follows:\n- `D_in` is initially at logic 0.\n- At $t = 4\\ \\text{ns}$, `D_in` transitions from logic 0 to logic 1.\n- At $t = 13\\ \\text{ns}$, `D_in` transitions from logic 1 to logic 0.\n- At $t = 22\\ \\text{ns}$, `D_in` transitions from logic 0 to logic 1 and remains at logic 1 for the remainder of the observation.\n\nInitially, at time $t = 0$, both flip-flop outputs `Q1` and `Q2` are at logic 0. Assume the flip-flops are ideal, meaning that propagation delays, as well as setup and hold times, are negligible.\n\nWhat is the sequence of logic states for the output pair `(Q1, Q2)` when measured immediately after the time points $t = 10\\ \\text{ns}$, $t = 20\\ \\text{ns}$, and $t = 30\\ \\text{ns}$?\n\nA. `(1, 0), (0, 1), (1, 0)`\n\nB. `(1, 1), (0, 0), (1, 1)`\n\nC. `(1, 1), (1, 1), (1, 1)`\n\nD. `(0, 0), (1, 1), (0, 0)`\n\nE. `(1, 0), (1, 0), (1, 0)`", "solution": "Principles used:\n- A positive edge-triggered D flip-flop samples its input $D$ on each rising edge of the clock and updates its output $Q$ immediately after that edge when propagation delay is negligible.\n- A negative edge-triggered D flip-flop samples its input $D$ on each falling edge of the clock and updates its output $Q$ immediately after that edge when propagation delay is negligible.\n\nGiven:\n- The clock has period $10\\,\\text{ns}$ and is high for $5\\,\\text{ns}$ and low for $5\\,\\text{ns}$. With the clock initially low, rising edges occur at $t=5+10k\\,\\text{ns}$ and falling edges at $t=10+10k\\,\\text{ns}$ for integers $k\\geq 0$.\n- $D_{\\text{in}}$ transitions: $0\\to 1$ at $t=4\\,\\text{ns}$, $1\\to 0$ at $t=13\\,\\text{ns}$, $0\\to 1$ at $t=22\\,\\text{ns}$ and stays $1$ thereafter.\n- Initial conditions at $t=0$: $Q_{1}=0$, $Q_{2}=0$.\n\nEdge-by-edge evolution:\n1) At $t=5\\,\\text{ns}$ (first rising edge), FF1 samples $D_{\\text{in}}$. Since $D_{\\text{in}}=1$ for $t\\geq 4\\,\\text{ns}$ up to $t=13\\,\\text{ns}$, FF1 updates to $Q_{1}=1$ immediately after $t=5\\,\\text{ns}$. FF2 does not change on rising edges, so $Q_{2}=0$. Thus after $t=5\\,\\text{ns}$: $(Q_{1},Q_{2})=(1,0)$.\n\n2) At $t=10\\,\\text{ns}$ (first falling edge), FF2 samples FF1â€™s output. Since FF1 only updates on rising edges, and its last update was $Q_{1}=1$ at $t=5\\,\\text{ns}$ with no further rising edge before $t=10\\,\\text{ns}$, we have $Q_{1}=1$ at $t=10\\,\\text{ns}$. Therefore FF2 updates to $Q_{2}=1$ immediately after $t=10\\,\\text{ns}$. Hence the pair immediately after $t=10\\,\\text{ns}$ is $(Q_{1},Q_{2})=(1,1)$.\n\n3) $D_{\\text{in}}$ falls to $0$ at $t=13\\,\\text{ns}$.\n\n4) At $t=15\\,\\text{ns}$ (second rising edge), FF1 samples $D_{\\text{in}}=0$ and updates to $Q_{1}=0$ immediately after $t=15\\,\\text{ns}$. $Q_{2}$ remains $1$ at this instant.\n\n5) At $t=20\\,\\text{ns}$ (second falling edge), FF2 samples $Q_{1}$. Since $Q_{1}$ was set to $0$ at $t=15\\,\\text{ns}$ and does not change again before $t=20\\,\\text{ns}$, FF2 updates to $Q_{2}=0$ immediately after $t=20\\,\\text{ns}$. Hence the pair immediately after $t=20\\,\\text{ns}$ is $(Q_{1},Q_{2})=(0,0)$.\n\n6) $D_{\\text{in}}$ rises to $1$ at $t=22\\,\\text{ns}$ and remains $1$ thereafter.\n\n7) At $t=25\\,\\text{ns}$ (third rising edge), FF1 samples $D_{\\text{in}}=1$ and updates to $Q_{1}=1$ immediately after $t=25\\,\\text{ns}$. $Q_{2}$ remains $0$ at this instant.\n\n8) At $t=30\\,\\text{ns}$ (third falling edge), FF2 samples $Q_{1}=1$ and updates to $Q_{2}=1$ immediately after $t=30\\,\\text{ns}$. Hence the pair immediately after $t=30\\,\\text{ns}$ is $(Q_{1},Q_{2})=(1,1)$.\n\nCollecting the required samples immediately after $t=10\\,\\text{ns}$, $t=20\\,\\text{ns}$, and $t=30\\,\\text{ns}$ gives $(1,1)$, $(0,0)$, $(1,1)$, which corresponds to option B.", "answer": "$$\\boxed{B}$$", "id": "1952889"}, {"introduction": "Building on the concept of mixed-edge data transfer, this problem challenges you with a more complex system: a 4-bit shift register with alternating positive and negative edge-triggered flip-flops. This unconventional design requires careful, step-by-step analysis to track how data propagates through the register over multiple clock cycles. Mastering this exercise demonstrates a deep understanding of timing in sequential circuits, forcing you to distinguish which parts of the system are active on the rising edge versus the falling edge. [@problem_id:1952875]", "problem": "A 4-bit synchronous shift register is constructed using four D-type flip-flops, labeled $FF_3, FF_2, FF_1$, and $FF_0$, with corresponding outputs $Q_3, Q_2, Q_1$, and $Q_0$. The 4-bit state of the register is represented by the binary number $Q_3Q_2Q_1Q_0$, where $Q_3$ is the Most Significant Bit (MSB).\n\nThe register is configured to shift right. A serial input, denoted as `D_in`, is connected to the data input of the first flip-flop ($D_3$). The output of each flip-flop is connected to the input of the next one in sequence: $Q_3$ is connected to $D_2$, $Q_2$ to $D_1$, and $Q_1$ to $D_0$.\n\nA single clock signal is distributed to all flip-flops. Unconventionally, the flip-flops have alternating trigger sensitivities. Flip-flops $FF_3$ and $FF_1$ are positive-edge triggered, meaning they update their state on the rising edge of the clock signal. Flip-flops $FF_2$ and $FF_0$ are negative-edge triggered, meaning they update their state on the falling edge of the clock signal.\n\nAt time $t=0$, just before the first clock pulse, the register is initialized to the state $1010$. For all subsequent time, the serial input `D_in` is held constant at a logic high value ($1$).\n\nDetermine the binary state of the register, $Q_3Q_2Q_1Q_0$, after the system has been subjected to exactly two full clock cycles.\n\nA. 1100\n\nB. 1111\n\nC. 0111\n\nD. 1110\n\nE. 1000", "solution": "We use the D flip-flop principle: on its triggering clock edge, each flip-flop updates its output to the value present at its data input immediately before that edge. Here, $FF_{3}$ and $FF_{1}$ are positive-edge triggered; $FF_{2}$ and $FF_{0}$ are negative-edge triggered. The connections are $D_{3}=D_{in}$, $D_{2}=Q_{3}$, $D_{1}=Q_{2}$, and $D_{0}=Q_{1}$. The initial state just before the first clock edge is $Q_{3}Q_{2}Q_{1}Q_{0}=1010$, and $D_{in}=1$ for all time.\n\nInitial (just before first rising edge): $Q_{3}=1$, $Q_{2}=0$, $Q_{1}=1$, $Q_{0}=0$. Thus $D_{3}=1$, $D_{2}=1$, $D_{1}=0$, $D_{0}=1$.\n\nAfter first rising edge (only $FF_{3}$ and $FF_{1}$ update):\n$$Q_{3}\\leftarrow D_{3}=1,\\quad Q_{1}\\leftarrow D_{1}=Q_{2}=0,$$\nso the state becomes $Q_{3}Q_{2}Q_{1}Q_{0}=1000$.\n\nRecompute inputs from this state: $D_{3}=1$, $D_{2}=Q_{3}=1$, $D_{1}=Q_{2}=0$, $D_{0}=Q_{1}=0$.\n\nAfter first falling edge (only $FF_{2}$ and $FF_{0}$ update):\n$$Q_{2}\\leftarrow D_{2}=Q_{3}=1,\\quad Q_{0}\\leftarrow D_{0}=Q_{1}=0,$$\nso the state becomes $Q_{3}Q_{2}Q_{1}Q_{0}=1100$.\n\nRecompute inputs: $D_{3}=1$, $D_{2}=Q_{3}=1$, $D_{1}=Q_{2}=1$, $D_{0}=Q_{1}=0$.\n\nAfter second rising edge (only $FF_{3}$ and $FF_{1}$ update):\n$$Q_{3}\\leftarrow D_{3}=1,\\quad Q_{1}\\leftarrow D_{1}=Q_{2}=1,$$\nso the state becomes $Q_{3}Q_{2}Q_{1}Q_{0}=1110$.\n\nRecompute inputs: $D_{3}=1$, $D_{2}=Q_{3}=1$, $D_{1}=Q_{2}=1$, $D_{0}=Q_{1}=1$.\n\nAfter second falling edge (only $FF_{2}$ and $FF_{0}$ update):\n$$Q_{2}\\leftarrow D_{2}=Q_{3}=1,\\quad Q_{0}\\leftarrow D_{0}=Q_{1}=1,$$\nso the state becomes $Q_{3}Q_{2}Q_{1}Q_{0}=1111$.\n\nTherefore, after exactly two full clock cycles, the register state is $1111$, which corresponds to option B.", "answer": "$$\\boxed{B}$$", "id": "1952875"}]}