{"hands_on_practices": [{"introduction": "The inverting amplifier is a cornerstone of analog electronics, and its behavior is elegantly explained by the virtual ground concept. This exercise [@problem_id:1341086] challenges you to apply this principle not just for voltage gain, but to determine the actual current flow within the circuit. By doing so, you will reinforce your understanding of how the op-amp's output works to maintain the virtual ground at the inverting terminal via feedback.", "problem": "A signal conditioning circuit is designed using an ideal operational amplifier (op-amp) to process the output from a low-voltage sensor. The op-amp is configured in an inverting amplifier topology. The non-inverting input terminal of the op-amp is connected directly to ground. The sensor, which produces a stable voltage of $V_{in} = -0.150 \\text{ V}$, is connected to the op-amp's inverting input terminal through an input resistor of $R_{in} = 2.20 \\text{ k}\\Omega$. A feedback path is created by placing a feedback resistor of $R_f = 33.0 \\text{ k}\\Omega$ between the op-amp's output terminal and its inverting input terminal.\n\nCalculate the value of the current that flows from the inverting input terminal of the op-amp, through the feedback resistor $R_f$, and towards the output terminal. Express your answer in milliamperes (mA), rounded to three significant figures.", "solution": "For an ideal op-amp with the non-inverting input grounded, the virtual short implies $V_{-}=V_{+}=0$. The input current into the op-amp is zero.\n\nApply KCL at the inverting node. Define currents from each connected node into the inverting node as positive:\n$$\\frac{V_{in}-V_{-}}{R_{in}}+\\frac{V_{out}-V_{-}}{R_{f}}=0.$$\nWith $V_{-}=0$, this becomes\n$$\\frac{V_{in}}{R_{in}}+\\frac{V_{out}}{R_{f}}=0 \\quad \\Rightarrow \\quad V_{out}=-\\frac{R_{f}}{R_{in}}V_{in}.$$\nSubstitute the given values $R_{f}=33.0\\times 10^{3}\\ \\Omega$, $R_{in}=2.20\\times 10^{3}\\ \\Omega$, and $V_{in}=-0.150\\ \\text{V}$ to find\n$$V_{out}=-\\frac{33.0\\times 10^{3}}{2.20\\times 10^{3}}(-0.150)=2.25\\ \\text{V}.$$\n\nThe requested current is the current through $R_{f}$ from the inverting node toward the output terminal. With the chosen direction from node to output, this current is\n$$I_{f}=\\frac{V_{-}-V_{out}}{R_{f}}=\\frac{0-2.25}{33.0\\times 10^{3}}\\ \\text{A}=-6.81818\\times 10^{-5}\\ \\text{A}.$$\nExpressed in milliamperes and rounded to three significant figures,\n$$I_{f}=-0.0682\\ \\text{mA}.$$\nThe negative sign indicates that the actual current flows from the output toward the inverting node, opposite to the stated direction.", "answer": "$$\\boxed{-0.0682}$$", "id": "1341086"}, {"introduction": "Building upon the single-input amplifier, the summing amplifier demonstrates the power of the virtual ground as a mixing point for multiple signals. This design-oriented problem [@problem_id:1341089] moves from pure analysis to practical application, asking you to configure a circuit that performs a mathematical operation. You will determine the resistor values needed to create an output that is the negative average of two inputs, a common task in signal processing.", "problem": "An engineer is designing a signal conditioning circuit for a sensor array. The circuit must take two input voltages, $V_1$ and $V_2$, and produce an output voltage, $V_{out}$, that is equal to the negative average of the inputs. The circuit is constructed using a single ideal Operational Amplifier (Op-Amp) and three resistors. The two input voltages, $V_1$ and $V_2$, are connected to the inverting terminal of the op-amp through two separate input resistors, $R_{in,1}$ and $R_{in,2}$. A feedback resistor, $R_f$, connects the op-amp's output to its inverting terminal. The non-inverting terminal of the op-amp is connected directly to ground.\n\nThe design specifications require that the output voltage must satisfy the relation $V_{out} = -\\frac{1}{2}(V_1 + V_2)$. To simplify the implementation, the two input resistors are chosen to be identical, with a value of $R_{in,1} = R_{in,2} = 27.0 \\, \\text{k}\\Omega$.\n\nAssuming the op-amp is ideal, calculate the required value of the feedback resistor $R_f$. Express your answer in kilo-ohms (k$\\Omega$), rounded to three significant figures.", "solution": "For an ideal inverting summing amplifier with the non-inverting terminal grounded, the inverting input is at virtual ground, so $V_{-} = 0$. Applying Kirchhoffâ€™s current law at the inverting node gives\n$$\\frac{V_{1} - V_{-}}{R_{in,1}} + \\frac{V_{2} - V_{-}}{R_{in,2}} + \\frac{V_{out} - V_{-}}{R_{f}} = 0.$$\nWith $V_{-} = 0$, this simplifies to\n$$\\frac{V_{1}}{R_{in,1}} + \\frac{V_{2}}{R_{in,2}} + \\frac{V_{out}}{R_{f}} = 0,$$\nhence\n$$V_{out} = -R_{f}\\left(\\frac{V_{1}}{R_{in,1}} + \\frac{V_{2}}{R_{in,2}}\\right).$$\nWith identical input resistors $R_{in,1} = R_{in,2} = R_{in}$, this becomes\n$$V_{out} = -\\frac{R_{f}}{R_{in}}(V_{1} + V_{2}).$$\nThe specification requires $V_{out} = -\\frac{1}{2}(V_{1} + V_{2})$, so equating coefficients yields\n$$\\frac{R_{f}}{R_{in}} = \\frac{1}{2} \\quad \\Rightarrow \\quad R_{f} = \\frac{1}{2}R_{in}.$$\nWith $R_{in} = 27.0\\,\\text{k}\\Omega$, the required feedback resistor is\n$$R_{f} = \\frac{1}{2}\\times 27.0\\,\\text{k}\\Omega = 13.5\\,\\text{k}\\Omega.$$\nRounded to three significant figures, this is $13.5$ in kilo-ohms.", "answer": "$$\\boxed{13.5}$$", "id": "1341089"}, {"introduction": "This practice moves from the specific case of a virtual ground to the more general virtual short principle, where the op-amp forces the inverting input voltage ($V_{-}$) to equal the non-inverting input voltage ($V_{+}$). The difference amplifier is a classic application of this concept, but its real-world performance depends heavily on precise component matching. This problem [@problem_id:1341094] explores the practical consequences of resistor mismatch, introducing the critical concepts of common-mode signals and the non-ideal common-mode gain that real amplifiers exhibit.", "problem": "An ideal Operational Amplifier (Op-Amp) is configured as a difference amplifier. The circuit is constructed as follows: An input voltage $v_1$ is connected to the inverting input terminal ($-$) of the Op-Amp through a resistor $R_1$. A feedback resistor $R_2$ connects the output terminal $v_{out}$ to the inverting input terminal. A second input voltage $v_2$ is connected to the non-inverting input terminal ($+$) through a resistor $R_3$. The non-inverting input terminal is also connected to ground through a resistor $R_4$.\n\nThe amplifier is designed to have perfectly matched resistor ratios, such that $R_3 = R_1$ and $R_4 = R_2$. However, due to a manufacturing imperfection, the resistor $R_4$ has a fractional deviation $\\delta$ from its intended value. Its actual resistance is $R_4 = R_2(1+\\delta)$, while resistors $R_1$, $R_2$, and $R_3$ are all at their ideal intended values (i.e., $R_3 = R_1$).\n\nA pure common-mode input signal is applied to the amplifier, such that $v_1 = v_2 = V_{cm}$. Determine the resulting output voltage $v_{out}$. Express your answer as a single closed-form analytic expression in terms of $V_{cm}$, $R_1$, $R_2$, and $\\delta$.", "solution": "For an ideal op-amp with negative feedback, the input currents are zero and the input node voltages satisfy $v_{-} = v_{+}$.\n\nThe non-inverting input sees a resistive divider from $v_{2}$ to ground through $R_{3}$ and $R_{4}$ with no loading, so\n$$\nv_{+} = v_{2}\\,\\frac{R_{4}}{R_{3} + R_{4}}.\n$$\nOn the inverting side, applying KCL at the inverting node (with zero input current) gives\n$$\n\\frac{v_{1} - v_{-}}{R_{1}} + \\frac{v_{out} - v_{-}}{R_{2}} = 0.\n$$\nRearranging for $v_{out}$ yields\n$$\nv_{out} = \\frac{(R_{1} + R_{2})\\,v_{-} - R_{2}\\,v_{1}}{R_{1}}.\n$$\nWith a pure common-mode input $v_{1} = v_{2} = V_{cm}$ and using $v_{-} = v_{+}$, we have\n$$\nv_{out} = \\frac{R_{1} + R_{2}}{R_{1}}\\,V_{cm}\\,\\frac{R_{4}}{R_{3} + R_{4}} - \\frac{R_{2}}{R_{1}}\\,V_{cm}.\n$$\nUsing the intended matching $R_{3} = R_{1}$ and the deviation $R_{4} = R_{2}(1+\\delta)$, substitute to obtain\n$$\nv_{out} = \\frac{R_{2}}{R_{1}}\\,V_{cm}\\left[\\frac{(R_{1} + R_{2})(1+\\delta)}{R_{1} + R_{2}(1+\\delta)} - 1\\right].\n$$\nSimplify the bracketed term:\n$$\n\\frac{(R_{1} + R_{2})(1+\\delta)}{R_{1} + R_{2}(1+\\delta)} - 1\n= \\frac{(R_{1} + R_{2})(1+\\delta) - \\left(R_{1} + R_{2}(1+\\delta)\\right)}{R_{1} + R_{2}(1+\\delta)}\n= \\frac{R_{1}\\delta}{R_{1} + R_{2}(1+\\delta)}.\n$$\nTherefore,\n$$\nv_{out} = V_{cm}\\,\\frac{R_{2}}{R_{1}}\\,\\frac{R_{1}\\delta}{R_{1} + R_{2}(1+\\delta)}\n= V_{cm}\\,\\frac{R_{2}\\,\\delta}{R_{1}+R_{2}\\left(1+\\delta\\right)}.\n$$\nThis expression satisfies $v_{out} = 0$ when $\\delta = 0$ and reduces correctly in limiting cases.", "answer": "$$\\boxed{V_{cm}\\,\\frac{R_{2}\\,\\delta}{R_{1}+R_{2}\\left(1+\\delta\\right)}}$$", "id": "1341094"}]}