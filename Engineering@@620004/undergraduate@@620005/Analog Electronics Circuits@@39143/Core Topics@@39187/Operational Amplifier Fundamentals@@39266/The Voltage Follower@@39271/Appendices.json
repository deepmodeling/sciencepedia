{"hands_on_practices": [{"introduction": "While an ideal voltage follower perfectly mirrors its input, a real operational amplifier's performance is bound by its power supply. This exercise moves from theory to practice by considering the output voltage saturation limits. You will determine the maximum input signal amplitude a voltage follower can handle before the output is \"clipped,\" a fundamental consideration for ensuring signal integrity in any practical circuit design [@problem_id:1341405].", "problem": "An operational amplifier (op-amp) is configured as a voltage follower, also known as a unity-gain buffer. The op-amp is powered by asymmetric DC voltage supplies: a positive supply of $+V_{CC} = +18.0 \\text{ V}$ and a negative supply of $-V_{EE} = -10.0 \\text{ V}$. Due to its internal structure, the op-amp's output voltage cannot swing all the way to the supply rails. The output saturates when it comes within $1.5 \\text{ V}$ of the positive supply rail or within $1.2 \\text{ V}$ of the negative supply rail.\n\nA sinusoidal input signal of the form $v_{in}(t) = V_p \\sin(2\\pi f t)$, with a frequency $f = 1 \\text{ kHz}$, is applied to the non-inverting input of the op-amp. Assuming the op-amp behaves ideally in all other aspects (e.g., its slew rate is sufficient for this frequency), determine the maximum possible peak voltage, $V_{p,max}$, that the input signal can have without causing the output signal to be clipped due to saturation.\n\nExpress your answer in volts (V), rounded to two significant figures.", "solution": "The op-amp is configured as a voltage follower, so the ideal closed-loop relation is\n$$\nv_{o}(t) = v_{in}(t).\n$$\nGiven the saturation limits relative to the supply rails, the allowable linear output range is bounded by:\n- Positive limit: the output cannot exceed $V_{CC} - 1.5$, so\n$$\nv_{o,\\max} = V_{CC} - 1.5.\n$$\n- Negative limit: the output cannot go below $(-V_{EE}) + 1.2$, so\n$$\nv_{o,\\min} = -V_{EE} + 1.2,\n$$\nwhere the negative supply is $-V_{EE}$.\n\nWith $V_{CC} = 18.0$ and $-V_{EE} = -10.0$, these become\n$$\nv_{o,\\max} = 18.0 - 1.5 = 16.5,\n$$\n$$\nv_{o,\\min} = -10.0 + 1.2 = -8.8.\n$$\n\nThe input is $v_{in}(t) = V_{p} \\sin(2\\pi f t)$, so its maximum and minimum values are $+V_{p}$ and $-V_{p}$, respectively. To avoid clipping, the output must satisfy\n$$\n-V_{p} \\ge v_{o,\\min} \\quad \\text{and} \\quad V_{p} \\le v_{o,\\max}.\n$$\nThese inequalities are equivalent to\n$$\nV_{p} \\le \\min\\{v_{o,\\max},\\, -v_{o,\\min}\\}.\n$$\nSubstituting the bounds,\n$$\nV_{p} \\le \\min\\{16.5,\\; 8.8\\} = 8.8.\n$$\nTherefore, the maximum allowable peak amplitude without clipping is\n$$\nV_{p,\\max} = 8.8.\n$$\nThe given frequency does not further constrain the result since the slew rate is assumed sufficient.", "answer": "$$\\boxed{8.8}$$", "id": "1341405"}, {"introduction": "Beyond the large-signal limits of saturation, real op-amps introduce subtle but significant DC inaccuracies. This practice focuses on two key sources of error: the input offset voltage ($V_{os}$) and the input bias current ($I_B$). By working through this problem, you will learn how to quantify the total DC output error in a voltage follower and appreciate how source resistance can significantly impact circuit precision [@problem_id:1341395].", "problem": "An Operational Amplifier (op-amp) is used to create a voltage follower, also known as a unity-gain buffer. The circuit is intended to buffer a grounded source. To model this, the non-inverting input (+) of the op-amp is connected to ground through a source resistance $R_G$. The output of the op-amp is connected directly to its inverting input (-).\n\nThe op-amp is not ideal. It has a DC input offset voltage of $V_{os}$ and an input bias current of $I_B$. For this analysis, assume the input offset current is negligible, meaning the bias current flowing into the non-inverting input is equal to the bias current flowing into the inverting input ($I_{B+} = I_{B-} = I_B$). The input offset voltage $V_{os}$ can be modeled as a voltage source in series with the non-inverting input terminal.\n\nGiven the following parameters for the op-amp and the circuit:\n- Source Resistance, $R_G = 120 \\, \\text{k}\\Omega$\n- Input Offset Voltage, $V_{os} = 2.0 \\, \\text{mV}$\n- Input Bias Current, $I_B = 90 \\, \\text{nA}$\n\nCalculate the total DC voltage at the output, $V_{out}$. Express your answer in millivolts (mV) and round it to two significant figures.", "solution": "Model the input offset voltage as a source in series with the non-inverting input so that the internal non-inverting node is $V_{p,\\text{int}}=V_{p,\\text{ext}}+V_{os}$, while the inverting internal node equals the external inverting node $V_{n,\\text{int}}=V_{n,\\text{ext}}$. With negative feedback and very large open-loop gain, the op-amp enforces $V_{n,\\text{int}} \\approx V_{p,\\text{int}}$, and in a voltage follower $V_{n,\\text{ext}}=V_{out}$. Therefore,\n$$\nV_{out}=V_{p,\\text{ext}}+V_{os}.\n$$\nAt the non-inverting input node, apply KCL with the bias current $I_{B}$ flowing into the op-amp input and the only other path through $R_{G}$ to ground. Taking currents leaving the node as positive,\n$$\n\\frac{V_{p,\\text{ext}}-0}{R_{G}}+I_{B}=0 \\;\\;\\Rightarrow\\;\\; V_{p,\\text{ext}}=-I_{B}R_{G}.\n$$\nThus the output voltage is\n$$\nV_{out}=V_{os}-I_{B}R_{G}.\n$$\nSubstitute the given values, keeping track of units:\n$$\nI_{B}R_{G}=\\left(90\\times 10^{-9}\\right)\\left(120\\times 10^{3}\\right)=10800\\times 10^{-6}\\,\\text{V}=10.8\\,\\text{mV},\n$$\nso\n$$\nV_{out}=2.0\\,\\text{mV}-10.8\\,\\text{mV}=-8.8\\,\\text{mV}.\n$$\nThe inverting input bias current does not create an additional offset in a follower because the inverting input is tied directly to the low-impedance output (no series resistance to develop a voltage).", "answer": "$$\\boxed{-8.8}$$", "id": "1341395"}, {"introduction": "In high-frequency applications, specialized 'decompensated' op-amps are used for their superior speed, but they often come with a stability constraint related to the circuit's gain. This advanced design challenge requires you to reconcile the need for unity signal gain ($G_{sig}=1$) with the op-amp's requirement for a higher 'noise gain' ($G_N$) to prevent oscillation. This problem illustrates a clever engineering technique to achieve both objectives, providing insight into the practicalities of high-speed buffer design [@problem_id:1341440].", "problem": "An engineer is designing a high-speed buffer circuit that must operate with a precise signal gain of unity ($G_{sig} = V_{out}/V_{in} = 1$). The design employs a special \"decompensated\" operational amplifier (op-amp), which has an extremely high open-loop gain and input impedance but is only guaranteed to be stable for circuit configurations having a closed-loop noise gain, $G_N$, of $G_{N,min}$ or greater, where $G_{N,min} > 1$.\n\nTo satisfy both the stability and unity-gain requirements, a two-part resistive network is constructed. First, a feedback network, consisting of a resistor $R_f$ connected from the output $V_{out}$ to the inverting input and a resistor $R_g$ connected from the inverting input to ground, is used to set the noise gain. The engineer configures this network to operate at the brink of stability, i.e., with a noise gain precisely equal to $G_{N,min}$. Second, an input attenuator network, consisting of a resistor $R_A$ from the input signal source $V_{in}$ to the non-inverting input and a resistor $R_B$ from the non-inverting input to ground, is used to adjust the overall signal gain to meet the unity-gain specification.\n\nAssuming the op-amp is otherwise ideal, calculate the value of the product of the two resistor ratios, $\\left(\\frac{R_f}{R_g}\\right) \\times \\left(\\frac{R_A}{R_B}\\right)$. Express your answer as a single closed-form analytic expression in terms of $G_{N,min}$.", "solution": "For an ideal op-amp in the non-inverting configuration with a feedback network of $R_{f}$ from output to the inverting input and $R_{g}$ from the inverting input to ground, the closed-loop gain from the non-inverting input to the output (the noise gain) is\n$$\nG_{N}=1+\\frac{R_{f}}{R_{g}}.\n$$\nThe design sets this at the stability limit, so\n$$\nG_{N}=G_{N,min}\\quad\\Rightarrow\\quad \\frac{R_{f}}{R_{g}}=G_{N,min}-1.\n$$\nThe input attenuator at the non-inverting input is a divider with $R_{A}$ from $V_{in}$ to the non-inverting input and $R_{B}$ from that node to ground, so the non-inverting input sees\n$$\nV_{+}=V_{in}\\,\\frac{R_{B}}{R_{A}+R_{B}}.\n$$\nWith ideal op-amp behavior, the output relates to the non-inverting input by the noise gain:\n$$\nV_{out}=G_{N}\\,V_{+}=\\left(1+\\frac{R_{f}}{R_{g}}\\right)V_{in}\\,\\frac{R_{B}}{R_{A}+R_{B}}.\n$$\nThe unity signal-gain requirement $G_{sig}=V_{out}/V_{in}=1$ gives\n$$\n1=\\left(1+\\frac{R_{f}}{R_{g}}\\right)\\frac{R_{B}}{R_{A}+R_{B}}.\n$$\nRearranging,\n$$\n(1+\\frac{R_{f}}{R_{g}})R_{B}=R_{A}+R_{B}\\quad\\Rightarrow\\quad \\frac{R_{f}}{R_{g}}\\,R_{B}=R_{A}\\quad\\Rightarrow\\quad \\frac{R_{A}}{R_{B}}=\\frac{R_{f}}{R_{g}}.\n$$\nTherefore, the requested product is\n$$\n\\left(\\frac{R_{f}}{R_{g}}\\right)\\left(\\frac{R_{A}}{R_{B}}\\right)=\\left(\\frac{R_{f}}{R_{g}}\\right)^{2}=\\left(G_{N,min}-1\\right)^{2}.\n$$", "answer": "$$\\boxed{\\left(G_{N,min}-1\\right)^{2}}$$", "id": "1341440"}]}