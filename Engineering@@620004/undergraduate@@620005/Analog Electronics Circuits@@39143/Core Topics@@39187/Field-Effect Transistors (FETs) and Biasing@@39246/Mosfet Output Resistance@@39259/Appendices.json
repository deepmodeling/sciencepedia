{"hands_on_practices": [{"introduction": "The concept of output resistance, $r_o$, originates from the non-ideal behavior of a MOSFET in saturation, where the drain current isn't perfectly constant. This practice takes you back to the fundamental definition of $r_o$ as the inverse of the slope of the $I_D$ versus $V_{DS}$ curve. By using experimental data points, you will calculate $r_o$ directly, reinforcing the physical meaning of this crucial parameter. [@problem_id:1318448]", "problem": "A researcher is characterizing a custom-fabricated n-channel Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) for use in a sensitive analog front-end circuit. A key non-ideal characteristic that affects the circuit's performance is the finite output resistance of the transistor when it operates in the saturation region. This effect is primarily due to channel-length modulation. To determine this resistance, the researcher performs a DC measurement. With the gate-to-source voltage held constant to keep the transistor in saturation, two operating points are recorded. At a drain-to-source voltage, $V_{DS}$, of $1.50$ V, the drain current, $I_D$, is measured to be $0.750$ mA. When the drain-to-source voltage is increased to $2.50$ V, the drain current increases to $0.765$ mA.\n\nBased on these two data points, estimate the small-signal output resistance, $r_o$, of the MOSFET. Express your answer in kilo-ohms ($\\text{k}\\Omega$) and round to three significant figures.", "solution": "To estimate the small-signal output resistance in saturation due to channel-length modulation, use the small-signal definition\n$$\nr_{o}=\\left(\\frac{d I_{D}}{d V_{DS}}\\right)^{-1}.\n$$\nUnder channel-length modulation, $I_{D}$ in saturation can be modeled as $I_{D}\\approx I_{D0}\\left(1+\\lambda V_{DS}\\right)$, so the small-signal conductance is $g_{ds}=\\frac{d I_{D}}{d V_{DS}}\\approx \\lambda I_{D0}$ and hence $r_{o}=1/g_{ds}$. From two nearby operating points at fixed $V_{GS}$, approximate the derivative by a finite difference:\n$$\ng_{ds}\\approx \\frac{\\Delta I_{D}}{\\Delta V_{DS}}, \\quad r_{o}\\approx \\frac{\\Delta V_{DS}}{\\Delta I_{D}}.\n$$\nUsing the data, $\\Delta V_{DS}=2.50-1.50=1.00\\ \\text{V}$ and $\\Delta I_{D}=0.765-0.750=0.015\\ \\text{mA}$. Therefore,\n$$\nr_{o}\\approx \\frac{1.00\\ \\text{V}}{0.015\\ \\text{mA}}=\\frac{1.00}{0.015}\\,\\text{k}\\Omega\\approx 66.7\\ \\text{k}\\Omega,\n$$\nwhere the unit conversion uses $\\frac{\\text{V}}{\\text{mA}}=\\text{k}\\Omega$. Rounding to three significant figures gives $66.7$ in $\\text{k}\\Omega$.", "answer": "$$\\boxed{66.7}$$", "id": "1318448"}, {"introduction": "While calculating output resistance from raw data is fundamental, circuit designers often rely on simplified models for quick analysis. This exercise introduces the Early voltage, $V_A$, a key parameter that elegantly captures the channel-length modulation effect in a single number. You will practice using the standard engineering approximation $r_o \\approx \\frac{V_A}{I_D}$, a formula that is indispensable for the hand analysis of analog circuits. [@problem_id:1318490]", "problem": "An electronics engineer is designing a simple current source for an analog integrated circuit using a single n-channel Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET). For the current source to be effective, it must exhibit a high output resistance. This ensures that the current it supplies remains nearly constant even if the voltage across the load it is driving changes. The MOSFET is biased to operate in the saturation region with a constant gate-to-source voltage, resulting in a quiescent drain current of $I_D = 0.130 \\text{ mA}$. The fabrication process for this device yields transistors with a characteristic Early voltage of $V_A = 25.0 \\text{ V}$, which models the finite slope of the $I_D$ versus $V_{DS}$ curve in the saturation region due to channel length modulation.\n\nCalculate the small-signal output resistance, $r_o$, of this MOSFET current source under the given bias conditions. Express your answer in kilo-ohms (k$\\Omega$), rounded to three significant figures.", "solution": "In saturation with channel-length modulation, the drain current can be approximated as $i_{D} \\approx I_{D}\\left(1+\\lambda v_{DS}\\right)$. The small-signal output conductance is $g_{o}=\\left.\\frac{\\partial i_{D}}{\\partial v_{DS}}\\right|_{Q}=\\lambda I_{D}$, so the small-signal output resistance is\n$$\nr_{o}=\\frac{1}{g_{o}}=\\frac{1}{\\lambda I_{D}}.\n$$\nThe Early voltage is defined by $V_{A}=\\frac{1}{\\lambda}$, hence\n$$\nr_{o}=\\frac{V_{A}}{I_{D}}.\n$$\nSubstituting the given bias values $V_{A}=25.0\\,\\text{V}$ and $I_{D}=0.130\\,\\text{mA}$, and using the fact that $\\frac{\\text{V}}{\\text{mA}}=\\text{k}\\Omega$, we obtain\n$$\nr_{o}=\\frac{25.0\\,\\text{V}}{0.130\\,\\text{mA}}=\\frac{25.0}{0.130}\\,\\text{k}\\Omega=192.307\\ldots\\,\\text{k}\\Omega.\n$$\nRounding to three significant figures gives $r_{o}=192\\,\\text{k}\\Omega$.", "answer": "$$\\boxed{192}$$", "id": "1318490"}, {"introduction": "Moving from analysis to design, we often find that a transistor's intrinsic output resistance is insufficient for high-performance applications like precision current sources. This advanced practice explores source degeneration, a powerful and widely-used circuit technique to significantly boost output resistance. You will synthesize your knowledge of small-signal parameters to calculate the required component value to meet a specific design target, a task that mirrors real-world analog engineering challenges. [@problem_id:1318458]", "problem": "An analog circuit designer is tasked with creating a high-performance current source using a two-transistor n-channel Metal-Oxide-Semiconductor Field-Effect Transistor (NMOS) current mirror. To achieve the high output impedance required by the application, identical source degeneration resistors, denoted as $R_S$, are added to the source terminal of both the reference transistor and the output transistor. The transistors are identical and operate in the saturation region.\n\nThe circuit is configured to provide an output current that is a copy of a reference current, $I_{REF}$. You are given the following device and circuit parameters:\n- Reference current, $I_{REF} = 150 \\ \\mu\\text{A}$.\n- NMOS process transconductance parameter, $\\mu_n C_{ox} = 250 \\ \\mu\\text{A}/\\text{V}^2$.\n- NMOS channel-length modulation parameter, $\\lambda = 0.04 \\ \\text{V}^{-1}$.\n- Transistor aspect ratio for both transistors, $(W/L) = 20$.\n- Target output resistance of the current source, $R_{out,target} = 4.0 \\ \\text{M}\\Omega$.\n\nAssume that due to the matched transistors and resistors, the quiescent drain current of the output transistor, $I_{D,out}$, is exactly equal to the reference current, $I_{REF}$. Calculate the required value of the source degeneration resistor $R_S$ to meet the target output resistance.\n\nExpress your answer in kilo-ohms ($\\text{k}\\Omega$) and round to three significant figures.", "solution": "The goal is to determine the value of the source degeneration resistor, $R_S$, required to achieve a target output resistance, $R_{out,target}$, for an NMOS current source. The output resistance is measured at the drain of the output transistor.\n\nFirst, let's establish the formula for the output resistance of a MOSFET with a source degeneration resistor. We can find this by analyzing the small-signal model of the output transistor. The output resistance $R_{out}$ is the resistance looking into the drain terminal while the gate is held at an AC ground (as it is connected to a DC bias voltage). Let the output transistor be $M_2$. Applying a test voltage $v_x$ to the drain of $M_2$ results in a current $i_x$. The small-signal model includes the transconductance $g_{m2}$, the intrinsic output resistance $r_{o2}$, and the external source resistor $R_S$.\n\nThe voltage at the source of $M_2$ is $v_s = i_x R_S$. The gate is at AC ground, so $v_g = 0$. The gate-source voltage is therefore $v_{gs} = v_g - v_s = -i_x R_S$.\nBy applying Kirchhoff's Current Law at the drain node, the test current $i_x$ is the sum of the current through $r_{o2}$ and the channel current controlled by $v_{gs}$:\n$$i_x = g_{m2} v_{gs} + \\frac{v_x - v_s}{r_{o2}}$$\nSubstituting the expressions for $v_{gs}$ and $v_s$:\n$$i_x = g_{m2}(-i_x R_S) + \\frac{v_x - i_x R_S}{r_{o2}}$$\nTo find $R_{out} = v_x / i_x$, we rearrange the equation to solve for $v_x$:\n$$i_x r_{o2} = -g_{m2} i_x R_S r_{o2} + v_x - i_x R_S$$\n$$v_x = i_x r_{o2} + i_x R_S + g_{m2} r_{o2} i_x R_S$$\n$$v_x = i_x (r_{o2} + R_S + g_{m2} r_{o2} R_S)$$\nThe output resistance is therefore:\n$$R_{out} = \\frac{v_x}{i_x} = r_{o2} (1 + g_{m2} R_S) + R_S$$\nWe are given $R_{out,target}$, and we need to solve for $R_S$. Before we can do that, we must calculate the small-signal parameters $g_{m2}$ and $r_{o2}$ for the output transistor. These parameters depend on its DC bias current, $I_{D,out}$. The problem states that we can assume $I_{D,out} = I_{REF} = 150 \\ \\mu\\text{A}$.\n\nThe intrinsic output resistance $r_{o2}$ is given by:\n$$r_{o2} = \\frac{1}{\\lambda I_{D,out}}$$\nSubstituting the given values:\n$$r_{o2} = \\frac{1}{(0.04 \\ \\text{V}^{-1}) (150 \\times 10^{-6} \\ \\text{A})} = \\frac{1}{6 \\times 10^{-6} \\ \\Omega^{-1}} \\approx 166.67 \\times 10^3 \\ \\Omega = 166.67 \\ \\text{k}\\Omega$$\n\nThe transconductance $g_{m2}$ for a MOSFET in saturation is given by:\n$$g_{m2} = \\sqrt{2 \\mu_n C_{ox} \\left(\\frac{W}{L}\\right) I_{D,out}}$$\nSubstituting the given values:\n$$g_{m2} = \\sqrt{2 (250 \\times 10^{-6} \\ \\text{A}/\\text{V}^2) (20) (150 \\times 10^{-6} \\ \\text{A})}$$\n$$g_{m2} = \\sqrt{2 \\times 250 \\times 20 \\times 150 \\times 10^{-12}} \\ \\text{A/V} = \\sqrt{1,500,000 \\times 10^{-12}} \\ \\text{A/V} = \\sqrt{1.5 \\times 10^{-6}} \\ \\text{A/V}$$\n$$g_{m2} \\approx 1.2247 \\times 10^{-3} \\ \\text{A/V} = 1.2247 \\ \\text{mS}$$\n\nNow we have all the components to solve for $R_S$. Our target equation is:\n$$R_{out,target} = r_{o2} + R_S + g_{m2} r_{o2} R_S$$\nWe can rearrange this to solve for $R_S$:\n$$R_{out,target} - r_{o2} = R_S (1 + g_{m2} r_{o2})$$\n$$R_S = \\frac{R_{out,target} - r_{o2}}{1 + g_{m2} r_{o2}}$$\nNow, substitute the numerical values. The target output resistance is $R_{out,target} = 4.0 \\ \\text{M}\\Omega = 4.0 \\times 10^6 \\ \\Omega$.\n$$R_S = \\frac{4.0 \\times 10^6 \\ \\Omega - 166.67 \\times 10^3 \\ \\Omega}{1 + (1.2247 \\times 10^{-3} \\ \\text{A/V})(166.67 \\times 10^3 \\ \\Omega)}$$\n$$R_S = \\frac{3,833,333 \\ \\Omega}{1 + 204.12}$$\n$$R_S = \\frac{3,833,333 \\ \\Omega}{205.12} \\approx 18688 \\ \\Omega$$\nThe problem asks for the answer in kilo-ohms ($\\text{k}\\Omega$) rounded to three significant figures.\n$$R_S = 18.688 \\ \\text{k}\\Omega$$\nRounding to three significant figures gives $18.7 \\ \\text{k}\\Omega$.", "answer": "$$\\boxed{18.7}$$", "id": "1318458"}]}