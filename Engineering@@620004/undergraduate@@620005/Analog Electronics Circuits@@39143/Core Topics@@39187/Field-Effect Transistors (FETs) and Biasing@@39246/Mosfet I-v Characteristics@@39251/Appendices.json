{"hands_on_practices": [{"introduction": "Mastering the MOSFET begins with understanding its role as a voltage-controlled current source. This first exercise [@problem_id:1318320] provides foundational practice in applying the square-law model, which is central to predicting a MOSFET's behavior in the saturation region. By calculating the required gate-source voltage ($V_{GS}$) to achieve a specific drain current ($I_D$), you will solidify your understanding of the direct relationship that allows these transistors to form the basis of countless analog circuits, such as the simple current source described in this scenario.", "problem": "An electronics engineer is designing a simple current source for a low-power biosensor integrated circuit. The core of this current source is an N-channel enhancement-mode Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET). The circuit is configured such that the transistor operates with a drain-source voltage of $V_{DS} = 3.0 \\text{ V}$. The goal is to establish a precise drain current of $I_D = 100\\,\\mu\\text{A}$.\n\nThe fabrication process for this MOSFET provides the following parameters:\n- Process transconductance parameter: $k_n' = 310.5\\,\\mu\\text{A/V}^2$\n- Channel aspect ratio: $W/L = 10$\n- Threshold voltage: $V_{th} = 0.50 \\text{ V}$\n\nAssuming the simple square-law model for the transistor and neglecting channel-length modulation effects (i.e., assuming the output resistance is infinite), calculate the required gate-source voltage $V_{GS}$. Express your answer in Volts, rounded to three significant figures.", "solution": "We model the MOSFET with the square-law in saturation and neglect channel-length modulation (infinite output resistance). For an N-channel enhancement-mode MOSFET in saturation, the drain current is\n$$\nI_{D}=\\frac{1}{2}k_{n}'\\frac{W}{L}\\left(V_{GS}-V_{th}\\right)^{2},\n$$\nwith the saturation condition $V_{DS}\\geq V_{GS}-V_{th}$. Solving for $V_{GS}$ gives\n$$\nV_{GS}=V_{th}+\\sqrt{\\frac{2I_{D}}{k_{n}'(W/L)}}.\n$$\nGiven $I_{D}=100\\,\\mu\\text{A}$, $k_{n}'=310.5\\,\\mu\\text{A/V}^{2}$, $W/L=10$, and $V_{th}=0.50\\,\\text{V}$, first compute\n$$\nk_{n}'\\left(\\frac{W}{L}\\right)=310.5\\times 10\\,\\mu\\text{A/V}^{2}=3105\\,\\mu\\text{A/V}^{2}.\n$$\nThen\n$$\n\\frac{2I_{D}}{k_{n}'(W/L)}=\\frac{200\\,\\mu\\text{A}}{3105\\,\\mu\\text{A/V}^{2}}=\\frac{200}{3105}\\,\\text{V}^{2}\\approx 0.06441\\,\\text{V}^{2}.\n$$\nHence the overdrive voltage is\n$$\nV_{GS}-V_{th}=\\sqrt{0.06441}\\,\\text{V}\\approx 0.2538\\,\\text{V},\n$$\nand therefore\n$$\nV_{GS}=0.50\\,\\text{V}+0.2538\\,\\text{V}\\approx 0.7538\\,\\text{V}.\n$$\nCheck the saturation condition: $V_{DS}=3.0\\,\\text{V}\\geq V_{GS}-V_{th}\\approx 0.254\\,\\text{V}$, so operation in saturation is consistent. Rounding to three significant figures gives $V_{GS}\\approx 0.754\\,\\text{V}$.", "answer": "$$\\boxed{0.754}$$", "id": "1318320"}, {"introduction": "While the ideal MOSFET model provides a great starting point, real-world circuits are governed by more complex phenomena. This practice [@problem_id:1318279] introduces the body effect, a critical non-ideality where the threshold voltage is not constant but changes with the source-to-body voltage ($V_{SB}$). Understanding how to calculate this shift in $V_{th}$ is essential for designing robust analog circuits, such as switches or source-follower amplifiers, where the source potential is not fixed at ground.", "problem": "An electrical engineer is designing a simple analog signal switch using a single n-type Metal-Oxide-Semiconductor (NMOS) transistor. In this application, the transistor must pass a time-varying analog voltage signal, $V_{in}$. The substrate (body) of the NMOS transistor is connected to ground (0 V). The operation of the transistor is significantly affected by the body effect, which modulates its threshold voltage.\n\nYou are given the following device parameters for the NMOS transistor:\n- The zero-bias threshold voltage, $V_{t0} = 0.45$ V.\n- The body-effect parameter, $\\gamma = 0.52$ V$^{1/2}$.\n- The surface potential at strong inversion, $2\\phi_F = 0.70$ V.\n\nThe engineer needs to determine the threshold voltage of the transistor at a specific instant when the analog input signal voltage is at its maximum value, $V_{in} = 3.0$ V. For the purpose of this analysis, assume that when the transistor is passing the signal, its source terminal voltage $V_S$ is equal to the input signal voltage $V_{in}$.\n\nCalculate the new threshold voltage, $V_t$, of the NMOS transistor under these conditions. Express your answer in volts (V), rounded to three significant figures.", "solution": "The NMOS threshold voltage including body effect is given by the body-effect relation:\n$$V_{t} = V_{t0} + \\gamma\\left(\\sqrt{2\\phi_{F} + V_{SB}} - \\sqrt{2\\phi_{F}}\\right).$$\nFor an NMOS with body tied to ground, the source-to-body voltage is $V_{SB} = V_{S} - V_{B} = V_{in} - 0 = 3.0\\,\\text{V}$. Using the given parameters $V_{t0} = 0.45$, $\\gamma = 0.52$, and $2\\phi_{F} = 0.70$, substitute into the formula:\n$$V_{t} = 0.45 + 0.52\\left(\\sqrt{0.70 + 3.0} - \\sqrt{0.70}\\right).$$\nCompute the sum inside the first square root:\n$$0.70 + 3.0 = 3.70,$$\nso\n$$V_{t} = 0.45 + 0.52\\left(\\sqrt{3.70} - \\sqrt{0.70}\\right).$$\nEvaluating the square roots numerically and simplifying,\n$$\\sqrt{3.70} - \\sqrt{0.70} \\approx 1.086878$$\nthen\n$$0.52 \\times 1.086878 \\approx 0.565177$$\nand finally\n$$V_{t} \\approx 0.45 + 0.565177 = 1.015177.$$\nRounded to three significant figures, the threshold voltage is\n$$V_{t} \\approx 1.02.$$", "answer": "$$\\boxed{1.02}$$", "id": "1318279"}, {"introduction": "Building on the fundamentals of a single transistor, this problem challenges you to analyze the behavior of a composite device made from two series-connected MOSFETs. This configuration is a building block for more advanced circuits, and its analysis requires you to simultaneously consider the operating regions of both transistors and solve for the voltage at the internal node [@problem_id:1318282]. By deriving the overall saturation current, you will practice a key skill in analog design: synthesizing basic device models to understand the emergent properties of a larger circuit.", "problem": "Consider a fundamental circuit building block formed by connecting two identical n-channel Metal-Oxide-Semiconductor Field-Effect Transistors (MOSFETs), labeled $M_1$ and $M_2$, in series. The source of $M_1$ is connected to the ground reference. The drain of $M_1$ is connected to the source of $M_2$. A voltage $V_D$ is applied to the drain of $M_2$. The gates of both transistors are tied together and driven by a single gate voltage source, $V_G$.\n\nBoth transistors are perfectly identical and are described by the standard square-law model. They share the same process parameter $\\beta = k_n' \\frac{W}{L}$ and the same threshold voltage $V_{th}$. For this analysis, you must ignore the body effect and channel-length modulation (i.e., assume the output resistance in saturation is infinite, $\\lambda=0$).\n\nThe I-V characteristic for a single n-channel MOSFET is given by:\n- Cutoff: $I_D = 0$ for $V_{GS} < V_{th}$\n- Triode/Linear Region: $I_D = \\beta \\left[ (V_{GS} - V_{th})V_{DS} - \\frac{1}{2}V_{DS}^2 \\right]$ for $V_{GS} \\ge V_{th}$ and $0 \\le V_{DS} < V_{GS} - V_{th}$\n- Saturation Region: $I_D = \\frac{1}{2}\\beta(V_{GS} - V_{th})^2$ for $V_{GS} \\ge V_{th}$ and $V_{DS} \\ge V_{GS} - V_{th}$\n\nThis series combination forms a composite two-terminal device between the drain of $M_2$ and the ground. Assuming the gate voltage is high enough to ensure both transistors are on ($V_G > V_{th}$), when the overall drain voltage $V_D$ is sufficiently large, this composite device enters a saturation region where its current becomes independent of $V_D$.\n\nDerive a closed-form analytic expression for this composite saturation current, $I_{D,sat}$. Express your answer in terms of $\\beta$, $V_G$, and $V_{th}$.", "solution": "Let's analyze the circuit to find the composite saturation current. Let $V_x$ be the voltage at the intermediate node, which is the drain of $M_1$ and the source of $M_2$. Since the two transistors are in series, the drain current $I_D$ is the same for both.\n\nFirst, we define the terminal voltages for each transistor in terms of the external voltages $V_G$, $V_D$, and the internal node voltage $V_x$.\nFor transistor $M_1$:\nGate-Source Voltage: $V_{GS1} = V_G - V_{S1} = V_G - 0 = V_G$\nDrain-Source Voltage: $V_{DS1} = V_{D1} - V_{S1} = V_x - 0 = V_x$\n\nFor transistor $M_2$:\nGate-Source Voltage: $V_{GS2} = V_G - V_{S2} = V_G - V_x$\nDrain-Source Voltage: $V_{DS2} = V_{D2} - V_{S2} = V_D - V_x$\n\nThe composite device is in saturation when its current $I_D$ becomes independent of the applied voltage $V_D$, for a given $V_G$. This implies that the operating points of the internal transistors stabilize. Let's examine the conditions for saturation for each transistor. An n-channel MOSFET enters saturation when $V_{DS} \\ge V_{GS} - V_{th}$.\n\nSaturation condition for $M_1$:\n$V_{DS1} \\ge V_{GS1} - V_{th} \\implies V_x \\ge V_G - V_{th}$\n\nSaturation condition for $M_2$:\n$V_{DS2} \\ge V_{GS2} - V_{th} \\implies V_D - V_x \\ge (V_G - V_x) - V_{th} \\implies V_D \\ge V_G - V_{th}$\n\nThe saturation condition for $M_2$ depends only on the external voltages $V_D$ and $V_G$. This suggests that as we increase $V_D$ from zero, $M_2$ will be the transistor that defines the onset of saturation for the composite device. When $V_D \\ge V_G - V_{th}$, $M_2$ is in saturation. In this regime, the current $I_D$ is determined by the interplay between the two transistors. Let's hypothesize that when the composite device is saturated, $M_2$ is in saturation and $M_1$ is in the triode region. We will verify this assumption later.\n\nAssuming $M_2$ is in saturation and $M_1$ is in the triode region, we can write their respective current equations:\nCurrent through $M_2$ (saturation):\n$$I_{D2} = \\frac{1}{2}\\beta (V_{GS2} - V_{th})^2 = \\frac{1}{2}\\beta (V_G - V_x - V_{th})^2$$\n\nCurrent through $M_1$ (triode):\n$$I_{D1} = \\beta \\left[ (V_{GS1} - V_{th})V_{DS1} - \\frac{1}{2}V_{DS1}^2 \\right] = \\beta \\left[ (V_G - V_{th})V_x - \\frac{1}{2}V_x^2 \\right]$$\n\nSince the currents must be equal ($I_{D1} = I_{D2} = I_{D,sat}$), we can equate these two expressions to solve for the intermediate voltage $V_x$:\n$$\\beta \\left[ (V_G - V_{th})V_x - \\frac{1}{2}V_x^2 \\right] = \\frac{1}{2}\\beta (V_G - V_x - V_{th})^2$$\n\nThe parameter $\\beta$ cancels out. Let's expand and rearrange the equation:\n$$2(V_G - V_{th})V_x - V_x^2 = (V_G - V_{th})^2 - 2(V_G - V_{th})V_x + V_x^2$$\n$$2V_x^2 - 4(V_G - V_{th})V_x + (V_G - V_{th})^2 = 0$$\n\nThis is a quadratic equation for $V_x$. We can solve it using the quadratic formula $V_x = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}$, where $a=2$, $b=-4(V_G - V_{th})$, and $c=(V_G - V_{th})^2$.\n$$V_x = \\frac{4(V_G - V_{th}) \\pm \\sqrt{[-4(V_G - V_{th})]^2 - 4(2)(V_G - V_{th})^2}}{2(2)}$$\n$$V_x = \\frac{4(V_G - V_{th}) \\pm \\sqrt{16(V_G - V_{th})^2 - 8(V_G - V_{th})^2}}{4}$$\n$$V_x = \\frac{4(V_G - V_{th}) \\pm \\sqrt{8(V_G - V_{th})^2}}{4}$$\n$$V_x = \\frac{4(V_G - V_{th}) \\pm 2\\sqrt{2}(V_G - V_{th})}{4}$$\n$$V_x = (V_G - V_{th}) \\left( \\frac{4 \\pm 2\\sqrt{2}}{4} \\right) = (V_G - V_{th}) \\left( 1 \\pm \\frac{\\sqrt{2}}{2} \\right)$$\n\nThis gives two possible solutions for $V_x$:\n1. $V_x = (V_G - V_{th})(1 + \\frac{\\sqrt{2}}{2})$\n2. $V_x = (V_G - V_{th})(1 - \\frac{\\sqrt{2}}{2})$\n\nNow we must check these solutions against our initial assumption that $M_1$ is in the triode region. The condition for $M_1$ to be in triode is $V_{DS1} < V_{GS1} - V_{th}$, which translates to $V_x < V_G - V_{th}$.\nThe first solution, $V_x = (V_G - V_{th})(1 + \\frac{\\sqrt{2}}{2})$, is clearly greater than $(V_G - V_{th})$, which violates the triode condition for $M_1$. Thus, this solution is not physically valid.\nThe second solution, $V_x = (V_G - V_{th})(1 - \\frac{\\sqrt{2}}{2})$, is less than $(V_G - V_{th})$ because $(1 - \\frac{\\sqrt{2}}{2})$ is positive and less than 1. This is consistent with $M_1$ being in the triode region. Therefore, this is the correct intermediate voltage.\n\nNow that we have the correct expression for $V_x$, we can substitute it into either current equation to find the composite saturation current $I_{D,sat}$. Using the saturation equation for $M_2$ is more straightforward:\n$$I_{D,sat} = \\frac{1}{2}\\beta (V_G - V_x - V_{th})^2$$\nLet's first evaluate the term $(V_G - V_x - V_{th})$:\n$$V_G - V_x - V_{th} = (V_G - V_{th}) - V_x$$\n$$= (V_G - V_{th}) - (V_G - V_{th})\\left(1 - \\frac{\\sqrt{2}}{2}\\right)$$\n$$= (V_G - V_{th}) \\left[ 1 - \\left(1 - \\frac{\\sqrt{2}}{2}\\right) \\right]$$\n$$= (V_G - V_{th}) \\left( \\frac{\\sqrt{2}}{2} \\right)$$\n\nNow, substitute this back into the current equation:\n$$I_{D,sat} = \\frac{1}{2}\\beta \\left[ (V_G - V_{th}) \\frac{\\sqrt{2}}{2} \\right]^2$$\n$$I_{D,sat} = \\frac{1}{2}\\beta (V_G - V_{th})^2 \\left( \\frac{\\sqrt{2}}{2} \\right)^2$$\n$$I_{D,sat} = \\frac{1}{2}\\beta (V_G - V_{th})^2 \\left( \\frac{2}{4} \\right)$$\n$$I_{D,sat} = \\frac{1}{4}\\beta (V_G - V_{th})^2$$\n\nThis is the expression for the saturation current of the composite device. It is independent of $V_D$, as required for saturation.", "answer": "$$\\boxed{\\frac{1}{4}\\beta (V_{G} - V_{th})^{2}}$$", "id": "1318282"}]}