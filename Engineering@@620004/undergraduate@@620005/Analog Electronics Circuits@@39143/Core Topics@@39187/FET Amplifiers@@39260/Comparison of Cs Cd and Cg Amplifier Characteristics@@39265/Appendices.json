{"hands_on_practices": [{"introduction": "Before comparing amplifier topologies, it's essential to understand their individual core characteristics. This first practice focuses on the Common-Drain (CD) or \"source follower\" amplifier, renowned for its impedance buffering capabilities. By analyzing how the output resistance $R_{out}$ changes with the transistor's transconductance $g_m$, you will gain a quantitative understanding of what makes the CD stage an effective voltage buffer for driving loads without significant signal attenuation [@problem_id:1294141].", "problem": "A design engineer is evaluating a new fabrication process for a Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET). This new process results in transistors that, when biased at the same DC operating point, exhibit a significantly higher transconductance ($g_m$) compared to the old process. The intrinsic output resistance ($r_o$) of the transistor remains unchanged. The engineer plans to use this new transistor in a standard common-drain amplifier configuration, also known as a source follower. In this circuit, the output is taken from the source terminal, and a source resistor, $R_S$, is connected between the source terminal and ground. The drain is connected to a positive DC voltage supply, and the input signal is applied to the gate.\n\nAssuming the transistor is operating in the saturation region, how does this significant increase in $g_m$ (while $r_o$ and $R_S$ are held constant) affect the amplifier's output resistance, $R_{out}$, as seen looking into the source terminal?\n\nA. $R_{out}$ increases significantly, as it is directly proportional to $g_m$.\n\nB. $R_{out}$ remains almost constant, as it is dominated by the parallel combination of $R_S$ and $r_o$.\n\nC. $R_{out}$ decreases, with its value approaching the resistance of the source resistor $R_S$.\n\nD. $R_{out}$ decreases, with its value approaching $1/g_m$.", "solution": "We model the MOSFET in saturation with its small-signal hybrid-pi elements: a dependent current source of value $g_m v_{gs}$ from drain to source and an output resistance $r_o$ between drain and source. The drain is connected to the supply, which is an AC ground for small signals, and the gate is driven by a source that we set to zero to find output resistance, so the gate is also at AC ground. The source node is connected to $R_S$ to ground and is the output node.\n\nTo find the small-signal output resistance $R_{out}$ seen looking into the source, we null all independent sources (gate and supply to AC ground) and apply a test current $i_x$ into the source node, measuring the resulting small-signal voltage $v_x$ at the source. Then $R_{out} = v_x/i_x$.\n\nWith the gate at AC ground, $v_{gs} = v_g - v_s = -v_x$. The dependent current source between drain (ground) and source has value $g_m v_{gs} = -g_m v_x$ directed from drain to source. A negative value in that direction is equivalent to a current of magnitude $g_m v_x$ flowing from the source node to ground. Therefore, the total small-signal current from the source node to ground is the sum of:\n- Through $R_S$: $v_x/R_S$,\n- Through $r_o$: $v_x/r_o$,\n- Through the dependent source: $g_m v_x$.\n\nBy KCL at the source node under the test excitation,\n$$\ni_x = \\frac{v_x}{R_S} + \\frac{v_x}{r_o} + g_m v_x = v_x\\left(g_m + \\frac{1}{R_S} + \\frac{1}{r_o}\\right).\n$$\nHence,\n$$\nR_{out} = \\frac{v_x}{i_x} = \\frac{1}{g_m + \\frac{1}{R_S} + \\frac{1}{r_o}} = \\frac{R_S \\parallel r_o}{1 + g_m\\left(R_S \\parallel r_o\\right)}.\n$$\nWith $R_S$ and $r_o$ held constant, increasing $g_m$ reduces $R_{out}$, and in the limit of large $g_m$,\n$$\nR_{out} \\to \\frac{1}{g_m},\n$$\nsince $g_m \\gg \\frac{1}{R_S} + \\frac{1}{r_o}$ makes the denominator dominated by $g_m$.\n\nTherefore, the correct qualitative behavior is that $R_{out}$ decreases and approaches $1/g_m$ as $g_m$ becomes large.", "answer": "$$\\boxed{D}$$", "id": "1294141"}, {"introduction": "An amplifier's voltage gain is fundamentally limited by its load impedance. This exercise explores a key technique in modern integrated circuit design: using an active load, here represented by an ideal current source, to maximize gain. By calculating and comparing the gain improvement for both Common-Source (CS) and Common-Gate (CG) amplifiers, you will uncover how the choice of topology interacts with advanced loading strategies to affect overall performance [@problem_id:1294129].", "problem": "Consider a common-source (CS) amplifier and a common-gate (CG) amplifier. Both circuits are constructed using identical N-channel Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) devices and are biased to have the same small-signal parameters: a transconductance $g_m$ and an output resistance $r_o$. For both amplifiers, the body effect is negligible. Each amplifier is driven by a signal voltage source $v_{sig}$ having a series source resistance $R_{sig}$.\n\nInitially, both amplifiers use a resistive load $R_D$ connected from the drain terminal to the positive power supply. Let the magnitude of the overall voltage gain ($|v_{out}/v_{sig}|$) in this configuration be $|A_{v,CS,R}|$ for the CS amplifier and $|A_{v,CG,R}|$ for the CG amplifier.\n\nSubsequently, the resistive load $R_D$ in both amplifiers is replaced by an ideal current-source load, which has an infinite incremental resistance. In this new configuration, let the magnitude of the voltage gain be $|A_{v,CS,I}|$ for the CS amplifier and $|A_{v,CG,I}|$ for the CG amplifier.\n\nThe \"gain improvement factor\" for each amplifier topology is defined as the ratio of its voltage gain magnitude with the ideal load to that with the resistive load. Let these factors be $F_{CS} = |A_{v,CS,I}| / |A_{v,CS,R}|$ and $F_{CG} = |A_{v,CG,I}| / |A_{v,CG,R}|$.\n\nCalculate the ratio $\\mathcal{R} = \\frac{F_{CS}}{F_{CG}}$. Express your answer as a single closed-form analytic expression in terms of $g_m$, $r_o$, $R_D$, and $R_{sig}$.", "solution": "For the common-source (CS) amplifier, the gate draws no current, so $v_{g}=v_{sig}$. With a resistive load $R_{D}$ to the AC ground, the small-signal output is\n$$v_{out}=-g_{m}v_{sig}\\left(R_{D}\\parallel r_{o}\\right),$$\nso the magnitude of the overall gain is\n$$|A_{v,CS,R}|=g_{m}\\left(R_{D}\\parallel r_{o}\\right).$$\nWith an ideal current-source load (infinite incremental resistance), the drain sees only $r_{o}$ to ground, hence\n$$|A_{v,CS,I}|=g_{m}r_{o}.$$\nTherefore the CS gain improvement factor is\n$$F_{CS}=\\frac{|A_{v,CS,I}|}{|A_{v,CS,R}|}=\\frac{g_{m}r_{o}}{g_{m}\\left(R_{D}\\parallel r_{o}\\right)}=\\frac{r_{o}}{\\frac{R_{D}r_{o}}{R_{D}+r_{o}}}=1+\\frac{r_{o}}{R_{D}}.$$\n\nFor the common-gate (CG) amplifier, the gate is at AC ground and the input is applied to the source through $R_{sig}$. Replace the Thevenin source by its Norton equivalent: a current source $I_{N}=v_{sig}/R_{sig}$ from ground to the source node in parallel with $R_{sig}$. Let $v_{s}$ be the source-node voltage and $v_{d}\\equiv v_{out}$ the drain voltage. Writing KCL at the source and drain nodes (with currents defined as leaving each node) gives\n$$\\frac{v_{s}}{R_{sig}}+g_{m}v_{s}+\\frac{v_{s}-v_{d}}{r_{o}}-\\frac{v_{sig}}{R_{sig}}=0,$$\n$$\\frac{v_{d}}{R_{D}}+\\frac{v_{d}-v_{s}}{r_{o}}-g_{m}v_{s}=0.$$\nSolving for $v_{d}/v_{sig}$ yields\n$$\\frac{v_{out}}{v_{sig}}=\\frac{\\left(\\frac{1}{R_{sig}}\\right)\\left(\\frac{1}{r_{o}}+g_{m}\\right)}{\\left[\\left(\\frac{1}{R_{sig}}+g_{m}+\\frac{1}{r_{o}}\\right)\\left(\\frac{1}{R_{D}}+\\frac{1}{r_{o}}\\right)-\\left(\\frac{1}{r_{o}}\\right)\\left(\\frac{1}{r_{o}}+g_{m}\\right)\\right]}=\\frac{\\frac{1}{R_{sig}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)}{\\frac{1}{R_{sig}}\\left(\\frac{1}{R_{D}}+\\frac{1}{r_{o}}\\right)+\\frac{1}{R_{D}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)}.$$\nThus the magnitude with resistive load is\n$$|A_{v,CG,R}|=\\frac{\\frac{1}{R_{sig}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)}{\\frac{1}{R_{sig}}\\left(\\frac{1}{R_{D}}+\\frac{1}{r_{o}}\\right)+\\frac{1}{R_{D}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)}.$$\nWith an ideal current-source load, $R_{D}\\to\\infty$ so\n$$|A_{v,CG,I}|=\\lim_{R_{D}\\to\\infty}\\frac{\\frac{1}{R_{sig}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)}{\\frac{1}{R_{sig}}\\left(\\frac{1}{R_{D}}+\\frac{1}{r_{o}}\\right)+\\frac{1}{R_{D}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)}=1+g_{m}r_{o}.$$\nTherefore the CG gain improvement factor is\n$$F_{CG}=\\frac{|A_{v,CG,I}|}{|A_{v,CG,R}|}=\\frac{(1+g_{m}r_{o})\\left[\\frac{1}{R_{sig}}\\left(\\frac{1}{R_{D}}+\\frac{1}{r_{o}}\\right)+\\frac{1}{R_{D}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)\\right]}{\\frac{1}{R_{sig}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)}.$$\nThe desired ratio is\n$$\\mathcal{R}=\\frac{F_{CS}}{F_{CG}}=\\frac{\\left(1+\\frac{r_{o}}{R_{D}}\\right)}{1+g_{m}r_{o}}\\cdot\\frac{\\frac{1}{R_{sig}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)}{\\frac{1}{R_{sig}}\\left(\\frac{1}{R_{D}}+\\frac{1}{r_{o}}\\right)+\\frac{1}{R_{D}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)}.$$\nNote that\n$$\\frac{\\left(\\frac{1}{r_{o}}+g_{m}\\right)}{(1+g_{m}r_{o})}=\\frac{1}{r_{o}},$$\nso\n$$\\mathcal{R}=\\left(1+\\frac{r_{o}}{R_{D}}\\right)\\cdot\\frac{1}{r_{o}R_{sig}}\\cdot\\frac{1}{\\frac{1}{R_{sig}}\\left(\\frac{1}{R_{D}}+\\frac{1}{r_{o}}\\right)+\\frac{1}{R_{D}}\\left(\\frac{1}{r_{o}}+g_{m}\\right)}.$$\nMultiplying numerator and denominator by $R_{sig}R_{D}r_{o}$ gives\n$$\\mathcal{R}=\\frac{R_{D}+r_{o}}{R_{D}+r_{o}+R_{sig}+g_{m}R_{sig}r_{o}}=\\frac{R_{D}+r_{o}}{R_{D}+r_{o}+R_{sig}\\left(1+g_{m}r_{o}\\right)}.$$\nThis is the required closed-form expression in terms of $g_{m}$, $r_{o}$, $R_{D}$, and $R_{sig}$.", "answer": "$$\\boxed{\\frac{R_{D}+r_{o}}{R_{D}+r_{o}+R_{sig}\\left(1+g_{m}r_{o}\\right)}}$$", "id": "1294129"}, {"introduction": "Real-world signals are not always small, so an amplifier's response to large, fast-changing inputs is a critical performance metric. This practice moves beyond small-signal analysis to the dynamic, large-signal behavior of amplifiers by examining their slew rate. By comparing the ability of Common-Source (CS), Common-Drain (CD), and Common-Gate (CG) configurations to drive a capacitive load, you will explore the fundamental asymmetries in their transient response [@problem_id:1294169].", "problem": "An analog integrated circuit designer is investigating the large-signal transient response of the three fundamental single-transistor amplifier configurations: Common-Source (CS), Common-Drain (CD), and Common-Gate (CG). Each amplifier is built using an identical n-channel Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) and drives an identical large capacitive load, $C_L$.\n\nFor the CS and CG configurations, the output is taken at the drain. An ideal DC current source of value $I_{bias}$ is connected between the drain and the positive supply, acting as an active load.\n\nFor the CD configuration, also known as a source follower, the output is taken at the source. An ideal DC current source of value $I_{bias}$ is connected between the source and ground, providing the bias.\n\nIn all cases, the transistor is biased to be in the saturation region in its quiescent state. When a large-signal step voltage is applied to the respective input of each amplifier, the output voltage begins to slew. The slew rate is limited by the maximum current available to charge or discharge the load capacitor $C_L$. Due to the nature of the circuits, the positive-going slew rate ($SR^+$) can be different from the magnitude of the negative-going slew rate ($SR^-$).\n\nAssume that in response to a large input signal step, the MOSFET can be driven to one of two extremes: either it is turned fully on, where it conducts a maximum possible drain current of $I_{D,max} = k \\cdot I_{bias}$ for some dimensionless factor $k > 1$, or it is driven into cutoff, where its drain current is zero.\n\nFor each of the three amplifier configurations (CS, CD, and CG), determine the ratio of the positive slew rate to the negative slew rate, $R = SR^+ / SR^-$. Present your three results, denoted $R_{CS}$, $R_{CD}$, and $R_{CG}$, as symbolic expressions in terms of the parameter $k$.", "solution": "We use the large-signal capacitor relation that the slew rate is set by the net current available to charge or discharge the load capacitor. For an output node with load capacitance $C_{L}$, the instantaneous slope is given by\n$$\n\\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}=\\frac{I_{\\text{net}}}{C_{L}},\n$$\nand the positive-going and negative-going slew rates are\n$$\nSR^{+}=\\max\\left(\\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}\\right),\\quad SR^{-}=\\max\\left(-\\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}\\right),\n$$\nboth taken as positive quantities. The MOSFET extremes under a large input step are $I_{D}=0$ (cutoff) or $I_{D}=I_{D,\\max}=k\\,I_{\\text{bias}}$ (fully on), with $k>1$.\n\nCommon-Source (CS), output at drain with a current source of $I_{\\text{bias}}$ from the positive supply to the drain node: write KCL at the drain node taking currents into the node as positive. The current source injects $I_{\\text{bias}}$ into the node, the MOSFET drains $I_{D}$ to ground, and the capacitor current is $C_{L}\\,\\mathrm{d}v_{o}/\\mathrm{d}t$ leaving the node. Thus\n$$\nI_{\\text{bias}}-I_{D}-C_{L}\\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}=0\\quad\\Rightarrow\\quad \\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}=\\frac{I_{\\text{bias}}-I_{D}}{C_{L}}.\n$$\nFor a positive-going output slew, the MOSFET is cut off, $I_{D}=0$, hence\n$$\nSR^{+}=\\frac{I_{\\text{bias}}}{C_{L}}.\n$$\nFor a negative-going output slew, the MOSFET is fully on, $I_{D}=k\\,I_{\\text{bias}}$, hence\n$$\n\\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}=\\frac{I_{\\text{bias}}-k\\,I_{\\text{bias}}}{C_{L}}=-\\frac{(k-1)I_{\\text{bias}}}{C_{L}}\\;\\Rightarrow\\; SR^{-}=\\frac{(k-1)I_{\\text{bias}}}{C_{L}}.\n$$\nTherefore,\n$$\nR_{CS}=\\frac{SR^{+}}{SR^{-}}=\\frac{1}{k-1}.\n$$\n\nCommon-Gate (CG), output at drain with the same active load: the drain node current balance and extremes are identical to the CS case for large-signal on/off limits, so the same expressions apply and\n$$\nR_{CG}=\\frac{1}{k-1}.\n$$\n\nCommon-Drain (CD, source follower), output at source with a current source of $I_{\\text{bias}}$ connected from the source to ground (sinking $I_{\\text{bias}}$). At the source node, take currents into the node positive. The MOSFET can source current into the node from the supply, call it $I_{\\text{MOS}}$, the current source removes $I_{\\text{bias}}$ from the node, and the capacitor current leaves the node as $C_{L}\\,\\mathrm{d}v_{o}/\\mathrm{d}t$. KCL gives\n$$\nI_{\\text{MOS}}-I_{\\text{bias}}-C_{L}\\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}=0\\quad\\Rightarrow\\quad \\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}=\\frac{I_{\\text{MOS}}-I_{\\text{bias}}}{C_{L}}.\n$$\nFor a positive-going slew, the MOSFET is fully on supplying $I_{\\text{MOS}}=k\\,I_{\\text{bias}}$, hence\n$$\nSR^{+}=\\frac{(k-1)I_{\\text{bias}}}{C_{L}}.\n$$\nFor a negative-going slew, the MOSFET is off so $I_{\\text{MOS}}=0$, and the current source alone discharges the capacitor:\n$$\n\\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}=-\\frac{I_{\\text{bias}}}{C_{L}}\\;\\Rightarrow\\; SR^{-}=\\frac{I_{\\text{bias}}}{C_{L}}.\n$$\nTherefore,\n$$\nR_{CD}=\\frac{SR^{+}}{SR^{-}}=k-1.\n$$\n\nCollecting the three ratios in the order $(R_{CS},R_{CD},R_{CG})$ yields the requested expressions in terms of $k$.", "answer": "$$\\boxed{\\begin{pmatrix}\\frac{1}{k-1} & k-1 & \\frac{1}{k-1}\\end{pmatrix}}$$", "id": "1294169"}]}