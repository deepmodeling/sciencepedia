{"hands_on_practices": [{"introduction": "The journey into analyzing any amplifier circuit begins not with the AC signals it's meant to amplify, but with its DC steady state. This DC operating point, or quiescent point (Q-point), dictates the crucial small-signal parameters that define the amplifier's performance. This first practice [@problem_id:1292768] is a foundational exercise in determining this Q-point for a common-gate amplifier and then calculating the transconductance ($g_m$) and output resistance ($r_o$), the essential building blocks for any subsequent AC analysis.", "problem": "An n-channel Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) is configured in a circuit designed to function as a common-gate amplifier. The gate of the transistor is connected directly to a fixed DC voltage source, $V_{BIAS}$. The drain is connected to a DC power supply, $V_{DD}$, through a drain resistor, $R_D$. The source terminal is connected to ground through a source resistor, $R_S$. For AC operation, the input signal is coupled to the source, and the output signal is taken from the drain.\n\nThe circuit and device parameters are as follows:\n- Power Supply Voltage, $V_{DD} = 10.0 \\text{ V}$\n- Gate Bias Voltage, $V_{BIAS} = 3.0 \\text{ V}$\n- Drain Resistor, $R_D = 4.0 \\text{ k}\\Omega$\n- Source Resistor, $R_S = 1.0 \\text{ k}\\Omega$\n- MOSFET process transconductance parameter, $\\mu_n C_{ox} \\frac{W}{L} = 2.0 \\text{ mA/V}^2$\n- Threshold Voltage, $V_t = 1.0 \\text{ V}$\n- Channel-length modulation parameter, $\\lambda = 0.02 \\text{ V}^{-1}$\n\nFor the DC bias analysis, you can neglect the effect of channel-length modulation. Assume the MOSFET is operating in the saturation region. Your task is to determine the small-signal transconductance, $g_m$, and the small-signal output resistance, $r_o$, of the transistor at its DC operating point.\n\nExpress your answer for $g_m$ in units of mA/V and for $r_o$ in units of k$\\Omega$. Present both values as a pair in that order, and round each to three significant figures.", "solution": "For long-channel saturation with channel-length modulation neglected for DC bias, the drain current is given by\n$$\nI_{D}=\\frac{1}{2}\\,k\\,(V_{GS}-V_{t})^{2},\\quad k=\\mu_{n}C_{ox}\\frac{W}{L}.\n$$\nWith the gate fixed at $V_{BIAS}$ and the source tied to ground through $R_{S}$, the source voltage is $V_{S}=I_{D}R_{S}$, so\n$$\nV_{GS}=V_{BIAS}-V_{S}=V_{BIAS}-I_{D}R_{S}.\n$$\nDefine the overdrive $V_{OV}=V_{GS}-V_{t}=V_{BIAS}-V_{t}-I_{D}R_{S}$. Using the given $k=2.0\\times 10^{-3}\\,\\text{A/V}^{2}$, $V_{BIAS}=3.0\\,\\text{V}$, $V_{t}=1.0\\,\\text{V}$, and $R_{S}=1.0\\times 10^{3}\\,\\Omega$, the DC equation becomes\n$$\nI_{D}=\\frac{1}{2}\\,k\\,(2-I_{D}R_{S})^{2}\n=\\left(\\frac{1}{2}\\cdot 2.0\\times 10^{-3}\\right)\\,(2-1000\\,I_{D})^{2}\n=10^{-3}\\,(2-1000\\,I_{D})^{2}.\n$$\nExpanding and collecting terms,\n$$\nI_{D}=10^{-3}\\left(4-4000 I_{D}+10^{6} I_{D}^{2}\\right)\n\\;\\Rightarrow\\;\n1000 I_{D}^{2}-5 I_{D}+0.004=0.\n$$\nSolving the quadratic,\n$$\nI_{D}=\\frac{5\\pm\\sqrt{25-16}}{2000}=\\frac{5\\pm 3}{2000}\\in\\{0.004,\\,0.001\\}\\,\\text{A}.\n$$\nThe solution $I_{D}=0.004\\,\\text{A}$ implies $V_{OV}=2-1000(0.004)=-2\\,\\text{V}$, which is nonphysical. Thus, the valid DC operating current is\n$$\nI_{D}=0.001\\,\\text{A}=1.0\\,\\text{mA}.\n$$\nThen $V_{S}=I_{D}R_{S}=1.0\\,\\text{V}$, $V_{GS}=3.0-1.0=2.0\\,\\text{V}$, and $V_{OV}=V_{GS}-V_{t}=1.0\\,\\text{V}$. The drain voltage is $V_{D}=V_{DD}-I_{D}R_{D}=10.0-0.001\\cdot 4000=6.0\\,\\text{V}$, so $V_{DS}=V_{D}-V_{S}=5.0\\,\\text{V}\\geq V_{OV}$, confirming saturation.\n\nIn saturation, the small-signal transconductance is\n$$\ng_{m}=\\frac{\\partial I_{D}}{\\partial V_{GS}}=k\\,V_{OV}=2.0\\times 10^{-3}\\cdot 1.0=2.0\\times 10^{-3}\\,\\text{A/V}=2.00\\,\\text{mA/V}.\n$$\nWith channel-length modulation parameter $\\lambda$, the small-signal output resistance at the operating point is\n$$\nr_{o}=\\frac{1}{\\lambda I_{D}}=\\frac{1}{0.02\\cdot 0.001}=5.0\\times 10^{4}\\,\\Omega=50.0\\,\\text{k}\\Omega.\n$$\nRounded to three significant figures and expressed in the requested units, the pair is $g_{m}=2.00\\,\\text{mA/V}$ and $r_{o}=50.0\\,\\text{k}\\Omega$.", "answer": "$$\\boxed{\\begin{pmatrix}2.00 & 50.0\\end{pmatrix}}$$", "id": "1292768"}, {"introduction": "Once the fundamental parameters of a transistor at its operating point are known, we can shift our focus from pure analysis to design. Amplifier design often involves selecting component values to meet specific performance goals, such as voltage gain. This exercise [@problem_id:1292817] challenges you to apply the core principle of the common-gate amplifier's voltage gain in a practical design scenario, reinforcing the direct relationship between the transconductance $g_m$ and the load resistor $R_D$.", "problem": "An electronics engineer is designing a front-end amplifier stage for a high-frequency sensor system. A common-gate (CG) amplifier is selected for this stage due to its characteristic low input impedance and good high-frequency performance. The amplifier is built using a single n-channel Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET).\n\nThe MOSFET is biased to operate in its saturation region, resulting in a small-signal transconductance of $g_m = 2.75 \\text{ mA/V}$. The output of the amplifier is taken at the drain, which is connected to the power supply through a drain resistor, $R_D$. For the purpose of this initial design analysis, you can make the standard simplifying assumptions that the transistor's intrinsic output resistance, $r_o$, is infinitely large, and that any subsequent stage connected to the amplifier's output has an infinite input impedance.\n\nThe design requires this CG amplifier stage to provide a non-inverting small-signal voltage gain ($A_v = v_{\\text{out}}/v_{\\text{in}}$) of exactly $12.0$.\n\nCalculate the value of the drain resistor, $R_D$, needed to achieve this specified voltage gain. Express your answer in kilo-ohms ($\\text{k}\\Omega$), rounded to three significant figures.", "solution": "Given a common-gate MOSFET with gate at AC ground, small-signal drain current is modeled by the controlled source $i_{d} = g_{m} v_{gs}$ flowing from drain to source. With input applied at the source, $v_{gs} = v_{g} - v_{s} = -v_{\\text{in}}$ since $v_{g}$ is AC ground.\n\nWith $r_{o} \\to \\infty$ and an infinite load impedance, the only small-signal path from the drain node is through $R_{D}$ to the AC ground (the supply). Writing KCL at the drain node, taking currents leaving the node as positive,\n$$\n\\frac{v_{\\text{out}}}{R_{D}} + g_{m} v_{gs} = 0.\n$$\nSubstitute $v_{gs} = -v_{\\text{in}}$:\n$$\n\\frac{v_{\\text{out}}}{R_{D}} - g_{m} v_{\\text{in}} = 0 \\quad \\Rightarrow \\quad v_{\\text{out}} = g_{m} R_{D} \\, v_{\\text{in}}.\n$$\nTherefore, the small-signal voltage gain is\n$$\nA_{v} \\equiv \\frac{v_{\\text{out}}}{v_{\\text{in}}} = g_{m} R_{D}.\n$$\nTo achieve the required non-inverting gain $A_{v} = 12.0$, solve for $R_{D}$:\n$$\nR_{D} = \\frac{A_{v}}{g_{m}}.\n$$\nInsert the given transconductance $g_{m} = 2.75 \\times 10^{-3} \\text{ A/V}$:\n$$\nR_{D} = \\frac{12.0}{2.75 \\times 10^{-3}} \\text{ }\\Omega = 4.363636\\ldots \\times 10^{3} \\text{ }\\Omega.\n$$\nExpressed in kilo-ohms and rounded to three significant figures,\n$$\nR_{D} = 4.36 \\text{ k}\\Omega.\n$$", "answer": "$$\\boxed{4.36}$$", "id": "1292817"}, {"introduction": "While resistive loads are simple to analyze, modern integrated circuits frequently use \"active loads\"—transistors configured to act as current sources—to achieve significantly higher voltage gains. This practice [@problem_id:1292838] introduces a common-gate amplifier with a PMOS active load, a configuration widely used in CMOS technology. By working through this problem, you will learn to analyze a more realistic circuit that accounts for the finite output resistances of both transistors, providing a deeper understanding of what truly limits gain in practical IC amplifiers.", "problem": "In the design of a front-end amplifier for a high-frequency communication system, a cascode-like structure is often used for its excellent bandwidth properties. A key component of this structure is the common-gate (CG) amplifier. Consider such a stage built using Complementary Metal-Oxide-Semiconductor (CMOS) technology.\n\nThe amplifier consists of an N-channel Metal-Oxide-Semiconductor (NMOS) transistor, M1, configured in a common-gate topology. Its gate is connected to a stable DC bias voltage, providing an AC ground. The input signal, $v_{in}$, is applied to the source of M1. The output, $v_{out}$, is taken at the drain of M1.\n\nInstead of a simple resistor, an active load is used to achieve high gain. This load is formed by a P-channel Metal-Oxide-Semiconductor (PMOS) transistor, M2, whose source is connected to the positive supply voltage (an AC ground) and whose gate is tied to another stable DC bias voltage (also an AC ground). The drain of M2 is connected to the drain of M1, forming the common output node.\n\nFor small-signal analysis, transistor M1 is characterized by its transconductance $g_{m1}$ and its finite output resistance $r_{o1}$. Similarly, the active load transistor M2 is characterized by its transconductance $g_{m2}$ and output resistance $r_{o2}$. You may assume that the body effect for both transistors is negligible.\n\nBased on this configuration, determine the symbolic expression for the small-signal voltage gain, $A_v = v_{out}/v_{in}$.", "solution": "The gates of both transistors are at AC ground. The PMOS load M2 has its source at the positive supply, which is also an AC ground. Therefore, for M2, the small-signal gate-to-source voltage is $v_{sg2}=0$, so its transconductance contributes no small-signal current. Hence, M2 reduces to its output resistance $r_{o2}$ connected from the output node to AC ground.\n\nFor M1 (NMOS in common-gate), the gate is at AC ground, the source is at the input $v_{in}$, and the drain is the output $v_{out}$. Its small-signal model consists of:\n- A dependent current source from drain to source of value $g_{m1} v_{gs1}$, where $v_{gs1}=v_{g1}-v_{s1}=0 - v_{in}=-v_{in}$, so the current from drain to source is $g_{m1} v_{gs1}=-g_{m1} v_{in}$.\n- An output resistance $r_{o1}$ between drain and source.\n\nApplying KCL at the output node (taking currents leaving the node as positive):\n- Through $r_{o2}$ to ground: $v_{out}/r_{o2}$.\n- Through $r_{o1}$ to the source node at $v_{in}$: $(v_{out}-v_{in})/r_{o1}$.\n- Through the dependent source from drain to source: $g_{m1} v_{gs1}=-g_{m1} v_{in}$.\n\nKCL gives\n$$\\frac{v_{out}}{r_{o2}}+\\frac{v_{out}-v_{in}}{r_{o1}}-g_{m1} v_{in}=0.$$\nCollecting terms,\n$$v_{out}\\left(\\frac{1}{r_{o2}}+\\frac{1}{r_{o1}}\\right)=v_{in}\\left(\\frac{1}{r_{o1}}+g_{m1}\\right).$$\nTherefore, the small-signal voltage gain is\n$$A_{v}=\\frac{v_{out}}{v_{in}}=\\frac{\\frac{1}{r_{o1}}+g_{m1}}{\\frac{1}{r_{o2}}+\\frac{1}{r_{o1}}}=\\frac{\\left(1+g_{m1} r_{o1}\\right) r_{o2}}{r_{o1}+r_{o2}}.$$\nThe sign is positive, consistent with a common-gate stage with a current-source-like PMOS load.", "answer": "$$\\boxed{\\frac{\\left(1+g_{m1} r_{o1}\\right) r_{o2}}{r_{o1}+r_{o2}}}$$", "id": "1292838"}]}