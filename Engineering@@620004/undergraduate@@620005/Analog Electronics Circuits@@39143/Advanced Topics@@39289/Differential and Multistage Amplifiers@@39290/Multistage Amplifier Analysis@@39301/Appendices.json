{"hands_on_practices": [{"introduction": "Before we can understand how a multistage amplifier processes a signal, we must first ensure it is properly powered and configured. This initial setup is called DC biasing, and it establishes the quiescent operating point for each transistor. This practice [@problem_id:1319754] guides you through the fundamental DC analysis of a two-stage amplifier, demonstrating how the output of the first stage sets the input condition for the second, a core concept in direct-coupled designs.", "problem": "A two-stage amplifier is constructed using two identical N-channel Metal-Oxide-Semiconductor (NMOS) transistors, M1 and M2. The amplifier is analyzed for its DC quiescent operating point.\n\nThe first stage is a common-source amplifier using transistor M1. The gate of M1 is connected to a DC bias voltage source providing $V_G = 1.30$ V. The source of M1 is connected to ground. The drain of M1 is connected through a resistor $R_{D1} = 5.00$ k$\\Omega$ to a positive voltage supply $V_{DD} = 5.00$ V.\n\nThe second stage is a source-follower amplifier using transistor M2. Its gate is directly coupled to the drain of M1. The drain of M2 is connected directly to the supply $V_{DD}$. The source of M2 is connected to ground through a resistor $R_{S2} = 2.00$ k$\\Omega$.\n\nBoth transistors are identical and are characterized by a threshold voltage $V_{tn} = 0.800$ V and a transconductance parameter $k_n = 2.00 \\text{ mA/V}^2$. For this DC analysis, you should assume that both transistors are operating in the saturation region and that the channel-length modulation effect is negligible (i.e., $\\lambda = 0$).\n\nDetermine the quiescent DC operating points for both transistors. Specifically, calculate the drain current ($I_{D1}$) and drain-to-source voltage ($V_{DS1}$) for transistor M1, and the drain current ($I_{D2}$) and drain-to-source voltage ($V_{DS2}$) for transistor M2.\n\nProvide your answers for the currents $I_{D1}$ and $I_{D2}$ in milliamperes (mA), and for the voltages $V_{DS1}$ and $V_{DS2}$ in volts (V). All four numerical values must be rounded to three significant figures.", "solution": "For long-channel NMOS transistors in saturation with negligible channel-length modulation, the drain current is given by\n$$\nI_{D}=\\frac{1}{2}k_{n}\\left(V_{GS}-V_{tn}\\right)^{2},\n$$\nprovided that $V_{DS}\\geq V_{GS}-V_{tn}$.\n\nTransistor M1 (common-source): The source is grounded, so $V_{GS1}=V_{G}-0=1.30$. The overdrive is $V_{OV1}=V_{GS1}-V_{tn}=1.30-0.800=0.500$. Hence\n$$\nI_{D1}=\\frac{1}{2}k_{n}V_{OV1}^{2}=\\frac{1}{2}\\left(2.00\\,\\text{mA/V}^{2}\\right)\\left(0.500\\right)^{2}=0.250\\,\\text{mA}.\n$$\nThe drain voltage is set by the resistor $R_{D1}$:\n$$\nV_{D1}=V_{DD}-I_{D1}R_{D1}=5.00-\\left(0.250\\right)\\left(5.00\\right)=3.75,\n$$\nwhere currents are in mA, resistances in $k\\Omega$, and voltages in V. Therefore\n$$\nV_{DS1}=V_{D1}-V_{S1}=3.75-0=3.75.\n$$\nThe saturation condition $V_{DS1}\\geq V_{OV1}$ is satisfied since $3.75\\geq 0.500$.\n\nTransistor M2 (source follower): Its gate is tied to $V_{D1}$, so $V_{G2}=3.75$. Let $V_{S2}$ denote the source voltage and $I_{D2}$ the drain current. By Ohmâ€™s law through $R_{S2}$,\n$$\nI_{D2}=\\frac{V_{S2}}{R_{S2}}.\n$$\nAssuming saturation, the current also satisfies\n$$\nI_{D2}=\\frac{1}{2}k_{n}\\left(V_{G2}-V_{S2}-V_{tn}\\right)^{2}.\n$$\nEliminate $V_{S2}$ using $V_{S2}=R_{S2}I_{D2}$ to obtain\n$$\nI_{D2}=\\frac{1}{2}k_{n}\\left(V_{G2}-R_{S2}I_{D2}-V_{tn}\\right)^{2}.\n$$\nSubstitute $k_{n}=2.00\\,\\text{mA/V}^{2}$, $R_{S2}=2.00\\,k\\Omega$, $V_{G2}=3.75$, and $V_{tn}=0.800$:\n$$\nI_{D2}=1.00\\left(3.75-2.00I_{D2}-0.800\\right)^{2}=\\left(2.95-2.00I_{D2}\\right)^{2}.\n$$\nExpand and collect terms:\n$$\nI_{D2}=8.7025-11.8I_{D2}+4I_{D2}^{2}\\;\\Rightarrow\\;4I_{D2}^{2}-12.8I_{D2}+8.7025=0.\n$$\nSolving the quadratic gives\n$$\nI_{D2}=\\frac{12.8\\pm\\sqrt{12.8^{2}-4\\cdot 4\\cdot 8.7025}}{8}=\\frac{12.8\\pm\\sqrt{24.6}}{8}.\n$$\nThe two roots are approximately $2.220$ and $0.980$. The larger root would imply $V_{S2}=R_{S2}I_{D2}\\approx 4.44$, which yields $V_{GS2}=3.75-4.44< V_{tn}$, contradicting the assumed conduction; thus it is nonphysical. Therefore,\n$$\nI_{D2}\\approx 0.980\\,\\text{mA},\\quad V_{S2}=R_{S2}I_{D2}\\approx 2.00\\times 0.980=1.96.\n$$\nThen\n$$\nV_{DS2}=V_{D2}-V_{S2}=V_{DD}-V_{S2}=5.00-1.96=3.04,\n$$\nand the saturation condition $V_{DS2}\\geq V_{GS2}-V_{tn}$ is satisfied since $V_{GS2}=3.75-1.96=1.79$ gives $V_{GS2}-V_{tn}=0.99<3.04$.\n\nRounded to three significant figures:\n- $I_{D1}=0.250$ mA, $V_{DS1}=3.75$ V,\n- $I_{D2}=0.980$ mA, $V_{DS2}=3.04$ V.", "answer": "$$\\boxed{\\begin{pmatrix}0.250 & 3.75 & 0.980 & 3.04\\end{pmatrix}}$$", "id": "1319754"}, {"introduction": "The primary reason for cascading amplifiers is to achieve a desired overall gain, but simply multiplying individual stage gains is often incorrect. The connection between stages introduces a \"loading effect,\" where the input impedance of a subsequent stage affects the performance of the preceding one. This exercise [@problem_id:1319765] provides a practical, system-level model to calculate the true overall voltage gain, helping you master the crucial skill of analyzing how stages interact and impact total system performance.", "problem": "An electronics engineer is designing a signal conditioning circuit for a sensor. The design consists of two voltage amplifier stages cascaded together to connect the sensor to a data acquisition system.\n\nThe sensor acts as a signal source with an open-circuit voltage $v_s$ and an internal resistance of $R_s = 50.0 \\text{ k}\\Omega$.\n\nThe first amplifier stage (Stage 1) is characterized by its no-load voltage gain $A_{v1,NL} = 0.980$, its input resistance $R_{in1} = 2.00 \\text{ M}\\Omega$, and its output resistance $R_{out1} = 100 \\text{ }\\Omega$.\n\nThe second amplifier stage (Stage 2) is characterized by its no-load voltage gain $A_{v2,NL} = -150$, its input resistance $R_{in2} = 5.00 \\text{ k}\\Omega$, and its output resistance $R_{out2} = 2.50 \\text{ k}\\Omega$.\n\nThe source is connected to the input of Stage 1. The output of Stage 1 is connected to the input of Stage 2. The output of Stage 2 is connected to the data acquisition system, which is modeled as a simple load resistor $R_L = 10.0 \\text{ k}\\Omega$.\n\nCalculate the overall voltage gain $A_v = v_L / v_s$ of the entire cascaded system, where $v_L$ is the voltage across the load resistor $R_L$. Express your answer as a dimensionless ratio, rounded to three significant figures.", "solution": "Model each stage as a unilateral voltage amplifier with input resistance $R_{in}$, no-load voltage gain $A_{v,NL}$, and output resistance $R_{out}$. Loading is handled by simple voltage division at each interface.\n\nThe source $v_{s}$ with series resistance $R_{s}$ drives Stage 1 input $R_{in1}$, so the Stage 1 input voltage is\n$$\nv_{1,in} = v_{s}\\frac{R_{in1}}{R_{s}+R_{in1}}.\n$$\nStage 1 produces an open-circuit output $A_{v1,NL}v_{1,in}$, which is loaded by the input resistance of Stage 2, $R_{in2}$, through the output resistance $R_{out1}$ of Stage 1. Thus the Stage 1 output (and Stage 2 input) is\n$$\nv_{1,out} = A_{v1,NL}v_{1,in}\\frac{R_{in2}}{R_{out1}+R_{in2}}.\n$$\nStage 2 produces an open-circuit output $A_{v2,NL}v_{1,out}$, which is loaded by $R_{L}$ through $R_{out2}$, yielding the load voltage\n$$\nv_{L} = A_{v2,NL}v_{1,out}\\frac{R_{L}}{R_{out2}+R_{L}}.\n$$\nTherefore, the overall voltage gain is\n$$\nA_{v} \\equiv \\frac{v_{L}}{v_{s}} = \\frac{R_{in1}}{R_{s}+R_{in1}}\\cdot A_{v1,NL}\\cdot \\frac{R_{in2}}{R_{out1}+R_{in2}}\\cdot A_{v2,NL}\\cdot \\frac{R_{L}}{R_{out2}+R_{L}}.\n$$\nSubstitute the given values, converting resistances to ohms to keep consistent units:\n$$\n\\frac{R_{in1}}{R_{s}+R_{in1}}=\\frac{2.00\\times 10^{6}}{50.0\\times 10^{3}+2.00\\times 10^{6}}=\\frac{40}{41},\\quad\nA_{v1,NL}=0.980=\\frac{49}{50},\n$$\n$$\n\\frac{R_{in2}}{R_{out1}+R_{in2}}=\\frac{5.00\\times 10^{3}}{100+5.00\\times 10^{3}}=\\frac{50}{51},\\quad\nA_{v2,NL}=-150,\n$$\n$$\n\\frac{R_{L}}{R_{out2}+R_{L}}=\\frac{10.0\\times 10^{3}}{2.50\\times 10^{3}+10.0\\times 10^{3}}=\\frac{4}{5}.\n$$\nThus\n$$\nA_{v}=\\left(\\frac{40}{41}\\right)\\left(\\frac{49}{50}\\right)\\left(\\frac{50}{51}\\right)(-150)\\left(\\frac{4}{5}\\right)\n= \\left(\\frac{40}{41}\\right)\\left(\\frac{49}{51}\\right)(-120)\n= -\\frac{235200}{2091}.\n$$\nNumerically, $A_{v}\\approx -112.482\\ldots$, which rounded to three significant figures is $-112$.", "answer": "$$\\boxed{-112}$$", "id": "1319765"}, {"introduction": "While our initial models often assume perfect linearity, real-world amplifiers introduce a small amount of distortion, a critical concern in high-fidelity audio and communication systems. This advanced practice [@problem_id:1319779] moves beyond linear analysis to explore how non-linear behaviors from individual stages combine to create intermodulation distortion in a cascaded amplifier. By modeling this effect with a weakly non-linear relationship, you will gain insight into a key performance metric, the third-order intercept point ($A_{IIP3}$), and understand how individual stage characteristics contribute to the overall linearity of the system.", "problem": "An engineer is designing a two-stage Bipolar-Complementary Metal-Oxide-Semiconductor (BiCMOS) amplifier for a wireless communication system. The first stage is a Metal-Oxide-Semiconductor (MOS) common-source amplifier, and the second stage is a Bipolar Junction Transistor (BJT) common-emitter amplifier. To analyze the amplifier's linearity, each stage is modeled by a weakly non-linear transconductance relationship between its input voltage ($v_{in}$) and output current ($i_{out}$). Due to the use of differential circuit topologies, second-order distortion terms are assumed to be negligible.\n\nThe transconductance of the MOS first stage is given by:\n$$i_{out,1} = g_{m1}v_{in,1} + g_{m3}v_{in,1}^3$$\nand the transconductance of the BJT second stage is:\n$$i_{out,2} = g_{M1}v_{in,2} + g_{M3}v_{in,2}^3$$\n\nThe output of the first stage is coupled to the input of the second stage. The first stage drives a load resistance $R_{L1}$, and the second stage drives a load resistance $R_{L2}$. The circuit parameters are as follows:\n- First stage transconductance coefficients: $g_{m1} = 5.00 \\times 10^{-3} \\text{ A/V}$, $g_{m3} = -0.800 \\text{ A/V}^3$.\n- Second stage transconductance coefficients: $g_{M1} = 50.0 \\times 10^{-3} \\text{ A/V}$, $g_{M3} = -200 \\text{ A/V}^3$.\n- Load resistances: $R_{L1} = 400 \\text{ }\\Omega$, $R_{L2} = 500 \\text{ }\\Omega$.\n\nThe linearity of an amplifier is often characterized by its Input-Referred Third-Order Intercept Amplitude ($A_{IIP3}$). This is defined as the input tone amplitude of a two-tone test signal for which the extrapolated amplitude of the fundamental output signal is equal to the extrapolated amplitude of the third-order intermodulation (IMD3) product.\n\nAssuming the non-linearities from both stages add in phase, calculate the overall $A_{IIP3}$ for the two-stage amplifier. Express your answer in Volts, rounded to three significant figures.", "solution": "Let the input to the first stage be $x \\equiv v_{in,1}$. The first-stage output voltage across $R_{L1}$, which is the input to the second stage, is\n$$\nv_{in,2}=v_{out,1}=R_{L1}\\left(g_{m1}x+g_{m3}x^{3}\\right)=b_{1}x+b_{3}x^{3},\n$$\nwhere $b_{1}=R_{L1}g_{m1}$ and $b_{3}=R_{L1}g_{m3}$.\n\nThe second-stage output current is\n$$\ni_{out,2}=g_{M1}v_{in,2}+g_{M3}v_{in,2}^{3}=g_{M1}(b_{1}x+b_{3}x^{3})+g_{M3}(b_{1}x+b_{3}x^{3})^{3}.\n$$\nKeeping terms up to third order,\n$$\ni_{out,2}\\approx g_{M1}b_{1}x+\\left(g_{M1}b_{3}+g_{M3}b_{1}^{3}\\right)x^{3}.\n$$\nThe final output voltage across $R_{L2}$ is\n$$\ny\\equiv v_{out,2}=R_{L2}i_{out,2}\\approx a_{1}x+a_{3}x^{3},\n$$\nwith effective coefficients\n$$\na_{1}=R_{L2}g_{M1}b_{1}=R_{L2}g_{M1}R_{L1}g_{m1},\n$$\n$$\na_{3}=R_{L2}\\left(g_{M1}b_{3}+g_{M3}b_{1}^{3}\\right)=R_{L2}\\left(g_{M1}R_{L1}g_{m3}+g_{M3}(R_{L1}g_{m1})^{3}\\right).\n$$\n\nFor a memoryless cubic nonlinearity $y=a_{1}x+a_{3}x^{3}$ excited by a two-tone input $x(t)=A\\cos\\omega_{1}t+A\\cos\\omega_{2}t$, the amplitude of each third-order intermodulation product is $(3/4)|a_{3}|A^{3}$, while the extrapolated fundamental output amplitude is $|a_{1}|A$. The input-referred third-order intercept amplitude is therefore\n$$\nA_{IIP3}=\\sqrt{\\frac{4}{3}\\left|\\frac{a_{1}}{a_{3}}\\right|}.\n$$\n\nSubstitute the given values:\n- $g_{m1}=5.00\\times 10^{-3}\\,\\text{A/V}$, $g_{m3}=-0.800\\,\\text{A/V}^{3}$,\n- $g_{M1}=50.0\\times 10^{-3}\\,\\text{A/V}$, $g_{M3}=-200\\,\\text{A/V}^{3}$,\n- $R_{L1}=400\\,\\Omega$, $R_{L2}=500\\,\\Omega$.\n\nCompute\n$$\nb_{1}=R_{L1}g_{m1}=400\\cdot 5.00\\times 10^{-3}=2,\n\\quad\nb_{3}=R_{L1}g_{m3}=400\\cdot(-0.800)=-320,\n$$\n$$\na_{1}=R_{L2}g_{M1}b_{1}=500\\cdot 50.0\\times 10^{-3}\\cdot 2=50,\n$$\n$$\na_{3}=R_{L2}\\left(g_{M1}b_{3}+g_{M3}b_{1}^{3}\\right)\n=500\\left(0.050\\cdot(-320)+(-200)\\cdot 8\\right)=500(-16-1600)=-808000.\n$$\nThus\n$$\nA_{IIP3}=\\sqrt{\\frac{4}{3}\\cdot\\frac{50}{808000}}=\\sqrt{\\frac{1}{12120}}\\approx 9.082\\times 10^{-3}\\,\\text{V}.\n$$\nRounded to three significant figures, this is $0.00908$ in Volts.", "answer": "$$\\boxed{0.00908}$$", "id": "1319779"}]}