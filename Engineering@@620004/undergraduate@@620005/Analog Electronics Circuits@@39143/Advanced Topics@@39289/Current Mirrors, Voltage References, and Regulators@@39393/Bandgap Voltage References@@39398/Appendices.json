{"hands_on_practices": [{"introduction": "The ultimate measure of a voltage reference's quality is its stability against temperature changes, a characteristic quantified by the Temperature Coefficient (TC). This first practice exercise puts you in the role of a test engineer, asking you to perform a foundational calculation to determine the average TC from hypothetical measurement data. Mastering this calculation is a fundamental skill for characterizing the performance of any precision analog circuit [@problem_id:1282313].", "problem": "A crucial characteristic of a voltage reference circuit is its stability with respect to temperature fluctuations. This is quantified by the average Temperature Coefficient (TC), which measures the relative change in output voltage per degree of temperature change.\n\nAn engineer performs a thermal test on a new bandgap voltage reference design. The device is subjected to a temperature sweep. At an initial temperature of $T_1 = 0.0^{\\circ}\\text{C}$, the output reference voltage is measured to be $V_1 = 1.250 \\text{ V}$. The temperature is then stabilized at a final value of $T_2 = 100.0^{\\circ}\\text{C}$, where the output voltage is measured to be $V_2 = 1.251 \\text{ V}$. For the purpose of this analysis, the reference voltage for normalization is considered to be the voltage at the initial temperature, $V_1$.\n\nCalculate the average temperature coefficient for this device over the given temperature range. Express the result in units of parts per million per degree Celsius (ppm/$^{\\circ}$C). Round your final answer to three significant figures.", "solution": "The average temperature coefficient over a finite temperature interval is defined as the fractional change in output per unit temperature change, normalized to a chosen reference voltage. Using the specified normalization to the initial voltage $V_{1}$, the average temperature coefficient is\n$$\n\\text{TC}_{\\text{avg}}=\\frac{V_{2}-V_{1}}{V_{1}\\left(T_{2}-T_{1}\\right)}.\n$$\nSubstituting the given values $V_{1}=1.250\\ \\text{V}$, $V_{2}=1.251\\ \\text{V}$, $T_{1}=0.0^{\\circ}\\text{C}$, and $T_{2}=100.0^{\\circ}\\text{C}$, we compute the increments\n$$\n\\Delta V=V_{2}-V_{1}=1.251-1.250=0.001\\ \\text{V}, \\qquad \\Delta T=T_{2}-T_{1}=100.0-0.0=100.0\\ {}^{\\circ}\\text{C}.\n$$\nTherefore,\n$$\n\\text{TC}_{\\text{avg}}=\\frac{0.001}{1.250\\times 100.0} /^{\\circ}\\text{C}\n=\\frac{0.001}{125} /^{\\circ}\\text{C}\n=8.0\\times 10^{-6} /^{\\circ}\\text{C}.\n$$\nTo express this in parts per million per degree Celsius, note that $1\\ \\text{ppm} = 10^{-6}$, hence $\\text{TC}_{\\text{avg}}=8.0 \\text{ ppm}/^{\\circ}\\text{C}$.\n\nRounding to three significant figures gives $8.00 \\text{ ppm}/^{\\circ}\\text{C}$.", "answer": "$$\\boxed{8.00}$$", "id": "1282313"}, {"introduction": "At the heart of a bandgap reference lies a clever principle: generating a voltage that increases linearly with temperature to cancel out a voltage that decreases. This Proportional To Absolute Temperature (PTAT) voltage is ingeniously created from the difference in base-emitter voltages, $\\Delta V_{BE}$, of two mismatched bipolar junction transistors. This exercise will guide you through the fundamental physics and calculation of this $\\Delta V_{BE}$ voltage, which serves as the essential building block for achieving temperature stability in a bandgap circuit [@problem_id:1282339].", "problem": "In the design of a temperature-stable bandgap voltage reference, a key component is a pair of Bipolar Junction Transistors (BJTs), Q1 and Q2. The two transistors are fabricated on the same silicon die and are assumed to be identical in all aspects except for their emitter areas. The emitter junction area of transistor Q2 is 8 times larger than that of transistor Q1. In the circuit, both transistors are operated at the same collector current. The relationship between collector current ($I_C$) and base-emitter voltage ($V_{BE}$) is governed by the simplified Ebers-Moll equation $I_C = I_S \\exp(V_{BE}/V_T)$, where $I_S$ is the saturation current and $V_T$ is the thermal voltage. The saturation current $I_S$ is directly proportional to the emitter junction area. The system operates at a temperature of $T = 300 \\text{ K}$. Use the Boltzmann constant, $k_B = 1.3806 \\times 10^{-23} \\text{ J/K}$, and the elementary charge, $q = 1.6022 \\times 10^{-19} \\text{ C}$.\n\nCalculate the difference in their base-emitter voltages, defined as $\\Delta V_{BE} = V_{BE1} - V_{BE2}$. Express your answer in millivolts (mV) and round it to three significant figures.", "solution": "Given the simplified Ebers-Moll relation for a BJT operated in forward active region,\n$$\nI_{C} = I_{S}\\,\\exp\\!\\left(\\frac{V_{BE}}{V_{T}}\\right),\n$$\nwith thermal voltage defined as\n$$\nV_{T} = \\frac{k_{B}T}{q},\n$$\nand knowing that the saturation current is proportional to emitter area, we have for the two transistors operated at the same collector current,\n$$\nI_{C} = I_{S1}\\,\\exp\\!\\left(\\frac{V_{BE1}}{V_{T}}\\right) = I_{S2}\\,\\exp\\!\\left(\\frac{V_{BE2}}{V_{T}}\\right),\n$$\nwith $I_{S2} = 8 I_{S1}$ because the emitter area of Q2 is eight times that of Q1.\n\nDividing the two expressions gives\n$$\n\\frac{I_{S1}\\,\\exp\\!\\left(\\frac{V_{BE1}}{V_{T}}\\right)}{I_{S1}\\,\\exp\\!\\left(\\frac{V_{BE2}}{V_{T}}\\right)} = \\frac{I_{S2}}{I_{S1}} \\implies \\exp\\!\\left(\\frac{V_{BE1}-V_{BE2}}{V_{T}}\\right) = 8.\n$$\nTaking the natural logarithm,\n$$\n\\Delta V_{BE} \\equiv V_{BE1} - V_{BE2} = V_{T}\\,\\ln(8).\n$$\n\nCompute $V_{T}$ at $T=300\\,\\text{K}$ using $k_{B} = 1.3806 \\times 10^{-23}\\,\\text{J/K}$ and $q = 1.6022 \\times 10^{-19}\\,\\text{C}$:\n$$\nV_{T} = \\frac{k_{B}T}{q} = \\frac{(1.3806 \\times 10^{-23})(300)}{1.6022 \\times 10^{-19}}\\,\\text{V}\n= \\frac{4.1418 \\times 10^{-21}}{1.6022 \\times 10^{-19}}\\,\\text{V}\n= \\left(\\frac{4.1418}{1.6022}\\right)\\times 10^{-2}\\,\\text{V}\n\\approx 2.585 \\times 10^{-2}\\,\\text{V}.\n$$\nThen\n$$\n\\Delta V_{BE} = V_{T}\\,\\ln(8) \\approx (0.02585\\,\\text{V})\\times(2.07944) = 0.053753\\,\\text{V} = 53.753\\,\\text{mV}.\n$$\nRounding to three significant figures gives\n$$\n\\Delta V_{BE} \\approx 53.8\\,\\text{mV}.\n$$", "answer": "$$\\boxed{53.8}$$", "id": "1282339"}, {"introduction": "The elegance of a bandgap reference comes from perfectly summing a voltage with a negative temperature coefficient (CTAT) and a scaled voltage with a positive one (PTAT). In an ideal world, their effects cancel out, yielding a stable reference. This final practice explores what happens when this balance is imperfect due to real-world fabrication errors, a common engineering challenge. By analyzing the impact of a mismatched component, you will develop a deeper understanding of how design tolerances affect the circuit's final performance [@problem_id:1282324].", "problem": "An analog circuit designer is creating a bandgap voltage reference. The output voltage, $V_{REF}$, is generated by summing a voltage with a negative temperature coefficient and a voltage with a positive temperature coefficient. This can be modeled by the equation:\n$$V_{REF} = V_{BE} + M \\cdot \\ln(N) \\cdot V_T$$\nHere, the parameters in this model are defined as follows:\n- $V_T = \\frac{k_B T}{q}$ is the thermal voltage, where $T$ is the absolute temperature.\n- $k_B = 1.3806 \\times 10^{-23} \\text{ J/K}$ is the Boltzmann constant.\n- $q = 1.6022 \\times 10^{-19} \\text{ C}$ is the elementary charge.\n- $N$ is a dimensionless constant representing the ratio of emitter areas of two transistors in the circuit, given as $N=10$.\n- $M$ is a dimensionless resistor ratio, $M = R_2/R_1$, which is used to scale the PTAT voltage.\n- The temperature coefficient of the base-emitter voltage at the operating point is constant and given by $\\frac{dV_{BE}}{dT} = -2.10 \\text{ mV/K}$.\n\nThe circuit is designed to have a zero temperature coefficient ($\\frac{dV_{REF}}{dT} = 0$) at its nominal operating temperature by carefully choosing the resistor ratio $M$. However, due to a fabrication error, the actual resistor ratio $M$ is 15% larger than the ideal value required to achieve this zero temperature coefficient.\n\nCalculate the resulting temperature coefficient of the output voltage, $\\frac{dV_{REF}}{dT}$. Express your final answer in microvolts per Kelvin (ÂµV/K), rounded to three significant figures.", "solution": "We are given the bandgap reference model\n$$V_{REF} = V_{BE} + M \\cdot \\ln(N) \\cdot V_{T},$$\nwith $V_{T} = \\frac{k_{B} T}{q}$. Differentiating with respect to $T$, treating $M$ and $N$ as temperature-independent constants,\n$$\\frac{dV_{REF}}{dT} = \\frac{dV_{BE}}{dT} + M \\cdot \\ln(N) \\cdot \\frac{dV_{T}}{dT}.$$\nSince $V_{T} = \\frac{k_{B} T}{q}$, we have\n$$\\frac{dV_{T}}{dT} = \\frac{k_{B}}{q}.$$\nTherefore,\n$$\\frac{dV_{REF}}{dT} = \\frac{dV_{BE}}{dT} + M \\cdot \\ln(N) \\cdot \\frac{k_{B}}{q}.$$\n\nAt the nominal operating temperature, the ideal resistor ratio $M_{\\text{ideal}}$ is chosen so that the temperature coefficient is zero:\n$$0 = \\frac{dV_{BE}}{dT} + M_{\\text{ideal}} \\cdot \\ln(N) \\cdot \\frac{k_{B}}{q}.$$\nHence,\n$$M_{\\text{ideal}} \\cdot \\ln(N) \\cdot \\frac{k_{B}}{q} = -\\frac{dV_{BE}}{dT}.$$\n\nDue to the fabrication error, the actual ratio is $M_{\\text{act}} = (1 + \\delta) M_{\\text{ideal}}$ with $\\delta = 0.15$. The resulting temperature coefficient becomes\n$$\\left.\\frac{dV_{REF}}{dT}\\right|_{\\text{act}} = \\frac{dV_{BE}}{dT} + M_{\\text{act}} \\cdot \\ln(N) \\cdot \\frac{k_{B}}{q}.$$\nSubstitute $M_{\\text{act}} = (1 + \\delta) M_{\\text{ideal}}$ and use the zero-TC condition:\n$$\\left.\\frac{dV_{REF}}{dT}\\right|_{\\text{act}} = \\frac{dV_{BE}}{dT} + (1 + \\delta)\\left(-\\frac{dV_{BE}}{dT}\\right) = -\\delta \\frac{dV_{BE}}{dT}.$$\n\nWith $\\frac{dV_{BE}}{dT} = -2.10 \\text{ mV/K}$ and $\\delta = 0.15$,\n$$\\left.\\frac{dV_{REF}}{dT}\\right|_{\\text{act}} = -0.15 \\times (-2.10 \\text{ mV/K}) = 0.315 \\text{ mV/K}.$$\nConverting to microvolts per Kelvin,\n$$0.315 \\text{ mV/K} = 315 \\text{ ÂµV/K}.$$\nRounded to three significant figures, the result is $315$ in the requested unit.", "answer": "$$\\boxed{315}$$", "id": "1282324"}]}