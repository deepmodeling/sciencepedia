{"hands_on_practices": [{"introduction": "Before analyzing how a circuit processes signals, we must first understand its stable, no-signal condition, known as the quiescent or DC operating point. This practice [@problem_id:1307943] focuses on tracing the DC currents through the symmetrical structure of a Gilbert cell under balanced conditions. Mastering this analysis is the foundational step for any further AC or large-signal investigation, as it reveals how the main tail current, $I_{EE}$, is systematically divided through the various stages of the multiplier.", "problem": "Consider a Gilbert cell multiplier circuit built using six identical Bipolar Junction Transistors (BJTs). The circuit uses the standard topology discussed in the main text.\n\nA lower differential pair, consisting of transistors Q5 and Q6, has its emitters tied together and connected to a constant current source that sinks a total current $I_{EE}$.\n\nThe transistors Q1-Q4 form the upper quad. The collector of Q5 serves as the tail current source for the upper differential pair (Q1, Q2) by connecting to their common emitters. Similarly, the collector of Q6 serves as the tail current source for the upper differential pair (Q3, Q4).\n\nThe output is formed by cross-coupling the collectors of the upper quad. The collectors of Q1 and Q4 are connected together, forming one output node. The collectors of Q2 and Q3 are connected together, forming the second output node. A load resistor with resistance $R_C$ is connected from the positive supply voltage, $V_{CC}$, to each of the two output nodes.\n\nAssume all transistors are operating in their forward-active region and that their base currents are negligible.\n\nThe circuit is in a quiescent DC state, where both differential input signals are zero. This setup implies that the base voltages of Q5 and Q6 are identical, and the base voltages of all transistors in the upper quad (Q1-Q4) are identical.\n\nDetermine the quiescent DC voltage at either output node. Express your answer as a single closed-form analytic expression in terms of $V_{CC}$, $I_{EE}$, and $R_C$.", "solution": "The goal is to find the quiescent DC voltage at the output nodes of the Gilbert cell. The quiescent state implies that all differential inputs are zero.\n\nStep 1: Analyze the lower differential pair (Q5 and Q6).\nThe transistors Q5 and Q6 form a differential pair with their emitters connected to a current source sinking a total current of $I_{EE}$. Since the transistors are identical and their base voltages are the same (quiescent condition), the tail current $I_{EE}$ splits equally between them. We are given that base currents are negligible, so the collector current $I_C$ is approximately equal to the emitter current $I_E$.\nTherefore, the collector currents of Q5 and Q6 are:\n$$I_{C5} = I_{C6} = \\frac{I_{EE}}{2}$$\n\nStep 2: Analyze the upper differential pairs (Q1, Q2) and (Q3, Q4).\nThe collector current of Q5, $I_{C5}$, acts as the tail current for the upper differential pair (Q1, Q2). In the quiescent state, the base voltages of Q1 and Q2 are identical. As these transistors are also identical, the current $I_{C5}$ splits equally between them.\n$$I_{C1} = I_{C2} = \\frac{I_{C5}}{2} = \\frac{1}{2} \\left( \\frac{I_{EE}}{2} \\right) = \\frac{I_{EE}}{4}$$\n\nSimilarly, the collector current of Q6, $I_{C6}$, acts as the tail current for the upper differential pair (Q3, Q4). Since their base voltages are identical in the quiescent state, the current $I_{C6}$ splits equally between them.\n$$I_{C3} = I_{C4} = \\frac{I_{C6}}{2} = \\frac{1}{2} \\left( \\frac{I_{EE}}{2} \\right) = \\frac{I_{EE}}{4}$$\n\nStep 3: Calculate the total current at each output node.\nThe first output node is the common connection of the collectors of Q1 and Q4. The total current flowing into this node from the transistors is the sum of their collector currents. Let's call this current $I_{out1}$.\n$$I_{out1} = I_{C1} + I_{C4} = \\frac{I_{EE}}{4} + \\frac{I_{EE}}{4} = \\frac{I_{EE}}{2}$$\n\nThe second output node is the common connection of the collectors of Q2 and Q3. The total current flowing into this node from the transistors is the sum of their collector currents. Let's call this current $I_{out2}$.\n$$I_{out2} = I_{C2} + I_{C3} = \\frac{I_{EE}}{4} + \\frac{I_{EE}}{4} = \\frac{I_{EE}}{2}$$\nAs expected, in the quiescent state, the DC current drawn from the supply through each load resistor is the same.\n\nStep 4: Determine the quiescent output voltage.\nThe voltage at each output node is determined by the voltage drop across its respective load resistor, $R_C$. Let's denote the quiescent output voltage as $V_{C,out}$. Using Ohm's law and Kirchhoff's voltage law, we can write the voltage at either output node by starting from the supply voltage $V_{CC}$ and subtracting the voltage drop across the resistor $R_C$.\nFor the first output node:\n$$V_{C,out} = V_{CC} - I_{out1} \\cdot R_C$$\nSubstituting the expression for $I_{out1}$:\n$$V_{C,out} = V_{CC} - \\left( \\frac{I_{EE}}{2} \\right) R_C$$\n\nSince $I_{out1} = I_{out2}$, the voltage at the second output node is identical. Thus, the quiescent DC voltage at either output node is:\n$$V_{C,out} = V_{CC} - \\frac{I_{EE} R_C}{2}$$", "answer": "$$\\boxed{V_{CC} - \\frac{I_{EE} R_{C}}{2}}$$", "id": "1307943"}, {"introduction": "With the DC bias conditions established, our focus can shift to how the circuit responds to small input signals. The key parameter governing this small-signal behavior is the transconductance, denoted as $g_m$, which quantifies the relationship between input voltage and output current. This exercise [@problem_id:1307951] provides practice in calculating this crucial parameter, connecting the circuit's quiescent state to its dynamic performance and forming a bridge between static analysis and signal amplification.", "problem": "A classic Gilbert cell analog multiplier is constructed using identical Bipolar Junction Transistors (BJTs). The input stage of this multiplier consists of a differential pair of transistors biased by a constant current source that provides a tail current $I_{EE}$. The circuit is operated at a temperature $T$. For a balanced DC condition (i.e., zero differential input voltage), the tail current splits equally between the two transistors of the input pair.\n\nGiven the following parameters:\n- Tail current, $I_{EE} = 1.50$ mA\n- Operating temperature, $T = 300$ K\n- Boltzmann's constant, $k = 1.38 \\times 10^{-23}$ J/K\n- Elementary charge, $q = 1.60 \\times 10^{-19}$ C\n\nCalculate the small-signal transconductance, $g_m$, for one of the transistors in the input differential pair. Assume the transistors are operating in the forward-active region.\n\nExpress your final answer in milliSiemens (mS), rounded to three significant figures.", "solution": "For a BJT operating in the forward-active region, the small-signal transconductance is given by\n$$\ng_{m}=\\frac{I_{C}}{V_{T}},\n$$\nwhere the thermal voltage is\n$$\nV_{T}=\\frac{kT}{q}.\n$$\nIn a balanced differential pair with tail current $I_{EE}$ and zero differential input, the tail current splits equally, so the collector current of each transistor is\n$$\nI_{C}=\\frac{I_{EE}}{2}.\n$$\nSubstituting this into the expression for $g_{m}$ gives\n$$\ng_{m}=\\frac{I_{EE}/2}{kT/q}=\\frac{I_{EE}}{2}\\cdot\\frac{q}{kT}.\n$$\nNow substitute the given numerical values $I_{EE}=1.50\\times 10^{-3}\\ \\text{A}$, $k=1.38\\times 10^{-23}\\ \\text{J/K}$, $T=300\\ \\text{K}$, and $q=1.60\\times 10^{-19}\\ \\text{C}$:\n$$\nV_{T}=\\frac{kT}{q}=\\frac{1.38\\times 10^{-23}\\times 300}{1.60\\times 10^{-19}}=2.5875\\times 10^{-2}\\ \\text{V},\n$$\n$$\nI_{C}=\\frac{1.50\\times 10^{-3}}{2}=7.50\\times 10^{-4}\\ \\text{A},\n$$\n$$\ng_{m}=\\frac{7.50\\times 10^{-4}}{2.5875\\times 10^{-2}}=\\frac{0.75}{25.875}\\ \\text{S}\\approx 2.89855\\times 10^{-2}\\ \\text{S}.\n$$\nConverting to milliSiemens and rounding to three significant figures gives\n$$\ng_{m}\\approx 28.9855\\ \\text{mS}\\approx 29.0\\ \\text{mS}.\n$$", "answer": "$$\\boxed{29.0}$$", "id": "1307951"}, {"introduction": "While the Gilbert cell is a powerful analog multiplier, its behavior is only approximately linear over a limited range of input voltages. Understanding this boundary is critical for designing systems that minimize signal distortion. This problem [@problem_id:1307959] delves into the characteristic hyperbolic tangent, or $\\tanh$, relationship between the differential input voltage and the output current of a BJT pair. By determining the effective linear range, you will gain practical insight into the operational limits of the circuit and the fundamental trade-off between signal amplitude and linearity.", "problem": "The Gilbert cell is a fundamental building block in analog integrated circuits, often used as an analog multiplier or a balanced modulator. Its operation relies on a core Bipolar Junction Transistor (BJT) differential amplifier pair.\n\nConsider the input stage of a Gilbert cell, which consists of a differential pair of two identical BJTs biased by a constant tail current source of magnitude $I_{EE}$. A differential voltage $v_{id}$ is applied between the bases of the two transistors. Assuming the transistors are operating in the forward-active region and have a high current gain, the differential output current, $\\Delta I_C$, which is the difference between the two collector currents, is given by the relationship:\n$$ \\Delta I_C = I_{EE} \\tanh\\left(\\frac{v_{id}}{2V_T}\\right) $$\nwhere $V_T$ is the thermal voltage.\n\nFor small input voltages, the circuit's response is approximately linear. We can precisely define the boundary of this linear region by examining the circuit's transconductance at zero input. The tangent to the transfer characteristic at $v_{id} = 0$ is a line described by $y(v_{id}) = G_{m0} \\cdot v_{id}$, where $G_{m0}$ is the small-signal transconductance at $v_{id}=0$. The effective linear input range is conventionally defined by finding the magnitude of the input voltage, $|v_{id}|_{max}$, at which this tangent line intersects the saturation level of the differential output current.\n\nDetermine this maximum magnitude of the differential input voltage, $|v_{id}|_{max}$, that defines the linear operating range. Express your answer in terms of the thermal voltage $V_T$.", "solution": "We start from the given transfer characteristic of the differential pair:\n$$\n\\Delta I_{C} = I_{EE}\\tanh\\!\\left(\\frac{v_{id}}{2V_{T}}\\right).\n$$\nThe small-signal transconductance at zero input is defined as the slope of the transfer characteristic at $v_{id}=0$:\n$$\nG_{m0}=\\left.\\frac{d\\,\\Delta I_{C}}{dv_{id}}\\right|_{v_{id}=0}.\n$$\nDifferentiate using the chain rule and the identity $\\frac{d}{dx}\\tanh(x)=1-\\tanh^{2}(x)$:\n$$\n\\frac{d\\,\\Delta I_{C}}{dv_{id}}=I_{EE}\\left(1-\\tanh^{2}\\!\\left(\\frac{v_{id}}{2V_{T}}\\right)\\right)\\cdot\\frac{1}{2V_{T}}.\n$$\nEvaluating at $v_{id}=0$ where $\\tanh(0)=0$ gives\n$$\nG_{m0}=I_{EE}\\cdot\\frac{1}{2V_{T}}=\\frac{I_{EE}}{2V_{T}}.\n$$\nThe tangent at the origin is then\n$$\ny(v_{id})=G_{m0}\\,v_{id}=\\frac{I_{EE}}{2V_{T}}\\,v_{id}.\n$$\nThe saturation level of the differential output current is the asymptotic value of $\\Delta I_{C}$ as $|v_{id}|\\to\\infty$, namely $|\\Delta I_{C}|_{\\text{sat}}=I_{EE}$. The effective linear input range is obtained by setting the magnitude of the tangent equal to this saturation level:\n$$\n\\left|y(v_{id})\\right|=I_{EE}\\;\\;\\Rightarrow\\;\\;\\frac{I_{EE}}{2V_{T}}\\,|v_{id}|=I_{EE}.\n$$\nSolving for the maximum magnitude of the input voltage yields\n$$\n|v_{id}|_{\\max}=\\frac{I_{EE}}{I_{EE}/(2V_{T})}=2V_{T}.\n$$\nTherefore, the maximum magnitude of the differential input voltage defining the linear range is $2V_{T}$.", "answer": "$$\\boxed{2V_{T}}$$", "id": "1307959"}]}