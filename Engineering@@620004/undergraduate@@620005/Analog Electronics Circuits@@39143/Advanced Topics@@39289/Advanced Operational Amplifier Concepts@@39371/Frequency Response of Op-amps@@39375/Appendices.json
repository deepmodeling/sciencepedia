{"hands_on_practices": [{"introduction": "A cornerstone of analog circuit design is selecting components that meet performance targets. This first practice explores the fundamental trade-off between gain and bandwidth in an op-amp based amplifier [@problem_id:1306054]. You will apply the Gain-Bandwidth Product (GBWP) concept to determine the minimum op-amp specification required for a non-inverting amplifier, a common building block, to achieve a desired closed-loop gain and bandwidth.", "problem": "An electronics engineer is designing a preamplifier stage for a high-speed optical communication receiver. The preamplifier uses a single operational amplifier (op-amp) in a non-inverting configuration to amplify the voltage signal from a photodiode.\n\nThe design specifications require the preamplifier to have a nominal DC closed-loop voltage gain of $35.5$. To process the fast-changing optical signals without significant distortion, the closed-loop $-3\\text{ dB}$ bandwidth of the amplifier must be at least $2.50 \\text{ MHz}$.\n\nAssume the op-amp's open-loop frequency response can be accurately modeled by a single dominant pole. To meet these performance requirements, what is the minimum required Gain-Bandwidth Product (GBWP) of the op-amp?\n\nExpress your final answer in units of megahertz (MHz), rounded to three significant figures.", "solution": "We model the op-amp with a single dominant pole open-loop transfer:\n$$\nA(s)=\\frac{A_{0}}{1+\\frac{s}{\\omega_{p}}}=\\frac{A_{0}\\,\\omega_{p}}{s+\\omega_{p}}.\n$$\nThe unity-gain angular frequency is\n$$\n\\omega_{t}=A_{0}\\,\\omega_{p},\n$$\nand the unity-gain frequency is\n$$\nf_{t}=\\frac{\\omega_{t}}{2\\pi}=\\frac{A_{0}\\,\\omega_{p}}{2\\pi}.\n$$\nFor a non-inverting configuration with feedback factor $\\beta$, the closed-loop transfer is\n$$\nT(s)=\\frac{A(s)}{1+\\beta A(s)}=\\frac{\\frac{A_{0}}{1+\\frac{s}{\\omega_{p}}}}{1+\\beta \\frac{A_{0}}{1+\\frac{s}{\\omega_{p}}}}=\\frac{A_{0}}{1+\\frac{s}{\\omega_{p}}+\\beta A_{0}}.\n$$\nFactor the denominator:\n$$\nT(s)=\\frac{A_{0}}{(\\beta A_{0}+1)\\left(1+\\frac{s}{\\omega_{p}(\\beta A_{0}+1)}\\right)}.\n$$\nThus the DC closed-loop gain is\n$T(0)=\\frac{A_{0}}{\\beta A_{0}+1}\\approx \\frac{1}{\\beta}\\equiv G$,\nassuming $A_{0}\\gg \\frac{1}{\\beta}$. The closed-loop pole is\n$\\omega_{\\text{cl}}=\\omega_{p}(\\beta A_{0}+1)\\approx \\omega_{p}\\beta A_{0}=\\beta \\omega_{t}$.\nTherefore the closed-loop $-3\\,\\text{dB}$ bandwidth is\n$f_{-3\\text{dB}}=\\frac{\\omega_{\\text{cl}}}{2\\pi}\\approx \\frac{\\beta \\omega_{t}}{2\\pi}=\\beta f_{t}$.\nSince $\\beta=\\frac{1}{G}$ for a non-inverting amplifier, we have\n$f_{-3\\text{dB}}\\approx \\frac{f_{t}}{G}\\quad \\Longrightarrow \\quad f_{t}\\approx G\\,f_{-3\\text{dB}}$.\nIdentifying $f_{t}$ as the gain-bandwidth product (GBWP), the minimum required GBWP is\n$\\text{GBWP}_{\\min}=G\\,f_{-3\\text{dB, req}}=35.5\\times 2.50\\,\\text{MHz}=88.75\\,\\text{MHz}$.\nRounded to three significant figures, this is $88.8\\,\\text{MHz}$.", "answer": "$$\\boxed{88.8}$$", "id": "1306054"}, {"introduction": "While inverting and non-inverting amplifiers can be configured for the same magnitude of signal gain, their frequency performance is not identical. This exercise [@problem_id:1306091] delves into this crucial distinction, guiding you to compare the bandwidth of these two fundamental topologies. The key lies in understanding the concept of 'noise gain' and how it, rather than signal gain, governs the closed-loop bandwidth in conjunction with the op-amp's unity-gain frequency $f_t$.", "problem": "An analog circuit designer is tasked with creating a fixed-gain amplifier stage. The designer is considering two standard configurations: a non-inverting amplifier and an inverting amplifier. The operational amplifier (op-amp) available for the design can be modeled as having a single dominant pole in its open-loop frequency response, resulting in a constant gain-bandwidth product. This is characterized by its unity-gain frequency, $f_t$.\n\nFor both configurations, the design must achieve a DC voltage gain with a magnitude of exactly $G = 12$.\n\nThe non-inverting amplifier's DC gain is given by the formula $A_{v,ni} = 1 + \\frac{R_f}{R_i}$, where $R_f$ is the feedback resistor and $R_i$ is the input resistor.\n\nThe inverting amplifier's DC gain is given by the formula $A_{v,i} = -\\frac{R_f}{R_i}$. The resistors $R_f$ and $R_i$ are selected in each case to satisfy the required gain magnitude.\n\nYour task is to compare the performance of these two configurations. Calculate the ratio of the $-3\\text{ dB}$ bandwidth of the non-inverting amplifier, $BW_{ni}$, to the $-3\\text{ dB}$ bandwidth of the inverting amplifier, $BW_i$. That is, determine the value of $\\frac{BW_{ni}}{BW_i}$.\n\nRound your final answer to three significant figures.", "solution": "Model the op-amp open-loop gain as a single-pole transfer:\n$$A(s)=\\frac{A_{0}}{1+\\frac{s}{\\omega_{p}}},$$\nwith unity-gain (transition) frequency defined by $f_{t}=A_{0}f_{p}$, equivalently $\\omega_{t}=A_{0}\\omega_{p}$, where $\\omega_{p}=2\\pi f_{p}$.\n\nWith feedback factor $\\beta$, the closed-loop transfer is\n$$T(s)=\\frac{A(s)}{1+A(s)\\beta}=\\frac{\\frac{A_{0}}{1+\\frac{s}{\\omega_{p}}}}{1+\\frac{A_{0}}{1+\\frac{s}{\\omega_{p}}}\\beta}=\\frac{A_{0}}{1+\\frac{s}{\\omega_{p}}+A_{0}\\beta}.$$\nRewrite as\n$$T(s)=\\frac{A_{0}}{1+A_{0}\\beta}\\cdot\\frac{1}{1+\\frac{s}{\\omega_{p}(1+A_{0}\\beta)}}.$$\nFor $A_{0}\\beta\\gg 1$, the DC closed-loop gain is approximately the noise gain $N=\\frac{1}{\\beta}$, since\n$$\\frac{A_{0}}{1+A_{0}\\beta}\\approx\\frac{1}{\\beta}=N,$$\nand the closed-loop pole is\n$$\\omega_{c}\\approx\\omega_{p}(1+A_{0}\\beta)\\approx\\omega_{p}A_{0}\\beta=\\omega_{t}\\beta=\\frac{\\omega_{t}}{N}.$$\nFor a single-pole response, the magnitude is down by 3 dB at the pole, so the $-3$ dB bandwidth is\n$BW=\\frac{\\omega_{c}}{2\\pi}=\\frac{f_{t}}{N}$.\n\nDetermine $N$ for each configuration:\n- Non-inverting amplifier: $\\beta=\\frac{R_{i}}{R_{i}+R_{f}}$, hence $N=\\frac{1}{\\beta}=1+\\frac{R_{f}}{R_{i}}$. Given $A_{v,ni}=1+\\frac{R_{f}}{R_{i}}=G=12$, we have $N_{ni}=12$. Therefore,\n$BW_{ni}=\\frac{f_{t}}{12}$.\n- Inverting amplifier: the signal gain magnitude is $\\left|\\frac{R_{f}}{R_{i}}\\right|=G=12$, while the noise gain is $N_{i}=1+\\frac{R_{f}}{R_{i}}=1+12=13$. Therefore,\n$BW_{i}=\\frac{f_{t}}{13}$.\n\nCompute the ratio:\n$$\\frac{BW_{ni}}{BW_{i}}=\\frac{\\frac{f_{t}}{12}}{\\frac{f_{t}}{13}}=\\frac{13}{12}\\approx 1.083\\ldots,$$\nwhich to three significant figures is $1.08$.", "answer": "$$\\boxed{1.08}$$", "id": "1306091"}, {"introduction": "The performance of an amplifier can be described in both the frequency domain (e.g., bandwidth) and the time domain (e.g., rise time). This practice [@problem_id:1306090] connects these two perspectives by exploring the direct mathematical relationship between an amplifier's $-3\\text{ dB}$ bandwidth and its response to a step input. By working through this, you will learn how to predict the time-domain performance of a single-pole system based on its frequency response characteristics, a powerful skill for both analysis and design.", "problem": "An electronics engineer is characterizing a high-speed operational amplifier (op-amp) for use in a data acquisition system. The op-amp is configured as a non-inverting amplifier. For the small signals of interest, the amplifier's frequency response is accurately modeled as a single-pole, low-pass system. Through frequency-domain measurements using a network analyzer, the engineer determines that the amplifier's small-signal $-3\\text{ dB}$ bandwidth, denoted as $f_{-3\\text{dB}}$, is exactly $150 \\text{ MHz}$.\n\nTo evaluate its performance in the time domain, the engineer needs to predict its response to a sudden change in input. Based on the frequency-domain measurement, calculate the theoretical 10%-to-90% rise time, $t_r$. The rise time is defined as the time it takes for the amplifier's output voltage to go from 10% to 90% of its final value in response to an ideal small-signal step input.\n\nExpress your final answer in nanoseconds (ns), rounded to three significant figures.", "solution": "For a single-pole low-pass system with transfer function $H(s)=\\frac{1}{1+s\\tau}$, the magnitude is $|H(j\\omega)|=\\frac{1}{\\sqrt{1+\\omega^{2}\\tau^{2}}}$. The $-3\\mathrm{dB}$ frequency occurs when $|H(j\\omega_{-3\\mathrm{dB}})|=\\frac{1}{\\sqrt{2}}$, which gives $\\omega_{-3\\mathrm{dB}}=\\frac{1}{\\tau}$. Therefore,\n$$\nf_{-3\\mathrm{dB}}=\\frac{\\omega_{-3\\mathrm{dB}}}{2\\pi}=\\frac{1}{2\\pi\\tau}\n\\quad\\Rightarrow\\quad\n\\tau=\\frac{1}{2\\pi f_{-3\\mathrm{dB}}}.\n$$\nThe unit-step response is $v(t)=1-\\exp(-t/\\tau)$. Define $t_{10}$ and $t_{90}$ by $v(t_{10})=0.1$ and $v(t_{90})=0.9$. Solving,\n$$\n0.1=1-\\exp(-t_{10}/\\tau)\\;\\Rightarrow\\; t_{10}=-\\tau\\ln(0.9),\n$$\n$$\n0.9=1-\\exp(-t_{90}/\\tau)\\;\\Rightarrow\\; t_{90}=-\\tau\\ln(0.1).\n$$\nThe $10$â€“$90$ rise time is\n$$\nt_{r}=t_{90}-t_{10}=\\tau\\big[\\ln(0.9)-\\ln(0.1)\\big]=\\tau\\ln(9).\n$$\nSubstituting $\\tau=\\frac{1}{2\\pi f_{-3\\mathrm{dB}}}$ gives\n$$\nt_{r}=\\frac{\\ln(9)}{2\\pi f_{-3\\mathrm{dB}}}.\n$$\nWith $f_{-3\\mathrm{dB}}=150\\times 10^{6}$, this evaluates to\n$$\nt_{r}=\\frac{\\ln(9)}{2\\pi\\cdot 150\\times 10^{6}}\\;\\text{s}\\approx 2.331327675\\times 10^{-9}\\;\\text{s}\\approx 2.331327675\\;\\text{ns}.\n$$\nRounded to three significant figures, $t_{r}\\approx 2.33\\;\\text{ns}$.", "answer": "$$\\boxed{2.33}$$", "id": "1306090"}]}