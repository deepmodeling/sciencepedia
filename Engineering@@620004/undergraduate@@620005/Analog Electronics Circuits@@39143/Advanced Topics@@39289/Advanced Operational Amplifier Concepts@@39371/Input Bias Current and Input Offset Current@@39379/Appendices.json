{"hands_on_practices": [{"introduction": "The voltage follower is the simplest op-amp circuit, but even here, non-ideal characteristics can introduce errors. This first practice problem explores how an op-amp's input bias current, $I_B$, interacts with the source resistance, $R_S$, to create an unwanted DC offset voltage at the output. By analyzing this fundamental scenario [@problem_id:1311279], you will gain a clear understanding of the basic mechanism behind this common source of error.", "problem": "An Operational Amplifier (op-amp) is used to build a voltage follower circuit. The op-amp is ideal in all aspects except for its input stage, which is characterized by a non-zero input bias current and a non-zero input offset current. The specifications for the op-amp are an input bias current of $I_B = 80 \\text{ nA}$ and an input offset current of $I_{OS} = 10 \\text{ nA}$.\n\nThe voltage follower is configured with its non-inverting input connected to ground through a source resistance of $R_S = 100 \\text{ k}\\Omega$. The input signal to the circuit is 0 V. For the purpose of this problem, you should assume that the bias current flowing into the non-inverting terminal, $I_{B+}$, is larger than the bias current flowing into the inverting terminal, $I_{B-}$.\n\nCalculate the resulting DC output voltage, $V_{out}$, of the circuit under these conditions. Express your answer in millivolts (mV).", "solution": "We model the ideal op-amp follower with non-ideal input currents. The input bias currents are defined by\n$$I_{B} = \\frac{I_{B+} + I_{B-}}{2}, \\quad I_{OS} = |I_{B+} - I_{B-}|.$$\nGiven the condition $I_{B+} > I_{B-}$, we solve for the individual currents:\n$$I_{B+} = I_{B} + \\frac{I_{OS}}{2}, \\quad I_{B-} = I_{B} - \\frac{I_{OS}}{2}.$$\n\nThe non-inverting input node is connected to ground through $R_{S}$ and draws current $I_{B+}$ into the op-amp input. Applying KCL at the non-inverting input node (with ground at $0$ V) gives the resistor current equal to the input bias current:\n$$\\frac{0 - V_{+}}{R_{S}} = I_{B+} \\;\\;\\Rightarrow\\;\\; V_{+} = - I_{B+} R_{S}.$$\n\nWith an ideal op-amp in a voltage follower configuration, negative feedback forces $V_{-} = V_{+}$ and the direct connection of the inverting input to the output gives $V_{out} = V_{-}$. Therefore,\n$$V_{out} = V_{+} = - R_{S} I_{B+} = - R_{S}\\left(I_{B} + \\frac{I_{OS}}{2}\\right).$$\n\nSubstituting the given values $R_{S} = 100 \\times 10^{3}$, $I_{B} = 80 \\times 10^{-9}$, and $I_{OS} = 10 \\times 10^{-9}$,\n$$I_{B+} = 80 \\times 10^{-9} + \\frac{10 \\times 10^{-9}}{2} = 85 \\times 10^{-9},$$\n$$V_{out} = - (100 \\times 10^{3})(85 \\times 10^{-9}) = -8.5 \\times 10^{-3}.$$\n\nExpressed in millivolts, this is $-8.5$ mV.", "answer": "$$\\boxed{-8.5}$$", "id": "1311279"}, {"introduction": "Moving to the widely used inverting amplifier, we'll now tackle a realistic design challenge. This exercise [@problem_id:1311281] demonstrates how both the input bias current, $I_B$, and the input offset current, $I_{OS}$, contribute to the output error voltage. You will learn to calculate the worst-case error and use this to determine the maximum allowable feedback resistance, a crucial skill for designing circuits that meet precise performance specifications.", "problem": "An engineer is designing a signal conditioning circuit using a standard inverting amplifier configuration. The operational amplifier (op-amp) has a specified Direct Current (DC) voltage gain of $G = -25$. In this configuration, the input signal is applied to the inverting input through a resistor $R_1$, and the feedback path is established by a resistor $R_f$. The non-inverting input of the op-amp is connected directly to ground.\n\nThe chosen op-amp is non-ideal and its datasheet provides the following specifications for its input currents: an average input bias current of $I_B = 100 \\text{ nA}$ and an input offset current of $I_{OS} = 40 \\text{ nA}$. For this DC analysis, you may assume the op-amp's input offset voltage is zero.\n\nThe design requires that the magnitude of the DC output error voltage, caused solely by these input currents, does not exceed $20 \\text{ mV}$. Considering the worst-case scenario for the combination of input bias currents, determine the maximum permissible value for the feedback resistor $R_f$.\n\nExpress your answer in kilo-ohms ($\\text{k}\\Omega$), rounded to three significant figures.", "solution": "For a standard inverting amplifier with the non-inverting input tied to ground, the closed-loop action forces the inverting node to virtual ground for DC analysis. With the input signal set to zero for DC error evaluation, the inverting node is connected to ground through $R_{1}$ and to the output through $R_{f}$. Let $i_{-}$ denote the op-amp's inverting input bias current (positive when entering the op-amp).\n\nApplying KCL at the inverting node and using the virtual ground condition $V_{-} \\approx 0$,\n$$\n\\frac{V_{-}}{R_{1}}+\\frac{V_{-}-V_{o}}{R_{f}}-i_{-}=0\n$$\nWith $V_{-}=0$ this reduces to\n$$\n-\\frac{V_{o}}{R_{f}}-i_{-}=0 \\quad \\Rightarrow \\quad V_{o}=-i_{-}R_{f}.\n$$\nThus the DC output error magnitude due to input currents is\n$$\n|V_{o,\\text{err}}|=|i_{-}|\\,R_{f}.\n$$\nBecause the non-inverting input is directly grounded (zero source resistance), its bias current produces no voltage and therefore no contribution to the output error. Hence only the inverting input current matters.\n\nFrom the datasheet definitions, the average input bias current is $I_{B}=\\frac{|i_{+}|+|i_{-}|}{2}$ and the input offset current is $I_{OS}=||i_{+}|-|i_{-}||$. In the worst case for output error magnitude, the inverting input current magnitude is maximized:\n$$\n|i_{-}|_{\\max}=I_{B}+\\frac{I_{OS}}{2}.\n$$\nTherefore,\n$$\n|V_{o,\\text{err}}|_{\\max}=\\left(I_{B}+\\frac{I_{OS}}{2}\\right)R_{f}.\n$$\nImposing the specification $|V_{o,\\text{err}}|_{\\max}\\leq V_{\\text{err,max}}$ gives\n$$\nR_{f,\\max}=\\frac{V_{\\text{err,max}}}{I_{B}+\\frac{I_{OS}}{2}}.\n$$\nSubstitute the given values $V_{\\text{err,max}}=20\\times 10^{-3}\\,\\text{V}$, $I_{B}=100\\times 10^{-9}\\,\\text{A}$, and $I_{OS}=40\\times 10^{-9}\\,\\text{A}$:\n$$\nI_{B}+\\frac{I_{OS}}{2}=100\\times 10^{-9}+20\\times 10^{-9}=120\\times 10^{-9}\\,\\text{A},\n$$\n$$\nR_{f,\\max}=\\frac{20\\times 10^{-3}}{120\\times 10^{-9}}\\,\\Omega=\\frac{20}{120}\\times 10^{6}\\,\\Omega=\\frac{1}{6}\\times 10^{6}\\,\\Omega=1.66666\\ldots\\times 10^{5}\\,\\Omega=166.666\\ldots\\,\\text{k}\\Omega.\n$$\nRounded to three significant figures in kilo-ohms, this is $167$.", "answer": "$$\\boxed{167}$$", "id": "1311281"}, {"introduction": "Our final practice problem takes on the role of a test engineer characterizing an op-amp. Instead of calculating error from given specifications, you will use measured output voltages from two different circuit configurations to determine the op-amp's input offset current, $I_{OS}$ [@problem_id:1311247]. This exercise provides a practical understanding of how these non-ideal parameters can be measured and solidifies the connection between the internal properties of an op-amp and its external behavior.", "problem": "An electronics technician is tasked with characterizing a batch of operational amplifiers (op-amps). The primary goal is to determine the input offset current, $I_{OS}$. For this particular model of op-amp, the manufacturer's datasheet indicates that the input offset voltage, $V_{OS}$, is negligible and can be assumed to be zero. The op-amp can otherwise be modeled as ideal (infinite open-loop gain, infinite input impedance, zero output impedance).\n\nThe technician performs two separate measurements.\n\n1.  **First Measurement:** The op-amp is configured in a circuit where its non-inverting input terminal is connected directly to ground. A feedback resistor with resistance $R = 10.0 \\, \\text{M}\\Omega$ is connected between the output terminal and the inverting input terminal. In this configuration, the DC output voltage is measured to be $V_{out,1} = 0.952 \\, \\text{V}$.\n\n2.  **Second Measurement:** The circuit is then reconfigured. The output terminal is connected directly to the inverting input terminal, forming a voltage follower. The non-inverting input terminal is connected to ground through a resistor of the same resistance, $R = 10.0 \\, \\text{M}\\Omega$. In this second configuration, the DC output voltage is measured to be $V_{out,2} = -1.158 \\, \\text{V}$.\n\nThe input bias currents flowing into the non-inverting and inverting terminals are denoted by $I_{B+}$ and $I_{B-}$, respectively. The input offset current is defined by the magnitude of their difference: $I_{OS} = |I_{B+} - I_{B-}|$.\n\nBased on the two measurements, calculate the value of the input offset current $I_{OS}$. Express your final answer in units of nanoamperes (nA), rounded to three significant figures.", "solution": "We model the op-amp as ideal with infinite open-loop gain and zero output impedance, and with input offset voltage $V_{OS}=0$. The only non-idealities are the input bias currents $I_{B+}$ and $I_{B-}$ flowing into the non-inverting and inverting inputs, respectively. With infinite open-loop gain and $V_{OS}=0$, the op-amp enforces $V_{-}=V_{+}$ in both configurations. We apply Kirchhoffâ€™s current law (KCL) at the input nodes to relate the measured output voltages to the bias currents.\n\nFirst measurement:\n- Configuration: $V_{+}$ is directly grounded, a resistor $R$ connects the output to $V_{-}$, and there is no other connection to $V_{-}$ except the op-amp input.\n- Hence $V_{+}=0$ and, by the virtual short, $V_{-}=0$.\n- The current through $R$ leaving the inverting node is $(V_{-}-V_{out,1})/R=(0-V_{out,1})/R=-V_{out,1}/R$.\n- The bias current leaving the node into the op-amp is $I_{B-}$.\n- KCL (algebraic sum of currents leaving the node equals zero) gives\n$$\n-\\frac{V_{out,1}}{R}+I_{B-}=0 \\quad \\Rightarrow \\quad I_{B-}=\\frac{V_{out,1}}{R}.\n$$\n\nSecond measurement:\n- Configuration: $V_{out}$ is tied directly to $V_{-}$ (voltage follower), and $V_{+}$ is connected to ground through $R$.\n- The bias current $I_{B+}$ leaves the non-inverting input node into the op-amp.\n- The current through $R$ leaving the non-inverting node to ground is $V_{+}/R$.\n- KCL at the non-inverting node (sum of currents leaving equals zero) gives\n$$\n\\frac{V_{+}}{R}+I_{B+}=0 \\quad \\Rightarrow \\quad V_{+}=-I_{B+}R.\n$$\n- With the follower, $V_{out,2}=V_{-}=V_{+}$, so\n$$\nV_{out,2}=-I_{B+}R \\quad \\Rightarrow \\quad I_{B+}=-\\frac{V_{out,2}}{R}.\n$$\n\nThe input offset current is defined as $I_{OS}=|I_{B+}-I_{B-}|$. Substituting the two measured output voltages,\n$$\nI_{B-}=\\frac{V_{out,1}}{R}, \\qquad I_{B+}=-\\frac{V_{out,2}}{R},\n$$\nso\n$$\nI_{OS}=\\left|-\\frac{V_{out,2}}{R}-\\frac{V_{out,1}}{R}\\right|=\\frac{| -V_{out,2}-V_{out,1} |}{R}.\n$$\n\nNow substitute the given numerical values $R=10.0\\times 10^{6}\\,\\Omega$, $V_{out,1}=0.952\\,\\text{V}$, and $V_{out,2}=-1.158\\,\\text{V}$:\n$$\nI_{B-}=\\frac{0.952}{10.0\\times 10^{6}}\\,\\text{A}=95.2\\times 10^{-9}\\,\\text{A}=95.2\\,\\text{nA},\n$$\n$$\nI_{B+}=-\\frac{-1.158}{10.0\\times 10^{6}}\\,\\text{A}=115.8\\times 10^{-9}\\,\\text{A}=115.8\\,\\text{nA}.\n$$\nTherefore,\n$$\nI_{OS}=|115.8-95.2|\\,\\text{nA}=20.6\\,\\text{nA}.\n$$\nRounded to three significant figures in nanoamperes, the result is $20.6$.", "answer": "$$\\boxed{20.6}$$", "id": "1311247"}]}