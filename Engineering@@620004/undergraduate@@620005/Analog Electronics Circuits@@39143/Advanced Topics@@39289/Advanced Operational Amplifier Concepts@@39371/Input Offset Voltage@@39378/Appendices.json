{"hands_on_practices": [{"introduction": "The most direct consequence of input offset voltage is the creation of an unwanted DC output error, which can be critical in precision applications. This first practice problem provides a fundamental exercise in quantifying this effect in a common non-inverting amplifier circuit [@problem_id:1311479]. By calculating the output for both positive and negative offset voltages, you will gain a clear, hands-on understanding of how this small input-referred error, $V_{OS}$, is amplified and appears at the output.", "problem": "An engineer is building a pre-amplifier circuit for a sensor system using a single operational amplifier (op-amp). The op-amp is configured as a non-inverting amplifier. The feedback resistor, $R_f$, has a value of $90.0 \\text{ k}\\Omega$, and the resistor connected from the inverting input to ground, $R_i$, has a value of $10.0 \\text{ k}\\Omega$. The input signal terminal of the amplifier is connected directly to ground.\n\nThe op-amp used in the circuit is not ideal and possesses a characteristic known as input offset voltage, $V_{OS}$. This non-ideality causes a non-zero DC voltage at the output even when the input signal is zero.\n\nYour task is to calculate the DC output voltage, $V_{out}$, for two different scenarios involving two distinct op-amps:\n1.  The first op-amp has an input offset voltage $V_{OS} = +2.0 \\text{ mV}$.\n2.  The second op-amp has an input offset voltage $V_{OS} = -2.0 \\text{ mV}$.\n\nProvide the two calculated output voltages, in order: first for the case where $V_{OS} = +2.0 \\text{ mV}$, and second for the case where $V_{OS} = -2.0 \\text{ mV}$. Express your answers in millivolts (mV), rounded to three significant figures.", "solution": "We consider a non-inverting amplifier with feedback network defined by $R_{f}$ from output to the inverting input and $R_{i}$ from the inverting input to ground. The closed-loop gain for a signal applied at the non-inverting input is\n$$\nA_{\\text{cl}}=1+\\frac{R_{f}}{R_{i}}.\n$$\nAn op-amp input offset voltage $V_{OS}$ can be modeled as a small DC source in series with the non-inverting input, so with the external input grounded, the effective input to the closed-loop amplifier is $V_{OS}$. Therefore, the DC output offset is\n$$\nV_{\\text{out}}=A_{\\text{cl}}\\,V_{OS}=\\left(1+\\frac{R_{f}}{R_{i}}\\right)V_{OS}.\n$$\nSubstituting the given resistor values $R_{f}=90.0\\text{ k}\\Omega$ and $R_{i}=10.0\\text{ k}\\Omega$ gives\n$$\n1+\\frac{R_{f}}{R_{i}}=1+\\frac{90.0}{10.0}=1+9=10.\n$$\nThus,\n$$\nV_{\\text{out}}=10\\,V_{OS}.\n$$\nFor $V_{OS}=+2.0\\text{ mV}$:\n$$\nV_{\\text{out}}=10\\times 2.0=20.0\\text{ mV}.\n$$\nFor $V_{OS}=-2.0\\text{ mV}$:\n$$\nV_{\\text{out}}=10\\times(-2.0)=-20.0\\text{ mV}.\n$$\nRounded to three significant figures and expressed in millivolts, the results are $20.0$ and $-20.0$.", "answer": "$$\\boxed{\\begin{pmatrix}20.0 & -20.0\\end{pmatrix}}$$", "id": "1311479"}, {"introduction": "While the effect of input offset voltage in a static amplifier is a constant DC error, its impact on circuits with integrating behavior is dynamic and can be far more dramatic. This exercise explores what happens when a constant input offset voltage is applied to an op-amp integrator over time [@problem_id:1311458]. You will see how this small, persistent input error causes the output to ramp continuously, a crucial concept for understanding the stability and long-term behavior of integrator-based systems.", "problem": "An integrator circuit is constructed using an Operational Amplifier (op-amp), a resistor $R$, and a capacitor $C$. The resistor is connected from the circuit's input terminal to the op-amp's inverting input. The capacitor forms a feedback path from the op-amp's output to its inverting input. The non-inverting input of the op-amp is connected directly to ground. For a particular application, the circuit's input terminal is also held at ground potential ($v_{in} = 0$).\n\nThe op-amp, while otherwise considered ideal (infinite open-loop gain, infinite input impedance, zero output impedance), exhibits a constant DC input offset voltage, $V_{OS}$. For analysis, this offset voltage can be modeled as a small voltage source connected in series with the non-inverting input terminal. At time $t=0$, the capacitor is fully discharged. The op-amp is powered by supplies that cause its output to saturate at $\\pm V_{sat}$.\n\nGiven the component values $R = 100 \\text{ k}\\Omega$, $C = 10.0 \\text{ }\\mu\\text{F}$, $V_{OS} = 2.50 \\text{ mV}$, and $V_{sat} = 12.0 \\text{ V}$, calculate the time at which the magnitude of the output voltage first reaches the saturation level. Express your answer in seconds, rounded to three significant figures.", "solution": "Because the op-amp is ideal except for a DC input offset modeled as a series source at the non-inverting input, while unsaturated it enforces the virtual short condition $v_{-} = v_{+}$. With the external non-inverting terminal at ground and the series offset source $V_{OS}$, the internal non-inverting node is at $v_{+} = V_{OS}$, so $v_{-} = V_{OS}$.\n\nAt the inverting node, apply KCL (neglecting input bias current). The resistor current from input to the inverting node is\n$$\ni_{R}=\\frac{v_{in}-v_{-}}{R}=\\frac{0 - V_{OS}}{R}=-\\frac{V_{OS}}{R}.\n$$\nThe capacitor current from the inverting node to the output is\n$$\ni_{C}=C\\frac{d}{dt}\\big(v_{-}-v_{out}\\big)=C\\frac{d}{dt}\\big(V_{OS}-v_{out}\\big)=-C\\frac{dv_{out}}{dt}.\n$$\nKCL at the inverting node gives $i_R+i_C=0$, hence\n$$\n-\\frac{V_{OS}}{R}-C\\frac{dv_{out}}{dt}=0 \\;\\;\\Rightarrow\\;\\; \\frac{dv_{out}}{dt}=-\\frac{V_{OS}}{R C}.\n$$\nWith the initial condition $v_{out}(0)=0$ (capacitor initially uncharged), the output is\n$$\nv_{out}(t)=-\\frac{V_{OS}}{R C}\\,t.\n$$\nThe magnitude first reaches the saturation level when $|v_{out}(t)|=V_{sat}$, giving\n$$\n\\frac{|V_{OS}|}{R C}\\,t=V_{sat}\\;\\;\\Rightarrow\\;\\; t=\\frac{R C\\,V_{sat}}{|V_{OS}|}.\n$$\nSubstitute the given values $R=100 \\text{ k}\\Omega=100\\times 10^{3}\\,\\Omega$, $C=10.0\\,\\mu\\text{F}=10.0\\times 10^{-6}\\,\\text{F}$, $V_{OS}=2.50 \\times 10^{-3}\\,\\text{V}$, and $V_{sat}=12.0\\,\\text{V}$. First compute\n$$\nR C=(100\\times 10^{3})(10.0\\times 10^{-6})=\\;1.00\\;\\text{s},\n$$\nhence\n$$\nt=\\frac{(1.00\\;\\text{s})\\,(12.0)}{2.50\\times 10^{-3}}=4.80\\times 10^{3}\\;\\text{s}.\n$$\nRounded to three significant figures, the time is $4.80 \\times 10^{3}$ seconds.", "answer": "$$\\boxed{4.80 \\times 10^{3}}$$", "id": "1311458"}, {"introduction": "In modern mixed-signal systems, engineers often use digital techniques to actively compensate for analog imperfections like input offset voltage. This advanced problem puts you in the role of a system designer creating a digital offset-nulling loop for a programmable gain amplifier (PGA) [@problem_id:1311452]. You will perform a worst-case analysis to determine the minimum required resolution for a Digital-to-Analog Converter (DAC) to ensure the residual offset error meets strict specifications across all of the amplifier's gain settings, reflecting a realistic, high-level design challenge.", "problem": "A precision data acquisition system uses a Programmable Gain Amplifier (PGA) to condition an input signal. The PGA has a set of selectable power-of-two gains, $G$, from the set $\\{1, 2, 4, 8, 16, 32\\}$. The amplifier itself has an intrinsic input-referred offset voltage, $V_{OS,int}$, which is known to have a worst-case magnitude of $|V_{OS,int}|_{max} = 15 \\text{ mV}$ across all operating conditions and gain settings.\n\nTo counteract this offset, a digital offset-nulling feedback loop is implemented. This loop uses a $B$-bit bipolar Digital-to-Analog Converter (DAC) to generate a correction voltage, $V_{corr}$. The output of the DAC can span the symmetric range from $-V_{\\text{ref}}$ to $+V_{\\text{ref}}$, and this correction voltage is effectively subtracted from the signal path at the PGA's input.\n\nThe PGA design incorporates a power-saving feature where the amplifier's supply voltage, $\\pm V_{DD}$, is dynamically adjusted based on the selected gain $G$. The DAC's reference voltage, $V_{\\text{ref}}$, is directly tied to this supply, such that $V_{\\text{ref}}(G) = V_{DD}(G)$. The relationship is given by the formula $V_{DD}(G) = V_{base} + k \\cdot G$, where $V_{base} = 1.0 \\text{ V}$ and $k = 0.1 \\text{ V}$.\n\nFor the system to function correctly, two conditions must be met for all possible gain settings:\n1. The DAC's output range must be sufficient to cancel the maximum possible intrinsic offset voltage.\n2. The worst-case residual input-referred offset, which arises from the finite resolution of the DAC, must be strictly less than $V_{res,spec} = 50 \\text{ \\mu V}$.\n\nDetermine the minimum integer number of bits, $B$, required for the DAC to satisfy both conditions across the entire range of PGA gain settings.", "solution": "The DAC must cancel an input-referred offset $V_{OS,int}$ with worst-case magnitude $|V_{OS,int}|_{max} = 15 \\times 10^{-3} \\text{ V}$ and leave a worst-case residual strictly less than $V_{res,spec} = 50 \\times 10^{-6} \\text{ V}$ for all $G \\in \\{1,2,4,8,16,32\\}$. The DAC reference tracks the gain via $V_{\\text{ref}}(G) = V_{DD}(G) = V_{base} + k G$, with $V_{base} = 1.0 \\text{ V}$ and $k = 0.1 \\text{ V}$.\n\nFirst, ensure the DAC range can cover the worst-case offset for all $G$. The smallest reference occurs at $G_{min} = 1$, so\n$$\nV_{\\text{ref},min} = V_{base} + k G_{min} = 1.0 + 0.1 \\cdot 1 = 1.1 \\text{ V}.\n$$\nSince $V_{\\text{ref},min} = 1.1 \\text{ V} \\gg 15 \\times 10^{-3} \\text{ V}$, the condition $V_{\\text{ref}}(G) \\ge |V_{OS,int}|_{max}$ is satisfied for all $G$.\n\nSecond, bound the residual error from quantization. For a $B$-bit bipolar DAC spanning $[-V_{\\text{ref}}(G), +V_{\\text{ref}}(G)]$, the full-scale range is $2 V_{\\text{ref}}(G)$, so the LSB is\n$$\n\\text{LSB}(G) = \\frac{2 V_{\\text{ref}}(G)}{2^{B}}.\n$$\nWith nearest-code selection, the worst-case residual is at most half an LSB:\n$$\nV_{res}(G) \\le \\frac{\\text{LSB}(G)}{2} = \\frac{V_{\\text{ref}}(G)}{2^{B}}.\n$$\nRequiring $V_{res}(G) < V_{res,spec}$ for all $G$ leads to\n$$\n\\frac{V_{\\text{ref}}(G)}{2^{B}} < V_{res,spec} \\quad \\text{for all } G.\n$$\nSince $V_{\\text{ref}}(G)$ increases with $G$, the worst case is at $G_{max} = 32$:\n$$\nV_{\\text{ref},max} = V_{base} + k G_{max} = 1.0 + 0.1 \\cdot 32 = 4.2 \\text{ V}.\n$$\nThus,\n$$\n\\frac{4.2}{2^{B}} < 50 \\times 10^{-6} \\quad \\Longrightarrow \\quad 2^{B} > \\frac{4.2}{50 \\times 10^{-6}} = 8.4 \\times 10^{4}.\n$$\nEvaluating powers of two, $2^{16} = 65536 < 8.4 \\times 10^{4}$ and $2^{17} = 131072 > 8.4 \\times 10^{4}$. Therefore, the minimum integer $B$ that satisfies the inequality is $B = 17$.\n\nThis choice also satisfies the range condition already verified above, so $B = 17$ meets both requirements across all gain settings.", "answer": "$$\\boxed{17}$$", "id": "1311452"}]}