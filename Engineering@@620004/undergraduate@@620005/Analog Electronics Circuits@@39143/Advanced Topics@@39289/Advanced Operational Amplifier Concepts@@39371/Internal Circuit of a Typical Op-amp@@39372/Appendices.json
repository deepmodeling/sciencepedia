{"hands_on_practices": [{"introduction": "The heart of a typical operational amplifier is its input stage, which is almost always a differential amplifier. Before we can understand how this stage amplifies time-varying signals, we must first determine its DC operating point, or quiescent state. This foundational exercise [@problem_id:1312243] walks you through calculating the quiescent collector current in the input transistors, a critical parameter that serves as the basis for all subsequent small-signal analysis and performance predictions.", "problem": "An electronics engineer is analyzing the input stage of a simplified model for an operational amplifier (op-amp). This stage consists of two identical Bipolar Junction Transistors (BJTs), $Q_1$ and $Q_2$, configured as a differential pair. The emitters of both transistors are connected together and then to a constant current source that sinks a total current, known as the tail current, $I_{EE}$. For this particular design, the tail current source is set to provide a constant current of $I_{EE} = 25.0\\,\\mu\\text{A}$. The circuit is in a quiescent state, meaning there is no input signal applied to the bases of the transistors, and their base terminals are held at the same DC potential. Assuming the transistors are perfectly matched and are operating in the active region, calculate the quiescent collector current, $I_C$, flowing through one of the transistors, say $Q_1$.\n\nExpress your answer in microamperes ($\\mu\\text{A}$), rounded to three significant figures.", "solution": "In a BJT differential pair with matched transistors operating in the active region and with both bases at the same potential (quiescent, zero differential input), the base-emitter voltages are equal, so by the exponential collector current relation for BJTs, $I_{C1}=I_{C2}$. The tail current source enforces that the sum of the emitter currents equals the tail current:\n$$I_{E1}+I_{E2}=I_{EE}.$$\nUnder the standard simplified assumption for op-amp input stages that the transistor current gain is large, the base currents are negligible and each emitter current is approximately equal to its corresponding collector current, so\n$$I_{C1}+I_{C2}\\approx I_{EE}.$$\nWith $I_{C1}=I_{C2}$ by symmetry, each collector current is\n$$I_{C}=\\frac{I_{EE}}{2}.$$\nSubstituting the given tail current $I_{EE}=25.0\\,\\mu\\text{A}$,\n$$I_{C}=\\frac{25.0}{2}\\,\\mu\\text{A}=12.5\\,\\mu\\text{A},$$\nwhich to three significant figures is $12.5$ in microamperes.", "answer": "$$\\boxed{12.5}$$", "id": "1312243"}, {"introduction": "Once the DC bias conditions of the input stage are established, the next step is to characterize its small-signal behavior. The transconductance, $g_m$, is arguably the most important small-signal parameter of a transistor, as it quantifies how effectively an input voltage is converted into an output current, forming the basis of amplification. This practice [@problem_id:1312241] builds directly on the concept of bias current to calculate the transconductance, providing a direct link between the DC design and the AC gain potential of the op-amp's input stage.", "problem": "An electronics engineer is analyzing the input stage of a simplified, legacy-style general-purpose operational amplifier. The input stage consists of a differential pair made from two identical Bipolar Junction Transistors (BJTs). This differential pair is biased by an ideal constant current source, known as a tail current source, which provides a total current of $I_{TAIL} = 19.2\\,\\mu\\text{A}$. The amplifier operates with dual power supplies of $V_{CC} = +15\\,\\text{V}$ and $V_{EE} = -15\\,\\text{V}$ at an ambient temperature of $T = 300\\,\\text{K}$.\n\nFor the purpose of small-signal analysis, it is assumed that with zero differential input voltage, the tail current $I_{TAIL}$ is split perfectly and equally between the collector currents of the two transistors in the pair.\n\nUsing the physical constants provided below, calculate the small-signal transconductance, $g_m$, for one of these input transistors under these bias conditions.\n\n- Boltzmann constant, $k_B = 1.38 \\times 10^{-23} \\text{ J/K}$\n- Elementary charge, $e = 1.60 \\times 10^{-19} \\text{ C}$\n\nExpress your answer in amperes per volt (A/V). Round your final answer to three significant figures.", "solution": "For a BJT in forward active region, the small-signal transconductance is defined by\n$$\ng_{m}=\\frac{\\partial I_{C}}{\\partial V_{BE}}=\\frac{I_{C}}{V_{T}},\n$$\nwhere the thermal voltage is\n$$\nV_{T}=\\frac{k_{B}T}{e}.\n$$\nWith a perfectly symmetric differential pair at zero differential input, the collector current of each transistor is half of the tail current, so\n$$\nI_{C}=\\frac{I_{TAIL}}{2}.\n$$\nTherefore,\n$$\ng_{m}=\\frac{I_{C}}{V_{T}}=\\frac{\\frac{I_{TAIL}}{2}}{\\frac{k_{B}T}{e}}=\\frac{e\\,I_{TAIL}}{2k_{B}T}.\n$$\nSubstitute the given numerical values, using $I_{TAIL}=19.2\\times 10^{-6}\\,\\text{A}$, $T=300\\,\\text{K}$, $k_{B}=1.38\\times 10^{-23}\\,\\text{J/K}$, and $e=1.60\\times 10^{-19}\\,\\text{C}$:\n$$\nV_{T}=\\frac{k_{B}T}{e}=\\frac{(1.38\\times 10^{-23})(300)}{1.60\\times 10^{-19}}=2.5875\\times 10^{-2}\\,\\text{V},\n$$\n$$\nI_{C}=\\frac{19.2\\times 10^{-6}}{2}=9.6\\times 10^{-6}\\,\\text{A},\n$$\n$$\ng_{m}=\\frac{9.6\\times 10^{-6}}{2.5875\\times 10^{-2}}=3.7101449\\times 10^{-4}\\,\\text{A/V}.\n$$\nRounding to three significant figures gives\n$$\ng_{m}=3.71\\times 10^{-4}\\,\\text{A/V}.\n$$\nThe supply voltages do not enter this calculation under the given assumptions, because $g_{m}$ depends only on the bias current and temperature.", "answer": "$$\\boxed{3.71 \\times 10^{-4}}$$", "id": "1312241"}, {"introduction": "To achieve the very high voltage gain characteristic of op-amps, designers replace simple resistive loads with a current-mirror active load. While this strategy dramatically increases gain, the performance is ultimately limited by real-world transistor non-idealities. This problem [@problem_id:1312233] explores how the finite output resistance of transistors, modeled by the Early effect, impacts the total gain of the input stage. By comparing an ideal active load to a more realistic one, you will develop a quantitative understanding of how device physics places a fundamental ceiling on amplifier performance.", "problem": "An analog circuit designer is analyzing the first stage of a two-stage operational amplifier to understand the impact of simplifying assumptions on performance predictions. This stage is a differential amplifier consisting of two identical NMOS input transistors (Q1 and Q2) and a PMOS current-mirror active load (Q3 and Q4). The output of the stage is taken from the node connecting the drains of Q2 and Q4.\n\nFor the analysis, assume that all four transistors are biased such that the magnitude of their drain current is identical, denoted as $|I_D|$. The transconductance of the NMOS input transistors is $g_m$. The channel-length modulation effect is modeled using the Early voltage. The Early voltage for the NMOS transistors is $V_{AN} = 35\\,\\text{V}$, and for the PMOS transistors, it is $V_{AP} = 45\\,\\text{V}$. For all calculations, you may use the standard small-signal approximation for the output resistance, $r_o \\approx |V_A| / |I_D|$, where $V_A$ is the corresponding Early voltage.\n\nThe designer wishes to quantify the effect of idealizing the active load. Calculate the ratio of the actual DC voltage gain of this differential stage to the gain that would be calculated if the Early voltage of the PMOS active load transistors were assumed to be infinite. Express your answer as a decimal rounded to three significant figures.", "solution": "The small-signal voltage gain magnitude of a single-ended differential stage can be written as the product of the effective transconductance from the differential input to the output current and the small-signal resistance seen at the output node:\n$$\nA_{v} = G_{m,\\text{eff}} \\, R_{\\text{out}}.\n$$\nIn this topology with a PMOS current-mirror active load, under the given assumptions, the only nonideality to be considered in the active load is the finite output resistance due to the Early effect. The PMOS transconductance is not specified and is not needed for the ratio requested. Therefore, the effective transconductance factor $G_{m,\\text{eff}}$ is the same in both the actual and the idealized cases, and it cancels in the ratio of gains. Hence, the ratio of the actual gain to the idealized gain equals the ratio of the corresponding output resistances:\n$$\n\\frac{A_{v,\\text{actual}}}{A_{v,\\text{ideal}}} = \\frac{R_{\\text{out, actual}}}{R_{\\text{out, ideal}}}.\n$$\n\nAt the output node (drain of $Q_{2}$ and $Q_{4}$), the small-signal resistance to AC ground is the parallel combination of the NMOS output resistance $r_{oN}$ and the PMOS output resistance $r_{oP}$:\n$$\nR_{\\text{out, actual}} = r_{oN} \\parallel r_{oP} = \\frac{r_{oN} r_{oP}}{r_{oN} + r_{oP}}.\n$$\nIf the PMOS Early voltage is assumed infinite, then $r_{oP} \\to \\infty$, so\n$$\nR_{\\text{out, ideal}} = r_{oN}.\n$$\nTherefore,\n$$\n\\frac{A_{v,\\text{actual}}}{A_{v,\\text{ideal}}} = \\frac{r_{oN} \\parallel r_{oP}}{r_{oN}} = \\frac{r_{oP}}{r_{oN} + r_{oP}} = \\frac{1}{1 + \\frac{r_{oN}}{r_{oP}}}.\n$$\n\nUsing the small-signal approximation for output resistance $r_{o} \\approx \\frac{|V_{A}|}{|I_{D}|}$ for each device,\n$$\nr_{oN} = \\frac{V_{AN}}{|I_{D}|}, \\quad r_{oP} = \\frac{V_{AP}}{|I_{D}|}.\n$$\nSubstituting into the ratio,\n$$\n\\frac{A_{v,\\text{actual}}}{A_{v,\\text{ideal}}} = \\frac{\\frac{V_{AP}}{|I_{D}|}}{\\frac{V_{AN}}{|I_{D}|} + \\frac{V_{AP}}{|I_{D}|}} = \\frac{V_{AP}}{V_{AN} + V_{AP}}.\n$$\nWith $V_{AN} = 35$ and $V_{AP} = 45$,\n$$\n\\frac{A_{v,\\text{actual}}}{A_{v,\\text{ideal}}} = \\frac{45}{35 + 45} = \\frac{45}{80} = 0.5625 \\approx 0.563 \\text{ (to three significant figures)}.\n$$", "answer": "$$\\boxed{0.563}$$", "id": "1312233"}]}