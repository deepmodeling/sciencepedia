{"hands_on_practices": [{"introduction": "Our exploration of the Wien bridge oscillator begins with a fundamental troubleshooting scenario. This practice explores the most essential requirement for oscillation, the Barkhausen criterion, by analyzing a circuit that fails to start. By understanding why oscillations do not begin, you will learn to calculate the minimum amplifier gain required to overcome the feedback network's attenuation, a critical first step in any successful oscillator design [@problem_id:1344899].", "problem": "An electronics student is tasked with building a sinusoidal signal source using a Wien bridge oscillator. The circuit is constructed with an ideal operational amplifier (op-amp) in a non-inverting configuration. The frequency-selective part of the bridge, which provides positive feedback to the non-inverting input of the op-amp, is made from two identical resistors, each with resistance $R = 12.0 \\, \\text{k}\\Omega$, and two identical capacitors, each with capacitance $C = 15.0 \\, \\text{nF}$. The gain of the op-amp is set by a negative feedback network consisting of a resistor $R_i$ from the inverting input to ground, and a feedback resistor $R_f$ between the op-amp's output and its inverting input. The student chooses $R_i = 10.0 \\, \\text{k}\\Omega$ and $R_f = 18.0 \\, \\text{k}\\Omega$.\n\nAfter assembling the circuit and applying power, the student observes that the output remains at a steady DC voltage and fails to produce the expected sinusoidal oscillation. Assuming the op-amp is functioning correctly and all connections are sound, which of the following statements provides the most accurate explanation for the circuit's failure to oscillate?\n\nA. The gain of the non-inverting amplifier is too high.\n\nB. The gain of the non-inverting amplifier is too low.\n\nC. The values of R and C are mismatched, preventing a zero-phase-shift condition.\n\nD. The phase shift provided by the op-amp's negative feedback network is incorrect.\n\nE. The total resistance in the positive feedback path is too high.", "solution": "We apply the Barkhausen conditions for oscillation: at the oscillation frequency, the loop phase shift must be zero and the loop gain magnitude must be unity. Denote the op-amp closed-loop gain as $A$ (non-inverting configuration) and the bridge feedback factor as $\\beta(s)$ from output to the non-inverting input.\n\nFor the Wien bridge network with equal elements $R$ and $C$, the frequency-selective positive-feedback path consists of a series branch $Z_{s}$ and a parallel branch $Z_{p}$:\n- Series branch impedance: $Z_{s} = R + \\frac{1}{s C} = \\frac{1 + s R C}{s C}$.\n- Parallel branch impedance: $Z_{p} = \\left(\\frac{1}{R} + s C\\right)^{-1} = \\frac{R}{1 + s R C}$.\n\nThe feedback factor is the voltage divider from the output to the node:\n$$\n\\beta(s) = \\frac{Z_{p}}{Z_{s} + Z_{p}} = \\frac{\\frac{R}{1 + s R C}}{\\frac{1 + s R C}{s C} + \\frac{R}{1 + s R C}} = \\frac{s R C}{(1 + s R C)^{2} + s R C}.\n$$\nExpanding the denominator,\n$$\n\\beta(s) = \\frac{s R C}{1 + 3 s R C + s^{2} R^{2} C^{2}}.\n$$\nSetting $s = j \\omega$,\n$$\n\\beta(j \\omega) = \\frac{j \\omega R C}{1 + 3 j \\omega R C - \\omega^{2} R^{2} C^{2}}.\n$$\nAt $\\omega_{0}$ such that the phase is zero, the denominator must be purely imaginary to cancel the $j$ in the numerator. This occurs when\n$$\n1 - \\omega_{0}^{2} R^{2} C^{2} = 0 \\quad \\Longrightarrow \\quad \\omega_{0} = \\frac{1}{R C}.\n$$\nEvaluating at $\\omega_{0}$ gives\n$$\n\\beta(j \\omega_{0}) = \\frac{j}{3 j} = \\frac{1}{3},\n$$\nwhich is real and positive, satisfying the zero-phase-shift condition. Thus, at $\\omega_{0} = \\frac{1}{R C}$, the magnitude of the positive-feedback factor is $|\\beta| = \\frac{1}{3}$.\n\nThe non-inverting amplifier closed-loop gain is\n$$\nA = 1 + \\frac{R_{f}}{R_{i}}.\n$$\nThe Barkhausen magnitude condition requires\n$$\n|A \\beta| = 1 \\quad \\Longrightarrow \\quad A = 3 \\quad \\text{at} \\quad \\omega_{0}.\n$$\nWith the chosen resistors,\n$$\nA = 1 + \\frac{R_{f}}{R_{i}} = 1 + \\frac{18 \\times 10^{3}}{10 \\times 10^{3}} = 1 + \\frac{18}{10} = 1 + \\frac{9}{5} = \\frac{14}{5},\n$$\nso the loop gain at $\\omega_{0}$ is\n$$\nA \\beta = \\frac{14}{5} \\cdot \\frac{1}{3} = \\frac{14}{15} < 1.\n$$\nSince the loop gain magnitude is less than unity at the zero-phase-shift frequency, the oscillations cannot build up, and the circuit settles to a DC operating point rather than sustaining a sinusoid.\n\nTherefore, the most accurate explanation is that the non-inverting amplifier gain is too low to meet the Barkhausen magnitude condition at the Wien bridge frequency. The other options are inconsistent with the analysis: the component values are matched so the zero-phase-shift condition is achievable; the negative feedback path is purely resistive and does not introduce phase shift in an ideal op-amp; and the absolute magnitudes of $R$ and $C$ do not affect the required gain $\\left(\\beta = \\frac{1}{3}\\right)$, only the frequency.", "answer": "$$\\boxed{B}$$", "id": "1344899"}, {"introduction": "Building on the core oscillation principle, this exercise moves beyond the standard symmetrical configuration where the amplifier gain must be 3. We will investigate how changing the component ratios in the frequency-selective network alters the conditions for oscillation. This practice challenges you to derive the required gain from first principles, providing a deeper understanding of how the amplifier and feedback network are intrinsically linked in a generalized Wien bridge design [@problem_id:1344855].", "problem": "An engineer is designing a sinusoidal signal generator using a Wien bridge oscillator. The oscillator is constructed around an ideal non-inverting operational amplifier, which provides a constant, frequency-independent positive gain of $A$. The positive feedback loop, which determines the oscillation frequency, consists of a specific Wien bridge network. This network is composed of a series resistor-capacitor ($R_1, C_1$) combination connected from the amplifier's output to its non-inverting input, and a parallel resistor-capacitor ($R_2, C_2$) combination connected from the non-inverting input to ground.\n\nFor this particular design, the components are chosen such that the two capacitors are identical, $C_1 = C_2 = C$, and one resistor is twice the value of the other, specifically $R_1 = 2R_2$. To initiate and sustain stable sinusoidal oscillations, the total loop gain must satisfy the Barkhausen criterion.\n\nDetermine the minimum required gain $A$ of the non-inverting amplifier for this specific component configuration. Provide your answer as a decimal value rounded to three significant figures.", "solution": "Let the op-amp output be $v_{o}$ and the non-inverting input node be $v_{+}$. The Wien network between $v_{o}$ and ground consists of a series branch $(R_{1},C_{1})$ from $v_{o}$ to $v_{+}$ and a parallel branch $(R_{2}\\parallel C_{2})$ from $v_{+}$ to ground. Its transfer (feedback) function is\n$$\n\\beta(s) \\equiv \\frac{v_{+}}{v_{o}}=\\frac{Z_{p}}{Z_{s}+Z_{p}},\n$$\nwhere\n$$\nZ_{s}=R_{1}+\\frac{1}{s C_{1}}, \\qquad Z_{p}=\\frac{1}{\\frac{1}{R_{2}}+s C_{2}}=\\frac{R_{2}}{1+s R_{2} C_{2}}.\n$$\nWith $C_{1}=C_{2}=C$ and $R_{1}=k R_{2}$, define $R_{2}=R$ so $R_{1}=kR$. Then\n$$\n\\beta(s)=\\frac{\\dfrac{R}{1+s R C}}{kR+\\dfrac{1}{s C}+\\dfrac{R}{1+s R C}}.\n$$\nMultiplying numerator and denominator by $(1+s R C)s C$ gives\n$$\n\\beta(s)=\\frac{R s C}{1+(k+2) R C s+k R^{2} C^{2} s^{2}}.\n$$\nSet $s=j\\omega$:\n$$\n\\beta(j\\omega)=\\frac{j R C \\omega}{\\left[1-k R^{2} C^{2} \\omega^{2}\\right]+j (k+2) R C \\omega}.\n$$\nFor zero phase shift in the loop (Barkhausen phase condition), the denominator of $\\beta(j\\omega)$ must be purely imaginary, so its real part must vanish:\n$$\n1-k R^{2} C^{2} \\omega^{2}=0 \\;\\;\\Rightarrow\\;\\; \\omega_{0}=\\frac{1}{R C \\sqrt{k}}.\n$$\nAt $\\omega=\\omega_{0}$,\n$$\n\\beta(j\\omega_{0})=\\frac{j R C \\omega_{0}}{j (k+2) R C \\omega_{0}}=\\frac{1}{k+2}.\n$$\nThe Barkhausen magnitude condition requires $|A\\,\\beta(j\\omega_{0})|=1$, hence\n$$\nA_{\\min}=\\frac{1}{|\\beta(j\\omega_{0})|}=k+2.\n$$\nFor the given configuration $R_{1}=2 R_{2}$, we have $k=2$, therefore\n$$\nA_{\\min}=2+2=4.\n$$\nRounded to three significant figures, the required minimum gain is $4.00$.", "answer": "$$\\boxed{4.00}$$", "id": "1344855"}, {"introduction": "Even a correctly designed oscillator that meets the gain and phase criteria has performance limits imposed by its active components. This final practice investigates a crucial real-world constraint: the op-amp's slew rate. You will calculate the maximum operating frequency for a desired output voltage, revealing how a physical characteristic of the amplifier can lead to signal distortion and limit the circuit's high-frequency performance [@problem_id:1344863].", "problem": "An electronics engineering student is designing a variable frequency sine wave generator for an audio project. The core of the generator is a Wien bridge oscillator circuit, which is built around an operational amplifier (op-amp). The chosen op-amp has a specified slew rate of $SR = 0.500 \\text{ V}/\\mu\\text{s}$. The student requires the generator to produce a stable sinusoidal output with a peak amplitude of $V_p = 5.00 \\text{ V}$. Beyond a certain frequency, the op-amp's finite slew rate will distort the sinusoidal output, a phenomenon known as slew-induced distortion. Calculate the maximum frequency at which the oscillator can operate to produce an undistorted sine wave with the desired peak amplitude.\n\nExpress your final answer in kilohertz (kHz), rounded to three significant figures.", "solution": "For a sinusoidal output $v(t)=V_{p}\\sin(2\\pi f t)$, the time derivative is\n$$\n\\frac{dv}{dt}=2\\pi f V_{p}\\cos(2\\pi f t).\n$$\nThe maximum magnitude of the slope is\n$$\n\\left|\\frac{dv}{dt}\\right|_{\\max}=2\\pi f V_{p}.\n$$\nTo avoid slew-induced distortion, the required condition is\n$$\nSR\\geq 2\\pi f V_{p}\\quad\\Rightarrow\\quad f_{\\max}=\\frac{SR}{2\\pi V_{p}}.\n$$\nSubstitute the given values, converting the slew rate to $\\text{V}/\\text{s}$:\n$$\nSR=0.500\\ \\text{V}/\\mu\\text{s}=0.500\\times 10^{6}\\ \\text{V}/\\text{s},\\qquad V_{p}=5.00\\ \\text{V}.\n$$\nThus,\n$$\nf_{\\max}=\\frac{0.500\\times 10^{6}}{2\\pi\\cdot 5.00}\\ \\text{s}^{-1}=\\frac{0.500\\times 10^{6}}{10\\pi}\\ \\text{Hz}\\approx 1.5915\\times 10^{4}\\ \\text{Hz}=15.9\\ \\text{kHz}.\n$$\nRounded to three significant figures in kilohertz, the result is $15.9$.", "answer": "$$\\boxed{15.9}$$", "id": "1344863"}]}