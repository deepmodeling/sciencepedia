{"hands_on_practices": [{"introduction": "Mastering the Sallen-Key topology begins with learning how to analyze a given circuit's characteristics. This first practice exercise focuses on the most fundamental parameter of a second-order filter: its natural frequency, $f_0$. By working through this calculation, you will see directly how the resistor and capacitor values combine to determine the filter's primary point of operation, a crucial skill for both analysis and design. [@problem_id:1329868]", "problem": "An engineer is designing a second-order active Low-Pass Filter (LPF) for an audio application using an ideal operational amplifier (op-amp). The op-amp is configured as a unity-gain voltage follower, meaning its output terminal is connected directly to its inverting input terminal.\n\nThe filter's topology is described as follows:\n- The input voltage signal, $V_{in}$, is applied to one end of a resistor $R_1$. The other end of $R_1$ is connected to a point designated as node A.\n- From node A, a second resistor $R_2$ is connected to the non-inverting input terminal of the op-amp.\n- A capacitor $C_1$ is connected from the non-inverting input terminal to ground.\n- A feedback capacitor $C_2$ is connected between node A and the output terminal of the op-amp.\n\nThe component values used in the circuit are:\n- $R_1 = 10.0 \\text{ k}\\Omega$\n- $R_2 = 22.0 \\text{ k}\\Omega$\n- $C_1 = 4.70 \\text{ nF}$\n- $C_2 = 1.00 \\text{ nF}$\n\nCalculate the undamped natural frequency, $f_0$, of this filter. Express your final answer in kilohertz (kHz), rounded to three significant figures.", "solution": "The transfer function $H(s) = V_{out}/V_{in}$ for any second-order low-pass filter can be written with a denominator of the form $1 + a_1 s + a_2 s^2$. The natural angular frequency is given by $\\omega_0 = 1/\\sqrt{a_2}$. We will find the transfer function for the specified topology to identify this term.\n\nLet $V_A$ be the voltage at node A and $V_B$ be the voltage at the non-inverting input. For a unity-gain follower, the output voltage is $V_{out} = V_B$.\nApplying Kirchhoff's Current Law (KCL) at the non-inverting input (node B), and noting no current flows into the ideal op-amp input:\n$$ \\frac{V_B - V_A}{R_2} + sC_1 V_B = 0 \\quad \\Rightarrow \\quad V_A = V_B (1 + sR_2 C_1) $$\nApplying KCL at node A:\n$$ \\frac{V_A - V_{in}}{R_1} + \\frac{V_A - V_B}{R_2} + sC_2 (V_A - V_{out}) = 0 $$\nSince $V_{out} = V_B$, we can substitute this and the expression for $V_A$ to solve for the transfer function $H(s) = V_B / V_{in}$:\n$$ \\frac{V_B (1 + sR_2 C_1) - V_{in}}{R_1} + \\frac{V_B (1 + sR_2 C_1) - V_B}{R_2} + sC_2 (V_B (1 + sR_2 C_1) - V_B) = 0 $$\nMultiplying through by $R_1 R_2$ and grouping terms for $V_B$ and $V_{in}$ yields:\n$$ V_B \\left( R_2(1+sR_2C_1) + R_1(sR_2C_1) + s^2 R_1 R_2 C_1 C_2 \\right) = R_2 V_{in} $$\nThis simplifies to the transfer function:\n$$ H(s) = \\frac{V_B}{V_{in}} = \\frac{1}{1 + s(R_1+R_2)C_1 + s^2 R_1 R_2 C_1 C_2} $$\nBy comparing the denominator to the canonical form $s^2/\\omega_0^2 + s/(Q\\omega_0) + 1$, we can identify the term corresponding to $\\omega_0^2$:\n$$ \\omega_0^2 = \\frac{1}{R_1 R_2 C_1 C_2} $$\nThe undamped natural frequency $f_0 = \\omega_0 / (2\\pi)$ is therefore:\n$$ f_0 = \\frac{1}{2\\pi \\sqrt{R_1 R_2 C_1 C_2}} $$\nNow, we substitute the component values:\n- $R_1 = 10.0 \\times 10^3 \\, \\Omega$\n- $R_2 = 22.0 \\times 10^3 \\, \\Omega$\n- $C_1 = 4.70 \\times 10^{-9} \\, \\text{F}$\n- $C_2 = 1.00 \\times 10^{-9} \\, \\text{F}$\n$$ f_0 = \\frac{1}{2\\pi \\sqrt{(10.0 \\times 10^3)(22.0 \\times 10^3)(4.70 \\times 10^{-9})(1.00 \\times 10^{-9})}} $$\n$$ f_0 = \\frac{1}{2\\pi \\sqrt{1.034 \\times 10^{-9}}} $$\n$$ f_0 \\approx \\frac{1}{2\\pi (3.2156 \\times 10^{-5})} \\approx 4949.6 \\text{ Hz} $$\nExpressed in kilohertz and rounded to three significant figures:\n$$ f_0 \\approx 4.95 \\text{ kHz} $$", "answer": "$$\\boxed{4.95}$$", "id": "1329868"}, {"introduction": "While theoretical analysis is key, real-world engineering is about making smart choices with available components. This exercise shifts the focus from analysis to practical design, challenging you to select standard resistor values to approximate a target cutoff frequency. This practice bridges the gap between calculation and implementation, a common task in circuit design where ideal values must be reconciled with physical inventory. [@problem_id:1329867]", "problem": "An audio engineer is designing a reconstruction filter for the output of a Digital-to-Analog Converter (DAC). The filter's purpose is to smooth the \"stair-step\" output of the DAC, removing high-frequency artifacts. A second-order, unity-gain Sallen-Key low-pass filter topology has been chosen for this task. The design requires a target cutoff frequency of $f_c = 1.5 \\text{ kHz}$.\n\nThe engineer has a stock of high-precision capacitors and will use two identical capacitors, $C_1 = C_2 = C = 10.0 \\text{ nF}$. For simplicity and to achieve a specific filter response, the two resistors in the filter are also chosen to be identical, $R_1 = R_2 = R$.\n\nThe engineer must select a resistor value from a standard E12 series inventory. The available resistance values (in k$\\Omega$) in the relevant range are: {4.7, 5.6, 6.8, 8.2, 10, 12, 15, 18, 22}.\n\nFirst, calculate the ideal resistance $R$ that would perfectly achieve the target cutoff frequency. Then, select the available standard resistor value from the provided list that is closest to this ideal value. Using this selected standard resistor for both $R_1$ and $R_2$, calculate the new, actual cutoff frequency of the filter.\n\nExpress your final answer for the actual cutoff frequency in Hz, rounded to three significant figures.", "solution": "For a second-order, unity-gain Sallen-Key low-pass filter, the natural frequency ($f_0$) is given by:\n$$\nf_0=\\frac{1}{2\\pi\\sqrt{R_1 R_2 C_1 C_2}}\n$$\nWith identical components, $R_1=R_2=R$ and $C_1=C_2=C$, this simplifies to:\n$$\nf_0=\\frac{1}{2\\pi R C}\n$$\nFor this type of introductory problem, it is a common and acceptable simplification to treat the target cutoff frequency $f_c$ as being equal to the natural frequency $f_0$. The ideal resistance required to achieve the target $f_c$ is therefore:\n$$\nR_{\\text{ideal}}=\\frac{1}{2\\pi f_c C}\n$$\nSubstituting $f_c=1.5 \\times 10^3 \\text{ Hz}$ and $C=10.0 \\times 10^{-9} \\text{ F}$:\n$$\nR_{\\text{ideal}}=\\frac{1}{2\\pi(1.5\\times 10^{3})(10.0\\times 10^{-9})}=\\frac{1}{3\\pi\\times 10^{-5}}\\ \\Omega \\approx 10610\\ \\Omega\n$$\nSo, $R_{\\text{ideal}}\\approx 10.6\\ \\text{k}\\Omega$. From the available E12 values {4.7, 5.6, 6.8, 8.2, 10, 12, 15, 18, 22} k$\\Omega$, the closest value is $10\\ \\text{k}\\Omega$.\n\nUsing this standard resistor value $R=10\\ \\text{k}\\Omega$ and $C=10.0\\ \\text{nF}$, the actual natural frequency of the filter (which we approximate as the cutoff frequency) is:\n$$\nf_{c,\\text{actual}} = f_0 = \\frac{1}{2\\pi R C}=\\frac{1}{2\\pi(10 \\times 10^3)(10.0\\times 10^{-9})}=\\frac{1}{2\\pi\\times 10^{-4}} \\text{ Hz} \\approx 1591.55\\ \\text{Hz}\n$$\nRounded to three significant figures, this is:\n$$\nf_{c,\\text{actual}}\\approx 1590\\ \\text{Hz} \\quad \\text{or} \\quad 1.59 \\times 10^3 \\text{ Hz}\n$$", "answer": "$$\\boxed{1.59\\times 10^{3}}$$", "id": "1329867"}, {"introduction": "The Sallen-Key topology is not just for filtering; its behavior is deeply tied to the principles of feedback and stability. This advanced problem explores what happens when we adjust the gain of the amplifier within the filter structure, pushing the circuit from stable filtering to sustained oscillation. By determining the critical gain $K$ for this transition, you will gain insight into how filter poles on the complex plane dictate a circuit's time-domain response, a foundational concept in control theory and signal generation. [@problem_id:1329824]", "problem": "An electronics engineer is designing a simple sinusoidal signal generator. The design is based on a Sallen-Key second-order low-pass filter topology which can be induced to oscillate.\n\nThe circuit is constructed as follows:\n1.  An ideal Operational Amplifier (op-amp) is configured to act as a non-inverting voltage amplifier, providing a constant positive gain $K$, such that its output voltage is $K$ times the voltage at its non-inverting input terminal.\n2.  The input voltage source for the filter, $V_{in}$, is connected in series with a resistor $R_1$ to a node designated as A.\n3.  Node A is connected to the non-inverting input of the op-amp through a second resistor, $R_2$.\n4.  A capacitor, $C_2$, is connected from the non-inverting input of the op-amp to ground.\n5.  A feedback path is completed by another capacitor, $C_1$, which is connected from the op-amp's output back to node A.\n\nFor this specific design, a simplified component selection is made where the resistors are equal, $R_1 = R_2 = R$, and the capacitors are also equal, $C_1 = C_2 = C$.\n\nThe engineer needs to determine the precise value of the gain $K$ that will cause the circuit to transition from a stable filter to a stable oscillator, producing a sustained sinusoidal voltage at the output even with a zero or transient input. What is the numerical value of this critical gain $K$?", "solution": "To find the critical gain for sustained oscillations, we analyze the circuit's characteristic equation. This is derived from the denominator of the transfer function, or by analyzing the circuit with the input set to zero ($V_{in}=0$). With $V_{in}=0$, the resistor $R_1=R$ connects node A to ground. Let the node voltages be $V_a$ at node A and $V_b$ at the op-amp non-inverting input. The op-amp output is $V_{out}=K V_b$. The circuit elements are:\n- $R_1=R$ from node A to ground.\n- $R_2=R$ from node A to node B.\n- $C_2=C$ from node B to ground.\n- $C_1=C$ from node A to $V_{out}$.\n\nUse Laplace-domain admittances with $G=1/R$ and $Y_C=sC$. Apply KCL at node A:\n$$\nG V_a + G(V_a - V_b) + sC(V_a - K V_b) = 0\n$$\nwhich simplifies to:\n$$\n(2G + sC) V_a - (G + sCK) V_b = 0\n$$\nApply KCL at node B:\n$$\nG(V_b - V_a) + sC V_b = 0\n$$\nwhich gives:\n$$\n-G V_a + (G + sC) V_b = 0\n$$\nFor a non-trivial solution ($V_a, V_b \\neq 0$), the determinant of the coefficient matrix must be zero:\n$$\n\\begin{vmatrix}\n2G + sC & -(G + sCK) \\\\\n-G & G + sC\n\\end{vmatrix}\n= 0\n$$\nComputing the determinant:\n$$\n(2G + sC)(G + sC) - G(G + sCK) = 0\n$$\n$$\n2G^2 + 3sGC + s^2 C^2 - G^2 - sGCK = 0\n$$\nCollecting terms gives the characteristic equation:\n$$\ns^2 C^2 + sGC(3 - K) + G^2 = 0\n$$\nDivide by $C^2$ and define the natural frequency $\\omega_0 = G/C = 1/(RC)$ to obtain:\n$$\ns^2 + s\\omega_0 (3 - K) + \\omega_0^2 = 0\n$$\nSustained sinusoidal oscillation occurs when the system's poles are on the imaginary axis, which means the damping term (the coefficient of $s$) must be zero.\n$$\n\\omega_0 (3 - K) = 0\n$$\nSince $\\omega_0 \\neq 0$, this requires:\n$$\n3 - K = 0 \\quad \\Rightarrow \\quad K = 3\n$$\nAt $K=3$, the characteristic equation becomes $s^2 + \\omega_0^2 = 0$, with roots $s = \\pm j\\omega_0$, indicating sustained oscillations at the natural frequency.", "answer": "$$\\boxed{3}$$", "id": "1329824"}]}