{"hands_on_practices": [{"introduction": "A common task in analog circuit design is to build filters that eliminate unwanted noise. This first exercise places you in the role of a design engineer tasked with suppressing a specific low-frequency interference. By working through this problem [@problem_id:1303548], you will practice a core skill: using the filter's frequency response characteristics to select the precise component values needed to meet a given attenuation target.", "problem": "An engineer is designing an analog front-end to process a signal from a sensor. The raw signal is contaminated by a strong low-frequency noise component at a specific frequency $f_{noise}$. To mitigate this, a first-order active high-pass filter is implemented using an ideal operational amplifier (op-amp) in a non-inverting configuration.\n\nThe filter circuit consists of a capacitor with capacitance $C$ and a resistor with resistance $R$ that together set the filter's frequency response. The op-amp's feedback network is configured to provide a constant passband voltage gain of $A_0$ for high frequencies.\n\nThe primary design specification requires that the magnitude of the filter's voltage gain at the noise frequency $f_{noise}$ be precisely $1\\%$ of the passband gain $A_0$.\n\nGiven the following parameters:\n- Noise frequency, $f_{noise} = 5.00 \\, \\text{Hz}$\n- Capacitance, $C = 2.20 \\, \\mu\\text{F}$\n- Passband gain, $A_0 = 20$\n\nCalculate the required resistance $R$ for the filter. Express your final answer in ohms ($\\Omega$), rounded to three significant figures.", "solution": "The problem asks for the value of a resistor $R$ in a first-order active high-pass filter required to achieve a specific attenuation at a given noise frequency.\n\nFirst, we establish the transfer function $H(s) = V_{out}(s) / V_{in}(s)$ for the described active high-pass filter. The circuit is an op-amp in a non-inverting configuration, where the input signal $V_{in}(s)$ is first passed through a passive RC high-pass network before reaching the non-inverting input terminal ($V_+$). The op-amp then amplifies the voltage at this terminal.\n\nThe voltage at the non-inverting terminal, $V_+(s)$, is determined by a voltage divider formed by the resistor $R$ and the capacitor $C$.\n$$V_+(s) = V_{in}(s) \\frac{R}{R + \\frac{1}{sC}} = V_{in}(s) \\frac{sRC}{1 + sRC}$$\n\nThe op-amp is in a non-inverting configuration, which provides a gain of $A_0$. The output voltage is given by $V_{out}(s) = A_0 V_+(s)$.\n$$V_{out}(s) = A_0 \\left( V_{in}(s) \\frac{sRC}{1 + sRC} \\right)$$\n\nTherefore, the transfer function of the filter is:\n$$H(s) = \\frac{V_{out}(s)}{V_{in}(s)} = A_0 \\frac{sRC}{1 + sRC}$$\n\nTo analyze the filter's behavior with respect to frequency, we evaluate the transfer function in the frequency domain by making the substitution $s = j\\omega$, where $\\omega = 2\\pi f$ is the angular frequency.\n$$H(j\\omega) = A_0 \\frac{j\\omega RC}{1 + j\\omega RC}$$\n\nThe magnitude of this complex transfer function, $|H(j\\omega)|$, gives the voltage gain of the filter at a given angular frequency $\\omega$.\n$$|H(j\\omega)| = \\left| A_0 \\frac{j\\omega RC}{1 + j\\omega RC} \\right| = A_0 \\frac{|j\\omega RC|}{|1 + j\\omega RC|}$$\n$$|H(j\\omega)| = A_0 \\frac{\\omega RC}{\\sqrt{1^2 + (\\omega RC)^2}}$$\nThis expression describes the gain of the filter as a function of frequency. For $\\omega \\to \\infty$, the gain approaches $A_0$, which is the passband gain.\n\nThe problem specifies that the gain magnitude at the noise frequency, $f_{noise}$, must be $1\\%$ (or 0.01) of the passband gain $A_0$. We can write this condition as:\n$$|H(j\\omega_{noise})| = 0.01 \\times A_0$$\nwhere $\\omega_{noise} = 2\\pi f_{noise}$.\n\nSubstituting our expression for the gain magnitude into this condition:\n$$A_0 \\frac{\\omega_{noise} RC}{\\sqrt{1 + (\\omega_{noise} RC)^2}} = 0.01 A_0$$\n\nThe passband gain $A_0$ is present on both sides of the equation and can be canceled out. This shows that the required resistance $R$ is independent of the specific passband gain, making the given value $A_0=20$ a distractor for this part of the calculation.\n$$\\frac{\\omega_{noise} RC}{\\sqrt{1 + (\\omega_{noise} RC)^2}} = 0.01$$\n\nTo solve for $R$, we can first solve for the term $X = \\omega_{noise} RC$.\n$$\\frac{X}{\\sqrt{1 + X^2}} = 0.01$$\n\nSquaring both sides of the equation gives:\n$$\\frac{X^2}{1 + X^2} = (0.01)^2 = 0.0001 = 10^{-4}$$\n$$X^2 = 10^{-4} (1 + X^2)$$\n$$X^2 = 10^{-4} + 10^{-4} X^2$$\n$$X^2 - 10^{-4} X^2 = 10^{-4}$$\n$$X^2 (1 - 10^{-4}) = 10^{-4}$$\n$$X^2 = \\frac{10^{-4}}{0.9999}$$\nSince $X = \\omega_{noise} RC$ must be a positive quantity, we take the positive square root:\n$$X = \\sqrt{\\frac{10^{-4}}{0.9999}} = \\frac{10^{-2}}{\\sqrt{0.9999}} = \\frac{0.01}{\\sqrt{0.9999}}$$\n\nNow, we substitute back $X = \\omega_{noise} RC = 2\\pi f_{noise} RC$:\n$$2\\pi f_{noise} RC = \\frac{0.01}{\\sqrt{0.9999}}$$\n\nWe can now solve for $R$:\n$$R = \\frac{0.01}{2\\pi f_{noise} C \\sqrt{0.9999}}$$\n\nNow we plug in the given numerical values: $f_{noise} = 5.00 \\, \\text{Hz}$ and $C = 2.20 \\, \\mu\\text{F} = 2.20 \\times 10^{-6} \\, \\text{F}$.\n$$R = \\frac{0.01}{2\\pi (5.00) (2.20 \\times 10^{-6}) \\sqrt{0.9999}}$$\nCalculating the denominator:\n$$2\\pi (5.00) (2.20 \\times 10^{-6}) = 6.9115 \\times 10^{-5}$$\n$$\\sqrt{0.9999} \\approx 0.99995$$\n$$R \\approx \\frac{0.01}{(6.9115 \\times 10^{-5}) (0.99995)} = \\frac{0.01}{6.91115 \\times 10^{-5}}$$\n$$R \\approx 144.695 \\, \\Omega$$\n\nThe problem requires the answer to be in ohms, rounded to three significant figures.\n$$R \\approx 145 \\, \\Omega$$", "answer": "$$\\boxed{145}$$", "id": "1303548"}, {"introduction": "While frequency-domain analysis tells us how a filter responds to steady-state sinusoids, it is equally important to understand its behavior in the time domain. This problem explores the filter's transient response to a sudden step input, a common scenario in systems like digital-to-analog converters [@problem_id:1303570]. You will derive the output voltage as a function of time, gaining insight into the crucial role of the time constant, $\\tau = R_{f}C_{f}$, in shaping the signal's transition.", "problem": "In the design of a reconstruction filter for a digital-to-analog converter (DAC), a first-order active low-pass filter is often employed to smooth the staircase output. Consider a simplified model of such a filter constructed using an ideal operational amplifier (op-amp).\n\nThe filter is implemented in an inverting topology. An input signal, $v_{in}(t)$, is connected to the inverting terminal of the op-amp through an input resistor of resistance $R_{in}$. The feedback path, which connects the op-amp's output to its inverting terminal, consists of a feedback resistor of resistance $R_f$ connected in parallel with a feedback capacitor of capacitance $C_f$. The non-inverting terminal of the op-amp is connected to ground.\n\nAt time $t=0$, the input signal experiences a sudden change, modeled as a voltage step of magnitude $V_0$. This means $v_{in}(t) = V_0$ for $t \\ge 0$, and $v_{in}(t) = 0$ for $t < 0$. Assume that for all time $t<0$, the circuit is in a quiescent state and the capacitor is fully discharged.\n\nFind an expression for the output voltage $v_{out}(t)$ for all $t \\ge 0$. Your answer should be a function of time $t$, the input voltage magnitude $V_0$, and the component values $R_{in}$, $R_f$, and $C_f$.", "solution": "For an ideal op-amp in the inverting topology with the non-inverting input grounded, the inverting input is a virtual ground, so $v_{-}=0$ and no current enters the op-amp input. Applying KCL at the inverting node gives\n$$\n\\frac{v_{-}-v_{in}}{R_{in}}+\\frac{v_{-}-v_{out}}{R_{f}}+C_{f}\\frac{d}{dt}\\bigl(v_{-}-v_{out}\\bigr)=0.\n$$\nWith $v_{-}=0$, this becomes\n$$\n-\\frac{v_{in}}{R_{in}}-\\frac{v_{out}}{R_{f}}-C_{f}\\frac{dv_{out}}{dt}=0,\n$$\nor equivalently,\n$$\nC_{f}\\frac{dv_{out}}{dt}+\\frac{1}{R_{f}}v_{out}=-\\frac{1}{R_{in}}v_{in}(t).\n$$\nFor $t \\ge 0$, $v_{in}(t)=V_{0}$, and with the initial condition $v_{out}(0)=0$ (quiescent state and fully discharged capacitor), define $\\tau=R_{f}C_{f}$ to write\n$$\n\\frac{dv_{out}}{dt}+\\frac{1}{\\tau}v_{out}=-\\frac{R_{f}}{R_{in}}\\frac{V_{0}}{\\tau}.\n$$\nThe homogeneous solution is $v_{h}(t)=K\\exp(-t/\\tau)$ and a constant particular solution is $v_{p}(t)=-\\frac{R_{f}}{R_{in}}V_{0}$. The general solution is $v_{out}(t) = v_h(t) + v_p(t)$. Enforcing the initial condition $v_{out}(0)=0$ gives $K - \\frac{R_{f}}{R_{in}}V_{0} = 0$, so $K=\\frac{R_{f}}{R_{in}}V_{0}$. Therefore, for $t \\ge 0$,\n$$\nv_{out}(t)=\\frac{R_{f}}{R_{in}}V_{0}\\exp\\!\\left(-\\frac{t}{R_{f}C_{f}}\\right)-\\frac{R_{f}}{R_{in}}V_{0}\n=-\\frac{R_{f}}{R_{in}}V_{0}\\left(1-\\exp\\!\\left(-\\frac{t}{R_{f}C_{f}}\\right)\\right).\n$$\nThis has the expected DC limit $v_{out}(\\infty)=-\\frac{R_{f}}{R_{in}}V_{0}$ and initial value $v_{out}(0)=0$.", "answer": "$$\\boxed{v_{out}(t) = -\\frac{R_{f}}{R_{in}}V_{0}\\left(1-\\exp\\!\\left(-\\frac{t}{R_{f}C_{f}}\\right)\\right) \\text{ for } t \\ge 0}$$", "id": "1303570"}, {"introduction": "Ideal models provide a strong foundation, but real-world circuits are constrained by the physical limitations of their components. This practice problem focuses on a key non-ideality of operational amplifiers: the slew rate [@problem_id:1303556]. By analyzing a filter subjected to a high-frequency input, you will determine the maximum signal amplitude the circuit can handle before the op-amp's finite slew rate introduces distortion, a critical consideration for high-speed and high-amplitude applications.", "problem": "An analog front-end for a data acquisition system employs an active filter to remove high-frequency noise from a sensor signal before digitization. The filter is a first-order active low-pass filter. The circuit consists of a simple RC low-pass filter stage followed by a non-inverting amplifier stage. The input signal $v_{in}$ is applied to a resistor $R$, which is in series with a capacitor $C$ that is connected to ground. The voltage across the capacitor is then fed into the non-inverting input (+) of an operational amplifier (op-amp). The op-amp is configured as a standard non-inverting amplifier using a feedback resistor $R_F$ and a resistor $R_1$ connected to ground from the inverting input (-).\n\nThe component values are as follows:\n- Resistor $R = 10.0 \\text{ k}\\Omega$\n- Capacitor $C = 1.00 \\text{ nF}$\n- Feedback resistor $R_F = 30.0 \\text{ k}\\Omega$\n- Ground resistor $R_1 = 10.0 \\text{ k}\\Omega$\n\nThe operational amplifier used has a specified slew rate of $SR = 0.500 \\text{ V}/\\mu\\text{s}$. The system is tested with a persistent sinusoidal noise signal at a frequency $f_{in} = 400. \\text{ kHz}$. Determine the maximum amplitude of this input sinusoidal signal before slew-induced distortion appears at the filter's output. Express your answer in Volts, rounded to three significant figures.", "solution": "Let the input be a sinusoid $v_{in}(t)=V_{in}\\sin(\\omega t)$ with $\\omega=2\\pi f_{in}$. The RC low-pass transfer function from $v_{in}$ to the capacitor voltage $v_{C}$ is\n$$\nH_{RC}(j\\omega)=\\frac{v_{C}}{v_{in}}=\\frac{1}{1+j\\omega R C},\\qquad |H_{RC}(j\\omega)|=\\frac{1}{\\sqrt{1+(\\omega R C)^{2}}}.\n$$\nThe non-inverting amplifier has closed-loop gain\n$$\nG=1+\\frac{R_{F}}{R_{1}}.\n$$\nThus the output sinusoid amplitude is\n$$\nV_{out}=G\\,|H_{RC}(j\\omega)|\\,V_{in}.\n$$\nFor a sine wave $v_{out}(t)=V_{out}\\sin(\\omega t+\\phi)$, the maximum slope magnitude is\n$$\n\\left|\\frac{dv_{out}}{dt}\\right|_{\\max}=\\omega V_{out}.\n$$\nSlew-induced distortion begins when this equals the slew rate $SR$, so\n$$\n\\omega\\,G\\,|H_{RC}(j\\omega)|\\,V_{in}=SR.\n$$\nSolving for the maximum undistorted input amplitude,\n$$\nV_{in,\\max}=\\frac{SR}{\\omega G |H_{RC}(j\\omega)|}\n=\\frac{SR}{\\omega G}\\,\\sqrt{1+(\\omega R C)^{2}}.\n$$\n\nNow substitute the given values: $R=10.0\\times 10^{3} \\, \\Omega$, $C=1.00\\times 10^{-9} \\, \\text{F}$, $R_{F}=30.0\\times 10^{3} \\, \\Omega$, $R_{1}=10.0\\times 10^{3} \\, \\Omega$ so $G=1+\\frac{30.0\\times 10^{3}}{10.0\\times 10^{3}}=4$. The frequency is $f_{in}=4.00\\times 10^{5} \\text{ Hz}$, so $\\omega=2\\pi f_{in}=8.00\\pi\\times 10^{5} \\text{ rad/s}$. The time constant is $R C = (10.0 \\times 10^3 \\, \\Omega)(1.00 \\times 10^{-9} \\, \\text{F})=1.00\\times 10^{-5} \\text{ s}$. Then\n$$\n\\omega R C=(8.00\\pi\\times 10^5 \\text{ rad/s})(1.00\\times 10^{-5} \\text{ s})=8\\pi,\\qquad \\sqrt{1+(\\omega R C)^{2}}=\\sqrt{1+(8\\pi)^2} = \\sqrt{1+64\\pi^{2}}.\n$$\nWith $SR=0.500 \\text{ V}/\\mu\\text{s} = 0.500\\times 10^{6} \\text{ V/s}$, the amplitude is\n$$\nV_{in,\\max}=\\frac{0.500\\times 10^{6}}{(2\\pi)(4.00\\times 10^{5})\\cdot 4}\\,\\sqrt{1+64\\pi^{2}}\n=\\frac{0.5}{3.2}\\cdot\\frac{\\sqrt{1+64\\pi^{2}}}{\\pi}\n=1.25\\,\\sqrt{1+\\frac{1}{64\\pi^{2}}}.\n$$\nNumerically, $\\sqrt{1+\\frac{1}{64\\pi^{2}}}\\approx 1.000792$, hence\n$$\nV_{in,\\max}\\approx 1.25\\times 1.000792\\approx 1.251\\ \\text{V}.\n$$\nRounded to three significant figures, this is $1.25$ V.", "answer": "$$\\boxed{1.25}$$", "id": "1303556"}]}