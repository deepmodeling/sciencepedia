{"hands_on_practices": [{"introduction": "A key characteristic of any filter is how effectively it attenuates signals in its stopband. This exercise explores the \"ultimate roll-off rate,\" which describes the filter's attenuation slope at frequencies far beyond its cutoff point. By working through this problem, you will discover the simple and powerful relationship between a Butterworth filter's order, $N$, and its roll-off rate, providing a fundamental rule of thumb for filter analysis and design [@problem_id:1285968].", "problem": "An audio systems engineer is designing a crossover network for a high-fidelity speaker system. To prevent high-frequency signals from damaging the woofer (a low-frequency driver), a low-pass filter is implemented. The engineer chooses a 4th-order Butterworth filter for its maximally flat passband response and predictable roll-off characteristics. For frequencies far beyond the filter's cutoff frequency (i.e., deep in the stopband), the filter's gain, when measured in decibels, decreases at a specific, constant rate as frequency increases. This behavior is known as the ultimate roll-off rate. Determine this ultimate roll-off rate for the specified 4th-order Butterworth filter. Express your answer as a real number in units of decibels per decade (dB/decade).", "solution": "The problem asks for the ultimate roll-off rate of a 4th-order Butterworth low-pass filter in the stopband. The roll-off rate describes how quickly the filter attenuates signals as frequency increases.\n\nFirst, let's recall the magnitude of the frequency response, $|H(j\\omega)|$, for a general N-th order Butterworth low-pass filter. It is given by the formula:\n$$ |H(j\\omega)| = \\frac{1}{\\sqrt{1 + \\left(\\frac{\\omega}{\\omega_c}\\right)^{2N}}} $$\nwhere $N$ is the order of the filter, $\\omega$ is the angular frequency of the input signal, and $\\omega_c$ is the cutoff frequency of the filter.\n\nThe gain in decibels, $G_{dB}$, is defined as $20 \\log_{10}(|H(j\\omega)|)$. Applying this to the Butterworth response:\n$$ G_{dB}(\\omega) = 20 \\log_{10} \\left( \\frac{1}{\\sqrt{1 + \\left(\\frac{\\omega}{\\omega_c}\\right)^{2N}}} \\right) $$\nUsing the properties of logarithms, specifically $\\log(1/x) = -\\log(x)$ and $\\log(x^a) = a\\log(x)$, we can simplify this expression:\n$$ G_{dB}(\\omega) = 20 \\log_{10} \\left( \\left(1 + \\left(\\frac{\\omega}{\\omega_c}\\right)^{2N}\\right)^{-1/2} \\right) $$\n$$ G_{dB}(\\omega) = -\\frac{1}{2} \\times 20 \\log_{10} \\left( 1 + \\left(\\frac{\\omega}{\\omega_c}\\right)^{2N} \\right) $$\n$$ G_{dB}(\\omega) = -10 \\log_{10} \\left( 1 + \\left(\\frac{\\omega}{\\omega_c}\\right)^{2N} \\right) $$\nThe problem is concerned with the \"ultimate roll-off rate,\" which is the asymptotic behavior in the stopband, where the frequency $\\omega$ is much greater than the cutoff frequency $\\omega_c$. In this region, $\\omega \\gg \\omega_c$, which implies that the term $(\\omega/\\omega_c)^{2N}$ is much larger than 1.\n$$ \\left(\\frac{\\omega}{\\omega_c}\\right)^{2N} \\gg 1 $$\nTherefore, we can make the approximation:\n$$ 1 + \\left(\\frac{\\omega}{\\omega_c}\\right)^{2N} \\approx \\left(\\frac{\\omega}{\\omega_c}\\right)^{2N} $$\nSubstituting this approximation into our expression for the gain gives the asymptotic behavior:\n$$ G_{dB}(\\omega) \\approx -10 \\log_{10} \\left( \\left(\\frac{\\omega}{\\omega_c}\\right)^{2N} \\right) $$\nAgain using the power rule for logarithms:\n$$ G_{dB}(\\omega) \\approx -10 \\times (2N) \\log_{10} \\left( \\frac{\\omega}{\\omega_c} \\right) $$\n$$ G_{dB}(\\omega) \\approx -20N \\log_{10} \\left( \\frac{\\omega}{\\omega_c} \\right) $$\nThe roll-off rate is the change in gain per decade of frequency. A decade is a factor of 10 increase in frequency. Let's evaluate the change in gain from a frequency $\\omega_1$ to $\\omega_2 = 10\\omega_1$.\nThe gain at $\\omega_1$ is $G_1 \\approx -20N \\log_{10}(\\omega_1/\\omega_c)$.\nThe gain at $\\omega_2$ is $G_2 \\approx -20N \\log_{10}(\\omega_2/\\omega_c)$.\nSubstituting $\\omega_2 = 10\\omega_1$:\n$$ G_2 \\approx -20N \\log_{10} \\left( \\frac{10\\omega_1}{\\omega_c} \\right) $$\nUsing the logarithm property $\\log(ab) = \\log(a) + \\log(b)$:\n$$ G_2 \\approx -20N \\left( \\log_{10}(10) + \\log_{10}\\left(\\frac{\\omega_1}{\\omega_c}\\right) \\right) $$\nSince $\\log_{10}(10) = 1$:\n$$ G_2 \\approx -20N \\left( 1 + \\log_{10}\\left(\\frac{\\omega_1}{\\omega_c}\\right) \\right) $$\n$$ G_2 \\approx -20N - 20N \\log_{10}\\left(\\frac{\\omega_1}{\\omega_c}\\right) $$\n$$ G_2 \\approx -20N + G_1 $$\nThe change in gain over one decade is $\\Delta G_{dB} = G_2 - G_1 \\approx -20N$.\nThus, the ultimate roll-off rate for an N-th order Butterworth filter is $-20N$ dB/decade.\n\nThe problem specifies a 4th-order filter, so we set $N=4$.\n$$ \\text{Roll-off Rate} = -20 \\times 4 = -80 \\, \\text{dB/decade} $$\nThe negative sign indicates that the gain decreases as frequency increases.", "answer": "$$\\boxed{-80}$$", "id": "1285968"}, {"introduction": "It's a common intuition to think that building a higher-order system can be achieved by simply connecting several lower-order systems in series. This practice challenges that notion in the context of filter design by asking if cascading two first-order Butterworth filters creates a true second-order Butterworth filter. Investigating this scenario [@problem_id:1285956] will deepen your understanding of what truly defines the \"maximally flat\" Butterworth response: its unique pole placement and corresponding quality factor $Q$, not just its order.", "problem": "In the analysis of analog electronic circuits, the transfer function is a key tool for characterizing system behavior. The normalized transfer function for a first-order low-pass Butterworth filter is given by:\n$$ H_1(s) = \\frac{1}{s+1} $$\nwhere $s$ is the complex frequency variable.\n\nConsider a scenario where two such identical, ideal, buffered first-order low-pass Butterworth filters are connected in cascade. The term \"buffered\" signifies that the filters are isolated from each other, meaning they do not exhibit loading effects. Consequently, the overall transfer function of the cascaded system is simply the product of the individual transfer functions.\n\nFor comparison, the standard form for the normalized transfer function of a second-order low-pass Butterworth filter is:\n$$ H_{B2}(s) = \\frac{1}{s^2 + \\sqrt{2}s + 1} $$\nThis form is known for providing the maximally flat magnitude response in the passband for a second-order filter.\n\nBased on this information, evaluate whether the cascaded combination of the two first-order filters results in a system with a second-order Butterworth response. Select the most accurate statement from the choices below.\n\nA. Yes, the resulting transfer function exactly matches the standard form of a normalized second-order Butterworth filter.\n\nB. No, because the quality factor $Q$ of the resulting filter is $0.5$, which is different from the required value of $1/\\sqrt{2}$ for a second-order Butterworth response.\n\nC. No, because the overall DC gain of the cascaded filter is 2, while a standard Butterworth filter must have a DC gain of 1.\n\nD. No, because the pole of the resulting filter is at $s = -2$, whereas a second-order Butterworth filter must have two complex-conjugate poles.", "solution": "To determine if cascading two identical, buffered, first-order Butterworth filters results in a second-order Butterworth filter, we must first find the transfer function of the cascaded system and then compare it to the standard form of a second-order Butterworth filter.\n\nThe transfer function of a single, normalized first-order low-pass Butterworth filter is given as:\n$$ H_1(s) = \\frac{1}{s+1} $$\n\nSince the two filters are identical and buffered, the total transfer function, $H_{total}(s)$, is the product of their individual transfer functions:\n$$ H_{total}(s) = H_1(s) \\times H_1(s) = \\left( \\frac{1}{s+1} \\right) \\left( \\frac{1}{s+1} \\right) = \\frac{1}{(s+1)^2} $$\n\nExpanding the denominator, we get:\n$$ H_{total}(s) = \\frac{1}{s^2 + 2s + 1} $$\n\nNow, we compare this resulting transfer function with the standard form for a normalized second-order low-pass Butterworth filter, given as:\n$$ H_{B2}(s) = \\frac{1}{s^2 + \\sqrt{2}s + 1} $$\n\nBy visual inspection, the denominators of the two transfer functions are not the same.\n$$ s^2 + 2s + 1 \\neq s^2 + \\sqrt{2}s + 1 $$\nSince $\\sqrt{2} \\approx 1.414$, the coefficient of the $s$ term is different. Therefore, the cascaded system is not a second-order Butterworth filter. This immediately eliminates option A.\n\nNow, let's analyze the remaining options to find the correct reason.\n\nAnalysis of Option C: The DC gain of a filter is found by evaluating its transfer function at $s=0$.\nFor the cascaded filter, the DC gain is:\n$$ H_{total}(0) = \\frac{1}{0^2 + 2(0) + 1} = 1 $$\nFor the standard second-order Butterworth filter, the DC gain is:\n$$ H_{B2}(0) = \\frac{1}{0^2 + \\sqrt{2}(0) + 1} = 1 $$\nThe DC gains are the same. Thus, option C is incorrect.\n\nAnalysis of Option D: The poles of a transfer function are the roots of its denominator polynomial.\nFor the cascaded filter, the denominator is $(s+1)^2$. The roots of $(s+1)^2 = 0$ are $s = -1$ (a double pole).\nFor the standard second-order Butterworth filter, the poles are the roots of $s^2 + \\sqrt{2}s + 1 = 0$. Using the quadratic formula:\n$$ s = \\frac{-\\sqrt{2} \\pm \\sqrt{(\\sqrt{2})^2 - 4(1)(1)}}{2} = \\frac{-\\sqrt{2} \\pm \\sqrt{2-4}}{2} = \\frac{-\\sqrt{2} \\pm j\\sqrt{2}}{2} = -\\frac{1}{\\sqrt{2}} \\pm j\\frac{1}{\\sqrt{2}} $$\nThe poles are a complex-conjugate pair. Option D incorrectly states that the pole of the resulting filter is at $s=-2$. The actual pole is a double pole at $s=-1$. Therefore, option D is incorrect.\n\nAnalysis of Option B: The standard denominator for a normalized second-order system can be written in terms of the natural frequency $\\omega_n$ and the quality factor $Q$ as $s^2 + (\\omega_n/Q)s + \\omega_n^2$. For a normalized filter, $\\omega_n = 1$, so the denominator is $s^2 + (1/Q)s + 1$.\nLet's find the Q factor for both filters.\n\nFor the cascaded filter, $H_{total}(s) = \\frac{1}{s^2 + 2s + 1}$, the denominator is $s^2 + 2s + 1$.\nComparing this with $s^2 + (1/Q)s + 1$, we see that $1/Q = 2$, which gives $Q = 1/2 = 0.5$. This system is critically damped.\n\nFor the standard second-order Butterworth filter, $H_{B2}(s) = \\frac{1}{s^2 + \\sqrt{2}s + 1}$, the denominator is $s^2 + \\sqrt{2}s + 1$.\nComparing with $s^2 + (1/Q)s + 1$, we see that $1/Q = \\sqrt{2}$, which gives $Q = 1/\\sqrt{2}$. This system is underdamped.\n\nSince the quality factor of the cascaded filter ($Q=0.5$) is not equal to the quality factor required for a second-order Butterworth filter ($Q=1/\\sqrt{2}$), the cascaded filter does not have a Butterworth response. Statement B correctly identifies this discrepancy.", "answer": "$$\\boxed{B}$$", "id": "1285956"}, {"introduction": "This final practice moves from theoretical analysis to practical engineering design. You will step into the role of a design engineer tasked with creating a filter that meets a specific set of performance criteria for both its passband and stopband. This problem [@problem_id:1285976] synthesizes the concepts of attenuation and frequency response, guiding you through the process of using the Butterworth magnitude formula to determine the minimum filter order, $N$, required to satisfy real-world specifications.", "problem": "An audio engineer is designing a crossover network for a high-fidelity sound system. A crucial part of this design is a low-pass filter intended to direct bass frequencies to a subwoofer. The engineer opts for a Butterworth filter topology due to its maximally flat passband characteristics.\n\nThe design specifications for the filter are as follows:\n1.  **Passband Requirement**: The attenuation at the passband edge frequency, $\\omega_p = 0.75\\omega_c$, must not exceed $A_{max} = 0.5$ dB. Here, $\\omega_c$ is the -3 dB cutoff frequency of the filter.\n2.  **Stopband Requirement**: The attenuation at the stopband edge frequency, $\\omega_s = 3\\omega_c$, must be at least $A_{min} = 40$ dB.\n\nThe squared magnitude of the frequency response for an $N^\\text{th}$-order Butterworth low-pass filter is given by the expression:\n$$|H(j\\omega)|^2 = \\frac{1}{1 + \\left(\\frac{\\omega}{\\omega_c}\\right)^{2N}}$$\nThe attenuation in decibels (dB) is related to the magnitude response by:\n$$A(\\omega) = -20 \\log_{10}(|H(j\\omega)|)$$\n\nDetermine the minimum integer order, $N$, of the Butterworth filter that satisfies both of these design specifications.", "solution": "The problem asks for the minimum integer order $N$ of a Butterworth filter that satisfies two conditions: one in the passband and one in the stopband. We must evaluate the constraint on $N$ imposed by each condition and then find the minimum integer $N$ that satisfies both.\n\nFirst, let's establish a more convenient formula for the attenuation $A(\\omega)$. Starting with the definition:\n$A(\\omega) = -20 \\log_{10}(|H(j\\omega)|)$\nWe can rewrite this using the property of logarithms $k \\log x = \\log x^k$:\n$A(\\omega) = -10 \\log_{10}(|H(j\\omega)|^2)$\nNow, we substitute the given expression for the squared magnitude response of the Butterworth filter:\n$A(\\omega) = -10 \\log_{10}\\left(\\frac{1}{1 + \\left(\\frac{\\omega}{\\omega_c}\\right)^{2N}}\\right)$\nUsing the property $\\log(1/x) = -\\log(x)$, we get our primary working equation for attenuation:\n$$A(\\omega) = 10 \\log_{10}\\left(1 + \\left(\\frac{\\omega}{\\omega_c}\\right)^{2N}\\right)$$\n\nNext, we analyze the passband requirement. The condition is that the attenuation $A(\\omega_p)$ must be less than or equal to $A_{max} = 0.5$ dB at $\\omega_p = 0.75\\omega_c$.\n$A(\\omega_p) \\le 0.5$\n$$10 \\log_{10}\\left(1 + \\left(\\frac{0.75\\omega_c}{\\omega_c}\\right)^{2N}\\right) \\le 0.5$$\n$$10 \\log_{10}\\left(1 + (0.75)^{2N}\\right) \\le 0.5$$\nDividing by 10:\n$$\\log_{10}\\left(1 + (0.75)^{2N}\\right) \\le 0.05$$\nExponentiating both sides with base 10:\n$$1 + (0.75)^{2N} \\le 10^{0.05}$$\n$$(0.75)^{2N} \\le 10^{0.05} - 1$$\nTo solve for $N$, we take the natural logarithm of both sides:\n$$\\ln\\left((0.75)^{2N}\\right) \\le \\ln(10^{0.05} - 1)$$\n$$2N \\ln(0.75) \\le \\ln(10^{0.05} - 1)$$\nSince $\\ln(0.75)$ is a negative number, dividing by it reverses the inequality sign:\n$$2N \\ge \\frac{\\ln(10^{0.05} - 1)}{\\ln(0.75)}$$\n$$N \\ge \\frac{\\ln(10^{0.05} - 1)}{2\\ln(0.75)}$$\nNow, we can compute the numerical value:\n$N \\ge \\frac{\\ln(1.122018 - 1)}{2(-0.28768)} = \\frac{\\ln(0.122018)}{-0.57536} = \\frac{-2.1037}{-0.57536} \\approx 3.656$\nSo, the passband requirement dictates that $N \\ge 3.656$.\n\nNow, we analyze the stopband requirement. The condition is that the attenuation $A(\\omega_s)$ must be greater than or equal to $A_{min} = 40$ dB at $\\omega_s = 3\\omega_c$.\n$A(\\omega_s) \\ge 40$\n$$10 \\log_{10}\\left(1 + \\left(\\frac{3\\omega_c}{\\omega_c}\\right)^{2N}\\right) \\ge 40$$\n$$10 \\log_{10}\\left(1 + 3^{2N}\\right) \\ge 40$$\nDividing by 10:\n$$\\log_{10}\\left(1 + 3^{2N}\\right) \\ge 4$$\nExponentiating both sides with base 10:\n$$1 + 3^{2N} \\ge 10^4$$\n$$3^{2N} \\ge 10^4 - 1$$\nTaking the natural logarithm of both sides:\n$$\\ln(3^{2N}) \\ge \\ln(10^4 - 1)$$\n$$2N \\ln(3) \\ge \\ln(9999)$$\nSince $\\ln(3)$ is a positive number, the inequality direction is preserved upon division:\n$$N \\ge \\frac{\\ln(9999)}{2\\ln(3)}$$\nNow, we compute the numerical value:\n$N \\ge \\frac{9.21024}{2(1.09861)} = \\frac{9.21024}{2.19722} \\approx 4.1917$\nSo, the stopband requirement dictates that $N \\ge 4.1917$.\n\nTo satisfy both design specifications, the filter order $N$ must satisfy both inequalities simultaneously:\n$N \\ge 3.656$ and $N \\ge 4.1917$.\nThis means $N$ must be greater than or equal to the larger of the two lower bounds, which is 4.1917.\nSince the filter order $N$ must be an integer, the smallest integer value that satisfies the condition $N \\ge 4.1917$ is $N=5$.", "answer": "$$\\boxed{5}$$", "id": "1285976"}]}