{"hands_on_practices": [{"introduction": "The first step in analyzing any compensator is to translate its physical circuit into a mathematical model. This practice focuses on deriving the transfer function for an active lag compensator, a circuit that provides phase lag and is often used to improve steady-state error. By applying circuit analysis principles, you will determine the locations of the pole and zero, which are the fundamental parameters dictating the compensator's dynamic behavior [@problem_id:1314673].", "problem": "An active lag compensator is implemented using an ideal operational amplifier (op-amp) in an inverting configuration. A resistor with resistance $R_1$ connects the input voltage source $V_{in}$ to the inverting input of the op-amp. The feedback network, which connects the op-amp's output to its inverting input, is composed of a resistor with resistance $R_2$ in parallel with a branch containing a resistor of resistance $R_3$ in series with a capacitor of capacitance $C$. The non-inverting input of the op-amp is connected to ground.\n\nGiven the following component values:\n$R_1 = 10~\\text{k}\\Omega$\n$R_2 = 90~\\text{k}\\Omega$\n$R_3 = 10~\\text{k}\\Omega$\n$C = 1.0~\\mu\\text{F}$\n\nThe system's voltage transfer function, $H(s) = V_{out}(s) / V_{in}(s)$, has one finite zero and one non-zero pole. Determine the location of the pole, $p$, and the zero, $z$, on the real axis of the s-plane.\n\nExpress the locations of the pole and zero in units of rad/s. Your final answer should be a row matrix containing the value of $p$ first, then the value of $z$.", "solution": "The problem asks for the locations of the pole and zero of the transfer function $H(s) = V_{out}(s) / V_{in}(s)$ for the given active compensator circuit. We assume the operational amplifier (op-amp) is ideal. This implies two key conditions: first, the voltage at the inverting input ($v_-$) is equal to the voltage at the non-inverting input ($v_+$), which is grounded, so $v_- = v_+ = 0$ (virtual ground). Second, no current flows into the op-amp's input terminals.\n\nWe can find the transfer function by applying Kirchhoff's Current Law (KCL) at the inverting input node. The current flowing from the input source through $R_1$ to the inverting node is $I_{in}$. The current flowing from the inverting node through the feedback network to the output is $I_{f}$. According to KCL, the sum of currents entering the node must be zero. Since no current enters the op-amp, we have $I_{in} + I_{f} = 0$.\n\nThe currents are expressed in the Laplace domain as:\n$$I_{in}(s) = \\frac{V_{in}(s) - v_-(s)}{R_1} = \\frac{V_{in}(s)}{R_1}$$\n$$I_f(s) = \\frac{V_{out}(s) - v_-(s)}{Z_f(s)} = \\frac{V_{out}(s)}{Z_f(s)}$$\nwhere $Z_f(s)$ is the impedance of the feedback network.\n\nKCL gives:\n$$\\frac{V_{in}(s)}{R_1} + \\frac{V_{out}(s)}{Z_f(s)} = 0$$\nRearranging for the transfer function $H(s) = V_{out}(s) / V_{in}(s)$:\n$$H(s) = -\\frac{Z_f(s)}{R_1}$$\n\nNext, we must determine the feedback impedance $Z_f(s)$. The feedback network consists of a resistor $R_2$ in parallel with a series combination of resistor $R_3$ and capacitor $C$.\nThe impedance of the series combination of $R_3$ and $C$ is:\n$$Z_{R3C}(s) = R_3 + \\frac{1}{sC}$$\nThe total feedback impedance $Z_f(s)$ is the parallel combination of $R_2$ and $Z_{R3C}(s)$:\n$$Z_f(s) = R_2 \\parallel \\left(R_3 + \\frac{1}{sC}\\right) = \\frac{R_2 \\left(R_3 + \\frac{1}{sC}\\right)}{R_2 + R_3 + \\frac{1}{sC}}$$\nTo simplify this expression, we multiply the numerator and the denominator by $sC$:\n$$Z_f(s) = \\frac{R_2 (sR_3C + 1)}{sR_2C + sR_3C + 1} = \\frac{R_2(sR_3C + 1)}{s(R_2+R_3)C + 1}$$\n\nNow, substitute this impedance back into the transfer function expression:\n$$H(s) = -\\frac{1}{R_1} \\left( \\frac{R_2(sR_3C + 1)}{s(R_2+R_3)C + 1} \\right) = -\\frac{R_2}{R_1} \\frac{sR_3C + 1}{s(R_2+R_3)C + 1}$$\n\nTo identify the pole and zero locations, we find the roots of the numerator and the denominator polynomials in $s$.\nThe zero, $z$, is the value of $s$ for which the numerator is zero:\n$$s R_3 C + 1 = 0 \\implies s = -\\frac{1}{R_3 C}$$\nSo, the zero is located at $z = -1/(R_3 C)$.\n\nThe pole, $p$, is the value of $s$ for which the denominator is zero:\n$$s(R_2+R_3)C + 1 = 0 \\implies s = -\\frac{1}{(R_2+R_3)C}$$\nSo, the pole is located at $p = -1/((R_2+R_3)C)$.\n\nNow we can substitute the given numerical values:\n$R_2 = 90~\\text{k}\\Omega = 90 \\times 10^3~\\Omega$\n$R_3 = 10~\\text{k}\\Omega = 10 \\times 10^3~\\Omega$\n$C = 1.0~\\mu\\text{F} = 1.0 \\times 10^{-6}~\\text{F}$\n\nLet's calculate the location of the zero, $z$:\n$$z = -\\frac{1}{R_3 C} = -\\frac{1}{(10 \\times 10^3~\\Omega)(1.0 \\times 10^{-6}~\\text{F})} = -\\frac{1}{10 \\times 10^{-3}~\\text{s}} = -\\frac{1}{0.01~\\text{s}} = -100~\\text{rad/s}$$\n\nNext, let's calculate the location of the pole, $p$. First, find the sum of resistances $R_2+R_3$:\n$$R_2 + R_3 = 90~\\text{k}\\Omega + 10~\\text{k}\\Omega = 100~\\text{k}\\Omega = 100 \\times 10^3~\\Omega$$\nNow, calculate the pole location:\n$$p = -\\frac{1}{(R_2+R_3)C} = -\\frac{1}{(100 \\times 10^3~\\Omega)(1.0 \\times 10^{-6}~\\text{F})} = -\\frac{1}{100 \\times 10^{-3}~\\text{s}} = -\\frac{1}{0.1~\\text{s}} = -10~\\text{rad/s}$$\n\nThe pole is located at $p = -10~\\text{rad/s}$, and the zero is located at $z = -100~\\text{rad/s}$.\nThe problem requests the final answer as a row matrix containing the value of $p$ first, then the value of $z$. Therefore, the answer is $(-10, -100)$.", "answer": "$$\\boxed{\\begin{pmatrix} -10  -100 \\end{pmatrix}}$$", "id": "1314673"}, {"introduction": "While a lag compensator primarily affects a system's steady-state response, a lead compensator's role is to add positive phase shift, improving the system's stability and transient response. A critical performance metric is the maximum phase lead, $\\phi_m$, that the compensator can provide. This exercise [@problem_id:1314658] will guide you through calculating this value from a given transfer function, directly linking the pole-zero placement to the compensator's effectiveness in enhancing phase margin.", "problem": "A lead compensator is a fundamental component in control systems engineering, often used to improve the stability and transient response of a system by providing a positive phase shift. In the design of a motor-positioning system, a lead compensator is implemented with the following transfer function:\n$$G_c(s) = \\frac{20(s + 30)}{s + 240}$$\nIn this expression, $s$ is the complex frequency variable, and the pole and zero frequency values (30 and 240) are given in radians per second (rad/s).\n\nCalculate the maximum phase lead, $\\phi_m$, that this compensator can provide to the system. Express your answer in degrees, rounded to three significant figures.", "solution": "The problem asks for the maximum phase lead, $\\phi_m$, of a given lead compensator. The transfer function of the compensator is given as:\n$$G_c(s) = \\frac{20(s + 30)}{s + 240}$$\nThis is in the general form of a lead compensator, $G_c(s) = K \\frac{s+z}{s+p}$, where $p > z$. By comparing the given function to this general form, we can identify the location of the zero, $z$, and the pole, $p$.\nThe zero is at $s = -z$, so $z = 30~\\text{rad/s}$.\nThe pole is at $s = -p$, so $p = 240~\\text{rad/s}$.\nThe gain constant is $K=20$, but this only affects the magnitude of the transfer function, not its phase, so it is not needed for this calculation.\n\nThe phase angle $\\phi$ of the compensator as a function of frequency $\\omega$ is found by substituting $s = j\\omega$ into the transfer function and calculating the argument:\n$$G_c(j\\omega) = \\frac{20(j\\omega + 30)}{j\\omega + 240}$$\n$$\\phi(\\omega) = \\arg(G_c(j\\omega)) = \\arg(j\\omega + 30) - \\arg(j\\omega + 240) = \\arctan\\left(\\frac{\\omega}{30}\\right) - \\arctan\\left(\\frac{\\omega}{240}\\right)$$\nTo find the maximum phase lead, we need to find the frequency $\\omega_m$ at which the phase is maximum. This is done by taking the derivative of $\\phi(\\omega)$ with respect to $\\omega$ and setting it to zero.\n$$\\frac{d\\phi}{d\\omega} = \\frac{d}{d\\omega}\\left[\\arctan\\left(\\frac{\\omega}{z}\\right) - \\arctan\\left(\\frac{\\omega}{p}\\right)\\right] = \\frac{1/z}{1 + (\\omega/z)^2} - \\frac{1/p}{1 + (\\omega/p)^2} = 0$$\n$$\\frac{z}{z^2 + \\omega^2} = \\frac{p}{p^2 + \\omega^2}$$\n$$z(p^2 + \\omega^2) = p(z^2 + \\omega^2)$$\n$$zp^2 + z\\omega^2 = pz^2 + p\\omega^2$$\n$$\\omega^2(p - z) = pz^2 - zp^2 = -zp(p - z)$$\nSince $p \\neq z$, we can divide by $(p-z)$ to get:\n$$\\omega_m^2 = zp$$\n$$\\omega_m = \\sqrt{zp}$$\nThis is the frequency at which the maximum phase lead occurs. For our values, $\\omega_m = \\sqrt{30 \\times 240} = \\sqrt{7200} \\approx 84.85~\\text{rad/s}$.\n\nA standard formula relates the maximum phase lead $\\phi_m$ to the pole and zero locations. A common way to express this is using the parameter $\\alpha = z/p$.\nFirst, we calculate $\\alpha$:\n$$\\alpha = \\frac{z}{p} = \\frac{30}{240} = \\frac{1}{8} = 0.125$$\nThe formula for the maximum phase lead is:\n$$\\sin(\\phi_m) = \\frac{1 - \\alpha}{1 + \\alpha}$$\nSubstituting the value of $\\alpha$:\n$$\\sin(\\phi_m) = \\frac{1 - 0.125}{1 + 0.125} = \\frac{0.875}{1.125} = \\frac{7/8}{9/8} = \\frac{7}{9}$$\nNow we solve for $\\phi_m$ by taking the inverse sine (arcsin):\n$$\\phi_m = \\arcsin\\left(\\frac{7}{9}\\right)$$\nTo get the answer in degrees, we perform the calculation:\n$$\\phi_m \\approx 51.0575...^{\\circ}$$\nThe problem asks for the answer to be rounded to three significant figures.\n$$\\phi_m \\approx 51.1^{\\circ}$$", "answer": "$$\\boxed{51.1}$$", "id": "1314658"}, {"introduction": "To fully understand a compensator's impact on a system, we must analyze its behavior across a spectrum of frequencies, a task for which the Bode plot is the ideal tool. Asymptotic Bode plots offer a powerful method for quickly sketching the frequency response. In this practice [@problem_id:1314659], you will determine key points on the magnitude Bode plot for a lead compensator, reinforcing your understanding of how poles and zeros shape its gain characteristics at low, mid-range, and high frequencies.", "problem": "A lead compensator, a fundamental component in control systems for improving phase margin, has a transfer function given by:\n$$G_c(s) = K \\frac{1 + s/\\omega_z}{1 + s/\\omega_p}$$\nFor a specific application, the compensator is designed with the following parameters: a low-frequency gain of $K=5.00$, a zero at a frequency of $\\omega_z = 20.0~\\text{rad/s}$, and a pole at a frequency of $\\omega_p = 200.0~\\text{rad/s}$.\n\nYou are asked to determine key characteristics of the asymptotic magnitude Bode plot for this compensator. The magnitude in decibels (dB) is defined as $20 \\log_{10}(|G_c(j\\omega)|)$. Calculate the following three values based on the straight-line Bode plot approximations:\n\n1.  The low-frequency asymptotic magnitude, $M_{low}$, which is the magnitude in dB for frequencies $\\omega \\ll \\omega_z$.\n2.  The high-frequency asymptotic magnitude, $M_{high}$, which is the magnitude in dB for frequencies $\\omega \\gg \\omega_p$.\n3.  The asymptotic magnitude, $M_{mid}$, in dB at the frequency $\\omega_{mid} = \\sqrt{\\omega_z \\omega_p}$.\n\nProvide your answers for $M_{low}$, $M_{high}$, and $M_{mid}$ in decibels (dB), in that order. Round your final numerical answers to three significant figures.", "solution": "The compensator transfer function is $G_{c}(s)=K \\dfrac{1+s/\\omega_{z}}{1+s/\\omega_{p}}$. Its frequency response magnitude is\n$$\n|G_{c}(j\\omega)|=K \\frac{|1+j\\omega/\\omega_{z}|}{|1+j\\omega/\\omega_{p}|}.\n$$\nUsing straight-line Bode magnitude approximations for a first-order term, $|1+j\\omega/\\omega_{0}| \\approx 1$ for $\\omega \\ll \\omega_{0}$ and $|1+j\\omega/\\omega_{0}| \\approx \\omega/\\omega_{0}$ for $\\omega \\gg \\omega_{0}$, we evaluate the required asymptotes.\n\n1) Low-frequency asymptote $\\omega \\ll \\omega_{z}$: both factors are approximately $1$, so\n$$\n|G_{c}(j\\omega)| \\approx K \\quad \\Rightarrow \\quad M_{low}=20 \\log_{10}(K).\n$$\nWith $K=5.00$,\n$$\nM_{low}=20 \\log_{10}(5.00) \\approx 13.9794~\\text{dB}.\n$$\n\n2) High-frequency asymptote $\\omega \\gg \\omega_{p}$: both factors are in their high-frequency forms, so\n$$\n|G_{c}(j\\omega)| \\approx K \\frac{\\omega/\\omega_{z}}{\\omega/\\omega_{p}}=K \\frac{\\omega_{p}}{\\omega_{z}}\n\\quad \\Rightarrow \\quad\nM_{high}=20 \\log_{10}\\!\\left(K \\frac{\\omega_{p}}{\\omega_{z}}\\right).\n$$\nWith $K=5.00$, $\\omega_{z}=20.0$, and $\\omega_{p}=200.0$,\n$$\nM_{high}=20 \\log_{10}(50.0) \\approx 33.9794~\\text{dB}.\n$$\n\n3) Mid-frequency asymptote at $\\omega_{mid}=\\sqrt{\\omega_{z}\\omega_{p}}$, which lies between $\\omega_{z}$ and $\\omega_{p}$: the zero contributes its high-frequency form while the pole remains low-frequency, so\n$$\n|G_{c}(j\\omega)| \\approx K \\frac{\\omega}{\\omega_{z}}.\n$$\nEvaluating at $\\omega=\\omega_{mid}=\\sqrt{\\omega_{z}\\omega_{p}}$ gives\n$$\n|G_{c}(j\\omega_{mid})| \\approx K \\sqrt{\\frac{\\omega_{p}}{\\omega_{z}}}\n\\quad \\Rightarrow \\quad\nM_{mid}=20 \\log_{10}(K)+10 \\log_{10}\\!\\left(\\frac{\\omega_{p}}{\\omega_{z}}\\right).\n$$\nWith the given values, $\\omega_{p}/\\omega_{z}=10.0$, hence\n$$\nM_{mid}=20 \\log_{10}(5.00)+10 \\log_{10}(10.0)=13.9794+10.0000 \\approx 23.9794~\\text{dB}.\n$$\n\nRounding each to three significant figures yields $M_{low}=14.0$ dB, $M_{high}=34.0$ dB, and $M_{mid}=24.0$ dB.", "answer": "$$\\boxed{\\begin{pmatrix} 14.0  34.0  24.0 \\end{pmatrix}}$$", "id": "1314659"}]}