{"hands_on_practices": [{"introduction": "A cornerstone of feedback analysis is the ability to correctly separate the basic open-loop amplifier from the feedback network. This isn't as simple as just cutting a wire; we must account for how the feedback network \"loads\" the amplifier's input and output. This exercise [@problem_id:1337910] guides you through this crucial procedure for a shunt-shunt feedback amplifier, helping you determine the true open-loop gain needed for accurate feedback calculations.", "problem": "An engineer is analyzing a single-stage amplifier circuit built using a Bipolar Junction Transistor (BJT). The BJT is characterized by its hybrid-pi small-signal model, where the relevant parameters are the transconductance $g_m$ and the base-emitter resistance $r_{\\pi}$. For this analysis, you are to assume the Early effect is negligible, meaning the BJT's intrinsic output resistance $r_o$ is infinite.\n\nThe amplifier circuit consists of the BJT, a collector resistor $R_C$ connected between the collector terminal and the power supply, and a feedback resistor $R_F$ connected directly between the collector and base terminals. An input signal current $i_{in}$ is fed into the base, and the output signal voltage $v_{out}$ is taken from the collector. Biasing components are considered ideal and do not affect the small-signal analysis.\n\nThis configuration represents a voltage-shunt (or shunt-shunt) feedback topology. To apply feedback theory, the standard procedure involves analyzing the \"basic amplifier\" while accounting for the loading from the feedback network. To find the loading effect of the feedback network on the amplifier's input, the port of the feedback network connected to the amplifier's output (at the collector) is short-circuited to ground. To find the loading effect on the amplifier's output, the port of the feedback network connected to the amplifier's input (at the base) is short-circuited to ground.\n\nWhich of the following expressions correctly represents the open-loop transresistance gain, $A_{z,loaded} = v_{out} / i_{in}$, of this loaded basic amplifier?\n\nA. $-g_m \\frac{r_{\\pi} R_F}{r_{\\pi} + R_F} \\frac{R_C R_F}{R_C + R_F}$\n\nB. $-g_m r_{\\pi} R_C$\n\nC. $-g_m r_{\\pi} \\frac{R_C R_F}{R_C + R_F}$\n\nD. $-g_m R_C \\frac{r_{\\pi} R_F}{r_{\\pi} + R_F}$\n\nE. $-R_F$", "solution": "The hybrid-pi small-signal model with negligible Early effect has $r_{o} \\to \\infty$, so only $g_{m}$ and $r_{\\pi}$ are active. In the shunt-shunt feedback decomposition, the feedback network $R_{F}$ is represented as a loading at both ports of the basic amplifier:\n- For input loading, the feedback network’s output port (collector) is shorted to ground, so the base node is shunted to ground through $R_{F}$. Thus the input impedance seen by the input current source is $Z_{\\text{in}}=r_{\\pi} \\parallel R_{F}=\\frac{r_{\\pi}R_{F}}{r_{\\pi}+R_{F}}$.\n- For output loading, the feedback network’s input port (base) is shorted to ground, so the collector node is shunted to ground through $R_{F}$. Thus the load at the collector is $R_{L}=R_{C} \\parallel R_{F}=\\frac{R_{C}R_{F}}{R_{C}+R_{F}}$.\n\nThe input current source $i_{in}$ injects current into the base node, producing the base-emitter voltage\n$$\nv_{\\pi}=i_{in}\\,Z_{\\text{in}}=i_{in}\\left(\\frac{r_{\\pi}R_{F}}{r_{\\pi}+R_{F}}\\right).\n$$\nThe controlled current source in the hybrid-pi model provides a collector current\n$$\ni_{c}=g_{m}v_{\\pi},\n$$\ndirected from collector to emitter. The collector node sees the parallel resistance $R_{L}$ to ground, so by KCL at the collector node the output voltage is\n$$\nv_{out}=-i_{c}R_{L}=-g_{m}v_{\\pi}R_{L}.\n$$\nSubstituting $v_{\\pi}$ gives the loaded open-loop transresistance gain\n$$\nA_{z,\\text{loaded}}=\\frac{v_{out}}{i_{in}}=-g_{m}\\left(\\frac{r_{\\pi}R_{F}}{r_{\\pi}+R_{F}}\\right)\\left(\\frac{R_{C}R_{F}}{R_{C}+R_{F}}\\right),\n$$\nwhich matches option A.", "answer": "$$\\boxed{A}$$", "id": "1337910"}, {"introduction": "Next, we turn our attention to the series-series feedback topology, which excels at creating stable transconductance amplifiers whose output current is precisely controlled by the input voltage. This is practically realized in a circuit with an un-bypassed source resistor, a technique known as source degeneration. This problem [@problem_id:1337903] provides a concrete example, allowing you to calculate how this series feedback arrangement modifies the amplifier's fundamental transconductance, $g_m$.", "problem": "An engineer is designing a simple transconductance amplifier using a single n-channel Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET). The circuit is arranged in a common-source configuration with source degeneration. The input voltage signal, $V_{in}$, is applied directly to the gate of the MOSFET. The drain terminal is connected to a DC power supply through a load resistor, $R_D = 2.0\\,\\text{k}\\Omega$. The output signal is considered to be the AC drain current, $I_{out}$. The source terminal is connected to ground through a source resistor, $R_S = 400\\,\\Omega$.\n\nFor the purpose of small-signal analysis, the MOSFET is biased to operate in the saturation region with a transconductance of $g_m = 5.0\\,\\text{mA/V}$. You may assume that the MOSFET's small-signal output resistance, $r_o$, is infinitely large and that the body effect is negligible. This configuration is an example of a current-series feedback topology.\n\nCalculate the closed-loop transconductance of the amplifier, $G_f = I_{\\text{out}} / V_{\\text{in}}$. Express your answer in units of milli-Siemens (mS), rounded to three significant figures.", "solution": "For small-signal operation with $r_{o} \\to \\infty$ and negligible body effect, the MOSFET drain current is given by the transconductance relation\n$$\ni_{d}=g_{m} v_{gs}.\n$$\nWith the input applied to the gate, $v_{g}=v_{in}$. The source current equals the drain current in small signal, so by Ohm’s law across the source resistor,\n$$\nv_{s}=i_{s} R_{S}=i_{d} R_{S}.\n$$\nTherefore,\n$$\nv_{gs}=v_{g}-v_{s}=v_{in}-i_{d} R_{S}.\n$$\nSubstituting into the transconductance relation,\n$$\ni_{d}=g_{m}\\left(v_{in}-i_{d} R_{S}\\right).\n$$\nRearranging,\n$$\ni_{d}+g_{m} R_{S} i_{d}=g_{m} v_{in} \\;\\;\\Rightarrow\\;\\; i_{d}\\left(1+g_{m} R_{S}\\right)=g_{m} v_{in}.\n$$\nThus, the closed-loop transconductance is\n$$\nG_{f}\\equiv \\frac{I_{\\text{out}}}{V_{\\text{in}}}=\\frac{i_{d}}{v_{in}}=\\frac{g_{m}}{1+g_{m} R_{S}}.\n$$\nSubstituting $g_{m}=5.0\\,\\text{mA/V}=5.0 \\times 10^{-3}\\,\\text{S}$ and $R_{S}=400\\,\\Omega$,\n$$\ng_{m} R_{S}= \\left(5.0 \\times 10^{-3}\\right)\\left(400\\right)=2,\n$$\nso\n$$\nG_{f}=\\frac{5.0 \\times 10^{-3}}{1+2}=\\frac{5.0 \\times 10^{-3}}{3}=1.666\\ldots \\times 10^{-3}\\,\\text{S}=1.666\\ldots\\,\\text{mS}.\n$$\nRounded to three significant figures, $G_{f}=1.67\\,\\text{mS}$.", "answer": "$$\\boxed{1.67}$$", "id": "1337903"}, {"introduction": "While we often study the four feedback topologies in isolation, real-world circuits can be more complex, incorporating multiple feedback paths. A key engineering skill is to identify which feedback loop has the most significant impact on the circuit's overall performance. This conceptual problem [@problem_id:1337935] challenges you to analyze a multi-loop amplifier and determine the dominant feedback topology, a skill that is essential for simplifying the analysis of sophisticated designs.", "problem": "An engineer is designing a high-speed, low-noise pre-amplifier for a sensor that produces a small output current. The design consists of a two-stage amplifier built with two NPN Bipolar Junction Transistors (BJTs) in a common-emitter configuration.\n\nTo enhance the stability and linearity of the first stage, a local feedback mechanism is implemented by including an unbypassed emitter resistor, $R_E$, in the emitter circuit of the first BJT.\n\nTo precisely control the overall gain and bandwidth of the complete two-stage amplifier, a global negative feedback loop is implemented. This is achieved by connecting a feedback resistor, $R_F$, from the collector of the second BJT back to the base of the first BJT.\n\nFor the purpose of analysis, you are to assume that the open-loop voltage gain of the two-stage amplifier is very large. Furthermore, the magnitude of the loop gain associated with the global feedback path is known to be significantly larger than the magnitude of the loop gain associated with the local feedback path.\n\nBased on this configuration, which of the four basic feedback topologies predominantly determines the overall input impedance, output impedance, and frequency response characteristics of the complete amplifier?\n\nA. Series-Shunt Feedback\n\nB. Shunt-Series Feedback\n\nC. Series-Series Feedback\n\nD. Shunt-Shunt Feedback\n\nE. The amplifier exhibits hybrid characteristics where no single topology is dominant.", "solution": "The problem states that the two-stage amplifier has very large open-loop gain and that the magnitude of the loop gain associated with the global feedback path greatly exceeds that of the local emitter-degeneration feedback. Therefore, the overall input impedance, output impedance, and frequency response are predominantly determined by the global feedback topology. The local unbypassed emitter resistor in the first stage provides local series feedback (emitter degeneration), but its effect on the complete amplifier is secondary under the given conditions.\n\nTo classify the global feedback, we identify the mixing at the input and the sampling at the output.\n\n1) Input mixing: The feedback resistor connects from the output node (collector of the second BJT) to the input node (base of the first BJT). Let the sensor provide an input current source $i_{s}$ into the base node, and let the feedback network deliver a current $i_{f}$ into the same node through $R_{F}$. Writing KCL at the input node with node voltage $v_{i}$ and output voltage $v_{o}$,\n$$\ni_{s} + i_{f} = i_{\\text{in}}, \\quad i_{f} = \\frac{v_{o} - v_{i}}{R_{F}}.\n$$\nBecause the feedback signal is injected in parallel at the summing node (currents add at the node), the input mixing is shunt. In shunt mixing, the closed-loop input resistance is reduced relative to open-loop:\n$$\nR_{\\text{in,cl}} \\approx \\frac{R_{\\text{in,ol}}}{1+T},\n$$\nwhere $T$ is the loop gain and $T \\gg 1$ here.\n\n2) Output sampling: The feedback element $R_{F}$ is connected across the output node to sense the output voltage $v_{o}$ (no series element is inserted in the load path). Thus, the feedback samples the output in shunt (voltage sampling). For shunt sampling, the closed-loop output resistance is reduced:\n$$\nR_{\\text{out,cl}} \\approx \\frac{R_{\\text{out,ol}}}{1+T}.\n$$\n\n3) Closed-loop signal type: With a current input and voltage output, the closed-loop transfer function is of transresistance type. Under large loop gain, the standard negative-feedback result gives the closed-loop transresistance set primarily by the feedback network. For the present single-resistor feedback,\n$$\n\\frac{v_{o}}{i_{s}} \\approx -R_{F} \\quad \\text{for} \\quad T \\gg 1,\n$$\nand the bandwidth is extended approximately by a factor on the order of $1+T$ relative to the dominant open-loop pole, as is typical for strong negative feedback. These are hallmark properties of shunt-shunt feedback.\n\nTherefore, the global feedback is shunt at the input and shunt at the output, i.e., shunt-shunt feedback. Since its loop gain dominates the local feedback, it predominantly determines the overall input impedance, output impedance, and frequency response of the complete amplifier.\n\nHence, the correct choice is D. Shunt-Shunt Feedback.", "answer": "$$\\boxed{D}$$", "id": "1337935"}]}