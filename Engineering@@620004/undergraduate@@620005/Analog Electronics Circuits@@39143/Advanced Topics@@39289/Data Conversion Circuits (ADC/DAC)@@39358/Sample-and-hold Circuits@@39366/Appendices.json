{"hands_on_practices": [{"introduction": "To accurately capture a signal, a sample-and-hold circuit must charge its capacitor to the input voltage level within a finite acquisition time. This exercise [@problem_id:1330097] bridges the analog and digital domains by challenging you to calculate the maximum permissible switch resistance that ensures the circuit's settling time is compatible with the precision of a 10-bit analog-to-digital converter. It's a practical look at how the speed of an analog component directly impacts digital system accuracy.", "problem": "A data acquisition system employs a sample-and-hold (S/H) circuit to capture a rapidly changing analog voltage before it is digitized. The S/H circuit is modeled as an analog switch connected in series with a holding capacitor. The switch has a non-zero on-resistance, denoted by $R_{on}$, and the holding capacitor has a capacitance $C_H$.\n\nDuring the acquisition phase, the switch is closed for a specific duration, the acquisition time $t_{acq}$, allowing the capacitor to charge towards the input voltage. For this system to function correctly with a downstream 10-bit Analog-to-Digital Converter (ADC), the voltage across the capacitor at the end of the acquisition time must settle to within one-half of a Least Significant Bit (LSB) of the input voltage.\n\nAssume the worst-case scenario where the capacitor is initially fully discharged (0 V) and the input signal makes a full-scale step. Given an acquisition time $t_{acq} = 500 \\text{ ns}$ and a holding capacitance $C_H = 10 \\text{ pF}$, determine the maximum permissible on-resistance $R_{on}$ of the switch that satisfies this accuracy requirement.\n\nExpress your answer in ohms ($\\Omega$), rounded to three significant figures.", "solution": "The sample-and-hold circuit during acquisition behaves as an $RC$ charging network with time constant $\\tau = R_{on}C_{H}$. For a full-scale step from $0$ to $V_{FS}$ at $t=0$, the capacitor voltage is\n$$\nV_{C}(t)=V_{FS}\\left(1-\\exp\\!\\left(-\\frac{t}{R_{on}C_{H}}\\right)\\right).\n$$\nThe settling error relative to the final value is\n$$\nE(t)=V_{FS}-V_{C}(t)=V_{FS}\\exp\\!\\left(-\\frac{t}{R_{on}C_{H}}\\right).\n$$\nFor a 10-bit ADC, the half-LSB requirement is that the error must be less than or equal to $\\frac{V_{FS}}{2^{10+1}} = \\frac{V_{FS}}{2^{11}}$.\n$$\nE(t_{acq}) \\leq \\frac{V_{FS}}{2^{11}}.\n$$\nSubstituting the expression for the error and cancelling $V_{FS}$ gives:\n$$\n\\exp\\!\\left(-\\frac{t_{acq}}{R_{on}C_{H}}\\right) \\leq 2^{-11}\n$$\nTaking the natural logarithm of both sides:\n$$\n-\\frac{t_{acq}}{R_{on}C_{H}} \\leq -11\\ln 2\n$$\nMultiplying by -1 reverses the inequality:\n$$\n\\frac{t_{acq}}{R_{on}C_{H}} \\geq 11\\ln 2.\n$$\nSolving for the maximum permissible on-resistance, $R_{on,\\max}$:\n$$\nR_{on,\\max}=\\frac{t_{acq}}{C_{H}\\,11\\ln 2}.\n$$\nSubstituting the given values $t_{acq}=500\\times 10^{-9}$ s and $C_{H}=10\\times 10^{-12}$ F:\n$$\nR_{on,\\max}=\\frac{500\\times 10^{-9} \\text{ s}}{(10\\times 10^{-12} \\text{ F}) \\times 11\\ln 2}\\approx \\frac{5.00\\times 10^{4} \\text{ s/F}}{7.6246}\n$$\n$$\nR_{on,\\max}\\approx 6557.7 \\text{ } \\Omega.\n$$\nRounded to three significant figures, this is $6.56\\times 10^{3} \\text{ } \\Omega$.", "answer": "$$\\boxed{6.56 \\times 10^{3}}$$", "id": "1330097"}, {"introduction": "Once a voltage is captured, the \"hold\" in sample-and-hold becomes critical, especially while a downstream ADC performs its conversion. This practice [@problem_id:1330135] delves into the hold phase, focusing on how to maintain the stored voltage against inevitable leakage currents. You will determine the minimum hold capacitance required to ensure the voltage \"droop\" remains within the tight tolerance of a high-resolution 14-bit ADC, a crucial calculation for high-fidelity data acquisition.", "problem": "An engineer is designing a high-precision digital data acquisition system. The system's front-end consists of a sample-and-hold (S/H) circuit that feeds into an Analog-to-Digital Converter (ADC). The S/H circuit uses an ideal analog switch and a hold capacitor, $C_H$.\n\nThe ADC is a Successive Approximation Register (SAR) type with a resolution of $N=14$ bits and operates with a full-scale reference voltage of $V_{ref} = 5.0$ V. The ADC's internal clock runs at a frequency of $f_{clk} = 2.0$ MHz, and a complete conversion requires exactly $N$ clock cycles. During this conversion time, the S/H circuit is in the 'hold' mode.\n\nThe performance is limited by leakage currents, which cause the voltage stored on $C_H$ to \"droop\". There are two sources of leakage: the analog switch, when open, has a leakage current of $I_{leak} = 50.0$ pA, and the ADC input has a bias current of $I_{bias} = 20.0$ pA. To ensure the accuracy of the conversion, the total voltage droop on the capacitor during a single conversion period must be no more than half of the voltage corresponding to one Least Significant Bit (LSB) of the ADC.\n\nCalculate the minimum required value for the hold capacitor, $C_H$. Express your final answer in picofarads (pF), rounded to three significant figures.", "solution": "The problem asks for the minimum value of the hold capacitor, $C_H$, that satisfies a specific voltage droop constraint.\n\nFirst, we determine the total leakage current, $I_{total}$, that discharges the capacitor $C_H$ during the hold phase. This current is the sum of the switch leakage current and the ADC input bias current.\n$$I_{total} = I_{leak} + I_{bias}$$\n\nNext, we determine the duration of the hold phase, $t_{hold}$. The problem states that the S/H circuit is in hold mode during the ADC conversion period. The ADC is a Successive Approximation Register (SAR) type that takes $N$ clock cycles to complete a conversion, with a clock frequency of $f_{clk}$. Therefore, the hold time is:\n$$t_{hold} = \\frac{N}{f_{clk}}$$\n\nDuring this time $t_{hold}$, the total leakage current $I_{total}$ causes a change in charge $\\Delta Q$ on the capacitor, given by $\\Delta Q = I_{total} \\times t_{hold}$. This change in charge results in a change in voltage, or \"droop\", $\\Delta V_{droop}$, across the capacitor $C_H$. The relationship is given by $\\Delta Q = C_H \\Delta V_{droop}$. Combining these, we get:\n$$\\Delta V_{droop} = \\frac{\\Delta Q}{C_H} = \\frac{I_{total} \\times t_{hold}}{C_H}$$\n\nThe problem imposes a constraint on the maximum allowable droop. The droop must be no more than half of one Least Significant Bit (LSB).\n$$\\Delta V_{droop} \\le \\frac{1}{2} V_{LSB}$$\n\nThe voltage represented by one LSB for an $N$-bit ADC with a full-scale reference voltage $V_{ref}$ is:\n$$V_{LSB} = \\frac{V_{ref}}{2^N}$$\n\nSubstituting this into the constraint gives:\n$$\\Delta V_{droop} \\le \\frac{1}{2} \\frac{V_{ref}}{2^N}$$\n\nTo find the minimum required capacitance, $C_{H,min}$, we set the actual droop equal to the maximum allowed droop:\n$$\\frac{I_{total} \\times t_{hold}}{C_{H,min}} = \\frac{1}{2} \\frac{V_{ref}}{2^N}$$\n\nNow, we solve for $C_{H,min}$:\n$$C_{H,min} = \\frac{2 \\times I_{total} \\times t_{hold} \\times 2^N}{V_{ref}}$$\n\nSubstituting the expressions for $I_{total}$ and $t_{hold}$:\n$$C_{H,min} = \\frac{2 \\times (I_{leak} + I_{bias}) \\times \\left(\\frac{N}{f_{clk}}\\right) \\times 2^N}{V_{ref}}$$\n$$C_{H,min} = \\frac{2 \\cdot N \\cdot 2^N \\cdot (I_{leak} + I_{bias})}{f_{clk} \\cdot V_{ref}}$$\n\nNow, we can substitute the given numerical values:\n$N = 14$\n$V_{ref} = 5.0$ V\n$f_{clk} = 2.0$ MHz $= 2.0 \\times 10^6$ Hz\n$I_{leak} = 50.0$ pA $= 50.0 \\times 10^{-12}$ A\n$I_{bias} = 20.0$ pA $= 20.0 \\times 10^{-12}$ A\n\nFirst, calculate the total current:\n$$I_{total} = 50.0 \\times 10^{-12} \\text{ A} + 20.0 \\times 10^{-12} \\text{ A} = 70.0 \\times 10^{-12} \\text{ A}$$\n\nNow, substitute all values into the expression for $C_{H,min}$:\n$$C_{H,min} = \\frac{2 \\times 14 \\times 2^{14} \\times (70.0 \\times 10^{-12} \\text{ A})}{(2.0 \\times 10^6 \\text{ Hz}) \\times (5.0 \\text{ V})}$$\nNote that $2^{14} = 16384$.\n$$C_{H,min} = \\frac{2 \\times 14 \\times 16384 \\times 70.0 \\times 10^{-12}}{10.0 \\times 10^6} \\text{ F}$$\n$$C_{H,min} = \\frac{3.211264 \\times 10^7 \\times 10^{-12}}{10^7} \\text{ F}$$\n$$C_{H,min} = 3.211264 \\times 10^{-12} \\text{ F}$$\n\nConverting this to picofarads:\n$$C_{H,min} = 3.211264 \\text{ pF}$$\n\nRounding to three significant figures, we get:\n$$C_{H,min} \\approx 3.21 \\text{ pF}$$", "answer": "$$\\boxed{3.21}$$", "id": "1330135"}, {"introduction": "The previous exercises show that the hold capacitor plays a central role in both acquisition speed and hold stability, but its effects on these two metrics are opposing. This conceptual problem [@problem_id:1330142] crystallizes this fundamental design conflict. By analyzing how changing the capacitor's value affects both the acquisition time constant and the droop rate, you will gain insight into the core trade-off every analog designer faces when optimizing a sample-and-hold circuit.", "problem": "An engineer is designing a data acquisition system that utilizes a basic Sample-and-Hold (S/H) circuit. The circuit consists of an electronic switch with a constant on-resistance $R_{on}$, a hold capacitor with an initial capacitance $C_{H,1}$, and ideal buffering amplifiers. During the \"hold\" mode, a constant, non-zero leakage current $I_{leak}$ flows out of the capacitor, causing its voltage to gradually decrease. This phenomenon is quantified by the droop rate. The speed at which the circuit can acquire the input signal is characterized by the acquisition time constant, $\\tau_{acq}$.\n\nTo improve the circuit's performance by reducing the voltage decay during the hold phase, the engineer decides to replace the original hold capacitor with a new one of capacitance $C_{H,2} = 2 C_{H,1}$. All other components and their characteristics, including $R_{on}$ and $I_{leak}$, remain unchanged.\n\nWhich of the following statements correctly describes the effect of this modification on the droop rate and the acquisition time constant?\n\nA. The droop rate is halved, and the acquisition time constant is doubled.\n\nB. The droop rate is doubled, and the acquisition time constant is halved.\n\nC. Both the droop rate and the acquisition time constant are doubled.\n\nD. Both the droop rate and the acquisition time constant are halved.", "solution": "To determine the effect of changing the hold capacitor's value, we must analyze its impact on the two specified performance metrics: the acquisition time constant and the droop rate.\n\nFirst, let's analyze the acquisition time constant, $\\tau_{acq}$. During the \"sample\" or \"acquisition\" phase, the electronic switch is closed, and the hold capacitor $C_H$ charges towards the input voltage. This charging process is modeled as a simple RC circuit, where the resistance is the switch's on-resistance, $R_{on}$. The time constant for this RC circuit is given by the product of the resistance and the capacitance.\nInitially, with capacitor $C_{H,1}$, the acquisition time constant is:\n$$ \\tau_{acq, 1} = R_{on} C_{H,1} $$\nAfter the modification, the new capacitor is $C_{H,2} = 2 C_{H,1}$. The new acquisition time constant, $\\tau_{acq, 2}$, is:\n$$ \\tau_{acq, 2} = R_{on} C_{H,2} = R_{on} (2 C_{H,1}) = 2 (R_{on} C_{H,1}) = 2 \\tau_{acq, 1} $$\nTherefore, doubling the capacitance doubles the acquisition time constant.\n\nNext, let's analyze the droop rate. During the \"hold\" phase, the switch is open. The voltage across the capacitor, $V_H$, is ideally constant. However, due to the leakage current $I_{leak}$ discharging the capacitor, the voltage changes over time. The fundamental relationship between current, capacitance, and the rate of change of voltage for a capacitor is $I = C \\frac{dV}{dt}$.\nIn our case, the current is the leakage current $I_{leak}$ discharging the capacitor $C_H$. The droop rate is defined as the magnitude of the rate of voltage change across the capacitor.\n$$ \\text{Droop Rate} = \\left| \\frac{dV_H}{dt} \\right| $$\nFrom the capacitor equation, we have:\n$$ \\left| \\frac{dV_H}{dt} \\right| = \\frac{I_{leak}}{C_H} $$\nInitially, with capacitor $C_{H,1}$, the droop rate is:\n$$ \\text{Droop Rate}_1 = \\frac{I_{leak}}{C_{H,1}} $$\nAfter replacing the capacitor with $C_{H,2} = 2 C_{H,1}$, the new droop rate is:\n$$ \\text{Droop Rate}_2 = \\frac{I_{leak}}{C_{H,2}} = \\frac{I_{leak}}{2 C_{H,1}} = \\frac{1}{2} \\left( \\frac{I_{leak}}{C_{H,1}} \\right) = \\frac{1}{2} \\text{Droop Rate}_1 $$\nTherefore, doubling the capacitance halves the droop rate.\n\nCombining our findings, doubling the hold capacitance results in the acquisition time constant being doubled and the droop rate being halved. This corresponds to option A.", "answer": "$$\\boxed{A}$$", "id": "1330142"}]}