{"hands_on_practices": [{"introduction": "The defining characteristic of a dual-slope ADC is its two-phase conversion process, which translates an analog voltage into a time interval. This first exercise provides a practical application of this core principle. By calculating the total conversion time for a given input, you will directly engage with the fundamental relationship between the input voltage $V_{\\text{in}}$, the reference voltage $V_{\\text{ref}}$, and the fixed integration period $T_1$, solidifying your understanding of the converter's basic operation [@problem_id:1300342].", "problem": "An electronics engineer is designing a custom Analog-to-Digital Converter (ADC) for a high-precision environmental monitoring station. The ADC is of the dual-slope integrating type, chosen for its excellent noise rejection properties when measuring slowly varying signals.\n\nThe key parameters of the ADC design are as follows:\n- The ADC has a resolution of 12 bits. Its internal counter is incremented with each cycle of a system clock.\n- The system clock frequency, $f_{clk}$, is precisely 4.096 MHz.\n- The ADC uses a negative reference voltage, $V_{ref} = -2.500$ V. The input is designed to measure positive voltages, with a full-scale range from 0 V up to $|V_{ref}|$.\n- The design specifies that the initial integration phase (the first slope) for any conversion always lasts for the maximum number of counts possible for the 12-bit counter.\n\nA sensor connected to the ADC provides a stable input voltage of $V_{in} = +1.500$ V. Calculate the total time required for the ADC to complete one full conversion cycle for this specific input voltage. Express your final answer in milliseconds (ms), rounded to three significant figures.", "solution": "A dual-slope ADC integrates the input for a fixed time and then integrates with a reference of opposite polarity until the integrator output returns to zero. The de-integration time is proportional to the input voltage and given by\n$$\nT_{2}=\\frac{V_{in}}{|V_{ref}|}T_{1}.\n$$\nThe initial integration time equals the maximum counter length divided by the clock frequency:\n$$\nT_{1}=\\frac{N_{\\max}}{f_{clk}},\\quad N_{\\max}=2^{12}=4096,\\quad f_{clk}=4.096\\times 10^{6}.\n$$\nThus,\n$$\nT_{1}=\\frac{4096}{4.096\\times 10^{6}}=\\left(\\frac{4096}{4.096}\\right)\\times 10^{-6}\\,\\text{s}=1000\\times 10^{-6}\\,\\text{s}=1.000\\times 10^{-3}\\,\\text{s}.\n$$\nWith $V_{in}=1.500$ and $|V_{ref}|=2.500$,\n$$\nT_{2}=\\frac{1.500}{2.500}\\left(1.000\\times 10^{-3}\\right)\\,\\text{s}=0.600\\times 10^{-3}\\,\\text{s}.\n$$\nThe total conversion time is\n$$\nT_{\\text{total}}=T_{1}+T_{2}=1.000\\times 10^{-3}+0.600\\times 10^{-3}=1.600\\times 10^{-3}\\,\\text{s}=1.60\\,\\text{ms}\n$$\nrounded to three significant figures.", "answer": "$$\\boxed{1.60}$$", "id": "1300342"}, {"introduction": "Behind the elegant analog process of integration and de-integration lies a precise digital controller that orchestrates the entire sequence. This practice shifts our focus from the analog signal path to the digital 'brain' of the ADC: the finite state machine. Understanding the state transitions and their trigger conditions is key to appreciating how the theoretical phases are implemented and managed in a practical circuit design [@problem_id:1300339].", "problem": "A simplified digital control logic for a dual-slope integrating Analog-to-Digital Converter (ADC) is being designed using a finite state machine model. The primary function of this logic is to correctly sequence the operational phases of the ADC.\n\nThe state machine has three distinct states:\n-   `S0_IDLE`: The initial state where the converter's integrator is reset and the system is waiting for a conversion command.\n-   `S1_INTEGRATE`: The state where the unknown positive analog input voltage, $V_{in}$, is integrated for a fixed period of time, $T_1$.\n-   `S2_DEINTEGRATE`: The state where a known negative reference voltage, $-V_{ref}$, is integrated, causing the integrator's output voltage to ramp back towards its initial value (zero). The time taken for this phase, $T_2$, is measured by a digital counter to determine the value of $V_{in}$.\n\nThe transitions between these states are governed by three binary input signals to the control logic:\n-   `START`: A signal that is set to logical `1` to initiate a conversion. The controller should transition out of the idle state when it detects `START=1`.\n-   `TIMER_FLAG`: A signal from a fixed-duration timer. It remains at logical `0` during the timing interval and transitions to `1` at the exact moment the fixed integration time $T_1$ has elapsed. The hardware ensures this flag is reset to `0` upon leaving the `S1_INTEGRATE` state.\n-   `COMP`: The output of a zero-crossing comparator. It is at logical `0` as long as the integrator's output is non-zero and transitions to `1` at the instant the output returns to zero.\n\nWhich of the following options correctly describes the sequence of state transitions and the conditions that trigger them for a single, complete conversion cycle?\n\nA. The system starts in `S0_IDLE`. It transitions to `S1_INTEGRATE` if `START=1`. From `S1_INTEGRATE`, it transitions to `S2_DEINTEGRATE` if `COMP=1`. From `S2_DEINTEGRATE`, it transitions back to `S0_IDLE` if `TIMER_FLAG=1`.\n\nB. The system starts in `S0_IDLE`. It transitions to `S1_INTEGRATE` if `START=1`. From `S1_INTEGRATE`, it transitions to `S2_DEINTEGRATE` if `TIMER_FLAG=1`. From `S2_DEINTEGRATE`, it transitions back to `S0_IDLE` if `COMP=1`.\n\nC. The system starts in `S0_IDLE`. It transitions to `S2_DEINTEGRATE` if `START=1`. From `S2_DEINTEGRATE`, it transitions to `S1_INTEGRATE` if `TIMER_FLAG=1`. From `S1_INTEGRATE`, it transitions back to `S0_IDLE` if `COMP=1`.\n\nD. The system starts in `S0_IDLE`. It transitions to `S1_INTEGRATE` if `START=1`. From `S1_INTEGRATE`, it transitions directly back to `S0_IDLE` if `TIMER_FLAG=1`.\n\nE. The system starts in `S0_IDLE`. It transitions to `S1_INTEGRATE` if `TIMER_FLAG=1`. From `S1_INTEGRATE`, it transitions to `S2_DEINTEGRATE` if `START=1`. From `S2_DEINTEGRATE`, it transitions back to `S0_IDLE` if `COMP=1`.", "solution": "A dual-slope integrating ADC operates in two timed phases governed by an integrator and a zero-crossing event. The op-amp integrator obeys\n$$\nv_{o}(t)=v_{o}(0)-\\frac{1}{RC}\\int_{0}^{t} v_{in}(\\tau)\\,d\\tau.\n$$\nIn the first phase (integration), with constant unknown input $V_{in}$ applied for a fixed time $T_{1}$, the output evolves from the reset condition $v_{o}(0)=0$ to\n$$\nv_{o}(T_{1})=-\\frac{V_{in}}{RC}T_{1}.\n$$\nThe transition from this phase to the next must occur exactly when the fixed time $T_{1}$ elapses. By definition of the control input, this occurs when the timer asserts $TIMER\\_FLAG=1$. Therefore, the correct S1 to S2 transition condition is $TIMER\\_FLAG=1$.\n\nIn the second phase (de-integration), a constant reference of $-V_{ref}$ is applied. The output then evolves as\n$$\nv_{o}(T_{1}+t)=v_{o}(T_{1})-\\frac{1}{RC}\\int_{0}^{t}(-V_{ref})\\,d\\tau=v_{o}(T_{1})+\\frac{V_{ref}}{RC}t.\n$$\nThe de-integration ends when the output returns to zero, which defines the time $T_{2}$ by\n$$\n0=v_{o}(T_{1})+\\frac{V_{ref}}{RC}T_{2}\\quad\\Longrightarrow\\quad T_{2}=\\frac{V_{in}}{V_{ref}}T_{1}.\n$$\nThe zero-crossing comparator asserts $COMP=1$ exactly at this return-to-zero event, so the transition from S2 back to S0 must be triggered by $COMP=1$.\n\nThe conversion starts from the reset state S0 and should leave idle when a conversion is commanded, i.e., when $START=1$, so the S0 to S1 transition condition is $START=1$.\n\nCollecting the correct transitions for a complete conversion:\n- S0 to S1 on $START=1$,\n- S1 to S2 on $TIMER\\_FLAG=1$,\n- S2 to S0 on $COMP=1$.\n\nAmong the options, this sequence and these trigger conditions are exactly described by option B, while the others mismatch the physical and timing events of dual-slope conversion:\n- A incorrectly uses $COMP=1$ to leave S1 and $TIMER\\_FLAG=1$ to leave S2, which reverses the correct roles.\n- C starts with S2 on $START=1$, which contradicts the required integrate-then-deintegrate order.\n- D omits the necessary de-integration phase.\n- E assigns $TIMER\\_FLAG$ to initiate S1 and $START$ to leave S1, both of which contradict the defined signal roles.\n\nTherefore, the correct choice is B.", "answer": "$$\\boxed{B}$$", "id": "1300339"}, {"introduction": "An ideal circuit provides a clear theoretical model, but real-world performance depends on how the circuit handles component imperfections. This final practice explores a critical aspect of dual-slope ADC accuracy: its sensitivity to the reference voltage. By analyzing how an error in $V_{\\text{ref}}$ affects the final digital output, you will uncover one of the most important design considerations for high-precision measurement and appreciate why a stable voltage reference is paramount [@problem_id:1300364].", "problem": "An electronics engineer is performing quality control on a batch of 12-bit dual-slope integrating Analog-to-Digital Converters (ADCs). The standard operation of this ADC involves two phases. In the first phase, an unknown positive input voltage $V_{in}$ is integrated for a fixed time interval $T_1$, which corresponds to the counter running for its full range of $2^{12}$ clock cycles. In the second phase, the integrator input is switched to a negative reference voltage, $-V_{ref}$, and the time interval $T_2$ required for the integrator output to return to its initial (zero) state is measured by the counter. The final digital output is the count accumulated during $T_2$.\n\nDuring testing, it is discovered that the reference voltage source in one of the ADCs is faulty. Its magnitude is consistently 10.0% higher than the nominal design value, $V_{ref, nominal}$. All other components, including the integration resistor $R$, capacitor $C$, and the system clock, are functioning perfectly. For a given stable input voltage $V_{in}$, this fault results in an error in the ADC's digital output.\n\nWhich of the following statements most accurately describes the error in the digital output code produced by the faulty ADC compared to the ideal output from a non-faulty ADC?\n\nA. The output code is 10.0% too high.\nB. The output code is 10.0% too low.\nC. The output code is approximately 9.1% too high.\nD. The output code is approximately 9.1% too low.\nE. There is no error in the output code.", "solution": "In a dual-slope ADC, the integrator output after integrating a constant input voltage for a time interval is proportional to the time integral of the input. Let the integrator start at zero. During the first phase, with constant input $V_{in}$ applied for the fixed time $T_{1}$, the integrator output at the end of phase one, for a standard inverting integrator, is\n$$\nV_{o}(T_{1})=-\\frac{V_{in}T_{1}}{RC}.\n$$\nIn the second phase, the input is switched to the constant value $-V_{ref}$, so the integrator output ramps upward with a constant slope:\n$$\n\\frac{dV_{o}}{dt}=\\frac{-(-V_{ref})}{RC} = \\frac{V_{ref}}{RC}.\n$$\nThe time $T_{2}$ required to return the integrator output to zero satisfies\n$$\n0=-\\frac{V_{in}T_{1}}{RC}+\\frac{V_{ref}T_{2}}{RC}\\quad\\Rightarrow\\quad T_{2}=\\frac{V_{in}}{V_{ref}}\\,T_{1}.\n$$\nThe counter runs at clock frequency $f_{clk}$. During the fixed first phase, $T_{1}$ corresponds to the full-scale count $N_{1}=2^{12}$, so $T_{1}=\\frac{N_{1}}{f_{clk}}$. The digital output is the count accumulated during $T_{2}$:\n$$\nN_{2}=f_{clk}T_{2}=f_{clk}\\left(\\frac{V_{in}}{V_{ref}}T_{1}\\right)=\\frac{V_{in}}{V_{ref}}\\,N_{1}.\n$$\nThus the output code is inversely proportional to $V_{ref}$. For an ideal ADC with $V_{ref}=V_{ref,nominal}$,\n$$\nN_{ideal}=\\frac{V_{in}}{V_{ref,nominal}}\\,N_{1}.\n$$\nWith the faulty reference $V_{ref}=1.10\\,V_{ref,nominal}$,\n$$\nN_{faulty}=\\frac{V_{in}}{1.10\\,V_{ref,nominal}}\\,N_{1}=\\frac{1}{1.10}\\,N_{ideal}.\n$$\nThe relative error is\n$$\n\\frac{N_{faulty}-N_{ideal}}{N_{ideal}}=\\frac{1}{1.10}-1=-\\frac{0.10}{1.10}=-\\frac{1}{11}\\approx -0.0909\n$$\nwhich means the faulty ADC’s output code is approximately $9.1\\%$ lower than the ideal value. Therefore, the correct choice is that the output code is approximately $9.1$ percent too low.", "answer": "$$\\boxed{D}$$", "id": "1300364"}]}