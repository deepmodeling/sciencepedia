{"hands_on_practices": [{"introduction": "The fundamental advantage of a Delta-Sigma ADC is its ability to shape quantization noise, pushing it out of the signal band of interest. This concept is mathematically captured by the Noise Transfer Function (NTF), which acts as a high-pass filter for the noise. This first exercise [@problem_id:1296445] invites you to analyze the frequency response of an ideal first-order NTF to find the point of maximum noise suppression, revealing the core principle behind why these converters are so effective for high-resolution applications.", "problem": "A Delta-Sigma ($\\Delta\\Sigma$) modulator is a core component in modern high-resolution Analog-to-Digital Converters (ADCs). Its primary function is to digitize an analog signal while employing a technique called \"noise shaping.\" This process strategically alters the frequency spectrum of the quantization noise, pushing most of the noise power to higher frequencies, away from the desired signal band.\n\nThe effectiveness of this noise shaping is described by the Noise Transfer Function (NTF). For a simple, ideal first-order $\\Delta\\Sigma$ modulator, the NTF in the z-domain is given by:\n$$H_{NTF}(z) = 1 - z^{-1}$$\nTo analyze its behavior in the frequency domain, we evaluate this function on the unit circle by substituting $z = \\exp(j\\omega T_s)$, where $\\omega = 2\\pi f$ is the angular frequency in radians per second, $f$ is the frequency in Hertz, $T_s$ is the sampling period, and $j$ is the imaginary unit.\n\nDetermine the lowest non-negative frequency, $f$, at which the magnitude of the noise transfer function, $|H_{NTF}|$, is minimized. This frequency corresponds to the point of maximum noise suppression. Provide your final answer as a single numerical value in units of Hz.", "solution": "The problem asks for the frequency at which the magnitude of the Noise Transfer Function (NTF) for a first-order Delta-Sigma modulator is at its minimum. The given NTF is:\n$$H_{NTF}(z) = 1 - z^{-1}$$\n\nTo find the frequency response, we substitute $z = \\exp(j\\omega T_s)$, where $\\omega = 2\\pi f$ is the angular frequency and $T_s$ is the sampling period.\n$$H_{NTF}(f) = 1 - \\exp(-j\\omega T_s)$$\n\nTo find the magnitude of this complex function, we can use Euler's formula, $\\exp(-j\\theta) = \\cos(\\theta) - j\\sin(\\theta)$.\n$$H_{NTF}(f) = 1 - (\\cos(\\omega T_s) - j\\sin(\\omega T_s))$$\n$$H_{NTF}(f) = (1 - \\cos(\\omega T_s)) + j\\sin(\\omega T_s)$$\n\nThe magnitude of a complex number $A + jB$ is given by $\\sqrt{A^2 + B^2}$. Therefore, the magnitude squared of the NTF is:\n$$|H_{NTF}(f)|^2 = (1 - \\cos(\\omega T_s))^2 + (\\sin(\\omega T_s))^2$$\nExpanding the squared term:\n$$|H_{NTF}(f)|^2 = (1 - 2\\cos(\\omega T_s) + \\cos^2(\\omega T_s)) + \\sin^2(\\omega T_s)$$\nUsing the trigonometric identity $\\cos^2(\\theta) + \\sin^2(\\theta) = 1$:\n$$|H_{NTF}(f)|^2 = 1 - 2\\cos(\\omega T_s) + 1$$\n$$|H_{NTF}(f)|^2 = 2 - 2\\cos(\\omega T_s) = 2(1 - \\cos(\\omega T_s))$$\n\nTo simplify this expression further, we use the half-angle identity $1 - \\cos(\\theta) = 2\\sin^2(\\frac{\\theta}{2})$.\n$$|H_{NTF}(f)|^2 = 2 \\left( 2\\sin^2\\left(\\frac{\\omega T_s}{2}\\right) \\right) = 4\\sin^2\\left(\\frac{\\omega T_s}{2}\\right)$$\nNow, we take the square root to find the magnitude:\n$$|H_{NTF}(f)| = \\sqrt{4\\sin^2\\left(\\frac{\\omega T_s}{2}\\right)} = \\left|2\\sin\\left(\\frac{\\omega T_s}{2}\\right)\\right|$$\n\nWe want to find the frequency $f$ that minimizes this magnitude. The magnitude will be at its minimum when the term $\\left|\\sin\\left(\\frac{\\omega T_s}{2}\\right)\\right|$ is minimum. The absolute minimum value of the sine function is 0. This occurs when its argument is an integer multiple of $\\pi$.\n$$\\frac{\\omega T_s}{2} = n\\pi, \\quad \\text{for } n \\in \\mathbb{Z}$$\nSubstituting $\\omega = 2\\pi f$:\n$$\\frac{(2\\pi f) T_s}{2} = n\\pi$$\n$$f T_s = n$$\n$$f = \\frac{n}{T_s}$$\nSince the sampling frequency is $f_s = 1/T_s$, we have:\n$$f = n f_s$$\n\nThe problem asks for the lowest non-negative frequency. This corresponds to the smallest non-negative integer value for $n$, which is $n=0$.\nFor $n=0$, the frequency is:\n$$f = 0 \\cdot f_s = 0 \\text{ Hz}$$\nThis result signifies that the ideal first-order noise shaping maximally suppresses noise at DC (0 Hz), which is the intended behavior for preserving low-frequency signals.", "answer": "$$\\boxed{0}$$", "id": "1296445"}, {"introduction": "Now that we've seen *that* noise is shaped, let's explore *how* the modulator's internal feedback loop accomplishes this. The output of a $\\Delta\\Sigma$ modulator is a high-speed stream of bits whose average value must track the analog input. In this practice [@problem_id:1296454], you will reverse-engineer this process by analyzing a stable, repeating output pattern to deduce the exact DC input that produced it, providing a concrete link between the digital output and the analog source.", "problem": "A first-order, single-bit delta-sigma (ΔΣ) modulator is analyzed under a constant DC input. The behavior of this modulator is described by a set of discrete-time equations. The input is a constant, normalized DC voltage level, denoted by $x$. The modulator's core component is an integrator whose internal state at time step $k$ is $u[k]$. The state evolves according to the recursive relation:\n$$u[k] = u[k-1] + x - y[k-1]$$\nAt each time step, the integrator's state is quantized by a comparator to produce a single binary output bit, $b[k]$. The quantization rule is:\n- $b[k] = 1$ if $u[k] \\geq 0$\n- $b[k] = 0$ if $u[k] < 0$\n\nA 1-bit Digital-to-Analog Converter (DAC) in the feedback path converts the binary output $b[k]$ into an analog level $y[k]$ which is fed back and subtracted from the input at the next time step. The DAC's mapping is defined as:\n- $y[k] = +1$ if $b[k]=1$\n- $y[k] = -1$ if $b[k]=0$\n\nAfter the system stabilizes with the constant DC input $x$, the binary output sequence $b[k]$ is observed to be a repeating digital pattern of `1110`. Assuming the system is in this periodic steady state (a limit cycle), determine the value of the normalized DC input level $x$.", "solution": "Let the repeating output bit pattern be $b[0],b[1],b[2],b[3]=1,1,1,0$, which implies the feedback levels $y[0],y[1],y[2],y[3]=+1,+1,+1,-1$. In periodic steady state with period $4$, the state recursion\n$$u[k]=u[k-1]+x-y[k-1]$$\nmust produce a state sequence that is also $4$-periodic, so the state just before $k=0$ equals the state at $k=3$: $u[-1]=u[3]$.\n\nWrite the state values over one period in terms of $u[-1]$ and $x$, using $y[-1]=y[3]=-1$ due to periodicity:\n$$u[0]=u[-1]+x-y[-1]=u[-1]+x+1,$$\n$$u[1]=u[0]+x-y[0]=u[-1]+2x,$$\n$$u[2]=u[1]+x-y[1]=u[-1]+3x-1,$$\n$$u[3]=u[2]+x-y[2]=u[-1]+4x-2.$$\nImposing periodicity of the state, $u[3]=u[-1]$, yields $u[-1]+4x-2=u[-1]$, which implies $4x-2=0$, and therefore $x=\\frac{1}{2}$.\n\nIt remains to verify the comparator consistency with $b[0],b[1],b[2],b[3]=1,1,1,0$. Substituting $x=\\frac{1}{2}$ gives\n$$u[0]=u[-1]+\\frac{3}{2},\\quad u[1]=u[-1]+1,\\quad u[2]=u[-1]+\\frac{1}{2},\\quad u[3]=u[-1].$$\nThe sign conditions $u[0]\\ge 0$, $u[1]\\ge 0$, $u[2]\\ge 0$, $u[3]<0$ reduce to\n$$u[-1]\\ge -\\frac{3}{2},\\quad u[-1]\\ge -1,\\quad u[-1]\\ge -\\frac{1}{2},\\quad u[-1]<0,$$\nwhich are simultaneously satisfied for any $u[-1] \\in \\left[-\\frac{1}{2}, 0\\right)$. Hence the pattern is feasible, and the input level is uniquely determined as $x=\\frac{1}{2}$.", "answer": "$$\\boxed{\\frac{1}{2}}$$", "id": "1296454"}, {"introduction": "Building on the principles of noise shaping and bitstream encoding, this final exercise [@problem_id:1296430] puts you in the role of a design engineer. High-performance applications demand a specific Signal-to-Quantization-Noise Ratio (SQNR), which is directly linked to design choices like the oversampling ratio (OSR) and modulator order. This problem challenges you to use the governing SQNR equation to calculate the minimum OSR needed to meet a demanding high-fidelity audio specification, translating theoretical knowledge into a practical design parameter.", "problem": "An audio electronics engineer is tasked with designing a system to digitize a signal for a high-fidelity audio application. The signal has a maximum frequency component of $f_{max} = 20.0$ kHz. The engineer decides to use a Delta-Sigma ($\\Delta\\Sigma$) Analog-to-Digital Converter (ADC). The chosen ADC architecture features a first-order modulator ($L=1$) and a 1-bit internal quantizer ($N=1$). To achieve the desired audio quality, the system must meet a minimum Signal-to-Quantization-Noise Ratio (SQNR) of $90.0$ dB.\n\nThe theoretical SQNR for a $\\Delta\\Sigma$ modulator is given by the expression:\n$$ \\text{SQNR (in dB)} = (6.02 N + 1.76) + (20 L + 10) \\log_{10}(\\text{OSR}) $$\nwhere $N$ is the number of bits in the quantizer, $L$ is the order of the modulator, and OSR is the Oversampling Ratio.\n\nCalculate the minimum required Oversampling Ratio (OSR) to meet the specified SQNR performance. Round your final answer to three significant figures.", "solution": "We use the given SQNR relation for a delta-sigma modulator:\n$$\\text{SQNR}_{\\text{dB}} = (6.02 N + 1.76) + (20 L + 10)\\log_{10}(\\text{OSR}).$$\nSubstituting the specified values $N=1$, $L=1$, and the target $\\text{SQNR}_{\\text{dB}}=90.0$, we get\n$$90.0 = (6.02 \\cdot 1 + 1.76) + (20 \\cdot 1 + 10)\\log_{10}(\\text{OSR}).$$\nCompute the constants:\n$(6.02 \\cdot 1 + 1.76) = 7.78, \\quad (20 \\cdot 1 + 10) = 30.$\nThus,\n$$90.0 = 7.78 + 30 \\log_{10}(\\text{OSR}).$$\nIsolate the logarithm:\n$$30 \\log_{10}(\\text{OSR}) = 90.0 - 7.78 = 82.22,$$\n$$\\log_{10}(\\text{OSR}) = \\frac{82.22}{30}.$$\nExponentiating base 10 gives\n$$\\text{OSR} = 10^{82.22/30} \\approx 5.50396 \\times 10^{2}.$$\nRounding to three significant figures, the minimum required OSR is\n$$\\text{OSR} \\approx 5.50 \\times 10^{2}.$$", "answer": "$$\\boxed{5.50 \\times 10^{2}}$$", "id": "1296430"}]}