{"hands_on_practices": [{"introduction": "The first step in working with any LTI system is to bridge the gap between its time-domain representation and its frequency-domain characteristics. This practice guides you through the fundamental process of taking a system described by a difference equation, deriving its transfer function $H(z)$ using the Z-transform, and then verifying if it meets the core condition of an all-pass system: a magnitude response $|H(e^{j\\omega})|$ that remains constant for all frequencies. This exercise solidifies your understanding of how to identify an all-pass system from its basic mathematical description.", "problem": "A causal, discrete-time Linear Time-Invariant (LTI) system is designed as a simple phase equalizer. It relates the output signal $y[n]$ to the input signal $x[n]$ through the following difference equation:\n\n$$y[n] - 0.25y[n-1] = x[n-1] - 0.25x[n]$$\n\nYour task is to determine the transfer function $H(z) = Y(z)/X(z)$ of this system and to classify whether it is an all-pass system. An all-pass system is defined as a system whose frequency response magnitude is constant for all frequencies.\n\nWhich one of the following statements accurately describes the system?\n\nA. The transfer function is $H(z) = \\frac{z^{-1} - 0.25}{1 - 0.25z^{-1}}$, and the system is an all-pass system.\n\nB. The transfer function is $H(z) = \\frac{z^{-1} - 0.25}{1 - 0.25z^{-1}}$, and the system is not an all-pass system.\n\nC. The transfer function is $H(z) = \\frac{1 - 0.25z^{-1}}{z^{-1} - 0.25}$, and the system is an all-pass system.\n\nD. The transfer function is $H(z) = \\frac{z - 0.25}{1 - 0.25z}$, and the system is not an all-pass system.\n\nE. The transfer function is $H(z) = \\frac{z^{-1} + 0.25}{1 + 0.25z^{-1}}$, and the system is not an all-pass system.", "solution": "Start from the given causal LTI difference equation:\n$$\ny[n]-\\frac{1}{4}y[n-1]=x[n-1]-\\frac{1}{4}x[n].\n$$\nTaking the $z$-transform of both sides under zero initial conditions and using linearity and the shift property $\\mathcal{Z}\\{x[n-k]\\}=z^{-k}X(z)$ gives\n$$\nY(z)-\\frac{1}{4}z^{-1}Y(z)=z^{-1}X(z)-\\frac{1}{4}X(z).\n$$\nFactor $Y(z)$ and $X(z)$ to obtain\n$$\n\\bigl(1-\\tfrac{1}{4}z^{-1}\\bigr)Y(z)=\\bigl(z^{-1}-\\tfrac{1}{4}\\bigr)X(z).\n$$\nHence the transfer function is\n$$\nH(z)\\equiv\\frac{Y(z)}{X(z)}=\\frac{z^{-1}-\\tfrac{1}{4}}{1-\\tfrac{1}{4}z^{-1}}.\n$$\nTo test the all-pass property, evaluate the frequency response on the unit circle $z=\\exp(j\\omega)$:\n$$\nH\\bigl(\\exp(j\\omega)\\bigr)=\\frac{\\exp(-j\\omega)-\\tfrac{1}{4}}{1-\\tfrac{1}{4}\\exp(-j\\omega)}.\n$$\nCompute the squared magnitude:\n$$\n\\left|H\\bigl(\\exp(j\\omega)\\bigr)\\right|^{2}\n= \\frac{\\left(\\exp(-j\\omega)-\\tfrac{1}{4}\\right)\\left(\\exp(j\\omega)-\\tfrac{1}{4}\\right)}{\\left(1-\\tfrac{1}{4}\\exp(-j\\omega)\\right)\\left(1-\\tfrac{1}{4}\\exp(j\\omega)\\right)}.\n$$\nExpand numerator and denominator:\n$$\n\\left(\\exp(-j\\omega)-\\tfrac{1}{4}\\right)\\left(\\exp(j\\omega)-\\tfrac{1}{4}\\right)\n= 1-\\tfrac{1}{4}\\exp(j\\omega)-\\tfrac{1}{4}\\exp(-j\\omega)+\\left(\\tfrac{1}{4}\\right)^{2},\n$$\n$$\n\\left(1-\\tfrac{1}{4}\\exp(-j\\omega)\\right)\\left(1-\\tfrac{1}{4}\\exp(j\\omega)\\right)\n= 1-\\tfrac{1}{4}\\exp(j\\omega)-\\tfrac{1}{4}\\exp(-j\\omega)+\\left(\\tfrac{1}{4}\\right)^{2}.\n$$\nSince numerator and denominator are identical, it follows that\n$$\n\\left|H\\bigl(\\exp(j\\omega)\\bigr)\\right|=1 \\quad \\text{for all } \\omega.\n$$\nTherefore the system is all-pass. Comparing with the options, the correct statement is that $H(z)=\\frac{z^{-1}-0.25}{1-0.25z^{-1}}$ and the system is an all-pass system.", "answer": "$$\\boxed{A}$$", "id": "1696641"}, {"introduction": "A deep understanding of all-pass systems comes from knowing their internal structure. This exercise moves from analysis to synthesis, challenging you to construct a filter's transfer function from a single critical piece of information: the location of a zero. This practice highlights the elegant reciprocal symmetry between poles and zeros that is foundational to stable, real-coefficient all-pass filters. Mastering this constructive approach is essential for practical filter design and for appreciating the predictive power of pole-zero plots.", "problem": "An engineer is designing a phase equalization stage for a digital audio system. The design calls for a stable, first-order, Linear Time-Invariant (LTI) all-pass filter with real-valued coefficients. Through analysis of the desired phase response, it is determined that the filter's transfer function, $H(z)$, must have a single zero located at $z = -2$.\n\nTo ensure a unique and well-behaved implementation, the filter must also satisfy two additional criteria:\n1.  The filter is normalized to have a unity magnitude response, i.e., $|H(e^{j\\omega})| = 1$ for all frequencies $\\omega$.\n2.  The filter's gain at zero frequency (DC), which corresponds to evaluating the transfer function at $z=1$, must be positive.\n\nDetermine the transfer function $H(z)$ of this filter. Express your answer as a rational function of $z$.", "solution": "We need a first-order, stable, real-coefficient, discrete-time all-pass filter with a single zero at $z=-2$, unity magnitude on the unit circle, and positive gain at DC.\n\nFor a real-coefficient first-order all-pass filter, the pole is the reciprocal (and complex conjugate) of the zero. With a real zero at $z_{0}=-2$, the corresponding pole must be at $p=1/z_{0}=-\\frac{1}{2}$ to satisfy the all-pass condition and stability (pole magnitude less than $1$).\n\nA general first-order all-pass transfer function with real parameter $a$ and $|a|<1$ is\n$$\nH(z)=c\\,\\frac{a+z^{-1}}{1+a z^{-1}},\n$$\nwhere $|c|=1$ ensures $|H(e^{j\\omega})|=1$ for all $\\omega$. This form has a zero at $z=-\\frac{1}{a}$ and a pole at $z=-a$. Matching the specified zero $z=-2$ gives\n$$\n-\\frac{1}{a}=-2 \\quad\\Rightarrow\\quad a=\\frac{1}{2},\n$$\nso the pole is at $z=-\\frac{1}{2}$, which is stable.\n\nTo enforce a positive DC gain, evaluate at $z=1$:\n$$\nH(1)=c\\,\\frac{a+1}{1+a}.\n$$\nWith $a=\\frac{1}{2}$, this yields $H(1)=c$. Positivity at DC requires $c=1$.\n\nThus,\n$$\nH(z)=\\frac{\\frac{1}{2}+z^{-1}}{1+\\frac{1}{2} z^{-1}}.\n$$\nExpressing as a rational function of $z$ (no negative powers) by multiplying numerator and denominator by $z$ and clearing fractions,\n$$\nH(z)=\\frac{\\frac{1}{2}z+1}{z+\\frac{1}{2}}=\\frac{z+2}{2z+1}.\n$$\nThis $H(z)$ has zero at $z=-2$, pole at $z=-\\frac{1}{2}$ (stable), unit magnitude on the unit circle, and $H(1)=1>0$, satisfying all requirements.", "answer": "$$\\boxed{\\frac{z+2}{2z+1}}$$", "id": "1696686"}, {"introduction": "The primary application of all-pass filters is to manipulate a signal's phase without altering its magnitude, which is why they are indispensable tools in applications like phase equalization. This problem puts you in the role of a designer, tasked with tuning a filter parameter, $a$, to meet a specific phase-shift requirement at a given frequency. By solving this, you will gain hands-on experience in connecting the abstract coefficients of a transfer function to tangible frequency-domain performance, a crucial skill in signal processing.", "problem": "In the design of a digital phase equalizer for audio processing, a first-order all-pass filter is often used to manipulate the phase response of a signal without altering its magnitude spectrum. Consider such a filter with the discrete-time transfer function in the Z-domain given by:\n$$H(z) = \\frac{z^{-1} - a}{1 - az^{-1}}$$\nFor the filter to be stable, the real-valued coefficient $a$ is restricted to the interval $(-1, 1)$. The frequency response of the filter is obtained by evaluating $H(z)$ on the unit circle, $z = e^{j\\omega}$, where $\\omega$ is the normalized angular frequency in radians per sample.\n\nA specific design requirement dictates that the filter must produce a phase shift, $\\phi(\\omega)$, whose magnitude is greater than $120$ degrees at the normalized angular frequency of $\\omega_0 = \\pi/2$ radians per sample.\n\nWhich of the following ranges for the parameter $a$ satisfies this design constraint?\n\nA. $(-1, -2+\\sqrt{3})$\n\nB. $(0, 2-\\sqrt{3})$\n\nC. $(2-\\sqrt{3}, 1)$\n\nD. $(1/\\sqrt{3}, 1)$\n\nE. $(-1, 0)$", "solution": "The filter is first-order all-pass with transfer function $H(z) = \\frac{z^{-1} - a}{1 - a z^{-1}}$ and stability constraint $a \\in (-1, 1)$. Its frequency response is obtained by substituting $z = \\exp(j\\omega)$. At the specified frequency $\\omega_{0} = \\frac{\\pi}{2}$,\n$$\nH\\!\\left(\\exp(j\\omega_{0})\\right) = \\frac{\\exp(-j\\pi/2) - a}{1 - a \\exp(-j\\pi/2)} = \\frac{-j - a}{1 + a j} = \\frac{-a - j}{1 + a j}.\n$$\nTo express this in rectangular form, multiply numerator and denominator by the complex conjugate of the denominator:\n$$\nH\\!\\left(\\exp(j\\omega_{0})\\right) = \\frac{(-a - j)(1 - a j)}{1 + a^{2}}.\n$$\nExpanding the numerator gives\n$$\n(-a - j)(1 - a j) = -a + a^{2} j - j + a j^{2} = -2a + (a^{2} - 1)j,\n$$\nhence\n$$\nH\\!\\left(\\exp(j\\omega_{0})\\right) = \\frac{-2a}{1 + a^{2}} + j\\,\\frac{a^{2} - 1}{1 + a^{2}}.\n$$\nTherefore, the phase at $\\omega_{0}$ is $\\phi(\\omega_{0}) = \\arg H$ with\n$$\n\\tan\\big(\\phi(\\omega_{0})\\big) = \\frac{\\Im\\{H\\}}{\\Re\\{H\\}} = \\frac{a^{2} - 1}{-2a} = \\frac{1 - a^{2}}{2a}.\n$$\nFor $a \\in (-1, 0)$, $\\Re\\{H\\} > 0$ and $\\Im\\{H\\} < 0$, so $\\phi(\\omega_{0}) \\in \\left(-\\frac{\\pi}{2}, 0\\right)$ and cannot satisfy $|\\phi(\\omega_{0})| > \\frac{2\\pi}{3}$. For $a \\in (0, 1)$, $\\Re\\{H\\} < 0$ and $\\Im\\{H\\} < 0$, so $\\phi(\\omega_{0}) \\in \\left(-\\pi, -\\frac{\\pi}{2}\\right)$, and we can enforce the design constraint\n$$\n|\\phi(\\omega_{0})| > \\frac{2\\pi}{3} \\quad\\Longleftrightarrow\\quad \\phi(\\omega_{0}) < -\\frac{2\\pi}{3}.\n$$\nIn the third quadrant, $\\tan$ is positive and strictly increasing, so the threshold for equality is obtained from\n$$\n\\tan\\big(\\phi(\\omega_{0})\\big) = \\tan\\!\\left(-\\frac{2\\pi}{3}\\right) = \\sqrt{3}.\n$$\nThus, for $a>0$ we solve\n$$\n\\frac{1 - a^{2}}{2a} = \\sqrt{3} \\;\\;\\Longleftrightarrow\\;\\; 1 - a^{2} = 2\\sqrt{3}\\,a \\;\\;\\Longleftrightarrow\\;\\; a^{2} + 2\\sqrt{3}\\,a - 1 = 0.\n$$\nSolving the quadratic gives\n$$\na = -\\sqrt{3} \\pm 2.\n$$\nThe admissible solution in $(0, 1)$ is $a = 2 - \\sqrt{3}$. Since $\\phi(\\omega_{0})$ decreases monotonically from $-\\frac{\\pi}{2}$ to $-\\pi$ as $a$ increases from $0$ to $1$, the strict inequality $|\\phi(\\omega_{0})| > \\frac{2\\pi}{3}$ holds precisely for\n$$\na \\in \\big(2 - \\sqrt{3},\\,1\\big).\n$$\nAmong the given options, this is option C.", "answer": "$$\\boxed{C}$$", "id": "1696675"}]}