{"hands_on_practices": [{"introduction": "要真正掌握竞争风险分析，首先必须理解其核心量——累积发生函数（CIF）和总生存函数——是如何从基本定义中推导出来的。本练习提供了一个动手实践的机会，在一个清晰、理想化的恒定风险场景中，利用第一性原理从头开始构建这些函数。通过这个过程，你将加深对这些概念背后数学基础的理解。", "problem": "一个患者队列因两种互斥的失效原因（事件结局）被随访：原因 $1$ 对应于疾病特异性死亡，原因 $2$ 对应于非疾病死亡。假设没有右删失，并且特定原因的风险函数随时间恒定，对于所有 $t \\ge 0$，特定原因的风险函数分别为 $\\lambda_{1}(t)=0.02$ 和 $\\lambda_{2}(t)=0.01$。仅使用风险、生存和无穷小时间间隔内事件概率的基本定义，从第一性原理推导原因 $1$ 的累积发生率函数（记为 $F_{1}(t)$）和总生存函数 $S(t)$ 的表达式。然后，计算 $F_{1}(3)$ 和 $S(3)$ 的值。\n\n将两个数值答案均表示为四舍五入到四位有效数字的小数。", "solution": "该问题是有效的，因为它在科学上基于生存分析中的竞争风险理论，问题陈述清晰且提供了所有必要的数据，并以客观、正式的语言表达。我们可以进行推导。\n\n设 $T$ 为失效时间，$J \\in \\{1, 2\\}$ 为失效原因。给定特定原因的风险函数，它们随时间恒定：\n原因 $1$ 的失效风险函数为 $\\lambda_{1}(t) = \\lambda_{1} = 0.02$。\n原因 $2$ 的失效风险函数为 $\\lambda_{2}(t) = \\lambda_{2} = 0.01$。\n\n首先，我们推导总生存函数 $S(t) = P(T > t)$。总风险函数 $\\lambda(t)$ 是在存活至时间 $t$ 的条件下，在时间 $t$ 因任何原因发生失效的瞬时速率。由于这些原因是互斥的，总风险是特定原因风险之和：\n$$ \\lambda(t) = \\lambda_1(t) + \\lambda_2(t) = 0.02 + 0.01 = 0.03 $$\n总风险 $\\lambda(t)$ 也是恒定的。\n\n根据其基本定义，风险函数与生存函数 $S(t)$ 相关，表示为生存概率的瞬时下降率，并由生存概率本身进行归一化。\n$$ \\lambda(t) = \\lim_{\\Delta t \\to 0} \\frac{P(t \\le T  t+\\Delta t | T \\ge t)}{\\Delta t} = \\lim_{\\Delta t \\to 0} \\frac{S(t) - S(t+\\Delta t)}{\\Delta t \\cdot S(t)} = -\\frac{1}{S(t)}\\frac{dS(t)}{dt} $$\n这给出了一个一阶常微分方程：\n$$ \\frac{dS(t)}{dt} = -\\lambda(t)S(t) $$\n我们可以通过分离变量法来解这个方程：\n$$ \\frac{dS(t)}{S(t)} = -\\lambda(t)dt $$\n在初始条件 $S(0) = 1$（存活超过时间 $0$ 的概率为 $1$）下，对两边从 $0$ 到 $t$ 进行积分：\n$$ \\int_{S(0)}^{S(t)} \\frac{d S'}{S'} = -\\int_0^t \\lambda(u)du $$\n$$ \\ln(S(t)) - \\ln(S(0)) = -\\int_0^t \\lambda(u)du $$\n$$ \\ln(S(t)) = -\\int_0^t \\lambda(u)du $$\n对两边取指数，得到生存函数的一般表达式：\n$$ S(t) = \\exp\\left(-\\int_0^t \\lambda(u)du\\right) $$\n代入我们的恒定总风险 $\\lambda(u) = 0.03$：\n$$ S(t) = \\exp\\left(-\\int_0^t 0.03 du\\right) = \\exp(-0.03[u]_0^t) = \\exp(-0.03t) $$\n这就是所要求的总生存函数 $S(t)$ 的表达式。\n\n接下来，我们推导原因 $1$ 的累积发生率函数 (CIF)，$F_1(t) = P(T \\le t, J=1)$。这表示在时间 $t$ 之前因原因 $1$ 而失效的概率。\n从第一性原理出发，在无穷小时间间隔 $[u, u+du)$ 内发生类型 $1$ 事件的概率，是存活至时间 $u$ 的概率 $S(u)$ 与在存活至 $u$ 的条件下于 $[u, u+du)$ 内发生该事件的条件概率 $\\lambda_1(u)du$ 的乘积。\n因此，无穷小概率为 $dP(T \\in [u, u+du), J=1) = S(u)\\lambda_1(u)du$。\n为了求得累积概率 $F_1(t)$，我们将此量从 $u=0$ 积分到 $u=t$：\n$$ F_1(t) = \\int_0^t S(u)\\lambda_1(u)du $$\n代入我们找到的 $S(u)$ 的表达式和给定的 $\\lambda_1(u)$：\n$$ F_1(t) = \\int_0^t \\exp(-0.03u) \\cdot 0.02 du $$\n我们可以将常数 $0.02$ 提出积分：\n$$ F_1(t) = 0.02 \\int_0^t \\exp(-0.03u) du $$\n进行积分：\n$$ F_1(t) = 0.02 \\left[ \\frac{\\exp(-0.03u)}{-0.03} \\right]_0^t = -\\frac{0.02}{0.03} \\left[ \\exp(-0.03u) \\right]_0^t $$\n$$ F_1(t) = -\\frac{2}{3} \\left( \\exp(-0.03t) - \\exp(0) \\right) $$\n$$ F_1(t) = -\\frac{2}{3} \\left( \\exp(-0.03t) - 1 \\right) $$\n$$ F_1(t) = \\frac{2}{3} \\left( 1 - \\exp(-0.03t) \\right) $$\n这就是所要求的原因 $1$ 的累积发生率函数的表达式。\n\n最后，我们计算 $S(t)$ 和 $F_1(t)$ 在 $t=3$ 时的值，并将结果四舍五入到四位有效数字。\n对于总生存函数 $S(3)$：\n$$ S(3) = \\exp(-0.03 \\times 3) = \\exp(-0.09) \\approx 0.91393118... $$\n四舍五入到四位有效数字得到 $0.9139$。\n\n对于原因 $1$ 的累积发生率函数 $F_1(3)$：\n$$ F_1(3) = \\frac{2}{3} \\left( 1 - \\exp(-0.03 \\times 3) \\right) = \\frac{2}{3} \\left( 1 - \\exp(-0.09) \\right) $$\n$$ F_1(3) \\approx \\frac{2}{3} (1 - 0.91393118) = \\frac{2}{3} (0.08606882) \\approx 0.05737921... $$\n四舍五入到四位有效数字得到 $0.05738$。\n\n最终答案 $F_1(3)$ 和 $S(3)$ 分别是 $0.05738$ 和 $0.9139$。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.05738  0.9139\n\\end{pmatrix}\n}\n$$", "id": "4956483"}, {"introduction": "生存分析中至关重要的一课是正确处理竞争风险。一个常见但错误的方法是将其他原因导致的死亡事件视为普通的删失数据。本练习通过一个具体的数值案例，向你展示为何该方法存在缺陷并会导致对事件发生概率的偏高估计，并帮助你亲手量化这种偏差的大小。[@problem_id:4956481]", "problem": "考虑一个假设的癌症登记处，有两种互斥的失败原因：原因 $1$（特定疾病死亡）和原因 $2$（其他原因死亡）。时间以年为单位，分析在 $t = 5$ 的固定时间范围内进行。假设一个离散时间竞争风险结构，在 $t = 2$ 和 $t = 4$ 有两个事件时间点，在 $t = 5$ 有管理删失。在 $t = 2$时，在 $n = 10$ 名处于风险中的患者中，有 $d_{1,2} = 2$ 例原因 $1$ 事件和 $d_{2,2} = 4$ 例原因 $2$ 事件。在 $t = 4$ 时，在剩余的处于风险中的患者中，有 $d_{1,4} = 2$ 例原因 $1$ 事件和 $d_{2,4} = 0$ 例原因 $2$ 事件。所有剩余患者均在 $t = 5$ 时被管理删失。\n\n从基本定义出发，计算：\n- 当原因 $2$ 被视为独立删失时，原因 $1$ 终点在 $t = 5$ 时的 Kaplan-Meier (KM) 估计量的补集，记为 $1 - \\hat{S}_{KM}(5)$。\n- 基于多状态竞争风险模型（即，将两种原因都计入离开初始状态的风险），原因 $1$ 在 $t = 5$ 时的真实累积发生率函数，记为 $F_{1}(5)$。\n\n最后，量化在 $t = 5$ 时的偏差，定义为 $\\left(1 - \\hat{S}_{KM}(5)\\right) - F_{1}(5)$。将最终偏差表示为一个没有单位的十进制数。无需四舍五入。", "solution": "用户提供了一个离散时间竞争风险问题，并要求计算一个特定的偏差。我将首先验证问题陈述。\n\n### 问题验证\n\n**步骤1：提取给定信息**\n-   两种互斥的失败原因：原因 $1$ 和原因 $2$。\n-   分析的时间范围：$t = 5$ 年。\n-   离散事件时间点：$t = 2$ 和 $t = 4$。\n-   管理删失时间：$t = 5$。\n-   初始处于风险中的患者人数：$n = 10$。\n-   $t = 2$ 时的数据：\n    -   风险人数：“在 $n = 10$ 名处于风险中的患者中”。\n    -   原因 $1$ 的事件数：$d_{1,2} = 2$。\n    -   原因 $2$ 的事件数：$d_{2,2} = 4$。\n-   $t = 4$ 时的数据：\n    -   风险人数：“在剩余的处于风险中的患者中”。\n    -   原因 $1$ 的事件数：$d_{1,4} = 2$。\n    -   原因 $2$ 的事件数：$d_{2,4} = 0$。\n-   $t = 5$ 时的数据：“所有剩余患者均在 $t = 5$ 时被管理删失。”\n-   需要计算的量：\n    1.  当原因 $2$ 被视为独立删失时，原因 $1$ 终点在 $t = 5$ 时的 Kaplan-Meier 估计量的补集，$1 - \\hat{S}_{KM}(5)$。\n    2.  原因 $1$ 在 $t = 5$ 时的累积发生率函数，$F_{1}(5)$。\n    3.  在 $t = 5$ 时的偏差，定义为 $\\left(1 - \\hat{S}_{KM}(5)\\right) - F_{1}(5)$。\n\n**步骤2：使用提取的给定信息进行验证**\n-   **科学依据：** 该问题是竞争风险生存分析中的一个标准练习，这是生物统计学和流行病学中的一个核心课题。Kaplan-Meier 估计量、累积发生率函数以及将竞争风险错误地指定为删失所产生的偏差等概念是该领域的基本原则。\n-   **良态问题：** 该问题提供了计算所要求数量的所有必要数值数据和清晰定义。$t=4$ 时处于风险中的患者数量没有明确说明，但可以由初始数量和 $t=2$ 时的事件唯一确定。问题是自洽且一致的。\n-   **客观性：** 语言正式、量化，并且没有任何主观或模糊的陈述。\n\n该问题没有表现出任何诸如科学上不合理、信息缺失或含糊不清等缺陷。这是一个定义明确且有效的问题陈述。\n\n**步骤3：结论与行动**\n问题有效。我将继续提供完整的解答。\n\n### 解答\n\n目标是计算将竞争风险视为独立删失事件所产生的偏差。该偏差是朴素计算的发生率（$1 - \\hat{S}_{KM}(5)$）与正确定算的累积发生率函数（$\\hat{F}_{1}(5)$）之间的差值。\n\n**第1部分：计算 $1 - \\hat{S}_{KM}(5)$**\n\n在此方法中，原因 $1$ 的事件被视为感兴趣的事件，而原因 $2$ 的事件被视为独立删失。用于“生存”函数（即，免于原因1死亡）的 Kaplan-Meier 估计量由下式给出：\n$$\n\\hat{S}_{KM}(t) = \\prod_{t_j \\leq t} \\left(1 - \\frac{d_{1,j}}{n_j}\\right)\n$$\n其中 $t_j$ 是原因 $1$ 的事件时间点，$d_{1,j}$ 是在 $t_j$ 时原因 $1$ 的事件数，$n_j$ 是在 $t_j$ 之前处于风险中的患者人数。\n\n让我们为这个分析构建生命表。\n-   在 $t=0$ 时，初始处于风险中的患者人数为 $n_0 = 10$。\n-   在第一个事件时间点 $t=2$：\n    -   处于风险中的患者人数为 $n_2 = 10$。\n    -   感兴趣的事件（原因 $1$）数量为 $d_{1,2} = 2$。\n    -   经历竞争事件（原因 $2$）的患者数量（在此被视为删失）为 $d_{2,2} = 4$。\n    -   经过此时间点的生存概率计算如下：\n    $$\n    \\hat{S}_{KM}(2) = \\left(1 - \\frac{d_{1,2}}{n_2}\\right) = \\left(1 - \\frac{2}{10}\\right) = \\frac{8}{10} = 0.8\n    $$\n-   对于下一个区间，我们确定仍然处于风险中的患者数量。这些是在 $t=2$ 时未发生任何一种原因事件的患者。\n    -   在 $t=4$ 时处于风险中的人数：$n_4 = n_2 - d_{1,2} - d_{2,2} = 10 - 2 - 4 = 4$。\n-   在第二个事件时间点 $t=4$：\n    -   处于风险中的患者人数为 $n_4 = 4$。\n    -   感兴趣的事件（原因 $1$）数量为 $d_{1,4} = 2$。\n    -   累积生存概率更新为：\n    $$\n    \\hat{S}_{KM}(4) = \\hat{S}_{KM}(2) \\times \\left(1 - \\frac{d_{1,4}}{n_4}\\right) = 0.8 \\times \\left(1 - \\frac{2}{4}\\right) = 0.8 \\times 0.5 = 0.4\n    $$\n-   在分析时间范围的终点 $t=5$：\n    -   在 $t=4$ 和 $t=5$ 之间没有事件发生。剩余的 $n_4 - d_{1,4} - d_{2,4} = 4 - 2 - 0 = 2$ 名患者在 $t=5$ 时被管理删失。这不会改变生存估计。\n    -   因此，$\\hat{S}_{KM}(5) = \\hat{S}_{KM}(4) = 0.4$。\n\nKaplan-Meier 估计的补集为：\n$$\n1 - \\hat{S}_{KM}(5) = 1 - 0.4 = 0.6\n$$\n该值表示在独立删失的错误假设下对原因 $1$ 发生率的估计。\n\n**第2部分：计算累积发生率函数 $F_1(5)$**\n\n累积发生率函数 (CIF) 通过考虑在所有其他原因存在的情况下，由特定原因导致失败的概率，来正确处理竞争风险。原因 $k$ 的 CIF 估计量由下式给出：\n$$\n\\hat{F}_k(t) = \\sum_{t_j \\leq t} \\frac{d_{k,j}}{n_j} \\hat{S}(t_{j-1})\n$$\n其中 $\\hat{S}(t)$ 是**总**生存函数，它考虑了所有原因的事件。\n\n首先，我们必须计算总生存函数 $\\hat{S}(t)$。\n$$\n\\hat{S}(t) = \\prod_{t_j \\leq t} \\left(1 - \\frac{d_j}{n_j}\\right)\n$$\n其中 $d_j = d_{1,j} + d_{2,j}$ 是在时间 $t_j$ 的总事件数。\n-   在 $t=0$ 时，$\\hat{S}(0) = 1$。风险人数为 $n_0 = 10$。\n-   在 $t=2$ 时：\n    -   风险人数为 $n_2 = 10$。\n    -   总事件数为 $d_2 = d_{1,2} + d_{2,2} = 2 + 4 = 6$。\n    -   总生存概率为：\n    $$\n    \\hat{S}(2) = \\hat{S}(0) \\times \\left(1 - \\frac{d_2}{n_2}\\right) = 1 \\times \\left(1 - \\frac{6}{10}\\right) = 0.4\n    $$\n-   在 $t=4$ 时：\n    -   风险人数为 $n_4 = n_2 - d_2 = 10 - 6 = 4$。\n    -   总事件数为 $d_4 = d_{1,4} + d_{2,4} = 2 + 0 = 2$。\n    -   总生存概率更新为：\n    $$\n    \\hat{S}(4) = \\hat{S}(2) \\times \\left(1 - \\frac{d_4}{n_4}\\right) = 0.4 \\times \\left(1 - \\frac{2}{4}\\right) = 0.4 \\times 0.5 = 0.2\n    $$\n-   由于在 $t=5$ 之前没有更多事件发生，$\\hat{S}(5) = \\hat{S}(4) = 0.2$。\n\n现在，我们可以计算原因 $1$ 的 CIF，即 $\\hat{F}_1(5)$。这涉及到将发生原因 $1$ 事件的每个事件时间点的增量相加。\n-   在 $t=2$ 时的增量：这是在 $t=2$时由原因 $1$ 导致失败的概率，即特定原因风险率乘以 $t=2$ 之前的生存概率。\n    $$\n    \\text{Increment}_1 = \\frac{d_{1,2}}{n_2} \\hat{S}(0) = \\frac{2}{10} \\times 1 = 0.2\n    $$\n-   在 $t=4$ 时的增量：这是在存活到 $t=4$ 之前的情况下，在 $t=4$时由原因 $1$ 导致失败的概率。\n    $$\n    \\text{Increment}_2 = \\frac{d_{1,4}}{n_4} \\hat{S}(2) = \\frac{2}{4} \\times 0.4 = 0.5 \\times 0.4 = 0.2\n    $$\n-   在 $t=5$ 时原因 $1$ 的累积发生率是这些增量的总和，因为在 $t=4$ 之后没有原因 $1$ 的事件发生。\n    $$\n    \\hat{F}_1(5) = \\text{Increment}_1 + \\text{Increment}_2 = 0.2 + 0.2 = 0.4\n    $$\n\n**第3部分：计算偏差**\n\n偏差是使用朴素的 Kaplan-Meier 方法估计的发生率与使用正确的竞争风险 CIF 方法估计的发生率之间的差值。\n$$\n\\text{Bias} = \\left(1 - \\hat{S}_{KM}(5)\\right) - \\hat{F}_{1}(5)\n$$\n代入计算出的值：\n$$\n\\text{Bias} = 0.6 - 0.4 = 0.2\n$$\n$0.2$ 的正偏差表明，将竞争事件视为删失会导致对感兴趣事件发生概率的高估。这是因为朴素方法未能将不再处于风险中（由于竞争事件）的个体从风险人群中移除，从而低估了剩余人群随时间的真实风险。", "answer": "$$\\boxed{0.2}$$", "id": "4956481"}, {"introduction": "竞争风险分析常常揭示一些挑战直觉的结论。本练习将探讨一个经典的悖论：一项治疗可能增加了某一事件的瞬时风险（即原因别风险），但同时却降低了该事件发生的累积概率。通过完成这个例子，你将深入理解原因别风险与总体事件概率之间复杂的相互作用，这是解读临床研究结果时的一个关键概念。[@problem_id:4956518]", "problem": "考虑一项医学队列研究，对患者进行长达 $36$ 个月的随访，期间可能发生两种互斥的失效类型：原因 $1$（疾病特异性死亡）和原因 $2$（其他原因死亡）。设 $X \\in \\{0,1\\}$ 表示是否接受某疗法，其中 $X=1$ 表示接受治疗（暴露组），$X=0$ 表示未接受治疗（非暴露组）。假设一个竞争风险框架，并作出以下科学上合理的假设：(i) 每种原因的特定原因风险率随时间恒定，(ii) 暴露通过比例风险结构对每种特定原因风险率产生乘法效应，以及 (iii) 在给定 $X$ 的条件下，不同原因的事件是独立的。\n\n对于未接受治疗的患者（$X=0$），原因 $1$ 的特定原因风险率为每月 $\\lambda_{10} = 0.03$，原因 $2$ 的特定原因风险率为每月 $\\lambda_{20} = 0.02$。在接受治疗的情况下（$X=1$），原因 $1$ 的比例风险因子为 $\\exp(\\beta_{1}) = 1.2$，原因 $2$ 的比例风险因子为 $\\exp(\\beta_{2}) = 25$，因此 $\\lambda_{1}(1) = \\lambda_{10}\\exp(\\beta_{1})$ 且 $\\lambda_{2}(1) = \\lambda_{20}\\exp(\\beta_{2})$。\n\n仅使用特定原因风险率、总风险率、生存函数和原因 $1$ 的累积发生函数（CIF）的基本定义，推导在这些假设下 CIF $F_{1}(t \\mid X)$ 的显式形式。然后，使用给定的数值参数，构建并论证一个反例，证明尽管 $\\exp(\\beta_{1}) > 1$，但在区间 $[1,36]$ 个月内的每个临床相关时间 $t$，接受治疗的患者中原因 $1$ 的 CIF 严格低于未接受治疗的患者中相应的 CIF。\n\n最后，计算差值 $\\Delta = F_{1}(18 \\mid X=1) - F_{1}(18 \\mid X=0)$，并以小数形式给出其值。将最终答案四舍五入至四位有效数字。不要使用百分号。", "solution": "该问题是有效的，因为它科学地基于竞争风险生存分析的原理，信息完备、提法明确，且没有歧义或矛盾。\n\n我们首先陈述竞争风险框架中的基本定义。设 $T$ 为首次事件发生时间，$J$ 为事件类型。对于协变量向量为 $Z$ 的个体，在时间 $t$ 发生 $j$ 类事件的特定原因风险率定义为：\n$$ \\lambda_j(t \\mid Z) = \\lim_{\\Delta t \\to 0} \\frac{P(t \\le T  t+\\Delta t, J=j \\mid T \\ge t, Z)}{\\Delta t} $$\n任何事件的总风险率是各特定原因风险率之和：\n$$ \\lambda_{all}(t \\mid Z) = \\sum_{j} \\lambda_j(t \\mid Z) $$\n总生存函数，即在时间 $t$ 仍未发生任何事件的概率，由下式给出：\n$$ S(t \\mid Z) = P(T > t \\mid Z) = \\exp\\left(-\\int_0^t \\lambda_{all}(u \\mid Z) \\,du\\right) $$\n$j$ 原因的累积发生函数（CIF），$F_j(t \\mid Z)$，是在时间 $t$ 之前经历 $j$ 类事件的概率。它通过对 $j$ 事件的特定原因风险率乘以截至该时间的生存概率进行积分得到：\n$$ F_j(t \\mid Z) = P(T \\le t, J=j \\mid Z) = \\int_0^t \\lambda_j(u \\mid Z) S(u \\mid Z) \\,du $$\n\n问题陈述，特定原因风险率随时间恒定。设 $\\lambda_j(X)$ 为在暴露条件 $X \\in \\{0, 1\\}$ 下，原因 $j \\in \\{1, 2\\}$ 的恒定特定原因风险率。\n对于给定的 $X$，总风险率也是恒定的：$\\lambda_{all}(X) = \\lambda_1(X) + \\lambda_2(X)$。\n总生存函数变为：\n$$ S(t \\mid X) = \\exp\\left(-\\int_0^t (\\lambda_1(X) + \\lambda_2(X)) \\,du\\right) = \\exp(-(\\lambda_1(X) + \\lambda_2(X))t) $$\n我们现在可以推导原因 $1$ 的 CIF，$F_1(t \\mid X)$ 的显式形式。\n$$ F_1(t \\mid X) = \\int_0^t \\lambda_1(u \\mid X) S(u \\mid X) \\,du $$\n由于 $\\lambda_1(u \\mid X) = \\lambda_1(X)$ 是常数，我们可以将其移到积分符号外：\n$$ F_1(t \\mid X) = \\lambda_1(X) \\int_0^t \\exp(-(\\lambda_1(X) + \\lambda_2(X))u) \\,du $$\n计算积分：\n$$ \\int_0^t \\exp(-(\\lambda_1(X) + \\lambda_2(X))u) \\,du = \\left[ \\frac{\\exp(-(\\lambda_1(X) + \\lambda_2(X))u)}{-(\\lambda_1(X) + \\lambda_2(X))} \\right]_0^t $$\n$$ = \\frac{\\exp(-(\\lambda_1(X) + \\lambda_2(X))t) - 1}{-(\\lambda_1(X) + \\lambda_2(X))} = \\frac{1 - \\exp(-(\\lambda_1(X) + \\lambda_2(X))t)}{\\lambda_1(X) + \\lambda_2(X)} $$\n将此结果代回，得到原因 $1$ 的 CIF 的显式形式：\n$$ F_1(t \\mid X) = \\frac{\\lambda_1(X)}{\\lambda_1(X) + \\lambda_2(X)} \\left(1 - \\exp(-(\\lambda_1(X) + \\lambda_2(X))t)\\right) $$\n这个表达式可以解释为类型为 $1$ 的事件所占的比例（$\\frac{\\lambda_1(X)}{\\lambda_{all}(X)}$）与到时间 $t$ 为止发生任何事件的概率（$1 - S(t \\mid X)$）的乘积。\n\n接下来，我们使用给定的数值来构建反例。\n对于未接受治疗的患者（$X=0$）：\n$\\lambda_1(0) = \\lambda_{10} = 0.03$\n$\\lambda_2(0) = \\lambda_{20} = 0.02$\n总风险率为 $\\lambda_{all}(0) = \\lambda_1(0) + \\lambda_2(0) = 0.03 + 0.02 = 0.05$。\n原因 $1$ 的 CIF 为：\n$$ F_1(t \\mid X=0) = \\frac{0.03}{0.05} (1 - \\exp(-0.05t)) = 0.6(1 - \\exp(-0.05t)) $$\n\n对于接受治疗的患者（$X=1$）：\n$\\lambda_1(1) = \\lambda_{10}\\exp(\\beta_1) = 0.03 \\times 1.2 = 0.036$\n$\\lambda_2(1) = \\lambda_{20}\\exp(\\beta_2) = 0.02 \\times 25 = 0.5$\n总风险率为 $\\lambda_{all}(1) = \\lambda_1(1) + \\lambda_2(1) = 0.036 + 0.5 = 0.536$。\n原因 $1$ 的 CIF 为：\n$$ F_1(t \\mid X=1) = \\frac{0.036}{0.536} (1 - \\exp(-0.536t)) $$\n\n反例的论证：我们需要证明对于 $t \\in [1, 36]$，$F_1(t \\mid X=1)  F_1(t \\mid X=0)$。\n问题陈述指出，尽管暴露增加了原因 $1$ 的特定原因风险率（因为 $\\exp(\\beta_1) = 1.2 > 1$），但在暴露组中原因 $1$ 的累积发生率可能更低。这种现象是竞争风险的一个关键特征。\nCIF 受目标事件的特定原因风险率（$\\lambda_1$）和由所有竞争原因的风险率（$\\lambda_{all}$）决定的总生存率（$S_{all}$）两者的影响。\n在暴露组中，该疗法将原因 $1$ 的风险率提高了 $1.2$ 倍。然而，它将原因 $2$（其他原因死亡）的风险率提高了 $25$ 倍，这是一个大得多的因子。原因 $2$ 风险率的急剧增加导致总风险率非常高（$\\lambda_{all}(1) = 0.536$），远高于非暴露组（$\\lambda_{all}(0) = 0.05$）。因此，暴露组的总生存函数 $S(t \\mid X=1) = \\exp(-0.536t)$ 比非暴露组的 $S(t \\mid X=0) = \\exp(-0.05t)$ 下降得快得多。暴露组的患者因原因 $2$ 死亡的风险非常高，这意味着他们被如此迅速地从风险人群中移除，以至于他们几乎没有机会经历原因 $1$ 的事件，尽管该原因的风险率略有升高。\n原因 $1$ 的最终概率取决于比例 $\\frac{\\lambda_1(X)}{\\lambda_{all}(X)}$。对于非暴露组，这个比例是 $\\frac{0.03}{0.05}=0.6$。对于暴露组，它是 $\\frac{0.036}{0.536} \\approx 0.067$。尽管暴露组更快地经历事件（项 $(1 - \\exp(-\\lambda_{all}t))$ 更快地接近其渐近线），但事实是这些事件中只有约 $6.7\\%$ 是由于原因 $1$（而非暴露组中为 $60\\%$），这导致在整个临床相关时间范围内，原因 $1$ 的累积发生率要低得多。\n\n为了在 $t \\in [1, 36]$ 上正式证明这一点，考虑函数 $g(t) = F_1(t \\mid X=0) - F_1(t \\mid X=1)$。我们必须证明对于 $t \\in [1, 36]$，$g(t) > 0$。\n在 $t=1$ 时：\n$F_1(1 \\mid 0) = 0.6(1 - \\exp(-0.05)) \\approx 0.02928$\n$F_1(1 \\mid 1) = \\frac{0.036}{0.536}(1 - \\exp(-0.536)) \\approx 0.02787$\n$g(1) \\approx 0.00141 > 0$。\n其导数为 $g'(t) = 0.03\\exp(-0.05t) - 0.036\\exp(-0.536t)$。令 $g'(t)=0$ 得到 $t = \\frac{\\ln(1.2)}{0.486} \\approx 0.375$。对于 $t > 0.375$，$g'(t) > 0$，所以 $g(t)$ 在 $[1, 36]$ 上是递增的。因为 $g(1) > 0$ 且 $g(t)$ 是递增的，所以对于所有 $t \\in [1, 36]$，$g(t) > 0$，这证实了在该区间上 $F_1(t \\mid X=1)  F_1(t \\mid X=0)$。\n\n最后，我们计算在 $t=18$ 个月时的差值 $\\Delta = F_1(18 \\mid X=1) - F_1(18 \\mid X=0)$。\n$F_1(18 \\mid X=0) = 0.6(1 - \\exp(-0.05 \\times 18)) = 0.6(1 - \\exp(-0.9))$\n$F_1(18 \\mid X=1) = \\frac{0.036}{0.536}(1 - \\exp(-0.536 \\times 18)) = \\frac{0.036}{0.536}(1 - \\exp(-9.648))$\n\n现在我们计算数值：\n$F_1(18 \\mid X=0) \\approx 0.6(1 - 0.40656966) = 0.6(0.59343034) \\approx 0.35605820$\n$F_1(18 \\mid X=1) \\approx \\frac{0.036}{0.536}(1 - 0.00006456) = (0.06716418)(0.99993544) \\approx 0.06715984$\n\n差值为：\n$\\Delta = F_1(18 \\mid X=1) - F_1(18 \\mid X=0) \\approx 0.06715984 - 0.35605820 \\approx -0.28889836$\n四舍五入到四位有效数字，我们得到 $\\Delta = -0.2889$。", "answer": "$$\n\\boxed{-0.2889}\n$$", "id": "4956518"}]}