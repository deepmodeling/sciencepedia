{"hands_on_practices": [{"introduction": "Cox比例风险模型的核心是解释风险比（Hazard Ratio, HR），它量化了不同组别之间事件发生风险的相对大小。这项练习旨在巩固模型系数 $\\beta$ 与其对应的风险比之间的基本关系，这是解读Cox模型结果的首要步骤。通过这个具体的临床试验场景，您将直接计算并理解药物效应对瞬时事件发生率的影响。[@problem_id:1911775]", "problem": "在一项针对新型心血管药物 'Cor-Stabil' 的临床试验中，研究人员使用 Cox 比例风险模型来分析发生主要不良心脏事件之前的时间。该模型旨在评估药物的有效性，同时控制患者年龄的影响。\n\n根据该模型，患者的风险函数由下式给出：\n$$h(t | X_1, X_2) = h_0(t) \\exp(\\beta_1 X_1 + \\beta_2 X_2)$$\n此处，$h_0(t)$ 是基线风险函数。协变量如下：\n- $X_1$：治疗组，一个二元变量，其中接受 Cor-Stabil 治疗的患者 $X_1 = 1$，而安慰剂组的患者 $X_1 = 0$。\n- $X_2$：研究开始时患者的年龄（以年为单位），一个连续变量。\n\n分析数据后，估计出的系数为 $\\beta_1 = \\ln(0.65)$ 和 $\\beta_2 = 0.03$。\n\n假设进行比较的两名患者年龄相同，请计算服用 Cor-Stabil 的患者相对于服用安慰剂的患者的风险比。请将您的答案表示为小数。", "solution": "Cox 模型将时间 $t$ 的风险指定为 $h(t \\mid X_{1}, X_{2}) = h_{0}(t)\\exp(\\beta_{1}X_{1} + \\beta_{2}X_{2})$。比较一名服用 Cor-Stabil 的患者（$X_{1}=1$）与一名同龄的服用安慰剂的患者（$X_{1}=0$）（因此两者的 $X_{2}$ 相等），其风险比（HR）为\n$$\n\\text{HR} = \\frac{h(t \\mid X_{1}=1, X_{2}=a)}{h(t \\mid X_{1}=0, X_{2}=a)} = \\frac{h_{0}(t)\\exp(\\beta_{1}\\cdot 1 + \\beta_{2}a)}{h_{0}(t)\\exp(\\beta_{1}\\cdot 0 + \\beta_{2}a)}.\n$$\n消去 $h_{0}(t)$ 和公共因子 $\\exp(\\beta_{2}a)$ 后，得到\n$$\n\\text{HR} = \\exp(\\beta_{1}).\n$$\n已知 $\\beta_{1} = \\ln(0.65)$，利用 $\\exp(\\ln(x)) = x$ 可得\n$$\n\\text{HR} = \\exp(\\ln(0.65)) = 0.65.\n$$\n因此，在同一年龄下，Cor-Stabil 相对于安慰剂的风险是 $0.65$。", "answer": "$$\\boxed{0.65}$$", "id": "1911775"}, {"introduction": "在科学研究中，仅提供效应量的点估计（如风险比）是不够的，量化其统计不确定性同样至关重要。此练习将指导您如何为风险比构建置信区间，这是严谨解释和报告研究结果的一项关键技能。掌握这一方法能让您评估估计值的精确度，并判断其统计显著性。[@problem_id:1911713]", "problem": "在一项针对治疗某种危及生命疾病的新治疗药物的临床试验中，研究人员使用 Cox 比例风险模型来评估该药物与安慰剂相比的有效性。该模型的主要目标是分析发生关键不良事件之前的时间。该模型包含一个协变量 $X$，其中治疗组患者 $X=1$，安慰剂组患者 $X=0$。患者的风险函数由 $h(t|X) = h_0(t)\\exp(\\beta X)$ 给出，其中 $h_0(t)$ 是基线风险函数，$\\beta$ 是对数风险比系数。\n\n根据研究数据，计算出系数的最大似然估计为 $\\hat{\\beta} = -0.500$。该估计的标准误为 $SE(\\hat{\\beta}) = 0.250$。\n\n风险比定义为 $\\exp(\\beta)$，表示治疗组的风险率与安慰剂组的风险率之比。请为该风险比构建一个 95% 的置信区间。在计算中，请使用标准正态分布的临界值 $z_{0.025} = 1.96$。请以一对数字的形式报告你的答案，分别代表置信区间的下界和上界。将两个界限值都四舍五入到三位有效数字。", "solution": "给定一个 Cox 比例风险模型，其风险函数为 $h(t|X) = h_{0}(t)\\exp(\\beta X)$，风险比定义为 $\\exp(\\beta)$。最大似然估计为 $\\hat{\\beta} = -0.500$，标准误为 $SE(\\hat{\\beta}) = 0.250$。为了构建风险比的 95% 置信区间，我们首先构建 $\\beta$ 的 Wald 置信区间：\n$$\n\\hat{\\beta} \\pm z_{0.025}\\,SE(\\hat{\\beta}) \\quad \\text{其中} \\quad z_{0.025} = 1.96.\n$$\n代入给定值，\n$$\n-0.500 \\pm 1.96 \\times 0.250 = -0.500 \\pm 0.490,\n$$\n得出\n$$\n\\beta \\text{的置信区间}: \\; \\left[-0.990,\\,-0.010\\right].\n$$\n由于风险比是 $\\beta$ 的一个单调变换 $\\exp(\\beta)$，因此风险比的 95% 置信区间可以通过对 $\\beta$ 置信区间的端点取指数得到：\n$$\n\\left[\\exp(-0.990),\\,\\exp(-0.010)\\right].\n$$\n计算并四舍五入到三位有效数字，\n$$\n\\exp(-0.990) \\approx 0.371576691 \\approx 0.372,\\quad \\exp(-0.010) \\approx 0.990049834 \\approx 0.990.\n$$\n因此，风险比的 95% 置信区间为 $\\left[0.372,\\,0.990\\right]$。", "answer": "$$\\boxed{\\begin{pmatrix}0.372  0.990\\end{pmatrix}}$$", "id": "1911713"}, {"introduction": "Cox模型的应用价值不仅限于评估风险因素，它还能用于进行个体化的生存预测。本练习将向您展示如何整合模型的两个核心部分——基线累积风险函数和协变量效应——来估计特定个体在特定时间点的生存概率。这种预测能力在临床决策和工程可靠性评估中都具有重要的实际意义。[@problem_id:1911715]", "problem": "在一项针对新型电子元件的可靠性研究中，其失效时间使用Cox比例风险模型框架进行建模。元件在时间 $t$ 的风险率由模型 $h(t | Z) = h_0(t) \\exp(\\beta Z)$ 给出，其中 $t$ 是以年为单位的运行时间，$Z$ 是一个连续协变量，代表元件的制造精度得分，$h_0(t)$ 是一个未指定的基准风险函数。\n\n具有协变量 $Z$ 的元件的累积风险函数为 $H(t | Z) = H_0(t) \\exp(\\beta Z)$，其中 $H_0(t) = \\int_0^t h_0(\\tau) d\\tau$ 是累积基准风险。元件存活超过时间 $t$ 的概率（称为生存概率）由关系式 $S(t | Z) = \\exp(-H(t | Z))$ 给出。\n\n通过对失效数据的分析，模型的回归系数的最大似然估计为 $\\hat{\\beta} = \\ln(3)$。在5年这个时间点，累积基准风险的非参数估计为 $\\hat{H}_0(5) = 0.2$。\n\n使用这些估计值，计算制造精度得分为 $Z=1$ 的元件的预测5年生存概率。将您的最终答案四舍五入到四位有效数字。", "solution": "我们使用Cox比例风险模型。在时间 $t$ 协变量值为 $Z$ 的累积风险为 $H(t \\mid Z) = H_{0}(t)\\exp(\\beta Z)$，生存函数为 $S(t \\mid Z) = \\exp(-H(t \\mid Z))$。\n\n当 $t=5$ 和 $Z=1$ 时, 使用估计值 $\\hat{\\beta} = \\ln(3)$ 和 $\\hat{H}_{0}(5)=0.2$，预测的累积风险为\n$$\n\\hat{H}(5 \\mid 1) = \\hat{H}_{0}(5)\\exp(\\hat{\\beta}\\cdot 1) = 0.2 \\exp(\\ln(3)) = 0.2 \\cdot 3 = 0.6.\n$$\n因此，预测的生存概率为\n$$\n\\hat{S}(5 \\mid 1) = \\exp\\!\\left(-\\hat{H}(5 \\mid 1)\\right) = \\exp(-0.6) = \\exp\\!\\left(-\\frac{3}{5}\\right).\n$$\n数值上，$\\exp(-0.6) \\approx 0.5488116361$，四舍五入到四位有效数字为 $0.5488$。", "answer": "$$\\boxed{0.5488}$$", "id": "1911715"}]}