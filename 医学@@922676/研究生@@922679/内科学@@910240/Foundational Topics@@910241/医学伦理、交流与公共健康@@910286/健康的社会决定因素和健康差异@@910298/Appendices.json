{"hands_on_practices": [{"introduction": "在健康公平领域，选择正确的衡量指标至关重要，因为它直接影响资源分配决策。本练习将通过一个心血管风险干预的假设场景，探讨风险差（$RD$）、风险比（$RR$）和优势比（$OR$）这三种基本流行病学指标在实践中的不同含义。通过计算这些指标并将其应用于一个基于公平原则的资源分配模型，您将深入理解绝对风险和相对风险在制定公共卫生政策时的关键作用[@problem_id:4899875]。", "problem": "一家内科诊所为两个城市社区（A组和B组）提供服务，这两个社区在影响心血管风险的健康社会决定因素方面存在显著差异。在为期一年的时间范围内，对于未接受治疗的个体，A组发生主要心血管事件的基线概率为 $0.12$，B组为 $0.08$。使用标准的流行病学定义，首先计算A组相对于B组的发病风险差、风险比和比值比。\n\n该诊所计划推行一个由护士主导的高血压管理路径，根据以往的随机评估，该路径能以一个恒定的相对比例降低各组个体的风险。该诊所今年有 $1000$ 个治疗名额的容量限制。诊所采纳了一项与相称普遍主义（proportionate universalism）一致的公平政策：治疗容量根据各组中每位接受治疗者预期可预防的事件绝对数量，按比例在各组间进行分配。假设两组寻求医疗服务的合格患者数量相同，因此分配比例仅由每位患者的预期获益决定。\n\n在所述的效果模型和容量限制下，确定您计算的三个指标中哪一个与此公平政策自然相符，然后相应地计算分配给A组的治疗名额数量。\n\n您最终提交的答案必须是分配给A组的治疗名额数量，以整数形式表示。无需进行四舍五入，因为其精确值为整数。", "solution": "该问题提法清晰，具有流行病学科学依据，并包含了得出唯一解所需的所有信息。因此，该问题被认定为有效。\n\n该问题需要多步骤分析。首先，我们计算标准的流行病学关联度量。其次，我们将既定的资源分配政策形式化。最后，我们应用该政策来确定A组的治疗名额数量。\n\n设 $I_A$ 为A组主要心血管事件的基线发病率（风险），$I_B$ 为B组的基线发病率。\n根据问题陈述，我们已知：\n$I_A = 0.12$\n$I_B = 0.08$\n\n可用治疗名额总数为 $N_{total} = 1000$。\n\n**步骤1：计算流行病学指标**\n\n我们首先计算A组相对于B组的发病风险差、风险比和比值比。\n\n1.  **风险差 (RD)**：两组风险的绝对差异。\n    $$RD = I_A - I_B$$\n    $$RD = 0.12 - 0.08 = 0.04$$\n\n2.  **风险比 (RR)**：A组风险与B组风险的比值。\n    $$RR = \\frac{I_A}{I_B}$$\n    $$RR = \\frac{0.12}{0.08} = 1.5$$\n\n3.  **比值比 (OR)**：A组事件发生比值与B组事件发生比值的比率。对于发病率为 $I$ 的组，事件发生比值由 $O = \\frac{I}{1-I}$ 给出。\n    A组的比值为 $O_A = \\frac{I_A}{1 - I_A} = \\frac{0.12}{1 - 0.12} = \\frac{0.12}{0.88}$。\n    B组的比值为 $O_B = \\frac{I_B}{1 - I_B} = \\frac{0.08}{1 - 0.08} = \\frac{0.08}{0.92}$。\n    $$OR = \\frac{O_A}{O_B} = \\frac{0.12 / 0.88}{0.08 / 0.92} = \\frac{0.12 \\times 0.92}{0.08 \\times 0.88} = \\frac{0.1104}{0.0704} = \\frac{1104}{704} = \\frac{69}{44}$$\n    作为小数， $OR \\approx 1.568$。\n\n**步骤2：分析分配政策和治疗效果**\n\n分配政策规定，治疗容量“根据各组中每位接受治疗者预期可预防的事件绝对数量按比例分配”。“每位接受治疗者预期可预防的事件绝对数量”即为绝对风险降低（Absolute Risk Reduction, ARR）的定义。\n设 $N_A$ 和 $N_B$ 分别是分配给A组和B组的治疗名额数量。该政策意味着：\n$N_A \\propto ARR_A$\n$N_B \\propto ARR_B$\n其中 $ARR_A$ 和 $ARR_B$ 是治疗在各组中带来的绝对风险降低。\n\n问题指明，治疗“能以一个恒定的相对比例降低各组个体的风险”。这意味着相对风险降低（Relative Risk Reduction, RRR）对两组来说是恒定的。设此常数为 $r$。\n$RRR = \\frac{I_{untreated} - I_{treated}}{I_{untreated}} = r$\n\n任何组的ARR都与其基线发病率和RRR相关：\n$ARR = I_{untreated} - I_{treated} = I_{untreated} \\times \\left( \\frac{I_{untreated} - I_{treated}}{I_{untreated}} \\right) = I_{untreated} \\times RRR$。\n因此，对于我们这两个组：\n$ARR_A = I_A \\times r = 0.12 r$\n$ARR_B = I_B \\times r = 0.08 r$\n\n**步骤3：确定相符的指标并计算分配**\n\n名额的分配与每组的ARR成正比。分配给A组的总名额比例 $p_A$ 由下式给出：\n$$p_A = \\frac{N_A}{N_{total}} = \\frac{ARR_A}{ARR_A + ARR_B}$$\n代入我们关于 $ARR_A$ 和 $ARR_B$ 的表达式：\n$$p_A = \\frac{I_A \\times r}{I_A \\times r + I_B \\times r} = \\frac{I_A \\times r}{(I_A + I_B) \\times r} = \\frac{I_A}{I_A + I_B}$$\n分配给A组与B组的名额之比为：\n$$\\frac{N_A}{N_B} = \\frac{ARR_A}{ARR_B} = \\frac{I_A \\times r}{I_B \\times r} = \\frac{I_A}{I_B}$$\n这个比率 $\\frac{I_A}{I_B}$ 正是我们在步骤1中计算的**风险比 (RR)**。因此，在指定的治疗效果模型（恒定RRR）和分配政策（与ARR成比例）下，风险比是决定两组间资源相对分配的指标。\n\n现在我们可以计算分配给A组的名额数量 $N_A$。\n我们有名额总数 $N_A + N_B = 1000$。\nA组的名额比例为：\n$$p_A = \\frac{I_A}{I_A + I_B} = \\frac{0.12}{0.12 + 0.08} = \\frac{0.12}{0.20} = \\frac{12}{20} = \\frac{3}{5} = 0.6$$\nA组的名额数量是此比例应用于总名额数：\n$$N_A = p_A \\times N_{total} = 0.6 \\times 1000 = 600$$\nB组的名额数量为 $N_B = N_{total} - N_A = 1000 - 600 = 400$。\n我们可以用比率来验证：$\\frac{N_A}{N_B} = \\frac{600}{400} = 1.5$，这与风险比 $\\frac{0.12}{0.08} = 1.5$ 相符。\n\n最终答案是分配给A组的治疗名额数量。", "answer": "$$\n\\boxed{600}\n$$", "id": "4899875"}, {"introduction": "在识别出风险因素后，评估其在人群层面的总体影响是公共卫生规划的下一步。本练习引入了人群归因分数（$PAF$）这一核心概念，它量化了如果消除某一特定暴露（如食品不安全），可以避免多大比例的不良健康结局。通过推导并计算$PAF$，您将学会如何将一个关联强度指标（风险比）转化为对公共卫生潜在干预效益的有力估计[@problem_id:4899949]。", "problem": "一个卫生系统进行了一项纵向队列研究，以量化家庭食品不安全对接受内科治疗的成年人全因住院的贡献。在基线时的源人群中，家庭食品不安全的流行率为 $p_e=0.35$。在12个月的期间内，通过一个控制了已测量混杂因素的模型估计，将有食品不安全的个体与没有食品不安全的个体进行比较，调整后的住院风险比为 $RR=1.6$。假设在标准的因果识别条件（可交换性、正定性和一致性）下，调整后的风险比近似于将食品不安全暴露替换为食品安全时的因果风险比，并且暴露流行率 $p_e$ 适用于同一目标人群。\n\n仅使用核心定义，推导人群归因分数的表达式，该分数定义为：在其他所有条件保持不变的情况下，如果食品不安全被消除，并且所有个体都经历他们在食品安全条件下的风险，那么目标人群中本不会发生的住院病例所占的比例。然后使用提供的 $p_e$ 和 $RR$ 计算其值。\n\n将最终的人群归因分数表示为小数比例，四舍五入到四位有效数字。", "solution": "该问题被认为是有效的，因为它在科学上基于既定的流行病学原理，提法明确，客观，并且包含唯一解所需的所有必要信息。\n\n任务是推导人群归因分数（$PAF$）的表达式，然后计算其值。$PAF$ 定义为如果暴露（家庭食品不安全）被消除，目标人群中可以避免的住院病例所占的比例。\n\n设 $E$ 表示暴露状态，其中 $E=1$ 表示有食品不安全的个体（暴露组），$E=0$ 表示没有食品不安全的个体（非暴露组）。\n设 $D$ 表示结局，其中 $D=1$ 表示住院，$D=0$ 表示未住院。\n\n根据问题陈述，我们已知：\n- 人群中的暴露流行率，$p_e = P(E=1) = 0.35$。\n- 因此，非暴露的流行率为 $P(E=0) = 1 - p_e = 1 - 0.35 = 0.65$。\n- 调整后的风险比，$RR = 1.6$。\n\n设 $R_1$ 为暴露组的住院风险，$R_1 = P(D=1|E=1)$。\n设 $R_0$ 为非暴露组的住院风险，$R_0 = P(D=1|E=0)$。\n风险比定义为 $RR = \\frac{R_1}{R_0}$。问题陈述指出，调整后的 $RR$ 可以解释为因果风险比，这对于本分析至关重要。\n\n总人群的总体住院风险 $R_{total}$ 可以用全概率定律表示：\n$$R_{total} = P(D=1) = P(D=1|E=1)P(E=1) + P(D=1|E=0)P(E=0)$$\n代入已定义的项：\n$$R_{total} = R_1 p_e + R_0 (1-p_e)$$\n\n$PAF$ 是归因于暴露的病例比例。它是总观察风险与在暴露被消除的反事实情景中会观察到的风险之差，表示为总观察风险的一部分。在反事实情景中，整个人群将经历非暴露组的风险 $R_0$。这依赖于可交换性的假设。\n归因于暴露的风险是 $R_{total} - R_0$。\n因此，人群归因分数为：\n$$PAF = \\frac{R_{total} - R_0}{R_{total}}$$\n\n我们可以将 $R_{total}$ 的表达式代入 $PAF$ 公式中：\n$$PAF = \\frac{(R_1 p_e + R_0 (1-p_e)) - R_0}{R_1 p_e + R_0 (1-p_e)}$$\n简化分子：\n$$PAF = \\frac{R_1 p_e + R_0 - R_0 p_e - R_0}{R_1 p_e + R_0 (1-p_e)} = \\frac{p_e (R_1 - R_0)}{R_1 p_e + R_0 (1-p_e)}$$\n这个表达式分别依赖于 $R_1$ 和 $R_0$，而它们并未给出。我们必须用给定的量 $p_e$ 和 $RR$ 来表示 $PAF$。我们可以通过将分子和分母同时除以 $R_0$ 来实现这一点（$R_0$ 必须非零，这是 $RR$ 能被良好定义的条件）：\n$$PAF = \\frac{p_e \\left(\\frac{R_1}{R_0} - \\frac{R_0}{R_0}\\right)}{\\frac{R_1}{R_0} p_e + \\frac{R_0}{R_0} (1-p_e)}$$\n代入 $RR = \\frac{R_1}{R_0}$ 和 $1 = \\frac{R_0}{R_0}$：\n$$PAF = \\frac{p_e (RR - 1)}{RR \\cdot p_e + (1-p_e)}$$\n分母也可以写成 $RR \\cdot p_e + 1 - p_e = p_e(RR - 1) + 1$。因此，推导出的表达式是：\n$$PAF = \\frac{p_e(RR - 1)}{p_e(RR-1) + 1}$$\n这是人群归因分数的一个标准公式。\n\n现在，我们使用给定的数据 $p_e = 0.35$ 和 $RR = 1.6$ 来计算 $PAF$ 的值。\n将这些值代入推导出的公式中：\n$$PAF = \\frac{0.35(1.6 - 1)}{0.35(1.6 - 1) + 1}$$\n首先，计算项 $(RR - 1)$：\n$$1.6 - 1 = 0.6$$\n现在，计算分子：$p_e(RR - 1)$：\n$$0.35 \\times 0.6 = 0.21$$\n现在，将此结果代回完整的表达式中：\n$$PAF = \\frac{0.21}{0.21 + 1} = \\frac{0.21}{1.21}$$\n进行除法运算：\n$$PAF = \\frac{0.21}{1.21} \\approx 0.173553719...$$\n问题要求结果四舍五入到四位有效数字。\n$$PAF \\approx 0.1736$$\n这意味着该人群中大约 $17.36\\%$ 的住院可归因于食品不安全，并且理论上如果食品不安全被消除，这些住院是可以预防的。", "answer": "$$\\boxed{0.1736}$$", "id": "4899949"}, {"introduction": "在观察性研究中，未经调整的比较往往会产生误导性结论，这在很大程度上是由于混杂偏倚的存在。“辛普森悖论”是阐释这一现象的经典案例。本练习提供了一个比较两家医院再入院风险的场景，其中患者的社会风险构成是一个强烈的混杂因素，导致了悖论的出现[@problem_id:4899945]。通过分层分析和计算Mantel-Haenszel共同相对风险，您将亲手揭示并解决这个悖论，从而掌握处理混杂偏倚的基本技能。", "problem": "一个内科质量改进团队正在比较$A$医院和$B$医院的$30$天再入院风险，这两家医院服务的患者群体具有不同的社会风险特征。患者根据健康的社会决定因素 (SDOH) 被分为两组：低社会风险 ($S-$) 组和高社会风险 ($S+$) 组。在一个固定的测量期内，观察到以下计数：\n\n- $S-$组（低SDOH风险）：\n  - $A$医院：$800$名出院患者中有$60$名再入院。\n  - $B$医院：$1200$名出院患者中有$120$名再入院。\n- $S+$组（高SDOH风险）：\n  - $A$医院：$1200$名出院患者中有$360$名再入院。\n  - $B$医院：$300$名出院患者中有$105$名再入院。\n\n仅使用概率、作为条件概率的风险以及全概率定律的核心定义：\n- 计算每家医院的分层特异性再入院风险，并验证在每个分层内，$A$医院的再入院风险是否低于$B$医院。\n- 计算每家医院的粗略（未分层）再入院风险，以及比较$A$医院与$B$医院的粗略相对风险 (RR)，并确定粗略比较的方向。\n\n然后，为解决社会风险造成的混杂，计算跨越两个分层、比较$A$医院与$B$医院再入院风险的Mantel–Haenszel (MH) 公共相对风险。将最终答案表示为一个无单位的精确既约分数。不要在最终答案中提供任何中间值。如果得到小数，请在报告前将其化为精确分数。", "solution": "将首先提取给定信息，然后评估其科学依据、一致性和结构，从而验证该问题。\n\n### 第1步：提取给定信息\n设 $N_{A,S-}$ 和 $R_{A,S-}$ 分别为$A$医院在低社会风险分层 ($S-$) 的出院人数和再入院人数。\n设 $N_{B,S-}$ 和 $R_{B,S-}$ 分别为$B$医院在低社会风险分层 ($S-$) 的出院人数和再入院人数。\n设 $N_{A,S+}$ 和 $R_{A,S+}$ 分别为$A$医院在高社会风险分层 ($S+$) 的出院人数和再入院人数。\n设 $N_{B,S+}$ 和 $R_{B,S+}$ 分别为$B$医院在高社会风险分层 ($S+$) 的出院人数和再入院人数。\n\n- $S-$ 分层：\n  - $A$医院：$R_{A,S-} = 60$, $N_{A,S-} = 800$。\n  - $B$医院：$R_{B,S-} = 120$, $N_{B,S-} = 1200$。\n- $S+$ 分层：\n  - $A$医院：$R_{A,S+} = 360$, $N_{A,S+} = 1200$。\n  - $B$医院：$R_{B,S+} = 105$, $N_{B,S+} = 300$。\n\n该问题要求计算分层特异性风险、粗略风险和粗略相对风险，以及Mantel–Haenszel公共相对风险。\n\n### 第2步：使用提取的给定信息进行验证\n1.  **科学依据**：该问题基于流行病学和生物统计学的既定原则，特别是风险、混杂、分层以及用于计算调整后公共相对风险的Mantel-Haenszel方法等概念。这个情景被称为辛普森悖论 (Simpson's paradox)，是观察性研究中混杂效应的一个经典且现实的例证。在卫生服务研究和内科学中，使用健康的社会决定因素 (SDOH) 作为分层变量是标准做法。\n2.  **提法恰当**：该问题提供了执行所要求计算的所有必要数据。风险、相对风险和Mantel-Haenszel方法的定义是标准的，可以计算出唯一且有意义的解。\n3.  **客观性**：该问题使用精确的定量数据和流行病学领域的客观、标准术语进行陈述。它没有主观论断或含糊之处。\n4.  **未检测到其他缺陷**：该问题并非不完整、矛盾、不切实际、提法不当、无关紧要或超出科学可验证性的范围。\n\n### 第3步：结论与行动\n问题有效。将提供完整的解答。\n\n### 解答\n\n设 $A$ 表示 $A$ 医院，$B$ 表示 $B$ 医院。设 $R$ 为再入院事件。设 $S-$ 和 $S+$ 分别表示低社会风险和高社会风险分层。风险定义为在给定医院和分层条件下的再入院条件概率。\n\n**第1部分：分层特异性再入院风险**\n\n医院的分层特异性风险是该分层内的再入院人数除以出院人数。\n\n对于低社会风险分层 $S-$：\n- $A$医院的风险，$P(R | A, S-)$：\n  $$ P(R | A, S-) = \\frac{R_{A,S-}}{N_{A,S-}} = \\frac{60}{800} = \\frac{3}{40} = 0.075 $$\n- $B$医院的风险，$P(R | B, S-)$：\n  $$ P(R | B, S-) = \\frac{R_{B,S-}}{N_{B,S-}} = \\frac{120}{1200} = \\frac{1}{10} = 0.100 $$\n比较：$0.075  0.100$。在 $S-$ 分层中，$A$医院的再入院风险低于$B$医院。\n\n对于高社会风险分层 $S+$：\n- $A$医院的风险，$P(R | A, S+)$：\n  $$ P(R | A, S+) = \\frac{R_{A,S+}}{N_{A,S+}} = \\frac{360}{1200} = \\frac{3}{10} = 0.300 $$\n- $B$医院的风险，$P(R | B, S+)$：\n  $$ P(R | B, S+) = \\frac{R_{B,S+}}{N_{B,S+}} = \\frac{105}{300} = \\frac{21}{60} = \\frac{7}{20} = 0.350 $$\n比较：$0.300  0.350$。在 $S+$ 分层中，$A$医院的再入院风险同样低于$B$医院。\n\n验证：在低风险 ($S-$) 和高风险 ($S+$) 两个分层中，$A$医院的再入院风险均低于$B$医院。\n\n**第2部分：粗略再入院风险和粗略相对风险 (RR)**\n\n粗略风险是每家医院的总体风险，是跨分层汇总的结果。这可以使用全概率定律计算，但更直接的方法是通过总计数计算。\n\n$A$医院的总出院数和再入院数：\n- 总出院数 $N_A = N_{A,S-} + N_{A,S+} = 800 + 1200 = 2000$。\n- 总再入院数 $R_A = R_{A,S-} + R_{A,S+} = 60 + 360 = 420$。\n\n$B$医院的总出院数和再入院数：\n- 总出院数 $N_B = N_{B,S-} + N_{B,S+} = 1200 + 300 = 1500$。\n- 总再入院数 $R_B = R_{B,S-} + R_{B,S+} = 120 + 105 = 225$。\n\n$A$医院的粗略风险，$P(R|A)$：\n$$ P(R|A) = \\frac{R_A}{N_A} = \\frac{420}{2000} = \\frac{21}{100} = 0.21 $$\n$B$医院的粗略风险，$P(R|B)$：\n$$ P(R|B) = \\frac{R_B}{N_B} = \\frac{225}{1500} = \\frac{9}{60} = \\frac{3}{20} = 0.15 $$\n\n比较$A$医院与$B$医院的粗略相对风险 ($RR_{\\text{crude}}$) 是它们粗略风险的比率：\n$$ RR_{\\text{crude}} = \\frac{P(R|A)}{P(R|B)} = \\frac{0.21}{0.15} = \\frac{21}{15} = \\frac{7}{5} = 1.4 $$\n粗略比较的方向：由于 $RR_{\\text{crude}} = 1.4 > 1$，粗略分析表明$A$医院的再入院风险比$B$医院高$40\\%$。这与分层特异性研究结果相反，是辛普森悖论 (Simpson's Paradox) 的一个经典例子，由社会风险变量的混杂效应引起。与$B$医院 ($300/1500 = 20\\%$) 相比，$A$医院有更大比例的患者处于高风险的 $S+$ 分层 ($1200/2000 = 60\\%$)。\n\n**第3部分：Mantel–Haenszel 公共相对风险**\n\n为了获得一个校正了社会风险混杂效应的关联性度量，我们计算Mantel-Haenszel公共相对风险 $RR_{MH}$。我们可以将每个分层 $i$（其中 $i=1$ 对应 $S-$，$i=2$ 对应 $S+$）的数据表示为 $2 \\times 2$ 表格格式。\n\n分层 $1$ ($S-$)：\n- $A$医院再入院人数 ($a_1$) = $60$。$A$医院总人数 ($n_{11}$) = $800$。\n- $B$医院再入院人数 ($c_1$) = $120$。$B$医院总人数 ($n_{12}$) = $1200$。\n- 分层 $1$ 的总患者数 ($N_1$) = $800 + 1200 = 2000$。\n\n分层 $2$ ($S+$)：\n- $A$医院再入院人数 ($a_2$) = $360$。$A$医院总人数 ($n_{21}$) = $1200$。\n- $B$医院再入院人数 ($c_2$) = $105$。$B$医院总人数 ($n_{22}$) = $300$。\n- 分层 $2$ 的总患者数 ($N_2$) = $1200 + 300 = 1500$。\n\nMantel-Haenszel相对风险由以下公式给出：\n$$ RR_{MH} = \\frac{\\sum_{i=1}^{2} \\frac{a_i n_{i2}}{N_i}}{\\sum_{i=1}^{2} \\frac{c_i n_{i1}}{N_i}} $$\n\n我们计算分子和分母项。\n\n分子（暴露组，$A$医院中的事件加权和）：\n$$ \\sum_{i=1}^{2} \\frac{a_i n_{i2}}{N_i} = \\frac{a_1 n_{12}}{N_1} + \\frac{a_2 n_{22}}{N_2} $$\n$$ = \\frac{60 \\times 1200}{2000} + \\frac{360 \\times 300}{1500} $$\n$$ = \\frac{72000}{2000} + \\frac{108000}{1500} = 36 + 72 = 108 $$\n\n分母（非暴露组，$B$医院中的事件加权和）：\n$$ \\sum_{i=1}^{2} \\frac{c_i n_{i1}}{N_i} = \\frac{c_1 n_{11}}{N_1} + \\frac{c_2 n_{21}}{N_2} $$\n$$ = \\frac{120 \\times 800}{2000} + \\frac{105 \\times 1200}{1500} $$\n$$ = \\frac{96000}{2000} + \\frac{126000}{1500} = 48 + 84 = 132 $$\n\n现在，我们计算比率：\n$$ RR_{MH} = \\frac{108}{132} $$\n\n为了约简分数，我们求 $108$ 和 $132$ 的最大公约数。两者都可以被 $12$ 整除。\n$108 = 12 \\times 9$\n$132 = 12 \\times 11$\n$$ RR_{MH} = \\frac{9}{11} $$\n\n这个调整后的相对风险 $\\frac{9}{11} \\approx 0.818$ 表明，在校正了社会风险的混杂效应后，$A$医院的再入院风险比$B$医院低约 $18.2\\%$。这一结果与分层特异性研究结果一致。", "answer": "$$\n\\boxed{\\frac{9}{11}}\n$$", "id": "4899945"}]}