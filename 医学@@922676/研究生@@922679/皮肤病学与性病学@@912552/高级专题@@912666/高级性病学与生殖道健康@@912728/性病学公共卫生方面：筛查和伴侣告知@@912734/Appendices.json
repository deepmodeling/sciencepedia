{"hands_on_practices": [{"introduction": "本练习旨在介绍“所需筛查人数”（Number Needed to Screen, NNS），这是评估公共卫生干预措施效益的一项关键指标。通过计算预防一例盆腔炎（PID）所需筛查的衣原体感染者人数，您将学习如何将患病率、检测敏感性和治疗效果等数据综合成一个单一且易于解读的筛查效率衡量标准。这项实践旨在为您评估筛查项目的影响力构建基础技能。", "problem": "一个皮肤病与性病学领域的公共卫生项目正在评估一项针对性活跃女性的沙眼衣原体筛查策略，时间范围为一年。其目标是估算为预防一例盆腔炎（PID）所需的筛查人数（NNS）。假设以下几点已获科学证实并适用于该项目：(i) 目标人群中沙眼衣原体患病率为 $5\\%$，(ii) 筛查测试的敏感性为 $90\\%$，(iii) 标准治疗方案实现微生物学治愈的疗效为 $95\\%$，以及 (iv) 未经治疗的沙眼衣原体感染者在一年内发生盆腔炎的风险为 $10\\%$。假设目标人群完全接受筛查，所有筛查阳性者均立即接受治疗，无失访情况，并且成功的微生物学治愈可将此时间范围内的沙眼衣原体所致盆腔炎风险降至约等于零。仅使用患病率、敏感性和绝对风险降低的基本定义，并将感染、感染者中测试呈阳性以及测试阳性者中治疗痊愈等事件视为诊疗流程中独立的条件步骤。\n\n从第一性原理出发，推导每位被筛查者预期盆腔炎风险的绝对降低值，并用此计算需筛查人数（NNS），其定义为该降低值的倒数。将最终答案四舍五入至三位有效数字。以无单位的单个实数值形式提供最终的 NNS。", "solution": "任务是计算为预防一例盆腔炎（PID）所需的筛查人数（NNS）。根据定义，需筛查人数是每筛查一人在目标结局上绝对风险降低值的倒数。在此，目标结局是在一年时间范围内由未经治疗的沙眼衣原体感染所致的盆腔炎。\n\n我们从基本的流行病学定义和诊疗流程出发：\n\n1. 令 $p$ 表示筛查人群中沙眼衣原体的患病率。随机选择一名被筛查者，其受感染的概率为 $p$。\n2. 令 $\\text{Se}$ 表示筛查测试的敏感性。在感染的条件下，测试结果为阳性的概率为 $\\text{Se}$。\n3. 令 $E_{t}$ 表示治疗达到微生物学治愈的疗效。在测试呈阳性并接受治疗的条件下，治愈的概率为 $E_{t}$。\n4. 令 $r$ 表示未经治疗的沙眼衣原体感染者在一年内发生盆腔炎的风险。\n\n我们假设，在所考虑的时间范围内，成功的微生物学治愈能将沙眼衣原体所致的盆腔炎风险降至约等于零。因此，对于一个被测试正确识别并成功治愈的感染者，其盆腔炎风险的降低值为 $r$（从 $r$ 降至约 $0$）。未感染者不会导致沙眼衣原体所致的盆腔炎病例，而假阳性者也不会预防盆腔炎病例，因为他们没有可供降低的沙眼衣原体所致盆腔炎风险。假阴性和治疗失败对预防没有贡献。\n\n因此，每筛查一人预期盆腔炎风险的绝对降低值（记为 $\\Delta$）是诊疗流程中每一步概率的乘积，再乘以成功治愈者的风险降低值：\n\n$$\n\\Delta = p \\cdot \\text{Se} \\cdot E_{t} \\cdot r.\n$$\n\n需筛查人数（NNS）是此预期降低值的倒数：\n\n$$\n\\text{NNS} = \\frac{1}{\\Delta} = \\frac{1}{p \\cdot \\text{Se} \\cdot E_{t} \\cdot r}.\n$$\n\n\n我们将给定的数值以小数形式代入：\n\n$$\np = 0.05,\\quad \\text{Se} = 0.90,\\quad E_{t} = 0.95,\\quad r = 0.10.\n$$\n\n计算乘积：\n\n$$\n\\Delta = 0.05 \\times 0.90 \\times 0.95 \\times 0.10.\n$$\n\n为保持精确性，将每个小数转换为分数形式会很方便：\n\n$$\n0.05 = \\frac{1}{20},\\quad 0.90 = \\frac{9}{10},\\quad 0.95 = \\frac{19}{20},\\quad 0.10 = \\frac{1}{10}.\n$$\n\n因此，\n\n$$\n\\Delta = \\left(\\frac{1}{20}\\right)\\left(\\frac{9}{10}\\right)\\left(\\frac{19}{20}\\right)\\left(\\frac{1}{10}\\right) = \\frac{1 \\cdot 9 \\cdot 19 \\cdot 1}{20 \\cdot 10 \\cdot 20 \\cdot 10} = \\frac{171}{40000}.\n$$\n\n于是，\n\n$$\n\\text{NNS} = \\frac{1}{\\Delta} = \\frac{40000}{171}.\n$$\n\n为了得到一个数值，我们计算\n\n$$\n\\frac{40000}{171} \\approx 233.9181287\\ldots\n$$\n\n按要求四舍五入到三位有效数字，得到\n\n$$\n\\text{NNS} \\approx 234.\n$$\n\n这意味着，在给定的假设和参数下，一年内大约需要筛查 $234$ 人才能预防一例由沙眼衣原体引起的盆腔炎。\n\n我们注意到，此推导假设了所有真阳性者立即得到治疗、完全遵从医嘱，并且在此时间范围内没有考虑性伴侣告知或再感染动态的贡献。纳入性伴侣告知效应或再感染可能会进一步降低 NNS，但这些机制超出了本次计算的范围。", "answer": "$$\\boxed{234}$$", "id": "4489904"}, {"introduction": "在发现感染病例后，伴侣告知是阻止性传播疾病进一步传播的关键一步。本练习着重于通过构建从伴侣信息获取到最终治疗的级联模型，来量化伴侣告知项目的“产出”。您将计算每例指示病例平均能够追踪并治疗的伴侣数量，并理解项目执行方式的改变如何显著影响这一核心公共卫生结果。", "problem": "一个性病学领域的性传播感染（STI）控制项目，评估了在两种不同模式下对诊断为沙眼衣原体的指示病例进行性伴侣告知和治疗的效果。该项目将每个指示病例的级联过程概念化如下：追溯到平均数量的性伴侣，每个被追溯到的性伴侣以一定的成功联系概率被联系上，并且每个被联系上的性伴侣以一定的接受概率开始治疗。假设在性伴侣层面，联系和治疗是独立的伯努利过程，并应用全期望定律将每个指示病例的期望治疗伴侣数与这些参数联系起来。\n\n在当前模式下，每个指示病例追溯到的期望伴侣数是 $1.5$，成功联系的概率是 $0.70$，在被联系上的伴侣中接受治疗的概率是 $0.80$。\n\n一种替代模式将追溯到的期望伴侣数提高到每个指示病例 $2.0$ 人，所有其他参数保持不变。\n\n仅使用基本原理以及期望和伯努利试验独立性的核心定义，计算替代模式相对于当前模式所实现的每个指示病例的期望治疗伴侣数的绝对增加量。以每个指示病例的伴侣数表示您的最终结果，并将答案四舍五入到四位有效数字。", "solution": "问题要求计算从当前模式转换到替代模式时，每个指示病例的期望治疗伴侣数的绝对增加量。解决方案将从基本原理推导得出，特别地，将使用全期望定律和独立伯努利试验的性质。\n\n首先，我们为单个指示病例定义相关的随机变量和参数。\n设 $N$ 为代表追溯到的性伴侣数量的随机变量。问题给出了 $N$ 的期望值，记为 $E[N]$。\n对于 $N$ 个伴侣中的每一个，我们都有一系列事件。设 $p_c$ 为成功联系一个伴侣的概率。设 $p_t$ 为一个被联系上的伴侣开始治疗的概率。\n问题指出，在伴侣层面，联系和治疗是独立的伯努利过程。\n\n设 $X$ 为代表每个指示病例中接受治疗的伴侣总数的随机变量。我们需要求出 $X$ 的期望值，记为 $E[X]$。\n\n$X$ 的值取决于追溯到的伴侣数 $N$。我们可以使用全期望定律来求 $E[X]$：\n$$\nE[X] = E[E[X|N]]\n$$\n首先，我们计算在追溯到的伴侣数为 $N=n$ 的条件下，$X$ 的条件期望。\n对于单个追溯到的伴侣（比如伴侣 $j$），该伴侣被治疗的事件是两个独立事件的联合：伴侣被成功联系（概率为 $p_c$）并且该伴侣在被联系后接受治疗（概率为 $p_t$）。由于它们的独立性，单个追溯到的伴侣最终被治疗的概率是这些概率的乘积。\n设 $P(\\text{Treated}_j)$ 为伴侣 $j$ 被治疗的概率。\n$$\nP(\\text{Treated}_j) = p_c \\times p_t\n$$\n我们为每个追溯到的伴侣 $j=1, 2, ..., n$ 定义一个伯努利随机变量 $Y_j$，如果该伴侣被治疗，则 $Y_j=1$，否则 $Y_j=0$。这个伯努利变量的期望是：\n$$\nE[Y_j] = 1 \\times P(Y_j=1) + 0 \\times P(Y_j=0) = P(Y_j=1) = p_c \\times p_t\n$$\n给定 $N=n$ 个追溯到的伴侣，被治疗的伴侣总数是这些单个伯努利变量的和：\n$$\nX | (N=n) = \\sum_{j=1}^{n} Y_j\n$$\n根据期望的线性性质，给定 $N=n$ 时 $X$ 的条件期望是：\n$$\nE[X|N=n] = E\\left[\\sum_{j=1}^{n} Y_j\\right] = \\sum_{j=1}^{n} E[Y_j] = \\sum_{j=1}^{n} (p_c \\times p_t) = n \\times p_c \\times p_t\n$$\n这个关系对于 $N$ 可以取的任何值 $n$ 都成立。因此，我们可以将条件期望表示为随机变量 $N$ 的函数：\n$$\nE[X|N] = N \\times p_c \\times p_t\n$$\n现在，我们将其代回全期望定律：\n$$\nE[X] = E[E[X|N]] = E[N \\times p_c \\times p_t]\n$$\n由于 $p_c$ 和 $p_t$ 是常数，我们可以将它们从期望中提出来：\n$$\nE[X] = p_c \\times p_t \\times E[N]\n$$\n这个公式给出了每个指示病例的期望治疗伴侣数，作为追溯到的期望伴侣数以及联系和治疗概率的函数。\n\n现在，我们将这个公式应用于问题中描述的两种模式。\n\n对于当前模式：\n追溯到的期望伴侣数是 $E[N_{\\text{curr}}] = 1.5$。\n成功联系的概率是 $p_c = 0.70$。\n接受治疗的概率是 $p_t = 0.80$。\n在当前模式下，期望治疗伴侣数 $E[X_{\\text{curr}}]$ 为：\n$$\nE[X_{\\text{curr}}] = p_c \\times p_t \\times E[N_{\\text{curr}}] = 0.70 \\times 0.80 \\times 1.5\n$$\n$$\nE[X_{\\text{curr}}] = 0.56 \\times 1.5 = 0.84\n$$\n\n对于替代模式：\n追溯到的期望伴侣数是 $E[N_{\\text{alt}}] = 2.0$。\n其他参数保持不变：$p_c = 0.70$ 和 $p_t = 0.80$。\n在替代模式下，期望治疗伴侣数 $E[X_{\\text{alt}}]$ 为：\n$$\nE[X_{\\text{alt}}] = p_c \\times p_t \\times E[N_{\\text{alt}}] = 0.70 \\times 0.80 \\times 2.0\n$$\n$$\nE[X_{\\text{alt}}] = 0.56 \\times 2.0 = 1.12\n$$\n\n问题要求的是每个指示病例的期望治疗伴侣数的绝对增加量。这是替代模式的期望值与当前模式的期望值之差。\n设 $\\Delta E[X]$ 为这个绝对增加量。\n$$\n\\Delta E[X] = E[X_{\\text{alt}}] - E[X_{\\text{curr}}]\n$$\n$$\n\\Delta E[X] = 1.12 - 0.84 = 0.28\n$$\n或者，我们可以这样计算：\n$$\n\\Delta E[X] = (p_c \\times p_t \\times E[N_{\\text{alt}}]) - (p_c \\times p_t \\times E[N_{\\text{curr}}])\n$$\n$$\n\\Delta E[X] = p_c \\times p_t \\times (E[N_{\\text{alt}}] - E[N_{\\text{curr}}])\n$$\n$$\n\\Delta E[X] = 0.70 \\times 0.80 \\times (2.0 - 1.5) = 0.56 \\times 0.5 = 0.28\n$$\n问题要求结果四舍五入到四位有效数字。数值 $0.28$ 必须表示为 $0.2800$。", "answer": "$$\\boxed{0.2800}$$", "id": "4489914"}, {"introduction": "现实世界中的公共卫生决策需要在具有复杂权衡的多种策略之间做出选择。这个问题将挑战您在一个分层人群中综合运用筛查和伴侣告知的概念。通过比较在普遍性筛查与目标人群风险筛查两种策略下检出的总感染人数[@problem_id:4489910]，您将实践为循证政策提供信息所需的定量分析能力。", "problem": "一个性传播感染 (STI) 控制计划正在评估两种筛查策略，该计划针对一个具有异质性风险的城市人口。我们关注的感染通过核酸扩增检测进行检测，其灵敏度 $s = 0.92$，特异性为 $0.985$。为确保仅对真正感染的指示病例启动伴侣告知，假设应用一种确认算法，在伴侣告知前能完美排除假阳性，且不改变检测感染者的灵敏度 $s$。人口规模为 $N = 50{,}000$ 名成年人，分为高接触风险组和低接触风险组。高接触风险组占人口的 $15\\%$，因此该组人数为 $N_{H} = 0.15N$，低接触风险组人数为 $N_{L} = 0.85N$。高接触风险组的感染时点患病率为 $p_{H} = 0.08$，低接触风险组为 $p_{L} = 0.012$。在提供筛查时，高接触风险组中同意检测的比例为 $a_{H} = 0.75$，低接触风险组为 $a_{L} = 0.65$。\n\n筛查策略 A（普遍筛查）：向所有成年人提供一次筛查检测。检测呈阳性并被确认为感染的个体被视为指示病例，并进行伴侣告知。对于每个来自高接触风险组的确诊指示病例，平均指认 $k_{H} = 2.5$ 名伴侣；对于来自低接触风险组的，平均指认 $k_{L} = 1.4$ 名伴侣。在被指认的伴侣中，可联系到的比例为 $q = 0.6$，在可联系到的伴侣中，接受检测的比例为 $t = 0.8$。一个已检测的伴侣当前被感染的概率，条件是其为确诊指示病例所指认的伴侣，对于高接触风险指示病例的伴侣为 $c_{H} = 0.22$，对于低接触风险指示病例的伴侣为 $c_{L} = 0.14$。同样的检测灵敏度 $s$ 适用于伴侣。假设个体间的感染是独立的，被指认的伴侣之间重叠可忽略不计，并且没有重复的告知级联（即，仅追踪和检测指示病例的一级伴侣）。\n\n筛查策略 B（基于风险的筛查）：仅向高接触风险组提供一次筛查检测，对确诊指示病例的后续伴侣告知协议与上述相同。\n\n仅使用患病率、检测灵敏度和期望的线性性的定义，并将所有量视为在所述假设下的期望值，计算在策略 A 和策略 B 下检测到的感染者期望数量（指示病例加上通过伴侣告知检测到的受感染伴侣）。将这两个期望计数按策略 A 和策略 B 的顺序以单行矩阵的形式报告。将你的两个数字四舍五入到四位有效数字。最终答案以无单位的计数形式表示。", "solution": "问题要求计算在两种不同的筛查策略 A 和 B 下，检测到的感染者期望数量。一个被检测到的个体可以是“指示病例”（通过初级筛查发现），也可以是“受感染的伴侣”（通过后续的伴侣告知发现）。检测到的病例总期望数是检测到的指示病例期望数和检测到的受感染伴侣期望数之和。我们将通过考虑高接触风险（H）和低接触风险（L）人群组的贡献来为每个策略计算这个数值。\n\n给定参数如下：\n总人口 $N = 50000$。\n高风险组规模 $N_{H} = 0.15N = 7500$。\n低风险组规模 $N_{L} = 0.85N = 42500$。\nH 组的患病率：$p_{H} = 0.08$。\nL 组的患病率：$p_{L} = 0.012$。\nH 组的筛查接受率：$a_{H} = 0.75$。\nL 组的筛查接受率：$a_{L} = 0.65$。\n检测灵敏度：$s = 0.92$。\n每个 H 组指示病例指认的伴侣数：$k_{H} = 2.5$。\n每个 L 组指示病例指认的伴侣数：$k_{L} = 1.4$。\n可联系到的伴侣比例：$q = 0.6$。\n被联系到的伴侣中接受检测的比例：$t = 0.8$。\nH 组指示病例伴侣的感染概率：$c_{H} = 0.22$。\nL 组指示病例伴侣的感染概率：$c_{L} = 0.14$。\n\n问题说明使用了完美的确认算法，这意味着只有检测呈阳性的真正感染者才被视为指示病例。这类病例的数量是接受筛查的感染者数量乘以检测灵敏度。\n\n设 $E[D]$ 为检测到的病例总期望数。它由检测到的指示病例 $E[D_{index}]$ 和检测到的伴侣病例 $E[D_{partner}]$ 组成。\n$E[D] = E[D_{index}] + E[D_{partner}]$。\n\n对于一个通用风险组 $i \\in \\{H, L\\}$：\n被筛查个体的期望数量是 $N_i a_i$。\n在这些被筛查者中，感染者的期望数量是 $N_i a_i p_i$。\n检测到的指示病例的期望数量是 $E[D_{index, i}] = N_i a_i p_i s$。\n\n对每个指示病例，我们追踪其伴侣。每个指示病例检测到的伴侣期望数是指认的伴侣数（$k_i$）、可联系比例（$q$）、检测比例（$t$）、受检伴侣中的感染概率（$c_i$）和检测灵敏度（$s$）的乘积。\n来自组 $i$ 的每个指示病例的期望检测伴侣数：$k_i q t c_i s$。\n\n源自组 $i$ 的检测到的伴侣总期望数是组 $i$ 的指示病例数乘以每个指示病例的期望检测伴侣数：\n$E[D_{partner, i}] = E[D_{index, i}] \\times (k_i q t c_i s) = (N_i a_i p_i s) \\times (k_i q t c_i s) = N_i a_i p_i k_i q t c_i s^{2}$。\n\n组 $i$ 通过筛查和追踪得到的病例总期望数是：\n$E[D_i] = E[D_{index, i}] + E[D_{partner, i}] = N_i a_i p_i s + N_i a_i p_i k_i q t c_i s^{2} = N_i a_i p_i s (1 + k_i q t c_i s)$。\n\n现在我们将这些公式应用于每个策略。\n\n**筛查策略 A（普遍筛查）**\n在此策略下，高风险组和低风险组都接受筛查。检测到的病例总期望数是源自两组的检测数之和。\n$E[D_A] = E[D_H] + E[D_L]$\n$E[D_A] = N_H a_H p_H s (1 + k_H q t c_H s) + N_L a_L p_L s (1 + k_L q t c_L s)$。\n\n首先，我们计算来自高风险组 (H) 的部分：\n$E[D_{index, H}] = N_H a_H p_H s = 7500 \\times 0.75 \\times 0.08 \\times 0.92 = 414$。\n伴侣病例的乘数是 $(1 + k_H q t c_H s) = 1 + (2.5 \\times 0.6 \\times 0.8 \\times 0.22 \\times 0.92) = 1 + 0.24288 = 1.24288$。\n$E[D_H] = 414 \\times 1.24288 = 514.55232$。\n\n接下来，我们计算来自低风险组 (L) 的部分：\n$E[D_{index, L}] = N_L a_L p_L s = 42500 \\times 0.65 \\times 0.012 \\times 0.92 = 304.98$。\n伴侣病例的乘数是 $(1 + k_L q t c_L s) = 1 + (1.4 \\times 0.6 \\times 0.8 \\times 0.14 \\times 0.92) = 1 + 0.0865536 = 1.0865536$。\n$E[D_L] = 304.98 \\times 1.0865536 = 331.37580768$。\n\n策略 A 的总期望病例数：\n$E[D_A] = 514.55232 + 331.37580768 = 845.92812768$。\n四舍五入到四位有效数字，$E[D_A] \\approx 845.9$。\n\n**筛查策略 B（基于风险的筛查）**\n在此策略下，仅向高接触风险组 (H) 提供筛查。因此，所有检测到的病例（包括指示病例和伴侣病例）都必须源于该组。计算与策略 A 中高风险组的部分相同。\n$E[D_B] = E[D_H] = N_H a_H p_H s (1 + k_H q t c_H s)$。\n\n根据策略 A 的计算，我们已经得到这个值：\n$E[D_B] = 514.55232$。\n四舍五入到四位有效数字，$E[D_B] \\approx 514.6$。\n\n策略 A 检测到的感染者期望数量为 $845.9$，策略 B 为 $514.6$。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n845.9 & 514.6\n\\end{pmatrix}\n}\n$$", "id": "4489910"}]}