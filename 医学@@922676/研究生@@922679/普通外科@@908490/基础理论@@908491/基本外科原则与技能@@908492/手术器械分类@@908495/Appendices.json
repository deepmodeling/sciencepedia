{"hands_on_practices": [{"introduction": "一个强大的器械分类体系，其基础在于深刻理解器械作用于组织的物理学原理。本练习 [@problem_id:4608804] 将基础的电学概念——如电压 ($V$)、电流 ($I$) 和阻抗 ($Z$)——与切割和凝固这两种关键的外科效应联系起来。通过这个练习，你将学会如何运用定量分析来明确定义电外科器械的功能分类，而不是仅仅依赖于设备上的预设名称。", "problem": "一台单极电外科手术单元 (ESU, Electrosurgical Unit) 与连续射频正弦波和刀状电极一同使用，其在组织上的有效接触斑面积经测量为 $A=0.08\\,\\text{cm}^{2}$。在一次稳定接触期间，ESU 输出经仪器测量报告的均方根 (RMS, root-mean-square) 值为 $V_{\\text{rms}}=70\\,\\text{V}$ 和 $I_{\\text{rms}}=0.28\\,\\text{A}$。对于在连续波切割设置下对含水软组织进行的射频电外科手术，假设该组织主要表现为欧姆性，电抗成分可忽略不计，因此功率因数满足 $\\cos\\varphi\\approx 1$。\n\n在一个基于组织效应的电外科器械功能分类方案中，定义“切割模式”为在连续波条件下，传递到组织-电极界面的瞬时功率密度达到或超过阈值 $p_{\\text{cut}}=250\\,\\text{W}\\,\\text{cm}^{-2}$ 的情况，否则为“凝固模式”。仅使用适用于正弦稳态下线性时不变欧姆介质的基本定义，根据给定的 RMS 测量值确定组织阻抗和相应的功率密度，然后用这些值根据所述规则确定当前设置属于哪个功能类别。最后，计算在相同组织阻抗和接触面积下实现“切割模式”所需的最小 RMS 电压。\n\n以伏特为单位表示最终电压，并将最终答案四舍五入到四位有效数字。最终答案必须是一个实数。", "solution": "在进行求解之前，对问题陈述的有效性进行评估。\n\n### 第1步：提取已知条件\n- 有效电极接触面积：$A=0.08\\,\\text{cm}^{2}$\n- 均方根 (RMS) 电压：$V_{\\text{rms}}=70\\,\\text{V}$\n- 均方根 (RMS) 电流：$I_{\\text{rms}}=0.28\\,\\text{A}$\n- 功率因数：$\\cos\\varphi\\approx 1$ (主要为欧姆性组织)\n- 切割模式阈值功率密度：$p_{\\text{cut}}=250\\,\\text{W}\\,\\text{cm}^{-2}$\n- 切割模式条件：瞬时功率密度 $\\ge p_{\\text{cut}}$\n- 凝固模式条件：瞬时功率密度  p_{\\text{cut}}\n\n### 第2步：使用提取的已知条件进行验证\n该问题在科学上基于电气工程原理（交流电路理论）及其在生物医学工程（电外科）中的应用。所提供的电压、电流和面积值对于此类操作在物理上是现实的。问题是适定的，提供了所有必要信息和一组明确的目标。语言是客观且定量的。\n\n“瞬时功率密度”这一术语存在轻微的歧义。对于连续波 (CW) 正弦源，瞬时功率会快速振荡。然而，像切割这样的组织效应是热过程，这意味着它们响应的是在比射频周期长得多的时间尺度上输送的平均功率。因此，在此背景下，标准且物理上正确的解释是将*平均功率密度*与给定阈值进行比较。在理解了这一标准惯例后，该问题并非不适定。\n\n### 第3步：结论与行动\n问题被判定为**有效**。将提供解答。\n\n### 解答推导\n该问题需要一个四部分的解答：$1$) 确定组织阻抗，$2$) 计算功率密度以分类操作模式，$3$) 陈述分类，以及 $4$) 计算实现“切割模式”所需的最小 RMS 电压。\n\n**1. 组织阻抗 ($Z$)**\n问题陈述组织主要表现为欧姆性，且功率因数 $\\cos\\varphi \\approx 1$。这表示电压和电流之间的相位角 $\\varphi$ 近似为零，意味着阻抗 $Z$ 可以被视为纯电阻 $R$。对交流电路使用 RMS 值的欧姆定律：\n$$Z = \\frac{V_{\\text{rms}}}{I_{\\text{rms}}}$$\n代入给定值：\n$$Z = \\frac{70\\,\\text{V}}{0.28\\,\\text{A}} = 250\\,\\Omega$$\n组织阻抗为 $Z = 250\\,\\Omega$。\n\n**2. 功率密度与模式分类**\n传递到组织的平均功率 $P_{\\text{avg}}$ 由以下公式给出：\n$$P_{\\text{avg}} = V_{\\text{rms}} I_{\\text{rms}} \\cos\\varphi$$\n已知 $\\cos\\varphi \\approx 1$：\n$$P_{\\text{avg}} = (70\\,\\text{V})(0.28\\,\\text{A}) = 19.6\\,\\text{W}$$\n如在验证阶段所确立的，在 CW 设置中用于组织效应分类的相关功率密度是平均功率密度 $p_{\\text{avg}}$。这是分布在接触面积 $A$ 上的平均功率。\n$$p_{\\text{avg}} = \\frac{P_{\\text{avg}}}{A}$$\n代入计算出的功率和给定的面积：\n$$p_{\\text{avg}} = \\frac{19.6\\,\\text{W}}{0.08\\,\\text{cm}^2} = 245\\,\\text{W}\\,\\text{cm}^{-2}$$\n问题将“切割模式”定义为功率密度达到或超过 $p_{\\text{cut}} = 250\\,\\text{W}\\,\\text{cm}^{-2}$ 的情况。我们将计算出的功率密度与此阈值进行比较：\n$$245\\,\\text{W}\\,\\text{cm}^{-2}  250\\,\\text{W}\\,\\text{cm}^{-2}$$\n由于 $p_{\\text{avg}}  p_{\\text{cut}}$，该 ESU 正在**凝固模式**下运行。\n\n**3. 实现切割模式的最小 RMS 电压**\n为了找到用于切割的最小 RMS 电压（我们表示为 $V'_{\\text{rms}}$），我们必须找到能产生等于切割阈值 $p_{\\text{cut}}$ 的功率密度的电压。设所需的新平均功率为 $P'_{\\text{avg}}$。\n$$P'_{\\text{avg}} = p_{\\text{cut}} \\times A$$\n$$P'_{\\text{avg}} = (250\\,\\text{W}\\,\\text{cm}^{-2})(0.08\\,\\text{cm}^2) = 20\\,\\text{W}$$\n传递到电阻性负载 $Z$ 的平均功率也通过以下公式与 RMS 电压相关：\n$$P'_{\\text{avg}} = \\frac{(V'_{\\text{rms}})^2}{Z}$$\n假设组织阻抗 $Z=250\\,\\Omega$ 不变，我们可以求解 $V'_{\\text{rms}}$：\n$$(V'_{\\text{rms}})^2 = P'_{\\text{avg}} \\times Z$$\n$$(V'_{\\text{rms}})^2 = (20\\,\\text{W})(250\\,\\Omega) = 5000\\,\\text{V}^2$$\n$$V'_{\\text{rms}} = \\sqrt{5000}\\,\\text{V} = \\sqrt{2500 \\times 2}\\,\\text{V} = 50\\sqrt{2}\\,\\text{V}$$\n题目要求将最终答案四舍五入到四位有效数字。\n$$V'_{\\text{rms}} \\approx 70.710678... \\,\\text{V}$$\n四舍五入到四位有效数字，所需的最小 RMS 电压为 $70.71\\,\\text{V}$。", "answer": "$$\\boxed{70.71}$$", "id": "4608804"}, {"introduction": "在掌握了器械作用的物理学基础之后，下一步是在真实的临床情境中应用分类规则。本练习 [@problem_id:4608791] 模拟了外科手术中的一项关键决策任务：根据特定的组织厚度选择正确的切割闭合器钉匣。你将运用制造商提供的技术规格进行计算，这凸显了遵循循证指南以确保吻合口妥善成形与愈合的重要性。", "problem": "外科吻合器是一种器械，其钉仓根据制造商以颜色编码的闭合钉高范围进行分类。在普通外科器械分类中，这种钉仓属于缝合与吻合类别，其选择取决于在特定压力下组织厚度与所产生的闭合钉高之间的匹配。\n\n对于某一特定品牌，制造商将压缩比定义为闭合钉高与在标准化预压方案下测量的组织厚度之比。在此定义下，设标准化预压下的组织厚度用 $t$ 表示，压缩比用 $c$ 表示。钉仓产生的闭合钉高用 $h$ 表示。\n\n现提供小肠组织的预压组织厚度测量值为 $t = 3.5$ 毫米，以及在相同的标准化预压条件下应用时，此组织和钉仓系统的制造商压缩比为 $c = \\frac{3}{5}$。\n\n该制造商使用的颜色编码分类由以下闭合钉高范围（单位：毫米）定义，每种颜色都分配有一个唯一的数字代码用于报告：\n- 白色：$[1.0, 1.3)$ 毫米 $\\rightarrow$ 代码 $1$\n- 蓝色：$[1.3, 1.6)$ 毫米 $\\rightarrow$ 代码 $2$\n- 金色：$[1.6, 1.9)$ 毫米 $\\rightarrow$ 代码 $3$\n- 绿色：$[1.9, 2.2)$ 毫米 $\\rightarrow$ 代码 $4$\n- 黑色：$[2.2, 2.5)$ 毫米 $\\rightarrow$ 代码 $5$\n- 紫色：$[2.5, 2.8]$ 毫米 $\\rightarrow$ 代码 $6$\n\n从制造商的压缩比定义出发，根据给定的 $t$ 和 $c$ 确定合适的闭合钉高 $h$，然后通过识别包含计算出的 $h$ 值的颜色编码范围所对应的唯一数字代码，对钉仓进行分类。仅报告该数字代码。本题无需进行四舍五入。如果您认为有必要对中间值进行近似，请将其四舍五入至四位有效数字，并以毫米为单位表示闭合钉高，但最终报告的代码必须是无单位的。", "solution": "问题陈述已经过评估，被认为是有效的。它在科学上基于外科器械分类的原则，问题提法恰当，有唯一的、可解的结果，且语言客观。求解所需的所有必要数据和定义均已提供，并且相互一致。\n\n该问题要求基于组织厚度和一个已定义的压缩比，确定外科吻合器钉仓的数字代码。\n\n制造商对压缩比 $c$ 的定义为闭合钉高 $h$ 与预压组织厚度 $t$ 的比值。这种关系由以下方程表示：\n$$c = \\frac{h}{t}$$\n为了求出闭合钉高 $h$，我们重排此方程：\n$$h = c \\cdot t$$\n问题提供了以下数值：\n-   预压组织厚度, $t = 3.5$ 毫米。\n-   压缩比, $c = \\frac{3}{5}$。\n\n将这些值代入 $h$ 的方程中：\n$$h = \\left(\\frac{3}{5}\\right) \\cdot (3.5 \\text{ mm})$$\n我们可以将小数值 $3.5$ 表示为分数 $\\frac{7}{2}$ 以保持精度：\n$$h = \\left(\\frac{3}{5}\\right) \\cdot \\left(\\frac{7}{2}\\right) \\text{ mm}$$\n$$h = \\frac{21}{10} \\text{ mm}$$\n$$h = 2.1 \\text{ mm}$$\n计算出的闭合钉高恰好为 $2.1$ 毫米。关于近似到四位有效数字的说明已被注意到，但在这里是不必要的，因为结果是精确的。\n\n接下来，我们必须使用所提供的颜色编码范围及其对应的数字代码对这个高度进行分类：\n-   白色：$[1.0, 1.3)$ 毫米 $\\rightarrow$ 代码 $1$\n-   蓝色：$[1.3, 1.6)$ 毫米 $\\rightarrow$ 代码 $2$\n-   金色：$[1.6, 1.9)$ 毫米 $\\rightarrow$ 代码 $3$\n-   绿色：$[1.9, 2.2)$ 毫米 $\\rightarrow$ 代码 $4$\n-   黑色：$[2.2, 2.5)$ 毫米 $\\rightarrow$ 代码 $5$\n-   紫色：$[2.5, 2.8]$ 毫米 $\\rightarrow$ 代码 $6$\n\n我们必须确定哪个区间包含 $h = 2.1$ 这个值。让我们测试“绿色”分类的区间，该区间由不等式 $1.9 \\le h  2.2$ 定义。代入我们计算出的 $h$ 值：\n$$1.9 \\le 2.1  2.2$$\n这个不等式成立。计算出的闭合钉高 $2.1$ 毫米落在“绿色”范围内。\n\n问题要求提供与此范围对应的唯一数字代码。“绿色”分类的代码是 $4$。", "answer": "$$\\boxed{4}$$", "id": "4608791"}, {"introduction": "任何分类系统，无论多么精巧，只有在可靠时才有价值。本练习 [@problem_id:4608823] 将引导你进入一个更高层次的分析，即对分类系统本身的性能进行定量评估。你将学习如何使用混淆矩阵 (confusion matrix) 来计算灵敏度 (sensitivity) 和特异性 (specificity) 等标准统计指标，从而量化一个分类模型的准确性。这项实践对于评估任何分类工具的有效性都至关重要，无论该工具是人工制定的规则还是基于人工智能的算法。", "problem": "一个普外科的研究团队正在验证一个计算机视觉分类器，该分类器将手术器械分为 $5$ 个互斥类别：切割类、抓持类、夹持类、牵开类和能量类。为了评估该分类方案的可靠性，他们对一个包含 $440$ 个器械的测试集进行了一项研究，并得到了一个 $5 \\times 5$ 的混淆矩阵 $\\mathbf{M}$，其中行代表真实类别，列代表预测类别。类别排序如下：切割类（第 $1$ 行，第 $1$ 列）、抓持类（第 $2$ 行，第 $2$ 列）、夹持类（第 $3$ 行，第 $3$ 列）、牵开类（第 $4$ 行，第 $4$ 列）、能量类（第 $5$ 行，第 $5$ 列）。矩阵 $\\mathbf{M}$ 为：\n$$\n\\mathbf{M} =\n\\begin{pmatrix}\n80  8  3  4  1 \\\\\n5  90  8  6  1 \\\\\n3  7  72  4  2 \\\\\n6  4  5  60  1 \\\\\n2  1  3  2  62\n\\end{pmatrix}.\n$$\n根据每类的一对多（one-versus-all）解释，使用真阳性（TP）、假阳性（FP）、真阴性（TN）和假阴性（FN）的公认定义，推导出 $5$ 个类别中每个类别的灵敏度（真阳性率）和特异度（真阴性率）。将每个指标表示为四舍五入到四位有效数字的小数。将您的最终结果以一个包含 $10$ 个值的单行向量形式返回，前 $5$ 个条目是按上述类别顺序排列的灵敏度，后 $5$ 个条目是相应的特异度。不包含任何单位。", "solution": "该问题要求基于提供的混淆矩阵计算 $5$ 个类别中每个类别的灵敏度和特异度。首先，必须确定问题的有效性。\n\n### 问题验证\n\n**步骤 1：提取已知条件**\n- 类别数量 $k$：$5$。\n- 类别标签和顺序：C1：切割类，C2：抓持类，C3：夹持类，C4：牵开类，C5：能量类。\n- 器械总数 $N$：$440$。\n- 混淆矩阵 $\\mathbf{M}$（行为真实类别，列为预测类别）：\n$$\n\\mathbf{M} =\n\\begin{pmatrix}\n80  8  3  4  1 \\\\\n5  90  8  6  1 \\\\\n3  7  72  4  2 \\\\\n6  4  5  60  1 \\\\\n2  1  3  2  62\n\\end{pmatrix}\n$$\n- 任务：使用一对多解释为每个类别推导灵敏度和特异度。\n- 输出格式：四舍五入到四位有效数字的小数，以一个包含 $10$ 个值的单行向量形式呈现（灵敏度后跟特异度）。\n\n**步骤 2：使用提取的已知条件进行验证**\n- **科学依据：** 该问题基于评估多类别分类器的标准且广泛接受的统计框架。混淆矩阵、灵敏度和特异度的概念是机器学习和医学统计学的基础。对手术器械进行分类的背景是一个现实的应用。该问题在科学上是合理的。\n- **良构性：** 混淆矩阵提供了计算所需指标的所有必要数据。在一对多背景下，灵敏度和特異度的定义是标准的，并能得出唯一解。该问题是良构的。\n- **客观性：** 问题陈述使用了精确、标准的术语，没有任何主观或模糊的语言。\n- **内部一致性：** 矩阵 $\\mathbf{M}$ 中所有元素的和为 $80+8+3+4+1+5+90+8+6+1+3+7+72+4+2+6+4+5+60+1+2+1+3+2+62 = 440$。这与陈述的器械总数 $N=440$ 相符。所提供的数据内部一致。\n\n**步骤 3：结论与行动**\n该问题是有效的，因为它具有科学依据、良构性、客观性和内部一致性。将推导解答。\n\n### 解答推导\n\n对于一个有 $k$ 个类别的多分类问题，我们使用一对多（one-versus-all）方法分析每个类别 $i$ 的性能。对于每个类别 $i$，我们定义真阳性（$TP_i$）、假阴性（$FN_i$）、假阳性（$FP_i$）和真阴性（$TN_i$）。令 $M_{ij}$ 为混淆矩阵 $\\mathbf{M}$ 在第 $i$ 行和第 $j$ 列的元素。样本总数为 $N = \\sum_{i=1}^k \\sum_{j=1}^k M_{ij} = 440$。\n\n对于类别 $i$：\n- **真阳性（$TP_i$）**：类别 $i$ 的样本被正确预测为类别 $i$。$TP_i = M_{ii}$。\n- **假阴性（$FN_i$）**：类别 $i$ 的样本被错误预测为任何其他类别。$FN_i = \\sum_{j \\neq i} M_{ij} = (\\sum_{j=1}^k M_{ij}) - M_{ii}$。这是第 $i$ 行的和减去对角线元素。\n- **假阳性（$FP_i$）**：其他类别的样本被错误预测为类别 $i$。$FP_i = \\sum_{j \\neq i} M_{ji} = (\\sum_{j=1}^k M_{ji}) - M_{ii}$。这是第 $i$ 列的和减去对角线元素。\n- **真阴性（$TN_i$）**：其他类别的样本被正确预测为非类别 $i$。$TN_i = N - (TP_i + FN_i + FP_i)$。\n\n指标定义如下：\n- **灵敏度（真阳性率）**：$S_n = \\frac{TP_i}{TP_i + FN_i}$。这是实际阳性样本中被正确识别的比例。\n- **特异度（真阴性率）**：$S_p = \\frac{TN_i}{TN_i + FP_i}$。这是实际阴性样本中被正确识别的比例。\n\n我们现在为 $5$ 个类别中的每一个计算这些值。\n\n**类别 1 (切割类)**\n- $TP_1 = M_{11} = 80$。\n- 行和 = $80+8+3+4+1 = 96$。所以，$FN_1 = 96 - 80 = 16$。\n- 列和 = $80+5+3+6+2 = 96$。所以，$FP_1 = 96 - 80 = 16$。\n- $TN_1 = 440 - (80 + 16 + 16) = 440 - 112 = 328$。\n- 灵敏度$_1 = \\frac{80}{80+16} = \\frac{80}{96} \\approx 0.833333 \\dots \\approx 0.8333$。\n- 特异度$_1 = \\frac{328}{328+16} = \\frac{328}{344} \\approx 0.953488 \\dots \\approx 0.9535$。\n\n**类别 2 (抓持类)**\n- $TP_2 = M_{22} = 90$。\n- 行和 = $5+90+8+6+1 = 110$。所以，$FN_2 = 110 - 90 = 20$。\n- 列和 = $8+90+7+4+1 = 110$。所以，$FP_2 = 110 - 90 = 20$。\n- $TN_2 = 440 - (90 + 20 + 20) = 440 - 130 = 310$。\n- 灵敏度$_2 = \\frac{90}{90+20} = \\frac{90}{110} \\approx 0.818181 \\dots \\approx 0.8182$。\n- 特异度$_2 = \\frac{310}{310+20} = \\frac{310}{330} \\approx 0.939393 \\dots \\approx 0.9394$。\n\n**类别 3 (夹持类)**\n- $TP_3 = M_{33} = 72$。\n- 行和 = $3+7+72+4+2 = 88$。所以，$FN_3 = 88 - 72 = 16$。\n- 列和 = $3+8+72+5+3 = 91$。所以，$FP_3 = 91 - 72 = 19$。\n- $TN_3 = 440 - (72 + 16 + 19) = 440 - 107 = 333$。\n- 灵敏度$_3 = \\frac{72}{72+16} = \\frac{72}{88} \\approx 0.818181 \\dots \\approx 0.8182$。\n- 特异度$_3 = \\frac{333}{333+19} = \\frac{333}{352} \\approx 0.946022 \\dots \\approx 0.9460$。\n\n**类别 4 (牵开类)**\n- $TP_4 = M_{44} = 60$。\n- 行和 = $6+4+5+60+1 = 76$。所以，$FN_4 = 76 - 60 = 16$。\n- 列和 = $4+6+4+60+2 = 76$。所以，$FP_4 = 76 - 60 = 16$。\n- $TN_4 = 440 - (60 + 16 + 16) = 440 - 92 = 348$。\n- 灵敏度$_4 = \\frac{60}{60+16} = \\frac{60}{76} \\approx 0.789473 \\dots \\approx 0.7895$。\n- 特异度$_4 = \\frac{348}{348+16} = \\frac{348}{364} \\approx 0.956043 \\dots \\approx 0.9560$。\n\n**类别 5 (能量类)**\n- $TP_5 = M_{55} = 62$。\n- 行和 = $2+1+3+2+62 = 70$。所以，$FN_5 = 70 - 62 = 8$。\n- 列和 = $1+1+2+1+62 = 67$。所以，$FP_5 = 67 - 62 = 5$。\n- $TN_5 = 440 - (62 + 8 + 5) = 440 - 75 = 365$。\n- 灵敏度$_5 = \\frac{62}{62+8} = \\frac{62}{70} \\approx 0.885714 \\dots \\approx 0.8857$。\n- 特异度$_5 = \\frac{365}{365+5} = \\frac{365}{370} \\approx 0.986486 \\dots \\approx 0.9865$。\n\n最终结果是一个行向量，包含 $5$ 个灵敏度值，后跟 $5$ 个特异度值，均四舍五入到四位有效数字。\n\n灵敏度：[$0.8333$, $0.8182$, $0.8182$, $0.7895$, $0.8857$]\n特异度：[$0.9535$, $0.9394$, $0.9460$, $0.9560$, $0.9865$]\n\n据此构建最终的组合行向量。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.8333  0.8182  0.8182  0.7895  0.8857  0.9535  0.9394  0.9460  0.9560  0.9865\n\\end{pmatrix}\n}\n$$", "id": "4608823"}]}