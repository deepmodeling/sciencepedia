{"hands_on_practices": [{"introduction": "腹主动脉瘤（AAA）筛查是预防其破裂的关键公共卫生策略。然而，筛查测试呈阳性并不等同于确诊，理解测试结果的真实含义至关重要。本练习将引导您运用贝叶斯定理，根据患病率、灵敏度和特异性这些基本参数，计算筛查的阳性预测值（PPV），这是准确解读筛查结果并与患者有效沟通的核心技能 [@problem_id:5076592]。", "problem": "一项全国性的腹主动脉瘤（AAA）筛查项目针对年龄在$65$–$75$岁之间且有吸烟史的男性。在此亚群中，假设AAA的基线患病率为$0.05$。每位参与者都接受一次标准的筛查性腹部超声检查，在该情景下，该测试的灵敏度为$0.95$，特异度为$0.98$。将阳性预测值（PPV）定义为在测试结果为阳性的条件下患病的后验概率，也就是说，在超声检查结果为阳性的条件下，参与者确实患有AAA的概率。\n\n仅从灵敏度、特异度、疾病患病率和贝叶斯定理的定义出发，推导出一个用患病率、灵敏度和特异度表示PPV的表达式，然后在患病率为$0.05$、灵敏度为$0.95$、特异度为$0.98$的条件下计算其值。假设检测性能在整个筛查人群中是恒定的，并且不存在验证偏倚或谱系偏倚。将最终的PPV表示为小数（不带百分号），并将答案四舍五入到四位有效数字。", "solution": "该问题是有效的，因为它在科学上基于流行病学和概率论，内容自洽，且提法明确。所有必要的数据均已提供，任务是推导一个标准公式并应用它。\n\n设$D$为参与者患有腹主动脉瘤（AAA）的事件，设$\\neg D$为参与者未患有AAA的事件。设$T^+$为超声检测结果为阳性的事件，设$T^-$为检测结果为阴性的事件。\n\n问题提供了以下信息，我们将其转化为概率论的语言：\n1. AAA的患病率为 $p = P(D) = 0.05$。因此，未患有AAA的概率为 $P(\\neg D) = 1 - P(D) = 1 - p = 1 - 0.05 = 0.95$。\n2. 该测试的灵敏度为 $Se = P(T^+|D) = 0.95$。这是指在参与者患病的情况下，检测结果为阳性的概率。\n3. 该测试的特异度为 $Sp = P(T^-|\\neg D) = 0.98$。这是指在参与者未患病的情况下，检测结果为阴性的概率。\n\n根据特异度的定义，我们可以推断出在无病个体中检测结果为阳性的概率，这也被称为假阳性率。这是特异度的补集：\n$$ P(T^+|\\neg D) = 1 - P(T^-|\\neg D) = 1 - Sp $$\n\n需要计算的量是阳性预测值（PPV），其定义为在检测结果为阳性的条件下患病的后验概率。这记为$P(D|T^+)$。\n\n任务的第一部分是使用贝叶斯定理推导PPV的表达式。贝叶斯定理陈述如下：\n$$ P(D|T^+) = \\frac{P(T^+|D)P(D)}{P(T^+)} $$\n\n分母$P(T^+)$是收到阳性检测结果的总概率。它可以根据全概率定律，通过考虑两种互斥情景（患病且检测为阳性，以及未患病但检测为阳性）来计算。\n$$ P(T^+) = P(T^+|D)P(D) + P(T^+|\\neg D)P(\\neg D) $$\n\n现在，我们将患病率（$p$）、灵敏度（$Se$）和特异度（$Sp$）的项代入此表达式中：\n$$ P(T^+) = (Se)(p) + (1 - Sp)(1 - p) $$\n\n将$P(T^+)$的这个表达式代回PPV的贝叶斯定理公式中，我们得到所需的用$p$、$Se$和$Sp$表示的PPV通用表达式：\n$$ PPV = \\frac{P(T^+|D)P(D)}{P(T^+|D)P(D) + P(T^+|\\neg D)P(\\neg D)} = \\frac{Se \\cdot p}{Se \\cdot p + (1 - Sp)(1 - p)} $$\n至此推导完成。\n\n任务的第二部分是使用给定值计算此表达式的值：\n$p = 0.05$\n$Se = 0.95$\n$Sp = 0.98$\n\n我们将这些值代入推导出的PPV公式中。首先，我们计算分子，它代表人群中真阳性结果的概率：\n$$ \\text{分子} = Se \\cdot p = 0.95 \\times 0.05 = 0.0475 $$\n\n接下来，我们计算分母中的各项。第一项与分子相同：$Se \\cdot p = 0.0475$。\n分母中的第二项代表人群中假阳性结果的概率：\n$$ (1 - Sp)(1 - p) = (1 - 0.98)(1 - 0.05) = (0.02)(0.95) = 0.019 $$\n\n分母，即阳性检测的总概率，是这两项之和：\n$$ P(T^+) = 0.0475 + 0.019 = 0.0665 $$\n\n最后，我们通过将分子除以分母来计算PPV：\n$$ PPV = \\frac{0.0475}{0.0665} $$\n\n进行除法运算得出：\n$$ PPV \\approx 0.7142857... $$\n\n问题要求答案四舍五入到四位有效数字。前四位有效数字是$7$、$1$、$4$、$2$。第五位有效数字是$8$，它$\\ge 5$，所以我们将第四位数字向上取整。\n$$ PPV \\approx 0.7143 $$", "answer": "$$\\boxed{0.7143}$$", "id": "5076592"}, {"introduction": "当筛查发现一个小型腹主动脉瘤后，临床工作便进入了监测（surveillance）阶段，其核心是追踪瘤体直径的变化。然而，任何测量都存在误差，区分真实的动脉瘤增长和测量变异性是做出正确临床决策的基础。通过本练习，您将学习如何根据一系列超声测量数据计算年平均增长率，并评估该增长是否超越了固有的测量误差范围，这是处理纵向监测数据的基本功 [@problem_id:5076530]。", "problem": "一位68岁的患者在初步筛查后，被纳入腹主动脉瘤监测计划。在采用前后壁外缘到外缘直径测量法的标准化超声成像中，于时间点 $t_0$、$t_1 = t_0 + 12$ 个月和 $t_2 = t_0 + 24$ 个月获得了三次连续的测量值。记录的直径分别为 $D(t_0) = 3.1 \\ \\mathrm{cm}$，$D(t_1) = 3.4 \\ \\mathrm{cm}$ 和 $D(t_2) = 3.8 \\ \\mathrm{cm}$。假设所有测量均在相似的技术和定位下进行，且每次独立的超声直径测量都带有一个独立的有界误差，其最大误差量值为 $E = 0.3 \\ \\mathrm{cm}$。\n\n从瞬时直径增长率的定义 $g(t) = \\frac{dD}{dt}$ 和区间 $[t_a, t_b]$ 上的平均增长率是有限差分商 $\\frac{D(t_b) - D(t_a)}{t_b - t_a}$ 出发，计算动脉瘤在从 $t_0$ 到 $t_2$ 的24个月期间的年平均增长率 $\\bar{g}$。接下来，利用每次测量误差的独立性，推导一个仅由测量误差导致的12个月直径变化的典型界限，并将其转换为年化增长率阈值 $\\theta$。然后，定义指标 $I$ 如下：如果 $\\bar{g}  \\theta$，则 $I = 1$；否则 $I = 0$。\n\n将增长率 $\\bar{g}$ 以 $\\mathrm{cm/year}$ 为单位表示，并四舍五入至四位有效数字。将 $I$ 表示为无量纲量。请以行矩阵 $\\begin{pmatrix} \\bar{g}  I \\end{pmatrix}$ 的形式提供您的最终答案。", "solution": "该问题是有效的，因为它具有科学依据、提法明确且客观。它提供了一组临床上真实的数据，并要求基于标准的数学定义和误差分析原理进行计算。\n\n第一个任务是计算动脉瘤在从时间 $t_0$ 到 $t_2$ 的24个月期间的年平均增长率 $\\bar{g}$。区间 $[t_a, t_b]$ 上的平均增长率定义为有限差分商 $\\frac{D(t_b) - D(t_a)}{t_b - t_a}$。\n\n此区间给定的数据点是起始时间 $t_0$ 的直径 $D(t_0) = 3.1 \\ \\mathrm{cm}$，和结束时间 $t_2$ 的直径 $D(t_2) = 3.8 \\ \\mathrm{cm}$。时间间隔为 $\\Delta t = t_2 - t_0$。题目说明 $t_2 = t_0 + 24$ 个月，所以该区间的持续时间为24个月。为了以 $\\mathrm{cm/year}$ 为单位表示增长率，我们将时间间隔转换为年：\n$$ \\Delta t = 24 \\ \\mathrm{months} \\times \\frac{1 \\ \\mathrm{year}}{12 \\ \\mathrm{months}} = 2 \\ \\mathrm{years} $$\n此期间的直径变化为：\n$$ \\Delta D = D(t_2) - D(t_0) = 3.8 \\ \\mathrm{cm} - 3.1 \\ \\mathrm{cm} = 0.7 \\ \\mathrm{cm} $$\n因此，年平均增长率 $\\bar{g}$ 为：\n$$ \\bar{g} = \\frac{\\Delta D}{\\Delta t} = \\frac{0.7 \\ \\mathrm{cm}}{2 \\ \\mathrm{years}} = 0.35 \\ \\frac{\\mathrm{cm}}{\\mathrm{year}} $$\n题目要求将该值四舍五入至四位有效数字。\n$$ \\bar{g} = 0.3500 \\ \\frac{\\mathrm{cm}}{\\mathrm{year}} $$\n\n第二个任务是基于测量误差推导年化增长率阈值 $\\theta$。我们已知每次超声测量的独立有界误差最大量值为 $E = 0.3 \\ \\mathrm{cm}$。我们需要找到一个仅由测量误差所能导致的12个月直径变化的界限。\n\n在时间区间 $[t_a, t_b]$ 内观测到的直径变化 $\\Delta D_{obs}$，是两次测量值的差：$\\Delta D_{obs} = D_{obs}(t_b) - D_{obs}(t_a)$。设 $D_{true}(t)$ 为时间 $t$ 的真实直径。观测值 $D_{obs}(t)$ 与真实值的关系为 $D_{obs}(t) = D_{true}(t) + \\epsilon(t)$，其中 $\\epsilon(t)$ 是测量误差，且满足 $|\\epsilon(t)| \\le E$。\n\n计算得到的变化量的误差 $\\mathrm{Err}_{\\Delta D}$ 是观测变化量与真实变化量之差：\n$$ \\mathrm{Err}_{\\Delta D} = \\Delta D_{obs} - \\Delta D_{true} = (D_{obs}(t_b) - D_{obs}(t_a)) - (D_{true}(t_b) - D_{true}(t_a)) $$\n$$ \\mathrm{Err}_{\\Delta D} = (D_{true}(t_b) + \\epsilon(t_b) - D_{true}(t_a) - \\epsilon(t_a)) - (D_{true}(t_b) - D_{true}(t_a)) = \\epsilon(t_b) - \\epsilon(t_a) $$\n该误差的最大可能量值可以通过三角不等式求得：\n$$ |\\mathrm{Err}_{\\Delta D}| = |\\epsilon(t_b) - \\epsilon(t_a)| \\le |\\epsilon(t_b)| + |\\epsilon(t_a)| $$\n由于对于任何一次测量都有 $|\\epsilon(t)| \\le E$，因此差值的最大误差为：\n$$ |\\mathrm{Err}_{\\Delta D}|_{max} \\le E + E = 2E $$\n这代表了即使真实直径变化为零，也可能仅因测量误差而观测到的最大直径变化。使用给定值 $E = 0.3 \\ \\mathrm{cm}$：\n$$ \\text{Maximum error-induced change} = 2 \\times 0.3 \\ \\mathrm{cm} = 0.6 \\ \\mathrm{cm} $$\n题目要求的是针对12个月变化的这个界限，这对应于1年的时间间隔。年化增长率阈值 $\\theta$ 就是这个最大直径变化量除以相应的1年时间间隔。\n$$ \\theta = \\frac{2E}{1 \\ \\mathrm{year}} = \\frac{0.6 \\ \\mathrm{cm}}{1 \\ \\mathrm{year}} = 0.6 \\ \\frac{\\mathrm{cm}}{\\mathrm{year}} $$\n\n最后一个任务是确定指标 $I$ 的值，其定义为：如果 $\\bar{g}  \\theta$，则 $I = 1$；否则 $I = 0$。我们比较计算出的值：\n$$ \\bar{g} = 0.3500 \\ \\frac{\\mathrm{cm}}{\\mathrm{year}} $$\n$$ \\theta = 0.6 \\ \\frac{\\mathrm{cm}}{\\mathrm{year}} $$\n条件 $\\bar{g}  \\theta$ 相当于 $0.3500  0.6$，这是不成立的。因此，指标 $I$ 为 $0$。\n$$ I = 0 $$\n最终答案要求以行矩阵 $\\begin{pmatrix} \\bar{g}  I \\end{pmatrix}$ 的形式给出。代入计算出的值得到 $\\begin{pmatrix} 0.3500  0 \\end{pmatrix}$。", "answer": "$$\n\\boxed{\\begin{pmatrix} 0.3500  0 \\end{pmatrix}}\n$$", "id": "5076530"}, {"introduction": "当监测中的腹主动脉瘤增长到需要手术干预的阈值时，外科医生面临的关键任务是评估患者能否安全地耐受手术。对于开放式AAA修复这样的大手术，准确评估围手术期心脏事件风险是术前评估和医患共同决策的基石。本练习将带您实践应用修订版心脏风险指数（RCRI）这一标准化工具，并通过一个数学模型，将风险评分转化为具体的事件发生概率，从而对患者的个人风险进行量化评估 [@problem_id:5076690]。", "problem": "一位$67$岁的患者计划进行择期肾下腹腹主动脉瘤（AAA）开放修复术。该患者有稳定的缺血性心脏病史，经既往心肌梗死和药物控制的劳力性心绞痛发作证实。患者无充血性心力衰竭史，无既往脑血管意外或短暂性脑缺血发作史，且患有仅通过口服药物（无胰岛素治疗）控制的$2$型糖尿病。术前实验室检查显示血清肌酐为$2.3$ $\\mathrm{mg/dL}$。假设无其他相关合并症。\n\n使用修订版心脏风险指数（RCRI）作为风险分层框架，其中以下各项各计一分：高风险手术、缺血性心脏病、充血性心力衰竭、脑血管疾病、糖尿病胰岛素治疗，以及术前血清肌酐 $ 2.0$ $\\mathrm{mg/dL}$。\n\n对于该机构接受AAA开放修复术的人群，假设其主要心脏事件的RCRI评分$n$通过一个对数优势比（log-odds）的逻辑斯蒂模型，映射到围手术期主要心脏事件的概率$p$：\n$$\n\\ln\\!\\left(\\frac{p}{1 - p}\\right) = \\alpha + \\beta n,\n$$\n校准常数为\n$$\n\\alpha = \\ln\\!\\left(\\frac{0.01}{0.99}\\right), \\quad \\beta = \\ln(2.5),\n$$\n因此，当$n = 0$时，事件概率为$0.01$，且RCRI评分每增加一点，事件的优势比（odds）就乘以$2.5$。\n\n计算此校准模型下该患者围手术期主要心脏事件的概率$p$。将最终答案表示为十进制概率，并四舍五入至四位有效数字。请勿使用百分号。", "solution": "问题陈述已经过验证，被认为是科学上可靠、提法恰当且客观的。它提供了一个清晰的临床情景、一个标准的风险分层工具（修订版心脏风险指数，或RCRI），以及一个用于计算风险的特定数学模型。所有必要的数据和参数均已提供，且不存在内部矛盾或含糊之处。该问题按其陈述是可解的。\n\n解题过程分为两个主要步骤：首先，计算患者的RCRI评分；其次，将此评分代入所提供的逻辑斯蒂回归模型中，以计算事件概率。\n\n首先，我们确定患者的RCRI评分，记为$n$。该分数是六个已定义风险因素各自得分的总和：\n\n1.  **高风险手术**：肾下腹腹主动脉瘤（AAA）开放修复术是一项大型血管手术，被归类为高风险手术。存在此风险因素。（得分：$1$分）\n2.  **缺血性心脏病（IHD）**：患者有“稳定的缺血性心脏病史，由既往心肌梗死和劳力性心绞痛证实”。存在此风险因素。（得分：$1$分）\n3.  **充血性心力衰竭（CHF）**：问题陈述中说明，“无充血性心力衰竭史”。不存在此风险因素。（得分：$0$分）\n4.  **脑血管疾病（CVD）**：问题陈述中说明，“无既往脑血管意外或短暂性脑缺血发作史”。不存在此风险因素。（得分：$0$分）\n5.  **糖尿病胰岛素治疗**：患者患有“仅通过口服药物（无胰岛素治疗）控制的$2$型糖尿病”。不存在此风险因素。（得分：$0$分）\n6.  **术前血清肌酐 $ 2.0$ $\\mathrm{mg/dL}$**：患者的血清肌酐为$2.3$ $\\mathrm{mg/dL}$。由于$2.3  2.0$，存在此风险因素。（得分：$1$分）\n\nRCRI总分是这些分数的总和：\n$$\nn = 1 + 1 + 0 + 0 + 0 + 1 = 3\n$$\n\n接下来，我们使用所提供的逻辑斯蒂模型来计算围手术期主要心脏事件的概率$p$。该模型将事件的对数优势比（log-odds）与RCRI评分$n$相关联：\n$$\n\\ln\\!\\left(\\frac{p}{1 - p}\\right) = \\alpha + \\beta n\n$$\n给定的参数为：\n$$\n\\alpha = \\ln\\!\\left(\\frac{0.01}{0.99}\\right)\n$$\n$$\n\\beta = \\ln(2.5)\n$$\n将$\\alpha$、$\\beta$和$n=3$的值代入模型方程：\n$$\n\\ln\\!\\left(\\frac{p}{1 - p}\\right) = \\ln\\!\\left(\\frac{0.01}{0.99}\\right) + \\ln(2.5) \\times 3\n$$\n利用对数性质$c \\ln(x) = \\ln(x^c)$，我们可以写成：\n$$\n\\ln\\!\\left(\\frac{p}{1 - p}\\right) = \\ln\\!\\left(\\frac{0.01}{0.99}\\right) + \\ln(2.5^3)\n$$\n利用另一个对数性质$\\ln(a) + \\ln(b) = \\ln(ab)$，我们合并右边的项：\n$$\n\\ln\\!\\left(\\frac{p}{1 - p}\\right) = \\ln\\!\\left(\\frac{0.01}{0.99} \\times 2.5^3\\right)\n$$\n为了求解优势比 $\\frac{p}{1-p}$，我们对等式两边取指数：\n$$\n\\frac{p}{1 - p} = \\exp\\left(\\ln\\!\\left(\\frac{0.01}{0.99} \\times 2.5^3\\right)\\right) = \\frac{0.01}{0.99} \\times 2.5^3\n$$\n现在，我们计算优势比的数值。我们有 $2.5^3 = 15.625$。\n$$\n\\text{优势比} = \\frac{p}{1 - p} = \\frac{0.01}{0.99} \\times 15.625 = \\frac{0.15625}{0.99}\n$$\n为了从优势比中求出概率$p$，我们使用关系式 $p = \\frac{\\text{优势比}}{1 + \\text{优势比}}$。\n$$\np = \\frac{\\frac{0.15625}{0.99}}{1 + \\frac{0.15625}{0.99}}\n$$\n为简化这个繁分数，将分子和分母同乘以$0.99$：\n$$\np = \\frac{0.15625}{0.99 + 0.15625} = \\frac{0.15625}{1.14625}\n$$\n进行除法运算：\n$$\np \\approx 0.136314098...\n$$\n题目要求答案四舍五入到四位有效数字。前四位有效数字是$1$、$3$、$6$和$3$。第五位数字是$1$，小于$5$，所以我们舍去。\n$$\np \\approx 0.1363\n$$\n这就是计算得出的患者围手术期主要心脏事件的概率。", "answer": "$$\\boxed{0.1363}$$", "id": "5076690"}]}