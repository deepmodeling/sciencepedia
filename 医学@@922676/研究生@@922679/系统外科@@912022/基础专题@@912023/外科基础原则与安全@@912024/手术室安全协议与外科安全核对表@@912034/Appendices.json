{"hands_on_practices": [{"introduction": "在我们改进任何安全工具之前，我们必须首先理解并量化其有效性。本练习运用临床流行病学的基本概念，来衡量手术安全核查表在真实世界中的影响[@problem_id:5159916]。通过计算绝对风险降低值和需治数等指标，您将把原始的事件数据转化为一个清晰的陈述，说明该核查表在预防诸如错误部位手术等不良事件方面的价值。", "problem": "一家三级医院在手术室（OR）的所有择期手术中实施了世界卫生组织（WHO）的手术安全核查表。在使用核查表之前，观察到的每例手术的手术部位错误风险为$1/10{,}000$。实施之后，观察到的每例手术的手术部位错误风险为$0.2/10{,}000$。将每次手术视为一次独立的伯努利试验，在评估期间，每次手术发生手术部位错误事件的概率是恒定的。请使用概率论的第一性原理和临床流行病学中比较风险度量的标准定义，根据这些每例手术的风险，推导出将使用核查表作为干预措施的以下量：绝对风险降低、相对风险降低和需治数（NNT）。\n\n为确保内部一致性，请对本次分析任务作出以下假设：\n- 将报告的每$10{,}000$例手术的比率解释为每例手术的概率，即基线概率$p_{0}$和实施后概率$p_{1}$。\n- 关注事件（手术部位错误）是有害的，因此风险的降低反映了获益。\n- 对于需治数，使用绝对风险降低的倒数作为一个实值量，不使用向上取整函数。\n\n请按绝对风险降低、相对风险降低、需治数的顺序报告你的三个值。将绝对风险降低和相对风险降低表示为纯小数（不带百分号）。将每个报告值四舍五入至$4$位有效数字。", "solution": "问题陈述经过严格验证，被认为是有效的。其科学基础在于临床流行病学和概率论的原理，并使用了风险度量的标准定义。该问题提法明确，为得出唯一且有意义的解提供了所有必要的数据和假设。它客观公正，没有任何事实错误或逻辑矛盾。\n\n任务是根据某安全核查表实施前后所提供的每例手术的手术部位错误风险，推导临床流行病学中使用的三个关键指标：绝对风险降低、相对风险降低和需治数。\n\n首先，我们将给定的风险形式化为概率。基线风险，即干预前每例手术发生手术部位错误的概率，记为$p_0$。\n$$p_0 = \\frac{1}{10,000} = 0.0001$$\n实施核查表后的风险，记为$p_1$，是干预组中同一事件的概率。\n$$p_1 = \\frac{0.2}{10,000} = 0.00002$$\n\n定义了这些概率后，我们可以根据它们的标准定义推导出所需的量。\n\n1.  **绝对风险降低 (ARR)**\n    绝对风险降低是对照组事件率（$p_0$）与治疗组事件率（$p_1$）之间的算术差。它衡量了干预措施的绝对效果。\n    $$ARR = p_0 - p_1$$\n    代入给定值：\n    $$ARR = 0.0001 - 0.00002 = 0.00008$$\n    题目要求四舍五入到$4$位有效数字。要将$0.00008$表示为$4$位有效数字，我们写作$0.00008000$。\n\n2.  **相对风险降低 (RRR)**\n    相对风险降低衡量了可归因于干预措施的风险的比例降低。它通过将绝对风险降低除以基线风险来计算。它可以表示为：\n    $$RRR = \\frac{ARR}{p_0} = \\frac{p_0 - p_1}{p_0} = 1 - \\frac{p_1}{p_0}$$\n    使用计算出的$ARR$和给定的$p_0$：\n    $$RRR = \\frac{0.00008}{0.0001} = 0.8$$\n    或者，使用方程的另一种形式：\n    $$RRR = 1 - \\frac{0.00002}{0.0001} = 1 - 0.2 = 0.8$$\n    将此结果四舍五入到$4$位有效数字，得到$0.8000$。\n\n3.  **需治数 (NNT)**\n    需治数是为预防一个额外不良结局的发生而需要接受干预（在此案例中，是使用核查表进行的手术）的平均患者数的估计值。根据问题陈述，它被计算为绝对风险降低的倒数，并被视为一个实值量。\n    $$NNT = \\frac{1}{ARR}$$\n    代入$ARR$的值：\n    $$NNT = \\frac{1}{0.00008} = \\frac{1}{8 \\times 10^{-5}} = \\frac{10^5}{8} = 12,500$$\n    题目要求将此值四舍五入到$4$位有效数字。数字$12,500$可以用科学记数法写成$1.250 \\times 10^4$。这种表示法表明该数字已经恰好有$4$位有效数字。因此，该值为$12500$。\n\n推导出的三个量，按要求四舍五入至$4$位有效数字，分别是：\n-   绝对风险降低：$0.00008000$\n-   相对风险降低：$0.8000$\n-   需治数：$12500$\n这些值将按指定顺序呈现在最终答案中。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.00008000  0.8000  12500\n\\end{pmatrix}\n}\n$$", "id": "5159916"}, {"introduction": "一个有效的安全协议通常依赖于构建多层防御。本练习探讨了系统设计中的冗余原则，这是高可靠性组织中的一个核心概念[@problem_id:5159959]。您将使用基础概率论来计算，组合两种独立的患者身份验证检查——人工核对和条形码扫描——如何显著提高流程的整体可靠性，从而降低错误的残余风险。", "problem": "世界卫生组织（WHO）手术安全核查表的一个核心要素是“签入”步骤，该步骤要求在麻醉诱导前核实患者身份。考虑一项并行实施两种身份验证模式的策略：由训练有素的护士进行的人工身份核对，以及由手持式读取器执行的条形码腕带扫描。假设人工核对的灵敏度为 $0.99$，条形码扫描的灵敏度为 $0.995$。灵敏度定义为 $P(\\text{测试标记出错误识别} \\mid \\text{存在错误识别})$。假设两种模式独立运作，并且总是同时执行；如果任一模式标记出错误识别，则该错误识别被视为已检出。\n\n仅从灵敏度的定义和概率的基本法则（包括补集法则和独立性）出发，推导出并行使用两种模式时检出错误识别的组合灵敏度的表达式，并计算其数值。然后，运用同样的原则解释残留漏检概率对于防止选错患者或选错部位的意义，将您的解释与用 $\\pi$ 表示的术前基线错误识别率明确联系起来，但不为 $\\pi$ 赋具体数值。\n\n将组合灵敏度的最终数值答案以小数形式表示。无需进行超出给定灵敏度所隐含的精确小数位的四舍五入。答案无需单位。", "solution": "问题陈述已经过评估，被认为是有效的。它在科学上基于概率论及其在医疗系统工程中的应用，提法明确，信息充分，可得出唯一解，且陈述客观。\n\n该问题要求推导和计算并行验证系统的组合灵敏度，并解释该系统的残留缺陷性。我将从提供的基本原则出发，依次解决这些部分。\n\n令 $I$ 表示存在错误识别的事件。\n令 $M$ 表示人工身份核对正确标记出错误识别的事件。\n令 $B$ 表示条形码腕带扫描正确标记出错误识别的事件。\n\n问题给出了两种模式的灵敏度。灵敏度定义为当某个状况存在时，测试标记出该状况的概率。\n人工核对的灵敏度为 $S_M = P(M \\mid I) = 0.99$。\n条形码扫描的灵敏度为 $S_B = P(B \\mid I) = 0.995$。\n\n该系统配置为并行模式，意味着如果人工核对或条形码扫描（或两者都）标记出错误识别，则该错误识别被视为已检出。因此，组合检出事件是单个检出事件的并集，$M \\cup B$。组合灵敏度（记为 $S_C$）是该并集事件在存在错误识别的条件下的概率：\n$$S_C = P(M \\cup B \\mid I)$$\n\n计算事件并集概率的一个标准方法是使用补集法则。检出错误识别的补集是未能检出该错误。这种情况仅在*两种*模式都未能标记出错误识别时发生。人工核对的失败是事件 $M^c$，条形码扫描的失败是事件 $B^c$。联合失效是事件 $M^c \\cap B^c$。\n\n因此，组合灵敏度可以表示为：\n$$S_C = P(M \\cup B \\mid I) = 1 - P((M \\cup B)^c \\mid I)$$\n根据德摩根定律，$(M \\cup B)^c = M^c \\cap B^c$。所以，\n$$S_C = 1 - P(M^c \\cap B^c \\mid I)$$\n\n问题陈述中指出两种模式独立运作。这意味着在存在错误识别的条件下，核对的结果是条件独立的。数学上表示为：\n$$P(M^c \\cap B^c \\mid I) = P(M^c \\mid I) \\times P(B^c \\mid I)$$\n\n每种模式的失败概率，$P(M^c \\mid I)$ 和 $P(B^c \\mid I)$，分别是其各自灵敏度的补集：\n$P(M^c \\mid I) = 1 - P(M \\mid I) = 1 - S_M$\n$P(B^c \\mid I) = 1 - P(B \\mid I) = 1 - S_B$\n\n将这些代入 $S_C$ 的表达式中，我们推导出两个独立并行系统的组合灵敏度的通用公式：\n$$S_C = 1 - (1 - S_M)(1 - S_B)$$\n这就是所求的表达式。\n\n现在，我将使用给定的灵敏度计算其数值：\n$S_M = 0.99$\n$S_B = 0.995$\n\n首先，计算单个失败概率（假阴性率）：\n$1 - S_M = 1 - 0.99 = 0.01$\n$1 - S_B = 1 - 0.995 = 0.005$\n\n接下来，计算联合失败的概率：\n$(1 - S_M)(1 - S_B) = (0.01) \\times (0.005) = 0.00005$\n\n最后，计算组合灵敏度：\n$$S_C = 1 - 0.00005 = 0.99995$$\n\n任务的第二部分是解释残留漏检概率。残留漏检概率是指在存在错误识别的情况下，组合系统未能检出该错误的概率。这正是上面计算出的量 $(1 - S_M)(1 - S_B)$。\n$$P(\\text{漏检} \\mid I) = 1 - S_C = 0.00005$$\n这个值代表一个条件概率。它意味着在每 $100,000$ 例患者身份被错误识别的情况下，该双重核对系统预计会在其中 $5$ 例中未能检出错误。\n\n问题要求将此与用 $\\pi$ 表示的术前基线错误识别率联系起来。该发生率 $\\pi$ 是发生错误识别的先验概率，$P(I) = \\pi$。\n在患者安全中，最终关注的不仅仅是安全系统的条件失效率，而是在任何给定操作中发生“漏检的错误识别”的绝对发生率。一次漏检的错误识别是一个联合事件，即存在错误识别*并且*系统未能检出它。这对应于事件 $I \\cap (M^c \\cap B^c)$。\n\n该联合事件的概率可以通过条件概率的定义找到：\n$$P(I \\cap (M^c \\cap B^c)) = P(M^c \\cap B^c \\mid I) \\times P(I)$$\n代入我们已定义的术语：\n$$P(\\text{漏检的错误识别}) = (1 - S_C) \\times \\pi$$\n这对于防止选错患者或选错部位的意义在于，尽管并行验证系统显著提高了灵敏度，并将条件性漏检概率降低到一个非常小的数值（$1 - S_C = 0.00005$），但灾难性失败的绝对频率不为零。它是该残留漏检概率与基线错误率 $\\pi$ 的乘积。如果基础流程容易出错（$\\pi$ 很高），即使是高度灵敏的安全系统也仍会让一些错误漏过。相反，减少 $\\pi$ 的努力（例如，通过更好的科室规程、更清晰的标签、减轻员工疲劳）与高灵敏度核对具有协同作用，因为减少 $\\pi$ 或 $(1 - S_C)$ 都会按比例降低灾难性事件的最终风险。表达式 $(1-S_C)\\pi$ 量化了在双重核对系统已实施的情况下，选错患者或选错部位手术事件的发生率。", "answer": "$$\\boxed{0.99995}$$", "id": "5159959"}, {"introduction": "安全核查表并非存在于真空中；其成功实施深受医院运营环境的影响。这个高级练习应用排队论将手术室建模为一个动态系统[@problem_id:5159886]。通过分析患者到达率和手术能力如何产生排队，您将量化时间压力可能导致不遵守核查表程序的风险，从而揭示运营效率和患者安全之间的关键联系。", "problem": "一个实施世界卫生组织（WHO）手术安全核查表的综合手术室（OR）管理着一个单一的择期手术流，其中有一个配备人员的手术室，病例按照率为 $\\lambda=3/\\text{天}$ 的齐次泊松过程到达，并以服务时间呈指数分布（率为 $\\mu=4/\\text{天}$）的方式逐一处理。手术团队必须在每个病例开始前执行完整的切皮前核查表；然而，机构审查表明，当等待的病例队列（不包括任何正在进行中的病例）达到或超过 $m=3$ 个排队病例的压力阈值时，时间压力可证明会导致该到达病例的确定性不合规（即，如果到达的病例看到至少有 $m$ 个其他病例已在等待开始，则其核查表未被完全完成）。\n\n将该手术室建模为一个生灭连续时间马尔可夫链，其状态 $n \\in \\{0,1,2,\\dots\\}$ 代表系统中的病例数（等待中加上服务中），当 $n \\ge 1$ 时，到达率为 $\\lambda$，服务率为 $\\mu$。仅使用基本定义和经过充分检验的事实，完成以下任务：\n\n1.  推导手术室的稳态利用率 $\\rho$。\n2.  推导稳态期望等待病例数（平均队长）$L_{q}$。\n3.  根据平稳马尔可夫链和泊松到达的基本原理，推导遇到“等待队列长度 $\\ge m$”这一压力条件的到达病例的稳态比例，并使用 $m=3$ 计算在此规则下核查表不合规病例的期望比例。\n\n将不合规病例的期望比例的最终结果表示为一个不带百分号的最简分数。最终结果中不包含单位。无需四舍五入。在你的推理中，明确地将队列派生的量与核查表合规性的安全协议风险和约束联系起来，不要引用任何预设了目标结果的快捷公式。", "solution": "该问题陈述将一个手术室建模为单服务台排队系统。此问题具有科学依据、提法明确且客观。它基于运筹学中标准的 M/M/1 排队模型，这是一个成熟的数学框架。给定的参数在物理上是合理的且自洽的。M/M/1 队列存在稳态解的关键条件是到达率必须小于服务率。\n\n给定条件如下：\n- 到达过程：率为 $\\lambda = 3 \\, \\text{天}^{-1}$ 的齐次泊松过程。\n- 服务过程：服务时间呈指数分布，率为 $\\mu = 4 \\, \\text{天}^{-1}$。\n- 服务台数量：$1$。\n- 系统状态 $n$：系统中的病例数（等待中加上服务中），其中 $n \\in \\{0, 1, 2, \\dots\\}$。\n- 不合规阈值：如果一个病例在到达时，观察到等待队列的长度大于或等于 $m=3$，则该病例为不合规。\n\n稳态稳定的条件是 $\\lambda  \\mu$。此处，$3  4$，因此条件满足，存在唯一的稳态分布。这是一个生灭过程，对所有 $n \\ge 0$ 有恒定的出生率 $\\lambda_n = \\lambda$，对所有 $n \\ge 1$ 有死亡率 $\\mu_n = \\mu$，且 $\\mu_0 = 0$。\n\n第一步是推导系统处于状态 $n$ 的稳态概率 $P_n$。生灭过程的稳态平衡方程指出，离开一个状态的速率必须等于进入该状态的速率。对于 M/M/1 队列，细致平衡方程为：\n$$\n\\lambda P_{n-1} = \\mu P_n \\quad \\text{for } n \\ge 1\n$$\n由此，我们可以建立一个递推关系：\n$$\nP_n = \\frac{\\lambda}{\\mu} P_{n-1}\n$$\n我们定义业务强度 $\\rho$ 为到达率与服务率之比：\n$$\n\\rho = \\frac{\\lambda}{\\mu} = \\frac{3}{4}\n$$\n递推关系变为 $P_n = \\rho P_{n-1}$。通过归纳法，我们发现处于任何状态 $n$ 的概率都与系统为空的概率 $P_0$ 相关：\n$$\nP_n = \\rho^n P_0\n$$\n所有概率之和必须等于 $1$。我们用此来求 $P_0$：\n$$\n\\sum_{n=0}^{\\infty} P_n = \\sum_{n=0}^{\\infty} \\rho^n P_0 = P_0 \\sum_{n=0}^{\\infty} \\rho^n = 1\n$$\n该求和是一个几何级数，因为 $\\rho = 3/4  1$，所以它收敛。其和为 $\\sum_{n=0}^{\\infty} \\rho^n = \\frac{1}{1-\\rho}$。\n$$\nP_0 \\left(\\frac{1}{1-\\rho}\\right) = 1 \\implies P_0 = 1-\\rho\n$$\n将此代回，我们得到处于状态 $n$ 的稳态概率的通用公式：\n$$\nP_n = (1-\\rho)\\rho^n\n$$\n对于我们的特定参数，$P_0 = 1 - 3/4 = 1/4$，且 $P_n = (1/4)(3/4)^n$。\n\n**1. 推导手术室的稳态利用率 $\\rho$。**\n手术室的利用率是服务台处于繁忙状态的长期时间比例。当系统中至少有一个病例时，即 $n \\ge 1$ 时，服务台是繁忙的。其概率为 $P(n \\ge 1)$。这与系统为空的概率 $P_0$ 互补。\n$$\n\\text{利用率} = P(n \\ge 1) = \\sum_{n=1}^{\\infty} P_n = 1 - P_0\n$$\n代入 $P_0$ 的表达式：\n$$\n\\text{利用率} = 1 - (1-\\rho) = \\rho\n$$\n因此，手术室的利用率在数值上等于业务强度 $\\rho$。\n$$\n\\rho = \\frac{3}{4}\n$$\n\n**2. 推导稳态期望等待病例数 $L_q$。**\n在队列中等待的病例数 $Q$ 取决于状态 $n$。如果 $n=0$ 或 $n=1$，队列中没有等待的病例（$Q=0$）。如果 $n > 1$，则有一个病例在服务中，$n-1$ 个病例在等待。所以，队长为 $Q = \\max(0, n-1)$。\n期望等待病例数 $L_q$ 是 $Q$ 的期望值：\n$$\nL_q = E[Q] = \\sum_{n=0}^{\\infty} \\max(0, n-1) P_n\n$$\n$$\nL_q = (0)P_0 + (0)P_1 + \\sum_{n=2}^{\\infty} (n-1)P_n = \\sum_{n=1}^{\\infty} (n-1)P_n\n$$\n代入 $P_n = (1-\\rho)\\rho^n$：\n$$\nL_q = \\sum_{n=1}^{\\infty} (n-1)(1-\\rho)\\rho^n = (1-\\rho)\\rho \\sum_{n=1}^{\\infty} (n-1)\\rho^{n-1}\n$$\n令 $k = n-1$。该和变为：\n$$\nL_q = (1-\\rho)\\rho \\sum_{k=0}^{\\infty} k\\rho^k\n$$\n为了计算这个和，我们使用几何级数公式的导数。我们知道对于 $|\\rho|1$：\n$$\n\\sum_{k=0}^{\\infty} \\rho^k = \\frac{1}{1-\\rho}\n$$\n两边对 $\\rho$ 求导：\n$$\n\\frac{d}{d\\rho} \\sum_{k=0}^{\\infty} \\rho^k = \\sum_{k=1}^{\\infty} k\\rho^{k-1} = \\frac{d}{d\\rho} \\left(\\frac{1}{1-\\rho}\\right) = \\frac{1}{(1-\\rho)^2}\n$$\n乘以 $\\rho$：\n$$\n\\sum_{k=1}^{\\infty} k\\rho^k = \\frac{\\rho}{(1-\\rho)^2}\n$$\n由于 $k=0$ 的项是 $0$，这与 $\\sum_{k=0}^{\\infty} k\\rho^k$ 相同。将此代回 $L_q$ 的表达式中：\n$$\nL_q = (1-\\rho)\\rho \\left( \\frac{\\rho}{(1-\\rho)^2} \\right) = \\frac{\\rho^2}{1-\\rho}\n$$\n使用给定值 $\\rho = 3/4$：\n$$\nL_q = \\frac{(3/4)^2}{1 - 3/4} = \\frac{9/16}{1/4} = \\frac{9}{16} \\times 4 = \\frac{9}{4}\n$$\n所以平均队长为 $2.25$。\n\n**3. 推导不合规病例的比例。**\n问题陈述，如果一个到达的病例看到等待队列的长度 $Q \\ge m$（其中 $m=3$），则发生不合规。一个到达的病例发现系统中已有 $n$ 个病例。它观察到的队列中的病例数是 $Q = \\max(0, n-1)$。该到达病例不合规的条件是 $\\max(0, n-1) \\ge 3$。由于 $m=3>0$，这简化为 $n-1 \\ge 3$，即 $n \\ge 4$。\n因此，如果一个病例到达时系统处于状态 $n \\in \\{4, 5, 6, \\dots\\}$ 中的任何一个，该病例就会变得不合规。\n\n具有齐次泊松到达的系统的一个基本性质是 PASTA 原则（泊松到达看到时间平均，Poisson Arrivals See Time Averages）。这个经过充分检验的事实表明，一个到达的顾客所看到的系统状态的概率分布与系统状态的长期稳态概率分布 $P_n$ 相同。\n\n因此，遇到不合规条件的到达病例的比例等于系统状态 $n$ 大于或等于 $4$ 的稳态概率。\n$$\nF_{nc} = P(\\text{到达病例看到 } n \\ge 4) = \\sum_{n=4}^{\\infty} P_n\n$$\n这代表了因排队压力导致安全协议失效的风险。我们使用我们对 $P_n$ 的表达式从基本原理推导这个比例：\n$$\nF_{nc} = \\sum_{n=4}^{\\infty} (1-\\rho)\\rho^n = (1-\\rho) \\sum_{n=4}^{\\infty} \\rho^n\n$$\n这是一个从 $\\rho^4$ 项开始的几何级数：\n$$\n\\sum_{n=4}^{\\infty} \\rho^n = \\rho^4 + \\rho^5 + \\rho^6 + \\dots = \\rho^4(1 + \\rho + \\rho^2 + \\dots) = \\rho^4 \\left(\\frac{1}{1-\\rho}\\right)\n$$\n将此代回 $F_{nc}$ 的表达式中：\n$$\nF_{nc} = (1-\\rho) \\left( \\rho^4 \\frac{1}{1-\\rho} \\right) = \\rho^4\n$$\n通常，到达者发现队列长度至少为 $m$ 的比例是 $\\rho^{m+1}$。这里，当 $m=3$ 时，该比例为 $\\rho^{3+1} = \\rho^4$。该推导过程表明，一个关键的安全风险指标（$F_{nc}$）如何直接且非线性地由运营利用率（$\\rho$）和人为因素压力阈值（$m$）决定。\n\n最后，我们用 $\\rho = 3/4$ 计算这个比例的数值：\n$$\nF_{nc} = \\left(\\frac{3}{4}\\right)^4 = \\frac{3^4}{4^4} = \\frac{81}{256}\n$$\n这就是核查表不合规病例的期望比例。", "answer": "$$\n\\boxed{\\frac{81}{256}}\n$$", "id": "5159886"}]}