{"hands_on_practices": [{"introduction": "任何诊断模型的评估都始于其最基本的性能总结：混淆矩阵。本练习将带您从一个实际的混淆矩阵出发，亲手计算灵敏度、特异性、$F_1$ 分数和诊断比值比等核心性能指标。通过这个过程，您将学会如何将真阳性、假阳性和其他基础计数转化为量化模型在给定数据集上表现的标准化度量。[@problem_id:5094057]", "problem": "一个在包含$12$种分析物的多重免疫分析信号上训练的人工智能（AI）分类器被部署用于为医院队列中的传染病状态提供二元诊断解释。该队列包含$N=1200$名个体，其中通过金标准分子检测确定$360$名为疾病阳性，$840$名为疾病阴性。该AI分类器在对其概率输出进行阈值处理以产生二元判断后，相对于金标准得到以下混淆矩阵：在$360$名疾病阳性个体中，$300$名被预测为阳性，$60$名被预测为阴性；在$840$名疾病阴性个体中，$200$名被预测为阳性，$640$名被预测为阴性。\n\n仅使用诊断测试评估和概率论中的基本定义，计算该组合检测的AI解释相对于疾病阳性类别的以下性能指标：灵敏度、特异度、$F_1$分数和诊断比值比。此外，基于第一性原理，用文字解释一个现实场景，在该场景中，即使诊断比值比在数值上看起来很大，它也可能在分子诊断和免疫诊断的临床决策中产生误导。\n\n按以下顺序报告您的最终数值答案：灵敏度、特异度、$F_1$分数、诊断比值比。将所有四个值表示为无单位小数，并将您的答案四舍五入到四位有效数字。", "solution": "该场景是一个针对金标准参考进行评估的二元分类问题，这使我们能够应用诊断测试评估中的核心定义。我们用$TP$表示真阳性，用$FN$表示假阴性，用$FP$表示假阳性，用$TN$表示真阴性。根据问题描述，我们有$TP=300$，$FN=60$，$FP=200$和$TN=640$。这些计数一致地划分了$N=1200$名个体的队列：$TP+FN=360$，$FP+TN=840$，以及$TP+FN+FP+TN=1200$。\n\n我们从基本定义开始：\n\n- 灵敏度（也称为真阳性率）是在个体确实为阳性的条件下，测试结果为阳性的概率。用混淆矩阵表示，其定义为\n$$\n\\text{sensitivity} \\equiv \\frac{TP}{TP+FN}.\n$$\n\n- 特异度（也称为真阴性率）是在个体确实为阴性的条件下，测试结果为阴性的概率。用混淆矩阵表示，其定义为\n$$\n\\text{specificity} \\equiv \\frac{TN}{TN+FP}.\n$$\n\n- 精确率（在队列研究中也称为阳性预测值）是在测试结果为阳性的条件下，个体确实为阳性的概率。用混淆矩阵表示，其定义为\n$$\n\\text{precision} \\equiv \\frac{TP}{TP+FP}.\n$$\n\n- 召回率与灵敏度是同一个量，\n$$\n\\text{recall} \\equiv \\frac{TP}{TP+FN}.\n$$\n\n- $F_1$分数是精确率和召回率的调和平均数，源于两个正数$a$和$b$的调和平均数$H$的一般定义$H=2ab/(a+b)$。将此应用于精确率和召回率，可得\n$$\nF_1 \\equiv \\frac{2 \\times \\text{precision} \\times \\text{recall}}{\\text{precision} + \\text{recall}}.\n$$\n\n- 诊断比值比（DOR）定义为患病人群中阳性结果的比值与非患病人群中阳性结果的比值的比率。患病者中测试阳性的比值为$TP/FN$，非患病者中测试阳性的比值为$FP/TN$。因此，\n$$\n\\text{DOR} \\equiv \\frac{TP/FN}{FP/TN}.\n$$\n这源于基本的概率到比值的映射：对于一个概率为$p$的事件，其比值为$p/(1-p)$；将此应用于混淆矩阵中的条件概率，即可得到以计数表示的上述比率。\n\n现在我们对每个指标进行符号计算，然后进行数值计算：\n\n1. 灵敏度：\n$$\n\\text{sensitivity} = \\frac{TP}{TP+FN} = \\frac{300}{300+60} = \\frac{300}{360} = \\frac{5}{6}.\n$$\n作为小数，$\\frac{5}{6} = 0.\\overline{83}$，四舍五入到四位有效数字得到$0.8333$。\n\n2. 特异度：\n$$\n\\text{specificity} = \\frac{TN}{TN+FP} = \\frac{640}{640+200} = \\frac{640}{840} = \\frac{16}{21}.\n$$\n作为小数，$\\frac{16}{21} \\approx 0.76190476$，四舍五入到四位有效数字得到$0.7619$。\n\n3. $F_1$分数：\n首先计算精确率和召回率：\n$$\n\\text{precision} = \\frac{TP}{TP+FP} = \\frac{300}{300+200} = \\frac{300}{500} = \\frac{3}{5},\n$$\n$$\n\\text{recall} = \\frac{TP}{TP+FN} = \\frac{300}{360} = \\frac{5}{6}.\n$$\n然后\n$$\nF_1 = \\frac{2 \\times \\frac{3}{5} \\times \\frac{5}{6}}{\\frac{3}{5} + \\frac{5}{6}}.\n$$\n简化分子：\n$$\n2 \\times \\frac{3}{5} \\times \\frac{5}{6} = 2 \\times \\frac{15}{30} = 2 \\times \\frac{1}{2} = 1.\n$$\n简化分母：\n$$\n\\frac{3}{5} + \\frac{5}{6} = \\frac{18}{30} + \\frac{25}{30} = \\frac{43}{30}.\n$$\n因此\n$$\nF_1 = \\frac{1}{\\frac{43}{30}} = \\frac{30}{43}.\n$$\n作为小数，$\\frac{30}{43} \\approx 0.69767442$，四舍五入到四位有效数字得到$0.6977$。\n\n4. 诊断比值比：\n$$\n\\text{DOR} = \\frac{TP/FN}{FP/TN} = \\frac{\\frac{300}{60}}{\\frac{200}{640}} = \\frac{5}{\\frac{5}{16}} = 16.\n$$\n四舍五入到四位有效数字，当用四位有效数字表示时，结果仍为$16.00$。\n\n现在我们从第一性原理出发，解释在基于AI的分子和免疫分析组合解释的背景下，诊断比值比何时可能产生误导，即使其数值很大。\n\n诊断比值比根据其构造，将来自灵敏度和特异度的信息聚合成一个单一的基于比值的比率。它不受疾病患病率的影响，因为它分别以疾病状态和对照状态为条件。这种患病率不变性虽然在数学上很简洁，但在几种现实场景中可能在临床上产生误导：\n\n- 在低患病率部署中，大的$\\text{DOR}$并不能保证可接受的阳性预测值。根据Bayes定理，验后概率取决于似然比（与灵敏度和特异度相关）和验前概率（患病率）。即使$\\text{DOR}$很高，如果患病率非常低，假阳性的数量也可能在阳性判断中占主导地位，导致许多不必要的后续检查。因此，当验前概率很小时，一个数值上很大的$\\text{DOR}$可能会掩盖其较差的临床效用。\n\n- 最大化$\\text{DOR}$的阈值优化在对数比值尺度上隐含地对灵敏度和特异度进行加权，但并未编码临床错分成本。在阈值可调的AI系统中，最大化$\\text{DOR}$可能会选择具有不可接受权衡的工作点（例如，非常高的灵敏度但较低的特异度），这可能不适用于筛查或确认性检测的场景，具体取决于下游措施。\n\n- 谱系偏倚和病例-对照抽样会通过使患病病例异常“简单”（例如，重症、典型病例）和对照组异常“干净”（例如，健康志愿者）来放大$\\text{DOR}$。在这类有偏倚的谱系上训练或评估的AI系统可能会产生虚高的$\\text{DOR}$，而该$\\text{DOR}$无法泛化到具有轻症、合并症以及免疫诊断中常见干扰物质的常规临床人群。\n\n- 稀疏单元格导致的不稳定性：当$FN$或$FP$接近零时（在小验证子集或极端阈值下很常见），$\\text{DOR}$可能变得极大或无定义，需要进行任意的连续性校正。这种数值不稳定性会通过夸大性能来误导解释。\n\n这些问题直接源于其基本定义：$\\text{DOR}$是由不包含先验概率或错分效用的条件比值比构建的。在AI驱动的诊断解释中，校准、患病率漂移和临床效用是核心问题，若不考虑验前概率、决策成本和样本代表性，而仅仅依赖$\\text{DOR}$，即使计算出的$\\text{DOR}$很大，也可能产生误导。", "answer": "$$\\boxed{\\begin{pmatrix}0.8333  0.7619  0.6977  16.00\\end{pmatrix}}$$", "id": "5094057"}, {"introduction": "分类器的灵敏度和特异性是其内在属性，但在现实世界中的效用在很大程度上取决于目标人群中的疾病患病率。本练习应用贝叶斯定理，来计算阳性预测值（PPV）和阴性预测值（NPV），揭示一个测试的预测能力如何随环境变化而发生巨大改变。这对于理解为何一个在实验室看似表现优异的模型，在应用于低患病率人群时可能效果不佳至关重要。[@problem_id:5094091]", "problem": "一个转化型人工智能（AI）和机器学习（ML）流水线被部署用于解释针对分子诊断靶点的高通量免疫分析，生成一个校准到固定决策阈值的二元分类。在所选阈值下，交叉验证的性能估计得出的灵敏度为 $0.92$，特异性为 $0.97$。在目标临床人群中，疾病患病率为 $0.04$。目标是量化分类器的性能如何转化为临床预测值和贝叶斯更新。\n\n从诊断测试和贝叶斯决策理论中使用的基本定义出发，按以下步骤进行。使用以下定义：灵敏度 $=$ $\\Pr(\\text{检测阳性} \\mid \\text{患病})$，特异性 $=$ $\\Pr(\\text{检测阴性} \\mid \\text{未患病})$，以及患病率 $=$ $\\Pr(\\text{患病})$。使用贝叶斯定理和阳性似然比（LR$^{+}$）的定义 $\\text{LR}^{+}=\\frac{\\text{灵敏度}}{1-\\text{特异性}}$。推导并计算：\n\n1. 阳性预测值（PPV），定义为 $\\Pr(\\text{患病} \\mid \\text{检测阳性})$。\n2. 阴性预测值（NPV），定义为 $\\Pr(\\text{未患病} \\mid \\text{检测阴性})$。\n3. 检测结果为阳性后的疾病后验几率。\n\n将 $PPV$ 和 $NPV$ 表示为小数，后验几率表示为无量纲小数。将每个量四舍五入到四位有效数字。不要使用百分号。", "solution": "问题陈述已经过严格验证，被认为是有效的。它在科学上基于贝叶斯统计学和流行病学的原理，问题提出得当，提供了所有必要信息，并且表述客观。我们可以进行正式求解。\n\n设 $D$ 为目标人群中个体患有该疾病的事件， $D^c$ 为该个体未患病的互补事件。设 $T^+$ 为检测结果为阳性的事件， $T^-$ 为检测结果为阴性的事件。所提供的信息可以正式表示如下：\n\n- 患病率, $\\Pr(D) = 0.04$。因此，未患病的概率为 $\\Pr(D^c) = 1 - \\Pr(D) = 1 - 0.04 = 0.96$。\n- 灵敏度, $\\text{Sens} = \\Pr(T^+ \\mid D) = 0.92$。\n- 特异性, $\\text{Spec} = \\Pr(T^- \\mid D^c) = 0.97$。\n\n从这些定义中，我们可以推导出其他条件概率：\n- 假阴性率, $\\Pr(T^- \\mid D) = 1 - \\text{Sens} = 1 - 0.92 = 0.08$。\n- 假阳性率, $\\Pr(T^+ \\mid D^c) = 1 - \\text{Spec} = 1 - 0.97 = 0.03$。\n\n问题要求计算三个量：阳性预测值（PPV）、阴性预测值（NPV）和检测结果为阳性后的疾病后验几率。\n\n**1. 阳性预测值 (PPV)**\n\nPPV 定义为在检测结果为阳性的条件下患有该疾病的概率，即 $\\text{PPV} = \\Pr(D \\mid T^+)$。我们应用贝叶斯定理：\n$$\n\\text{PPV} = \\Pr(D \\mid T^+) = \\frac{\\Pr(T^+ \\mid D) \\Pr(D)}{\\Pr(T^+)}\n$$\n分母 $\\Pr(T^+)$ 是检测结果为阳性的总概率，可以使用全概率公式求得：\n$$\n\\Pr(T^+) = \\Pr(T^+ \\mid D) \\Pr(D) + \\Pr(T^+ \\mid D^c) \\Pr(D^c)\n$$\n代入已知值：\n$$\n\\Pr(T^+) = (0.92)(0.04) + (0.03)(0.96) = 0.0368 + 0.0288 = 0.0656\n$$\n现在我们可以计算 PPV：\n$$\n\\text{PPV} = \\frac{0.0368}{0.0656} \\approx 0.5609756...\n$$\n四舍五入到四位有效数字，我们得到 $\\text{PPV} \\approx 0.5610$。\n\n**2. 阴性预测值 (NPV)**\n\nNPV 定义为在检测结果为阴性的条件下未患病的概率，即 $\\text{NPV} = \\Pr(D^c \\mid T^-)$。应用贝叶斯定理：\n$$\n\\text{NPV} = \\Pr(D^c \\mid T^-) = \\frac{\\Pr(T^- \\mid D^c) \\Pr(D^c)}{\\Pr(T^-)}\n$$\n分母 $\\Pr(T^-)$ 是检测结果为阴性的总概率。使用全概率公式：\n$$\n\\Pr(T^-) = \\Pr(T^- \\mid D^c) \\Pr(D^c) + \\Pr(T^- \\mid D) \\Pr(D)\n$$\n注意 $\\Pr(T^-) = 1 - \\Pr(T^+) = 1 - 0.0656 = 0.9344$。我们也可以直接计算它：\n$$\n\\Pr(T^-) = (0.97)(0.96) + (0.08)(0.04) = 0.9312 + 0.0032 = 0.9344\n$$\n现在我们可以计算 NPV：\n$$\n\\text{NPV} = \\frac{(0.97)(0.96)}{0.9344} = \\frac{0.9312}{0.9344} \\approx 0.9965753...\n$$\n四舍五入到四位有效数字，我们得到 $\\text{NPV} \\approx 0.9966$。\n\n**3. 疾病的后验几率**\n\n事件 $A$ 的几率由 $\\text{Odds}(A) = \\frac{\\Pr(A)}{1 - \\Pr(A)}$ 给出。疾病的后验几率是在观察到阳性检测结果后的几率，即 $\\text{Odds}(D \\mid T^+) = \\frac{\\Pr(D \\mid T^+)}{\\Pr(D^c \\mid T^+)}$。\n\n在贝叶斯术语中，后验几率通过将先验几率乘以似然比来计算。\n$$\n\\text{后验几率} = \\text{先验几率} \\times \\text{似然比}\n$$\n疾病的先验几率为：\n$$\n\\text{Odds}(D) = \\frac{\\Pr(D)}{\\Pr(D^c)} = \\frac{0.04}{0.96}\n$$\n对于阳性检测，相关的似然比是阳性似然比 $\\text{LR}^+$，定义为：\n$$\n\\text{LR}^+ = \\frac{\\text{sensitivity}}{1 - \\text{specificity}} = \\frac{\\Pr(T^+ \\mid D)}{\\Pr(T^+ \\mid D^c)}\n$$\n代入给定值：\n$$\n\\text{LR}^+ = \\frac{0.92}{1 - 0.97} = \\frac{0.92}{0.03}\n$$\n现在，我们计算后验几率：\n$$\n\\text{Odds}(D \\mid T^+) = \\left(\\frac{0.04}{0.96}\\right) \\times \\left(\\frac{0.92}{0.03}\\right) = \\frac{0.04 \\times 0.92}{0.96 \\times 0.03} = \\frac{0.0368}{0.0288} \\approx 1.2777...\n$$\n四舍五入到四位有效数字，后验几率约为 $1.278$。\n\n这个结果可以用先前计算的 PPV 进行验证：\n$$\n\\text{Odds}(D \\mid T^+) = \\frac{\\text{PPV}}{1 - \\text{PPV}} = \\frac{0.5609756...}{1 - 0.5609756...} = \\frac{0.5609756...}{0.4390243...} \\approx 1.2777...\n$$\n结果是一致的。", "answer": "$$\n\\boxed{\\begin{pmatrix} 0.5610  0.9966  1.278 \\end{pmatrix}}\n$$", "id": "5094091"}, {"introduction": "大多数AI模型输出的是连续的风险评分，而选择合适的阈值以做出二元决策是关键一步。最后的这个练习将超越简单的评估指标，引入一种更严谨、更具原则性的方法。我们将推导并应用贝叶斯最优决策阈值，它通过明确考虑假阳性和假阴性的代价来最小化预期的临床风险。[@problem_id:5094074]", "problem": "一家临床实验室部署了一套人工智能（AI）和机器学习（ML）系统，用于将连续的免疫分析信号解读为一种传染病的诊断风险评分 $s \\in \\mathbb{R}$。其决策规则是一个单阈值分类器：如果 $s  \\tau$，则预测为患病，否则预测为未患病。根据先前的校准，类条件分数分布被建模为等方差的高斯分布：$s \\mid \\text{患病} \\sim \\mathcal{N}(\\mu_{1}, \\sigma^{2})$ 和 $s \\mid \\text{未患病} \\sim \\mathcal{N}(\\mu_{0}, \\sigma^{2})$。患病率为 $\\pi_{1}$，未患病率为 $\\pi_{0} = 1 - \\pi_{1}$。此决策规则下的预期风险由二元分类的基本贝叶斯决策理论成本公式定义：$R(\\tau) = c_{FP} \\, \\pi_{0} \\, \\mathbb{P}(s  \\tau \\mid \\text{未患病}) + c_{FN} \\, \\pi_{1} \\, \\mathbb{P}(s \\leq \\tau \\mid \\text{患病})$，其中 $c_{FP}$ 和 $c_{FN}$ 分别是假阳性和假阴性的指定成本。\n\n从这个风险定义和高斯密度出发，通过在决策边界处均衡假阳性和假阴性的边际预期成本，推导出使 $R(\\tau)$ 最小化的阈值 $\\tau$ 的解析表达式，然后使用以下科学上合理的参数对 $\\tau$ 进行数值评估：$\\mu_{0} = 0.5$, $\\mu_{1} = 1.5$, $\\sigma = 0.4$, $\\pi_{1} = 0.2$, $\\pi_{0} = 0.8$, $c_{FP} = 1$ 以及 $c_{FN} = 5$。将最终阈值表示为无量纲分数，并将您的答案四舍五入到四位有效数字。", "solution": "问题陈述经评估有效。它在科学上植根于贝叶斯决策理论和统计信号处理，是一个标准的、适定的优化问题。所提供的参数是自洽的，在诊断背景下是物理上合理的，并且是完备的。该问题是客观的、无歧义的，并且需要一个严谨、不平凡的推导。\n\n目标是找到使预期风险 $R(\\tau)$ 最小化的决策阈值 $\\tau$。风险函数由下式给出：\n$$R(\\tau) = c_{FP} \\, \\pi_{0} \\, \\mathbb{P}(s  \\tau \\mid \\text{未患病}) + c_{FN} \\, \\pi_{1} \\, \\mathbb{P}(s \\leq \\tau \\mid \\text{患病})$$\n其中 $\\mathbb{P}(s  \\tau \\mid \\text{未患病})$ 是假阳性概率，而 $\\mathbb{P}(s \\leq \\tau \\mid \\text{患病})$ 是假阴性概率。令 $p(s \\mid \\text{未患病})$ 和 $p(s \\mid \\text{患病})$ 分别为在未患病或患病条件下分数 $s$ 的概率密度函数（PDF）。这些概率可以写成积分形式：\n$$\\mathbb{P}(s  \\tau \\mid \\text{未患病}) = \\int_{\\tau}^{\\infty} p(s \\mid \\text{未患病}) \\, ds$$\n$$\\mathbb{P}(s \\leq \\tau \\mid \\text{患病}) = \\int_{-\\infty}^{\\tau} p(s \\mid \\text{患病}) \\, ds$$\n为了找到 $R(\\tau)$ 的最小值，我们对 $R(\\tau)$ 关于 $\\tau$ 求导，并令结果为零。使用莱布尼茨积分法则，具体来说是 $\\frac{d}{dx}\\int_{x}^{a} f(t)dt = -f(x)$ 和 $\\frac{d}{dx}\\int_{a}^{x} f(t)dt = f(x)$，我们得到：\n$$\\frac{dR(\\tau)}{d\\tau} = c_{FP} \\, \\pi_{0} \\, \\frac{d}{d\\tau} \\left( \\int_{\\tau}^{\\infty} p(s \\mid \\text{未患病}) \\, ds \\right) + c_{FN} \\, \\pi_{1} \\, \\frac{d}{d\\tau} \\left( \\int_{-\\infty}^{\\tau} p(s \\mid \\text{患病}) \\, ds \\right)$$\n$$\\frac{dR(\\tau)}{d\\tau} = c_{FP} \\, \\pi_{0} \\, (-p(\\tau \\mid \\text{未患病})) + c_{FN} \\, \\pi_{1} \\, (p(\\tau \\mid \\text{患病}))$$\n将导数设为零，得到最优性条件，该条件使得决策边界 $\\tau$ 处的边际成本相等：\n$$c_{FN} \\, \\pi_{1} \\, p(\\tau \\mid \\text{患病}) = c_{FP} \\, \\pi_{0} \\, p(\\tau \\mid \\text{未患病})$$\n问题陈述指出，类条件分布是高斯分布，其均值分别为 $\\mu_1$（患病）和 $\\mu_0$（未患病），并具有共同的方差 $\\sigma^2$。概率密度函数为：\n$$p(s \\mid \\text{患病}) = \\frac{1}{\\sqrt{2\\pi}\\sigma} \\exp\\left(-\\frac{(s - \\mu_1)^2}{2\\sigma^2}\\right)$$\n$$p(s \\mid \\text{未患病}) = \\frac{1}{\\sqrt{2\\pi}\\sigma} \\exp\\left(-\\frac{(s - \\mu_0)^2}{2\\sigma^2}\\right)$$\n将 $s = \\tau$ 时的这些表达式代入最优性条件：\n$$c_{FN} \\, \\pi_{1} \\, \\frac{1}{\\sqrt{2\\pi}\\sigma} \\exp\\left(-\\frac{(\\tau - \\mu_1)^2}{2\\sigma^2}\\right) = c_{FP} \\, \\pi_{0} \\, \\frac{1}{\\sqrt{2\\pi}\\sigma} \\exp\\left(-\\frac{(\\tau - \\mu_0)^2}{2\\sigma^2}\\right)$$\n归一化常数 $\\frac{1}{\\sqrt{2\\pi}\\sigma}$ 从两侧消去：\n$$c_{FN} \\, \\pi_{1} \\, \\exp\\left(-\\frac{(\\tau - \\mu_1)^2}{2\\sigma^2}\\right) = c_{FP} \\, \\pi_{0} \\, \\exp\\left(-\\frac{(\\tau - \\mu_0)^2}{2\\sigma^2}\\right)$$\n为了求解 $\\tau$，我们对两边取自然对数：\n$$\\ln(c_{FN} \\pi_{1}) - \\frac{(\\tau - \\mu_1)^2}{2\\sigma^2} = \\ln(c_{FP} \\pi_{0}) - \\frac{(\\tau - \\mu_0)^2}{2\\sigma^2}$$\n重新整理各项以分离出包含 $\\tau$ 的表达式：\n$$\\frac{(\\tau - \\mu_0)^2}{2\\sigma^2} - \\frac{(\\tau - \\mu_1)^2}{2\\sigma^2} = \\ln(c_{FP} \\pi_{0}) - \\ln(c_{FN} \\pi_{1})$$\n两边乘以 $2\\sigma^2$ 并合并对数项：\n$$(\\tau - \\mu_0)^2 - (\\tau - \\mu_1)^2 = 2\\sigma^2 \\ln\\left(\\frac{c_{FP} \\pi_{0}}{c_{FN} \\pi_{1}}\\right)$$\n展开左侧的平方项：\n$$(\\tau^2 - 2\\tau\\mu_0 + \\mu_0^2) - (\\tau^2 - 2\\tau\\mu_1 + \\mu_1^2) = 2\\sigma^2 \\ln\\left(\\frac{c_{FP} \\pi_{0}}{c_{FN} \\pi_{1}}\\right)$$\n$\\tau^2$ 项相互抵消。将剩余项分组得到：\n$$2\\tau(\\mu_1 - \\mu_0) + (\\mu_0^2 - \\mu_1^2) = 2\\sigma^2 \\ln\\left(\\frac{c_{FP} \\pi_{0}}{c_{FN} \\pi_{1}}\\right)$$\n使用平方差公式 $\\mu_0^2 - \\mu_1^2 = (\\mu_0 - \\mu_1)(\\mu_0 + \\mu_1)$:\n$$2\\tau(\\mu_1 - \\mu_0) - (\\mu_1 - \\mu_0)(\\mu_0 + \\mu_1) = 2\\sigma^2 \\ln\\left(\\frac{c_{FP} \\pi_{0}}{c_{FN} \\pi_{1}}\\right)$$\n两边除以 $2(\\mu_1 - \\mu_0)$，假设 $\\mu_1 \\neq \\mu_0$：\n$$\\tau - \\frac{\\mu_0 + \\mu_1}{2} = \\frac{\\sigma^2}{\\mu_1 - \\mu_0} \\ln\\left(\\frac{c_{FP} \\pi_{0}}{c_{FN} \\pi_{1}}\\right)$$\n最后，求解 $\\tau$ 得到最优阈值的通用解析表达式：\n$$\\tau = \\frac{\\mu_0 + \\mu_1}{2} + \\frac{\\sigma^2}{\\mu_1 - \\mu_0} \\ln\\left(\\frac{c_{FP} \\pi_{0}}{c_{FN} \\pi_{1}}\\right)$$\n现在我们使用给定的参数对此表达式进行数值计算：$\\mu_{0} = 0.5$, $\\mu_{1} = 1.5$, $\\sigma = 0.4$, $\\pi_{1} = 0.2$, $\\pi_{0} = 0.8$, $c_{FP} = 1$ 以及 $c_{FN} = 5$。\n\n首先，我们计算表达式的各个组成部分：\n均值的中点：$\\frac{\\mu_0 + \\mu_1}{2} = \\frac{0.5 + 1.5}{2} = \\frac{2.0}{2} = 1$。\n均值的差：$\\mu_1 - \\mu_0 = 1.5 - 0.5 = 1$。\n方差：$\\sigma^2 = (0.4)^2 = 0.16$。\n对数的参数：$\\frac{c_{FP} \\pi_{0}}{c_{FN} \\pi_{1}} = \\frac{1 \\times 0.8}{5 \\times 0.2} = \\frac{0.8}{1.0} = 0.8$。\n\n将这些值代入 $\\tau$ 的表达式中：\n$$\\tau = 1 + \\frac{0.16}{1} \\ln(0.8)$$\n$$\\tau = 1 + 0.16 \\times (-0.22314355...)$$\n$$\\tau = 1 - 0.035702968...$$\n$$\\tau = 0.96429703...$$\n将结果四舍五入到四位有效数字，得到 $\\tau \\approx 0.9643$。", "answer": "$$\\boxed{0.9643}$$", "id": "5094074"}]}