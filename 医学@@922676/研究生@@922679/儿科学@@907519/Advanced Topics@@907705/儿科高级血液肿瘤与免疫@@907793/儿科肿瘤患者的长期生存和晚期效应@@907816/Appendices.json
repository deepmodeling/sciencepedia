{"hands_on_practices": [{"introduction": "在儿科肿瘤学中，了解幸存者群体面临的长期风险是至关重要的第一步。本练习将通过一个假设的队列研究，介绍如何量化儿童癌症幸存者的超额死亡率。通过计算标准化死亡比（Standardized Mortality Ratio, $SMR$）等关键流行病学指标，您将学会如何将幸存者群体的死亡率与普通人群进行比较，从而为评估治疗晚期效应的总体负担提供一个定量的基础。[@problem_id:5209003]", "problem": "对一个在过去四十年中接受了风险适应性多模式治疗的儿童癌症幸存者队列进行随访，以量化由治疗相关远期效应导致的远期死亡率。假设该队列累积了 $100{,}000$ 观察人年。在此期间，通过使用来自一般人群的按年龄、性别和日历年特异性的死亡率进行外部比较，得出预期死亡人数为 $12$ 人，而在幸存者队列中观察到的死亡人数为 $50$ 人。\n\n从核心流行病学定义出发，即预期死亡人数是通过对基线人群死亡风险与队列人时进行积分或求和得到的，而乘性超额和加性超额分别通过观察事件数与预期事件数的比率和差异来量化，请推导并计算以下量：\n\n- 标准化死亡比 (SMR)，定义为观察死亡人数与预期死亡人数之比。\n- 超额相对风险 (ERR)，定义为 SMR 所隐含的相对于基线的乘性超额。\n- 每 $100{,}000$ 人年的超额绝对风险 (EAR)，定义为观察死亡人数与预期死亡人数之差，按总人时进行归一化，并以每 $100{,}000$ 人年表示。\n\n将您的最终答案以有序三元组 $\\left(\\mathrm{SMR}, \\mathrm{ERR}, \\mathrm{EAR}\\right)$ 的形式报告，四舍五入到四位有效数字。按照指示，以每 $100{,}000$ 人年表示 EAR。最终报告的三元组中不包含任何单位。", "solution": "在尝试求解之前，对问题进行验证。\n\n### 步骤 1：提取已知条件\n- 总观察人年：$100{,}000$ 人年。\n- 预期死亡人数 ($E$)：$12$。\n- 观察死亡人数 ($O$)：$50$。\n- 标准化死亡比 (SMR) 的定义：观察死亡人数与预期死亡人数之比。\n- 超额相对风险 (ERR) 的定义：SMR 所隐含的相对于基线的乘性超额。\n- 超额绝对风险 (EAR) 的定义：观察死亡人数与预期死亡人数之差，按总人时进行归一化，并以每 $100{,}000$ 人年表示。\n\n### 步骤 2：使用提取的已知条件进行验证\n根据验证标准评估问题陈述。\n\n- **科学依据**：该问题基于流行病学和公共卫生的基本和标准概念，特别是用于队列研究中量化风险的概念。SMR、ERR 和 EAR 是已被广泛认可的度量指标。儿童癌症幸存者远期死亡率的背景是一个真实且重要的医学研究领域。在此背景下，所提供的数据是合理的。\n- **适定性**：问题定义清晰。它提供了计算所需的所有必要数据（$O$、$E$ 和人年）以及待计算量（SMR、ERR、EAR）的明确定义。可以从所提供的信息中确定一个唯一且稳定的解。\n- **客观性**：问题以精确、定量和无偏见的语言陈述。它不含主观论断或意见。\n- **设置不完整或矛盾**：问题设置是完整且自洽的。没有缺失计算所需的信息，也没有相互矛盾的约束。\n- **不切实际或不可行**：对于癌症幸存者队列的长期随访研究而言，所提供的数据在数值上和情境上都是现实的。观察死亡人数为 $50$ 人，而预期为 $12$ 人，得出的 SMR 约为 $4.17$，对于这样一个高风险人群来说，这个值虽然高，但并非不合理。\n- **病态或结构不良**：该问题结构良好，具有明确的定义和清晰的目标。不存在循环论证。\n\n### 步骤 3：结论与行动\n该问题被认为是**有效的**。它在科学上是合理的，具有适定性，并包含了获得唯一解所需的所有必要信息。可以继续求解过程。\n\n### 求解推导\n设 $O$ 为观察死亡人数，$E$ 为预期死亡人数，$PY$ 为总观察人年。根据问题陈述，我们有：\n- $O = 50$\n- $E = 12$\n- $PY = 100{,}000$ 人年\n\n问题要求计算三个量：标准化死亡比 (SMR)、超额相对风险 (ERR) 和超额绝对风险 (EAR)。\n\n**1. 标准化死亡比 (SMR)**\nSMR 定义为观察死亡人数与预期死亡人数之比。\n$$ \\text{SMR} = \\frac{O}{E} $$\n代入给定值：\n$$ \\text{SMR} = \\frac{50}{12} = \\frac{25}{6} \\approx 4.1666... $$\n四舍五入到四位有效数字，我们得到：\n$$ \\text{SMR} \\approx 4.167 $$\n\n**2. 超额相对风险 (ERR)**\nERR 定义为相对于基线风险的乘性超额。基线风险对应于 SMR 为 $1$。因此，ERR 是 SMR 中大于 $1$ 的部分。\n$$ \\text{ERR} = \\text{SMR} - 1 $$\n使用 SMR 的精确分数形式以在最终四舍五入前保持精度：\n$$ \\text{ERR} = \\frac{50}{12} - 1 = \\frac{50}{12} - \\frac{12}{12} = \\frac{50 - 12}{12} = \\frac{38}{12} = \\frac{19}{6} \\approx 3.1666... $$\n四舍五入到四位有效数字，我们得到：\n$$ \\text{ERR} \\approx 3.167 $$\n\n**3. 超额绝对风险 (EAR)**\nEAR 定义为观察死亡人数与预期死亡人数之差（即超额死亡人数），按总人时进行归一化。然后将此结果进行缩放，以每 $100{,}000$ 人年表示。\n首先，我们计算超额死亡人数：\n$$ \\text{Excess Deaths} = O - E = 50 - 12 = 38 $$\n接下来，我们计算每人年的超额死亡率：\n$$ \\text{Excess Death Rate} = \\frac{O - E}{PY} = \\frac{38}{100{,}000} \\text{ per person-year} $$\n问题要求以每 $100{,}000$ 人年表示 EAR。为实现这一点，我们将每人年的比率乘以 $100{,}000$。\n$$ \\text{EAR}_{\\text{per } 100,000 \\text{ PY}} = \\left( \\frac{O - E}{PY} \\right) \\times 100{,}000 $$\n代入给定值：\n$$ \\text{EAR} = \\left( \\frac{50 - 12}{100{,}000} \\right) \\times 100{,}000 = \\frac{38}{100{,}000} \\times 100{,}000 = 38 $$\n该值为精确整数 $38$。为了按要求以四位有效数字表示该值，我们将其写为 $38.00$。\n\n最终，将数值四舍五入到四位有效数字的有序三元组 $(\\mathrm{SMR}, \\mathrm{ERR}, \\mathrm{EAR})$ 是 $(4.167, 3.167, 38.00)$。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n4.167  3.167  38.00\n\\end{pmatrix}\n}\n$$", "id": "5209003"}, {"introduction": "在确定了幸存者群体存在超额风险之后，下一步是探究造成这种风险的具体因素。本练习将介绍在生存分析中广泛应用的Cox比例风险模型，该模型能够量化特定治疗暴露（如化疗药物剂量和放疗剂量）对晚期效应（如心肌病）发生风险的影响。通过这个计算，您将实践如何根据个体的治疗史来评估其个人风险水平，这是实现个体化风险分层和监测的基础。[@problem_id:5208989]", "problem": "在一个儿童期癌症幸存者队列中，心肌病事件使用Cox比例风险(CPH)模型框架进行建模，其中个体在时间$t$的瞬时风险函数$h(t)$与基线风险$h_{0}(t)$以及暴露的对数线性函数呈乘法关系。在此设定中，累积蒽环类药物剂量$d_{\\text{anth}}$ (单位为 $\\mathrm{mg}/\\mathrm{m}^{2}$) 和平均心脏放疗剂量$\\mathrm{RT}_{\\text{heart}}$ (单位为戈瑞, Gy) 作为协变量。CPH模型假设风险由$h(t)=h_{0}(t)\\exp(\\beta_{1}d_{\\text{anth}}+\\beta_{2}\\mathrm{RT}_{\\text{heart}})$给出，这是一种经过充分检验的晚期效应表示方法，其中治疗暴露通过其在指数中的系数乘法地调整风险。假设在感兴趣的时间窗口内，基线风险是恒定的，$h_{0}(t)=0.001$ 事件/人年，且暴露反应系数为$\\beta_{1}=0.006$ /($\\mathrm{mg}/\\mathrm{m}^{2}$) 和 $\\beta_{2}=0.03$ /Gy。使用这些基本原理，并假设其他协变量独立，计算一个个体在$d_{\\text{anth}}=300$和$\\mathrm{RT}_{\\text{heart}}=10$时的风险$h(t)$。请以事件/人年为单位表示您的最终答案，并将结果四舍五入到四位有效数字。", "solution": "该问题是有效的。它使用一个标准的生物统计模型——Cox比例风险(CPH)模型，提出了一个清晰、独立且有科学依据的情景。该模型广泛应用于医学研究，包括肿瘤学中晚期效应的研究。所有必要的参数和数据都已提供，其目标是基于给定公式进行一个直接的计算。\n\n瞬时风险函数$h(t)$由CPH模型给出：\n$$h(t) = h_{0}(t)\\exp(\\beta_{1}d_{\\text{anth}} + \\beta_{2}\\mathrm{RT}_{\\text{heart}})$$\n其中，$h(t)$是时间$t$的风险率，$h_{0}(t)$是基线风险函数，$d_{\\text{anth}}$是累积蒽环类药物剂量，$\\mathrm{RT}_{\\text{heart}}$是平均心脏放疗剂量，而$\\beta_{1}$和$\\beta_{2}$是各自的暴露反应系数。\n\n问题提供了以下数值：\n基线风险是恒定的：$h_{0}(t) = 0.001$ 事件/人年。\n蒽环类药物剂量的系数：$\\beta_{1} = 0.006$ /($\\mathrm{mg}/\\mathrm{m}^{2}$)。\n放疗剂量的系数：$\\beta_{2} = 0.03$ /戈瑞(Gy)。\n个体的蒽环类药物暴露量：$d_{\\text{anth}} = 300$ $\\mathrm{mg}/\\mathrm{m}^{2}$。\n个体的放疗暴露量：$\\mathrm{RT}_{\\text{heart}} = 10$ Gy。\n\n首先，我们计算指数中协变量的线性组合，这通常被称为风险评分或预后指数。我们用$\\eta$表示它。\n$$\\eta = \\beta_{1}d_{\\text{anth}} + \\beta_{2}\\mathrm{RT}_{\\text{heart}}$$\n代入给定值：\n$$\\eta = (0.006) \\times (300) + (0.03) \\times (10)$$\n分别计算每一项：\n来自蒽环类药物的贡献是 $(0.006) \\times (300) = 1.8$。\n来自放疗的贡献是 $(0.03) \\times (10) = 0.3$。\n指数的总值是这些贡献的总和：\n$$\\eta = 1.8 + 0.3 = 2.1$$\n指数是一个无量纲量，因为系数的单位（例如，/($\\mathrm{mg}/\\mathrm{m}^{2}$)）与协变量的单位（例如，$\\mathrm{mg}/\\mathrm{m}^{2}$）相消。\n\n现在，我们将这个值代回风险函数方程。由于基线风险$h_{0}(t)$给定为常数值$0.001$，风险$h(t)$也将相对于时间$t$是恒定的。为简单起见，我们可以将其表示为$h$。\n$$h = h_{0} \\exp(\\eta)$$\n$$h = 0.001 \\times \\exp(2.1)$$\n为了获得数值，我们计算$\\exp(2.1)$：\n$$\\exp(2.1) \\approx 8.1661699$$\n现在，将这个值乘以基线风险：\n$$h \\approx 0.001 \\times 8.1661699$$\n$$h \\approx 0.0081661699$$\n问题要求最终答案四舍五入到四位有效数字。第一个有效数字是第一个非零数字，即$8$。四位有效数字是$8$、$1$、$6$和$6$。第四位有效数字后面的数字是$1$，小于$5$，所以我们向下取整（即，我们在第四位有效数字处截断）。\n$$h \\approx 0.008166$$\n风险率的单位与基线风险的单位相同，都是事件/人年。\n因此，对于具有指定暴露量的个体，其风险约为$0.008166$ 事件/人年。", "answer": "$$\\boxed{0.008166}$$", "id": "5208989"}, {"introduction": "在长期随访研究中，幸存者可能因多种原因而经历不同的结局，例如我们关注的特定晚期效应，或因其他不相关原因死亡。这种“竞争风险”的存在会使晚期效应发生率的估计变得复杂。本练习旨在从第一性原理出发，推导并计算在存在竞争性事件时特定晚期效应的累积发生率函数（Cumulative Incidence Function, CIF），这是一个比简单发生率更精确的衡量指标，因为它能真实反映在现实世界中发生特定事件的概率。[@problem_id:5209049]", "problem": "一个在基线时已完成治疗的儿童癌症幸存者队列被随访，以观察由先前蒽环类药物暴露引起的迟发性心脏毒性效应。这种迟发效应的发生受到非心脏原因死亡这一竞争风险的影响。令原因 $1$ 表示迟发性心脏毒性效应，原因 $2$ 表示竞争性死亡。假设特定原因风险率不随时间变化，是恒定的：迟发效应的风险率为每年 $h_{1} = 0.02$，竞争性死亡的风险率为每年 $h_{2} = 0.01$。使用竞争风险下风险率和生存率的基本定义，从第一性原理推导出迟发效应的 $10$ 年累积发生率函数 (CIF) 的表达式，然后计算其值。\n\n将最终的累积发生率表示为一个十进制数，并四舍五入到四位有效数字。不要使用百分号。", "solution": "经评估，问题陈述是有效的。它在科学上基于生存分析和竞争风险的原理，提供了完整且一致的给定条件，问题提法恰当，并使用了客观、正式的语言。因此，我们可以着手解决该问题。\n\n问题要求在存在竞争性死亡风险（原因 $2$）的情况下，推导并计算迟发性心脏毒性效应（原因 $1$）的 $10$ 年累积发生率函数 (CIF)。\n\n令 $T$ 为首次事件（迟发效应或死亡）发生的时间，令 $J \\in \\{1, 2\\}$ 为事件的原因。给定特定原因风险函数，假设它们不随时间变化，是恒定的：\n- 迟发效应（原因 $1$）的特定原因风险率为每年 $h_{1}(t) = h_{1} = 0.02$。\n- 竞争性死亡（原因 $2$）的特定原因风险率为每年 $h_{2}(t) = h_{2} = 0.01$。\n\n根据第一性原理，原因 $j$ 的特定原因风险率定义为，在给定存活至时间 $t$ 的条件下，在时间 $t$ 时由原因 $j$ 导致事件发生的瞬时速率：\n$$h_{j}(t) = \\lim_{\\Delta t \\to 0} \\frac{P(t \\le T  t+\\Delta t, J=j | T \\ge t)}{\\Delta t}$$\n\n由任何原因导致事件发生的总风险率 $h(t)$ 是各特定原因风险率之和：\n$$h(t) = h_{1}(t) + h_{2}(t)$$\n鉴于特定原因风险率是常数，总风险率也是一个常数：\n$$h(t) = h = h_{1} + h_{2} = 0.02 + 0.01 = 0.03 \\text{ 每年}$$\n\n总生存函数 $S(t)$ 是指直到时间 $t$ 仍未发生任何事件的概率，即 $S(t) = P(T > t)$。它通过以下通用公式与总风险函数相关联：\n$$S(t) = \\exp\\left(-\\int_0^t h(u) \\, du\\right)$$\n代入恒定的总风险率 $h$：\n$$S(t) = \\exp\\left(-\\int_0^t h \\, du\\right) = \\exp(-ht) = \\exp(-(h_{1}+h_{2})t)$$\n\n原因 $j$ 的累积发生率函数 (CIF)，记为 $I_j(t)$，是指到时间 $t$ 为止已发生 $j$ 类事件的概率，即 $I_j(t) = P(T \\le t, J=j)$。CIF 可以通过将原因 $j$ 的特定原因风险率与总生存函数相乘，然后在时间区间从 $0$ 到 $t$ 上进行积分来推导。这是因为在时间 $u$ 时由原因 $j$ 导致事件发生的概率密度为 $f_j(u) = h_j(u)S(u)$。\n$$I_j(t) = \\int_0^t f_j(u) \\, du = \\int_0^t h_j(u) S(u) \\, du$$\n\n我们关心的是迟发性心脏毒性效应（原因 $1$）的 CIF，即 $I_1(t)$。我们代入 $h_1(u)$ 和 $S(u)$ 的表达式：\n$$I_1(t) = \\int_0^t h_{1} \\exp(-(h_{1}+h_{2})u) \\, du$$\n由于 $h_{1}$ 和 $h_{1}+h_{2}$ 是常数，我们可以进行积分：\n$$I_1(t) = h_{1} \\int_0^t \\exp(-(h_{1}+h_{2})u) \\, du$$\n$$I_1(t) = h_{1} \\left[ \\frac{\\exp(-(h_{1}+h_{2})u)}{-(h_{1}+h_{2})} \\right]_0^t$$\n$$I_1(t) = \\frac{h_{1}}{-(h_{1}+h_{2})} \\left[ \\exp(-(h_{1}+h_{2})t) - \\exp(0) \\right]$$\n$$I_1(t) = \\frac{-h_{1}}{h_{1}+h_{2}} \\left[ \\exp(-(h_{1}+h_{2})t) - 1 \\right]$$\n将括号中的项乘以 $-1$，得到在特定原因风险率为常数的假设下，原因 $j=1$ 的 CIF 的最终推导表达式：\n$$I_1(t) = \\frac{h_{1}}{h_{1}+h_{2}} \\left[ 1 - \\exp(-(h_{1}+h_{2})t) \\right]$$\n\n现在，我们通过代入给定值：$t=10$ 年，$h_{1}=0.02$ 和 $h_{2}=0.01$，来计算迟发效应的 $10$ 年 CIF 的值。\n$$I_1(10) = \\frac{0.02}{0.02 + 0.01} \\left[ 1 - \\exp(-(0.02 + 0.01) \\times 10) \\right]$$\n$$I_1(10) = \\frac{0.02}{0.03} \\left[ 1 - \\exp(-0.03 \\times 10) \\right]$$\n$$I_1(10) = \\frac{2}{3} \\left[ 1 - \\exp(-0.3) \\right]$$\n为了获得数值，我们计算指数项：\n$$\\exp(-0.3) \\approx 0.74081822068$$\n$$I_1(10) \\approx \\frac{2}{3} (1 - 0.74081822068)$$\n$$I_1(10) \\approx \\frac{2}{3} (0.25918177931)$$\n$$I_1(10) \\approx 0.17278785287$$\n根据问题陈述的要求，将此结果四舍五入到四位有效数字，得到：\n$$I_1(10) \\approx 0.1728$$\n这个值表示该队列中的一名幸存者在完成治疗后的前 $10$ 年内，发生迟发性心脏毒性事件的概率，其中已考虑了在该事件发生前因其他原因死亡的可能性。", "answer": "$$\\boxed{0.1728}$$", "id": "5209049"}]}