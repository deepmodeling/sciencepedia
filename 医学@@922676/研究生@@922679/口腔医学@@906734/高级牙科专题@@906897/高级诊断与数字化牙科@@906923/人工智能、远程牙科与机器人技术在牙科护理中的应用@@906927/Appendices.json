{"hands_on_practices": [{"introduction": "本练习旨在解决远程牙科中的一个基本挑战：管理大规模影像数据。通过计算锥形束计算机断层扫描 (CBCT) 数据体的未压缩大小，您将对支撑人工智能驱动的远程诊断所需的数据存储和传输要求有切实的理解。这项技能对于规划系统架构和确保远程牙科平台中的高效数据处理至关重要。[@problem_id:4694082]", "problem": "一个远程牙科平台在远程会诊期间，直接在锥形束计算机断层扫描（CBCT）数据集上集成了人工智能（AI）辅助的分割和机器人规划功能。为确保传输到AI模块的未压缩CBCT数据卷有足够的图形处理单元（GPU）内存配置，请确定一个尺寸为 $512 \\times 512 \\times 512$ 体素、每个体素 $16$ 比特的CBCT数据卷的未压缩存储大小（以兆字节MB为单位）。你的推导应仅基于以下基础数据表示事实：$1$ 字节等于 $8$ 比特，且在此处兆字节（MB）定义为 $10^{6}$ 字节。请明确说明你对文件头开销的假设，并在计算中保持一致地使用该假设。将最终存储大小以精确的小数形式表示（不要四舍五入）。", "solution": "该问题要求计算锥形束计算机断层扫描（CBCT）数据卷的未压缩存储大小。计算将基于所提供的数据卷尺寸、每个体素的比特深度以及标准的数据单位转换。\n\n首先，我们必须确定问题陈述中的已知条件：\n- 数据卷尺寸：$512 \\times 512 \\times 512$ 体素。\n- 比特深度：每个体素 $16$ 比特。\n- 转换因子（比特到字节）：$1$ 字节 = $8$ 比特。\n- 转换因子（字节到兆字节）：$1$ 兆字节（MB）= $10^{6}$ 字节。\n\n问题要求对文件头开销做出假设。为了计算原始、未压缩体素数据本身的存储大小，我们将假设文件头开销是可忽略不计的，并且可以认为是 $0$ 字节。在估算图像数据有效载荷大小时，这是一个标准的假设，该大小与任何文件格式特定的元数据是分开的。\n\n数据卷中的总体素数，记为 $N_{voxels}$，是其尺寸的乘积：\n$$N_{voxels} = 512 \\times 512 \\times 512 = 512^{3}$$\n为方便计算，我们可以将 $512$ 表示为 $2$ 的幂：\n$$512 = 2^{9}$$\n因此，总体素数为：\n$$N_{voxels} = (2^{9})^{3} = 2^{27}$$\n\n接下来，我们计算数据卷的总大小（以比特为单位），记为 $S_{bits}$。该值是总体素数乘以每个体素的比特数。\n$$S_{bits} = N_{voxels} \\times (\\text{每个体素的比特数})$$\n$$S_{bits} = 2^{27} \\times 16$$\n因为 $16 = 2^{4}$，我们可以写成：\n$$S_{bits} = 2^{27} \\times 2^{4} = 2^{27+4} = 2^{31} \\text{ 比特}$$\n\n为了将大小从比特转换为字节，我们使用给定的转换因子，其中 $1$ 字节等于 $8$ 比特，即 $2^3$ 比特。设以字节为单位的大小为 $S_{bytes}$。\n$$S_{bytes} = \\frac{S_{bits}}{8} = \\frac{2^{31}}{2^{3}} = 2^{31-3} = 2^{28} \\text{ 字节}$$\n\n现在我们计算 $2^{28}$ 的数值：\n$$2^{28} = 2^{8} \\times 2^{20} = 256 \\times (2^{10})^{2}$$\n我们知道 $2^{10} = 1024$。\n$$S_{bytes} = 256 \\times (1024)^{2} = 256 \\times 1,048,576 = 268,435,456 \\text{ 字节}$$\n\n最后，我们使用指定的定义 $1 \\text{ MB} = 10^{6} \\text{ 字节}$ 将大小从字节转换为兆字节（MB）。设以兆字节为单位的大小为 $S_{MB}$。\n$$S_{MB} = \\frac{S_{bytes}}{10^{6}} = \\frac{268,435,456}{1,000,000}$$\n$$S_{MB} = 268.435456$$\n\n问题要求最终答案是一个精确的小数。计算出的值 $268.435456$ 是精确的。因此，该CBCT数据卷的未压缩存储大小为 $268.435456$ MB。", "answer": "$$\n\\boxed{268.435456}\n$$", "id": "4694082"}, {"introduction": "人工智能擅长从医学影像中自动进行精确测量，这是现代诊断学的基石。本实践问题模拟了由人工智能驱动的头影测量分析，要求您使用向量几何从三维坐标计算 ANB 角。掌握此方法有助于您理解自动化正畸评估背后的几何原理，并解读其对骨骼分类的临床意义。[@problem_id:4694099]", "problem": "一个启用人工智能 (AI) 的远程牙科平台集成了机器人引导的头部定位和锥形束计算机断层扫描 (CBCT)，以在一个头部固定的右手坐标系（单位：毫米）中自动定位头影测量标志点。对于一次远程正畸评估，系统返回 Nasion、Point A 和 Point B 的三维坐标为 $N = (120,\\, 90,\\, 95)$、$A = (130,\\, 90,\\, 95)$ 和 $B = (129.9756,\\, 89.3024,\\, 95)$。A-point–Nasion–B-point (ANB) 角定义为位于正中矢状面内的两条射线 $\\overrightarrow{NA}$ 和 $\\overrightarrow{NB}$ 之间较小的平面角。\n\n使用向量几何学的基本原理，根据这些坐标计算 ANB 角，然后在您的推理中简要解释其在骨骼分类方面的临床意义。以度为单位表示最终角度，并将您的答案四舍五入至 $4$ 位有效数字。最终答案必须是答案框中的一个不带单位的数字。", "solution": "该问题有效、有科学依据且定义明确。它要求在三维笛卡尔坐标系中，计算由三个点定义的两个向量之间的平面角。这是向量几何学的一个标准应用。\n\nA-point–Nasion–B-point (ANB) 角，记作 $\\theta_{ANB}$，是从 Nasion ($N$) 到 Point A ($A$) 的向量与从 Nasion ($N$) 到 Point B ($B$) 的向量之间的夹角。令这些向量为 $\\vec{u} = \\overrightarrow{NA}$ 和 $\\vec{v} = \\overrightarrow{NB}$。\n\n三个头影测量标志点的坐标如下：\n$N = (120,\\, 90,\\, 95)$\n$A = (130,\\, 90,\\, 95)$\n$B = (129.9756,\\, 89.3024,\\, 95)$\n\n首先，我们通过将起点 ($N$) 的坐标从终点 ($A$ 和 $B$) 的坐标中减去，来计算向量 $\\vec{u}$ 和 $\\vec{v}$ 的分量。\n\n向量 $\\vec{u} = \\overrightarrow{NA}$ 是：\n$$ \\vec{u} = A - N = (130 - 120,\\, 90 - 90,\\, 95 - 95) = (10,\\, 0,\\, 0) $$\n\n向量 $\\vec{v} = \\overrightarrow{NB}$ 是：\n$$ \\vec{v} = B - N = (129.9756 - 120,\\, 89.3024 - 90,\\, 95 - 95) = (9.9756,\\, -0.6976,\\, 0) $$\n\n两个非零向量 $\\vec{u}$ 和 $\\vec{v}$ 之间的夹角 $\\theta$ 可以使用点积公式确定：\n$$ \\vec{u} \\cdot \\vec{v} = \\|\\vec{u}\\| \\|\\vec{v}\\| \\cos(\\theta) $$\n对 $\\theta$ 重新整理，我们得到：\n$$ \\theta = \\arccos\\left(\\frac{\\vec{u} \\cdot \\vec{v}}{\\|\\vec{u}\\| \\|\\vec{v}\\|}\\right) $$\n\n接下来，我们计算点积 $\\vec{u} \\cdot \\vec{v}$：\n$$ \\vec{u} \\cdot \\vec{v} = (10)(9.9756) + (0)(-0.6976) + (0)(0) = 99.756 $$\n\n现在，我们计算向量的模（欧几里得范数）$\\|\\vec{u}\\|$ 和 $\\|\\vec{v}\\|$。\n向量 $\\vec{u}$ 的模是：\n$$ \\|\\vec{u}\\| = \\sqrt{10^2 + 0^2 + 0^2} = \\sqrt{100} = 10 $$\n\n向量 $\\vec{v}$ 的模是：\n$$ \\|\\vec{v}\\| = \\sqrt{(9.9756)^2 + (-0.6976)^2 + 0^2} = \\sqrt{99.51261536 + 0.48664576} = \\sqrt{99.99926112} $$\n\n现在，我们将这些值代入反余弦公式，以计算角度（以弧度为单位）：\n$$ \\theta = \\arccos\\left(\\frac{99.756}{10 \\sqrt{99.99926112}}\\right) $$\n$$ \\theta \\approx \\arccos\\left(\\frac{99.756}{10 \\times 9.999963056}\\right) \\approx \\arccos\\left(\\frac{9.9756}{9.999963056}\\right) $$\n$$ \\theta \\approx \\arccos(0.997563663) \\approx 0.0698188 \\text{ 弧度} $$\n\n问题要求角度以度为单位。我们使用转换因子 $\\frac{180}{\\pi}$ 将弧度转换为度：\n$$ \\theta_{\\text{deg}} = \\theta_{\\text{rad}} \\times \\frac{180}{\\pi} \\approx 0.0698188 \\times \\frac{180}{\\pi} \\approx 4.000325^{\\circ} $$\n\n最后，我们按照要求将结果四舍五入到 $4$ 位有效数字。该值为 $4.000325...$。前四位有效数字是 $4$、$0$、$0$ 和 $0$。第五位数字是 $3$，小于 $5$，所以我们向下舍入。\n$$ \\theta_{ANB} \\approx 4.000^{\\circ} $$\n\n在临床解释方面，ANB 角是正畸学中的一个关键测量指标，用于评估上颌骨（上颚）和下颌骨（下颚）之间的矢状（前后）关系。\n- 约 $2^{\\circ}$ 的值被认为代表正常的，即 I 类骨骼关系。\n- 一个显著大于 $2^{\\circ}$ 的角度，例如计算出的 $4.000^{\\circ}$，表明为骨性 II 类错颌畸形。这表明上颌骨相对于下颌骨位置靠前，或下颌骨相对于上颌骨位置靠后，这通常与凸面型和深覆盖有关。\n- 一个显著小于 $2^{\\circ}$ 的值（包括负值）将表明为骨性 III 类关系，这是下颌前突的特征。\n\n因此，计算出的 $4.000^{\\circ}$ 的 ANB 角表明该患者为骨性 II 类颌骨关系。", "answer": "$$\\boxed{4.000}$$", "id": "4694099"}, {"introduction": "人工智能模型的预测只是第一步，最终目标是做出最优的临床决策。本问题深入探讨了概率性预测与现实世界后果之间的关键联系，要求您推导出一个能最小化预期成本的决策阈值。此练习着重说明了如何在远程牙科中通过权衡假阳性和假阴性的不同成本来调整人工智能驱动的建议，这反映了在医疗保健领域负责任地实施人工智能的一个关键方面。[@problem_id:4694110]", "problem": "考虑一个远程牙科筛查系统，该系统使用流式传输到临床医生辅助的人工智能 (AI) 模型的智能手机口内图像来评估咬合面。该 AI 模型使用广义线性模型，其具有二元结果（龋齿存在：$y=1$，龋齿不存在：$y=0$）和典范链接函数，以将线性预测器映射到单位区间，这与 $y$ 的伯努利模型一致。特征 $x \\in \\mathbb{R}^{d}$ 概括了源自图像的反射率和纹理指标、患者报告的饮食频率以及牙菌斑指数。设线性预测器为 $z=\\beta_{0}+\\beta^{\\top}x$，其中 $\\beta \\in \\mathbb{R}^{d}$ 是模型参数。标记病灶的远程决策（$\\hat{y}=1$）会触发远程操作牙科辅助机器人 (RODAR) 前来进行确认性检查；假阳性会导致不必要的调动和患者不便，其成本为 $C_{\\mathrm{FP}}0$，而假阴性会导致治疗延迟和潜在的病灶进展，其成本为 $C_{\\mathrm{FN}}0$。假设正确决策的成本为零。\n\n从第一性原理出发，以 $y$ 的伯努利似然以及优势和对数优势的定义为起点，推导在线性预测器空间中的最优决策边界，该边界在上述 0–1 损失不对称性下最小化预期成本。将此边界表示为 $z=\\gamma$，其中 $\\gamma$ 是一个仅取决于 $C_{\\mathrm{FP}}$ 和 $C_{\\mathrm{FN}}$ 的常数，并提供 $\\gamma$ 的闭式解析表达式。\n\n另外，在远程牙科龋齿检测的背景下，当保持所有其他协变量不变时，从临床角度解释单个特征 $x_{j}$ 的优势比 $\\exp(\\beta_{j})$。\n\n将 $\\gamma$ 的表达式作为最终答案报告。无需四舍五入，也不涉及物理单位。", "solution": "该问题要求两项内容：首先，推导远程牙科分类系统的最优决策边界，以最小化预期成本；其次，对模型中的优势比进行临床解释。\n\n该模型被指定为用于二元结果 $y \\in \\{0, 1\\}$（龋齿不存在/存在）的广义线性模型 (GLM)，并为底层的伯努利分布使用典范链接函数。这唯一地确定该模型为逻辑回归模型。\n\n设 $p(x) = P(y=1|x)$ 为在给定特征向量 $x \\in \\mathbb{R}^{d}$ 的情况下存在龋齿的概率。在逻辑回归模型中，结果的对数优势（典范链接函数）是特征的线性函数：\n$$ \\ln\\left(\\frac{p(x)}{1-p(x)}\\right) = z $$\n其中 $z = \\beta_{0} + \\beta^{\\top}x$ 是线性预测器。由此，存在龋齿的优势由下式给出：\n$$ \\text{Odds}(x) = \\frac{p(x)}{1-p(x)} = \\exp(z) $$\n\n问题指定了一个不对称的成本结构。在给定真实结果 $y$ 的情况下，决策 $\\hat{y}$ 的成本表示为 $C(\\hat{y}, y)$。所提供的成本如下：\n-   $C(1, 0) = C_{\\mathrm{FP}}$ (假阳性)\n-   $C(0, 1) = C_{\\mathrm{FN}}$ (假阴性)\n-   $C(1, 1) = C(0, 0) = 0$ (真阳性和真阴性)\n\n最优决策规则是最小化给定观测值 $x$ 的预期成本。我们必须比较决策 $\\hat{y}=1$ 与决策 $\\hat{y}=0$ 的预期成本。\n\n决策 $\\hat{y}=1$（标记病灶）的预期成本为：\n$$ E[\\text{Cost}|\\hat{y}=1, x] = C(1, 1)P(y=1|x) + C(1, 0)P(y=0|x) $$\n$$ E[\\text{Cost}|\\hat{y}=1, x] = 0 \\cdot p(x) + C_{\\mathrm{FP}} \\cdot (1-p(x)) = C_{\\mathrm{FP}}(1-p(x)) $$\n\n决策 $\\hat{y}=0$（不标记）的预期成本为：\n$$ E[\\text{Cost}|\\hat{y}=0, x] = C(0, 1)P(y=1|x) + C(0, 0)P(y=0|x) $$\n$$ E[\\text{Cost}|\\hat{y}=0, x] = C_{\\mathrm{FN}} \\cdot p(x) + 0 \\cdot (1-p(x)) = C_{\\mathrm{FN}}p(x) $$\n\n最优决策是在标记病灶的预期成本低于不标记的预期成本时标记病灶 ($\\hat{y}=1$)。也就是说，如果满足以下条件，我们选择 $\\hat{y}=1$：\n$$ E[\\text{Cost}|\\hat{y}=1, x]  E[\\text{Cost}|\\hat{y}=0, x] $$\n$$ C_{\\mathrm{FP}}(1-p(x))  C_{\\mathrm{FN}}p(x) $$\n\n决策边界是预期成本相等的阈值。设 $p_{\\text{thresh}}$ 为此边界上的概率。\n$$ C_{\\mathrm{FP}}(1-p_{\\text{thresh}}) = C_{\\mathrm{FN}}p_{\\text{thresh}} $$\n求解 $p_{\\text{thresh}}$：\n$$ C_{\\mathrm{FP}} - C_{\\mathrm{FP}}p_{\\text{thresh}} = C_{\\mathrm{FN}}p_{\\text{thresh}} $$\n$$ C_{\\mathrm{FP}} = (C_{\\mathrm{FN}} + C_{\\mathrm{FP}})p_{\\text{thresh}} $$\n$$ p_{\\text{thresh}} = \\frac{C_{\\mathrm{FP}}}{C_{\\mathrm{FN}} + C_{\\mathrm{FP}}} $$\n\n问题要求的是在线性预测器空间中的决策边界 $z = \\gamma$。线性预测器 $z$ 是对数优势。我们必须找到与概率阈值 $p_{\\text{thresh}}$ 对应的对数优势。\n\n首先，我们计算边界处的优势：\n$$ \\text{Odds}_{\\text{thresh}} = \\frac{p_{\\text{thresh}}}{1 - p_{\\text{thresh}}} $$\n代入 $p_{\\text{thresh}}$ 的表达式：\n$$ \\text{Odds}_{\\text{thresh}} = \\frac{\\frac{C_{\\mathrm{FP}}}{C_{\\mathrm{FN}} + C_{\\mathrm{FP}}}}{1 - \\frac{C_{\\mathrm{FP}}}{C_{\\mathrm{FN}} + C_{\\mathrm{FP}}}} = \\frac{\\frac{C_{\\mathrm{FP}}}{C_{\\mathrm{FN}} + C_{\\mathrm{FP}}}}{\\frac{(C_{\\mathrm{FN}} + C_{\\mathrm{FP}}) - C_{\\mathrm{FP}}}{C_{\\mathrm{FN}} + C_{\\mathrm{FP}}}} = \\frac{\\frac{C_{\\mathrm{FP}}}{C_{\\mathrm{FN}} + C_{\\mathrm{FP}}}}{\\frac{C_{\\mathrm{FN}}}{C_{\\mathrm{FN}} + C_{\\mathrm{FP}}}} = \\frac{C_{\\mathrm{FP}}}{C_{\\mathrm{FN}}} $$\n\n决策边界 $\\gamma$ 是与这些优势相对应的线性预测器 $z$ 的值。由于 $z = \\ln(\\text{Odds})$，我们有：\n$$ \\gamma = \\ln\\left(\\frac{C_{\\mathrm{FP}}}{C_{\\mathrm{FN}}}\\right) $$\n决策规则是如果 $z  \\gamma$，则预测 $\\hat{y}=1$。\n\n问题的第二部分要求解释单个特征 $x_j$ 的优势比 $\\exp(\\beta_j)$。\n龋齿的优势为 $\\text{Odds} = \\exp(z) = \\exp(\\beta_{0} + \\sum_{i=1}^{d} \\beta_{i}x_{i})$。\n考虑将特定特征 $x_j$ 增加一个单位，同时保持所有其他特征 $x_k$ (对于 $k \\neq j$) 不变。\n原始优势为 $\\text{Odds}_1 = \\exp(\\beta_0 + \\sum_{k \\neq j}\\beta_k x_k + \\beta_j x_j)$。\n将 $x_j$ 增加 1 后的新优势为 $\\text{Odds}_2 = \\exp(\\beta_0 + \\sum_{k \\neq j}\\beta_k x_k + \\beta_j (x_j+1))$。\n这两个优势的比值，即优势比 (OR)，是：\n$$ \\text{OR} = \\frac{\\text{Odds}_2}{\\text{Odds}_1} = \\frac{\\exp(\\beta_0 + \\sum_{k \\neq j}\\beta_k x_k + \\beta_j x_j + \\beta_j)}{\\exp(\\beta_0 + \\sum_{k \\neq j}\\beta_k x_k + \\beta_j x_j)} = \\frac{\\exp(\\beta_0 + \\sum_{i=1}^{d}\\beta_i x_i) \\exp(\\beta_j)}{\\exp(\\beta_0 + \\sum_{i=1}^{d}\\beta_i x_i)} = \\exp(\\beta_j) $$\n在临床术语中，$\\exp(\\beta_j)$ 代表在假设模型中所有其他协变量（例如其他图像指标或患者报告的数据）保持不变的情况下，特征 $x_j$ 每增加一个单位，患有龋齿的优势变化的乘法因子。例如，如果 $x_j$ 是一个饮食频率得分且 $\\exp(\\beta_j) = 1.2$，那么该得分每增加一点，在其他条件不变的情况下 (ceteris paribus)，患有龋齿的优势将增加 $20\\%$。\n\n所要求的最终答案是 $\\gamma$ 的表达式。", "answer": "$$ \\boxed{\\ln\\left(\\frac{C_{\\mathrm{FP}}}{C_{\\mathrm{FN}}}\\right)} $$", "id": "4694110"}]}