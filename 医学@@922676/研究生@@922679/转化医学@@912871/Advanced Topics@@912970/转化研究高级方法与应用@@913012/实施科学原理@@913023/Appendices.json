{"hands_on_practices": [{"introduction": "整群随机试验 (Cluster Randomized Trials, CRTs) 是在医院或学校等真实世界环境中评估干预措施的基石。然而，来自同一整群中个体的数据往往是相关的，这在研究设计阶段需要特别关注。本练习 [@problem_id:5052270] 将指导您完成一项基本计算，即确定试验所需的整群数量，这是确保您的研究具有足够统计功效来检测效果的关键技能。", "problem": "一项转化医学实施研究旨在采用双臂平行整群随机试验（CRT）来评估一项系统级干预措施。每个整群提供相等数量的个体观测值。在此背景下，由组内相似性引起的主要方差膨胀由组内相关系数（ICC）（记为 $\\rho$）量化，并通过设计效应来体现。在实施科学中，每臂的有效个体水平样本量（记为 $n_{\\text{eff}}$）的定义是，将整群抽样下臂水平平均值的方差与具有独立观测值的简单随机样本的方差相等同。\n\n从组内相关系数（ICC）$\\rho$（定义为同一整群内随机抽取的两个个体之间的相关性）的核心定义，以及通过方差等价性定义的有效样本量 $n_{\\text{eff}}$ 出发，推导连接每臂整群数 $K$、整群大小 $m$、ICC $\\rho$ 和 $n_{\\text{eff}}$ 之间的关系。\n\n使用此关系，当平均整群大小为 $m = 40$ 且 ICC 为 $\\rho = 0.02$ 时，确定为达到 $n_{\\text{eff}} = 400$ 所需的双臂总整群数的最小整数值。总整群数必须是考虑整群效应后，达到或超过目标有效样本量的最小整数。\n\n此外，通过推导总整群数作为 $\\rho$ 的函数的连续近似值（忽略整数约束），记为 $K_{\\text{total}}(\\rho)$，并计算其在 $\\rho = 0.02$ 处的敏感性（定义为 $\\frac{d K_{\\text{total}}(\\rho)}{d \\rho}$），对 $\\rho$ 进行敏感性分析。请提供最小整数总整群数、封闭形式的 $K_{\\text{total}}(\\rho)$ 以及该导数的值。无需按有效数字进行四舍五入；报告总整群数的精确整数计数和敏感性分析的封闭形式表达式。", "solution": "该问题是有效的，因为它科学地基于整群随机试验（CRTs）的统计原理，问题陈述清晰，信息充分且一致，并且是客观陈述的。\n\n解答按问题陈述的要求分为三个部分。首先，我们推导有效样本量 $n_{\\text{eff}}$、每臂整群数 $K$、整群大小 $m$ 和组内相关系数（ICC）$\\rho$ 之间的基本关系。其次，我们使用此关系计算所需的最小总整群数。第三，我们进行敏感性分析。\n\n**第一部分：有效样本量公式的推导**\n\n设 $Y_{ij}$ 为试验单臂中第 $i$ 个整群（其中 $i=1, \\dots, K$）内第 $j$ 个个体（其中 $j=1, \\dots, m$）的结局。该臂的总参与者人数为 $N = Km$。臂水平平均值 $\\bar{Y}$ 由下式给出：\n$$ \\bar{Y} = \\frac{1}{Km} \\sum_{i=1}^{K} \\sum_{j=1}^{m} Y_{ij} $$\n我们需要求出该平均值的方差 $\\text{Var}(\\bar{Y})$。由于整群是随机化的，因此是独立的，所以跨整群总和的方差是各方差之和。\n$$ \\text{Var}(\\bar{Y}) = \\text{Var}\\left(\\frac{1}{Km} \\sum_{i=1}^{K} \\left(\\sum_{j=1}^{m} Y_{ij}\\right)\\right) = \\frac{1}{(Km)^2} \\sum_{i=1}^{K} \\text{Var}\\left(\\sum_{j=1}^{m} Y_{ij}\\right) $$\n假设所有整群在统计上是相同的，则任何整群内结局总和的方差是相同的。因此，\n$$ \\text{Var}(\\bar{Y}) = \\frac{K}{(Km)^2} \\text{Var}\\left(\\sum_{j=1}^{m} Y_{1j}\\right) $$\n现在，我们展开单个整群内观测值总和的方差。设 $\\sigma^2 = \\text{Var}(Y_{ij})$ 为总个体水平方差。组内相关系数 $\\rho$ 定义为同一整群中两个不同个体之间的相关性：\n$$ \\rho = \\frac{\\text{Cov}(Y_{ij}, Y_{ik})}{\\sqrt{\\text{Var}(Y_{ij})\\text{Var}(Y_{ik})}} = \\frac{\\text{Cov}(Y_{ij}, Y_{ik})}{\\sigma^2} \\quad \\text{for } j \\neq k $$\n这意味着 $\\text{Cov}(Y_{ij}, Y_{ik}) = \\rho\\sigma^2$。总和的方差为：\n$$ \\text{Var}\\left(\\sum_{j=1}^{m} Y_{ij}\\right) = \\sum_{j=1}^{m} \\text{Var}(Y_{ij}) + \\sum_{j \\neq k} \\text{Cov}(Y_{ij}, Y_{ik}) $$\n有 $m$ 个方差项和 $m(m-1)$ 个协方差项。\n$$ \\text{Var}\\left(\\sum_{j=1}^{m} Y_{ij}\\right) = m\\sigma^2 + m(m-1)\\rho\\sigma^2 = m\\sigma^2[1 + (m-1)\\rho] $$\n将此代入 $\\text{Var}(\\bar{Y})$ 的表达式中：\n$$ \\text{Var}(\\bar{Y}) = \\frac{K}{(Km)^2} \\left( m\\sigma^2[1 + (m-1)\\rho] \\right) = \\frac{Km\\sigma^2[1 + (m-1)\\rho]}{(Km)^2} = \\frac{\\sigma^2[1 + (m-1)\\rho]}{Km} $$\n项 $[1 + (m-1)\\rho]$ 是设计效应或方差膨胀因子（VIF）。\n问题通过将整群抽样下臂水平平均值的方差与来自大小为 $n_{\\text{eff}}$ 的简单随机样本（SRS）的平均值方差相等同，来定义有效样本量 $n_{\\text{eff}}$。对于 SRS，平均值的方差是 $\\frac{\\sigma^2}{n_{\\text{eff}}}$。令两个方差表达式相等：\n$$ \\frac{\\sigma^2}{n_{\\text{eff}}} = \\frac{\\sigma^2[1 + (m-1)\\rho]}{Km} $$\n$\\sigma^2$ 项消去，得到关系式：\n$$ \\frac{1}{n_{\\text{eff}}} = \\frac{1 + (m-1)\\rho}{Km} \\implies n_{\\text{eff}} = \\frac{Km}{1 + (m-1)\\rho} $$\n\n**第二部分：最小总整群数的计算**\n\n题目要求我们计算在双臂中达到每臂有效样本量至少为 $n_{\\text{eff}} = 400$ 所需的最小整数总整群数，给定整群大小为 $m = 40$ 且 ICC 为 $\\rho = 0.02$。该试验是均衡的，因此我们首先计算每臂所需的最小整群数 $K$。\n我们重排推导出的公式以求解 $K$：\n$$ K = \\frac{n_{\\text{eff}}[1 + (m-1)\\rho]}{m} $$\n代入给定值：\n$$ K = \\frac{400[1 + (40-1)(0.02)]}{40} $$\n$$ K = 10[1 + (39)(0.02)] = 10[1 + 0.78] = 10(1.78) = 17.8 $$\n由于整群数 $K$ 必须是整数，我们必须取满足条件 $n_{\\text{eff}} \\ge 400$ 的最小整数值 $K$。这需要将计算出的 $K$ 值向上取整。\n$$ K_{\\text{min}} = \\lceil 17.8 \\rceil = 18 $$\n这是每臂所需的整群数。问题要求的是双臂的最小总整群数，即 $2 \\times K_{\\text{min}}$。\n$$ \\text{总整群数} = 2 \\times 18 = 36 $$\n\n**第三部分：敏感性分析**\n\n我们需要推导总整群数的连续近似值 $K_{\\text{total}}(\\rho)$（作为 $\\rho$ 的函数），并计算其在 $\\rho = 0.02$ 处的敏感性。\n总整群数为 $K_{\\text{total}} = 2K$。使用 $K$ 的表达式并将其视为连续变量：\n$$ K_{\\text{total}}(\\rho) = 2 \\frac{n_{\\text{eff}}[1 + (m-1)\\rho]}{m} $$\n代入常数 $n_{\\text{eff}} = 400$ 和 $m = 40$：\n$$ K_{\\text{total}}(\\rho) = 2 \\frac{400[1 + (40-1)\\rho]}{40} = \\frac{800}{40}[1 + 39\\rho] = 20(1 + 39\\rho) $$\n封闭形式表达式为：\n$$ K_{\\text{total}}(\\rho) = 20 + 780\\rho $$\n敏感性是此函数关于 $\\rho$ 的导数：\n$$ \\frac{d K_{\\text{total}}(\\rho)}{d \\rho} = \\frac{d}{d \\rho} (20 + 780\\rho) = 780 $$\n该导数是一个常数，因此对于所有的 $\\rho$（包括 $\\rho = 0.02$），其值均为 $780$。这意味着，当 $\\rho$ 有一个小的增量 $\\delta\\rho$ 时，所需的总整群数大约增加 $780 \\times \\delta\\rho$。\n\n我们得到了三个所求的量：\n1.  最小整数总整群数：$36$。\n2.  封闭形式的 $K_{\\text{total}}(\\rho)$：$20 + 780\\rho$。\n3.  在 $\\rho=0.02$ 处的敏感性 $\\frac{d K_{\\text{total}}}{d \\rho}$：$780$。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n36 & 20 + 780\\rho & 780\n\\end{pmatrix}\n}\n$$", "id": "5052270"}, {"introduction": "一项实施研究结论的有效性取决于其测量工具的质量。在部署量表来测量诸如可接受性或可行性等结果之前，我们必须确保其可靠性。本练习 [@problem_id:5052203] 深入探讨了测量理论的核心，要求您推导和计算克朗巴赫系数 $\\alpha$ (Cronbach's alpha)，这是一个内部一致性的关键指标，用以判断一个假设的工具是否适合实际应用。", "problem": "在一项评估循证实践的多中心转化研究中，研究人员计划使用一种简明的可接受性量表，作为实施科学原则的一部分。该量表包含 $5$ 个项目，这些项目在一个共同的李克特量表上进行评分，然后相加以形成一个总可接受性得分。研究人员希望评估该量表的内部一致性信度，以确定其是否适合在异质性临床环境中进行实用性部署。\n\n现给出以下在受访者中为这 $5$ 个项目经验估计的项目方差：$\\sigma_{1}^{2} = 1.20$，$\\sigma_{2}^{2} = 0.90$，$\\sigma_{3}^{2} = 1.00$，$\\sigma_{4}^{2} = 1.10$ 和 $\\sigma_{5}^{2} = 0.80$。在受访者中，总分（$5$ 个项目得分之和）的观测方差为 $\\sigma_{T}^{2} = 12.00$。\n\n请仅使用经典测试理论（CTT）的基本原理，即观测分数 $X$ 分解为 $X = T + E$，信度定义为真分数方差与观测分数方差的比值，并使用随机变量求和方差恒等式，从第一性原理推导出一个包含 $k$ 个项目的总和量表的内部一致性信度系数（克朗巴赫 $\\alpha$）的表达式，该表达式应以 $k$、项目方差之和 $\\sum_{i=1}^{k} \\sigma_{i}^{2}$ 以及总分方差 $\\sigma_{T}^{2}$ 来表示。然后，计算上述量表的 $\\alpha$ 值，并使用 $0.7$ 的传统实施阈值来解释该量表是否满足实用性用途的最低信度标准。将您的 $\\alpha$ 数值四舍五入至四位有效数字，并以无单位值的形式报告。", "solution": "根据规定标准对问题进行验证。\n\n### 问题验证\n\n该问题科学上基于经典测试理论，这是心理测量学的基石。该问题提法得当，为推导和后续计算提供了所有必要信息，且数据内部一致。该问题被认为是**有效的**。将提供一个完整的、有理有据的解决方案。\n\n### 从第一性原理推导克朗巴赫Alpha系数\n\n设一个测试分数 $X_T$ 是 $k$ 个单项分数 $X_i$ 的和，其中 $i = 1, 2, \\ldots, k$。\n$$X_T = \\sum_{i=1}^{k} X_i$$\n这个总分的方差 $\\sigma_T^2$ 可以使用求和方差恒等式表示：\n$$\\sigma_T^2 = \\text{Var}\\left(\\sum_{i=1}^{k} X_i\\right) = \\sum_{i=1}^{k} \\text{Var}(X_i) + \\sum_{i \\neq j} \\text{Cov}(X_i, X_j)$$\n令 $\\sigma_i^2 = \\text{Var}(X_i)$，我们可以写成：\n$$\\sigma_T^2 = \\sum_{i=1}^{k} \\sigma_i^2 + \\sum_{i \\neq j} \\text{Cov}(X_i, X_j)$$\n这个恒等式将总方差划分为项目方差之和与所有项目间协方差之和。\n\n在经典测试理论（CTT）中，总分的信度被定义为真分数方差与观测总分方差的比值。克朗巴赫 $\\alpha$ 是对这一信度最常用的估计。信度的概念是，总方差中由项目间共同变异（协方差）所占的比例。$\\sum \\sigma_i^2$ 代表了每个项目方差中“独特”的部分（包括真分数方差和误差方差），而 $\\sigma_T^2 - \\sum \\sigma_i^2$ 代表了项目间的“共同”方差（即 $\\sum_{i \\neq j} \\text{Cov}(X_i, X_j)$）。\n\n克朗巴赫 $\\alpha$ 系数正是这个概念的一个数学表达，它被定义为：\n$$ \\alpha = \\frac{k}{k-1} \\left( \\frac{\\sigma_T^2 - \\sum_{i=1}^{k} \\sigma_i^2}{\\sigma_T^2} \\right) = \\frac{k}{k-1} \\left( 1 - \\frac{\\sum_{i=1}^{k} \\sigma_{i}^{2}}{\\sigma_{T}^{2}} \\right) $$\n该公式中的 $\\frac{k}{k-1}$ 是一个校正因子，用于对项目数量进行校正，因为量表由有限个项目组成。这个公式的美妙之处在于它完全基于可观测的量（项目数、项目方差之和、总分方差），从而提供了一个实用的内部一致性信度估计。\n\n### 计算与解释\n\n现在我们应用此公式来计算给定数据的克朗巴赫 $\\alpha$。\n首先，我们计算项目方差之和：\n$$\\sum_{i=1}^{5} \\sigma_i^2 = \\sigma_1^2 + \\sigma_2^2 + \\sigma_3^2 + \\sigma_4^2 + \\sigma_5^2 = 1.20 + 0.90 + 1.00 + 1.10 + 0.80 = 5.00$$\n现在，我们将 $k=5$, $\\sum_{i=1}^{5} \\sigma_i^2 = 5.00$ 和 $\\sigma_T^2 = 12.00$ 代入克朗巴赫 $\\alpha$ 公式：\n$$ \\alpha = \\frac{5}{5-1} \\left( 1 - \\frac{5.00}{12.00} \\right) $$\n$$ \\alpha = \\frac{5}{4} \\left( 1 - 0.416666... \\right) $$\n$$ \\alpha = 1.25 \\times 0.583333... $$\n$$ \\alpha = 0.7291666... $$\n根据要求，我们将结果四舍五入到四位有效数字：\n$$ \\alpha \\approx 0.7292 $$\n最后，我们将计算出的值与 $0.7$ 的传统实施阈值进行比较。由于 $0.7292 > 0.7$，该量表满足了实用性部署的最低内部一致性信度标准。\n\n最终数值答案是 $0.7292$。", "answer": "$$\\boxed{0.7292}$$", "id": "5052203"}, {"introduction": "现代实施科学的一个核心宗旨是促进健康公平，避免扩大差距。因此，仅仅知道一项干预是否有效是不够的，我们必须了解它是否对所有人群都公平有效。本练习 [@problem_id:5052259] 介绍了一种强大的准实验方法——双重差分法 (difference-in-differences)，让您能够量化一项干预在弥合不同患者群体之间“覆盖面” (Reach) 差距方面的效果。", "problem": "一个多中心的转化医学项目在多个初级保健诊所中实施了一项基于证据的高血压外展服务。该项目旨在提高覆盖范围的公平性，根据 RE-AIM（覆盖、效果、采纳、实施、维持）框架，覆盖范围定义为在确定时期内实际接受干预的合格个体所占的比例。现给出两个群体——种族和族裔上的少数群体患者和多数群体患者——在项目实施前后的汇总计数。\n\n在实施前时期：\n- 少数群体：$n_{\\text{eligible, pre}}^{\\text{min}} = 1800$， $n_{\\text{reached, pre}}^{\\text{min}} = 360$。\n- 多数群体：$n_{\\text{eligible, pre}}^{\\text{maj}} = 2400$， $n_{\\text{reached, pre}}^{\\text{maj}} = 840$。\n\n在实施后时期：\n- 少数群体：$n_{\\text{eligible, post}}^{\\text{min}} = 2000$， $n_{\\text{reached, post}}^{\\text{min}} = 800$。\n- 多数群体：$n_{\\text{eligible, post}}^{\\text{maj}} = 2600$， $n_{\\text{reached, post}}^{\\text{maj}} = 1170$。\n\n使用群体层面覆盖范围的定义 $R_{g,t} = \\frac{n_{\\text{reached}, t}^{g}}{n_{\\text{eligible}, t}^{g}}$（其中群体 $g \\in \\{\\text{min}, \\text{maj}\\}$，时间 $t \\in \\{\\text{pre}, \\text{post}\\}$），基于这些汇总计数，计算干预对覆盖范围公平性效应的标准双重差分估计值。该估计值定义为少数群体覆盖范围的变化量减去多数群体覆盖范围的变化量。然后解释（用文字，而非在最终数值答案中）该干预是否减少了覆盖范围的差异。\n\n将你的最终数值答案表示为四舍五入到四位有效数字的小数。不需要单位。不要使用百分号；将所有比例表示为小数。", "solution": "在尝试提供解答之前，对问题进行验证。\n\n首先，从问题陈述中逐字提取已知条件：\n- 实施前，少数群体：$n_{\\text{eligible, pre}}^{\\text{min}} = 1800$， $n_{\\text{reached, pre}}^{\\text{min}} = 360$。\n- 实施前，多数群体：$n_{\\text{eligible, pre}}^{\\text{maj}} = 2400$， $n_{\\text{reached, pre}}^{\\text{maj}} = 840$。\n- 实施后，少数群体：$n_{\\text{eligible, post}}^{\\text{min}} = 2000$， $n_{\\text{reached, post}}^{\\text{min}} = 800$。\n- 实施后，多数群体：$n_{\\text{eligible, post}}^{\\text{maj}} = 2600$， $n_{\\text{reached, post}}^{\\text{maj}} = 1170$。\n- 群体层面覆盖范围的定义：$R_{g,t} = \\frac{n_{\\text{reached}, t}^{g}}{n_{\\text{eligible}, t}^{g}}$，其中群体 $g \\in \\{\\text{min}, \\text{maj}\\}$，时间 $t \\in \\{\\text{pre}, \\text{post}\\}$。\n- 待计算量的定义：干预对公平性效应的标准双重差分（DiD）估计值，定义为少数群体覆盖范围的变化量减去多数群体覆盖范围的变化量。\n- 要求的输出格式：四舍五入到四位有效数字的小数。\n\n对问题的有效性进行评估。它具有科学依据，采用了标准的双重差分方法，这是生物统计学和实施科学中一种成熟的准实验设计。RE-AIM 框架也是该领域的标准。该问题提法得当，为获得唯一解提供了所有必要的数据和定义。语言客观而精确。数据内部一致（例如，$n_{\\text{reached}} \\le n_{\\text{eligible}}$），并且对于一个多中心临床项目来说是合理的。因此，该问题被认为是有效的，并将提供解答。\n\n目标是计算针对覆盖范围公平性效应的双重差分（DiD）估计值。DiD 估计值定义为干预前后，目标群体（少数群体患者）与对照群体（多数群体患者）之间结果变化的差异。\n\n设 $R_{g,t}$ 为群体 $g$ 在时间 $t$ 的覆盖范围。首先计算所需的四个覆盖比例。\n\n实施前时期少数群体的覆盖范围为：\n$$R_{\\text{min, pre}} = \\frac{n_{\\text{reached, pre}}^{\\text{min}}}{n_{\\text{eligible, pre}}^{\\text{min}}} = \\frac{360}{1800} = 0.2$$\n\n实施前时期多数群体的覆盖范围为：\n$$R_{\\text{maj, pre}} = \\frac{n_{\\text{reached, pre}}^{\\text{maj}}}{n_{\\text{eligible, pre}}^{\\text{maj}}} = \\frac{840}{2400} = 0.35$$\n\n实施后时期少数群体的覆盖范围为：\n$$R_{\\text{min, post}} = \\frac{n_{\\text{reached, post}}^{\\text{min}}}{n_{\\text{eligible, post}}^{\\text{min}}} = \\frac{800}{2000} = 0.4$$\n\n实施后时期多数群体的覆盖范围为：\n$$R_{\\text{maj, post}} = \\frac{n_{\\text{reached, post}}^{\\text{maj}}}{n_{\\text{eligible, post}}^{\\text{maj}}} = \\frac{1170}{2600} = 0.45$$\n\n接下来，我们计算每个群体从实施前到实施后时期的覆盖范围变化。\n少数群体的变化量 $\\Delta R_{\\text{min}}$ 为：\n$$\\Delta R_{\\text{min}} = R_{\\text{min, post}} - R_{\\text{min, pre}} = 0.4 - 0.2 = 0.2$$\n\n多数群体的变化量 $\\Delta R_{\\text{maj}}$ 为：\n$$\\Delta R_{\\text{maj}} = R_{\\text{maj, post}} - R_{\\text{maj, pre}} = 0.45 - 0.35 = 0.1$$\n\n标准的双重差分估计值 $\\text{DiD}$ 是这两个变化量之差：\n$$\\text{DiD} = \\Delta R_{\\text{min}} - \\Delta R_{\\text{maj}}$$\n代入计算出的值：\n$$\\text{DiD} = 0.2 - 0.1 = 0.1$$\n\n解释：\n实施前，覆盖范围的差异为 $R_{\\text{maj, pre}} - R_{\\text{min, pre}} = 0.35 - 0.20 = 0.15$，这意味着多数群体的覆盖率比少数群体高 $15$ 个百分点。干预后，两个群体的覆盖范围都有所改善，但少数群体的改善程度（$\\Delta R_{\\text{min}} = +0.20$）大于多数群体（$\\Delta R_{\\text{maj}} = +0.10$）。实施后的差异为 $R_{\\text{maj, post}} - R_{\\text{min, post}} = 0.45 - 0.40 = 0.05$，即 $5$ 个百分点。$0.1$ 的正向 $\\text{DiD}$ 估计值表明，该干预措施与将覆盖范围的公平性差距缩小 $10$ 个百分点相关。这是少数群体结果变化中，超出在多数群体中观察到的长期趋势的部分，因此在平行趋势假设下，这部分变化归因于干预措施提升公平性的效应。\n\n最终数值答案必须表示为四舍五入到四位有效数字的小数。计算值为 $0.1$。为了用四位有效数字表示，我们写作 $0.1000$。", "answer": "$$\\boxed{0.1000}$$", "id": "5052259"}]}