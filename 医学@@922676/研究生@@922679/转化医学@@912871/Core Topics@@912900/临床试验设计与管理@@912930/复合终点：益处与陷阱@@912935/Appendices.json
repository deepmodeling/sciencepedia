{"hands_on_practices": [{"introduction": "本练习旨在为复合终点的分析奠定数学基础。它从基本概率公理出发，推导在各组分事件相互独立这一简化假设下的复合事件率。通过这项实践，您可以将概率论与临床试验设计（例如样本量估算）联系起来，并掌握计算预期事件数的关键技能[@problem_id:5001500]。", "problem": "一项心血管转化医学领域的III期随机、双盲临床试验设计了一个复合终点，该终点包括一年内的非致死性心肌梗死和非致死性缺血性卒中。复合终点通常用于通过汇总多个具有临床意义的事件来提高统计效率，但它们需要清晰的操作性定义。设每位患者的心肌梗死和卒中组分事件指标为独立的伯努利随机变量，其概率分别为 $p_1$ 和 $p_2$。为便于本次计算，假定事件是独立的；在实践中，相关性是一个潜在的陷阱，可能导致复合率产生偏倚。\n\n从概率公理和事件并集的概率定义出发，推导在独立性假设下发生至少一个组分事件的概率。然后，计算当 $p_1=0.10$ 和 $p_2=0.15$ 时的复合事件率。最后，利用一个试验组中独立同分布伯努利随机变量之和的期望值定义，估计在一个包含 $N=1000$ 名参与者的试验组中，复合终点事件的期望数量。\n\n将复合事件率表示为小数，将期望事件数表示为计数。提供精确值，不要四舍五入。将你的最终答案以行矩阵 $\\begin{pmatrix}\\text{复合率}  \\text{每组期望事件数}\\end{pmatrix}$ 的形式给出，矩阵内不含单位。", "solution": "所提出的问题具有科学依据，是良定的，并包含了完整解答所需的所有信息。它要求基于概率论的基本原理，推导和计算临床试验中的复合事件率和期望事件数。\n\n令 $E_1$ 为患者发生非致死性心肌梗死的事件，$E_2$ 为患者发生非致死性缺血性卒中的事件。问题给出了这些事件的概率为 $P(E_1) = p_1$ 和 $P(E_2) = p_2$。对于每位患者，这些事件被建模为独立的伯努利随机变量。\n\n复合终点事件（我们记为 $E_C$）在至少一个组分事件发生时发生。这对应于事件 $E_1$ 和 $E_2$ 的并集。因此，复合事件的概率为 $P(E_C) = P(E_1 \\cup E_2)$。\n\n根据两个事件并集概率的容斥原理，我们有：\n$$P(E_1 \\cup E_2) = P(E_1) + P(E_2) - P(E_1 \\cap E_2)$$\n其中 $P(E_1 \\cap E_2)$ 是两个事件同时发生的概率。\n\n问题明确指出，组分事件 $E_1$ 和 $E_2$ 应被视为独立的。根据独立性的定义，两个事件交集的概率是它们各自概率的乘积：\n$$P(E_1 \\cap E_2) = P(E_1) \\times P(E_2) = p_1 p_2$$\n\n将此结果代入容斥公式，得到复合事件的推导概率，我们记为 $p_C$：\n$$p_C = P(E_C) = p_1 + p_2 - p_1 p_2$$\n\n第一个任务是使用给定值 $p_1 = 0.10$ 和 $p_2 = 0.15$ 计算该复合事件率。\n$$p_C = 0.10 + 0.15 - (0.10)(0.15)$$\n$$p_C = 0.25 - 0.015$$\n$$p_C = 0.235$$\n这就是复合事件率。\n\n第二个任务是估计一个有 $N = 1000$ 名参与者的单一试验组中复合终点事件的期望数量。设 $X_i$ 为第 $i$ 位患者的指示随机变量，其中 $i$ 的范围从 $1$ 到 $N$。我们定义，如果第 $i$ 位患者经历复合事件 $E_C$，则 $X_i = 1$，否则 $X_i = 0$。\n\n鉴于复合事件以概率 $p_C$ 发生，每个 $X_i$ 是一个参数为 $p_C$ 的伯努利随机变量。其概率质量函数为 $P(X_i=1) = p_C$ 和 $P(X_i=0) = 1 - p_C$。单个此类伯努利随机变量的期望值为：\n$$E[X_i] = (1 \\times P(X_i=1)) + (0 \\times P(X_i=0)) = p_C$$\n\n该组中复合事件的总数是这些单个指示变量的和：$S_N = \\sum_{i=1}^{N} X_i$。我们需要求这个和的期望值 $E[S_N]$。\n\n根据期望的线性性，随机变量之和的期望等于它们各自期望之和。无论变量是否独立，此性质都成立。\n$$E[S_N] = E\\left[\\sum_{i=1}^{N} X_i\\right] = \\sum_{i=1}^{N} E[X_i]$$\n\n由于患者被视为独立同分布(i.i.d.)试验，因此每个患者指示变量的期望是相同的：$E[X_i] = p_C$ 对所有 $i = 1, \\dots, N$ 成立。因此，总和简化为：\n$$E[S_N] = \\sum_{i=1}^{N} p_C = N p_C$$\n\n现在我们代入数值 $N=1000$ 和 $p_C = 0.235$ 来求期望事件数：\n$$E[S_N] = 1000 \\times 0.235 = 235$$\n\n该试验组中复合终点事件的期望数量是 $235$。\n\n最终答案要求以一个行矩阵的形式给出，其中包含复合事件率和每组的期望事件数。这些值分别为 $0.235$ 和 $235$。", "answer": "$$\\boxed{\\begin{pmatrix} 0.235  235 \\end{pmatrix}}$$", "id": "5001500"}, {"introduction": "这项高级练习将探讨复合终点的一个主要解读陷阱：一个在统计上显著的总体结果可能完全由临床意义较小的组分驱动。本练习提供了一种定量方法，通过将复合效应分解为各组分的特定效应，来识别观测到的治疗效果的真正驱动因素。掌握这种分解技术对于准确解释复合终点试验的结果至关重要[@problem_id:5001522]。", "problem": "一项随机对照试验 (RCT) 比较了治疗组与对照组在一个首次事件复合终点上的效果，该终点有两个互斥的组成部分：组分 $1$ 是非致命性住院，组分 $2$ 是心血管死亡。假设删失是独立的，事件是罕见的，并且在每个组内，特定原因的风险率随时间大致恒定。仅使用风险率和累积发生率的标准定义，以及对于互斥的失败类型，时间 $t$ 的复合风险率等于时间 $t$ 的特定原因风险率之和这一事实。该试验在每个组中累积了大致相等的人-时间：$P_{T} \\approx P_{C} \\approx 4000$ 人-年。观测到的计数为：对照组，$E_{1C} = 320$ 和 $E_{2C} = 80$；治疗组，$E_{1T} = 288$ 和 $E_{2T} = 56$。令 $\\beta_{j}$ 表示组分 $j \\in \\{1,2\\}$ 的对数风险比，令 $\\beta_{\\mathrm{comp}}$ 表示复合终点的对数风险比。使用第一性原理和针对罕见事件的大样本泊松近似：\n(i) 推导一个近似式，将 $\\beta_{\\mathrm{comp}}$ 表示为 $\\beta_{1}$ 和 $\\beta_{2}$ 的加权平均，权重用基线（对照组）组分风险率表示；\n(ii) 根据观测到的对照组数据计算相应的权重，并用它们从 $\\beta_{1}$ 和 $\\beta_{2}$ 预测 $\\exp(\\beta_{\\mathrm{comp}})$；\n(iii) 使用独立泊松计数下的对数率比方差公式，计算每个组分和复合终点的 Wald Z统计量，并评估任何观测到的在 $\\alpha = 0.05$ 水平上的总体统计显著性是否主要由单个组分驱动（请定量地证明你的评估）。\n哪个选项最能描述此试验的正确分解方法和基于数据的正确结论？\n\nA. 使用特定原因风险率的可加性和比例风险模型来证明 $\\beta_{\\mathrm{comp}} \\approx \\sum_{j} \\pi_{j}\\,\\beta_{j}$，其中权重为 $\\pi_{j} = \\lambda_{jC}/(\\lambda_{1C}+\\lambda_{2C})$；通过 $E_{jC}/P_{C}$ 估计 $\\lambda_{jC}$，得出 $\\pi_{1} = 0.8$ 和 $\\pi_{2} = 0.2$，并预测 $\\exp(\\beta_{\\mathrm{comp}}) \\approx \\exp\\!\\big(0.8\\log(0.90) + 0.2\\log(0.70)\\big) \\approx 0.856$，这接近于观测到的复合率比 $344/400 \\approx 0.86$。通过 $Z_{j} = \\hat{\\beta}_{j}/\\mathrm{SE}(\\hat{\\beta}_{j})$ 和 $\\mathrm{Var}(\\hat{\\beta}_{j}) \\approx 1/E_{jT} + 1/E_{jC}$ 计算每个组分的 Wald Z统计量，得出 $Z_{1} \\approx -1.30$，$Z_{2} \\approx -2.05$ 和 $Z_{\\mathrm{comp}} \\approx -2.05$。一项逐一排除组分的检查表明，排除组分 2 会导致结果不显著，而排除组分 1 结果仍然显著；因此，总体显著性主要由组分 2 驱动。\n\nB. 对风险比进行算术平均而不加权来分解，所以 $\\exp(\\beta_{\\mathrm{comp}}) \\approx \\big(\\exp(\\beta_{1}) + \\exp(\\beta_{2})\\big)/2 = (0.90 + 0.70)/2 = 0.80$，这意味着两个组分贡献相等。结论是，如果存在总体显著性，它不能归因于单个组分，因为根据构造，两者的影响相似。\n\nC. 用治疗组风险率对特定组分的对数风险比进行加权，即使用 $\\tilde{\\pi}_{j} = \\lambda_{jT}/(\\lambda_{1T}+\\lambda_{2T})$，在此处得出 $\\tilde{\\pi}_{1} \\approx 0.837$ 和 $\\tilde{\\pi}_{2} \\approx 0.163$，导致预测的复合风险比接近 $0.864$。因为组分 1 的治疗组权重较大，所以结论是复合终点的显著性主要由非致命性住院（组分 1）驱动。\n\nD. 使用子分布风险率来分解复合终点为每个组分的子分布风险比，并论证主导地位是通过哪个子分布风险比与 1 的偏差最大来评估的。结论是，子分布建模是量化首次事件复合终点驱动因素的正确框架，不需要进行逐一排除的评估。", "solution": "问题陈述被评估为有效。它在科学上基于生物统计学和临床试验分析的原理，提法恰当，信息充分，可以推导出唯一解，并且语言客观、精确。解题所需的所有假设和定义都已明确给出。\n\n任务要求：(i) 推导复合对数风险比 $\\beta_{\\mathrm{comp}}$ 的近似值，作为组分对数风险比 $\\beta_{1}$ 和 $\\beta_{2}$ 的加权平均；(ii) 计算这些权重并根据组分效应预测复合风险比；(iii) 计算 Wald Z统计量以确定任何观测到的统计显著性的驱动因素。\n\n### (i) $\\beta_{\\mathrm{comp}}$ 近似值的推导\n\n令 $\\lambda_{j,C}(t)$ 和 $\\lambda_{j,T}(t)$ 分别为对照组 (C) 和治疗组 (T) 在时间 $t$ 时组分 $j \\in \\{1,2\\}$ 的特定原因风险函数。问题陈述指出，对于互斥的组分，复合风险率是特定原因风险率的总和。\n$$ \\lambda_{\\mathrm{comp},C}(t) = \\lambda_{1,C}(t) + \\lambda_{2,C}(t) $$\n$$ \\lambda_{\\mathrm{comp},T}(t) = \\lambda_{1,T}(t) + \\lambda_{2,T}(t) $$\n比例风险模型假设每个组分的风险比不随时间变化。令 $\\exp(\\beta_{j})$ 为组分 $j$ 的风险比。\n$$ \\lambda_{j,T}(t) = \\lambda_{j,C}(t) \\exp(\\beta_{j}) $$\n如果 $\\beta_{1} \\neq \\beta_{2}$，复合终点的风险比 $\\exp(\\beta_{\\mathrm{comp}})$ 可能不随时间恒定。\n$$ \\exp(\\beta_{\\mathrm{comp}}(t)) = \\frac{\\lambda_{\\mathrm{comp},T}(t)}{\\lambda_{\\mathrm{comp},C}(t)} = \\frac{\\lambda_{1,T}(t) + \\lambda_{2,T}(t)}{\\lambda_{1,C}(t) + \\lambda_{2,C}(t)} = \\frac{\\lambda_{1,C}(t)\\exp(\\beta_{1}) + \\lambda_{2,C}(t)\\exp(\\beta_{2})}{\\lambda_{1,C}(t) + \\lambda_{2,C}(t)} $$\n我们可以将其重写为组分风险比的加权平均值：\n$$ \\exp(\\beta_{\\mathrm{comp}}(t)) = \\left(\\frac{\\lambda_{1,C}(t)}{\\lambda_{1,C}(t) + \\lambda_{2,C}(t)}\\right)\\exp(\\beta_{1}) + \\left(\\frac{\\lambda_{2,C}(t)}{\\lambda_{1,C}(t) + \\lambda_{2,C}(t)}\\right)\\exp(\\beta_{2}) $$\n令 $\\pi_{j}(t) = \\frac{\\lambda_{j,C}(t)}{\\sum_{k=1}^{2} \\lambda_{k,C}(t)}$ 为在时间 $t$ 时，可归因于组分 $j$ 的基线（对照组）复合风险率的比例。则：\n$$ \\exp(\\beta_{\\mathrm{comp}}(t)) = \\pi_{1}(t)\\exp(\\beta_{1}) + \\pi_{2}(t)\\exp(\\beta_{2}) $$\n问题陈述指出，特定原因风险率近似恒定，$\\lambda_{j,C}(t) \\approx \\lambda_{j,C}$。这意味着权重 $\\pi_{j}$ 和复合风险比 $\\exp(\\beta_{\\mathrm{comp}})$ 也近似恒定。\n$$ \\exp(\\beta_{\\mathrm{comp}}) \\approx \\pi_{1}\\exp(\\beta_{1}) + \\pi_{2}\\exp(\\beta_{2}) \\quad \\text{其中} \\quad \\pi_{j} = \\frac{\\lambda_{j,C}}{\\lambda_{1,C} + \\lambda_{2,C}} $$\n为了将 $\\beta_{\\mathrm{comp}}$ 表示为 $\\beta_{1}$ 和 $\\beta_{2}$ 的加权平均，我们取对数并在 $\\beta_{j}=0$ 附近使用一阶泰勒展开。对于小的治疗效应，$\\exp(x) \\approx 1+x$。\n$$ \\exp(\\beta_{\\mathrm{comp}}) \\approx \\pi_{1}(1+\\beta_{1}) + \\pi_{2}(1+\\beta_{2}) = (\\pi_{1}+\\pi_{2}) + \\pi_{1}\\beta_{1} + \\pi_{2}\\beta_{2} $$\n由于 $\\pi_{1}+\\pi_{2}=1$，这可以简化为 $\\exp(\\beta_{\\mathrm{comp}}) \\approx 1 + \\pi_{1}\\beta_{1} + \\pi_{2}\\beta_{2}$。\n同样，对于小的复合效应，$\\exp(\\beta_{\\mathrm{comp}}) \\approx 1 + \\beta_{\\mathrm{comp}}$。结合这些，我们得到对数尺度上所需的线性近似：\n$$ \\beta_{\\mathrm{comp}} \\approx \\pi_{1}\\beta_{1} + \\pi_{2}\\beta_{2} $$\n这与选项A中提出的公式相符。\n\n### (ii) 权重的计算与预测\n\n问题陈述要求对罕见事件使用大样本泊松近似，其中恒定风险率 $\\lambda$ 通过总事件数与总人-时间的比值 $E/P$ 来估计。\n给定数据：$P_{T} \\approx P_{C} \\approx 4000$ 人-年。\n对照组事件：$E_{1C} = 320$，$E_{2C} = 80$。\n治疗组事件：$E_{1T} = 288$，$E_{2T} = 56$。\n\n首先，我们估计基线（对照组）的特定原因风险率：\n$$ \\hat{\\lambda}_{1C} = \\frac{E_{1C}}{P_{C}} = \\frac{320}{4000} = 0.08 \\text{ 事件/人-年} $$\n$$ \\hat{\\lambda}_{2C} = \\frac{E_{2C}}{P_{C}} = \\frac{80}{4000} = 0.02 \\text{ 事件/人-年} $$\n接下来，我们根据这些估计的基线风险率计算权重 $\\pi_{j}$：\n$$ \\hat{\\pi}_{1} = \\frac{\\hat{\\lambda}_{1C}}{\\hat{\\lambda}_{1C} + \\hat{\\lambda}_{2C}} = \\frac{0.08}{0.08 + 0.02} = \\frac{0.08}{0.10} = 0.8 $$\n$$ \\hat{\\pi}_{2} = \\frac{\\hat{\\lambda}_{2C}}{\\hat{\\lambda}_{1C} + \\hat{\\lambda}_{2C}} = \\frac{0.02}{0.08 + 0.02} = \\frac{0.02}{0.10} = 0.2 $$\n现在，我们估计特定组分的对数风险比 $\\beta_{j}$。风险比 $HR_{j}$ 通过率比 $RR_{j}$ 来估计。\n$$ \\widehat{HR}_{1} = \\frac{\\hat{\\lambda}_{1T}}{\\hat{\\lambda}_{1C}} = \\frac{E_{1T}/P_{T}}{E_{1C}/P_{C}} = \\frac{288/4000}{320/4000} = \\frac{288}{320} = 0.90 \\implies \\hat{\\beta}_{1} = \\log(0.90) \\approx -0.10536 $$\n$$ \\widehat{HR}_{2} = \\frac{\\hat{\\lambda}_{2T}}{\\hat{\\lambda}_{2C}} = \\frac{E_{2T}/P_{T}}{E_{2C}/P_{C}} = \\frac{56/4000}{80/4000} = \\frac{56}{80} = 0.70 \\implies \\hat{\\beta}_{2} = \\log(0.70) \\approx -0.35667 $$\n使用推导出的近似式，我们预测 $\\exp(\\beta_{\\mathrm{comp}})$：\n$$ \\exp(\\beta_{\\mathrm{comp}}) \\approx \\exp(\\hat{\\pi}_{1}\\hat{\\beta}_{1} + \\hat{\\pi}_{2}\\hat{\\beta}_{2}) = \\exp(0.8 \\times \\log(0.90) + 0.2 \\times \\log(0.70)) $$\n$$ \\exp(0.8 \\times (-0.10536) + 0.2 \\times (-0.35667)) = \\exp(-0.08429 - 0.07133) = \\exp(-0.15562) \\approx 0.8559 $$\n这个预测值约为 $0.856$。作为比较，观测到的复合风险比为：\n$$ \\widehat{HR}_{\\mathrm{comp}} = \\frac{(E_{1T}+E_{2T})/P_{T}}{(E_{1C}+E_{2C})/P_{C}} = \\frac{(288+56)/4000}{(320+80)/4000} = \\frac{344}{400} = 0.86 $$\n预测值 $0.856$ 与观测值 $0.86$ 非常接近。\n\n### (iii) Wald Z统计量及显著性驱动因素评估\n\nWald统计量为 $Z = \\hat{\\beta} / \\mathrm{SE}(\\hat{\\beta})$，其中 $\\mathrm{SE}(\\hat{\\beta}) = \\sqrt{\\mathrm{Var}(\\hat{\\beta})}$。问题指定了来自独立泊松计数的对数率比的方差公式：$\\mathrm{Var}(\\hat{\\beta}) \\approx 1/E_{T} + 1/E_{C}$。\n\n对于组分 1（非致命性住院）：\n- $\\hat{\\beta}_{1} \\approx -0.10536$\n- $\\mathrm{Var}(\\hat{\\beta}_{1}) \\approx \\frac{1}{E_{1T}} + \\frac{1}{E_{1C}} = \\frac{1}{288} + \\frac{1}{320} \\approx 0.003472 + 0.003125 = 0.006597$\n- $\\mathrm{SE}(\\hat{\\beta}_{1}) \\approx \\sqrt{0.006597} \\approx 0.08122$\n- $Z_{1} = \\frac{-0.10536}{0.08122} \\approx -1.30$\n\n对于组分 2（心血管死亡）：\n- $\\hat{\\beta}_{2} \\approx -0.35667$\n- $\\mathrm{Var}(\\hat{\\beta}_{2}) \\approx \\frac{1}{E_{2T}} + \\frac{1}{E_{2C}} = \\frac{1}{56} + \\frac{1}{80} \\approx 0.017857 + 0.0125 = 0.030357$\n- $\\mathrm{SE}(\\hat{\\beta}_{2}) \\approx \\sqrt{0.030357} \\approx 0.17423$\n- $Z_{2} = \\frac{-0.35667}{0.17423} \\approx -2.05$\n\n对于复合终点：\n- 总事件数：$E_{\\mathrm{comp},T} = 344$，$E_{\\mathrm{comp},C} = 400$。\n- $\\hat{\\beta}_{\\mathrm{comp}} = \\log(344/400) = \\log(0.86) \\approx -0.15082$\n- $\\mathrm{Var}(\\hat{\\beta}_{\\mathrm{comp}}) \\approx \\frac{1}{E_{\\mathrm{comp},T}} + \\frac{1}{E_{\\mathrm{comp},C}} = \\frac{1}{344} + \\frac{1}{400} \\approx 0.002907 + 0.0025 = 0.005407$\n- $\\mathrm{SE}(\\hat{\\beta}_{\\mathrm{comp}}) \\approx \\sqrt{0.005407} \\approx 0.07353$\n- $Z_{\\mathrm{comp}} = \\frac{-0.15082}{0.07353} \\approx -2.05$\n\n对于双侧显著性水平 $\\alpha = 0.05$，$Z$-统计量的临界值为 $z_{1-\\alpha/2} = z_{0.975} \\approx 1.96$。我们检验是否 $|Z|  1.96$。\n- 组分 1：$|Z_{1}| \\approx 1.30  1.96$。无统计学显著性。\n- 组分 2：$|Z_{2}| \\approx 2.05  1.96$。有统计学显著性。\n- 复合终点：$|Z_{\\mathrm{comp}}| \\approx 2.05  1.96$。有统计学显著性。\n\n复合终点的总体显著性（$Z_{\\mathrm{comp}} \\approx -2.05$）与组分 2 的显著性（$Z_{2} \\approx -2.05$）几乎相同，而组分 1 不显著（$Z_{1} \\approx -1.30$）。一项“逐一排除组分”的分析证实了这一点：如果我们排除组分 2，剩下的终点（组分 1）不显著。如果我们排除组分 1，剩下的终点（组分 2）显著。因此，治疗对复合终点效果的统计显著性主要由其对组分 2（心血管死亡）的效果驱动。\n\n### 选项评估\n\n**A. 使用特定原因风险率的可加性和比例风险模型来证明 $\\beta_{\\mathrm{comp}} \\approx \\sum_{j} \\pi_{j}\\,\\beta_{j}$，其中权重为 $\\pi_{j} = \\lambda_{jC}/(\\lambda_{1C}+\\lambda_{2C})$；通过 $E_{jC}/P_{C}$ 估计 $\\lambda_{jC}$，得出 $\\pi_{1} = 0.8$ 和 $\\pi_{2} = 0.2$，并预测 $\\exp(\\beta_{\\mathrm{comp}}) \\approx \\exp\\!\\big(0.8\\log(0.90) + 0.2\\log(0.70)\\big) \\approx 0.856$，这接近于观测到的复合率比 $344/400 \\approx 0.86$。通过 $Z_{j} = \\hat{\\beta}_{j}/\\mathrm{SE}(\\hat{\\beta}_{j})$ 和 $\\mathrm{Var}(\\hat{\\beta}_{j}) \\approx 1/E_{jT} + 1/E_{jC}$ 计算每个组分的 Wald Z统计量，得出 $Z_{1} \\approx -1.30$，$Z_{2} \\approx -2.05$ 和 $Z_{\\mathrm{comp}} \\approx -2.05$。一项逐一排除组分的检查表明，排除组分 2 会导致结果不显著，而排除组分 1 结果仍然显著；因此，总体显著性主要由组分 2 驱动。**\n此选项正确陈述了理论推导、权重、数值预测、Z统计量以及基于可靠定量评估的最终解释。所有计算都与我们的分析一致。\n**结论：正确。**\n\n**B. 对风险比进行算术平均而不加权来分解，所以 $\\exp(\\beta_{\\mathrm{comp}}) \\approx \\big(\\exp(\\beta_{1}) + \\exp(\\beta_{2})\\big)/2 = (0.90 + 0.70)/2 = 0.80$，这意味着两个组分贡献相等。结论是，如果存在总体显著性，它不能归因于单个组分，因为根据构造，两者的影响相似。**\n此选项使用了不正确的分解方法。每个组分对复合风险比的贡献是由其在基线风险中所占的比例加权的，而不是算术平均。计算得出 $0.80$，这是对观测值 $0.86$ 的一个很差的近似。结论是有缺陷的。\n**结论：不正确。**\n\n**C. 用治疗组风险率对特定组分的对数风险比进行加权，即使用 $\\tilde{\\pi}_{j} = \\lambda_{jT}/(\\lambda_{1T}+\\lambda_{2T})$，在此处得出 $\\tilde{\\pi}_{1} \\approx 0.837$ 和 $\\tilde{\\pi}_{2} \\approx 0.163$，导致预测的复合风险比接近 $0.864$。因为组分 1 的治疗组权重较大，所以结论是复合终点的显著性主要由非致命性住院（组分 1）驱动。**\n此选项使用了非标准的加权方案（按治疗组风险率加权）。标准的分解是基于对照组（基线）风险率。更关键的是，其结论是谬误的：它错误地将显著性的驱动力归因于权重最大的组分，而忽略了特定组分治疗效应的大小和统计显著性。组分 1 并不具有统计显著性。\n**结论：不正确。**\n\n**D. 使用子分布风险率来分解复合终点为每个组分的子分布风险比，并论证主导地位是通过哪个子分布风险比与 1 的偏差最大来评估的。结论是，子分布建模是量化首次事件复合终点驱动因素的正确框架，不需要进行逐一排除的评估。**\n此选项引入了一个不同的建模框架（用于竞争风险的子分布风险率），这与基于特定原因风险率的问题设定不一致。问题的假设陈述了复合风险率是特定原因风险率的总和，而这对于子分布风险率是不成立的。虽然子分布风险模型是处理竞争风险的有效工具，但它们不是问题所指定或要求的内容。\n**结论：不正确。**\n\n基于此分析，选项 A 是唯一一个按照问题要求，提出了方法学上可靠的推导、正确的计算和有效的结果解释的选项。", "answer": "$$\\boxed{A}$$", "id": "5001522"}, {"introduction": "在转化医学中，确保试验结论的稳健性至关重要，尤其当复合终点包含“软终点”（如患者报告的症状）和“硬终点”（如死亡率）时。本练习将指导您如何通过系统地排除较主观或有争议的组分来进行敏感性分析。这项实践旨在检验研究的主要结论是否会因此改变，从而评估结果的可靠性与稳定性[@problem_id:5001527]。", "problem": "一项转化医学中的随机对照试验（Randomized Controlled Trial, RCT）评估一种疗法，该疗法使用为期 $12$ 个月的首次事件复合终点。该复合终点包括四个组成部分：全因死亡率、非致死性心肌梗死、因不稳定型心绞痛住院以及患者报告的症状恶化。该试验是均衡的，治疗组 $N_{\\text{treat}} = 1000$ 人，对照组 $N_{\\text{control}} = 1000$ 人。首次事件亚型计数（每位参与者最多贡献一次首次事件，并按亚型唯一分类）如下：\n\n- 治疗组：死亡 $= 35$，非致死性心肌梗死 $= 50$，住院 $= 120$，症状恶化 $= 90$。\n- 对照组：死亡 $= 45$，非致死性心肌梗死 $= 70$，住院 $= 150$，症状恶化 $= 100$。\n\n在转化医学中，复合终点可以通过增加总事件率来提高效率，但可能在“较软”的组成部分中容易受到确定或测量偏倚的影响。假设因不稳定型心绞痛住院和患者报告的症状恶化因潜在的确定偏倚而被认为是有争议的组成部分。\n\n仅使用基本定义——复合终点作为在 $12$ 个月内发生至少一种指定事件的指标；风险比作为组间累积发生率比例的比值；以及对数风险比的大样本正态近似——进行敏感性分析，该分析 (i) 排除两个有争议的组成部分，(ii) 仅排除患者报告的症状恶化，以及 (iii) 仅排除住院。评估治疗效果和结论在这些分析中是否稳定。哪个选项最能恰当地陈述敏感性分析的执行方式以及由此产生的定量和定性结论？\n\nA. 根据首次事件亚型计数，主要复合终点（所有四个组成部分）的 $12$ 个月累积发生率在治疗组中为 $0.295$，在对照组中为 $0.365$，得出的风险比 $\\text{RR}_{\\text{all}} \\approx 0.808$，其 $95\\%$ 置信区间（Confidence Interval, CI）约为 $(0.713, 0.917)$。排除住院和症状恶化两项，得出“硬”终点风险比 $\\text{RR}_{\\text{hard}} \\approx 0.739$，其 $95\\%$ CI 为 $(0.565, 0.964)$。仅排除症状恶化，得出 $\\text{RR} \\approx 0.774$，其 $95\\%$ CI 为 $(0.660, 0.908)$；仅排除住院，得出 $\\text{RR} \\approx 0.814$，其 $95\\%$ CI 为 $(0.681, 0.974)$。在所有这些分析中，效应方向和统计学显著性均保持不变，这支持了治疗效果的稳定性，并且结论并非仅由有争议的组成部分驱动。\n\nB. 敏感性分析应分别重新计算每个组成部分的风险比，然后对其进行荟萃分析，因为在排除某些组成部分后，由于被移除组成部分的信息性删失，复合效应无法估计；因此，无法得出关于复合效应的结论。\n\nC. 由于排除组成部分会改变被估量（estimand），风险比的任何变化都会使试验无效；适当的方法是保留原始复合终点，并评估亚组异质性，而不是进行敏感性分析。\n\nD. 排除有争议的组成部分必然会将效应削弱至不显著；因此，一旦移除了住院和患者报告的症状恶化，试验的结论就不再稳健。", "solution": "## 问题验证\n\n### 步骤 1：提取已知条件\n- 试验类型：一项转化医学中的随机对照试验（RCT）。\n- 终点：为期 $12$ 个月的首次事件复合终点。\n- 复合终点组成部分：全因死亡率、非致死性心肌梗死、因不稳定型心绞痛住院以及患者报告的症状恶化。\n- 样本量：$N_{\\text{treat}} = 1000$ 和 $N_{\\text{control}} = 1000$。\n- 首次事件亚型计数（治疗组）：死亡 = $35$，非致死性心肌梗死 = $50$，住院 = $120$，症状恶化 = $90$。\n- 首次事件亚型计数（对照组）：死亡 = $45$，非致死性心肌梗死 = $70$，住院 = $150$，症状恶化 = $100$。\n- 有争议的组成部分：因不稳定型心绞痛住院和患者报告的症状恶化被认为可能存在偏倚。\n- 要求的分析：通过 (i) 排除两个有争议的组成部分，(ii) 仅排除患者报告的症状恶化，以及 (iii) 仅排除住院来进行敏感性分析。\n- 定义：复合终点是在 $12$ 个月内发生至少一次事件的指标；风险比是累积发生率比例的比值；使用对数风险比的大样本正态近似。\n\n### 步骤 2：使用提取的已知条件进行验证\n问题陈述在科学上是合理的、定义明确的且客观的。\n- **科学依据：** 该问题是生物统计学中的一个标准练习，特别是关于复合终点的临床试验数据分析。风险比（$\\text{RR}$）、置信区间（$\\text{CI}$）、敏感性分析以及“硬”终点（如死亡率）和“软”终点（如患者报告）之间的区别等概念，在转化医学和流行病学中都是基础且公认的。没有违反科学原则之处。\n- **定义明确：** 所有必要的数据（两组的事件计数和样本量）都已提供。用于计算点估计（$\\text{RR}$）和置信区间（$\\log(\\text{RR})$ 的大样本正态近似）的统计方法已明确定义。任务清晰明确，可以得出唯一且稳定的解。\n- **客观性和一致性：** 问题以客观、技术性的语言表述。数据内部一致；例如，每组的总事件数（治疗组 $295$ 例，对照组 $365$ 例）小于总样本量（$1000$），这合乎逻辑。“首次事件亚型计数”的假设至关重要且明确说明，排除了对单个参与者的重复计数。问题设置没有矛盾或含糊之处。\n\n### 步骤 3：结论与行动\n该问题是有效的。将推导完整解法。\n\n## 推导与选项分析\n\n核心任务是为四种不同的复合终点定义计算风险比（$\\text{RR}$）及其 $95\\%$ 置信区间（$\\text{CI}$）。通用公式如下：\n\n设 $E_{\\text{treat}}$ 和 $E_{\\text{control}}$ 分别为在给定复合终点定义下，治疗组和对照组的首次事件总数。设样本量为 $N_{\\text{treat}} = 1000$ 和 $N_{\\text{control}} = 1000$。\n\n累积发生率（风险）为 $p = E/N$。\n风险比为 $\\text{RR} = p_{\\text{treat}} / p_{\\text{control}} = (E_{\\text{treat}}/N_{\\text{treat}}) / (E_{\\text{control}}/N_{\\text{control}})$。\n对数风险比 $\\ln(\\text{RR})$ 的标准误由以下公式给出：\n$$ \\text{SE}(\\ln(\\text{RR})) = \\sqrt{\\frac{N_{\\text{treat}} - E_{\\text{treat}}}{E_{\\text{treat}} N_{\\text{treat}}} + \\frac{N_{\\text{control}} - E_{\\text{control}}}{E_{\\text{control}} N_{\\text{control}}}} $$\n$\\text{RR}$ 的 $95\\%$ CI 是通过首先计算 $\\ln(\\text{RR})$ 的 CI，即 $\\ln(\\text{RR}) \\pm 1.96 \\times \\text{SE}(\\ln(\\text{RR}))$，然后对下限和上限取指数来计算的。\n\n### 情景 1：主要复合终点（所有四个组成部分）\n- 治疗组事件数：$E_{\\text{treat}} = 35 (\\text{死亡}) + 50 (\\text{心梗}) + 120 (\\text{住院}) + 90 (\\text{症状}) = 295$。\n- 对照组事件数：$E_{\\text{control}} = 45 (\\text{死亡}) + 70 (\\text{心梗}) + 150 (\\text{住院}) + 100 (\\text{症状}) = 365$。\n- 累积发生率：\n  - $p_{\\text{treat}} = 295 / 1000 = 0.295$。\n  - $p_{\\text{control}} = 365 / 1000 = 0.365$。\n- 风险比：$\\text{RR}_{\\text{all}} = 0.295 / 0.365 \\approx 0.8082$。\n- $\\ln(\\text{RR}_{\\text{all}}) \\approx \\ln(0.8082) \\approx -0.2129$。\n- 标准误：\n  $$ \\text{SE}(\\ln(\\text{RR}_{\\text{all}})) = \\sqrt{\\frac{1000 - 295}{295 \\cdot 1000} + \\frac{1000 - 365}{365 \\cdot 1000}} = \\sqrt{\\frac{705}{295000} + \\frac{635}{365000}} \\approx \\sqrt{0.002390 + 0.001740} = \\sqrt{0.004130} \\approx 0.06426 $$\n- $\\ln(\\text{RR}_{\\text{all}})$ 的 $95\\%$ CI：$-0.2129 \\pm 1.96 \\cdot 0.06426 \\Rightarrow -0.2129 \\pm 0.12595 \\Rightarrow [-0.33885, -0.08695]$。\n- $\\text{RR}_{\\text{all}}$ 的 $95\\%$ CI：$[\\exp(-0.33885), \\exp(-0.08695)] \\approx [0.7126, 0.9167]$。\n\n### 敏感性分析 (i)：排除两个有争议的组成部分（住院和症状恶化）\n这是“硬”终点复合（死亡，非致死性心肌梗死）。\n- 治疗组事件数：$E_{\\text{treat}} = 35 + 50 = 85$。\n- 对照组事件数：$E_{\\text{control}} = 45 + 70 = 115$。\n- 累积发生率：$p_{\\text{treat}} = 0.085$，$p_{\\text{control}} = 0.115$。\n- 风险比：$\\text{RR}_{\\text{hard}} = 0.085 / 0.115 \\approx 0.7391$。\n- $\\ln(\\text{RR}_{\\text{hard}}) \\approx \\ln(0.7391) \\approx -0.3023$。\n- 标准误：\n  $$ \\text{SE}(\\ln(\\text{RR}_{\\text{hard}})) = \\sqrt{\\frac{1000 - 85}{85 \\cdot 1000} + \\frac{1000 - 115}{115 \\cdot 1000}} = \\sqrt{\\frac{915}{85000} + \\frac{885}{115000}} \\approx \\sqrt{0.010765 + 0.007696} = \\sqrt{0.018461} \\approx 0.13587 $$\n- $\\ln(\\text{RR}_{\\text{hard}})$ 的 $95\\%$ CI：$-0.3023 \\pm 1.96 \\cdot 0.13587 \\Rightarrow -0.3023 \\pm 0.26631 \\Rightarrow [-0.56861, -0.03599]$。\n- $\\text{RR}_{\\text{hard}}$ 的 $95\\%$ CI：$[\\exp(-0.56861), \\exp(-0.03599)] \\approx [0.5663, 0.9647]$。\n\n### 敏感性分析 (ii)：仅排除症状恶化\n- 治疗组事件数：$E_{\\text{treat}} = 295 - 90 = 205$。\n- 对照组事件数：$E_{\\text{control}} = 365 - 100 = 265$。\n- 累积发生率：$p_{\\text{treat}} = 0.205$，$p_{\\text{control}} = 0.265$。\n- 风险比：$\\text{RR} = 0.205 / 0.265 \\approx 0.7736$。\n- $\\ln(\\text{RR}) \\approx \\ln(0.7736) \\approx -0.2567$。\n- 标准误：\n  $$ \\text{SE}(\\ln(\\text{RR})) = \\sqrt{\\frac{1000 - 205}{205 \\cdot 1000} + \\frac{1000 - 265}{265 \\cdot 1000}} = \\sqrt{\\frac{795}{205000} + \\frac{735}{265000}} \\approx \\sqrt{0.003878 + 0.002774} = \\sqrt{0.006652} \\approx 0.08156 $$\n- $\\ln(\\text{RR})$ 的 $95\\%$ CI：$-0.2567 \\pm 1.96 \\cdot 0.08156 \\Rightarrow -0.2567 \\pm 0.15986 \\Rightarrow [-0.41656, -0.09684]$。\n- $\\text{RR}$ 的 $95\\%$ CI：$[\\exp(-0.41656), \\exp(-0.09684)] \\approx [0.6593, 0.9077]$。\n\n### 敏感性分析 (iii)：仅排除住院\n- 治疗组事件数：$E_{\\text{treat}} = 295 - 120 = 175$。\n- 对照组事件数：$E_{\\text{control}} = 365 - 150 = 215$。\n- 累积发生率：$p_{\\text{treat}} = 0.175$，$p_{\\text{control}} = 0.215$。\n- 风险比：$\\text{RR} = 0.175 / 0.215 \\approx 0.8140$。\n- $\\ln(\\text{RR}) \\approx \\ln(0.8140) \\approx -0.2058$。\n- 标准误：\n  $$ \\text{SE}(\\ln(\\text{RR})) = \\sqrt{\\frac{1000 - 175}{175 \\cdot 1000} + \\frac{1000 - 215}{215 \\cdot 1000}} = \\sqrt{\\frac{825}{175000} + \\frac{785}{215000}} \\approx \\sqrt{0.004714 + 0.003651} = \\sqrt{0.008365} \\approx 0.09146 $$\n- $\\ln(\\text{RR})$ 的 $95\\%$ CI：$-0.2058 \\pm 1.96 \\cdot 0.09146 \\Rightarrow -0.2058 \\pm 0.17926 \\Rightarrow [-0.38506, -0.02654]$。\n- $\\text{RR}$ 的 $95\\%$ CI：$[\\exp(-0.38506), \\exp(-0.02654)] \\approx [0.6804, 0.9738]$。\n\n### 选项评估\n\n**A. 根据首次事件亚型计数，主要复合终点（所有四个组成部分）的 $12$ 个月累积发生率在治疗组中为 $0.295$，在对照组中为 $0.365$，得出的风险比 $\\text{RR}_{\\text{all}} \\approx 0.808$，其 $95\\%$ 置信区间（Confidence Interval, CI）约为 $(0.713, 0.917)$。排除住院和症状恶化两项，得出“硬”终点风险比 $\\text{RR}_{\\text{hard}} \\approx 0.739$，其 $95\\%$ CI 为 $(0.565, 0.964)$。仅排除症状恶化，得出 $\\text{RR} \\approx 0.774$，其 $95\\%$ CI 为 $(0.660, 0.908)$；仅排除住院，得出 $\\text{RR} \\approx 0.814$，其 $95\\%$ CI 为 $(0.681, 0.974)$。在所有这些分析中，效应方向和统计学显著性均保持不变，这支持了治疗效果的稳定性，并且结论并非仅由有争议的组成部分驱动。**\n- **定量评估：** 此选项中呈现的数值结果与我们推导的值几乎完全一致（差异由四舍五入引起）：\n  - 主要终点：$p_{\\text{treat}} = 0.295$，$p_{\\text{control}} = 0.365$，$\\text{RR}_{\\text{all}} \\approx 0.808$，CI $(0.713, 0.917)$。我们的值：$\\text{RR} \\approx 0.8082$，CI $[0.7126, 0.9167]$。这相符。\n  - 硬终点：$\\text{RR}_{\\text{hard}} \\approx 0.739$，CI $(0.565, 0.964)$。我们的值：$\\text{RR} \\approx 0.7391$，CI $[0.5663, 0.9647]$。这相符。\n  - 无症状恶化：$\\text{RR} \\approx 0.774$，CI $(0.660, 0.908)$。我们的值：$\\text{RR} \\approx 0.7736$，CI $[0.6593, 0.9077]$。这相符。\n  - 无住院：$\\text{RR} \\approx 0.814$，CI $(0.681, 0.974)$。我们的值：$\\text{RR} \\approx 0.8140$，CI $[0.6804, 0.9738]$。这相符。\n- **定性评估：** 该选项的结论是效应方向和统计学显著性均得以保留。我们的计算表明，在所有四种情景中，$\\text{RR}$ 的点估计值均小于 $1.0$，表明效应方向一致（治疗有益）。此外，在所有四项分析中，$95\\%$ CI 的上限均小于 $1.0$（分别为 $0.917, 0.964, 0.908, 0.974$），这意味着在每种情况下，结果在 $\\alpha = 0.05$ 的水平上都保持统计学显著。结论认为这支持了治疗效果的稳定性，是对稳健的敏感性分析的正确解读。\n- **结论：** 正确。\n\n**B. 敏感性分析应分别重新计算每个组成部分的风险比，然后对其进行荟萃分析，因为在排除某些组成部分后，由于被移除组成部分的信息性删失，复合效应无法估计；因此，无法得出关于复合效应的结论。**\n- **评估：** 这个选项提出了一个有缺陷的方法论论点。虽然单独分析各组成部分是检查效应同质性的有效方法，但这并非敏感性分析的唯一形式。其主要论断“由于信息性删失，排除后复合效应无法估计”在当前背景下是错误的。问题指定了在固定时间点（$12$ 个月）进行累积发生率分析，这是一种比例分析（$E/N$）。在此框架下，我们只是重新定义了感兴趣的事件。对于敏感性分析，经历过被排除事件但未经历任何被包含事件的参与者，被简单地重新分类为无事件者。信息性删失的概念与事件发生时间回归模型（例如，Cox 比例风险模型）更相关，在这些模型中，非致死性事件可能会阻止观察到后续的致死性事件。对于在固定终点进行的简单风险计算，这不是一个禁止性问题。因此，该选项的前提是错误的。\n- **结论：** 错误。\n\n**C. 由于排除组成部分会改变被估量（estimand），风险比的任何变化都会使试验无效；适当的方法是保留原始复合终点，并评估亚组异质性，而不是进行敏感性分析。**\n- **评估：** 这个选项从根本上误解了敏感性分析的目的。排除组成部分确实会改变被估量（estimand，即被估计的量），但这是有意为之的。其目的是评估研究结论对于终点定义的这种变化是否稳健。如果尽管改变了被估量，定性结论（即显著获益）保持不变，这会增强对试验结果的信心。这并不会“使试验无效”。建议使用亚组分析作为替代方案也是不合逻辑的；亚组分析处理的是不同患者群体的效应修正问题，而不是终点定义的稳健性问题。\n- **结论：** 错误。\n\n**D. 排除有争议的组成部分必然会将效应削弱至不显著；因此，一旦移除了住院和患者报告的症状恶化，试验的结论就不再稳健。**\n- **评估：** 这个选项提出了一个事实性主张，而我们的计算直接反驳了这一主张。当两个有争议的组成部分都被排除（即“硬”终点分析）时，得出的风险比为 $\\text{RR}_{\\text{hard}} \\approx 0.739$，其 $95\\%$ CI 约为 $[0.566, 0.965]$。由于该置信区间不包含 $1.0$，结果仍然具有统计学显著性。该选项关于效应变得不显著的前提是错误的。因此，其结论——试验结果“不稳健”——也是错误的。实际上，情况恰恰相反：结论*是*稳健的。\n- **结论：** 错误。", "answer": "$$\\boxed{A}$$", "id": "5001527"}]}