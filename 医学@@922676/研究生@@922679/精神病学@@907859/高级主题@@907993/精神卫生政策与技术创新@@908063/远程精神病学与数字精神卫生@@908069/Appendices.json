{"hands_on_practices": [{"introduction": "在采纳一种新的数字评估工具之前，我们必须确保其测量结果与现有标准方法（如面对面评估）具有良好的一致性。本练习将引导您使用组内相关系数（Intraclass Correlation Coefficient, ICC）来量化远程精神病学评估与传统面访评估之间的一致性，这是验证新型诊断技术可靠性的关键指标。通过解决这个问题，您将理解如何从统计学上区分测量总变异中由患者真实差异贡献的部分和由测量误差贡献的部分。", "problem": "一个精神病学研究团队正在一个数字心理健康项目中评估远程精神病学评估与线下评估之间的诊断一致性。对于每位患者，其潜在的诊断严重程度被假定为一个稳定的特质，并且每种评估方式（远程精神病学或线下评估）都在同一个连续量表上对患者的该特质提供单次测量。假设采用经典测量理论模型，其中每个观测分数是真实分数与一个独立误差项之和，并且在所有患者中，真实分数遵循一个反映受试者间变异性的分布。具体而言，设患者 $i$ 通过评估方式 $j$ 的测量值模型为\n$$\nY_{ij} = T_i + \\varepsilon_{ij},\n$$\n其中 $T_i$ 是患者的真实诊断严重程度，$\\varepsilon_{ij}$ 是特定于评估方式的测量误差，其均值为 0，在不同评估方式和患者之间相互独立，且与 $T_i$ 独立。给定受试者间方差为 $\\operatorname{Var}(T_i) = \\sigma_{T}^{2} = 1.2$，方法内误差方差为 $\\operatorname{Var}(\\varepsilon_{ij}) = \\sigma_{\\varepsilon}^{2} = 0.3$，并假设远程精神病学评估和线下评估的该方差相等。\n\n仅使用这些基本假设，从此单向随机效应框架下的第一性原理出发，推导用于衡量远程精神病学和线下评估之间单次测量诊断一致性的组内相关系数（ICC）的适当形式，并根据所给定的方差计算其值。将最终答案表示为小数，并四舍五入至四位有效数字。", "solution": "题目要求在单向随机效应模型下，推导并计算两种评估方式（远程精神病学和线下评估）之间单次测量诊断一致性的组内相关系数（ICC）。\n\n首先，我们建立所给的统计模型。患者 $i$ 在评估方式 $j$ 下的观测分数 $Y_{ij}$ 由下式给出：\n$$\nY_{ij} = T_i + \\varepsilon_{ij}\n$$\n在此，$T_i$ 代表患者真实的、稳定的诊断严重程度，它是一个因患者而异的随机效应。$\\varepsilon_{ij}$ 项代表测量误差，是一个随机变量。下标 $j$ 可取 $j=1$ 代表远程精神病学评估，$j=2$ 代表线下评估。\n\n题目陈述了以下假设：\n1.  真实分数 $T_i$ 是随机变量，其方差为 $\\operatorname{Var}(T_i) = \\sigma_{T}^{2}$。这是受试者间方差。\n2.  测量误差 $\\varepsilon_{ij}$ 的均值为 $E[\\varepsilon_{ij}] = 0$，方差为 $\\operatorname{Var}(\\varepsilon_{ij}) = \\sigma_{\\varepsilon}^{2}$。这是受试者内（或误差）方差。\n3.  假设两种评估方式的误差方差相同：$\\operatorname{Var}(\\varepsilon_{i1}) = \\operatorname{Var}(\\varepsilon_{i2}) = \\sigma_{\\varepsilon}^{2}$。\n4.  误差 $\\varepsilon_{ij}$ 在不同患者（$i$）和不同评估方式（$j$）之间是独立的。\n5.  对于所有的 $i$ 和 $j$，真实分数 $T_i$ 与测量误差 $\\varepsilon_{ij}$ 是独立的。\n\n在此背景下，组内相关系数（ICC）定义为对同一受试者的两次测量值 $Y_{i1}$ 和 $Y_{i2}$ 之间的相关性。两个随机变量 $X$ 和 $Y$ 之间的相关系数 $\\rho$ 定义为 $\\rho(X, Y) = \\frac{\\operatorname{Cov}(X, Y)}{\\sqrt{\\operatorname{Var}(X)\\operatorname{Var}(Y)}}$。因此，对于我们的变量 $Y_{i1}$ 和 $Y_{i2}$，ICC为：\n$$\n\\text{ICC} = \\rho(Y_{i1}, Y_{i2}) = \\frac{\\operatorname{Cov}(Y_{i1}, Y_{i2})}{\\sqrt{\\operatorname{Var}(Y_{i1}) \\operatorname{Var}(Y_{i2})}}\n$$\n为了推导 ICC 的表达式，我们必须首先推导单次测量的总方差 $\\operatorname{Var}(Y_{ij})$，以及同一受试者两次测量值之间的协方差 $\\operatorname{Cov}(Y_{i1}, Y_{i2})$。\n\n让我们推导单次测量的方差 $\\operatorname{Var}(Y_{ij})$。\n由于 $Y_{ij} = T_i + \\varepsilon_{ij}$ 并且我们假设 $T_i$ 和 $\\varepsilon_{ij}$ 是独立的，它们之间的协方差为零，即 $\\operatorname{Cov}(T_i, \\varepsilon_{ij}) = 0$。\n两个随机变量之和的方差为 $\\operatorname{Var}(A+B) = \\operatorname{Var}(A) + \\operatorname{Var}(B) + 2\\operatorname{Cov}(A,B)$。\n因此，一次观测的总方差是：\n$$\n\\operatorname{Var}(Y_{ij}) = \\operatorname{Var}(T_i + \\varepsilon_{ij}) = \\operatorname{Var}(T_i) + \\operatorname{Var}(\\varepsilon_{ij}) + 2\\operatorname{Cov}(T_i, \\varepsilon_{ij})\n$$\n$$\n\\operatorname{Var}(Y_{ij}) = \\sigma_{T}^{2} + \\sigma_{\\varepsilon}^{2} + 2(0) = \\sigma_{T}^{2} + \\sigma_{\\varepsilon}^{2}\n$$\n这个总方差是受试者间方差和受试者内误差方差之和。由于两种评估方式的 $\\sigma_{\\varepsilon}^{2}$ 相同，我们有 $\\operatorname{Var}(Y_{i1}) = \\operatorname{Var}(Y_{i2}) = \\sigma_{T}^{2} + \\sigma_{\\varepsilon}^{2}$。\n\n接下来，让我们推导同一患者 $i$ 的两次测量值之间的协方差：$\\operatorname{Cov}(Y_{i1}, Y_{i2})$。\n$$\n\\operatorname{Cov}(Y_{i1}, Y_{i2}) = \\operatorname{Cov}(T_i + \\varepsilon_{i1}, T_i + \\varepsilon_{i2})\n$$\n使用协方差的双线性性质 $\\operatorname{Cov}(A+B, C+D) = \\operatorname{Cov}(A,C) + \\operatorname{Cov}(A,D) + \\operatorname{Cov}(B,C) + \\operatorname{Cov}(B,D)$, 我们得到：\n$$\n\\operatorname{Cov}(Y_{i1}, Y_{i2}) = \\operatorname{Cov}(T_i, T_i) + \\operatorname{Cov}(T_i, \\varepsilon_{i2}) + \\operatorname{Cov}(\\varepsilon_{i1}, T_i) + \\operatorname{Cov}(\\varepsilon_{i1}, \\varepsilon_{i2})\n$$\n我们根据题目的假设来评估每一项：\n- $\\operatorname{Cov}(T_i, T_i) = \\operatorname{Var}(T_i) = \\sigma_{T}^{2}$。\n- $\\operatorname{Cov}(T_i, \\varepsilon_{i2}) = 0$，因为真实分数与测量误差是独立的。\n- $\\operatorname{Cov}(\\varepsilon_{i1}, T_i) = 0$，原因相同。\n- $\\operatorname{Cov}(\\varepsilon_{i1}, \\varepsilon_{i2}) = 0$，因为测量误差在不同评估方式之间是独立的（$j=1 \\neq j=2$）。\n\n将这些代入协方差表达式：\n$$\n\\operatorname{Cov}(Y_{i1}, Y_{i2}) = \\sigma_{T}^{2} + 0 + 0 + 0 = \\sigma_{T}^{2}\n$$\n同一个体的两次测量值之间的协方差等于受试者间方 variance。\n\n现在我们可以将推导出的方差和协方差代入 ICC 公式：\n$$\n\\text{ICC} = \\frac{\\operatorname{Cov}(Y_{i1}, Y_{i2})}{\\sqrt{\\operatorname{Var}(Y_{i1}) \\operatorname{Var(Y_{i2})}}} = \\frac{\\sigma_{T}^{2}}{\\sqrt{(\\sigma_{T}^{2} + \\sigma_{\\varepsilon}^{2})(\\sigma_{T}^{2} + \\sigma_{\\varepsilon}^{2})}}\n$$\n$$\n\\text{ICC} = \\frac{\\sigma_{T}^{2}}{\\sigma_{T}^{2} + \\sigma_{\\varepsilon}^{2}}\n$$\n这就是单向随机效应模型下，用于衡量单次测量一致性的 ICC 的适当形式。它表示总方差中可归因于受试者之间真实差异的比例。这通常表示为 ICC(1) 或 ICC(A,1)。\n\n最后，我们使用给定的方差计算 ICC 的数值：\n- 受试者间方差：$\\sigma_{T}^{2} = 1.2$\n- 方法内误差方差：$\\sigma_{\\varepsilon}^{2} = 0.3$\n\n将这些值代入推导出的公式中：\n$$\n\\text{ICC} = \\frac{1.2}{1.2 + 0.3} = \\frac{1.2}{1.5}\n$$\n$$\n\\text{ICC} = \\frac{12}{15} = \\frac{4}{5} = 0.8\n$$\n题目要求答案四舍五入到四位有效数字。值 $0.8$ 是精确值；为了用四位有效数字表示，我们写作 $0.8000$。", "answer": "$$\n\\boxed{0.8000}\n$$", "id": "4765498"}, {"introduction": "在确认了评估工具的可靠性之后，下一步是衡量干预措施对患者结局的实际影响。本练习将介绍需治愈数（Number Needed to Treat, NNT），这是一个用于沟通干预措施有效性的强大且直观的指标，在本例中用于评估远程精神病学随访的临床效果。您将从第一性原理出发推导出 $NNT$ 的计算公式，从而巩固您将临床试验数据转化为实际治疗效果衡量标准的能力。", "problem": "一项多中心实用性随机对照试验评估了，与标准的线下社区随访相比，因重度抑郁症发作出院后的患者接受远程精神科随访护理是否能降低12个月内的复发率。设 $p_{C}$ 表示在标准护理下12个月内复发的累积发生率（风险），$p_{T}$ 表示在远程精神科随访护理下12个月内复发的累积发生率。绝对风险降低值定义为 $\\Delta = p_{C} - p_{T}$，根据该试验估计其值为 $\\Delta = 0.15$。\n\n仅从以下核心定义出发：(i) 风险是在固定时间范围内事件发生的概率，(ii) 绝对风险降低值是风险之差 $p_{C} - p_{T}$，以及 (iii) 需治数（NNT）是为使期望中恰好比标准护理多一个患者在指定时间范围内避免该事件而必须接受干预的患者数量，推导 NNT 关于 $\\Delta$ 的精确解析表达式，并计算当 $\\Delta = 0.15$ 时 NNT 的值。\n\n将最终答案表示为精确分数，不进行四舍五入，不带单位。", "solution": "问题要求从第一性原理推导需治数（NNT），并针对给定的绝对风险降低值 $\\Delta$ 计算其数值。\n\n题目给出的已知条件如下：\n- $p_{C}$：标准护理下12个月内复发的累积发生率（风险）。\n- $p_{T}$：远程精神科随访护理下12个月内复发的累积发生率。\n- $\\Delta = p_{C} - p_{T}$：绝对风险降低值，估计为 $\\Delta = 0.15$。\n- 定义 (i)：风险是在固定时间范围内事件发生的概率。\n- 定义 (iii)：NNT是为使期望中恰好比标准护理多一个患者避免该事件而必须接受干预的患者数量。\n\n让我们考虑一个由 $N$ 名接受干预（远程精神科治疗）的患者组成的队列。根据定义 (i)，风险 $p_{T}$ 是单个患者复发的概率。对于一个由 $N$ 名患者组成的群体，期望的复发人数（记为 $E_{T}$）是患者人数与个体风险的乘积：\n$$ E_{T} = N \\cdot p_{T} $$\n\n如果这同一个由 $N$ 名患者组成的队列接受的是标准护理，那么期望的复发人数（记为 $E_{C}$）将是：\n$$ E_{C} = N \\cdot p_{C} $$\n\n通过对这组 $N$ 名患者使用干预措施而*避免*的期望复发人数，是标准护理下期望复发人数与干预下期望复发人数之差。将此值记为 $E_{\\text{avoided}}$。\n$$ E_{\\text{avoided}} = E_{C} - E_{T} = (N \\cdot p_{C}) - (N \\cdot p_{T}) $$\n\n提出公因子 $N$，我们可以将此表达式重写为：\n$$ E_{\\text{avoided}} = N \\cdot (p_{C} - p_{T}) $$\n\n使用给定的定义 $\\Delta = p_{C} - p_{T}$，我们得到：\n$$ E_{\\text{avoided}} = N \\cdot \\Delta $$\n\n根据定义 (iii)，NNT 是使得期望避免的事件数恰好为 1 时的特定 $N$ 值。因此，我们设 $E_{\\text{avoided}} = 1$ 并求解 $N$，根据定义，这个 $N$ 就是 NNT。\n$$ 1 = \\text{NNT} \\cdot \\Delta $$\n\n求解 NNT，我们得到 NNT 关于 $\\Delta$ 的精确解析表达式：\n$$ \\text{NNT} = \\frac{1}{\\Delta} $$\n这就完成了从给定核心定义出发的推导。\n\n接下来，我们必须根据给定的估计值 $\\Delta = 0.15$ 计算 NNT 的值。问题要求答案为精确分数。首先，我们将 $\\Delta$ 的小数值转换为分数：\n$$ \\Delta = 0.15 = \\frac{15}{100} = \\frac{3}{20} $$\n\n现在，我们将这个分数值代入我们推导出的 NNT 公式中：\n$$ \\text{NNT} = \\frac{1}{\\frac{3}{20}} $$\n\n化简这个繁分数，得到最终值：\n$$ \\text{NNT} = 1 \\cdot \\frac{20}{3} = \\frac{20}{3} $$", "answer": "$$\\boxed{\\frac{20}{3}}$$", "id": "4765569"}, {"introduction": "数字健康的一大前景在于其能够对大规模人群进行筛查，但这本身也带来了挑战。本练习通过计算一个机器学习分类器在抑郁症筛查中的阳性预测值（Positive Predictive Value, PPV），来探讨在实际中部署该工具时面临的问题。在低患病率人群中，筛查工具通常会产生大量的假阳性结果，因此，理解 $PPV$ 对于设计高效且合乎伦理的分诊系统至关重要，它能确保有限的临床资源得到最有效的分配。", "problem": "一个全国性的远程精神科平台部署了一个机器学习（ML）分类器，该分类器基于被动收集的智能手机数据和结构化的自我报告措施，用于标记当前患有重度抑郁症的高风险成年人。在实际操作环境中，筛查是在普通成年人群中进行的，当前重度抑郁症的点患病率为 $\\pi = 0.02$。该分类器在选定的决策阈值下，其敏感性为 $\\mathrm{Se} = 0.85$，特异性为 $\\mathrm{Sp} = 0.90$。请仅使用敏感性、特异性、患病率和条件概率的贝叶斯定理的基本定义，推导阳性预测值（PPV）的表达式，并在这些操作条件下计算其值。然后，阐明计算出的 $PPV$ 对于远程精神科分诊设计的意义，同时考虑到临床医生能力等限制因素以及需要最大限度地减少真阳性患者获得护理的延迟。\n\n将最终的 $PPV$ 表示为保留四位有效数字的小数。答案中不要包含百分号或单位。", "solution": "该问题要求推导和计算用于远程精神科环境的机器学习分类器的阳性预测值（PPV），并对结果进行解释。\n\n首先，我们通过定义相关事件来将问题形式化，并将给定信息转化为条件概率的语言。\n设 $D$ 为个体当前患有重度抑郁症的事件。\n设 $D^c$ 为其补事件，即个体当前未患有重度抑郁症。\n设 $T$ 为机器学习分类器给出阳性结果（将个体标记为高风险）的事件。\n设 $T^c$ 为其补事件，即分类器给出阴性结果。\n\n给定条件可以表示为概率：\n1.  病情的患病率 $\\pi$ 是个体患病的先验概率：\n    $$P(D) = \\pi = 0.02$$\n    由此可知，个体未患病的概率为：\n    $$P(D^c) = 1 - P(D) = 1 - \\pi = 1 - 0.02 = 0.98$$\n\n2.  分类器的敏感性 $\\mathrm{Se}$ 是指在个体患病的情况下，测试结果为阳性的概率（真阳性率）：\n    $$\\mathrm{Se} = P(T|D) = 0.85$$\n\n3.  分类器的特异性 $\\mathrm{Sp}$ 是指在个体未患病的情况下，测试结果为阴性的概率（真阴性率）：\n    $$\\mathrm{Sp} = P(T^c|D^c) = 0.90$$\n    由此，我们可以推导出假阳性率，即在个体未患病的情况下，测试结果为阳性的概率：\n    $$P(T|D^c) = 1 - P(T^c|D^c) = 1 - \\mathrm{Sp} = 1 - 0.90 = 0.10$$\n\n任务是推导阳性预测值（PPV）的表达式并计算其值。PPV 定义为在个体测试结果为阳性的条件下，其确实患病的概率。用我们的符号表示，即为 $P(D|T)$。\n\n我们使用贝叶斯定理来表示 $P(D|T)$：\n$$P(D|T) = \\frac{P(T|D)P(D)}{P(T)}$$\n\n分母 $P(T)$ 代表获得阳性测试结果的总概率。它可以使用全概率定律展开，对患病（$D$）或未患病（$D^c$）这两种互斥状态求和：\n$$P(T) = P(T|D)P(D) + P(T|D^c)P(D^c)$$\n\n将 $P(T)$ 的这个展开式代入贝叶斯定理的表达式中，我们得到 PPV 的完整公式：\n$$P(D|T) = \\frac{P(T|D)P(D)}{P(T|D)P(D) + P(T|D^c)P(D^c)}$$\n\n该表达式可以用患病率（$\\pi$）、敏感性（$\\mathrm{Se}$）和特异性（$\\mathrm{Sp}$）的标准术语重写：\n$$\\mathrm{PPV} = \\frac{\\mathrm{Se} \\cdot \\pi}{\\mathrm{Se} \\cdot \\pi + (1 - \\mathrm{Sp}) \\cdot (1 - \\pi)}$$\n这就是基于基本定义推导出的 PPV 表达式。\n\n现在，我们代入给定值 $\\pi = 0.02$、$\\mathrm{Se} = 0.85$ 和 $\\mathrm{Sp} = 0.90$ 来计算 PPV 的数值。\n$$\\mathrm{PPV} = \\frac{(0.85) \\cdot (0.02)}{(0.85) \\cdot (0.02) + (1 - 0.90) \\cdot (1 - 0.02)}$$\n$$\\mathrm{PPV} = \\frac{0.017}{0.017 + (0.10) \\cdot (0.98)}$$\n$$\\mathrm{PPV} = \\frac{0.017}{0.017 + 0.098}$$\n$$\\mathrm{PPV} = \\frac{0.017}{0.115}$$\n$$\\mathrm{PPV} \\approx 0.147826...$$\n按要求保留四位有效数字，我们得到：\n$$\\mathrm{PPV} \\approx 0.1478$$\n\n最后，我们必须阐明这一结果对远程精神科分诊设计的意义。\n计算出的 PPV 约为 $0.1478$，这意味着在所有被分类器标记为高风险的个体中，只有约 $14.8\\%$ 是真阳性（即，确实当前患有重度抑郁症）。反之，约有 $85.2\\%$ 的阳性标记是假阳性。\n\n这对分诊设计的意义是重大的：\n1.  **直接转诊的低效性**：将每一位筛查结果为阳性的个体直接转诊给有执照的临床医生（如精神科医生）进行全面诊断评估，将是极其低效的。考虑到这些专业人员的有限能力，这种方法会导致系统瓶颈，绝大部分临床医生时间（超过85%）将用于评估未处于目标疾病状态的个体。这不仅浪费了昂贵的资源，还给包括急需护理的真阳性患者在内的所有人造成了漫长的等待时间。\n\n2.  **多阶段分诊系统的必要性**：低 PPV 表明，该机器学习分类器最适合作为第一阶段的广谱筛查工具，而非诊断工具。阳性标记不应直接触发最终的临床会诊，而应触发第二阶段的评估。第二阶段应比初步筛查更具特异性，但比全面的精神科评估资源消耗更少。例如，可以采用更详细、经过验证的自我报告工具（如 PHQ-9），或由训练有素的心理健康工作者或病例管理员进行简短的结构化访谈。这可以筛选潜在患者库，为最终资源密集型的诊断阶段创建一个规模更小、患病率更高的群体。\n\n3.  **系统设计的定量基础**：计算出的 PPV 为设计此多阶段系统提供了定量基础。它告诉我们，分类器每识别出一个真阳性病例，大约会伴随 $(1 - 0.1478) / 0.1478 \\approx 5.76$ 个假阳性病例。因此，第二阶段筛查过程必须能够有效处理大约 6 到 7 名患者，才能识别出一个真阳性病例。这个数字，即 PPV 的倒数，对于分诊工作流程中的能力规划和资源分配至关重要。设计必须在丰富真阳性患者池的目标与引入阶段间延迟或患者流失的风险之间取得平衡，因为后者可能会损害将有需要者与及时护理联系起来的最终目标。", "answer": "$$\\boxed{0.1478}$$", "id": "4765564"}]}