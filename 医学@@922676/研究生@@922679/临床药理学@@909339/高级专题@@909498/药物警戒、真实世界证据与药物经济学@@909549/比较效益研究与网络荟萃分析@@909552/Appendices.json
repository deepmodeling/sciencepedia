{"hands_on_practices": [{"introduction": "网络荟萃分析的结果通常以相对效应量，如比值比（$\\text{OR}$）的形式呈现。然而，对于临床决策而言，绝对风险差（$\\text{RD}$）和需治疗人数（$\\text{NNT}$）等绝对效应指标更为直观和实用。本练习旨在训练如何将相对效应量转换为绝对效应量，并强调基线风险在这一转换过程中的关键作用。[@problem_id:4542293]", "problem": "在临床药理学的比较效果研究背景下，假设一项关于几种抗血栓疗法预防复合血管事件的贝叶斯随机效应网络荟萃分析得出，疗法 $A$ 相对于标准治疗的后验平均比值比 (OR) 为 $\\text{OR} = 0.72$。在一个为期一年的时间范围内，标准治疗（对照组）下代表性目标人群的基线风险估计为 $p_{0} = 0.18$。仅使用优势、优势比、风险、风险差和需治疗人数的基本定义，推导治疗组风险 $p_{1}$ 作为 $\\text{OR}$ 和 $p_{0}$ 的函数的解析表达式，然后推导相应的绝对风险差 $\\text{RD} = p_{1} - p_{0}$，最后推导需治疗人数 $\\text{NNT} = 1/|\\text{RD}|$。对于给定的值 $\\text{OR} = 0.72$ 和 $p_{0} = 0.18$，计算 $\\text{NNT}$。将您的最终答案四舍五入至四位有效数字，并以无单位小数形式呈现。", "solution": "该问题要求基于基本定义推导治疗组风险 ($p_1$)、绝对风险差 ($\\text{RD}$) 和需治疗人数 ($\\text{NNT}$) 的表达式，然后使用给定的数据计算 $\\text{NNT}$。\n\n基本定义如下：\n风险 $p$ 是事件发生的概率。\n事件的优势定义为事件发生的概率与不发生的概率之比：\n$$ \\text{odds} = \\frac{p}{1-p} $$\n设 $p_0$ 为对照组（标准治疗）的风险，$p_1$ 为治疗组（疗法 $A$）的风险。\n对照组的优势为 $\\text{odds}_0 = \\frac{p_0}{1-p_0}$。\n治疗组的优势为 $\\text{odds}_1 = \\frac{p_1}{1-p_1}$。\n\n优势比 ($\\text{OR}$) 是治疗组优势与对照组优势之比：\n$$ \\text{OR} = \\frac{\\text{odds}_1}{\\text{odds}_0} = \\frac{p_1/(1-p_1)}{p_0/(1-p_0)} $$\n\n第一个任务是推导 $p_1$ 作为 $\\text{OR}$ 和 $p_0$ 的函数的解析表达式。我们从 $\\text{OR}$ 的定义开始，求解 $p_1$。\n首先，我们用 $\\text{OR}$ 和 $\\text{odds}_0$ 来表示 $\\text{odds}_1$：\n$$ \\text{odds}_1 = \\text{OR} \\times \\text{odds}_0 $$\n代入优势的定义：\n$$ \\frac{p_1}{1-p_1} = \\text{OR} \\times \\frac{p_0}{1-p_0} $$\n为了求解 $p_1$，我们可以使用优势和概率之间的一般关系：$p = \\frac{\\text{odds}}{1+\\text{odds}}$。\n将此关系应用于 $p_1$：\n$$ p_1 = \\frac{\\text{odds}_1}{1+\\text{odds}_1} $$\n现在，我们代入 $\\text{odds}_1 = \\text{OR} \\times \\frac{p_0}{1-p_0}$：\n$$ p_1 = \\frac{\\text{OR} \\frac{p_0}{1-p_0}}{1 + \\text{OR} \\frac{p_0}{1-p_0}} $$\n为了简化这个繁分数，我们将分子和分母同乘以 $(1-p_0)$：\n$$ p_1 = \\frac{\\left(\\text{OR} \\frac{p_0}{1-p_0}\\right)(1-p_0)}{\\left(1 + \\text{OR} \\frac{p_0}{1-p_0}\\right)(1-p_0)} $$\n$$ p_1 = \\frac{\\text{OR} \\cdot p_0}{(1-p_0) + \\text{OR} \\cdot p_0} $$\n这就是所要求的 $p_1$ 的解析表达式。\n\n第二个任务是推导绝对风险差，$\\text{RD} = p_1 - p_0$。\n代入 $p_1$ 的表达式：\n$$ \\text{RD} = \\frac{\\text{OR} \\cdot p_0}{(1-p_0) + \\text{OR} \\cdot p_0} - p_0 $$\n为了合并各项，我们通分：\n$$ \\text{RD} = \\frac{\\text{OR} \\cdot p_0 - p_0 \\left( (1-p_0) + \\text{OR} \\cdot p_0 \\right)}{(1-p_0) + \\text{OR} \\cdot p_0} $$\n$$ \\text{RD} = \\frac{\\text{OR} \\cdot p_0 - p_0 + p_0^2 - \\text{OR} \\cdot p_0^2}{(1-p_0) + \\text{OR} \\cdot p_0} $$\n我们可以通过将含有 $(\\text{OR}-1)$ 的项分组来对分子进行因式分解：\n$$ \\text{RD} = \\frac{p_0(\\text{OR}-1) - p_0^2(\\text{OR}-1)}{(1-p_0) + \\text{OR} \\cdot p_0} $$\n$$ \\text{RD} = \\frac{(p_0 - p_0^2)(\\text{OR}-1)}{(1-p_0) + \\text{OR} \\cdot p_0} $$\n从分子中的第一项提出 $p_0$ 得到最终表达式：\n$$ \\text{RD} = \\frac{p_0(1-p_0)(\\text{OR}-1)}{(1-p_0) + p_0 \\cdot \\text{OR}} $$\n\n第三个任务是推导需治疗人数，$\\text{NNT} = 1/|\\text{RD}|$。\n$$ \\text{NNT} = \\frac{1}{\\left| \\frac{p_0(1-p_0)(\\text{OR}-1)}{(1-p_0) + p_0 \\cdot \\text{OR}} \\right|} = \\left| \\frac{(1-p_0) + p_0 \\cdot \\text{OR}}{p_0(1-p_0)(\\text{OR}-1)} \\right| $$\n由于 $p_0$ 是一个概率，$0  p_0  1$，所以项 $p_0$、$(1-p_0)$ 和 $p_1$ 的分母 $(1-p_0) + p_0 \\cdot\\text{OR}$ 都是正数。$\\text{RD}$ 的符号由 $(\\text{OR}-1)$ 决定。对于有益的治疗，$\\text{OR}  1$，这使得 $\\text{RD}$ 为负。$\\text{NNT}$ 按惯例是一个正数，表示为预防一例不良事件需要治疗的患者人数。\n由于 $\\text{OR}  1$，项 $(\\text{OR}-1)$ 是负数。取绝对值后变为 $(1-\\text{OR})$。\n$$ \\text{NNT} = \\frac{(1-p_0) + p_0 \\cdot \\text{OR}}{p_0(1-p_0)(1-\\text{OR})} $$\n这是当治疗有益时 ($\\text{OR}  1$) 的 $\\text{NNT}$ 表达式。\n\n最后，我们用给定的值 $\\text{OR} = 0.72$ 和 $p_0 = 0.18$ 来计算 $\\text{NNT}$。\n首先，计算治疗组的风险 $p_1$：\n$$ p_1 = \\frac{0.72 \\times 0.18}{(1-0.18) + 0.72 \\times 0.18} = \\frac{0.1296}{0.82 + 0.1296} = \\frac{0.1296}{0.9496} \\approx 0.1364785 $$\n接下来，计算绝对风险差 $\\text{RD}$：\n$$ \\text{RD} = p_1 - p_0 \\approx 0.1364785 - 0.18 = -0.0435215 $$\n负号证实了风险的降低。\n现在，计算 $\\text{NNT}$：\n$$ \\text{NNT} = \\frac{1}{|\\text{RD}|} = \\frac{1}{|-0.0435215|} = \\frac{1}{0.0435215} \\approx 22.97716 $$\n或者，使用推导出的 $\\text{NNT}$ 公式：\n$$ \\text{NNT} = \\frac{(1-0.18) + 0.18 \\cdot 0.72}{0.18(1-0.18)(1-0.72)} = \\frac{0.82 + 0.1296}{0.18(0.82)(0.28)} = \\frac{0.9496}{0.041328} \\approx 22.97716 $$\n题目要求将最终答案四舍五入至四位有效数字。计算值为 $22.97716...$。第五位有效数字是 $7$，所以我们将第四位数字向上取整。\n$$ \\text{NNT} \\approx 22.98 $$\n该值可解释为，与标准治疗相比，需要使用疗法A治疗大约23名患者一年，才能额外预防一例复合血管事件。", "answer": "$$\n\\boxed{22.98}\n$$", "id": "4542293"}, {"introduction": "网络荟萃分析的强大之处在于，它能够比较那些从未在头对头试验中直接研究过的治疗方法。本练习将通过一个实际案例，演示间接比较的核心逻辑。学习者将应用一致性假设，在一个包含治疗方法 $A$、$B$ 和 $C$ 的网络中连接不同的证据链，从而推断出间接的治疗效果。[@problem_id:4542257]", "problem": "一个卫生系统计划采用一种新药剂，以预防高风险药物治疗项目中因不良事件导致的治疗中断。最近一项关于三种治疗方法（标记为 $A$（标准疗法）、$B$ 和 $C$）的网络荟萃分析（NMA）使用比值比（OR）报告了其相对效果。在目标人群中，接受治疗 $A$ 的基线中断概率为 $p_{A} = 0.18$。该NMA报告了以下点估计值：$\\text{OR}_{B \\text{ vs } A} = 0.70$ 和 $\\text{OR}_{C \\text{ vs } B} = 0.90$。假设NMA具有传递性和一致性，并假设同质性，从而这些ORs适用于目标人群。\n\n仅使用概率、比值和比值比的基本定义，以及比值比在相连治疗网络中的一致性属性，计算目标人群中每种治疗的绝对风险，然后推导出 $C$ 相对于 $A$ 的比较风险差，定义为 $p_{C} - p_{A}$。将最终的风险差表示为小数（而非百分比）。将最终答案四舍五入至四位有效数字。", "solution": "首先对问题进行验证，以确保其自洽、有科学依据且定义明确。\n\n**1. 已知条件提取：**\n- 治疗方法：$A$（标准疗法）、$B$、$C$。\n- 治疗 $A$ 的基线绝对风险（中断概率）：$p_{A} = 0.18$。\n- 治疗 $B$ 相对于 $A$ 的比值比：$\\text{OR}_{B \\text{ vs } A} = 0.70$。\n- 治疗 $C$ 相对于 $B$ 的比值比：$\\text{OR}_{C \\text{ vs } B} = 0.90$。\n- 假设：网络荟萃分析（NMA）的传递性和一致性，以及同质性。\n- 目标：计算风险差 $p_{C} - p_{A}$，并四舍五入至四位有效数字。\n\n**2. 验证结论：**\n该问题有效。它是比较效果研究中流行病学和生物统计学原理的标准应用。已知条件充分且一致，术语（比值比、风险差、一致性）定义明确，且基础情景在科学上是合理的。问题定义明确，可以得出一个唯一的、有意义的解。\n\n**3. 求解推导：**\n求解过程需要将概率转换成比值，应用比值比求出其他治疗的比值，然后将最终的比值转换回概率，以计算风险差。\n\n事件概率 $p$ 与该事件的比值之间的基本关系由下式给出：\n$$\n\\text{Odds} = \\frac{p}{1-p}\n$$\n反之，概率可以从比值推导得出：\n$$\np = \\frac{\\text{Odds}}{1 + \\text{Odds}}\n$$\n治疗 $T$ 相对于参照 $R$ 的比值比（OR）是它们各自比值的比率：\n$$\n\\text{OR}_{T \\text{ vs } R} = \\frac{\\text{Odds}_T}{\\text{Odds}_R}\n$$\n\n**步骤 1：计算治疗 $A$ 的中断比值。**\n给定基线概率 $p_A = 0.18$，治疗 $A$ 的比值为：\n$$\n\\text{Odds}_A = \\frac{p_A}{1 - p_A} = \\frac{0.18}{1 - 0.18} = \\frac{0.18}{0.82} = \\frac{9}{41}\n$$\n\n**步骤 2：计算治疗 $C$ 相对于 $A$ 的比值比。**\n问题陈述了一个相连的治疗网络 $A-B-C$。NMA 中一致性的假设允许通过组合路径上的相对效果来计算 $C$ 相对于 $A$ 的间接效果。这通过将比值比相乘来实现：\n$$\n\\text{OR}_{C \\text{ vs } A} = \\text{OR}_{C \\text{ vs } B} \\times \\text{OR}_{B \\text{ vs } A}\n$$\n代入给定值：\n$$\n\\text{OR}_{C \\text{ vs } A} = 0.90 \\times 0.70 = 0.63\n$$\n该值表示使用治疗 $C$ 相对于治疗 $A$ 的中断比值。\n\n**步骤 3：计算治疗 $C$ 的中断比值。**\n使用比值比的定义，我们可以求出治疗 $C$ 的比值：\n$$\n\\text{Odds}_C = \\text{Odds}_A \\times \\text{OR}_{C \\text{ vs } A}\n$$\n代入前面步骤的值：\n$$\n\\text{Odds}_C = \\left(\\frac{9}{41}\\right) \\times 0.63 = \\frac{5.67}{41}\n$$\n\n**步骤 4：计算治疗 $C$ 的绝对风险（概率）。**\n现在，我们将治疗 $C$ 的比值转换回概率 $p_C$：\n$$\np_C = \\frac{\\text{Odds}_C}{1 + \\text{Odds}_C} = \\frac{\\frac{5.67}{41}}{1 + \\frac{5.67}{41}} = \\frac{\\frac{5.67}{41}}{\\frac{41 + 5.67}{41}} = \\frac{5.67}{46.67}\n$$\n进行除法运算得出：\n$$\np_C \\approx 0.121491228...\n$$\n\n**步骤 5：计算风险差 $p_C - p_A$。**\n最后一步是计算治疗 $C$ 和治疗 $A$ 之间的绝对风险差：\n$$\np_C - p_A \\approx 0.121491228 - 0.18 = -0.058508772\n$$\n\n**步骤 6：对最终答案进行四舍五入。**\n问题要求将最终答案四舍五入至四位有效数字。计算出的值为 $-0.058508772...$。前四位有效数字是 $5$、$8$、$5$ 和 $0$。第五位有效数字是 $8$，大于或等于 $5$，因此我们将第四位有效数字向上取整。\n$$\n-0.05850... \\rightarrow -0.05851\n$$\n$C$ 相对于 $A$ 的风险差约为 $-0.05851$。这表明与标准疗法 $A$ 相比，治疗 $C$ 与更低的治疗中断绝对风险相关。", "answer": "$$\\boxed{-0.05851}$$", "id": "4542257"}, {"introduction": "不一致性是网络荟萃分析中的一个主要挑战，直接证据和间接证据的结合是否有效，取决于一致性假设是否成立。本练习介绍了一种定量评估该假设的方法。通过比较同一治疗配对的直接估计值与间接估计值，学习者可以掌握检验网络荟萃分析有效性的基本步骤。[@problem_id:4744841]", "problem": "在20世纪末临床研究的“统计学转向”中，循证医学（EBM）通过随机试验和荟萃分析规范了比较效果研究，最终推广到网络荟萃分析，该分析结合了来自多种治疗方法的直接和间接证据。考虑一个受历史启发的案例研究，该研究针对一种常见的慢性病，涉及三种治疗方法：$A$、$B$ 和 $C$。研究人员报告了来自随机试验的合并直接估计值，这些值以不良结局的对数优势比（因此负值表示对分子项的治疗有利）及其标准误的形式呈现。三个对比分别是：$A$ 与 $B$，$B$ 与 $C$，以及 $A$ 与 $C$（直接对比）。报告的合并对数优势比和标准误如下：\n- $d_{AB} = -0.20$，其 $\\text{SE}_{AB} = 0.10$，\n- $d_{BC} = 0.30$，其 $\\text{SE}_{BC} = 0.12$，\n- $d_{AC}^{\\text{dir}} = -0.05$，其 $\\text{SE}_{AC}^{\\text{dir}} = 0.11$。\n假定存在大样本行为，因此每个合并的对数优势比近似服从正态分布，并假定这三个合并估计值是独立的（反映了它们来自不同的试验系列）。\n\n仅使用关于优势比的基本原理（在治疗对比中具有可乘性，在对数尺度上具有可加性）和独立性下的方差传播，执行以下操作：\n1. 推导 $A$ 相对于 $C$（通过 $B$）的间接对数优势比及其方差。\n2. 将 $A$–$B$–$C$ 环路的不一致性定义为直接和间接 $A$ 与 $C$ 对数优势比之间的差异，并在网络一致性的零假设下，用其标准误对该差异进行标准化，以获得一个 $z$-分数。\n\n提供 $z$-分数作为您的最终数值答案。将您的最终数值答案四舍五入到三位有效数字。", "solution": "该问题要求计算一个 $z$-分数，以检验一个包含三种治疗方法 $A$、$B$ 和 $C$ 的治疗网络中的不一致性。该分析基于对数优势比及其方差如何组合的基本原理。\n\n设 $d_{XY}$ 表示治疗 $X$ 相对于治疗 $Y$ 的估计对数优势比，并设 $\\text{SE}_{XY}$ 为其相应的标准误。该估计的方差为 $\\text{Var}(d_{XY}) = (\\text{SE}_{XY})^2$。提供的直接估计值如下：\n- $d_{AB} = -0.20$，其 $\\text{SE}_{AB} = 0.10$。方差为 $\\text{Var}(d_{AB}) = (0.10)^2 = 0.01$。\n- $d_{BC} = 0.30$，其 $\\text{SE}_{BC} = 0.12$。方差为 $\\text{Var}(d_{BC}) = (0.12)^2 = 0.0144$。\n- $d_{AC}^{\\text{dir}} = -0.05$，其 $\\text{SE}_{AC}^{\\text{dir}} = 0.11$。方差为 $\\text{Var}(d_{AC}^{\\text{dir}}) = (0.11)^2 = 0.0121$。\n\n假定三个估计值 $d_{AB}$、$d_{BC}$ 和 $d_{AC}^{\\text{dir}}$ 是独立的。\n\n第一步是推导 $A$ 相对于 $C$ 的间接对数优势比，该值通过治疗 $B$ 获得。对数优势比的基本性质是它们在治疗路径上的可加性。$A$ 相对于 $C$ 的优势比的对数可以表示为 $A$ 相对于 $B$ 的对数优势比与 $B$ 相对于 $C$ 的对数优势比之和。\n$$\n\\ln(\\text{OR}_{AC}) = \\ln(\\text{OR}_{AB}) + \\ln(\\text{OR}_{BC})\n$$\n将此原理应用于我们的估计对数优势比，$A$ 相对于 $C$ 的间接估计值，记为 $d_{AC}^{\\text{ind}}$，为：\n$$\nd_{AC}^{\\text{ind}} = d_{AB} + d_{BC}\n$$\n代入给定值：\n$$\nd_{AC}^{\\text{ind}} = -0.20 + 0.30 = 0.10\n$$\n为了求这个间接估计的方差，我们使用独立随机变量之和的方差性质。由于假定 $d_{AB}$ 和 $d_{BC}$ 是独立的：\n$$\n\\text{Var}(d_{AC}^{\\text{ind}}) = \\text{Var}(d_{AB} + d_{BC}) = \\text{Var}(d_{AB}) + \\text{Var}(d_{BC})\n$$\n代入方差值：\n$$\n\\text{Var}(d_{AC}^{\\text{ind}}) = (0.10)^2 + (0.12)^2 = 0.01 + 0.0144 = 0.0244\n$$\n\n第二步是量化网络环路 $A \\to B \\to C \\to A$ 中的不一致性。不一致性（我们记为 $\\omega$）定义为直接对数优势比 $d_{AC}^{\\text{dir}}$ 和间接对数优势比 $d_{AC}^{\\text{ind}}$ 之间的差。\n$$\n\\omega = d_{AC}^{\\text{dir}} - d_{AC}^{\\text{ind}}\n$$\n代入数值：\n$$\n\\omega = -0.05 - 0.10 = -0.15\n$$\n为了标准化这个不一致性，我们需要它的标准误。这需要计算其方差 $\\text{Var}(\\omega)$。在三个初始估计值（$d_{AB}$、$d_{BC}$ 和 $d_{AC}^{\\text{dir}}$）独立的假设下，直接估计值 $d_{AC}^{\\text{dir}}$ 与间接估计值 $d_{AC}^{\\text{ind}}$ 是独立的（因为 $d_{AC}^{\\text{ind}}$ 仅是 $d_{AB}$ 和 $d_{BC}$ 的函数）。因此，差值的方差是它们各自方差的和：\n$$\n\\text{Var}(\\omega) = \\text{Var}(d_{AC}^{\\text{dir}} - d_{AC}^{\\text{ind}}) = \\text{Var}(d_{AC}^{\\text{dir}}) + \\text{Var}(d_{AC}^{\\text{ind}})\n$$\n我们可以用三个初始直接估计值的方差来表示它：\n$$\n\\text{Var}(\\omega) = \\text{Var}(d_{AC}^{\\text{dir}}) + \\text{Var}(d_{AB}) + \\text{Var}(d_{BC})\n$$\n代入方差的数值：\n$$\n\\text{Var}(\\omega) = (0.11)^2 + (0.10)^2 + (0.12)^2 = 0.0121 + 0.0100 + 0.0144 = 0.0365\n$$\n不一致性的标准误是其方差的平方根：\n$$\n\\text{SE}(\\omega) = \\sqrt{\\text{Var}(\\omega)} = \\sqrt{0.0365}\n$$\n最后，通过对观察到的不一致性 $\\omega$ 进行标准化来计算 $z$-分数。在网络一致性的零假设下，$\\omega$ 的期望值为 $0$。因此 $z$-分数为：\n$$\nz = \\frac{\\omega}{\\text{SE}(\\omega)} = \\frac{d_{AC}^{\\text{dir}} - (d_{AB} + d_{BC})}{\\sqrt{(\\text{SE}_{AC}^{\\text{dir}})^2 + (\\text{SE}_{AB})^2 + (\\text{SE}_{BC})^2}}\n$$\n代入计算出的值：\n$$\nz = \\frac{-0.15}{\\sqrt{0.0365}} \\approx \\frac{-0.15}{0.1910497...} \\approx -0.78516...\n$$\n将最终答案四舍五入到三位有效数字，我们得到 $z \\approx -0.785$。这个值代表了网络中的不一致性，以标准误为单位进行衡量。一个接近于零的值表明直接证据和间接证据非常吻合。", "answer": "$$\\boxed{-0.785}$$", "id": "4744841"}]}