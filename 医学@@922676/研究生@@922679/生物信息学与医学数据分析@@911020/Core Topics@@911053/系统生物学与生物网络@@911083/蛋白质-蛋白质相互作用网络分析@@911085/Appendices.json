{"hands_on_practices": [{"introduction": "在深入研究复杂的网络分析之前，掌握网络数学表示的基础至关重要。本练习旨在提供一项基础实践，要求您将一个简单的假设性信号通路转换为其对应的邻接矩阵和拉普拉斯矩阵。通过计算代数连通性 [@problem_id:4602339]，您将对网络的核心属性——连通性，获得更深刻的量化理解。", "problem": "考虑一个简单、无向、无权的蛋白质-蛋白质相互作用（PPI）网络模块，其蛋白质标记为 $\\{A,B,C,D\\}$，相互作用由边集 $\\{(A,B),(B,C),(C,D)\\}$ 给出。该模块是生物信息学和医学数据分析中线性信号链的一个最小抽象。\n\n使用图表示和谱分析的基本原理：\n1. 构建网络的邻接矩阵 $A$，按顺序 $(A,B,C,D)$ 索引行和列。\n2. 定义组合图拉普拉斯矩阵 $L$ 为 $L = D - A$，其中 $D$ 是对角线度矩阵，其对角元素 $D_{ii}$ 等于节点 $i$ 的度。\n3. 使用图连通性的定义，判断该网络是否连通。\n4. 使用二分性（将顶点划分为两个集合，集合内部没有边）的定义，判断该网络是否为二分图。\n5. 最后，计算代数连通度，其定义为拉普拉斯矩阵 $L$ 的第二小特征值 $\\lambda_{2}$。请以精确的封闭形式给出最终答案，不要四舍五入。", "solution": "该问题陈述被认为是有效的，因为它具有科学依据、问题明确且客观。它提出了一个应用于生物信息学背景的谱图论中的标准问题。所有定义和条件都是标准的且自洽的。我将继续进行解答。\n\n该问题描述了一个图 $G$，其顶点集为 $V = \\{A, B, C, D\\}$，边集为 $E = \\{(A,B), (B,C), (C,D)\\}$。这是一个无权无向图。具体来说，这是一个包含 $n=4$ 个顶点的路径图，通常表示为 $P_4$。\n\n1.  **构建邻接矩阵 $A$**\n\n对于一个有 $n$ 个顶点的图，其邻接矩阵 $A$ 是一个 $n \\times n$ 矩阵，其中如果顶点 $i$ 和顶点 $j$ 之间存在边，则条目 $A_{ij}$ 为 $1$，否则为 $0$。对于无向图， $A$ 是对称的。顶点按顺序 $(A, B, C, D)$ 索引。\n\n-   顶点 $A$ 仅与 $B$ 相连。第一行为 $(0, 1, 0, 0)$。\n-   顶点 $B$ 与 $A$ 和 $C$ 相连。第二行为 $(1, 0, 1, 0)$。\n-   顶点 $C$ 与 $B$ 和 $D$ 相连。第三行为 $(0, 1, 0, 1)$。\n-   顶点 $D$ 仅与 $C$ 相连。第四行为 $(0, 0, 1, 0)$。\n\n因此，邻接矩阵 $A$ 为：\n$$ A = \\begin{pmatrix} 0  1  0  0 \\\\ 1  0  1  0 \\\\ 0  1  0  1 \\\\ 0  0  1  0 \\end{pmatrix} $$\n\n2.  **构建图拉普拉斯矩阵 $L$**\n\n组合图拉普拉斯矩阵 $L$ 定义为 $L = D - A$，其中 $D$ 是度矩阵。度矩阵 $D$ 是一个对角矩阵，其对角元素 $D_{ii}$ 是顶点 $i$ 的度（即与该顶点关联的边的数量）。\n\n-   顶点 $A$ 的度为 $\\deg(A) = 1$。\n-   顶点 $B$ 的度为 $\\deg(B) = 2$。\n-   顶点 $C$ 的度为 $\\deg(C) = 2$。\n-   顶点 $D$ 的度为 $\\deg(D) = 1$。\n\n度矩阵 $D$ 为：\n$$ D = \\begin{pmatrix} 1  0  0  0 \\\\ 0  2  0  0 \\\\ 0  0  2  0 \\\\ 0  0  0  1 \\end{pmatrix} $$\n现在，我们计算拉普拉斯矩阵 $L = D - A$：\n$$ L = \\begin{pmatrix} 1  0  0  0 \\\\ 0  2  0  0 \\\\ 0  0  2  0 \\\\ 0  0  0  1 \\end{pmatrix} - \\begin{pmatrix} 0  1  0  0 \\\\ 1  0  1  0 \\\\ 0  1  0  1 \\\\ 0  0  1  0 \\end{pmatrix} = \\begin{pmatrix} 1  -1  0  0 \\\\ -1  2  -1  0 \\\\ 0  -1  2  -1 \\\\ 0  0  -1  1 \\end{pmatrix} $$\n\n3.  **判断连通性**\n\n如果任意一对不同顶点之间都存在路径，则该图是连通的。给定的网络是一个线性链 $A-B-C-D$。对于从 $\\{A, B, C, D\\}$ 中任选的两个顶点，都存在一条沿着该链的路径。例如， $A$ 和 $D$ 之间的路径是 $A-B-C-D$。因此，该网络是连通的。这一点稍后将由拉普拉斯矩阵的第二小特征值非零这一事实得到证实。\n\n4.  **判断二分性**\n\n如果一个图的顶点集 $V$ 可以被划分为两个不相交且独立的集合 $U$ 和 $W$，使得每条边都连接 $U$ 中的一个顶点和 $W$ 中的一个顶点，则该图是二分图。我们尝试构建这样一个划分。\n-   将顶点 $A$ 放入集合 $U$。\n-   由于 $(A,B)$ 是一条边，顶点 $B$ 必须在补集 $W$ 中。\n-   由于 $(B,C)$ 是一条边且 $B \\in W$，顶点 $C$ 必须在 $U$ 中。\n-   由于 $(C,D)$ 是一条边且 $C \\in U$，顶点 $D$ 必须在 $W$ 中。\n这得到了划分 $U = \\{A, C\\}$ 和 $W = \\{B, D\\}$。我们必须检查这些集合内部是否存在任何边。 $U$ 内部唯一可能的边是 $(A,C)$，它不在 $E$ 中。 $W$ 内部唯一可能的边是 $(B,D)$，它也不在 $E$ 中。 $E$ 中的所有边，即 $\\{(A,B), (B,C), (C,D)\\}$，都连接了 $U$ 中的一个顶点和 $W$ 中的一个顶点。因此，该划分是有效的，网络是二分图。\n\n5.  **计算代数连通度 $\\lambda_2$**\n\n代数连通度是拉普拉斯矩阵 $L$ 的第二小特征值。 $L$ 的特征值 $\\lambda$ 是特征方程 $\\det(L - \\lambda I) = 0$ 的根。\n$$ \\det(L - \\lambda I) = \\det \\begin{pmatrix} 1-\\lambda  -1  0  0 \\\\ -1  2-\\lambda  -1  0 \\\\ 0  -1  2-\\lambda  -1 \\\\ 0  0  -1  1-\\lambda \\end{pmatrix} = 0 $$\n我们沿第一行展开行列式：\n$$ (1-\\lambda) \\det \\begin{pmatrix} 2-\\lambda  -1  0 \\\\ -1  2-\\lambda  -1 \\\\ 0  -1  1-\\lambda \\end{pmatrix} - (-1) \\det \\begin{pmatrix} -1  -1  0 \\\\ 0  2-\\lambda  -1 \\\\ 0  -1  1-\\lambda \\end{pmatrix} = 0 $$\n第一个 $3 \\times 3$ 行列式是：\n$$ (2-\\lambda)((2-\\lambda)(1-\\lambda) - 1) - (-1)((-1)(1-\\lambda)) = (2-\\lambda)(\\lambda^2 - 3\\lambda + 1) - (1-\\lambda) = -\\lambda^3 + 5\\lambda^2 - 6\\lambda + 1 $$\n第二个 $3 \\times 3$ 行列式是（沿第一列展开）：\n$$ -1 \\det \\begin{pmatrix} 2-\\lambda  -1 \\\\ -1  1-\\lambda \\end{pmatrix} = -1((2-\\lambda)(1-\\lambda) - 1) = -(\\lambda^2 - 3\\lambda + 1) $$\n代入回特征方程：\n$$ (1-\\lambda)(-\\lambda^3 + 5\\lambda^2 - 6\\lambda + 1) + (-(\\lambda^2 - 3\\lambda + 1)) = 0 $$\n$$ (-\\lambda^3 + 5\\lambda^2 - 6\\lambda + 1) + (\\lambda^4 - 5\\lambda^3 + 6\\lambda^2 - \\lambda) - (\\lambda^2 - 3\\lambda + 1) = 0 $$\n$$ \\lambda^4 - 6\\lambda^3 + 10\\lambda^2 - 4\\lambda = 0 $$\n我们可以提取因子 $\\lambda$：\n$$ \\lambda(\\lambda^3 - 6\\lambda^2 + 10\\lambda - 4) = 0 $$\n一个特征值是 $\\lambda_1 = 0$，这对于任何图都是预期的，其重数（在本例中为一）对应于连通分量的数量。为了找到其他特征值，我们求解三次方程：\n$$ \\lambda^3 - 6\\lambda^2 + 10\\lambda - 4 = 0 $$\n通过观察（例如，有理根定理），我们可以测试简单的整数根。对于 $\\lambda = 2$：\n$$ (2)^3 - 6(2)^2 + 10(2) - 4 = 8 - 24 + 20 - 4 = 0 $$\n所以，$\\lambda = 2$ 是一个根，$(\\lambda-2)$ 是一个因子。使用多项式除法：\n$$ \\frac{\\lambda^3 - 6\\lambda^2 + 10\\lambda - 4}{\\lambda - 2} = \\lambda^2 - 4\\lambda + 2 $$\n剩下的两个特征值是二次方程 $\\lambda^2 - 4\\lambda + 2 = 0$ 的根。使用求根公式 $\\lambda = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}$：\n$$ \\lambda = \\frac{4 \\pm \\sqrt{(-4)^2 - 4(1)(2)}}{2(1)} = \\frac{4 \\pm \\sqrt{16-8}}{2} = \\frac{4 \\pm \\sqrt{8}}{2} = \\frac{4 \\pm 2\\sqrt{2}}{2} = 2 \\pm \\sqrt{2} $$\n拉普拉斯矩阵 $L$ 的四个特征值是 $\\{0, 2, 2-\\sqrt{2}, 2+\\sqrt{2}\\}$。\n为了找到代数连通度，我们必须对它们进行排序：\n$\\lambda_1 = 0$\n$\\lambda_2 = 2 - \\sqrt{2} \\approx 2 - 1.414 = 0.586$\n$\\lambda_3 = 2$\n$\\lambda_4 = 2 + \\sqrt{2} \\approx 2 + 1.414 = 3.414$\n按升序排列的特征值为 $0, 2-\\sqrt{2}, 2, 2+\\sqrt{2}$。代数连通度是第二小的特征值，$\\lambda_2$。\n$$ \\lambda_2 = 2 - \\sqrt{2} $$\n这个值大于 $0$，这证实了该图是连通的。", "answer": "$$ \\boxed{2 - \\sqrt{2}} $$", "id": "4602339"}, {"introduction": "蛋白质-蛋白质相互作用（PPI）网络分析的一个关键目标是识别协同工作的蛋白质群组，这些群组通常在网络中形成密集的簇。本练习介绍了局部聚类系数，这是一个用于量化单个蛋白质周围连接密度的强大指标。您将为示例网络中的每个节点计算该系数，并用它来识别高传递性子图，这些子图是功能模块或蛋白质复合物的有力候选者 [@problem_id:4602288]。", "problem": "蛋白质-蛋白质相互作用（PPI）网络将蛋白质之间的物理结合关系建模为一个无向简单图，其中顶点代表蛋白质，边代表相互作用。设该网络由邻接矩阵 $A \\in \\{0,1\\}^{n \\times n}$ 表示，其中 $n=7$，$A_{ij}=1$ 表示蛋白质 $i$ 和 $j$ 之间存在假定的直接相互作用，且 $A_{ii}=0$。邻接矩阵为\n$$\nA=\\begin{pmatrix}\n0  1  1  1  0  0  0 \\\\\n1  0  1  1  0  0  0 \\\\\n1  1  0  1  1  0  0 \\\\\n1  1  1  0  1  0  0 \\\\\n0  0  1  1  0  1  0 \\\\\n0  0  0  0  1  0  1 \\\\\n0  0  0  0  0  1  0\n\\end{pmatrix}.\n$$\n在网络传递性分析中，一个三蛋白质复合物在操作上被视为一个三角形，即一个包含三个顶点且这三个顶点之间两两都有边相连的集合。顶点 $i$ 的局部传递性（也称局部聚类系数），记为 $C_i$，定义为顶点 $i$ 的邻居节点之间，实际存在边的无序对占所有可能无序对的比例。根据约定，对于邻居数少于两个的顶点，设 $C_i=0$。\n\n任务：\n1. 仅使用上述操作性定义和给定的矩阵 $A$，计算每个顶点 $i \\in \\{1,2,\\dots,7\\}$ 的 $C_i$。\n2. 对于阈值 $\\tau=\\frac{2}{3}$，在顶点集 $\\{i : C_i \\ge \\tau\\}$ 上构建导出子图，并确定其连通分量。找出按顶点数计最大的连通分量。\n3. 将该最大高传递性分量中各顶点的 $C_i$ 值的算术平均值作为你的最终答案。最终答案以精确的有理数形式给出，无需四舍五入或单位。", "solution": "该问题是有效的，因为它在科学上基于标准的图论及其在生物信息学中的应用，问题陈述清晰，提供了所有必要信息，并且表述客观。我们开始解题。\n\n该问题要求对一个由给定邻接矩阵 $A$ 表示的蛋白质-蛋白质相互作用（PPI）网络进行三部分分析。该网络有 $n=7$ 个顶点（蛋白质）。邻接矩阵由下式给出：\n$$\nA=\\begin{pmatrix}\n0  1  1  1  0  0  0 \\\\\n1  0  1  1  0  0  0 \\\\\n1  1  0  1  1  0  0 \\\\\n1  1  1  0  1  0  0 \\\\\n0  0  1  1  0  1  0 \\\\\n0  0  0  0  1  0  1 \\\\\n0  0  0  0  0  1  0\n\\end{pmatrix}\n$$\n其中，如果蛋白质 $i$ 和蛋白质 $j$ 之间存在相互作用，则 $A_{ij}=1$。\n\n**任务1：计算每个顶点 $i$ 的局部聚类系数 $C_i$。**\n\n顶点 $i$ 的局部聚类系数 $C_i$ 定义为在 $i$ 的邻居之间可能存在的边中，实际存在的边的比例。如果 $k_i$ 是顶点 $i$ 的度（即其邻居的数量），$E_i$ 是 $i$ 的邻居之间的边数，那么 $C_i$ 由以下公式给出：\n$$\nC_i = \\frac{E_i}{\\binom{k_i}{2}} = \\frac{2E_i}{k_i(k_i - 1)}\n$$\n根据约定，如果 $k_i  2$，则 $C_i=0$。设 $N(i)$ 是顶点 $i$ 的邻居集合。$k_i = |N(i)|$ 是矩阵 $A$ 第 $i$ 行各项的总和。$E_i$ 是满足 $j, k \\in N(i)$ 且 $A_{jk}=1$ 的顶点对 $\\{j, k\\}$ 的数量。\n\n我们来计算每个顶点 $i \\in \\{1, 2, \\dots, 7\\}$ 的 $C_i$。\n\n- **顶点 1：**从 $A$ 的第 1 行可知，$N(1) = \\{2, 3, 4\\}$。度为 $k_1 = 3$。可能的邻居对有 $\\{2,3\\}, \\{2,4\\}, \\{3,4\\}$。我们检查邻接矩阵中这些邻居之间的边：$A_{23}=1$，$A_{24}=1$，$A_{34}=1$。因此，顶点 1 的邻居之间有 $E_1=3$ 条边。\n$$ C_1 = \\frac{3}{\\binom{3}{2}} = \\frac{3}{3} = 1 $$\n\n- **顶点 2：**从 $A$ 的第 2 行可知，$N(2) = \\{1, 3, 4\\}$。度为 $k_2 = 3$。邻居对有 $\\{1,3\\}, \\{1,4\\}, \\{3,4\\}$。我们检查边：$A_{13}=1$，$A_{14}=1$，$A_{34}=1$。有 $E_2=3$ 条边。\n$$ C_2 = \\frac{3}{\\binom{3}{2}} = \\frac{3}{3} = 1 $$\n\n- **顶点 3：**从 $A$ 的第 3 行可知，$N(3) = \\{1, 2, 4, 5\\}$。度为 $k_3 = 4$。有 $\\binom{4}{2}=6$ 对可能的邻居：$\\{1,2\\}, \\{1,4\\}, \\{1,5\\}, \\{2,4\\}, \\{2,5\\}, \\{4,5\\}$。我们检查边：$A_{12}=1$，$A_{14}=1$，$A_{15}=0$，$A_{24}=1$，$A_{25}=0$，$A_{45}=1$。存在的边数为 $E_3 = 1+1+0+1+0+1 = 4$。\n$$ C_3 = \\frac{4}{\\binom{4}{2}} = \\frac{4}{6} = \\frac{2}{3} $$\n\n- **顶点 4：**从 $A$ 的第 4 行可知，$N(4) = \\{1, 2, 3, 5\\}$。度为 $k_4 = 4$。邻居对有 $\\{1,2\\}, \\{1,3\\}, \\{1,5\\}, \\{2,3\\}, \\{2,5\\}, \\{3,5\\}$。我们检查边：$A_{12}=1$，$A_{13}=1$，$A_{15}=0$，$A_{23}=1$，$A_{25}=0$，$A_{35}=1$。存在的边数为 $E_4 = 1+1+0+1+0+1=4$。\n$$ C_4 = \\frac{4}{\\binom{4}{2}} = \\frac{4}{6} = \\frac{2}{3} $$\n\n- **顶点 5：**从 $A$ 的第 5 行可知，$N(5) = \\{3, 4, 6\\}$。度为 $k_5 = 3$。邻居对有 $\\{3,4\\}, \\{3,6\\}, \\{4,6\\}$。我们检查边：$A_{34}=1$，$A_{36}=0$，$A_{46}=0$。存在的边数为 $E_5=1$。\n$$ C_5 = \\frac{1}{\\binom{3}{2}} = \\frac{1}{3} $$\n\n- **顶点 6：**从 $A$ 的第 6 行可知，$N(6) = \\{5, 7\\}$。度为 $k_6 = 2$。有一对邻居 $\\{5,7\\}$。我们检查边：$A_{57}=0$。存在的边数为 $E_6=0$。\n$$ C_6 = \\frac{0}{\\binom{2}{2}} = \\frac{0}{1} = 0 $$\n\n- **顶点 7：**从 $A$ 的第 7 行可知，$N(7) = \\{6\\}$。度为 $k_7 = 1$。由于 $k_7  2$，根据约定，$C_7=0$。\n\n计算出的局部聚类系数为：\n$C_1=1$, $C_2=1$, $C_3=\\frac{2}{3}$, $C_4=\\frac{2}{3}$, $C_5=\\frac{1}{3}$, $C_6=0$, $C_7=0$。\n\n**任务2：找出高传递性导出子图的最大连通分量。**\n\n给定的阈值为 $\\tau = \\frac{2}{3}$。我们需要在顶点集 $V' = \\{i : C_i \\ge \\tau\\}$ 上构建导出子图。\n使用任务1中的值：\n- $C_1 = 1 \\ge \\frac{2}{3}$\n- $C_2 = 1 \\ge \\frac{2}{3}$\n- $C_3 = \\frac{2}{3} \\ge \\frac{2}{3}$\n- $C_4 = \\frac{2}{3} \\ge \\frac{2}{3}$\n- $C_5 = \\frac{1}{3}  \\frac{2}{3}$\n- $C_6 = 0  \\frac{2}{3}$\n- $C_7 = 0  \\frac{2}{3}$\n\n导出子图的顶点集为 $V' = \\{1, 2, 3, 4\\}$。\n该导出子图包含这四个顶点以及原始图中连接它们任意一对的所有边。我们考察 $A$ 中对应于第 1, 2, 3, 4 行和列的子矩阵：\n$$\nA' = \\begin{pmatrix}\n0  1  1  1 \\\\\n1  0  1  1 \\\\\n1  1  0  1 \\\\\n1  1  1  0\n\\end{pmatrix}\n$$\n这是 4 个顶点上的完全图（记为 $K_4$）的邻接矩阵。在完全图中，每个顶点都与其他所有顶点相连。因此，该图是连通的。这个导出子图由单个连通分量构成。由于只有一个分量，它自然是最大的一个。这个最大分量的顶点集是 $\\{1, 2, 3, 4\\}$。\n\n**任务3：计算最大分量中各顶点的 $C_i$ 的算术平均值。**\n\n最大高传递性分量中的顶点是 $\\{1, 2, 3, 4\\}$。我们需要计算它们对应的 $C_i$ 值的算术平均值。\n这些值为 $C_1=1$, $C_2=1$, $C_3=\\frac{2}{3}$ 和 $C_4=\\frac{2}{3}$。\n算术平均值 $\\bar{C}$ 计算如下：\n$$\n\\bar{C} = \\frac{1}{4} \\sum_{i \\in \\{1,2,3,4\\}} C_i = \\frac{1}{4} \\left(C_1 + C_2 + C_3 + C_4\\right)\n$$\n$$\n\\bar{C} = \\frac{1}{4} \\left(1 + 1 + \\frac{2}{3} + \\frac{2}{3}\\right)\n$$\n$$\n\\bar{C} = \\frac{1}{4} \\left(2 + \\frac{4}{3}\\right)\n$$\n$$\n\\bar{C} = \\frac{1}{4} \\left(\\frac{6}{3} + \\frac{4}{3}\\right)\n$$\n$$\n\\bar{C} = \\frac{1}{4} \\left(\\frac{10}{3}\\right)\n$$\n$$\n\\bar{C} = \\frac{10}{12} = \\frac{5}{6}\n$$\n最大高传递性分量中各顶点的聚类系数的算术平均值为 $\\frac{5}{6}$。", "answer": "$$\n\\boxed{\\frac{5}{6}}\n$$", "id": "4602288"}, {"introduction": "局部聚类系数评估的是局部密度，而模块度则为网络的社区结构提供了全局视角。本练习要求您为一个给定的网络分区计算模块度得分 $Q$，这是评估社区发现算法结果的一项关键技能。通过比较一个非平凡分区与一个单一合并社区的模块度 [@problem_id:4602287]，您将直观地理解 $Q$ 是如何衡量网络划分为不同模块的强度的。", "problem": "一个经过整理的蛋白质-蛋白质相互作用（PPI）网络被表示为一个简单、无向、无权图，其节点集为 $\\{A,B,C,D,E,F,G,H\\}$，边集为 $\\{(A,B),(A,C),(B,C),(B,D),(C,D),(D,E),(E,F),(E,G),(F,G),(G,H),(F,H)\\}$。考虑以下适用于网络模块度的基本背景：图的特征由其邻接关系、节点度数和总边数决定；社群结构的评估是相对于一个保留度数的随机图零模型进行的，因此，高度模块化的划分是指其内部边的数量多于此零模型下的期望值。\n\n给定一个划分 $\\mathcal{P}=\\{C_{1},C_{2}\\}$，其中 $C_{1}=\\{A,B,C,D\\}$ 且 $C_{2}=\\{E,F,G,H\\}$。使用基于保留度数的随机图零模型的标准模块度 $Q$ 定义，计算划分 $\\mathcal{P}$ 的模块度 $Q$。然后，考虑将 $C_{1}$ 和 $C_{2}$ 合并成一个单一社群 $C_{\\text{merge}}=\\{A,B,C,D,E,F,G,H\\}$，并计算这个合并后划分的模块度 $Q_{\\text{merge}}$。报告模块度的变化量 $\\Delta Q=Q_{\\text{merge}}-Q$ 作为你的最终答案。最终答案请表示为精确的有理数，不要四舍五入。", "solution": "该问题是有效的，因为它在科学上基于标准的图论及其在生物信息学中的应用，问题陈述清晰，提供了所有必要信息，并且表述客观。我们开始解题。\n\n***\n\n一个已划分网络的模块度 $Q$ 是衡量该网络划分为模块（或社群）的强度指标。对于一个有 $m$ 条边的图的给定划分 $\\mathcal{P} = \\{C_1, C_2, \\ldots, C_k\\}$，模块度定义为：\n$$ Q = \\sum_{i=1}^{k} \\left( e_{ii} - a_i^2 \\right) = \\sum_{i=1}^{k} \\left[ \\frac{L_i}{m} - \\left(\\frac{d_i}{2m}\\right)^2 \\right] $$\n其中：\n-   $k$ 是划分中社群的数量。\n-   $L_i$ 是完全在社群 $C_i$ 内部的边数。\n-   $m$ 是网络中的总边数。\n-   $d_i$ 是社群 $C_i$ 中节点的度数之和。\n-   项 $e_{ii} = \\frac{L_i}{m}$ 是在社群 $C_i$ 内部的边所占的比例。\n-   项 $a_i = \\frac{d_i}{2m}$ 是连接到社群 $C_i$ 中节点的边的端点所占的比例。\n\n首先，我们描述给定图的特征。\n总边数为 $m = |E| = 11$。\n各个节点的度数如下：\n-   $\\deg(A) = 2$ (连接到 $B, C$ 的边)\n-   $\\deg(B) = 3$ (连接到 $A, C, D$ 的边)\n-   $\\deg(C) = 3$ (连接到 $A, B, D$ 的边)\n-   $\\deg(D) = 3$ (连接到 $B, C, E$ 的边)\n-   $\\deg(E) = 3$ (连接到 $D, F, G$ 的边)\n-   $\\deg(F) = 3$ (连接到 $E, G, H$ 的边)\n-   $\\deg(G) = 3$ (连接到 $E, F, H$ 的边)\n-   $\\deg(H) = 2$ (连接到 $F, G$ 的边)\n\n所有度数的总和为 $\\sum_{v \\in V} \\deg(v) = 2+3+3+3+3+3+3+2 = 22$。这与握手引理 $2m = 2 \\times 11 = 22$ 一致。\n\n接下来，我们计算划分 $\\mathcal{P}=\\{C_{1},C_{2}\\}$ 的模块度 $Q$，其中 $C_{1}=\\{A,B,C,D\\}$ 且 $C_{2}=\\{E,F,G,H\\}$。\n\n对于社群 $C_{1}=\\{A,B,C,D\\}$：\n-   内部边数 $L_1$ 是指两个端点都在 $C_1$ 内的边：$\\{(A,B), (A,C), (B,C), (B,D), (C,D)\\}$。因此，$L_1=5$。\n-   $C_1$ 中节点的度数之和为 $d_1 = \\deg(A) + \\deg(B) + \\deg(C) + \\deg(D) = 2+3+3+3=11$。\n\n对于社群 $C_{2}=\\{E,F,G,H\\}$：\n-   内部边数 $L_2$ 是指两个端点都在 $C_2$ 内的边：$\\{(E,F), (E,G), (F,G), (G,H), (F,H)\\}$。因此，$L_2=5$。\n-   $C_2$ 中节点的度数之和为 $d_2 = \\deg(E) + \\deg(F) + \\deg(G) + \\deg(H) = 3+3+3+2=11$。\n\n现在我们可以计算模块度 $Q$：\n$$ Q = \\left[ \\frac{L_1}{m} - \\left(\\frac{d_1}{2m}\\right)^2 \\right] + \\left[ \\frac{L_2}{m} - \\left(\\frac{d_2}{2m}\\right)^2 \\right] $$\n代入数值 $m=11$, $L_1=5$, $d_1=11$, $L_2=5$, and $d_2=11$：\n$$ Q = \\left[ \\frac{5}{11} - \\left(\\frac{11}{2 \\times 11}\\right)^2 \\right] + \\left[ \\frac{5}{11} - \\left(\\frac{11}{2 \\times 11}\\right)^2 \\right] $$\n$$ Q = 2 \\times \\left[ \\frac{5}{11} - \\left(\\frac{1}{2}\\right)^2 \\right] $$\n$$ Q = 2 \\times \\left( \\frac{5}{11} - \\frac{1}{4} \\right) $$\n$$ Q = 2 \\times \\left( \\frac{20 - 11}{44} \\right) $$\n$$ Q = 2 \\times \\frac{9}{44} = \\frac{18}{44} $$\n化简分数得到：\n$$ Q = \\frac{9}{22} $$\n\n接下来，我们计算由单个合并社群 $C_{\\text{merge}}=\\{A,B,C,D,E,F,G,H\\}$ 构成的划分的模块度 $Q_{\\text{merge}}$。这是一个 $k=1$ 的平凡划分。\n对于这个单一社群 $C_{\\text{merge}}$：\n-   内部边数 $L_{\\text{merge}}$ 是图中的总边数，所以 $L_{\\text{merge}} = m = 11$。\n-   节点的度数之和 $d_{\\text{merge}}$ 是图中所有度数的总和，所以 $d_{\\text{merge}} = 2m = 22$。\n\n模块度 $Q_{\\text{merge}}$ 为：\n$$ Q_{\\text{merge}} = \\frac{L_{\\text{merge}}}{m} - \\left(\\frac{d_{\\text{merge}}}{2m}\\right)^2 $$\n$$ Q_{\\text{merge}} = \\frac{m}{m} - \\left(\\frac{2m}{2m}\\right)^2 = \\frac{11}{11} - \\left(\\frac{22}{22}\\right)^2 = 1 - 1^2 = 0 $$\n对于包含所有节点的单个社群构成的划分，其模块度总是为 $0$。\n\n最后，我们计算模块度的变化量 $\\Delta Q$：\n$$ \\Delta Q = Q_{\\text{merge}} - Q $$\n$$ \\Delta Q = 0 - \\frac{9}{22} $$\n$$ \\Delta Q = -\\frac{9}{22} $$\n负的变化量表明，与初始划分相比，合并这两个社群导致了模块化程度更低的结构，这是预料之中的，因为初始划分是网络中一个相当强的分割。", "answer": "$$\n\\boxed{-\\frac{9}{22}}\n$$", "id": "4602287"}]}