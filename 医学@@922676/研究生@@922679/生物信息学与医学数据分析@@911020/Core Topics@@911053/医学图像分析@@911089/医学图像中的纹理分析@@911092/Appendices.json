{"hands_on_practices": [{"introduction": "一阶统计量，如从强度直方图导出的熵，是纹理分析的基石。然而，理解它们的内在属性——例如，它们对像素空间排布的不变性以及对灰度量化变化的敏感性——对于构建稳健的放射组学模型至关重要。这个练习将通过一个概念性推导和一个具体的计算，来阐明信息熵的这两个关键特性。[@problem_id:4613027]", "problem": "一位研究人员正在使用源自强度直方图的一阶统计量来分析灰度磁共振成像 (MRI) 感兴趣区域 (ROI) 中的纹理。考虑一个包含 $N=1000$ 个体素的二维 ROI。灰度级已被量化到 $L=6$ 个相邻的区间中，标记为 1 到 6，其直方图计数为 $(n_1,n_2,n_3,n_4,n_5,n_6)=(150,250,300,100,120,80)$。将以自然单位 (nats) 表示的一阶 (Shannon) 熵定义为 $H=-\\sum_{k=1}^{L} p_k \\ln(p_k)$，其中 $p_k=n_k/N$ 是经验概率，$\\ln$ 表示自然对数。\n\n任务：\n- 从经验直方图和概率质量函数的定义出发，证明 $H$ 在体素空间位置的任何排列下都是不变的（即，任何保持观测到的灰度级多重集不变的 ROI 双射重新索引）。\n- 现在考虑一个重新量化操作，该操作合并相邻的区间 1 和 2，以及合并相邻的区间 3 和 4，从而产生一组新的 $L'=4$ 个区间，其概率为 $(p_{1'}=p_1+p_2,\\; p_{2'}=p_3+p_4,\\; p_{3'}=p_5,\\; p_{4'}=p_6)$。使用第一性原理，推导因合并两个区间而引起的熵变的一般形式，并说明这种变化是增加还是减少熵。然后，对于给定的直方图，计算熵的变化量 $\\Delta H = H' - H$ 的数值（以 nats 为单位）。\n\n将您计算出的 $\\Delta H$ 的最终数值结果四舍五入到四位有效数字，并以 nats 为单位表示。", "solution": "该问题经评估为有效。其科学基础是应用于医学图像分析的信息论原理，问题是适定的，数据一致且完整，并以客观、正式的语言表述。因此，我们可以开始解答。\n\n该问题分为两个任务。我们依次解决每个任务。\n\n## 任务 1：熵在空间排列下的不变性\n\n一阶 Shannon 熵定义为 $H = -\\sum_{k=1}^{L} p_k \\ln(p_k)$。本任务的核心是证明概率 $p_k$ 对于感兴趣区域 (ROI) 内体素的空间排列是不变的。\n\n经验直方图是通过统计灰度值落入区间 $k$ 的体素数量 $n_k$ 来构建的。设 ROI 中所有体素索引的集合为 $\\mathcal{V} = \\{v_1, v_2, \\ldots, v_N\\}$，其中 $N = 1000$ 是体素总数。设 $I(v)$ 是空间位置 $v \\in \\mathcal{V}$ 处体素的灰度值。灰度级被量化为 $L=6$ 个区间。每个区间 $k$ 的计数由下式给出：\n$$\nn_k = |\\{v \\in \\mathcal{V} \\mid I(v) \\text{ is in bin } k\\}|\n$$\n问题陈述我们考虑一种“保持观测到的灰度级多重集不变的 ROI 双射重新索引”。设 $\\sigma: \\mathcal{V} \\rightarrow \\mathcal{V}$ 为这种体素空间位置的排列。经过这次重新索引后，位置 $v$ 处的体素现在的灰度级为 $I'(v) = I(\\sigma(v))$。\n\n排列前的灰度级多重集为 $\\{I(v_1), I(v_2), \\ldots, I(v_N)\\}$。排列后的灰度级多重集为 $\\{I'(v_1), I'(v_2), \\ldots, I'(v_N)\\} = \\{I(\\sigma(v_1)), I(\\sigma(v_2)), \\ldots, I(\\sigma(v_N))\\}$。由于 $\\sigma$ 是体素索引集合上的一个双射，第二个多重集仅仅是第一个多重集的重新排序，因此这两个多重集是相同的。\n\n新的直方图计数 $n'_k$ 是根据排列后的强度图 $I'$ 计算得出的：\n$$\nn'_k = |\\{v \\in \\mathcal{V} \\mid I'(v) \\text{ is in bin } k\\}| = |\\{v \\in \\mathcal{V} \\mid I(\\sigma(v)) \\text{ is in bin } k\\}|\n$$\n因为 $\\sigma$ 是一个双射，当 $v$ 遍历 $\\mathcal{V}$ 中的所有元素时，$\\sigma(v)$ 也恰好遍历 $\\mathcal{V}$ 中的所有元素一次。因此，被评估的体素集合 $\\{I(\\sigma(v_1)), \\ldots, I(\\sigma(v_N))\\}$ 与原始集合 $\\{I(v_1), \\ldots, I(v_N)\\}$ 相同。所以，强度落入区间 $k$ 的体素数量保持不变。\n$$\nn'_k = n_k \\quad \\text{for all } k \\in \\{1, \\ldots, L\\}\n$$\n经验概率定义为 $p_k = n_k / N$。由于 $n_k$ 和 $N$ 在空间排列下都是不变的，因此概率 $p_k$ 也是不变的：\n$$\np'_k = \\frac{n'_k}{N} = \\frac{n_k}{N} = p_k\n$$\nShannon 熵 $H$ 仅仅是概率集合 $\\{p_1, p_2, \\ldots, p_L\\}$ 的函数。由于这些概率不受体素空间排列的影响，熵 $H$ 也必然是不变的。这证明了像从直方图导出的一阶统计量（如熵）对灰度级的空间配置不敏感。\n\n## 任务 2：因区间合并引起的熵变\n\n### 一般推导和变化方向\n\n考虑两个不同的区间，标记为 $a$ 和 $b$，其概率分别为 $p_a$ 和 $p_b$。所有其他区间 $k \\notin \\{a,b\\}$ 的概率为 $p_k$。初始熵为：\n$$\nH = - \\sum_{k=1}^{L} p_k \\ln(p_k) = -(p_a \\ln(p_a) + p_b \\ln(p_b)) - \\sum_{k \\neq a, b} p_k \\ln(p_k)\n$$\n重新量化操作将区间 $a$ 和 $b$ 合并成一个新的单一区间，我们称之为 $a'$，其新概率为 $p_{a'} = p_a + p_b$。其他区间保持不变。新的熵 $H'$ 是在新的区间集上计算的：\n$$\nH' = -p_{a'} \\ln(p_{a'}) - \\sum_{k \\neq a, b} p_k \\ln(p_k) = -(p_a+p_b)\\ln(p_a+p_b) - \\sum_{k \\neq a, b} p_k \\ln(p_k)\n$$\n由于这次单次合并操作引起的熵变 $\\Delta H_{\\text{merge}}$ 是差值 $H' - H$：\n$$\n\\Delta H_{\\text{merge}} = H' - H = \\left[ -(p_a+p_b)\\ln(p_a+p_b) - \\sum_{k \\neq a, b} p_k \\ln(p_k) \\right] - \\left[ -(p_a \\ln(p_a) + p_b \\ln(p_b)) - \\sum_{k \\neq a, b} p_k \\ln(p_k) \\right]\n$$\n未合并区间的项相互抵消，留下了合并两个区间所致熵变的一般形式：\n$$\n\\Delta H_{\\text{merge}} = p_a \\ln(p_a) + p_b \\ln(p_b) - (p_a+p_b)\\ln(p_a+p_b)\n$$\n为了确定这个变化的符号，我们可以重写该表达式：\n$$\n\\Delta H_{\\text{merge}} = p_a \\ln(p_a) - p_a \\ln(p_a+p_b) + p_b \\ln(p_b) - p_b \\ln(p_a+p_b)\n$$\n$$\n\\Delta H_{\\text{merge}} = p_a \\ln\\left(\\frac{p_a}{p_a+p_b}\\right) + p_b \\ln\\left(\\frac{p_b}{p_a+p_b}\\right)\n$$\n假设区间非空，我们有 $p_a > 0$ 和 $p_b > 0$。这意味着 $p_a+p_b > p_a$ 和 $p_a+p_b > p_b$。因此，对数的自变量 $\\frac{p_a}{p_a+p_b}$ 和 $\\frac{p_b}{p_a+p_b}$ 都严格介于 0 和 1 之间。在此区间内任何数的自然对数都是负的。由于 $p_a$ 和 $p_b$ 是正的，所以和中的两项都是负的。因此，它们的和也是负的。\n$$\n\\Delta H_{\\text{merge}}  0\n$$\n这证明了合并区间总是会减少熵（如果初始概率之一为零，则熵保持不变）。这是一个预期的结果，因为合并区间等同于关于分布的信息损失，使系统显得更加有序。\n\n### 针对给定问题的数值计算\n\n给定的直方图计数为 $(n_1, n_2, n_3, n_4, n_5, n_6) = (150, 250, 300, 100, 120, 80)$，其中 $N=1000$。对应的概率是：\n$p_1 = 150/1000 = 0.15$\n$p_2 = 250/1000 = 0.25$\n$p_3 = 300/1000 = 0.30$\n$p_4 = 100/1000 = 0.10$\n$p_5 = 120/1000 = 0.12$\n$p_6 = 80/1000 = 0.08$\n\n该操作涉及两次独立的合并：区间 1 和 2 合并，区间 3 和 4 合并。总熵变 $\\Delta H$ 是每次单独合并操作引起的熵变之和。设 $\\Delta H_{1,2}$ 为合并区间 1 和 2 引起的熵变，$\\Delta H_{3,4}$ 为合并区间 3 和 4 引起的熵变。\n$$\n\\Delta H = \\Delta H_{1,2} + \\Delta H_{3,4}\n$$\n使用上面推导的一般形式：\n$$\n\\Delta H_{1,2} = p_1 \\ln(p_1) + p_2 \\ln(p_2) - (p_1+p_2)\\ln(p_1+p_2)\n$$\n$$\n\\Delta H_{3,4} = p_3 \\ln(p_3) + p_4 \\ln(p_4) - (p_3+p_4)\\ln(p_3+p_4)\n$$\n新的合并概率为 $p_{1'} = p_1+p_2 = 0.15+0.25 = 0.40$ 和 $p_{2'} = p_3+p_4 = 0.30+0.10 = 0.40$。\n\n现在我们计算以 nats 为单位的数值：\n$$\n\\Delta H_{1,2} = 0.15 \\ln(0.15) + 0.25 \\ln(0.25) - 0.40 \\ln(0.40)\n$$\n$$\n\\Delta H_{1,2} \\approx 0.15(-1.89712) + 0.25(-1.38629) - 0.40(-0.91629)\n$$\n$$\n\\Delta H_{1,2} \\approx -0.284568 - 0.346573 + 0.366516 = -0.264625\n$$\n$$\n\\Delta H_{3,4} = 0.30 \\ln(0.30) + 0.10 \\ln(0.10) - 0.40 \\ln(0.40)\n$$\n$$\n\\Delta H_{3,4} \\approx 0.30(-1.20397) + 0.10(-2.30259) - 0.40(-0.91629)\n$$\n$$\n\\Delta H_{3,4} \\approx -0.361191 - 0.230259 + 0.366516 = -0.224934\n$$\n总熵变为：\n$$\n\\Delta H = \\Delta H_{1,2} + \\Delta H_{3,4} \\approx -0.264625 - 0.224934 = -0.489559\n$$\n将此结果四舍五入到四位有效数字，得到 $-0.4896$。单位是 nats。", "answer": "$$\n\\boxed{-0.4896}\n$$", "id": "4613027"}, {"introduction": "灰度共生矩阵 (Gray-Level Co-occurrence Matrix, GLCM) 能够捕捉像素对的空间关系，但其派生出的特征（如相关性）的解读可能并不直观。本练习使用一个简化的 $2 \\times 2$ GLCM，旨在揭示 GLCM 特征与基础概率论概念之间的深刻联系。通过计算相关性，你将亲身体验统计独立性如何直接体现在纹理特征的数值上。[@problem_id:4612945]", "problem": "归一化的灰度共生矩阵 (Gray-Level Co-occurrence Matrix, GLCM) 通过对固定空间偏移下灰度级的经验联合分布进行建模，广泛用于表征纹理。考虑在医学图像中观察到的一个平稳纹理过程，其中灰度级被离散化为集合 $\\{1, 2\\}$，并且在给定偏移量下的归一化 GLCM 为\n$$\np = \\begin{bmatrix}\n0.1  0.1 \\\\\n0.4  0.4\n\\end{bmatrix},\n$$\n其中行和列由灰度级 $\\{1,2\\}$ 索引。将 $p(i,j)$ 解释为代表参考像素及其在指定偏移处的邻近像素的两个离散随机变量 $X$ 和 $Y$ 的联合概率质量函数，使用概率论中期望、方差和协方差的核心定义，计算由该 GLCM 导出的 $(X,Y)$ 的相关系数。给出相关系数的数值。此外，解释计算出的相关系数的符号和大小对于该偏移处成对灰度级之间的线性关联意味着什么。无需四舍五入。请在首次使用时定义缩写词灰度共生矩阵 (GLCM)。", "solution": "问题要求计算并解释两个随机变量 $X$ 和 $Y$ 之间的相关系数，它们的联合概率分布由一个给定的归一化灰度共生矩阵 (Gray-Level Co-occurrence Matrix, GLCM) 描述。GLCM 是一种用于纹理分析的统计工具。它通过创建一个矩阵来量化像素的空间关系，该矩阵表示在给定偏移处共同出现的灰度值的频率。\n\n随机变量 $X$ 和 $Y$ 分别代表参考像素及其邻近像素的灰度级。可能的灰度级集合为 $\\{1, 2\\}$。归一化的 GLCM，记为 $p$，作为联合概率质量函数 (PMF) $p(i,j) = P(X=i, Y=j)$，其中 $i, j \\in \\{1, 2\\}$。给定的矩阵是：\n$$\np = \\begin{bmatrix}\np(1,1)  p(1,2) \\\\\np(2,1)  p(2,2)\n\\end{bmatrix} = \\begin{bmatrix}\n0.1  0.1 \\\\\n0.4  0.4\n\\end{bmatrix}\n$$\n相关系数 $\\rho_{XY}$ 定义为：\n$$\n\\rho_{XY} = \\frac{\\text{Cov}(X, Y)}{\\sigma_X \\sigma_Y}\n$$\n其中 $\\text{Cov}(X, Y)$ 是 $X$ 和 $Y$ 的协方差，$\\sigma_X$ 和 $\\sigma_Y$ 分别是它们的标准差。\n\n概率分布的一个关键性质是统计独立性。两个离散随机变量 $X$ 和 $Y$ 是独立的，当且仅当它们的联合 PMF 是其边缘 PMF 的乘积，即对于所有可能的 $i$ 和 $j$ 值，都有 $p(i,j) = p_X(i) p_Y(j)$。如果 $X$ 和 $Y$ 是独立的，它们的协方差为零，这又意味着它们的相关系数为零（假设方差非零）。我们首先检查独立性。\n\n首先，我们计算边缘 PMF，$p_X(i)$ 和 $p_Y(j)$。\n$X$ 的边缘 PMF 是通过对矩阵 $p$ 的各行求和得到的：\n$$\np_X(1) = P(X=1) = p(1,1) + p(1,2) = 0.1 + 0.1 = 0.2\n$$\n$$\np_X(2) = P(X=2) = p(2,1) + p(2,2) = 0.4 + 0.4 = 0.8\n$$\n$Y$ 的边缘 PMF 是通过对矩阵 $p$ 的各列求和得到的：\n$$\np_Y(1) = P(Y=1) = p(1,1) + p(2,1) = 0.1 + 0.4 = 0.5\n$$\n$$\np_Y(2) = P(Y=2) = p(1,2) + p(2,2) = 0.1 + 0.4 = 0.5\n$$\n现在，我们通过检查是否对所有配对 $(i, j)$ 都满足 $p(i,j) = p_X(i) p_Y(j)$ 来检验独立性：\n- 对于 $(i,j) = (1,1)$: $p_X(1) p_Y(1) = (0.2)(0.5) = 0.1$。这与 $p(1,1) = 0.1$ 相符。\n- 对于 $(i,j) = (1,2)$: $p_X(1) p_Y(2) = (0.2)(0.5) = 0.1$。这与 $p(1,2) = 0.1$ 相符。\n- 对于 $(i,j) = (2,1)$: $p_X(2) p_Y(1) = (0.8)(0.5) = 0.4$。这与 $p(2,1) = 0.4$ 相符。\n- 对于 $(i,j) = (2,2)$: $p_X(2) p_Y(2) = (0.8)(0.5) = 0.4$。这与 $p(2,2) = 0.4$ 相符。\n\n由于条件 $p(i,j) = p_X(i) p_Y(j)$ 对所有可能的 $(i,j)$ 配对都成立，所以随机变量 $X$ 和 $Y$ 是统计独立的。\n\n对于独立的随机变量，协方差为零：\n$$\n\\text{Cov}(X, Y) = E[XY] - E[X]E[Y]\n$$\n根据独立性，$E[XY] = E[X]E[Y]$，所以\n$$\n\\text{Cov}(X, Y) = E[X]E[Y] - E[X]E[Y] = 0\n$$\n为了确保相关系数有良好定义且等于零，我们必须确认标准差 $\\sigma_X$ 和 $\\sigma_Y$ 非零。这要求方差非零。方差为零意味着随机变量是常数，而这里情况并非如此，因为 $X$ 和 $Y$ 都可以取两个具有非零概率的不同值。为完整起见，我们计算方差：\n$$\nE[X] = \\sum_i i \\cdot p_X(i) = (1)(0.2) + (2)(0.8) = 0.2 + 1.6 = 1.8\n$$\n$$\nE[X^2] = \\sum_i i^2 \\cdot p_X(i) = (1^2)(0.2) + (2^2)(0.8) = 0.2 + 3.2 = 3.4\n$$\n$$\n\\sigma_X^2 = \\text{Var}(X) = E[X^2] - (E[X])^2 = 3.4 - (1.8)^2 = 3.4 - 3.24 = 0.16\n$$\n由于 $\\sigma_X^2 = 0.16  0$，标准差 $\\sigma_X = \\sqrt{0.16} = 0.4$ 是非零的。\n$$\nE[Y] = \\sum_j j \\cdot p_Y(j) = (1)(0.5) + (2)(0.5) = 0.5 + 1.0 = 1.5\n$$\n$$\nE[Y^2] = \\sum_j j^2 \\cdot p_Y(j) = (1^2)(0.5) + (2^2)(0.5) = 0.5 + 2.0 = 2.5\n$$\n$$\n\\sigma_Y^2 = \\text{Var}(Y) = E[Y^2] - (E[Y])^2 = 2.5 - (1.5)^2 = 2.5 - 2.25 = 0.25\n$$\n由于 $\\sigma_Y^2 = 0.25  0$，标准差 $\\sigma_Y = \\sqrt{0.25} = 0.5$ 也是非零的。\n\n因此，相关系数为：\n$$\n\\rho_{XY} = \\frac{\\text{Cov}(X, Y)}{\\sigma_X \\sigma_Y} = \\frac{0}{(0.4)(0.5)} = \\frac{0}{0.2} = 0\n$$\n相关系数的数值为 $0$。\n\n相关系数衡量两个变量之间线性关系的强度和方向。\n-   **符号和大小**：相关系数为 $0$ 没有符号（既不是正的也不是负的），其大小为零。\n-   **含义**：$\\rho_{XY} = 0$ 的值表示在指定偏移处，参考像素的灰度级 $X$ 与其邻近像素的灰度级 $Y$ 之间完全没有线性关联。在这种特殊情况下，零相关是更强的统计独立性条件的结果。这意味着知道一个像素的灰度级对其邻近像素的灰度级没有任何预测信息。在纹理分析的背景下，这意味着在由 GLCM 的偏移定义的尺度和方向上，纹理是完全随机的；在灰度级的成对排列中没有可辨别的结构或模式。这可能在由随机噪声主导的图像区域或其结构特征远小于或远大于所选偏移的纹理中观察到。", "answer": "$$\\boxed{0}$$", "id": "4612945"}, {"introduction": "局部二值模式 (Local Binary Patterns, LBP) 作为一种计算高效且对单调光照变化具有稳健性的纹理描述符，在医学图像分析中越来越受欢迎。为了真正掌握 LBP，理解其从像素邻域到最终编码的完整计算过程至关重要。这个练习将引导你完成 LBP 算子的核心步骤，包括如何生成二进制码以及如何获得其旋转不变的统一模式标签。[@problem_id:4612936]", "problem": "在放射组学驱动的磁共振成像 (MRI) 纹理分析中，局部二值模式 (LBP) 提供了一种局部微观结构的紧凑表示，该表示对单调灰度变换具有鲁棒性。考虑从一个T$_2$加权MRI切片中提取的单通道灰度$3\\times 3$图像块。设中心强度为 $g_c = 10$，在半径 $R=1$ 的圆上按顺时针顺序采样的$8$个邻域点，从角度为$0$的邻域点（x轴正方向，“东方”）开始，其序列为 $[12, 9, 11, 8, 10, 13, 7, 10]$。使用具有$P=8$个邻域点和半径$R=1$的标准局部二值模式 (LBP) 算子，将每个邻域点强度$g_p$的阈值指示函数定义为$s(g_p - g_c)$，其中如果$t \\ge 0$则$s(t)$等于$1$，否则等于$0$。按给定的顺时针顺序形成循环二进制模式，并将此模式解释为一个二进制整数，其中第一个邻域点（角度为0）被赋为最低有效位，位权重按顺时针方向增加。然后，根据规范规则确定旋转不变均匀模式标签：如果循环二进制模式在$0$和$1$之间表现出最多两次跳变，则标签等于模式中$1$的个数；否则，标签等于$P+1$。计算得到的$LBP_{8,1}$码及其旋转不变均匀模式标签。报告这两个值，不带单位。最终答案必须是计算结果，并表示为单行矩阵。无需四舍五入。", "solution": "问题要求计算给定$3\\times3$图像块的局部二值模式 ($LBP$) 码以及相应的旋转不变均匀模式标签。\n\n首先对问题陈述进行验证。\n\n**步骤1：提取已知条件**\n- 图像块是一个$3 \\times 3$的单通道灰度区域。\n- 中心像素强度为$g_c = 10$。\n- 邻域点数量为$P=8$，位于半径$R=1$的圆上。\n- $P=8$个邻域点强度的序列，从东方（$0$度）开始顺时针排列，给定为$[12, 9, 11, 8, 10, 13, 7, 10]$。我们用$\\{g_p\\}_{p=0}^{7}$表示这个序列，所以$g_0=12$，$g_1=9$，依此类推。\n- 阈值函数定义为$s(t)$，其中当$t \\ge 0$时$s(t) = 1$，当$t  0$时$s(t) = 0$。\n- 二进制模式由阈值化差值序列$s(g_p - g_c)$（其中$p=0, 1, \\dots, 7$）形成。\n- $LBP$码是得到的$8$位二进制数的十进制值，其中来自第一个邻域点（$p=0$）的位是最低有效位（LSB），位权重按顺时针方向增加。\n- 旋转不变均匀模式标签由一个基于循环二进制模式中空间跳变（从$0$到$1$或从$1$到$0$的位翻转）次数的规则确定。记为$U(LBP)$。\n    - 如果$U(LBP) \\le 2$，则该模式是“均匀”的，其标签是模式中“1”的数量。\n    - 如果$U(LBP)  2$，则该模式是“非均匀”的，其标签是$P+1$。\n\n**步骤2：使用提取的已知条件进行验证**\n该问题具有科学依据，因为它涉及标准的局部二值模式算子，这是纹理分析和放射组学中的一项基本技术。问题是适定的，提供了所有必要的参数、数据和明确的计算规则。语言客观、正式。问题是完整的、一致的，并且在计算上是可行的。没有违反科学原理、逻辑不一致或含糊不清之处。\n\n**步骤3：结论与行动**\n该问题是有效的。将提供完整的解法。\n\n**解题过程**\n\n首先，我们通过将每个邻域点的强度$g_p$与中心强度$g_c=10$进行比较来计算二进制模式。我们应用阈值函数$s(g_p - g_c)$。\n\n邻域点强度为$g_0=12, g_1=9, g_2=11, g_3=8, g_4=10, g_5=13, g_6=7, g_7=10$。\n\n构成模式比特的阈值化值计算如下：\n- 对于 $p=0$: $s(g_0 - g_c) = s(12 - 10) = s(2) = 1$。\n- 对于 $p=1$: $s(g_1 - g_c) = s(9 - 10) = s(-1) = 0$。\n- 对于 $p=2$: $s(g_2 - g_c) = s(11 - 10) = s(1) = 1$。\n- 对于 $p=3$: $s(g_3 - g_c) = s(8 - 10) = s(-2) = 0$。\n- 对于 $p=4$: $s(g_4 - g_c) = s(10 - 10) = s(0) = 1$。\n- 对于 $p=5$: $s(g_5 - g_c) = s(13 - 10) = s(3) = 1$。\n- 对于 $p=6$: $s(g_6 - g_c) = s(7 - 10) = s(-3) = 0$。\n- 对于 $p=7$: $s(g_7 - g_c) = s(10 - 10) = s(0) = 1$。\n\n对应于邻域点$p=0, \\dots, 7$的比特序列是$\\{s_p\\}_{p=0}^7 = \\{1, 0, 1, 0, 1, 1, 0, 1\\}$。\n\n接下来，我们计算$LBP_{8,1}$码。问题指定来自邻域点$p=0$的位是最低有效位（LSB）。$LBP$码的公式是：\n$$ LBP_{P,R} = \\sum_{p=0}^{P-1} s(g_p - g_c) \\cdot 2^p $$\n使用$P=8$和我们计算出的比特：\n$$ LBP_{8,1} = s_0 \\cdot 2^0 + s_1 \\cdot 2^1 + s_2 \\cdot 2^2 + s_3 \\cdot 2^3 + s_4 \\cdot 2^4 + s_5 \\cdot 2^5 + s_6 \\cdot 2^6 + s_7 \\cdot 2^7 $$\n从$s_7$到$s_0$读取的二进制字符串是$10110101_2$。\n$$ LBP_{8,1} = 1 \\cdot 2^0 + 0 \\cdot 2^1 + 1 \\cdot 2^2 + 0 \\cdot 2^3 + 1 \\cdot 2^4 + 1 \\cdot 2^5 + 0 \\cdot 2^6 + 1 \\cdot 2^7 $$\n$$ LBP_{8,1} = 1 \\cdot 1 + 0 \\cdot 2 + 1 \\cdot 4 + 0 \\cdot 8 + 1 \\cdot 16 + 1 \\cdot 32 + 0 \\cdot 64 + 1 \\cdot 128 $$\n$$ LBP_{8,1} = 1 + 4 + 16 + 32 + 128 = 181 $$\n第一个要求的值，即$LBP_{8,1}$码，是$181$。\n\n现在，我们确定旋转不变均匀模式标签，记为$LBP_{P,R}^{riu2}$。我们必须计算循环二进制模式$(s_0, s_1, s_2, s_3, s_4, s_5, s_6, s_7)$中的跳变次数$U$。\n该模式是$(1, 0, 1, 0, 1, 1, 0, 1)$。\n跳变次数$U$由以下公式给出：\n$$ U = |s_{P-1} - s_0| + \\sum_{p=1}^{P-1} |s_p - s_{p-1}| $$\n当$P=8$时，模式为$(s_0, s_1, s_2, s_3, s_4, s_5, s_6, s_7) = (1, 0, 1, 0, 1, 1, 0, 1)$。\n让我们按顺序计算跳变：\n- $s_0 \\to s_1$: $1 \\to 0$，跳变。（$1$）\n- $s_1 \\to s_2$: $0 \\to 1$，跳变。（$2$）\n- $s_2 \\to s_3$: $1 \\to 0$，跳变。（$3$）\n- $s_3 \\to s_4$: $0 \\to 1$，跳变。（$4$）\n- $s_4 \\to s_5$: $1 \\to 1$，无跳变。\n- $s_5 \\to s_6$: $1 \\to 0$，跳变。（$5$）\n- $s_6 \\to s_7$: $0 \\to 1$，跳变。（$6$）\n- $s_7 \\to s_0$ (循环部分): $1 \\to 1$，无跳变。\n总跳变次数为$U=6$。\n\n根据均匀模式的规则，如果$U \\le 2$，则模式是均匀的。由于$U=6$，大于$2$，因此该模式是非均匀的。\n对于非均匀模式，旋转不变均匀模式标签定义为$P+1$。\n给定$P=8$，标签为$8+1=9$。\n\n计算出的两个值是$LBP_{8,1}$码（为$181$）及其旋转不变均匀模式标签（为$9$）。最终答案应表示为单行矩阵。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n181  9\n\\end{pmatrix}\n}\n$$", "id": "4612936"}]}