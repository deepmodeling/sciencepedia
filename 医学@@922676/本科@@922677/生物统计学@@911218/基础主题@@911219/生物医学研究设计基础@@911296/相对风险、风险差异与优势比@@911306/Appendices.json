{"hands_on_practices": [{"introduction": "掌握相对风险、风险差和比值比的第一步，是从实际研究数据中计算它们。这项练习将引导你完成这一基本过程，根据一个队列研究的 $2 \\times 2$ 列联表中的原始计数，直接应用定义来计算这三个关键的关联度量 [@problem_id:4947890]。通过这个实践，你将巩固对这些概念的计算基础。", "problem": "一项前瞻性队列研究调查了职业性接触一种溶剂是否与一年内接触性皮炎的发生有关。在接触工人中，有 $a=48$ 例皮炎病例和 $b=152$ 例非病例，总共 $a+b=200$ 人。在未接触工人中，有 $c=30$ 例病例和 $d=270$ 例非病例，总共 $c+d=300$ 人。设 $\\hat{p}_{1}=\\frac{a}{a+b}$ 表示接触组的估计风险，设 $\\hat{p}_{0}=\\frac{c}{c+d}$ 表示未接触组的估计风险。仅从风险是组内事件的概率以及比值是事件概率与非事件概率之比的基本定义出发，使用样本比例来推导和计算接触组与未接触组相比的皮炎估计相对风险 (RR)、估计风险差 (RD) 和估计比值比 (OR)。将您的最终答案表示为最简形式的精确有理数，并按 $\\widehat{RR}$、$\\widehat{RD}$、$\\widehat{OR}$ 的顺序以单行矩阵形式呈现。不需要四舍五入，也不要使用百分号；将风险差表示为分数或小数。", "solution": "该问题要求根据所提供的前瞻性队列研究的样本数据，推导和计算估计的相对风险 ($\\widehat{RR}$)、风险差 ($\\widehat{RD}$) 和比值比 ($\\widehat{OR}$)。推导必须从风险和比值的基本定义出发。\n\n所提供的数据如下：\n- 接触组：$a=48$ 例病例（皮炎），$b=152$ 例非病例。接触工人总数为 $N_1 = a+b = 48+152 = 200$。\n- 未接触组：$c=30$ 例病例，$d=270$ 例非病例。未接触工人总数为 $N_0 = c+d = 30+270 = 300$。\n\n基本定义如下：\n- **风险 (Risk)**：特定群体内某一事件（在此情况下为患上皮炎）发生的概率。\n- **比值 (Odds)**：某一事件发生的概率与该事件不发生的概率之比。\n\n首先，我们根据问题中的定义，使用样本比例来估计接触组和未接触组中患皮炎的风险。\n接触组中的估计风险 $\\hat{p}_1$ 是患上皮炎的接触工人的比例：\n$$\n\\hat{p}_1 = \\frac{a}{a+b} = \\frac{48}{200} = \\frac{6}{25}\n$$\n未接触组中的估计风险 $\\hat{p}_0$ 是患上皮炎的未接触工人的比例：\n$$\n\\hat{p}_0 = \\frac{c}{c+d} = \\frac{30}{300} = \\frac{1}{10}\n$$\n\n有了这些估计风险，我们现在可以推导和计算所要求的三个关联性度量。\n\n**1. 相对风险 (RR)**\n相对风险定义为接触组的风险与未接触组的风险之比。\n$$\nRR = \\frac{\\text{接触组的风险}}{\\text{未接触组的风险}} = \\frac{p_1}{p_0}\n$$\n估计的相对风险 $\\widehat{RR}$ 是估计风险之比：\n$$\n\\widehat{RR} = \\frac{\\hat{p}_1}{\\hat{p}_0}\n$$\n代入计算出的 $\\hat{p}_1$ 和 $\\hat{p}_0$ 的值：\n$$\n\\widehat{RR} = \\frac{6/25}{1/10} = \\frac{6}{25} \\times 10 = \\frac{60}{25} = \\frac{12}{5}\n$$\n\n**2. 风险差 (RD)**\n风险差定义为接触组和未接触组之间风险的绝对差异。它代表了可归因于暴露的超额风险。\n$$\nRD = \\text{接触组的风险} - \\text{未接触组的风险} = p_1 - p_0\n$$\n估计的风险差 $\\widehat{RD}$ 是估计风险之差：\n$$\n\\widehat{RD} = \\hat{p}_1 - \\hat{p}_0\n$$\n代入计算出的 $\\hat{p}_1$ 和 $\\hat{p}_0$ 的值：\n$$\n\\widehat{RD} = \\frac{6}{25} - \\frac{1}{10} = \\frac{12}{50} - \\frac{5}{50} = \\frac{7}{50}\n$$\n\n**3. 比值比 (OR)**\n事件的比值定义为事件发生的概率与事件不发生的概率之比。\n- 接触组的比值为 $Odds_1 = \\frac{p_1}{1-p_1}$。\n- 未接触组的比值为 $Odds_0 = \\frac{p_0}{1-p_0}$。\n\n比值的样本估计值是从样本比例中推导出来的。\n接触组的估计比值为：\n$$\n\\widehat{Odds}_1 = \\frac{\\hat{p}_1}{1-\\hat{p}_1} = \\frac{a/(a+b)}{1-a/(a+b)} = \\frac{a/(a+b)}{b/(a+b)} = \\frac{a}{b}\n$$\n未接触组的估计比值为：\n$$\n\\widehat{Odds}_0 = \\frac{\\hat{p}_0}{1-\\hat{p}_0} = \\frac{c/(c+d)}{1-c/(c+d)} = \\frac{c/(c+d)}{d/(c+d)} = \\frac{c}{d}\n$$\n比值比是接触组的比值与未接触组的比值之比：\n$$\nOR = \\frac{Odds_1}{Odds_0}\n$$\n估计的比值比 $\\widehat{OR}$ 是估计比值之比，可简化为列联表的交叉乘积比：\n$$\n\\widehat{OR} = \\frac{\\widehat{Odds}_1}{\\widehat{Odds}_0} = \\frac{a/b}{c/d} = \\frac{ad}{bc}\n$$\n代入给定值 $a=48$，$b=152$，$c=30$ 和 $d=270$：\n$$\n\\widehat{OR} = \\frac{48 \\times 270}{152 \\times 30} = \\frac{48}{152} \\times \\frac{270}{30} = \\frac{48}{152} \\times 9\n$$\n我们通过将分子和分母除以它们的最大公约数来简化分数 $\\frac{48}{152}$。两者都可以被 $8$ 整除：$48 \\div 8 = 6$ 且 $152 \\div 8 = 19$。\n$$\n\\widehat{OR} = \\frac{6}{19} \\times 9 = \\frac{54}{19}\n$$\n由于 $19$ 是一个质数，而 $54$ 不是 $19$ 的倍数，所以这个分数是最简形式。\n\n以最简有理数形式计算出的估计值为：\n$\\widehat{RR} = \\frac{12}{5}$\n$\\widehat{RD} = \\frac{7}{50}$\n$\\widehat{OR} = \\frac{54}{19}$", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\frac{12}{5}  \\frac{7}{50}  \\frac{54}{19}\n\\end{pmatrix}\n}\n$$", "id": "4947890"}, {"introduction": "在实践中，一个常见的误区是假设比值比 ($OR$) 总是相对风险 ($RR$) 的一个良好近似。这项练习旨在通过一个具体的反例来揭示这一假设的局限性 [@problem_id:4947903]。你将分析在何种条件下 $OR$ 会显著偏离 $RR$，并从数学上解释这种差异的根源，从而加深对这两种度量选择和解读的理解。", "problem": "考虑一项关于二元暴露和二元不良结局的队列研究。设 $p_0$ 表示非暴露组中结局的风险（概率），$p_1$ 表示暴露组中结局的风险。假设该研究的数据为 $p_0 = 0.12$ 和 $p_1 = 0.60$。使用风险、比值、相对风险（RR）、风险差（RD）和比值比（OR）的基本定义，构建一个反例，以证明即使当 $p_0$ 适度小时，$OR$ 仍可能显著超过 $RR$，并从概念上解释 $RD$ 如何导致这种差异。计算此场景下的标量 $OR/RR$。将 $OR/RR$ 的精确值作为最终答案。", "solution": "设 $p_0$ 为非暴露组中结局的概率（基线风险），$p_1$ 为暴露组中结局的概率。问题提供了以下数值：\n$p_0 = 0.12$\n$p_1 = 0.60$\n\n我们首先陈述所涉及量的基本定义。\n风险 $R$ 是指结局发生的概率。\n非暴露组的风险：$R_0 = p_0$。\n暴露组的风险：$R_1 = p_1$。\n\n比值 $O$ 定义为事件发生的概率与不发生的概率之比。\n$O = \\frac{p}{1-p}$。\n非暴露组的比值：$O_0 = \\frac{p_0}{1-p_0}$。\n暴露组的比值：$O_1 = \\frac{p_1}{1-p_1}$。\n\n基于这些，我们定义三种主要的关联性度量。\n相对风险（$RR$）是暴露组风险与非暴露组风险之比。\n$$RR = \\frac{R_1}{R_0} = \\frac{p_1}{p_0}$$\n\n风险差（$RD$）是两组风险的绝对差值。\n$$RD = R_1 - R_0 = p_1 - p_0$$\n\n比值比（$OR$）是暴露组结局比值与非暴露组结局比值之比。\n$$OR = \\frac{O_1}{O_0} = \\frac{p_1 / (1-p_1)}{p_0 / (1-p_0)}$$\n\n问题要求构建一个反例来证明，即使基线风险 $p_0$ 适度小时，$OR$ 仍可能显著超过 $RR$。我们为此使用所提供的值。\n\n首先，我们计算给定场景下的 $RR$ 和 $RD$。\n$$RR = \\frac{p_1}{p_0} = \\frac{0.60}{0.12} = 5$$\n$$RD = p_1 - p_0 = 0.60 - 0.12 = 0.48$$\n相对风险为 $5$ 表明暴露与结局之间存在强关联。\n\n接下来，我们计算 $OR$。\n$$OR = \\frac{0.60 / (1-0.60)}{0.12 / (1-0.12)} = \\frac{0.60 / 0.40}{0.12 / 0.88} = \\frac{1.5}{0.13636...} = 11$$\n为了求得精确值，我们使用分数进行计算：\n$$OR = \\frac{60/100 / 40/100}{12/100 / 88/100} = \\frac{60/40}{12/88} = \\frac{3/2}{3/22} = \\frac{3}{2} \\times \\frac{22}{3} = 11$$\n\n在这种情况下，$OR$ 为 $11$，而 $RR$ 为 $5$。$OR$ 是 $RR$ 的两倍多，这便构成了所要求的证明。基线风险 $p_0 = 0.12$ ($12\\%$) 可被认为是适度小的，但 $OR$ 和 $RR$ 之间的差异是巨大的。这驳斥了“罕见病假设”的过度简化应用，该假设认为只有当结局罕见时（即 $p_0$ 和 $p_1$ 都非常接近于 $0$），才有 $OR \\approx RR$。\n\n现在，我们分析 $OR$ 和 $RR$ 之间的关系，以解释 $RD$ 的作用。让我们重新整理 $OR$ 的公式：\n$$OR = \\frac{p_1 / (1-p_1)}{p_0 / (1-p_0)} = \\left(\\frac{p_1}{p_0}\\right) \\left(\\frac{1-p_0}{1-p_1}\\right)$$\n由于 $RR = p_1/p_0$，我们有：\n$$OR = RR \\times \\frac{1-p_0}{1-p_1}$$\n这个方程揭示了 $OR$ 是 $RR$ 乘以一个校正因子 $\\frac{1-p_0}{1-p_1}$。常见的近似 $OR \\approx RR$ 仅当该因子接近 $1$ 时才有效。这在 $1-p_0 \\approx 1-p_1$ 时发生，意味着 $p_0 \\approx p_1$。然而，该近似的一个更常见条件是当 $p_0$ 和 $p_1$ 都很小时，使得 $1-p_0 \\approx 1$ 和 $1-p_1 \\approx 1$。\n\n在我们的场景中，$p_0$ 偏小 ($0.12$) 但 $p_1$ 很大 ($0.60$)。$p_1$ 的大数值是导致这种差异的原因。校正因子分母中的项 $(1-p_1)$ 变小，从而增大了该因子的值，进而增大了 $OR$。\n\n通过将 $p_1 = p_0 + RD$ 代入校正因子，可以看出风险差（$RD$）的作用：\n$$\\frac{OR}{RR} = \\frac{1-p_0}{1-p_1} = \\frac{1-p_0}{1-(p_0 + RD)} = \\frac{1-p_0}{1-p_0-RD}$$\n这种形式阐明了 $RD$ 的贡献。对于固定的基线风险 $p_0$，随着风险差 $RD$ 的增加，分母 $(1-p_0-RD)$ 减小。较小的分母导致较大的 $OR/RR$ 比率，从而放大了 $OR$ 和 $RR$ 之间的差异。在我们的例子中，$RD$ 很大 ($0.48$)，意味着暴露对风险有很大的绝对效应。这个大的 $RD$ 将 $p_1$ 推高到一个高值 ($0.60$)，这反过来又导致项 $(1-p_1)$ 变小 ($0.40$)。正是这个由 $RD$ 量化的大效应量，最终导致了 $OR$ 对 $RR$ 的显著高估。\n\n最后，我们计算所要求的标量 $OR/RR$。\n$$\\frac{OR}{RR} = \\frac{1-p_0}{1-p_1}$$\n代入给定值：\n$$\\frac{OR}{RR} = \\frac{1 - 0.12}{1 - 0.60} = \\frac{0.88}{0.40}$$\n为了将其表示为精确值：\n$$\\frac{0.88}{0.40} = \\frac{88}{40} = \\frac{11 \\times 8}{5 \\times 8} = \\frac{11}{5} = 2.2$$\n在此场景中，$OR$ 正好是 $RR$ 的 $2.2$ 倍。", "answer": "$$\\boxed{2.2}$$", "id": "4947903"}, {"introduction": "现在，我们将分析提升到一个更抽象的层次，探讨一个核心的流行病学概念：效应修饰。这个思想实验将展示，一个在某个标度（如比值比）上恒定的因果效应，如何在另一个标度（如风险差）上表现出截然不同的效应大小，这取决于人群的基线风险 [@problem_id:4947849]。这项练习对于理解效应度量为何不是普适的，以及它们如何依赖于潜在的人群特征至关重要。", "problem": "在一项评估针对某种罕见二元结局（感染）的干预的随机试验中，考虑两个仅在对照组基线风险上存在差异的亚群。设基线风险分别为 $p_{0,\\text{small}} = 0.01$ 和 $p_{0,\\text{moderate}} = 0.20$。假设该干预在各亚群中具有相同的因果优势比（OR），为 $\\theta = 4$。仅使用以下基本定义：对于风险为 $p$ 的二元结局，其优势为 $p/(1-p)$；优势比（OR）是治疗组优势与对照组优势的比值，即治疗组的结局优势是对照组结局优势的 $\\theta$ 倍；风险差（RD）是治疗组风险减去对照组风险。\n\n从这些定义出发，不使用任何预先给定的简化公式，计算在每个亚群中由 $\\theta$ 隐含的治疗组风险 $p_{1,\\text{small}}$ 和 $p_{1,\\text{moderate}}$，然后计算相应的风险差 $RD_{\\text{small}}$ 和 $RD_{\\text{moderate}}$。最后，通过报告比率\n$$R \\;=\\; \\frac{RD_{\\text{small}}}{RD_{\\text{moderate}}}$$\n来量化在优势比尺度上相同的因果效应如何转化为风险差尺度上不同的大小。将最终的数值比率四舍五入到四位有效数字。所有概率均以小数表示。", "solution": "**求解推导**\n问题要求从基本定义出发。我们首先推导治疗组风险 $p_1$ 作为对照组风险 $p_0$ 和优势比 $\\theta$ 的函数的通用表达式。\n\n设 $O_0$ 为对照组结局的优势，$O_1$ 为治疗组的优势。根据定义，对照组的优势为：\n$$ O_0 = \\frac{p_0}{1-p_0} $$\n优势比 $\\theta$ 定义为治疗组优势与对照组优势的比值：\n$$ \\theta = \\frac{O_1}{O_0} $$\n因此，治疗组的优势为：\n$$ O_1 = \\theta \\cdot O_0 = \\theta \\frac{p_0}{1-p_0} $$\n治疗组的优势也可以用治疗组风险 $p_1$ 来表示：\n$$ O_1 = \\frac{p_1}{1-p_1} $$\n令 $O_1$ 的两个表达式相等，得到：\n$$ \\frac{p_1}{1-p_1} = \\theta \\frac{p_0}{1-p_0} $$\n现在我们求解这个方程以得到 $p_1$：\n$$ p_1 = \\left( \\theta \\frac{p_0}{1-p_0} \\right) (1-p_1) $$\n$$ p_1 = \\theta \\frac{p_0}{1-p_0} - p_1 \\left( \\theta \\frac{p_0}{1-p_0} \\right) $$\n$$ p_1 \\left( 1 + \\theta \\frac{p_0}{1-p_0} \\right) = \\theta \\frac{p_0}{1-p_0} $$\n为简化起见，将方程两边同乘以 $(1-p_0)$：\n$$ p_1 \\left( (1-p_0) + \\theta p_0 \\right) = \\theta p_0 $$\n这就得出了治疗组风险的通用公式：\n$$ p_1 = \\frac{\\theta p_0}{1 - p_0 + \\theta p_0} $$\n这个公式使我们能够根据任何给定的对照组风险和优势比计算治疗组风险。\n\n**“小”风险亚群的计算**\n给定 $p_{0,\\text{small}} = 0.01$ 和 $\\theta = 4$。\n治疗组风险 $p_{1,\\text{small}}$ 为：\n$$ p_{1,\\text{small}} = \\frac{4 \\times 0.01}{1 - 0.01 + 4 \\times 0.01} = \\frac{0.04}{0.99 + 0.04} = \\frac{0.04}{1.03} $$\n该亚群的风险差为：\n$$ RD_{\\text{small}} = p_{1,\\text{small}} - p_{0,\\text{small}} = \\frac{0.04}{1.03} - 0.01 $$\n为合并各项，我们找到一个共同的分母：\n$$ RD_{\\text{small}} = \\frac{0.04 - 0.01 \\times 1.03}{1.03} = \\frac{0.04 - 0.0103}{1.03} = \\frac{0.0297}{1.03} $$\n\n**“中等”风险亚群的计算**\n给定 $p_{0,\\text{moderate}} = 0.20$ 和 $\\theta = 4$。\n治疗组风险 $p_{1,\\text{moderate}}$ 为：\n$$ p_{1,\\text{moderate}} = \\frac{4 \\times 0.20}{1 - 0.20 + 4 \\times 0.20} = \\frac{0.80}{0.80 + 0.80} = \\frac{0.80}{1.60} = 0.5 $$\n该亚群的风险差为：\n$$ RD_{\\text{moderate}} = p_{1,\\text{moderate}} - p_{0,\\text{moderate}} = 0.5 - 0.20 = 0.30 $$\n\n**最终比率计算**\n我们需要计算比率 $R = \\frac{RD_{\\text{small}}}{RD_{\\text{moderate}}}$：\n$$ R = \\frac{\\frac{0.0297}{1.03}}{0.30} = \\frac{0.0297}{1.03 \\times 0.30} = \\frac{0.0297}{0.309} $$\n现在我们进行最后的除法运算：\n$$ R \\approx 0.09611650485... $$\n问题要求将结果四舍五入到四位有效数字。前四位有效数字是 $9$、$6$、$1$ 和 $1$。第五位数字是 $6$，大于或等于 $5$，因此我们将第四位有效数字向上取整。\n$$ R \\approx 0.09612 $$\n这一结果表明，在一个尺度（优势比尺度）上的恒定效应，会根据人群的基线风险，在另一个尺度（风险差尺度）上转化为不同的效应。", "answer": "$$\n\\boxed{0.09612}\n$$", "id": "4947849"}]}