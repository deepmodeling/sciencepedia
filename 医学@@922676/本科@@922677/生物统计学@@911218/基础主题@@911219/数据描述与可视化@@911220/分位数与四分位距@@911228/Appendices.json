{"hands_on_practices": [{"introduction": "分位数不仅能量化数据集的中心趋势和离散程度，还能揭示其分布形状。这项练习将挑战你思考在一个两极分化的U形分布中，四分位数会如何表现。通过这个思想实验，你将深化对第一四分位数（$Q_1$）和第三四分位数（$Q_3$）作为数据累积分布“里程碑”的直观理解 [@problem_id:1943534]。", "problem": "一个政治科学研究所正在分析公众对一项极具争议性的新政策的看法。他们对一个庞大的、有代表性的人口样本进行了调查，并要求每位参与者在一个从0（最强烈反对）到10（最强烈支持）的连续尺度上评价他们的支持水平。收集数据后，分析师发现支持分数的分布可以很好地用一个对称的U形概率分布来近似。这表明大多数意见是两极分化的，聚集在0和10的极端附近，而很少有人持中立或温和的观点，即在5这个中点附近。\n\n令 $Q_1$ 为支持分数的第一四分位数（第25百分位数），$Q_2$ 为中位数（第50百分位数），$Q_3$ 为第三四分位数（第75百分位数）。四分位距（IQR）定义为 $\\mathrm{IQR} = Q_3 - Q_1$。\n\n根据所描述的对称U形分数分布，以下哪个陈述最准确地描述了四分位数和IQR的期望值？\n\nA. $Q_1$ 将接近2.5，$Q_3$ 将接近7.5，IQR将近似为5。\n\nB. 中位数（$Q_2$）将接近5，但$Q_1$和$Q_3$也将接近5，导致一个非常小的IQR。\n\nC. $Q_1$ 将接近0，$Q_3$ 将接近10，IQR将很大，覆盖了总数据范围的很大一部分。\n\nD. 中位数（$Q_2$）将接近0，并且$Q_1$和$Q_3$都将位于范围的下半部分。\n\nE. IQR将几乎为零，因为几乎所有受访者都给出了相同的分数。", "solution": "我们将支持分数建模为在 $[0,10]$ 上的连续随机变量 $X$，其分布关于中点 $m=5$ 是对称的U形分布。对称性意味着概率密度函数 $f$ 对其定义域中的所有 $x$ 满足 $f(5+x)=f(5-x)$，累积分布函数 $F$ 满足 $F(5+x)=1-F(5-x)$。根据这种对称性，中位数位于中心：\n$$\nF(5)=\\frac{1}{2}\\quad\\Rightarrow\\quad Q_{2}=5.\n$$\nU形分布意味着 $f(x)$ 在端点0和10附近相对较大，而在中心5附近相对较小。因此，累积分布函数 $F(x)$ 在0附近快速增加，在5附近缓慢增加，然后在10附近再次快速增加。因此，由 $F(Q_{1})=\\frac{1}{4}$ 定义的第一四分位数 $Q_{1}$ 必须靠近下端点，因为前 $\\frac{1}{4}$ 的概率质量在0附近累积。同样，由 $F(Q_{3})=\\frac{3}{4}$ 定义的第三四分位数 $Q_{3}$ 必须靠近上端点10。\n\n相对于在 $[0,10]$ 上的均匀分布（其 $Q_{1}=2.5$，$Q_{3}=7.5$，且 $\\mathrm{IQR}=5$），U形分布将 $Q_{1}$ 向下移动，将 $Q_{3}$ 向上移动，这意味着\n$$\nQ_{1}  2.5,\\quad Q_{3} > 7.5,\\quad \\text{so}\\quad \\mathrm{IQR}=Q_{3}-Q_{1} > 5.\n$$\n在端点处完全两极分化的极端情况下，会有 $Q_{1}\\to 0$ 和 $Q_{3}\\to 10$，因此 $\\mathrm{IQR}\\to 10$。因此，对于在 $[0,10]$ 上的对称U形分布，中位数接近5，$Q_{1}$ 接近0，$Q_{3}$ 接近10，并且IQR很大，跨越了该范围的很大一部分。\n\n评估选项：\n- A 对应于均匀分布，而不是U形分布。\n- B 与U形分布相矛盾，因为它将所有四分位数都放在中心附近，这意味着一个小的IQR。\n- C 正确地指出 $Q_{1}$ 接近0，$Q_{3}$ 接近10，且IQR很大。\n- D 与对称性相矛盾，因为它将中位数放在0附近。\n- E 是错误的，因为在两个极端附近的极化并不意味着分数相同，并且IQR不接近于零。\n\n因此，正确选项是C。", "answer": "$$\\boxed{C}$$", "id": "1943534"}, {"introduction": "虽然五数概括（最小值、$Q_1$、中位数、$Q_3$、最大值）和箱线图是探索性数据分析的利器，但它们无法捕捉分布的所有特征。本练习通过比较两个具有完全相同五数概括但标准差不同的数据集，生动地展示了这一点 [@problem_id:1943502]。这个计算任务旨在让你亲身体会到，为何四分位距（IQR）被认为是一种稳健的统计量，而标准差则对数据中的极端值更为敏感。", "problem": "探索性数据分析中的一个基本概念是概括数据集的分布。五数概括法——包括最小值、第一四分位数（$Q_1$）、中位数、第三四分位数（$Q_3$）和最大值——是实现此目的的常用工具，通常用箱形图进行可视化。然而，这种概括并不能捕捉分布的所有特征。两个数据集可以有完全相同的五数概括，但在其他统计特性（如均值和方差）上却有显著差异。\n\n本问题旨在探讨这一现象。考虑以下两个数据集，数据集 A 和数据集 B，每个数据集包含 $n=13$ 个已按升序排列的数值观测值。\n\n数据集 A: $\\{10, 15, 18, 20, 30, 40, 50, 60, 70, 80, 90, 95, 100\\}$\n数据集 B: $\\{10, 11, 19, 20, 21, 22, 50, 78, 79, 80, 81, 99, 100\\}$\n\n为解决本问题，我们对大小为 $n$ 的已排序数据集的四分位数定义如下：\n- 第一四分位数（$Q_1$）是位置 $p_1 = 0.25(n-1)+1$ 处的值。\n- 中位数（$Q_2$）是位置 $p_2 = 0.5(n-1)+1$ 处的值。\n- 第三四分位数（$Q_3$）是位置 $p_3 = 0.75(n-1)+1$ 处的值。\n\n样本标准差 $s$ 使用公式 $s = \\sqrt{\\frac{1}{n-1}\\sum_{i=1}^{n}(x_i - \\bar{x})^2}$ 计算，其中 $\\bar{x}$ 是观测值 $x_i$ 的样本均值。\n\n计算比率 $\\frac{s_B}{s_A}$ 的值，其中 $s_A$ 和 $s_B$ 分别是数据集 A 和数据集 B 的样本标准差。将最终答案四舍五入至三位有效数字。", "solution": "对于两个数据集，我们都有 $n=13$。对于每个数据集，令 $S=\\sum_{i=1}^{n} x_{i}$，$\\bar{x}=\\frac{S}{n}$，以及 $\\sum x_{i}^{2}=\\sum_{i=1}^{n} x_{i}^{2}$。使用恒等式\n$$\n\\sum_{i=1}^{n} (x_{i}-\\bar{x})^{2}=\\sum x_{i}^{2}-\\frac{S^{2}}{n},\n$$\n样本方差为\n$$\ns^{2}=\\frac{1}{n-1}\\left(\\sum x_{i}^{2}-\\frac{S^{2}}{n}\\right).\n$$\n\n数据集 A：$\\{10,15,18,20,30,40,50,60,70,80,90,95,100\\}$。\n计算 $S_{A}$ 和 $\\sum x_{i}^{2}$：\n$$\nS_{A}=10+15+18+20+30+40+50+60+70+80+90+95+100=678,\n$$\n$$\n\\sum x_{i}^{2}=100+225+324+400+900+1600+2500+3600+4900+6400+8100+9025+10000=48074.\n$$\n因此\n$$\n\\mathrm{SS}_{A}=\\sum x_{i}^{2}-\\frac{S_{A}^{2}}{n}=48074-\\frac{678^{2}}{13}\n=\\frac{624962-459684}{13}=\\frac{165278}{13}.\n$$\n所以\n$$\ns_{A}^{2}=\\frac{\\mathrm{SS}_{A}}{n-1}=\\frac{\\frac{165278}{13}}{12}=\\frac{165278}{156}=\\frac{82639}{78}.\n$$\n\n数据集 B：$\\{10,11,19,20,21,22,50,78,79,80,81,99,100\\}$。\n计算 $S_{B}$ 和 $\\sum x_{i}^{2}$：\n$$\nS_{B}=10+11+19+20+21+22+50+78+79+80+81+99+100=670,\n$$\n$$\n\\sum x_{i}^{2}=100+121+361+400+441+484+2500+6084+6241+6400+6561+9801+10000=49494.\n$$\n因此\n$$\n\\mathrm{SS}_{B}=\\sum x_{i}^{2}-\\frac{S_{B}^{2}}{n}=49494-\\frac{670^{2}}{13}\n=\\frac{643422-448900}{13}=\\frac{194522}{13}.\n$$\n所以\n$$\ns_{B}^{2}=\\frac{\\mathrm{SS}_{B}}{n-1}=\\frac{\\frac{194522}{13}}{12}=\\frac{194522}{156}=\\frac{97261}{78}.\n$$\n\n因此，样本标准差的比率为\n$$\n\\frac{s_{B}}{s_{A}}=\\sqrt{\\frac{s_{B}^{2}}{s_{A}^{2}}}=\\sqrt{\\frac{\\frac{97261}{78}}{\\frac{82639}{78}}}\n=\\sqrt{\\frac{97261}{82639}}.\n$$\n数值上，$\\frac{97261}{82639}\\approx 1.176938249\\,$, 所以\n$$\n\\frac{s_{B}}{s_{A}} \\approx \\sqrt{1.176938249}\\approx 1.084866\\ldots\n$$\n四舍五入到三位有效数字，结果是 $1.08$。", "answer": "$$\\boxed{1.08}$$", "id": "1943502"}, {"introduction": "在生物统计学中，我们常常使用理论概率分布来为现实世界的过程（如患者生存时间）建模。这项练习将带领你从描述性统计过渡到概率论，直接从指数分布的累积分布函数（CDF）出发，推导出其四分位数和四分位距 [@problem_id:4826359]。掌握这种从第一性原理出发的推导，对于理解和应用生存分析等高级统计模型至关重要。", "problem": "在一个评估急性感染临床反应时间的随机临床试验中，假设每位患者的事件时间变量 $T$ 由一个具有恒定风险率参数 $\\lambda0$ 的指数分布建模。令 $F_T(t)$ 表示 $T$ 的累积分布函数 (CDF)。请仅使用基本定义推导 $T$ 的第一和第三四分位数以及四分位距。具体来说，从以下定义出发：对于一个具有严格递增 CDF 的连续分布，其第 $p$ 分位数 $x_p$ 是满足 $F_T(x_p)=p$ 的唯一实数，其中 $p \\in (0,1)$。四分位距 (IQR) 定义为 $\\mathrm{IQR} = Q_3-Q_1$，其中 $Q_1$ 和 $Q_3$ 分别是对应于 $p=\\frac{1}{4}$ 和 $p=\\frac{3}{4}$ 的第一和第三四分位数。假设 $F_T(t)$ 为标准指数模型形式，不提供任何额外的分位数公式。在最终答案中，仅报告 $\\mathrm{IQR}$ 作为 $\\lambda$ 函数的最终符号表达式。在最终方框内的答案中不要包含单位。", "solution": "该问题要求推导一个服从指数分布的随机变量 $T$ 的四分位距 (IQR)。推导过程必须从第一性原理出发。事件时间变量 $T$ 的特征是一个恒定的风险率参数 $\\lambda  0$。\n\n首先，我们必须确定指数分布的累积分布函数 (CDF)。服从率参数为 $\\lambda$ 的指数分布的随机变量 $T$ 的概率密度函数 (PDF) 为 $f_T(t) = \\lambda \\exp(-\\lambda t)$（当 $t \\ge 0$ 时）和 $f_T(t) = 0$（当 $t  0$ 时）。CDF $F_T(t)$ 是事件在时间 $t$ 之前发生的概率，即 $P(T \\le t)$。它通过对 PDF 从 $0$ 到 $t$ 积分得到：\n$$F_T(t) = \\int_{0}^{t} \\lambda \\exp(-\\lambda \\tau) \\, d\\tau$$\n计算此积分，我们得到：\n$$F_T(t) = \\left[ -\\exp(-\\lambda \\tau) \\right]_{0}^{t} = -\\exp(-\\lambda t) - (-\\exp(-\\lambda \\cdot 0)) = -\\exp(-\\lambda t) - (-1)$$\n因此，指数分布的 CDF 为：\n$$F_T(t) = 1 - \\exp(-\\lambda t) \\quad \\text{for } t \\ge 0$$\n当 $t  0$ 时，$F_T(t)=0$。由于事件时间不能为负，我们关心的是定义域 $t \\ge 0$。当 $t \\ge 0$ 时，CDF 是严格递增的。\n\n问题陈述，第 $p$ 分位数（我们记作 $t_p$）是满足 $F_T(t_p) = p$ 的值，其中 $p \\in (0,1)$。我们可以使用这个定义来找到指数分布分位数的一般表达式。我们将 CDF 设为等于 $p$ 并求解 $t_p$：\n$$1 - \\exp(-\\lambda t_p) = p$$\n整理各项以求解 $t_p$：\n$$\\exp(-\\lambda t_p) = 1 - p$$\n为了分离出指数，我们对等式两边取自然对数：\n$$\\ln(\\exp(-\\lambda t_p)) = \\ln(1 - p)$$\n$$-\\lambda t_p = \\ln(1 - p)$$\n求解 $t_p$，我们得到指数分布的分位数函数：\n$$t_p = -\\frac{1}{\\lambda} \\ln(1 - p) = \\frac{1}{\\lambda} \\ln\\left(\\frac{1}{1-p}\\right)$$\n\n接下来，我们应用这个推导出的公式来求第一和第三四分位数。第一四分位数 $Q_1$ 对应于 $p = \\frac{1}{4}$ 的分位数：\n$$Q_1 = t_{1/4} = -\\frac{1}{\\lambda} \\ln\\left(1 - \\frac{1}{4}\\right) = -\\frac{1}{\\lambda} \\ln\\left(\\frac{3}{4}\\right)$$\n使用对数性质 $\\ln(a/b) = -\\ln(b/a)$，这可以写成：\n$$Q_1 = \\frac{1}{\\lambda} \\ln\\left(\\frac{4}{3}\\right)$$\n\n第三四分位数 $Q_3$ 对应于 $p = \\frac{3}{4}$ 的分位数：\n$$Q_3 = t_{3/4} = -\\frac{1}{\\lambda} \\ln\\left(1 - \\frac{3}{4}\\right) = -\\frac{1}{\\lambda} \\ln\\left(\\frac{1}{4}\\right)$$\n同样，这可以写成：\n$$Q_3 = \\frac{1}{\\lambda} \\ln(4)$$\n\n最后，四分位距 (IQR) 定义为第三和第一四分位数之差，即 $\\mathrm{IQR} = Q_3 - Q_1$。代入我们求得的 $Q_1$ 和 $Q_3$ 的表达式：\n$$\\mathrm{IQR} = \\frac{1}{\\lambda} \\ln(4) - \\frac{1}{\\lambda} \\ln\\left(\\frac{4}{3}\\right)$$\n提出公因式 $\\frac{1}{\\lambda}$：\n$$\\mathrm{IQR} = \\frac{1}{\\lambda} \\left( \\ln(4) - \\ln\\left(\\frac{4}{3}\\right) \\right)$$\n使用对数性质 $\\ln(a) - \\ln(b) = \\ln(a/b)$：\n$$\\mathrm{IQR} = \\frac{1}{\\lambda} \\ln\\left(\\frac{4}{4/3}\\right) = \\frac{1}{\\lambda} \\ln\\left(4 \\cdot \\frac{3}{4}\\right)$$\n简化后得到四分位距的最终表达式：\n$$\\mathrm{IQR} = \\frac{1}{\\lambda} \\ln(3)$$\n此结果表明，对于指数分布，四分位距是一个仅由率参数 $\\lambda$ 决定的常数，且与时间无关。", "answer": "$$\\boxed{\\frac{\\ln(3)}{\\lambda}}$$", "id": "4826359"}]}