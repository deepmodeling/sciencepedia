{"hands_on_practices": [{"introduction": "掌握Kaplan-Meier方法始于理解其基本构成要素。本练习聚焦于一项关键任务：在特定时间点准确确定风险集大小 ($n_{j}$) 和事件数 ($d_{j}$)。通过处理一个包含时间平局（tied time）事件和删失的场景，您将学会处理此类复杂情况的标准惯例，这是进行精确生存分析的至关重要的第一步。[@problem_id:4806013]", "problem": "考虑独立同分布的事件时间变量 $T_{i}$，其表示从入组到临床终点的时间，对于 $i=1,2,3,4$，这些变量受到独立删失时间 $C_{i}$ 的右删失影响。每个参与者的可观测数据是随访时间 $Y_{i}=\\min\\{T_{i},C_{i}\\}$ 和事件指示符 $\\delta_{i}=\\mathbf{1}\\{T_{i}\\leq C_{i}\\}$。在用于生存曲线估计的 Kaplan-Meier (KM) 方法中，某个事件时间点的风险集由在该时间点之前即刻无事件且仍在观察中的个体组成，而该时间点的事件数是在该记录时间发生事件的个体计数。假设一个标准约定：当事件和删失共享同一记录时间时，为了定义风险集和计数事件，事件被认为在该时间的删失之前即刻发生。\n\n给你一个小型队列，其观测数据对 $(Y_{i},\\delta_{i})$ 为 $(3,1)$、$(3,1)$、$(3,0)$ 和 $(5,0)$。令 $t_{j}$ 表示队列中不同的有序事件时间，并关注 $t_{j}=3$。仅使用右删失的基本定义、可观测数据 $(Y_{i},\\delta_{i})$ 以及上述 KM 风险集和事件计数约定，确定在 $t_{j}=3$ 之前即刻的风险集大小 $n_{j}$ 和在 $t_{j}=3$ 时的事件数 $d_{j}$。将你的最终答案以单行矩阵 $\\begin{pmatrix}n_{j}  d_{j}\\end{pmatrix}$ 的形式给出。无需四舍五入。在你的推理中，解释在所述约定下如何处理 $t_{j}=3$ 时的并列事件和删失。", "solution": "该问题陈述是生物统计学领域一个有效且定义明确的问题。它要求基于一个小数据集和 Kaplan-Meier (KM) 方法的基本定义，确定在特定时间点的风险集大小和事件数。所有的定义、数据和约定都是标准的、内部一致的，并且足以得出一个唯一的、正确的答案。\n\n问题提供了 $N=4$ 名参与者的队列数据。对每位参与者 $i$，我们有一个观测数据对 $(Y_i, \\delta_i)$，其中 $Y_i = \\min\\{T_i, C_i\\}$ 是观测到的随访时间，$\\delta_i = \\mathbf{1}\\{T_i \\le C_i\\}$ 是事件指示符。事件由 $\\delta_i=1$ 表示，右删失由 $\\delta_i=0$ 表示。\n\n提供的数据如下：\n- 参与者 1：$(Y_1, \\delta_1) = (3, 1)$\n- 参与者 2：$(Y_2, \\delta_2) = (3, 1)$\n- 参与者 3：$(Y_3, \\delta_3) = (3, 0)$\n- 参与者 4：$(Y_4, \\delta_4) = (5, 0)$\n\n问题要求在不同事件时间 $t_j=3$ 时的风险集大小 $n_j$ 和事件数 $d_j$。\n\n首先，我们必须识别出不同的事件时间。如果事件指示符 $\\delta_i$ 等于 $1$，则事件在时间 $Y_i$ 发生。查看数据，我们有在 $Y_1=3$ 时 $\\delta_1=1$ 和在 $Y_2=3$ 时 $\\delta_2=1$。另外两个观测是删失。因此，数据集中唯一不同的事件时间是 $t_1=3$。问题要求我们关注这个时间，我们将其表示为 $t_j=3$。\n\n接下来，我们确定在 $t_j=3$ 时的风险集大小 $n_j$。事件时间 $t_j$ 的风险集，记作 $R(t_j)$，定义为在 $t_j$ 之前即刻仍在观察中且未经历事件的所有个体的集合。在实践中，这意味着我们计算所有观测随访时间 $Y_i$ 大于或等于 $t_j$ 的个体 $i$ 的数量。\n在数学上，时间 $t_j$ 的风险集大小由下式给出：\n$$n_j = |\\{i \\mid Y_i \\ge t_j\\}|$$\n对于 $t_j=3$，我们必须计算满足 $Y_i \\ge 3$ 的参与者数量：\n- 参与者 1：$Y_1=3$。因为 $3 \\ge 3$，该参与者在风险集中。\n- 参与者 2：$Y_2=3$。因为 $3 \\ge 3$，该参与者在风险集中。\n- 参与者 3：$Y_3=3$。因为 $3 \\ge 3$，该参与者在风险集中。\n- 参与者 4：$Y_4=5$。因为 $5 \\ge 3$，该参与者在风险集中。\n所有四名参与者在时间 $t=3$ 时都在风险集中。因此，风险集大小为 $n_j = 4$。\n\n问题陈述了一个处理并列情况的约定：当事件和删失在同一记录时间发生时，事件被认为在删失之前即刻发生。让我们分析时间 $t=3$ 的情况。我们有两个事件（参与者 1 和 2）和一个删失（参与者 3）。该约定意味着，为了计算在 $t=3$ 时的 KM 估计量，我们首先构成风险集。在 $t=3$ 时被删失的参与者 3，在 $t=3$ 的事件发生时刻仍被认为处于风险中。这是因为他们的删失被视为在事件发生后无限小的时间内发生。我们计算出的 $n_j=4$ 与此约定一致，因为参与者 3 被包含在风险集中。\n\n最后，我们确定在 $t_j=3$ 时的事件数 $d_j$。这被定义为在恰好时间 $t_j$ 经历事件的个体计数。\n在数学上，时间 $t_j$ 的事件数由下式给出：\n$$d_j = |\\{i \\mid Y_i = t_j \\text{ and } \\delta_i = 1\\}|$$\n对于 $t_j=3$，我们必须计算满足 $Y_i=3$ 且 $\\delta_i=1$ 的参与者数量：\n- 参与者 1：$(Y_1, \\delta_1) = (3, 1)$。该参与者在 $t=3$ 时发生事件。\n- 参与者 2：$(Y_2, \\delta_2) = (3, 1)$。该参与者在 $t=3$ 时发生事件。\n- 参与者 3：$(Y_3, \\delta_3) = (3, 0)$。该参与者在 $t=3$ 时被删失，不是事件。\n- 参与者 4：$(Y_4, \\delta_4) = (5, 0)$。该参与者的观测时间不是 $t=3$。\n两名参与者（1 和 2）在时间 $t=3$ 经历了事件。因此，事件数为 $d_j = 2$。\n\n总而言之，对于事件时间 $t_j=3$，风险集大小为 $n_j=4$，事件数为 $d_j=2$。最终答案应以行矩阵 $\\begin{pmatrix}n_j  d_j\\end{pmatrix}$ 的形式呈现。", "answer": "$$\n\\boxed{\\begin{pmatrix}4  2\\end{pmatrix}}\n$$", "id": "4806013"}, {"introduction": "在牢固掌握如何计算风险集和事件数的基础上，您现在可以构建一条完整的Kaplan-Meier生存曲线。本练习将引导您将乘积极限公式 $\\hat{S}(t) = \\prod (1 - \\frac{d_i}{n_i})$ 应用于一个小数据集。您将看到生存概率如何在每个事件时间点更新，从而构建出KM曲线特有的阶梯函数形状。[@problem_id:4806038]", "problem": "一项随机临床研究在右删失情况下跟踪了 $n=5$ 名独立患者。对于患者 $i$，令 $T_i$ 表示真实事件时间，$C_i$ 表示删失时间，并定义观测对 $(Y_i,\\delta_i)$ 为 $Y_i=\\min\\{T_i,C_i\\}$ 和 $\\delta_i=\\mathbf{1}\\{T_i \\leq C_i\\}$。假设为无信息右删失，即事件时间与删失时间独立，且删失不改变 $T_i$ 的分布。观测数据 $(Y_i,\\delta_i)$ 为 $(2,1)$、$(4,0)$、$(4,1)$、$(6,1)$、$(7,0)$。\n\n从生存函数 $S(t)=\\mathbb{P}(Tt)$ 的定义出发，并根据在独立右删失下生存函数可以表示为跨越观测事件时间的条件生存概率的乘积这一原理，基于每个不同观测事件时间点的风险集和事件计数，推导出 $S(t)$ 的非参数估计量。当事件时间和删失时间出现结（即时间相同）时，在构建风险计数时，将同一时间的事件视为发生在删失之前。\n\n计算数据集中每个不同事件时间点的估计生存率 $\\hat{S}(t)$，并按事件时间 $t=2$、$t=4$ 和 $t=6$ 的升序报告这些值。以无舍入的精确分数形式提供数值。", "solution": "该问题是有效的，因为它在科学上基于生存分析的原理，提法得当，包含了所有必要的数据和假设，并且陈述客观。它展示了使用 Kaplan-Meier 方法从右删失数据估计生存函数的标准应用。\n\n生存函数 $S(t)$ 定义为事件时间 $T$ 大于某个时间 $t$ 的概率：\n$$S(t) = \\mathbb{P}(T  t)$$\nKaplan-Meier 方法提供了一种从可能被删失的观测数据中对该函数进行非参数估计的方法。其核心原理是将生存函数表示为在观测到的事件时间点上的条件概率的乘积。\n\n设 $t_{(1)}  t_{(2)}  \\dots  t_{(k)}$ 为样本中观测到的 $k$ 个不同的事件时间。生存超过时间 $t$（其中 $t_{(j)} \\le t  t_{(j+1)}$）的概率，等同于生存超过最后一个观测事件时间 $t_{(j)}$ 的概率。这可以用概率的链式法则表示：\n$$\nS(t) = \\mathbb{P}(T  t_{(j)}) = \\mathbb{P}(T  t_{(1)} \\text{ and } T  t_{(2)} \\text{ and } \\dots \\text{ and } T  t_{(j)})\n$$\n$$\nS(t) = \\mathbb{P}(T  t_{(1)}) \\times \\mathbb{P}(T  t_{(2)} | T  t_{(1)}) \\times \\dots \\times \\mathbb{P}(T  t_{(j)} | T  t_{(j-1)})\n$$\n这可以写成乘积形式：\n$$S(t) = \\prod_{i: t_{(i)} \\le t} \\mathbb{P}(T  t_{(i)} | T  t_{(i-1)}), \\quad \\text{with } t_{(0)} = 0$$\n每一项 $\\mathbb{P}(T  t_{(i)} | T  t_{(i-1)})$ 是在生存到时间 $t_{(i-1)}$ 的条件下，生存超过时间 $t_{(i)}$ 的条件概率。这可以改写为 $1 - \\mathbb{P}(T = t_{(i)} | T \\ge t_{(i)})$，其中后一项是在时间 $t_{(i)}$ 发生事件的条件概率，即该时间点的风险率。\n\n在无信息删失的假设下，我们可以从数据中估计这个条件概率。我们为每个不同的事件时间 $t_{(i)}$ 定义以下量：\n- 风险集 $R(t_{(i)})$ 是指在时间 $t_{(i)}$ 之前仍在观察中的所有个体的集合。\n- 风险人数 $n_i$ 是风险集的大小，即 $n_i = |R(t_{(i)})| = |\\{j: Y_j \\ge t_{(i)}\\}|$。\n- 事件数 $d_i$ 是在时间 $t_{(i)}$ 发生事件的个体数量，即 $d_i = |\\{j: Y_j = t_{(i)}, \\delta_j = 1\\}|$。\n\n在时间 $t_{(i)}$ 发生事件的条件概率的估计值为比例 $\\frac{d_i}{n_i}$。因此，生存超过时间 $t_{(i)}$ 的估计条件概率为 $1 - \\frac{d_i}{n_i}$。\n\n将这些估计值代入乘积形式，得到生存函数的 Kaplan-Meier 乘积极限估计量：\n$$\\hat{S}(t) = \\prod_{i: t_{(i)} \\le t} \\left(1 - \\frac{d_i}{n_i}\\right)$$\n按照惯例，$\\hat{S}(0) = 1$。生存函数估计量是一个阶梯函数，在事件时间之间保持不变，仅在观测到的事件时间点改变其值。\n\n现在，我们将此方法应用于给定数据。患者总数为 $n=5$。观测数据对 $(Y_i, \\delta_i)$ 为 $(2,1)$、$(4,0)$、$(4,1)$、$(6,1)$、$(7,0)$。\n不同的观测时间为 $2, 4, 6, 7$。事件时间（其中 $\\delta_i=1$）为 $t=2, 4, 6$。\n\n我们构建一个生命表来组织计算：\n\n**1. 时间区间 $t \\in [0, 2)$**\n初始风险患者数为 $n=5$。没有事件发生。\n对于 $t  2$，$\\hat{S}(t) = 1$。\n\n**2. 第一个事件时间，$t=2$**\n- 在时间 $t=2$ 之前，处于风险中的个体数量为 $n_2 = 5$。所有患者仍在研究中。\n- 在时间 $t=2$ 的事件数为 $d_2 = 1$。\n- 条件生存概率为 $1 - \\frac{d_2}{n_2} = 1 - \\frac{1}{5} = \\frac{4}{5}$。\n- 在时间 $t=2$ 的估计生存函数为 $\\hat{S}(2) = \\hat{S}(0) \\times \\left(1 - \\frac{d_2}{n_2}\\right) = 1 \\times \\frac{4}{5} = \\frac{4}{5}$。\n- 在此时间点之后，有1名患者发生了事件。剩余的风险患者数为 $5 - 1 = 4$。\n\n**3. 第二个事件时间，$t=4$**\n- 在时间 $t=4$，有一次事件 $(4,1)$ 和一次删失 $(4,0)$。\n- 在时间 $t=4$ 之前，处于风险中的个体数量包括所有观测时间 $Y_i \\ge 4$ 的个体。这些是数据为 $(4,0), (4,1), (6,1), (7,0)$ 的患者。因此，风险人数为 $n_4 = 4$。\n- 在时间 $t=4$ 的事件数为 $d_4 = 1$。\n- 根据问题的结处理规则，事件在删失之前处理。风险集 $n_4=4$ 正确地包括了两个个体。\n- 条件生存概率为 $1 - \\frac{d_4}{n_4} = 1 - \\frac{1}{4} = \\frac{3}{4}$。\n- 在时间 $t=4$ 的估计生存函数为 $\\hat{S}(4) = \\hat{S}(2) \\times \\left(1 - \\frac{d_4}{n_4}\\right) = \\frac{4}{5} \\times \\frac{3}{4} = \\frac{3}{5}$。\n- 在此时间点之后，有1名患者发生了事件，1名患者被删失。剩余的风险患者数为初始的4人减去1次事件和1次删失，剩下 $4 - 1 - 1 = 2$ 人。\n\n**4. 第三个事件时间，$t=6$**\n- 在时间 $t=6$ 之前，处于风险中的个体数量包括所有观测时间 $Y_i \\ge 6$ 的个体。这些是数据为 $(6,1)$ 和 $(7,0)$ 的患者。因此，风险人数为 $n_6 = 2$。\n- 在时间 $t=6$ 的事件数为 $d_6 = 1$。\n- 条件生存概率为 $1 - \\frac{d_6}{n_6} = 1 - \\frac{1}{2} = \\frac{1}{2}$。\n- 在时间 $t=6$ 的估计生存函数为 $\\hat{S}(6) = \\hat{S}(4) \\times \\left(1 - \\frac{d_6}{n_6}\\right) = \\frac{3}{5} \\times \\frac{1}{2} = \\frac{3}{10}$。\n- 在此时间点之后，有1名患者发生了事件。剩余人数为 $2 - 1 = 1$。\n\n最后的观测是在 $t=7$ 的一次删失。生存估计在删失时间点不发生改变，因此对于所有 $t \\ge 6$，$\\hat{S}(t) = \\frac{3}{10}$。\n\n所要求的值是在不同事件时间 $t=2, 4, 6$ 的估计生存概率。\n- $\\hat{S}(2) = \\frac{4}{5}$\n- $\\hat{S}(4) = \\frac{3}{5}$\n- $\\hat{S}(6) = \\frac{3}{10}$", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\frac{4}{5}  \\frac{3}{5}  \\frac{3}{10}\n\\end{pmatrix}\n}\n$$", "id": "4806038"}, {"introduction": "最后的这个练习将通过一个稍大的、包含多个删失观测的数据集来巩固您的计算技能。它要求您在一个更长的时间跨度内追踪风险集的变化，并计算某个位于两次事件之间的时间点的生存概率。这项练习将加深您对删失如何影响分析以及为何Kaplan-Meier曲线在事件之间保持不变的理解。[@problem_id:4921641]", "problem": "一项临床随访研究记录了一个队列在标准非信息性右删失假设下的右删失生存时间。对于每个受试者 $i$，观测时间为 $t_{i}$ (单位：月)，指示变量 $\\delta_{i}$ 在 $t_{i}$ 时刻观测到事件(失败)时等于 $1$，在 $t_{i}$ 时刻受试者被右删失时等于 $0$。按 $t_{i}$ 升序排列的 $n=12$ 个观测对 $(t_{i}, \\delta_{i})$ 如下：\n- 受试者 $1$：$(t_{1}=2,\\ \\delta_{1}=1)$\n- 受试者 $2$：$(t_{2}=3,\\ \\delta_{2}=1)$\n- 受试者 $3$：$(t_{3}=4,\\ \\delta_{3}=0)$\n- 受试者 $4$：$(t_{4}=5,\\ \\delta_{4}=0)$\n- 受试者 $5$：$(t_{5}=6,\\ \\delta_{5}=0)$\n- 受试者 $6$：$(t_{6}=8,\\ \\delta_{6}=1)$\n- 受试者 $7$：$(t_{7}=10,\\ \\delta_{7}=0)$\n- 受试者 $8$：$(t_{8}=12,\\ \\delta_{8}=1)$\n- 受试者 $9$：$(t_{9}=14,\\ \\delta_{9}=0)$\n- 受试者 $10$：$(t_{10}=18,\\ \\delta_{10}=0)$\n- 受试者 $11$：$(t_{11}=20,\\ \\delta_{11}=1)$\n- 受试者 $12$：$(t_{12}=24,\\ \\delta_{12}=0)$\n\n从生存函数的基本定义 $S(t)=\\Pr(Tt)$ 以及将生存解释为事件时间内连续条件生存概率的乘积出发，利用上述信息确定在 $t^{*}=15$ 个月时评估的 Kaplan-Meier 估计生存概率 $\\hat{S}(t)$。在您的推导中，请说明右删失如何在不直接改变生存水平的情况下改变风险集的大小，直到下一次观测到的事件时间，并解释为什么该估计在仅有删失的区间内保持不变。\n\n将您计算的 $\\hat{S}(15)$ 的最终数值答案表示为四舍五入到四位有效数字的小数。不要使用百分号；报告一个无单位的纯数。时间以月为单位，但所要求的生存概率是无量纲的。", "solution": "在尝试解答之前，对问题进行验证。\n\n### 问题验证\n\n**步骤 1：提取已知条件**\n已知条件如下：\n- 一项包含右删失生存时间的随访研究。\n- 标准的非信息性右删失假设成立。\n- $n=12$ 名受试者的观测数据由数据对 $(t_i, \\delta_i)$ 组成，其中 $t_i$ 是以月为单位的时间，$\\delta_i$ 是事件指示变量（$\\delta_i=1$ 表示事件，$\\delta_i=0$ 表示删失）。\n- 按 $t_i$ 排序的数据为：\n    - $(2, 1)$\n    - $(3, 1)$\n    - $(4, 0)$\n    - $(5, 0)$\n    - $(6, 0)$\n    - $(8, 1)$\n    - $(10, 0)$\n    - $(12, 1)$\n    - $(14, 0)$\n    - $(18, 0)$\n    - $(20, 1)$\n    - $(24, 0)$\n- 任务是确定在特定时间 $t^{*}=15$ 个月时的 Kaplan-Meier 估计生存概率 $\\hat{S}(t)$。\n- 推导必须从定义 $S(t)=\\Pr(Tt)$ 开始，并解释删失的作用。\n- 最终答案必须是四舍五入到四位有效数字的小数。\n\n**步骤 2：使用提取的已知条件进行验证**\n- **科学依据：** 该问题是生存分析（生物统计学的核心课题）的一个标准和基础应用。Kaplan-Meier 估计量是分析带删失的时间-事件数据的一种行之有效的非参数方法。其假设和数据结构是真实世界临床研究的典型代表。该问题在科学上和数学上都是合理的。\n- **良定性：** 问题是良定的。它提供了所有必要的数据（观测时间和事件指示变量的集合），并明确了要计算的量（$\\hat{S}(15)$）。关于推导和最终格式的说明是清晰的。存在唯一解，并且可以通过标准算法确定。\n- **客观性：** 问题是使用正式的统计术语和定量数据客观陈述的。它没有歧义、主观性或观点。\n\n**步骤 3：结论与行动**\n该问题有效。这是一个定义明确、有科学依据的生物统计学问题。继续进行完整解答。\n\n### 解答推导\n\n生存函数 $S(t)$ 定义为真实事件时间 $T$ 大于某个特定时间 $t$ 的概率。\n$$ S(t) = \\Pr(T  t) $$\nKaplan-Meier 估计量 $\\hat{S}(t)$ 是一种从包含右删失观测值的时间-事件数据中估计 $S(t)$ 的非参数方法。其基本原理是将时间 $t$ 的生存概率表示为通过由观测到的事件时间定义的一系列区间生存下来的条件概率的乘积。\n\n设数据中观测到的不同事件时间为 $t_{(1)}  t_{(2)}  \\dots  t_{(J)}$。在时间 $t$（满足 $t_{(k)} \\le t  t_{(k+1)}$）的生存函数可以写成：\n$$ S(t) = \\Pr(T  t_{(k)}) = \\Pr(T  t_{(1)}) \\times \\Pr(T  t_{(2)} | T  t_{(1)}) \\times \\dots \\times \\Pr(T  t_{(k)} | T  t_{(k-1)}) $$\nKaplan-Meier 方法从数据中估计这些条件概率中的每一个。在给定受试者在时间 $t_{(j)}$ 之前处于风险中的条件下，存活过事件时间 $t_{(j)}$ 的概率被估计为存活过 $t_{(j)}$ 的人数与在 $t_{(j)}$ 处于风险中的人数之比。\n$$ \\widehat{\\Pr}(T  t_{(j)} | T \\ge t_{(j)}) = \\frac{n_j - d_j}{n_j} $$\n这里，$n_j$ 是风险集中的受试者数量（即在时间 $t_{(j)}$ 之前仍然存活并处于观察中的受试者），而 $d_j$ 是在时间 $t_{(j)}$ 经历事件的受试者数量。\n\n生存函数的 Kaplan-Meier 估计量是截至时间 $t$ 的这些估计条件概率的乘积：\n$$ \\hat{S}(t) = \\prod_{j: t_{(j)} \\le t} \\left(1 - \\frac{d_j}{n_j}\\right) $$\n按照惯例，$\\hat{S}(0) = 1$。估计值 $\\hat{S}(t)$ 是一个右连续的阶梯函数。它在事件时间之间保持不变，仅在观测到一个或多个事件的时刻下降。\n\n右删失观测值在定义风险集 $n_j$ 中起着关键作用。在时间 $t_c$ 被删失的受试者已知至少存活到 $t_c$。因此，该受试者被包含在所有事件时间 $t_{(j)} \\le t_c$ 的风险集 $n_j$ 中。对于任何事件时间 $t_{(k)}  t_c$，这个被删失的受试者不再处于观察中，因此被排除在风险集 $n_k$ 之外。在时间 $t_c$ 的删失行为本身不会导致估计生存概率 $\\hat{S}(t)$ 的变化。它只减少了后续事件时间的风险个体数量，从而影响了乘积公式中后续项的分母。这就是为什么 $\\hat{S}(t)$ 在仅包含删失观测值的区间内保持不变。\n\n我们现在将此过程应用于给定的数据。不同的事件时间为 $t=2, 3, 8, 12, 20$。我们将计算在这些时间点的 $\\hat{S}(t)$。\n\n**时间 $t=0$：**\n初始受试者数量为 $n=12$。\n$\\hat{S}(0) = 1$。\n\n**事件于 $t_{(1)} = 2$：**\n- 在 $t=2$ 之前处于风险中的受试者数量为 $n_1 = 12$。\n- 在 $t=2$ 时的事件数为 $d_1 = 1$。\n- $t \\in [2, 3)$ 的生存概率为：\n$$ \\hat{S}(t) = \\hat{S}(0) \\times \\left(1 - \\frac{d_1}{n_1}\\right) = 1 \\times \\left(1 - \\frac{1}{12}\\right) = \\frac{11}{12} $$\n\n**事件于 $t_{(2)} = 3$：**\n- 在此时间之前，一名受试者在 $t=2$ 时发生事件。对于 $t=3$ 的事件，风险人数为 $n_2 = 12 - 1 = 11$。\n- 在 $t=3$ 时的事件数为 $d_2 = 1$。\n- 在时间 $t=4, 5, 6$，有三次删失。这些受试者在 $t=3$ 时被认为处于风险中，但将从下一次事件的风险集中移除。\n- $t \\in [3, 8)$ 的生存概率为：\n$$ \\hat{S}(t) = \\hat{S}(2) \\times \\left(1 - \\frac{d_2}{n_2}\\right) = \\frac{11}{12} \\times \\left(1 - \\frac{1}{11}\\right) = \\frac{11}{12} \\times \\frac{10}{11} = \\frac{10}{12} = \\frac{5}{6} $$\n\n**事件于 $t_{(3)} = 8$：**\n- 为了找到风险集 $n_3$，我们计算观测时间 $t_i \\ge 8$ 的受试者数量。观测时间在 $8, 10, 12, 14, 18, 20, 24$，对应 $7$ 名受试者。所以，$n_3 = 7$。\n- 在 $t=8$ 时的事件数为 $d_3 = 1$。\n- $t \\in [8, 12)$ 的生存概率为：\n$$ \\hat{S}(t) = \\hat{S}(3) \\times \\left(1 - \\frac{d_3}{n_3}\\right) = \\frac{5}{6} \\times \\left(1 - \\frac{1}{7}\\right) = \\frac{5}{6} \\times \\frac{6}{7} = \\frac{5}{7} $$\n\n**事件于 $t_{(4)} = 12$：**\n- 风险集 $n_4$ 由 $t_i \\ge 12$ 的受试者组成。观测时间在 $12, 14, 18, 20, 24$，对应 $5$ 名受试者。所以，$n_4 = 5$。\n- 在 $t=12$ 时的事件数为 $d_4 = 1$。\n- $t \\in [12, 20)$ 的生存概率为：\n$$ \\hat{S}(t) = \\hat{S}(8) \\times \\left(1 - \\frac{d_4}{n_4}\\right) = \\frac{5}{7} \\times \\left(1 - \\frac{1}{5}\\right) = \\frac{5}{7} \\times \\frac{4}{5} = \\frac{4}{7} $$\n\n我们需要求解的是 $t^{*}=15$ 个月时的 $\\hat{S}(t^{*})$ 值。时间 $t^{*}=15$ 落在区间 $[12, 20)$ 内。由于 Kaplan-Meier 估计是一个在事件时间之间保持不变的阶梯函数，因此在 $t=15$ 时的生存概率与上一个事件时间 $t=12$ 时确立的值相同。\n$$ \\hat{S}(15) = \\hat{S}(12) = \\frac{4}{7} $$\n\n最后，我们将此分数表示为四舍五入到四位有效数字的小数。\n$$ \\hat{S}(15) = \\frac{4}{7} \\approx 0.57142857... $$\n四舍五入到四位有效数字得到 $0.5714$。\n\n计算摘要如下表所示：\n| 时间 ($t_i$) | 风险人数 ($n_j$) | 事件数 ($d_j$) | 删失数 ($c_j$) | 条件生存率 ($1 - d_j/n_j$) | $\\hat{S}(t_i)$ |\n|--------------|-----------------|----------------|------------------|---------------------------------------|----------------|\n| $0$          | $12$            | $0$            | $0$              | -                                     | $1.0000$       |\n| $2$          | $12$            | $1$            | $0$              | $1 - 1/12 = 11/12$                    | $11/12 \\approx 0.9167$ |\n| $3$          | $11$            | $1$            | $0$              | $1 - 1/11 = 10/11$                    | $(11/12)(10/11) = 10/12 \\approx 0.8333$ |\n| $4$          | $10$            | $0$            | $1$              | -                                     | $10/12$        |\n| $5$          | $9$             | $0$            | $1$              | -                                     | $10/12$        |\n| $6$          | $8$             | $0$            | $1$              | -                                     | $10/12$        |\n| $8$          | $7$             | $1$            | $0$              | $1 - 1/7 = 6/7$                       | $(10/12)(6/7) = 5/7 \\approx 0.7143$ |\n| $10$         | $6$             | $0$            | $1$              | -                                     | $5/7$          |\n| $12$         | $5$             | $1$            | $0$              | $1 - 1/5 = 4/5$                       | $(5/7)(4/5) = 4/7 \\approx 0.5714$ |\n| $14$         | $4$             | $0$            | $1$              | -                                     | $4/7$          |\n| $18$         | $3$             | $0$            | $1$              | -                                     | $4/7$          |\n| $20$         | $2$             | $1$            | $0$              | $1 - 1/2 = 1/2$                       | $(4/7)(1/2) = 2/7 \\approx 0.2857$ |\n| $24$         | $1$             | $0$            | $1$              | -                                     | $2/7$          |\n\n在 $t=15$ 时的值是 $\\hat{S}(12)$，即 $4/7$。", "answer": "$$\\boxed{0.5714}$$", "id": "4921641"}]}