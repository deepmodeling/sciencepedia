{"hands_on_practices": [{"introduction": "在探索因果关系时，我们遇到的首要挑战之一是区分相关性与因果性。一个被称为“辛普森悖论”的惊人现象，清楚地揭示了当一个潜在变量（混杂因素）同时影响处理和结果时，整体的关联趋势如何会与每个子群体的趋势完全相反。这个练习 [@problem_id:4912904] 将通过一个具体的数值例子，让你亲手揭示这种悖论，并理解为何简单的关联分析可能得出与事实完全相反的误导性结论。", "problem": "考虑一个包含三个二元变量的生物统计因果模型：一个暴露前协变量 $Z \\in \\{0,1\\}$，一个处理 $X \\in \\{0,1\\}$，以及一个结果 $Y \\in \\{0,1\\}$。其因果结构由一个有向无环图 (DAG) 表示，具体为一个包含箭头 $Z \\to X$、$Z \\to Y$ 和 $X \\to Y$ 的有向无环图 (DAG)。假设以下数据生成机制：\n- $P(Z=1) = 0.5$ 且 $P(Z=0) = 0.5$。\n- $P(X=1 \\mid Z=0) = 0.9$ 且 $P(X=1 \\mid Z=1) = 0.1$。\n- $P(Y=1 \\mid X=1, Z=0) = 0.2$，$P(Y=1 \\mid X=0, Z=0) = 0.1$。\n- $P(Y=1 \\mid X=1, Z=1) = 0.6$，$P(Y=1 \\mid X=0, Z=1) = 0.5$。\n\n任务：\n1) 证明边际关联 $\\mathbb{E}[Y \\mid X=1] - \\mathbb{E}[Y \\mid X=0]$ 与每个分层特异性关联 $\\mathbb{E}[Y \\mid X=1, Z=z] - \\mathbb{E}[Y \\mid X=0, Z=z]$ (对于 $z \\in \\{0,1\\}$) 的符号相反。\n\n2) 使用后门准则，以 $Z$ 为可接受的调整集，计算定义为 $\\mathbb{E}[Y(1)] - \\mathbb{E}[Y(0)]$ 的平均因果效应，其中 $Y(x)$ 表示在将 $X$ 干预设置为 $x$ 时的潜在结果。请以单一数字形式给出最终答案；无需四舍五入。", "solution": "首先根据指定标准对问题进行验证。\n\n**步骤1：提取已知条件**\n- 变量：暴露前协变量 $Z \\in \\{0,1\\}$，处理 $X \\in \\{0,1\\}$，结果 $Y \\in \\{0,1\\}$。\n- 因果结构 (DAG)：箭头 $Z \\to X$、$Z \\to Y$ 和 $X \\to Y$。\n- 概率：\n  - $P(Z=1) = 0.5$，$P(Z=0) = 0.5$。\n  - $P(X=1 \\mid Z=0) = 0.9$，$P(X=1 \\mid Z=1) = 0.1$。\n  - $P(Y=1 \\mid X=1, Z=0) = 0.2$，$P(Y=1 \\mid X=0, Z=0) = 0.1$。\n  - $P(Y=1 \\mid X=1, Z=1) = 0.6$，$P(Y=1 \\mid X=0, Z=1) = 0.5$。\n\n**步骤2：使用提取的已知条件进行验证**\n- **科学依据**：该问题使用了因果推断中的标准概念，特别是有向无环图 (DAG)、潜在结果、后门准则和辛普森悖论。这些是生物统计学和流行病学中的基本主题。所指定的 DAG 代表了一个典型的混杂结构。该问题是一个形式规范的教科书练习题。\n- **适定性**：所有计算所需量所必需的概率和条件均已提供。问题明确无歧义，并导向一个唯一、稳定的解。\n- **客观性**：问题以精确、客观的数学语言陈述。\n- **结论**：该问题在科学上是合理的、完整的、一致的且适定的。未发现任何缺陷。\n\n**步骤3：判定与行动**\n该问题有效。下面提供完整解答。\n\n解答分为两部分，对应问题陈述中的两个任务。对于像 $Y$ 这样的二元结果变量，条件期望等价于条件概率：$\\mathbb{E}[Y \\mid A] = P(Y=1 \\mid A)$。\n\n**任务1：辛普森悖论的论证**\n\n首先，我们计算 $z \\in \\{0,1\\}$ 的各分层特异性关联。\n对于 $Z=0$ 的分层，关联为：\n$$\n\\mathbb{E}[Y \\mid X=1, Z=0] - \\mathbb{E}[Y \\mid X=0, Z=0] = P(Y=1 \\mid X=1, Z=0) - P(Y=1 \\mid X=0, Z=0)\n$$\n$$\n= 0.2 - 0.1 = 0.1\n$$\n对于 $Z=1$ 的分层，关联为：\n$$\n\\mathbb{E}[Y \\mid X=1, Z=1] - \\mathbb{E}[Y \\mid X=0, Z=1] = P(Y=1 \\mid X=1, Z=1) - P(Y=1 \\mid X=0, Z=1)\n$$\n$$\n= 0.6 - 0.5 = 0.1\n$$\n在两个分层中，$X$ 和 $Y$ 之间的关联都是正的，值为 $0.1$。\n\n接下来，我们计算边际关联 $\\mathbb{E}[Y \\mid X=1] - \\mathbb{E}[Y \\mid X=0]$。为此，我们必须先通过对 $Z$ 进行边际化来计算边际期望 $\\mathbb{E}[Y \\mid X=1]$ 和 $\\mathbb{E}[Y \\mid X=0]$。\n$$\nP(Y=1 \\mid X=x) = \\sum_{z \\in \\{0,1\\}} P(Y=1 \\mid X=x, Z=z) P(Z=z \\mid X=x)\n$$\n我们需要后验概率 $P(Z=z \\mid X=x)$，可以使用贝叶斯法则求得：\n$$\nP(Z=z \\mid X=x) = \\frac{P(X=x \\mid Z=z)P(Z=z)}{P(X=x)}\n$$\n首先，我们求 $X$ 的边际概率。\n$$\nP(X=1) = \\sum_{z \\in \\{0,1\\}} P(X=1 \\mid Z=z) P(Z=z) = P(X=1 \\mid Z=0)P(Z=0) + P(X=1 \\mid Z=1)P(Z=1)\n$$\n$$\nP(X=1) = (0.9)(0.5) + (0.1)(0.5) = 0.45 + 0.05 = 0.5\n$$\n因此，$P(X=0) = 1 - P(X=1) = 1 - 0.5 = 0.5$。\n\n现在我们可以计算后验概率：\n$$\nP(Z=0 \\mid X=1) = \\frac{P(X=1 \\mid Z=0)P(Z=0)}{P(X=1)} = \\frac{(0.9)(0.5)}{0.5} = 0.9\n$$\n$$\nP(Z=1 \\mid X=1) = \\frac{P(X=1 \\mid Z=1)P(Z=1)}{P(X=1)} = \\frac{(0.1)(0.5)}{0.5} = 0.1\n$$\n$$\nP(Z=0 \\mid X=0) = \\frac{P(X=0 \\mid Z=0)P(Z=0)}{P(X=0)} = \\frac{(1 - 0.9)(0.5)}{0.5} = 0.1\n$$\n$$\nP(Z=1 \\mid X=0) = \\frac{P(X=0 \\mid Z=1)P(Z=1)}{P(X=0)} = \\frac{(1 - 0.1)(0.5)}{0.5} = 0.9\n$$\n我们现在可以计算 $Y$ 的边际期望。\n$$\n\\mathbb{E}[Y \\mid X=1] = P(Y=1 \\mid X=1) = P(Y=1 \\mid X=1, Z=0)P(Z=0 \\mid X=1) + P(Y=1 \\mid X=1, Z=1)P(Z=1 \\mid X=1)\n$$\n$$\n= (0.2)(0.9) + (0.6)(0.1) = 0.18 + 0.06 = 0.24\n$$\n$$\n\\mathbb{E}[Y \\mid X=0] = P(Y=1 \\mid X=0) = P(Y=1 \\mid X=0, Z=0)P(Z=0 \\mid X=0) + P(Y=1 \\mid X=0, Z=1)P(Z=1 \\mid X=0)\n$$\n$$\n= (0.1)(0.1) + (0.5)(0.9) = 0.01 + 0.45 = 0.46\n$$\n因此，边际关联为：\n$$\n\\mathbb{E}[Y \\mid X=1] - \\mathbb{E}[Y \\mid X=0] = 0.24 - 0.46 = -0.22\n$$\n各分层特异性关联均为正值 ($+0.1$)，而边际关联为负值 ($-0.22$)。这论证了边际关联与每个分层特异性关联的符号相反，这种现象被称为辛普森悖论。\n\n**任务2：平均因果效应 (ACE) 的计算**\n\n为了计算平均因果效应 $\\text{ACE} = \\mathbb{E}[Y(1)] - \\mathbb{E}[Y(0)]$，我们使用后门准则。该 DAG 为 $Z \\to X$、$Z \\to Y$、$X \\to Y$。路径 $X \\leftarrow Z \\to Y$ 是一条从 $X$到 $Y$ 的后门路径，因为它包含一个指向 $X$ 的箭头。变量 $Z$ 在这条路径上。要将 $Z$ 作为调整集，它必须满足两个条件：\n1. $\\{Z\\}$ 中没有节点是 $X$ 的后代。这是成立的，因为不存在从 $X$ 到 $Z$ 的路径。\n2. 集合 $\\{Z\\}$ 阻断了所有从 $X$ 到 $Y$ 的后门路径。唯一的后门路径是 $X \\leftarrow Z \\to Y$，以 $Z$ 为条件可以阻断这条路径。\n由于两个条件都满足，$\\{Z\\}$ 是一个可接受的调整集。\n\nACE 的后门调整公式为：\n$$\n\\text{ACE} = \\mathbb{E}[Y(1)] - \\mathbb{E}[Y(0)] = \\sum_{z \\in \\{0,1\\}} \\mathbb{E}[Y \\mid X=1, Z=z]P(Z=z) - \\sum_{z \\in \\{0,1\\}} \\mathbb{E}[Y \\mid X=0, Z=z]P(Z=z)\n$$\n这可以重写为分层特异性效应的加权平均值：\n$$\n\\text{ACE} = \\sum_{z \\in \\{0,1\\}} \\left( \\mathbb{E}[Y \\mid X=1, Z=z] - \\mathbb{E}[Y \\mid X=0, Z=z] \\right) P(Z=z)\n$$\n我们已知概率 $P(Z=0)=0.5$ 和 $P(Z=1)=0.5$。分层特异性效应已在任务1中计算。\n$$\n\\text{ACE} = (P(Y=1 \\mid X=1, Z=0) - P(Y=1 \\mid X=0, Z=0))P(Z=0) + (P(Y=1 \\mid X=1, Z=1) - P(Y=1 \\mid X=0, Z=1))P(Z=1)\n$$\n$$\n\\text{ACE} = (0.2 - 0.1)(0.5) + (0.6 - 0.5)(0.5)\n$$\n$$\n\\text{ACE} = (0.1)(0.5) + (0.1)(0.5) = 0.05 + 0.05 = 0.1\n$$\n$X$ 对 $Y$ 的平均因果效应是 $0.1$。", "answer": "$$\\boxed{0.1}$$", "id": "4912904"}, {"introduction": "在识别了混杂的危险之后，下一步是学习如何消除它的影响，从而估计出真实的处理效应。后门调整准则为我们提供了一个基于有向无环图（DAG）的系统性方法，通过对混杂因素进行分层分析，来“关闭”从处理到结果的非因果路径。通过这个练习 [@problem_id:4912969]，你将应用后门调整公式，定量计算平均处理效应（Average Treatment Effect, ATE），并将其与未经调整的“朴素”关联进行比较，从而直观地看到混杂偏倚的大小。", "problem": "一项观察性生物统计学研究旨在估计二元抗病毒治疗 $X \\in \\{0,1\\}$ 对住院患者的二元康复结局 $Y \\in \\{0,1\\}$ 的因果效应。一个二元合并症指标 $Z \\in \\{0,1\\}$ 是 $X$ 和 $Y$ 的共同原因。其因果结构由一个有向无环图 (DAG) 表示，箭头为 $Z \\rightarrow X$、$Z \\rightarrow Y$ 和 $X \\rightarrow Y$。假设在以 $Z$ 为条件后，$X$ 和 $Y$ 之间没有未测量的共同原因，并且正定性条件对 $Z$ 的所有分层都成立。\n\n在数据中观察到以下概率：\n- $Z$ 的边缘分布为 $P(Z=1)=0.6$ 和 $P(Z=0)=0.4$。\n- 治疗分配取决于 $Z$：$P(X=1 \\mid Z=1)=0.8$ 和 $P(X=1 \\mid Z=0)=0.2$。\n- 结果模型由条件概率 $P(Y=1 \\mid X,Z)$ 给出：\n  - $P(Y=1 \\mid X=1, Z=1)=0.7$，\n  - $P(Y=1 \\mid X=0, Z=1)=0.5$，\n  - $P(Y=1 \\mid X=1, Z=0)=0.4$，\n  - $P(Y=1 \\mid X=0, Z=0)=0.2$。\n\n从平均治疗效应 (ATE) 的潜在结果定义 $ATE = \\mathbb{E}[Y(1) - Y(0)]$ 出发，并根据该 DAG 所隐含的因果识别条件（$Z$ 满足后门准则），计算：\n1. 使用提供的观测数量，计算 ATE 的后门调整估计值。\n2. 使用全概率定律和贝叶斯法则（如果需要），计算朴素的结果均值差异 $\\mathbb{E}[Y \\mid X=1] - \\mathbb{E}[Y \\mid X=0]$。\n\n将您的每个最终数值答案四舍五入到四位有效数字。按照第1项和第2项中指定的顺序，将您的两个数字以行向量的形式报告。", "solution": "问题陈述已经过验证，被认为是有效的。这是一个生物统计学领域中的适定问题，特别涉及从观察性数据进行因果推断。该问题提供了一套完整且一致的数据和假设，是计算所需量所必需的。所有提供的概率都是有效的，并且陈述的假设（给定 $Z$ 无未测量混杂，正定性）与数据一致。\n\n目标是计算两个量：为混杂因素调整后的因果平均治疗效应 (ATE)，以及朴素的（关联性）结果均值差异。\n\n1.  **后门调整的平均治疗效应 (ATE) 的计算**\n\nATE 被定义为潜在结果的期望差异，$ATE = \\mathbb{E}[Y(1) - Y(0)]$，其中 $Y(x)$ 是在治疗水平 $x$ 下的潜在结果。对于二元结果 $Y$，这个期望简化为结果为1的概率之差：\n$$ATE = P(Y(1)=1) - P(Y(0)=1)$$\n问题陈述指出，因果结构由有向无环图 (DAG) $Z \\rightarrow X$、$Z \\rightarrow Y$ 和 $X \\rightarrow Y$ 给出。变量 $Z$ 是治疗 $X$ 和结果 $Y$ 的一个共同原因，因此是一个混杂因素。问题还指出，在以 $Z$ 为条件后，$X$ 和 $Y$ 之间没有未测量的共同原因。这意味着集合 $\\{Z\\}$ 满足识别 $X$ 对 $Y$ 因果效应的后门准则。因此，我们可以使用后门调整公式（也称为标准化或g公式）来用观测概率表示潜在结果概率：\n$$P(Y(x)=1) = \\sum_{z \\in \\{0,1\\}} P(Y=1 \\mid X=x, Z=z) P(Z=z)$$\n我们使用提供的数据计算 $P(Y(1)=1)$ 和 $P(Y(0)=1)$：\n-   $P(Z=1)=0.6$\n-   $P(Z=0)=0.4$\n-   $P(Y=1 \\mid X=1, Z=1)=0.7$\n-   $P(Y=1 \\mid X=0, Z=1)=0.5$\n-   $P(Y=1 \\mid X=1, Z=0)=0.4$\n-   $P(Y=1 \\mid X=0, Z=0)=0.2$\n\n对于接受治疗的潜在结果 ($x=1$)：\n$$P(Y(1)=1) = P(Y=1 \\mid X=1, Z=1)P(Z=1) + P(Y=1 \\mid X=1, Z=0)P(Z=0)$$\n$$P(Y(1)=1) = (0.7)(0.6) + (0.4)(0.4) = 0.42 + 0.16 = 0.58$$\n对于未接受治疗（对照组）的潜在结果 ($x=0$)：\n$$P(Y(0)=1) = P(Y=1 \\mid X=0, Z=1)P(Z=1) + P(Y=1 \\mid X=0, Z=0)P(Z=0)$$\n$$P(Y(0)=1) = (0.5)(0.6) + (0.2)(0.4) = 0.30 + 0.08 = 0.38$$\nATE是这两个量之间的差值：\n$$ATE = P(Y(1)=1) - P(Y(0)=1) = 0.58 - 0.38 = 0.20$$\n\n2.  **朴素的结果均值差异的计算**\n\n朴素的结果均值差异是关联性度量 $\\mathbb{E}[Y \\mid X=1] - \\mathbb{E}[Y \\mid X=0]$。对于二元结果 $Y$，这等价于：\n$$P(Y=1 \\mid X=1) - P(Y=1 \\mid X=0)$$\n为了计算这些条件概率，我们必须首先确定 $X$ 的边缘分布，然后使用全概率定律和贝叶斯法则。\n\n首先，我们通过对 $Z$ 进行边缘化来找到接受治疗的边缘概率 $P(X=1)$：\n$$P(X=1) = P(X=1 \\mid Z=1)P(Z=1) + P(X=1 \\mid Z=0)P(Z=0)$$\n使用给定的数据 ($P(X=1 \\mid Z=1)=0.8$ 和 $P(X=1 \\mid Z=0)=0.2$)：\n$$P(X=1) = (0.8)(0.6) + (0.2)(0.4) = 0.48 + 0.08 = 0.56$$\n未接受治疗的概率是 $P(X=0) = 1 - P(X=1) = 1 - 0.56 = 0.44$。\n\n接下来，我们计算 $P(Y=1 \\mid X=1)$ 和 $P(Y=1 \\mid X=0)$。我们可以使用联合概率 $P(Y=1, X=x)$ 将它们表示为 $P(Y=1 \\mid X=x) = \\frac{P(Y=1, X=x)}{P(X=x)}$。\n联合概率 $P(Y=1, X=x)$ 通过对 $Z$ 进行边缘化得到：\n$$P(Y=1, X=x) = \\sum_{z \\in \\{0,1\\}} P(Y=1, X=x, Z=z)$$\n使用概率的链式法则，$P(A,B,C) = P(A|B,C)P(B|C)P(C)$：\n$$P(Y=1, X=x) = \\sum_{z \\in \\{0,1\\}} P(Y=1 \\mid X=x, Z=z) P(X=x \\mid Z=z) P(Z=z)$$\n对于 $x=1$：\n$$P(Y=1, X=1) = P(Y=1 \\mid X=1, Z=1)P(X=1 \\mid Z=1)P(Z=1) + P(Y=1 \\mid X=1, Z=0)P(X=1 \\mid Z=0)P(Z=0)$$\n$$P(Y=1, X=1) = (0.7)(0.8)(0.6) + (0.4)(0.2)(0.4) = 0.336 + 0.032 = 0.368$$\n所以，给定治疗的条件下康复的条件概率是：\n$$P(Y=1 \\mid X=1) = \\frac{P(Y=1, X=1)}{P(X=1)} = \\frac{0.368}{0.56} = \\frac{368}{560} = \\frac{23}{35}$$\n对于 $x=0$：\n我们需要 $P(X=0 \\mid Z=1) = 1 - 0.8 = 0.2$ 和 $P(X=0 \\mid Z=0) = 1 - 0.2 = 0.8$。\n$$P(Y=1, X=0) = P(Y=1 \\mid X=0, Z=1)P(X=0 \\mid Z=1)P(Z=1) + P(Y=1 \\mid X=0, Z=0)P(X=0 \\mid Z=0)P(Z=0)$$\n$$P(Y=1, X=0) = (0.5)(0.2)(0.6) + (0.2)(0.8)(0.4) = 0.060 + 0.064 = 0.124$$\n所以，在未接受治疗的条件下康复的条件概率是：\n$$P(Y=1 \\mid X=0) = \\frac{P(Y=1, X=0)}{P(X=0)} = \\frac{0.124}{0.44} = \\frac{124}{440} = \\frac{31}{110}$$\n朴素的均值差异是：\n$$P(Y=1 \\mid X=1) - P(Y=1 \\mid X=0) = \\frac{23}{35} - \\frac{31}{110} = \\frac{23 \\times 22 - 31 \\times 7}{770} = \\frac{506 - 217}{770} = \\frac{289}{770}$$\n换算成小数，这大约是 $0.37532467...$。\n\n**总结与四舍五入**\n\n所要求的两个量是：\n1.  ATE = $0.20$\n2.  朴素差异 = $\\frac{289}{770} \\approx 0.37532467...$\n\n根据要求将这些数值四舍五入到四位有效数字：\n1.  ATE = $0.2000$\n2.  朴素差异 = $0.3753$\n\nATE ($0.2000$) 与朴素关联 ($0.3753$) 之间的差异是由 $Z$ 的混杂效应引起的。朴素差异是因果效应的一个有偏估计。", "answer": "$$ \\boxed{\\begin{pmatrix} 0.2000  0.3753 \\end{pmatrix}} $$", "id": "4912969"}, {"introduction": "虽然调整混杂因素是因果推断的关键步骤，但并非所有的调整都是有益的。错误地对一个“对撞”变量（collider）——即一个同时被处理和结果影响的变量——进行控制，会打开一条原本被阻断的虚假关联路径，从而引入偏倚。这个练习 [@problem_id:4912830] 将通过计算向你展示这种“对撞偏倚”是如何产生的，让你明白在因果分析中，知道“不应该控制什么”与知道“应该控制什么”同样重要。", "problem": "一位生物统计学家正在研究一个群体中的二元暴露 $X \\in \\{0,1\\}$ 和二元结局 $Y \\in \\{0,1\\}$。在该群体中，$X$ 对 $Y$ 没有因果效应，且 $X$ 和 $Y$ 之间没有共同原因。其因果结构由一个有向无环图 (DAG) 给出，其中 $X$ 和 $Y$ 是第三个二元变量 $C \\in \\{0,1\\}$ 的边际独立原因，即 $X \\to C \\leftarrow Y$，并且没有其他箭头。假设数据生成机制如下：\n\n- $X$ 和 $Y$ 相互独立，且 $P(X=1)=0.4$，$P(Y=1)=0.3$。因此，$(X,Y)$ 的联合分布为：\n  - $P(X=1,Y=1)=0.12$，\n  - $P(X=1,Y=0)=0.28$，\n  - $P(X=0,Y=1)=0.18$，\n  - $P(X=0,Y=0)=0.42$。\n\n- 对撞变量 $C$ 由其父节点 $(X,Y)$ 随机生成，其条件概率如下：\n  - $P(C=1 \\mid X=1,Y=1)=0.9$，\n  - $P(C=1 \\mid X=1,Y=0)=0.6$，\n  - $P(C=1 \\mid X=0,Y=1)=0.6$，\n  - $P(C=1 \\mid X=0,Y=0)=0.1$，\n  并且对于每个 $(X,Y)$，$P(C=0 \\mid X,Y)=1-P(C=1 \\mid X,Y)$。\n\n仅使用独立性和条件概率的定义以及上述概率表，计算诱导差异 $D \\equiv P(Y=1 \\mid X=1, C=1) - P(Y=1 \\mid X=1)$。你的最终答案必须是一个精确的数值（不要四舍五入）。", "solution": "该问题被确定为有效，因为它科学地基于因果推断和概率论的原理，问题陈述清晰，信息充分且一致，并且表述客观。所提供的概率在内部是一致的，并符合概率公理。\n\n目标是计算诱导差异 $D$，其定义为：\n$$D \\equiv P(Y=1 \\mid X=1, C=1) - P(Y=1 \\mid X=1)$$\n\n我们将分别计算该表达式中的每一项。\n\n首先，我们计算 $P(Y=1 \\mid X=1)$ 这一项。问题陈述指明变量 $X$ 和 $Y$ 是边际独立的。根据统计独立性的定义，$Y$ 在给定 $X$ 下的条件概率等于 $Y$ 的边际概率。\n$$P(Y=1 \\mid X=1) = P(Y=1)$$\n问题给出了 $Y=1$ 的边际概率：\n$$P(Y=1) = 0.3$$\n因此，$D$ 表达式中的第二项是 $0.3$。\n\n接下来，我们计算 $P(Y=1 \\mid X=1, C=1)$ 这一项。根据条件概率的定义，我们可以写出：\n$$P(Y=1 \\mid X=1, C=1) = \\frac{P(X=1, Y=1, C=1)}{P(X=1, C=1)}$$\n为了计算这个表达式，我们必须计算分子 $P(X=1, Y=1, C=1)$ 和分母 $P(X=1, C=1)$。\n\n分子是所有三个变量都等于 $1$ 的联合概率。使用概率的链式法则，我们可以将其表示为：\n$$P(X=1, Y=1, C=1) = P(C=1 \\mid X=1, Y=1) \\, P(X=1, Y=1)$$\n问题提供了必要的值：\n$$P(C=1 \\mid X=1, Y=1) = 0.9$$\n$$P(X=1, Y=1) = 0.12$$\n代入这些值，我们得到：\n$$P(X=1, Y=1, C=1) = 0.9 \\times 0.12 = 0.108$$\n\n分母 $P(X=1, C=1)$ 是一个边际联合概率。我们可以通过应用全概率定律并对变量 $Y$ 进行边际化来获得它：\n$$P(X=1, C=1) = \\sum_{y \\in \\{0,1\\}} P(X=1, Y=y, C=1)$$\n$$P(X=1, C=1) = P(X=1, Y=1, C=1) + P(X=1, Y=0, C=1)$$\n我们已经计算了第一项：$P(X=1, Y=1, C=1) = 0.108$。\n现在我们计算第二项 $P(X=1, Y=0, C=1)$，同样使用链式法则：\n$$P(X=1, Y=0, C=1) = P(C=1 \\mid X=1, Y=0) \\, P(X=1, Y=0)$$\n问题提供了以下值：\n$$P(C=1 \\mid X=1, Y=0) = 0.6$$\n$$P(X=1, Y=0) = 0.28$$\n代入这些值，我们得到：\n$$P(X=1, Y=0, C=1) = 0.6 \\times 0.28 = 0.168$$\n现在，我们可以通过将两项相加来计算分母：\n$$P(X=1, C=1) = 0.108 + 0.168 = 0.276$$\n\n在计算出分子和分母后，我们可以求出条件概率 $P(Y=1 \\mid X=1, C=1)$：\n$$P(Y=1 \\mid X=1, C=1) = \\frac{0.108}{0.276}$$\n为了将其表示为一个精确的分数，我们将其写成整数之比并进行化简：\n$$\\frac{108}{276} = \\frac{27 \\times 4}{69 \\times 4} = \\frac{27}{69} = \\frac{9 \\times 3}{23 \\times 3} = \\frac{9}{23}$$\n\n最后，我们计算诱导差异 $D$：\n$$D = P(Y=1 \\mid X=1, C=1) - P(Y=1 \\mid X=1)$$\n$$D = \\frac{9}{23} - 0.3$$\n为了进行减法运算，我们将 $0.3$ 表示为分数 $\\frac{3}{10}$，并找到一个公分母，即 $23 \\times 10 = 230$：\n$$D = \\frac{9}{23} - \\frac{3}{10} = \\frac{9 \\times 10}{23 \\times 10} - \\frac{3 \\times 23}{10 \\times 23} = \\frac{90}{230} - \\frac{69}{230}$$\n$$D = \\frac{90 - 69}{230} = \\frac{21}{230}$$\n这个正值展示了对撞偏倚现象，即以一个共同效应（$C=1$）为条件，在两个边际独立的因（$X$ 和 $Y$）之间诱导出了统计关联。", "answer": "$$\\boxed{\\frac{21}{230}}$$", "id": "4912830"}]}