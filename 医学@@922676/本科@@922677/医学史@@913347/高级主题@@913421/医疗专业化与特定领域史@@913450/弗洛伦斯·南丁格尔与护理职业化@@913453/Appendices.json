{"hands_on_practices": [{"introduction": "弗洛伦斯·南丁格尔最具革命性的贡献之一是她利用数据来揭示一个惊人的事实：在战争中，死于疾病的士兵远多于死于战斗创伤的士兵。通过系统地收集和分析死亡原因，她将公共卫生的重点从战场转移到了拥挤而不卫生的医院营房。这项练习让你亲身体验这一过程，通过计算和比较不同死因的死亡率，来重现南丁格尔改变了战争医学的关键洞见 [@problem_id:4745449]。", "problem": "本着Florence Nightingale十九世纪中叶医院改革的精神，设想一个野战医院，该医院记录入院患者的死因，以区分传染病死亡与战伤死亡。假设在一次战役期间，该医院在总共 $1000$ 名入院患者中记录了以下死亡人数：霍乱 $80$ 例，伤寒 $120$ 例，痢疾 $100$ 例，战伤 $70$ 例。假设对于死亡而言，这些死因是相互排斥且共同穷尽的，并且在这种情况下，死亡比例的合适分母是总入院人数。根据“特定原因的死亡比例等于该原因导致的死亡人数除以总入院人数”这一基础流行病学定义，将“传染病”视为霍乱、伤寒和痢疾的总和，并将“战伤”视为一个独立的类别。请从基本原理推导出传染病死亡比例和战伤死亡比例，然后计算传染病死亡比例与战伤死亡比例的比值。最终答案仅报告此比值，以纯数形式表示（无单位，无百分号），并四舍五入至四位有效数字。", "solution": "首先验证问题，以确保其科学合理、提法明确且客观。\n\n### 步骤 1：提取已知条件\n- 总入院人数：$N_{\\text{adm}} = 1000$\n- 霍乱死亡人数：$D_{\\text{chol}} = 80$\n- 伤寒死亡人数：$D_{\\text{typh}} = 120$\n- 痢疾死亡人数：$D_{\\text{dys}} = 100$\n- 战伤死亡人数：$D_{\\text{wounds}} = 70$\n- 对于所有死亡，死因是相互排斥且共同穷尽的。\n- 特定原因的死亡比例定义：$\\text{死亡比例} = \\frac{\\text{该原因导致的死亡人数}}{\\text{总入院人数}}$\n- “传染病”死亡人数 $D_{\\text{id}}$ 的定义：霍乱、伤寒和痢疾死亡人数的总和。\n- “战伤”死亡人数 $D_{\\text{wounds}}$ 的定义：给定的战伤死亡人数。\n\n### 步骤 2：使用提取的已知条件进行验证\n该问题基于流行病学和初等统计学的基本原理。Florence Nightingale 的工作所提供的历史背景是恰当的，因为她是一位利用统计数据倡导公共卫生改革的先驱。求解所需的所有数据和定义均已明确给出。“死亡比例”、“传染病”和“战伤”的定义清晰明确。数据内部一致；总死亡人数 ($80 + 120 + 100 + 70 = 370$) 小于总入院人数 ($1000$)，这在逻辑上是必然的。因此，该问题提法明确，并存在唯一且有意义的解。\n\n### 步骤 3：结论与行动\n问题有效。将推导出合理的解。\n\n### 推导过程\n该问题要求计算两个死亡比例的比值。我们将根据问题陈述中的定义，从基本原理推导每个比例。\n\n首先，我们确定归因于“传染病”的总死亡人数。该类别被定义为霍乱、伤寒和痢疾死亡人数的总和。由于死因被说明是相互排斥的，总数是各个计数的总和。设 $D_{\\text{id}}$ 为传染病死亡人数。\n$$D_{\\text{id}} = D_{\\text{chol}} + D_{\\text{typh}} + D_{\\text{dys}}$$\n代入给定值：\n$$D_{\\text{id}} = 80 + 120 + 100 = 300$$\n\n接下来，我们使用所提供的死亡比例的定义。特定原因的死亡比例是该原因导致的死亡人数除以总入院人数 $N_{\\text{adm}}$。\n\n传染病死亡比例，记为 $P_{\\text{id}}$，为：\n$$P_{\\text{id}} = \\frac{D_{\\text{id}}}{N_{\\text{adm}}} = \\frac{300}{1000} = 0.3$$\n\n战伤死亡比例，记为 $P_{\\text{wounds}}$，是基于给定的战伤死亡人数 $D_{\\text{wounds}} = 70$ 计算得出。\n$$P_{\\text{wounds}} = \\frac{D_{\\text{wounds}}}{N_{\\text{adm}}} = \\frac{70}{1000} = 0.07$$\n\n问题要求计算传染病死亡比例与战伤死亡比例的比值。设此比值为 $R$。\n$$R = \\frac{P_{\\text{id}}}{P_{\\text{wounds}}}$$\n代入比例的表达式：\n$$R = \\frac{\\frac{D_{\\text{id}}}{N_{\\text{adm}}}}{\\frac{D_{\\text{wounds}}}{N_{\\text{adm}}}}$$\n总入院人数项 $N_{\\text{adm}}$ 被消去，比值简化为两类死亡人数的比值：\n$$R = \\frac{D_{\\text{id}}}{D_{\\text{wounds}}}$$\n代入计算出的和给定的死亡人数值：\n$$R = \\frac{300}{70} = \\frac{30}{7}$$\n\n最后，我们计算该比值的数值，并按要求将其四舍五入至四位有效数字。\n$$R = \\frac{30}{7} \\approx 4.28571428...$$\n为将其四舍五入至四位有效数字，我们考察前五位数字：$4.2857$。由于第五位数字 ($7$) 大于或等于 $5$，我们将第四位有效数字 ($5$) 向上取整。\n$$R \\approx 4.286$$\n这就是最终答案。", "answer": "$$\\boxed{4.286}$$", "id": "4745449"}, {"introduction": "除了环境改革，南丁格尔还通过建立严格的培训学校，将护理转变为一门受人尊敬的专业。设立高标准的道德和技能要求，意味着并非所有学员都能毕业，这在提高护理质量和满足医疗服务需求之间形成了一种权衡。这项练习模拟了这一现实，让你计算在特定淘汰率下，一个初始护士队列的毕业人数，从而量化专业化过程中的质量与数量的平衡问题 [@problem_id:4745462]。", "problem": "Florence Nightingale的培训学校强调见习生必须具备严格的道德品质和实践能力标准，这在历史上导致了不符合期望的学员在早期阶段被淘汰。考虑一个与此实践相符的、基于队列的培训模型：一个规模为$N_{0}$的新入学队列面临第一年的筛选，其固定比例的淘汰率$a$应用于该队列。假设在第一年的筛选之后，不再有人员淘汰，所有剩余的见习生都将毕业。\n\n从淘汰率的定义（即筛选期间被淘汰的学员占队列的比例）出发，从第一性原理推导毕业生人数$G$作为$N_{0}$和$a$的函数表达式。然后，对于一个初始队列规模$N_{0} = 60$且第一年淘汰率为$a = 0.25$的情况，计算$G$的值。提供最终答案，以计数形式表示（无单位）。无需四舍五入。\n\n用一两句话，从选择性（更严格的标准导致更高的$a$）与受训护士供应量之间的权衡角度，解释你的结果。这是改革者在寻求护理专业化的同时满足服务需求时所面临的问题。最终答案只对数值进行评分；解释部分将进行定性评估。", "solution": "首先对问题陈述进行验证。\n\n**步骤1：提取已知条件**\n-   初始队列规模：$N_{0}$\n-   第一年按比例淘汰率：$a$\n-   淘汰率的定义：“筛选期间被淘汰的学员占队列的比例”\n-   条件：“第一年筛选后不再有人员淘汰”\n-   毕业生人数：$G$\n-   待推导的函数：$G$ 作为 $N_{0}$ 和 $a$ 的函数。\n-   用于评估的值：$N_{0} = 60$，$a = 0.25$。\n-   要求解释：关于选择性与供应量之间权衡的简短陈述。\n\n**步骤2：使用提取的已知条件进行验证**\n根据所需标准对问题进行评估。\n-   **科学依据**：该问题使用了一个基础且可靠的人口动态（淘汰）数学模型。这是从流行病学到劳动力规划等领域的标准方法。其历史背景是合理的，并为可形式化的数学问题提供了框架。\n-   **适定性**：问题是自洽的。“淘汰率”一词被明确定义为比例。推导和后续计算所需的所有变量（$N_{0}$、$a$）均已提供。第一年后无人员淘汰的假设消除了歧义，并确保存在唯一解。\n-   **客观性**：语言精确，没有主观或带偏见的陈述。\n\n该问题不存在任何指定的缺陷（例如，科学上不健全、不完整、有歧义）。这是一个定义明确的数学建模练习。\n\n**步骤3：结论与行动**\n问题被判定为**有效**。将推导解答。\n\n**毕业生表达式的推导**\n毕业生人数$G$是队列中的初始见习生人数$N_{0}$减去第一年筛选期间被淘汰的见习生人数。设被淘汰的见习生人数为$N_{removed}$。\n$$\nG = N_{0} - N_{removed}\n$$\n问题指出，淘汰率$a$是被淘汰学员占队列的*比例*。比例是整体的一部分，通过将部分除以整体来计算。因此，淘汰率$a$定义为：\n$$\na = \\frac{N_{removed}}{N_{0}}\n$$\n为了求出被淘汰的见习生人数$N_{removed}$，我们可以从第一性原理出发重新整理这个定义：\n$$\nN_{removed} = a \\cdot N_{0}\n$$\n现在，我们将$N_{removed}$的表达式代入毕业生人数$G$的方程中：\n$$\nG = N_{0} - (a \\cdot N_{0})\n$$\n提出初始队列规模$N_{0}$作为公因子，我们得到毕业生人数作为初始队列规模和淘汰率的函数的通用表达式：\n$$\nG(N_{0}, a) = N_{0}(1 - a)\n$$\n该表达式表示在一个淘汰率为$a$的单一淘汰事件后，队列中剩余的个体数量。\n\n**对给定值进行评估**\n问题要求对初始队列规模$N_{0} = 60$且第一年淘汰率为$a = 0.25$的情况计算$G$。将这些值代入推导出的表达式中：\n$$\nG = 60 \\cdot (1 - 0.25)\n$$\n$$\nG = 60 \\cdot (0.75)\n$$\n为了计算这个乘积，我们可以将小数$0.75$表示为分数$\\frac{3}{4}$：\n$$\nG = 60 \\cdot \\frac{3}{4}\n$$\n$$\nG = \\frac{180}{4}\n$$\n$$\nG = 45\n$$\n因此，对于一个有$60$名见习生的初始队列和$25\\%$的第一年淘汰率，毕业生人数为$45$。\n\n**解释**\n这个结果说明了项目选择性与劳动力供应之间的基本权衡。更严格的标准对应更高的淘汰率$a$，会导致毕业生人数$G$减少，从而在提高护理队伍的感知质量和专业地位的同时，代价是减少了可用于满足医疗保健需求的护士数量。", "answer": "$$\n\\boxed{45}\n$$", "id": "4745462"}, {"introduction": "南丁格尔的数据分析非常有说服力，但作为一名严谨的思考者，她也深知观察性研究的局限性。要确定她的改革是否 *导致* 了死亡率下降，我们需要仔细审视证据的来源。这项练习将引导你思考两种核心的观察性研究策略——“前后对比”与“同期对照”，并辨析每种策略在建立因果关系时所面临的挑战，这对于培养批判性科学思维至关重要 [@problem_id:4745431]。", "problem": "在克里米亚战争期间，Florence Nightingale 使用了两种宽泛的观察性策略来评估卫生改革的影响：在同一家医院内比较改革前后的结果，以及在有改革和无改革的医院或病房之间进行同期对照比较。考虑一个简化的因果框架，其中每个单位（例如，一个病房）如果接受改革，其潜在结果为 $Y(1)$，如果不接受，则为 $Y(0)$。观测到的结果为 $Y = D \\cdot Y(1) + (1-D) \\cdot Y(0)$，其中 $D \\in \\{0,1\\}$ 表示是否接受改革（暴露）。平均因果效应是 $\\mathbb{E}[Y(1) - Y(0)]$。在 Nightingale 的背景下，一些病房的改革引入时间 $t_0$ 早于其他病房，死亡率 $Y$ 随季节变化，病例构成和测量实践也可能随时间推移而改变。\n\n从因果效应的反事实定义和观察性推断的基本原则出发，分析每种比较方法保持了什么不变，又使其在哪些方面存在弱点。在同一病房内的前后对比中，将时间 $t  t_0$ 且 $D=0$ 的前期与时间 $t \\ge t_0$ 且 $D=1$ 的后期进行比较。在对照比较中，在同一时间 $t$ 比较两个病房，一个 $D=1$，一个 $D=0$，理想情况下它们在可观测特征上是匹配的。\n\n哪个选项最能阐明 (i) 这两种策略在保持不变的因素方面的根本区别，以及 (ii) 在 Nightingale 的分析中，每种策略对有效因果推断的主要威胁是什么？\n\nA. 前后对比使用时间序列自动控制季节性，从而消除了长期趋势；其主要剩余威胁是选择偏倚，而同期对照比较由于不使用时间信息，主要受到回归均值现象的威胁。\n\nB. 前后对比将时间视为保证外生性的工具变量；其主要威胁是反向因果关系和安慰剂效应，而同期对照比较如果对观测因素进行了匹配，则消除了混杂，仅面临测量误差作为残余威胁。\n\nC. 前后对比保持了单位层面的特征（例如，病房基础设施）固定，同时随时间改变 $D$，但没有保持随时间变化的影响因素不变；它们受到长期趋势、季节性、病例构成的变化、诊断和记录实践的改变以及其他随时间变化的混杂因素的威胁。同期对照比较通过在同一时间 $t$ 对比 $D=1$ 与 $D=0$ 来保持日历时间固定，但由于处理组的选择、病例构成的差异、基线严重程度、转诊和分配实践以及匹配带来的不完全调整，存在因非等效组而产生的混杂风险。\n\nD. 只要样本量足够大，前后对比和同期对照比较都能产生 $\\mathbb{E}[Y(1) - Y(0)]$ 的无偏估计；在 Nightingale 的情境下，除了抽样变异性外，对推断的威胁可以忽略不计。", "solution": "用户要求对问题陈述进行批判性验证，然后提供详细的解决方案和对所给选项的评估。\n\n### 问题验证\n\n**步骤1：提取已知信息**\n-   **观察性策略：** Florence Nightingale 使用了两种策略：\n    1.  前后对比：在同一家医院内比较卫生改革前后的结果。\n    2.  同期对照比较：在同一时间，比较有改革和无改革的医院或病房之间的结果。\n-   **因果框架：**\n    -   潜在结果：$Y(1)$ 为有改革时的结果，$Y(0)$ 为无改革时的结果。\n    -   观测结果：$Y = D \\cdot Y(1) + (1-D) \\cdot Y(0)$。\n    -   处理指标：$D \\in \\{0,1\\}$，其中 $D=1$ 表示接受改革。\n    -   因果估计量：平均因果效应 (ACE)，$\\mathbb{E}[Y(1) - Y(0)]$。\n-   **背景因素：**\n    -   改革在时间 $t_0$ 引入。\n    -   死亡率 ($Y$) 表现出季节性变化。\n    -   病例构成和测量实践可能随时间变化。\n-   **策略形式化：**\n    1.  **前后对比：** 对于单个单位，对比前期（$t  t_0, D=0$）的结果与后期（$t \\ge t_0, D=1$）的结果。\n    2.  **对照比较：** 在同一时间 $t$，对比一个 $D=1$ 的单位和一个 $D=0$ 的单位，理想情况下在可观测特征上进行匹配。\n-   **问题：** 阐明 (i) 每种策略在保持不变的因素方面的根本区别，以及 (ii) 每种策略对有效因果推断的主要威胁。\n\n**步骤2：使用提取的已知信息进行验证**\n问题陈述是一个标准的、表述良好的因果推断领域问题，以一个历史案例为背景。\n-   **科学性（批判性）：** 是的。该问题基于潜在结果框架（Neyman-Rubin 因果模型），这是统计学、计量经济学和流行病学中现代因果推断的基石。所提及的威胁（季节性、混杂、选择偏倚）是观察性研究中的标准且有效的考量。\n-   **问题定义明确：** 是的。问题结构清晰，定义了两种截然不同的方法，并要求对其假设和弱点进行比较分析。基于已建立的流行病学和统计学原则，存在一个唯一的正确答案。\n-   **客观性（批判性）：** 是的。语言精确，使用了“潜在结果”、“混杂”、“选择偏倚”和“长期趋势”等标准技术术语。它没有主观或价值判断性的陈述。\n-   该问题并非不完整、矛盾、不切实际、不适定或微不足道。它提出了观察性研究设计中的一个经典权衡。\n\n**步骤3：结论与行动**\n问题陈述是**有效的**。开始进行解答。\n\n### 解答推导\n\n目标是估计平均因果效应 (ACE)，即 $\\mathbb{E}[Y(1) - Y(0)]$。在观察性研究中，我们通常用观测均值的差异 $\\mathbb{E}[Y|D=1] - \\mathbb{E}[Y|D=0]$ 来估计它。根据全期望定律和观测结果的定义，这个差异可以展开为：\n$$\n\\mathbb{E}[Y|D=1] - \\mathbb{E}[Y|D=0] = \\mathbb{E}[Y(1)|D=1] - \\mathbb{E}[Y(0)|D=0]\n$$\n这个观测到的差异仅在某些假设成立时才等于 ACE，即 $\\mathbb{E}[Y(1)] - \\mathbb{E}[Y(0)]$。关键假设是可交换性（或无混杂性）：即处理组和对照组是可比较的，使得 $\\mathbb{E}[Y(0)|D=1] = \\mathbb{E}[Y(0)|D=0]$ 和 $\\mathbb{E}[Y(1)|D=1] = \\mathbb{E}[Y(1)|D=0]$。让我们针对这个要求来分析每种策略。\n\n**1. 前后对比**\n该策略在两个不同时间点 $t_1  t_0$（此时 $D=0$）和 $t_2 \\ge t_0$（此时 $D=1$）比较同一单位 $i$ 的结果。其估计量基于 $Y_{i,t_2} - Y_{i,t_1}$，这对应于 $Y_{i,t_2}(1) - Y_{i,t_1}(0)$。\n\n-   **保持了什么不变？** 单位 $i$。通过使用同一病房作为其自身的对照，该设计保持了该病房所有稳定的、不随时间变化的特征不变。这包括固定的物理基础设施、地理位置以及其他不变的属性。\n-   **什么没有保持不变？** 日历时间。比较是在两个不同的时间点 $t_1$ 和 $t_2$ 之间进行的。\n-   **有效性威胁：** 其隐含假设是，在没有处理的情况下的潜在结果随时间是稳定的，即 $\\mathbb{E}[Y_{i,t_2}(0)] = \\mathbb{E}[Y_{i,t_1}(0)]$。如果我们观察到一个变化，我们假设它是由处理引起的。这个“其他条件不变”的假设会被任何随时间变化且影响结果的因素所打破。问题陈述本身列出了几个这样的因素：\n    -   **长期趋势：** 由于与改革无关的因素（例如，发现其他治疗方法，医学知识的普遍进步），死亡率随时间发生普遍变化。\n    -   **季节性：** 死亡率会随季节自然波动。改革前的冬季与改革后的夏季之间的比较会受到严重混杂。\n    -   **病例构成的变化：** 入院病人的类型和严重程度可能随时间变化。\n    -   **测量的变化：** 诊断实践或记录死亡的行政流程可能在 $t_1$ 和 $t_2$ 之间发生了变化。\n    -   **历史事件：** 在前后时期之间可能发生了其他影响结果的特定事件。\n\n**2. 同期对照比较**\n该策略在同一时间点 $t$ 比较两个不同的单位，单位 $i$（处理组，$D=1$）和单位 $j$（对照组，$D=0$）。其估计量基于 $Y_{i,t} - Y_{j,t}$，这对应于 $Y_{i,t}(1) - Y_{j,t}(0)$。\n\n-   **保持了什么不变？** 日历时间 $t$。通过在同一时刻比较两个单位，该设计保持了所有影响两个单位的、随时间变化的因素不变，例如季节性、时间 $t$ 的长期趋势以及任何广泛的历史事件。\n-   **什么没有保持不变？** 单位。比较是在两个不同的单位 $i$ 和 $j$ 之间进行的。\n-   **有效性威胁：** 其隐含假设是单位是可交换的，即对照单位 $j$ 是处理单位 $i$ 的有效反事实。形式上，$\\mathbb{E}[Y_i(0)] = \\mathbb{E}[Y_j(0)]$。这是标准的无混杂假设。如果进入处理组（$D=1$）的选择与潜在结果相关，则该假设被违反。这被称为**按适应症混杂**或**选择偏倚**。具体来源包括：\n    -   **非等效组：** 病房可能在根本上有所不同。改革可能在初始条件最差（或最好）、员工最优或患者群体不同的病房中实施。\n    -   **病例构成、基线严重程度等的差异：** 即使病房看起来相似，它们的患者群体也可能在影响死亡率的方式上存在系统性差异。\n    -   **不完全调整：** 问题陈述中提到单位“理想情况下在可观测特征上是匹配的”。然而，匹配只能解释用于匹配的变量所引起的混杂。单位之间任何未被观察到或未被测量的、且影响死亡率的差异，都将继续作为偏倚的来源。\n\n**分析结论：** 前后研究保持单位不变，但易受随时间变化的混杂因素影响。同期对照研究保持时间不变，但由于单位之间的差异（选择偏倚）而易受混杂影响。\n\n### 逐项选项分析\n\n**A. 前后对比使用时间序列自动控制季节性，从而消除了长期趋势；其主要剩余威胁是选择偏倚，而同期对照比较由于不使用时间信息，主要受到回归均值现象的威胁。**\n这个说法是错误的。一个简单的前后对比并不能控制季节性或长期趋势；相反，它极易受到这些因素的影响。选择偏倚是同期比较的典型威胁，而不是前后设计的威胁。\n**结论：错误。**\n\n**B. 前后对比将时间视为保证外生性的工具变量；其主要威胁是反向因果关系和安慰剂效应，而同期对照比较如果对观测因素进行了匹配，则消除了混杂，仅面临测量误差作为残余威胁。**\n这个说法是错误的。在这种情况下，时间不是一个有效的工具变量，因为它与影响结果的许多其他因素（如季节性）相关，从而违反了排他性限制。声称在观测因素上进行匹配可以消除混杂，这种说法过于绝对；由未观测因素引起的混杂是一个主要的残留威胁。\n**结论：错误。**\n\n**C. 前后对比保持了单位层面的特征（例如，病房基础设施）固定，同时随时间改变 $D$，但没有保持随时间变化的影响因素不变；它们受到长期趋势、季节性、病例构成的变化、诊断和记录实践的改变以及其他随时间变化的混杂因素的威胁。同期对照比较通过在同一时间 $t$ 对比 $D=1$ 与 $D=0$ 来保持日历时间固定，但由于处理组的选择、病例构成的差异、基线严重程度、转诊和分配实践以及匹配带来的不完全调整，存在因非等效组而产生的混杂风险。**\n这个说法为上述推导的分析提供了一个精确而准确的总结。它正确地指出了每种设计中保持不变的因素（前后对比中的单位；同期比较中的时间）。然后，它准确地列举了每种设计有效性的主要威胁：前后设计面临随时间变化的混杂因素，同期设计面临由非等效组（选择偏倚）引起的混杂，并为两者提供了恰当的例子。\n**结论：正确。**\n\n**D. 只要样本量足够大，前后对比和同期对照比较都能产生 $\\mathbb{E}[Y(1) - Y(0)]$ 的无偏估计；在 Nightingale 的情境下，除了抽样变异性外，对推断的威胁可以忽略不计。**\n这个说法有根本性的错误。大样本量可以减少方差（抽样误差），但不能纠正偏倚（系统误差）。混杂和选择偏倚是系统误差的来源。在一个存在内在偏倚的观察性研究中，更大的样本量只会得出一个更精确的错误量估计。在观察性研究中，对推断的威胁通常是巨大的，并且是需要解决的主要挑战。\n**结论：错误。**", "answer": "$$\\boxed{C}$$", "id": "4745431"}]}