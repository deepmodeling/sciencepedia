{"hands_on_practices": [{"introduction": "历史学家经常面对的挑战是如何利用机构的动态记录（如入院登记）来理解其在特定时间点的静态状况。本练习将指导您运用基本的人口学原理，将“流量”数据（入院人数）转化为“存量”指标（精神病在院内的时点患病率）。掌握这项技能对于准确解读历史档案至关重要，它揭示了如何从日常的行政记录中估算疾病负担。[@problem_id:4772469]", "problem": "一家省级精神病院每年编制统计数据，旨在为行政决策提供支持，并在后来的史学研究中，阐明严重精神疾病所带来的负担。在一个住院人口没有净增长或缩减的稳定年份里，该机构报告了$1{,}200$名入院人数，其中$0.40$在入院时被诊断为精神病，以及日均住院人数为$2{,}400$人。历史学家有时希望将这类流量指标转换为存量指标，例如在特定普查日期（例如年中）精神病院内精神病的时点患病率。\n\n仅从人口学和流行病学的核心定义出发（例如，时点患病率、作为流量的发病率/入院人数、稳态下的人口守恒等定义），并且不使用任何现成的快捷公式，完成以下任务：\n\n- 明确陈述你将采用的额外假设，以使在历史上真实的、处于稳态的精神病院中，能从现有的流量和普查数据中明确地计算出时点患病率。\n- 在“精神病患者与非精神病患者的平均住院时长相同”这一历史上常见的简化假设下，计算年中普查日期精神病院内精神病的时点患病率，结果以小数表示。将最终的患病率四舍五入至四位有效数字。\n- 用一两句话简要解释，在没有适当假设的情况下，如果试图混合流量（入院人数）和存量（普查人数），将如何产生分子-分母问题，以及为何不同诊断的平均住院时长差异会使简单的计算产生偏差。\n\n将所求患病率表示为无单位的小数，并遵守四舍五入的要求。不要使用百分号。", "solution": "该问题要求根据流量（入院人数）和存量（普查人数）数据，计算稳态精神病院人口中精神病的时点患病率。这包括陈述必要的假设，在特定的简化条件下进行计算，并解释此类计算中的潜在陷阱。\n\n首先，我们根据所提供的信息定义变量和核心概念。\n设 $A_{total}$ 为年总入院人数，给定为 $1{,}200 \\text{ persons/year}$。\n设 $N_{total}$ 为日均住院人数（总住院人口），给定为 $2{,}400 \\text{ persons}$。\n设 $f_{psy}$ 为入院时诊断为精神病的比例，给定为 $0.40$。\n系统处于稳态，意味着人口规模及其构成在一年中保持不变。\n\n一种疾病的时点患病率是指在特定时间点患有该疾病的人口比例。对于精神病，时点患病率 $P_{psy}$ 为：\n$$ P_{psy} = \\frac{N_{psy}}{N_{total}} $$\n其中 $N_{psy}$ 是普查日期时患有精神病的住院人数。我们的目标是求出 $N_{psy}$。\n\n**为使计算良定义所需的额外假设**\n\n问题中给出的主要假设是系统处于**稳态**。这是人口学中的一个关键假设，它意味着对于整个人口以及任何稳定的亚群体，流入率等于流出率。\n$$ \\text{Rate of inflow} = \\text{Rate of outflow} $$\n在此背景下，流入是入院率，而流出是出院或死亡率。\n\n根据这个稳态原理，我们可以推导出一个基本关系，它将具有某种特征的个体存量（$N$）、进入该状态的新个体流量（$A$，发病率），以及他们在该状态中停留的平均时长（$D$，平均住院时长）联系起来。这个关系类似于排队论中的利特尔法则，即：\n$$ N = A \\times D $$\n这个方程是使问题可解的关键额外假设，或者更准确地说，是从稳态条件推导出的核心操作原则。它必须对总人口和任何亚组（例如精神病患者和非精神病患者）都成立。\n\n对总人口：$N_{total} = A_{total} \\times D_{avg}$，其中 $D_{avg}$ 是任何住院者的平均住院时长。\n对精神病亚组：$N_{psy} = A_{psy} \\times D_{psy}$，其中 $A_{psy}$ 是精神病的入院率，$D_{psy}$ 是他们的平均住院时长。\n对非精神病亚组：$N_{non-psy} = A_{non-psy} \\times D_{non-psy}$。\n\n**时点患病率的计算**\n\n我们被要求在简化假设下计算时点患病率，即所有住院者的平均住院时长是一个常数 $D$，与诊断无关。也就是说：\n$$ D_{psy} = D_{non-psy} = D $$\n让我们首先确定这个共同的住院时长 $D$。对于整个系统，平均住院时长 $D_{avg}$ 将总普查人数与总入院人数联系起来。\n$N_{total} = N_{psy} + N_{non-psy}$\n$A_{total} \\times D_{avg} = (A_{psy} \\times D_{psy}) + (A_{non-psy} \\times D_{non-psy})$\n代入假设 $D_{psy} = D_{non-psy} = D$：\n$A_{total} \\times D_{avg} = (A_{psy} \\times D) + (A_{non-psy} \\times D) = (A_{psy} + A_{non-psy}) \\times D$\n因为 $A_{total} = A_{psy} + A_{non-psy}$，我们有：\n$A_{total} \\times D_{avg} = A_{total} \\times D$，这意味着 $D_{avg} = D$。\n\n我们可以从总人口数据中计算出这个平均住院时长：\n$$ D = D_{avg} = \\frac{N_{total}}{A_{total}} = \\frac{2{,}400 \\text{ persons}}{1{,}200 \\text{ persons/year}} = 2 \\text{ years} $$\n接下来，我们求出患有精神病的住院人数 $N_{psy}$。精神病的入院率 $A_{psy}$ 是：\n$$ A_{psy} = f_{psy} \\times A_{total} = 0.40 \\times 1{,}200 \\text{ persons/year} = 480 \\text{ persons/year} $$\n使用精神病亚组的稳态关系和共同的住院时长 $D=2 \\text{ years}$：\n$$ N_{psy} = A_{psy} \\times D_{psy} = A_{psy} \\times D = (480 \\text{ persons/year}) \\times (2 \\text{ years}) = 960 \\text{ persons} $$\n现在我们可以计算精神病的时点患病率：\n$$ P_{psy} = \\frac{N_{psy}}{N_{total}} = \\frac{960}{2{,}400} = \\frac{96}{240} = \\frac{4}{10} = 0.4 $$\n或者，用符号进行推导，患病率为：\n$$ P_{psy} = \\frac{N_{psy}}{N_{total}} = \\frac{A_{psy} \\times D_{psy}}{A_{total} \\times D_{avg}} $$\n在 $D_{psy} = D_{avg} = D$ 的假设下，这简化为：\n$$ P_{psy} = \\frac{A_{psy} \\times D}{A_{total} \\times D} = \\frac{A_{psy}}{A_{total}} = \\frac{f_{psy} \\times A_{total}}{A_{total}} = f_{psy} $$\n因此，当所有群体的平均住院时长相同时，存量（普查人数）中某一特征的患病率等于流入（入院人数）中该特征的比例。\n$$ P_{psy} = 0.40 $$\n按要求四舍五入到四位有效数字，结果是 $0.4000$。\n\n**关于分子-分母问题和偏差的解释**\n\n当人们简单地试图通过混合流量和存量指标来计算患病率时，就会出现分子-分母问题，例如，用年精神病入院人数（$A_{psy}$，一个流量）除以日均住院人数（$N_{total}$，一个存量）。这个比率 $A_{psy}/N_{total}$ 在量纲上是不一致的（persons/year除以persons，得到单位为时间倒数，即year$^{-1}$的结果），它不代表一个无量纲的比例或患病率。\n\n这种简单的计算方法是有偏的，因为它忽略了住院时长（$D$）的关键作用。如果精神病患者的平均住院时长（$D_{psy}$）与所有住院者的平均住院时长（$D_{avg}$）不同，那么入院比例与患病率之间的简单等式就不再成立。例如，如果精神病导致更长的住院时间（$D_{psy} > D_{avg}$），患有精神病的个体将在精神病院中累积，导致真实的时点患病率（$P_{psy}$）显著高于入院人群中精神病患者的比例（$f_{psy}$）。", "answer": "$$\n\\boxed{0.4000}\n$$", "id": "4772469"}, {"introduction": "比较不同机构（如公立精神病院与私立医院）的治疗效果是一个核心的历史问题，但简单的原始数据比较可能具有误导性。这种误导性通常源于“选择偏倚”，即不同机构收治的病患类型本就不同。本练习将介绍一种强大的统计技术——直接标准化法，通过对“病例组合”的差异进行调整，从而实现公平的机构间比较。[@problem_id:4772453]", "problem": "一位医学史学家研究在某个混合城市区域中，公立精神病院与私立医院之间再入院率的差异，是否是由于不同的病例组合所造成的假象，而非真实的绩效差异。该研究从档案记录中提取了患者层面的数据，根据当时的临床描述，在出院时将病例分为“重症”或“轻症”。以下数据集按机构类型和病例严重程度，总结了一年内的再入院情况。\n\n- 公立精神病院：重症病例，$600$例出院，其中$180$例再入院；轻症病例，$200$例出院，其中$20$例再入院。\n- 私立医院：重症病例，$150$例出院，其中$45$例再入院；轻症病例，$450$例出院，其中$45$例再入院。\n\n仅使用以下基本定义和原则：\n- 风险定义为 $r = \\text{events}/\\text{population\\ at\\ risk}$。\n- 通过直接标准化法进行病例组合校正，使用一个共同的分层标准分布来比较不存在构成差异的组群。\n- 通过计算每个组群的直接标准化风险，然后将这些标准化风险相除得到比率，来进行校正后的比较。\n\n任务：\n1. 验证公立机构与私立机构的粗略（未校正）再入院风险。\n2. 使用合并队列作为标准人群，通过将分层特定风险与合并的分层比例进行加权，计算每种机构类型的直接标准化再入院风险。\n3. 计算经病例组合校正的风险比，即公立机构的标准化风险与私立机构的标准化风险之比。\n\n将您的最终答案（校正后的风险比）四舍五入至四位有效数字。以无单位数字的形式表示。您还应在计算过程中解释，为何与入院实践相关的选择偏倚可能导致历史上观察到的粗略差异。最终答案只需报告校正后的风险比。", "solution": "该问题要求进行统计分析，以确定公立精神病院和私立医院之间观察到的再入院率差异，是由于潜在的病例组合不同，还是由于真实的护理质量差异。这将通过使用直接标准化法计算经病例组合校正的风险比来实现。\n\n首先，我们定义并整理所提供的数据。令 $D$ 代表出院人数（风险人群），$R$ 代表再入院人数（事件数）。下标 'pub' 和 'priv' 分别表示公立精神病院和私立医院。下标 'sev' 和 'mild' 表示病例严重程度分层。\n\n所提供的数据如下：\n- 公立精神病院，重症病例：$D_{pub, sev} = 600$, $R_{pub, sev} = 180$。\n- 公立精神病院，轻症病例：$D_{pub, mild} = 200$, $R_{pub, mild} = 20$。\n- 私立医院，重症病例：$D_{priv, sev} = 150$, $R_{priv, sev} = 45$。\n- 私立医院，轻症病例：$D_{priv, mild} = 450$, $R_{priv, mild} = 45$。\n\n风险 $r$ 定义为 $r = \\frac{\\text{events}}{\\text{population at risk}}$。\n\n**任务1：验证粗略（未校正）的再入院风险。**\n\n每种机构类型的粗略风险是再入院总数除以出院总数，涵盖两个分层。\n\n对于公立精神病院：\n总出院人数：$D_{pub} = D_{pub, sev} + D_{pub, mild} = 600 + 200 = 800$。\n总再入院人数：$R_{pub} = R_{pub, sev} + R_{pub, mild} = 180 + 20 = 200$。\n公立精神病院的粗略再入院风险：\n$$r_{pub, crude} = \\frac{R_{pub}}{D_{pub}} = \\frac{200}{800} = 0.25$$\n\n对于私立医院：\n总出院人数：$D_{priv} = D_{priv, sev} + D_{priv, mild} = 150 + 450 = 600$。\n总再入院人数：$R_{priv} = R_{priv, sev} + R_{priv, mild} = 45 + 45 = 90$。\n私立医院的粗略再入院风险：\n$$r_{priv, crude} = \\frac{R_{priv}}{D_{priv}} = \\frac{90}{600} = \\frac{9}{60} = \\frac{3}{20} = 0.15$$\n\n粗略分析表明，公立精神病院的再入院风险（$25\\%$）显著高于私立医院（$15\\%$）。\n\n对于这一粗略差异，一个合理的历史解释是选择偏倚，具体来说是一种被称为“指征混杂”的混杂形式。公立精神病院通常服务于病情更严重和慢性的患者，这通常是由于政府指令或患者无力负担私立医疗。私立医院则迎合有能力负担治疗费用的客户，这可能包括对较轻疾病形式的早期干预。这种差异化的入院实践在两种类型的机构之间造成了病例组合的系统性差异。我们可以通过检查各自的重症病例比例来验证这一点：\n- 公立精神病院的重症病例比例：$\\frac{D_{pub, sev}}{D_{pub}} = \\frac{600}{800} = 0.75$ 或 $75\\%$。\n- 私立医院的重症病例比例：$\\frac{D_{priv, sev}}{D_{priv}} = \\frac{150}{600} = 0.25$ 或 $25\\%$。\n数据证实，公立精神病院承担着更重的重症病例负担。由于重症病例本身就有更高的再入院风险，这种病例组合的差异（一个混杂变量）很可能夸大了公立精神病院的粗略风险，从而掩盖了这些机构的真实绩效。\n\n**任务2：计算直接标准化再入院风险。**\n\n为了校正病例组合的混杂效应，我们首先计算每家机构的分层特定风险。\n\n公立精神病院的分层特定风险：\n- 重症病例：$r_{pub, sev} = \\frac{R_{pub, sev}}{D_{pub, sev}} = \\frac{180}{600} = 0.30$。\n- 轻症病例：$r_{pub, mild} = \\frac{R_{pub, mild}}{D_{pub, mild}} = \\frac{20}{200} = 0.10$。\n\n私立医院的分层特定风险：\n- 重症病例：$r_{priv, sev} = \\frac{R_{priv, sev}}{D_{priv, sev}} = \\frac{45}{150} = 0.30$。\n- 轻症病例：$r_{priv, mild} = \\frac{R_{priv, mild}}{D_{priv, mild}} = \\frac{45}{450} = 0.10$。\n\n值得注意的是，两种机构类型的分层特定风险是相同的。在重症病例分层中，公立和私立机构的风险均为$0.30$。在轻症病例分层中，两者的风险均为$0.10$。这种在汇总数据中观察到的关联在数据分层后发生逆转或消失的现象，被称为 Simpson's Paradox。\n\n接下来，我们按照规定，使用合并队列建立标准人群。\n- 标准人群中的重症病例总数：$D_{std, sev} = D_{pub, sev} + D_{priv, sev} = 600 + 150 = 750$。\n- 标准人群中的轻症病例总数：$D_{std, mild} = D_{pub, mild} + D_{priv, mild} = 200 + 450 = 650$。\n- 标准人群中的出院总数：$D_{std, total} = D_{std, sev} + D_{std, mild} = 750 + 650 = 1400$。\n\n用于直接标准化的权重是该标准人群中每个分层的比例：\n- 重症分层的权重：$w_{sev} = \\frac{D_{std, sev}}{D_{std, total}} = \\frac{750}{1400} = \\frac{15}{28}$。\n- 轻症分层的权重：$w_{mild} = \\frac{D_{std, mild}}{D_{std, total}} = \\frac{650}{1400} = \\frac{13}{28}$。\n\n现在，我们通过将这些权重应用于它们的分层特定风险，来计算每种机构类型的直接标准化风险（DSR）。DSR的公式是 $r_{std} = \\sum_{i} w_i r_i$。\n\n公立精神病院的直接标准化风险 ($r_{pub, std}$)：\n$$r_{pub, std} = (w_{sev} \\times r_{pub, sev}) + (w_{mild} \\times r_{pub, mild})$$\n$$r_{pub, std} = \\left(\\frac{15}{28} \\times 0.30\\right) + \\left(\\frac{13}{28} \\times 0.10\\right) = \\frac{15 \\times 0.30 + 13 \\times 0.10}{28} = \\frac{4.5 + 1.3}{28} = \\frac{5.8}{28} = \\frac{58}{280} = \\frac{29}{140}$$\n\n私立医院的直接标准化风险 ($r_{priv, std}$)：\n$$r_{priv, std} = (w_{sev} \\times r_{priv, sev}) + (w_{mild} \\times r_{priv, mild})$$\n$$r_{priv, std} = \\left(\\frac{15}{28} \\times 0.30\\right) + \\left(\\frac{13}{28} \\times 0.10\\right) = \\frac{4.5 + 1.3}{28} = \\frac{5.8}{28} = \\frac{29}{140}$$\n\n在对病例组合进行校正后，公立和私立机构的标准化风险是相同的，等于 $\\frac{29}{140} \\approx 0.20714$。\n\n**任务3：计算经病例组合校正的风险比。**\n\n校正风险比 ($RR_{adj}$) 是标准化风险的比率。\n$$RR_{adj} = \\frac{r_{pub, std}}{r_{priv, std}} = \\frac{29/140}{29/140} = 1$$\n\n精确的校正风险比是$1$。问题要求答案四舍五入至四位有效数字，结果为$1.000$。这一结果表明，在考虑了公立精神病院中不成比例的重症病例负担后，没有证据表明两种类型的机构在再入院风险上存在差异。最初观察到的差异完全是由病例严重程度的混杂所造成的假象。", "answer": "$$\\boxed{1.000}$$", "id": "4772453"}, {"introduction": "精神疾病的定义和诊断标准随时间发生了巨大变化，这对我们理解过去提出了挑战。本练习探讨了如何量化诊断一致性的改善，例如在引入《精神疾病诊断与统计手册》第三版（DSM-III）后所观察到的变化。通过计算科恩的 kappa ($\\kappa$) 系数的变化，您将理解为何诊断的可靠性对于历史研究和临床实践都至关重要。[@problem_id:4772330]", "problem": "科恩的 kappa系数（$\\kappa$）是一种广泛用于分类诊断中评估者间信度的测量指标。在《精神疾病诊断与统计手册》（DSM）从第二版到第三版的历史性过渡中，引入了操作化诊断标准以提高诊断信度。假设对于重度抑郁症的诊断，第二版下报告的 $\\kappa$ 值为 $0.45$，第三版下为 $0.70$。仅使用相对变化的一般定义，即新值与旧值之差与旧值的比率，计算从第二版到第三版 $\\kappa$ 的相对增量，并将结果表示为一个无量纲小数（不要使用百分号）。将答案四舍五入至三位有效数字。\n\n计算出该值后，从基本原理出发，简要论证为何如此幅度的 $\\kappa$ 增长对于临床试验和流行病学研究的设计与解释至关重要，并以关于错分和统计功效的经过充分检验的事实为基础进行论证。你最终提交的答案应该仅为上述指定的单个数值。", "solution": "经评估，该问题陈述是有效的。它在科学上基于已确立的统计学和精神病学历史，问题表述清晰，包含所有必要数据和明确的目标，且没有歧义或矛盾。\n\n该问题要求计算科恩的 kappa系数（$\\kappa$）从一个旧值变为一个新值时的相对增量。此外，它还要求在研究设计的背景下，对这一变化的意义进行合理解释。\n\n令 $\\kappa_{old}$ 代表DSM第二版下的kappa值，令 $\\kappa_{new}$ 代表第三版下的kappa值。\n给定值为：\n$$ \\kappa_{old} = 0.45 $$\n$$ \\kappa_{new} = 0.70 $$\n\n相对变化，此处表示为 $R$，定义为绝对变化（$\\kappa_{new} - \\kappa_{old}$）与原始值（$\\kappa_{old}$）的比率。公式为：\n$$ R = \\frac{\\kappa_{new} - \\kappa_{old}}{\\kappa_{old}} $$\n\n将给定值代入公式：\n$$ R = \\frac{0.70 - 0.45}{0.45} $$\n$$ R = \\frac{0.25}{0.45} $$\n\n为简化该分数，我们可以将其表示为整数比：\n$$ R = \\frac{25}{45} = \\frac{5 \\times 5}{9 \\times 5} = \\frac{5}{9} $$\n\n将此分数转换为小数，得到一个循环小数：\n$$ R = 0.5555... $$\n\n题目要求答案四舍五入至三位有效数字。前三位数字是 $5$、$5$ 和 $5$。第四位数字是 $5$，需要将第三位数字向上取整。\n$$ R \\approx 0.556 $$\n\n任务的第二部分要求从基本原理出发，论证这一增长的重要性。科恩的 kappa系数 $\\kappa$ 是一种衡量评估者间信度的指标，它校正了偶然达成一致的可能性。$\\kappa$ 从 $0.45$（通常归类为“一般”到“中等”的一致性）增加到 $0.70$（归类为“良好”的一致性），对研究具有深远的影响。\n\n$1$. **减少流行病学研究中的错分和偏倚：**\n诊断信度与诊断错分呈负相关。低的 $\\kappa$ 值意味着有相当一部分受试者被错分（例如，患有重度抑郁症的人被诊断为没有，反之亦然）。在流行病学研究中，如病例对照研究或队列研究，结果变量通常是二分类的疾病状态。如果错分是非差异性的（即，错分一个病例的概率与暴露状态无关），它会使关联性度量（如比值比、相对风险）偏向于零值 $1.0$。这种“衰减”效应会掩盖风险因素与疾病之间的真实关联，导致得出不存在关系的错误结论。$\\kappa$ 的显著增加意味着错分率的降低，从而得到更准确、偏倚更小的效应量估计，进而提高了流行病学研究结果的有效性。\n\n$2$. **提高临床试验中的统计功效：**\n统计功效是指在真实效应存在时能够检测到该效应的概率。它从根本上与“信号”（真实效应量）与“噪声”（测量中的随机变异或误差）的比率相关。当信度低时，测量误差会很高，这会增加结果测量的总方差 $\\sigma^2$。例如，均数标准误的公式是 $\\frac{\\sigma}{\\sqrt{n}}$，其中 $n$ 是样本量。检验统计量（例如，$t$统计量）通常是该标准误的函数。通过提高信度，我们减少了总方差 $\\sigma^2$ 中的测量误差部分。较小的方差导致较小的标准误，进而对于给定的效应量，会产生较大的检验统计量值。这增加了检测到真实治疗效果的统计功效。因此，使用更可靠的结果测量的研究可以用更小的样本量达到期望的功效水平，从而使研究更高效、更符合伦理。因此，观察到的 $\\kappa$ 从 $0.45$ 增加到 $0.70$，代表了临床试验有效确定重度抑郁症治疗效果的能力得到了显著增强。", "answer": "$$ \\boxed{0.556} $$", "id": "4772330"}]}