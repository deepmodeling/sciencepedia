{"hands_on_practices": [{"introduction": "跨理论模型（TTM）的一个核心概念是“决策平衡”——即对行为改变的利弊进行权衡。这个实践 [@problem_id:4756866] 展示了如何将这一概念量化，并应用于逻辑回归模型中，以预测患者进入下一阶段的概率。你不仅将进行计算，还将学习如何解释模型系数，从而理解“利”（Pros）与“弊”（Cons）对改变几率的影响程度。", "problem": "一个初级保健研究团队正在使用行为改变的跨理论模型（TTM）研究戒烟。在基线时，患者完成一项决策平衡评估，该评估产生两个连续分数：戒烟益处评分（“Pros”）和戒烟成本评分（“Cons”），两者的标度均为分值越高表示对该维度的认同越强。该团队将患者在$3$个月内是否至少前进一个阶段（例如，从沉思阶段到准备阶段）建模为一个二元结果，并使用逻辑斯谛回归，其线性预测器由 $\\eta=\\beta_{0}+\\beta_{1}\\cdot \\text{Pros}-\\beta_{2}\\cdot \\text{Cons}$ 给出，其中$\\beta_{0}$、$\\beta_{1}$和$\\beta_{2}$是从先前数据中估计的队列水平参数。\n\n一位新患者的基线分数为 $\\text{Pros}=18$ 和 $\\text{Cons}=13$。该团队使用先前队列的参数 $\\beta_{0}=-1.00$、$\\beta_{1}=0.08$ 和 $\\beta_{2}=0.06$ 进行预测。\n\n从二元结果的逻辑斯谛回归框架的基础和适当的定义出发，推导该患者在$3$个月内至少前进一个阶段的预测概率，并计算其数值。将您的最终数值答案四舍五入到四位有效数字，并以小数形式表示。此外，根据模型结构，就$\\beta_{1}$和$\\beta_{2}$对阶段进展几率的影响，提供一个有原则的解释。", "solution": "首先根据所需标准验证问题陈述。\n\n### 步骤1：提取给定信息\n-   **模型**：用于二元结果（跨理论模型中的阶段进展）的逻辑斯谛回归。\n-   **时间范围**：$3$个月。\n-   **预测变量**：戒烟益处评分（'Pros'）和戒烟成本评分（'Cons'）。\n-   **线性预测器公式**：$\\eta=\\beta_{0}+\\beta_{1}\\cdot \\text{Pros}-\\beta_{2}\\cdot \\text{Cons}$。\n-   **参数**：$\\beta_{0}=-1.00$, $\\beta_{1}=0.08$, $\\beta_{2}=0.06$。\n-   **患者数据**：$\\text{Pros}=18$, $\\text{Cons}=13$。\n-   **任务1**：推导并计算该患者阶段进展的预测概率。\n-   **任务2**：将最终数值概率四舍五入到四位有效数字。\n-   **任务3**：就$\\beta_{1}$和$\\beta_{2}$对阶段进展几率的影响，提供一个有原则的解释。\n\n### 步骤2：使用提取的给定信息进行验证\n-   **科学依据**：该问题有效。它采用了健康心理学中一个成熟的框架——行为改变的跨理论模型，并使用了逻辑斯谛回归，这是一种用于建模二元结果的标准且合适的统计方法。模型结构和参数值对于此类研究是合理的。\n-   **适定性**：该问题有效。它被完全指定，提供了计算唯一概率所需的所有必要数据（患者分数）、参数（$\\beta$系数）和清晰的模型定义。\n-   **客观性**：该问题有效。语言精确、技术性强，没有偏见或主观内容。\n-   满足有效问题的所有其他标准。没有矛盾、信息缺失或逻辑缺陷。\n\n### 步骤3：结论与行动\n该问题有效。将提供完整解答。\n\n该问题要求从逻辑斯谛回归模型中计算预测概率，并解释模型系数。\n\n设$Y$为表示结果的二元随机变量，如果患者至少前进一个阶段，则$Y=1$，否则$Y=0$。逻辑斯谛回归模型通过logit连接函数将正向结果的概率 $p = P(Y=1)$ 与预测变量的线性组合 $\\eta$ 联系起来。$p$的logit被定义为几率的自然对数：\n$$\n\\ln\\left(\\frac{p}{1-p}\\right) = \\eta\n$$\n为了求出概率$p$，我们必须解这个关于$p$的方程。对两边取指数，得到几率：\n$$\n\\frac{p}{1-p} = \\exp(\\eta)\n$$\n求解$p$：\n$$\np = \\exp(\\eta) \\cdot (1-p) \\\\\np = \\exp(\\eta) - p \\cdot \\exp(\\eta) \\\\\np + p \\cdot \\exp(\\eta) = \\exp(\\eta) \\\\\np(1 + \\exp(\\eta)) = \\exp(\\eta) \\\\\np = \\frac{\\exp(\\eta)}{1 + \\exp(\\eta)}\n$$\n这个表达式给出了作为线性预测器 $\\eta$ 的函数的概率 $p$。\n\n问题提供了线性预测器的具体形式：\n$$\n\\eta = \\beta_{0}+\\beta_{1}\\cdot \\text{Pros}-\\beta_{2}\\cdot \\text{Cons}\n$$\n给定的参数值为 $\\beta_{0}=-1.00$、$\\beta_{1}=0.08$ 和 $\\beta_{2}=0.06$。新患者的分数为 $\\text{Pros}=18$ 和 $\\text{Cons}=13$。\n\n我们首先计算这位患者的 $\\eta$ 值：\n$$\n\\eta = -1.00 + (0.08)(18) - (0.06)(13)\n$$\n$$\n\\eta = -1.00 + 1.44 - 0.78\n$$\n$$\n\\eta = 0.44 - 0.78 = -0.34\n$$\n现在，我们将这个 $\\eta$ 值代入 $p$ 的公式中：\n$$\np = \\frac{\\exp(-0.34)}{1 + \\exp(-0.34)}\n$$\n我们计算其数值：\n$$\n\\exp(-0.34) \\approx 0.71177025...\n$$\n$$\np \\approx \\frac{0.71177025}{1 + 0.71177025} = \\frac{0.71177025}{1.71177025} \\approx 0.4158220...\n$$\n问题要求答案四舍五入到四位有效数字。前四位有效数字是$4$、$1$、$5$和$8$。第五位数字是$2$，所以我们向下舍入。\n$$\np \\approx 0.4158\n$$\n这就是该患者在$3$个月内至少前进一个阶段的预测概率。\n\n接下来，我们对系数$\\beta_{1}$和$\\beta_{2}$提供一个有原则的解释。逻辑斯谛回归系数的解释基于它们对结果几率 $\\frac{p}{1-p} = \\exp(\\eta)$ 的影响。\n\n对数几率的模型是：\n$$\n\\ln(\\text{odds}) = \\beta_{0}+\\beta_{1}\\cdot \\text{Pros}-\\beta_{2}\\cdot \\text{Cons}\n$$\n$\\beta_{1}$的解释：\n考虑在'Cons'分数保持不变的情况下，'Pros'分数增加一个单位的影响。对数几率改变了$\\beta_{1}$。新几率与旧几率的比值由以下公式给出：\n$$\n\\frac{\\text{odds}_{\\text{Pros}+1}}{\\text{odds}_{\\text{Pros}}} = \\frac{\\exp(\\beta_{0}+\\beta_{1}(\\text{Pros}+1)-\\beta_{2}\\cdot \\text{Cons})}{\\exp(\\beta_{0}+\\beta_{1}\\cdot \\text{Pros}-\\beta_{2}\\cdot \\text{Cons})} = \\exp(\\beta_{1})\n$$\n当$\\beta_{1}=0.08$时，几率比为 $\\exp(0.08) \\approx 1.0833$。这意味着，在'Cons'分数保持不变的情况下，'Pros'分数每增加一个单位，阶段进展的几率就乘以一个因子$\\exp(0.08)$，这对应于几率大约增加$8.33\\%$。\n\n$\\beta_{2}$的解释：\n考虑在'Pros'分数保持不变的情况下，'Cons'分数增加一个单位的影响。预测器是 $\\eta = \\dots - \\beta_{2} \\cdot \\text{Cons}$。因此，'Cons'增加一个单位会使对数几率改变$-\\beta_{2}$。新几率与旧几率的比值为：\n$$\n\\frac{\\text{odds}_{\\text{Cons}+1}}{\\text{odds}_{\\text{Cons}}} = \\frac{\\exp(\\beta_{0}+\\beta_{1}\\cdot \\text{Pros}-\\beta_{2}(\\text{Cons}+1))}{\\exp(\\beta_{0}+\\beta_{1}\\cdot \\text{Pros}-\\beta_{2}\\cdot \\text{Cons})} = \\exp(-\\beta_{2})\n$$\n当$\\beta_{2}=0.06$时，几率比为 $\\exp(-0.06) \\approx 0.9418$。这意味着，在'Pros'分数保持不变的情况下，'Cons'分数每增加一个单位，阶段进展的几率就乘以一个因子$\\exp(-0.06)$。这对应于几率大约减少 $(1 - 0.9418) \\times 100\\% = 5.82\\%$。$\\beta_{2}=0.06$的正值代表了'Cons'分数与进展的对数几率之间负相关的强度。", "answer": "$$\n\\boxed{0.4158}\n$$", "id": "4756866"}, {"introduction": "预测单一步的转变固然有用，但我们通常希望理解行为改变的长期过程。这最后一个实践 [@problem_id:4756860] 介绍了马尔可夫链这一强大工具，用以随时间推移对整个TTM系统进行建模。通过定义任意两个阶段之间的转移概率，你可以预测一个初始状态为“沉思期”的患者（即 $\\pi^{(0)} = \\begin{pmatrix} 0  1  0  0  0 \\end{pmatrix}$）在数月后达到“维持期”等目标的可能性，从而获得对改变过程的动态视角。", "problem": "一家健康心理学研究诊所将患者在行为改变的跨理论模型（Transtheoretical Model of Behavior Change, TTM）的五个阶段中的移动建模为一个时间同质的马尔可夫链。这五个状态被排序为 $1=$ 前意向阶段， $2=$ 意向阶段， $3=$ 准备阶段， $4=$ 行动阶段， $5=$ 维持阶段。该链使用一个行随机转移矩阵 $P$，其中时间步长为 $3$ 个月。该诊所根据经验校准的转移矩阵为\n$$\nP \\;=\\;\n\\begin{pmatrix}\n0.70  0.25  0.05  0.00  0.00 \\\\\n0.10  0.60  0.25  0.05  0.00 \\\\\n0.00  0.05  0.60  0.30  0.05 \\\\\n0.00  0.08  0.07  0.55  0.30 \\\\\n0.00  0.00  0.00  0.10  0.90\n\\end{pmatrix}.\n$$\n假设时间同质马尔可夫链的标准定义为：如果 $\\pi^{(t)}$ 是时间 $t$ 时状态概率的行向量，则 $\\pi^{(t+1)} = \\pi^{(t)} P$，因此 $t$ 步转移概率由矩阵的 $t$ 次幂 $P^{t}$ 给出。\n\n一名患者在基线（$t=0$）时被评估为处于意向阶段，概率为 $1$（即 $\\pi^{(0)} = (0,1,0,0,0)$）。仅使用马尔可夫链的基本性质和矩阵乘法，确定该患者在 $6$ 个月后处于维持阶段的概率。请用小数表示您的最终答案（不要使用百分比）。无需四舍五入。", "solution": "评估问题陈述的有效性。\n\n**步骤 1：提取已知条件**\n- 模型：时间同质马尔可夫链。\n- 状态：$S = \\{1, 2, 3, 4, 5\\}$，其中 $1=$ 前意向阶段， $2=$ 意向阶段， $3=$ 准备阶段， $4=$ 行动阶段， $5=$ 维持阶段。\n- 时间步长：$3$ 个月。\n- 行随机转移矩阵 $P$：\n$$\nP \\;=\\;\n\\begin{pmatrix}\n0.70  0.25  0.05  0.00  0.00 \\\\\n0.10  0.60  0.25  0.05  0.00 \\\\\n0.00  0.05  0.60  0.30  0.05 \\\\\n0.00  0.08  0.07  0.55  0.30 \\\\\n0.00  0.00  0.00  0.10  0.90\n\\end{pmatrix}\n$$\n- 状态演化规则：$\\pi^{(t+1)} = \\pi^{(t)} P$，其中 $\\pi^{(t)}$ 是时间步 $t$ 的状态概率行向量。\n- 初始条件（$t=0$）：患者处于状态 2（意向阶段），概率为 1。这对应于初始状态概率向量 $\\pi^{(0)} = (0, 1, 0, 0, 0)$。\n- 问题：确定患者在 6 个月后处于状态 5（维持阶段）的概率。\n\n**步骤 2：使用提取的已知条件进行验证**\n该问题具有科学依据，因为使用马尔可夫链对行为阶段进行建模是定量心理学和公共卫生领域的标准技术。该问题是适定的，提供了所有必要信息。要成为一个有效的马尔可夫链转移矩阵，矩阵 $P$ 必须是行随机的，这意味着所有条目都必须非负，并且每行条目之和必须等于 $1$。\n- 行 $1$：$0.70 + 0.25 + 0.05 + 0.00 + 0.00 = 1.00$\n- 行 $2$：$0.10 + 0.60 + 0.25 + 0.05 + 0.00 = 1.00$\n- 行 $3$：$0.00 + 0.05 + 0.60 + 0.30 + 0.05 = 1.00$\n- 行 $4$：$0.00 + 0.08 + 0.07 + 0.55 + 0.30 = 1.00$\n- 行 $5$：$0.00 + 0.00 + 0.00 + 0.10 + 0.90 = 1.00$\n所有行的总和均为 $1$，且所有条目均为非负。矩阵 $P$ 是一个有效的行随机矩阵。该问题是自洽的、一致的且科学合理的。\n\n**步骤 3：结论和行动**\n该问题有效。将提供解答。\n\n**解答推导**\n问题要求在患者于时间 $t=0$ 从状态 2（意向阶段）开始的条件下，其在 6 个月后处于状态 5（维持阶段）的概率。\n马尔可夫链的时间步长被指定为 $3$ 个月。因此，$6$ 个月的持续时间对应于 $n = \\frac{6 \\text{ 个月}}{3 \\text{ 个月/步}} = 2$ 个时间步。\n我们正在寻找在系统于步骤 $n=0$ 时处于状态 2 的条件下，在步骤 $n=2$ 时处于状态 5 的概率。这个概率由 2 步转移矩阵 $P^2$ 的第 $(2, 5)$ 个条目给出。设 $P^2_{ij}$ 表示 $P^2$ 的第 $i$ 行第 $j$ 列的条目。我们需要计算 $P^2_{25}$。\n根据矩阵乘法的定义，条目 $P^2_{ij}$ 的计算方法如下：\n$$\nP^2_{ij} = \\sum_{k=1}^{5} P_{ik} P_{kj}\n$$\n对于我们的具体情况，我们需要计算 $P^2_{25}$，因此 $i=2$ 且 $j=5$：\n$$\nP^2_{25} = \\sum_{k=1}^{5} P_{2k} P_{k5}\n$$\n展开为：\n$$\nP^2_{25} = P_{21}P_{15} + P_{22}P_{25} + P_{23}P_{35} + P_{24}P_{45} + P_{25}P_{55}\n$$\n$P$ 的第二行是 $(P_{21}, P_{22}, P_{23}, P_{24}, P_{25}) = (0.10, 0.60, 0.25, 0.05, 0.00)$。\n$P$ 的第五列是 $(P_{15}, P_{25}, P_{35}, P_{45}, P_{55})^T = (0.00, 0.00, 0.05, 0.30, 0.90)^T$。\n将这些值代入 $P^2_{25}$ 的表达式中：\n$$\nP^2_{25} = (0.10)(0.00) + (0.60)(0.00) + (0.25)(0.05) + (0.05)(0.30) + (0.00)(0.90)\n$$\n现在，我们进行乘法运算：\n$$\nP^2_{25} = 0 + 0 + 0.0125 + 0.0150 + 0\n$$\n将各项相加得到最终概率：\n$$\nP^2_{25} = 0.0275\n$$\n或者，可以计算经过 $n=2$ 步之后的状态概率向量 $\\pi^{(2)}$。\n初始状态向量是 $\\pi^{(0)} = (0, 1, 0, 0, 0)$。\n一步（$3$ 个月）之后的状态向量是 $\\pi^{(1)} = \\pi^{(0)}P$。这相当于简单地选择了 $P$ 的第二行：\n$$\n\\pi^{(1)} = (0.10, 0.60, 0.25, 0.05, 0.00)\n$$\n两步（$6$ 个月）之后的状态向量是 $\\pi^{(2)} = \\pi^{(1)}P$：\n$$\n\\pi^{(2)} = (0.10, 0.60, 0.25, 0.05, 0.00)\n\\begin{pmatrix}\n0.70  0.25  0.05  0.00  0.00 \\\\\n0.10  0.60  0.25  0.05  0.00 \\\\\n0.00  0.05  0.60  0.30  0.05 \\\\\n0.00  0.08  0.07  0.55  0.30 \\\\\n0.00  0.00  0.00  0.10  0.90\n\\end{pmatrix}\n$$\n我们关心的是处于状态 5 的概率，即向量 $\\pi^{(2)}$ 的第五个分量，记为 $\\pi_5^{(2)}$。这可以通过计算 $\\pi^{(1)}$ 与 $P$ 的第五列的点积得到。\n$$\n\\pi_5^{(2)} = (0.10)(0.00) + (0.60)(0.00) + (0.25)(0.05) + (0.05)(0.30) + (0.00)(0.90)\n$$\n这与之前的计算相同。\n$$\n\\pi_5^{(2)} = 0 + 0 + 0.0125 + 0.0150 + 0 = 0.0275\n$$\n因此，该患者在 $6$ 个月后处于维持阶段的概率是 $0.0275$。", "answer": "$$\n\\boxed{0.0275}\n$$", "id": "4756860"}]}