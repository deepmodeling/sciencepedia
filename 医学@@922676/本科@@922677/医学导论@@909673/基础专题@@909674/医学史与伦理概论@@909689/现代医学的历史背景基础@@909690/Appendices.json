{"hands_on_practices": [{"introduction": "Joseph Lister 在外科手术中引入石炭酸，是医学史上一个革命性的时刻，它为防腐原则奠定了基础。然而，这一突破的意义不仅仅在于观察到感染率下降，更在于我们能够量化其效果。这项练习 [@problem_id:4957778] 将带你运用流行病学中的基本概念——例如基线风险和相对风险降低率（$RRR$）——来计算一项历史性公共卫生创新的具体影响，将定性的历史观察转化为严谨的循证数据。", "problem": "考虑Joseph Lister在历史上引入的防腐外科手术，他将石炭酸（苯酚）应用于手术伤口和器械。从流行病学的角度来看，在一定数量的外科手术中，手术部位感染（SSI）的风险是发病比例，即单次手术导致感染的概率。令 $p_0$ 表示采用防腐措施前的基线SSI风险，令 $p_1$ 表示采用防腐措施后的SSI风险。相对风险降低（RRR）定义为干预措施所消除的基线风险的比例，$$\\text{RRR} = \\frac{p_0 - p_1}{p_0}.$$ 假设一个外科病房每年进行 $N = 1{,}000$ 次手术，其历史上合理的基线SSI风险为 $p_0 = 0.16$。与Lister的防腐措施一致的早期观察数据表明，当石炭酸被统一且正确地使用时，风险降低相当于 $\\text{RRR} = 0.70$。使用上述基本定义，并假设在病例组合稳定的情况下，SSI风险在所有手术中均等且独立地适用，请从第一性原理出发，推导因采用石炭酸而导致的SSI病例数的年度预期减少量。以病例数的形式报告最终答案。无需四舍五入；请将最终答案表示为精确整数。", "solution": "首先根据所需标准对问题进行验证。\n\n**步骤1：提取已知条件**\n- 手术部位感染（SSI）的风险是发病比例。\n- $p_0$：采用防腐措施前的基线SSI风险。\n- $p_1$：采用防腐措施后的SSI风险。\n- 相对风险降低（RRR）的定义：$\\text{RRR} = \\frac{p_0 - p_1}{p_0}$。\n- 每年手术次数：$N = 1{,}000$。\n- 基线SSI风险：$p_0 = 0.16$。\n- 相对风险降低：$\\text{RRR} = 0.70$。\n- 假设：SSI风险在所有手术中均等且独立地适用。\n- 目标：推导SSI病例数的年度预期减少量，并将其报告为精确整数。\n\n**步骤2：使用提取的已知条件进行验证**\n问题被认为是有效的。\n- **科学依据：** 问题使用了流行病学中标准、明确定义的概念（发病比例、相对风险降低），并将其应用于一个历史上准确的背景（Lister引入防腐措施）。数值是合理的。\n- **适定性：** 提供了所有必要的变量（$N$、$p_0$、$\\text{RRR}$）和定义，以得出一个唯一且有意义的解。目标陈述清晰。\n- **客观性：** 语言正式且不带偏见，依赖于既定的科学和数学定义。\n- **结论：** 问题是自洽的、一致的且科学上合理的。它没有违反任何指定的无效标准。因此，可以推导出解决方案。\n\n**求解推导**\n目标是计算手术部位感染（SSI）病例数的年度预期减少量。设此量为 $\\Delta C$。\n\n设 $C_0$ 为引入防腐措施前每年SSI病例的预期数量，设 $C_1$ 为引入防腐措施后每年SSI病例的预期数量。则年度病例减少量是这两个预期值之差：\n$$\n\\Delta C = C_0 - C_1\n$$\n\n问题指出，SSI风险 $p$ 是一个发病比例，即单次手术发生感染的概率。假设每次手术是独立事件。对于总共 $N$ 次手术，感染的次数遵循二项分布。预期的感染数是试验次数（$N$）与每次试验的感染概率（$p$）的乘积。\n\n因此，采用防腐措施前的预期病例数是：\n$$\nC_0 = N \\cdot p_0\n$$\n采用防腐措施后的预期病例数是：\n$$\nC_1 = N \\cdot p_1\n$$\n\n将这些表达式代入 $\\Delta C$ 的方程中：\n$$\n\\Delta C = N p_0 - N p_1 = N(p_0 - p_1)\n$$\n这个表达式 $p_0 - p_1$ 被称为绝对风险降低（ARR）。\n\n问题提供了相对风险降低（RRR），其定义为：\n$$\n\\text{RRR} = \\frac{p_0 - p_1}{p_0}\n$$\n我们可以重新整理这个定义来求解绝对风险降低 $(p_0 - p_1)$：\n$$\np_0 - p_1 = p_0 \\cdot \\text{RRR}\n$$\n\n现在，我们将 $(p_0 - p_1)$ 的这个表达式代回到我们计算预期病例减少量 $\\Delta C$ 的方程中：\n$$\n\\Delta C = N (p_0 \\cdot \\text{RRR})\n$$\n这个方程提供了根据给定的第一性原理和定义推导出的年度病例预期减少量。\n\n我们已知以下数值：\n- 每年总手术次数，$N = 1000$。\n- 基线SSI风险，$p_0 = 0.16$。\n- 相对风险降低，$\\text{RRR} = 0.70$。\n\n将这些数值代入推导出的公式中：\n$$\n\\Delta C = 1000 \\times (0.16 \\times 0.70)\n$$\n首先，我们计算括号内的乘积：\n$$\n0.16 \\times 0.70 = 0.112\n$$\n然后，我们完成对 $\\Delta C$ 的计算：\n$$\n\\Delta C = 1000 \\times 0.112 = 112\n$$\nSSI病例数的年度预期减少量为 $112$。这是一个精确整数，符合题目要求。", "answer": "$$\n\\boxed{112}\n$$", "id": "4957778"}, {"introduction": "随着医学从定性的床边艺术演变为定量的科学，诊断过程也发生了根本性的变革。这项练习 [@problem_id:4957763] 将你带回20世纪初，当时临床医生开始使用概率论来规范化诊断推理。通过应用贝叶斯定理来评估梅毒诊断测试的性能，你将亲身体验如何量化不确定性，并理解阳性预测值（PPV）等关键指标是如何成为现代循证临床决策的基石。", "problem": "在从定性床边医学向量化实验室诊断过渡的后期，临床医生开始使用概率来形式化诊断推理。考虑二十世纪初，在一个城市性病诊所中，梅毒的瓦瑟曼反应（WR）的历史性应用，在这一时期，循证推理成为现代医学实践的核心。在这种情况下，假设一个转诊队列中梅毒的检验前概率为 $P$，且瓦瑟曼反应的灵敏度为 $Se$，特异性为 $Sp$。阳性预测值（PPV）定义为在检验结果为阳性的情况下患病的后验概率，记作 $P(\\text{disease} \\mid +)$。使用贝叶斯定理以及灵敏度和特异性作为以疾病状态为条件的检验结果概率的核心定义，从第一性原理推导出 $P(\\text{disease} \\mid +)$。\n\n然后，对于一个具有 $Se = 0.78$，$Sp = 0.96$ 和 $P = 0.15$ 的特定诊所队列，计算 $P(\\text{disease} \\mid +)$ 的数值。将您的最终答案四舍五入到四位有效数字，并以小数形式表示，不带百分号。", "solution": "该问题陈述经评估有效。它在科学上基于概率论原理及其在医疗诊断中的应用——这是流行病学和循证医学中的一个标准课题。该问题提法严谨，提供了推导和计算所要求量所需的所有必要定义和数据（$P$，$Se$，$Sp$）。其设定是自洽、一致且客观的。\n\n核心任务是从第一性原理推导阳性预测值（PPV），然后为一组给定的参数计算其数值。\n\n设 $D$ 为患者患有该疾病（梅毒）的事件，设 $D^c$ 为患者未患该疾病的互补事件。设 $+$ 表示检验结果为阳性的事件。\n\n根据问题陈述，我们已知：\n1.  疾病的检验前概率，或患病率：$P(D) = P$\n2.  检验的灵敏度：$Se = P(+ \\mid D)$，即在患者患病的情况下，检验结果为阳性的概率。\n3.  检验的特异性：$Sp = P(- \\mid D^c)$，其中 $-$ 是检验结果为阴性的事件。这是在患者未患病的情况下，检验结果为阴性的概率。\n\n需要推导的量是阳性预测值，$P(\\text{disease} \\mid +)$，在我们的符号表示中为 $P(D \\mid +)$。\n\n根据构成贝叶斯定理基础的条件概率定义，我们有：\n$$P(D \\mid +) = \\frac{P(D \\cap +)}{P(+)}$$\n其中 $P(D \\cap +)$ 是同时患病且检验结果为阳性的联合概率。这可以使用条件概率的定义重新表示为 $P(D \\cap +) = P(+ \\mid D)P(D)$。将此代入方程，得到贝叶斯定理的常见形式：\n$$P(D \\mid +) = \\frac{P(+ \\mid D) P(D)}{P(+)}$$\n分母中的项 $P(+)$ 是检验结果为阳性的全概率。我们可以使用全概率定律展开此项。阳性检验结果可能以两种互斥的方式发生：患者患有疾病且检验为阳性（真阳性），或者患者没有疾病但检验为阳性（假阳性）。\n$$P(+) = P(+\\cap D) + P(+\\cap D^c)$$\n再次对每一项使用条件概率的定义：\n$$P(+) = P(+ \\mid D)P(D) + P(+ \\mid D^c)P(D^c)$$\n我们可以使用给定的参数 $P$、$Se$ 和 $Sp$ 来表示右侧的所有项。\n- $P(+ \\mid D) = Se$\n- $P(D) = P$\n- $P(D^c) = 1 - P(D) = 1 - P$\n- $P(+ \\mid D^c)$ 是假阳性的概率。它是特异性的补集，因为对于一个未患病的人，检验结果只能是阳性或阴性。因此，$P(+ \\mid D^c) = 1 - P(- \\mid D^c) = 1 - Sp$。\n\n将这些代入 $P(+)$ 的表达式中：\n$$P(+) = (Se)(P) + (1 - Sp)(1 - P)$$\n现在我们将这个完整的分母表达式代回到 $P(D \\mid +)$ 的贝叶斯定理公式中：\n$$P(D \\mid +) = \\frac{P(+ \\mid D)P(D)}{(Se)(P) + (1 - Sp)(1 - P)}$$\n用给定的符号变量表示，最终推导出的表达式是：\n$$P(\\text{disease} \\mid +) = \\frac{(Se)(P)}{(Se)(P) + (1 - Sp)(1 - P)}$$\n这样就完成了从第一性原理的推导。\n\n接下来，我们使用以下参数计算特定队列的数值：\n- $Se = 0.78$\n- $Sp = 0.96$\n- $P = 0.15$\n\n将这些值代入推导出的公式中：\n$$P(\\text{disease} \\mid +) = \\frac{(0.78)(0.15)}{(0.78)(0.15) + (1 - 0.96)(1 - 0.15)}$$\n我们计算表达式的各个组成部分。\n分子是：\n$$(0.78)(0.15) = 0.117$$\n分母由两项组成。第一项与分子相同，为 $0.117$。第二项是：\n$$(1 - 0.96)(1 - 0.15) = (0.04)(0.85) = 0.034$$\n分母的总值是这两项之和：\n$$P(+) = 0.117 + 0.034 = 0.151$$\n最后，我们计算比率：\n$$P(\\text{disease} \\mid +) = \\frac{0.117}{0.151} \\approx 0.774834437...$$\n问题要求答案四舍五入到四位有效数字。查看结果，前四位有效数字是 $7$、$7$、$4$ 和 $8$。第五位数字是 $3$，所以我们不向上取整。\n因此，数值为 $0.7748$。", "answer": "$$ \\boxed{0.7748} $$", "id": "4957763"}, {"introduction": "随机对照试验（RCT）的出现，标志着现代医学评价体系的成熟，它将严谨的统计学设计和推断引入了治疗评估。然而，设计一项有效的RCT不仅仅是随机分组那么简单；它要求我们确保试验有足够高的概率（即统计功效）来检测到真实存在的疗效。这项练习 [@problem_id:4957797] 将引导你深入RCT设计的核心，通过计算一项假设的降压药试验的统计功效，来理解这个对于确保临床研究的伦理性和有效性至关重要的概念。", "problem": "现代医学基础的一个核心里程碑是随机对照试验（RCT）的采用，它将严谨的统计设计和推断引入了治疗评估中。考虑一个基于历史背景的情景：计划在二十世纪中叶进行一项RCT，以比较一种新型抗高血压药物与标准治疗的效果，使用双样本合并学生$t$检验来分析平均收缩压降低值的差异。假设两组样本量相等，且总体标准差相同。根据预试验数据和临床判断，研究者预计真实平均差异为 $\\delta = 4$ 单位（新药效果更优），并估计共同标准差为 $\\sigma = 10$ 单位。该试验设计为每组样本量 $n = 50$，双侧显著性水平 $\\alpha = 0.05$。\n\n从I类错误（$\\alpha$）、II类错误（$\\beta$）和统计功效（$1 - \\beta$）的定义出发，并使用中心极限定理（CLT）来论证样本均值差的抽样分布，推导在真实差异为 $\\delta$ 的固定备择假设下，双样本合并$t$检验的功效表达式。利用一个经过充分检验的事实：对于大样本，非中心$t$统计量可以近似为一个均值等于其非中心参数、方差为1的正态分布。并使用标准正态分位数 $z_{1-\\alpha/2}$ 来近似双侧临界阈值。然后，根据给定的参数计算功效的数值。将答案四舍五入到四位有效数字，并以小数形式表示（不要使用百分号）。最后，在RCT方法论出现的历史背景下，简要讨论该功效对试验可行性的影响。", "solution": "目标是计算统计功效，即在备择假设为真时正确拒绝原假设的概率。我们从核心定义开始：\n- I类错误是在原假设为真时拒绝原假设的概率，记为 $\\alpha$。\n- II类错误是在备择假设为真时未能拒绝原假设的概率，记为 $\\beta$。\n- 统计功效是 $1 - \\beta$，即在备择假设下拒绝原假设的概率。\n\n我们考虑一个检验均值差异的双样本合并学生$t$检验。设 $\\mu_{T}$ 和 $\\mu_{C}$ 分别是治疗组和对照组的总体均值，并假设原假设为 $H_{0}: \\mu_{T} - \\mu_{C} = 0$，固定备择假设为 $H_{1}: \\mu_{T} - \\mu_{C} = \\delta$，其中给定 $\\delta > 0$。在组样本量相等和总体方差相等的假设下，根据中心极限定理（CLT），样本均值之差 $\\bar{X}_{T} - \\bar{X}_{C}$ 的抽样分布近似为正态分布，其均值为 $\\delta$，方差为\n$$\n\\operatorname{Var}(\\bar{X}_{T} - \\bar{X}_{C}) = \\frac{\\sigma^{2}}{n} + \\frac{\\sigma^{2}}{n} = \\frac{2\\sigma^{2}}{n}.\n$$\n因此，差值的标准误为\n$$\n\\operatorname{SE} = \\sigma \\sqrt{\\frac{2}{n}}.\n$$\n\n合并$t$统计量定义为\n$$\nT = \\frac{(\\bar{X}_{T} - \\bar{X}_{C}) - 0}{S_{p}\\sqrt{2/n}},\n$$\n其中 $S_{p}$ 是合并样本标准差。在 $H_{0}$ 下，$T$ 服从自由度为 $2n - 2$ 的中心$t$分布。在 $H_{1}$ 下，统计量 $T$ 服从自由度为 $2n - 2$、非中心参数为...的非中心$t$分布。\n$$\n\\lambda = \\frac{\\delta}{\\sigma \\sqrt{2/n}}.\n$$\n这是因为分子的均值为 $\\delta$，而分母是标准误 $\\sigma \\sqrt{2/n}$ 的估计值。\n\n为了计算在显著性水平为 $\\alpha$ 的双侧检验的功效，我们在 $|T| > t_{1-\\alpha/2,\\,2n-2}$ 时拒绝 $H_{0}$，其中 $t_{1-\\alpha/2,\\,\\nu}$ 表示自由度为 $\\nu$ 的中心$t$分布的 $(1-\\alpha/2)$ 分位数。对于大样本，一个经过充分检验的近似方法是将非中心$t$统计量视为均值为 $\\lambda$、方差为 $1$ 的近似正态分布，并用标准正态分位数 $z_{1-\\alpha/2}$ 来近似临界阈值。在此近似下，\n$$\nT \\approx N(\\lambda, 1), \\quad t_{1-\\alpha/2,\\,2n-2} \\approx z_{1-\\alpha/2}.\n$$\n因此，功效约等于\n$$\n\\text{Power} \\approx \\Pr\\left(|N(\\lambda,1)| > z_{1-\\alpha/2}\\right) = \\Pr\\left(N(\\lambda,1) > z_{1-\\alpha/2}\\right) + \\Pr\\left(N(\\lambda,1)  -z_{1-\\alpha/2}\\right).\n$$\n将其标准化为标准正态分布 $Z \\sim N(0,1)$，则变为\n$$\n\\text{Power} \\approx \\Pr\\left(Z  z_{1-\\alpha/2} - \\lambda\\right) + \\Pr\\left(Z  -z_{1-\\alpha/2} - \\lambda\\right),\n$$\n这可以用标准正态累积分布函数 $\\Phi$ 写成\n$$\n\\text{Power} \\approx \\left[1 - \\Phi\\!\\left(z_{1-\\alpha/2} - \\lambda\\right)\\right] \\;+\\; \\Phi\\!\\left(-z_{1-\\alpha/2} - \\lambda\\right).\n$$\n\n现在我们根据给定的输入 $\\delta = 4$，$\\sigma = 10$ 和 $n = 50$ 计算非中心参数 $\\lambda$：\n$$\n\\operatorname{SE} = \\sigma \\sqrt{\\frac{2}{n}} = 10 \\sqrt{\\frac{2}{50}} = 10 \\sqrt{0.04} = 10 \\times 0.2 = 2,\n$$\n$$\n\\lambda = \\frac{\\delta}{\\operatorname{SE}} = \\frac{4}{2} = 2.\n$$\n对于 $\\alpha = 0.05$ 的双侧检验，标准正态临界值为 $z_{1-\\alpha/2} = z_{0.975} \\approx 1.96$。代入功效的近似公式：\n$$\n\\text{Power} \\approx \\left[1 - \\Phi\\!\\left(1.96 - 2\\right)\\right] + \\Phi\\!\\left(-1.96 - 2\\right) = \\left[1 - \\Phi(-0.04)\\right] + \\Phi(-3.96).\n$$\n使用 $\\Phi(-x) = 1 - \\Phi(x)$，\n$$\n1 - \\Phi(-0.04) = \\Phi(0.04).\n$$\n对于较小的 $x$，使用标准正态概率密度函数 $\\varphi(0) = \\frac{1}{\\sqrt{2\\pi}} \\approx 0.398942$ 在0附近进行线性近似，可得\n$$\n\\Phi(0.04) \\approx 0.5 + \\varphi(0)\\cdot 0.04 \\approx 0.5 + 0.398942 \\times 0.04 \\approx 0.5 + 0.0159577 \\approx 0.5159577.\n$$\n对于极左尾部，Mills比率近似法得出\n$$\n\\Phi(-3.96) \\approx \\frac{\\varphi(3.96)}{3.96}, \\quad \\varphi(3.96) = \\frac{1}{\\sqrt{2\\pi}} \\exp\\!\\left(-\\frac{3.96^{2}}{2}\\right).\n$$\n计算指数部分：\n$$\n\\frac{3.96^{2}}{2} = \\frac{15.6816}{2} = 7.8408, \\quad \\exp(-7.8408) \\approx 3.923 \\times 10^{-4},\n$$\n所以\n$$\n\\varphi(3.96) \\approx 0.398942 \\times 3.923 \\times 10^{-4} \\approx 1.566 \\times 10^{-4},\n$$\n因此\n$$\n\\Phi(-3.96) \\approx \\frac{1.566 \\times 10^{-4}}{3.96} \\approx 3.956 \\times 10^{-5}.\n$$\n将两项合并：\n$$\n\\text{Power} \\approx 0.5159577 + 3.956 \\times 10^{-5} \\approx 0.5159973.\n$$\n四舍五入到四位有效数字，功效为\n$$\n0.5160.\n$$\n\n在历史背景下对试验可行性的解读：约 $0.5160$ 的统计功效表明，在计划的样本量和 $\\alpha$ 水平下，检测到预期效果的概率仅比抛硬币稍高。在RCT的形成时期，这样的功效被认为太低，不足以可靠地为临床实践提供信息。这会促使研究者考虑增加样本量 $n$、通过更严格的方案来减少变异性，或者重新评估预期的效应量 $\\delta$，以确保试验能够更可靠地检测出具有临床意义的差异。随着现代标准的形成，约0.8的功效成为普遍的目标，以平衡伦理考量、资源限制和证据强度。", "answer": "$$\\boxed{0.5160}$$", "id": "4957797"}]}