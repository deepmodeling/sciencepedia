{"hands_on_practices": [{"introduction": "保护患者隐私始于可靠的数据去标识化。第一个练习将挑战你应用HIPAA安全港方法，这是一个基础性的、基于规则的标准，用于移除患者标识符。对于任何处理用于研究或公开发布的美国健康数据的人员来说，掌握这张包含18种特定标识符的清单是至关重要的第一步。[@problem_id:4847805]", "problem": "一家医院的研究团队计划公开发布一个有限的患者级别数据集，用于流行病学分析。他们承诺使用《健康保险流通与责任法案》(HIPAA) 规定的安全港 (Safe Harbor) 去标识化方法。根据此方法，数据保管人必须移除法规指定的直接标识符，并对日期和地理信息应用受限泛化，以使发布的数据无法识别任何个人。保管人希望在安全港方法允许的范围内，保留尽可能多的分析效用。\n\n数据集模式包含以下变量（每行代表一次患者就诊）：\n\n- Study_ID（随机分配的代码，不源于任何患者属性；交叉引用表被分开存储且不被披露）\n- Full_Name\n- Street_Address\n- City\n- State\n- ZIP5\n- ZIP3\n- Date_of_Birth\n- Admission_Date\n- Discharge_Date\n- Age（年龄，以年为单位的整数）\n- Age_90plus_Flag（布尔值，表示年龄是否至少为 $90$ 岁）\n- Phone_Number\n- Email\n- Medical_Record_Number\n- Health_Plan_Beneficiary_Number\n- Device_Serial_Number\n- IP_Address\n- Full_Face_Photo_Image\n- Diagnosis_Code_ICD10\n- Procedure_Code_CPT\n- Provider_NPI\n- Year_of_Birth（源于 Date_of_Birth）\n- Admission_Year（源于 Admission_Date）\n- Discharge_Year（源于 Discharge_Date）\n\n假设保管人可以查阅当前的美国人口普查数据，并且，如果保留 $3$ 位邮政编码，可以将任何初始 $3$ 位邮政编码组合区域人口总数最多为 $20{,}000$ 的编码重新编码为 $000$。\n\n哪个选项指定了一个单一的转换计划，该计划既 (i) 满足 HIPAA 安全港标准，又 (ii) 不是不必要地严格，因为它保留了该标准所允许的最大限度的细节？\n\nA. 移除 Full_Name、Street_Address、City、ZIP5、Phone_Number、Email、Medical_Record_Number、Health_Plan_Beneficiary_Number、Device_Serial_Number、IP_Address 和 Full_Face_Photo_Image。放弃 Date_of_Birth、Admission_Date 和 Discharge_Date，只保留 Year_of_Birth、Admission_Year 和 Discharge_Year。保留 Age，但对任何 $>89$ 的年龄进行高位编码 (top-code)，使得所有这些值都表示为单一的“年龄 $90+$”类别；可选择保留 Age_90plus_Flag。保留 State。保留 ZIP3，但将任何初始 $3$ 位邮政编码组合区域人口总数 $\\le 20{,}000$ 的编码重新编码为 $000$。保留 Diagnosis_Code_ICD10、Procedure_Code_CPT、Provider_NPI 和 Study_ID（重新识别的交叉引用表分开保存且不披露）。\n\nB. 仅移除 Full_Name 和 Street_Address。保留 City、State、ZIP5 和 ZIP3 不变。将 Date_of_Birth 转换为月份和年份，但完整保留 Admission_Date 和 Discharge_Date。按原样保留 Age。保留所有其他字段，包括 Phone_Number、Email、Medical_Record_Number、Health_Plan_Beneficiary_Number、Device_Serial_Number、IP_Address 和 Full_Face_Photo_Image，以最大化分析效用。\n\nC. 移除除 Study_ID 和派生出的年份 Year_of_Birth、Admission_Year 和 Discharge_Year 之外的所有与患者相关的字段。移除 State、ZIP3、Diagnosis_Code_ICD10、Procedure_Code_CPT 和 Provider_NPI，以避免来自准标识符 (quasi-identifiers) 的任何风险。同时移除 Age 和 Age_90plus_Flag。不包括任何粒度的地理数据。\n\nD. 移除 Full_Name、Street_Address、Phone_Number、Email 和 Full_Face_Photo_Image。保留 City 和 State。保留 ZIP3，不设任何重新编码阈值。用 Year_of_Birth 替换 Date_of_Birth，但保留 Admission_Date 和 Discharge_Date 的月份和年份。按原样保留 Age，包括 $>89$ 的值。保留 Medical_Record_Number 和 IP_Address，因为它们是内部系统字段而非面向公众的字段。", "solution": "问题陈述是有效的。它准确地描述了医疗信息学中的一项常见任务，并基于一个真实的监管框架，即《健康保险流通与责任法案》(HIPAA) 的隐私规则。该问题提法得当、客观，并包含足够的信息来确定正确答案。问题要求找出既满足 HIPAA 安全港去标识化标准，同时又具有最低限制性的单一转换计划。\n\nHIPAA 安全港方法在美国联邦法规 (Code of Federal Regulations) 第 45 篇第 164.514(b)(2)(i) 节中定义。它要求移除关于个人或其亲属、雇主或家庭成员的 $18$ 种特定类型的标识符。一个计划要正确，就必须精确地实施这些要求——不多也不少——以同时满足合规性和最大效用这两个标准。\n\n让我们根据这 $18$ 种标识符，分析数据集中各变量所需的转换：\n1.  **姓名：** `Full_Name` 必须移除。\n2.  **小于州的地理分区：** `Street_Address`、`City` 和 `ZIP5` 必须移除。`State` 可以保留。`ZIP3`（邮政编码的前 $3$ 位）只有在所有具有相同前 $3$ 位数的邮政编码所组成的地理单元人口超过 $20{,}000$ 人时才能保留。如果人口等于或少于 $20{,}000$ 人，前 $3$ 位数必须更改为 $000$。问题正确地说明了此规则。\n3.  **日期和年龄：** 与个人直接相关的所有日期元素（年份除外）都必须移除。这适用于 `Date_of_Birth`、`Admission_Date` 和 `Discharge_Date`。因此，只能保留 `Year_of_Birth`、`Admission_Year` 和 `Discharge_Year`。对于年龄，所有超过 $89$ 岁的年龄必须汇总到 $90$ 岁或以上的单个类别中。这意味着 `Age` 值必须在 $89$ 岁进行高位编码，任何等于或大于 $90$ 的值都必须表示为单个类别（例如，“$90+$”）。`Age_90plus_Flag` 与此规则一致。\n4.  **电话号码：** `Phone_Number` 必须移除。\n5.  **传真号码：** 数据集中不存在。\n6.  **电子邮件地址：** `Email` 必须移除。\n7.  **社会安全号码：** 数据集中不存在。\n8.  **病历号：** `Medical_Record_Number` 必须移除。\n9.  **健康计划受益人号码：** `Health_Plan_Beneficiary_Number` 必须移除。\n10. **账号：** 数据集中不存在。\n11. **证书/许可证号码：** 数据集中不存在。\n12. **车辆识别码和序列号：** 数据集中不存在。\n13. **设备标识符和序列号：** `Device_Serial_Number` 必须移除。\n14. **网页通用资源定位符 (URL)：** 数据集中不存在。\n15. **互联网协议 (IP) 地址号码：** `IP_Address` 必须移除。\n16. **生物识别标识符：** `Full_Face_Photo_Image` 属于此类，必须移除。\n17. **全脸照片和任何可比较的图像：** `Full_Face_Photo_Image` 必须移除。\n18. **任何其他唯一的识别号码、特征或代码：** 此规则允许使用随机生成的 `Study_ID`，前提是它不是从其他标识符派生的，并且用于重新识别个人的密钥不被披露。问题陈述此条件已满足。`Diagnosis_Code_ICD10`、`Procedure_Code_CPT` 和 `Provider_NPI` 不是患者的标识符，也不在列举的列表中；它们对分析效用至关重要，在安全港方法下应予以保留，以满足“不是不必要地严格”的标准。\n\n基于此分析，正确的计划是：\n- **移除：** `Full_Name`、`Street_Address`、`City`、`ZIP5`、`Date_of_Birth`、`Admission_Date`、`Discharge_Date`、`Phone_Number`、`Email`、`Medical_Record_Number`、`Health_Plan_Beneficiary_Number`、`Device_Serial_Number`、`IP_Address`、`Full_Face_Photo_Image`。\n- **保留/转换：** `Study_ID`、`State`、`ZIP3`（对人口数 $\\le 20{,}000$ 的区域进行重新编码）、`Age`（在 $89$ 岁进行高位编码）、`Age_90plus_Flag`、`Year_of_Birth`、`Admission_Year`、`Discharge_Year`、`Diagnosis_Code_ICD10`、`Procedure_Code_CPT`、`Provider_NPI`。\n\n现在我们评估每个选项：\n\n**A. 移除 Full_Name、Street_Address、City、ZIP5、Phone_Number、Email、Medical_Record_Number、Health_Plan_Beneficiary_Number、Device_Serial_Number、IP_Address 和 Full_Face_Photo_Image。放弃 Date_of_Birth、Admission_Date 和 Discharge_Date，只保留 Year_of_Birth、Admission_Year 和 Discharge_Year。保留 Age，但对任何 $>89$ 的年龄进行高位编码 (top-code)，使得所有这些值都表示为单一的“年龄 $90+$”类别；可选择保留 Age_90plus_Flag。保留 State。保留 ZIP3，但将任何初始 $3$ 位邮政编码组合区域人口总数 $\\le 20{,}000$ 的编码重新编码为 $000$。保留 Diagnosis_Code_ICD10、Procedure_Code_CPT、Provider_NPI 和 Study_ID（重新识别的交叉引用表分开保存且不披露）。**\n\n该选项正确地识别了模式中对应于 $18$ 种 HIPAA 标识符且必须移除的所有 $14$ 个字段。它正确地指明了对日期（仅年份）、年龄（在 $89$ 岁进行高位编码）和地理信息（保留 `State`，保留 `ZIP3` 并遵循基于人口的重新编码规则）所需的泛化。它也正确地保留了非标识符字段（`Study_ID`、`Diagnosis_Code_ICD10`、`Procedure_Code_CPT`、`Provider_NPI`）以最大化分析效用。该计划完全符合要求。\n**结论：正确**\n\n**B. 仅移除 Full_Name 和 Street_Address。保留 City、State、ZIP5 和 ZIP3 不变。将 Date_of_Birth 转换为月份和年份，但完整保留 Admission_Date 和 Discharge_Date。按原样保留 Age。保留所有其他字段，包括 Phone_Number、Email、Medical_Record_Number、Health_Plan_Beneficiary_Number、Device_Serial_Number、IP_Address 和 Full_Face_Photo_Image，以最大化分析效用。**\n\n该选项严重不合规。它未能移除许多必需的标识符（`City`、`ZIP5`、`Phone_Number`、`Email`、`MRN` 等）。它错误地处理了日期（保留月份和完整日期）、年龄（无高位编码）和邮政编码（未移除 `ZIP5`，未对 `ZIP3` 重新编码）。该计划在多方面违反了安全港标准。\n**结论：不正确**\n\n**C. 移除除 Study_ID 和派生出的年份 Year_of_Birth、Admission_Year 和 Discharge_Year 之外的所有与患者相关的字段。移除 State、ZIP3、Diagnosis_Code_ICD10、Procedure_Code_CPT 和 Provider_NPI，以避免来自准标识符 (quasi-identifiers) 的任何风险。同时移除 Age 和 Age_90plus_Flag。不包括任何粒度的地理数据。**\n\n该计划过于严格。虽然它可能会产生一个去标识化的数据集，但它远超出了安全港方法的要求。它移除了在分析上有价值的数据，如 `Age`、`State`、`ZIP3`、`Diagnosis_Code_ICD10` 和 `Procedure_Code_CPT`，而这些数据在安全港方法下是允许的（在需要时进行适当转换）。因此，它未能满足问题的第二个标准：“不是不必要地严格”。\n**结论：不正确**\n\n**D. 移除 Full_Name、Street_Address、Phone_Number、Email 和 Full_Face_Photo_Image。保留 City 和 State。保留 ZIP3，不设任何重新编码阈值。用 Year_of_Birth 替换 Date_of_Birth，但保留 Admission_Date 和 Discharge_Date 的月份和年份。按原样保留 Age，包括 $>89$ 的值。保留 Medical_Record_Number 和 IP_Address，因为它们是内部系统字段而非面向公众的字段。**\n\n该选项不合规。它未能移除 `City`、`Medical_Record_Number` 和 `IP_Address` 等必需的标识符。保留 `MRN` 和 `IP_Address` 的理由是不正确的；无论标识符是否“面向公众”，安全港规则都适用。它也未能对 `ZIP3`（重新编码）、服务日期（必须仅为年份）和年龄（对 $> 89$ 的值必须进行高位编码）应用强制性转换。\n**结论：不正确**\n\n因此，选项 A 是唯一一个严格遵守 HIPAA 安全港要求，同时保留了所允许的最大限度细节的计划。", "answer": "$$\\boxed{A}$$", "id": "4847805"}, {"introduction": "虽然安全港方法是规定性的，但许多场景需要在隐私和数据效用之间进行更精细的平衡。本练习将向你介绍k-匿名化，这是一种量化重标识风险的形式化隐私模型。你将学习使用数据泛化和抑制技术，在最小化信息损失的同时达到目标隐私水平（$k \\ge 5$），这是准备高质量、负责任的研究数据集的一项核心技能。[@problem_id:4847777]", "problem": "一家医院计划根据《健康保险流通与责任法案》(HIPAA) 和《欧盟通用数据保护条例》(GDPR) 发布一份用于研究的去标识化数据集。在 HIPAA 框架下，可以通过地理泛化（例如，在适当条件下仅保留邮政编码的前$3$位数字）等方法实现去标识化；而在 GDPR 框架下，数据最小化和假名化是降低可识别性的指导原则。为了在医学信息学中规范去标识化过程，该医院将对准标识符集应用 $k$-匿名模型，并选择泛化或抑制方法，以在最小化信息损失的前提下实现 $k \\ge 5$。\n\n准标识符集包括年龄（$A$，以岁为单位）、$5$位邮政编码（$Z$）和性别（$S$）。样本表包含$20$条记录。每条记录以 $(A, Z, S)$ 的形式给出：\n\n$1$: $(31, 02130, M)$\n$2$: $(33, 02131, F)$\n$3$: $(36, 02132, M)$\n$4$: $(38, 02133, F)$\n$5$: $(34, 02134, M)$\n$6$: $(41, 02135, M)$\n$7$: $(44, 02136, F)$\n$8$: $(46, 02137, M)$\n$9$: $(43, 02138, F)$\n$10$: $(47, 02139, F)$\n$11$: $(30, 02210, M)$\n$12$: $(32, 02211, F)$\n$13$: $(35, 02212, M)$\n$14$: $(37, 02213, F)$\n$15$: $(39, 02214, F)$\n$16$: $(40, 02215, M)$\n$17$: $(42, 02216, F)$\n$18$: $(45, 02217, M)$\n$19$: $(48, 02218, F)$\n$20$: $(49, 02219, M)$\n\n定义与约束：\n- 准标识符等价类由记录的泛化元组 $(A, Z, S)$ 定义。如果每个等价类至少包含 $k$ 条记录，则该数据集满足 $k$-匿名性。形式上，如果 $\\mathcal{E}$ 是由准标识符导出的所有等价类的集合，那么 $k = \\min_{E \\in \\mathcal{E}} |E|$ 必须满足 $k \\ge 5$。\n- 允许的泛化或抑制：\n  - 年龄 $A$：划分到$10$年区间（例如，$30$–$39$ 或 $40$–$49$），或划分到$20$年区间（例如，$30$–$49$）。不允许其他年龄变换。\n  - 邮政编码 $Z$：保留前$3$位数字（邮政编码前缀）或仅保留前$2$位数字。不允许其他邮政编码变换。\n  - 性别 $S$：保留精确值（$M$ 或 $F$）或抑制/泛化为单个无差别类别。\n- 信息损失按每条记录度量，并对所有记录求和。令 $n = 20$ 为记录数。每条记录的损失 $L$ 是属性损失之和 $L_A + L_Z + L_S$，定义如下：\n  - 对于年龄 $A$：如果泛化为宽度为 $w_A$ 年的区间，则 $L_A = \\frac{w_A}{100}$，其中年龄域取为 $[0, 99]$。如果 $A$ 保持精确（无区间），则 $L_A = 0$。\n  - 对于邮政编码 $Z$：如果保留前 $p$ 位数字，则 $L_Z = \\frac{5 - p}{5}$。如果 $Z$ 保持精确（$p = 5$），则 $L_Z = 0$。不允许超出所述前缀选项的对 $Z$ 的抑制。\n  - 对于性别 $S$：如果保持精确，则 $L_S = 0$。如果抑制为单个无差别类别，则 $L_S = 1$。\n- 总信息损失为 $L_{\\text{total}} = \\sum_{i=1}^{n} \\left(L_A^{(i)} + L_Z^{(i)} + L_S^{(i)}\\right)$，在所选变换下计算。所有属性的权重相等。\n\n任务：\n- 计算上述泛化或抑制的不同允许组合所产生的 $k$-匿名级别。\n- 在所有满足 $k \\ge 5$ 的允许组合中，选择使 $L_{\\text{total}}$ 最小化的变换。\n- 报告最小总信息损失，以纯数字形式表示。如果需要四舍五入，请将答案四舍五入到四位有效数字。最终的数值答案不应包含任何单位。", "solution": "本题要求解决一个k-匿名问题。\n\n**1. 问题验证**\n\n*   **步骤1：提取已知条件**\n    *   **数据集：** $n=20$ 条记录，每条记录为（年龄 $A$，邮政编码 $Z$，性别 $S$）。\n    *   **准标识符 (QIs)：** $\\{A, Z, S\\}$。\n    *   **匿名要求：** $k \\ge 5$，其中 $k$ 是任何准标识符等价类的最小大小。\n    *   **年龄 ($A$) 的泛化规则：**\n        1.  保持精确值。\n        2.  划分到$10$年区间（例如，$30-39$，$40-49$）。\n        3.  划分到$20$年区间（例如，$30-49$）。\n    *   **邮政编码 ($Z$) 的泛化规则：**\n        1.  保持精确值（$5$位）。\n        2.  保留前$3$位数字。\n        3.  保留前$2$位数字。\n    *   **性别 ($S$) 的泛化/抑制规则：**\n        1.  保持精确值（$M$ 或 $F$）。\n        2.  抑制为单个类别。\n    *   **信息损失度量 ($L_{\\text{total}}$)：**\n        *   $L_{\\text{total}} = \\sum_{i=1}^{n} (L_A^{(i)} + L_Z^{(i)} + L_S^{(i)})$。\n        *   $L_A = \\frac{w_A}{100}$，其中 $w_A$ 是年龄区间的宽度。对于无区间，$L_A=0$。\n        *   $L_Z = \\frac{5 - p}{5}$，其中 $p$ 是保留的数字位数。\n        *   $L_S = 1$ 如果被抑制，$L_S=0$ 如果保持精确。\n\n*   **步骤2：使用提取的已知条件进行验证**\n    *   **科学依据：** 该问题基于成熟的 $k$-匿名模型，这是数据隐私和医学信息学中的一个标准概念。其背景和方法在科学上是合理的。\n    *   **适定性：** 该问题是一个约束优化任务，具有有限的可行变换集合。目标函数（信息损失）和约束条件（$k \\ge 5$）都已明确定义。预计存在一个唯一的最小解。\n    *   **客观性：** 所有术语、规则和数据都以定量和明确的方式定义，只有一个微小的例外。对于像“$30-39$”这样的年龄区间，术语“宽度 $w_A$”可以解释为 $39-30=9$ 或 $10$。鉴于“10年区间”的表述，标准解释是宽度 $w_A=10$。我们将使用并说明此解释。除此以外，该问题是客观的。\n    *   **其他缺陷：** 该问题是自洽、一致、现实且可验证的。它并非微不足道，因为它需要系统的搜索和计算。\n\n*   **步骤3：结论与行动**\n    *   **结论：** 问题是**有效的**。\n    *   **行动：** 继续解决问题。\n\n**2. 解题推导**\n\n本题要求找到满足$5$-匿名的广义数据集的最小总信息损失 $L_{\\text{total}}$。我们必须系统地探索允许的变换，检查它们是否满足 $k \\ge 5$ 的要求，如果满足，则计算其相关的信息损失。\n\n首先，我们将泛化级别及其对应的信息损失形式化。记录总数为 $n=20$。\n\n**属性泛化与信息损失：**\n\n1.  **年龄 ($A$)**：数据集中的年龄范围从$30$到$49$。\n    *   **A0（精确值）：** 无泛化。每条记录的信息损失为 $L_A = 0$。\n    *   **A1（10年区间）：** 年龄被划分到 $[30, 39]$ 和 $[40, 49]$。我们将“10年区间”解释为宽度 $w_A=10$。每条记录的损失为 $L_A = \\frac{10}{100} = 0.1$。该属性的总损失为 $L_{A1, \\text{total}} = 20 \\times 0.1 = 2.0$。\n    *   **A2（20年区间）：** 所有年龄都被划分到 $[30, 49]$。我们将“20年区间”解释为宽度 $w_A=20$。每条记录的损失为 $L_A = \\frac{20}{100} = 0.2$。该属性的总损失为 $L_{A2, \\text{total}} = 20 \\times 0.2 = 4.0$。\n\n2.  **邮政编码 ($Z$)**：\n    *   **Z0（精确值）：** 保留$5$位数字，因此 $p=5$。每条记录的损失为 $L_Z = \\frac{5-5}{5} = 0$。\n    *   **Z1（3位前缀）：** $p=3$。每条记录的损失为 $L_Z = \\frac{5-3}{5} = 0.4$。该属性的总损失为 $L_{Z1, \\text{total}} = 20 \\times 0.4 = 8.0$。\n    *   **Z2（2位前缀）：** $p=2$。每条记录的损失为 $L_Z = \\frac{5-2}{5} = 0.6$。该属性的总损失为 $L_{Z2, \\text{total}} = 20 \\times 0.6 = 12.0$。\n\n3.  **性别 ($S$)**：\n    *   **S0（精确值）：** 无抑制。每条记录的损失为 $L_S = 0$。\n    *   **S1（抑制）：** 该值被抑制。每条记录的损失为 $L_S = 1$。该属性的总损失为 $L_{S1, \\text total} = 20 \\times 1 = 20.0$。\n\n一个变换是选择的组合，表示为 $(A_i, Z_j, S_k)$，其中 $i,j \\in \\{0,1,2\\}$ 且 $k \\in \\{0,1\\}$。我们将按照总信息损失 $L_{\\text{total}} = L_{A, \\text{total}} + L_{Z, \\text{total}} + L_{S, \\text{total}}$ 的升序来评估变换。\n\n**数据集结构分析：**\n该数据集是完全平衡的：\n*   年龄：$10$ 条记录在 $[30,39]$ 区间，$10$ 条记录在 $[40,49]$ 区间。\n*   邮政编码前缀：记录 $1-10$ 的3位前缀是 $021$（来自邮政编码 $02130, \\dots, 02139$）。记录 $11-20$ 的3位前缀是 $022$（来自邮政编码 $02210, \\dots, 02219$）。所有 $20$ 条记录的2位前缀都是 $02$。\n*   性别：总共有 $10$ 名男性（$M$）和 $10$ 名女性（$F$）。在每个10条记录的年龄组和每个10条记录的邮政编码前缀组中，都恰好有 $5$ 名男性和 $5$ 名女性。\n\n**变换的系统性评估：**\n\n*   **$L_S=0$ 的变换（S0，无性别抑制）：**\n    *   (A0, Z0, S0)：$L_{\\text{total}}=0$。每条记录都是唯一的。$k=1$。不满足要求（$k \\ge 5$）。\n    *   (A1, Z0, S0)：$L_{\\text{total}}=2.0$。邮政编码是唯一的，所以记录是唯一的。$k=1$。不满足要求。\n    *   (A2, Z0, S0)：$L_{\\text{total}}=4.0$。邮政编码是唯一的，所以记录是唯一的。$k=1$。不满足要求。\n    *   (A0, Z1, S0)：$L_{\\text{total}}=8.0$。按3位邮政编码前缀泛化。在每个邮政编码前缀组（记录 $1-10$ 和 $11-20$）内，所有年龄都是不同的。因此，所有 $(A,Z_{prefix},S)$ 元组都是唯一的。$k=1$。不满足要求。\n    *   (A1, Z1, S0)：$L_{\\text{total}}=2.0+8.0=10.0$。等价类由 $([A_{start}, A_{end}], Z_{prefix}, S)$ 定义。这会产生 $2 \\times 2 \\times 2 = 8$ 个潜在的类。\n        我们来分析类 $([30,39], 021, M)$：年龄在 $[30,39]$ 区间、邮政编码以 $021$ 开头、性别为 M 的记录。这些是记录 $1, 3, 5$。大小为 3。\n        我们来分析 $([30,39], 021, F)$：记录 $2, 4$。大小为 2。\n        最小类的大小为 $2$。因此 $k=2$。不满足要求。\n    *   **(A2, Z1, S0):** $L_{\\text{total}}=4.0+8.0=12.0$。等价类由 $([A_{start}, A_{end}], Z_{prefix}, S)$ 定义。所有记录的年龄被泛化到单个区间 $[30,49]$。\n        - 类 $([30,49], 021, M)$：邮政编码前缀为 $021$ 的男性记录。这些是 R1, R3, R5, R6, R8。大小为 5。\n        - 类 $([30,49], 021, F)$：邮政编码前缀为 $021$ 的女性记录。这些是 R2, R4, R7, R9, R10。大小为 5。\n        - 类 $([30,49], 022, M)$：邮政编码前缀为 $022$ 的男性记录。这些是 R11, R13, R16, R18, R20。大小为 5。\n        - 类 $([30,49], 022, F)$：邮政编码前缀为 $022$ 的女性记录。这些是 R12, R14, R15, R17, R19。大小为 5。\n        所有等价类的大小都是 $5$。最小大小是 $5$。所以，$k=5$。这个变换是**有效的**。信息损失为 $L_{\\text{total}}=12.0$。这是我们第一个候选的最小损失。\n    *   (A0, Z2, S0)：$L_{\\text{total}}=12.0$。等价类由 $(A, Z_{prefix}, S)$ 定义。所有邮政编码的前缀都是 $02$。所有年龄都是唯一的。因此，所有元组都是唯一的。$k=1$。不满足要求。\n    *   **(A1, Z2, S0):** $L_{\\text{total}}=2.0+12.0=14.0$。等价类由 $([A_{start}, A_{end}], Z_{prefix}, S)$ 定义。所有记录的邮政编码被泛化到单个区间“02”。\n        - 类 $([30,39], 02, M)$：年龄在 $[30,39]$ 区间的男性记录。这些是 R1, R3, R5, R11, R13。大小为 5。\n        - 类 $([30,39], 02, F)$：年龄在 $[30,39]$ 区间的女性记录。这些是 R2, R4, R12, R14, R15。大小为 5。\n        - 类 $([40,49], 02, M)$：年龄在 $[40,49]$ 区间的男性记录。这些是 R6, R8, R16, R18, R20。大小为 5。\n        - 类 $([40,49], 02, F)$：年龄在 $[40,49]$ 区间的女性记录。这些是 R7, R9, R10, R17, R19。大小为 5。\n        所有等价类的大小都是 $5$。最小大小是 $5$。所以，$k=5$。这个变换是**有效的**。信息损失为 $L_{\\text{total}}=14.0$，高于 $12.0$。\n    *   (A2, Z2, S0)：$L_{\\text{total}}=4.0+12.0=16.0$。等价类由 $([A_{start}, A_{end}], Z_{prefix}, S)$ 定义。所有记录的年龄和邮政编码都被泛化到单个区间。类仅由性别定义。\n        - 类 $([30,49], 02, M)$：所有男性记录。大小为 10。\n        - 类 $([30,49], 02, F)$：所有女性记录。大小为 10。\n        最小类的大小为 $10$。所以，$k=10$。这是有效的，但其损失 $16.0$ 高于 $12.0$。\n\n*   **$L_S=1$ 的变换（S1，性别抑制）：**\n    任何涉及性别抑制的变换的最小可能损失是 $L_{S1, \\text{total}} = 20.0$。由于我们已经找到了一个总损失为 $L_{\\text{total}}=12.0$ 的有效变换，所以任何有性别抑制的变换都不可能产生更低的信息损失。为了完整起见，我们可以检查几个。\n    *   **(A1, Z1, S1):** $L_{\\text{total}}=2.0+8.0+20.0=30.0$。等价类由 $([A_start, A_end], Z_{prefix})$ 定义。\n        - 类 $([30,39], 021)$：年龄在 $[30,39]$ 区间且邮政编码前缀为 $021$ 的记录。这些是 R1-R5。大小为 5。\n        - 类 $([40,49], 021)$：记录 R6-R10。大小为 5。\n        - 类 $([30,39], 022)$：记录 R11-R15。大小为 5。\n        - 类 $([40,49], 022)$：记录 R16-R20。大小为 5。\n        最小类的大小为 $5$。所以，$k=5$。这是有效的，但其损失 $30.0$ 远高于 $12.0$。\n\n**结论：**\n我们已经确定了所有达到 $k \\ge 5$ 的允许变换。这些变换及其总信息损失的集合如下：\n1.  (A2, Z1, S0)：年龄泛化到20年区间，邮政编码泛化到3位前缀，性别保持精确。$k=5$, $L_{\\text{total}} = 12.0$。\n2.  (A1, Z2, S0)：年龄泛化到10年区间，邮政编码泛化到2位前缀，性别保持精确。$k=5$, $L_{\\text{total}} = 14.0$。\n3.  (A2, Z2, S0)：年龄泛化到20年区间，邮政编码泛化到2位前缀，性别保持精确。$k=10$, $L_{\\text{total}} = 16.0$。\n4.  (A1, Z1, S1)：年龄泛化到10年区间，邮政编码泛化到3位前缀，性别被抑制。$k=5$, $L_{\\text{total}} = 30.0$。\n（存在其他具有更多泛化的有效变换，但它们将具有更高的损失）。\n\n比较这些有效变换的总信息损失，最小值为 $12.0$。这是通过将年龄泛化到单个20年区间、将邮政编码泛化为其3位前缀，同时保持性别信息精确而实现的。\n\n最小总信息损失为 $L_{\\text{total}} = L_{A2, \\text{total}} + L_{Z1, \\text{total}} + L_{S0, \\text{total}} = 4.0 + 8.0 + 0 = 12$。", "answer": "$$\n\\boxed{12}\n$$", "id": "4847777"}, {"introduction": "即使有最好的保护措施，安全事件也时有发生。这最后一个练习将让你扮演事件响应者的角色，负责在美国HIPAA和欧盟GDPR两种框架下分析真实世界的安全事件。你必须区分被控制的安全事件和需要报告的数据泄露，这是一个具有重大法律和道德影响的关键决策。[@problem_id:4847784]", "problem": "一个受《健康保险流通与责任法案》(HIPAA) 的“违规通知规则”和《通用数据保护条例》(GDPR) 管辖的跨境医院网络，运营着一个中心化的事件响应功能。在为期 $7$ 天的时间里，该网络经历了以下事件：\n\n事件 $1$：一名临床医生的由医院配发的笔记本电脑从一辆锁着的汽车中被盗。笔记本电脑中包含患者预约名单和有限的临床记录。该设备根据美国国家标准与技术研究院 (NIST) 的指南配置了高级加密标准 (AES) $256$ 位强度的全盘加密，加密密钥仅存储在可信平台模块 (TPM) 中，并由强密码保护。该设备已注册企业移动设备管理系统，并在 $3$ 小时内被远程擦除。没有证据表明密钥已泄露。\n\n事件 $2$：一个勒索软件变种加密了一个生产环境的电子健康记录服务器，导致 $6$ 小时的访问中断。审计和出口日志显示没有数据泄露事件，法医内存捕获也未显示数据暂存或凭证抓取的迹象。备份已恢复，没有明显的数据丢失或完整性变化，补偿性控制措施在 $24$ 小时内得到加强。\n\n事件 $3$：一名工作人员将一个包含 $650$ 名美国患者和 $80$ 名欧盟患者的实验室测试结果及身份标识符的逗号分隔值 (CSV) 文件，通过电子邮件发送给了一个研究供应商，该供应商未根据 HIPAA 签署“商业伙伴协议”(BAA) 或根据 GDPR 签署“数据处理协议”(DPA)。该供应商在 $2$ 小时内确认收到并删除邮件，但随后报告称一条自动转发规则在邮件删除前将其路由到了两个未知的外部邮箱。该 CSV 文件在传输和静态存储时均未加密。\n\n您必须选择一个分类处理工作流，该工作流能够正确区分一般安全事件与可报告的数据违规，并为 HIPAA 和 GDPR 下的每个事件设置适当的上报阈值和通知。使用以下基础原则，不依赖任何组织特定的政策：根据 HIPAA 安全规则，“安全事件”包括企图或成功的未经授权的访问、使用、披露、修改或销毁信息，或对系统操作的干扰；根据 HIPAA 违规通知规则，“违規”是指未经许可地获取、访问、使用或披露未受保护的健康信息 (PHI)，除非通过多因素风险评估证明泄露的可能性很低，否则均假定为违规；根据 GDPR，“个人数据泄露”是指导致个人数据被意外或非法销毁、丢失、篡改、未经授权披露或访问的安全漏洞，如果该泄露可能对自然人的权利和自由造成风险，需在 $72$ 小时内通知监管机构；如果风险很高，则需通知数据主体。HIPAA 要求在无不当延迟且不迟于发现后的 $60$ 天内通知个人；对于影响一个州或司法管辖区内 $\\ge 500$ 人的事件，需向美国卫生与公众服务部 (HHS) 和媒体报告，而影响少于 $500$ 人的事件可以记录在案并年度报告。\n\n哪个选项最准确地将决策标准映射到 triage 工作流，并为事件 $1$ 到 $3$ 提供了正确的上报机制和阈值？\n\nA. 将任何异常事件归类为安全事件并立即控制。当可能涉及 PHI 或个人数据时，上报至隐私/合规部门进行违规风险评估。HIPAA：如果 PHI 按照 NIST 标准加密且密钥未泄露，则视为安全数据，不构成违规；否则，应用四因素评估（PHI 的性质/范围、未经授权的人员、数据是否被实际获取/查看、缓解措施的程度），除非证明泄露的可能性很低，否则假定为违规。在无不当延迟且不迟于 $60$ 天内通知受影响的个人；对于影响少于 $500$ 人的情况，通过年度日志通知 HHS；对于影响一个州/司法管轄区内 $\\ge 500$ 人的情况，在无不当延迟且不迟于 $60$ 天内通知 HHS，并包括对 $\\ge 500$ 人情况的媒体通知。GDPR：将任何对机密性、完整性或可用性的损害视为个人数据泄露；如果可能对权利和自由造成风险，则在 $72$ 小时内通知监管机构；如果风险很高，则通知数据主体。应用加密作为一项缓解控制措施，如果风险不大可能发生，则可以免除通知义务。结果：事件 $1$ 仅为安全事件（根据 HIPAA 或 GDPR 无需进行违规通知）。事件 $2$ 上报进行违规评估；根据 HIPAA，除非证明泄露可能性很低，否则推定为违规；根据 GDPR，这是一次个人数据泄露，除非风险不大可能，否则需在 $72$ 小时内通知监管机构；仅当风险很高时才通知数据主体。事件 $3$ 是一次可报告的 HIPAA 违规，需要对一个州/司法管轄区內受影响的 $650$ 人進行個人通知、HHS 通知和媒體通知；同时也是一次 GDPR 个人数据泄露，因健康数据的敏感性和可能的高风险，需要为 $80$ 名欧盟患者在 $72$ 小时内通知监管机构并通知数据主体。\n\nB. 仅当确认有数据泄露时才将事件归类为安全事件。根据 HIPAA，除非受影响人数 $500$，否则在 $72$ 小时内通知个人和 HHS，若人数 $500$ 则无需通知。根据 GDPR，仅当超过 $500$ 名欧盟数据主体受到影响时才通知数据主体；如果数据在 $7$ 天内恢复，则没有通知监管机构的截止日期。\n\nC. 将每个异常都视为可报告的违规。对于 HIPAA 和 GDPR，无论加密、风险或合同状态如何，都在 $24$ 小时内通知所有受影响的个人、HHS、媒体和监管机构，因为任何控制权的丧失都意味着泄露。结果：事件 $1$、$2$ 和 $3$ 都向所有相关方发出全面通知。\n\nD. 仅在有数据泄露和身份盗窃证明时才将某事视为违规。根据 HIPAA，没有数据导出证据的勒索软件是常规运营事件，而非违规；加密设备始终不在范围内；仅当超过 $5,000$ 人受影响时才需要通知 HHS 和媒体。根据 GDPR，仅对跨境事件且至少有 $500$ 名欧盟居民受影响时才需要通知监管机构。结果：事件 $1$ 被忽略；事件 $2$ 作为事件结案，无需进一步行动；事件 $3$ 不需要通知，因为供应商在 $2$ 小时内删除了邮件且转发是自动的。", "solution": "## 问题验证\n\n### 步骤 1：提取已知条件\n\n**法规和定义：**\n*   **司法管辖区：** 该医院网络受《健康保险流通与责任法案》(HIPAA)的“违规通知规则”和《通用数据保護條例》(GDPR)的管轄。\n*   **HIPAA 安全事件：** 包括企图或成功的未经授权的访问、使用、披露、修改或销毁信息，或对系统操作的干扰。\n*   **HIPAA 违规：** 未经许可地获取、访问、使用或披露**未受保护的**受保护健康信息 (PHI)，除非通过多因素风险评估证明泄露的可能性很低，否则假定为违规。\n*   **GDPR 个人数据泄露：** 导致个人数据被意外或非法销毁、丢失、篡改、未经授权披露或访问的安全漏洞。\n*   **HIPAA 通知（违规）：**\n    *   致个人：无不当延迟，且不迟于发现后的 $60$ 天。\n    *   致 HHS（美国卫生与公众服务部）：对于影响 $ 500$ 人的事件，记录在案并年度报告。对于影响一个州或司法管辖区内 $\\ge 500$ 人的事件，无不当延迟地报告，且不迟于 $60$ 天。\n    *   致媒体：对于影响一个州或司法管辖区内 $\\ge 500$ 人的事件。\n*   **GDPR 通知（个人数据泄露）：**\n    *   致监管机构：如果泄露可能对自然人的权利和自由造成风险，则在 $72$ 小时内。\n    *   致数据主体：如果风险很高。\n\n**事件数据：**\n*   **事件 1：**\n    *   资产：临床医生的笔记本电脑。\n    *   事件：从锁着的汽车中被盗。\n    *   数据：患者预约名单、有限的临床记录 (PHI/个人数据)。\n    *   安全控制：全盘加密 (AES-$256$, NIST 指南)，加密密钥存储于 TPM，强密码保护，$3$ 小时内远程擦除，无密钥泄露证据。\n*   **事件 2：**\n    *   资产：生产环境的电子健康记录 (EHR) 服务器。\n    *   事件：勒索软件加密导致 $6$ 小时的访问中断。\n    *   取证：审计/出口日志显示无数据泄露；内存取证显示无数据暂存或凭证抓取。\n    *   修复：备份已恢复，无明显数据丢失或完整性变化，控制措施在 $24$ 小时内加强。\n*   **事件 3：**\n    *   资产：CSV 文件。\n    *   事件：通过电子邮件发送给缺少商业伙伴协议 (BAA) 或数据处理协议 (DPA) 的研究供应商。\n    *   数据：$650$ 名美国患者和 $80$ 名欧盟患者的实验室测试结果和身份标识符。该 CSV 文件未加密。\n    *   后续事件：供应商在 $2$ 小时内确认收到并删除，但同时报告一条自动转发规则将邮件发送给了两个未知的外部邮箱。\n\n### 步驟 2：使用提取的已知條件進行驗證\n\n根据验证标准对问题陈述进行评估：\n1.  **科学或事实不准确：** 该问题基于 HIPAA 和 GDPR 的法律和监管框架，这些是医疗信息学和网络安全领域的真实世界标准。所提供的定义是这些法规核心原则的准确（尽管简化了）总结（例如，HIPAA 的加密安全港、报告的数字阈值和 60 天窗口；GDPR 基于风险的方法、72 小时窗口以及包含可用性违规）。所描述的技术（AES-$256$、TPM）是真实的，其功能在上下文中得到了正确描述。这些场景非常现实。不存在科学或事实上的不准确性。\n2.  **非形式化或不相关：** 该问题与医疗信息学直接相关，特别是健康数据的隐私和安全。将法律规则应用于事实场景是一个可形式化的逻辑过程。\n3.  **不完整或矛盾的设置：** 该问题为严谨分析提供了足够的细节。关键事实如加密状态、受影响人数、数据类型和取证发现都已明确说明，从而可以在不需要做出无根据假设的情况下应用给定的规则。\n4.  **不现实或不可行：** 所描述的事件是医疗保健组织面临的常见且现实的网络安全事件类型。\n5.  **提法不当或结构不良：** 该问题提法明确。它提供了一套规则（法规）和一套事实（事件），并要求将规则正确应用于事实。术语在问题本身内部已定义。\n6.  **伪深刻、琐碎或同义反复：** 该问题需要对两个不同且复杂的监管框架有细致的理解和谨慎的应用，并将其用于三种不同的情景。HIPAA 更具规定性的规则与 GDPR 基于风险的方法之間的相互作用使得分析并非易事。\n7.  **超出科学可验证性：** 通过将提供的定义和规则逻辑地应用于事件描述，解决方案是可验证的。\n\n### 步骤 3：结论和行动\n问题陈述有效。它自成体系，在其领域内事实准确，客观且提法明确。可以继续进行求解过程。\n\n## 推导与选项分析\n\n分析将通过根据 HIPAA 和 GDPR 的既定定义评估每个事件来进行。\n\n### 事件 1 分析：被盗的加密笔记本电脑\n*   **HIPAA：** 该事件符合“安全事件”的资格，因为涉及包含 PHI 的设备被盗。然而，问题询问的是可报告的“违规”。根据 HIPAA 违规通知规则，违规涉及**未受保护的** PHI。问题指出，根据 NIST 指南加密的数据被认为是“受保护的”。该笔记本电脑具有全盘加密（AES-$256$，符合 NIST），密钥由 TPM 保护，且没有密钥泄露的证据。这完全符合 HIPAA 的“安全港”条款。因此，这不构成未受保護 PHI 的违规，無需进行违规通知。它必须作为安全事件记录在案。\n*   **GDPR：** 根据定义，盗窃构成“个人数据泄露”，因为它是“导致...丢失...个人数据...的安全漏洞”。是否通知的问题取决于风险。如果存在可能的风险，需要通知监管机构；如果风险很高，则需要通知数据主体。问题指出加密是一项缓解控制措施。强大的加密（AES-$256$）、基于硬件的密钥保护（TPM）以及在 $3$ 小时内成功远程擦除的组合，使得数据被访问以及随后对个人权利和自由造成风险的概率极低，或“不大可能”。因此，不需要通知监管机构或数据主体。\n\n### 事件 2 分析：勒索软件攻击\n*   **HIPAA：** 这是一个“安全事件”，因为它涉及未经授权的访问和对系统操作的干扰。HHS 已发布具体指导，指出勒索软件攻击被推定为“违规”。恶意软件对数据的访问和加密构成了对 PHI 的未经授权的“获取”、“访问”或“使用”。举证责任在于受管辖实体，需要通过正式的风险评估来证明泄露的可能性很低。没有数据泄露是该评估中的一个缓解因素，但其本身并不能否定违规的存在。因此，这被推定为需要评估的违规。\n*   **GDPR：** 这是一次“个人数据泄露”，因为它涉及“导致个人数据...被销毁、丢失、[或]篡改”的安全漏洞。数据的加密是一种篡改，而 $6$ 小时的访问中断是可用性的临时丧失。GDPR 明确涵盖可用性和完整性违规，而不仅仅是机密性违规。生产 EHR 系统中断 $6$ 小时“很可能对自然人的权利和自由造成风险”（例如，延迟或受损的患者护理）。因此，除非组织能够证明风险不大可能，否则需要在 $72$ 小s时内通知监管机构。是否通知数据主体将取决于风险是否被评估为“高”。\n\n### 事件 3 分析：邮件误发\n*   **HIPAA：** 这是一个“安全事件”，也是一次明确的“违规”。这是对**未受保护的** PHI（未加密的 CSV）未经许可地向没有必需 BAA 的第三方（供应商）的披露。随后的自动转发到两个未知邮箱加剧了违规。当数据已发送给未知收件人时，不可能证明“泄露的可能性很低”。该违规影响了 $650$ 名美国患者，即 $\\ge 500$ 人。因此，通知要求是：\n    1.  无不当延迟地（不迟于 $60$ 天）通知所有 $650$ 名受影响的个人。\n    2.  无不当延迟地（不迟于 $60$ 天）通知 HHS。\n    3.  无不当延迟地（不迟于 $60$ 天）通知为相关司法管辖区服务的主要媒体。\n*   **GDPR：** 这是一次“个人数据泄露”，涉及“未经授权披露...个人数据”。数据包含实验室结果，根据 GDPR 第 9 条，这属于“特殊类别的个人数据”，受到最高级别的保护。向未知方披露此类敏感数据构成了“对自然人权利和自由的高风险”。因此，通知要求是：\n    1.  在 $72$ 小时内通知相关监管机构。\n    2.  毫不迟延地通知 $80$ 名受影响的欧盟数据主体。\n\n### 选项评估\n\n**A. 将任何异常事件归类为安全事件...**\n*   **工作流逻辑：** 为 HIPAA 和 GDPR 概述的一般原则是正确的。它正确地识别了 HIPAA 加密安全港、对未受保护 PHI 的四因素风险评估、违规推定、不同的通知阈值（少于 500 vs. $\\ge 500$）以及媒体通知要求。它还正确描述了 GDPR 更广泛的违규定义（包括可用性/完整性）、$72$ 小时时间线以及通知当局与数据主体的基于风险的阈值。\n*   **事件 1 结果：** “仅为安全事件（根据 HIPAA 或 GDPR 无需进行违规通知）。” 这与我们的分析相符。\n*   **事件 2 结果：** “上报进行违规评估；根据 HIPAA，除非证明泄露可能性很低，否则推定为违规；根据 GDPR，这是一次个人数据泄露，除非风险不大可能，否则需在 $72$ 小时内通知监管机构；仅当风险很高时才通知数据主体。” 这与我们的分析完全吻合。\n*   **事件 3 结果：** “一次可报告的 HIPAA 违规，需要对受影响的 $650$ 人进行个人通知、HHS 通知和媒体通知...同时也是一次 GDPR 个人数据泄露，因健康数据的敏感性和可能的高风险，需要为 $80$ 名欧盟患者在 $72$ 小时内通知监管机构并通知数据主体。” 这也与我们的分析完全吻合。\n*   **结论：** **正确**。\n\n**B. 仅当确认有数据泄露时才将事件归类为安全事件...**\n*   此选项从一个根本错误的前提开始。事件和违规包括未经授权的访问、使用和丢失，而不仅仅是泄露。它错误地将 HIPAA 通知截止日期说成 $72$ 小时（实际是 $60$ 天），并错误地声称对于影响 $500$ 人的违规无需通知。它为 GDPR 通知虚构了一个 $500$ 人的阈值，而 GDPR 的通知是基于风险的。整个选项建立在错误的前提之上。\n*   **结论：** **不正确**。\n\n**C. 将每个异常都视为可报告的违规...**\n*   此选项主张不加区分地、过于宽泛地应用规则。它忽略了安全事件和违规之间的关键区别，并完全错过了适用于事件 $1$ 的法律定义的 HIPAA 加密“安全港”。它还给出了一个不正确的 $24$ 小时通知截止日期。\n*   **结论：** **不正确**。\n\n**D. 仅在有数据泄露和身份盗窃证明时才将某事视为违规...**\n*   此选项使用了危险的狭隘且不正确的违规定义。它错误地指出没有泄露证据的勒索软件不是违规，这直接与 HHS 的指导相矛盾。它错误地将 HIPAA 媒体通知阈值说成 $5,000$（实际是 $500$）。它错误地声称 GDPR 通知仅适用于跨境事件或影响 $\\ge 500$ 名欧盟居民的事件，这是错误的。因此，应用于结果的推理存在严重缺陷。\n*   **结论：** **不正确**。\n\n基于对所提供的法律和监管原则的严格应用，选项 A 是唯一一个正确概述了分类处理工作流并将其准确应用于所有三个事件的选项。", "answer": "$$\\boxed{A}$$", "id": "4847784"}]}