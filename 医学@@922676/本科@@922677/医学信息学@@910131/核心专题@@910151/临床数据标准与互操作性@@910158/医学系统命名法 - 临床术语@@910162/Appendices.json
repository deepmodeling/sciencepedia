{"hands_on_practices": [{"introduction": "SNOMED CT 为每个临床概念提供了多种描述，包括全称、同义词和缩写。然而，在实际的临床应用中，系统必须能够根据用户的语言环境（例如，美式英语或英式英语）和临床偏好，选择一个最合适的“首选术语”。本练习将带你亲手实践这一关键的术语解析过程，通过应用一系列逻辑规则，从给定的数据中筛选出特定概念在特定地区的首选术语。[@problem_id:4857932]", "problem": "一个健康信息系统存储来自“系统化医学术语 - 临床术语 (SNOMED CT)”的术语内容。以下核心定义和经过充分检验的事实构成了本任务的基础：一个 SNOMED CT 概念有多个描述，每个描述都有一个类型，如“完全指定名称 (FSN)”或“同义词”，而一个语言参考集条目记录了某个描述在给定语言或方言中的可接受性。可接受性状态通常为“首选”或“可接受”。在运行时，只有活动的组件（概念、描述和参考集条目）被视为有效选择；非活动的组件必须被忽略。在给定地区中，一个概念的首选术语由该地区特定的语言参考集决定。\n\n给定一个概念以及以下的描述和语言参考集条目。每个描述都有字段：descriptionId、typeId、termText 和 active。每个语言参考集条目都有字段：refsetId、referencedComponentId (一个 descriptionId)、acceptabilityId 和 active。\n\n概念 $c = 8231000000107$ 的描述：\n- 描述 $d_{1}$：descriptionId $713001000000111$，typeId $900000000000013009$ (同义词)，termText “Cardiac infarction”，active = true。\n- 描述 $d_{2}$：descriptionId $713001000000112$，typeId $900000000000003001$ (FSN)，termText “Acute myocardial infarction (disorder)”，active = true。\n- 描述 $d_{3}$：descriptionId $713001000000113$，typeId $900000000000013009$ (同义词)，termText “Acute heart attack”，active = true。\n- 描述 $d_{4}$：descriptionId $713001000000114$，typeId $900000000000013009$ (同义词)，termText “AMI”，active = false。\n- 描述 $d_{5}$：descriptionId $713001000000115$，typeId $900000000000013009$ (同义词)，termText “Acute MI”，active = true。\n\n语言参考集和可接受性：\n- 美国英语语言参考集：refsetId $900000000000509007$ (en-US)\n  - 条目 $e_{A}$：referencedComponentId $713001000000113$，acceptabilityId $900000000000548007$ (首选)，active = true。\n  - 条目 $e_{B}$：referencedComponentId $713001000000111$，acceptabilityId $900000000000549004$ (可接受)，active = true。\n  - 条目 $e_{C}$：referencedComponentId $713001000000115$，acceptabilityId $900000000000548007$ (首选)，active = false。\n  - 条目 $e_{D}$：referencedComponentId $713001000000114$，acceptabilityId $900000000000548007$ (首选)，active = true。\n- 英国英语语言参考集：refsetId $900000000000508004$ (en-GB)\n  - 条目 $e_{E}$：referencedComponentId $713001000000111$，acceptabilityId $900000000000548007$ (首选)，active = true。\n  - 条目 $e_{F}$：referencedComponentId $713001000000113$，acceptabilityId $900000000000549004$ (可接受)，active = true。\n\n仅使用上述核心定义，推导出从给定数据中计算概念 $c$ 在指定地区 $L = \\text{en-US}$ 的首选术语所需的选择逻辑。然后应用您的逻辑来确定应选择哪个单一的 descriptionId 作为 $L$ 的首选术语。最终答案必须是作为一个整数的 descriptionId。不需要四舍五入，最终答案中也不应包含任何单位。", "solution": "该问题是有效的，因为它科学地基于医学信息学的原理，特别是 SNOMED CT 术语的结构和使用。它提法明确、客观，并包含足够的信息来推导出一个唯一且有意义的解决方案。\n\n任务是确定概念 $c = 8231000000107$ 在地区 $L = \\text{en-US}$ 的首选术语的单一 `descriptionId`。实现这一目标的逻辑必须从提供的核心定义中推导出来，然后应用于给定的数据。\n\n首先，我们形式化选择逻辑。一个描述 $d$ 被认为是概念 $c$ 在给定地区 $L$ 的首选术语，当且仅当存在一个语言参考集条目 $e$ 同时满足以下所有五个条件：\n1.  条目 $e$ 必须属于与指定地区 $L$ 对应的语言参考集。\n2.  条目 $e$ 必须是活动的，即 $e.\\text{active} = \\text{true}$。\n3.  条目 $e$ 必须将可接受性指定为“首选”。\n4.  条目 $e$ 必须引用描述 $d$，即 $e.\\text{referencedComponentId} = d.\\text{descriptionId}$。\n5.  描述 $d$ 本身必须是活动的，即 $d.\\text{active} = \\text{true}$。\n\n我们有以下给定的标识符：\n- 地区：$L = \\text{en-US}$，对应于 `refsetId` $900000000000509007$。\n- 可接受性“首选”：`acceptabilityId` $900000000000548007$。\n\n现在，我们将此逻辑应用于所提供的数据。\n\n**步骤 1：识别相关的语言参考集条目。**\n我们关心的是地区 $L = \\text{en-US}$，因此我们只考虑属于“美国英语语言参考集”（`refsetId` 为 $900000000000509007$）的条目。这些条目是 $e_{A}$、$e_{B}$、$e_{C}$ 和 $e_{D}$。\n\n**步骤 2：按“首选”可接受性筛选条目。**\n我们筛选步骤 1 中的条目，只保留 `acceptabilityId` = $900000000000548007$（“首选”）的条目。\n- 条目 $e_{A}$：`acceptabilityId` 是 $900000000000548007$。这是一个候选条目。\n- 条目 $e_{B}$：`acceptabilityId` 是 $900000000000549004$（“可接受”）。这不是一个候选条目。\n- 条目 $e_{C}$：`acceptabilityId` 是 $900000000000548007$。这是一个候选条目。\n- 条目 $e_{D}$：`acceptabilityId` 是 $900000000000548007$。这是一个候选条目。\n剩下的候选条目是 $e_{A}$、$e_{C}$ 和 $e_{D}$。\n\n**步骤 3：按活动状态筛选剩余条目。**\n我们现在检查步骤 2 中候选条目的 `active` 状态。\n- 条目 $e_{A}$：`active` = $\\text{true}$。此条目仍然是候选。\n- 条目 $e_{C}$：`active` = $\\text{false}$。此条目被**排除**，因为它是非活动的。\n- 条目 $e_{D}$：`active` = $\\text{true}$。此条目仍然是候选。\n剩下的候选条目是 $e_{A}$ 和 $e_{D}$。\n\n**步骤 4：检查被引用描述的活动状态。**\n对于每个剩下的活动的、首选的条目，我们必须验证它所指向的描述也是活动的。\n- 条目 $e_{A}$：它的 `referencedComponentId` 是 $713001000000113$。这对应于描述 $d_{3}$。$d_{3}$ 的数据显示 `active` = $\\text{true}$。由于条目 $e_A$ 和描述 $d_3$ 都是活动的，描述 $d_3$ 满足所有标准。\n- 条目 $e_{D}$：它的 `referencedComponentId` 是 $713001000000114$。这对应于描述 $d_{4}$。$d_{4}$ 的数据显示 `active` = $\\text{false}$。因为描述本身是非活动的，所以不能被选择。因此，此路径被**排除**。\n\n**结论：**\n在应用了完整的选择逻辑后，只有一个语言参考集条目（$e_A$）和描述（$d_3$）的组合满足所有必需条件。描述 $d_3$ 是概念 $c = 8231000000107$ 在 en-US 地区唯一确定的首选术语。\n\n$d_3$ 的 `descriptionId` 为 $713001000000113$。", "answer": "$$\\boxed{713001000000113}$$", "id": "4857932"}, {"introduction": "SNOMED CT 的核心力量在于其概念间的 `$is\\_a$` 层级关系，它使得计算机能够理解“链球菌性咽炎”是“感染性疾病”的一种。这种“is-a”关系的形式化表达即为“概念归类”（subsumption），是实现数据聚合、智能查询和临床决策支持的基础。本练习将引导你穿越一个简化的SNOMED CT层级结构，学习如何判断概念间的归类关系，并处理现实世界中的复杂情况，如非活动概念和历史替换规则。[@problem_id:4857928]", "problem": "考虑一个 Systematized Nomenclature of Medicine — Clinical Terms (SNOMED CT) 本体论的片段。在 SNOMED CT 中，概念层次结构由 `$is\\_a$` 关系表示。设一个有向图 $G = (V, E)$ 代表了某个给定发布快照的推断 `$is\\_a$` 层次结构，其中 $V$ 是概念集，而 $E \\subseteq V \\times V$ 包含一个有序对 $(c_1, c_2)$，当 $c_1 \\text{ is\\_a } c_2$ 是推断的且有效的。只有有效的概念和有效的关系才被包含在用于临床查询的推断视图中。令严格后代关系 $\\ll$ 为推断图上 `$is\\_a$` 关系的传递闭包，不包括自反性：对于概念 $x, y \\in V$，$x \\ll y$ 当且仅当存在一条从 $x$ 到 $y$ 沿着 $E$ 中边的长度至少为 $1$ 的路径。当使用非有效概念进行查询时，推荐的做法是首先将其历史关联（例如 REPLACED_BY）解析为一个有效的概念（如果存在）；这些关联不是 `$is\\_a$` 关系，本身不参与层次结构。\n\n给定以下概念及其状态和关联，以及当前发布快照的有效推断 `$is\\_a$` 边：\n\n概念 (及其标识符和状态):\n- $100000$: 临床所见 (有效)\n- $100100$: 感染性疾病 (有效)\n- $200000$: 呼吸系统疾病 (有效)\n- $200101$: 上呼吸道疾病 (有效)\n- $200110$: 急性咽炎 (有效)\n- $300000$: 细菌性感染疾病 (有效)\n- $300100$: 链球菌性咽炎 (有效)\n- $200100$: 上呼吸道疾病 (非有效)，有历史关联 REPLACED_BY $\\rightarrow 200101$\n- $900000$: 废弃的上呼吸道类别 (非有效)，无历史关联\n\n有效推断 `$is\\_a$` 边 $E$ (每条均以 子代 $\\rightarrow$ 父代 的形式列出):\n- $100100 \\rightarrow 100000$\n- $200000 \\rightarrow 100000$\n- $200101 \\rightarrow 200000$\n- $200110 \\rightarrow 200101$\n- $300000 \\rightarrow 100100$\n- $300100 \\rightarrow 200110$\n- $300100 \\rightarrow 300000$\n\n假设所示的所有边都是有效的，并且对于此片段是完整的，且这些节点之间不存在其他有效的推断 `$is\\_a$` 边。对于本问题，将“$A$ 包含 $B$”解释为“$B$ 是 $A$ 的严格后代”，即在有效推断层次结构中 $B \\ll A$。如果候选祖先是非有效的，查询可以首先通过应用单个 REPLACED_BY 关联来重写，以获得一个有效的祖先（如果该关联存在）；其他历史关联不得被视为 `$is\\_a$`。\n\n下列哪个陈述是正确的？\n\nA. 在有效推断层次结构中，$100100$ 包含了 $300100$。\n\nB. 在有效推断层次结构中，$200100$ 包含了 $200110$。\n\nC. 如果一个实现首先通过其 REPLACED_BY 关联将非有效概念 $200100$ 解析为 $200101$，然后再执行包含检查，那么对于查询“$200100$ 是否包含 $200110$?”应回答为真。\n\nD. 在有效推断层次结构中，$200101$ 包含了 $300100$。\n\nE. 由于 $900000$ 没有 REPLACED_BY 关联，如果历史上存在任何父子链接（即使当前已被移除），系统也应将“$900000$ 是否包含 $200110$?”视为真。", "solution": "### 问题验证\n\n**步骤 1：提取已知信息**\n\n问题提供了以下信息：\n- 一个有向图 $G = (V, E)$ 代表了 SNOMED CT 发布快照的有效推断 `$is\\_a$` 层次结构。$V$ 是有效概念的集合，$E$ 是有效推断 `$is\\_a$` 关系的集合。\n- 一个有序对 $(c_1, c_2) \\in E$ 意味着“$c_1 \\text{ is\\_a } c_2$”。\n- 严格后代关系，用 $\\ll$ 表示，是 `$is\\_a$` 关系的传递闭包，不包括自反性。$x \\ll y$ 如果在 $G$ 中存在一条从 $x$ 到 $y$ 的长度至少为 $1$ 的路径。\n- “$A$ 包含 $B$”的陈述被定义为 $B \\ll A$。\n- 对于涉及非有效候选祖先的查询，该非有效概念可以通过单个 REPLACED_BY 关联替换为一个有效的概念。其他历史关联不用于此目的。\n\n**概念和状态：**\n- $100000$: 临床所见 (有效)\n- $100100$: 感染性疾病 (有效)\n- $200000$: 呼吸系统疾病 (有效)\n- $200101$: 上呼吸道疾病 (有效)\n- $200110$: 急性咽炎 (有效)\n- $300000$: 细菌性感染疾病 (有效)\n- $300100$: 链球菌性咽炎 (有效)\n- $200100$: 上呼吸道疾病 (非有效)，有历史关联 REPLACED_BY $\\rightarrow 200101$。\n- $900000$: 废弃的上呼吸道类别 (非有效)，无历史关联。\n\n**有效推断 `$is\\_a$` 边 $E$ (子代 $\\rightarrow$ 父代)：**\n- $(100100, 100000)$\n- $(200000, 100000)$\n- $(200101, 200000)$\n- $(200110, 200101)$\n- $(300000, 100100)$\n- $(300100, 200110)$\n- $(300100, 300000)$\n\n**步骤 2：使用提取的已知信息进行验证**\n\n- **科学依据**：该问题基于医学信息学，特别是使用了 SNOMED CT 的结构和术语，SNOMED CT 是一个广泛采用的临床术语标准。多重继承、有效/非有效状态以及像 REPLACED_BY 这样的历史关联等概念都是 SNOMED CT 的真实特性。\n- **适定性**：该问题是适定的。它定义了一个有向图和一套用于遍历和替换的规则。问题要求根据这些规则评估具体的陈述。所提供的数据足以构建图并应用规则为每个陈述找到唯一答案。\n- **客观性**：语言精确且客观。像“包含”、“严格后代”和“有效推断层次结构”等术语在问题上下文中都有清晰、正式的定义。\n- **完整性和一致性**：该问题是自包含的。它提供了所有必要的概念、它们的状态以及相关有效关系（`$is\\_a$` 边）的完整集合。处理非有效概念的规则被明确说明。在给定的数据或规则中没有明显的矛盾。例如，概念 $300100$ 的多重继承是 SNOMED CT 中的一个有效结构。\n\n**步骤 3：结论和行动**\n\n问题陈述是有效的。这是一个基于医学术语系统和图论的真实原则的适定问题。可以继续进行求解过程。\n\n### 解题过程\n\n首先，我们构建图 $G=(V, E)$ 来表示有效推断层次结构。顶点集合 $V$ 由所有有效概念组成，边集合 $E$ 由有效推断 `$is\\_a$` 关系组成。\n\n有效概念的集合是 $V = \\{100000, 100100, 200000, 200101, 200110, 300000, 300100\\}$。\n边集合 $E$ 由子代 $\\rightarrow$ 父代关系的列表给出。我们将一条边表示为一个有序对 (子代, 父代)：\n$E = \\{ (100100, 100000), (200000, 100000), (200101, 200000), (200110, 200101), (300000, 100100), (300100, 200110), (300100, 300000) \\}$。\n\n问题定义“$A$ 包含 $B$”为 $B \\ll A$，这意味着在图 $G$ 中存在一条从概念 $B$到概念 $A$ 的长度至少为 $1$ 的路径。我们现在将根据这个定义和提供的规则来评估每个选项。\n\n**A. 在有效推断层次结构中，$100100$ 包含了 $300100$。**\n\n该陈述转化为验证是否 $300100 \\ll 100100$。这需要在图 $G$ 中找到一条从节点 $300100$ 到节点 $100100$ 的长度 $\\ge 1$ 的路径。\n查看 $E$ 中的边：\n1. 存在一条边 $(300100, 300000)$，意味着 $300100 \\rightarrow 300000$。\n2. 存在一条边 $(300000, 100100)$，意味着 $300000 \\rightarrow 100100$。\n\n通过连接这些边，我们构成了路径 $300100 \\rightarrow 300000 \\rightarrow 100100$。这是一条长度为 $2$ 的路径。由于存在长度 $\\ge 1$ 的路径，条件 $300100 \\ll 100100$ 成立。因此，$100100$ 包含 $300100$。\n\nA 的结论：**正确**。\n\n**B. 在有效推断层次结构中，$200100$ 包含了 $200110$。**\n\n该陈述指的是“有效推断层次结构”。根据问题的定义，该层次结构由图 $G=(V, E)$ 表示，其中 $V$ 是 *有效* 概念的集合。\n概念 $200100$ 被明确说明为“非有效”。因此，$200100 \\notin V$。\n由于包含关系是在图 $G$ 上定义的，而 $200100$ 不是 $G$ 中的一个顶点，因此它不能在有效层次结构中包含任何概念。该陈述对有效层次结构提出了一个主张，但其中涉及一个非有效概念，而根据问题定义，该概念不能扮演这个角色。\n\nB 的结论：**不正确**。\n\n**C. 如果一个实现首先通过其 REPLACED_BY 关联将非有效概念 $200100$ 解析为 $200101$，然后再执行包含检查，那么对于查询“$200100$ 是否包含 $200110$?”应回答为真。**\n\n这个选项描述了一个针对非有效概念的特定查询过程。\n1. 查询是“$200100$ 是否包含 $200110$?”。这里，候选祖先是 $200100$，它是非有效的。\n2. 问题为这种情况提供了规则：“查询可以首先通过应用单个 REPLACED_BY 关联来重写，以获得一个有效的祖先”。\n3. 概念 $200100$ 有关联 REPLACED_BY $\\rightarrow 200101$。概念 $200101$ 是有效的。\n4. 遵循该规则，通过将 $200100$ 替换为 $200101$ 来重写查询。新的查询是“$200101$ 是否包含 $200110$?”。\n5. 这个重写的查询转化为验证是否 $200110 \\ll 200101$。这需要找到一条从 $200110$到 $200101$ 的长度 $\\ge 1$ 的路径。\n6. 边集合 $E$ 包含边 $(200110, 200101)$，这对应于路径 $200110 \\rightarrow 200101$。这是一条长度为 $1$ 的路径。\n7. 由于路径存在，重写的查询为真。该选项陈述原始查询应回答为真，这是该过程的正确结果。\n\nC 的结论：**正确**。\n\n**D. 在有效推断层次结构中，$200101$ 包含了 $300100$。**\n\n该陈述转化为验证是否 $300100 \\ll 200101$。这需要在图 $G$ 中找到一条从节点 $300100$ 到节点 $200101$ 的长度 $\\ge 1$ 的路径。\n让我们从 $300100$ 追溯路径：\n1. 存在一条边 $(300100, 200110)$，意味着 $300100 \\rightarrow 200110$。\n2. 存在一条边 $(200110, 200101)$，意味着 $200110 \\rightarrow 200101$。\n\n连接这些边构成了路径 $300100 \\rightarrow 200110 \\rightarrow 200101$。这是一条长度为 $2$ 的路径。由于存在长度 $\\ge 1$ 的路径，条件 $300100 \\ll 200101$ 成立。因此，$200101$ 包含 $300100$。\n\nD 的结论：**正确**。\n\n**E. 由于 $900000$ 没有 REPLACED_BY 关联，如果历史上存在任何父子链接（即使当前已被移除），系统也应将“$900000$ 是否包含 $200110$?”视为真。**\n\n这个选项提出了一个处理没有 REPLACED_BY 关联的非有效概念 ($900000$) 的规则。\n提议的规则是“如果历史上存在任何父子链接，就视为真”。\n问题陈述为查询提供了一个非常严格的框架：“只有有效的概念和有效的关系才被包含在用于临床查询的推断视图中。” 这明确禁止使用历史的、非有效的关系来进行包含逻辑判断。为非有效概念提供的唯一例外是使用 REPLACED_BY 关联来找到一个有效的替代品。\n概念 $900000$ 是非有效的，并且没有 REPLACED_BY 关联，所以它不能被解析为一个有效的概念。它不属于有效层次结构 $G$ 的一部分，并且问题中没有指定其他处理它的机制。选项 E 中建议的规则直接与问题描述中阐述的基本原则相矛盾。\n\nE 的结论：**不正确**。", "answer": "$$\\boxed{ACD}$$", "id": "4857928"}, {"introduction": "临床现实往往是复杂的，比如一个手术可能同时涉及多个部位和多种操作。SNOMED CT 使用“属性分组”（Role Grouping）这一强大机制，将描述同一子事件的多个属性（如“部位”和“器械”）精确地关联在一起，避免了语义混淆。本练习通过一个典型的建模错误案例，生动地揭示了属性分组的重要性：你将看到，如果忽略了这一机制，计算机会得出怎样荒谬且错误的逻辑推断。[@problem_id:4857874]", "problem": "一个电子健康记录系统使用医学系统命名法-临床术语（SNOMED CT）对操作进行分类。在 SNOMED CT 的概念模型中，诸如操作部位（Procedure site）、方法（Method）、使用设备（Using device）和相关形态学（Associated morphology）等属性在描述逻辑中表示为 $\\exists r.C$ 形式的存在角色限定，并与合取 $\\sqcap$ 结合。属性共现由角色分组（Role group）通过一个分组属性来强制执行，因此临床“集合”中的所有属性必须在单个分组内一起满足。考虑以下旨在模拟在同一次手术中执行的两次单侧切除的完全定义的操作概念，一次是使用激光在左肺上进行的，另一次是使用镊子在右肺上进行的，以及三个相关的参考概念：\n\n- 目标概念的预期含义（使用角色分组）：一个由两个集合组成的双边操作：\n  组 $1$：方法 $=$ 切除，操作部位 $=$ 左肺结构，相关形态学 $=$ 病变，使用设备 $=$ 激光设备。\n  组 $2$：方法 $=$ 切除，操作部位 $=$ 右肺结构，相关形态学 $=$ 病变，使用设备 $=$ 镊子。\n\n- 参考概念：\n  $Q_1$：使用激光切除右肺病变。\n  $Q_2$：使用镊子切除左肺病变。\n  $Q_3$：双侧肺部病变切除（设备未指定）。\n  $Q_4$：使用激光切除耳部病变。\n\n形式上，使用描述逻辑，设以下缩写表示 SNOMED CT 的属性角色和值：$site$ 表示操作部位（Procedure site），$method$ 表示方法（Method），$device$ 表示使用设备（Using device），$morph$ 表示相关形态学（Associated morphology），$RG$ 表示角色分组（Role group），并设 $L$ 表示左肺结构（Left lung structure），$R$ 表示右肺结构（Right lung structure），$E$ 表示耳结构（Ear structure），$Exc$ 表示切除-操作（Excision - action），$Les$ 表示病变形态学（Lesion morphology），$Las$ 表示激光设备（Laser device），$For$ 表示镊子（Forceps）。\n\n那么，带有角色分组的预期双边概念是：\n$$P_{\\text{RG}} \\equiv \\exists RG.(\\exists site.L \\sqcap \\exists method.Exc \\sqcap \\exists device.Las \\sqcap \\exists morph.Les)\\ \\sqcap\\ \\exists RG.(\\exists site.R \\sqcap \\exists method.Exc \\sqcap \\exists device.For \\sqcap \\exists morph.Les).$$\n\n然而，假设在编辑过程中错误地省略了角色分组，概念被扁平化为属性的简单合取：\n$$P_{\\neg RG} \\equiv \\exists site.L \\sqcap \\exists site.R \\sqcap \\exists method.Exc \\sqcap \\exists device.Las \\sqcap \\exists device.For \\sqcap \\exists morph.Les.$$\n\n参考概念定义如下：\n$$Q_1 \\equiv \\exists RG.(\\exists site.R \\sqcap \\exists method.Exc \\sqcap \\exists device.Las \\sqcap \\exists morph.Les),$$\n$$Q_2 \\equiv \\exists RG.(\\exists site.L \\sqcap \\exists method.Exc \\sqcap \\exists device.For \\sqcap \\exists morph.Les),$$\n$$Q_3 \\equiv \\exists RG.(\\exists site.L \\sqcap \\exists method.Exc \\sqcap \\exists morph.Les)\\ \\sqcap\\ \\exists RG.(\\exists site.R \\sqcap \\exists method.Exc \\sqcap \\exists morph.Les),$$\n$$Q_4 \\equiv \\exists RG.(\\exists site.E \\sqcap \\exists method.Exc \\sqcap \\exists device.Las \\sqcap \\exists morph.Les).$$\n\n分析在这种多属性定义中省略角色分组（Role groups）的后果。下列哪一个包涵关系会由分类器从 $P_{\\neg RG}$ 错误地推断出来，但不会从 $P_{\\text{RG}}$ 推断出来？选择所有适用项。\n\nA. $P_{\\neg RG}$ 被 $Q_1$（使用激光切除右肺病变）包涵。\nB. $P_{\\neg RG}$ 被 $Q_2$（使用镊子切除左肺病变）包涵。\nC. $P_{\\neg RG}$ 被 $Q_3$（双侧肺部病变切除，设备未指定）包涵。\nD. $P_{\\neg RG}$ 被 $Q_4$（使用激光切除耳部病变）包涵。\n\n假设使用标准的 SNOMED CT 描述逻辑语义，其中完全定义的概念具有充分必要条件，$\\exists r.C$ 表示存在角色限定，$\\sqcap$ 表示合取，当左侧概念的条件逻辑上蕴含右侧概念的条件时，包涵关系 $\\sqsubseteq$ 成立。$P_{\\text{RG}}$ 中的角色分组数量为 $2$，$P_{\\neg RG}$ 中由于遗漏而为 $0$。", "solution": "用户需要对所提供的问题陈述进行批判性验证，然后给出详细的解答。\n\n### 问题验证\n\n**步骤 1：提取已知条件**\n\n*   **逻辑系统：** 在医学系统命名法-临床术语（SNOMED CT）中使用的描述逻辑（DL）。\n*   **DL 构造：** 存在角色限定（$\\exists r.C$）、合取（$\\sqcap$）、包涵（$\\sqsubseteq$）和角色分组（$RG$）。\n*   **场景：** 模拟一个具有两个不同部分的双边操作：（1）使用激光对左肺进行切除，以及（2）使用镊子对右肺进行切除。\n*   **DL 缩写：**\n    *   角色：$site$, $method$, $device$, $morph$, $RG$。\n    *   概念：$L$ (Left lung structure), $R$ (Right lung structure), $E$ (Ear structure), $Exc$ (Excision - action), $Les$ (Lesion morphology), $Las$ (Laser device), $For$ (Forceps)。\n*   **概念定义：**\n    *   使用角色分组正确建模的概念：\n        $$P_{\\text{RG}} \\equiv \\exists RG.(\\exists site.L \\sqcap \\exists method.Exc \\sqcap \\exists device.Las \\sqcap \\exists morph.Les)\\ \\sqcap\\ \\exists RG.(\\exists site.R \\sqcap \\exists method.Exc \\sqcap \\exists device.For \\sqcap \\exists morph.Les)$$\n    *   省略角色分组的错误建模概念：\n        $$P_{\\neg RG} \\equiv \\exists site.L \\sqcap \\exists site.R \\sqcap \\exists method.Exc \\sqcap \\exists device.Las \\sqcap \\exists device.For \\sqcap \\exists morph.Les$$\n    *   参考概念：\n        $$Q_1 \\equiv \\exists RG.(\\exists site.R \\sqcap \\exists method.Exc \\sqcap \\exists device.Las \\sqcap \\exists morph.Les)$$\n        $$Q_2 \\equiv \\exists RG.(\\exists site.L \\sqcap \\exists method.Exc \\sqcap \\exists device.For \\sqcap \\exists morph.Les)$$\n        $$Q_3 \\equiv \\exists RG.(\\exists site.L \\sqcap \\exists method.Exc \\sqcap \\exists morph.Les)\\ \\sqcap\\ \\exists RG.(\\exists site.R \\sqcap \\exists method.Exc \\sqcap \\exists morph.Les)$$\n        $$Q_4 \\equiv \\exists RG.(\\exists site.E \\sqcap \\exists method.Exc \\sqcap \\exists device.Las \\sqcap \\exists morph.Les)$$\n*   **问题：** 确定哪些形式为 $P_{\\neg RG} \\sqsubseteq Q_i$ 的包涵关系会被分类器推断，而相应的包涵关系 $P_{\\text{RG}} \\sqsubseteq Q_i$ 不会被推断。\n\n**步骤 2：使用提取的已知条件进行验证**\n\n1.  **科学依据：** 该问题牢固地基于使用描述逻辑进行知识表示的原则，这是 SNOMED CT 术语的形式化基础。使用存在限定、合取和角色分组来模拟临床概念是医学信息学中的标准实践。该问题在科学上是合理的。\n2.  **适定性：** 该问题为所有涉及的概念提供了明确和形式化的定义，并提出了一个关于逻辑包涵的精确问题。问题的结构使其能够根据描述逻辑的规则得出一个唯一的、可推导的答案。\n3.  **客观性：** 该问题以描述逻辑的明确和形式化语言陈述，没有主观或基于意见的断言。\n4.  **不完整或矛盾的设置：** 该问题是自洽的。所描述的场景，即省略角色分组，是 SNOMED CT 中一种众所周知的、关键的建模错误类型。所提供的定义与此场景一致。\n5.  **不切实际或不可行：** 该场景真实地再现了在大型临床术语库中可能出现的编辑错误。\n6.  **不适定或结构不良：** 该问题结构良好，需要对不同逻辑表示的语义后果进行实质性推理。\n7.  **伪深刻、琐碎或同义反复：** 该问题探讨了描述逻辑模型中分组和未分组属性之间的非平凡区别，这对自动分类和数据检索具有重大的实际意义。它不是一个琐碎的问题。\n\n**步骤 3：结论与行动**\n\n问题陈述是**有效的**。可以进行分析。\n\n### 解题推导\n\n核心任务是分析建模错误（即省略显式角色分组$RG$）的逻辑后果。在 SNOMED CT 概念模型中，像 $site$ 和 $device$ 这样的属性是可分组的。当它们在一个概念上定义而没有被显式分配到不同的分组时，DL 分类器会将它们视为属于一个单一的、隐式的分组（通常称为分组 $0$）。\n\n因此，“扁平化”的概念 $P_{\\neg RG}$ 被分类器解释为一个具有单一角色分组的概念，该分组包含所有指定属性的合取。其有效的逻辑定义，我们记为 $P'_{\\neg RG}$，是：\n$$P'_{\\neg RG} \\equiv \\exists RG.(\\exists site.L \\sqcap \\exists site.R \\sqcap \\exists method.Exc \\sqcap \\exists device.Las \\sqcap \\exists device.For \\sqcap \\exists morph.Les)$$\n这错误地表示了一个单一的操作情境，该情境同时涉及双肺、激光和镊子等。\n\n正确建模的概念 $P_{\\text{RG}}$ 使用两个独立的角色分组来正确地将每个子操作的设备与部位关联起来：\n$$P_{\\text{RG}} \\equiv \\exists RG.(\\exists site.L \\sqcap \\dots \\sqcap \\exists device.Las \\dots)\\ \\sqcap\\ \\exists RG.(\\exists site.R \\sqcap \\dots \\sqcap \\exists device.For \\dots)$$\n\n问题要求对于哪些概念 $Q_i$，包涵关系 $P'_{\\neg RG} \\sqsubseteq Q_i$ 为真，而 $P_{\\text{RG}} \\sqsubseteq Q_i$ 为假。\n\n为清晰起见，我们定义角色分组的内部内容：\n$C_{\\neg RG} \\equiv \\exists site.L \\sqcap \\exists site.R \\sqcap \\exists method.Exc \\sqcap \\exists device.Las \\sqcap \\exists device.For \\sqcap \\exists morph.Les$\n$C_{RG_L} \\equiv \\exists site.L \\sqcap \\exists method.Exc \\sqcap \\exists device.Las \\sqcap \\exists morph.Les$ (来自 $P_{\\text{RG}}$)\n$C_{RG_R} \\equiv \\exists site.R \\sqcap \\exists method.Exc \\sqcap \\exists device.For \\sqcap \\exists morph.Les$ (来自 $P_{\\text{RG}}$)\n$C_{Q1} \\equiv \\exists site.R \\sqcap \\exists method.Exc \\sqcap \\exists device.Las \\sqcap \\exists morph.Les$\n$C_{Q2} \\equiv \\exists site.L \\sqcap \\exists method.Exc \\sqcap \\exists device.For \\sqcap \\exists morph.Les$\n$C_{Q3_L} \\equiv \\exists site.L \\sqcap \\exists method.Exc \\sqcap \\exists morph.Les$\n$C_{Q3_R} \\equiv \\exists site.R \\sqcap \\exists method.Exc \\sqcap \\exists morph.Les$\n$C_{Q4} \\equiv \\exists site.E \\sqcap \\exists method.Exc \\sqcap \\exists device.Las \\sqcap \\exists morph.Les$\n\n对于单个角色分组，包涵关系 $\\exists RG.C_A \\sqsubseteq \\exists RG.C_B$ 成立，当且仅当 $C_A \\sqsubseteq C_B$。这又在 $C_B$ 中的限定集合是 $C_A$ 中限定集合的子集时成立。\n\n### 逐项分析\n\n**A. $P_{\\neg RG}$ 被 $Q_1$（使用激光切除右肺病变）包涵。**\n\n1.  **分析 $P'_{\\neg RG} \\sqsubseteq Q_1$：**\n    包涵关系 $P'_{\\neg RG} \\equiv \\exists RG.C_{\\neg RG} \\sqsubseteq Q_1 \\equiv \\exists RG.C_{Q1}$ 成立，如果 $C_{\\neg RG} \\sqsubseteq C_{Q1}$。\n    $C_{\\neg RG}$ 的定义包含了 $C_{Q1}$ 中存在的每一个角色限定：$\\exists site.R$、$\\exists method.Exc$、$\\exists device.Las$ 和 $\\exists morph.Les$。由于 $C_{\\neg RG}$ 是 $C_{Q1}$ 中所有限定加上其他限定的合取，因此 $C_{\\neg RG}$ 的任何实例必然是 $C_{Q1}$ 的实例。因此，$C_{\\neg RG} \\sqsubseteq C_{Q1}$ 成立。该包涵关系被推断。\n\n2.  **分析 $P_{\\text{RG}} \\sqsubseteq Q_1$：**\n    $P_{\\text{RG}} \\equiv \\exists RG.C_{RG_L} \\sqcap \\exists RG.C_{RG_R}$。要使其被 $Q_1 \\equiv \\exists RG.C_{Q1}$ 包涵，其至少一个角色分组必须被 $Q_1$ 的角色分组所包涵。这意味着我们需要 $C_{RG_L} \\sqsubseteq C_{Q1}$ 或 $C_{RG_R} \\sqsubseteq C_{Q1}$。\n    *   $C_{RG_L} \\sqsubseteq C_{Q1}$ 是否成立？不成立。$C_{RG_L}$ 需要 $\\exists site.L$，而 $C_{Q1}$ 需要 $\\exists site.R$。假设左肺 ($L$) 和右肺 ($R$) 是不相交的概念，此条件不满足。\n    *   $C_{RG_R} \\sqsubseteq C_{Q1}$ 是否成立？不成立。$C_{RG_R}$ 需要 $\\exists device.For$，而 $C_{Q1}$ 需要 $\\exists device.Las$。假设镊子 ($For$) 和激光设备 ($Las$) 是不相交的，此条件不满足。\n    由于 $P_{\\text{RG}}$ 的两个角色分组内容都不是 $C_{Q1}$ 的子类型，包涵关系 $P_{\\text{RG}} \\sqsubseteq Q_1$ 不成立。\n\n**对 A 的结论：** 对于 $P_{\\neg RG}$ 会推断出该包涵关系，但对于 $P_{\\text{RG}}$ 不会。这是由建模错误导致的不正确推断。因此，选项 A 是**正确的**。\n\n**B. $P_{\\neg RG}$ 被 $Q_2$（使用镊子切除左肺病变）包涵。**\n\n1.  **分析 $P'_{\\neg RG} \\sqsubseteq Q_2$：**\n    包涵关系 $P'_{\\neg RG} \\equiv \\exists RG.C_{\\neg RG} \\sqsubseteq Q_2 \\equiv \\exists RG.C_{Q2}$ 成立，如果 $C_{\\neg RG} \\sqsubseteq C_{Q2}$。\n    $C_{\\neg RG}$ 的定义包含了 $C_{Q2}$ 中存在的每一个角色限定：$\\exists site.L$、$\\exists method.Exc$、$\\exists device.For$ 和 $\\exists morph.Les$。因此，$C_{\\neg RG} \\sqsubseteq C_{Q2}$ 成立。该包涵关系被推断。\n\n2.  **分析 $P_{\\text{RG}} \\sqsubseteq Q_2$：**\n    要使 $P_{\\text{RG}} \\sqsubseteq Q_2$ 成立，我们需要 $C_{RG_L} \\sqsubseteq C_{Q2}$ 或 $C_{RG_R} \\sqsubseteq C_{Q2}$。\n    *   $C_{RG_L} \\sqsubseteq C_{Q2}$ 是否成立？不成立。$C_{RG_L}$ 需要 $\\exists device.Las$，而 $C_{Q2}$ 需要 $\\exists device.For$。\n    *   $C_{RG_R} \\sqsubseteq C_{Q2}$ 是否成立？不成立。$C_{RG_R}$ 需要 $\\exists site.R$，而 $C_{Q2}$ 需要 $\\exists site.L$。\n    包涵关系 $P_{\\text{RG}} \\sqsubseteq Q_2$ 不成立。\n\n**对 B 的结论：** 对于 $P_{\\neg RG}$ 会推断出该包涵关系，但对于 $P_{\\text{RG}}$ 不会。这是由建模错误导致的不正确推断。因此，选项 B 是**正确的**。\n\n**C. $P_{\\neg RG}$ 被 $Q_3$（双侧肺部病变切除，设备未指定）包涵。**\n\n1.  **分析 $P'_{\\neg RG} \\sqsubseteq Q_3$：**\n    $Q_3 \\equiv \\exists RG.C_{Q3_L} \\sqcap \\exists RG.C_{Q3_R}$。一个 $P'_{\\neg RG}$ 的实例有一个角色组填充物，该填充物是 $C_{\\neg RG}$ 的实例。要使其成为 $Q_3$ 的实例，这个填充物必须满足 $Q_3$ 的条件。如果单个填充物可以同时满足两个合取项，这是可能的。这要求该填充物是 $C_{Q3_L} \\sqcap C_{Q3_R}$ 的实例。\n    我们检查 $C_{\\neg RG} \\sqsubseteq (C_{Q3_L} \\sqcap C_{Q3_R})$ 是否成立。\n    $C_{Q3_L} \\sqcap C_{Q3_R} = (\\exists site.L \\sqcap \\dots) \\sqcap (\\exists site.R \\sqcap \\dots) = \\exists site.L \\sqcap \\exists site.R \\sqcap \\exists method.Exc \\sqcap \\exists morph.Les$。\n    $C_{\\neg RG}$ 的定义包含了所有这些限定，所以 $C_{\\neg RG} \\sqsubseteq (C_{Q3_L} \\sqcap C_{Q3_R})$。该包涵关系被推断。\n\n2.  **分析 $P_{\\text{RG}} \\sqsubseteq Q_3$：**\n    要使 $P_{\\text{RG}} \\sqsubseteq Q_3$ 成立，$P_{\\text{RG}}$ 的一个实例必须满足 $Q_3$ 的定义。一个 $P_{\\text{RG}}$ 的实例有两个角色组填充物，一个是 $C_{RG_L}$ 类型，另一个是 $C_{RG_R}$ 类型。\n    我们检查 $C_{RG_L} \\sqsubseteq C_{Q3_L}$：这是成立的，因为 $C_{RG_L}$ 包含了 $C_{Q3_L}$ 的所有限定，外加 $\\exists device.Las$。\n    我们检查 $C_{RG_R} \\sqsubseteq C_{Q3_R}$：这是成立的，因为 $C_{RG_R}$ 包含了 $C_{Q3_R}$ 的所有限定，外加 $\\exists device.For$。\n    因此，$P_{\\text{RG}}$ 实例中的两个不同角色组填充物满足了 $Q_3$ 的两个角色组要求。包涵关系 $P_{\\text{RG}} \\sqsubseteq Q_3$ 成立，并且在临床上是正确的。\n\n**对 C 的结论：** 对于 $P_{\\neg RG}$ 和 $P_{\\text{RG}}$ 都会推断出该包涵关系。因为它不属于为 $P_{\\neg RG}$ 推断但*不为* $P_{\\text{RG}}$ 推断的情况，所以选项 C 是**不正确的**。\n\n**D. $P_{\\neg RG}$ 被 $Q_4$（使用激光切除耳部病变）包涵。**\n\n1.  **分析 $P'_{\\neg RG} \\sqsubseteq Q_4$：**\n    包涵关系 $P'_{\\neg RG} \\sqsubseteq Q_4$ 成立，如果 $C_{\\neg RG} \\sqsubseteq C_{Q4}$。\n    $C_{Q4}$ 需要限定 $\\exists site.E$（耳结构）。$C_{\\neg RG}$ 的定义包含 $\\exists site.L$ 和 $\\exists site.R$，但不包含 $\\exists site.E$。假设肺（$L,R$）和耳（$E$）是不相交的概念，不能保证 $C_{\\neg RG}$ 的实例是 $C_{Q4}$ 的实例。该包涵关系不成立。\n\n**对 D 的结论：** 对于 $P_{\\neg RG}$ 不会推断出该包涵关系。因此，选项 D 是**不正确的**。", "answer": "$$\\boxed{AB}$$", "id": "4857874"}]}