{"hands_on_practices": [{"introduction": "在患者识别中，姓名是一个核心标识符，但它极易出现拼写和输入错误。为了量化两个姓名字符串的相似程度，信息科学家们开发了多种算法。本练习将引导你比较两种经典的字符串度量方法——Jaro-Winkler相似度和Levenshtein距离——以理解它们如何处理常见的字符换位错误（例如，将“Michael”误输为“Micheal”），并分析为何其中一种方法在患者匹配场景中可能更具优势。[@problem_id:4851050]", "problem": "一个卫生系统的“主患者索引”正在接受审核，以减少因患者姓名中的拼写错误而产生的重复记录。考虑从同一次电子健康记录 (EHR) 就诊中提取的候选姓名对 \"Micheal\" 和 \"Michael\"。仅使用记录关联和字符串度量理论中标准的、被广泛接受的定义作为基本依据，执行以下操作：\n\n1. 使用常规的 Jaro–Winkler 参数（缩放因子 $p = 0.1$ 和最大公共前缀长度上限为 $4$ 个字符）计算这两个字符串之间的 Jaro–Winkler 相似度。\n2. 在标准的单位成本模型（其中插入、删除和替换的成本均为 $1$）下，计算这两个字符串之间的 Levenshtein 距离。\n3. 从第一性原理出发，简要说明在患者识别工作流程中，这两种度量中哪一种更能忠实地捕捉姓名中常见的换位错误。\n\n按如下方式表示最终的数值结果：\n- 如果可能，将 Jaro–Winkler 相似度表示为一个精确的有理数（不要四舍五入）。\n- 将 Levenshtein 距离表示为一个整数。\n- 以单行矩阵的形式返回这两个结果，顺序为 $\\bigl(\\text{Jaro–Winkler 相似度}, \\text{Levenshtein 距离}\\bigr)$。\n\n无需四舍五入，最终答案中不包含单位。", "solution": "本问题要求对字符串对 $s_1 = \\text{\"Micheal\"}$ 和 $s_2 = \\text{\"Michael\"}$ 计算和比较两种标准的字符串相似度度量：Jaro–Winkler 相似度和 Levenshtein 距离。分析将根据记录关联理论中定义的第一性原理进行。\n\n设两个字符串为 $s_1 = \\text{\"Micheal\"}$ 和 $s_2 = \\text{\"Michael\"}$。字符串的长度分别为 $|s_1| = 7$ 和 $|s_2| = 7$。\n\n**1. Jaro–Winkler 相似度计算**\n\nJaro–Winkler 相似度 $d_w$ 是对 Jaro 相似度 $d_j$ 的一种增强。我们首先计算 Jaro 相似度。\n\nJaro 相似度的定义为：\n$$d_j = \\begin{cases} 0  \\text{如果 } m = 0 \\\\ \\frac{1}{3} \\left( \\frac{m}{|s_1|} + \\frac{m}{|s_2|} + \\frac{m-t}{m} \\right)  \\text{如果 } m > 0 \\end{cases}$$\n其中 $m$ 是匹配字符的数量，$t$ 是换位数的一半。\n\n*   **匹配字符 ($m$)**: 如果来自 $s_1$ 和 $s_2$ 的两个字符相同，并且它们的位置相差不超过 $\\left\\lfloor \\frac{\\max(|s_1|, |s_2|)}{2} \\right\\rfloor - 1$，则认为它们是匹配的。\n    对于这两个字符串，最大距离为 $\\lfloor \\frac{7}{2} \\rfloor - 1 = 3 - 1 = 2$。\n    - $s_1$: M i c h **e a** l\n    - $s_2$: M i c h **a e** l\n    我们在允许的距离内比较字符：\n    - $s_1$ 中的 `M` 与 $s_2$ 中的 `M` 匹配（距离为 $0$）。\n    - $s_1$ 中的 `i` 与 $s_2$ 中的 `i` 匹配（距离为 $0$）。\n    - $s_1$ 中的 `c` 与 $s_2$ 中的 `c` 匹配（距离为 $0$）。\n    - $s_1$ 中的 `h` 与 $s_2$ 中的 `h` 匹配（距离为 $0$）。\n    - $s_1$ 中位置 4 的 `e` 与 $s_2$ 中位置 5 的 `e` 匹配（距离 $1 \\le 2$）。\n    - $s_1$ 中位置 5 的 `a` 与 $s_2$ 中位置 4 的 `a` 匹配（距离 $1 \\le 2$）。\n    - $s_1$ 中的 `l` 与 $s_2$ 中的 `l` 匹配（距离为 $0$）。\n    $s_1$ 中的所有 $7$ 个字符在 $s_2$ 中都有匹配。因此，匹配字符的数量为 $m=7$。\n\n*   **换位 ($t$)**: 换位是指一对匹配的字符在两个字符串中以不同的顺序出现。我们将每个字符串中的匹配字符序列对齐。\n    - $s_1$ 的匹配序列：`(M, i, c, h, e, a, l)`\n    - $s_2$ 的匹配序列：`(M, i, c, h, a, e, l)`\n    通过比较这两个序列，我们发现第 5 和第 6 个位置的字符（`e`、`a`）发生了交换。未对齐的字符数量为 $2$。换位数 $t$ 是该值的一半。\n    因此，$t = \\frac{2}{2} = 1$。\n\n*   **Jaro 相似度 ($d_j$)**: 当 $m=7$ 且 $t=1$ 时：\n    $$d_j = \\frac{1}{3} \\left( \\frac{7}{7} + \\frac{7}{7} + \\frac{7 - 1}{7} \\right) = \\frac{1}{3} \\left( 1 + 1 + \\frac{6}{7} \\right) = \\frac{1}{3} \\left( \\frac{14+6}{7} \\right) = \\frac{1}{3} \\left( \\frac{20}{7} \\right) = \\frac{20}{21}$$\n\n*   **Jaro–Winkler 相似度 ($d_w$)**: 该度量通过为从开头匹配（公共前缀）的字符串提供更高的分数来改进 Jaro 相似度。其公式为：\n    $$d_w = d_j + (\\ell \\cdot p \\cdot (1 - d_j))$$\n    其中 $\\ell$ 是字符串开头的公共前缀的长度（上限为 $4$），$p$ 是一个缩放因子（此处 $p=0.1$）。\n    - “Micheal” 和 “Michael” 的公共前缀是 “Mich”，长度为 $4$。\n    - 问题指定最大前缀长度上限为 $4$，因此我们使用 $\\ell = 4$。\n    - 给定的缩放因子为 $p = 0.1$。\n    现在我们可以计算 $d_w$：\n    $$d_w = \\frac{20}{21} + \\left( 4 \\cdot 0.1 \\cdot \\left(1 - \\frac{20}{21}\\right) \\right) = \\frac{20}{21} + \\left( \\frac{4}{10} \\cdot \\frac{1}{21} \\right)$$\n    $$d_w = \\frac{20}{21} + \\frac{4}{210} = \\frac{200}{210} + \\frac{4}{210} = \\frac{204}{210}$$\n    化简该分数可得：\n    $$d_w = \\frac{204 \\div 6}{210 \\div 6} = \\frac{34}{35}$$\n\n**2. Levenshtein 距离计算**\n\nLevenshtein 距离是将在一个字符串转换为另一个字符串所需的最少单字符编辑（插入、删除或替换）次数。每次操作的成本为 $1$。$s_1 = \\text{\"Micheal\"}$ 和 $s_2 = \\text{\"Michael\"}$ 之间的差异是相邻字符 'e' 和 'a' 的换位。\n\n标准的 Levenshtein 距离没有将“换位”作为成本为 $1$ 的基本操作。换位必须使用可用的操作来建模。将 “Micheal” 转换为 “Michael” 有两种主要方法：\n\n*   **方法 1：删除和插入**\n    1.  从 “Micheal” 开始。\n    2.  删除字符 'e'：`Micheal` $\\rightarrow$ `Michal`。成本为 $1$。\n    3.  在正确的位置插入字符 'e'：`Michal` $\\rightarrow$ `Michael`。成本为 $1$。\n    总 Levenshtein 距离为 $1 + 1 = 2$。\n\n*   **方法 2：两次替换**\n    1.  从 “Micheal” 开始。\n    2.  将位置 4 的 'e' 替换为 'a'：`Micheal` $\\rightarrow$ `Michaal`。成本为 $1$。\n    3.  将位置 5 的 'a' 替换为 'e'：`Michaal` $\\rightarrow$ `Michael`。成本为 $1$。\n    总 Levenshtein 距离为 $1 + 1 = 2$。\n\n两种最小编辑路径的总成本均为 $2$。因此，Levenshtein 距离为 $2$。\n\n**3. 关于度量适用性的论证**\n\n“Micheal” 与 “Michael” 之间的错误是一个经典的换位错误，在手动数据录入中非常常见。这两种度量对这种错误的处理方式有根本的不同。\n\n*   **Jaro-Winkler 相似度**: 该度量被明确设计为对换位敏感。Jaro 相似度公式 $d_j = \\frac{1}{3} (\\frac{m}{|s_1|} + \\frac{m}{|s_2|} + \\frac{m-t}{m})$ 包含一个项 $\\frac{m-t}{m}$，直接考虑了匹配字符的顺序。它能识别出所有字符都存在 ($m=7$)，但会根据换位数 ($t=1$) 对相似度分数进行惩罚。这导致了一个很高的相似度分数（$d_j \\approx 0.952$，$d_w \\approx 0.971$），反映了两个字符串非常接近，仅因一个常见的打字错误而不同的事实。\n\n*   **Levenshtein 距离**: 该度量没有针对换位的基本操作。它必须将这种变化建模为两个独立的单字符错误（一次删除和一次插入，或两次替换）。这导致距离为 $2$。相比之下，单次替换（例如，“Michael” vs. “Michel”）、单次删除（例如，“Michael” vs. “Michal”）或单次插入（例如，“Michael” vs. “Michaell”）都将导致距离为 $1$。通过为简单的换位分配成本 $2$，Levenshtein 距离将这种常见错误视为比简单替换或插入/删除“严重两倍”，这可能与在患者匹配情境中对该错误的感知严重程度不符。\n\n**结论**: Jaro-Winkler 度量更忠实地捕捉了常见换位错误的本质。其公式内在地识别并为字符重排提供了一种具体的、细致的惩罚，而字符重排是姓名转录中常见的错误来源。这使得它特别适用于患者识别等任务，因为在这类任务中，此类拼写错误非常普遍。", "answer": "$$ \\boxed{\\begin{pmatrix} \\frac{34}{35}, & 2 \\end{pmatrix}} $$", "id": "4851050"}, {"introduction": "仅仅依赖单个字段（如姓名）进行匹配是不可靠的。概率匹配方法，特别是基于Fellegi–Sunter模型的框架，提供了一种强大的统计方式，可以综合来自多个字段（如姓名、出生日期、邮政编码）的证据并进行加权。本练习将带你亲手实践这一过程：你将使用预先计算好的$m$概率和$u$概率，为一个候选记录对计算总匹配权重（对数似然比），并根据设定的阈值做出“链接”、“非链接”或“人工审核”的决策。[@problem_id:4851015]", "problem": "一个医院系统遵循 Fellegi–Sunter 框架，在给定真实匹配状态下字段一致性条件独立的假设下，实施概率性患者识别。对于每对候选记录，该系统比较 $3$ 个字段：名字、出生日期和邮政编码，并为每个字段分配几个一致性水平中的一个。对于每个字段和水平，系统指定了 $m$-概率（如果记录对是真实匹配，观察到该水平的概率）和 $u$-概率（如果记录对是真实非匹配，观察到该水平的概率）。决策规则对使用自然对数计算的总对数似然比采用双阈值策略：如果总对数似然比至少为上阈值，则接受为链接；如果至多为下阈值，则拒绝为非链接；否则，送交人工审查。\n\n各字段、其一致性水平以及相应的 $m$-概率和 $u$-概率如下：\n\n- 名字：\n  - 完全匹配：$m=0.92$，$u=0.04$\n  - 仅发音匹配：$m=0.05$，$u=0.10$\n  - 不匹配：$m=0.03$，$u=0.86$\n\n- 出生日期：\n  - 年月日完全匹配：$m=0.985$，$u=0.002$\n  - 仅年份匹配：$m=0.012$，$u=0.010$\n  - 不匹配：$m=0.003$，$u=0.988$\n\n- 邮政编码：\n  - 5位编码完全匹配：$m=0.90$，$u=0.06$\n  - 仅前缀匹配（前 $3$ 个字符）：$m=0.08$，$u=0.18$\n  - 不匹配：$m=0.02$，$u=0.76$\n\n观察到某一对特定的候选记录具有以下一致性模式：\n- 名字：仅发音匹配\n- 出生日期：年月日完全匹配\n- 邮政编码：仅前缀匹配\n\n系统对总对数似然比（自然对数）使用以下阈值：如果至少为 $\\ln(100)$，则接受；如果至多为 $\\ln(0.05)$，则拒绝；否则进行审查。\n\n在标准条件独立模型下，使用自然对数计算这对记录的总对数似然比，并说明阈值所暗示的决策类别。仅报告计算出的对数似然比作为最终数值答案，四舍五入到四位有效数字。不需要单位。", "solution": "该问题要求计算给定候选记录对的总对数似然比，并确定最终的决策。Fellegi-Sunter 模型为该计算提供了框架。\n\n单个字段 $i$ 上特定一致性水平的对数似然比（或权重）由以下公式给出：\n$$\nW_i = \\ln\\left(\\frac{m_i}{u_i}\\right)\n$$\n其中 $m_i$ 是在记录对为真实匹配的情况下观察到该一致性水平的概率，而 $u_i$ 是在记录对为真实非匹配的情况下观察到该一致性水平的概率。问题使用自然对数，记为 $\\ln$。\n\n问题陈述该系统假设字段一致性是条件独立的。这个假设使得总对数似然比 $W_{total}$ 可以通过将每个字段的单独权重相加来计算：\n$$\nW_{total} = \\sum_{i=1}^{N} W_i\n$$\n在本例中，有 $N=3$ 个字段：名字（FN）、出生日期（DOB）和邮政编码（PC）。\n\n特定的候选记录对具有以下观察到的一致性水平：\n1.  名字：仅发音匹配\n2.  出生日期：年月日完全匹配\n3.  邮政编码：仅前缀匹配\n\n我们从问题陈述中检索相应的 $m$ 和 $u$ 概率：\n- 对于名字（仅发音匹配）：$m_{FN} = 0.05$ 且 $u_{FN} = 0.10$。\n- 对于出生日期（完全匹配）：$m_{DOB} = 0.985$ 且 $u_{DOB} = 0.002$。\n- 对于邮政编码（仅前缀匹配）：$m_{PC} = 0.08$ 且 $u_{PC} = 0.18$。\n\n现在，我们计算每个字段的权重：\n- 名字的权重：\n$$\nW_{FN} = \\ln\\left(\\frac{m_{FN}}{u_{FN}}\\right) = \\ln\\left(\\frac{0.05}{0.10}\\right) = \\ln(0.5)\n$$\n- 出生日期的权重：\n$$\nW_{DOB} = \\ln\\left(\\frac{m_{DOB}}{u_{DOB}}\\right) = \\ln\\left(\\frac{0.985}{0.002}\\right) = \\ln(492.5)\n$$\n- 邮政编码的权重：\n$$\nW_{PC} = \\ln\\left(\\frac{m_{PC}}{u_{PC}}\\right) = \\ln\\left(\\frac{0.08}{0.18}\\right) = \\ln\\left(\\frac{8}{18}\\right) = \\ln\\left(\\frac{4}{9}\\right)\n$$\n总对数似然比是这些单个权重的总和：\n$$\nW_{total} = W_{FN} + W_{DOB} + W_{PC} = \\ln(0.5) + \\ln(492.5) + \\ln\\left(\\frac{4}{9}\\right)\n$$\n使用对数性质 $\\ln(a) + \\ln(b) = \\ln(ab)$，我们可以简化表达式：\n$$\nW_{total} = \\ln\\left(0.5 \\times 492.5 \\times \\frac{4}{9}\\right)\n$$\n让我们执行对数内的乘法：\n$$\nW_{total} = \\ln\\left(\\frac{1}{2} \\times \\frac{985}{2} \\times \\frac{4}{9}\\right) = \\ln\\left(\\frac{985 \\times 4}{4 \\times 9}\\right) = \\ln\\left(\\frac{985}{9}\\right)\n$$\n现在，我们计算数值：\n$$\nW_{total} \\approx \\ln(109.444...) \\approx 4.695428406\n$$\n问题要求答案四舍五入到四位有效数字。前四位有效数字是 $4$、$6$、$9$ 和 $5$。第五位数字是 $4$，所以我们向下舍入。\n$$\nW_{total} \\approx 4.695\n$$\n接下来，我们通过将 $W_{total}$ 与给定的阈值进行比较来确定决策类别。\n- 上阈值：$T_{upper} = \\ln(100) \\approx 4.60517$\n- 下阈值：$T_{lower} = \\ln(0.05) \\approx -2.99573$\n\n我们计算出的总权重为 $W_{total} \\approx 4.695$。\n将其与阈值比较：\n$$\n-2.99573 \\le 4.695\n$$\n$$\n4.695 \\ge 4.60517\n$$\n由于 $W_{total} \\ge T_{upper}$，决策规则是接受该记录对为链接。\n\n问题要求将计算出的对数似然比作为最终的数值答案。", "answer": "$$\n\\boxed{4.695}\n$$", "id": "4851015"}, {"introduction": "在处理包含数百万条记录的真实医疗数据库时，将每条记录与其他所有记录进行逐一比较（即笛卡尔积）在计算上是不可行的。“分块”（Blocking）是一种至关重要的前处理步骤，它通过将记录分组来大幅减少需要比较的记录对数量。然而，这种效率的提升伴随着风险：过于严格的分块可能会导致真正的匹配对被分到不同区块而错过。本练习将让你通过计算“配对减少率”（Pair Reduction Ratio）和“召回率”（Recall）来量化这种权衡，并使用一个效用函数来寻找最佳的分块策略。[@problem_id:4851033]", "problem": "一个卫生系统正在两个电子健康记录（EHR）存储库之间执行概率性记录链接，以识别跨机构的重复患者表示。存储库 A 包含在同一时期收集的 $12{,}000$ 条患者记录，存储库 B 包含 $8{,}000$ 条患者记录。一项黄金标准的人工审查已确定两个存储库之间存在 $25{,}000$ 对真正的匹配记录对。\n\n该团队使用一种基线分块方案，通过连接姓氏的语音代码和出生年份将记录分组到块中，并且只比较同一块内的记录。在此基线方案下，系统生成了 $3{,}840{,}000$ 对候选记录对，并正确检索了 $23{,}500$ 对黄金标准的真实匹配。\n\n接下来，团队考虑一个由参数 $k$ 调优的分块方案族，其中 $k$ 是包含在分块键中的姓氏语音代码的初始字母数。较小的 $k$ 值会创建更粗糙的块（更多的候选对，更少的漏匹配），而较大的 $k$ 值会创建更精细的块（更少的候选对，更多的漏匹配）。对于 $k \\in \\{2,3,4\\}$，观察到的结果如下：\n- 对于 $k=2$：候选对 $=5{,}760{,}000$；检索到的真实匹配 $=24{,}250$。\n- 对于 $k=3$：候选对 $=3{,}840{,}000$；检索到的真实匹配 $=23{,}500$。\n- 对于 $k=4$：候选对 $=2,400,000$；检索到的真实匹配 $=22,250$。\n\n使用记录链接和信息检索中的标准定义，完成以下任务：\n1. 计算上述基线分块方案的配对缩减率和召回率。将两者均表示为小数，而非百分比，且不要四舍五入。\n2. 定义一个效用函数 $U(k)=\\lambda \\,\\text{PRR}(k)+\\left(1-\\lambda\\right)\\,\\text{Recall}(k)$，其中 $\\lambda=0.55$，$\\text{PRR}(k)$ 是参数 $k$ 下的配对缩减率，$\\text{Recall}(k)$ 是参数 $k$ 下的召回率。使用列出的 $k \\in \\{2,3,4\\}$ 的结果以及由存储库大小所暗示的可能跨文件对的总数，确定 $\\{2,3,4\\}$ 中使 $U(k)$ 最大化的 $k$ 值。\n\n仅提供最优的 $k$ 值作为最终答案。无需四舍五入。", "solution": "我们已知两个患者记录存储库的大小：存储库 A 有 $N_A = 12{,}000$ 条记录，存储库 B 有 $N_B = 8{,}000$ 条记录。两个存储库之间先验可能用于比较的记录对总数是这两个记录集合的笛卡尔积的大小：\n$$N_{total} = N_A \\times N_B = 12{,}000 \\times 8{,}000 = 96{,}000{,}000$$\n我们还已知，由黄金标准审查确定的真实匹配对总数为 $N_{true} = 25{,}000$。\n\n分块方案的性能使用两个标准指标进行评估：配对缩减率（$\\text{PRR}$）和召回率（$\\text{Recall}$）。\n\n配对缩减率衡量的是通过分块方案从比较中排除的记录对的比例。其定义为：\n$$\\text{PRR} = 1 - \\frac{N_{cand}}{N_{total}}$$\n其中 $N_{cand}$ 是由分块方案生成的候选对数量。\n\n召回率，也称为灵敏度或配对完整性，衡量的是被分块方案成功检索到的真实匹配的比例。其定义为：\n$$\\text{Recall} = \\frac{N_{retrieved}}{N_{true}}$$\n其中 $N_{retrieved}$ 是在候选对中找到的真实匹配数量。\n\n首先，我们解决问题的第一部分：计算基线分块方案的配对缩减率和召回率。\n对于基线方案，候选对数量为 $N_{cand, baseline} = 3{,}840{,}000$，检索到的真实匹配数量为 $N_{retrieved, baseline} = 23{,}500$。\n\n基线方案的配对缩减率为：\n$$\\text{PRR}_{\\text{baseline}} = 1 - \\frac{3{,}840{,}000}{96{,}000{,}000} = 1 - 0.04 = 0.96$$\n基线方案的召回率为：\n$$\\text{Recall}_{\\text{baseline}} = \\frac{23{,}500}{25{,}000} = 0.94$$\n因此，对于基线方案，配对缩减率为 $0.96$，召回率为 $0.94$。请注意，基线方案的数据与为参数 $k=3$ 的可调优方案提供的数据相同。\n\n接下来，我们解决第二部分：确定在 $k \\in \\{2, 3, 4\\}$ 中使效用函数 $U(k)$ 最大化的最优 $k$ 值。效用函数定义为：\n$$U(k) = \\lambda \\,\\text{PRR}(k) + (1-\\lambda)\\,\\text{Recall}(k)$$\n权重参数 $\\lambda = 0.55$。因此，$(1-\\lambda) = 1 - 0.55 = 0.45$。效用函数为：\n$$U(k) = 0.55 \\,\\text{PRR}(k) + 0.45\\,\\text{Recall}(k)$$\n\n我们必须为每个 $k$ 值计算 $U(k)$。\n\n对于 $k=2$：\n候选对数量为 $N_{cand}(2) = 5{,}760{,}000$。\n检索到的真实匹配数量为 $N_{retrieved}(2) = 24{,}250$。\n$$\\text{PRR}(2) = 1 - \\frac{N_{cand}(2)}{N_{total}} = 1 - \\frac{5{,}760{,}000}{96{,}000{,}000} = 1 - 0.06 = 0.94$$\n$$\\text{Recall}(2) = \\frac{N_{retrieved}(2)}{N_{true}} = \\frac{24{,}250}{25{,}000} = 0.97$$\n效用为：\n$$U(2) = 0.55 \\times 0.94 + 0.45 \\times 0.97 = 0.517 + 0.4365 = 0.9535$$\n\n对于 $k=3$：\n如前所述，这种情况与基线方案相同。\n候选对数量为 $N_{cand}(3) = 3{,}840{,}000$。\n检索到的真实匹配数量为 $N_{retrieved}(3) = 23{,}500$。\n$$\\text{PRR}(3) = 1 - \\frac{N_{cand}(3)}{N_{total}} = 1 - \\frac{3{,}840{,}000}{96{,}000{,}000} = 1 - 0.04 = 0.96$$\n$$\\text{Recall}(3) = \\frac{N_{retrieved}(3)}{N_{true}} = \\frac{23{,}500}{25{,}000} = 0.94$$\n效用为：\n$$U(3) = 0.55 \\times 0.96 + 0.45 \\times 0.94 = 0.528 + 0.423 = 0.951$$\n\n对于 $k=4$：\n候选对数量为 $N_{cand}(4) = 2{,}400{,}000$。\n检索到的真实匹配数量为 $N_{retrieved}(4) = 22{,}250$。\n$$\\text{PRR}(4) = 1 - \\frac{N_{cand}(4)}{N_{total}} = 1 - \\frac{2{,}400{,}000}{96{,}000{,}000} = 1 - 0.025 = 0.975$$\n$$\\text{Recall}(4) = \\frac{N_{retrieved}(4)}{N_{true}} = \\frac{22{,}250}{25{,}000} = 0.89$$\n效用为：\n$$U(4) = 0.55 \\times 0.975 + 0.45 \\times 0.89 = 0.53625 + 0.4005 = 0.93675$$\n\n最后，我们比较计算出的效用值：\n$U(2) = 0.9535$\n$U(3) = 0.9510$\n$U(4) = 0.93675$\n\n最大效用值出现在 $k=2$ 时。因此，分块参数的最优值为 $k=2$。", "answer": "$$\\boxed{2}$$", "id": "4851033"}]}