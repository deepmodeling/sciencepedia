{"hands_on_practices": [{"introduction": "计算表型通常始于将临床指南转化为一组明确的逻辑规则。本练习将带你实践如何将这些规则应用于纵向患者数据，这是一个表型分析的基础技能。你将根据估算肾小球滤过率（$eGFR$）的时间序列数据和排除标准，亲手对患者进行慢性肾病（CKD）的分类 [@problem_id:4829914]。", "problem": "一个临床信息学团队旨在根据估算肾小球滤过率 (eGFR) 的纵向测量数据和诊断代码，推导出一个基于规则的慢性肾脏病 (CKD) 计算表型。使用以下基本原则：为监测目的，CKD的操作性定义为肾功能持续下降，其证据为在观察窗口期间，至少有两次eGFR值严格小于$60$ $\\mathrm{mL}/\\min/1.73\\mathrm{m}^{2}$，且这两次测量至少相隔$90$天，并且在观察窗口内没有急性肾损伤 (AKI) 的诊断代码。观察窗口为$18$个月，您可以将其视为$540$天。当且仅当在观察窗口内同时满足以下两个条件时，一名患者才被归类为CKD病例：(i) 存在两次eGFR测量值严格小于$60$ $\\mathrm{mL}/\\min/1.73\\mathrm{m}^{2}$，且测量日期至少相隔$90$天；(ii) 在观察窗口内的任何时间都没有记录到AKI诊断代码。\n\n提供给您的是患者层面的eGFR测量序列，形式为有序对 $(t, \\mathrm{eGFR})$，其中 $t$ 是从观察开始时（$t = 0$）算起的测量日，$\\mathrm{eGFR}$ 的单位是 $\\mathrm{mL}/\\min/1.73\\mathrm{m}^{2}$。AKI代码（如果存在）按天数索引列出。所有测量和代码都发生在$[0, 540]$天内。\n\n- 患者 $P_{1}$：\n  - eGFR 测量值：$(10, 65)$, $(100, 58)$, $(250, 55)$, $(370, 62)$。\n  - AKI 代码：无。\n- 患者 $P_{2}$：\n  - eGFR 测量值：$(30, 59)$, $(100, 61)$, $(185, 57)$, $(260, 58)$。\n  - AKI 代码：第 $200$ 天。\n- 患者 $P_{3}$：\n  - eGFR 测量值：$(0, 70)$, $(85, 58)$, $(170, 62)$, $(270, 59)$。\n  - AKI 代码：无。\n- 患者 $P_{4}$：\n  - eGFR 测量值：$(40, 59)$, $(120, 59)$, $(195, 60)$, $(300, 61)$。\n  - AKI 代码：无。\n- 患者 $P_{5}$：\n  - eGFR 测量值：$(50, 45)$, $(130, 46)$, $(220, 47)$。\n  - AKI 代码：无。\n- 患者 $P_{6}$：\n  - eGFR 测量值：$(10, 58)$, $(90, 58)$, $(180, 58)$, $(270, 58)$。\n  - AKI 代码：无。\n\n计算该队列中满足所述规则下CKD病例定义的患者数量。以整数形式表示您的最终答案。无需四舍五入。最终答案不应包含任何单位。", "solution": "该问题提供了一个基于规则的慢性肾脏病 (CKD) 计算表型定义，并要求将此规则应用于一个包含六名患者的队列，以确定有多少人符合CKD病例的条件。\n\n首先，需要对问题陈述进行验证。\n\n**步骤1：提取已知条件**\n问题定义了将患者分类为CKD病例的条件。\n- **CKD病例定义**：当且仅当在指定的观察窗口内同时满足以下两个条件时，患者才被视为CKD病例。\n- **条件(i) - eGFR慢性标准**：必须存在至少两次估算肾小球滤过率 (eGFR) 测量值严格小于 $60$ $\\mathrm{mL}/\\min/1.73\\mathrm{m}^{2}$。这两次测量的日期必须至少相隔 $90$ 天。\n- **条件(ii) - AKI排除标准**：在观察窗口内的任何时间都不得记录有急性肾损伤 (AKI) 诊断代码。\n- **观察窗口**：观察窗口为 $18$ 个月，定义为 $540$ 天。所有患者数据都在区间 $[0, 540]$ 内提供。\n\n患者特定数据：\n- **患者 $P_{1}$**：\n  - eGFR 测量值：$(10, 65)$, $(100, 58)$, $(250, 55)$, $(370, 62)$。\n  - AKI 代码：无。\n- **患者 $P_{2}$**：\n  - eGFR 测量值：$(30, 59)$, $(100, 61)$, $(185, 57)$, $(260, 58)$。\n  - AKI 代码：第 $200$ 天。\n- **患者 $P_{3}$**：\n  - eGFR 测量值：$(0, 70)$, $(85, 58)$, $(170, 62)$, $(270, 59)$。\n  - AKI 代码：无。\n- **患者 $P_{4}$**：\n  - eGFR 测量值：$(40, 59)$, $(120, 59)$, $(195, 60)$, $(300, 61)$。\n  - AKI 代码：无。\n- **患者 $P_{5}$**：\n  - eGFR 测量值：$(50, 45)$, $(130, 46)$, $(220, 47)$。\n  - AKI 代码：无。\n- **患者 $P_{6}$**：\n  - eGFR 测量值：$(10, 58)$, $(90, 58)$, $(180, 58)$, $(270, 58)$。\n  - AKI 代码：无。\n\n**步骤2：使用提取的已知条件进行验证**\n根据既定标准对问题进行评估。\n- **科学依据**：该问题基于临床信息学和流行病学。所提供的CKD定义是根据《肾脏病：改善全球预后》(KDIGO) 指南，为监测和研究目的而采用的一种简化但标准的操作化定义。$60$ $\\mathrm{mL}/\\min/1.73\\mathrm{m}^{2}$ 的eGFR阈值和 $90$ 天的慢性标准在该领域是标准配置。排除AKI是区分慢性和急性疾病的关键且现实的步骤。因此，该问题具有科学合理性。\n- **适定性**：该问题是适定的。规则明确无歧义（“严格小于 $60$”、“至少相隔 $90$ 天”、“无AKI诊断代码”）。每位患者的数据完整且足以应用这些规则。预期会有一个唯一的整数值答案。\n- **客观性**：语言精确客观，没有主观或基于观点的陈述。它提出了一个清晰的逻辑任务。\n- **完整性与一致性**：问题是自包含的。所有必要的规则和数据都已提供。没有内部矛盾。\n- **可行性**：数据值（eGFR水平，时间点）对于纵向患者记录是现实的。\n\n**步骤3：结论与行动**\n该问题是有效的，因为它具有科学依据、适定、客观且完整。我将继续通过将给定规则应用于每位患者来解决它。\n\n对每位患者的分析如下：\n\n**患者 $P_{1}$**\n- **条件(ii) - AKI排除标准**：该患者没有AKI代码。此条件满足。\n- **条件(i) - eGFR慢性标准**：我们必须找到两次eGFR测量值  60 且相隔至少 $90$ 天。\n  - eGFR测量值为 $(10, 65)$, $(100, 58)$, $(250, 55)$, $(370, 62)$。\n  - eGFR  60 的测量值发生在第 $100$ 天（eGFR $58$）和第 $250$ 天（eGFR $55$）。\n  - 设 $t_1 = 100$ 且 $t_2 = 250$。\n  - 时间差为 $|t_2 - t_1| = |250 - 100| = 150$ 天。\n  - 由于 $150 \\ge 90$，此条件满足。\n- **结论**：两个条件都满足。患者 $P_{1}$ 是CKD病例。\n\n**患者 $P_{2}$**\n- **条件(ii) - AKI排除标准**：该患者在第 $200$ 天有AKI代码。此条件**不**满足。\n- **结论**：患者 $P_{2}$ 不是CKD病例。\n\n**患者 $P_{3}$**\n- **条件(ii) - AKI排除标准**：该患者没有AKI代码。此条件满足。\n- **条件(i) - eGFR慢性标准**：我们必须找到两次eGFR测量值  60 且相隔至少 $90$ 天。\n  - eGFR测量值为 $(0, 70)$, $(85, 58)$, $(170, 62)$, $(270, 59)$。\n  - eGFR  60 的测量值发生在第 $85$ 天（eGFR $58$）和第 $270$ 天（eGFR $59$）。\n  - 设 $t_1 = 85$ 且 $t_2 = 270$。\n  - 时间差为 $|t_2 - t_1| = |270 - 85| = 185$ 天。\n  - 由于 $185 \\ge 90$，此条件满足。\n- **结论**：两个条件都满足。患者 $P_{3}$ 是CKD病例。\n\n**患者 $P_{4}$**\n- **条件(ii) - AKI排除标准**：该患者没有AKI代码。此条件满足。\n- **条件(i) - eGFR慢性标准**：我们必须找到两次eGFR测量值  60 且相隔至少 $90$ 天。\n  - eGFR测量值为 $(40, 59)$, $(120, 59)$, $(195, 60)$, $(300, 61)$。\n  - eGFR  60 的测量值发生在第 $40$ 天（eGFR $59$）和第 $120$ 天（eGFR $59$）。\n  - 设 $t_1 = 40$ 且 $t_2 = 120$。\n  - 时间差为 $|t_2 - t_1| = |120 - 40| = 80$ 天。\n  - 由于 $80  90$，这对测量不满足条件。没有其他 eGFR 值  60 的组合。因此，此条件**不**满足。\n- **结论**：患者 $P_{4}$ 不是CKD病例。\n\n**患者 $P_{5}$**\n- **条件(ii) - AKI排除标准**：该患者没有AKI代码。此条件满足。\n- **条件(i) - eGFR慢性标准**：我们必须找到两次eGFR测量值  60 且相隔至少 $90$ 天。\n  - eGFR测量值为 $(50, 45)$, $(130, 46)$, $(220, 47)$。\n  - 所有三次测量的 eGFR 都  60。我们需要检查这些测量值对之间的时间差。\n  - 第1对：第 $50$ 天和第 $130$ 天。时间差为 $|130 - 50| = 80$ 天。$80  90$。\n  - 第2对：第 $50$ 天和第 $220$ 天。时间差为 $|220 - 50| = 170$ 天。$170 \\ge 90$。这对测量满足条件。我们无需再检查。\n- **结论**：两个条件都满足。患者 $P_{5}$ 是CKD病例。\n\n**患者 $P_{6}$**\n- **条件(ii) - AKI排除标准**：该患者没有AKI代码。此条件满足。\n- **条件(i) - eGFR慢性标准**：我们必须找到两次eGFR测量值  60 且相隔至少 $90$ 天。\n  - eGFR测量值为 $(10, 58)$, $(90, 58)$, $(180, 58)$, $(270, 58)$。\n  - 所有四次测量的 eGFR 都  60。我们需要检查是否存在相隔至少 $90$ 天的一对测量日期。\n  - 让我们检查包含第一次测量（第 $t_1=10$ 天）的组合。\n  - 与 $t_2=90$ 组合：$|90 - 10| = 80$ 天。$80  90$。\n  - 与 $t_3=180$ 组合：$|180 - 10| = 170$ 天。$170 \\ge 90$。这对测量满足条件。\n- **结论**：两个条件都满足。患者 $P_{6}$ 是CKD病例。\n\n**最终计数**\n满足CKD病例定义的患者是 $P_{1}$、$P_{3}$、$P_{5}$ 和 $P_{6}$。\n归类为CKD病例的患者总数为 $4$。", "answer": "$$\\boxed{4}$$", "id": "4829914"}, {"introduction": "一个表型模型的灵敏度（sensitivity, $s$）和特异性（specificity, $c$）等内在性能指标并不能完全反映其在真实世界中的价值。本练习将引导你运用贝叶斯定理，计算阳性预测值（PPV）和阴性预测值（NPV），这两个指标对于理解模型在特定患病率人群中的实际表现至关重要 [@problem_id:4829979]。通过这个计算，你将能更好地评估模型的临床部署策略，尤其是在处理假阳性警报方面。", "problem": "一家医院计划在其电子健康记录 (EHR) 系统中部署一个计算表型模型，用于识别成年住院患者中与一种高风险潜伏性疾病相对应的表型。在目标部署人群中，该疾病的患病率为 $\\pi = 0.1$。模型的内部验证显示其灵敏度为 $s = 0.9$，特异度为 $c = 0.95$。请仅使用灵敏度和特异度的定义以及 Bayes 定理，推导出以 $\\pi$、$s$ 和 $c$ 表示的阳性预测值 (PPV) 和阴性预测值 (NPV) 的表达式，然后根据给定的输入计算它们的值。最后，简要解释这些结果在假阳性、假阴性方面对临床部署意味着什么，以及该模型在工作流程中可能如何定位。\n\n报告阳性预测值和阴性预测值，以小数形式表示，并四舍五入到四位有效数字。最终数值中请勿使用百分号。", "solution": "所述问题具有科学依据，提法明确，并包含了完整解答所需的所有信息。这是一个将贝叶斯统计应用于诊断或预测模型评估的标准案例，这也是医学信息学和生物统计学中的一个核心概念。因此，该问题是有效的，我们可以着手解答。\n\n设 $D$ 表示患者患有该疾病的事件，$D^c$ 表示患者未患该疾病的事件。设 $T$ 表示计算表型模型给出阳性测试结果的事件，$T^c$ 表示给出阴性测试结果的事件。\n\n给定条件可以正式地表示为以下概率：\n1.  疾病的患病率 $\\pi$ 是指患者患有该疾病的先验概率：$P(D) = \\pi = 0.1$。\n2.  因此，患者未患该疾病的概率为 $P(D^c) = 1 - P(D) = 1 - \\pi = 1 - 0.1 = 0.9$。\n3.  模型的灵敏度 $s$ 是指在患者患有该疾病的条件下测试结果为阳性的概率（即真阳性率）：$P(T|D) = s = 0.9$。\n4.  模型的特异度 $c$ 是指在患者未患该疾病的条件下测试结果为阴性的概率（即真阴性率）：$P(T^c|D^c) = c = 0.95$。\n\n根据这些定义，我们还可以推导出另外两个条件概率：\n- 假阳性率，即在患者未患该疾病的条件下测试结果为阳性的概率：$P(T|D^c) = 1 - P(T^c|D^c) = 1 - c$。\n- 假阴性率，即在患者患有该疾病的条件下测试结果为阴性的概率：$P(T^c|D) = 1 - P(T|D) = 1 - s$。\n\n题目要求推导和计算阳性预测值 ($PPV$) 和阴性预测值 ($NPV$)。\n\n**1. 阳性预测值 ($PPV$)**\n\n$PPV$ 是指在测试结果为阳性的条件下，患者确实患有该疾病的概率，记为 $P(D|T)$。根据 Bayes 定理：\n$$\nPPV = P(D|T) = \\frac{P(T|D)P(D)}{P(T)}\n$$\n为了求得 $P(T)$，即阳性测试的总概率，我们使用全概率公式，对患病与否这两种互斥情况进行求和：\n$$\nP(T) = P(T|D)P(D) + P(T|D^c)P(D^c)\n$$\n代入符号定义：\n$$\nP(T) = s\\pi + (1-c)(1-\\pi)\n$$\n现在，将这个 $P(T)$ 的表达式代回 $PPV$ 的 Bayes 定理公式中：\n$$\nPPV = \\frac{s\\pi}{s\\pi + (1-c)(1-\\pi)}\n$$\n这就是所要求的用 $\\pi$、$s$ 和 $c$ 表示的 $PPV$ 表达式。\n\n现在，我们使用给定的输入计算其数值：$\\pi = 0.1$，$s = 0.9$，$c = 0.95$。\n$$\nPPV = \\frac{(0.9)(0.1)}{(0.9)(0.1) + (1 - 0.95)(1 - 0.1)} = \\frac{0.09}{0.09 + (0.05)(0.9)} = \\frac{0.09}{0.09 + 0.045} = \\frac{0.09}{0.135}\n$$\n$$\nPPV = \\frac{90}{135} = \\frac{2}{3} \\approx 0.66666...\n$$\n四舍五入到四位有效数字，$PPV$ 为 $0.6667$。\n\n**2. 阴性预测值 ($NPV$)**\n\n$NPV$ 是指在测试结果为阴性的条件下，患者确实未患该疾病的概率，记为 $P(D^c|T^c)$。再次使用 Bayes 定理：\n$$\nNPV = P(D^c|T^c) = \\frac{P(T^c|D^c)P(D^c)}{P(T^c)}\n$$\n为了求得 $P(T^c)$，即阴性测试的总概率，我们再次使用全概率公式：\n$$\nP(T^c) = P(T^c|D^c)P(D^c) + P(T^c|D)P(D)\n$$\n代入符号定义：\n$$\nP(T^c) = c(1-\\pi) + (1-s)\\pi\n$$\n现在，将这个 $P(T^c)$ 的表达式代回 $NPV$ 的 Bayes 定理公式中：\n$$\nNPV = \\frac{c(1-\\pi)}{c(1-\\pi) + (1-s)\\pi}\n$$\n这就是所要求的用 $\\pi$、$s$ 和 $c$ 表示的 $NPV$ 表达式。\n\n现在，我们计算其数值：\n$$\nNPV = \\frac{(0.95)(1-0.1)}{(0.95)(1-0.1) + (1-0.9)(0.1)} = \\frac{(0.95)(0.9)}{(0.95)(0.9) + (0.1)(0.1)} = \\frac{0.855}{0.855 + 0.01} = \\frac{0.855}{0.865}\n$$\n$$\nNPV = \\frac{855}{865} \\approx 0.9884393...\n$$\n四舍五入到四位有效数字，$NPV$ 为 $0.9884$。\n\n**3. 对临床部署的启示**\n\n- **阳性预测值 ($PPV \\approx 0.6667$):** 这个结果表明，当模型将一名患者标记为阳性时，该患者实际患有该疾病的概率为 $66.7\\%$。反过来说，这意味着大约 $1/3$ 的阳性警报 ($1 - 0.6667 \\approx 0.3333$) 是假阳性。大量的假阳性可能导致临床医生的警报疲劳、不必要的后续检测（这本身也带有风险和成本）以及给患者带来不必要的焦虑。因此，该模型的阳性结果不应用于作出最终诊断或启动高风险的干预措施。\n\n- **阴性预测值 ($NPV \\approx 0.9884$):** 这个结果是该模型的主要优势。它表明，当模型将一名患者标记为阴性时，该患者确实未患该疾病的概率高达 $98.8\\%$。在检测结果为阴性的患者中，假阴性的比率非常低（$1 - 0.9884 = 0.0116$，约为 $1.16\\%$）。对阴性结果的这种高度置信度是极具价值的。\n\n- **工作流程定位：** 鉴于其中等的 $PPV$ 和非常高的 $NPV$，该模型最适合定位为一种**筛查或排除性工具**。其主要的临床效用在于可靠地识别出大量患病风险极低的患者群体，从而可以将临床注意力和资源集中到其他地方。对于筛查结果为阳性的患者，该警报应被视为一个触发信号，用以进行进一步、更具决定性的诊断检查，以便在采取任何重大临床行动之前确认疾病的存在。由于其假阳性率较高，该模型不适合作为独立的诊断性“确诊”(rule-in)工具。", "answer": "$$\n\\boxed{\\begin{pmatrix} 0.6667  0.9884 \\end{pmatrix}}\n$$", "id": "4829979"}, {"introduction": "大量宝贵的患者信息蕴藏在非结构化的临床文本记录中。本练习模拟了一项常见的基于自然语言处理（NLP）的表型分析任务，你将学习如何对文本中提到的临床概念进行“断言状态”标准化，例如区分肯定、否定和历史提及 [@problem_id:4830001]。这个过程展示了如何将原始文本转化为可用于预测模型的量化特征，从而解锁文本数据中的深刻洞见。", "problem": "一位患者的临床语料库包含两条笔记片段：\n1) “no history of Chronic Obstructive Pulmonary Disease (COPD),” (无慢性阻塞性肺疾病（COPD）史)\n2) “COPD exacerbation last year.” (去年COPD急性加重)\n\n在计算表型分析中，断言规范化将原始提及映射到分类特征，这些特征同时编码了断言状态（肯定与否定）和时间性（当前与历史）。此项任务的基础是：\n\n- 临床自然语言处理（NLP）中常用的断言类别定义：当前肯定、历史肯定和否定（在临床NLP评估和表型分析流程中被广泛采用）。\n- 带有logit链接函数的广义线性模型，该模型将表型的对数几率与规范化特征的线性组合相关联。\n\n按如下方式构建规范化特征。设$x_{\\text{present}}$为COPD的当前肯定提及次数，$x_{\\text{historical}}$为COPD的历史肯定提及次数，$x_{\\text{negated}}$为COPD的否定提及次数。将每个片段视为一次独立的提及，使用基于规则的线索（如明确的否定词“no”和时间指示词“history”、“last year”）按断言和时间性进行分类。汇总所有片段的计数以获得$(x_{\\text{present}}, x_{\\text{historical}}, x_{\\text{negated}})$。\n\n一个表型分析模型使用带有logit链接函数的广义线性模型来预测患者当前患有COPD的概率$p$。模型系数为 $\\beta_{0} = -2.5$，$\\beta_{\\text{present}} = 2.0$，$\\beta_{\\text{historical}} = 1.2$ 和 $\\beta_{\\text{negated}} = -1.5$。\n\n使用断言规范化从两条片段中生成$(x_{\\text{present}}, x_{\\text{historical}}, x_{\\text{negated}})$，计算模型所隐含的当前COPD的预测概率$p$。将$p$表示为小数，并四舍五入到四位有效数字。", "solution": "首先对问题进行验证，以确保其科学性、适定性和客观性。\n\n### 步骤1：提取已知信息\n- **临床片段**：\n  1. “no history of Chronic Obstructive Pulmonary Disease (COPD),”\n  2. “COPD exacerbation last year.”\n- **断言类别**：`当前肯定`、`历史肯定`、`否定`。\n- **特征定义**：\n  - $x_{\\text{present}}$：`当前肯定`提及的次数。\n  - $x_{\\text{historical}}$：`历史肯定`提及的次数。\n  - $x_{\\text{negated}}$：`否定`提及的次数。\n- **特征提取方法**：基于线索（例如“no”、“history”、“last year”）的规则分类和计数汇总。\n- **模型类型**：带有logit链接函数的广义线性模型。\n- **模型系数**：\n  - 截距：$\\beta_{0} = -2.5$\n  - `当前肯定`的权重：$\\beta_{\\text{present}} = 2.0$\n  - `历史肯定`的权重：$\\beta_{\\text{historical}} = 1.2$\n  - `否定`的权重：$\\beta_{\\text{negated}} = -1.5$\n- **目标**：计算当前COPD的预测概率$p$。\n- **输出要求**：将$p$表示为小数，并四舍五入到四位有效数字。\n\n### 步骤2：使用提取的已知信息进行验证\n该问题在医学信息学中计算表型分析的既定实践中具有科学依据，利用临床自然语言处理（NLP）进行特征提取和逻辑回归进行预测。所用方法是标准且有效的。该问题是适定的，提供了所有必要的数据（文本片段）、清晰的特征提取流程以及一个包含所有系数的完整预测模型。语言客观、精确。该问题是自洽且内部一致的。因此，该问题被认定为**有效**。\n\n### 步骤3：求解推导\n求解过程分三个阶段：首先，从临床片段中提取特征计数；其次，使用给定的模型计算线性预测器（对数几率）；第三，将对数几率转换为概率。\n\n**1. 断言规范化与特征提取**\n\n我们分析每个片段以确定其断言类别，然后汇总计数以形成特征向量$(x_{\\text{present}}, x_{\\text{historical}}, x_{\\text{negated}})$。\n\n- **片段1**：“no history of Chronic Obstructive Pulmonary Disease (COPD),”\n  线索“no”明确否定了对COPD的提及。根据问题定义的类别，这属于`否定`状态。因此，该片段对$x_{\\text{negated}}$的贡献计数为$1$。\n\n- **片段2**：“COPD exacerbation last year.”\n  短语“last year”是一个时间指示词，将事件置于过去。该陈述是对过去事件的肯定。因此，此片段对应于`历史肯定`类别，对$x_{\\text{historical}}$的贡献计数为$1$。\n\n没有片段表明当前有活动的COPD病例。因此，`当前肯定`的计数为$0$。\n\n汇总这些计数，我们得到特征向量：\n- $x_{\\text{present}} = 0$\n- $x_{\\text{historical}} = 1$\n- $x_{\\text{negated}} = 1$\n\n**2. 线性预测器（对数几率）的计算**\n\n带有logit链接函数的广义线性模型（即逻辑回归模型）预测结果的对数几率，记为$\\eta$。线性预测器的公式为：\n$$ \\eta = \\beta_0 + \\beta_{\\text{present}} x_{\\text{present}} + \\beta_{\\text{historical}} x_{\\text{historical}} + \\beta_{\\text{negated}} x_{\\text{negated}} $$\n我们将给定的系数和提取的特征值代入此方程：\n- $\\beta_{0} = -2.5$\n- $\\beta_{\\text{present}} = 2.0$\n- $\\beta_{\\text{historical}} = 1.2$\n- $\\beta_{\\text{negated}} = -1.5$\n- $x_{\\text{present}} = 0$\n- $x_{\\text{historical}} = 1$\n- $x_{\\text{negated}} = 1$\n\n计算如下：\n$$ \\eta = -2.5 + (2.0 \\times 0) + (1.2 \\times 1) + (-1.5 \\times 1) $$\n$$ \\eta = -2.5 + 0 + 1.2 - 1.5 $$\n$$ \\eta = -2.5 - 0.3 $$\n$$ \\eta = -2.8 $$\n这个值$\\eta = -2.8$表示患者当前患有COPD的对数几率。\n\n**3. 转换为概率**\n\n通过将逻辑函数（logit链接函数的反函数）应用于对数几率$\\eta$，可以得到概率$p$：\n$$ p = \\frac{1}{1 + \\exp(-\\eta)} $$\n代入计算出的$\\eta = -2.8$值：\n$$ p = \\frac{1}{1 + \\exp(-(-2.8))} $$\n$$ p = \\frac{1}{1 + \\exp(2.8)} $$\n现在，我们计算数值。\n$$ \\exp(2.8) \\approx 16.44464677 $$\n$$ p \\approx \\frac{1}{1 + 16.44464677} = \\frac{1}{17.44464677} $$\n$$ p \\approx 0.057319601... $$\n问题要求答案四舍五入到四位有效数字。第一位有效数字是$5$，其后是$7$、$3$和$1$。第五位有效数字是$9$，这意味着我们将第四位有效数字向上取整。\n$$ p \\approx 0.05732 $$\n因此，预测该患者当前患有COPD的概率为$0.05732$。", "answer": "$$\\boxed{0.05732}$$", "id": "4830001"}]}