{"hands_on_practices": [{"introduction": "在临床研究中，许多关键指标（如身体质量指数 $BMI$）是通过电子数据采集（EDC）系统从原始测量值中衍生计算得出的。为了确保数据的准确性和可追溯性，这个过程必须遵循严格的单位换算规则和数据完整性原则。本实践将引导你从基本物理量纲分析出发，推导 $BMI$ 的计算公式，并为一个包含数据修正的场景构建符合ALCOA+原则的完整审计追踪记录 [@problem_id:4844350]。", "problem": "一个申办方将临床试验管理系统（CTMS）与电子数据采集（EDC）平台集成，以便为每位受试者计算一个名为身体质量指数的派生变量。EDC必须根据“体重”和“身高”这两个原始数据字段计算该指数，同时保持量纲一致性，并为输入和派生输出维护一个完全合规的稽查轨迹。假设EDC在计算派生指数之前，会将输入值标准化为国际单位制（SI）单位。使用以下经过充分检验的换算关系：$1$ 磅等于 $0.45359237$ 千克，以及 $1$ 厘米等于 $0.01$ 米。\n\n仅从国际单位制（SI）基本量和量纲分析出发，并将身体质量指数的临床惯例视为一个由质量和身高构建的指数，执行以下操作：\n\n1. 推导EDC必须实现的、用于根据质量 $m$ 和身高 $h$ 计算身体质量指数的解析表达式，并进行单位检验以验证量纲一致性。\n2. 将以下原始稽查轨迹输入值标准化为SI单位，根据这些标准化值计算初始的派生身体质量指数，然后在修正后重新计算，并确定最终的身体质量指数：\n   - 初始录入事件：体重 $w_0 = 154$ 磅，身高 $h_0 = 170$ 厘米。\n   - 修正事件：体重 $w_1 = 70.0$ 千克，身高 $h_1 = 1.72$ 米。\n3. 为两次事件中的输入和派生输出指定稽查轨迹条目，方法是为每个事件和每个字段列出元组 $(\\text{field}, \\text{old\\_value}, \\text{old\\_unit}, \\text{new\\_value}, \\text{new\\_unit}, \\text{actor}, \\text{reason}, \\text{timestamp}, \\text{source})$。您可以将执行者、时间戳和来源象征性地表示为事件索引 $i$ 对应的 $\\text{actor}_i$、$\\text{time}_i$ 和 $\\text{source}_i$。\n\n将您的最终身体质量指数四舍五入至四位有效数字。以 $\\mathrm{kg}/\\mathrm{m}^2$ 为单位表示最终的身体质量指数。", "solution": "所述问题具有科学依据，提法恰当且客观。它基于量纲分析、单位换算以及临床研究信息学中的数据管理实践等标准原则。所有必要信息均已提供，问题内部一致且可形式化。因此，我们可以进行完整求解。\n\n该问题需要一个分三部分的分析：首先，从基本原理推导身体质量指数（BMI）公式；其次，根据一组初始测量值和修正后的测量值为一名受试者计算BMI；第三，详细说明相应的稽查轨迹条目。\n\n**1. 身体质量指数的推导与量纲分析**\n\n问题指明，身体质量指数是一个由质量和身高构建的指数，其最终单位必须是 $\\mathrm{kg}/\\mathrm{m}^2$。我们从国际单位制（SI）中质量和长度（身高）的基本量开始。在量纲分析的语言中，质量的量纲用 $M$ 表示，长度的量纲用 $L$ 表示。\n\n设受试者的质量为 $m$，身高为 $h$。\n质量 $m$ 的量纲为 $[m] = M$。\n身高 $h$ 的量纲为 $[h] = L$。\n\n身体质量指数，我们记为 $I_{BM}$，被定义为质量和身高的组合。我们可以将这种关系表示为幂的乘积：\n$$I_{BM} \\propto m^a h^b$$\n其中 $a$ 和 $b$ 是我们必须确定的无量纲指数。\n\n$I_{BM}$ 的量纲可以从其单位——千克每平方米（$\\mathrm{kg}/\\mathrm{m}^2$）——中得出。用基本量纲表示，即为：\n$$[I_{BM}] = \\frac{M}{L^2} = M^1 L^{-2}$$\n\n现在，我们将 $I_{BM}$ 的两个表达式的量纲相等：\n$$[m^a h^b] = [I_{BM}]$$\n$$[m]^a [h]^b = M^1 L^{-2}$$\n$$(M)^a (L)^b = M^1 L^{-2}$$\n\n为使该量纲方程成立，两边各基本量纲的指数必须相等。\n令质量（$M$）的指数相等：\n$$a = 1$$\n令长度（$L$）的指数相等：\n$$b = -2$$\n\n将这些指数代回 $I_{BM}$ 的表达式，我们发现它与 $m^1 h^{-2}$ 成正比。身体质量指数的标准惯例将比例常数设为 $1$。因此，电子数据采集（EDC）系统必须实现的解析表达式为：\n$$I_{BM} = \\frac{m}{h^2}$$\n\n为验证量纲一致性，我们进行单位检验。鉴于EDC将输入标准化为SI单位，质量 $m$ 的单位将是千克（$\\mathrm{kg}$），身高 $h$ 的单位将是米（$\\mathrm{m}$）。计算出的 $I_{BM}$ 的单位是：\n$$\\text{Units}(I_{BM}) = \\frac{\\text{Units}(m)}{(\\text{Units}(h))^2} = \\frac{\\mathrm{kg}}{\\mathrm{m}^2}$$\n这与要求的单位相符，证实了所推导的表达式在量纲上是一致的。\n\n**2. 身体质量指数的标准化与计算**\n\n问题提供了两个事件的数据：一次初始录入和一次后续修正。EDC系统被要求在计算前将所有输入标准化为SI单位。\n\n**初始录入事件（事件0）：**\n记录的原始数据为体重 $w_0 = 154$ 磅和身高 $h_0 = 170$ 厘米。我们必须将这些值转换为SI单位，即质量的单位千克（$\\mathrm{kg}$）和身高的单位米（$\\mathrm{m}$）。\n\n首先，我们将体重 $w_0$ 标准化为以千克为单位的质量 $m_0$。使用提供的换算因子，$1 \\text{ 磅} = 0.45359237 \\text{ kg}$：\n$$m_0 = 154 \\text{ lb} \\times \\frac{0.45359237 \\text{ kg}}{1 \\text{ lb}} = 69.85322498 \\text{ kg}$$\n\n接着，我们将身高 $h_0$ 标准化为以米为单位的 $h_{0,SI}$。使用换算因子 $1 \\text{ cm} = 0.01 \\text{ m}$：\n$$h_{0,SI} = 170 \\text{ cm} \\times \\frac{0.01 \\text{ m}}{1 \\text{ cm}} = 1.70 \\text{ m}$$\n\n现在，我们使用推导出的公式和标准化的SI值计算初始身体质量指数 $I_{BM,0}$：\n$$I_{BM,0} = \\frac{m_0}{h_{0,SI}^2} = \\frac{69.85322498 \\text{ kg}}{(1.70 \\text{ m})^2} = \\frac{69.85322498}{2.89} \\text{ kg/m}^2 \\approx 24.170666... \\text{ kg/m}^2$$\n\n**修正事件（事件1）：**\n进行了一次修正，提供了新的数值：体重 $w_1 = 70.0$ 千克和身高 $h_1 = 1.72$ 米。这些数值已经是SI单位。\n\n修正后的质量为 $m_1 = 70.0 \\text{ kg}$。\n修正后的身高为 $h_1 = 1.72 \\text{ m}$。\n\nEDC系统使用这些新值重新计算身体质量指数。这个值 $I_{BM,1}$ 代表该受试者的最终身体质量指数。\n$$I_{BM,1} = \\frac{m_1}{h_1^2} = \\frac{70.0 \\text{ kg}}{(1.72 \\text{ m})^2} = \\frac{70.0}{2.9584} \\text{ kg/m}^2 \\approx 23.661032... \\text{ kg/m}^2$$\n\n问题要求将最终的身体质量指数四舍五入到四位有效数字。\n$$I_{BM,1} \\approx 23.66 \\text{ kg/m}^2$$\n\n**3. 稽查轨迹规范**\n\n一个合规的稽查轨迹必须不可更改地记录所有数据变更。对于每个事件，我们为每个受影响的字段指定所需的元组 $(\\text{field}, \\text{old\\_value}, \\text{old\\_unit}, \\text{new\\_value}, \\text{new\\_unit}, \\text{actor}, \\text{reason}, \\text{timestamp}, \\text{source})$。我们按照规定使用符号占位符 $\\text{actor}_i$、$\\text{time}_i$ 和 $\\text{source}_i$，并将未定义的初始值表示为 `null`。$I_{BM}$ 的中间数值以适合系统日志的精度报告。\n\n**事件0：初始数据录入** ($\\text{actor}_0, \\text{time}_0, \\text{source}_0$)\n*   **体重字段：** $(\\text{Weight}, \\text{null}, \\text{null}, 154, \\text{pounds}, \\text{actor}_0, \\text{\"Initial data entry\"}, \\text{time}_0, \\text{source}_0)$\n*   **身高字段：** $(\\text{Height}, \\text{null}, \\text{null}, 170, \\text{centimeters}, \\text{actor}_0, \\text{\"Initial data entry\"}, \\text{time}_0, \\text{source}_0)$\n*   **BMI字段（派生）：** $(\\text{BMI}, \\text{null}, \\text{null}, 24.1707, \\text{kg/m}^2, \\text{EDC System}, \\text{\"Derived from initial inputs\"}, \\text{time}_0, \\text{EDC System})$\n\n**事件1：测量值修正** ($\\text{actor}_1, \\text{time}_1, \\text{source}_1$)\n*   **体重字段：** $(\\text{Weight}, 154, \\text{pounds}, 70.0, \\text{kilograms}, \\text{actor}_1, \\text{\"Correction of measurement\"}, \\text{time}_1, \\text{source}_1)$\n*   **身高字段：** $(\\text{Height}, 170, \\text{centimeters}, 1.72, \\text{meters}, \\text{actor}_1, \\text{\"Correction of measurement\"}, \\text{time}_1, \\text{source}_1)$\n*   **BMI字段（派生）：** $(\\text{BMI}, 24.1707, \\text{kg/m}^2, 23.6610, \\text{kg/m}^2, \\text{EDC System}, \\text{\"Re-derived from updated inputs\"}, \\text{time}_1, \\text{EDC System})$\n\n按要求四舍五入后的最终身体质量指数，由最后一次有效计算确定。\n最终身体质量指数 $= 23.66 \\text{ kg/m}^2$。", "answer": "$$\\boxed{23.66}$$", "id": "4844350"}, {"introduction": "全球临床试验的数据管理面临着处理不同时区的复杂挑战，尤其是在夏令时（DST）转换期间。行业最佳实践是使用协调世界时（UTC）存储时间戳，但在临床操作（如计算访视窗口）中必须依据研究中心当地时间进行。本练习将通过一个具体案例，揭示在存在夏令时转换时，不恰当的时间计算方法（如单纯基于UTC的算法）如何导致方案偏离，从而强调了在临床信息系统中进行精确时区处理的重要性 [@problem_id:4844311]。", "problem": "纽约的一个临床试验中心遵循当地民用时间，并实行夏令时 (DST)。该试验使用临床试验管理系统 (CTMS) 和电子数据采集 (EDC) 平台来记录时间戳。请将以下定义和事实作为推理的基础：\n\n- 协调世界时 (UTC) 是一个统一的时间尺度。中心当地的民用时间是通过加上一个特定于中心的偏移量得出的，该偏移量会随着夏令时而改变。形式上，如果系统中存储的时间戳是 $t_{\\mathrm{UTC}}$，那么相应的当地民用时间是 $t_{\\mathrm{local}} = t_{\\mathrm{UTC}} + \\Delta(t_{\\mathrm{UTC}})$，其中 $\\Delta(\\cdot)$ 是中心时区偏移函数。对于2024年末的纽约，$\\Delta(t)$ 是分段的：在东部夏令时 (EDT) 期间为 $-4\\,\\mathrm{h}$，在11月初夏令时转换后的东部标准时间 (EST) 期间为 $-5\\,\\mathrm{h}$。\n- 方案中的临床访视窗口是相对于中心当地的民用时间定义的。如果下一次访视的目标是 $t_0 + 28\\,\\mathrm{d}$（基线当地时间戳 $t_0$ 后的二十八个日历日），且允许的窗口期为 $\\pm 3\\,\\mathrm{d}$，那么其预期解释是，允许的当地民用时间介于 $(t_0 + 28\\,\\mathrm{d}) - 72\\,\\mathrm{h}$ 和 $(t_0 + 28\\,\\mathrm{d}) + 72\\,\\mathrm{h}$ 之间，以当地民用时间计算。\n\n一名受试者的基线访视于 $2024$ 年 10 月 15 日当地时间 (EDT) $10{:}00$ 在该中心被记录，EDC 将其存储为 $t_{0,\\mathrm{UTC}} = 14{:}00$ UTC（因为在夏令时转换前 $\\Delta = -4\\,\\mathrm{h}$）。方案规定的下一次访视目标是当地民用时间 $t_0 + 28\\,\\mathrm{d}$，窗口期为 $\\pm 3\\,\\mathrm{d}$。发生了两种实际的访视情况：\n\n- 情况1：$2024$ 年 11 月 12 日当地时间 (EST) $09{:}30$，EDC 将其存储为 $t_{1,\\mathrm{UTC}} = 14{:}30$ UTC（因为在夏令时转换后 $\\Delta = -5\\,\\mathrm{h}$）。\n- 情况2：$2024$ 年 11 月 15 日当地时间 (EST) $09{:}30$，EDC 将其存储为 $t_{2,\\mathrm{UTC}} = 14{:}30$ UTC。\n\n数据管理团队提出了两种用于计算访视窗口的备选算法：\n- 算法 L (基于当地时间)：在当地民用时间中计算窗口边界为 $(t_0 + 28\\,\\mathrm{d}) \\pm 72\\,\\mathrm{h}$，并通过将其当地民用时间与这些边界进行比较来对访视进行分类。\n- 算法 U (基于UTC)：在 UTC 中计算窗口边界为 $(t_{0,\\mathrm{UTC}} + 28 \\times 24\\,\\mathrm{h}) \\pm 72\\,\\mathrm{h}$，并通过将其存储的 UTC 时间戳与这些边界进行比较来对访视进行分类，仅在显示时转换为当地时间。\n\n哪个选项最能说明正确的存储/显示区别和正确的访视窗口计算方法，并正确描述了由情况1和情况2所展示的与夏令时相关的陷阱？\n\nA. EDC 应完全使用协调世界时 (UTC) 和单一固定偏移量来存储和计算访视窗口，因为夏令时不会影响窗口计算；情况1和情况2都在窗口期内。\n\nB. EDC 应以 UTC 存储时间戳，但以当地民用时间显示；访视窗口必须使用时区规则（包括夏令时）在中心当地民用时间中计算。根据算法 L，情况1和情况2都在窗口期内；由于一小时的夏令时转换，算法 U 可能会错误分类情况2。\n\nC. EDC 应仅以当地民用时间进行存储和计算以避免夏令时问题；情况1在窗口期内，情况2在窗口期外。\n\nD. EDC 应以 UTC 存储时间戳；转换为当地时间显示是可选的。通过将 UTC 经过的秒数除以 $24\\,\\mathrm{h}$ 来计算天数是足够的，因为夏令时不会影响天数计算；情况1和情况2都在窗口期内，且算法 U 等同于算法 L。", "solution": "所提供的问题陈述是有效的。它科学地基于计时原则（UTC、当地时间、夏令时），问题定义明确、客观，并包含足够的信息以推导出唯一解。该场景是临床数据管理中一个现实且关键的问题。\n\n问题的核心在于当发生夏令时 (DST) 转换时，如何解释以“天”为单位定义的访视窗口。方案规定访视窗口是相对于当地民用时间定义的。这是指导原则。我们必须根据此原则评估提出的两种算法，L (基于当地时间) 和 U (基于UTC)。\n\n**1. 算法 L (基于当地时间) 的分析**\n\n该算法直接实现了方案的定义。计算在临床试验中心的当地时间域中执行。\n\n- **基线访视 ($t_0$)**：$2024$ 年 10 月 15 日，当地时间 (EDT) $10{:}00$。\n- **目标访视时间**：方案指定目标为 $t_0 + 28\\,\\mathrm{d}$。将 $28$ 个日历日加到 $2024$ 年 10 月 15 日，得出 $2024$ 年 11 月 12 日。因此，目标时间是 $2024$ 年 11 月 12 日，当地时间 $10{:}00$。到这个日期，纽约已经转换为东部标准时间 (EST)。\n- **访视窗口边界**：窗口期为目标当地时间前后的 $\\pm 3\\,\\mathrm{d}$，即指定为 $\\pm 72\\,\\mathrm{h}$。\n    - **窗口开始时间**：$2024$ 年 11 月 12 日，当地时间 $10{:}00$ 减去 $72$ 小时，即 **$2024$ 年 11 月 9 日，$10{:}00$ EST**。\n    - **窗口结束时间**：$2024$ 年 11 月 12 日，当地时间 $10{:}00$ 加上 $72$ 小时，即 **$2024$ 年 11 月 15 日，$10{:}00$ EST**。\n- **情况分类**：\n    - **情况1**：访视发生在 $2024$ 年 11 月 12 日 $09{:}30$ EST。此时间在区间 [11月9日, $10{:}00$ EST, 11月15日, $10{:}00$ EST] 之内。因此，**情况1在窗口期内**。\n    - **情况2**：访视发生在 $2024$ 年 11 月 15 日 $09{:}30$ EST。此时间也在区间 [11月9日, $10{:}00$ EST, 11月15日, $10{:}00$ EST] 之内，因为它正好在当天 $10{:}00$ EST 窗口关闭之前。因此，**情况2在窗口期内**。\n\n**算法 L 的结论**：两次访视都被正确地分类为在方案定义的窗口期内。该算法遵守了问题陈述中关于如何解释访视窗口的定义。\n\n**2. 算法 U (基于UTC) 的分析**\n\n该算法试图通过将一天近似为 $24$ 小时的固定时长，在统一的时间尺度 (UTC) 中执行计算。\n\n- **基线访视 ($t_{0,\\mathrm{UTC}}$)**：$2024$ 年 10 月 15 日，$14{:}00$ UTC。\n- **UTC“目标”时间**：该算法将其计算为 $t_{0,\\mathrm{UTC}} + 28 \\times 24\\,\\mathrm{h}$。\n    - $28 \\times 24\\,\\mathrm{h} = 672\\,\\mathrm{h}$。\n    - 目标时间 = (10月15日, $14{:}00$ UTC) + $672\\,\\mathrm{h}$ = **$2024$ 年 11 月 12 日，$14{:}00$ UTC**。\n- **UTC 窗口边界**：窗口期为 UTC 目标时间前后的 $\\pm 72\\,\\mathrm{h}$。\n    - **窗口开始时间**：(11月12日, $14{:}00$ UTC) - $72\\,\\mathrm{h}$ = **$2024$ 年 11 月 9 日，$14{:}00$ UTC**。\n    - **窗口结束时间**：(11月12日, $14{:}00$ UTC) + $72\\,\\mathrm{h}$ = **$2024$ 年 11 月 15 日，$14{:}00$ UTC**。\n- **情况分类**：\n    - **情况1 ($t_{1,\\mathrm{UTC}}$)**：访视存储的时间是 $2024$ 年 11 月 12 日 $14{:}30$ UTC。这在区间 [11月9日, $14{:}00$ UTC, 11月15日, $14{:}00$ UTC] 之内。因此，**情况1在窗口期内**。\n    - **情况2 ($t_{2,\\mathrm{UTC}}$)**：访视存储的时间是 $2024$ 年 11 月 15 日 $14{:}30$ UTC。此时间*晚于*计算出的窗口结束时间 $2024$ 年 11 月 15 日 $14{:}00$ UTC。因此，**情况2在窗口期外**。\n\n**3. 算法的比较与评估**\n\n算法 L 遵循了方案基于当地日历时间的定义。算法 U 对情况2给出了不同的结果。这种差异的产生是因为基线访视与后续访视之间的时间间隔跨越了夏令时转换。具体来说，$2024$ 年 11 月 3 日从 EDT“回拨”到 EST，产生了一个长达 $25$ 小时的本地日。\n\n算法 U 假设一个日历日总是等同于 $24$ 小时（$86400$ 秒）的固定时长，这是错误的。从 $t_0$ 到当地窗口边界的时间间隔，其 UTC 时长并非简单的 $(28+3) \\times 24$ 小时。与 11 月 15 日 $10{:}00$ EST 对应的正确 UTC 窗口结束时间是 11 月 15 日 $15{:}00$ UTC（因为 $10{:}00 + 5\\,\\mathrm{h} = 15{:}00$）。算法 U 计算出的结束时间是 11 月 15 日 $14{:}00$ UTC，这早了一个小时。这个因忽略夏令时转换而产生的一小时误差，导致了对情况2的错误分类。\n\n因此，算法 L 是正确的方法，而算法 U 是一个有缺陷的启发式方法。临床系统的最佳实践是，将所有绝对时间点以 UTC 存储（因为它是单调且无歧义的），但使用能够正确处理特定中心地点的时区规则和夏令时的库函数来执行基于日历的计算（例如访视窗口计算）。结果应以当地时间向用户显示。\n\n**4. 逐项选项分析**\n\nA. 错误。该选项推荐了有缺陷的算法 U，错误地声称夏令时没有影响，并错误地假设了单一固定偏移量。其关于两种情况都在窗口期内的结论是正确的，但其推理和所提出的方法存在严重缺陷且内部矛盾，因为算法 U 会将情况2标记为窗口期外。\n\nB. 正确。该选项准确地描述了时间存储和显示的行业最佳实践。它正确地指出计算必须遵循方案的当地时间定义（算法 L）。它正确地陈述了在算法 L 下两种情况的结果。最后，它正确地指出算法 U 会失败并错误分类情况2，并将失败原因正确地归于一小时的夏令时转换。\n\nC. 错误。以当地时间存储时间是一种不良实践，会产生歧义并使数据聚合复杂化。所述的结果（“情况2在窗口期外”）是有缺陷的算法 U 的结果，而不是正确的算法 L 的结果。\n\nD. 错误。该选项包含多个谬误。以当地时间显示是实际需要，而非可选。声称将 UTC 秒数除以 $24\\,\\mathrm{h}$ “足够”的说法，正是缺陷算法 U 的定义。声称“夏令时不影响天数计算”是其核心谬误。断言算法 U 等同于算法 L 被证明是错误的，情况2的错误分类就是证明。", "answer": "$$\\boxed{B}$$", "id": "4844311"}, {"introduction": "在双盲临床试验中，揭盲是一个关键的里程碑事件，它对数据管理流程有着深远的影响。当设盲数据（如治疗分组）被揭示后，任何依赖于这些数据的衍生字段都必须重新计算，以确保分析的准确性。本实践将通过一个矩阵模型来形式化数据依赖关系，帮助你确定哪些字段需要在揭盲后重新计算，并估算为保存揭盲前数据快照所需的存储空间，从而理解研究生命周期中重大事件对信息系统的要求 [@problem_id:4844334]。", "problem": "一个临床研究团队使用电子数据采集 (EDC) 系统和临床试验管理系统 (CTMS) 来管理一项随机、盲法的肿瘤学研究。在揭盲前，执行了一次中期数据库锁定。EDC中的衍生字段是根据固定的数据谱系从源字段确定性地计算得出的。揭盲后，任何依赖于先前被遮蔽的源字段的衍生字段都必须重新计算以确保分析的正确性，而所有揭盲前的工件（稽查轨迹、衍生日志、快照数据集、病例报告表、质疑和监查报告）必须作为只读快照予以保留。\n\n使用以下适用于临床研究信息学的基本定义和事实：\n- 衍生字段是其源字段的确定性函数。如果一个源字段在揭盲前被遮蔽，那么任何依赖于该源的衍生字段都必须在揭盲后重新计算，以反映未遮蔽的真实情况。\n- 盲法会遮蔽随机化分组代码，并且对于某些领域，会遮蔽依赖于治疗的映射（例如，特定于治疗的实验室参考范围）。揭盲会移除这些遮蔽，这可能会改变下游的衍生输出，即使原始源值本身没有改变。\n\n考虑 $m=8$ 个衍生字段 $D_{1},\\dots,D_{8}$ 和 $n=5$ 个源字段 $S_{1},\\dots,S_{5}$，其依赖矩阵为 $A \\in \\{0,1\\}^{8 \\times 5}$，其中 $a_{ij}=1$ 表示 $D_{i}$ 依赖于 $S_{j}$，否则 $a_{ij}=0$。源字段为：\n- $S_{1}$ 基线体重，\n- $S_{2}$ 给药剂量，\n- $S_{3}$ 不良事件发生日期，\n- $S_{4}$ 揭盲前其依赖于治疗的映射被遮蔽的实验室值，\n- $S_{5}$ 随机化分组代码（揭盲前被遮蔽）。\n\n依赖矩阵为：\n$$\nA=\\begin{bmatrix}\n0  1  0  0  1 \\\\\n0  0  1  0  0 \\\\\n0  0  0  1  0 \\\\\n0  0  0  0  1 \\\\\n0  1  0  0  0 \\\\\n0  0  1  0  1 \\\\\n0  0  1  0  1 \\\\\n0  1  0  0  1\n\\end{bmatrix}.\n$$\n设源的盲法指示向量为 $u \\in \\{0,1\\}^{5}$，如果 $S_{j}$ 在中期锁定时被遮蔽，则 $u_{j}=1$，否则 $u_{j}=0$。在本场景中，\n$$\nu=\\begin{bmatrix}0 \\\\ 0 \\\\ 0 \\\\ 1 \\\\ 1\\end{bmatrix}.\n$$\n\n任务1. 仅使用所提供的定义，确定揭盲后必须重新计算的衍生字段数量 $R$。一个衍生字段当且仅当它依赖于任何在中期锁定时被遮蔽的源字段时，才必须重新计算。\n\n任务2. 计算将所有揭盲前工件保存为只读快照所需的总存储空间。快照必须包括：\n- 每个受影响的衍生字段：一个大小为 $2.5$ 兆字节 (MB) 的衍生日志和一个包含 $150$ 条记录的稽查轨迹，平均每条记录 $3.2$ 千字节 (KB)。\n- 与被遮蔽的依赖关系相交的病例报告表 (CRF) 页面：$N_{s}=85$ 名受试者，每名受试者有 $p_{s}=4$ 个受影响的页面，每个页面平均大小为 $0.7$ MB。\n- 带附件的质疑记录：$Q=210$ 个质疑，平均每个质疑 $1.4$ MB。\n- CTMS 监查报告：$M=25$ 份报告，平均每份报告 $3.8$ MB。\n- 揭盲前快照数据集：每个受影响的衍生字段一个数据集文件，每个文件 $15$ MB。\n\n假设 $1$ 吉字节 (GB) 等于 $1024$ MB，$1$ MB 等于 $1024$ KB。将最终存储需求四舍五入到四位有效数字，并以吉字节为单位表示。将您的最终答案以单行矩阵的两个值的形式报告：第一个条目是 $R$（一个计数），第二个条目是四舍五入到四位有效数字的存储空间（以吉字节为单位）。不要在最终的方框答案中包含单位。", "solution": "该问题需要一个由两部分组成的解决方案：首先，确定揭盲后需要重新计算的衍生字段数量；其次，计算保存所有揭盲前工件快照所需的总存储空间。\n\n该问题已经过验证，被认为是具有科学依据、良定且客观的。所有必要的数据和定义均已提供。\n\n**任务1：确定需要重新计算的衍生字段**\n\n一个衍生字段 $D_{i}$ 当且仅当它依赖于任何在中期锁定时被遮蔽的源字段 $S_{j}$ 时，才必须重新计算。依赖关系由矩阵 $A$ 给出，其中 $a_{ij}=1$ 表示 $D_{i}$ 依赖于 $S_{j}$。源字段的遮蔽状态由向量 $u$ 给出，其中 $u_{j}=1$ 表示源 $S_{j}$ 被遮蔽。\n\n被遮蔽的源字段对应于盲法指示向量 $u$ 中的非零条目：\n$$\nu=\\begin{bmatrix}0 \\\\ 0 \\\\ 0 \\\\ 1 \\\\ 1\\end{bmatrix}\n$$\n非零条目是 $u_{4}=1$ 和 $u_{5}=1$，它们对应于源字段 $S_{4}$（具有依赖于治疗的映射的实验室值）和 $S_{5}$（随机化分组代码）。\n\n如果衍生字段 $D_{i}$ 在矩阵 $A$ 中的依赖行（我们称之为 $A_{i*}$）在任何 $u_j=1$ 的列 $j$ 中有非零条目，则该字段需要重新计算。换句话说，如果存在至少一个 $j \\in \\{1, 2, 3, 4, 5\\}$ 使得 $a_{ij}=1$ 且 $u_{j}=1$，则 $D_{i}$ 必须重新计算。\n\n这个条件可以通过计算一个指示向量 $v \\in \\{0, 1, 2, \\dots\\}^{8}$ 来捕捉，其中每个元素 $v_i$ 是衍生字段 $D_i$ 对被遮蔽源的依赖项之和。这通过矩阵-向量乘积 $v = Au$ 计算。如果其对应的元素 $v_i  0$，则衍生字段 $D_i$ 必须重新计算。\n\n让我们计算向量 $v$：\n$$\nv = A u = \\begin{bmatrix}\n0  1  0  0  1 \\\\\n0  0  1  0  0 \\\\\n0  0  0  1  0 \\\\\n0  0  0  0  1 \\\\\n0  1  0  0  0 \\\\\n0  0  1  0  1 \\\\\n0  0  1  0  1 \\\\\n0  1  0  0  1\n\\end{bmatrix}\n\\begin{bmatrix}0 \\\\ 0 \\\\ 0 \\\\ 1 \\\\ 1\\end{bmatrix}\n$$\n$v$ 的元素计算如下：\n$v_{1} = (0)(0) + (1)(0) + (0)(0) + (0)(1) + (1)(1) = 1$\n$v_{2} = (0)(0) + (0)(0) + (1)(0) + (0)(1) + (0)(1) = 0$\n$v_{3} = (0)(0) + (0)(0) + (0)(0) + (1)(1) + (0)(1) = 1$\n$v_{4} = (0)(0) + (0)(0) + (0)(0) + (0)(1) + (1)(1) = 1$\n$v_{5} = (0)(0) + (1)(0) + (0)(0) + (0)(1) + (0)(1) = 0$\n$v_{6} = (0)(0) + (0)(0) + (1)(0) + (0)(1) + (1)(1) = 1$\n$v_{7} = (0)(0) + (0)(0) + (1)(0) + (0)(1) + (1)(1) = 1$\n$v_{8} = (0)(0) + (1)(0) + (0)(0) + (0)(1) + (1)(1) = 1$\n\n得到的向量是：\n$$\nv = \\begin{bmatrix}1 \\\\ 0 \\\\ 1 \\\\ 1 \\\\ 0 \\\\ 1 \\\\ 1 \\\\ 1\\end{bmatrix}\n$$\n需要重新计算的衍生字段是那些 $v_{i}  0$ 的字段。它们是 $D_{1}$、$D_{3}$、$D_{4}$、$D_{6}$、$D_{7}$ 和 $D_{8}$。这些字段的数量，用 $R$ 表示，是 $v$ 中非零元素的个数。\n$$\nR = \\sum_{i=1}^{8} \\mathbb{I}(v_i  0) = 1+0+1+1+0+1+1+1 = 6\n$$\n因此，有 $R=6$ 个衍生字段受到影响并且必须重新计算。\n\n**任务2：总存储需求计算**\n\n总存储空间是所有揭盲前工件所需存储空间的总和。我们使用 $R=6$ 作为受影响的衍生字段数量。单位换算为 $1$ MB $= 1024$ KB 和 $1$ GB $= 1024$ MB。\n\n1.  衍生日志的存储空间 ($S_{logs}$):\n    $S_{logs} = R \\times 2.5 \\text{ MB} = 6 \\times 2.5 \\text{ MB} = 15 \\text{ MB}$\n\n2.  稽查轨迹的存储空间 ($S_{audit}$):\n    每个轨迹包含 $150$ 个条目，每个条目大小为 $3.2$ KB。\n    每个字段的总 KB 数 = $150 \\times 3.2 \\text{ KB} = 480 \\text{ KB}$。\n    所有受影响字段的总 KB 数 = $R \\times 480 \\text{ KB} = 6 \\times 480 \\text{ KB} = 2880 \\text{ KB}$。\n    转换为 MB： $S_{audit} = \\frac{2880}{1024} \\text{ MB} = 2.8125 \\text{ MB}$。\n\n3.  快照数据集的存储空间 ($S_{datasets}$):\n    $S_{datasets} = R \\times 15 \\text{ MB} = 6 \\times 15 \\text{ MB} = 90 \\text{ MB}$。\n\n4.  病例报告表 (CRF) 页面的存储空间 ($S_{CRF}$):\n    $S_{CRF} = N_{s} \\times p_{s} \\times (\\text{size per page}) = 85 \\times 4 \\times 0.7 \\text{ MB} = 340 \\times 0.7 \\text{ MB} = 238 \\text{ MB}$。\n\n5.  质疑记录的存储空间 ($S_{queries}$):\n    $S_{queries} = Q \\times (\\text{average size per query}) = 210 \\times 1.4 \\text{ MB} = 294 \\text{ MB}$。\n\n6.  CTMS监查报告的存储空间 ($S_{reports}$):\n    $S_{reports} = M \\times (\\text{average size per report}) = 25 \\times 3.8 \\text{ MB} = 95 \\text{ MB}$。\n\n以兆字节为单位的总存储空间 ($S_{total, MB}$) 是这些组成部分的总和：\n$S_{total, MB} = S_{logs} + S_{audit} + S_{datasets} + S_{CRF} + S_{queries} + S_{reports}$\n$S_{total, MB} = 15 + 2.8125 + 90 + 238 + 294 + 95 = 734.8125 \\text{ MB}$。\n\n最后，我们将总存储空间转换为吉字节 ($S_{total, GB}$) 并四舍五入到四位有效数字。\n$S_{total, GB} = \\frac{S_{total, MB}}{1024} = \\frac{734.8125}{1024} \\text{ GB} \\approx 0.717590332 \\text{ GB}$。\n\n四舍五入到四位有效数字：第五位有效数字是 $9$，因此我们将第四位数字向上取整。\n$S_{total, GB} \\approx 0.7176 \\text{ GB}$。\n\n最终答案所需的两个值是 $R=6$ 和以GB为单位的总存储空间 $0.7176$。", "answer": "$$\n\\boxed{\\begin{pmatrix} 6  0.7176 \\end{pmatrix}}\n$$", "id": "4844334"}]}