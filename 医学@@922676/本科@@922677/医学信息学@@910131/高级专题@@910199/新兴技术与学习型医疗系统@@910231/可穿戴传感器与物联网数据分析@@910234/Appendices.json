{"hands_on_practices": [{"introduction": "在分析可穿戴设备数据时，我们面临的首要挑战之一是处理不完整的数据。由于无线连接中断或传感器暂时失效，数据流中经常会出现间隙。这个练习将带你亲手实践一种常见的数据填补技术——线性插值，并计算一个关键的心脏健康指标——心率变异性（HRV）。通过这个过程，你将揭示一个核心原则：看似简单的数据修复方法可能会如何系统性地影响我们对生理信号的解读 [@problem_id:4822393]。", "problem": "在物联网 (IoT) 环境中，一个腕戴式可穿戴心率监测器以 $1$ Hz 的采样率流式传输心率数据，这意味着在时间 $t = 0, 1, 2, \\dots$ 秒时每秒一个样本。由于短暂的无线连接中断，在两个有效样本之间存在一个 $10$ 秒的数据缺失间隙：在间隙之前，时间 $t_0 = 0$ 秒时，心率为 $70$ 次/分钟 (bpm)；在间隙之后，时间 $t_1 = 11$ 秒时，心率为 $80$ 次/分钟 (bpm)。假设在这两个端点样本之间心率呈线性变化，并使用线性插值（通过这两个端点的唯一仿射函数）来填补时间 $t = 1, 2, \\dots, 10$ 秒时的缺失值。使用在时间 $t = 0, 1, \\dots, 11$ 秒上得到的 $12$ 个样本序列，计算该 $12$ 秒时间段内心率时间序列的连续差分均方根 (RMSSD)。将最终的 RMSSD 以次/分钟 (bpm) 为单位表示，并将答案四舍五入到四位有效数字。在你的推理中，从核心定义出发，解释为什么相对于未知的真实生理动态，线性插值会在心率时间序列的变异性指标中引入偏差。", "solution": "该问题是有效的，因为它具有科学依据、问题设定良好、客观，并包含获得唯一解所需的所有必要信息。该场景是信号处理和数据填补在医学信息学中的一个现实应用。\n\n该问题要求我们完成两个主要任务：首先，为通过线性插值填补了缺失数据的心率时间序列计算连续差分均方根 (RMSSD)；其次，解释这种填补方法对变异性指标引入的偏差。\n\n首先，我们建立心率值的时间序列。我们已知两个数据点：在时间 $t_0 = 0$ 秒时，心率为 $H(t_0) = 70$ 次/分钟 (bpm)；在时间 $t_1 = 11$ 秒时，心率为 $H(t_1) = 80$ 次/分钟 (bpm)。数据以 $1$ Hz 的频率采样，因此我们得到一个在整数时间点 $t = 0, 1, 2, \\dots, 11$ 上的点序列。\n\n问题指定使用唯一的仿射函数（一种线性插值形式）来确定在 $t_0$ 和 $t_1$ 之间时间段的心率 $H(t)$。仿射函数的形式为 $H(t) = mt + c$，其中 $m$ 是斜率，$c$ 是 y 轴截距。\n\n斜率 $m$ 由给定的两个点 $(t_0, H(t_0))$ 和 $(t_1, H(t_1))$ 计算得出：\n$$ m = \\frac{H(t_1) - H(t_0)}{t_1 - t_0} = \\frac{80 - 70}{11 - 0} = \\frac{10}{11} $$\n斜率的单位是 bpm/秒。\n\n截距 $c$ 是函数在 $t=0$ 处的值，给定为 $H(0) = 70$ bpm。\n因此，描述该区间内心率的线性函数是：\n$$ H(t) = \\frac{10}{11}t + 70 $$\n\n我们需要考虑从 $t=0$ 到 $t=11$ 的 $12$ 个样本序列。设该序列表示为 $\\{H_i\\}_{i=0}^{11}$，其中 $H_i = H(i)$。这个序列中的值由上述函数对 $i = 0, 1, 2, \\dots, 11$ 生成。\n\n接下来，我们计算这个时间序列的 RMSSD。RMSSD 是心率变异性的一个标准度量，定义为时间序列中连续差分平方的均值的平方根。对于一个包含 $N$ 个样本的序列 $\\{H_i\\}_{i=0}^{N-1}$，其公式为：\n$$ \\text{RMSSD} = \\sqrt{\\frac{1}{N-1} \\sum_{i=0}^{N-2} (H_{i+1} - H_i)^2} $$\n在我们的例子中，样本数量为 $N = 12$。索引 $i$ 的范围从 $0$ 到 $10$。\n\n让我们计算连续差分 $H_{i+1} - H_i$。由于我们的时间序列基于一个线性函数，这个差值将是一个常数。\n$$ H_{i+1} - H_i = \\left(\\frac{10}{11}(i+1) + 70\\right) - \\left(\\frac{10}{11}i + 70\\right) $$\n$$ H_{i+1} - H_i = \\frac{10}{11}(i+1) - \\frac{10}{11}i = \\frac{10}{11}i + \\frac{10}{11} - \\frac{10}{11}i = \\frac{10}{11} $$\n任意两个连续样本之间的差值是恒定的，等于斜率 $m$，即 $\\frac{10}{11}$ bpm。\n\n现在我们可以将此代入 RMSSD 公式。求和项的索引从 $i=0$ 到 $N-2 = 12-2 = 10$。总共有 $11$ 个项。\n$$ \\text{RMSSD} = \\sqrt{\\frac{1}{12-1} \\sum_{i=0}^{10} \\left(\\frac{10}{11}\\right)^2} $$\n$$ \\text{RMSSD} = \\sqrt{\\frac{1}{11} \\sum_{i=0}^{10} \\frac{100}{121}} $$\n由于求和项内的数值是常数，所以和就是项数 ($11$) 乘以该常数值：\n$$ \\text{RMSSD} = \\sqrt{\\frac{1}{11} \\left(11 \\times \\frac{100}{121}\\right)} $$\n$$ \\text{RMSSD} = \\sqrt{\\frac{100}{121}} = \\frac{\\sqrt{100}}{\\sqrt{121}} = \\frac{10}{11} $$\nRMSSD 的精确值是 $\\frac{10}{11}$ bpm。为了给出最终答案，我们必须计算其数值并四舍五入到四位有效数字。\n$$ \\frac{10}{11} \\approx 0.909090... $$\n四舍五入到四位有效数字得到 $0.9091$。\n\n最后，我们来解决问题的概念部分：为什么线性插值会在变异性指标中引入偏差。\nRMSSD 是一种时域指标，旨在量化心率等生理信号中的短期、高频变化。健康的心血管系统在自主神经系统（例如，呼吸性窦性心律失常）的驱动下，表现出复杂的、非线性的瞬时波动。这种固有的生理变异性是健康的关键指标。\n\n根据定义，线性插值用一条直线替换未知的、可能复杂的信号段。直线是一个具有恒定一阶导数的无限平滑函数。在我们离散时间序列的背景下，这意味着连续样本之间的差值是恒定的，正如我们计算的 ($H_{i+1} - H_i = \\frac{10}{11}$)。\n\n这种强制施加的确定性平滑性会带来一个关键后果：它人为地抑制或完全消除了在 $10$ 秒数据缺失期间真实心率信号中本应存在的自然、随机、高频的波动。计算出的 RMSSD 值约为 0.9091 bpm，这是一个非常低的值，表明变异性极小。它仅仅反映了插值线的恒定斜率，而不是任何潜在的生理过程。在数据中断期间的真实心率几乎肯定会表现出大得多的瞬时变化，从而导致更高的真实 RMSSD。\n\n因此，在心率时间序列中使用线性插值来填补缺失数据，会在像 RMSSD 这样的变异性指标中引入系统性的负偏差。它会导致对真实生理变异性的低估，因为它用一个简单、无噪声且可预测的模式替换了一段自然的、充满噪声的复杂信号。如果不加以适当考虑，这种偏差可能导致不正确的临床或生理学解释。更高级的填补技术可能会尝试注入逼真的噪声或遵循更复杂的模式，但所有填补方法都会引入一定程度的人为影响和潜在偏差。", "answer": "$$\n\\boxed{0.9091}\n$$", "id": "4822393"}, {"introduction": "当我们引入一款新的消费级可穿戴设备来监测健康时，一个至关重要的问题是：它的读数与临床“金标准”设备相比，一致性如何？仅仅计算相关性系数是远远不够的，因为它无法揭示系统性偏差或测量误差的范围。本练习将指导你使用Bland-Altman分析法——一种评估两种测量方法一致性的标准统计技术，通过计算平均偏差和一致性界限，让你学会如何定量地判断新设备是否可以在临床环境中替代或补充传统设备 [@problem_id:4822398]。", "problem": "一个医学信息学研究团队正在使用从$10$名成年住院患者队列中同时采集的配对心率测量值，将一款消费级可穿戴设备与临床床边心电监护仪进行验证。研究重点是物联网(IoT)设备在临床环境中的一致性分析。对于每位受试者$i$，设$C_i$为临床监护仪测得的心率，$W_i$为可穿戴设备测得的心率，单位均为次/分钟(bpm)。配对数据如下：\n\n- 受试者$1$：$C_1 = 72$, $W_1 = 74$\n- 受试者$2$：$C_2 = 78$, $W_2 = 80$\n- 受试者$3$：$C_3 = 65$, $W_3 = 66$\n- 受试者$4$：$C_4 = 88$, $W_4 = 89$\n- 受试者$5$：$C_5 = 90$, $W_5 = 93$\n- 受试者$6$：$C_6 = 76$, $W_6 = 77$\n- 受试者$7$：$C_7 = 84$, $W_7 = 82$\n- 受试者$8$：$C_8 = 92$, $W_8 = 95$\n- 受试者$9$：$C_9 = 70$, $W_9 = 69$\n- 受试者$10$：$C_{10} = 80$, $W_{10} = 79$\n\n假设受试者内的测量差异近似服从正态分布，并且在不同受试者之间是独立的。\n\n任务：\n1. 使用差异$d_i = W_i - C_i$计算可穿戴设备相对于临床监护仪的平均偏差。\n2. 计算这些差异的$95\\%$一致性界限。\n3. 通过对$d_i$与受试者内均值$m_i = (W_i + C_i)/2$进行普通最小二乘回归，并对斜率为$0$进行显著性水平为$\\alpha = 0.05$的双边假设检验，来评估比例偏差。\n\n报告您的计算和推理过程。将最终答案表示为一致性上限，单位为次/分钟(bpm)，并四舍五入到三位有效数字。最终报告的值必须以bpm为单位。", "solution": "问题陈述需经过验证。\n\n### 步骤1：提取已知条件\n- 受试者数量，$n=10$。\n- 受试者$i=1, \\dots, 10$的配对心率测量值$(C_i, W_i)$，单位为次/分钟(bpm)：\n  - 受试者 $1$：$C_1 = 72$, $W_1 = 74$\n  - 受试者 $2$：$C_2 = 78$, $W_2 = 80$\n  - 受试者 $3$：$C_3 = 65$, $W_3 = 66$\n  - 受试者 $4$：$C_4 = 88$, $W_4 = 89$\n  - 受试者 $5$：$C_5 = 90$, $W_5 = 93$\n  - 受试者 $6$：$C_6 = 76$, $W_6 = 77$\n  - 受试者 $7$：$C_7 = 84$, $W_7 = 82$\n  - 受试者 $8$：$C_8 = 92$, $W_8 = 95$\n  - 受试者 $9$：$C_9 = 70$, $W_9 = 69$\n  - 受试者 $10$：$C_{10} = 80$, $W_{10} = 79$\n- 假设：受试者内测量差异近似正态分布，且在受试者之间独立。\n- 定义：\n  - 差异：$d_i = W_i - C_i$\n  - 受试者内均值：$m_i = (W_i + C_i)/2$\n- 任务：\n  1. 计算平均偏差，$\\bar{d}$。\n  2. 计算$95\\%$一致性界限。\n  3. 通过对$d_i$和$m_i$进行回归分析，并在$\\alpha = 0.05$的显著性水平下检验斜率的显著性，来评估比例偏差。\n- 要求输出：一致性上限，单位为bpm，四舍五入到三位有效数字。\n\n### 步骤2：使用提取的已知条件进行验证\n根据验证标准评估问题：\n- **科学依据**：该问题描述了一种标准的Bland-Altman分析，这是一种广泛接受的用于比较两种临床测量技术的统计方法。其背景（验证可穿戴传感器与临床标准）是医学信息学中一个常见且重要的任务。该方法具有科学合理性。\n- **适定性**：所有必要的数据、假设（差异的正态性）和方法论指令（普通最小二乘回归、显著性水平）都已提供。这些任务可以导出一组唯一的、可计算的结果。\n- **客观性**：问题陈述使用精确的定量语言，没有主观或带偏见的措辞。\n- **完整性和一致性**：对于指定数量的受试者（$n=10$），数据集是完整的。任务在逻辑上是顺序的，不包含矛盾。\n- **现实性和可行性**：心率值对于成年住院患者在生理上是现实的。两种设备之间的微小差异对于正在验证的消费级设备来说是合理的。\n- **其他缺陷**：该问题不是隐喻性的、琐碎的、不适定的，也不超出科学验证的范畴。\n\n### 步骤3：结论与行动\n该问题被判定为**有效**。有必要提供完整的解答。\n\n### 求解推导\n\n通过完成三个指定的任务来进行分析。\n\n**任务1：计算平均偏差**\n\n首先，我们为每个受试者$i$计算差异$d_i = W_i - C_i$。\n- $d_1 = 74 - 72 = 2$\n- $d_2 = 80 - 78 = 2$\n- $d_3 = 66 - 65 = 1$\n- $d_4 = 89 - 88 = 1$\n- $d_5 = 93 - 90 = 3$\n- $d_6 = 77 - 76 = 1$\n- $d_7 = 82 - 84 = -2$\n- $d_8 = 95 - 92 = 3$\n- $d_9 = 69 - 70 = -1$\n- $d_{10} = 79 - 80 = -1$\n\n平均偏差$\\bar{d}$是这些差异的样本均值。\n$$ \\sum_{i=1}^{10} d_i = 2 + 2 + 1 + 1 + 3 + 1 - 2 + 3 - 1 - 1 = 9 $$\n$$ \\bar{d} = \\frac{\\sum_{i=1}^{10} d_i}{n} = \\frac{9}{10} = 0.9 $$\n平均偏差为$0.9$ bpm，表明可穿戴设备的读数平均比临床监护仪略高。\n\n**任务2：计算95%一致性界限**\n\n一致性界限（LoA）定义为预计包含约$95\\%$未来差异的区间。其计算公式为$\\bar{d} \\pm 1.96 s_d$，其中$s_d$是差异的样本标准差。\n\n我们首先计算样本方差$s_d^2$。\n$$ s_d^2 = \\frac{1}{n-1} \\sum_{i=1}^{10} (d_i - \\bar{d})^2 $$\n平方差之和为：\n$$ \\sum_{i=1}^{10} d_i^2 = 2^2 + 2^2 + 1^2 + 1^2 + 3^2 + 1^2 + (-2)^2 + 3^2 + (-1)^2 + (-1)^2 $$\n$$ \\sum_{i=1}^{10} d_i^2 = 4 + 4 + 1 + 1 + 9 + 1 + 4 + 9 + 1 + 1 = 35 $$\n使用方差的计算公式：\n$$ s_d^2 = \\frac{1}{n-1} \\left( \\sum_{i=1}^{10} d_i^2 - \\frac{(\\sum_{i=1}^{10} d_i)^2}{n} \\right) = \\frac{1}{10-1} \\left( 35 - \\frac{9^2}{10} \\right) = \\frac{1}{9} (35 - 8.1) = \\frac{26.9}{9} $$\n样本标准差为：\n$$ s_d = \\sqrt{\\frac{26.9}{9}} \\approx 1.7288 \\text{ bpm} $$\n$95\\%$一致性界限为：\n$$ \\text{LoA} = \\bar{d} \\pm 1.96 s_d = 0.9 \\pm 1.96 \\times 1.7288 $$\n$$ \\text{LoA} = 0.9 \\pm 3.3885 $$\n- 一致性上限 (ULA): $0.9 + 3.3885 = 4.2885$ bpm。\n- 一致性下限 (LLA): $0.9 - 3.3885 = -2.4885$ bpm。\n\n**任务3：评估比例偏差**\n\n通过拟合一个普通最小二乘（OLS）回归模型$d_i = \\beta_0 + \\beta_1 m_i + \\epsilon_i$来评估比例偏差，其中$m_i = (W_i + C_i)/2$。我们在显著性水平$\\alpha = 0.05$下检验原假设$H_0: \\beta_1 = 0$与备择假设$H_1: \\beta_1 \\neq 0$。\n\n首先，我们计算受试者内均值$m_i$：\n- $m_1 = (74+72)/2 = 73.0$\n- $m_2 = (80+78)/2 = 79.0$\n- $m_3 = (66+65)/2 = 65.5$\n- $m_4 = (89+88)/2 = 88.5$\n- $m_5 = (93+90)/2 = 91.5$\n- $m_6 = (77+76)/2 = 76.5$\n- $m_7 = (82+84)/2 = 83.0$\n- $m_8 = (95+92)/2 = 93.5$\n- $m_9 = (69+70)/2 = 69.5$\n- $m_{10} = (79+80)/2 = 79.5$\n\n接下来，我们计算OLS斜率估计值$\\hat{\\beta}_1 = S_{md} / S_{mm}$所需的各项总和。\n$$ \\sum m_i = 799.5 \\implies \\bar{m} = \\frac{799.5}{10} = 79.95 $$\n$$ S_{mm} = \\sum (m_i - \\bar{m})^2 = \\sum m_i^2 - n \\bar{m}^2 $$\n$$ \\sum m_i^2 = 73^2 + \\dots + 79.5^2 = 64698.75 $$\n$$ S_{mm} = 64698.75 - 10 \\times (79.95)^2 = 64698.75 - 63920.025 = 778.725 $$\n$$ S_{md} = \\sum (m_i - \\bar{m})(d_i - \\bar{d}) = \\sum m_i d_i - n \\bar{m} \\bar{d} $$\n$$ \\sum m_i d_i = (73.0 \\times 2) + \\dots + (79.5 \\times -1) = 774.5 $$\n$$ S_{md} = 774.5 - 10 \\times 79.95 \\times 0.9 = 774.5 - 719.55 = 54.95 $$\n斜率的OLS估计值为：\n$$ \\hat{\\beta}_1 = \\frac{S_{md}}{S_{mm}} = \\frac{54.95}{778.725} \\approx 0.070564 $$\n为了检验假设$H_0: \\beta_1=0$，我们计算t统计量。首先，我们需要斜率的标准误$SE(\\hat{\\beta}_1)$。\n残差平方和为$SSE = S_{dd} - \\hat{\\beta}_1 S_{md}$，其中$S_{dd} = \\sum(d_i - \\bar{d})^2 = (n-1)s_d^2 = 26.9$。\n$$ SSE = 26.9 - (0.070564) \\times 54.95 \\approx 26.9 - 3.8775 = 23.0225 $$\n均方误差为$MSE = \\frac{SSE}{n-2} = \\frac{23.0225}{8} \\approx 2.8778$。\n斜率的标准误为：\n$$ SE(\\hat{\\beta}_1) = \\sqrt{\\frac{MSE}{S_{mm}}} = \\sqrt{\\frac{2.8778}{778.725}} \\approx \\sqrt{0.0036956} \\approx 0.06079 $$\nt统计量为：\n$$ t = \\frac{\\hat{\\beta}_1 - 0}{SE(\\hat{\\beta}_1)} = \\frac{0.070564}{0.06079} \\approx 1.161 $$\n对于自由度为$df = n-2 = 8$、显著性水平为$\\alpha = 0.05$的双边检验，临界t值为$t_{crit} = t_{8, 0.975} = 2.306$。\n由于$|t| \\approx 1.161  2.306$，我们不拒绝原假设$H_0$。在$\\alpha = 0.05$水平上，没有统计上显著的证据表明存在比例偏差。因此，使用在任务2中计算的简单一致性界限是合适的。\n\n问题要求一致性上限，并四舍五入到三位有效数字。\n根据任务2，ULA = $4.2885$ bpm。\n四舍五入到三位有效数字得到$4.29$ bpm。", "answer": "$$\n\\boxed{4.29}\n$$", "id": "4822398"}, {"introduction": "一个传感器算法在技术上表现优异，是否等同于它在实际应用中也同样有效？本练习将探讨这一关键问题，以一个可穿戴跌倒检测器为例。你将计算灵敏度、特异性等固有性能指标，但更重要的是，你将推导出并应用贝叶斯定理，以理解阳性预测值（PPV）——即“警报为真的概率”——如何极大地依赖于事件的发生率（患病率）。通过对比不同应用场景，你将深刻体会到为何一个检测器的临床实用性必须结合其部署环境进行评估 [@problem_id:4822391]。", "problem": "一款部署在物联网（IoT）网络中的可穿戴加速度计跌倒检测器，在一个包含从社区居住成年人中收集的$2000$个带注释的5秒监控窗口的精心整理的数据集上进行评估。真实标签通过同步摄像机审查来分配。在这$2000$个窗口中，$100$个包含真实跌倒（$Y=1$），$1900$个不包含跌倒（$Y=0$）。当检测器认为发生跌倒时，会发出警报（$\\hat{Y}=1$）。在验证集中，该设备对$85$次真实跌倒正确发出了警报，并漏报了$15$次真实跌倒。在非跌倒窗口上，它产生了$190$次错误警报，并在$1710$个窗口上正确地抑制了警报。因此，混淆矩阵的计数如下：真阳性（$\\mathrm{TP}$）$=85$，假阴性（$\\mathrm{FN}$）$=15$，假阳性（$\\mathrm{FP}$）$=190$，真阴性（$\\mathrm{TN}$）$=1710$。\n\n仅使用诊断测试评估和条件概率的核心定义，完成以下任务：\n\n1. 根据给定的计数，计算经验灵敏度$\\mathrm{Se}$、特异度$\\mathrm{Sp}$、阳性预测值（PPV）和阴性预测值（NPV）。所有中间量必须表示为小数或精确分数。\n\n2. 从条件概率和贝叶斯法则的定义出发，推导$\\mathrm{PPV}$作为疾病（跌倒）患病率 $p=\\Pr(Y=1)$、灵敏度 $\\mathrm{Se}=\\Pr(\\hat{Y}=1\\mid Y=1)$ 和特异度 $\\mathrm{Sp}=\\Pr(\\hat{Y}=0\\mid Y=0)$ 的函数的解析表达式，不引入任何快捷公式。\n\n3. 使用你推导的表达式以及第1部分得到的经验$\\mathrm{Se}$和$\\mathrm{Sp}$值，计算在两种现实部署场景下的$\\mathrm{PPV}$：\n   - 低患病率的家庭监控，$p_{\\mathrm{home}}=0.005$。\n   - 较高患病率的康复病房监控，$p_{\\mathrm{rehab}}=0.05$。\n\n4. 简要解释患病率的变化如何影响警报的临床实用性，重点关注两种场景下错误警报与真实警报的负担对比。\n\n最后，仅报告比率 $$R=\\frac{\\mathrm{PPV}(p_{\\mathrm{rehab}})}{\\mathrm{PPV}(p_{\\mathrm{home}})}$$ 作为你的最终数值答案。将$R$四舍五入到三位有效数字。不要包含单位；所有概率都用小数或分数表示，不要使用百分号。", "solution": "首先对问题进行验证，以确保其具有科学依据、问题设定良好且客观。\n\n**步骤1：提取已知条件**\n- 总监控窗口数：$N=2000$。\n- 真实跌倒窗口数（$Y=1$）：$N_{Y=1}=100$。\n- 无跌倒窗口数（$Y=0$）：$N_{Y=0}=1900$。\n- 检测器警报：$\\hat{Y}=1$。\n- 无警报：$\\hat{Y}=0$。\n- 真阳性（$\\mathrm{TP}$）：$85$。\n- 假阴性（$\\mathrm{FN}$）：$15$。\n- 假阳性（$\\mathrm{FP}$）：$190$。\n- 真阴性（$\\mathrm{TN}$）：$1710$。\n- 家庭监控场景的患病率：$p_{\\mathrm{home}}=0.005$。\n- 康复病房场景的患病率：$p_{\\mathrm{rehab}}=0.05$。\n\n**步骤2：使用提取的已知条件进行验证**\n所提供的数据是自洽的。真实情况的计数总和与总数相符：\n- 总跌倒窗口数：$\\mathrm{TP} + \\mathrm{FN} = 85 + 15 = 100$，与给定的$N_{Y=1}$相符。\n- 总非跌倒窗口数：$\\mathrm{FP} + \\mathrm{TN} = 190 + 1710 = 1900$，与给定的$N_{Y=0}$相符。\n- 总窗口数：$100 + 1900 = 2000$，与给定的$N$相符。\n该问题基于诊断测试评估和概率论中的标准、明确定义的概​​念。该场景是医学信息学中的一个现实应用。问题是完整的、一致的、且设定良好。未发现任何缺陷。\n\n**步骤3：结论与行动**\n问题有效。有必要给出完整解答。\n\n**第1部分：经验性能指标的计算**\n\n我们根据给定的混淆矩阵计数计算灵敏度（$\\mathrm{Se}$）、特异度（$\\mathrm{Sp}$）、阳性预测值（$\\mathrm{PPV}$）和阴性预测值（$\\mathrm{NPV}$）。\n\n灵敏度是正确识别出的真阳性样本所占的比例：\n$$ \\mathrm{Se} = \\frac{\\mathrm{TP}}{\\mathrm{TP} + \\mathrm{FN}} = \\frac{85}{85 + 15} = \\frac{85}{100} = 0.85 $$\n\n特异度是正确识别出的真阴性样本所占的比例：\n$$ \\mathrm{Sp} = \\frac{\\mathrm{TN}}{\\mathrm{TN} + \\mathrm{FP}} = \\frac{1710}{1710 + 190} = \\frac{1710}{1900} = \\frac{171}{190} = 0.9 $$\n\n阳性预测值是阳性测试结果中真阳性样本所占的比例。这是针对给定数据集的值，其中患病率为 $p_{\\mathrm{data}} = \\frac{100}{2000} = 0.05$：\n$$ \\mathrm{PPV} = \\frac{\\mathrm{TP}}{\\mathrm{TP} + \\mathrm{FP}} = \\frac{85}{85 + 190} = \\frac{85}{275} = \\frac{17}{55} \\approx 0.3091 $$\n\n阴性预测值是阴性测试结果中真阴性样本所占的比例：\n$$ \\mathrm{NPV} = \\frac{\\mathrm{TN}}{\\mathrm{TN} + \\mathrm{FN}} = \\frac{1710}{1710 + 15} = \\frac{1710}{1725} = \\frac{114}{115} \\approx 0.9913 $$\n\n**第2部分：从第一性原理推导PPV表达式**\n\n阳性预测值（$\\mathrm{PPV}$）是在测试结果为阳性（$\\hat{Y}=1$）的条件下，实际存在该状况（$Y=1$）的条件概率。\n$$ \\mathrm{PPV} = \\Pr(Y=1 \\mid \\hat{Y}=1) $$\n使用贝叶斯法则，其表述为 $\\Pr(A \\mid B) = \\frac{\\Pr(B \\mid A)\\Pr(A)}{\\Pr(B)}$，我们设 $A$ 为事件 $Y=1$，$B$ 为事件 $\\hat{Y}=1$：\n$$ \\mathrm{PPV} = \\frac{\\Pr(\\hat{Y}=1 \\mid Y=1) \\Pr(Y=1)}{\\Pr(\\hat{Y}=1)} $$\n此表达式中的各项定义如下：\n- $\\Pr(Y=1)$ 是状况的患病率，记为 $p$。\n- $\\Pr(\\hat{Y}=1 \\mid Y=1)$ 是在状况存在的情况下测试结果为阳性的概率，这正是灵敏度 $\\mathrm{Se}$ 的定义。\n\n分母 $\\Pr(\\hat{Y}=1)$ 是测试结果为阳性的总概率。我们使用全概率公式将其展开：\n$$ \\Pr(\\hat{Y}=1) = \\Pr(\\hat{Y}=1 \\mid Y=1)\\Pr(Y=1) + \\Pr(\\hat{Y}=1 \\mid Y=0)\\Pr(Y=0) $$\n我们可以识别此展开式中的各个组成部分：\n- $\\Pr(Y=0) = 1 - \\Pr(Y=1) = 1-p$。\n- $\\Pr(\\hat{Y}=1 \\mid Y=0)$ 是在状况不存在的情况下测试结果为阳性（假阳性）的概率。这等于 $1 - \\mathrm{Sp}$，因为特异度 $\\mathrm{Sp} = \\Pr(\\hat{Y}=0 \\mid Y=0)$。\n\n将这些定义代回 $\\Pr(\\hat{Y}=1)$ 的展开式中：\n$$ \\Pr(\\hat{Y}=1) = (\\mathrm{Se} \\cdot p) + ((1 - \\mathrm{Sp}) \\cdot (1-p)) $$\n最后，将所有组成部分代回 $\\mathrm{PPV}$ 的贝叶斯法则表达式，我们得到所需的解析表达式：\n$$ \\mathrm{PPV}(p, \\mathrm{Se}, \\mathrm{Sp}) = \\frac{\\mathrm{Se} \\cdot p}{(\\mathrm{Se} \\cdot p) + (1 - \\mathrm{Sp})(1 - p)} $$\n\n**第3部分：部署场景的PPV计算**\n\n我们使用推导出的公式和经验值 $\\mathrm{Se} = 0.85$ 和 $\\mathrm{Sp} = 0.9$（因此 $1-\\mathrm{Sp}=0.1$）来计算两种指定患病率下的 $\\mathrm{PPV}$。\n\n场景A：低患病率的家庭监控，$p_{\\mathrm{home}} = 0.005$。\n$$ \\mathrm{PPV}(p_{\\mathrm{home}}) = \\frac{0.85 \\cdot 0.005}{(0.85 \\cdot 0.005) + (0.1 \\cdot (1 - 0.005))} $$\n$$ \\mathrm{PPV}(p_{\\mathrm{home}}) = \\frac{0.00425}{0.00425 + (0.1 \\cdot 0.995)} = \\frac{0.00425}{0.00425 + 0.0995} = \\frac{0.00425}{0.10375} $$\n作为一个精确分数，这是 $\\frac{425}{103750} = \\frac{17}{415}$。我们来验证一下：$\\frac{17}{415} = \\frac{17 \\times 0.005}{17 \\times 0.005 + (0.1 \\times 199 \\times 0.005)} = ...$ 让我们使用输入的分数形式 $p = \\frac{1}{200}$，$\\mathrm{Se}=\\frac{17}{20}$，$\\mathrm{Sp}=\\frac{9}{10}$。\n$$ \\mathrm{PPV}(p_{\\mathrm{home}}) = \\frac{\\frac{17}{20} \\cdot \\frac{1}{200}}{(\\frac{17}{20} \\cdot \\frac{1}{200}) + (\\frac{1}{10} \\cdot \\frac{199}{200})} = \\frac{\\frac{17}{4000}}{\\frac{17}{4000} + \\frac{199}{2000}} = \\frac{\\frac{17}{4000}}{\\frac{17+398}{4000}} = \\frac{17}{415} $$\n作为小数，$\\mathrm{PPV}(p_{\\mathrm{home}}) \\approx 0.04096$。\n\n场景B：较高患病率的康复病房，$p_{\\mathrm{rehab}} = 0.05$。\n$$ \\mathrm{PPV}(p_{\\mathrm{rehab}}) = \\frac{0.85 \\cdot 0.05}{(0.85 \\cdot 0.05) + (0.1 \\cdot (1 - 0.05))} $$\n$$ \\mathrm{PPV}(p_{\\mathrm{rehab}}) = \\frac{0.0425}{0.0425 + (0.1 \\cdot 0.95)} = \\frac{0.0425}{0.0425 + 0.095} = \\frac{0.0425}{0.1375} = \\frac{17}{55} $$\n作为小数，$\\mathrm{PPV}(p_{\\mathrm{rehab}}) \\approx 0.30909$。这个值与第1部分计算的经验PPV正确匹配，因为原始数据集中的患病率为 $p_{\\mathrm{data}} = \\frac{100}{2000} = 0.05$。\n\n**第4部分：患病率效应的解释**\n\n$\\mathrm{PPV}(p_{\\mathrm{home}}) \\approx 0.041$ 和 $\\mathrm{PPV}(p_{\\mathrm{rehab}}) \\approx 0.309$ 之间的巨大差异凸显了事件患病率对诊断测试临床效用的深远影响。\n- 在低患病率的家庭环境（$p=0.005$）中，只有约$4.1\\%$的警报是真实跌倒。这意味着每100次警报中，约有96次是错误警报。错误警报与真实警报的比率约为 $\\frac{1-0.041}{0.041} \\approx 23.4$。护理人员平均需要响应超过24次警报才能见证一次真实跌倒。这种高负担的假阳性可能导致“警报疲劳”，即用户开始忽略或不信任系统，可能导致真实跌倒被错过。\n- 在较高患病率的康复病房（$p=0.05$）中，约有$30.9\\%$的警报是真实跌倒。错误警报与真实警报的比率是 $\\frac{1-0.309}{0.309} \\approx 2.2$。在这里，护理人员响应大约3次警报就能见证一次真实跌倒。虽然仍然显著，但这种错误警报的负担更容易管理，并表明在此背景下，警报的可靠性和临床实用性要高得多。\n总之，一个具有固定灵敏度和特异度的测试，在应用于具有较高患病率的人群时，其效果和可信度要高得多。\n\n**最终计算：比率 R**\n\n问题要求计算比率 $R=\\frac{\\mathrm{PPV}(p_{\\mathrm{rehab}})}{\\mathrm{PPV}(p_{\\mathrm{home}})}$。\n使用第3部分计算的精确分数值：\n$$ R = \\frac{17/55}{17/415} = \\frac{17}{55} \\cdot \\frac{415}{17} = \\frac{415}{55} $$\n化简分数：\n$$ R = \\frac{83 \\cdot 5}{11 \\cdot 5} = \\frac{83}{11} $$\n作为小数，$R = 7.545454...$。四舍五入到三位有效数字得到 $7.55$。", "answer": "$$\\boxed{7.55}$$", "id": "4822391"}]}