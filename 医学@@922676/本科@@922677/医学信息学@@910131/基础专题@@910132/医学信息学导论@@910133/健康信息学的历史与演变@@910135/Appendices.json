{"hands_on_practices": [{"introduction": "健康信息学的历史深深植根于计算能力的演变。本练习将您带回 1970 年代，通过一个基于当时典型小型计算机的假设场景，让您亲身体验早期系统设计师面临的严峻硬件限制。通过计算存储需求与可用磁盘空间的对比，您将深刻理解为什么早期电子记录的设计必须极其注重效率，这与当今海量数据存储的时代形成了鲜明对比。[@problem_id:4843231]", "problem": "在$1970$年左右的健康信息系统早期，小型计算机通常对医院环境中的数据架构构成限制。考虑一个拥有$64$千字节（kilobyte, KB）随机存取存储器和$2$兆字节（megabyte, MB）固定磁盘的系统。一个历史上合理的最小纵向患者记录是为每位患者存储核心人口统计信息和一小组实验室结果：人口统计信息占用$100$字节，有$20$项实验室结果，每项结果包含一个$8$字节的数值和$12$字节的元数据。\n\n使用那个时期广泛采用的标准二进制定义，取$1$ KB为$1024$字节，$1$ MB为$1024$ KB。假设该系统为$10{,}000$名患者配置，并且除了所述字段大小外，没有额外的文件系统开销。\n\n从这些基本定义和所述记录结构出发，推导出每位患者的存储需求以及$10{,}000$名患者所需的总存储空间。然后，将磁盘利用率$r$定义为\n$$\nr = \\frac{\\text{total required bytes}}{\\text{available disk bytes}}.\n$$\n将$r$计算为一个无单位小数，并将您的最终值四舍五入到四位有效数字。仅提供$r$的值作为您的最终答案。", "solution": "问题陈述已经过验证，被认为是有效的。它具有科学依据，提法得当，客观且自洽。计算所需的所有数据和定义都已明确提供。我们可以开始解题了。\n\n任务是为一个指定的健康信息系统计算磁盘利用率$r$。该比率定义为：\n$$\nr = \\frac{\\text{total required bytes}}{\\text{available disk bytes}}\n$$\n这需要三个主要步骤：\n1.  计算单个患者记录的存储需求。\n2.  计算整个患者群体的总存储需求。\n3.  计算可用的总磁盘存储空间（以字节为单位）。\n\n首先，我们确定每位患者的存储需求，记为$S_{patient}$。单个患者记录包括人口统计信息和实验室结果。\n人口统计信息的存储空间$S_{demo}$给定为$100$字节。\n$$S_{demo} = 100 \\text{ bytes}$$\n患者记录还包括$N_{lab} = 20$项实验室结果。每项结果包含一个$8$字节的数值和$12$字节的元数据。单个实验室结果的存储空间$S_{lab}$是这两个值的和：\n$$S_{lab} = 8 \\text{ bytes} + 12 \\text{ bytes} = 20 \\text{ bytes}$$\n一位患者所有实验室结果的总存储空间$S_{labs\\_total}$是结果数量乘以每项结果的存储空间：\n$$S_{labs\\_total} = N_{lab} \\times S_{lab} = 20 \\times 20 \\text{ bytes} = 400 \\text{ bytes}$$\n每位患者的总存储空间$S_{patient}$是人口统计信息存储空间和实验室结果总存储空间之和：\n$$S_{patient} = S_{demo} + S_{labs\\_total} = 100 \\text{ bytes} + 400 \\text{ bytes} = 500 \\text{ bytes}$$\n\n其次，我们计算指定数量的$N_{patients} = 10000$名患者所需的总存储空间$S_{req}$。这是通过将患者数量乘以每位患者的存储需求计算得出的。\n$$S_{req} = N_{patients} \\times S_{patient} = 10000 \\times 500 \\text{ bytes} = 5,000,000 \\text{ bytes}$$\n\n第三，我们确定可用的磁盘存储空间（以字节为单位），$S_{avail}$。磁盘大小给定为$2$ MB。问题指定使用标准二进制定义：$1$ KB $= 1024$字节，$1$ MB $= 1024$ KB。我们将可用的磁盘空间从兆字节转换为字节：\n$$S_{avail} = 2 \\text{ MB}$$\n$$S_{avail} = 2 \\times 1024 \\text{ KB}$$\n$$S_{avail} = 2 \\times 1024 \\times 1024 \\text{ bytes}$$\n为了简化计算，我们可以将$1024$表示为$2^{10}$：\n$$S_{avail} = 2 \\times (2^{10}) \\times (2^{10}) = 2^{1} \\times 2^{10} \\times 2^{10} = 2^{1+10+10} = 2^{21} \\text{ bytes}$$\n计算该表达式得出可用的总字节数：\n$$S_{avail} = 2,097,152 \\text{ bytes}$$\n\n最后，我们通过将所需的总存储空间除以可用的总存储空间来计算磁盘利用率$r$。\n$$r = \\frac{S_{req}}{S_{avail}} = \\frac{5,000,000}{2,097,152}$$\n执行除法运算得出：\n$$r \\approx 2.384185791$$\n问题要求将答案四舍五入到四位有效数字。前四位有效数字是$2$、$3$、$8$和$4$。第五位有效数字是$1$，小于$5$，所以我们向下舍入（截断）。\n$$r \\approx 2.384$$\n这个值表明，患者数据所需的存储空间是可用磁盘容量的两倍多，这凸显了早期信息系统的严格限制。", "answer": "$$\\boxed{2.384}$$", "id": "4843231"}, {"introduction": "随着电子健康记录 (EHR) 系统的成熟，医院面临着重大的投资决策。本练习将您置于决策者的位置，任务是使用净现值 (Net Present Value, NPV) 和投资回收期等基本金融工具来评估 EHR 实施的财务可行性。掌握这些概念对于理解为什么以及如何在资源有限的医疗环境中推广昂贵的技术至关重要。[@problem_id:4843325]", "problem": "一家地区医院正在评估向企业级电子健康记录（EHR）和计算机化医嘱录入（CPOE）平台的过渡。这一举措反映了自 1990 年代末至 2000 年代初，尤其是在《经济与临床健康信息技术法案》（HITECH Act）之后，从纸质图表向电子系统加速演变的趋势。健康信息学的历史分析强调货币时间价值是一项基本原则：在年贴现率为 $r$ 的情况下，于第 $t$ 年末实现的金额为 $C$ 的未来现金流，其现值为 $C/(1+r)^{t}$。该医院估计，通过取代传统工作流程（例如，提取病历、转录和手动处理医嘱），每年将减少运营成本 $\\$1{,}000{,}000$。该实施需要在时间 $t=0$ 时进行 $\\$2{,}500{,}000$ 的前期投资，并且持续的维护合同和许可证费用将为每年 $\\$500{,}000$。假设所有年度现金流（节余和维护费用）均发生在每年年末，净年度现金流在分析期内保持不变，且贴现率为 $r=0.03$。在一个为期 $5$ 年的分析期内，确定：\n- 投资回收期（以年为单位），定义为累计未贴现净现金流为非负数的最小年数，以及\n- 净现值（NPV）（以美元为单位），定义为包括初始投资在内的所有贴现净现金流的总和。\n将两个结果都四舍五入到四位有效数字。投资回收期以年表示，净现值以美元表示。以一个双列行的形式提供你的最终答案，顺序为：先是投资回收期，然后是净现值。", "solution": "将通过首先提取给定信息，然后评估其科学和逻辑合理性来验证问题。\n\n### 步骤 1：提取已知信息\n- 年度成本节约：$S = \\$1,000,000$ 每年。\n- 在 $t=0$ 时的前期投资：$I_0 = \\$2,500,000$。\n- 持续的年度维护成本：$M = \\$500,000$ 每年。\n- 年度现金流时间：发生在每年年末。\n- 净年度现金流：假设为常数。\n- 年度贴现率：$r = 0.03$。\n- 分析期：$N = 5$ 年。\n- 投资回收期定义：累计未贴现净现金流为非负数的最小年数。\n- 净现值（NPV）定义：包括初始投资在内的所有贴现净现金流的总和。\n- 要求的四舍五入：两个结果均保留四位有效数字。\n- 要求的输出：投资回收期（年）和净现值（美元）。\n\n### 步骤 2：使用提取的已知信息进行验证\n该问题具有科学依据。净现值（NPV）、投资回收期和贴现现金流等概念是财务分析、经济学和商业管理中的标准基础工具，也包括在健康信息学领域用于评估资本项目。提供的现值公式 $C/(1+r)^{t}$ 是正确的。关于 EHR 采用和 HITECH 法案的历史背景在事实上是准确的，并提供了一个现实的场景。\n\n该问题提法明确。它为需要计算的两个量提供了清晰的定义，并包含了所有必要的数值数据（投资成本、年度现金流、贴现率和时间范围），以得出一个唯一的解。语言客观且无歧义。所提供的数据在内部是一致的，并且对于所描述的场景是现实的。\n\n### 步骤 3：结论与行动\n问题有效。将提供完整的解决方案。\n\n### 解答\n该问题要求计算一个 EHR 实施项目的两个财务指标：投资回收期和净现值（NPV）。\n\n首先，我们确定净年度现金流 $C_{net}$。这是年度成本节约 $S$ 减去持续的年度维护成本 $M$。\n$$C_{net} = S - M = \\$1,000,000 - \\$500,000 = \\$500,000$$\n\n**1. 投资回收期**\n\n投资回收期定义为累计*未贴现*净现金流等于或超过初始投资所需的时间。在时间 $t=0$ 时的初始投资为 $I_0 = \\$2,500,000$。每年产生净现金流入 $C_{net} = \\$500,000$。我们必须找到最小的年数 $t_{PB}$，使得累计现金流入能够收回初始支出。\n\n$t_{PB}$ 年后的累计现金流由初始投资（现金流出）和 $t_{PB}$ 年内未贴现的总流入之和给出。我们求解满足以下条件的最小 $t_{PB}$：\n$$-I_0 + t_{PB} \\cdot C_{net} \\ge 0$$\n代入给定值：\n$$-\\$2,500,000 + t_{PB} \\cdot \\$500,000 \\ge 0$$\n$$t_{PB} \\cdot \\$500,000 \\ge \\$2,500,000$$\n$$t_{PB} \\ge \\frac{\\$2,500,000}{\\$500,000}$$\n$$t_{PB} \\ge 5$$\n累计未贴现净现金流变为非负所需的最小年数恰好是 $5$ 年。在第 $5$ 年，累计现金流为 $\\$0$。因此，投资回收期为 $5$ 年。四舍五入到四位有效数字，即为 $5.000$ 年。\n\n**2. 净现值 (NPV)**\n\n净现值 (NPV) 是在 $N=5$ 年的分析期内，以 $r=0.03$ 的贴现率贴现的所有现金流的现值之和。现金流包括在 $t=0$ 时的初始投资 $-I_0$ 和从 $t=1$ 到 $t=N$ 每年年末的恒定净年度现金流 $C_{net}$。\n\nNPV 的公式是：\n$$NPV = -I_0 + \\sum_{t=1}^{N} \\frac{C_{net}}{(1+r)^t}$$\n求和项代表了普通年金的现值，其标准公式为：\n$$\\sum_{t=1}^{N} \\frac{C_{net}}{(1+r)^t} = C_{net} \\left[ \\frac{1 - (1+r)^{-N}}{r} \\right]$$\n将此代入 NPV 方程：\n$$NPV = -I_0 + C_{net} \\left[ \\frac{1 - (1+r)^{-N}}{r} \\right]$$\n现在，我们代入数值：$I_0 = 2,500,000$, $C_{net} = 500,000$, $r = 0.03$, 且 $N = 5$。\n$$NPV = -2,500,000 + 500,000 \\left[ \\frac{1 - (1+0.03)^{-5}}{0.03} \\right]$$\n$$NPV = -2,500,000 + 500,000 \\left[ \\frac{1 - (1.03)^{-5}}{0.03} \\right]$$\n首先，计算方括号中项的值，即年金现值系数 (PVIFA)：\n$$(1.03)^{-5} \\approx 0.86260878$$\n$$1 - (1.03)^{-5} \\approx 1 - 0.86260878 = 0.13739122$$\n$$\\frac{0.13739122}{0.03} \\approx 4.57970718$$\n现在，将此系数乘以净年度现金流：\n$$500,000 \\times 4.57970718 \\approx 2,289,853.59$$\n最后，通过减去初始投资来计算 NPV：\n$$NPV \\approx -2,500,000 + 2,289,853.59 = -210,146.41$$\n题目要求将此结果四舍五入到四位有效数字。前四位有效数字是 $2$, $1$, $0$, $1$。第五位数字是 $4$，所以我们向下舍入。\n$$NPV \\approx -210,100$$\n投资回收期为 $5.000$ 年，净现值为 $-\\$210,100$。", "answer": "$$\\boxed{\\begin{pmatrix} 5.000  -210100 \\end{pmatrix}}$$", "id": "4843325"}, {"introduction": "健康信息学的一个核心目标是提高患者安全。本练习模拟了一个经典场景：评估计算机化医嘱录入 (Computerized Provider Order Entry, CPOE) 系统在减少用药错误方面的效果。通过计算绝对风险降低 (Absolute Risk Reduction, ARR)、相对风险降低 (Relative Risk Reduction, RRR) 和置信区间，您将学习到如何用严谨的统计语言来量化信息技术干预措施的临床影响，例如比较干预前后的错误概率 $p_{\\text{pre}}$ 与 $p_{\\text{post}}$。[@problem_id:4843264]", "problem": "在评估早期计算机化医嘱录入 (CPOE) 系统的影响时，一个大型综合医疗网络比较了 CPOE 实施前后的药物医嘱错误率。从历史上看，CPOE 作为医疗信息学向更安全、更标准化的电子工作流程演变的一部分，被认为减少了转录和字迹辨认错误。假设该网络在实施前阶段记录了 $n_{\\text{pre}} = 200{,}000$ 条药物医嘱，观察到的错误率为每 $1{,}000$ 条医嘱中有 $5$ 例；在实施后阶段记录了 $n_{\\text{post}} = 200{,}000$ 条医嘱，观察到的错误率为每 $1{,}000$ 条医嘱中有 $3$ 例。将每条医嘱视为一次独立的伯努利试验，CPOE 实施前的错误概率为 $p_{\\text{pre}}$，实施后的错误概率为 $p_{\\text{post}}$。\n\n使用二项分布模型和大样本中心极限定理，推导定义为错误概率降低值 $p_{\\text{pre}} - p_{\\text{post}}$ 的绝对风险降低 (ARR)，定义为 $\\text{ARR} / p_{\\text{pre}}$ 的相对风险降低 (RRR)，并使用独立样本比例差的正态近似法，为风险差异 $p_{\\text{pre}} - p_{\\text{post}}$ 构建一个双侧 $95\\%$ 置信区间。\n\n将所有量表示为不带符号和单位的小数。将每个报告的量（ARR、RRR、置信下限、置信上限）四舍五入到四位有效数字。", "solution": "评估问题陈述的有效性。\n\n步骤 1：提取已知条件\n-   实施前阶段的药物医嘱数量，$n_{\\text{pre}} = 200,000$。\n-   实施前阶段的观察错误率：每 $1,000$ 条医嘱中有 $5$ 例。\n-   实施后阶段的药物医嘱数量，$n_{\\text{post}} = 200,000$。\n-   实施后阶段的观察错误率：每 $1,000$ 条医嘱中有 $3$ 例。\n-   模型：每条医嘱是一次独立的伯努利试验，实施前错误概率为 $p_{\\text{pre}}$，实施后为 $p_{\\text{post}}$。\n-   定义：绝对风险降低 (ARR) 为 $p_{\\text{pre}} - p_{\\text{post}}$。\n-   定义：相对风险降低 (RRR) 为 $\\text{ARR} / p_{\\text{pre}}$。\n-   任务：推导 ARR、RRR 以及风险差异 $p_{\\text{pre}} - p_{\\text{post}}$ 的双侧 $95\\%$ 置信区间。\n-   方法：使用独立样本比例差的正态近似法。\n-   格式：将所有量报告为四舍五入到四位有效数字的小数。\n\n步骤 2：使用提取的已知条件进行验证\n-   科学依据：该问题是生物统计学的标准应用，特别是比较来自两个大的独立样本的比例。CPOE 系统和药物错误率的背景是医疗信息学中一个公认的主题。所指定的统计方法（伯努利试验、通过中心极限定理进行正态近似）适用于所描述的数据。\n-   适定性：该问题是适定的，提供了计算所需量的所有必要数据（$n_{\\text{pre}}$、$n_{\\text{post}}$ 和观察率）。目标明确，并强制要求使用特定的统计方法，从而导出一个唯一的解。\n-   客观性：问题以客观、定量的术语陈述，没有主观语言或偏见。\n-   缺陷检查：该问题不违反任何科学原理，不是隐喻性的，是完整和一致的，呈现了真实的数据，结构良好，并且不是微不足道的。大样本量（$n_{\\text{pre}} = 200000$ 和 $n_{\\text{post}} = 200000$）为使用正态近似提供了强有力的理由。\n\n步骤 3：结论与行动\n问题有效。将提供完整解答。\n\n第一步是计算实施前和实施后阶段药物错误的样本比例。这些是真实错误概率 $p_{\\text{pre}}$ 和 $p_{\\text{post}}$ 的点估计值。\n\n实施前阶段的样本比例 $\\hat{p}_{\\text{pre}}$ 为：\n$$ \\hat{p}_{\\text{pre}} = \\frac{5}{1000} = 0.005 $$\n实施后阶段的样本比例 $\\hat{p}_{\\text{post}}$ 为：\n$$ \\hat{p}_{\\text{post}} = \\frac{3}{1000} = 0.003 $$\n\n接下来，我们计算绝对风险降低 (ARR) 和相对风险降低 (RRR) 的点估计值。\n估计的绝对风险降低 $\\widehat{\\text{ARR}}$ 是样本比例之间的差值：\n$$ \\widehat{\\text{ARR}} = \\hat{p}_{\\text{pre}} - \\hat{p}_{\\text{post}} = 0.005 - 0.003 = 0.002 $$\n估计的相对风险降低 $\\widehat{\\text{RRR}}$ 是 ARR 除以基线比例：\n$$ \\widehat{\\text{RRR}} = \\frac{\\widehat{\\text{ARR}}}{\\hat{p}_{\\text{pre}}} = \\frac{0.002}{0.005} = 0.4 $$\n\n现在，我们为真实风险差异 $d = p_{\\text{pre}} - p_{\\text{post}}$ 构建 $95\\%$ 置信区间。由于样本量 $n_{\\text{pre}} = 200000$ 和 $n_{\\text{post}} = 200000$ 很大，中心极限定理允许我们对样本比例差 $\\hat{d} = \\hat{p}_{\\text{pre}} - \\hat{p}_{\\text{post}}$ 的分布使用正态近似。\n\n两个比例之差的双侧置信区间的公式是：\n$$ (\\hat{p}_{\\text{pre}} - \\hat{p}_{\\text{post}}) \\pm z_{\\alpha/2} \\sqrt{\\frac{\\hat{p}_{\\text{pre}}(1-\\hat{p}_{\\text{pre}})}{n_{\\text{pre}}} + \\frac{\\hat{p}_{\\text{post}}(1-\\hat{p}_{\\text{post}})}{n_{\\text{post}}}} $$\n对于 $95\\%$ 的置信水平，显著性水平为 $\\alpha = 0.05$。临界值 $z_{\\alpha/2} = z_{0.025}$ 对应于标准正态分布上尾部面积为 $0.025$ 的值。这个值是 $z_{0.025} \\approx 1.96$。\n\n差异的点估计值为 $\\hat{d} = 0.002$。\n差异的标准误 (SE) 计算如下：\n$$ SE(\\hat{d}) = \\sqrt{\\frac{\\hat{p}_{\\text{pre}}(1 - \\hat{p}_{\\text{pre}})}{n_{\\text{pre}}} + \\frac{\\hat{p}_{\\text{post}}(1 - \\hat{p}_{\\text{post}})}{n_{\\text{post}}}} $$\n代入给定值：\n$$ SE(\\hat{d}) = \\sqrt{\\frac{0.005(1-0.005)}{200000} + \\frac{0.003(1-0.003)}{200000}} $$\n$$ SE(\\hat{d}) = \\sqrt{\\frac{0.005 \\times 0.995}{200000} + \\frac{0.003 \\times 0.997}{200000}} $$\n$$ SE(\\hat{d}) = \\sqrt{\\frac{0.004975}{200000} + \\frac{0.002991}{200000}} $$\n$$ SE(\\hat{d}) = \\sqrt{\\frac{0.007966}{200000}} = \\sqrt{0.00000003983} = \\sqrt{3.983 \\times 10^{-8}} $$\n$$ SE(\\hat{d}) \\approx 0.0001995745 $$\n误差范围 (ME) 是临界值和标准误的乘积：\n$$ ME = z_{\\alpha/2} \\times SE(\\hat{d}) \\approx 1.96 \\times 0.0001995745 \\approx 0.000391166 $$\n$95\\%$ 置信区间由 $\\hat{d} \\pm ME$ 给出：\n$$ \\text{置信下限} = 0.002 - 0.000391166 = 0.001608834 $$\n$$ \\text{置信上限} = 0.002 + 0.000391166 = 0.002391166 $$\n问题要求将所有量四舍五入到四位有效数字。\n-   $\\widehat{\\text{ARR}} = 0.002$。保留四位有效数字，为 $0.002000$。\n-   $\\widehat{\\text{RRR}} = 0.4$。保留四位有效数字，为 $0.4000$。\n-   置信下限 $\\approx 0.001608834$。保留四位有效数字，为 $0.001609$。\n-   置信上限 $\\approx 0.002391166$。保留四位有效数字，为 $0.002391$。\n\n最终结果是 ARR、RRR 以及置信区间的下限和上限。", "answer": "$$\n\\boxed{\\begin{pmatrix} 0.002000  0.4000  0.001609  0.002391 \\end{pmatrix}}\n$$", "id": "4843264"}]}