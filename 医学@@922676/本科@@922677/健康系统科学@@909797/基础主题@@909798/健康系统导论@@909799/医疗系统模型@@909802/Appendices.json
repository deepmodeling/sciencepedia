{"hands_on_practices": [{"introduction": "评价一个医疗系统的首要步骤通常是分析其筹资机制的公平性。本练习引入了卡克瓦尼指数（Kakwani index）这一强大工具，用于量化衡量医疗费用的负担是更多地落在穷人（累退性）还是富人（累进性）身上。通过一个假设的自付费用系统案例 [@problem_id:4383680]，你将学会如何运用分布分析的原理来评估医疗筹资的公平性。", "problem": "一个国家的卫生系统严重依赖服务点的自付（OOP）费用，而不是像贝弗里奇模式、俾斯麦模式或国家健康保险（NHI）这样的预付方案。为了评估这种自付费用融资的累退性程度，请使用来自分配分析的第一性原理定义：收入的基尼系数定义为平等线与收入洛伦兹曲线（人口按收入从最贫穷到最富裕排序）之间面积的两倍，而支付的集中指数的定义类似，即平等线与支付集中曲线（人口也按收入从最贫穷到最富裕排序）之间面积的两倍。融资累进性的卡克瓦尼指数在概念上定义为支付分布与收入分布之间的差异。\n\n假设人口被分为五个规模相等的收入五等分位数组，其人口份额为 $p_{k} = 0.2$，其中 $k \\in \\{1,2,3,4,5\\}$，按从最贫穷（$k=1$）到最富裕（$k=5$）的顺序排列。每个五等分位数组获得的总收入份额如下：\n- 五等分位数组 $1$：$0.06$\n- 五等分位数组 $2$：$0.11$\n- 五等分位数组 $3$：$0.17$\n- 五等分位数组 $4$：$0.26$\n- 五等分位数组 $5$：$0.40$\n\n每个五等分位数组（按相同收入顺序排列）所支付的总自付费用份额如下：\n- 五等分位数组 $1$：$0.18$\n- 五等分位数组 $2$：$0.20$\n- 五等分位数组 $3$：$0.21$\n- 五等分位数组 $4$：$0.21$\n- 五等分位数组 $5$：$0.20$\n\n仅从上述定义（基于这些分组数据构建的洛伦兹曲线和集中曲线下的面积）出发，计算该自付费用系统的融资累进性卡克瓦尼指数。将最终数值答案四舍五入至四位有效数字。仅报告数值，不带任何单位。", "solution": "该问题在科学上基于经济学中的分配分析原理，特别是卫生经济学。问题定义明确，为获得唯一解提供了所有必要的定义和数据。语言客观且量化。所提供的数据是内部一致的，因为收入和支付的份额总和均为 $1$。因此，该问题是有效的。\n\n任务是计算融资累进性的卡克瓦尼指数。我们已知基尼系数和集中指数是根据曲线与平等线之间的面积来定义的。我们将为分组数据形式化这些定义以进行计算。\n\n设人口被分为 $N$ 个组，索引为 $k=1, 2, \\dots, N$。在本问题中，我们有 $N=5$ 个规模相等的收入五等分位数组，因此每组的人口份额为 $p_k = \\frac{1}{N} = \\frac{1}{5} = 0.2$。这些组按收入从最贫穷（$k=1$）到最富裕（$k=N$）排序。\n\n收入的洛伦兹曲线 $L(p)$ 描绘了累计收入份额与累计人口份额 $p$ 之间的关系。对于分组数据，该曲线是一个连接点 $(P_k, Y_k)$ 的多边形，其中 $P_k = \\sum_{i=1}^{k} p_i$ 是累计人口份额，$Y_k = \\sum_{i=1}^{k} y_i$ 是累计收入份额（$y_i$ 是第 $i$ 组的收入份额）。根据定义，我们设 $P_0 = 0$ 和 $Y_0 = 0$。\n\n基尼系数 $G$ 定义为平等线（$y=p$）与洛伦兹曲线之间面积的两倍。从 $p=0$ 到 $p=1$ 平等线下方的总面积是 $\\frac{1}{2}$。洛伦兹曲线下方的面积 $A_L$ 可以使用梯形法则计算，该梯形由我们的分组数据定义的多边形构成：\n$$A_L = \\sum_{k=1}^{N} \\frac{1}{2} (Y_{k-1} + Y_k)(P_k - P_{k-1}) = \\sum_{k=1}^{N} \\frac{1}{2} p_k (Y_{k-1} + Y_k)$$\n因此，基尼系数为：\n$$G = 2 \\left( \\frac{1}{2} - A_L \\right) = 1 - 2 A_L = 1 - \\sum_{k=1}^{N} p_k (Y_{k-1} + Y_k)$$\n\n类似地，支付的集中曲线 $C(p)$ 描绘了累计支付份额与累计人口份额（按收入排序）之间的关系。对于分组数据，这是一个连接点 $(P_k, H_k)$ 的多边形，其中 $H_k = \\sum_{i=1}^{k} h_i$ 是累计支付份额（$h_i$ 是第 $i$ 组的支付份额）。我们设 $H_0 = 0$。\n\n集中指数 $C$ 定义为平等线与集中曲线之间面积的两倍。集中曲线下方的面积 $A_C$ 为：\n$$A_C = \\sum_{k=1}^{N} \\frac{1}{2} p_k (H_{k-1} + H_k)$$\n集中指数为：\n$$C = 2 \\left( \\frac{1}{2} - A_C \\right) = 1 - 2 A_C = 1 - \\sum_{k=1}^{N} p_k (H_{k-1} + H_k)$$\n\n融资累进性的卡克瓦尼指数 $K$ 定义为支付的集中指数与收入的基尼系数之差。\n$$K = C - G$$\n$K$ 的正值表示一个累进性系统（富人支付的收入比例更大），负值表示一个累退性系统（穷人支付的收入比例更大），而 $K=0$ 表示一个比例性系统。\n\n首先，我们将给定的份额及其累计值制成表格。对于所有五等分位数组，有 $p_k = 0.2$。设 $y_k$ 为收入份额，$h_k$ 为支付份额。\n\n当 $k=1$ 时：$y_1 = 0.06$，$h_1 = 0.18$。累计值：$P_1=0.2$，$Y_1=0.06$，$H_1=0.18$。\n当 $k=2$ 时：$y_2 = 0.11$，$h_2 = 0.20$。累计值：$P_2=0.4$，$Y_2=0.06+0.11=0.17$，$H_2=0.18+0.20=0.38$。\n当 $k=3$ 时：$y_3 = 0.17$，$h_3 = 0.21$。累计值：$P_3=0.6$，$Y_3=0.17+0.17=0.34$，$H_3=0.38+0.21=0.59$。\n当 $k=4$ 时：$y_4 = 0.26$，$h_4 = 0.21$。累计值：$P_4=0.8$，$Y_4=0.34+0.26=0.60$，$H_4=0.59+0.21=0.80$。\n当 $k=5$ 时：$y_5 = 0.40$，$h_5 = 0.20$。累计值：$P_5=1.0$，$Y_5=0.60+0.40=1.00$，$H_5=0.80+0.20=1.00$。\n\n现在，我们计算基尼系数 $G$：\n$$G = 1 - \\sum_{k=1}^{5} p_k (Y_{k-1} + Y_k)$$\n由于对所有 $k$ 都有 $p_k = 0.2$，我们将其提出来：\n$$G = 1 - 0.2 \\sum_{k=1}^{5} (Y_{k-1} + Y_k)$$\n总和为：\n$$\\sum_{k=1}^{5} (Y_{k-1} + Y_k) = (Y_0 + Y_1) + (Y_1 + Y_2) + (Y_2 + Y_3) + (Y_3 + Y_4) + (Y_4 + Y_5)$$\n$$= (0 + 0.06) + (0.06 + 0.17) + (0.17 + 0.34) + (0.34 + 0.60) + (0.60 + 1.00)$$\n$$= 0.06 + 0.23 + 0.51 + 0.94 + 1.60 = 3.34$$\n因此，基尼系数为：\n$$G = 1 - 0.2 \\times 3.34 = 1 - 0.668 = 0.332$$\n\n接下来，我们计算支付的集中指数 $C$：\n$$C = 1 - \\sum_{k=1}^{5} p_k (H_{k-1} + H_k) = 1 - 0.2 \\sum_{k=1}^{5} (H_{k-1} + H_k)$$\n总和为：\n$$\\sum_{k=1}^{5} (H_{k-1} + H_k) = (H_0 + H_1) + (H_1 + H_2) + (H_2 + H_3) + (H_3 + H_4) + (H_4 + H_5)$$\n$$= (0 + 0.18) + (0.18 + 0.38) + (0.38 + 0.59) + (0.59 + 0.80) + (0.80 + 1.00)$$\n$$= 0.18 + 0.56 + 0.97 + 1.39 + 1.80 = 4.90$$\n因此，集中指数为：\n$$C = 1 - 0.2 \\times 4.90 = 1 - 0.98 = 0.02$$\n\n最后，我们计算卡克瓦尼指数 $K$：\n$$K = C - G = 0.02 - 0.332 = -0.312$$\n题目要求答案四舍五入到四位有效数字。计算值为 $-0.312$。为了用四位有效数字表示，我们写作 $-0.3120$。负号证实了该自付费用系统是累退性的。", "answer": "$$\\boxed{-0.3120}$$", "id": "4383680"}, {"introduction": "任何医疗体系的一个核心目标都是保护公民免受毁灭性的医疗费用冲击。本练习将此目标操作化，通过定义和计算灾难性卫生支出的发生率来进行评估。通过解决这个问题 [@problem_id:4383697]，你将理解如何衡量一个系统在提供财务风险保护方面的有效性，以及不同医疗模式在这一关键指标上的表现差异。", "problem": "一个国家由四个地区组成，每个地区实行一种不同的医疗保健融资模式：税收融资的 Beveridge 模式、社会医疗保险的 Bismarck 模式、单一支付方的国民健康保险（NHI）模式，以及主要是自付费用（OOP）的模式。设家庭 $i$ 的年度自付费用支出为 $OOP_i$，年收入为 $Y_i$。比率 $R_i = OOP_i / Y_i$ 是该家庭的自付费用负担。在阈值 $\\theta$ 下的灾难性卫生支出定义为事件 $R_i \\ge \\theta$。在阈值 $\\theta$ 下的灾难性发生率定义为 $R_i \\ge \\theta$ 的人口比例。在阈值 $\\theta$ 下的财务风险保护（FRP）定义为 $FRP(\\theta) = 1 - \\text{incidence}(\\theta)$。\n\n假设在每个地区内，$R_i$ 的分布是离散的，并且在所有家庭中都相同，各地区的人口份额是固定的。具体如下：\n- Beveridge 地区人口份额 $w_B = 0.30$，$R_i$ 的取值为：\n  - $0.02$，概率为 $0.50$\n  - $0.06$，概率为 $0.30$\n  - $0.11$，概率为 $0.15$\n  - $0.20$，概率为 $0.05$\n- Bismarck 地区人口份额 $w_S = 0.25$，$R_i$ 的取值为：\n  - $0.03$，概率为 $0.40$\n  - $0.08$，概率为 $0.40$\n  - $0.15$，概率为 $0.15$\n  - $0.30$，概率为 $0.05$\n- 国民健康保险（NHI）地区人口份额 $w_N = 0.25$，$R_i$ 的取值为：\n  - $0.04$，概率为 $0.35$\n  - $0.10$，概率为 $0.40$\n  - $0.18$，概率为 $0.20$\n  - $0.35$，概率为 $0.05$\n- 自付费用（OOP）地区人口份额 $w_O = 0.20$，$R_i$ 的取值为：\n  - $0.05$，概率为 $0.20$\n  - $0.12$，概率为 $0.30$\n  - $0.25$，概率为 $0.30$\n  - $0.40$，概率为 $0.20$\n\n仅使用上述定义和概率定律，计算当灾难性阈值从 $\\theta = 0.10$ 增加到 $\\theta = 0.25$ 时，国家财务风险保护的变化。形式上，计算 $\\Delta FRP = FRP(0.25) - FRP(0.10)$。将您的最终答案表示为四舍五入到四位有效数字的小数。", "solution": "我们需要为一个拥有四种不同医疗保健模式地区的国家计算国家财务风险保护的变化，即 $\\Delta FRP = FRP(0.25) - FRP(0.10)$。\n\n首先，我们建立形式化体系。设 $R$ 是一个随机变量，代表在该国随机抽取的一个家庭的自付费用负担比率 $OOP_i / Y_i$。设 $M$ 是一个随机变量，表示医疗保健模式地区，其中 $M$ 的取值可以来自集合 $\\{B, S, N, O\\}$，分别对应 Beveridge、Bismarck、国民健康保险（NHI）和自付费用（OOP）模式。\n\n人口份额以一个家庭属于每个地区的概率形式给出：\n$P(M=B) = w_B = 0.30$\n$P(M=S) = w_S = 0.25$\n$P(M=N) = w_N = 0.25$\n$P(M=O) = w_O = 0.20$\n请注意，$\\sum w_j = 0.30 + 0.25 + 0.25 + 0.20 = 1.00$。\n\n阈值为 $\\theta$ 时的灾难性发生率，记作 $\\text{inc}(\\theta)$，是指一个家庭的自付费用负担超过此阈值的概率，即 $P(R \\ge \\theta)$。\n财务风险保护（FRP）定义为 $FRP(\\theta) = 1 - \\text{inc}(\\theta)$。\n\n需要计算的量是 $\\Delta FRP = FRP(0.25) - FRP(0.10)$。\n使用 $FRP(\\theta)$ 的定义，这可以表示为：\n$$\n\\Delta FRP = \\left(1 - \\text{inc}(0.25)\\right) - \\left(1 - \\text{inc}(0.10)\\right) = \\text{inc}(0.10) - \\text{inc}(0.25)\n$$\n为了找到在给定阈值 $\\theta$ 下的国家发生率，我们使用全概率定律，以医疗保健地区为条件：\n$$\n\\text{inc}(\\theta) = P(R \\ge \\theta) = \\sum_{j \\in \\{B, S, N, O\\}} P(R \\ge \\theta | M=j) P(M=j)\n$$\n其中 $P(R \\ge \\theta | M=j)$ 是地区 $j$ 内的发生率，$P(M=j)$ 是人口份额 $w_j$。\n\n第 1 步：计算 $\\theta = 0.10$ 时的国家发生率。\n我们首先计算每个地区在 $\\theta = 0.10$ 时的发生率。这是所有大于或等于 $0.10$ 的 $R$ 的结果的概率之和。\n\n对于 Beveridge 地区 ($B$):\n$R$ 的取值为 $\\{0.02, 0.06, 0.11, 0.20\\}$。\n$\\ge 0.10$ 的值为 $\\{0.11, 0.20\\}$。\n$P(R \\ge 0.10 | M=B) = P(R=0.11) + P(R=0.20) = 0.15 + 0.05 = 0.20$。\n\n对于 Bismarck 地区 ($S$):\n$R$ 的取值为 $\\{0.03, 0.08, 0.15, 0.30\\}$。\n$\\ge 0.10$ 的值为 $\\{0.15, 0.30\\}$。\n$P(R \\ge 0.10 | M=S) = P(R=0.15) + P(R=0.30) = 0.15 + 0.05 = 0.20$。\n\n对于 NHI 地区 ($N$):\n$R$ 的取值为 $\\{0.04, 0.10, 0.18, 0.35\\}$。\n$\\ge 0.10$ 的值为 $\\{0.10, 0.18, 0.35\\}$。\n$P(R \\ge 0.10 | M=N) = P(R=0.10) + P(R=0.18) + P(R=0.35) = 0.40 + 0.20 + 0.05 = 0.65$。\n\n对于 OOP 地区 ($O$):\n$R$ 的取值为 $\\{0.05, 0.12, 0.25, 0.40\\}$。\n$\\ge 0.10$ 的值为 $\\{0.12, 0.25, 0.40\\}$。\n$P(R \\ge 0.10 | M=O) = P(R=0.12) + P(R=0.25) + P(R=0.40) = 0.30 + 0.30 + 0.20 = 0.80$。\n\n在 $\\theta = 0.10$ 时的国家发生率为：\n$$\n\\text{inc}(0.10) = w_B \\cdot P(R \\ge 0.10|M=B) + w_S \\cdot P(R \\ge 0.10|M=S) + w_N \\cdot P(R \\ge 0.10|M=N) + w_O \\cdot P(R \\ge 0.10|M=O)\n$$\n$$\n\\text{inc}(0.10) = (0.30)(0.20) + (0.25)(0.20) + (0.25)(0.65) + (0.20)(0.80)\n$$\n$$\n\\text{inc}(0.10) = 0.0600 + 0.0500 + 0.1625 + 0.1600 = 0.4325\n$$\n\n第 2 步：计算 $\\theta = 0.25$ 时的国家发生率。\n我们对阈值 $\\theta = 0.25$ 重复此过程。\n\n对于 Beveridge 地区 ($B$):\n$R$ 的取值为 $\\{0.02, 0.06, 0.11, 0.20\\}$。没有值 $\\ge 0.25$。\n$P(R \\ge 0.25 | M=B) = 0$。\n\n对于 Bismarck 地区 ($S$):\n$R$ 的取值为 $\\{0.03, 0.08, 0.15, 0.30\\}$。\n$\\ge 0.25$ 的值为 $\\{0.30\\}$。\n$P(R \\ge 0.25 | M=S) = P(R=0.30) = 0.05$。\n\n对于 NHI 地区 ($N$):\n$R$ 的取值为 $\\{0.04, 0.10, 0.18, 0.35\\}$。\n$\\ge 0.25$ 的值为 $\\{0.35\\}$。\n$P(R \\ge 0.25 | M=N) = P(R=0.35) = 0.05$。\n\n对于 OOP 地区 ($O$):\n$R$ 的取值为 $\\{0.05, 0.12, 0.25, 0.40\\}$。\n$\\ge 0.25$ 的值为 $\\{0.25, 0.40\\}$。\n$P(R \\ge 0.25 | M=O) = P(R=0.25) + P(R=0.40) = 0.30 + 0.20 = 0.50$。\n\n在 $\\theta = 0.25$ 时的国家发生率为：\n$$\n\\text{inc}(0.25) = w_B \\cdot P(R \\ge 0.25|M=B) + w_S \\cdot P(R \\ge 0.25|M=S) + w_N \\cdot P(R \\ge 0.25|M=N) + w_O \\cdot P(R \\ge 0.25|M=O)\n$$\n$$\n\\text{inc}(0.25) = (0.30)(0) + (0.25)(0.05) + (0.25)(0.05) + (0.20)(0.50)\n$$\n$$\n\\text{inc}(0.25) = 0 + 0.0125 + 0.0125 + 0.1000 = 0.1250\n$$\n\n第 3 步：计算财务风险保护的变化。\n$$\n\\Delta FRP = \\text{inc}(0.10) - \\text{inc}(0.25)\n$$\n$$\n\\Delta FRP = 0.4325 - 0.1250 = 0.3075\n$$\n问题要求答案为四舍五入到四位有效数字的小数。计算出的值 $0.3075$ 已经有四位有效数字（$3$、$0$、$7$、$5$）。因此，无需进一步四舍五入。\n灾难性阈值从 $0.10$ 增加到 $0.25$ 导致测得的灾难性发生率下降，这反过来又对应于测得的财务风险保护增加了 $0.3075$。", "answer": "$$\n\\boxed{0.3075}\n$$", "id": "4383697"}, {"introduction": "医疗服务提供者的支付方式深刻影响着患者接受医疗服务的数量和类型。本练习使用一个简化的经济模型来比较按服务付费（fee-for-service）和按人头付费（capitation）两种支付方式 [@problem_id:4383728]。它揭示了可能导致“过度服务”或“服务提供不足”的潜在激励机制，为理解不同医疗体系原型中提供者的行为提供了批判性视角。", "problem": "一位卫生系统分析师正在比较不同系统原型中使用的支付模式如何影响提供者的行为。在采用按服务收费的Bismarck式社会医疗保险模式中，提供者按每项服务收取费用；而在采用按人头付费的Beveridge式国家卫生服务(NHS)或国家健康保险(NHI)模式中，提供者为每位注册患者获得一笔固定的支付，这笔费用不取决于所提供服务的数量。\n\n考虑一个为代表性患者提供治疗的单一提供者（为便于分析，将患者数量归一化为 $1$）。该提供者选择一个服务强度 $q \\ge 0$。患者的健康效益为 $B(q) = a q - \\frac{1}{2} d q^{2}$，其中参数 $a > 0$ 且 $d > 0$。提供者的成本为 $C(q) = c q + \\frac{1}{2} k q^{2}$，其中参数 $c \\ge 0$ 且 $k > 0$。该提供者是部分利他的，其目标是最大化 $U = \\pi + \\lambda B(q)$，其中利他权重 $\\lambda \\in [0,1]$，$\\pi$ 代表货币利润。\n\n在按服务收费模式下，收入为 $r q$，其中 $r > 0$ 是每项服务的费率，因此利润为 $\\pi_{\\text{FFS}} = r q - C(q)$。在按人头付费模式下，收入是每位患者的固定金额 $R$，与 $q$ 无关，因此利润为 $\\pi_{\\text{CAP}} = R - C(q)$。\n\n任务：\n- 仅使用利润等于收入减去成本的定义以及凹性条件下内部最优解的标准一阶条件，推导出提供者的最优服务强度 $q_{\\text{FFS}}$ 和 $q_{\\text{CAP}}$，以及社会计划者通过最大化 $B(q) - C(q)$ 所选择的社会有效率的服务强度 $q^{S}$。\n- 根据原始参数 $\\{a,c,d,k,\\lambda,r\\}$，描述在何种条件下，按服务收费会相对于社会基准导致过度治疗（即 $q_{\\text{FFS}} > q^{S}$），以及在何种条件下，按人头付费会相对于社会基准导致供给不足（即 $q_{\\text{CAP}} < q^{S}$），假设均为内部解。\n- 最后，推导出按服务收费的费率阈值 $r^{*}$，使得 $q_{\\text{FFS}} = q^{S}$。在与其他参数固定的社会基准比较时，高于此阈值的 $r$ 值会导致 $q_{\\text{FFS}} > q^{S}$（过度治疗），而低于此阈值的值会导致 $q_{\\text{FFS}} < q^{S}$（供给不足）。\n\n请用 $\\{a,c,d,k,\\lambda\\}$ 表示 $r^{*}$，并以单一闭式表达式的形式给出最终答案。无需进行数值计算或四舍五入。最终答案中不要包含任何单位。", "solution": "所述问题具有科学依据、提法得当、客观且内部一致。它提出了一个卫生经济学中用于分析不同支付体系下提供者激励的标准微观经济模型。所有函数和参数都得到了明确定义，且目标是可量化的。效益和成本函数的二次形式确保了提供者和社会计划者的目标函数是严格凹函数，这保证了一阶条件能够产生唯一的内部最大值，正如问题陈述中所假设的那样。因此，该问题是有效的，并且可以推导出解。\n\n分析按照问题陈述的要求分三部分进行。\n\n首先，我们推导社会计划者的最优服务强度 $q^S$、按服务收费模式下提供者的最优服务强度 $q_{\\text{FFS}}$，以及按人头付费模式下提供者的最优服务强度 $q_{\\text{CAP}}$。\n\n社会计划者的目标是最大化社会福利函数 $W(q)$，该函数定义为患者的健康效益减去提供者的成本：\n$$W(q) = B(q) - C(q) = \\left(aq - \\frac{1}{2}dq^2\\right) - \\left(cq + \\frac{1}{2}kq^2\\right)$$\n$$W(q) = (a-c)q - \\frac{1}{2}(d+k)q^2$$\n为了找到社会有效率的服务强度 $q^S$，我们将 $W(q)$ 对 $q$ 求一阶导数并令其等于零。这是一阶最大化条件 (FOC)。\n$$\\frac{dW}{dq} = a - c - (d+k)q = 0$$\n解出 $q$ 得到社会最优水平：\n$$q^S = \\frac{a-c}{d+k}$$\n为使此为内部解（$q^S > 0$），要求 $a > c$，意味着在零强度时的边际效益超过边际成本。二阶导数为 $\\frac{d^2W}{dq^2} = -(d+k) < 0$（因为 $d>0$ 且 $k>0$），这证实了这是一个最大值。\n\n接下来，我们考虑按服务收费（FFS）支付模式下的提供者。提供者的效用函数为 $U_{\\text{FFS}} = \\pi_{\\text{FFS}} + \\lambda B(q)$，其中 $\\pi_{\\text{FFS}} = rq - C(q)$。\n$$U_{\\text{FFS}}(q) = rq - C(q) + \\lambda B(q) = rq - \\left(cq + \\frac{1}{2}kq^2\\right) + \\lambda\\left(aq - \\frac{1}{2}dq^2\\right)$$\n$$U_{\\text{FFS}}(q) = (r-c+\\lambda a)q - \\frac{1}{2}(k+\\lambda d)q^2$$\n通过将关于 $q$ 的一阶导数设为零，得到一阶条件：\n$$\\frac{dU_{\\text{FFS}}}{dq} = r - c + \\lambda a - (k+\\lambda d)q = 0$$\n解出 $q$ 得到 FFS 模式下提供者的最优强度：\n$$q_{\\text{FFS}} = \\frac{r-c+\\lambda a}{k+\\lambda d}$$\n二阶导数为 $\\frac{d^2U_{\\text{FFS}}}{dq^2} = -(k+\\lambda d) < 0$（因为 $k>0$，$d>0$ 且 $\\lambda \\ge 0$），证实了这是一个最大值。\n\n最后，我们考虑按人头付费（CAP）支付模式下的提供者。提供者的效用为 $U_{\\text{CAP}} = \\pi_{\\text{CAP}} + \\lambda B(q)$，其中 $\\pi_{\\text{CAP}} = R - C(q)$。\n$$U_{\\text{CAP}}(q) = R - C(q) + \\lambda B(q) = R - \\left(cq + \\frac{1}{2}kq^2\\right) + \\lambda\\left(aq - \\frac{1}{2}dq^2\\right)$$\n$$U_{\\text{CAP}}(q) = R + (\\lambda a - c)q - \\frac{1}{2}(k+\\lambda d)q^2$$\n通过将关于 $q$ 的一阶导数设为零，得到一阶条件：\n$$\\frac{dU_{\\text{CAP}}}{dq} = \\lambda a - c - (k+\\lambda d)q = 0$$\n解出 $q$ 得到按人头付费模式下提供者的最优强度：\n$$q_{\\text{CAP}} = \\frac{\\lambda a - c}{k+\\lambda d}$$\n二阶导数为 $\\frac{d^2U_{\\text{CAP}}}{dq^2} = -(k+\\lambda d) < 0$，再次证实了这是一个最大值。\n\n第二，我们描述 FFS 模式下过度治疗（$q_{\\text{FFS}} > q^S$）和按人头付费模式下供给不足（$q_{\\text{CAP}} < q^S$）的条件。\n对于 FFS 模式下的过度治疗，我们要求：\n$$q_{\\text{FFS}} > q^S \\implies \\frac{r-c+\\lambda a}{k+\\lambda d} > \\frac{a-c}{d+k}$$\n由于两个分母都为正，我们可以进行交叉相乘：\n$$(r-c+\\lambda a)(d+k) > (a-c)(k+\\lambda d)$$\n$$rd + rk - cd - ck + \\lambda ad + \\lambda ak > ak + a\\lambda d - ck - c\\lambda d$$\n消去 $-ck$ 项并重新整理以解出 $r$：\n$$r(d+k) > ak + a\\lambda d - cd - \\lambda ad - \\lambda ak + c\\lambda d$$\n$$r(d+k) > ak(1-\\lambda) + cd - c\\lambda d - a\\lambda d + a\\lambda d$$\n$$r(d+k) > ak(1-\\lambda) + cd(1-\\lambda) = (1-\\lambda)(ak+cd)$$\nFFS 模式下过度治疗的条件是：\n$$r > \\frac{(1-\\lambda)(ak+cd)}{d+k}$$\n\n对于按人头付费模式下的供给不足，我们要求：\n$$q_{\\text{CAP}} < q^S \\implies \\frac{\\lambda a - c}{k+\\lambda d} < \\frac{a-c}{d+k}$$\n假设 $q_{\\text{CAP}}$ 存在内部解（即 $\\lambda a - c > 0$），并且知道分母为正，我们可以进行交叉相乘：\n$$(\\lambda a - c)(d+k) < (a-c)(k+\\lambda d)$$\n$$\\lambda ad + \\lambda ak - cd - ck < ak + a\\lambda d - ck - c\\lambda d$$\n从两边消去 $-ck$：\n$$\\lambda ad + \\lambda ak - cd < ak + a\\lambda d - c\\lambda d$$\n$$(\\lambda a - a)k < (cd - c\\lambda d) - (\\lambda ad - a\\lambda d) $$\n$$-ak(1-\\lambda) < cd(1-\\lambda)$$\n如果 $\\lambda = 1$，不等式为 $0 < 0$，这是不成立的。在这种情况下，$q_{\\text{CAP}} = q^S$，这与完全利他的提供者的预期相符。如果 $\\lambda < 1$，则 $1-\\lambda > 0$，我们可以用它来除：\n$$-ak < cd \\implies ak+cd > 0$$\n因为 $a>0$, $k>0$, $c \\ge 0$, 且 $d>0$，所以 $ak+cd$ 项总是正的。因此，对于任何非完全利他（$\\lambda < 1$）且在按人头付费模式下提供非零数量服务的提供者，相对于社会最优水平的供给不足是必然的。\n\n第三，我们推导按服务收费的费率阈值 $r^*$，使得 $q_{\\text{FFS}} = q^S$。这个费率能使提供者的激励与社会计划者的目标保持一致。我们令 $q_{\\text{FFS}}$ 和 $q^S$ 的表达式相等，并将 $r$ 替换为 $r^*$：\n$$\\frac{r^*-c+\\lambda a}{k+\\lambda d} = \\frac{a-c}{d+k}$$\n我们解出 $r^*$：\n$$r^* - c + \\lambda a = (a-c)\\frac{k+\\lambda d}{d+k}$$\n$$r^* = c - \\lambda a + (a-c)\\frac{k+\\lambda d}{d+k}$$\n为简化起见，我们找到一个公分母 $d+k$：\n$$r^* = \\frac{(c - \\lambda a)(d+k) + (a-c)(k+\\lambda d)}{d+k}$$\n展开分子：\n$$\\text{Numerator} = (cd + ck - \\lambda ad - \\lambda ak) + (ak + a\\lambda d - ck - c\\lambda d)$$\n我们消去并组合各项：$+ck$ 和 $-ck$ 项相互抵消；$-\\lambda ad$ 和 $+a\\lambda d$ 项相互抵消。\n$$\\text{Numerator} = cd - \\lambda ak + ak - c\\lambda d$$\n提取公因式 $1-\\lambda$：\n$$\\text{Numerator} = ak(1-\\lambda) + cd(1-\\lambda) = (1-\\lambda)(ak+cd)$$\n因此，阈值费率 $r^*$ 为：\n$$r^* = \\frac{(1-\\lambda)(ak+cd)}{d+k}$$\n这个表达式与过度治疗分析中推导出的阈值相匹配。当 $r > r^*$ 时，该系统导致过度治疗（$q_{\\text{FFS}} > q^S$），当 $r < r^*$ 时，该系统导致供给不足（$q_{\\text{FFS}} < q^S$）。", "answer": "$$\\boxed{\\frac{(1-\\lambda)(ak+cd)}{d+k}}$$", "id": "4383728"}]}