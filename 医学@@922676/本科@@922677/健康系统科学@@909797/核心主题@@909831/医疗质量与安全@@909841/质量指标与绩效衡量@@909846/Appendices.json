{"hands_on_practices": [{"introduction": "医疗质量测量的基本任务之一是根据数据计算绩效率。然而，一个简单的比率本身并不能完全说明问题，因为抽样会带来不确定性。本练习将指导您使用置信区间这一关键工具来量化这种不确定性，帮助您判断绩效是否真正优于或低于某个基准，而不仅仅是比较两个孤立的数值。[@problem_id:4393737]", "problem": "一家健康计划报告其在一项医疗保健效果数据和信息集 (HEDIS) 指标上的绩效，该指标定义为在一个测量年度内，符合临床质量标准的合格成员所占的比例。设分母为 $n=10{,}000$ 名合格成员，分子为 $x=7{,}200$ 名符合标准的成员。该计划将其观测率与基准 $b=0.75$ 进行比较。\n\n从基本概率模型出发，假设单个成员的结果是成功概率为 $p$ 的独立同分布伯努利试验，因此 $X \\sim \\mathrm{Binomial}(n,p)$，观测样本比例为 $\\hat{p}=X/n$。请执行以下操作：\n\n1. 计算观测率 $\\hat{p}$ 的小数值。\n2. 通过计算差值 $d=\\hat{p}-b$ 来量化与基准的比较。\n3. 通过在双侧水平 $\\alpha=0.05$ 下对二项比例的渐近正态得分检验进行反演，构建真实比例 $p$ 的 $95\\%$ 威尔逊得分置信区间。\n\n报告您的最终结果，按顺序依次为以下四个小数值：观测率 $\\hat{p}$、差值 $d$、以及威尔逊区间的下限和上限。将所有值以小数（而非百分比）形式表示，并将您的答案四舍五入到四位小数。", "solution": "问题陈述经评估为有效，因为它具有科学依据、提法明确且客观。它提供了一个标准的生物统计学任务，该任务基于既定原则（二项式比例、置信区间），并包含了得出唯一解所需的所有数据。\n\n问题要求计算与健康计划在某项质量指标上的表现相关的四个量。给定数据如下：\n- 合格成员总数，即分母或样本量：$n = 10,000$。\n- 符合临床标准的成员数，即分子或成功次数：$x = 7,200$。\n- 绩效基准：$b = 0.75$。\n- 区间的置信水平为 $95\\%$，对应于显著性水平 $\\alpha = 0.05$。\n\n基础概率模型是成功次数 $X$ 服从二项分布，$X \\sim \\mathrm{Binomial}(n, p)$，其中 $p$ 是从样本抽取的总体中符合标准的成员的真实但未知的比例。\n\n首先，我们计算观测率，即样本比例 $\\hat{p}$。\n$$\n\\hat{p} = \\frac{x}{n} = \\frac{7,200}{10,000} = 0.72\n$$\n\n其次，我们通过计算差值 $d$ 来量化与基准的比较。\n$$\nd = \\hat{p} - b = 0.72 - 0.75 = -0.03\n$$\n\n第三，我们为真实比例 $p$ 构建 $95\\%$ 威尔逊得分置信区间。该区间是通过对比例的得分检验进行反演推导得出的。原假设 $H_0: p = p_0$ 的得分检验统计量由下式给出：\n$$\nZ = \\frac{\\hat{p} - p_0}{\\sqrt{\\frac{p_0(1-p_0)}{n}}}\n$$\n置信区间包含所有使得检验在双侧 $\\alpha=0.05$ 水平上不拒绝原假设的 $p_0$ 值。这意味着我们在寻找所有满足 $|Z| \\le z_{\\alpha/2}$ 的 $p$ 的集合，其中 $z_{\\alpha/2}$ 是标准正态分布的上 $\\alpha/2$ 临界值。对于 $95\\%$ 的置信水平，$\\alpha = 0.05$，因此 $\\alpha/2 = 0.025$。对应的临界值是 $z_{0.025} \\approx 1.95996$，通常四舍五入为 $z = 1.96$。我们在计算中使用这个值。\n\n需要求解的关于 $p$ 的不等式是：\n$$\n\\left| \\frac{\\hat{p} - p}{\\sqrt{\\frac{p(1-p)}{n}}} \\right| \\le z\n$$\n两边平方并整理可得：\n$$\n(\\hat{p} - p)^2 \\le z^2 \\frac{p(1-p)}{n}\n$$\n置信区间的端点是对应等式的解：\n$$\nn(\\hat{p} - p)^2 = z^2 p(1-p)\n$$\n展开此式，我们得到一个关于变量 $p$ 的一元二次方程：\n$$\nn(\\hat{p}^2 - 2\\hat{p}p + p^2) = z^2p - z^2p^2\n$$\n$$\n(n+z^2)p^2 - (2n\\hat{p} + z^2)p + n\\hat{p}^2 = 0\n$$\n使用二次方程求根公式求解 $p$，即可得到威尔逊得分区间的端点。解的一个方便的表达式是：\n$$\n\\mathrm{CI}_{\\text{Wilson}} = \\frac{\\hat{p} + \\frac{z^2}{2n} \\pm z\\sqrt{\\frac{\\hat{p}(1-\\hat{p})}{n} + \\frac{z^2}{4n^2}}}{1 + \\frac{z^2}{n}}\n$$\n现在我们代入给定值：$n=10,000$，$\\hat{p}=0.72$，以及 $z=1.96$。\n\n首先，我们计算公共项：\n$$\n\\frac{z^2}{n} = \\frac{1.96^2}{10,000} = \\frac{3.8416}{10,000} = 0.00038416\n$$\n$$\n\\frac{z^2}{2n} = \\frac{0.00038416}{2} = 0.00019208\n$$\n现在，我们来计算区间的中心和误差范围项。威尔逊区间的中心（它不同于 $\\hat{p}$）是：\n$$\n\\text{Center} = \\frac{\\hat{p} + \\frac{z^2}{2n}}{1 + \\frac{z^2}{n}} = \\frac{0.72 + 0.00019208}{1 + 0.00038416} = \\frac{0.72019208}{1.00038416} \\approx 0.7199044\n$$\n平方根下的项是：\n$$\n\\frac{\\hat{p}(1-\\hat{p})}{n} + \\frac{z^2}{4n^2} = \\frac{0.72(1-0.72)}{10,000} + \\frac{1.96^2}{4(10,000)^2} = \\frac{0.2016}{10,000} + \\frac{3.8416}{400,000,000}\n$$\n$$\n= 0.00002016 + 0.000000009604 = 0.000020169604\n$$\n该项的平方根是 $\\sqrt{0.000020169604} \\approx 0.0044910582$。\n因此，区间的误差范围是：\n$$\n\\text{Width} = \\frac{z \\sqrt{\\frac{\\hat{p}(1-\\hat{p})}{n} + \\frac{z^2}{4n^2}}}{1 + \\frac{z^2}{n}} = \\frac{1.96 \\times 0.0044910582}{1.00038416} = \\frac{0.008802474}{1.00038416} \\approx 0.0087991\n$$\n区间的端点是：\n下端点 = $\\text{中心} - \\text{宽度} = 0.7199044 - 0.0087991 = 0.7111053$\n上端点 = $\\text{中心} + \\text{宽度} = 0.7199044 + 0.0087991 = 0.7287035$\n\n问题要求结果以小数形式报告，并四舍五入到四位小数。\n- 观测率 $\\hat{p} = 0.72$，四舍五入为 $0.7200$。\n- 差值 $d = -0.03$，四舍五入为 $-0.0300$。\n- 下端点为 $0.7111053...$，四舍五入为 $0.7111$。\n- 上端点为 $0.7287035...$，四舍五入为 $0.7287$。\n\n最终结果是：\n- 观测率 $\\hat{p} = 0.7200$\n- 差值 $d = -0.0300$\n- $95\\%$ 威尔逊置信区间的下端点 $\\approx 0.7111$\n- $95\\%$ 威尔逊置信区间的上端点 $\\approx 0.7287$\n基准值 $b=0.75$ 位于该置信区间之外且高于其上限，这提供了强有力的统计证据，表明该健康计划的真实绩效率 $p$ 低于基准。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.7200  -0.0300  0.7111  0.7287\n\\end{pmatrix}\n}\n$$", "id": "4393737"}, {"introduction": "医疗服务的质量是多维度的，通常无法用单一指标来概括。本练习将演示如何将多个独立的绩效指标（例如来自 HEDIS 和 CAHPS 的指标）通过加权平均整合成一个综合质量得分。您将探索这种综合得分的构建方法，并理解其数值如何同时取决于各组成部分的表现及其被赋予的权重。[@problem_id:4393726]", "problem": "一项健康计划构建了一个综合质量得分，以指导基于价值的支付，该得分使用了来自医疗保健有效性数据信息集 (HEDIS) 和医疗服务提供者与系统消费者评估 (CAHPS) 的分量。三个HEDIS率以比例形式报告，每个都缩放到单位区间内，一个CAHPS综合指标也缩放到单位区间内。该计划采用一个固定的权重方案，反映了每个分量的相对重要性，由有序四元组权重 $(w_1, w_2, w_3, w_4) = (0.3, 0.3, 0.2, 0.2)$ 给出。\n\n各分量值为：\n- HEDIS 2岁儿童免疫状况：$x_1 = 0.88$，\n- HEDIS 结直肠癌筛查：$x_2 = 0.69$，\n- HEDIS 控制高血压：$x_3 = 0.76$，\n- CAHPS 及时护理综合指标：$x_4 = 0.80$。\n\n假设该综合得分是根据标准化率的测量学第一性原理构建的：它必须 (i) 对每个分量都是单调递增的，(ii) 对独立分量满足可加性，以便合并独立的绩效贡献时其效应是相加的，以及 (iii) 满足正齐次性，以便将一个分量乘以一个正因子时，其对综合得分的贡献也乘以相同的因子。在这些假设下，计算总体综合得分。然后，通过计算综合得分对每个 $x_i$（其中 $i \\in \\{1,2,3,4\\}$）的偏导数，来分析综合得分对每个分量的灵敏度。\n\n将您的最终答案表示为一个单行矩阵，其中包含总体得分，后随四个偏导数，顺序为 $\\left(S, \\frac{\\partial S}{\\partial x_1}, \\frac{\\partial S}{\\partial x_2}, \\frac{\\partial S}{\\partial x_3}, \\frac{\\partial S}{\\partial x_4}\\right)$。所有量均以小数表示，不带百分号。将您的最终答案四舍五入到四位有效数字。", "solution": "该问题要求计算一个综合质量得分 $S$，并分析其对其分量的灵敏度。在继续之前，必须确定问题的有效性。\n\n**问题验证**\n\n已知条件如下：\n-   四个分量指标，$x_1$、$x_2$、$x_3$ 和 $x_4$，均已缩放到单位区间内。\n-   各分量的数值为：$x_1 = 0.88$，$x_2 = 0.69$，$x_3 = 0.76$ 和 $x_4 = 0.80$。\n-   一个固定的权重方案，由有序四元组 $(w_1, w_2, w_3, w_4) = (0.3, 0.3, 0.2, 0.2)$ 给出。\n-   综合得分函数 $S(x_1, x_2, x_3, x_4)$ 的三个公理化性质：\n    (i) 对每个分量 $x_i$ 单调递增。\n    (ii) 对独立分量具有可加性。\n    (iii) 正齐次性。\n\n该问题具有科学依据，属于卫生系统科学领域，并采用了标准指标（HEDIS, CAHPS）和概念（综合得分，加权）。该问题是适定的，因为公理化性质充分约束了综合得分的函数形式，没有留下任何歧义。所有必要的数据都已提供。语言客观而精确。因此，该问题被认为是有效的，可以制定解决方案。\n\n**综合得分函数的推导**\n\n设综合得分由函数 $S(x_1, x_2, x_3, x_4)$ 表示。问题规定了此函数必须满足的性质。\n\n$1$. **独立分量的可加性** 性质意味着，假设各分量代表独立的绩效维度，则总分是每个分量贡献的总和。这可以表示为：\n$$S(x_1, x_2, x_3, x_4) = f_1(x_1) + f_2(x_2) + f_3(x_3) + f_4(x_4)$$\n其中 $f_i(x_i)$ 是表示分量 $x_i$ 对总分贡献的函数。\n\n$2$. **正齐次性** 性质指出，将一个分量乘以一个正因子 $k > 0$ 时，其对综合得分的贡献也乘以相同的因子。这意味着对于每个分量函数 $f_i$：\n$$f_i(k x_i) = k f_i(x_i)$$\n满足此性质的单变量函数是穿过原点的线性函数。因此，每个函数 $f_i$ 必须具有以下形式：\n$$f_i(x_i) = w_i x_i$$\n其中 $w_i$ 是一个比例常数。\n\n结合这两个性质，综合得分函数必须采用加权线性和的形式：\n$$S(x_1, x_2, x_3, x_4) = w_1 x_1 + w_2 x_2 + w_3 x_3 + w_4 x_4 = \\sum_{i=1}^{4} w_i x_i$$\n比例常数 $w_i$ 在问题陈述中被明确指定为反映每个分量相对重要性的权重。\n\n$3$. 对每个分量 $x_i$ **单调递增** 的性质要求 $S$ 对每个 $x_i$ 的偏导数非负：\n$$\\frac{\\partial S}{\\partial x_i} \\ge 0$$\n对于推导出的函数形式，其偏导数为：\n$$\\frac{\\partial S}{\\partial x_i} = \\frac{\\partial}{\\partial x_i} \\left( \\sum_{j=1}^{4} w_j x_j \\right) = w_i$$\n此条件要求对于所有 $i \\in \\{1, 2, 3, 4\\}$ 都有 $w_i \\ge 0$。给定的权重为 $(w_1, w_2, w_3, w_4) = (0.3, 0.3, 0.2, 0.2)$，均为正数，因此满足此要求。\n\n**综合得分的计算**\n\n通过将给定的权重和分量值代入推导出的公式来计算综合得分 $S$：\n$$S = w_1 x_1 + w_2 x_2 + w_3 x_3 + w_4 x_4$$\n给定的值为：\n-   权重：$w_1 = 0.3$，$w_2 = 0.3$，$w_3 = 0.2$，$w_4 = 0.2$。\n-   分量值：$x_1 = 0.88$，$x_2 = 0.69$，$x_3 = 0.76$，$x_4 = 0.80$。\n\n代入这些值：\n$$S = (0.3)(0.88) + (0.3)(0.69) + (0.2)(0.76) + (0.2)(0.80)$$\n$$S = 0.264 + 0.207 + 0.152 + 0.160$$\n$$S = 0.783$$\n四舍五入到四位有效数字，得到 $S = 0.7830$。\n\n**灵敏度分析**\n\n综合得分 $S$ 对每个分量 $x_i$ 的灵敏度由偏导数 $\\frac{\\partial S}{\\partial x_i}$ 给出。如上所述，对于线性模型 $S = \\sum w_i x_i$，关于 $x_i$ 的偏导数就是相应的权重 $w_i$。\n$$\\frac{\\partial S}{\\partial x_1} = w_1 = 0.3$$\n$$\\frac{\\partial S}{\\partial x_2} = w_2 = 0.3$$\n$$\\frac{\\partial S}{\\partial x_3} = w_3 = 0.2$$\n$$\\frac{\\partial S}{\\partial x_4} = w_4 = 0.2$$\n这些偏导数是常数，表明任何分量得分的一单位变化对综合得分的影响是恒定的，等于其权重，而与各分量的当前值无关。\n\n将这些值四舍五入到四位有效数字，得到：\n-   $\\frac{\\partial S}{\\partial x_1} = 0.3000$\n-   $\\frac{\\partial S}{\\partial x_2} = 0.3000$\n-   $\\frac{\\partial S}{\\partial x_3} = 0.2000$\n-   $\\frac{\\partial S}{\\partial x_4} = 0.2000$\n\n**最终结果组合**\n\n最终答案应表示为一个单行矩阵，其中包含总体得分，后随四个偏导数：\n$$\\left(S, \\frac{\\partial S}{\\partial x_1}, \\frac{\\partial S}{\\partial x_2}, \\frac{\\partial S}{\\partial x_3}, \\frac{\\partial S}{\\partial x_4}\\right)$$\n代入计算并四舍五入后的值：\n$$(0.7830, 0.3000, 0.3000, 0.2000, 0.2000)$$\n该矩阵提供了综合得分以及该得分对其各组成部分变化的灵敏度。", "answer": "$$\\boxed{\\begin{pmatrix} 0.7830  0.3000  0.3000  0.2000  0.2000 \\end{pmatrix}}$$", "id": "4393726"}, {"introduction": "质量分数常常被用来给医疗计划贴上简单的标签，例如“高绩效”。然而，当我们看到一个计划被如此标记时，我们能在多大程度上确信它*真正*是高绩效的？本练习将应用贝叶斯定理来计算阳性预测值，揭示分类器的准确性（由灵敏度和特异性定义）与高绩效计划的实际普遍程度如何共同决定一个质量评级的现实意义。[@problem_id:4393731]", "problem": "某个州卫生部门正在考虑公开发布一份综合性健康计划绩效分类器的报告，该分类器是根据“医疗保健效果数据和信息集 (HEDIS)”的临床质量指标以及“医疗服务提供者与系统消费者评估 (CAHPS)”的患者体验测量构建的。如果某健康计划的综合得分超过一个阈值，该分类器会将其标记为“高绩效”。与金标准的验证表明，该分类器在识别真正的高绩效计划方面，其灵敏度为 $0.85$，特异性为 $0.90$。在当前市场中，真正的高绩效计划的普遍率为 $0.30$。请仅使用灵敏度、特异性和普遍率的核心定义，结合贝叶斯定理和全概率定律，推导出阳性预测值。阳性预测值定义为：在分类器将某计划标记为高绩效的条件下，该计划确实是高绩效的概率。使用所提供的参数计算该值。将您的答案四舍五入至四位有效数字，并以小数形式表示。然后，用一到两句话简要解释该值对于将计划标记为高绩效的公开报告决策意味着什么。", "solution": "该问题是有效的，因为它在科学上基于诊断测试和概率论的原理，提法得当且提供了所有必要的数据，并且语言客观。它代表了贝叶斯统计在卫生服务研究中的一个标准应用。\n\n令 $H$ 表示健康计划确实是高绩效的事件，$\\neg H$ 表示健康计划并非高绩效的事件。令 $T^+$ 表示分类器将计划标记为“高绩效”（阳性测试结果）的事件， $T^-$ 表示分类器将计划标记为非高绩效（阴性测试结果）的事件。\n\n所提供的信息可以用条件概率表示：\n-   真正高绩效计划的普遍率为 $P(H) = 0.30$。\n-   分类器的灵敏度是在计划确实是高绩效的情况下，测试结果为阳性的概率：$P(T^+ | H) = 0.85$。\n-   分类器的特异性是在计划并非高绩效的情况下，测试结果为阴性的概率：$P(T^- | \\neg H) = 0.90$。\n\n根据普遍率，我们可以确定一个计划并非真正高绩效的概率，因为这两个事件是互补的：\n$$P(\\neg H) = 1 - P(H) = 1 - 0.30 = 0.70$$\n\n根据特异性，我们可以确定假阳性率，即在计划并非高绩效的情况下，测试结果为阳性的概率。这是特异性的补集：\n$$P(T^+ | \\neg H) = 1 - P(T^- | \\neg H) = 1 - 0.90 = 0.10$$\n\n目标是推导并计算阳性预测值 (PPV)，其定义为在分类器将一个计划标记为高绩效的情况下，该计划确实是高绩效的概率。这对应于条件概率 $P(H | T^+)$。\n\n使用贝叶斯定理，PPV 表示为：\n$$P(H | T^+) = \\frac{P(T^+ | H) P(H)}{P(T^+)}$$\n\n分母 $P(T^+)$ 是测试结果为阳性的总概率。我们可以使用全概率定律来计算这个值，即对出现阳性测试的两种互斥情景（真阳性和假阳性）的概率求和：\n$$P(T^+) = P(T^+ \\cap H) + P(T^+ \\cap \\neg H)$$\n使用条件概率的定义 $P(A \\cap B) = P(A|B)P(B)$，上式变为：\n$$P(T^+) = P(T^+ | H) P(H) + P(T^+ | \\neg H) P(\\neg H)$$\n\n现在，我们可以将已知值代入此表达式来计算 $P(T^+)$：\n$$P(T^+) = (0.85)(0.30) + (0.10)(0.70)$$\n$$P(T^+) = 0.255 + 0.070 = 0.325$$\n\n计算出 $P(T^+)$ 后，我们现在可以使用贝叶斯定理公式来计算 PPV：\n$$P(H | T^+) = \\frac{P(T^+ | H) P(H)}{P(T^+)} = \\frac{(0.85)(0.30)}{0.325} = \\frac{0.255}{0.325}$$\n\n计算最终值：\n$$P(H | T^+) \\approx 0.78461538...$$\n四舍五入至四位有效数字，我们得到 $0.7846$。\n\n这个 $0.7846$ 的阳性预测值意味着，如果分类器将一个健康计划标记为“高绩效”，那么该计划确实是高绩效的概率为 $78.46\\%$。因此，这也意味着有 $21.54\\%$ 的概率（$1 - 0.7846$）该计划并非真正的高绩效，这凸显了因错误地表扬表现不佳的健康计划而误导公众的显著风险。", "answer": "$$\\boxed{0.7846}$$", "id": "4393731"}]}