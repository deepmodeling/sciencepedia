{"hands_on_practices": [{"introduction": "我们从理解分类器如何“学习”其决策规则开始。像随机森林这样的强大模型是由许多决策树构建的，而本练习将带你深入了解决策树的核心机制。你将通过计算一个给定分裂条件的基尼不纯度（Gini impurity）下降量，来量化一个特征在区分不同类别时的有效性，从而掌握模型从数据中学习的关键步骤。[@problem_id:4532531]", "problem": "一项影像组学研究旨在使用从灰度共生矩阵 (Gray-Level Co-occurrence Matrix, GLCM) 中提取的纹理特征，将脑肿瘤样本分为低级别胶质瘤和高级别胶质瘤。一个随机森林 (Random Forest, RF) 分类器使用这些特征进行训练。在某个决策节点，有 $N = 120$ 个样本：$80$ 个是高级别，$40$ 个是低级别。考虑在单个纹理特征（例如，GLCM 熵）上，使用阈值 $t$ 进行一次候选分裂，该分裂将节点划分为一个包含 $70$ 个样本（$50$ 个高级别，$20$ 个低级别）的左子节点和一个包含 $50$ 个样本（$30$ 个高级别，$20$ 个低级别）的右子节点。\n\n从以下定义出发：节点处的基尼不纯度是指从该节点的类别分布中随机抽取的两个独立标签不相同的概率；并且随机森林的分裂标准是选择能最大化期望不纯度减少量（父节点不纯度减去按样本比例加权的子节点不纯度）的分裂。请推导出对于此阈值 $t$ 的确切期望不纯度减少量。\n\n将您的最终结果表示为一个最简形式的精确有理数。不包含单位。无需四舍五入。", "solution": "该问题提法明确，具有科学依据，并为得出唯一解提供了所有必要信息。数据内部一致。我将开始进行计算。\n\n目标是计算决策树节点中给定分裂的期望不纯度减少量，也称为信息增益。其计算方法为父节点的不纯度减去子节点不纯度的加权平均值。所使用的不纯度度量是基尼不纯度。\n\n首先，我们将基尼不纯度形式化。根据问题中的定义，一个节点处的基尼不纯度 $G$ 是从该节点的类别分布中随机抽取的两个独立样本具有不同标签的概率。对于一个有 $K$ 个类别的节点，其中类别 $i$ 的比例为 $p_i$，抽取一个类别为 $i$ 的样本的概率是 $p_i$。独立抽取两个类别同为 $i$ 的样本的概率是 $p_i^2$。抽取两个类别相同的样本（任何类别）的概率是 $\\sum_{i=1}^{K} p_i^2$。因此，基尼不纯度由下式给出：\n$$G = 1 - \\sum_{i=1}^{K} p_i^2$$\n在这个问题中，有 $K=2$ 个类别：高级别胶质瘤 (HG) 和低级别胶质瘤 (LG)。\n\n让我们计算父节点 $G_{parent}$ 的基尼不纯度。\n父节点有 $N_{parent} = 120$ 个样本。\n高级别样本的数量为 $N_{HG, parent} = 80$。\n低级别样本的数量为 $N_{LG, parent} = 40$。\n父节点中各个类别的比例如下：\n$p_{HG, parent} = \\frac{N_{HG, parent}}{N_{parent}} = \\frac{80}{120} = \\frac{2}{3}$\n$p_{LG, parent} = \\frac{N_{LG, parent}}{N_{parent}} = \\frac{40}{120} = \\frac{1}{3}$\n父节点的基尼不纯度为：\n$$G_{parent} = 1 - \\left(p_{HG, parent}^2 + p_{LG, parent}^2\\right) = 1 - \\left(\\left(\\frac{2}{3}\\right)^2 + \\left(\\frac{1}{3}\\right)^2\\right) = 1 - \\left(\\frac{4}{9} + \\frac{1}{9}\\right) = 1 - \\frac{5}{9} = \\frac{4}{9}$$\n\n接下来，我们计算左子节点 $G_{left}$ 的基尼不纯度。\n左子节点有 $N_{left} = 70$ 个样本。\n高级别样本的数量为 $N_{HG, left} = 50$。\n低级别样本的数量为 $N_{LG, left} = 20$。\n左子节点中各个类别的比例如下：\n$p_{HG, left} = \\frac{N_{HG, left}}{N_{left}} = \\frac{50}{70} = \\frac{5}{7}$\n$p_{LG, left} = \\frac{N_{LG, left}}{N_{left}} = \\frac{20}{70} = \\frac{2}{7}$\n左子节点的基尼不纯度为：\n$$G_{left} = 1 - \\left(p_{HG, left}^2 + p_{LG, left}^2\\right) = 1 - \\left(\\left(\\frac{5}{7}\\right)^2 + \\left(\\frac{2}{7}\\right)^2\\right) = 1 - \\left(\\frac{25}{49} + \\frac{4}{49}\\right) = 1 - \\frac{29}{49} = \\frac{20}{49}$$\n\n然后，我们计算右子节点 $G_{right}$ 的基尼不纯度。\n右子节点有 $N_{right} = 50$ 个样本。\n高级别样本的数量为 $N_{HG, right} = 30$。\n低级别样本的数量为 $N_{LG, right} = 20$。\n右子节点中各个类别的比例如下：\n$p_{HG, right} = \\frac{N_{HG, right}}{N_{right}} = \\frac{30}{50} = \\frac{3}{5}$\n$p_{LG, right} = \\frac{N_{LG, right}}{N_{right}} = \\frac{20}{50} = \\frac{2}{5}$\n右子节点的基尼不纯度为：\n$$G_{right} = 1 - \\left(p_{HG, right}^2 + p_{LG, right}^2\\right) = 1 - \\left(\\left(\\frac{3}{5}\\right)^2 + \\left(\\frac{2}{5}\\right)^2\\right) = 1 - \\left(\\frac{9}{25} + \\frac{4}{25}\\right) = 1 - \\frac{13}{25} = \\frac{12}{25}$$\n\n最后，我们计算期望不纯度减少量，即信息增益 $\\Delta G$。它等于父节点的不纯度减去子节点不纯度的加权平均值。权重是父节点中进入每个子节点的样本所占的比例。\n$$\\Delta G = G_{parent} - \\left(\\frac{N_{left}}{N_{parent}} G_{left} + \\frac{N_{right}}{N_{parent}} G_{right}\\right)$$\n代入给定值和我们计算出的不纯度：\n$$\\Delta G = \\frac{4}{9} - \\left(\\frac{70}{120} \\cdot \\frac{20}{49} + \\frac{50}{120} \\cdot \\frac{12}{25}\\right)$$\n首先，我们简化权重的分数：$\\frac{70}{120} = \\frac{7}{12}$ 和 $\\frac{50}{120} = \\frac{5}{12}$。\n$$\\Delta G = \\frac{4}{9} - \\left(\\frac{7}{12} \\cdot \\frac{20}{49} + \\frac{5}{12} \\cdot \\frac{12}{25}\\right)$$\n现在，我们计算括号中的项：\n$$\\frac{7}{12} \\cdot \\frac{20}{49} = \\frac{1}{12} \\cdot \\frac{20}{7} = \\frac{5}{3 \\cdot 7} = \\frac{5}{21}$$\n$$\\frac{5}{12} \\cdot \\frac{12}{25} = \\frac{5}{25} = \\frac{1}{5}$$\n所以子节点不纯度的加权平均值为：\n$$\\frac{5}{21} + \\frac{1}{5} = \\frac{5 \\cdot 5}{21 \\cdot 5} + \\frac{1 \\cdot 21}{5 \\cdot 21} = \\frac{25}{105} + \\frac{21}{105} = \\frac{46}{105}$$\n现在我们从父节点的不纯度中减去这个值：\n$$\\Delta G = \\frac{4}{9} - \\frac{46}{105}$$\n为了进行分数减法，我们求一个公分母。$9 = 3^2$ 和 $105 = 3 \\cdot 5 \\cdot 7$ 的最小公倍数是 $3^2 \\cdot 5 \\cdot 7 = 9 \\cdot 35 = 315$。\n$$\\Delta G = \\frac{4 \\cdot 35}{9 \\cdot 35} - \\frac{46 \\cdot 3}{105 \\cdot 3} = \\frac{140}{315} - \\frac{138}{315} = \\frac{140 - 138}{315} = \\frac{2}{315}$$\n分子 $2$ 和分母 $315$ 互质，所以该分数是最简形式。确切的期望不纯度减少量是 $\\frac{2}{315}$。", "answer": "$$\\boxed{\\frac{2}{315}}$$", "id": "4532531"}, {"introduction": "一个训练好的分类器通常输出一个连续的分数，而非简单的二元标签。为了在临床场景（如疾病筛查）中应用这个分数，我们必须设定一个明确的决策阈值。这个练习将指导你如何基于真实的临床需求，如保证足够高的阴性预测值（$NPV$），来确定一个最佳阈值，从而将模型的统计性能与实际应用联系起来。[@problem_id:4532566]", "problem": "一款基于影像组学的筛查分类器为每位受试者输出一个连续得分 $S$，得分越高表示患病可能性越大。在一个目标筛查人群中，设患病率 $p = 0.05$，假设得分分布近似为高斯分布：在患病（$D$）的条件下，得分 $S \\mid D \\sim \\mathcal{N}(\\mu_1, \\sigma^2)$，其中 $\\mu_1 = 2$，$\\sigma = 1$；在未患病（$\\neg D$）的条件下，得分 $S \\mid \\neg D \\sim \\mathcal{N}(\\mu_0, \\sigma^2)$，其中 $\\mu_0 = 0$，$\\sigma = 1$。如果对于某个阈值 $t \\in \\mathbb{R}$，得分 $S \\ge t$，则该受试者被分类为筛查阳性。将灵敏度记为 $\\mathrm{Se}(t) = \\mathbb{P}(S \\ge t \\mid D)$，特异度记为 $\\mathrm{Sp}(t) = \\mathbb{P}(S  t \\mid \\neg D)$。令 $\\Phi(\\cdot)$ 为标准正态累积分布函数。\n\n从灵敏度和特异度的定义以及条件概率的贝叶斯定理出发，将阳性预测值（PPV）和阴性预测值（NPV）表示为关于 $\\mathrm{Se}(t)$、$\\mathrm{Sp}(t)$ 和 $p$ 的函数 $\\mathrm{PPV}(t)$ 和 $\\mathrm{NPV}(t)$。然后，使用指定的高斯得分模型，确定满足筛查设计要求 $\\mathrm{NPV}(t^{\\star}) = 0.995$ 的唯一阈值 $t^{\\star}$。\n\n将最终阈值四舍五入至三位有效数字。将最终阈值表示为无单位的纯数。", "solution": "我们从二元分类中使用的核心定义和贝叶斯定理开始。对于一个阈值 $t$，定义\n$$\n\\mathrm{Se}(t) = \\mathbb{P}(S \\ge t \\mid D), \\quad \\mathrm{Sp}(t) = \\mathbb{P}(S  t \\mid \\neg D).\n$$\n令 $p = \\mathbb{P}(D)$ 表示患病率，$1-p = \\mathbb{P}(\\neg D)$ 表示未患病率。根据贝叶斯定理，阳性预测值（PPV）和阴性预测值（NPV）为\n$$\n\\mathrm{PPV}(t) = \\mathbb{P}(D \\mid S \\ge t) = \\frac{\\mathbb{P}(S \\ge t \\mid D)\\,\\mathbb{P}(D)}{\\mathbb{P}(S \\ge t \\mid D)\\,\\mathbb{P}(D) + \\mathbb{P}(S \\ge t \\mid \\neg D)\\,\\mathbb{P}(\\neg D)},\n$$\n$$\n\\mathrm{NPV}(t) = \\mathbb{P}(\\neg D \\mid S  t) = \\frac{\\mathbb{P}(S  t \\mid \\neg D)\\,\\mathbb{P}(\\neg D)}{\\mathbb{P}(S  t \\mid \\neg D)\\,\\mathbb{P}(\\neg D) + \\mathbb{P}(S  t \\mid D)\\,\\mathbb{P}(D)}.\n$$\n注意到 $\\mathbb{P}(S \\ge t \\mid \\neg D) = 1 - \\mathrm{Sp}(t)$ 和 $\\mathbb{P}(S  t \\mid D) = 1 - \\mathrm{Se}(t)$，我们可将其重写为\n$$\n\\mathrm{PPV}(t) = \\frac{\\mathrm{Se}(t)\\,p}{\\mathrm{Se}(t)\\,p + \\left(1 - \\mathrm{Sp}(t)\\right)\\,(1-p)},\n$$\n$$\n\\mathrm{NPV}(t) = \\frac{\\mathrm{Sp}(t)\\,(1-p)}{\\mathrm{Sp}(t)\\,(1-p) + \\left(1 - \\mathrm{Se}(t)\\right)\\,p}.\n$$\n\n接下来，我们将 $\\mathrm{Se}(t)$ 和 $\\mathrm{Sp}(t)$ 与高斯得分模型联系起来。根据 $S \\mid D \\sim \\mathcal{N}(\\mu_1, \\sigma^2)$ 和 $S \\mid \\neg D \\sim \\mathcal{N}(\\mu_0, \\sigma^2)$ 以及“若 $S \\ge t$ 则为阳性”的规则，我们有\n$$\n\\mathrm{Se}(t) = \\mathbb{P}(S \\ge t \\mid D) = 1 - \\Phi\\!\\left(\\frac{t - \\mu_1}{\\sigma}\\right) = \\Phi\\!\\left(\\frac{\\mu_1 - t}{\\sigma}\\right),\n$$\n$$\n\\mathrm{Sp}(t) = \\mathbb{P}(S  t \\mid \\neg D) = \\Phi\\!\\left(\\frac{t - \\mu_0}{\\sigma}\\right).\n$$\n对于指定的参数 $\\mu_1 = 2$，$\\mu_0 = 0$ 和 $\\sigma = 1$，这些表达式可具体化为\n$$\n\\mathrm{Se}(t) = \\Phi(2 - t), \\qquad \\mathrm{Sp}(t) = \\Phi(t).\n$$\n\n筛查设计要求是在患病率 $p = 0.05$ 时 $\\mathrm{NPV}(t^{\\star}) = 0.995$。令 $\\alpha = 0.995$。代入NPV公式，\n$$\n\\alpha = \\frac{\\mathrm{Sp}(t)\\,(1-p)}{\\mathrm{Sp}(t)\\,(1-p) + \\left(1 - \\mathrm{Se}(t)\\right)\\,p}.\n$$\n整理公式，以得到 $\\left(1 - \\mathrm{Se}(t)\\right)$ 和 $\\mathrm{Sp}(t)$ 之间的线性关系：\n\\begin{align*}\n\\alpha\\left[\\mathrm{Sp}(t)\\,(1-p) + \\left(1 - \\mathrm{Se}(t)\\right)\\,p\\right] = \\mathrm{Sp}(t)\\,(1-p), \\\\\n\\alpha\\,p\\left(1 - \\mathrm{Se}(t)\\right) = \\mathrm{Sp}(t)\\,(1-p)\\,(1 - \\alpha), \\\\\n1 - \\mathrm{Se}(t) = \\frac{(1-\\alpha)(1-p)}{\\alpha\\,p}\\,\\mathrm{Sp}(t).\n\\end{align*}\n当 $p = 0.05$ 且 $\\alpha = 0.995$ 时，\n$$\n\\frac{(1-\\alpha)(1-p)}{\\alpha\\,p} = \\frac{0.005 \\times 0.95}{0.995 \\times 0.05} = \\frac{0.00475}{0.04975} \\approx 0.0954773869.\n$$\n因此，\n$$\n1 - \\mathrm{Se}(t) \\approx 0.0954773869 \\,\\mathrm{Sp}(t).\n$$\n使用高斯表达式，\n$$\n1 - \\mathrm{Se}(t) = 1 - \\Phi(2 - t) = \\Phi(t - 2),\n$$\n所以阈值 $t^{\\star}$ 是以下方程的唯一解\n$$\n\\Phi(t^{\\star} - 2) = 0.0954773869 \\,\\Phi(t^{\\star}).\n$$\n\n我们现在对该方程进行数值求解。定义 $f(t) = \\Phi(t - 2) - 0.0954773869\\,\\Phi(t)$。我们通过设定区间来定位根：\n\n- 在 $t = 0.49$ 时，使用标准正态值 $\\Phi(0.49) \\approx 0.6879$ 和 $\\Phi(-1.51) \\approx 0.0655$，我们得到\n$$\nf(0.49) \\approx 0.0655 - 0.0954773869 \\times 0.6879 \\approx 0.0655 - 0.06568 \\approx -1.8 \\times 10^{-4}.\n$$\n- 在 $t = 0.50$ 时，使用 $\\Phi(0.50) \\approx 0.691462$ 和 $\\Phi(-1.50) \\approx 0.066807$，我们得到\n$$\nf(0.50) \\approx 0.066807 - 0.0954773869 \\times 0.691462 \\approx 0.066807 - 0.066019 \\approx 7.9 \\times 10^{-4}.\n$$\n一个根位于 $t = 0.49$ 和 $t = 0.50$ 之间。在 $t = 0.492$ 处进一步精确计算：\n- $\\Phi(0.492) \\approx 0.688612$, $\\Phi(-1.508) \\approx 0.06574$,\n$$\nf(0.492) \\approx 0.06574 - 0.0954773869 \\times 0.688612 \\approx 0.06574 - 0.065746 \\approx -6 \\times 10^{-6}.\n$$\n这个值非常接近于零，表明解约等于 $t^{\\star} \\approx 0.492$。根据构造，该值满足 $\\mathrm{NPV}(t^{\\star}) \\approx 0.995$。\n\n为了完整起见，我们可以计算在 $t^{\\star} \\approx 0.492$ 时对应的灵敏度和特异度：\n$$\n\\mathrm{Se}(t^{\\star}) = \\Phi(2 - 0.492) = \\Phi(1.508) \\approx 1 - \\Phi(-1.508) \\approx 1 - 0.06574 \\approx 0.93426,\n$$\n$$\n\\mathrm{Sp}(t^{\\star}) = \\Phi(0.492) \\approx 0.68861.\n$$\n那么\n$$\n\\mathrm{PPV}(t^{\\star}) = \\frac{0.93426 \\times 0.05}{0.93426 \\times 0.05 + (1 - 0.68861)\\times 0.95} \\approx \\frac{0.046713}{0.046713 + 0.31139 \\times 0.95} \\approx \\frac{0.046713}{0.34253} \\approx 0.136,\n$$\n以及\n$$\n\\mathrm{NPV}(t^{\\star}) = \\frac{0.68861 \\times 0.95}{0.68861 \\times 0.95 + (1 - 0.93426)\\times 0.05} \\approx \\frac{0.65418}{0.65418 + 0.003287} \\approx 0.995,\n$$\n这验证了设计目标。\n\n将阈值四舍五入到三位有效数字，得到 $t^{\\star} = 0.492$。", "answer": "$$\\boxed{0.492}$$", "id": "4532566"}, {"introduction": "并非所有放射组学任务都依赖于预先标记好的数据。聚类是一种强大的无监督学习方法，能帮助我们发现数据中潜在的自然分组。本练习将介绍轮廓系数（Silhouette score），这是一个核心的评估指标，用于量化聚类结果中簇的内部紧密度和簇间分离度，让你能够客观地评价无监督学习模型的表现。[@problem_id:4532507]", "problem": "一个研究团队从肺结节的计算机断层扫描（CT）图像中提取高维放射组学特征，将每个特征标准化为零均值和单位方差，并使用标准化欧几里得距离计算成对的相异性。他们进行非监督聚类，并得到一个包含 $2$ 个簇的聚类方案。对于每个病灶 $i$，令 $a(i)$ 表示 $i$ 与其自身所在簇中所有其他病灶的平均距离（簇内平均距离），令 $b(i)$ 表示 $i$ 与其他所有簇中病灶的平均距离的最小值（最近簇平均距离）。\n\n任务：\n1. 以标准聚类定义为基础，用 $a(i)$ 和 $b(i)$ 精确定义单个病灶 $i$ 的轮廓系数 $s(i)$，以及所有病灶的总体平均轮廓系数 $\\bar{s}$。\n2. 计算以下聚类方案的总体平均轮廓系数 $\\bar{s}$。共有 $6$ 个病灶，索引从 $1$ 到 $6$。每个病灶的簇内平均距离和最近簇平均距离 $(a(i), b(i))$ 如下：\n- 病灶 $1$：$a(1) = 0.45$， $b(1) = 0.80$\n- 病灶 $2$：$a(2) = 0.50$， $b(2) = 0.95$\n- 病灶 $3$：$a(3) = 0.40$， $b(3) = 0.70$\n- 病灶 $4$：$a(4) = 0.55$， $b(4) = 0.85$\n- 病灶 $5$：$a(5) = 0.60$， $b(5) = 1.20$\n- 病灶 $6$：$a(6) = 0.50$， $b(6) = 0.90$\n\n将 $\\bar{s}$ 的最终答案表示为保留四位有效数字的小数。", "solution": "问题陈述已经过验证，被认为是合理的、适定的和有科学依据的。它提出了一个非监督机器学习领域及其在放射组学应用中的标准计算任务。所有必要的数据和定义均已提供。\n\n第一个任务是为单个数据点定义轮廓系数，并为数据集定义总体平均轮廓系数。设 $i$ 是一个数据集中被划分为若干个簇的单个病灶（数据点）。$a(i)$ 和 $b(i)$ 的定义如下：\n- $a(i)$: 病灶 $i$ 与同一簇内所有其他病灶的平均相异性（在本例中为标准化欧几里得距离）。这衡量了 $i$ 分配到其簇的优劣程度（内聚性）。\n- $b(i)$: $i$ 与其不属于的任何其他簇中所有病灶的最小平均相异性。这衡量了 $i$ 与其他簇的分离优劣程度（分离度）。\n\n单个病灶 $i$ 的轮廓系数 $s(i)$ 是衡量该病灶与其自身簇相比于其他簇的相似程度的度量。其定义为：\n$$s(i) = \\frac{b(i) - a(i)}{\\max\\{a(i), b(i)\\}}$$\n$s(i)$ 的值范围从 $-1$ 到 $1$。接近 $1$ 的值表示该病灶与其自身簇匹配良好，而与相邻簇匹配不佳。接近 $0$ 的值表示该病灶位于两个相邻簇的决策边界上或非常接近。负值则表明该病灶可能被分配到了错误的簇。\n\n总体平均轮廓系数，记为 $\\bar{s}$，是数据集中所有病灶的单个轮廓系数 $s(i)$ 的平均值。如果总共有 $N$ 个病灶，则平均分数为：\n$$\\bar{s} = \\frac{1}{N} \\sum_{i=1}^{N} s(i)$$\n\n第二个任务是计算给定的包含 $N=6$ 个病灶的聚类方案的总体平均轮廓系数 $\\bar{s}$。提供的 $(a(i), b(i))$ 值如下：\n- 病灶 $1$：$a(1) = 0.45$， $b(1) = 0.80$\n- 病灶 $2$：$a(2) = 0.50$， $b(2) = 0.95$\n- 病灶 $3$：$a(3) = 0.40$， $b(3) = 0.70$\n- 病灶 $4$：$a(4) = 0.55$， $b(4) = 0.85$\n- 病灶 $5$：$a(5) = 0.60$， $b(5) = 1.20$\n- 病灶 $6$：$a(6) = 0.50$， $b(6) = 0.90$\n\n我们首先计算从 $1$ 到 $6$ 的每个病灶 $i$ 的单个轮廓系数 $s(i)$。\n\n对于病灶 $1$：\n$$s(1) = \\frac{b(1) - a(1)}{\\max\\{a(1), b(1)\\}} = \\frac{0.80 - 0.45}{\\max\\{0.45, 0.80\\}} = \\frac{0.35}{0.80} = 0.4375$$\n\n对于病灶 $2$：\n$$s(2) = \\frac{b(2) - a(2)}{\\max\\{a(2), b(2)\\}} = \\frac{0.95 - 0.50}{\\max\\{0.50, 0.95\\}} = \\frac{0.45}{0.95} \\approx 0.473684$$\n\n对于病灶 $3$：\n$$s(3) = \\frac{b(3) - a(3)}{\\max\\{a(3), b(3)\\}} = \\frac{0.70 - 0.40}{\\max\\{0.40, 0.70\\}} = \\frac{0.30}{0.70} \\approx 0.428571$$\n\n对于病灶 $4$：\n$$s(4) = \\frac{b(4) - a(4)}{\\max\\{a(4), b(4)\\}} = \\frac{0.85 - 0.55}{\\max\\{0.55, 0.85\\}} = \\frac{0.30}{0.85} \\approx 0.352941$$\n\n对于病灶 $5$：\n$$s(5) = \\frac{b(5) - a(5)}{\\max\\{a(5), b(5)\\}} = \\frac{1.20 - 0.60}{\\max\\{0.60, 1.20\\}} = \\frac{0.60}{1.20} = 0.5$$\n\n对于病灶 $6$：\n$$s(6) = \\frac{b(6) - a(6)}{\\max\\{a(6), b(6)\\}} = \\frac{0.90 - 0.50}{\\max\\{0.50, 0.90\\}} = \\frac{0.40}{0.90} \\approx 0.444444$$\n\n接下来，我们计算这些单个分数的总和：\n$$\\sum_{i=1}^{6} s(i) = s(1) + s(2) + s(3) + s(4) + s(5) + s(6)$$\n$$\\sum_{i=1}^{6} s(i) \\approx 0.4375 + 0.473684 + 0.428571 + 0.352941 + 0.5 + 0.444444 \\approx 2.63714$$\n\n最后，我们通过将总和除以病灶数量 $N=6$ 来计算平均轮廓系数 $\\bar{s}$：\n$$\\bar{s} = \\frac{1}{6} \\sum_{i=1}^{6} s(i) \\approx \\frac{2.63714}{6} \\approx 0.439523...$$\n\n题目要求最终答案保留四位有效数字。第五位有效数字是 $2$，小于 $5$，因此我们向下舍入。\n$$\\bar{s} \\approx 0.4395$$", "answer": "$$\\boxed{0.4395}$$", "id": "4532507"}]}