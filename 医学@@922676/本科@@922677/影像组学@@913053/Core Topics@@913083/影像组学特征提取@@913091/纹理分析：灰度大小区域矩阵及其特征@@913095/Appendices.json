{"hands_on_practices": [{"introduction": "理论知识需要通过实践来巩固。本练习将指导您从一幅具体的图像开始，亲手完成构建灰度尺寸区域矩阵（GLSZM）的全过程。通过手动识别像素区域、填充矩阵并计算纹理特征，您将把抽象的定义与视觉上的纹理联系起来，为深入理解GLSZM及其应用打下坚实的基础。", "problem": "一位影像科学家正在使用灰度尺寸区域矩阵（GLSZM）分析放射组学中的一个二维感兴趣区域（ROI）。该 ROI 是一个尺寸为 $5\\times 5$ 的离散化图像，其灰度级在 $\\{1,2\\}$ 集合中。在 4-连通性下，如果两个像素在某个基本方向（上、下、左、右）上相邻，则它们被认为是连通的。一个“区域”被定义为在 4-连通性下具有相同灰度级的最大连通像素集。该 ROI 由以下灰度级矩阵给出：\n$$\n\\begin{pmatrix}\n1  1  2  2  2 \\\\\n1  2  2  1  2 \\\\\n1  1  1  1  2 \\\\\n2  2  1  2  2 \\\\\n2  1  1  2  1\n\\end{pmatrix}.\n$$\n严格从“区域”和灰度尺寸区域矩阵（GLSZM）的核心定义出发，完成以下任务：\n- 在 4-连通性下，列举 ROI 中的所有区域，明确它们的灰度级和大小（以区域中的像素数量衡量）。\n- 填充 GLSZM 的条目计数 $P(i,j)$，其中 $i\\in\\{1,2\\}$ 索引灰度级，$j\\in\\mathbb{N}$ 索引区域大小。\n- 使用填充后的矩阵和基于 GLSZM 的小区域强调（SZE）作为强调小区域相对于大区域贡献的标量的基本定义，从第一性原理推导 SZE 并计算其在此 ROI 上的值。\n\n将最终数值答案四舍五入到四位有效数字。将最终答案表示为无单位的纯数字。", "solution": "该问题要求使用灰度尺寸区域矩阵（GLSZM）方法对给定的 $5 \\times 5$ 感兴趣区域（ROI）进行分析。任务是识别所有区域，填充 GLSZM，并计算小区域强调（SZE）特征。分析将从提供的基本定义出发，逐步进行。\n\n该 ROI 由灰度矩阵 $G$ 给出：\n$$\nG = \\begin{pmatrix}\n1  1  2  2  2 \\\\\n1  2  2  1  2 \\\\\n1  1  1  1  2 \\\\\n2  2  1  2  2 \\\\\n2  1  1  2  1\n\\end{pmatrix}\n$$\n灰度级集合为 $i \\in \\{1, 2\\}$。“区域”是具有相同灰度级的最大连通像素集，其中连通性由 4-连通性规则定义（如果像素在基本方向上相邻，则它们是连通的）。区域的大小 $j$ 是其包含的像素数量。\n\n### 步骤 1：区域的列举\n\n我们将通过对矩阵 $G$ 进行连通分量分析来识别所有区域。\n\n**灰度级 $i=1$ 的区域：**\n通过系统地扫描矩阵中灰度级为 $1$ 的像素，我们识别出不同的连通分量。\n1.  发现一个大的相互连接的区域。我们使用坐标 $(row, col)$ 来追踪其成员：\n    位于 $(1,1)$ 的像素与 $(1,2)$ 和 $(2,1)$ 连通。\n    位于 $(2,1)$ 的像素与 $(3,1)$ 连通。\n    位于 $(3,1)$ 的像素与 $(3,2)$ 连通，后者又与 $(3,3)$ 连通。\n    位于 $(3,3)$ 的像素与 $(3,4)$ 和 $(4,3)$ 连通。\n    位于 $(3,4)$ 的像素与 $(2,4)$ 连通。\n    位于 $(4,3)$ 的像素与 $(5,3)$ 连通。\n    位于 $(5,3)$ 的像素与 $(5,2)$ 连通。\n    所有这些灰度级为 $1$ 的像素构成一个单一的最大连通集。该区域中的像素为：\n    $\\{(1,1), (1,2), (2,1), (2,4), (3,1), (3,2), (3,3), (3,4), (4,3), (5,2), (5,3)\\}$.\n    计算这些像素的数量得出区域的大小。大小为 $j=11$。\n    因此，我们有一个灰度级为 $i=1$、大小为 $j=11$ 的区域。\n\n2.  我们检查矩阵中是否还有其他灰度级为 $1$ 的像素。位于 $(5,5)$ 的像素值为 $1$。在 4-连通性下，其邻居位于 $(4,5)$（灰度级 $2$）和 $(5,4)$（灰度级 $2$）。由于其邻居中没有一个共享其灰度级，这个像素自身形成一个区域。\n    该区域的大小为 $j=1$。\n    因此，我们有一个灰度级为 $i=1$、大小为 $j=1$ 的区域。\n\n总之，对于灰度级 $i=1$，有两个区域：一个大小为 $11$，另一个大小为 $1$。\n\n**灰度级 $i=2$ 的区域：**\n我们对灰度级为 $2$ 的像素重复此过程。\n1.  让我们追踪从 $(1,3)$ 开始的分量：\n    位于 $(1,3)$、$(1,4)$ 和 $(1,5)$ 的像素是连通的。\n    $(1,3)$ 与 $(2,3)$ 连通，后者又与 $(2,2)$ 连通。\n    $(1,5)$ 与 $(2,5)$ 连通，后者又与 $(3,5)$ 连通。\n    $(3,5)$ 与 $(4,5)$ 连通，后者又与 $(4,4)$ 连通。\n    $(4,4)$ 与 $(5,4)$ 连通。\n    仔细检查后确认，所有这些像素形成一个单一的最大连通分量。该区域中的像素为：\n    $\\{(1,3), (1,4), (1,5), (2,2), (2,3), (2,5), (3,5), (4,4), (4,5), (5,4)\\}$.\n    该区域的大小是像素数量，即 $j=10$。\n    因此，我们有一个灰度级为 $i=2$、大小为 $j=10$ 的区域。\n\n2.  剩余灰度级为 $2$ 的像素位于 $(4,1)$、$(4,2)$ 和 $(5,1)$。\n    位于 $(4,1)$ 的像素与 $(4,2)$ 和 $(5,1)$ 连通。位于 $(4,2)$ 的像素与 $(4,1)$ 连通。位于 $(5,1)$ 的像素与 $(4,1)$ 连通。这三个像素形成一个独立的连通分量。\n    该区域的大小为 $j=3$。\n    因此，我们有一个灰度级为 $i=2$、大小为 $j=3$ 的区域。\n\n总之，对于灰度级 $i=2$，有两个区域：一个大小为 $10$，另一个大小为 $3$。\n\n完整的区域列举如下：\n-   区域 1：灰度级 $1$，大小 $11$。\n-   区域 2：灰度级 $1$，大小 $1$。\n-   区域 3：灰度级 $2$，大小 $10$。\n-   区域 4：灰度级 $2$，大小 $3$。\n\n### 步骤 2：填充 GLSZM\n\n灰度尺寸区域矩阵，记为 $P(i, j)$，存储了灰度级为 $i$、大小为 $j$ 的区域数量。基于我们的列举，我们填充该矩阵。灰度级的数量为 $N_g=2$，发现的不同区域大小为 $\\{1, 3, 10, 11\\}$。\n\nGLSZM 的非零条目为：\n-   $P(1, 1) = 1$（一个灰度级为 $1$、大小为 $1$ 的区域）。\n-   $P(1, 11) = 1$（一个灰度级为 $1$、大小为 $11$ 的区域）。\n-   $P(2, 3) = 1$（一个灰度级为 $2$、大小为 $3$ 的区域）。\n-   $P(2, 10) = 1$（一个灰度级为 $2$、大小为 $10$ 的区域）。\n\n所有其他条目 $P(i,j)$ 均为 $0$。区域总数 $N_z$ 是矩阵中所有条目的总和：\n$$\nN_z = \\sum_{i=1}^{N_g} \\sum_{j=1}^{N_s} P(i, j) = P(1,1) + P(1,11) + P(2,3) + P(2,10) = 1 + 1 + 1 + 1 = 4\n$$\n其中 $N_s$ 是最大区域大小。\n\n### 步骤 3：小区域强调（SZE）的推导与计算\n\n小区域强调（SZE）特征的设计旨在给予较小的区域更大的权重。遵循这一原则，我们可以通过为每个区域赋予一个与其大小 $j$ 成反比的分数来构建该特征。对此权重的一个标准且有效的选择是 $1/j^2$，它强烈地强调了较小的区域。SZE 则是 ROI 中所有区域的这些分数的平均值。\n\n这种“第一性原理”推导得出了 SZE 的形式化定义：\n$$\n\\text{SZE} = \\frac{\\sum_{i=1}^{N_g} \\sum_{j=1}^{N_s} \\frac{P(i, j)}{j^2}}{\\sum_{i=1}^{N_g} \\sum_{j=1}^{N_s} P(i, j)}\n$$\n\n使用我们已填充的 GLSZM 和 $N_z=4$，我们可以计算此 ROI 的 SZE。分子是：\n$$\n\\sum_{i,j} \\frac{P(i,j)}{j^2} = \\frac{P(1,1)}{1^2} + \\frac{P(1,11)}{11^2} + \\frac{P(2,3)}{3^2} + \\frac{P(2,10)}{10^2}\n$$\n代入非零值：\n$$\n\\sum_{i,j} \\frac{P(i,j)}{j^2} = \\frac{1}{1^2} + \\frac{1}{11^2} + \\frac{1}{3^2} + \\frac{1}{10^2} = \\frac{1}{1} + \\frac{1}{121} + \\frac{1}{9} + \\frac{1}{100}\n$$\n为了精确计算这个和：\n$$\n1 + \\frac{1}{9} + \\frac{1}{100} + \\frac{1}{121} = 1 + 0.1111\\ldots + 0.01 + 0.00826446\\ldots \\approx 1.12937557\n$$\n精确的分数值是：\n$$\n\\frac{108900}{108900} + \\frac{12100}{108900} + \\frac{1089}{108900} + \\frac{900}{108900} = \\frac{108900 + 12100 + 1089 + 900}{108900} = \\frac{122989}{108900}\n$$\n现在，我们计算 SZE：\n$$\n\\text{SZE} = \\frac{\\text{Numerator}}{N_z} = \\frac{122989/108900}{4} = \\frac{122989}{435600}\n$$\n计算数值：\n$$\n\\text{SZE} \\approx 0.2823427456 \\ldots\n$$\n四舍五入到四位有效数字，我们得到 $0.2823$。", "answer": "$$\\boxed{0.2823}$$", "id": "4564811"}, {"introduction": "纹理特征的计算不仅取决于图像的灰度分布，还深刻地依赖于我们如何定义像素之间的“连接”关系。这个练习 [@problem_id:4564774] 将通过一个经典的棋盘格图像，生动地展示连通性规则（4-连通与8-连通）的改变如何彻底地重塑我们对纹理的量化描述。完成此练习后，您将体会到在进行纹理分析时，审慎选择分析参数的重要性。", "problem": "考虑一个有限的、离散的二维图像，它由一个 $6 \\times 6$ 的网格组成，具有完美的棋盘格图案，包含两个量化的灰度级，用标签 $1$ 和 $2$ 表示。具体来说，整数坐标 $\\left(x,y\\right)$（其中 $x,y \\in \\{1,2,3,4,5,6\\}$）处的像素，如果 $x+y$ 是偶数，则其灰度级为 $1$；如果 $x+y$ 是奇数，则其灰度级为 $2$。采用晶格上连通性的标准定义，其中 $4$-连通性意味着如果两个像素共享一条边，则它们是相邻的；$8$-连通性意味着如果两个像素共享一条边或一个角，则它们是相邻的。\n\n使用灰度尺寸区域矩阵 (Gray-Level Size Zone Matrix, GLSZM) 的核心定义，其中 $P(i,j)$ 计算由灰度级为 $i$ 的恰好 $j$ 个像素组成的连通区域（最大连通集）的数量，执行以下操作：\n\n- 在 $4$-连通性下，计算每个灰度级 $i \\in \\{1,2\\}$ 的 $P(i,1)$，并从第一性原理出发，解释为什么在这种配置下所有区域的大小都为 $1$。\n\n- 在 $8$-连通性下，确定 GLSZM 的非零项，即指明使 $P(i,j) \\neq 0$ 的数对 $\\left(i,j\\right)$ 及其值。\n\n最后，设小区域强调 (Small Zone Emphasis, SZE) 由归一化的 GLSZM 定义如下。设 $N_{z} = \\sum_{i}\\sum_{j} P(i,j)$ 为区域总数，并定义 $p(i,j) = P(i,j)/N_{z}$ 和 $p_{\\cdot j} = \\sum_{i} p(i,j)$。那么小区域强调为\n$$\n\\mathrm{SZE} \\;=\\; \\sum_{j=1}^{\\infty} \\frac{p_{\\cdot j}}{j^{2}} \\, .\n$$\n计算该图像在 $4$-连通性下的小区域强调与在 $8$-连通性下的小区域强调之比 $R$。将最终比率 $R$ 报告为一个无单位的精确数。无需四舍五入。答案是无量纲的。", "solution": "该问题被验证为自洽、有科学依据且定义明确。求解过程首先分析图像结构，然后计算 $4$-连通性和 $8$-连通性下的灰度尺寸区域矩阵 (GLSZM)，最后计算每种情况的小区域强调 (SZE) 特征以求出它们的比值。\n\n首先，我们描述图像的特征。它是一个 $6 \\times 6$ 的像素网格。像素总数为 $6 \\times 6 = 36$。坐标为 $(x,y)$（其中 $x, y \\in \\{1, 2, 3, 4, 5, 6\\}$）的像素的灰度级 $G(x,y)$ 由坐标和 $x+y$ 的奇偶性决定。具体来说，如果 $x+y$ 是偶数，则 $G(x,y) = 1$；如果 $x+y$ 是奇数，则 $G(x,y) = 2$。灰度级为 $1$ 的像素总数 $N_1$ 是使 $x+y$ 为偶数的坐标对 $(x,y)$ 的数量。在每一行中，有 $3$ 列的 $x+y$ 是偶数，有 $3$ 列是奇数。因此，在 $6$ 行中，有 $6 \\times 3 = 18$ 个灰度级为 $1$ 的像素。同样，灰度级为 $2$ 的像素数 $N_2$ 也是 $18$。总和为 $N_1 + N_2 = 18 + 18 = 36$，与预期的像素总数一致。\n\nGLSZM 用 $P(i,j)$ 表示，它计算由灰度级为 $i$ 的 $j$ 个像素组成的连通区域的数量。\n\n$4$-连通性下的分析：\n在 $4$-连通性下，如果两个像素共享一条边，则它们是相邻的。位于 $(x,y)$ 的像素与位于 $(x \\pm 1, y)$ 和 $(x, y \\pm 1)$ 的像素是 $4$-连通的，前提是这些坐标在网格边界内。设位于 $(x,y)$ 的像素的灰度级由 $S = x+y$ 的奇偶性决定。其 $4$-连通邻居的坐标为 $(x',y')$，坐标和为 $S' = (x \\pm 1) + y = S \\pm 1$ 或 $S' = x + (y \\pm 1) = S \\pm 1$。在所有情况下，如果 $S$ 是偶数，则 $S'$ 是奇数；如果 $S$ 是奇数，则 $S'$ 是偶数。这意味着任何灰度级为 $1$ 的像素，其所有 $4$-连通邻居的灰度级都为 $2$；任何灰度级为 $2$ 的像素，其所有 $4$-连通邻居的灰度级都为 $1$。\n因此，没有两个相同灰度级的像素是 $4$-连通的。所以，一个给定灰度级的连通区域不能包含超过一个像素。每个像素构成一个大小为 $j=1$ 的区域。\n对于灰度级 $i=1$，有 $N_1 = 18$ 个像素。每个像素构成一个大小为 $1$ 的区域。因此，GLSZM 的项为 $P_{4-\\text{conn}}(1,1) = 18$。\n对于灰度级 $i=2$，有 $N_2 = 18$ 个像素。每个像素构成一个大小为 $1$ 的区域。因此，$P_{4-\\text{conn}}(2,1) = 18$。\n对于 $4$-连通性，GLSZM 的所有其他项 $P_{4-\\text{conn}}(i,j)$（其中 $j \\neq 1$）均为零。\n\n$8$-连通性下的分析：\n在 $8$-连通性下，如果两个像素共享一条边或一个角，则它们是相邻的。位于 $(x,y)$ 的像素与位于 $(x+\\Delta x, y+\\Delta y)$ 的像素是 $8$-连通的，其中 $\\Delta x, \\Delta y \\in \\{-1, 0, 1\\}$，且不全为零。邻居的坐标和为 $S' = (x+\\Delta x) + (y+\\Delta y) = (x+y) + (\\Delta x + \\Delta y)$。如果 $S'$ 与 $S=x+y$ 的奇偶性相同，则邻居具有相同的灰度级，这要求 $\\Delta x + \\Delta y$ 是一个偶数。\n邻居的 $\\Delta x + \\Delta y$ 的可能值为：\n- 边邻居：$(\\Delta x, \\Delta y) \\in \\{(\\pm 1, 0), (0, \\pm 1)\\}$。此时，$\\Delta x + \\Delta y \\in \\{-1, 1\\}$，为奇数。这些邻居具有不同的灰度级。\n- 角邻居：$(\\Delta x, \\Delta y) \\in \\{(\\pm 1, \\pm 1), (\\pm 1, \\mp 1)\\}$。此时，$\\Delta x + \\Delta y \\in \\{-2, 0, 2\\}$，为偶数。这些邻居具有相同的灰度级。\n这表明，给定灰度级的所有像素都与其角相邻的邻居相连，而这些邻居具有相同的灰度级。对于棋盘格图案，在 $8$-连通性下，所有灰度级为 $1$ 的像素集合形成一个单一的连通分量。任何 $x+y$ 为偶数的像素都可以通过一条由角相邻像素组成的路径到达任何其他此类像素。对于所有灰度级为 $2$ 的像素集合也是如此。\n因此，在 $8$-连通性下，恰好有两个区域：\n- 一个灰度级为 $i=1$ 的区域，包含所有 $N_1=18$ 个像素。其大小为 $j=18$。这得出 $P_{8-\\text{conn}}(1,18) = 1$。\n- 一个灰度级为 $i=2$ 的区域，包含所有 $N_2=18$ 个像素。其大小为 $j=18$。这得出 $P_{8-\\text{conn}}(2,18) = 1$。\n所有其他项 $P_{8-\\text{conn}}(i,j)$ 均为零。\n\n小区域强调 (SZE) 比值的计算：\nSZE 定义为 $\\mathrm{SZE} = \\sum_{j=1}^{\\infty} \\frac{p_{\\cdot j}}{j^{2}}$，其中 $p_{\\cdot j} = \\sum_{i} p(i,j)$ 且 $p(i,j) = P(i,j)/N_z$，而 $N_z = \\sum_{i,j} P(i,j)$ 是区域总数。\n\n对于 $4$-连通性：\n非零项为 $P_{4-\\text{conn}}(1,1) = 18$ 和 $P_{4-\\text{conn}}(2,1) = 18$。\n区域总数为 $N_{z,4} = P_{4-\\text{conn}}(1,1) + P_{4-\\text{conn}}(2,1) = 18 + 18 = 36$。\nGLSZM 中唯一的非零列是大小为 $j=1$ 的列。列概率为：\n$$p_{\\cdot 1} = \\sum_{i=1}^{2} p(i,1) = \\frac{P_{4-\\text{conn}}(1,1) + P_{4-\\text{conn}}(2,1)}{N_{z,4}} = \\frac{18+18}{36} = 1$$\n对于 $j \\neq 1$，所有其他的 $p_{\\cdot j}$ 均为零。\n$4$-连通性的 SZE 为：\n$$\\mathrm{SZE}_{4} = \\sum_{j=1}^{\\infty} \\frac{p_{\\cdot j}}{j^{2}} = \\frac{p_{\\cdot 1}}{1^2} = \\frac{1}{1} = 1$$\n\n对于 $8$-连通性：\n非零项为 $P_{8-\\text{conn}}(1,18) = 1$ 和 $P_{8-\\text{conn}}(2,18) = 1$。\n区域总数为 $N_{z,8} = P_{8-\\text{conn}}(1,18) + P_{8-\\text{conn}}(2,18) = 1 + 1 = 2$。\n唯一的非零列是大小为 $j=18$ 的列。列概率为：\n$$p_{\\cdot 18} = \\sum_{i=1}^{2} p(i,18) = \\frac{P_{8-\\text{conn}}(1,18) + P_{8-\\text{conn}}(2,18)}{N_{z,8}} = \\frac{1+1}{2} = 1$$\n对于 $j \\neq 18$，所有其他的 $p_{\\cdot j}$ 均为零。\n$8$-连通性的 SZE 为：\n$$\\mathrm{SZE}_{8} = \\sum_{j=1}^{\\infty} \\frac{p_{\\cdot j}}{j^{2}} = \\frac{p_{\\cdot 18}}{18^{2}} = \\frac{1}{324}$$\n\n最后，$4$-连通性下的 SZE 与 $8$-连通性下的 SZE 之比 $R$ 为：\n$$R = \\frac{\\mathrm{SZE}_{4}}{\\mathrm{SZE}_{8}} = \\frac{1}{\\frac{1}{324}} = 324$$\n最终比率是一个精确数。", "answer": "$$\\boxed{324}$$", "id": "4564774"}, {"introduction": "检验我们是否真正理解一个概念的最好方法之一，就是看我们能否预测它在极端情况下的行为。这个练习 [@problem_id:4564802] 是一个思想实验，要求您分析最简单的纹理形式——一个完全均匀的图像区域。通过推导这种情况下GLSZM特征的表达式，您可以验证这些特征是否符合直觉（例如，小区域强调应该极小），这既是对理论知识的“健全性检查”，也能加深您对各个特征背后物理意义的理解。", "problem": "一个二维感兴趣区域（ROI）经过量化后被离散化为单一灰度级。考虑以下基础定义作为出发点：\n\n- 一个区域（zone）是共享相同离散灰度级的 ROI 像素的最大连通集，使用八连通拓扑。\n- 灰度区域大小矩阵（Gray-Level Size Zone Matrix, GLSZM）记录了对于每个灰度级索引 $i \\in \\{1,\\dots,N_g\\}$ 和区域大小 $j \\in \\{1,\\dots,N_p\\}$，灰度级为 $i$、大小为 $j$ 的区域的数量 $P(i,j)$。\n- 区域总数为 $N_z = \\sum_{i=1}^{N_g}\\sum_{j=1}^{N_p} P(i,j)$，归一化的 GLSZM 为 $p(i,j) = \\frac{P(i,j)}{N_z}$。大小边缘分布为 $p_{.j} = \\sum_{i=1}^{N_g} p(i,j)$。\n- 小区域强调（Small Zone Emphasis, SZE）、大区域强调（Large Zone Emphasis, LZE）和区域百分比（Zone Percentage, ZP）特征分别定义为：\n$$\\mathrm{SZE} = \\sum_{j=1}^{N_p} \\frac{p_{.j}}{j^{2}}, \\quad \\mathrm{LZE} = \\sum_{j=1}^{N_p} p_{.j}\\, j^{2}, \\quad \\mathrm{ZP} = \\frac{N_z}{N_p}.$$\n\n现在考虑一个由 $N_p$ 个像素组成的均匀 ROI，所有像素都映射到单一灰度级（因此 $N_g = 1$）。仅使用上述定义以及关于连通性和区域构建的基本原理：\n\n- 确定 $P(i,j)$ 中的哪些元素可以为非零，并明确计算 $P(1,N_p)$。由此推导出 $N_z$ 和大小边缘概率 $p_{.j}$。\n- 使用特征定义，推导出 $\\mathrm{SZE}$、$\\mathrm{LZE}$ 和 $\\mathrm{ZP}$ 关于 $N_p$ 的闭式表达式。\n- 简要解释为什么这些特殊情况下的值构成了对这些特征在均匀 ROI 中行为的合理性检查。\n\n按 $P(1,N_p)$、$\\mathrm{SZE}$、$\\mathrm{LZE}$、$\\mathrm{ZP}$ 的顺序，将您的最终结果报告为单个行矩阵。不需要四舍五入，也不需要报告单位。", "solution": "该问题经验证具有科学依据、提法明确、客观且无矛盾或歧义。它代表了放射组学领域内一种标准的特例分析。我们可以开始求解。\n\n该问题要求分析灰度区域大小矩阵（GLSZM）特征在一个特定情况下的表现：一个包含 $N_p$ 个像素的均匀感兴趣区域（ROI），所有像素都被量化到单一灰度级。设该单一灰度级的索引为 $i=1$，因此灰度级数为 $N_g=1$。\n\n首先，我们确定该 ROI 中区域的结构。一个区域被定义为共享相同灰度级的像素的最大连通集。由于 ROI 中的所有 $N_p$ 个像素都具有相同的灰度级（$i=1$），它们都属于一个单一的连通集。“感兴趣区域”一词意味着一个连续的区域，因此我们假设这 $N_p$ 个像素形成一个单一的连通分量。因此，整个 ROI 中只有一个区域。该区域的大小是总像素数，即 $j=N_p$。\n\n接下来，我们构建 GLSZM，用 $P(i,j)$ 表示。该矩阵存储了灰度级为 $i$、大小为 $j$ 的区域的数量。\n- 灰度级数为 $N_g=1$。\n- 最大可能的区域大小为 $N_p$。\n在我们的例子中，我们已确定存在一个灰度级为 $i=1$、大小为 $j=N_p$ 的单一区域。因此，此类区域的数量为 1。这给出了矩阵元素：\n$$P(1, N_p) = 1$$\n由于这是唯一的区域，GLSZM 中的所有其他元素都必须为零。也就是说，对于所有 $j \\neq N_p$，$P(1,j) = 0$；对于所有 $i \\neq 1$，$P(i,j)=0$。\n\n根据 GLSZM，我们可以计算区域总数 $N_z$。\n$$N_z = \\sum_{i=1}^{N_g} \\sum_{j=1}^{N_p} P(i,j)$$\n鉴于 $N_g=1$ 且矩阵中只有一个非零元素，求和简化为：\n$$N_z = P(1, N_p) = 1$$\n这证实了我们只有一个区域的推论。\n\n现在，我们计算归一化的 GLSZM，$p(i,j) = \\frac{P(i,j)}{N_z}$，以及大小边缘分布，$p_{.j} = \\sum_{i=1}^{N_g} p(i,j)$。\n当 $N_z=1$ 时，归一化矩阵与原始矩阵相同：\n$$p(i,j) = P(i,j)$$\n所以，$p(1, N_p) = 1$ 且所有其他元素为 $0$。\n大小边缘分布 $p_{.j}$ 是通过对灰度级索引 $i$ 求和得到的。由于 $N_g=1$，这个计算很简单：\n$$p_{.j} = p(1,j)$$\n这意味着 $p_{.j}$ 仅在 $j=N_p$ 时非零：\n$$p_{.N_p} = 1$$\n而对于所有 $j \\neq N_p$，我们有 $p_{.j} = 0$。这个分布是一个以 $j=N_p$ 为中心的克罗内克-德尔塔函数。\n\n有了大小边缘分布，我们现在可以推导出所需特征的闭式表达式。\n\n1.  **小区域强调 (SZE)**\n    定义为 $\\mathrm{SZE} = \\sum_{j=1}^{N_p} \\frac{p_{.j}}{j^{2}}$。该求和只包含一个非零项，出现在 $j=N_p$ 处。\n    $$\\mathrm{SZE} = \\frac{p_{.N_p}}{(N_p)^{2}} + \\sum_{j \\neq N_p} \\frac{0}{j^{2}} = \\frac{1}{(N_p)^{2}}$$\n    $$\\mathrm{SZE} = \\frac{1}{N_p^2}$$\n\n2.  **大区域强调 (LZE)**\n    定义为 $\\mathrm{LZE} = \\sum_{j=1}^{N_p} p_{.j} j^{2}$。同样，只有 $j=N_p$ 的项非零。\n    $$\\mathrm{LZE} = p_{.N_p} (N_p)^{2} + \\sum_{j \\neq N_p} 0 \\cdot j^2 = 1 \\cdot (N_p)^{2}$$\n    $$\\mathrm{LZE} = N_p^2$$\n\n3.  **区域百分比 (ZP)**\n    定义为 $\\mathrm{ZP} = \\frac{N_z}{N_p}$。我们已求得 $N_z=1$。\n    $$\\mathrm{ZP} = \\frac{1}{N_p}$$\n\n最后，我们简要解释为什么这些值可以作为合理的健全性检查。\n-   **SZE**：此特征旨在对具有许多小区域的图像给出高值。对于完全均匀的图像，没有小区域，只有一个大区域。结果值 $\\mathrm{SZE} = \\frac{1}{N_p^2}$ 是一个非常小的数，随着 ROI 大小 $N_p$ 的增加而二次方递减。这正确地反映了完全没有小区域的情况。\n-   **LZE**：此特征旨在对具有大区域的图像给出高值。均匀图像是由一个大区域主导的典型例子。结果值 $\\mathrm{LZE} = N_p^2$ 很大，并随着 ROI 大小的增加而二次方增长，正确地捕捉到了存在一个最大尺寸的单一区域的情况。\n-   **ZP**：此特征测量区域的密度，即 $N_z/N_p$。一个完全均匀的 ROI 是最均匀的情况，对于给定的像素数（$N_p$），其区域数最少（$N_z=1$）。结果 $\\mathrm{ZP} = \\frac{1}{N_p}$ 是该特征可能的最小值，正确地表明了最大的均匀性。相比之下，一个最不均匀的图像（例如，棋盘格）将有 $N_z$ 接近 $N_p$，而 $\\mathrm{ZP}$ 接近 1。\n\n按指定顺序请求的量为 $P(1,N_p)$、$\\mathrm{SZE}$、$\\mathrm{LZE}$ 和 $\\mathrm{ZP}$。其值分别为 $1$、$\\frac{1}{N_p^2}$、$N_p^2$ 和 $\\frac{1}{N_p}$。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n1  \\frac{1}{N_p^2}  N_p^2  \\frac{1}{N_p}\n\\end{pmatrix}\n}\n$$", "id": "4564802"}]}