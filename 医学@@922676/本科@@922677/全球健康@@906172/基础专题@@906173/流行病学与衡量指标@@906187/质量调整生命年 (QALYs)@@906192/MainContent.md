## 引言
在资源有限的现实世界中，如何比较一项延长癌症患者数月生命的昂贵新药与一个能预防数千名儿童患上某种地方病的公共卫生项目？这种“苹果与橘子”的比较是全球卫生领域面临的核心挑战。质量调整生命年（QALY）的出现，正是为了解决这一难题。它提供了一种通用的“健康货币”，通过将生命的“数量”（时长）与“质量”（健康水平）相结合，使得对不同类型健康干预的价值进行量化比较成为可能。

本文旨在系统性地介绍QALY这一强大工具，填补从理论知识到实践应用之间的认知鸿沟。我们将带领读者穿越三个核心章节，构建一个关于QALY的完整知识体系。首先，在“原则与机制”中，我们将深入其理论内核，揭示QALY是如何通过严谨的公理和[效用理论](@entry_id:270986)被构建和计算的。接着，在“应用与跨学科联系”中，我们将展示QALY如何在真实的卫生技术评估、公共卫生策略制定和药品定价中发挥作用，并探讨其与经济学、伦理学等学科的深刻联系。最后，“实践操作”部分将提供一系列精心设计的计算练习，帮助您将理论知识转化为解决实际问题的能力。

通过本次学习，您将不仅理解QALY是什么，更将掌握如何运用它来分析复杂的健康问题，并批判性地思考其在促进人类健康福祉中的角色与局限。让我们从理解其最根本的构建原则开始。

## 原则与机制

在“引言”章节之后，我们已经了解了质量调整生命年（QALY）作为一种综合健康产[出度](@entry_id:263181)量的重要性。本章旨在深入剖析QALY的构成要素、理论基础、计算方法及其在决策应用中所蕴含的伦理考量。我们将从基本定义出发，层层递进，揭示这一强大工具背后的原则与机制。

### 质量调整生命年的构成：质量权重与生命年

在其最基本的形式中，一个QALY是通过将生命时长乘以一个反映该时期生活质量的权重来计算的。对于一个在恒定健康状态下度过的一段时间，其计算公式为：

$QALYs = q \times L$

在此公式中，$L$ 代表 **生命年（life years）** 的数量，而 $q$ 则是该时期的 **质量权重（quality weight）**。这个权重是一个介于0和1之间的数值，其中 $q=1$ 代表完全健康，而 $q=0$ 代表死亡。因此，在完全健康状态下生活一年等于1个QALY，而在质量权重为0.5的健康状态下生活两年，也等于1个QALY。这个简单的乘法结构蕴含了深刻的理论假设，即生命的数量和质量之间存在一种可交换的关系。

### “质量”的量化：健康效用值的测定

QALY框架的核心挑战之一在于如何科学、一致地测定质量权重 $q$。这个权重不仅仅是一个随意的分数，而是一个基于个体或社会偏好的 **效用值（utility value）**。

#### 效用标度的要求：区间标度

为了能够有意义地将不同时期的QALYs相加（例如，计算一个人一生中累积的QALYs），质量权重 $q$ 必须建立在一个 **区间标度（interval scale）** 上。一个区间标度不仅能反映健康状态的排序（例如，状态A优于状态B），还能反映其偏好强度的差异（例如，从状态B改善到状态A的价值是从状态C改善到状态B的两倍）。

如果效用标度仅仅是[序数](@entry_id:150084)（ordinal）的，即只关心排序，那么加总将变得毫无意义。考虑一个思想实验 [@problem_id:5053213]：患者A在效用值为0.8的状态下生活5年，然后在效用值为0.4的状态下生活5年。患者B在效用值为0.6的状态下生活10年。在当前的效用标度下，两者的总QALYs是相等的：

- 患者A的总QALYs: $(5 \times 0.8) + (5 \times 0.4) = 4 + 2 = 6$
- 患者B的总QALYs: $10 \times 0.6 = 6$

然而，如果这个标度只是序数的，那么任何严格递增的[函数变换](@entry_id:141095)都应保持偏好不变。让我们尝试一个变换 $g(u) = u^2$。变换后，患者A的总效用变为 $5 \times (0.8)^2 + 5 \times (0.4)^2 = 5 \times 0.64 + 5 \times 0.16 = 3.2 + 0.8 = 4.0$。而患者B的总效用变为 $10 \times (0.6)^2 = 3.6$。现在，患者A的状况看起来更优。如果我们换用另一个变换 $g(u) = \sqrt{u}$，患者A的总效用约为 $5\sqrt{0.8} + 5\sqrt{0.4} \approx 7.63$，而患者B的总效用为 $10\sqrt{0.6} \approx 7.75$。此时，患者B的状况又变得更优。这种排序的随意反转表明，只有当标度是区间标度（其变换仅限于[线性变换](@entry_id:143080) $g(u)=au+b, a>0$）时，跨时期加总的结果才是稳定和有意义的。

#### 效用值的获取方法

在实践中，研究者使用多种方法来获取满足区间[标度性质](@entry_id:273821)的效用值 [@problem_id:5053157]。主要方法包括：

- **标准博弈法（Standard Gamble, SG）**：这是最符合[效用理论](@entry_id:270986)基础的方法。它要求受访者在两个选项之间做出选择：一个是确定的、处于某种不完美健康状态（设其效用为 $u_H$）；另一个是博弈，即有 $p$ 的概率恢复到完全健康（效用为1），有 $1-p$ 的概率立即死亡（效用为0）。当受访者对两者感到无差异时，根据[期望效用理论](@entry_id:140626)，该健康状态的效用值就等于概率 $p$，即 $u_H = p \times 1 + (1-p) \times 0 = p$。此方法直接根植于冯·诺伊曼-摩根斯坦（vNM）效用公理，但可能受到受访者对概率的非线性感知和风险态度的影响。

- **时间权衡法（Time Trade-Off, TTO）**：此方法要求受访者在两种确定的生存情景中权衡。情景一：在某种不完美的健康状态 $H$ 下生活一段较长的时间 $T$。情景二：在完全健康状态下生活一段较短的时间 $t$ ($t  T$)。当受访者认为这两个情景无差异时，在不考虑时间偏好的简化假设下，状态 $H$ 的效用值被定义为 $u_H = t/T$。TTO方法通常比SG更容易被理解，但其结果会受到受访者 **时间偏好（time preference）** 的影响。例如，如果人们对未来收益有贴现，那么简单的比率 $t/T$ 会低估真实的效用值。

- **视觉模拟标尺法（Visual Analogue Scale, VAS）**：这是一种更简单的评级方法。受访者在一个从“死亡”（标记为0）到“完全健康”（标记为100）的刻度尺上，标出特定健康状态所处的位置。其得分经标准化后即作为效用值。尽管操作简便，VAS本质上是一种心理物理学评级，而非基于选择，因此其结果是否能代表vNM效用存在争议，并且容易受到多种情景效应和心理偏误的影响。

#### 比死亡更差的状态

QALY的效用标度并非仅限于 $[0, 1]$ 区间。对于某些极端痛苦、无法忍受的健康状况，人们可能认为死亡是更好的结果。在这种情况下，该健康状态的效用值应为负数，即所谓的 **比死亡更差的状态（states worse than dead）** [@problem_id:4995236]。例如，一个效用值为-0.25的状态意味着，个体宁愿放弃一定数量的生命年，以避免在这种状态下生活。在QALY计算中，负效用值意味着处于该状态会“消耗”而不是“累积”QALYs，这在数学上是完全一致且易于处理的。

### 效用的加总：QALY模型的公理化基础

将不同时期的效用值乘以时长再相加，即 $QALYs = \sum_i q_i \Delta t_i$ 或其积分形式 $\int q(t) dt$，这一看似简单的操作背后，是一套严谨的公理化体系 [@problem_id:4831780] [@problem_id:5053288]。这些公理描述了一个理性决策者在面对不确定的、跨时期健康结果时的偏好结构。

1.  **[期望效用理论](@entry_id:140626)（Expected Utility Theory）**：当健康结果不确定时，决策者的偏好符合 **冯·诺伊曼-摩根斯坦[期望效用理论](@entry_id:140626)** 的公理。这意味着可以通过最大化[期望效用](@entry_id:147484)来对不同的干预措施进行排序。

2.  **跨期[可分性](@entry_id:143854)（Separability over Time）**：也称为 **效用独立性（utility independence）**，这是证明可加性的关键公理。它假设个体对某一时期健康状况的偏好，不依赖于其他时期的健康状况。这使得总效用可以分解为各个独立时间段效用的总和（或积分）。

3.  **[平稳性](@entry_id:143776)（Stationarity）**：该公理假设，一段特定时长和特定质量的健康经历，其价值不因其在生命历程中发生的时间点而改变。这直接导致了 **时长线性（linearity in duration）**，即在某一健康状态下生活两倍的时间，其效用贡献也是两倍。

4.  **局部风险中性（Local Risk Neutrality）**：这一更微妙的假设将效用与质量权重联系起来。它假定对于微小的健康改善，人们是风险中性的，这确保了效用值与质量权重 $q$ 之间存在线性关系。

综合这些公理，可以从第一性原理推导出QALY的线性可加模型是表达理性偏好的一个有效方式。

#### 贴现（Discounting）

在实践中，未来的健康收益通常被认为比现在的价值要低，这一原则被称为 **贴现（discounting）**。引入贴现后，QALY的计算公式变为：

$QALYs = \int_{0}^{T} u(t) e^{-rt} dt$

其中 $r$ 是连续[贴现率](@entry_id:145874)。为何采用 **指数贴现（exponential discounting）** 形式 $D(t) = e^{-rt}$？这同样源于公理化推导 [@problem_id:5053154]。指数贴现是唯一满足 **平稳性（stationarity）** 和 **时间一致性（time consistency）** 的贴现函数形式。时间一致性确保了今天的最优计划在未来仍然是最优的，避免了偏好的自相矛盾。任何非指数形式的贴现（如[双曲贴现](@entry_id:144013)）都可能导致决策者在未来某个时间点后悔并偏离其最初的计划。

### QALY在实践中的建模与计算

理论上的QALY模型需要在实际的健康技术评估中转化为可操作的计算工具。

#### 多属性健康状态

健康是一个多维度的概念，包括活动能力、疼痛/不适、焦虑/抑郁等多个方面。为了得到一个单一的质量权重，研究人员开发了 **多属性效用（Multi-Attribute Utility, MAU）** 问卷，如EQ-5D和SF-6D。这些工具通过几个问题来描述一个人的健康状态，然后使用一个“计分算法”将其转换为一个效用值。

这个计分算法本身就是基于[效用理论](@entry_id:270986)建立的模型。例如，一个模型可能假设总效用是各属性效用的乘积，并经过[线性变换](@entry_id:143080) [@problem_id:4831777]：

$U(x) = \alpha \prod_{i=1}^{n} s_i(x_i) + \beta$

其中，$s_i(x_i)$ 是第 $i$ 个属性在水平 $x_i$ 时的单属性效用值。模型中的参数 $\alpha$ 和 $\beta$ 需要通过对人群的偏好调查（如使用TTO或SG方法）进行校准，以确保模型的输出与社会的真实估价相符。例如，通过设定“完全健康”状态的效用为1，以及某个特定不完美健康状态的已知效用值，就可以解出这些参数，从而为任何可能的健康状态组合打分。

#### 疾病进展的随机模型

患者的健康状况并非静止不变，而是随着时间演变，且这种演变通常充满不确定性。为了计算预期的QALYs，决策分析师常常使用 **状态转移模型（state-transition models）**，如 **[连续时间马尔可夫链](@entry_id:276307)（Continuous-Time Markov Chain, CTMC）** [@problem_id:4831782]。

在这类模型中，患者可以在一组离散的健康状态（例如，“治疗前”、“疾病进展”、“死亡”）之间转移。每次转移的速率（风险）由流行病学数据估计。通过求解一组[微分](@entry_id:158422)方程（[柯尔莫哥洛夫方程](@entry_id:270139)），可以得到在任何时间点 $t$，患者处于每个健康状态的概率 $p_i(t)$。

总的预期贴现QALYs就可以通过对所有非死亡状态的效用进行概率加权，并随时间贴现积分来计算：

$E[QALYs] = \int_{0}^{\infty} e^{-rt} \sum_{i \in \text{Living States}} u_i \cdot p_i(t) dt$

这种方法能够捕捉疾病动态过程的复杂性，并为比较不同干预措施（它们会改变转移速率或状态效用）对长期健康产出的影响提供了一个强大的量化框架。

### QALY的伦理维度与社会选择

将QALY应用于资源配置决策时，我们必须认识到其背后深刻的伦理假设。

#### 福利主义与非福利主义之争

QALY关注的是“健康”这一特定维度的产出。这种方法被称为 **非福利主义（extra-welfarism）**，因为它将决策目标限定在健康领域，而不是个体的总体幸福或“福利” [@problem_id:4995272]。与之相对的是 **福利主义（welfarism）**，它主张社会决策应基于对个体总效用（包括健康、财富、幸福感等所有方面）的影响。

在某些情况下，这两种框架可能导致截然不同的结论。例如，一项干预措施可能带来巨大的健康收益（QALYs增加），但同时对患者的非健康方面（如工作能力、社交生活）造成负面影响。非福利主义的成本-效果分析可能支持这项干预，而福利主义的成本-效益分析则可能因其对总福利的负面冲击而拒绝它。因此，选择QALY作为决策指标本身就是一种价值判断，即优先考虑健康产出。

#### 效率与公平的权衡

标准QALY分析的目标是最大化群体获得的总QALYs。这个决策准则本质上是 **功利主义（utilitarian）** 的：它追求“最大多数人的最大健康” [@problem_id:4831780]。这意味着，无论受益者是谁——富人还是穷人，年轻人还是老年人，病情轻微还是严重——一个QALY都被赋予相同的价值。这种方法体现了效率原则，但也意味着它对健康的分配或公平性问题保持中立。

然而，社会可能并不仅仅关心总健康量的最大化，也关心健康的公平分配。例如，社会可能更倾向于将资源用于改善最弱势群体的健康，即使这样做产生的总QALYs较少。这种对公平的偏好可以通过构建一个 **不平等厌恶（inequality-averse）** 的 **[社会福利函数](@entry_id:636846)（social welfare function）** 来形式化 [@problem_id:5053231]。一个常用的函数形式是：

$W = \sum_i p_i \frac{q_i^{1-\epsilon}}{1-\epsilon}$

这里，$q_i$ 是第 $i$ 组的平均QALYs，$p_i$ 是该组的人口比例，而 $\epsilon \ge 0$ 是 **不平等厌恶参数（inequality-aversion parameter）**。
- 当 $\epsilon = 0$ 时，该函数简化为总QALYs的加总，即纯粹的功利主义。
- 当 $\epsilon > 0$ 时，函数变为[凹函数](@entry_id:274100)，给予健康水平较低的群体更大的权重。$\epsilon$ 的值越大，对不平等的厌恶程度就越强。
- 当 $\epsilon \to \infty$ 时，该函数趋向于“罗尔斯主义”的“最大化最小值”准则，即只关心最差群体的健康状况。

在给定的资源约束下，选择不同的 $\epsilon$ 值可能导致选择不同的卫生项目。例如，一个项目可能使富裕群体的健康得到巨大提升（高总QALYs），而另一个项目则使贫困群体的健康得到中等程度的改善。一个对不平等高度厌恶的社会（高 $\epsilon$ 值）可能会选择后一个项目。这表明，QALYs的使用并非一个纯粹的技术过程，它始终嵌入在关于社会公平和价值的持续辩论之中。