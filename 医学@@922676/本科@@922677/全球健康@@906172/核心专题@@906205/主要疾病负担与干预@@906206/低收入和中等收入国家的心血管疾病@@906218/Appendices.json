{"hands_on_practices": [{"introduction": "在公共卫生领域制定决策往往涉及复杂的权衡。本练习介绍成本效益分析中的一个基本概念：通过平衡干预措施的收益与其成本和危害，来确定治疗阈值。通过计算一项疗法变得有价值的特定风险水平，您将学习如何运用定量方法来制定循证的心血管疾病预防健康政策。[@problem_id:4969510]", "problem": "一个低收入国家的卫生部计划使用世界卫生组织（WHO）的绝对风险图表，为主要心血管疾病（CVD）事件的一级预防治疗设定一个单一的启动阈值。估计的$10$年期CVD风险$p$超过阈值$p^{\\ast}$的成年人将被提供为期$10$年的每日一次固定剂量复方抗高血压药物治疗。假设在$10$年内每人最多发生一次主要CVD事件，不考虑贴现，并且损害与获益相互独立，因此期望的线性关系适用。\n\n在项目条件下，对于基线$10$年风险为$p$的个体：\n- 治疗可在$10$年内使首次主要CVD事件的发生概率产生恒定的相对风险降低$r$。\n- 每次首次主要CVD事件平均导致$L$个伤残调整生命年（DALY）的损失，其中伤残调整生命年（DALY）按标准方式定义为损失一年的健康生命。\n- 在$10$年内，因治疗引起的不良反应以概率$q$发生，如果发生，平均导致$h$个DALY的损失。\n- 每日服药在服药期间给每人每年带来$d$个DALY的微小持续负效用。\n- 提供治疗所使用的卫生系统资源的机会成本相当于每位接受治疗者在$10$年内损失$c$个DALY。\n\n仅从期望值的定义和相对风险降低的定义出发，推导出在何种关于$p$的条件下，每位接受治疗者所规避的预期净DALY为正值。然后，求出使规避的预期净DALY恰好为零的风险阈值$p^{\\ast}$。\n\n使用参数值$r=0.25$，$L=8$，$q=0.02$，$h=0.3$，$d=0.003$和$c=0.08$，计算$p^{\\ast}$。将您的最终结果四舍五入到三位有效数字。将阈值表示为$10$年风险的小数形式（不要使用百分号）。", "solution": "首先对问题进行验证，以确保其具有科学依据、问题定义良好且客观。\n\n### 步骤1：提取已知条件\n- **问题目标：** 为主要心血管疾病（CVD）事件的一级预防治疗设定一个单一的启动阈值$p^{\\ast}$。\n- **人群：** 低收入国家的成年人。\n- **决策规则：** 估计的$10$年期CVD风险$p$大于$p^{\\ast}$的个体接受治疗。\n- **治疗方法：** 为期$10$年的每日一次固定剂量复方抗高血压药物治疗。\n- **假设：**\n  - 在$10$年内每人最多发生一次主要CVD事件。\n  - 不考虑贴现。\n  - 损害与获益相互独立，允许使用期望的线性关系。\n- **对于基线$10$年风险为$p$的个体，参数如下：**\n  - $r$：$10$年内首次主要CVD事件发生概率的恒定相对风险降低。\n  - $L$：每次首次主要CVD事件平均损失的伤残调整生命年（DALY）。\n  - $q$：$10$年内治疗引起不良反应的概率。\n  - $h$：如果发生不良反应，平均损失的DALY。\n  - $d$：服药期间每人每年$d$个DALY的负效用。\n  - $c$：每位接受治疗者在$10$年内$c$个DALY的机会成本。\n- **任务：**\n  1. 推导在何种关于$p$的条件下，每位接受治疗者所规避的预期净DALY为正值。\n  2. 求出使规避的预期净DALY为零的风险阈值$p^{\\ast}$。\n  3. 使用以下数值计算$p^{\\ast}$：$r=0.25$，$L=8$，$q=0.02$，$h=0.3$，$d=0.003$ 和 $c=0.08$。\n  4. 将结果四舍五入至三位有效数字，并以小数形式表示。\n\n### 步骤2：使用提取的已知条件进行验证\n该问题是卫生经济学和决策分析中的一个标准练习，特别是使用DALY作为结果度量的成本效益分析。\n- **科学依据：** 该问题基于流行病学（绝对风险、相对风险降低）和卫生经济学（DALY、机会成本、期望值）的既定原则。该模型是现实的简化（例如，无贴现，恒定的RRR），但没有违反任何基本的科学或数学定律。它是科学上现实的。\n- **问题定义良好：** 该问题是自洽的，提供了所有必要的变量和一个明确的目标：找到盈亏平衡的风险阈值。一个唯一、稳定且有意义的解的存在性是可证明的。\n- **客观性：** 语言精确且量化。它使用了全球卫生领域的标准、定义明确的术语。没有主观或基于意见的主张。\n\n该问题没有表现出验证标准中列出的任何缺陷。它是一个有效的、可形式化的问题。\n\n### 步骤3：结论与行动\n问题有效。将提供完整的解答。\n\n### 求解推导\n目标是找到使治疗所规避的预期净伤残调整生命年（DALY）为正值的条件。这可以表述为找到使不治疗时预期的DALY损失大于治疗时预期的DALY损失的条件。设$\\Delta E[\\text{DALY}]$为规避的预期净DALY。\n\n我们来定义两种情况下的预期DALY损失：不治疗和治疗。\n\n1.  **不治疗时的预期DALY损失：**\n    对于基线$10$年CVD事件风险为$p$的个体，模型中唯一的DALY损失来源是事件本身，它导致$L$个DALY的损失。根据期望值的定义：\n    $$E[\\text{loss}_{\\text{no treat}}] = p \\cdot L + (1-p) \\cdot 0 = pL$$\n\n2.  **治疗时的预期DALY损失：**\n    接受治疗时，有多个DALY损失来源。\n    - **CVD事件：** 治疗提供了$r$的相对风险降低。CVD事件的新概率$p'$由关系式$r = \\frac{p - p'}{p}$定义，得出$p' = p(1-r)$。治疗下CVD事件的预期DALY损失为$p'L = p(1-r)L$。\n    - **不良反应：** 治疗以概率$q$引起不良反应，导致平均$h$个DALY的损失。不良反应的预期DALY损失为$qh$。\n    - **药物的负效用：** 每日服药每年带来$d$个DALY的负效用。治疗持续$10$年。这是一个确定的成本，而不是概率性的。由负效用造成的总DALY损失为$10d$。\n    - **机会成本：** 所使用的卫生系统资源的机会成本为每位治疗者$c$个DALY。这也是一个确定的成本。\n    \n    基于独立性和期望线性关系的假设，治疗时的总预期DALY损失是这些组成部分的总和：\n    $$E[\\text{loss}_{\\text{treat}}] = p(1-r)L + qh + 10d + c$$\n\n3.  **规避的净DALY：**\n    规避的预期净DALY，$\\Delta E[\\text{DALY}]$，是不治疗时的预期损失与治疗时的预期损失之差。\n    $$\\Delta E[\\text{DALY}] = E[\\text{loss}_{\\text{no treat}}] - E[\\text{loss}_{\\text{treat}}]$$\n    $$\\Delta E[\\text{DALY}] = pL - \\left( p(1-r)L + qh + 10d + c \\right)$$\n    $$\\Delta E[\\text{DALY}] = pL - pL + prL - qh - 10d - c$$\n    $$\\Delta E[\\text{DALY}] = prL - (qh + 10d + c)$$\n    这个最终表达式代表了规避的预期DALY（收益，$prL$）减去治疗带来的总预期DALY（损害和成本，$qh + 10d + c$）。\n\n4.  **规避的净DALY为正的条件：**\n    如果规避的预期净DALY为正，则治疗是有益的。\n    $$\\Delta E[\\text{DALY}] > 0$$\n    $$prL - (qh + 10d + c) > 0$$\n    $$prL > qh + 10d + c$$\n    关于基线风险$p$的条件是：\n    $$p > \\frac{qh + 10d + c}{rL}$$\n\n5.  **风险阈值$p^{\\ast}$的推导：**\n    风险阈值$p^{\\ast}$是$p$的一个特定值，在该值上规避的预期净DALY恰好为零，意味着收益等于成本。\n    $$p^{\\ast}rL - (qh + 10d + c) = 0$$\n    解出$p^{\\ast}$：\n    $$p^{\\ast} = \\frac{qh + 10d + c}{rL}$$\n\n6.  **$p^{\\ast}$的数值计算：**\n    我们代入给定的参数值：$r=0.25$，$L=8$，$q=0.02$，$h=0.3$，$d=0.003$ 和 $c=0.08$。\n\n    首先，计算分子（总损害和成本）：\n    $$\\text{Numerator} = qh + 10d + c = (0.02)(0.3) + 10(0.003) + 0.08$$\n    $$\\text{Numerator} = 0.006 + 0.030 + 0.080 = 0.116$$\n\n    接下来，计算分母（每单位风险的收益）：\n    $$\\text{Denominator} = rL = (0.25)(8) = 2$$\n\n    最后，计算阈值$p^{\\ast}$：\n    $$p^{\\ast} = \\frac{0.116}{2} = 0.058$$\n\n    问题要求将结果四舍五入至三位有效数字。计算出的值$0.058$有两位有效数字。为了表示为三位，我们在末尾加一个零，这在这种情况下是有效的。\n    $$p^{\\ast} = 0.0580$$\n    这是以小数形式表示的$10$年风险阈值。", "answer": "$$ \\boxed{0.0580} $$", "id": "4969510"}, {"introduction": "为了实施基于风险的预防策略，我们需要准确的工具来评估个体风险。然而，许多临床风险评分是在高收入国家开发的，由于基线疾病率不同，可能无法直接适用于中低收入国家（LMIC）的环境。本实践展示了重新校准风险预测模型的关键过程，通过调整其截距以反映当地流行病学特征，确保其预测对目标人群是准确的。[@problem_id:4969535]", "problem": "一个在高收入国家 (HIC) 开发的心血管疾病风险评分是使用一个 logistic 模型来指定的，该模型用于计算 $10$ 年事件的概率。该模型使用的预测变量是相对于固定的临床参考水平编码的，因此截距等于参考个体的事件概率的对数几率。具体来说，该模型的形式为 $$\\text{logit}(p) = \\alpha + \\beta_{\\text{smoke}} x_{\\text{smoke}} + \\beta_{\\text{diab}} x_{\\text{diab}} + \\beta_{\\text{age}} ( \\text{age} - 50 ),$$ 其中 $x_{\\text{smoke}}$ 和 $x_{\\text{diab}}$ 分别是当前吸烟和糖尿病的指示变量，age 是以年为单位的年龄。根据构造，当 $x_{\\text{smoke}} = 0$，$x_{\\text{diab}} = 0$ 且 $\\text{age} = 50$ 时，事件概率即为基线概率，截距等于该基线的对数几率。\n\n假设以下基于经验的事实和定义：\n- logit 链接函数定义为 $\\text{logit}(p) = \\ln\\!\\left(\\frac{p}{1-p}\\right)$，logistic 函数为 $\\expit(\\eta) = \\frac{1}{1+\\exp(-\\eta)}$。\n- 在 HIC 开发环境中，参考个体的基线 $10$ 年事件概率为 $p_{\\text{HIC}} = 0.06$。\n- 在一个中低收入国家 (LMIC)，相同的相对效应（对数优势比）是可移植的，但参考个体的基线 $10$ 年事件概率不同，为 $p_{\\text{LMIC}} = 0.10$。\n- 估计的斜率系数为 $\\beta_{\\text{smoke}} = 0.7$，$\\beta_{\\text{diab}} = 0.9$ 和 $\\beta_{\\text{age}} = 0.02$ 每年。\n\n仅使用优势、对数几率和 logistic 链接函数的基本定义，推导适用于 LMIC 基线的移植校准截距，然后计算一个个体（当前吸烟者 $x_{\\text{smoke}} = 1$，非糖尿病患者 $x_{\\text{diab}} = 0$，年龄为 $55$ 岁 $\\text{age} = 55$）的移植校准后的 $10$ 年预测概率。将最终概率四舍五入至 $4$ 位有效数字，并以小数形式表示，不带百分号。", "solution": "用户希望我扮演一位严谨的STEM教授，解决一个与校准心血管疾病风险模型相关的问题。我必须首先验证问题陈述。\n\n### 第1步：提取已知条件\n1.  **模型形式**：10年事件概率 $p$ 的 logistic 模型由下式给出：\n    $$\\text{logit}(p) = \\alpha + \\beta_{\\text{smoke}} x_{\\text{smoke}} + \\beta_{\\text{diab}} x_{\\text{diab}} + \\beta_{\\text{age}} ( \\text{age} - 50 )$$\n2.  **预测变量**：\n    *   $x_{\\text{smoke}}$: 当前吸烟的指示变量。\n    *   $x_{\\text{diab}}$: 糖尿病的指示变量。\n    *   $\\text{age}$: 以年为单位的年龄。\n3.  **参考个体**：参考个体由 $x_{\\text{smoke}} = 0$, $x_{\\text{diab}} = 0$ 和 $\\text{age} = 50$ 定义。对于这个个体，线性预测器就是截距 $\\alpha$。\n4.  **函数定义**：\n    *   Logit 链接函数：$\\text{logit}(p) = \\ln\\left(\\frac{p}{1-p}\\right)$\n    *   Logistic 函数 (反logit)：$\\expit(\\eta) = \\frac{1}{1+\\exp(-\\eta)}$\n5.  **基线概率**：\n    *   HIC 中参考个体的基线10年事件概率：$p_{\\text{HIC}} = 0.06$。\n    *   LMIC 中参考个体的基线10年事件概率：$p_{\\text{LMIC}} = 0.10$。\n6.  **可移植性假设**：相对效应（对数优势比），即斜率系数，是可移植的。\n7.  **斜率系数**：\n    *   $\\beta_{\\text{smoke}} = 0.7$\n    *   $\\beta_{\\text{diab}} = 0.9$\n    *   $\\beta_{\\text{age}} = 0.02$ 每年。\n8.  **目标个体特征**：\n    *   当前吸烟者：$x_{\\text{smoke}} = 1$。\n    *   非糖尿病患者：$x_{\\text{diab}} = 0$。\n    *   年龄：$\\text{age} = 55$ 岁。\n9.  **要求输出**：\n    *   推导 LMIC 的移植校准截距。\n    *   计算目标个体的移植校准后10年预测概率。\n    *   将最终概率四舍五入至4位有效数字。\n    *   以小数形式表示。\n\n### 第2步：使用提取的已知条件进行验证\n1.  **科学依据**：该问题基于生物统计学的既定原则，特别是用于临床预测模型的 logistic 回归和用于模型可移植性的校准概念。这是医学研究和全球健康领域的标准且现实的任务。前提是合理的。\n2.  **适定性**：问题陈述清晰，并提供了得出唯一解所需的所有数据和定义。解决问题的步骤可以从给定信息中逻辑地推导出来。\n3.  **客观性**：问题以精确的、定量的术语表达，没有主观性或意见。\n4.  **其他缺陷**：问题是自洽的、一致的、现实的且非平凡的。它没有违反任何验证标准。\n\n### 第3步：结论与行动\n问题是有效的。我将继续进行解答。\n该问题要求在为一个新群体重新校准其截距后，从一个 logistic 回归模型中计算预测概率。这个过程包括三个主要步骤：首先，根据目标群体的基线风险确定新的截距；其次，为指定个体计算线性预测器（对数几率）；第三，将这个对数几率转换回概率。\n\nlogistic 模型由下式给出：\n$$ \\text{logit}(p) = \\eta = \\alpha + \\beta_{\\text{smoke}} x_{\\text{smoke}} + \\beta_{\\text{diab}} x_{\\text{diab}} + \\beta_{\\text{age}} ( \\text{age} - 50 ) $$\n其中 $\\eta$ 是线性预测器，且 $\\text{logit}(p) = \\ln(p / (1-p))$。\n\n截距 $\\alpha$ 代表参考个体的事件对数几率，该个体的所有预测变量均处于其参考水平。在此模型中，参考水平为 $x_{\\text{smoke}} = 0$，$x_{\\text{diab}} = 0$ 和 $\\text{age} = 50$ 岁。对于这个个体，线性预测器简化为 $\\eta_{\\text{ref}} = \\alpha$。\n\n问题陈述，在一个新的环境，即中低收入国家 (LMIC) 中，同一个参考个体的基线 $10$ 年事件概率为 $p_{\\text{LMIC}} = 0.10$。移植校准的过程包括调整模型的截距以匹配这个新的基线风险，同时保持相对效应（$\\beta$ 系数）不变，因为它们被假设是可移植的。\n\n设 $\\alpha_{\\text{LMIC}}$ 为 LMIC 环境下的移植校准截距。根据定义，该截距必须等于 LMIC 中基线概率的对数几率。\n$$ \\alpha_{\\text{LMIC}} = \\text{logit}(p_{\\text{LMIC}}) = \\ln\\left(\\frac{p_{\\text{LMIC}}}{1-p_{\\text{LMIC}}}\\right) $$\n代入给定的基线概率 $p_{\\text{LMIC}} = 0.10$：\n$$ \\alpha_{\\text{LMIC}} = \\ln\\left(\\frac{0.10}{1 - 0.10}\\right) = \\ln\\left(\\frac{0.10}{0.90}\\right) = \\ln\\left(\\frac{1}{9}\\right) = -\\ln(9) $$\n\n因此，LMIC 的移植校准模型为：\n$$ \\text{logit}(p) = -\\ln(9) + \\beta_{\\text{smoke}} x_{\\text{smoke}} + \\beta_{\\text{diab}} x_{\\text{diab}} + \\beta_{\\text{age}} ( \\text{age} - 50 ) $$\n\n接下来，我们计算目标个体的预测概率，该个体是当前吸烟者 ($x_{\\text{smoke}} = 1$)，非糖尿病患者 ($x_{\\text{diab}} = 0$)，年龄为 $55$ 岁 ($\\text{age} = 55$)。我们首先通过将他们的特征和给定的 $\\beta$ 系数（$\\beta_{\\text{smoke}} = 0.7$, $\\beta_{\\text{diab}} = 0.9$, $\\beta_{\\text{age}} = 0.02$）代入校准后的模型，来计算该个体的线性预测器 $\\eta_{\\text{target}}$。\n$$ \\eta_{\\text{target}} = -\\ln(9) + (0.7)(1) + (0.9)(0) + (0.02)(55 - 50) $$\n$$ \\eta_{\\text{target}} = -\\ln(9) + 0.7 + 0 + (0.02)(5) $$\n$$ \\eta_{\\text{target}} = -\\ln(9) + 0.7 + 0.1 $$\n$$ \\eta_{\\text{target}} = 0.8 - \\ln(9) $$\n\n现在，我们使用反 logit 或 logistic 函数 $p = \\text{expit}(\\eta) = \\frac{1}{1+\\exp(-\\eta)}$，将这个线性预测器（对数几率）转换回概率 $p_{\\text{target}}$。\n$$ p_{\\text{target}} = \\frac{1}{1 + \\exp(-\\eta_{\\text{target}})} = \\frac{1}{1 + \\exp(-(0.8 - \\ln(9)))} $$\n$$ p_{\\text{target}} = \\frac{1}{1 + \\exp(\\ln(9) - 0.8)} $$\n使用属性 $\\exp(a-b) = \\exp(a)\\exp(-b)$：\n$$ p_{\\text{target}} = \\frac{1}{1 + \\exp(\\ln(9)) \\cdot \\exp(-0.8)} = \\frac{1}{1 + 9 \\exp(-0.8)} $$\n现在，我们计算数值。\n$$ \\ln(9) \\approx 2.197224577 $$\n$$ \\eta_{\\text{target}} = 0.8 - 2.197224577 = -1.397224577 $$\n$$ p_{\\text{target}} = \\frac{1}{1 + \\exp(-(-1.397224577))} = \\frac{1}{1 + \\exp(1.397224577)} $$\n$$ \\exp(1.397224577) \\approx 4.043960678 $$\n$$ p_{\\text{target}} = \\frac{1}{1 + 4.043960678} = \\frac{1}{5.043960678} \\approx 0.198256801 $$\n\n问题要求将最终概率四舍五入到 $4$ 位有效数字。$0.198256801$ 的第五位有效数字是 $5$，所以我们将第四位数字向上取整。\n$$ p_{\\text{target}} \\approx 0.1983 $$\n这就是指定个体的移植校准后的 $10$ 年预测概率。", "answer": "$$\n\\boxed{0.1983}\n$$", "id": "4969535"}, {"introduction": "有效的公共卫生项目必须在设计时考虑到现实世界的限制，特别是预算限制。这个问题将您置于卫生官员的角色，作为更广泛的心血管疾病预防策略的一部分，选择一种糖尿病筛查测试。您将分析测试的诊断特性——敏感性和特异性——如何与固定的治疗能力相互作用，以确定哪种测试最终能避免更多的心血管事件，从而阐明项目设计中的一个关键权衡。[@problem_id:4969546]", "problem": "一个中低收入国家（LMIC）的卫生部正在计划一项全国性的筛查活动，旨在通过识别未确诊的糖尿病患者并立即启动标准化的心脏保护治疗方案（例如，为检测结果呈阳性者提供他汀类药物加血压控制），以减少五年内心血管事件的发生。正在考虑两种指标测试：糖化血红蛋白（HbA1c）和空腹血糖（FPG）。该计划将筛查一个由$10{,}000$名年龄在$40$至$65$岁之间的成年人组成的队列。由于预算限制，该计划最多只能治疗$800$名筛查结果为阳性的个体。\n\n在您的推理中，请仅使用以下基本要素：疾病患病率、灵敏度和特异度的定义；全概率定律；以及相对风险降低作为基线风险的乘法因子的定义。假设个体之间相互独立，并且治疗对被错误治疗的非糖尿病患者没有影响。\n\n流行病学和计划参数如下：\n- 目标人群中未确诊糖尿病的患病率：$p = 0.12$。\n- 未经治疗的糖尿病患者的五年心血管事件风险：$R_{d} = 0.18$。\n- 非糖尿病患者（无论是否接受治疗）的五年心血管事件风险：$R_{nd} = 0.05$；然而，根据此计划假设，接受治疗的非糖尿病患者的风险没有变化。\n- 接受治疗的真性糖尿病患者五年心血管事件的相对风险降低：$r = 0.30$（因此治疗后的风险变为$(1 - r) R_{d}$）。\n- 对于糖化血红蛋白（HbA1c）：灵敏度$Se_{H} = 0.55$，特异度$Sp_{H} = 0.98$。\n- 对于空腹血糖（FPG）：灵敏度$Se_{F} = 0.70$，特异度$Sp_{F} = 0.94$。\n\n治疗上限下的操作规则：如果给定测试的阳性人数小于或等于$800$，则所有测试阳性者都将接受治疗。如果测试阳性人数超过$800$，则所有阳性者中将有比例为$q$（等于$q = \\frac{800}{\\text{阳性人数}}$）的个体接受治疗，该比例在所有阳性者中均匀随机应用。\n\n从上述核心定义和概率定律出发，推导每种测试下每筛查$10{,}000$人所避免的五年心血管事件的预期数量的表达式，并计算使用HbA1c代替FPG所额外避免的预期事件数。请将您的最终答案表示为一个实数，该实数等于每筛查$10{,}000$人中，使用HbA1c相比FPG额外避免的心血管事件的预期数量（HbA1c减去FPG）。将您的答案四舍五入到四位有效数字。", "solution": "该问题被评估为有效，因为它科学地基于既定的流行病学原理，问题提出得当，具有完整且一致的给定条件，并且语言客观。可以推导出唯一且有意义的解。\n\n目标是计算使用糖化血红蛋白（HbA1c）测试代替空腹血糖（FPG）测试进行筛查所额外避免的心血管事件的预期数量。这是每种测试策略所避免的预期事件数量之间的差异。\n\n让我们定义所提供的符号参数：\n- 筛查队列中的总人数：$N = 10,000$。\n- 未确诊糖尿病的患病率：$p = P(D) = 0.12$。非糖尿病的概率为$P(D^c) = 1-p = 0.88$。\n- 未经治疗的糖尿病患者的五年心血管事件风险：$R_d = 0.18$。\n- 非糖尿病患者的五年心血管事件风险：$R_{nd} = 0.05$。\n- 糖尿病患者接受治疗后的相对风险降低：$r = 0.30$。接受治疗的糖尿病患者的风险为$R_{d, treat} = (1-r)R_d$。\n- 治疗能力上限：$C = 800$。\n- HbA1c的测试参数（用下标$H$表示）：灵敏度$Se_H = 0.55$，特异度$Sp_H = 0.98$。\n- FPG的测试参数（用下标$F$表示）：灵敏度$Se_F = 0.70$，特异度$Sp_F = 0.94$。\n\n问题的核心是确定每种测试策略所避免的心血管事件的预期数量$E_{averted}$。根据问题陈述，治疗仅对真性糖尿病患者有效，对非糖尿病患者无效。因此，只有当真性糖尿病患者被正确识别（真阳性，$TP$）并随后接受治疗时，才能避免事件的发生。\n\n接受治疗的糖尿病患者的绝对风险降低（$ARR$）是未经治疗的风险与接受治疗的风险之间的差值：\n$$ARR = R_d - R_{d, treat} = R_d - (1-r)R_d = rR_d$$\n\n在给定的测试策略$i$（其中$i \\in \\{H, F\\}$）下，避免的事件总数是接受治疗的真阳性糖尿病患者的预期数量与每人绝对风险降低的乘积。\n$$E_{averted, i} = E[\\text{Number of treated } TP_i] \\times ARR$$\n\n让我们首先找出一个通用测试$i$的真阳性（$TP_i$）和假阳性（$FP_i$）的预期数量。\n使用灵敏度的定义，$Se_i = P(T_i^+ | D)$，真阳性的预期数量为：\n$$E[TP_i] = N \\times P(T_i^+ \\text{ and } D) = N \\times P(T_i^+ | D) \\times P(D) = N \\cdot Se_i \\cdot p$$\n使用特异度的定义，$Sp_i = P(T_i^- | D^c)$，非糖尿病患者测试呈阳性的概率是$P(T_i^+ | D^c) = 1 - Sp_i$。假阳性的预期数量是：\n$$E[FP_i] = N \\times P(T_i^+ \\text{ and } D^c) = N \\times P(T_i^+ | D^c) \\times P(D^c) = N \\cdot (1 - Sp_i) \\cdot (1-p)$$\n\n测试呈阳性的个体总预期数量$N_{pos, i}$，是预期真阳性和假阳性数量之和：\n$$N_{pos, i} = E[TP_i] + E[FP_i]$$\n\n治疗的操作规则是通过将$N_{pos, i}$与治疗上限$C$进行比较来确定的。接受治疗的测试阳性个体的比例$q_i$为：\n$$q_i = \\min\\left(1, \\frac{C}{N_{pos, i}}\\right)$$\n\n接受治疗的真阳性糖尿病患者的预期数量是预期真阳性数量$E[TP_i]$乘以这个比例$q_i$。\n$$E[\\text{Number of treated } TP_i] = q_i \\cdot E[TP_i]$$\n\n综合这些发现，测试$i$所避免的事件的预期数量的一般表达式为：\n$$E_{averted, i} = q_i \\cdot E[TP_i] \\cdot r \\cdot R_d$$\n$$E_{averted, i} = \\min\\left(1, \\frac{C}{N \\cdot (Se_i \\cdot p + (1 - Sp_i) \\cdot (1-p))}\\right) \\cdot (N \\cdot Se_i \\cdot p) \\cdot (r \\cdot R_d)$$\n\n现在，我们将此公式应用于每种测试。\n\n**1. HbA1c（测试H）的计算**\n首先，我们计算真阳性和假阳性的预期数量。\n$$E[TP_H] = N \\cdot Se_H \\cdot p = 10,000 \\times 0.55 \\times 0.12 = 660$$\n$$E[FP_H] = N \\cdot (1 - Sp_H) \\cdot (1-p) = 10,000 \\times (1 - 0.98) \\times (1 - 0.12) = 10,000 \\times 0.02 \\times 0.88 = 176$$\n阳性的总预期数量是：\n$$N_{pos, H} = E[TP_H] + E[FP_H] = 660 + 176 = 836$$\n由于$N_{pos, H} = 836 > C = 800$，并非所有阳性者都能得到治疗。接受治疗的比例是：\n$$q_H = \\frac{C}{N_{pos, H}} = \\frac{800}{836}$$\n使用HbA1c避免的事件的预期数量是：\n$$E_{averted, H} = q_H \\cdot E[TP_H] \\cdot r \\cdot R_d = \\frac{800}{836} \\times 660 \\times 0.30 \\times 0.18$$\n$$E_{averted, H} = \\frac{800}{836} \\times 660 \\times 0.054 \\approx 34.105263$$\n\n**2. FPG（测试F）的计算**\n接下来，我们对FPG测试执行相同的计算。\n$$E[TP_F] = N \\cdot Se_F \\cdot p = 10,000 \\times 0.70 \\times 0.12 = 840$$\n$$E[FP_F] = N \\cdot (1 - Sp_F) \\cdot (1-p) = 10,000 \\times (1 - 0.94) \\times (1 - 0.12) = 10,000 \\times 0.06 \\times 0.88 = 528$$\n阳性的总预期数量是：\n$$N_{pos, F} = E[TP_F] + E[FP_F] = 840 + 528 = 1368$$\n由于$N_{pos, F} = 1368 > C = 800$，接受治疗的比例是：\n$$q_F = \\frac{C}{N_{pos, F}} = \\frac{800}{1368}$$\n使用FPG避免的事件的预期数量是：\n$$E_{averted, F} = q_F \\cdot E[TP_F] \\cdot r \\cdot R_d = \\frac{800}{1368} \\times 840 \\times 0.30 \\times 0.18$$\n$$E_{averted, F} = \\frac{800}{1368} \\times 840 \\times 0.054 \\approx 26.526315$$\n\n**3. 最终比较**\n使用HbA1c代替FPG所额外避免的预期事件数是两者之差：\n$$\\Delta E_{averted} = E_{averted, H} - E_{averted, F}$$\n$$\\Delta E_{averted} \\approx 34.105263 - 26.526315 = 7.578948$$\n问题要求将最终答案四舍五入到四位有效数字。\n$$\\Delta E_{averted} \\approx 7.579$$\n分析表明，尽管FPG具有更高的灵敏度，但在指定的资源限制下，HbA1c测试能避免更多的心血管事件。这是因为FPG较低的特异度产生了大量的假阳性，耗尽了治疗预算。治疗的配给（$q_F$远小于$q_H$）是如此严格，以至于与更具特异性的HbA1c测试相比，最终接受治疗的真阳性患者更少。", "answer": "$$\\boxed{7.579}$$", "id": "4969546"}]}