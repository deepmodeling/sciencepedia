{"hands_on_practices": [{"introduction": "“生命损失年” ($YLL$) 是衡量因过早死亡造成的疾病负担的关键指标。与仅计算死亡人数不同，$YLL$ 更侧重于发生在较年轻年龄的死亡，从而更准确地反映了疾病对社会生产力的影响。通过这个练习 [@problem_id:5001267]，你将学会如何计算 $YLL$，并用它来比较癌症与其他原因导致的死亡负担。", "problem": "量化全球癌症负担的一个核心指标是生命损失年（Years of Life Lost, YLL）。生命损失年（YLL）定义为，特定原因导致的所有死亡案例中，死者死亡年龄时剩余预期寿命的总和。在一个假设的队列生命表中，年龄$x$时的剩余预期寿命表示为$e_{x}$。\n\n考虑在一个假设队列中，以下死亡年龄类别、代表年龄、剩余预期寿命$e_{x}$，以及归因于癌症和非癌症原因的死亡人数：\n\n- 年龄类别 $0$–$14$ 岁，代表年龄 $x = 10$，剩余预期寿命 $e_{10} = 62$ 年；癌症死亡人数 $= 30$；非癌症死亡人数 $= 200$。\n- 年龄类别 $15$–$44$ 岁，代表年龄 $x = 30$，剩余预期寿命 $e_{30} = 48$ 年；癌症死亡人数 $= 120$；非癌症死亡人数 $= 400$。\n- 年龄类别 $45$–$64$ 岁，代表年龄 $x = 55$，剩余预期寿命 $e_{55} = 24$ 年；癌症死亡人数 $= 500$；非癌症死亡人数 $= 700$。\n- 年龄类别 $65$–$74$ 岁，代表年龄 $x = 70$，剩余预期寿命 $e_{70} = 13$ 年；癌症死亡人数 $= 800$；非癌症死亡人数 $= 900$。\n- 年龄类别 $75+$ 岁，代表年龄 $x = 80$，剩余预期寿命 $e_{80} = 9$ 年；癌症死亡人数 $= 900$；非癌症死亡人数 $= 1500$。\n\n使用生命损失年（YLL）的定义和上述生命表中的数据，通过将所有癌症死亡案例的剩余预期寿命按年龄类别相加，计算癌症特异性YLL的总和，并以类似方式计算非癌症原因导致的YLL总和。然后，构建比率作为对比：\n$$R = \\frac{\\text{因癌症导致的YLL}}{\\text{因非癌症原因导致的YLL}}.$$\n将 $R$ 报告为一个无单位数字，并四舍五入到四位有效数字。最终报告值中不要包含任何单位。", "solution": "该问题被认为是有效的，因为它科学上基于标准的流行病学原理，问题阐述清晰，数据充分且一致，并以客观、可形式化的语言表达。\n\n主要任务是计算因癌症导致的生命损失年（YLL）与因非癌症原因导致的YLL的比率。问题将YLL定义为，特定原因导致的所有死亡案例中，死者死亡年龄时剩余预期寿命的总和。\n\n设年龄类别由 $i$ 索引，其中 $i \\in \\{1, 2, 3, 4, 5\\}$。对于每个类别 $i$，我们给出了一个代表年龄 $x_i$，一个剩余预期寿命 $e_{x_i}$，癌症死亡人数 $D_{c,i}$，以及非癌症死亡人数 $D_{nc,i}$。\n\n特定原因的总YLL是通过将所有年龄类别的死亡人数与相应剩余预期寿命的乘积相加来计算的。\n癌症特异性YLL的公式，表示为 $\\text{YLL}_{\\text{cancer}}$，是：\n$$ \\text{YLL}_{\\text{cancer}} = \\sum_{i=1}^{5} D_{c,i} \\cdot e_{x_i} $$\n非癌症原因导致的YLL的公式，表示为 $\\text{YLL}_{\\text{non-cancer}}$，是：\n$$ \\text{YLL}_{\\text{non-cancer}} = \\sum_{i=1}^{5} D_{nc,i} \\cdot e_{x_i} $$\n\n首先，我们通过将每个年龄类别的贡献相加来计算归因于癌症的YLL：\n- 类别 $1$ ($0$–$14$ 岁): $D_{c,1} = 30$, $e_{x_1} = e_{10} = 62$。贡献 = $30 \\times 62 = 1860$。\n- 类别 $2$ ($15$–$44$ 岁): $D_{c,2} = 120$, $e_{x_2} = e_{30} = 48$。贡献 = $120 \\times 48 = 5760$。\n- 类别 $3$ ($45$–$64$ 岁): $D_{c,3} = 500$, $e_{x_3} = e_{55} = 24$。贡献 = $500 \\times 24 = 12000$。\n- 类别 $4$ ($65$–$74$ 岁): $D_{c,4} = 800$, $e_{x_4} = e_{70} = 13$。贡献 = $800 \\times 13 = 10400$。\n- 类别 $5$ ($75+$ 岁): $D_{c,5} = 900$, $e_{x_5} = e_{80} = 9$。贡献 = $900 \\times 9 = 8100$。\n\n将这些贡献相加，得出癌症的总YLL：\n$$ \\text{YLL}_{\\text{cancer}} = 1860 + 5760 + 12000 + 10400 + 8100 = 38120 $$\n\n接下来，我们以同样的方式计算归因于非癌症原因的YLL：\n- 类别 $1$ ($0$–$14$ 岁): $D_{nc,1} = 200$, $e_{x_1} = e_{10} = 62$。贡献 = $200 \\times 62 = 12400$。\n- 类别 $2$ ($15$–$44$ 岁): $D_{nc,2} = 400$, $e_{x_2} = e_{30} = 48$。贡献 = $400 \\times 48 = 19200$。\n- 类别 $3$ ($45$–$64$ 岁): $D_{nc,3} = 700$, $e_{x_3} = e_{55} = 24$。贡献 = $700 \\times 24 = 16800$。\n- 类别 $4$ ($65$–$74$ 岁): $D_{nc,4} = 900$, $e_{x_4} = e_{70} = 13$。贡献 = $900 \\times 13 = 11700$。\n- 类别 $5$ ($75+$ 岁): $D_{nc,5} = 1500$, $e_{x_5} = e_{80} = 9$。贡献 = $1500 \\times 9 = 13500$。\n\n将这些贡献相加，得出非癌症原因的总YLL：\n$$ \\text{YLL}_{\\text{non-cancer}} = 12400 + 19200 + 16800 + 11700 + 13500 = 73600 $$\n\n最后，我们按规定计算比率 $R$：\n$$ R = \\frac{\\text{YLL}_{\\text{cancer}}}{\\text{YLL}_{\\text{non-cancer}}} = \\frac{38120}{73600} $$\n进行除法运算：\n$$ R = 0.51793478... $$\n问题要求将结果四舍五入到四位有效数字。前四位有效数字是 $5$、$1$、$7$ 和 $9$。第五位有效数字是 $3$，小于 $5$，因此我们向下取整（即不改变第四位有效数字）。\n$$ R \\approx 0.5179 $$", "answer": "$$\\boxed{0.5179}$$", "id": "5001267"}, {"introduction": "直接比较不同国家或地区的癌症“粗”发病率可能会产生误导，因为各国的人口年龄结构差异巨大。本练习 [@problem_id:5001299] 将引导你使用一种标准的流行病学方法，将两国之间粗发病率的差异分解为两个部分：一部分归因于真实的年龄别发病风险差异，另一部分归因于人口结构的不同。这项技能对于进行有意义的跨人群疾病负担比较至关重要。", "problem": "比较A国和B两个国家的癌症负担，使用其年龄别发病率和年龄结构数据。一个国家的粗发病率定义为其年龄别发病率的加权和，其中权重为相应年龄组的人口份额。也就是说，对于以$i$为索引的年龄组，粗发病率为 $R=\\sum_{i} w_{i} r_{i}$，其中$w_{i}$是年龄组$i$的人口份额（满足$\\sum_{i} w_{i}=1$），$r_{i}$是同一组中每$100{,}000$个人年的年龄别发病率。\n\n假设有三个年龄组：$0$–$39$岁，$40$–$64$岁，以及$\\geq 65$岁。各年龄组的人口份额如下：\n- A国：$w_{A,0\\text{–}39} = 0.35$，$w_{A,40\\text{–}64} = 0.40$，$w_{A,\\geq 65} = 0.25$。\n- B国：$w_{B,0\\text{–}39} = 0.55$，$w_{B,40\\text{–}64} = 0.35$，$w_{B,\\geq 65} = 0.10$。\n\n相应的年龄别癌症发病率（每$100{,}000$个人年）如下：\n- A国：$r_{A,0\\text{–}39} = 55$，$r_{A,40\\text{–}64} = 430$，$r_{A,\\geq 65} = 1900$。\n- B国：$r_{B,0\\text{–}39} = 60$，$r_{B,40\\text{–}64} = 470$，$r_{B,\\geq 65} = 1700$。\n\n仅使用上述定义，将粗发病率之差 $R_{A} - R_{B}$ 代数分解为两个可相加分离的组分：一个归因于年龄别发病率的差异，另一个归因于年龄结构的差异。然后计算粗发病率差异中归因于年龄结构的部分所占的比例。最终答案以纯小数表示（无单位），并四舍五入到四位有效数字。", "solution": "首先将对问题进行验证，以确保其科学上合理、内容自洽且客观。\n\n### 步骤1：提取已知条件\n设索引 $i \\in \\{1, 2, 3\\}$ 分别对应年龄组 $0$–$39$岁、$40$–$64$岁和$\\geq 65$岁。\n- 粗发病率的定义：$R = \\sum_{i} w_{i} r_{i}$，其中$w_i$是年龄组$i$的人口份额，$r_i$是该年龄组的年龄别发病率。\n- A国的人口份额：\n  - $w_{A,1} = 0.35$（年龄$0$–$39$岁）\n  - $w_{A,2} = 0.40$（年龄$40$–$64$岁）\n  - $w_{A,3} = 0.25$（年龄$\\geq 65$岁）\n- B国的人口份额：\n  - $w_{B,1} = 0.55$（年龄$0$–$39$岁）\n  - $w_{B,2} = 0.35$（年龄$40$–$64$岁）\n  - $w_{B,3} = 0.10$（年龄$\\geq 65$岁）\n- A国的年龄别发病率（每$100{,}000$个人年）：\n  - $r_{A,1} = 55$（年龄$0$–$39$岁）\n  - $r_{A,2} = 430$（年龄$40$–$64$岁）\n  - $r_{A,3} = 1900$（年龄$\\geq 65$岁）\n- B国的年龄别发病率（每$100{,}000$个人年）：\n  - $r_{B,1} = 60$（年龄$0$–$39$岁）\n  - $r_{B,2} = 470$（年龄$40$–$64$岁）\n  - $r_{B,3} = 1700$（年龄$\\geq 65$岁）\n- 任务：将粗发病率之差 $R_A - R_B$ 分解为两个可加组分：一个用于表示发病率的差异，另一个用于表示年龄结构的差异。然后，计算此差异中归因于年龄结构的部分所占的比例。\n\n### 步骤2：使用提取的已知条件进行验证\n- **科学依据**：该问题基于流行病学和公共卫生的标准基本概念，即粗发病率和年龄别发病率、人口结构和率的分解。所用方法是一种公认的技术（Kitagawa方法）。提供的人口份额和癌症发病率的数值是合理的。\n- **适定性**：问题定义清晰，提供了所有必要数据。目标明确且可实现。人口份额的总和为 $\\sum_i w_{A,i} = 0.35 + 0.40 + 0.25 = 1.00$ 和 $\\sum_i w_{B,i} = 0.55 + 0.35 + 0.10 = 1.00$，证实了一致性。存在唯一解。\n- **客观性**：问题以精确、定量且无偏见的语言陈述。\n\n### 步骤3：结论与行动\n此问题是**有效的**。它科学上合理，适定且客观。将提供完整的解法。\n\n### 解法\n一个国家的粗发病率由 $R = \\sum_{i} w_{i} r_{i}$ 给出。对于A国和B国，其粗发病率分别为：\n$$R_A = \\sum_{i=1}^{3} w_{A,i} r_{A,i}$$\n$$R_B = \\sum_{i=1}^{3} w_{B,i} r_{B,i}$$\n\n两国之间的粗发病率之差为 $R_A - R_B$。我们的任务是将此差异分解为两个可加组分：一个由年龄别发病率（$r_i$）的差异引起，另一个由年龄结构（人口份额，$w_i$）的差异引起。\n\n用于此分解的一个标准且对称的方法，称为Kitagawa方法，基于代数恒等式 $a_1x_1 - a_2x_2 = \\frac{a_1+a_2}{2}(x_1-x_2) + \\frac{x_1+x_2}{2}(a_1-a_2)$。将此恒等式应用于率差求和中的每一项，可得：\n$$R_A - R_B = \\sum_{i=1}^{3} (w_{A,i} r_{A,i} - w_{B,i} r_{B,i})$$\n$$R_A - R_B = \\sum_{i=1}^{3} \\left[ \\frac{w_{A,i} + w_{B,i}}{2} (r_{A,i} - r_{B,i}) + \\frac{r_{A,i} + r_{B,i}}{2} (w_{A,i} - w_{B,i}) \\right]$$\n这可以被分离为所要求的两个组分：\n$$C_{\\text{rate}} = \\sum_{i=1}^{3} \\frac{w_{A,i} + w_{B,i}}{2} (r_{A,i} - r_{B,i})$$\n$$C_{\\text{struct}} = \\sum_{i=1}^{3} \\frac{r_{A,i} + r_{B,i}}{2} (w_{A,i} - w_{B,i})$$\n此处，$C_{\\text{rate}}$ 是归因于年龄别发病率差异的组分，而 $C_{\\text{struct}}$ 是归因于年龄结构差异的组分。总差异为 $R_A - R_B = C_{\\text{rate}} + C_{\\text{struct}}$。\n\n首先，我们计算每个国家的粗发病率。\n对于A国：\n$$R_A = (0.35)(55) + (0.40)(430) + (0.25)(1900) = 19.25 + 172.0 + 475.0 = 666.25$$\n对于B国：\n$$R_B = (0.55)(60) + (0.35)(470) + (0.10)(1700) = 33.0 + 164.5 + 170.0 = 367.5$$\n粗发病率的总差异是：\n$$R_A - R_B = 666.25 - 367.5 = 298.75$$\n\n接下来，我们计算归因于年龄结构的组分 $C_{\\text{struct}}$。\n对于每个年龄组 $i$：\n- $i=1$（$0$–$39$岁）：\n  - $\\frac{r_{A,1} + r_{B,1}}{2} = \\frac{55 + 60}{2} = 57.5$\n  - $w_{A,1} - w_{B,1} = 0.35 - 0.55 = -0.20$\n  - 贡献：$(57.5)(-0.20) = -11.5$\n- $i=2$（$40$–$64$岁）：\n  - $\\frac{r_{A,2} + r_{B,2}}{2} = \\frac{430 + 470}{2} = 450$\n  - $w_{A,2} - w_{B,2} = 0.40 - 0.35 = 0.05$\n  - 贡献：$(450)(0.05) = 22.5$\n- $i=3$（$\\geq 65$岁）：\n  - $\\frac{r_{A,3} + r_{B,3}}{2} = \\frac{1900 + 1700}{2} = 1800$\n  - $w_{A,3} - w_{B,3} = 0.25 - 0.10 = 0.15$\n  - 贡献：$(1800)(0.15) = 270.0$\n\n将这些贡献相加，得到由年龄结构引起的总组分：\n$$C_{\\text{struct}} = -11.5 + 22.5 + 270.0 = 281.0$$\n\n作为验证，我们可以计算由发病率引起的组分 $C_{\\text{rate}}$：\n- $i=1$：$\\frac{0.35+0.55}{2}(55-60) = (0.45)(-5) = -2.25$\n- $i=2$：$\\frac{0.40+0.35}{2}(430-470) = (0.375)(-40) = -15.0$\n- $i=3$：$\\frac{0.25+0.10}{2}(1900-1700) = (0.175)(200) = 35.0$\n$$C_{\\text{rate}} = -2.25 - 15.0 + 35.0 = 17.75$$\n这些组分的和是 $C_{\\text{struct}} + C_{\\text{rate}} = 281.0 + 17.75 = 298.75$，这与总差异 $R_A - R_B$ 相匹配。\n\n最后一步是计算粗发病率差异中归因于年龄结构的部分所占的比例。\n$$\\text{归因于结构的比例} = \\frac{C_{\\text{struct}}}{R_A - R_B} = \\frac{281.0}{298.75}$$\n$$\\text{比例} \\approx 0.940585774$$\n四舍五入到四位有效数字，结果是 $0.9406$。", "answer": "$$\\boxed{0.9406}$$", "id": "5001299"}, {"introduction": "癌症筛查是公共卫生领域控制癌症负担的重要干预措施，而评估筛查测试的性能是制定有效策略的第一步。本练习 [@problem_id:5001337] 将带你深入理解阳性预测值 ($PPV$)——即筛查结果为阳性的人真正患病的概率，并探讨在实际应用中，调整筛查测试的“阳性”阈值如何影响其性能，这反映了公共卫生决策中常见的权衡。", "problem": "一个中等收入国家正在扩大其国家结直肠癌筛查项目，该项目使用粪便免疫化学测试（FIT）。为应对有限的结肠镜检查能力，决策者考虑提高该检测的临界值（阳性阈值）。假设在筛查人群中以下参数保持稳定：未确诊的结直肠癌患病率为 $\\pi = 0.02$。在当前阈值 $T_1$ 下，该测试的灵敏度为 $Se_1 = 0.90$，特异性为 $Sp_1 = 0.85$。在更高的阈值 $T_2$ 下，灵敏度变为 $Se_2 = 0.75$，特异性变为 $Sp_2 = 0.93$。阳性预测值（PPV）定义为检测结果为阳性的人确实患有该疾病的概率。\n\n请仅从灵敏度 $Se = \\mathbb{P}(\\text{测试} + \\mid \\text{患病})$、特异性 $Sp = \\mathbb{P}(\\text{测试} - \\mid \\text{未患病})$ 和患病率 $\\pi = \\mathbb{P}(\\text{患病})$ 的基本定义，以及阳性预测值 PPV $=\\mathbb{P}(\\text{患病} \\mid \\text{测试} +)$ 的定义出发，推导出用 $Se$、$Sp$ 和 $\\pi$ 表示 PPV 的表达式。然后，使用这些量计算将阈值从 $T_1$ 提高到 $T_2$ 时 PPV 的增量，定义为 $\\Delta = \\mathrm{PPV}_{T_2} - \\mathrm{PPV}_{T_1}$。\n\n将您的最终数值答案 $\\Delta$ 四舍五入到四位有效数字。以小数形式表示最终答案（不要使用百分号）。", "solution": "该问题陈述经评估有效。它在科学上基于诊断测试评估的原则，问题设定良好，信息充分且一致，并且陈述客观。该场景是生物统计学在公共卫生领域的实际应用。\n\n第一个任务是推导用灵敏度（$Se$）、特异性（$Sp$）和患病率（$\\pi$）表示的阳性预测值（PPV）的表达式。设 $D$ 为个体患病的事件，$T+$ 为个体检测结果为阳性的事件。给定的定义如下：\n- 患病率：$\\pi = \\mathbb{P}(D)$\n- 灵敏度：$Se = \\mathbb{P}(T+ \\mid D)$\n- 特异性：$Sp = \\mathbb{P}(T- \\mid D^c)$，其中 $D^c$ 是未患病的事件，$T-$ 是检测结果为阴性的事件。\n- 阳性预测值：$\\mathrm{PPV} = \\mathbb{P}(D \\mid T+)$\n\n我们从条件概率的定义开始，这是贝叶斯定理的基础：\n$$\n\\mathrm{PPV} = \\mathbb{P}(D \\mid T+) = \\frac{\\mathbb{P}(D \\cap T+)}{\\mathbb{P}(T+)}\n$$\n分子 $\\mathbb{P}(D \\cap T+)$ 可以再次使用条件概率的定义重写：$\\mathbb{P}(D \\cap T+) = \\mathbb{P}(T+ \\mid D) \\mathbb{P}(D)$。代入给定的符号，我们得到：\n$$\n\\mathbb{P}(D \\cap T+) = Se \\cdot \\pi\n$$\n分母 $\\mathbb{P}(T+)$ 是人群中检测结果为阳性的总概率。我们可以使用全概率定律来计算它，通过一个人的患病状态（患病 $D$ 或未患病 $D^c$）来划分事件 $T+$：\n$$\n\\mathbb{P}(T+) = \\mathbb{P}(T+ \\mid D)\\mathbb{P}(D) + \\mathbb{P}(T+ \\mid D^c)\\mathbb{P}(D^c)\n$$\n我们可以用给定的量来表示右边的项：\n- $\\mathbb{P}(T+ \\mid D) = Se$\n- $\\mathbb{P}(D) = \\pi$\n- $\\mathbb{P}(D^c) = 1 - \\mathbb{P}(D) = 1 - \\pi$\n- $\\mathbb{P}(T+ \\mid D^c)$ 是假阳性率。由于特异性为 $Sp = \\mathbb{P}(T- \\mid D^c)$，且测试结果只能是阳性或阴性，我们有 $\\mathbb{P}(T+ \\mid D^c) = 1 - \\mathbb{P}(T- \\mid D^c) = 1 - Sp$。\n\n将这些代入 $\\mathbb{P}(T+)$ 的表达式中：\n$$\n\\mathbb{P}(T+) = (Se \\cdot \\pi) + ((1 - Sp) \\cdot (1 - \\pi))\n$$\n现在我们将分子和分母的表达式结合起来，得到 PPV 的最终公式：\n$$\n\\mathrm{PPV} = \\frac{Se \\cdot \\pi}{Se \\cdot \\pi + (1 - Sp)(1 - \\pi)}\n$$\n推导完成。\n\n第二个任务是计算 PPV 的变化量 $\\Delta = \\mathrm{PPV}_{T_2} - \\mathrm{PPV}_{T_1}$，给定两个阈值的参数。患病率是恒定的：$\\pi = 0.02$。\n\n对于初始阈值 $T_1$，参数为 $Se_1 = 0.90$ 和 $Sp_1 = 0.85$。我们计算 $\\mathrm{PPV}_{T_1}$：\n$$\n\\mathrm{PPV}_{T_1} = \\frac{Se_1 \\cdot \\pi}{Se_1 \\cdot \\pi + (1 - Sp_1)(1 - \\pi)} = \\frac{0.90 \\cdot 0.02}{0.90 \\cdot 0.02 + (1 - 0.85)(1 - 0.02)}\n$$\n$$\n\\mathrm{PPV}_{T_1} = \\frac{0.018}{0.018 + (0.15)(0.98)} = \\frac{0.018}{0.018 + 0.147} = \\frac{0.018}{0.165} \\approx 0.109090...\n$$\n对于更高的阈值 $T_2$，参数为 $Se_2 = 0.75$ 和 $Sp_2 = 0.93$。我们计算 $\\mathrm{PPV}_{T_2}$：\n$$\n\\mathrm{PPV}_{T_2} = \\frac{Se_2 \\cdot \\pi}{Se_2 \\cdot \\pi + (1 - Sp_2)(1 - \\pi)} = \\frac{0.75 \\cdot 0.02}{0.75 \\cdot 0.02 + (1 - 0.93)(1 - 0.02)}\n$$\n$$\n\\mathrm{PPV}_{T_2} = \\frac{0.015}{0.015 + (0.07)(0.98)} = \\frac{0.015}{0.015 + 0.0686} = \\frac{0.015}{0.0836} \\approx 0.179425...\n$$\n最后，我们计算 PPV 的增量 $\\Delta$：\n$$\n\\Delta = \\mathrm{PPV}_{T_2} - \\mathrm{PPV}_{T_1} \\approx 0.179425... - 0.109090... = 0.0703349...\n$$\n题目要求将最终答案四舍五入到四位有效数字。第一位有效数字是 $7$，其后是 $0$、$3$ 和 $3$。第五位有效数字是 $4$，小于 $5$，所以我们不进位。\n$$\n\\Delta \\approx 0.07033\n$$", "answer": "$$\\boxed{0.07033}$$", "id": "5001337"}]}