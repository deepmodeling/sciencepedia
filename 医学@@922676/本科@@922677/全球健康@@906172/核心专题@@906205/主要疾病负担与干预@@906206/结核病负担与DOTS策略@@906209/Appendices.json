{"hands_on_practices": [{"introduction": "在结核病控制中，准确高效地发现病例是首要环节，尤其是在资源有限的高负担地区。为了平衡成本与准确性，实际工作常采用多步骤诊断流程，例如先进行初步筛查，再对阳性者进行精确的确诊检测。本练习将带你模拟一个典型的两步诊断算法，通过计算，你将学会如何量化该流程在特定人群中的预期表现，具体来说，就是它能找出多少真正的患者（真阳性），又会错误地将多少健康人标记为患者（假阳性）[@problem_id:5006540]。这个练习能帮助你深入理解诊断测试的灵敏度、特异度和疾病流行率如何共同决定一个诊断策略的实际效果。", "problem": "一个实施短程督导化疗（DOTS）的国家结核病控制项目在一个高负担城市诊所使用两步诊断算法进行常规病例发现。第一步是症状筛查，其灵敏度为$0.8$，特异度为$0.7$。筛查结果呈阳性的个体随后会接受一项确认性核酸扩增检测，即Xpert MTB/RIF（Xpert），其灵敏度为$0.9$，特异度为$0.98$。假设每项检测的性能特征是其固有的，在各亚组中保持稳定，并且在真实患病状态的条件下，与之前的检测结果相互独立。同时假设所有筛查结果呈阳性的个体都完成了Xpert检测，无失访。\n\n在某一天，该诊所对$1{,}000$名成年人进行了筛查，该人群中经细菌学确诊的肺结核的真实患病率为$0.10$。根据灵敏度（在真实患病情况下检测结果为阳性的概率）和特异度（在未患病情况下检测结果为阴性的概率）的基本定义，构建该算法结束时（两步之后）的预期分类，并计算：\n- 预期的真阳性人数（患有结核病且被算法分类为阳性的人），以及\n- 预期的假阳性人数（未患结核病但被算法分类为阳性的人），\n\n两者均以每筛查$1{,}000$人为单位。\n\n请以有序对$\\left(TP, FP\\right)$的形式报告您的答案，其中$TP$是两步算法结束时的预期真阳性数，而$FP$是预期的假阳性数。不要四舍五入；以不带单位的实数形式提供确切的期望值。", "solution": "该问题陈述已经过严格评估，被认为是有效的。它具有科学依据，提法得当，客观，并包含推导出唯一且有意义解所需的所有信息。该情景代表了条件概率在诊断检测评估背景下的一个标准应用，这是生物统计学和流行病学中的一个基本课题。\n\n我们根据问题陈述来定义变量和参数。\n筛查的总人数为 $N = 1{,}000$。\n结核病 (TB) 的真实患病率为 $P = P(D^+) = 0.10$。\n未患结核病个体的比例为 $1 - P = P(D^-) = 1 - 0.10 = 0.90$。\n\n由此，我们可以确定筛查人群中患有和未患结核病的预期人数：\n预期患结核病人数：$N_{D^+} = N \\times P = 1{,}000 \\times 0.10 = 100$。\n预期未患结核病人数：$N_{D^-} = N \\times (1-P) = 1{,}000 \\times 0.90 = 900$。\n\n该两步诊断算法包括对筛查结果呈阳性的个体先进行症状筛查（检测1），然后进行Xpert检测（检测2）。\n\n对于检测1（症状筛查）：\n灵敏度：$Se_1 = P(T_1^+ | D^+) = 0.8$。\n特异度：$Sp_1 = P(T_1^- | D^-) = 0.7$。\n\n对于检测2（Xpert检测）：\n灵敏度：$Se_2 = P(T_2^+ | D^+) = 0.9$。\n特异度：$Sp_2 = P(T_2^- | D^-) = 0.98$。\n\n问题陈述指出，在真实患病状态的条件下，这些检测是相互独立的。这意味着检测2的结果仅取决于患病状态，而不取决于检测1的结果。\n\n只有当个体在检测1和检测2中均呈阳性时，才被整个两步算法归类为阳性。我们被要求计算这个完整算法产生的预期真阳性数（$TP$）和假阳性数（$FP$）。\n\n**预期真阳性数（$TP$）的计算**\n真阳性是指一个患有结核病（$D^+$）并被算法归类为阳性的个体。要被算法归类为阳性，他们必须在症状筛查（$T_1^+$）中呈阳性，然后在Xpert检测（$T_2^+$）中也呈阳性。\n\n患有结核病的人在检测1中呈阳性的概率是$Se_1$。患有结核病的人在检测2中呈阳性的概率是$Se_2$。由于检测的条件独立性，患有结核病的人在两次检测中都呈阳性的概率是它们各自概率的乘积：\n$P(\\text{Algorithm Positive} | D^+) = P(T_1^+ \\cap T_2^+ | D^+) = P(T_1^+ | D^+) \\times P(T_2^+ | D^+) = Se_1 \\times Se_2$。\n\n预期的真阳性数 $TP$ 是患有结核病的总人数乘以这个概率：\n$$TP = N_{D^+} \\times P(\\text{Algorithm Positive} | D^+)$$\n$$TP = (N \\times P) \\times (Se_1 \\times Se_2)$$\n代入给定值：\n$$TP = (1{,}000 \\times 0.10) \\times (0.8 \\times 0.9)$$\n$$TP = 100 \\times 0.72$$\n$$TP = 72$$\n\n**预期假阳性数（$FP$）的计算**\n假阳性是指一个未患结核病（$D^-$）但被算法归类为阳性的个体。要被归类为阳性，他们必须在症状筛查（$T_1^+$）中呈阳性，然后在Xpert检测（$T_2^+$）中也呈阳性。\n\n未患结核病的人在检测1中呈阳性的概率由$1 - Sp_1$给出：\n$P(T_1^+ | D^-) = 1 - P(T_1^- | D^-) = 1 - Sp_1$。\n未患结核病的人在检测2中呈阳性的概率由$1 - Sp_2$给出：\n$P(T_2^+ | D^-) = 1 - P(T_2^- | D^-) = 1 - Sp_2$。\n\n由于条件独立性，未患结核病的人在两次检测中都呈阳性的概率是：\n$P(\\text{Algorithm Positive} | D^-) = P(T_1^+ \\cap T_2^+ | D^-) = P(T_1^+ | D^-) \\times P(T_2^+ | D^-) = (1 - Sp_1) \\times (1 - Sp_2)$。\n\n预期的假阳性数 $FP$ 是未患结核病的总人数乘以这个概率：\n$$FP = N_{D^-} \\times P(\\text{Algorithm Positive} | D^-)$$\n$$FP = (N \\times (1-P)) \\times (1 - Sp_1) \\times (1 - Sp_2)$$\n代入给定值：\n$$FP = (1{,}000 \\times 0.90) \\times (1 - 0.7) \\times (1 - 0.98)$$\n$$FP = 900 \\times 0.3 \\times 0.02$$\n$$FP = 270 \\times 0.02$$\n$$FP = 5.4$$\n\n因此，在两步算法结束时，预期的真阳性数是$72$，预期的假阳性数是$5.4$。问题要求以有序对 $(TP, FP)$ 的形式给出答案。", "answer": "$$\\boxed{\\begin{pmatrix} 72  5.4 \\end{pmatrix}}$$", "id": "5006540"}, {"introduction": "在患者被诊断并接受治疗后，评估治疗项目的成效变得至关重要。本练习将向你介绍世界卫生组织（WHO）推荐的队列分析标准方法，这是结核病控制项目监测与评估的基石。通过处理一个模拟的治疗结果队列数据，你将亲手计算“治疗成功率”等关键指标，并学习在计算中如何根据国际准则处理“转出”等特殊情况的患者[@problem_id:5006506]。掌握这项技能对于理解和评估全球卫生项目的表现至关重要。", "problem": "一个实施短程直接观察治疗（DOTS）策略的国家结核病规划，进行标准化队列分析以评估药敏结核病的治疗结局。在一个特定季度登记接受治疗的 $1{,}000$ 名成年患者队列中，随访期结束时记录的结局如下：治愈 $600$ 例，完成治疗 $200$ 例，死亡 $60$ 例，治疗失败 $40$ 例，失访 $80$ 例，以及转出 $20$ 例。根据世界卫生组织在DOTS队列分析下的定义，转出的患者被归类为未评估，并在计算结局比例时从分母中移除。治疗成功率定义为在已评估结局的患者中，治愈或完成治疗者所占的比例。失访率定义为在已评估结局的患者中，失访者所占的比例。根据这些定义，计算该队列的治疗成功率和失访率。将两个率均以小数形式表示，并将您的答案四舍五入至四位有效数字。", "solution": "首先对问题进行验证，以确保其具有科学依据、提法得当且客观。\n\n**步骤1：提取已知条件**\n- 队列总人数：$N_{total} = 1,000$\n- 治愈患者数：$N_{cured} = 600$\n- 完成治疗的患者数：$N_{completed} = 200$\n- 死亡患者数：$N_{died} = 60$\n- 治疗失败的患者数：$N_{failed} = 40$\n- 失访患者数：$N_{LFU} = 80$\n- 转出患者数：$N_{transferred} = 20$\n- “未评估”的定义：转出的患者被归类为未评估。\n- 结局比例的分母：分母不包括未评估的患者。\n- 治疗成功率（TSR）的定义：在已评估结局的患者中，治愈或完成治疗者所占的比例。\n- 失访率（LFUR）的定义：在已评估结局的患者中，失访者所占的比例。\n- 要求的精度：将率表示为小数，四舍五入至四位有效数字。\n\n**步骤2：使用提取的已知条件进行验证**\n该问题描述了公共卫生领域一项标准的队列分析，具体是针对结核病项目的，其依据是世界卫生组织（WHO）的既定指南。所有定义都清晰明了，且提供的数据内部一致（$600 + 200 + 60 + 40 + 80 + 20 = 1,000$）。该问题具有科学依据、提法得当且客观。它没有违反任何无效标准。\n\n**步骤3：结论与行动**\n问题有效。将提供解答。\n\n**解题过程**\n\n该问题要求计算结核病治疗队列的两个关键绩效指标：治疗成功率（TSR）和失访率（LFUR）。该方法基于标准化队列分析，这需要仔细定义用于计算比率的分母。\n\n首先，我们必须确定应纳入评估分母的患者数量。问题陈述，“转出”的患者被归类为“未评估”，并从分母中移除。\n\n队列中的总患者数已知为 $N_{total} = 1,000$。\n转出的患者数为 $N_{transferred} = 20$。\n\n被评估的患者数构成我们计算的分母，等于队列总人数减去未评估的患者数。\n$$N_{evaluated} = N_{total} - N_{transferred}$$\n代入给定值：\n$$N_{evaluated} = 1,000 - 20 = 980$$\n\n接下来，我们计算治疗成功率（TSR）。TSR定义为被评估的患者中治愈或完成治疗者的比例。\n治愈的患者数为 $N_{cured} = 600$。\n完成治疗的患者数为 $N_{completed} = 200$。\n\n治疗结局成功的总患者数是这两类患者之和：\n$$N_{success} = N_{cured} + N_{completed}$$\n$$N_{success} = 600 + 200 = 800$$\n\nTSR是治疗成功结局数与被评估患者数之比：\n$$TSR = \\frac{N_{success}}{N_{evaluated}} = \\frac{800}{980}$$\n为将其表示为小数，我们进行除法运算：\n$$TSR = \\frac{800}{980} = \\frac{80}{98} = \\frac{40}{49} \\approx 0.81632653...$$\n四舍五入到四位有效数字，我们得到：\n$$TSR \\approx 0.8163$$\n\n接下来，我们计算失访率（LFUR）。这被定义为被评估的患者中失访者的比例。\n失访的患者数已知为 $N_{LFU} = 80$。\n\nLFUR是失访患者数与被评估患者数之比：\n$$LFUR = \\frac{N_{LFU}}{N_{evaluated}} = \\frac{80}{980}$$\n我们进行除法运算，将其表示为小数：\n$$LFUR = \\frac{80}{980} = \\frac{8}{98} = \\frac{4}{49} \\approx 0.08163265...$$\n四舍五入到四位有效数字，我们得到：\n$$LFUR \\approx 0.08163$$\n\n所需的两个值是治疗成功率和失访率，均四舍五入至四位有效数字。", "answer": "$$\\boxed{\\begin{pmatrix} 0.8163  0.08163 \\end{pmatrix}}$$", "id": "5006506"}, {"introduction": "全球卫生策略的推广，如DOTS策略，都基于其有效性的科学证据。本练习提供了一个量化视角，让你深入探究DOTS策略背后的核心逻辑。通过构建一个简洁的概率模型，你将计算并比较在直接督导下和患者自行服药两种情况下，治疗依从性的差异如何直接转化为治愈率的不同[@problem_id:5006595]。这项练习将帮助你从“是什么”的层面，深入到“为什么”的层面，用数学工具理解一项关键公共卫生干预措施的效力所在。", "problem": "一个国家的结核病控制项目正在考虑扩大对药敏性肺结核（TB）的全程督导短程化疗（DOTS）的应用。在一个开始接受治疗的新发结核病病例队列中，假设每位患者在整个疗程中要么是依从的，要么是不依从的。设 $p$ 表示依从治疗的概率，设 $c$ 表示在完全依从治疗条件下的治愈概率。假设如果患者不依从治疗，其治愈概率为 $0$，因为在这个简化模型下，治疗中断会导致治疗失败。\n\n对于 DOTS 策略，项目数据显示其依从概率为 $p_{\\mathrm{DOTS}} = 0.90$，在完全依从治疗的情况下的治愈概率为 $c = 0.95$。对于自我管理治疗（SAT）策略，其依从概率为 $p_{\\mathrm{SAT}} = 0.70$，并且在完全依从治疗的条件下，同样的治愈概率 $c = 0.95$ 也适用。\n\n请仅使用概率论和期望值的核心定义，推导在 DOTS 和 SAT 策略下的预期治愈比例的表达式。然后，计算 DOTS 策略相对于 SAT 策略，在预期治疗成功率（治愈比例）上的绝对增量。将最终数值答案以小数形式表示，并四舍五入到四位有效数字。", "solution": "将通过首先提取给定信息，然后评估其科学依据、自洽性和整体适定性来验证该问题。\n\n### 步骤 1：提取已知信息\n- 设 $p$ 为患者完成整个疗程的依从概率。\n- 设 $c$ 为完全依从治疗条件下的治愈概率。\n- 不依从治疗的患者的治愈概率为 $0$。\n- 对于全程督导短程化疗 (DOTS) 策略：\n  - 依从概率为 $p_{\\mathrm{DOTS}} = 0.90$。\n  - 依从治疗条件下的治愈概率为 $c = 0.95$。\n- 对于自我管理治疗 (SAT) 策略：\n  - 依从概率为 $p_{\\mathrm{SAT}} = 0.70$。\n  - 依从治疗条件下的治愈概率为 $c = 0.95$。\n- 任务是推导每种策略的预期治愈比例的表达式，并计算 DOTS 相对于 SAT 在此比例上的绝对增量。最终答案应四舍五入到四位有效数字。\n\n### 步骤 2：使用提取的已知信息进行验证\n根据提取的信息，对问题进行严格评估。\n\n- **科学依据**：该问题使用简化的概率模型来评估公共卫生干预措施，这是流行病学和卫生经济学中的标准有效方法。该模型假设了治疗依从性与治愈概率之间的关系，这是传染病管理（尤其是结核病）中的一个基本概念。给定的概率（$0.90$、$0.70$、$0.95$）对于结核病治疗项目是符合实际的。对于不依从治疗者治愈概率为零的假设是一种简化，但它有助于建立一个在数学上易于处理且不违反基本原则的模型。该问题具有科学依据。\n- **适定性**：该问题清晰地定义了求解所需的所有变量和参数。它要求计算具体的、可计算的量（期望值及其差值）。目标明确，并且可以根据所提供的数据确定唯一解。\n- **客观性**：问题陈述客观，使用了精确的术语，没有主观或偏颇的语言。它根据给定数据对两种已定义的策略进行了正式比较。\n\n### 步骤 3：结论与行动\n该问题被判定为 **有效**。它具有科学依据、适定性、客观性且内部一致。可以继续进行求解。\n\n### 求解推导\n设 $C$ 为患者被治愈的事件，设 $A$ 为患者依从治疗的事件。对于任何治疗策略，问题提供了以下条件概率：\n- 依从治疗条件下的治愈概率为 $P(C|A) = c$。\n- 不依从治疗（用补集事件 $A^c$ 表示）条件下的治愈概率为 $P(C|A^c) = 0$。\n\n给定策略的总治愈概率，即对应于一个大群体中的预期治愈比例，可以使用全概率公式计算：\n$$P(C) = P(C|A)P(A) + P(C|A^c)P(A^c)$$\n已知 $P(A) = p$，则不依从的概率为 $P(A^c) = 1 - P(A) = 1 - p$。将已知值代入方程：\n$$P(C) = c \\cdot p + 0 \\cdot (1 - p)$$\n$$P(C) = c \\cdot p$$\n该表达式代表了由依从概率 $p$ 和条件治愈概率 $c$ 定义的策略的预期治愈比例。\n\n我们现在将此通用公式应用于 DOTS 和 SAT 这两种具体策略。\n设 $E_{\\mathrm{DOTS}}$ 为 DOTS 策略下的预期治愈比例。DOTS 的参数为 $p_{\\mathrm{DOTS}} = 0.90$ 和 $c = 0.95$。\n$$E_{\\mathrm{DOTS}} = c \\cdot p_{\\mathrm{DOTS}}$$\n代入数值：\n$$E_{\\mathrm{DOTS}} = 0.95 \\times 0.90 = 0.855$$\n\n设 $E_{\\mathrm{SAT}}$ 为 SAT 策略下的预期治愈比例。SAT 的参数为 $p_{\\mathrm{SAT}} = 0.70$ 和 $c = 0.95$。\n$$E_{\\mathrm{SAT}} = c \\cdot p_{\\mathrm{SAT}}$$\n代入数值：\n$$E_{\\mathrm{SAT}} = 0.95 \\times 0.70 = 0.665$$\n\n问题要求计算 DOTS 相对于 SAT 的预期治疗成功率的绝对增量。这个量记为 $\\Delta E$，是两个预期治愈比例之差：\n$$\\Delta E = E_{\\mathrm{DOTS}} - E_{\\mathrm{SAT}}$$\n我们可以先用符号表示：\n$$\\Delta E = c \\cdot p_{\\mathrm{DOTS}} - c \\cdot p_{\\mathrm{SAT}} = c(p_{\\mathrm{DOTS}} - p_{\\mathrm{SAT}})$$\n现在，我们代入数值计算最终答案：\n$$\\Delta E = 0.95 \\times (0.90 - 0.70)$$\n$$\\Delta E = 0.95 \\times 0.20$$\n$$\\Delta E = 0.19$$\n问题要求最终数值答案以小数形式表示，并四舍五入到四位有效数字。精确值为 $0.19$。为了用四位有效数字表示，我们添加尾随的零。\n$$\\Delta E = 0.1900$$", "answer": "$$\\boxed{0.1900}$$", "id": "5006595"}]}