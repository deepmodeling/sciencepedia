{"hands_on_practices": [{"introduction": "在任何成像探测器中，噪声都由两大主要来源构成：与信号强度相关的量子（散粒）噪声和与信号无关的电子（读出）噪声。理解在不同信号水平下哪一种噪声占主导地位，对于准确预测系统性能至关重要。此练习将引导您推导并计算这两种噪声源幅度相等的“交叉点”，帮助您量化探测器从读出噪声主导到散粒噪声主导的转变过程 [@problem_id:4915319]。", "problem": "互补金属氧化物半导体（CMOS）X射线探测器中的单个像素会持续积分光电子，直到达到其满阱容量。像素的输出由一个放大器读取，其输出为电压。输出电压与收集到的电荷成正比，比例常数称为转换增益。读出链表现出加性电子噪声，其特征是均方根（RMS）电压。假设导致像素中产生光电子的光子到达过程遵循泊松计数统计，并且电子读出噪声在统计上独立于光子计数过程，可以建模为放大器输出端的平稳高斯噪声。\n\n给定像素的以下参数：\n- 满阱容量：$5.0 \\times 10^{4}$ 电子。\n- 转换增益：$g = 60 \\ \\mu \\mathrm{V}/\\mathrm{e}^{-}$。\n- 输出放大器读出噪声（RMS）：$\\sigma_{v} = 1.5 \\ \\mathrm{mV}$。\n\n从光电子计数的泊松统计定义以及转换增益作为从电子到输出电压的线性映射的意义出发，定性解释这些参数如何决定量子（散粒）噪声主导和电子读出噪声主导这两个区域之间的过渡。然后，利用这些定义，推导出两种机制交叉的条件，并计算交叉发生时对应的电子数。\n\n将最终答案表示为电子数，并四舍五入到三位有效数字。不要在最终的方框答案中包含任何单位。", "solution": "在尝试求解之前，对问题陈述的有效性进行评估。\n\n### 第1步：提取已知条件\n- 满阱容量：$5.0 \\times 10^{4}$ 电子。\n- 转换增益：$g = 60 \\ \\mu \\mathrm{V}/\\mathrm{e}^{-}$。\n- 输出放大器读出噪声（RMS）：$\\sigma_{v} = 1.5 \\ \\mathrm{mV}$。\n- 导致光电子的光子到达过程遵循泊松计数统计。\n- 电子读出噪声在统计上独立于光子计数过程。\n- 电子读出噪声被建模为放大器输出端的平稳高斯噪声。\n- 输出电压与收集的电荷成线性正比，转换增益为比例常数。\n\n### 第2步：使用提取的已知条件进行验证\n- **科学依据：** 该问题基于电子成像探测器中信号与噪声分析的基本原理。用于离散粒子计数的泊松（散粒）噪声、加性高斯电子噪声和转换增益等概念是医学成像和传感器物理领域的标准模型。所提供的数值对于现代CMOS传感器来说是物理上合理的。\n- **适定性：** 该问题提供了定义两种主要噪声源所需的所有参数，并要求推导它们相等的条件。问题明确无歧义，并有唯一且有意义的解。满阱容量虽然已提供，但属于背景信息，并非交叉计算所必需，但它的存在不会造成矛盾。\n- **客观性：** 问题使用精确、客观和标准的科学术语进行陈述。\n\n### 第3步：结论与行动\n该问题是有效的，因为它具有科学合理性、适定性和客观性。将提供解答。\n\n### 解答推导\n\n成像系统中的总噪声通常由多个独立源组成。在本例中，指定了两种：量子噪声（也称为光子散粒噪声）和电子读出噪声。为了确定由每种噪声主导的区域之间的交叉点，我们必须首先用相同的单位表示两种噪声源，然后让它们相等。用于此比较的最方便的单位是像素处的电子数（输入参考噪声）。\n\n设 $\\bar{N}$ 为像素收集到的平均光电子数。\n\n**1. 量子（散粒）噪声：**\n光电子的产生是一个遵循泊松统计的随机过程。泊松分布的一个基本性质是其方差等于其均值。如果平均光电子数为 $\\bar{N}$，则光电子数的方差为 $\\sigma_N^2 = \\bar{N}$。因此，定义为电子数标准差的量子噪声为：\n$$\n\\sigma_{shot} = \\sqrt{\\sigma_N^2} = \\sqrt{\\bar{N}}\n$$\n该噪声以电子（$\\mathrm{e}^{-}$）为单位表示。散粒噪声的大小随信号水平（$\\bar{N}$）的平方根增加。\n\n**2. 电子读出噪声：**\n电子读出噪声以放大器输出端的均方根（RMS）电压 $\\sigma_v$ 给出。为了与散粒噪声进行比较，我们必须将其参考回放大链的输入端，即将其表示为等效的噪声电子数。转换增益 $g$ 提供了从电子数 $N$ 到输出电压 $V$ 的线性映射：\n$$\nV = g \\cdot N\n$$\n因此，电压的噪声波动 $\\sigma_v$ 可以通过除以转换增益映射到电子数的等效波动 $\\sigma_{read}$：\n$$\n\\sigma_{read} = \\frac{\\sigma_v}{g}\n$$\n这个以电子表示的读出噪声与信号水平 $\\bar{N}$ 无关。\n\n**3. 区域的定性解释：**\n在非常低的信号水平（$\\bar{N}$ 很小）下，散粒噪声 $\\sigma_{shot} = \\sqrt{\\bar{N}}$ 非常小。在此区域，恒定的电子读出噪声 $\\sigma_{read}$ 在总噪声中占主导地位。这就是**读出噪声主导**区域。随着信号水平 $\\bar{N}$ 的增加，散粒噪声 $\\sqrt{\\bar{N}}$ 会增长。最终，它会变得显著大于恒定的 $\\sigma_{read}$。这就是**散粒噪声主导**（或量子噪声主导）区域。当满足此条件时，成像系统被称为“量子极限”，因为噪声基本上受限于探测到的光子的统计特性，而不是电子器件。\n\n**4. 交叉条件与计算：**\n两个区域之间的交叉点定义为两种噪声源的幅度相等的信号水平，我们称之为 $\\bar{N}_{crossover}$：\n$$\n\\sigma_{shot} = \\sigma_{read}\n$$\n代入每种噪声源的表达式：\n$$\n\\sqrt{\\bar{N}_{crossover}} = \\frac{\\sigma_v}{g}\n$$\n为了找到该交叉点处的电子数，我们将方程两边平方：\n$$\n\\bar{N}_{crossover} = \\left(\\frac{\\sigma_v}{g}\\right)^{2}\n$$\n现在，我们代入给定的数值。确保单位一致至关重要。\n转换增益为 $g = 60 \\ \\mu\\mathrm{V}/\\mathrm{e}^{-} = 60 \\times 10^{-6} \\ \\mathrm{V}/\\mathrm{e}^{-}$。\nRMS读出噪声电压为 $\\sigma_v = 1.5 \\ \\mathrm{mV} = 1.5 \\times 10^{-3} \\ \\mathrm{V}$。\n\n首先，我们计算输入参考的读出噪声（以电子为单位）：\n$$\n\\sigma_{read} = \\frac{1.5 \\times 10^{-3} \\ \\mathrm{V}}{60 \\times 10^{-6} \\ \\mathrm{V}/\\mathrm{e}^{-}} = \\frac{1.5}{60} \\times 10^3 \\ \\mathrm{e}^{-} = 0.025 \\times 10^3 \\ \\mathrm{e}^{-} = 25 \\ \\mathrm{e}^{-}\n$$\n电子读出噪声等效于输入端 $25$ 个电子的波动。\n\n现在，我们可以求出交叉点的电子数：\n$$\n\\bar{N}_{crossover} = (\\sigma_{read})^2 = (25)^2 = 625 \\ \\mathrm{electrons}\n$$\n问题要求将答案四舍五入到三位有效数字。计算值 $625$ 已经有三位有效数字。\n因此，读出噪声主导和散粒噪声主导区域之间的交叉点发生在信号水平为 $625$ 个电子时。\n该值远低于 $5.0 \\times 10^4$ 个电子的满阱容量，这证实了两种噪声区域在像素的工作动态范围内都是可以观察到的。", "answer": "$$\n\\boxed{625}\n$$", "id": "4915319"}, {"introduction": "掌握了描述探测器噪声的基本模型后，下一个关键问题是如何为真实设备确定其特定参数。本练习将介绍光子转移曲线（Photon Transfer Curve, PTC）法，这是一种从实验数据中提取关键性能指标（如转换增益和读出噪声）的行业标准技术。通过分析一系列在不同光照水平下采集的图像数据，您将把理论噪声模型应用于实际的探测器标定过程中 [@problem_id:4915302]。", "problem": "对一个互补金属氧化物半导体（CMOS）成像探测器进行平场校准，以使用光子转移曲线（PTC）方法估算其转换增益和读出噪声。考虑单个像素的模型如下：收集到的光电子数（记为 $n$）由于光子到达的统计特性而服从泊松随机分布，而加性读出噪声（记为 $r_{e}$）是一个均值为零且独立于 $n$ 的高斯随机变量。模数转换是线性的，因此扣除偏置后的数字输出（以模数单位 ADU 表示，记为 $y$）与总电子数成正比，即 $y = \\alpha (n + r_{e})$，其中 $\\alpha$（单位为 ADU/电子）是一个未知的比例常数。\n\n您在几个不同的光照水平下采集了成对的平场帧。对于每个光照水平，您计算一帧图像的空间均值 $\\mu_{y}$（单位为 ADU），以及两帧图像逐像素差值方差的一半 $\\sigma^{2}_{y}$（单位为 $\\text{ADU}^{2}$）。使用差分可以消除固定模式噪声（FPN），而二分之一的因子确保在两帧独立同分布的假设下，$\\sigma^{2}_{y}$ 估算的是单帧的方差。\n\n假设散粒噪声和读出噪声是仅有的相关噪声源，并且它们的统计特性除了通过泊松均值外，不依赖于光照强度。从泊松噪声和高斯噪声的定义以及上述线性探测器模型出发，推导在泊松模型成立的光照范围内 $\\sigma^{2}_{y}$ 和 $\\mu_{y}$ 之间的关系。用转换比例系数 $\\alpha$ 和以电子为单位的读出噪声标准差 $\\sigma_{r,e}$ 来表示该关系的斜率和截距。\n\n然后，使用以下测量数据，通过对 $\\sigma^{2}_{y}$ 与 $\\mu_{y}$ 的关系进行直线拟合（使用非加权拟合）来估算 $\\alpha$ 和 $\\sigma_{r,e}$：\n\n- 水平 $1$：$\\mu_{y} = 100$ ADU，$\\sigma^{2}_{y} = 64.41$ $\\text{ADU}^{2}$\n- 水平 $2$：$\\mu_{y} = 500$ ADU，$\\sigma^{2}_{y} = 304.41$ $\\text{ADU}^{2}$\n- 水平 $3$：$\\mu_{y} = 1000$ ADU，$\\sigma^{2}_{y} = 604.41$ $\\text{ADU}^{2}$\n- 水平 $4$：$\\mu_{y} = 2000$ ADU，$\\sigma^{2}_{y} = 1204.41$ $\\text{ADU}^{2}$\n- 水平 $5$：$\\mu_{y} = 3000$ ADU，$\\sigma^{2}_{y} = 1804.41$ $\\text{ADU}^{2}$\n\n报告以电子/模数单位（ADU）表示的转换增益 $G \\equiv 1/\\alpha$（单位为 电子/ADU），以及以电子为单位的读出噪声 $\\sigma_{r,e}$。将您的结果四舍五入到三位有效数字。在您的推理过程中，用指定的单位说明最终的数值结果，但最终方框内的答案必须只包含使用 LaTeX $\\pmatrix$ 环境排列成单行的两个数字，不带单位。", "solution": "首先将根据指定标准对问题进行验证。\n\n### 问题验证\n\n#### 步骤1：提取已知条件\n问题提供了以下信息：\n- 探测器模型：扣除偏置后的数字输出 $y$ 由 $y = \\alpha (n + r_{e})$ 给出，其中所有术语定义如下。\n- $y$：以模数单位（ADU）表示的数字输出。\n- $\\alpha$：以 ADU/电子 表示的转换比例系数。\n- $n$：收集到的光电子数，一个泊松随机变量。\n- $r_{e}$：以电子为单位的加性读出噪声，一个均值为零且独立于 $n$ 的高斯随机变量。\n- $\\mu_{y}$：一帧图像的空间均值，单位为 ADU。\n- $\\sigma^{2}_{y}$：两帧图像逐像素差值方差的一半，单位为 $\\text{ADU}^{2}$，用于估算单帧方差。\n- 噪声源：仅考虑散粒噪声（来自 $n$ 的泊松统计）和读出噪声。\n- 任务1：推导 $\\sigma^{2}_{y}$ 和 $\\mu_{y}$ 之间的关系。\n- 任务2：用 $\\alpha$ 和以电子为单位的读出噪声标准差 $\\sigma_{r,e}$ 表示该关系的斜率和截距。\n- 任务3：使用提供的数据，通过对 $\\sigma^{2}_{y}$ 与 $\\mu_{y}$ 进行非加权线性拟合来估算 $\\alpha$ 和 $\\sigma_{r,e}$。\n- 数据：\n  - 水平 $1$：$\\mu_{y} = 100$ ADU，$\\sigma^{2}_{y} = 64.41$ $\\text{ADU}^{2}$\n  - 水平 $2$：$\\mu_{y} = 500$ ADU，$\\sigma^{2}_{y} = 304.41$ $\\text{ADU}^{2}$\n  - 水平 $3$：$\\mu_{y} = 1000$ ADU，$\\sigma^{2}_{y} = 604.41$ $\\text{ADU}^{2}$\n  - 水平 $4$：$\\mu_{y} = 2000$ ADU，$\\sigma^{2}_{y} = 1204.41$ $\\text{ADU}^{2}$\n  - 水平 $5$：$\\mu_{y} = 3000$ ADU，$\\sigma^{2}_{y} = 1804.41$ $\\text{ADU}^{2}$\n- 任务4：报告转换增益 $G \\equiv 1/\\alpha$（单位为 电子/ADU）和读出噪声 $\\sigma_{r,e}$（单位为 电子），并四舍五入到三位有效数字。\n\n#### 步骤2：使用提取的已知条件进行验证\n- **科学性**：该问题是光子转移曲线（PTC）方法的应用，这是一种表征科学成像探测器的标准和基础技术。模型假设光子散粒噪声服从泊松统计，电子读出噪声服从高斯统计，这些都是物理学和工程学中公认且广泛使用的模型。\n- **良态性**：问题陈述清晰。它要求先进行推导，然后使用特定数据集进行计算。所提供的数据和线性模型足以确定所要求参数的唯一解。\n- **客观性**：问题使用精确的技术语言表述，没有任何主观性或模糊性。\n\n问题陈述符合有效科学问题的所有标准。它在科学上是合理的，内容自洽，并且可以定量求解。\n\n#### 步骤3：结论与行动\n该问题有效。将提供完整解答。\n\n### 解答\n\n第一步是推导平均信号 $\\mu_{y}$ 与信号方差 $\\sigma^{2}_{y}$ 之间的理论关系。单个像素的探测器输出信号 $y$ 由以下线性模型给出：\n$$y = \\alpha (n + r_{e})$$\n其中 $n$ 是光电子数（一个泊松随机变量），$r_{e}$ 是以电子为单位的读出噪声（一个均值为零的高斯随机变量）。已知 $n$ 和 $r_{e}$ 是独立的。\n\n以 ADU 为单位的平均信号 $\\mu_{y}$ 是 $y$ 的期望值：\n$$\\mu_{y} = E[y] = E[\\alpha (n + r_{e})]$$\n根据期望算子的线性性质：\n$$\\mu_{y} = \\alpha (E[n] + E[r_{e}])$$\n设 $\\mu_{n} = E[n]$ 为平均光电子数。问题陈述 $r_{e}$ 是一个均值为零的随机变量，因此 $E[r_{e}] = 0$。所以，平均信号为：\n$$\\mu_{y} = \\alpha \\mu_{n}$$\n\n以 $\\text{ADU}^{2}$ 为单位的信号方差 $\\sigma^{2}_{y}$ 是 $y$ 的方差：\n$$\\sigma^{2}_{y} = \\text{Var}(y) = \\text{Var}(\\alpha (n + r_{e}))$$\n使用性质 $\\text{Var}(cX) = c^2 \\text{Var}(X)$：\n$$\\sigma^{2}_{y} = \\alpha^{2} \\text{Var}(n + r_{e})$$\n因为 $n$ 和 $r_{e}$ 是独立的，所以它们和的方差等于它们方差的和：\n$$\\sigma^{2}_{y} = \\alpha^{2} (\\text{Var}(n) + \\text{Var}(r_{e}))$$\n对于一个泊松随机变量，其方差等于其均值，所以 $\\text{Var}(n) = \\mu_{n}$。根据定义，读出噪声的方差为 $\\text{Var}(r_{e}) = \\sigma_{r,e}^{2}$。将这些代入方程得到：\n$$\\sigma^{2}_{y} = \\alpha^{2} (\\mu_{n} + \\sigma_{r,e}^{2})$$\n\n为了找到 $\\sigma^{2}_{y}$ 和 $\\mu_{y}$ 之间的关系，我们必须消去 $\\mu_{n}$。从平均信号的表达式中，我们有 $\\mu_{n} = \\mu_{y} / \\alpha$。将此代入方差方程：\n$$\\sigma^{2}_{y} = \\alpha^{2} \\left(\\frac{\\mu_{y}}{\\alpha} + \\sigma_{r,e}^{2}\\right)$$\n将 $\\alpha^{2}$ 项分配进去，得到光子转移曲线方程：\n$$\\sigma^{2}_{y} = \\alpha \\mu_{y} + \\alpha^{2} \\sigma_{r,e}^{2}$$\n这个方程是直线形式 $Y = mX + c$，其中 $Y = \\sigma^{2}_{y}$，$X = \\mu_{y}$。\n\n从这个关系中，我们可以确定PTC的斜率和y轴截距：\n- 斜率为 $m = \\alpha$。\n- y轴截距为 $c = \\alpha^{2} \\sigma_{r,e}^{2}$。\n\n接下来，我们对提供的数据点 $(\\mu_{y}, \\sigma^{2}_{y})$ 进行非加权线性拟合。数据点如下：\n- $(100, 64.41)$\n- $(500, 304.41)$\n- $(1000, 604.41)$\n- $(2000, 1204.41)$\n- $(3000, 1804.41)$\n\n仔细观察可以发现，这些数据点完全在一条直线上。我们可以用任意两点来计算斜率 $m$。例如，使用前两点：\n$$m = \\frac{\\Delta \\sigma^{2}_{y}}{\\Delta \\mu_{y}} = \\frac{304.41 - 64.41}{500 - 100} = \\frac{240}{400} = 0.6$$\n我们可以用另一对点来验证，比如最后两点：\n$$m = \\frac{1804.41 - 1204.41}{3000 - 2000} = \\frac{600}{1000} = 0.6$$\n斜率恰好是 $m = 0.6$。由于这些点完全共线，因此不需要进行正式的最小二乘回归，其结果也会相同。\n\n现在，我们可以使用方程 $c = \\sigma^{2}_{y} - m \\mu_{y}$ 和任意一个数据点来求y轴截距 $c$。使用第一个点：\n$$c = 64.41 - (0.6)(100) = 64.41 - 60 = 4.41$$\n因此，线性关系为 $\\sigma^{2}_{y} = 0.6 \\mu_{y} + 4.41$。\n\n现在我们可以确定物理参数。转换比例系数 $\\alpha$ 等于斜率：\n$$\\alpha = m = 0.6 \\text{ ADU/电子}$$\n问题要求转换增益 $G$，即 $\\alpha$ 的倒数：\n$$G = \\frac{1}{\\alpha} = \\frac{1}{0.6} = \\frac{1}{6/10} = \\frac{10}{6} = \\frac{5}{3} \\approx 1.666... \\text{ 电子/ADU}$$\n四舍五入到三位有效数字，我们得到 $G \\approx 1.67$ 电子/ADU。\n\n读出噪声 $\\sigma_{r,e}$ 可从y轴截距 $c$ 求得：\n$$c = \\alpha^{2} \\sigma_{r,e}^{2} = 4.41$$\n求解 $\\sigma_{r,e}^{2}$：\n$$\\sigma_{r,e}^{2} = \\frac{c}{\\alpha^{2}} = \\frac{4.41}{(0.6)^{2}} = \\frac{4.41}{0.36} = 12.25$$\n取平方根求读出噪声标准差：\n$$\\sigma_{r,e} = \\sqrt{12.25} = 3.5 \\text{ 电子}$$\n四舍五入到三位有效数字，得到 $\\sigma_{r,e} = 3.50$ 电子。\n\n最终结果是转换增益 $G \\approx 1.67$ 电子/ADU，读出噪声 $\\sigma_{r,e} = 3.50$ 电子。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n1.67  3.50\n\\end{pmatrix}\n}\n$$", "id": "4915302"}, {"introduction": "理解和表征噪声之后，我们便可以探索管理噪声的策略。像素合并（Pixel binning）是一种在低光照条件下提高信噪比（$SNR$）的常用技术，但这通常以牺牲空间分辨率为代价。本练习将通过推导像素合并对信噪比的改善效果，来具体阐明这一成像系统设计中的经典权衡关系，使您能够量化地理解这一工程决策的后果 [@problem_id:4915263]。", "problem": "医学成像系统中的光子计数探测器在离散的探测器像素中记录入射的量子。假设在固定的曝光时间内，每个像素的计数是均值为 $\\mu_{0}$ 量子/像素的泊松随机变量的一个独立实现。考虑通过合并 $m$ 个相邻像素来形成一个“超级像素”，这是通过将它们的记录计数相加来实现的。\n\n从泊松计数过程的核心定义以及像素间计数的独立性出发，推导合并后计数的分布，并说明其均值和方差如何随 $m$ 缩放。使用量子极限测量的信噪比（SNR）定义（均值除以标准差），用 $\\mu_{0}$ 和 $m$ 表示合并前后的信噪比，然后确定由像素合并带来的信噪比改善因子。\n\n最后，基于采样和线性系统的概念，定性论证这种像素合并如何影响空间分辨率，包括其对有效采样间距和调制传递函数（MTF）的影响。\n\n将最终答案表示为信噪比改善因子的闭式形式，作为 $m$ 的函数。无需四舍五入，信噪比改善因子也无需单位。", "solution": "该问题是适定的，并且在应用于医学成像的量子统计和线性系统理论原理方面有坚实的科学基础。我们将进行形式推导。\n\n令 $N_i$ 为在第 $i$ 个像素中记录的光子数的随机变量，其中 $i \\in \\{1, 2, \\dots, m\\}$。根据问题陈述，每个 $N_i$ 都是均值为 $\\mu_0$ 的泊松随机变量的独立实现。我们将其表示为：\n$$N_i \\sim \\text{Poisson}(\\mu_0)$$\n单个像素计数为 $k$ 的概率质量函数由下式给出：\n$$P(N_i = k) = \\frac{\\mu_0^k \\exp(-\\mu_0)}{k!}$$\n对于泊松分布，一个基本性质是其方差等于均值。因此，对于每个像素：\n$$E[N_i] = \\mu_0$$\n$$\\text{Var}(N_i) = \\mu_0$$\n\n“超级像素”是通过合并 $m$ 个相邻像素形成的。超级像素的计数（我们记为 $S$）是 $m$ 个独立像素的计数之和：\n$$S = \\sum_{i=1}^{m} N_i$$\n\n为了推导 $S$ 的分布，我们利用一个性质：独立泊松随机变量之和本身也是一个泊松随机变量。所得泊松分布的均值是各个分布的均值之和。由于所有 $N_i$ 都是独立的， $S$ 的均值，记为 $E[S]$，是：\n$$E[S] = E\\left[\\sum_{i=1}^{m} N_i\\right] = \\sum_{i=1}^{m} E[N_i] = \\sum_{i=1}^{m} \\mu_0 = m \\mu_0$$\n因此，合并后计数 $S$ 的分布是均值为 $m\\mu_0$ 的泊松分布：\n$$S \\sim \\text{Poisson}(m \\mu_0)$$\n\n合并后计数的方差 $\\text{Var}(S)$ 可以直接从其分布中得到，因为泊松变量的方差等于其均值：\n$$\\text{Var}(S) = m \\mu_0$$\n另外，由于单个像素计数 $N_i$ 是独立的，它们的和的方差等于它们方差的和：\n$$\\text{Var}(S) = \\text{Var}\\left(\\sum_{i=1}^{m} N_i\\right) = \\sum_{i=1}^{m} \\text{Var}(N_i) = \\sum_{i=1}^{m} \\mu_0 = m \\mu_0$$\n这证实了合并后计数的均值和方差都与合并因子 $m$ 呈线性关系。\n\n接下来，我们评估信噪比（SNR），其定义为均值除以标准差（$\\sigma$）。\n\n对于单个像素（合并前），均值为 $\\mu_0$，方差为 $\\mu_0$。标准差为 $\\sigma_1 = \\sqrt{\\text{Var}(N_i)} = \\sqrt{\\mu_0}$。单个像素的信噪比 $\\text{SNR}_1$ 为：\n$$\\text{SNR}_1 = \\frac{E[N_i]}{\\sigma_1} = \\frac{\\mu_0}{\\sqrt{\\mu_0}} = \\sqrt{\\mu_0}$$\n\n对于合并后的超级像素（合并后），均值为 $m\\mu_0$，方差为 $m\\mu_0$。标准差为 $\\sigma_m = \\sqrt{\\text{Var}(S)} = \\sqrt{m\\mu_0}$。超级像素的信噪比 $\\text{SNR}_m$ 为：\n$$\\text{SNR}_m = \\frac{E[S]}{\\sigma_m} = \\frac{m\\mu_0}{\\sqrt{m\\mu_0}} = \\sqrt{m\\mu_0}$$\n\n信噪比改善因子是合并后信噪比与合并前信噪比的比值：\n$$\\text{SNR Improvement Factor} = \\frac{\\text{SNR}_m}{\\text{SNR}_1} = \\frac{\\sqrt{m\\mu_0}}{\\sqrt{\\mu_0}} = \\sqrt{\\frac{m\\mu_0}{\\mu_0}} = \\sqrt{m}$$\n\n最后，我们提供一个关于像素合并对空间分辨率影响的定性论证。\n像素合并从根本上是以牺牲空间分辨率为代价来换取信噪比的提升。这种权衡可以通过采样和线性系统的概念来理解。\n\n1.  **有效采样间距**：原始探测器有一个采样间距（比如 $p$），由小像素的中心距决定。当 $m$ 个像素被合并成一个超级像素时，会创建一个新的、更粗糙的采样网格。例如，在一维合并中，新的有效采样间距变为 $m \\times p$。在对一个 $\\sqrt{m} \\times \\sqrt{m}$ 的像素块进行二维合并时，每个维度上的间距变为 $\\sqrt{m} \\times p$。采样间距的增加对应于空间采样频率的降低。根据奈奎斯特-香农采样定理，较低的采样频率会降低可以无混叠地表示的最大空间频率（奈奎斯特频率），从而限制了解析精细细节的能力。\n\n2.  **调制传递函数 (MTF)**：像素合并过程可以建模为卷积运算。图像信号首先由精细的像素网格采样，然后与一个空间范围与超级像素大小相匹配的矩形（或“盒车”）函数进行卷积。在频域中，该卷积变为乘法。矩形函数的傅里叶变换是 sinc 函数（$\\text{sinc}(u) = \\frac{\\sin(\\pi u)}{\\pi u}$）。因此，像素合并操作会将系统的原始 MTF 乘以一个 sinc 函数。这个 sinc 函数充当低通滤波器，衰减中高空间频率的传递。合并因子 $m$ 越大，空间域中的矩形孔径就越宽，这对应于频域中更窄的 sinc 函数。这会导致整个系统 MTF 更快地下降，表明精细细节的对比度损失更大，从而导致空间分辨率的退化。总之，像素合并通过在更大区域上进行平均来模糊图像，这在数学上被描述为对系统 MTF 的低通滤波效应。", "answer": "$$\\boxed{\\sqrt{m}}$$", "id": "4915263"}]}