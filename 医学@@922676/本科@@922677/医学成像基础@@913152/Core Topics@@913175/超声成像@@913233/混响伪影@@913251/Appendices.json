{"hands_on_practices": [{"introduction": "要真正掌握混响伪影，最好的起点是分析其最基本的形式。本练习将引导你从超声成像的飞行时间基本原理出发，推导由两个平行反射界面产生的混响伪影的特征。通过这个推导，你将定量地理解伪影在线性排列的物理基础，并揭示伪影间距与反射体物理间距之间的直接关系。[@problem_id:4477946]", "problem": "一个聚焦脉冲超声系统通过使用恒定声速模型将接收到的回波飞行时间映射到表观深度，从而形成一维轴向图像。当发射的脉冲在强阻抗失配界面之间经历多次镜面反射时，会产生混响伪影。这会生成一系列延迟回波，成像系统会将其解释为逐渐加深的结构。\n\n从以下基本事实出发：\n- 系统通过 $z = \\frac{c t}{2}$ 将回波到达时间 $t$ 映射到表观深度 $z$，其中 $c$ 是假定的软组织中的声速。\n- 对于镜面反射，在两个相距为 $d$ 的平面平行界面之间的一次往返会增加 $2d$ 的传播路径长度，因此每次往返会增加 $\\Delta t = \\frac{2d}{c}$ 的时间延迟。\n\n完成以下任务：\n1. 根据重复的镜面反射和飞行时间深度映射来定义混响伪影。\n2. 从上述基础出发，推导由两个相距为 $d$ 的平行、完全镜面反射界面产生的连续混响线之间的特征轴向间距 $\\Delta z$（深度方向）的解析表达式，该表达式用 $c$、$d$ 和往返时间表示。\n3. 对于软组织中相距 $d = 2 \\ \\mathrm{mm}$ 的两个平行界面，声速 $c = 1540 \\ \\mathrm{m/s}$，中心频率 $f = 7.5 \\ \\mathrm{MHz}$，计算连续混响线之间的轴向间距 $\\Delta z$。注意：如果你的推导表达式不需要某个参数，请说明其无关性。将最终数值结果四舍五入到三位有效数字，并以毫米表示。最终答案必须是单个实数。", "solution": "解答按要求分三部分进行。\n\n1.  **混响伪影的定义**\n\n混响伪影是脉冲超声成像中的一种现象，即在真实的强反射界面更深的位置，图像上会显示出虚假的结构。当一部分超声脉冲能量被困在两个高反射性表面之间并经历多次镜面反射时，就会产生这种伪影。\n\n考虑一个从换能器发射的初始脉冲。在真实界面处产生回波并返回到换能器。系统使用关系式 $z = \\frac{ct}{2}$ 正确地将其往返飞行时间 $t$ 映射到表观深度 $z$。然而，如果一部分脉冲能量从换能器表面（或另一个近端界面）反射回真实界面，它将再次反射并在稍后的时间返回到换能器。这第二个回波多走了一个往返距离，其总飞行时间为 $t + \\Delta t$，其中 $\\Delta t$ 是额外往返所产生的延迟。成像系统不知道这种混响，会错误地将这个延迟的回波解释为源自一个更深的、虚构的界面，其表观深度为 $z + \\Delta z$。这个过程可以重复发生，产生一系列虚假回波，即混响线，它们以规则的间隔出现在真实结构更深的位置。\n\n2.  **轴向间距（$\\Delta z$）的推导**\n\n我们被要求推导由两个相距为 $d$ 的平行界面产生的连续混响线之间的特征轴向间距 $\\Delta z$ 的表达式。\n\n设由这些界面间的混响产生的两个连续回波在时间 $t_n$ 和 $t_{n+1}$ 到达换能器。它们到达的时间差恰好对应于超声脉冲在两个界面之间多进行一次往返的时间。\n\n根据题目陈述，在距离 $d$ 上一次往返的时间延迟由下式给出：\n$$\n\\Delta t = t_{n+1} - t_n = \\frac{2d}{c}\n$$\n其中 $c$ 是假定的声速。\n\n超声系统使用以下公式将任何到达时间 $t$ 映射到表观深度 $z$：\n$$\nz = \\frac{ct}{2}\n$$\n\n设 $z_n$ 和 $z_{n+1}$ 分别是对应于到达时间 $t_n$ 和 $t_{n+1}$ 的表观深度。\n$$\nz_n = \\frac{c t_n}{2}\n$$\n$$\nz_{n+1} = \\frac{c t_{n+1}}{2}\n$$\n\n这些连续混响线之间的轴向间距 $\\Delta z$ 是它们表观深度的差值：\n$$\n\\Delta z = z_{n+1} - z_n\n$$\n代入 $z_n$ 和 $z_{n+1}$ 的表达式：\n$$\n\\Delta z = \\frac{c t_{n+1}}{2} - \\frac{c t_n}{2} = \\frac{c}{2} (t_{n+1} - t_n)\n$$\n我们知道时间差 $t_{n+1} - t_n$ 就是往返延迟 $\\Delta t$。\n$$\n\\Delta z = \\frac{c}{2} \\Delta t\n$$\n现在，代入给定的往返时间表达式 $\\Delta t = \\frac{2d}{c}$：\n$$\n\\Delta z = \\frac{c}{2} \\left( \\frac{2d}{c} \\right)\n$$\n声速 $c$ 被消去，得到最终表达式：\n$$\n\\Delta z = d\n$$\n这个非常简洁的结果表明，连续混响伪影之间的表观轴向间距恰好等于引起混响的两个反射界面之间的物理距离。该表达式是根据给定的参数 $c$、$d$ 和往返时间 $\\Delta t$ 推导出来的，并与之一致。\n\n3.  **数值计算**\n\n给定以下参数：\n-   分离距离，$d = 2 \\ \\mathrm{mm}$\n-   软组织中的声速，$c = 1540 \\ \\mathrm{m/s}$\n-   中心频率，$f = 7.5 \\ \\mathrm{MHz}$\n\n使用第2部分推导出的表达式：\n$$\n\\Delta z = d\n$$\n代入给定的 $d$ 值：\n$$\n\\Delta z = 2 \\ \\mathrm{mm}\n$$\n\n**参数相关性说明：**\n-   距离 $d = 2 \\ \\mathrm{mm}$ 直接用于最终表达式，并且是伪影间距 $\\Delta z$ 的唯一决定因素。\n-   声速 $c = 1540 \\ \\mathrm{m/s}$ 是底层物理模型中的一个基本参数。在推导过程中，需要用它来关联时间延迟 $\\Delta t$ 和表观深度间距 $\\Delta z$。然而，在以 $d$ 表示的 $\\Delta z$ 的最终表达式中，它在代数上被消去了。因此，如果 $d$ 已知，最终计算就不需要它的具体数值。\n-   中心频率 $f = 7.5 \\ \\mathrm{MHz}$ 与此计算无关。混响伪影的位置由回波的飞行时间决定，而飞行时间取决于路径长度和声速。频率及其对应的波长（$\\lambda = c/f$）决定了图像的*轴向分辨率*（区分近距离物体的能力），但在该模型中不影响时间到深度的几何映射。\n\n题目要求最终答案四舍五入到三位有效数字，并以毫米表示。计算值恰好为 $2 \\ \\mathrm{mm}$。为表示为三位有效数字，我们将其写为 $2.00 \\ \\mathrm{mm}$。", "answer": "$$\n\\boxed{2.00}\n$$", "id": "4477946"}, {"introduction": "在真实的人体组织中，反射界面很少是理想的平面。本练习在前一个练习的基础上，将探讨更贴近实际的弯曲界面如何影响混响伪影的形态。我们将以一个球形反射体为模型，推导其产生的混响伪影间距如何随横向位置变化。这项实践有助于你将体内解剖结构的物理形状与其在图像上产生的伪影特征联系起来，从而提升解读复杂超声图像的能力。[@problem_id:4919642]", "problem": "一个超声脉冲回波系统使用一个一维线性阵列换能器，其阵元沿横向坐标 $x$ 位于轴向位置 $z=0$。每个小阵元被近似为一个点源，沿其局部的 $z$ 轴法线方向发射和接收。介质是均匀的，声速 $c$ 恒定。在此类系统中，距离重建使用 $z = c t / 2$ 将回波到达时间 $t$ 映射到轴向深度 $z$。当一个强界面由于在换能器表面和该界面之间多次来回反弹而重复返回回波时，就会产生混响伪影，从而生成一系列重建的线，这些线之间以一个恒定的时间增量分隔，该增量等于换能器与参与乒乓效应的界面点之间的往返时间。\n\n考虑一个刚性球面反射体，其半径为 $R$，中心位于 $x$-$z$ 成像平面内的 $(0, z_c)$，其中 $z_c  R$。假设以下建模假设，这些假设适用于基础医学成像中混响间距的第一性原理分析：\n- 位于横向位置 $x$ 的每个阵元主要沿垂直 $z$ 轴发射和接收（近轴近似）。\n- 在横向位置 $x$ 处的表观混响主要由该阵元的垂直视线与球面的最近交点决定。\n- 该阵元的连续混响回波在时间上以相同的往返时间（即阵元与交点之间的往返时间）分隔，因此它们在重建图像中的轴向间距等于从阵元到该点的单程距离。\n\n仅使用这些基础——恒定声速映射 $z = c t / 2$、混响乒乓效应时间的定义以及 $x$-$z$ 平面中球体的几何形状——推导球面反射体如何在不同横向位置上产生非均匀的混响间距。具体来说，计算相邻混响线之间的轴向间距 $\\Delta z(x)$ 作为横向坐标 $x$ 的函数的闭式解析表达式。用米表示 $\\Delta z(x)$。你的最终答案必须是单个闭式解析表达式。", "solution": "本问题要求推导由球形反射体产生的混响伪影间距如何随横向位置 $x$ 变化。根据题设，相邻混响线之间的轴向间距 $\\Delta z(x)$ 等于从位于横向位置 $x$ 的换能器阵元到球体表面上最近点的单程轴向距离。\n\n1.  **建立坐标系与几何关系**\n    我们设定换能器阵列位于 $z=0$ 的直线上。半径为 $R$、中心在 $(0, z_c)$ 的球体表面在 $x-z$ 平面内的方程为：\n    $$ x_{sphere}^2 + (z_{sphere} - z_c)^2 = R^2 $$\n    一个位于横向位置 $x$ 的换能器阵元，其坐标为 $(x, 0)$。根据近轴近似，该阵元沿垂直于换能器表面的直线（即平行于 $z$ 轴的直线）发射和接收声波。这条直线的方程为 $x' = x$。\n\n2.  **求解交点坐标**\n    要找到这条垂直视线与球面的交点，我们将 $x_{sphere} = x$ 代入球面方程中：\n    $$ x^2 + (z_{sphere} - z_c)^2 = R^2 $$\n    解出交点的轴向坐标 $z_{sphere}$：\n    $$ (z_{sphere} - z_c)^2 = R^2 - x^2 $$\n    $$ z_{sphere} - z_c = \\pm \\sqrt{R^2 - x^2} $$\n    $$ z_{sphere} = z_c \\pm \\sqrt{R^2 - x^2} $$\n    此方程仅在 $R^2 - x^2 \\ge 0$ (即 $|x| \\le R$) 时有实数解，这与物理情况相符，即只有在球体的横向投影范围内才能接收到回波。我们得到两个交点坐标，分别对应球体的前表面和后表面。\n\n3.  **确定最近点并推导 $\\Delta z(x)$**\n    换能器位于 $z=0$。球体表面的两个交点中，更靠近换能器的点的 $z$ 坐标更小。因此，我们选择负号解，即最近交点的轴向坐标为：\n    $$ z_{point}(x) = z_c - \\sqrt{R^2 - x^2} $$\n    根据题设，混响伪影的轴向间距 $\\Delta z(x)$ 就等于从换能器阵元 $(x,0)$ 到这个最近交点 $(x, z_{point}(x))$ 的单程轴向距离。该距离即为 $z_{point}(x)$。\n    因此，相邻混响线之间的轴向间距作为横向坐标 $x$ 的函数的表达式为：\n    $$ \\Delta z(x) = z_c - \\sqrt{R^2 - x^2} $$\n    这个表达式表明，混响间距并非恒定，而是随着横向位置 $x$ 的变化而变化，在正中心 $(x=0)$ 时最小（为 $z_c-R$），并向两侧逐渐增大，在球体边缘 $(|x|=R)$ 达到最大值 $z_c$。", "answer": "$$ \\boxed{z_c - \\sqrt{R^2 - x^2}} $$", "id": "4919642"}, {"introduction": "混响伪影在图像上可以呈现为离散的“彗星尾”或连续的“振铃”形态，其背后的物理机制有所不同。本练习将引入一个更精细的物理模型，将薄反射层视为一个共振系统，来解释这两种现象的差异。你将通过分析超声脉冲与反射层共振特性（用品质因子 $Q$ 量化）之间的相互作用，推导区分这两种伪影形态的临界条件。这项实践将让你超越简单的几何声学模型，深入理解决定伪影外观的微妙物理原理。[@problem_id:4919653]", "problem": "在脉冲回波超声中，当一个薄的高反射层导致声波在两个间距很近的界面之间来回反复传播时，就会产生混响伪影。根据发射脉冲持续时间与该层谐振衰减特性之间的相互作用，伪影表现为离散的、间距很近的回波（彗尾伪影）或连续的回声轨迹（振铃伪影）。考虑该反射层表现为一个在其谐振频率附近被驱动的轻阻尼、欠阻尼谐振子。设谐振的中心频率为 $f_{0}$，品质因数为 $Q$，发射的脉冲串在频率 $f_{0}$ 下长度为 $N$ 个周期，组织中的声速为 $c$，界面间距为 $d$。\n\n从轻阻尼谐振子的标准模型和在线性时不变系统中分辨两个脉冲的时间分辨率原理出发，通过比较连续混响回波之间的时间间隔与有效回波持续时间，推导一个区分彗尾模式（可分辨的、离散的混响回波）和振铃模式（合并的、连续的轨迹）的判据。然后，对于以下参数，\n- 中心频率 $f_{0} = 5.0 \\times 10^{6} \\ \\text{Hz}$，\n- 发射周期数 $N = 2$，\n- 声速 $c = 1540 \\ \\text{m/s}$，\n- 界面间距 $d = 0.60 \\ \\text{mm}$，\n计算伪影从彗尾模式切换到振铃模式时的阈值品质因数 $Q_{\\text{switch}}$。\n\n假设连续混响回波之间的时间间隔为往返时间 $2d/c$，发射脉冲持续时间为 $T_{p} = N/f_{0}$。使用品质因数与轻阻尼谐振包络的指数衰减常数之间的标准关系来模拟谐振振铃的持续时间。将 $Q_{\\text{switch}}$ 的最终数值答案表示为一个纯数，四舍五入到三位有效数字。最终答案无需单位。", "solution": "问题要求推导一个判据，用以区分可分辨的离散回波（彗尾伪影）和不可分辨的合并回波（振铃伪影）。这两种模式之间的过渡发生在回波处于可分辨极限时。当连续回波到达的时间间隔等于单个回波的有效持续时间时，就满足这个条件。\n\n设 $\\Delta t_{\\text{echo}}$ 为连续回波之间的时间间隔。问题陈述指定使用声脉冲在间距为 $d$ 的两个界面之间传播的往返时间。\n$$\n\\Delta t_{\\text{echo}} = \\frac{2d}{c}\n$$\n\n设 $T_{\\text{eff}}$ 为从谐振层返回的单个回波的有效持续时间。入射到该层上的声脉冲驱动其振荡。然后，该层在初始驱动脉冲通过后，将能量重新辐射出去，“振铃”一定时间。产生的回波是入射脉冲与谐振层冲激响应的卷积。这个卷积信号的持续时间 $T_{\\text{eff}}$ 可近似为入射脉冲的持续时间 $T_p$ 与谐振层冲激响应的特征持续时间（其振铃时间） $T_{rd}$ 之和。\n$$\nT_{\\text{eff}} \\approx T_p + T_{rd}\n$$\n问题指定发射脉冲的持续时间为：\n$$\nT_p = \\frac{N}{f_0}\n$$\n振铃时间 $T_{rd}$ 必须根据阻尼谐振子模型的特性来确定。对于一个轻阻尼振子，其自由振荡的振幅包络呈指数衰减，形式为 $A(t) = A_0 \\exp(-\\gamma t)$，其中 $\\gamma$ 是阻尼常数。对于高 $Q$ 值的振子，品质因数 $Q$ 通过标准关系与谐振角频率 $\\omega_0 = 2\\pi f_0$ 和阻尼常数 $\\gamma$ 相关联：\n$$\nQ = \\frac{\\omega_0}{2\\gamma} = \\frac{2\\pi f_0}{2\\gamma} = \\frac{\\pi f_0}{\\gamma}\n$$\n求解 $\\gamma$，我们得到：\n$$\n\\gamma = \\frac{\\pi f_0}{Q}\n$$\n这种指数衰减的特征时间是时间常数 $\\tau = 1/\\gamma$。我们将这个时间常数作为振铃的有效持续时间 $T_{rd}$。\n$$\nT_{rd} = \\tau = \\frac{1}{\\gamma} = \\frac{Q}{\\pi f_0}\n$$\n现在，我们可以写出有效回波持续时间的全表达式：\n$$\nT_{\\text{eff}} = \\frac{N}{f_0} + \\frac{Q}{\\pi f_0}\n$$\n彗尾模式和振铃模式之间的切换点发生在 $\\Delta t_{\\text{echo}} = T_{\\text{eff}}$ 时。设 $Q_{\\text{switch}}$ 为此阈值下的品质因数。\n$$\n\\frac{2d}{c} = \\frac{N}{f_0} + \\frac{Q_{\\text{switch}}}{\\pi f_0}\n$$\n我们现在求解这个方程以得到 $Q_{\\text{switch}}$。首先，分离含有 $Q_{\\text{switch}}$ 的项：\n$$\n\\frac{Q_{\\text{switch}}}{\\pi f_0} = \\frac{2d}{c} - \\frac{N}{f_0}\n$$\n接下来，两边同乘以 $\\pi f_0$ 来求解 $Q_{\\text{switch}}$：\n$$\nQ_{\\text{switch}} = \\pi f_0 \\left( \\frac{2d}{c} - \\frac{N}{f_0} \\right)\n$$\n将 $\\pi f_0$ 项分配进去，得到最终的符号表达式：\n$$\nQ_{\\text{switch}} = \\frac{2\\pi d f_0}{c} - \\pi N\n$$\n更高的 $Q$ 值意味着更长的振铃时间 ($T_{rd}$)。如果 $Q  Q_{\\text{switch}}$，则 $T_{\\text{eff}}  \\Delta t_{\\text{echo}}$，回波合并成连续的振铃伪影。如果 $Q  Q_{\\text{switch}}$，则 $T_{\\text{eff}}  \\Delta t_{\\text{echo}}$，回波是可分辨的，形成彗尾伪影。\n\n我们现在代入给定的数值来计算 $Q_{\\text{switch}}$：\n- $f_{0} = 5.0 \\times 10^{6} \\ \\text{Hz}$\n- $N = 2$\n- $c = 1540 \\ \\text{m/s}$\n- $d = 0.60 \\times 10^{-3} \\ \\text{m}$\n\n$$\nQ_{\\text{switch}} = \\frac{2\\pi (0.60 \\times 10^{-3} \\ \\text{m}) (5.0 \\times 10^{6} \\ \\text{s}^{-1})}{1540 \\ \\text{m/s}} - \\pi (2)\n$$\n$$\nQ_{\\text{switch}} = \\pi \\left( \\frac{2 \\times (0.60 \\times 10^{-3}) \\times (5.0 \\times 10^{6})}{1540} - 2 \\right)\n$$\n$$\nQ_{\\text{switch}} = \\pi \\left( \\frac{6000}{1540} - 2 \\right) = \\pi \\left( \\frac{300}{77} - 2 \\right)\n$$\n$$\nQ_{\\text{switch}} = \\pi \\left( \\frac{300}{77} - \\frac{154}{77} \\right) = \\pi \\left( \\frac{146}{77} \\right)\n$$\n$$\nQ_{\\text{switch}} = \\frac{146\\pi}{77} \\approx 5.95598...\n$$\n问题要求答案四舍五入到三位有效数字。\n$$\nQ_{\\text{switch}} \\approx 5.96\n$$", "answer": "$$\n\\boxed{5.96}\n$$", "id": "4919653"}]}