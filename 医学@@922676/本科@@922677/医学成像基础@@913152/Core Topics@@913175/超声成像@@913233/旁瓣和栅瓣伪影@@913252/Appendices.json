{"hands_on_practices": [{"introduction": "在我们深入研究由阵列中离散元件引起的伪影之前，首先理解即使是理想的连续换能器孔径也会因衍射而产生旁瓣，这一点至关重要。本练习将傅立叶变换原理应用于均匀照明的孔径，以量化主波束的宽度和第一个旁瓣的强度，这是评估成像系统性能的基本指标。通过这个练习，你将亲手计算这些决定图像清晰度和对比度的关键参数 [@problem_id:4923149]。", "problem": "一个超声线性探头被建模为一个宽度为 $D$、具有均匀照明（矩形切趾）的一维连续孔径，工作波长为 $\\lambda$。假设满足远场（夫琅禾费）近似，因此辐射声压场振幅的角度依赖性与孔径函数的空间傅里叶变换成正比。可测量的强度（功率）波束图与此振幅图的模的平方成正比。仅使用这些基础知识和标准微积分，推导确定均匀加权孔径的以下特性所需的表达式，然后进行数值计算：\n\n(a) 完整的 $-3 \\ \\mathrm{dB}$ 波束宽度（即主瓣的半峰全宽），\n\n(b) 第一旁瓣电平，定义为第一旁瓣相对于主瓣峰值的功率，以分贝表示。\n\n使用 $D = 19.2 \\ \\mathrm{mm}$ 和 $\\lambda = 0.308 \\ \\mathrm{mm}$。波束宽度以度为单位表示，旁瓣电平以分贝为单位的负数表示。将两个数值结果四舍五入到四位有效数字。对于任何角度，均以度（而非弧度）报告。", "solution": "该问题被评估为有效，因为它在科学上基于波物理和傅里叶光学的原理，问题陈述清晰且信息充分，可得到唯一解，并以客观、明确的语言表述。\n\n该问题要求推导和计算一维连续孔径的波束特性。该孔径宽度为 $D$，并受到均匀照明。远场声压振幅图与此孔径函数的空间傅里叶变换成正比。\n\n设沿孔径的空间坐标为 $x$。孔径函数 $A(x)$ 是一个矩形函数，定义为：\n$$\nA(x) = \\begin{cases} 1  \\text{for } |x| \\le D/2 \\\\ 0  \\text{for } |x|  D/2 \\end{cases}\n$$\n远场振幅图，记为 $P(\\theta)$，作为相对于孔径法线的角度 $\\theta$ 的函数，与 $A(x)$ 的傅里叶变换成正比。傅里叶域中的空间频率变量通过 $k_x = k \\sin(\\theta)$ 与角度 $\\theta$ 相关，其中 $k = 2\\pi/\\lambda$ 是波数。振幅图由下式给出：\n$$\nP(\\theta) \\propto \\int_{-\\infty}^{\\infty} A(x) \\exp(-i k_x x) \\,dx = \\int_{-D/2}^{D/2} 1 \\cdot \\exp(-i k x \\sin(\\theta)) \\,dx\n$$\n计算积分：\n$$\n\\int_{-D/2}^{D/2} \\exp(-i k x \\sin(\\theta)) \\,dx = \\left[ \\frac{\\exp(-i k x \\sin(\\theta))}{-i k \\sin(\\theta)} \\right]_{-D/2}^{D/2}\n$$\n$$\n= \\frac{\\exp(-i k \\frac{D}{2} \\sin(\\theta)) - \\exp(i k \\frac{D}{2} \\sin(\\theta))}{-i k \\sin(\\theta)}\n$$\n使用欧拉恒等式 $\\sin(\\phi) = \\frac{\\exp(i\\phi) - \\exp(-i\\phi)}{2i}$，我们可以简化这个表达式：\n$$\n= \\frac{2 \\sin(k \\frac{D}{2} \\sin(\\theta))}{k \\sin(\\theta)}\n$$\n代入 $k = 2\\pi/\\lambda$：\n$$\n= \\frac{2 \\sin\\left(\\frac{2\\pi}{\\lambda} \\frac{D}{2} \\sin(\\theta)\\right)}{\\frac{2\\pi}{\\lambda} \\sin(\\theta)} = D \\frac{\\sin\\left(\\frac{\\pi D \\sin(\\theta)}{\\lambda}\\right)}{\\frac{\\pi D \\sin(\\theta)}{\\lambda}}\n$$\n我们定义一个无量纲变量 $u = \\frac{\\pi D \\sin(\\theta)}{\\lambda}$。那么振幅图与 $\\frac{\\sin(u)}{u}$ 成正比。可测量的强度图 $I(\\theta)$ 与振幅图的模的平方成正比：\n$$\nI(\\theta) \\propto \\left( \\frac{\\sin(u)}{u} \\right)^2\n$$\n峰值强度出现在主瓣的中心，即 $\\theta = 0$，这意味着 $u=0$。在这一点上，$\\lim_{u\\to 0} \\left( \\frac{\\sin(u)}{u} \\right)^2 = 1^2 = 1$。我们将峰值强度归一化为 $I_{max}=1$。\n\n(a) 完整的 $-3 \\ \\mathrm{dB}$ 波束宽度：\n$-3 \\ \\mathrm{dB}$ 波束宽度对应于强度降至其最大值一半（$I = 0.5 \\cdot I_{max}$）时的全角宽度。这对应于 $10 \\log_{10}(0.5) \\approx -3.01 \\ \\mathrm{dB}$。我们必须找到使 $I(\\theta_h) = 0.5$ 的角度 $\\theta_{h}$。\n$$\n\\left( \\frac{\\sin(u_h)}{u_h} \\right)^2 = \\frac{1}{2} \\implies \\frac{\\sin(u_h)}{u_h} = \\frac{1}{\\sqrt{2}}\n$$\n这是一个关于 $u_h$ 的超越方程。数值求解可得：\n$$\nu_h \\approx 1.39155\n$$\n这个 $u_h$ 的值对应于半宽角 $\\theta_h$。我们可以从 $u$ 的定义中找到 $\\theta_h$：\n$$\nu_h = \\frac{\\pi D \\sin(\\theta_h)}{\\lambda} \\implies \\sin(\\theta_h) = \\frac{u_h \\lambda}{\\pi D}\n$$\n完整的 $-3 \\ \\mathrm{dB}$ 波束宽度 $\\mathrm{BW}_{3dB}$ 是 $2\\theta_h$。对于小角度，$\\sin(\\theta_h) \\approx \\theta_h$（以弧度为单位）。我们将使用完整表达式 $\\theta_h = \\arcsin\\left(\\frac{u_h \\lambda}{\\pi D}\\right)$。以度为单位的完整波束宽度是：\n$$\n\\mathrm{BW}_{3dB} = 2 \\theta_h = 2 \\cdot \\frac{180}{\\pi} \\arcsin\\left(\\frac{u_h \\lambda}{\\pi D}\\right)\n$$\n使用给定值 $D = 19.2 \\ \\mathrm{mm}$ 和 $\\lambda = 0.308 \\ \\mathrm{mm}$：\n$$\n\\sin(\\theta_h) = \\frac{1.39155 \\times 0.308}{\\pi \\times 19.2} \\approx \\frac{0.4285574}{60.31858} \\approx 0.0071049\n$$\n$$\n\\theta_h = \\arcsin(0.0071049) \\approx 0.0071051 \\ \\mathrm{radians} \\approx 0.40712^{\\circ}\n$$\n完整的波束宽度是 $2\\theta_h$：\n$$\n\\mathrm{BW}_{3dB} = 2 \\times 0.40712^{\\circ} = 0.81424^{\\circ}\n$$\n四舍五入到四位有效数字，波束宽度为 $0.8142^{\\circ}$。\n\n(b) 第一旁瓣电平：\n旁瓣是强度函数 $I(u) \\propto \\left(\\frac{\\sin u}{u}\\right)^2$ 对于 $u \\ne 0$ 的局部最大值。为了找到这些最大值，我们对 $u$ 求导并令其为零：\n$$\n\\frac{d}{du} \\left( \\frac{\\sin u}{u} \\right)^2 = 2\\left(\\frac{\\sin u}{u}\\right) \\frac{u\\cos u - \\sin u}{u^2} = 0\n$$\n极值发生在 $\\sin(u)=0$（对应于瓣之间的零点，对于 $u \\ne 0$）或 $u \\cos(u) - \\sin(u) = 0$ 时。后一个条件定义了旁瓣的峰值：\n$$\n\\tan(u) = u\n$$\n我们必须找到这个超越方程的第一个正非零根。这个根 $u_{sl1}$ 对应于第一旁瓣的峰值。数值解给出：\n$$\nu_{sl1} \\approx 4.49341\n$$\n第一旁瓣相对于主瓣的电平是强度函数在 $u=u_{sl1}$ 处的值：\n$$\n\\text{Relative Intensity} = \\left(\\frac{\\sin(u_{sl1})}{u_{sl1}}\\right)^2\n$$\n根据条件 $\\tan(u_{sl1}) = u_{sl1}$，我们可以找到 $\\sin^2(u_{sl1})$ 的一个闭式表达式。使用恒等式 $1+\\tan^2(\\phi) = \\sec^2(\\phi) = 1/\\cos^2(\\phi)$：\n$$\n\\cos^2(u_{sl1}) = \\frac{1}{1+\\tan^2(u_{sl1})} = \\frac{1}{1+u_{sl1}^2}\n$$\n又因为 $\\sin^2(\\phi) = 1-\\cos^2(\\phi)$：\n$$\n\\sin^2(u_{sl1}) = 1 - \\frac{1}{1+u_{sl1}^2} = \\frac{u_{sl1}^2}{1+u_{sl1}^2}\n$$\n将此代入相对强度方程：\n$$\n\\text{Relative Intensity} = \\frac{1}{u_{sl1}^2} \\sin^2(u_{sl1}) = \\frac{1}{u_{sl1}^2} \\frac{u_{sl1}^2}{1+u_{sl1}^2} = \\frac{1}{1+u_{sl1}^2}\n$$\n现在，代入 $u_{sl1}$ 的数值：\n$$\n\\text{Relative Intensity} = \\frac{1}{1+(4.49341)^2} \\approx \\frac{1}{1+20.1907} \\approx \\frac{1}{21.1907} \\approx 0.047190\n$$\n第一旁瓣电平（SLL）以分贝表示为：\n$$\nSLL = 10 \\log_{10}(\\text{Relative Intensity}) = 10 \\log_{10}\\left(\\frac{1}{1+u_{sl1}^2}\\right)\n$$\n$$\nSLL = 10 \\log_{10}(0.047190) \\approx -13.261 \\ \\mathrm{dB}\n$$\n四舍五入到四位有效数字，旁瓣电平为 $-13.26 \\ \\mathrm{dB}$。", "answer": "$$\n\\boxed{\\begin{pmatrix} 0.8142  -13.26 \\end{pmatrix}}\n$$", "id": "4923149"}, {"introduction": "实际的超声探头由许多离散的阵元构成，而不是一个连续的孔径。这种对孔径的离散采样引入了一种新的伪影：栅瓣。本练习将探讨在最简单的情况下（即波束未进行偏转的“正射”模式）栅瓣是如何产生的，并让你通过计算来判断一个给定设计的阵列是否会产生这种伪影 [@problem_id:4923182]。这有助于你理解阵元间距 $d$ 与波长 $\\lambda$ 之间的关键关系，这是换能器设计中的核心考量。", "problem": "用于医学成像的超声一维(1D)线性阵列具有 $N=128$ 个相同的阵元，中心间距(阵元间距) $d=0.3$ 毫米。该阵列在声速 $c=1540$ 米/秒的均匀介质中被驱动，以中心频率 $f=5$ 兆赫兹发射。所有阵元被同相激励，以形成一个正射发射波束(偏转角 $\\theta_{0}=0$)。使用平面波传播模型和波数 $k=2\\pi/\\lambda$ (其中 $\\lambda=c/f$) 的定义，分析阵列因子的极大值的阵列干涉条件，并确定在正射时，是否有任何栅瓣出现在物理角度范围 $\\theta \\in [-90^\\circ,90^\\circ]$ 内。如果存在栅瓣，请列出它们所有的角度 $\\theta_{m}$ (以度为单位)；否则，请说明没有栅瓣出现。以度为单位表示最终角度。如果没有栅瓣出现，请提供单一数字 $0$ 作为最终答案。无需四舍五入。", "solution": "首先验证问题，确保其科学可靠、提法得当且客观。\n\n**步骤1：提取已知条件**\n- 阵元数量：$N=128$\n- 阵元间距(中心间距)：$d=0.3$ 毫米\n- 中心频率：$f=5$ 兆赫兹\n- 介质中的声速：$c=1540$ 米/秒\n- 偏转角：$\\theta_{0}=0$ (正射)\n- 波数定义：$k=2\\pi/\\lambda$\n- 波长定义：$\\lambda=c/f$\n- 分析的物理角度范围：$\\theta \\in [-90^\\circ, 90^\\circ]$\n\n**步骤2：使用提取的已知条件进行验证**\n该问题是科学合理的，基于波的干涉和阵列理论的基本原理，这些是医学成像的核心。所提供的物理量（$N$、$d$、$f$、$c$）对于临床超声系统是符合实际的。问题提法得当，所有必要信息都已提供，可以得出一个唯一的、可验证的解。术语精确且客观。没有矛盾、歧义或事实错误。因此，该问题被认为是有效的。\n\n**步骤3：结论与行动**\n问题有效。将提供完整解答。\n\n**解题推导**\n对于具有均匀阵元间距的一维线性阵列，阵列因子极大值的角位置由相长干涉条件确定。该条件由以下方程给出：\n$$d(\\sin\\theta_m - \\sin\\theta_0) = m\\lambda$$\n其中 $d$ 是阵元间距，$\\lambda$ 是超声波的波长，$\\theta_0$ 是主波束的偏转角，$\\theta_m$ 是极大值的角度，$m$ 是一个整数（$m = 0, \\pm 1, \\pm 2, \\dots$）。\n\n对应于 $m=0$ 的极大值是主瓣，其方向指向偏转角 $\\theta_0$。栅瓣是对应于出现在真实空间中的非零整数值 $m$ 的其他主极大值。要使角度 $\\theta_m$ 存在于真实空间中，其正弦值必须在 $[-1, 1]$ 范围内，即 $|\\sin\\theta_m| \\leq 1$。\n\n首先，我们必须使用给定的参数（声速 $c$ 和频率 $f$）计算波长 $\\lambda$。\n频率给定为 $f = 5$ 兆赫兹，即 $5 \\times 10^6$ Hz。\n声速为 $c = 1540$ m/s。\n波长计算如下：\n$$\\lambda = \\frac{c}{f} = \\frac{1540 \\, \\text{m/s}}{5 \\times 10^6 \\, \\text{s}^{-1}} = 308 \\times 10^{-6} \\, \\text{m}$$\n将其转换为毫米以匹配阵元间距 $d$ 的单位：\n$$\\lambda = 0.308 \\, \\text{mm}$$\n\n问题陈述该阵列用于形成正射波束，这意味着偏转角为 $\\theta_0 = 0^\\circ$。因此，$\\sin\\theta_0 = \\sin(0^\\circ) = 0$。\n将 $\\sin\\theta_0 = 0$ 代入干涉条件，得到正射波束极大值角度的简化方程：\n$$d\\sin\\theta_m = m\\lambda$$\n可以重新整理此方程以求解 $\\sin\\theta_m$：\n$$\\sin\\theta_m = m \\frac{\\lambda}{d}$$\n\n现在，我们代入 $d$ 和 $\\lambda$ 的已知值：\n$d = 0.3$ mm\n$\\lambda = 0.308$ mm\n$$\\sin\\theta_m = m \\frac{0.308 \\, \\text{mm}}{0.3 \\, \\text{mm}} = m \\frac{308}{300} = m \\frac{77}{75}$$\n\n要使栅瓣存在于物理角度范围 $\\theta \\in [-90^\\circ, 90^\\circ]$ 内，必须存在一个非零整数 $m$，使得 $|\\sin\\theta_m| \\leq 1$。让我们测试一下 $m$ 的最小非零整数值。\n\n对于 $m=1$：\n$$\\sin\\theta_1 = 1 \\times \\frac{77}{75} = \\frac{77}{75}$$\n由于 $\\frac{77}{75} > 1$，没有实数角 $\\theta_1$ 满足此方程。\n\n对于 $m=-1$：\n$$\\sin\\theta_{-1} = -1 \\times \\frac{77}{75} = -\\frac{77}{75}$$\n由于 $-\\frac{77}{75}  -1$，没有实数角 $\\theta_{-1}$ 满足此方程。\n\n对于任何整数 $|m| \\geq 1$，$|\\sin\\theta_m|$ 的量值将是：\n$$|\\sin\\theta_m| = |m| \\frac{77}{75} \\geq \\frac{77}{75} > 1$$\n这表明对于任何非零整数 $m$，都不存在实数角 $\\theta_m$。唯一能为 $\\theta_m$ 产生有效解的整数 $m$ 值为 $m=0$，它对应于 $\\theta_0 = \\arcsin(0) = 0^\\circ$ 处的主瓣。\n\n避免正射波束产生栅瓣的一般条件是 $d  \\lambda$。在本问题中，$d = 0.3$ mm 且 $\\lambda = 0.308$ mm。条件 $0.3  0.308$ 被满足。因此，在物理角度范围内没有栅瓣出现。\n\n根据题目要求，如果没有栅瓣出现，答案应为单一数字 $0$。", "answer": "$$\\boxed{0}$$", "id": "4923182"}, {"introduction": "在上一个练习的基础上，我们现在引入电子波束偏转这一复杂性。虽然一个阵列在正射模式下可能不会产生栅瓣，但偏转主波束会改变干涉条件，可能导致栅瓣进入物理可见的成像区域。本练习将模拟这一实际场景，要求你计算出因波束偏转而出现的栅瓣的具体角度，从而让你直观地理解波束偏转对图像质量的潜在影响 [@problem_id:4923173]。", "problem": "一个超声成像系统采用一个均匀线性阵列 (ULA)，该阵列由相同的声学元件组成，阵元间距为 $d$，工作在声波波长 $\\lambda$。在远场中，根据惠更斯-菲涅尔叠加原理和标量波近似，当相邻阵元之间的程差产生相长干涉时，会出现阵列因子的最大值。对于一个通过递进相移将波束偏转到角度 $\\theta_{0}$（相对于阵列法线方向）的均匀线性阵列，当阵元间距与波长相比足够大时，可能会出现栅瓣。\n\n从远场中产生阵列最大值（相长干涉）的相邻阵元基本干涉条件出发，推导最大值的角位置 $\\theta$ 与 $\\theta_{0}$、$d$ 和 $\\lambda$ 之间的关系。利用此关系，在偏转角 $\\theta_{0} = 30^{\\circ}$、阵元间距 $d = 0.35$ 毫米、波长 $\\lambda = 0.308$ 毫米的条件下，确定一阶栅瓣角 $\\theta_{g}$。评估此一阶栅瓣是否物理可见（即，它是否对应于辐射场中的一个实数角度）。\n\n最终角度 $\\theta_{g}$ 以度为单位表示，并将您的答案四舍五入到四位有效数字。", "solution": "该问题经核实具有科学依据、问题良态、客观且完整。它基于波物理和阵列理论的基本原理，并为求得唯一解提供了所有必要的数据。\n\n我们首先推导均匀线性阵列 (ULA) 的远场辐射最大值的一般条件。考虑一个由间距为 $d$ 的相同阵元组成的 ULA。角度 $\\theta$ 是相对于阵列的法线方向（垂直于阵列轴线）测量的。\n\n对于一个沿方向 $\\theta$ 传播的平面波，相邻阵元之间的程差 $\\Delta L$ 可通过简单的三角学计算得出：\n$$ \\Delta L = d \\sin\\theta $$\n该程差在这些阵元的信号之间引入了一个相位差 $\\Delta \\phi_{\\text{path}}$，它与声波数 $k = \\frac{2\\pi}{\\lambda}$ 相关：\n$$ \\Delta \\phi_{\\text{path}} = k \\Delta L = \\frac{2\\pi}{\\lambda} d \\sin\\theta $$\n为将主波束偏转到所需角度 $\\theta_{0}$，在相邻阵元之间以电子方式施加一个递进相移 $\\Delta \\phi_{\\text{steer}}$。选择此偏转延迟是为了在角度 $\\theta_{0}$ 处精确抵消由程差引起的相位差，从而在该方向上形成相长干涉。条件如下：\n$$ \\Delta \\phi_{\\text{steer}} + \\frac{2\\pi}{\\lambda} d \\sin\\theta_0 = 0 $$\n因此，所施加的偏转相位为：\n$$ \\Delta \\phi_{\\text{steer}} = -\\frac{2\\pi}{\\lambda} d \\sin\\theta_0 $$\n对于任意方向 $\\theta$，相邻阵元信号之间的总相位差 $\\Delta \\phi_{\\text{total}}$ 是由程差引起的相位移与施加的电子偏转延迟之和：\n$$ \\Delta \\phi_{\\text{total}} = \\Delta \\phi_{\\text{path}} + \\Delta \\phi_{\\text{steer}} = \\frac{2\\pi}{\\lambda} d \\sin\\theta - \\frac{2\\pi}{\\lambda} d \\sin\\theta_0 $$\n$$ \\Delta \\phi_{\\text{total}} = \\frac{2\\pi d}{\\lambda} (\\sin\\theta - \\sin\\theta_0) $$\n当总相位差是 $2\\pi$ 的整数倍时，会发生相长干涉，这导致阵列的辐射方向图（主瓣和任何栅瓣）出现最大值。设该整数为 $m$，其中 $m = 0, \\pm 1, \\pm 2, \\dots$。\n$$ \\Delta \\phi_{\\text{total}} = 2\\pi m $$\n代入 $\\Delta \\phi_{\\text{total}}$ 的表达式：\n$$ \\frac{2\\pi d}{\\lambda} (\\sin\\theta - \\sin\\theta_0) = 2\\pi m $$\n两边同除以 $2\\pi$ 并重新整理，得到所有最大值角位置 $\\theta$ 的通用方程：\n$$ d(\\sin\\theta - \\sin\\theta_0) = m\\lambda $$\n$$ \\sin\\theta = \\sin\\theta_0 + \\frac{m\\lambda}{d} $$\n这就是推导出的最大值角位置关系式。主最大值，即主瓣，对应于 $m=0$，这正确地得出 $\\theta = \\theta_0$。栅瓣对应于非零整数 $m$。一阶栅瓣对应于 $m = \\pm 1$。\n\n现在，我们使用给定的数值来求一阶栅瓣角 $\\theta_{g}$：\n- 偏转角: $\\theta_0 = 30^{\\circ}$\n- 阵元间距: $d = 0.35 \\text{ mm}$\n- 声波波长: $\\lambda = 0.308 \\text{ mm}$\n\n首先，我们计算 $\\sin\\theta_0$ 的值和比值 $\\frac{\\lambda}{d}$：\n$$ \\sin\\theta_0 = \\sin(30^{\\circ}) = 0.5 $$\n$$ \\frac{\\lambda}{d} = \\frac{0.308}{0.35} = 0.88 $$\n最大值角度的方程变为：\n$$ \\sin\\theta = 0.5 + m(0.88) $$\n题目要求我们评估一阶栅瓣的可见性。如果一个栅瓣的角度 $\\theta$ 是实数，即满足 $|\\sin\\theta| \\le 1$，则该栅瓣是物理可见的。我们来检查一阶情况（$m = +1$ 和 $m = -1$）。\n\n情况1：$m = +1$\n$$ \\sin\\theta_{m=+1} = 0.5 + 1 \\times 0.88 = 1.38 $$\n由于 $\\sin\\theta_{m=+1} = 1.38 > 1$，不存在满足此条件的实数角度 $\\theta$。这个栅瓣在物理上是不可见的，位于所谓的“虚空间”中。\n\n情况2：$m = -1$\n$$ \\sin\\theta_{g} = 0.5 + (-1) \\times 0.88 = 0.5 - 0.88 = -0.38 $$\n由于 $|\\sin\\theta_{g}| = |-0.38| = 0.38 \\le 1$，这对应一个实数的、物理可见的角度。这是一阶栅瓣，它出现在辐射场中。我们可以计算其角度 $\\theta_{g}$：\n$$ \\theta_{g} = \\arcsin(-0.38) $$\n以度为单位计算该值：\n$$ \\theta_{g} \\approx -22.333333...^{\\circ} $$\n题目要求答案四舍五入到四位有效数字。\n$$ \\theta_{g} \\approx -22.33^{\\circ} $$\n因此，一阶栅瓣是物理可见的，其位置角度约为 $-22.33^{\\circ}$。", "answer": "$$\\boxed{-22.33}$$", "id": "4923173"}]}