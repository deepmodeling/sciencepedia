{"hands_on_practices": [{"introduction": "在公共卫生领域，一个基本原则是功利主义，其目标是为最多数人创造最大的福祉。在医疗资源分配中，这通常意味着在固定的预算下，最大化整个群体的总健康收益——以质量调整生命年（$QALYs$）来衡量。本练习 [@problem_id:4856432] 将此原则付诸实践，要求你在两种相互竞争的治疗方法之间，找到最高效的资金分配方案，以实现健康总收益的最大化。掌握这类分析方法，对于理解卫生政策中固有的经济权衡至关重要。", "problem": "一个地区卫生当局必须将固定预算 $C$ 分配给两种治疗方案，标记为治疗A和治疗B，其分配正义目标是最大化总质量调整生命年（QALYs）。质量调整生命年（QALY）是一种衡量健康效益的指标，它将寿命和生活质量结合在一个从 $0$（死亡）到 $1$（完全健康）的标度上。治疗A每位接受治疗的患者成本为 $k_A$ 个预算单位，治疗B每位接受治疗的患者成本为 $k_B$ 个预算单位。令 $n_A$ 和 $n_B$ 分别表示接受治疗A和治疗B的患者数量。假设由于患者按严重程度和适宜性排序，对于每个项目，治疗下一位患者的预期边际QALY增益随已治疗患者数量线性下降。具体来说，对于治疗A，边际QALY增益为 $M_A(n_A) = \\alpha_A - \\beta_A n_A$（其中 $0 \\leq n_A \\leq \\alpha_A/\\beta_A$），对于治疗B，边际QALY增益为 $M_B(n_B) = \\alpha_B - \\beta_B n_B$（其中 $0 \\leq n_B \\leq \\alpha_B/\\beta_B$）。通过治疗 $n_A$ 名A患者和 $n_B$ 名B患者产生的总QALYs为\n$$\nQ_A(n_A) = \\int_{0}^{n_A} M_A(t)\\,dt \\quad \\text{和} \\quad Q_B(n_B) = \\int_{0}^{n_B} M_B(s)\\,ds.\n$$\n假设如果最优解需要，预算将被完全用尽，且分配必须满足资源约束 $k_A n_A + k_B n_B \\leq C$，以及 $0 \\leq n_A \\leq \\alpha_A/\\beta_A$ 和 $0 \\leq n_B \\leq \\alpha_B/\\beta_B$。\n\n仅使用适用于医学伦理和经济优化的第一性原理（QALYs的定义、预算约束以及在稀缺资源下最大化总QALYs的原则）来推导最优分配方案。参数如下：\n- $k_A = 4$, $k_B = 3$ (两者单位相同，均为抽象预算单位)，\n- $\\alpha_A = 10$, $\\beta_A = 2$,\n- $\\alpha_B = 12$, $\\beta_B = 3$,\n- $C = 24$。\n\n计算在约束条件下最大化总QALYs的 $n_A$ 和 $n_B$ 的精确最优值。将 $n_A$ 和 $n_B$ 的分数值解释为在大量人口中的期望计数。使用LaTeX的 `pmatrix` 环境，将您的最终答案表示为行矩阵对 $(n_A, n_B)$。无需四舍五入；请给出精确值。", "solution": "所呈现的问题是一个基于卫生经济学和功利主义伦理学原理的约束优化问题。目标是在给定固定预算以及两种不同治疗方案的特定成本和效益函数的情况下，为一个群体最大化以质量调整生命年（QALYs）衡量的总健康效益。\n\n**问题验证**\n\n首先，对问题陈述进行严格的验证。\n\n*   **提取的已知条件：**\n    *   总预算：$C = 24$ 单位。\n    *   治疗A每位患者成本：$k_A = 4$。\n    *   治疗B每位患者成本：$k_B = 3$。\n    *   接受治疗的患者数量：$n_A$ 和 $n_B$。\n    *   治疗A的边际QALY增益：$M_A(n_A) = \\alpha_A - \\beta_A n_A$，其中 $\\alpha_A = 10$, $\\beta_A = 2$。\n    *   治疗B的边际QALY增益：$M_B(n_B) = \\alpha_B - \\beta_B n_B$，其中 $\\alpha_B = 12$, $\\beta_B = 3$。\n    *   总QALYs：$Q_{total} = \\int_{0}^{n_A} M_A(t)\\,dt + \\int_{0}^{n_B} M_B(s)\\,ds$。\n    *   约束条件：\n        1.  预算：$k_A n_A + k_B n_B \\leq C \\implies 4n_A + 3n_B \\leq 24$。\n        2.  边际增益非负（容量）：$n_A \\leq \\alpha_A/\\beta_A = 10/2 = 5$ 且 $n_B \\leq \\alpha_B/\\beta_B = 12/3 = 4$。\n        3.  患者数量非负：$n_A \\geq 0$, $n_B \\geq 0$。\n\n*   **验证结论：** 该问题是有效的。它在科学上基于已确立的经济优化和卫生政策原则（QALY最大化）。问题提法得当，具有一个凹的目标函数和一个凸的、紧凑的约束集，这保证了唯一最大值的存在。该问题是客观的、形式上明确的，并且不包含任何矛盾或歧义。\n\n**求解推导**\n\n目标是在给定约束条件下，最大化总QALYs函数 $Q_{total}(n_A, n_B)$。\n\n首先，我们通过对边际QALY增益函数积分来构建目标函数：\n$$\nQ_A(n_A) = \\int_{0}^{n_A} (\\alpha_A - \\beta_A t) \\, dt = \\left[ \\alpha_A t - \\frac{1}{2}\\beta_A t^2 \\right]_0^{n_A} = \\alpha_A n_A - \\frac{1}{2}\\beta_A n_A^2\n$$\n$$\nQ_B(n_B) = \\int_{0}^{n_B} (\\alpha_B - \\beta_B s) \\, ds = \\left[ \\alpha_B s - \\frac{1}{2}\\beta_B s^2 \\right]_0^{n_B} = \\alpha_B n_B - \\frac{1}{2}\\beta_B n_B^2\n$$\n总QALY函数是两者的和：\n$$\nQ_{total}(n_A, n_B) = \\left(\\alpha_A n_A - \\frac{1}{2}\\beta_A n_A^2\\right) + \\left(\\alpha_B n_B - \\frac{1}{2}\\beta_B n_B^2\\right)\n$$\n代入给定的参数值：\n$$\nQ_{total}(n_A, n_B) = \\left(10 n_A - \\frac{1}{2}(2) n_A^2\\right) + \\left(12 n_B - \\frac{1}{2}(3) n_B^2\\right) = 10 n_A - n_A^2 + 12 n_B - \\frac{3}{2} n_B^2\n$$\n我们必须在以下约束条件下最大化该函数：\n1. $4n_A + 3n_B \\leq 24$\n2. $0 \\leq n_A \\leq 5$\n3. $0 \\leq n_B \\leq 4$\n\n目标函数是凹函数，约束条件定义了一个凸集。这是一个经典的凸优化问题。我们可以使用拉格朗日乘数法。最优化的一个必要条件是，所有支出的单位成本边际效用相等。如果预算完全用尽（这是预期的，因为初始患者的边际QALYs为正），则预算约束变为等式，$4n_A + 3n_B = 24$。\n\n治疗A的单位成本边际效益是 $\\frac{M_A(n_A)}{k_A}$，治疗B的单位成本边际效益是 $\\frac{M_B(n_B)}{k_B}$。在最优点，这两者必须相等：\n$$\n\\frac{M_A(n_A)}{k_A} = \\frac{M_B(n_B)}{k_B}\n$$\n这就是等边际法则，经济优化的一个第一性原理。代入 $M_A$、$M_B$、$k_A$ 和 $k_B$ 的表达式：\n$$\n\\frac{10 - 2n_A}{4} = \\frac{12 - 3n_B}{3}\n$$\n这个方程建立了最优 $n_A$ 和 $n_B$ 之间的关系。我们可以简化它：\n$$\n3(10 - 2n_A) = 4(12 - 3n_B)\n$$\n$$\n30 - 6n_A = 48 - 12n_B\n$$\n$$\n12n_B - 6n_A = 18\n$$\n除以 $6$：\n$$\n2n_B - n_A = 3 \\implies n_A = 2n_B - 3\n$$\n我们现在得到一个包含两个变量 $n_A$ 和 $n_B$ 的二元一次方程组：\n1. $n_A = 2n_B - 3$\n2. $4n_A + 3n_B = 24$\n\n将第一个方程代入第二个方程：\n$$\n4(2n_B - 3) + 3n_B = 24\n$$\n$$\n8n_B - 12 + 3n_B = 24\n$$\n$$\n11n_B = 36\n$$\n$$\nn_B = \\frac{36}{11}\n$$\n现在，将 $n_B$ 的值代回 $n_A$ 的表达式中：\n$$\nn_A = 2\\left(\\frac{36}{11}\\right) - 3 = \\frac{72}{11} - \\frac{33}{11} = \\frac{39}{11}\n$$\n最优分配的候选解是 $(n_A, n_B) = (\\frac{39}{11}, \\frac{36}{11})$。我们必须验证该解是否位于由约束条件 $0 \\leq n_A \\leq 5$ 和 $0 \\leq n_B \\leq 4$ 定义的可行域内。\n\n对于 $n_A$：$0 \\leq \\frac{39}{11} \\leq 5$。由于 $\\frac{39}{11} \\approx 3.545$，此条件成立。\n对于 $n_B$：$0 \\leq \\frac{36}{11} \\leq 4$。由于 $\\frac{36}{11} \\approx 3.273$，此条件也成立。\n\n该解满足所有约束条件，并且是在预算约束有效的情况下根据最优性的一阶条件推导出来的。因为问题是在一个封闭的凸集上最大化一个严格凹函数，所以这个位于预算线上的唯一内点是全局最大值。分数值被解释为期望的患者计数。\n\n因此，最优分配方案是在预算约束下，为期望数量为 $\\frac{39}{11}$ 的患者提供治疗A，为期望数量为 $\\frac{36}{11}$ 的患者提供治疗B，以最大化总QALYs。", "answer": "$$\n\\boxed{\\begin{pmatrix} \\frac{39}{11} & \\frac{36}{11} \\end{pmatrix}}\n$$", "id": "4856432"}, {"introduction": "与功利主义关注总体福祉不同，一些伦理框架优先考虑最弱势群体的正义。约翰·罗尔斯（John Rawls）的“差异原则”就是一个著名的例子，该原则主张，社会和经济不平等的存在，仅当它们有利于社会中处境最差的成员时，才是可接受的。这个思想实验 [@problem_id:4417351] 将罗尔斯的观点付诸实践，要求你根据哪个分配方案更能服务于处境最差的个体，在两种健康结果分配中做出选择。它展示了当我们将焦点从效率转向公平时，会如何导致截然不同的资源分配决策。", "problem": "一家医院部署了一个人工智能 (AI) 分诊系统，用于从两种可行的资源分配策略中选择一种。这两种策略涉及三名患者的标准化健康增益分配，以质量调整生命年 (QALYs) 衡量。这两种离散策略是 $W_1=(5,5,5)$ 和 $W_2=(10,10,1)$，其中每个分量表示一名患者的QALYs。该系统在规范上受 John Rawls 的“无知之幕”背后的差异原则约束：它必须以词典式优先顺序最大化最不利个体的福祉，并且只有在该约束条件下，才能考虑总体福祉。\n\n为了在计算中操作化词典式优先顺序，同时保留伦理约束，假设医院的伦理委员会采用一个带有无穷小打破平局近似的双层社会评估泛函：\n$$\nV_{\\epsilon}(W) \\equiv \\min_{i \\in \\{1,2,3\\}} h_i \\;+\\; \\epsilon \\sum_{i=1}^{3} h_i,\n$$\n其中 $W=(h_1,h_2,h_3)$ 表示个体QALYs，而 $\\epsilon>0$ 是一个小的无量纲参数，代表对总体QALYs的次级、严格从属的权重。AI系统选择使 $V_{\\epsilon}(W)$ 最大化的策略 $W$。\n\n从差异原则的基本定义及其词典式实现出发，推导出精确的阈值 $\\epsilon^{\\star}$，使得对于所有 $\\epsilon>\\epsilon^{\\star}$，系统严格偏好 $W_2$ 胜过 $W_1$；而对于所有 $\\epsilon<\\epsilon^{\\star}$，系统偏好 $W_1$ 胜过 $W_2$。将你的最终答案表示为一个精确的无量纲数。不需要四舍五入，最终方框内的答案不应包含任何单位。", "solution": "首先将对问题陈述的科学性和逻辑一致性进行验证。\n\n### 步骤1：提取已知条件\n问题陈述中提供的数据和条件如下：\n-   两种离散的资源分配策略：$W_1=(5,5,5)$ 和 $W_2=(10,10,1)$。\n-   策略的分量代表三名患者各自的质量调整生命年 (QALYs)。\n-   规范约束是 John Rawls 的差异原则，通过对最不利个体的词典式优先来实现。\n-   为操作化此原则，定义了一个社会评估泛函：$V_{\\epsilon}(W) \\equiv \\min_{i \\in \\{1,2,3\\}} h_i \\;+\\; \\epsilon \\sum_{i=1}^{3} h_i$。\n-   $W=(h_1,h_2,h_3)$是个体QALYs的向量。\n-   $\\epsilon>0$ 是一个小的无量纲参数。\n-   系统选择使 $V_{\\epsilon}(W)$ 最大化的策略 $W$。\n-   任务是找到精确的阈值 $\\epsilon^{\\star}$，使得对于所有 $\\epsilon>\\epsilon^{\\star}$，系统严格偏好 $W_2$ 胜过 $W_1$；对于所有 $\\epsilon<\\epsilon^{\\star}$，系统偏好 $W_1$ 胜过 $W_2$。\n\n### 步骤2：使用提取的已知条件进行验证\n根据以下验证标准对问题进行评估：\n-   **科学依据**：该问题基于政治哲学（罗尔斯主义正义）、健康经济学（QALYs）和计算社会选择中的既定概念。使用词典式偏好并通过无穷小加权和 ($V_{\\epsilon}$) 进行近似，是经济学和优化理论中的一种标准且严谨的技术。该问题没有违反任何科学或数学原理。\n-   **适定性**：该问题是适定的（或称良定的）。待最大化的函数定义明确，策略已明确给出，阈值 $\\epsilon^{\\star}$ 的条件被明确表述为两种策略之间偏好反转的点。这种结构保证了唯一且有意义的解的存在。\n-   **客观性**：问题以精确、客观的语言陈述。它描述了一个形式化模型，没有引入主观看法或偏见。\n-   **完整性与一致性**：问题是自洽的。所有必要信息——两种策略、评估泛函和优化准则——都已提供。不存在任何矛盾。\n-   **可行性**：该场景是一个伦理决策的理论模型，而非物理实验。其假设在计算伦理学和人工智能安全领域内是合理的。数值是一致的，没有表现出任何异常。\n\n### 步骤3：结论与行动\n该问题被判定为**有效**。这是一个适定的、有科学依据的、客观的问题，可以使用所提供的信息来解决。可以开始求解过程。\n\n### 求解推导\n目标是找到阈值 $\\epsilon^{\\star}$，在该值上，对策略 $W_1$ 和 $W_2$ 的偏好发生改变。这发生在使社会评估泛函 $V_{\\epsilon}(W)$ 对两种策略产生相同值的 $\\epsilon$ 处。\n\n社会评估泛函由下式给出：\n$$\nV_{\\epsilon}(W) = \\min_{i \\in \\{1,2,3\\}} h_i + \\epsilon \\sum_{i=1}^{3} h_i\n$$\n\n首先，我们计算策略 $W_1 = (5, 5, 5)$ 的 $V_{\\epsilon}(W_1)$。\n个体QALYs为 $h_1=5, h_2=5, h_3=5$。\n最不利个体的福祉是这些值的最小值：\n$$\n\\min_{i} h_i = \\min(5, 5, 5) = 5\n$$\n总体福祉是这些值的总和：\n$$\n\\sum_{i=1}^{3} h_i = 5 + 5 + 5 = 15\n$$\n将这些值代入泛函，得到：\n$$\nV_{\\epsilon}(W_1) = 5 + \\epsilon(15)\n$$\n\n接下来，我们计算策略 $W_2 = (10, 10, 1)$ 的 $V_{\\epsilon}(W_2)$。\n个体QALYs为 $h_1=10, h_2=10, h_3=1$。\n最不利个体的福祉是：\n$$\n\\min_{i} h_i = \\min(10, 10, 1) = 1\n$$\n总体福祉是：\n$$\n\\sum_{i=1}^{3} h_i = 10 + 10 + 1 = 21\n$$\n将这些值代入泛函，得到：\n$$\nV_{\\epsilon}(W_2) = 1 + \\epsilon(21)\n$$\n\n问题陈述指出，当 $\\epsilon < \\epsilon^{\\star}$ 时，偏好策略 $W_1$；当 $\\epsilon > \\epsilon^{\\star}$ 时，偏好策略 $W_2$。这意味着在阈值 $\\epsilon = \\epsilon^{\\star}$ 处，两种策略的评价值相等。\n$$\nV_{\\epsilon^{\\star}}(W_1) = V_{\\epsilon^{\\star}}(W_2)\n$$\n我们将两个表达式设为相等，然后求解 $\\epsilon^{\\star}$：\n$$\n5 + 15\\epsilon^{\\star} = 1 + 21\\epsilon^{\\star}\n$$\n为了解出 $\\epsilon^{\\star}$，我们将包含 $\\epsilon^{\\star}$ 的项移到等式的一边，常数项移到另一边。\n$$\n5 - 1 = 21\\epsilon^{\\star} - 15\\epsilon^{\\star}\n$$\n$$\n4 = 6\\epsilon^{\\star}\n$$\n$$\n\\epsilon^{\\star} = \\frac{4}{6}\n$$\n将分数化简为最简形式，得到：\n$$\n\\epsilon^{\\star} = \\frac{2}{3}\n$$\n\n为了确认这个阈值，我们来检验 $\\epsilon^{\\star}$ 附近的偏好情况。\n如果 $V_{\\epsilon}(W_1) > V_{\\epsilon}(W_2)$，系统偏好 $W_1$ 胜过 $W_2$：\n$$\n5 + 15\\epsilon > 1 + 21\\epsilon\n$$\n$$\n4 > 6\\epsilon\n$$\n$$\n\\frac{4}{6} > \\epsilon \\quad \\text{或} \\quad \\epsilon < \\frac{2}{3}\n$$\n这证实了对于所有 $\\epsilon < \\frac{2}{3}$，策略 $W_1$ 被严格偏好。\n\n如果 $V_{\\epsilon}(W_2) > V_{\\epsilon}(W_1)$，系统偏好 $W_2$ 胜过 $W_1$：\n$$\n1 + 21\\epsilon > 5 + 15\\epsilon\n$$\n$$\n6\\epsilon > 4\n$$\n$$\n\\epsilon > \\frac{4}{6} \\quad \\text{或} \\quad \\epsilon > \\frac{2}{3}\n$$\n这证实了对于所有 $\\epsilon > \\frac{2}{3}$，策略 $W_2$ 被严格偏好。\n\n因此，精确的阈值为 $\\epsilon^{\\star} = \\frac{2}{3}$。这个值精确地标记了这样一个边界：在此边界上，次级的功利主义考量（总体QALYs）变得足够决定性，从而压倒了对处境最差个体的首要罗尔斯主义考量，因为该个体在策略 $W_1$ 下（获得5个QALYs）比在策略 $W_2$ 下（获得1个QALY）境况更好。", "answer": "$$\\boxed{\\frac{2}{3}}$$", "id": "4417351"}, {"introduction": "在现实世界中，医疗领域的伦理困境很少能用单一原则简单解决。决策者往往需要制定能够整合多种相互竞争的价值观的政策。这个实践练习 [@problem_id:4417440] 模拟了医院中常见的挑战——分诊系统的开发。你将学习如何构建一个综合性的优先序评分，它既要平衡最大化治疗效益的功利主义目标，也要考虑病情更严重患者的优先权重（优先主义关怀），同时还要满足确保弱势群体获得公平对待的平等约束。这项练习能让你深入了解，在临床实践中，复杂的伦理权衡是如何通过系统化和透明化的方式进行管理的。", "problem": "一家医院部署了一套人工智能（AI）分诊推荐系统，以根据分配正义政策向患者分配稀缺的治疗资源。其伦理委员会采纳了以下基本原则：\n1. 预期临床效益的功利主义聚合：如果患者 $i$ 接受治疗，其预期临床效益由一个基数指数 $b_i \\in [0,1]$ 表示。\n2. 病情严重性优先原则：病情更严重的患者获得额外的道德权重，由严重性指数 $s_i \\in [0,1]$ 表示。\n3. 可加可分性与比率标度可比性：接受治疗的患者的优先指数是这些输入的仿射函数，即 $u_i = w_s s_i + w_b b_i$，其中 $w_s, w_b \\geq 0$ 且 $w_s + w_b = 1$。\n4. 权衡校准：局部的伦理校准确定了预期效益与严重性之间的边际替代率，使得预期效益的权重是严重性权重的 $\\frac{3}{2}$ 倍，即 $\\frac{w_b}{w_s} = \\frac{3}{2}$，同时保持 $w_s + w_b = 1$。\n\n现有五名患者，索引为 $i \\in \\{1,2,3,4,5\\}$，其属性如下：群体成员身份 $g_i \\in \\{\\mathrm{D}, \\mathrm{ND}\\}$，其中 $\\mathrm{D}$ 表示弱势群体；严重性 $s_i$；以及预期效益 $b_i$：\n- 患者 $1$：$g_1 = \\mathrm{D}$，$s_1 = 0.90$，$b_1 = 0.30$。\n- 患者 $2$：$g_2 = \\mathrm{ND}$，$s_2 = 0.20$，$b_2 = 0.95$。\n- 患者 $3$：$g_3 = \\mathrm{D}$，$s_3 = 0.70$，$b_3 = 0.60$。\n- 患者 $4$：$g_4 = \\mathrm{ND}$，$s_4 = 0.50$，$b_4 = 0.80$。\n- 患者 $5$：$g_5 = \\mathrm{D}$，$s_5 = 0.85$，$b_5 = 0.40$。\n\n可用的固定治疗名额为 $K = 3$ 个。医院施加了受差异原则启发的公平性约束：接受治疗的患者中至少有 $r = \\frac{1}{2}$ 的比例必须来自弱势群体。形式上，如果 $x_i \\in \\{0,1\\}$ 表示患者 $i$ 是否接受治疗，则分配方案必须满足 $\\sum_{i=1}^{5} x_i = K$ 和 $\\sum_{i: g_i=\\mathrm{D}} x_i \\geq \\lceil r K \\rceil$。\n\n任务：\n1. 根据上述原则，确定权重 $w_s$ 和 $w_b$，并计算所有五名患者的优先分数 $u_i$。\n2. 在满足供给和公平性约束的条件下，确定能够最大化总优先值 $\\sum_{i=1}^{5} u_i x_i$ 的分配向量 $x = (x_1, x_2, x_3, x_4, x_5)$。\n\n请将您的最终答案以单行矩阵的形式呈现，矩阵中依次包含五个优先分数 $(u_1,u_2,u_3,u_4,u_5)$ 和五个分配指标 $(x_1,x_2,x_3,x_4,x_5)$。无需四舍五入。", "solution": "该问题要求为五名患者确定一种稀缺医疗资源的最佳分配方案，该方案需遵循一套伦理原则和资源限制。此过程包括两个主要任务：首先，根据给定的权重计算每位患者的优先分数；其次，解决一个约束优化问题，以最大化接受治疗患者的总优先值。\n\n问题陈述的验证如下：\n1.  **已知条件提取**：\n    -   患者 $i$ 的优先指数：$u_i = w_s s_i + w_b b_i$。\n    -   效益指数：$b_i \\in [0,1]$。\n    -   严重性指数：$s_i \\in [0,1]$。\n    -   权重约束：$w_s, w_b \\geq 0$，$w_s + w_b = 1$，以及 $\\frac{w_b}{w_s} = \\frac{3}{2}$。\n    -   患者数据：\n        -   患者 $1$：$g_1 = \\mathrm{D}$，$s_1 = 0.90$，$b_1 = 0.30$。\n        -   患者 $2$：$g_2 = \\mathrm{ND}$，$s_2 = 0.20$，$b_2 = 0.95$。\n        -   患者 $3$：$g_3 = \\mathrm{D}$，$s_3 = 0.70$，$b_3 = 0.60$。\n        -   患者 $4$：$g_4 = \\mathrm{ND}$，$s_4 = 0.50$，$b_4 = 0.80$。\n        -   患者 $5$：$g_5 = \\mathrm{D}$，$s_5 = 0.85$，$b_5 = 0.40$。\n    -   总供给量：$K = 3$ 单位。\n    -   分配变量：$x_i \\in \\{0,1\\}$。\n    -   供给约束：$\\sum_{i=1}^{5} x_i = K = 3$。\n    -   公平性约束：$\\sum_{i: g_i=\\mathrm{D}} x_i \\geq \\lceil r K \\rceil$，其中 $r = \\frac{1}{2}$。\n    -   目标函数：最大化 $\\sum_{i=1}^{5} u_i x_i$。\n\n2.  **验证**：该问题是一个适定 (well-posed) 的整数线性规划问题。其前提是在一个形式化模型中以原则形式陈述的，而非经验事实的断言。所有必要的数据和约束都已提供，并且内部一致。该问题在数学上是合理的且可解的。因此，该问题被视为**有效**。\n\n### 第 1 部分：确定权重和优先分数\n\n权重 $w_s$ 和 $w_b$ 由以下两个线性方程组确定：\n1.  $w_s + w_b = 1$\n2.  $\\frac{w_b}{w_s} = \\frac{3}{2}$\n\n由第二个方程，我们得到 $w_b = \\frac{3}{2} w_s$。将其代入第一个方程：\n$$w_s + \\frac{3}{2} w_s = 1$$\n$$\\frac{5}{2} w_s = 1$$\n$$w_s = \\frac{2}{5} = 0.4$$\n\n现在，我们可以求出 $w_b$：\n$$w_b = 1 - w_s = 1 - \\frac{2}{5} = \\frac{3}{5} = 0.6$$\n权重为 $w_s = 0.4$ 和 $w_b = 0.6$。\n\n使用这些权重，每位患者 $i$ 的优先分数通过公式 $u_i = 0.4 s_i + 0.6 b_i$ 计算。\n-   $u_1 = 0.4(0.90) + 0.6(0.30) = 0.36 + 0.18 = 0.54$\n-   $u_2 = 0.4(0.20) + 0.6(0.95) = 0.08 + 0.57 = 0.65$\n-   $u_3 = 0.4(0.70) + 0.6(0.60) = 0.28 + 0.36 = 0.64$\n-   $u_4 = 0.4(0.50) + 0.6(0.80) = 0.20 + 0.48 = 0.68$\n-   $u_5 = 0.4(0.85) + 0.6(0.40) = 0.34 + 0.24 = 0.58$\n\n优先分数为：$u_1=0.54$，$u_2=0.65$，$u_3=0.64$，$u_4=0.68$，$u_5=0.58$。\n\n### 第 2 部分：最优分配\n\n优化问题是在给定约束条件下，找到一个分配向量 $x = (x_1, x_2, x_3, x_4, x_5)$，以最大化总优先值 $U = \\sum_{i=1}^{5} u_i x_i$。\n\n约束条件如下：\n1.  供给约束：$\\sum_{i=1}^{5} x_i = 3$。\n2.  公平性约束：弱势群体为 $\\mathrm{D} = \\{1, 3, 5\\}$。来自该群体的受治患者数量必须至少为 $\\lceil rK \\rceil = \\lceil \\frac{1}{2} \\times 3 \\rceil = \\lceil 1.5 \\rceil = 2$。因此，$x_1 + x_3 + x_5 \\geq 2$。\n3.  二元分配：对于所有 $i \\in \\{1,2,3,4,5\\}$，$x_i \\in \\{0,1\\}$。\n\n让我们按优先分数降序列出患者及其分数：\n1.  患者 $4$ ($u_4 = 0.68$，组别 $\\mathrm{ND}$)\n2.  患者 $2$ ($u_2 = 0.65$，组别 $\\mathrm{ND}$)\n3.  患者 $3$ ($u_3 = 0.64$，组别 $\\mathrm{D}$)\n4.  患者 $5$ ($u_5 = 0.58$，组别 $\\mathrm{D}$)\n5.  患者 $1$ ($u_1 = 0.54$，组别 $\\mathrm{D}$)\n\n公平性约束 ($x_1 + x_3 + x_5 \\geq 2$) 与供给约束 ($x_1 + x_2 + x_3 + x_4 + x_5 = 3$) 相结合，决定了三名受治患者群体的可能构成。设 $N_D$ 为来自 $\\mathrm{D}$ 组的受治患者数量，$N_{ND}$ 为来自 $\\mathrm{ND}$ 组的受治患者数量。我们必须满足 $N_D+N_{ND}=3$ 和 $N_D \\geq 2$。这允许两种情况：\n\n**情况 A：$N_D = 2$ 且 $N_{ND} = 1$。**\n为了最大化总优先值，我们必须从 $\\mathrm{D}$ 组中选择分数最高的两名患者，并从 $\\mathrm{ND}$ 组中选择分数最高的一名患者。\n-   $\\mathrm{D}$ 组的分数为 $\\{u_1, u_3, u_5\\} = \\{0.54, 0.64, 0.58\\}$。分数最高的两名是 $u_3=0.64$ 和 $u_5=0.58$。因此，我们选择患者 $3$ 和 $5$。\n-   $\\mathrm{ND}$ 组的分数为 $\\{u_2, u_4\\} = \\{0.65, 0.68\\}$。分数最高的是 $u_4=0.68$。因此，我们选择患者 $4$。\n-   分配方案是治疗患者 $3$、$4$ 和 $5$。\n-   分配向量为 $x = (0, 0, 1, 1, 1)$。\n-   总优先值为 $U_A = u_3 + u_4 + u_5 = 0.64 + 0.68 + 0.58 = 1.90$。\n\n**情况 B：$N_D = 3$ 且 $N_{ND} = 0$。**\n为了最大化总优先值，我们必须选择 $\\mathrm{D}$ 组中的所有三名患者。\n-   $\\mathrm{D}$ 组的分数为 $\\{0.54, 0.64, 0.58\\}$。\n-   分配方案是治疗患者 $1$、$3$ 和 $5$。\n-   分配向量为 $x = (1, 0, 1, 0, 1)$。\n-   总优先值为 $U_B = u_1 + u_3 + u_5 = 0.54 + 0.64 + 0.58 = 1.76$。\n\n比较两种可行情况下的总优先值，$U_A = 1.90$ 和 $U_B = 1.76$。最大总优先值为 $1.90$，在情况 A 中实现。\n\n因此，最优分配方案是治疗患者 $3$、$4$ 和 $5$。相应的分配向量是 $x = (x_1, x_2, x_3, x_4, x_5) = (0, 0, 1, 1, 1)$。\n\n最终答案要求先列出五个优先分数，再列出五个分配指标。\n-   优先分数：$(u_1, u_2, u_3, u_4, u_5) = (0.54, 0.65, 0.64, 0.68, 0.58)$\n-   分配指标：$(x_1, x_2, x_3, x_4, x_5) = (0, 0, 1, 1, 1)$", "answer": "$$\\boxed{\\begin{pmatrix} 0.54 & 0.65 & 0.64 & 0.68 & 0.58 & 0 & 0 & 1 & 1 & 1 \\end{pmatrix}}$$", "id": "4417440"}]}