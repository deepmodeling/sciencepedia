## 引言
在预防医学和流行病学研究中，准确量化疾病的发生频率是评估人群健康状况和干预效果的基石。然而，当研究对象随访时间长短不一，或人群成员不断变动时，简单地用期初人数作为分母来计算风险会产生严重偏倚。为了解决这一难题，“人时”（Person-time）概念应运而生，它提供了一种精确测量总风险暴露量的方法。

本文将系统地引导您深入理解“人时”这一核心概念。我们将从第一章 **“原理和机制”** 出发，剖析人时的基本定义、计算方法，阐明其与累积发病率的本质区别，并探讨如何处理删失数据等复杂情况。接着，在第二章 **“应用与跨学科联系”** 中，我们将展示人时如何在公共卫生干预评估、风险因素比较、卫生系统科学乃至[传染病](@entry_id:182324)动力学等多个领域发挥关键作用。最后，通过第三章 **“动手实践”** 中的具体练习，您将有机会亲手应用所学知识，巩固对人时计算的掌握。

通过本模块的学习，您将不仅掌握一个计算公式，更能建立起一个在动态人群中进行严谨定量分析的思维框架。让我们首先进入第一章，探索人时的基本原理和机制。

## 原理和机制

在流行病学和预防医学中，量化新发疾病（即“事件”）的发生频率是核心任务之一。为了衡量疾病发生的速率，我们不仅需要统计新发病例的数量（分子），还需要一个能准确反映整个人群风险暴露总量的分母。本章将深入探讨“人时”（Person-time）这一核心概念的原理和机制，它是构建发病率分母的基石，尤其是在随访时间不等或人群动态变化的队列研究中。

### 人时的基本概念：测量风险暴露时间

想象一下，我们想知道在一个城市中发生交通事故的“速率”。如果我们只知道一年内发生了1000起事故，这个数字本身意义有限。是城市规模大还是道路危险？为了得到有意义的速率，我们需要知道车辆在道路上行驶的总时长。如果总共有500万小时的驾驶时间，那么事故率就是 $1000 / 5000000$，即每小时$0.0002$起事故。这里的“驾驶总小时数”就类似于流行病学中的 **人时**。

**人时（Person-time）** 是指在一个研究队列中，所有研究对象处于可能发生目标事件的“风险状态”下的观察时间总和。它的基本单位是“人-时间单位”，如 **人年 (person-years)**、**人月 (person-months)** 或 **人天 (person-days)**。

计算个体贡献的人时很简单：它就是该个体处于风险状态下被观察的持续时间。一个研究对象的风险状态从其进入队列并符合研究标准时开始，到其发生目标事件、失访、或研究结束时终止 [@problem_id:4555099]。

例如，在一个为期3年的前瞻性队列研究中，我们观察了三名研究对象 [@problem_id:4555099]：
- **个体1**：在研究开始后$0.20$年加入队列，在$t=2.35$年时发生目标事件。他/她对总人时的贡献是 $2.35 - 0.20 = 2.15$ 人年。事件发生后，该个体不再处于发生“首次”事件的风险中，因此其观察时间终止。
- **个体2**：在研究开始时（$t=0.00$）加入，在$t=1.80$年时失访，失访前未发生事件。他/她贡献了 $1.80 - 0.00 = 1.80$ 人年。
- **个体3**：在$t=1.10$年加入，直到研究在$t=3.00$年结束时都未发生事件且未失访。他/她贡献了 $3.00 - 1.10 = 1.90$ 人年。

该队列的总人时就是所有个体贡献的人时之和：
$$ PT_{total} = 2.15 + 1.80 + 1.90 = 5.85 \text{ 人年} $$

一个常见的误区是认为当多个人的观察时间在日历上重叠时，需要进行某种“去重”处理。这是不正确的。人时的核心思想是，风险是由每个个体独立承担的。在一个特定的月份里，如果有两个人同时处于风险中，他们共同为研究贡献了2人月的风险暴露时间 [@problem_id:4619780]。因此，人时是所有个体风险时间的简单加和，它是一个关于个体经验的累积量度，而非日历时间的跨度。从数学上讲，总人时可以精确地定义为所有个体风险区间的长度（即 **勒贝格测度**）之和 [@problem_id:4555103]。

### 发病率与累积发病率的区分

有了人时的定义，我们便可以精确地区分两个衡量发病频率的核心指标：发病率（Incidence Rate）和累积发病率（Cumulative Incidence）。

**发病率（Incidence Rate, IR）**，又称 **发病密度（Incidence Density）**，定义为在特定时期内观察到的新发病例数除以同期观察的总人时。
$$ \text{发病率} (IR) = \frac{\text{新发病例数}}{\text{总人时}} $$
发病率是一个真正的“速率”，其单位是时间的倒数（例如，每人年、每1000人年）。它可以取任何非负值，理论上没有上限。

**累积发病率（Cumulative Incidence, CI）**，又称 **风险（Risk）**，定义为在特定时期内发生事件的个体数除以期初处于风险中的总人数。
$$ \text{累积发病率} (CI) = \frac{\text{新发病例数}}{\text{期初风险总人数}} $$
累积发病率是一个无量纲的比例，其值域在 $0$ 到 $1$ 之间，代表一个个体在特定时间段内发生事件的平均概率。

在风险较低（即事件稀少）且随访期较短的情况下，两者之间存在近似关系：$CI \approx IR \times \Delta t$。然而，当风险很高时，这种近似关系会迅速失效 [@problem_id:4555078]。

考虑一个高风险情景：一个包含100名工人的封闭队列，随访1年（365天）。在一年内，共有80名工人发生工伤。通过计算，我们发现总人时约为$33.08$人年。
- **累积发病率 (CI)** 为：$CI = \frac{80}{100} = 0.80$。这意味着在这一年里，一个工人的平均受伤风险为$80\%$。
- **发病率 (IR)** 为：$IR = \frac{80 \text{ 例}}{33.08 \text{ 人年}} \approx 2.42$ 例/人年。

这里的发病率$2.42$（大于1）清楚地表明，它不是一个概率。它意味着，平均而言，每观察一年的“人时”，就会发生超过两起事件。如果我们错误地使用近似公式，会得到 $IR \times \Delta t = 2.42 \times 1 = 2.42$，这是一个远大于真实风险$0.80$且无意义的数值。这个例子凸显了在高风险或随访时间较长（导致大量个体提前退出风险集）的情况下，发病率和累积发病率的根本区别。发病率通过人时分母精确地考虑了风险人群随时间减少的情况，而累积发病率则提供了一个关于整个时期总风险的直观总结，但它依赖于一个固定的期初分母。

### 在动态队列中计算人时

流行病学研究中的队列很少是完全固定的。**封闭队列（closed cohort）** 在研究开始时确定成员，之后不再有新成员加入。而 **开放队列（open cohort）** 或 **动态人群（dynamic population）** 则允许成员在研究期间随时进入（如新员工入职）或退出（如退休、迁出）[@problem_id:4555130]。

对于开放队列，由于成员数量和构成不断变化，使用期初人数作为分母来计算累积发病率是不合适的。人时法则成为衡量发病速率的唯一恰当工具。计算开放队列的总人时，通常需要将整个研究时程根据队列成员变动的时间点分割成若干个子区间。在每个子区间内，风险人数是恒定的。

例如，一项为期12个月的职业性皮炎发病率研究 [@problem_id:4555130]：
- **第1-2个月**：期初有100名工人，贡献了 $100 \times 2 = 200$ 人月。
- **第3个月**：月初有3例新发病例，风险人数降至97人，贡献了 $97 \times 1 = 97$ 人月。
- **第4-6个月**：月初新增20名工人，风险人数增至 $97 + 20 = 117$ 人，此期间贡献了 $117 \times 3 = 351$ 人月。
- ……以此类推，将所有区间的贡献加总，即可得到总人时。若总共发生8例病例，总人时为1213人月（约101.1人年），则发病率为 $\frac{8}{101.1} \approx 0.079$ 例/人年，或$7.9$例/100人年。

### 删失与截断对人时计算的影响

在真实世界的研究中，我们很少拥有每个研究对象的完整信息。数据的不完整性主要表现为 **删失（censoring）** 和 **截断（truncation）**，正确处理它们对人时计算至关重要 [@problem_id:4555075]。

- **右删失（Right Censoring）**：当一个研究对象的随访在其发生目标事件前就终止时，我们称其数据为右删失。这可能因为失访、因其他原因死亡或研究行政性结束。在计算人时时，该个体贡献的时间应计算到其被删失的那一刻为止。例如，一个在第5年失访的个体，贡献了5人年的风险时间。

- **左截断（Left Truncation）** 或 **延迟进入（Delayed Entry）**：当个体在暴露于风险因素一段时间后才进入研究队列时，就会发生左截断。例如，一个关于50岁后高血压风险的研究，招募了一名52岁的参与者 [@problem_id:4555150]。这名参与者在50-52岁之间的风险状态是未知的，我们只知道他/她“幸存”到了52岁仍未患病。因此，他/她的人时贡献只能从52岁开始计算。

- **[区间删失](@entry_id:636589)（Interval Censoring）**：当事件的发生时间不精确，只知道它落在一个时间区间内时（例如，在两次年度体检之间），就发生了[区间删失](@entry_id:636589)。处理这种情况有多种方法，最简单的是将事件时间归于区间的终点（这会高估人时，从而低估发病率）或中点（在风险恒定的假设下是一种较好的近似）。

处理这些不完整数据的核心假设是 **独立删失（Independent Censoring）** [@problem_id:4555117] [@problem_id:4555150]。该假设认为，在任何时间点，一个个体被删失的概率与其未来的事件风险无关。换言之，失访的个体与继续接受观察的个体在风险上是相似的。如果这个假设不成立（即 **信息性删失**，informative censoring），例如，病情加重的个体更可能失访，那么简单的人时计算将导致对真实发病率的偏倚估计（通常是低估）。

### 时间尺度的选择及其意义

人时分析的强大之处在于其灵活性，它可以在不同的 **时间尺度（time scales）** 上进行，而时间尺度的选择直接关系到对混杂因素的控制 [@problem_id:4555134]。

1.  **进入研究后时间（Time-since-entry）**：这是最简单的时间尺度，将所有研究对象的“时间零点”对齐到他们各自进入研究的时刻。这在随机对照试验中尤其有用，因为所有人都从相似的基线开始接受干预。然而，这个尺度本身并不能控制年龄或日历时间带来的混杂。例如，在同一“进入后1年”这个时间点，不同参与者的实际年龄和所处的日历年份可能大相径庭。

2.  **年龄（Age）**：当疾病风险主要与生物学年龄相关时（如多数慢性病），使用年龄作为时间尺度是控制年龄混杂最自然、最有效的方法。此时，一个人的随访时间会被切割并分配到不同的年龄段（如40-44岁，45-49岁）。例如，一个从49.6岁随访到51.2岁的个体，他/她的人时贡献将被分割：$0.4$年贡献给45-49岁年龄组，1.2年贡献给50-54岁年龄组 [@problem_id:4555150]。

3.  **日历时间（Calendar Time）**：当疾病风险可能受外部“时期效应”影响时（如新的诊疗技术推广、环境污染事件、[公共卫生政策](@entry_id:185037)变化），应使用日历时间作为尺度。此时，个体的随访时间会被分配到不同的日历年份或月份中。这有助于分析和控制所谓的“时期效应”。

在实践中，研究者会选择一个作为主要时间尺度，并将其他时间变量作为协变量纳入[统计模型](@entry_id:755400)（如[Cox比例风险模型](@entry_id:174252)）中进行调整，以获得更准确的[风险估计](@entry_id:754371)。

### 高级应用与解释

#### 时变暴露与对齐原则

在许多研究中，个体的暴露状态并非一成不变。例如，一个人可能在研究期间开始服药、戒烟或接种疫苗。对于这种 **时变暴露（time-varying exposure）**，计算暴露特异性发病率时必须遵循 **对齐原则（principle of alignment）** [@problem_id:4619787]。

该原则要求：分子中的事件必须发生在分母所对应的暴露状态期间。一个人的观察时间可以根据其暴露状态的改变而被分割。例如，在疫苗效果研究中，一个人的随访期可能被分为“未接种”和“已接种”两个部分。如果疫苗接种后有14天的免疫诱导期，那么“已接种”人时只能从接种后第15天算起。如果一个事件发生在这14天内，它必须被归类为“未接种”组的事件，其贡献的人时也属于“未接种”组。错误地将事件或人时归类会导致对暴露效应的严重偏倚估计。

#### 发病实力与理论解释

从更理论的视角看，流行病学家所测量的发病率，是在估计一个潜在的、瞬时的风险参数，称为 **发病实力（force of infection）** 或 **风险率（hazard rate）**, 通常用 $\lambda(t)$ 表示 [@problem_id:4555123]。$\lambda(t)$ 的精确定义是在时间 $t$ 仍然处于风险状态的条件下，在下一个极小时间单位内发生事件的瞬时概率。
$$ \lambda(t) = \lim_{\Delta t \to 0} \frac{P(\text{在 } [t, t+\Delta t) \text{ 内发生事件} \mid \text{在 } t \text{ 时仍处于风险中})}{\Delta t} $$
当我们计算一个时期内的总发病率 $IR = D/PT$ 时，我们实际上是在假设 $\lambda(t)$ 在该时期内为一个常数 $\lambda$，而我们计算出的 $IR$ 就是这个常数 $\lambda$ 的估计值 $\hat{\lambda}$。这一视角将人时发病率从一个简单的描述性统计量，提升为一个旨在推断潜在疾病过程动态的[参数估计](@entry_id:139349)值。

#### 总结：有效人时分析的核心假设

综上所述，要通过人时聚合方法得到一个无偏的发病率估计，必须依赖于几个核心假设 [@problem_id:4555117]：
1.  **正确的风险集定义**：人时分母必须只包含那些真正处于风险中（即易感且尚未发生事件或竞争性事件）的个体所贡献的时间。
2.  **独立删失**：个体的删失（如失访）必须独立于其未来的事件风险。这是为了保证在任何时间点，队列中剩下的人能够代表所有本应被观察的人的风险状况。
3.  **时间区间的不重叠可加性**：对于任何一个个体，其贡献的总人时必须是其所有不重叠的风险时间段的总和。任何形式的时间重复计算都会人为地夸大分母，从而低估真实的发病率。

掌握人时的概念及其背后的原理和假设，是进行严谨的队列研究和准确解读发病风险数据的关键技能。