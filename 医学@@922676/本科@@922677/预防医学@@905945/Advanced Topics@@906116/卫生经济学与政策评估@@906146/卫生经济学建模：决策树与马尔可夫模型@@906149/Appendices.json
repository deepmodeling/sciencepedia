{"hands_on_practices": [{"introduction": "卫生经济学模型的核心在于权衡不同干预措施的成本与效果。本练习将通过一个经典的决策树场景，指导您计算两种策略的预期成本和预期效用。通过运用净货币获益这一关键决策准则，您将学会如何在资源有限的情况下，做出符合成本效益原则的优先选择。[@problem_id:4531071]", "problem": "一个预防医学项目正在使用决策树评估一个为期一年的疾病管理方案的两种策略。策略A是一种筛查测试，有两种可能的结果：早期发现（概率为 $0.3$）和漏检（概率为 $0.7$）。如果实现早期发现，则即时成本为 $500 美元，个人的单年健康相关质量量化为 $0.9$ 个质量调整生命年（Quality-Adjusted Life Year, QALY）。如果漏检，则即时成本为 $200 美元，单年 QALY 为 $0.7$。策略B不进行测试，只有一个结果：成本为 $0 美元，单年 QALY 为 $0.8$。使用离散随机变量期望值的定义，计算每种策略的预期单年成本和预期单年 QALY。然后，使用支付意愿阈值下的净货币效益概念，在每个 QALY 的支付意愿为 $\\lambda=\\$50{,}000$ 的情况下比较这些策略，以确定哪种策略更优。最后，报告净货币效益差值，其定义为策略B的净货币效益减去策略A的净货币效益。将报告的差值四舍五入到四位有效数字，并以美元（USD）表示。", "solution": "问题陈述是健康经济学建模中一个明确定义的练习，特别是使用了决策分析。它提供了所有必要的参数，并清晰地定义了目标。它在科学上基于决策理论、期望值以及使用净货币效益的成本效益分析原则。该问题是自洽的、内部一致的且没有歧义。因此，它被认为是有效的。\n\n该问题要求计算两种策略的预期成本和质量调整生命年（QALYs），然后使用净货币效益（NMB）框架和特定的支付意愿阈值进行比较。\n\n首先，我将以符号形式定义给定的参数。\n\n对于策略A（筛查测试）：\n- 早期发现的概率：$p_{ed} = 0.3$\n- 早期发现的成本：$C_{ed} = 500$ 美元\n- 早期发现的QALYs：$Q_{ed} = 0.9$\n- 漏检的概率：$p_{md} = 0.7$\n- 漏检的成本：$C_{md} = 200$ 美元\n- 漏检的QALYs：$Q_{md} = 0.7$\n请注意，策略A的两种结果的概率之和为1：$p_{ed} + p_{md} = 0.3 + 0.7 = 1$。\n\n对于策略B（不测试）：\n- 不测试的成本：$C_B = 0$ 美元\n- 不测试的QALYs：$Q_B = 0.8$\n\n支付意愿阈值给定为 $\\lambda = 50,000$ 美元/QALY。\n\n分析分为四个步骤：\n1. 计算策略A的预期成本和预期QALY。\n2. 确定策略B的预期成本和预期QALY。\n3. 计算每种策略的净货币效益（NMB）。\n4. 按规定计算NMB的差值。\n\n步骤1：策略A的期望值\n离散随机变量的期望值是每个结果的值乘以其概率的总和。\n策略A的预期成本，记为 $E[C_A]$，计算如下：\n$$E[C_A] = (p_{ed} \\times C_{ed}) + (p_{md} \\times C_{md})$$\n代入给定值：\n$$E[C_A] = (0.3 \\times 500) + (0.7 \\times 200) = 150 + 140 = 290$$\n所以，策略A的预期成本为 $290$ 美元。\n\n策略A的预期QALYs，记为 $E[Q_A]$，计算方法类似：\n$$E[Q_A] = (p_{ed} \\times Q_{ed}) + (p_{md} \\times Q_{md})$$\n代入给定值：\n$$E[Q_A] = (0.3 \\times 0.9) + (0.7 \\times 0.7) = 0.27 + 0.49 = 0.76$$\n所以，策略A的预期QALYs为 $0.76$。\n\n步骤2：策略B的期望值\n策略B只有一个结果，其发生概率为 $1$。因此，其期望值就是该单一结果的值。\n策略B的预期成本是 $E[C_B] = C_B = 0$ 美元。\n策略B的预期QALYs是 $E[Q_B] = Q_B = 0.8$。\n\n步骤3：净货币效益计算\n净货币效益（NMB）是用于评估成本效益的指标。其定义为：\n$$NMB = (\\lambda \\times E[Q]) - E[C]$$\n如果一个策略的NMB高于另一个策略，则认为该策略相对于另一个策略具有成本效益。\n\n对于策略A，NMB为：\n$$NMB_A = (\\lambda \\times E[Q_A]) - E[C_A]$$\n代入计算出的期望值和给定的 $\\lambda$：\n$$NMB_A = (50,000 \\times 0.76) - 290 = 38,000 - 290 = 37,710$$\n策略A的NMB为 $37,710$ 美元。\n\n对于策略B，NMB为：\n$$NMB_B = (\\lambda \\times E[Q_B]) - E[C_B]$$\n代入数值：\n$$NMB_B = (50,000 \\times 0.8) - 0 = 40,000 - 0 = 40,000$$\n策略B的NMB为 $40,000$ 美元。\n\n步骤4：比较与最终计算\n比较两种策略的NMB，我们发现 $NMB_B > NMB_A$（$40,000 > 37,710$）。这表明在给定的支付意愿阈值下，策略B（不测试）是更优的策略。\n\n问题要求计算净货币效益差值，定义为 $NMB_B - NMB_A$。\n$$\\text{Difference} = NMB_B - NMB_A = 40,000 - 37,710 = 2,290$$\n差值为 $2,290$ 美元。问题要求将此结果四舍五入到四位有效数字。数字 $2,290$ 是一个精确的整数。它可以写成 $2.290 \\times 10^3$，这明确地显示了四位有效数字，假设尾随的零是有效的。在要求四舍五入到指定精度的背景下，将结果视为具有四位有效数字的 $2290$ 是正确的解释。", "answer": "$$\\boxed{2290}$$", "id": "4531071"}, {"introduction": "当需要模拟疾病随时间发展的过程时，马尔可夫模型便成为不可或缺的工具。这个练习将带您从零开始构建一个马尔可夫模型的核心——转移概率矩阵。通过计算初始队列在一个周期后的分布，您将掌握马尔可夫模型如何模拟人群健康状态动态变化的基本原理。[@problem_id:4531055]", "problem": "一个公共卫生团队正在建立一个离散时间队列马尔可夫模型，以支持针对一种慢性病的预防医学决策分析。该模型有 $3$ 个互斥且穷尽的健康状态：健康（$H$）、患病（$D$）和死亡（$X$）。周期长度为一年。为了进行项目规划，该团队根据监测数据和临床判断，指定了以下科学上合理的单周期转移概率：\n\n- 从 $H$ 状态出发：在一个周期内，新发疾病的概率为 $0.04$，死亡的概率为 $0.01$。\n- 从 $D$ 状态出发：在一个周期内，缓解至 $H$ 状态的概率为 $0.15$，死亡的概率为 $0.05$。\n- 从 $X$ 状态出发：该状态为吸收态。\n\n仅使用卫生经济学中离散时间马尔可夫队列模型的基本定义（行代表当前状态的起点，且行和必须为 $1$；吸收态满足 $p_{XX}=1$ 和 $p_{Xj}=0$（对于 $j \\neq X$）），以 $(H,D,X)$ 的状态顺序构建一个有效的 $3 \\times 3$ 转移概率矩阵 $P$。然后，假设初始队列分布完全为健康，表示为行向量 $s_{0} = [1,\\,0,\\,0]$（状态顺序相同），确定单周期后的队列分布 $s_{1}$。\n\n仅报告单周期队列分布向量 $s_{1}$，顺序为 $(H,D,X)$。不要四舍五入；按规定提供精确的小数值。", "solution": "问题陈述已经过验证，被认为是有效的。它有科学依据、良定、客观，并包含足够的信息以推导出唯一且无矛盾的解。\n\n问题要求为离散时间队列马尔可夫模型构建一个 $3 \\times 3$ 的单周期转移概率矩阵 $P$，并计算一个周期后的队列分布 $s_1$。健康状态的顺序为健康（$H$）、患病（$D$）和死亡（$X$）。\n\n转移矩阵 $P$ 的构建方式使其元素 $P_{ij}$ 表示在一个周期内从状态 $i$ 转移到状态 $j$ 的概率。随机矩阵的一个基本性质是每行概率之和必须等于 $1$。\n\n首先，我们确定 $P$ 的第一行，它对应于从健康（$H$）状态出发的转移。我们已知：\n- 从健康转移到患病的概率，$p_{HD} = 0.04$。\n- 从健康转移到死亡的概率，$p_{HX} = 0.01$。\n\n保持在健康状态的概率 $p_{HH}$，通过确保该行之和为 $1$ 来计算：\n$$p_{HH} + p_{HD} + p_{HX} = 1$$\n$$p_{HH} = 1 - p_{HD} - p_{HX} = 1 - 0.04 - 0.01 = 0.95$$\n因此，矩阵 $P$ 的第一行是 $\\begin{pmatrix} 0.95  0.04  0.01 \\end{pmatrix}$。\n\n其次，我们确定 $P$ 的第二行，它对应于从患病（$D$）状态出发的转移。我们已知：\n- 从患病转移到健康（缓解）的概率，$p_{DH} = 0.15$。\n- 从患病转移到死亡的概率，$p_{DX} = 0.05$。\n\n保持在患病状态的概率 $p_{DD}$ 为：\n$$p_{DD} + p_{DH} + p_{DX} = 1$$\n$$p_{DD} = 1 - p_{DH} - p_{DX} = 1 - 0.15 - 0.05 = 0.80$$\n因此，矩阵 $P$ 的第二行是 $\\begin{pmatrix} 0.15  0.80  0.05 \\end{pmatrix}$。\n\n第三，我们确定 $P$ 的第三行，它对应于从死亡（$X$）状态出发的转移。状态 $X$ 被定义为吸收态。这意味着一旦队列中的成员进入此状态，他们就不能离开。因此：\n- 保持在死亡状态的概率是 $p_{XX} = 1$。\n- 从死亡转移到任何其他状态的概率均为零：$p_{XH} = 0$ 和 $p_{XD} = 0$。\n因此，矩阵 $P$ 的第三行是 $\\begin{pmatrix} 0  0  1 \\end{pmatrix}$。\n\n结合这些行，完整的转移概率矩阵 $P$ 是：\n$$P = \\begin{pmatrix} p_{HH}  p_{HD}  p_{HX} \\\\ p_{DH}  p_{DD}  p_{DX} \\\\ p_{XH}  p_{XD}  p_{XX} \\end{pmatrix} = \\begin{pmatrix} 0.95  0.04  0.01 \\\\ 0.15  0.80  0.05 \\\\ 0  0  1 \\end{pmatrix}$$\n\n初始队列分布以行向量 $s_0$ 的形式给出，其中队列完全健康：\n$$s_0 = \\begin{pmatrix} 1  0  0 \\end{pmatrix}$$\n\n一个周期后的队列分布 $s_1$ 是通过将初始状态向量 $s_0$ 右乘转移矩阵 $P$ 得到的：\n$$s_1 = s_0 P$$\n$$s_1 = \\begin{pmatrix} 1  0  0 \\end{pmatrix} \\begin{pmatrix} 0.95  0.04  0.01 \\\\ 0.15  0.80  0.05 \\\\ 0  0  1 \\end{pmatrix}$$\n\n矩阵乘法得出：\n$s_1$ 的第一个分量：$(1)(0.95) + (0)(0.15) + (0)(0) = 0.95$。\n$s_1$ 的第二个分量：$(1)(0.04) + (0)(0.80) + (0)(0) = 0.04$。\n$s_1$ 的第三个分量：$(1)(0.01) + (0)(0.05) + (0)(1) = 0.01$。\n\n因此，单周期队列分布向量 $s_1$ 是：\n$$s_1 = \\begin{pmatrix} 0.95  0.04  0.01 \\end{pmatrix}$$\n该向量分别表示一年后队列中处于健康、患病和死亡状态的比例。其分量之和为 $0.95 + 0.04 + 0.01 = 1$，满足概率分布的要求。", "answer": "$$\\boxed{\\begin{pmatrix} 0.95  0.04  0.01 \\end{pmatrix}}$$", "id": "4531055"}, {"introduction": "马尔可夫模型的准确性依赖于其参数的精确性，而这些参数通常来源于流行病学数据，如发病率。本练习聚焦于一个关键的转化步骤：如何将连续时间的年发病率转换为离散时间模型中的周期转移概率。掌握这个基于生存分析原理的转换方法，对于构建与现实世界数据相符的、严谨的健康经济学模型至关重要。[@problem_id:4530953]", "problem": "一家公共卫生机构正在使用一个季度周期的离散时间马尔可夫状态转移模型（MSTM）来评估一项预防性干预措施。个体在周期开始时处于无事件状态。对于对照组（无干预），流行病学监测表明，目标人群首次事件的恒定年发病率等于 $\\lambda = 0.05$ 事件/人年。假设事件遵循一个具有恒定风险率的无记忆过程，并且首次事件的等待时间呈指数分布。周期长度为 $\\Delta t = 0.25$ 年。从恒定风险下生存函数的基本定义以及一个周期内生存与转移概率之间的关系出发，推导从无事件状态到事件状态的每周期转移概率的表达式，并计算其数值。将最终答案表示为小数，并四舍五入至六位有效数字。", "solution": "用户希望我解决一个关于推导马尔可夫状态转移模型中转移概率的问题。\n\n### 问题验证\n\n**第1步：提取给定信息**\n-   模型：离散时间马尔可夫状态转移模型 (MSTM)\n-   周期频率：季度周期\n-   初始状态：无事件\n-   对照组：无干预\n-   年发病率（恒定风险率）：$\\lambda = 0.05$ 事件/人年\n-   随机过程：无记忆过程（首次事件的等待时间呈指数分布）\n-   周期长度：$\\Delta t = 0.25$ 年\n-   任务1：推导从无事件状态到事件状态的每周期转移概率的表达式。\n-   任务2：计算此概率的数值。\n-   输出要求：将最终数值答案四舍五入至六位有效数字。\n\n**第2步：使用提取的给定信息进行验证**\n-   **科学依据**：该问题在科学上是合理的。它使用了生存分析和随机过程（恒定风险率、指数分布、泊松过程）中的标准概念，并将其应用于卫生经济学建模（马尔可夫状态转移模型）。将连续时间速率转换为离散时间转移概率是该领域一个基础且完善的程序。\n-   **良构性**：该问题是良构的。它提供了所有必要的参数（$\\lambda$ 和 $\\Delta t$）和一组明确的假设（恒定风险率），以推导出转移概率的唯一、有意义的解。\n-   **客观性**：该问题以流行病学和数学建模中常见的精确、客观和定量的术语陈述。没有歧义或主观性。\n-   **其他缺陷**：该问题是完整的、一致的且现实的。它并非微不足道，因为它要求正确理解连续时间风险率与离散时间概率之间的关系，避免常见但错误的线性近似。\n\n**第3步：结论与行动**\n问题有效。将进行求解过程。\n\n### 解题推导\n\n该问题要求推导从“无事件”状态到“事件”状态的每周期转移概率。此推导始于支配具有恒定风险率的无记忆过程的基本原理。\n\n$1$. **风险率与生存函数：**\n问题指出该过程具有恒定的风险率，用 $\\lambda$ 表示。风险率 $h(t)$ 表示在个体到时间 $t$ 为止一直处于无事件状态的条件下，在时间 $t$ 发生事件的瞬时风险。对于本问题，$h(t) = \\lambda$ 对所有 $t \\geq 0$ 成立。\n\n生存函数 $S(t)$ 是指个体在时间 $t$ 之后仍保持无事件状态的概率。它通过以下通用方程与风险率相关：\n$$S(t) = \\exp\\left(-\\int_0^t h(u) \\, du\\right)$$\n鉴于风险率为常数 $\\lambda$，积分简化为：\n$$\\int_0^t \\lambda \\, du = \\lambda t$$\n因此，具有恒定风险率 $\\lambda$ 的过程的生存函数为：\n$$S(t) = \\exp(-\\lambda t)$$\n这证实了问题陈述中首次事件的等待时间呈指数分布的条件，因为这是速率参数为 $\\lambda$ 的指数分布的生存函数。\n\n$2$. **转移概率的推导：**\n我们需要找到在一个持续时间为 $\\Delta t$ 的单周期内，从“无事件”状态转移到“事件”状态的转移概率，我们称之为 $p$。\n\n个体在周期开始时处于无事件状态。如果在长度为 $\\Delta t$ 的时间间隔内的任何时刻发生事件，则会发生向“事件”状态的转移。发生这种情况的概率是周期内*不*发生事件的概率的补集。\n\n在周期内*不*发生事件的概率（即在整个 $\\Delta t$ 期间保持无事件状态）根据定义是在时间 $\\Delta t$ 的生存概率，即 $S(\\Delta t)$。\n$$S(\\Delta t) = \\exp(-\\lambda \\Delta t)$$\n$S(\\Delta t)$ 这一项代表在一个周期内保持在“无事件”状态的转移概率。\n\n因此，从“无事件”状态转移到“事件”状态的概率 $p$ 是 $1$ 减去保持在“无事件”状态的概率：\n$$p = 1 - S(\\Delta t)$$\n代入生存函数的表达式，我们得到每周期转移概率的推导表达式：\n$$p = 1 - \\exp(-\\lambda \\Delta t)$$\n\n$3$. **数值计算：**\n问题提供了以下数值：\n-   年发病率（恒定风险率）：$\\lambda = 0.05$ 年$^{-1}$\n-   周期长度：$\\Delta t = 0.25$ 年\n\n将这些值代入推导出的表达式中：\n$$p = 1 - \\exp(-0.05 \\times 0.25)$$\n首先，我们计算指数部分：\n$$\\lambda \\Delta t = 0.05 \\times 0.25 = 0.0125$$\n现在，我们计算概率：\n$$p = 1 - \\exp(-0.0125)$$\n计算指数项的值：\n$$\\exp(-0.0125) \\approx 0.98757753906$$\n最后，我们计算 $p$：\n$$p \\approx 1 - 0.98757753906 = 0.01242246094$$\n\n问题要求将答案四舍五入至六位有效数字。第一个有效数字是百分位上的 $1$。我们从那里数六位数字：$1, 2, 4, 2, 2, 4$。第七位数字是 $6$。由于 $6 \\geq 5$，我们将最后一个有效数字（$4$）向上取整为 $5$。\n$$p \\approx 0.0124225$$\n这是每周期转移概率所要求的数值。", "answer": "$$\\boxed{0.0124225}$$", "id": "4530953"}]}