{"hands_on_practices": [{"introduction": "社区诊断的核心任务不仅是统计病例数量，更是要理解导致健康问题的风险因素。本练习将介绍两种基础的流行病学测量指标：风险差（Risk Difference, $RD$）和相对风险（Relative Risk, $RR$），它们从不同但互补的角度揭示了暴露与健康结局之间的关联。理解这两种指标对于有效设定公共卫生干预的优先级至关重要。[@problem_id:4512809]", "problem": "一个中等规模地区的社区健康评估团队正在评估呼吸系统健康需求，以指导即将出台的《慢性呼吸系统疾病行动计划》。在为期 $12$ 个月的时间里，他们观察到每日吸烟者患慢性咳嗽的累积风险为 $0.30$，非吸烟者为 $0.10$。请使用暴露组与非暴露组之间绝对和相对比较的基本流行病学定义，计算比较吸烟与不吸烟的风险绝对差异度量和相对风险度量，然后解释每种度量如何为社区诊断和优先次序设定提供信息。请将两种度量的计算值以小数形式报告，不带百分号。提供精确值，不要四舍五入。", "solution": "首先将对问题陈述的科学合理性、清晰性和完整性进行验证。\n\n### 步骤 1：提取已知信息\n-   观察期：$12$ 个月。\n-   每日吸烟者（暴露组）患慢性咳嗽的累积风险：$0.30$。\n-   非吸烟者（非暴露组）患慢性咳嗽的累积风险：$0.10$。\n-   任务 1：计算风险绝对差异的度量。\n-   任务 2：计算相对风险的度量。\n-   任务 3：解释每种度量如何为社区诊断和优先次序设定提供信息。\n\n### 步骤 2：使用提取的已知信息进行验证\n1.  **科学依据**：该问题基于流行病学的基本原理。累积风险（也称为累积发病率或风险）、风险差和相对风险的概念是公共卫生和预防医学中用于衡量疾病频率和关联的标准度量。\n2.  **定义明确**：该问题定义明确。它提供了计算所需度量所有必要的数据（暴露组和非暴露组的风险）。所提问题具体，并根据标准的流行病学公式有唯一、明确的答案。\n3.  **客观性**：该问题以客观、科学的语言陈述，没有偏见或主观论断。\n4.  **完整性与一致性**：所提供的数据充分且一致，没有矛盾之处。\n5.  **现实性**：社区健康评估的场景以及给定的慢性咳嗽风险值（吸烟者为 $0.30$，非吸烟者为 $0.10$）在现实世界中是合理的。\n\n### 步骤 3：结论与行动\n该问题有效。这是一个标准的、定义明确的流行病学问题。将提供完整的解答。\n\n### 解答\n\n该问题要求计算两种基本的流行病学关联度量——一种是绝对的，一种是相对的——并解释它们在公共卫生实践中的效用。让我们用符号来定义所给出的术语。\n\n设 $R_{exp}$ 为暴露组（每日吸烟者）中结局（慢性咳嗽）的累积风险。\n设 $R_{unexp}$ 为非暴露组（非吸烟者）中结局的累积风险。\n\n根据问题陈述，我们已知：\n$$R_{exp} = 0.30$$\n$$R_{unexp} = 0.10$$\n\n**1. 风险绝对差异度量的计算**\n\n风险绝对差异的度量被称为**风险差（RD）**，也称为暴露组的归因风险。它量化了暴露组中由暴露引起的超额风险。其公式为：\n$$RD = R_{exp} - R_{unexp}$$\n代入给定值：\n$$RD = 0.30 - 0.10 = 0.20$$\n风险绝对差异为 $0.20$。\n\n**2. 相对风险度量的计算**\n\n相对风险的度量被称为**相对风险（RR）**或**风险比**。它通过指出暴露组发生结局的可能性是非暴露组的多少倍，来量化暴露与结局之间关联的强度。其公式为：\n$$RR = \\frac{R_{exp}}{R_{unexp}}$$\n代入给定值：\n$$RR = \\frac{0.30}{0.10} = 3.0$$\n相对风险为 $3.0$。\n\n**3. 对社区诊断和优先次序设定的解释**\n\n风险差（RD）和相对风险（RR）都为社区健康评估和设定公共卫生优先次序提供了关键但不同的信息。\n\n**风险差（RD）**：\n计算出的 $RD$ 为 $0.20$，是衡量**公共卫生影响**的指标。它代表了因吸烟导致的慢性咳嗽的绝对超额风险。这个值意味着，在 $12$ 个月内，每 $100$ 名每日吸烟者中，比假如他们是非吸烟者所预期发生的病例数多出 $20$ 例慢性咳嗽病例。对于社区诊断，RD 直接估计了人群中由暴露所致的疾病负担。在设定优先次序时，RD 非常宝贵，因为它有助于量化如果从人群中消除该暴露可能预防的疾病病例数。一个大的 RD，即使 RR 不高，也指向一个需要干预的重大公共卫生问题，因为一个成功的项目可以避免大量病例。\n\n**相对风险（RR）**：\n计算出的 $RR$ 为 $3.0$，是衡量**关联强度**的指标。它表明在 $12$ 个月内，每日吸烟者患慢性咳嗽的可能性是非吸烟者的 $3$ 倍。对于社区诊断，高 RR 为暴露（吸烟）与结局（慢性咳嗽）之间的因果关系提供了强有力的证据。它是向公众和决策者沟通风险的有力工具，因为它清晰地说明了与暴露相关的增加的危险。在设定优先次序时，高 RR 有助于识别病因学上重要的风险因素。虽然它不像 RD 那样直接衡量干预措施将预防的病例数，但它加强了针对特定风险因素的理由，尤其是在为行动计划建立科学依据时。\n\n总而言之，该健康评估团队将使用 $RR=3.0$ 来论证吸烟是其所在地区慢性咳嗽的一个强有力原因。然后，他们将使用 $RD=0.20$ 来估计戒烟计划的潜在影响，论证这样的干预措施可以为每 $100$ 名戒烟的吸烟者预防 $20$ 例慢性咳嗽病例，从而为资源分配和项目规划提供量化基础。", "answer": "$$\\boxed{\\begin{pmatrix} 0.20  3.0 \\end{pmatrix}}$$", "id": "4512809"}, {"introduction": "在识别出关键的健康问题及其风险因素后，下一步通常是考虑实施筛查项目。然而，没有任何检测是完美的。本实践将指导您计算筛查试验的关键性能指标，并重点阐述试验在真实世界中的应用价值——即其预测值（Predictive Values）——如何关键地取决于被测社区中的疾病患病率（prevalence, $\\pi$）。[@problem_id:4512781]", "problem": "某地方卫生部门正在进行社区需求评估，以规划一项针对某种慢性病的预防性筛查项目。一项筛查测试已在先前的研究中得到验证，已知其灵敏度 $Se = 0.90$ 和特异度 $Sp = 0.95$。社区监测系统估计目标人群中该病的患病率为 $\\pi = 0.10$。仅使用灵敏度、特异度、患病率、条件概率和贝叶斯定理（结合全概率定律）的基本定义，推导出阳性预测值 (PPV) 和阴性预测值 (NPV) 关于 $Se$、$Sp$ 和 $\\pi$ 的表达式，然后计算给定参数下的数值。按 $(Se, Sp, PPV, NPV)$ 的顺序报告这四个量，以小数形式表示。将您的答案四舍五入到四位有效数字。不要使用百分号。", "solution": "该问题要求在给定筛查测试的灵敏度 ($Se$)、特异度 ($Sp$) 和人群中该病的患病率 ($\\pi$) 的情况下，推导阳性预测值 ($PPV$) 和阴性预测值 ($NPV$)，然后进行数值计算。推导将基于这些量的基本定义和贝叶斯定理。\n\n首先，我们定义相关事件：\n- $D$: 个体患有该慢性病的事件。\n- $\\neg D$: 个体未患该病的事件。\n- $T^+$: 筛查测试结果为阳性的事件。\n- $T^-$: 筛查测试结果为阴性的事件。\n\n问题提供了以下概率：\n- 患病率：$\\pi = P(D) = 0.10$。因此，未患病的概率为 $P(\\neg D) = 1 - P(D) = 1 - \\pi = 1 - 0.10 = 0.90$。\n- 灵敏度：$Se = P(T^+ | D) = 0.90$。这是在个体患病的情况下测试结果为阳性的概率。假阴性率为 $P(T^- | D) = 1 - Se = 1 - 0.90 = 0.10$。\n- 特异度：$Sp = P(T^- | \\neg D) = 0.95$。这是在个体未患病的情况下测试结果为阴性的概率。假阳性率为 $P(T^+ | \\neg D) = 1 - Sp = 1 - 0.95 = 0.05$。\n\n需要推导的量定义如下：\n- 阳性预测值：$PPV = P(D | T^+)$，即测试结果为阳性的个体确实患有该病的概率。\n- 阴性预测值：$NPV = P(\\neg D | T^-)$，即测试结果为阴性的个体确实未患该病的概率。\n\n我们将使用贝叶斯定理来推导 $PPV$ 和 $NPV$ 的表达式。对于给定 $T^+$ 的事件 $D$，贝叶斯定理为：\n$$PPV = P(D | T^+) = \\frac{P(T^+ | D) P(D)}{P(T^+)}$$\n分母 $P(T^+)$ 是测试结果为阳性的总概率。可以使用全概率定律将其展开：\n$$P(T^+) = P(T^+ | D) P(D) + P(T^+ | \\neg D) P(\\neg D)$$\n代入已定义的项（$Se$、$Sp$、$\\pi$）：\n- $P(T^+ | D) = Se$\n- $P(D) = \\pi$\n- $P(T^+ | \\neg D) = 1 - P(T^- | \\neg D) = 1 - Sp$\n- $P(\\neg D) = 1 - \\pi$\n\n因此，$P(T^+)$ 的表达式变为：\n$$P(T^+) = (Se)(\\pi) + (1 - Sp)(1 - \\pi)$$\n将此代回 $PPV$ 的表达式中，我们得到阳性预测值的一般公式：\n$$PPV = \\frac{Se \\cdot \\pi}{Se \\cdot \\pi + (1 - Sp)(1 - \\pi)}$$\n\n接下来，我们推导 $NPV$ 的表达式。对于给定 $T^-$ 的事件 $\\neg D$，使用贝叶斯定理：\n$$NPV = P(\\neg D | T^-) = \\frac{P(T^- | \\neg D) P(\\neg D)}{P(T^-)}$$\n分母 $P(T^-)$ 是测试结果为阴性的总概率。使用全概率定律：\n$$P(T^-) = P(T^- | D) P(D) + P(T^- | \\neg D) P(\\neg D)$$\n代入已定义的项：\n- $P(T^- | D) = 1 - P(T^+ | D) = 1 - Se$\n- $P(D) = \\pi$\n- $P(T^- | \\neg D) = Sp$\n- $P(\\neg D) = 1 - \\pi$\n\n因此，$P(T^-)$ 的表达式变为：\n$$P(T^-) = (1 - Se)(\\pi) + (Sp)(1 - \\pi)$$\n将此代回 $NPV$ 的表达式中，我们得到阴性预测值的一般公式：\n$$NPV = \\frac{Sp \\cdot (1 - \\pi)}{(1 - Se) \\cdot \\pi + Sp \\cdot (1 - \\pi)}$$\n\n现在，我们使用给定的数据计算数值：$Se = 0.90$，$Sp = 0.95$，以及 $\\pi = 0.10$。\n\n对于 $PPV$：\n$$PPV = \\frac{(0.90)(0.10)}{(0.90)(0.10) + (1 - 0.95)(1 - 0.10)} = \\frac{0.09}{0.09 + (0.05)(0.90)} = \\frac{0.09}{0.09 + 0.045} = \\frac{0.09}{0.135} = \\frac{2}{3}$$\n作为小数，$PPV \\approx 0.66666...$\n\n对于 $NPV$：\n$$NPV = \\frac{(0.95)(1 - 0.10)}{(1 - 0.90)(0.10) + (0.95)(1 - 0.10)} = \\frac{(0.95)(0.90)}{(0.10)(0.10) + (0.95)(0.90)} = \\frac{0.855}{0.01 + 0.855} = \\frac{0.855}{0.865}$$\n作为小数，$NPV \\approx 0.9884393...$\n\n问题要求将四个量 $(Se, Sp, PPV, NPV)$ 以四舍五入到四位有效数字的小数形式报告。\n- $Se = 0.90$ 变为 $0.9000$。\n- $Sp = 0.95$ 变为 $0.9500$。\n- $PPV = 0.66666...$ 四舍五入到四位有效数字为 $0.6667$。\n- $NPV = 0.9884393...$ 四舍五入到四位有效数字为 $0.9884$。\n\n最终的有序数值组为 $(0.9000, 0.9500, 0.6667, 0.9884)$。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.9000  0.9500  0.6667  0.9884\n\\end{pmatrix}\n}\n$$", "id": "4512781"}, {"introduction": "实施筛查项目需要制定明确的行动规则，这不仅仅是一个简单的“阳性”或“阴性”的判断。本练习将带您超越简单的测试指标，进入决策理论的领域。您将学习如何通过明确权衡不同类型错误，即假阳性（False Positive, FP）与假阴性（False Negative, FN），的危害成本，来确定一个最小化预期总危害的最优决策阈值，这是设计合理且合乎伦理的公共卫生工作流程的一项关键技能。[@problem_id:4512812]", "problem": "一个社区健康项目完成了一项社区需求评估，旨在设计一个结核病（TB）筛查工作流程。一个经过验证的风险模型，根据症状和社区风险因素，为每位个体生成一个患有活动性结核病的估计、校准后的后验概率 $p$。该项目必须选择一个单一决策阈值 $t$，使得概率 $p \\geq t$ 的个体被转介进行确诊性诊断测试，而概率 $p  t$ 的个体则不被转介。目标是最小化每个个体决策的预期危害，同时认识到，转介没有结核病的人会导致带有危害的假阳性（FP）决策，而不转介患有结核病的人则会导致带有危害的假阴性（FN）决策。\n\n通过需求评估中的利益相关者参与和证据综合，该项目为每个假阳性分配了 $H_{\\mathrm{FP}} = 4$ 单位的加权危害，这包括了实验室负担、社会污名和不必要的隔离；并为每个假阴性分配了 $H_{\\mathrm{FN}} = 50$ 单位的加权危害，这包括了错失治疗和预期的社区传播危害。\n\n从决策论的第一性原理以及假阳性和假阴性的定义出发，推导最优决策阈值 $t^{\\ast}$，以最小化结核病估计概率为 $p$ 的个体的预期危害。然后，根据给定的危害权重计算其数值。将 $t^{\\ast}$ 表示为小数形式的概率。将你的数值答案保留到四位有效数字。", "solution": "该问题要求为一个结核病（TB）筛查项目推导出一个最优决策阈值 $t^{\\ast}$。决策是基于个体患有活动性结核病的估计后验概率（记为 $p$），来决定是否将其转介进行确诊测试。目标是最小化与该决策相关的预期危害。这个问题可以使用决策论的原理进行形式化。\n\n设 $D$ 为一个代表个体真实患病状态的随机变量，其中 $D=1$ 表示存在活动性结核病，$D=0$ 表示不存在。给定的概率 $p$是个体患有结核病的后验概率，所以我们有 $P(D=1) = p$，因此 $P(D=0) = 1-p$。\n\n该项目有两种可能的行动：\n1.  行动 $A_1$：转介个体进行确诊测试。如果 $p \\ge t$，则采取此行动。\n2.  行动 $A_0$：不转介个体。如果 $p  t$，则采取此行动。\n\n只有当决策错误时才会产生危害。问题定义了两种类型错误的危害：\n- 假阳性（FP）发生于我们对一个没有结核病的个体（$D=0$）选择行动 $A_1$（转介）时。相关危害为 $H_{\\mathrm{FP}} = 4$。\n- 假阴性（FN）发生于我们对一个患有结核病的个体（$D=1$）选择行动 $A_0$（不转介）时。相关危害为 $H_{\\mathrm{FN}} = 50$。\n\n正确的决策，即真阳性（TP，当 $D=1$ 时采取行动 $A_1$）和真阴性（TN，当 $D=0$ 时采取行动 $A_0$），被假定为零危害。\n\n现在我们可以为结核病概率为 $p$ 的个体计算每种行动的预期危害。一个行动的预期危害是其可能结果的危害之和，并按各自的概率加权。\n\n转介的预期危害（行动 $A_1$），记为 $E[\\text{Harm}(A_1)]$，是：\n$$\nE[\\text{Harm}(A_1)] = \\text{Harm}(A_1 | D=1) \\cdot P(D=1) + \\text{Harm}(A_1 | D=0) \\cdot P(D=0)\n$$\n这分别对应于真阳性和假阳性的结果。\n$$\nE[\\text{Harm}(A_1)] = 0 \\cdot p + H_{\\mathrm{FP}} \\cdot (1-p) = H_{\\mathrm{FP}}(1-p)\n$$\n\n不转介的预期危害（行动 $A_0$），记为 $E[\\text{Harm}(A_0)]$，是：\n$$\nE[\\text{Harm}(A_0)] = \\text{Harm}(A_0 | D=1) \\cdot P(D=1) + \\text{Harm}(A_0 | D=0) \\cdot P(D=0)\n$$\n这分别对应于假阴性和真阴性的结果。\n$$\nE[\\text{Harm}(A_0)] = H_{\\mathrm{FN}} \\cdot p + 0 \\cdot (1-p) = H_{\\mathrm{FN}}p\n$$\n\n为了最小化预期危害，对于概率为 $p$ 的给定个体，最优策略是选择预期危害较低的行动。如果 $E[\\text{Harm}(A_1)]  E[\\text{Harm}(A_0)]$，我们应该转介（$A_1$）；如果 $E[\\text{Harm}(A_0)]  E[\\text{Harm}(A_1)]$，我们则不转介（$A_0$）。\n\n决策阈值 $t^{\\ast}$ 是 $p$ 的一个临界值，在该值上首选行动会发生改变。这发生于无差异点，即两种行动的预期危害相等的地方。我们通过将两个预期危害表达式设为相等并求解 $p$ 来找到这个阈值，我们将该阈值称为 $t^{\\ast}$：\n$$\nE[\\text{Harm}(A_1)] = E[\\text{Harm}(A_0)]\n$$\n$$\nH_{\\mathrm{FP}}(1-t^{\\ast}) = H_{\\mathrm{FN}}t^{\\ast}\n$$\n现在，我们求解 $t^{\\ast}$：\n$$\nH_{\\mathrm{FP}} - H_{\\mathrm{FP}}t^{\\ast} = H_{\\mathrm{FN}}t^{\\ast}\n$$\n$$\nH_{\\mathrm{FP}} = H_{\\mathrm{FN}}t^{\\ast} + H_{\\mathrm{FP}}t^{\\ast}\n$$\n$$\nH_{\\mathrm{FP}} = t^{\\ast}(H_{\\mathrm{FN}} + H_{\\mathrm{FP}})\n$$\n这就给出了最优决策阈值的一般公式：\n$$\nt^{\\ast} = \\frac{H_{\\mathrm{FP}}}{H_{\\mathrm{FN}} + H_{\\mathrm{FP}}}\n$$\n该阈值正确地实现了决策规则：如果一个个体的概率 $p$ 大于 $t^{\\ast}$，不转介的预期危害（$H_{\\mathrm{FN}}p$）就会大于转介的预期危害（$H_{\\mathrm{FP}}(1-p)$），因此该个体应被转介。\n\n现在我们将给定的数值 $H_{\\mathrm{FP}} = 4$ 和 $H_{\\mathrm{FN}} = 50$ 代入推导出的公式中：\n$$\nt^{\\ast} = \\frac{4}{50 + 4} = \\frac{4}{54} = \\frac{2}{27}\n$$\n为了获得数值，我们进行除法运算：\n$$\nt^{\\ast} = \\frac{2}{27} \\approx 0.074074074...\n$$\n问题要求将数值答案保留到四位有效数字。第一位有效数字是 $7$，所以我们保留前四位：$0.07407$。", "answer": "$$\n\\boxed{0.07407}\n$$", "id": "4512812"}]}