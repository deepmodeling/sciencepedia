{"hands_on_practices": [{"introduction": "在暴力预防中，第一步往往是通过筛查来识别高危个体。本练习将引导你计算评估筛查工具性能的关键指标，如灵敏度、特异度和阳性预测值（$PPV$），并探索其在不同患病率人群中的应用价值[@problem_id:4591686]。通过这个假设场景，你将掌握评估和理解筛查工具在现实世界中表现的核心技能。", "problem": "一家社区健康诊所引入了一种简易的亲密伴侣暴力 (Intimate Partner Violence, IPV) 筛查工具，并以结构化临床访谈为参照标准对其进行评估。在一个包含 1200 名成年人的样本中，结果如下：\n- 金标准 IPV 阳性且筛查阳性：$153$\n- 金标准 IPV 阳性且筛查阴性：$27$\n- 金标准 IPV 阴性且筛查阳性：$204$\n- 金标准 IPV 阴性且筛查阴性：$816$\n\n根据预防医学中的核心诊断准确性定义：\n- 灵敏度定义为 $ \\mathrm{sens} = \\frac{\\mathrm{TP}}{\\mathrm{TP} + \\mathrm{FN}} $。\n- 特异度定义为 $ \\mathrm{spec} = \\frac{\\mathrm{TN}}{\\mathrm{TN} + \\mathrm{FP}} $。\n- 阳性预测值 (PPV) 定义为 $ \\mathrm{PPV} = \\frac{\\mathrm{TP}}{\\mathrm{TP} + \\mathrm{FP}} $。\n- 阴性预测值 (NPV) 定义为 $ \\mathrm{NPV} = \\frac{\\mathrm{TN}}{\\mathrm{TN} + \\mathrm{FN}} $。\n\n首先，根据以上数据计算灵敏度、特异度、PPV 和 NPV。\n\n然后，假设灵敏度和特异度可以应用于另一个不同的初级保健人群，设该人群中 IPV 的真实患病率为 $ \\pi $。使用经过充分检验的、连接 PPV 与灵敏度、特异度和患病率的关系式，\n$$\n\\mathrm{PPV}(\\pi) = \\frac{\\mathrm{sens}\\times \\pi}{\\mathrm{sens}\\times \\pi + (1-\\mathrm{spec})(1-\\pi)},\n$$\n来量化 PPV 随患病率的变化。对 $ \\mathrm{PPV}(\\pi) $ 关于 $ \\pi $ 求导，并使用您计算出的灵敏度和特异度，计算当 $ \\pi = 0.10 $ 时该导数的值。\n\n仅报告 $ \\frac{d}{d\\pi}\\mathrm{PPV}(\\pi)\\big|_{\\pi=0.10} $ 的值作为您的最终答案，四舍五入到四位有效数字。该答案无量纲。", "solution": "该问题表述清晰，有科学依据，并为完整解答提供了所有必要信息。我们首先验证和整理所提供的数据。\n\n来自 $1200$ 名成年人样本的数据可以用一个用于诊断测试评估的标准 $2 \\times 2$ 列联表来总结。各部分定义如下：\n- 真阳性 ($\\mathrm{TP}$): 参照标准（金标准）为阳性且筛查工具检测也为阳性的个体。数据为 $\\mathrm{TP} = 153$。\n- 假阴性 ($\\mathrm{FN}$): 参照标准为阳性但筛查工具检测为阴性的个体。数据为 $\\mathrm{FN} = 27$。\n- 假阳性 ($\\mathrm{FP}$): 参照标准为阴性但筛查工具检测为阳性的个体。数据为 $\\mathrm{FP} = 204$。\n- 真阴性 ($\\mathrm{TN}$): 参照标准为阴性且筛查工具检测也为阴性的个体。数据为 $\\mathrm{TN} = 816$。\n\n根据金标准，患有亲密伴侣暴力 (IPV) 的总人数为 $\\mathrm{TP} + \\mathrm{FN} = 153 + 27 = 180$。\n未患有 IPV 的总人数为 $\\mathrm{TN} + \\mathrm{FP} = 816 + 204 = 1020$。\n总样本量为 $(\\mathrm{TP} + \\mathrm{FN}) + (\\mathrm{TN} + \\mathrm{FP}) = 180 + 1020 = 1200$，与问题陈述相符。\n\n第一个任务是计算该样本的灵敏度、特异度、阳性预测值 (PPV) 和阴性预测值 (NPV)。\n\n1.  **灵敏度 ($\\mathrm{sens}$)** 是指在所有真正患病者中，被该测试正确识别为阳性的比例。\n    $$\n    \\mathrm{sens} = \\frac{\\mathrm{TP}}{\\mathrm{TP} + \\mathrm{FN}} = \\frac{153}{153 + 27} = \\frac{153}{180} = 0.85\n    $$\n2.  **特异度 ($\\mathrm{spec}$)** 是指在所有真正未患病者中，被该测试正确识别为阴性的比例。\n    $$\n    \\mathrm{spec} = \\frac{\\mathrm{TN}}{\\mathrm{TN} + \\mathrm{FP}} = \\frac{816}{816 + 204} = \\frac{816}{1020} = 0.80\n    $$\n3.  **阳性预测值 ($\\mathrm{PPV}$)** 是指测试结果为阳性的受试者确实为真阳性的概率。\n    $$\n    \\mathrm{PPV} = \\frac{\\mathrm{TP}}{\\mathrm{TP} + \\mathrm{FP}} = \\frac{153}{153 + 204} = \\frac{153}{357} = \\frac{3 \\times 51}{7 \\times 51} = \\frac{3}{7}\n    $$\n4.  **阴性预测值 ($\\mathrm{NPV}$)** 是指测试结果为阴性的受试者确实为真阴性的概率。\n    $$\n    \\mathrm{NPV} = \\frac{\\mathrm{TN}}{\\mathrm{TN} + \\mathrm{FN}} = \\frac{816}{816 + 27} = \\frac{816}{843}\n    $$\n\n问题的第二部分要求我们分析 PPV 随患病率 $ \\pi $ 的变化。关系式由下式给出：\n$$\n\\mathrm{PPV}(\\pi) = \\frac{\\mathrm{sens}\\times \\pi}{\\mathrm{sens}\\times \\pi + (1-\\mathrm{spec})(1-\\pi)}\n$$\n我们需要求这个函数关于 $ \\pi $ 的导数，即 $\\frac{d}{d\\pi}\\mathrm{PPV}(\\pi)$。为简化符号，令 $S = \\mathrm{sens}$ 和 $C = \\mathrm{spec}$。该函数为：\n$$\nf(\\pi) = \\frac{S\\pi}{S\\pi + (1-C)(1-\\pi)}\n$$\n我们应用求导的商法则，$\\frac{d}{dx}(\\frac{u}{v}) = \\frac{u'v - uv'}{v^2}$。\n令 $u(\\pi) = S\\pi$ 和 $v(\\pi) = S\\pi + (1-C)(1-\\pi)$。\n$u$ 和 $v$ 关于 $ \\pi $ 的导数是：\n$$\n\\frac{du}{d\\pi} = S\n$$\n$$\n\\frac{dv}{d\\pi} = \\frac{d}{d\\pi}[S\\pi + (1-C) - (1-C)\\pi] = S - (1-C) = S + C - 1\n$$\n应用商法则：\n$$\n\\frac{d}{d\\pi}\\mathrm{PPV}(\\pi) = \\frac{\\frac{du}{d\\pi}v(\\pi) - u(\\pi)\\frac{dv}{d\\pi}}{[v(\\pi)]^2} = \\frac{S[S\\pi + (1-C)(1-\\pi)] - S\\pi[S+C-1]}{[S\\pi + (1-C)(1-\\pi)]^2}\n$$\n化简分子：\n$$\n\\text{分子} = S[S\\pi + 1 - C - \\pi + C\\pi] - S\\pi[S+C-1]\n$$\n$$\n= S^2\\pi + S(1-C) - S(1-C)\\pi - S(S+C-1)\\pi\n$$\n$$\n= S^2\\pi + S(1-C) - S\\pi + SC\\pi - S^2\\pi - SC\\pi + S\\pi\n$$\n$$\n= S(1-C)\n$$\n因此，导数为：\n$$\n\\frac{d}{d\\pi}\\mathrm{PPV}(\\pi) = \\frac{S(1-C)}{[S\\pi + (1-C)(1-\\pi)]^2} = \\frac{\\mathrm{sens}(1-\\mathrm{spec})}{[\\mathrm{sens}\\cdot\\pi + (1-\\mathrm{spec})(1-\\pi)]^2}\n$$\n现在，我们使用计算出的值 $\\mathrm{sens} = 0.85$ 和 $\\mathrm{spec} = 0.80$，在 $\\pi = 0.10$ 处计算该导数的值。\n$$\n\\frac{d}{d\\pi}\\mathrm{PPV}(\\pi)\\bigg|_{\\pi=0.10} = \\frac{0.85(1-0.80)}{[0.85 \\cdot 0.10 + (1-0.80)(1-0.10)]^2}\n$$\n首先，我们计算分子：\n$$\n\\text{分子} = 0.85 \\times 0.20 = 0.17\n$$\n接下来，我们计算分母中括号内的表达式：\n$$\n0.85 \\cdot 0.10 + (0.20)(0.90) = 0.085 + 0.180 = 0.265\n$$\n然后，我们将此值平方得到分母：\n$$\n\\text{分母} = (0.265)^2 = 0.070225\n$$\n最后，我们计算导数的值：\n$$\n\\frac{d}{d\\pi}\\mathrm{PPV}(\\pi)\\bigg|_{\\pi=0.10} = \\frac{0.17}{0.070225} \\approx 2.4206549...\n$$\n按要求四舍五入到四位有效数字，我们得到：\n$$\n2.421\n$$\n这个值表示当 IPV 的患病率为 $10\\%$ 时，阳性预测值相对于患病率的瞬时变化率。", "answer": "$$\n\\boxed{2.421}\n$$", "id": "4591686"}, {"introduction": "除了识别个体，公共卫生专业人员还需要从宏观层面理解导致暴力的驱动因素，以便确定干预的优先次序。本练习将指导你推导并计算人群归因分值（$PAF$），这是一个关键的流行病学指标，用于估算消除某一特定风险因素（如酒精滥用）可能预防多大比例的暴力事件[@problem_id:4591636]。这有助于你理解如何量化风险因素对整个人群健康的影响。", "problem": "一个公共卫生团队正在评估，在特定人群中于固定时期内，减少酒精滥用对亲密伴侣暴力 (IPV) 的潜在影响。假设暴露为二分类，即酒精滥用（暴露组与非暴露组），并定义以下流行病学量：暴露组的发病风险为 $I_{1}$，非暴露组的发病风险为 $I_{0}$，人群暴露率为 $p$，人群总发病风险为 $I_{t}$。相对风险 (RR) 定义为 $RR = I_{1}/I_{0}$。人群归因分数 (PAF) 定义为，在假设该暴露是一个致病因素，且消除该暴露会使暴露组的风险降低到非暴露组水平的前提下，如果消除该暴露，将不会发生的新发病例所占的比例，即：\n$$\\text{PAF} = \\frac{I_{t} - I_{0}}{I_{t}}.$$\n仅根据这些定义和应用于发病风险的全概率法则，推导出一个完全由 $p$ 和 $RR$ 表示的 PAF 表达式。\n\n然后，当酒精滥用率为 $p=0.3$ 且相对风险为 $RR=2.5$ 时，计算 PAF 的数值。将 PAF 以小数形式表示（不要使用百分号），并将答案四舍五入至 $4$ 位有效数字。", "solution": "### 步骤 1：提取已知条件\n问题陈述提供了以下定义和量：\n-   暴露组的发病风险：$I_{1}$\n-   非暴露组的发病风险：$I_{0}$\n-   人群暴露率：$p$\n-   人群总发病风险：$I_{t}$\n-   相对风险：$RR = \\frac{I_{1}}{I_{0}}$\n-   人群归因分数：$\\text{PAF} = \\frac{I_{t} - I_{0}}{I_{t}}$\n-   应用于发病风险的全概率法则，它将总发病风险与暴露和非暴露亚群的发病风险联系起来。\n-   用于计算的具体数值：$p = 0.3$ 和 $RR = 2.5$。\n\n### 步骤 2：使用提取的已知条件进行验证\n根据所需标准对问题进行验证：\n-   **科学依据充分：** 该问题使用了流行病学（公共卫生和预防医学的核心学科）中的标准、明确定义的量。发病风险、相对风险和人群归因分数的概念是该领域的基础。酒精滥用与亲密伴侣暴力之间的关系是一个公认的公共卫生研究课题。其假设（二分类暴露，用于PAF计算的因果关系）被明确陈述，并且是此类分析的标准。该问题在科学上是合理的。\n-   **问题适定：** 问题要求根据给定的定义推导一个公式，并进行后续的数值计算。所有必要的信息都已提供。存在一个唯一的、稳定的、有意义的解。\n-   **客观性：** 问题以精确、正式和无偏见的语言陈述。它不含主观论断。\n\n该问题没有任何指定的缺陷（例如，事实不健全、不完整、矛盾等）。\n\n### 步骤 3：结论与行动\n该问题被判定为 **有效**。将提供完整解答。\n\n### 根据 p 和 RR 推导 PAF\n目标是仅使用暴露率 ($p$) 和相对风险 ($RR$) 来推导人群归因分数 ($\\text{PAF}$) 的表达式。\n\n$\\text{PAF}$ 的定义如下：\n$$ \\text{PAF} = \\frac{I_{t} - I_{0}}{I_{t}} $$\n这可以改写为：\n$$ \\text{PAF} = 1 - \\frac{I_{0}}{I_{t}} $$\n\n全概率法则指出，人群的总发病风险 ($I_{t}$) 是暴露组和非暴露组发病风险的加权平均值。权重是各组在人群中所占的比例，即暴露率 ($p$) 及其补数 ($1-p$)。\n$$ I_{t} = (I_{1} \\times p) + (I_{0} \\times (1-p)) $$\n\n现在，将这个 $I_{t}$ 的表达式代入 $\\text{PAF}$ 的方程中：\n$$ \\text{PAF} = 1 - \\frac{I_{0}}{(I_{1} \\cdot p) + (I_{0} \\cdot (1-p))} $$\n\n目标是消去 $I_{1}$ 和 $I_{0}$，并用 $p$ 和 $RR$ 表示公式。相对风险的定义是 $RR = \\frac{I_{1}}{I_{0}}$。我们可以重新整理这个式子，用 $I_{0}$ 和 $RR$ 来表示 $I_{1}$：\n$$ I_{1} = RR \\cdot I_{0} $$\n\n将这个 $I_{1}$ 的表达式代入 $\\text{PAF}$ 的方程中：\n$$ \\text{PAF} = 1 - \\frac{I_{0}}{((RR \\cdot I_{0}) \\cdot p) + (I_{0} \\cdot (1-p))} $$\n\n从分母中提取公因数 $I_{0}$。只要 $I_{0} > 0$，这样做就是允许的。如果 $I_{0} = 0$，相对风险的概念将无定义（除以零）或为无穷大，因此我们假设 $I_{0} > 0$ 并继续。\n$$ \\text{PAF} = 1 - \\frac{I_{0}}{I_{0} \\cdot (p \\cdot RR + (1-p))} $$\n\n消去分子和分母中的 $I_{0}$ 项：\n$$ \\text{PAF} = 1 - \\frac{1}{p \\cdot RR + 1 - p} $$\n\n为了形成一个单一的分数，找到一个公分母：\n$$ \\text{PAF} = \\frac{(p \\cdot RR + 1 - p)}{(p \\cdot RR + 1 - p)} - \\frac{1}{(p \\cdot RR + 1 - p)} $$\n$$ \\text{PAF} = \\frac{p \\cdot RR + 1 - p - 1}{p \\cdot RR + 1 - p} $$\n$$ \\text{PAF} = \\frac{p \\cdot RR - p}{1 + p \\cdot RR - p} $$\n\n从分子和分母中出现 $p$ 的项中提取公因数 $p$：\n$$ \\text{PAF} = \\frac{p(RR - 1)}{1 + p(RR - 1)} $$\n这就是完全用 $p$ 和 $RR$ 表示的 $\\text{PAF}$ 的所需表达式。\n\n### 数值计算\n问题提供了以下数值：\n-   暴露率, $p = 0.3$\n-   相对风险, $RR = 2.5$\n\n将这些值代入推导出的公式中：\n$$ \\text{PAF} = \\frac{0.3(2.5 - 1)}{1 + 0.3(2.5 - 1)} $$\n首先，计算 $(RR - 1)$ 项：\n$$ 2.5 - 1 = 1.5 $$\n现在将此结果代回方程：\n$$ \\text{PAF} = \\frac{0.3 \\times 1.5}{1 + (0.3 \\times 1.5)} $$\n计算乘积：\n$$ 0.3 \\times 1.5 = 0.45 $$\n代入这个值：\n$$ \\text{PAF} = \\frac{0.45}{1 + 0.45} $$\n$$ \\text{PAF} = \\frac{0.45}{1.45} $$\n进行除法运算：\n$$ \\text{PAF} \\approx 0.310344827... $$\n问题要求答案四舍五入到 $4$ 位有效数字。前四位有效数字是 $3$、$1$、$0$ 和 $3$。第五位数字是 $4$，小于 $5$，所以我们向下舍入。\n$$ \\text{PAF} \\approx 0.3103 $$\n这个数值表示，在该人群中，大约 $31.03\\%$ 的亲密伴侣暴力事件可归因于酒精滥用，如果消除该暴露，理论上可以预防这些事件。", "answer": "$$\\boxed{0.3103}$$", "id": "4591636"}, {"introduction": "在确定了有前景的干预措施后，我们需要评估其在现实世界中的效率，以便合理分配资源。本练习将教你如何计算需治数（$NNT$），这是一个衡量干预效率的实用指标，它揭示了为预防一个不良结局（如儿童虐待）需要对多少人进行干预[@problem_id:4591699]。通过这个练习，你将学会如何结合干预措施的有效性和实际参与率来评估其公共卫生价值。", "problem": "一个县的公共卫生部门计划实施一项家庭访视育儿计划，以预防高风险家庭中的儿童身体虐待。在目标人群中，经证实的儿童身体虐待案例的12个月发病比例（风险）为0.15。在一个相似人群中的一项评估发现，在参与至少四次计划课程的家庭中，12个月内经证实的案例风险与基线相比相对降低了0.35。根据以往的实施经验，该部门预计0.70的符合条件的家庭将参与至少四次课程，而其余的0.30将无法从该计划中获益。假设对非参与者没有溢出效益，并且非参与者的基线风险没有变化。\n\n使用发病比例（风险）、绝对风险降低和需治数（NNT）的标准流行病学定义，计算符合条件人群中的预期绝对风险降低，然后确定12个月期间的需治数。将最终的$NNT$四舍五入至四位有效数字。将最终的$NNT$表示为一个没有单位的纯数字。简要解释这个$NNT$对于计划规划的实际意义。", "solution": "问题陈述被评估为有效。它在科学上基于标准的流行病学原理，问题提法良好，数据充分且一致，并且措辞客观。问题要求计算一项公共卫生干预措施的绝对风险降低和需治数（NNT），这些是预防医学和项目评估中的标准指标。提供了所有必要的参数以得出一个唯一解。\n\n让我们根据问题陈述定义变量：\n- $R_{baseline}$：目标人群中经证实的儿童身体虐待案例的基线$12$个月发病比例（风险）。\n- $RRR_{part}$：参与计划（参与至少四次课程）的家庭中的相对风险降低。\n- $P_{part}$：参与的符合条件家庭的比例。\n- $P_{nonpart}$：未参与的符合条件家庭的比例。\n- $R_{part}$：参与家庭中的风险。\n- $R_{nonpart}$：未参与家庭中的风险。\n- $R_{overall}$：计划实施后，在全部符合条件人群中的总体风险。\n- $ARR_{pop}$：全部符合条件人群中的绝对风险降低。\n- $NNT$：需治数。\n\n给定的数值是：\n- $R_{baseline} = 0.15$\n- $RRR_{part} = 0.35$\n- $P_{part} = 0.70$\n- $P_{nonpart} = 0.30$\n\n解决方案分几个步骤进行。\n\n首先，我们计算参与计划的家庭中儿童身体虐待的风险，$R_{part}$。相对风险降低（$RRR_{part}$）定义为治疗组与基线风险相比的风险比例降低。\n$$RRR_{part} = \\frac{R_{baseline} - R_{part}}{R_{baseline}} = 1 - \\frac{R_{part}}{R_{baseline}}$$\n重新整理这个方程以求解 $R_{part}$：\n$$R_{part} = R_{baseline} \\times (1 - RRR_{part})$$\n代入给定的数值：\n$$R_{part} = 0.15 \\times (1 - 0.35) = 0.15 \\times 0.65 = 0.0975$$\n\n第二，我们确定未参与家庭的风险，$R_{nonpart}$。问题陈述指出，非参与者没有获益，其基线风险也没有变化。因此，他们的风险与整个人群的基线风险保持相同。\n$$R_{nonpart} = R_{baseline} = 0.15$$\n\n第三，我们计算计划实施后，在全部符合条件人群中的预期总体风险，$R_{overall}$。这是参与者和非参与者亚组风险的加权平均值，权重是这些亚组在全部符合条件人群中的比例。\n$$R_{overall} = (R_{part} \\times P_{part}) + (R_{nonpart} \\times P_{nonpart})$$\n代入数值：\n$$R_{overall} = (0.0975 \\times 0.70) + (0.15 \\times 0.30)$$\n$$R_{overall} = 0.06825 + 0.045 = 0.11325$$\n\n第四，我们计算符合条件人群中的预期绝对风险降低，$ARR_{pop}$。这是没有计划时的风险（$R_{baseline}$）与实施计划后的总体风险（$R_{overall}$）之间的差值。这个指标反映了计划在人群层面的总体影响，同时考虑了其效果和覆盖范围（参与率）。\n$$ARR_{pop} = R_{baseline} - R_{overall}$$\n$$ARR_{pop} = 0.15 - 0.11325 = 0.03675$$\n符合条件人群中的预期绝对风险降低为0.03675，或3.675个百分点。\n\n第五，我们确定需治数（$NNT$）。$NNT$是绝对风险降低的倒数。它代表了为预防一个不良后果（在本例中，是一个经证实的儿童身体虐待案例），必须纳入计划的平均人数。\n$$NNT = \\frac{1}{ARR_{pop}}$$\n$$NNT = \\frac{1}{0.03675} \\approx 27.210884...$$\n\n问题要求将最终的$NNT$四舍五入至四位有效数字。\n$$NNT \\approx 27.21$$\n\n最后，需要对$NNT$进行简要解释。$NNT$为$27.21$意味着，平均而言，公共卫生部门必须在12个月的周期内招募28个（向上取整到最近的整数）高风险家庭参加家庭访视计划，才能预防一个经证实的儿童身体虐待案例。这个计算考虑了计划仅在参与的亚组中的有效性以及预期的参与率（$70\\%$）。这个指标对于计划规划至关重要，因为它有助于估算实现特定公共卫生目标（例如预防一定数量的虐待案例）所需的资源（人员、时间、预算）。", "answer": "$$\\boxed{27.21}$$", "id": "4591699"}]}