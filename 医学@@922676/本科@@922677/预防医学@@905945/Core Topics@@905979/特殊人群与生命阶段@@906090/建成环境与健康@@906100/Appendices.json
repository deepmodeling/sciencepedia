{"hands_on_practices": [{"introduction": "步行友好性是促进体力活动和改善公共健康的关键建成环境特征。由于它是一个多维概念，研究人员通常通过构建综合指数来量化它，结合交叉口密度、土地利用混合度等多个指标。本练习 [@problem_id:4581710] 将指导你如何从标准化的建成环境数据中计算步行性指数，这是环境健康和城市规划研究中的一项基本技能。", "problem": "一个城市规划团队正在评估社区的步行友好性，作为预防医学工作的一部分，旨在增加体力活动并降低非传染性疾病的风险。在这个城市中，三个建成环境特征被标准化为全市范围的 $z$ 分数，其全市平均值为 $0$，全市标准差为 $1$：交叉口密度 ($z_1$)、土地利用混合度 ($z_2$) 和居住密度 ($z_3$)。对于一个特定的人口普查区，测得的标准化值为 $z_1=0.8$、$z_2=0.6$ 和 $z_3=1.2$。该团队通过对这三个标准化组分使用相等的归一化权重进行聚合，构建了一个综合步行友好性指数，这反映了在标准化尺度上，每个特征对步行友好性的贡献是相等的。\n\n从标准化变量的定义和由标准化组分构建的线性综合指数出发，推导出在该人口普查区在相等归一化权重下的综合步行友好性值。然后，根据其对于预防医学的规划相关性，解释该值相对于城市分布（平均值 $0$，标准差 $1$）的大小。仅报告以无单位的 $z$ 分数表示的综合步行友好性值，并将您的数值答案四舍五入到四位有效数字。", "solution": "问题要求计算一个特定人口普查区的综合步行友好性指数 $Z_{\\text{walk}}$。该指数是三个标准化建成环境特征 $z_1$（交叉口密度）、$z_2$（土地利用混合度）和 $z_3$（居住密度）的加权线性组合。\n\n首先，我们定义综合指数的一般形式：\n$$Z_{\\text{walk}} = w_1 z_1 + w_2 z_2 + w_3 z_3 = \\sum_{i=1}^{3} w_i z_i$$\n其中 $w_i$ 是分配给每个组分 $z_i$ 的权重。\n\n问题规定使用“相等的归一化权重”，这意味着权重 $w_i$ 满足两个条件：\n1.  **权重相等**：$w_1 = w_2 = w_3 = w$。\n2.  **权重归一化**：权重之和为 1。\n    $$\\sum_{i=1}^{3} w_i = w+w+w = 3w = 1$$\n\n从这两个条件可以解出每个分量的权重为 $w = \\frac{1}{3}$。\n\n因此，综合步行友好性指数的计算公式为：\n$$Z_{\\text{walk}} = \\frac{1}{3}z_1 + \\frac{1}{3}z_2 + \\frac{1}{3}z_3 = \\frac{1}{3}(z_1 + z_2 + z_3)$$\n\n问题给出了该人口普查区的三个标准化值：$z_1 = 0.8$，$z_2 = 0.6$ 和 $z_3 = 1.2$。将这些值代入公式：\n$$Z_{\\text{walk}} = \\frac{1}{3}(0.8 + 0.6 + 1.2)$$\n\n计算括号内的和：\n$$0.8 + 0.6 + 1.2 = 2.6$$\n\n完成最终计算：\n$$Z_{\\text{walk}} = \\frac{2.6}{3} \\approx 0.866666...$$\n\n根据要求，将答案四舍五入到四位有效数字：\n$$Z_{\\text{walk}} \\approx 0.8667$$\n\n**值的解释**：\n计算出的步行友好性指数 $Z_{\\text{walk}} \\approx 0.8667$ 是一个正的 $z$ 分数。由于该指数是基于全市标准化数据构建的（平均值为 0，标准差为 1），这个值意味着该人口普查区的步行友好性比全市平均水平高出约 0.8667 个标准差。从预防医学的角度来看，一个更高的步行友好性分数表明该社区的建成环境更有利于促进居民进行步行等体力活动，这有助于改善健康状况和降低慢性病风险。因此，该人口普查区在步行友好性方面是一个促进健康的环境。", "answer": "$$\n\\boxed{0.8667}\n$$", "id": "4581710"}, {"introduction": "准确测量居民与健康资源（如食品店或公园）之间的可及性，对于建成环境研究至关重要。本练习探讨了两种核心测量方法——欧几里得缓冲区和街道网络缓冲区——之间的差异。通过一个包含物理障碍（如河流）的理想化城市模型 [@problem_id:4581686]，你将亲手量化因忽略真实街道连通性而导致的评估偏差，从而深刻理解为何基于网络的分析更为精确。", "problem": "一位城市健康研究员正在使用两种标准方法量化住宅周围的本地食物环境：欧几里得缓冲区和街道网络缓冲区。为分离建成环境连通性对暴露度量的影响，请考虑以下简化但科学上合理的模型。\n\n将城市建模为一个无限的直线街道网格，其交叉口位于整数 $i, j$ 的坐标 $(100 i, 100 j)$ 处，其中相邻交叉口之间的每个街道段长度为 $100\\,\\mathrm{m}$。假设每个交叉口都恰好有一家食品店。一处住宅位于 $(0, 100)\\,\\mathrm{m}$，即网格坐标 $(i, j) = (0, 1)$ 处。\n\n一条河流沿 $x$ 轴形成了一个完整的移动屏障，切断了所有从 $j=0$ 行到 $j=-1$ 行的垂直边缘，但有两座人行桥除外，这两座桥只允许沿 $(i, j) = (3, 0)$ 和 $(i, j) = (3, -1)$ 之间，以及 $(i, j) = (-3, 0)$ 和 $(i, j) = (-3, -1)$ 之间的垂直边缘通行。所有其他沿长度为 $100\\,\\mathrm{m}$ 的垂直和水平边缘的标准网格移动都是允许的。\n\n定义：\n- 半径为 $800\\,\\mathrm{m}$ 的欧几里得缓冲区是所有与住宅的欧几里得距离不超过 $800\\,\\mathrm{m}$ 的食品店集合。\n- 半径为 $800\\,\\mathrm{m}$ 的街道网络缓冲区是所有沿允许的网格边缘（考虑河流屏障和两座桥梁）与住宅的最短路径距离不超过 $800\\,\\mathrm{m}$ 的食品店集合。\n\n仅使用欧几里得距离、直线网格上的路径长度以及连通性约束下的最短路径的定义，从第一性原理出发推导每个缓冲区中食品店的确切数量，并计算使用欧几里得缓冲区替代街道网络缓冲区所引起的绝对偏差，定义为\n$$\n\\text{bias} = N_{\\text{Euclid}} - N_{\\text{network}}\n$$\n请给出你的最终答案，形式为一个精确的整数（无单位，不四舍五入）。", "solution": "为了便于计算，我们将所有距离以 $100\\,\\mathrm{m}$ 为一个单位进行归一化。因此，住宅位于网格坐标 $R=(0,1)$，缓冲区半径为 $8$ 个单位。\n\n### 第1步：计算欧几里得缓冲区中的食品店数量 ($N_{\\text{Euclid}}$)\n欧几里得缓冲区包含所有网格点 $(i,j)$，其到住宅 $(0,1)$ 的欧几里得距离小于或等于8。\n$$\\sqrt{(i-0)^2 + (j-1)^2} \\le 8$$\n令 $J = j-1$，则不等式变为 $i^2 + J^2 \\le 8^2 = 64$。我们需要计算这个圆内（及圆上）的整数格点数量。我们可以通过遍历 $i$ 的所有可能值（从 $-8$ 到 $8$）来计数：\n- $i=0$: $J^2 \\le 64 \\implies |J| \\le 8$。$J$ 有 $2 \\times 8 + 1 = 17$ 个值。\n- $i=\\pm 1$: $J^2 \\le 63 \\implies |J| \\le 7$。$J$ 有 $2 \\times 7 + 1 = 15$ 个值。共 $2 \\times 15 = 30$ 个。\n- $i=\\pm 2$: $J^2 \\le 60 \\implies |J| \\le 7$。$J$ 有 $15$ 个值。共 $2 \\times 15 = 30$ 个。\n- $i=\\pm 3$: $J^2 \\le 55 \\implies |J| \\le 7$。$J$ 有 $15$ 个值。共 $2 \\times 15 = 30$ 个。\n- $i=\\pm 4$: $J^2 \\le 48 \\implies |J| \\le 6$。$J$ 有 $2 \\times 6 + 1 = 13$ 个值。共 $2 \\times 13 = 26$ 个。\n- $i=\\pm 5$: $J^2 \\le 39 \\implies |J| \\le 6$。$J$ 有 $13$ 个值。共 $2 \\times 13 = 26$ 个。\n- $i=\\pm 6$: $J^2 \\le 28 \\implies |J| \\le 5$。$J$ 有 $2 \\times 5 + 1 = 11$ 个值。共 $2 \\times 11 = 22$ 个。\n- $i=\\pm 7$: $J^2 \\le 15 \\implies |J| \\le 3$。$J$ 有 $2 \\times 3 + 1 = 7$ 个值。共 $2 \\times 7 = 14$ 个。\n- $i=\\pm 8$: $J^2 \\le 0 \\implies J=0$。$J$ 有 $1$ 个值。共 $2 \\times 1 = 2$ 个。\n\n将所有点数相加：\n$$N_{\\text{Euclid}} = 17 + 30 + 30 + 30 + 26 + 26 + 22 + 14 + 2 = 197$$\n\n### 第2步：计算街道网络缓冲区中的食品店数量 ($N_{\\text{network}}$)\n街道网络缓冲区包含所有网格点 $(i,j)$，其沿允许路径到住宅 $(0,1)$ 的最短距离不超过8。我们分两种情况讨论。\n\n**情况A：位于河流屏障上方或岸边的食品店 ($j \\ge 0$)**\n对于这些点，路径不受河流影响，最短距离为标准的曼哈顿距离：\n$d_{\\text{net}} = |i - 0| + |j - 1| \\le 8$。\n令 $J = j-1$，则不等式为 $|i| + |J| \\le 8$。由于 $j \\ge 0$，则 $J=j-1 \\ge -1$。\n我们需要计算满足 $|i|+|J| \\le 8$ 且 $J \\ge -1$ 的整数点 $(i, J)$ 的数量。\n- 对于 $J=-1$：$|i| \\le 8 - 1 = 7$。$i$ 有 $2 \\times 7 + 1 = 15$ 个值。\n- 对于 $J=0$：$|i| \\le 8 - 0 = 8$。$i$ 有 $2 \\times 8 + 1 = 17$ 个值。\n- 对于 $J \\ge 1$：点数与 $J \\le -1$ 的情况对称。$J$ 从 $1$ 到 $8$，对应的 $|i|$ 上限为 $7, 6, \\dots, 0$。点数为 $2 \\times (15+13+\\dots+1) = 2 \\times \\frac{8}{2}(1+15) = 64$。\n所以，上半区域的总点数为 $15 (J=-1) + 17 (J=0) + 64 (J \\ge 1) = 96$。\n\n**情况B：位于河流屏障下方的食品店 ($j  0$, 即 $j \\le -1$)**\n要到达这些点，必须通过两座桥之一。从住宅 $(0,1)$ 到达任一桥的入口 $(\\pm 3, 0)$ 的最短距离为 $| \\pm 3 - 0| + |0-1| = 4$ 个单位。过桥本身消耗 $1$ 个单位。因此，到达对岸的桥出口 $(\\pm 3, -1)$ 的最短距离为 $4+1=5$ 个单位。\n从桥出口 $(\\pm 3, -1)$ 到达目标点 $(i,j)$ 的距离为 $|i - (\\pm 3)| + |j - (-1)|$。\n因此，从住宅到点 $(i,j)$ 的总距离为：\n$d_{\\text{net}} = 5 + \\min(|i-3|, |i+3|) + |j+1|$\n由于 $j \\le -1$，$|j+1| = -(j+1)$。所以 $d_{\\text{net}} = 4 - j + \\min(|i-3|, |i+3|)$。\n我们需要求满足 $d_{\\text{net}} \\le 8$ 的点数，即 $-j \\le 4 - \\min(|i-3|, |i+3|)$。由于 $j$ 为整数且 $j \\le -1$，所以 $-j$ 为正整数。对于给定的 $i$，可能的 $j$ 的数量为 $\\lfloor 4 - \\min(|i-3|, |i+3|) \\rfloor$。\n- $i=0$: $\\min(|-3|,|3|) = 3$。$-j \\le 4-3=1$。$j=-1$。1个点。\n- $i=\\pm 1$: $\\min(|1\\mp 3|,|1\\pm 3|) = 2$。$-j \\le 4-2=2$。$j=-1,-2$。$2 \\times 2 = 4$个点。\n- $i=\\pm 2$: $\\min(|2\\mp 3|,|2\\pm 3|) = 1$。$-j \\le 4-1=3$。$j=-1,-2,-3$。$2 \\times 3 = 6$个点。\n- $i=\\pm 3$: $\\min(|3\\mp 3|,|3\\pm 3|) = 0$。$-j \\le 4-0=4$。$j=-1,-2,-3,-4$。$2 \\times 4 = 8$个点。\n- $i=\\pm 4$: $\\min(|4\\mp 3|,|4\\pm 3|) = 1$。$-j \\le 4-1=3$。$j=-1,-2,-3$。$2 \\times 3 = 6$个点。\n- $i=\\pm 5$: $\\min(|5\\mp 3|,|5\\pm 3|) = 2$。$-j \\le 4-2=2$。$j=-1,-2$。$2 \\times 2 = 4$个点。\n- $i=\\pm 6$: $\\min(|6\\mp 3|,|6\\pm 3|) = 3$。$-j \\le 4-3=1$。$j=-1$。$2 \\times 1 = 2$个点。\n- 对于 $|i| > 6$，$\\min > 3$，因此 $4-\\min  1$，没有解。\n下方区域的总点数为 $1 + 4 + 6 + 8 + 6 + 4 + 2 = 31$。\n\n街道网络缓冲区中的总点数为：\n$$N_{\\text{network}} = N_{\\text{上方区域}} + N_{\\text{下方区域}} = 96 + 31 = 127$$\n\n### 第3步：计算绝对偏差\n$$\\text{bias} = N_{\\text{Euclid}} - N_{\\text{network}} = 197 - 127 = 70$$\n使用欧几里得缓冲区会比更真实的街道网络缓冲区多计算70家食品店。", "answer": "$$\\boxed{70}$$", "id": "4581686"}, {"introduction": "我们的健康与室内环境质量息息相关，尤其是在通风不足的情况下，这会增加空气传播疾病的风险。本练习将理论付诸实践，要求你运用质量守恒定律建立一个动态模型，以预测室内二氧化碳浓度随时间的变化 [@problem_id:4581690]。通过将二氧化碳作为居住者产生生物废物的代理指标，该模型可以帮助评估通风是否充足，这是保障室内环境健康的一项关键技能。", "problem": "为评估一间大学教室的通风充足性，使用二氧化碳作为居住者产生的生物废气累积的代理指标。假设室内二氧化碳浓度，记为 $C_{\\mathrm{CO2}}(t)$，在空间上是均匀的（完全混合），并且其演变由两个过程决定：居住者持续产生和与室外空气交换。请利用质量守恒、理想气体行为和每小时换气次数（ACH）的定义，为占用期间的 $C_{\\mathrm{CO2}}(t)$ 构建一个第一性原理模型。\n\n该教室体积为 $V = 150\\,\\mathrm{m}^{3}$，有 $N = 20$ 名久坐的成年人，通风换气率为 $\\alpha = 3\\,\\mathrm{h}^{-1}$（每小时换气次数，ACH）。每位居住者以恒定的体积速率 $q = 0.30\\,\\mathrm{L}\\,\\mathrm{min}^{-1}$ 排放二氧化碳。设室外二氧化碳浓度为 $C_{\\text{out}} = 420$ 百万分率（ppm），并假设在 $t=0$ 时，教室内的条件与室外相同，即 $C_{\\mathrm{CO2}}(0) = C_{\\text{out}}$。将 $C_{\\mathrm{CO2}}(t)$ 视为无量纲的体积分数；作为参考，$x$ ppm 等于分数 $x \\times 10^{-6}$。\n\n在这些假设下，推导控制方程并求解 $C_{\\mathrm{CO2}}(t)$。然后，计算室内浓度首次达到 $1000$ ppm 的时间 $t_{1000}$，即当 $C_{\\mathrm{CO2}}(t_{1000}) = 1000 \\times 10^{-6}$ 时。将最终时间以分钟表示，并将答案四舍五入到三位有效数字。", "solution": "该问题要求基于质量守恒原理为室内二氧化碳浓度 $C(t)$（无量纲体积分数）建立并求解一个动态模型。\n\n### 第1步：建立质量平衡方程\n室内二氧化碳总量的变化率等于流入、流出和产生的速率之和。\n- **流入速率**: 进入房间的空气流量为 $\\alpha V$，带来的二氧化碳速率为 $(\\alpha V) C_{\\text{out}}$。\n- **流出速率**: 流出房间的空气浓度为 $C(t)$，带走的二氧化碳速率为 $(\\alpha V) C(t)$。\n- **产生速率**: $N$ 位居住者的总产生速率为 $G = Nq$。\n\n将这些项组合，得到质量平衡方程：\n$$\\frac{d}{dt}[V C(t)] = V \\frac{dC(t)}{dt} = (\\alpha V) C_{\\text{out}} - (\\alpha V) C(t) + G$$\n两边同除以体积 $V$，得到一阶线性常微分方程(ODE)：\n$$\\frac{dC(t)}{dt} + \\alpha C(t) = \\alpha C_{\\text{out}} + \\frac{G}{V}$$\n\n### 第2步：求解微分方程\n该ODE的通解形式为 $C(t) = C_{\\infty} + (C(0) - C_{\\infty})\\exp(-\\alpha t)$，其中 $C_{\\infty}$ 是稳态浓度（当 $\\frac{dC}{dt}=0$ 时），$C(0)$ 是初始浓度。\n稳态浓度 $C_{\\infty} = C_{\\text{out}} + \\frac{G}{\\alpha V}$。\n初始条件为 $C(0) = C_{\\text{out}}$。\n代入通解，得到特定解：\n$$C(t) = \\left(C_{\\text{out}} + \\frac{G}{\\alpha V}\\right) + \\left(C_{\\text{out}} - \\left(C_{\\text{out}} + \\frac{G}{\\alpha V}\\right)\\right)\\exp(-\\alpha t)$$\n$$C(t) = C_{\\text{out}} + \\frac{G}{\\alpha V} (1 - \\exp(-\\alpha t))$$\n\n### 第3步：代入数值计算\n首先，统一单位。我们将时间单位统一为小时(h)，体积单位统一为立方米(m³)。\n- **产生速率 $G$**:\n$q = 0.30\\,\\mathrm{L/min} = 0.30 \\times 10^{-3}\\,\\mathrm{m^3/min} \\times 60\\,\\mathrm{min/h} = 0.018\\,\\mathrm{m^3/h}$\n$G = Nq = 20 \\times 0.018\\,\\mathrm{m^3/h} = 0.36\\,\\mathrm{m^3/h}$\n- **其他参数**:\n$V = 150\\,\\mathrm{m^3}$\n$\\alpha = 3\\,\\mathrm{h^{-1}}$\n$C_{\\text{out}} = 420\\,\\mathrm{ppm} = 420 \\times 10^{-6}$\n$C_{\\text{target}} = 1000\\,\\mathrm{ppm} = 1000 \\times 10^{-6}$\n\n我们需要求解当 $C(t) = C_{\\text{target}}$ 时的时间 $t_{1000}$。从解出的方程中分离 $t$：\n$$C(t_{1000}) - C_{\\text{out}} = \\frac{G}{\\alpha V} (1 - \\exp(-\\alpha t_{1000}))$$\n$$\\exp(-\\alpha t_{1000}) = 1 - \\frac{\\alpha V (C(t_{1000}) - C_{\\text{out}})}{G}$$\n$$t_{1000} = -\\frac{1}{\\alpha} \\ln\\left(1 - \\frac{\\alpha V (C_{\\text{target}} - C_{\\text{out}})}{G}\\right)$$\n\n代入数值：\n$$t_{1000} = -\\frac{1}{3} \\ln\\left(1 - \\frac{3 \\times 150 \\times (1000 \\times 10^{-6} - 420 \\times 10^{-6})}{0.36}\\right)$$\n$$t_{1000} = -\\frac{1}{3} \\ln\\left(1 - \\frac{450 \\times 580 \\times 10^{-6}}{0.36}\\right)$$\n$$t_{1000} = -\\frac{1}{3} \\ln\\left(1 - \\frac{0.261}{0.36}\\right)$$\n$$t_{1000} = -\\frac{1}{3} \\ln(1 - 0.725) = -\\frac{1}{3} \\ln(0.275)$$\n\n计算对数值：$\\ln(0.275) \\approx -1.291$。\n$$t_{1000} \\approx -\\frac{1}{3}(-1.291)\\,\\mathrm{h} \\approx 0.4303\\,\\mathrm{h}$$\n\n### 第4步：转换为分钟并四舍五入\n将时间从小时转换为分钟：\n$$t_{1000} \\approx 0.4303\\,\\mathrm{h} \\times 60\\,\\mathrm{min/h} \\approx 25.818\\,\\mathrm{min}$$\n四舍五入到三位有效数字，得到 $25.8$ 分钟。\n\n（作为核对，稳态浓度为 $C_{\\infty} = 420 + \\frac{0.36}{3 \\times 150} \\times 10^6 = 420 + 800 = 1220\\,\\mathrm{ppm}$。因为目标浓度 $1000\\,\\mathrm{ppm}$ 低于稳态浓度，所以可以在有限时间内达到。）", "answer": "$$\\boxed{25.8}$$", "id": "4581690"}]}