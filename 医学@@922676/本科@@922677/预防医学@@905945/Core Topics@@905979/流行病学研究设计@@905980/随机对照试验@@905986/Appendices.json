{"hands_on_practices": [{"introduction": "确定合适的样本量是设计任何严谨的随机对照试验（RCT）的关键第一步。本练习[@problem_id:4628034]将引导您从统计学的第一性原理出发，推导标准的样本量计算公式，从而将统计功效（power）、错误率和预期效应量联系起来。掌握这一推导过程是规划符合伦理且科学可靠试验的一项基本技能。", "problem": "考虑一项双臂随机对照试验，干预组和对照组等比例分配，在稳定的条件下，于一个共同的随访时间点对每位参与者观察一次二元结局。令 $p_0$ 表示对照组的真实事件概率，$p_1$ 表示干预组的真实事件概率。目标效应为风险差 $\\Delta = p_1 - p_0$，并假设该设计旨在检验原假设 $H_0: p_1 - p_0 = 0$ 与双侧备择假设 $H_1: p_1 - p_0 \\neq 0$。要求I类错误率为 $\\,\\alpha\\,$，并为检测预先设定的非零风险差 $\\,\\Delta\\,$ 达到 $\\,1 - \\beta\\,$ 的统计功效。\n\n使用以下基本依据：\n- 根据中心极限定理，在独立抽样下，对于每组 $n$ 名参与者，组别 $a \\in \\{0,1\\}$ 中的样本比例 $\\hat{p}_a$ 的大样本分布为 $\\hat{p}_a \\approx \\mathcal{N}\\!\\left(p_a,\\, p_a(1 - p_a)/n\\right)$，并且在等比例分配下两组是独立的。\n- 由于独立性，样本比例之差 $D = \\hat{p}_1 - \\hat{p}_0$ 近似服从正态分布，其均值为 $p_1 - p_0$，方差为 $p_1(1 - p_1)/n + p_0(1 - p_0)/n$。\n- 对于 $H_0$ 的双侧 $\\alpha$ 水平检验，使用标准正态分位数函数 $\\Phi^{-1}(\\cdot)$ 和一个设计阶段的原假设方差来设定拒绝阈值。设设计阶段的合并计划值为 $p_{\\ast} = (p_0 + p_1)/2$，则 $D$ 在原假设下的标准差为 $\\sqrt{2\\,p_{\\ast}(1 - p_{\\ast})/n}$。\n\n从这些基础出发，不使用任何预先记忆的样本量公式，推导出所需每组样本量 $n$ 的封闭式解析表达式（不要求为整数；忽略任何整数取整），该样本量需确保在等比例分配下，检测风险差 $\\Delta$ 时的I类错误率为 $\\,\\alpha\\,$，统计功效为 $\\,1 - \\beta\\,$。请将您的最终答案表示为关于 $p_0$、$p_1$、$\\alpha$、$\\beta$、$\\Delta$ 以及标准正态分位数函数 $\\Phi^{-1}(\\cdot)$ 的单一解析表达式。您可以假设 $\\Delta \\neq 0$。不需要进行数值计算，也不需要取整。答案必须是每组的样本量。", "solution": "该问题陈述是生物统计学领域一个有效且定义明确的问题，具体涉及随机对照试验的设计。它提供了一套完整且一致的已知条件和假设，可以从中推导出一个唯一的解析解。\n\n### 第1步：提取已知条件\n-   **研究设计**：双臂随机对照试验，等比例分配（每组 $n$ 名参与者）。\n-   **结局**：二元。\n-   **参数**：$p_0$ 是对照组的真实事件概率；$p_1$ 是干预组的真实事件概率。\n-   **效应量**：风险差，$\\Delta = p_1 - p_0$。\n-   **假设**：原假设 $H_0: p_1 - p_0 = 0$；备择假设 $H_1: p_1 - p_0 \\neq 0$。\n-   **错误率**：I类错误率为 $\\alpha$；II类错误率为 $\\beta$，对应统计功效为 $1 - \\beta$。\n-   **分布假设**：\n    1.  组别 $a \\in \\{0,1\\}$ 中的样本比例，记为 $\\hat{p}_a$，近似服从正态分布：$\\hat{p}_a \\sim \\mathcal{N}(p_a, \\frac{p_a(1-p_a)}{n})$。\n    2.  样本比例之差 $D = \\hat{p}_1 - \\hat{p}_0$ 近似服从正态分布：$D \\sim \\mathcal{N}(p_1 - p_0, \\frac{p_1(1-p_1)}{n} + \\frac{p_0(1-p_0)}{n})$。\n-   **检验构建**：\n    1.  检验使用标准正态分位数函数 $\\Phi^{-1}(\\cdot)$。\n    2.  在设计阶段，$D$ 的原假设方差基于计划值 $p_{\\ast} = (p_0 + p_1)/2$，得出在 $H_0$ 下 $D$ 的标准差为 $\\sqrt{2 p_{\\ast}(1-p_{\\ast})/n}$。\n\n### 第2步：使用提取的已知条件进行验证\n-   **科学依据**：该问题基于成熟的统计理论，即使用正态近似二项分布来比较两个比例，这是设计临床试验的一个基本概念。\n-   **定义明确**：该问题定义清晰，提供了推导所需样本量 $n$ 的所有必要参数（$\\alpha, \\beta, p_0, p_1$）和分布基础。指令明确，可导向唯一的解。\n-   **客观性**：语言正式、精确，没有任何主观性或歧义。\n\n该问题有效，因为它满足了一个表述良好的科学问题的所有标准。\n\n### 样本量公式的推导\n\n目标是推导出满足指定I类和II类错误约束的每组样本量 $n$ 的表达式。推导过程从给定的第一性原理出发。\n\n**1. I类错误与拒绝法则**\n\n原假设为 $H_0: \\Delta = p_1 - p_0 = 0$。检验统计量是观察到的比例差 $D = \\hat{p}_1 - \\hat{p}_0$。\n\n根据问题陈述，为了试验设计的目的，$H_0$ 下 $D$ 的分布被视为近似正态分布，其均值为 $0$，方差 $\\text{Var}_0(D)$ 使用计划值 $p_{\\ast} = (p_0 + p_1)/2$ 构建。\n$$ \\text{Var}_0(D) = \\frac{2 p_{\\ast}(1 - p_{\\ast})}{n} = \\frac{2 \\left(\\frac{p_0+p_1}{2}\\right) \\left(1 - \\frac{p_0+p_1}{2}\\right)}{n} $$\n对于I类错误率为 $\\alpha$ 的双侧检验，如果观察到的差值 $|D|$ 大于某个临界值 $C$，我们拒绝 $H_0$。这个临界值由原假设分布的尾部确定。在 $H_0$ 下的标准化统计量为 $Z = D / \\sqrt{\\text{Var}_0(D)}$。如果 $|Z| > \\Phi^{-1}(1 - \\alpha/2)$，我们就拒绝原假设。\n这意味着对于未标准化的差值 $D$ 的拒绝域是 $|D| > C$，其中：\n$$ C = \\Phi^{-1}\\left(1 - \\frac{\\alpha}{2}\\right) \\sqrt{\\text{Var}_0(D)} = \\Phi^{-1}\\left(1 - \\frac{\\alpha}{2}\\right) \\sqrt{\\frac{2 p_{\\ast}(1 - p_{\\ast})}{n}} $$\n\n**2. II类错误与统计功效**\n\n统计功效是在备择假设 $H_1$ 为真时正确拒绝 $H_0$ 的概率。在 $H_1$ 下，真实差值为 $\\Delta = p_1 - p_0 \\neq 0$。\n\n在 $H_1$ 下，$D$ 的分布近似为正态分布，均值为 $\\Delta$，方差为 $\\text{Var}_1(D)$：\n$$ D \\sim \\mathcal{N}\\left(\\Delta, \\text{Var}_1(D)\\right) \\quad \\text{其中} \\quad \\text{Var}_1(D) = \\frac{p_1(1-p_1)}{n} + \\frac{p_0(1-p_0)}{n} $$\n统计功效 $1 - \\beta$ 是 $D$ 落在拒绝域内的概率，即 $P(|D| > C | H_1)$。\n$$ 1 - \\beta = P(D > C | H_1) + P(D  -C | H_1) $$\n假设 $\\Delta  0$（$\\Delta  0$ 的情况是对称的），对于一个功效充足的研究，$P(D  -C | H_1)$ 这一项通常可以忽略不计，因为 $D$ 的分布中心远离 $-C$。因此，我们可以用第一项来近似统计功效：\n$$ 1 - \\beta \\approx P(D  C | H_1) $$\n为了评估这个概率，我们使用 $D$ 在 $H_1$ 下的分布对其进行标准化：\n$$ 1 - \\beta \\approx P\\left( \\frac{D - \\Delta}{\\sqrt{\\text{Var}_1(D)}}  \\frac{C - \\Delta}{\\sqrt{\\text{Var}_1(D)}} \\right) $$\n概率内部左边的项是一个标准正态变量，$Z \\sim \\mathcal{N}(0,1)$。\n$$ P\\left( Z  \\frac{C - \\Delta}{\\sqrt{\\text{Var}_1(D)}} \\right) = 1 - \\beta $$\n根据标准正态累积分布函数 $\\Phi$ 的定义，这意味着：\n$$ \\frac{C - \\Delta}{\\sqrt{\\text{Var}_1(D)}} = \\Phi^{-1}(1 - (1-\\beta)) = \\Phi^{-1}(\\beta) $$\n求解临界值 $C$，我们得到它的第二个表达式，这次是根据统计功效的要求得出的：\n$$ C = \\Delta + \\Phi^{-1}(\\beta) \\sqrt{\\text{Var}_1(D)} $$\n\n**3. 求解样本量 n**\n\n我们现在有两个关于临界值 $C$ 的表达式，一个来自I类错误的约束，另一个来自统计功效的约束。通过令它们相等，我们可以解出 $n$。\n$$ \\Phi^{-1}\\left(1 - \\frac{\\alpha}{2}\\right) \\sqrt{\\text{Var}_0(D)} = \\Delta + \\Phi^{-1}(\\beta) \\sqrt{\\text{Var}_1(D)} $$\n代入方差的表达式，它们都依赖于 $1/\\sqrt{n}$：\n$$ \\Phi^{-1}\\left(1 - \\frac{\\alpha}{2}\\right) \\frac{\\sqrt{2 p_{\\ast}(1 - p_{\\ast})}}{\\sqrt{n}} = \\Delta + \\Phi^{-1}(\\beta) \\frac{\\sqrt{p_1(1-p_1) + p_0(1-p_0)}}{\\sqrt{n}} $$\n重新排列方程以分离 $\\Delta$：\n$$ \\Delta = \\frac{1}{\\sqrt{n}} \\left[ \\Phi^{-1}\\left(1 - \\frac{\\alpha}{2}\\right) \\sqrt{2 p_{\\ast}(1 - p_{\\ast})} - \\Phi^{-1}(\\beta) \\sqrt{p_1(1-p_1) + p_0(1-p_0)} \\right] $$\n利用标准正态分位数函数的对称性，$\\Phi^{-1}(\\beta) = -\\Phi^{-1}(1-\\beta)$：\n$$ \\Delta = \\frac{1}{\\sqrt{n}} \\left[ \\Phi^{-1}\\left(1 - \\frac{\\alpha}{2}\\right) \\sqrt{2 p_{\\ast}(1 - p_{\\ast})} + \\Phi^{-1}(1-\\beta) \\sqrt{p_1(1-p_1) + p_0(1-p_0)} \\right] $$\n现在，我们求解 $\\sqrt{n}$，然后将结果平方以求得 $n$：\n$$ \\sqrt{n} = \\frac{\\Phi^{-1}\\left(1 - \\frac{\\alpha}{2}\\right) \\sqrt{2 p_{\\ast}(1 - p_{\\ast})} + \\Phi^{-1}(1-\\beta) \\sqrt{p_1(1-p_1) + p_0(1-p_0)}}{\\Delta} $$\n$$ n = \\left( \\frac{\\Phi^{-1}\\left(1 - \\frac{\\alpha}{2}\\right) \\sqrt{2 p_{\\ast}(1 - p_{\\ast})} + \\Phi^{-1}(1-\\beta) \\sqrt{p_1(1-p_1) + p_0(1-p_0)}}{\\Delta} \\right)^2 $$\n代入 $p_{\\ast} = (p_0+p_1)/2$ 的定义，并将表达式写成单个分数，便得到每组样本量 $n$ 的最终封闭式表达式。\n$$ n = \\frac{\\left( \\Phi^{-1}\\left(1 - \\frac{\\alpha}{2}\\right) \\sqrt{2 \\left(\\frac{p_0+p_1}{2}\\right)\\left(1 - \\frac{p_0+p_1}{2}\\right)} + \\Phi^{-1}(1-\\beta) \\sqrt{p_0(1-p_0) + p_1(1-p_1)} \\right)^2}{\\Delta^2} $$\n此表达式将每组所需的样本量表示为指定参数 $p_0$、$p_1$、$\\alpha$、$\\beta$ 以及风险差 $\\Delta = p_1-p_0$ 的函数。", "answer": "$$ \\boxed{ n = \\frac{\\left( \\Phi^{-1}\\left(1-\\frac{\\alpha}{2}\\right) \\sqrt{2 \\left(\\frac{p_0+p_1}{2}\\right) \\left(1 - \\frac{p_0+p_1}{2}\\right)} + \\Phi^{-1}(1-\\beta) \\sqrt{p_0(1-p_0) + p_1(1-p_1)} \\right)^{2}}{\\Delta^{2}} } $$", "id": "4628034"}, {"introduction": "虽然随机化旨在创建可比较的研究组，但在重要的基线协变量上仍可能出现偶然的不均衡。本练习[@problem_id:4568090]将演示如何使用标准化均数差（SMD）来量化这种不均衡。更重要的是，它揭示了这些不均衡如何对未经调整的治疗效应估计值产生偏倚，从而强调了在分析中进行协变量调整的必要性。", "problem": "一项预防医学领域的双臂随机对照试验 (RCT) 评估了一个基于智能手机的生活方式指导项目，旨在降低糖尿病前期成年人的空腹血糖 (FPG)。参与者被随机分配到治疗组 ($Z=1$) 或对照组 ($Z=0$)。主要结局是6个月时的空腹血糖（单位为 $\\mathrm{mg/dL}$）。两个基线协变量是年龄（单位为岁，记为 $A$）和基线空腹血糖（记为 $G_0$，单位为 $\\mathrm{mg/dL}$）。\n\n在基线时，观察到以下汇总数据：\n- 治疗组样本量 $n_T = 160$，对照组样本量 $n_C = 140$。\n- 年龄：治疗组均值 $\\bar{A}_T = 54.2$，治疗组标准差 $s_{A,T} = 9.1$；对照组均值 $\\bar{A}_C = 51.0$，对照组标准差 $s_{A,C} = 8.7$。\n- 基线空腹血糖：治疗组均值 $\\bar{G}_{0,T} = 110.0$，治疗组标准差 $s_{G,T} = 12.0$；对照组均值 $\\bar{G}_{0,C} = 106.0$，对照组标准差 $s_{G,C} = 11.5$。\n\n该研究预先设定的均衡性标准是，两个协变量的最大绝对标准化均数差 (SMD) 必须小于 $0.10$，才能放弃采取补救措施。如果不满足该标准，研究将根据发现时间选择重新随机化（如果在入组前发现）或在主要分析中计划进行协变量调整（如果在随机化后发现）。\n\n假设6个月时空腹血糖 $Y$ 的结构性结局模型是线性的：\n$$\nY = \\alpha + \\tau Z + \\beta_G G_0 + \\beta_A A + \\varepsilon,\n$$\n其中 $\\varepsilon$ 的均值为 $0$，且独立于 $Z$ 和基线协变量。真实治疗效应为 $\\tau = -4.0$（单位为 $\\mathrm{mg/dL}$），协变量效应为 $\\beta_G = 0.50$（单位为 $\\mathrm{mg/dL}$ 每 $\\mathrm{mg/dL}$）和 $\\beta_A = 0.020$（单位为 $\\mathrm{mg/dL}$ 每年）。\n\n任务：\n1. 使用观察到的基线汇总数据，通过计算每个协变量（年龄和基线空腹血糖）的标准化均数差来评估基线不均衡性。\n2. 判断是否满足均衡性标准，并确定哪种补救策略（重新随机化或协变量调整）在原则上是合适的。\n3. 在上述线性模型下，并给定观察到的基线不均衡性，计算治疗组和对照组之间未经调整的结局均值差异的期望值（即，未对 $A$ 或 $G_0$ 进行调整的朴素估计量）。\n\n仅报告任务3的数值结果作为最终答案。最终答案以 $\\mathrm{mg/dL}$ 为单位，并四舍五入到四位有效数字。", "solution": "该问题被评估为有效，因为其科学基础在于随机对照试验和生物统计学的原理，提法得当，具有足够的信息以得到唯一解，且陈述客观。\n\n该问题需要进行三部分分析。最终答案将是第三部分的结果。\n\n**任务1：通过计算标准化均数差 (SMD) 评估基线不均衡性。**\n\n给定协变量的标准化均数差计算方法是：治疗组和对照组的均值之差，除以合并标准差。合并标准差 $s_p$ 的公式为：\n$$ s_p = \\sqrt{\\frac{(n_T - 1)s_T^2 + (n_C - 1)s_C^2}{n_T + n_C - 2}} $$\n其中 $n_T$ 和 $n_C$ 分别是治疗组和对照组的样本量，$s_T$ 和 $s_C$ 分别是治疗组和对照组的标准差。\n\n对于协变量年龄 ($A$)：\n给定数据为：\n- 治疗组：$n_T = 160$, $\\bar{A}_T = 54.2$, $s_{A,T} = 9.1$。\n- 对照组：$n_C = 140$, $\\bar{A}_C = 51.0$, $s_{A,C} = 8.7$。\n\n首先，我们计算年龄的合并标准差 $s_{p,A}$：\n$$ s_{p,A} = \\sqrt{\\frac{(160 - 1)(9.1)^2 + (140 - 1)(8.7)^2}{160 + 140 - 2}} $$\n$$ s_{p,A} = \\sqrt{\\frac{159 \\times 82.81 + 139 \\times 75.69}{298}} $$\n$$ s_{p,A} = \\sqrt{\\frac{13166.79 + 10520.91}{298}} = \\sqrt{\\frac{23687.7}{298}} \\approx 8.91565 $$\n现在，我们计算年龄的SMD：\n$$ \\text{SMD}_A = \\frac{\\bar{A}_T - \\bar{A}_C}{s_{p,A}} = \\frac{54.2 - 51.0}{8.91565} = \\frac{3.2}{8.91565} \\approx 0.35891 $$\n\n对于协变量基线空腹血糖 ($G_0$)：\n给定数据为：\n- 治疗组：$n_T = 160$, $\\bar{G}_{0,T} = 110.0$, $s_{G,T} = 12.0$。\n- 对照组：$n_C = 140$, $\\bar{G}_{0,C} = 106.0$, $s_{G,C} = 11.5$。\n\n我们计算基线空腹血糖的合并标准差 $s_{p,G}$：\n$$ s_{p,G} = \\sqrt{\\frac{(160 - 1)(12.0)^2 + (140 - 1)(11.5)^2}{160 + 140 - 2}} $$\n$$ s_{p,G} = \\sqrt{\\frac{159 \\times 144 + 139 \\times 132.25}{298}} $$\n$$ s_{p,G} = \\sqrt{\\frac{22896 + 18382.75}{298}} = \\sqrt{\\frac{41278.75}{298}} \\approx 11.76943 $$\n现在，我们计算基线空腹血糖的SMD：\n$$ \\text{SMD}_G = \\frac{\\bar{G}_{0,T} - \\bar{G}_{0,C}}{s_{p,G}} = \\frac{110.0 - 106.0}{11.76943} = \\frac{4.0}{11.76943} \\approx 0.33986 $$\n\n**任务2：判断是否满足均衡性标准以及合适的补救策略。**\n\n计算出的绝对SMD为 $|\\text{SMD}_A| \\approx 0.359$ 和 $|\\text{SMD}_G| \\approx 0.340$。最大绝对SMD约为 $0.359$。预先设定的均衡性标准要求该值小于 $0.10$。由于 $0.359  0.10$，因此不满足均衡性标准。\n\n问题陈述了需要采取补救措施。由于不均衡性是从观察到的基线汇总数据中检测出来的，这意味着试验处于“随机化后”阶段。因此，合适的补救策略是在主要分析中计划进行协变量调整，而不是重新随机化。\n\n**任务3：计算未经调整的结局均值差异的期望值。**\n\n我们需要计算治疗组和对照组之间未经调整的结局均值差异的期望值，即 $E[\\bar{Y}_T - \\bar{Y}_C]$。6个月时空腹血糖 $Y$ 的结构模型由下式给出：\n$$ Y_i = \\alpha + \\tau Z_i + \\beta_G G_{0,i} + \\beta_A A_i + \\varepsilon_i $$\n其中 $E[\\varepsilon_i] = 0$。该期望是基于特定样本中观察到的协变量和治疗分配的条件期望。\n\n治疗组 ($Z_i=1$) 的期望平均结局为：\n$$ E[\\bar{Y}_T] = E\\left[ \\frac{1}{n_T} \\sum_{i \\in \\text{Treatment}} Y_i \\right] = \\frac{1}{n_T} \\sum_{i \\in \\text{Treatment}} E[Y_i] $$\n$$ E[\\bar{Y}_T] = \\frac{1}{n_T} \\sum_{i \\in \\text{Treatment}} (\\alpha + \\tau(1) + \\beta_G G_{0,i} + \\beta_A A_i) $$\n利用求和的线性性质和样本均值的定义：\n$$ E[\\bar{Y}_T] = \\alpha + \\tau + \\beta_G \\bar{G}_{0,T} + \\beta_A \\bar{A}_T $$\n\n类似地，对照组 ($Z_j=0$) 的期望平均结局为：\n$$ E[\\bar{Y}_C] = E\\left[ \\frac{1}{n_C} \\sum_{j \\in \\text{Control}} Y_j \\right] = \\frac{1}{n_C} \\sum_{j \\in \\text{Control}} E[Y_j] $$\n$$ E[\\bar{Y}_C] = \\frac{1}{n_C} \\sum_{j \\in \\text{Control}} (\\alpha + \\tau(0) + \\beta_G G_{0,j} + \\beta_A A_j) $$\n$$ E[\\bar{Y}_C] = \\alpha + \\beta_G \\bar{G}_{0,C} + \\beta_A \\bar{A}_C $$\n\n未经调整的结局均值差异的期望值是这两个期望之差：\n$$ E[\\bar{Y}_T - \\bar{Y}_C] = (\\alpha + \\tau + \\beta_G \\bar{G}_{0,T} + \\beta_A \\bar{A}_T) - (\\alpha + \\beta_G \\bar{G}_{0,C} + \\beta_A \\bar{A}_C) $$\n$$ E[\\bar{Y}_T - \\bar{Y}_C] = \\tau + \\beta_G (\\bar{G}_{0,T} - \\bar{G}_{0,C}) + \\beta_A (\\bar{A}_T - \\bar{A}_C) $$\n该表达式代表真实治疗效应 $\\tau$ 加上由观察到的协变量不均衡所引入的偏倚。\n\n我们代入给定值：\n- 真实治疗效应：$\\tau = -4.0$。\n- 协变量效应：$\\beta_G = 0.50$, $\\beta_A = 0.020$。\n- 观察到的均值差异：$\\bar{G}_{0,T} - \\bar{G}_{0,C} = 110.0 - 106.0 = 4.0$。\n- 观察到的均值差异：$\\bar{A}_T - \\bar{A}_C = 54.2 - 51.0 = 3.2$。\n\n将这些值代入方程：\n$$ E[\\bar{Y}_T - \\bar{Y}_C] = -4.0 + (0.50)(4.0) + (0.020)(3.2) $$\n$$ E[\\bar{Y}_T - \\bar{Y}_C] = -4.0 + 2.0 + 0.064 $$\n$$ E[\\bar{Y}_T - \\bar{Y}_C] = -2.0 + 0.064 $$\n$$ E[\\bar{Y}_T - \\bar{Y}_C] = -1.936 $$\n未经调整的结局均值差异的期望值为 $-1.936$ $\\mathrm{mg/dL}$。根据要求，该值有四位有效数字。", "answer": "$$\\boxed{-1.936}$$", "id": "4568090"}, {"introduction": "将试验结果转化为临床实践的直观指标至关重要，而需治疗人数（NNT）正是为此目的而广泛使用的指标之一。本练习[@problem_id:4568043]不仅要求您计算NNT，更鼓励您批判性地思考其局限性，特别是在预防医学中常见的涉及删失和时间-事件终点的研究背景下。这有助于培养对研究证据的审慎解读能力。", "problem": "一项在预防心脏病学中进行的随机对照试验 (RCT) 评估了每日服用一种降脂药物是否能预防年龄在 $50$ 至 $75$ 岁、基线风险较高的成年人在 $5$ 年内首次发生主要不良心血管事件。参与者以 $1{:}1$ 的比例随机分配，接受活性药物或匹配的安慰剂，每组 $n = 2{,}000$ 人，并进行长达 $5$ 年的随访。主要终点是至首次事件发生的时间，删失通过标准生存分析方法进行处理。在 $5$ 年时，该研究报告的 Kaplan–Meier 估计的 $5$ 年累积发生率在安慰剂组为 $0.20$，在积极治疗组为 $0.16$。\n\n仅使用累积发生率、绝对风险降低和需治疗人数的基本定义，根据报告的 $5$ 年累积发生率估计值计算 $5$ 年需治疗人数。将最终的需治疗人数表示为一个无单位的纯数字。如果结果是精确值，请勿四舍五入。\n\n在你的推理中，指出在涉及删失和潜在竞争风险的时间-事件结局中使用单一需治疗人数的两个不同局限性。你最终报告的答案必须仅为计算出的数字。", "solution": "对于时间-事件终点，基本量是到时间 $t$ 的累积发生率，记为 $CI(t)$，它表示到时间 $t$ 为止经历事件的概率。在随机对照试验 (RCT) 中，时间 $t$ 的绝对风险降低 (ARR) 定义为对照组和治疗组之间的风险差：\n$$\nARR(t) = CI_{\\text{control}}(t) - CI_{\\text{treatment}}(t).\n$$\n当治疗降低风险时，时间 $t$ 的需治疗人数 (NNT) 定义为时间 $t$ 绝对风险降低的倒数：\n$$\nNNT(t) = \\frac{1}{ARR(t)} \\quad \\text{for } ARR(t)  0.\n$$\n\n根据报告的 $5$ 年累积发生率估计值，$CI_{\\text{control}}(5) = 0.20$ 和 $CI_{\\text{treatment}}(5) = 0.16$，则 $5$ 年时的绝对风险降低为\n$$\nARR(5) = 0.20 - 0.16 = 0.04.\n$$\n因此，$5$ 年时的需治疗人数为\n$$\nNNT(5) = \\frac{1}{0.04} = 25.\n$$\n因为 $ARR(5)$ 为正，所以治疗相对于对照组降低了风险，$NNT(5)$ 可以解释为为了在 $5$ 年内多预防一个事件，需要治疗 $5$ 年的个体数量。\n\n在时间-事件背景下使用单一需治疗人数的局限性至少包括以下两点：\n$1.$ 时间依赖性：$NNT(t)$ 取决于所选择的时间范围 $t$，因为 $CI(t)$ 随时间累积；风险率很少是恒定的，生存曲线可能会发散、收敛或交叉，因此单个时间点可能无法准确表示其他时间的获益。\n$2.$ 删失和竞争风险：标准的基于 Kaplan–Meier 的 $CI(t)$ 将竞争风险视为非信息性删失，这在存在竞争风险时可能会高估绝对风险；因此，通过这种方式得出的 $ARR(t)$ 和 $NNT(t)$ 相对于明确考虑了竞争风险的累积发生率函数可能存在偏差。\n\n其他重要的考虑因素（尽管计算中不需要）包括基线风险异质性（这使得人群平均 $NNT(t)$ 与亚组特异性值不同）、非比例风险（这进一步使解释单一摘要变得复杂），以及 $NNT(t)$ 是一个差异的非线性变换，当 $ARR(t)$ 很小时，会导致不对称且宽的不确定性区间。\n\n计算值 $NNT(5) = 25$ 是精确值，无需四舍五入。", "answer": "$$\\boxed{25}$$", "id": "4568043"}]}