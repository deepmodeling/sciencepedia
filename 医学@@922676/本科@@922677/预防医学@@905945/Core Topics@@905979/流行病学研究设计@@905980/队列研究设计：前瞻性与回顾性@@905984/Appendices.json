{"hands_on_practices": [{"introduction": "在分析队列研究时，首要步骤是量化并比较暴露组与非暴露组中发生结局事件的风险。本练习提供了一个基础场景，用于实践计算累积发病率（代表风险）和风险比（$RR$），后者是衡量关联强度的主要工具。掌握这一基本计算是解读队列研究结果的基石。", "problem": "一个公共卫生团队正在同一人群中使用两种队列研究设计来评估一项筛查干预措施：一项前瞻性队列研究，在基线时招募参与者并对其进行为期 $2$ 年的前瞻性随访；以及一项回顾性队列研究，利用现有记录来确定 $2$ 年前的暴露状态并重建直至目前的结局。该队列是封闭的，所有个体在基线时均未出现结局，随访完整，并且没有竞争风险或失访。\n\n在暴露组中，招募了 $2{,}000$ 名个体，在 $2$ 年期间发生了 $80$ 例新发结局。在非暴露组中，招募了 $1{,}800$ 名个体，在相同的 $2$ 年期间发生了 $60$ 例新发结局。假设在这些条件下，回顾性确定产生的结果与前瞻性随访的计数相同。\n\n仅使用预防医学中队列研究设计的核心定义，计算暴露组和非暴露组在 $2$ 年内的累积发病率，并解释其差异如何在队列研究框架下反映暴露效应。最后，以简化分数的形式报告风险比（暴露组累积发病率与非暴露组累积发病率之比）。将最终风险比表示为精确分数；无需四舍五入。在最终报告的值中不要包含单位。", "solution": "问题陈述经评估有效。它在科学上基于流行病学原理，问题提出得当且包含了所有必要信息，并以客观的方式呈现。该场景是一个经典的教科书示例，用于说明队列研究中关联性基本度量的计算。所提供的假设——例如封闭队列和无失访——是入门级问题中的标准设定，旨在分离出核心概念。\n\n该问题要求计算两个组（暴露组和非暴露组）的累积发病率，并随后计算风险比。\n\n首先，我们定义累积发病率（$CI$），它是在指定时间段内，最初处于风险中的人群中出现结局的比例。其公式为：\n$$\nCI = \\frac{\\text{结局新发病例数}}{\\text{期初处于风险中的人群个体数}}\n$$\n问题陈述所有个体在基线时均未出现结局，因此每个组中的整个队列都处于风险中。\n\n对于暴露组，基线时招募的个体数量为 $N_{exp} = 2,000$。在为期 $2$ 年的随访期内，新发结局的数量为 $A_{exp} = 80$。因此，暴露组的累积发病率 $CI_{exp}$ 为：\n$$\nCI_{exp} = \\frac{A_{exp}}{N_{exp}} = \\frac{80}{2,000} = \\frac{8}{200} = \\frac{1}{25}\n$$\n这意味着在 $2$ 年期间，暴露组中个体出现结局的风险为 $\\frac{1}{25}$，即 $4\\%$。\n\n对于非暴露组，基线时招募的个体数量为 $N_{unexp} = 1,800$。在相同的 $2$ 年期间，新发结局的数量为 $A_{unexp} = 60$。非暴露组的累积发病率 $CI_{unexp}$ 为：\n$$\nCI_{unexp} = \\frac{A_{unexp}}{N_{unexp}} = \\frac{60}{1,800} = \\frac{6}{180} = \\frac{1}{30}\n$$\n这意味着在 $2$ 年期间，非暴露组中个体出现结局的风险为 $\\frac{1}{30}$，约等于 $3.33\\%$。\n\n问题要求解释这种差异如何反映暴露的效应。直接比较显示 $CI_{exp} > CI_{unexp}$ ($\\frac{1}{25} > \\frac{1}{30}$)。这表明暴露与出现结局的风险增加有关。在队列研究的框架中，暴露先于结局发生，这种关联表明暴露是该结局的一个风险因素。问题陈述，在这些理想条件下，前瞻性设计（对个体进行前瞻性随访）和回顾性设计（回顾记录）会得出相同的计数，这强调了两种设计在测量发病率方面的理论等效性。\n\n最后，我们计算风险比（$RR$），也称为相对风险。风险比是暴露组的累积发病率与非暴露组的累积发病率之比。\n$$\nRR = \\frac{CI_{exp}}{CI_{unexp}}\n$$\n代入 $CI_{exp}$ 和 $CI_{unexp}$ 的计算值：\n$$\nRR = \\frac{1/25}{1/30} = \\frac{1}{25} \\times \\frac{30}{1} = \\frac{30}{25}\n$$\n这个分数可以通过将分子和分母同时除以它们的最大公约数 $5$ 来简化：\n$$\nRR = \\frac{30 \\div 5}{25 \\div 5} = \\frac{6}{5}\n$$\n风险比为 $\\frac{6}{5}$（或 $1.2$）意味着在指定的 $2$ 年期间，暴露组的结局风险是非暴露组风险的 $1.2$ 倍。", "answer": "$$\\boxed{\\frac{6}{5}}$$", "id": "4511182"}, {"introduction": "累积发病率虽然实用，但真实世界的研究常常涉及随访时间不同的研究对象。本练习将引入“人-时”这一概念，它使我们能够计算发病率（或称发病密度），这是一种在动态队列中衡量疾病频率的更灵活的指标。你将通过计算暴露组和非暴露组的发病率及相应的率比（$RR$），来理解如何处理动态队列数据。", "problem": "一个卫生系统利用电子健康记录（EHR）组建了一个回顾性队列，比较了暴露于某种工作场所溶剂的个体与未暴露的个体。在研究期间，暴露组累积了 $400$ 风险人年，并发生了 $50$ 例慢性呼吸道疾病新发病例，而非暴露组累积了 $600$ 风险人年，并发生了 $45$ 例新发病例。根据核心定义，即在队列研究中，发病率是新发事件数除以累积的风险人时，而率比是比较暴露组与非暴露组的发病率，请计算暴露组的发病率、非暴露组的发病率以及率比。发病率以每人年事件数表示。将您的答案四舍五入至三位有效数字。将率比报告为无单位数字。", "solution": "该问题要求根据一项回顾性队列研究提供的数据，计算三项流行病学指标：暴露组的发病率、非暴露组的发病率以及比较这两者的率比。\n\n首先，我们根据问题陈述中提供的信息来定义变量。\n设 $I_E$ 为暴露组中慢性呼吸道疾病的新发病例数。\n设 $T_E$ 为暴露组的总风险人年。\n设 $I_U$ 为非暴露组中慢性呼吸道疾病的新发病例数。\n设 $T_U$ 为非暴露组的总风险人年。\n\n根据问题陈述，我们得到以下数值：\n暴露组：\n$I_E = 50$\n$T_E = 400$ 人年\n\n非暴露组：\n$I_U = 45$\n$T_U = 600$ 人年\n\n问题将发病率（我们记为 $R$）定义为新发事件数除以累积的风险人时。因此，对于任何给定组，公式为：\n$$R = \\frac{\\text{新发病例数}}{\\text{总风险人时}}$$\n\n使用此定义，我们可以计算暴露组的发病率 $R_E$。\n$$R_E = \\frac{I_E}{T_E} = \\frac{50}{400} \\text{ 人年}^{-1}$$\n$$R_E = \\frac{1}{8} \\text{ 人年}^{-1} = 0.125 \\text{ 人年}^{-1}$$\n问题要求答案四舍五入至三位有效数字。数值 $0.125$ 正好有三位有效数字（$1$、$2$、$5$），因此无需四舍五入。\n暴露组的发病率为每人年 $0.125$ 例事件。\n\n接下来，我们计算非暴露组的发病率 $R_U$。\n$$R_U = \\frac{I_U}{T_U} = \\frac{45}{600} \\text{ 人年}^{-1}$$\n$$R_U = \\frac{3 \\times 15}{40 \\times 15} \\text{ 人年}^{-1} = \\frac{3}{40} \\text{ 人年}^{-1} = 0.075 \\text{ 人年}^{-1}$$\n问题要求此答案四舍五入至三位有效数字。数值 $0.075$ 目前有两位有效数字（$7$ 和 $5$）。要用三位有效数字表示，我们必须在末尾添加一个零，在这种情况下这个零是有效的。\n$$R_U = 0.0750 \\text{ 人年}^{-1}$$\n非暴露组的发病率为每人年 $0.0750$ 例事件。\n\n最后，问题将率比 $RR$ 定义为暴露组发病率与非暴露组发病率之比。\n$$RR = \\frac{R_E}{R_U}$$\n代入已计算出的率：\n$$RR = \\frac{0.125}{0.075} = \\frac{\\frac{1}{8}}{\\frac{3}{40}} = \\frac{1}{8} \\times \\frac{40}{3} = \\frac{40}{24} = \\frac{5}{3}$$\n$$RR \\approx 1.6666...$$\n将此值四舍五入至三位有效数字得到 $1.67$。率比是一个无单位量，因为它是两个具有相同单位的率的比值。\n\n所要求的三个值是：\n1. 暴露组的发病率：每人年 $0.125$ 例事件。\n2. 非暴露组的发病率：每人年 $0.0750$ 例事件。\n3. 率比：$1.67$。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.125  0.0750  1.67\n\\end{pmatrix}\n}\n$$", "id": "4511096"}, {"introduction": "除了分析现有数据，研究人员的一项关键技能是规划新研究。这个实践练习将我们的重点转移到研究设计上，特别是确定所需的样本量，以确保研究有足够的统计功效来检测一个有意义的效应。你将学习如何运用预期风险、期望的风险比（$RR$）、显著性水平（$\\alpha$）和统计功效（$1-\\beta$）等关键参数来估算所需的参与者数量，这是任何研究计划中的关键一步。", "problem": "一个预防医学研究团队正计划进行一项前瞻性队列研究，通过双样本比例比较来比较暴露队列和非暴露队列之间某一新发结局的风险。预计非暴露组的风险为 $0.10$。该研究旨在在双侧统计显著性水平 $\\alpha = 0.05$ 和统计功效 $0.80$（II类错误 $\\beta = 0.20$）的条件下，检出 $1.5$ 的风险比。假设参与者被等量分配到暴露队列和非暴露队列，每个队列中的结局为独立的二元变量，并且根据中心极限定理（CLT），样本比例之差能够通过正态分布得到良好近似。\n\n从风险比、二项抽样、中心极限定理（CLT）以及比例差双侧假设检验构建的核心定义出发，推导为达到所述设计目标，每个队列所需的样本量的近似表达式。然后，使用给定的参数值对此表达式进行数值计算。将每个队列所需样本量的最终数值答案表示为四位有效数字，不带单位。", "solution": "用户希望推导并计算用于双样本比例比较的每个队列的样本量 $n$。\n\n### 步骤1：提取已知条件\n-   **研究设计**：比较暴露队列和非暴露队列的前瞻性队列研究。\n-   **统计检验**：双样本比例比较，双侧假设检验。\n-   **非暴露组风险**：$p_0 = 0.10$。\n-   **风险比**：$RR = 1.5$。\n-   **显著性水平**：$\\alpha = 0.05$。\n-   **统计功效**：$1 - \\beta = 0.80$（即II类错误率 $\\beta = 0.20$）。\n-   **分配**：每个队列等量分配，$n_1 = n_0 = n$。\n-   **假设**：独立的二元结局；通过中心极限定理（CLT）对样本比例之差进行正态分布近似。\n\n### 步骤2：使用提取的已知条件进行验证\n-   **科学依据**：该问题是生物统计学和流行病学中的一个标准、基础性任务，特别是在临床试验和观察性研究的设计中。所有概念（风险、风险比、功效、显著性水平、队列研究）都是公认的。\n-   **适定性**：该问题提供了所有必要的参数和一个明确的目标：推导样本量公式并计算其值。存在一个唯一的、有意义的解。\n-   **客观性**：该问题以精确、定量和无偏见的技术语言陈述。\n-   **缺陷检查清单**：该问题没有缺陷。它在科学上不是不合理的，也不是不可形式化的、不完整的、矛盾的、不切实际的或不适定的。\n\n### 步骤3：结论与行动\n该问题是**有效的**。将提供完整的推导和解答。\n\n### 样本量公式推导\n\n令 $p_1$ 和 $p_0$ 分别为暴露队列和非暴露队列中结局的真实比例。样本量分别为 $n_1$ 和 $n_0$。问题陈述分配是相等的，所以 $n_1 = n_0 = n$。样本比例用 $\\hat{p}_1$ 和 $\\hat{p}_0$ 表示。\n\n根据已知条件，非暴露队列的风险为 $p_0 = 0.10$。风险比为 $RR = p_1/p_0 = 1.5$。因此，在备择假设下，暴露队列的假设风险为 $p_1 = RR \\times p_0 = 1.5 \\times 0.10 = 0.15$。\n\n该研究旨在检验以下双侧假设：\n-   零假设 ($H_0$): $p_1 = p_0$ (即, $p_1 - p_0 = 0$)。\n-   备择假设 ($H_a$): $p_1 \\neq p_0$ (即, $p_1 - p_0 \\neq 0$)。\n\n检验统计量是样本比例之差，$\\hat{d} = \\hat{p}_1 - \\hat{p}_0$。根据中心极限定理，$\\hat{d}$ 近似服从正态分布。\n\n在备择假设 $H_a$ 下，$\\hat{d}$ 的分布为：\n$$ \\hat{d} \\sim N(\\mu_a, \\sigma_a^2) $$\n其中均值为 $\\mu_a = p_1 - p_0$，方差为 $\\sigma_a^2 = \\text{Var}(\\hat{p}_1 - \\hat{p}_0) = \\text{Var}(\\hat{p}_1) + \\text{Var}(\\hat{p}_0) = \\frac{p_1(1-p_1)}{n_1} + \\frac{p_0(1-p_0)}{n_0}$。\n当 $n_1 = n_0 = n$ 时，在 $H_a$ 下的标准误为 $\\sigma_a = \\sqrt{\\frac{p_1(1-p_1) + p_0(1-p_0)}{n}}$。\n\n对于显著性水平为 $\\alpha$ 的双侧检验，如果 $|\\hat{d}| > C$，我们拒绝 $H_0$，其中 $C$ 是临界值。该临界值由 $\\hat{d}$ 在 $H_0$ 下的分布确定。在 $H_0$ 下，$p_1=p_0$，分布为：\n$$ \\hat{d} \\sim N(\\mu_0, \\sigma_0^2) $$\n其中均值为 $\\mu_0 = 0$。方差 $\\sigma_0^2$ 基于合并比例，因为在 $H_0$ 下，两个样本来自具有相同比例的总体。出于研究设计的目的，我们将这个合并比例估计为 $\\bar{p} = \\frac{p_1 + p_0}{2}$。因此，方差为 $\\sigma_0^2 = \\frac{\\bar{p}(1-\\bar{p})}{n} + \\frac{\\bar{p}(1-\\bar{p})}{n} = \\frac{2\\bar{p}(1-\\bar{p})}{n}$。标准误为 $\\sigma_0 = \\sqrt{\\frac{2\\bar{p}(1-\\bar{p})}{n}}$。\n\n临界值 $C$ 由显著性水平定义：$P(|\\hat{d}| > C | H_0) = \\alpha$。这意味着 $C = z_{1-\\alpha/2} \\sigma_0$。\n\n统计功效是在 $H_a$ 为真时正确拒绝 $H_0$ 的概率：$P(|\\hat{d}| > C | H_a) = 1-\\beta$。在 $p_1 > p_0$ 的情况下，$P(\\hat{d}  -C | H_a)$ 项可以忽略不计，因此功效条件可以近似为单侧条件 $P(\\hat{d} > C | H_a) = 1-\\beta$。\n在 $H_a$ 下对 $\\hat{d}$ 进行标准化：\n$$ P\\left(\\frac{\\hat{d} - (p_1-p_0)}{\\sigma_a} > \\frac{C - (p_1-p_0)}{\\sigma_a}\\right) = 1-\\beta $$\n概率内的表达式是一个标准正态变量 $Z$。我们知道 $P(Z > -z_{1-\\beta}) = 1-\\beta$。因此：\n$$ \\frac{C - (p_1-p_0)}{\\sigma_a} = -z_{1-\\beta} $$\n$$ C = (p_1 - p_0) - z_{1-\\beta} \\sigma_a $$\n\n我们现在有两个关于临界值 $C$ 的表达式。将它们相等，我们可以解出样本量 $n$：\n$$ z_{1-\\alpha/2} \\sigma_0 = (p_1 - p_0) - z_{1-\\beta} \\sigma_a $$\n代入 $\\sigma_0$ 和 $\\sigma_a$ 的表达式：\n$$ z_{1-\\alpha/2} \\sqrt{\\frac{2\\bar{p}(1-\\bar{p})}{n}} = (p_1 - p_0) - z_{1-\\beta} \\sqrt{\\frac{p_1(1-p_1) + p_0(1-p_0)}{n}} $$\n重新整理以求解 $n$：\n$$ \\frac{1}{\\sqrt{n}} \\left( z_{1-\\alpha/2} \\sqrt{2\\bar{p}(1-\\bar{p})} + z_{1-\\beta} \\sqrt{p_1(1-p_1) + p_0(1-p_0)} \\right) = p_1 - p_0 $$\n$$ \\sqrt{n} = \\frac{z_{1-\\alpha/2} \\sqrt{2\\bar{p}(1-\\bar{p})} + z_{1-\\beta} \\sqrt{p_1(1-p_1) + p_0(1-p_0)}}{p_1 - p_0} $$\n两边平方得到每个队列样本量 $n$ 的最终表达式：\n$$ n = \\frac{\\left( z_{1-\\alpha/2} \\sqrt{2\\bar{p}(1-\\bar{p})} + z_{1-\\beta} \\sqrt{p_1(1-p_1) + p_0(1-p_0)} \\right)^2}{(p_1 - p_0)^2} $$\n\n### 数值计算\n\n我们将给定的参数值代入推导出的公式中。\n-   $p_0 = 0.10$\n-   $p_1 = 0.15$\n-   $p_1 - p_0 = 0.05$\n-   $\\alpha = 0.05 \\implies z_{1-\\alpha/2} = z_{0.975} \\approx 1.96$\n-   $\\beta = 0.20 \\implies z_{1-\\beta} = z_{0.80} \\approx 0.84162$\n-   $\\bar{p} = \\frac{p_0 + p_1}{2} = \\frac{0.10 + 0.15}{2} = 0.125$\n\n首先，我们计算方差分量：\n-   在 $H_0$ 下的方差项是 $V_0 = 2\\bar{p}(1-\\bar{p}) = 2(0.125)(1-0.125) = 2(0.125)(0.875) = 0.21875$。\n-   在 $H_a$ 下的方差项是 $V_a = p_1(1-p_1) + p_0(1-p_0) = 0.15(1-0.15) + 0.10(1-0.10) = 0.15(0.85) + 0.10(0.90) = 0.1275 + 0.09 = 0.2175$。\n\n现在，将这些值代入样本量公式：\n$$ n = \\frac{\\left( 1.96 \\sqrt{0.21875} + 0.84162 \\sqrt{0.2175} \\right)^2}{(0.05)^2} $$\n计算分子中的各项：\n$$ \\sqrt{0.21875} \\approx 0.46770717 $$\n$$ \\sqrt{0.2175} \\approx 0.46636897 $$\n$$ n \\approx \\frac{\\left( 1.96 \\times 0.46770717 + 0.84162 \\times 0.46636897 \\right)^2}{0.0025} $$\n$$ n \\approx \\frac{\\left( 0.91670605 + 0.39255845 \\right)^2}{0.0025} $$\n$$ n \\approx \\frac{\\left( 1.3092645 \\right)^2}{0.0025} $$\n$$ n \\approx \\frac{1.714175}{0.0025} $$\n$$ n \\approx 685.67 $$\n\n问题要求答案表示为四位有效数字。\n计算出的每个队列的样本量为 $685.7$。", "answer": "$$\\boxed{685.7}$$", "id": "4511152"}]}