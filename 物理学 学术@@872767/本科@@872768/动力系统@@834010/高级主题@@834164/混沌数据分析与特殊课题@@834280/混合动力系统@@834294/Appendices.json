{"hands_on_practices": [{"introduction": "掌握混合动力系统的第一步是学习如何追踪其状态随时间的演变。本练习 [@problem_id:1682615] 提供了一个直观的水库管理模型，该系统在连续排水（流）和瞬时蓄水（跳变）之间切换。通过计算特定时间点的水位，你将亲身体验如何分段处理混合系统的轨迹，这是分析更复杂系统（如恒温控制器或电路）的基础。", "problem": "一个自动化的水库管理系统被设计用于控制水位，记作 $h(t)$（单位：米），其中 $t$ 是时间（单位：小时）。该系统根据以下规则运行：\n\n1.  如果水位 $h$ 大于或等于1米，排水阀打开，导致水位以每小时1米的恒定速率下降。\n2.  如果水位 $h$ 下降到1米或以下，排水阀关闭，一个大功率水泵瞬间启动，将水位重置到恰好5米。重置后，系统继续根据这些规则运行。\n\n在时间 $t=0$ 时，测得的初始水位为 $h(0) = 10$ 米。\n\n确定在时间 $t=15$ 小时时水库中的水位。答案以米为单位表示。", "solution": "当排水阀打开时，水位满足恒定速率微分方程 $\\frac{dh}{dt}=-1$，适用于 $h(t)\\geq 1$。第二条规则规定了一个瞬时重置事件：一旦轨迹从上方到达阈值 $h=1$，阀门关闭，水泵将水位重置到恰好 $5$ 米，之后相同的动态过程恢复。因此，水位演变是一系列斜率为 $-1$ 的线性下降过程，并在到达阈值 $h=1$ 的时刻被瞬时跳跃到 $5$ 米所中断。\n\n求解排水阶段：对于初始条件 $h(t_{0})=h_{0}\\geq 1$，解为\n$$\nh(t)=h_{0}-(t-t_{0})\n$$\n该解在到达时间 $t=t_{0}+h_{0}-1$（此时 $h(t)=1$）之前有效。在那一瞬间，系统重置水位至 $h=5$，然后过程重复。\n\n从 $h(0)=10$ 开始。第一个排水阶段是\n$$\nh(t)=10-t,\\quad 0\\leq t9,\n$$\n在 $t_{1}=0+(10-1)=9$ 时水位到达 $h=1$。在 $t=9$ 时，重置使 $h(9^{+})=5$。\n\n从 $t=9$ 开始，下一个排水阶段是\n$$\nh(t)=5-(t-9)=14-t,\\quad 9\\leq t13,\n$$\n在 $t_{2}=9+(5-1)=13$ 时水位到达 $h=1$。在 $t=13$ 时，重置使 $h(13^{+})=5$。\n\n从 $t=13$ 开始，随后的排水阶段是\n$$\nh(t)=5-(t-13)=18-t,\\quad 13\\leq t17.\n$$\n由于 $15\\in[13,17)$，计算\n$$\nh(15)=18-15=3.\n$$\n因此，在 $t=15$ 小时时的水位是 $3$ 米。", "answer": "$$\\boxed{3}$$", "id": "1682615"}, {"introduction": "混合系统的一个独特且重要的理论概念是“芝诺行为”（Zeno behavior），即在有限时间内发生无限次离散事件。本练习 [@problem_id:1682600] 要求你分析一个简单的重置系统，判断其是否会表现出这种奇特的行为。理解并识别芝诺现象至关重要，因为它关系到模型是否在物理上或计算上是适定的，并有助于设计稳健的控制系统。", "problem": "考虑一个具有自动重置功能的系统的简单模型。系统的状态由单个标量变量 $x(t)$ 描述。该混合系统的动态由连续演化（流）和瞬时离散事件（重置）的组合定义。\n\n规则如下：\n1.  **连续流：**只要状态 $x$ 大于或等于警戒值 $G$（即 $x \\ge G$），状态就根据微分方程演化：\n    $$ \\dot{x} = -k $$\n2.  **离散重置：**当从 $x  G$ 开始的状态 $x$ 达到警戒值 $G$ 时，它会根据重置映射瞬时重置到一个新状态 $x^{+}$：\n    $$ x^{+} = \\frac{x}{\\beta} $$\n\n系统由正常数 $k$、$G$ 和常数 $\\beta  1$ 定义。系统从初始条件 $x(0) = x_0$ 开始，其中 $x_0  G$。\n\n在混合系统的背景下，芝诺行为（Zeno behavior）是指在有限时间间隔内发生无限次离散重置事件的现象。\n\n对于该系统的一个具体实例，其参数为 $k=1$，$G=1$，$\\beta=2$，初始状态为 $x(0)=2$，请判断以下哪个陈述是对其行为的正确评估。\n\nA. 系统表现出芝诺行为，因为连续重置之间的时间间隔形成一个收敛的几何级数。\n\nB. 系统不表现出芝诺行为，因为只发生有限次的重置事件。\n\nC. 系统不表现出芝诺行为，因为尽管有无限次重置，但它们之间的时间间隔是恒定的，导致总时间发散。\n\nD. 系统表现出芝诺行为，因为在有限时间后，状态被永久困在警戒值上，导致在零持续时间内发生无限次重置（颤振）。", "solution": "我们需要分析一个混合系统的行为，并确定在给定一组特定参数的情况下，它是否表现出芝诺行为。让我们一步步地追踪系统的状态。\n\n系统参数给定为 $k=1$，$G=1$，$\\beta=2$，初始状态为 $x(0)=2$。\n\n**阶段1：首次连续流**\n\n系统从 $x(0)=2$ 开始。由于 $x(0) = 2  G = 1$，系统处于连续流状态。状态根据微分方程 $\\dot{x} = -k = -1$ 演化。\n我们可以通过直接积分来求解这个简单的常微分方程（ODE）：\n$$ x(t) = x(0) + \\int_{0}^{t} (-1) \\,d\\tau = 2 - t $$\n只要 $x(t) \\ge G$，这个连续流就会持续。当 $x(t)$ 达到警戒值 $G=1$ 时，会发生一个事件（重置）。让我们计算这个首次事件发生的时间 $t_1$。\n$$ x(t_1) = 1 $$\n$$ 2 - t_1 = 1 $$\n$$ t_1 = 1 $$\n所以，第一次重置发生在时间 $t_1=1$。这个第一演化阶段的持续时间为 $\\Delta t_1 = t_1 - 0 = 1$。\n\n**阶段2：首次离散重置**\n\n在时间 $t_1=1$ 时，重置前瞬间的系统状态为 $x(t_1^{-}) = 1$。应用重置映射：\n$$ x^{+} = \\frac{x}{\\beta} = \\frac{1}{2} $$\n所以，系统状态瞬时变为 $x(t_1^{+}) = 1/2$。\n\n**阶段3：后续演化**\n\n现在，对于时间 $t  t_1=1$，系统的状态从 $x(1^{+}) = 1/2$ 开始。我们必须检查是否满足连续流的条件 $x \\ge G$。\n当前状态为 $x = 1/2$，警戒值为 $G=1$。由于 $1/2  1$，条件 $x \\ge G$ 不被满足。问题陈述中定义的连续流仅在域 $\\{x \\in \\mathbb{R} \\mid x \\ge G\\}$ 中发生。\n\n系统已经离开了其指定的流动态域。在这种情况下，系统的演化会停止，或遵循不同的、未指定的规则。然而，为了分析重置，我们只关心系统是否能再次达到警戒值 $G=1$。\n如果我们假设流 $\\dot{x}=-1$ 会继续，状态将对于 $t1$ 演化为 $x(t) = 1/2 - (t-1)$。由于状态从 $1/2$ 开始且其导数为负， $x$ 的值只会进一步减小。它将永远不会增加到再次达到警戒值 $G=1$。\n\n因此，在 $t=1$ 的第一次重置之后，不会再发生任何重置事件。\n\n**关于芝诺行为的结论**\n\n系统恰好经历一次离散重置事件。芝诺行为被定义为在有限时间内发生无限次离散事件。由于该系统只有一个这样的事件，它不表现出芝诺行为。\n\n让我们评估给出的选项：\n- A. 这是不正确的。系统没有无限系列的重置。\n- B. 这是正确的。只发生一次重置事件，这是一个有限的数目。\n- C. 这是不正确的。没有无限次重置。\n- D. 这是不正确的。状态并没有被困在警戒值上；它跳到一个无法返回警戒值的值。\n\n正确的结论是，系统不表现出芝诺行为，因为只发生了一次重置。", "answer": "$$\\boxed{B}$$", "id": "1682600"}, {"introduction": "除了分析给定的系统行为外，混合系统理论在优化和控制设计中也大放异彩。本练习 [@problem_id:1682647] 将挑战你从分析者转变为设计者。你需要为一个磁悬浮列车设计最优的切换策略，在两种运行模式（加速和制动）之间进行切换，以在最短时间内走完固定距离。解决这个问题将让你领略到混合系统在解决现实世界最优控制问题中的强大威力。", "problem": "一个实验性的高速磁悬浮运输舱被设计用于沿着长度为 $D$ 的笔直真空管道行驶。该运输舱从管道的一端由静止启动，并且必须在另一端完全停止。运输舱的运动由一个混合推进系统控制，该系统具有两种互斥模式：一种是提供大小为 $a_p$ 的恒定正向加速度的推进模式，另一种是提供大小为 $a_b$ 的恒定制动减速度的制动模式。$a_p$ 和 $a_b$ 均为正常数。系统可以在这两种模式之间瞬时切换。\n\n确定运输舱完成从起点到终点的整个行程所需的最短绝对时间。将你的答案表示为包含 $D$、$a_p$ 和 $a_b$ 的符号表达式。", "solution": "在加速度有界和模式瞬时切换的条件下，为了最小化行程时间，时间最优策略是“bang-bang”控制：以最大正向加速度加速，直到一个单一的切换点，然后以最大减速度制动，以零速度到达目的地。任何加速度的减小或额外的切换都会增加完成相同位移所需的时间。\n\n设运输舱以恒定加速度 $a_{p}$ 从静止开始加速，持续时间为 $t_{1}$，达到峰值速度 $v_{1}$ 和位置 $x_{1}$，然后以恒定减速度 $a_{b}$ 制动，持续时间为 $t_{2}$，恰好在 $x=D$ 处停止。\n\n对第一阶段（初速度为 $0$）使用匀加速运动学公式：\n$$\nv_{1}=a_{p}t_{1}, \\qquad x_{1}=\\frac{1}{2}a_{p}t_{1}^{2}.\n$$\n对于制动阶段，末速度为零，所以由 $v_{f}=v_{1}-a_{b}t_{2}=0$ 可得，\n$$\nt_{2}=\\frac{v_{1}}{a_{b}}=\\frac{a_{p}t_{1}}{a_{b}}.\n$$\n制动期间行驶的距离可以用 $v_{f}^{2}=v_{1}^{2}+2(-a_{b})x_{2}$ 表示：\n$$\nx_{2}=\\frac{v_{1}^{2}}{2a_{b}}=\\frac{a_{p}^{2}t_{1}^{2}}{2a_{b}}.\n$$\n总距离是两段路程之和，令其等于 $D$：\n$$\nD=x_{1}+x_{2}=\\frac{1}{2}a_{p}t_{1}^{2}+\\frac{a_{p}^{2}t_{1}^{2}}{2a_{b}}\n=\\frac{1}{2}a_{p}t_{1}^{2}\\left(1+\\frac{a_{p}}{a_{b}}\\right)\n=\\frac{1}{2}a_{p}t_{1}^{2}\\frac{a_{b}+a_{p}}{a_{b}}.\n$$\n求解 $t_{1}$：\n$$\nt_{1}^{2}=\\frac{2Da_{b}}{a_{p}(a_{b}+a_{p})}, \n\\qquad\nt_{1}=\\sqrt{\\frac{2Da_{b}}{a_{p}(a_{b}+a_{p})}}.\n$$\n总时间为 $T=t_{1}+t_{2}=t_{1}\\left(1+\\frac{a_{p}}{a_{b}}\\right)=t_{1}\\frac{a_{b}+a_{p}}{a_{b}}$，因此\n$$\nT=\\frac{a_{b}+a_{p}}{a_{b}}\\sqrt{\\frac{2Da_{b}}{a_{p}(a_{b}+a_{p})}}\n=\\sqrt{\\frac{2D(a_{b}+a_{p})}{a_{p}a_{b}}}\n=\\sqrt{2D\\left(\\frac{1}{a_{p}}+\\frac{1}{a_{b}}\\right)}.\n$$\n这是通过从最大加速度到最大制动的单次切换所能达到的最短绝对时间。", "answer": "$$\\boxed{\\sqrt{2D\\left(\\frac{1}{a_{p}}+\\frac{1}{a_{b}}\\right)}}$$", "id": "1682647"}]}