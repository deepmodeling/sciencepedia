{"hands_on_practices": [{"introduction": "在许多分布式系统中，无论是传感器网络同步数据，还是社交群体形成一致意见，我们都能观察到一种趋同的现象。这个练习通过一个直观的温度传感器模型，来模拟网络上的共识达成过程 [@problem_id:1673970]。通过解决这个问题，你将亲手验证一个网络动力学的基本原理：在连通且无外部影响的网络中，局部的相互作用最终会引导整个系统达到所有初始状态的平均值。", "problem": "一个由5个相同温度传感器组成的线性阵列，编号为1到5，沿着一根细的绝缘金属棒等距放置。该系统模拟了一个离散热扩散过程。金属棒超出传感器1和传感器5的两端也是完全绝缘的。每个传感器的温度在离散的时间步长进行更新，其温度变化量与其直接相邻传感器的温度差之和成正比。\n\n对于每个传感器 $i \\in \\{1, 2, 3, 4, 5\\}$，系统根据以下规则演化：\n$$T_i(t+1) = T_i(t) + \\epsilon \\sum_{j \\text{ is a neighbor of } i} (T_j(t) - T_i(t))$$\n其中 $T_i(t)$ 是传感器 $i$ 在时间步 $t$ 的温度，而 $\\epsilon$ 是一个决定热交换速率的小的正耦合常数。如果传感器 $i$ 和 $j$ 在阵列中相邻（例如，传感器2是传感器1和3的邻居），则它们被视为邻居。由于两端绝缘，传感器1只有一个邻居（传感器2），传感器5也只有一个邻居（传感器4）。\n\n在时间 $t=0$ 时，测得传感器的初始温度为：\n- $T_1(0) = 15.0 \\, ^\\circ\\text{C}$\n- $T_2(0) = 40.0 \\, ^\\circ\\text{C}$\n- $T_3(0) = 22.0 \\, ^\\circ\\text{C}$\n- $T_4(0) = 18.0 \\, ^\\circ\\text{C}$\n- $T_5(0) = 5.0 \\, ^\\circ\\text{C}$\n\n系统经过很长一段时间的演化，直到所有传感器达到一个稳定的共同温度，这即是系统的同步状态。计算这个最终温度。答案以摄氏度表示，并四舍五入到三位有效数字。", "solution": "我们将温度向量表示为 $T(t) = [T_{1}(t), T_{2}(t), T_{3}(t), T_{4}(t), T_{5}(t)]^{\\top}$。每个传感器的更新规则是\n$$\nT_{i}(t+1) = T_{i}(t) + \\epsilon \\sum_{j \\text{ neighbor of } i} \\left(T_{j}(t) - T_{i}(t)\\right),\n$$\n它可以写成矩阵形式\n$$\nT(t+1) = \\left(I - \\epsilon L\\right) T(t),\n$$\n其中 $L$ 是具有5个节点和绝缘端点（度分别为：$1,2,2,2,1$）的路径图的图拉普拉斯算子。拉普拉斯算子 $L$ 是对称的，并满足 $L \\mathbf{1} = 0$，其中 $\\mathbf{1}$ 是全1向量。\n\n为了找到同步（一致）温度，我们首先确定总温度是守恒的。将所有传感器的更新规则相加：\n$$\n\\sum_{i=1}^{5} T_{i}(t+1) = \\sum_{i=1}^{5} T_{i}(t) + \\epsilon \\sum_{i=1}^{5} \\sum_{j \\text{ neighbor of } i} \\left(T_{j}(t) - T_{i}(t)\\right).\n$$\n在双重求和中，每个无序邻居对 $\\{i,j\\}$ 恰好出现两次，一次是 $(i,j)$ 贡献了 $T_{j}(t) - T_{i}(t)$，另一次是 $(j,i)$ 贡献了 $T_{i}(t) - T_{j}(t)$。这两个贡献相互抵消。因此，\n$$\n\\sum_{i=1}^{5} T_{i}(t+1) = \\sum_{i=1}^{5} T_{i}(t),\n$$\n所以总温度，以及平均温度\n$$\n\\bar{T}(t) = \\frac{1}{5} \\sum_{i=1}^{5} T_{i}(t),\n$$\n是不随时间变化的：$\\bar{T}(t+1) = \\bar{T}(t)$。\n\n接下来，对于 $0  \\epsilon  \\frac{1}{2}$，矩阵 $I - \\epsilon L$ 在这个连通图上是对称的、随机的（每行之和为1）和本原的。因此，根据标准的一致性/马尔可夫链收敛理论，$T(t)$ 收敛到一个与 $\\mathbf{1}$ 成比例的向量：\n$$\n\\lim_{t \\to \\infty} T(t) = \\bar{T}(0)\\,\\mathbf{1},\n$$\n其中 $\\bar{T}(0)$ 是初始平均温度。\n\n使用给定数据计算初始平均温度：\n$$\n\\bar{T}(0) = \\frac{T_{1}(0) + T_{2}(0) + T_{3}(0) + T_{4}(0) + T_{5}(0)}{5} = \\frac{15.0 + 40.0 + 22.0 + 18.0 + 5.0}{5} = \\frac{100.0}{5} = 20.0.\n$$\n因此，所有传感器的最终同步温度是 $20.0$ 摄氏度。四舍五入到三位有效数字，结果仍为 $20.0$。", "answer": "$$\\boxed{20.0}$$", "id": "1673970"}, {"introduction": "从确定性的平均过程转向随机动态，这个练习将探讨随机漫步模型，它可以用来描述网页浏览、信息传播等多种现象 [@problem_id:1673990]。通过计算一辆穿梭车在小型交通网络中长期停留的概率，你将发现网络结构（特别是节点的连接数）与系统长期行为之间的深刻联系。这个结果揭示了为什么网络中的某些节点天然地比其他节点更“重要”。", "problem": "一个小型交通网络由四个站点组成：A、B、C 和 D。它们之间的连接如下：站点 A、B 和 C 形成一个全连接的三角环路，意味着每个站点都与其他两个站点直接相连。站点 D 是一个终点站，仅与站点 C 相连。\n\n一辆自动驾驶摆渡车在该网络上运行。在每个时间步，摆渡车从其当前站点行驶至一个与其直接相连的邻近站点。前往哪个邻近站点的选择是等概率随机的。例如，如果摆渡车位于一个有三个邻近站点的站点，它将以 $1/3$ 的概率移动到其中任何一个。\n\n经过很长一段时间后，系统达到一个稳态，此时在任何给定站点找到摆渡车的概率变为常数。设站点 A、B、C 和 D 的这些长期概率分别为 $\\pi_A, \\pi_B, \\pi_C,$ 和 $\\pi_D$。\n\n计算这四个概率的值。请以四个最简分数的形式给出你的答案，分别对应 $(\\pi_A, \\pi_B, \\pi_C, \\pi_D)$。", "solution": "将摆渡车的运动建模为四个站点上的一个离散时间马尔可夫链。根据网络结构，各站点的邻居集合和转移概率如下：\n- 从 A 出发：以 $\\frac{1}{2}$ 的概率到 B，以 $\\frac{1}{2}$ 的概率到 C。\n- 从 B 出发：以 $\\frac{1}{2}$ 的概率到 A，以 $\\frac{1}{2}$ 的概率到 C。\n- 从 C 出发：以 $\\frac{1}{3}$ 的概率分别到 A、B、D。\n- 从 D 出发：以 $1$ 的概率到 C。\n\n在稳态下，概率 $\\pi_{A},\\pi_{B},\\pi_{C},\\pi_{D}$ 满足全局平衡方程 $\\pi = \\pi P$ 以及归一化条件 $\\pi_{A}+\\pi_{B}+\\pi_{C}+\\pi_{D}=1$。显式地写出流入平衡方程：\n$$\n\\pi_{A}=\\frac{1}{2}\\pi_{B}+\\frac{1}{3}\\pi_{C},\\quad\n\\pi_{B}=\\frac{1}{2}\\pi_{A}+\\frac{1}{3}\\pi_{C},\\quad\n\\pi_{C}=\\frac{1}{2}\\pi_{A}+\\frac{1}{2}\\pi_{B}+1\\cdot\\pi_{D},\\quad\n\\pi_{D}=\\frac{1}{3}\\pi_{C}.\n$$\n根据 $\\pi_{D}=\\frac{1}{3}\\pi_{C}$，代入到关于 $\\pi_{C}$ 的方程中：\n$$\n\\pi_{C}=\\frac{1}{2}\\pi_{A}+\\frac{1}{2}\\pi_{B}+\\frac{1}{3}\\pi_{C}\n\\;\\Rightarrow\\;\n\\pi_{C}-\\frac{1}{3}\\pi_{C}=\\frac{1}{2}(\\pi_{A}+\\pi_{B})\n\\;\\Rightarrow\\;\n\\frac{2}{3}\\pi_{C}=\\frac{1}{2}(\\pi_{A}+\\pi_{B})\n\\;\\Rightarrow\\;\n\\pi_{C}=\\frac{3}{4}(\\pi_{A}+\\pi_{B}).\n$$\n将前两个平衡方程相减：\n$$\n\\pi_{A}-\\pi_{B}=\\frac{1}{2}\\pi_{B}+\\frac{1}{3}\\pi_{C}-\\left(\\frac{1}{2}\\pi_{A}+\\frac{1}{3}\\pi_{C}\\right)\n=\\frac{1}{2}(\\pi_{B}-\\pi_{A})\n\\;\\Rightarrow\\;\n\\frac{3}{2}(\\pi_{A}-\\pi_{B})=0\n\\;\\Rightarrow\\;\n\\pi_{A}=\\pi_{B}.\n$$\n令 $\\pi_{A}=\\pi_{B}=x$。则\n$$\n\\pi_{C}=\\frac{3}{4}(x+x)=\\frac{3}{2}x,\\qquad \\pi_{D}=\\frac{1}{3}\\pi_{C}=\\frac{1}{2}x.\n$$\n应用归一化条件：\n$$\n\\pi_{A}+\\pi_{B}+\\pi_{C}+\\pi_{D}=x+x+\\frac{3}{2}x+\\frac{1}{2}x=4x=1\n\\;\\Rightarrow\\;\nx=\\frac{1}{4}.\n$$\n因此，\n$$\n\\pi_{A}=\\frac{1}{4},\\quad \\pi_{B}=\\frac{1}{4},\\quad \\pi_{C}=\\frac{3}{8},\\quad \\pi_{D}=\\frac{1}{8}.\n$$\n这些概率满足此无向网络的细致平衡条件（等价于它们与顶点的度成正比），从而证实了稳态性和唯一性。", "answer": "$$\\boxed{\\begin{pmatrix}\\frac{1}{4}  \\frac{1}{4}  \\frac{3}{8}  \\frac{1}{8}\\end{pmatrix}}$$", "id": "1673990"}, {"introduction": "网络上的动态过程并不总是平滑渐变的，有时微小的初始改变就能引发“全或无”的级联效应，就像病毒式营销或系统性崩溃一样。这个练习介绍了一个阈值传染模型，挑战你找出引爆整个网络所需的最小初始“种子”数量 [@problem_id:1673962]。解决这个问题需要策略性思维，它能让你深入理解网络韧性、临界质量以及复杂系统中的引爆点概念。", "problem": "考虑一个由9个节点组成的系统，这些节点排列成一个 $3 \\times 3$ 的网格。每个节点可以通过其整数坐标 $(i, j)$ 来识别，其中 $1 \\le i, j \\le 3$。如果两个节点在水平或垂直方向上相邻，则它们被视为邻居。例如，位于 $(2,2)$ 的节点有四个邻居：$(1,2)$、$(2,1)$、$(2,3)$ 和 $(3,2)$，而位于 $(1,1)$ 的节点有两个邻居：$(1,2)$ 和 $(2,1)$。\n\n每个节点可以处于两种状态之一：激活或未激活。系统根据以下规则按离散时间步演化：如果一个未激活节点的邻居中至少有两个当前是激活的，那么它将在下一个时间步变为激活状态。一旦一个节点被激活，它将在所有后续时间步中保持激活状态。\n\n通过选择一个初始的激活节点集合（称为“种子集”）来启动一个传播过程。如果这个初始种子集最终导致网格中所有9个节点都变为激活状态，则称发生了“完全级联”。\n\n确定触发完全级联所需的种子集的最小规模。", "solution": "设 $G$ 是一个 $3\\times 3$ 的网格，其节点为 $(i,j)$，$1\\leq i,j\\leq 3$，且曼哈顿距离为 $1$ 的节点之间有边相连。更新规则为阈值 $2$：一个未激活节点在下一步变为激活状态，当且仅当其至少有两个邻居是激活的；激活是永久性的。\n\n下界（两个种子不足以触发）：\n我们分情况讨论初始种子放置的位置：\n- 如果两个种子是相邻的（例如 (1,1) 和 (1,2)），那么没有其他节点同时与这两个种子相邻。因此，没有未激活的节点有两个激活的邻居，过程在恰好有 $2$ 个激活节点时停止。\n- 如果两个种子不相邻且没有共同邻居（例如 (1,1) 和 (3,3)），那么同样没有未激活的节点有两个激活的邻居，所以过程在恰好有 $2$ 个激活节点时停止。\n- 如果两个种子不相邻但有共同邻居，我们考虑两种情况：\n  1) 如果它们只有一个共同邻居（例如，种子(1,1)和(1,3)共享邻居(1,2)），则该邻居被激活，形成一个包含三个节点的直线。此时，没有其他节点有两个激活邻居，级联停止。\n  2) 如果它们有两个共同邻居（例如，种子(1,1)和(2,2)共享邻居(1,2)和(2,1)），则这两个邻居都被激活，形成一个2x2的激活区块。区块外的节点最多只有一个激活邻居，级联停止。\n在所有使用两个种子的情况下，级联都在未达到全部 $9$ 个节点时停止。因此，至少需要 $3$ 个种子。\n\n上界（三个种子足以触发）：\n选择三个角上的种子 $(1,1)$、$(1,3)$ 和 $(3,1)$。分步验证：\n- 在第一次更新时，节点 $(1,2)$ 和 $(2,1)$ 各有两个激活的邻居：$(1,2)$ 有 $(1,1)$ 和 $(1,3)$，而 $(2,1)$ 有 $(1,1)$ 和 $(3,1)$。因此 $(1,2)$ 和 $(2,1)$ 被激活。\n- 在第二次更新时，节点 $(2,2)$ 有两个激活的邻居 $(1,2)$ 和 $(2,1)$，所以 $(2,2)$ 被激活。\n- 在第三次更新时，节点 $(2,3)$ 有两个激活的邻居 $(1,3)$ 和 $(2,2)$，节点 $(3,2)$ 有两个激活的邻居 $(3,1)$ 和 $(2,2)$；因此 $(2,3)$ 和 $(3,2)$ 都被激活。\n- 在第四次更新时，节点 $(3,3)$ 有两个激活的邻居 $(3,2)$ 和 $(2,3)$，所以 $(3,3)$ 被激活。\n所有 $9$ 个节点都变为激活状态，因此用 $3$ 个种子发生了完全级联。\n\n结合下界和这个显式构造，触发完全级联的最小种子集规模是 $3$。", "answer": "$$\\boxed{3}$$", "id": "1673962"}]}