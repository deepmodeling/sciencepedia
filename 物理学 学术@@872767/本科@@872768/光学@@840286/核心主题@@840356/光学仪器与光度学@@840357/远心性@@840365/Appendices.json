{"hands_on_practices": [{"introduction": "远心特性对于需要恒定放大倍率的精密测量至关重要。一个经典且有效的实现方式是使用$4f$光学中继系统。在这个实践中，我们将探索如何通过精确放置一个孔径光阑，将一个简单的双透镜系统转变为一个双远心系统，从而确保主光线在物方和像方空间中都平行于光轴。这个问题将引导你找到实现这一目标的关键位置[@problem_id:2257821]。", "problem": "一个光学中继系统被设计用于高精度机器视觉。该系统由两个薄会聚透镜L1和L2组成，两者的正焦距均为$f$。透镜沿z轴共轴排列。第一个透镜L1位于坐标$z=f$处，第二个透镜L2位于$z=3f$处。一个物体放置在$z=0$平面上。\n\n为了使该系统即使在物体沿z轴有微小位移时也能提供恒定的放大率，必须同时满足两个条件。首先，在$z  f$区域，与物体上任意点相关的主光线必须平行于z轴。其次，在透镜L2和像平面之间的区域，与像上任意点相关的主光线必须平行于z轴。这些条件可以通过在特定平面$z=z_{AS}$处插入一个物理限制光阑，即孔径光阑，来满足。\n\n确定孔径光阑的坐标$z_{AS}$。用$f$表示你的答案。", "solution": "为了实现一个双远心系统，必须同时满足物方远心和像方远心的条件。\n\n1.  **物方远心条件**：物方空间中的主光线必须平行于光轴。这要求系统的入瞳（Entrance Pupil）位于无穷远处。入瞳是孔径光阑经过其前方所有光学元件（此处为L1）所成的像。为了使L1将孔径光阑成像到无穷远，孔径光阑必须被放置在L1的后焦平面上。由于L1位于`z=f`且其焦距为`f`，其后焦平面位于 `z = f + f = 2f`。\n\n2.  **像方远心条件**：像方空间中的主光线必须平行于光轴。这要求系统的出瞳（Exit Pupil）位于无穷远处。出瞳是孔径光阑经过其后方所有光学元件（此处为L2）所成的像。为了使L2将孔径光阑成像到无穷远，孔径光阑必须被放置在L2的前焦平面上。由于L2位于`z=3f`且其焦距为`f`，其前焦平面位于 `z = 3f - f = 2f`。\n\n两个条件都给出了相同的位置。因此，孔径光阑必须放置在 $z_{AS} = 2f$ 处，即两个透镜的公共焦点上。", "answer": "$$\\boxed{2f}$$", "id": "2257821"}, {"introduction": "在确定了构建远心系统的理论布局后，下一步是考虑实际元件的物理限制。即使光阑位置正确，如果透镜的尺寸不足以捕捉所有通过光阑的光线，系统性能也会受到影响。本练习将探讨如何计算第二个透镜所需的最小直径，以确保在给定的视场和光阑尺寸下，不会发生光线遮挡（即“渐晕”）。这个过程将理论设计与实际硬件规格直接联系起来[@problem_id:2257819]。", "problem": "正在为流水线上的质量控制设计一套先进的机器视觉系统。为确保测量精度，该系统必须生成一个具有恒定放大倍率的图像，且该图像对物体沿光轴位置的微小变化不敏感。这可以通过使用双远心光学中继系统来实现。\n\n该中继系统由两个正薄透镜 L1 和 L2 组成，其焦距分别为 $f_1$ 和 $f_2$。这两个透镜共轴排列，它们之间的距离等于其焦距之和，即 $d = f_1 + f_2$。一个直径为 $D_{ap}$ 的圆形孔径光阑放置在两个透镜之间的公共焦点处。\n\n该系统旨在检测从光轴测量的最大高度为 $y_{obj}$ 的物体。为进行此分析，您可以假定源于物方空间的主光线（即从离轴物点发出、朝向入瞳中心的光线）平行于光轴进入第一个透镜 L1。\n\n您的任务是推导第二个透镜 L2 所需的最小直径 $D_2$ 的表达式，以确保从物体上任何一点（最高至其最大高度 $y_{obj}$）发出、穿过孔径光阑的光线都不会被透镜 L2 的边缘阻挡。请用一个包含 $y_{obj}$、$D_{ap}$、$f_1$ 和 $f_2$ 的符号表达式来表示您的最终答案。", "solution": "设光轴为 z 轴，第一个薄透镜 L1 位于 $z=0$ 处，孔径光阑位于公共焦平面 $z=f_{1}$ 处，第二个薄透镜 L2 位于 $z=f_{1}+f_{2}$ 处。孔径光阑的半径为 $a=\\frac{D_{ap}}{2}$。记一个距光轴高度为 $y_{0}$ 的物点，其中 $|y_{0}|\\leq y_{obj}$。\n\n因为光阑位于 L1 的后焦平面上，所以该系统是物方远心的。对于一个标准的 $4f$ 中继系统，我们将物平面置于 L1 的前焦平面上；然后，通过近轴光线追迹，所有从高度为 $y_{0}$ 的物点发出的光线从 L1 出射时都具有相同的角度\n$$\nu^{+}=-\\frac{y_{0}}{f_{1}},\n$$\n且该角度与它们与 L1 的交点位置无关。这可以由薄透镜的角度关系式 $u^{+}=u^{-}-\\frac{y_{1}}{f_{1}}$ 和从前焦平面开始的自由空间传播关系式 $u^{-}=\\frac{y_{1}-y_{0}}{f_{1}}$ 推导得出，因此 $u^{+}=\\frac{y_{1}-y_{0}}{f_{1}}-\\frac{y_{1}}{f_{1}}=-\\frac{y_{0}}{f_{1}}$。\n\n在 L1 和光阑平面之间，光线高度的变化遵循以下公式\n$$\ny(z)=y_{1}+u^{+}z.\n$$\n在光阑平面 $z=f_{1}$ 处，横向坐标为\n$$\nx_{s}=y(f_{1})=y_{1}+u^{+}f_{1}=y_{1}-y_{0},\n$$\n所以 $y_{1}=x_{s}+y_{0}$。光阑只允许 $|x_{s}|\\leq a$ 的光线通过。\n\n经过光阑后（光阑不发生折射），光线以相同的角度 $u^{+}$ 继续传播。在 L2 平面 $z=f_{1}+f_{2}$ 处，光线高度为\n$$\nx_{L2}=y(f_{1}+f_{2})=y_{1}+u^{+}(f_{1}+f_{2})=(x_{s}+y_{0})-\\frac{y_{0}}{f_{1}}(f_{1}+f_{2})=x_{s}-\\frac{f_{2}}{f_{1}}\\,y_{0}.\n$$\n因此，对于一个固定的视场高度 $y_{0}$，通过光阑并与 L2 相交的光线点集是一个半径为 $a$、圆心位于以下位置的圆盘：\n$$\nx_{c}=-\\frac{f_{2}}{f_{1}}\\,y_{0}.\n$$\n因此，从光轴到该圆盘边缘的最大距离是\n$$\nR_{2,\\min}=|x_{c}|+a=\\frac{f_{2}}{f_{1}}\\,|y_{0}|+\\frac{D_{ap}}{2}.\n$$\n对所有满足 $|y_{0}|\\leq y_{obj}$ 的视场点取最大值，可得\n$$\nR_{2,\\min}=\\frac{f_{2}}{f_{1}}\\,y_{obj}+\\frac{D_{ap}}{2}.\n$$\n因此，L2 所需的最小直径为\n$$\nD_{2,\\min}=2R_{2,\\min}=D_{ap}+2\\,\\frac{f_{2}}{f_{1}}\\,y_{obj}.\n$$", "answer": "$$\\boxed{D_{ap}+2\\,\\frac{f_{2}}{f_{1}}\\,y_{obj}}$$", "id": "2257819"}, {"introduction": "从设计转向验证，我们如何确认一个已封装好的镜头是否真的具备远心特性？这个实践模拟了一个常见的光学工程任务：通过实验确定镜头的出瞳位置。由于像方远心系统的出瞳位于无穷远处，其位置是衡量系统远心程度的关键指标。你将学习如何利用简单的离焦测量，从图像尺寸的变化中反推出瞳的精确位置，从而将抽象的光学概念与具体的实验数据联系起来[@problem_id:2257808]。", "problem": "一位光学工程师的任务是验证用于高精度制造检测系统中的密封镜头组件的规格。其关键规格是镜头应接近像方远心。为了量化这一点，工程师设计了一个实验来测量镜头出射光瞳的位置。\n\n实验过程如下：将一个物体放置在镜头前，并放置一个高分辨率数字传感器来捕捉图像。该传感器安装在一个沿光轴（$z$轴）移动的精密平移台上。位置$z=0$被定义为形成最清晰图像的平面（标称像面）。\n\n首先，在传感器位于$z=0$处时，工程师测量了图像上两个不同点之间的距离，测得其为$h_i = 4.000 \\text{ mm}$。\n\n接着，将传感器沿光轴远离镜头移动到一个新位置$z = \\Delta z$，其中$\\Delta z = 15.00 \\text{ mm}$。在这个新的、离焦的位置，测量到相同的两个（现在已模糊）点的中心之间的距离为$h'_i = 4.030 \\text{ mm}$。\n\n假设视场中所有点的主光线看起来都源于一个单一的有效出射光瞳，计算该出射光瞳到标称像面的距离。正距离表示出射光瞳位于像面“之后”（离镜头更远），而负距离表示它位于像面“之前”（在镜头和像面之间）。\n\n以毫米为单位表示您的答案，并四舍五入到三位有效数字。", "solution": "定义像方坐标系，标称像面位于$z=0$处，光轴沿$z$轴，$z$值向远离镜头的方向增加。设出射光瞳位于轴上$z=z_{p}$处，其中$z_{p}$是其到像面的未知距离。对于一个给定的视场点，其在$z=0$处的清晰图像位于横向坐标$x_{0}$处，其在像方的主光线是连接出射光瞳$(x,z)=(0,z_{p})$和清晰像点$(x,z)=(x_{0},0)$的直线。该直线的方程给出了在任意平面$z$处的横向坐标\n$$\nx(z)=x_{0}\\left(1-\\frac{z}{z_{p}}\\right).\n$$\n因此，对于在$z=0$处间距为$h_{i}$的两个像点，它们在离焦平面$z=\\Delta z$处的间距也按相同的比例缩放：\n$$\nh'_{i}=h_{i}\\left(1-\\frac{\\Delta z}{z_{p}}\\right).\n$$\n求解$z_{p}$：\n$$\n\\frac{h'_{i}}{h_{i}}=1-\\frac{\\Delta z}{z_{p}}\n\\;\\;\\Rightarrow\\;\\;\n\\frac{\\Delta z}{z_{p}}=1-\\frac{h'_{i}}{h_{i}}\n\\;\\;\\Rightarrow\\;\\;\nz_{p}=\\frac{\\Delta z}{1-\\frac{h'_{i}}{h_{i}}}.\n$$\n代入测量值$\\Delta z=15.00\\ \\text{mm}$、$h_{i}=4.000\\ \\text{mm}$和$h'_{i}=4.030\\ \\text{mm}$：\n$$\n\\frac{h'_{i}}{h_{i}}=\\frac{4.030}{4.000}=1.0075,\\quad\n1-\\frac{h'_{i}}{h_{i}}=-0.0075,\n$$\n$$\nz_{p}=\\frac{15.00}{-0.0075}=-2000\\ \\text{mm}.\n$$\n根据既定的符号约定，这个负值表示出射光瞳位于标称像面的前方（在镜头和像面之间）。四舍五入到三位有效数字，距离为$-2.00\\times 10^{3}\\ \\text{mm}$。", "answer": "$$\\boxed{-2.00 \\times 10^{3}}$$", "id": "2257808"}]}