{"hands_on_practices": [{"introduction": "理论学习之后，最好的检验方法就是动手实践。让我们从一个基础但非常直观的例子开始，这个例子模拟了医用内窥镜的基本工作原理。通过分析一个简化的成像系统，我们将看到一个物理组件（光纤束的输入端面）是如何充当视场光阑，从而决定了我们能观察到的物体区域的大小 [@problem_id:2229251]。这项练习旨在将薄透镜方程和放大率等基本概念与视场的实际计算直接联系起来。", "problem": "医用内窥镜的一个简化模型由一个薄会聚物镜和一个相干光纤束组成。该物镜的焦距为 $f$。它的设计目的是将被检查的组织在光纤束的平坦圆形输入端面上直接形成一个实像。该输入端面的直径为 $D$。在一次特定的检查中，物镜被放置在距离组织 $s_o$ 的位置，并保证 $s_o > f$。\n\n确定内窥镜所捕获的组织上圆形视场的直径 $D_{FoV}$ 的符号表达式。答案用 $D$、$f$ 和 $s_o$ 表示。", "solution": "问题要求解物平面上视场的直径 $D_{FoV}$。这对应于能够成像到光纤束输入端面整个直径上的物体的大小。设物体的直径为 $h_o = D_{FoV}$，其像的直径为 $h_i$。为了捕获整个视场，像必须恰好填满光纤束的输入端面。因此，像的直径必须等于光纤束的直径，即 $h_i = D$。\n\n物体大小和像的大小之间的关系由横向放大率 $M$ 给出。放大率的绝对值定义为像高（或直径）与物高（或直径）的比值：\n$$|M| = \\frac{h_i}{h_o}$$\n代入我们的具体量，我们有：\n$$|M| = \\frac{D}{D_{FoV}}$$\n为了求出 $D_{FoV}$，我们可以重新整理这个方程：\n$$D_{FoV} = \\frac{D}{|M|}$$\n我们的下一个任务是找到放大率 $M$ 的表达式。薄透镜的放大率也由像距 $s_i$ 与物距 $s_o$ 的比值给出：\n$$M = -\\frac{s_i}{s_o}$$\n我们已知 $s_o$，但需要求出 $s_i$。我们可以使用薄透镜方程来求出像距：\n$$\\frac{1}{s_o} + \\frac{1}{s_i} = \\frac{1}{f}$$\n我们解此方程求 $s_i$：\n$$\\frac{1}{s_i} = \\frac{1}{f} - \\frac{1}{s_o}$$\n为了合并右边的项，我们通分：\n$$\\frac{1}{s_i} = \\frac{s_o}{f s_o} - \\frac{f}{f s_o} = \\frac{s_o - f}{f s_o}$$\n两边取倒数，得到像距 $s_i$ 的表达式：\n$$s_i = \\frac{f s_o}{s_o - f}$$\n现在我们可以将 $s_i$ 的这个表达式代回放大率公式：\n$$M = -\\frac{s_i}{s_o} = -\\frac{1}{s_o} \\left( \\frac{f s_o}{s_o - f} \\right)$$\n$s_o$ 项被消掉，剩下：\n$$M = -\\frac{f}{s_o - f}$$\n问题要求解 $D_{FoV}$，它取决于放大率的绝对值 $|M|$。\n$$|M| = \\left| -\\frac{f}{s_o - f} \\right| = \\frac{f}{|s_o - f|}$$\n问题陈述了形成的是实像，并且 $s_o > f$。这意味着 $s_o - f$ 这一项总是正的。因此， $|s_o - f| = s_o - f$。放大率的绝对值为：\n$$|M| = \\frac{f}{s_o - f}$$\n最后，我们将 $|M|$ 的这个表达式代入我们关于 $D_{FoV}$ 的方程中：\n$$D_{FoV} = \\frac{D}{|M|} = \\frac{D}{\\frac{f}{s_o - f}}$$\n$$D_{FoV} = D \\frac{s_o - f}{f}$$\n这个表达式可以通过分配分母写成一个稍微不同的形式：\n$$D_{FoV} = D \\left( \\frac{s_o}{f} - \\frac{f}{f} \\right) = D \\left( \\frac{s_o}{f} - 1 \\right)$$\n这就是视场直径的最终表达式。", "answer": "$$\\boxed{D\\left(\\frac{s_o}{f} - 1\\right)}$$", "id": "2229251"}, {"introduction": "在掌握了对称系统的基础知识后，我们来探讨一个更有趣的情形：如果一个光学系统在不同方向上的光学特性不同，视场会变成什么样？这个问题将引导我们分析一个由正交柱面透镜组成的变形（anamorphic）成像系统 [@problem_id:2229291]。你将发现，即使探测器是圆形的，其在物方空间所对应的角视场也可能不再是圆形，而是椭圆形。这个练习能帮助你学会将复杂问题分解为正交分量来独立处理，这是光学设计中一项重要的技能。", "problem": "变形（或宽银幕）成像系统被设计用于在水平和垂直方向上产生不同的放大率。考虑这样一个系统的简化模型，该模型由两个薄柱面透镜和一个探测器组成，所有元件都以$z$轴为中心。\n\n第一个透镜位于 $z=0$ 处，其焦距为 $f_x$，仅在$x$方向提供聚焦能力。第二个透镜位于 $z=d$ 处，其焦距为 $f_y$，仅在$y$方向提供聚焦能力。一个半径为 $R$ 的平面圆形探测器放置在平面 $z=L$ 处，其中 $L > d$。整个系统位于空气中（折射率 $n=1$）。\n\n该系统用于观测一个非常遥远的物体，因此来自物体上某一点的入射光线可以被视为平行光束。这些光线的方向由它们分别与$yz$平面和$xz$平面形成的小角度 $\\theta_x$ 和 $\\theta_y$ 来描述。\n\n系统的角视场（FOV）定义为所有可能的输入角度 $(\\theta_x, \\theta_y)$ 的集合，对于这些角度，其对应的主光线落在探测器上。主光线是来自远方物体、穿过系统孔径光阑中心的光线。对于本系统，假设位于 $z=0$ 处的第一个透镜作为孔径光阑。\n\n这个角视场在 $(\\theta_x, \\theta_y)$ 平面上的边界形成一个椭圆。确定该椭圆的半轴，记为 $\\alpha_x$（$\\theta_x$ 方向的半轴）和 $\\alpha_y$（$\\theta_y$ 方向的半轴）。请用 $\\alpha_x$ 和 $\\alpha_y$ 的表达式给出最终答案。", "solution": "我们使用近轴光线光学对每个横向方向独立建模，并采用小角度近似，使得光线斜率等于角度：$dx/dz=\\theta_x$ 和 $dy/dz=\\theta_y$。主光线定义为穿过位于 $z=0$ 处的孔径光阑中心，因此其在 $z=0$ 处的横向坐标为 $x(0)=0$ 和 $y(0)=0$。\n\n在 $x$ 方向上，位于 $z=0$ 处的第一个元件是一个焦距为 $f_x$ 的薄柱面透镜，它只影响 $x$。对于薄透镜，在透镜平面上，斜率的变化为 $\\theta_x^{+}=\\theta_x^{-}-x/f_x$。由于主光线在透镜处穿过 $x=0$，其斜率在 $z=0$ 处没有改变。后续没有 $x$ 方向的光焦度，因此 $x$ 方向的斜率一直到 $z=L$ 都保持为 $\\theta_x$。因此，在探测器上的 $x$ 坐标为\n$$\nx_L=\\theta_x L.\n$$\n\n在 $y$ 方向上，第一个透镜没有 $y$ 方向的光焦度，所以在 $z=0$ 处没有任何变化。从 $z=0$ 到 $z=d$ 的自由空间传播给出\n$$\ny(d)=\\theta_y d,\\qquad \\theta_y(d^{-})=\\theta_y.\n$$\n在 $z=d$ 处，第二个元件是一个焦距为 $f_y$ 的薄柱面透镜，它只影响 $y$，根据 $\\theta_y^{+}=\\theta_y^{-}-y/f_y$ 改变斜率：\n$$\n\\theta_y(d^{+})=\\theta_y-\\frac{y(d)}{f_y}=\\theta_y\\left(1-\\frac{d}{f_y}\\right).\n$$\n从 $z=d$ 传播到 $z=L$，\n$$\ny_L=y(d)+\\theta_y(d^{+})(L-d)=\\theta_y\\left[d+\\left(1-\\frac{d}{f_y}\\right)(L-d)\\right]\n=\\theta_y\\left[L-\\frac{d(L-d)}{f_y}\\right].\n$$\n\n探测器是一个半径为 $R$ 的圆，因此主光线落在探测器上的条件是\n$$\nx_L^2+y_L^2\\leq R^2,\n$$\n这变为\n$$\n(\\theta_x L)^2+\\left(\\theta_y\\left[L-\\frac{d(L-d)}{f_y}\\right]\\right)^2\\leq R^2.\n$$\n这是一个在 $(\\theta_x, \\theta_y)$ 平面内坐标轴对齐的椭圆。将其写成标准形式\n$$\n\\frac{\\theta_x^2}{\\alpha_x^2}+\\frac{\\theta_y^2}{\\alpha_y^2}\\leq 1,\n$$\n我们确定其半轴为\n$$\n\\alpha_x=\\frac{R}{L},\\qquad \\alpha_y=\\frac{R}{\\left|L-\\frac{d(L-d)}{f_y}\\right|}.\n$$\n根据半轴长度的定义，这些值是正的；绝对值考虑了 $y$ 方向映射因子可能存在的符号。", "answer": "$$\\boxed{\\begin{pmatrix}\\frac{R}{L} & \\frac{R}{\\left|L-\\frac{d(L-d)}{f_{y}}\\right|}\\end{pmatrix}}$$", "id": "2229291"}, {"introduction": "最后，让我们将目光投向现代光学的前沿，并探讨一个更符合工程实际的视场定义。对于像超构透镜这样的先进光学元件，其理论上的视场可能很大，但“有效”视场往往受限于离轴角度增大时性能（如效率或分辨率）的下降。这项练习提供了一个描述超构透镜聚焦效率随入射角变化的物理模型 [@problem_id:2229264]。你的任务是基于一个给定的性能阈值来计算其有效视场，这在评估和比较现代光学系统的性能时是一个非常常见的任务。", "problem": "平面超透镜是一种新型光学元件，它使用平坦的纳米结构表面来聚焦光线，而不是像传统透镜那样使用曲面。虽然对于沿其光轴入射的光线非常高效，但其性能在离轴照明下会下降。\n\n考虑一个直径为 $D$ 的圆形平面超透镜，其设计工作在自由空间波长为 $\\lambda_0$ 的条件下。其聚焦效率 $\\eta$ 定义为入射光功率集中到所需焦点中的比例，它随入射角 $\\theta_i$（从透镜表面法线测量）而变化。基于一个考虑了离轴入射时相位误差在孔径上累积的物理模型，效率由以下表达式给出：\n$$\n\\eta(\\theta_i) = \\eta_0 \\exp\\left( - \\frac{\\pi^2 D^2 \\sin^2\\theta_i}{3 \\lambda_0^2} \\right)\n$$\n其中 $\\eta_0$ 是轴上效率（在 $\\theta_i = 0$ 时）。\n\n超透镜的有效视场 (FOV) 定义为总角范围 $2\\theta_{\\text{max}}$，在此范围内，聚焦效率 $\\eta(\\theta_i)$ 保持在指定的阈值 $\\eta_{\\text{th}}$ 或以上。假设 $\\eta_{\\text{th}} < \\eta_0$。\n\n推导超透镜全视场 (FOV) 的闭式解析表达式。你的表达式应以参数 $D$、$\\lambda_0$、$\\eta_0$ 和 $\\eta_{\\text{th}}$ 表示。最终答案以弧度表示。", "solution": "我们已知聚焦效率作为入射角函数的表达式，\n$$\n\\eta(\\theta_i)=\\eta_0\\,\\exp\\!\\left(-\\frac{\\pi^2 D^2\\sin^2\\theta_i}{3\\lambda_0^2}\\right),\n$$\n且有效视场 (FOV) 定义为总角范围 $2\\theta_{\\text{max}}$，在此范围内 $\\eta(\\theta_i)\\geq\\eta_{\\text{th}}$，其中 $\\eta_{\\text{th}} < \\eta_0$。\n\n由于 $\\eta(\\theta_i)$ 依赖于 $\\sin^2\\theta_i$，所以它是 $\\theta_i$ 的偶函数。因此，视场关于光轴对称，等于 $2\\theta_{\\text{max}}$，其中 $\\theta_{\\text{max}}$ 是满足阈值不等式的最大非负入射角：\n$$\n\\eta_0\\,\\exp\\!\\left(-\\frac{\\pi^2 D^2\\sin^2\\theta}{3\\lambda_0^2}\\right)\\geq\\eta_{\\text{th}}.\n$$\n两边同除以 $\\eta_0>0$：\n$$\n\\exp\\!\\left(-\\frac{\\pi^2 D^2\\sin^2\\theta}{3\\lambda_0^2}\\right)\\geq\\frac{\\eta_{\\text{th}}}{\\eta_0}.\n$$\n由于 $0 < \\frac{\\eta_{\\text{th}}}{\\eta_0} < 1$ 且 $\\ln$ 是严格递增函数，取自然对数并整理可得\n$$\n-\\frac{\\pi^2 D^2\\sin^2\\theta}{3\\lambda_0^2}\\geq\\ln\\!\\left(\\frac{\\eta_{\\text{th}}}{\\eta_0}\\right)\n\\quad\\Longrightarrow\\quad\n\\frac{\\pi^2 D^2\\sin^2\\theta}{3\\lambda_0^2}\\leq\\ln\\!\\left(\\frac{\\eta_0}{\\eta_{\\text{th}}}\\right).\n$$\n因此，\n$$\n\\sin^2\\theta\\leq\\frac{3\\lambda_0^2}{\\pi^2 D^2}\\;\\ln\\!\\left(\\frac{\\eta_0}{\\eta_{\\text{th}}}\\right).\n$$\n对于非负的 $\\theta$ 取主值，\n$$\n\\theta_{\\text{max}}=\\arcsin\\!\\left(\\frac{\\sqrt{3}\\,\\lambda_0}{\\pi D}\\,\\sqrt{\\ln\\!\\left(\\frac{\\eta_0}{\\eta_{\\text{th}}}\\right)}\\right).\n$$\n所以，全视场为\n$$\n\\text{FOV}=2\\theta_{\\text{max}}=2\\,\\arcsin\\!\\left(\\frac{\\sqrt{3}\\,\\lambda_0}{\\pi D}\\,\\sqrt{\\ln\\!\\left(\\frac{\\eta_0}{\\eta_{\\text{th}}}\\right)}\\right),\n$$\n以弧度表示。此表达式有效的前提是 $\\arcsin$ 的自变量在区间 $[0,1]$ 内，这要求 $\\frac{3\\lambda_0^2}{\\pi^2 D^2}\\ln\\!\\left(\\frac{\\eta_0}{\\eta_{\\text{th}}}\\right)\\leq 1$；否则，该模型将预测阈值条件在整个有效角度域内都得到满足。", "answer": "$$\\boxed{2\\,\\arcsin\\!\\left(\\frac{\\sqrt{3}\\,\\lambda_{0}}{\\pi D}\\,\\sqrt{\\ln\\!\\left(\\frac{\\eta_{0}}{\\eta_{\\text{th}}}\\right)}\\right)}$$", "id": "2229264"}]}