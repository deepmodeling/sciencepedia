## 引言
分形，以其在不同尺度下无限重复的精细结构，构成了自然界和数学中一类迷人而复杂的对象。从雪花的晶体到海岸线的轮廓，自相似的模式无处不在。然而，欣赏这些优美的几何图形与理解其生成的数学本质之间存在一道鸿沟：我们如何才能精确地描述并创造这些无限复杂的结构？[迭代函数系统](@entry_id:138595)（Iterated Function Systems, IFS）为这一问题提供了强大而优雅的解答。它不仅是一种生成分形的算法，更是一个深刻的数学理论，揭示了简单规则如何涌现出令人惊叹的复杂性。

本文旨在系统性地引导读者深入IFS的世界。在接下来的内容中，我们将首先在“原理与机制”一章中，剖析构成IFS的数学基石——压缩映射与哈钦森算子，并探讨如何通过[符号动力学](@entry_id:270152)和分形维数来分析和度量[吸引子](@entry_id:275077)。随后，在“应用与跨学科联系”一章，我们将跨越纯数学的边界，探索IFS如何在物理学、[图像压缩](@entry_id:156609)乃至生命科学等领域中作为强大的建模工具发挥作用。最后，“动手实践”部分将提供一系列精心设计的问题，帮助读者巩固理论知识并将其付诸实践。

让我们从探索驱动分形生成的核心原理与机制开始。

## 原理与机制

本章在前一章介绍[迭代函数系统](@entry_id:138595)（IFS）基本概念的基础上，深入探讨其背后的数学原理与核心机制。我们将系统地剖析构成 IFS 的基本单元——压缩映射，阐明[吸引子](@entry_id:275077)如何作为这些映射集体作用下的[不变集](@entry_id:275226)而涌现。此外，我们还将引入[符号动力学](@entry_id:270152)，为理解分形的[精细结构](@entry_id:140861)提供一种强大的语言。最后，我们将讨论生成和度量这些复杂几何对象的方法，包括著名的“[混沌游戏](@entry_id:195812)”算法以及分形维数的概念。

### [压缩映射](@entry_id:139989)的数学原理

[迭代函数系统](@entry_id:138595)的理论基石是**压缩映射 (contraction mapping)**。在[完备度量空间](@entry_id:161972) $(X, d)$ 上，一个映射 $w: X \to X$ 被称为压缩映射，如果存在一个常数 $r \in [0, 1)$，使得对于 $X$ 中的任意两点 $x$ 和 $y$，都满足以下条件：
$$d(w(x), w(y)) \le r d(x, y)$$
常数 $r$ 被称为**[压缩因子](@entry_id:145979) (contraction factor)**。此定义的核心思想是，映射 $w$ 会使空间中任意两点间的距离至少缩短一个固定的比例 $r$。在分形几何中，最常用的一类压缩映射是**仿射变换 (affine transformation)**，其一般形式为：
$$w(\mathbf{x}) = \mathbf{A}\mathbf{x} + \mathbf{t}$$
其中 $\mathbf{x}$ 是空间中的一个点（向量），$\mathbf{A}$ 是一个[线性变换矩阵](@entry_id:186379)，$\mathbf{t}$ 是一个平移向量。为了保证该变换是压缩的，矩阵 $\mathbf{A}$ 必须在某种范数下是压缩的。最简单且最常见的情况是**相似变换 (similarity transformation)**，此时矩阵 $\mathbf{A}$ 是一个标量 $r$（[压缩因子](@entry_id:145979)）与一个正交矩阵（代表旋转或反射）的乘积。

对于任何一个压缩映射，存在一个且仅有一个点 $\mathbf{x}_f$ 保持不变，即满足**[不动点](@entry_id:156394) (fixed point)** 方程：
$$w(\mathbf{x}_f) = \mathbf{x}_f$$
这个[不动点](@entry_id:156394)在理解 IFS 的行为中扮演着关键角色。它像是变换的“中心”或“锚点”，整个空间都向它收缩。

为了具体理解，我们考察一个用于生成广义[谢尔宾斯基地毯](@entry_id:192295)的 IFS 中的单个变换 [@problem_id:876658]。这个分形由一个单位正方形 $[0, 1] \times [0, 1]$ 开始，将其划分为 $s \times s$ 个相同的小正方形，并移除中心部分，然后对剩余部分无限重复此过程。将单位正方形映射到右下角子正方形的变换 $w_{br}$ 是一个[相似变换](@entry_id:152935)，其[压缩因子](@entry_id:145979)为 $1/s$，并伴随一个平移。其形式为：
$$w_{br}(\mathbf{x}) = \frac{1}{s} \mathbf{x} + \mathbf{t}_{br}$$
由于这个变换将整个单位正方形 $[0, 1]^2$ 映射到子正方形 $[\frac{s-1}{s}, 1] \times [0, \frac{1}{s}]$，我们可以推断出平移向量 $\mathbf{t}_{br} = (\frac{s-1}{s}, 0)^T$。现在，我们可以求解该变换的[不动点](@entry_id:156394) $\mathbf{x}_f = (x_f, y_f)^T$：
$$\mathbf{x}_f = \frac{1}{s} \mathbf{x}_f + \mathbf{t}_{br}$$
整理得到：
$$\left(1 - \frac{1}{s}\right) \mathbf{x}_f = \mathbf{t}_{br}$$
代入 $\mathbf{t}_{br}$ 并分别求解 $x_f$ 和 $y_f$：
$$x_f \left(1 - \frac{1}{s}\right) = \frac{s-1}{s} \implies x_f \frac{s-1}{s} = \frac{s-1}{s} \implies x_f = 1$$
$$y_f \left(1 - \frac{1}{s}\right) = 0 \implies y_f = 0$$
因此，该变换的[不动点](@entry_id:156394)是 $(1, 0)$，即单位正方形的右下角顶点。这符合我们的直觉：当我们将整个正方形不断地向其右下角的子正方形压缩时，唯一保持不动的位置就是这个角落。

### Hutchinson 算子与[吸引子](@entry_id:275077)

一个[迭代函数系统 (IFS)](@entry_id:186797) 由一组有限的压缩映射 $\{w_1, w_2, \ldots, w_N\}$ 构成。为了描述这些映射的集体效应，我们定义**哈钦森算子 (Hutchinson operator)** $W$：
$$W(S) = \bigcup_{i=1}^{N} w_i(S)$$
其中 $S$ 是[度量空间](@entry_id:138860) $X$ 的一个[子集](@entry_id:261956)。该算子接收一个集合 $S$，并返回所有映射 $w_i$ 对 $S$ 的像的并集。

基于[巴拿赫不动点定理](@entry_id:146620)，John Hutchinson 证明了一个里程碑式的结论：对于任何由[压缩映射](@entry_id:139989)构成的 IFS，在[完备度量空间](@entry_id:161972)上存在一个唯一的非空紧集 $A$，满足如下的自相似性方程：
$$A = W(A)$$
这个集合 $A$ 被称为 IFS 的**吸引子 (attractor)**。这个方程的含义是，[吸引子](@entry_id:275077)是由其自身经过各个压缩变换后得到的小副本拼接而成的。无论我们从哪个初始非空[紧集](@entry_id:147575) $S_0$ 开始（例如一个简单的方块或圆盘），并反复应用哈钦森算子 $S_{k+1} = W(S_k)$，所得到的[集合序列](@entry_id:184571)都会收敛到这个唯一的[吸引子](@entry_id:275077) $A$。

[吸引子](@entry_id:275077)不一定总是具有复杂的、分形的结构。在某些特定条件下，它也可以是像线段或方块这样的简单几何对象。考察一个定义在区间 $[0,1]$ 上的 IFS，其吸引子恰好是 $[0,1]$ 本身 [@problem_id:876594]。该系统包含三个[仿射映射](@entry_id:746332) $w_i(x) = s_i x + o_i$。前两个映射为 $w_1(x) = \alpha x$ 和 $w_2(x) = \beta x + (1-\beta)$，其中 $\alpha + \beta  1$。为了让[吸引子](@entry_id:275077)是 $[0,1]$，必须满足 $W([0,1]) = [0,1]$。$w_1$ 将 $[0,1]$ 映射到 $[0, \alpha]$，$w_2$ 将 $[0,1]$ 映射到 $[1-\beta, 1]$。为了填满整个区间，第三个映射 $w_3$ 必须将 $[0,1]$ 映射到中间空缺的子区间 $[\alpha, 1-\beta]$。这意味着 $w_3(0) = o_3 = \alpha$ 且 $w_3(1) = s_3 + o_3 = 1-\beta$。由此我们可以解出第三个映射的参数：$o_3 = \alpha$ 和 $s_3 = 1 - \alpha - \beta$。这个例子清晰地表明，吸引子的几何形态是由各个映射的参数（[压缩因子](@entry_id:145979)和偏移量）精确决定的。

进一步地，我们可以探究映射参数如何影响吸引子的[拓扑性质](@entry_id:141605)，例如连通性 [@problem_id:876606]。考虑在 $[0, L]$ 上的一个简单 IFS，包含两个映射 $w_1(x) = rx$ 和 $w_2(x) = rx + t$，其中 $0  r  1$，$t > 0$。为了使这是一个定义良好的系统，每个映射的像都必须是 $[0, L]$ 的[子集](@entry_id:261956)。
- $w_1([0, L]) = [0, rL] \subseteq [0, L]$，这个条件总是满足的，因为 $r  1$。
- $w_2([0, L]) = [t, rL+t] \subseteq [0, L]$，这要求 $t \ge 0$ 和 $rL+t \le L$，即 $t \le L(1-r)$。

为了使[吸引子](@entry_id:275077)是连通的，像集 $w_1([0,L]) \cup w_2([0,L]) = [0, rL] \cup [t, rL+t]$ 必须是一个连通的区间。这要求两个子区间必须重叠或接触，即 $t \le rL$。
综合这两个条件，对于给定的 $r$，平移量 $t$ 的允许范围是 $0 \le t \le \min\{rL, L(1-r)\}$。我们感兴趣的是在所有可能的 $r \in (0,1)$ 中，这个允许的 $t$ 的最大值 $t_{max}(r)$ 能达到多大。这个最大值在 $rL = L(1-r)$ 时取得，即 $r = 1/2$。此时，$t_{max}(1/2) = L/2$。这说明，当两个子区间大小相等时（每个都是父区间长度的一半），我们可以将它们“推”得最远而仍然保持连通性。

### 代码空间与[符号动力学](@entry_id:270152)

为了深入分析[吸引子](@entry_id:275077)的内部结构，数学家们发展了**[符号动力学](@entry_id:270152) (symbolic dynamics)** 这一强大工具。其核心思想是为吸引子上的每一个点分配一个唯一的“地址”或“编码”。

考虑一个包含 $N$ 个映射的 IFS。我们定义**代码空间 (code space)** $\Sigma$ 为所有由符号 $\{1, 2, \ldots, N\}$ 构成的无穷序列组成的集合，即 $\Sigma = \{1, 2, \ldots, N\}^{\mathbb{N}}$。代码空间中的每一个元素 $\sigma = (\sigma_1, \sigma_2, \sigma_3, \ldots)$ 都是一个无穷序列，它编码了一条在[吸引子](@entry_id:275077)上定位一个点的路径。

**编码映射 (coding map)** $\pi: \Sigma \to A$ 将一个地址序列映射到[吸引子](@entry_id:275077)上的一个具体点。给定一个序列 $\sigma = (\sigma_1, \sigma_2, \ldots)$，对应的点 $x$ 可以通过以[下极限](@entry_id:145282)过程得到：
$$x = \lim_{k \to \infty} w_{\sigma_1} \circ w_{\sigma_2} \circ \cdots \circ w_{\sigma_k}(x_0)$$
其中 $x_0$ 是空间中的任意初始点，$\circ$ 表示[函数复合](@entry_id:144881)。这个表达式的含义是，我们首先在整个空间中选择区域 $w_{\sigma_1}(X)$，然后在这个区域内进一步选择 $w_{\sigma_1}(w_{\sigma_2}(X))$，如此无限递进。这一系列嵌套的[紧集](@entry_id:147575)将收缩到一个唯一的点，这个点就是地址 $\sigma$ 所对应的点 $x$。

当 IFS 满足一个称为**开集条件 (Open Set Condition)** 的技术条件时（粗略地说，即不同映射的像除了边界外不重叠），编码映射 $\pi$ 是一个连续的满射。这意味着[吸引子](@entry_id:275077)上的每个点都至少有一个地址，并且地址相近的点在空间上也相近。在许多情况下，这个映射几乎是一个双射，即绝大多数点都有唯一的地址。

一个经典例子是标准的中[三分康托集](@entry_id:262706) (middle-third Cantor set)，它是由两个映射 $f_0(x) = x/3$ 和 $f_2(x) = (x+2)/3$ 在 $[0,1]$ 上生成的。其代码空间为 $\Sigma = \{0, 2\}^{\mathbb{N}}$。任意一个点 $x \in C$ 都可以表示为其[三进制展开](@entry_id:140291)式，且只包含数字 0 和 2：
$$x = \sum_{k=1}^{\infty} \frac{\sigma_k}{3^k}, \quad \sigma_k \in \{0, 2\}$$
这正是编码映射的具体形式。例如，我们来确定点 $x_p = 1/4$ 在[康托集](@entry_id:141903)中的符号地址 [@problem_id:876588]。我们可以通过一个简单的算法来寻找其[三进制展开](@entry_id:140291)：
$3 \times 1/4 = 3/4 = 0 + 3/4 \implies \sigma_1 = 0$
$3 \times 3/4 = 9/4 = 2 + 1/4 \implies \sigma_2 = 2$
$3 \times 1/4 = 3/4 = 0 + 3/4 \implies \sigma_3 = 0$
...
我们发现这个过程是周期性的，其符号地址为序列 $\sigma^* = (0, 2, 0, 2, \ldots)$。

符号地址的一个重要应用是识别[吸引子](@entry_id:275077)上的特殊点，特别是周期点。一个具有周期性地址序列（例如 $(\sigma_1 \sigma_2 \ldots \sigma_p)^\infty$）的点，必然是对应映射复合算子 $P = w_{\sigma_1} \circ w_{\sigma_2} \circ \cdots \circ w_{\sigma_p}$ 的[不动点](@entry_id:156394) [@problem_id:876593]。考虑一个在复平面上的 IFS，由两个映射 $w_1(z) = s_1 z + b_1$ 和 $w_2(z) = s_2 e^{i\theta} z + i c_2$ 组成。我们要寻找对应于周期地址 $(12)^\infty = 121212\ldots$ 的点 $z^*$。这个点必须是复合映射 $P(z) = w_1(w_2(z))$ 的[不动点](@entry_id:156394)。
$$P(z) = w_1(s_2 e^{i\theta} z + i c_2) = s_1(s_2 e^{i\theta} z + i c_2) + b_1 = s_1 s_2 e^{i\theta} z + i s_1 c_2 + b_1$$
令 $z^* = P(z^*)$，我们得到：
$$z^* = s_1 s_2 e^{i\theta} z^* + i s_1 c_2 + b_1$$
解出 $z^*$，我们得到该周期点的精确坐标：
$$z^* = \frac{b_1 + i s_1 c_2}{1 - s_1 s_2 e^{i\theta}}$$
这种方法将一个无穷的几何构造问题转化为了一个有限的[代数方程](@entry_id:272665)求解问题，展示了[符号动力学](@entry_id:270152)强大的分析能力。

### 生成与测量[吸引子](@entry_id:275077)

#### [混沌游戏](@entry_id:195812)

虽然哈钦森算子在理论上定义了吸引子，但直接在计算机上实现集合的无限并集操作是不可行的。一个非常优雅且高效的替代方法是**[混沌游戏](@entry_id:195812) (chaos game)** 算法。这是一个随机迭代过程，其步骤如下：
1.  选择空间中的任意一个初始点 $x_0$。
2.  进入一个无限循环：
    a.  根据给定的[概率分布](@entry_id:146404) $\{p_1, p_2, \ldots, p_N\}$，随机选择一个映射 $w_i$。
    b.  计算下一个点 $x_{k+1} = w_i(x_k)$。
    c.  在屏幕上绘制点 $x_{k+1}$。

令人惊奇的是，只要经过少数初始迭代（以消除初始点的影响），这个[随机过程](@entry_id:159502)生成的点云会逐渐描绘出 IFS 的[吸引子](@entry_id:275077)。[混沌游戏](@entry_id:195812)之所以有效，是因为它生成的点序列 $\{x_k\}$ 构成的[轨道](@entry_id:137151)最终会被限制在[吸引子](@entry_id:275077)上，并且访问[吸引子](@entry_id:275077)不同区域的频率正比于一个被称为**[不变测度](@entry_id:202044) (invariant measure)** 的特殊[概率分布](@entry_id:146404)。

我们可以分析这个[随机过程](@entry_id:159502)的统计性质。例如，我们可以计算迭代点的期望位置 [@problem_id:876605]。考虑一个一维 IFS，包含两个映射 $w_1(x) = r_1 x + t_1$ 和 $w_2(x) = r_2 x + t_2$，选择概率分别为 $p_1$ 和 $p_2 = 1 - p_1$。设 $x_k$ 是第 $k$ 步迭代后的点的位置（一个[随机变量](@entry_id:195330)），其[期望值](@entry_id:153208)为 $E[x_k]$。那么 $x_{k+1}$ 的[期望值](@entry_id:153208)可以通过[全期望公式](@entry_id:267929)计算：
$$E[x_{k+1}] = p_1 E[w_1(x_k)] + p_2 E[w_2(x_k)]$$
利用[期望的线性](@entry_id:273513)性质 $E[ax+b] = aE[x]+b$，我们得到：
$$E[x_{k+1}] = p_1 (r_1 E[x_k] + t_1) + p_2 (r_2 E[x_k] + t_2) = (p_1 r_1 + p_2 r_2) E[x_k] + (p_1 t_1 + p_2 t_2)$$
这是一个关于[期望值](@entry_id:153208)的[线性递推关系](@entry_id:273376)。令 $R = p_1 r_1 + p_2 r_2$ 和 $T = p_1 t_1 + p_2 t_2$，则 $E[x_{k+1}] = R E[x_k] + T$。如果从 $x_0=0$ 开始，即 $E[x_0]=0$，我们可以迭代求解：
$E[x_1] = T$
$E[x_2] = RT + T = T(1+R)$
$E[x_3] = R(T(1+R)) + T = T(1+R+R^2)$
以此类推，第 $N$ 步的期望位置为：
$$E[x_N] = T \sum_{k=0}^{N-1} R^k = T \frac{1-R^N}{1-R}$$
这个结果给出了宏观平均行为如何由微观的随机规则所决定。

#### [李雅普诺夫指数](@entry_id:136828)

在动力系统中，**李雅普诺夫指数 (Lyapunov exponent)** $\lambda$ 是衡量系统对初始条件的敏感性的一个关键指标。它量化了两个无限接近的初始[轨道](@entry_id:137151)是呈指数级分离（$\lambda > 0$，混沌）还是汇合（$\lambda  0$，稳定）。对于一维随机迭代系统 $x_{n+1} = g_n(x_n)$，其中 $g_n$ 是在第 $n$ 步随机选择的映射，李雅普诺夫指数定义为：
$$\lambda = \lim_{N \to \infty} \frac{1}{N} \sum_{n=0}^{N-1} \ln |g'_n(x_n)|$$
在[遍历性假设](@entry_id:147104)下，这个[时间平均](@entry_id:267915)等于对系统不变测度的[空间平均](@entry_id:203499)。对于由[仿射映射](@entry_id:746332) $f_i(x) = r_i x + t_i$ 组成的 IFS，导数是常数 $|f'_i(x)| = |r_i|$。因此，李雅普诺夫指数的计算变得非常简单：它就是对数[压缩因子](@entry_id:145979)的[期望值](@entry_id:153208) [@problem_id:876657]。
$$\lambda = \langle \ln |r| \rangle = \sum_{i=1}^{N} p_i \ln |r_i|$$
对于一个由 $f_1(x)=ax+c_1$（概率 $p$）和 $f_2(x)=bx+c_2$（概率 $1-p$）组成的系统，其李雅普诺夫指数为：
$$\lambda = p \ln a + (1-p) \ln b$$
由于所有映射都是压缩的（$0  a, b  1$），对数项均为负，因此[李雅普诺夫指数](@entry_id:136828) $\lambda$ 也是负的。这从动力学的角度证实了系统的稳定性：任何两条[轨道](@entry_id:137151)都会指数级地靠近，最终共同在[吸引子](@entry_id:275077)上“游走”。

### 分形维数的概念

分形的一个显著特征是其“维度”与我们通常的经验不符。一个曲线的拓扑维度是一，一个[曲面](@entry_id:267450)是二，但分形对象的“复杂性”或“粗糙度”似乎介于整数之间。这催生了多种分形维数的定义，其中最基础的是**[豪斯多夫维数](@entry_id:158929) (Hausdorff dimension)**。

对于由 $N$ 个[相似变换](@entry_id:152935)组成的 IFS，每个变换的[压缩因子](@entry_id:145979)为 $r_i$，如果系统满足开集条件，其吸引子 $A$ 的[豪斯多夫维数](@entry_id:158929) $s = \dim_H(A)$ 是下面**[莫兰方程](@entry_id:269331) (Moran's equation)** 的唯一解：
$$\sum_{i=1}^{N} r_i^s = 1$$
在一个更简单的情况下，如果所有的[压缩因子](@entry_id:145979)都相同，即 $r_i = r$ for all $i$，方程简化为 $N r^s = 1$，解得：
$$s = \frac{\ln N}{\ln(1/r)}$$
这个公式直观地解释了维度的含义：维度 $s$ 是一个幂指数，它平衡了在每次迭代中碎片的数量 ($N$) 与每个碎片的大小 ($r$) 之间的关系。

让我们计算一个具体例子 [@problem_id:876664]。标准的[谢尔宾斯基地毯](@entry_id:192295)由 8 个[压缩因子](@entry_id:145979)为 $r=1/3$ 的映射生成，其维数为 $\ln 8 / \ln 3$。现在，我们考虑一个仅由其中“保持顶点”的映射构成的新 IFS。单位正方形的四个顶点是 $(0,0), (1,0), (0,1), (1,1)$。一个映射 $f_i(\mathbf{x}) = \frac{1}{3}\mathbf{x} + \mathbf{b}_i$ 保持顶点 $\mathbf{c}$ 不变的条件是 $f_i(\mathbf{c}) = \mathbf{c}$，即 $\frac{1}{3}\mathbf{c} + \mathbf{b}_i = \mathbf{c}$，或 $\mathbf{b}_i = \frac{2}{3}\mathbf{c}$。将四个顶点代入，我们得到四个对应的平移向量：$\{(0,0), (2/3,0), (0,2/3), (2/3,2/3)\}$。因此，新的 IFS 由 $N=4$ 个映射组成，每个映射的[压缩因子](@entry_id:145979)仍为 $r=1/3$。其[豪斯多夫维数](@entry_id:158929) $s$ 满足：
$$4 \left(\frac{1}{3}\right)^s = 1 \implies \left(\frac{1}{3}\right)^s = \frac{1}{4}$$
两边取对数，得到 $s \ln(1/3) = \ln(1/4)$，所以：
$$s = \frac{-\ln 4}{-\ln 3} = \frac{\ln(2^2)}{\ln 3} = \frac{2\ln 2}{\ln 3}$$
这个维数小于原始[谢尔宾斯基地毯](@entry_id:192295)的维数，这与我们的直觉相符，因为我们使用了更少的映射，生成的图形“更稀疏”。

当 IFS 中的映射以不同的概率被选择时，吸引子上的[不变测度](@entry_id:202044)通常不是均匀的。**信息维数 (information dimension)** $D_1$ 是描述这种非均匀测度[分布](@entry_id:182848)的一个重要指标。它由以下公式给出 [@problem_id:876654]：
$$D_1 = \frac{\sum_{i=1}^N p_i \ln p_i}{\sum_{i=1}^N p_i \ln r_i} = \frac{-H}{-\Lambda}$$
其中分子是选择概率的**香农熵 (Shannon entropy)** $H = -\sum p_i \ln p_i$，分母中的 $\Lambda = \sum p_i (-\ln r_i)$ 是平均对数收缩率（这与李雅普诺夫指数密切相关）。信息维数衡量了在随机迭代过程中，为了以 $\epsilon$ 的精度确定一个点的位置，平均需要多少信息量。对于具有不同概率和[压缩因子](@entry_id:145979)的分形，信息维数可能不同于[豪斯多夫维数](@entry_id:158929)，这引出了更广阔的**[多重分形](@entry_id:272120) (multifractal)** 理论。

### 高级推广：图导向 IFS

标准 IFS 的一个重要推广是**图导向[迭代函数系统](@entry_id:138595) (Graph-Directed IFS, or GIFS)**。在 GIFS 中，映射的选择不再是完全独立的，而是受到一个有向图 $G=(V, E)$ 的约束。图的每个顶点 $i \in V$ 关联一个集合 $A_i$，每条边 $e=(i,j) \in E$ 关联一个[压缩映射](@entry_id:139989) $w_e$。系统的[吸引子](@entry_id:275077)是由一组集合 $(A_1, \ldots, A_m)$ 组成，满足如下的[自洽方程](@entry_id:155949)组：
$$A_i = \bigcup_{j: (i,j) \in E} w_{(i,j)}(A_j)$$
这个框架允许构建更为复杂的、具有相互依赖性的分形结构。

GIFS 的[豪斯多夫维数](@entry_id:158929)计算也相应地推广。其维数 $s$ 由一个与图结构相关的矩阵方程确定。我们定义一个**转移矩阵 (transition matrix)** $T(s)$，其元素为：
$$[T(s)]_{ij} = \sum_{e=(i,j) \in E} r_e^s$$
其中 $r_e$ 是与边 $e$ 相关联的映射的[压缩因子](@entry_id:145979)。如果系统满足图导向开集条件，其吸引子的[豪斯多夫维数](@entry_id:158929) $s$ 是使得 $T(s)$ 的**[谱半径](@entry_id:138984) (spectral radius)** $\rho(T(s))$（即模最大的[特征值](@entry_id:154894)）等于 1 的唯一解：
$$\rho(T(s)) = 1$$

我们来看一个具体的例子 [@problem_id:876611]。考虑一个有两个顶点 $V=\{1,2\}$ 和四条边 $E=\{(1,1), (1,2), (2,1), (2,2)\}$ 的 GIFS。所有四条边关联的映射都有相同的[压缩因子](@entry_id:145979) $\alpha = (1/2)^{1/3}$。其转移矩阵为：
$$T(s) = \begin{pmatrix} \alpha^s  \alpha^s \\ \alpha^s  \alpha^s \end{pmatrix}$$
该矩阵的[特征值](@entry_id:154894) $\lambda$ 满足 $(\alpha^s - \lambda)^2 - (\alpha^s)^2 = 0$，解得 $\lambda_1 = 2\alpha^s$ 和 $\lambda_2 = 0$。因此[谱半径](@entry_id:138984)为 $\rho(T(s)) = 2\alpha^s$。
根据维数公式，我们令 $\rho(T(s)) = 1$：
$$2\alpha^s = 1 \implies \alpha^s = \frac{1}{2}$$
代入 $\alpha = (1/2)^{1/3}$：
$$\left((1/2)^{1/3}\right)^s = (1/2)^{s/3} = (1/2)^1$$
由此可得 $s/3 = 1$，即 $s=3$。这个看似令人惊讶的结果——一个在二维或三维[欧氏空间](@entry_id:138052)中构造的对象的[豪斯多夫维数](@entry_id:158929)可以是 3——突显了 GIFS 在生成具有非凡几何特性结构方面的强大能力，并为本章对 IFS 原理与机制的探讨画上了一个引人深思的句号。