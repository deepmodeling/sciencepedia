{"hands_on_practices": [{"introduction": "配置模型是理解具有特定度序列的随机网络的基础。其核心机制——随机配对“桩”($stub$)——虽然强大，但也可能产生在许多真实世界网络中不存在的特征，例如自环。通过这个练习[@problem_id:876913]，你将直接计算在给定度序列下，某个特定节点形成自环的确切概率，从而亲身体会该模型的组合学本质及其后果。", "problem": "在复杂网络的研究中，配置模型是一种生成算法，用于产生具有指定度序列的随机网络。该模型按如下方式运作：\n1. 对于一组 $N$ 个节点中的每个节点 $i$，为其分配预定数量的“末梢”或“半边”，$k_i$，对应其期望的度。所有度的集合 $\\{k_1, k_2, \\dots, k_N\\}$ 即为度序列。末梢的总数为 $L = \\sum_{i=1}^N k_i$。对于一个有效的图，$L$ 必须是偶数。\n2. 然后将网络中所有的 $L$ 个末梢进行均匀随机配对以形成边。所有末梢的每种不同配对都是等可能的。这个过程可能产生带有自环（连接节点自身的边）和多重边（同一对节点之间的多条边）的图。\n\n考虑一个包含 $N=4$ 个节点的网络，其度序列为 $\\{k_1, k_2, k_3, k_4\\} = \\{3, 2, 2, 1\\}$。\n求在第一个节点（度为 $k_1=3$ 的节点）上形成自环的精确概率。", "solution": "我们将 8 个末梢标记为 1…8，其中末梢 1, 2, 3 属于节点 1。节点 1 上的自环的形成，当且仅当其三个末梢中的任意两个配对在一起。由于在 $L=8$ 个末梢的均匀随机完美匹配中，每个无序对都是等可能的，因此给定的一对 $\\{i,j\\}$ 被匹配的概率是：\n$$\nP(\\text{对}\\{i,j\\}\\text{匹配})=\\frac{1}{L-1}=\\frac{1}{7}\n$$\n在末梢 $\\{1,2,3\\}$ 中，有三个这样的对：$\\{1,2\\},\\{1,3\\},\\{2,3\\}$。此外，在三个末梢的匹配中，最多只能形成一个自环，因此这些事件是互斥的。根据加法法则，节点1上出现自环的概率为：\n$$\nP(\\text{节点1上出现自环})\n=\\sum_{\\substack{\\{i,j\\}\\subset\\{1,2,3\\}}}\nP(\\text{对}\\{i,j\\}\\text{匹配})\n=3 \\times \\frac{1}{7}\n=\\frac{3}{7}\n$$", "answer": "$$\\boxed{\\frac{3}{7}}$$", "id": "876913"}, {"introduction": "在理解了配置模型的基本机制后，我们可以探索一个更具挑战性的问题：生成一个完整的、特定的简单图的概率是多少？这个练习[@problem_id:876883]将引导你计算生成一个“爪形图”的概率。这不仅能加深你对桩匹配过程组合复杂性的理解，也揭示了该模型在生成无自环和重边的特定网络结构时面临的概率限制。", "problem": "在复杂网络的研究中，配置模型是一种生成算法，用于构建具有指定度序列的随机图。考虑一个包含 $N$ 个节点的集合，其中每个节点 $i$ 被赋予一个度 $k_i$。为了生成一个图，每个节点 $i$ 被赋予 $k_i$ 个“末梢”或“半边”。网络中末梢的总数是 $L = \\sum_{i=1}^N k_i$，该值必须为偶数。然后，通过在 $L$ 个末梢的集合上选择一个完美匹配来形成一个随机图，其中每个可能的完美匹配都是等概率的。这个过程可能会产生含有多重边（同一对节点之间的多条边）和自环（连接节点自身的边）的图。\n\n“爪形图”是一个有四个顶点和三条边的简单图，它由一个中心节点连接到另外三个度为1的节点组成。然而，在本题的上下文中，“爪形图”被用作一个非标准的名称，来描述一个具有度序列 $\\{3, 2, 2, 1\\}$ 的特定图结构。这个图由一个三角形和一个连接到三角形某个顶点的悬挂节点组成。\n\n考虑一个配置模型，其中有 $N=4$ 个标记节点 $\\{v_1, v_2, v_3, v_4\\}$ 和一个给定的度序列 $\\{k_1, k_2, k_3, k_4\\} = \\{3, 2, 2, 1\\}$。任何由此模型生成的简单图都必须同构于一个上述定义的图，其中 $v_1$ 是度为3的中心节点，$v_4$ 是度为1的悬挂节点，而 $v_2, v_3$ 是三角形中另外两个度为2的节点。\n\n计算对于此度序列，末梢匹配过程产生一个简单图（即所描述的特定结构）的精确概率。", "solution": "我们将每个节点 $i$ 的末梢标记为 $s_{i,1},\\dots,s_{i,k_i}$。末梢的总数是\n$$\nL=\\sum_{i=1}^4k_i=3+2+2+1=8.\n$$\n1. 在 $L$ 个已标记末梢上的完美匹配的总数为：\n$$\n(L-1)!! = (8-1)!!=7\\cdot5\\cdot3\\cdot1=105.\n$$\n2. 我们计算能产生目标简单图的有利匹配数。根据度序列，该图在节点 $\\{v_1,v_2,v_3,v_4\\}$ 上的边必须是\n$$\n\\{v_1,v_2\\},\\;\\{v_1,v_3\\},\\;\\{v_1,v_4\\},\\;\\{v_2,v_3\\}.\n$$\n我们来计算形成这些边的末梢配对方式的数量：\n(a) 将 $v_1$ 的 $3$ 个末梢中的一个与 $v_4$ 的唯一末梢配对：有 $3$ 种选择。\n(b) 从 $v_1$ 剩下的 $2$ 个末梢中，选择一个与 $v_2$ 的一个末梢配对：有 $2$ 种方式选择 $v_1$ 的末梢，有 $2$ 种方式选择 $v_2$ 的末梢，共 $2 \\times 2 = 4$ 种方式。\n(c) $v_1$ 的最后一个末梢必须与 $v_3$ 的一个末梢配对：有 $2$ 种方式选择 $v_3$ 的末梢。\n(d) 最后，$v_2$ 剩下的单个末梢必须与 $v_3$ 剩下的单个末梢配对：只有 $1$ 种方式。\n然而，上述计算方式对边的形成顺序进行了假设，会导致重复计数。一个更严谨的方法是：将 $v_1$ 的3个末梢分配给节点 $v_2, v_3, v_4$。有 $3! = 6$ 种分配方式。对于其中一种分配（例如，末梢1给$v_2$，末梢2给$v_3$，末梢3给$v_4$）：\n*   连接 $v_1$ 和 $v_2$：有 $2$ 种方式（$v_2$有两个末梢）。\n*   连接 $v_1$ 和 $v_3$：有 $2$ 种方式（$v_3$有两个末梢）。\n*   连接 $v_1$ 和 $v_4$：有 $1$ 种方式（$v_4$只有一个末梢）。\n*   连接 $v_2$ 和 $v_3$：剩下的末梢只能以 $1$ 种方式配对。\n因此，有利匹配的总数为 $3! \\times (2 \\times 2 \\times 1) \\times 1 = 6 \\times 4 = 24$。\n\n3. 因此，获得目标简单图的概率是：\n$$\n\\frac{24}{105}=\\frac{8}{35}\n$$", "answer": "$$\\boxed{\\frac{8}{35}}$$", "id": "876883"}, {"introduction": "指数随机图模型 (Exponential Random Graph Models, ERGMs) 为网络建模提供了一种截然不同的范式，它借鉴了统计力学的思想。与逐步构建网络的生成模型不同，ERGMs 为所有可能的图分配一个概率，该概率由一个包含网络统计特征的哈密顿量决定。这个练习[@problem_id:876917]将让你通过计算一个5节点环图与路图的概率比，亲手实践 ERGM 的核心思想，并揭示模型参数（如 $\\theta_L$ 和 $\\theta_S$）如何直接影响特定拓扑结构的出现几率。", "problem": "指数随机图模型 (Exponential Random Graph Models, ERGMs) 为建模复杂网络结构提供了一个统计框架。在 ERGM 中，概率分布定义在具有 $N$ 个固定顶点的所有可能图的集合 $\\mathcal{G}_N$ 上。从该系综中观测到特定图 $G$ 的概率由下式给出：\n$$\nP(G) = \\frac{1}{Z} \\exp\\left(H(G)\\right)\n$$\n其中 $H(G)$ 是图哈密顿量，而 $Z = \\sum_{G' \\in \\mathcal{G}_N} \\exp\\left(H(G')\\right)$ 是对分布进行归一化的配分函数。\n\n哈密顿量是各种图统计量（也称为网络可观测量）$s_k(G)$ 的线性组合：\n$$\nH(G) = \\sum_k \\theta_k s_k(G)\n$$\n其中 $\\theta_k$ 是决定每个统计量重要性的模型参数。\n\n考虑一个用于 $N=5$ 个顶点的无向图的 ERGM，它由两个统计量定义：边数 $L(G)$ 和 2-星图数 $S_2(G)$。哈密顿量由下式给出：\n$$\nH(G) = \\theta_L L(G) + \\theta_S S_2(G)\n$$\n2-星图是一个由三个顶点 $\\{i,j,k\\}$ 组成的子图，其中顶点 $j$ 同时连接到 $i$ 和 $k$，但 $i$ 和 $k$ 之间没有边。在顶点集为 $V$ 的图 $G$ 中，2-星图的总数可以计算为 $S_2(G) = \\sum_{j \\in V} \\binom{d_j}{2}$，其中 $d_j$ 是顶点 $j$ 的度。\n\n你的任务是计算概率比 $\\frac{P(C_5)}{P(P_5)}$，其中 $C_5$ 是 5 个顶点的圈图，$P_5$ 是 5 个顶点的路径图。将你的答案表示为参数 $\\theta_L$ 和 $\\theta_S$ 的解析函数。", "solution": "1. 概率比如下：\n$$\n\\frac{P(C_5)}{P(P_5)}\n=\\frac{\\exp\\bigl(H(C_5)\\bigr)}{\\exp\\bigl(H(P_5)\\bigr)}\n=\\exp\\bigl(H(C_5)-H(P_5)\\bigr)\n$$\n2. 计算边数：\n$$\nL(C_5)=5,\\quad L(P_5)=4\n$$\n3. 使用 $S_2(G)=\\sum_{j}\\binom{d_j}{2}$ 计算 2-星图数。\n*   对于 $C_5$，每个顶点的度为 $d_j=2$，所以：\n$$\nS_2(C_5)=5\\binom{2}{2}=5\n$$\n*   对于 $P_5$，两个端点的度为 $d_j=1$，三个内部顶点的度为 $d_j=2$，所以：\n$$\nS_2(P_5)=2\\binom{1}{2}+3\\binom{2}{2}=0+3=3\n$$\n4. 哈密顿量的差为：\n$$\nH(C_5)-H(P_5)\n=\\theta_L\\bigl(L(C_5)-L(P_5)\\bigr)+\\theta_S\\bigl(S_2(C_5)-S_2(P_5)\\bigr)\n=\\theta_L\\bigl(5-4\\bigr)+\\theta_S\\bigl(5-3\\bigr)\n=\\theta_L+2\\theta_S\n$$\n5. 因此，概率比为：\n$$\n\\frac{P(C_5)}{P(P_5)}=\\exp\\bigl(\\theta_L+2\\theta_S\\bigr)\n$$", "answer": "$$\\boxed{\\exp\\bigl(\\theta_L+2\\theta_S\\bigr)}$$", "id": "876917"}]}