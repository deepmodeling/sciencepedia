{"hands_on_practices": [{"introduction": "任何基于平面波的计算，其基础步骤都是在选定的基组中表示哈密顿量算符。本练习将巩固非局域赝势的抽象算符形式（特别是Kleinman–Bylander形式）与其具体矩阵表示之间的联系，后者是计算机在实际计算中处理的对象。掌握这一推导是理解赝势如何在代码中实现的关键 [@problem_id:3011182]。", "problem": "考虑一个周期性的简单立方晶体，每个原胞中含一个位于原点的原子。在单粒子框架内，电子由一个周期性有效势描述，该有效势由 Kleinman–Bylander (KB) 形式的模守恒可分离非局域赝势表示。非局域赝势算符写作\n$$\n\\hat{V}_{\\text{NL}} \\;=\\; \\sum_{l=0}^{l_{\\text{max}}} \\sum_{m=-l}^{l} D_{l} \\, |\\beta_{lm}\\rangle \\langle \\beta_{lm}|,\n$$\n其中 $l$ 是角动量通道，$m$ 是其磁量子数，$D_{l}$ 是一个实的通道强度参数（由于立方对称性而与 $m$ 无关），$|\\beta_{lm}\\rangle$ 是集中在原点原子位置的局域投影函数。\n\n在平面波基矢 $|\\mathbf{k}+\\mathbf{G}\\rangle$ 中进行计算，该基矢在体积为 $\\Omega$ 的单位晶胞中归一化，满足 $\\langle \\mathbf{r}|\\mathbf{k}+\\mathbf{G}\\rangle = \\Omega^{-1/2} \\exp\\!\\big(i(\\mathbf{k}+\\mathbf{G})\\cdot\\mathbf{r}\\big)$。将投影函数形状因子定义为\n$$\n\\beta_{lm}(\\mathbf{q}) \\;\\equiv\\; \\langle \\mathbf{q} | \\beta_{lm} \\rangle,\n$$\n并假设对于任意的倒格矢宗量，这些形状因子都是已知的。仅使用非局域赝势算符和平面波基矢的基本定义，推导哈密顿量矩阵元的非局域贡献\n$$\n\\left\\langle \\mathbf{k}+\\mathbf{G} \\,\\middle|\\, \\hat{V}_{\\text{NL}} \\,\\middle|\\, \\mathbf{k}+\\mathbf{G}' \\right\\rangle\n$$\n对于此立方晶体，用 $D_l$ 和在 $\\mathbf{q}=\\mathbf{k}+\\mathbf{G}$ 及 $\\mathbf{q}'=\\mathbf{k}+\\mathbf{G}'$ 处取值的给定投影函数形状因子 $\\beta_{lm}(\\mathbf{q})$ 来表示该矩阵元。将最终答案表示为单个闭合形式的解析表达式。不需要进行数值计算，最终答案中不应包含单位。", "solution": "所述问题是有效的。其科学基础在于凝聚态物理和量子力学的原理，特别是关于赝势理论在电子结构计算中的应用。该问题提法明确，提供了推导唯一解析解所需的所有定义和约束。其语言是客观和正式的。\n\n目标是在平面波基矢中计算非局域赝势算符 $\\hat{V}_{\\text{NL}}$ 的矩阵元。该矩阵元由表达式 $\\left\\langle \\mathbf{k}+\\mathbf{G} \\,\\middle|\\, \\hat{V}_{\\text{NL}} \\,\\middle|\\, \\mathbf{k}+\\mathbf{G}' \\right\\rangle$ 给出。\n\n给定的算符\n$$\n\\hat{V}_{\\text{NL}} \\;=\\; \\sum_{l=0}^{l_{\\text{max}}} \\sum_{m=-l}^{l} D_{l} \\, |\\beta_{lm}\\rangle \\langle \\beta_{lm}|\n$$\n代表了位于原胞原点的单个原子的非局域势贡献。周期性晶体的总势是晶格中所有原子此类贡献的总和。平面波态之间的总晶体势矩阵元通常会涉及一个结构因子。对于一个原胞内原子基元位置为 $\\mathbf{\\tau}_j$ 的晶体，其结构因子是 $S(\\mathbf{q}) = \\sum_j \\exp(-i\\mathbf{q}\\cdot\\mathbf{\\tau}_j)$。在这个具体问题中，我们有一个简单立方晶体，每个原胞中含一个位于原点（即 $\\mathbf{\\tau}_1 = \\mathbf{0}$）的原子。对于这种构型，结构因子是 $S(\\mathbf{q}) = \\exp(-i\\mathbf{q}\\cdot\\mathbf{0}) = 1$。因此，总周期势的矩阵元与集中在原点的单个原子势的矩阵元相同。所以，我们可以直接计算给定算符 $\\hat{V}_{\\text{NL}}$ 的矩阵元来进行推导。\n\n我们首先将 $\\hat{V}_{\\text{NL}}$ 的定义代入矩阵元表达式：\n$$\n\\left\\langle \\mathbf{k}+\\mathbf{G} \\,\\middle|\\, \\hat{V}_{\\text{NL}} \\,\\middle|\\, \\mathbf{k}+\\mathbf{G}' \\right\\rangle = \\left\\langle \\mathbf{k}+\\mathbf{G} \\,\\middle|\\, \\left( \\sum_{l=0}^{l_{\\text{max}}} \\sum_{m=-l}^{l} D_{l} \\, |\\beta_{lm}\\rangle \\langle \\beta_{lm}| \\right) \\,\\middle|\\, \\mathbf{k}+\\mathbf{G}' \\right\\rangle\n$$\n根据内积的线性性质，我们可以将求和符号和常数系数 $D_l$ 移到狄拉克符号的外面：\n$$\n\\left\\langle \\mathbf{k}+\\mathbf{G} \\,\\middle|\\, \\hat{V}_{\\text{NL}} \\,\\middle|\\, \\mathbf{k}+\\mathbf{G}' \\right\\rangle = \\sum_{l=0}^{l_{\\text{max}}} \\sum_{m=-l}^{l} D_{l} \\left\\langle \\mathbf{k}+\\mathbf{G} \\,\\middle|\\, |\\beta_{lm}\\rangle \\langle \\beta_{lm}| \\,\\middle|\\, \\mathbf{k}+\\mathbf{G}' \\right\\rangle\n$$\n求和号内的表达式可以分解为两个内积的乘积：\n$$\n\\left\\langle \\mathbf{k}+\\mathbf{G} \\,\\middle|\\, |\\beta_{lm}\\rangle \\langle \\beta_{lm}| \\,\\middle|\\, \\mathbf{k}+\\mathbf{G}' \\right\\rangle = \\left\\langle \\mathbf{k}+\\mathbf{G} \\,\\middle|\\, \\beta_{lm} \\right\\rangle \\left\\langle \\beta_{lm} \\,\\middle|\\, \\mathbf{k}+\\mathbf{G}' \\right\\rangle\n$$\n现在我们必须使用所提供的投影函数形状因子的定义 $\\beta_{lm}(\\mathbf{q}) \\equiv \\langle \\mathbf{q} | \\beta_{lm} \\rangle$ 来计算这两个内积。基矢态 $|\\mathbf{k}+\\mathbf{G}\\rangle$ 和 $|\\mathbf{k}+\\mathbf{G}'\\rangle$ 是动量本征态，其中符号 $|\\mathbf{q}\\rangle$ 代表一个通用的动量本征态。\n\n对于第一个内积，我们将动量本征态右矢 $\\langle \\mathbf{k}+\\mathbf{G}|$ 等同于 $\\langle \\mathbf{q}|$，其中 $\\mathbf{q} = \\mathbf{k}+\\mathbf{G}$。直接应用定义可得：\n$$\n\\left\\langle \\mathbf{k}+\\mathbf{G} \\,\\middle|\\, \\beta_{lm} \\right\\rangle = \\beta_{lm}(\\mathbf{k}+\\mathbf{G})\n$$\n对于第二个内积 $\\left\\langle \\beta_{lm} \\,\\middle|\\, \\mathbf{k}+\\mathbf{G}' \\right\\rangle$，我们使用厄米内积的基本性质，即 $\\langle \\psi | \\phi \\rangle = (\\langle \\phi | \\psi \\rangle)^*$，其中星号表示复共轭。应用此性质，我们得到：\n$$\n\\left\\langle \\beta_{lm} \\,\\middle|\\, \\mathbf{k}+\\mathbf{G}' \\right\\rangle = \\left( \\left\\langle \\mathbf{k}+\\mathbf{G}' \\,\\middle|\\, \\beta_{lm} \\right\\rangle \\right)^*\n$$\n现在我们可以通过将动量本征态右矢 $\\langle \\mathbf{k}+\\mathbf{G}'|$ 等同于 $\\langle \\mathbf{q}|$（其中 $\\mathbf{q} = \\mathbf{k}+\\mathbf{G}'$）来计算括号内的项。使用形状因子的定义：\n$$\n\\left\\langle \\mathbf{k}+\\mathbf{G}' \\,\\middle|\\, \\beta_{lm} \\right\\rangle = \\beta_{lm}(\\mathbf{k}+\\mathbf{G}')\n$$\n因此，第二个内积是此结果的复共轭：\n$$\n\\left\\langle \\beta_{lm} \\,\\middle|\\, \\mathbf{k}+\\mathbf{G}' \\right\\rangle = \\beta_{lm}^{*}(\\mathbf{k}+\\mathbf{G}')\n$$\n将这两个结果代回到矩阵元的表达式中，我们得到最终形式：\n$$\n\\left\\langle \\mathbf{k}+\\mathbf{G} \\,\\middle|\\, \\hat{V}_{\\text{NL}} \\,\\middle|\\, \\mathbf{k}+\\mathbf{G}' \\right\\rangle = \\sum_{l=0}^{l_{\\text{max}}} \\sum_{m=-l}^{l} D_{l} \\, \\beta_{lm}(\\mathbf{k}+\\mathbf{G}) \\, \\beta_{lm}^{*}(\\mathbf{k}+\\mathbf{G}')\n$$\n这就是哈密顿量矩阵元的非局域贡献的闭合形式解析表达式，它完全是根据要求从所提供的定义中推导出来的。", "answer": "$$\n\\boxed{\\sum_{l=0}^{l_{\\text{max}}} \\sum_{m=-l}^{l} D_{l} \\beta_{lm}(\\mathbf{k}+\\mathbf{G}) \\beta_{lm}^{*}(\\mathbf{k}+\\mathbf{G}')}\n$$", "id": "3011182"}, {"introduction": "本练习将视角从执行单个计算提升到设计一个科学严谨的计算实验。它挑战学生批判性地思考赝势的“可移植性”——即赝势在不同化学环境中保持良好性能的能力 [@problem_id:3011185]。通过评估比较金刚石结构和$β$-Sn结构中硅的不同计算方案，我们将学会如何分离变量、控制数值误差，这些都是计算研究者必须掌握的核心技能。", "problem": "在平面波科恩-沈吕九密度泛函理论 (KS-DFT) 中，布洛赫态 $\\psi_{n\\mathbf{k}}(\\mathbf{r})$ 的单粒子方程为\n$$\n\\left[-\\frac{\\hbar^2}{2m}\\nabla^2 + V_{\\mathrm{eff}}(\\mathbf{r})\\right]\\psi_{n\\mathbf{k}}(\\mathbf{r}) = \\epsilon_{n\\mathbf{k}}\\psi_{n\\mathbf{k}}(\\mathbf{r}),\n$$\n其中 $V_{\\mathrm{eff}}(\\mathbf{r}) = V_{\\mathrm{ion}}^{\\mathrm{PS}}(\\mathbf{r}) + V_{\\mathrm{H}}[\\rho](\\mathbf{r}) + V_{\\mathrm{xc}}[\\rho](\\mathbf{r})$。此处 $V_{\\mathrm{ion}}^{\\mathrm{PS}}$ 是表示电子-离子相互作用的赝势，$V_{\\mathrm{H}}$ 是哈特里势，$V_{\\mathrm{xc}}$ 是交换关联势。对于模守恒赝势 (NCPP)，其径向赝波函数在选定的参考能量下再现了全电子问题中特定的价电子散射性质，并在核心半径内遵守模守恒约束。\n\n赝势理论中的一个核心问题是化学环境依赖性，也称为可移植性：即从孤立原子参考态生成的单个 $V_{\\mathrm{ion}}^{\\mathrm{PS}}$ 是否能在不同的固态环境中，定量和定性地给出正确的能带结构 $\\epsilon_{n\\mathbf{k}}$。考虑金刚石相（立方晶系，包含2个原子的原胞，共价键，半导体）和 $\\beta$-Sn 相（体心四方，高压下呈金属性）中的硅。你需要设计一个测试方案，通过使用相同的赝势比较硅在这两个相中的能带结构，来检验其化学环境依赖性。\n\n从布洛赫定理、KS-DFT 本征值问题、带隙和费米能级交叉的定义出发，选择一个能够有效分离赝势化学环境依赖性，并提供一个稳健、有物理基础的诊断方法，以区分赝势失效与数值赝象或交换关联泛函效应的方案。在你的推理中，仅使用基本概念，例如关于平面波动能截断 $E_{\\mathrm{cut}}$ 和 $\\mathbf{k}$ 点取样的数值收敛要求，以及金刚石硅是半导体（有限带隙）而 $\\beta$-Sn 硅是金属性（能带穿过费米能）的定性预期。\n\n哪个选项最能满足这些标准？\n\nA. 使用单个带非线性核心修正 (NLCC) 的模守恒硅赝势和一个固定的交换关联泛函（例如 Perdew–Burke–Ernzerhof 广义梯度近似）。对每个相分别进行收敛测试，调整 $E_{\\mathrm{cut}}$ 和 $\\mathbf{k}$ 点网格，直到所有能带能量的变化满足 $\\max_{n,\\mathbf{k}}|\\epsilon_{n\\mathbf{k}}(E_{\\mathrm{cut}}) - \\epsilon_{n\\mathbf{k}}(E_{\\mathrm{cut}}\\rightarrow \\infty)| < \\delta$，且相对于 $\\mathbf{k}$ 点网格加密的变化也低于 $\\delta$，其中 $\\delta$ 的取值应足够小以分辨 meV 尺度的特征。将每个相的晶格固定为已有充分表征的实验参数。沿着标准的高对称性路径计算能带结构，并评估金刚石相的带隙\n$$\n\\epsilon_g^{\\mathrm{dia}} = \\min_{n,\\mathbf{k}\\in \\mathcal{C}}\\epsilon_{n\\mathbf{k}} - \\max_{m,\\mathbf{k}\\in \\mathcal{V}}\\epsilon_{m\\mathbf{k}},\n$$\n以及 $\\beta$-Sn 相中不同费米能级交叉的数量，\n$$\nN_{\\mathrm{cross}}^{\\mathrm{Sn}} = \\#\\{(n,\\mathbf{k})\\ \\text{s.t.}\\ \\epsilon_{n\\mathbf{k}} = \\epsilon_F\\ \\text{and}\\ \\nabla_{\\mathbf{k}}\\epsilon_{n\\mathbf{k}}\\neq \\mathbf{0}\\}.\n$$\n如果出现 $\\epsilon_g^{\\mathrm{dia}} \\le 0$（虚假的金属性金刚石）或 $N_{\\mathrm{cross}}^{\\mathrm{Sn}} = 0$（虚假的绝缘性 $\\beta$-Sn），或者在对称点处 s-like 与 p-like 能带丛的排序和带宽变化与从金刚石相到 $\\beta$-Sn 相配位数增加的趋势不符，则诊断为赝势环境失效。\n\nB. 使用相同的硅赝势，但在两个相中强制使用相同的 $E_{\\mathrm{cut}}$ 和相同的 $\\mathbf{k}$ 点网格，而不进行单独的收敛测试。仅在共同体积下比较每原子的总能量，如果两相之间的能量差在一个很小的阈值内，就断定其具有可移植性，而不考虑能带结构特征，理由是总能量比能带本征值更敏感。\n\nC. 生成两个硅赝势，每个都拟合以再现某一相中的一个目标可观测量（例如，一个赝势拟合再现实验金刚石带隙，另一个再现 $\\beta$-Sn 相的金属性态密度）。用这两个赝势计算它们各自对应相的能带，如果两者都与目标相符，则宣布具有可移植性，因为物理环境不同，因此需要特定于环境的势。\n\nD. 使用相同的硅赝势，用一个非常粗糙的 $\\mathbf{k}$ 点网格和一个适中的 $E_{\\mathrm{cut}}$，仅计算两个相在 $\\Gamma$ 点的态密度，然后如果 $\\Gamma$ 点的态密度在定性上不同（在 $\\beta$-Sn 中为有限值，在金刚石中为零），则宣布具有可移植性，理由是 $\\Gamma$ 点主导了能带结构的特征。\n\nE. 通过比较赝波函数和全电子径向波函数在不同角动量 $l=0,1,2$ 下、在一系列散射能量上的原子对数导数来评估可移植性。如果在所有能量下失配都低于某个阈值，则宣布在固相中具有可移植性，而不计算能带结构，因为固态能带继承了原子的散射性质。\n\n选择正确的选项。", "solution": "该问题陈述是计算材料科学领域内的一个有效练习，具体涉及在科恩-沈吕九密度泛函理论 (KS-DFT) 框架下对赝势进行验证与确认。\n\n### 步骤1：提取已知条件\n\n- **控制方程：** 布洛赫态 $\\psi_{n\\mathbf{k}}(\\mathbf{r})$ 的单粒子科恩-沈吕九方程为：\n    $$\n    \\left[-\\frac{\\hbar^2}{2m}\\nabla^2 + V_{\\mathrm{eff}}(\\mathbf{r})\\right]\\psi_{n\\mathbf{k}}(\\mathbf{r}) = \\epsilon_{n\\mathbf{k}}\\psi_{n\\mathbf{k}}(\\mathbf{r})\n    $$\n- **有效势：** 有效势由三项组成：\n    $$\n    V_{\\mathrm{eff}}(\\mathbf{r}) = V_{\\mathrm{ion}}^{\\mathrm{PS}}(\\mathbf{r}) + V_{\\mathrm{H}}[\\rho](\\mathbf{r}) + V_{\\mathrm{xc}}[\\rho](\\mathbf{r})\n    $$\n    其中 $V_{\\mathrm{ion}}^{\\mathrm{PS}}$ 是离子赝势，$V_{\\mathrm{H}}$ 是哈特里势，$V_{\\mathrm{xc}}$ 是交换关联势。\n- **赝势类型：** 问题指定了模守恒赝势 (NCPP)。\n- **核心问题：** 任务是为单个赝势 $V_{\\mathrm{ion}}^{\\mathrm{PS}}$ 的化学环境依赖性（可移植性）设计一个测试方案。\n- **测试体系：** 元素是硅 (Si)。\n- **测试环境：** 需要比较硅的两个固相：\n    1.  金刚石相：立方晶系，含2个原子的原胞，共价键，半导体。\n    2.  $\\beta$-Sn 相：体心四方，高压下呈金属性。\n- **目标：** 设计的方案必须能有效分离赝势化学环境依赖性的影响，并将其与数值赝象或交换关联泛函的选择区分开来。\n- **推理所需概念：** 布洛赫定理、KS-DFT 本征值问题、带隙、费米能级交叉、关于平面波动能截断 $E_{\\mathrm{cut}}$ 和 $\\mathbf{k}$ 点取样的数值收敛性，以及对两种硅相的定性物理预期。\n\n### 步骤2：使用提取的已知条件进行验证\n\n- **科学基础：** 该问题牢固地植根于现代凝聚态物理学的标准理论和计算框架中。所有方程、定义（KS-DFT、赝势、可移植性）和物理体系（金刚石硅、$\\beta$-Sn 硅）都是标准的且事实正确。\n- **问题定义明确：** 该问题要求从一组选项中选择最佳方案以实现一个明确的科学目标（测试赝势的可移植性）。一个“好”方案的标准被明确陈述（分离感兴趣的变量，与其他误差来源区分开）。这种结构导向一个唯一且可辩护的答案。\n- **客观性：** 语言精确、专业，没有主观或基于意见的论断。定性预期（半导体 vs. 金属）是既定事实。\n\n### 步骤3：结论与行动\n\n该问题陈述在科学上是合理的、定义明确且客观的。它提出了一个电子结构理论中标准的、非平凡的问题。因此，该问题是 **有效的**。我们继续进行解答。\n\n### 正确方案的推导\n\n目标是设计一个计算实验来测试硅赝势 ($V_{\\mathrm{ion}}^{\\mathrm{PS}}$) 的可移植性。一个科学有效的实验必须分离出感兴趣的变量。在此，变量是*单个*赝势在化学环境从共价半导体（金刚石硅）变为高压金属（$\\beta$-Sn 硅）时的表现。为了实现这种分离，所有其他影响结果（$\\epsilon_{n\\mathbf{k}}$）的参数都必须得到适当的控制。\n\n1.  **分离赝势效应：**\n    -   为了测试*一个*赝势的可移植性，在金刚石相和 $\\beta$-Sn 相的计算中必须使用*相同*的赝势。\n    -   计算出的能带结构 $\\epsilon_{n\\mathbf{k}}$ 依赖于交换关联泛函 $V_{\\mathrm{xc}}$。为了将赝势的表现与任何给定 $V_{\\mathrm{xc}}$ 泛函的已知不准确性分离开，两相的计算必须使用*相同*的泛函。这确保了任何观察到的差异是由于赝势与不同电子密度和晶体势的相互作用，而不是由于电子-电子相互作用的基础理论发生了变化。\n\n2.  **控制数值赝象：**\n    -   科恩-沈吕九方程是在一组基矢（这里是平面波）中数值求解的，该基矢在动能截断 $E_{\\mathrm{cut}}$ 处被截断。布里渊区是在一个离散的 $\\mathbf{k}$ 点网格上进行积分的。只有在无限截断（$E_{\\mathrm{cut}} \\rightarrow \\infty$）和无限密集 $\\mathbf{k}$ 网格的极限下，结果才具有物理意义。\n    -   在实践中，我们必须证明我们的结果相对于这些参数是收敛的。也就是说，我们必须表明，进一步增加 $E_{\\mathrm{cut}}$ 或 $\\mathbf{k}$ 点密度不会对我们感兴趣的量（例如能带能量）产生有意义的改变。\n    -   关键是，不同物理体系的收敛要求是不同的。金属（如 $\\beta$-Sn 硅）通常需要比有带隙的半导体（如金刚石硅）更密集的 $\\mathbf{k}$ 点网格来准确描述费米面。基矢集的要求（$E_{\\mathrm{cut}}$）也可能不同，例如，由于晶胞体积和原子配位数的变化。\n    -   因此，一个稳健的方案要求对每个相的 $E_{\\mathrm{cut}}$ 和 $\\mathbf{k}$ 点网格进行*独立的收敛测试*。目标不是使用*相同*的参数，而是为每个计算使用经可验证的、足以达到收敛的参数。\n\n3.  **使用适当的物理诊断方法：**\n    -   测试必须检验赝势是否再现了每个相的基本物理特性。\n    -   对于金刚石硅，其基本特征是半导体性，由一个有限的带隙 $\\epsilon_g > 0$ 表征。预测出零或负的带隙（意味着虚假的金属性态）将构成失效。\n    -   对于 $\\beta$-Sn 硅，其基本特征是金属性，由一个或多个能带穿过费米能 $\\epsilon_F$ 来表征。预测出带隙（虚假的绝缘性态）将构成失效。\n    -   更精细的定量特征，例如特定能带（如高对称性点上具有 s-like 和 p-like 特征的能带）的能量排序和色散关系，也是强有力的诊断工具。这些特征反映了潜在的化学键合，它从金刚石中的 $sp^3$ 共价键（配位数为4）显著变为 $\\beta$-Sn 中更离域的金属键（配位数为4+2）。一个好的赝势应该能够捕捉到这种变化。\n\n基于这些原则，理想的方案包括：固定物理近似（一个赝势，一个 XC 泛函），确保每个情况下的数值误差都可以忽略不计，然后将得到的、具有物理意义的预测与已建立的定性和定量预期进行比较。\n\n### 逐项分析\n\n**A.** 此选项的方案如下：\n(1) 使用单个赝势和单个固定的XC泛函。\n(2) 对每个相，分别进行 $E_{\\mathrm{cut}}$ 和 $\\mathbf{k}$ 点网格的收敛测试，直至达到严格的容差。\n(3) 对每个相使用正确的实验晶格参数。\n(4) 计算能带结构并评估关键的物理诊断量：金刚石相的带隙 $\\epsilon_g^{\\mathrm{dia}}$ 和 $\\beta$-Sn 相的费米能级交叉数 $N_{\\mathrm{cross}}^{\\mathrm{Sn}}$。\n(5) 根据这些诊断量是否在定性上不正确（例如 $\\epsilon_g^{\\mathrm{dia}} \\le 0$）或能带排序等更精细的特征是否不符合物理规律来定义失效标准。\n这个过程完全符合为进行严格、科学有效的测试所推导出的原则。它分离了感兴趣的变量，正确地控制了数值赝象，并使用了适当的、有物理基础的诊断方法。\n\n**结论：正确**\n\n**B.** 此选项建议在两个相中使用相同的 $E_{\\mathrm{cut}}$ 和 $\\mathbf{k}$ 点网格，而不进行单独的收敛测试。这是一个关键的方法论缺陷。如上所述，金属和半导体的数值要求不同。强制使用相同的参数意味着至少有一个（可能两个）计算将是未收敛的，使结果受到不受控制的数值误差的污染。它还建议仅依赖总能量差异而忽略能带结构，而能带结构是问题的核心，即电子性质的直接探针。声称总能量更敏感，并不能成为忽略能带结构的普遍有效理由，因为能带结构提供了定性上不同的信息。\n\n**结论：不正确**\n\n**C.** 此选项建议生成两个不同的、针对特定环境的赝势。根据定义，这不是一个可移植性测试。可移植性测试评估的是*单个*势（在参考环境，如孤立原子中生成）在*其他*环境中的表现。为每个目标环境专门设计一个势，完全回避了可移植性的问题。\n\n**结论：不正确**\n\n**D.** 此选项建议使用非常粗糙的 $\\mathbf{k}$ 点网格和适中的 $E_{\\mathrm{cut}}$，并且只看 $\\Gamma$ 点的态密度。该方案在多个方面存在缺陷。首先，使用未收敛的数值参数会引入赝象。其次，晶体的电子特性是整个布里渊区的属性。金刚石硅的带隙是间接带隙，意味着价带顶和导带底出现在不同的 $\\mathbf{k}$ 点。仅探测 $\\Gamma$ 点会完全错过基本带隙。同样，金属的费米面是布里渊区中的一个三维物体，而不是一个单点属性。\n\n**结论：不正确**\n\n**E.** 此选项建议通过比较原子对数导数来评估可移植性。这个分析是*生成*高质量、可移植赝势的关键步骤。它确保伪原子的散射性质在相关能量范围内与全电子原子匹配。然而，它是在孤立原子上执行的测试，在将其置于任何固态环境*之前*。它本身并不构成对赝势在不同凝聚相化学环境（金刚石 vs. $\\beta$-Sn）中表现的测试。问题要求的是在固态下的测试，这需要进行固态计算。\n\n**结论：不正确**", "answer": "$$\\boxed{A}$$", "id": "3011185"}]}