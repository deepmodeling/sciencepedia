{"hands_on_practices": [{"introduction": "量子退火的首要基本技能是将一个计算问题转化为物理学的语言。这一过程需要构建一个伊辛（Ising）哈密顿量，使其基态——即能量最低的状态——恰好编码了原问题的解。本练习将通过构建一个源于 2-可满足性 (2-SAT) 问题的简单逻辑子句所对应的哈密顿量，为您提供这一映射过程的基础实践。[@problem_id:113168]", "problem": "在量子退火领域，一个常见的任务是将一个经典计算问题映射到一个由二次伊辛哈密顿量描述的物理系统上。该哈密顿量的基态便对应于原问题的解。\n\n一个包含$N$个量子比特的系统的通用二次伊辛哈密顿量可以写成：\n$$ H_P = \\sum_{i=1}^N h_i \\sigma_i^z + \\sum_{i<j}^N J_{ij} \\sigma_i^z \\sigma_j^z + C $$\n其中$\\sigma_i^z$是第$i$个量子比特的泡利-Z算符，$h_i$是局域场，$J_{ij}$是耦合强度，$C$是一个恒定的能量偏移。$\\sigma_i^z$的本征值为$s_i \\in \\{-1, +1\\}$。\n\n为了解决一个由布尔变量$x_i \\in \\{0, 1\\}$定义的问题，我们可以建立一个到自旋变量$s_i$的映射。对于本问题，使用映射$s_i = 2x_i - 1$，这对应于$x_i=1 \\iff s_i=+1$和$x_i=0 \\iff s_i=-1$。\n\n你的任务是找到用于两个量子比特($N=2$)的特定伊辛哈密顿量，该哈密顿量编码了2-可满足性(2-SAT)子句$F(x_1, x_2) = (\\neg x_1 \\lor x_2)$的解。哈密顿量$H_P = h_1 \\sigma_1^z + h_2 \\sigma_2^z + J_{12} \\sigma_1^z \\sigma_2^z + C$的构建必须使其满足以下能量约束：\n1.  对于子句$F$的任何满足赋值$(x_1, x_2)$，其对应的自旋构型的能量恰好为$0$。\n2.  对于子句$F$的任何不满足赋值$(x_1, x_2)$，其对应的自旋构型的能量恰好为$1$。\n\n在确定满足这些条件的唯一系数$h_1, h_2, J_{12}$和$C$之后，计算表达式$4(h_1 - h_2 - J_{12})$的值。", "solution": "我们通过$s_i=2x_i-1$标记自旋构型，并设定\n$$H=h_1s_1+h_2s_2+J_{12}s_1s_2+C.$$  \n子句$F=(\\neg x_1\\lor x_2)$仅在$x_1=1,x_2=0$时为假，即$(s_1,s_2)=(+1,-1)$。我们要求\n对于满足赋值，$H=0$；对于唯一的非满足赋值，$H=1$。因此：\n\n1. $(s_1,s_2)=(-1,-1)$:  \n$$-h_1-h_2+J_{12}+C=0.$$  \n2. $(-1,+1)$:  \n$$-h_1+h_2-J_{12}+C=0.$$  \n3. $(+1,-1)$:  \n$$\\;h_1-h_2-J_{12}+C=1.$$  \n4. $(+1,+1)$:  \n$$\\;h_1+h_2+J_{12}+C=0.$$\n\n由(1)+(4)可得：\n$$2J_{12}+2C=0\\;\\implies\\;C=-J_{12}.$$  \n由(4)–(1)可得：\n$$2h_1+2h_2=0\\;\\implies\\;h_2=-h_1.$$  \n由(2)+(3)可得：\n$$-2J_{12}+2C=1\\;\\implies\\;C-J_{12}=\\tfrac12.$$  \n将 $C=-J_{12}$ 代入 $C-J_{12}=\\tfrac12$ 可得\n$$-J_{12}-J_{12}=\\tfrac12\\;\\implies\\;J_{12}=-\\tfrac14,\\quad C=\\tfrac14.$$  \n然后使用(2)：\n$$-h_1+h_2-J_{12}+C=0\\;\\implies\\;-h_1-h_1+\\tfrac14+\\tfrac14=0\n\\;\\implies\\;h_1=\\tfrac14,\\;h_2=-\\tfrac14.$$\n\n因此\n$$h_1=\\tfrac14,\\quad h_2=-\\tfrac14,\\quad J_{12}=-\\tfrac14,\\quad C=\\tfrac14.$$  \n最后，\n$$4\\bigl(h_1-h_2-J_{12}\\bigr)\n=4\\Bigl(\\tfrac14-(-\\tfrac14)-(-\\tfrac14)\\Bigr)\n=4\\cdot\\tfrac34=3.$$", "answer": "$$\\boxed{3}$$", "id": "113168"}, {"introduction": "现实世界中的优化问题往往包含解必须满足的特定约束条件。一种在量子退火中整合这些规则的有效方法，是在哈密顿量中加入一个“惩罚项”，它会从能量上惩罚任何违反约束的状态。本实践将指导您计算所需的最小惩罚强度，以确保系统的基态满足给定约束，这是设计有效问题哈密顿量的关键一步。[@problem_id:113164]", "problem": "在量子退火中，优化问题通常被映射到一个伊辛哈密顿量上，其基态对应于问题的解。有时，优化问题包含必须满足的约束条件。处理约束的一种常用方法是向哈密顿量中添加一个惩罚项。该项会增加违反约束的状态的能量，使它们在能量上处于不利地位。\n\n考虑一个由问题哈密顿量 $H_0$ 描述的三量子比特系统：\n$$H_0 = h(\\sigma_z^{(1)} - \\sigma_z^{(2)}) + J_{12} \\sigma_z^{(1)}\\sigma_z^{(2)} + J_{23} \\sigma_z^{(2)}\\sigma_z^{(3)}$$\n其中 $\\sigma_z^{(i)}$ 是第 $i$ 个量子比特的泡利 Z 算符，$h, J_{12}, J_{23}$ 是实值耦合常数。我们感兴趣的是在第一个和第二个量子比特具有相同自旋方向（即 $\\sigma_z^{(1)} = \\sigma_z^{(2)}$）的约束下，找到该系统的基态。已知参数满足 $h \\neq 0$ 和 $J_{12} > -|h|$，这确保了 $H_0$ 的基态违反此约束。\n\n为了施加该约束，我们向哈密顿量中添加一个惩罚项 $P\\sigma_z^{(1)}\\sigma_z^{(2)}$，因此总哈密顿量变为：\n$$H_{total} = H_0 + P\\sigma_z^{(1)}\\sigma_z^{(2)}$$\n一个合适的惩罚耦合 $P$ 的选择将使 $H_{total}$ 的基态满足约束 $\\sigma_z^{(1)} = \\sigma_z^{(2)}$。\n\n确定惩罚耦合的临界值 $P_c$，使得对于任何 $P < P_c$，$H_{total}$ 的基态都保证满足约束。请用参数 $h$ 和 $J_{12}$ 将你的答案表示为符号表达式。", "solution": "问题要求解出临界惩罚耦合 $P_c$，该值确保总哈密顿量 $H_{total}$ 的基态满足约束 $\\sigma_z^{(1)} = \\sigma_z^{(2)}$。总哈密顿量由下式给出：\n$$H_{total} = h(\\sigma_z^{(1)} - \\sigma_z^{(2)}) + J_{12} \\sigma_z^{(1)}\\sigma_z^{(2)} + J_{23} \\sigma_z^{(2)}\\sigma_z^{(3)} + P\\sigma_z^{(1)}\\sigma_z^{(2)}$$\n$$H_{total} = h(\\sigma_z^{(1)} - \\sigma_z^{(2)}) + (J_{12}+P) \\sigma_z^{(1)}\\sigma_z^{(2)} + J_{23} \\sigma_z^{(2)}\\sigma_z^{(3)}$$\n\n由于 $H_{total}$ 中的所有算符在计算基 $\\{|s_1 s_2 s_3\\rangle\\}$ 中都是对角的，其中 $s_i \\in \\{-1, 1\\}$ 是 $\\sigma_z^{(i)}$ 的本征值，我们可以通过最小化与 $H_{total}$ 本征值相对应的经典能量函数来找到基态：\n$$E(s_1, s_2, s_3) = h(s_1 - s_2) + (J_{12}+P)s_1 s_2 + J_{23} s_2 s_3$$\n\n该问题涉及一个约束 $\\sigma_z^{(1)} = \\sigma_z^{(2)}$，对于经典自旋变量，这转化为 $s_1 = s_2$。我们可以将 8 种可能的自旋构型划分为两个集合：\n-   集合 A：满足约束（$s_1 = s_2$）的状态。对于这些状态，$s_1s_2=1$。\n-   集合 B：违反约束（$s_1 \\neq s_2$）的状态。对于这些状态，$s_1s_2=-1$。\n\n设 $E_{A}^{min}$ 是集合 A 中所有状态的最小能量，而 $E_{B}^{min}$ 是集合 B 中所有状态的最小能量。$H_{total}$ 的基态将满足约束，当且仅当 $E_{A}^{min} < E_{B}^{min}$。我们正在寻找临界值 $P_c$，在该值下此条件开始严格满足。边界由 $E_{A}^{min} = E_{B}^{min}$ 定义。\n\n让我们计算每个集合的最小能量。\n\n**集合 A：约束满足（$s_1 = s_2 = s$）**\n此集合中一个状态的能量为：\n$$E_A(s, s_3) = h(s - s) + (J_{12}+P)(s \\cdot s) + J_{23} s s_3$$\n$$E_A(s, s_3) = 0 + (J_{12}+P)(1) + J_{23} s s_3 = J_{12} + P + J_{23} s s_3$$\n为了找到该集合中的最小能量 $E_{A}^{min}$，我们必须在 $s \\in \\{-1, 1\\}$ 和 $s_3 \\in \\{-1, 1\\}$ 的范围内最小化此表达式。项 $J_{23} s s_3$ 的最小值为 $-|J_{23}|$。这可以通过选择 $s$ 和 $s_3$ 使其乘积与 $J_{23}$ 的符号相反来实现。\n$$E_{A}^{min} = J_{12} + P - |J_{23}|$$\n\n**集合 B：约束违反（$s_1 \\neq s_2$）**\n让我们设 $s_1 = s$ 且 $s_2 = -s$，其中 $s \\in \\{-1, 1\\}$。此集合中一个状态的能量为：\n$$E_B(s, s_3) = h(s - (-s)) + (J_{12}+P)(s \\cdot -s) + J_{23}(-s)s_3$$\n$$E_B(s, s_3) = 2hs - (J_{12}+P) - J_{23} s s_3$$\n为了找到该集合中的最小能量 $E_{B}^{min}$，我们必须对 $s$ 和 $s_3$ 进行最小化。\n项 $2hs$ 可通过选择与 $h$ 符号相反的 $s$ 来最小化，即 $s = -\\text{sgn}(h)$。这使得 $2hs = -2|h|$。\n项 $-J_{23} s s_3$ 变为 $-J_{23} (-\\text{sgn}(h)) s_3 = \\text{sgn}(h) J_{23} s_3$。为了最小化此项，我们必须选择 $s_3$ 使得它与 $\\text{sgn}(h)J_{23}$ 的乘积为负。此项的最小值为 $-|\\text{sgn}(h)J_{23}| = -|J_{23}|$。\n因此，集合 B 中的最小能量为：\n$$E_{B}^{min} = -2|h| - (J_{12}+P) - |J_{23}|$$\n$$E_{B}^{min} = -2|h| - J_{12} - P - |J_{23}|$$\n\n如果 $E_{A}^{min} < E_{B}^{min}$，基态就满足约束。临界值 $P_c$ 处于此条件的边界上，即 $E_{A}^{min} = E_{B}^{min}$。\n$$J_{12} + P_c - |J_{23}| = -2|h| - J_{12} - P_c - |J_{23}|$$\n现在，我们求解 $P_c$：\n$$2P_c = -2|h| - 2J_{12}$$\n$$P_c = -|h| - J_{12}$$\n对于任何 $P  P_c$，不等式 $E_{A}^{min}  E_{B}^{min}$ 都将成立，$H_{total}$ 的基态将满足约束 $\\sigma_z^{(1)} = \\sigma_z^{(2)}$。问题陈述通过条件 $J_{12}  -|h|$ 保证了确实需要惩罚项，该条件确保了当 $P=0$ 时，$H_0$ 的基态在集合 B 中。", "answer": "$$\\boxed{-|h| - J_{12}}$$", "id": "113164"}, {"introduction": "量子退火硬件通常只能实现一体和二体相互作用，然而许多问题具有更复杂的高阶关系。本练习将演示一种至关重要的编译技术：使用一个辅助量子比特（ancilla）和惩罚函数，仅通过硬件原生的二次项来正确表示三体相互作用。掌握这种“降阶”方法是在当前量子退火机上解决复杂优化挑战的关键。[@problem_id:113208]", "problem": "在量子退火及相关的经典优化方法中，为了匹配伊辛（Ising）型计算机的硬件连接性，通常需要将高阶多项式相互作用简化为二次相互作用（即两体相互作用）。这是通过引入辅助变量（辅助量子比特）并向目标函数（或哈密顿量）中添加惩罚项来实现的。\n\n考虑一个问题，其代价函数包含一个三体相互作用项 $C_3 = J q_1 q_2 q_3$，其中 $q_i \\in \\{0, 1\\}$ 是二元变量，$J$ 是一个实值耦合常数。为了消除这个三次项，我们引入一个辅助二元变量 $q_a$，并将 $C_3$ 替换为一个包含该辅助变量的新的二次代价函数 $C_2$。目标是，对于原始变量的任何构型，$C_2$ 关于辅助变量的最小值都对应于正确的逻辑行为，从而有效地模拟了原始的三体项。\n\n强制实现逻辑关系 $q_a = q_1 q_2$ 的一个标准方法是引入一个惩罚项。三体项 $J q_1 q_2 q_3$ 被一组涉及辅助变量 $q_a$ 的新项所取代：\n$$ C_{reduced}(q_1, q_2, q_3, q_a) = J q_a q_3 + P(q_1, q_2, q_a; \\Lambda) $$\n其中惩罚函数由下式给出\n$$ P(q_1, q_2, q_a; \\Lambda) = \\Lambda (q_1 q_2 - 2 q_1 q_a - 2 q_2 q_a + 3 q_a) $$\n此处，$\\Lambda0$ 是一个惩罚耦合强度，必须选择得足够大。\n\n如果对于原始变量 $(q_1, q_2, q_3)$ 的任意给定状态，使 $C_{reduced}$ 最小化的 $q_a$ 值是 $q_a^* = q_1 q_2$，那么该降阶就是成功的。如果 $\\Lambda$ 太小，可能存在某些 $(q_1, q_2, q_3)$ 的构型，使得系统的最小能量状态对应于 $q_a^* \\neq q_1 q_2$，从而导致不正确的计算。\n\n请确定所需的最小惩罚耦合强度 $\\Lambda_{min}$，作为耦合常数 $J$ 的函数，以保证该降阶方案对 $q_1, q_2, q_3 \\in \\{0, 1\\}$ 的所有可能取值都有效。", "solution": "我们要求对于每个固定的 $(q_1,q_2,q_3)$，选择 $q_a^*=q_1q_2$ 能够最小化\n$$\nC_{\\rm red}(q_1,q_2,q_3,q_a)=J\\,q_a q_3+\\Lambda\\bigl(q_1q_2-2q_1q_a-2q_2q_a+3q_a\\bigr).\n$$\n等价地，对于 $q_1q_2=0$ 的状态，我们需要\n$$\n\\Delta_0\\;=\\;C(q_a=1)-C(q_a=0)\\;\\ge0,\n$$\n并且对于 $q_1q_2=1$ 的情况，我们需要\n$$\n\\Delta_1\\;=\\;C(q_a=0)-C(q_a=1)\\;\\ge0.\n$$\n\n1. 情况 $q_1q_2=0$。这里有两种子情况：\n\n  a. $q_1=q_2=0$：此时 $P(1)-P(0)=3\\Lambda$，因此\n     $$\\Delta_0=Jq_3+3\\Lambda\\;\\ge0\\quad\\forall\\,q_3\\;\\Longrightarrow\\;\\Lambda\\ge -\\tfrac J3.$$\n\n  b. $q_1,q_2$ 中一个为 1，另一个为 0：此时 $P(1)-P(0)=\\Lambda$，因此\n     $$\\Delta_0=Jq_3+\\Lambda\\;\\ge0\\quad\\forall\\,q_3\\;\\Longrightarrow\\;\\Lambda\\ge -J.$$\n\n2. 情况 $q_1q_2=1$（因此正确的 $q_a=1$）：此时 $P(0)-P(1)=\\Lambda$ 并且\n   $$\\Delta_1=-Jq_3+\\Lambda\\;\\ge0\\quad\\forall\\,q_3\\;\\Longrightarrow\\;\\Lambda\\ge J.$$\n\n结合最强的约束条件，\n$$\n\\Lambda\\;\\ge\\;\\max\\{J,\\,-J\\}\\;=\\;|J|.\n$$\n因此，最小惩罚强度为 $\\Lambda_{\\min}=|J|$。", "answer": "$$\\boxed{|J|}$$", "id": "113208"}]}