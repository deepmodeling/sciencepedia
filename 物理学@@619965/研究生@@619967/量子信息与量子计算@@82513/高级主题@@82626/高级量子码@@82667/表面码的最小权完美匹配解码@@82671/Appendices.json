{"hands_on_practices": [{"introduction": "在表面码解码中，最小权重完美匹配（MWPM）算法的第一步是将探测到的缺陷（defects）配对。此练习旨在通过一个基础的四缺陷场景，帮助你掌握计算不同配对方案总权重并找出最优解的核心技能。通过引入各向异性的权重，即水平和垂直方向上的错误代价不同，本练习 [@problem_id:101959] 也让你初步接触在更真实物理模型中会遇到的复杂性。", "problem": "在量子纠错与表面码的背景下，一种常见的解码策略是识别综合征位置（缺陷），并将它们配对以推断出最可能存在的错误链。这个问题被建模为在一个图上寻找一个最小权重完美匹配（MWPM），其中图的顶点是缺陷。两个缺陷之间边的权重是它们之间的距离。\n\n考虑一个二维表面码晶格，其中探测到了四个Z型缺陷。这些缺陷在综合征晶格中的位置形成一个边长分别为$L$和$W$的矩形，该矩形与晶格的主轴对齐。我们可以将这些缺陷置于坐标$D_1=(0, 0)$, $D_2=(L, 0)$, $D_3=(0, W)$和$D_4=(L, W)$处。\n\n由于物理系统中可能存在各向异性，水平方向和垂直方向的错误率可能会有所不同。这通过一个各向异性曼哈顿距离来建模。连接两点 $(x_i, y_i)$ 和 $(x_j, y_j)$ 的路径的距离（或权重）由 $d((x_i, y_i), (x_j, y_j)) = \\alpha |x_i - x_j| + \\beta |y_i - y_j|$ 给出，其中 $\\alpha$ 和 $\\beta$ 是正常数，分别代表水平和垂直方向上每单位长度的代价。\n\n对于四个缺陷，有三种可能的方式将它们进行完美匹配。其中两种配对分别对应于沿着矩形的边进行匹配（一种“水平”配对和一种“垂直”配对），第三种则对应于将它们沿矩形的对角线进行匹配。\n\n对于这四个缺陷，计算对角线配对的总权重与最小权重完美匹配的总权重之差。将您的答案表示为参数$L, W, \\alpha$和$\\beta$的函数。", "solution": "我们将这四个缺陷标记为\n$$D_1=(0,0),\\quad D_2=(L,0),\\quad D_3=(0,W),\\quad D_4=(L,W)$$\n并使用各向异性曼哈顿度量\n$$d((x_i,y_i),(x_j,y_j))=\\alpha\\,|x_i-x_j|+\\beta\\,|y_i-y_j|.$$\n\n1. 计算三个完美匹配的权重：\n   - 水平配对： $(D_1,D_2)$ 和 $(D_3,D_4)$\n     $$w_1=d(D_1,D_2)+d(D_3,D_4)\n       =(\\alpha L)+(\\alpha L)=2\\alpha L.$$\n   - 垂直配对： $(D_1,D_3)$ 和 $(D_2,D_4)$\n     $$w_2=d(D_1,D_3)+d(D_2,D_4)\n       =(\\beta W)+(\\beta W)=2\\beta W.$$\n   - 对角线配对： $(D_1,D_4)$ 和 $(D_2,D_3)$\n     $$w_3=d(D_1,D_4)+d(D_2,D_3)\n       =(\\alpha L+\\beta W)+(\\alpha L+\\beta W)\n       =2\\alpha L+2\\beta W.$$\n\n2. 最小权重完美匹配为\n$$w_{\\min}=\\min(w_1,w_2)=2\\min(\\alpha L,\\beta W).$$\n\n3. 对角线配对与最小配对的差值为\n$$\\Delta=w_3-w_{\\min}\n=2\\alpha L+2\\beta W-2\\min(\\alpha L,\\beta W)\n=2\\max(\\alpha L,\\beta W).$$", "answer": "$$\\boxed{2\\max(\\alpha L,\\beta W)}$$", "id": "101959"}, {"introduction": "在理想化的模型中，缺陷之间的权重通常由它们在网格上的最短距离（例如曼哈顿距离）决定。然而，实际的量子芯片可能存在制造缺陷，例如缺失的量子比特，这会阻断某些错误路径。本练习 [@problem_id:101920] 模拟了这种情况，要求你计算在最短路径被单个缺失的量子比特阻挡时，新的最短路径权重，从而让你掌握在非理想硬件条件下如何修正权重计算。", "problem": "在采用环面/表面码进行量子纠错的背景下，最小权重完美匹配 (MWPM) 算法是一种广泛使用的经典解码方法。考虑一个二维方格晶格，其中Z型稳定子方块位于整数坐标 $(i,j) \\in \\mathbb{Z}^2$ 处。数据量子比特位于连接这些方块的连接（边）上。一个位于水平连接上的数据量子比特位置在 $(i+1/2, j)$，连接着方块 $(i,j)$ 和 $(i+1,j)$。一个位于垂直连接上的数据量子比特位置在 $(i, j+1/2)$，连接着 $(i,j)$ 和 $(i,j+1)$。\n\n单个数据量子比特上的一个 $X$ 错误会在其所连接的两个 Z 方块上产生一对“缺陷”（症候变化）。MWPM 解码器在一个症候图上运行，该图的顶点代表这些缺陷。两个缺陷之间边的权重是产生那对特定缺陷所需的最少单量子比特 $X$ 错误数量。对于标准晶格，这个权重是方块坐标之间的曼哈顿距离。\n\n假设在方块 $p_1$ 和 $p_2$ 处检测到两个 Z-缺陷 $d_1$ 和 $d_2$，其坐标分别为 $(0,0)$ 和 $(L,0)$，其中 $L > 1$ 是一个整数。在此配置下，标准晶格中存在一条连接它们的唯一的、长度为 $L$ 的最短错误链。\n\n现在，引入一个制造缺陷：位置在 $q_{absent} = (k+1/2, 0)$ 处的一个数据量子比特从晶格中物理上缺失，其中 $k$ 是一个满足 $0 \\le k < L$ 的整数。错误链不能穿过这个缺失的量子比特。\n\n计算由这一个缺失的数据量子比特所引起的，缺陷 $d_1$ 和 $d_2$ 之间 MWPM 边权重的增加量。", "solution": "1. 原始的 MWPM 边权重是 $(0,0)$ 和 $(L,0)$ 之间的曼哈顿距离：\n$$\nw_{\\rm orig} = |0 - L| + |0 - 0| = L.\n$$\n\n2. 移除位于 $q_{absent}=(k+\\tfrac12,0)$ 的水平连接会迫使任何路径绕过该连接。一个最小的绕行路径，例如，是向上移动一个边、向右移动一个边、再向下移动一个边，以此将一个被阻塞的水平步骤替换为三个步骤。\n\n3. 因此，新的最短路径长度为\n$$\nw_{\\rm new} = L - 1 + 3 = L + 2,\n$$\n因为 $L$ 个水平步骤中的一个被替换为三个步骤。\n\n4. 边权重的增加量为\n$$\n\\Delta w = w_{\\rm new} - w_{\\rm orig} = (L + 2) - L = 2.\n$$", "answer": "$$\\boxed{2}$$", "id": "101920"}, {"introduction": "既然目标是最小化总权重，一个显而易见的策略是采用“贪心算法”：迭代地匹配当前最近的两个缺陷。然而，这种局部最优的选择是否总能带来全局最优解？本练习 [@problem_id:101972] 通过一个精心设计的线性缺陷布局，让你计算并比较贪心算法与真正的最小权重完美匹配（MWPM）算法给出的结果。这个对比将清晰地展示贪心策略的局限性，并强调为何需要 MWPM 这种确保全局最优性的解码方法。", "problem": "在表面码量子纠错的背景下，一个常见的任务是解码稳定器测量结果。当一个 Z 型稳定器测量报告异常结果（一个“缺陷”或“任意子”）时，这表示数据量子比特上 X 错误链的端点。该解码问题可以映射为在一个图上寻找最小权重完美匹配（Minimum Weight Perfect Matching, MWPM），其中图的顶点是这些缺陷。两个缺陷之间边的权重是它们之间最短路径上的物理量子比特数，在二维网格上，这由曼哈顿距离给出。MWPM 的目标是找到所有缺陷的一个配对，使得所有配对的权重之和（即推断出的错误链的总长度）最小化。\n\n考虑在一个大的二维表面码格点上的一个简化场景，其中四个 Z 型缺陷出现在以下坐标处：\n$d_1 = (0, 0)$\n$d_2 = (L_1, 0)$\n$d_3 = (L_1 + L_2, 0)$\n$d_4 = (L_1 + L_2 + L_3, 0)$\n\n此处，$L_1, L_2, L_3$ 是正实值长度。位于位置 $(x_i, y_i)$ 和 $(x_j, y_j)$ 的任意两个缺陷之间连接的权重是曼哈顿距离，$w_{ij} = |x_i - x_j| + |y_i - y_j|$。对于这种一维排列，距离就是 x 坐标的绝对差。\n\n假设这些长度满足条件 $0 < L_2 < \\min(L_1, L_3)$。\n\n请比较由 MWPM 算法找到的最优匹配的总权重 $W_{\\text{MWPM}}$ 与由一个简单贪心算法找到的匹配的总权重 $W_{\\text{Greedy}}$。该贪心算法定义如下：\n1. 找到当前未匹配的缺陷中权重（距离）最小的一对。\n2. 将此配对添加到匹配中。\n3. 然后将其余两个缺陷配对在一起。\n\n计算差值 $\\Delta W = W_{\\text{Greedy}} - W_{\\text{MWPM}}$。", "solution": "1. 标记缺陷 $d_1=(0,0)$, $d_2=(L_1,0)$, $d_3=(L_1+L_2,0)$, $d_4=(L_1+L_2+L_3,0)$。$d_i$ 和 $d_j$ 之间的曼哈顿距离为\n$$w_{ij}=|x_i-x_j|.$$\n\n2. 计算两两之间的距离：\n$$d_{12}=L_1,\\quad d_{23}=L_2,\\quad d_{34}=L_3,$$\n$$d_{13}=L_1+L_2,\\quad d_{24}=L_2+L_3,\\quad d_{14}=L_1+L_2+L_3.$$\n\n3. 可能的完美匹配及其总权重：\n  A. $(d_1,d_2)$ 和 $(d_3,d_4)$:\n  $$W_A=d_{12}+d_{34}=L_1+L_3.$$\n  B. $(d_2,d_3)$ 和 $(d_1,d_4)$:\n  $$W_B=d_{23}+d_{14}=L_2+(L_1+L_2+L_3)=L_1+2L_2+L_3.$$\n  C. $(d_1,d_3)$ 和 $(d_2,d_4)$:\n  $$W_C=d_{13}+d_{24}=(L_1+L_2)+(L_2+L_3)=L_1+2L_2+L_3.$$\n\n4. 因为 $L_2>0$，\n$$W_A=L_1+L_3< L_1+2L_2+L_3=W_B=W_C.$$\n因此 MWPM 选择匹配 A，且\n$$W_{\\rm MWPM}=L_1+L_3.$$\n\n5. 贪心算法首先将距离为 $L_2$ 的最近缺陷 $d_2$ 和 $d_3$ 配对，然后将剩余的 $d_1$ 和 $d_4$ 配对，它们之间的距离为 $L_1+L_2+L_3$。因此\n$$W_{\\rm Greedy}=L_2+(L_1+L_2+L_3)=L_1+2L_2+L_3.$$\n\n6. 差值为\n$$\\Delta W=W_{\\rm Greedy}-W_{\\rm MWPM}=(L_1+2L_2+L_3)-(L_1+L_3)=2L_2.$$", "answer": "$$\\boxed{2L_2}$$", "id": "101972"}]}