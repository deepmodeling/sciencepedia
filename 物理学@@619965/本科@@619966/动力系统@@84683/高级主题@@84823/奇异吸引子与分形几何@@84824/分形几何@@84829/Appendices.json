{"hands_on_practices": [{"introduction": "分形尽管在视觉上呈现出无限的复杂性，但其内在结构往往遵循着精确的数学规律。康托集（Cantor set）是分形几何学中的一个原型示例，它为我们提供了一个理想的起点。这个练习旨在搭建起康托集的几何构造（即不断移除区间中三分之一部分）与其底层数值结构之间的桥梁，通过计算一个特定点的精确值，你将亲身体会到无限迭代过程如何能够定义出一个具体而明确的点。[@problem_id:1678296]", "problem": "标准的三分康托集（Cantor set），记为 $C$，是通过一个迭代过程构造的。我们从集合 $C_0 = [0, 1]$ 开始，即从 0 到 1 的闭区间。为了得到序列中的下一个集合 $C_1$，我们移除 $C_0$ 的中间三分之一开区间，即区间 $(\\frac{1}{3}, \\frac{2}{3})$。这剩下 $C_1 = [0, \\frac{1}{3}] \\cup [\\frac{2}{3}, 1]$。我们无限地继续这个过程：为了从 $C_n$ 得到 $C_{n+1}$，我们移除 $C_n$ 中每个区间的中间三分之一开区间。康托集 $C$ 是这个过程重复无限次后所有剩下点的集合。\n\n康托集中的任意一点 $p$ 都可以通过一个唯一的三进制（base-3）地址来标识，该地址写成一个无限数字序列 $0.d_1 d_2 d_3...$，其中每个数字 $d_k$ 要么是 0 要么是 2。这个地址描述了到达该点的路径：在构造的第 $k$ 步，数字 $d_k = 0$ 表示选择左子区间，而 $d_k = 2$ 表示选择右子区间。\n\n考虑康托集中的一个特定点 $p$，其地址由一个交替序列构成。到达该点的路径包括：第一步选择右子区间，第二步选择左子区间，第三步选择右子区间，依此类推，无限地在左右选择之间交替。这对应于三进制地址 $0.202020..._3$。\n\n确定这个点 $p$ 的确切值。请用最简分数表示你的答案。", "solution": "问题要求康托尔集中一个点 $p$ 的值，其三进制（base-3）地址为 $0.202020..._3$。\n\n一个以`b`为基数的表示为 $0.d_1 d_2 d_3 ..._b$ 的数，可以用十进制表示为一个无穷级数的和：\n$$p = \\sum_{k=1}^{\\infty} d_k \\cdot b^{-k}$$\n\n在这个问题中，基数是 $b=3$，数字序列是 $d_1=2, d_2=0, d_3=2, d_4=0, \\dots$。一般地，$d_k=2$ 如果 $k$ 是奇数，$d_k=0$ 如果 $k$ 是偶数。\n\n我们可以用这个公式写出 $p$ 的值：\n$$p = \\frac{d_1}{3^1} + \\frac{d_2}{3^2} + \\frac{d_3}{3^3} + \\frac{d_4}{3^4} + \\frac{d_5}{3^5} + \\dots$$\n\n代入数字的值：\n$$p = \\frac{2}{3^1} + \\frac{0}{3^2} + \\frac{2}{3^3} + \\frac{0}{3^4} + \\frac{2}{3^5} + \\dots$$\n\n我们可以忽略分子为 0 的项，这将级数简化为：\n$$p = \\frac{2}{3} + \\frac{2}{3^3} + \\frac{2}{3^5} + \\dots$$\n\n这是一个无穷几何级数。我们可以提出常数 2：\n$$p = 2 \\left( \\frac{1}{3} + \\frac{1}{3^3} + \\frac{1}{3^5} + \\dots \\right)$$\n\n我们来分析括号内的级数：$S = \\frac{1}{3} + \\frac{1}{3^3} + \\frac{1}{3^5} + \\dots$。\n首项是 $a = \\frac{1}{3}$。\n公比 $r$ 是任意一项与其前一项的比值。例如，我们可以这样计算它：\n$$r = \\frac{1/3^3}{1/3} = \\frac{1}{3^2} = \\frac{1}{9}$$\n或者，使用下一对项：\n$$r = \\frac{1/3^5}{1/3^3} = \\frac{1}{3^2} = \\frac{1}{9}$$\n公比确实是 $r = \\frac{1}{9}$。\n\n由于公比的绝对值 $|r| = |\\frac{1}{9}| < 1$，该几何级数收敛。无穷几何级数的和由公式 $S = \\frac{a}{1-r}$ 给出。\n\n代入 $a$ 和 $r$ 的值：\n$$S = \\frac{\\frac{1}{3}}{1 - \\frac{1}{9}} = \\frac{\\frac{1}{3}}{\\frac{9}{9} - \\frac{1}{9}} = \\frac{\\frac{1}{3}}{\\frac{8}{9}}$$\n\n要除以一个分数，我们乘以它的倒数：\n$$S = \\frac{1}{3} \\cdot \\frac{9}{8} = \\frac{9}{24}$$\n简化这个分数得到：\n$$S = \\frac{3}{8}$$\n\n现在我们可以通过将这个和代回到我们对 $p$ 的表达式中来找到 $p$ 的值：\n$$p = 2 \\cdot S = 2 \\cdot \\frac{3}{8} = \\frac{6}{8}$$\n\n最后，我们将此分数化为最简形式，即将分子和分母除以它们的最大公约数 2：\n$$p = \\frac{3}{4}$$\n\n因此，三进制地址为 $0.202020..._3$ 的康托尔集中的点位于值 $\\frac{3}{4}$ 处。", "answer": "$$\\boxed{\\frac{3}{4}}$$", "id": "1678296"}, {"introduction": "在理解了像康托集这样的特定分形之后，我们可以进一步探索一种更通用的分形生成方法——迭代函数系统（Iterated Function System, IFS）。一个IFS可以被看作是一套“分形配方”，它包含了一组简单的收缩变换规则，当这些规则被反复应用时，系统会收敛到一个独特而复杂的集合，即“吸引子”。这个练习将挑战你的分析能力：给定变换规则（缩放与反射），你需要预测最终生成的分形吸引子所占据的整体空间范围。[@problem_id:1678275]", "problem": "一个迭代函数系统（IFS）是一组收缩映射的集合。当这些映射被重复应用于一个初始集合时，该系统会收敛到一个唯一的、通常是分形的集合，这个集合被称为吸引子。\n\n考虑一个在笛卡尔平面中构建的IFS，它由两个变换 $T_1$ 和 $T_2$ 组成。这些变换是通过一系列涉及两条平行竖直线 $L_1$ 和 $L_2$ 的几何运算来定义的。直线 $L_1$ 是 $y$ 轴（即直线 $x=0$），直线 $L_2$ 是直线 $x=A$，其中 $A$ 是一个正常数。\n\n对于平面上的任意点 $\\mathbf{p}=(x,y)$，变换的构造如下：\n1. 首先，将点 $\\mathbf{p}$ 以缩放因子 $s$ (其中 $0 < s < 1$) 朝向原点 $(0,0)$ 进行均匀缩放。这将点 $\\mathbf{p}$ 映射到一个新点 $s\\mathbf{p}$。\n2. 变换 $T_1$ 定义为将缩放后的点 $s\\mathbf{p}$ 关于直线 $L_1$ 作反射。\n3. 变换 $T_2$ 定义为将缩放后的点 $s\\mathbf{p}$ 关于直线 $L_2$ 作反射。\n\n该IFS $\\{T_1, T_2\\}$ 的吸引子是一个点集，可以证明它完全位于 $x$ 轴上。你的任务是确定 $x$ 轴上完全包含此吸引子的最小单个闭区间的总长度。请用参数 $A$ 和 $s$ 的符号表达式来表示你的答案。", "solution": "设 $L_{1}$ 为 $x=0$，$L_{2}$ 为 $x=A$ (其中 $A>0$），并设 $0<s<1$。对于任意 $\\mathbf{p}=(x,y)$，初始缩放将 $\\mathbf{p}$ 变为 $s\\mathbf{p}=(s x, s y)$。关于竖直线的反射只影响 $x$ 坐标，而 $y$ 坐标保持不变。\n\n因此，这两个变换对坐标的作用如下：\n- $T_{1}$：缩放后关于 $L_{1}$ 反射，因此 $x\\mapsto -s x$ 且 $y\\mapsto s y$。\n- $T_{2}$：缩放后关于 $L_{2}$ 反射，因此 $x\\mapsto 2A - s x$ 且 $y\\mapsto s y$。\n\n在迭代下，$y$ 坐标演变为 $y_{n}=s^{n} y_{0}\\to 0$，因此吸引子位于 $y=0$ 上。因此，吸引子上的 $x$ 坐标构成了具有以下仿射收缩的一维IFS的不变集 $K\\subset\\mathbb{R}$：\n$$\nw_{1}(x)=-s x,\\qquad w_{2}(x)=2A - s x.\n$$\n\n设包含 $K$ 的最小闭区间为 $I=[m,M]$。根据最小性和不变性要求\n$$\nw_{1}(I)\\cup w_{2}(I)\\subseteq I,\n$$\n并且，由于 $w_{1}$ 和 $w_{2}$ 都是递减函数，它们的像集是\n$$\nw_{1}([m,M])=[-s M,\\,-s m],\\qquad w_{2}([m,M])=[2A - s M,\\,2A - s m].\n$$\n因此，最小包围区间必须满足\n$$\nm=\\min\\{-s M,\\,2A - s M\\},\\qquad M=\\max\\{-s m,\\,2A - s m\\}.\n$$\n因为 $2A>0$，我们有 $2A - s M>-s M$ 且 $2A - s m>-s m$，所以\n$$\nm=-s M,\\qquad M=2A - s m.\n$$\n将 $m=-s M$ 代入第二个方程得到\n$$\nM=2A - s(-s M)=2A + s^{2} M \\;\\;\\Rightarrow\\;\\; M(1 - s^{2})=2A \\;\\;\\Rightarrow\\;\\; M=\\frac{2A}{1 - s^{2}}.\n$$\n则\n$$\nm=-s M=-\\frac{2A s}{1 - s^{2}}.\n$$\n因此，最小区间的总长度为\n$$\nL=M - m=M(1+s)=\\frac{2A}{1 - s^{2}}(1+s)=\\frac{2A}{1 - s}.\n$$", "answer": "$$\\boxed{\\frac{2A}{1 - s}}$$", "id": "1678275"}, {"introduction": "除了收缩变换，我们还可以通过“生长”和“重写”规则来生成分形，林登迈尔系统（L-system）便是其中的典范。L-系统通过一个初始的“公理”和一套重写规则来模拟自然界中的生长过程，例如植物的形态构建。这个动手实践将让你追踪一个L-系统的生长，不仅是在几何上，更是通过计算其在多次迭代后的净位移来定量分析其宏观特性。这个练习完美地展示了简单的递归规则如何涌现出具有可预测全局属性的复杂结构。[@problem_id:1678318]", "problem": "一个可编程绘图机器人用于根据林登迈尔系统（L-系统）生成分形图案。L-系统是一种并行重写系统，它由一个符号字母表、一个称为公理的初始字符串和一组产生式规则组成，这些规则将每个符号扩展成一个更长的符号串。\n\n该机器人的行为由以下L-系统决定：\n- **公理（初始字符串，第0次迭代）：** `F`\n- **产生式规则：** `F → F+F--F+F`\n\n机器人将符号串解释为绘图指令：\n- **`F`**：向前移动一个固定距离 $L$ 并绘制一条线段。\n- **`+`**：左转 $60^\\circ$（或 $\\pi/3$ 弧度）。\n- **`--`**：右转 $120^\\circ$（或 $2\\pi/3$ 弧度）。注意，这是连续两次右转 $60^\\circ$。\n\n该过程从第 $n=0$ 次迭代的公理开始。为了得到第 $n=1$ 次迭代的字符串，公理中的每个 `F` 都被产生式规则中的字符串替换。为了得到第 $n=2$ 次迭代的字符串，第 $n=1$ 次迭代字符串中的每个 `F` 再次被产生式规则中的字符串替换，依此类推。\n\n机器人从二维笛卡尔平面的原点 $(0,0)$ 开始，初始朝向x轴正方向。然后它执行第二次迭代（$n=2$）的指令字符串。计算在完成第 $n=2$ 次迭代的完整绘图后，机器人起点和终点之间的直线距离。\n\n请用 $L$ 的倍数表示你的答案。", "solution": "我们将每个向前绘图指令建模为平面中的一个向量。在朝向角 $\\theta$ 下向前一步，贡献的向量为 $(L\\cos\\theta,\\,L\\sin\\theta)$。\n\n首先，我们分析从某个朝向角 $\\theta_{0}$ 开始，产生式块 `F+F--F+F` 的净位移。四个 `F` 步骤发生在相继的朝向角下：\n$$\n\\theta_{0},\\quad \\theta_{0}+\\frac{\\pi}{3},\\quad \\theta_{0}-\\frac{\\pi}{3},\\quad \\theta_{0}.\n$$\n因此，一个块的净位移是\n$$\n\\mathbf{v}_{\\text{block}}=L\\begin{pmatrix}\\cos\\theta_{0}\\\\ \\sin\\theta_{0}\\end{pmatrix}\n+L\\begin{pmatrix}\\cos\\left(\\theta_{0}+\\frac{\\pi}{3}\\right)\\\\ \\sin\\left(\\theta_{0}+\\frac{\\pi}{3}\\right)\\end{pmatrix}\n+L\\begin{pmatrix}\\cos\\left(\\theta_{0}-\\frac{\\pi}{3}\\right)\\\\ \\sin\\left(\\theta_{0}-\\frac{\\pi}{3}\\right)\\end{pmatrix}\n+L\\begin{pmatrix}\\cos\\theta_{0}\\\\ \\sin\\theta_{0}\\end{pmatrix}.\n$$\n使用恒等式 $\\cos(\\alpha+\\beta)+\\cos(\\alpha-\\beta)=2\\cos\\alpha\\cos\\beta$ 和 $\\sin(\\alpha+\\beta)+\\sin(\\alpha-\\beta)=2\\sin\\alpha\\cos\\beta$，其中 $\\beta=\\frac{\\pi}{3}$ 且 $\\cos\\frac{\\pi}{3}=\\frac{1}{2}$，上式变为：\n$$\n\\mathbf{v}_{\\text{block}}\n=L\\left[2\\begin{pmatrix}\\cos\\theta_{0}\\\\ \\sin\\theta_{0}\\end{pmatrix}\n+2\\cos\\frac{\\pi}{3}\\begin{pmatrix}\\cos\\theta_{0}\\\\ \\sin\\theta_{0}\\end{pmatrix}\\right]\n= L\\left[2+2\\cdot\\frac{1}{2}\\right]\\begin{pmatrix}\\cos\\theta_{0}\\\\ \\sin\\theta_{0}\\end{pmatrix}\n=3L\\begin{pmatrix}\\cos\\theta_{0}\\\\ \\sin\\theta_{0}\\end{pmatrix}.\n$$\n因此，用块 `F+F--F+F` 替换单个 `F`，会将其对应步骤的位移乘以一个因子 $3$ 并保持其方向不变。此外，该块的总转向角为 $+\\frac{\\pi}{3}-\\frac{2\\pi}{3}+\\frac{\\pi}{3}=0$，所以该块结束时的朝向与开始时相同。\n\n设 $\\mathbf{d}_{n}$ 表示完成第$n$次迭代字符串后的净位移向量。在 $n=0$ 时的公理是沿x轴正方向开始的单个 `F`，所以：\n$$\n\\mathbf{d}_{0} = \\begin{pmatrix}L\\\\ 0\\end{pmatrix}.\n$$\n根据刚才证明的块属性，应用一次迭代会将净位移向量乘以 $3$ 而不改变其方向：\n$$\n\\mathbf{d}_{n+1}=3\\,\\mathbf{d}_{n}.\n$$\n因此，\n$$\n\\mathbf{d}_{2}=3^{2}\\,\\mathbf{d}_{0}=9\\begin{pmatrix}L\\\\ 0\\end{pmatrix}.\n$$\n在 $n=2$ 时从起点到终点的直线距离是 $\\mathbf{d}_{2}$ 的模，即 $9L$。", "answer": "$$\\boxed{9L}$$", "id": "1678318"}]}