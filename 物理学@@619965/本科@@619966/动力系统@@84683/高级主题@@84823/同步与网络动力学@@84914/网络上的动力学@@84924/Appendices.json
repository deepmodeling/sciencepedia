{"hands_on_practices": [{"introduction": "我们从网络动力学中最基本的过程之一——共识动态——开始。在许多系统中，无论是传感器网络平均读数，还是社会群体形成统一意见，相互连接的个体最终都会达到一个共同的状态。本练习通过一个简化的热扩散模型 [@problem_id:1673970]，让您亲手计算系统最终的平衡状态，并揭示一个核心守恒定律：在这种线性系统中，最终的共识值是所有初始值的平均值。", "problem": "一个由5个相同的温度传感器（标记为1到5）组成的线性阵列，沿着一根细的绝热金属棒等距放置。该系统模拟了一个离散的热扩散过程。传感器1和传感器5之外的金属棒两端也完全绝热。每个传感器的温度在离散的时间步长上更新，其温度变化量与它和其直接邻居的温度差之和成正比。\n\n对于每个传感器 $i \\in \\{1, 2, 3, 4, 5\\}$，系统演化遵循以下规则：\n$$T_i(t+1) = T_i(t) + \\epsilon \\sum_{j \\text{ is a neighbor of } i} (T_j(t) - T_i(t))$$\n其中 $T_i(t)$ 是传感器 $i$ 在时间步长 $t$ 时的温度，而 $\\epsilon$ 是一个小的正常数耦合常数，决定了热交换的速率。如果传感器 $i$ 和 $j$ 在阵列中相邻，则它们被视为邻居（例如，传感器2是传感器1和3的邻居）。由于两端绝热，传感器1只有一个邻居（传感器2），传感器5也只有一个邻居（传感器4）。\n\n在时间 $t=0$ 时，测得传感器的初始温度为：\n- $T_1(0) = 15.0 \\, ^\\circ\\text{C}$\n- $T_2(0) = 40.0 \\, ^\\circ\\text{C}$\n- $T_3(0) = 22.0 \\, ^\\circ\\text{C}$\n- $T_4(0) = 18.0 \\, ^\\circ\\text{C}$\n- $T_5(0) = 5.0 \\, ^\\circ\\text{C}$\n\n系统演化很长一段时间，直到所有传感器达到一个稳定的共同温度，即系统的同步状态。计算这个最终温度。答案以摄氏度表示，并四舍五入到三位有效数字。", "solution": "我们用 $T(t) = [T_{1}(t), T_{2}(t), T_{3}(t), T_{4}(t), T_{5}(t)]^{\\top}$ 表示温度向量。每个传感器的更新规则是\n$$\nT_{i}(t+1) = T_{i}(t) + \\epsilon \\sum_{j \\text{ neighbor of } i} \\left(T_{j}(t) - T_{i}(t)\\right),\n$$\n它可以写成矩阵形式\n$$\nT(t+1) = \\left(I - \\epsilon L\\right) T(t),\n$$\n其中 $L$ 是具有5个节点和绝热端点（度数为：$1,2,2,2,1$）的路径图的图拉普拉斯矩阵。拉普拉斯矩阵 $L$ 是对称的，并满足 $L \\mathbf{1} = 0$，其中 $\\mathbf{1}$ 是全1向量。\n\n为了找到同步（一致性）温度，我们首先确立总温度守恒。对所有传感器的更新求和：\n$$\n\\sum_{i=1}^{5} T_{i}(t+1) = \\sum_{i=1}^{5} T_{i}(t) + \\epsilon \\sum_{i=1}^{5} \\sum_{j \\text{ neighbor of } i} \\left(T_{j}(t) - T_{i}(t)\\right).\n$$\n在这个双重求和中，每个无序的邻居对 $\\{i,j\\}$ 都恰好出现两次，一次是作为 $(i,j)$ 贡献了 $T_{j}(t) - T_{i}(t)$，另一次是作为 $(j,i)$ 贡献了 $T_{i}(t) - T_{j}(t)$。这两个贡献相互抵消。因此，\n$$\n\\sum_{i=1}^{5} T_{i}(t+1) = \\sum_{i=1}^{5} T_{i}(t),\n$$\n所以总温度，以及平均温度\n$$\n\\bar{T}(t) = \\frac{1}{5} \\sum_{i=1}^{5} T_{i}(t),\n$$\n是不随时间变化的：$\\bar{T}(t+1) = \\bar{T}(t)$。\n\n接下来，对于 $0 < \\epsilon < \\frac{1}{2}$，矩阵 $I - \\epsilon L$ 是对称的、随机的（每行之和为1），并且在这个连通图上是本原的。因此，根据标准的一致性/马尔可夫链收敛理论，$T(t)$ 收敛到一个与 $\\mathbf{1}$ 成比例的向量：\n$$\n\\lim_{t \\to \\infty} T(t) = \\bar{T}(0)\\,\\mathbf{1},\n$$\n其中 $\\bar{T}(0)$ 是初始平均温度。\n\n使用给定数据计算初始平均值：\n$$\n\\bar{T}(0) = \\frac{T_{1}(0) + T_{2}(0) + T_{3}(0) + T_{4}(0) + T_{5}(0)}{5} = \\frac{15.0 + 40.0 + 22.0 + 18.0 + 5.0}{5} = \\frac{100.0}{5} = 20.0.\n$$\n因此，所有传感器的最终同步温度是 $20.0$ 摄氏度。四舍五入到三位有效数字，结果仍为 $20.0$。", "answer": "$$\\boxed{20.0}$$", "id": "1673970"}, {"introduction": "接下来，我们将注意力从确定性的平均过程转向随机过程，即随机游走。随机游走是模拟从分子扩散到网页浏览等多种现象的强大模型，虽然每一步是随机的，但其长期行为却与网络结构紧密相关。在这个练习 [@problem_id:1673990] 中，您将计算一个小型交通网络中穿梭巴士在各个站点的长期停留概率，从而揭示节点的连接度（或度，$k_i$）与其平稳分布概率（$\\pi_i$）之间的深刻联系。", "problem": "一个小型交通网络由四个站点组成：A、B、C和D。它们之间的连接如下：站点A、B、C形成一个完全连接的三角形回路，即每个站点都与另外两个站点直接相连。站点D是一个终点站，仅与站点C相连。\n\n一辆自动穿梭巴士在该网络上运行。在每个时间步，穿梭巴士从其当前站点行驶到其直接相连的邻近站点之一。选择前往哪个邻近站点的过程是均匀随机的。例如，如果穿梭巴士位于一个有三个邻近站点的站点，它将以$1/3$的概率移动到其中任何一个。\n\n经过很长一段时间后，系统达到一个稳态，此时在任何给定站点找到穿梭巴士的概率都变为常数。设这些长期概率分别为站点A、B、C和D的$\\pi_A, \\pi_B, \\pi_C,$和$\\pi_D$。\n\n计算这四个概率的值。请以四个对应于$(\\pi_A, \\pi_B, \\pi_C, \\pi_D)$的简化分数形式给出您的答案。", "solution": "将穿梭巴士建模为四个站点上的离散时间马尔可夫链。根据网络结构，邻近站点集合和移动概率如下：\n- 从A出发：以$\\frac{1}{2}$的概率到B，以$\\frac{1}{2}$的概率到C。\n- 从B出发：以$\\frac{1}{2}$的概率到A，以$\\frac{1}{2}$的概率到C。\n- 从C出发：以$\\frac{1}{3}$的概率分别到A、B、D。\n- 从D出发：以$1$的概率到C。\n\n在稳态下，概率$\\pi_{A},\\pi_{B},\\pi_{C},\\pi_{D}$满足全局平衡方程$\\pi = \\pi P$以及归一化条件$\\pi_{A}+\\pi_{B}+\\pi_{C}+\\pi_{D}=1$。明确写出流入平衡方程：\n$$\n\\pi_{A}=\\frac{1}{2}\\pi_{B}+\\frac{1}{3}\\pi_{C},\\quad\n\\pi_{B}=\\frac{1}{2}\\pi_{A}+\\frac{1}{3}\\pi_{C},\\quad\n\\pi_{C}=\\frac{1}{2}\\pi_{A}+\\frac{1}{2}\\pi_{B}+1\\cdot\\pi_{D},\\quad\n\\pi_{D}=\\frac{1}{3}\\pi_{C}.\n$$\n从$\\pi_{D}=\\frac{1}{3}\\pi_{C}$出发，将其代入$\\pi_{C}$的方程中：\n$$\n\\pi_{C}=\\frac{1}{2}\\pi_{A}+\\frac{1}{2}\\pi_{B}+\\frac{1}{3}\\pi_{C}\n\\;\\Rightarrow\\;\n\\pi_{C}-\\frac{1}{3}\\pi_{C}=\\frac{1}{2}(\\pi_{A}+\\pi_{B})\n\\;\\Rightarrow\\;\n\\frac{2}{3}\\pi_{C}=\\frac{1}{2}(\\pi_{A}+\\pi_{B})\n\\;\\Rightarrow\\;\n\\pi_{C}=\\frac{3}{4}(\\pi_{A}+\\pi_{B}).\n$$\n将前两个平衡方程相减：\n$$\n\\pi_{A}-\\pi_{B}=\\frac{1}{2}\\pi_{B}+\\frac{1}{3}\\pi_{C}-\\left(\\frac{1}{2}\\pi_{A}+\\frac{1}{3}\\pi_{C}\\right)\n=\\frac{1}{2}(\\pi_{B}-\\pi_{A})\n\\;\\Rightarrow\\;\n\\frac{3}{2}(\\pi_{A}-\\pi_{B})=0\n\\;\\Rightarrow\\;\n\\pi_{A}=\\pi_{B}.\n$$\n设$\\pi_{A}=\\pi_{B}=x$。则\n$$\n\\pi_{C}=\\frac{3}{4}(x+x)=\\frac{3}{2}x,\\qquad \\pi_{D}=\\frac{1}{3}\\pi_{C}=\\frac{1}{2}x.\n$$\n应用归一化条件：\n$$\n\\pi_{A}+\\pi_{B}+\\pi_{C}+\\pi_{D}=x+x+\\frac{3}{2}x+\\frac{1}{2}x=4x=1\n\\;\\Rightarrow\\;\nx=\\frac{1}{4}.\n$$\n因此，\n$$\n\\pi_{A}=\\frac{1}{4},\\quad \\pi_{B}=\\frac{1}{4},\\quad \\pi_{C}=\\frac{3}{8},\\quad \\pi_{D}=\\frac{1}{8}.\n$$\n对于无向图上的随机游走，平稳分布与节点的度成正比：$\\pi_i \\propto k_i$。度的总和为 $k_A+k_B+k_C+k_D = 2+2+3+1 = 8$。因此，$\\pi_A=2/8=1/4$, $\\pi_B=2/8=1/4$, $\\pi_C=3/8$, $\\pi_D=1/8$。这证实了我们的计算结果。", "answer": "$$\\boxed{\\begin{pmatrix}\\frac{1}{4} & \\frac{1}{4} & \\frac{3}{8} & \\frac{1}{8}\\end{pmatrix}}$$", "id": "1673990"}, {"introduction": "最后，我们来应对一种更复杂的传播形式——“复杂级联”，它通过阈值模型来描述。与仅需一次接触就能传播的简单病毒不同，新技术采纳或社会运动参与等行为通常需要来自多个邻居的强化。在这个练习 [@problem_id:1673962] 中，您将扮演一位策略师，任务是找出引发整个网络发生连锁反应所需的最小“种子”数量，从而体会到在阈值模型中，种子数量和其战略性布局对于引爆全局变化同样至关重要。", "problem": "考虑一个由9个节点组成的系统，这些节点排列在一个 $3 \\times 3$ 的网格中。每个节点可以用其整数坐标 $(i, j)$ 来标识，其中 $1 \\le i, j \\le 3$。如果两个节点在水平或垂直方向上相邻，则它们被视为相邻节点。例如，位于 $(2,2)$ 的节点有四个邻居：$(1,2)$、$(2,1)$、$(2,3)$ 和 $(3,2)$，而位于 $(1,1)$ 的节点有两个邻居：$(1,2)$ 和 $(2,1)$。\n\n每个节点可以处于两种状态之一：激活或未激活。系统按照以下规则在离散时间步中演化：如果一个未激活节点至少有两个邻居当前是激活状态，那么它将在下一个时间步变为激活状态。节点一旦变为激活状态，在之后所有的时间步中都保持激活状态。\n\n通过选择一个初始的激活节点集合（称为“种子集”）来启动一个传染过程。如果这个初始种子集最终导致网格中所有9个节点都变为激活状态，则称之为发生了一次“完全级联”。\n\n确定触发完全级联所需的种子集的最小规模。", "solution": "设$G$为$3\\times 3$网格，其节点为$(i,j)$，$1\\leq i,j\\leq 3$，节点之间若曼哈顿距离为$1$则存在边。更新规则为阈值$2$：一个未激活节点在下一步变为激活，当且仅当它至少有两个邻居是激活状态；激活是永久性的。\n\n首先，我们通过分析证明种子数量必须大于2。设种子集为 $S$ 且 $|S|=2$。一个未激活的节点 $u \\notin S$ 在第一步被激活的条件是，它至少有两个邻居在 $S$ 中。\n\n*   **情况1：两个种子节点相邻**（例如 $S = \\{(1,1), (1,2)\\}$）。由于网格图中没有三角形，没有其他任何节点能同时与这两个种子相邻。因此，没有新节点被激活，级联停止。\n*   **情况2：两个种子节点不相邻。**\n    *   **子情况2a：种子之间没有共同邻居**（例如 $S = \\{(1,1), (3,3)\\}$）。没有节点会满足激活条件，级联停止。\n    *   **子情况2b：种子之间有1个共同邻居**（例如 $S = \\{(1,1), (1,3)\\}$，共同邻居是 $(1,2)$）。在第一步，只有 $(1,2)$ 被激活。此时激活集变为 $\\{(1,1), (1,2), (1,3)\\}$，形成一条线。这条线外的任何节点最多只有一个激活的邻居，因此级联停止。\n    *   **子情况2c：种子之间有2个共同邻居**（例如 $S = \\{(1,2), (2,1)\\}$，共同邻居是 $(1,1)$ 和 $(2,2)$）。在第一步，$(1,1)$ 和 $(2,2)$ 都被激活。此时激活集变为 $\\{(1,1), (1,2), (2,1), (2,2)\\}$，形成一个 $2 \\times 2$ 的方块。方块外的任何节点最多也只与这个方块中的一个节点相邻，因此级联停止。\n\n在所有使用两个种子的情况下，级联都在激活所有9个节点之前停止。因此，至少需要3个种子。\n\n接下来我们证明3个种子是足够的。选择三个角落的种子 $S = \\{(1,1), (1,3), (3,1)\\}$。分步验证如下：\n- **t=1**: 节点 $(1,2)$ 的邻居是 $(1,1)$ 和 $(1,3)$，被激活。节点 $(2,1)$ 的邻居是 $(1,1)$ 和 $(3,1)$，被激活。激活集变为 $S \\cup \\{(1,2), (2,1)\\}$。\n- **t=2**: 节点 $(2,2)$ 的邻居是 $(1,2)$ 和 $(2,1)$，被激活。\n- **t=3**: 节点 $(2,3)$ 的邻居是 $(1,3)$ 和 $(2,2)$，被激活。节点 $(3,2)$ 的邻居是 $(3,1)$ 和 $(2,2)$，被激活。\n- **t=4**: 节点 $(3,3)$ 的邻居是 $(2,3)$ 和 $(3,2)$，被激活。\n至此，所有9个节点都变为激活状态，因此用3个种子发生了完全级联。\n\n结合下界和这个显式构造，触发完全级联的最小种子集规模为3。", "answer": "$$\\boxed{3}$$", "id": "1673962"}]}