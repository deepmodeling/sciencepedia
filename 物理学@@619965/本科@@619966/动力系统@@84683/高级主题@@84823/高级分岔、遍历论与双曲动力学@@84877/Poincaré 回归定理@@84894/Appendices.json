{"hands_on_practices": [{"introduction": "“回归”的概念有时可能感觉很抽象。第一个练习将此概念置于一个具体的场景中：一个以固定角度旋转的机械臂。通过计算机械臂重新进入“安全区”所需的精确步数，你将亲身体验“首次回归时间”这一概念，这是理解庞加莱回归定理的基本构建模块。[@problem_id:1700605]", "problem": "一个机械臂旋转关节的简化模型描述了其在圆周上的角度，我们可以用区间 $[0, 1)$ 来表示。在离散时间步 $n$，关节的状态由其角度 $\\theta_n$ 给出。该关节被编程为在每个时间步旋转一个固定角度 $\\alpha$，从初始角度 $\\theta_0 = 0$ 开始。角度的演化遵循方程 $\\theta_{n+1} = (\\theta_n + \\alpha) \\pmod{1}$。\n\n为保证操作安全，机械臂的固件必须监测关节角度何时进入一个由区间 $S = [0, 1/20)$ 定义的特定“安全区”。由于机械臂从 $\\theta_0=0$ 开始，它初始时位于安全区内。我们关心的是，对于任何时间步 $n>0$，机械臂首次重新进入该区域的时间。我们将这个步数记为首次返回时间 $N$。\n\n我们考虑两种不同的机械臂运动操作协议：\n\n-   **情况A：** 旋转角度为 $\\alpha_A = 7/23$。\n-   **情况B：** 旋转角度为 $\\alpha_B = 1/23$。\n\n设 $N_A$ 和 $N_B$ 分别为情况A和情况B的首次返回时间。计算比值 $N_A/N_B$。", "solution": "离散时间旋转由 $\\theta_{n+1} = (\\theta_{n} + \\alpha) \\pmod{1}$ 给出，其中 $\\theta_{0}=0$。因此 $\\theta_{n} = \\{n\\alpha\\}$，这里 $\\{x\\}$ 表示 $x$ 的小数部分。安全区为 $S=[0,1/20)$，首次返回时间为\n$$\nN=\\min\\{n\\in\\mathbb{Z}_{\\ge 1}:\\{n\\alpha\\}\\in[0,\\tfrac{1}{20})\\}.\n$$\n在这两种情况下，$\\alpha=\\frac{p}{23}$，其中 $p\\in\\mathbb{Z}$ 且 $\\gcd(p,23)=1$。于是\n$$\n\\{n\\alpha\\}=\\left\\{\\frac{np}{23}\\right\\}=\\frac{m}{23},\n$$\n其中 $m\\equiv np \\pmod{23}$ 且 $m\\in\\{0,1,\\dots,22\\}$。由于\n$$\n\\frac{1}{23}<\\frac{1}{20}<\\frac{2}{23},\n$$\n因此，位于 $[0,\\frac{1}{20})$ 内形如 $\\frac{m}{23}$ 的点只有 $m=0$ 和 $m=1$ 两种情况。所以，首次返回时间是满足以下条件的最小整数 $n\\geq 1$：\n$$\nnp\\equiv 0 \\pmod{23}\\quad\\text{或}\\quad np\\equiv 1 \\pmod{23}。\n$$\n\n情况B：$\\alpha_{B}=\\frac{1}{23}$，所以 $p=1$。同余方程变为 $n\\equiv 0 \\pmod{23}$ 或 $n\\equiv 1 \\pmod{23}$。满足任一条件的最小整数 $n\\geq 1$ 是 $n=1$。因此 $N_{B}=1$。\n\n情况A：$\\alpha_{A}=\\frac{7}{23}$，所以 $p=7$。我们求解\n$$\n7n\\equiv 0 \\pmod{23}\\quad\\text{或}\\quad 7n\\equiv 1 \\pmod{23}。\n$$\n由于 $\\gcd(7,23)=1$，$7n\\equiv 0 \\pmod{23}$ 意味着 $n\\equiv 0 \\pmod{23}$，其最小正整数解是 $n=23$。对于 $7n\\equiv 1 \\pmod{23}$，我们计算 $7$ 模 $23$ 的逆元：即找到 $u$ 使得 $7u\\equiv 1 \\pmod{23}$。注意到 $7\\cdot 10=70=3\\cdot 23+1$，我们得到 $u=10$，因此 $n\\equiv 10 \\pmod{23}$。最小正整数解是 $n=10$。因此，首次返回时间是 $N_{A}=\\min\\{10,23\\}=10$。\n\n所求比值为\n$$\n\\frac{N_{A}}{N_{B}}=\\frac{10}{1}=10.\n$$", "answer": "$$\\boxed{10}$$", "id": "1700605"}, {"introduction": "庞加莱回归定理的威力取决于其假设。这个练习挑战你探索当一个基本条件——变换必须是保测度的——被违反时会发生什么。你将分析一个在二进制序列上特殊构造的映射，并亲眼发现为什么这个假设不仅仅是一个技术细节，而是定理保证回归性的基石。[@problem_id:1700627]", "problem": "考虑由所有单侧无限二元序列 $\\omega = (\\omega_0, \\omega_1, \\omega_2, \\dots)$ 构成的空间 $\\Omega = \\{0, 1\\}^{\\mathbb{N}_0}$。此空间被赋予了标准的伯努利概率测度 $\\mu$，其中由前 $k$ 个比特指定的任何柱集的测度为 $2^{-k}$。\n\n现在，考虑一个非标准变换 $T: \\Omega \\to \\Omega$，其定义如下：\n- 如果一个序列 $\\omega$ 以 $\\omega_0 = 0$ 开始，那么 $T(\\omega)$ 是 $\\omega$ 的标准左移，即对所有 $n \\ge 0$ 都有 $(T(\\omega))_n = \\omega_{n+1}$。\n- 如果一个序列 $\\omega$ 以 $\\omega_0 = 1$ 开始，那么 $T(\\omega)$ 是零序列 $\\mathbf{0} = (0, 0, 0, \\dots)$。\n\n设 $A$ 是 $\\Omega$ 中所有以“101”块开始的序列的集合。确定一个序列集合的测度，该集合中的序列从 $A$ 开始，但在 $T$ 的重复作用下其轨道永不重新进入集合 $A$。\n\n将您的答案表示为最简分数形式。", "solution": "我们要计算的集合是 $E = \\{\\omega \\in A \\mid T^n(\\omega) \\notin A \\text{ for all } n \\ge 1\\}$ 的测度 $\\mu(E)$，其中 $A$ 是所有以“101”开头的序列的集合。\n\n首先，我们分析从 $A$ 中任意一个序列 $\\omega$ 开始的轨道。\n根据定义，任何 $\\omega \\in A$ 的形式为 $(1, 0, 1, \\omega_3, \\dots)$。它的第一个比特 $\\omega_0 = 1$。\n根据变换 $T$ 的定义，如果一个序列以 1 开始，它将被映射到零序列 $\\mathbf{0} = (0, 0, 0, \\dots)$。\n因此，对于任何 $\\omega \\in A$，第一次迭代的结果是：\n$$T(\\omega) = \\mathbf{0}$$\n\n接下来，我们考虑轨道的后续项 $T^n(\\omega)$ 对于 $n > 1$。\n$$T^2(\\omega) = T(T(\\omega)) = T(\\mathbf{0})$$\n零序列 $\\mathbf{0}$ 的第一个比特是 0。根据变换 $T$ 的定义，如果一个序列以 0 开始，变换是标准的左移操作。对零序列进行左移操作，结果仍然是零序列。\n$$T(\\mathbf{0}) = \\mathbf{0}$$\n通过归纳法，可以得出对于任何 $\\omega \\in A$，其轨道在 $n \\ge 1$ 后都保持为零序列：\n$$T^n(\\omega) = \\mathbf{0} \\quad \\text{for all } n \\ge 1$$\n\n现在，我们判断一个序列 $\\omega \\in A$ 是否属于 $E$。这要求对于所有 $n \\ge 1$，$T^n(\\omega)$ 都不在集合 $A$ 中。\n由于 $T^n(\\omega) = \\mathbf{0}$，这个条件等价于判断零序列 $\\mathbf{0}$ 是否属于集合 $A$。\n集合 $A$ 是所有以“101”开头的序列的集合。零序列 $\\mathbf{0} = (0, 0, 0, \\dots)$ 以“000”开头。由于“000”与“101”不同，$\\mathbf{0} \\notin A$。\n\n这意味着，对于任何从 $A$ 开始的序列 $\\omega$，它的整个未来轨道（$n \\ge 1$）都由零序列构成，而零序列不在 $A$ 中。因此，这个轨道永远不会返回到 $A$。\n这表明，集合 $A$ 中的*每一个*序列都满足永不返回的条件。所以，我们要找的集合 $E$ 正是集合 $A$ 本身：\n$$E = A$$\n\n最后一步是计算集合 $A$ 的测度。\n集合 $A$ 是一个由前缀“101”定义的柱集。这是一个长度为 $k=3$ 的前缀。根据伯努利概率测度的定义，这样一个柱集的测度是 $2^{-k}$。\n因此，\n$$\\mu(E) = \\mu(A) = 2^{-3} = \\frac{1}{8}$$\n\n这个结果并不与庞加莱回归定理相矛盾。该定理要求变换是保测度的。然而，这里的变换 $T$ 并不保测。例如，考虑所有以 0 开头的序列的集合 $C_0$，其测度为 $\\mu(C_0) = 1/2$。它的原像集合 $T^{-1}(C_0)$ 包含所有映射到 $C_0$ 的序列。这包括所有以“00”开头的序列（左移后以 0 开头）和所有以 1 开头的序列（映射到 $\\mathbf{0}$，也以 0 开头）。因此，$T^{-1}(C_0) = C_{00} \\cup C_1$。这两个集合不相交，所以 $\\mu(T^{-1}(C_0)) = \\mu(C_{00}) + \\mu(C_1) = 1/4 + 1/2 = 3/4$。由于 $\\mu(T^{-1}(C_0)) \\neq \\mu(C_0)$，变换 $T$ 不是保测度的，因此庞加莱回归定理不适用。", "answer": "$$\\boxed{\\frac{1}{8}}$$", "id": "1700627"}, {"introduction": "在看了一个简单的系统和一个回归失败的例子之后，我们现在转向一个更复杂的场景。这个问题涉及一个不可逆的分段拉伸映射，尽管它看起来很复杂，但它确实是保测度的。你的任务是运用你的理解，计算具有特定回归时间的点集的测度，从而展示回归原理即使在高度不平凡的动力系统中也同样适用。[@problem_id:1700606]", "problem": "考虑单位区间 $X=[0,1]$ 上的一个动态系统，其上的测度为勒贝格测度 $\\lambda$。一个映射 $T: [0,1] \\to [0,1]$ 的构造如下。区间 $[0,1)$ 被剖分为一个可数的、不相交的半开区间集合 $I_n = [1-2^{-(n-1)}, 1-2^{-n})$，其中 $n=1, 2, 3, \\ldots$。对于任何属于区间 $I_n$ 的点 $x$，它在映射 $T$ 下的像由将 $I_n$ 拉伸到区间 $[0,1)$ 的线性变换给出：\n$$T(x) = 2^n \\left( x - \\left(1 - \\frac{1}{2^{n-1}}\\right) \\right) \\quad \\text{对于 } x \\in I_n。$$\n最后，通过定义 $T(1)=1$ 来完成该映射。\n\n这个映射是不可逆的，并且 $[0,1]$ 中的几乎每个点都有无限多个原像。已知此映射 $T$ 保持勒贝格测度 $\\lambda$ 不变，即对于任何勒贝格可测集 $E \\subseteq [0,1]$，都有 $\\lambda(T^{-1}(E)) = \\lambda(E)$。\n\n庞加莱回归定理（Poincaré recurrence theorem）表明，对于任何具有正测度的集合，该集合内的几乎所有点最终都会返回该集合。我们来研究一下特定集合 $A = [0, 1/2]$ 的这种行为。如果 $k$ 是使 $T^k(x) \\in A$ 成立的最小正整数，则称点 $x \\in A$ 在第 $k$ 步首次返回集合 $A$。\n\n计算 $A$ 中在第 $k=2$ 步首次返回集合 $A$ 的点的集合的勒贝格测度。将你的答案表示为一个精确分数。", "solution": "设 $S_k$ 为在 $A = [0, 1/2]$ 中于第 $k$ 步首次返回集合 $A$ 的点的集合。我们需要求出其勒贝格测度 $\\lambda(S_2)$。\n\n根据定义，$S_2$ 集合包含所有满足 $T(x) \\notin A$ 且 $T^2(x) \\in A$ 的点 $x \\in A$。\n$$S_2 = \\{x \\in A \\mid T(x) \\notin A \\text{ 且 } T^2(x) \\in A \\}$$\n\n首先，我们来分析条件 $x \\in A$ 且 $T(x) \\notin A$。\n集合 $A$ 是 $[0, 1/2]$。\n如果 $x$ 在区间 $[0, 1/2)$ 内，它属于剖分区间 $I_1 = [1-2^0, 1-2^{-1}) = [0, 1/2)$。对于这样的 $x$，映射由 $n=1$ 的情况给出：\n$$T(x) = 2^1(x - (1-2^0)) = 2x。$$\n如果 $x = 1/2$，它属于剖分区间 $I_2 = [1/2, 3/4)$。对于 $x=1/2$，映射由 $n=2$ 的情况给出：\n$$T(1/2) = 2^2 \\left(\\frac{1}{2} - \\left(1-\\frac{1}{2^1}\\right)\\right) = 4 \\left(\\frac{1}{2} - \\frac{1}{2}\\right) = 0。$$\n\n我们来检验条件 $T(x) \\notin A = [0, 1/2]$。\n对于 $x \\in [0, 1/2)$，我们有 $T(x)=2x$。条件 $T(x) \\notin [0, 1/2]$ 意味着 $2x > 1/2$，即 $x > 1/4$。因此，对于定义域的这一部分，我们有 $x \\in (1/4, 1/2)$。\n对于 $x=1/2$，我们有 $T(1/2)=0$。由于 $0 \\in A$，点 $x=1/2$ 不满足条件 $T(x) \\notin A$。\n\n综合这些，对于 $x \\in A$ 且 $T(x) \\notin A$ 的点的集合是区间 $(1/4, 1/2)$。我们称这个集合为 $B = (1/4, 1/2)$。\n\n接下来，我们分析第二个条件：对于 $x \\in B$，有 $T^2(x) \\in A = [0, 1/2]$。\n对于 $x \\in B = (1/4, 1/2)$，我们有 $y = T(x) = 2x$。$y$ 的取值范围是 $(1/2, 1)$。\n条件 $T^2(x) \\in A$ 变为对于 $y \\in (1/2, 1)$ 有 $T(y) \\in [0, 1/2]$。\n\n我们需要找到 $y \\in (1/2, 1)$ 中映射到 $[0, 1/2]$ 的子集。定义域 $(1/2, 1)$ 是 $n \\ge 2$ 的剖分区间 $I_n$ 的并集：\n$$(1/2, 1) = \\bigcup_{n=2}^{\\infty} I_n = \\bigcup_{n=2}^{\\infty} \\left[1-2^{-(n-1)}, 1-2^{-n}\\right)。$$\n对于一个点 $y \\in I_n$（其中 $n \\ge 2$），映射为 $T(y) = 2^n(y - (1-2^{-(n-1)}))$。\n我们要求 $T(y) \\in [0, 1/2]$，因此我们建立不等式：\n$$0 \\le 2^n \\left(y - \\left(1-\\frac{1}{2^{n-1}}\\right)\\right) \\le \\frac{1}{2}。$$\n两边同除以 $2^n$ 得：\n$$0 \\le y - \\left(1-\\frac{1}{2^{n-1}}\\right) \\le \\frac{1}{2^{n+1}}。$$\n各部分同时加上 $(1-2^{-(n-1)})$ 得：\n$$1-\\frac{1}{2^{n-1}} \\le y \\le 1-\\frac{1}{2^{n-1}} + \\frac{1}{2^{n+1}}。$$\n对于一个固定的 $n \\ge 2$，设 $K_n$ 为满足条件的 $y$ 值的区间：\n$$K_n = \\left[1-\\frac{1}{2^{n-1}}, 1-\\frac{1}{2^{n-1}} + \\frac{1}{2^{n+1}}\\right]。$$\n区间 $K_n$ 是 $I_n$ 的一个子区间。$K_n$ 的长度是：\n$$\\lambda(K_n) = \\left(1-\\frac{1}{2^{n-1}} + \\frac{1}{2^{n+1}}\\right) - \\left(1-\\frac{1}{2^{n-1}}\\right) = \\frac{1}{2^{n+1}}。$$\n所有映射到 $[0, 1/2]$ 的 $y \\in (1/2, 1)$ 的集合是这些区间 $K_n$（其中 $n=2, 3, \\ldots$）的不相交并集。设这个集合为 $Y = \\bigcup_{n=2}^{\\infty} K_n$。\n$Y$ 的测度是这些不相交区间长度的和：\n$$\\lambda(Y) = \\sum_{n=2}^{\\infty} \\lambda(K_n) = \\sum_{n=2}^{\\infty} \\frac{1}{2^{n+1}}。$$\n这是一个几何级数：$\\frac{1}{2^3} + \\frac{1}{2^4} + \\frac{1}{2^5} + \\dots = \\frac{1}{8} + \\frac{1}{16} + \\frac{1}{32} + \\dots$。\n其和为 $\\frac{\\text{首项}}{1 - \\text{公比}} = \\frac{1/8}{1-1/2} = \\frac{1/8}{1/2} = \\frac{1}{4}$。\n\n所以，$\\lambda(Y) = 1/4$。\n我们要求测度的集合是 $S_2 = \\{x \\in (1/4, 1/2) \\mid T(x) \\in Y\\}$。\n我们将在 $(1/4, 1/2)$ 上的映射称为 $T_B(x) = 2x$。我们想要求出 $T_B^{-1}(Y)$ 的测度。\n由于映射 $T_B$ 是线性的，其导数为常数 2，它将区间 $(1/4, 1/2)$ 拉伸到 $(1/2, 1)$。因此，任何子集的原像测度是其像测度的 $1/2$。\n$S_2$ 的测度是：\n$$\\lambda(S_2) = \\lambda(T_B^{-1}(Y)) = \\frac{1}{2} \\lambda(Y) = \\frac{1}{2} \\cdot \\frac{1}{4} = \\frac{1}{8}。$$\n\n因此，在 $[0, 1/2]$ 中于第 $k=2$ 步首次返回的点的集合的测度是 $1/8$。", "answer": "$$\\boxed{\\frac{1}{8}}$$", "id": "1700606"}]}