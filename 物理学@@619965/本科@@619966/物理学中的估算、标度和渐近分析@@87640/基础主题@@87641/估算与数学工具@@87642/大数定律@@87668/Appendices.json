{"hands_on_practices": [{"introduction": "大数定律最直观的应用之一是蒙特卡洛方法，它利用随机抽样来解决确定性问题。这个练习将引导你通过一个模拟思想实验——向一个正方形区域随机投掷“飞镖”——来估算圆周率 $\\pi$。你会发现，随着投掷次数的增加，落入内切圆的飞镖比例如何通过大数定律稳定地趋近于一个与 $\\pi$ 直接相关的数值。[@problem_id:1406798]", "problem": "计算机模拟在一个二维笛卡尔平面上生成一个独立随机点序列 $P_1, P_2, P_3, \\dots$。每个点 $P_i$ 的坐标为 $(X_i, Y_i)$，其中 $X_i$ 和 $Y_i$ 是从区间 $[0, 1]$ 上的均匀分布中抽取的独立随机变量。我们定义区域 $\\mathcal{C}$ 为满足不等式 $(x - 0.5)^2 + (y - 0.5)^2 \\le 0.25$ 的所有点 $(x, y)$ 的集合。\n\n设 $S_n$ 为前 $n$ 个点（$P_1, \\dots, P_n$）中落在区域 $\\mathcal{C}$ 内部或其边界上的点的数量。考虑随机变量 $A_n = 4 \\frac{S_n}{n}$。\n\n确定当 $n \\to \\infty$ 时，随机变量序列 $A_n$ 几乎必然收敛到的值。将您的答案表示为单一的闭式解析表达式。", "solution": "设 $I_{i}$ 为事件 $P_{i}$ 落在 $\\mathcal{C}$ 内的指示函数，即如果 $(X_{i},Y_{i})\\in\\mathcal{C}$，则 $I_{i}=1$；否则 $I_{i}=0$。那么 $S_{n}=\\sum_{i=1}^{n} I_{i}$ 且 $A_{n}=4\\frac{S_{n}}{n}=4\\left(\\frac{1}{n}\\sum_{i=1}^{n} I_{i}\\right)$。\n\n因为 $(X_{i},Y_{i})$ 在 $[0,1]^{2}$ 上是独立同分布的，所以 $I_{i}$ 是独立同分布的伯努利随机变量，其参数为 $p=\\mathbb{P}\\big((X_{1},Y_{1})\\in\\mathcal{C}\\big)$。由于 $\\mathcal{C}$ 是由不等式 $(x-\\tfrac{1}{2})^{2}+(y-\\tfrac{1}{2})^{2}\\le \\tfrac{1}{4}$ 确定的、以 $(\\tfrac{1}{2},\\tfrac{1}{2})$ 为中心、半径为 $r$ 的圆盘，我们有 $r^{2}=\\tfrac{1}{4}$，因此 $r=\\tfrac{1}{2}$。该圆盘完全位于单位正方形 $[0,1]^{2}$ 内，所以\n$$\np=\\frac{\\text{area}(\\mathcal{C})}{\\text{area}([0,1]^{2})}=\\pi r^{2}=\\pi\\left(\\frac{1}{2}\\right)^{2}=\\frac{\\pi}{4}.\n$$\n\n根据强大数定律，由于 $I_{i}$ 是具有有限均值的独立同分布随机变量，我们有\n$$\n\\frac{S_{n}}{n}=\\frac{1}{n}\\sum_{i=1}^{n} I_{i}\\to \\mathbb{E}[I_{1}]=p=\\frac{\\pi}{4}\\quad\\text{几乎必然}.\n$$\n两边乘以 4，可得\n$$\nA_{n}=4\\frac{S_{n}}{n}\\to 4\\cdot\\frac{\\pi}{4}=\\pi\\quad\\text{几乎必然}.\n$$\n因此，当 $n\\to\\infty$ 时，序列 $A_{n}$ 几乎必然收敛到 $\\pi$。", "answer": "$$\\boxed{\\pi}$$", "id": "1406798"}, {"introduction": "大数定律的核心在于，独立同分布随机变量的样本均值会收敛到其期望值。本练习将此概念应用于几何分布，该分布常用于模拟重复试验中首次成功所需的次数。通过分析大量此类“等待时间”的平均值，你将亲手验证并计算出，尽管单次等待时间不可预测，但其长期平均行为却是一个确定的常数。[@problem_id:1957093]", "problem": "设 $X_1, X_2, \\dots$ 是一列独立同分布 (i.i.d.) 的随机变量。每个 $X_i$ 代表在一系列伯努利试验中，获得首次成功所需的试验次数，其中任何一次试验的成功概率为常数 $p$，且 $0 < p < 1$。这意味着每个 $X_i$ 服从几何分布，其概率质量函数为 $P(X_i = k) = (1-p)^{k-1}p$，其中 $k \\in \\{1, 2, 3, \\dots\\}$。\n\n考虑前 $n$ 个变量的样本均值，定义为 $\\bar{X}_n = \\frac{1}{n} \\sum_{i=1}^{n} X_i$。根据概率论中的一个已知结果，当观测次数 $n$ 趋于无穷大时，样本均值 $\\bar{X}_n$ 会几乎必然收敛到一个特定的常数值。\n\n你的任务是确定这个常数值。请用参数 $p$ 的闭式解析表达式表示你的答案。", "solution": "我们已知 $X_{1},X_{2},\\dots$ 是独立同分布的随机变量，服从定义在 $\\{1,2,\\dots\\}$ 上、参数为 $p\\in(0,1)$ 的几何分布，即对 $k\\geq 1$ 有 $P(X_{i}=k)=(1-p)^{k-1}p$。我们需要求当 $n\\to\\infty$ 时，样本均值 $\\bar{X}_{n}=\\frac{1}{n}\\sum_{i=1}^{n}X_{i}$ 的几乎必然极限。\n\n根据强大数定律，如果 $\\{X_{i}\\}$ 独立同分布且 $\\mathbb{E}[|X_{1}|]<\\infty$，那么\n$$\n\\bar{X}_{n}\\xrightarrow{\\text{a.s.}}\\mathbb{E}[X_{1}].\n$$\n因此，我们只需计算 $\\mathbb{E}[X_{1}]$ 并验证其为有限值即可。\n\n使用级数计算期望：\n$$\n\\mathbb{E}[X_{1}]=\\sum_{k=1}^{\\infty}k\\,P(X_{1}=k)=\\sum_{k=1}^{\\infty}k\\,(1-p)^{k-1}p.\n$$\n令 $r=1-p$。由于 $0<p<1$，我们有 $0<r<1$。于是\n$$\n\\mathbb{E}[X_{1}]=p\\sum_{k=1}^{\\infty}k\\,r^{k-1}.\n$$\n使用对于 $|r|<1$ 的已知恒等式：\n$$\n\\sum_{k=1}^{\\infty}k\\,r^{k-1}=\\frac{1}{(1-r)^{2}},\n$$\n该恒等式可通过对几何级数 $\\sum_{k=0}^{\\infty}r^{k}=\\frac{1}{1-r}$ 关于 $r$ 求导得出。因此，\n$$\n\\mathbb{E}[X_{1}]=p\\cdot\\frac{1}{(1-r)^{2}}=p\\cdot\\frac{1}{(1-(1-p))^{2}}=p\\cdot\\frac{1}{p^{2}}=\\frac{1}{p}.\n$$\n由于 $X_{1}\\geq 0$，我们有 $\\mathbb{E}[|X_{1}|]=\\mathbb{E}[X_{1}]=\\frac{1}{p}<\\infty$。因此根据强大数定律，\n$$\n\\bar{X}_{n}\\xrightarrow{\\text{a.s.}}\\mathbb{E}[X_{1}]=\\frac{1}{p}.\n$$\n所以，样本均值的几乎必然极限是常数 $\\frac{1}{p}$。", "answer": "$$\\boxed{\\frac{1}{p}}$$", "id": "1957093"}, {"introduction": "理解一个科学定律的适用边界与其内容本身同样重要。大数定律虽然强大，但它依赖于一个关键假设：随机变量具有有限的期望值。本练习将探讨一个不满足此条件的著名反例——柯西分布，你将看到为何对其样本进行平均并不能使其稳定下来，从而深刻理解大数定律成立的前提条件。[@problem_id:1967315]", "problem": "考虑一个独立同分布 (i.i.d.) 的随机变量序列 $X_1, X_2, \\ldots, X_n, \\ldots$，它们服从标准柯西分布。该分布的概率密度函数 (PDF) 由下式给出：\n$$f(x) = \\frac{1}{\\pi(1+x^2)}, \\quad \\text{for } x \\in (-\\infty, \\infty)$$\n令 $\\bar{X}_n = \\frac{1}{n}\\sum_{i=1}^{n} X_i$ 为前 $n$ 个变量的样本均值。柯西分布的一个显著且不寻常的性质是，对任意整数 $n \\ge 1$，样本均值 $\\bar{X}_n$ 也服从完全相同的标准柯西分布。\n\n在描述样本均值收敛性的弱大数定律 (WLLN) 的背景下，研究那些可能不满足该定律标准条件的分布是很有启发性的。对于上述柯西随机变量序列，计算样本均值偏离原点的距离大于常数 $k$ 的概率的极限值。\n\n具体来说，求极限 $L = \\lim_{n \\to \\infty} P(|\\bar{X}_n| > k)$ 的表达式，其中 $k$ 是一个正实数常数。将您的答案表示为 $k$ 的函数。", "solution": "我们有一个独立同分布的随机变量序列 $X_{1}, X_{2}, \\ldots$，其标准柯西密度为 $f(x) = \\frac{1}{\\pi(1+x^{2})}$。标准柯西分布是指数为1的严格稳定分布，因此对任意整数 $n \\geq 1$，样本均值 $\\bar{X}_{n} = \\frac{1}{n} \\sum_{i=1}^{n} X_{i}$ 与 $X_{1}$ 具有相同的分布，即 $\\bar{X}_{n} \\sim \\text{Cauchy}(0,1)$。因此，对于任意固定的 $k > 0$ 和任意 $n$，\n$$\nP(|\\bar{X}_{n}| > k) = P(|X| > k),\n$$\n其中 $X \\sim \\text{Cauchy}(0,1)$。因此，极限 $L = \\lim_{n \\to \\infty} P(|\\bar{X}_{n}| > k)$ 等于标准柯西分布的这个恒定的尾部概率。\n\n我们使用密度函数计算 $P(|X| > k)$。根据对称性，\n$$\nP(|X| > k) = 2 \\int_{k}^{\\infty} \\frac{1}{\\pi(1+x^{2})} \\, dx.\n$$\n使用反导数 $\\int \\frac{1}{1+x^{2}} \\, dx = \\arctan(x)$ 和极限 $\\lim_{x \\to \\infty} \\arctan(x) = \\frac{\\pi}{2}$，我们得到\n$$\nP(|X| > k) = \\frac{2}{\\pi} \\left[ \\arctan(x) \\right]_{x=k}^{x=\\infty} = \\frac{2}{\\pi} \\left( \\frac{\\pi}{2} - \\arctan(k) \\right) = 1 - \\frac{2}{\\pi} \\arctan(k).\n$$\n因此，\n$$\nL = \\lim_{n \\to \\infty} P(|\\bar{X}_{n}| > k) = 1 - \\frac{2}{\\pi} \\arctan(k).\n$$\n这表明当 $n \\to \\infty$ 时，该概率不收敛于零，从而说明了对于柯西分布，弱大数定律不成立。", "answer": "$$\\boxed{1 - \\frac{2}{\\pi}\\arctan(k)}$$", "id": "1967315"}]}