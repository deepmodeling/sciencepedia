{"hands_on_practices": [{"introduction": "欧拉角的一个核心用途是精确定义一个坐标系相对于另一个坐标系的朝向。本练习提供了一个具体场景——卫星上的机械臂——来实践一项基本技能：使用一组给定的欧拉角，将一个向量从物体坐标系转换到空间坐标系。这项计算是机器人学、航空航天和计算机图形学等领域的基石。[@problem_id:2048204]", "problem": "卫星上的一个机器人操纵器被用来定位一个科学仪器。卫星的主体结构定义了一个固定的“空间坐标系”$S$，其笛卡尔坐标为$(X, Y, Z)$。仪器本身有一个“体坐标系”$B$，其坐标为$(x, y, z)$。初始时，这两个坐标系是完全重合的。\n\n仪器（体坐标系）相对于卫星（空间坐标系）的姿态是通过一系列三次连续旋转实现的，由 3-1-3 欧拉角 $(\\phi, \\theta, \\psi)$ 定义：\n1. 绕空间坐标系的 $Z$ 轴旋转一个角度 $\\phi$。\n2. 绕新的、中间的 $x'$ 轴旋转一个角度 $\\theta$。\n3. 绕最终体坐标系的 $z''$ 轴旋转一个角度 $\\psi$。\n\n一个敏感传感器位于仪器上，其在体坐标系 $B$ 中的位置由向量 $\\vec{v}_B$ 给出，坐标为 $(0, d, 0)$，其中 $d = 4.5$ m。\n\n机器人操纵器将仪器定向到特定的欧拉角 $(\\phi, \\theta, \\psi) = (\\frac{\\pi}{2} \\text{ rad}, \\frac{\\pi}{2} \\text{ rad}, 0 \\text{ rad})$。\n\n确定传感器在空间坐标系 $S$ 中的坐标 $(v_X, v_Y, v_Z)$。答案以米为单位表示。", "solution": "我们要求解传感器向量在空间坐标系中的坐标，已知其体坐标系坐标为 $\\vec{v}_{B} = \\begin{pmatrix}0 \\\\ d \\\\ 0\\end{pmatrix}$ 且 $d=4.5$。对于所描述的 3-1-3 欧拉角序列（绕 $Z$ 轴，然后绕中间的 $x'$ 轴，最后绕最终的 $z''$ 轴），将体坐标系坐标映射到空间坐标系坐标的方向余弦矩阵为\n$$\nC_{SB} = R_{z}(\\phi)\\,R_{x}(\\theta)\\,R_{z}(\\psi),\n$$\n其中，根据右手定则，\n$$\nR_{z}(\\alpha) = \\begin{pmatrix}\n\\cos\\alpha & -\\sin\\alpha & 0\\\\\n\\sin\\alpha & \\cos\\alpha & 0\\\\\n0 & 0 & 1\n\\end{pmatrix},\\qquad\nR_{x}(\\beta) = \\begin{pmatrix}\n1 & 0 & 0\\\\\n0 & \\cos\\beta & -\\sin\\beta\\\\\n0 & \\sin\\beta & \\cos\\beta\n\\end{pmatrix}.\n$$\n当 $(\\phi,\\theta,\\psi)=\\left(\\frac{\\pi}{2},\\frac{\\pi}{2},0\\right)$ 时，我们有\n$$\nR_{z}\\!\\left(\\frac{\\pi}{2}\\right) = \\begin{pmatrix}\n0 & -1 & 0\\\\\n1 & 0 & 0\\\\\n0 & 0 & 1\n\\end{pmatrix},\\quad\nR_{x}\\!\\left(\\frac{\\pi}{2}\\right) = \\begin{pmatrix}\n1 & 0 & 0\\\\\n0 & 0 & -1\\\\\n0 & 1 & 0\n\\end{pmatrix},\\quad\nR_{z}(0) = \\begin{pmatrix}\n1 & 0 & 0\\\\\n0 & 1 & 0\\\\\n0 & 0 & 1\n\\end{pmatrix}.\n$$\n因此，\n$$\nC_{SB} = R_{z}\\!\\left(\\frac{\\pi}{2}\\right) R_{x}\\!\\left(\\frac{\\pi}{2}\\right) R_{z}(0)\n= R_{z}\\!\\left(\\frac{\\pi}{2}\\right) R_{x}\\!\\left(\\frac{\\pi}{2}\\right)\n= \\begin{pmatrix}\n0 & 0 & 1\\\\\n1 & 0 & 0\\\\\n0 & 1 & 0\n\\end{pmatrix}.\n$$\n传感器在空间坐标系中的坐标则为\n$$\n\\vec{v}_{S} = C_{SB}\\,\\vec{v}_{B}\n= \\begin{pmatrix}\n0 & 0 & 1\\\\\n1 & 0 & 0\\\\\n0 & 1 & 0\n\\end{pmatrix}\n\\begin{pmatrix}\n0\\\\ d\\\\ 0\n\\end{pmatrix}\n=\n\\begin{pmatrix}\n0\\\\ 0\\\\ d\n\\end{pmatrix}.\n$$\n代入 $d=4.5$ 米，得到 $(v_{X},v_{Y},v_{Z})=(0,0,4.5)$，单位为米。", "answer": "$$\\boxed{\\begin{pmatrix}0 & 0 & 4.5\\end{pmatrix}}$$", "id": "2048204"}, {"introduction": "三维空间中的有限旋转不满足交换律，这是一个虽不直观但至关重要的概念，意味着旋转的顺序会影响最终结果。本练习通过直接的矩阵计算，而非抽象的理论，来具体地展示这一原理。通过比较两种不同旋转顺序产生的结果，你将切实体会到为何精确指定旋转顺序（如 Z-Y-X 或 Z-Y-Z）是必不可少的。[@problem_id:1509856]", "problem": "在机器人学领域，末端执行器的精确朝向是通过一系列旋转来实现的。最终的朝向严格依赖于这些旋转的应用顺序。\n\n考虑一个场景，其中机器人手臂的末端执行器初始朝向使其局部坐标系 $(x', y', z')$ 与固定的实验室坐标系 $(x, y, z)$ 完全对齐。一个控制系统可以围绕固定的实验室坐标轴执行旋转。绕 $y$ 轴和 $z$ 轴正向（逆时针）旋转角度 $\\theta$ 的标准矩阵由下式给出：\n$$R_y(\\theta) = \\begin{pmatrix} \\cos\\theta & 0 & \\sin\\theta \\\\ 0 & 1 & 0 \\\\ -\\sin\\theta & 0 & \\cos\\theta \\end{pmatrix}$$\n$$R_z(\\theta) = \\begin{pmatrix} \\cos\\theta & -\\sin\\theta & 0 \\\\ \\sin\\theta & \\cos\\theta & 0 \\\\ 0 & 0 & 1 \\end{pmatrix}$$\n\n提出了两种不同的控制程序来重新定向末端执行器：\n\n**程序1**：首先，绕固定的 $z$ 轴旋转角度 $\\alpha$，然后绕固定的 $y$ 轴旋转角度 $\\beta$。得到的总旋转矩阵记为 $R_1$。\n\n**程序2**：首先，绕固定的 $y$ 轴旋转角度 $\\beta$，然后绕固定的 $z$ 轴旋转角度 $\\alpha$。得到的总旋转矩阵记为 $R_2$。\n\n为了量化这两种程序产生的最终朝向之间的差异，定义了一个差分矩阵 $\\Delta R = R_1 - R_2$。确定该差分矩阵中位于第一行和第三列的元素 $(\\Delta R)_{13}$。将您的答案表示为关于 $\\alpha$ 和 $\\beta$ 的符号表达式。", "solution": "我们从给定的关于固定实验室坐标轴的标准旋转矩阵开始：\n$$\nR_{y}(\\theta)=\\begin{pmatrix}\n\\cos\\theta & 0 & \\sin\\theta\\\\\n0 & 1 & 0\\\\\n-\\sin\\theta & 0 & \\cos\\theta\n\\end{pmatrix},\\quad\nR_{z}(\\theta)=\\begin{pmatrix}\n\\cos\\theta & -\\sin\\theta & 0\\\\\n\\sin\\theta & \\cos\\theta & 0\\\\\n0 & 0 & 1\n\\end{pmatrix}.\n$$\n因为旋转是围绕固定（惯性）坐标轴进行的，所以对于连续旋转，总旋转是通过按应用顺序左乘矩阵得到的。因此：\n- 对于程序1（先绕 $z$ 轴旋转 $\\alpha$，再绕 $y$ 轴旋转 $\\beta$），总旋转为\n$$\nR_{1}=R_{y}(\\beta)R_{z}(\\alpha).\n$$\n- 对于程序2（先绕 $y$ 轴旋转 $\\beta$，再绕 $z$ 轴旋转 $\\alpha$），总旋转为\n$$\nR_{2}=R_{z}(\\alpha)R_{y}(\\beta).\n$$\n\n我们计算每个乘积的 $(1,3)$ 项。\n\n对于 $R_{1}=R_{y}(\\beta)R_{z}(\\alpha)$，$R_{y}(\\beta)$ 的第一行是 $\\big(\\cos\\beta,\\;0,\\;\\sin\\beta\\big)$，$R_{z}(\\alpha)$ 的第三列是 $\\big(0,\\;0,\\;1\\big)^{T}$，所以\n$$\n(R_{1})_{13}=\\cos\\beta\\cdot 0+0\\cdot 0+\\sin\\beta\\cdot 1=\\sin\\beta.\n$$\n\n对于 $R_{2}=R_{z}(\\alpha)R_{y}(\\beta)$，$R_{z}(\\alpha)$ 的第一行是 $\\big(\\cos\\alpha,\\;-\\sin\\alpha,\\;0\\big)$，$R_{y}(\\beta)$ 的第三列是 $\\big(\\sin\\beta,\\;0,\\;\\cos\\beta\\big)^{T}$，所以\n$$\n(R_{2})_{13}=\\cos\\alpha\\sin\\beta+(-\\sin\\alpha)\\cdot 0+0\\cdot \\cos\\beta=\\cos\\alpha\\,\\sin\\beta.\n$$\n\n差分矩阵为 $\\Delta R=R_{1}-R_{2}$，因此\n$$\n(\\Delta R)_{13}=(R_{1})_{13}-(R_{2})_{13}=\\sin\\beta-\\cos\\alpha\\,\\sin\\beta=\\sin\\beta\\,(1-\\cos\\alpha).\n$$", "answer": "$$\\boxed{\\sin\\beta\\,(1-\\cos\\alpha)}$$", "id": "1509856"}, {"introduction": "本练习将带我们从运动学（描述运动）跨越到动力学（解释运动原因）。这个高级实践展示了欧拉角如何在强大的拉格朗日力学框架中充当广义坐标。通过使用以欧拉角及其时间导数表示的拉格朗日量，我们可以推导出刚体运动的基本方程——即欧拉动力学方程。[@problem_id:1244187]", "problem": "考虑一个不受力矩作用的非对称刚体，其主转动惯量为 $I_1, I_2, I_3$，对应的主轴为 $(\\hat{e}_1, \\hat{e}_2, \\hat{e}_3)$。体坐标系相对于空间坐标系的取向由 Z-Y-Z 欧拉角 $(\\alpha, \\beta, \\gamma)$ 描述。\n\n该系统的拉格朗日量为纯动能，由下式给出：\n$$\nL = T = \\frac{1}{2} (I_1 \\omega_1^2 + I_2 \\omega_2^2 + I_3 \\omega_3^2)\n$$\n其中 $(\\omega_1, \\omega_2, \\omega_3)$ 是角速度矢量 $\\vec{\\omega}$ 在体坐标系中的分量。这些分量通过以下表达式与欧拉角对时间的导数相关联：\n$$\n\\omega_1 = \\dot{\\alpha} \\sin\\beta \\sin\\gamma + \\dot{\\beta} \\cos\\gamma\n$$\n$$\n\\omega_2 = \\dot{\\alpha} \\sin\\beta \\cos\\gamma - \\dot{\\beta} \\sin\\gamma\n$$\n$$\n\\omega_3 = \\dot{\\alpha} \\cos\\beta + \\dot{\\gamma}\n$$\n\n使用关于广义坐标 $\\gamma$ 的拉格朗日方程，推导量 $I_3 \\dot{\\omega}_3$ 用主转动惯量和角速度分量 $(\\omega_1, \\omega_2)$ 表示的表达式。", "solution": "我们从以体坐标系分量表示的动能开始：\n$$\nL = T = \\frac12\\bigl(I_1\\omega_1^2+I_2\\omega_2^2+I_3\\omega_3^2\\bigr).\n$$\n用 Z–Y–Z 欧拉角 $(\\alpha,\\beta,\\gamma)$ 表示的角速度分量为\n$$\n\\omega_1=\\dot\\alpha\\sin\\beta\\sin\\gamma+\\dot\\beta\\cos\\gamma,\\quad\n\\omega_2=\\dot\\alpha\\sin\\beta\\cos\\gamma-\\dot\\beta\\sin\\gamma,\\quad\n\\omega_3=\\dot\\alpha\\cos\\beta+\\dot\\gamma.\n$$\n1. 计算与 $\\gamma$ 共轭的广义动量：\n$$\n\\frac{\\partial L}{\\partial\\dot\\gamma}\n=I_3\\,\\omega_3\\;\\frac{\\partial\\omega_3}{\\partial\\dot\\gamma}\n=I_3\\,\\omega_3.\n$$\n2. 使用链式法则计算 $L$ 对 $\\gamma$ 的偏导数：\n$$\n\\frac{\\partial L}{\\partial\\gamma}\n=I_1\\,\\omega_1\\frac{\\partial\\omega_1}{\\partial\\gamma}\n+I_2\\,\\omega_2\\frac{\\partial\\omega_2}{\\partial\\gamma}.\n$$\n因为 \n$$\n\\frac{\\partial\\omega_1}{\\partial\\gamma}\n=\\dot\\alpha\\sin\\beta\\cos\\gamma-\\dot\\beta\\sin\\gamma=\\omega_2,\n\\quad\n\\frac{\\partial\\omega_2}{\\partial\\gamma}\n=-\\dot\\alpha\\sin\\beta\\sin\\gamma-\\dot\\beta\\cos\\gamma=-\\omega_1,\n$$\n我们得到\n$$\n\\frac{\\partial L}{\\partial\\gamma}\n=I_1\\,\\omega_1\\,\\omega_2\n+I_2\\,\\omega_2\\,(-\\omega_1)\n=(I_1-I_2)\\,\\omega_1\\omega_2.\n$$\n3. 关于 $\\gamma$ 的欧拉-拉格朗日方程为\n$$\n\\frac{d}{dt}\\frac{\\partial L}{\\partial\\dot\\gamma}\n-\\frac{\\partial L}{\\partial\\gamma}=0,\n$$\n这给出\n$$\n\\frac{d}{dt}(I_3\\,\\omega_3)-(I_1-I_2)\\,\\omega_1\\omega_2=0.\n$$\n注意到 $I_3$ 是常数，\n$$\nI_3\\,\\dot\\omega_3=(I_1-I_2)\\,\\omega_1\\omega_2.\n$$", "answer": "$$\\boxed{(I_1-I_2)\\,\\omega_1\\omega_2}$$", "id": "1244187"}]}