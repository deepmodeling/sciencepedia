{"hands_on_practices": [{"introduction": "沙勒定理的一个优雅之处在于它能够统一描述所有刚体位移。这个练习旨在将一个直观的平面运动——沿着圆弧行进——与螺旋位移的严谨定义联系起来。通过计算潜水器运动的等效螺旋位移，你将能够亲身体会到对于平面运动而言，螺旋轴是如何对应于一个旋转中心的 [@problem_id:2038625]。", "problem": "一个机器人潜水器正在平坦的水平海床上执行勘测任务。该潜水器的运动局限于一个平面内。我们建立一个笛卡尔坐标系 $(x, y, z)$，其原点位于潜水器的起始点，xy平面与海床重合。潜水器从原点 $(0, 0, 0)$ 出发，其航向沿x轴正方向。\n\n接着，它沿着一个标准圆的圆弧行进了总距离 $D$，完成了一个平滑、连续的转弯。这一机动动作使其达到最终姿态，其航向相对于初始航向总共改变了角度 $\\theta$。角度 $\\theta$ 以弧度为单位，并满足 $0 < \\theta < 2\\pi$。\n\n根据刚体运动学中的沙勒定理（Chasles' theorem），这整个位移（从初始状态到最终状态）可以唯一地表示为一个等效的螺旋位移。螺旋位移由一个螺旋轴（空间中的一条直线）、绕该轴旋转的角度 $\\phi_{screw}$ 以及沿同一轴线平移的距离 $d_{screw}$ 所定义。\n\n确定完全描述此螺旋位移的四个量：旋转角 $\\phi_{screw}$、平移距离 $d_{screw}$，以及螺旋轴与xy平面交点的坐标 $(x_0, y_0)$。将你的最终答案表示为由给定参数 $D$ 和 $\\theta$ 构成的四个表达式。", "solution": "潜水器在xy平面上沿一段圆弧运动，总弧长为 $D$，航向变化为 $\\theta$。对于在半径为 $R$、曲率恒定的圆上的运动，弧长与转角之间的基本关系给出\n$$\nD = R\\,\\theta \\quad \\Rightarrow \\quad R = \\frac{D}{\\theta},\n$$\n其中 $0<\\theta<2\\pi$。\n\n从初始位姿到最终位姿的刚体位移可以表示为绕z轴旋转角度 $\\theta$ 的旋转，以及在xy平面内的一个平移 $t$。令 $R_{z}(\\theta)$ 表示绕z轴的旋转矩阵。由于潜水器从原点出发，初始航向沿+x轴，因此圆心（对于逆时针转弯 $\\theta>0$ 的情况）位于\n$$\n(x_{0},y_{0}) = \\left(0, \\frac{D}{\\theta}\\right).\n$$\n令 $C=(0,R,0)$（其中 $R=\\frac{D}{\\theta}$）表示旋转轴（平行于z轴）与xy平面的交点。最终位置 $P_{1}$ 是通过将初始位置 $P_{0}=(0,0,0)$ 绕通过 $C$ 点的轴旋转角度 $\\theta$ 得到的：\n$$\nP_{1} \\;=\\; C \\;+\\; R_{z}(\\theta)\\,(P_{0}-C)\n\\;=\\; \\left(R\\sin\\theta,\\; R(1-\\cos\\theta),\\; 0\\right).\n$$\n因此，该刚体位移可以等效地写为\n$$\nx \\mapsto R_{z}(\\theta)\\,x + t, \n\\quad \\text{其中} \\quad\nt = \\left(R\\sin\\theta,\\; R(1-\\cos\\theta),\\; 0\\right).\n$$\n\n根据沙勒定理（Chasles' theorem），唯一的螺旋表示具有与 $R_{z}(\\theta)$ 的旋转轴相同的轴方向，即单位向量 $s=(0,0,1)$，并且其旋转角等于净旋转角：\n$$\n\\phi_{\\text{screw}} = \\theta.\n$$\n沿轴线的螺旋平移为 $d_{\\text{screw}} = s^{\\top} t$（等效地，螺距 $h = \\frac{s^{\\top}t}{\\theta}$ 且 $d_{\\text{screw}}=h\\phi_{\\text{screw}}$）。由于 $t$ 位于xy平面内，\n$$\nd_{\\text{screw}} = s^{\\top} t = 0.\n$$\n\n为确认轴的位置，我们检验点 $C=(0,R,0)$ 在位移下是否保持不变，当 $d_{\\text{screw}}=0$ 时（即绕通过 $C$ 的轴的纯旋转）：\n$$\nR_{z}(\\theta)\\,C + t\n= \\left(-R\\sin\\theta,\\; R\\cos\\theta,\\; 0\\right) + \\left(R\\sin\\theta,\\; R(1-\\cos\\theta),\\; 0\\right)\n= (0,R,0) = C,\n$$\n因此，通过 $C$ 点且平行于z轴的整条直线都是固定的，故其为螺旋轴。因此，它与xy平面的交点是 $(x_{0},y_{0})=(0,R)=(0,\\frac{D}{\\theta})$。\n\n汇总这四个量，\n$$\n\\phi_{\\text{screw}}=\\theta,\\quad d_{\\text{screw}}=0,\\quad x_{0}=0,\\quad y_{0}=\\frac{D}{\\theta}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix}\\theta & 0 & 0 & \\frac{D}{\\theta}\\end{pmatrix}}$$", "id": "2038625"}, {"introduction": "在掌握了纯旋转运动之后，下一步是处理最普遍的三维刚体运动，即包含旋转和平移的螺旋运动。本练习提供了一个具体的机会，让你从一个给定的欧几里得变换（由旋转矩阵 $\\mathbf{R}$ 和平移向量 $\\mathbf{t}$ 定义）中提取出关键的螺旋参数。计算螺旋运动的“螺距”（pitch），是理解旋转与平移如何耦合的核心技能 [@problem_id:2038579]。", "problem": "一个自动香料研磨机正在机器人实验室中进行测试。其运动在一个固定的笛卡尔坐标系中被追踪。在一次特定的研磨操作中，该研磨机（可被建模为刚体）发生了一次位移。研磨机上任意一点的最终位置 $\\mathbf{x}'$ 与其初始位置 $\\mathbf{x}$ 通过欧几里得变换 $\\mathbf{x}' = \\mathbf{R}\\mathbf{x} + \\mathbf{t}$ 相关联。旋转矩阵 $\\mathbf{R}$ 和平移向量 $\\mathbf{t}$（相对于坐标系原点）被确定为：\n$$ \\mathbf{R} = \\begin{pmatrix} 0 & 0 & 1 \\\\ 1 & 0 & 0 \\\\ 0 & 1 & 0 \\end{pmatrix}, \\quad \\mathbf{t} = \\begin{pmatrix} 3 \\\\ 5 \\\\ 1 \\end{pmatrix} \\text{ m} $$\n根据 Chasles 定理，任何一般的刚体位移都可以唯一地描述为一个螺旋运动。该运动包含绕空间中一特定轴（螺旋轴）的旋转，以及同时发生的平行于该轴的平移。螺旋运动的螺距是一个特征长度，它关联了运动的这两个分量。\n\n计算与此位移相对应的螺旋运动的螺距。用解析表达式表示你的答案，单位为米。", "solution": "我们给定一个刚体位移 $\\mathbf{x}'=\\mathbf{R}\\mathbf{x}+\\mathbf{t}$，其中\n$$\n\\mathbf{R}=\\begin{pmatrix}0&0&1\\\\ 1&0&0\\\\ 0&1&0\\end{pmatrix},\\quad \\mathbf{t}=\\begin{pmatrix}3\\\\ 5\\\\ 1\\end{pmatrix}.\n$$\n根据 Chasles 定理，存在一个单位轴 $\\mathbf{n}$、一个旋转角 $\\theta$、螺旋轴上的一点 $\\mathbf{p}$ 和一个轴向平移量 $d$，使得\n$$\n\\mathbf{R}=\\exp\\!\\big(\\theta[\\mathbf{n}]_{\\times}\\big),\\qquad \\mathbf{t}=(\\mathbf{I}-\\mathbf{R})\\mathbf{p}+d\\,\\mathbf{n}.\n$$\n与 $\\mathbf{n}$ 作点积，并利用 $\\mathbf{R}^{T}\\mathbf{n}=\\mathbf{n}$（轴不变性），可得\n$$\n\\mathbf{n}\\cdot\\mathbf{t}=\\mathbf{n}\\cdot(\\mathbf{I}-\\mathbf{R})\\mathbf{p}+d\\,\\mathbf{n}\\cdot\\mathbf{n}=0+d=d.\n$$\n因此沿轴的平移量为 $d=\\mathbf{n}\\cdot\\mathbf{t}$，螺旋螺距为\n$$\nh=\\frac{d}{\\theta}=\\frac{\\mathbf{n}\\cdot\\mathbf{t}}{\\theta}.\n$$\n我们现在从 $\\mathbf{R}$ 确定 $\\theta$ 和 $\\mathbf{n}$。对于一个正常旋转，角度满足\n$$\n\\operatorname{tr}(\\mathbf{R})=1+2\\cos\\theta.\n$$\n这里 $\\operatorname{tr}(\\mathbf{R})=0$，所以\n$$\n0=1+2\\cos\\theta\\;\\Rightarrow\\;\\cos\\theta=-\\frac{1}{2}\\;\\Rightarrow\\;\\theta=\\frac{2\\pi}{3}.\n$$\n旋转轴方向是 $(\\mathbf{R}-\\mathbf{I})\\mathbf{n}=\\mathbf{0}$ 的解。令 $\\mathbf{n}=(a,b,c)^{T}$。则\n$$\n\\begin{pmatrix}-1&0&1\\\\ 1&-1&0\\\\ 0&1&-1\\end{pmatrix}\\begin{pmatrix}a\\\\ b\\\\ c\\end{pmatrix}=\\begin{pmatrix}0\\\\ 0\\\\ 0\\end{pmatrix}\n\\;\\Rightarrow\\; -a+c=0,\\; a-b=0,\\; b-c=0,\n$$\n可得出 $a=b=c$。归一化后得到单位轴\n$$\n\\mathbf{n}=\\frac{1}{\\sqrt{3}}\\begin{pmatrix}1\\\\ 1\\\\ 1\\end{pmatrix}.\n$$\n因此\n$$\nd=\\mathbf{n}\\cdot\\mathbf{t}=\\frac{1}{\\sqrt{3}}(3+5+1)=\\frac{9}{\\sqrt{3}}=3\\sqrt{3}.\n$$\n所以螺距是\n$$\nh=\\frac{d}{\\theta}=\\frac{3\\sqrt{3}}{2\\pi/3}=\\frac{9\\sqrt{3}}{2\\pi}.\n$$\n其单位为米，因为 $\\theta$ 是以弧度为单位的无量纲量。", "answer": "$$\\boxed{\\frac{9\\sqrt{3}}{2\\pi}}$$", "id": "2038579"}, {"introduction": "沙勒定理在机器人学和机械系统分析中具有重要的应用价值。这个练习将带你分析一个更实际的工程系统——一个2R平面机械臂。通过此题，你将看到如何运用该定理，将机械臂末端连杆看似复杂的复合运动，简化为一个围绕单一旋转中心的等效旋转，这对于运动规划和控制至关重要 [@problem_id:2038613]。", "problem": "一个平面二自由度（2R）机械臂被用于自动化装配线。该机械臂由两个刚性连杆（连杆1和连杆2）组成，其长度分别为 $L_1$ 和 $L_2$ 。连杆1的基座枢接于笛卡尔坐标系 $(x, y)$ 的原点 $(0, 0)$。连杆1的朝向由其与x轴正方向所成的角度 $\\theta_1$ 描述。连杆2连接在连杆1的末端，其朝向由它与连杆1的有向直线所成的相对角度 $\\theta_2$ 描述。\n\n该机械臂的初始位形对应的关节角为 $\\theta_{1,i} = \\frac{\\pi}{4}$ 弧度和 $\\theta_{2,i} = \\frac{\\pi}{2}$ 弧度。随后它进行一次运动，关节角的变化量为 $\\Delta\\theta_1 = \\frac{\\pi}{4}$ 弧度和 $\\Delta\\theta_2 = -\\frac{\\pi}{3}$ 弧度。连杆的长度为 $L_1 = 5.0$ 单位和 $L_2 = 3.0$ 单位。\n\n任何平面刚体运动都可以描述为围绕平面中一个唯一点（称为旋转中心）的等效单次旋转（除非该运动是纯平移）。确定连杆2运动的旋转中心坐标 $(x_c, y_c)$ 和总旋转角 $\\phi$。\n\n将 $x_c$、$y_c$ 和 $\\phi$ 的数值答案分别以单位和弧度表示，并四舍五入到四位有效数字。角度 $\\phi$ 的答案应在区间 $(-\\pi, \\pi]$ 内。", "solution": "设关节角的变化量为 $\\Delta\\theta_{1}$ 和 $\\Delta\\theta_{2}$。连杆2的绝对朝向为 $\\alpha = \\theta_{1} + \\theta_{2}$，因此连杆2作为一个刚体所经历的总旋转为\n$$\n\\phi = \\alpha_{f} - \\alpha_{i} = (\\theta_{1,i} + \\Delta\\theta_{1} + \\theta_{2,i} + \\Delta\\theta_{2}) - (\\theta_{1,i} + \\theta_{2,i}) = \\Delta\\theta_{1} + \\Delta\\theta_{2}.\n$$\n根据给定值 $\\Delta\\theta_{1} = \\frac{\\pi}{4}$ 和 $\\Delta\\theta_{2} = -\\frac{\\pi}{3}$，因此\n$$\n\\phi = \\frac{\\pi}{4} - \\frac{\\pi}{3} = -\\frac{\\pi}{12}.\n$$\n\n为了找到旋转中心 $(x_{c},y_{c})$，使用刚性旋转关系\n$$\nR(\\phi)\\,(P_{i} - C) + C = P_{f},\n$$\n其中 $C=(x_{c},y_{c})^{T}$，$P_{i}$ 和 $P_{f}$ 是刚性附着于连杆2上任意一点的初始和末位置坐标，$R(\\phi)$ 是 $2\\times 2$ 旋转矩阵。整理后可得，\n$$\n(I - R(\\phi))\\,C = P_{f} - R(\\phi)\\,P_{i}, \\quad C = (I - R(\\phi))^{-1}\\left(P_{f} - R(\\phi)\\,P_{i}\\right),\n$$\n该式在 $\\phi \\neq 0$ 时有效。\n\n选择肘点（连杆之间的关节）作为点 $P$。其初始和末位置为\n$$\nE_{i} = \\begin{pmatrix} L_{1}\\cos\\theta_{1,i} \\\\ L_{1}\\sin\\theta_{1,i} \\end{pmatrix}\n= \\begin{pmatrix} 5\\cos\\frac{\\pi}{4} \\\\ 5\\sin\\frac{\\pi}{4} \\end{pmatrix},\n\\quad\nE_{f} = \\begin{pmatrix} L_{1}\\cos(\\theta_{1,i}+\\Delta\\theta_{1}) \\\\ L_{1}\\sin(\\theta_{1,i}+\\Delta\\theta_{1}) \\end{pmatrix}\n= \\begin{pmatrix} 5\\cos\\frac{\\pi}{2} \\\\ 5\\sin\\frac{\\pi}{2} \\end{pmatrix}\n= \\begin{pmatrix} 0 \\\\ 5 \\end{pmatrix}.\n$$\n对于 $\\phi = -\\frac{\\pi}{12}$，记 $c_{0} = \\cos\\frac{\\pi}{12}$ 和 $s_{0} = \\sin\\frac{\\pi}{12}$。则\n$$\nR(\\phi) = \\begin{pmatrix} \\cos\\phi & -\\sin\\phi \\\\ \\sin\\phi & \\cos\\phi \\end{pmatrix}\n= \\begin{pmatrix} c_{0} & s_{0} \\\\ -s_{0} & c_{0} \\end{pmatrix},\n\\quad\nI - R(\\phi) = \\begin{pmatrix} 1 - c_{0} & -s_{0} \\\\ s_{0} & 1 - c_{0} \\end{pmatrix}.\n$$\n计算\n$$\nb := P_{f} - R(\\phi) P_{i} = E_{f} - R(\\phi) E_{i}.\n$$\n由 $E_{i} = \\left( \\frac{5}{\\sqrt{2}}, \\frac{5}{\\sqrt{2}} \\right)^{T}$，可得\n$$\nR(\\phi)E_{i} = \\frac{5}{\\sqrt{2}}\\begin{pmatrix} c_{0} + s_{0} \\\\ c_{0} - s_{0} \\end{pmatrix},\n\\quad\nb = \\begin{pmatrix} -\\frac{5}{\\sqrt{2}}(c_{0}+s_{0}) \\\\ 5 - \\frac{5}{\\sqrt{2}}(c_{0}-s_{0}) \\end{pmatrix}.\n$$\n使用 $c_{0} = \\frac{\\sqrt{6}+\\sqrt{2}}{4}$ 和 $s_{0} = \\frac{\\sqrt{6}-\\sqrt{2}}{4}$，化简\n$$\nc_{0}+s_{0} = \\frac{\\sqrt{6}}{2}, \\quad c_{0}-s_{0} = \\frac{\\sqrt{2}}{2},\n$$\n所以\n$$\nb = \\begin{pmatrix} -\\frac{5\\sqrt{3}}{2} \\\\ \\frac{5}{2} \\end{pmatrix}.\n$$\n$I - R(\\phi)$ 的行列式是\n$$\n\\det(I - R(\\phi)) = (1 - c_{0})^{2} + s_{0}^{2} = 2 - 2c_{0} = \\frac{4 - \\sqrt{6} - \\sqrt{2}}{2}.\n$$\n其逆矩阵为\n$$\n(I - R)^{-1} = \\frac{1}{\\det}\\begin{pmatrix} 1 - c_{0} & s_{0} \\\\ -s_{0} & 1 - c_{0} \\end{pmatrix}.\n$$\n因此\n$$\n\\begin{pmatrix} x_{c} \\\\ y_{c} \\end{pmatrix}\n= \\frac{1}{\\det} \\begin{pmatrix} (1 - c_{0}) b_{x} + s_{0} b_{y} \\\\ -s_{0} b_{x} + (1 - c_{0}) b_{y} \\end{pmatrix}.\n$$\n代入 $b_{x} = -\\frac{5\\sqrt{3}}{2}$、$b_{y} = \\frac{5}{2}$、$1 - c_{0} = \\frac{4 - \\sqrt{6} - \\sqrt{2}}{4}$ 和 $s_{0} = \\frac{\\sqrt{6} - \\sqrt{2}}{4}$，得到精确形式\n$$\nx_{c} = \\frac{ \\frac{5}{4}\\left( -2\\sqrt{3} + \\sqrt{2} + \\sqrt{6} \\right) }{ \\frac{4 - \\sqrt{6} - \\sqrt{2}}{2} }\n= \\frac{5}{2}\\cdot \\frac{ -2\\sqrt{3} + \\sqrt{2} + \\sqrt{6} }{ 4 - \\sqrt{6} - \\sqrt{2} },\n$$\n$$\ny_{c} = \\frac{ \\frac{5}{4}\\left( 2 + \\sqrt{2} - \\sqrt{6} \\right) }{ \\frac{4 - \\sqrt{6} - \\sqrt{2}}{2} }\n= \\frac{5}{2}\\cdot \\frac{ 2 + \\sqrt{2} - \\sqrt{6} }{ 4 - \\sqrt{6} - \\sqrt{2} }.\n$$\n进行数值计算并四舍五入到四位有效数字，得到\n$$\nx_{c} \\approx 7.330, \\quad y_{c} \\approx 17.70, \\quad \\phi = -\\frac{\\pi}{12} \\approx -0.2618.\n$$\n这些值满足对 $\\phi$ 的要求，即在区间 $(-\\pi, \\pi]$ 内。", "answer": "$$\\boxed{\\begin{pmatrix} 7.330 & 17.70 & -0.2618 \\end{pmatrix}}$$", "id": "2038613"}]}