{"hands_on_practices": [{"introduction": "在深入研究物理系统之前，首先从数学上牢固掌握完整约束的定义至关重要。一个约束是否是完整的，取决于描述它的微分方程是否可以被积分，从而得到一个只与坐标相关的代数方程。本练习将让你在一个已知是完整的普法夫微分约束 (Pfaffian differential constraint) 上应用可积性条件 (integrability condition)，通过求解一个微分方程来确定其中的未知函数。这是区分完整与非完整约束的核心数学技能 [@problem_id:1241333]。", "problem": "在经典力学中，一个粒子在三维位形空间（坐标为 $(x, y, z)$）中的运动约束有时可以表示为普法夫（Pfaffian）微分形式：$P(x,y,z) dx + Q(x,y,z) dy + R(x,y,z) dz = 0$。如果此微分表达式是可积的，则该约束被称为*完整约束*。这意味着存在一个函数 $F(x, y, z)$，使得该约束可以写成坐标之间的关系式：$F(x, y, z) = \\text{常数}$。对于一个形式为 $dz = A(x,y) dx + B(x,y) dy$ 的约束，这等价于微分式 $A(x,y) dx + B(x,y) dy$ 是某个函数 $z(x,y)$ 的全微分。\n\n考虑一个粒子，其运动受到普法夫（Pfaffian）微分约束\n$$dz = \\frac{y}{x} dx + f(x,y) dy$$\n的限制，其中粒子被限制在区域 $x > 0$ 内。已知此约束是完整约束。此外，描述该约束的曲面 $z=z(x,y)$ 满足以下条件：在 $x=1$ 处，其高度由 $z(1,y) = C \\sin(y)$ 给出，其中 $C$ 是一个给定的常数。\n\n求满足这些条件的函数 $f(x,y)$。", "solution": "给定的约束由普法夫（Pfaffian）微分形式定义：\n$$dz = \\frac{y}{x} dx + f(x,y) dy$$\n这可以写成 $A(x,y) dx + B(x,y) dy - dz = 0$，其中 $A(x,y) = \\frac{y}{x}$ 且 $B(x,y) = f(x,y)$。\n\n形式为 $dz = A(x,y) dx + B(x,y) dy$ 的约束是完整约束，当且仅当等式右侧的微分式是全微分。表达式 $A(x,y) dx + B(x,y) dy$ 为全微分的条件是其混合偏导数相等，这通常被称为可积性条件：\n$$\n\\frac{\\partial A}{\\partial y} = \\frac{\\partial B}{\\partial x}\n$$\n首先，我们确定函数 $A(x,y)$ 和 $B(x,y)$：\n$$\nA(x,y) = \\frac{y}{x}\n$$\n$$\nB(x,y) = f(x,y)\n$$\n接下来，我们计算 $A$ 对 $y$ 的偏导数：\n$$\n\\frac{\\partial A}{\\partial y} = \\frac{\\partial}{\\partial y} \\left(\\frac{y}{x}\\right) = \\frac{1}{x}\n$$\n$B$ 对 $x$ 的偏导数是：\n$$\n\\frac{\\partial B}{\\partial x} = \\frac{\\partial}{\\partial x} f(x,y) = \\frac{\\partial f}{\\partial x}\n$$\n应用可积性条件，我们得到一个关于 $f(x,y)$ 的偏微分方程：\n$$\n\\frac{\\partial f}{\\partial x} = \\frac{1}{x}\n$$\n为了求出 $f(x,y)$，我们将此方程对 $x$ 进行积分，并将 $y$ 视为常数。积分“常数”可以是一个关于 $y$ 的任意函数，我们称之为 $g(y)$。\n$$\nf(x,y) = \\int \\frac{1}{x} dx = \\ln(x) + g(y)\n$$\n因为题目说明 $x > 0$，所以我们使用 $\\ln(x)$ 而不是 $\\ln|x|$。\n\n现在，我们必须使用约束曲面 $z=z(x,y)$ 上的边界条件来确定函数 $g(y)$。约束方程现在是：\n$$\ndz = \\frac{y}{x} dx + (\\ln(x) + g(y)) dy\n$$\n由于这是一个全微分，存在一个函数 $z(x,y)$ 使得：\n$$\n\\frac{\\partial z}{\\partial x} = \\frac{y}{x} \\quad \\text{且} \\quad \\frac{\\partial z}{\\partial y} = \\ln(x) + g(y)\n$$\n我们可以通过将第一个方程对 $x$ 积分来求得 $z(x,y)$：\n$$\nz(x,y) = \\int \\frac{y}{x} dx = y \\ln(x) + h(y)\n$$\n这里，$h(y)$ 是另一个关于 $y$ 的任意函数，充当积分常数。为了将 $h(y)$ 与 $g(y)$ 联系起来，我们将 $z(x,y)$ 的表达式对 $y$ 求导，并将其与关于 $\\frac{\\partial z}{\\partial y}$ 的第二个方程进行比较：\n$$\n\\frac{\\partial z}{\\partial y} = \\frac{\\partial}{\\partial y} (y \\ln(x) + h(y)) = \\ln(x) + h'(y)\n$$\n将其与 $\\frac{\\partial z}{\\partial y} = \\ln(x) + g(y)$ 比较，我们发现关系为：\n$$\ng(y) = h'(y)\n$$\n现在我们应用给定的条件：$z(1,y) = C \\sin(y)$。使用我们得到的 $z(x,y)$ 表达式：\n$$\nz(1,y) = y \\ln(1) + h(y) = y \\cdot 0 + h(y) = h(y)\n$$\n因此，我们必须有：\n$$\nh(y) = C \\sin(y)\n$$\n现在我们可以通过对 $h(y)$ 求导来找到 $g(y)$：\n$$\ng(y) = h'(y) = \\frac{d}{dy}(C \\sin(y)) = C \\cos(y)\n$$\n最后，我们将 $g(y)$ 的这个表达式代回到我们关于 $f(x,y)$ 的方程中：\n$$\nf(x,y) = \\ln(x) + g(y) = \\ln(x) + C \\cos(y)\n$$\n这就是所求的函数 $f(x,y)$。", "answer": "$$\n\\boxed{\\ln(x) + C \\cos(y)}\n$$", "id": "1241333"}, {"introduction": "理解了完整约束的数学基础后，让我们来看一个物理实例，其中约束条件在运动过程中发生了改变。这个经典的单摆与钉子碰撞问题 [@problem_id:2195743] 完美地展示了当一个完整约束（摆长是固定的）突然转变为另一个完整约束（新的、较短的摆长）时会发生什么。通过计算摆线张力的突变，你可以亲身体会到约束的改变如何直接影响系统的动力学行为。", "problem": "一个单摆由一个质量为 $m$ 的摆锤和一根长度为 $L$ 的无质量、不可伸长的细绳构成，摆锤连接在细绳的一端。细绳的另一端固定在一个无摩擦的支点 $O$ 上。一个小而固定的水平钉子 $P$ 被放置在支点正下方，与 $O$ 点的距离为 $d$，其中 $d < L$。将摆锤拉到一侧，使细绳绷紧并与竖直向下方向成初始角 $\\theta_0$。摆锤从该位置由静止释放。\n\n摆锤沿着半径为 $L$ 的圆弧向下摆动。在其轨迹的最低点，细绳与钉子接触。在随后的向上摆动过程中，此时变短的细绳将钉子作为新的支点并缠绕其上。\n\n计算比值 $\\frac{T_{after}}{T_{before}}$，其中 $T_{before}$ 是摆锤到达其最低点前一瞬间绳中的张力，而 $T_{after}$ 是摆锤经过其最低点后一瞬间绳中的张力。请用 $L$、$d$ 和 $\\theta_0$ 表示你的答案，形式为一个单一的闭式解析表达式。", "solution": "让我们将问题分解为几个步骤。首先，我们将使用能量守恒原理来确定摆锤在最低点的速度。然后，我们将应用适用于圆周运动的牛顿第二定律来计算绳子在与钉子作用前后瞬间的张力。最后，我们将计算所需的比值。\n\n**步骤1：求摆锤在最低点的速度**\n\n设摆锤在其摆动最低点（支点 $O$ 下方竖直距离 $L$ 处）的势能为零。当摆从与竖直方向成角 $\\theta_0$ 的位置静止释放时，摆锤位于此零势能平面上方 $h$ 的竖直高度处。这个高度可以用三角函数求得：$h = L - L\\cos\\theta_0 = L(1-\\cos\\theta_0)$。\n\n系统的初始机械能 $E_i$ 完全是势能，因为它从静止释放：\n$$E_i = U_i + K_i = mgh + 0 = mgL(1-\\cos\\theta_0)$$\n当摆锤摆动到最低点时，其高度变为零 ($h=0$)，其势能转化为动能。设摆锤在最低点的速度为 $v_{bot}$。此时的机械能 $E_f$ 完全是动能：\n$$E_f = U_f + K_f = 0 + \\frac{1}{2}mv_{bot}^2$$\n根据机械能守恒原理，$E_i = E_f$：\n$$mgL(1-\\cos\\theta_0) = \\frac{1}{2}mv_{bot}^2$$\n解出 $v_{bot}^2$，我们得到：\n$$v_{bot}^2 = 2gL(1-\\cos\\theta_0)$$\n摆锤的速度在最低点是连续的，所以这个值对于绳子碰到钉子前后的瞬间都有效。\n\n**步骤2：计算张力 $T_{before}$**\n\n在摆锤到达最低点前的一瞬间，它正沿着以支点 $O$ 为圆心、半径为 $R_1 = L$ 的圆周路径运动。在最低点，张力 $T_{before}$ 向上，重力 $mg$ 向下。合力提供了圆周运动所需的向心力。\n在径向方向上应用牛顿第二定律：\n$$\\sum F_r = m a_c$$\n$$T_{before} - mg = m \\frac{v_{bot}^2}{R_1} = m \\frac{v_{bot}^2}{L}$$\n解出 $T_{before}$：\n$$T_{before} = mg + \\frac{m v_{bot}^2}{L}$$\n代入步骤1中 $v_{bot}^2$ 的表达式：\n$$T_{before} = mg + \\frac{m}{L} \\left( 2gL(1-\\cos\\theta_0) \\right) = mg + 2mg(1-\\cos\\theta_0)$$\n$$T_{before} = mg(1 + 2 - 2\\cos\\theta_0) = mg(3-2\\cos\\theta_0)$$\n\n**步骤3：计算张力 $T_{after}$**\n\n在摆锤经过最低点后的一瞬间，绳子正绕上钉子 $P$。有效支点已变为 $P$，新的圆周路径半径为 $R_2 = L-d$。摆锤的速度仍然是 $v_{bot}$。\n受力情况相同（张力 $T_{after}$ 向上，重力 $mg$ 向下），但向心加速度现在由新的半径 $R_2$ 决定。\n再次应用牛顿第二定律：\n$$T_{after} - mg = m \\frac{v_{bot}^2}{R_2} = m \\frac{v_{bot}^2}{L-d}$$\n解出 $T_{after}$：\n$$T_{after} = mg + \\frac{m v_{bot}^2}{L-d}$$\n代入 $v_{bot}^2$ 的表达式：\n$$T_{after} = mg + \\frac{m}{L-d} \\left( 2gL(1-\\cos\\theta_0) \\right) = mg \\left( 1 + \\frac{2L(1-\\cos\\theta_0)}{L-d} \\right)$$\n\n**步骤4：计算比值 $\\frac{T_{after}}{T_{before}}$**\n\n现在我们可以计算两个张力的比值：\n$$\\frac{T_{after}}{T_{before}} = \\frac{mg \\left( 1 + \\frac{2L(1-\\cos\\theta_0)}{L-d} \\right)}{mg(3-2\\cos\\theta_0)}$$\n$mg$ 项被约去：\n$$\\frac{T_{after}}{T_{before}} = \\frac{1 + \\frac{2L(1-\\cos\\theta_0)}{L-d}}{3-2\\cos\\theta_0}$$\n为了将其简化为单个分数，我们对分子进行通分：\n$$1 + \\frac{2L(1-\\cos\\theta_0)}{L-d} = \\frac{L-d}{L-d} + \\frac{2L - 2L\\cos\\theta_0}{L-d} = \\frac{L-d+2L-2L\\cos\\theta_0}{L-d} = \\frac{3L-d-2L\\cos\\theta_0}{L-d}$$\n将此结果代回比值表达式中：\n$$\\frac{T_{after}}{T_{before}} = \\frac{\\frac{3L-d-2L\\cos\\theta_0}{L-d}}{3-2\\cos\\theta_0} = \\frac{3L-d-2L\\cos\\theta_0}{(L-d)(3-2\\cos\\theta_0)}$$\n这就是该比值的最终符号表达式。", "answer": "$$\\boxed{\\frac{3L-d-2L\\cos\\theta_0}{(L-d)(3-2\\cos\\theta_0)}}$$", "id": "2195743"}, {"introduction": "与完整约束不同，非完整约束通常以不可积分的速度关系式形式出现，这意味着系统的路径历史会影响其最终状态。Chaplygin 雪橇是研究非完整系统的典范模型，其运动受到冰刀方向的速度限制。通过分析雪橇在特定路径上的运动 [@problem_id:1241444]，你将计算其质心的行进距离，并直观地理解非完整约束如何导致有趣的和乐 (holonomy) 现象。", "problem": "恰普雷金雪橇（Chaplygin sleigh）是一个带有“冰刀”的平面刚体。此冰刀约束了刚体上一个特定接触点 P 的运动。该约束规定，点 P 的速度必须与一个固定在刚体内的特定方向对齐，这个方向被称为雪橇轴线。设 $(x_p, y_p)$ 为接触点 P 在一个固定参考系中的笛卡尔坐标，$\\theta$ 为雪橇轴线相对于该固定参考系 x 轴的角度。该运动学约束由以下非完整约束方程表示：\n$$\n\\dot{y}_p \\cos\\theta - \\dot{x}_p \\sin\\theta = 0\n$$\n\n雪橇的质心 (CM) 位于距接触点 P 距离为 $L$ 的位置。从质心指向点 P 的矢量始终与雪橇轴线对齐。\n\n接触点 P 被驱动沿一个以原点为中心、半径为 $D$ 的圆形路径运动。它从点 $(D, 0)$ 开始，并以逆时针方向运动。\n\n当接触点 P 绕圆周完成一整圈运动时，推导质心所经过的总路程的闭合形式表达式。", "solution": "我们用半径为 $D$ 的圆上的极角 $\\phi(t)$ 来参数化 P 的运动：\n$$x_p=D\\cos\\phi,\\quad y_p=D\\sin\\phi.$$\n速度约束\n$$\\dot y_p\\cos\\theta-\\dot x_p\\sin\\theta=0$$\n意味着雪橇轴线与圆的切线对齐。由于\n$$(\\dot x_p,\\dot y_p)=(-D\\dot\\phi\\sin\\phi,\\;D\\dot\\phi\\cos\\phi),$$\n运动方向为 $\\phi+\\pi/2$，因此\n$$\\theta=\\phi+\\frac\\pi2.$$\n质心位于 P 点后方沿轴线距离 $L$ 处，所以\n$$x_{\\rm cm}=x_p-L\\cos\\theta\n=D\\cos\\phi-L\\cos\\bigl(\\phi+\\tfrac\\pi2\\bigr)\n=D\\cos\\phi+L\\sin\\phi,$$\n$$y_{\\rm cm}=y_p-L\\sin\\theta\n=D\\sin\\phi-L\\sin\\bigl(\\phi+\\tfrac\\pi2\\bigr)\n=D\\sin\\phi-L\\cos\\phi.$$\n对 $\\phi$ 求导：\n$$\\frac{dx_{\\rm cm}}{d\\phi}=-D\\sin\\phi+L\\cos\\phi,\\quad\n\\frac{dy_{\\rm cm}}{d\\phi}=D\\cos\\phi+L\\sin\\phi.$$\n因此，路径长度的被积函数是\n$$\\sqrt{\\bigl(\\tfrac{dx_{\\rm cm}}{d\\phi}\\bigr)^2+\\bigl(\\tfrac{dy_{\\rm cm}}{d\\phi}\\bigr)^2}\n=\\sqrt{D^2+L^2}.$$\n从 $\\phi=0$ 到 $2\\pi$ 积分，得到总路程\n$$S=\\int_0^{2\\pi}\\sqrt{D^2+L^2}\\,d\\phi=2\\pi\\sqrt{D^2+L^2}.$$", "answer": "$$\\boxed{2\\pi\\sqrt{D^2+L^2}}$$", "id": "1241444"}]}