{"hands_on_practices": [{"introduction": "理解并量化镜头畸变是光学领域的一项基本技能。第一个练习将让你应用常见的三阶多项式模型，在一个涉及虚拟现实（VR）头显的简化而实际的场景中，计算枕形畸变的百分比。通过这个练习，你将掌握将理论模型应用于实际问题的基本方法。 [@problem_id:2227399]", "problem": "一位软件工程师正在为一款新型虚拟现实（VR）头戴设备设计一种预校正算法。该头戴设备中使用的简单单片透镜会引入显著的光学畸变。对于一个理想情况下应在距视场中心（光轴）的径向距离 $y_i$ 处成像的点，由于枕形畸变，其实际感知到的径向距离 $y_a$ 会更大。这种效应可以通过三阶畸变模型很好地近似：\n\n$$y_a = y_i + C y_i^3$$\n\n其中 $C$ 是一个正常数，表征了特定透镜的畸变严重程度。\n\n对于这款VR头戴设备中的透镜，其畸变系数为 $C = 2.5 \\text{ m}^{-2}$。工程师考虑渲染到内部显示器上的图像上的一个测试点。该点的位置使得，在一个完美的无畸变系统中，它将被感知为距离光轴 $y_i = 8.0 \\text{ cm}$。\n\n计算这个测试点的百分比畸变。百分比畸变定义为位移 $(\\Delta y = y_a - y_i)$ 与理想位置 $y_i$ 的比值。将你的最终答案表示为保留三位有效数字的小数。", "solution": "从枕形畸变的三阶畸变模型开始：\n$$y_{a} = y_{i} + C y_{i}^{3}$$\n径向位移定义为\n$$\\Delta y = y_{a} - y_{i} = C y_{i}^{3}$$\n因此，百分比畸变（定义为位移与理想位置的比值）为\n$$\\frac{\\Delta y}{y_{i}} = \\frac{C y_{i}^{3}}{y_{i}} = C y_{i}^{2}$$\n代入给定值，并使用一致的国际单位制（SI）单位。已知 $C = 2.5\\ \\text{m}^{-2}$ 且 $y_{i} = 8.0\\ \\text{cm} = 8.0 \\times 10^{-2}\\ \\text{m}$，我们有\n$$\\frac{\\Delta y}{y_{i}} = \\left(2.5\\ \\text{m}^{-2}\\right)\\left(8.0 \\times 10^{-2}\\ \\text{m}\\right)^{2}$$\n计算平方并化简，注意单位会消去，得到一个无量纲的量：\n$$\\frac{\\Delta y}{y_{i}} = 2.5 \\times 8.0^{2} \\times 10^{-4} = 2.5 \\times 64.0 \\times 10^{-4} = 160.0 \\times 10^{-4} = 1.600 \\times 10^{-2}$$\n表示为保留三位有效数字的小数，结果是\n$$0.0160$$", "answer": "$$\\boxed{0.0160}$$", "id": "2227399"}, {"introduction": "畸变并非总是需要消除的误差；它常常是为了实现特定功能（如广角成像）而有意为之的设计。本练习要求你比较一个“理想”的直线投影镜头和一个为等立体角投影设计的广角镜头，并计算两者之间的相对畸变。这将加深你对不同镜头投影模型如何与我们所感知的“畸变”相关联的理解。 [@problem_id:2227350]", "problem": "一个光学工程团队正在对一款定制的广角镜头进行特性分析，该镜头专为自动驾驶汽车的环境感知套件而设计。对于处理直线的理想导航软件，镜头应具有直线投影。在这种投影中，物场中与光轴成 $\\theta$ 角的一点，根据公式 $y'_{ideal} = f \\tan(\\theta)$ 映射到图像传感器上高度为 $y'_{ideal}$ 的位置，其中 $f$ 是镜头的有效焦距。\n\n然而，为了实现极宽的视场，该定制镜头设计为等立体角投影。这种投影将同一点物点根据公式 $y'_{actual} = 2f \\sin(\\frac{\\theta}{2})$ 映射到传感器上高度为 $y'_{actual}$ 的位置。\n\n光学畸变是衡量与理想直线投影偏差的指标。它由相对畸变因子 $D$ 来量化，定义为 $D = \\frac{y'_{actual} - y'_{ideal}}{y'_{ideal}}$。$D$ 的负值表示桶形畸变，此时物方空间中的直线在图像中会呈现为向外弯曲。\n\n计算该定制镜头在视场角为 $\\theta = \\frac{2\\pi}{5}$ 弧度时的相对畸变因子 $D$ 的数值。将最终答案四舍五入至四位有效数字。", "solution": "理想的直线投影将视场角 $\\theta$ 映射到图像高度 $y'_{ideal} = f \\tan(\\theta)$，而等立体角投影将其映射到 $y'_{actual} = 2 f \\sin\\!\\left(\\frac{\\theta}{2}\\right)$。相对畸变因子定义为\n$$\nD = \\frac{y'_{actual} - y'_{ideal}}{y'_{ideal}}\n$$\n代入给定的图像高度，\n$$\nD = \\frac{2 f \\sin\\!\\left(\\frac{\\theta}{2}\\right) - f \\tan(\\theta)}{f \\tan(\\theta)} = \\frac{2 \\sin\\!\\left(\\frac{\\theta}{2}\\right)}{\\tan(\\theta)} - 1\n$$\n使用 $\\tan(\\theta) = \\frac{\\sin(\\theta)}{\\cos(\\theta)}$ 和 $\\sin(\\theta) = 2 \\sin\\!\\left(\\frac{\\theta}{2}\\right)\\cos\\!\\left(\\frac{\\theta}{2}\\right)$ 来简化该比率：\n$$\n\\frac{2 \\sin\\!\\left(\\frac{\\theta}{2}\\right)}{\\tan(\\theta)} = 2 \\sin\\!\\left(\\frac{\\theta}{2}\\right) \\cdot \\frac{\\cos(\\theta)}{\\sin(\\theta)} = 2 \\sin\\!\\left(\\frac{\\theta}{2}\\right) \\cdot \\frac{\\cos(\\theta)}{2 \\sin\\!\\left(\\frac{\\theta}{2}\\right)\\cos\\!\\left(\\frac{\\theta}{2}\\right)} = \\frac{\\cos(\\theta)}{\\cos\\!\\left(\\frac{\\theta}{2}\\right)}\n$$\n因此，\n$$\nD = \\frac{\\cos(\\theta)}{\\cos\\!\\left(\\frac{\\theta}{2}\\right)} - 1\n$$\n对于 $\\theta = \\frac{2\\pi}{5}$，我们有 $\\frac{\\theta}{2} = \\frac{\\pi}{5}$。使用精确的三角函数值\n$$\n\\cos\\!\\left(\\frac{2\\pi}{5}\\right) = \\frac{\\sqrt{5} - 1}{4}, \\qquad \\cos\\!\\left(\\frac{\\pi}{5}\\right) = \\frac{1 + \\sqrt{5}}{4}\n$$\n我们得到\n$$\nD = \\frac{\\frac{\\sqrt{5} - 1}{4}}{\\frac{1 + \\sqrt{5}}{4}} - 1 = \\frac{\\sqrt{5} - 1}{\\sqrt{5} + 1} - 1 = \\frac{(\\sqrt{5} - 1) - (\\sqrt{5} + 1)}{\\sqrt{5} + 1} = -\\frac{2}{\\sqrt{5} + 1}\n$$\n等价地，\n$$\nD = \\frac{1 - \\sqrt{5}}{2}\n$$\n数值上，$\\frac{1 - \\sqrt{5}}{2} \\approx -0.6180339887\\ldots$，四舍五入到四位有效数字是 $-0.6180$。", "answer": "$$\\boxed{-0.6180}$$", "id": "2227350"}, {"introduction": "在将图像用于精密测量或计算机视觉应用之前，我们必须首先校正镜头畸变。这个最终练习将让你扮演一名校准工程师，利用图像中的已知点来反向求解描述镜头特性的径向畸变系数 $k_1$ 和 $k_2$。这个练习模拟了相机校准的核心过程，展示了如何从实验数据中提取关键的物理参数。 [@problem_id:947296]", "problem": "在光学成像系统（如相机）中，镜头缺陷会导致几何畸变。一种常见的畸变类型是径向畸变，它会导致物空间中的直线在图像中呈现为曲线。为了精确测量和计算机视觉应用，必须校正这种畸变。\n\n一种广泛用于校正径向畸变的方法是多项式模型。假设畸变中心位于像平面的原点，那么理想（无畸变）坐标 $(x_u, y_u)$ 和测量（畸变）坐标 $(x_d, y_d)$ 之间的关系可以表示为：\n$$x_u = x_d (1 + k_1 r_d^2 + k_2 r_d^4 + \\dots)$$\n$$y_u = y_d (1 + k_1 r_d^2 + k_2 r_d^4 + \\dots)$$\n其中 $r_d = \\sqrt{x_d^2 + y_d^2}$ 是畸变图像中点到中心的径向距离，而 $k_1, k_2, \\dots$ 是径向畸变系数。\n\n考虑一个畸变可以由前两个系数 $k_1$ 和 $k_2$ 很好地描述的系统。为了校准该系统，我们测量已知物体的位置。假设我们已经对两个不同的离轴点（标记为 1 和 2）完成了此项测量。对于点 1，理想径向位置为 $r_{u,1}$，测量径向位置为 $r_{d,1}$。对于点 2，理想和测量径向位置分别为 $r_{u,2}$ 和 $r_{d,2}$。\n\n利用这些信息，确定以下定义的量 $Q$ 的符号表达式：\n$$Q = 2 k_1 r_{d,1}^2 r_{d,2}^2 + k_2 r_{d,1}^2 r_{d,2}^2 (r_{d,1}^2 + r_{d,2}^2)$$\n请用给定的径向位置 $r_{u,1}, r_{d,1}, r_{u,2}$ 和 $r_{d,2}$ 来表示您的答案。", "solution": "1. 对点 $i=1,2$ 的径向映射方程：\n$$r_{u,i}=r_{d,i}\\bigl(1+k_1r_{d,i}^2+k_2r_{d,i}^4\\bigr)$$\n定义 $s_i=r_{d,i}^2$ 以及\n$$A_i=\\frac{r_{u,i}}{r_{d,i}}-1=k_1s_i+k_2s_i^2$$\n2. 这产生了一个线性系统\n$$k_1s_1+k_2s_1^2=A_1,\\quad k_1s_2+k_2s_2^2=A_2$$\n其行列式为\n$$D=s_1s_2^2-s_2s_1^2=s_1s_2(s_2-s_1)$$\n因此\n$$k_1=\\frac{A_1s_2^2-A_2s_1^2}{D},\\qquad k_2=\\frac{A_2s_1-A_1s_2}{D}$$\n3. 量\n$$Q=2k_1s_1s_2+k_2s_1s_2(s_1+s_2)=s_1s_2\\bigl(2k_1+k_2(s_1+s_2)\\bigr)$$\n代入后得到\n$$Q=\\frac{2(A_1s_2^2-A_2s_1^2)+(s_1+s_2)(A_2s_1-A_1s_2)}{s_2-s_1}\n=A_1s_2+A_2s_1$$\n4. 重新表示 $A_i$ 和 $s_i$ 可得\n$$Q=r_{d,2}^2\\Bigl(\\frac{r_{u,1}}{r_{d,1}}-1\\Bigr)+r_{d,1}^2\\Bigl(\\frac{r_{u,2}}{r_{d,2}}-1\\Bigr)$$", "answer": "$$\\boxed{r_{d,2}^2\\bigl(\\tfrac{r_{u,1}}{r_{d,1}}-1\\bigr)+r_{d,1}^2\\bigl(\\tfrac{r_{u,2}}{r_{d,2}}-1\\bigr)}$$", "id": "947296"}]}