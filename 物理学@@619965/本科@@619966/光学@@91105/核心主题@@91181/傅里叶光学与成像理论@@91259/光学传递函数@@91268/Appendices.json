{"hands_on_practices": [{"introduction": "光学系统性能的核心在于其如何传递物体的空间频率信息，这由光学传递函数（OTF）来描述。理论上，OTF 是系统点扩散函数（PSF）的傅里叶变换。本练习将通过一个理想化的矩形 PSF，引导你动手计算其对应的 OTF，让你掌握从 PSF 到 OTF 的基本数学转换，并理解为何 $\\text{sinc}$ 函数在光学分析中如此重要。[@problem_id:2267389]", "problem": "一个理想化的一维成像系统由其点扩展函数（PSF）来表征。令空间坐标为 $x$。该系统的PSF，记为 $h(x)$，是一个简单的矩形函数，其定义为在区间 $[-w/2, w/2]$ 上取一个恒定的正值 $C$，而在其他地方均为零。该系统的光学传递函数（OTF），记为 $H(f_x)$，定义为PSF的傅里叶变换，并进行归一化，使其在零空间频率处的值等于1。这里，$f_x$ 表示空间频率。\n\n求该成像系统的OTF，$H(f_x)$ 的解析表达式。你的最终表达式应只包含变量 $f_x$ 和 $w$，以及标准的数学常数或函数。", "solution": "设PSF为 $h(x)=C$（当 $x\\in[-w/2,w/2]$ 时）及 $h(x)=0$（其他情况）。定义空间频率为 $f_{x}$ 的（未归一化的）傅里叶变换为\n$$\nH_{\\text{raw}}(f_{x})=\\int_{-\\infty}^{\\infty}h(x)\\exp(-i2\\pi f_{x}x)\\,dx=\\int_{-w/2}^{w/2}C\\,\\exp(-i2\\pi f_{x}x)\\,dx.\n$$\n对 $f_{x}\\neq 0$ 的情况计算积分，\n$$\nH_{\\text{raw}}(f_{x})=C\\left[\\frac{\\exp(-i2\\pi f_{x}x)}{-i2\\pi f_{x}}\\right]_{x=-w/2}^{x=w/2}\n=\\frac{C}{-i2\\pi f_{x}}\\left(\\exp(-i\\pi f_{x}w)-\\exp(i\\pi f_{x}w)\\right).\n$$\n使用 $\\exp(-ia)-\\exp(ia)=-2i\\sin(a)$，上式变为\n$$\nH_{\\text{raw}}(f_{x})=\\frac{C}{-i2\\pi f_{x}}\\left(-2i\\sin(\\pi f_{x}w)\\right)=C\\,\\frac{\\sin(\\pi f_{x}w)}{\\pi f_{x}}.\n$$\n在 $f_{x}=0$ 处，积分为\n$$\nH_{\\text{raw}}(0)=\\int_{-w/2}^{w/2}C\\,dx=Cw,\n$$\n这也正好是当 $f_{x}\\to 0$ 时 $C\\,\\sin(\\pi f_{x}w)/(\\pi f_{x})$ 的极限。OTF是归一化后的变换 $H(f_{x})=H_{\\text{raw}}(f_{x})/H_{\\text{raw}}(0)$，因此\n$$\nH(f_{x})=\\frac{C\\,\\sin(\\pi f_{x}w)/(\\pi f_{x})}{Cw}=\\frac{\\sin(\\pi f_{x}w)}{\\pi f_{x}w},\n$$\n并有连续性推广 $H(0)=1$。", "answer": "$$\\boxed{\\frac{\\sin\\!\\left(\\pi f_{x}w\\right)}{\\pi f_{x}w}}$$", "id": "2267389"}, {"introduction": "掌握了 OTF 的数学定义后，我们来探讨其物理意义。OTF 的模，即调制传递函数（MTF），直接衡量了成像系统对不同空间频率的正弦波图案对比度的传递能力。本练习将模拟一个常见的光学测试场景，让你计算经过一个已知 MTF 的镜头后，正弦光栅图像的最终对比度，从而直观地理解 MTF 如何决定图像的清晰度。[@problem_id:2267418]", "problem": "一位光学工程师正在使用非相干光源来表征一个新的相机镜头。测试对象是一个正弦强度光栅，其空间频率为 $40.0$ 周/毫米，对比度为 $0.90$。该镜头的性能由其调制传递函数 (MTF) 描述，该函数可以很好地用以下高斯函数近似：\n$$\n\\text{MTF}(\\nu) = \\exp\\left(-\\left(\\frac{\\nu}{\\nu_0}\\right)^{2}\\right)\n$$\n其中 $\\nu$ 是空间频率，单位为周/毫米，而 $\\nu_0$ 是镜头的一个特征频率参数，给定为 $\\nu_0 = 50.0$ 周/毫米。\n\n计算由该镜头形成的最终图像的对比度。将您的最终答案四舍五入到三位有效数字。", "solution": "正弦强度光栅的迈克尔逊对比度定义为 $C = \\frac{I_{\\max} - I_{\\min}}{I_{\\max} + I_{\\min}}$。对于空间频率为 $\\nu$ 的正弦物体的非相干成像，图像对比度是物体对比度乘以该频率下的调制传递函数：\n$$\nC_{\\text{img}} = C_{\\text{obj}} \\,\\text{MTF}(\\nu).\n$$\n给定 $C_{\\text{obj}} = 0.90$ 和 $\\text{MTF}(\\nu) = \\exp\\left(-\\left(\\frac{\\nu}{\\nu_{0}}\\right)^{2}\\right)$，其中 $\\nu = 40.0$ 周/毫米，$\\nu_{0} = 50.0$ 周/毫米，代入：\n$$\nC_{\\text{img}} = 0.90 \\,\\exp\\left(-\\left(\\frac{40.0}{50.0}\\right)^{2}\\right)\n= 0.90 \\,\\exp\\left(-0.8^{2}\\right)\n= 0.90 \\,\\exp(-0.64).\n$$\n计算指数项并相乘：\n$$\n\\exp(-0.64) \\approx 0.527292,\\quad C_{\\text{img}} \\approx 0.90 \\times 0.527292 \\approx 0.474563.\n$$\n四舍五入到三位有效数字，得到 $0.475$。", "answer": "$$\\boxed{0.475}$$", "id": "2267418"}, {"introduction": "在实际工程中，精确测量点扩散函数（PSF）可能非常困难。一个更实用的方法是测量系统对理想锐利边缘的响应，即边缘扩散函数（ESF）。本练习将指导你完成一个从实验数据到系统表征的关键步骤：从给定的 ESF 解析式出发，推导出线扩散函数（LSF），并最终通过傅里叶变换得到系统的光学传递函数（OTF），这个过程是光学系统性能评估中的一项核心技能。[@problem_id:2267429]", "problem": "一位工程师正在表征一个一维成像系统。他们测量了系统对理想锐利边缘的响应。测得的成像边缘上的强度分布，即边缘扩展函数（Edge Spread Function, ESF），可以很好地由以下函数描述：\n$$ \\text{ESF}(x) = \\frac{I_0}{2} \\left(1 + \\tanh\\left(\\frac{x}{a}\\right)\\right) $$\n其中，$x$ 是垂直于边缘的空间坐标，$I_0$ 是边缘亮侧的最大强度，$a$ 是一个正常数，代表系统的特征模糊宽度。\n\n您的任务是确定该系统的归一化一维光学传递函数（Optical Transfer Function, OTF）。OTF 是空间频率 $f_x$ 的函数。归一化约定为 $\\text{OTF}(f_x = 0) = 1$。请用 $f_x$ 和 $a$ 的解析表达式给出您的最终答案。", "solution": "该求解过程包括两个步骤：首先，我们从给定的边缘扩展函数（ESF）中求出线扩展函数（Line Spread Function, LSF）；其次，我们通过对 LSF 进行傅里叶变换来计算光学传递函数（OTF）。\n\n**第一步：确定线扩展函数（LSF）**\n\n线扩展函数 $\\text{LSF}(x)$ 是边缘扩展函数 $\\text{ESF}(x)$ 关于空间坐标 $x$ 的导数。LSF 代表了成像系统对一个理想的、无限细的线源（狄拉克δ函数输入）的响应。\n\n$$ \\text{LSF}(x) = \\frac{d}{dx} \\text{ESF}(x) $$\n\n给定 ESF 的表达式：\n$$ \\text{ESF}(x) = \\frac{I_0}{2} \\left(1 + \\tanh\\left(\\frac{x}{a}\\right)\\right) $$\n\n我们对其求关于 $x$ 的导数：\n$$ \\text{LSF}(x) = \\frac{d}{dx} \\left[ \\frac{I_0}{2} \\left(1 + \\tanh\\left(\\frac{x}{a}\\right)\\right) \\right] $$\n常数项 $\\frac{I_0}{2}$ 的导数为零。我们对双曲正切项应用链式法则。$\\tanh(u)$ 的导数是 $\\text{sech}^{2}(u)$。\n$$ \\text{LSF}(x) = \\frac{I_0}{2} \\cdot \\frac{d}{dx} \\left( \\tanh\\left(\\frac{x}{a}\\right) \\right) $$\n$$ \\text{LSF}(x) = \\frac{I_0}{2} \\cdot \\left( \\text{sech}^{2}\\left(\\frac{x}{a}\\right) \\right) \\cdot \\frac{d}{dx}\\left(\\frac{x}{a}\\right) $$\n$$ \\text{LSF}(x) = \\frac{I_0}{2} \\text{sech}^{2}\\left(\\frac{x}{a}\\right) \\cdot \\frac{1}{a} $$\n所以，线扩展函数为：\n$$ \\text{LSF}(x) = \\frac{I_0}{2a} \\text{sech}^{2}\\left(\\frac{x}{a}\\right) $$\n\n**第二步：确定光学传递函数（OTF）**\n\nOTF 是 LSF 的傅里叶变换。在此上下文中使用的傅里叶变换 $\\mathcal{F}$ 的定义是：\n$$ \\text{OTF}(f_x) = \\mathcal{F}\\{\\text{LSF}(x)\\} = \\int_{-\\infty}^{\\infty} \\text{LSF}(x) \\exp(-i 2\\pi f_x x) \\,dx $$\n\n代入我们得到的 LSF 表达式：\n$$ \\text{OTF}_{\\text{unnormalized}}(f_x) = \\int_{-\\infty}^{\\infty} \\frac{I_0}{2a} \\text{sech}^{2}\\left(\\frac{x}{a}\\right) \\exp(-i 2\\pi f_x x) \\,dx $$\n$$ \\text{OTF}_{\\text{unnormalized}}(f_x) = \\frac{I_0}{2a} \\int_{-\\infty}^{\\infty} \\text{sech}^{2}\\left(\\frac{x}{a}\\right) \\exp(-i 2\\pi f_x x) \\,dx $$\n该积分是 $\\text{sech}^{2}$ 函数的傅里叶变换。我们使用标准的傅里叶变换对：\n$$ \\mathcal{F}\\left\\{ \\text{sech}^{2}\\left(\\frac{x}{a}\\right) \\right\\} = \\frac{2\\pi^2 a^2 f_x}{\\sinh(\\pi^2 a f_x)} $$\n其中 $\\text{csch}(u) = 1/\\sinh(u)$。\n\n将此结果代入我们的 OTF 表达式中：\n$$ \\text{OTF}_{\\text{unnormalized}}(f_x) = \\frac{I_0}{2a} \\left( \\frac{2\\pi^2 a^2 f_x}{\\sinh(\\pi^2 a f_x)} \\right) $$\n$$ \\text{OTF}_{\\text{unnormalized}}(f_x) = \\frac{I_0 \\pi^2 a f_x}{\\sinh(\\pi^2 a f_x)} $$\n这是未归一化的 OTF。\n\n**第三步：归一化 OTF**\n\n题目要求归一化的 OTF，使得 $\\text{OTF}(0) = 1$。归一化常数是未归一化的 OTF 在 $f_x = 0$ 处的值。\n$$ \\text{归一化常数} = \\text{OTF}_{\\text{unnormalized}}(0) = \\lim_{f_x \\to 0} \\frac{I_0 \\pi^2 a f_x}{\\sinh(\\pi^2 a f_x)} $$\n为了计算这个极限，我们使用双曲正弦函数的小角度近似，当 $u \\to 0$ 时，$\\sinh(u) \\approx u$。令 $u = \\pi^2 a f_x$。当 $f_x \\to 0$ 时，$u \\to 0$。\n$$ \\lim_{u \\to 0} \\frac{I_0 u}{\\sinh(u)} = \\lim_{u \\to 0} \\frac{I_0 u}{u} = I_0 $$\n或者，零频率处的值是 LSF 在整个空间上的积分：\n$$ \\text{OTF}_{\\text{unnormalized}}(0) = \\int_{-\\infty}^{\\infty} \\text{LSF}(x) \\,dx = \\int_{-\\infty}^{\\infty} \\frac{I_0}{2a} \\text{sech}^{2}\\left(\\frac{x}{a}\\right) \\,dx $$\n令 $u = x/a$，则 $dx = a\\,du$。积分变为：\n$$ \\frac{I_0}{2a} \\int_{-\\infty}^{\\infty} \\text{sech}^{2}(u) (a\\,du) = \\frac{I_0}{2} \\left[ \\tanh(u) \\right]_{-\\infty}^{\\infty} = \\frac{I_0}{2} (1 - (-1)) = I_0 $$\n两种方法都得到相同的归一化常数，$I_0$。\n\n归一化的 OTF 是通过将未归一化的 OTF 除以这个常数得到的：\n$$ \\text{OTF}(f_x) = \\frac{\\text{OTF}_{\\text{unnormalized}}(f_x)}{\\text{OTF}_{\\text{unnormalized}}(0)} = \\frac{\\frac{I_0 \\pi^2 a f_x}{\\sinh(\\pi^2 a f_x)}}{I_0} $$\n$$ \\text{OTF}(f_x) = \\frac{\\pi^2 a f_x}{\\sinh(\\pi^2 a f_x)} $$\n这就是归一化光学传递函数的最终表达式。", "answer": "$$\\boxed{\\frac{\\pi^{2} a f_x}{\\sinh(\\pi^{2} a f_x)}}$$", "id": "2267429"}]}