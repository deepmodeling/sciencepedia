{"hands_on_practices": [{"introduction": "要在摄影中实现高倍率放大，例如在微距摄影中，通常需要将镜头移动到比其内置对焦系统所允许的更远离传感器的位置。本练习探讨了薄透镜方程如何决定这一关系，以及如何使用一个简单的附件——接圈——来解决这个问题。这是一个将基础镜头光学原理应用于实际摄影挑战的绝佳实践。[@problem_id:2221413]", "problem": "一位摄影师希望使用一个定焦镜头实现 1:1 等身大小的微距摄影，该镜头可被视为焦距为 $f = 50.0$ mm 的单个薄透镜。镜头的内部对焦机构允许调节其光学中心到相机传感器之间的距离 $d_i$。镜-传感器之间的最小可能距离等于焦距，即 $d_{i, \\text{min}} = f$，这是在对焦于无穷远处的物体时达到的。使用镜头自身的对焦系统可实现的最大镜-传感器距离为 $d_{i, \\text{max}} = 65.0$ mm。\n\n为实现 1:1 等身大小成像（对应于横向放大率 $M = -1.00$），摄影师必须使用一个延长管。这是一个简单的空心圆筒，被插入到相机机身和镜头之间，作为垫片以增加镜-传感器距离。为了使用尽可能短的延长管，摄影师会将镜头自身的对焦设置到其最近对焦距离（实现 $d_{i, \\text{max}}$）。\n\n计算能让摄影师实现所需 1:1 放大率的延长管的最小长度 $L$。答案以毫米 (mm) 为单位，并四舍五入到三位有效数字。", "solution": "使用薄透镜方程和放大率定义。对于薄透镜，\n$$\n\\frac{1}{f}=\\frac{1}{d_{o}}+\\frac{1}{d_{i}}, \\quad M=-\\frac{d_{i}}{d_{o}}.\n$$\n对于所要求的放大率 $M=-1$，我们有 $d_{i}=d_{o}$。代入透镜方程可得\n$$\n\\frac{1}{f}=\\frac{1}{d_{i}}+\\frac{1}{d_{i}}=\\frac{2}{d_{i}} \\;\\Rightarrow\\; d_{i}=2f.\n$$\n因此，为实现 $M=-1$，传感器必须距离镜头光学中心 $d_{i}=2f$。使用长度为 $L$ 的延长管，并将镜头设置在最近对焦处（不使用延长管时像距为 $d_{i,\\text{max}}$），则总像距为\n$$\nd_{i,\\text{total}}=d_{i,\\text{max}}+L.\n$$\n令 $d_{i,\\text{total}}=2f$ 可得\n$$\nL=2f-d_{i,\\text{max}}.\n$$\n代入给定值 $f=50.0\\ \\text{mm}$ 和 $d_{i,\\text{max}}=65.0\\ \\text{mm}$，\n$$\nL=2(50.0)-65.0=35.0\\ \\text{mm}.\n$$\n四舍五入到三位有效数字，所需的延长管长度为 $35.0$ mm。", "answer": "$$\\boxed{35.0}$$", "id": "2221413"}, {"introduction": "景深（DoF）是摄影中一个至关重要的创作工具，它决定了图像中可接受的清晰区域范围。本练习通过比较两种截然不同但常见的相机系统——智能手机和数码单反相机——来探究影响景深的关键因素，特别是焦距。它定量地解释了一个普遍观察到的现象，并加深了对相机光学的直观理解。[@problem_id:2221443]", "problem": "两位摄影师，一位使用智能手机，另一位使用专业的数码单镜头反光（DSLR）相机，决定比较各自系统的景深。智能手机配备了焦距为 $f_s = 6.0 \\text{ mm}$ 的镜头，而数码单反相机则安装了焦距为 $f_d = 50.0 \\text{ mm}$ 的定焦镜头。他们都从完全相同的位置拍摄一个远处的被摄体，确保他们与被摄体的距离 $u$ 相同。\n\n为了进行此比较，假设满足以下理想化条件：\n1. 两台相机都设置为相同的f值（光圈系数），用 $N$ 表示。\n2. 可接受的弥散圆直径 $c$ 被认为是相同的。该值定义了图像中清晰部分和不清晰部分之间的界限。\n3. 到被摄体的距离 $u$ 远大于任一焦距（$u \\gg f_d$ 且 $u \\gg f_s$）。\n\n在这些条件下，计算智能手机的景深与数码单反相机景深之比，即 $\\frac{\\text{DoF}_{s}}{\\text{DoF}_{d}}$。将您的最终答案四舍五入到三位有效数字。", "solution": "设镜头焦距为 $f$，f值为 $N$，可接受的弥散圆直径为 $c$，物距（对焦距离）为 $u$，光圈直径为 $d = f/N$。对于距离为 $x$（不等于 $u$）的物点，其像距 $v_{x}$ 由薄透镜公式 $1/x + 1/v_{x} = 1/f$ 给出，而传感器位于满足 $1/u + 1/v = 1/f$ 的像距 $v$ 处。传感器上的离焦量为 $\\Delta v = v_{x} - v$，根据相似三角形原理，由此产生的传感器上的弥散圆直径为：\n$$\nc = \\frac{d}{v_{x}}|\\Delta v| = \\frac{f}{N}\\frac{|v_{x} - v|}{v_{x}}.\n$$\n使用 $v_{x} = \\frac{f x}{x - f}$ 和 $v = \\frac{f u}{u - f}$，可以得到\n$$\nv_{x} - v = \\frac{f^{2}(u - x)}{(x - f)(u - f)}, \\qquad \\frac{|v_{x} - v|}{v_{x}} = \\frac{f|u - x|}{(u - f)x}.\n$$\n因此，模糊直径条件 $c$ 变为\n$$\nc = \\frac{f^{2}}{N}\\frac{|u - x|}{(u - f)x}.\n$$\n求解 $c$ 恰好达到可接受值的近景物距 $x_{n}$ 和远景物距 $x_{f}$，可得\n$$\n\\frac{u - x}{x} = \\frac{c N (u - f)}{f^{2}} \\equiv k \\quad (x < u), \\qquad \\frac{x - u}{x} = k \\quad (x > u),\n$$\n因此\n$$\nx_{n} = \\frac{u}{1 + k}, \\qquad x_{f} = \\frac{u}{1 - k} \\quad \\text{for } k < 1.\n$$\n因此，总景深为\n$$\n\\text{DoF} = x_{f} - x_{n} = u\\left(\\frac{1}{1 - k} - \\frac{1}{1 + k}\\right) = \\frac{2uk}{1 - k^{2}},\n$$\n其中 $k = \\frac{c N (u - f)}{f^{2}}$。在给定条件 $u \\gg f$ 下，我们近似 $u - f \\approx u$，得到 $k \\approx \\frac{c N u}{f^{2}}$。对于典型的摄影条件，即对焦距离不极度接近超焦距（因此 $k \\ll 1$），分母满足 $1 - k^{2} \\approx 1$，从而得到标准的远距被摄体近似公式\n$$\n\\text{DoF} \\approx 2 N c \\frac{u^{2}}{f^{2}}.\n$$\n由于两台相机具有相同的 $u$、$N$ 和 $c$，景深之比变为\n$$\n\\frac{\\text{DoF}_{s}}{\\text{DoF}_{d}} \\approx \\frac{2 N c \\, u^{2}/f_{s}^{2}}{2 N c \\, u^{2}/f_{d}^{2}} = \\left(\\frac{f_{d}}{f_{s}}\\right)^{2}.\n$$\n代入 $f_{s} = 6.0 \\text{ mm}$ 和 $f_{d} = 50.0 \\text{ mm}$，\n$$\n\\frac{\\text{DoF}_{s}}{\\text{DoF}_{d}} \\approx \\left(\\frac{50.0}{6.0}\\right)^{2} = \\left(\\frac{25}{3}\\right)^{2} = \\frac{625}{9} \\approx 69.444\\ldots,\n$$\n四舍五入到三位有效数字为 $69.4$。", "answer": "$$\\boxed{69.4}$$", "id": "2221443"}, {"introduction": "在掌握了镜头光学之后，我们将注意力转向传感器本身。具有极端亮度差异的场景对数字传感器构成了重大挑战，因为单个曝光无法同时捕捉最亮和最暗的细节。这项高级练习通过基于传感器的基本特性——如读出噪声 $N_r$ 和满阱容量——来设计高动态范围（HDR）成像策略，从而解决了这个问题，将传感器物理学与前沿的成像解决方案联系起来。[@problem_id:2221439]", "problem": "一位成像科学家的任务是拍摄一个具有极高亮度变化范围的静态场景。为此，将通过合并在不同曝光水平下拍摄的多张照片来创建一张高动态范围（HDR）图像。经测定，该场景的总动态范围为20个曝光值（EV）。\n\n为了使最终合并的HDR图像在科学上可用，要求场景色调范围的每个部分都以至少为10的信噪比（SNR）来表示。一个曝光值（EV）是一个以2为底的对数单位；+1 EV的变化对应于光强度的加倍。\n\n相机传感器具有以下特性：\n- 满阱容量（FWC）为50,000个电子。\n- 电子读出噪声 $N_r$ 为4.0个电子的均方根（RMS）。\n\n一个像素中的总噪声是读出噪声和光子散粒噪声的正交和。对于给定的信号 $S$（以电子为单位），其光子散粒噪声等于 $\\sqrt{S}$。\n\n为了在满足信噪比约束的同时捕捉场景的整个动态范围，将拍摄一系列图像。这个过程被称为包围曝光。你的任务是确定满足这些要求所需的最少整数曝光次数 $N$ 和最佳曝光间隔 $\\Delta EV$。\n\n你的答案应报告为整数 $N$ 和 $\\Delta EV$ 的值。将你计算出的 $\\Delta EV$ 值四舍五入到三位有效数字。", "solution": "对于信号 $S$（单位为电子），在读出噪声为 $N_{r}$ 的情况下，每个像素的信噪比为\n$$\n\\mathrm{SNR}=\\frac{S}{\\sqrt{S+N_{r}^{2}}}.\n$$\n为了满足信噪比至少为10的要求，合格的最小信号可通过求解下式得到\n$$\n\\frac{S}{\\sqrt{S+N_{r}^{2}}}=10.\n$$\n两边平方并整理得\n$$\n\\frac{S^{2}}{S+N_{r}^{2}}=100 \\;\\;\\Longrightarrow\\;\\; S^{2}-100S-100N_{r}^{2}=0,\n$$\n所以\n$$\nS_{\\min}=\\frac{100+\\sqrt{10000+400N_{r}^{2}}}{2}.\n$$\n当 $N_{r}=4$ 时，我们有 $N_{r}^{2}=16$，因此\n$$\nS_{\\min}=\\frac{100+\\sqrt{10000+6400}}{2}=\\frac{100+10\\sqrt{164}}{2}=50+5\\sqrt{164}=50+10\\sqrt{41}.\n$$\n其数值计算结果为 $S_{\\min}\\approx 114.031242\\ \\text{electrons}$。\n\n对于单次曝光，可用的线性动态范围是从 $S_{\\min}$ 到满阱容量 $S_{\\max}=\\mathrm{FWC}$，因此单次曝光的覆盖范围（线性比率）为\n$$\nR=\\frac{S_{\\max}}{S_{\\min}}=\\frac{\\mathrm{FWC}}{S_{\\min}}.\n$$\n以EV为单位，\n$$\n\\Delta EV_{\\max}=\\log_{2}R=\\log_{2}\\!\\left(\\frac{\\mathrm{FWC}}{S_{\\min}}\\right)=\\log_{2}\\!\\left(\\frac{50000}{50+10\\sqrt{41}}\\right).\n$$\n在数值上，\n$$\n\\Delta EV_{\\max}=\\log_{2}\\!\\left(\\frac{50000}{114.031242}\\right)\\approx \\log_{2}(438.4763)\\approx 8.77718\\ \\text{EV}.\n$$\n为了在最小化曝光次数的同时确保连续覆盖且无间隙，最佳的曝光间隔应为允许的最大值，即\n$$\n\\Delta EV=\\Delta EV_{\\max}\\approx 8.78\\ \\text{EV}\n$$\n（四舍五入到三位有效数字）。场景总范围为 $20$ EV，因此所需的最小曝光次数为\n$$\nN=\\left\\lceil \\frac{20}{\\Delta EV} \\right\\rceil=\\left\\lceil \\frac{20}{8.77718} \\right\\rceil=3.\n$$\n因此，三次曝光，曝光间隔约为 $8.78$ EV，足以覆盖整个 $20$ EV 的场景，并保证各处的信噪比至少为10。", "answer": "$$\\boxed{\\begin{pmatrix}3 & 8.78\\end{pmatrix}}$$", "id": "2221439"}]}