{"hands_on_practices": [{"introduction": "In many real-world applications, such as analyzing financial data or sensor readings from a probe as in this hypothetical scenario, data arrives sequentially in a stream. This practice challenges you to think algorithmically and derive a \"running mean,\" a computationally efficient method that updates the average with each new measurement without needing to store or re-process the entire dataset. This recursive approach is a foundational concept in data stream analysis and online algorithms. [@problem_id:1934443]", "problem": "An onboard computer for a deep-space probe is tasked with analyzing the flux of high-energy particles. The probe's sensor generates a stream of measurements, $x_1, x_2, x_3, \\dots$, where $x_k$ is the measurement taken at time step $k$. Due to severe memory constraints, the computer cannot store the entire history of measurements. Instead, it must compute the running arithmetic mean in a single pass.\n\nLet $\\mu_n$ be the arithmetic mean of the first $n$ measurements, i.e., $\\mu_n = \\frac{1}{n}\\sum_{i=1}^{n} x_i$. When a new measurement $x_n$ arrives (for $n  1$), the computer updates the previous mean $\\mu_{n-1}$ to the new mean $\\mu_n$. This update rule can be formulated as a linear combination of the previous mean and the new data point:\n$$ \\mu_n = A_n \\mu_{n-1} + B_n x_n $$\nwhere the coefficients $A_n$ and $B_n$ are functions of the number of measurements, $n$.\n\nDetermine the expression for the coefficient $B_n$ as a function of $n$.", "solution": "We start from the definition of the running mean of the first $n$ measurements:\n$$\n\\mu_{n}=\\frac{1}{n}\\sum_{i=1}^{n}x_{i}.\n$$\nSplit the sum into the first $n-1$ terms and the $n$th term:\n$$\n\\mu_{n}=\\frac{1}{n}\\left(\\sum_{i=1}^{n-1}x_{i}+x_{n}\\right).\n$$\nExpress the partial sum $\\sum_{i=1}^{n-1}x_{i}$ in terms of $\\mu_{n-1}$ using the definition $\\mu_{n-1}=\\frac{1}{n-1}\\sum_{i=1}^{n-1}x_{i}$, which implies\n$$\n\\sum_{i=1}^{n-1}x_{i}=(n-1)\\mu_{n-1}.\n$$\nSubstitute this into the expression for $\\mu_{n}$:\n$$\n\\mu_{n}=\\frac{1}{n}\\left((n-1)\\mu_{n-1}+x_{n}\\right)=\\frac{n-1}{n}\\mu_{n-1}+\\frac{1}{n}x_{n}.\n$$\nComparing with the update form $\\mu_{n}=A_{n}\\mu_{n-1}+B_{n}x_{n}$, we identify\n$$\nB_{n}=\\frac{1}{n}.\n$$", "answer": "$$\\boxed{\\frac{1}{n}}$$", "id": "1934443"}, {"introduction": "The mean possesses a convenient linear property: the mean of a sum of random variables is the sum of their individual means. This practice investigates whether the median, another crucial measure of central tendency, shares this intuitive feature. By working through a concrete counterexample, you will discover a fundamental difference in the mathematical properties of the mean and median, highlighting why they are not always interchangeable. [@problem_id:1934426]", "problem": "In probability theory, while the expectation of a sum of random variables is always the sum of their expectations, the same does not hold true for the median. This problem explores this property using a specific example.\n\nLet $X_1$ and $X_2$ be two independent and identically distributed discrete random variables. Their common probability mass function is given by:\n$$ P(X_i = 1) = \\frac{2}{3} $$\n$$ P(X_i = 100) = \\frac{1}{3} $$\nfor $i=1, 2$.\n\nThe median of a random variable $W$ with cumulative distribution function $F_W(w) = P(W \\le w)$ is defined as $\\text{median}(W) = \\inf\\{w \\in \\mathbb{R} \\mid F_W(w) \\ge 0.5\\}$.\n\nCalculate the discrepancy $\\Delta = \\text{median}(X_1+X_2) - (\\text{median}(X_1) + \\text{median}(X_2))$.", "solution": "By definition, for any random variable $W$ with cumulative distribution function $F_{W}(w)=P(W\\le w)$, the median is $\\inf\\{w\\in\\mathbb{R}\\mid F_{W}(w)\\ge 0.5\\}$.\n\nFirst compute $\\text{median}(X_{i})$. The distribution of $X_{i}$ is $P(X_{i}=1)=\\frac{2}{3}$ and $P(X_{i}=100)=\\frac{1}{3}$. Its cumulative distribution function satisfies $F_{X_{i}}(w)=0$ for $w1$, $F_{X_{i}}(1)=\\frac{2}{3}$, and $F_{X_{i}}(w)=1$ for $w\\ge 100$. Since $F_{X_{i}}(1)=\\frac{2}{3}\\ge 0.5$ and for $w1$ we have $F_{X_{i}}(w)=00.5$, it follows that\n$$\n\\text{median}(X_{i})=1.\n$$\nHence $\\text{median}(X_{1})+\\text{median}(X_{2})=1+1=2$.\n\nNext compute the distribution of $S=X_{1}+X_{2}$. By independence,\n$$\nP(S=2)=P(X_{1}=1,X_{2}=1)=\\left(\\frac{2}{3}\\right)^{2}=\\frac{4}{9},\n$$\n$$\nP(S=101)=P(X_{1}=1,X_{2}=100)+P(X_{1}=100,X_{2}=1)=2\\cdot \\frac{2}{3}\\cdot \\frac{1}{3}=\\frac{4}{9},\n$$\n$$\nP(S=200)=P(X_{1}=100,X_{2}=100)=\\left(\\frac{1}{3}\\right)^{2}=\\frac{1}{9}.\n$$\nThus the cumulative distribution function of $S$ satisfies\n$$\nF_{S}(w)=\\begin{cases}\n0,  w2,\\\\\n\\frac{4}{9},  2\\le w101,\\\\\n\\frac{8}{9},  101\\le w200,\\\\\n1,  w\\ge 200.\n\\end{cases}\n$$\nThe median of $S$ is the infimum of $w$ such that $F_{S}(w)\\ge 0.5$. We have $F_{S}(2)=\\frac{4}{9}0.5$ and $F_{S}(101)=\\frac{8}{9}\\ge 0.5$, so\n$$\n\\text{median}(X_{1}+X_{2})=101.\n$$\nTherefore, the discrepancy is\n$$\n\\Delta=\\text{median}(X_{1}+X_{2})-\\bigl(\\text{median}(X_{1})+\\text{median}(X_{2})\\bigr)=101-2=99.\n$$", "answer": "$$\\boxed{99}$$", "id": "1934426"}, {"introduction": "One of the most valued characteristics of the median is its robustness, meaning it is less affected by extreme values than the mean. This problem guides you to formalize this concept by identifying the precise conditions under which adding a new data point leaves the median unchanged. Successfully navigating this exercise requires a rigorous, case-based analysis that will deepen your understanding of the median's definition and its practical advantages. [@problem_id:1934422]", "problem": "A dataset $S$ consists of $n$ numerical data points. Let the data points sorted in non-decreasing order be $x_1, x_2, \\dots, x_n$. The median of this dataset, denoted by $M$, is defined as:\n- $M = x_{(n+1)/2}$ if $n$ is odd.\n- $M = \\frac{1}{2}(x_{n/2} + x_{n/2+1})$ if $n$ is even.\n\nA new data point, $x_{new}$, is added to the dataset $S$ to form a new dataset $S'$ of size $n+1$. Let $M'$ be the median of $S'$.\n\nConsider the following statements regarding the condition $M' = M$. Which of these statements are necessarily true? Select all that apply.\n\nA. If $n$ is an odd number, adding a new data point $x_{new}$ such that $x_{new} = M$ will always result in $M' = M$.\n\nB. If $n$ is an even number, adding a new data point $x_{new}$ such that $x_{new} = M$ will always result in $M' = M$.\n\nC. If $n$ is an even number and $x_{n/2} = x_{n/2+1}$, then adding any new data point $x_{new}$ will always result in $M' = M$.\n\nD. If $n$ is an odd number and $x_{(n+1)/2} = x_{(n+1)/2 + 1}$, then adding any new data point $x_{new}$ such that $x_{new}  M$ will always result in $M' = M$.\n\nE. If $n$ is an odd number and $x_{(n+1)/2 - 1} = x_{(n+1)/2}$, then adding any new data point $x_{new}$ such that $x_{new}  M$ will always result in $M' = M$.", "solution": "Let the sorted dataset be $x_{1} \\leq x_{2} \\leq \\dots \\leq x_{n}$. Denote by $M$ the median of $S$ and by $M'$ the median after inserting one new point $x_{\\text{new}}$ to form $S'$ with size $n+1$.\n\nAnalyze by parity of $n$:\n\n1) Case $n$ odd. Write $n=2k+1$ so the median index is $m=k+1$ and $M=x_{m}=x_{k+1}$. After adding one point, $n+1=2k+2$ is even, so $M'=\\frac{1}{2}\\big(x'_{k+1}+x'_{k+2}\\big)$ where $x'$ denotes the sorted list of $S'$.\n\nA. Take $x_{\\text{new}}=M$. In $S$ let $L$ be the count of elements strictly less than $M$ and $R$ be the count strictly greater than $M$, and let $r$ be the count equal to $M$. Because $M=x_{k+1}$ in a list of length $2k+1$, we have $L \\leq k$, $R \\leq k$, and $r \\geq 1$ with $L+r+R=2k+1$. After adding one more $M$, the block of $M$’s has length $r+1$ and still straddles position $k+1$; moreover, since $L \\leq k$, both indices $k+1$ and $k+2$ fall within the (now longer) block of $M$’s. Hence $x'_{k+1}=M$ and $x'_{k+2}=M$, so\n$$\nM'=\\frac{1}{2}(M+M)=M.\n$$\nThus A is true.\n\nD. Assume $x_{m}=x_{m+1}=M$; that is, the middle element and its right neighbor are both $M$. If $x_{\\text{new}}M$, then insertion occurs strictly to the right of the entire block of $M$’s. Therefore in $S'$ the entries at indices $k+1$ and $k+2$ remain $x_{m}$ and $x_{m+1}$, both equal to $M$. Hence $M'=\\frac{1}{2}(M+M)=M$. Thus D is true.\n\nE. Assume $x_{m-1}=x_{m}=M$; that is, the middle element and its left neighbor are both $M$. If $x_{\\text{new}}M$, then insertion occurs strictly to the left of the block of $M$’s, shifting that block one position to the right. Consequently, in $S'$ we have $x'_{k+1}=x_{m-1}=M$ and $x'_{k+2}=x_{m}=M$, giving $M'=\\frac{1}{2}(M+M)=M$. Thus E is true.\n\n2) Case $n$ even. Write $n=2k$. Then $M=\\frac{1}{2}(x_{k}+x_{k+1})$. After adding one point, $n+1=2k+1$ is odd, so $M'=x'_{k+1}$.\n\nB. Take $x_{\\text{new}}=M=\\frac{1}{2}(x_{k}+x_{k+1})$. If $x_{k}x_{k+1}$ then $x_{k}Mx_{k+1}$, so in the sorted $S'$ the first $k$ elements remain $x_{1},\\dots,x_{k}$ and $x_{\\text{new}}$ sits between $x_{k}$ and $x_{k+1}$ at index $k+1$, hence $M'=x'_{k+1}=x_{\\text{new}}=M$. If $x_{k}=x_{k+1}$, then $M=x_{k}=x_{k+1}$ and inserting another copy of that value leaves $x'_{k+1}$ equal to that value, so again $M'=M$. Thus B is true.\n\nC. Assume $x_{k}=x_{k+1}=v$, so $M=v$. Let $L$ be the count of elements strictly less than $v$ and $r$ the count equal to $v$ in $S$. Since $x_{k}=x_{k+1}=v$, we have $L \\leq k-1$ and $r \\geq 2$. For any $x_{\\text{new}}$:\n- If $x_{\\text{new}}v$, then in $S'$ the number strictly less than $v$ is $L+1 \\leq k$, so index $k+1$ lies within the $v$-block, giving $x'_{k+1}=v$.\n- If $x_{\\text{new}}=v$, the $v$-block length increases and still covers index $k+1$.\n- If $x_{\\text{new}}v$, then $L$ stays the same with $L \\leq k-1$, and the $v$-block still covers index $k+1$ because $L+r \\geq (k-1)+2=k+1$.\nTherefore in all cases $x'_{k+1}=v=M$, so $M'=M$. Thus C is true.\n\nAll statements A, B, C, D, and E are necessarily true under their stated conditions.", "answer": "$$\\boxed{ABCDE}$$", "id": "1934422"}]}