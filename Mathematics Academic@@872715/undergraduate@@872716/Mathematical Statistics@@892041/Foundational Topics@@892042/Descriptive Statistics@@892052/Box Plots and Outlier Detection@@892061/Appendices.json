{"hands_on_practices": [{"introduction": "The first step in mastering outlier detection is to become proficient with its most common tool: the $1.5 \\times IQR$ rule. This exercise provides a practical scenario to build your computational skills. By calculating the outlier threshold for a dataset and observing how it changes when a new data point is added, you will gain a deeper appreciation for how summary statistics like quartiles and the IQR respond dynamically to new information [@problem_id:1902263].", "problem": "A performance analyst at a tech startup is monitoring the response time of their main web server. They have collected the following 11 measurements, in milliseconds (ms):\n$$\n32, 25, 41, 38, 29, 35, 22, 30, 33, 45, 27\n$$\nThe company uses a standard statistical method to flag unusually high response times for further investigation. A data point is classified as an upper outlier if it is greater than $Q_3 + 1.5 \\times IQR$. Here, $Q_3$ is the third quartile and $IQR$ is the Interquartile Range, defined as $IQR = Q_3 - Q_1$, where $Q_1$ is the first quartile.\n\nFor the purpose of calculating quartiles for a dataset of size $n$:\n- If $n$ is odd, the median is the middle value of the sorted data. $Q_1$ is the median of the lower half of the data, *including* the overall median. $Q_3$ is the median of the upper half of the data, *including* the overall median.\n- If $n$ is even, the median is the average of the two middle values of the sorted data. $Q_1$ is the median of the lower half of the data (which contains $n/2$ values). $Q_3$ is the median of the upper half of the data (which contains $n/2$ values).\n\nNow, suppose a 12th measurement is recorded. Let this new measurement have a value of $x$ ms. What is the minimum integer value that $x$ must have for it to be classified as an upper outlier in the new, combined dataset of 12 measurements? State your answer as an integer value in milliseconds.", "solution": "Sort the original 11 measurements in ascending order:\n$$\n22,\\ 25,\\ 27,\\ 29,\\ 30,\\ 32,\\ 33,\\ 35,\\ 38,\\ 41,\\ 45.\n$$\nAfter adding the 12th value $x$ and sorting, the dataset size is $n=12$ (even). According to the given rule for even $n$, with the sorted values denoted $b_{1} \\leq \\cdots \\leq b_{12}$, we have\n$$\nQ_{1}=\\frac{b_{3}+b_{4}}{2},\\qquad Q_{3}=\\frac{b_{9}+b_{10}}{2}.\n$$\nWe seek the minimum integer $x$ such that $x>Q_{3}+ \\frac{3}{2}IQR$, where $IQR=Q_{3}-Q_{1}$.\n\nIt suffices to analyze where $x$ falls relative to the largest original values, because an upper outlier must be large. Consider four cases that place $x$ into the upper half of the data:\n\n1) Case $35 < x \\leq 38$. Then $x$ is inserted between $35$ and $38$, so $b_{9}=x$ and $b_{10}=38$. Since $x>35$, the lower half is unchanged and $Q_{1}=\\frac{27+29}{2}=28$. Thus\n$$\nQ_{3}=\\frac{x+38}{2},\\quad IQR=Q_{3}-Q_{1}=\\frac{x-18}{2},\\quad Q_{3}+\\frac{3}{2}IQR=\\frac{x+38}{2}+\\frac{3}{2}\\cdot\\frac{x-18}{2}=\\frac{5x+22}{4}.\n$$\nThe outlier condition $x>\\frac{5x+22}{4}$ gives $4x>5x+22$, i.e., $x<-22$, which has no solutions in this case.\n\n2) Case $38 < x \\leq 41$. Then $b_{9}=38$ and $b_{10}=x$, and $Q_{1}=28$ as above. The same computation yields\n$$\nQ_{3}=\\frac{38+x}{2},\\quad IQR=\\frac{x-18}{2},\\quad Q_{3}+\\frac{3}{2}IQR=\\frac{5x+22}{4},\n$$\nagain implying $x<-22$, impossible here.\n\n3) Case $41 < x \\leq 45$. Then $b_{9}=38$, $b_{10}=41$, so\n$$\nQ_{3}=\\frac{38+41}{2}=\\frac{79}{2},\\quad Q_{1}=28,\\quad IQR=\\frac{79}{2}-28=\\frac{23}{2},\n$$\nand\n$$\nQ_{3}+\\frac{3}{2}IQR=\\frac{79}{2}+\\frac{3}{2}\\cdot\\frac{23}{2}=\\frac{79}{2}+\\frac{69}{4}=\\frac{227}{4}.\n$$\nHere $x\\leq 45<\\frac{227}{4}$, so no solution.\n\n4) Case $x>45$. Then $b_{9}=38$, $b_{10}=41$, so $Q_{1}=28$, $Q_{3}=\\frac{79}{2}$, $IQR=\\frac{23}{2}$, and the upper outlier threshold is\n$$\nQ_{3}+\\frac{3}{2}IQR=\\frac{227}{4}=56.75.\n$$\nThus $x$ must satisfy $x>56.75$, and the minimum integer $x$ is $57$.\n\nIn all other cases where $x\\leq 35$, $x$ is too small to exceed any upper outlier threshold. Therefore, the minimum integer value of $x$ that is classified as an upper outlier is $57$.", "answer": "$$\\boxed{57}$$", "id": "1902263"}, {"introduction": "While the $1.5 \\times IQR$ rule is a useful heuristic, its effectiveness can depend on the underlying shape of the data distribution. This problem moves from a specific dataset to a theoretical distribution to explore this relationship [@problem_id:1902266]. By analyzing how a power transformation warps a uniform distribution, you will discover the mathematical link between a distribution's properties and the symmetry and outlier characteristics of its corresponding box plot.", "problem": "A dataset is generated by applying a power transformation $Y = X^k$ to a random variable $X$ that is uniformly distributed on the interval $[0, 1]$. The exponent $k$ is a positive real number.\n\nFor any continuous distribution, its quartiles are the first quartile ($Q_1$), the median ($Q_2$), and the third quartile ($Q_3$). The Interquartile Range (IQR) is given by $\\text{IQR} = Q_3 - Q_1$. A common method for identifying outliers is the $1.5 \\times \\text{IQR}$ rule, which flags any data point $y$ as an outlier if $y < Q_1 - 1.5 \\times \\text{IQR}$ or $y > Q_3 + 1.5 \\times \\text{IQR}$.\n\nThis problem consists of two parts:\n1.  Determine the unique positive value of the exponent $k$ for which the distribution of $Y$ is symmetric with respect to its quartiles. This symmetry means the median $Q_2$ is equidistant from the first and third quartiles, i.e., $Q_2 - Q_1 = Q_3 - Q_2$.\n2.  Now, set the exponent to $k=4$. For a random sample of $n=800$ observations of the variable $Y$, calculate the expected number of outliers.\n\nYour final answer should be given as a pair of values $(k, E)$, where $k$ is the value from the first part and $E$ is the expected number of outliers from the second part. Express $E$ as an exact analytical expression.", "solution": "Let $X \\sim \\text{Uniform}(0,1)$ and $Y=X^{k}$ with $k>0$. Because the map $x \\mapsto x^{k}$ is strictly increasing on $[0,1]$, the cumulative distribution function of $Y$ on $[0,1]$ is\n$$\nF_{Y}(y)=\\mathbb{P}(Y \\le y)=\\mathbb{P}(X^{k} \\le y)=\\mathbb{P}\\!\\left(X \\le y^{\\frac{1}{k}}\\right)=y^{\\frac{1}{k}}.\n$$\nTherefore the $p$-quantile of $Y$ solves $p=F_{Y}(y)=y^{\\frac{1}{k}}$, giving\n$$\nQ_{p}=p^{k}.\n$$\nIn particular,\n$$\nQ_{1}=\\left(\\frac{1}{4}\\right)^{k}, \\quad Q_{2}=\\left(\\frac{1}{2}\\right)^{k}, \\quad Q_{3}=\\left(\\frac{3}{4}\\right)^{k}.\n$$\nPart 1: Symmetry with respect to quartiles requires $Q_{2}-Q_{1}=Q_{3}-Q_{2}$, i.e.\n$$\n\\left(\\frac{1}{2}\\right)^{k}-\\left(\\frac{1}{4}\\right)^{k}=\\left(\\frac{3}{4}\\right)^{k}-\\left(\\frac{1}{2}\\right)^{k},\n$$\nwhich is equivalent to\n$$\n2\\left(\\frac{1}{2}\\right)^{k}=\\left(\\frac{1}{4}\\right)^{k}+\\left(\\frac{3}{4}\\right)^{k}.\n$$\nFor fixed $k>0$, the function $t \\mapsto t^{k}$ on $[0,1]$ is strictly concave when $0<k<1$ and strictly convex when $k>1$. Using the midpoint inequality with $a=\\frac{1}{4}$, $b=\\frac{1}{2}$, $c=\\frac{3}{4}$ (so $b=\\frac{a+c}{2}$), we have:\n- If $0<k<1$ (concave), then $2 b^{k}>a^{k}+c^{k}$.\n- If $k>1$ (convex), then $2 b^{k}<a^{k}+c^{k}$.\nThus equality $2 b^{k}=a^{k}+c^{k}$ can hold only if $t \\mapsto t^{k}$ is affine on $[a,c]$, which occurs only for $k=1$. Indeed, for $k=1$ the equality holds since $\\frac{1}{4}+\\frac{3}{4}=2 \\cdot \\frac{1}{2}$. Hence the unique positive solution is $k=1$.\n\nPart 2: Set $k=4$. Then\n$$\nQ_{1}=\\left(\\frac{1}{4}\\right)^{4}=\\frac{1}{256}, \\quad Q_{3}=\\left(\\frac{3}{4}\\right)^{4}=\\frac{81}{256}, \\quad \\text{IQR}=Q_{3}-Q_{1}=\\frac{80}{256}=\\frac{5}{16}.\n$$\nThe lower fence is\n$$\nQ_{1}-\\frac{3}{2}\\,\\text{IQR}=\\frac{1}{256}-\\frac{3}{2}\\cdot \\frac{5}{16}=\\frac{1}{256}-\\frac{15}{32}=\\frac{1-120}{256}=-\\frac{119}{256}<0,\n$$\nso there are no lower outliers because $Y \\in [0,1]$. The upper fence is\n$$\nQ_{3}+\\frac{3}{2}\\,\\text{IQR}=\\frac{81}{256}+\\frac{15}{32}=\\frac{81+120}{256}=\\frac{201}{256}.\n$$\nThus an outlier occurs when $Y>\\frac{201}{256}$. For $k=4$, $F_{Y}(y)=y^{\\frac{1}{4}}$ on $[0,1]$, so the outlier probability is\n$$\np=\\mathbb{P}\\!\\left(Y>\\frac{201}{256}\\right)=1-F_{Y}\\!\\left(\\frac{201}{256}\\right)=1-\\left(\\frac{201}{256}\\right)^{\\frac{1}{4}}.\n$$\nFor $n=800$ independent observations, the expected number of outliers is\n$$\nE=n\\,p=800\\left(1-\\left(\\frac{201}{256}\\right)^{\\frac{1}{4}}\\right).\n$$", "answer": "$$\\boxed{\\begin{pmatrix} 1 & 800\\left(1-\\left(\\frac{201}{256}\\right)^{\\frac{1}{4}}\\right) \\end{pmatrix}}$$", "id": "1902266"}, {"introduction": "In many real-world applications, such as finance or reliability engineering, data often exhibit \"heavy tails,\" where extreme values are more common than in a normal distribution. In these cases, the standard $1.5 \\times IQR$ rule can be inadequate. This advanced practice challenges you to go beyond applying a fixed rule and instead design a custom outlier detection threshold for a Pareto distribution, a classic model for heavy-tailed phenomena [@problem_id:1902234].", "problem": "In statistical quality control, the distribution of the magnitude of certain non-conforming events is often modeled by a heavy-tailed distribution. Consider a random variable $X$ that follows a Pareto Type I distribution, characterized by a scale parameter $x_m > 0$ and a tail index $\\alpha > 1$. The Cumulative Distribution Function (CDF) for this distribution is given by:\n$$ F(x) = \\begin{cases} 1 - \\left(\\frac{x_m}{x}\\right)^{\\alpha} & \\text{for } x \\ge x_m \\\\ 0 & \\text{for } x < x_m \\end{cases} $$\nFor a particular process, it has been determined that the appropriate tail index is $\\alpha=2$.\n\nA common method for identifying potential outliers in a dataset is Tukey's method. According to this method, an observation is flagged as an outlier if it falls outside the range $[Q_1 - 1.5 \\times \\text{IQR}, Q_3 + 1.5 \\times \\text{IQR}]$, where $Q_1$ is the first quartile, $Q_3$ is the third quartile, and IQR is the Interquartile Range, defined as $\\text{IQR} = Q_3 - Q_1$.\n\nWe wish to define a modified outlier detection rule for this specific Pareto distribution. An observation $x$ will be classified as an outlier if it falls outside the range $[Q_1 - k \\times \\text{IQR}, Q_3 + k \\times \\text{IQR}]$, where $k$ is a positive constant.\n\nDetermine the exact value of the constant $k$ such that the theoretical probability of a randomly selected observation from this Pareto distribution (with $\\alpha=2$) being classified as an outlier is precisely $0.01$. Provide a closed-form analytic expression for $k$.", "solution": "For a Pareto Type I distribution with parameters $x_{m}>0$ and $\\alpha=2$, the CDF is $F(x)=1-\\left(\\frac{x_{m}}{x}\\right)^{2}$ for $x\\ge x_{m}$. The $p$-quantile $Q_{p}$ satisfies\n$$\nF(Q_{p})=p \\;\\Longrightarrow\\; \\left(\\frac{x_{m}}{Q_{p}}\\right)^{2}=1-p \\;\\Longrightarrow\\; Q_{p}=x_{m}(1-p)^{-1/2}.\n$$\nThus\n$$\nQ_{1}=Q_{0.25}=x_{m}\\left(\\frac{3}{4}\\right)^{-1/2}=\\frac{2x_{m}}{\\sqrt{3}}, \n\\qquad\nQ_{3}=Q_{0.75}=x_{m}\\left(\\frac{1}{4}\\right)^{-1/2}=2x_{m}.\n$$\nThe interquartile range is\n$$\n\\text{IQR}=Q_{3}-Q_{1}=2x_{m}-\\frac{2x_{m}}{\\sqrt{3}}=2x_{m}\\left(1-\\frac{1}{\\sqrt{3}}\\right).\n$$\nDefine $t=1-\\frac{1}{\\sqrt{3}}>0$ for brevity. The modified Tukey fences are\n$$\nL=Q_{1}-k\\,\\text{IQR}=2x_{m}\\left(\\frac{1}{\\sqrt{3}}-kt\\right), \n\\qquad \nU=Q_{3}+k\\,\\text{IQR}=2x_{m}\\left(1+kt\\right).\n$$\nSince the support is $[x_{m},\\infty)$, the outlier probability is\n$$\n\\mathbb{P}(\\text{outlier})=\\mathbb{P}(X<L)+\\mathbb{P}(X>U)\n=\n\\begin{cases}\nF(L)+\\left(\\dfrac{x_{m}}{U}\\right)^{2} & \\text{if } L > x_{m} \\\\\n\\left(\\dfrac{x_{m}}{U}\\right)^{2} & \\text{if } L \\le x_{m}\n\\end{cases}\n$$\nWe first determine when the lower fence drops below $x_{m}$. Solve $L=x_{m}$:\n$$\n2x_{m}\\left(\\frac{1}{\\sqrt{3}}-k_{0}t\\right)=x_{m}\n\\;\\Longrightarrow\\;\n2\\left(\\frac{1}{\\sqrt{3}}-k_{0}t\\right)=1\n\\;\\Longrightarrow\\;\nk_{0}=\\frac{\\frac{1}{\\sqrt{3}}-\\frac{1}{2}}{t}.\n$$\nFor any $k\\ge k_{0}$, $\\mathbb{P}(X<L)=0$, so the outlier probability reduces to\n$$\n\\mathbb{P}(\\text{outlier})=\\left(\\frac{x_{m}}{U}\\right)^{2}\n=\\left(\\frac{1}{2(1+kt)}\\right)^{2}.\n$$\nWe require this to equal $\\frac{1}{100}$:\n$$\n\\frac{1}{4(1+kt)^{2}}=\\frac{1}{100}\n\\;\\Longrightarrow\\;\n(1+kt)^{2}=25\n\\;\\Longrightarrow\\;\n1+kt=5\n\\;\\Longrightarrow\\;\nkt=4\n\\;\\Longrightarrow\\;\nk=\\frac{4}{t}=\\frac{4}{1-\\frac{1}{\\sqrt{3}}}.\n$$\nThis $k$ satisfies $k>k_{0}$, because $4>\\frac{1}{\\sqrt{3}}-\\frac{1}{2}$ and $t>0$, so the assumption $L\\le x_{m}$ is valid. Simplifying,\n$$\nk=\\frac{4}{1-\\frac{1}{\\sqrt{3}}}\n=\\frac{4\\sqrt{3}}{\\sqrt{3}-1}\n=\\frac{4\\sqrt{3}(\\sqrt{3}+1)}{(\\sqrt{3}-1)(\\sqrt{3}+1)}\n=\\frac{4\\sqrt{3}(\\sqrt{3}+1)}{2}\n=2\\sqrt{3}(\\sqrt{3}+1)\n=6+2\\sqrt{3}.\n$$\nTherefore, the exact constant $k$ ensuring the outlier probability equals $\\frac{1}{100}$ is $6+2\\sqrt{3}$.", "answer": "$$\\boxed{6+2\\sqrt{3}}$$", "id": "1902234"}]}