{"hands_on_practices": [{"introduction": "Before tackling complex scenarios, it is crucial to verify our understanding with a foundational case. This first exercise serves as a sanity check, applying the core definitions of the gradient to the simplest possible positive harmonic function—a constant—to confirm that the Cheng-Yau estimate holds trivially, as expected [@problem_id:3067411]. This ensures a firm grasp of the fundamental objects before proceeding to more involved calculations.", "problem": "Let $(M^{n},g)$ be a complete Riemannian manifold and let $B_{r}(p)\\subset M$ denote the geodesic ball of radius $r0$ centered at a point $p\\in M$. Suppose $u:B_{r}(p)\\to(0,\\infty)$ is a positive harmonic function, that is, it satisfies $\\Delta u=0$ on $B_{r}(p)$, where $\\Delta$ is the Laplace–Beltrami operator. Define $f=\\log u$. The Cheng–Yau gradient estimate in geometric analysis controls the quantity $\\sup_{B_{r/2}(p)}|\\nabla f|$ in terms of geometric data of $(M^{n},g)$ and the radius $r$. Starting only from the core definitions of the Riemannian gradient and the chain rule, assume in addition that $u$ is constant on $B_{r}(p)$ and compute the exact value of\n$$\n\\sup_{x\\in B_{r/2}(p)}|\\nabla f(x)|.\n$$\nYour final answer must be a single real number. No rounding is required.", "solution": "The problem asks for the computation of the quantity $\\sup_{x\\in B_{r/2}(p)}|\\nabla f(x)|$ under a specific set of conditions. We begin by stating the given information and assumptions.\n\nLet $(M^{n},g)$ be a complete Riemannian manifold. Let $u:B_{r}(p)\\to(0,\\infty)$ be a positive function defined on a geodesic ball $B_{r}(p)$ of radius $r0$ centered at $p \\in M$. The function $f$ is defined as $f = \\log u$. The problem introduces the additional assumption that $u$ is a constant function on $B_{r}(p)$.\n\nLet the constant value of $u$ on $B_{r}(p)$ be $c$. Since the codomain of $u$ is $(0,\\infty)$, we must have $c > 0$. Thus, for all $x \\in B_{r}(p)$, we have $u(x) = c$.\nConsequently, the function $f(x)$ is also constant on $B_{r}(p)$:\n$$f(x) = \\log(u(x)) = \\log(c)$$\nfor all $x \\in B_{r}(p)$.\n\nThe quantity to be computed is the supremum of the norm of the gradient of $f$, $|\\nabla f(x)|$, over the smaller ball $B_{r/2}(p)$. We must first determine the gradient vector field $\\nabla f$. The problem requests this to be done starting from core definitions.\n\nThe gradient of a function $h$ on a Riemannian manifold, denoted $\\nabla h$, is the vector field that is metrically dual to its differential $dh$. This means that for any tangent vector $v$ at a point $x \\in M$, the following relation holds:\n$$g_x(\\nabla h(x), v) = (dh)_x(v)$$\nwhere $(dh)_x(v)$ is the action of the differential of $h$ at $x$ on the vector $v$, which is equivalent to the directional derivative of $h$ in the direction of $v$.\n\nIn our case, the function $f$ is constant on the open set $B_r(p)$. Let $x$ be any point in $B_r(p)$ and let $v$ be any tangent vector in the tangent space $T_x M$. Since $f$ is constant, its directional derivative in any direction is zero. Thus,\n$$(df)_x(v) = 0$$\nSubstituting this into the definition of the gradient, we get:\n$$g_x(\\nabla f(x), v) = 0$$\nThis equation holds for every point $x \\in B_r(p)$ and for every tangent vector $v \\in T_x M$. Since the Riemannian metric $g_x$ is a non-degenerate inner product on each tangent space $T_x M$, the only vector that has a zero inner product with every vector is the zero vector itself. Therefore, the gradient of $f$ must be the zero vector at every point $x$ in $B_r(p)$:\n$$\\nabla f(x) = 0 \\quad \\forall x \\in B_{r}(p)$$\n\nAlternatively, as suggested by the problem, we can use the chain rule. The chain rule for the gradient states that for a function of the form $h(u(x))$, its gradient is given by $\\nabla(h \\circ u) = (h' \\circ u) \\nabla u$. For $f = \\log u$, we have $h(t) = \\log t$, so $h'(t) = 1/t$. This gives:\n$$\\nabla f = \\nabla(\\log u) = \\frac{1}{u} \\nabla u$$\nSince $u$ is a constant function, $u(x)=c$ on $B_r(p)$, its gradient $\\nabla u$ is the zero vector field on $B_r(p)$. Substituting $\\nabla u = 0$ and $u=c$ into the equation yields:\n$$\\nabla f(x) = \\frac{1}{c} \\cdot 0 = 0 \\quad \\forall x \\in B_{r}(p)$$\nBoth methods confirm that the gradient of $f$ is identically zero on $B_r(p)$.\n\nNext, we compute the norm of the gradient, $|\\nabla f(x)|$. The norm of a vector field $X$ is defined as $|X| = \\sqrt{g(X,X)}$. For $\\nabla f(x) = 0$, this becomes:\n$$|\\nabla f(x)| = \\sqrt{g_x(0, 0)} = 0$$\nThis holds for all $x \\in B_r(p)$.\n\nThe problem asks for the supremum of this quantity over the ball $B_{r/2}(p)$. Since $r0$, the ball $B_{r/2}(p)$ is a non-empty subset of $B_r(p)$. For every point $x$ in this smaller ball, we have $|\\nabla f(x)| = 0$. Therefore, the set of values we are taking the supremum of is simply $\\{0\\}$.\n$$\\sup_{x\\in B_{r/2}(p)}|\\nabla f(x)| = \\sup_{x\\in B_{r/2}(p)} \\{0\\} = 0$$\n\nThe problem statement provides additional information that $u$ is a harmonic function, meaning $\\Delta u = 0$. If $u$ is a constant function, its Laplacian is indeed zero, so this condition is consistent with the assumption that $u$ is constant. The mention of the Cheng-Yau gradient estimate serves as context. The estimate provides an upper bound on $|\\nabla f|$, which depends on the geometry of the manifold. Our direct calculation under the simplifying assumption that $u$ is constant yields an exact value of $0$, which is consistent with any non-negative upper bound provided by the theorem.", "answer": "$$\n\\boxed{0}\n$$", "id": "3067411"}, {"introduction": "The proof of the Cheng-Yau gradient estimate relies on a powerful analytical tool known as the Bochner identity, which relates the Laplacian of the gradient's norm to curvature and the function's Hessian. To demystify this abstract formula, this practice walks you through a concrete calculation for the familiar function $f(x)=|x|^2$ in Euclidean space [@problem_id:3067451]. By explicitly computing each component, you will see how the terms of the identity interact in a tangible and controlled setting.", "problem": "Let $f:\\mathbb{R}^n\\to\\mathbb{R}$ be given by $f(x)=|x|^2$, where $x=(x_1,\\dots,x_n)$ and $|x|^2=\\sum_{i=1}^n x_i^2$. Work in the standard Euclidean metric on $\\mathbb{R}^n$. Using only the coordinate definitions of the gradient, the gradient norm, and the Laplacian, namely $(\\nabla f)_i=\\partial_i f$, $|\\nabla f|^2=\\sum_{i=1}^n (\\partial_i f)^2$, and $\\Delta u=\\sum_{i=1}^n \\partial_i\\partial_i u$, compute the explicit value of $\\Delta |\\nabla f|^2$ as a function of $n$. Then explain briefly why your value is consistent with the Bochner identity on $\\mathbb{R}^n$ by identifying the quantities $|\\nabla^2 f|^2$, $\\langle \\nabla f,\\nabla(\\Delta f)\\rangle$, and the Ricci curvature term for this $f$. Provide your final answer as a closed-form expression in terms of $n$.", "solution": "We are given the function $f:\\mathbb{R}^n\\to\\mathbb{R}$ defined by $f(x)=|x|^2 = \\sum_{j=1}^n x_j^2$. The metric is the standard Euclidean metric on $\\mathbb{R}^n$. We are asked to compute $\\Delta |\\nabla f|^2$ and then contextualize this result using the Bochner identity.\n\nFirst, we compute the gradient of $f$. The $i$-th component of the gradient $\\nabla f$ is given by $(\\nabla f)_i = \\partial_i f$.\n$$\n(\\nabla f)_i = \\partial_i \\left(\\sum_{j=1}^n x_j^2\\right) = \\sum_{j=1}^n \\partial_i(x_j^2)\n$$\nThe partial derivative $\\partial_i(x_j^2)$ is $2x_j$ if $i=j$ and $0$ if $i \\neq j$. This can be written using the Kronecker delta, $\\delta_{ij}$, as $2x_j \\delta_{ij}$. Summing over $j$, only the term where $j=i$ survives.\n$$\n(\\nabla f)_i = \\sum_{j=1}^n 2x_j \\delta_{ij} = 2x_i\n$$\nSo, the gradient vector is $\\nabla f = (2x_1, 2x_2, \\dots, 2x_n) = 2x$.\n\nNext, we compute the squared norm of the gradient, $|\\nabla f|^2$.\n$$\n|\\nabla f|^2 = \\sum_{i=1}^n ((\\nabla f)_i)^2 = \\sum_{i=1}^n (2x_i)^2 = \\sum_{i=1}^n 4x_i^2 = 4 \\sum_{i=1}^n x_i^2 = 4|x|^2\n$$\nWe are asked to compute the Laplacian of this quantity, $\\Delta |\\nabla f|^2$. Let $u(x) = |\\nabla f|^2 = 4|x|^2$.\n$$\n\\Delta |\\nabla f|^2 = \\Delta (4|x|^2) = 4 \\Delta(|x|^2)\n$$\nBy definition, $\\Delta(|x|^2) = \\sum_{i=1}^n \\partial_i \\partial_i (|x|^2) = \\sum_{i=1}^n \\partial_i \\partial_i \\left(\\sum_{j=1}^n x_j^2\\right)$.\nLet's compute the second partial derivative term by term.\n$$\n\\partial_i \\left(\\sum_{j=1}^n x_j^2\\right) = 2x_i\n$$\nThen,\n$$\n\\partial_i \\partial_i \\left(\\sum_{j=1}^n x_j^2\\right) = \\partial_i (2x_i) = 2\n$$\nSubstituting this into the sum for the Laplacian:\n$$\n\\Delta(|x|^2) = \\sum_{i=1}^n 2 = 2n\n$$\nTherefore, the value of $\\Delta |\\nabla f|^2$ is:\n$$\n\\Delta |\\nabla f|^2 = 4 \\Delta(|x|^2) = 4(2n) = 8n\n$$\n\nNow, we explain why this is consistent with the Bochner identity on $\\mathbb{R}^n$. The general Bochner identity on a Riemannian manifold $(M, g)$ is:\n$$\n\\frac{1}{2} \\Delta |\\nabla f|^2 = |\\nabla^2 f|^2 + \\langle \\nabla f, \\nabla(\\Delta f) \\rangle + \\text{Ric}(\\nabla f, \\nabla f)\n$$\nFor our case, the manifold is $\\mathbb{R}^n$ with the standard Euclidean metric. The Ricci curvature tensor of $\\mathbb{R}^n$ is identically zero, so $\\text{Ric}(\\cdot, \\cdot) = 0$. The identity simplifies to:\n$$\n\\frac{1}{2} \\Delta |\\nabla f|^2 = |\\nabla^2 f|^2 + \\langle \\nabla f, \\nabla(\\Delta f) \\rangle\n$$\nWe evaluate each side of this identity for $f(x)=|x|^2$.\n\nThe left-hand side (LHS) is:\n$$\n\\text{LHS} = \\frac{1}{2} \\Delta |\\nabla f|^2 = \\frac{1}{2}(8n) = 4n\n$$\n\nFor the right-hand side (RHS), we need to compute the two terms.\nThe first term is $\\langle \\nabla f, \\nabla(\\Delta f) \\rangle$. We have already computed $\\Delta f = \\Delta(|x|^2) = 2n$. Since $2n$ is a constant for a given dimension $n$, its gradient is the zero vector:\n$$\n\\nabla(\\Delta f) = \\nabla(2n) = 0\n$$\nThus, the inner product is zero:\n$$\n\\langle \\nabla f, \\nabla(\\Delta f) \\rangle = \\langle 2x, 0 \\rangle = 0\n$$\n\nThe second term is $|\\nabla^2 f|^2$, which is the squared Frobenius norm of the Hessian matrix of $f$. The components of the Hessian tensor $\\nabla^2 f$ are $(\\nabla^2 f)_{ij} = \\partial_i \\partial_j f$.\n$$\n(\\nabla^2 f)_{ij} = \\partial_i(\\partial_j f) = \\partial_i(2x_j) = 2\\delta_{ij}\n$$\nSo the Hessian matrix is $2$ times the identity matrix, $H_f = 2I_n$.\nThe squared norm is the sum of squares of all its components:\n$$\n|\\nabla^2 f|^2 = \\sum_{i=1}^n \\sum_{j=1}^n ((\\nabla^2 f)_{ij})^2 = \\sum_{i=1}^n \\sum_{j=1}^n (2\\delta_{ij})^2\n$$\nThe term $(2\\delta_{ij})^2$ is $4$ when $i=j$ and $0$ when $i \\neq j$. Therefore, the sum becomes:\n$$\n|\\nabla^2 f|^2 = \\sum_{i=1}^n (2\\delta_{ii})^2 = \\sum_{i=1}^n 2^2 = \\sum_{i=1}^n 4 = 4n\n$$\n\nThe quantities identified are:\n- The Ricci curvature term $\\text{Ric}(\\nabla f, \\nabla f)$ is $0$ because the Ricci curvature of $\\mathbb{R}^n$ is zero.\n- The term $\\langle \\nabla f, \\nabla(\\Delta f) \\rangle$ is $0$ because $\\Delta f = 2n$ is a constant.\n- The term $|\\nabla^2 f|^2$ is $4n$, representing the squared norm of the Hessian, which is the constant tensor $2g_{ij}$.\n\nSumming the terms on the RHS:\n$$\n\\text{RHS} = |\\nabla^2 f|^2 + \\langle \\nabla f, \\nabla(\\Delta f) \\rangle = 4n + 0 = 4n\n$$\nSince LHS = $4n$ and RHS = $4n$, our direct calculation of $\\Delta |\\nabla f|^2=8n$ is consistent with the Bochner identity.", "answer": "$$\n\\boxed{8n}\n$$", "id": "3067451"}, {"introduction": "A key insight from the Cheng-Yau estimate is that for a positive harmonic function $u$, the magnitude of the gradient of $\\log u$ is controlled by the geometry of the domain, specifically scaling like the inverse of its radius. This exercise provides a tangible model for this behavior by guiding you to construct a classical harmonic function on an annulus in Euclidean space [@problem_id:3067418]. You will then directly compute its gradient to verify this characteristic $1/r$ decay, illustrating the geometric intuition behind the estimate.", "problem": "Let $\\mathbb{R}^{n}$ be the $n$-dimensional Euclidean space with $n \\geq 3$. Consider the annulus $A=\\{x \\in \\mathbb{R}^{n} : r_{1}  |x|  r_{2}\\}$ with fixed radii $0  r_{1}  r_{2}$. A function $u:A \\to (0,\\infty)$ is called harmonic if $\\Delta u = 0$, where $\\Delta$ is the Euclidean Laplacian.\n\nStarting only from the definition of the Laplacian and the fact that a rotationally symmetric (radial) function has the form $u(x)=f(|x|)$ with $r=|x|$, do the following:\n\n1. Construct a positive radial harmonic function $u$ on $A$ that satisfies the boundary conditions $u(r_{1})=1$ and $u(r_{2})=(r_{2}/r_{1})^{2-n}$.\n\n2. For your constructed function $u$, compute $|\\nabla \\log u|(x)$ explicitly as a function of $r=|x|$ and show that it scales like $1/r$.\n\n3. Evaluate the quantity $C(n):=r\\,|\\nabla \\log u|(x)$ for any $x \\in A$ with $|x|=r$. Provide your final answer as a single simplified analytic expression in terms of $n$ only.\n\nNo numerical rounding is required. Express the final answer in exact form with no units.", "solution": "The problem asks for three things: first, to construct a specific positive radial harmonic function on an annulus; second, to compute the magnitude of the gradient of its logarithm; and third, to evaluate a related quantity.\n\nLet $u(x)$ be a rotationally symmetric (radial) function on $\\mathbb{R}^{n}$. This means $u(x)$ depends only on the distance $r=|x|$ from the origin. We can write $u(x) = f(|x|) = f(r)$, where $f$ is a function of a single real variable.\n\nFirst, we must express the Laplacian operator $\\Delta$ in terms of this radial coordinate $r$. The Laplacian is defined as $\\Delta u = \\sum_{i=1}^{n} \\frac{\\partial^2 u}{\\partial x_i^2}$. We use the chain rule to transform this expression.\nLet $r = |x| = (\\sum_{k=1}^{n} x_k^2)^{1/2}$. The partial derivative of $r$ with respect to $x_i$ is:\n$$ \\frac{\\partial r}{\\partial x_i} = \\frac{1}{2} \\left(\\sum_{k=1}^{n} x_k^2\\right)^{-1/2} (2x_i) = \\frac{x_i}{r} $$\nThe first partial derivative of $u(x) = f(r)$ with respect to $x_i$ is:\n$$ \\frac{\\partial u}{\\partial x_i} = \\frac{df}{dr} \\frac{\\partial r}{\\partial x_i} = f'(r) \\frac{x_i}{r} $$\nThe second partial derivative is found using the product rule and chain rule:\n$$ \\frac{\\partial^2 u}{\\partial x_i^2} = \\frac{\\partial}{\\partial x_i} \\left( f'(r) \\frac{x_i}{r} \\right) = \\left(\\frac{\\partial}{\\partial x_i} f'(r)\\right) \\frac{x_i}{r} + f'(r) \\frac{\\partial}{\\partial x_i}\\left(\\frac{x_i}{r}\\right) $$\nThe first term is:\n$$ \\left(\\frac{d(f'(r))}{dr} \\frac{\\partial r}{\\partial x_i}\\right) \\frac{x_i}{r} = f''(r) \\frac{x_i}{r} \\frac{x_i}{r} = f''(r) \\frac{x_i^2}{r^2} $$\nThe second term is:\n$$ f'(r) \\left( \\frac{1 \\cdot r - x_i \\cdot \\frac{\\partial r}{\\partial x_i}}{r^2} \\right) = f'(r) \\left( \\frac{r - x_i (\\frac{x_i}{r})}{r^2} \\right) = f'(r) \\left( \\frac{1}{r} - \\frac{x_i^2}{r^3} \\right) $$\nSumming over all $i$ from $1$ to $n$:\n$$ \\Delta u = \\sum_{i=1}^{n} \\frac{\\partial^2 u}{\\partial x_i^2} = \\sum_{i=1}^{n} \\left[ f''(r) \\frac{x_i^2}{r^2} + f'(r) \\left( \\frac{1}{r} - \\frac{x_i^2}{r^3} \\right) \\right] $$\n$$ \\Delta u = f''(r) \\sum_{i=1}^{n} \\frac{x_i^2}{r^2} + f'(r) \\left( \\sum_{i=1}^{n} \\frac{1}{r} - \\sum_{i=1}^{n} \\frac{x_i^2}{r^3} \\right) $$\nUsing the fact that $\\sum_{i=1}^{n} x_i^2 = r^2$:\n$$ \\Delta u = f''(r) \\frac{r^2}{r^2} + f'(r) \\left( \\frac{n}{r} - \\frac{r^2}{r^3} \\right) = f''(r) + \\frac{n-1}{r} f'(r) $$\nFor $u$ to be harmonic, we must have $\\Delta u = 0$. This gives the ordinary differential equation (ODE) for $f(r)$:\n$$ f''(r) + \\frac{n-1}{r} f'(r) = 0 $$\n\nWe solve this ODE. Let $g(r) = f'(r)$. The equation becomes $g'(r) + \\frac{n-1}{r} g(r) = 0$, which is a first-order separable equation:\n$$ \\frac{g'(r)}{g(r)} = -\\frac{n-1}{r} $$\nIntegrating both sides with respect to $r$ yields:\n$$ \\ln |g(r)| = -(n-1) \\ln r + C_0 = \\ln(r^{-(n-1)}) + C_0 $$\n$$ g(r) = C_1 r^{1-n} $$\nwhere $C_1$ is an arbitrary constant. Now we find $f(r)$ by integrating $g(r) = f'(r)$:\n$$ f(r) = \\int C_1 r^{1-n} dr $$\nSince the problem specifies $n \\geq 3$, the exponent $1-n$ is not equal to $-1$. Thus, the integral is:\n$$ f(r) = C_1 \\frac{r^{2-n}}{2-n} + C_2 $$\nLet $A = \\frac{C_1}{2-n}$ and $B=C_2$. The general form of a radial harmonic function for $n \\geq 3$ is $u(x) = f(r) = Ar^{2-n} + B$.\n\n**Part 1: Construct the function $u$**\nWe apply the boundary conditions $u(r_{1})=1$ and $u(r_{2})=(r_{2}/r_{1})^{2-n}$ to find the constants $A$ and $B$.\n$$ Ar_{1}^{2-n} + B = 1 $$\n$$ Ar_{2}^{2-n} + B = \\left(\\frac{r_{2}}{r_{1}}\\right)^{2-n} = r_{2}^{2-n} r_{1}^{n-2} $$\nConsider the specific case where $B=0$. The first equation becomes $Ar_{1}^{2-n} = 1$, which implies $A = r_{1}^{n-2}$.\nLet's substitute this value of $A$ into the second equation to verify if it holds:\n$$ (r_{1}^{n-2}) r_{2}^{2-n} + 0 = (r_{1}^{-1})^{2-n} r_{2}^{2-n} = \\left(\\frac{r_2}{r_1}\\right)^{2-n} $$\nThis matches the second boundary condition. Thus, the unique solution is given by $A = r_{1}^{n-2}$ and $B=0$. The function is:\n$$ u(x) = f(r) = r_{1}^{n-2} r^{2-n} = \\left(\\frac{r}{r_1}\\right)^{2-n} $$\nThis function is positive on the annulus $A$ since $r_1>0$ and $r>r_1>0$.\n\n**Part 2: Compute $|\\nabla \\log u|(x)$**\nFirst, we compute $\\log u$:\n$$ \\log u(x) = \\log\\left(\\left(\\frac{r}{r_1}\\right)^{2-n}\\right) = (2-n) \\log\\left(\\frac{r}{r_1}\\right) = (2-n)(\\ln r - \\ln r_1) $$\nNext, we compute the gradient, $\\nabla(\\log u)$. The gradient of a radial function $h(r)$ is given by $\\nabla h(r) = h'(r) \\nabla r$. We know $\\nabla r = x/r$. Let $h(r) = \\log u(r)$.\n$$ h'(r) = \\frac{d}{dr} \\left[ (2-n)(\\ln r - \\ln r_1) \\right] = (2-n) \\frac{1}{r} $$\nSo, the gradient is:\n$$ \\nabla \\log u(x) = (2-n) \\frac{1}{r} \\frac{x}{r} = (2-n) \\frac{x}{r^2} $$\nNow we compute its magnitude, $|\\nabla \\log u|(x)$:\n$$ |\\nabla \\log u|(x) = \\left| (2-n) \\frac{x}{r^2} \\right| = |2-n| \\left| \\frac{x}{r^2} \\right| $$\nSince $n \\geq 3$, we have $2-n  0$, so $|2-n| = n-2$. Also, $|x|=r$.\n$$ |\\nabla \\log u|(x) = (n-2) \\frac{|x|}{r^2} = (n-2) \\frac{r}{r^2} = \\frac{n-2}{r} $$\nThis shows that $|\\nabla \\log u|$ scales like $1/r$, as required.\n\n**Part 3: Evaluate $C(n)$**\nThe problem defines the quantity $C(n) = r\\,|\\nabla \\log u|(x)$ for any $x \\in A$ with $|x|=r$. Using our result from Part 2:\n$$ C(n) = r \\cdot \\left( \\frac{n-2}{r} \\right) = n-2 $$\nThis quantity is a constant that depends only on the dimension $n$.", "answer": "$$\\boxed{n-2}$$", "id": "3067418"}]}