{"hands_on_practices": [{"introduction": "The semantic tableaux method is not only for proving formulas valid but is also a powerful tool for refuting them by finding specific counterexamples. This exercise guides you through the process of showing a formula is not a tautology by constructing an open tableau branch and extracting a falsifying valuation from it. This practice is essential for understanding how tableaux mechanize the search for countermodels. [@problem_id:3051989]", "problem": "Consider classical propositional logic with the Semantic Tableau (Truth-Tree) method for validity testing. Let a valuation be a function $v$ assigning each propositional variable a truth value, and write the truth values as the mathematical symbols $\\mathsf{T}$ and $\\mathsf{F}$. The semantic clause for implication is: for any formulas $\\varphi$ and $\\psi$, $v(\\varphi \\to \\psi) = \\mathsf{T}$ if and only if $v(\\varphi) = \\mathsf{F}$ or $v(\\psi) = \\mathsf{T}$, and $v(\\varphi \\to \\psi) = \\mathsf{F}$ if and only if $v(\\varphi) = \\mathsf{T}$ and $v(\\psi) = \\mathsf{F}$. The Semantic Tableau (Truth-Tree) method uses signed formulas $T\\varphi$ and $F\\varphi$ governed by decomposition rules derived from these clauses. In particular, $F(\\varphi \\to \\psi)$ decomposes to $T\\varphi$ and $F\\psi$ on the same branch, while $T(\\varphi \\to \\psi)$ branches into either $F\\varphi$ or $T\\psi$.\n\nUse a tableau to refute the validity of the formula $(p \\to q) \\to (q \\to p)$ by starting with the signed formula $F\\big((p \\to q) \\to (q \\to p)\\big)$ and systematically applying the tableau rules until all possible branches are either closed (contain a direct contradiction) or remain open. From any open branch, read off a countermodel (a valuation $v$ making the formula false). Then, encode the truth values of $p$ and $q$ from that countermodel numerically by defining\n$$\n\\chi(p) = \\begin{cases}\n1 & \\text{if } v(p) = \\mathsf{T},\\\\\n0 & \\text{if } v(p) = \\mathsf{F},\n\\end{cases}\n\\qquad\n\\chi(q) = \\begin{cases}\n1 & \\text{if } v(q) = \\mathsf{T},\\\\\n0 & \\text{if } v(q) = \\mathsf{F}.\n\\end{cases}\n$$\nFinally, compute the real number $f(v) = \\chi(p) + 2\\,\\chi(q)$ for the countermodel you have read off. No rounding is required; provide the exact value.", "solution": "The problem requires us to use the semantic tableau method to refute the validity of the propositional formula $(p \\to q) \\to (q \\to p)$. A formula is valid if and only if it is true under all possible valuations. To refute its validity, we must find at least one valuation, called a countermodel, for which the formula is false. The semantic tableau method is a systematic procedure for finding such a countermodel. The process begins by assuming the formula is false and then decomposing it according to a set of rules to see if this assumption leads to a contradiction. If any path in the tableau remains open (i.e., does not contain a contradiction), it describes a countermodel.\n\nWe start the tableau with the signed formula $F\\big((p \\to q) \\to (q \\to p)\\big)$, which represents the assumption that the formula is false.\n\nThe construction of the tableau proceeds as follows, with each line numbered for reference:\n\n1.  $F\\big((p \\to q) \\to (q \\to p)\\big)$ (Assumption)\n\nTo decompose the formula on line 1, we apply the rule for a false implication, $F(\\varphi \\to \\psi)$, which decomposes into $T\\varphi$ and $F\\psi$. In this case, $\\varphi$ is $(p \\to q)$ and $\\psi$ is $(q \\to p)$. This is an $\\alpha$-rule, so both resulting formulas are added to the same branch.\n\n2.  $T(p \\to q)$ (from 1)\n3.  $F(q \\to p)$ (from 1)\n\nNext, we decompose the formula on line 3, $F(q \\to p)$. Applying the same rule for a false implication, where $\\varphi$ is $q$ and $\\psi$ is $p$, we add $Tq$ and $Fp$ to the branch.\n\n4.  $Tq$ (from 3)\n5.  $Fp$ (from 3)\n\nNow, we must decompose the formula on line 2, $T(p \\to q)$. The rule for a true implication, $T(\\varphi \\to \\psi)$, is a $\\beta$-rule, which causes the tableau to branch. One branch will contain $F\\varphi$ and the other will contain $T\\psi$. Here, $\\varphi$ is $p$ and $\\psi$ is $q$.\n\nThe current branch, containing lines 1 through 5, splits into two sub-branches:\n\nBranch 1:\n6.  $Fp$ (from 2)\n\nBranch 2:\n7.  $Tq$ (from 2)\n\nWe now examine each branch to see if it is closed or open. A branch is closed if it contains a direct contradiction, i.e., signed formulas $T\\alpha$ and $F\\alpha$ for some formula $\\alpha$. Otherwise, it is open.\n\nAnalysis of Branch 1:\nThe primitive (atomic) signed formulas on this branch are $Tq$ (from line 4), $Fp$ (from line 5), and $Fp$ (from line 6). The set of unique primitive signed formulas is $\\{Fp, Tq\\}$. There is no formula $\\alpha$ such that both $T\\alpha$ and $F\\alpha$ are present. Therefore, this branch is open.\n\nAnalysis of Branch 2:\nThe primitive signed formulas on this branch are $Tq$ (from line 4), $Fp$ (from line 5), and $Tq$ (from line 7). The set of unique primitive signed formulas is $\\{Fp, Tq\\}$. Similar to Branch 1, there is no contradiction. Therefore, this branch is also open.\n\nSince at least one branch of the tableau is open, the initial formula is not valid. We can read a countermodel from any open branch. Both open branches yield the same set of assignments for the atomic propositions. Let's use the first open branch. The signed literals are $Fp$ and $Tq$.\n\nThis corresponds to a valuation $v$ where:\n-   $v(p) = \\mathsf{F}$ (because the branch contains $Fp$)\n-   $v(q) = \\mathsf{T}$ (because the branch contains $Tq$)\n\nThis valuation is a countermodel for the formula $(p \\to q) \\to (q \\to p)$. Let's verify this:\nIf $v(p) = \\mathsf{F}$ and $v(q) = \\mathsf{T}$, then:\n-   $v(p \\to q) = v(\\mathsf{F} \\to \\mathsf{T}) = \\mathsf{T}$\n-   $v(q \\to p) = v(\\mathsf{T} \\to \\mathsf{F}) = \\mathsf{F}$\n-   $v\\big((p \\to q) \\to (q \\to p)\\big) = v(\\mathsf{T} \\to \\mathsf{F}) = \\mathsf{F}$\nThe valuation indeed makes the formula false, confirming it is a countermodel.\n\nThe problem asks for the computation of a real number $f(v) = \\chi(p) + 2\\,\\chi(q)$ based on this countermodel. The encoding function $\\chi$ is given as:\n$\\chi(x) = 1$ if $v(x) = \\mathsf{T}$, and $\\chi(x) = 0$ if $v(x) = \\mathsf{F}$.\n\nFor our countermodel $v$, we have:\n-   $\\chi(p) = 0$, because $v(p) = \\mathsf{F}$.\n-   $\\chi(q) = 1$, because $v(q) = \\mathsf{T}$.\n\nNow we substitute these values into the expression for $f(v)$:\n$$f(v) = \\chi(p) + 2\\,\\chi(q) = 0 + 2(1) = 2$$\n\nThe value of the function $f(v)$ for the derived countermodel is $2$.", "answer": "$$\\boxed{2}$$", "id": "3051989"}, {"introduction": "After learning to find counterexamples, we now turn to the complementary task: proving a formula is a tautology. This practice involves building a complete tableau where every possible path leads to a contradiction, demonstrating that no falsifying assignment exists. Working through this example solidifies your command of the decomposition rules for implications and conjunctions, showing how they systematically eliminate all possibilities for the formula to be false. [@problem_id:3052097]", "problem": "In classical propositional logic, the semantic tableaux method (also called truth-tree method) constructs a tree of signed formulas to test the satisfiability of a formula. A signed formula is annotated with either truth ($T$) or falsity ($F$). A branch closes when it contains both $T\\varphi$ and $F\\varphi$ for some formula $\\varphi$. Starting from the fundamental definitions of the semantics of the propositional connectives and the standard expansion rules used in semantic tableaux, build a complete semantic tableau for the formula $$((p\\to q)\\land(p\\to r))\\to(p\\to(q\\land r))$$ beginning with $F$ of the whole formula, that is, start from the root $F(((p\\to q)\\land(p\\to r))\\to(p\\to(q\\land r)))$. Expand the tableau fully according to the classical rules until all branches are either closed or cannot be further expanded. Determine whether the tableau closes.\n\nYour task is to:\n- Construct the tableau step by step, justifying each expansion using the fundamental semantics of $T$ and $F$ for the propositional connectives $\\land$ and $\\to$.\n- Identify and explain any branch closures by citing contradictory occurrences of $T\\varphi$ and $F\\varphi$ on the same branch.\n\nAnswer specification:\n- Express your final verdict as the single integer equal to the number of open branches remaining after the tableau is completely expanded.\n- If there are no open branches, report $0$.\n- No rounding is required.", "solution": "The problem is to construct a complete semantic tableau for the propositional formula $(((p\\to q)\\land(p\\to r))\\to(p\\to(q\\land r)))$, starting from the assumption that the formula is false, and to determine the number of open branches in the completed tableau.\n\n### Step 1: Extract Givens\n- **Formula**: $(((p\\to q)\\land(p\\to r))\\to(p\\to(q\\land r)))$\n- **Method**: Semantic tableaux (truth-tree method).\n- **Initial Signed Formula**: $F(((p\\to q)\\land(p\\to r))\\to(p\\to(q\\land r)))$\n- **Objective**: Construct the full tableau, identify all branch closures, and report the number of remaining open branches.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is scientifically grounded, rooted in the principles of classical propositional logic, a core area of mathematical logic. It is well-posed, as the semantic tableaux method provides a deterministic algorithm for testing satisfiability, leading to a unique and meaningful result (the number of open branches). The problem is stated with objective and precise language, free of ambiguity or subjective claims. It is self-contained and provides all necessary information to proceed. Therefore, the problem is deemed valid.\n\n### Step 3: Verdict and Action\nThe problem is valid. A complete solution will be provided.\n\n### Tableau Construction\nThe construction of the semantic tableau proceeds by applying expansion rules that correspond to the truth conditions of the logical connectives. We begin with the initial signed formula and decompose it systematically. A branch of the tableau represents a potential model (a truth assignment) that would satisfy all formulas on that branch. A branch closes if it contains a contradiction, specifically $T\\varphi$ and $F\\varphi$ for some formula $\\varphi$.\n\nThe tableau begins with a single node at the root:\n1. $F(((p\\to q)\\land(p\\to r))\\to(p\\to(q\\land r)))$\n\nThe main connective is an implication ($\\to$). The rule for a false implication, $F(\\alpha \\to \\beta)$, is a non-branching rule which asserts that the antecedent is true and the consequent is false. This yields $T\\alpha$ and $F\\beta$.\nApplying this rule to line $1$:\n2. $T((p\\to q)\\land(p\\to r))$ (from $1$)\n3. $F(p\\to(q\\land r))$ (from $1$)\n\nNext, we expand the formula on line $2$. The main connective is a conjunction ($\\land$). The rule for a true conjunction, $T(\\alpha \\land \\beta)$, is a non-branching rule which asserts that both conjuncts are true. This yields $T\\alpha$ and $T\\beta$.\nApplying this rule to line $2$:\n4. $T(p\\to q)$ (from $2$)\n5. $T(p\\to r)$ (from $2$)\n\nNext, we expand the formula on line $3$. The main connective is an implication ($\\to$). Applying the rule for $F(\\alpha \\to \\beta)$ again:\n6. $Tp$ (from $3$)\n7. $F(q\\land r)$ (from $3$)\n\nAt this stage, we have expanded all non-branching (or $\\alpha$-type) formulas. The single, open branch contains the following set of signed atomic or implicative/conjunctive formulas:\n$\\{$ $F(((p\\to q)\\land(p\\to r))\\to(p\\to(q\\land r)))$, $T((p\\to q)\\land(p\\to r))$, $F(p\\to(q\\land r))$, $T(p\\to q)$, $T(p\\to r)$, $Tp$, $F(q\\land r)$ $\\}$\nNow we must expand the remaining branching (or $\\beta$-type) formulas: $T(p\\to q)$, $T(p\\to r)$, and $F(q\\land r)$. We will expand them in order.\n\nFirst, we expand $T(p\\to q)$ from line $4$. The rule for a true implication, $T(\\alpha \\to \\beta)$, is a branching rule, creating two new branches: one where the antecedent is false ($F\\alpha$) and one where the consequent is true ($T\\beta$).\nThe current path splits into two branches:\nBranch $1$: Add $Fp$ to the current path.\nBranch $2$: Add $Tq$ to the current path.\n\nLet's analyze Branch $1$. This branch now contains the formulas from lines $1$-$7$ and the new formula $Fp$. It contains both $Tp$ (from line $6$) and $Fp$. This is a contradiction. Therefore, Branch $1$ closes. We mark it with $\\times$.\n\nWe continue along the only remaining open path, Branch $2$. This branch contains the formulas from lines $1$-$7$ and the new formula $Tq$. We now expand the next available formula on this branch, which is $T(p\\to r)$ from line $5$. Applying the rule for $T(\\alpha \\to \\beta)$ again, this branch splits:\nBranch $2.1$: Add $Fp$ to the current path.\nBranch $2.2$: Add $Tr$ to the current path.\n\nLet's analyze Branch $2.1$. This branch contains the formulas from lines $1$-$7$, plus $Tq$, and now $Fp$. It contains both $Tp$ (from line $6$) and $Fp$. This is a contradiction. Therefore, Branch $2.1$ closes. ($\\times$)\n\nWe continue along the only remaining open path, Branch $2.2$. This branch contains the formulas from lines $1$-$7$, plus $Tq$, and now $Tr$. The final formula to expand is $F(q\\land r)$ from line $7$. The rule for a false conjunction, $F(\\alpha \\land \\beta)$, is a branching rule which asserts that at least one of the conjuncts is false. This yields branches for $F\\alpha$ and $F\\beta$.\nThe current path splits into two final branches:\nBranch $2.2.1$: Add $Fq$ to the current path.\nBranch $2.2.2$: Add $Fr$ to the current path.\n\nLet's analyze Branch $2.2.1$. This branch contains the formulas from lines $1$-$7$, plus $Tq$, $Tr$, and now $Fq$. It contains both $Tq$ (from the first branching step) and $Fq$. This is a contradiction. Therefore, Branch $2.2.1$ closes. ($\\times$)\n\nLet's analyze Branch $2.2.2$. This branch contains the formulas from lines $1$-$7$, plus $Tq$, $Tr$, and now $Fr$. It contains both $Tr$ (from the second branching step) and $Fr$. This is a contradiction. Therefore, Branch $2.2.2$ closes. ($\\times$)\n\nAll branches of the tableau have been fully expanded and all have closed. A tableau with all branches closed demonstrates that the initial signed formula is unsatisfiable. In this case, $F(((p\\to q)\\land(p\\to r))\\to(p\\to(q\\land r)))$ is unsatisfiable, which means there is no truth assignment for $p$, $q$, and $r$ that makes the formula false. Consequently, the formula $(((p\\to q)\\land(p\\to r))\\to(p\\to(q\\land r)))$ is a tautology (it is true under all interpretations).\n\nThe problem asks for the number of open branches remaining after the tableau is completely expanded. Since all branches have closed, the number of open branches is $0$.", "answer": "$$\n\\boxed{0}\n$$", "id": "3052097"}, {"introduction": "Transitioning from propositional to first-order logic introduces new challenges, particularly with quantifiers. This problem highlights a critical rule: the eigenvariable condition for existential quantifiers, which is crucial for the soundness of the tableau method. By exploring a hypothetical scenario where this rule is violated, you will gain a deeper appreciation for why it is necessary and how it prevents incorrect proofs. [@problem_id:3051969]", "problem": "Consider signed semantic tableaux for First-Order Logic (FOL) with a single unary predicate symbol $P$. On a branch, suppose you have the two signed formulas $T(\\exists x\\,P(x))$ and $F(\\forall x\\,P(x))$. The semantic foundations you should use are:\n- Satisfaction for quantifiers: $\\mathcal{M},s \\models \\exists x\\,\\varphi$ iff there exists a domain element $d$ such that $\\mathcal{M},s[x \\mapsto d] \\models \\varphi$, and $\\mathcal{M},s \\models \\forall x\\,\\varphi$ iff for every domain element $d$, $\\mathcal{M},s[x \\mapsto d] \\models \\varphi$.\n- The sound signed-tableau rules for quantifiers, including the eigenvariable condition: for $T(\\exists x\\,\\varphi)$ one must introduce a fresh parameter symbol $c$ not occurring earlier on the branch and add $T(\\varphi(c))$; for $F(\\forall x\\,\\varphi)$ one may instantiate with any parameter $a$ available on the branch and add $F(\\varphi(a))$.\n\nAssume the $T(\\exists)$-rule is applied in violation of the eigenvariable condition by reusing an already present parameter $a$ on the branch. This incorrect move, combined with a standard instantiation of $F(\\forall)$, can produce an illusory closure of the branch.\n\nYour tasks:\n1. Using only the principles above, explain how violating the eigenvariable condition for $T(\\exists x\\,P(x))$ by reusing a parameter $a$ can lead to a closed branch when starting from $T(\\exists x\\,P(x))$ and $F(\\forall x\\,P(x))$.\n2. Construct an explicit structure $\\mathcal{M}$ (specify a domain $D$ and an interpretation of $P$) in which both $\\exists x\\,P(x)$ and $\\neg \\forall x\\,P(x)$ are true simultaneously. Among all finite such structures, determine the minimal domain cardinality $n = |D|$ for which this is possible.\n3. Give your final answer as the integer $n$ that you have determined. No rounding is necessary and no units are required.", "solution": "The analysis of the problem is conducted in three parts as requested. First, the mechanism of the illusory branch closure due to the violation of a tableau rule is explained. Second, a satisfying structure is constructed. Third, the minimal cardinality of the domain for such a structure is determined.\n\n**1. Illusory Closure via Eigenvariable Condition Violation**\n\nWe begin with a tableau branch containing the two signed formulas $1.\\ T(\\exists x\\,P(x))$ and $2.\\ F(\\forall x\\,P(x))$. The problem stipulates that an incorrect step is taken by violating the eigenvariable condition for the $T(\\exists)$-rule. This violation involves reusing a parameter, let's call it $a$, that is already present on the branch.\n\nThe derivation proceeds as follows:\n1.  $T(\\exists x\\,P(x))$ (Given)\n2.  $F(\\forall x\\,P(x))$ (Given)\n3.  Let us assume a parameter $a$ is already present on the branch. The source of this parameter is immaterial to the logic of the error being analyzed.\n\nWe now apply the tableau rules to the given formulas.\n\nFirst, we apply the rule for $T(\\exists x\\,\\varphi)$ to formula $1$. The problem specifies that we do this in violation of the eigenvariable condition. The correct application of this rule, which is a $\\delta$-rule, requires the introduction of a parameter that is *new* to the branch. The violation consists of reusing the already present parameter $a$. This incorrect step adds the following formula to the branch:\n4.  $T(P(a))$ (From $1$, by incorrect application of $T(\\exists)$-rule, reusing $a$)\n\nNext, we apply the rule for $F(\\forall x\\,\\varphi)$ to formula $2$. The rule, as stated in the problem, is: \"for $F(\\forall x\\,\\varphi)$ one may instantiate with any parameter $a$ available on the branch and add $F(\\varphi(a))$\". Since the parameter $a$ is available on our branch, we can apply this rule to obtain:\n5.  $F(P(a))$ (From $2$, by application of $F(\\forall)$-rule, instantiating with $a$)\n\nAt this point, the branch contains both the formula $T(P(a))$ (from line $4$) and the formula $F(P(a))$ (from line $5$). A branch containing signed formulas $T(\\psi)$ and $F(\\psi)$ for any sentence $\\psi$ is, by definition, a closed branch, as it represents a logical contradiction. No interpretation can satisfy both $\\psi$ and $\\neg\\psi$.\n\nTherefore, the branch closes due to the contradiction between $T(P(a))$ and $F(P(a))$. This closure suggests that the initial set of formulas is unsatisfiable. However, this conclusion is erroneous, or \"illusory,\" because it was reached through a faulty application of the tableau rules. The soundness of the tableau method is contingent on the correct application of its rules, especially the eigenvariable condition for existential-type formulas, which guarantees that the introduced parameter acts as a truly arbitrary name for an existing but previously unspecified individual.\n\n**2. Construction of a Satisfying Structure**\n\nTo demonstrate that the initial set of formulas is indeed satisfiable, we must construct a structure $\\mathcal{M} = \\langle D, I \\rangle$ where both formulas are true. Here, $D$ is a non-empty domain of discourse, and $I$ is an interpretation function that maps the predicate symbol $P$ to a subset of $D$, denoted $P^{\\mathcal{M}}$.\n\nThe truth conditions for the initial formulas are given by:\n-   $T(\\exists x\\,P(x))$ states that the formula $\\exists x\\,P(x)$ is true in $\\mathcal{M}$. According to the provided semantic definition, $\\mathcal{M} \\models \\exists x\\,P(x)$ if and only if there exists at least one element $d \\in D$ such that $d \\in P^{\\mathcal{M}}$. This is equivalent to the condition that the interpretation of $P$, $P^{\\mathcal{M}}$, is a non-empty set: $P^{\\mathcal{M}} \\neq \\emptyset$.\n\n-   $F(\\forall x\\,P(x))$ states that the formula $\\forall x\\,P(x)$ is false in $\\mathcal{M}$. This means $\\mathcal{M} \\not\\models \\forall x\\,P(x)$. According to the semantic definition, this is true if and only if it is *not* the case that for every element $d \\in D$, $d \\in P^{\\mathcal{M}}$. This implies that there must exist at least one element $d' \\in D$ such that $d' \\notin P^{\\mathcal{M}}$. This is equivalent to the condition that $P^{\\mathcal{M}}$ is not equal to the entire domain $D$: $P^{\\mathcal{M}} \\neq D$.\n\nFor both formulas to be true simultaneously in $\\mathcal{M}$, the interpretation $P^{\\mathcal{M}}$ must be a non-empty, proper subset of the domain $D$. That is, the condition $\\emptyset \\subsetneq P^{\\mathcal{M}} \\subsetneq D$ must hold.\n\n**3. Determination of Minimal Domain Cardinality**\n\nWe seek the minimal cardinality $n = |D|$ for which the condition $\\emptyset \\subsetneq P^{\\mathcal{M}} \\subsetneq D$ can be satisfied.\n\nLet us consider a domain with cardinality $n=1$. Let $D = \\{d_1\\}$. The only possible subsets of $D$ are $\\emptyset$ and $\\{d_1\\}$.\n-   If we set $P^{\\mathcal{M}} = \\emptyset$, then the condition $P^{\\mathcal{M}} \\neq \\emptyset$ is violated, and $\\exists x\\,P(x)$ is false.\n-   If we set $P^{\\mathcal{M}} = \\{d_1\\}$, then $P^{\\mathcal{M}} = D$. The condition $P^{\\mathcal{M}} \\neq D$ is violated, and $\\forall x\\,P(x)$ is true, making $F(\\forall x\\,P(x))$ false.\nThus, a domain of size $1$ is insufficient.\n\nNow, let us consider a domain with cardinality $n=2$. Let $D = \\{d_1, d_2\\}$. We need to find a subset $P^{\\mathcal{M}} \\subseteq D$ that is neither empty nor the whole set. Let's choose the interpretation $P^{\\mathcal{M}} = \\{d_1\\}$.\n-   Is $P^{\\mathcal{M}} \\neq \\emptyset$? Yes, because $d_1 \\in P^{\\mathcal{M}}$. Therefore, $\\exists x\\,P(x)$ is true in this structure.\n-   Is $P^{\\mathcal{M}} \\neq D$? Yes, because $d_2 \\in D$ but $d_2 \\notin P^{\\mathcal{M}}$. Therefore, it is not true that $\\forall x P(x)$, so $F(\\forall x\\,P(x))$ is true in this structure.\n\nSince both conditions are met with a domain of size $2$, and we demonstrated that a domain of size $1$ is insufficient, the minimal cardinality for the domain $D$ is $n=2$. An explicit structure $\\mathcal{M}$ is given by $D = \\{c_1, c_2\\}$ and $P^{\\mathcal{M}} = \\{c_1\\}$.", "answer": "$$\n\\boxed{2}\n$$", "id": "3051969"}]}