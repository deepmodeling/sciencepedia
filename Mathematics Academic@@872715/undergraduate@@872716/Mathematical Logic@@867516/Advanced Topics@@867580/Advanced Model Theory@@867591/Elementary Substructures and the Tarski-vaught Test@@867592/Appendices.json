{"hands_on_practices": [{"introduction": "Before we can test for an *elementary* substructure, we must first confirm we have a *substructure*. This first exercise goes back to basics, showing how a failure to meet the fundamental requirements of a substructure—specifically, how constant symbols are interpreted—directly leads to a failure of the Tarski-Vaught test. It highlights that the test's conditions are built upon these foundational structural relationships. [@problem_id:3040758]", "problem": "Let $\\mathcal{L}$ be a first-order language with one constant symbol $c$ and one unary predicate symbol $P$. A structure for $\\mathcal{L}$ consists of a nonempty domain together with an interpretation of $c$ as an element of the domain and an interpretation of $P$ as a subset of the domain. A substructure $\\mathcal{M} \\subseteq \\mathcal{N}$ is defined by the following fundamental requirement: the domain $M$ of $\\mathcal{M}$ is a subset of the domain $N$ of $\\mathcal{N}$, and each symbol of $\\mathcal{L}$ is interpreted in $\\mathcal{M}$ by restricting the interpretation in $\\mathcal{N}$ to $M$ (in particular, constant symbols must be interpreted by the same element).\n\nFrom these fundamental definitions, derive the necessary condition on the interpretations of $c$ in $\\mathcal{M}$ and $\\mathcal{N}$ for $\\mathcal{M}$ to be a substructure of $\\mathcal{N}$.\n\nThen consider the following concrete structures. Let $\\mathcal{N}$ have domain $N = \\{0,1,2,3,4\\}$, with $P^{\\mathcal{N}} = \\{0,2,4\\}$ and $c^{\\mathcal{N}} = 0$. Let $\\mathcal{M}$ have domain $M = \\{1,2,3,4\\}$, with $P^{\\mathcal{M}} = P^{\\mathcal{N}} \\cap M = \\{2,4\\}$ and $c^{\\mathcal{M}} = 1$. Using only the fundamental definitions of structure, substructure, and the logical satisfaction relation, determine whether $\\mathcal{M}$ is an $\\mathcal{L}$-substructure of $\\mathcal{N}$.\n\nNext, explain how the Tarski–Vaught test for elementary substructures applies here by analyzing the formula $\\exists x\\,(x = c)$ and deciding whether it witnesses a failure of the test for the pair $(\\mathcal{M},\\mathcal{N})$.\n\nFinally, define the indicator $\\chi$ by\n$$\n\\chi = \\begin{cases}\n1  \\text{if } \\mathcal{M} \\text{ is an } \\mathcal{L}\\text{-substructure of } \\mathcal{N},\\\\\n0  \\text{otherwise.}\n\\end{cases}\n$$\nCompute the value of $\\chi$. Your answer must be a single real number. No rounding is necessary.", "solution": "The problem asks for an analysis of the relationship between two $\\mathcal{L}$-structures, $\\mathcal{M}$ and $\\mathcal{N}$, based on the definitions of structure and substructure, followed by an application of the Tarski-Vaught test and a final computation.\n\nFirst, we derive the necessary condition on the interpretation of a constant symbol $c$ for a structure $\\mathcal{M}$ to be a substructure of $\\mathcal{N}$. Let the domain of $\\mathcal{M}$ be $M$ and the domain of $\\mathcal{N}$ be $N$. The definition of a substructure $\\mathcal{M} \\subseteq \\mathcal{N}$ requires two primary conditions:\n$1$. The domain $M$ must be a subset of the domain $N$, i.e., $M \\subseteq N$.\n$2$. The interpretations of symbols in $\\mathcal{M}$ must be the restrictions of their interpretations in $\\mathcal{N}$ to the domain $M$.\n\nLet $c^{\\mathcal{N}}$ be the interpretation of the constant symbol $c$ in the structure $\\mathcal{N}$, so $c^{\\mathcal{N}} \\in N$. Let $c^{\\mathcal{M}}$ be the interpretation of $c$ in $\\mathcal{M}$, so $c^{\\mathcal{M}} \\in M$. A constant symbol can be viewed as a $0$-ary function symbol. For a general $k$-ary function symbol $f$, the substructure condition requires that $M$ is closed under the function $f^{\\mathcal{N}}$, meaning for any $m_1, \\dots, m_k \\in M$, $f^{\\mathcal{N}}(m_1, \\dots, m_k) \\in M$. The interpretation in the substructure is then defined as the restriction, $f^{\\mathcal{M}} = f^{\\mathcal{N}} \\restriction_{M^k}$. For a $0$-ary function (a constant) $c$, this closure condition means that the result of the function, which is simply the element $c^{\\mathcal{N}}$, must belong to the domain $M$. That is, we must have $c^{\\mathcal{N}} \\in M$. The interpretation in the substructure, $c^{\\mathcal{M}}$, is then defined as this same element. Therefore, the necessary condition is $c^{\\mathcal{M}} = c^{\\mathcal{N}}$. This is explicitly mentioned in the problem statement's description of a substructure: \"constant symbols must be interpreted by the same element\".\n\nNext, we determine if the given concrete structure $\\mathcal{M}$ is an $\\mathcal{L}$-substructure of $\\mathcal{N}$.\nThe language $\\mathcal{L}$ has one constant symbol $c$ and one unary predicate symbol $P$.\nThe structure $\\mathcal{N}$ has domain $N = \\{0,1,2,3,4\\}$, with interpretation $P^{\\mathcal{N}} = \\{0,2,4\\}$ and $c^{\\mathcal{N}} = 0$.\nThe structure $\\mathcal{M}$ has domain $M = \\{1,2,3,4\\}$, with interpretation $P^{\\mathcal{M}} = \\{2,4\\}$ and $c^{\\mathcal{M}} = 1$.\n\nWe check the two conditions for $\\mathcal{M}$ to be a substructure of $\\mathcal{N}$:\n$1$. Is $M \\subseteq N$? We have $M = \\{1,2,3,4\\}$ and $N = \\{0,1,2,3,4\\}$. Clearly, every element of $M$ is also an element of $N$, so $M \\subseteq N$. This condition is satisfied.\n$2$. Are the interpretations in $\\mathcal{M}$ the restrictions of those in $\\mathcal{N}$?\n   - For the predicate symbol $P$: The restriction of $P^{\\mathcal{N}}$ to $M$ is $P^{\\mathcal{N}} \\cap M$. We calculate $P^{\\mathcal{N}} \\cap M = \\{0,2,4\\} \\cap \\{1,2,3,4\\} = \\{2,4\\}$. The problem states that $P^{\\mathcal{M}} = \\{2,4\\}$, so this matches. The condition for $P$ is satisfied.\n   - For the constant symbol $c$: As derived above, we must have $c^{\\mathcal{M}} = c^{\\mathcal{N}}$. We are given $c^{\\mathcal{M}} = 1$ and $c^{\\mathcal{N}} = 0$. Since $1 \\neq 0$, this condition is violated.\n\nSince one of the necessary conditions is not met, $\\mathcal{M}$ is not an $\\mathcal{L}$-substructure of $\\mathcal{N}$. It is also worth noting that the prerequisite for the constant symbol condition, which is $c^{\\mathcal{N}} \\in M$, is also violated, as $c^{\\mathcal{N}} = 0$ and $0 \\notin M = \\{1,2,3,4\\}$.\n\nThird, we analyze the application of the Tarski–Vaught test. The Tarski-Vaught test provides a condition for a substructure $\\mathcal{M} \\subseteq \\mathcal{N}$ to be an *elementary* substructure ($\\mathcal{M} \\preceq \\mathcal{N}$). Since we have already established that $\\mathcal{M}$ is not even a substructure of $\\mathcal{N}$, it cannot be an elementary substructure. However, we can still examine the test's condition for the specified formula to see how it fails.\nThe test states that for any formula $\\phi(y, x_1, \\dots, x_n)$ and any parameters $a_1, \\dots, a_n \\in M$, if $\\mathcal{N} \\models \\exists y \\, \\phi(y, a_1, \\dots, a_n)$, then there must exist an element $m \\in M$ such that $\\mathcal{N} \\models \\phi(m, a_1, \\dots, a_n)$.\n\nLet's consider the formula $\\exists x\\,(x = c)$, as requested. This is a sentence (a formula with no free variables). We can analyze it using the test with the formula $\\phi(x) \\equiv (x=c)$, which has one free variable $x$ and no other parameters.\nStep 1: We check if $\\mathcal{N} \\models \\exists x\\,(x = c)$. This statement is true if and only if there exists an element $b \\in N$ such that the formula $(x=c)$ is satisfied in $\\mathcal{N}$ when $x$ is assigned the value $b$. This means $b = c^{\\mathcal{N}}$. In our case, $c^{\\mathcal{N}} = 0$. Since $0 \\in N = \\{0,1,2,3,4\\}$, such an element exists (namely, $0$). Thus, $\\mathcal{N} \\models \\exists x\\,(x = c)$ is true.\n\nStep 2: The Tarski-Vaught test would then require the existence of an element $m \\in M$ that can act as a \"witness\" in $\\mathcal{N}$. Specifically, there must be an $m \\in M$ such that $\\mathcal{N} \\models (m=c)$. This means we need an element $m \\in M$ such that $m = c^{\\mathcal{N}}$.\nWe have $M = \\{1,2,3,4\\}$ and $c^{\\mathcal{N}} = 0$. We must find an $m \\in \\{1,2,3,4\\}$ such that $m=0$. No such element exists in $M$.\nTherefore, the condition of the Tarski-Vaught test fails for the formula $\\exists x\\,(x = c)$. This failure demonstrates that $\\mathcal{M}$ is not an elementary substructure of $\\mathcal{N}$. The failure is directly caused by the fact that the element that makes the formula true in $\\mathcal{N}$ (the element $c^{\\mathcal{N}}=0$) is not present in the smaller domain $M$. This is precisely the reason $\\mathcal{M}$ fails to be a substructure in the first place.\n\nFinally, we compute the value of the indicator $\\chi$. The definition is:\n$$\n\\chi = \\begin{cases}\n1  \\text{if } \\mathcal{M} \\text{ is an } \\mathcal{L}\\text{-substructure of } \\mathcal{N},\\\\\n0  \\text{otherwise.}\n\\end{cases}\n$$\nAs established in our analysis, $\\mathcal{M}$ is not an $\\mathcal{L}$-substructure of $\\mathcal{N}$ because the interpretation of the constant symbol $c$ is not preserved. Therefore, we fall into the \"otherwise\" case of the definition. The value of the indicator is $\\chi = 0$.", "answer": "$$\n\\boxed{0}\n$$", "id": "3040758"}, {"introduction": "A classic way to understand the Tarski-Vaught test is by seeing it fail in a familiar setting. This problem explores the relationship between the field of rational numbers, $\\mathbb{Q}$, and its extension $\\mathbb{Q}(\\sqrt{2})$. By considering a simple statement about the existence of a square root, we can concretely see how a formula can be true in the larger structure but have no witness in the smaller one, providing a perfect counterexample to elementarity. [@problem_id:3040769]", "problem": "Let $\\mathcal{L}_{\\mathrm{ring}}=\\{0,1,+,\\cdot\\}$ be the language of rings. Consider the $\\mathcal{L}_{\\mathrm{ring}}$-structures $M=(\\mathbb{Q},+,\\cdot,0,1)$ and $N=(\\mathbb{Q}(\\sqrt{2}),+,\\cdot,0,1)$, where $\\mathbb{Q}(\\sqrt{2})=\\{a+b\\sqrt{2}\\mid a,b\\in\\mathbb{Q}\\}$. Recall that $M$ is an $\\mathcal{L}_{\\mathrm{ring}}$-substructure of $N$ if $M\\subseteq N$ and the interpretations of $0,1,+,\\cdot$ on $M$ are the restrictions of those on $N$. Recall also that $M$ is an elementary substructure of $N$ if for every $\\mathcal{L}_{\\mathrm{ring}}$-formula $\\varphi(\\bar{x})$ and every tuple $\\bar{a}\\in M^{|\\bar{x}|}$, one has $M\\models\\varphi(\\bar{a})$ if and only if $N\\models\\varphi(\\bar{a})$. The Tarski–Vaught test states that $M$ is an elementary substructure of $N$ if and only if for every $\\mathcal{L}_{\\mathrm{ring}}$-formula $\\psi(x,\\bar{a})$ with parameters $\\bar{a}$ from $M$, whenever $N\\models\\exists x\\,\\psi(x,\\bar{a})$ there exists $b\\in M$ such that $N\\models\\psi(b,\\bar{a})$.\n\nConsider the parameter-free existential formula $\\varphi(x)$ given by $x^2=2$. Define the quantity\n$$\nD \\;=\\; \\left|\\{x\\in N \\mid N \\models \\varphi(x)\\}\\right| \\;-\\; \\left|\\{x\\in M \\mid M \\models \\varphi(x)\\}\\right|.\n$$\nUsing only the above definitions and the Tarski–Vaught test, justify that $M$ is not an elementary substructure of $N$ and compute the exact value of $D$. Give your final numerical answer for $D$ as an exact integer (no rounding is needed).", "solution": "The problem requires us to justify that the structure $M=(\\mathbb{Q},+,\\cdot,0,1)$ is not an elementary substructure of $N=(\\mathbb{Q}(\\sqrt{2}),+,\\cdot,0,1)$ using the Tarski-Vaught test, and to compute a specific quantity $D$.\n\nFirst, we will perform the justification. The Tarski-Vaught test states that $M$ is an elementary substructure of $N$ if and only if for every $\\mathcal{L}_{\\mathrm{ring}}$-formula $\\psi(x,\\bar{a})$ with parameters $\\bar{a}$ from $M$, whenever $N\\models\\exists x\\,\\psi(x,\\bar{a})$, there must exist an element $b\\in M$ such that $N\\models\\psi(b,\\bar{a})$. To show that $M$ is not an elementary substructure of $N$, we must provide a counterexample to this condition. That is, we must find a formula $\\psi(x,\\bar{a})$ with parameters in $M$ such that $N\\models\\exists x\\,\\psi(x,\\bar{a})$ is true, but for all $b\\in M$, $N\\models\\psi(b,\\bar{a})$ is false.\n\nLet's consider the formula $\\varphi(x)$ given in the problem, which is $x^2=2$. This formula can be written in the language $\\mathcal{L}_{\\mathrm{ring}}=\\{0,1,+,\\cdot\\}$ as $x \\cdot x = 1+1$. This formula has one free variable, $x$, and no parameters. We can consider this as a formula $\\psi(x, \\bar{a})$ where the tuple of parameters $\\bar{a}$ is empty. The parameters are thus trivially from $M$.\n\nWe apply the Tarski-Vaught test to the existential sentence $\\exists x \\, (x^2=2)$.\n1.  We must check if $N \\models \\exists x \\, (x^2=2)$. This statement is true if there exists an element in the universe of $N$, which is $\\mathbb{Q}(\\sqrt{2})=\\{a+b\\sqrt{2}\\mid a,b\\in\\mathbb{Q}\\}$, that satisfies the equation $x^2=2$. The solutions to this equation are $x=\\sqrt{2}$ and $x=-\\sqrt{2}$. The element $\\sqrt{2}$ can be expressed as $0+1\\cdot\\sqrt{2}$, where $0 \\in \\mathbb{Q}$ and $1 \\in \\mathbb{Q}$. Thus, $\\sqrt{2} \\in \\mathbb{Q}(\\sqrt{2})$. Since there exists a witness for the existential statement in the universe of $N$, we conclude that $N \\models \\exists x \\, (x^2=2)$ is true.\n\n2.  If $M$ were an elementary substructure of $N$, the Tarski-Vaught test would require the existence of an element $b \\in M$ such that $N \\models (b^2=2)$. The universe of $M$ is the set of rational numbers, $\\mathbb{Q}$. Thus, we must check if there exists a $b \\in \\mathbb{Q}$ such that $b^2=2$. It is a well-established mathematical fact that $\\sqrt{2}$ is an irrational number. Therefore, there is no rational number $b$ whose square is $2$. This implies that for every element $b \\in M$, the statement $N \\models (b^2=2)$ is false.\n\nSince the premise of the Tarski-Vaught condition ($N \\models \\exists x \\, (x^2=2)$) is true, but its conclusion (there exists $b \\in M$ such that $N \\models (b^2=2)$) is false, the condition fails for the formula $x^2=2$. This demonstrates that $M$ is not an elementary substructure of $N$.\n\nNext, we compute the value of $D$, defined as:\n$$\nD \\;=\\; \\left|\\{x\\in N \\mid N \\models \\varphi(x)\\}\\right| \\;-\\; \\left|\\{x\\in M \\mid M \\models \\varphi(x)\\}\\right|\n$$\nwhere $\\varphi(x)$ is the formula $x^2=2$.\n\nThe first term is the cardinality of the set of solutions to $x^2=2$ in the structure $N$. The universe of $N$ is $\\mathbb{Q}(\\sqrt{2})$. The equation $x^2=2$ has two solutions in the field of real numbers, $x=\\sqrt{2}$ and $x=-\\sqrt{2}$. As shown before, $\\sqrt{2} = 0+1\\sqrt{2} \\in \\mathbb{Q}(\\sqrt{2})$ and $-\\sqrt{2} = 0+(-1)\\sqrt{2} \\in \\mathbb{Q}(\\sqrt{2})$. Since $\\mathbb{Q}(\\sqrt{2})$ is a field, the quadratic polynomial $x^2-2=0$ can have at most two roots. Thus, the set of solutions in $N$ is $\\{\\sqrt{2}, -\\sqrt{2}\\}$. The cardinality of this set is $2$.\nSo, $\\left|\\{x\\in N \\mid N \\models x^2=2\\}\\right| = 2$.\n\nThe second term is the cardinality of the set of solutions to $x^2=2$ in the structure $M$. The universe of $M$ is $\\mathbb{Q}$. We are looking for the number of rational numbers $x$ such that $x^2=2$. As established earlier, no such rational number exists. The set of solutions in $M$ is the empty set, $\\emptyset$. The cardinality of this set is $0$.\nSo, $\\left|\\{x\\in M \\mid M \\models x^2=2\\}\\right| = 0$.\n\nFinally, we calculate $D$:\n$$\nD = 2 - 0 = 2.\n$$", "answer": "$$\\boxed{2}$$", "id": "3040769"}, {"introduction": "It might seem that if a substructure agrees with its parent structure on all \"local\" or quantifier-free properties, it should be an elementary substructure. This exercise demonstrates that this intuition is incorrect and highlights the crucial role of quantifiers. We will examine the natural numbers as a substructure of the integers and construct a simple existential formula that is true in the integers but has no witness in the natural numbers, proving that elementarity is a stronger condition than just quantifier-free equivalence. [@problem_id:3040786]", "problem": "Let $\\mathcal{L}$ be the first-order language (FOL) with a single binary relation symbol $R$ and two constant symbols $0$ and $1$. Consider the $\\mathcal{L}$-structures $\\mathcal{M}$ and $\\mathcal{N}$ defined as follows:\n- The domain of $\\mathcal{M}$ is $M = \\mathbb{N}$, $R^{\\mathcal{M}}(m,n)$ holds if and only if $|m-n|=1$, and $0^{\\mathcal{M}}=0$, $1^{\\mathcal{M}}=1$.\n- The domain of $\\mathcal{N}$ is $N = \\mathbb{Z}$, $R^{\\mathcal{N}}(m,n)$ holds if and only if $|m-n|=1$, and $0^{\\mathcal{N}}=0$, $1^{\\mathcal{N}}=1$.\n\nStarting from the core definitions of substructure, quantifier-free formula, elementary substructure, and using the Tarski-Vaught test, do the following:\n1. Verify that $\\mathcal{M}$ is a substructure of $\\mathcal{N}$.\n2. Prove that $\\mathcal{M}$ and $\\mathcal{N}$ agree on all quantifier-free $\\mathcal{L}$-formulas with parameters from $M$.\n3. Construct an explicit existential $\\mathcal{L}$-formula with parameters from $M$ that is satisfied in $\\mathcal{N}$ but has no witness in $M$, and explain why this shows that $\\mathcal{M}$ is not an elementary substructure of $\\mathcal{N}$.\n\nLet $\\chi$ be the indicator defined by $\\chi=1$ if $\\mathcal{M}\\preceq\\mathcal{N}$ and $\\chi=0$ otherwise. Compute $\\chi$. Your final answer must be a single real number. No rounding is required.", "solution": "The problem requires a four-part analysis of the relationship between two $\\mathcal{L}$-structures, $\\mathcal{M}$ and $\\mathcal{N}$, culminating in the computation of an indicator variable $\\chi$. The language $\\mathcal{L}$ has one binary relation symbol $R$ and two constant symbols $0$ and $1$. The structures are defined as follows:\n- $\\mathcal{M}$ has domain $M = \\mathbb{N} = \\{0, 1, 2, \\dots\\}$. The interpretation of symbols are $R^{\\mathcal{M}}(m,n) \\iff |m-n|=1$, $0^{\\mathcal{M}}=0$, and $1^{\\mathcal{M}}=1$.\n- $\\mathcal{N}$ has domain $N = \\mathbb{Z} = \\{\\dots, -1, 0, 1, \\dots\\}$. The interpretation of symbols are $R^{\\mathcal{N}}(m,n) \\iff |m-n|=1$, $0^{\\mathcal{N}}=0$, and $1^{\\mathcal{N}}=1$.\n\n**1. Verification that $\\mathcal{M}$ is a substructure of $\\mathcal{N}$**\n\nTo verify that $\\mathcal{M}$ is a substructure of $\\mathcal{N}$, denoted $\\mathcal{M} \\subseteq \\mathcal{N}$, we must check three conditions based on the definition of a substructure.\n- **Condition 1: Domain Inclusion.** The domain of $\\mathcal{M}$ must be a subset of the domain of $\\mathcal{N}$. Here, the domain of $\\mathcal{M}$ is $M = \\mathbb{N}$ and the domain of $\\mathcal{N}$ is $N = \\mathbb{Z}$. It is a fundamental fact of set theory that $\\mathbb{N} \\subseteq \\mathbb{Z}$. This condition holds.\n- **Condition 2: Interpretation of Constants.** The interpretations of the constant symbols in $\\mathcal{L}$ must be the same in both structures. The language has two constant symbols, $0$ and $1$.\n    - For the constant symbol $0$, we have $0^{\\mathcal{M}} = 0$ and $0^{\\mathcal{N}} = 0$. Since $0 \\in M$ and the interpretations are identical, this is satisfied.\n    - For the constant symbol $1$, we have $1^{\\mathcal{M}} = 1$ and $1^{\\mathcal{N}} = 1$. Since $1 \\in M$ and the interpretations are identical, this is also satisfied.\n- **Condition 3: Interpretation of Relations.** For any $k$-ary relation symbol in $\\mathcal{L}$ and any elements $a_1, \\dots, a_k$ from the smaller domain $M$, the relation must hold in $\\mathcal{M}$ if and only if it holds in $\\mathcal{N}$. Our language has one binary relation symbol $R$. We must show that for any $m, n \\in M$, we have $R^{\\mathcal{M}}(m,n)$ if and only if $R^{\\mathcal{N}}(m,n)$.\n    - Let $m, n \\in M = \\mathbb{N}$.\n    - By definition of $\\mathcal{M}$, $R^{\\mathcal{M}}(m,n)$ is true if and only if $|m-n|=1$.\n    - Since $m, n \\in \\mathbb{N}$, they are also elements of $\\mathbb{Z}$. By definition of $\\mathcal{N}$, $R^{\\mathcal{N}}(m,n)$ is true if and only if $|m-n|=1$.\n    - The condition for the relation to hold is identical for elements in $M$. Thus, $R^{\\mathcal{M}}(m,n) \\iff R^{\\mathcal{N}}(m,n)$ for all $m,n \\in M$. This is equivalent to stating that $R^{\\mathcal{M}} = R^{\\mathcal{N}} \\cap (M \\times M)$. This condition holds.\n\nSince all three conditions are satisfied, $\\mathcal{M}$ is a substructure of $\\mathcal{N}$.\n\n**2. Agreement on Quantifier-Free Formulas**\n\nWe prove by induction on the complexity of quantifier-free formulas that for any such formula $\\phi(x_1, \\dots, x_k)$ and any parameters $a_1, \\dots, a_k \\in M$, we have $\\mathcal{M} \\models \\phi(a_1, \\dots, a_k)$ if and only if $\\mathcal{N} \\models \\phi(a_1, \\dots, a_k)$.\n\n- **Base Case: Atomic Formulas.** An atomic formula in $\\mathcal{L}$ can have the form $t_1 = t_2$ or $R(t_1, t_2)$, where $t_1$ and $t_2$ are terms. In $\\mathcal{L}$, terms are variables or the constants $0$ and $1$. Let an assignment $\\sigma$ map the free variables in the terms to elements in $M$. The interpretation of a term $t$ under this assignment, $t^{\\mathcal{M}}[\\sigma]$, is an element of $M$. Since the constant interpretations are the same in both structures, $t^{\\mathcal{M}}[\\sigma] = t^{\\mathcal{N}}[\\sigma]$.\n    - For $t_1 = t_2$: $\\mathcal{M} \\models (t_1=t_2)[\\sigma] \\iff t_1^{\\mathcal{M}}[\\sigma] = t_2^{\\mathcal{M}}[\\sigma]$. Since $t_1^{\\mathcal{M}}[\\sigma] = t_1^{\\mathcal{N}}[\\sigma]$ and $t_2^{\\mathcal{M}}[\\sigma] = t_2^{\\mathcal{N}}[\\sigma]$, this is equivalent to $t_1^{\\mathcal{N}}[\\sigma] = t_2^{\\mathcal{N}}[\\sigma]$, which in turn means $\\mathcal{N} \\models (t_1=t_2)[\\sigma]$.\n    - For $R(t_1, t_2)$: Let $m = t_1^{\\mathcal{M}}[\\sigma]$ and $n = t_2^{\\mathcal{M}}[\\sigma]$. Since the terms are evaluated with parameters from $M$, $m, n \\in M$. So, $m = t_1^{\\mathcal{N}}[\\sigma]$ and $n = t_2^{\\mathcal{N}}[\\sigma]$. We have $\\mathcal{M} \\models R(t_1, t_2)[\\sigma] \\iff R^{\\mathcal{M}}(m,n)$. From Part 1, we know that for $m,n \\in M$, $R^{\\mathcal{M}}(m,n) \\iff R^{\\mathcal{N}}(m,n)$. This is equivalent to $\\mathcal{N} \\models R(t_1, t_2)[\\sigma]$.\n- **Inductive Step.** Assume the property holds for quantifier-free formulas $\\psi_1$ and $\\psi_2$. We show it holds for $\\neg\\psi_1$ and $\\psi_1 \\land \\psi_2$. Let $\\vec{a} = (a_1, \\dots, a_k)$ be parameters from $M$.\n    - For $\\neg\\psi_1$: $\\mathcal{M} \\models \\neg\\psi_1(\\vec{a}) \\iff \\mathcal{M} \\not\\models \\psi_1(\\vec{a})$. By the induction hypothesis, this is equivalent to $\\mathcal{N} \\not\\models \\psi_1(\\vec{a})$, which is equivalent to $\\mathcal{N} \\models \\neg\\psi_1(\\vec{a})$.\n    - For $\\psi_1 \\land \\psi_2$: $\\mathcal{M} \\models (\\psi_1 \\land \\psi_2)(\\vec{a}) \\iff \\mathcal{M} \\models \\psi_1(\\vec{a})$ and $\\mathcal{M} \\models \\psi_2(\\vec{a})$. By the induction hypothesis on both $\\psi_1$ and $\\psi_2$, this is equivalent to $\\mathcal{N} \\models \\psi_1(\\vec{a})$ and $\\mathcal{N} \\models \\psi_2(\\vec{a})$, which is equivalent to $\\mathcal{N} \\models (\\psi_1 \\land \\psi_2)(\\vec{a})$.\n\nThe proof by induction is complete. $\\mathcal{M}$ and $\\mathcal{N}$ agree on all quantifier-free formulas with parameters from $M$.\n\n**3. Test for Elementary Substructure**\n\n$\\mathcal{M}$ is an elementary substructure of $\\mathcal{N}$, denoted $\\mathcal{M} \\preceq \\mathcal{N}$, if they agree on *all* formulas with parameters from $M$. The Tarski-Vaught test provides a necessary and sufficient condition: $\\mathcal{M} \\preceq \\mathcal{N}$ if and only if $\\mathcal{M} \\subseteq \\mathcal{N}$ and for every formula of the form $\\exists y \\, \\phi(y, \\vec{x})$ and every tuple of parameters $\\vec{a}$ from $M$, if $\\mathcal{N} \\models \\exists y \\, \\phi(y, \\vec{a})$, then there must exist a witness $b \\in M$ such that $\\mathcal{N} \\models \\phi(b, \\vec{a})$.\n\nTo show that $\\mathcal{M}$ is not an elementary substructure of $\\mathcal{N}$, we need to find a counterexample that violates this test. The key difference between the structures $\\mathcal{M}$ and $\\mathcal{N}$ is the existence of negative numbers in $N$. In $\\mathcal{M}$, the element $0$ has only one neighbor, $1$. In $\\mathcal{N}$, $0$ has two neighbors, $1$ and $-1$.\n\nLet's construct an existential formula that captures this difference. Consider the formula with one free variable $x$:\n$$ \\psi(x) \\equiv \\exists y (R(x, y) \\land \\neg(y = 1)) $$\nThis formula asserts that there exists a neighbor of $x$ that is not $1$. Let's use a parameter from $M$, namely $0^{\\mathcal{M}}=0$, for the variable $x$. The instantiated formula is:\n$$ \\exists y (R(0, y) \\land \\neg(y = 1)) $$\nHere, $0$ and $1$ are the constant symbols of the language, whose interpretations $0$ and $1$ are in $M$.\n\nLet's check this formula in $\\mathcal{N}$:\n- $\\mathcal{N} \\models \\exists y (R(0, y) \\land \\neg(y = 1))$?\nThis statement is true if there exists an element $b \\in N = \\mathbb{Z}$ such that $\\mathcal{N} \\models R(0, b)$ and $\\mathcal{N} \\models \\neg(b=1)$. The condition $R^{\\mathcal{N}}(0, b)$ means $|0-b|=1$, which implies $b=1$ or $b=-1$.\n- If we choose $b=1$, the clause $\\neg(b=1)$ becomes $\\neg(1=1)$, which is false.\n- If we choose $b=-1$, the clause $R(0, -1)$ is true since $|0-(-1)|=1$, and the clause $\\neg(-1=1)$ is also true.\nThus, $y=-1$ is a witness in $N$. The formula is satisfied in $\\mathcal{N}$.\n\nNow, we apply the Tarski-Vaught test. We have an existential formula $\\exists y \\, \\phi(y)$, where $\\phi(y) \\equiv R(0, y) \\land \\neg(y=1)$. We've shown $\\mathcal{N} \\models \\exists y \\, \\phi(y)$. The test requires that there must be a witness in $M$. That is, there must exist an element $b \\in M = \\mathbb{N}$ such that $\\mathcal{N} \\models \\phi(b)$.\nLet's check for such a $b \\in \\mathbb{N}$:\nWe need to find $b \\in \\mathbb{N}$ such that $R^{\\mathcal{N}}(0, b)$ and $\\neg(b=1)$.\nThe condition $R^{\\mathcal{N}}(0, b)$ implies $|0-b|=1$. Since $b \\in \\mathbb{N}$, the only solution is $b=1$.\nBut the formula also requires $\\neg(b=1)$, which would mean $\\neg(1=1)$. This is a contradiction.\nTherefore, there is no element $b \\in M$ that can serve as a witness.\n\nThe formula $\\exists y (R(0, y) \\land \\neg(y=1))$ is satisfied in $\\mathcal{N}$ (with witness $y=-1$), but the witness is not in $M$. The Tarski-Vaught test fails. This demonstrates that $\\mathcal{M}$ is not an elementary substructure of $\\mathcal{N}$.\n\n**4. Computation of $\\chi$**\n\nThe variable $\\chi$ is defined as $\\chi=1$ if $\\mathcal{M}\\preceq\\mathcal{N}$ and $\\chi=0$ otherwise.\nFrom the analysis in Part 3, we have rigorously proven that $\\mathcal{M}$ is not an elementary substructure of $\\mathcal{N}$.\nTherefore, the condition $\\mathcal{M} \\preceq \\mathcal{N}$ is false.\nThis implies that $\\chi$ must be assigned the value $0$.", "answer": "$$\\boxed{0}$$", "id": "3040786"}]}