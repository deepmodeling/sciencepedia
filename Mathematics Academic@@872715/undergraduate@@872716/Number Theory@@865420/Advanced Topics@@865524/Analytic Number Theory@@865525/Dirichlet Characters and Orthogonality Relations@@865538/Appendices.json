{"hands_on_practices": [{"introduction": "We begin our exploration with one of the simplest non-trivial cases: the modulus $q=4$. This exercise guides you through constructing all Dirichlet characters modulo 4 from first principles. By directly computing sums of character values, you will gain a concrete understanding of the first orthogonality relation and how it manifests in a simple, manageable setting [@problem_id:3084044].", "problem": "Let $q$ be a positive integer and let a Dirichlet character modulo $q$ be defined as a completely multiplicative function $\\chi:\\mathbb{Z}\\to\\mathbb{C}$ that is periodic modulo $q$, satisfies $\\chi(n)=0$ when $\\gcd(n,q)\\neq 1$, and satisfies $\\chi(n)\\neq 0$ only when $n$ is coprime to $q$. Consider the case $q=4$, and let $(\\mathbb{Z}/4\\mathbb{Z})^{\\times}$ denote the group of units modulo $4$.\n\n- Construct all Dirichlet characters modulo $4$ from first principles, by determining their values on representatives of residue classes modulo $4$ consistent with the defining properties above.\n- Determine which of these characters are real-valued.\n- For each unit $a\\in(\\mathbb{Z}/4\\mathbb{Z})^{\\times}$, compute the sum $\\sum_{\\chi}\\chi(a)$ over all Dirichlet characters modulo $4$, and verify directly that the sum over characters at each unit equals zero except at $a\\equiv 1\\pmod{4}$.\n- Finally, define\n$$S \\;=\\; \\sum_{a\\in(\\mathbb{Z}/4\\mathbb{Z})^{\\times}} \\left( \\sum_{\\chi} \\chi(a) \\right)$$\nand compute $S$.\n\nExpress your final answer for $S$ exactly; no rounding is required.", "solution": "We start from the definition of a Dirichlet character modulo $q$. For $q=4$, a Dirichlet character $\\chi$ modulo $4$ is a function $\\chi:\\mathbb{Z}\\to\\mathbb{C}$ satisfying:\n\n1. $\\chi(mn)=\\chi(m)\\chi(n)$ for all $m,n\\in\\mathbb{Z}$,\n2. $\\chi(n+4)=\\chi(n)$ for all $n\\in\\mathbb{Z}$,\n3. $\\chi(n)=0$ if $\\gcd(n,4)\\neq 1$, and $\\chi(n)\\neq 0$ only when $n$ is coprime to $4$.\n\nThus, $\\chi$ is determined entirely by its values on the residue classes modulo $4$. The residue classes are represented by $0,1,2,3$. Among these, the units modulo $4$ are $1$ and $3$, since $\\gcd(1,4)=1$ and $\\gcd(3,4)=1$, while $\\gcd(0,4)=4$ and $\\gcd(2,4)=2$ are not equal to $1$. Therefore any Dirichlet character modulo $4$ must satisfy $\\chi(0)=0$ and $\\chi(2)=0$, and it must assign nonzero values only to $1$ and $3$. Moreover, on $(\\mathbb{Z}/4\\mathbb{Z})^{\\times}=\\{1,3\\}$, a Dirichlet character restricts to a group homomorphism into the multiplicative group of complex numbers of absolute value $1$, since multiplicativity and periodicity imply that the restriction is a character of the finite group $(\\mathbb{Z}/4\\mathbb{Z})^{\\times}$.\n\nThe group $(\\mathbb{Z}/4\\mathbb{Z})^{\\times}$ is of order $2$, and is generated by $3$, since $3\\cdot 3\\equiv 1\\pmod{4}$. Therefore it is cyclic of order $2$, isomorphic to $\\mathbb{Z}/2\\mathbb{Z}$. A character on a cyclic group of order $2$ is determined by the image of the generator, and that image must be a complex number $z$ of absolute value $1$ with $z^{2}=1$. The only possibilities are $z=1$ and $z=-1$.\n\nThus there are exactly two Dirichlet characters modulo $4$, call them $\\chi_{0}$ and $\\chi_{1}$, defined by their values on residue classes modulo $4$:\n\n- The principal character $\\chi_{0}$ sends every unit to $1$ and every non-unit to $0$:\n$$\\chi_{0}(0)=0,\\quad \\chi_{0}(1)=1,\\quad \\chi_{0}(2)=0,\\quad \\chi_{0}(3)=1.$$\n\n- The nontrivial character $\\chi_{1}$ sends $1$ to $1$, $3$ to $-1$, and every non-unit to $0$:\n$$\\chi_{1}(0)=0,\\quad \\chi_{1}(1)=1,\\quad \\chi_{1}(2)=0,\\quad \\chi_{1}(3)=-1.$$\n\nBoth characters take values only in $\\{0,1,-1\\}$, hence they are real-valued. Therefore both Dirichlet characters modulo $4$ are real.\n\nNext, we compute the sum over all characters at each unit $a\\in(\\mathbb{Z}/4\\mathbb{Z})^{\\times}=\\{1,3\\}$:\n\n- For $a=1$:\n$$\\sum_{\\chi}\\chi(1)\\;=\\;\\chi_{0}(1)+\\chi_{1}(1)\\;=\\;1+1\\;=\\;2.$$\n\n- For $a=3$:\n$$\\sum_{\\chi}\\chi(3)\\;=\\;\\chi_{0}(3)+\\chi_{1}(3)\\;=\\;1+(-1)\\;=\\;0.$$\n\nThis direct computation verifies the orthogonality behavior in this modulus: the sum over characters at the unit $a$ equals $0$ except at $a\\equiv 1\\pmod{4}$, where it equals the number of characters, which is $2$ in this case.\n\nFinally, we compute\n$$S \\;=\\; \\sum_{a\\in(\\mathbb{Z}/4\\mathbb{Z})^{\\times}} \\left( \\sum_{\\chi} \\chi(a) \\right) \\;=\\; \\left( \\sum_{\\chi} \\chi(1) \\right) + \\left( \\sum_{\\chi} \\chi(3) \\right) \\;=\\; 2 + 0 \\;=\\; 2.$$\n\nTherefore, $S=2$.", "answer": "$$\\boxed{2}$$", "id": "3084044"}, {"introduction": "Next, we tackle modulus $q=8$, which presents a new challenge since the group of units $(\\mathbb{Z}/8\\mathbb{Z})^{\\times}$ is not cyclic. This practice will deepen your understanding of how characters are defined on non-cyclic groups and how the complete character table reveals the beautiful symmetry of the orthogonality relations, both across characters (rows) and residue classes (columns) [@problem_id:3084074].", "problem": "Let $q$ be the positive integer $8$. A Dirichlet character modulo $q$ is a function $\\chi : \\mathbb{Z} \\to \\mathbb{C}$ satisfying the following properties: \n- $\\chi(n + q) = \\chi(n)$ for all integers $n$, \n- $\\chi(n) = 0$ if and only if $\\gcd(n,q) \\neq 1$, \n- $\\chi(mn) = \\chi(m)\\chi(n)$ for all integers $m,n$, and \n- $\\chi(1) = 1$. \n\nStarting from these definitions and the structure of the multiplicative group of units modulo $q$, do the following:\n- Determine all Dirichlet characters modulo $8$ and construct the character table by listing the values $\\chi(a)$ for all characters $\\chi$ and all residues $a$ in $\\{1,3,5,7\\}$.\n- Classify each character by its parity, defined as the value $\\chi(-1)$.\n- Using your table, check orthogonality of characters and of residue classes by explicitly summing across rows $\\sum_{a \\bmod 8} \\chi(a)\\overline{\\psi(a)}$ and across columns $\\sum_{\\chi} \\chi(a)\\overline{\\chi(b)}$ and confirming the expected vanishing or nonvanishing patterns.\n\nFinally, form the $4 \\times 4$ matrix $M$ whose rows are ordered by the characters in the sequence determined by $(\\chi(3),\\chi(5)) \\in \\{(1,1),(1,-1),(-1,1),(-1,-1)\\}$ and whose columns correspond, in order, to the residues $1,3,5,7$. Compute the determinant $\\det(M)$. Provide your final answer as an exact integer with no rounding.", "solution": "The multiplicative group of units modulo $8$ is \n$$\n(\\mathbb{Z}/8\\mathbb{Z})^{\\times} = \\{1,3,5,7\\}.\n$$\nThis group has $4$ elements and is isomorphic to the direct product of two cyclic groups of order $2$, namely $\\mathbb{Z}/2\\mathbb{Z} \\times \\mathbb{Z}/2\\mathbb{Z}$. In particular, every unit $u \\in \\{1,3,5,7\\}$ satisfies $u^{2} \\equiv 1 \\pmod{8}$, so each unit has order dividing $2$. A Dirichlet character modulo $8$ is determined by its values on generators of $(\\mathbb{Z}/8\\mathbb{Z})^{\\times}$, and the homomorphism property forces each image to lie in $\\{\\pm 1\\}$ on units (since the image of an element of order $2$ must have order dividing $2$ in $\\mathbb{C}^{\\times}$).\n\nWe now parameterize all characters modulo $8$. Let $\\varepsilon_{3}, \\varepsilon_{5} \\in \\{\\pm 1\\}$, and define a character $\\chi$ by\n$$\n\\chi(1) = 1, \\quad \\chi(3) = \\varepsilon_{3}, \\quad \\chi(5) = \\varepsilon_{5}, \\quad \\chi(7) = \\chi(3)\\chi(5) = \\varepsilon_{3}\\varepsilon_{5},\n$$\nand for non-units $a \\in \\{0,2,4,6\\}$, set $\\chi(a) = 0$. This construction gives exactly $4$ distinct Dirichlet characters modulo $8$, corresponding to the four choices $(\\varepsilon_{3},\\varepsilon_{5}) \\in \\{(1,1),(1,-1),(-1,1),(-1,-1)\\}$.\n\nThe character table on the set of units $\\{1,3,5,7\\}$, with rows ordered by $(\\chi(3),\\chi(5))$ in the sequence $(1,1),(1,-1),(-1,1),(-1,-1)$ and columns in the order $1,3,5,7$, is\n$$\nM = \n\\begin{pmatrix}\n\\chi_{(1,1)}(1)  \\chi_{(1,1)}(3)  \\chi_{(1,1)}(5)  \\chi_{(1,1)}(7) \\\\\n\\chi_{(1,-1)}(1)  \\chi_{(1,-1)}(3)  \\chi_{(1,-1)}(5)  \\chi_{(1,-1)}(7) \\\\\n\\chi_{(-1,1)}(1)  \\chi_{(-1,1)}(3)  \\chi_{(-1,1)}(5)  \\chi_{(-1,1)}(7) \\\\\n\\chi_{(-1,-1)}(1)  \\chi_{(-1,-1)}(3)  \\chi_{(-1,-1)}(5)  \\chi_{(-1,-1)}(7)\n\\end{pmatrix}\n=\n\\begin{pmatrix}\n1  1  1  1 \\\\\n1  1  -1  -1 \\\\\n1  -1  1  -1 \\\\\n1  -1  -1  1\n\\end{pmatrix}.\n$$\n\nParity classification is given by $\\chi(-1)$, and since $-1 \\equiv 7 \\pmod{8}$, we have \n$$\n\\chi(-1) = \\chi(7) = \\varepsilon_{3}\\varepsilon_{5}.\n$$\nFor the four characters listed, the parities are:\n- For $(\\varepsilon_{3},\\varepsilon_{5}) = (1,1)$, $\\chi(-1) = 1$ (even).\n- For $(\\varepsilon_{3},\\varepsilon_{5}) = (1,-1)$, $\\chi(-1) = -1$ (odd).\n- For $(\\varepsilon_{3},\\varepsilon_{5}) = (-1,1)$, $\\chi(-1) = -1$ (odd).\n- For $(\\varepsilon_{3},\\varepsilon_{5}) = (-1,-1)$, $\\chi(-1) = 1$ (even).\n\nOrthogonality across rows (characters) can be checked directly using the inner product over a complete residue system modulo $8$:\n$$\n\\sum_{a \\bmod 8} \\chi(a)\\overline{\\psi(a)} = \\sum_{a \\in \\{1,3,5,7\\}} \\chi(a)\\psi(a),\n$$\nsince non-units contribute $0$. Because all entries are real, complex conjugation has no effect. Computing the dot products of the row vectors of $M$,\n$$\n(1,1,1,1)\\cdot(1,1,1,1) = 4, \\quad (1,1,1,1)\\cdot(1,1,-1,-1) = 0,\n$$\nand similarly for the other pairs, we find\n$$\n\\sum_{a \\bmod 8} \\chi_{i}(a)\\chi_{j}(a) = \n\\begin{cases}\n4,  i=j, \\\\\n0,  i \\neq j,\n\\end{cases}\n$$\nwhich confirms orthogonality of distinct characters and normalization for identical ones.\n\nOrthogonality across columns (residue classes) is checked by summing over characters:\n$$\n\\sum_{\\chi} \\chi(a)\\overline{\\chi(b)} = \\sum_{\\chi} \\chi(a)\\chi(b),\n$$\nagain real-valued. Using the column vectors of $M$,\n$$\n(1,1,1,1)\\cdot(1,1,1,1) = 4, \\quad (1,1,1,1)\\cdot(1,1,-1,-1) = 0,\n$$\nand similarly for other column pairs, we find\n$$\n\\sum_{\\chi} \\chi(a)\\chi(b) = \n\\begin{cases}\n4,  a=b, \\\\\n0,  a \\neq b,\n\\end{cases}\n$$\nconfirming the orthogonality of distinct residue classes in the unit group.\n\nFinally, we compute the determinant of $M$. Perform row operations that preserve the determinant up to sign:\nSet\n$$\nR_{2} \\leftarrow R_{2} - R_{1}, \\quad R_{3} \\leftarrow R_{3} - R_{1}, \\quad R_{4} \\leftarrow R_{4} - R_{1},\n$$\nwhich yields\n$$\n\\begin{pmatrix}\n1  1  1  1 \\\\\n0  0  -2  -2 \\\\\n0  -2  0  -2 \\\\\n0  -2  -2  0\n\\end{pmatrix}.\n$$\nExpanding the determinant along the first column gives\n$$\n\\det(M) = 1 \\cdot \\det\\!\\begin{pmatrix}\n0  -2  -2 \\\\\n-2  0  -2 \\\\\n-2  -2  0\n\\end{pmatrix}.\n$$\nLet $B$ denote this $3 \\times 3$ matrix. Note that \n$$\nB = -2\\,(J - I),\n$$\nwhere $J$ is the $3 \\times 3$ all-ones matrix and $I$ is the $3 \\times 3$ identity matrix. The eigenvalues of $J$ are $3$ and $0$ (with multiplicity $2$), so the eigenvalues of $J - I$ are $2$ and $-1$ (with multiplicity $2$). Therefore,\n$$\n\\det(J - I) = 2 \\cdot (-1)^{2} = 2,\n$$\nand hence\n$$\n\\det(B) = (-2)^{3} \\det(J - I) = -8 \\cdot 2 = -16.\n$$\nThus,\n$$\n\\det(M) = -16.\n$$\nThis can also be seen from the identity $M M^{\\top} = 4 I_{4}$, which implies $|\\det(M)| = 16$, and the explicit computation of the sign above shows $\\det(M) = -16$.", "answer": "$$\\boxed{-16}$$", "id": "3084074"}, {"introduction": "Having practiced constructing and verifying character properties, we now put the theory to work. This problem demonstrates the analytical power of the orthogonality relations by challenging you to evaluate a seemingly complex sum involving characters modulo 9. You will see how a clever application of the first orthogonality relation can transform a difficult calculation into a straightforward one, revealing the elegance and utility of these fundamental principles [@problem_id:3084041].", "problem": "Let $n=9$. Consider the multiplicative group of units modulo $9$, denoted $(\\mathbb{Z}/9\\mathbb{Z})^{\\times}$. An element $a \\in \\mathbb{Z}$ represents a unit modulo $9$ if and only if its greatest common divisor (gcd) with $9$ equals $1$. The order of an element $u \\in (\\mathbb{Z}/9\\mathbb{Z})^{\\times}$ is the least positive integer $k$ such that $u^{k} \\equiv 1 \\pmod{9}$.\n\nTasks:\n- Identify all elements of $(\\mathbb{Z}/9\\mathbb{Z})^{\\times}$ and determine the order of each element.\n- A Dirichlet character modulo $9$ is a group homomorphism $\\chi : (\\mathbb{Z}/9\\mathbb{Z})^{\\times} \\to \\mathbb{C}^{\\times}$, where $\\mathbb{C}^{\\times}$ denotes the multiplicative group of nonzero complex numbers. Using the orthogonality relations of Dirichlet characters modulo $9$, evaluate the sum\n$$\nS \\;=\\; \\sum_{\\chi \\,(\\mathrm{mod}\\ 9)} \\left| \\sum_{a \\in (\\mathbb{Z}/9\\mathbb{Z})^{\\times}} \\chi(a)\\, a \\right|^{2},\n$$\nwhere the outer sum ranges over all Dirichlet characters modulo $9$ and, in the inner sum, each $a$ is taken as its least positive representative in $\\{1,2,\\dots,8\\}$.\n  \nProvide your final answer for $S$ as an exact integer.", "solution": "First, we identify the elements of the multiplicative group of units modulo $9$, denoted $(\\mathbb{Z}/9\\mathbb{Z})^{\\times}$. An integer $a$ is a unit modulo $9$ if and only if $\\gcd(a, 9) = 1$. We consider the set of integers $\\{1, 2, 3, 4, 5, 6, 7, 8\\}$.\n- $\\gcd(1, 9) = 1$\n- $\\gcd(2, 9) = 1$\n- $\\gcd(3, 9) = 3$\n- $\\gcd(4, 9) = 1$\n- $\\gcd(5, 9) = 1$\n- $\\gcd(6, 9) = 3$\n- $\\gcd(7, 9) = 1$\n- $\\gcd(8, 9) = 1$\n\nThus, the elements of $(\\mathbb{Z}/9\\mathbb{Z})^{\\times}$ are $\\{1, 2, 4, 5, 7, 8\\}$. The order of the group is the number of its elements, which is $\\phi(9) = 9(1 - \\frac{1}{3}) = 6$.\n\nNext, we determine the order of each element. The order of an element $u$ is the smallest positive integer $k$ such that $u^k \\equiv 1 \\pmod{9}$.\n- For $a=1$: $1^1 \\equiv 1 \\pmod{9}$. The order is $1$.\n- For $a=2$: $2^1 \\equiv 2$, $2^2 \\equiv 4$, $2^3 \\equiv 8$, $2^4 \\equiv 16 \\equiv 7$, $2^5 \\equiv 14 \\equiv 5$, $2^6 \\equiv 10 \\equiv 1 \\pmod{9}$. The order is $6$.\n- For $a=4$: $4^1 \\equiv 4$, $4^2 \\equiv 16 \\equiv 7$, $4^3 \\equiv 28 \\equiv 1 \\pmod{9}$. The order is $3$.\n- For $a=5$: Since $5 \\equiv 2^5 \\pmod{9}$ and $2$ has order $6$, the order of $5$ is $6/\\gcd(5,6) = 6$. Explicitly: $5^1 \\equiv 5$, $5^2 \\equiv 25 \\equiv 7$, $5^3 \\equiv 35 \\equiv 8$, $5^4 \\equiv 40 \\equiv 4$, $5^5 \\equiv 20 \\equiv 2$, $5^6 \\equiv 10 \\equiv 1 \\pmod{9}$. The order is $6$.\n- For $a=7$: Since $7 \\equiv 4^2 \\pmod{9}$ and $4$ has order $3$, the order is $3/\\gcd(2,3) = 3$. Explicitly: $7^1 \\equiv 7$, $7^2 \\equiv 49 \\equiv 4$, $7^3 \\equiv 28 \\equiv 1 \\pmod{9}$. The order is $3$.\n- For $a=8$: $8^1 \\equiv 8 \\equiv -1$, $8^2 \\equiv (-1)^2 \\equiv 1 \\pmod{9}$. The order is $2$.\n\nThe main task is to evaluate the sum\n$$\nS \\;=\\; \\sum_{\\chi \\,(\\mathrm{mod}\\ 9)} \\left| \\sum_{a \\in (\\mathbb{Z}/9\\mathbb{Z})^{\\times}} \\chi(a)\\, a \\right|^{2}\n$$\nThe sum is over all Dirichlet characters $\\chi$ modulo $9$. Let $G = (\\mathbb{Z}/9\\mathbb{Z})^{\\times}$. We can expand the squared absolute value term as follows:\n$$\n\\left| \\sum_{a \\in G} \\chi(a)\\, a \\right|^{2} = \\left( \\sum_{a \\in G} \\chi(a)\\, a \\right) \\overline{\\left( \\sum_{b \\in G} \\chi(b)\\, b \\right)} = \\left( \\sum_{a \\in G} \\chi(a)\\, a \\right) \\left( \\sum_{b \\in G} \\overline{\\chi(b)}\\, b \\right)\n$$\nSince the values of $\\chi(b)$ are roots of unity, we have $\\overline{\\chi(b)} = \\chi(b)^{-1}$. As $\\chi$ is a homomorphism, $\\chi(b)^{-1} = \\chi(b^{-1})$, where $b^{-1}$ is the inverse of $b$ in the group $G$.\nSo, the expression for $S$ becomes:\n$$\nS = \\sum_{\\chi} \\left( \\sum_{a \\in G} \\chi(a)\\, a \\right) \\left( \\sum_{b \\in G} \\chi(b^{-1})\\, b \\right)\n$$\n$$\nS = \\sum_{\\chi} \\sum_{a \\in G} \\sum_{b \\in G} a\\,b\\, \\chi(a) \\chi(b^{-1}) = \\sum_{\\chi} \\sum_{a \\in G} \\sum_{b \\in G} a\\,b\\, \\chi(ab^{-1})\n$$\nWe can interchange the order of summation:\n$$\nS = \\sum_{a \\in G} \\sum_{b \\in G} a\\,b \\left( \\sum_{\\chi} \\chi(ab^{-1}) \\right)\n$$\nNow, we use the first orthogonality relation for characters. For a finite abelian group $G$, and any element $g \\in G$:\n$$\n\\sum_{\\chi} \\chi(g) = \\begin{cases} |G|  \\text{if } g = e \\\\ 0  \\text{if } g \\neq e \\end{cases}\n$$\nwhere $e$ is the identity element of $G$ and the sum is over all characters of $G$. In our case, $G = (\\mathbb{Z}/9\\mathbb{Z})^{\\times}$, the identity is $e=1$, and the order is $|G| = \\phi(9) = 6$. The number of Dirichlet characters modulo $9$ is also $\\phi(9)=6$.\nApplying this relation to the inner sum, with $g = ab^{-1}$:\n$$\n\\sum_{\\chi} \\chi(ab^{-1}) = \\begin{cases} \\phi(9)  \\text{if } ab^{-1} \\equiv 1 \\pmod{9} \\\\ 0  \\text{if } ab^{-1} \\not\\equiv 1 \\pmod{9} \\end{cases}\n$$\nThe condition $ab^{-1} \\equiv 1 \\pmod{9}$ is equivalent to $a \\equiv b \\pmod{9}$.\nTherefore, the triple sum for $S$ simplifies. The terms are non-zero only when $a=b$.\n$$\nS = \\sum_{a \\in G} \\sum_{b \\in G} a\\,b \\cdot (\\phi(9) \\cdot \\delta_{a,b})\n$$\nwhere $\\delta_{a,b}$ is the Kronecker delta. The sum over $b$ collapses, as only the term with $b=a$ survives:\n$$\nS = \\sum_{a \\in G} a \\cdot a \\cdot \\phi(9) = \\phi(9) \\sum_{a \\in G} a^2\n$$\nThe set of elements is $G = \\{1, 2, 4, 5, 7, 8\\}$. We need to compute the sum of their squares:\n$$\n\\sum_{a \\in G} a^2 = 1^2 + 2^2 + 4^2 + 5^2 + 7^2 + 8^2\n$$\n$$\n\\sum_{a \\in G} a^2 = 1 + 4 + 16 + 25 + 49 + 64 = 159\n$$\nNow we can calculate $S$:\n$$\nS = \\phi(9) \\cdot 159 = 6 \\cdot 159\n$$\n$$\nS = 954\n$$\nThe value of the sum is $954$.", "answer": "$$\\boxed{954}$$", "id": "3084041"}]}