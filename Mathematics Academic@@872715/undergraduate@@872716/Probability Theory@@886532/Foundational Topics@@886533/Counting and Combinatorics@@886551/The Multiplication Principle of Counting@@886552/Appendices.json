{"hands_on_practices": [{"introduction": "This first practice problem illustrates a powerful and common strategy in combinatorics: the complement rule. Instead of directly counting the arrangements that satisfy a condition, it is often far simpler to count the total number of possible arrangements and subtract those that do not satisfy the condition. This exercise [@problem_id:1402656], set in the practical context of a technology company's content delivery network, challenges you to count the number of valid deployments where at least one file is placed on a premium server by first calculating all possible deployments and then subtracting the invalid ones.", "problem": "A technology company is designing a deployment strategy for its Content Delivery Network (CDN). The company needs to distribute three distinct, large data files—a video game client, a feature film, and an operating system update—across its network of servers. The network consists of 12 distinct servers located in different geographical regions. For distribution, each of the three files must be placed on exactly one server. A single server is capable of hosting multiple files.\n\nAmong the 12 servers, 4 are classified as \"premium\" high-bandwidth servers, while the other 8 are \"standard\" servers. Company policy dictates that for any valid deployment, at least one of the three files must be hosted on a premium server to ensure high-speed access for critical content.\n\nHow many different ways can the three files be distributed across the 12 servers while adhering to this policy?", "solution": "Let the set of files be $F$ with $|F|=3$ (distinct files), and the set of servers be $S$ with $|S|=12$, partitioned into $P$ (premium) with $|P|=4$ and $Q$ (standard) with $|Q|=8$. A deployment assigns each file to exactly one server, allowing multiple files on the same server. Thus, each deployment corresponds to a function $f: F \\to S$.\n\nBy the multiplication principle, the total number of unrestricted deployments is\n$$\n12^{3}.\n$$\n\nInvalid deployments are those with no file on a premium server, i.e., $f(F) \\subseteq Q$. The number of such deployments is\n$$\n8^{3}.\n$$\n\nBy the complement rule, the number of valid deployments with at least one file on a premium server is\n$$\n12^{3} - 8^{3} = 1728 - 512 = 1216.\n$$", "answer": "$$\\boxed{1216}$$", "id": "1402656"}, {"introduction": "Building on the fundamentals, this problem demonstrates how to tackle counting problems with multiple constraints by breaking them down into sequential stages. The key to solving this exercise [@problem_id:1402685] is to handle the most restrictive conditions first—in this case, placing the two non-adjacent red flags—and then applying the multiplication principle to the remaining, independent choices. This strategic approach of decomposing a complex problem into a series of simpler steps is a cornerstone of effective combinatorial problem-solving.", "problem": "A signal corps develops a system for creating coded messages by arranging 8 flags in a straight line. The available flags are in three colors: red, blue, and yellow. For a message to be considered valid, it must satisfy a specific set of rules:\n1. The message must contain exactly two red flags.\n2. The two red flags cannot be placed in adjacent positions.\n3. The remaining six positions must be filled with flags that are either blue or yellow.\n\nHow many distinct valid coded messages can be formed under these rules?", "solution": "We have sequences of length $8$ over the alphabet $\\{R,B,Y\\}$ with exactly two $R$ and no adjacent $R$. First count the placements of the two red flags. The total number of unordered pairs of positions from $8$ is $\\binom{8}{2}$. The adjacent pairs are $(1,2),(2,3),\\ldots,(7,8)$, which are $7$ pairs. Hence the number of ways to place two nonadjacent red flags is\n$$\n\\binom{8}{2}-7=28-7=21.\n$$\nFor each such placement, the remaining $6$ positions can each be filled independently with either $B$ or $Y$, giving $2^{6}$ possibilities. Therefore, the total number of valid messages is\n$$\n\\left(\\binom{8}{2}-7\\right)2^{6}=21\\cdot 2^{6}=21\\cdot 64=1344.\n$$", "answer": "$$\\boxed{1344}$$", "id": "1402685"}, {"introduction": "Our final practice problem expands the application of counting principles to a geometric setting. Here, we must determine the number of \"safe\" ways to place two kings on a chessboard so that they do not attack each other. This problem [@problem_id:1402670] once again utilizes the complement rule, but its core challenge lies in systematically identifying and counting all the \"unsafe\" or attacking configurations. This exercise will strengthen your ability to perform careful casework and apply combinatorial reasoning to spatial arrangements.", "problem": "In the game of chess, a king on a given square can attack any adjacent square, including those on the diagonals. Consider a generalized rectangular chessboard with $m$ rows and $n$ columns. Two kings are to be placed on two different squares of this board. The placement is considered \"safe\" if the two kings do not attack each other.\n\nAssuming the two kings are indistinguishable, determine the total number of distinct safe placements possible. Provide your answer as a single closed-form analytic expression in terms of the integers $m$ and $n$, where it is assumed that $m \\geq 1$ and $n \\geq 1$.", "solution": "A placement of two indistinguishable kings on different squares corresponds to choosing an unordered pair of distinct squares. On an $m \\times n$ board there are $mn$ squares, so the total number of unordered pairs is $\\binom{mn}{2}$. A placement is unsafe precisely when the two squares are adjacent by a king move, that is, when their Chebyshev distance is $1$. Therefore, the number of safe placements equals the total number of unordered pairs minus the number of unordered adjacent pairs.\n\nWe count the unordered adjacent pairs by counting edges in the king-adjacency graph on the $m \\times n$ grid. Horizontal adjacencies contribute $m(n-1)$ pairs, vertical adjacencies contribute $(m-1)n$ pairs, and the two diagonal directions together contribute $2(m-1)(n-1)$ pairs. Hence the total number of attacking pairs is\n$$\nE = m(n-1) + (m-1)n + 2(m-1)(n-1).\n$$\nExpanding and simplifying gives\n$$\nE = (mn - m) + (mn - n) + 2(mn - m - n + 1) = 4mn - 3m - 3n + 2.\n$$\n\nThus the number of safe placements is\n$$\nS = \\binom{mn}{2} - E = \\frac{mn(mn - 1)}{2} - \\left(4mn - 3m - 3n + 2\\right).\n$$\nExpanding the numerator,\n$$\nS = \\frac{mn(mn - 1) - 2\\left(4mn - 3m - 3n + 2\\right)}{2}\n= \\frac{m^{2}n^{2} - mn - 8mn + 6m + 6n - 4}{2}\n= \\frac{m^{2}n^{2} - 9mn + 6m + 6n - 4}{2}.\n$$\nThis expression is valid for all integers $m \\geq 1$ and $n \\geq 1$.", "answer": "$$\\boxed{\\frac{m^{2}n^{2} - 9mn + 6m + 6n - 4}{2}}$$", "id": "1402670"}]}