{"hands_on_practices": [{"introduction": "Indicator variables excel at breaking down a complex, large-scale problem into manageable pieces. This first exercise provides a concrete example of this 'divide and conquer' strategy, a common approach in fields from engineering to computer science. We will calculate the expected number of faults on a display grid by focusing on the probability of a single, localized fault event and then summing up over all possible locations where the fault could occur [@problem_id:1365956].", "problem": "A company is developing a new type of large-area flexible display. The display is structured as a rectangular grid of pixels with $n$ rows and $m$ columns. Due to imperfections in the manufacturing process, each individual pixel has a probability $p$ of being defective, causing it to be permanently \"stuck-on\". The state of any pixel (defective or not) is statistically independent of all other pixels.\n\nA specific type of visual artifact, called a \"horizontal pair-fault,\" occurs when two adjacent pixels in the same row are both defective. Determine the expected number of horizontal pair-faults across the entire $n \\times m$ display. Express your answer as a symbolic expression in terms of $n$, $m$, and $p$.", "solution": "Let $X_{i,j}$ be the indicator random variable for a horizontal pair-fault between pixels in row $i$ at columns $j$ and $j+1$, where $i \\in \\{1,\\dots,n\\}$ and $j \\in \\{1,\\dots,m-1\\}$. Thus, $X_{i,j}=1$ if both pixels are defective and $X_{i,j}=0$ otherwise.\n\nThe total number of horizontal pair-faults is\n$$\nH=\\sum_{i=1}^{n}\\sum_{j=1}^{m-1} X_{i,j}.\n$$\nBy linearity of expectation,\n$$\n\\mathbb{E}[H]=\\sum_{i=1}^{n}\\sum_{j=1}^{m-1} \\mathbb{E}[X_{i,j}].\n$$\nFor a fixed adjacent pair, by independence of pixel defects and the given defect probability $p$ for each pixel,\n$$\n\\mathbb{P}(X_{i,j}=1)=p \\cdot p=p^{2},\n$$\nso\n$$\n\\mathbb{E}[X_{i,j}]=p^{2}.\n$$\nThere are $n(m-1)$ such adjacent pairs across the grid, hence\n$$\n\\mathbb{E}[H]=n(m-1)p^{2}.\n$$", "answer": "$$\\boxed{n(m-1)p^{2}}$$", "id": "1365956"}, {"introduction": "The true power of the linearity of expectation, and thus of indicator variables, is that it holds even when the variables are not independent. This next problem, a classic in probability theory often called the hat-check problem, illustrates this crucial point beautifully [@problem_id:1366013]. We will find the expected number of correctly matched items in a random shuffling, a result that is surprisingly constant and reveals the elegance of this method when dealing with dependent events.", "problem": "In a large-scale data center, a faulty batch script attempts to migrate user data. The system contains $n$ distinct user accounts, labeled $A_1, A_2, \\dots, A_n$, and $n$ corresponding user data profiles, labeled $P_1, P_2, \\dots, P_n$. Initially, account $A_i$ is correctly associated with profile $P_i$ for all $i=1, \\dots, n$. The faulty script, however, destroys all existing associations and creates a new set of random pairings. The new mapping is a perfect one-to-one correspondence, where each user account is randomly paired with exactly one user data profile, and each profile is assigned to exactly one account. All possible one-to-one pairings are equally likely.\n\nDetermine the expected number of user accounts that are still correctly associated with their original data profiles after the script has run. The number of user accounts, $n$, is a positive integer greater than or equal to 1. Provide your answer as a single numerical value.", "solution": "Model the random reassignment as a uniformly random permutation $\\sigma$ of $\\{1,2,\\dots,n\\}$, where $\\sigma(i)=j$ means account $A_i$ is paired with profile $P_j$. The number of accounts correctly associated with their original profiles is the number of fixed points of $\\sigma$.\n\nDefine indicator variables $X_i$ for $i \\in \\{1,\\dots,n\\}$ by\n$$\nX_i=\\begin{cases}\n1,  \\text{if } \\sigma(i)=i,\\\\\n0,  \\text{otherwise.}\n\\end{cases}\n$$\nLet $X=\\sum_{i=1}^{n} X_i$ denote the total number of fixed points. By linearity of expectation,\n$$\n\\mathbb{E}[X]=\\sum_{i=1}^{n} \\mathbb{E}[X_i].\n$$\nFor each $i$, since $\\sigma$ is uniformly random over all $n!$ permutations, the number of permutations fixing $i$ is $(n-1)!$, so\n$$\n\\Pr(\\sigma(i)=i)=\\frac{(n-1)!}{n!}=\\frac{1}{n}.\n$$\nBecause $X_i$ is an indicator,\n$$\n\\mathbb{E}[X_i]=\\Pr(X_i=1)=\\Pr(\\sigma(i)=i)=\\frac{1}{n}.\n$$\nTherefore,\n$$\n\\mathbb{E}[X]=\\sum_{i=1}^{n} \\frac{1}{n}=1.\n$$\nThus, the expected number of accounts remaining correctly associated is $1$, for any integer $n\\geq 1$.", "answer": "$$\\boxed{1}$$", "id": "1366013"}, {"introduction": "Having mastered the fundamentals, we now apply indicator variables to a more abstract combinatorial problem. This final practice asks for the expected number of cycles of a specific length within a random permutation, a concept central to the study of permutations and group theory [@problem_id:1365981]. This requires us to first identify the set of objects we are counting and then define an indicator for each, demonstrating how this technique can be a powerful tool in advanced combinatorial analysis.", "problem": "In a large university dormitory, there are $n$ students, each assigned a unique mailbox numbered from 1 to $n$. One day, a misdirected mail delivery results in each student's single letter being placed into one of the $n$ mailboxes, with each mailbox receiving exactly one letter. The assignment of letters to mailboxes is completely random, meaning every one of the $n!$ possible arrangements of the $n$ letters is equally likely.\n\nA \"delivery cycle of length $k$\" is defined as a sequence of $k$ distinct students, say $s_1, s_2, \\dots, s_k$, such that the letter for student $s_1$ is in student $s_2$'s mailbox, the letter for $s_2$ is in student $s_3$'s mailbox, and so on, with the letter for student $s_{k-1}$ in student $s_k$'s mailbox, and finally, the letter for student $s_k$ is back in student $s_1$'s mailbox.\n\nFor any integers $n$ and $k$ such that $n \\ge k \\ge 1$, determine the expected number of distinct delivery cycles of length exactly $k$. Express your answer as an analytical expression in terms of $n$ and/or $k$.", "solution": "Let the random assignment of letters to mailboxes be modeled by a uniformly random permutation of the $n$ students. Define $X_{k}$ to be the number of delivery cycles of length exactly $k$ in this permutation. We aim to compute $\\operatorname{E}[X_{k}]$.\n\nConsider the collection of all distinct $k$-cycles on the $n$ students, where cycles are identified up to cyclic rotation (i.e., as in the disjoint cycle decomposition of a permutation). The number of such $k$-cycles is\n$$\nN_{k}=\\binom{n}{k}(k-1)!,\n$$\nsince we first choose the $k$ students, then arrange them into a cycle, where $k$ linear orderings correspond to the same cycle, resulting in $(k-1)!$ distinct cycles on a fixed $k$-set.\n\nFor each specific $k$-cycle $C$, define the indicator variable $I_{C}$ that equals $1$ if $C$ appears as a cycle in the permutation and $0$ otherwise. Then\n$$\nX_{k}=\\sum_{C} I_{C},\n$$\nwhere the sum is over all $N_{k}$ distinct $k$-cycles. By linearity of expectation,\n$$\n\\operatorname{E}[X_{k}]=\\sum_{C}\\operatorname{E}[I_{C}]=\\sum_{C}\\Pr(I_{C}=1).\n$$\n\nFor any fixed $k$-cycle $C$, the number of permutations that contain $C$ (with the $k$ elements arranged exactly as in $C$) equals $(n-k)!$, since the remaining $n-k$ elements can be permuted arbitrarily. As the total number of permutations is $n!$, we have\n$$\n\\Pr(I_{C}=1)=\\frac{(n-k)!}{n!}.\n$$\nTherefore,\n$$\n\\operatorname{E}[X_{k}]=N_{k}\\cdot\\frac{(n-k)!}{n!}\n=\\binom{n}{k}(k-1)!\\cdot\\frac{(n-k)!}{n!}.\n$$\nUsing $\\binom{n}{k}=\\dfrac{n!}{k!(n-k)!}$, we simplify:\n$$\n\\operatorname{{E}}[X_{k}]\n=\\frac{n!}{k!(n-k)!}\\cdot (k-1)!\\cdot \\frac{(n-k)!}{n!}\n=\\frac{1}{k}.\n$$\nThis holds for all integers $n$ and $k$ with $n\\ge k\\ge 1$.", "answer": "$$\\boxed{\\frac{1}{k}}$$", "id": "1365981"}]}