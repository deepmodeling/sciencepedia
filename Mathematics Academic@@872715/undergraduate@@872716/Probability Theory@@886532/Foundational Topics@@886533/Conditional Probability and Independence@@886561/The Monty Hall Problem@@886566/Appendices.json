{"hands_on_practices": [{"introduction": "This first exercise generalizes the classic three-door problem to a scenario with five doors, where the host reveals more than one empty door. By tackling this variation[@problem_id:1402148], you can test whether your understanding of the core principle holds: the initial probability is fixed, and the host's actions concentrate the remaining probability onto the few unopened doors. This practice reinforces the fundamental logic of why switching is advantageous, even as the scale of the problem changes.", "problem": "A popular game show presents a contestant with a choice of five identical, closed doors. Behind one door is a brand new car, and behind the other four doors are goats. The contestant's goal is to select the door with the car.\n\nThe game proceeds in the following stages:\n1.  The contestant makes an initial selection, choosing one of the five doors.\n2.  The game show host, who knows the location of the car, then opens two of the other four doors. The host always chooses doors that contain goats.\n3.  After the host reveals the two goats, three doors remain closed: the contestant's initial choice and two other unopened doors.\n4.  The contestant is given the option to either stick with their original choice or switch to one of the two other unopened doors.\n\nSuppose the contestant decides to switch. Their switching strategy is to choose one of the two other available closed doors, with each of those two doors having an equal probability of being chosen. What is the probability that the contestant wins the car?\n\nExpress your answer as an exact fraction in simplest form.", "solution": "Let $A$ be the event that the initial selection is the car and $B$ be the event that the initial selection is a goat. Let $W$ be the event that the contestant wins under the stated switching strategy (choosing uniformly at random between the two other unopened doors). The initial probabilities are $P(A)=\\frac{1}{5}$ and $P(B)=\\frac{4}{5}$.\n\nIf $A$ occurs, then all four other doors contain goats. The host opens two goat doors, leaving two unopened doors that are both goats. Switching to one of these yields a loss, so $P(W \\mid A)=0$.\n\nIf $B$ occurs, then among the other four doors there is exactly one car and three goats. The host opens two goat doors, leaving two unopened doors among which exactly one is the car. The contestant then chooses uniformly between these two, so $P(W \\mid B)=\\frac{1}{2}$.\n\nBy the law of total probability,\n$$\nP(W)=P(W \\mid A)P(A)+P(W \\mid B)P(B)=0 \\cdot \\frac{1}{5}+\\frac{1}{2}\\cdot \\frac{4}{5}=\\frac{2}{5}.\n$$", "answer": "$$\\boxed{\\frac{2}{5}}$$", "id": "1402148"}, {"introduction": "The Monty Hall problem is famously sensitive to the specific rules of the game, especially the host's behavior. This next practice[@problem_id:1402131] explores a fascinating twist where the host makes a verbal statement instead of physically opening a door. This subtle change requires you to move beyond simple intuition and apply Bayes' theorem to carefully model the information you receive, revealing how the host's decision-making process directly impacts the updated probabilities.", "problem": "In a modern revival of a classic game show, a contestant is faced with three identical doors: Door 1, Door 2, and Door 3. Behind one door is a valuable car, and behind the other two are goats. The contestant does not know where the car is, and an initial assumption is made that the car is equally likely to be behind any of the three doors.\n\nThe game proceeds as follows:\n1.  The contestant chooses a door. Let's say the contestant chooses Door 1.\n2.  The host, who knows the exact location of the car, then makes a statement. The host's protocol is to always make a statement of the form \"The car is not behind Door $k$,\" where $k$ is one of the doors the contestant did *not* choose (in this case, $k \\in \\{2, 3\\}$). The host's statement is always true.\n3.  If the car is behind the contestant's chosen door (Door 1), then both possible statements (\"The car is not behind Door 2\" and \"The car is not behind Door 3\") are true. In this scenario, the host chooses which of the two statements to make by flipping a fair, unbiased coin.\n4.  If the car is behind one of the unchosen doors (say, Door 2), the host can only truthfully state that the car is not behind the other unchosen door (Door 3). He must make this statement.\n\nThe contestant picks Door 1, and the host then says: \"I can tell you that the car is not behind Door 3.\"\n\nGiven the host's statement, what is the new probability that the car is behind the contestant's initially chosen door, Door 1?\n\nSelect the correct option from the choices below.\n\nA. $1/3$\n\nB. $1/2$\n\nC. $2/3$\n\nD. $1/4$\n\nE. $3/4$", "solution": "Let $C_{i}$ denote the event that the car is behind Door $i$ for $i \\in \\{1,2,3\\}$, and let $H_{3}$ denote the event that the host says, \"The car is not behind Door 3.\" The prior probabilities are $P(C_{1})=P(C_{2})=P(C_{3})=\\frac{1}{3}$.\n\nBy the host’s protocol:\n- If $C_{1}$ occurs, both statements are true and the host flips a fair coin, hence $P(H_{3}\\mid C_{1})=\\frac{1}{2}$.\n- If $C_{2}$ occurs, the only true statement is that the car is not behind Door 3, hence $P(H_{3}\\mid C_{2})=1$.\n- If $C_{3}$ occurs, the only true statement is that the car is not behind Door 2, hence $P(H_{3}\\mid C_{3})=0$.\n\nBy Bayes’ theorem,\n$$\nP(C_{1}\\mid H_{3})=\\frac{P(H_{3}\\mid C_{1})P(C_{1})}{P(H_{3}\\mid C_{1})P(C_{1})+P(H_{3}\\mid C_{2})P(C_{2})+P(H_{3}\\mid C_{3})P(C_{3})}.\n$$\nSubstituting the values,\n$$\nP(C_{1}\\mid H_{3})=\\frac{\\left(\\frac{1}{2}\\right)\\left(\\frac{1}{3}\\right)}{\\left(\\frac{1}{2}\\right)\\left(\\frac{1}{3}\\right)+1\\cdot\\left(\\frac{1}{3}\\right)+0\\cdot\\left(\\frac{1}{3}\\right)}=\\frac{\\frac{1}{6}}{\\frac{1}{6}+\\frac{1}{3}}=\\frac{\\frac{1}{6}}{\\frac{1}{2}}=\\frac{1}{3}.\n$$\nThus, given the host’s statement, the probability that the car is behind Door 1 is $\\frac{1}{3}$, corresponding to option A.", "answer": "$$\\boxed{A}$$", "id": "1402131"}, {"introduction": "Theoretical probability can feel abstract, but its conclusions can be powerfully demonstrated through computational experiments. This final exercise[@problem_id:1402172] challenges you to think like a computational scientist by designing a Monte Carlo simulation to empirically test the generalized Monty Hall problem. Selecting the correct algorithm requires a rigorous, step-by-step understanding of the game's rules and assumptions, bridging the gap between mathematical derivation and practical verification.", "problem": "A famous game show is generalized to involve $N$ identical doors. Behind one door is a valuable prize, and behind the other $N-1$ doors are goats. The contestant does not know where the prize is. The game proceeds as follows:\n1.  The contestant makes an initial choice, picking one of the $N$ doors.\n2.  The host, who knows the location of the prize, then opens $k$ other doors, where $1 \\le k \\le N-2$. The doors the host opens are guaranteed to reveal goats.\n3.  The contestant is then given a choice: either stick with their initial selection or switch to a different, still-closed door.\n\nWe are interested in the \"switching strategy,\" where the contestant always abandons their initial choice and randomly picks one of the other doors that remains closed. Your task is to identify the correct algorithm for a Monte Carlo simulation designed to estimate the probability of winning when a contestant employs this switching strategy.\n\nLet `num_trials` be the total number of times the simulation is run. Which of the following algorithms correctly estimates the winning probability?\n\nA. Initialize `wins = 0`. For `i` from 1 to `num_trials`:\n   1. Randomly assign the prize to a door from 1 to $N$.\n   2. Randomly select the contestant's initial door.\n   3. Identify the set of $N-1$ doors that are not the contestant's choice. The host randomly opens $k$ doors from this set.\n   4. Identify the set of remaining closed doors. The contestant randomly selects a new door from this set.\n   5. If the contestant's new door has the prize, increment `wins`.\n   The estimated probability is `wins / num_trials`.\n\nB. Initialize `wins = 0`. For `i` from 1 to `num_trials`:\n   1. Randomly assign the prize to a door from 1 to $N$.\n   2. Randomly select the contestant's initial door.\n   3. Identify the set of doors that do not contain the prize and are not the contestant's choice. The host randomly opens $k$ doors from this set.\n   4. Identify the set of all doors not opened by the host. The contestant randomly selects a new door from this set.\n   5. If the contestant's new door has the prize, increment `wins`.\n   The estimated probability is `wins / num_trials`.\n\nC. Initialize `wins = 0`. Initialize `valid_trials = 0`. While `valid_trials < num_trials`:\n   1. Randomly assign the prize to a door from 1 to $N$.\n   2. Randomly select the contestant's initial door.\n   3. If the contestant's initial choice is the prize door, discard this trial and continue to the next iteration.\n   4. Identify the set of doors that do not contain the prize and are not the contestant's choice. The host randomly opens $k$ doors from this set.\n   5. Identify the set of doors not opened by the host and not the contestant's initial choice. The contestant randomly selects one door from this set.\n   6. If the contestant's new door has the prize, increment `wins`.\n   7. Increment `valid_trials`.\n   The estimated probability is `wins / valid_trials`.\n\nD. Initialize `wins = 0`. For `i` from 1 to `num_trials`:\n   1. Randomly assign the prize to a door from 1 to $N$.\n   2. Randomly select the contestant's initial door.\n   3. Identify the set of doors that do not contain the prize and are not the contestant's choice. The host randomly opens $k$ doors from this set.\n   4. Identify the set of doors not opened by the host and not the contestant's initial choice. The contestant randomly selects one door from this set.\n   5. If the contestant's new door has the prize, increment `wins`.\n   The estimated probability is `wins / num_trials`.", "solution": "Let the doors be labeled by the set $D=\\{1,2,\\dots,N\\}$. The prize location $P$ is chosen uniformly on $D$ and the contestant’s initial choice $C$ is chosen uniformly on $D$, independent of $P$. The host knows $P$ and opens $k$ doors, each guaranteed to reveal goats; therefore every opened door must lie in $D\\setminus\\{C,P\\}$. After the host opens $k$ such doors, the set of still-closed doors is $D$ minus those $k$ opened doors. The switching strategy requires that the contestant abandon $C$ and select uniformly at random from the remaining closed doors excluding $C$.\n\nThe win probability under the switching strategy is derived as follows. If $C=P$, then no door other than $C$ contains the prize, so switching loses with probability $1$. If $C\\neq P$, then among the doors that remain closed and are not $C$, exactly one door contains the prize. The number of such doors is $N-k-1$, so the conditional win probability given $C\\neq P$ is $1/(N-k-1)$. Using the law of total probability with $\\Pr(C\\neq P)=(N-1)/N$, the unconditional win probability is\n$$\n\\Pr(\\text{win by switching})=\\frac{N-1}{N}\\cdot\\frac{1}{N-k-1}.\n$$\nA correct Monte Carlo algorithm must reproduce the host’s constraint and the switching rule to estimate this probability.\n\nAlgorithm A is incorrect because step 3 allows the host to open $k$ doors chosen from $D\\setminus\\{C\\}$ without excluding $P$. This assigns positive probability to the host opening the prize door when $C\\neq P$, which violates the rule that the host’s opened doors are guaranteed goats, and therefore biases the simulation.\n\nAlgorithm B correctly restricts the host’s opened doors to $D\\setminus\\{C,P\\}$ in step 3, but step 4 has the contestant choose uniformly from all doors not opened by the host, i.e., from $D$ minus the $k$ opened doors. This set has size $N-k$ and includes the original choice $C$. Therefore, the contestant will with probability $1/(N-k)$ inadvertently “stick” to $C$, creating a mixture of stick and switch behaviors and not the pure switching strategy. Hence it does not estimate the desired probability.\n\nAlgorithm C conditions the simulation on $C\\neq P$ by discarding trials with $C=P$. In that case, the measured success rate converges to the conditional probability $1/(N-k-1)$ rather than the unconditional win probability $\\frac{N-1}{N}\\cdot\\frac{1}{N-k-1}$. Since the requested estimate is unconditional, this algorithm is incorrect as stated.\n\nAlgorithm D enforces both necessary conditions: the host opens $k$ doors from $D\\setminus\\{C,P\\}$ (guaranteed goats) and the contestant then selects uniformly from the closed doors excluding both the host-opened doors and the initial choice $C$, i.e., from a set of size $N-k-1$. This implements the pure switching strategy and produces a consistent Monte Carlo estimate of the correct win probability $\\frac{N-1}{N}\\cdot\\frac{1}{N-k-1}$.\n\nTherefore, the correct algorithm is D.", "answer": "$$\\boxed{D}$$", "id": "1402172"}]}