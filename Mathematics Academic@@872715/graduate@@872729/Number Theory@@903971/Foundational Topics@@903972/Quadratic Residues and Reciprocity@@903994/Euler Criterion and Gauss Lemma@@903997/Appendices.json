{"hands_on_practices": [{"introduction": "The elegance of Gauss's lemma lies in its clever counting argument. This exercise challenges you to explore the foundations of that argument by analyzing a seemingly plausible but flawed alternative [@problem_id:3013379]. By pinpointing the error, you will gain a deeper appreciation for why the lemma restricts its count to the first half of the residues, a crucial detail that ensures the method's success.", "problem": "Let $p$ be an odd prime and let $a \\in \\mathbb{Z}$ with $\\gcd(a,p)=1$. The Legendre symbol $\\left(\\frac{a}{p}\\right)$ is defined by $\\left(\\frac{a}{p}\\right)=1$ if $a$ is a quadratic residue modulo $p$ and $\\left(\\frac{a}{p}\\right)=-1$ otherwise. In one standard route toward relating $\\left(\\frac{a}{p}\\right)$ to a sign coming from a product, many proofs consider the least positive residues of the multiples $j a$ modulo $p$ for $1 \\le j \\le \\frac{p-1}{2}$ and then perform a parity count relative to the threshold $\\frac{p}{2}$.\n\nA student instead proposes to take $j$ through the full range $1 \\le j \\le p-1$, to count how many least positive residues of $j a \\bmod p$ lie in the open interval $\\left(\\frac{p}{2},p\\right)$, and to use the parity of this count as a proxy for $\\left(\\frac{a}{p}\\right)$. Identify the precise logical error in this proposal and select the minimal correction that makes the counting argument valid.\n\nChoose the single best answer.\n\nA. Over the full range $1 \\le j \\le p-1$, the multiset of least positive residues of $j a \\bmod p$ is a permutation of $\\{1,2,\\dots,p-1\\}$, and for each pair $\\{j,p-j\\}$ the corresponding residues $r_j$ and $r_{p-j}$ satisfy $r_{p-j}=p-r_j$. Since $p$ is odd, exactly one of $r_j$ and $r_{p-j}$ lies in $\\left(\\frac{p}{2},p\\right)$, so the proposed count is always $\\frac{p-1}{2}$, independent of $a$. Thus the method cannot distinguish residues from nonresidues. The minimal correction is to break this symmetry by restricting to $1 \\le j \\le \\frac{p-1}{2}$ (equivalently, to choose one representative from each pair $\\{j,p-j\\}$), and then to perform the parity count relative to $\\frac{p}{2}$.\n\nB. The only mistake is the omission of $j=0$. If one counts least positive residues for $0 \\le j \\le p-1$ and uses the parity of those exceeding $\\frac{p}{2}$, the method becomes valid without further change.\n\nC. The defect arises from the choice of threshold $\\frac{p}{2}$. Keeping $1 \\le j \\le p-1$ but counting those least positive residues in $\\left(\\frac{p}{3},p\\right)$ instead restores correctness for all odd primes $p$.\n\nD. The argument fails only when $p \\equiv 1 \\pmod{4}$. When $p \\equiv 3 \\pmod{4}$, taking $1 \\le j \\le p-1$ and counting those least positive residues in $\\left(\\frac{p}{2},p\\right)$ does yield the correct parity for $\\left(\\frac{a}{p}\\right)$.\n\nE. There is no error: because multiplication by $a$ permutes the nonzero residue classes modulo $p$, the number of least positive residues of $j a \\bmod p$ that lie in $\\left(\\frac{p}{2},p\\right)$ depends on $a$, so the parity correctly recovers $\\left(\\frac{a}{p}\\right)$ for all $a$.", "solution": "The user-provided problem statement is valid. It is a well-posed question within the domain of elementary number theory, based on established mathematical principles.\n\nThe student's proposal is to calculate the Legendre symbol $\\left(\\frac{a}{p}\\right)$ by counting the number of least positive residues of $ja \\pmod p$ for $j$ in the range $1 \\le j \\le p-1$ that fall into the interval $\\left(\\frac{p}{2},p\\right)$, and then checking the parity of this count.\n\nLet's analyze this proposal.\nLet $S = \\{1, 2, \\dots, p-1\\}$. The student considers the multiset of least positive residues $R_a = \\{ (ja \\pmod p) \\mid j \\in S \\}$.\nSince $p$ is a prime number and $\\gcd(a,p)=1$, the map $x \\mapsto ax$ is an automorphism of the multiplicative group of integers modulo $p$, $(\\mathbb{Z}/p\\mathbb{Z})^\\times$. The set of least positive representatives of the elements in $(\\mathbb{Z}/p\\mathbb{Z})^\\times$ is precisely the set $S$.\nTherefore, for any $a$ with $\\gcd(a,p)=1$, the set of residues $R_a$ is simply a permutation of the set $S$. As sets, they are identical:\n$$R_a = \\{1, 2, \\dots, p-1\\}$$\nThe student proposes to count the number of elements in $R_a$ that are in the open interval $\\left(\\frac{p}{2}, p\\right)$. Let this count be $N$. Since $R_a$ is always the set $\\{1, 2, \\dots, p-1\\}$ regardless of $a$, the count $N$ will be independent of $a$.\n\nLet's calculate $N$. The integers $k$ such that $1 \\le k \\le p-1$ and $\\frac{p}{2} < k < p$ are the integers from $\\lfloor \\frac{p}{2} \\rfloor + 1$ to $p-1$.\nSince $p$ is an odd prime, we can write $p = 2k_0+1$ for some integer $k_0 \\ge 1$. Then $\\frac{p-1}{2} = k_0$, and $\\frac{p}{2} = k_0 + \\frac{1}{2}$.\nThe condition becomes $k_0 + \\frac{1}{2} < k < 2k_0+1$. The integers satisfying this are $k_0+1, k_0+2, \\dots, 2k_0$.\nThe number of these integers is $N = 2k_0 - (k_0+1) + 1 = k_0$.\nThus, the count is always $N = k_0 = \\frac{p-1}{2}$.\n\nThe student's method proposes that $\\left(\\frac{a}{p}\\right)$ is given by the parity of $N$, specifically $(-1)^N = (-1)^{(p-1)/2}$.\nFrom the theory of quadratic residues, it is a known result (as part of the first supplement to the law of quadratic reciprocity) that $\\left(\\frac{-1}{p}\\right) = (-1)^{(p-1)/2}$.\nSo, the student's method does not calculate $\\left(\\frac{a}{p}\\right)$, but rather calculates $\\left(\\frac{-1}{p}\\right)$, a value which is independent of $a$. This method fails to distinguish between quadratic residues and non-residues for a given $p$. This is the precise logical error.\n\nThe standard method that the student's proposal resembles is Gauss's Lemma. Gauss's Lemma restricts the range of $j$ to $1 \\le j \\le \\frac{p-1}{2}$. Let $m$ be the number of least positive residues of $ja \\pmod p$ for $j \\in \\{1, \\dots, \\frac{p-1}{2}\\}$ that are greater than $\\frac{p}{2}$. Then Gauss's Lemma states that $\\left(\\frac{a}{p}\\right) = (-1)^m$. The count $m$ *does* depend on $a$, unlike the student's count $N$. The reason for the failure of the student's method is the symmetric range $1 \\le j \\le p-1$. For any $j_0 \\in \\{1, \\dots, p-1\\}$, let $r_{j_0}$ be the least positive residue of $j_0 a \\pmod p$. Then for $j = p - j_0$, the residue is $(p-j_0)a \\pmod p \\equiv -j_0 a \\pmod p$, which has a least positive residue of $p-r_{j_0}$. The set of residues $\\{r_j\\}$ for $j=1, \\dots, p-1$ consists of pairs $(r_{j_0}, p-r_{j_0})$. Since $p$ is odd, $p/2$ is not an integer. For any pair $(r, p-r)$, exactly one element is in the interval $\\left(\\frac{p}{2}, p\\right)$. There are $\\frac{p-1}{2}$ such pairs of indices $\\{j_0, p-j_0\\}$, so the total count is always $\\frac{p-1}{2}$. Restricting $j$ to $1 \\le j \\le \\frac{p-1}{2}$ breaks this symmetry and allows for a count that depends on $a$.\n\nNow, we evaluate each option.\n\nA. This option correctly states that the set of residues is a permutation of $\\{1, 2, \\dots, p-1\\}$. It correctly identifies the symmetry: for each pair of indices $\\{j, p-j\\}$, the residues are $r_j$ and $p-r_j$. It correctly concludes that this implies exactly one of these two residues is in $\\left(\\frac{p}{2}, p\\right)$. It correctly deduces that the total count is therefore always $\\frac{p-1}{2}$, independent of $a$, which is the core error. It then correctly identifies the minimal correction: restrict the range of $j$ to $1 \\le j \\le \\frac{p-1}{2}$, which breaks the symmetry and turns the flawed argument into Gauss's Lemma. This option is a complete and accurate analysis. This is **Correct**.\n\nB. This option suggests including $j=0$. The product $0 \\cdot a = 0$, so the residue is $0$. The number $0$ is not in the interval $\\left(\\frac{p}{2}, p\\right)$. Adding this does not change the count of residues in that interval. The total count would remain $\\frac{p-1}{2}$, and the method would still be independent of $a$. This is **Incorrect**.\n\nC. This option suggests changing the threshold from $\\frac{p}{2}$ to $\\frac{p}{3}$. As shown in the initial analysis, the set of residues to be counted is always $\\{1, 2, \\dots, p-1\\}$. Counting how many of these fall into $\\left(\\frac{p}{3}, p\\right)$ would yield a count of $(p-1) - \\lfloor\\frac{p}{3}\\rfloor$. This number is, again, independent of $a$. The fundamental flaw of using the full range $1 \\le j \\le p-1$ is not addressed. This is **Incorrect**.\n\nD. This option claims the argument only fails for $p \\equiv 1 \\pmod{4}$. As derived, the student's method always yields $(-1)^{(p-1)/2}$. If $p \\equiv 3 \\pmod{4}$, then $\\frac{p-1}{2}$ is odd, so the method's result is always $-1$. However, for any prime $p$, there exist quadratic residues $a$ for which $\\left(\\frac{a}{p}\\right)=1$ (for instance, $a=1$). Therefore, the method fails for $p \\equiv 3 \\pmod{4}$ just as it fails for $p \\equiv 1 \\pmod{4}$. The claim is false. This is **Incorrect**.\n\nE. This option claims there is no error. This is verifiably false. It correctly notes that multiplication by $a$ permutes the residue classes, but draws the incorrect conclusion that the count must therefore depend on $a$. The set of elements being permuted is fixed, so the number of elements with a certain property (being greater than $\\frac{p}{2}$) is independent of the specific permutation. This is **Incorrect**.\n\nThe only option that correctly identifies the error, explains its origin, and proposes the correct minimal fix is A.", "answer": "$$\\boxed{A}$$", "id": "3013379"}, {"introduction": "With a solid theoretical grasp, we now turn to direct application. This practice requires you to evaluate a Legendre symbol $\\left(\\frac{a}{p}\\right)$ for a large prime $p$, a task that is computationally infeasible by naively checking for squares [@problem_id:3013383]. You will instead leverage the powerful multiplicative property of the Legendre symbol, breaking the problem down into simpler parts that can be solved using the supplementary laws derived from Gauss's lemma.", "problem": "Let $p = 2029$ be an odd prime. Consider solvability of the congruence $x^{2} \\equiv -10 \\pmod{p}$ in the ring of integers modulo $p$. Using only first principles about quadratic residues in the multiplicative group $(\\mathbb{Z}/p\\mathbb{Z})^{\\times}$, together with methods based on Gauss's lemma and the connection provided by Euler’s criterion, evaluate the Legendre symbol $\\left(\\frac{-10}{p}\\right)$ exactly. Your final answer must be a single number. No rounding is required.", "solution": "We begin from the core definitions and facts relevant to quadratic residues and their Legendre symbols. For an odd prime $p$ and an integer $a$ with $p \\nmid a$, the Legendre symbol $\\left(\\frac{a}{p}\\right)$ is defined by\n$$\n\\left(\\frac{a}{p}\\right) =\n\\begin{cases}\n1 & \\text{if there exists } x \\in \\mathbb{Z} \\text{ with } x^{2} \\equiv a \\pmod{p}, \\\\\n-1 & \\text{otherwise.}\n\\end{cases}\n$$\nEuler’s criterion asserts that\n$$\n\\left(\\frac{a}{p}\\right) \\equiv a^{\\frac{p-1}{2}} \\pmod{p},\n$$\nand in particular $\\left(\\frac{a}{p}\\right) \\in \\{-1,1\\}$ when $p \\nmid a$. The Legendre symbol is multiplicative:\n$$\n\\left(\\frac{ab}{p}\\right) = \\left(\\frac{a}{p}\\right)\\left(\\frac{b}{p}\\right),\n$$\nwhich follows, for example, from Euler’s criterion via\n$$\n(ab)^{\\frac{p-1}{2}} \\equiv a^{\\frac{p-1}{2}} b^{\\frac{p-1}{2}} \\pmod{p}.\n$$\n\nOur task is to evaluate $\\left(\\frac{-10}{p}\\right)$ for $p = 2029$. Using multiplicativity and the coprimality of $-1$, $2$, and $5$ with $p$, we factor\n$$\n\\left(\\frac{-10}{p}\\right) = \\left(\\frac{-1}{p}\\right)\\left(\\frac{2}{p}\\right)\\left(\\frac{5}{p}\\right).\n$$\nWe will compute each factor using Gauss’s lemma and, where appropriate, Quadratic Reciprocity, which itself can be established from Gauss’s lemma.\n\nGauss’s lemma states: for odd prime $p$ and integer $a$ with $p \\nmid a$, consider the set of least absolute residues of $a,2a,3a,\\dots,\\frac{p-1}{2}a$ modulo $p$. Let $N(a)$ be the number of these residues that lie strictly in the negative half-interval, equivalently the number for which the least positive residue exceeds $\\frac{p}{2}$. Then\n$$\n\\left(\\frac{a}{p}\\right) = (-1)^{N(a)}.\n$$\n\n1. Computation of $\\left(\\frac{-1}{p}\\right)$ via Gauss’s lemma. Take $a = -1$. The set $\\{-1,-2,\\dots,-\\frac{p-1}{2}\\}$ has least positive residues $\\{p-1,p-2,\\dots,p - \\frac{p-1}{2}\\}$, all of which exceed $\\frac{p}{2}$. Hence $N(-1) = \\frac{p-1}{2}$, and thus\n$$\n\\left(\\frac{-1}{p}\\right) = (-1)^{\\frac{p-1}{2}}.\n$$\nFor $p = 2029$, we have $\\frac{p-1}{2} = \\frac{2028}{2} = 1014$, which is even, so\n$$\n\\left(\\frac{-1}{2029}\\right) = 1.\n$$\n\n2. Computation of $\\left(\\frac{2}{p}\\right)$ via Gauss’s lemma. Take $a = 2$. Consider the sequence $2,4,6,\\dots,2\\cdot\\frac{p-1}{2}$. A term $2j$ has least absolute residue $2j$ if $2j \\leq \\frac{p}{2}$ (so it is counted as positive) and has least absolute residue $2j - p$ if $2j > \\frac{p}{2}$ (so it is counted as negative). Thus the number $N(2)$ equals the count of indices $j$ with $1 \\leq j \\leq \\frac{p-1}{2}$ such that $2j > \\frac{p}{2}$, i.e., $j > \\frac{p}{4}$. Therefore\n$$\nN(2) = \\frac{p-1}{2} - \\left\\lfloor \\frac{p}{4} \\right\\rfloor.\n$$\nConsequently,\n$$\n\\left(\\frac{2}{p}\\right) = (-1)^{\\frac{p-1}{2} - \\left\\lfloor \\frac{p}{4} \\right\\rfloor}.\n$$\nTo evaluate the parity of $N(2)$, write $p = 8m + r$ with $r \\in \\{1,3,5,7\\}$. Then\n$$\n\\frac{p-1}{2} = 4m + \\frac{r-1}{2}, \\quad \\left\\lfloor \\frac{p}{4} \\right\\rfloor = \\left\\lfloor 2m + \\frac{r}{4} \\right\\rfloor = 2m + \\left\\lfloor \\frac{r}{4} \\right\\rfloor.\n$$\nHence\n$$\nN(2) = (4m + \\tfrac{r-1}{2}) - \\left(2m + \\left\\lfloor \\tfrac{r}{4} \\right\\rfloor \\right) = 2m + \\left(\\tfrac{r-1}{2} - \\left\\lfloor \\tfrac{r}{4} \\right\\rfloor\\right).\n$$\nOne checks the parity for the four residues:\n- If $r = 1$, then $N(2) = 2m + (0 - 0)$ is even, so $\\left(\\frac{2}{p}\\right) = 1$.\n- If $r = 3$, then $N(2) = 2m + (1 - 0)$ is odd, so $\\left(\\frac{2}{p}\\right) = -1$.\n- If $r = 5$, then $N(2) = 2m + (2 - 1)$ is odd, so $\\left(\\frac{2}{p}\\right) = -1$.\n- If $r = 7$, then $N(2) = 2m + (3 - 1)$ is even, so $\\left(\\frac{2}{p}\\right) = 1$. Summarizing,\n$$\n\\left(\\frac{2}{p}\\right) =\n\\begin{cases}\n1 & \\text{if } p \\equiv 1 \\text{ or } 7 \\pmod{8}, \\\\\n-1 & \\text{if } p \\equiv 3 \\text{ or } 5 \\pmod{8}.\n\\end{cases}\n$$\nEquivalently,\n$$\n\\left(\\frac{2}{p}\\right) = (-1)^{\\frac{p^{2}-1}{8}}.\n$$\nFor $p = 2029$, we have $2029 \\equiv 5 \\pmod{8}$, hence\n$$\n\\left(\\frac{2}{2029}\\right) = -1.\n$$\n\n3. Computation of $\\left(\\frac{5}{p}\\right)$ using Quadratic Reciprocity. The Law of Quadratic Reciprocity, derivable from Gauss’s lemma, states that for distinct odd primes $p$ and $q$,\n$$\n\\left(\\frac{p}{q}\\right)\\left(\\frac{q}{p}\\right) = (-1)^{\\frac{p-1}{2}\\cdot \\frac{q-1}{2}}.\n$$\nIn particular, when $q \\equiv 1 \\pmod{4}$, the sign is $+1$, so $\\left(\\frac{p}{q}\\right) = \\left(\\frac{q}{p}\\right)$. Since $5 \\equiv 1 \\pmod{4}$, we obtain\n$$\n\\left(\\frac{5}{p}\\right) = \\left(\\frac{p}{5}\\right).\n$$\nTo evaluate $\\left(\\frac{p}{5}\\right)$, reduce $p$ modulo $5$ and compare with the quadratic residues modulo $5$, which are $1$ and $4$. Compute $p \\bmod 5$: $2025$ is divisible by $5$, so $2029 \\equiv 4 \\pmod{5}$. Therefore\n$$\n\\left(\\frac{p}{5}\\right) = \\left(\\frac{2029}{5}\\right) = \\left(\\frac{4}{5}\\right) = 1,\n$$\nand thus\n$$\n\\left(\\frac{5}{2029}\\right) = 1.\n$$\n\nCombining the three factors,\n$$\n\\left(\\frac{-10}{2029}\\right) = \\left(\\frac{-1}{2029}\\right)\\left(\\frac{2}{2029}\\right)\\left(\\frac{5}{2029}\\right) = 1 \\cdot (-1) \\cdot 1 = -1.\n$$\nInterpreting this via the definition, $x^{2} \\equiv -10 \\pmod{2029}$ has no solution in $\\mathbb{Z}/2029\\mathbb{Z}$, and the Legendre symbol evaluates to $-1$, as required.", "answer": "$$\\boxed{-1}$$", "id": "3013383"}, {"introduction": "Theoretical proofs provide certainty, but computational verification builds powerful intuition. This practice guides you to write a program to test the supplementary laws of quadratic reciprocity for hundreds of primes [@problem_id:3021697]. By comparing the results of Euler's criterion with the predictions from the congruence rules of Gauss's lemma, you can witness the remarkable consistency and predictive power of these foundational theorems in number theory.", "problem": "Let $p$ be an odd prime. The Legendre symbol $\\left(\\frac{a}{p}\\right)$ is defined for integers $a$ as $\\left(\\frac{a}{p}\\right)=1$ if $a$ is a quadratic residue modulo $p$ and $a \\not\\equiv 0 \\pmod{p}$, $\\left(\\frac{a}{p}\\right)=-1$ if $a$ is a quadratic nonresidue modulo $p$, and $\\left(\\frac{a}{p}\\right)=0$ if $p$ divides $a$. A computationally useful characterization is Euler's criterion: for an integer $a$ with $p \\nmid a$, one has $a^{(p-1)/2} \\equiv \\left(\\frac{a}{p}\\right) \\pmod{p}$, so $a^{(p-1)/2} \\equiv 1 \\pmod{p}$ if and only if $\\left(\\frac{a}{p}\\right)=1$, and $a^{(p-1)/2} \\equiv -1 \\pmod{p}$ if and only if $\\left(\\frac{a}{p}\\right)=-1$.\n\nThe goal is to numerically verify the supplementary laws associated with Quadratic Reciprocity for the specific integers $a=-1$ and $a=2$ by comparing two independently computed values of $\\left(\\frac{a}{p}\\right)$ across all odd primes $p<200$:\n- A direct computation of $\\left(\\frac{a}{p}\\right)$ via Euler's criterion.\n- A predicted sign of $\\left(\\frac{a}{p}\\right)$ derived from a congruence-class analysis that follows from counting arguments based on the parity of certain sets of residues modulo $p$, as obtained from Gauss's lemma.\n\nTo make the verification robust and to test consistency of these laws, the program should also include a third check for $a=-2$, using the fact that $\\left(\\frac{ab}{p}\\right)=\\left(\\frac{a}{p}\\right)\\left(\\frac{b}{p}\\right)$ for integers $a$ and $b$ with $p \\nmid ab$, so that the behavior for $a=-2$ can be deduced from the behaviors for $a=-1$ and $a=2$.\n\nYour task is to:\n- Generate all odd primes $p$ with $3 \\le p < 200$.\n- For each such prime $p$, compute $\\left(\\frac{a}{p}\\right)$ using Euler's criterion for $a=-1$, $a=2$, and $a=-2$.\n- For each such prime $p$, compute a predicted value for $\\left(\\frac{a}{p}\\right)$ using a congruence-class rule that arises from the parity analysis of residues given by Gauss's lemma (without using the direct computation for $\\left(\\frac{a}{p}\\right)$ to generate the prediction).\n- For each of the three values of $a$, return a single boolean indicating whether the directly computed value of $\\left(\\frac{a}{p}\\right)$ agrees with the predicted value for all odd primes $p<200$.\n\nTest suite and coverage:\n- Case $a=-1$: This tests the first supplementary law across all odd primes, including the boundary primes $p=3$ and $p=199$.\n- Case $a=2$: This tests the second supplementary law across all odd primes, and distinguishes primes by residue classes modulo $8$.\n- Case $a=-2$: This tests a consistency check derived from multiplicativity, providing additional coverage across residue classes modulo $8$.\n\nFinal output format:\n- Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets. The list must be in the order $[R_{-1},R_{2},R_{-2}]$, where each $R_{a}$ is the boolean result for the corresponding $a$. For example, an output might look like $[{\\rm True},{\\rm True},{\\rm True}]$ if all three verifications succeed across the test suite of all odd primes $p<200$.", "solution": "We begin from the definitions and fundamental tools. For an odd prime $p$ and integer $a$ with $p \\nmid a$, the Legendre symbol $\\left(\\frac{a}{p}\\right)$ indicates whether $a$ is a quadratic residue modulo $p$. Euler's criterion states\n$$\na^{(p-1)/2} \\equiv \\left(\\frac{a}{p}\\right) \\pmod{p}.\n$$\nThus, to compute $\\left(\\frac{a}{p}\\right)$ numerically, we can reduce $a$ modulo $p$, compute $a^{(p-1)/2}$ modulo $p$, and map the result to $1$ or $-1$. For the chosen $a \\in \\{-1,2,-2\\}$ and odd primes $p$, the value cannot be $0$.\n\nTo predict $\\left(\\frac{a}{p}\\right)$ for particular $a$ without direct exponentiation, we use Gauss's lemma. Gauss's lemma asserts that for $p$ odd and $a$ with $p \\nmid a$, if we consider the set $\\{a,2a,\\dots,((p-1)/2)a\\}$ modulo $p$ and count how many of these have least positive residues greater than $p/2$, say $n(a)$, then\n$$\n\\left(\\frac{a}{p}\\right) = (-1)^{n(a)}.\n$$\nApplying this counting argument to the special integers $a=-1$ and $a=2$ yields congruence-class characterizations for $\\left(\\frac{a}{p}\\right)$ in terms of $p$ modulo small moduli.\n\nFirst, for $a=-1$: the set of residues is $\\{-1,-2,\\dots,-(p-1)/2\\}$; exactly $(p-1)/2$ of them are greater than $p/2$ when taken as least positive residues, and the parity of this count is determined by whether $p \\equiv 1 \\pmod{4}$ or $p \\equiv 3 \\pmod{4}$. One derives the formula\n$$\n\\left(\\frac{-1}{p}\\right) = (-1)^{(p-1)/2},\n$$\nwhich equivalently is $\\left(\\frac{-1}{p}\\right)=1$ if $p \\equiv 1 \\pmod{4}$ and $\\left(\\frac{-1}{p}\\right)=-1$ if $p \\equiv 3 \\pmod{4}$.\n\nSecond, for $a=2$: examining the residues $2,4,\\dots,p-1$ and counting how many land in $(p/2,p)$ leads to the established characterization\n$$\n\\left(\\frac{2}{p}\\right) = (-1)^{(p^2-1)/8},\n$$\nwhich equivalently is $\\left(\\frac{2}{p}\\right)=1$ if $p \\equiv 1 \\text{ or } 7 \\pmod{8}$ and $\\left(\\frac{2}{p}\\right)=-1$ if $p \\equiv 3 \\text{ or } 5 \\pmod{8}$.\n\nBy multiplicativity of the Legendre symbol, for $a=-2$ we have\n$$\n\\left(\\frac{-2}{p}\\right) = \\left(\\frac{-1}{p}\\right)\\,\\left(\\frac{2}{p}\\right) = (-1)^{(p-1)/2 + (p^2-1)/8}.\n$$\nEquivalently, $\\left(\\frac{-2}{p}\\right)=1$ if $p \\equiv 1 \\text{ or } 3 \\pmod{8}$ and $\\left(\\frac{-2}{p}\\right)=-1$ if $p \\equiv 5 \\text{ or } 7 \\pmod{8}$.\n\nAlgorithmic plan:\n1. Generate all odd primes $p$ with $3 \\le p < 200$. A sieve of Eratosthenes up to $199$ suffices, followed by filtering out $p=2$.\n2. Implement a function to compute $\\left(\\frac{a}{p}\\right)$ using Euler's criterion: reduce $a$ modulo $p$ to $a \\bmod p$, compute $a^{(p-1)/2} \\bmod p$, and map the result $1 \\mapsto 1$, $p-1 \\mapsto -1$.\n3. Implement a function that computes the predicted value for $\\left(\\frac{a}{p}\\right)$ using the congruence-class rules derived above:\n   - For $a=-1$, return $1$ if $p \\equiv 1 \\pmod{4}$ and $-1$ otherwise.\n   - For $a=2$, return $1$ if $p \\equiv 1 \\text{ or } 7 \\pmod{8}$ and $-1$ otherwise.\n   - For $a=-2$, return the product of the predictions for $a=-1$ and $a=2$ (equivalently, use the modulo $8$ rule above).\n4. For each $a \\in \\{-1,2,-2\\}$, verify that for all odd primes $p<200$, the Euler-computed $\\left(\\frac{a}{p}\\right)$ equals the predicted value. Record one boolean per $a$ indicating whether the law holds for every prime in the set.\n5. Output the three booleans in the order $[R_{-1},R_{2},R_{-2}]$ as a single line in the required format.\n\nThis procedure verifies numerically that the supplementary laws for $\\left(\\frac{-1}{p}\\right)$ and $\\left(\\frac{2}{p}\\right)$, together with the consistency for $\\left(\\frac{-2}{p}\\right)$ via multiplicativity, hold across the entire specified test suite of odd primes less than $200$.", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\n\ndef sieve_primes_upto(n: int):\n    \"\"\"Return list of all primes <= n using a simple sieve.\"\"\"\n    if n < 2:\n        return []\n    is_prime = [True] * (n + 1)\n    is_prime[0] = is_prime[1] = False\n    p = 2\n    while p * p <= n:\n        if is_prime[p]:\n            step = p\n            start = p * p\n            is_prime[start:n+1:step] = [False] * (((n - start) // step) + 1)\n        p += 1\n    return [i for i, flag in enumerate(is_prime) if flag]\n\ndef legendre_symbol(a: int, p: int) -> int:\n    \"\"\"\n    Compute (a/p) for odd prime p using Euler's criterion.\n    Returns 1 if a is a quadratic residue mod p, -1 if not.\n    Assumes p does not divide a for given a in {-1,2,-2} and odd primes p.\n    \"\"\"\n    a_mod = a % p\n    # Euler's criterion: a^{(p-1)/2} ≡ (a/p) (mod p)\n    val = pow(a_mod, (p - 1) // 2, p)\n    if val == 1:\n        return 1\n    elif val == p - 1:\n        return -1\n    else:\n        # For completeness; should not happen for a in {-1,2,-2} and odd primes p\n        return 0\n\ndef predicted_legendre(a: int, p: int) -> int:\n    \"\"\"\n    Predicted value of (a/p) using supplementary laws:\n    - (-1/p) = 1 if p ≡ 1 (mod 4), else -1\n    - (2/p) = 1 if p ≡ 1 or 7 (mod 8), else -1\n    - (-2/p) = (-1/p)*(2/p)\n    \"\"\"\n    if a == -1:\n        return 1 if (p % 4) == 1 else -1\n    elif a == 2:\n        return 1 if (p % 8) in (1, 7) else -1\n    elif a == -2:\n        # Use multiplicativity: (-2/p) = (-1/p)*(2/p)\n        return predicted_legendre(-1, p) * predicted_legendre(2, p)\n    else:\n        raise ValueError(\"Unsupported a\")\n\ndef solve():\n    # Define the test cases from the problem statement.\n    # We verify for a in {-1, 2, -2} across all odd primes p < 200.\n    test_cases = [-1, 2, -2]\n\n    # Generate odd primes less than 200\n    primes = [p for p in sieve_primes_upto(199) if p % 2 == 1]\n\n    results = []\n    for a in test_cases:\n        all_match = True\n        for p in primes:\n            ls = legendre_symbol(a, p)\n            pred = predicted_legendre(a, p)\n            if ls != pred:\n                all_match = False\n                break\n        results.append(all_match)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```", "id": "3021697"}]}