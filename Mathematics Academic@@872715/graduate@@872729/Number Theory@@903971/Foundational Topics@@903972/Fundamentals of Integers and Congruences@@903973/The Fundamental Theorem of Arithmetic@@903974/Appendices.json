{"hands_on_practices": [{"introduction": "The Fundamental Theorem of Arithmetic provides a powerful lens through which to view integers: as unique products of prime powers. This allows us to translate complex multiplicative conditions into simpler, additive constraints on the exponents of these primes. This first practice [@problem_id:1831862] provides a foundational exercise in this technique, challenging you to construct the smallest integer that satisfies several distinct divisibility properties by solving a system of congruences for its prime exponents.", "problem": "An integer is called a perfect square if it is the square of an integer. Similarly, an integer is a perfect cube if it is the cube of an integer, and a perfect fifth power if it is the fifth power of an integer. Find the smallest positive integer $n$ that satisfies all of the following conditions:\n1. The integer quotient $n/2$ is a perfect square.\n2. The integer quotient $n/3$ is a perfect cube.\n3. The integer quotient $n/5$ is a perfect fifth power.\n\nExpress your answer as a product of prime powers in the form $p_1^{e_1} p_2^{e_2} \\cdots p_k^{e_k}$.", "solution": "Let $n$ have prime factorization $n=\\prod_{p} p^{v_{p}(n)}$. The conditions state:\n- $n/2$ is a perfect square, so for each prime $p$,\n  - if $p=2$, then $v_{2}(n)-1$ is even,\n  - if $p\\neq 2$, then $v_{p}(n)$ is even.\n- $n/3$ is a perfect cube, so\n  - if $p=3$, then $v_{3}(n)-1$ is a multiple of $3$,\n  - if $p\\neq 3$, then $v_{p}(n)$ is a multiple of $3$.\n- $n/5$ is a perfect fifth power, so\n  - if $p=5$, then $v_{5}(n)-1$ is a multiple of $5$,\n  - if $p\\neq 5$, then $v_{p}(n)$ is a multiple of $5$.\n\nFor $p\\notin\\{2,3,5\\}$, the exponent must be simultaneously even, a multiple of $3$, and a multiple of $5$, hence a multiple of $\\operatorname{lcm}(2,3,5)=30$. To minimize $n$, set these exponents to $0$.\n\nLet $a=v_{2}(n)$, $b=v_{3}(n)$, $c=v_{5}(n)$. The congruence conditions become\n$$\n\\begin{aligned}\n&\\text{from }n/2\\text{ square:} && a\\equiv 1 \\pmod{2},\\quad b\\equiv 0 \\pmod{2},\\quad c\\equiv 0 \\pmod{2},\\\\\n&\\text{from }n/3\\text{ cube:} && a\\equiv 0 \\pmod{3},\\quad b\\equiv 1 \\pmod{3},\\quad c\\equiv 0 \\pmod{3},\\\\\n&\\text{from }n/5\\text{ fifth:} && a\\equiv 0 \\pmod{5},\\quad b\\equiv 0 \\pmod{5},\\quad c\\equiv 1 \\pmod{5}.\n\\end{aligned}\n$$\n\nSolve independently for each variable:\n- For $a$: $a\\equiv 0 \\pmod{3}$ and $a\\equiv 0 \\pmod{5}$ imply $a\\equiv 0 \\pmod{15}$; together with $a\\equiv 1 \\pmod{2}$, the least solution is $a=15$.\n- For $b$: $b\\equiv 0 \\pmod{2}$ and $b\\equiv 0 \\pmod{5}$ imply $b\\equiv 0 \\pmod{10}$. Writing $b=10k$, the condition $b\\equiv 1 \\pmod{3}$ gives $10k\\equiv 1 \\pmod{3}$, i.e., $k\\equiv 1 \\pmod{3}$. The least solution is $k=1$, hence $b=10$.\n- For $c$: $c\\equiv 0 \\pmod{2}$ and $c\\equiv 0 \\pmod{3}$ imply $c\\equiv 0 \\pmod{6}$. Writing $c=6k$, the condition $c\\equiv 1 \\pmod{5}$ gives $6k\\equiv 1 \\pmod{5}$, i.e., $k\\equiv 1 \\pmod{5}$. The least solution is $k=1$, hence $c=6$.\n\nThus the smallest $n$ is\n$$\nn=2^{15}\\cdot 3^{10}\\cdot 5^{6}.\n$$\nVerification:\n- $n/2$ has exponents $14,10,6$, all even, so it is a square.\n- $n/3$ has exponents $15,9,6$, all multiples of $3$, so it is a cube.\n- $n/5$ has exponents $15,10,5$, all multiples of $5$, so it is a fifth power.\n\nTherefore, $n=2^{15}3^{10}5^{6}$ is minimal and satisfies all conditions.", "answer": "$$\\boxed{2^{15}\\cdot 3^{10}\\cdot 5^{6}}$$", "id": "1831862"}, {"introduction": "A key problem-solving strategy in number theory, enabled by unique factorization, is to analyze a problem \"one prime at a time.\" This exercise [@problem_id:1831874] is a perfect illustration of this principle in a combinatorial context. By considering the constraints imposed by the least common multiple on the $p$-adic valuation for each prime $p$, you can break down a complex counting problem into a series of independent, manageable subproblems.", "problem": "Let $N$ be a positive integer with a unique prime factorization given by $N = p_1^{k_1} p_2^{k_2} \\cdots p_m^{k_m}$, where $p_1, p_2, \\ldots, p_m$ are distinct prime numbers and $k_1, k_2, \\ldots, k_m$ are positive integer exponents.\n\nDetermine a formula for the number of ordered pairs of positive integers $(a, b)$ such that the least common multiple of $a$ and $b$ is equal to $N$. Express your answer as a formula in terms of the exponents $k_1, k_2, \\ldots, k_m$.", "solution": "Let $N$ have the prime factorization $N=\\prod_{i=1}^{m} p_{i}^{k_{i}}$ with distinct primes $p_{i}$ and positive integers $k_{i}$. For any positive integers $a$ and $b$, write\n$$\na=\\prod_{i=1}^{m} p_{i}^{x_{i}},\\quad b=\\prod_{i=1}^{m} p_{i}^{y_{i}},\n$$\nwhere $x_{i}=v_{p_{i}}(a)$ and $y_{i}=v_{p_{i}}(b)$ are the $p_{i}$-adic valuations of $a$ and $b$, respectively. If $q$ is any prime not among $\\{p_{1},\\ldots,p_{m}\\}$, then $v_{q}(N)=0$, and the condition $\\operatorname{lcm}(a,b)=N$ forces $v_{q}(a)=v_{q}(b)=0$, because otherwise $\\operatorname{lcm}(a,b)$ would be divisible by $q$.\n\nThe least common multiple satisfies, for each $i$,\n$$\nv_{p_{i}}(\\operatorname{lcm}(a,b))=\\max\\{v_{p_{i}}(a),v_{p_{i}}(b)\\}=\\max\\{x_{i},y_{i}\\}.\n$$\nThus the condition $\\operatorname{lcm}(a,b)=N$ is equivalent to the system of constraints, for each $i$,\n$$\n\\max\\{x_{i},y_{i}\\}=k_{i},\\quad 0\\leq x_{i}\\leq k_{i},\\quad 0\\leq y_{i}\\leq k_{i}.\n$$\n\nFor a fixed $i$, the number of ordered pairs $(x_{i},y_{i})$ with $0\\leq x_{i},y_{i}\\leq k_{i}$ and $\\max\\{x_{i},y_{i}\\}=k_{i}$ equals the total number of pairs in the $(k_{i}+1)\\times(k_{i}+1)$ grid minus those with both coordinates at most $k_{i}-1$, namely\n$$\n(k_{i}+1)^{2}-k_{i}^{2}=2k_{i}+1.\n$$\nEquivalently, one can count directly: there are $k_{i}+1$ choices with $x_{i}=k_{i}$ and $y_{i}\\in\\{0,\\ldots,k_{i}\\}$, and $k_{i}$ additional choices with $y_{i}=k_{i}$ and $x_{i}\\in\\{0,\\ldots,k_{i}-1\\}$, totaling $2k_{i}+1$.\n\nSince the choices for different primes $p_{i}$ are independent and the mapping from $(a,b)$ to the tuples $\\bigl((x_{1},y_{1}),\\ldots,(x_{m},y_{m})\\bigr)$ is bijective under these constraints, the total number of ordered pairs $(a,b)$ with $\\operatorname{lcm}(a,b)=N$ is the product over $i$ of these counts:\n$$\n\\prod_{i=1}^{m} (2k_{i}+1).\n$$", "answer": "$$\\boxed{\\prod_{i=1}^{m} \\left(2k_{i}+1\\right)}$$", "id": "1831874"}, {"introduction": "We now move to a more abstract perspective that reveals the deep structural consequences of the Fundamental Theorem of Arithmetic. This problem [@problem_id:3026201] delves into the properties of the $p$-adic valuation, $v_p(n)$, which formalizes the exponent of a prime in a number's factorization. You will use Legendre's formula to connect factorials with the base-$p$ representation of integers, culminating in an application of Kummer's theorem that links the valuation of binomial coefficients to the number of 'carries' in base-$p$ addition.", "problem": "Let $p$ be a prime and let $a$ and $b$ be positive integers. By the Fundamental Theorem of Arithmetic, every positive integer admits a unique factorization into prime powers, which, for a fixed prime $p$, defines the $p$-adic valuation $v_p(n)$ as the exponent of $p$ in the prime factorization of $n$. Let $s_p(n)$ denote the sum of the digits of $n$ when written in base $p$.\n\nStarting only from these definitions and the uniqueness of prime factorization, derive a closed-form expression for\n$$\nv_p\\!\\left(\\frac{(ab)!}{a!\\,b!}\\right)\n$$\nin terms of $p$, $a$, $b$, and the base $p$ digit sums $s_p(ab)$, $s_p(a)$, and $s_p(b)$. Then explain, using Kummerâ€™s theorem, the combinatorial meaning of carries in base $p$ addition in relation to the $p$-adic valuation of binomial coefficients, and identify the carries contribution arising from the binomial factor inside $\\frac{(ab)!}{a!\\,b!}$.\n\nYour final answer must be a single closed-form expression for $v_p\\!\\left(\\frac{(ab)!}{a!\\,b!}\\right)$ in terms of $p$, $a$, $b$, $s_p(ab)$, $s_p(a)$, and $s_p(b)$ only. No approximation or rounding is required.", "solution": "The problem asks for a closed-form expression for the $p$-adic valuation $v_p\\left(\\frac{(ab)!}{a!\\,b!}\\right)$. We will use the well-known identity relating the $p$-adic valuation of a factorial, $v_p(n!)$, to the sum of the digits of $n$ in base $p$, $s_p(n)$.\n\nFirst, we recall Legendre's formula for the $p$-adic valuation of $n!$:\n$$v_p(n!) = \\sum_{k=1}^{\\infty} \\left\\lfloor \\frac{n}{p^k} \\right\\rfloor$$\nThis formula can be transformed. By writing $n$ in its base-$p$ representation, $n = \\sum_{i=0}^m d_i p^i$, and substituting into Legendre's formula, one can derive the following identity:\n$$v_p(n!) = \\frac{n - s_p(n)}{p-1}$$\nwhere $s_p(n) = \\sum_{i=0}^m d_i$ is the sum of the base-$p$ digits of $n$.\n\nUsing the property that the valuation of a quotient is the difference of valuations, we can compute the $p$-adic valuation of the given expression:\n$$\nv_p\\left(\\frac{(ab)!}{a!\\,b!}\\right) = v_p((ab)!) - v_p(a!) - v_p(b!)\n$$\nApplying the identity $v_p(n!) = \\frac{n - s_p(n)}{p-1}$ to each term:\n$$\nv_p\\left(\\frac{(ab)!}{a!\\,b!}\\right) = \\frac{ab - s_p(ab)}{p-1} - \\frac{a - s_p(a)}{p-1} - \\frac{b - s_p(b)}{p-1}\n$$\nCombining the terms gives the required closed-form expression:\n$$\nv_p\\left(\\frac{(ab)!}{a!\\,b!}\\right) = \\frac{ab - a - b - s_p(ab) + s_p(a) + s_p(b)}{p-1}\n$$\n\nNext, we explain Kummer's theorem, which states that for a prime $p$ and integers $n \\ge k \\ge 0$, the $p$-adic valuation of the binomial coefficient $\\binom{n}{k}$ is equal to the number of carries that occur when adding $k$ and $n-k$ in base $p$.\nThe $p$-adic valuation of $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$ can be calculated using the identity we derived:\n$$\nv_p\\left(\\binom{n}{k}\\right) = v_p(n!) - v_p(k!) - v_p((n-k)!) = \\frac{(n-s_p(n)) - (k-s_p(k)) - (n-k-s_p(n-k))}{p-1}\n$$\n$$\nv_p\\left(\\binom{n}{k}\\right) = \\frac{s_p(k) + s_p(n-k) - s_p(n)}{p-1}\n$$\nA separate argument involving the base-$p$ addition algorithm shows that the total number of carries, $C$, is given by $C = \\frac{s_p(k) + s_p(n-k) - s_p(n)}{p-1}$. Thus, $v_p\\left(\\binom{n}{k}\\right)$ equals the number of carries.\n\nFinally, we identify the carries contribution within the expression $v_p\\left(\\frac{(ab)!}{a!\\,b!}\\right)$. The expression is not a standard binomial coefficient, but it contains one. We can factor it as:\n$$\n\\frac{(ab)!}{a!\\,b!} = \\frac{(ab)!}{a!(ab-a)!} \\cdot \\frac{(ab-a)!}{b!} = \\binom{ab}{a} \\frac{(ab-a)!}{b!}\n$$\nThe $p$-adic valuation is therefore additive:\n$$\nv_p\\left(\\frac{(ab)!}{a!\\,b!}\\right) = v_p\\left(\\binom{ab}{a}\\right) + v_p\\left(\\frac{(ab-a)!}{b!}\\right)\n$$\nThe \"carries contribution\" mentioned in the problem corresponds to the valuation of the binomial factor, $v_p\\left(\\binom{ab}{a}\\right)$. By Kummer's theorem, this value is precisely the number of carries when adding $a$ and $ab-a$ in base $p$. The other term, $v_p\\left(\\frac{(ab-a)!}{b!}\\right)$, is an additional component of the total valuation that does not generally have a simple interpretation as a number of carries.", "answer": "$$\n\\boxed{\\frac{ab - a - b + s_p(a) + s_p(b) - s_p(ab)}{p-1}}\n$$", "id": "3026201"}]}