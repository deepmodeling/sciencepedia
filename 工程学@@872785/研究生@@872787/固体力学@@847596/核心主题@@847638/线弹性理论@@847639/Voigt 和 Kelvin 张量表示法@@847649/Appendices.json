{"hands_on_practices": [{"introduction": "本练习旨在揭示在Voigt和Kelvin记法中引入缩放因子的根本原因。通过构建一个不含标准剪切缩放的“朴素”矢量化假设场景，您将亲自计算并发现其在保持应变能密度这一基本物理量上存在的缺陷。这个实践将让您深刻理解，记法中看似随意的因子，实则是保证张量内积在矢量运算中得以守恒的数学必然 [@problem_id:2709614]。", "problem": "一个均匀、线性、各向同性、小应变弹性体由 Lamé 参数 $\\lambda$ 和 $\\mu$、Cauchy 应力张量 $\\boldsymbol{\\sigma}$ 和无穷小应变张量 $\\boldsymbol{\\varepsilon}$ 表征。应变能密度由基本功共轭关系 $W = \\tfrac{1}{2}\\,\\boldsymbol{\\sigma}:\\boldsymbol{\\varepsilon}$ 定义，本构律为 $\\boldsymbol{\\sigma} = 2\\mu\\,\\boldsymbol{\\varepsilon} + \\lambda\\,\\mathrm{tr}(\\boldsymbol{\\varepsilon})\\,\\mathbf{I}$。\n\n考虑以下向量化（通常称为无剪切缩放的“朴素 Voigt”）：将 $\\boldsymbol{\\varepsilon}$ 和 $\\boldsymbol{\\sigma}$ 映射为向量 $\\boldsymbol{\\varepsilon}_{\\mathrm{V}} \\in \\mathbb{R}^{6}$ 和 $\\boldsymbol{\\sigma}_{\\mathrm{V}} \\in \\mathbb{R}^{6}$，其方式为\n$\\boldsymbol{\\varepsilon}_{\\mathrm{V}} = [\\,\\varepsilon_{11},\\,\\varepsilon_{22},\\,\\varepsilon_{33},\\,\\varepsilon_{23},\\,\\varepsilon_{13},\\,\\varepsilon_{12}\\,]^{\\mathsf{T}}$ 和 $\\boldsymbol{\\sigma}_{\\mathrm{V}} = [\\,\\sigma_{11},\\,\\sigma_{22},\\,\\sigma_{33},\\,\\sigma_{23},\\,\\sigma_{13},\\,\\sigma_{12}\\,]^{\\mathsf{T}}$，\n并令 $\\mathbf{C}_{\\mathrm{V}}$ 为 $6\\times 6$ 的刚度矩阵，使得 $\\boldsymbol{\\sigma}_{\\mathrm{V}}=\\mathbf{C}_{\\mathrm{V}}\\boldsymbol{\\varepsilon}_{\\mathrm{V}}$ 在分量上等价于 $\\boldsymbol{\\sigma} = 2\\mu\\,\\boldsymbol{\\varepsilon} + \\lambda\\,\\mathrm{tr}(\\boldsymbol{\\varepsilon})\\,\\mathbf{I}$（特别地，$\\sigma_{12}=2\\mu\\,\\varepsilon_{12}$，其他剪切分量也类似）。\n\n一个“不正确”的能量密度有时被计算为 $W_{\\mathrm{V}} := \\tfrac{1}{2}\\,\\boldsymbol{\\varepsilon}_{\\mathrm{V}}^{\\mathsf{T}}\\mathbf{C}_{\\mathrm{V}}\\boldsymbol{\\varepsilon}_{\\mathrm{V}}$，即在 $\\mathbb{R}^{6}$ 中对未缩放的 Voigt 映射使用欧几里得内积。\n\n对于一个纯剪切应变状态，其工程剪切量值为 $\\gamma$，定义为 $\\varepsilon_{12}=\\varepsilon_{21}=\\gamma/2$ 且所有其他分量为零，求比值 $r := W_{\\mathrm{V}}/W$。以精确数（无量纲）的形式给出 $r$。不要四舍五入。", "solution": "我们从基本功共轭定义 $W=\\tfrac{1}{2}\\,\\boldsymbol{\\sigma}:\\boldsymbol{\\varepsilon}$ 和各向同性线弹性本构律 $\\boldsymbol{\\sigma}=2\\mu\\,\\boldsymbol{\\varepsilon}+\\lambda\\,\\mathrm{tr}(\\boldsymbol{\\varepsilon})\\,\\mathbf{I}$ 开始。对于指定的纯剪切状态，唯一非零的应变分量是 $\\varepsilon_{12}=\\varepsilon_{21}=\\gamma/2$，因此 $\\mathrm{tr}(\\boldsymbol{\\varepsilon})=0$。因此，根据本构律，唯一非零的应力分量是 $\\sigma_{12}=\\sigma_{21}=2\\mu\\,\\varepsilon_{12}=2\\mu\\,(\\gamma/2)=\\mu\\,\\gamma$。\n\n正确的应变能密度为\n\n$$\nW=\\tfrac{1}{2}\\,\\boldsymbol{\\sigma}:\\boldsymbol{\\varepsilon}\n= \\tfrac{1}{2}\\sum_{i=1}^{3}\\sum_{j=1}^{3}\\sigma_{ij}\\,\\varepsilon_{ij}\n= \\tfrac{1}{2}\\bigl(2\\,\\sigma_{12}\\,\\varepsilon_{12}\\bigr)\n= \\sigma_{12}\\,\\varepsilon_{12}\n= (\\mu\\,\\gamma)\\left(\\tfrac{\\gamma}{2}\\right)\n= \\tfrac{\\mu\\,\\gamma^{2}}{2}.\n$$\n\n\n接下来，我们计算在未缩放的 Voigt 映射下“不正确”的能量 $W_{\\mathrm{V}}=\\tfrac{1}{2}\\,\\boldsymbol{\\varepsilon}_{\\mathrm{V}}^{\\mathsf{T}}\\mathbf{C}_{\\mathrm{V}}\\boldsymbol{\\varepsilon}_{\\mathrm{V}}$。对于给定的纯剪切，Voigt 应变向量只有其第六个分量非零：$\\boldsymbol{\\varepsilon}_{\\mathrm{V}}=[\\,0,\\,0,\\,0,\\,0,\\,0,\\,\\varepsilon_{12}\\,]^{\\mathsf{T}}$，其中 $\\varepsilon_{12}=\\gamma/2$。与剪切上的 $\\boldsymbol{\\sigma}=2\\mu\\,\\boldsymbol{\\varepsilon}$ 保持一致性意味着相关的 Voigt 刚度满足 $(\\mathbf{C}_{\\mathrm{V}})_{66}=2\\mu$，因此 $\\sigma_{12}=(\\mathbf{C}_{\\mathrm{V}})_{66}\\,\\varepsilon_{12}=2\\mu\\,\\varepsilon_{12}$。因此，\n\n$$\nW_{\\mathrm{V}}\n= \\tfrac{1}{2}\\,\\boldsymbol{\\varepsilon}_{\\mathrm{V}}^{\\mathsf{T}}\\mathbf{C}_{\\mathrm{V}}\\boldsymbol{\\varepsilon}_{\\mathrm{V}}\n= \\tfrac{1}{2}\\,\\varepsilon_{12}\\,(2\\mu)\\,\\varepsilon_{12}\n= \\mu\\,\\varepsilon_{12}^{2}\n= \\mu\\left(\\tfrac{\\gamma}{2}\\right)^{2}\n= \\tfrac{\\mu\\,\\gamma^{2}}{4}.\n$$\n\n\n因此，错误计算的能量与正确能量的比值为\n\n$$\nr := \\frac{W_{\\mathrm{V}}}{W}\n= \\frac{\\tfrac{\\mu\\,\\gamma^{2}}{4}}{\\tfrac{\\mu\\,\\gamma^{2}}{2}}\n= \\tfrac{1}{2}.\n$$\n\n\n这个两倍的差异是因为未缩放的 Voigt 映射在 $\\mathbb{R}^{6}$ 中使用了欧几里得内积，这与对称二阶张量上的张量内积不一致：非对角分量在 $\\boldsymbol{\\sigma}:\\boldsymbol{\\varepsilon}$ 中贡献两次，但在 $\\boldsymbol{\\varepsilon}_{\\mathrm{V}}^{\\mathsf{T}}\\boldsymbol{\\sigma}_{\\mathrm{V}}$ 中只贡献一次。一个保范数映射，例如将剪切分量缩放 $\\sqrt{2}$ 倍的 Kelvin 映射，可以精确地恢复 $W=\\tfrac{1}{2}\\,\\boldsymbol{\\varepsilon}_{\\mathrm{K}}^{\\mathsf{T}}\\mathbf{C}_{\\mathrm{K}}\\,\\boldsymbol{\\varepsilon}_{\\mathrm{K}}$。", "answer": "$$\\boxed{\\tfrac{1}{2}}$$", "id": "2709614"}, {"introduction": "在理解了缩放因子的必要性之后，本练习将标准的Voigt和Kelvin定义应用于一个典型的纯剪切状态。您将计算纯剪切应变的矢量表示，并利用各向同性本构关系求解相应的应力。通过这个实践，您不仅能巩固对这些记法的掌握，还能亲手验证Kelvin记法如何巧妙地保持张量内积，从而确保能量计算的一致性 [@problem_id:2709593]。", "problem": "考虑一个三维空间中的小应变、线弹性、各向同性、均质固体。设无穷小应变张量 $\\boldsymbol{\\varepsilon}$ 为纯剪切，其中只有 $\\varepsilon_{12}=\\varepsilon_{21}=\\gamma/2$ 非零，$\\gamma$ 是工程剪切量。四阶弹性张量是各向同性的，其索引形式由 $C_{ijkl}=\\lambda\\,\\delta_{ij}\\delta_{kl}+\\mu\\left(\\delta_{ik}\\delta_{jl}+\\delta_{il}\\delta_{jk}\\right)$ 给出，其中 $\\lambda$ 和 $\\mu$ 是 Lamé 参数，$\\delta_{ij}$ 是 Kronecker delta。柯西应力满足 $\\sigma_{ij}=C_{ijkl}\\,\\varepsilon_{kl}$。\n\n对矢量-张量记法采用以下精确约定：\n- Voigt 记法（工程形式），分量顺序为 $(11,22,33,23,13,12)$：对应变而言，非对角分量映射为工程剪切应变，因此 $[\\varepsilon]^{\\mathrm{V}}=\\big(\\varepsilon_{11},\\,\\varepsilon_{22},\\,\\varepsilon_{33},\\,\\gamma_{23},\\,\\gamma_{13},\\,\\gamma_{12}\\big)^{\\top}$，其中 $\\gamma_{ij}=2\\,\\varepsilon_{ij}$；对应力而言，$[\\sigma]^{\\mathrm{V}}=\\big(\\sigma_{11},\\,\\sigma_{22},\\,\\sigma_{33},\\,\\sigma_{23},\\,\\sigma_{13},\\,\\sigma_{12}\\big)^{\\top}$。\n- Kelvin 记法（标准正交化），分量顺序同样为 $(11,22,33,23,13,12)$：$[\\varepsilon]^{\\mathrm{K}}=\\big(\\varepsilon_{11},\\,\\varepsilon_{22},\\,\\varepsilon_{33},\\,\\sqrt{2}\\,\\varepsilon_{23},\\,\\sqrt{2}\\,\\varepsilon_{13},\\,\\sqrt{2}\\,\\varepsilon_{12}\\big)^{\\top}$ 和 $[\\sigma]^{\\mathrm{K}}=\\big(\\sigma_{11},\\,\\sigma_{22},\\,\\sigma_{33},\\,\\sqrt{2}\\,\\sigma_{23},\\,\\sqrt{2}\\,\\sigma_{13},\\,\\sqrt{2}\\,\\sigma_{12}\\big)^{\\top}$。\n\n仅从以上定义和本构律出发，完成以下任务：\n- 推导给定纯剪切 $\\boldsymbol{\\varepsilon}$ 的 $[\\varepsilon]^{\\mathrm{V}}$ 和 $[\\varepsilon]^{\\mathrm{K}}$。\n- 计算弹性应变能密度 $W=\\tfrac{1}{2}\\,\\boldsymbol{\\varepsilon}:\\boldsymbol{\\sigma}=\\tfrac{1}{2}\\,\\boldsymbol{\\varepsilon}:\\mathbb{C}:\\boldsymbol{\\varepsilon}$，并用 $\\mu$ 和 $\\gamma$ 简化结果。\n- 使用 Kelvin 记法证明张量内积在此加载条件下是守恒的，即 $\\boldsymbol{\\varepsilon}:\\boldsymbol{\\sigma}=([\\varepsilon]^{\\mathrm{K}})^{\\top}[\\sigma]^{\\mathrm{K}}$，方法是识别作用于非零分量的 Kelvin 刚度矩阵的相关条目。\n\n答案规格：\n- 将最终答案以单行矩阵形式返回，按顺序包含 $[\\varepsilon]^{\\mathrm{V}}$ 的六个分量、$[\\varepsilon]^{\\mathrm{K}}$ 的六个分量以及标量 $W$。\n- 用 $\\mu$ 和 $\\gamma$ 的符号形式表示 $W$。不要代入数值，也不要包含单位。无需四舍五入。", "solution": "该问题描述了一个线弹性、各向同性、均质固体中的纯剪切状态。给定的无穷小应变张量 $\\boldsymbol{\\varepsilon}$ 中，唯一的非零分量是 $\\varepsilon_{12} = \\varepsilon_{21} = \\frac{\\gamma}{2}$。该张量的矩阵形式为：\n$$\n\\boldsymbol{\\varepsilon} = \\begin{pmatrix} 0 & \\frac{\\gamma}{2} & 0 \\\\ \\frac{\\gamma}{2} & 0 & 0 \\\\ 0 & 0 & 0 \\end{pmatrix}\n$$\n该问题要求推导此应变的 Voigt 和 Kelvin 矢量表示，计算应变能密度 $W$，并验证与 Kelvin 记法中内积相关的性质。\n\n首先，我们推导 Voigt 应变矢量 $[\\varepsilon]^{\\mathrm{V}}$。指定的 Voigt 应变矢量约定为 $[\\varepsilon]^{\\mathrm{V}} = \\big(\\varepsilon_{11},\\,\\varepsilon_{22},\\,\\varepsilon_{33},\\,\\gamma_{23},\\,\\gamma_{13},\\,\\gamma_{12}\\big)^{\\top}$，其中对于 $i \\neq j$，有 $\\gamma_{ij} = 2\\,\\varepsilon_{ij}$。\n各分量为：\n- $\\varepsilon_{11} = 0$\n- $\\varepsilon_{22} = 0$\n- $\\varepsilon_{33} = 0$\n- $\\gamma_{23} = 2\\,\\varepsilon_{23} = 2(0) = 0$\n- $\\gamma_{13} = 2\\,\\varepsilon_{13} = 2(0) = 0$\n- $\\gamma_{12} = 2\\,\\varepsilon_{12} = 2\\left(\\frac{\\gamma}{2}\\right) = \\gamma$\n因此，Voigt 应变矢量为：\n$$\n[\\varepsilon]^{\\mathrm{V}} = \\begin{pmatrix} 0 \\\\ 0 \\\\ 0 \\\\ 0 \\\\ 0 \\\\ \\gamma \\end{pmatrix}\n$$\n\n其次，我们推导 Kelvin 应变矢量 $[\\varepsilon]^{\\mathrm{K}}$。其约定为 $[\\varepsilon]^{\\mathrm{K}} = \\big(\\varepsilon_{11},\\,\\varepsilon_{22},\\,\\varepsilon_{33},\\,\\sqrt{2}\\,\\varepsilon_{23},\\,\\sqrt{2}\\,\\varepsilon_{13},\\,\\sqrt{2}\\,\\varepsilon_{12}\\big)^{\\top}$。\n各分量为：\n- $\\varepsilon_{11} = 0$\n- $\\varepsilon_{22} = 0$\n- $\\varepsilon_{33} = 0$\n- $\\sqrt{2}\\,\\varepsilon_{23} = \\sqrt{2}(0) = 0$\n- $\\sqrt{2}\\,\\varepsilon_{13} = \\sqrt{2}(0) = 0$\n- $\\sqrt{2}\\,\\varepsilon_{12} = \\sqrt{2}\\left(\\frac{\\gamma}{2}\\right) = \\frac{\\gamma}{\\sqrt{2}}$\n因此，Kelvin 应变矢量为：\n$$\n[\\varepsilon]^{\\mathrm{K}} = \\begin{pmatrix} 0 \\\\ 0 \\\\ 0 \\\\ 0 \\\\ 0 \\\\ \\frac{\\gamma}{\\sqrt{2}} \\end{pmatrix}\n$$\n\n第三，我们使用各向同性本构律 $\\sigma_{ij} = C_{ijkl}\\,\\varepsilon_{kl}$ 计算柯西应力张量 $\\boldsymbol{\\sigma}$，其中 $C_{ijkl} = \\lambda\\,\\delta_{ij}\\delta_{kl} + \\mu\\left(\\delta_{ik}\\delta_{jl} + \\delta_{il}\\delta_{jk}\\right)$。\n这里隐含了对重复指标的求和。\n$\\sigma_{ij} = \\lambda\\,\\delta_{ij}\\,\\varepsilon_{kk} + 2\\mu\\,\\varepsilon_{ij}$。\n应变张量的迹为 $\\varepsilon_{kk} = \\varepsilon_{11} + \\varepsilon_{22} + \\varepsilon_{33} = 0+0+0=0$。\n因此，本构律简化为 $\\sigma_{ij} = 2\\mu\\,\\varepsilon_{ij}$。\n- 对角分量（$i=j$）：$\\sigma_{11} = 2\\mu\\,\\varepsilon_{11} = 0$, $\\sigma_{22} = 2\\mu\\,\\varepsilon_{22} = 0$, $\\sigma_{33} = 2\\mu\\,\\varepsilon_{33} = 0$。\n- 非对角分量（$i\\neq j$）：\n  - $\\sigma_{12} = 2\\mu\\,\\varepsilon_{12} = 2\\mu\\left(\\frac{\\gamma}{2}\\right) = \\mu\\gamma$。根据对称性，$\\sigma_{21} = \\mu\\gamma$。\n  - $\\sigma_{13} = 2\\mu\\,\\varepsilon_{13} = 0$。根据对称性，$\\sigma_{31} = 0$。\n  - $\\sigma_{23} = 2\\mu\\,\\varepsilon_{23} = 0$。根据对称性，$\\sigma_{32} = 0$。\n应力张量为：\n$$\n\\boldsymbol{\\sigma} = \\begin{pmatrix} 0 & \\mu\\gamma & 0 \\\\ \\mu\\gamma & 0 & 0 \\\\ 0 & 0 & 0 \\end{pmatrix}\n$$\n\n第四，我们计算弹性应变能密度 $W = \\frac{1}{2}\\,\\boldsymbol{\\varepsilon}:\\boldsymbol{\\sigma} = \\frac{1}{2}\\,\\varepsilon_{ij}\\sigma_{ij}$。\n双点积展开为对所有 $i,j$ 从 1 到 3 的求和。唯一的非零项是 $(i,j) = (1,2)$ 和 $(i,j) = (2,1)$。\n$$\nW = \\frac{1}{2} (\\varepsilon_{12}\\sigma_{12} + \\varepsilon_{21}\\sigma_{21}) = \\frac{1}{2} \\left[ \\left(\\frac{\\gamma}{2}\\right)(\\mu\\gamma) + \\left(\\frac{\\gamma}{2}\\right)(\\mu\\gamma) \\right] = \\frac{1}{2} \\left[ \\frac{\\mu\\gamma^2}{2} + \\frac{\\mu\\gamma^2}{2} \\right] = \\frac{1}{2}\\mu\\gamma^2\n$$\n\n最后，我们处理使用 Kelvin 记法证明在此加载情况下张量内积守恒的要求。我们必须验证 $\\boldsymbol{\\varepsilon}:\\boldsymbol{\\sigma} = ([\\varepsilon]^{\\mathrm{K}})^{\\top}[\\sigma]^{\\mathrm{K}}$。\n左侧为 $\\boldsymbol{\\varepsilon}:\\boldsymbol{\\sigma} = \\varepsilon_{ij}\\sigma_{ij} = 2W = \\mu\\gamma^2$。\n对于右侧，我们首先构建 Kelvin 应力矢量 $[\\sigma]^{\\mathrm{K}} = \\big(\\sigma_{11},\\,\\sigma_{22},\\,\\sigma_{33},\\,\\sqrt{2}\\,\\sigma_{23},\\,\\sqrt{2}\\,\\sigma_{13},\\,\\sqrt{2}\\,\\sigma_{12}\\big)^{\\top}$。\n使用我们找到的 $\\boldsymbol{\\sigma}$ 的分量：\n- $\\sigma_{11} = \\sigma_{22} = \\sigma_{33} = 0$\n- $\\sqrt{2}\\,\\sigma_{23} = 0$\n- $\\sqrt{2}\\,\\sigma_{13} = 0$\n- $\\sqrt{2}\\,\\sigma_{12} = \\sqrt{2}\\,\\mu\\gamma$\n所以，Kelvin 应力矢量为：\n$$\n[\\sigma]^{\\mathrm{K}} = \\begin{pmatrix} 0 \\\\ 0 \\\\ 0 \\\\ 0 \\\\ 0 \\\\ \\sqrt{2}\\mu\\gamma \\end{pmatrix}\n$$\n现在我们计算矩阵乘积 $([\\varepsilon]^{\\mathrm{K}})^{\\top}[\\sigma]^{\\mathrm{K}}$：\n$$\n([\\varepsilon]^{\\mathrm{K}})^{\\top}[\\sigma]^{\\mathrm{K}} = \\begin{pmatrix} 0 & 0 & 0 & 0 & 0 & \\frac{\\gamma}{\\sqrt{2}} \\end{pmatrix} \\begin{pmatrix} 0 \\\\ 0 \\\\ 0 \\\\ 0 \\\\ 0 \\\\ \\sqrt{2}\\mu\\gamma \\end{pmatrix} = \\left(\\frac{\\gamma}{\\sqrt{2}}\\right) (\\sqrt{2}\\mu\\gamma) = \\mu\\gamma^2\n$$\n因此，恒等式 $\\boldsymbol{\\varepsilon}:\\boldsymbol{\\sigma} = ([\\varepsilon]^{\\mathrm{K}})^{\\top}[\\sigma]^{\\mathrm{K}}$ 得到验证。\n\n问题要求在关系式 $[\\sigma]^{\\mathrm{K}} = [C]^{\\mathrm{K}}[\\varepsilon]^{\\mathrm{K}}$ 中识别 Kelvin 刚度矩阵 $[C]^{\\mathrm{K}}$ 的相关条目。在我们的情况下，只有 Kelvin 矢量的第六个分量是非零的。设它们为 $(\\sigma^{\\mathrm{K}})_6$ 和 $(\\varepsilon^{\\mathrm{K}})_6$。该关系简化为 $(\\sigma^{\\mathrm{K}})_6 = C^{\\mathrm{K}}_{66}(\\varepsilon^{\\mathrm{K}})_6$。\n代入我们的值，$\\sqrt{2}\\mu\\gamma = C^{\\mathrm{K}}_{66} \\left(\\frac{\\gamma}{\\sqrt{2}}\\right)$。\n求解刚度分量 $C^{\\mathrm{K}}_{66}$ 得出 $C^{\\mathrm{K}}_{66} = \\frac{\\sqrt{2}\\mu\\gamma}{\\gamma/\\sqrt{2}} = 2\\mu$。这是 Kelvin 记法中各向同性刚度矩阵剪切分量的标准值，证实了整个框架的一致性。相关条目是 $C_{66}^{\\mathrm{K}} = 2\\mu$。\n\n最终答案要求将 $[\\varepsilon]^{\\mathrm{V}}$ 的分量、$[\\varepsilon]^{\\mathrm{K}}$ 的分量以及 $W$ 的值放在一个单行矩阵中。它们是：\n- $[\\varepsilon]^{\\mathrm{V}} \\rightarrow (0, 0, 0, 0, 0, \\gamma)$\n- $[\\varepsilon]^{\\mathrm{K}} \\rightarrow (0, 0, 0, 0, 0, \\frac{\\gamma}{\\sqrt{2}})$\n- $W \\rightarrow \\frac{1}{2}\\mu\\gamma^2$", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0 & 0 & 0 & 0 & 0 & \\gamma & 0 & 0 & 0 & 0 & 0 & \\frac{\\gamma}{\\sqrt{2}} & \\frac{1}{2}\\mu\\gamma^{2}\n\\end{pmatrix}\n}\n$$", "id": "2709593"}, {"introduction": "从理论走向实践，本练习将处理一个在计算力学中普遍存在的挑战：不同软件库之间不兼容的索引排序。不同的有限元程序包可能采用不同的约定来排列Voigt或Kelvin矢量中的六个分量。这个实践要求您推导出一个置换矩阵，用于在两种常见约定之间转换矢量，同时确保像能量这样的物理量保持不变。掌握这项技能对于正确地连接不同的数值代码以及防止模拟中出现隐蔽但致命的错误至关重要 [@problem_id:2709621]。", "problem": "考虑一个线性弹性小应变固体，其Cauchy应力张量为$\\boldsymbol{\\sigma}$，无穷小应变张量为$\\boldsymbol{\\varepsilon}$，四阶刚度张量为$\\mathbb{C}$，它们满足本构关系$\\boldsymbol{\\sigma} = \\mathbb{C}:\\boldsymbol{\\varepsilon}$。应变能密度的定义由基本公式$w = \\tfrac{1}{2}\\,\\boldsymbol{\\varepsilon}:\\boldsymbol{\\sigma} = \\tfrac{1}{2}\\,\\varepsilon_{ij}\\,\\sigma_{ij}$给出。为了创建一个能保持欧几里得内积的向量-矩阵表示，我们采用Kelvin表示法。在该表示法中，对称张量$\\boldsymbol{\\sigma}$和$\\boldsymbol{\\varepsilon}$由6维向量表示，其剪切分量乘以$\\sqrt{2}$，从而对于任意对称张量$\\boldsymbol{A}$和$\\boldsymbol{B}$，都有$A_{K}^{\\mathsf{T}}B_{K} = \\boldsymbol{A}:\\boldsymbol{B}$。因此，$w = \\tfrac{1}{2}\\,\\varepsilon_{K}^{\\mathsf{T}}\\,\\mathbf{C}_{K}\\,\\varepsilon_{K}$，其中$\\mathbf{C}_{K}$是$\\mathbb{C}$的Kelvin表示。\n\n您正在对接两个外部库，它们都使用Kelvin表示法，但对6维向量采用不同的Voigt索引顺序：\n- 约定A：$(11,22,33,23,13,12)$\n- 约定B：$(11,22,33,12,23,13)$\n\n例如，在约定A下，Kelvin应变向量为$\\varepsilon_{K}^{(A)} = \\big(\\varepsilon_{11},\\,\\varepsilon_{22},\\,\\varepsilon_{33},\\,\\sqrt{2}\\,\\varepsilon_{23},\\,\\sqrt{2}\\,\\varepsilon_{13},\\,\\sqrt{2}\\,\\varepsilon_{12}\\big)^{\\mathsf{T}}$，而在约定B下，它为$\\varepsilon_{K}^{(B)} = \\big(\\varepsilon_{11},\\,\\varepsilon_{22},\\,\\varepsilon_{33},\\,\\sqrt{2}\\,\\varepsilon_{12},\\,\\sqrt{2}\\,\\varepsilon_{23},\\,\\sqrt{2}\\,\\varepsilon_{13}\\big)^{\\mathsf{T}}$。类似的定义也适用于应力向量$\\sigma_{K}^{(A)}$和$\\sigma_{K}^{(B)}$。\n\n从$w$的定义和Kelvin内积性质出发，解释为什么在库之间交换向量和矩阵时，Voigt表示法中的索引顺序至关重要，并推导出一个线性等距变换，该变换能在不改变任何状态下$w$值的前提下，协调这两种约定。特别地，确定唯一的$6 \\times 6$置换矩阵$\\mathbf{P}$，使得对于任何以约定A书写的Kelvin向量$\\mathbf{v}^{(A)}$，其在约定B中的同一个物理对象为$\\mathbf{v}^{(B)} = \\mathbf{P}\\,\\mathbf{v}^{(A)}$，并且只要$\\mathbf{C}_{K}^{(B)} = \\mathbf{P}\\,\\mathbf{C}_{K}^{(A)}\\,\\mathbf{P}^{\\mathsf{T}}$，能量就保持守恒。\n\n您的最终答案必须是显式的$6 \\times 6$矩阵$\\mathbf{P}$，以单一解析表达式的形式给出。不需要数值取整，也不需要单位。", "solution": "所给问题是有效的。它在科学上基于连续介质力学原理，问题定义明确，没有歧义或矛盾。我们将开始推导。\n\n当前的核心问题是将张量运算转化为矩阵-向量代数。一个对称二阶张量，如应力$\\boldsymbol{\\sigma}$或应变$\\boldsymbol{\\varepsilon}$，有六个独立分量。一种向量表示法，如Voigt或Kelvin表示法，将这六个分量映射到一个6维向量。这些分量在向量中的排列顺序是一个约定俗成的问题。如问题陈述中的约定A和约定B所示，存在不同的排序约定。\n\n这个顺序不是任意的；它是至关重要的。本构关系$\\boldsymbol{\\sigma} = \\mathbb{C}:\\boldsymbol{\\varepsilon}$在Kelvin表示法中变为一个矩阵-向量方程$\\sigma_K = \\mathbf{C}_K \\varepsilon_K$。刚度矩阵$\\mathbf{C}_K$中的元素是根据向量$\\sigma_K$和$\\varepsilon_K$中分量的特定顺序定义的。如果一个库或程序期望使用约定B的向量，但收到了按约定A格式化的向量，那么矩阵乘法$\\mathbf{C}_K \\varepsilon_K$将会以不正确的方式组合正确的数值，从而产生物理上无意义的应力结果。\n\n这两种约定的协调必须基于一个独立于表示法选择的原则：物理标量的不变性。应变能密度$w = \\frac{1}{2}\\boldsymbol{\\varepsilon}:\\boldsymbol{\\sigma}$就是这样一个标量。在Kelvin表示法中，它写作$w = \\frac{1}{2} \\varepsilon_K^{\\mathsf{T}} \\sigma_K$。无论使用哪种约定来表示向量，这个标量值都必须保持不变。\n\n让我们定义任意对称张量$\\boldsymbol{T}$在两种约定下的Kelvin向量。$\\boldsymbol{T}$的分量为$T_{ij}$。\n\n在约定A下，索引顺序为$(11,22,33,23,13,12)$，Kelvin向量$\\mathbf{t}^{(A)}$为：\n$$\n\\mathbf{t}^{(A)} = \\begin{pmatrix} T_{11} \\\\ T_{22} \\\\ T_{33} \\\\ \\sqrt{2} T_{23} \\\\ \\sqrt{2} T_{13} \\\\ \\sqrt{2} T_{12} \\end{pmatrix}\n$$\n其分量为$t_1^{(A)}=T_{11}$, $t_2^{(A)}=T_{22}$, $t_3^{(A)}=T_{33}$, $t_4^{(A)}=\\sqrt{2}T_{23}$, $t_5^{(A)}=\\sqrt{2}T_{13}$, $t_6^{(A)}=\\sqrt{2}T_{12}$。\n\n在约定B下，索引顺序为$(11,22,33,12,23,13)$，同一张量$\\boldsymbol{T}$的Kelvin向量$\\mathbf{t}^{(B)}$为：\n$$\n\\mathbf{t}^{(B)} = \\begin{pmatrix} T_{11} \\\\ T_{22} \\\\ T_{33} \\\\ \\sqrt{2} T_{12} \\\\ \\sqrt{2} T_{23} \\\\ \\sqrt{2} T_{13} \\end{pmatrix}\n$$\n其分量为$t_1^{(B)}=T_{11}$, $t_2^{(B)}=T_{22}$, $t_3^{(B)}=T_{33}$, $t_4^{(B)}=\\sqrt{2}T_{12}$, $t_5^{(B)}=\\sqrt{2}T_{23}$, $t_6^{(B)}=\\sqrt{2}T_{13}$。\n\n我们寻求一个线性变换$\\mathbf{P}$，使得对于任意张量$\\boldsymbol{T}$，都有$\\mathbf{t}^{(B)} = \\mathbf{P}\\,\\mathbf{t}^{(A)}$。通过比较$\\mathbf{t}^{(A)}$和$\\mathbf{t}^{(B)}$的分量，我们建立以下对应关系：\n$t_1^{(B)} = T_{11} = t_1^{(A)}$\n$t_2^{(B)} = T_{22} = t_2^{(A)}$\n$t_3^{(B)} = T_{33} = t_3^{(A)}$\n$t_4^{(B)} = \\sqrt{2} T_{12} = t_6^{(A)}$\n$t_5^{(B)} = \\sqrt{2} T_{23} = t_4^{(A)}$\n$t_6^{(B)} = \\sqrt{2} T_{13} = t_5^{(A)}$\n\n该变换是向量分量的一个置换。我们可以用矩阵形式$\\mathbf{t}^{(B)} = \\mathbf{P}\\,\\mathbf{t}^{(A)}$表示这种关系，其中$\\mathbf{P}$是一个$6 \\times 6$的置换矩阵。$\\mathbf{P}$的第$i$行必须从$\\mathbf{t}^{(A)}$中选择正确的分量来构成$t_i^{(B)}$。这种构造方法得出了矩阵$\\mathbf{P}$：\n$$\n\\mathbf{P} = \\begin{pmatrix}\n1 & 0 & 0 & 0 & 0 & 0 \\\\\n0 & 1 & 0 & 0 & 0 & 0 \\\\\n0 & 0 & 1 & 0 & 0 & 0 \\\\\n0 & 0 & 0 & 0 & 0 & 1 \\\\\n0 & 0 & 0 & 1 & 0 & 0 \\\\\n0 & 0 & 0 & 0 & 1 & 0\n\\end{pmatrix}\n$$\n这个矩阵$\\mathbf{P}$将约定A的分量重新排列以匹配约定B。由于$\\mathbf{P}$是一个置换矩阵，其转置即为其逆矩阵，即$\\mathbf{P}^{\\mathsf{T}}\\mathbf{P} = \\mathbf{I}$，其中$\\mathbf{I}$是单位矩阵。这个性质意味着$\\mathbf{P}$是一个正交矩阵，它所代表的变换是一个线性等距变换，保持了欧几里得范数和内积。这一点至关重要，因为它保证了Kelvin映射的基本性质$A_{K}^{\\mathsf{T}}B_{K} = \\boldsymbol{A}:\\boldsymbol{B}$在不同约定之间得以保持：$(\\mathbf{a}^{(B)})^{\\mathsf{T}}\\mathbf{b}^{(B)} = (\\mathbf{P}\\mathbf{a}^{(A)})^{\\mathsf{T}}(\\mathbf{P}\\mathbf{b}^{(A)}) = (\\mathbf{a}^{(A)})^{\\mathsf{T}}\\mathbf{P}^{\\mathsf{T}}\\mathbf{P}\\mathbf{b}^{(A)} = (\\mathbf{a}^{(A)})^{\\mathsf{T}}\\mathbf{b}^{(A)}$。\n\n最后，我们演示刚度矩阵必须如何变换以保持应变能密度$w$不变。$w$的表达式必须是不变的：\n$$\nw = \\frac{1}{2} \\big(\\varepsilon_{K}^{(A)}\\big)^{\\mathsf{T}} \\mathbf{C}_{K}^{(A)} \\varepsilon_{K}^{(A)} = \\frac{1}{2} \\big(\\varepsilon_{K}^{(B)}\\big)^{\\mathsf{T}} \\mathbf{C}_{K}^{(B)} \\varepsilon_{K}^{(B)}\n$$\n将变换$\\varepsilon_{K}^{(B)} = \\mathbf{P}\\,\\varepsilon_{K}^{(A)}$代入右侧，得到：\n$$\nw = \\frac{1}{2} \\big(\\mathbf{P}\\,\\varepsilon_{K}^{(A)}\\big)^{\\mathsf{T}} \\mathbf{C}_{K}^{(B)} \\big(\\mathbf{P}\\,\\varepsilon_{K}^{(A)}\\big) = \\frac{1}{2} \\big(\\varepsilon_{K}^{(A)}\\big)^{\\mathsf{T}} \\mathbf{P}^{\\mathsf{T}} \\mathbf{C}_{K}^{(B)} \\mathbf{P} \\, \\varepsilon_{K}^{(A)}\n$$\n为使此等式对任意应变状态$\\varepsilon_{K}^{(A)}$成立，矩阵算子必须相等：\n$$\n\\mathbf{C}_{K}^{(A)} = \\mathbf{P}^{\\mathsf{T}} \\mathbf{C}_{K}^{(B)} \\mathbf{P}\n$$\n为了找到$\\mathbf{C}_{K}^{(B)}$的变换法则，我们对其左乘$\\mathbf{P}$并右乘$\\mathbf{P}^{\\mathsf{T}}$：\n$$\n\\mathbf{P}\\,\\mathbf{C}_{K}^{(A)}\\,\\mathbf{P}^{\\mathsf{T}} = \\mathbf{P}\\,\\big(\\mathbf{P}^{\\mathsf{T}} \\mathbf{C}_{K}^{(B)} \\mathbf{P}\\big)\\,\\mathbf{P}^{\\mathsf{T}} = \\big(\\mathbf{P}\\mathbf{P}^{\\mathsf{T}}\\big) \\mathbf{C}_{K}^{(B)} \\big(\\mathbf{P}\\mathbf{P}^{\\mathsf{T}}\\big) = \\mathbf{I}\\,\\mathbf{C}_{K}^{(B)}\\,\\mathbf{I} = \\mathbf{C}_{K}^{(B)}\n$$\n这证实了变换法则$\\mathbf{C}_{K}^{(B)} = \\mathbf{P}\\,\\mathbf{C}_{K}^{(A)}\\,\\mathbf{P}^{\\mathsf{T}}$，该法则确保了本构模型所代表的物理规律不会因记法约定的改变而改变。所推导出的矩阵$\\mathbf{P}$是协调这两种给定约定的唯一线性等距变换。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n1 & 0 & 0 & 0 & 0 & 0 \\\\\n0 & 1 & 0 & 0 & 0 & 0 \\\\\n0 & 0 & 1 & 0 & 0 & 0 \\\\\n0 & 0 & 0 & 0 & 0 & 1 \\\\\n0 & 0 & 0 & 1 & 0 & 0 \\\\\n0 & 0 & 0 & 0 & 1 & 0\n\\end{pmatrix}\n}\n$$", "id": "2709621"}]}