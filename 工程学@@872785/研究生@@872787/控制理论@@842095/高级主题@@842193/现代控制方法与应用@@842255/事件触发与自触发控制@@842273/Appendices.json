{"hands_on_practices": [{"introduction": "本练习将带您深入自触发控制的核心机制：利用系统模型预测未来。通过一个具体的例子 [@problem_id:2705434]，您将从第一性原理出发，一步步计算出下一个事件的精确触发时刻。这个实践旨在帮助您直观地理解自触发控制的预测特性，并将抽象的理论转化为可操作的计算。", "problem": "考虑由微分方程 $\\dot{x}(t)=A x(t)+B u(t)$ 描述的线性时不变 (LTI) 系统，其中 $A=\\begin{bmatrix}-1  0\\\\0  -2\\end{bmatrix}$ 且 $B=I_{2}$。该系统由一个零阶保持 (ZOH) 状态反馈控制器 $u(t)=K x(t_{k})$（对于 $t\\in[t_{k},t_{k+1})$）进行调节，其中 $K=-I_{2}$，$\\{t_{k}\\}$ 是传输时刻。设初始传输时刻为 $t_{0}=0$，初始条件为 $x(0)=\\begin{bmatrix}1\\\\1\\end{bmatrix}$。将采样间测量误差定义为 $e(t)=x(t_{k})-x(t)$（对于 $t\\in[t_{k},t_{k+1})$）。一个自触发策略通过使用模型预测，在某个分量级相对误差条件首次满足时的未来时间来安排下一次传输时间 $t_{1}>0$：\n- 当对于某个分量索引 $i\\in\\{1,2\\}$，等式 $\\lvert e_{i}(t)\\rvert=\\sigma \\lvert x_{i}(t)\\rvert$ 成立时触发，其中 $\\sigma=0.2$。\n\n仅使用第一性原理和给定数据，推导在 $[0,t_{1})$ 上的状态轨迹，构建分量级触发条件，并计算出精确的首次自触发事件时间 $t_{1}$ 的单一闭式表达式。假设时间单位为秒。请提供精确表达式，不要进行数值近似。", "solution": "用户提供了一个问题陈述，在尝试解答之前需要进行验证。\n\n**问题验证**\n\n**步骤 1：提取已知条件**\n- 系统动态：$\\dot{x}(t)=A x(t)+B u(t)$\n- 系统矩阵：$A=\\begin{bmatrix}-1  0\\\\0  -2\\end{bmatrix}$\n- 输入矩阵：$B=I_{2}$\n- 控制律：$u(t)=K x(t_{k})$ 对于 $t\\in[t_{k},t_{k+1})$\n- 反馈增益：$K=-I_{2}$\n- 初始传输时刻：$t_{0}=0$\n- 初始条件：$x(0)=\\begin{bmatrix}1\\\\1\\end{bmatrix}$\n- 采样间误差：$e(t)=x(t_{k})-x(t)$ 对于 $t\\in[t_{k},t_{k+1})$\n- 触发条件：对于某个分量 $i\\in\\{1,2\\}$，等式 $\\lvert e_{i}(t)\\rvert=\\sigma \\lvert x_{i}(t)\\rvert$ 成立。\n- 触发参数：$\\sigma=0.2$\n- 目标：计算首次自触发事件时间 $t_{1}>0$。\n\n**步骤 2：使用提取的已知条件进行验证**\n该问题是自触发控制领域针对线性时不变系统的一个标准练习。\n- **有科学依据**：该问题基于控制理论和微分方程的既定原理。它在科学上和数学上是合理的。\n- **良定的**：所有必要的参数、初始条件和动态都已指定。目标是找到*第一个*正时间，这表明存在唯一解。\n- **目标明确**：语言精确、正式，没有任何主观或含糊的陈述。\n- 该问题没有违反任何无效性标准。它是完整的、一致的并且可形式化的。\n\n**步骤 3：结论与行动**\n该问题被判定为**有效**。将推导求解过程。\n\n**求解过程推导**\n\n目标是计算从 $t_{0}=0$ 开始，自触发条件首次满足的时刻 $t_{1}>0$。\n\n在时间区间 $t \\in [t_{0}, t_{1})$（即 $t \\in [0, t_{1})$）内，控制输入基于 $t_{0}=0$ 时的状态保持恒定：\n$$u(t) = K x(t_{0}) = K x(0)$$\n因此，系统动态由以下线性时不变非齐次微分方程描述：\n$$\\dot{x}(t) = A x(t) + B K x(0)$$\n代入给定值 $A=\\begin{bmatrix}-1  0\\\\0  -2\\end{bmatrix}$、$B=I_{2}$、$K=-I_{2}$ 和 $x(0)=\\begin{bmatrix}1\\\\1\\end{bmatrix}$：\n$$B K x(0) = I_{2} (-I_{2}) x(0) = -x(0) = \\begin{bmatrix}-1\\\\-1\\end{bmatrix}$$\n微分方程组变为：\n$$\\dot{x}(t) = \\begin{bmatrix}-1  0\\\\0  -2\\end{bmatrix} x(t) + \\begin{bmatrix}-1\\\\-1\\end{bmatrix}$$\n由于矩阵 $A$ 是对角矩阵，系统解耦为两个独立的一阶线性常微分方程：\n1. $\\dot{x}_{1}(t) = -x_{1}(t) - 1$，初始条件为 $x_{1}(0)=1$。\n2. $\\dot{x}_{2}(t) = -2x_{2}(t) - 1$，初始条件为 $x_{2}(0)=1$。\n\n我们求解这些方程。对于形如 $\\dot{y}(t) = ay(t) + b$ 的方程，其解为 $y(t) = (y(0) + \\frac{b}{a})\\exp(at) - \\frac{b}{a}$。\n\n对于第一个分量，$a=-1$ 且 $b=-1$：\n$$x_{1}(t) = \\left(x_{1}(0) + \\frac{-1}{-1}\\right)\\exp(-t) - \\frac{-1}{-1} = (1+1)\\exp(-t) - 1 = 2\\exp(-t) - 1$$\n\n对于第二个分量，$a=-2$ 且 $b=-1$：\n$$x_{2}(t) = \\left(x_{2}(0) + \\frac{-1}{-2}\\right)\\exp(-2t) - \\frac{-1}{-2} = \\left(1+\\frac{1}{2}\\right)\\exp(-2t) - \\frac{1}{2} = \\frac{3}{2}\\exp(-2t) - \\frac{1}{2}$$\n\n接下来，我们定义在 $t \\in [0, t_{1})$ 上的采样间测量误差 $e(t) = x(t_{0}) - x(t) = x(0) - x(t)$。\n误差的分量为：\n$$e_{1}(t) = x_{1}(0) - x_{1}(t) = 1 - (2\\exp(-t) - 1) = 2 - 2\\exp(-t)$$\n$$e_{2}(t) = x_{2}(0) - x_{2}(t) = 1 - \\left(\\frac{3}{2}\\exp(-2t) - \\frac{1}{2}\\right) = \\frac{3}{2} - \\frac{3}{2}\\exp(-2t)$$\n\n触发条件为 $|e_{i}(t)| = \\sigma |x_{i}(t)|$（对于 $i=1$ 或 $i=2$），其中 $\\sigma = 0.2 = \\frac{1}{5}$。我们必须找到满足任一分量此条件的最小 $t>0$。\n\n**分量 1 的分析：**\n条件为 $|2 - 2\\exp(-t)| = \\sigma |2\\exp(-t) - 1|$。\n对于 $t>0$，$0  \\exp(-t)  1$，所以 $2 - 2\\exp(-t) = 2(1-\\exp(-t)) > 0$。左侧始终为正。\n右侧参数 $2\\exp(-t) - 1$ 的符号在 $2\\exp(-t) = 1$ 时改变，即在 $t = \\ln(2)$ 处。\n- 情况 1：$0  t \\leq \\ln(2)$。此时 $2\\exp(-t) - 1 \\geq 0$。条件变为：\n$$2 - 2\\exp(-t) = \\sigma (2\\exp(-t) - 1)$$\n$$2 + \\sigma = (2 + 2\\sigma)\\exp(-t)$$\n$$\\exp(-t) = \\frac{2+\\sigma}{2(1+\\sigma)} = \\frac{2 + 0.2}{2(1+0.2)} = \\frac{2.2}{2.4} = \\frac{11}{12}$$\n这给出了一个潜在的事件时间 $t_{1,1} = -\\ln(\\frac{11}{12}) = \\ln(\\frac{12}{11})$。由于 $\\frac{12}{11}  2$，所以 $\\ln(\\frac{12}{11})  \\ln(2)$，这证实了该解位于所考虑的区间内。\n\n- 情况 2：$t > \\ln(2)$。此时 $2\\exp(-t) - 1  0$。条件变为：\n$$2 - 2\\exp(-t) = -\\sigma (2\\exp(-t) - 1) = \\sigma - 2\\sigma\\exp(-t)$$\n$$2 - \\sigma = (2 - 2\\sigma)\\exp(-t)$$\n$$\\exp(-t) = \\frac{2-\\sigma}{2(1-\\sigma)} = \\frac{2 - 0.2}{2(1-0.2)} = \\frac{1.8}{1.6} = \\frac{9}{8}$$\n由于 $\\frac{9}{8} > 1$，$\\exp(-t) > 1$，这意味着 $t  0$。这不是一个对于 $t>0$ 的有效解。\n\n因此，由第一个分量得到的唯一可能的触发时间是 $t_{1,1} = \\ln(\\frac{12}{11})$。\n\n**分量 2 的分析：**\n条件为 $|\\frac{3}{2} - \\frac{3}{2}\\exp(-2t)| = \\sigma |\\frac{3}{2}\\exp(-2t) - \\frac{1}{2}|$.\n对于 $t>0$，$\\exp(-2t)  1$，所以 $\\frac{3}{2} - \\frac{3}{2}\\exp(-2t) = \\frac{3}{2}(1-\\exp(-2t)) > 0$。\n右侧参数 $\\frac{3}{2}\\exp(-2t) - \\frac{1}{2}$ 的符号在 $\\exp(-2t) = \\frac{1}{3}$ 时改变，即在 $t = \\frac{1}{2}\\ln(3)$ 处。\n- 情况 1：$0  t \\leq \\frac{1}{2}\\ln(3)$。此时 $\\frac{3}{2}\\exp(-2t) - \\frac{1}{2} \\geq 0$。条件变为：\n$$\\frac{3}{2} - \\frac{3}{2}\\exp(-2t) = \\sigma \\left(\\frac{3}{2}\\exp(-2t) - \\frac{1}{2}\\right)$$\n两边乘以 $2$：$3 - 3\\exp(-2t) = \\sigma(3\\exp(-2t) - 1) = 3\\sigma\\exp(-2t) - \\sigma$。\n$$3 + \\sigma = (3 + 3\\sigma)\\exp(-2t)$$\n$$\\exp(-2t) = \\frac{3+\\sigma}{3(1+\\sigma)} = \\frac{3 + 0.2}{3(1+0.2)} = \\frac{3.2}{3.6} = \\frac{32}{36} = \\frac{8}{9}$$\n这给出了一个潜在的事件时间 $t_{1,2} = -\\frac{1}{2}\\ln(\\frac{8}{9}) = \\frac{1}{2}\\ln(\\frac{9}{8})$。由于 $\\frac{9}{8}  3$，$\\ln(\\frac{9}{8})  \\ln(3)$，这意味着 $\\frac{1}{2}\\ln(\\frac{9}{8})  \\frac{1}{2}\\ln(3)$，证实了该解位于所考虑的区间内。\n\n- 情况 2：$t > \\frac{1}{2}\\ln(3)$。此时 $\\frac{3}{2}\\exp(-2t) - \\frac{1}{2}  0$。条件变为：\n$$\\frac{3}{2} - \\frac{3}{2}\\exp(-2t) = -\\sigma \\left(\\frac{3}{2}\\exp(-2t) - \\frac{1}{2}\\right)$$\n$$3 - 3\\exp(-2t) = -\\sigma(3\\exp(-2t) - 1) = -3\\sigma\\exp(-2t) + \\sigma$$\n$$3 - \\sigma = (3 - 3\\sigma)\\exp(-2t)$$\n$$\\exp(-2t) = \\frac{3-\\sigma}{3(1-\\sigma)} = \\frac{3 - 0.2}{3(1-0.2)} = \\frac{2.8}{2.4} = \\frac{7}{6}$$\n由于 $\\frac{7}{6}>1$，$\\exp(-2t) > 1$，这意味着 $t0$。不是一个有效解。\n\n因此，由第二个分量得到的唯一可能的触发时间是 $t_{1,2} = \\frac{1}{2}\\ln(\\frac{9}{8})$。\n\n**最终比较：**\n第一个触发事件发生在 $t_{1} = \\min(t_{1,1}, t_{1,2})$。我们必须比较 $t_{1,1} = \\ln(\\frac{12}{11})$ 和 $t_{1,2} = \\frac{1}{2}\\ln(\\frac{9}{8})$。\n我们可以将 $t_{1,2}$ 重写为 $t_{1,2} = \\ln\\left(\\left(\\frac{9}{8}\\right)^{1/2}\\right) = \\ln\\left(\\frac{3}{\\sqrt{8}}\\right) = \\ln\\left(\\frac{3}{2\\sqrt{2}}\\right)$。\n由于 $\\ln(x)$ 是一个严格单调递增函数，我们比较其参数：$\\frac{12}{11}$ 和 $\\frac{3}{2\\sqrt{2}}$。\n比较 $12 \\times 2\\sqrt{2}$ 与 $11 \\times 3$，即 $24\\sqrt{2}$ 与 $33$。\n我们将两个正数平方：$(24\\sqrt{2})^{2} = 576 \\times 2 = 1152$，以及 $33^{2} = 1089$。\n因为 $1152 > 1089$，所以 $24\\sqrt{2} > 33$，因此 $\\frac{24\\sqrt{2}}{33} > 1$，这意味着 $\\frac{12}{11} > \\frac{3}{2\\sqrt{2}}$。\n因此，$t_{1,1} > t_{1,2}$。最小时间是 $t_{1,2}$。\n\n首次自触发事件时间是 $t_{1} = \\frac{1}{2}\\ln(\\frac{9}{8})$。", "answer": "$$\\boxed{\\frac{1}{2}\\ln\\left(\\frac{9}{8}\\right)}$$", "id": "2705434"}, {"introduction": "在了解了如何计算触发时刻之后，我们转向一个更深刻的问题：这种触发机制为何能保证系统稳定？本练习 [@problem_id:2705408] 利用李雅普诺夫函数，探讨了事件触发条件与系统稳定性之间的根本联系。通过这个实践，您将掌握分析事件触发系统稳定性的核心方法，并理解通信成本与控制性能之间的关键权衡。", "problem": "考虑连续时间线性时不变的被控对象-控制器对\n$$\\dot{x}(t)=A x(t)+B u(t), \\quad u(t)=K \\hat{x}(t),$$\n其状态为 $x(t)\\in \\mathbb{R}^{2}$，输入为 $u(t)\\in \\mathbb{R}^{2}$，并且最新传输的采样 $\\hat{x}(t)$ 在事件之间保持恒定。令网络引起的误差为 $e(t)\\coloneqq \\hat{x}(t)-x(t)$。在事件之间，闭环动力学为\n$$\\dot{x}(t)=(A+BK)x(t)+B K e(t)。$$\n令矩阵为\n$$A=\\begin{pmatrix}0  0\\\\0  0\\end{pmatrix}, \\quad B=\\begin{pmatrix}1  0\\\\0  1\\end{pmatrix}, \\quad K=\\begin{pmatrix}-1  0\\\\0  -2\\end{pmatrix}。$$\n考虑二次 Lyapunov 候选函数\n$$V(x)=x^{\\top}P x,$$\n其中 $P\\succ 0$ 是 Lyapunov 方程的唯一解\n$$(A+BK)^{\\top}P+P(A+BK)=-I。$$\n定义一个形式如下的事件触发函数\n$$\\rho(\\|x\\|,\\|e\\|)=\\alpha \\|x\\|^{2}-\\beta \\|e\\|^{2}, \\quad \\alpha>0, \\ \\beta>0,$$\n当 $\\rho(\\|x\\|,\\|e\\|)\\le 0$ 时，触发器执行一次新的传输。在事件之间，假设状态和误差满足相应的事件间约束\n$$\\|e(t)\\|^{2}\\le c\\,\\|x(t)\\|^{2}, \\quad \\text{其中 } c\\coloneqq \\frac{\\alpha}{\\beta}>0。$$\n令 $W(x)\\coloneqq V(x)$。仅使用实分析和矩阵理论中的基本不等式，并且除了 $\\alpha$、$\\beta$ 和标准的配方法分裂参数外，不引入任何额外的设计自由度，推导关于 $(\\alpha,\\beta,\\lambda,c)$ 的条件，以保证 $W$ 在事件之间严格递减，即存在 $\\lambda>0$ 使得\n$$\\dot{W}(x(t))\\le -\\lambda W(x(t)) \\quad \\text{对于所有事件间的 } t \\text{ 成立}。$$\n然后，确定允许的阈值上确界 $c_{\\max}$，使得存在 $\\alpha>0$, $\\beta>0$, $\\lambda>0$，满足 $c=\\alpha/\\beta\\le c_{\\max}$ 且 $W$ 在事件之间严格递减。将 $c_{\\max}$ 报告为单个实数。无需四舍五入。如果存在角度，请以弧度表示。最终的数值答案必须是单个实数值。", "solution": "所述问题需要进行验证。\n\n步骤 1：提取已知条件。\n- 系统动力学：$\\dot{x}(t)=A x(t)+B u(t)$，其中 $x(t)\\in \\mathbb{R}^{2}$，$u(t)\\in \\mathbb{R}^{2}$。\n- 控制律：$u(t)=K \\hat{x}(t)$，其中 $\\hat{x}(t)$ 是最新传输的状态采样。\n- 网络引起的误差：$e(t)\\coloneqq \\hat{x}(t)-x(t)$。\n- 事件间的闭环动力学：$\\dot{x}(t)=(A+BK)x(t)+B K e(t)$。\n- 系统矩阵：$A=\\begin{pmatrix}0  0\\\\0  0\\end{pmatrix}$, $B=\\begin{pmatrix}1  0\\\\0  1\\end{pmatrix}$, $K=\\begin{pmatrix}-1  0\\\\0  -2\\end{pmatrix}$。\n- Lyapunov 函数：$V(x)=x^{\\top}P x$，其中 $P\\succ 0$。\n- Lyapunov 方程：$(A+BK)^{\\top}P+P(A+BK)=-I$。\n- 事件触发函数：$\\rho(\\|x\\|,\\|e\\|)=\\alpha \\|x\\|^{2}-\\beta \\|e\\|^{2}$，其中 $\\alpha>0, \\beta>0$。\n- 触发规则：当 $\\rho(\\|x\\|,\\|e\\|)\\le 0$ 时，事件发生。\n- 事件间约束：$\\|e(t)\\|^{2}\\le c\\,\\|x(t)\\|^{2}$，其中 $c\\coloneqq \\frac{\\alpha}{\\beta}>0$。这对应于条件 $\\rho(\\|x\\|,\\|e\\|)\\ge 0$。\n- 用于分析的 Lyapunov 函数：$W(x)\\coloneqq V(x)$。\n- 目标：找到关于 $(\\alpha,\\beta,\\lambda,c)$ 的条件，以保证存在 $\\lambda>0$ 使得对于所有事件间的 t，都有 $\\dot{W}(x(t))\\le -\\lambda W(x(t))$。\n- 最终任务：确定允许的阈值上确界 $c_{\\max}$。\n\n步骤 2：使用提取的已知条件进行验证。\n该问题是事件触发控制系统稳定性分析中的一个明确定义的练习，这是控制理论中的一个标准课题。它具有科学依据且是客观的。为了验证其是否适定 (well-posed)，我们必须检查 Lyapunov 方程是否具有唯一的正定解 $P$。支配标称闭环动力学的矩阵是 $A_{cl} \\coloneqq A+BK$。\n$A+BK = \\begin{pmatrix}0  0\\\\0  0\\end{pmatrix} + \\begin{pmatrix}1  0\\\\0  1\\end{pmatrix}\\begin{pmatrix}-1  0\\\\0  -2\\end{pmatrix} = \\begin{pmatrix}-1  0\\\\0  -2\\end{pmatrix}$。\n$A+BK$ 的特征值为 $-1$ 和 $-2$。由于两个特征值都具有严格为负的实部，矩阵 $A+BK$ 是 Hurwitz 的。对于一个 Hurwitz 矩阵 $A_{cl}$，Lyapunov 方程 $A_{cl}^{\\top}P+PA_{cl}=-Q$（其中 $Q$ 是正定的，此处 $Q=I$）已知有唯一的对称正定解 $P$。\n因此，该问题是自洽的、一致的且适定的。未发现任何缺陷。\n\n步骤 3：结论与行动。\n问题有效。将提供解答。\n\n第一步是求解 Lyapunov 方程以得到矩阵 $P$。\n令 $A_{cl} = A+BK = \\begin{pmatrix}-1  0\\\\0  -2\\end{pmatrix}$。方程为 $A_{cl}^{\\top}P+PA_{cl}=-I$。\n由于 $A_{cl}$ 是对角矩阵，所以它是对称的，因此 $A_{cl}^{\\top} = A_{cl}$。令 $P=\\begin{pmatrix} p_{11}  p_{12} \\\\ p_{21}  p_{22} \\end{pmatrix}$。由于 $P$ 必须是对称的，所以 $p_{12}=p_{21}$。\n$$\n\\begin{pmatrix}-1  0\\\\0  -2\\end{pmatrix}\\begin{pmatrix} p_{11}  p_{12} \\\\ p_{12}  p_{22} \\end{pmatrix} + \\begin{pmatrix} p_{11}  p_{12} \\\\ p_{12}  p_{22} \\end{pmatrix}\\begin{pmatrix}-1  0\\\\0  -2\\end{pmatrix} = \\begin{pmatrix}-1  0\\\\0  -1\\end{pmatrix}\n$$\n$$\n\\begin{pmatrix}-p_{11}  -p_{12} \\\\ -2p_{12}  -2p_{22} \\end{pmatrix} + \\begin{pmatrix}-p_{11}  -2p_{12} \\\\ -p_{12}  -2p_{22} \\end{pmatrix} = \\begin{pmatrix}-1  0\\\\0  -1\\end{pmatrix}\n$$\n$$\n\\begin{pmatrix}-2p_{11}  -3p_{12} \\\\ -3p_{12}  -4p_{22} \\end{pmatrix} = \\begin{pmatrix}-1  0\\\\0  -1\\end{pmatrix}\n$$\n令矩阵元素相等，得到以下方程组：\n$-2p_{11}=-1 \\implies p_{11} = \\frac{1}{2}$\n$-3p_{12}=0 \\implies p_{12}=0$\n$-4p_{22}=-1 \\implies p_{22} = \\frac{1}{4}$\n因此，解为 $P = \\begin{pmatrix} \\frac{1}{2}  0 \\\\ 0  \\frac{1}{4} \\end{pmatrix}$。该矩阵是对角矩阵且对角元为正，因此它是正定的，与预期相符。\n\n接下来，我们沿着事件间的系统轨迹计算 $W(x) = x^{\\top}Px$ 的时间导数。\n$\\dot{W}(x) = \\dot{x}^{\\top}Px + x^{\\top}P\\dot{x}$。\n代入动力学 $\\dot{x}=(A+BK)x+BKe$：\n$\\dot{W}(x) = ((A+BK)x+BKe)^{\\top}Px + x^{\\top}P((A+BK)x+BKe)$\n$\\dot{W}(x) = x^{\\top}(A+BK)^{\\top}Px + e^{\\top}(BK)^{\\top}Px + x^{\\top}P(A+BK)x + x^{\\top}PBKe$\n合并各项，我们得到：\n$\\dot{W}(x) = x^{\\top}((A+BK)^{\\top}P + P(A+BK))x + e^{\\top}K^{\\top}B^{\\top}Px + x^{\\top}PBKe$。\n使用 Lyapunov 方程 $(A+BK)^{\\top}P + P(A+BK) = -I$，这可以简化为：\n$\\dot{W}(x) = -x^{\\top}Ix + e^{\\top}K^{\\top}B^{\\top}Px + x^{\\top}PBKe$。\n第二项和第三项是标量，并且互为转置。由于 $P$ 是对称的，$(x^{\\top}PBKe)^{\\top} = e^{\\top}K^{\\top}B^{\\top}P^{\\top}x = e^{\\top}K^{\\top}B^{\\top}Px$。\n因此，$\\dot{W}(x) = -\\|x\\|^2 + 2x^{\\top}PBKe$。\n\n我们现在使用 Young's inequality 来界定交叉项 $2x^{\\top}PBKe$，该不等式对于任意向量 $u, v$ 和任意标量 $\\gamma>0$ 表述为 $2u^{\\top}v \\le \\gamma u^{\\top}u + \\frac{1}{\\gamma}v^{\\top}v$。\n令 $u=x$ 且 $v=PBKe$。那么：\n$2x^{\\top}PBKe \\le \\gamma \\|x\\|^2 + \\frac{1}{\\gamma}\\|PBKe\\|^2$。\n范数的平方是 $\\|PBKe\\|^2 = (PBKe)^{\\top}(PBKe) = e^{\\top}K^{\\top}B^{\\top}P^{\\top}PBKe$。\n由于 $P$ 是对称的 ($P^{\\top}=P$) 且 $B=I$，这变为 $e^{\\top}K^{\\top}P^2Ke$。\n我们来计算矩阵 $K^{\\top}P^2K$。\n$P^2 = \\begin{pmatrix} (\\frac{1}{2})^2  0 \\\\ 0  (\\frac{1}{4})^2 \\end{pmatrix} = \\begin{pmatrix} \\frac{1}{4}  0 \\\\ 0  \\frac{1}{16} \\end{pmatrix}$。\n$K = \\begin{pmatrix} -1  0 \\\\ 0  -2 \\end{pmatrix}$，它是对称的，$K^{\\top}=K$。\n$K^{\\top}P^2K = KP^2K = \\begin{pmatrix} -1  0 \\\\ 0  -2 \\end{pmatrix} \\begin{pmatrix} \\frac{1}{4}  0 \\\\ 0  \\frac{1}{16} \\end{pmatrix} \\begin{pmatrix} -1  0 \\\\ 0  -2 \\end{pmatrix} = \\begin{pmatrix} \\frac{1}{4}  0 \\\\ 0  \\frac{4}{16} \\end{pmatrix} = \\begin{pmatrix} \\frac{1}{4}  0 \\\\ 0  \\frac{1}{4} \\end{pmatrix} = \\frac{1}{4}I$。\n所以，$\\|PBKe\\|^2 = e^{\\top}(\\frac{1}{4}I)e = \\frac{1}{4}\\|e\\|^2$。\n将此代回关于 $\\dot{W}(x)$ 的不等式中：\n$\\dot{W}(x) \\le -\\|x\\|^2 + (\\gamma \\|x\\|^2 + \\frac{1}{\\gamma} \\frac{1}{4}\\|e\\|^2) = (\\gamma-1)\\|x\\|^2 + \\frac{1}{4\\gamma}\\|e\\|^2$。\n\n现在，我们使用事件间约束 $\\|e(t)\\|^2 \\le c\\|x(t)\\|^2$：\n$\\dot{W}(x) \\le (\\gamma-1)\\|x\\|^2 + \\frac{1}{4\\gamma}(c\\|x\\|^2) = \\left(\\gamma-1+\\frac{c}{4\\gamma}\\right)\\|x\\|^2$。\n\n我们要求对于某个 $\\lambda>0$，有 $\\dot{W}(x) \\le -\\lambda W(x)$。\n这意味着我们需要 $\\left(\\gamma-1+\\frac{c}{4\\gamma}\\right)\\|x\\|^2 \\le -\\lambda x^{\\top}Px$。\n这个不等式必须对所有 $x \\ne 0$ 成立。这等价于矩阵不等式：\n$\\left(\\gamma-1+\\frac{c}{4\\gamma}\\right)I \\preceq -\\lambda P$。\n这可以重写为 $\\left(\\gamma-1+\\frac{c}{4\\gamma}\\right)I + \\lambda P \\preceq 0$。\n矩阵 $P$ 是正定的，且 $\\lambda$ 必须为正。这意味着标量项 $\\left(\\gamma-1+\\frac{c}{4\\gamma}\\right)$ 必须严格为负。\n令 $S = -\\left(\\gamma-1+\\frac{c}{4\\gamma}\\right)$。我们需要 $S>0$。\n条件变为 $-SI + \\lambda P \\preceq 0$，这等价于 $\\lambda P \\preceq SI$。\n$\\lambda P$ 的特征值为 $\\lambda \\lambda_i(P)$，$SI$ 的特征值为 $S$。矩阵不等式成立当且仅当 $\\lambda \\lambda_{\\max}(P) \\le S$。\n由于 $S>0$ 且 $\\lambda_{\\max}(P)>0$，我们总能找到一个满足此条件的 $\\lambda>0$，例如 $\\lambda = S/\\lambda_{\\max}(P)$。\n因此，当且仅当我们能找到一个 $\\gamma>0$ 使得 $\\gamma-1+\\frac{c}{4\\gamma}  0$ 时，才能保证存在这样的 $\\lambda>0$。\n\n对于一个给定的 $c>0$，我们必须检查是否存在一个 $\\gamma>0$ 满足这个严格不等式。如果函数 $f(\\gamma) = \\gamma-1+\\frac{c}{4\\gamma}$ 在 $\\gamma>0$ 上的最小值严格为负，则该条件成立。\n为了找到最小值，我们计算关于 $\\gamma$ 的导数：\n$f'(\\gamma) = \\frac{d}{d\\gamma}\\left(\\gamma-1+\\frac{c}{4\\gamma}\\right) = 1-\\frac{c}{4\\gamma^2}$。\n令导数为零：$1-\\frac{c}{4\\gamma^2}=0 \\implies 4\\gamma^2=c \\implies \\gamma = \\frac{\\sqrt{c}}{2}$ (因为 $\\gamma>0$）。\n二阶导数为 $f''(\\gamma) = \\frac{c}{2\\gamma^3} > 0$ 对于 $c>0, \\gamma>0$，这证实了这是一个最小值。\n$f(\\gamma)$ 的最小值为：\n$f\\left(\\frac{\\sqrt{c}}{2}\\right) = \\frac{\\sqrt{c}}{2}-1+\\frac{c}{4(\\frac{\\sqrt{c}}{2})} = \\frac{\\sqrt{c}}{2}-1+\\frac{c}{2\\sqrt{c}} = \\frac{\\sqrt{c}}{2}-1+\\frac{\\sqrt{c}}{2} = \\sqrt{c}-1$。\n为了满足该条件，这个最小值必须严格小于 $0$：\n$\\sqrt{c}-1  0 \\implies \\sqrt{c}  1$。\n由于 $c=\\alpha/\\beta>0$，我们有 $0  c  1$。\n$c$ 的所有允许值的集合是区间 $(0, 1)$。问题要求允许的阈值的上确界 $c_{\\max}$。\n$c_{\\max} = \\sup\\{c \\in \\mathbb{R} \\mid 0  c  1\\}$。\n开区间 $(0,1)$ 的上确界是 $1$。\n\n最终答案是 $c_{\\max}$ 的值。", "answer": "$$\\boxed{1}$$", "id": "2705408"}, {"introduction": "从分析到综合，本练习将挑战您进入控制器设计的更高层次。您需要构建一个协同设计问题 [@problem_id:2705451]，即同时优化控制器增益和触发参数，以在保证稳定性的前提下最大程度地减少通信。此练习将引导您运用线性矩阵不等式（LMI）和 S-procedure 等现代控制理论中的强大工具，解决复杂的控制综合问题。", "problem": "考虑一个线性时不变系统 $\\dot x(t) = A x(t) + B u(t)$，其状态为 $x(t) \\in \\mathbb{R}^n$，输入为 $u(t) \\in \\mathbb{R}^m$，其中 $A \\in \\mathbb{R}^{n \\times n}$ 和 $B \\in \\mathbb{R}^{n \\times m}$ 是给定的。一个静态状态反馈控制器 $u(t) = K x(t_k)$ 通过零阶保持器 (ZOH) 实现，其中 $\\{t_k\\}_{k \\in \\mathbb{N}}$ 是由事件触发规则确定的事件时刻，$K \\in \\mathbb{R}^{m \\times n}$ 是一个待设计的常数增益。在每个事件间隔 $t \\in [t_k, t_{k+1})$ 上，定义测量误差为 $e(t) \\coloneqq x(t_k) - x(t)$。在事件之间，闭环动力学为 $\\dot x(t) = (A + B K) x(t) + B K e(t)$。\n\n设 $V(x) \\coloneqq x^\\top P x$ 是一个二次李雅普诺夫函数，其中 $P \\in \\mathbb{S}_{++}^n$ 待设计，并固定一个期望的指数衰减率 $\\eta > 0$。考虑由以下二次条件定义的事件触发规则\n$$\ne(t)^\\top P\\, e(t) \\le \\sigma\\, x(t)^\\top P\\, x(t) \\quad \\text{对于所有 } t \\in [t_k, t_{k+1}),\n$$\n其中触发参数 $\\sigma \\ge 0$ 待设计。该规则在上述不等式首次被违反时触发一个新事件。\n\n要求您协同设计 $K$ 和 $\\sigma$，以最小化平均事件率的一个保守上界，同时保证在每个事件间隔上，李雅普诺夫衰减约束 $\\dot V(x(t)) \\le - \\eta V(x(t))$ 都成立。在这类二次比率触发器中，通常较大的 $\\sigma$ 会导致更长的事件间隔，从而使得平均事件率的上界更小；因此，可以通过在指数衰减约束下最大化 $\\sigma$ 来追求最小化该上界。\n\n仅从上述定义、闭环动力学以及要求 $\\dot V \\le -\\eta V$ 对所有满足触发条件的 $x$ 和 $e$ 在事件之间都强制成立出发，以下哪种优化表述正确地指定了优化变量和充分的矩阵不等式约束，这些约束使用 S-procedure（带一个标量乘子）和给定的触发条件来强制满足要求？\n\nA. 变量：$P \\in \\mathbb{S}_{++}^n$，$K \\in \\mathbb{R}^{m \\times n}$，$\\sigma \\in \\mathbb{R}_{\\ge 0}$，$\\tau \\in \\mathbb{R}_{\\ge 0}$。目标：最大化 $\\sigma$。约束：\n$$\n\\begin{bmatrix}\nA^\\top P + P A + K^\\top B^\\top P + P B K + \\eta P + \\tau \\sigma P  P B K \\\\\nK^\\top B^\\top P  - \\tau P\n\\end{bmatrix} \\preceq 0.\n$$\n\nB. 变量：$P \\in \\mathbb{S}_{++}^n$，$K \\in \\mathbb{R}^{m \\times n}$，$\\sigma \\in \\mathbb{R}_{\\ge 0}$，$\\tau \\in \\mathbb{R}_{\\ge 0}$。目标：最小化 $\\sigma$。约束：\n$$\n\\begin{bmatrix}\nA^\\top P + P A + K^\\top B^\\top P + P B K + \\eta P - \\tau \\sigma P  P B K \\\\\nK^\\top B^\\top P  \\tau P\n\\end{bmatrix} \\preceq 0.\n$$\n\nC. 变量：$X \\in \\mathbb{S}_{++}^n$，$Z \\in \\mathbb{R}^{m \\times n}$，$\\sigma \\in \\mathbb{R}_{\\ge 0}$。目标：最大化 $\\sigma$。约束：\n$$\n(A X + B Z) + (A X + B Z)^\\top + \\eta X \\preceq 0.\n$$\n没有施加额外的耦合 $e$ 和 $x$ 的约束。\n\nD. 变量：$P \\in \\mathbb{S}_{++}^n$，$K \\in \\mathbb{R}^{m \\times n}$，$\\sigma \\in \\mathbb{R}_{\\ge 0}$，$\\tau \\in \\mathbb{R}_{\\ge 0}$。目标：最大化 $\\sigma$。约束：\n$$\n\\begin{bmatrix}\nA^\\top P + P A + K^\\top B^\\top P + P B K + \\eta P - \\tau \\sigma P  P B K \\\\\nK^\\top B^\\top P  - \\tau P\n\\end{bmatrix} \\preceq 0.\n$$\n\n选择正确的选项。你的选择应基于一个有原则的推导，该推导从对所有满足触发不等式的 $x$ 和 $e$ 均成立的 $\\dot V(x) \\le -\\eta V(x)$ 开始，并使用 S-procedure 得到一个关于堆叠向量 $(x,e)$ 的、仅涉及已声明决策变量的充分线性矩阵不等式。解释你的推理过程。", "solution": "任务是为状态反馈增益 $K$ 和事件触发参数 $\\sigma$ 的协同设计找到正确的优化表述，以保证闭环系统的指数稳定性。稳定性条件必须在任何事件间隔 $[t_k, t_{k+1})$ 上成立。\n\n推导过程如下：\n首先，我们根据李雅普诺夫函数 $V(x) = x^\\top P x$ 建立指数稳定性的条件。系统必须满足 $\\dot{V}(x(t)) \\le -\\eta V(x(t))$，其中 $\\eta > 0$ 是给定的衰减率。\n\n李雅普诺夫函数 $V(x) = x^\\top P x$ 沿着闭环系统 $\\dot x(t) = (A + B K) x(t) + B K e(t)$ 轨迹的时间导数为：\n$$\n\\dot{V}(x) = \\dot{x}^\\top P x + x^\\top P \\dot{x}\n$$\n代入 $\\dot{x}(t)$ 的表达式：\n$$\n\\dot{V}(x) = \\left( (A+BK)x + BKe \\right)^\\top P x + x^\\top P \\left( (A+BK)x + BKe \\right)\n$$\n$$\n\\dot{V}(x) = x^\\top(A+BK)^\\top P x + e^\\top K^\\top B^\\top P x + x^\\top P (A+BK)x + x^\\top P BKe\n$$\n注意到 $e^\\top K^\\top B^\\top P x$ 是一个标量，等于其转置 $x^\\top P B K e$，我们可以合并交叉项：\n$$\n\\dot{V}(x) = x^\\top \\left( (A+BK)^\\top P + P(A+BK) \\right) x + 2 x^\\top P B K e\n$$\n指数稳定性要求 $\\dot{V} \\le -\\eta V$ 转化为：\n$$\nx^\\top \\left( (A+BK)^\\top P + P(A+BK) \\right) x + 2 x^\\top P B K e \\le -\\eta x^\\top P x\n$$\n整理各项，我们得到一个必须满足的二次不等式：\n$$\nx^\\top \\left( (A+BK)^\\top P + P(A+BK) + \\eta P \\right) x + 2 x^\\top P B K e \\le 0\n$$\n这个不等式必须对所有满足事件触发条件的状态 $x(t)$ 和误差 $e(t)$ 成立。事件触发规则规定，在事件之间，满足以下不等式：\n$$\ne(t)^\\top P\\, e(t) \\le \\sigma\\, x(t)^\\top P\\, x(t)\n$$\n可以重写为：\n$$\n\\sigma\\, x(t)^\\top P\\, x(t) - e(t)^\\top P\\, e(t) \\ge 0\n$$\n现在，我们必须使用 S-procedure 将这个条件稳定性问题转化为一个无条件的矩阵不等式。S-procedure 是凸优化中的一个强大工具。对于两个二次型 $Q_0(z)$ 和 $Q_1(z)$，如果存在一个标量 $\\tau \\ge 0$ 使得对所有 $z$ 都有 $Q_0(z) - \\tau Q_1(z) \\ge 0$，则蕴含关系 $[Q_1(z) \\ge 0 \\implies Q_0(z) \\ge 0]$ 成立。\n\n让我们在堆叠向量 $z = \\begin{bmatrix} x \\\\ e \\end{bmatrix}$ 中定义我们的二次型。\n前提是触发条件：\n$$\nQ_1(z) \\coloneqq \\sigma\\, x^\\top P\\, x - e^\\top P\\, e \\ge 0\n$$\n期望的结果是稳定性条件，我们必须将其写成 $F_0(z) \\le 0$ 的形式：\n$$\nF_0(z) \\coloneqq x^\\top \\left( (A+BK)^\\top P + P(A+BK) + \\eta P \\right) x + 2 x^\\top P B K e \\le 0\n$$\n蕴含关系为 $[Q_1(z) \\ge 0 \\implies F_0(z) \\le 0]$。这等价于 $[Q_1(z) \\ge 0 \\implies -F_0(z) \\ge 0]$。\n根据 S-procedure，如果存在一个标量 $\\tau \\ge 0$ 使得矩阵不等式 $-F_0(z) - \\tau Q_1(z) \\ge 0$ 对所有 $z$ 成立，那么该蕴含关系就成立。这等价于 $F_0(z) + \\tau Q_1(z) \\le 0$ 对所有 $z$ 成立。\n\n我们可以用矩阵表示 $F_0(z) + \\tau Q_1(z) \\le 0$。对于 $z = \\begin{bmatrix} x \\\\ e \\end{bmatrix}$：\n$F_0(z)$ 对应于矩阵 $\\begin{pmatrix} (A+BK)^\\top P + P(A+BK) + \\eta P  PBK \\\\ K^\\top B^\\top P  0 \\end{pmatrix}$。\n$Q_1(z)$ 对应于矩阵 $\\begin{pmatrix} \\sigma P  0 \\\\ 0  -P \\end{pmatrix}$。\n\n条件 $F_0(z) + \\tau Q_1(z) \\le 0$ 变为：\n$$\n\\begin{pmatrix} (A+BK)^\\top P + P(A+BK) + \\eta P  PBK \\\\ K^\\top B^\\top P  0 \\end{pmatrix} + \\tau \\begin{pmatrix} \\sigma P  0 \\\\ 0  -P \\end{pmatrix} \\preceq 0\n$$\n$$\n\\begin{pmatrix} (A+BK)^\\top P + P(A+BK) + \\eta P + \\tau\\sigma P  PBK \\\\ K^\\top B^\\top P  -\\tau P \\end{pmatrix} \\preceq 0\n$$\n展开 $(A+BK)$ 项得到最终的矩阵不等式：\n$$\n\\begin{bmatrix} A^\\top P + P A + K^\\top B^\\top P + P B K + \\eta P + \\tau\\sigma P  P B K \\\\ K^\\top B^\\top P  -\\tau P \\end{bmatrix} \\preceq 0\n$$\n问题的目标是最大化 $\\sigma$，因为这会导致更少的触发和更低的平均事件率。优化变量是矩阵 $P \\in \\mathbb{S}_{++}^n$、增益矩阵 $K \\in \\mathbb{R}^{m \\times n}$、触发参数 $\\sigma \\in \\mathbb{R}_{\\ge 0}$，以及 S-procedure 乘子 $\\tau \\in \\mathbb{R}_{\\ge 0}$。\n\n现在我们评估给出的选项。\n\n**选项 A:**\n变量：$P \\in \\mathbb{S}_{++}^n$，$K \\in \\mathbb{R}^{m \\times n}$，$\\sigma \\in \\mathbb{R}_{\\ge 0}$，$\\tau \\in \\mathbb{R}_{\\ge 0}$。\n目标：最大化 $\\sigma$。\n约束：\n$$\n\\begin{bmatrix}\nA^\\top P + P A + K^\\top B^\\top P + P B K + \\eta P + \\tau \\sigma P  P B K \\\\\nK^\\top B^\\top P  - \\tau P\n\\end{bmatrix} \\preceq 0.\n$$\n这个表述在所有方面都与我们推导出的优化问题完全匹配：变量、目标和矩阵不等式约束。\n**结论：正确。**\n\n**选项 B:**\n变量：$P \\in \\mathbb{S}_{++}^n$，$K \\in \\mathbb{R}^{m \\times n}$，$\\sigma \\in \\mathbb{R}_{\\ge 0}$，$\\tau \\in \\mathbb{R}_{\\ge 0}$。\n目标：最小化 $\\sigma$。\n约束：\n$$\n\\begin{bmatrix}\nA^\\top P + P A + K^\\top B^\\top P + P B K + \\eta P - \\tau \\sigma P  P B K \\\\\nK^\\top B^\\top P  \\tau P\n\\end{bmatrix} \\preceq 0.\n$$\n目标“最小化” $\\sigma$ 与问题陈述中为减少事件率而最大化 $\\sigma$ 的目标相矛盾。此外，矩阵不等式与我们正确的推导不同；具体来说，$\\tau\\sigma P$ 项和 $\\tau P$ 项的符号都是错误的。这个表述源于对 S-procedure 的不正确应用或陈述。\n**结论：不正确。**\n\n**选项 C:**\n变量：$X \\in \\mathbb{S}_{++}^n$，$Z \\in \\mathbb{R}^{m \\times n}$，$\\sigma \\in \\mathbb{R}_{\\ge 0}$。\n目标：最大化 $\\sigma$。\n约束：\n$$\n(A X + B Z) + (A X + B Z)^\\top + \\eta X \\preceq 0.\n$$\n这是一个为标称系统 $\\dot{x}=(A+BK)x$ 设计稳定连续时间控制器 $K$ 的标准 LMI（使用变量替换 $X=P^{-1}, Z=KX$）。它完全忽略了事件触发机制、误差项 $e(t)$、触发条件以及 S-procedure 乘子 $\\tau$。因此，它不足以保证事件触发系统的稳定性。\n**结论：不正确。**\n\n**选项 D:**\n变量：$P \\in \\mathbb{S}_{++}^n$，$K \\in \\mathbb{R}^{m \\times n}$，$\\sigma \\in \\mathbb{R}_{\\ge 0}$，$\\tau \\in \\mathbb{R}_{\\ge 0}$。\n目标：最大化 $\\sigma$。\n约束：\n$$\n\\begin{bmatrix}\nA^\\top P + P A + K^\\top B^\\top P + P B K + \\eta P - \\tau \\sigma P  P B K \\\\\nK^\\top B^\\top P  - \\tau P\n\\end{bmatrix} \\preceq 0.\n$$\n这个表述有正确的目标和变量。然而，矩阵不等式是错误的。$(1,1)$ 块包含 $-\\tau\\sigma P$ 而不是 $+\\tau\\sigma P$。这将源于对 S-procedure 的不同且不正确的应用。\n**结论：不正确。**\n\n基于从第一性原理和 S-procedure 引理的严格推导，只有选项 A 提供了正确的表述。", "answer": "$$\\boxed{A}$$", "id": "2705451"}]}