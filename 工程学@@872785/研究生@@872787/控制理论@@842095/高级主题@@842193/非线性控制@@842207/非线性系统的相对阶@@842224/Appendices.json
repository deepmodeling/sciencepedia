{"hands_on_practices": [{"introduction": "为了掌握相对阶的核心概念，我们从一个控制理论中最基础的系统——双积分器系统——开始。这个练习将指导你使用李导数这一基本工具，一步步计算出系统的相对阶。通过这个过程，你不仅能熟练掌握计算方法，还能深入理解相对阶这一数值如何揭示系统内部结构的关键信息，特别是它与零动态之间深刻的联系[@problem_id:2739636]。", "problem": "考虑一个状态为 $x \\in \\mathbb{R}^{2}$、输入为 $u \\in \\mathbb{R}$、输出为 $y \\in \\mathbb{R}$ 的单输入单输出二维控制仿射非线性系统，其形式如下\n$$\n\\dot{x}_{1} = x_{2}, \\qquad \\dot{x}_{2} = u, \\qquad y = x_{1}.\n$$\n请仅使用非线性系统理论的基本定义，确定系统在任意状态 $x \\in \\mathbb{R}^{2}$ 下的相对阶，并解释该值对于输出必须沿着系统轨迹微分多少次输入才会显式出现，以及是否存在内部动态或零动态意味着什么。你的推理必须从第一性原理出发（即状态空间动态、沿轨迹的输出微分以及李导数的概念），不得援引任何针对此典型示例的现成结果。\n\n请以单个整数形式给出相对阶。最终答案无需四舍五入，也无需单位。", "solution": "本题要求确定一个给定的单输入单输出（SISO）非线性系统的相对阶，并解释该值的物理意义。首先，我们将验证问题陈述的有效性。\n\n已知条件如下：\n一个控制仿射系统，其状态为 $x = (x_1, x_2)^T \\in \\mathbb{R}^{2}$，输入为 $u \\in \\mathbb{R}$，输出为 $y \\in \\mathbb{R}$。\n状态动态方程为：\n$$\n\\dot{x}_{1} = x_{2}\n$$\n$$\n\\dot{x}_{2} = u\n$$\n输出方程为：\n$$\ny = x_{1}\n$$\n问题要求从第一性原理出发，使用包括李导数在内的基本定义来确定相对阶，并解释其对输入出现和零动态的影响。\n\n该问题陈述具有科学依据、提法恰当且客观。它描述了一个典型的双积分器系统，这是控制理论中的一个基本模型。所有定义和方程都是标准且一致的。要求从第一性原理求解是一个有效的教学约束。因此，该问题是有效的，我们可以继续进行求解。\n\n该系统可以写成标准控制仿射形式 $\\dot{x} = f(x) + g(x)u$，输出为 $y = h(x)$。\n通过检视给定方程，我们可以确定以下组成部分：\n状态向量为 $x = \\begin{pmatrix} x_1 \\\\ x_2 \\end{pmatrix}$。\n漂移向量场为 $f(x) = \\begin{pmatrix} x_2 \\\\ 0 \\end{pmatrix}$。\n控制向量场为 $g(x) = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}$。\n输出函数为 $h(x) = x_1$。\n\n相对阶（记作 $r$）定义为：当对输出 $y$ 连续对时间求导时，使得输入 $u$ 出现的最小正整数。形式上，它是满足 $L_g L_f^{r-1} h(x) \\neq 0$ 对感兴趣区域内所有 $x$ 成立的最小整数 $r$，其中 $L_f h(x)$ 是标量场 $h$ 沿着向量场 $f$ 的李导数。\n\n一个标量函数 $\\phi(x)$ 沿着一个向量场 $v(x)$ 的李导数由 $L_v \\phi(x) = \\frac{\\partial \\phi}{\\partial x} v(x)$ 给出。\n\n现在我们将输出 $y$ 沿着系统轨迹对时间求导：\n$$\n\\dot{y} = \\frac{d}{dt} h(x(t)) = \\frac{\\partial h}{\\partial x} \\dot{x} = \\frac{\\partial h}{\\partial x} (f(x) + g(x)u) = L_f h(x) + L_g h(x) u\n$$\n让我们计算 $L_f h(x)$ 和 $L_g h(x)$ 这两项。\n$h(x)$ 的雅可比矩阵是 $\\frac{\\partial h}{\\partial x} = \\begin{pmatrix} 1  0 \\end{pmatrix}$。\n\n我们首先检查乘以输入 $u$ 的项，即 $L_g h(x)$：\n$$\nL_g h(x) = \\frac{\\partial h}{\\partial x} g(x) = \\begin{pmatrix} 1  0 \\end{pmatrix} \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix} = 1 \\cdot 0 + 0 \\cdot 1 = 0\n$$\n由于 $L_g h(x) = 0$，输入 $u$ 没有出现在输出的一阶导数中。相对阶必定大于1。一阶导数为：\n$$\n\\dot{y} = L_f h(x) = \\frac{\\partial h}{\\partial x} f(x) = \\begin{pmatrix} 1  0 \\end{pmatrix} \\begin{pmatrix} x_2 \\\\ 0 \\end{pmatrix} = 1 \\cdot x_2 + 0 \\cdot 0 = x_2\n$$\n\n我们现在必须对输出进行二阶求导：\n$$\n\\ddot{y} = \\frac{d}{dt} (\\dot{y}) = \\frac{d}{dt} (L_f h(x))\n$$\n由于 $\\dot{y}$ 是状态的函数，我们再次应用链式法则：\n$$\n\\ddot{y} = \\frac{\\partial (L_f h(x))}{\\partial x} \\dot{x} = \\frac{\\partial (L_f h(x))}{\\partial x} (f(x) + g(x)u) = L_f(L_f h(x)) + L_g(L_f h(x)) u\n$$\n该表达式通常写为 $\\ddot{y} = L_f^2 h(x) + L_g L_f h(x) u$。\n\n为了确定输入 $u$ 是否出现，我们必须计算 $L_g L_f h(x)$ 项。我们已经求得 $L_f h(x) = x_2$。让我们定义一个新的标量函数 $\\phi(x) = L_f h(x) = x_2$。这个新函数的雅可比矩阵是 $\\frac{\\partial \\phi}{\\partial x} = \\begin{pmatrix} 0  1 \\end{pmatrix}$。\n现在我们计算它沿着 $g(x)$ 的李导数：\n$$\nL_g L_f h(x) = L_g \\phi(x) = \\frac{\\partial \\phi}{\\partial x} g(x) = \\begin{pmatrix} 0  1 \\end{pmatrix} \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix} = 0 \\cdot 0 + 1 \\cdot 1 = 1\n$$\n由于 $L_g L_f h(x) = 1$，对于任何状态 $x \\in \\mathbb{R}^2$ 均不为零，因此输入 $u$ 显式地出现在输出的二阶时间导数中。出现这种情况的最小整数是 $r=2$。因此，该系统在整个状态空间中的相对阶为2。\n\n输出的二阶导数表达式为：\n$$\n\\ddot{y} = L_f^2 h(x) + L_g L_f h(x) u = L_f(x_2) + 1 \\cdot u\n$$\n为了完成计算，$L_f(x_2) = \\frac{\\partial(x_2)}{\\partial x} f(x) = \\begin{pmatrix} 0  1 \\end{pmatrix} \\begin{pmatrix} x_2 \\\\ 0 \\end{pmatrix} = 0$。\n因此，我们得到 $\\ddot{y} = u$，这与初始状态方程是一致的，因为 $\\ddot{y} = \\frac{d}{dt}(\\dot{y}) = \\frac{d}{dt}(x_2) = \\dot{x}_2 = u$。\n\n相对阶 $r=2$ 的含义：\n1. $r=2$ 这个值意味着，在控制输入 $u$ 施加显式的、瞬时的影响之前，输出 $y$ 必须沿着系统轨迹精确地微分两次。从输出的角度看，输入的影响被两个积分器“延迟”了。\n2. 相对阶 $r=2$ 等于状态空间的维度 $n=2$。当 $r = n$ 时，称系统没有零动态，或者说其零动态是平凡的。零动态代表当输出被约束为对所有时间恒为零（即 $y(t) \\equiv 0$）时系统的内部行为。对于本系统，$y(t) = x_1(t) \\equiv 0$。对其求导，我们得到 $\\dot{y}(t) = \\dot{x}_1(t) = x_2(t) \\equiv 0$。因此，将输出约束为零会迫使整个状态向量 $x$ 成为零向量。在此约束下剩余的动态仅为 $\\dot{x}=0$，这是平凡的。非平凡零动态的缺失意味着该系统可以通过状态反馈和坐标变换完全线性化，并且在控制输出时不存在隐藏的或不可观测的内部状态演化。\n\n相对阶为 $2$。", "answer": "$$\\boxed{2}$$", "id": "2739636"}, {"introduction": "与线性系统不同，非线性系统的一个显著特征是其属性可能随状态而变化，相对阶也不例外。这个练习通过一个精心设计的非线性输出函数，生动地展示了相对阶的状态依赖性。你将发现在状态空间的不同区域，系统的相对阶可能会从 $2$ 变为 $3$，甚至在特定点（如原点）变得无定义，从而深刻体会到非线性系统的复杂性和丰富性[@problem_id:2739602]。", "problem": "考虑一个单输入单输出 (SISO) 控制仿射非线性系统，其状态为 $x=\\begin{bmatrix}x_{1}  x_{2}\\end{bmatrix}^{\\top}\\in\\mathbb{R}^{2}$，输入为 $u\\in\\mathbb{R}$，输出为 $y\\in\\mathbb{R}$，由下式给出\n$$\n\\dot{x}\n=\n\\begin{bmatrix}\nx_{2}\\\\\n-x_{1}\n\\end{bmatrix}\n+\n\\begin{bmatrix}\n0\\\\\n1\n\\end{bmatrix}u,\n\\qquad\ny = x_{1}^{2}.\n$$\n仅使用控制仿射非线性系统相对阶的形式化定义（即根据输出的逐次时间导数以及首次出现对输入 $u$ 的显式依赖），确定在一个满足 $x_{1,0}\\neq 0$ 的一般点 $x_{0}$ 处的相对阶 $r$，以及在一个满足 $x_{1,0}=0$ 但 $x_{2,0}\\neq 0$ 的一般点处的相对阶 $r$。从第一性原理出发，解释为什么这些值不同，并讨论在平衡点 $x_{0}=(0,0)$ 处，关于是否存在一个良定义的相对阶会发生什么。你的推导必须从给定的动力学和输出开始，通过计算所需的导数并在指定点评估它们对 $u$ 的依赖性来进行，并使用相对阶的核心定义来证明每一步的合理性。\n\n对于最终的数值答案，请将这对值 $\\big(r\\text{ at }x_{1,0}\\neq 0,\\; r\\text{ at }x_{1,0}=0,\\;x_{2,0}\\neq 0\\big)$ 报告为一个 $1\\times 2$ 的行向量，不进行四舍五入，也不带单位。", "solution": "该问题要求分析给定单输入单输出 (SISO) 控制仿射非线性系统的相对阶。对问题陈述的验证发现其具有科学依据、良定义且客观。这是非线性控制理论中的一个标准问题，包含了唯一解所需的所有信息。因此，我们开始推导。\n\n该系统由状态方程和输出方程定义：\n$$\n\\dot{x} = f(x) + g(x)u\n$$\n$$\ny = h(x)\n$$\n其中状态为 $x = \\begin{bmatrix} x_1  x_2 \\end{bmatrix}^{\\top}$，输入为 $u \\in \\mathbb{R}$，输出为 $y \\in \\mathbb{R}$。根据问题陈述，我们确定以下组成部分：\n$$\nf(x) = \\begin{bmatrix} x_2 \\\\ -x_1 \\end{bmatrix}, \\quad g(x) = \\begin{bmatrix} 0 \\\\ 1 \\end{bmatrix}, \\quad h(x) = x_1^2\n$$\n\n在一个点 $x_0$ 的相对阶 $r$ 定义为使得时间导数 $y^{(r)}$ 首次显式包含输入 $u$ 的最小整数 $r \\ge 1$。这等价于寻找最小的整数 $r$，使得 Lie 导数 $L_g L_f^{r-1} h(x)$ 在 $x_0$ 点不为零，且在 $x_0$ 的一个邻域内对所有 $k  r-1$ 都有 $L_g L_f^{k} h(x) = 0$。\n\n我们通过计算输出 $y$ 的逐次时间导数来进行。\n\n步骤 1：计算一阶时间导数 $\\dot{y}$。\n使用链式法则和 Lie 导数记法，一阶导数为：\n$$\n\\dot{y} = \\frac{dh}{dx}\\dot{x} = \\nabla h(x) \\cdot (f(x) + g(x)u) = L_f h(x) + L_g h(x) u\n$$\n首先，我们计算 $h(x)$ 的梯度：\n$$\n\\nabla h(x) = \\begin{bmatrix} \\frac{\\partial (x_1^2)}{\\partial x_1}  \\frac{\\partial (x_1^2)}{\\partial x_2} \\end{bmatrix} = \\begin{bmatrix} 2x_1  0 \\end{bmatrix}\n$$\n现在，我们计算 $h$ 关于 $g$ 的 Lie 导数：\n$$\nL_g h(x) = \\nabla h(x) \\cdot g(x) = \\begin{bmatrix} 2x_1  0 \\end{bmatrix} \\begin{bmatrix} 0 \\\\ 1 \\end{bmatrix} = 0\n$$\n由于对所有 $x$ 都有 $L_g h(x) = 0$，输入 $u$ 不出现在输出的一阶导数中。这意味着相对阶 $r$ 必须大于 $1$。$\\dot{y}$ 的表达式简化为：\n$$\n\\dot{y} = L_f h(x) = \\nabla h(x) \\cdot f(x) = \\begin{bmatrix} 2x_1  0 \\end{bmatrix} \\begin{bmatrix} x_2 \\\\ -x_1 \\end{bmatrix} = 2x_1 x_2\n$$\n\n步骤 2：计算二阶时间导数 $\\ddot{y}$。\n我们对 $\\dot{y} = L_f h(x)$ 求时间导数：\n$$\n\\ddot{y} = \\frac{d}{dt} (L_f h(x)) = \\nabla(L_f h(x)) \\cdot \\dot{x} = \\nabla(L_f h(x)) \\cdot (f(x) + g(x)u) = L_f^2 h(x) + L_g L_f h(x) u\n$$\n我们需要计算 $u$ 的系数，即 $L_g L_f h(x)$。首先，我们求 $L_f h(x) = 2x_1 x_2$ 的梯度：\n$$\n\\nabla(L_f h(x)) = \\nabla(2x_1 x_2) = \\begin{bmatrix} \\frac{\\partial (2x_1 x_2)}{\\partial x_1}  \\frac{\\partial (2x_1 x_2)}{\\partial x_2} \\end{bmatrix} = \\begin{bmatrix} 2x_2  2x_1 \\end{bmatrix}\n$$\n现在，我们计算 Lie 导数：\n$$\nL_g L_f h(x) = \\nabla(L_f h(x)) \\cdot g(x) = \\begin{bmatrix} 2x_2  2x_1 \\end{bmatrix} \\begin{bmatrix} 0 \\\\ 1 \\end{bmatrix} = 2x_1\n$$\n输出的二阶导数是 $\\ddot{y} = L_f^2 h(x) + 2x_1 u$。输入 $u$ 是否出现取决于系数 $2x_1$ 的值。这是分析必须分支的地方。\n\n情况 1：在 $x_{1,0} \\neq 0$ 的一般点 $x_0$ 处确定相对阶。\n在这样的点 $x_0$ 处，$\\ddot{y}$ 中 $u$ 的系数为 $L_g L_f h(x_0) = 2x_{1,0}$。由于 $x_{1,0} \\neq 0$，该系数非零。\n我们已经发现：\n1.  对于 $k=1$，有 $L_g L_f^{1-1} h(x) = L_g h(x) = 0$。\n2.  对于 $r=2$，有 $L_g L_f^{2-1} h(x_0) = L_g L_f h(x_0) = 2x_{1,0} \\neq 0$。\n根据定义，相对阶是使系数不为零的第一个整数 $r$。因此，在任何 $x_{1,0} \\neq 0$ 的点 $x_0$ 处，相对阶为 $r=2$。\n\n情况 2：在 $x_{1,0}=0$ 且 $x_{2,0} \\neq 0$ 的一般点 $x_0$ 处确定相对阶。\n在这样的点 $x_0$ 处，$\\ddot{y}$ 中 $u$ 的系数为 $L_g L_f h(x_0) = 2x_{1,0} = 2(0) = 0$。\n由于该系数为零，当在这一特定的点集上求值时，输入 $u$ 不出现在 $\\ddot{y}$ 的表达式中。这意味着相对阶大于 $2$。我们必须计算三阶导数。\n\n步骤 3：为 $L_g L_f h(x) = 0$ 的点计算三阶时间导数 $y^{(3)}$。\n当 $L_g L_f h(x) = 0$（即在 $x_1=0$ 处），二阶导数简化为 $\\ddot{y} = L_f^2 h(x)$。对此求时间导数得到：\n$$\ny^{(3)} = \\frac{d}{dt} (L_f^2 h(x)) = \\nabla(L_f^2 h(x)) \\cdot \\dot{x} = L_f^3 h(x) + L_g L_f^2 h(x) u\n$$\n我们需要计算 $u$ 的系数，即 $L_g L_f^2 h(x)$。我们首先需要 $L_f^2 h(x)$：\n$$\nL_f^2 h(x) = \\nabla(L_f h(x)) \\cdot f(x) = \\begin{bmatrix} 2x_2  2x_1 \\end{bmatrix} \\begin{bmatrix} x_2 \\\\ -x_1 \\end{bmatrix} = 2x_2^2 - 2x_1^2\n$$\n接下来，我们求 $L_f^2 h(x)$ 的梯度：\n$$\n\\nabla(L_f^2 h(x)) = \\nabla(2x_2^2 - 2x_1^2) = \\begin{bmatrix} -4x_1  4x_2 \\end{bmatrix}\n$$\n现在，我们计算关键的 Lie 导数：\n$$\nL_g L_f^2 h(x) = \\nabla(L_f^2 h(x)) \\cdot g(x) = \\begin{bmatrix} -4x_1  4x_2 \\end{bmatrix} \\begin{bmatrix} 0 \\\\ 1 \\end{bmatrix} = 4x_2\n$$\n我们在指定的点 $x_0$（其中 $x_{1,0} = 0$ 且 $x_{2,0} \\neq 0$）处评估此系数：\n$$\nL_g L_f^2 h(x_0) = 4x_{2,0}\n$$\n给定条件 $x_{2,0} \\neq 0$，该系数非零。\n我们已经发现，对于满足 $x_{1,0}=0$ 和 $x_{2,0} \\neq 0$ 的点：\n1.  对于 $k=1$，有 $L_g h(x_0) = 0$。\n2.  对于 $k=2$，有 $L_g L_f h(x_0) = 2x_{1,0} = 0$。\n3.  对于 $r=3$，有 $L_g L_f^{3-1} h(x_0) = L_g L_f^2 h(x_0) = 4x_{2,0} \\neq 0$。\n因此，在任何 $x_{1,0}=0$ 且 $x_{2,0} \\neq 0$ 的点 $x_0$ 处，相对阶为 $r=3$。\n\n差异解释及在 $x_0=(0,0)$ 处的分析：\n非线性系统的相对阶不一定是全局属性；它可以是状态相关的。相对阶从 $r=2$ 变为 $r=3$ 的原因在于非线性输出函数 $y=x_1^2$。表达式 $L_g L_f h(x) = 2x_1$ 可以被解释为输入 $u$ 影响输出二阶导数的“增益”。当 $x_1 \\neq 0$ 时，此路径是开放的，控制的效果在二阶导数级别上显现 ($r=2$)。当 $x_1=0$ 时，此路径被阻塞。这样的点对于输入-输出关系是一个奇异点。在这个奇异点上，我们必须研究更高阶的导数以找到输入和输出之间的第一个连接。下一个路径由 $L_g L_f^2 h(x) = 4x_2$ 控制。如果 $x_2 \\neq 0$（而 $x_1=0$），这个新路径是开放的，控制的效果首次在三阶导数级别上显现 ($r=3$)。\n\n在无输入系统的平衡点 $x_0=(0,0)$ 处，我们有 $x_{1,0}=0$ 和 $x_{2,0}=0$。让我们在该点评估系数：\n$$\nL_g L_f h(0,0) = 2x_{1,0} = 0\n$$\n$$\nL_g L_f^2 h(0,0) = 4x_{2,0} = 0\n$$\n两个系数都为零。要检查是否存在有限的相对阶，必须继续求导。系统性的计算表明 $L_g L_f^{k-1} h(x)$ 将始终是 $x_1$ 和 $x_2$ 的线性组合。例如，$L_g L_f^3 h(x) = -8x_1$ 和 $L_g L_f^4 h(x) = -16x_2$。因此，在点 $x_0=(0,0)$ 处，对所有整数 $k \\ge 1$，我们都有 $L_g L_f^{k-1} h(0,0) = 0$。这意味着没有有限整数 $r$ 满足相对阶的定义。因此，在平衡点 $x_0=(0,0)$ 处，相对阶是未定义的，或者更常见地说，是无穷大。\n\n指定区域的最终结果是：当 $x_{1,0} \\neq 0$ 时 $r=2$；当 $x_{1,0}=0, x_{2,0} \\neq 0$ 时 $r=3$。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n2  3\n\\end{pmatrix}\n}\n$$", "id": "2739602"}, {"introduction": "这个最终的实践练习将挑战你从分析者转变为设计者。我们不再仅仅是分析一个给定系统的性质，而是要主动地去塑造它。你的任务是为给定的非线性系统设计一个新的输出函数，以实现特定的相对阶。这个练习考验的是你对相对阶定义和条件的逆向应用能力，是检验你是否真正掌握这一概念的试金石[@problem_id:2739613]。", "problem": "考虑单输入单输出控制仿射非线性系统\n$$\n\\dot{x} = f(x) + g(x)\\,u,\\quad x=\\begin{pmatrix}x_{1}\\\\x_{2}\\end{pmatrix}\\in\\mathbb{R}^{2},\\quad u\\in\\mathbb{R},\n$$\n其形式为\n$$\nf(x)=\\begin{pmatrix}x_{2}+x_{1}x_{2}\\\\ \\sin(x_{1})\\end{pmatrix},\\qquad g(x)=\\begin{pmatrix}0\\\\ 1+x_{1}^{2}\\end{pmatrix},\n$$\n且测量输出为\n$$\ny = h(x) = x_{2}.\n$$\n令关注点为 $x^{\\star}=\\begin{pmatrix}0\\\\0\\end{pmatrix}$。使用李导数的定义 $L_{f}h(x) = \\nabla h(x)\\cdot f(x)$ 和 $L_{g}h(x) = \\nabla h(x)\\cdot g(x)$，以及单输入单输出系统在点 $x^{\\star}$ 的相对阶 $r$ 的定义：满足 $L_{g}L_{f}^{r-1}h(x^{\\star})\\neq 0$ 的最小正整数 $r$，同时对于所有满足 $0\\leq k\\leq r-2$ 的整数 $k$，有 $L_{g}L_{f}^{k}h(x^{\\star})=0$。\n\n1) 仅使用这些定义，确定 $h(x)=x_{2}$ 在 $x^{\\star}$ 处的相对阶。\n\n2) 构造一个光滑标量输出函数 $\\tilde{h}:\\mathbb{R}^{2}\\to\\mathbb{R}$，将 $x^{\\star}$ 处的相对阶从 $r=1$ 增加到 $r=2$。严格验证在 $x^{\\star}$ 处证明新相对阶所需的所有李导数条件，即 $L_{g}\\tilde{h}(x^{\\star})=0$ 和 $L_{g}L_{f}\\tilde{h}(x^{\\star})\\neq 0$。陈述你在论证中使用的任何正则性条件，并在 $x^{\\star}$ 处进行检验。\n\n以 $\\tilde{h}(x)$ 的单个显式闭式解析表达式的形式给出你的最终答案。", "solution": "所述问题是有效的。在非线性控制理论的既定框架内，这是一个适定问题。系统动力学、向量场和输出函数都由光滑的解析函数明确定义。李导数和相对阶的定义是标准的。目标明确，需要直接应用和扩展这些定义。不存在科学、逻辑或结构上的缺陷。我们开始解题。\n\n问题分为两部分。首先，我们确定系统在输出为 $h(x) = x_2$ 时，在点 $x^{\\star} = \\begin{pmatrix} 0 \\\\ 0 \\end{pmatrix}$ 处的相对阶。其次，我们构造一个新的输出函数 $\\tilde{h}(x)$，使得在同一点的相对阶为 $r=2$。\n\n第1部分：确定 $h(x) = x_2$ 的相对阶。\n\n相对阶 $r$ 定义为满足 $L_{g}L_{f}^{r-1}h(x^{\\star})\\neq 0$ 的最小正整数。我们依次测试 $r=1, 2, ...$。\n\n对于 $r=1$，我们必须检查 $L_{g}L_{f}^{1-1}h(x^{\\star}) = L_{g}h(x^{\\star}) \\neq 0$ 是否成立。\n输出函数为 $h(x) = x_2$。\n$h(x)$ 的梯度是 $\\nabla h(x) = \\begin{pmatrix} \\frac{\\partial h}{\\partial x_1}  \\frac{\\partial h}{\\partial x_2} \\end{pmatrix} = \\begin{pmatrix} 0  1 \\end{pmatrix}$。\n$h(x)$ 关于向量场 $g(x)$ 的李导数是：\n$$\nL_{g}h(x) = \\nabla h(x) \\cdot g(x) = \\begin{pmatrix} 0  1 \\end{pmatrix} \\begin{pmatrix} 0 \\\\ 1+x_1^2 \\end{pmatrix} = 1+x_1^2.\n$$\n现在我们在关注点 $x^{\\star} = \\begin{pmatrix} 0 \\\\ 0 \\end{pmatrix}$ 处计算该表达式的值：\n$$\nL_{g}h(x^{\\star}) = 1 + (0)^2 = 1.\n$$\n由于 $L_{g}h(x^{\\star}) = 1 \\neq 0$，满足相对阶为 $r=1$ 的条件。由于我们是从 $r=1$ 开始检查的，所以这是最小的正整数。因此，系统在输出为 $h(x)=x_2$ 时，在 $x^{\\star}$ 处的相对阶是 $r=1$。\n\n第2部分：构造相对阶为 $r=2$ 的新输出函数 $\\tilde{h}(x)$。\n\n我们的任务是构造一个光滑标量输出函数 $\\tilde{h}(x)$，使得在 $x^{\\star}$ 处的相对阶为 $r=2$。根据定义，这需要在 $x^{\\star}$ 处同时满足两个条件：\n1. 对于 $0 \\leq k \\leq r-2$，有 $L_{g}L_{f}^{k}\\tilde{h}(x^{\\star}) = 0$。对于 $r=2$，这适用于 $k=0$，因此我们必须有 $L_{g}\\tilde{h}(x^{\\star}) = 0$。\n2. $L_{g}L_{f}^{r-1}\\tilde{h}(x^{\\star}) \\neq 0$。对于 $r=2$，这意味着 $L_{g}L_{f}\\tilde{h}(x^{\\star}) \\neq 0$。\n\n设 $\\tilde{h}(x)$ 为一个任意光滑函数。它关于 $g(x)$ 的李导数是：\n$$\nL_{g}\\tilde{h}(x) = \\nabla \\tilde{h}(x) \\cdot g(x) = \\begin{pmatrix} \\frac{\\partial \\tilde{h}}{\\partial x_1}  \\frac{\\partial \\tilde{h}}{\\partial x_2} \\end{pmatrix} \\begin{pmatrix} 0 \\\\ 1+x_1^2 \\end{pmatrix} = \\frac{\\partial \\tilde{h}}{\\partial x_2}(x) (1+x_1^2).\n$$\n在 $x^{\\star} = \\begin{pmatrix} 0 \\\\ 0 \\end{pmatrix}$ 处求值，第一个条件 $L_{g}\\tilde{h}(x^{\\star})=0$ 变为：\n$$\nL_{g}\\tilde{h}(x^{\\star}) = \\frac{\\partial \\tilde{h}}{\\partial x_2}(0,0) (1+0^2) = \\frac{\\partial \\tilde{h}}{\\partial x_2}(0,0) = 0.\n$$\n这个条件意味着新的输出函数 $\\tilde{h}(x)$ 关于 $x_2$ 的偏导数在原点必须为零。满足此条件的最简单方法是选择一个仅为 $x_1$ 的函数 $\\tilde{h}(x)$。让我们提出一个形式为 $\\tilde{h}(x) = \\phi(x_1)$ 的函数，其中 $\\phi$ 是某个光滑函数。如此选择，对于所有 $x$，$\\frac{\\partial \\tilde{h}}{\\partial x_2} = 0$，因此 $L_{g}\\tilde{h}(x) = 0$ 处处成立，这便平凡地满足了第一个条件。\n\n现在我们必须检查第二个条件，$L_{g}L_{f}\\tilde{h}(x^{\\star}) \\neq 0$。\n首先，我们计算我们提出的 $\\tilde{h}(x)=\\phi(x_1)$ 关于 $f(x)$ 的李导数：\n$$\nL_{f}\\tilde{h}(x) = \\nabla \\tilde{h}(x) \\cdot f(x) = \\begin{pmatrix} \\phi'(x_1)  0 \\end{pmatrix} \\begin{pmatrix} x_2 + x_1 x_2 \\\\ \\sin(x_1) \\end{pmatrix} = \\phi'(x_1) (x_2 + x_1 x_2) = \\phi'(x_1) x_2 (1+x_1).\n$$\n将这个新的标量函数记为 $\\psi(x) = L_{f}\\tilde{h}(x)$。为了求得 $L_{g}L_{f}\\tilde{h}(x)$，我们必须计算 $L_{g}\\psi(x)$。\n首先，$\\psi(x)$ 的梯度为：\n$$\n\\nabla \\psi(x) = \\begin{pmatrix} \\frac{\\partial \\psi}{\\partial x_1}  \\frac{\\partial \\psi}{\\partial x_2} \\end{pmatrix} = \\begin{pmatrix} \\frac{\\partial}{\\partial x_1} (\\phi'(x_1) x_2 (1+x_1))  \\frac{\\partial}{\\partial x_2} (\\phi'(x_1) x_2 (1+x_1)) \\end{pmatrix}.\n$$\n$$\n\\nabla \\psi(x) = \\begin{pmatrix} x_2[\\phi''(x_1)(1+x_1) + \\phi'(x_1)]  \\phi'(x_1)(1+x_1) \\end{pmatrix}.\n$$\n现在我们计算 $L_{g}\\psi(x)$：\n$$\nL_{g}L_{f}\\tilde{h}(x) = L_{g}\\psi(x) = \\nabla \\psi(x) \\cdot g(x) = \\begin{pmatrix} x_2[\\phi''(x_1)(1+x_1) + \\phi'(x_1)]  \\phi'(x_1)(1+x_1) \\end{pmatrix} \\begin{pmatrix} 0 \\\\ 1+x_1^2 \\end{pmatrix}\n$$\n$$\nL_{g}L_{f}\\tilde{h}(x) = \\phi'(x_1)(1+x_1)(1+x_1^2).\n$$\n我们在 $x^{\\star} = \\begin{pmatrix} 0 \\\\ 0 \\end{pmatrix}$ 处计算此式：\n$$\nL_{g}L_{f}\\tilde{h}(x^{\\star}) = \\phi'(0)(1+0)(1+0^2) = \\phi'(0).\n$$\n第二个条件 $L_{g}L_{f}\\tilde{h}(x^{\\star}) \\neq 0$ 因此要求 $\\phi'(0) \\neq 0$。\n\n我们需要选择一个满足 $\\phi'(0) \\neq 0$ 的简单光滑函数 $\\phi(x_1)$。最基本的选择是 $\\phi(x_1) = x_1$。我们选择它作为新的输出函数：\n$$\n\\tilde{h}(x) = x_1.\n$$\n这个函数是解析的，因此是光滑的，满足所述的正则性条件。向量场 $f(x)$ 和 $g(x)$ 也是解析的。因此，所有的李导数都是良定义且光滑的。\n\n我们现在严格验证 $\\tilde{h}(x) = x_1$ 的两个条件：\n1. $L_{g}\\tilde{h}(x^{\\star}) = 0$：\n$\\nabla \\tilde{h}(x) = \\begin{pmatrix} 1  0 \\end{pmatrix}$。\n$L_{g}\\tilde{h}(x) = \\begin{pmatrix} 1  0 \\end{pmatrix} \\begin{pmatrix} 0 \\\\ 1+x_1^2 \\end{pmatrix} = 0$。\n这对所有 $x \\in \\mathbb{R}^2$ 都为零，所以在 $x^{\\star}$ 处当然也为零。第一个条件得到满足。\n\n2. $L_{g}L_{f}\\tilde{h}(x^{\\star}) \\neq 0$：\n$L_{f}\\tilde{h}(x) = \\begin{pmatrix} 1  0 \\end{pmatrix} \\begin{pmatrix} x_2 + x_1 x_2 \\\\ \\sin(x_1) \\end{pmatrix} = x_2 + x_1 x_2$。\n令 $\\psi(x) = x_2 + x_1 x_2$。则 $\\nabla \\psi(x) = \\begin{pmatrix} x_2  1+x_1 \\end{pmatrix}$。\n$L_{g}L_{f}\\tilde{h}(x) = L_{g}\\psi(x) = \\nabla \\psi(x) \\cdot g(x) = \\begin{pmatrix} x_2  1+x_1 \\end{pmatrix} \\begin{pmatrix} 0 \\\\ 1+x_1^2 \\end{pmatrix} = (1+x_1)(1+x_1^2)$。\n在 $x^{\\star} = \\begin{pmatrix} 0 \\\\ 0 \\end{pmatrix}$ 处：\n$L_{g}L_{f}\\tilde{h}(x^{\\star}) = (1+0)(1+0^2) = 1$。\n由于 $1 \\neq 0$，第二个条件得到满足。\n\n对于选择的 $\\tilde{h}(x)=x_1$，相对阶为 $r=2$ 的两个条件都得到满足。因此，这是一个有效的输出函数，它将 $x^\\star$ 处的相对阶增加到 $r=2$。问题要求的是任何一个这样的函数，$x_1$ 是最简单的非平凡例子。", "answer": "$$\n\\boxed{x_1}\n$$", "id": "2739613"}]}