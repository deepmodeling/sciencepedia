{"hands_on_practices": [{"introduction": "将信号流图的图形化语言转化为系统传递函数的数学表达，是分析线性系统的基础一步。这个练习提供了一个包含多个前向通路和反馈回路的信号流图，旨在训练从图到函数的核心转换能力。通过求解此问题，你将熟练运用节点方程或梅森增益公式（Mason's Gain Formula）来确定系统的总体响应。[@problem_id:1610001]", "problem": "一个线性时不变系统由一个信号流图 (SFG) 描述，该图定义了输入信号 $R(s)$ 和输出信号 $Y(s)$ 之间的关系。该图包含一个输入节点 $R(s)$、一个输出节点 $Y(s)$ 以及四个中间节点，分别表示为 $N_1、N_2、N_3$ 和 $N_4$。所有信号均沿箭头方向流动，连接两个节点的每条支路都有一个相关的符号增益。\n\n具体的连接及其对应的增益如下：\n- 从 $R(s)$ 到 $N_1$，增益为 $a$。\n- 从 $N_1$ 到 $N_2$，增益为 $b$。\n- 从 $N_2$ 到 $Y(s)$，增益为 $c$。\n- 从 $R(s)$ 到 $N_3$，增益为 $d$。\n- 从 $N_3$ 到 $N_4$，增益为 $e$。\n- 从 $N_4$ 到 $Y(s)$，增益为 $f$。\n- 从 $N_1$ 返回到 $N_1$（自环），增益为 $g$。\n- 从 $N_2$ 返回到 $N_1$，增益为 $h$。\n- 从 $N_4$ 返回到 $N_3$，增益为 $k$。\n- 从 $N_4$ 返回到 $N_4$（自环），增益为 $m$。\n\n确定系统的总传递函数 $T(s) = \\frac{Y(s)}{R(s)}$，并用符号增益 $a、b、c、d、e、f、g、h、k$ 和 $m$ 表示为单个有理函数。", "solution": "我们使用标准的信号流图节点方程：每个节点的信号等于其所有输入信号的总和，每个输入信号等于上游节点的信号乘以支路增益。将节点信号表示为 $R、Y、N_{1}、N_{2}、N_{3}$ 和 $N_{4}$。\n\n对于左侧子图，节点方程为\n$$\nN_{1} = a R + g N_{1} + h N_{2}, \\qquad N_{2} = b N_{1}.\n$$\n消去 $N_{2}$ 得\n$$\nN_{1} - g N_{1} - h N_{2} = a R \\;\\;\\Rightarrow\\;\\; (1 - g) N_{1} - h b N_{1} = a R \\;\\;\\Rightarrow\\;\\; (1 - g - h b) N_{1} = a R,\n$$\n因此\n$$\nN_{1} = \\frac{a}{1 - g - h b}\\,R, \\qquad N_{2} = b N_{1} = \\frac{a b}{1 - g - h b}\\,R.\n$$\n\n对于右侧子图，节点方程为\n$$\nN_{3} = d R + k N_{4}, \\qquad N_{4} = e N_{3} + m N_{4}.\n$$\n重写第二个方程得\n$$\n(1 - m) N_{4} = e N_{3} \\;\\;\\Rightarrow\\;\\; N_{4} = \\frac{e}{1 - m}\\,N_{3}.\n$$\n代入第一个方程：\n$$\nN_{3} = d R + k N_{4} = d R + \\frac{k e}{1 - m}\\,N_{3} \\;\\;\\Rightarrow\\;\\; \\left(1 - \\frac{k e}{1 - m}\\right) N_{3} = d R.\n$$\n因此\n$$\nN_{3} = \\frac{(1 - m)}{1 - m - k e}\\,d R, \\qquad N_{4} = \\frac{e}{1 - m}\\,N_{3} = \\frac{d e}{1 - m - k e}\\,R.\n$$\n\n输出节点是其输入的总和：\n$$\nY = c N_{2} + f N_{4} = c\\left(\\frac{a b}{1 - g - h b}\\,R\\right) + f\\left(\\frac{d e}{1 - m - k e}\\,R\\right).\n$$\n两边除以 $R$ 得到总传递函数\n$$\nT(s) \\equiv \\frac{Y(s)}{R(s)} = \\frac{a b c}{1 - g - h b} + \\frac{d e f}{1 - m - k e}.\n$$\n表示为单个有理函数，\n$$\nT(s) = \\frac{a b c\\,(1 - m - k e) + d e f\\,(1 - g - h b)}{(1 - g - h b)(1 - m - k e)}.\n$$", "answer": "$$\\boxed{\\frac{a b c\\left(1 - m - k e\\right) + d e f\\left(1 - g - h b\\right)}{\\left(1 - g - h b\\right)\\left(1 - m - k e\\right)}}$$", "id": "1610001"}, {"introduction": "在系统设计中，不同的结构可能实现相同的功能。这个练习提出了一个有趣的情景：两个团队设计了结构迥异的信号流图，但声称它们的功能完全相同。你的任务是通过应用梅森增益公式，分别推导两个系统的传递函数，并证明它们的等价性。这个过程不仅能加深你对梅森公式的理解，还能让你体会到信号流图作为一种抽象工具在系统化简与等效变换中的威力。[@problem_id:1609987]", "problem": "两个相互竞争的工程团队，Team Epsilon 和 Team Zeta，为某个线性时不变控制系统提出了不同的架构。两个系统都被设计为具有相同的输入信号 $R(s)$ 和输出信号 $Y(s)$，其中 $s$ 是复频域变量。\n\nTeam Epsilon 提出的架构由一个信号流图（SFG）描述，该图有四个节点：一个输入节点 $R$，一个输出节点 $Y$，以及两个中间节点 $N_1$ 和 $N_2$。其有向路径及相关增益如下：\n- 从 $R$ 到 $N_1$ 的路径，增益为 $G_1$\n- 从 $N_1$ 到 $N_2$ 的路径，增益为 $G_2$\n- 从 $N_2$ 到 $Y$ 的路径，增益为 $G_3$\n- 从 $N_2$ 到 $N_1$ 的反馈路径，增益为 $H_1$\n- 从 $Y$ 到 $N_2$ 的反馈路径，增益为 $H_2$\n\nTeam Zeta 提出的架构由一个更简单的信号流图描述，该图有三个节点：一个输入节点 $R$，一个输出节点 $Y$，以及一个中间节点 $M_1$。其路径及增益如下：\n- 从 $R$ 到 $M_1$ 的路径，增益为 $G_1$\n- 从 $M_1$ 到 $Y$ 的路径，增益为 $G_2 G_3$\n- 节点 $M_1$ 上的自环，增益为 $(G_2 H_1 + G_3 H_2)$\n\n尽管它们的结构不同，首席工程师声称这两个系统在功能上是相同的。为了验证这一说法，请确定代表这两个系统的单一总传递函数 $T(s) = Y(s)/R(s)$。将你的答案表示为关于增益 $G_1, G_2, G_3, H_1$ 和 $H_2$ 的符号表达式。", "solution": "为了解决这个问题，我们将使用梅森增益公式（Mason's Gain Formula）来确定两个信号流图（SFG）各自的总传递函数。该公式为：\n$$T(s) = \\frac{\\sum_{k} P_k \\Delta_k}{\\Delta}$$\n其中 $P_k$ 是从输入到输出的第 $k$ 条前向路径的增益，$\\Delta$ 是图的行列式，$\\Delta_k$ 是第 $k$ 条前向路径的余子式。\n\n行列式 $\\Delta$ 的计算方法如下：\n$\\Delta = 1 - (\\text{所有单个回路增益之和}) + (\\text{所有不接触回路对的增益乘积之和}) - (\\text{所有不接触三回路组合的增益乘积之和}) + \\dots$\n\n余子式 $\\Delta_k$ 是对于不接触第 $k$ 条前向路径的子图计算出的 $\\Delta$ 值。\n\n**第一部分：分析 Team Epsilon 的信号流图**\n\n首先，我们确定从输入 $R$ 到输出 $Y$ 的前向路径。\n只有一条前向路径：$P_1 = R \\to N_1 \\to N_2 \\to Y$。\n该路径的增益是路径上各增益的乘积：\n$$P_1 = G_1 G_2 G_3$$\n\n接下来，我们确定图中的所有单个回路。\n- 回路 1 ($L_1$)：该回路从节点 $N_1$ 到 $N_2$ 再回到 $N_1$。路径为 $N_1 \\to N_2 \\to N_1$。增益为 $L_1 = G_2 H_1$。\n- 回路 2 ($L_2$)：该回路从节点 $N_2$ 到 $Y$ 再回到 $N_2$。路径为 $N_2 \\to Y \\to N_2$。增益为 $L_2 = G_3 H_2$。\n\n现在，我们检查是否存在不接触的回路对。\n回路 $L_1$ 涉及节点 $N_1$ 和 $N_2$。\n回路 $L_2$ 涉及节点 $N_2$ 和 $Y$。\n由于两个回路共享公共节点 $N_2$，它们是接触回路。不存在不接触的回路对。\n\n现在我们可以计算 Team Epsilon 图的行列式 $\\Delta_E$。\n$$\\Delta_E = 1 - (L_1 + L_2) = 1 - (G_2 H_1 + G_3 H_2) = 1 - G_2 H_1 - G_3 H_2$$\n\n接下来，我们计算前向路径 $P_1$ 的余子式 $\\Delta_1$。路径 $P_1$ 经过节点 $N_1$、$N_2$ 和 $Y$。由于该路径接触到两个回路 $L_1$（在节点 $N_1, N_2$）和 $L_2$（在节点 $N_2, Y$），因此在计算 $\\Delta_1$ 时所有回路都被移除。所以，$\\Delta_1 = 1$。\n\n最后，我们应用梅森增益公式来求 Team Epsilon 系统的传递函数 $T_E(s)$。\n$$T_E(s) = \\frac{P_1 \\Delta_1}{\\Delta_E} = \\frac{G_1 G_2 G_3}{1 - G_2 H_1 - G_3 H_2}$$\n\n**第二部分：分析 Team Zeta 的信号流图**\n\n现在，我们对 Team Zeta 的信号流图重复此过程。\n首先，我们确定从输入 $R$ 到输出 $Y$ 的前向路径。\n只有一条前向路径：$P'_1 = R \\to M_1 \\to Y$。\n该路径的增益是路径上各增益的乘积：\n$$P'_1 = (G_1)(G_2 G_3) = G_1 G_2 G_3$$\n\n接下来，我们确定图中的所有单个回路。\n只有一个回路，即节点 $M_1$ 上的一个自环。问题陈述直接给出了其增益：\n$$L'_1 = G_2 H_1 + G_3 H_2$$\n\n由于只有一个回路，所以不可能有不接触的回路对。\n\n现在我们可以计算 Team Zeta 图的行列式 $\\Delta_Z$。\n$$\\Delta_Z = 1 - (L'_1) = 1 - (G_2 H_1 + G_3 H_2) = 1 - G_2 H_1 - G_3 H_2$$\n\n接下来，我们计算前向路径 $P'_1$ 的余子式 $\\Delta'_1$。路径 $P'_1$ 经过节点 $M_1$。由于回路 $L'_1$ 是节点 $M_1$ 上的自环，该路径接触到此回路。因此，在计算 $\\Delta'_1$ 时所有回路都被移除，我们得到 $\\Delta'_1 = 1$。\n\n最后，我们应用梅森增益公式来求 Team Zeta 系统的传递函数 $T_Z(s)$。\n$$T_Z(s) = \\frac{P'_1 \\Delta'_1}{\\Delta_Z} = \\frac{G_1 G_2 G_3}{1 - G_2 H_1 - G_3 H_2}$$\n\n**结论**\n\n比较结果，我们发现 $T_E(s) = T_Z(s)$。这验证了首席工程师关于两个系统功能上相同的说法。代表这两个系统的单一总传递函数是：\n$$T(s) = \\frac{G_1 G_2 G_3}{1 - G_2 H_1 - G_3 H_2}$$", "answer": "$$\\boxed{\\frac{G_{1} G_{2} G_{3}}{1 - G_{2} H_{1} - G_{3} H_{2}}}$$", "id": "1609987"}, {"introduction": "信号流图的价值远不止于计算传递函数；它的拓扑结构能揭示系统内部深刻的动态特性。本练习将引导你分析一个系统的可观测性，这是一个核心的控制理论概念。通过一个特意设计的参数配置，系统中出现了一个极点-零点对消，导致某个状态变量从输出端“隐身”。你的挑战是基于信号流图的结构，识别出这个不可观测的状态，从而将图形分析与系统内部的动态行为紧密联系起来。[@problem_id:1610015]", "problem": "一个线性时不变 (LTI) 控制系统由一个信号流图 (SFG) 描述。该图模拟了输入信号 $U$、输出信号 $Y$ 以及两个内部状态变量 $X_1$ 和 $X_2$ 之间的相互作用。SFG 的节点包括输入 $U$、输出 $Y$、状态变量 $X_1$ 和 $X_2$，以及它们在拉普拉斯域中对应的导数 $sX_1$ 和 $sX_2$。\n\n系统结构由以下有向路径及其相关增益定义，其中 $p_1$、$p_2$ 和 $k_u$ 是互不相同的正常数：\n\n1.  从 $sX_1$ 到 $X_1$ 以及从 $sX_2$ 到 $X_2$ 存在标准的积分器路径，两者的增益均为 $1/s$。\n2.  从输入节点 $U$ 到导数节点 $sX_2$ 有一条路径，增益为 $k_u$。\n3.  从状态节点 $X_2$ 到其自身的导数节点 $sX_2$ 有一条路径，增益为 $-p_2$。\n4.  从状态节点 $X_2$ 到导数节点 $sX_1$ 有一条路径，增益为 $1$。\n5.  从状态节点 $X_1$ 到其自身的导数节点 $sX_1$ 有一条路径，增益为 $-p_1$。\n6.  输出 $Y$ 是状态的线性组合。从状态节点 $X_1$ 到输出节点 $Y$ 有一条路径，增益为 $c_1$；从状态节点 $X_2$ 到输出节点 $Y$ 有一条路径，增益为 $c_2$。\n\n输出增益被特别选择以满足关系式 $c_1 = p_2 - p_1$ 和 $c_2 = 1$。由于这种特殊的配置，在系统的输入-输出传递函数中发生了一次极零点对消，这使得其中一个状态变量从输出 $Y$ 来看是结构上不可观测的。\n\n基于对所描述系统的分析，哪个状态变量是不可观测的？\n\nA. $X_1$\n\nB. $X_2$\n\nC. $X_1$ 和 $X_2$ 都不可观测。\n\nD. 系统是完全可观测的；两个状态都不是不可观测的。", "solution": "根据给定的信号流关系，时域中的状态方程为\n$$\n\\dot{x}_{1}=-p_{1}x_{1}+x_{2},\\qquad \\dot{x}_{2}=-p_{2}x_{2}+k_{u}u,\n$$\n且输出为\n$$\ny=c_{1}x_{1}+c_{2}x_{2},\\qquad c_{1}=p_{2}-p_{1},\\quad c_{2}=1.\n$$\n等价地，在拉普拉斯域中，\n$$\nsX_{1}=-p_{1}X_{1}+X_{2}\\;\\Rightarrow\\;(s+p_{1})X_{1}=X_{2}\\;\\Rightarrow\\;X_{1}=\\frac{X_{2}}{s+p_{1}},\n$$\n$$\nsX_{2}=-p_{2}X_{2}+k_{u}U\\;\\Rightarrow\\;(s+p_{2})X_{2}=k_{u}U\\;\\Rightarrow\\;X_{2}=\\frac{k_{u}}{s+p_{2}}\\,U,\n$$\n并且\n$$\nY=c_{1}X_{1}+c_{2}X_{2}=X_{2}\\left(\\frac{c_{1}}{s+p_{1}}+c_{2}\\right).\n$$\n因此，输入-输出传递函数为\n$$\n\\frac{Y}{U}=\\frac{k_{u}\\left(\\frac{c_{1}}{s+p_{1}}+c_{2}\\right)}{s+p_{2}}=\\frac{k_{u}\\left(c_{1}+c_{2}(s+p_{1})\\right)}{(s+p_{1})(s+p_{2})}.\n$$\n当 $c_{1}=p_{2}-p_{1}$ 且 $c_{2}=1$ 时，分子变为 $s+p_{2}$，因此\n$$\n\\frac{Y}{U}=\\frac{k_{u}(s+p_{2})}{(s+p_{1})(s+p_{2})}=\\frac{k_{u}}{s+p_{1}}.\n$$\n因此，位于 $s=-p_{2}$ 的极点被一个零点对消了。在 LTI 系统中，输入-输出映射中的精确极零点对消会从测量输出中移除该模式，表明在被对消的极点处存在一个不可观测模式。\n\n为了将其与状态联系起来，写出状态空间矩阵\n$$\nA=\\begin{pmatrix}-p_{1}1\\\\0-p_{2}\\end{pmatrix},\\quad B=\\begin{pmatrix}0\\\\ k_{u}\\end{pmatrix},\\quad C=\\begin{pmatrix}p_{2}-p_{1}1\\end{pmatrix}.\n$$\n$A$ 的特征值为 $-p_{1}$ 和 $-p_{2}$。被对消的极点是 $-p_{2}$，因此与 $-p_{2}$ 相关的模式是不可观测的。由于 $A$ 是一个上三角矩阵，其第二个状态通道的对角线元素为 $-p_{2}$（并且在 SFG 中，自环 $-p_{2}$ 作用于 $X_2$），这个不可观测模式对应于状态 $X_2$。\n\n为完整起见，可观测性矩阵为\n$$\n\\mathcal{O}=\\begin{pmatrix}C\\\\ CA\\end{pmatrix}\n=\\begin{pmatrix}p_{2}-p_{1}1\\\\ -p_{1}(p_{2}-p_{1})-p_{1}\\end{pmatrix},\n$$\n其行列式为零，证实失去了一个可观测模式。相应的不可观测特征模式是 $-p_{2}$ 模式，即结构上与 $X_{2}$ 相关联的模式。\n\n因此，不可观测的状态变量是 $X_2$。", "answer": "$$\\boxed{B}$$", "id": "1610015"}]}