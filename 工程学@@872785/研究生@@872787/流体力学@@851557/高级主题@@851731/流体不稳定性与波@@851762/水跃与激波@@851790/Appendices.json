{"hands_on_practices": [{"introduction": "理解水跃最基本的一步是掌握其前后水流状态之间的定量关系。本练习将引导你从质量和动量守恒这两个基本物理定律出发，推导正常水跃的深度比与上游弗劳德数 $Fr_1$ 之间的关系 [@problem_id:1932084]。这个推导是水力学中的一个经典问题，它展示了如何将基本守恒定律应用于分析像水跃这样的不连续流动现象。", "problem": "水跃（hydraulic jump）是一种在明渠流中常见的现象，例如在厨房水槽中或大坝溢洪道的底部。它表示从高速、浅层流（超临界流）到低速、深层流（亚临界流）的快速转变。这种跃变可以被建模为流体中的一维定常激波。\n\n考虑在恒定宽度的宽矩形渠道中，密度为常数 $\\rho$ 的不可压缩流体的定常均匀流。流动由其速度 $v$ 和深度 $h$ 来表征。下标 1 表示跃变前（超临界流）的条件，下标 2 表示跃变后（亚临界流）的条件。重力加速度为 $g$。\n\n弗劳德数（Froude number），$Fr$，是一个无量纲量，可视为气体动力学中马赫数（Mach number）在水力学中的模拟。它被定义为流速与浅水重力波速度之比，由 $Fr = \\frac{v}{\\sqrt{gh}}$ 给出。只有当上游水流为超临界流时，即 $Fr_1  1$，水跃才会发生。\n\n通过将质量守恒和动量守恒原理应用于包含水跃的控制体，推导下游深度与上游深度之比 $\\frac{h_2}{h_1}$ 作为上游弗劳德数 $Fr_1$ 的函数表达式。", "solution": "我们考虑一个在恒定宽度的宽水平矩形渠道中的定常一维水跃。流体是不可压缩的，密度为常数 $\\rho$。在水跃的短区域内，我们忽略壁面剪切和重力分量；上游和下游截面上的压力分布是静水压力的。设 $h$ 和 $v$ 分别表示深度和速度，下标 1（上游，超临界）和 2（下游，亚临界）。定义单位宽度流量 $q$ 为 $q=v h$，在定常流中它是一个常数。\n\n质量守恒（连续性方程）给出\n$$\nq \\equiv v_{1} h_{1} = v_{2} h_{2}.\n$$\n单位宽度垂直截面上的静水压力合力为\n$$\nP_{k}=\\int_{0}^{h_{k}} \\rho g (h_{k}-y)\\,dy = \\frac{1}{2}\\rho g h_{k}^{2}, \\quad k\\in\\{1,2\\}.\n$$\n对于跨越水跃的控制体，沿流向的定常一维动量方程给出，净压力等于单位宽度的动量通量变化：\n$$\n\\frac{1}{2}\\rho g \\left(h_{1}^{2}-h_{2}^{2}\\right) = \\rho\\left(v_{2}^{2} h_{2}-v_{1}^{2} h_{1}\\right).\n$$\n两边除以 $\\rho$ 并使用 $v_{k}=q/h_{k}$ 来重写动量通量项：\n$$\n\\frac{1}{2} g \\left(h_{1}^{2}-h_{2}^{2}\\right) = \\frac{q^{2}}{h_{2}} - \\frac{q^{2}}{h_{1}}.\n$$\n两边乘以 $2$ 并对差进行因式分解：\n$$\ng (h_{1}-h_{2})(h_{1}+h_{2}) = 2 q^{2} \\left(\\frac{1}{h_{2}} - \\frac{1}{h_{1}}\\right) = 2 q^{2} \\frac{h_{1}-h_{2}}{h_{1} h_{2}}.\n$$\n假设 $h_{2}\\neq h_{1}$，两边除以 $(h_{1}-h_{2})$ 得到\n$$\ng (h_{1}+h_{2}) = \\frac{2 q^{2}}{h_{1} h_{2}}.\n$$\n引入深度比 $r=\\frac{h_{2}}{h_{1}}$，因此 $h_{2}=r h_{1}$，并回顾 $q=v_{1} h_{1}$。代入得\n$$\ng \\left(h_{1}+r h_{1}\\right) = \\frac{2 v_{1}^{2} h_{1}^{2}}{h_{1}\\, r h_{1}} \\quad \\Longrightarrow \\quad g h_{1} (1+r) = \\frac{2 v_{1}^{2}}{r}.\n$$\n两边乘以 $r$ 并除以 $g h_{1}$：\n$$\nr(1+r) = \\frac{2 v_{1}^{2}}{g h_{1}}.\n$$\n使用上游弗劳德数 $Fr_{1}=\\frac{v_{1}}{\\sqrt{g h_{1}}}$，我们有 $\\frac{v_{1}^{2}}{g h_{1}}=Fr_{1}^{2}$，所以\n$$\nr^{2}+r-2 Fr_{1}^{2}=0.\n$$\n对该关于 $r$ 的二次方程求解，并选择物理上可接受的正根（当 $Fr_{1}1$ 时有 $r1$），得到\n$$\n\\frac{h_{2}}{h_{1}} = r = \\frac{-1 + \\sqrt{1+8\\,Fr_{1}^{2}}}{2}.\n$$\n这表示下游与上游的深度比仅由上游弗劳德数表示。", "answer": "$$\\boxed{\\frac{h_2}{h_1} = \\frac{-1+\\sqrt{1+8\\,Fr_{1}^{2}}}{2}}$$", "id": "1932084"}, {"introduction": "在一维正常水跃的基础上，我们可以将分析扩展到二维流动，即当超临界水流被壁面偏转时形成的斜水跃。本练习探讨了这种更复杂情况下水跃的几何和物理约束，特别是推导了马赫反射（Mach reflection）发生的临界条件 [@problem_id:531928]。完成这个练习有助于加深对激波状现象在多维空间中行为的理解，并揭示其与气体动力学中斜激波反射的深刻类比。", "problem": "当一个上游弗劳德数（Froude number）为 $Fr_1$ 的超临界明渠流被一个角度为 $\\delta$ 的壁面偏转时，会形成一个斜水跃。水跃本身与初始流动方向形成一个角度 $\\beta$。流动是稳定的、二维的，且流体被认为是不可压缩和无粘性的。控制水深比 $Y = h_2/h_1$（其中 $h_1$ 和 $h_2$ 分别是上游和下游的水深）和下游弗劳德数 $Fr_2$ 的关系式如下：\n$$ Y = \\frac{1}{2}\\left(\\sqrt{1 + 8 Fr_1^2 \\sin^2\\beta} - 1\\right) $$\n$$ Fr_2^2 = \\frac{Fr_1^2}{Y} \\left(\\cos^2\\beta + \\frac{\\sin^2\\beta}{Y^2}\\right) $$\n偏转角 $\\delta$ 与水跃角 $\\beta$ 和水深比 $Y$ 的关系如下：\n$$ \\tan\\delta = \\frac{\\tan\\beta (Y-1)}{Y + \\tan^2\\beta} $$\n当一个斜水跃冲击到与初始流动平行的直壁上时，它会发生反射。对于较小的偏转角，会发生规则反射。然而，随着偏转角的增加，会达到一个点，此时规则反射不再可能，而出现一种更强的反射模式，称为马赫反射。这两种状态之间的过渡发生在一个临界偏转角 $\\delta_c$ 处，该角度对应于给定上游弗劳德数 $Fr_1$ 下可能的最大偏转角 $\\delta_{max}$。这个最大偏转是在水跃后流动达到临界状态（即 $Fr_2 = 1$）的特定条件下实现的。\n\n令 $Y_c$ 为对应于此临界条件的水深比 $h_2/h_1$。推导一个仅用 $Y_c$ 表示的 $\\tan^2(\\delta_c)$ 的闭合形式表达式。", "solution": "目标是找到临界偏转角 $\\delta_c$ 关于相应临界水深比 $Y_c$ 的表达式。临界条件定义为下游弗劳德数为1，即 $Fr_2 = 1$。\n\n首先，我们陈述给定的方程，使用 $Y_c$ 和 $\\beta_c$ 来表示临界条件下的值：\n1.  水深比关系：\n    $$ Y_c = \\frac{1}{2}\\left(\\sqrt{1 + 8 Fr_1^2 \\sin^2\\beta_c} - 1\\right) $$\n2.  临界下游弗劳德数条件：\n    $$ Fr_2^2 = 1 = \\frac{Fr_1^2}{Y_c} \\left(\\cos^2\\beta_c + \\frac{\\sin^2\\beta_c}{Y_c^2}\\right) $$\n3.  偏转角关系：\n    $$ \\tan\\delta_c = \\frac{\\tan\\beta_c (Y_c-1)}{Y_c + \\tan^2\\beta_c} $$\n\n我们的策略是从这些方程中消去 $Fr_1$ 和 $\\beta_c$，以找到 $\\delta_c$ 和 $Y_c$ 之间的关系。\n\n从方程(1)中，我们可以将法向弗劳德数分量 $Fr_{n1}^2 = Fr_1^2 \\sin^2\\beta_c$ 用 $Y_c$ 表示：\n$$ 2Y_c+1 = \\sqrt{1 + 8 Fr_1^2 \\sin^2\\beta_c} $$\n$$ (2Y_c+1)^2 = 1 + 8 Fr_1^2 \\sin^2\\beta_c $$\n$$ 4Y_c^2 + 4Y_c + 1 = 1 + 8 Fr_1^2 \\sin^2\\beta_c $$\n$$ Fr_1^2 \\sin^2\\beta_c = \\frac{4Y_c^2 + 4Y_c}{8} = \\frac{Y_c(Y_c+1)}{2} $$\n\n接下来，我们使用方程(2)中的临界条件来找到 $Fr_1^2 \\cos^2\\beta_c$ 的表达式。\n$$ 1 = \\frac{Fr_1^2}{Y_c^3} \\left(Y_c^2\\cos^2\\beta_c + \\sin^2\\beta_c\\right) $$\n$$ Y_c^3 = Fr_1^2 Y_c^2 \\cos^2\\beta_c + Fr_1^2 \\sin^2\\beta_c $$\n代入 $Fr_1^2 \\sin^2\\beta_c$ 的表达式：\n$$ Y_c^3 = Fr_1^2 Y_c^2 \\cos^2\\beta_c + \\frac{Y_c(Y_c+1)}{2} $$\n现在，求解 $Fr_1^2 \\cos^2\\beta_c$：\n$$ Fr_1^2 Y_c^2 \\cos^2\\beta_c = Y_c^3 - \\frac{Y_c(Y_c+1)}{2} = \\frac{2Y_c^3 - Y_c^2 - Y_c}{2} = \\frac{Y_c(2Y_c^2 - Y_c - 1)}{2} $$\n括号中的二次多项式可以因式分解为 $(2Y_c+1)(Y_c-1)$。因此：\n$$ Fr_1^2 Y_c^2 \\cos^2\\beta_c = \\frac{Y_c(2Y_c+1)(Y_c-1)}{2} $$\n$$ Fr_1^2 \\cos^2\\beta_c = \\frac{(2Y_c+1)(Y_c-1)}{2Y_c} $$\n\n现在我们有了用 $Y_c$ 表示的 $Fr_1^2 \\sin^2\\beta_c$ 和 $Fr_1^2 \\cos^2\\beta_c$ 的表达式。我们可以求出 $\\tan^2\\beta_c$：\n$$ \\tan^2\\beta_c = \\frac{Fr_1^2 \\sin^2\\beta_c}{Fr_1^2 \\cos^2\\beta_c} = \\frac{\\frac{Y_c(Y_c+1)}{2}}{\\frac{(2Y_c+1)(Y_c-1)}{2Y_c}} = \\frac{Y_c^2(Y_c+1)}{(2Y_c+1)(Y_c-1)} $$\n这就得到了用临界水深比表示的临界水跃角。\n\n最后，我们将此代入偏转角方程(3)。我们将计算 $\\tan^2\\delta_c$：\n$$ \\tan^2\\delta_c = \\frac{\\tan^2\\beta_c (Y_c-1)^2}{(Y_c + \\tan^2\\beta_c)^2} $$\n我们分别计算分子和分母。\n分子：\n$$ \\tan^2\\beta_c (Y_c-1)^2 = \\frac{Y_c^2(Y_c+1)}{(2Y_c+1)(Y_c-1)} (Y_c-1)^2 = \\frac{Y_c^2(Y_c+1)(Y_c-1)}{2Y_c+1} $$\n分母项 $(Y_c + \\tan^2\\beta_c)$：\n$$ Y_c + \\tan^2\\beta_c = Y_c + \\frac{Y_c^2(Y_c+1)}{(2Y_c+1)(Y_c-1)} = \\frac{Y_c(2Y_c+1)(Y_c-1) + Y_c^2(Y_c+1)}{(2Y_c+1)(Y_c-1)} $$\n$$ = \\frac{Y_c(2Y_c^2-Y_c-1) + Y_c^3+Y_c^2}{(2Y_c+1)(Y_c-1)} = \\frac{2Y_c^3-Y_c^2-Y_c+Y_c^3+Y_c^2}{(2Y_c+1)(Y_c-1)} $$\n$$ = \\frac{3Y_c^3-Y_c}{(2Y_c+1)(Y_c-1)} = \\frac{Y_c(3Y_c^2-1)}{(2Y_c+1)(Y_c-1)} $$\n现在将分母项平方：\n$$ (Y_c + \\tan^2\\beta_c)^2 = \\frac{Y_c^2(3Y_c^2-1)^2}{(2Y_c+1)^2(Y_c-1)^2} $$\n现在合并分子和分母得到 $\\tan^2\\delta_c$：\n$$ \\tan^2\\delta_c = \\frac{\\frac{Y_c^2(Y_c+1)(Y_c-1)}{2Y_c+1}}{\\frac{Y_c^2(3Y_c^2-1)^2}{(2Y_c+1)^2(Y_c-1)^2}} = \\frac{Y_c^2(Y_c+1)(Y_c-1)}{2Y_c+1} \\cdot \\frac{(2Y_c+1)^2(Y_c-1)^2}{Y_c^2(3Y_c^2-1)^2} $$\n$$ \\tan^2\\delta_c = \\frac{(Y_c+1)(Y_c-1)^3(2Y_c+1)}{(3Y_c^2-1)^2} $$\n这就是临界偏转角正切的平方的最终表达式，仅用临界水深比 $Y_c$ 表示。", "answer": "$$ \\boxed{\\tan^2\\delta_c = \\frac{(Y_c+1)(Y_c-1)^3(2Y_c+1)}{(3Y_c^2-1)^2}} $$", "id": "531928"}, {"introduction": "理论知识的最终检验和升华在于其应用。本练习要求你将前面学到的理论知识转化为一个实用的计算工具 [@problem_id:2398012]。你将通过编程实现水跃的控制方程，从而能够预测在给定上游条件下水跃的特性，例如共轭水深和能量损失。这项实践性的编程任务不仅能巩固你对理论的理解，还能展示基本原理在工程分析和数值模拟中的强大作用。", "problem": "要求您将一维明渠矩形河道中的定常水跃模拟为浅水方程定常解的一个间断。假设流体为不可压缩、无粘性流体，具有静水压力分布，河床水平，除重力外无其他体积力。将流动视为单位宽度流动，因此单位宽度流量是一个标量。考虑一个包围定常间断的控制体，使得质量守恒和动量守恒的积分形式适用于该间断，并假定沿水深为静水压力分布。\n\n设上游水深为 $h_1$（单位：$\\mathrm{m}$），上游流速为 $u_1$（单位：$\\mathrm{m/s}$），重力加速度为 $g$（单位：$\\mathrm{m/s^2}$）。单位宽度流量为 $q = h_1 u_1$（单位：$\\mathrm{m^2/s}$）。对于定常水跃，下游状态 $h_2$（单位：$\\mathrm{m}$）和 $u_2$（单位：$\\mathrm{m/s}$）是容许的，当且仅当它满足控制方程并且在物理上是可实现的，即 $h_2  h_1$ 且 $u_2 = q/h_2  u_1$。如果不存在这样的状态，您应报告对于给定的上游状态不存在定常水跃。\n\n您的任务是编写一个完整的程序，根据浅水方程的第一性原理，对下面列出的每个测试用例执行以下操作：\n1. 判断是否存在物理上容许的定常水跃。\n2. 如果存在，计算共轭下游水深 $h_2$（单位：$\\mathrm{m}$）和水跃的比能损失 $\\Delta E$（单位：$\\mathrm{m}$），其中一个状态的比能为 $E = h + \\dfrac{u^2}{2g}$。\n3. 如果不存在，则返回 $h_2 = h_1$ 和 $\\Delta E = 0$。\n\n请使用以下测试套件。每个测试用例提供 $(g, h_1, q)$，其中 $g$ 的单位为 $\\mathrm{m/s^2}$，$h_1$ 的单位为 $\\mathrm{m}$，$q$ 的单位为 $\\mathrm{m^2/s}$：\n- 测试 A（一般情况）：$(g, h_1, q) = (9.81, 0.5, 2.0)$。\n- 测试 B（边界情况）：$(g, h_1, q) = (9.81, 1.0, \\sqrt{9.81}\\cdot 1.0)$。\n- 测试 C（亚临界流上游）：$(g, h_1, q) = (9.81, 2.0, 1.0)$。\n- 测试 D（强水跃）：$(g, h_1, q) = (9.81, 0.2, 1.5)$。\n\n所有水深和比能值均以米为单位表示，并四舍五入到六位小数。本问题不使用角度。本问题不使用百分比。\n\n您的程序应生成单行输出，其中包含一个由方括号括起来的逗号分隔列表。每个元素对应一个测试用例，并且本身必须是 $[J, h_2, \\Delta E]$ 形式的列表，其中 $J$ 是一个整数，如果存在定常水跃，则其值为 $1$，否则为 $0$；$h_2$ 是下游水深，单位为 $\\mathrm{m}$，四舍五入到六位小数；$\\Delta E$ 是比能损失，单位为 $\\mathrm{m}$，四舍五入到六位小数。结果的顺序必须与上述测试用例的顺序相对应。例如，总体格式为 $[[J_A, h_{2,A}, \\Delta E_A],[J_B, h_{2,B}, \\Delta E_B],[J_C, h_{2,C}, \\Delta E_C],[J_D, h_{2,D}, \\Delta E_D]]$。", "solution": "该问题要求分析一维明渠中的定常水跃。我们将水跃视为由浅水方程控制的定常流中的一个间断。解是从应用于该间断的质量守恒和动量守恒第一性原理推导出来的。\n\n我们建立一个包围定常水跃的控制体。水流在断面 $1$（上游）以水深 $h_1$ 和流速 $u_1$ 进入，在断面 $2$（下游）以水深 $h_2$ 和流速 $u_2$ 流出。河道是矩形的，我们考虑单位宽度的水流。\n\n首先，我们应用质量守恒原理。对于定常、不可压缩的流动，质量流率必须恒定。因此，单位宽度流量 $q$ 在水跃前后是守恒的：\n$$q = u_1 h_1 = u_2 h_2$$\n这给出了任意断面上流速和水深之间的关系：$u = q/h$。\n\n接下来，我们应用动量守恒原理。对于定常流，作用在控制体上的合力等于动量流出的净速率。作用在控制体内流体上的力是入口和出口处的压力。我们假设静水压力分布为 $p(z) = \\rho g (h-z)$，其中 $\\rho$ 是流体密度，$g$ 是重力加速度，$z$ 是从河床起的垂直坐标。在水深为 $h$ 的断面上，单位宽度的压力为：\n$$F_p = \\int_0^h p(z) dz = \\int_0^h \\rho g (h-z) dz = \\frac{1}{2} \\rho g h^2$$\n沿水流方向作用于控制体的净力为 $F_p_1 - F_p_2$。单位宽度的动量流率（动量通量）为 $\\rho q u$。动量平衡方程为：\n$$F_p_1 - F_p_2 = (\\rho q u_2) - (\\rho q u_1)$$\n代入压力的表达式，并两边同除以 $\\rho$ 进行简化：\n$$\\frac{1}{2} g h_1^2 - \\frac{1}{2} g h_2^2 = q(u_2 - u_1)$$\n使用连续性关系 $u_1 = q/h_1$ 和 $u_2 = q/h_2$，我们替换流速：\n$$\\frac{1}{2} g (h_1^2 - h_2^2) = q \\left(\\frac{q}{h_2} - \\frac{q}{h_1}\\right) = q^2 \\frac{h_1 - h_2}{h_1 h_2}$$\n我们可以将左侧因式分解为 $\\frac{1}{2} g (h_1 - h_2)(h_1 + h_2)$。对于水跃，我们寻求一个非平凡解，其中 $h_2 \\neq h_1$，因此我们可以将两边同除以 $(h_1 - h_2)$ 项：\n$$\\frac{1}{2} g (h_1 + h_2) = \\frac{q^2}{h_1 h_2}$$\n这个方程关联了上游和下游的水深，称为共轭水深。为了对给定的上游状态 $(h_1, q)$ 求出 $h_2$，我们将方程重新整理成关于 $h_2$ 的二次方程形式：\n$$g h_1 h_2 (h_1 + h_2) = 2q^2$$\n$$g h_1 h_2^2 + g h_1^2 h_2 - 2q^2 = 0$$\n两边同除以 $g h_1$ 得：\n$$h_2^2 + h_1 h_2 - \\frac{2q^2}{g h_1} = 0$$\n使用二次公式 $h_2 = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}$ 求解 $h_2$：\n$$h_2 = \\frac{-h_1 \\pm \\sqrt{h_1^2 - 4(1)(-\\frac{2q^2}{g h_1})}}{2(1)} = \\frac{-h_1 \\pm \\sqrt{h_1^2 + \\frac{8q^2}{g h_1}}}{2}$$\n由于水深 $h_2$ 必须是正的物理量，我们选择正根：\n$$h_2 = \\frac{h_1}{2} \\left( -1 + \\sqrt{1 + \\frac{8q^2}{g h_1^3}} \\right)$$\n这就是 Belanger 方程。其中 $\\frac{q^2}{g h_1^3}$ 项是上游弗劳德数 (Froude number) 的平方，$Fr_1^2 = \\frac{u_1^2}{g h_1} = \\frac{(q/h_1)^2}{g h_1} = \\frac{q^2}{g h_1^3}$。因此，该方程可以写成：\n$$h_2 = \\frac{h_1}{2} (\\sqrt{1 + 8 Fr_1^2} - 1)$$\n一个物理上容许的水跃要求下游水深大于上游水深，即 $h_2  h_1$。应用这个条件：\n$$\\frac{h_1}{2} (\\sqrt{1 + 8 Fr_1^2} - 1)  h_1$$\n$$\\sqrt{1 + 8 Fr_1^2} - 1  2$$\n$$\\sqrt{1 + 8 Fr_1^2}  3$$\n$$1 + 8 Fr_1^2  9 \\implies 8 Fr_1^2  8 \\implies Fr_1^2  1$$\n因此，只有当上游水流为超临界流（即 $Fr_1  1$）时，才能形成定常水跃。如果 $Fr_1 \\le 1$，则不可能发生此类水跃，题目规定此时设置 $h_2 = h_1$。\n\n水流的比能定义为 $E = h + \\frac{u^2}{2g}$。水跃的能量损失 $\\Delta E$ 是上游和下游比能之差：\n$$\\Delta E = E_1 - E_2 = \\left(h_1 + \\frac{u_1^2}{2g}\\right) - \\left(h_2 + \\frac{u_2^2}{2g}\\right)$$\n代入 $u = q/h$：\n$$\\Delta E = (h_1 - h_2) + \\frac{q^2}{2g} \\left(\\frac{1}{h_1^2} - \\frac{1}{h_2^2}\\right)$$\n可以推导出一个更紧凑的能量损失形式。根据动量方程，我们有 $q^2 = \\frac{g}{2} h_1 h_2 (h_1 + h_2)$。将此式代入 $\\Delta E$ 的表达式并简化可得：\n$$\\Delta E = \\frac{(h_2 - h_1)^3}{4 h_1 h_2}$$\n该表达式表明，要发生水跃（$h_2  h_1$），必须有正的能量损失（$\\Delta E  0$），这与热力学第二定律一致。如果 $Fr_1 \\le 1$，则 $h_2 = h_1$ 且 $\\Delta E = 0$。\n\n对于每个测试用例 $(g, h_1, q)$ 的算法如下：\n$1$. 计算上游弗劳德数的平方：$Fr_1^2 = \\frac{q^2}{g h_1^3}$。\n$2$. 如果 $Fr_1^2  1$，则存在水跃（$J=1$）。使用 Belanger 方程计算 $h_2$，并使用能量损失公式计算 $\\Delta E$。\n$3$. 如果 $Fr_1^2 \\le 1$，则不存在水跃（$J=0$）。设置 $h_2 = h_1$ 且 $\\Delta E = 0$。\n$4$. 报告结果 $[J, h_2, \\Delta E]$，数值四舍五入到六位小数。", "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves for the existence and properties of a stationary hydraulic jump\n    for a given set of test cases based on the shallow water equations.\n    \"\"\"\n    test_cases = [\n        # (g, h1, q)\n        (9.81, 0.5, 2.0),                # Test A: General case\n        (9.81, 1.0, np.sqrt(9.81)),      # Test B: Boundary case (Fr_1 = 1)\n        (9.81, 2.0, 1.0),                # Test C: Subcritical upstream\n        (9.81, 0.2, 1.5)                 # Test D: Strong jump\n    ]\n\n    result_strings = []\n    \n    for g, h1, q in test_cases:\n        # Avoid division by zero if h1 is zero, although test cases are valid.\n        if h1 == 0:\n            # Physically unrealistic, but handle gracefully.\n            J = 0\n            h2 = h1\n            delta_E = 0.0\n            result_strings.append(f'[{J},{h2:.6f},{delta_E:.6f}]')\n            continue\n\n        # Calculate the square of the upstream Froude number.\n        fr1_sq = (q**2) / (g * h1**3)\n        \n        # A hydraulic jump occurs if and only if the upstream flow is supercritical (Fr_1 > 1).\n        if fr1_sq > 1.0:\n            J = 1\n            \n            # Calculate the conjugate downstream depth h2 using the Belanger equation.\n            # h2 = (h1 / 2) * (sqrt(1 + 8 * Fr1^2) - 1)\n            h2 = (h1 / 2.0) * (np.sqrt(1.0 + 8.0 * fr1_sq) - 1.0)\n            \n            # Calculate the specific energy loss across the jump.\n            # dE = (h2 - h1)^3 / (4 * h1 * h2)\n            if h2 > 0: # h2 will be > 0 if h1 > 0\n                delta_E = ((h2 - h1)**3) / (4.0 * h1 * h2)\n            else: # Should not happen with valid inputs\n                delta_E = 0.0\n\n        else: # Subcritical or critical upstream flow (Fr_1 = 1)\n            J = 0\n            h2 = h1\n            delta_E = 0.0\n            \n        # Format the result for this test case as a string to ensure correct number of decimal places.\n        # The f-string formatting '{value:.6f}' correctly rounds and formats the number.\n        result_strings.append(f'[{J},{h2:.6f},{delta_E:.6f}]')\n        \n    # Join all result strings into the final required format.\n    final_output = f\"[{','.join(result_strings)}]\"\n    print(final_output)\n\nsolve()\n```", "id": "2398012"}]}