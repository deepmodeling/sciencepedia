{"hands_on_practices": [{"introduction": "分离原理的第一步是设计状态反馈控制器，我们假设所有系统状态都是可测的。这个练习将指导你如何通过配置闭环极点来计算反馈增益 $K$，以使系统的动态性能达到期望的目标。通过一个主动悬架系统的物理实例 [@problem_id:1601334]，我们将看到控制器设计如何直接与期望的阻尼和刚度等物理特性相关联。", "problem": "一个主动式车辆悬架系统的简化模型由以下二阶线性微分方程描述：\n$$m \\frac{d^2y}{dt^2} + c \\frac{dy}{dt} + k y(t) = u(t)$$\n其中，$y(t)$ 是车身相对于其平衡位置的垂直位移，$m$ 是车身质量，$c$ 是减震器的被动阻尼系数，$k$ 是弹簧刚度。项 $u(t)$ 代表由控制执行器提供的主动控制力。\n\n为了提高乘坐舒适性，我们采用了一个状态反馈控制器。根据以下控制律，主动控制力与车辆的位移和垂直速度成正比：\n$$u(t) = -k_1 y(t) - k_2 \\frac{dy}{dt}$$\n其中 $k_1$ 和 $k_2$ 是待确定的反馈增益。\n\n工程目标是使主动悬架系统的行为与一个期望的参考模型一致。该目标模型具有相同的质量 $m$，但具有期望的有效刚度 $k_d$ 和期望的有效阻尼 $c_d$。这个理想参考模型的运动由以下齐次微分方程描述：\n$$m \\frac{d^2y}{dt^2} + c_d \\frac{dy}{dt} + k_d y(t) = 0$$\n\n请确定所需的反馈增益 $k_1$ 和 $k_2$ 的表达式，以使受控悬架系统的行为与期望参考模型的行为完全相同。你的最终答案应为两个表达式，一个用于 $k_1$，一个用于 $k_2$。", "solution": "目标是找到反馈增益 $k_1$ 和 $k_2$，使得受控系统的动力学特性与期望的参考动力学特性相匹配。\n\n首先，我们写出带有主动控制器的物理悬架系统的运动方程。初始方程为：\n$$m \\frac{d^2y}{dt^2} + c \\frac{dy}{dt} + k y(t) = u(t)$$\n\n接下来，我们将给定的状态反馈控制律 $u(t) = -k_1 y(t) - k_2 \\frac{dy}{dt}$ 代入系统的运动方程。这给出了闭环动力学方程：\n$$m \\frac{d^2y}{dt^2} + c \\frac{dy}{dt} + k y(t) = -k_1 y(t) - k_2 \\frac{dy}{dt}$$\n\n为了分析这个受控系统的行为，我们通过将所有包含 $y(t)$ 及其导数的项移到等式左边来重新整理方程：\n$$m \\frac{d^2y}{dt^2} + c \\frac{dy}{dt} + k_2 \\frac{dy}{dt} + k y(t) + k_1 y(t) = 0$$\n\n现在，我们按 $y(t)$ 的导数阶数对各项进行分组：\n$$m \\frac{d^2y}{dt^2} + (c + k_2) \\frac{dy}{dt} + (k + k_1) y(t) = 0$$\n这就是描述主动受控悬架系统实际行为的微分方程。\n\n问题陈述了期望的行为是一个由以下方程描述的参考模型：\n$$m \\frac{d^2y}{dt^2} + c_d \\frac{dy}{dt} + k_d y(t) = 0$$\n\n要使受控系统的行为与期望参考模型的行为完全相同，它们的控制微分方程必须等价。由于 $\\frac{d^2y}{dt^2}$ 项的系数（$m$）在两个方程中已经相同，我们可以令 $\\frac{dy}{dt}$ 和 $y(t)$ 项的系数相等。\n\n令 $\\frac{dy}{dt}$ 项的系数相等：\n$$c + k_2 = c_d$$\n解出 $k_2$ 得：\n$$k_2 = c_d - c$$\n\n令 $y(t)$ 项的系数相等：\n$$k + k_1 = k_d$$\n解出 $k_1$ 得：\n$$k_1 = k_d - k$$\n\n因此，所需的反馈增益为 $k_1 = k_d - k$ 和 $k_2 = c_d - c$。问题要求给出 $k_1$ 和 $k_2$ 的两个表达式。", "answer": "$$\\boxed{k_1 = k_d - k, \\quad k_2 = c_d - c}$$", "id": "1601334"}, {"introduction": "分离原理的第二步是处理状态不可测的情况，即设计一个状态观测器来估计系统状态。本练习将展示如何设计一个Luenberger观测器，通过选择合适的观测器增益 $L$ 来确保状态估计值以期望的速率收敛于真实值。这个问题 [@problem_id:1601383] 同样运用了极点配置技术，但这次是针对观测器误差动态系统。", "problem": "正在监测一个大型、充分混合的湖泊中某种污染物的浓度。该系统可以通过一个一阶线性微分方程来建模。设 $x(t)$ 为污染物的平均浓度，单位为毫克/升 (mg/L)。其动力学由以下公式描述：\n$$\n\\dot{x}(t) = ax(t) + bu(t)\n$$\n其中 $a$ 代表污染物的自然衰减率，$u(t)$ 是附近一家工厂排放污染物的速率，单位为毫克/秒 (mg/s)。参数 $b$ 将排放速率与浓度变化率联系起来。\n\n直接测量平均浓度 $x(t)$ 是不可行的。取而代之的是，一个传感器测量水的浊度 $y(t)$，假设它与污染物浓度成线性正比：\n$$\ny(t) = cx(t)\n$$\n其中 $c$ 是一个已知的传感器校准常数。\n\n为了估计不可测量的浓度 $x(t)$，我们实现了一个 Luenberger 观测器。该观测器是一个基于软件的模型，与物理系统并行运行。其动力学由以下公式给出：\n$$\n\\dot{\\hat{x}}(t) = a\\hat{x}(t) + bu(t) + L(y(t) - c\\hat{x}(t))\n$$\n其中 $\\hat{x}(t)$ 是估计浓度，$L$ 是观测器增益。估计值 $\\hat{x}(t)$ 对真实值 $x(t)$ 的收敛性取决于估计误差动力学的极点，该极点位于 $s = a - Lc$。为了让观测器能快速响应并纠正任何初始不匹配，一位工程师已确定该极点必须被放置在期望位置 $p_o$。\n\n给定以下系统参数：\n- 自然衰减参数：$a = -0.080 \\text{ day}^{-1}$\n- 输入有效性参数：$b = 3.5 \\times 10^{-8} \\frac{\\text{mg/L}}{\\text{mg/s}}$\n- 传感器校准常数：$c = 1.25 \\frac{\\text{TU}}{\\text{mg/L}}$，其中 TU 是浊度单位。\n- 期望的观测器极点位置：$p_o = -0.60 \\text{ day}^{-1}$\n\n计算观测器增益 $L$ 所需的数值。以 $\\frac{\\text{mg/L}}{\\text{TU} \\cdot \\text{day}}$ 为单位表示增益 $L$ 的答案，并四舍五入到三位有效数字。", "solution": "我们从系统和输出方程开始：\n$$\n\\dot{x}(t) = a x(t) + b u(t), \\quad y(t) = c x(t).\n$$\nLuenberger 观测器为\n$$\n\\dot{\\hat{x}}(t) = a \\hat{x}(t) + b u(t) + L\\big(y(t) - c \\hat{x}(t)\\big).\n$$\n定义估计误差 $e(t) = x(t) - \\hat{x}(t)$。其动力学可由下式推导：\n$$\n\\dot{e}(t) = \\dot{x}(t) - \\dot{\\hat{x}}(t) = \\big(a x(t) + b u(t)\\big) - \\big(a \\hat{x}(t) + b u(t) + L(y(t) - c \\hat{x}(t))\\big).\n$$\n使用 $y(t) = c x(t)$，我们得到 $y(t) - c \\hat{x}(t) = c\\big(x(t) - \\hat{x}(t)\\big) = c e(t)$。因此，\n$$\n\\dot{e}(t) = a\\big(x(t) - \\hat{x}(t)\\big) - L \\, c \\, e(t) = \\big(a - L c\\big) e(t).\n$$\n因此，估计误差动力学的极点位于\n$$\ns = a - L c.\n$$\n为了将观测器极点放置在期望位置 $p_{o}$，我们设置\n$$\na - L c = p_{o} \\quad \\Longrightarrow \\quad L = \\frac{a - p_{o}}{c}.\n$$\n单位检查：$a$ 和 $p_{o}$ 的单位是 day$^{-1}$，$c$ 的单位是 TU每mg/L，因此 $L$ 的单位是 $(\\text{day}^{-1})/(\\text{TU}/(\\text{mg}/\\text{L})) = (\\text{mg}/\\text{L})/(\\text{TU}\\cdot \\text{day})$，符合要求。\n\n代入给定值 $a = -0.080 \\, \\text{day}^{-1}$，$p_{o} = -0.60 \\, \\text{day}^{-1}$ 和 $c = 1.25 \\, \\text{TU}/(\\text{mg}/\\text{L})$：\n$$\nL = \\frac{-0.080 - (-0.60)}{1.25} = \\frac{0.520}{1.25} = 0.416.\n$$\n四舍五入到三位有效数字，所需的观测器增益为 $0.416$，单位是 $(\\text{mg}/\\text{L})/(\\text{TU}\\cdot \\text{day})$。", "answer": "$$\\boxed{0.416}$$", "id": "1601383"}, {"introduction": "现在，我们将把控制器和观测器的设计结合起来，体验分离原理的完整流程。本练习将引导你为一个系统独立设计控制器和观测器，然后推导出最终得到的动态补偿器的传递函数。通过这个过程 [@problem_id:1601360]，你将理解状态空间设计方法如何转化为一个可以具体实现的控制器，并看到控制器和观测器的动态特性是如何在最终设计中共同发挥作用的。", "problem": "考虑一个用于控制大型储罐液位的简化模型。系统的状态是液位 $x(t)$，单位为米。其动态由一阶微分方程 $\\dot{x}(t) = u(t)$ 决定，其中 $u(t)$ 是控制输入，表示净流入速率，单位为米/秒。传感器提供液位的直接测量，因此系统输出为 $y(t) = x(t)$。\n\n一位控制工程师的任务是设计一个基于观测器的状态反馈架构的动态控制器。设计规范要求与状态反馈控制作用相关的闭环极点位于 $-2$，与状态观测器误差动态相关的极点位于 $-20$。\n\n确定最终动态控制器的传递函数 $C(s) = U(s)/Y(s)$。", "solution": "根据 $\\dot{x}(t)=u(t)$ 和 $y(t)=x(t)$，该系统由状态空间模型给出，其中 $A=0$、$B=1$ 和 $C=1$。\n\n选择状态反馈增益 $K$，以将 $A-BK$ 的闭环极点配置在 $-2$。由于 $A-BK=0-1\\cdot K=-K$，要求 $-K=-2$ 意味着\n$$\nK=2.\n$$\n\n选择观测器增益 $L$，以将 $A-LC$ 的观测器误差动态极点配置在 $-20$。由于 $A-LC=0-L\\cdot 1=-L$，要求 $-L=-20$ 意味着\n$$\nL=20.\n$$\n\n使用 Luenberger 观测器和状态反馈，控制器定义为\n$$\n\\dot{\\hat{x}}=A\\hat{x}+Bu+L\\left(y-C\\hat{x}\\right), \\quad u=-K\\hat{x}.\n$$\n代入 $A=0$、$B=1$、$C=1$ 和 $u=-K\\hat{x}$ 得\n$$\n\\dot{\\hat{x}}=u+L\\left(y-\\hat{x}\\right)=-(K+L)\\hat{x}+Ly.\n$$\n在零初始条件下进行拉普拉斯变换，\n$$\ns\\hat{X}(s)=-(K+L)\\hat{X}(s)+L Y(s) \\quad \\Rightarrow \\quad \\hat{X}(s)=\\frac{L}{s+K+L}Y(s).\n$$\n然后\n$$\nU(s)=-K\\hat{X}(s)=-K\\frac{L}{s+K+L}Y(s),\n$$\n因此动态控制器的传递函数为\n$$\nC(s)=\\frac{U(s)}{Y(s)}=-\\frac{K L}{s+K+L}.\n$$\n当 $K=2$ 且 $L=20$ 时，这变为\n$$\nC(s)=-\\frac{40}{s+22}.\n$$", "answer": "$$\\boxed{-\\frac{40}{s+22}}$$", "id": "1601360"}]}