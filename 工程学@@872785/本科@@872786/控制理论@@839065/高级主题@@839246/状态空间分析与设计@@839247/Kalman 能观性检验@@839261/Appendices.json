{"hands_on_practices": [{"introduction": "掌握了卡尔曼可观测性检验的理论基础后，首要任务是将其应用于具体系统。这个练习提供了一个基本的二阶线性时不变（LTI）系统，旨在让你熟悉构建可观测性矩阵并计算其秩的核心步骤 [@problem_id:1587540]。通过这个直接的计算，你将能够巩固对可观测性定义的理解。", "problem": "一个二阶线性时不变 (LTI) 系统由以下状态空间表示描述：\n$$\n\\dot{\\mathbf{x}}(t) = A\\mathbf{x}(t) + B\\mathbf{u}(t)\n$$\n$$\ny(t) = C\\mathbf{x}(t)\n$$\n其中 $\\mathbf{x}(t)$ 是状态向量，$\\mathbf{u}(t)$ 是输入向量，$y(t)$ 是输出。该系统由以下矩阵表征：\n$$\nA = \\begin{pmatrix} -4  1 \\\\ -3  0 \\end{pmatrix}, \\quad C = \\begin{pmatrix} 1  0 \\end{pmatrix}\n$$\n根据 Kalman 的可观测性检验，确定系统的可观测性矩阵的秩，并判断该系统是否可观测。从以下选项中选择正确的选项。\n\nA. 秩 = 1，不可观测\n\nB. 秩 = 1，可观测\n\nC. 秩 = 2，可观测\n\nD. 秩 = 2，不可观测", "solution": "根据 Kalman 的可观测性检验，对于一个 $n$ 阶系统，其可观测性矩阵定义为\n$$\n\\mathcal{O}=\\begin{pmatrix} C \\\\ CA \\\\ \\cdots \\\\ CA^{n-1} \\end{pmatrix}.\n$$\n对于这个二阶系统 ($n=2$)，可观测性矩阵简化为\n$$\n\\mathcal{O}=\\begin{pmatrix} C \\\\ CA \\end{pmatrix}.\n$$\n给定 $C=\\begin{pmatrix}1  0\\end{pmatrix}$ 和 $A=\\begin{pmatrix}-4  1 \\\\ -3  0\\end{pmatrix}$，计算\n$$\nCA = C A = \\begin{pmatrix}1  0\\end{pmatrix}\\begin{pmatrix}-4  1 \\\\ -3  0\\end{pmatrix} = \\begin{pmatrix}-4  1\\end{pmatrix}.\n$$\n因此，\n$$\n\\mathcal{O}=\\begin{pmatrix} 1  0 \\\\ -4  1 \\end{pmatrix}.\n$$\n对于这个 $2\\times 2$ 的情况，$\\mathcal{O}$ 的秩由其行列式确定：\n$$\n\\det(\\mathcal{O}) = 1\\cdot 1 - 0\\cdot(-4) = 1 \\neq 0.\n$$\n因此，$\\operatorname{rank}(\\mathcal{O})=2$，这等于系统的阶数，所以该系统是可观测的。", "answer": "$$\\boxed{C}$$", "id": "1587540"}, {"introduction": "在实际工程应用中，可观测性分析直接关系到传感器方案的选择。这个练习模拟了一个自主漫游车的简化模型，探讨了两种不同的传感器配置——仅测量位置或仅测量速度——如何影响系统状态的估计 [@problem_id:1587613]。通过对比这两种情况，你将深刻理解输出矩阵 $C$ 在决定系统是否可观测中所扮演的关键角色。", "problem": "一个工程团队正在开发一款简单的自主漫游车，设计用于在平坦的测试平台上沿直线移动。在离散时间步 $k$ 时，该漫游车的状态由状态向量 $x(k) = \\begin{pmatrix} p(k) \\\\ v(k) \\end{pmatrix}$ 描述，其中 $p(k)$ 是漫游车的位置，$v(k)$ 是其速度。该团队对漫游车的动力学使用了一个简化的物理模型，假设在控制更新之间速度恒定。采样时间为 $\\Delta t=1$ 秒，该离散时间线性时不变系统由以下状态方程描述：\n$$x(k+1) = A x(k)$$\n其中状态转移矩阵 $A$ 为：\n$$A = \\begin{pmatrix} 1  1 \\\\ 0  1 \\end{pmatrix}$$\n\n为了通过测量来估计漫游车的完整状态（位置和速度），该团队正在评估两种不同的、相互排斥的传感器配置。输出方程为 $y(k) = C x(k)$。\n\n- **配置 1：** 使用位置传感器，仅测量漫游车的位置。对应的输出矩阵为 $C_1 = \\begin{pmatrix} 1  0 \\end{pmatrix}$。\n- **配置 2：** 使用速度传感器（如多普勒雷达），仅测量漫游车的速度。对应的输出矩阵为 $C_2 = \\begin{pmatrix} 0  1 \\end{pmatrix}$。\n\n如果可以在有限时间间隔内，仅使用输出测量值 $y(k)$ 来确定整个内部状态向量 $x(k)$，则该系统被定义为“可观测的”。请评估该漫游车系统在两种传感器配置下的可观测性。下列哪个陈述是正确的？\n\nA. 配置 1：可观测；配置 2：可观测\n\nB. 配置 1：可观测；配置 2：不可观测\n\nC. 配置 1：不可观测；配置 2：可观测\n\nD. 配置 1：不可观测；配置 2：不可观测\n\nE. 若不知道初始状态 $x(0)$，则两种配置的可观测性都无法确定。", "solution": "对于状态方程为 $x(k+1)=A x(k)$ 且输出方程为 $y(k)=C x(k)$ 的离散时间线性时不变系统，该系统可观测的充要条件是可观测性矩阵具有等于状态维数的满列秩。由于状态维数为 $2$，可观测性矩阵为\n$$\n\\mathcal{O}=\\begin{pmatrix}\nC \\\\\nC A\n\\end{pmatrix},\n$$\n当 $\\operatorname{rank}(\\mathcal{O})=2$ 时，系统是可观测的。\n\n对于配置 1，$C_{1}=\\begin{pmatrix}1  0\\end{pmatrix}$。计算\n$$\nC_{1}A=\\begin{pmatrix}1  0\\end{pmatrix}\\begin{pmatrix}1  1 \\\\ 0  1\\end{pmatrix}=\\begin{pmatrix}1  1\\end{pmatrix}.\n$$\n因此，\n$$\n\\mathcal{O}_{1}=\\begin{pmatrix}\n1  0 \\\\\n1  1\n\\end{pmatrix}.\n$$\n其行列式为\n$$\n\\det(\\mathcal{O}_{1})=1\\cdot 1-0\\cdot 1=1\\neq 0,\n$$\n所以 $\\operatorname{rank}(\\mathcal{O}_{1})=2$，系统在配置 1 下是可观测的。\n\n对于配置 2，$C_{2}=\\begin{pmatrix}0  1\\end{pmatrix}$。计算\n$$\nC_{2}A=\\begin{pmatrix}0  1\\end{pmatrix}\\begin{pmatrix}1  1 \\\\ 0  1\\end{pmatrix}=\\begin{pmatrix}0  1\\end{pmatrix}.\n$$\n因此，\n$$\n\\mathcal{O}_{2}=\\begin{pmatrix}\n0  1 \\\\\n0  1\n\\end{pmatrix}.\n$$\n两行相同，因此\n$$\n\\operatorname{rank}(\\mathcal{O}_{2})=1 < 2,\n$$\n所以系统在配置 2 下是不可观测的。\n\n因此，配置 1 是可观测的，而配置 2 是不可观测的，这对应于选项 B。", "answer": "$$\\boxed{B}$$", "id": "1587613"}, {"introduction": "当一个系统被判定为不可观测时，我们通常希望更进一步，分离出系统中可观测和不可观测的部分。这个问题引导你执行一个更高级的任务：通过相似性变换，将一个不可观测的系统转换为可观测标准型 [@problem_id:1587542]。这个过程不仅揭示了系统的内在结构，也为设计状态观测器或控制器提供了深刻的见解。", "problem": "考虑一个三阶线性时不变 (LTI) 系统，由状态空间方程 $\\dot{\\mathbf{x}} = A\\mathbf{x}$ 和 $y = C\\mathbf{x}$ 描述，其中 $\\mathbf{x} \\in \\mathbb{R}^3$ 是状态向量，$y \\in \\mathbb{R}$ 是标量输出。系统矩阵由下式给出：\n$$ A = \\begin{pmatrix} 1  2  -6 \\\\ 0  -1  -2 \\\\ 1  1  -5 \\end{pmatrix}, \\quad C = \\begin{pmatrix} 1  0  -1 \\end{pmatrix} $$\n可以使用一个非奇异相似变换 $\\mathbf{z} = P\\mathbf{x}$ 将系统分解为其可观测和不可观测部分。变换后的系统矩阵 $\\tilde{A} = PAP^{-1}$ 和 $\\tilde{C} = CP^{-1}$ 需要具有以下分块结构，称为可观测标准分解：\n$$ \\tilde{A} = \\begin{pmatrix} A_o  \\mathbf{0} \\\\ A_{uo}  A_u \\end{pmatrix}, \\quad \\tilde{C} = \\begin{pmatrix} C_o  \\mathbf{0} \\end{pmatrix} $$\n其中子矩阵 $A_o$ 是 $2 \\times 2$ 的，$C_o$ 是 $1 \\times 2$ 的，$\\mathbf{0}$ 块是适当维度的零矩阵。\n\n找出实现这种分解的唯一变换矩阵 $P$，已知 $P$ 具有以下特定结构：\n$$ P = \\begin{pmatrix} 1  0  p_{13} \\\\ 0  1  p_{23} \\\\ 0  0  1 \\end{pmatrix} $$\n其中 $p_{13}$ 和 $p_{23}$ 是待定的实常数。", "solution": "我们寻求一个相似变换 $z = P x$，其中 $P$ 是给定形式的上三角矩阵，使得变换后的矩阵对 $(\\tilde{A},\\tilde{C})$ 处于可观测标准分解形式，即\n$$\n\\tilde{A} = P A P^{-1} = \\begin{pmatrix} A_{o}  \\mathbf{0} \\\\ A_{uo}  A_{u} \\end{pmatrix}, \\quad\n\\tilde{C} = C P^{-1} = \\begin{pmatrix} C_{o}  \\mathbf{0} \\end{pmatrix},\n$$\n其中 $\\tilde{A}$ 的右上 $2 \\times 1$ 块等于零，$\\tilde{C}$ 的最后一列等于零。\n\n首先，通过可观测性矩阵确定不可观测子空间。计算\n$$\nC = \\begin{pmatrix} 1  0  -1 \\end{pmatrix}, \\quad\nCA = C A = \\begin{pmatrix} 1  0  -1 \\end{pmatrix}\n\\begin{pmatrix} 1  2  -6 \\\\ 0  -1  -2 \\\\ 1  1  -5 \\end{pmatrix}\n= \\begin{pmatrix} 0  1  -1 \\end{pmatrix}.\n$$\n接下来，\n$$\nCA^{2} = (CA) A = \\begin{pmatrix} 0  1  -1 \\end{pmatrix}\n\\begin{pmatrix} 1  2  -6 \\\\ 0  -1  -2 \\\\ 1  1  -5 \\end{pmatrix}\n= \\begin{pmatrix} -1  -2  3 \\end{pmatrix}.\n$$\n因此可观测性矩阵为\n$$\n\\mathcal{O} = \\begin{pmatrix}\n1  0  -1 \\\\\n0  1  -1 \\\\\n-1  -2  3\n\\end{pmatrix}.\n$$\n注意到第三行满足 $(-1)\\cdot(1,0,-1) + (-2)\\cdot(0,1,-1) = (-1,-2,3)$，所以 $\\operatorname{rank}(\\mathcal{O}) = 2$，不可观测子空间是一维的。求解 $\\mathcal{O} v = 0$：\n$$\n\\begin{cases}\nx_{1} - x_{3} = 0, \\\\\nx_{2} - x_{3} = 0,\n\\end{cases}\n\\quad \\Rightarrow \\quad v = \\alpha \\begin{pmatrix} 1 \\\\ 1 \\\\ 1 \\end{pmatrix}, \\ \\alpha \\neq 0.\n$$\n因此不可观测子空间是 $\\operatorname{span}\\{[1,1,1]^{T}\\}$，它是 $A$-不变的。事实上，\n$$\nA \\begin{pmatrix} 1 \\\\ 1 \\\\ 1 \\end{pmatrix}\n= \\begin{pmatrix} 1+2-6 \\\\ -1-2 \\\\ 1+1-5 \\end{pmatrix}\n= \\begin{pmatrix} -3 \\\\ -3 \\\\ -3 \\end{pmatrix}\n= -3 \\begin{pmatrix} 1 \\\\ 1 \\\\ 1 \\end{pmatrix}.\n$$\n\n给定 $P = \\begin{pmatrix} 1  0  p_{13} \\\\ 0  1  p_{23} \\\\ 0  0  1 \\end{pmatrix}$，其逆矩阵是\n$$\nP^{-1} = \\begin{pmatrix} 1  0  -p_{13} \\\\ 0  1  -p_{23} \\\\ 0  0  1 \\end{pmatrix}.\n$$\n$P^{-1}$ 的第三列是 $v_{3} = \\begin{pmatrix} -p_{13} \\\\ -p_{23} \\\\ 1 \\end{pmatrix}$。为了实现可观测分解，我们要求 $\\tilde{C} = C P^{-1}$ 的最后一列为零，即 $C v_{3} = 0$，并且更进一步地，$v_{3}$ 应该位于不可观测子空间中，这样 $\\tilde{A}$ 的右上块才会为零。因此我们令\n$$\n\\begin{pmatrix} -p_{13} \\\\ -p_{23} \\\\ 1 \\end{pmatrix} = k \\begin{pmatrix} 1 \\\\ 1 \\\\ 1 \\end{pmatrix}\n\\quad \\Rightarrow \\quad -p_{13} = k, \\ -p_{23} = k, \\ 1 = k.\n$$\n因此 $k = 1$，所以 $p_{13} = -1$ 且 $p_{23} = -1$。因此\n$$\nP = \\begin{pmatrix} 1  0  -1 \\\\ 0  1  -1 \\\\ 0  0  1 \\end{pmatrix}, \\quad\nP^{-1} = \\begin{pmatrix} 1  0  1 \\\\ 0  1  1 \\\\ 0  0  1 \\end{pmatrix}.\n$$\n验证：\n$$\n\\tilde{C} = C P^{-1} = \\begin{pmatrix} 1  0  -1 \\end{pmatrix}\n\\begin{pmatrix} 1  0  1 \\\\ 0  1  1 \\\\ 0  0  1 \\end{pmatrix}\n= \\begin{pmatrix} 1  0  0 \\end{pmatrix} = \\begin{pmatrix} C_{o}  0 \\end{pmatrix},\n$$\n并且\n$$\n\\tilde{A} = P A P^{-1}\n= \\begin{pmatrix} 0  1  0 \\\\ -1  -2  0 \\\\ 1  1  -3 \\end{pmatrix}\n= \\begin{pmatrix} A_{o}  0 \\\\ A_{uo}  A_{u} \\end{pmatrix},\n$$\n其具有所需的分块结构，右上块为零，且不可观测部分是一维的。因此，具有指定结构的唯一矩阵 $P$ 是\n$$\nP = \\begin{pmatrix} 1  0  -1 \\\\ 0  1  -1 \\\\ 0  0  1 \\end{pmatrix}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix} 1  0  -1 \\\\ 0  1  -1 \\\\ 0  0  1 \\end{pmatrix}}$$", "id": "1587542"}]}