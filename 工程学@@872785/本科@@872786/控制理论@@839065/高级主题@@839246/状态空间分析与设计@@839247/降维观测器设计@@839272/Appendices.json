{"hands_on_practices": [{"introduction": "在深入研究降阶观测器的具体设计方法之前，我们必须首先确定一个稳定的设计方案是否可行。这个基本问题可以通过检查一个名为“能检测性”的属性来回答。这个练习 [@problem_id:1604272] 将指导你验证这一关键的先决条件，它构成了任何成功观测器设计的理论基础。", "problem": "考虑一个三阶线性时不变（LTI）系统，其状态空间表示为 $\\dot{x}(t) = Ax(t)$ 和 $y(t) = Cx(t)$，其中 $x(t) \\in \\mathbb{R}^3$ 是状态向量，$y(t) \\in \\mathbb{R}$ 是测量输出。系统矩阵由下式给出：\n$$A = \\begin{pmatrix} 0  1  -1 \\\\ 1  -2  1 \\\\ 0  1  -2 \\end{pmatrix}, \\quad C = \\begin{pmatrix} 1  0  0 \\end{pmatrix}$$\n为了估计该系统的未测量状态，可以设计一个降阶观测器。一个稳定的降阶观测器存在的基本先决条件是，特定的子系统划分满足能检测性。\n\n基于对系统的分析，关于设计稳定降阶观测器的适用性，以下哪个陈述是正确的？\n\nA. 可以设计稳定的降阶观测器，因为相关子系统是能观测的。\n\nB. 可以设计稳定的降阶观测器，因为相关子系统是能检测的，尽管它不是能观测的。\n\nC. 不能设计稳定的降阶观测器，因为相关子系统是不能检测的。\n\nD. 不能设计稳定的降阶观测器，因为相关子系统是不能控的。\n\nE. 在不知道完整状态空间模型 $\\dot{x} = Ax+Bu$ 的输入矩阵 $B$ 的情况下，无法确定其适用性。", "solution": "给定系统 $\\dot{x}(t)=Ax(t)$，$y(t)=Cx(t)$，其中\n$$\nA=\\begin{pmatrix}\n0  1  -1\\\\\n1  -2  1\\\\\n0  1  -2\n\\end{pmatrix}, \n\\quad \nC=\\begin{pmatrix}1  0  0\\end{pmatrix},\n$$\n所以测量输出为 $y=x_{1}$。对于一个将已测量状态排在前面的降阶观测器，将状态划分为 $x=\\begin{pmatrix}x_{m}\\\\x_{u}\\end{pmatrix}$，其中 $x_{m}=x_{1}\\in\\mathbb{R}$ 且 $x_{u}=\\begin{pmatrix}x_{2}\\\\x_{3}\\end{pmatrix}\\in\\mathbb{R}^{2}$。相应地划分矩阵 $A$ 为\n$$\nA=\\begin{pmatrix}\nA_{11}  A_{12}\\\\\nA_{21}  A_{22}\n\\end{pmatrix},\n$$\n通过观察矩阵 $A$ 可得，\n$$\nA_{11}=0,\\quad A_{12}=\\begin{pmatrix}1  -1\\end{pmatrix},\\quad\nA_{21}=\\begin{pmatrix}1\\\\0\\end{pmatrix},\\quad\nA_{22}=\\begin{pmatrix}-2  1\\\\ 1  -2\\end{pmatrix}.\n$$\n在此划分下，子系统的动力学为\n$$\n\\dot{x}_{m}=A_{11}x_{m}+A_{12}x_{u},\\qquad\n\\dot{x}_{u}=A_{21}x_{m}+A_{22}x_{u}.\n$$\n一个用于 $x_{u}$ 的标准降阶观测器存在且可以被镇定的充要条件是矩阵对 $(A_{22},A_{12})$ 是能检测的。此外，降阶观测器的误差动力学具有以下形式\n$$\n\\dot{e}_{u}=(A_{22}-L A_{12})e_{u},\n$$\n因此 $(A_{22},A_{12})$ 的能检测性确保了存在一个 $L$ 使得 $A_{22}-L A_{12}$ 是赫尔维茨（Hurwitz）矩阵。\n\n我们通过首先检查 $A_{22}$ 的特征值来测试能检测性。$A_{22}$ 的特征多项式是\n$$\n\\det(\\lambda I - A_{22})=\\det\\begin{pmatrix}\\lambda+2  -1\\\\ -1  \\lambda+2\\end{pmatrix}\n=(\\lambda+2)^{2}-1=\\lambda^{2}+4\\lambda+3=(\\lambda+1)(\\lambda+3),\n$$\n所以特征值为 $\\lambda=-1$ 和 $\\lambda=-3$，两者都严格位于开左半平面。因此，对于任何输出矩阵，包括 $A_{12}$，矩阵对 $(A_{22},\\cdot)$ 都是能检测的，因为不存在实部为非负的模态。\n\n为了检验能观测性，构建 $(A_{22},A_{12})$ 的能观测性矩阵：\n$$\n\\mathcal{O}=\\begin{pmatrix}\nA_{12}\\\\\nA_{12}A_{22}\n\\end{pmatrix}\n=\\begin{pmatrix}\n1  -1\\\\\n1  -1\n\\end{pmatrix}\\begin{pmatrix}\n-2  1\\\\\n1  -2\n\\end{pmatrix}\n=\\begin{pmatrix}\n1  -1\\\\\n-3  3\n\\end{pmatrix}.\n$$\n显式计算 $A_{12}A_{22}$：\n$$\nA_{12}A_{22}=\\begin{pmatrix}1  -1\\end{pmatrix}\\begin{pmatrix}-2  1\\\\ 1  -2\\end{pmatrix}\n=\\begin{pmatrix}-3  3\\end{pmatrix}=-3\\begin{pmatrix}1  -1\\end{pmatrix},\n$$\n所以 $\\mathcal{O}$ 的秩为 $1$，矩阵对 $(A_{22},A_{12})$ 是不能观测的。然而，由于 $A_{22}$ 的所有特征值都是严格稳定的，不可观测的模态是稳定的，因此该矩阵对是能检测的。\n\n因此，可以设计一个稳定的降阶观测器，其理由是相关子系统的能检测性（但不是能观测性）。在自治情况下，涉及能控性或对输入矩阵 $B$ 的依赖性的选项与这个基于能检测性的条件无关。\n\n因此，正确的陈述是B。", "answer": "$$\\boxed{B}$$", "id": "1604272"}, {"introduction": "一旦我们确认可以设计一个稳定的观测器，下一步就是实际的设计过程。这个过程的核心是选择观测器增益 $L$ 以实现期望的性能，这通常通过观测器误差动态的极点位置来指定。这个实践练习 [@problem_id:1604275] 展示了这一核心的极点配置技术，将性能要求（快速的误差收敛）转化为增益 $L$ 的具体值。", "problem": "一位航空航天工程师正在为一架小型无人机（UAV）开发控制器。该无人机围绕其悬停平衡点的俯仰动力学的一个简化线性模型由以下状态空间表示给出：\n\n$$\n\\frac{d}{dt} \\begin{pmatrix} x_1(t) \\\\ x_2(t) \\end{pmatrix} = \\begin{pmatrix} 0  1 \\\\ -a_1  -a_2 \\end{pmatrix} \\begin{pmatrix} x_1(t) \\\\ x_2(t) \\end{pmatrix} + \\begin{pmatrix} 0 \\\\ b_1 \\end{pmatrix} u(t)\n$$\n\n在此，$x_1(t)$ 是以弧度为单位的俯仰角，$x_2(t)$ 是以弧度/秒为单位的俯仰角速度。项 $u(t)$ 代表来自电机的控制输入。系统参数给定为 $a_1 = 25.0 \\text{ s}^{-2}$ 和 $a_2 = 12.5 \\text{ s}^{-1}$。\n\n机载传感器可以精确测量俯仰角 $x_1(t)$，因此输出方程为 $y(t) = x_1(t)$。然而，俯仰角速度 $x_2(t)$ 无法直接测量，必须被估计以便用于反馈控制律中。为实现此目的，需要设计一个一阶降维观测器。观测器的任务是生成状态 $x_2(t)$ 的一个估计值 $\\hat{x}_2(t)$。\n\n为了使估计值快速收敛，工程师希望观测器误差动力学的单个极点位于 $s = -50.0 \\text{ s}^{-1}$。确定为实现此极点配置所需的标量观测器增益 $L$ 的值。\n\n答案 $L$ 以 $\\text{s}^{-1}$ 为单位表示，并四舍五入到三位有效数字。", "solution": "我们从给定的系统开始\n$$\n\\dot{x}=\\begin{pmatrix}0  1\\\\ -a_{1}  -a_{2}\\end{pmatrix}x+\\begin{pmatrix}0\\\\ b_{1}\\end{pmatrix}u,\\quad y=x_{1},\n$$\n并将状态划分为 $x=\\begin{pmatrix}x_{m}\\\\ x_{u}\\end{pmatrix}$，其中 $x_{m}=x_{1}$（已测量）和 $x_{u}=x_{2}$（未测量）。那么\n$$\nA_{11}=0,\\quad A_{12}=1,\\quad A_{21}=-a_{1},\\quad A_{22}=-a_{2},\\quad B_{1}=0,\\quad B_{2}=b_{1}.\n$$\n用于 $x_{u}$ 的一个标准一阶降维观测器具有以下形式\n$$\n\\dot{\\hat{x}}_{u}=(A_{22}-L A_{12})\\hat{x}_{u}+(A_{21}-L A_{11})y+(B_{2}-L B_{1})u+L\\,\\dot{y}.\n$$\n定义估计误差 $\\tilde{x}_{u}=x_{u}-\\hat{x}_{u}$。使用对象方程\n$$\n\\dot{x}_{u}=A_{21}y+A_{22}x_{u}+B_{2}u,\\quad \\dot{y}=\\dot{x}_{m}=A_{11}y+A_{12}x_{u}+B_{1}u,\n$$\n误差动力学变为\n$$\n\\dot{\\tilde{x}}_{u}=\\dot{x}_{u}-\\dot{\\hat{x}}_{u}=\\left(A_{22}-L A_{12}\\right)\\tilde{x}_{u}.\n$$\n因此，单个观测器误差极点位于\n$$\ns=A_{22}-L A_{12}.\n$$\n为了将该极点配置在期望位置 $s=-\\lambda$ (其中 $\\lambda>0$)，我们需要\n$$\nA_{22}-L A_{12}=-\\lambda\\quad\\Longrightarrow\\quad L=\\frac{A_{22}+\\lambda}{A_{12}}.\n$$\n对于给定的系统，$A_{22}=-a_{2}$ 且 $A_{12}=1$，所以\n$$\nL=-a_{2}+\\lambda.\n$$\n当目标极点位于 $s=-50\\,\\text{s}^{-1}$ 时，我们设置 $\\lambda=50$ 并使用 $a_{2}=12.5\\,\\text{s}^{-1}$ 来得到\n$$\nL=-a_{2}+50=-12.5+50=37.5\\,\\text{s}^{-1}.\n$$\n四舍五入到三位有效数字，所需的观测器增益是 $37.5$，单位是 $\\text{s}^{-1}$。", "answer": "$$\\boxed{37.5}$$", "id": "1604275"}, {"introduction": "观测器增益 $L$ 提供了一个基于测量误差的校正反馈机制。但是，如果我们为了简化设计而省略了这个校正项，会发生什么呢？这个练习 [@problem_id:1604207] 通过分析在存在恒定扰动且增益 $L$ 设置为零时系统的长期估计误差，探讨了这种情况。它有力地说明了反馈在抑制不确定性和实现精确状态估计中的关键作用。", "problem": "一位工程师正在监控一个由稳定的线性时不变 (LTI) 系统描述的过程。该系统的状态由向量 $x(t) = [x_1(t), x_2(t), x_3(t)]^T$ 给出。第一个状态 $x_1(t)$ 被直接测量，因此我们有测量输出 $y(t) = x_1(t)$。其余的状态，我们将其组合成一个向量 $x_{un}(t) = [x_2(t), x_3(t)]^T$，是无法直接测量的。\n\n已知未测量状态的动态特性遵循以下方程：\n$$\n\\frac{d}{dt}x_{un}(t) = A_{21} y(t) + A_{22} x_{un}(t) + B_2 u(t) + W\n$$\n其中 $u(t)$ 是一个已知的控制输入，$W$ 是一个未知的恒定扰动向量。子动态矩阵 $A_{22}$ 已知是稳定的。\n\n为了估计未测量的状态，工程师实现了一个简化的降阶观测器。该观测器使用已知输入 $y(t)$ 和 $u(t)$ 来模拟 $x_{un}(t)$ 的动态特性，但其设计没有考虑扰动 $W$。因此，观测器的动态特性由以下方程给出：\n$$\n\\frac{d}{dt}\\hat{x}_{un}(t) = A_{21} y(t) + A_{22} \\hat{x}_{un}(t) + B_2 u(t)\n$$\n这种缺乏校正反馈项的观测器结构，等效于一个标准的降阶观测器设计，其中观测器增益矩阵被设置为零。\n\n给定该过程的具体矩阵：\n$$\nA_{22} = \\begin{pmatrix} -3  1 \\\\ -2  -1 \\end{pmatrix}, \\quad W = \\begin{pmatrix} 5 \\\\ 10 \\end{pmatrix}\n$$\n确定稳态估计误差向量，定义为 $e_{ss} = \\lim_{t\\to\\infty} [x_{un}(t) - \\hat{x}_{un}(t)]$。将您的答案表示为一个包含稳态误差向量的两个无量纲分量的行矩阵，即 $[e_{2,ss}, e_{3,ss}]$。", "solution": "定义估计误差 $e(t) \\triangleq x_{un}(t) - \\hat{x}_{un}(t)$。使用给定的对象和观测器动态方程，\n$$\n\\frac{d}{dt}x_{un}(t) = A_{21} y(t) + A_{22} x_{un}(t) + B_{2} u(t) + W,\n$$\n$$\n\\frac{d}{dt}\\hat{x}_{un}(t) = A_{21} y(t) + A_{22} \\hat{x}_{un}(t) + B_{2} u(t),\n$$\n将观测器方程从对象方程中减去，得到误差动态方程\n$$\n\\dot{e}(t) = \\dot{x}_{un}(t) - \\dot{\\hat{x}}_{un}(t) = A_{22}\\big(x_{un}(t) - \\hat{x}_{un}(t)\\big) + W = A_{22} e(t) + W.\n$$\n由于 $A_{22}$ 是稳定的且 $W$ 是一个常数向量，稳态误差 $e_{ss} \\triangleq \\lim_{t \\to \\infty} e(t)$ 存在并满足平衡条件\n$$\n0 = A_{22} e_{ss} + W \\quad \\Rightarrow \\quad e_{ss} = -A_{22}^{-1} W.\n$$\n已知\n$$\nA_{22} = \\begin{pmatrix} -3  1 \\\\ -2  -1 \\end{pmatrix}, \\quad W = \\begin{pmatrix} 5 \\\\ 10 \\end{pmatrix},\n$$\n计算 $A_{22}^{-1}$。行列式为\n$$\n\\det(A_{22}) = (-3)(-1) - (1)(-2) = 3 + 2 = 5,\n$$\n因此\n$$\nA_{22}^{-1} = \\frac{1}{5} \\begin{pmatrix} -1  -1 \\\\ 2  -3 \\end{pmatrix}.\n$$\n所以，\n$$\nA_{22}^{-1} W = \\frac{1}{5} \\begin{pmatrix} -1  -1 \\\\ 2  -3 \\end{pmatrix} \\begin{pmatrix} 5 \\\\ 10 \\end{pmatrix} = \\frac{1}{5} \\begin{pmatrix} -15 \\\\ -20 \\end{pmatrix} = \\begin{pmatrix} -3 \\\\ -4 \\end{pmatrix},\n$$\n且\n$$\ne_{ss} = -A_{22}^{-1} W = \\begin{pmatrix} 3 \\\\ 4 \\end{pmatrix}.\n$$\n表示为行矩阵，稳态估计误差为 $[e_{2,ss}, e_{3,ss}] = [3, 4]$。", "answer": "$$\\boxed{\\begin{pmatrix} 3  4 \\end{pmatrix}}$$", "id": "1604207"}]}