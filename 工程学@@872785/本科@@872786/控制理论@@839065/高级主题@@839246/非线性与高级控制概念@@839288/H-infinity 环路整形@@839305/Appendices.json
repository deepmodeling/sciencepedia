{"hands_on_practices": [{"introduction": "H-无穷环路整形设计的核心思想是通过引入权重函数（或称为补偿器）来“塑造”开环系统的频率响应，以满足性能和鲁棒性要求。这个练习将带你完成环路整形的第一步：将原始被控对象与权重函数相结合，构成“整形后”的被控对象，并计算其一个关键特性——增益交越频率。[@problem_id:1578985]", "problem": "考虑为一架小型四轴无人机设计一个简化的垂直高度控制器。从指令电机推力到产生的垂直速度之间的线性化动力学可以用一个一阶系统 $G(s)$ 来建模。在一个回路成形控制设计框架中，标称系统通过增加加权函数（也称为补偿器）来达到期望的性能特性。\n\n该系统由以下传递函数给出：\n$$G(s) = \\frac{K}{s+a}$$\n其中 $K$ 和 $a$ 是正数，分别代表系统的直流增益和极点位置。\n\n为了改善性能，引入了一个比例预补偿器 $W_1(s)$ 和一个积分后补偿器 $W_2(s)$。它们的传递函数是：\n$$W_1(s) = k_p$$\n$$W_2(s) = \\frac{k_i}{s}$$\n其中 $k_p$ 和 $k_i$ 是正数增益。\n\n“成形系统”，记为 $G_s(s)$，是通过将这些元件按 $W_2(s)$、$G(s)$ 和 $W_1(s)$ 的顺序串联而形成的。\n\n确定使成形系统频率响应的幅值 $|G_s(j\\omega)|$ 等于 1 的角频率 $\\omega  0$。用 $K$、$a$、$k_p$ 和 $k_i$ 的公式表示你的答案。", "solution": "成形系统是 $W_{2}(s)$、$G(s)$ 和 $W_{1}(s)$ 的串联：\n$$\nG_{s}(s)=W_{2}(s)\\,G(s)\\,W_{1}(s)=\\frac{k_{i}}{s}\\cdot\\frac{K}{s+a}\\cdot k_{p}=\\frac{k_{p}k_{i}K}{s(s+a)}.\n$$\n计算在 $s=j\\omega$ 处的频率响应可得\n$$\nG_{s}(j\\omega)=\\frac{k_{p}k_{i}K}{(j\\omega)(j\\omega+a)}.\n$$\n其幅值为\n$$\n\\left|G_{s}(j\\omega)\\right|=\\frac{k_{p}k_{i}K}{|j\\omega|\\;|j\\omega+a|}=\\frac{k_{p}k_{i}K}{\\omega\\,\\sqrt{a^{2}+\\omega^{2}}}.\n$$\n令 $\\left|G_{s}(j\\omega)\\right|=1$ 可得\n$$\n\\frac{k_{p}k_{i}K}{\\omega\\,\\sqrt{a^{2}+\\omega^{2}}}=1 \\;\\;\\Longrightarrow\\;\\; \\omega\\,\\sqrt{a^{2}+\\omega^{2}}=k_{p}k_{i}K.\n$$\n两边平方并定义 $x=\\omega^{2}$，得到一个关于 $x$ 的二次方程：\n$$\n\\omega^{2}\\left(a^{2}+\\omega^{2}\\right)=(k_{p}k_{i}K)^{2}\\;\\;\\Longrightarrow\\;\\; x^{2}+a^{2}x-(k_{p}k_{i}K)^{2}=0.\n$$\n求解 $x$ 并选择非负根，\n$$\nx=\\frac{-a^{2}+\\sqrt{a^{4}+4(k_{p}k_{i}K)^{2}}}{2},\n$$\n因此\n$$\n\\omega=\\sqrt{x}=\\sqrt{\\frac{-a^{2}+\\sqrt{a^{4}+4(k_{p}k_{i}K)^{2}}}{2}}.\n$$\n此 $\\omega0$ 满足 $\\left|G_{s}(j\\omega)\\right|=1$。", "answer": "$$\\boxed{\\sqrt{\\frac{-a^{2}+\\sqrt{a^{4}+4\\left(k_{p}k_{i}K\\right)^{2}}}{2}}}$$", "id": "1578985"}, {"introduction": "在通过权重函数成功塑造了开环增益之后，下一步就是综合出实现该目标的控制器 $K(s)$。然而，工程设计中总是充满了权衡，H-无穷综合方法虽然强大，但其一个众所周知“缺点”是生成的控制器阶次通常较高。这个练习揭示了一个重要的实践问题：控制器 $K(s)$ 的阶次是如何由被控对象和我们所选的权重函数共同决定的。[@problem_id:1579013]", "problem": "一位控制系统工程师正在使用标准的混合灵敏度 H 无穷（$\\text{H}_{\\infty}$）回路成形设计方法，为一个制造过程设计反馈控制器。其目标是找到一个稳定控制器 $K(s)$，以最小化一个传递函数矩阵的无穷范数，该矩阵代表了扰动抑制和控制力之间的权衡。这通常被表述为找到满足以下条件的控制器 $K(s)$：\n$$ \\left\\| \\begin{pmatrix} W_1(s)S(s) \\\\ W_2(s)K(s)S(s) \\end{pmatrix} \\right\\|_{\\infty}  1 $$\n其中 $S(s) = (1+G(s)K(s))^{-1}$ 是灵敏度函数，它关联了输出与扰动。\n\n该过程的动态模型由被控对象的传递函数给出：\n$$ G(s) = \\frac{10}{(s+1)(s+3)} $$\n性能加权函数被选择用于在低频下保证良好的跟踪性能和扰动抑制，其表达式为：\n$$ W_1(s) = \\frac{s+10}{2s+0.02} $$\n控制力加权函数被选择用于限制控制信号的幅值，尤其是在高频下，其表达式为：\n$$ W_2(s) = \\frac{0.5s+1}{s+20} $$\n\n假设采用标准的 H 无穷综合算法，并且不对所得控制器进行后续的模型降阶，那么控制器 $K(s)$ 的预期状态空间阶数是多少？\n\nA. 2\n\nB. 3\n\nC. 4\n\nD. 5\n\nE. 6", "solution": "在标准的混合灵敏度 $\\text{H}_{\\infty}$ 公式化中，通过将原始被控对象 $G(s)$ 与加权滤波器 $W_{1}(s)$ 和 $W_{2}(s)$ 互联，可以构建一个广义被控对象 $P(s)$。令 $n_{G}$、$n_{W_{1}}$ 和 $n_{W_{2}}$ 分别表示 $G$、$W_{1}$ 和 $W_{2}$ 的最小状态空间阶数。广义被控对象的最小阶数为\n$$\nn_{P}=n_{G}+n_{W_{1}}+n_{W_{2}},\n$$\n因为加权滤波器在增广实现中作为额外的状态贡献了它们的动态特性。\n\n对于给定的传递函数，\n$$\nG(s)=\\frac{10}{(s+1)(s+3)}, \\quad W_{1}(s)=\\frac{s+10}{2s+0.02}, \\quad W_{2}(s)=\\frac{0.5s+1}{s+20},\n$$\n我们可以读出其最小阶数：\n$$\nn_{G}=2 \\quad \\text{（在 $s=-1, -3$ 处有两个极点）},\n$$\n$$\nn_{W_{1}}=1 \\quad \\text{（一阶真加权函数）},\n$$\n$$\nn_{W_{2}}=1 \\quad \\text{（一阶真加权函数）}。\n$$\n因此，\n$$\nn_{P}=2+1+1=4.\n$$\n\n在 $\\text{H}_{\\infty}$ 动态输出反馈综合中（例如，通过两个耦合的代数 Riccati 方程），当从控制到测量的被控对象通道是严格真的（因此 $D_{22}=0$），且不进行后续的模型降阶时，控制器 $K(s)$ 的阶数通常等于广义被控对象的阶数：\n$$\nn_{K}=n_{P}.\n$$\n因此，\n$$\nn_{K}=4.\n$$\n这对应于选项 C。", "answer": "$$\\boxed{C}$$", "id": "1579013"}, {"introduction": "H-无穷环路整形设计的主要成果之一是提供一个量化的鲁棒性保证，通常用稳定裕度 $\\epsilon$ 来表示。这个数值并非只是一个抽象的指标，它为闭环系统能够容忍的模型不确定性提供了具体的界限。通过这个练习，你将学会如何解读稳定裕度 $\\epsilon$ 的物理意义，从而将抽象的鲁棒稳定性概念与允许的被控对象扰动范围联系起来。[@problem_id:1578940]", "problem": "一位控制系统工程师正在使用H-无穷环路整形方法为单输入单输出 (SISO) 电磁执行器开发控制器。被控对象由其归一化互质分解 $P = N M^{-1}$ 表示。所得设计保证了对于任何受扰被控对象 $P_{\\Delta} = (N+\\Delta_N)(M+\\Delta_M)^{-1}$ 的闭环稳定性，只要扰动对的H-无穷范数 $\\|[\\Delta_N, \\Delta_M]\\|_{\\infty}$ 小于稳定裕度，该稳定裕度经计算为 $\\epsilon = 0.25$。\n\n除了这个标准的鲁棒性保证外，该工程师还想评估一个不同的鲁棒性指标。他们感兴趣的是两个扰动因子之和的可能最大幅值。我们将此指标称为“扰动和范数”，定义为 $\\|\\Delta_N + \\Delta_M\\|_{\\infty}$。\n\n假设存在最坏情况下的容许扰动（即，其范数趋近于稳定裕度 $\\epsilon$ 的扰动），那么“扰动和范数”的最大可能值是多少？请将您的答案表示为一个四舍五入到三位有效数字的实数。", "solution": "设被控对象由归一化互质分解 $P = N M^{-1}$ 给出，并考虑SISO扰动 $\\Delta_{N}$ 和 $\\Delta_{M}$。鲁棒性条件是行传递矩阵 $[\\Delta_{N},\\,\\Delta_{M}]$ 的 $\\mathcal{H}_{\\infty}$ 范数满足\n$$\n\\|[\\Delta_{N},\\,\\Delta_{M}]\\|_{\\infty} \\leq \\epsilon,\n$$\n其中在最坏情况下的容许意义下，该范数趋近于 $\\epsilon$。\n\n对于SISO系统，行矩阵的 $\\mathcal{H}_{\\infty}$ 范数等于其各项欧几里得范数（在频率上）的上确界：\n$$\n\\|[\\Delta_{N},\\,\\Delta_{M}]\\|_{\\infty} \\;=\\; \\sup_{\\omega} \\sqrt{|\\Delta_{N}(\\mathrm{j}\\omega)|^{2} + |\\Delta_{M}(\\mathrm{j}\\omega)|^{2}}.\n$$\n因此，在频率上逐点地，\n$$\n\\sqrt{|\\Delta_{N}(\\mathrm{j}\\omega)|^{2} + |\\Delta_{M}(\\mathrm{j}\\omega)|^{2}} \\;\\leq\\; \\epsilon.\n$$\n\n扰动和范数为\n$$\n\\|\\Delta_{N} + \\Delta_{M}\\|_{\\infty} \\;=\\; \\sup_{\\omega} |\\Delta_{N}(\\mathrm{j}\\omega) + \\Delta_{M}(\\mathrm{j}\\omega)|.\n$$\n对于每个频率，将柯西-施瓦茨不等式应用于向量 $[1,\\,1]$ 和 $[\\Delta_{N}(\\mathrm{j}\\omega),\\,\\Delta_{M}(\\mathrm{j}\\omega)]^{\\top}$：\n$$\n|\\Delta_{N}(\\mathrm{j}\\omega) + \\Delta_{M}(\\mathrm{j}\\omega)| \\;=\\; |[1,\\,1]\\,[\\Delta_{N}(\\mathrm{j}\\omega),\\,\\Delta_{M}(\\mathrm{j}\\omega)]^{\\top}|\n\\;\\leq\\; \\|[1,\\,1]\\|_{2}\\,\\sqrt{|\\Delta_{N}(\\mathrm{j}\\omega)|^{2} + |\\Delta_{M}(\\mathrm{j}\\omega)|^{2}}\n\\;=\\; \\sqrt{2}\\,\\sqrt{|\\Delta_{N}(\\mathrm{j}\\omega)|^{2} + |\\Delta_{M}(\\mathrm{j}\\omega)|^{2}}.\n$$\n使用鲁棒性约束，这得出了逐点边界\n$$\n|\\Delta_{N}(\\mathrm{j}\\omega) + \\Delta_{M}(\\mathrm{j}\\omega)| \\;\\leq\\; \\sqrt{2}\\,\\epsilon,\n$$\n因此\n$$\n\\|\\Delta_{N} + \\Delta_{M}\\|_{\\infty} \\;\\leq\\; \\sqrt{2}\\,\\epsilon.\n$$\n\n紧致性：当 $\\Delta_{N}$ 和 $\\Delta_{M}$ 具有相同的相位和相等的幅值时，柯西-施瓦茨不等式中的等号成立。例如，通过选择稳定的常数 $\\Delta_{N}(s) = \\Delta_{M}(s) = \\epsilon/\\sqrt{2}$，这满足 $\\|[\\Delta_{N},\\,\\Delta_{M}]\\|_{\\infty} = \\epsilon$ 并在所有频率上产生 $|\\Delta_{N} + \\Delta_{M}| = \\sqrt{2}\\,\\epsilon$。在严格不等式约束下，可以任意地接近这个值。因此，可能的最大扰动和范数（在最坏情况下的容许意义下）等于 $\\sqrt{2}\\,\\epsilon$。\n\n当 $\\epsilon = 0.25$ 时, 最大值为\n$$\n\\sqrt{2}\\times 0.25 = 0.353553\\ldots,\n$$\n四舍五入到三位有效数字为 $0.354$。", "answer": "$$\\boxed{0.354}$$", "id": "1578940"}]}