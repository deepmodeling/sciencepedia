{"hands_on_practices": [{"introduction": "控制系统中的数据丢失会直接影响系统行为。本练习通过一个简单的离散时间系统，直观地展示了单个数据包丢失所带来的后果。通过迭代计算差分方程，你将亲手追踪系统输出如何因一次通信中断而偏离预期轨迹，从而为理解更复杂的网络效应打下坚实基础。", "problem": "一个离散时间线性时不变（LTI）系统由传递函数 $H(z) = \\frac{Y(z)}{U(z)} = \\frac{1}{z - 0.5}$ 描述。该系统初始静止，意味着其输出 $y[k]$ 在所有非正时间步（$k \\le 0$）均为零。\n\n该系统由一个远程控制器控制，该控制器在每个离散时间步 $k$ 发送一个命令信号 $u[k]$。预期的命令是一个单位阶跃序列，即当 $k \\ge 0$ 时，$u_{desired}[k] = 1$；当 $k  0$ 时，$u_{desired}[k] = 0$。\n\n由于暂时的网络故障，时间步 $k=2$ 的命令数据包丢失。系统的执行器被设计为在数据包丢失的情况下施加零输入，即 $u[2]=0$。对于所有其他非负时间步（$k=0, 1, 3, 4, ...$），命令被正确接收和应用。\n\n计算系统在时间步 $k=3$ 时的输出 $y[k]$ 的数值。请用小数表示你的答案。", "solution": "给定 $H(z) = \\frac{1}{z - 0.5}$，将其改写以揭示其因果结构：\n$$\nH(z) = \\frac{1}{z - 0.5} = \\frac{z^{-1}}{1 - 0.5 z^{-1}}.\n$$\n根据 $Y(z) = H(z)U(z)$，两边同乘以 $1 - 0.5 z^{-1}$：\n$$\n\\left(1 - 0.5 z^{-1}\\right) Y(z) = z^{-1} U(z).\n$$\n在初始静止条件下进行$z$逆变换，得到线性常系数差分方程\n$$\ny[k] - 0.5\\, y[k-1] = u[k-1].\n$$\n输入序列为 $u[0]=1$，$u[1]=1$，$u[2]=0$（数据包丢失），$u[3]=1$，以及当 $k  0$ 时 $u[k]=0$。使用递推关系，在 $k \\leq 0$ 时 $y[k]=0$ 的条件下逐步计算：\n- 当 $k=0$ 时：$y[0] - 0.5\\, y[-1] = u[-1] \\Rightarrow y[0] = 0$。\n- 当 $k=1$ 时：$y[1] - 0.5\\, y[0] = u[0] \\Rightarrow y[1] = 1$。\n- 当 $k=2$ 时：$y[2] - 0.5\\, y[1] = u[1] \\Rightarrow y[2] = 1 + 0.5 \\cdot 1 = 1.5$。\n- 当 $k=3$ 时：$y[3] - 0.5\\, y[2] = u[2] = 0 \\Rightarrow y[3] = 0.5 \\cdot 1.5 = 0.75$。\n\n因此，在时间步 $k=3$ 时的输出为 $0.75$。", "answer": "$$\\boxed{0.75}$$", "id": "1573877"}, {"introduction": "恒定的时间延迟是网络化控制系统不稳定的一个主要来源，但其数学上的超越性给分析带来了挑战。本练习介绍一种核心分析方法：使用帕德近似（Padé approximation）将延迟环节 $e^{-\\tau s}$ 转化为一个有理传递函数。通过这个技巧，你将能够运用经典的劳斯-赫尔维茨稳定性判据，来确定系统在保持稳定前所能承受的最大控制器增益 [@problem_id:1573913]，这对于设计鲁棒的延迟系统至关重要。", "problem": "正在开发一个用于调节连续搅拌釜反应器中液体温度的简化模型。该系统由一个加热器、反应釜和一个温度传感器组成。加热器功率输入 $P(s)$ 与测量温度输出 $T_{out}(s)$ 之间的动态关系由一个一阶加时间延迟 (FOPTD) 传递函数描述：\n\n$$ G_p(s) = \\frac{T_{out}(s)}{P(s)} = \\frac{A}{Ts + 1} e^{-\\tau s} $$\n\n此处，$A$ 是过程增益，$T$ 是过程时间常数，$\\tau$ 是由于传感器位于反应釜出口下游而引起的传输延迟。所有参数 $A$、$T$ 和 $\\tau$ 均为正实常数。\n\n使用一个增益为 $K > 0$ 的简单比例控制器构成一个负反馈回路来调节温度。控制器的传递函数为 $G_c(s) = K$。\n\n为分析此闭环系统的稳定性，必须对时间延迟项 $e^{-\\tau s}$ 进行近似。使用时间延迟的一阶 Padé 近似：\n\n$$ e^{-\\tau s} \\approx \\frac{1 - (\\tau/2)s}{1 + (\\tau/2)s} $$\n\n确定控制器增益的最大值 $K_{max}$，超过该值闭环系统将变得不稳定。请用 $A$、$T$ 和 $\\tau$ 的符号表达式来表示你的答案。", "solution": "采用一阶 Padé 近似延迟后，过程传递函数为\n$$\nG_{p}(s)=\\frac{A}{Ts+1}\\,\\frac{1-\\frac{\\tau}{2}s}{1+\\frac{\\tau}{2}s},\n$$\n这是通过将 $\\exp(-\\tau s)$ 替换为 $\\frac{1-(\\tau/2)s}{1+(\\tau/2)s}$ 得到的。在比例控制 $G_{c}(s)=K$ 和单位负反馈下，开环传递函数为\n$$\nL(s)=K\\,G_{p}(s)=K\\,\\frac{A}{Ts+1}\\,\\frac{1-\\frac{\\tau}{2}s}{1+\\frac{\\tau}{2}s}.\n$$\n闭环特征方程为 $1+L(s)=0$，整理去分母后得到\n$$\n(Ts+1)\\left(1+\\frac{\\tau}{2}s\\right)+KA\\left(1-\\frac{\\tau}{2}s\\right)=0.\n$$\n展开并合并 $s$ 的同次幂项，\n$$\n(Ts+1)\\left(1+\\frac{\\tau}{2}s\\right)=Ts+\\frac{T\\tau}{2}s^{2}+1+\\frac{\\tau}{2}s=\\frac{T\\tau}{2}s^{2}+\\left(T+\\frac{\\tau}{2}\\right)s+1,\n$$\n因此特征多项式为\n$$\n\\frac{T\\tau}{2}s^{2}+\\left(T+\\frac{\\tau}{2}-KA\\frac{\\tau}{2}\\right)s+(1+KA)=0.\n$$\n记 $a_{2}=\\frac{T\\tau}{2}$，$a_{1}=T+\\frac{\\tau}{2}-KA\\frac{\\tau}{2}$，以及 $a_{0}=1+KA$，对于一个二次多项式，Routh-Hurwitz 稳定性条件要求 $a_{2}>0$，$a_{1}>0$ 和 $a_{0}>0$。由于 $T>0$，$\\tau>0$，$A>0$ 和 $K>0$，我们有 $a_{2}>0$ 和 $a_{0}>0$ 自动成立。唯一非平凡的条件是\n$$\na_{1}=T+\\frac{\\tau}{2}-KA\\frac{\\tau}{2}>0 \\quad\\Longrightarrow\\quad K  \\frac{T+\\frac{\\tau}{2}}{A\\frac{\\tau}{2}}=\\frac{2T+\\tau}{A\\tau}.\n$$\n因此，在系统失去稳定性前的最大比例增益为\n$$\nK_{\\max}=\\frac{2T+\\tau}{A\\tau}.\n$$\n当 $K=K_{\\max}$ 时，系统处于临界稳定状态，具有纯虚根；而当 $K>K_{\\max}$ 时，系统变得不稳定。", "answer": "$$\\boxed{\\frac{2T+\\tau}{A\\tau}}$$", "id": "1573913"}, {"introduction": "在实际应用中，通信中断可能持续一段时间，而不仅仅是单个数据包的丢失。本练习探讨了在这种持续中断期间，一个开环不稳定的系统能“自主”运行多久而不至于失控。你将使用状态空间模型来分析系统在失去反馈控制时的动态演化，并计算出在系统状态超出安全边界之前，所能容忍的最长中断时间 [@problem_id:1573930]，这是一个衡量系统韧性的实用指标。", "problem": "一个离散时间线性系统由状态空间方程 $x(k+1) = A x(k) + B u(k)$ 描述，其中 $k$ 是时间步，$x(k) \\in \\mathbb{R}^2$ 是状态向量，$u(k) \\in \\mathbb{R}$ 是控制输入。系统矩阵由下式给出：\n$$A = \\begin{pmatrix} 1  0.1 \\\\ 0  1.1 \\end{pmatrix}, \\quad B = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}$$\n在正常操作下，该系统通过一个状态反馈控制器 $u(k) = -K x(k)$ 来实现稳定，其增益矩阵为 $K = \\begin{pmatrix} 2  1 \\end{pmatrix}$。\n\n假设在时间 $k=0$ 时，系统处于初始状态 $x(0) = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}$。一次通信中断从 $k=0$ 开始，并持续 $N$ 个连续的时间步。在此期间，控制器无法接收传感器测量值，控制输入保持为零，即对于 $k=0, 1, \\dots, N-1$，$u(k)=0$。在时间 $k=N$ 时，通信恢复。\n\n如果第一个状态变量的绝对值 $|x_1(k)|$ 超过了预定的安全阈值 $5$，则认为系统进入了不安全区域。\n\n确定 $N$ 的最大整数值，使得系统在中断期间的所有时间步都保持安全，即对于所有 $k \\in \\{1, 2, ..., N\\}$，都有 $|x_1(k)| \\le 5$。", "solution": "在中断期间，输入保持为零，因此系统在零输入动态下演化：\n$$\nx(k+1)=A x(k), \\quad x(0)=\\begin{pmatrix}0 \\\\ 1\\end{pmatrix}.\n$$\n因此，\n$$\nx(k)=A^{k}x(0).\n$$\n矩阵 $A$ 是一个形式为\n$$\nA=\\begin{pmatrix}a  b \\\\ 0  d\\end{pmatrix}, \\quad a=1,\\; b=0.1,\\; d=1.1.\n$$\n的上三角矩阵。对于这样的矩阵，\n$$\nA^{k}=\\begin{pmatrix}\na^{k}  b \\sum_{i=0}^{k-1} a^{k-1-i} d^{i} \\\\\n0  d^{k}\n\\end{pmatrix}.\n$$\n代入 $a=1$, $b=0.1$ 和 $d=1.1$ 可得\n$$\nA^{k}=\\begin{pmatrix}\n1  0.1 \\sum_{i=0}^{k-1} 1.1^{i} \\\\\n0  1.1^{k}\n\\end{pmatrix}\n=\\begin{pmatrix}\n1  0.1 \\cdot \\frac{1.1^{k}-1}{1.1-1} \\\\\n0  1.1^{k}\n\\end{pmatrix}\n=\\begin{pmatrix}\n1  1.1^{k}-1 \\\\\n0  1.1^{k}\n\\end{pmatrix}.\n$$\n因此，\n$$\nx(k)=A^{k}x(0)=\\begin{pmatrix}1  1.1^{k}-1 \\\\ 0  1.1^{k}\\end{pmatrix}\\begin{pmatrix}0 \\\\ 1\\end{pmatrix}\n=\\begin{pmatrix}1.1^{k}-1 \\\\ 1.1^{k}\\end{pmatrix},\n$$\n所以第一个分量是\n$$\nx_{1}(k)=1.1^{k}-1.\n$$\n安全条件要求对于所有的 $k \\in \\{1,2,\\dots,N\\}$ 都有 $|x_{1}(k)| \\le 5$。由于当 $k \\ge 0$ 时有 $1.1^{k} \\ge 1$，$x_{1}(k)$ 是非负的并且关于 $k$ 严格递增，所以在 $\\{1,\\dots,N\\}$ 上的最坏情况发生在 $k=N$ 时。因此我们需要\n$$\n1.1^{N}-1 \\le 5 \\quad \\Longleftrightarrow \\quad 1.1^{N} \\le 6.\n$$\n两边取自然对数（利用 $\\ln$ 函数是严格递增的性质），可得\n$$\nN \\le \\frac{\\ln 6}{\\ln 1.1}.\n$$\n因此，$N$ 的最大整数是\n$$\nN_{\\max}=\\left\\lfloor \\frac{\\ln 6}{\\ln 1.1} \\right\\rfloor.\n$$\n为了验证，计算 $1.1^{18} \\approx 5.5599  6$ 且 $1.1^{19} \\approx 6.1159 > 6$，所以 $N_{\\max}=18$。", "answer": "$$\\boxed{18}$$", "id": "1573930"}]}