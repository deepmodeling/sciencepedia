{"hands_on_practices": [{"introduction": "在分析网络控制系统的复杂特性之前，首先理解网络缺陷（如延迟和量化）如何一步步影响系统状态至关重要。本练习将通过一个具体的数值计算，引导你手动模拟一个同时存在控制延迟和输入量化的离散系统的动态演化。这有助于你直观地感受这些非理想因素对系统轨迹的实际影响。[@problem_id:1584097]", "problem": "系统状态 $x_k$ 在离散时间步 $k$ 的演化由以下差分方程描述，该方程为一个具有内在反馈延迟的过程建模：\n$$x_{k+1} = a x_{k-1} + Q(u_{k-1})$$\n在此模型中，$a$ 是一个常数系统参数。项 $u_{k-1}$ 表示在时间步 $k-1$ 生成的控制器指令。函数 $Q(\\cdot)$ 对该指令通过数字通信网络传输时发生的量化效应进行建模。\n\n控制器是简单的比例型控制器，在任意给定的时间步 $j$ 生成指令 $u_j = -c x_j$，其中 $c$ 是控制器增益。量化函数是一个步长为 $\\Delta$ 的均匀中点量化器。其数学定义为 $Q(y) = \\Delta \\cdot \\lfloor y/\\Delta + 0.5 \\rfloor$，其中 $\\lfloor \\cdot \\rfloor$ 是向下取整函数。\n\n给定以下参数和初始条件：\n- 系统参数：$a = 0.8$\n- 控制器增益：$c = 1.2$\n- 量化步长：$\\Delta = 0.1$\n- 初始条件：$x_{-1} = 0.3$ 和 $x_0 = 0.5$\n\n你的任务是确定系统在时间步 $k=3$ 时的状态。计算 $x_3$ 的值，并给出结果，保留三位有效数字。", "solution": "我们使用给定的带量化的延迟差分方程和控制器：\n$$x_{k+1} = a x_{k-1} + Q(u_{k-1}), \\quad u_{j} = -c x_{j}, \\quad Q(y) = \\Delta \\left\\lfloor \\frac{y}{\\Delta} + 0.5 \\right\\rfloor.$$\n参数和初始条件为 $a=0.8$，$c=1.2$，$\\Delta=0.1$，$x_{-1}=0.3$，$x_{0}=0.5$。\n\n首先，通过令 $k=0$ 计算 $x_{1}$：\n$$u_{-1} = -c x_{-1} = -1.2 \\cdot 0.3 = -0.36,$$\n$$\\frac{u_{-1}}{\\Delta} + 0.5 = \\frac{-0.36}{0.1} + 0.5 = -3.6 + 0.5 = -3.1,$$\n$$\\left\\lfloor -3.1 \\right\\rfloor = -4 \\;\\Rightarrow\\; Q(u_{-1}) = 0.1 \\cdot (-4) = -0.4,$$\n$$x_{1} = a x_{-1} + Q(u_{-1}) = 0.8 \\cdot 0.3 + (-0.4) = 0.24 - 0.4 = -0.16.$$\n\n接下来，通过令 $k=1$ 计算 $x_{2}$：\n$$u_{0} = -c x_{0} = -1.2 \\cdot 0.5 = -0.6,$$\n$$\\frac{u_{0}}{\\Delta} + 0.5 = \\frac{-0.6}{0.1} + 0.5 = -6 + 0.5 = -5.5,$$\n$$\\left\\lfloor -5.5 \\right\\rfloor = -6 \\;\\Rightarrow\\; Q(u_{0}) = 0.1 \\cdot (-6) = -0.6,$$\n$$x_{2} = a x_{0} + Q(u_{0}) = 0.8 \\cdot 0.5 + (-0.6) = 0.4 - 0.6 = -0.2.$$\n\n最后，通过令 $k=2$ 计算 $x_{3}$：\n$$u_{1} = -c x_{1} = -1.2 \\cdot (-0.16) = 0.192,$$\n$$\\frac{u_{1}}{\\Delta} + 0.5 = \\frac{0.192}{0.1} + 0.5 = 1.92 + 0.5 = 2.42,$$\n$$\\left\\lfloor 2.42 \\right\\rfloor = 2 \\;\\Rightarrow\\; Q(u_{1}) = 0.1 \\cdot 2 = 0.2,$$\n$$x_{3} = a x_{1} + Q(u_{1}) = 0.8 \\cdot (-0.16) + 0.2 = -0.128 + 0.2 = 0.072.$$\n\n保留三位有效数字，$x_{3} = 7.20 \\times 10^{-2}$。", "answer": "$$\\boxed{7.20 \\times 10^{-2}}$$", "id": "1584097"}, {"introduction": "在网络控制中，我们不仅关心系统的瞬时状态，更关心其长期行为，即稳定性。本练习将探讨一个核心问题：当控制信号通过一个会随机丢包的不可靠网络传输时，系统如何保持稳定。你将学习如何将这种随机性建模为一个切换线性系统，并运用均方稳定性的概念来推导控制器增益的稳定边界。[@problem_id:1584108]", "problem": "考虑一个简单的离散时间积分器对象，用于对一个轻量级自主体的速度进行建模。系统的状态是其在时间步 $k$ 的速度 $x_k \\in \\mathbb{R}$。系统动力学由以下差分方程描述：\n$$x_{k+1} = x_k + T_s u_k$$\n其中 $T_s > 0$ 是恒定采样时间，$u_k$ 是在时间步 $k$ 施加的控制输入（与加速度成正比）。\n\n控制输入由一个远程比例控制器通过状态反馈确定，其规律为 $u_k = -K x_k$，其中 $K > 0$ 是控制器增益。控制信号通过一个不可靠的无线网络传输给自主体，该网络可能会发生丢包。\n\n在每个时间步 $k$ 的数据包传输成功与否，由一个独立同分布的伯努利随机变量 $\\gamma_k$ 建模。如果数据包成功接收，则 $\\gamma_k = 1$。如果数据包丢失，则 $\\gamma_k = 0$。成功传输的概率为 $P(\\gamma_k = 1) = p$，其中 $0 < p \\leq 1$。\n\n自主体的执行器设计有一个简单的安全协议：如果控制数据包丢失，则施加零控制输入；否则，施加接收到的控制输入。因此，在时间步 $k$ 实际施加的控制输入（记为 $u_{applied, k}$）由 $u_{applied, k} = \\gamma_k u_k$ 给出。\n\n如果对于任意非零初始状态 $x_0$，当 $k$ 趋于无穷时，状态平方的期望值 $\\mathbb{E}[x_k^2]$ 收敛到零，则该系统被定义为均方稳定。如果对于任意 $x_k \\neq 0$，条件 $\\mathbb{E}[x_{k+1}^2] < \\mathbb{E}[x_k^2]$ 成立，则该稳定性得到保证。\n\n确定正控制器增益的最大值 $K_{max}$，当增益超过该值时，系统不再保证均方稳定。请用数据包到达概率 $p$ 和采样时间 $T_s$ 来表示 $K_{max}$。", "solution": "考虑到丢包，施加的控制为 $u_{\\text{applied},k}=\\gamma_{k}u_{k}=\\gamma_{k}(-Kx_{k})$，因此闭环状态更新为\n$$\nx_{k+1}=x_{k}+T_{s}u_{\\text{applied},k}=\\bigl(1-\\gamma_{k}KT_{s}\\bigr)x_{k}.\n$$\n由于 $\\gamma_{k}$ 是独立同分布的伯努利变量，满足 $P(\\gamma_{k}=1)=p$ 且与 $x_{k}$ 相互独立，因此条件二阶矩的演化如下：\n$$\n\\mathbb{E}\\!\\left[x_{k+1}^{2}\\mid x_{k}\\right]=x_{k}^{2}\\,\\mathbb{E}\\!\\left[(1-\\gamma_{k}KT_{s})^{2}\\right]\n=x_{k}^{2}\\Bigl[p(1-KT_{s})^{2}+(1-p)\\cdot 1^{2}\\Bigr].\n$$\n对 $x_{k}$ 取期望，得到\n$$\n\\mathbb{E}[x_{k+1}^{2}]=\\alpha\\,\\mathbb{E}[x_{k}^{2}],\\qquad \\alpha:=p(1-KT_{s})^{2}+(1-p).\n$$\n给定的均方稳定性的充分条件是对于任意 $x_{k}\\neq 0$ 都有 $\\mathbb{E}[x_{k+1}^{2}] < \\mathbb{E}[x_{k}^{2}]$，在这里这等价于\n$$\n\\alpha < 1 \\;\\;\\Longleftrightarrow\\;\\; p(1-KT_{s})^{2}+(1-p) < 1 \\;\\;\\Longleftrightarrow\\;\\; p\\bigl((1-KT_{s})^{2}-1\\bigr) < 0.\n$$\n由于 $p>0$，上式可化简为\n$$\n(1-KT_{s})^{2} < 1 \\;\\;\\Longleftrightarrow\\;\\; |1-KT_{s}| < 1 \\;\\;\\Longleftrightarrow\\;\\; 0 < KT_s < 2 \\;\\;\\Longleftrightarrow\\;\\; K < \\frac{2}{T_s}.\n$$\n因此，最大增益为 $K_{\\text{max}} = 2/T_s$。", "answer": "$$\\boxed{\\frac{2}{T_{s}}}$$", "id": "1584108"}, {"introduction": "当传感器数据因网络丢包而丢失时，远程估计器必须做出选择：如何生成当前时刻的状态估计？这个问题在网络控制系统的设计中非常普遍。本练习将比较两种基本的估计算法——“保持”前一时刻的估计值与使用系统模型进行“预测”——并要求你通过计算均方误差这一关键性能指标，来量化分析它们的优劣。[@problem_id:1584083]", "problem": "一个远程传感器正在监测一个物理过程，其状态 $x_k$ 在离散时间步 $k$ 时，根据以下线性随机模型演化：\n$$x_{k+1} = a x_k + w_k$$\n此处，$a$ 是一个常数系统参数，满足 $|a| < 1$，$w_k$ 是零均值、方差为 $E[w_k^2] = Q$ 的白过程噪声。该过程被假定为广义平稳的。\n\n一个远程估计器跟踪此状态。在时间 $k=0$ 时，状态的估计值为 $\\hat{x}_0$，均方估计误差为 $E[(x_0 - \\hat{x}_0)^2] = P_0$。初始估计误差 $e_0 = x_0 - \\hat{x}_0$ 的均值为零，并且与估计值 $\\hat{x}_0$ 以及过程噪声序列 $w_k$ 不相关。\n\n在时间步 $k=1$ 时，由于网络丢包，传感器测量值丢失。估计器必须在没有新测量值的情况下，为状态 $x_1$ 生成一个估计值 $\\hat{x}_1$。正在考虑两种策略：\n\n*   **策略 A (保持):** 将新估计值设为前一个估计值，即 $\\hat{x}_1^{(\\text{A})} = \\hat{x}_0$。\n*   **策略 B (预测):** 将前一个估计值通过系统模型进行传播，即 $\\hat{x}_1^{(\\text{B})} = a \\hat{x}_0$。\n\n确定这两种策略的真实均方估计误差之比，即 $\\frac{E[(x_1 - \\hat{x}_1^{(\\text{A})})^2]}{E[(x_1 - \\hat{x}_1^{(\\text{B})})^2]}$。将您的答案表示为关于 $a$、$Q$ 和 $P_0$ 的单个闭式解析表达式。", "solution": "状态演化为 $x_{1} = a x_{0} + w_{0}$，其中 $E[w_{0}] = 0$，$E[w_{0}^{2}] = Q$，且 $|a| < 1$。初始估计误差为 $e_{0} = x_{0} - \\hat{x}_{0}$，其中 $E[e_{0}] = 0$，$E[e_{0}^{2}] = P_{0}$，且 $e_{0}$ 与 $\\hat{x}_{0}$ 及过程噪声序列 $\\{w_{k}\\}$ 不相关。对于此类模型，通常假定 $w_{0}$ 与 $x_{0}$ 以及任何基于截至时间 0 的数据的估计器（因此也包括 $\\hat{x}_{0}$）不相关。\n\n策略 B (预测): $\\hat{x}_{1}^{(\\text{B})} = a \\hat{x}_{0}$。估计误差为\n$$\ne_{1}^{(\\text{B})} = x_{1} - \\hat{x}_{1}^{(\\text{B})} = a x_{0} + w_{0} - a \\hat{x}_{0} = a(x_{0} - \\hat{x}_{0}) + w_{0} = a e_{0} + w_{0}.\n$$\n利用 $e_{0}$ 和 $w_{0}$ 的不相关性，均方误差 (MSE) 为\n$$\nE[(e_{1}^{(\\text{B})})^{2}] = a^{2} E[e_{0}^{2}] + E[w_{0}^{2}] = a^{2} P_{0} + Q.\n$$\n\n策略 A (保持): $\\hat{x}_{1}^{(\\text{A})} = \\hat{x}_{0}$。估计误差为\n$$\ne_{1}^{(\\text{A})} = x_{1} - \\hat{x}_{0} = a x_{0} + w_{0} - \\hat{x}_{0}.\n$$\n其 MSE 为\n$$\nE[(e_{1}^{(\\text{A})})^{2}] = E[(a x_{0} - \\hat{x}_{0})^{2}] + 2 E[(a x_{0} - \\hat{x}_{0}) w_{0}] + E[w_{0}^{2}].\n$$\n由于 $w_{0}$ 与 $x_{0}$ 和 $\\hat{x}_{0}$ 不相关，交叉项消失，因此\n$$\nE[(e_{1}^{(\\text{A})})^{2}] = E[(a x_{0} - \\hat{x}_{0})^{2}] + Q.\n$$\n展开\n$$\nE[(a x_{0} - \\hat{x}_{0})^{2}] = a^{2} E[x_{0}^{2}] - 2 a E[x_{0} \\hat{x}_{0}] + E[\\hat{x}_{0}^{2}].\n$$\n根据 $e_{0} = x_{0} - \\hat{x}_{0}$ 与 $\\hat{x}_{0}$ 不相关，有 $E[(x_{0} - \\hat{x}_{0}) \\hat{x}_{0}] = 0$，所以\n$$\nE[x_{0} \\hat{x}_{0}] = E[\\hat{x}_{0}^{2}].\n$$\n另外，根据 $P_{0}$ 的定义，\n$$\nP_{0} = E[(x_{0} - \\hat{x}_{0})^{2}] = E[x_{0}^{2}] - 2 E[x_{0} \\hat{x}_{0}] + E[\\hat{x}_{0}^{2}] = E[x_{0}^{2}] - E[\\hat{x}_{0}^{2}],\n$$\n因此 $E[\\hat{x}_{0}^{2}] = E[x_{0}^{2}] - P_{0}$。所以，\n$$\nE[(a x_{0} - \\hat{x}_{0})^{2}] = a^{2} E[x_{0}^{2}] - 2 a \\big(E[x_{0}^{2}] - P_{0}\\big) + \\big(E[x_{0}^{2}] - P_{0}\\big)\n= (a - 1)^{2} E[x_{0}^{2}] - (1 - 2 a) P_{0}.\n$$\n于是\n$$\nE[(e_{1}^{(\\text{A})})^{2}] = (a - 1)^{2} E[x_{0}^{2}] - (1 - 2 a) P_{0} + Q.\n$$\n对于 AR(1) 模型，利用 $x_k$ 的广义平稳性，令 $\\sigma_{x}^{2} = E[x_{k}^{2}]$。则\n$$\n\\sigma_{x}^{2} = E[x_{k+1}^{2}] = E[(a x_{k} + w_{k})^{2}] = a^{2} \\sigma_{x}^{2} + 2 a E[x_{k} w_{k}] + E[w_{k}^{2}] = a^{2} \\sigma_{x}^{2} + Q,\n$$\n所以 $\\sigma_{x}^{2} = \\frac{Q}{1 - a^{2}}$。因此\n$$\nE[(e_{1}^{(\\text{A})})^{2}] = (a - 1)^{2} \\frac{Q}{1 - a^{2}} - (1 - 2 a) P_{0} + Q.\n$$\n注意到\n$$\n\\frac{(a - 1)^{2}}{1 - a^{2}} = \\frac{(1 - a)^{2}}{(1 - a)(1 + a)} = \\frac{1 - a}{1 + a},\n$$\n所以\n$$\nE[(e_{1}^{(\\text{A})})^{2}] = \\frac{1 - a}{1 + a} Q + Q - (1 - 2 a) P_{0} = \\frac{2 Q}{1 + a} - (1 - 2 a) P_{0}.\n$$\n\n因此，所求的比值为\n$$\n\\frac{E[(x_{1} - \\hat{x}_{1}^{(\\text{A})})^{2}]}{E[(x_{1} - \\hat{x}_{1}^{(\\text{B})})^{2}]} = \\frac{\\frac{2 Q}{1 + a} - (1 - 2 a) P_{0}}{a^{2} P_{0} + Q}.\n$$\n这是一个关于 $a$、$Q$ 和 $P_{0}$ 的单个闭式解析表达式。", "answer": "$$\\boxed{\\frac{\\frac{2Q}{1+a}-(1-2a)P_{0}}{a^{2}P_{0}+Q}}$$", "id": "1584083"}]}