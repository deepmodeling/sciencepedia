{"hands_on_practices": [{"introduction": "在开始用 MATLAB 分析一个系统之前，理解其基本特性至关重要。这个练习将带你回到控制理论的基础，通过一个实际的相机云台稳定系统，手动计算其关键性能指标——自然频率（$ \\omega_n $）和阻尼比（$ \\zeta $）。掌握这项技能有助于你直观地理解传递函数中的系数如何直接影响系统的动态响应，例如超调和振荡 [@problem_id:1583287]。", "problem": "一名航空航天工程专业的学生正在为安装在四轴飞行器上的相机云台的闭环稳定系统建模。描述期望相机角度与实际相机角度之间关系的传递函数 $G(s)$ 被确定为：\n\n$$ G(s) = \\frac{225}{3s^2 + 15s + 150} $$\n\n为了分析系统的性能，例如其超调或振荡的趋势，该学生计划使用 MATLAB。一种常见的方法是通过将该系统与标准的二阶原型进行比较，来确定系统的自然频率 $\\omega_n$ 和阻尼比 $\\zeta$：\n\n$$ G_{std}(s) = \\frac{K \\omega_n^2}{s^2 + 2\\zeta\\omega_n s + \\omega_n^2} $$\n\n你的任务是手动计算 MATLAB 分析工具将为该系统确定的值。计算自然频率 $\\omega_n$ 和阻尼比 $\\zeta$。\n\n自然频率 $\\omega_n$ 以 rad/s 为单位表示。将你的最终答案表示为一个包含两个数值的行矩阵，四舍五入到三位有效数字：第一个元素是 $\\omega_n$ 的值，第二个元素是 $\\zeta$ 的值。", "solution": "给定传递函数 $G(s) = \\dfrac{225}{3s^{2} + 15s + 150}$ 和标准的二阶形式 $G_{std}(s) = \\dfrac{K \\omega_{n}^{2}}{s^{2} + 2\\zeta \\omega_{n} s + \\omega_{n}^{2}}$。为了确定 $\\omega_{n}$ 和 $\\zeta$，首先重写 $G(s)$，使分母中 $s^{2}$ 的系数为 $1$：\n$$\nG(s) = \\frac{225}{3s^{2} + 15s + 150} = \\frac{75}{s^{2} + 5s + 50}.\n$$\n将分母 $s^{2} + 5s + 50$ 与标准形式的分母 $s^{2} + 2\\zeta \\omega_{n} s + \\omega_{n}^{2}$ 进行比较，得到以下参数关系：\n$$\n2\\zeta \\omega_{n} = 5, \\qquad \\omega_{n}^{2} = 50.\n$$\n求解自然频率：\n$$\n\\omega_{n} = \\sqrt{50}.\n$$\n然后使用 $2\\zeta \\omega_{n} = 5$ 求解阻尼比：\n$$\n\\zeta = \\frac{5}{2\\omega_{n}} = \\frac{5}{2\\sqrt{50}} = \\frac{1}{2\\sqrt{2}}.\n$$\n对于要求四舍五入到三位有效数字的数值：$\\omega_{n} = \\sqrt{50} \\approx 7.07$ rad/s 且 $\\zeta \\approx 0.354$。通过一致性检查，由 $K \\omega_{n}^{2} = 75$ 可得 $K = \\dfrac{75}{50} = 1.5$，但这部分并非最终答案所必需。", "answer": "$$\\boxed{\\begin{pmatrix} 7.07  0.354 \\end{pmatrix}}$$", "id": "1583287"}, {"introduction": "数字控制器是现代控制系统的核心，它们在离散的时间步长上运行。这个练习将揭开数字 PID 控制器仿真的神秘面纱，让你手动模拟其逐步执行过程，就像计算机或 Simulink 模型在后台所做的一样。通过追踪误差信号、控制输出和系统响应在每个采样时刻的变化，你将对数字控制的实现和仿真建立起坚实的理解 [@problem_id:1583275]。", "problem": "一个数字控制系统被设计用来调节一个机械装置的位置。该系统由一个在反馈回路中与装置一同运行的离散时间比例-积分-微分 (PID) 控制器组成。控制器和装置在一个具有固定采样时间 $T_s$ 的仿真环境中实现。\n\n该控制系统的目标是使装置的输出 $y(k)$ 跟随一个参考信号 $r(k)$。参考信号是一个单位阶跃函数，定义为在所有时间步 $k \\ge 0$ 时 $r(k) = 1$，而在 $k  0$ 时 $r(k) = 0$。误差信号在每个步骤中计算为 $e(k) = r(k) - y(k)$。\n\nPID 控制器计算输入到装置的控制信号 $u(k)$，它是三个分量的和：$u(k) = P(k) + I(k) + D(k)$。\n- 比例 (P) 项为 $P(k) = K_p \\cdot e(k)$。\n- 积分 (I) 项通过递归公式 $I(k) = I(k-1) + K_i T_s e(k)$ 实现为一个累加器。\n- 微分 (D) 项使用后向差分近似：$D(k) = \\frac{K_d}{T_s} (e(k) - e(k-1))$。\n\n该装置由离散时间差分方程 $y(k) = y(k-1) + T_s u(k-1)$ 建模。\n\n系统使用以下参数：\n- 比例增益：$K_p = 1.2$\n- 积分增益：$K_i = 0.5$\n- 微分增益：$K_d = 0.8$\n- 采样时间：$T_s = 0.1$ s\n\n假设系统从静止状态开始，这意味着在任何时间步 $k  0$ 时，所有信号均为零。具体来说，对于所有 $k  0$，$u(k)=0$，$e(k)=0$，以及 $y(k)=0$。积分项的初始条件是 $I(-1) = 0$。\n\n计算在时间步 $k=3$ 时装置输出 $y(k)$ 的数值。您的答案代表装置的位置，请以米为单位表示。将您的最终答案四舍五入到四位有效数字。", "solution": "离散时间控制器和装置由以下公式给出\n$$u(k) = P(k) + I(k) + D(k),\\quad P(k) = K_{p} e(k),\\quad I(k) = I(k-1) + K_{i} T_{s} e(k),\\quad D(k) = \\frac{K_{d}}{T_{s}}\\big(e(k) - e(k-1)\\big),$$\n以及\n$$y(k) = y(k-1) + T_{s} u(k-1).$$\n参考信号为 $r(k)=1$（对于 $k\\geq 0$），且 $e(k) = r(k) - y(k)$。初始条件为：对于 $k0$，$y(k)=0$，$u(k)=0$，$e(k)=0$，以及 $I(-1)=0$。当 $K_{p}=1.2$，$K_{i}=0.5$，$K_{d}=0.8$，$T_{s}=0.1$ 时，我们逐步进行计算。\n\n在 $k=0$ 时，\n$$y(0) = y(-1) + T_{s} u(-1) = 0,$$\n$$e(0) = r(0) - y(0) = 1 - 0 = 1,$$\n$$P(0) = 1.2 \\cdot 1 = 1.2,\\quad I(0) = 0 + 0.5 \\cdot 0.1 \\cdot 1 = 0.05,\\quad D(0) = \\frac{0.8}{0.1}(1 - 0) = 8,$$\n$$u(0) = 1.2 + 0.05 + 8 = 9.25,\\quad y(1) = y(0) + 0.1 \\cdot 9.25 = 0.925.$$\n\n在 $k=1$ 时，\n$$e(1) = 1 - 0.925 = 0.075,$$\n$$P(1) = 1.2 \\cdot 0.075 = 0.09,\\quad I(1) = 0.05 + 0.5 \\cdot 0.1 \\cdot 0.075 = 0.05375,$$\n$$D(1) = \\frac{0.8}{0.1}(0.075 - 1) = -7.4,$$\n$$u(1) = 0.09 + 0.05375 - 7.4 = -7.25625,\\quad y(2) = 0.925 + 0.1 \\cdot (-7.25625) = 0.199375.$$\n\n在 $k=2$ 时，\n$$e(2) = 1 - 0.199375 = 0.800625,$$\n$$P(2) = 1.2 \\cdot 0.800625 = 0.96075,\\quad I(2) = 0.05375 + 0.5 \\cdot 0.1 \\cdot 0.800625 = 0.09378125,$$\n$$D(2) = \\frac{0.8}{0.1}(0.800625 - 0.075) = 8 \\cdot 0.725625 = 5.805,$$\n$$u(2) = 0.96075 + 0.09378125 + 5.805 = 6.85953125.$$\n\n因此，\n$$y(3) = y(2) + 0.1 \\cdot u(2) = 0.199375 + 0.1 \\cdot 6.85953125 = 0.885328125.$$\n四舍五入到四位有效数字，得到 $y(3) = 0.8853$。", "answer": "$$\\boxed{0.8853}$$", "id": "1583275"}, {"introduction": "现实世界的工程系统很少是完全一成不变的；它们的特性常常会在运行过程中发生变化。这个练习模拟了一个更具挑战性的场景：一个机械臂在抓取物体后其惯性会突然改变。手动解决这个问题虽然复杂，但它能极好地展示像 Simulink 这样的仿真工具的强大之处，在这些工具中，这类事件可以用一个简单的开关模块来处理 [@problem_id:1583273]。", "problem": "一个机器人采摘臂旋转运动的简化模型由微分方程 $J\\ddot{\\theta} + b\\dot{\\theta} = \\tau_{ctrl}$ 描述，其中 $\\theta$ 是角位置（单位为弧度），$J$ 是总转动惯量，$b$ 是粘性阻尼系数，$\\tau_{ctrl}$ 是控制系统施加的力矩。该臂由一个比例控制器驱动，该控制器根据规则 $\\tau_{ctrl} = K_p(\\theta_{ref} - \\theta)$ 施加力矩，其中 $K_p$ 是比例增益，$\\theta_{ref}$ 是期望的角位置。\n\n系统初始处于静止状态，即 $\\theta(0)=0$ 且 $\\dot{\\theta}(0)=0$。在时间 $t=0$ 时，指令一个新的目标角度，使得对于所有 $t \\ge 0$，$\\theta_{ref} = \\frac{\\pi}{2}$ 弧度。\n\n机械臂初始为空载。在时间 $t=1.0$ 秒时，机械臂瞬间拾取一个重的水果，其总转动惯量从初始值 $J_{empty}$ 突变为一个新值 $J_{loaded}$。在整个过程中，控制器增益 $K_p$ 和阻尼系数 $b$ 均保持不变。\n\n给定以下参数：\n- 初始转动惯量，$J_{empty} = 0.50 \\text{ kg} \\cdot \\text{m}^2$\n- 最终（加载后）转动惯量，$J_{loaded} = 2.0 \\text{ kg} \\cdot \\text{m}^2$\n- 粘性阻尼系数，$b = 1.0 \\text{ N} \\cdot \\text{m} \\cdot \\text{s}/\\text{rad}$\n- 比例增益，$K_p = 8.0 \\text{ N} \\cdot \\text{m}/\\text{rad}$\n\n计算在时间 $t = 1.5$ 秒时，机器人臂的角速度 $\\dot{\\theta}$。答案以 rad/s 为单位，并四舍五入到三位有效数字。", "solution": "带有比例控制的受控对象遵循\n$$\nJ\\ddot{\\theta} + b\\dot{\\theta} + K_{p}\\theta = K_{p}\\theta_{ref},\n$$\n因此稳态为 $\\theta_{ss}=\\theta_{ref}$。定义 $x(t)=\\theta(t)-\\theta_{ref}$。那么 $x$ 满足齐次方程\n$$\nJ\\ddot{x} + b\\dot{x} + K_{p}x = 0.\n$$\n对于给定的 $J$，标准参数为\n$$\n\\omega_{n}=\\sqrt{\\frac{K_{p}}{J}},\\quad \\zeta=\\frac{b}{2\\sqrt{J K_{p}}},\\quad \\omega_{d}=\\omega_{n}\\sqrt{1-\\zeta^{2}}.\n$$\n通用的欠阻尼解为\n$$\nx(t)=\\exp(-\\zeta\\omega_{n} t)\\left[A\\cos(\\omega_{d} t)+B\\sin(\\omega_{d} t)\\right],\n$$\n其中\n$$\nA=x(0),\\qquad B=\\frac{\\dot{x}(0)+\\zeta\\omega_{n}A}{\\omega_{d}}.\n$$\n\n阶段 1（空载臂，$0 \\le t  1$）：$J=J_{empty}=0.50$，$b=1.0$，$K_{p}=8.0$，$\\theta_{ref}=\\frac{\\pi}{2}$，初始条件为 $\\theta(0)=0$，$\\dot{\\theta}(0)=0$，因此 $x(0)=-\\theta_{ref}$ 且 $\\dot{x}(0)=0$。\n计算参数：\n$$\n\\omega_{n1}=\\sqrt{\\frac{8}{0.50}}=4,\\quad \\zeta_{1}=\\frac{1}{2\\sqrt{0.50\\cdot 8}}=\\frac{1}{4},\\quad \\omega_{d1}=\\omega_{n1}\\sqrt{1-\\zeta_{1}^{2}}=\\sqrt{15}.\n$$\n因此\n$$\nA_{1}=-\\theta_{ref},\\qquad B_{1}=\\frac{0+\\zeta_{1}\\omega_{n1}A_{1}}{\\omega_{d1}}=-\\theta_{ref}\\frac{\\zeta_{1}}{\\sqrt{1-\\zeta_{1}^{2}}}=-\\frac{\\theta_{ref}}{\\sqrt{15}}.\n$$\n因此，在 $t=1$ 时，\n$$\nx(1)=\\exp(-\\zeta_{1}\\omega_{n1}\\cdot 1)\\left[A_{1}\\cos(\\omega_{d1})+B_{1}\\sin(\\omega_{d1})\\right]\n= -\\theta_{ref}\\exp(-1)\\left[\\cos(\\sqrt{15})+\\frac{1}{\\sqrt{15}}\\sin(\\sqrt{15})\\right],\n$$\n角速度可以通过对 $x(t)$ 求导得到：\n$$\n\\dot{x}(t)=\\exp(-\\zeta\\omega_{n} t)\\left[-\\zeta\\omega_{n}\\big(A\\cos(\\omega_{d} t)+B\\sin(\\omega_{d} t)\\big)+\\big(-A\\omega_{d}\\sin(\\omega_{d} t)+B\\omega_{d}\\cos(\\omega_{d} t)\\big)\\right].\n$$\n对于从静止开始的阶跃响应的特殊情况，它也简化为已知的闭式解\n$$\n\\dot{\\theta}(t)=\\dot{y}(t)=\\theta_{ref}\\frac{\\omega_{n}}{\\sqrt{1-\\zeta^{2}}}\\exp(-\\zeta\\omega_{n} t)\\sin(\\omega_{d} t),\n$$\n这可以通过直接求导和项的消去得到。使用这个公式和阶段1的参数，得到\n$$\n\\dot{\\theta}(1^{-})=\\theta_{ref}\\frac{\\omega_{n1}}{\\sqrt{1-\\zeta_{1}^{2}}}\\exp(-\\zeta_{1}\\omega_{n1}\\cdot 1)\\sin(\\omega_{d1}\\cdot 1)\n=\\theta_{ref}\\frac{16}{\\sqrt{15}}\\exp(-1)\\sin(\\sqrt{15}).\n$$\n数值计算如下：\n$$\n\\theta_{ref}=\\frac{\\pi}{2},\\quad \\sqrt{15}\\approx 3.872983346,\\quad \\exp(-1)\\approx 0.367879441,\n$$\n$$\n\\cos(\\sqrt{15})\\approx -0.744244,\\quad \\sin(\\sqrt{15})\\approx -0.667935.\n$$\n因此\n$$\nx(1)\\approx -\\frac{\\pi}{2}\\cdot 0.367879441\\left[-0.744244+\\frac{-0.667935}{\\sqrt{15}}\\right]\\approx 0.529728,\n$$\n以及\n$\n\\dot{\\theta}(1^{-})\\approx \\frac{\\pi}{2}\\cdot\\frac{16}{\\sqrt{15}}\\cdot 0.367879441\\cdot(-0.667935)\\approx -1.59453.\n$\n\n阶段 2（加载臂，$t\\ge 1$）：$J=J_{loaded}=2.0$，具有相同的 $b$ 和 $K_{p}$。定义 $\\tau=t-1$ 并使用 $x(\\tau)=\\theta(t)-\\theta_{ref}$，初始条件为 $x(0)=x(1)$ 和 $\\dot{x}(0)=\\dot{\\theta}(1^{-})$。\n计算参数：\n$$\n\\omega_{n2}=\\sqrt{\\frac{8}{2.0}}=2,\\quad \\zeta_{2}=\\frac{1}{2\\sqrt{2.0\\cdot 8}}=\\frac{1}{8},\\quad \\omega_{d2}=\\omega_{n2}\\sqrt{1-\\zeta_{2}^{2}}=\\frac{\\sqrt{63}}{4}.\n$$\n因此\n$$\nA_{2}=x(0)=x(1),\\qquad B_{2}=\\frac{\\dot{x}(0)+\\zeta_{2}\\omega_{n2}A_{2}}{\\omega_{d2}}=\\frac{\\dot{\\theta}(1^{-})+\\frac{1}{4}A_{2}}{\\omega_{d2}}.\n$$\n使用上面的数值，\n$$\n\\omega_{d2}\\approx 1.984313483,\\quad A_{2}\\approx 0.529728,\\quad \\dot{x}(0)\\approx -1.59453,\n$$\n$$\nB_{2}\\approx \\frac{-1.59453+0.25\\cdot 0.529728}{1.984313483}\\approx -0.73683.\n$$\n对于 $\\tau=0.5$（即 $t=1.5$），计算\n$$\n\\exp(-\\zeta_{2}\\omega_{n2}\\tau)=\\exp\\!\\big(-\\tfrac{1}{4}\\cdot 0.5\\big)=\\exp(-0.125)\\approx 0.882496902,\n$$\n$$\n\\omega_{d2}\\tau\\approx 1.984313483\\cdot 0.5\\approx 0.992156742,\\quad \\cos(\\omega_{d2}\\tau)\\approx 0.54688553,\\quad \\sin(\\omega_{d2}\\tau)\\approx 0.83720734.\n$$\n然后\n$$\nS_{1}=A_{2}\\cos(\\omega_{d2}\\tau)+B_{2}\\sin(\\omega_{d2}\\tau)\\approx -0.32717915,\n$$\n$$\nT=-A_{2}\\omega_{d2}\\sin(\\omega_{d2}\\tau)+B_{2}\\omega_{d2}\\cos(\\omega_{d2}\\tau)\\approx -1.67962901.\n$$\n因此\n$$\n\\dot{x}(\\tau)=\\exp(-\\zeta_{2}\\omega_{n2}\\tau)\\left[-\\zeta_{2}\\omega_{n2}S_{1}+T\\right]\n\\approx 0.882496902\\left[0.25\\cdot 0.32717915-1.67962901\\right]\\approx -1.41008.\n$$\n由于 $\\theta_{ref}$ 是常数，$\\dot{\\theta}(1.5)=\\dot{x}(0.5)\\approx -1.41008\\,\\text{rad/s}$，保留三位有效数字为 $-1.41$。", "answer": "$$\\boxed{-1.41}$$", "id": "1583273"}]}