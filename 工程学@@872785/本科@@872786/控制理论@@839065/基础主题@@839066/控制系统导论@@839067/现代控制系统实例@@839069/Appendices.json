{"hands_on_practices": [{"introduction": "柔性机器人学是一个新兴领域，其执行器通常具有复杂的动态特性。本练习将一个气动柔性执行器的弯曲运动简化为一个二阶线性系统，旨在探索如何通过一个简单的比例控制器来精确塑造系统的动态响应。通过求解实现临界阻尼响应所需的控制器增益 [@problem_id:1574544]，您将实践现代控制理论中一个最核心的概念——极点配置。", "problem": "一个单腔气动软体执行器被用于一个机械臂中。该执行器的弯曲运动可以被建模为一个简化的二阶线性时不变（LTI）系统。输入表压 $P(t)$ 与产生的尖端角度 $\\theta(t)$（单位为弧度）之间的关系由以下微分方程描述：\n$$ J \\frac{d^{2}\\theta(t)}{dt^{2}} + B \\frac{d\\theta(t)}{dt} + K \\theta(t) = \\alpha P(t) $$\n在此式中，$J$ 代表执行器的有效转动惯量，$B$ 是由材料和空气摩擦引起的粘性阻尼系数，$K$ 是执行器弹性体的有效转动刚度，$\\alpha$ 是一个将压力转换为力矩的常数。所有这些参数（$J, B, K, \\alpha$）都是正常数。\n\n为了控制执行器的尖端角度，采用了一个比例控制器。该控制器根据一个恒定的期望角度 $\\theta_{d}$ 和测量的当前角度 $\\theta(t)$ 之间的误差来调节输入压力。控制律由下式给出：\n$$ P(t) = K_{c} (\\theta_{d} - \\theta(t)) $$\n其中 $K_{c}$ 是比例控制器增益。\n\n确定控制器增益 $K_{c}$ 的解析表达式，以确保闭环系统表现出临界阻尼响应。请用 $J$、$B$、$K$ 和 $\\alpha$ 来表示你的答案。", "solution": "受控对象的动态方程为：\n$$\nJ \\frac{d^{2}\\theta(t)}{dt^{2}} + B \\frac{d\\theta(t)}{dt} + K \\theta(t) = \\alpha P(t),\n$$\n比例控制律为：\n$$\nP(t) = K_{c}\\left(\\theta_{d} - \\theta(t)\\right).\n$$\n将控制律代入受控对象方程：\n$$\nJ \\frac{d^{2}\\theta}{dt^{2}} + B \\frac{d\\theta}{dt} + K \\theta = \\alpha K_{c}\\theta_{d} - \\alpha K_{c}\\theta.\n$$\n将包含 $\\theta$ 的项整理到等式左侧：\n$$\nJ \\frac{d^{2}\\theta}{dt^{2}} + B \\frac{d\\theta}{dt} + \\left(K + \\alpha K_{c}\\right)\\theta = \\alpha K_{c}\\theta_{d}.\n$$\n决定极点位置的闭环动态方程（齐次部分）为：\n$$\nJ \\frac{d^{2}\\theta}{dt^{2}} + B \\frac{d\\theta}{dt} + \\left(K + \\alpha K_{c}\\right)\\theta = 0,\n$$\n其特征多项式为：\n$$\nJ s^{2} + B s + \\left(K + \\alpha K_{c}\\right) = 0.\n$$\n对于一个临界阻尼的二阶系统，其特征多项式必须有一个重实根，这等效于要求判别式为零：\n$$\nB^{2} - 4 J \\left(K + \\alpha K_{c}\\right) = 0.\n$$\n解出 $K_{c}$：\n$$\nK + \\alpha K_{c} = \\frac{B^{2}}{4 J}\n\\quad \\Longrightarrow \\quad\n\\alpha K_{c} = \\frac{B^{2}}{4 J} - K\n\\quad \\Longrightarrow \\quad\nK_{c} = \\frac{B^{2} - 4 J K}{4 J \\alpha}.\n$$\n此 $K_{c}$ 值使闭环系统达到临界阻尼。", "answer": "$$\\boxed{\\frac{B^{2}-4 J K}{4 J \\alpha}}$$", "id": "1574544"}, {"introduction": "在许多复杂的工程系统中，我们无法直接测量所有的内部状态。本练习以一个双区域建筑的热力学模型为背景 [@problem_id:1574548]，要求您构建其状态空间表示，并解决一个常见的实际挑战：只有一个传感器可用。您将学习设计一个Luenberger观测器，通过已有的测量值来估计整个系统的状态，这是实现高级状态反馈控制的关键一步。", "problem": "考虑一个具有两个区域的建筑物的简化热模型，该模型由一个供暖、通风和空调（HVAC）系统管理。区域1是一个有显著内部热量产生的服务器机房，区域2是相邻的办公空间。该系统的热力学由以下耦合线性微分方程描述，其中所有温度以开尔文（K）为单位，时间以秒（s）为单位，能量以焦耳（J）为单位，功率以瓦特（W）为单位：\n\n$C_1 \\frac{dT_1}{dt} = -K_{1a}(T_1 - T_a) - K_{12}(T_1 - T_2) - \\alpha(T_1 - T_a) + u_1(t)$\n$C_2 \\frac{dT_2}{dt} = -K_{2a}(T_2 - T_a) + K_{12}(T_1 - T_2) + \\alpha(T_1 - T_2)$\n\n此处，$T_1(t)$ 和 $T_2(t)$ 分别是区域1和区域2的温度。$T_a$ 是恒定的室外环境温度。控制输入 $u_1(t)$ 表示由HVAC系统和内部电子设备添加到区域1的净热率。系统的参数如下：\n- 区域1的热容：$C_1 = 1.0 \\times 10^5 \\text{ J/K}$\n- 区域2的热容：$C_2 = 1.75 \\times 10^5 \\text{ J/K}$\n- 区域1到环境的热导：$K_{1a} = 150 \\text{ W/K}$\n- 区域2到环境的热导：$K_{2a} = 175 \\text{ W/K}$\n- 区域间的热导：$K_{12} = 200 \\text{ W/K}$\n- 由于从区域1到区域2的单向气流引起的对流传热系数：$\\alpha = 150 \\text{ W/K}$\n\n该系统将基于状态反馈进行控制，但只有一个传感器可用于测量区域2的温度。设计了一个 Luenberger 观测器来估计两个区域的温度。设状态变量为与环境温度的偏差：$x_1 = T_1 - T_a$ 和 $x_2 = T_2 - T_a$。状态空间表示为 $\\dot{\\mathbf{x}} = A\\mathbf{x} + B u_1(t)$，测量值为 $y = x_2$。\n\n您的任务是确定全状态观测器的观测器增益向量 $L = \\begin{pmatrix} L_1 \\\\ L_2 \\end{pmatrix}$，其动态方程为 $\\dot{\\hat{\\mathbf{x}}} = A\\hat{\\mathbf{x}} + B u_1(t) + L(y - \\hat{y})$。观测器的设计应使观测器误差动态的特征值（极点）位于 $-0.010 \\text{ s}^{-1}$ 和 $-0.012 \\text{ s}^{-1}$。\n\n将增益向量 $L$ 的分量表示为行矩阵 $\\begin{pmatrix} L_1  L_2 \\end{pmatrix}$，其值以 $\\text{s}^{-1}$ 为单位。", "solution": "定义偏差状态 $x_{1} = T_{1} - T_{a}$ 和 $x_{2} = T_{2} - T_{a}$。由于 $T_{a}$ 是常数，所以 $\\dot{x}_{i} = \\dot{T}_{i}$。用 $x_{1},x_{2}$ 重写给定的动态方程：\n$$\nC_{1}\\dot{x}_{1} = -(K_{1a}+\\alpha)x_{1} - K_{12}(x_{1}-x_{2}) + u_{1}\n= -(K_{1a}+K_{12}+\\alpha)x_{1} + K_{12}x_{2} + u_{1},\n$$\n$$\nC_{2}\\dot{x}_{2} = -K_{2a}x_{2} + (K_{12}+\\alpha)(x_{1}-x_{2})\n= (K_{12}+\\alpha)x_{1} - (K_{2a}+K_{12}+\\alpha)x_{2}.\n$$\n因此，状态空间模型 $\\dot{\\mathbf{x}} = A\\mathbf{x} + B u_{1}$ 且 $y = x_{2}$ 有\n$$\nA = \\begin{pmatrix}\n-\\dfrac{K_{1a}+K_{12}+\\alpha}{C_{1}}  \\dfrac{K_{12}}{C_{1}}\\\\[6pt]\n\\dfrac{K_{12}+\\alpha}{C_{2}}  -\\dfrac{K_{2a}+K_{12}+\\alpha}{C_{2}}\n\\end{pmatrix},\\quad\nB = \\begin{pmatrix} \\dfrac{1}{C_{1}} \\\\[4pt] 0 \\end{pmatrix},\\quad\nC = \\begin{pmatrix} 0  1 \\end{pmatrix}.\n$$\n对于观测器 $\\dot{\\hat{\\mathbf{x}}} = A\\hat{\\mathbf{x}} + Bu_{1} + L(y-\\hat{y})$，误差 $\\mathbf{e} = \\mathbf{x}-\\hat{\\mathbf{x}}$ 的演化为\n$$\n\\dot{\\mathbf{e}} = (A - L C)\\mathbf{e},\\quad L = \\begin{pmatrix} L_{1} \\\\ L_{2} \\end{pmatrix}.\n$$\n因为 $LC = \\begin{pmatrix} 0  L_{1} \\\\ 0  L_{2} \\end{pmatrix}$，我们有\n$$\nA - LC = \\begin{pmatrix}\na_{11}  a_{12} - L_{1}\\\\\na_{21}  a_{22} - L_{2}\n\\end{pmatrix},\\quad\n\\text{其中 } a_{11} = -\\dfrac{K_{1a}+K_{12}+\\alpha}{C_{1}},\\; a_{12} = \\dfrac{K_{12}}{C_{1}},\\; a_{21} = \\dfrac{K_{12}+\\alpha}{C_{2}},\\; a_{22} = -\\dfrac{K_{2a}+K_{12}+\\alpha}{C_{2}}.\n$$\n特征多项式为\n$$\np(\\lambda) = \\det\\!\\big(\\lambda I - (A - LC)\\big)\n= \\lambda^{2} - \\lambda\\big(a_{11}+a_{22}-L_{2}\\big) + \\big(a_{11}(a_{22}-L_{2}) - a_{21}(a_{12}-L_{1})\\big).\n$$\n我们希望极点位于 $-0.010$ 和 $-0.012$，所以期望的多项式是\n$$\np_{d}(\\lambda) = (\\lambda+0.010)(\\lambda+0.012) = \\lambda^{2} + 0.022\\,\\lambda + 0.00012.\n$$\n匹配系数可得\n$$\na_{11}+a_{22}-L_{2} = -0.022,\\quad\na_{11}(a_{22}-L_{2}) - a_{21}(a_{12}-L_{1}) = 0.00012.\n$$\n使用给定参数计算 $A$ 的各项：\n$$\na_{11} = -\\dfrac{150+200+150}{1.0\\times 10^{5}} = -0.005,\\quad\na_{12} = \\dfrac{200}{1.0\\times 10^{5}} = 0.002,\n$$\n$$\na_{21} = \\dfrac{200+150}{1.75\\times 10^{5}} = \\dfrac{350}{175000} = 0.002,\\quad\na_{22} = -\\dfrac{175+200+150}{1.75\\times 10^{5}} = -\\dfrac{525}{175000} = -0.003.\n$$\n首先，根据迹条件，\n$$\nL_{2} = a_{11}+a_{22}+0.022 = (-0.005) + (-0.003) + 0.022 = 0.014.\n$$\n接下来，根据常数项条件，写出\n$$\n0.00012 = \\big(a_{11}a_{22} - a_{21}a_{12}\\big) - a_{11}L_{2} + a_{21}L_{1}.\n$$\n计算\n$$\na_{11}a_{22} - a_{21}a_{12} = (-0.005)(-0.003) - (0.002)(0.002) = 0.000015 - 0.000004 = 0.000011,\n$$\n$$\n-a_{11}L_{2} = -(-0.005)(0.014) = 0.00007.\n$$\n因此\n$$\n0.00012 = 0.000011 + 0.00007 + a_{21}L_{1} \\;\\Rightarrow\\; a_{21}L_{1} = 0.00012 - 0.000081 = 0.000039,\n$$\n$$\nL_{1} = \\dfrac{0.000039}{0.002} = 0.0195.\n$$\n所以，\n$$\nL = \\begin{pmatrix} 0.0195 \\\\ 0.014 \\end{pmatrix},\n$$\n这使得观测器误差动态的特征值位于期望的位置。快速检查：$\\operatorname{tr}(A-LC) = a_{11}+a_{22}-L_{2} = -0.022$ 且 $\\det(A-LC) = 0.00012$，与目标多项式 $\\lambda^{2} + 0.022\\lambda + 0.00012$ 相匹配。", "answer": "$$\\boxed{\\begin{pmatrix} 0.0195  0.014 \\end{pmatrix}}$$", "id": "1574548"}, {"introduction": "拥有了系统的状态空间模型（无论是通过直接测量还是通过观测器估计），我们便可以设计精密的控制器来达到期望的性能。本练习聚焦于一个高性能处理器的散热问题 [@problem_id:1574529]，任务是设计一个PD控制器来主动管理核心温度。通过运用极点配置技术，您将计算出能将系统的一个闭环极点精确放置在指定位置的控制器增益，从而直接塑造系统的动态响应特性。", "problem": "为防止高性能计算机处理器出现热节流，采用了一套主动冷却系统。一个处理核心（节点1）及其邻近硅区域（节点2）的热动态特性可以使用一个双节点集总参数模型来简化。核心的温度偏差 $\\delta T_1(t)$ 和周围区域的温度偏差 $\\delta T_2(t)$ 相对于稳态工作点的演变，由以下线性化微分方程决定：\n\n$$\nC_1 \\frac{d(\\delta T_1)}{dt} = k(\\delta T_2 - \\delta T_1) - k_{amb}\\delta T_1 - \\delta u(t)\n$$\n$$\nC_2 \\frac{d(\\delta T_2)}{dt} = k(\\delta T_1 - \\delta T_2) - k_{amb}\\delta T_2\n$$\n\n此处，$C_1$ 和 $C_2$ 分别是核心和周围区域的热容。参数 $k$ 表示两个节点之间的热导，而 $k_{amb}$ 是从每个节点到周围环境（即散热器）的热导。项 $\\delta u(t)$ 是由热电冷却器（TEC）提供的从核心移除的热能速率的偏差。\n\n一个比例-微分（PD）控制器根据核心的温度偏差来调节热量移除速率。热量移除偏差的控制律由下式给出：\n\n$$\n\\delta u(t) = K_p \\delta T_1(t) + K_d \\frac{d(\\delta T_1)}{dt}\n$$\n\n其中 $K_p$ 和 $K_d$ 分别是比例增益和微分增益。\n\n系统参数如下：\n- 核心热容，$C_1 = 0.5 \\text{ J/K}$\n- 周围区域热容，$C_2 = 2.0 \\text{ J/K}$\n- 节点间热导，$k = 2.5 \\text{ W/K}$\n- 环境热导，$k_{amb} = 0.5 \\text{ W/K}$\n- 微分增益，$K_d = 1.0 \\text{ W}\\cdot\\text{s/K}$\n\n为达到期望的瞬态响应，闭环系统的一个极点必须被放置在 $s = -5.0 \\text{ rad/s}$。计算所需的比例增益 $K_p$ 的值。用 W/K 作单位，答案保留三位有效数字。", "solution": "令 $x_{1}(t)=\\delta T_{1}(t)$ 和 $x_{2}(t)=\\delta T_{2}(t)$。将PD控制律 $\\delta u(t)=K_{p}x_{1}(t)+K_{d}\\dot{x}_{1}(t)$ 代入第一个热平衡方程，我们得到\n$$\nC_{1}\\dot{x}_{1}=k(x_{2}-x_{1})-k_{amb}x_{1}-K_{p}x_{1}-K_{d}\\dot{x}_{1}.\n$$\n整理后得到\n$$\n(C_{1}+K_{d})\\dot{x}_{1}=k x_{2}-(k+k_{amb}+K_{p})x_{1}.\n$$\n第二个方程是\n$$\nC_{2}\\dot{x}_{2}=k(x_{1}-x_{2})-k_{amb}x_{2}.\n$$\n因此，闭环状态空间模型 $\\dot{x}=Ax$ 的矩阵A为\n$$\nA=\\begin{pmatrix}\n-\\dfrac{k+k_{amb}+K_{p}}{C_{1}+K_{d}}  \\dfrac{k}{C_{1}+K_{d}}\\\\[6pt]\n\\dfrac{k}{C_{2}}  -\\dfrac{k+k_{amb}}{C_{2}}\n\\end{pmatrix}.\n$$\n特征多项式是\n$$\np(s)=\\det(sI-A)=s^{2}-(\\operatorname{tr}A)s+\\det A,\n$$\n其中\n$$\n\\operatorname{tr}A=-\\dfrac{k+k_{amb}+K_{p}}{C_{1}+K_{d}}-\\dfrac{k+k_{amb}}{C_{2}},\n\\quad\n\\det A=\\left(-\\dfrac{k+k_{amb}+K_{p}}{C_{1}+K_{d}}\\right)\\left(-\\dfrac{k+k_{amb}}{C_{2}}\\right)-\\dfrac{k}{C_{1}+K_{d}}\\cdot\\dfrac{k}{C_{2}}.\n$$\n要将一个极点置于 $s=-5$，需强制 $p(-5)=0$，即\n$$\n25+5\\,\\operatorname{tr}A+\\det A=0.\n$$\n使用给定的数值参数 $C_{1}=0.5$，$C_{2}=2.0$，$k=2.5$，$k_{amb}=0.5$，$K_{d}=1.0$，计算矩阵元素作为 $K_p$ 的函数：\n$$\na_{11}=-\\dfrac{k+k_{amb}+K_{p}}{C_{1}+K_{d}}=-\\dfrac{3.0+K_{p}}{1.5}=-2-\\dfrac{2}{3}K_{p},\\quad\na_{12}=\\dfrac{k}{C_{1}+K_{d}}=\\dfrac{2.5}{1.5}=\\dfrac{5}{3},\n$$\n$$\na_{21}=\\dfrac{k}{C_{2}}=\\dfrac{2.5}{2.0}=\\dfrac{5}{4},\\quad\na_{22}=-\\dfrac{k+k_{amb}}{C_{2}}=-\\dfrac{3.0}{2.0}=-\\dfrac{3}{2}.\n$$\n因此\n$$\n\\operatorname{tr}A=a_{11}+a_{22}=-\\dfrac{7}{2}-\\dfrac{2}{3}K_{p},\\qquad\n\\det A=a_{11}a_{22}-a_{12}a_{21}=(3+K_{p})-\\dfrac{25}{12}=K_{p}+\\dfrac{11}{12}.\n$$\n代入 $25+5\\,\\operatorname{tr}A+\\det A=0$ 中：\n$$\n25+5\\left(-\\dfrac{7}{2}-\\dfrac{10}{3}K_{p}\\right)+\\left(K_{p}+\\dfrac{11}{12}\\right)=0,\n$$\n$$\n25-\\dfrac{35}{2}-\\dfrac{10}{3}K_{p}+K_{p}+\\dfrac{11}{12}=0,\n$$\n$$\n\\dfrac{101}{12}-\\dfrac{7}{3}K_{p}=0\\quad\\Rightarrow\\quad K_{p}=\\dfrac{101}{28}.\n$$\n数值上，$K_{p}\\approx 3.607142857$，保留三位有效数字为 $3.61$，单位是 W/K。", "answer": "$$\\boxed{3.61}$$", "id": "1574529"}]}