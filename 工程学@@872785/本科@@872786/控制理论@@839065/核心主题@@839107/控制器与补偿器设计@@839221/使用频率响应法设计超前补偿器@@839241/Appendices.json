{"hands_on_practices": [{"introduction": "在设计任何控制器之前，首要的关键步骤是分析现有系统的稳定性和性能。此练习将引导你计算开环传递函数的增益交越频率和相位裕度，这是评估系统性能和确定是否需要补偿的两个核心指标。通过这个基础分析，你可以为后续的补偿器设计奠定坚实的基础。[@problem_id:1570302]", "problem": "考虑一个用于单轴相机云台位置控制系统的简化开环传递函数模型。该系统描述了电机输入电压与所产生的相机角位置之间的关系。传递函数 $G(s)$ 由下式给出：\n$$G(s) = \\frac{K}{s(s+p)}$$\n对于这个特定的云台系统，参数已确定为 $K = 50$ 和 $p = 5$。\n\n在实施控制器之前，有必要分析现有未补偿系统的特性。你的任务是进行初步的频域分析。计算该未补偿系统的增益交越频率和相位裕度。\n\n增益交越频率以 rad/s 为单位表示，相位裕度以度为单位表示。最终答案应为一组两个数，其中增益交越频率在前。将你的两个最终答案四舍五入到三位有效数字。", "solution": "我们考虑开环传递函数 $G(s)=\\dfrac{K}{s(s+p)}$，其中 $K=50$ 且 $p=5$。增益交越频率 $\\omega_{gc}$ 由条件 $|G(j\\omega_{gc})|=1$ 定义，而相位裕度由 $G(j\\omega)$ 在 $\\omega=\\omega_{gc}$ 时的相位计算得出。\n\n首先，计算幅值：\n$$\nG(j\\omega)=\\frac{K}{j\\omega\\,(j\\omega+p)} \\quad\\Rightarrow\\quad |G(j\\omega)|=\\frac{K}{|\\!j\\omega\\!|\\,|j\\omega+p|}=\\frac{K}{\\omega\\,\\sqrt{\\omega^{2}+p^{2}}}.\n$$\n增益交越条件 $|G(j\\omega_{gc})|=1$ 给出\n$$\n\\frac{K}{\\omega_{gc}\\sqrt{\\omega_{gc}^{2}+p^{2}}}=1 \\;\\;\\Rightarrow\\;\\; \\omega_{gc}\\sqrt{\\omega_{gc}^{2}+p^{2}}=K.\n$$\n令 $x=\\omega_{gc}^{2}$。则\n$$\nx(x+p^{2})=K^{2}\\;\\;\\Rightarrow\\;\\; x^{2}+p^{2}x-K^{2}=0,\n$$\n其正根为\n$$\nx=\\frac{-p^{2}+\\sqrt{p^{4}+4K^{2}}}{2}.\n$$\n因此，\n$$\n\\omega_{gc}=\\sqrt{\\frac{-p^{2}+\\sqrt{p^{4}+4K^{2}}}{2}}.\n$$\n代入 $K=50$ 和 $p=5$，\n$$\n\\sqrt{p^{4}+4K^{2}}=\\sqrt{625+10000}=25\\sqrt{17},\n$$\n所以\n$$\n\\omega_{gc}=\\sqrt{\\frac{-25+25\\sqrt{17}}{2}}=5\\,\\sqrt{\\frac{-1+\\sqrt{17}}{2}}.\n$$\n数值计算得出 $\\omega_{gc}\\approx 6.25$ (rad/s)，精确到三位有效数字。\n\n接下来，计算相位。对于 $\\omega0$，\n$$\n\\angle G(j\\omega)= -\\left(\\frac{\\pi}{2}+\\arctan\\!\\left(\\frac{\\omega}{p}\\right)\\right).\n$$\n相位裕度为\n$$\n\\text{PM}=\\pi+\\angle G(j\\omega_{gc})=\\pi-\\left(\\frac{\\pi}{2}+\\arctan\\!\\left(\\frac{\\omega_{gc}}{p}\\right)\\right)=\\frac{\\pi}{2}-\\arctan\\!\\left(\\frac{\\omega_{gc}}{p}\\right).\n$$\n使用上面的表达式，\n$$\n\\frac{\\omega_{gc}}{p}=\\sqrt{\\frac{-1+\\sqrt{17}}{2}},\n$$\n所以\n$$\n\\text{PM}=\\frac{\\pi}{2}-\\arctan\\!\\left(\\sqrt{\\frac{-1+\\sqrt{17}}{2}}\\right) \\quad\\text{(弧度)}.\n$$\n转换为度，\n$$\n\\text{PM}_{\\text{deg}}=\\left(\\frac{\\pi}{2}-\\arctan\\!\\left(\\sqrt{\\frac{-1+\\sqrt{17}}{2}}\\right)\\right)\\frac{180}{\\pi}\\approx 38.7 \\;\\text{度},\n$$\n四舍五入到三位有效数字。\n\n因此，增益交越频率和相位裕度（按要求的顺序）分别约为 $6.25$ 和 $38.7$。", "answer": "$$\\boxed{\\begin{pmatrix} 6.25  38.7 \\end{pmatrix}}$$", "id": "1570302"}, {"introduction": "分析完原始系统后，设计的下一步是量化所需的改进。本练习模拟了一个真实的设计场景，你需要根据期望的相位裕度和增益交越频率，计算出超前补偿器必须提供的确切相位裕量。掌握这一步对于将抽象的设计目标转化为具体的补偿器参数至关重要。[@problem_id:1570278]", "problem": "考虑一个单位反馈控制系统，其未补偿的开环对象由传递函数描述：\n$$G_p(s) = \\frac{A}{s(s+2)}$$\n其中 $A$ 是一个正常数增益。需要为该系统设计一个超前补偿器 $G_c(s)$。设计指标要求最终补偿后的系统 $G_c(s)G_p(s)$ 的增益交越频率为 $\\omega_{gc} = 4 \\text{ rad/s}$，相位裕度至少为 $50^\\circ$。为保证鲁棒性，超前补偿器的设计应包含一个安全裕量，即在目标交越频率处提供比满足相位裕度指标所需的最小相位多 $10^\\circ$ 的相位。\n\n计算补偿器在 $\\omega = 4 \\text{ rad/s}$ 时必须提供的总超前相位 $\\phi_{lead}$。答案以度为单位表示，并四舍五入到三位有效数字。", "solution": "目标是确定超前补偿器在指定频率下为满足期望的相位裕度所需提供的超前相位 $\\phi_{lead}$。\n\n整个补偿后系统在增益交越频率 $\\omega_{gc}$ 处的相位由 $\\angle G_c(j\\omega_{gc})G_p(j\\omega_{gc})$ 给出。相位裕度 ($PM$) 定义为 $PM = 180^\\circ + \\angle G_c(j\\omega_{gc})G_p(j\\omega_{gc})$。\n\n已知条件如下：\n- 期望相位裕度，$PM_{des} = 50^\\circ$。\n- 目标增益交越频率，$\\omega_{gc} = 4 \\text{ rad/s}$。\n- 相位安全裕量，$10^\\circ$。\n- 未补偿的对象传递函数，$G_p(s) = \\frac{A}{s(s+2)}$。\n\n为达到期望的相位裕度，补偿后系统在 $\\omega_{gc}$ 处所需的相位是：\n$\\angle G_c(j\\omega_{gc})G_p(j\\omega_{gc}) = PM_{des} - 180^\\circ = 50^\\circ - 180^\\circ = -130^\\circ$。\n\n补偿后系统的相位是补偿器和对象的相位之和：\n$\\angle G_c(j\\omega_{gc})G_p(j\\omega_{gc}) = \\angle G_c(j\\omega_{gc}) + \\angle G_p(j\\omega_{gc})$。\n项 $\\angle G_c(j\\omega_{gc})$ 是补偿器必须提供的超前相位，我们称之为 $\\phi_{lead}$。\n因此，$\\phi_{lead} + \\angle G_p(j\\omega_{gc}) = -130^\\circ$。\n这意味着所需的最小超前相位为 $\\phi_{needed} = -130^\\circ - \\angle G_p(j\\omega_{gc})$。\n\n首先，我们必须计算未补偿对象在目标频率 $\\omega_{gc} = 4 \\text{ rad/s}$ 处的相位 $\\angle G_p(j\\omega_{gc})$。\n我们将 $s = j\\omega_{gc} = j4$ 代入对象传递函数 $G_p(s)$。增益 $A$ 是一个正常数，因此其相位为 $0^\\circ$，对相角计算没有贡献。\n$$\n\\angle G_p(j4) = \\angle \\left( \\frac{A}{j4(j4+2)} \\right) = \\angle(A) - \\angle(j4) - \\angle(2+j4)\n$$\n我们有：\n- $\\angle(A) = 0^\\circ$\n- $\\angle(j4) = 90^\\circ$ (正虚数的相角)\n- $\\angle(2+j4) = \\arctan\\left(\\frac{4}{2}\\right) = \\arctan(2)$\n\n使用计算器计算反正切：\n$$\n\\arctan(2) \\approx 63.435^\\circ\n$$\n现在，我们可以求出未补偿对象在该频率下的总相位：\n$$\n\\angle G_p(j4) = 0^\\circ - 90^\\circ - 63.435^\\circ = -153.435^\\circ\n$$\n\n未补偿对象在该频率下的相位裕度为 $180^\\circ + \\angle G_p(j4) = 180^\\circ - 153.435^\\circ = 26.565^\\circ$。\n期望的相位裕度是 $50^\\circ$。补偿器需要提供的最小相位提升量是期望相位裕度与对象在该频率下当前相位裕度之差。\n$$\n\\phi_{needed} = PM_{des} - (180^\\circ + \\angle G_p(j4)) = 50^\\circ - 26.565^\\circ = 23.435^\\circ\n$$\n\n或者，使用前面推导的方程：\n$$\n\\phi_{needed} = -130^\\circ - \\angle G_p(j\\omega_{gc}) = -130^\\circ - (-153.435^\\circ) = 23.435^\\circ\n$$\n\n题目要求必须包含一个 $10^\\circ$ 的安全裕量。因此，补偿器设计需要提供的总超前相位为：\n$$\n\\phi_{lead} = \\phi_{needed} + \\text{safety margin}\n$$\n$$\n\\phi_{lead} = 23.435^\\circ + 10^\\circ = 33.435^\\circ\n$$\n\n最后，根据要求将答案四舍五入到三位有效数字。\n$$\n\\phi_{lead} \\approx 33.4^\\circ\n$$", "answer": "$$\\boxed{33.4}$$", "id": "1570278"}, {"introduction": "确定了所需的相位超前后，最后的步骤便是设计补偿器本身，即选择其物理参数。此练习探讨了超前补偿器设计中的一个基本关系：参数 $\\alpha$ 如何直接决定补偿器能提供的最大相位超前角 $\\phi_{\\max}$。理解这种关系是选择合适补偿器以满足性能指标的核心。[@problem_id:1570311]", "problem": "在控制系统的设计中，通常使用超前补偿器来改善系统的相位裕度和瞬态响应。考虑一个一阶超前补偿器，其传递函数如下：\n$$G_c(s) = K_c \\frac{s + 1/T}{s + 1/(\\alpha T)}$$\n其中 $K_c$ 是补偿器增益，$T$ 是时间常数，$\\alpha$ 是一个决定零点和极点之间距离的参数，满足 $0  \\alpha  1$。该传递函数通常写成以下形式：\n$$G_c(s) = K_c \\alpha \\frac{Ts+1}{\\alpha Ts+1}$$\n对于一个特定的应用，该超前补偿器必须被设计成能够提供 $45^\\circ$ 的最大相位超前。确定为达到此要求，参数 $\\alpha$ 所需的值。答案应为一个闭式解析表达式。", "solution": "超前补偿器由 $G_{c}(s) = K_{c}\\alpha \\dfrac{Ts+1}{\\alpha Ts+1}$ 给出。$G_{c}(j\\omega)$ 的相位贡献是零点和极点相角之差：\n$$\n\\phi(\\omega) = \\arctan(\\omega T) - \\arctan(\\omega \\alpha T).\n$$\n为了找到最大相位超前，将 $\\phi(\\omega)$ 对 $\\omega$ 求导，并令导数为零。使用 $\\dfrac{d}{d\\omega}\\arctan(u(\\omega)) = \\dfrac{u'(\\omega)}{1+u(\\omega)^{2}}$，我们得到\n$$\n\\frac{d\\phi}{d\\omega} = \\frac{T}{1+(\\omega T)^{2}} - \\frac{\\alpha T}{1+(\\omega \\alpha T)^{2}} = 0.\n$$\n两边同乘以分母并化简：\n$$\nT\\bigl(1+(\\omega \\alpha T)^{2}\\bigr) - \\alpha T\\bigl(1+(\\omega T)^{2}\\bigr) = 0,\n$$\n$$\n(1-\\alpha) + (\\omega T)^{2}(\\alpha^{2} - \\alpha) = 0,\n$$\n$$\n(1-\\alpha)\\bigl[1 - \\alpha(\\omega T)^{2}\\bigr] = 0.\n$$\n因为 $0\\alpha1$，我们有 $1-\\alpha \\neq 0$，因此使相位超前最大的频率满足\n$$\n\\omega T = \\frac{1}{\\sqrt{\\alpha}}.\n$$\n在该频率下计算相位，\n$$\n\\phi_{\\max} = \\arctan\\!\\left(\\frac{1}{\\sqrt{\\alpha}}\\right) - \\arctan\\!\\left(\\sqrt{\\alpha}\\right).\n$$\n使用正切差角公式，\n$$\n\\tan(\\phi_{\\max}) = \\frac{\\tan\\left(\\arctan\\left(\\frac{1}{\\sqrt{\\alpha}}\\right)\\right) - \\tan\\left(\\arctan\\left(\\sqrt{\\alpha}}\\right)\\right)}{1 + \\tan\\left(\\arctan\\left(\\frac{1}{\\sqrt{\\alpha}}\\right)\\right)\\tan\\left(\\arctan\\left(\\sqrt{\\alpha}}\\right)\\right)} = \\frac{\\frac{1}{\\sqrt{\\alpha}} - \\sqrt{\\alpha}}{1 + 1} = \\frac{1-\\alpha}{2\\sqrt{\\alpha}}.\n$$\n然后\n$$\n\\sin(\\phi_{\\max}) = \\frac{\\tan(\\phi_{\\max})}{\\sqrt{1+\\tan^{2}(\\phi_{\\max})}} = \\frac{\\frac{1-\\alpha}{2\\sqrt{\\alpha}}}{\\sqrt{1 + \\frac{(1-\\alpha)^{2}}{4\\alpha}}} = \\frac{1-\\alpha}{1+\\alpha}.\n$$\n对于 $45$ 度的最大相位超前要求，我们设 $\\phi_{\\max} = \\frac{\\pi}{4}$，所以\n$$\n\\frac{1-\\alpha}{1+\\alpha} = \\sin\\!\\left(\\frac{\\pi}{4}\\right) = \\frac{\\sqrt{2}}{2}.\n$$\n求解 $\\alpha$，\n$$\n1 - \\alpha = \\frac{\\sqrt{2}}{2}(1 + \\alpha),\n$$\n$$\n(1 - \\frac{\\sqrt{2}}{2}) = \\alpha\\left(1 + \\frac{\\sqrt{2}}{2}\\right),\n$$\n$$\n\\alpha = \\frac{1 - \\frac{\\sqrt{2}}{2}}{1 + \\frac{\\sqrt{2}}{2}} = \\frac{2 - \\sqrt{2}}{2 + \\sqrt{2}} = 3 - 2\\sqrt{2}.\n$$\n这满足了超前补偿器所要求的 $0\\alpha1$。", "answer": "$$\\boxed{3 - 2\\sqrt{2}}$$", "id": "1570311"}]}