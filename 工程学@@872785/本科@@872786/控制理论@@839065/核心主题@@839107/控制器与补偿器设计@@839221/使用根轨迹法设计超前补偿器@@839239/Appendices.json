{"hands_on_practices": [{"introduction": "根轨迹的相角条件是检验期望的闭环极点位置是否位于根轨迹上的决定性准则。本练习将直接应用此原理，通过计算开环系统在s平面上特定点处的相角，来验证一个提议的设计方案是否可行。[@problem_id:1570605]", "problem": "在一个单位反馈控制系统中，一个被控对象由传递函数 $G(s) = \\frac{K}{s(s+4)}$ 描述，其中 $K$ 是一个正常数增益。为了改善瞬态响应，将一个传递函数为 $G_c(s) = \\frac{s+3}{s+6}$ 的超前补偿器与该对象串联。\n\n一位设计者提出，如果系统在 $s_d = -4 + j4$ 处有一对主导闭环极点，就可以满足一组特定的性能指标。下列哪个陈述正确评估了实现该极点位置的可行性？\n\nA. 是的，对于某个正常数增益 $K$，点 $s_d = -4 + j4$ 在根轨迹上。\n\nB. 不，对于任何正常数增益 $K$，点 $s_d = -4 + j4$ 都不在根轨迹上。\n\nC. 只有当补偿器零点位于 $s=-2$ 而非 $s=-3$ 时，该点才可能在根轨迹上。\n\nD. 在不知道增益 $K$ 的具体数值的情况下，无法确定该点是否在根轨迹上。", "solution": "解决这个问题的核心原理是根轨迹的相角条件。s平面上的一个点 $s_d$ 位于一个系统的根轨迹上，当且仅当它满足相角条件。对于一个开环传递函数为 $L(s)$ 的单位反馈系统，相角条件由下式给出：\n$$ \\angle L(s_d) = (2n+1)180^\\circ $$\n其中 $n$ 是任意整数（例如，0, $\\pm 1$, $\\pm 2$, ...），且增益 $K$ 为正。\n\n首先，我们定义补偿后系统的开环传递函数 $L(s)$。它是补偿器传递函数 $G_c(s)$ 和对象传递函数 $G(s)$ 的乘积。\n$$ L(s) = G_c(s) G(s) = \\left( \\frac{s+3}{s+6} \\right) \\left( \\frac{K}{s(s+4)} \\right) = \\frac{K(s+3)}{s(s+4)(s+6)} $$\n开环零点位于 $s = -3$。\n开环极点位于 $s = 0$、$s = -4$ 和 $s = -6$。\n\n现在，我们必须在期望的极点位置 $s_d = -4 + j4$ 处计算 $L(s)$ 的相角。$L(s_d)$ 的相角是来自零点的相角之和减去来自极点的相角之和。增益 $K$ 是一个正常实数，所以它的相角是 $0^\\circ$，对总和没有贡献。\n$$ \\angle L(s_d) = \\angle(s_d+3) - \\left( \\angle(s_d) + \\angle(s_d+4) + \\angle(s_d+6) \\right) $$\n\n让我们通过将每个项视为复平面中从极点/零点位置出发并终止于点 $s_d$ 的向量来计算其相角。\n\n1.  **来自零点 $s = -3$ 的相角**：\n    向量为 $s_d - (-3) = (-4 + j4) + 3 = -1 + j4$。该向量位于第二象限。\n    $$ \\theta_z = \\angle(-1+j4) = 180^\\circ - \\arctan\\left(\\frac{4}{1}\\right) \\approx 180^\\circ - 75.96^\\circ = 104.04^\\circ $$\n\n2.  **来自极点 $s = 0$ 的相角**：\n    向量为 $s_d - 0 = -4 + j4$。该向量位于第二象限。\n    $$ \\phi_{p1} = \\angle(-4+j4) = 180^\\circ - \\arctan\\left(\\frac{4}{4}\\right) = 180^\\circ - 45^\\circ = 135^\\circ $$\n\n3.  **来自极点 $s = -4$ 的相角**：\n    向量为 $s_d - (-4) = (-4 + j4) + 4 = 0 + j4$。该向量位于正虚轴上。\n    $$ \\phi_{p2} = \\angle(j4) = 90^\\circ $$\n\n4.  **来自极点 $s = -6$ 的相角**：\n    向量为 $s_d - (-6) = (-4 + j4) + 6 = 2 + j4$。该向量位于第一象限。\n    $$ \\phi_{p3} = \\angle(2+j4) = \\arctan\\left(\\frac{4}{2}\\right) = \\arctan(2) \\approx 63.43^\\circ $$\n\n现在，我们根据相角条件公式将这些相角相加：\n$$ \\angle L(s_d) = \\theta_z - (\\phi_{p1} + \\phi_{p2} + \\phi_{p3}) $$\n$$ \\angle L(s_d) \\approx 104.04^\\circ - (135^\\circ + 90^\\circ + 63.43^\\circ) $$\n$$ \\angle L(s_d) \\approx 104.04^\\circ - 288.43^\\circ = -184.39^\\circ $$\n\n相角条件要求总相角是 $180^\\circ$ 的奇数倍，例如 $-180^\\circ$、$180^\\circ$、$-540^\\circ$ 等。我们计算出的相角是 $-184.39^\\circ$，对于任何整数 $n$，它都不等于 $(2n+1)180^\\circ$。\n因此，点 $s_d = -4 + j4$ 不满足相角条件，对于任何正值 $K$，它都不能成为该系统的闭环极点。\n\n这排除了选项 A。选项 D 是不正确的，因为相角条件不依赖于 $K$ 的值（只要 $K0$）。选项 C 提出了一个不同的补偿器，但根据我们对给定系统的分析，该点不在轨迹上。正确的结论是该点不在根轨迹上。这对应于选项 B。", "answer": "$$\\boxed{B}$$", "id": "1570605"}, {"introduction": "超越简单的验证，相角条件的真正威力在于其设计应用。在此练习中，你将把相角条件作为一个代数方程，求解未知的补偿器参数（具体来说是极点位置），以确保根轨迹精确地穿过期望的主导极点。这是塑造系统瞬态响应的一种核心技术。[@problem_id:1570555]", "problem": "一个单轴卫星姿态控制系统的开环传递函数的简化模型由下式给出：\n$$ G_p(s) = \\frac{K}{s(s+2)} $$\n其中 $K$ 是一个可调增益。为了满足瞬态响应的特定性能要求，期望闭环系统在 $s_d = -3 \\pm j3$ 处有一对主导极点。\n\n为实现此目标，引入了一个形式如下的超前补偿器\n$$ G_c(s) = K_c \\frac{s+z_c}{s+p_c} $$\n与被控对象串联。由于硬件限制，补偿器的零点固定在 $s=-z_c = -3$。\n\n确定补偿器极点 $s = -p_c$ 所需的 $p_c$ 值，使得期望的极点位置 $s_d = -3+j3$ 位于补偿后系统的根轨迹上。", "solution": "补偿后的开环传递函数为\n$$\nL(s)=G_{c}(s)G_{p}(s)=K K_{c}\\,\\frac{s+z_{c}}{s(s+2)(s+p_{c})}.\n$$\n由于零点固定在 $s=-z_{c}=-3$，我们有 $z_{c}=3$，因此\n$$\nL(s)=K K_{c}\\,\\frac{s+3}{s(s+2)(s+p_{c})}.\n$$\n为了使期望的闭环主导极点 $s_{d}=-3+j3$ 位于根轨迹上，必须满足相角条件：\n$$\n\\angle\\left(s_{d}+3\\right)-\\angle\\left(s_{d}\\right)-\\angle\\left(s_{d}+2\\right)-\\angle\\left(s_{d}+p_{c}\\right)=(2m+1)\\pi,\\quad m\\in\\mathbb{Z}.\n$$\n计算每个相角：\n- 来自 $-3$ 处零点的相角：$s_{d}+3=0+j3$，因此 $\\angle(s_{d}+3)=\\frac{\\pi}{2}$。\n- 来自 $0$ 处极点的相角：$s_{d}=-3+j3$，因此 $\\angle(s_{d})=\\frac{3\\pi}{4}$。\n- 来自 $-2$ 处极点的相角：$s_{d}+2=-1+j3$，因此 $\\angle(s_{d}+2)=\\pi-\\arctan(3)$。\n- 来自 $-p_{c}$ 处极点的相角：$s_{d}+p_{c}=(p_{c}-3)+j3$。对于超前补偿器，我们取 $p_{c}z_{c}=3$，所以 $p_{c}-30$ 并且\n$$\n\\angle(s_{d}+p_{c})=\\arctan\\left(\\frac{3}{p_{c}-3}\\right).\n$$\n选择分支使得净相角等于 $-\\pi$（与数值一致），得到\n$$\n\\frac{\\pi}{2}-\\left(\\frac{3\\pi}{4}+\\pi-\\arctan(3)+\\arctan\\left(\\frac{3}{p_{c}-3}\\right)\\right)=-\\pi.\n$$\n求解 $\\arctan\\left(\\frac{3}{p_{c}-3}\\right)$，\n$$\n\\arctan\\left(\\frac{3}{p_{c}-3}\\right)=\\arctan(3)-\\frac{\\pi}{4}.\n$$\n对两边取正切，并使用 $\\tan(a-b)=\\frac{\\tan a-\\tan b}{1+\\tan a\\,\\tan b}$，其中 $\\tan(\\arctan(3))=3$ 且 $\\tan(\\frac{\\pi}{4})=1$，我们得到\n$$\n\\frac{3}{p_{c}-3}=\\frac{3-1}{1+3\\cdot 1}=\\frac{2}{4}=\\frac{1}{2}.\n$$\n因此，\n$$\np_{c}-3=6\\quad\\Rightarrow\\quad p_{c}=9.\n$$\n这满足了相角条件，然后可以根据幅值条件选择增益 $K K_{c}$，而不会影响 $p_{c}$。", "answer": "$$\\boxed{9}$$", "id": "1570555"}, {"introduction": "这个进阶问题要求你综合运用根轨迹的各项规则，从期望的轨迹特性出发进行逆向工程。给定根轨迹的渐近线交点和分离点等属性，你需要确定产生该轨迹所需的超前补偿器的精确极点和零点位置。此练习模拟了真实的设计场景，即性能目标决定了根轨迹的形状，进而定义了补偿器的设计参数。[@problem_id:1570612]", "problem": "为一个传递函数为 $G(s) = \\frac{K}{s^2}$ 的受控对象设计一个单位反馈控制系统。为了改善系统的瞬态响应，一个传递函数为 $G_c(s) = K_c \\frac{s+z_c}{s+p_c}$ 的超前补偿器与该受控对象串联。参数 $K$、$K_c$、$z_c$ 和 $p_c$ 均为正实数。\n\n对补偿后的开环系统 $L(s) = G_c(s)G(s)$ 的根轨迹进行分析。发现根轨迹的渐近线与实轴相交于中心 $\\sigma_A = -8$。此外，根轨迹在实轴上的 $s = -4$ 处有一个分离点。\n\n确定补偿器的极点和零点在复 s 平面上的位置。将你的答案表示为一个 $1 \\times 2$ 的行矩阵，其中第一个元素是补偿器零点的位置，第二个元素是补偿器极点的位置。你的答案必须以精确解析表达式的形式给出。", "solution": "补偿后的开环传递函数为\n$$\nL(s)=G_{c}(s)G(s)=K K_{c}\\,\\frac{s+z_{c}}{s^{2}(s+p_{c})}.\n$$\n根轨迹取决于开环极点和零点。系统有 $n=3$ 个有限极点，分别位于 $s=0$ (二重) 和 $s=-p_{c}$，以及 $m=1$ 个有限零点，位于 $s=-z_{c}$。渐近线的中心为\n$$\n\\sigma_{A}=\\frac{\\sum \\text{poles}-\\sum \\text{zeros}}{n-m}=\\frac{(0+0-p_{c})-(-z_{c})}{2}=\\frac{z_{c}-p_{c}}{2}.\n$$\n已知 $\\sigma_{A}=-8$，我们得到\n$$\n\\frac{z_{c}-p_{c}}{2}=-8 \\;\\Rightarrow\\; z_{c}-p_{c}=-16 \\;\\Rightarrow\\; z_{c}=p_{c}-16.\n$$\n\n实轴上的分离点满足 $\\frac{dK_{T}}{ds}=0$，其中 $K_{T}$ 是满足 $1+K_{T}\\frac{s+z_{c}}{s^{2}(s+p_{c})}=0$ 的增益。解出 $K_{T}$ 得\n$$\nK_{T}(s)=-\\frac{s^{2}(s+p_{c})}{s+z_{c}}.\n$$\n令 $\\frac{dK_{T}}{ds}=0$ 可得条件\n$$\n\\left(3s^{2}+2p_{c}s\\right)(s+z_{c})-(s^{3}+p_{c}s^{2})=0,\n$$\n化简后得到\n$$\n2s^{3}+(3z_{c}+p_{c})s^{2}+2p_{c}z_{c}s=0\n\\;\\Rightarrow\\;\ns\\left(2s^{2}+(3z_{c}+p_{c})s+2p_{c}z_{c}\\right)=0.\n$$\n指定的分离点在 $s=-4$，所以将 $s=-4$ 代入二次因子中：\n$$\n2(-4)^{2}+(3z_{c}+p_{c})(-4)+2p_{c}z_{c}=0\n\\;\\Rightarrow\\;\n32-12z_{c}-4p_{c}+2p_{c}z_{c}=0.\n$$\n使用 $z_{c}=p_{c}-16$，\n$$\n2p_{c}(p_{c}-16)-12(p_{c}-16)-4p_{c}+32=0\n\\;\\Rightarrow\\;\n2p_{c}^{2}-32p_{c}-12p_{c}+192-4p_{c}+32=0\n$$\n$$\n\\Rightarrow\\;\n2p_{c}^{2}-48p_{c}+224=0\n\\;\\Rightarrow\\;\np_{c}^{2}-24p_{c}+112=0.\n$$\n因此\n$$\np_{c}=12\\pm 4\\sqrt{2}.\n$$\n由于 $z_{c}=p_{c}-16$ 必须为正，我们选择 $p_{c}=12+4\\sqrt{2}$，由此可得\n$$\nz_{c}=p_{c}-16=12+4\\sqrt{2}-16=-4+4\\sqrt{2}=4(\\sqrt{2}-1).\n$$\n因此，补偿器的零点和极点在 s 平面上的位置是\n$$\ns_{z}=-z_{c}=-4(\\sqrt{2}-1),\\qquad s_{p}=-p_{c}=-(12+4\\sqrt{2}).\n$$", "answer": "$$\\boxed{\\begin{pmatrix}-4\\left(\\sqrt{2}-1\\right)  -(12+4\\sqrt{2})\\end{pmatrix}}$$", "id": "1570612"}]}