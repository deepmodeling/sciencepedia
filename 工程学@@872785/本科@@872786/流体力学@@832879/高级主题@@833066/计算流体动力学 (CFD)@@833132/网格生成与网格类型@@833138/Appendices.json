{"hands_on_practices": [{"introduction": "当面对非简单的几何形状时，生成高质量的结构化网格可能具有挑战性。一种有效的策略是“分而治之”，即使用多块分解技术将复杂域划分为多个简单的拓扑矩形区域。本练习 [@problem_id:1761243] 将通过一个常见的T形管连接件几何形状，检验您应用多块分解核心规则的能力，确保您理解如何正确地划分计算域。", "problem": "在计算流体动力学中，复杂的几何形状通常被分解为更简单的、拓扑上为矩形的区域，以便于生成高质量的结构化网格。这种技术被称为多块结构化网格生成。\n\n考虑一个表示T形接头管道的二维域。该域 $D$ 在笛卡尔坐标系 $(x,y)$ 中被定义为两个矩形区域的并集：一个水平通道 $R_H$ 和一个垂直通道 $R_V$。\n- 水平通道定义为 $R_H = \\{(x, y) | -L \\le x \\le L, -W \\le y \\le 0\\}$。\n- 垂直通道定义为 $R_V = \\{(x, y) | -W \\le x \\le W, 0 \\le y \\le H\\}$。\n其中，$L$、$W$ 和 $H$ 是正常数，且 $L > W$。\n\n域 $D$ 的一个有效多块分解必须满足以下两个条件：\n1. 所有块的并集必须与域 $D$ 完全相同。\n2. 任意两个不同块的内部必须不相交（即，这些块不能重叠，但可以共享边界）。\n\n以下哪个选项描述了T形接头域 $D$ 的一个有效多块分解？\n\nA. 一个由以下方式定义的三块分解：\n- 块 1: $[-L, L] \\times [-W, 0]$\n- 块 2: $[-W, 0] \\times [0, H]$\n- 块 3: $[0, W] \\times [0, H]$\n\nB. 一个由以下方式定义的两块分解：\n- 块 1: $[-L, L] \\times [-W, 0]$\n- 块 2: $[-W, W] \\times [-W, H]$\n\nC. 一个由以下方式定义的三块分解：\n- 块 1: $[-L, -W] \\times [-W, 0]$\n- 块 2: $[W, L] \\times [-W, 0]$\n- 块 3: $[-W, W] \\times [0, H]$\n\nD. 一个由以下方式定义的两块分解：\n- 块 1: $[-L, 0] \\times [-W, 0]$\n- 块 2: $[0, L] \\times [0, H]$", "solution": "一个有效的多块分解必须满足两个条件：(i) 所有块的并集必须完全覆盖域 $D$，以及 (ii) 任意两个不同块的内部不能相交。\n\n检查 A:\n- 块：$B_1 = [-L, L] \\times [-W, 0]$，$B_2 = [-W, 0] \\times [0, H]$，$B_3 = [0, W] \\times [0, H]$。\n- 并集：$B_1 \\cup (B_2 \\cup B_3) = ([-L, L] \\times [-W, 0]) \\cup ([-W, W] \\times [0, H]) = R_H \\cup R_V = D$。条件 (i) 满足。\n- 内部：$\\operatorname{int}(B_1) = (-L, L) \\times (-W, 0)$，$\\operatorname{int}(B_2) = (-W, 0) \\times (0, H)$，$\\operatorname{int}(B_3) = (0, W) \\times (0, H)$。这些区域的内部两两不相交。条件 (ii) 满足。因此，A 是一个有效的分解。\n\n检查 B:\n- 块：$B_1 = [-L, L] \\times [-W, 0]$，$B_2 = [-W, W] \\times [-W, H]$。\n- 内部：$\\operatorname{int}(B_1) = (-L, L) \\times (-W, 0)$ 和 $\\operatorname{int}(B_2) = (-W, W) \\times (-W, H)$。它们的交集是 $(-W, W) \\times (-W, 0)$，它不为空。内部重叠，所以 B 是无效的。\n\n检查 C:\n- 块：$B_1 = [-L, -W] \\times [-W, 0]$，$B_2 = [W, L] \\times [-W, 0]$，$B_3 = [-W, W] \\times [0, H]$。\n- 它们的并集不包含中心区域 $[-W, W] \\times [-W, 0]$。因此，并集不等于 $D$。C 是无效的。\n\n检查 D:\n- 块：$B_1 = [-L, 0] \\times [-W, 0]$，$B_2 = [0, L] \\times [0, H]$。\n- 它们的并集不等于 $D$。例如，区域 $(0, L] \\times [-W, 0)$ 未被覆盖，而区域 $[W, L] \\times (0, H]$ 被错误地包含在内。D 是无效的。\n\n因此，只有选项 A 满足两个条件。", "answer": "$$\\boxed{A}$$", "id": "1761243"}, {"introduction": "在解决实际工程问题时，通常需要在不同区域使用不同类型的网格，例如在边界层使用结构化六面体网格，在复杂的中心区域使用非结构化四面体网格。为了创建无缝连接的“混合”网格，过渡单元（如金字塔单元）至关重要。本练习 [@problem_id:1761200] 提供了一个具体的量化任务，让您通过计算来理解这种过渡界面的构成，从而加深对混合网格策略的认识。", "problem": "在计算流体动力学 (CFD) 领域，创建高质量的计算网格是关键的一步。考虑对一个复杂域采用混合网格划分策略。该域被划分为两个区域。区域1是一个简单的长方体，由 $0 \\le x \\le L_x$，$0 \\le y \\le L_y$ 和 $0 \\le z \\le L_z$ 定义。该区域填充有由相同的六面体单元（具有6个四边形面的单元）组成的结构化网格。该网格在x轴方向上有 $N_x=50$ 个划分，在y轴方向上有 $N_y=30$ 个划分，在z轴方向上有 $N_z=20$ 个划分。\n\n区域2占据 $x > L_x$ 的空间，具有复杂的几何形状，将填充由四面体单元（具有4个三角形面的单元）组成的非结构化网格。为了确保网格协调，必须在 $x=L_x$ 处的交接面上放置一个由棱锥体单元组成的过渡层。一个棱锥体单元是具有5个面的单元：一个四边形底面和四个三角形侧面。过渡层中每个棱锥体单元的四边形底面与交接面上来自结构化网格的一个六面体单元的四边形面完全匹配。这些棱锥体单元的三角形侧面的集合形成一个新的表面，该表面作为用四面体划分区域2网格的边界。\n\n构成这个位于过渡层和非结构化四面体区域之间的新边界面的三角形面总数是多少？\n\nA. 600\n\nB. 1200\n\nC. 2400\n\nD. 3000\n\nE. 4800", "solution": "问题要求计算用于连接结构化六面体网格与非结构化四面体网格的过渡层表面上三角形面的总数。\n\n首先，我们需要确定位于区域1和区域2之间交接面上的六面体单元面的数量。交界面位于平面 $x=L_x$ 上。区域1中的结构化网格在y轴方向上有 $N_y=30$ 个划分，在z轴方向上有 $N_z=20$ 个划分。在任何一个x为常数的平面上，四边形面的数量是另外两个方向上划分数量的乘积。\n\n交接面上的四边形面数量 = $N_y \\times N_z$\n代入给定值：\n四边形面数量 = $30 \\times 20 = 600$\n\n根据问题描述，使用一个由棱锥体单元组成的过渡层来连接两个区域。每个棱锥体单元都有一个四边形底面，必须与交接面上来自六面体网格的一个四边形面相匹配。因此，过渡层中所需的棱锥体单元的数量等于交接面上四边形面的数量。\n\n棱锥体单元数量 = 四边形面数量 = 600\n\n问题要求的是形成非结构化四面体区域新边界的三角形面的总数。这些三角形面是棱锥体单元的侧面。每个棱锥体单元被定义为有一个四边形底面和四个三角形侧面。\n\n每个棱锥体单元的三角形面数量 = 4\n\n形成新表面的三角形面总数是棱锥体单元数量与每个单元的三角形面数量的乘积。\n\n三角形面总数 = (棱锥体单元数量) $\\times$ (每个棱锥体单元的三角形面数量)\n三角形面总数 = $600 \\times 4 = 2400$\n\n因此，将作为区域2四面体网格划分边界的新表面由2400个三角形面组成。这对应于选项C。\n\n让我们回顾一下其他选项作为可能的错误：\nA. 600：这是交接面上的四边形面数量，而不是过渡后的三角形面数量。\nB. 1200：这可能是由于错误地假设每个四边形面被分割成两个三角形来形成新表面，这种情况会发生在不同类型的过渡中（例如，如果以结构化的方式分割，则使用棱柱体或楔形体）。\nD. 3000：这将是 $600 \\times 5$，是所有棱锥体的总面数（1个四边形+4个三角形），而不仅仅是三角形面的数量。\nE. 4800：这将是 $600 \\times 8$，可能是将面与原始六面体的顶点混淆了。", "answer": "$$\\boxed{C}$$", "id": "1761200"}, {"introduction": "网格生成不仅关乎精确地表示几何外形，还关乎创建一个能够实现高效数值求解的计算网格。我们组织和编号网格节点的方式直接影响了最终线性方程组系统矩阵的结构，进而决定了求解器的计算性能。本练习 [@problem_id:1761189] 通过比较两种不同结构化网格布局的计算成本，清晰地揭示了网格拓扑与其下游计算效率之间的关键联系。", "problem": "在计算流体动力学中，对物理域上的偏微分方程进行离散化，通常会产生一个形如 $A\\mathbf{x} = \\mathbf{b}$ 的大型线性代数方程组。矩阵 $A$ 的结构由网格拓扑和节点排序方案决定，而这又显著影响求解该方程组的计算成本。\n\n考虑一个二维矩形结构化网格，其在x方向有 $N_x$ 个节点，在y方向有 $N_y$ 个节点。总节点数为 $N = N_x N_y$。离散化采用五点有限差分模板，这意味着每个内部节点 $(i,j)$ 仅与其四个直接邻居耦合：$(i-1, j)$、$(i+1, j)$、$(i, j-1)$ 和 $(i, j+1)$。\n\n为了构建矩阵 $A$，二维节点网格被映射到一个一维未知向量 $\\mathbf{x}$。采用一种自然的逐行排序方案，其中坐标为 $(i,j)$（$1 \\le i \\le N_x$ 且 $1 \\le j \\le N_y$）的二维网格点通过公式 $k = (j-1)N_x + i$ 映射到一维向量索引 $k$。\n\n使用利用矩阵带状结构（如带状 LU 分解）的直接求解器来求解该方程组的计算成本（以浮点运算次数衡量）大约与 $N B^2$ 成正比，其中 $B$ 是矩阵 $A$ 的半带宽。半带宽定义为矩阵元素 $A_{rc}$ 对于 $r \\ne c$ 可以为非零值的最大绝对差 $|r-c|$。\n\n一位工程师的任务是模拟流过一块矩形板的流动，需要生成一个恰好有 $10,000$ 个节点的网格。他们正在考虑两种不同的结构化网格配置：\n- **案例1：** 高纵横比网格，其中 $N_x = 2000$ 且 $N_y = 5$。\n- **案例2：** 单位纵横比网格，其中 $N_x = 100$ 且 $N_y = 100$。\n\n假设两种情况都使用相同的逐行排序方案和直接求解器，计算案例1与案例2的计算成本之比。", "solution": "给定一个结构化网格，其从二维索引 $(i,j)$到一维索引 $k$ 的映射由 $k=(j-1)N_{x}+i$ 定义。使用五点模板，每个内部节点与其邻居 $(i-1,j)$、$(i+1,j)$、$(i,j-1)$、$(i,j+1)$ 耦合。\n\n在该映射下：\n- $(i-1,j)$ 和 $(i+1,j)$ 分别映射到索引 $k-1$ 和 $k+1$，给出 $|r-c|=1$。\n- $(i,j-1)$ 和 $(i,j+1)$ 分别映射到索引 $k-N_{x}$ 和 $k+N_{x}$，给出 $|r-c|=N_{x}$。\n\n根据给定的定义，半带宽 $B$ 是当 $r\\ne c$ 时，$A_{rc}\\neq 0$ 的最大 $|r-c|$。因此，\n$$\nB=N_{x}\n$$\n直接带状求解器的成本与 $N B^{2}$ 成正比。对于这两种情况，$N=N_{x}N_{y}=10000$。因此，案例1和案例2之间的成本比为：\n$$\n\\frac{\\text{成本}_1}{\\text{成本}_2} \\propto \\frac{N B_{1}^{2}}{N B_{2}^{2}}=\\frac{B_{1}^{2}}{B_{2}^{2}}=\\frac{N_{x,1}^{2}}{N_{x,2}^{2}}=\\frac{2000^{2}}{100^{2}}=\\left(\\frac{2000}{100}\\right)^2 = 20^2 = 400\n$$\n因此，案例1的成本比案例2高400倍。", "answer": "$$\\boxed{400}$$", "id": "1761189"}]}