{"hands_on_practices": [{"introduction": "掌握理论后，最好的学习方法就是动手实践。第一个练习将引导你完成直接步进法的核心迭代过程。你将为一个典型的矩形实验室水槽，从一个已知的控制点（临界水深）开始，分步计算M2型降水曲线，这个练习旨在巩固你对能量、摩擦坡度和距离之间关系的理解。[@problem_id:1748874]", "problem": "一个横截面为矩形的长的实验室水槽被用于研究明渠流。该水槽宽度为 $b = 0.50$ 米，底坡为恒定的顺向坡 $S_0 = 0.0010$，其玻璃壁和底床的曼宁糙率系数为 $n = 0.012$。水以 $Q = 0.15$ 立方米/秒的恒定流量流动。水槽的末端是一个自由跌水，它作为一个控制断面，迫使水槽最末端的水深等于临界水深。\n\n你的任务是使用直接步长法，从该跌水向上游数值计算渐变流（GVF）的水面线。从跌水处的临界水深开始，确定在 10.0 米的长度上计算水面线所需的最小计算步数。计算的每一步都使用固定的水深增量 $\\Delta y = 0.020$ 米。\n\n假设重力加速度为 $g = 9.81$ 米/秒$^2$。最终答案必须是代表步数的单个整数。", "solution": "我们要在一个棱柱形矩形渠道中，使用固定水深增量的直接步长法，计算下游控制（自由跌水）上游的M2型降水曲线。对于宽度为 $b$、流量为 $Q$ 的矩形渠道，在水深为 $y$ 时定义以下水力学量：\n- 横截面积: $A = b y$。\n- 湿周: $P = b + 2 y$。\n- 水力半径: $R = \\frac{A}{P}$。\n- 平均流速: $V = \\frac{Q}{A}$。\n- 比能: $E = y + \\frac{V^{2}}{2 g} = y + \\frac{Q^{2}}{2 g A^{2}}$。\n- 由曼宁公式计算的摩擦坡降: $S_{f} = \\frac{n^{2} Q^{2}}{A^{2} R^{4/3}}$。\n\n由于下游控制将水深 $y$ 固定在临界水深 $y_{c}$，我们从 $y_{1} = y_{c}$ 开始，以 $\\Delta y = 0.020$ 米的步长向上游计算。在 $y_c  y  y_n$ 的范围内，水面线为M2型降水曲线，此时 $S_f > S_0$。当向上游计算时，水深 $y$ 增加。从下游断面 $i$ 步进到上游断面 $i+1$ 所需的距离（长度）$\\Delta x$ 为正值，可由以下公式计算：\n$$\n\\Delta x = \\frac{E_{i+1} - E_{i}}{\\bar{S}_f - S_0}\n$$\n其中 $\\bar{S}_f = (S_{f,i} + S_{f,i+1})/2$ 是两个断面的平均摩擦坡降。\n\n使用 $q = Q/b$ 计算矩形渠道的临界水深：\n$$\ny_{c} = \\left(\\frac{q^{2}}{g}\\right)^{1/3}, \\quad q = \\frac{Q}{b} = \\frac{0.15}{0.50} = 0.30 \\text{ m}^{2}\\!/\\text{s},\n$$\n$$\ny_{c} = \\left(\\frac{0.30^{2}}{9.81}\\right)^{1/3} \\approx 0.2094 \\text{ m}.\n$$\n这证实了下游的起始水深。对这些数据进行正常水深估算表明 $y_{n} \\approx 0.40$ 米，因此 $y_{n} > y_{c}$，渠道为缓坡，水面线为 M2 型。\n\n现在应用直接步长法，步长为 $\\Delta y = 0.020$ 米。常数：$b = 0.50$ 米, $Q = 0.15$ 立方米/秒, $n = 0.012$, $S_{0} = 0.0010$, $g = 9.81$ 米/秒$^{2}$。\n\n第1步：从 $y_{1} = 0.2094$ 米到 $y_{2} = 0.2294$ 米。在 $y_{1}$ 处：\n- $A_{1} = 0.50 \\times 0.2094 = 0.1047$ 米$^{2}$。\n- $P_{1} = 0.50 + 2 \\times 0.2094 = 0.9188$ 米, $R_{1} = 0.1047/0.9188 \\approx 0.1140$ 米。\n- $V_{1} = 0.15/0.1047 \\approx 1.4323$ 米/秒。\n- $E_{1} = 0.2094 + \\frac{1.4323^{2}}{2 \\times 9.81} \\approx 0.31398$ 米。\n- $S_{f,1} = \\dfrac{(0.012)^{2} (0.15)^{2}}{A_{1}^{2} R_{1}^{4/3}} \\approx 0.005354$。\n\n在 $y_{2}$ 处：\n- $A_{2} = 0.1147$ 米$^{2}$, $P_{2} = 0.9588$ 米, $R_{2} \\approx 0.1196$ 米。\n- $V_{2} \\approx 1.3083$ 米/秒, $E_{2} \\approx 0.31666$ 米。\n- $S_{f,2} \\approx 0.004174$。\n\n计算平均值和河段长度：\n- $\\Delta E_{1\\to 2} = E_{2} - E_{1} \\approx 0.00268$ 米,\n- $\\bar{S}_f \\approx (0.005354 + 0.004174)/2 = 0.004764$,\n- $\\Delta x_{1} = \\dfrac{0.00268}{0.004764 - 0.0010} \\approx 0.712$ 米。\n\n第1步后的累计长度：$L \\approx 0.712$ 米。\n\n第2步：从 $y_{2} = 0.2294$ 米到 $y_{3} = 0.2494$ 米。在 $y_{3}$ 处：\n- $A_{3} = 0.1247$ 米$^{2}$, $P_{3} = 0.9988$ 米, $R_{3} \\approx 0.1249$ 米。\n- $V_{3} \\approx 1.2037$ 米/秒, $E_{3} \\approx 0.32325$ 米。\n- $S_{f,3} \\approx 0.003341$。\n\n计算：\n- $\\Delta E_{2\\to 3} \\approx 0.32325 - 0.31666 = 0.00659$ 米,\n- $\\bar{S}_f \\approx (0.004174 + 0.003341)/2 = 0.003758$,\n- $\\Delta x_{2} = \\dfrac{0.00659}{0.003758 - 0.0010} \\approx 2.389$ 米。\n\n第2步后的累计长度：$L \\approx 0.712 + 2.389 = 3.101$ 米。\n\n第3步：从 $y_{3} = 0.2494$ 米到 $y_{4} = 0.2694$ 米。在 $y_{4}$ 处：\n- $A_{4} = 0.1347$ 米$^{2}$, $P_{4} = 1.0388$ 米, $R_{4} \\approx 0.1296$ 米。\n- $V_{4} \\approx 1.1135$ 米/秒, $E_{4} \\approx 0.33262$ 米。\n- $S_{f,4} \\approx 0.002721$。\n\n计算：\n- $\\Delta E_{3\\to 4} \\approx 0.33262 - 0.32325 = 0.00937$ 米,\n- $\\bar{S}_f \\approx (0.003341 + 0.002721)/2 = 0.003031$,\n- $\\Delta x_{3} = \\dfrac{0.00937}{0.003031 - 0.0010} \\approx 4.615$ 米。\n\n第3步后的累计长度：$L \\approx 3.101 + 4.615 = 7.716$ 米。\n\n第4步：从 $y_{4} = 0.2694$ 米到 $y_{5} = 0.2894$ 米。在 $y_{5}$ 处：\n- $A_{5} = 0.1447$ 米$^{2}$, $P_{5} = 1.0788$ 米, $R_{5} \\approx 0.1341$ 米。\n- $V_{5} \\approx 1.0368$ 米/秒, $E_{5} \\approx 0.34419$ 米。\n- $S_{f,5} \\approx 0.002258$。\n\n计算：\n- $\\Delta E_{4\\to 5} \\approx 0.34419 - 0.33262 = 0.01157$ 米,\n- $\\bar{S}_f \\approx (0.002721 + 0.002258)/2 = 0.002490$,\n- $\\Delta x_{4} = \\dfrac{0.01157}{0.002490 - 0.0010} \\approx 7.77$ 米。\n\n第4步后的累计长度：$L \\approx 7.716 + 7.77 = 15.49$ 米。\n\n因此，3步之后累计长度小于 $10.0$ 米，而4步之后则超过了 $10.0$ 米。因此，要覆盖上游 10.0 米的距离，所需的步长为 $\\Delta y = 0.020$ 米的最小计算步数是 $4$。", "answer": "$$\\boxed{4}$$", "id": "1748874"}, {"introduction": "直接步进法的应用范围十分广泛，不止限于缓坡和亚临界流。第二个练习将带你分析一种更特殊但同样重要的流动情况：在逆坡渠道中的超临界流（A3型水面线）。通过这个练习，你将学会如何处理负的河床坡度 $S_0$ 并正确计算水面线的长度，从而体会能量方程的普适性。[@problem_id:1748912]", "problem": "水从混凝土溢洪道流入一条长而直的矩形沉沙渠，渠宽为 $B = 10.0 \\text{ m}$。该渠道设计有轻微的逆坡 $S_0 = -0.001$，以便在水流进入消能池之前减速。此水流是渐变流 (GVF) 的一个例子。在某个上游断面（断面 1），测得水深为 $y_1 = 1.20 \\text{ m}$。在下游更远处（断面 2），随着水流继续减速，水深增加到 $y_2 = 1.50 \\text{ m}$。渠道中的总流量恒定为 $Q = 80.0 \\text{ m}^3/\\text{s}$。混凝土表面的曼宁糙率系数为 $n=0.015$。\n\n使用单步直接步长法，计算断面 1 和断面 2 之间的渠段长度。\n\n假设重力加速度为 $g = 9.81 \\text{ m/s}^2$。答案以米为单位，保留三位有效数字。", "solution": "对于棱柱形渠道中的稳定渐变流，直接步长法使用两个断面之间的能量方程：\n$$\nE_{2}-E_{1} = \\left(S_{0}-\\bar{S}_{f}\\right)\\,\\Delta x,\n$$\n其中 $E=y+\\dfrac{V^{2}}{2g}$ 是从渠底算起的比能，$S_{0}$ 是渠底坡度（顺流方向渠底下降时为正），$\\bar{S}_{f}$ 是两个断面之间的平均摩擦坡降。因此，\n$$\n\\Delta x = \\frac{E_{2}-E_{1}}{S_{0}-\\bar{S}_{f}}.\n$$\n\n宽度为 $B$ 的矩形渠道的几何和水力关系：\n- 面积 $A=By$ 和湿周 $P=B+2y$。\n- 水力半径 $R=A/P$。\n- 流速 $V=Q/A$。\n- 曼宁摩擦坡降\n$$\nS_{f}=\\left(\\frac{nV}{R^{2/3}}\\right)^{2}= \\frac{n^{2}V^{2}}{R^{4/3}}.\n$$\n\n已知 $B=10.0$，$Q=80.0$，$n=0.015$，$g=9.81$，$S_{0}=-0.001$，$y_{1}=1.20$，$y_{2}=1.50$（均为国际单位制）：\n\n断面 1 ($y_{1}=1.20$):\n- $A_{1}=B y_{1}=10(1.20)=12.0 \\text{ m}^2$,\n- $P_{1}=B+2y_{1}=10+2(1.20)=12.4 \\text{ m}$,\n- $R_{1}=A_{1}/P_{1}=12.0/12.4 \\approx 0.9677 \\text{ m}$,\n- $V_{1}=Q/A_{1}=80.0/12.0 \\approx 6.667 \\text{ m/s}$,\n- $E_{1}=y_{1}+\\dfrac{V_{1}^{2}}{2g}=1.20+\\dfrac{(6.667...)^{2}}{2(9.81)} \\approx 3.46526 \\text{ m}$,\n- $S_{f1}=\\dfrac{n^{2}V_{1}^{2}}{R_{1}^{4/3}}=\\dfrac{0.015^{2}(6.667...)^{2}}{(0.9677...)^{4/3}} \\approx 0.010447.$\n\n断面 2 ($y_{2}=1.50$):\n- $A_{2}=B y_{2}=10(1.50)=15.0 \\text{ m}^2$,\n- $P_{2}=B+2y_{2}=10+2(1.50)=13.0 \\text{ m}$,\n- $R_{2}=A_{2}/P_{2}=15.0/13.0 \\approx 1.1538 \\text{ m}$,\n- $V_{2}=Q/A_{2}=80.0/15.0 \\approx 5.333 \\text{ m/s}$,\n- $E_{2}=y_{2}+\\dfrac{V_{2}^{2}}{2g}=1.50+\\dfrac{(5.333...)^{2}}{2(9.81)} \\approx 2.94977 \\text{ m}$,\n- $S_{f2}=\\dfrac{n^{2}V_{2}^{2}}{R_{2}^{4/3}}=\\dfrac{0.015^{2}(5.333...)^{2}}{(1.1538...)^{4/3}} \\approx 0.005297.$\n\n平均摩擦坡降：\n$$\n\\bar{S}_{f}=\\frac{S_{f1}+S_{f2}}{2}=\\frac{0.010447+0.005297}{2} \\approx 0.007872.\n$$\n\n直接步长法计算的渠段长度：\n$$\n\\Delta x=\\frac{E_{2}-E_{1}}{S_{0}-\\bar{S}_{f}}=\\frac{2.94977-3.46526}{-0.001-0.007872}=\\frac{-0.51549}{-0.008872} \\approx 58.1 \\text{ m}.\n$$\n\n保留三位有效数字：\n$$\n\\Delta x \\approx 58.1\\ \\text{m}.\n$$", "answer": "$$\\boxed{58.1}$$", "id": "1748912"}, {"introduction": "除了分析已有的流动，直接步进法更是渠道设计中的实用工具。最后一个练习是一个面向工程设计的问题，它颠覆了常规的求解思路。你将不再是计算已知条件下的水面线，而是反过来确定需要满足特定水位约束的渠道底坡 $S_0$。这个问题展示了如何运用直接步进法来解决实际的工程设计挑战，并且将计算推广到更常见的梯形断面渠道。[@problem_id:1748916]", "problem": "正在设计一条新的输水渠道，用于将水从处理厂输送到水库。该渠道具有均匀的梯形横截面，底宽为 $b = 3.0$ 米，边坡系数为 $z=2$（即水平与垂直之比为2:1）。渠道内衬为混凝土，其曼宁糙率系数为 $n = 0.015$。设计流量为恒定的 $Q = 20.0$ 立方米/秒。\n\n位于渠道下游端 $x = 500$ 米测站处的一座水坝产生了回水效应，使得该点的水深增加到 $y_2 = 3.50$ 米。由于土地限制，位于上游地产边界 $x = 0$ 米测站处的水深不得超过 $y_1 = 3.10$ 米。\n\n为满足这些要求，您必须确定渠道精确的纵向底坡 $S_0$。为此计算，您可以将这500米的河段建模为直接步进法的单个计算步长。这涉及到假设该河段上的摩阻坡降可由两个端点处计算的摩阻坡降的算术平均值很好地近似。使用重力加速度为 $g = 9.81$ 米/秒²。\n\n确定所需的恒定底坡 $S_0$。将您的答案表示为一个无量纲的小数值，并四舍五入到四位有效数字。", "solution": "给定一个棱柱形梯形渠道，其底宽为 $b$，边坡系数为 $z$（水平与垂直之比），流量为 $Q$，曼宁系数为 $n$，在 $x=0$ 处的水深为 $y_{1}$，在 $x=L$ 处的水深为 $y_{2}$，则水深为 $y$ 时的几何量为：\n$$\nA(y) = b y + z y^{2}, \\quad\nP(y) = b + 2 y \\sqrt{1+z^{2}}, \\quad\nR(y) = \\frac{A(y)}{P(y)}, \\quad\nV(y) = \\frac{Q}{A(y)}.\n$$\n曼宁摩阻坡降为\n$$\nS_{f}(y) = \\left( \\frac{n Q}{A(y) \\, R(y)^{2/3}} \\right)^{2},\n$$\n比能为\n$$\nE(y) = y + \\frac{V(y)^{2}}{2 g}.\n$$\n对于长度为 $L$ 的单个直接步进计算，使用算术平均摩阻坡降 $\\bar{S_{f}} = \\frac{S_{f1}+S_{f2}}{2}$，能量方程给出\n$$\nE_{2} - E_{1} = \\left(S_{0} - \\bar{S_{f}}\\right) L \\quad \\Rightarrow \\quad S_{0} = \\bar{S_{f}} + \\frac{E_{2} - E_{1}}{L}.\n$$\n数据：$b=3.0$, $z=2$, $n=0.015$, $Q=20.0$, $g=9.81$, $L=500$, $y_{1}=3.10$, $y_{2}=3.50$。\n\n在 $y_{1}=3.10$ 处的断面1：\n$$\nA_{1} = 3(3.10) + 2(3.10)^{2} = 28.52 \\text{ 米}^{2},\n$$\n$$\nP_{1} = 3 + 2(3.10)\\sqrt{1+2^{2}} = 3 + 6.20 \\sqrt{5} \\approx 16.8636 \\text{ 米},\n$$\n$$\nR_{1} = \\frac{28.52}{16.8636} \\approx 1.6912, \\quad R_{1}^{2/3} \\approx 1.4196,\n$$\n$$\nS_{f1} = \\left( \\frac{0.015 \\times 20}{28.52 \\times 1.4196} \\right)^{2} \\approx 5.489 \\times 10^{-5},\n$$\n$$\nV_{1} = \\frac{20}{28.52} \\approx 0.70126 \\text{ 米/秒}, \\quad \\frac{V_{1}^{2}}{2g} \\approx \\frac{0.49177}{19.62} \\approx 0.02506 \\text{ 米},\n$$\n$$\nE_{1} = 3.10 + 0.02506 \\approx 3.12506 \\text{ 米}.\n$$\n\n在 $y_{2}=3.50$ 处的断面2：\n$$\nA_{2} = 3(3.50) + 2(3.50)^{2} = 35.00 \\text{ 米}^{2},\n$$\n$$\nP_{2} = 3 + 2(3.50)\\sqrt{5} = 3 + 7 \\sqrt{5} \\approx 18.6525 \\text{ 米},\n$$\n$$\nR_{2} = \\frac{35.00}{18.6525} \\approx 1.8764, \\quad R_{2}^{2/3} \\approx 1.5213,\n$$\n$$\nS_{f2} = \\left( \\frac{0.015 \\times 20}{35.00 \\times 1.5213} \\right)^{2} \\approx 3.174 \\times 10^{-5},\n$$\n$$\nV_{2} = \\frac{20}{35.00} \\approx 0.57143 \\text{ 米/秒}, \\quad \\frac{V_{2}^{2}}{2g} \\approx \\frac{0.32653}{19.62} \\approx 0.01665 \\text{ 米},\n$$\n$$\nE_{2} = 3.50 + 0.01665 \\approx 3.51665 \\text{ 米}.\n$$\n\n平均摩阻坡降和能量差：\n$$\n\\bar{S_{f}} = \\frac{S_{f1}+S_{f2}}{2} \\approx \\frac{5.489 \\times 10^{-5} + 3.174 \\times 10^{-5}}{2} \\approx 4.332 \\times 10^{-5},\n$$\n$$\nE_{2} - E_{1} \\approx 3.51665 - 3.12506 = 0.39159 \\text{ 米}.\n$$\n\n所需的底坡：\n$$\nS_{0} = \\bar{S_{f}} + \\frac{E_{2} - E_{1}}{L} \\approx 4.332 \\times 10^{-5} + \\frac{0.39159}{500} \\approx 0.0008265.\n$$\n\n四舍五入到四位有效数字，所需的恒定底坡为 $0.0008265$（无量纲）。", "answer": "$$\\boxed{0.0008265}$$", "id": "1748916"}]}