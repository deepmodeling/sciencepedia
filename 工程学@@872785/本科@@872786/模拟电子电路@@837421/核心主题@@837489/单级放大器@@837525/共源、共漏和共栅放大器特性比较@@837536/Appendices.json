{"hands_on_practices": [{"introduction": "共源极（CS）和共栅极（CG）放大器都是基本的电压放大拓扑，但它们与信号源的相互作用方式却大相径庭。本练习旨在量化分析它们的总体电压增益差异，特别是考虑信号源内阻的影响。理解包含源内阻效应的总体电压增益，对于实际电路设计至关重要，因为这直接决定了放大器从信号源获取信号的能力。通过练习[@problem_id:1294145]，你将推导并比较这两种配置的增益，揭示各自输入阻抗特性对放大性能的核心影响。", "problem": "一位模拟电路设计师正在评估单级放大器的两种可能配置。有源器件是金属氧化物半导体场效应晶体管 (MOSFET)，其偏置使得其小信号参数为跨导 $g_m$ 和有限的输出电阻 $r_o$。放大器由一个信号源 $v_{sig}$ 驱动，该信号源具有内阻 $R_S$。一个电阻为 $R_L$ 的负载电阻连接到输出端。\n\n正在考虑的两种配置是：\n1.  **共源 (CS) 放大器**：来自源 $v_{sig}$ 的信号施加到 MOSFET 的栅极，源极端接地，输出电压 $v_{out}$ 在漏极端获取，负载电阻 $R_L$ 连接在该端子上。\n2.  **共栅 (CG) 放大器**：MOSFET 的栅极连接到一个稳定的直流偏置电压（作为交流地），信号源连接到 MOSFET 的源极端，输出电压 $v_{out}$ 在漏极端获取，负载电阻 $R_L$ 也连接在该端子上。\n\n为了进行公平比较，两种配置都被偏置以具有相同的 $g_m$ 和 $r_o$ 值。在两种情况下都使用相同的信号源（电阻为 $R_S$）和负载电阻 $R_L$。每种配置的总电压增益定义为 $A_v = v_{out} / v_{sig}$。\n\n确定 CS 电压增益的幅值与 CG 电压增益的幅值之比，即 $\\frac{|A_{v,CS}|}{|A_{v,CG}|}$。用 $g_m$、$r_o$、$R_S$ 和 $R_L$ 的符号表达式来表示你的答案。", "solution": "对于共源 (CS) 放大器，栅极不汲取电流，因此 $v_{g} = v_{sig}$ 且 $v_{s} = 0$，从而 $v_{gs} = v_{sig}$。在漏极节点，负载 $R_{L}$ 和 $r_{o}$ 都接地，得到等效电阻 $R_{eq} = r_{o} \\parallel R_{L} = \\frac{r_{o}R_{L}}{r_{o}+R_{L}}$。值为 $g_{m}v_{gs} = g_{m}v_{sig}$ 的受控电流源从漏极流向源极，因此在漏极应用基尔霍夫电流定律 (KCL) 得到\n$$\n\\frac{v_{out}}{R_{L}} + \\frac{v_{out}}{r_{o}} + g_{m}v_{sig} = 0\n\\quad\\Rightarrow\\quad\nv_{out} = -\\frac{g_{m}}{\\frac{1}{R_{L}}+\\frac{1}{r_{o}}}\\,v_{sig} = -g_{m}\\left(\\frac{r_{o}R_{L}}{r_{o}+R_{L}}\\right)v_{sig}.\n$$\n因此，CS 的总电压增益幅值为\n$$\n|A_{v,CS}| = g_{m}\\frac{r_{o}R_{L}}{r_{o}+R_{L}}.\n$$\n\n对于共栅 (CG) 放大器，栅极为交流地，源极节点电压为 $v_{s}$，漏极（输出）节点为 $v_{d}=v_{out}$，源极由一个戴维南源 $v_{sig}$ 与 $R_{S}$ 串联驱动。小信号关系为 $v_{gs} = -v_{s}$，受控源电流等效为从源极到漏极的 $g_{m}v_{s}$。应用 KCL：\n\n在源极节点，\n$$\n\\frac{v_{s}-v_{sig}}{R_{S}} + \\frac{v_{s}-v_{d}}{r_{o}} + g_{m}v_{s} = 0,\n$$\n整理后得到\n$$\n\\left(\\frac{1}{R_{S}}+\\frac{1}{r_{o}}+g_{m}\\right)v_{s} - \\frac{1}{r_{o}}v_{d} = \\frac{v_{sig}}{R_{S}}.\n$$\n\n在漏极节点，\n$$\n\\frac{v_{d}}{R_{L}} + \\frac{v_{d}-v_{s}}{r_{o}} - g_{m}v_{s} = 0,\n$$\n这给出\n$$\n\\left(\\frac{1}{R_{L}}+\\frac{1}{r_{o}}\\right)v_{d} = \\left(\\frac{1}{r_{o}}+g_{m}\\right)v_{s}.\n$$\n因此\n$$\nv_{d} = \\frac{\\frac{1}{r_{o}}+g_{m}}{\\frac{1}{R_{L}}+\\frac{1}{r_{o}}}\\,v_{s}\n= \\left(1+g_{m}r_{o}\\right)\\frac{R_{L}}{r_{o}+R_{L}}\\,v_{s}.\n$$\n将此代入源极节点方程：\n$$\n\\left(\\frac{1}{R_{S}}+\\frac{1}{r_{o}}+g_{m}\\right)v_{s} - \\frac{1}{r_{o}}\\left(1+g_{m}r_{o}\\right)\\frac{R_{L}}{r_{o}+R_{L}}\\,v_{s} = \\frac{v_{sig}}{R_{S}}.\n$$\n注意到 $\\frac{1}{r_{o}}\\left(1+g_{m}r_{o}\\right) = \\frac{1}{r_{o}}+g_{m}$，上式简化为\n$$\n\\left[\\frac{1}{R_{S}} + \\left(\\frac{1}{r_{o}}+g_{m}\\right)\\left(1 - \\frac{R_{L}}{r_{o}+R_{L}}\\right)\\right]v_{s} = \\frac{v_{sig}}{R_{S}},\n$$\n所以\n$$\n\\left[\\frac{1}{R_{S}} + \\left(\\frac{1}{r_{o}}+g_{m}\\right)\\frac{r_{o}}{r_{o}+R_{L}}\\right]v_{s} = \\frac{v_{sig}}{R_{S}}.\n$$\n由于 $\\left(\\frac{1}{r_{o}}+g_{m}\\right)\\frac{r_{o}}{r_{o}+R_{L}} = \\frac{1+g_{m}r_{o}}{r_{o}+R_{L}}$，我们得到\n$$\n\\left[\\frac{1}{R_{S}} + \\frac{1+g_{m}r_{o}}{r_{o}+R_{L}}\\right]v_{s} = \\frac{v_{sig}}{R_{S}}.\n$$\n因此\n$$\n\\frac{v_{s}}{v_{sig}} = \\frac{\\frac{1}{R_{S}}}{\\frac{1}{R_{S}} + \\frac{1+g_{m}r_{o}}{r_{o}+R_{L}}}\n\\quad\\text{以及}\\quad\nA_{v,CG} = \\frac{v_{d}}{v_{sig}} = \\left(1+g_{m}r_{o}\\right)\\frac{R_{L}}{r_{o}+R_{L}} \\cdot \\frac{\\frac{1}{R_{S}}}{\\frac{1}{R_{S}} + \\frac{1+g_{m}r_{o}}{r_{o}+R_{L}}}.\n$$\n简化后，\n$$\nA_{v,CG} = \\frac{\\left(1+g_{m}r_{o}\\right)R_{L}}{r_{o}+R_{L}+R_{S}\\left(1+g_{m}r_{o}\\right)}.\n$$\n\n因此，幅值之比为\n$$\n\\frac{|A_{v,CS}|}{|A_{v,CG}|}\n= \\frac{g_{m}\\frac{r_{o}R_{L}}{r_{o}+R_{L}}}{\\frac{\\left(1+g_{m}r_{o}\\right)R_{L}}{r_{o}+R_{L}+R_{S}\\left(1+g_{m}r_{o}\\right)}}\n= g_{m}r_{o}\\,\\frac{r_{o}+R_{L}+R_{S}\\left(1+g_{m}r_{o}\\right)}{(r_{o}+R_{L})\\left(1+g_{m}r_{o}\\right)}.\n$$\n所有量都是正实数参数，因此这等于所求的幅值比。", "answer": "$$\\boxed{\\frac{g_{m}r_{o}\\left[r_{o}+R_{L}+R_{S}\\left(1+g_{m}r_{o}\\right)\\right]}{(r_{o}+R_{L})\\left(1+g_{m}r_{o}\\right)}}$$", "id": "1294145"}, {"introduction": "在研究了共源和共栅放大器的电压增益之后，我们将注意力转向第三种基本拓扑：共漏极（CD）放大器，也称为源极跟随器。与前两者不同，源极跟随器的主要用途通常不是提供电压增益，而是作为缓冲器进行阻抗变换。这个练习[@problem_id:1294141]将深入探究其最重要的特性——低输出电阻，并分析晶体管的核心参数跨导（$g_m$）如何决定这一关键性能指标。这有助于你建立关于如何设计高效缓冲级的直观理解。", "problem": "一位设计工程师正在评估一种新的金属-氧化物-半导体场效应晶体管 (MOSFET) 的制造工艺。与旧工艺相比，这种新工艺生产的晶体管，在相同的直流工作点偏置下，表现出显著更高的跨导 ($g_m$)。晶体管的本征输出电阻 ($r_o$) 保持不变。工程师计划将这种新晶体管用于标准的共漏极放大器配置，也称为源极跟随器。在该电路中，输出取自源极端，源极电阻 $R_S$ 连接在源极端和地之间。漏极连接到正直流电源，输入信号施加到栅极。\n\n假设晶体管工作在饱和区，当 $g_m$ 显著增加（而 $r_o$ 和 $R_S$ 保持不变）时，从源极端看进去的放大器输出电阻 $R_{out}$ 会如何变化？\n\nA. $R_{out}$ 显著增加，因为它与 $g_m$ 成正比。\nB. $R_{out}$ 几乎保持不变，因为它主要由 $R_S$ 和 $r_o$ 的并联决定。\nC. $R_{out}$ 减小，其值接近源极电阻 $R_S$ 的阻值。\nD. $R_{out}$ 减小，其值接近 $1/g_m$。", "solution": "我们使用其小信号混合pi模型来为饱和区的MOSFET建模：一个从漏极到源极、值为 $g_m v_{gs}$ 的受控电流源，以及一个在漏极和源极之间的输出电阻 $r_o$。漏极连接到电源，对于小信号而言，电源是交流地。为了求输出电阻，我们将驱动栅极的信号源设为零，因此栅极也处于交流地。源极节点通过 $R_S$ 接地，并且是输出节点。\n\n为了求得从源极看进去的小信号输出电阻 $R_{out}$，我们将所有独立源置零（栅极和电源置为交流地），并在源极节点注入一个测试电流 $i_x$，测量源极上产生的小信号电压 $v_x$。那么 $R_{out} = v_x/i_x$。\n\n当栅极处于交流地时，$v_{gs} = v_g - v_s = -v_x$。在漏极（地）和源极之间的受控电流源的值为 $g_m v_{gs} = -g_m v_x$，方向从漏极指向源极。该方向上的一个负值等效于一个大小为 $g_m v_x$ 的电流从源极节点流向地。因此，从源极节点流向地的总小信号电流是以下各项之和：\n- 流过 $R_S$ 的电流：$v_x/R_S$，\n- 流过 $r_o$ 的电流：$v_x/r_o$，\n- 流过受控源的电流：$g_m v_x$。\n\n根据测试激励下源极节点的KCL（基尔霍夫电流定律），\n$$\ni_x = \\frac{v_x}{R_S} + \\frac{v_x}{r_o} + g_m v_x = v_x\\left(g_m + \\frac{1}{R_S} + \\frac{1}{r_o}\\right).\n$$\n因此，\n$$\nR_{out} = \\frac{v_x}{i_x} = \\frac{1}{g_m + \\frac{1}{R_S} + \\frac{1}{r_o}} = \\frac{1}{g_m} \\parallel R_S \\parallel r_o.\n$$\n在 $R_S$ 和 $r_o$ 保持不变的情况下，增加 $g_m$ 会减小 $R_{out}$，并且在 $g_m$ 很大的极限情况下，\n$$\nR_{out} \\to \\frac{1}{g_m},\n$$\n因为 $g_m \\gg \\frac{1}{R_S} + \\frac{1}{r_o}$ 使得分母主要由 $g_m$ 决定。\n\n因此，正确的定性行为是，当 $g_m$ 变大时，$R_{out}$ 减小并趋近于 $1/g_m$。", "answer": "$$\\boxed{D}$$", "id": "1294141"}, {"introduction": "为了获得对放大器性能的全面认识，我们必须超越小信号线性模型，探索电路在大信号、快速变化输入下的动态行为。压摆率（Slew Rate）是描述这种大信号瞬态响应能力的关键性能限制。这个练习[@problem_id:1294169]将引导你分析共源、共漏和共栅三种放大器在驱动大容性负载时的压摆率不对称性。通过这个实践，你将理解不同拓扑结构如何导致对负载电容的充电和放电能力出现差异，这对于高速和高频应用的设计至关重要。", "problem": "一位模拟集成电路设计师正在研究三种基本单晶体管放大器配置的瞬态大信号响应：共源（CS）、共漏（CD）和共栅（CG）。每个放大器都使用相同的 n 沟道金属氧化物半导体场效应晶体管 (MOSFET) 构建，并驱动一个相同的大电容负载 $C_L$。\n\n对于 CS 和 CG 配置，输出取自漏极。一个值为 $I_{bias}$ 的理想直流电流源连接在漏极和正电源之间，作为有源负载。\n\n对于 CD 配置（也称为源极跟随器），输出取自源极。一个值为 $I_{bias}$ 的理想直流电流源连接在源极和地之间，提供偏置。\n\n在所有情况下，晶体管在其静态状态下都偏置在饱和区。当一个大信号阶跃电压施加到每个放大器的相应输入端时，输出电压开始摆动。摆率受限于可用于对负载电容 $C_L$ 充电或放电的最大电流。由于电路的性质，正向摆率 ($SR^+$) 可能与负向摆率 ($SR^-$) 的大小不同。\n\n假设为响应一个大的输入信号阶跃，MOSFET 可以被驱动到两个极端之一：要么完全导通，此时它传导的最大可能漏极电流为 $I_{D,max} = k \\cdot I_{bias}$（其中 $k > 1$ 是一个无量纲因子），要么被驱动到截止区，此时其漏极电流为零。\n\n对于三种放大器配置（CS、CD 和 CG）中的每一种，确定正向摆率与负向摆率之比 $R = SR^+ / SR^-$。将您的三个结果（表示为 $R_{CS}$、$R_{CD}$ 和 $R_{CG}$）表示为关于参数 $k$ 的符号表达式。", "solution": "我们使用大信号电容器关系，即摆率由可用于对负载电容充电或放电的净电流决定。对于一个具有负载电容 $C_{L}$ 的输出节点，瞬时斜率由下式给出\n$$\n\\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}=\\frac{I_{\\text{net}}}{C_{L}},\n$$\n且正向和负向摆率分别为\n$$\nSR^{+}=\\max\\left(\\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}\\right),\\quad SR^{-}=\\max\\left(-\\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}\\right),\n$$\n两者均取为正值。在大输入阶跃下，MOSFET 的极端情况是 $I_{D}=0$（截止）或 $I_{D}=I_{D,\\max}=k\\,I_{\\text{bias}}$（完全导通），其中 $k>1$。\n\n共源（CS），输出在漏极，一个值为 $I_{\\text{bias}}$ 的电流源从正电源连接到漏极节点：在漏极节点写出 KCL，规定流入节点的电流为正。电流源向节点注入 $I_{\\text{bias}}$，MOSFET 将 $I_{D}$ 电流泄放到地，电容电流 $C_{L}\\,\\mathrm{d}v_{o}/\\mathrm{d}t$ 流出节点。因此\n$$\nI_{\\text{bias}}-I_{D}-C_{L}\\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}=0\\quad\\Rightarrow\\quad \\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}=\\frac{I_{\\text{bias}}-I_{D}}{C_{L}}.\n$$\n对于正向输出摆动，MOSFET 截止，$I_{D}=0$，因此\n$$\nSR^{+}=\\frac{I_{\\text{bias}}}{C_{L}}.\n$$\n对于负向输出摆动，MOSFET 完全导通，$I_{D}=k\\,I_{\\text{bias}}$，因此\n$$\n\\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}=\\frac{I_{\\text{bias}}-k\\,I_{\\text{bias}}}{C_{L}}=-\\frac{(k-1)I_{\\text{bias}}}{C_{L}}\\;\\Rightarrow\\; SR^{-}=\\frac{(k-1)I_{\\text{bias}}}{C_{L}}.\n$$\n所以，\n$$\nR_{CS}=\\frac{SR^{+}}{SR^{-}}=\\frac{1}{k-1}.\n$$\n\n共栅（CG），输出在漏极，具有相同的有源负载：对于大信号的开/关极限，漏极节点的电流平衡和极端情况与 CS 情况相同，因此适用相同的表达式，且\n$$\nR_{CG}=\\frac{1}{k-1}.\n$$\n\n共漏（CD，源极跟随器），输出在源极，一个值为 $I_{\\text{bias}}$ 的电流源从源极连接到地（吸收 $I_{\\text{bias}}$）。在源极节点，规定流入节点的电流为正。MOSFET 可以从电源向节点提供电流，称之为 $I_{\\text{MOS}}$，电流源从节点移出 $I_{\\text{bias}}$，电容电流以 $C_{L}\\,\\mathrm{d}v_{o}/\\mathrm{d}t$ 的形式流出节点。KCL 给出\n$$\nI_{\\text{MOS}}-I_{\\text{bias}}-C_{L}\\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}=0\\quad\\Rightarrow\\quad \\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}=\\frac{I_{\\text{MOS}}-I_{\\textias}}{C_{L}}.\n$$\n对于正向摆动，MOSFET 完全导通，提供 $I_{\\text{MOS}}=k\\,I_{\\text{bias}}$，因此\n$$\nSR^{+}=\\frac{(k-1)I_{\\text{bias}}}{C_{L}}.\n$$\n对于负向摆动，MOSFET 截止，所以 $I_{\\text{MOS}}=0$，仅由电流源对电容放电：\n$$\n\\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}=-\\frac{I_{\\text{bias}}}{C_{L}}\\;\\Rightarrow\\; SR^{-}=\\frac{I_{\\text{bias}}}{C_{L}}.\n$$\n所以，\n$$\nR_{CD}=\\frac{SR^{+}}{SR^{-}}=k-1.\n$$\n\n按 $(R_{CS},R_{CD},R_{CG})$ 的顺序列出这三个比率，即可得到所要求的以 $k$ 表示的表达式。", "answer": "$$\\boxed{\\begin{pmatrix}\\frac{1}{k-1} & k-1 & \\frac{1}{k-1}\\end{pmatrix}}$$", "id": "1294169"}]}