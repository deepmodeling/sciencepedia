{"hands_on_practices": [{"introduction": "对于电压放大器而言，拥有较低的输出阻抗至关重要，这能确保它在驱动后续负载时不会因分压效应而损失过多信号幅度。串联-并联负反馈是一种实现这一目标的核心技术。本练习旨在通过一个典型的负反馈放大器设计，让你亲手计算并感受负反馈在降低输出阻抗方面的强大威力 ([@problem_id:1317268])。", "problem": "一位工程师正在为高频传感器设计一个低阻抗缓冲级。该缓冲器的核心是一个电压放大器模块，其关键的开环特性可以建模为：开环电压增益 $A_{OL} = 1.20 \\times 10^5$，开环输入阻抗 $R_i = 2.50 \\, \\text{M}\\Omega$，以及开环输出阻抗 $R_o = 80.0 \\, \\Omega$。\n\n为了稳定电路性能并显著降低其输出阻抗，采用了串联-并联负反馈配置。这是通过一个标准的同相拓扑结构实现的。一个反馈电阻（阻值为 $R_F = 55.2 \\, \\text{k}\\Omega$）从放大器的输出端连接到其反相输入端。另一个电阻（阻值为 $R_G = 1.25 \\, \\text{k}\\Omega$）从反相输入端连接到地。来自传感器的信号被施加到放大器的同相输入端。\n\n假设放大器工作在其线性区域，且反馈网络不会对输入信号源产生负载效应，计算放大器的输出阻抗降低的倍数。将您的答案表示为一个四舍五入到四位有效数字的数值。", "solution": "我们确定反馈类型为同相配置中的串联-并联（电压-串联）反馈。对于此类反馈，闭环输出阻抗由下式给出\n$$\nR_{o,\\text{fb}}=\\frac{R_{o}}{1+A_{OL}\\beta},\n$$\n因此，降低倍数（开环输出阻抗与闭环输出阻抗之比）为\n$$\nD=1+A_{OL}\\beta.\n$$\n对于同相拓扑结构，反馈系数是分压比\n$$\n\\beta=\\frac{R_{G}}{R_{F}+R_{G}}.\n$$\n当 $R_{F}=55.2 \\times 10^3$ 且 $R_{G}=1.25 \\times 10^3$ 时，\n$$\n\\beta=\\frac{1.25\\times 10^{3}}{(55.2+1.25)\\times 10^{3}}=\\frac{1.25}{56.45}=\\frac{25}{1129}.\n$$\n环路增益为\n$$\nA_{OL}\\beta=\\left(1.20\\times 10^{5}\\right)\\left(\\frac{25}{1129}\\right)=\\frac{3.00\\times 10^{6}}{1129}.\n$$\n因此，降低倍数为\n$$\nD=1+A_{OL}\\beta=1+\\frac{3.00\\times 10^{6}}{1129}=\\frac{3001129}{1129}\\approx 2658.218\\ldots\n$$\n四舍五入到四位有效数字，输出阻抗降低的倍数为 $2658$。", "answer": "$$\\boxed{2658}$$", "id": "1317268"}, {"introduction": "在分析了输出阻抗之后，我们将目光转向输入端。虽然源极负反馈（源极简并）等技术可以有效提高放大器的输入阻抗，但在高频下，晶体管的寄生电容会引入不可忽视的影响，尤其是通过密勒效应放大的栅-漏电容。本练习将引导你分析一个带源极简并的共源放大器，推导其频率相关的复数输入阻抗，从而深入理解这些相互制约的因素是如何共同决定放大器性能的 ([@problem_id:1317286])。", "problem": "一位工程师正在设计一个前置放大器，该放大器使用单个金属氧化物半导体场效应晶体管 (MOSFET)，采用带源极负反馈的共源极配置。选择这种配置是为了控制增益并提高这一级的输入阻抗。该电路由MOSFET、连接在栅极和地之间的栅极偏置电阻 $R_G$、连接在漏极和正电源之间的漏极电阻 $R_D$、以及连接在源极和地之间的源极负反馈电阻 $R_S$ 组成。\n\n该MOSFET工作在饱和区，其特性可以用小信号参数来描述：跨导 $g_m$、栅源电容 $C_{gs}$ 和栅漏电容 $C_{gd}$。在本次分析中，假设沟道长度调制效应可以忽略不计，这意味着MOSFET的本征输出电阻 $r_o$ 是无穷大。\n\n输入信号施加到MOSFET的栅极，总输入阻抗 $Z_{in}$ 在栅极端测量。为简化对频率相关行为的分析，您可以通过用电路的低频 (DC) 电压增益值来近似，从而计算由栅极电容贡献的阻抗。\n\n请推导在角频率 $\\omega$ 下，放大器复输入阻抗 $Z_{in}$ 的单一闭式解析表达式。您的表达式应以 $R_G$、$R_D$、$R_S$、$g_m$、$C_{gs}$、$C_{gd}$ 和 $\\omega$ 表示。使用 $j$ 作为虚数单位。", "solution": "我们使用MOSFET的小信号元件对其进行建模：跨导 $g_{m}$（一个从漏极到源极的电流源，大小等于 $g_{m} v_{gs}$），以及栅极和源极之间的电容 $C_{gs}$ 和栅极和漏极之间的电容 $C_{gd}$。本征输出电阻是无穷大，因此不存在 $r_{o}$。漏极通过 $R_{D}$ 接地（电源是交流地），源极通过 $R_{S}$ 接地，栅极通过 $R_{G}$ 接地。\n\n注入栅极的总小信号电流是流过 $R_{G}$、$C_{gs}$ 和 $C_{gd}$ 的电流之和：\n$$\ni_{g} \\;=\\; \\frac{v_{g}}{R_{G}} \\;+\\; j \\omega C_{gs}\\,(v_{g}-v_{s}) \\;+\\; j \\omega C_{gd}\\,(v_{g}-v_{d}).\n$$\n因此，输入阻抗为\n$$\nZ_{in} \\;=\\; \\frac{v_{g}}{i_{g}} \\;=\\; \\left[\\frac{1}{R_{G}} + j \\omega C_{gs}\\left(1-\\frac{v_{s}}{v_{g}}\\right) + j \\omega C_{gd}\\left(1-\\frac{v_{d}}{v_{g}}\\right)\\right]^{-1}.\n$$\n\n根据所述的近似方法，我们使用电容开路时的低频 (DC) 小信号增益来计算电压比 $v_{s}/v_{g}$ 和 $v_{d}/v_{g}$。在 $r_{o}\\to\\infty$ 的情况下，忽略 $C_{gs}$ 和 $C_{gd}$，写出节点方程：\n\n- 源极节点的KCL方程：\n$$\n\\frac{v_{s}}{R_{S}} \\;=\\; g_{m}(v_{g}-v_{s}).\n$$\n解出 $v_{s}/v_{g}$ 可得\n$$\n\\frac{v_{s}}{v_{g}} \\;=\\; \\frac{g_{m} R_{S}}{1+g_{m} R_{S}}.\n$$\n\n- 漏极节点的KCL方程：\n$$\n\\frac{v_{d}}{R_{D}} \\;+\\; g_{m}(v_{g}-v_{s}) \\;=\\; 0.\n$$\n使用 $v_{g}-v_{s} = v_{g}\\,\\frac{1}{1+g_{m} R_{S}}$，我们得到\n$$\n\\frac{v_{d}}{v_{g}} \\;=\\; -\\,\\frac{g_{m} R_{D}}{1+g_{m} R_{S}}.\n$$\n\n将这些增益代入 $Z_{in}$ 的表达式：\n$$\n1-\\frac{v_{s}}{v_{g}} \\;=\\; \\frac{1}{1+g_{m} R_{S}}, \n\\qquad\n1-\\frac{v_{d}}{v_{g}} \\;=\\; 1 + \\frac{g_{m} R_{D}}{1+g_{m} R_{S}} \\;=\\; \\frac{1+g_{m} R_{S} + g_{m} R_{D}}{1+g_{m} R_{S}}.\n$$\n因此，\n$$\nZ_{in}(\\omega) \\;=\\; \\left[ \\frac{1}{R_{G}} \\;+\\; j \\omega \\left( C_{gs}\\,\\frac{1}{1+g_{m} R_{S}} \\;+\\; C_{gd}\\,\\frac{1+g_{m} R_{S}+g_{m} R_{D}}{1+g_{m} R_{S}} \\right) \\right]^{-1}.\n$$\n等价地，\n$$\nZ_{in}(\\omega) \\;=\\; \\left[ \\frac{1}{R_{G}} \\;+\\; j \\omega \\,\\frac{ C_{gs} + C_{gd}\\,(1+g_{m} R_{S}+g_{m} R_{D}) }{ 1+g_{m} R_{S} } \\right]^{-1}.\n$$\n这是一个用指定参数表示的单一闭式解析表达式。", "answer": "$$\\boxed{\\left[\\frac{1}{R_{G}}+j\\,\\omega\\,\\frac{C_{gs}+C_{gd}\\left(1+g_{m}R_{S}+g_{m}R_{D}\\right)}{1+g_{m}R_{S}}\\right]^{-1}}$$", "id": "1317286"}, {"introduction": "反馈路径中的元件不必局限于无源电阻。在现代集成电路设计中，使用晶体管等有源器件来构建反馈网络是一种更为灵活和强大的技术。本练习将探讨一个创新的跨阻放大器，其反馈元件是一个工作在线性区的 PMOS 晶体管，通过栅极电压即可调节其等效电阻。通过分析这个电路，你将理解如何实现输入阻抗的电子化调控，这是模拟集成电路设计中的一个核心思想 ([@problem_id:1317274])。", "problem": "考虑一个使用运算放大器（op-amp）构建的跨阻放大器，该运放具有有限的直流开环电压增益 $A_{OL}$。一个提供信号 $I_{in}$ 的电流源连接到运放的反相输入端，同相输入端接地。\n\n反馈路径未使用简单的电阻器，而是在输出和反相输入端之间连接了一个P沟道金属氧化物半导体（PMOS）晶体管。PMOS的源极连接到反相输入端，漏极连接到输出端。PMOS的栅极保持在一个恒定的直流控制电压 $V_G$。\n\nPMOS晶体管是一种金属氧化物半导体场效应晶体管（MOSFET），其特性由工艺跨导参数 $k'_p$、宽长比 $W/L$ 和阈值电压的绝对值 $|V_{thp}|$ 决定。您需要假设PMOS始终工作在其三极管区（或线性区）。此外，为了计算等效反馈电阻，您可以假设反相输入端的电压实际上处于虚地（0 V），并且晶体管两端的电压变化足够小，可以将其建模为单个线性电阻器。\n\n确定从电流源看进去的该放大器的输入阻抗 $Z_{in}$。请用 $A_{OL}$、$k'_p$、$W/L$、$|V_{thp}|$ 和 $V_G$ 给出解析表达式形式的答案。", "solution": "问题要求计算一个跨阻放大器的输入阻抗 $Z_{in}$，其中反馈电阻被一个PMOS晶体管替代。运放具有有限的开环增益 $A_{OL}$。\n\n步骤1：分析整体电路拓扑。\n该电路是一个跨阻放大器，采用并联-并联反馈配置。输入信号是电流 $I_{in}$，输出信号是电压 $V_{out}$。已知这种拓扑的输入阻抗会因反馈机制而显著降低。并联-并联反馈放大器输入阻抗的通用公式为：\n$$Z_{in} = \\frac{Z_f}{1 + A_{OL} \\beta}$$\n对于使用运放的跨阻放大器，反馈系数 $\\beta$ 为1，前向增益是运放的开环增益 $A_{OL}$。阻抗 $Z_f$ 是反馈元件的阻抗。因此，输入阻抗由反馈阻抗上的密勒效应给出：\n$$Z_{in} = \\frac{R_f}{1 + A_{OL}}$$\n其中 $R_f$ 是反馈元件的等效电阻。在本问题中，反馈元件是PMOS晶体管。我们将其等效电阻表示为 $R_{PMOS}$。\n\n步骤2：确定PMOS晶体管的等效电阻（$R_{PMOS}$）。\nPMOS晶体管工作在三极管区。漏极电流 $I_D$（从漏极流向源极）通常用 $V_{DS}$ 表示，但对于PMOS，使用以源极为参考的量 $I_{SD}$ 和 $V_{SD}$ 通常更方便。从源极流向漏极的电流 $I_{SD}$ 由下式给出：\n$$I_{SD} = k'_p \\frac{W}{L} \\left( (V_{SG} - |V_{thp}|)V_{SD} - \\frac{V_{SD}^2}{2} \\right)$$\n问题指出我们可以将晶体管建模为线性电阻器，这对于小电压变化（即小的 $V_{SD}$）是有效的。在此极限下，二次项 $(V_{SD}^2/2)$ 可以忽略不计。I-V关系简化为：\n$$I_{SD} \\approx k'_p \\frac{W}{L} (V_{SG} - |V_{thp}|)V_{SD}$$\n从这个线性关系中，等效电阻 $R_{PMOS}$ 是比值 $V_{SD}/I_{SD}$：\n$$R_{PMOS} = \\frac{V_{SD}}{I_{SD}} = \\frac{1}{k'_p \\frac{W}{L} (V_{SG} - |V_{thp}|)}$$\n\n步骤3：计算栅-源电压 $V_{SG}$。\n问题指明，为了计算此电阻，我们可以假设运放的反相输入端处于虚地。\nPMOS的源极连接到反相输入端，因此其电压 $V_S$ 为：\n$$V_S \\approx 0 \\text{ V}$$\nPMOS的栅极连接到恒定的控制电压 $V_G$。\n栅-源电压定义为 $V_{GS} = V_G - V_S$。使用我们对 $V_S$ 的虚地近似：\n$$V_{GS} = V_G - 0 = V_G$$\n电阻公式使用 $V_{SG}$，即 $V_S - V_G$。\n$$V_{SG} = -V_{GS} = -V_G$$\n\n步骤4：将 $V_{SG}$ 代入 $R_{PMOS}$ 的表达式中。\n将 $V_{SG} = -V_G$ 代入我们的PMOS电阻表达式中：\n$$R_{PMOS} = \\frac{1}{k'_p \\frac{W}{L} (-V_G - |V_{thp}|)}$$\n为使PMOS导通（处于“开”状态），需要满足 $V_{SG} > |V_{thp}|$，这意味着 $-V_G > |V_{thp}|$，或 $V_G  -|V_{thp}|$。这与PMOS器件的工作原理一致。\n\n步骤5：计算最终的放大器输入阻抗 $Z_{in}$。\n现在，我们将推导出的等效反馈电阻 $R_{PMOS}$ 的表达式代入放大器输入阻抗的公式中。\n$$Z_{in} = \\frac{R_{PMOS}}{1 + A_{OL}}$$\n$$Z_{in} = \\frac{1}{(1 + A_{OL})} \\cdot \\frac{1}{k'_p \\frac{W}{L} (-V_G - |V_{thp}|)}$$\n这就是放大器输入阻抗的最终表达式。", "answer": "$$\\boxed{\\frac{1}{(1 + A_{OL}) k'_{p} \\frac{W}{L} (-V_{G} - |V_{thp}|)}}$$", "id": "1317274"}]}