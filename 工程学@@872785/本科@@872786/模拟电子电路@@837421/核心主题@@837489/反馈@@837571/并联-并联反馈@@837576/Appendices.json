{"hands_on_practices": [{"introduction": "我们将从并联-并联反馈最核心的应用——跨阻放大器——开始。这个问题使用一个理想运算放大器来构建一个简单的光功率计前端，这是一个非常典型的实际应用场景。通过这个练习 [@problem_id:1332786]，你将掌握在理想情况下，输入电流、输出电压和反馈电阻 $R_f$ 之间的基本关系。", "problem": "一位工程师正在为一台简易光功率计设计前端电子设备。该系统使用一个光电二极管将入射光转换为光电流，然后通过一个跨阻放大器将该电流放大，以产生可测量的输出电压。该跨阻放大器由一个可被视为理想的运算放大器（op-amp）构成。\n\n光电二极管的响应度为 $\\mathcal{R} = 0.65$ A/W。这意味着它产生的光电流 $I_{ph}$ 由公式 $I_{ph} = \\mathcal{R} \\cdot P_{in}$ 给出，其中 $P_{in}$ 是入射光功率。光电二极管的连接方式使得该电流流入运算放大器的反相输入端。一个反馈电阻 $R_f$ 连接在运算放大器的输出端和其反相输入端之间。运算放大器的同相输入端接地。\n\n在一次特定测量中，入射光功率为 $P_{in} = 5.0 \\ \\mu$W。设计要求放大器产生相应的输出电压 $V_{out} = -4.0$ V。\n\n计算为达到此性能所需的反馈电阻 $R_f$ 的值。以千欧姆（k$\\Omega$）为单位表示您的答案，并四舍五入到三位有效数字。", "solution": "对于一个同相输入端接地的理想运算放大器，在跨阻（transimpedance）配置中，其反相输入端处于虚地状态。光电二极管向反相节点注入电流 $I_{ph}$，该电流流经反馈电阻 $R_{f}$ 到达输出端。根据反相节点处的基尔霍夫电流定律，\n$$I_{ph}=\\frac{0-V_{out}}{R_{f}},$$\n这给出了标准的跨阻关系式\n$$V_{out}=-I_{ph}R_{f}.$$\n光电二极管电流与入射功率的关系为\n$$I_{ph}=\\mathcal{R}P_{in}.$$\n代入跨阻关系式并求解 $R_{f}$，\n$$R_{f}=\\frac{-V_{out}}{\\mathcal{R}P_{in}}.$$\n已知 $V_{out}=-4.0\\ \\text{V}$，$\\mathcal{R}=0.65\\ \\text{A/W}$，以及 $P_{in}=5.0\\times 10^{-6}\\ \\text{W}$。\n首先计算光电流 $I_{ph}$：\n$$I_{ph}=\\mathcal{R}P_{in}=(0.65\\ \\text{A/W}) \\times (5.0\\times 10^{-6}\\ \\text{W})=3.25\\times 10^{-6}\\ \\text{A}$$\n然后代入跨阻关系式求解 $R_f$：\n$$R_{f}=\\frac{-V_{out}}{I_{ph}} = \\frac{-(-4.0\\ \\text{V})}{3.25\\times 10^{-6}\\ \\text{A}}\\approx 1,230,769\\ \\Omega$$\n根据题目要求，将结果转换为千欧姆 (k$\\Omega$) 并四舍五入到三位有效数字：\n$$R_f \\approx 1230\\ \\text{k}\\Omega = 1.23 \\times 10^3\\ \\text{k}\\Omega$$", "answer": "$$\\boxed{1.23 \\times 10^{3}}$$", "id": "1332786"}, {"introduction": "现在，让我们来探讨我们熟悉的电路——反相电压放大器——实际上是如何体现并联-并联反馈原理的。这个问题 [@problem_id:1332802] 将挑战你在考虑运放开环增益 $A_{OL}$ 有限的情况下分析电路。这将揭示理想增益公式为何只是一个近似，并加深你对反馈机制的理解。", "problem": "一个反相放大器电路由一个运算放大器（运放）、一个信号源和两个电阻构成。信号源被建模为一个理想电压源 $V_s$ 与一个电阻 $R_s$ 串联。该信号源连接到运放的反相输入端。一个电阻值为 $R_f$ 的反馈电阻连接在运放的输出端和反相输入端之间。运放的同相输入端接地。\n\n该运放的特性为：有限的开环电压增益 $A_{OL}$、无限大的输入电阻和零输出电阻。\n\n求该电路的闭环电压增益的符号表达式，定义为 $A_f = V_o / V_s$，其中 $V_o$ 是运放输出端的电压。用 $A_{OL}$、$R_s$ 和 $R_f$ 表示你的答案。", "solution": "设反相输入节点的电压为 $V_{-}$，同相输入端接地，因此 $V_{+}=0$。在有限开环增益的情况下，运放的输出满足其本构关系\n$$\nV_{o}=A_{OL}(V_{+}-V_{-})=-A_{OL}V_{-}\\quad\\Rightarrow\\quad V_{-}=-\\frac{V_{o}}{A_{OL}}.\n$$\n输入电阻是无限大的，所以没有电流流入运放的输入端。在反相节点处应用基尔霍夫电流定律，得到从信号源流经 $R_s$ 的电流等于流经反馈电阻 $R_f$ 的电流：\n$$\n\\frac{V_{s}-V_{-}}{R_{s}}=\\frac{V_{-}-V_{o}}{R_{f}}.\n$$\n交叉相乘并重新整理，\n$$\nR_{f}(V_{s}-V_{-})=R_{s}(V_{-}-V_{o})\\;\\Rightarrow\\;R_{f}V_{s}=V_{-}(R_{s}+R_{f})-R_{s}V_{o}.\n$$\n代入 $V_{-}=-V_{o}/A_{OL}$：\n$$\nR_{f}V_{s}=-\\frac{V_{o}}{A_{OL}}(R_{s}+R_{f})-R_{s}V_{o}.\n$$\n提取因子 $V_{o}$ 并求解 $V_{o}/V_{s}$：\n$$\nR_{f}V_{s}=V_{o}\\left[-\\frac{R_{s}+R_{f}}{A_{OL}}-R_{s}\\right]\n\\;\\Rightarrow\\;\n\\frac{V_{o}}{V_{s}}=-\\frac{R_{f}}{R_{s}+\\frac{R_{s}+R_{f}}{A_{OL}}}\n=-\\frac{A_{OL}R_{f}}{A_{OL}R_{s}+R_{s}+R_{f}}\n=-\\frac{A_{OL}R_{f}}{R_{s}(A_{OL}+1)+R_{f}}.\n$$\n这就是用 $A_{OL}$、$R_s$ 和 $R_f$ 表示的闭环增益 $A_{f}=V_{o}/V_{s}$。", "answer": "$$\\boxed{-\\frac{A_{OL}R_{f}}{R_{s}(A_{OL}+1)+R_{f}}}$$", "id": "1332802"}, {"introduction": "在输出端进行并联采样（电压采样）的主要优点之一是降低输出电阻，使放大器更接近一个理想的电压源。最后一个练习 [@problem_id:1332801] 将指导你推导一个由非理想运放（具有非零输出电阻 $r_o$）构成的跨阻放大器的闭环输出电阻。掌握这种分析方法，将巩固你对反馈如何改善放大器性能的理解。", "problem": "一个跨阻放大器由一个非理想运算放大器（op-amp）和一个反馈电阻 $R_f$ 构成。该运算放大器的特征是具有有限的开环电压增益 $A_{ol}$ 和一个非零的开环输出电阻 $r_o$。其开环输入电阻假定为无穷大。该放大器的配置是反馈电阻 $R_f$ 连接输出端和反相输入端。同相输入端接地。\n\n输入信号由连接到反相输入端的电流源提供。该电流源具有一个有限的内部源电阻 $R_s$。\n\n您的任务是求出此跨阻放大器的闭环输出电阻 $R_{out,f}$。请用给定的参数 $A_{ol}$、$r_o$、$R_f$ 和 $R_s$ 给出一个封闭形式的解析表达式作为答案。", "solution": "为了确定闭环输出电阻 $R_{out,f}$，我们使用测试源法。我们将电路中所有的独立源置零，并在输出端施加一个测试电压源 $v_x$。然后我们计算从该测试源汲取的电流 $i_x$。输出电阻由比值 $R_{out,f} = v_x / i_x$ 给出。\n\n首先，我们为此分析建立电路模型。将输入电流源置零意味着它是一个开路。然而，其内部源电阻 $R_s$ 仍保留在电路中，连接在反相输入端和地之间。非理想运算放大器被建模为一个值为 $A_{ol}v_d$ 的压控电压源，与开环输出电阻 $r_o$ 串联。这里，$v_d$ 是差分输入电压 $v_d = v_+ - v_-$。由于同相输入端接地 ($v_+=0$)，我们有 $v_d = -v_-$，其中 $v_-$ 是反相输入端的电压。因此，运算放大器的内部电压源为 $-A_{ol}v_-$。\n\n我们在电压为 $v_-$ 的反相输入节点应用基尔霍夫电流定律（KCL）。运算放大器的输入电阻是无穷大，所以没有电流流入运算放大器的输入端。流出该节点并通过电阻 $R_s$ 和 $R_f$ 的电流之和必须为零：\n$$\n\\frac{v_- - 0}{R_s} + \\frac{v_- - v_x}{R_f} = 0\n$$\n我们可以重新排列这个方程，以 $v_x$ 的形式求解 $v_-$：\n$$\nv_-\\left(\\frac{1}{R_s} + \\frac{1}{R_f}\\right) = \\frac{v_x}{R_f}\n$$\n$$\nv_-\\left(\\frac{R_f + R_s}{R_s R_f}\\right) = \\frac{v_x}{R_f}\n$$\n$$\nv_- = v_x \\frac{R_s R_f}{R_f(R_f + R_s)} = v_x \\frac{R_s}{R_s + R_f}\n$$\n\n接下来，我们在输出节点应用KCL，该节点被保持在测试电压 $v_x$。来自测试源的总电流 $i_x$ 是流入反馈电阻 $R_f$ 的电流和通过 $r_o$ 流入运算放大器输出端的电流之和。\n通过 $R_f$ 的电流是 $(v_x - v_-)/R_f$。\n通过 $r_o$ 的电流是 $(v_x - (-A_{ol}v_-))/r_o = (v_x + A_{ol}v_-)/r_o$。\n所以，输出节点的KCL方程是：\n$$\ni_x = \\frac{v_x - v_-}{R_f} + \\frac{v_x + A_{ol}v_-}{r_o}\n$$\n我们可以根据变量 $v_x$ 和 $v_-$ 重新组合这个方程：\n$$\ni_x = v_x\\left(\\frac{1}{R_f} + \\frac{1}{r_o}\\right) + v_-\\left(\\frac{A_{ol}}{r_o} - \\frac{1}{R_f}\\right)\n$$\n现在，我们代入我们之前推导出的 $v_-$ 的表达式：\n$$\ni_x = v_x\\left(\\frac{1}{R_f} + \\frac{1}{r_o}\\right) + \\left(v_x \\frac{R_s}{R_s + R_f}\\right)\\left(\\frac{A_{ol}}{r_o} - \\frac{1}{R_f}\\right)\n$$\n为了求出输出导纳 $i_x/v_x$，我们将整个方程除以 $v_x$：\n$$\n\\frac{i_x}{v_x} = \\left(\\frac{1}{R_f} + \\frac{1}{r_o}\\right) + \\left(\\frac{R_s}{R_s + R_f}\\right)\\left(\\frac{A_{ol}}{r_o} - \\frac{1}{R_f}\\right)\n$$\n我们展开并简化该表达式：\n$$\n\\frac{i_x}{v_x} = \\frac{1}{R_f} + \\frac{1}{r_o} + \\frac{A_{ol}R_s}{r_o(R_s + R_f)} - \\frac{R_s}{R_f(R_s + R_f)}\n$$\n我们可以合并分母中含有 $R_f$ 的项：\n$$\n\\frac{1}{R_f} - \\frac{R_s}{R_f(R_s + R_f)} = \\frac{R_s + R_f - R_s}{R_f(R_s + R_f)} = \\frac{R_f}{R_f(R_s + R_f)} = \\frac{1}{R_s + R_f}\n$$\n将此代回导纳的表达式中：\n$$\n\\frac{i_x}{v_x} = \\frac{1}{r_o} + \\frac{A_{ol}R_s}{r_o(R_s + R_f)} + \\frac{1}{R_s + R_f}\n$$\n为了合并这些项，我们找到一个公分母，即 $r_o(R_s + R_f)$：\n$$\n\\frac{i_x}{v_x} = \\frac{R_s + R_f}{r_o(R_s + R_f)} + \\frac{A_{ol}R_s}{r_o(R_s + R_f)} + \\frac{r_o}{r_o(R_s + R_f)}\n$$\n$$\n\\frac{i_x}{v_x} = \\frac{R_s + R_f + A_{ol}R_s + r_o}{r_o(R_s + R_f)}\n$$\n闭环输出电阻 $R_{out,f}$ 是该导纳的倒数：\n$$\nR_{out,f} = \\frac{v_x}{i_x} = \\frac{r_o(R_s + R_f)}{R_s + R_f + r_o + A_{ol}R_s}\n$$\n这个表达式可以稍微重新排列，以将含有 $R_s$ 的项组合在一起：\n$$\nR_{out,f} = \\frac{r_o(R_s + R_f)}{R_s(1 + A_{ol}) + R_f + r_o}\n$$\n这就是闭环输出电阻的最终表达式。", "answer": "$$\\boxed{\\frac{r_o(R_s + R_f)}{R_s(1 + A_{ol}) + R_f + r_o}}$$", "id": "1332801"}]}