{"hands_on_practices": [{"introduction": "负反馈是扩展放大器带宽的基石。这个练习将带你从最基础的单极点放大器模型入手，通过一个具体的计算，亲身体验增益与带宽之间的权衡关系。通过这个问题[@problem_id:1282465]，你将掌握利用增益带宽积（GBWP）来预测和设计闭环放大器带宽的核心技能。", "problem": "一个运算放大器用于为低频传感器构建一个前置放大器。该运算放大器的开环频率响应具有单个主极点的特征。其开环直流 (DC) 电压增益指定为 $A_{OL,DC} = 80 \\text{ dB}$，其-3dB带宽（对应于主极点频率）为 $f_{H,OL} = 100 \\text{ Hz}$。\n\n然后将该运算放大器置于负反馈配置中，构成一个闭环直流电压增益为 $A_{CL,DC} = 20 \\text{ dB}$ 的同相放大器。\n\n计算此闭环放大器新的-3dB带宽 $f_{H,CL}$。请以千赫兹 (kHz) 为单位表示您的答案，并四舍五入到三位有效数字。", "solution": "该运放具有单个主极点，因此其开环传递函数建模为 $A(s) = \\frac{A_{0}}{1 + s/\\omega_{p}}$，其中 $A_{0}$ 是开环直流增益，$\\omega_{p} = 2\\pi f_{H,OL}$ 是主极点。线性标度下的开环直流增益可以通过 dB 值使用公式 $A_{0} = 10^{A_{OL,DC}/20}$ 获得。当 $A_{OL,DC} = 80$ 时，可得 $A_{0} = 10^{80/20} = 10^{4}$。对于单极点放大器，单位增益频率（增益带宽积）为 $f_{t} = A_{0} f_{H,OL}$。\n\n在反馈系数为 $\\beta$ 的同相反馈配置中，闭环传递函数为\n$$\nT(s) = \\frac{A(s)}{1 + \\beta A(s)} = \\frac{A_{0}}{(1 + s/\\omega_{p}) + \\beta A_{0}}。\n$$\n因此，闭环直流增益和极点频率为\n$$\nA_{CL,DC} = T(0) = \\frac{A_{0}}{1 + \\beta A_{0}}, \\quad \\omega_{p,CL} = \\omega_{p} (1 + \\beta A_{0})。\n$$\n从直流增益关系式中，求解乘以极点的因子：\n$$\n1 + \\beta A_{0} = \\frac{A_{0}}{A_{CL,DC}}。\n$$\n因此，闭环-3 dB带宽为\n$$\nf_{H,CL} = \\frac{\\omega_{p,CL}}{2\\pi} = f_{H,OL} \\left(1 + \\beta A_{0}\\right) = f_{H,OL} \\cdot \\frac{A_{0}}{A_{CL,DC}} = \\frac{A_{0} f_{H,OL}}{A_{CL,DC}} = \\frac{f_{t}}{A_{CL,DC}}。\n$$\n代入给定值：$A_{0} = 10^{4}$，$f_{H,OL} = 100$，和 $A_{CL,DC} = 10^{20/20} = 10$，得到\n$$\nf_{H,CL} = \\frac{10^{4} \\cdot 100}{10} = 10^{5} \\text{ Hz} = 100 \\text{ kHz}。\n$$\n以 kHz 为单位，四舍五入到三位有效数字，结果为 $1.00 \\times 10^{2}$。", "answer": "$$\\boxed{1.00 \\times 10^{2}}$$", "id": "1282465"}, {"introduction": "理论上的带宽扩展并非没有限制。这个练习引入了压摆率（Slew Rate）这一关键的实际参数，旨在让你区分小信号带宽和全功率带宽。通过对比不同增益下的两种带宽[@problem_id:1282459]，你将深刻理解为什么即使有负反馈，放大器在处理大幅度高速信号时仍会受到限制。", "problem": "一个运算放大器（op-amp）被用来构建一个同相放大器。该运放的特性是：具有非常大的开环直流增益、单位增益频率 $f_T = 2.0 \\text{ MHz}$、内部压摆率 ($SR$) 为 $1.0 \\text{ V}/\\mu s$、以及最大对称输出电压摆幅 $V_{omax} = 10.0 \\text{ V}$。该运放的开环频率响应可以由一个单主极点建模。\n\n通过调整反馈网络，考虑两种不同的电路配置：\n- **情况1**：闭环直流电压增益设置为 $G_1 = 12.0$。\n- **情况2**：闭环直流电压增益设置为 $G_2 = 60.0$。\n\n对于这两种情况，放大器都预期在其最大输出电压摆幅 $V_{omax}$ 下工作。您的任务是分析改变闭环增益如何影响两种不同的带宽指标：小信号-3dB带宽和全功率带宽。\n\n计算以下两个无量纲比值：\n1.  情况1与情况2的小信号-3dB带宽之比。\n2.  情况1与情况2的全功率带宽之比。\n\n将您的两个答案（分别对应比值（1）和（2））以一对数值的形式给出。将最终答案四舍五入到三位有效数字。", "solution": "问题要求计算一个同相运放放大器在两种不同增益设置下带宽的两个比值。我们将分别分析小信号带宽和全功率带宽。\n\n首先，我们分析小信号-3dB带宽。对于一个具有单极点频率响应和非常大直流增益 $A_0$ 的运放，其开环增益由 $A(s) = \\frac{A_0}{1 + s/\\omega_p}$ 给出，其中 $\\omega_p$ 是主极点频率。单位增益角频率 $\\omega_T = 2\\pi f_T$ 通过增益带宽积（GBWP）与开环增益和极点相关联：$\\omega_T = A_0 \\omega_p$。\n\n同相放大器的闭环增益为 $A_{cl}(s) = \\frac{A(s)}{1 + \\beta A(s)}$，其中 $\\beta$ 是反馈系数。代入 $A(s)$ 的表达式：\n$$ A_{cl}(s) = \\frac{\\frac{A_0}{1+s/\\omega_p}}{1 + \\beta \\frac{A_0}{1+s/\\omega_p}} = \\frac{A_0}{1 + s/\\omega_p + \\beta A_0} = \\frac{A_0}{1 + \\beta A_0} \\frac{1}{1 + \\frac{s}{\\omega_p(1+\\beta A_0)}} $$\n闭环直流增益为 $G_{cl} = \\frac{A_0}{1+\\beta A_0}$。因为 $A_0$ 非常大，所以 $G_{cl} \\approx \\frac{A_0}{\\beta A_0} = \\frac{1}{\\beta}$。\n闭环-3dB角带宽为 $\\omega_{3dB} = \\omega_p(1+\\beta A_0)$。同样，对于大的 $A_0$，这可以简化为 $\\omega_{3dB} \\approx \\omega_p \\beta A_0 = \\beta (A_0 \\omega_p) = \\beta \\omega_T$。\n利用关系 $G_{cl} \\approx 1/\\beta$，我们可以用闭环增益来表示小信号带宽：\n$$ \\omega_{3dB} \\approx \\frac{\\omega_T}{G_{cl}} $$\n这表明对于一个固定的单位增益频率，小信号带宽与闭环增益成反比。\n\n现在我们可以计算这两种情况下的带宽。\n对于情况1：$G_1 = 12.0$。小信号带宽为 $f_{3dB,1} = \\frac{f_T}{G_1}$。\n对于情况2：$G_2 = 60.0$。小信号带宽为 $f_{3dB,2} = \\frac{f_T}{G_2}$。\n\n第一个要求的比值是情况2与情况1的小信号带宽之比：\n$$ \\text{Ratio}_1 = \\frac{f_{3dB,2}}{f_{3dB,1}} = \\frac{f_T / G_2}{f_T / G_1} = \\frac{G_1}{G_2} $$\n代入给定的增益值：\n$$ \\text{Ratio}_1 = \\frac{12.0}{60.0} = 0.2 $$\n\n接下来，我们分析全功率带宽（$FPBW$）。该带宽不是由小信号频率响应决定的，而是由运放的压摆率（$SR$）决定的。压摆率是运放输出电压的最大变化率。对于一个正弦输出信号 $v_o(t) = V_{amp} \\sin(\\omega t)$，其变化率为 $\\frac{dv_o}{dt} = \\omega V_{amp} \\cos(\\omega t)$。\n最大变化率发生在 $\\cos(\\omega t) = 1$ 时，所以 $(\\frac{dv_o}{dt})_{max} = \\omega V_{amp}$。\n为了避免压摆率引起的失真，这个最大变化率不能超过运放的压摆率：\n$$ \\omega V_{amp} \\le SR $$\n全功率带宽定义为运放能够在不被压摆率限制的情况下，输出其最大可能电压摆幅 $V_{omax}$ 时的最大频率 $\\omega_{FPBW}$。因此，我们设置 $V_{amp} = V_{omax}$ 并求解极限频率：\n$$ f_{FPBW} = \\frac{SR}{2\\pi V_{omax}} $$\n问题指出，压摆率为 $SR = 1.0 \\text{ V}/\\mu s = 1.0 \\times 10^6 \\text{ V/s}$，最大输出摆幅为 $V_{omax} = 10.0 \\text{ V}$。\n从推导出的公式可知，全功率带宽仅取决于运放的内部压摆率和指定的最大输出幅值。它不依赖于反馈系数 $\\beta$ 或闭环增益 $G_{cl}$。\n\n因此，情况1和情况2的全功率带宽是相同的。\n对于情况1：$f_{FPBW,1} = \\frac{SR}{2\\pi V_{omax}}$。\n对于情况2：$f_{FPBW,2} = \\frac{SR}{2\\pi V_{omax}}$。\n\n第二个要求的比值是情况2与情况1的全功率带宽之比：\n$$ \\text{Ratio}_2 = \\frac{f_{FPBW,2}}{f_{FPBW,1}} = \\frac{SR/(2\\pi V_{omax})}{SR/(2\\pi V_{omax})} = 1 $$\n\n计算出的两个比值是 0.2 和 1。我们需要将它们四舍五入到三位有效数字。\n比值1：$0.200$\n比值2：$1.00$\n\n最终答案是这两个值的组合。", "answer": "$$\\boxed{\\begin{pmatrix} 0.200 & 1.00 \\end{pmatrix}}$$", "id": "1282459"}, {"introduction": "负反馈的作用远不止是简单地“展宽”带宽，它还能主动“塑造”放大器的频率响应。本练习将系统从单极点推广到更现实的双极点模型，探讨如何通过精确选择反馈量来获得一种理想的响应特性——巴特沃斯响应。解决这个问题[@problem_id:1282476]将让你领会到反馈在优化动态性能和稳定性方面的强大能力，这是连接放大器设计与滤波器理论的桥梁。", "problem": "一个运算放大器被建模为具有频率相关的开环电压增益 $A(s)$。该放大器具有非常大的直流开环增益 $A_0$，其频率响应由位于角频率 $\\omega_p$ 处的两个相同的实极点主导。因此，开环传递函数由下式给出：\n$$ A(s) = \\frac{A_0}{\\left(1 + \\frac{s}{\\omega_p}\\right)^2} $$\n该放大器用于构建一个具有恒定、与频率无关的反馈因子 $\\beta$ 的同相放大器。\n\n您的任务是确定实现最大平坦频率响应的具体条件。求出反馈因子 $\\beta$ 的值，该值将闭环增益配置为呈现二阶巴特沃斯响应。然后，计算这个经过巴特沃斯配置的闭环系统的-3dB角频率 $\\omega_{-3\\text{dB,CL}}$。\n\n用 $A_0$ 表示 $\\beta$ 的答案，用 $\\omega_p$ 表示 $\\omega_{-3\\text{dB,CL}}$ 的答案。您的最终答案应该是一个行矩阵，第一列为 $\\beta$ 的值，第二列为 $\\omega_{-3\\text{dB,CL}}$ 的值。", "solution": "具有前向路径增益 $A(s)$ 和恒定反馈因子 $\\beta$ 的同相闭环传递函数由标准反馈关系式给出\n$$\nT(s)=\\frac{V_{\\text{out}}(s)}{V_{\\text{in}}(s)}=\\frac{A(s)}{1+\\beta A(s)}.\n$$\n使用给定的开环模型\n$$\nA(s)=\\frac{A_{0}}{\\left(1+\\frac{s}{\\omega_{p}}\\right)^{2}},\n$$\n闭环传递函数变为\n$$\nT(s)=\\frac{\\dfrac{A_{0}}{\\left(1+\\frac{s}{\\omega_{p}}\\right)^{2}}}{1+\\beta\\,\\dfrac{A_{0}}{\\left(1+\\frac{s}{\\omega_{p}}\\right)^{2}}}\n=\\frac{A_{0}}{\\left(1+\\frac{s}{\\omega_{p}}\\right)^{2}+\\beta A_{0}}.\n$$\n将分母展开，并将分子和分母同乘以 $\\omega_{p}^{2}$，得到\n$$\nT(s)=\\frac{A_{0}\\,\\omega_{p}^{2}}{s^{2}+2\\omega_{p}s+\\omega_{p}^{2}\\left(1+\\beta A_{0}\\right)}.\n$$\n这是一个标准的二阶低通形式。与标准形式比较\n$$\nT(s)=\\frac{K\\,\\omega_{n}^{2}}{s^{2}+2\\zeta\\omega_{n}s+\\omega_{n}^{2}},\n$$\n可得以下对应关系\n$$\n\\omega_{n}^{2}=\\omega_{p}^{2}\\left(1+\\beta A_{0}\\right),\\qquad 2\\zeta\\omega_{n}=2\\omega_{p}.\n$$\n因此，\n$$\n\\omega_{n}=\\omega_{p}\\sqrt{1+\\beta A_{0}},\\qquad \\zeta=\\frac{\\omega_{p}}{\\omega_{n}}=\\frac{1}{\\sqrt{1+\\beta A_{0}}}.\n$$\n对于最大平坦（巴特沃斯）二阶响应，阻尼比必须为\n$$\n\\zeta=\\frac{1}{\\sqrt{2}}.\n$$\n施加此条件可得\n$$\n\\frac{1}{\\sqrt{1+\\beta A_{0}}}=\\frac{1}{\\sqrt{2}}\\;\\;\\Longrightarrow\\;\\;1+\\beta A_{0}=2\\;\\;\\Longrightarrow\\;\\;\\beta=\\frac{1}{A_{0}}.\n$$\n采用此选择，闭环自然（转角）频率变为\n$$\n\\omega_{n}=\\omega_{p}\\sqrt{1+\\beta A_{0}}=\\omega_{p}\\sqrt{2}.\n$$\n对于二阶巴特沃斯低通滤波器，其 $-3\\,\\text{dB}$ 频率等于其自然频率。为了明确地看到这一点，其幅值平方为\n$$\n\\left|T(j\\omega)\\right|^{2}=\\frac{\\left(K\\omega_{n}^{2}\\right)^{2}}{\\left(\\omega_{n}^{2}-\\omega^{2}\\right)^{2}+\\left(2\\zeta\\omega_{n}\\omega\\right)^{2}}.\n$$\n在 $\\omega=\\omega_{n}$ 处并取 $\\zeta=1/\\sqrt{2}$ 进行计算，\n$$\n\\left|T(j\\omega_{n})\\right|^{2}=\\frac{\\left(K\\omega_{n}^{2}\\right)^{2}}{\\left(0\\right)^{2}+\\left(2\\cdot\\frac{1}{\\sqrt{2}}\\cdot\\omega_{n}^{2}\\right)^{2}}=\\frac{K^{2}\\omega_{n}^{4}}{2\\omega_{n}^{4}}=\\frac{K^{2}}{2},\n$$\n该值相对于直流增益 $K$ 为 $-3\\,\\text{dB}$。因此，\n$$\n\\omega_{-3\\text{dB,CL}}=\\omega_{n}=\\sqrt{2}\\,\\omega_{p}.\n$$\n因此，所需的反馈因子和由此产生的闭环 $-3\\,\\text{dB}$ 角频率分别为 $\\beta=\\frac{1}{A_{0}}$ 和 $\\omega_{-3\\text{dB,CL}}=\\sqrt{2}\\,\\omega_{p}$。", "answer": "$$\\boxed{\\begin{pmatrix}\\frac{1}{A_{0}} & \\sqrt{2}\\,\\omega_{p}\\end{pmatrix}}$$", "id": "1282476"}]}