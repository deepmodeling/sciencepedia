## 引言
在追求更高性能的[模拟集成电路设计](@entry_id:277019)中，放大器是至关重要的核心单元。然而，传统的[单级放大器](@entry_id:263914)常常受限于有限的[电压增益](@entry_id:266814)和由[密勒效应](@entry_id:272727)引起的高频性能瓶颈。为了突破这些限制，工程师们开发出一种精巧而高效的电路拓扑——共源共栅（Cascode）放大器。它通过巧妙的晶体管堆叠，以最小的代价极大地提升了放大器的关键性能指标。

本文旨在为读者提供一个关于[共源共栅放大器](@entry_id:273163)拓扑的全面而深入的理解。我们将系统性地解决[单级放大器](@entry_id:263914)性能不足的问题，并揭示[共源共栅结构](@entry_id:273974)是如何成为现代高性能模拟设计的标准解决方案的。

在接下来的内容中，读者将首先在 **“原理与机制”** 章节中探索其工作的基础，理解它如何实现高增益和高带宽；随后，在 **“应用与跨学科联系”** 章节中，我们将看到这些原理如何转化为实际电路（如套筒式和折叠式放大器）并与其他学科产生联系；最后，通过 **“动手实践”** 部分，您将有机会应用所学知识解决具体的设计问题。让我们从[共源共栅放大器](@entry_id:273163)最根本的工作原理开始。

## 原理与机制

在“引言”章节中，我们初步了解了共源共栅（Cascode）放大器作为一种提升放大器性能的关键电路拓扑。本章将深入探讨其工作的核心原理与内部机制，系统地阐述其为何能够实现高增益和高带宽，并分析其固有的设计权衡。

### [共源共栅放大器](@entry_id:273163)的基本结构

[共源共栅放大器](@entry_id:273163)的精髓在于其独特的两级晶体管堆叠结构。它并非简单地将两个放大器级联，而是将一个共发射极（CE）或共源极（CS）级与一个共基极（CB）或共栅极（CG）级进行精巧的组合。

让我们以一个由[双极结型晶体管](@entry_id:266088)（BJT）构成的电路为例来理解其基本连接方式 [@problem_id:1287289]。该结构由两个NPN型BJT（$Q_1$ 和 $Q_2$）组成，其中：
- 输入晶体管 $Q_1$ 配置为共发射极（CE）级，其基极接收输入信号 $v_{in}$。
- $Q_1$ 的集电极直接连接到第二个晶体管 $Q_2$ 的发射极。
- 第二个晶体管 $Q_2$ 的基极连接到一个固定的[直流偏置](@entry_id:271748)电压 $V_B$。由于其基极在交流信号上接地，因此 $Q_2$ 构成了一个共基极（CB）级。
- 最终的输出信号 $v_{out}$ 从 $Q_2$ 的集电极取出。

这种“CE级驱动CB级”的结构就是经典的 **BJT[共源共栅放大器](@entry_id:273163)**。它与达林顿管（Darlington pair）结构有本质区别，后者是第一个晶体管的发射极驱动第二个晶体管的基极，以实现[电流增益](@entry_id:273397)的巨大提升。

在[直流偏置](@entry_id:271748)方面，为了确保两个晶体管都工作在[正向放大区](@entry_id:261687)，需要精心设置各点电压。一个重要的节点是两个晶体管的连接处，即 $Q_1$ 的集电极。其直流电压 $V_{C1}$ 主要由 $Q_2$ 的基极偏置电压 $V_B$ 决定。由于 $Q_2$ 的基极-发射极结[正向偏置](@entry_id:159825)，其发射极电压 $V_{E2}$ 约比基极电压 $V_B$ 低一个开启电压 $V_{BE(on)}$。因为 $V_{C1} = V_{E2}$，我们可以估算出该中间节点的电压：

$V_{C1} \approx V_B - V_{BE(on)}$

例如，若 $V_B = 3.0 \text{ V}$ 且 $V_{BE(on)} = 0.7 \text{ V}$，则 $Q_1$ 的集电极直流电压约为 $2.3 \text{ V}$ [@problem_id:1287289]。这个稳定的直流电压确保了 $Q_1$ 具有足够的集电极-发射极电压 $V_{CE1}$ 以工作在放大区。

同样的结构也适用于[金属-氧化物-半导体场效应晶体管](@entry_id:265517)（MOSFET）。一个 **MOSFET[共源共栅放大器](@entry_id:273163)** 通常由一个共源极（CS）级的输入晶体管 $M_1$ 和一个共栅极（CG）级的共源共栅晶体管 $M_2$ 堆叠而成。输入信号施加于 $M_1$ 的栅极，而 $M_2$ 的栅极被偏置在一个固定的直流电压上。

### 核心优势：提升输出电阻

[共源共栅放大器](@entry_id:273163)最显著的优点是其极高的输出电阻 $R_{out}$，这是实现高电压增益的基石。一个放大器的本征[电压增益](@entry_id:266814) $A_v$ 通常由其跨导 $g_m$ 和输出电阻 $R_{out}$ 的乘积决定，即 $A_v \approx -g_m R_{out}$。因此，大幅提高 $R_{out}$ 是获得高增益的直接途径。

那么，[共源共栅结构](@entry_id:273974)是如何实现这一点的呢？关键在于共栅（或共基）晶体管 $M_2$（或 $Q_2$）所扮演的独特角色。

从输入晶体管 $M_1$ 的角度看，它所驱动的负载不再是最终的[负载电阻](@entry_id:267991) $R_L$，而是共栅晶体管 $M_2$ 的源极。一个工作在饱和区的共栅晶体管，其源极[输入电阻](@entry_id:178645) $r_{in,CG}$ 非常低，近似为：

$r_{in,CG} \approx \frac{1}{g_{m2}}$

其中 $g_{m2}$ 是 $M_2$ 的跨导。这意味着 $M_1$ 的漏极看到了一个低阻抗节点。这个低阻抗节点起到了一个“电压缓冲”或“电流缓冲”的作用 [@problem_id:1287300]。当输出节点（$M_2$的漏极）电压发生较大变化时，这个低阻抗的中间节点（$M_1$的漏极）的电压几乎保持不变。

这种电压稳定效应极大地抑制了输入晶体管 $M_1$ 的[沟道长度调制](@entry_id:264103)效应（对于BJT则是厄尔利效应）。[沟道长度调制](@entry_id:264103)效应是指当晶体管的漏源电压 $V_{DS}$ 变化时，其输出电流也会相应变化，这可以用[输出电阻](@entry_id:276800) $r_o$ 来建模。由于[共源共栅结构](@entry_id:273974)使 $M_1$ 的 $V_{DS1}$ 基本保持恒定，所以 $M_1$ 的行为就非常接近一个理想的[压控电流源](@entry_id:267172)，其输出电流 $g_{m1}v_{in}$ 几乎完全不受输出电压波动的影响 [@problem_id:1319001]。

这个近乎理想的电流被传递给共栅晶体管 $M_2$，$M_2$ 再将此电流输送到最终的高阻抗输出节点。因此，整个电路的输出电阻不再由单个晶体管的 $r_o$ 决定，而是由 $M_1$ 和 $M_2$ 共同作用的结果。

通过详细的[小信号分析](@entry_id:263462)可以推导出MOSFET[共源共栅放大器](@entry_id:273163)的输出电阻的精确表达式 [@problem_id:1287282]。忽略体效应，从 $M_2$ 的漏极看进去的总输出电阻为：

$R_{out} = r_{o1} + r_{o2} + g_{m2} r_{o1} r_{o2}$

其中 $r_{o1}$ 和 $r_{o2}$ 分别是 $M_1$ 和 $M_2$ 的[输出电阻](@entry_id:276800)。在这个表达式中，[主导项](@entry_id:167418)是 $g_{m2} r_{o1} r_{o2}$。我们通常可以做如下近似：

$R_{out} \approx g_{m2} r_{o2} r_{o1} = (g_{m2} r_{o2}) r_{o1}$

这里的 $g_{m2} r_{o2}$ 正是共栅晶体管 $M_2$ 自身的[本征增益](@entry_id:262690)。这意味着[共源共栅结构](@entry_id:273974)将输入晶体管的[输出电阻](@entry_id:276800) $r_{o1}$ 提升了大约 $M_2$ [本征增益](@entry_id:262690)的倍数。这是一个巨大的提升。

与单级[共源放大器](@entry_id:265648)的输出电阻 $R_{out,CS} = r_o$ 相比，一个由相同晶体管构成的[共源共栅放大器](@entry_id:273163)的[输出电阻](@entry_id:276800)要大得多。二者之比为 [@problem_id:1319776]：

$\frac{R_{out,cascode}}{R_{out,CS}} = \frac{r_{o1} + r_{o2} + g_{m2} r_{o1} r_{o2}}{r_o} \approx \frac{g_{m}r_{o}^2}{r_o} = g_m r_o$

（若考虑所有项且晶体管相同，则比值为 $2 + g_m r_o$）。由于 $g_m r_o$（单个晶体管的[本征增益](@entry_id:262690)）通常远大于1（例如在20到100之间），共源共栅拓扑可以将输出电阻和[电压增益](@entry_id:266814)提升一到两个[数量级](@entry_id:264888) [@problem_id:1319001]。

### 关键优势之二：抑制[密勒效应](@entry_id:272727)

除了提高增益，[共源共栅放大器](@entry_id:273163)在高频应用中也备受青睐，因为它能有效克服 **[密勒效应](@entry_id:272727)**（Miller Effect）。[密勒效应](@entry_id:272727)是指在一个[反相放大器](@entry_id:275864)中，连接输入端和输出端之间的反馈电容 $C_f$（在MOSFET中主要是栅漏电容 $C_{gd}$，在BJT中是基集电容 $C_{\mu}$），其对输入端产生的[等效电容](@entry_id:274130)会被放大。这个等效的密勒[输入电容](@entry_id:272919) $C_{in,Miller}$ 为：

$C_{in,Miller} = C_f (1 - A_v)$

其中 $A_v$ 是电容两端的[电压增益](@entry_id:266814)。对于一个高增益的单级CS或CE放大器，$A_v$ 是一个大的负数，导致 $C_{in,Miller}$ 非常大，从而严重限制了放大器的高频性能。

[共源共栅放大器](@entry_id:273163)巧妙地规避了这个问题。对于输入晶体管 $M_1$ 而言，其栅漏电容 $C_{gd1}$ 所感受到的电压增益，是从其栅极到其漏极的增益 $A_{v1} = v_{d1}/v_{g1}$。如前一节所述，$M_1$ 的漏极连接到 $M_2$ 的低阻抗源极，因此 $M_1$ 的电压增益非常低。我们可以通过一个具体的例子来量化这个增益 [@problem_id:1287078]。假设 $g_m = 1.25 \text{ mA/V}$，$r_o = 40 \text{ k}\Omega$，[负载电阻](@entry_id:267991) $R_L = 20 \text{ k}\Omega$，计算可得 $M_1$ 的[电压增益](@entry_id:266814)大小 $|A_{v1}|$ 仅为 $1.43$ 左右。

由于 $M_1$ 的局部增益 $|A_{v1}|$ 接近于1，施加于 $C_{gd1}$ 的密勒乘法因子 $(1 - A_{v1})$ 就变得非常小（大约为2）。相比之下，一个[单级放大器](@entry_id:263914)的增益可能是-50，其密勒乘法因子则高达51。

我们可以通过推导输入晶体管的[密勒电容](@entry_id:268711)来定量比较。对于一个[BJT放大器](@entry_id:277024)，单级CE放大器的[密勒电容](@entry_id:268711)为 $C_{M,CE} = C_{\mu}(1 + g_m R_L)$。而在[共源共栅结构](@entry_id:273974)中，输入晶体管 $Q_1$ 的[密勒电容](@entry_id:268711)约为 $C_{M,cascode} \approx C_{\mu}(1 + \frac{g_m r_{\pi}}{1+g_m r_{\pi}})$，这个值约等于 $2C_{\mu}$。二者的比值为 [@problem_id:1313053]：

$\frac{C_{M,cascode}}{C_{M,CE}} = \frac{1 + 2 g_{m} r_{\pi}}{(1 + g_{m} r_{\pi})(1 + g_{m} R_{L})}$

由于 $g_m R_L$ 通常是一个大数值，这个比率远小于1，表明[共源共栅结构](@entry_id:273974)极大地减小了[输入电容](@entry_id:272919)，从而显著提升了放大器的带宽 [@problem_id:1287266]。

### 实际考量与设计权衡

共源共栅拓扑带来的巨[大性](@entry_id:268856)能提升并非没有代价。其最主要的、也是最根本的缺点是 **[输出电压摆幅](@entry_id:263071)**（Output Voltage Swing）的减小 [@problem_id:1287293]。

为了使放大器正常工作，堆叠的两个晶体管（$M_1$ 和 $M_2$）都必须保持在[饱和区](@entry_id:262273)（或[正向放大区](@entry_id:261687)）。这意味着每个晶体管两端都需要有足够的最小[电压降](@entry_id:267492)。
- 对于下方的 $M_1$，其漏源电压必须满足 $V_{DS1} \ge V_{ov1}$，其中 $V_{ov1} = V_{GS1} - V_{th}$ 是其[过驱动电压](@entry_id:272139)。
- 对于上方的 $M_2$，其漏源电压必须满足 $V_{DS2} \ge V_{ov2}$。

因此，整个[共源共栅结构](@entry_id:273974)所能允许的最低输出电压 $V_{out,min}$ 是这两个最小电压之和（近似值）：

$V_{out,min} \approx V_{ov1} + V_{ov2}$

相比之下，一个单级CS放大器的最低输出电压仅为 $V_{out,min} \approx V_{ov1}$。[共源共栅结构](@entry_id:273974)将输出端的“地”抬高了约一个[过驱动电压](@entry_id:272139)，从而压缩了可用的信号摆动空间。在低电源电压的设计中，这个限制尤为突出，是设计师在使用[共源共栅结构](@entry_id:273974)时必须面对的关键权衡。

### 进阶讨论：[体效应](@entry_id:261475)的影响

在更精密的分析中，我们还需要考虑一些二阶效应，例如MOSFET的 **体效应**（Body Effect）。当晶体管的源极和衬底之间存在电压差（$V_{SB} \gt 0$）时，晶体管的阈值电压会发生变化。

在标准的NMOS[共源共栅结构](@entry_id:273974)中，衬底通常接地。下方晶体管 $M_1$ 的源极接地，因此 $V_{SB1} = 0$，没有[体效应](@entry_id:261475)。但上方晶体管 $M_2$ 的源极连接到 $M_1$ 的漏极，其直流电压显著高于地，因此 $V_{SB2} > 0$，$M_2$ 会受到体效应的影响。

体效应引入了一个额外的[跨导](@entry_id:274251)参数，即 **[体效应](@entry_id:261475)[跨导](@entry_id:274251)** $g_{mb}$。这会如何影响电路性能，特别是我们之前讨论的[输出电阻](@entry_id:276800)呢？

让我们重新推导包含体效应的[输出电阻](@entry_id:276800)。在[小信号模型](@entry_id:270703)中，[体效应](@entry_id:261475)相当于在 $M_2$ 的漏源之间增加了一个由 $v_{bs2}$ 控制的[电流源](@entry_id:275668) $g_{mb2}v_{bs2}$。由于 $v_{s2}$ 是中间节点的电压 $v_{mid}$，而衬底接地，所以 $v_{bs2} = -v_{mid}$。这与栅极在交流地时的 $v_{gs2} = -v_{mid}$ 具有相似的形式。因此，在计算[输出电阻](@entry_id:276800)时，$M_2$ 的有效[跨导](@entry_id:274251)变为了 $(g_{m2} + g_{mb2})$。

包含体效应的输出电阻表达式为 [@problem_id:1287298]：

$R_{out, actual} = r_{o1} + r_{o2} + (g_{m2} + g_{mb2}) r_{o1} r_{o2}$

与理想情况（$g_{mb} = 0$）相比，输出电阻实际上增大了。其比值为：

$\frac{R_{out, actual}}{R_{out, ideal}} = \frac{2 + (g_m + g_{mb}) r_o}{2 + g_m r_o}$

这个比值大于1，说明[体效应](@entry_id:261475)（一个通常被视为寄生效应的现象）在这种结构中反而进一步增强了输出电阻和电压增益。这个看似违反直觉的结论，对于追求极致性能的[模拟集成电路设计](@entry_id:277019)师而言，是一个必须了解的重要细节。