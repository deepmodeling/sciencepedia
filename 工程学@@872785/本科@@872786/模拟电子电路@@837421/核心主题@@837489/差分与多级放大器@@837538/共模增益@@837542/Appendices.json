{"hands_on_practices": [{"introduction": "差分放大器的核心性能指标包括其差模增益 ($A_d$)、共模抑制比 (CMRR) 和共模增益 ($A_{cm}$)。在实际工程应用中，这些参数通常以分贝 (dB) 为单位给出。本练习将帮助你熟练掌握在分贝域中处理这些关键参数之间关系的基本计算，这是解读放大器数据手册和进行噪声分析的基础技能 [@problem_id:1293115]。", "problem": "一名电气工程专业的学生正在为一种生物医学传感器设计一个精密前置放大器电路。为了最大限度地减少来自环境噪声（例如60赫兹的电力线交流声）的干扰，该学生选择了一个差分放大器。该放大器的制造商数据手册指定了两个关键性能指标。差模电压增益 ($A_d$)，即对期望信号的预定放大倍数，被列为40 dB。共模抑制比 (CMRR)，一个衡量放大器抑制两个输入端共有的不必要信号能力的指标，被指定为60 dB。\n\n为了完成电路的噪声分析，该学生必须确定放大器的共模电压增益 ($A_{cm}$)。这个增益代表了施加于不必要的共模噪声的放大倍数。\n\n计算共模电压增益 $A_{cm}$。以分贝 (dB) 表示你的答案。", "solution": "问题要求我们根据差模电压增益 ($A_d$) 和共模抑制比 (CMRR)（两者均以分贝为单位）来求出以分贝为单位的共模电压增益 ($A_{cm}$)。\n\n首先，我们回顾一下定义。对于一个输入为 $v_1$ 和 $v_2$，输出为 $v_o$ 的差分放大器，其差分增益 $A_d$ 和共模增益 $A_{cm}$ 的定义如下。输入可以用差模信号 $v_d = v_1 - v_2$ 和共模信号 $v_{cm} = \\frac{v_1 + v_2}{2}$ 来表示。输出则由 $v_o = A_d v_d + A_{cm} v_{cm}$ 给出。\n\n共模抑制比 (CMRR) 定义为差分增益的幅值与共模增益的幅值之比：\n$$\nCMRR = \\frac{|A_d|}{|A_{cm}|}\n$$\n这个关系式适用于绝对增益值（即线性标度，而非分贝）。\n\n为了使用给定的分贝 (dB) 值，我们将这个定义方程转换到分贝标度。将电压增益 $A$ 转换为分贝的公式是 $A_{dB} = 20 \\log_{10}(|A|)$。\n\n将此公式应用于 CMRR 方程：\n$$\nCMRR_{dB} = 20 \\log_{10}(CMRR) = 20 \\log_{10}\\left(\\frac{|A_d|}{|A_{cm}|}\\right)\n$$\n利用对数性质 $\\log(x/y) = \\log(x) - \\log(y)$，我们可以展开这个表达式：\n$$\nCMRR_{dB} = 20 \\log_{10}(|A_d|) - 20 \\log_{10}(|A_{cm}|)\n$$\n我们可以识别出右边的项分别是差分增益和共模增益的分贝表示。\n$$\nA_{d, dB} = 20 \\log_{10}(|A_d|)\n$$\n$$\nA_{cm, dB} = 20 \\log_{10}(|A_{cm}|)\n$$\n将这些代入 $CMRR_{dB}$ 的方程，得到这些量在分贝单位下的基本关系：\n$$\nCMRR_{dB} = A_{d, dB} - A_{cm, dB}\n$$\n问题要求的是共模增益 $A_{cm, dB}$。我们可以重新整理方程来求解它：\n$$\nA_{cm, dB} = A_{d, dB} - CMRR_{dB}\n$$\n现在，我们可以代入题目中提供的数值：\n- 差模电压增益, $A_{d, dB} = 40 \\text{ dB}$\n- 共模抑制比, $CMRR_{dB} = 60 \\text{ dB}$\n\n将这些值代入我们整理后的公式中：\n$$\nA_{cm, dB} = 40 \\text{ dB} - 60 \\text{ dB}\n$$\n$$\nA_{cm, dB} = -20 \\text{ dB}\n$$\n负的分贝值表示共模信号被衰减而不是被放大。在这种情况下，-20 dB 的增益对应于 $10^{-20/20} = 10^{-1} = 0.1$ 的线性增益因子。这对于差分放大器来说是期望的行为，因为它应该抑制共模噪声。", "answer": "$$\\boxed{-20}$$", "id": "1293115"}, {"introduction": "了解共模增益的数值固然重要，但更关键的是理解它在实际电路中的具体影响。一个负的分贝值表示信号衰减，但具体衰减了多少？本练习旨在将抽象的增益指标与可测量的物理量联系起来，通过计算在给定的共模噪声输入下，放大器输出端的噪声电压大小，让你直观地感受共模增益在抑制干扰中的实际作用 [@problem_id:1293116]。", "problem": "一位生物医学工程师正在设计一个心电图 (ECG) 采集系统的前端。其中一个关键组件是差分放大器，其作用是放大两个电极之间的微小电压差，同时抑制两个输入端共同存在的大而不必要的噪声信号。该系统在实验室环境中运行，其中 60 Hz 的电源线干扰在放大器的输入端感应出一个峰值幅度为 1.5 V 的共模噪声信号。该差分放大器的共模增益被指定为 -35 dB。\n\n计算由于此干扰而出现在放大器输出端的共模电压的峰值幅度。以毫伏 (mV) 为单位表示你的答案，并将最终答案四舍五入到三位有效数字。", "solution": "给定峰值幅度为 $V_{\\text{cm,in}} = 1.5 \\text{ V}$ 的共模输入和以分贝表示的共模增益 $G_{\\text{cm,dB}} = -35 \\text{ dB}$，我们使用电压增益的分贝定义：\n$$\nG_{\\text{dB}} = 20 \\log_{10}\\left(|A|\\right).\n$$\n求解共模增益的幅度，\n$$\n|A_{\\text{cm}}| = 10^{G_{\\text{cm,dB}}/20} = 10^{-35/20} = 10^{-1.75}.\n$$\n则峰值共模输出幅度为\n$$\nV_{\\text{cm,out}} = |A_{\\text{cm}}| \\, V_{\\text{cm,in}} = 1.5 \\times 10^{-1.75} \\text{ V}.\n$$\n使用 $1 \\text{ V} = 10^{3} \\text{ mV}$ 转换为毫伏，\n$$\nV_{\\text{cm,out}} = 1.5 \\times 10^{-1.75} \\times 10^{3} \\text{ mV}.\n$$\n数值上，\n$$\n10^{-1.75} \\approx 1.778279410 \\times 10^{-2},\n$$\n所以\n$$\nV_{\\text{cm,out}} \\approx 1.5 \\times 1.778279410 \\times 10^{-2} \\times 10^{3} \\text{ mV} = 26.67419115 \\text{ mV}.\n$$\n四舍五入到三位有效数字，并注意到幅度是以大小报告的，\n$$\nV_{\\text{cm,out}} \\approx 26.7 \\text{ mV}.\n$$", "answer": "$$\\boxed{26.7}$$", "id": "1293116"}, {"introduction": "在掌握了如何使用和解释共模增益指标后，下一步是探究其电路层面的来源。差分对是构建差分放大器的核心单元。本练习将引导你通过对一个理想对称的 MOSFET 差分对进行小信号分析，来推导其共模增益的表达式，从而揭示电路参数（如尾电阻 $R_{SS}$）是如何决定放大器抑制共模信号能力的，这对于优化电路设计至关重要 [@problem_id:1293096]。", "problem": "一个差分放大器由两个完美匹配的金属氧化物半导体场效应晶体管 (MOSFET) M1 和 M2 构成。它们的源极连接在一个公共节点上。该公共源极节点通过一个电阻为 $R_{SS}$ 的尾电阻接地。M1的漏极通过负载电阻 $R_{D1}$ 连接到正电源电压 $V_{DD}$，M2的漏极通过负载电阻 $R_{D2}$ 连接到同一电源 $V_{DD}$。电路设计为完全对称，因此负载电阻相同：$R_{D1} = R_{D2} = R_D$。\n\n输出电压 $v_{o1}$ 和 $v_{o2}$ 分别在 M1 和 M2 的漏极处测量。在本分析中，假设两个晶体管都偏置工作在饱和区，并具有相同的小信号跨导 $g_m$。此外，假设每个晶体管的本征输出电阻 $r_o$ 为无穷大。一个纯共模输入信号 $v_{icm}$ 被施加到两个晶体管的栅极，这意味着输入电压为 $v_{i1} = v_{i2} = v_{icm}$。\n\n确定单端共模增益，其定义为比率 $A_{cm} = \\frac{v_{o1}}{v_{icm}}$。请用给定参数 $g_m$、$R_D$ 和 $R_{SS}$ 表示您的答案，形式为一个闭式解析表达式。", "solution": "由于输入是纯共模信号，$v_{i1}=v_{i2}=v_{icm}$，两个相同的晶体管经历相同的小信号条件，它们的小信号漏极电流相等。当 $r_{o}\\to\\infty$ 时，每个 MOSFET 可建模为一个受控电流源，其值为 $i_{d}=g_{m}v_{gs}$，方向从漏极到源极。设公共源极节点的小信号电压为 $v_{s}$。\n\n对于每个晶体管，$v_{gs}=v_{icm}-v_{s}$，所以小信号漏极电流为\n$$\ni_{d1}=i_{d2}=g_{m}\\left(v_{icm}-v_{s}\\right).\n$$\n此电流从漏极流向源极；因此，它从每个晶体管流入源极节点。从源极节点连接到地的唯一元件是尾电阻 $R_{SS}$，它承载着从源极节点流向地的电流 $v_{s}/R_{SS}$。在公共源极节点应用KCL（基尔霍夫电流定律，即流入的总电流等于流出的总电流），得到\n$$\n2g_{m}\\left(v_{icm}-v_{s}\\right)=\\frac{v_{s}}{R_{SS}}.\n$$\n求解 $v_{s}$，\n$$\n2g_{m}v_{icm}-2g_{m}v_{s}=\\frac{v_{s}}{R_{SS}}\n\\;\\;\\Rightarrow\\;\\;\n2g_{m}v_{icm}=v_{s}\\left(2g_{m}+\\frac{1}{R_{SS}}\\right)\n\\;\\;\\Rightarrow\\;\\;\nv_{s}=\\frac{2g_{m}}{2g_{m}+\\frac{1}{R_{SS}}}\\,v_{icm}\n=\\frac{2g_{m}R_{SS}}{1+2g_{m}R_{SS}}\\,v_{icm}.\n$$\n\n对于漏极1的输出，当 $V_{DD}$ 作为交流地时，漏极节点看到一个到地的电阻 $R_D$。离开漏极节点流入晶体管的小信号电流为 $i_{d1}=g_{m}\\left(v_{icm}-v_{s}\\right)$，所以小信号漏极电压为\n$$\nv_{o1}=-R_{D}\\,i_{d1}=-g_{m}R_{D}\\left(v_{icm}-v_{s}\\right).\n$$\n因此，单端共模增益为\n$$\nA_{cm}=\\frac{v_{o1}}{v_{icm}}=-g_{m}R_{D}\\left(1-\\frac{v_{s}}{v_{icm}}\\right).\n$$\n代入 $v_{s}/v_{icm}$ 的表达式：\n$$\n1-\\frac{v_{s}}{v_{icm}}=1-\\frac{2g_{m}R_{SS}}{1+2g_{m}R_{SS}}\n=\\frac{1+2g_{m}R_{SS}-2g_{m}R_{SS}}{1+2g_{m}R_{SS}}\n=\\frac{1}{1+2g_{m}R_{SS}}.\n$$\n因此，\n$$\nA_{cm}=-g_{m}R_{D}\\cdot\\frac{1}{1+2g_{m}R_{SS}}\n=-\\frac{g_{m}R_{D}}{1+2g_{m}R_{SS}}.\n$$\n该表达式具有正确的极限情况：当 $R_{SS}\\to 0$ 时，$A_{cm}\\to -g_{m}R_{D}$（两个源极均处于交流接地状态）；当 $R_{SS}\\to\\infty$ 时（理想电流源尾电流），$A_{cm}\\to 0$。", "answer": "$$\\boxed{-\\frac{g_{m}R_{D}}{1+2g_{m}R_{SS}}}$$", "id": "1293096"}]}