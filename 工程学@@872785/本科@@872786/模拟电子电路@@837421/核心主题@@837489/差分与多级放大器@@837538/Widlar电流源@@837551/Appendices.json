{"hands_on_practices": [{"introduction": "我们学习理论的最终目的是将其应用于实践。维德拉电流源设计的核心在于，通过精心选择发射极电阻 $R_E$ 的值，从一个相对较大的参考电流中精确地产生一个微小的输出电流。这个练习将带你完成一个基础但至关重要的设计任务：计算实现所需电流比所需的 $R_E$ 值，这是所有模拟电路设计师必须掌握的基本技能。[@problem_id:1341657]", "problem": "一位模拟集成电路设计师的任务是为一个运算放大器的输入级设计一个低电流偏置源。为了从一个较大且更易于产生的参考电流中获得一个稳定的小输出电流，采用了 Widlar 电流源。\n\n该电路由两个在正向有源区工作的完美匹配的 NPN 型双极结型晶体管 (BJT) $Q_1$ 和 $Q_2$ 组成。参考晶体管 $Q_1$ 的基极和集电极连接在一起。一个参考电流 $I_{ref}$ 被馈入这个公共节点。输出晶体管 $Q_2$ 的基极连接到 $Q_1$ 的基极。一个发射极电阻 $R_E$ 连接在 $Q_2$ 的发射极和公共地线之间，公共地线也连接到 $Q_1$ 的发射极。$Q_2$ 的集电极提供所需的输出电流 $I_{out}$。\n\n在此设计中，假设基极电流相对于集电极电流可以忽略不计。参考电流设置为 $I_{ref} = 1.00 \\text{ mA}$，期望的输出电流为 $I_{out} = 10.0 \\text{ }\\mu\\text{A}$。电路在热电压为 $V_T = 26.0 \\text{ mV}$ 的温度下工作。\n\n计算为实现此电流比所需的发射极电阻 $R_E$ 的值。答案以千欧姆 ($\\text{k}\\Omega$) 表示，并四舍五入到三位有效数字。", "solution": "因为晶体管是匹配的，并且在正向有源模式下工作，基极电流可以忽略不计，所以我们可以认为 $I_{C1} \\approx I_{E1} = I_{ref}$ 和 $I_{C2} \\approx I_{E2} = I_{out}$。对于在正向有源区工作的 BJT，集电极电流和基极-发射极电压满足关系式 $I_{C} = I_{S} \\exp\\!\\left(\\frac{V_{BE}}{V_{T}}\\right)$，这意味着\n$$\nV_{BE} = V_{T} \\ln\\!\\left(\\frac{I_{C}}{I_{S}}\\right).\n$$\n由于基极连接在一起，$Q_{2}$ 的发射极电位被电阻 $R_{E}$ 抬高， $R_{E}$ 两端的电压等于两个基极-发射极电压之差：\n$$\nV_{R_{E}} = V_{BE1} - V_{BE2}.\n$$\n使用上面的 $V_{BE}$ 表达式，并代入 $I_{C1} = I_{ref}$ 和 $I_{C2} = I_{out}$，我们得到\n$$\nV_{BE1} - V_{BE2} = V_{T} \\ln\\!\\left(\\frac{I_{ref}}{I_{S}}\\right) - V_{T} \\ln\\!\\left(\\frac{I_{out}}{I_{S}}\\right) = V_{T} \\ln\\!\\left(\\frac{I_{ref}}{I_{out}}\\right).\n$$\n在基极电流可以忽略不计的情况下，$I_{E2} \\approx I_{out}$，因此电阻满足\n$$\nR_{E} = \\frac{V_{R_{E}}}{I_{E2}} = \\frac{V_{T} \\ln\\!\\left(\\frac{I_{ref}}{I_{out}}\\right)}{I_{out}}.\n$$\n代入给定值 $V_{T} = 26.0 \\text{ mV}$、$I_{ref} = 1.00 \\text{ mA}$ 和 $I_{out} = 10.0 \\text{ }\\mu\\text{A}$，\n$$\nR_{E} = \\frac{26.0 \\times 10^{-3}}{10.0 \\times 10^{-6}} \\ln(100) \\text{ } \\Omega = 2600 \\ln(100) \\text{ } \\Omega.\n$$\n因为 $\\ln(100) = 2 \\ln(10) \\approx 4.605170$，我们得到\n$$\nR_{E} \\approx 2600 \\times 4.605170 \\text{ } \\Omega \\approx 11973.4 \\text{ } \\Omega = 11.9734 \\text{ k}\\Omega.\n$$\n以千欧姆为单位，四舍五入到三位有效数字，结果是 $12.0 \\text{ k}\\Omega$。", "answer": "$$\\boxed{12.0}$$", "id": "1341657"}, {"introduction": "理解一个元件的功能的最好方法之一，就是观察当它失效时会发生什么。在这个思想实验中，我们假设输出晶体管的发射极电阻 $R_E$ 由于制造缺陷而被短路。通过分析这种情况，你可以清晰地看到 $R_E$ 在维德拉电流源中的关键作用，并加深对维德拉电流源与基本电流镜之间差异的理解。[@problem_id:1341633]", "problem": "一位电子工程师正在设计一个 Widlar 电流源，以为一个敏感的放大器级产生一个小的、稳定的偏置电流。该设计利用了两个具有共享基极连接的匹配双极结型晶体管 (BJT)。电路的参考侧由参考电流 $I_{REF} = 1.20 \\text{ mA}$ 供电。该电路经过专门设计，以产生一个更小的输出电流 $I_{OUT,design} = 15.0 \\text{ µA}$。晶体管被保持在一个恒定温度下，此时热电压为 $V_T = 26.0 \\text{ mV}$。对于本分析，假设晶体管工作在正向有源区，并且具有高电流增益 ($\\beta \\gg 1$)，这使得可以近似认为集电极电流等于发射极电流 ($I_C \\approx I_E$)。\n\n在硅芯片上制造电路期间，出现了一个制造缺陷，导致输出晶体管的发射极电阻 $R_E$ 被意外短路。计算实际的、有故障的输出电流 $I_{OUT,faulty}$ 与预期的设计电流 $I_{OUT,design}$ 之比。\n\n将您的答案表示为一个数值，四舍五入到三位有效数字。", "solution": "对于工作在正向有源区且具有高电流增益的 BJT，其关键的器件关系是集电极电流的二极管方程：\n$$\nI_{C} = I_{S} \\exp\\!\\left(\\frac{V_{BE}}{V_{T}}\\right),\n$$\n其中 $I_{S}$ 是饱和电流，$V_{T}$ 是热电压。当 $\\beta \\gg 1$ 时，我们取 $I_{C} \\approx I_{E}$。\n\n在 Widlar 电流源中，两个匹配的晶体管共享同一个基极节点。参考晶体管（无发射极负反馈）被强制承载参考电流 $I_{REF}$，该电流通过以下方式设定其基极-发射极电压 $V_{BE,ref}$：\n$$\nI_{REF} = I_{S} \\exp\\!\\left(\\frac{V_{BE,ref}}{V_{T}}\\right).\n$$\n输出晶体管通常包含一个发射极电阻 $R_{E}$，该电阻相对于参考晶体管降低了其有效 $V_{BE}$，从而减小了其电流，实现了 $I_{OUT,design} \\ll I_{REF}$。\n\n如果输出晶体管的发射极电阻被短路，那么 $R_{E} \\to 0$，两个晶体管变得完全相同，具有相同的 $V_{BE}$（它们共享同一个基极，并且在 $R_E=0$ 的情况下，发射极处于相同电位）。因此，\n$$\nV_{BE,out} = V_{BE,ref}\n\\quad\\Rightarrow\\quad\nI_{OUT,faulty} = I_{S} \\exp\\!\\left(\\frac{V_{BE,out}}{V_{T}}\\right) = I_{S} \\exp\\!\\left(\\frac{V_{BE,ref}}{V_{T}}\\right) = I_{REF}.\n$$\n所以，有故障的输出电流与预期的设计电流之比为\n$$\n\\frac{I_{OUT,faulty}}{I_{OUT,design}} = \\frac{I_{REF}}{I_{OUT,design}}.\n$$\n代入给定的数值，\n$$\n\\frac{I_{OUT,faulty}}{I_{OUT,design}} = \\frac{1.20 \\times 10^{-3}}{15.0 \\times 10^{-6}} = \\frac{1.20}{15.0} \\times 10^{3} = 0.08 \\times 10^{3} = 80.0,\n$$\n四舍五入到三位有效数字。", "answer": "$$\\boxed{80.0}$$", "id": "1341633"}, {"introduction": "在真实的工程场景中，我们经常需要从不符合预期的测量结果出发，反向推导出电路中的问题所在。这个问题模拟了一个典型的实验室故障排查情景：一个维德拉电流源原型的输出电流远低于设计值。你需要系统地分析各个元件参数变化对输出电流的影响，并最终确定最可能导致这一问题的故障元件，从而锻炼你的实践诊断和解决问题的能力。[@problem_id:1341621]", "problem": "一名电子专业的学生正在搭建一个 Widlar 电流源，这是一种设计用于产生稳定的小输出电流的电路。该设计使用两个匹配的双极结型晶体管 (BJT)，$Q_1$ 和 $Q_2$。该电路由电源电压 $V_{CC} = 12\\,\\text{V}$ 供电。参考电流由一个阻值为 $R_1 = 22\\,\\text{k}\\Omega$ 的电阻设定，该电阻连接在 $V_{CC}$ 和二极管接法的晶体管 $Q_1$ 的集电极之间。输出电流 $I_{OUT}$ 是 $Q_2$ 的集电极电流，$Q_2$ 的发射极上接有一个电阻 $R_2 = 1.0\\,\\text{k}\\Omega$。\n\n设计目标是产生一个稳定的微安级别的电流。在测试原型时，该学生测得输出电流为 $I_{OUT} = 18\\,\\mu\\text{A}$，这远低于预期的设计值。该学生怀疑某个元件的安装值不正确，并考虑了以下几种可能性。\n\n在所有计算中，为计算参考电流，假设参考晶体管的基极-发射极电压恒定为 $V_{BE1} = 0.7\\,\\text{V}$。热电压为 $V_T = 25\\,\\text{mV}$，且基极电流可忽略不计。\n\n以下哪种单一元件故障可以解释这一测量结果？\n\nA. 电阻 $R_1$ 被错误地替换为 $33\\,\\text{k}\\Omega$ 的电阻。\n\nB. 电阻 $R_1$ 被错误地替换为 $15\\,\\text{k}\\Omega$ 的电阻。\n\nC. 电阻 $R_2$ 被错误地替换为 $4.7\\,\\text{k}\\Omega$ 的电阻。\n\nD. 电阻 $R_2$ 被错误地替换为 $470\\,\\Omega$ 的电阻。\n\nE. 电源电压 $V_{CC}$ 漂移下降至 $10\\,\\text{V}$。", "solution": "问题要求我们确定在 Widlar 电流源中，给出的哪种单一元件故障会导致输出电流为 $I_{OUT} = 18\\,\\mu\\text{A}$。为此，我们首先分析预期的电路，然后评估每种所提出的故障的影响。\n\nWidlar 电流源的核心方程通过发射极电阻 $R_2$ 和热电压 $V_T$ 将参考电流 ($I_{REF}$) 和输出电流 ($I_{OUT}$) 联系起来。参考晶体管 $Q_1$ 和输出晶体管 $Q_2$ 是匹配的。通过 $Q_1$ 和 $Q_2$ 的基极-发射极结的基尔霍夫电压定律 (KVL) 回路可得：\n$V_{BE1} = V_{BE2} + I_{E2}R_2$\n\n假设晶体管具有高 β 值，发射极电流 $I_{E2}$ 近似等于集电极电流 $I_{C2}$，也就是输出电流 $I_{OUT}$。\n$I_{E2} \\approx I_{OUT}$\n所以，$V_{BE1} - V_{BE2} = I_{OUT}R_2$。\n\n基极-发射极电压通过二极管方程与集电极电流相关：\n$V_{BE} = V_T \\ln\\left(\\frac{I_C}{I_S}\\right)$，其中 $I_S$ 是饱和电流。\n对于两个匹配的晶体管，$I_S$ 是相同的。因此：\n$V_{BE1} - V_{BE2} = V_T \\ln\\left(\\frac{I_{C1}}{I_S}\\right) - V_T \\ln\\left(\\frac{I_{C2}}{I_S}\\right) = V_T \\ln\\left(\\frac{I_{C1}}{I_{C2}}\\right)$\n\n由于 $Q_1$ 是二极管接法，其集电极电流 $I_{C1}$ 近似等于参考电流 $I_{REF}$（忽略微小的基极电流）。\n$I_{C1} \\approx I_{REF}$\n并且 $I_{C2} = I_{OUT}$。\n结合这些方程可得到基本的 Widlar 电流源方程：\n$I_{OUT}R_2 = V_T \\ln\\left(\\frac{I_{REF}}{I_{OUT}}\\right)$\n\n参考电流 $I_{REF}$ 由电源电压 $V_{CC}$ 和电阻 $R_1$ 设定。\n$I_{REF} = \\frac{V_{CC} - V_{BE1}}{R_1}$\n\n首先，我们计算原始设计的预期 $I_{REF}$。\n已知：$V_{CC} = 12\\,\\text{V}$，$R_1 = 22\\,\\text{k}\\Omega$，$V_{BE1} = 0.7\\,\\text{V}$。\n$I_{REF} = \\frac{12\\,\\text{V} - 0.7\\,\\text{V}}{22\\,\\text{k}\\Omega} = \\frac{11.3\\,\\text{V}}{22 \\times 10^3\\,\\Omega} \\approx 0.5136\\,\\text{mA}$\n\n现在，我们评估每个选项，看哪一个能产生 $I_{OUT} = 18\\,\\mu\\text{A}$。\n\n**A. 电阻 $R_1$ 被错误地替换为 $33\\,\\text{k}\\Omega$ 的电阻。**\n如果 $R_1 = 33\\,\\text{k}\\Omega$，参考电流会改变。其他参数（$R_2 = 1.0\\,\\text{k}\\Omega$，$V_{CC}=12\\,\\text{V}$）与设计值相同。\n新的参考电流：$I_{REF}' = \\frac{12\\,\\text{V} - 0.7\\,\\text{V}}{33\\,\\text{k}\\Omega} = \\frac{11.3\\,\\text{V}}{33 \\times 10^3\\,\\Omega} \\approx 0.3424\\,\\text{mA}$。\n我们现在使用 Widlar 方程求解由此产生的 $I_{OUT}'$：\n$I_{OUT}' \\cdot (1.0\\,\\text{k}\\Omega) = (25\\,\\text{mV}) \\ln\\left(\\frac{0.3424\\,\\text{mA}}{I_{OUT}'}\\right)$\n我们可以检验 $I_{OUT}' = 18\\,\\mu\\text{A}$ 是否满足此方程。\nLHS = $(18 \\times 10^{-6}\\,\\text{A}) \\cdot (1000\\,\\Omega) = 18\\,\\text{mV}$。\nRHS = $(25\\,\\text{mV}) \\ln\\left(\\frac{0.3424 \\times 10^{-3}\\,\\text{A}}{18 \\times 10^{-6}\\,\\text{A}}\\right) = (25\\,\\text{mV}) \\ln(19.02) \\approx (25\\,\\text{mV}) \\cdot 2.946 = 73.6\\,\\text{mV}$。\nLHS ($18\\,\\text{mV}$) $\\neq$ RHS ($73.6\\,\\text{mV}$)。所以，这个故障不能解释测量结果。\n\n**B. 电阻 $R_1$ 被错误地替换为 $15\\,\\text{k}\\Omega$ 的电阻。**\n$R_1$ 的减小会增加 $I_{REF}$，进而增加 $I_{OUT}$。这与观测到的效应（电流低于预期）相反，所以这个选项不正确。\n\n**C. 电阻 $R_2$ 被错误地替换为 $4.7\\,\\text{k}\\Omega$ 的电阻。**\n在这种情况下，$R_2 = 4.7\\,\\text{k}\\Omega$。参考电流是原始设计值，$I_{REF} = 0.5136\\,\\text{mA}$。\n我们必须检查这个故障是否会导致 $I_{OUT} = 18\\,\\mu\\text{A}$。\n方程为：$(18\\,\\mu\\text{A}) \\cdot R_2' = (25\\,\\text{mV}) \\ln\\left(\\frac{0.5136\\,\\text{mA}}{18\\,\\mu\\text{A}}\\right)$。让我们检查等式是否成立：\nLHS = $(18 \\times 10^{-6}\\,\\text{A}) \\cdot (4.7 \\times 10^3\\,\\Omega) = 84.6\\,\\text{mV}$。\nRHS = $(25\\,\\text{mV}) \\ln\\left(\\frac{0.5136 \\times 10^{-3}\\,\\text{A}}{18 \\times 10^{-6}\\,\\text{A}}\\right) = (25\\,\\text{mV}) \\ln(28.53) \\approx (25\\,\\text{mV}) \\cdot 3.351 = 83.8\\,\\text{mV}$。\nLHS ($84.6\\,\\text{mV}$) 与 RHS ($83.8\\,\\text{mV}$) 非常接近。微小的差异是由于计算中的四舍五入和简化模型造成的。这是一个非常强的匹配。\n\n**D. 电阻 $R_2$ 被错误地替换为 $470\\,\\Omega$ 的电阻。**\n$R_2$ 的减小会增加 $I_{OUT}$ 以维持 Widlar 方程的平衡。这与观测到的效应相反，所以这个选项不正确。\n\n**E. 电源电压 $V_{CC}$ 漂移下降至 $10\\,\\text{V}$。**\n如果 $V_{CC} = 10\\,\\text{V}$，参考电流会改变。电阻器处于其设计值（$R_1 = 22\\,\\text{k}\\Omega$，$R_2=1.0\\,\\text{k}\\Omega$）。\n新的参考电流：$I_{REF}'' = \\frac{10\\,\\text{V} - 0.7\\,\\text{V}}{22\\,\\text{k}\\Omega} = \\frac{9.3\\,\\text{V}}{22 \\times 10^3\\,\\Omega} \\approx 0.4227\\,\\text{mA}$。\n我们测试这是否会导致 $I_{OUT} = 18\\,\\mu\\text{A}$。\nLHS = $(18 \\times 10^{-6}\\,\\text{A}) \\cdot (1000\\,\\Omega) = 18\\,\\text{mV}$。\nRHS = $(25\\,\\text{mV}) \\ln\\left(\\frac{0.4227 \\times 10^{-3}\\,\\text{A}}{18 \\times 10^{-6}\\,\\text{A}}\\right) = (25\\,\\text{mV}) \\ln(23.48) \\approx (25\\,\\text{mV}) \\cdot 3.156 = 78.9\\,\\text{mV}$。\nLHS ($18\\,\\text{mV}$) $\\neq$ RHS ($78.9\\,\\text{mV}$)。所以，这个故障不能解释测量结果。\n\n根据计算，唯一能从数量上解释测得的 $18\\,\\mu\\text{A}$ 输出电流的故障是为 $R_2$ 错误地安装了 $4.7\\,\\text{k}\\Omega$ 的电阻。", "answer": "$$\\boxed{C}$$", "id": "1341621"}]}