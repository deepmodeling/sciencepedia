{"hands_on_practices": [{"introduction": "在分析放大器的交流（小信号）特性之前，首要任务是确定电路的直流工作点，也称为静态工作点。这个练习将指导你计算一个典型的两级NMOS放大器的静态偏置条件，这是一个由共源级和源极跟随器组成的直接耦合电路。掌握这种直流分析是进行任何后续小信号分析的基础 [@problem_id:1319754]。", "problem": "一个两级放大器由两个相同的N沟道金属氧化物半导体（NMOS）晶体管M1和M2构成。本题分析该放大器的直流静态工作点。\n\n第一级是使用晶体管M1的共源放大器。M1的栅极连接到一个提供 $V_G = 1.30$ V 的直流偏置电压源。M1的源极接地。M1的漏极通过一个电阻 $R_{D1} = 5.00$ k$\\Omega$ 连接到正电源 $V_{DD} = 5.00$ V。\n\n第二级是使用晶体管M2的源极跟随器。其栅极与M1的漏极直接耦合。M2的漏极直接连接到电源 $V_{DD}$。M2的源极通过一个电阻 $R_{S2} = 2.00$ k$\\Omega$ 接地。\n\n两个晶体管是相同的，其特性为阈值电压 $V_{tn} = 0.800$ V 和跨导参数 $k_n = 2.00 \\text{ mA/V}^2$。在此直流分析中，假设两个晶体管都工作在饱和区，并且沟道长度调制效应可以忽略不计（即 $\\lambda = 0$）。\n\n确定两个晶体管的静态直流工作点。具体来说，计算晶体管M1的漏极电流（$I_{D1}$）和漏源电压（$V_{DS1}$），以及晶体管M2的漏极电流（$I_{D2}$）和漏源电压（$V_{DS2}$）。\n\n请以毫安（mA）为单位给出电流 $I_{D1}$ 和 $I_{D2}$ 的答案，以伏特（V）为单位给出电压 $V_{DS1}$ 和 $V_{DS2}$ 的答案。所有四个数值必须四舍五入到三位有效数字。", "solution": "对于沟道长度调制效应可忽略不计且工作在饱和区的长沟道NMOS晶体管，其漏极电流由下式给出\n$$\nI_{D}=\\frac{1}{2}k_{n}\\left(V_{GS}-V_{tn}\\right)^{2},\n$$\n条件是 $V_{DS}\\geq V_{GS}-V_{tn}$。\n\n晶体管M1（共源极）：源极接地，所以 $V_{GS1}=V_{G}-0=1.30\\,\\text{V}$。过驱动电压为 $V_{OV1}=V_{GS1}-V_{tn}=1.30-0.800=0.500\\,\\text{V}$。因此\n$$\nI_{D1}=\\frac{1}{2}k_{n}V_{OV1}^{2}=\\frac{1}{2}\\left(2.00\\,\\text{mA/V}^{2}\\right)\\left(0.500\\,\\text{V}\\right)^{2}=0.250\\,\\text{mA}.\n$$\n漏极电压由电阻 $R_{D1}$ 设定：\n$$\nV_{D1}=V_{DD}-I_{D1}R_{D1}=5.00\\,\\text{V}-\\left(0.250\\,\\text{mA}\\right)\\left(5.00\\,\\text{k}\\Omega\\right)=3.75\\,\\text{V},\n$$\n其中电流单位为mA，电阻单位为kΩ，电压单位为V。因此\n$$\nV_{DS1}=V_{D1}-V_{S1}=3.75\\,\\text{V}-0\\,\\text{V}=3.75\\,\\text{V}.\n$$\n饱和条件 $V_{DS1}\\geq V_{OV1}$ 得到满足，因为 $3.75\\,\\text{V}\\geq 0.500\\,\\text{V}$。\n\n晶体管M2（源极跟随器）：其栅极与 $V_{D1}$ 相连，所以 $V_{G2}=3.75\\,\\text{V}$。设 $V_{S2}$ 表示源极电压，$I_{D2}$ 表示漏极电流。根据通过 $R_{S2}$ 的欧姆定律，\n$$\nI_{D2}=\\frac{V_{S2}}{R_{S2}}.\n$$\n假设工作在饱和区，电流还满足\n$$\nI_{D2}=\\frac{1}{2}k_{n}\\left(V_{G2}-V_{S2}-V_{tn}\\right)^{2}.\n$$\n使用 $V_{S2}=R_{S2}I_{D2}$ 消去 $V_{S2}$ 得到\n$$\nI_{D2}=\\frac{1}{2}k_{n}\\left(V_{G2}-R_{S2}I_{D2}-V_{tn}\\right)^{2}.\n$$\n代入 $k_{n}=2.00\\,\\text{mA/V}^{2}$、$R_{S2}=2.00\\,k\\Omega$、$V_{G2}=3.75\\,\\text{V}$ 和 $V_{tn}=0.800\\,\\text{V}$：\n$$\nI_{D2}=1.00\\left(3.75-2.00I_{D2}-0.800\\right)^{2}=\\left(2.95-2.00I_{D2}\\right)^{2}.\n$$\n展开并合并同类项：\n$$\nI_{D2}=8.7025-11.8I_{D2}+4I_{D2}^{2}\\;\\Rightarrow\\;4I_{D2}^{2}-12.8I_{D2}+8.7025=0.\n$$\n解这个二次方程得到\n$$\nI_{D2}=\\frac{12.8\\pm\\sqrt{12.8^{2}-4\\cdot 4\\cdot 8.7025}}{8}=\\frac{12.8\\pm\\sqrt{24.6}}{8}.\n$$\n两个根分别约等于 $2.220\\,\\text{mA}$ 和 $0.980\\,\\text{mA}$。较大的根将意味着 $V_{S2}=R_{S2}I_{D2}\\approx 4.44\\,\\text{V}$，这导致 $V_{GS2}=V_{G2}-V_{S2}\\approx 3.75-4.44=-0.69\\,\\text{V}$。该值小于阈值电压 $V_{tn}$，与导通的假设相矛盾；因此它是不符合物理实际的。所以，\n$$\nI_{D2}\\approx 0.980\\,\\text{mA},\\quad V_{S2}=R_{S2}I_{D2}\\approx 2.00\\,\\text{k}\\Omega \\times 0.980\\,\\text{mA}=1.96\\,\\text{V}.\n$$\n那么\n$$\nV_{DS2}=V_{D2}-V_{S2}=V_{DD}-V_{S2}=5.00\\,\\text{V}-1.96\\,\\text{V}=3.04\\,\\text{V},\n$$\n并且饱和条件 $V_{DS2}\\geq V_{GS2}-V_{tn}$ 得到满足。因为 $V_{GS2}=V_{G2}-V_{S2}=3.75\\,\\text{V}-1.96\\,\\text{V}=1.79\\,\\text{V}$，所以过驱动电压为 $V_{GS2}-V_{tn}=0.99\\,\\text{V}$。由于 $V_{DS2}=3.04\\,\\text{V}$，该条件 $3.04\\,\\text{V} \\geq 0.99\\,\\text{V}$ 成立。\n\n四舍五入到三位有效数字：\n- $I_{D1}=0.250\\,\\text{mA}$, $V_{DS1}=3.75\\,\\text{V}$,\n- $I_{D2}=0.980\\,\\text{mA}$, $V_{DS2}=3.04\\,\\text{V}$.", "answer": "$$\\boxed{\\begin{pmatrix}0.250  3.75  0.980  3.04\\end{pmatrix}}$$", "id": "1319754"}, {"introduction": "设计多级放大器时的一个核心挑战是“负载效应”，即后一级放大器的输入阻抗会影响前一级的增益。本练习采用模块化的视角，将每一级放大器视为具有特定输入电阻、输出电阻和空载增益的“黑盒”，从而计算整个级联系统的总电压增益。通过这个练习，你将学会如何量化和处理级间负载效应，这是多级放大器分析的关键 [@problem_id:1319765]。", "problem": "一位电子工程师正在为一个传感器设计一个信号调理电路。该设计由两个级联的电压放大级组成，用于将传感器连接到数据采集系统。\n\n传感器作为一个信号源，其开路电压为 $v_s$，内阻为 $R_s = 50.0 \\text{ k}\\Omega$。\n\n第一个放大级（第1级）的特性参数为其空载电压增益 $A_{v1,NL} = 0.980$，输入电阻 $R_{in1} = 2.00 \\text{ M}\\Omega$，以及输出电阻 $R_{out1} = 100 \\text{ }\\Omega$。\n\n第二个放大级（第2级）的特性参数为其空载电压增益 $A_{v2,NL} = -150$，输入电阻 $R_{in2} = 5.00 \\text{ k}\\Omega$，以及输出电阻 $R_{out2} = 2.50 \\text{ k}\\Omega$。\n\n信号源连接到第1级的输入端。第1级的输出端连接到第2级的输入端。第2级的输出端连接到数据采集系统，该系统被建模为一个简单的负载电阻 $R_L = 10.0 \\text{ k}\\Omega$。\n\n计算整个级联系统的总电压增益 $A_v = v_L / v_s$，其中 $v_L$ 是负载电阻 $R_L$ 两端的电压。将答案表示为一个无量纲比值，并四舍五入到三位有效数字。", "solution": "将每一级建模为一个单向电压放大器，其输入电阻为 $R_{in}$，空载电压增益为 $A_{v,NL}$，输出电阻为 $R_{out}$。负载效应通过每个接口处的简单分压来处理。\n\n信号源 $v_{s}$ 通过其串联电阻 $R_{s}$ 驱动第1级的输入端 $R_{in1}$，因此第1级的输入电压为\n$$\nv_{1,in} = v_{s}\\frac{R_{in1}}{R_{s}+R_{in1}}.\n$$\n第1级产生一个开路输出 $A_{v1,NL}v_{1,in}$，该输出通过第1级的输出电阻 $R_{out1}$ 被第2级的输入电阻 $R_{in2}$ 所负载。因此，第1级的输出（也是第2级的输入）为\n$$\nv_{1,out} = A_{v1,NL}v_{1,in}\\frac{R_{in2}}{R_{out1}+R_{in2}}.\n$$\n第2级产生一个开路输出 $A_{v2,NL}v_{1,out}$，该输出通过 $R_{out2}$ 被 $R_{L}$ 所负载，得到的负载电压为\n$$\nv_{L} = A_{v2,NL}v_{1,out}\\frac{R_{L}}{R_{out2}+R_{L}}.\n$$\n因此，总电压增益为\n$$\nA_{v} \\equiv \\frac{v_{L}}{v_{s}} = \\frac{R_{in1}}{R_{s}+R_{in1}}\\cdot A_{v1,NL}\\cdot \\frac{R_{in2}}{R_{out1}+R_{in2}}\\cdot A_{v2,NL}\\cdot \\frac{R_{L}}{R_{out2}+R_{L}}.\n$$\n代入给定值，为保持单位一致，将所有电阻值转换为欧姆：\n$$\n\\frac{R_{in1}}{R_{s}+R_{in1}}=\\frac{2.00\\times 10^{6}}{50.0\\times 10^{3}+2.00\\times 10^{6}}=\\frac{40}{41},\\quad\nA_{v1,NL}=0.980=\\frac{49}{50},\n$$\n$$\n\\frac{R_{in2}}{R_{out1}+R_{in2}}=\\frac{5.00\\times 10^{3}}{100+5.00\\times 10^{3}}=\\frac{50}{51},\\quad\nA_{v2,NL}=-150,\n$$\n$$\n\\frac{R_{L}}{R_{out2}+R_{L}}=\\frac{10.0\\times 10^{3}}{2.50\\times 10^{3}+10.0\\times 10^{3}}=\\frac{4}{5}.\n$$\n因此\n$$\nA_{v}=\\left(\\frac{40}{41}\\right)\\left(\\frac{49}{50}\\right)\\left(\\frac{50}{51}\\right)(-150)\\left(\\frac{4}{5}\\right)\n= \\left(\\frac{40}{41}\\right)\\left(\\frac{49}{51}\\right)(-120)\n= -\\frac{235200}{2091}.\n$$\n数值上，$A_{v}\\approx -112.482\\ldots$，四舍五入到三位有效数字后是 $-112$。", "answer": "$$\\boxed{-112}$$", "id": "1319765"}, {"introduction": "理想放大器是完全线性的，但实际放大器总会引入非线性失真，这在通信等高精度应用中是关键的性能瓶颈。这个高级练习将探讨如何分析一个两级放大器中产生的非线性失真，特别是三阶互调（IMD3）产物。通过对每一级的非线性特性进行建模，你将学会如何计算整个系统的输入三阶截断点（$A_{IIP3}$），这是一个衡量放大器线性度的重要指标 [@problem_id:1319779]。", "problem": "一位工程师正在为无线通信系统设计一个两级 BiCMOS（双极-互补金属氧化物半导体）放大器。第一级是 MOS（金属氧化物半导体）共源放大器，第二级是 BJT（双极结型晶体管）共射放大器。为了分析放大器的线性度，每个级都被建模为其输入电压 ($v_{in}$) 和输出电流 ($i_{out}$) 之间的弱非线性跨导关系。由于使用了差分电路拓扑，二阶失真项被假定为可以忽略不计。\n\nMOS 第一级的跨导由下式给出：\n$$i_{out,1} = g_{m1}v_{in,1} + g_{m3}v_{in,1}^3$$\nBJT 第二级的跨导为：\n$$i_{out,2} = g_{M1}v_{in,2} + g_{M3}v_{in,2}^3$$\n\n第一级的输出耦合到第二级的输入。第一级驱动一个负载电阻 $R_{L1}$，第二级驱动一个负载电阻 $R_{L2}$。电路参数如下：\n- 第一级跨导系数：$g_{m1} = 5.00 \\times 10^{-3} \\text{ A/V}$，$g_{m3} = -0.800 \\text{ A/V}^3$。\n- 第二级跨导系数：$g_{M1} = 50.0 \\times 10^{-3} \\text{ A/V}$，$g_{M3} = -200 \\text{ A/V}^3$。\n- 负载电阻：$R_{L1} = 400 \\text{ }\\Omega$，$R_{L2} = 500 \\text{ }\\Omega$。\n\n放大器的线性度通常用其输入参考三阶交调截取点幅度 ($A_{IIP3}$) 来表征。这被定义为双音测试信号的输入音调幅度，在该幅度下，基波输出信号的外推幅度等于三阶互调 (IMD3) 产物的外推幅度。\n\n假设两级的非线性同相相加，计算该两级放大器的总体 $A_{IIP3}$。以伏特为单位表示您的答案，并四舍五入到三位有效数字。", "solution": "设第一级的输入为 $x \\equiv v_{in,1}$。第一级在 $R_{L1}$ 上的输出电压，也就是第二级的输入，为\n$$\nv_{in,2}=v_{out,1}=R_{L1}\\left(g_{m1}x+g_{m3}x^{3}\\right)=b_{1}x+b_{3}x^{3},\n$$\n其中 $b_{1}=R_{L1}g_{m1}$ 且 $b_{3}=R_{L1}g_{m3}$。\n\n第二级的输出电流为\n$$\ni_{out,2}=g_{M1}v_{in,2}+g_{M3}v_{in,2}^{3}=g_{M1}(b_{1}x+b_{3}x^{3})+g_{M3}(b_{1}x+b_{3}x^{3})^{3}.\n$$\n保留至三阶项，\n$$\ni_{out,2}\\approx g_{M1}b_{1}x+\\left(g_{M1}b_{3}+g_{M3}b_{1}^{3}\\right)x^{3}.\n$$\n在 $R_{L2}$ 上的最终输出电压为\n$$\ny\\equiv v_{out,2}=R_{L2}i_{out,2}\\approx a_{1}x+a_{3}x^{3},\n$$\n其有效系数为\n$$\na_{1}=R_{L2}g_{M1}b_{1}=R_{L2}g_{M1}R_{L1}g_{m1},\n$$\n$$\na_{3}=R_{L2}\\left(g_{M1}b_{3}+g_{M3}b_{1}^{3}\\right)=R_{L2}\\left(g_{M1}R_{L1}g_{m3}+g_{M3}(R_{L1}g_{m1})^{3}\\right).\n$$\n\n对于由双音输入 $x(t)=A\\cos\\omega_{1}t+A\\cos\\omega_{2}t$ 激励的无记忆三次非线性 $y=a_{1}x+a_{3}x^{3}$，每个三阶互调产物的幅度为 $(3/4)|a_{3}|A^{3}$，而外推的基波输出幅度为 $|a_{1}|A$。因此，输入参考三阶交调截取点幅度为\n$$\nA_{IIP3}=\\sqrt{\\frac{4}{3}\\left|\\frac{a_{1}}{a_{3}}\\right|}.\n$$\n\n代入给定值：\n- $g_{m1}=5.00\\times 10^{-3}\\,\\text{A/V}$，$g_{m3}=-0.800\\,\\text{A/V}^{3}$，\n- $g_{M1}=50.0\\times 10^{-3}\\,\\text{A/V}$，$g_{M3}=-200\\,\\text{A/V}^{3}$，\n- $R_{L1}=400\\,\\Omega$，$R_{L2}=500\\,\\Omega$。\n\n计算\n$$\nb_{1}=R_{L1}g_{m1}=400\\cdot 5.00\\times 10^{-3}=2,\n\\quad\nb_{3}=R_{L1}g_{m3}=400\\cdot(-0.800)=-320,\n$$\n$$\na_{1}=R_{L2}g_{M1}b_{1}=500\\cdot 50.0\\times 10^{-3}\\cdot 2=50,\n$$\n$$\na_{3}=R_{L2}\\left(g_{M1}b_{3}+g_{M3}b_{1}^{3}\\right)\n=500\\left(0.050\\cdot(-320)+(-200)\\cdot 8\\right)=500(-16-1600)=-808000.\n$$\n因此\n$$\nA_{IIP3}=\\sqrt{\\frac{4}{3}\\cdot\\frac{50}{808000}}=\\sqrt{\\frac{1}{12120}}\\approx 9.082\\times 10^{-3}\\,\\text{V}.\n$$\n四舍五入到三位有效数字，结果为 $0.00908$ 伏特。", "answer": "$$\\boxed{0.00908}$$", "id": "1319779"}]}