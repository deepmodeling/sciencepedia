{"hands_on_practices": [{"introduction": "状态变量滤波器的一个迷人之处在于其结构的高度灵活性。通过调整反馈路径，我们可以精确地控制滤波器的品质因数$Q$，从而控制其极点位置。这个练习将带你探索一个临界情况：当我们将极点恰好放置在虚轴上时，系统会发生什么？这不仅是理解滤波器稳定性的关键，也是设计正弦波振荡器的基本原理。[@problem_id:1334688]", "problem": "一个用作稳定正弦波发生器的模拟电路采用状态变量拓扑结构，由三个理想运算放大器（op-amps）构成。该电路由两个相同的反相积分器级和一个反相加法放大器级组成，并连接成一个闭环。\n\n其配置如下：\n- 加法放大器的输出表示为 $V_1$。\n- 第一个积分器的输入为 $V_1$，其输出为 $V_2$。\n- 第二个积分器的输入为 $V_2$，其输出为 $V_3$。\n- 输出 $V_2$ 和 $V_3$ 都作为输入反馈到加法放大器以生成 $V_1$ 并闭合回路。\n\n元件详情：\n- 每个反相积分器由一个输入电阻 $R$ 和一个反馈电容 $C$ 构成。\n- 反相加法放大器的构造如下：信号 $V_2$ 通过电阻 $R_Q$ 连接到其反相输入端，信号 $V_3$ 通过电阻 $R_F$ 连接到其反相输入端。该加法放大器的反馈电阻也是 $R_F$。\n\n通过调节电阻 $R_Q$ 的值，该电路被调谐以产生持续稳定的正弦振荡。当满足此条件时，系统特征方程的极点正好位于复s平面的虚轴上。\n\n确定此持续振荡的角频率 $\\omega$。用 $R$、$C$ 和 $R_F$ 表示您的答案为符号表达式。", "solution": "我们在拉普拉斯域中使用理想运算放大器关系对每个模块进行建模。对于一个输入电阻为 $R$、反馈电容为 $C$ 的反相积分器，其传递函数为 $V_{\\text{out}}(s) = -\\frac{1}{R C s} V_{\\text{in}}(s)$。将此应用于级联积分器可得\n$$\nV_{2}(s) = -\\frac{1}{R C s} V_{1}(s), \\quad V_{3}(s) = -\\frac{1}{R C s} V_{2}(s) = \\frac{1}{(R C s)^{2}} V_{1}(s).\n$$\n反馈电阻为 $R_{F}$，输入 $V_{2}$ 通过 $R_{Q}$ 连接，输入 $V_{3}$ 通过 $R_{F}$ 连接的反相加法放大器给出\n$$\nV_{1}(s) = -\\frac{R_{F}}{R_{Q}} V_{2}(s) - \\frac{R_{F}}{R_{F}} V_{3}(s) = -\\frac{R_{F}}{R_{Q}} V_{2}(s) - V_{3}(s).\n$$\n将 $V_{2}(s)$ 和 $V_{3}(s)$ 用 $V_{1}(s)$ 表示代入，\n$$\nV_{1}(s) = -\\frac{R_{F}}{R_{Q}}\\left(-\\frac{1}{R C s} V_{1}(s)\\right) - \\frac{1}{(R C s)^{2}} V_{1}(s),\n$$\n化简（两边同除以 $V_{1}(s)$ 并乘以 $(R C s)^{2}$）得到特征方程\n$$\n(R C)^{2} s^{2} - \\frac{R_{F}}{R_{Q}} (R C) s + 1 = 0,\n$$\n或等价地\n$$\ns^{2} - \\frac{R_{F}}{R_{Q} R C} s + \\frac{1}{(R C)^{2}} = 0.\n$$\n为了获得持续的正弦振荡，极点必须位于虚轴上，这对于一个二次多项式来说，要求 $s$ 项的系数为零。因此，调谐条件是 $\\frac{R_{F}}{R_{Q} R C} = 0$，对应于理想化的 $R_{Q} \\to \\infty$。在此条件下，特征方程简化为\n$$\ns^{2} + \\frac{1}{(R C)^{2}} = 0,\n$$\n其根为 $s = \\pm j \\frac{1}{R C}$。因此，持续振荡的角频率为\n$$\n\\omega = \\frac{1}{R C}.\n$$\n在振荡条件下，此结果与 $R_{F}$ 和 $R_{Q}$ 无关。", "answer": "$$\\boxed{\\frac{1}{R C}}$$", "id": "1334688"}, {"introduction": "在掌握了如何通过反馈控制系统稳定性后，我们来探讨一个实际电路中可能出现的意外情况。如果反馈信号接错了会怎么样？这个练习模拟了一个常见的接线错误，旨在加深你对反馈拓扑决定系统行为的理解。通过分析这个“意外”电路的传递函数，你会更深刻地体会到为什么正确的信号路径对于实现预期的滤波功能至关重要。[@problem_id:1334698]", "problem": "一个模拟滤波器电路由一个求和节点和两个相同的级联反相积分器构成，这是有源滤波器的常见架构。\n\n该系统在拉普拉斯域中由以下关系描述：\n1.  求和节点根据关系式 $V_{HP}(s) = V_{in}(s) - V_{LP}(s) + G_Q V_{Q\\_FB}(s)$ 产生高通输出电压 $V_{HP}(s)$。其中，$V_{in}(s)$ 是输入信号，$V_{LP}(s)$ 是滤波器的低通输出，$G_Q$ 是一个用于设定滤波器品质因数的正实数增益常数，$V_{Q\\_FB}(s)$ 是来自品质因数反馈路径的电压。\n2.  第一个积分器将 $V_{HP}(s)$ 作为其输入，并产生带通输出 $V_{BP}(s)$。\n3.  第二个积分器将 $V_{BP}(s)$ 作为其输入，并产生低通输出 $V_{LP}(s)$。\n4.  两个积分器是相同的，每个的传递函数均为 $-\\frac{1}{s\\tau}$，其中 $\\tau$ 是由积分器元件决定的正实数时间常数。\n\n在电路组装过程中，发生了一个接线错误。品质因数反馈路径本应连接到带通输出，使得 $V_{Q\\_FB}(s) = V_{BP}(s)$，但却被意外地连接到了低通输出，导致连接变为 $V_{Q\\_FB}(s) = V_{LP}(s)$。\n\n考虑到这个接线错误，请确定低通输出的传递函数 $H_{LP}(s) = \\frac{V_{LP}(s)}{V_{in}(s)}$。请将您的答案表示为关于 $s$、$\\tau$ 和 $G_Q$ 的单个闭式解析表达式。", "solution": "题目要求计算接线错误的有源滤波器电路的传递函数 $H_{LP}(s) = \\frac{V_{LP}(s)}{V_{in}(s)}$。我们首先写下描述该电路在指定接线错误下行为的方程组。\n\n首先，我们写出求和节点的方程。题目说明品质因数反馈路径被错误地连接到了低通输出，因此我们设 $V_{Q\\_FB}(s) = V_{LP}(s)$。\n因此，求和节点的输出为：\n$$V_{HP}(s) = V_{in}(s) - V_{LP}(s) + G_Q V_{LP}(s)$$\n我们可以合并包含 $V_{LP}(s)$ 的项：\n$$V_{HP}(s) = V_{in}(s) - (1 - G_Q) V_{LP}(s) \\quad (*)$$\n\n接下来，我们写出两个级联积分器的方程。\n第一个积分器的输出是带通信号：\n$$V_{BP}(s) = -\\frac{1}{s\\tau} V_{HP}(s) \\quad (**)$$\n第二个积分器的输出是低通信号：\n$$V_{LP}(s) = -\\frac{1}{s\\tau} V_{BP}(s) \\quad (***)$$\n\n我们的目标是找到 $V_{LP}(s)$ 和 $V_{in}(s)$ 之间的关系。为此，我们需要消去中间变量 $V_{HP}(s)$ 和 $V_{BP}(s)$。\n\n根据方程$(***)$，我们可以用 $V_{LP}(s)$ 表示 $V_{BP}(s)$：\n$$V_{BP}(s) = -s\\tau V_{LP}(s)$$\n现在，将 $V_{BP}(s)$ 的这个表达式代入方程$(**)$，以建立 $V_{HP}(s)$ 与 $V_{LP}(s)$ 的关系：\n$$-s\\tau V_{LP}(s) = -\\frac{1}{s\\tau} V_{HP}(s)$$\n解出 $V_{HP}(s)$：\n$$V_{HP}(s) = (s\\tau)(s\\tau) V_{LP}(s) = s^2 \\tau^2 V_{LP}(s)$$\n\n现在我们得到了一个仅用 $V_{LP}(s)$ 表示 $V_{HP}(s)$ 的表达式。我们可以将其代入求和节点方程$(*)$：\n$$s^2 \\tau^2 V_{LP}(s) = V_{in}(s) - (1 - G_Q) V_{LP}(s)$$\n\n最后一步是整理此方程以求解传递函数 $H_{LP}(s) = \\frac{V_{LP}(s)}{V_{in}(s)}$。我们将所有含 $V_{LP}(s)$ 的项移到左侧：\n$$s^2 \\tau^2 V_{LP}(s) + (1 - G_Q) V_{LP}(s) = V_{in}(s)$$\n提取 $V_{LP}(s)$：\n$$V_{LP}(s) \\left[ s^2 \\tau^2 + 1 - G_Q \\right] = V_{in}(s)$$\n最后，我们两边同时除以 $V_{in}(s)$ 和方括号中的项，得到传递函数：\n$$H_{LP}(s) = \\frac{V_{LP}(s)}{V_{in}(s)} = \\frac{1}{s^2 \\tau^2 + 1 - G_Q}$$\n这就是接线错误的滤波器的传递函数的閉式解析表达式。", "answer": "$$\\boxed{\\frac{1}{s^{2}\\tau^{2} + 1 - G_{Q}}}$$", "id": "1334698"}, {"introduction": "我们已经从频域的角度探讨了极点位置和稳定性，但一个完整的分析也需要我们理解滤波器在时域中的表现。这个练习将理论与实践联系起来，要求你为一个状态变量滤波器计算其对单位阶跃输入的瞬态响应。通过求解描述系统动态的微分方程，你将能够精确预测输出电压随时间变化的具体波形，从而将抽象的极点、$\\omega_0$和$Q$值与可观测的物理行为直接关联起来。[@problem_id:1334679]", "problem": "一个特定的二阶状态变量滤波器用于处理输入电压信号 $v_{in}(t)$。其内部动态可以通过一个具有两个状态变量 $x_1(t)$ 和 $x_2(t)$ 的状态空间模型精确描述。输出的低通滤波电压由 $v_{LP}(t) = x_1(t)$ 给出。该系统由以下耦合线性微分方程组控制：\n$$ \\frac{dx_1}{dt} = x_2(t) $$\n$$ \\frac{dx_2}{dt} = -\\omega_0^2 x_1(t) - \\frac{\\omega_0}{Q} x_2(t) + \\omega_0^2 v_{in}(t) $$\n该滤波器的特征在于自然频率 $\\omega_0 = 100\\sqrt{2}$ rad/s 和品质因数 $Q = 1/\\sqrt{3}$。\n滤波器初始处于静止状态，即 $x_1(0) = 0$ 和 $x_2(0)=0$。在时间 $t=0$ 时，一个单位阶跃电压施加到输入端，使得对于所有 $t \\ge 0$，$v_{in}(t) = 1$ V。\n\n确定当 $t \\ge 0$ 时，低通输出电压 $v_{LP}(t)$ 的表达式。您的答案应该是一个关于时间 $t$ 的单实值解析函数。", "solution": "给定的状态方程为\n$$\\frac{d x_{1}}{dt}=x_{2}(t), \\qquad \\frac{d x_{2}}{dt}=-\\omega_{0}^{2} x_{1}(t)-\\frac{\\omega_{0}}{Q} x_{2}(t)+\\omega_{0}^{2} v_{in}(t),$$\n其中对于 $t\\ge 0$，$v_{in}(t)=1$，初始条件为 $x_{1}(0)=0$, $x_{2}(0)=0$。通过对第一个方程求导并将结果代入第二个方程来消去 $x_{2}$，可以得到关于 $x_{1}(t)$ 的一个二阶常微分方程：\n$$\\frac{d^{2} x_{1}}{dt^{2}}=-\\omega_{0}^{2} x_{1}-\\frac{\\omega_{0}}{Q}\\frac{d x_{1}}{dt}+\\omega_{0}^{2}。$$\n重写为，\n$$\\frac{d^{2} x_{1}}{dt^{2}}+\\frac{\\omega_{0}}{Q}\\frac{d x_{1}}{dt}+\\omega_{0}^{2} x_{1}=\\omega_{0}^{2},$$\n其中 $x_{1}(0)=0$ 且 $\\frac{d x_{1}}{dt}(0)=x_{2}(0)=0$。一个常数特解是 $x_{1,p}=1$。齐次方程\n$$\\frac{d^{2} x_{h}}{dt^{2}}+\\frac{\\omega_{0}}{Q}\\frac{d x_{h}}{dt}+\\omega_{0}^{2} x_{h}=0$$\n的特征根为\n$$r=-\\frac{\\omega_{0}}{2Q}\\pm j\\,\\omega_{d}, \\quad \\omega_{d}=\\omega_{0}\\sqrt{1-\\frac{1}{4Q^{2}}}。$$\n因此\n$$x_{h}(t)=\\exp\\!\\left(-\\frac{\\omega_{0}}{2Q}t\\right)\\left(C\\cos(\\omega_{d} t)+D\\sin(\\omega_{d} t)\\right)。$$\n施加条件 $x_{1}(0)=0$ 得到 $1+x_{h}(0)=0$，所以 $C=-1$。求导得，\n$$\\frac{d x_{h}}{dt}=\\exp\\!\\left(-\\frac{\\omega_{0}}{2Q}t\\right)\\left[-\\frac{\\omega_{0}}{2Q}C\\cos(\\omega_{d} t)-\\frac{\\omega_{0}}{2Q}D\\sin(\\omega_{d} t)-\\omega_{d}C\\sin(\\omega_{d} t)+\\omega_{d}D\\cos(\\omega_{d} t)\\right],$$\n并使用 $\\frac{d x_{1}}{dt}(0)=0$ 得到 $\\frac{d x_{h}}{dt}(0)=0$，因此\n$$-\\frac{\\omega_{0}}{2Q}C+\\omega_{d}D=0 \\;\\Rightarrow\\; D=-\\frac{\\omega_{0}}{2Q\\,\\omega_{d}}。$$\n所以，\n$$x_{1}(t)=1-\\exp\\!\\left(-\\frac{\\omega_{0}}{2Q}t\\right)\\left[\\cos(\\omega_{d} t)+\\frac{\\omega_{0}}{2Q\\,\\omega_{d}}\\sin(\\omega_{d} t)\\right]。$$\n使用给定的参数 $\\omega_{0}=100\\sqrt{2}$ 和 $Q=1/\\sqrt{3}$，我们有\n$$\\frac{\\omega_{0}}{2Q}=50\\sqrt{6}, \\qquad \\omega_{d}=\\omega_{0}\\sqrt{1-\\frac{1}{4Q^{2}}}=50\\sqrt{2}, \\qquad \\frac{\\omega_{0}}{2Q\\,\\omega_{d}}=\\frac{1}{Q}=\\sqrt{3}。$$\n因此，对于 $t\\ge 0$，低通输出 $v_{LP}(t)=x_{1}(t)$ 为\n$$v_{LP}(t)=1-\\exp\\!\\left(-50\\sqrt{6}\\,t\\right)\\left[\\cos\\!\\left(50\\sqrt{2}\\,t\\right)+\\sqrt{3}\\,\\sin\\!\\left(50\\sqrt{2}\\,t\\right)\\right]。$$\n这满足 $v_{LP}(0)=0$、$\\frac{d v_{LP}}{dt}(0)=0$ 和 $\\lim_{t\\to\\infty}v_{LP}(t)=1$，这正是一个单位增益低通滤波器的单位阶跃响应所要求满足的条件。", "answer": "$$\\boxed{1-\\exp\\!\\left(-50\\sqrt{6}\\,t\\right)\\left[\\cos\\!\\left(50\\sqrt{2}\\,t\\right)+\\sqrt{3}\\,\\sin\\!\\left(50\\sqrt{2}\\,t\\right)\\right]}$$", "id": "1334679"}]}