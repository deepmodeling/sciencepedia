{"hands_on_practices": [{"introduction": "理论知识的真正价值在于应用。本节将通过一系列动手实践，带你从基本设计到复杂分析，逐步深化对加法放大器的理解。第一个练习模拟了音频工程师在设计定制混音器时遇到的典型挑战。你需要根据特定的信号加权（增益）和输入阻抗要求，确定电路中各个电阻的精确值 [@problem_id:1340586]。这项任务不仅考验你对加法放大器基本公式的掌握，更重要的是，它训练你在满足多重设计约束的条件下解决实际问题的能力。", "problem": "一位音频工程师正在使用理想运算放大器（op-amp）设计一个定制的前置放大器电路。该电路需要将两个输入电压信号，一个主信号 $V_{in1}$ 和一个辅助信号 $V_{in2}$，组合起来以产生一个单一的输出电压 $V_{out}$。所期望的线性关系由表达式 $V_{out} = -3.0 V_{in1} - 0.5 V_{in2}$ 给出。这是通过一个反相加法放大器拓扑结构实现的，该结构包含输入电阻 $R_1$（对应于 $V_{in1}$）和 $R_2$（对应于 $V_{in2}$），以及一个反馈电阻 $R_f$。\n\n为了与音频链中的其他设备兼容，加法级的总等效输入电阻必须被精确调谐。该等效电阻定义为两个输入电阻 $R_1$ 和 $R_2$ 的并联组合。设计规范要求该等效电阻为 $R_{eq} = 12 \\text{ k}\\Omega$。\n\n根据这些要求，计算反馈电阻 $R_f$ 的必要值。将最终答案以千欧姆（$k\\Omega$）为单位表示，并四舍五入到三位有效数字。", "solution": "对于一个理想的反相加法放大器，根据在反相输入端的虚地和叠加原理，可得\n$$\nV_{out}=-R_{f}\\left(\\frac{V_{in1}}{R_{1}}+\\frac{V_{in2}}{R_{2}}\\right).\n$$\n逐项匹配所需的增益，\n$$\n-\\frac{R_{f}}{R_{1}}=-3.0 \\quad\\Rightarrow\\quad R_{1}=\\frac{R_{f}}{3},\n$$\n$$\n-\\frac{R_{f}}{R_{2}}=-0.5 \\quad\\Rightarrow\\quad R_{2}=2R_{f}.\n$$\n所需的等效输入电阻是并联组合\n$$\nR_{eq}=\\frac{R_{1}R_{2}}{R_{1}+R_{2}}=\\frac{\\left(\\frac{R_{f}}{3}\\right)\\left(2R_{f}\\right)}{\\frac{R_{f}}{3}+2R_{f}}=\\frac{\\frac{2}{3}R_{f}^{2}}{\\frac{7}{3}R_{f}}=\\frac{2}{7}R_{f}.\n$$\n施加规范 $R_{eq}=12\\,\\text{k}\\Omega$，\n$$\n\\frac{2}{7}R_{f}=12\\,\\text{k}\\Omega \\;\\Rightarrow\\; R_{f}=\\frac{7}{2}\\,R_{eq}=\\frac{7}{2}\\times 12\\,\\text{k}\\Omega=42\\,\\text{k}\\Omega.\n$$\n以 $\\text{k}\\Omega$ 为单位四舍五入到三位有效数字，所需反馈电阻的值为 $42.0$。", "answer": "$$\\boxed{42.0}$$", "id": "1340586"}, {"introduction": "在我们掌握了理想运算放大器的设计方法后，是时候面对现实世界中的限制了。理想运放拥有无限带宽，但实际运放的性能受其增益带宽积 ($f_T$) 的制约。这个练习 [@problem_id:1307398] 将引导你分析加法放大器的频率响应，计算其在特定增益配置下的 3-dB 带宽。通过这个练习，你将深刻理解增益与带宽之间的权衡关系，这是所有高频模拟电路设计中都必须考虑的关键因素。", "problem": "一个双输入反相加法放大器由一个运算放大器（op-amp）构成。该电路设计用于产生输出电压 $V_{out} = A_1 V_{in1} + A_2 V_{in2}$，其中 $V_{in1}$ 和 $V_{in2}$ 是两个输入电压。两个输入的期望闭环电压增益分别为 $A_1 = -2.00$ 和 $A_2 = -5.00$。电路中使用的运算放大器具有 $f_T = 1.00$ MHz 的单位增益频率（也称为增益带宽积），并假定其具有单极点频率响应。计算整个放大器级的最终 3-dB 带宽。将您的答案以千赫兹（kHz）为单位表示，并四舍五入至三位有效数字。", "solution": "对于一个具有反馈电阻 $R_{f}$ 和输入电阻 $R_{1}$、$R_{2}$ 的反相加法放大器，其各输入的闭环增益为\n$$\nA_{1}=-\\frac{R_{f}}{R_{1}}, \\quad A_{2}=-\\frac{R_{f}}{R_{2}}.\n$$\n已知 $A_{1}=-2.00$ 和 $A_{2}=-5.00$，可得\n$$\n\\frac{R_{f}}{R_{1}}=2, \\quad \\frac{R_{f}}{R_{2}}=5.\n$$\n对于具有单位增益频率 $f_{T}$ 的单极点运算放大器，其闭环 3-dB 带宽由噪声增益 $\\text{NG}$ 决定，具体如下\n$$\nf_{3\\text{dB}}=\\frac{f_{T}}{\\text{NG}}.\n$$\n反相加法放大器的噪声增益为\n$$\n\\text{NG}=1+\\frac{R_{f}}{R_{\\text{eq}}}, \\quad \\text{其中} \\quad \\frac{1}{R_{\\text{eq}}}=\\frac{1}{R_{1}}+\\frac{1}{R_{2}}.\n$$\n因此，\n$$\n\\text{NG}=1+R_{f}\\left(\\frac{1}{R_{1}}+\\frac{1}{R_{2}}\\right)=1+\\frac{R_{f}}{R_{1}}+\\frac{R_{f}}{R_{2}}=1+2+5=8.\n$$\n当 $f_{T}=1.00\\times 10^{6}\\ \\text{Hz}$ 时，\n$$\nf_{3\\text{dB}}=\\frac{1.00\\times 10^{6}}{8}=\\frac{1.00}{8}\\times 10^{6}=1.25\\times 10^{5}\\ \\text{Hz}=125\\ \\text{kHz}.\n$$\n以千赫兹为单位并四舍五入至三位有效数字，结果为 $125$。", "answer": "$$\\boxed{125}$$", "id": "1307398"}, {"introduction": "加法放大器通常作为更复杂系统中的一个模块。这个练习将挑战你的电路分析与“侦错”能力，要求你分析一个包含精密整流器和加法放大器在内的多级电路 [@problem_id:1326291]。特别之处在于，第二级的加法放大器被“错误地”接成了非反相加法模式。通过推导这个非标准电路的输出，你将学会如何从基本原理出发，预测整个系统的行为，即使它并未按预期工作。这有助于培养一种超越公式应用的、更为灵活和深入的电路直觉。", "problem": "一位模拟电路设计师正在构建一个标准的两级精密全波整流器。然而，在第二级中出现了一个接线错误。该电路由理想运算放大器（运放）和理想二极管构成。\n\n第一级（Stage 1）是一个接线正确的反相精密半波整流器。输入电压 $V_{in}$ 通过电阻 $R_1$ 连接到第一个运放U1的反相输入端。U1的同相输入端接地。一个二极管D1从U1的输出端连接到其反相输入端。第二个二极管D2从U1的输出端连接到节点A。一个电阻 $R_2$ 将节点A连接回U1的反相输入端。二极管的连接方向使得当运放输出为负时D1导通，当运放输出为正时D2导通。第一级的输出（记为 $V_A$）是节点A的电压。此级的电阻阻值相等，$R_1 = R_2 = R$。\n\n第二级（Stage 2）原意是设计成一个反相求和放大器，但配置错误。它被接成了一个同相求和放大器。输入信号 $V_{in}$ 通过电阻 $R_{S1}$ 连接到第二个运放U2的同相输入端。第一级的输出 $V_A$ 也通过电阻 $R_{S2}$ 连接到U2的同相输入端。运放U2配置为一个同相放大器，带有一个反馈电阻 $R_f$ 和一个从反相输入端接到地的电阻 $R_g$。此级的电阻值设置如下：$R_{S1} = R_{S2} = R_f = R_g = R$。\n\n你的任务是确定整个电路的最终输出电压 $V_{out}$，作为输入电压 $V_{in}$ 的函数。请提供一个 $V_{out}$ 的单一闭式解析表达式。", "solution": "设U1的输出为 $V_{1}$，U1的反相输入端为 $V_{-1}$，节点A的电压为 $V_{A}$。U1的同相输入端接地，因此 $V_{+1}=0$。二极管是理想的，其连接方向使得当 $V_{1}$ 为负时D1导通（二极管从 $V_{-1}$ 接到 $V_{1}$），当 $V_{1}$ 为正时D2导通（二极管从 $V_{1}$ 接到 $V_{A}$）。电阻 $R_{1}=R_{2}=R$。\n\n第一级（精密反相半波整流器）：\n- 情况1：$V_{in}  0$。此时运放输出必须变为正值以使 $V_{-1}$ 保持在0附近，这会使D2正向偏置，D1反向偏置。当D2导通时，$V_{A}=V_{1}$，并通过 $R_{2}$ 形成标准的负反馈，得到 $V_{-1}=0$。在 $V_{-1}$ 节点处应用KCL可得\n$$\\frac{0-V_{in}}{R}+\\frac{0-V_{A}}{R}=0\\;\\Rightarrow\\;V_{A}=-V_{in}.$$\n- 情况2：$V_{in}\\geq 0$。此时运放输出变为非正值，这会使D1正向偏置，D2保持截止。当D1导通时，$V_{1}=V_{-1}$，且运放迫使 $V_{-1}=0$，因此 $V_{1}=0$。在节点A处，由于D2截止，应用KCL可得\n$$\\frac{V_{A}-0}{R}=0\\;\\Rightarrow\\;V_{A}=0.$$\n综合两种情况，且 $R_{1}=R_{2}$，\n$$V_{A}=\\max(0,-V_{in})=\\frac{|V_{in}|-V_{in}}{2}.$$\n\n第二级（错误接线为同相求和放大器）：\nU2的同相输入节点（记为 $V_{+2}$）通过等值电阻 $R_{S1}=R_{S2}=R$ 连接到 $V_{in}$ 和 $V_{A}$。由于理想运放的输入端不吸取电流，在 $V_{+2}$ 节点处应用KCL可得\n$$\\frac{V_{+2}-V_{in}}{R}+\\frac{V_{+2}-V_{A}}{R}=0\\;\\Rightarrow\\;V_{+2}=\\frac{V_{in}+V_{A}}{2}.$$\nU2是一个同相放大器，其 $R_{f}=R_{g}=R$，因此其增益为 $1+\\frac{R_{f}}{R_{g}}=2$，故\n$$V_{out}=2\\,V_{+2}=V_{in}+V_{A}.$$\n代入 $V_{A}=\\frac{|V_{in}|-V_{in}}{2}$：\n$$V_{out}=V_{in}+\\frac{|V_{in}|-V_{in}}{2}=\\frac{V_{in}+|V_{in}|}{2}.$$\n这个单一的闭式表达式等效于 $V_{out}=\\max(0,V_{in})$，并且与分段函数的行为一致：当 $V_{in}\\geq 0$ 时 $V_{out}=V_{in}$，当 $V_{in}  0$ 时 $V_{out}=0$。", "answer": "$$\\boxed{\\frac{V_{in}+|V_{in}|}{2}}$$", "id": "1326291"}]}