{"hands_on_practices": [{"introduction": "对数放大器是利用半导体结（如二极管）的指数级电流-电压 ($I-V$) 特性来实现对数运算的。通过将二极管置于运算放大器的反馈路径中，我们可以构建一个输出电压与输入电压的对数成正比的电路。这个基本练习将引导你完成核心计算，以确定一个简单二极管对数放大器的输出电压，从而巩固你对这一基本工作原理的理解。[@problem_id:1315437]", "problem": "一个模拟信号处理电路使用一个基本的对数放大器来压缩输入信号。该放大器由一个理想运算放大器（op-amp）构成。一个电阻值为 $R$ 的电阻器从输入电压源 $V_{in}$ 连接到运算放大器的反相输入端。一个半导体二极管连接在负反馈路径中，其阳极连接到反相输入端，阴极连接到运算放大器的输出端。运算放大器的同相输入端接地。\n\n该电路具有以下参数：\n- 输入电压, $V_{in} = 2.50 \\text{ V}$\n- 输入电阻, $R = 10.0 \\text{ k}\\Omega$\n- 该二极管的特性为反向饱和电流 $I_S = 1.00 \\times 10^{-14} \\text{ A}$ 和理想因子 $n = 1$。\n- 该电路在热电压为 $V_T = 25.85 \\text{ mV}$ 的温度下工作。\n\n假设通过正向偏置二极管的电流远大于其反向饱和电流，计算放大器的输出电压 $V_{out}$。将最终答案以伏特为单位表示，并四舍五入到三位有效数字。", "solution": "对于一个同相输入端接地的理想运算放大器，其反相输入端处于虚地状态，因此反相节点的电压为 $V_{-} = 0$。在反相节点应用基尔霍夫电流定律（KCL），得到通过输入电阻的电流等于二极管电流：\n$$\n\\frac{V_{in} - V_{-}}{R} = I_{D} \\quad \\Rightarrow \\quad \\frac{V_{in}}{R} = I_{D}.\n$$\n对于阳极在反相节点、阴极在输出端的二极管，其两端电压为\n$$\nV_{D} = V_{\\text{anode}} - V_{\\text{cathode}} = V_{-} - V_{out} = -V_{out}.\n$$\n二极管电流由肖克利方程给出：\n$$\nI_{D} = I_{S}\\left(\\exp\\!\\left(\\frac{V_{D}}{n V_{T}}\\right) - 1\\right) = I_{S}\\left(\\exp\\!\\left(\\frac{-V_{out}}{n V_{T}}\\right) - 1\\right).\n$$\n根据假设 $I_{D} \\gg I_{S}$，-1 项可以忽略，因此\n$$\nI_{D} \\approx I_{S}\\exp\\!\\left(\\frac{-V_{out}}{n V_{T}}\\right).\n$$\n令电流相等并求解 $V_{out}$：\n$$\n\\frac{V_{in}}{R} = I_{S}\\exp\\!\\left(\\frac{-V_{out}}{n V_{T}}\\right)\n\\;\\Rightarrow\\;\n\\exp\\!\\left(\\frac{-V_{out}}{n V_{T}}\\right) = \\frac{V_{in}}{R I_{S}}\n\\;\\Rightarrow\\;\n\\frac{-V_{out}}{n V_{T}} = \\ln\\!\\left(\\frac{V_{in}}{R I_{S}}\\right)\n\\;\\Rightarrow\\;\nV_{out} = -\\,n V_{T}\\,\\ln\\!\\left(\\frac{V_{in}}{R I_{S}}\\right).\n$$\n代入给定值 $n=1$, $V_{T} = 25.85 \\times 10^{-3}$ V, $V_{in} = 2.50$ V, $R = 10.0 \\times 10^{3}\\ \\Omega$, 以及 $I_{S} = 1.00 \\times 10^{-14}$ A：\n$$\n\\frac{V_{in}}{R I_{S}} = \\frac{2.50}{\\left(10.0 \\times 10^{3}\\right)\\left(1.00 \\times 10^{-14}\\right)} = 2.50 \\times 10^{10},\n$$\n$$\n\\ln\\!\\left(2.50 \\times 10^{10}\\right) = \\ln(2.50) + 10 \\ln(10) \\approx 0.916290732 + 23.02585093 \\approx 23.94214166,\n$$\n$$\nV_{out} \\approx -\\left(25.85 \\times 10^{-3}\\right)\\times 23.94214166 \\text{ V} \\approx -0.618904362 \\text{ V}.\n$$\n四舍五入到三位有效数字，输出电压为 $-0.619$ V。", "answer": "$$\\boxed{-0.619}$$", "id": "1315437"}, {"introduction": "虽然我们已经了解了对数放大器的直流 ($DC$) 传输特性，但理解其对微小、变化的输入信号的响应也同样重要。这引出了小信号电压增益的概念，它描述了电路的动态行为。[@problem_id:1315441] 这个练习将挑战你推导出电路的小信号增益，并揭示一个关键特性：对于对数放大器这样的非線性电路，其增益并非一个常数，而是取决于直流输入电压的水平。", "problem": "一个模拟信号处理电路被设计用来压缩输入信号的动态范围。该电路的核心是一个对数放大器，由一个理想运算放大器（op-amp）和一个NPN双极结型晶体管（BJT）构成。电路配置如下：\n\n- 运算放大器处于反相配置，其同相输入端接地。\n- 一个阻值为 $R$ 的输入电阻将一个提供正的直流电压 $v_{IN}$ 的输入电压源连接到运算放大器的反相输入端。\n- BJT被放置在负反馈路径中。其集电极连接到运算放大器的反相输入端，基极接地，发射极连接到运算放大器的输出端，输出端电压为 $v_{out}$。\n\n假设运算放大器是理想的，即其开环增益无穷大，输入阻抗无穷大，输出阻抗为零。因此，反相输入端的电压被强制为虚地。假设BJT具有非常高的电流增益（$\\beta \\to \\infty$），因此其基极电流可以忽略不计。\n\nBJT的集电极电流 $I_C$ 由关系式 $I_C = I_S \\exp\\left(\\frac{V_{BE}}{n V_T}\\right)$ 决定，其中 $V_{BE}$ 是基极-发射极电压， $I_S$ 是反向饱和电流， $n$ 是非理想因子（发射系数）， $V_T$ 是热电压。\n\n你的任务是确定电路的小信号电压增益，定义为 $A_v = \\frac{dv_{out}}{dv_{IN}}$，它表征了输出电压如何响应输入电压的微小变化。请找到 $A_v$ 作为输入电压 $v_{IN}$ 和相关物理参数函数的解析表达式。", "solution": "因为运算放大器是理想的，并且处于反相配置，同相输入端接地，所以反相输入节点处于虚地，其电压为零。因此，通过电阻的输入电流为\n$$\ni_{R}=\\frac{v_{IN}}{R}.\n$$\n由于 $\\beta \\to \\infty$，运算放大器的输入电流为零，BJT的基极电流可以忽略不计，所以根据反相输入节点的KCL，集电极电流等于电阻电流：\n$$\nI_{C}=i_{R}=\\frac{v_{IN}}{R}.\n$$\n由于基极接地且发射极电压为 $v_{out}$，基极-发射极电压为\n$$\nV_{BE}=V_{B}-V_{E}=0-v_{out}=-v_{out}.\n$$\nBJT的集电极电流由下式决定\n$$\nI_{C}=I_{S}\\exp\\!\\left(\\frac{V_{BE}}{n V_{T}}\\right)=I_{S}\\exp\\!\\left(\\frac{-v_{out}}{n V_{T}}\\right).\n$$\n令两个 $I_{C}$ 的表达式相等，得到\n$$\n\\frac{v_{IN}}{R}=I_{S}\\exp\\!\\left(\\frac{-v_{out}}{n V_{T}}\\right).\n$$\n对两边取自然对数并求解 $v_{out}$，得到直流传输特性\n$$\nv_{out}=-\\,n V_{T}\\,\\ln\\!\\left(\\frac{v_{IN}}{R I_{S}}\\right).\n$$\n小信号电压增益是 $v_{out}$ 对 $v_{IN}$ 的导数：\n$$\nA_{v}=\\frac{d v_{out}}{d v_{IN}}=-\\,n V_{T}\\,\\frac{d}{d v_{IN}}\\Big(\\ln v_{IN}-\\ln(R I_{S})\\Big)=-\\,\\frac{n V_{T}}{v_{IN}}.\n$$\n等效地，使用小信号跨导 $g_{m}=I_{C}/(n V_{T})$ 和增量关系 $dI_{C}=-g_{m}\\,d v_{out}$，并结合 $dI_{C}=d v_{IN}/R$，可得 $d v_{out}/d v_{IN}=-1/(R g_{m})=-n V_{T}/(R I_{C})=-n V_{T}/v_{IN}$，这与上面的结果一致。", "answer": "$$\\boxed{-\\frac{n V_{T}}{v_{IN}}}$$", "id": "1315441"}, {"introduction": "理论知识的真正考验在于能否应用于解决实际问题，尤其是在诊断和故障排除中。当电路表现出与预期不符的行为时，优秀的工程师必须能够推断出根本原因。[@problem_id:1315417] 这个实践场景将一个本应具有对数响应的放大器表现出意外的线性行为，要求你通过分析不同元件的潜在故障模式，找出最可能的原因，从而加深你对电路功能的理解。", "problem": "一位工程师正在测试一个对数放大器电路。该电路由一个理想运算放大器（op-amp）和一个标记为 Q1 的 NPN 型双极结型晶体管（BJT）构成。电路的配置如下：\n- 运算放大器的同相输入端接地。\n- 一个正的直流输入电压 $V_{in}$ 通过输入电阻 $R_1$ 施加到运算放大器的反相输入端。\n- 反馈路径由 BJT Q1 组成。Q1 的集电极连接到运算放大器的反相输入端，Q1 的基极接地，Q1 的发射极连接到运算放大器的输出端，该输出端提供输出电压 $V_{out}$。\n\n在正常工作情况下，对于一个正的 $V_{in}$，输出电压 $V_{out}$ 预期为一个负电压，其大小与输入电压的自然对数成正比。然而，在测试中，工程师观察到输出电压 $V_{out}$ 反而是一个与输入电压 $V_{in}$ 直接成线性比例的负值。\n\n以下哪种单一元件故障是导致这种观察到的线性行为的最可能原因？\n\nA. 输入电阻 $R_1$ 故障，形成开路。\nB. BJT Q1 的基极和发射极之间发生短路。\nC. BJT Q1 的集电极和发射极之间发生短路。\nD. BJT 基极到地的连接断开，导致基极悬空（开路）。\nE. BJT Q1 的集电极和基极之间发生短路。", "solution": "使用理想运算放大器和 BJT 反馈的正常工作分析：\n- 同相输入端接地，因此在负反馈作用下，反相输入端被维持在虚地：$V_{-}=0$。\n- 运算放大器的输入电流为零，因此根据基尔霍夫电流定律，在反相节点处，通过 $R_{1}$ 的输入电流必须等于 Q1 集电极提供的反馈电流。\n- 输入电流为 $I_{in}=\\frac{V_{in}-V_{-}}{R_{1}}=\\frac{V_{in}}{R_{1}}$。\n- 当 Q1 的基极接地且发射极为 $V_{out}$ 时，基极-发射极电压为 $V_{BE}=0-V_{out}=-V_{out}$。对于处于正向放大区的理想 BJT，集电极电流为\n$$\nI_{C}=I_{S}\\exp\\!\\left(\\frac{V_{BE}}{V_{T}}\\right)=I_{S}\\exp\\!\\left(\\frac{-V_{out}}{V_{T}}\\right).\n$$\n- 在反相节点处的基尔霍夫电流定律得出 $I_{in}=I_{C}$，因此\n$$\n\\frac{V_{in}}{R_{1}}=I_{S}\\exp\\!\\left(\\frac{-V_{out}}{V_{T}}\\right)\n\\quad\\Rightarrow\\quad\nV_{out}=-V_{T}\\ln\\!\\left(\\frac{V_{in}}{I_{S}R_{1}}\\right),\n$$\n这就是预期的对数依赖关系。\n\n观察到的行为是线性的：$V_{out}$ 是一个与 $V_{in}$ 直接成正比的负值，即 $V_{out}=-kV_{in}$，其中 $k>0$。这要求反馈电流与 $V_{out}$ 呈线性关系，就像反馈路径是从 $V_{out}$ 到反相节点的一个（恒定）电阻 $R_{f}$ 一样，从而得出\n$$\n\\frac{V_{in}}{R_{1}}+\\frac{V_{out}-0}{R_{f}}=0\n\\quad\\Rightarrow\\quad\nV_{out}=-\\frac{R_{f}}{R_{1}}\\,V_{in}.\n$$\n因此，一个将非线性指数反馈元件转变为从输出到求和节点的线性（近似电阻性）路径的故障可以解释这一观察结果。\n\n评估每一种单一元件故障：\n\nA. $R_{1}$ 开路：此时 $I_{in}=0$，因此根据基尔霍夫电流定律要求 $I_{C}=0$。在理想 BJT 模型下，$I_{C}=I_{S}\\exp(-V_{out}/V_{T})$对于任何有限的 $V_{out}$ 都不可能为零，因此环路无法平衡；运算放大器将饱和。$V_{out}$ 不会与 $V_{in}$（已断开连接）呈线性关系。不一致。\n\nB. Q1 基极-发射极短路：这将迫使 $V_{out}=0$（发射极短路到接地的基极）。运算放大器的输出被钳位到地；反相节点不再受来自 $V_{out}$ 的反馈控制。$V_{out}$ 约为零，而不是 $V_{in}$ 的线性函数。不一致。\n\nC. Q1 集电极-发射极短路：这会在运算放大器输出端和反相输入端之间形成直接短路，用一个欧姆（近似零电阻）反馈元件取代了非线性的 BJT 反馈。电路退化为一个反馈阻抗近似短路的线性反相配置。在理想极限 $R_{f}\\to 0$ 时，$V_{out}\\to 0$；如果故障路径中存在任何有限的串联电阻，传输函数变为 $V_{out}=-\\frac{R_{f}}{R_{1}}V_{in}$，即一个线性反相关系。关键在于，非线性被消除，行为变为线性，这与观察结果在性质上相符。\n\nD. 基极开路（悬空）：反馈路径变为两个串联的结（发射结和集电结）。当两者都正向偏置时，反馈电流仍然与结电压之和呈指数依赖关系，从而仍然产生对数行为（只是比例因子不同）。这不会产生线性的 $V_{out}$ 与 $V_{in}$ 关系。不一致。\n\nE. 集电极-基极短路：由于基极设计上接地，这将使反相输入端短路到地，从而消除了来自 $V_{out}$ 的反馈。运算放大器的两个输入端都在地电位，因此理想运算放大器的输出为 $V_{out}=0$，与 $V_{in}$ 无关。不一致。\n\n在所有选项中，只有 Q1 的集电极-发射极短路能将非线性反馈直接转换为一个有效的线性（电阻性）反馈路径，从而在 $V_{out}$ 和 $V_{in}$ 之间产生一个反相线性关系。因此，最可能的单一元件故障是 Q1 的集电极-发射极短路。", "answer": "$$\\boxed{C}$$", "id": "1315417"}]}