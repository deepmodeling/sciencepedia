{"hands_on_practices": [{"introduction": "在模拟电路设计中，一个核心任务是将高层级的性能指标（如电压增益）转化为具体的电路参数（如偏置电流）。这个练习将引导你完成这一基本的设计步骤，通过推导一个基本差分对所需的尾电流，来满足特定的差分电压增益要求。通过这个实践 [@problem_id:1306690]，你将掌握增益、跨导和偏置电流之间的关键关系。", "problem": "一位模拟电路设计师正在使用基本的N型金属氧化物半导体（NMOS）差分对来创建放大器的输入级。该差分对由两个相同的NMOS晶体管M1和M2组成，并由一个提供尾电流 $I_{SS}$ 的理想恒流源偏置。每个晶体管都有一个电阻负载 $R_D$，连接在其漏极和正电源电压之间。对于此设计，假定晶体管工作在饱和区，并且沟道长度调制效应被认为可以忽略不计。相同晶体管的工艺和器件参数由一个组合项 $k_n = \\mu_n C_{ox} (W/L)$ 来表征，其中 $\\mu_n$ 是电子迁移率， $C_{ox}$ 是单位面积的栅极氧化层电容， $(W/L)$ 是晶体管的宽长比。\n\n该设计要求放大器达到特定的小信号差分电压增益幅值 $A_v$。请推导所需尾电流 $I_{SS}$ 的表达式，用目标增益幅值 $A_v$、负载电阻 $R_D$ 和参数 $k_n$ 来表示。", "solution": "解决方案包括根据电压增益规范确定所需的跨导（$g_m$），然后使用晶体管的平方律模型将此跨导与尾电流（$I_{SS}$）关联起来。\n\n首先，我们从带有电阻负载 $R_D$ 的差分对的小信号差分电压增益表达式 $A_d = \\frac{v_{od}}{v_{id}}$ 开始。增益由 $A_d = -g_m R_D$ 给出，其中 $g_m$ 是每个相同输入晶体管的跨导。问题指定了此增益的幅值目标，我们将其表示为 $A_v$。\n$$A_v = |A_d| = |-g_m R_D| = g_m R_D$$\n\n根据这个增益方程，我们可以解出满足规范所需的跨导 $g_m$：\n$$g_m = \\frac{A_v}{R_D}$$\n\n接下来，我们将跨导 $g_m$ 与晶体管的直流偏置条件联系起来。对于工作在饱和区的NMOS晶体管，其跨导由平方律模型方程给出：\n$$g_m = \\sqrt{2 k_n I_D}$$\n其中 $I_D$ 是晶体管的直流漏极电流，$k_n$ 是所提供的工艺和器件参数。\n\n在一个对称偏置的差分对中，来自理想电流源的尾电流 $I_{SS}$ 在两个晶体管M1和M2之间均等分配。因此，每个晶体管的直流漏极电流为：\n$$I_D = \\frac{I_{SS}}{2}$$\n\n现在我们将 $I_D$ 的这个表达式代入跨导公式中：\n$$g_m = \\sqrt{2 k_n \\left(\\frac{I_{SS}}{2}\\right)} = \\sqrt{k_n I_{SS}}$$\n这为我们提供了每个晶体管的跨导与总尾电流 $I_{SS}$ 之间的直接关系。\n\n我们现在有两个关于 $g_m$ 的表达式。通过令它们相等，我们可以解出所需的 $I_{SS}$：\n$$\\frac{A_v}{R_D} = \\sqrt{k_n I_{SS}}$$\n\n为了分离出 $I_{SS}$，我们将方程两边平方：\n$$\\left(\\frac{A_v}{R_D}\\right)^2 = k_n I_{SS}$$\n\n最后，除以 $k_n$ 得到所需尾电流的表达式：\n$$I_{SS} = \\frac{1}{k_n} \\left(\\frac{A_v}{R_D}\\right)^2 = \\frac{A_v^2}{k_n R_D^2}$$\n这就是为达到指定的差分电压增益幅值所需的尾电流的最终表达式。", "answer": "$$\\boxed{\\frac{A_{v}^{2}}{k_{n} R_{D}^{2}}}$$", "id": "1306690"}, {"introduction": "在为放大器设定了满足增益要求的偏置电流之后，下一个重要的考虑因素是功耗。对于许多应用，特别是便携式和电池供电的设备，静态功耗是一个严格的限制条件。这个练习 [@problem_id:1306672] 将向你展示如何计算放大器的静态功耗，它直接由电源电压和你在前一步中设置的尾电流决定。", "problem": "一个经典的NMOS输入差分放大器被设计用于低功耗生物医学应用。该放大器由相对于地的单个正电源电压 $V_{DD}$ 供电。放大器的负载由两个相同的电阻组成，每个电阻的阻值为 $R_D$ ，连接在电源电压 $V_{DD}$ 和差分对晶体管之一的漏极之间。一个恒流源作为尾电流源，连接在差分对的公共源极节点和地之间。该尾电流源被偏置以吸收总静态电流 $I_{SS}$ 。假设放大器工作在静态直流状态（即没有施加输入信号）。\n\n给定以下参数：\n- 电源电压, $V_{DD} = 1.8 \\text{ V}$\n- 尾电流, $I_{SS} = 250 \\mu\\text{A}$\n- 负载电阻, $R_D = 5.0 \\text{ k}\\Omega$\n\n计算放大器消耗的总静态功率。以微瓦（$\\mu\\text{W}$）为单位表示您的答案，并四舍五入到三位有效数字。", "solution": "在没有输入信号的静态直流状态下，NMOS差分对是平衡的，因此每个晶体管导通的电流为 $I_{SS}/2$ 。连接到 $V_{DD}$ 的两个负载电阻各自承载 $I_{SS}/2$ 的电流，因此从单电源汲取的总电流是支路电流之和：\n$$\nI_{DD}=\\frac{I_{SS}}{2}+\\frac{I_{SS}}{2}=I_{SS}.\n$$\n对于单个正电源，静态功耗是电源电压乘以总电源电流：\n$$\nP_{\\text{static}}=V_{DD}\\,I_{DD}=V_{DD}\\,I_{SS}.\n$$\n代入给定的数值，\n$$\nP_{\\text{static}}=1.8\\times 250\\times 10^{-6}\\ \\text{W}=450\\times 10^{-6}\\ \\text{W}.\n$$\n以微瓦表示，\n$$\nP_{\\text{static}}=450\\ \\mu\\text{W}.\n$$\n以微瓦为单位，四舍五入到三位有效数字，结果是\n$$\n4.50\\times 10^{2}.\n$$", "answer": "$$\\boxed{4.50 \\times 10^{2}}$$", "id": "1306672"}, {"introduction": "除了静态和直流特性，放大器的动态性能也至关重要，它决定了电路处理快速变化信号的能力。压摆率 (Slew Rate) 是限制放大器输出电压变化速度的一个关键大信号参数。这个练习 [@problem_id:1306686] 将帮助你理解压摆率如何限制输出信号的最大工作频率，这是高速应用设计中必须考虑的因素。", "problem": "全差分放大器（FDA）是高性能数据采集系统中的一个关键组件。其抑制共模噪声的能力使其非常适合在嘈杂环境中放大微小信号。然而，该放大器的性能受其压摆率的限制，压摆率限制了其输出电压的变化速度。\n\n考虑一个配置为产生平衡正弦差分输出电压的 FDA，该电压定义为 $V_{od}(t) = V_{out,p}(t) - V_{out,n}(t)$，其中 $V_{out,p}(t)$ 和 $V_{out,n}(t)$ 分别是正输出端和负输出端的电压。两个单端输出围绕一个固定的共模电压对称摆动。差分输出信号的峰值幅度为 $V_{od,peak} = 4.0 \\text{ V}$。该放大器的标定压摆率为 $SR = 1.5 \\text{ V}/\\mu\\text{s}$。\n\n确定在该正弦信号的输出因压摆率限制而失真之前，其最大工作频率是多少。将最终答案以兆赫兹 (MHz) 为单位表示，并四舍五入到三位有效数字。", "solution": "设 FDA 产生围绕共模电压对称的平衡正弦单端输出。当差分峰值幅度为 $V_{od,\\text{peak}}$ 时，单端输出可写为\n$$\nV_{out,p}(t)=V_{cm}+\\frac{V_{od,\\text{peak}}}{2}\\sin(\\omega t), \\quad\nV_{out,n}(t)=V_{cm}-\\frac{V_{od,\\text{peak}}}{2}\\sin(\\omega t),\n$$\n因此，每个单端输出的峰值幅度为 $V_{od,\\text{peak}}/2$。\n\n根据定义，压摆率 $SR$ 限制了每个单端输出时间导数的幅值。对于一个正弦信号 $v(t)=V_{p}\\sin(\\omega t)$，其导数为\n$$\n\\frac{dv}{dt}= \\omega V_{p}\\cos(\\omega t),\n$$\n其最大幅值为 $\\omega V_{p}$。将此应用于每个单端输出，得到约束条件\n$$\n\\omega \\left(\\frac{V_{od,\\text{peak}}}{2}\\right)\\leq SR.\n$$\n使用 $\\omega=2\\pi f$，在发生压摆引起的失真之前的最大频率为\n$$\nf_{\\max}=\\frac{SR}{\\pi V_{od,\\text{peak}}}.\n$$\n\n代入给定值 $SR=1.5\\,\\text{V}/\\mu\\text{s}$ 和 $V_{od,\\text{peak}}=4.0\\,\\text{V}$，并注意到 $\\text{V}/\\mu\\text{s}$ 除以 $\\text{V}$ 得到 $\\mu\\text{s}^{-1}$（即 MHz），我们得到\n$$\nf_{\\max}=\\frac{1.5}{\\pi\\cdot 4.0}\\ \\text{MHz}\\approx 0.119\\ \\text{MHz},\n$$\n四舍五入到三位有效数字。", "answer": "$$\\boxed{0.119}$$", "id": "1306686"}]}