{"hands_on_practices": [{"introduction": "理想的电压跟随器输出电压与输入电压完全相等，但在现实世界中，运算放大器（运放）的输出摆幅受到其电源电压的限制。此练习将帮助你分析一个实际电压跟随器电路中最重要的限制之一：输出饱和。通过计算在给定的非对称电源和饱和特性下，电路能处理的最大输入信号峰值，你将学会如何确保信号不会因削波而失真，这是所有实际运放电路设计中的一个基本考量因素 [@problem_id:1341405]。", "problem": "一个运算放大器（op-amp）被配置为电压跟随器，也称为单位增益缓冲器。该运算放大器由非对称直流电源供电：正电源为 $+V_{CC} = +18.0 \\text{ V}$，负电源为 $-V_{EE} = -10.0 \\text{ V}$。由于其内部结构，该运算放大器的输出电压摆幅无法一直达到电源轨。当输出电压距离正电源轨 $1.5 \\text{ V}$ 以内或距离负电源轨 $1.2 \\text{ V}$ 以内时，输出会饱和。\n\n一个频率为 $f = 1 \\text{ kHz}$、形式为 $v_{in}(t) = V_p \\sin(2\\pi f t)$ 的正弦输入信号被施加到运算放大器的同相输入端。假设该运算放大器在所有其他方面表现理想（例如，其压摆率对于此频率是足够的），确定输入信号在不因饱和导致输出信号被削波的情况下，所能具有的最大可能峰值电压 $V_{p,max}$。\n\n答案以伏特（V）为单位，保留两位有效数字。", "solution": "该运算放大器被配置为电压跟随器，因此理想的闭环关系为\n$$\nv_{o}(t) = v_{in}(t).\n$$\n考虑到相对于电源轨的饱和限制，允许的线性输出范围由以下条件界定：\n- 正向限制：输出不能超过 $V_{CC} - 1.5$，所以\n$$\nv_{o,\\max} = V_{CC} - 1.5.\n$$\n- 负向限制：输出不能低于 $(-V_{EE}) + 1.2$，所以\n$$\nv_{o,\\min} = -V_{EE} + 1.2,\n$$\n其中负电源为 $-V_{EE}$。\n\n当 $V_{CC} = 18.0$ 且 $-V_{EE} = -10.0$ 时，这些限制变为\n$$\nv_{o,\\max} = 18.0 - 1.5 = 16.5,\n$$\n$$\nv_{o,\\min} = -10.0 + 1.2 = -8.8.\n$$\n\n输入为 $v_{in}(t) = V_{p} \\sin(2\\pi f t)$，因此其最大值和最小值分别为 $+V_{p}$ 和 $-V_{p}$。为了避免削波，输出必须满足\n$$\n-V_{p} \\ge v_{o,\\min} \\quad \\text{and} \\quad V_{p} \\le v_{o,\\max}.\n$$\n这些不等式等价于\n$$\nV_{p} \\le \\min\\{v_{o,\\max},\\, -v_{o,\\min}\\}.\n$$\n代入边界值，\n$$\nV_{p} \\le \\min\\{16.5,\\; 8.8\\} = 8.8.\n$$\n因此，不发生削波的情况下允许的最大峰值幅度为\n$$\nV_{p,\\max} = 8.8.\n$$\n给定的频率不会对结果产生进一步的限制，因为假设了压摆率是足够的。", "answer": "$$\\boxed{8.8}$$", "id": "1341405"}, {"introduction": "在解决了输出摆幅限制后，我们来探讨影响电压跟随器精度的其他直流非理想特性。即使在线性工作区内，运放的输出电压也并非与输入电压完全相等，这主要是由输入失调电压 ($V_{os}$) 和输入偏置电流 ($I_B$) 引起的。这个练习 [@problem_id:1341395] 将引导你量化这两种效应所产生的总直流输出误差，这对于设计需要高精度和低漂移的仪器放大器或传感器接口至关重要。", "problem": "一个运算放大器（op-amp）被用来构建一个电压跟随器，也称为单位增益缓冲器。该电路旨在为一个接地的信号源提供缓冲。为了对此进行建模，运算放大器的同相输入端（+）通过一个源电阻 $R_G$ 接地。运算放大器的输出端直接连接到其反相输入端（-）。\n\n该运算放大器不是理想的。它具有直流输入失调电压 $V_{os}$ 和输入偏置电流 $I_B$。在本次分析中，假设输入失调电流可以忽略不计，这意味着流入同相输入端的偏置电流等于流入反相输入端的偏置电流（$I_{B+} = I_{B-} = I_B$）。输入失调电压 $V_{os}$ 可以建模为一个与同相输入端串联的电压源。\n\n给定运算放大器和电路的以下参数：\n- 源电阻, $R_G = 120 \\, \\text{k}\\Omega$\n- 输入失调电压, $V_{os} = 2.0 \\, \\text{mV}$\n- 输入偏置电流, $I_B = 90 \\, \\text{nA}$\n\n计算输出端的总直流电压 $V_{out}$。以毫伏（mV）为单位表示你的答案，并四舍五入到两位有效数字。", "solution": "将输入失调电压建模为与同相输入端串联的电压源，因此内部同相节点电压为 $V_{p,\\text{int}}=V_{p,\\text{ext}}+V_{os}$，而内部反相节点电压等于外部反相节点电压 $V_{n,\\text{int}}=V_{n,\\text{ext}}$。在负反馈和非常大的开环增益下，运算放大器会强制使 $V_{n,\\text{int}} \\approx V_{p,\\text{int}}$，并且在电压跟随器中 $V_{n,\\text{ext}}=V_{out}$。因此，\n$$\nV_{out}=V_{p,\\text{ext}}+V_{os}.\n$$\n在同相输入节点处，应用基尔霍夫电流定律（KCL），偏置电流 $I_{B}$ 流入运算放大器输入端，唯一的另一条路径是通过 $R_{G}$ 接地。以离开节点的电流为正，\n$$\n\\frac{V_{p,\\text{ext}}-0}{R_{G}}+I_{B}=0 \\;\\;\\Rightarrow\\;\\; V_{p,\\text{ext}}=-I_{B}R_{G}.\n$$\n因此输出电压为\n$$\nV_{out}=V_{os}-I_{B}R_{G}.\n$$\n代入给定值，并注意单位：\n$$\nI_{B}R_{G}=\\left(90\\times 10^{-9}\\right)\\left(120\\times 10^{3}\\right)=10800\\times 10^{-6}\\,\\text{V}=10.8\\,\\text{mV},\n$$\n所以\n$$\nV_{out}=2.0\\,\\text{mV}-10.8\\,\\text{mV}=-8.8\\,\\text{mV}.\n$$\n在电压跟随器中，反相输入偏置电流不会产生额外的失调，因为反相输入端直接连接到低阻抗的输出端（没有串联电阻来产生电压）。", "answer": "$$\\boxed{-8.8}$$", "id": "1341395"}, {"introduction": "理论分析和设计是电路学习的基础，但诊断和排除故障是每位工程师必须掌握的实践技能。当电路完全不按预期工作时，我们该如何是好？这个故障诊断场景 [@problem_id:1341434] 模拟了一个常见的实验室问题：电压跟随器的输出被锁定在负电源轨上。你需要像一名经验丰富的技术人员一样思考，分析多种可能的电路故障（例如输入端接反或电源断路），并判断哪一个或哪些是导致观测现象的根本原因。", "problem": "一名电子学学生使用标准运算放大器（op-amp）构建了一个电压跟随器电路，也称为单位增益缓冲器。该运算放大器由一个对称双电源供电，提供 $+V_{CC}$ 和 $-V_{EE}$ 两种电压。该电路旨在缓冲一个直流输入信号 $V_{in}$，该信号连接到运放的同相输入端。电路的输出 $V_{out}$ 被反馈连接到运放的反相输入端，形成负反馈回路。\n\n在测试电路时，该学生施加了一个恒定的正输入电压 $V_{in} = 2.0 \\text{ V}$。电源设置为 $+V_{CC} = +12 \\text{ V}$ 和 $-V_{EE} = -12 \\text{ V}$。学生测量输出电压 $V_{out}$，发现它卡在了大约 $-12 \\text{ V}$。对于任何施加的正输入电压，这种行为都持续存在。\n\n鉴于下面列出的可能电路故障，请确定哪一个（或哪些）故障能单独导致这种观察到的行为。选择所有有效选项。\n\nA. 运算放大器的同相（+）和反相（-）输入连接被意外对调。\nB. 连接到运算放大器的正电源（$+V_{CC}$）开路。\nC. 连接到运算放大器的负电源（$-V_{EE}$）开路。\nD. 反相（-）输入端意外对地短路。\nE. 输出端（$V_{out}$）意外对地短路。", "solution": "使用标准的高增益关系对运放进行建模\n$$\nV_{out}=A_{OL}\\left(V_{+}-V_{-}\\right),\n$$\n其输出饱和受电源限制为\n$$\n-V_{EE}\\leq V_{out}\\leq +V_{CC}.\n$$\n在设计的单位增益缓冲器中，$V_{+}=V_{in}$ 且 $V_{-}=V_{out}$，在负反馈条件下，闭环解为 $V_{out}=\\frac{A_{OL}}{1+A_{OL}}V_{in}\\approx V_{in}$，前提是回路连接正确且放大器供电正常。\n\n观察到的现象是，对于任何 $V_{in}>0$，测得的 $V_{out}\\approx -V_{EE}$，即输出被锁在负电源轨。评估每个列出的单一故障是否与此行为一致。\n\nA. 输入对调。同相和反相输入互换后，连接变为 $V_{+}=V_{out}$ 和 $V_{-}=V_{in}$。代数闭环方程为\n$$\nV_{out}=A_{OL}\\left(V_{out}-V_{in}\\right)\\;\\Rightarrow\\;V_{out}=\\frac{A_{OL}}{A_{OL}-1}V_{in},\n$$\n这意味着正反馈（在标准环路形式中分母为 $1-A_{OL}$）。对于 $A_{OL}\\gg 1$ 的情况，任何微小的偏差都会被驱动到某个电源轨。对于 $V_{in}>0$，从 $V_{out}\\approx 0$ 开始，得到 $V_{+}-V_{-}=V_{out}-V_{in}<0$，因此运放将 $V_{out}$ 驱动为负值，进一步减小 $V_{+}-V_{-}$ 并最终锁在 $V_{out}\\approx -V_{EE}$。这是自洽的，因为当 $V_{out}\\approx -V_{EE}$ 时，有 $V_{+}-V_{-}\\approx -V_{EE}-V_{in}<0$，这会维持负饱和状态。因此，对于任何 $V_{in}>0$，故障 A 单独可以导致观察到的 $V_{out}\\approx -V_{EE}$。\n\nB. $+V_{CC}$ 开路。在没有正电源而 $-V_{EE}$ 存在的情况下，内部级无法向 $+V_{CC}$ 提供电流，输出级只能将电压拉向 $-V_{EE}$。不论 $V_{in}$ 为何值，任何驱动 $V_{out}>0$ 的尝试都会失败，输出将被迫置于唯一可用的电源轨上，从而得到 $V_{out}\\approx -V_{EE}$。因此，故障 B 单独与观察结果一致。\n\nC. $-V_{EE}$ 开路。只有 $+V_{CC}$ 存在时，输出只能被驱动到 $+V_{CC}$。对于 $V_{in}>0$，运放将饱和在 $V_{out}\\approx +V_{CC}$，而不是 $-V_{EE}$。因此 C 不能解释观察到的行为。\n\nD. 反相输入对地短路。这会产生两种可能的影响。如果短路并未影响输出节点，那么 $V_{-}=0$ 且回路开路；对于 $V_{in}>0$，有 $V_{+}-V_{-}=V_{in}>0$，运放会将 $V_{out}$ 驱动至 $+V_{CC}$，而不是 $-V_{EE}$。反之，如果短路实际上将公共的 $V_{-}$–$V_{out}$ 节点接地（就像在缓冲器中反相输入引脚处直接短路一样），测得的 $V_{out}$ 将是 $0$，而不是 $-V_{EE}$。因此 D 单独与观察结果不一致。\n\nE. 输出对地短路。这将通过测量强制使 $V_{out}=0$，与观察到的 $V_{out}\\approx -V_{EE}$ 相矛盾。因此 E 单独与观察结果不一致。\n\n因此，唯一能够解释在任何 $V_{in}>0$ 的情况下 $V_{out}$ 卡在负电源轨的单一故障是 A 和 B。", "answer": "$$\\boxed{AB}$$", "id": "1341434"}]}