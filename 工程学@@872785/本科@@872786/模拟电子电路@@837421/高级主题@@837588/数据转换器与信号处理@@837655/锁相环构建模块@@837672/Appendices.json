{"hands_on_practices": [{"introduction": "锁相环（PLL）的第一步是检测参考信号和反馈信号之间的相位差异。这个练习探讨了如何使用一个基本的逻辑门——异或门（XOR）——作为数字鉴相器。通过解决这个问题，你将亲手计算出相位差是如何被转换成一个平均直流电压的，这个电压正是控制环路其余部分的关键信号[@problem_id:1325036]。", "problem": "一个异或（XOR）逻辑门被用作鉴相器，它是许多数字锁相环（PLL）系统中的一个基本组件。该门由两个信号输入，一个参考信号 $V_{ref}$ 和一个压控振荡器信号 $V_{vco}$。两个信号都是占空比为50%且频率相同的理想方波，频率为 $f$。异或门输出 $V_{out}$ 的逻辑电平对应于逻辑高电平的电压 $V_{OH}$ 和逻辑低电平的电压 $V_{OL}$。在某一特定工作状态下，观测到 $V_{vco}$ 信号滞后于 $V_{ref}$ 信号一个恒定的相位差 $\\phi = \\frac{\\pi}{4}$ 弧度。\n\n假设后续的环路滤波器能完美提取 $V_{out}$ 的直流分量，请确定此平均直流输出电压 $V_{out,avg}$ 的表达式，用 $V_{OH}$ 和 $V_{OL}$ 表示。", "solution": "问题要求在给定两个方波输入之间特定相位差的情况下，求出异或鉴相器的平均直流输出电压。\n\n周期信号 $V_{out}(t)$ 在一个周期 $T$ 内的平均电压 $V_{out,avg}$ 定义为：\n$$ V_{out,avg} = \\frac{1}{T} \\int_{0}^{T} V_{out}(t) dt $$\n\n当且仅当输入不同时，异或（XOR）门的输出为高电平。用电压电平表示，这意味着：\n- 当 $V_{ref}(t) \\neq V_{vco}(t)$ 时，$V_{out}(t) = V_{OH}$\n- 当 $V_{ref}(t) = V_{vco}(t)$ 时，$V_{out}(t) = V_{OL}$\n\n由于输出电压 $V_{out}(t)$ 是分段常数，计算平均电压的积分可以简化为电压电平的加权和，其中权重是输出保持在每个电平的持续时间分数（占空比）。\n$$ V_{out,avg} = D_{high} \\cdot V_{OH} + D_{low} \\cdot V_{OL} $$\n这里，$D_{high}$ 是高电平输出状态（输入不同）的占空比，$D_{low}$ 是低电平输出状态（输入相同）的占空比。根据定义，$D_{high} + D_{low} = 1$。\n\n我们的目标是求出 $D_{high}$，即在一个周期 $T$ 内输入信号不相等的时间所占的比例。我们来分析一个周期内的波形。两个周期为 $T$ 的信号之间的相位差 $\\phi$ 对应于一个时间偏移 $\\Delta t = \\frac{\\phi}{2\\pi} T$。\n\n输入是占空比为50%的方波。我们设定参考信号 $V_{ref}$ 的上升沿在 $t=0$ 时刻。\n- $V_{ref}$ 在 $0 \\leq t  T/2$ 期间为高电平。\n- $V_{ref}$ 在 $T/2 \\leq t  T$ 期间为低电平。\n\n$V_{vco}$ 信号滞后于 $V_{ref}$ 一个相位 $\\phi$，因此它向右平移了时间 $\\Delta t$。\n- $V_{vco}$ 在 $\\Delta t \\leq t  T/2 + \\Delta t$ 期间为高电平。\n- $V_{vco}$ 在 $T/2 + \\Delta t \\leq t  T + \\Delta t$ 期间为低电平。\n\n在每个周期中，输入信号在两个时间段内是不同的：\n1.  从 $t=0$ 开始，直到 $V_{vco}$ 也变为高电平。这个时间段是从 $t=0$ 到 $t=\\Delta t$。在此期间，$V_{ref}$ 是高电平，$V_{vco}$ 是低电平。持续时间为 $\\Delta t$。\n2.  从 $t=T/2$（此时 $V_{ref}$ 变为低电平）开始，直到 $V_{vco}$ 也变为低电平。这个时间段是从 $t=T/2$ 到 $t=T/2 + \\Delta t$。在此期间，$V_{ref}$ 是低电平，$V_{vco}$ 是高电平。持续时间同样是 $\\Delta t$。\n\n在一个周期 $T$ 内，输入不同的总持续时间是这两个时间段持续时间之和：\n$$ \\text{Total time different} = \\Delta t + \\Delta t = 2\\Delta t $$\n代入 $\\Delta t$ 的表达式：\n$$ \\text{Total time different} = 2 \\left( \\frac{\\phi}{2\\pi} T \\right) = \\frac{\\phi}{\\pi} T $$\n高电平输出状态的占空比是这段总时间除以周期 $T$：\n$$ D_{high} = \\frac{(\\phi/\\pi) T}{T} = \\frac{\\phi}{\\pi} $$\n低电平输出状态的占空比是：\n$$ D_{low} = 1 - D_{high} = 1 - \\frac{\\phi}{\\pi} $$\n现在我们可以写出异或鉴相器平均输出电压的通用表达式（对于 $0 \\leq \\phi \\leq \\pi$）：\n$$ V_{out,avg} = \\left(\\frac{\\phi}{\\pi}\\right) V_{OH} + \\left(1 - \\frac{\\phi}{\\pi}\\right) V_{OL} $$\n问题指定了相位差为 $\\phi = \\frac{\\pi}{4}$ 弧度。我们将这个值代入我们的通用表达式中：\n$$ D_{high} = \\frac{\\pi/4}{\\pi} = \\frac{1}{4} $$\n$$ D_{low} = 1 - \\frac{1}{4} = \\frac{3}{4} $$\n因此，平均输出电压为：\n$$ V_{out,avg} = \\left(\\frac{1}{4}\\right) V_{OH} + \\left(\\frac{3}{4}\\right) V_{OL} $$\n这可以写成一个单独的分数形式：\n$$ V_{out,avg} = \\frac{V_{OH} + 3V_{OL}}{4} $$", "answer": "$$\\boxed{\\frac{V_{OH} + 3 V_{OL}}{4}}$$", "id": "1325036"}, {"introduction": "现在让我们转向锁相环的最后一个核心模块：压控振荡器（VCO）。VCO最关键的特性是其控制电压与输出频率之间的关系，这个关系由VCO增益 $K_{VCO}$ 来量化。这个练习将指导你通过一个假设的实验，从两组简单的测量数据中推导出VCO增益，这是任何PLL设计或分析中都必须掌握的一项基本技能[@problem_id:1325076]。", "problem": "一名电子专业的学生正在为一个定制的无线电接收器表征一个关键组件：压控振荡器 (VCO)。VCO 是一种电子振荡器，其输出频率由输入直流电压决定，该电压通常称为控制电压。该学生进行了一项实验并记录了以下数据点，假设 VCO 在此工作范围内的响应是线性的：\n\n当控制电压设置为低值 $V_{low}$ 时，振荡器产生频率为 $f_{low}$ 的稳定正弦输出。\n当控制电压增加到高值 $V_{high}$ 时，输出频率变为 $f_{high}$。\n\n基于这两次测量，确定振荡器的增益，记为 $K_{VCO}$。请用符号表达式表示你的答案，其中包含 $V_{low}$、$V_{high}$、$f_{low}$ 和 $f_{high}$。增益的单位必须是弧度/秒/伏特 (rad/s/V)。", "solution": "假设控制电压和输出频率之间存在线性的 VCO 特性。设瞬时频率（单位：赫兹）的模型为 $f(V)=\\alpha+\\beta V$，因此瞬时角频率为 $\\omega(V)=2\\pi f(V)=2\\pi\\alpha+2\\pi\\beta V$。\n\n根据定义，VCO 增益是角频率对控制电压的灵敏度：\n$$\nK_{VCO}=\\frac{d\\omega}{dV}.\n$$\n根据线性模型，可得\n$$\nK_{VCO}=2\\pi\\frac{df}{dV}=2\\pi\\beta.\n$$\n使用两个测量点 $(V_{low},f_{low})$ 和 $(V_{high},f_{high})$，频率的斜率为\n$$\n\\frac{df}{dV}=\\frac{f_{high}-f_{low}}{V_{high}-V_{low}}.\n$$\n因此，\n$$\nK_{VCO}=2\\pi\\frac{f_{high}-f_{low}}{V_{high}-V_{low}}.\n$$\n其单位为弧度/秒/伏特，因为 $2\\pi(f_{high}-f_{low})$ 产生角频率的变化（rad/s），再除以电压得到 rad/s/V。", "answer": "$$\\boxed{2\\pi\\,\\frac{f_{high}-f_{low}}{V_{high}-V_{low}}}$$", "id": "1325076"}, {"introduction": "环路滤波器是将鉴相器和压控振荡器连接在一起的“粘合剂”，其设计直接决定了整个锁相环的动态性能。这个练习将引导你思考一个在PLL设计中至关重要的权衡：响应速度与噪声抑制。通过分析改变环路滤波器截止频率带来的影响，你将学会如何在快速锁定时间和低输出相位噪声之间做出明智的设计决策，这是从组件级分析迈向系统级思维的关键一步[@problem_id:1325056]。", "problem": "一位电子工程师正在为一个简单的数字通信系统设计一个频率合成器。该合成器围绕一个锁相环（PLL）构建，该锁相环必须能够快速切换其输出频率以对数据进行编码。PLL的核心由一个鉴相器（PD）、一个简单的无源RC低通环路滤波器和一个压控振荡器（VCO）组成。\n\n在称为设计A的初始设计中，环路滤波器使用一个电阻和一个电容，这产生了一个特定的环路带宽、一个锁定时间 $T_A$ 和一定水平的稳态输出相位噪声（抖动）。\n\n为了减少合成器在频率之间切换所需的时间，工程师提出了第二种配置，即设计B。在设计B中，RC环路滤波器的元件被更改，使其截止频率远高于设计A的截止频率。\n\n假设PLL的所有其他组件和参数保持不变，以下哪个陈述正确描述了从设计A转到设计B所导致的主要性能权衡？\n\nA. 设计B将具有更短的锁定时间和更低的输出相位噪声。\n\nB. 设计B将具有更长的锁定时间和更高的输出相位噪声。\n\nC. 设计B将具有更短的锁定时间但更高的输出相位噪声。\n\nD. 设计B将具有更长的锁定时间但更低的输出相位噪声。\n\nE. 环路滤波器截止频率的变化不会显著影响锁定时间或输出相位噪声，因为这些主要由VCO决定。\n\nF. 环路滤波器截止频率的变化将同时改善锁定时间和输出相位噪声，但会减小PLL的捕获范围。", "solution": "我们在相位域中对PLL进行建模。设鉴相器增益为 $K_{d}$，环路滤波器传递函数为 $F(s)$，VCO增益为 $K_{v}$（单位为 $\\mathrm{rad}\\,\\mathrm{s}^{-1}\\,\\mathrm{V}^{-1}$）。VCO贡献了一个从控制电压到输出相位的因子 $K_{v}/s$。开环传递函数为\n$$\nL(s)=\\frac{K_{d}K_{v}F(s)}{s}.\n$$\n从输入相位到输出相位的闭环传递函数为\n$$\nH(s)=\\frac{L(s)}{1+L(s)}.\n$$\n对于一个简单的无源RC低通环路滤波器，提高其截止频率会增加单位增益交越点附近频率范围内的 $|F(\\mathrm{j}\\omega)|$ 值，从而增加闭环带宽。分别用 $\\omega_{bA}$ 和 $\\omega_{bB}$ 表示设计A和设计B的环路带宽，其中滤波器的截止频率提高意味着 $\\omega_{bB} > \\omega_{bA}$。\n\n锁定时间与环路的特征速度（带宽或自然频率）成反比。对于阻尼比 $\\zeta$ 没有急剧改变的标准二阶锁相环，锁定或建立时间 $T$ 的标度关系如下\n$$\nT \\propto \\frac{1}{\\omega_{n}} \\sim \\frac{1}{\\omega_{b}}.\n$$\n因此，$\\omega_{bB} > \\omega_{bA}$ 意味着锁定时间 $T_B  T_A$。\n\n关于输出相位噪声，PLL对参考源和鉴相器噪声起低通滤波作用。更宽的环路带宽（设计B）将允许更多的高频噪声传递到输出，导致整体输出相位噪声增加。\n\n因此，从设计A到设计B的权衡是：锁定时间缩短，但输出相位噪声增加。这对应于选项C。", "answer": "$$\\boxed{C}$$", "id": "1325056"}]}