{"hands_on_practices": [{"introduction": "采样保持电路的核心功能是在“采样”阶段快速捕获输入电压。这个过程涉及到对保持电容进行充电或放电，以使其电压与输入信号匹配。本练习将通过计算更新电容器电压所需的平均电流，帮助您深入理解这一基本物理过程，并将数字域的输入（DAC码值）与模拟域的物理量（电流）直接联系起来。", "problem": "一个高速数据采集系统利用一个采样保持（S/H）电路来精确捕获一个数模转换器（DAC）的时变输出。该DAC是一个$N$位转换器，对于给定的整数数字输入码$D$，其输出电压$V_{DAC}$由关系式$V_{DAC} = \\frac{D}{2^N} V_{ref}$描述，其中$V_{ref}$是稳定的参考电压，$D$的范围可以从$0$到$2^N - 1$。\n\nS/H电路被认为是理想的，并使用一个电容值为$C_H$的保持电容器。S/H电路以周期方式工作。在持续时间为$\\tau_s$的“采样”阶段，一个理想的开关将DAC的输出连接到电容器，使电容器的电压迅速与DAC的输出电压匹配。\n\n最初，DAC被设置为数字码$D_1$，S/H电路刚刚完成其采样阶段，使电容器充电至相应的电压$V_1$。紧接着，DAC的数字输入码更新为一个新值$D_2$。在下一个持续时间为$\\tau_s$的采样阶段，S/H电路将其保持电容器上的电压从$V_1$更新为对应于新数字码$D_2$的新电压$V_2$。\n\n给定以下参数：\n-   位数，$N = 12$\n-   参考电压，$V_{ref} = 5.00$ V\n-   保持电容，$C_H = 15.0$ pF\n-   初始数字码，$D_1 = 819$\n-   最终数字码，$D_2 = 3277$\n-   采样持续时间，$\\tau_s = 25.0$ ns\n\n计算在从电压$V_1$更新到$V_2$期间，流入或流出保持电容器的平均电流的幅值$|I_{avg}|$。以毫安（mA）为单位表示你的答案，并四舍五入到三位有效数字。", "solution": "问题要求计算在采样阶段提供给保持电容器$C_H$的平均电流的幅值$|I_{avg}|$。平均电流定义为传输的总电荷$\\Delta Q$除以传输发生的时间间隔$\\Delta t$。\n\n$$|I_{avg}| = \\left| \\frac{\\Delta Q}{\\Delta t} \\right|$$\n\n电荷传输的时间间隔是指定的采样持续时间，所以$\\Delta t = \\tau_s$。传输到电容器的总电荷是其电容与两端电压变化的乘积。\n\n$$\\Delta Q = C_H \\Delta V_C = C_H (V_2 - V_1)$$\n\n这里，$V_1$是电容器上的初始电压，$V_2$是最终电压。这些电压由数模转换器（DAC）的输出设定。\n\n首先，我们确定与初始数字码$D_1$相对应的初始电压$V_1$。使用给定的DAC公式：\n\n$$V_1 = \\frac{D_1}{2^N} V_{ref}$$\n\n接着，我们确定与最终数字码$D_2$相对应的最终电压$V_2$：\n\n$$V_2 = \\frac{D_2}{2^N} V_{ref}$$\n\n因此，电压变化$\\Delta V_C$为：\n\n$$\\Delta V_C = V_2 - V_1 = \\left(\\frac{D_2}{2^N} V_{ref}\\right) - \\left(\\frac{D_1}{2^N} V_{ref}\\right) = \\frac{V_{ref}}{2^N} (D_2 - D_1)$$\n\n现在我们可以写出总传输电荷$\\Delta Q$的表达式：\n\n$$\\Delta Q = C_H \\left( \\frac{V_{ref}}{2^N} (D_2 - D_1) \\right)$$\n\n最后，我们将其代入平均电流的方程：\n\n$$I_{avg} = \\frac{\\Delta Q}{\\tau_s} = \\frac{C_H V_{ref} (D_2 - D_1)}{2^N \\tau_s}$$\n\n问题要求的是该电流的幅值$|I_{avg}|$。由于所有参数均为正值且$D_2 > D_1$，计算出的电流将为正，因此$|I_{avg}| = I_{avg}$。\n\n$$|I_{avg}| = \\frac{C_H V_{ref} (D_2 - D_1)}{2^N \\tau_s}$$\n\n现在我们将给定的数值代入此表达式：\n-   $C_H = 15.0 \\text{ pF} = 15.0 \\times 10^{-12} \\text{ F}$\n-   $V_{ref} = 5.00 \\text{ V}$\n-   $D_1 = 819$\n-   $D_2 = 3277$\n-   $N = 12$，所以 $2^N = 2^{12} = 4096$\n-   $\\tau_s = 25.0 \\text{ ns} = 25.0 \\times 10^{-9} \\text{ s}$\n\n首先，计算数字码的差值：\n$$D_2 - D_1 = 3277 - 819 = 2458$$\n\n现在，将所有值代入$|I_{avg}|$的方程中：\n\n$$|I_{avg}| = \\frac{(15.0 \\times 10^{-12} \\text{ F}) \\times (5.00 \\text{ V}) \\times (2458)}{4096 \\times (25.0 \\times 10^{-9} \\text{ s})}$$\n\n$$|I_{avg}| = \\frac{15.0 \\times 5.00 \\times 2458}{4096 \\times 25.0} \\times \\frac{10^{-12}}{10^{-9}} \\text{ A}$$\n\n$$|I_{avg}| = \\frac{184350}{102400} \\times 10^{-3} \\text{ A}$$\n\n$$|I_{avg}| \\approx 1.80029 \\times 10^{-3} \\text{ A}$$\n\n问题要求答案以毫安（mA）为单位。由于$1 \\text{ A} = 1000 \\text{ mA}$，我们有：\n\n$$|I_{avg}| \\approx 1.80029 \\text{ mA}$$\n\n最后，我们按照要求将结果四舍五入到三位有效数字：\n\n$$|I_{avg}| \\approx 1.80 \\text{ mA}$$", "answer": "$$\\boxed{1.80}$$", "id": "1330101"}, {"introduction": "在采样保持电路的设计中，工程师必须在两个相互矛盾的性能指标之间进行权衡：信号采集速度和电压保持稳定性。保持电容 $C_H$ 的选择是这一权衡的核心。本练习通过一个思想实验 [@problem_id:1330142] 探讨了改变电容值对采集时间和电压“下降率”的直接影响，揭示了采样保持电路设计中的一个基本折衷关系。", "problem": "一位工程师正在设计一个数据采集系统，该系统使用一个基本的采样保持（S/H）电路。该电路由一个具有恒定导通电阻 $R_{on}$ 的电子开关、一个初始电容为 $C_{H,1}$ 的保持电容器和理想的缓冲放大器组成。在“保持”模式下，一个恒定的、非零的漏电流 $I_{leak}$ 从电容器中流出，导致其电压逐渐下降。这种现象通过泄放率（droop rate）来量化。电路采集输入信号的速度由采集时间常数 $\\tau_{acq}$ 来表征。\n\n为了通过减少保持阶段的电压衰减来改善电路性能，该工程师决定用一个新的电容器替换原来的保持电容器，新电容器的电容为 $C_{H,2} = 2 C_{H,1}$。所有其他元件及其特性，包括 $R_{on}$ 和 $I_{leak}$，均保持不变。\n\n下列哪个陈述正确描述了这一修改对泄放率和采集时间常数的影响？\n\nA. 泄放率减半，采集时间常数加倍。\n\nB. 泄放率加倍，采集时间常数减半。\n\nC. 泄放率和采集时间常数都加倍。\n\nD. 泄放率和采集时间常数都减半。", "solution": "为了确定改变保持电容器值的影响，我们必须分析它对两个指定的性能指标的影响：采集时间常数和泄放率。\n\n首先，我们来分析采集时间常数 $\\tau_{acq}$。在“采样”或“采集”阶段，电子开关闭合，保持电容器 $C_H$ 向输入电压充电。这个充电过程被建模为一个简单的 RC 电路，其中电阻是开关的导通电阻 $R_{on}$。该 RC 电路的时间常数由电阻和电容的乘积给出。\n最初，使用电容器 $C_{H,1}$ 时，采集时间常数为：\n$$ \\tau_{acq, 1} = R_{on} C_{H,1} $$\n修改后，新电容器为 $C_{H,2} = 2 C_{H,1}$。新的采集时间常数 $\\tau_{acq, 2}$ 为：\n$$ \\tau_{acq, 2} = R_{on} C_{H,2} = R_{on} (2 C_{H,1}) = 2 (R_{on} C_{H,1}) = 2 \\tau_{acq, 1} $$\n因此，将电容加倍会使采集时间常数加倍。\n\n接下来，我们来分析泄放率。在“保持”阶段，开关是断开的。电容器两端的电压 $V_H$ 理想情况下是恒定的。然而，由于漏电流 $I_{leak}$ 对电容器放电，电压会随时间变化。电容器的电流、电容和电压变化率之间的基本关系是 $I = C \\frac{dV}{dt}$。\n在我们的情况下，电流是使电容器 $C_H$ 放电的漏电流 $I_{leak}$。泄放率定义为电容器两端电压变化率的绝对值。\n$$ \\text{泄放率} = \\left| \\frac{dV_H}{dt} \\right| $$\n根据电容器方程，我们有：\n$$ \\left| \\frac{dV_H}{dt} \\right| = \\frac{I_{leak}}{C_H} $$\n最初，使用电容器 $C_{H,1}$ 时，泄放率为：\n$$ \\text{泄放率}_1 = \\frac{I_{leak}}{C_{H,1}} $$\n用 $C_{H,2} = 2 C_{H,1}$ 替换电容器后，新的泄放率为：\n$$ \\text{泄放率}_2 = \\frac{I_{leak}}{C_{H,2}} = \\frac{I_{leak}}{2 C_{H,1}} = \\frac{1}{2} \\left( \\frac{I_{leak}}{C_{H,1}} \\right) = \\frac{1}{2} \\text{泄放率}_1 $$\n因此，将电容加倍会使泄放率减半。\n\n综合我们的发现，将保持电容加倍会导致采集时间常数加倍，而泄放率减半。这对应于选项 A。", "answer": "$$\\boxed{A}$$", "id": "1330142"}, {"introduction": "采样保持电路的性能必须满足其下游模拟数字转换器（ADC）的精度要求。本练习将理论付诸实践，要求您将数字世界的精度指标（10位ADC的分辨率）转化为模拟电路的一个关键物理参数（开关的导通电阻）。通过解决这个问题 [@problem_id:1330097]，您将学会如何设计一个能够满足特定采集时间和精度要求的电路，这是连接模拟前端和数字处理的关键一步。", "problem": "一个数据采集系统采用一个采样保持 (S/H) 电路，在模拟电压被数字化之前捕获其快速变化。该 S/H 电路被建模为一个模拟开关与一个保持电容串联。该开关具有一个非零导通电阻，表示为 $R_{on}$，保持电容的电容值为 $C_H$。\n\n在采集阶段，开关闭合一段特定的持续时间，即采集时间 $t_{acq}$，使电容器向输入电压充电。为使该系统能与下游的10位模数转换器 (ADC) 正常工作，在采集时间结束时，电容器两端的电压必须稳定在输入电压的半个最低有效位 (LSB) 之内。\n\n假设最坏情况，即电容器初始完全放电 (0 V)，且输入信号发生满量程阶跃。给定采集时间 $t_{acq} = 500 \\text{ ns}$ 和保持电容值 $C_H = 10 \\text{ pF}$，确定满足此精度要求的开关最大允许导通电阻 $R_{on}$。\n\n答案以欧姆 ($\\Omega$) 为单位表示，并四舍五入至三位有效数字。", "solution": "在采集期间，采样保持电路表现为一个 $RC$ 充电网络，其时间常数为 $\\tau = R_{on}C_{H}$。对于在 $t=0$ 时从 $0$ 到 $V_{FS}$ 的满量程阶跃，电容电压为\n$$\nV_{C}(t)=V_{FS}\\left(1-\\exp\\left(-\\frac{t}{R_{on}C_{H}}\\right)\\right).\n$$\n相对于最终值的稳定误差为\n$$\nE(t)=V_{FS}-V_{C}(t)=V_{FS}\\exp\\left(-\\frac{t}{R_{on}C_{H}}\\right).\n$$\n对于一个10位的ADC，半个LSB的要求是\n$$\nE(t_{acq}) \\leq \\frac{V_{FS}}{2^{11}}.\n$$\n消去 $V_{FS}>0$ 并取自然对数，得到：\n$$\n\\exp\\left(-\\frac{t_{acq}}{R_{on}C_H}\\right) \\leq 2^{-11} \\implies -\\frac{t_{acq}}{R_{on}C_H} \\leq -11\\ln 2 \\implies \\frac{t_{acq}}{R_{on}C_H} \\geq 11\\ln 2.\n$$\n因此，最大允许导通电阻为\n$$\nR_{on,\\max}=\\frac{t_{acq}}{C_{H}\\,11\\ln 2}.\n$$\n代入 $t_{acq}=500\\times 10^{-9}$ 和 $C_{H}=10\\times 10^{-12}$，\n$$\n\\frac{t_{acq}}{C_{H}}=\\frac{500\\times 10^{-9}}{10\\times 10^{-12}}=5.00\\times 10^{4},\n$$\n所以\n$$\nR_{on,\\max}=\\frac{5.00\\times 10^{4}}{11\\ln 2}\\approx \\frac{5.00\\times 10^{4}}{7.624618986}\\approx 6.5577\\times 10^{3}.\n$$\n四舍五入到三位有效数字，结果是 $6.56\\times 10^{3}$。", "answer": "$$\\boxed{6.56 \\times 10^{3}}$$", "id": "1330097"}]}