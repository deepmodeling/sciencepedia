{"hands_on_practices": [{"introduction": "带隙基准电压源的基石在于创造一个可预测的、与温度相关的电压。本练习将深入探讨产生一个“与绝对温度成正比”（Proportional To Absolute Temperature, PTAT）电压的核心原理。通过分析两个具有不同发射极面积的晶体管，你将发现如何得出一个与温度成正比的电压差，从而构建具有正温度系数的关键模块。", "problem": "在设计一个温度稳定的带隙基准电压源时，一个关键组件是一对双极结型晶体管 (BJT)，记为 Q1 和 Q2。这两个晶体管制造在同一硅片上，并假设除了发射极面积外，在所有方面都相同。晶体管 Q2 的发射结面积是晶体管 Q1 的 8 倍。在电路中，两个晶体管都在相同的集电极电流下工作。集电极电流 ($I_C$) 和基极-发射极电压 ($V_{BE}$) 之间的关系由简化的 Ebers-Moll 方程 $I_C = I_S \\exp(V_{BE}/V_T)$ 决定，其中 $I_S$ 是饱和电流，$V_T$ 是热电压。饱和电流 $I_S$ 与发射结面积成正比。系统在 $T = 300 \\text{ K}$ 的温度下运行。使用玻尔兹曼常数 $k_B = 1.3806 \\times 10^{-23} \\text{ J/K}$ 和元电荷 $q = 1.6022 \\times 10^{-19} \\text{ C}$。\n\n计算它们的基极-发射极电压之差，定义为 $\\Delta V_{BE} = V_{BE1} - V_{BE2}$。将答案以毫伏 (mV) 表示，并四舍五入到三位有效数字。", "solution": "给定在正向有源区工作的 BJT 的简化 Ebers-Moll 关系式，\n$$\nI_{C} = I_{S}\\,\\exp\\!\\left(\\frac{V_{BE}}{V_{T}}\\right),\n$$\n其中热电压定义为\n$$\nV_{T} = \\frac{k_{B}T}{q},\n$$\n又知饱和电流与发射极面积成正比，因此对于在相同集电极电流下工作的两个晶体管，我们有，\n$$\nI_{C} = I_{S1}\\,\\exp\\!\\left(\\frac{V_{BE1}}{V_{T}}\\right) = I_{S2}\\,\\exp\\!\\left(\\frac{V_{BE2}}{V_{T}}\\right),\n$$\n其中 $I_{S2} = 8 I_{S1}$，因为 Q2 的发射极面积是 Q1 的八倍。\n\n将这两个表达式相除可得\n$$\n\\frac{I_{S1}\\,\\exp\\!\\left(\\frac{V_{BE1}}{V_{T}}\\right)}{I_{S1}\\,\\exp\\!\\left(\\frac{V_{BE2}}{V_{T}}\\right)} = \\frac{I_{S2}}{I_{S1}} \\implies \\exp\\!\\left(\\frac{V_{BE1}-V_{BE2}}{V_{T}}\\right) = 8.\n$$\n取自然对数，\n$$\n\\Delta V_{BE} \\equiv V_{BE1} - V_{BE2} = V_{T}\\,\\ln(8).\n$$\n\n使用 $k_{B} = 1.3806 \\times 10^{-23}\\,\\text{J/K}$ 和 $q = 1.6022 \\times 10^{-19}\\,\\text{C}$ 计算在 $T=300\\,\\text{K}$ 时的 $V_{T}$：\n$$\nV_{T} = \\frac{k_{B}T}{q} = \\frac{(1.3806 \\times 10^{-23})(300)}{1.6022 \\times 10^{-19}}\\,\\text{V}\n= \\frac{4.1418 \\times 10^{-21}}{1.6022 \\times 10^{-19}}\\,\\text{V}\n= \\left(\\frac{4.1418}{1.6022}\\right)\\times 10^{-2}\\,\\text{V}\n\\approx 2.585 \\times 10^{-2}\\,\\text{V}.\n$$\n则\n$$\n\\Delta V_{BE} = V_{T}\\,\\ln(8) \\approx (0.02585\\,\\text{V})\\,(2.07944) = 0.053753\\,\\text{V} = 53.753\\,\\text{mV}.\n$$\n四舍五入到三位有效数字，得到\n$$\n\\Delta V_{BE} \\approx 53.8\\,\\text{mV}.\n$$", "answer": "$$\\boxed{53.8}$$", "id": "1282339"}, {"introduction": "一个稳定的电压基准是通过巧妙地平衡相反的温度漂移来实现的。本练习建立在PTAT电压的概念之上，将其与一个“与绝对温度互补”（Complementary to Absolute Temperature, CTAT）的电压（通常是晶体管的基极-发射极电压 $V_{BE}$）相结合。你将探索这两个分量如何被相加和缩放以理想地创造一个零温度系数，以及当缩放因子偏离其理想值时会发生什么——这是电路实际制造中常见的问题 [@problem_id:1282339]。", "problem": "一位模拟电路设计师正在设计一个带隙基准电压源。输出电压 $V_{REF}$ 是通过将一个具有负温度系数的电压与一个具有正温度系数的电压相加而产生的。这可以用以下方程来建模：\n$$V_{REF} = V_{BE} + M \\cdot \\ln(N) \\cdot V_T$$\n此处，$V_{BE}$ 是一个关键双极结型晶体管 (BJT) 的基极-发射极电压，它作为一个与绝对温度互补 (CTAT) 的电压源。项 $M \\cdot \\ln(N) \\cdot V_T$ 代表与绝对温度成正比 (PTAT) 的电压分量。\n\n该模型中的参数定义如下：\n- $V_T = \\frac{k_B T}{q}$ 是热电压，其中 $T$ 是绝对温度。\n- $k_B = 1.3806 \\times 10^{-23} \\text{ J/K}$ 是玻尔兹曼常数。\n- $q = 1.6022 \\times 10^{-19} \\text{ C}$ 是基本电荷。\n- $N$ 是一个无量纲常数，代表电路中两个晶体管的发射极面积之比，给定值为 $N=10$。\n- $M$ 是一个无量纲的电阻比，$M = R_2/R_1$，用于缩放 PTAT 电压。\n- 在工作点，基极-发射极电压的温度系数是恒定的，由 $\\frac{dV_{BE}}{dT} = -2.10 \\text{ mV/K}$ 给出。\n\n通过仔细选择电阻比 $M$，该电路被设计为在其标称工作温度下具有零温度系数 ($\\frac{dV_{REF}}{dT} = 0$) 。然而，由于制造误差，实际电阻比 $M$ 比实现此零温度系数所需的理想值大 15%。\n\n计算输出电压最终的温度系数 $\\frac{dV_{REF}}{dT}$。请将最终答案以微伏每开尔文 (µV/K) 为单位表示，并四舍五入到三位有效数字。", "solution": "给定带隙基准模型\n$$V_{REF} = V_{BE} + M \\cdot \\ln(N) \\cdot V_{T},$$\n其中 $V_{T} = \\frac{k_{B} T}{q}$。对 $T$ 求导，并将 $M$ 和 $N$ 视为与温度无关的常数，\n$$\\frac{dV_{REF}}{dT} = \\frac{dV_{BE}}{dT} + M \\cdot \\ln(N) \\cdot \\frac{dV_{T}}{dT}.$$\n因为 $V_{T} = \\frac{k_{B} T}{q}$，我们有\n$$\\frac{dV_{T}}{dT} = \\frac{k_{B}}{q}.$$\n因此，\n$$\\frac{dV_{REF}}{dT} = \\frac{dV_{BE}}{dT} + M \\cdot \\ln(N) \\cdot \\frac{k_{B}}{q}.$$\n\n在标称工作温度下，选择理想电阻比 $M_{\\text{ideal}}$ 以使温度系数为零：\n$$0 = \\frac{dV_{BE}}{dT} + M_{\\text{ideal}} \\cdot \\ln(N) \\cdot \\frac{k_{B}}{q}.$$\n所以，\n$$M_{\\text{ideal}} \\cdot \\ln(N) \\cdot \\frac{k_{B}}{q} = -\\frac{dV_{BE}}{dT}.$$\n\n由于制造误差，实际比率为 $M_{\\text{act}} = (1 + \\delta) M_{\\text{ideal}}$，其中 $\\delta = 0.15$。最终的温度系数变为\n$$\\left.\\frac{dV_{REF}}{dT}\\right|_{\\text{act}} = \\frac{dV_{BE}}{dT} + M_{\\text{act}} \\cdot \\ln(N) \\cdot \\frac{k_{B}}{q}.$$\n代入 $M_{\\text{act}} = (1 + \\delta) M_{\\text{ideal}}$ 并使用零温度系数条件：\n$$\\left.\\frac{dV_{REF}}{dT}\\right|_{\\text{act}} = \\frac{dV_{BE}}{dT} + (1 + \\delta)\\left(-\\frac{dV_{BE}}{dT}\\right) = -\\delta \\frac{dV_{BE}}{dT}.$$\n\n当 $\\frac{dV_{BE}}{dT} = -2.10 \\text{ mV/K}$ 且 $\\delta = 0.15$ 时，\n$$\\left.\\frac{dV_{REF}}{dT}\\right|_{\\text{act}} = -0.15 \\times (-2.10 \\text{ mV/K}) = 0.315 \\text{ mV/K}.$$\n转换为微伏每开尔文，\n$$0.315 \\text{ mV/K} = 315 \\text{ 微伏每开尔文}。$$\n四舍五入到三位有效数字，以所要求的单位表示的结果是 $315$。", "answer": "$$\\boxed{315}$$", "id": "1282324"}, {"introduction": "在设计了一个旨在实现温度稳定的电路之后，我们必须量化其性能。温度系数（Temperature Coefficient, TC）是用于此目的的行业标准指标。本练习提供了一个基于实验数据手动计算平均温度系数的方法，教你如何表征电压基准的热稳定性，并用标准单位百万分率每摄氏度（ppm/$^{\\circ}$C）来表示，从而将理论设计与实际性能联系起来 [@problem_id:1282324]。", "problem": "电压基准电路的一个关键特性是其对温度波动的稳定性。这通过平均温度系数 (TC) 来量化，它衡量了输出电压随温度每度变化的相对变化量。\n\n一位工程师对一款新的带隙电压基准设计进行热测试。该器件经过了温度扫描测试。在初始温度 $T_1 = 0.0^{\\circ}\\text{C}$ 时，测得的输出基准电压为 $V_1 = 1.250 \\text{ V}$。然后温度稳定在最终值 $T_2 = 100.0^{\\circ}\\text{C}$，此时测得的输出电压为 $V_2 = 1.251 \\text{ V}$。为了进行本次分析，用于归一化的参考电压被认为是初始温度下的电压 $V_1$。\n\n计算该器件在给定温度范围内的平均温度系数。结果以百万分率每摄氏度 (ppm/$^{\\circ}$C) 为单位表示。将最终答案四舍五入至三位有效数字。", "solution": "在有限温度区间内的平均温度系数定义为单位温度变化引起的输出相对变化，并以选定的参考电压进行归一化。使用指定的初始电压 $V_{1}$进行归一化，平均温度系数为\n$$\n\\text{TC}_{\\text{avg}}=\\frac{V_{2}-V_{1}}{V_{1}\\left(T_{2}-T_{1}\\right)} \\quad \\text{per }{}^{\\circ}\\text{C}.\n$$\n代入给定值 $V_{1}=1.250\\ \\text{V}$、$V_{2}=1.251\\ \\text{V}$、$T_{1}=0.0^{\\circ}\\text{C}$ 和 $T_{2}=100.0^{\\circ}\\text{C}$，我们计算增量\n$$\n\\Delta V=V_{2}-V_{1}=1.251-1.250=0.001\\ \\text{V}, \\qquad \\Delta T=T_{2}-T_{1}=100.0-0.0=100.0\\ {}^{\\circ}\\text{C}.\n$$\n因此，\n$$\n\\text{TC}_{\\text{avg}}=\\frac{0.001}{1.250\\times 100.0}\\ \\text{per }{}^{\\circ}\\text{C}\n=\\frac{0.001}{125}\\ \\text{per }{}^{\\circ}\\text{C}\n=8.0\\times 10^{-6}\\ \\text{per }{}^{\\circ}\\text{C}.\n$$\n为了以百万分率每摄氏度表示，注意到 $1\\ \\text{ppm} = 10^{-6}$，因此\n$$\n\\text{TC}_{\\text{avg}}=8.0\\ \\text{ppm}/{}^{\\circ}\\text{C}.\n$$\n四舍五入到三位有效数字，得到 $8.00\\ \\text{ppm}/{}^{\\circ}\\text{C}$。", "answer": "$$\\boxed{8.00}$$", "id": "1282313"}]}