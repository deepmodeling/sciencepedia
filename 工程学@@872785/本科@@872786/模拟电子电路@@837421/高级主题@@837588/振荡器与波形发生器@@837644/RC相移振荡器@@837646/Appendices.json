{"hands_on_practices": [{"introduction": "让我们从任何振荡器的基本设计任务开始：选择合适的元件以实现所需频率。本练习将引导你完成经典三级 RC 相移振荡器的核心计算，将理论频率公式与具体的元件值联系起来。这是将电路图转化为功能设备的第一步 [@problem_id:1328319]。", "problem": "一位电子爱好者正在为一台定制的模拟合成器设计一个简单的音频音调发生器。其目标是在特定频率下产生稳定的正弦波形。所选的电路是一个相移振荡器，它在一个带有无源滤波网络的反馈回路中使用了一个反相放大器。该网络由三个相同的电阻-电容 (RC) 级联而成。\n\n对于这种特定类型的三级 RC 网络，当网络引入的总相移为 180 度时，在频率 $f_0$ 处满足振荡条件。振荡频率、每个电阻的阻值 $R$ 以及每个电容的容值 $C$ 之间的关系由以下公式给出：\n$$f_0 = \\frac{1}{2\\pi RC\\sqrt{6}}$$\n设计要求目标振荡频率为 $f_0 = 1.00 \\text{ kHz}$。为了构建滤波网络，这位爱好者选择了三个相同的电容器，每个电容的容值为 $C = 10.0 \\text{ nF}$。\n\n计算反馈网络中每个相同电阻所需的阻值，以达到目标频率。将您的答案以千欧姆 ($\\text{k}\\Omega$) 为单位表示，并将最终答案四舍五入至三位有效数字。", "solution": "对于一个三级 RC 相移振荡器，其振荡频率由标准关系式给出\n$$f_{0}=\\frac{1}{2\\pi RC\\sqrt{6}}.$$\n为求出每级所需的电阻，求解 $R$：\n$$R=\\frac{1}{2\\pi f_{0}C\\sqrt{6}}.$$\n代入目标频率和选定的电容值，使用 $f_{0}=1.00\\times 10^{3}\\ \\text{s}^{-1}$ 和 $C=10.0\\times 10^{-9}\\ \\text{F}$：\n$$R=\\frac{1}{2\\pi\\left(1.00\\times 10^{3}\\right)\\left(10.0\\times 10^{-9}\\right)\\sqrt{6}}=\\frac{1}{2\\pi\\sqrt{6}\\times 1.00\\times 10^{-5}}\\ \\Omega.$$\n计算数值因子 $2\\pi\\sqrt{6}\\approx 15.3906$，得到\n$$R\\approx \\frac{1}{15.3906\\times 10^{-5}}\\ \\Omega\\approx 6.496\\times 10^{3}\\ \\Omega=6.496\\ \\text{k}\\Omega.$$\n四舍五入至三位有效数字得到\n$$R\\approx 6.50\\ \\text{k}\\Omega.$$", "answer": "$$\\boxed{6.50}$$", "id": "1328319"}, {"introduction": "在现实世界中，元件从来都不是完美的；它们都带有制造容差。本练习探讨电阻和电容的这些微小变化如何影响电路的实际振荡频率。理解这一点对于预测设计的性能范围至关重要，也是稳健工程设计的关键一环 [@problem_id:1328263]。", "problem": "一个RC相移振荡器采用一个理想反相运算放大器和一个无源反馈网络来设计。该反相放大器提供 $180^\\circ$ 的相移。反馈网络是一个三级电阻-电容（RC）梯形滤波器，它必须提供振荡所需的额外 $180^\\circ$ 相移。\n\n对于所使用的特定拓扑，三级RC网络的电压传递函数 $H(s) = V_{\\text{out}}(s)/V_{\\text{in}}(s)$ 由下式给出：\n$$ H(s) = \\frac{1}{(sR'C')^3 + 5(sR'C')^2 + 6(sR'C') + 1} $$\n其中 $R'$ 和 $C'$ 是网络每级中使用的实际电阻和电容值。\n\n该振荡器使用具有 $\\pm 10\\%$ 制造公差的元件构建。这意味着电路中使用的所有三个电阻都具有相同的电阻值 $R'$，其可以是范围 $[0.90R, 1.10R]$ 内的任何值，其中 $R$ 是标称电阻值。同样，所有三个电容器都具有相同的电容值 $C'$，其可以是范围 $[0.90C, 1.10C]$ 内的任何值，其中 $C$ 是标称电容值。$R'$ 和 $C'$ 的实际值相互独立。\n\n计算由于这些元件公差可能出现的最大可能振荡频率 $f_{\\text{max}}$ 与最小可能振荡频率 $f_{\\text{min}}$ 的理论比值。将您的最终答案四舍五入到三位有效数字。", "solution": "设 $H(s)$ 为三级RC反馈网络的传递函数：\n$$\nH(s)=\\frac{1}{(sR'C')^{3}+5(sR'C')^{2}+6(sR'C')+1}.\n$$\n为了振荡，巴克豪森相位条件 (Barkhausen phase condition) 要求反馈网络提供 $-\\pi$ 的相位，以便与反相放大器的 $-\\pi$ 相位相加后，总环路相位为 $-2\\pi$。设 $s=j\\omega$ 并定义 $x=\\omega R'C'$。那么 $H(j\\omega)$ 的分母为\n$$\nD(jx)=(jx)^{3}+5(jx)^{2}+6(jx)+1=(1-5x^{2})+j(6x-x^{3}).\n$$\n$H(j\\omega)$ 的相位等于 $-\\arg D(jx)$。为了使 $\\arg H(j\\omega)=-\\pi$，我们需要 $D(jx)$ 是一个负实数，这要求\n$$\n\\Im\\{D(jx)\\}=6x-x^{3}=0 \\quad\\Rightarrow\\quad x(6-x^{2})=0.\n$$\n非平凡解是 $x=\\sqrt{6}$。在此 $x$ 值下，$\\Re\\{D(jx)\\}=1-5x^{2}=1-30=-29$，所以确实 $\\arg D=\\pi$ 且 $\\arg H=-\\pi$。因此振荡频率为\n$$\n\\omega_{0}=\\frac{\\sqrt{6}}{R'C'},\\qquad f_{0}=\\frac{\\sqrt{6}}{2\\pi R'C'}.\n$$\n因此 $f_{0}\\propto 1/(R'C')$。在公差 $R'\\in[0.90R,1.10R]$ 和 $C'\\in[0.90C,1.10C]$ 下，且 $R'$ 和 $C'$ 相互独立，乘积 $R'C'$ 达到\n$$\n(R'C')_{\\min}=0.90R\\cdot 0.90C=0.81RC,\\qquad (R'C')_{\\max}=1.10R\\cdot 1.10C=1.21RC.\n$$\n因此，\n$$\nf_{\\max}=\\frac{\\sqrt{6}}{2\\pi\\,(R'C')_{\\min}}=\\frac{\\sqrt{6}}{2\\pi\\cdot 0.81\\,RC},\\qquad\nf_{\\min}=\\frac{\\sqrt{6}}{2\\pi\\,(R'C')_{\\max}}=\\frac{\\sqrt{6}}{2\\pi\\cdot 1.21\\,RC}.\n$$\n该比值为\n$$\n\\frac{f_{\\max}}{f_{\\min}}=\\frac{1/0.81}{1/1.21}=\\frac{1.21}{0.81}=\\frac{121}{81}\\approx 1.493827\\ldots\n$$\n四舍五入到三位有效数字，结果是 $1.49$。", "answer": "$$\\boxed{1.49}$$", "id": "1328263"}, {"introduction": "对于任何电路设计师来说，故障排查都是一项至关重要的技能。本问题呈现了一个元件故障导致振荡器停止工作的场景。通过分析有故障的反馈网络，你将学习如何应用电路分析原理来诊断问题，并理解电路在故障条件下的行为变化 [@problem_id:1328308]。", "problem": "一位工程师正在设计一个 RC 相移振荡器。该设计由一个理想反相运算放大器和一个反馈网络组成。反馈网络是一个三级高通滤波器。在此网络中，三个电容值为 $C$ 的电容器串联连接。从电容器之间的两个节点处，各有一个电阻值为 $R$ 的电阻器接地。第三个相同的电阻器 $R$ 将最后一个节点（在电容链的输出端）接地，并且该节点也用作运算放大器反相输入端的输入。\n\n在初步测试期间，出现了一个故障：第三个也是最后一个电阻器，即连接到网络输出节点的那个电阻器，变成了开路。结果，振荡停止了。为了诊断问题，工程师将故障的反馈网络隔离出来，将其作为一个独立的两端口电路进行特性分析。一个正弦输入电压被施加到网络的输入端（原先连接运算放大器输出的地方），并在网络的输出端（现在是开路）测量得到的输出电压。\n\n确定输出电压信号恰好超前输入电压信号 $90^\\circ$ 相位时的角频率 $\\omega_p$。请用 $R$ 和 $C$ 将您的答案表示为一个解析表达式。", "solution": "设输入节点（原先连接运算放大器输出的地方）位于第一个电容器的左侧。三个电容值为 $C$ 的电容器串联，第一个和第二个电容器之间的节点为 $v_{1}$，第二个和第三个电容器之间的节点为 $v_{2}$。电阻器 $R$ 将 $v_{1}$ 和 $v_{2}$ 接地。第三个分流电阻器（原先从输出节点接地）因故障而开路，最右侧的输出端是开路的。\n\n由于输出端是开路的，最后一个电容器没有电流流过，其电流为\n$$i_{3}=C \\frac{d}{dt}(v_{2}-v_{\\text{out}})=0 \\implies v_{2}-v_{\\text{out}}=\\text{constant}.$$\n在零初始条件下的稳态正弦运行中，这个常数为零，所以\n$$v_{\\text{out}}=v_{2}.$$\n因此，第三个电容器不对网络产生负载，有效的两端口电路简化为两个串联电容器，在 $v_{1}$ 和 $v_{2}$ 处有分流电阻器，输出为 $v_{2}$。\n\n使用频域节点分析法，设 $s=j\\omega$，电容器导纳 $Y=sC$，电阻器电导 $G=1/R$。在 $v_{1}$ 和 $v_{2}$ 处应用基尔霍夫电流定律（KCL）得到\n$$Y(v_{1}-V_{\\text{in}})+Y(v_{1}-v_{2})+G v_{1}=0,$$\n$$Y(v_{2}-v_{1})+G v_{2}=0.$$\n由第二个方程可得，\n$$-Y v_{1}+(Y+G)v_{2}=0 \\implies v_{1}=\\frac{Y+G}{Y}\\,v_{2}.$$\n代入第一个方程：\n$$Y\\left(\\frac{Y+G}{Y}v_{2}-V_{\\text{in}}\\right)+Y\\left(\\frac{Y+G}{Y}v_{2}-v_{2}\\right)+G\\left(\\frac{Y+G}{Y}v_{2}\\right)=0.$$\n化简后得到\n$$\\left(\\frac{(2Y+G)(Y+G)}{Y}-Y\\right)v_{2}=Y V_{\\text{in}}.$$\n因此传递函数为\n$$H(s)\\equiv \\frac{v_{2}}{V_{\\text{in}}}=\\frac{Y^{2}}{(2Y+G)(Y+G)-Y^{2}}.$$\n计算分母：\n$$(2Y+G)(Y+G)-Y^{2}=2Y^{2}+3GY+G^{2}-Y^{2}=Y^{2}+3GY+G^{2}.$$\n因此\n$$H(s)=\\frac{Y^{2}}{Y^{2}+3GY+G^{2}}=\\frac{(sC)^{2}}{(sC)^{2}+3\\frac{1}{R}(sC)+\\frac{1}{R^{2}}}.$$\n设 $x=sRC$。由于 $Y=sC=x/R$ 和 $G=1/R$，上式变为\n$$H(s)=\\frac{x^{2}}{x^{2}+3x+1}.$$\n在虚轴上 $s=j\\omega$，$x=j\\omega RC$，所以\n$$H(j\\omega)=\\frac{- (\\omega RC)^{2}}{1-(\\omega RC)^{2}+j\\,3(\\omega RC)}.$$\n分子的相位是 $\\pi$（负实数），分母的实部为 $1-(\\omega RC)^{2}$，虚部为 $3(\\omega RC)$。传递函数的相位为\n$$\\arg H(j\\omega)=\\pi-\\arg\\big(1-(\\omega RC)^{2}+j\\,3(\\omega RC)\\big).$$\n要使输出恰好超前输入 $\\pi/2$，我们需要\n$$\\arg\\big(1-(\\omega RC)^{2}+j\\,3(\\omega RC)\\big)=\\frac{\\pi}{2}.$$\n这发生在分母为纯虚数且虚部为正的情况下，即，\n$$1-(\\omega RC)^{2}=0,\\quad 3(\\omega RC)>0.$$\n因此 $\\omega RC=1$（取 $\\omega>0$），得到\n$$\\omega_{p}=\\frac{1}{RC}.$$", "answer": "$$\\boxed{\\frac{1}{RC}}$$", "id": "1328308"}]}