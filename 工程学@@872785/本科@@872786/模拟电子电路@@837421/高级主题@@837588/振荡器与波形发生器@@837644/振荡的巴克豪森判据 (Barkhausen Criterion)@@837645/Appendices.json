{"hands_on_practices": [{"introduction": "要真正掌握巴克豪森准则，最好的方法就是通过计算来直接应用它。这个基础练习将引导你分析一个由一个可调增益放大器和三个级联的一阶滤波器组成的典型反馈系统。我们的目标是精确地运用巴克豪森的幅度和相位两个条件，来确定系统从稳定状态过渡到产生持续振荡的临界点，即计算出临界增益 $K_{crit}$ 和振荡角频率 $\\omega_{osc}$。通过这个练习[@problem_id:1336432]，你将为后续更复杂的振荡器分析打下坚实的计算基础。", "problem": "一个反馈控制系统采用一个可调正实数增益 $K$ 的同相放大器和一个建模为三个相同的、级联的、无相互作用的一阶滞后环节的受控对象进行设计。该系统的总开环传递函数（也称为环路增益）由下式给出：\n$$L(s) = \\frac{K}{(s\\tau + 1)^3}$$\n对于这个特定系统，每个环节的特征时间常数 $\\tau$ 被归一化为 $1$ 秒。\n\n根据巴克豪森稳定性判据，当增益 $K$ 增加到一个特定的临界值 $K_{crit}$ 时，系统将从稳定运行过渡到以特定的角频率 $\\omega_{osc}$ 产生持续的、无阻尼的正弦振荡。\n\n确定临界增益 $K_{crit}$ 的精确值和对应的振荡角频率 $\\omega_{osc}$。增益 $K_{crit}$ 是一个无量纲量，角频率 $\\omega_{osc}$ 应以 rad/s 为单位表示。", "solution": "环路增益由 $L(s) = \\dfrac{K}{(s+1)^{3}}$ 给出，其中 $\\tau = 1$。在虚轴上求值可得\n$$\nL(j\\omega) = \\frac{K}{(1 + j\\omega)^{3}}.\n$$\n写出 $L(j\\omega)$ 的幅值和相位：\n- 幅值为\n$$\n|L(j\\omega)| = \\frac{K}{|1 + j\\omega|^{3}} = \\frac{K}{\\left(\\sqrt{1 + \\omega^{2}}\\right)^{3}} = \\frac{K}{(1+\\omega^{2})^{3/2}}.\n$$\n- 相位为\n$$\n\\arg L(j\\omega) = -3\\,\\arg(1 + j\\omega) = -3\\,\\arctan(\\omega).\n$$\n负反馈回路中振荡起始的巴克豪森相位条件是\n$$\n\\arg L(j\\omega_{osc}) = -\\pi + 2\\pi m,\n$$\n其中最小的非负整数 $m$ 给出最低的正频率。取 $m=0$ 得\n$$\n-3\\,\\arctan(\\omega_{osc}) = -\\pi \\quad \\Rightarrow \\quad \\arctan(\\omega_{osc}) = \\frac{\\pi}{3} \\quad \\Rightarrow \\quad \\omega_{osc} = \\tan\\!\\left(\\frac{\\pi}{3}\\right) = \\sqrt{3}.\n$$\n应用幅值条件 $|L(j\\omega_{osc})| = 1$ 来求得 $K_{crit}$：\n$$\n1 = \\frac{K_{crit}}{(1+\\omega_{osc}^{2})^{3/2}} \\quad \\Rightarrow \\quad K_{crit} = (1+\\omega_{osc}^{2})^{3/2}.\n$$\n代入 $\\omega_{osc} = \\sqrt{3}$：\n$$\nK_{crit} = (1+3)^{3/2} = 4^{3/2} = 8.\n$$\n因此，临界增益和振荡频率分别为 $K_{crit} = 8$ 和 $\\omega_{osc} = \\sqrt{3}$ rad/s。", "answer": "$$\\boxed{\\begin{pmatrix} 8  \\sqrt{3} \\end{pmatrix}}$$", "id": "1336432"}, {"introduction": "理解一个电路为什么“能够”振荡固然重要，但理解它为什么“不能”振荡，往往能让我们对物理原理有更深刻的认识。本练习[@problem_id:1336402]提出了一个思想实验：尝试使用一个反相放大器（提供 $180^\\circ$ 相移）和仅仅两级RC低通滤波器来构建一个振荡器。我们将运用巴克豪森准则来剖析这个设计为何从根本上是失败的。这个过程将揭示一个核心要点：振荡条件必须在一个有限且非零的频率上同时满足，而在此频率上，环路增益的幅度也必须为1。", "problem": "一位电子工程师正在设计一个正弦波振荡器。所提出的电路由一个反馈环路组成，该环路包含一个理想反相放大器和一个反馈网络。该放大器提供恒定的增益，并在所有频率上引入恰好 $-180^\\circ$ 的相移。根据巴克豪森振荡准则 (Barkhausen criterion)，反馈网络必须在期望的振荡频率下提供额外的 $-180^\\circ$ 相移，以使总环路相移为 $-360^\\circ$。\n\n工程师使用两个相同的低通电阻-电容 (RC) 滤波器级联来构建反馈网络。为了简化设计并防止级间负载效应，在第一级和第二级之间放置了一个理想的单位增益缓冲器，使它们互不影响。单个这样的低通 RC 级的传递函数由 $H_1(s) = \\frac{1}{1+sRC}$ 给出，其中 $s$ 是复频率变量，$R$ 是电阻，$C$ 是电容。\n\n该电路未能振荡。以下哪个陈述为此失效提供了正确的物理解释？\n\nA. 两级网络可能的最大相移为 $-90^\\circ$，不足以满足振荡准则。\nB. 两级网络可能的最大相移为 $-120^\\circ$，不足以满足振荡准则。\nC. 该网络可以产生 $-180^\\circ$ 的相移，但仅在零频率 ($\\omega=0$) 时，这不能支持振荡。\nD. 该网络的相移仅在频率趋于无穷大时才接近 $-180^\\circ$。在无穷大频率下，网络的增益为零，因此环路增益的幅度不可能为 1。\nE. 对于任何非零频率，两级网络的增益总是大于 1，这使得环路固有地不稳定，无法产生稳定的正弦波。", "solution": "设反相放大器具有一个记为 $A0$ 的实常数增益幅度和一个固定的 $-\\pi$ 相位。反馈网络由两个相同的、带缓冲的一阶低通 RC 级组成，因此总的反馈传递函数是两个相同级响应的乘积。\n\n对于一个 RC 低通级，\n$$\nH_{1}(s)=\\frac{1}{1+sRC}.\n$$\n由于单位增益缓冲器消除了负载效应，两级网络的传递函数是\n$$\nH(s)=H_{1}(s)^{2}=\\frac{1}{\\left(1+sRC\\right)^{2}}.\n$$\n在虚轴 $s=j\\omega$ 上，\n$$\nH(j\\omega)=\\frac{1}{\\left(1+j\\omega RC\\right)^{2}}.\n$$\n单个级的幅度和相位为\n$$\n|H_{1}(j\\omega)|=\\frac{1}{\\sqrt{1+(\\omega RC)^{2}}},\\qquad \\angle H_{1}(j\\omega)=-\\arctan(\\omega RC).\n$$\n因此，对于两级网络，\n$$\n|H(j\\omega)|=|H_{1}(j\\omega)|^{2}=\\frac{1}{1+(\\omega RC)^{2}},\\qquad \\angle H(j\\omega)=2\\,\\angle H_{1}(j\\omega)=-2\\arctan(\\omega RC).\n$$\n\n巴克豪森准则 (Barkhausen’s criterion) 要求在某个振荡频率 $\\omega_{0}$ 处：\n1) 相位条件：总环路相位等于 $2\\pi$ 的整数倍。由于放大器贡献了 $-\\pi$，这要求\n$$\n\\angle H(j\\omega_{0})=-\\pi.\n$$\n2) 幅度条件：环路增益幅度为 1，\n$$\nA\\,|H(j\\omega_{0})|=1.\n$$\n\n考察相位条件。由于对于 $x0$，$\\arctan(x)\\in(0,\\frac{\\pi}{2})$，我们有\n$$\n\\angle H(j\\omega)=-2\\arctan(\\omega RC)\\in(-\\pi,0)\\quad\\text{for any finite }\\omega0,\n$$\n其极限为\n$$\n\\lim_{\\omega\\to 0^{+}}\\angle H(j\\omega)=0,\\qquad \\lim_{\\omega\\to \\infty}\\angle H(j\\omega)=-\\pi.\n$$\n因此，两级网络的相位仅在 $\\omega\\to\\infty$ 时才接近 $-\\pi$，并且在任何有限频率下都不会等于 $-\\pi$。\n\n同时，幅度为\n$$\n|H(j\\omega)|=\\frac{1}{1+(\\omega RC)^{2}},\n$$\n所以\n$$\n\\lim_{\\omega\\to \\infty}|H(j\\omega)|=0.\n$$\n因此，在唯一接近满足相位条件的频率（即 $\\omega\\to\\infty$ 时），网络增益的幅度趋于零，使得 $A\\,|H(j\\omega)|\\to 0$，从而阻止了环路增益对于任何有限的 $A$ 值达到 1。\n\n因此，该电路在任何有限频率下都无法同时满足巴克豪森的相位和幅度条件。这与陈述 D 完全相符。陈述 A 和 B 是错误的，因为两级相位可以渐近地达到 $-\\pi$（而不仅仅是 $-\\pi/2$ 或 $-2\\pi/3$）。陈述 C 是错误的，因为在 $\\omega=0$ 时，相位是 $0$，而不是 $-\\pi$。陈述 E 是错误的，因为对于所有 $\\omega$，都有 $|H(j\\omega)|\\leq 1$，并且当 $\\omega\\neq 0$ 时为严格不等式。\n\n因此，正确的物理解释是，所需的 $-\\pi$ 相移仅在频率趋于无穷大时才能渐近达到，而在该频率下网络增益消失，因此环路增益的幅度不可能为 1。", "answer": "$$\\boxed{D}$$", "id": "1336402"}, {"introduction": "经典模拟电路的原理在现代集成电路设计中依然至关重要，并不断以新的形式出现。这个更具挑战性的实践练习将探讨一个经典的文氏桥振荡器，但它有一个现代化的改造：电路中的电阻器被开关电容电路所取代，这在现代可编程和高精度IC设计中非常普遍。本练习[@problem_id:1336440]要求我们将基本的巴克豪森准则应用到一个包含电容和时钟频率的新领域，推导出振荡频率和所需放大器增益的表达式。这不仅能检验你对核心概念的掌握，也展示了其在解决前沿工程问题时的强大适用性。", "problem": "一位工程师正在为一款混合信号集成电路 (IC) 设计一个精密振荡器。该设计基于文氏桥拓扑，但为了通过数字控制实现高精度和可调谐性，所有的电阻元件都使用开关电容电路来实现。\n\n该振荡器围绕一个配置为同相放大器的理想运算放大器构建，其电压增益为 $A_v$。正反馈路径由一个改进的文氏桥网络组成。该桥路的串联臂包含一个开关电容电路（用于替代传统电阻 $R_1$），并与一个标准电容 $C_1$ 相连。该桥路的并联臂包含另一个开关电容电路（用于替代传统电阻 $R_2$），并与一个标准电容 $C_2$ 并联。\n\n这两个开关电容电路分别由开关电容 $C_{SC,1}$ 和 $C_{SC,2}$ 构成。两者均由一个频率为 $f_{clk}$ 的共用、高频、两相不交叠时钟信号驱动。在本次分析中，你需要假设所产生的振荡频率 $f_{osc}$ 远低于时钟频率 ($f_{osc} \\ll f_{clk}$)。在这个公认的条件下，一个电容为 $C_{SC}$ 的开关电容电路表现为一个等效电阻 $R_{eq} = 1/(C_{SC} f_{clk})$。\n\n你的任务是确定持续振荡的条件。求出振荡角频率 $\\omega_{osc}$ 和所需的最小放大器增益 $A_{min}$ 的表达式。将你的最终答案以一个二元行矩阵 $(\\omega_{osc}, A_{min})$ 的形式呈现。", "solution": "设两个开关电容电路的等效电阻由以下标准关系式（在 $f_{osc} \\ll f_{clk}$ 时有效）建模：\n$$\nR_{1}=\\frac{1}{C_{SC,1} f_{clk}}, \\quad R_{2}=\\frac{1}{C_{SC,2} f_{clk}}.\n$$\n从运放输出端到同相输入端看，文氏桥反馈网络的串联臂阻抗为 $Z_{s}=R_{1}+\\frac{1}{s C_{1}}$，并联臂阻抗 $Z_{p}$ 等于 $R_{2}$ 和 $\\frac{1}{s C_{2}}$ 的并联，即：\n$$\nZ_{p}=\\frac{R_{2}}{1+s R_{2} C_{2}}.\n$$\n反馈系数 $\\beta(s)$ 是从输出到桥路节点的分压比：\n$$\n\\beta(s)=\\frac{Z_{p}}{Z_{s}+Z_{p}}.\n$$\n将 $Z_{s}$ 和 $Z_{p}$ 写成有理式形式并化简，可得\n$$\n\\beta(s)=\\frac{s C_{1} R_{2}}{1+s\\left(R_{1} C_{1}+R_{2} C_{2}+C_{1} R_{2}\\right)+s^{2} R_{1} R_{2} C_{1} C_{2}}.\n$$\n对于持续振荡，巴克豪森条件要求在 $\\omega=\\omega_{osc}$ 时，相移为零且环路增益为单位1：$A_{v}\\beta(j\\omega_{osc})$ 必须为实数且等于 $1$。令 $s=j\\omega$ 可得\n$$\n\\beta(j\\omega)=\\frac{j\\omega C_{1} R_{2}}{\\left[1-\\omega^{2} R_{1} R_{2} C_{1} C_{2}\\right]+j\\omega\\left(R_{1} C_{1}+R_{2} C_{2}+C_{1} R_{2}\\right)}.\n$$\n当分母为纯虚数时，满足相位条件，即：\n$$\n1-\\omega_{osc}^{2} R_{1} R_{2} C_{1} C_{2}=0 \\quad \\Longrightarrow \\quad \\omega_{osc}=\\frac{1}{\\sqrt{R_{1} R_{2} C_{1} C_{2}}}.\n$$\n在此频率下，反馈系数的幅值为\n$$\n\\beta(j\\omega_{osc})=\\frac{C_{1} R_{2}}{R_{1} C_{1}+R_{2} C_{2}+C_{1} R_{2}},\n$$\n因此，所需的最小同相放大器增益为\n$$\nA_{min}=\\frac{1}{\\beta(j\\omega_{osc})}=\\frac{R_{1} C_{1}+R_{2} C_{2}+C_{1} R_{2}}{C_{1} R_{2}}=1+\\frac{R_{1}}{R_{2}}+\\frac{C_{2}}{C_{1}}.\n$$\n代入开关电容的等效电阻 $R_{1}=\\frac{1}{C_{SC,1} f_{clk}}$ 和 $R_{2}=\\frac{1}{C_{SC,2} f_{clk}}$，可得\n$$\n\\omega_{osc}=f_{clk}\\sqrt{\\frac{C_{SC,1} C_{SC,2}}{C_{1} C_{2}}}, \\quad A_{min}=1+\\frac{C_{SC,2}}{C_{SC,1}}+\\frac{C_{2}}{C_{1}}.\n$$\n在对称情况下，即 $R_{1}=R_{2}$ 且 $C_{1}=C_{2}$（在此对应于 $C_{SC,1}=C_{SC,2}$ 且 $C_{1}=C_{2}$），这些结果简化为众所周知的 $\\omega_{osc}=\\frac{1}{R C}$ 和 $A_{min}=3$。", "answer": "$$\\boxed{\\begin{pmatrix} f_{clk}\\sqrt{\\dfrac{C_{SC,1}C_{SC,2}}{C_{1}C_{2}}}  1+\\dfrac{C_{SC,2}}{C_{SC,1}}+\\dfrac{C_{2}}{C_{1}} \\end{pmatrix}}$$", "id": "1336440"}]}