{"hands_on_practices": [{"introduction": "在数字电路设计中，逻辑简化是提高效率的关键步骤，但过度简化有时会带来意想不到的风险。本练习将通过一个典型案例，揭示当一个从布尔代数上看似乎多余的共识项被移除后，为何以及在哪种特定输入转换下，电路会产生静态-1冒险。通过这个实践，你将能深刻理解静态冒险产生的根本原因。[@problem_id:1941645]", "problem": "一个数字逻辑电路被设计用于实现布尔函数 $F(A, B, C) = AB + A'C + BC$。该电路初始时没有静态冒险。一位新手设计师试图简化电路，移除了乘积项 $BC$，认为它是冗余的。得到的优化函数为 $F_{opt}(A, B, C) = AB + A'C$。这种优化无意中在电路中引入了一个静态1冒险，这意味着对于某个特定的输入变化，本应保持逻辑高电平（1）的输出会瞬间出现一个毛刺，变为低电平（0）。\n\n指出在优化后的电路中，会引起这种静态1冒险的单变量输入转换是哪一个。\n\nA. 变量 $B$ 改变状态，同时 $A=0$ 且 $C=1$。\n\nB. 变量 $C$ 改变状态，同时 $A=1$ 且 $B=1$。\n\nC. 变量 $A$ 改变状态，同时 $B=1$ 且 $C=1$。\n\nD. 变量 $A$ 改变状态，同时 $B=0$ 且 $C=0$。\n\nE. 变量 $B$ 改变状态，同时 $A=1$ 且 $C=0$。", "solution": "我们从原始函数 $F(A,B,C) = AB + A'C + BC$ 开始，它包含了蕴含项对 $AB$ 和 $A'C$ 的共识项 $BC$。根据共识定理，对于变量 $X,Y,Z$，有 $XY + X'Z = XY + X'Z + YZ$，其中 $YZ$ 是共识项。将 $X \\mapsto A$，$Y \\mapsto B$，$Z \\mapsto C$ 进行映射，可得 $AB$ 和 $A'C$ 的共识项是 $BC$。\n\n新手设计师移除了 $BC$ 并得到了 $F_{opt}(A,B,C) = AB + A'C$。这就造成了典型的静态1冒险条件：当单个输入变量发生变化，导致电路状态在由不同蕴含项（$AB$ 和 $A'C$）覆盖的两个相邻最小项之间转换时，由于缺少能够将输出保持在高电平的共识项（$BC$），就会发生冒险。\n\n为了明确地揭示这个冒险转换，我们考虑在保持 $B=1$ 和 $C=1$ 的情况下改变 $A$。计算 $F_{opt}$ 在两个最终状态下的值：\n- 当 $(A,B,C) = (1,1,1)$ 时：$AB = 1 \\cdot 1 = 1$，$A'C = 0 \\cdot 1 = 0$，因此 $F_{opt} = 1$。\n- 当 $(A,B,C) = (0,1,1)$ 时：$AB = 0 \\cdot 1 = 0$，$A'C = 1 \\cdot 1 = 1$，因此 $F_{opt} = 1$。\n\n因此，在 $B=1, C=1$ 的条件下，当 $A$ 发生 $1 \\to 0$ 或 $0 \\to 1$ 的单变量转换时，逻辑上输出应保持为 $1$。然而，由于传播延迟不相等，当 $A$ 改变时，例如从 $1$ 变为 $0$，乘积项 $AB$ 可能在 $A'$ 上升从而使 $A'C$ 变为 $1$ 之前就下降到 $0$。这会产生一个瞬间，使得 $AB=0$ 和 $A'C=0$ 同时成立，从而导致一个静态1毛刺。被移除的共识项 $BC$ 在 $B=1, C=1$ 时本可以提供 $BC=1$，从而防止这个毛刺的发生。\n\n检查各个选项：\n- A: $B$ 变化，而 $A=0, C=1$。此时无论 $B$ 如何变化，$A'C=1$ 且 $AB=0$，所以输出由单个乘积项保持；没有静态1冒险。\n- B: $C$ 变化，而 $A=1, B=1$。此时 $AB=1$ 与 $C$ 无关，所以没有静态1冒险。\n- C: $A$ 变化，而 $B=1, C=1$。如上所示，这就是会产生冒险的转换。\n- D: $A$ 变化，而 $B=0, C=0$。输出保持为 $0$，所以不是静态1冒险。\n- E: $B$ 变化，而 $A=1, C=0$。输出发生逻辑上的改变，所以不是静态1冒险。\n\n因此，引起静态1冒险的单变量输入转换是当 $A$ 在 $B=1$ 和 $C=1$ 的条件下改变状态时。", "answer": "$$\\boxed{C}$$", "id": "1941645"}, {"introduction": "识别冒险是第一步，而消除它们对于构建可靠的系统至关重要。与静态-1冒险相对，静态-0冒险发生在“和之积”（POS）形式的电路中，本练习将引导你应用对偶形式的共识定理。你将学习如何通过添加一个冗余的逻辑项来主动消除静态-0冒险，确保输出在逻辑上应保持为0时不会出现短暂的错误脉冲。[@problem_id:1941606]", "problem": "在设计一个安全关键监控系统时，实现了一个数字逻辑电路来处理来自三个传感器的信号，这三个传感器由布尔变量 $A$、$B$ 和 $C$ 表示。电路的输出 $F$ 由以下“和之积”(POS) 表达式描述：\n\n$$F(A, B, C) = (A + \\bar{B})(\\bar{A} + C)$$\n\n详细的时序分析揭示，该电路中可能发生静态0冒险。静态0冒险是指在输入变化期间，本应保持稳定逻辑0的输出上出现的一个短暂的、不希望出现的逻辑1脉冲。当输入 $B$ 和 $C$ 保持在特定的恒定值，而输入 $A$ 从一个逻辑电平转换到另一个逻辑电平时，这种特定的冒险就会显现。为确保系统可靠性，必须通过向表达式 $F$ 添加一个冗余和项（一个最大项）来消除此冒险。\n\n下列哪个和项与原始的“和之积”表达式进行“与”运算后，将消除静态0冒险？\n\nA. $(B + C)$\n\nB. $(\\bar{B} + C)$\n\nC. $(A + B)$\n\nD. $(\\bar{A} + \\bar{B})$\n\nE. $(A + C)$", "solution": "设给定函数写成“和之积”的形式：\n$$F(A,B,C)=(A+\\bar{B})(\\bar{A}+C)$$\n将这两个和项定义为 $S_{1}=A+\\bar{B}$ 和 $S_{2}=\\bar{A}+C$。在“和之积”实现中，静态0冒险发生在以下情况：当某些输入值固定，而另一个输入变化前后，输出均为 $0$，但由于路径延迟不等，可能存在一个短暂的瞬间，所有和项的值都为 $1$，导致输出端出现一个虚假的 $1$。\n\n我们寻找固定的 $B$ 和 $C$ 值，使得对于 $A=0$ 和 $A=1$，$F$ 都等于0。在“和之积”形式中，如果至少有一个和项等于0，则 $F=0$。要使 $S_{1}=0$，需要 $A=0$ 且 $\\bar{B}=0$，即 $A=0$ 且 $B=1$。要使 $S_{2}=0$，需要 $\\bar{A}=0$ 且 $C=0$，即 $A=1$ 且 $C=0$。因此，当输入固定为 $B=1$ 和 $C=0$ 时，对于 $A=0$ 和 $A=1$ 两种情况，$F$ 都等于0：\n- 如果 $B=1$，$C=0$ 且 $A=0$，那么 $S_{1}=(0+\\bar{1})=0$ 且 $S_{2}=(\\bar{0}+0)=1$，所以 $F=0$。\n- 如果 $B=1$，$C=0$ 且 $A=1$，那么 $S_{1}=(1+0)=1$ 且 $S_{2}=(\\bar{1}+0)=0$，所以 $F=0$。\n\n因此，当 $B=1$，$C=0$ 且 $A$ 发生跳变时，可能会发生静态0冒险，因为在转换期间，不等的延迟可能使得 $S_{1}=1$ 和 $S_{2}=1$ 同时短暂成立，从而产生一个不希望出现的 $F=1$ 脉冲。\n\n为了消除“和之积”形式中的静态0冒险，需要添加一个冗余和项，该项在整个冒险发生的输入条件下都为0，且与跳变的变量无关，这样乘积中就总能至少有一个0因子。我们需要一个和项 $S_{3}$，使得当 $B=1$ 和 $C=0$ 时，无论 $A$ 为何值，$S_{3}$ 都等于0。和项\n$$S_{3}=\\bar{B}+C$$\n满足这个条件，因为当 $B=1$ 和 $C=0$ 时，我们有 $S_{3}=(0+0)=0$，这与 $A$ 无关。\n\n添加此项不会改变稳态函数，这可由共识定理的对偶形式得出。对于布尔变量 $X,Y,Z$，\n$$(X+Y)(\\bar{X}+Z)=(X+Y)(\\bar{X}+Z)(Y+Z)$$\n令 $X=A$，$Y=\\bar{B}$，$Z=C$，我们得到\n$$(A+\\bar{B})(\\bar{A}+C)=(A+\\bar{B})(\\bar{A}+C)(\\bar{B}+C)$$\n一个直接的逻辑证明是：只要 $(A+\\bar{B})=1$ 且 $(\\bar{A}+C)=1$，那么 $(\\bar{B}+C)$ 也必然等于1；确实，如果 $(\\bar{B}+C)=0$，则 $B=1$ 且 $C=0$，这将使得 $(A+\\bar{B})=A$ 且 $(\\bar{A}+C)=\\bar{A}$，使得这两个和项不可能同时为1。因此，乘以 $(\\bar{B}+C)$ 保持 $F$ 不变，但通过在冒险转换期间确保一个持久的零因子来消除静态0冒险。\n\n在这些选项中，所需的冗余和项是 $(\\bar{B}+C)$，即选项B。", "answer": "$$\\boxed{B}$$", "id": "1941606"}, {"introduction": "理论上的逻辑冒险在现实世界中表现为具体的物理现象——由门电路延迟引起的短暂信号毛刺。本练习将带你从抽象的布尔表达式走向实际的时序分析。通过计算在特定输入变化下，由于信号在不同路径上的传播延迟差异，输出端产生的错误信号（毛刺）会持续多长时间，你将能够量化冒险的影响。[@problem_id:1941654]", "problem": "一个组合逻辑电路被设计用于实现布尔函数 $F(A, B, C) = A B + \\bar{A} C$。该电路由一个两级与或结构实现，并使用一个反相器来生成信号 $\\bar{A}$。各门电路的传播延迟如下所示：\n- 2输入与门：$t_{pd, AND} = 2.5$ ns\n- 2输入或门：$t_{pd, OR} = 3.0$ ns\n- 反相器：$t_{pd, INV} = 1.5$ ns\n\n该电路在输入B和C恒定保持为逻辑'1'的条件下运行。在时间 $t=0$ 时，输入A发生从逻辑'1'到逻辑'0'的瞬时跳变。由于信号路径延迟不同，输出F可能会出现一个暂时的错误值，这种现象被称为静态冒险毛刺。\n\n计算输出F处于错误逻辑电平'0'的时间间隔的持续时间。请以纳秒（ns）为单位表示你的答案。提供保留两位有效数字的数值。", "solution": "布尔函数为 $F(A,B,C)=AB+\\bar{A}C$，其实现方式是两个乘积项输入到一个或门，并用一个反相器生成 $\\bar{A}$。在 $B=1$ 和 $C=1$ 恒定的情况下，定义乘积项输出为 $X=AB$ 和 $Y=\\bar{A}C$。初始时，当 $A=1$ 时，$X=1$ 且 $Y=0$，因此 $F=1$；最终，当 $A=0$ 时，$X=0$ 且 $Y=1$，因此 $F=1$。如果 $X$ 在 $Y$ 上升到 $1$ 之前下降到 $0$，则可能发生静态1冒险。\n\n在 $t=0$ 时，输入 $A$ 发生 $1\\to 0$ 的跳变。沿各路径的延迟为：\n- 到 $X$ 的路径：$A \\to$ 2输入与门，在 $t_{pd,AND}=2.5\\,\\text{ns}$ 后在 $X$ 处产生一个下降沿，因此 $X$ 在 $t=2.5\\,\\text{ns}$ 时从 $1\\to 0$。\n- 到 $Y$ 的路径：$A \\to$ 反相器 $\\to$ 2输入与门，在 $t_{pd,INV}+t_{pd,AND}=1.5+2.5=4.0\\,\\text{ns}$ 后在 $Y$ 处产生一个上升沿，因此 $Y$ 在 $t=4.0\\,\\text{ns}$ 时从 $0\\to 1$。\n\n因此，在时间间隔 $t\\in(2.5\\,\\text{ns},4.0\\,\\text{ns})$ 内，或门的两个输入均为 $0$，持续时间为 $4.0-2.5=1.5\\,\\text{ns}$。考虑到或门的传播延迟 $t_{pd,OR}=3.0\\,\\text{ns}$，它会使 $F$ 的下降沿和上升沿都平移相同的时间量，因此输出的跳变发生在\n$$t_{\\text{fall at }F}=2.5+3.0=5.5\\,\\text{ns},\\qquad t_{\\text{rise at }F}=4.0+3.0=7.0\\,\\text{ns},$$\n输出端的毛刺持续时间为\n$$\\Delta t=7.0-5.5=1.5\\,\\text{ns}.$$\n保留两位有效数字，错误的低电平时间间隔为 $1.5$ ns。", "answer": "$$\\boxed{1.5}$$", "id": "1941654"}]}