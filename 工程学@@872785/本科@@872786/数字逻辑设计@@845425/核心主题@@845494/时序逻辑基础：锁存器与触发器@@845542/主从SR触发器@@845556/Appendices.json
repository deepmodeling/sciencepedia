{"hands_on_practices": [{"introduction": "掌握主从 SR 触发器的第一步是能够根据给定的输入和时钟信号预测其输出行为。这个练习旨在巩固你对边沿触发概念的理解，特别是主锁存器在时钟高电平期间如何捕获状态，以及该状态如何在时钟下降沿传递到输出端 [@problem_id:1946068]。通过分析时序图，你将获得处理时序逻辑电路所需的基本技能。", "problem": "一个用于简化自动化过程的数字控制系统使用一个下降沿触发的主从SR触发器来管理其状态。该触发器有输入$S$（置位）和$R$（复位）、一个时钟输入$\\text{CLK}$和一个输出$Q$。下降沿触发的主从触发器的行为如下：当$\\text{CLK}$为高电平时，主锁存器捕获$S$和$R$输入的状态；仅在$\\text{CLK}$从高电平转换到低电平的瞬间，从锁存器将其输出$Q$更新为主锁存器的状态。\n\n初始时，在时间 $t=0$ 时，输出为低电平，即 $Q=0$。\n\n时钟信号$\\text{CLK}$是一个周期为20纳秒（ns）、占空比为50%的周期性方波。时钟在 $t=0$ 时从低电平转换到高电平开始。\n\n在 $t=0$ 到 $t=80$ ns的时间间隔内，控制信号$S$和$R$的应用如下：\n- 从 $t=0$ ns 到 $t=25$ ns: $S=1, R=0$。\n- 从 $t=25$ ns 到 $t=45$ ns: $S=0, R=0$。\n- 从 $t=45$ ns 到 $t=65$ ns: $S=0, R=1$。\n- 从 $t=65$ ns 到 $t=80$ ns: $S=0, R=0$。\n\n无效输入条件（$S=1, R=1$）从不出现。\n\n下列哪个陈述正确描述了在 $t=0$ 到 $t=80$ ns的时间间隔内输出$Q$的行为？\n\nA. $Q$初始为0。它在 $t=10$ ns时转换为1，在 $t=50$ ns时转换回0，并在剩余的时间间隔内保持为0。\n\nB. $Q$初始为0。它在 $t=20$ ns时转换为1，在 $t=60$ ns时转换回0，并在剩余的时间间隔内保持为0。\n\nC. $Q$初始为0。它在 $t=0$ ns时立即转换为1，在 $t=45$ ns时转换回0，并在剩余的时间间隔内保持为0。\n\nD. $Q$初始为0。它在 $t=10$ ns时转换为1，在 $t=30$ ns时转换回0，并在剩余的时间间隔内保持为0。\n\nE. $Q$初始为0。它在 $t=30$ ns时转换为1，在 $t=70$ ns时转换回0，并在剩余的时间间隔内保持为0。", "solution": "一个下降沿触发的主从SR触发器仅在时钟的下降沿更新$Q$，并且在每个下降沿，从锁存器复制主锁存器在时钟为高电平时建立的状态。周期为 $20$ ns，占空比为 $50$%，且在 $t=0$ 时为上升沿，因此时钟在 $[0,10)$ ns、$[20,30)$ ns、$[40,50)$ ns 和 $[60,70)$ ns 的时间间隔内为高电平，下降沿出现在 $t=10$ ns、 $t=30$ ns、 $t=50$ ns 和 $t=70$ ns。\n\n在每个高电平间隔期间：\n- 对于 $t \\in [0,10)$ ns, $S=1, R=0$，因此主锁存器被置位。在 $t=10$ ns的下降沿，从锁存器更新为主锁存器的置位状态，所以 $Q$ 在 $t=10$ ns时变为 $1$。\n- 对于 $t \\in [20,30)$ ns，在 $[20,25)$ ns 期间 $S=1, R=0$，在 $[25,30)$ ns 期间 $S=0, R=0$。主锁存器被 $S=1$ 置位，然后保持置位状态，因此在 $t=30$ ns的下降沿，从锁存器将被置位；由于 $Q$ 已经是 $1$，所以在 $t=30$ ns时没有状态转换。\n- 对于 $t \\in [40,50)$ ns，在 $[40,45)$ ns 期间 $S=0, R=0$，在 $[45,50)$ ns 期间 $S=0, R=1$。主锁存器被 $R=1$ 复位，因此在 $t=50$ ns的下降沿，从锁存器更新为复位状态， $Q$ 在 $t=50$ ns时变为 $0$。\n- 对于 $t \\in [60,70)$ ns，在 $[60,65)$ ns 期间 $S=0, R=1$，在 $[65,70)$ ns 期间 $S=0, R=0$。主锁存器被复位，然后保持复位状态，因此在 $t=70$ ns的下降沿，从锁存器保持复位；由于 $Q$ 已经是 $0$，所以没有状态转换。\n\n在 $t=0$ 时 $Q$ 初始为 $0$，唯一的状态转换是 $t=10$ ns时 $Q: 0 \\to 1$ 和 $t=50$ ns时 $Q: 1 \\to 0$。这与陈述A相符。", "answer": "$$\\boxed{A}$$", "id": "1946068"}, {"introduction": "在将触发器视为一个“黑盒”之后，下一步是深入其内部，理解其门级结构。这个练习将引导你分析构成主从SR触发器的各个逻辑门的内部状态，揭示主锁存器捕获信息而从锁存器等待下降沿的精确机制。通过这种“白盒”分析，边沿触发的神秘面纱将被彻底揭开 [@problem_id:1946071]。", "problem": "一个下降沿触发的主从置位-复位（SR）触发器由如下所述的逻辑门构成。您的任务是分析其在特定时刻的内部状态。\n\n**电路描述：**\n该触发器的内部结构由一个主级、一个从级和一个时钟反相器组成。设门 G$i$ 的输出表示为 $y_i$。\n\n1.  **时钟反相器 (G_inv)：** 一个反相器从主时钟信号 $\\text{CLK}$ 生成信号 $\\overline{\\text{CLK}}$。其输出表示为 $y_{inv}$。\n2.  **主级：** 该级由两个与门（G1, G2）和两个交叉耦合的或非门（G3, G4）组成。\n    *   G1：一个与门，输入为 $S$ 和 $\\text{CLK}$。其输出为 $y_1$。\n    *   G2：一个与门，输入为 $R$ 和 $\\text{CLK}$。其输出为 $y_2$。\n    *   G3：一个或非门，输入为 $y_1$ 和 $y_4$。其输出为 $y_3$。\n    *   G4：一个或非门，输入为 $y_2$ 和 $y_3$。其输出为 $y_4$。\n3.  **从级：** 该级由两个与门（G5, G6）和两个交叉耦合的或非门（G7, G8）组成。\n    *   G5：一个与门，输入为 $y_3$ 和 $\\overline{\\text{CLK}}$。其输出为 $y_5$。\n    *   G6：一个与门，输入为 $y_4$ 和 $\\overline{\\text{CLK}}$。其输出为 $y_6$。\n    *   G7：一个或非门，输入为 $y_5$ 和 $y_8$。其输出 $y_7$ 是触发器的最终输出 $Q$。\n    *   G8：一个或非门，输入为 $y_6$ 和 $y_7$。其输出 $y_8$ 是最终的互补输出 $\\overline{Q}$。\n\n**场景：**\n触发器最初处于稳定状态，其最终输出 $Q = 0$。外部控制输入 $S=1$ 和 $R=0$ 保持稳定的时间超过了器件所需的建立时间。时钟信号 $\\text{CLK}$ 长期处于逻辑高电平状态（1），并且即将发生高到低转换（下降沿）。\n\n**问题：**\n在 $\\text{CLK}$ 信号下降沿发生前的*一个建立时间*的精确瞬间，确定所有九个门（$y_1$ 到 $y_8$，以及 $y_{inv}$）的输出逻辑电平（0 或 1）。您的答案应为这九个值组成的向量，顺序为 $(y_1, y_2, y_3, y_4, y_5, y_6, y_7, y_8, y_{inv})$。从以下选项中选择正确的向量。\n\nA. (1, 0, 1, 0, 0, 0, 0, 1, 0)\n\nB. (1, 0, 0, 1, 0, 0, 0, 1, 0)\n\nC. (0, 0, 0, 1, 0, 1, 1, 0, 1)\n\nD. (1, 0, 0, 1, 0, 0, 1, 0, 0)\n\nE. (1, 0, 1, 0, 1, 0, 0, 1, 1)", "solution": "我们将所描述的主从 SR 触发器视为两个由时钟及其反相信号选通的电平敏感或非锁存器。我们写出每个门的布尔函数，并在指定时间点进行求值：即下降沿前的一个建立时间，此时输入已稳定超过建立时间，且 $\\text{CLK}=1$ 已长时间保持为高电平。\n\n给定：外部输入 $S=1$，$R=0$，$\\text{CLK}=1$（高电平），且之前的最终输出为 $Q=0$（即 $y_{7}=0$，$y_{8}=1$）。\n\n时钟反相器：$y_{\\mathrm{inv}}=\\overline{\\text{CLK}}=\\overline{1}=0$。\n\n主级与门：\n- $y_{1}=S \\cdot \\text{CLK}=1 \\cdot 1=1$,\n- $y_{2}=R \\cdot \\text{CLK}=0 \\cdot 1=0$。\n\n主级交叉耦合或非门（使用或非方程）：\n- $y_{3}=\\overline{y_{1}+y_{4}}$,\n- $y_{4}=\\overline{y_{2}+y_{3}}$。\n代入 $y_{1}=1$，$y_{2}=0$：\n- $y_{3}=\\overline{1+y_{4}}=\\overline{1}=0$,\n- $y_{4}=\\overline{0+y_{3}}=\\overline{0}=1$。\n\n从级与门，其中 $y_{\\mathrm{inv}}=0$：\n- $y_{5}=y_{3}\\cdot \\overline{\\text{CLK}}=y_{3}\\cdot y_{\\mathrm{inv}}=0 \\cdot 0=0$,\n- $y_{6}=y_{4}\\cdot \\overline{\\text{CLK}}=y_{4}\\cdot y_{\\mathrm{inv}}=1 \\cdot 0=0$。\n\n从级交叉耦合或非门：\n- $y_{7}=\\overline{y_{5}+y_{8}}=\\overline{0+y_{8}}=\\overline{y_{8}}$,\n- $y_{8}=\\overline{y_{6}+y_{7}}=\\overline{0+y_{7}}=\\overline{y_{7}}$。\n由于锁存器的两个输入均为 $0$，锁存器将保持其先前的状态。根据初始条件 $Q=0$，我们在此刻有 $y_{7}=0$ 和 $y_{8}=1$。\n\n将九个输出按顺序 $(y_{1},y_{2},y_{3},y_{4},y_{5},y_{6},y_{7},y_{8},y_{\\mathrm{inv}})$ 收集起来，得到 $(1,0,0,1,0,0,0,1,0)$，这对应于选项 B。", "answer": "$$\\boxed{B}$$", "id": "1946071"}, {"introduction": "最后，我们通过一个思想实验来巩固对核心设计原则的理解。通过假设一个关键故障——用于产生反相时钟信号的反相器失效——你将被要求推断电路行为将如何改变。这个练习强调了两相时钟方案对于实现真正的边沿触发至关重要，从而加深你对主从结构为何如此设计的理解 [@problem_id:1946082]。", "problem": "一个标准的主从置位-复位（SR）触发器由两个门控SR锁存器构成，分别称为主锁存器和从锁存器。在其典型配置中，主锁存器由时钟信号 $\\text{CLK}$ 使能，而从锁存器由反相时钟信号 $\\overline{\\text{CLK}}$ 使能。主锁存器接收外部的 $S$ 和 $R$ 输入，其输出（$Q_m$、$\\overline{Q_m}$）分别馈入从锁存器的 $S$ 和 $R$ 输入。触发器的总输出 $Q$ 和 $\\overline{Q}$ 是从锁存器的输出。这种配置确保了触发器是边沿触发的。\n\n考虑一个由于故障导致该触发器被修改的场景。为从锁存器生成 $\\overline{\\text{CLK}}$ 的反相器发生故障并被旁路。结果，主锁存器和从锁存器的使能输入都直接连接到同一个 $\\text{CLK}$ 信号。\n\n这种修改如何改变电路的整体行为？\n\nA. 电路失去了其边沿触发特性，表现得像一个单独的、电平敏感的门控SR锁存器，当 $\\text{CLK}$ 为高电平时是透明的。\n\nB. 电路变得完全异步，输出 $Q$ 立即跟随 $S$ 输入，而不管 $\\text{CLK}$ 信号的状态。\n\nC. 输出 $Q$ 永久地卡在一个状态（0或1），不再响应 $S$、 $R$ 或 $\\text{CLK}$ 输入。\n\nD. 电路的行为与标准主从SR触发器相同，但它在时钟的上升沿而不是下降沿触发。\n\nE. 每当 $\\text{CLK}$ 为高电平时，无论 $S$ 和 $R$ 输入如何，电路都会进入振荡状态或变得亚稳。", "solution": "定义一个带有使能输入 $E$ 的门控SR锁存器的行为。设 $Q$ 为输出，$Q^{+}$ 为其下一个状态。其特性操作如下：\n- 如果 $E=0$，则 $Q^{+}=Q$（保持）。\n- 如果 $E=1$：\n  - 如果 $(S,R)=(1,0)$，则 $Q^{+}=1$（置位）。\n  - 如果 $(S,R)=(0,1)$，则 $Q^{+}=0$（复位）。\n  - 如果 $(S,R)=(0,0)$，则 $Q^{+}=Q$（保持）。\n  - 如果 $(S,R)=(1,1)$，则输入无效。\n\n在标准的主从SR触发器中，主锁存器使能为 $E_{M}=\\text{CLK}$，从锁存器使能为 $E_{S}=\\overline{\\text{CLK}}$。因为 $E_{M}$ 和 $E_{S}$ 是互补的，所以主锁存器只有在从锁存器不透明时才能是透明的，反之亦然。因此，当 $\\text{CLK}=1$ 时，主锁存器跟随 $(S,R)$ 且从锁存器保持；当 $\\text{CLK}$ 转换到 $0$ 时，主锁存器保持，从锁存器变为透明，将主锁存器存储的状态复制到 $Q$。这种不重叠产生了边沿触发行为。\n\n在反相器被旁路后，两个使能端被连接在一起：$E_{M}=E_{S}=\\text{CLK}$。分情况分析：\n\n- 如果 $\\text{CLK}=0$，则 $E_{M}=E_{S}=0$，所以两个锁存器都不透明。主锁存器保持其状态 $(Q_{m}^{+}=Q_{m})$，从锁存器保持其状态 $(Q^{+}=Q)$。因此，总输出 $Q$ 保持不变。\n\n- 如果 $\\text{CLK}=1$，则 $E_{M}=E_{S}=1$，所以两个锁存器都是透明的。主锁存器的输出 $(Q_{m},\\overline{Q_{m}})$ 根据上述门控SR规则立即响应 $(S,R)$。从锁存器的输入是 $S_{S}=Q_{m}$ 和 $R_{S}=\\overline{Q_{m}}$，由于其使能也为高电平，从锁存器的输出 $Q$ 会跟随 $Q_{m}$（仅受传播延迟影响）。因此，当 $\\text{CLK}=1$ 时，总输出 $Q$ 对 $(S,R)$ 的响应与单个门控SR锁存器完全相同：如果 $S=1,R=0$ 则置位，如果 $S=0,R=1$ 则复位，如果 $S=R=0$ 则保持，如果 $S=R=1$ 则无效。\n\n因此，该组合电路失去了边沿触发特性，并简化为一个单独的电平敏感门控SR锁存器，当 $\\text{CLK}=1$ 时透明，当 $\\text{CLK}=0$ 时不透明。\n\n评估选项：\n- A 符合推导出的行为。\n- B 是错误的，因为透明性要求 $\\text{CLK}=1$；当 $\\text{CLK}=0$ 时， $Q$ 保持不变。\n- C 是错误的；电路没有被卡住，在使能时会响应。\n- D 是错误的；没有互补的使能信号就不会有边沿触发。\n- E 是错误的；在有效的SR输入下，级联的透明锁存器是稳定的，并且本质上不会振荡。\n\n因此，正确选项是A。", "answer": "$$\\boxed{A}$$", "id": "1946082"}]}