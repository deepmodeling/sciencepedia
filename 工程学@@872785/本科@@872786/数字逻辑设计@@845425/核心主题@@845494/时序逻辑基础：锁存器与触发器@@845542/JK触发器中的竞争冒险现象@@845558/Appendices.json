{"hands_on_practices": [{"introduction": "理论知识是基础，但真正的理解源于实践。本节将通过一系列动手练习，帮助你深入掌握JK触发器中竞争冒险条件的机理和分析方法。第一个练习将带你直面竞争冒险条件的核心：时钟脉冲宽度与触发器传播延迟之间的关系。通过计算在时钟高电平期间输出状态变化的次数，你将对这一现象有一个定量的初步认识[@problem_id:1956038]。", "problem": "一位数字逻辑设计者正在分析一个时序电路中关键组件的行为：一个正电平触发的JK触发器。对于这种类型的触发器，只要时钟输入处于逻辑“1”电平，其输出就会被持续地重新评估。该触发器的J和K输入都永久连接到高压源，代表恒定的逻辑“1”。\n\n该器件的关键时序参数如下：\n- 传播延迟 $t_{pd}$，是内部逻辑决定新状态后，输出Q发生变化并稳定所需的时间。对于此触发器，$t_{pd} = 2.5 \\text{ ns}$。\n- 该触发器由周期性时钟信号驱动。每个周期中时钟信号高电平部分的持续时间，称为脉冲宽度，为 $T_W = 12.0 \\text{ ns}$。\n\n假设在时钟信号从逻辑“0”转换到逻辑“1”的确切时刻，输出Q处于稳定的逻辑“0”状态。在时钟信号为高的、持续时间为 $T_W$ 的单个连续区间内，输出Q的状态改变了多少次？\n\nA. 1\n\nB. 2\n\nC. 4\n\nD. 5\n\nE. 输出翻转次数不确定。", "solution": "因为该器件是一个正电平触发的JK触发器，并且 $J=K=1$，所以当时钟处于逻辑1时，其内部的次态关系会持续地被重新评估，由 $Q^{+}=\\overline{Q}$ 给出。这就是竞争冒险（race-around）条件：一旦Q稳定到一个值，内部逻辑会立即决定下一个值必须是它的补码。\n\n设 $t_{pd}$ 表示传播延迟。在持续的高电平操作下，每次状态变化都需要一个传播延迟才能在输出端显现。第 $k$ 次状态变化发生在时间 $t_k=k \\cdot t_{pd}$。\n\n在时钟高电平持续时间为 $T_W$ 的区间内，发生状态变化的总次数 $N$ 是满足 $N \\cdot t_{pd} \\le T_W$ 的最大整数 $N$。这可以表示为 $N = \\lfloor T_W / t_{pd} \\rfloor$。\n\n将给定值代入：\n$$\nN = \\left\\lfloor \\frac{T_W}{t_{pd}} \\right\\rfloor = \\left\\lfloor \\frac{12.0 \\text{ ns}}{2.5 \\text{ ns}} \\right\\rfloor = \\lfloor 4.8 \\rfloor = 4\n$$\n因此，在时钟高电平的 $12.0 \\text{ ns}$ 期间，输出Q将翻转4次。所以，选项C是正确的。", "answer": "$$\\boxed{C}$$", "id": "1956038"}, {"introduction": "在了解了如何计算状态翻转的总次数之后，下一个关键问题是：当时钟脉冲结束时，触发器的最终输出状态是什么？这个练习将引导你进行更精细的分析。通过设定一个非整数倍于传播延迟的时钟脉冲宽度，你需要精确追踪输出 $Q$ 的每一次变化，并确定在时钟信号变为低电平时，输出被锁存的最终逻辑值[@problem_id:1956039]。", "problem": "一位数字系统工程师正在分析一个定制设计的正电平触发的JK触发器。该触发器具有一个恒定的传播延迟，记为 $t_{pd}$，这是从输入端出现触发条件到相应变化出现在输出端 $Q$ 之间的时间间隔。\n\n该触发器进行了一项测试，其输入保持恒定在 $J=1$ 和 $K=1$。测试开始前，输出的初始状态为 $Q=0$。测试涉及施加一个单一、孤立的正时钟脉冲。时钟信号处于低电压电平，在时间 $t=0$ 时上升到高电压电平，并在时间 $t=t_p$ 时返回到低电压电平。已知这个高电平脉冲的持续时间 $t_p$ 满足不等式 $2t_{pd}  t_p  2.5t_{pd}$。\n\n假设当时钟信号从高电平转换到低电平时，触发器的内部状态会立即锁存，请确定时钟脉冲完全通过后输出 $Q$ 的最终逻辑状态。你的答案应该是最终的逻辑值，0 或 1。", "solution": "问题要求在给定的特定时序约束下，确定一个正电平触发的JK触发器的最终状态。\n\n首先，我们来确定当JK触发器的输入保持高电平（$J=1$ 和 $K=1$）时的行为。在这种配置下，触发器处于“翻转模式”。对于电平触发的触发器，这意味着只要时钟信号处于其有效电平（本例中为高电平），输出 $Q$ 就会连续翻转其状态。每次翻转完成并在输出端出现新状态所需的时间等于传播延迟 $t_{pd}$。这种行为被称为竞争冒险（race-around）条件。\n\n我们已知在 $t=0$ 之前触发器的初始状态为 $Q=0$。时钟脉冲在 $t=0$ 开始，在 $t=t_p$ 结束。\n\n让我们追踪当时钟为高电平时（从 $t=0$ 到 $t=t_p$），输出 $Q$ 的状态随时间的变化。\n\n1.  在 $t=0$ 时，时钟变为高电平。初始状态为 $Q(0)=0$。由于 $J=K=1$ 且时钟有效，触发器开始翻转其输出。\n\n2.  经过一个传播延迟后，在时间 $t=t_{pd}$，第一次翻转完成。输出 $Q$ 从 0 变为 1。因此，$Q(t_{pd}) = 1$。\n\n3.  新的输出状态 $Q=1$ 被反馈到触发器的输入级。由于时钟仍然是高电平（因为 $t_p > 2t_{pd}$，这意味着 $t_p > t_{pd}$），触发器立即开始第二次翻转过程。\n\n4.  这次翻转在又一个传播延迟后完成。时间将是 $t = t_{pd} + t_{pd} = 2t_{pd}$。此时，输出 $Q$ 再次翻转，从 1 变为 0。因此，$Q(2t_{pd}) = 0$。\n\n5.  新的输出状态 $Q=0$ 现在被反馈到输入级。问题陈述时钟脉冲宽度 $t_p$ 大于 $2t_{pd}$。这意味着在第二次翻转完成的时刻（$t=2t_{pd}$），时钟仍然是高电平。因此，触发器开始第三次翻转过程。\n\n6.  这第三次翻转将在再一个传播延迟后完成，时间为 $t = 2t_{pd} + t_{pd} = 3t_{pd}$。如果这次翻转得以完成，输出 $Q$ 将从 0 变为 1。\n\n7.  然而，我们得到了一个关键约束条件，即时钟脉冲在 $t=t_p$ 结束，其中 $t_p  2.5t_{pd}$。这也意味着 $t_p  3t_{pd}$。因此，时钟信号在第三次翻转有足够时间完成之前就变为低电平。\n\n时钟脉冲在 $t=t_p$ 结束。最后一次完成的输出变化发生在 $t=2t_{pd}$，将输出设置为 $Q=0$。在 $t=2t_{pd}$ 和 $t=t_p$ 之间，当触发器内部正在处理第三次翻转时，输出保持在 $Q=0$。当时钟在 $t=t_p$ 变为低电平时，触发器对其输入不再敏感，并锁存其在那一刻的状态。由于第三次翻转尚未完成，输出的状态仍然是第二次翻转所设置的状态。\n\n因此，时钟脉冲结束后，输出 $Q$ 的最终状态是 0。", "answer": "$$\\boxed{0}$$", "id": "1956039"}, {"introduction": "真实的电子元件往往比理想化模型更为复杂。最后一个练习引入了一个更贴近实际的挑战：非对称传播延迟，即输出从低到高和从高到低的转换时间不同。这个场景打破了之前练习中的简化假设，要求你一步一步、更加细致地追踪输出状态的演变过程。完成这个练习将大大加深你对竞争冒险条件下时序行为的根本理解[@problem_id:1956047]。", "problem": "一个数字电路包含一个正电平触发的 JK 触发器。输入 J 和 K 永久连接到高逻辑电平 ('1')。该触发器表现出非对称的传播延迟：输出 Q 从低到高转换的传播延迟为 $t_{pLH} = 20$ ns，输出 Q 从高到低转换的传播延迟为 $t_{pHL} = 10$ ns。最初，在施加任何时钟信号之前，输出 Q 处于稳定的低电平状态 ('0')。\n\n在时间 $t=0$ 时，一个单个的高脉冲被施加到时钟输入端。该脉冲保持高电平，持续时间为 $T_{pulse} = 55$ ns，之后返回低电平。假设 J 和 K 输入的建立时间和保持时间均得到满足，并且对于本分析可以忽略不计。\n\n确定时钟脉冲结束后输出 Q 的最终逻辑状态。您的答案应为 '0' 或 '1'。", "solution": "一个 $J=K=1$ 的正电平触发 JK 触发器，在时钟为高电平时，其行为是只要时钟高电平有效，输出 $Q$ 就会持续翻转。每次翻转都发生在相应转换的传播延迟之后。\n\n我们有非对称延迟：$t_{pLH}=20\\,\\text{ns}$ (低到高) 和 $t_{pHL}=10\\,\\text{ns}$ (高到低)。初始条件为 $Q(0^{-})=0$。我们来追踪翻转发生的时间点：\n\n*   **第一次翻转 (从 0 到 1):** 发生在初始时间加上低到高的延迟后。\n    $t_1 = t_{pLH} = 20\\,\\text{ns}$。在 $t_1$ 时, $Q$ 变为 1。\n\n*   **第二次翻转 (从 1 到 0):** 发生在第一次翻转之后，加上高到低的延迟。\n    $t_2 = t_1 + t_{pHL} = 20\\,\\text{ns} + 10\\,\\text{ns} = 30\\,\\text{ns}$。在 $t_2$ 时, $Q$ 变为 0。\n\n*   **第三次翻转 (从 0 到 1):** 发生在第二次翻转之后，加上低到高的延迟。\n    $t_3 = t_2 + t_{pLH} = 30\\,\\text{ns} + 20\\,\\text{ns} = 50\\,\\text{ns}$。在 $t_3$ 时, $Q$ 变为 1。\n\n*   **第四次翻转 (从 1 到 0):** 发生在第三次翻转之后，加上高到低的延迟。\n    $t_4 = t_3 + t_{pHL} = 50\\,\\text{ns} + 10\\,\\text{ns} = 60\\,\\text{ns}$。\n\n时钟脉冲在 $t=0$ 开始，在 $T_{\\text{pulse}}=55\\,\\text{ns}$ 结束。只有当翻转时间 $t_n \\le T_{\\text{pulse}}$ 时，该翻转才会完成。\n\n比较我们计算出的时间点和脉冲宽度：\n*   $t_1 = 20\\,\\text{ns} \\le 55\\,\\text{ns}$ (翻转完成)\n*   $t_2 = 30\\,\\text{ns} \\le 55\\,\\text{ns}$ (翻转完成)\n*   $t_3 = 50\\,\\text{ns} \\le 55\\,\\text{ns}$ (翻转完成)\n*   $t_4 = 60\\,\\text{ns} > 55\\,\\text{ns}$ (翻转未完成)\n\n因此，在时钟高电平期间，总共完成了三次翻转。\n初始状态是 $Q=0$。\n1.  第一次翻转后: $Q=1$。\n2.  第二次翻转后: $Q=0$。\n3.  第三次翻转后: $Q=1$。\n\n当时钟在 $t=55\\,\\text{ns}$ 时变为低电平时，触发器锁存了其当前状态。由于第四次翻转尚未完成，所以触发器的状态是在第三次翻转后设置的状态。\n\n因此，时钟脉冲结束时，输出 $Q$ 的最终状态为 1。", "answer": "$$\\boxed{1}$$", "id": "1956047"}]}