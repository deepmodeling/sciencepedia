{"hands_on_practices": [{"introduction": "要真正掌握行波进位加法器的工作原理，最有效的方法是亲手追踪其内部的信号传播路径。这个练习将指导你逐步计算一个5位加法器在特定输入下每一级的进位输出，从而将抽象的“行波”概念具体化。通过这个过程，你不仅能巩固对全加器逻辑的理解，还能清晰地看到定义了行波进位加法器的顺序依赖关系。[@problem_id:1958696]", "problem": "5位行波进位加法器是一种数字电路，用于将两个5位二进制数相加，我们将其表示为 $A = A_4A_3A_2A_1A_0$ 和 $B = B_4B_3B_2B_1B_0$。该加法器由一串全加器组成，其中位位置 $i$ 的级接收输入 $A_i$、$B_i$ 和来自前一级的进位输入 $C_i$，以产生一个和位 $S_i$ 和一个进位输出位 $C_{i+1}$。对于最低有效位（位置0），进位输入 $C_0$ 是从外部提供的。\n\n给定两个输入数 $A = 11011_2$ 和 $B = 01110_2$。加法器的初始进位输入为 $C_0 = 0$。\n\n确定在运算过程中产生的中间进位位 $C_1, C_2, C_3,$ 和 $C_4$ 的值。", "solution": "我们使用位位置 $i$ 处的全加器进位输出关系式：\n$$\nC_{i+1}=A_{i}B_{i}+(A_{i}\\oplus B_{i})C_{i},\n$$\n其中 $+$ 表示布尔或，并置表示布尔与，$\\oplus$ 表示异或。各位为 $A=11011_{2}$，所以 $A_{4}=1$, $A_{3}=1$, $A_{2}=0$, $A_{1}=1$, $A_{0}=1$，$B=01110_{2}$，所以 $B_{4}=0$, $B_{3}=1$, $B_{2}=1$, $B_{1}=1$, $B_{0}=0$，且 $C_{0}=0$。\n\n对于 $i=0$：$A_{0}=1$, $B_{0}=0$, $C_{0}=0$。\n$$\nA_{0}B_{0}=0,\\quad A_{0}\\oplus B_{0}=1,\\quad C_{1}=0+(1)\\cdot 0=0.\n$$\n\n对于 $i=1$：$A_{1}=1$, $B_{1}=1$, $C_{1}=0$。\n$$\nA_{1}B_{1}=1,\\quad A_{1}\\oplus B_{1}=0,\\quad C_{2}=1+(0)\\cdot 0=1.\n$$\n\n对于 $i=2$：$A_{2}=0$, $B_{2}=1$, $C_{2}=1$。\n$$\nA_{2}B_{2}=0,\\quad A_{2}\\oplus B_{2}=1,\\quad C_{3}=0+(1)\\cdot 1=1.\n$$\n\n对于 $i=3$：$A_{3}=1$, $B_{3}=1$, $C_{3}=1$。\n$$\nA_{3}B_{3}=1,\\quad A_{3}\\oplus B_{3}=0,\\quad C_{4}=1+(0)\\cdot 1=1.\n$$\n\n因此，中间进位位为 $C_{1}=0$, $C_{2}=1$, $C_{3}=1$, $C_{4}=1$。", "answer": "$$\\boxed{\\begin{pmatrix}0  1  1  1\\end{pmatrix}}$$", "id": "1958696"}, {"introduction": "理解了进位是如何传播的之后，下一步自然是探究这种传播在何种情况下最耗时，即所谓的“最差情况”。这个问题挑战你识别出能产生最长进位链的特定输入组合，这对于性能分析至关重要。解决这个问题将帮助你深刻理解行波进位加法器的主要局限性——进位传播延迟，这是设计更高速加法器的出发点。[@problem_id:1958659]", "problem": "一个4位行波进位加法器用于计算和 $S = A + B$。输入是两个4位无符号二进制数，$A = A_3A_2A_1A_0$ 和 $B = B_3B_2B_1B_0$。该加法器由四个相同的全加器（FA）模块级联而成。对于每个阶段 $i$（从0到3），FA模块根据其输入 $A_i$、$B_i$ 和进位输入 $C_i$ 来计算和位 $S_i$ 和进位输出位 $C_{i+1}$。一个阶段的进位输出连接到下一个阶段的进位输入，并且第一阶段的初始进位输入 $C_0$ 固定为0。\n\n任何FA输出位达到稳定所需的时间是其传播延迟。加法运算的总时间由从主输入（$A, B, C_0$）到最终输出（$S, C_4$）的最长信号路径决定。这种最坏情况发生在最低有效输入位的变化导致一个进位“行波式”地穿过每一个FA模块，从而影响最终的和与进位输出。\n\n你的任务是确定下列哪一对输入 $(A, B)$ 会产生这个最长的可能进位传播链。\n\nA. $A = 1111_2, B = 0001_2$\n\nB. $A = 1010_2, B = 0101_2$\n\nC. $A = 1111_2, B = 1111_2$\n\nD. $A = 0000_2, B = 0001_2$\n\nE. $A = 1000_2, B = 1000_2$", "solution": "在行波进位加法器中，每个全加器遵循以下公式\n$$S_{i} = A_{i} \\oplus B_{i} \\oplus C_{i}, \\quad C_{i+1} = A_{i}B_{i} + (A_{i} \\oplus B_{i})C_{i}.$$\n定义生成信号和传播信号：\n$$G_{i} = A_{i}B_{i}, \\quad P_{i} = A_{i} \\oplus B_{i}, \\quad \\text{所以 } C_{i+1} = G_{i} + P_{i}C_{i}.$$\n当 $C_{0}=0$ 时，从最低有效位到最高有效位的最长进位传播链需要满足：\n- 在 $i=0$ 处：需要生成一个进位，即 $G_{0}=1 \\Rightarrow A_{0}=1$ 且 $B_{0}=1$，这样即使 $C_{0}=0$，也能得到 $C_{1}=1$。\n- 对于 $i=1,2,3$：需要纯粹的传播，不生成也不终止进位，即 $P_{i}=1$ 且 $G_{i}=0$，这要求 $A_{i} \\neq B_{i}$（互补的位）。\n\n检查各个选项：\n- A: $A=1111_{2}, B=0001_{2}$。按位分析：\n  - $i=0$：$(A_{0},B_{0})=(1,1) \\Rightarrow G_{0}=1$ 生成 $C_{1}$。\n  - $i=1,2,3$：每一位都是 $(1,0)$，因此 $P_{i}=1, G_{i}=0$，将进位传播过所有阶段。这会产生一直到 $C_{4}$ 的完整行波进位。\n- B: $A_{0}=0$, $B_{0}=1 \\Rightarrow G_{0}=0$，并且由于 $C_{0}=0$，没有初始进位产生；没有行波链开始。\n- C: 所有位都有 $G_{i}=1$，因此 $C_{i+1}=1$ 与 $C_{i}$ 无关；与初始进位的依赖关系被切断，因此没有长行波链。\n- D: $A_{0}=0$, $B_{0}=1 \\Rightarrow G_{0}=0$；没有初始进位。\n- E: $A_{0}=0$, $B_{0}=0 \\Rightarrow G_{0}=0$；没有初始进位。\n\n因此，只有选项A会产生最长的可能进位传播链。", "answer": "$$\\boxed{A}$$", "id": "1958659"}, {"introduction": "尽管存在延迟问题，行波进位加法器依然是构建更复杂算术单元的基础模块。这个练习展示了它的通用性，通过引入一个控制信号和一些简单的逻辑，我们就可以将一个加法器转变为一个既能执行加法也能执行减法（通过二进制补码）的电路。这个实践将理论与应用联系起来，展示了如何利用基本组件构建功能更强大的算术逻辑单元（ALU）。[@problem_id:1958663]", "problem": "一个 4 位数字电路被设计用作两个 4 位无符号整数 `A = A_3A_2A_1A_0` 和 `B = B_3B_2B_1B_0` 的加法器-减法器。具体操作由一个单位控制输入 `M` 选择。当控制输入 `M` 设置为 0 时，电路计算和 `S = A + B`。当 `M` 设置为 1 时，电路通过计算 `B` 的二进制补码并将其与 `A` 相加来计算差 `D = A - B`。\n\n确定为了执行计算 `7 - 5`，必须提供给电路的九个独立输入位（`A_3, A_2, A_1, A_0, B_3, B_2, B_1, B_0` 和 `M`）各自的二进制值。\n\n请将您的答案表示为一个包含九个二进制数字的单行矩阵，各位从左到右的顺序为 `A_3, A_2, A_1, A_0, B_3, B_2, B_1, B_0, M`。", "solution": "我们使用标准的二进制补码加法器-减法器原理：要用单个加法器计算 $A-B$，需将模式位 $M=1$，按位取反 $B$（记作 $\\overline{B}$），并将 $1$ 作为进位输入，因此\n$$\nA-B = A + \\overline{B} + 1.\n$$\n一个 4 位无符号数 $7$ 表示为 $(0111)_{2}$，因此对于 $A=A_{3}A_{2}A_{1}A_{0}$ 我们有\n$$\nA_{3}=0,\\quad A_{2}=1,\\quad A_{1}=1,\\quad A_{0}=1.\n$$\n一个 4 位无符号数 $5$ 表示为 $(0101)_{2}$，因此对于 $B=B_{3}B_{2}B_{1}B_{0}$ 我们有\n$$\nB_{3}=0,\\quad B_{2}=1,\\quad B_{1}=0,\\quad B_{0}=1.\n$$\n为了执行减法，设置控制输入 $M=1$。\n\n通过二进制补码加法进行正确性可选检查：\n$$\n\\overline{B} = 1010,\\quad \\overline{B}+1 = 1011,\\quad A + (\\overline{B}+1) = 0111 + 1011 = 10010,\n$$\n其低 4 位为 $0010$，即 $(2)_{10}$，与 $7-5=2$ 一致。\n\n因此，所需的输入行（按 $A_{3},A_{2},A_{1},A_{0},B_{3},B_{2},B_{1},B_{0},M$ 排序）是\n$$\n\\begin{pmatrix}\n0  1  1  1  0  1  0  1  1\n\\end{pmatrix}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix}0  1  1  1  0  1  0  1  1\\end{pmatrix}}$$", "id": "1958663"}]}