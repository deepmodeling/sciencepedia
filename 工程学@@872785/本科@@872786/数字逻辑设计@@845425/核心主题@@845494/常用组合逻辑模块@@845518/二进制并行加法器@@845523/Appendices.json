{"hands_on_practices": [{"introduction": "理解二进制并行加法器的第一步是掌握其核心——行波进位机制。通过一个具体的计算实例，我们可以清晰地观察到信号在加法器链中的逐级传递过程。这个练习 [@problem_id:1914727] 将引导你为一个4位加法器设置最大输入值，并手动追踪每一位的和与进位，从而深刻理解进位信号是如何从最低有效位“涟漪”般传播到最高有效位的。", "problem": "一个4位行波进位加法器由四个独立的全加器电路级联而成。每个全加器（索引为 $i$，从0到3）根据两个输入位 $A_i$、$B_i$ 和一个进位输入位 $C_i$ 来计算一个和位 $S_i$ 和一个进位输出位 $C_{i+1}$。第 $i$ 级的进位输出 $C_{i+1}$ 作为下一级 $i+1$ 的进位输入。\n\n考虑输入到该加法器的两个4位无符号二进制数：$A = A_3A_2A_1A_0$ 和 $B = B_3B_2B_1B_0$。最低有效级（第0级）的初始进位输入，记为 $C_0$，被设置为0。\n\n如果两个输入都设置为其最大可能的4位无符号值，即 $A = 1111_2$ 和 $B = 1111_2$，请确定最终的5位二进制结果。该结果由最高有效级的最终进位输出 $C_4$ 与4位和字 $S = S_3S_2S_1S_0$ 串联而成。\n\n您的答案应该是一个形式为 $C_4S_3S_2S_1S_0$ 的5位二进制数。", "solution": "第 $i$ 级的全加器计算如下\n$$S_{i} = A_{i} \\oplus B_{i} \\oplus C_{i},$$\n$$C_{i+1} = A_{i}B_{i} + (A_{i} \\oplus B_{i})C_{i},$$\n其中 $+$ 是布尔或，并置表示布尔与，$\\oplus$ 是异或。\n\n给定 $A = 1111_{2}$ 和 $B = 1111_{2}$，对于每一级 $i \\in \\{0,1,2,3\\}$，我们有 $A_{i} = 1$ 和 $B_{i} = 1$。因此\n$$A_{i} \\oplus B_{i} = 1 \\oplus 1 = 0,\\quad A_{i}B_{i} = 1 \\cdot 1 = 1.$$\n代入全加器方程得到\n$$S_{i} = 0 \\oplus C_{i} = C_{i},$$\n$$C_{i+1} = 1 + 0 \\cdot C_{i} = 1.$$\n从给定的初始进位 $C_{0} = 0$ 开始，我们逐级计算：\n- 第 $0$ 级：$S_{0} = C_{0} = 0$, $C_{1} = 1$。\n- 第 $1$ 级：$S_{1} = C_{1} = 1$, $C_{2} = 1$。\n- 第 $2$ 级：$S_{2} = C_{2} = 1$, $C_{3} = 1$。\n- 第 $3$ 级：$S_{3} = C_{3} = 1$, $C_{4} = 1$。\n\n因此，和字为 $S_{3}S_{2}S_{1}S_{0} = 1110$，最终进位输出为 $C_{4} = 1$，所求的5位结果 $C_{4}S_{3}S_{2}S_{1}S_{0}$ 为 $11110$。", "answer": "$$\\boxed{11110}$$", "id": "1914727"}, {"introduction": "建立了行波进位加法器的基本工作原理后，下一个关键问题是评估其性能。这个练习 [@problem_id:1914736] 将带你从功能转向性能分析，特别是最坏情况下的传播延迟，这是行波进位设计的主要瓶颈。通过分析一个由多个模块级联而成的大位宽加法器，你将学会如何量化延迟，并理解为何工程师们不断寻求更快的加法器架构。", "problem": "在设计数字信号处理器时，通过级联四个相同的4位加法器模块来构建一个16位脉动进位加法器。每个4位模块具有两种特定的传播延迟：\n\n1.  进位传播延迟，$t_{pg}$：这是指模块的1位进位输出信号达到稳定所需的时间，从其所有数据输入（两个4位数）和其1位进位输入信号都稳定的那一刻开始计算。\n2.  和生成延迟，$t_{sum}$：这是指模块的4位和输出达到稳定所需的时间，从其1位进位输入信号稳定的那一刻开始计算。假设此延迟与所考虑的是四个和位中的哪一位无关。\n\n对于这个16位加法器，假设所有32个数据输入位（用于两个16位操作数）以及到最低有效4位模块的初始1位进位输入在时间 $t=0$ 时都已就绪且稳定。\n\n确定整个16位加法器的所有16个和输出位保证稳定的最坏情况下的时间。用包含 $t_{pg}$ 和 $t_{sum}$ 的符号表达式来表示你的答案。", "solution": "将四个级联的4位模块从最低有效位到最高有效位依次索引为模块 $0,1,2,3$。在 $t=0$ 时，所有模块的数据输入以及模块 $0$ 的初始进位输入都是稳定的。\n\n根据进位传播延迟 $t_{pg}$ 的定义，如果模块 $i$ 的进位输入在时间 $t_{ci}$ 变得稳定，并且其数据输入已经稳定，那么它的进位输出（即模块 $i+1$ 的进位输入）将在时间 $t_{ci} + t_{pg}$ 变得稳定。给定 $t_{c0}=0$，我们迭代得到：\n$$\nt_{c1} = t_{c0} + t_{pg} = t_{pg},\\quad\nt_{c2} = t_{c1} + t_{pg} = 2t_{pg},\\quad\nt_{c3} = t_{c2} + t_{pg} = 3t_{pg}.\n$$\n\n根据和生成延迟 $t_{sum}$ 的定义，模块 $i$ 的4位和在时间 $t_{ci} + t_{sum}$ 变得稳定。因此，四个模块的和输出的稳定时间分别为：\n$$\nt_{S0} = t_{c0} + t_{sum} = t_{sum},\\quad\nt_{S1} = t_{c1} + t_{sum} = t_{pg} + t_{sum},\\quad\nt_{S2} = t_{c2} + t_{sum} = 2t_{pg} + t_{sum},\\quad\nt_{S3} = t_{c3} + t_{sum} = 3t_{pg} + t_{sum}.\n$$\n\n所有16个和位保证稳定的最坏情况下的时间是这四个时间中的最大值，即\n$$\n3t_{pg} + t_{sum}.\n$$", "answer": "$$\\boxed{3t_{pg}+t_{sum}}$$", "id": "1914736"}, {"introduction": "除了执行基本的算术运算，并行加法器还能作为通用计算模块，用于解决更复杂的逻辑问题。这个练习 [@problem_id:1914699] 将挑战你的创造性思维，让你利用一个标准的4位加法器来实现一个看似无关的功能：判断一个数是否能被3整除。通过这个巧妙的设计，你将体会到如何将数论概念与硬件实现相结合，从而拓展对算术电路应用范围的认识。", "problem": "一位数字逻辑设计师想要创建一个专用电路，来判断一个表示为 $A=a_3a_2a_1a_0$ 的4位无符号整数是否是3的倍数。该设计要求使用一个4位二进制并行加法器作为主要的计算单元。\n\n该设计基于一个数论性质：一个二进制数能被3整除，当且仅当将其二进制位成对分组（也称为以4为基数的数字）后的和能被3整除。对于4位数 $A$ 而言，这意味着 $A$ 是3的倍数，当且仅当两个2位数 $N_1 = (a_3a_2)_2$ 和 $N_0 = (a_1a_0)_2$ 的和是3的倍数。\n\n为了实现这一点，将4位加法器配置为计算和 $S = N_1 + N_0$。该加法器有两个4位输入 $X=X_3X_2X_1X_0$ 和 $Y=Y_3Y_2Y_1Y_0$，一个进位输入 $C_{in}$，一个4位和输出 $Z=Z_3Z_2Z_1Z_0$ 和一个最终进位输出 $C_{out}$。输入连接如下：\n- $X = 00a_3a_2$\n- $Y = 00a_1a_0$\n- $C_{in} = 0$\n\n你的任务是确定一个关于和输出位 ($Z_3, Z_2, Z_1, Z_0$) 的正确逻辑表达式，该表达式为真当且仅当原始数字 $A$ 是3的倍数。下列哪个表达式正确地标识了此条件？\n\nA. $Z_2 = Z_1 \\land Z_0$\n\nB. $Z_1 = Z_2 \\oplus Z_0$\n\nC. $Z_2 \\lor Z_1 \\lor Z_0 = 1$\n\nD. $(\\overline{Z_2} \\land \\overline{Z_1} \\land \\overline{Z_0}) \\lor (\\overline{Z_2} \\land Z_1 \\land Z_0) \\lor (Z_2 \\land Z_1 \\land \\overline{Z_0})$\n\nE. $Z_2 = Z_1$", "solution": "将 $A=a_{3}a_{2}a_{1}a_{0}$ 分组为两个2位数 $N_{1}=(a_{3}a_{2})_{2}$ 和 $N_{0}=(a_{1}a_{0})_{2}$。通过设置 $X=00a_{3}a_{2}$、$Y=00a_{1}a_{0}$ 和 $C_{in}=0$，4位加法器被连接以计算\n$$\nS=N_{1}+N_{0}\n$$\n因为 $N_{1},N_{0}\\in\\{0,1,2,3\\}$，所以可得 $S\\in\\{0,1,2,3,4,5,6\\}$。因此 $Z_{3}$ 恒为0，而相关的和位是 $Z_{2}Z_{1}Z_{0}$，它们表示 $S$ 的二进制形式。\n\n根据所述的数论性质，$A$ 是3的倍数当且仅当 $S\\equiv 0 \\pmod{3}$。已知 $S\\in\\{0,\\dots,6\\}$，这种情况恰好在\n$$\nS\\in\\{0,3,6\\}\n$$\n时发生，其在 $(Z_{2},Z_{1},Z_{0})$ 上的二进制编码为\n$$\n0\\leftrightarrow (0,0,0),\\quad 3\\leftrightarrow (0,1,1),\\quad 6\\leftrightarrow (1,1,0).\n$$\n因此，当且仅当 $A$ 是3的倍数时为真的逻辑函数，必须是精确选择这三种模式的最小项之和：\n$$\n(\\overline{Z_{2}}\\land \\overline{Z_{1}}\\land \\overline{Z_{0}})\\ \\lor\\ (\\overline{Z_{2}}\\land Z_{1}\\land Z_{0})\\ \\lor\\ (Z_{2}\\land Z_{1}\\land \\overline{Z_{0}}).\n$$\n这与选项D相符。", "answer": "$$\\boxed{D}$$", "id": "1914699"}]}