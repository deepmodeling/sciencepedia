{"hands_on_practices": [{"introduction": "解码器是实现组合逻辑函数的强大工具，尤其适用于那些由一组特定输入组合（即最小项）定义的函数。第一个练习提供了一个典型应用：验证二进制编码的十进制（BCD）输入。通过这个练习，你将学习如何利用解码器直接产生识别和标记无效输入的信号，这是数字系统中一项常见的数据校验任务，并巩固解码器作为“最小项生成器”的核心概念。[@problem_id:1923115]", "problem": "您的任务是设计一个数字逻辑电路，作为一个错误检测器，用于一个使用4位二进制编码的十进制（BCD）数的系统。一个BCD数使用一个4位二进制码来表示从0到9的十进制数字。任何表示从10到15的值的4位代码都被认为是无效的BCD数字。\n\n您的电路必须接受一个4位二进制输入，表示为 $A_3A_2A_1A_0$（其中 $A_3$ 是最高有效位），并产生一个单一输出 $F$。如果输入表示一个无效的BCD数字，输出 $F$ 必须为逻辑高电平（1），否则为逻辑低电平（0）。\n\n您必须仅使用以下两种组件来实现此电路：\n1.  一个具有高电平有效输出的4-16译码器。该译码器有四个输入（$A_3, A_2, A_1, A_0$）和十六个输出（$Y_0, Y_1, \\ldots, Y_{15}$）。对于任何代表十进制值 $i$ 的4位输入，相应的输出线 $Y_i$ 为高电平，所有其他输出线为低电平。\n2.  一个额外的多输入逻辑门。\n\n以下哪个选项正确描述了这个无效BCD检测器的实现？\n\nA. 一个6输入或门，其输入连接到译码器输出 $Y_{10}, Y_{11}, Y_{12}, Y_{13}, Y_{14}, Y_{15}$。\n\nB. 一个6输入与门，其输入连接到译码器输出 $Y_{10}, Y_{11}, Y_{12}, Y_{13}, Y_{14}, Y_{15}$。\n\nC. 一个10输入或门，其输入连接到译码器输出 $Y_0, Y_1, \\ldots, Y_9$。\n\nD. 一个10输入与门，其输入连接到译码器输出 $Y_0, Y_1, \\ldots, Y_9$。\n\nE. 一个6输入或非门，其输入连接到译码器输出 $Y_{10}, Y_{11}, Y_{12}, Y_{13}, Y_{14}, Y_{15}$。", "solution": "我们给定一个具有高电平有效输出的4-16译码器，其输入为 $A_{3},A_{2},A_{1},A_{0}$，输出为 $Y_{0},Y_{1},\\ldots,Y_{15}$。根据译码器的定义，对于一个对应十进制 $i$ 的输入，恰好有一个输出 $Y_{i}$ 为高电平，所有其他输出均为低电平：\n$$\n\\text{如果 }A_{3}A_{2}A_{1}A_{0} \\text{ 编码 } i,\\ \\text{则 } Y_{i}=1 \\text{ 且 } Y_{j}=0 \\text{ 对于 } j\\neq i.\n$$\n一个BCD数字对于十进制0到9（即编码0到9）是有效的。对于十进制10到15是无效的。因此，当且仅当输入是$10,11,12,13,14,15$之一时，无效检测器必须产生 $F=1$。\n\n使用译码器输出作为最小项，所期望的函数是对应于无效代码的最小项之和：\n$$\nF = Y_{10} + Y_{11} + Y_{12} + Y_{13} + Y_{14} + Y_{15}.\n$$\n因为译码器是独热编码（one-hot）的（即一次只有一个 $Y_{i}$ 为高电平），这个单一的6输入或门恰好在输入是无效代码10到15之一时产生 $F=1$，而在输入是0到9时产生 $F=0$。这恰好使用了一个4-16译码器和一个额外的多输入门（一个或门）。因此，正确的实现对应于将一个6输入或门连接到 $Y_{10},Y_{11},Y_{12},Y_{13},Y_{14},Y_{15}$，这就是选项A。\n\n为了完整起见，请注意：\n- 一个对 $Y_{10}$ 到 $Y_{15}$ 进行操作的6输入与门将始终输出 $0$，因为一次只有一个译码器输出可以为高电平。\n- 一个对 $Y_{0}$ 到 $Y_{9}$ 进行操作的10输入或门会给出一个有效指示器，而不是所需的无效指示器，并且不允许再进行反相操作。\n- 出于与上述相同的原因，一个对 $Y_{0}$ 到 $Y_{9}$ 进行操作的10输入与门总是输出 $0$。\n- 一个对 $Y_{10}$ 到 $Y_{15}$ 进行操作的6输入或非门会产生一个有效指示器（对于0到9为高电平），而不是所需的无效指示器。\n\n因此，正确的选项是A。", "answer": "$$\\boxed{A}$$", "id": "1923115"}, {"introduction": "在掌握了基本应用后，我们来挑战一个更抽象的问题，它要求你首先将一个高层的功能描述——一个关于位旋转不变性的属性——转化为对输入变量的具体布尔条件。[@problem_id:1923069] 一旦推导出这些条件，实现过程就与之前的练习类似，这在巩固核心技术的同时，也锻炼了连接高级功能规格与底层逻辑实现之间的分析能力。", "problem": "需要设计一个组合逻辑电路，用于处理一个由$N$表示的4位无符号二进制输入。$N$的各位表示为$A_3A_2A_1A_0$，其中$A_3$是最高有效位。该电路的单位输出$F$由一个特定的位操作属性决定。\n\n我们定义一个1位左循环移位操作ROL，它作用于一个4位数$X=X_3X_2X_1X_0$以产生一个新的4位数$Y=X_2X_1X_0X_3$。\n\n当且仅当对输入$N$连续应用两次ROL操作后得到的结果在数值上等于原始数字$N$时，电路的输出$F$必须为逻辑1。否则，输出$F$为逻辑0。实现被限制为使用一个4-16高电平有效译码器和一个或门。\n\n下列哪个集合包含了所有使输出$F$为1的输入$N$的十进制值（从0到15）？\n\nA. {0, 5, 10, 15}\n\nB. {3, 6, 9, 12}\n\nC. {0, 15}\n\nD. {1, 2, 4, 8}\n\nE. {0, 1, 2, 3, 4, 5, 6, 7}\n\nF. {7, 11, 13, 14}", "solution": "设输入为4位向量$N=A_{3}A_{2}A_{1}A_{0}$。根据定义，1位左循环移位（ROL）将$X_{3}X_{2}X_{1}X_{0}$映射为$X_{2}X_{1}X_{0}X_{3}$。对$N$应用一次ROL得到\n$$\n\\operatorname{ROL}(N)=A_{2}A_{1}A_{0}A_{3}.\n$$\n第二次应用ROL产生\n$$\n\\operatorname{ROL}(\\operatorname{ROL}(N))=A_{1}A_{0}A_{3}A_{2}.\n$$\n输出$F$为$1$的条件是连续两次ROL操作返回原始数字，即：\n$$\nA_{3}A_{2}A_{1}A_{0}=A_{1}A_{0}A_{3}A_{2}.\n$$\n按位相等可得出充分必要条件\n$$\nA_{3}=A_{1}, \\quad A_{2}=A_{0}.\n$$\n因此，有效的输入正是形如$A_{3}A_{2}A_{1}A_{0}=a b a b$的数，其中$a,b\\in\\{0,1\\}$。枚举所有可能性：\n- 当$(a,b)=(0,0)$时，二进制数为$0000_{2}$，其十进制值为$0$。\n- 当$(a,b)=(0,1)$时，二进制数为$0101_{2}$，其十进制值为$5$。\n- 当$(a,b)=(1,0)$时，二进制数为$1010_{2}$，其十进制值为$10$。\n- 当$(a,b)=(1,1)$时，二进制数为$1111_{2}$，其十进制值为$15$。\n\n因此，所有使$F=1$的十进制输入的集合是$\\{0,5,10,15\\}$，这对应于选项A。", "answer": "$$\\boxed{A}$$", "id": "1923069"}, {"introduction": "最后的练习将任务从简单的逻辑实现提升到优化设计的高度，引入了一个关键的现实世界约束：速度。这个问题表明，对于给定的函数和组件，如何选择连接到解码器的输入会对电路的整体性能产生重大影响。[@problem_id:1923072] 通过分析传播延迟，你将学习如何做出超越纯逻辑正确性的、明智的设计决策，从而触及高性能数字设计的实践核心。", "problem": "一位电气工程师的任务是使用一组有限的元器件来实现一个特定的四变量布尔函数 $F(A, B, C, D)$。该函数由最小项之和定义：\n$$F(A, B, C, D) = \\sum m(0, 2, 5, 7, 8, 10, 13, 15)$$\n可用的元器件及其相关的传播延迟如下：\n- 一个3-8线译码器：从其三个地址输入中的任意一个到其八个输出中的任意一个的传播延迟为 $t_{dec} = 4.0 \\text{ ns}$。\n- 一些标准逻辑门：\n    - 反相器（非门），延迟为 $t_{NOT} = 1.0 \\text{ ns}$。\n    - 双输入与门，延迟为 $t_{AND2} = 1.5 \\text{ ns}$。\n    - 双输入或门，延迟为 $t_{OR2} = 1.5 \\text{ ns}$。\n\n实现策略要求将四个输入变量（$A, B, C, D$）中的三个连接到译码器的地址输入端。译码器的八个输出，以及第四个剩余的输入变量（称为“外部变量”），必须被用作所提供的外部逻辑门网络的输入，以计算函数 $F$。任何输入数 $k > 2$ 的逻辑门都必须由同类型的双输入门构成的平衡树来构建。例如，一个k输入或门将由双输入或门构成的树来搭建，其延迟为 $\\lceil \\log_2(k) \\rceil \\cdot t_{OR2}$。\n\n你的任务是确定四个输入变量的最优划分，以最小化整个电路的最坏情况传播延迟。最坏情况延迟定义为四个输入（$A, B, C, D$）中任意一个的信号变化传播到最终输出 $F$ 所需的最长时间。\n\n计算这个可能的最小最坏情况传播延迟。以纳秒（ns）为单位表示你的答案，并四舍五入到三位有效数字。", "solution": "从最小项规范开始\n$$F(A,B,C,D)=\\sum m(0,2,5,7,8,10,13,15)。$$\n以 $A$ 为最高有效位，$D$ 为最低有效位进行索引，按 $B$ 的值进行分离：\n- 对于 $B=0$：包含的最小项为 $m(0,2,8,10)$，它们对应于所有 $A,C$ 情况下的 $D=0$。因此 $F|_{B=0}=D'$。\n- 对于 $B=1$：包含的最小项为 $m(5,7,13,15)$，它们对应于所有 $A,C$ 情况下的 $D=1$。因此 $F|_{B=1}=D$。\n因此，\n$$F=B'D'+BD,$$\n即，$F$ 是 $B$ 和 $D$ 的同或（XNOR），与 $A$ 和 $C$ 无关。\n\n为了使用给定的译码器最小化最坏情况传播延迟，选择三个译码器地址输入，使其包含 $F$ 所依赖的两个变量。因此，将译码器输入设为 $\\{B,C,D\\}$ （或等效地设为 $\\{A,B,D\\}$），并将剩余变量（分别为 $A$ 或 $C$）作为外部输入。由于 $F$ 与外部变量无关，逻辑电路中无需使用该外部输入。\n\n当译码器输入为 $\\{B,C,D\\}$ 时，对于每个 $(B,C,D)$ 组合，八个输出中恰好有一个被置为有效。因为当且仅当 $B=D$ 时 $F=1$，我们将 $F$ 实现为对应于使 $B=D$ 的所有输入组合的译码器输出的或运算。这些组合是 $(B,C,D) = (0,0,0), (0,1,0), (1,0,1), (1,1,1)$，它们激活译码器输出 $O_0, O_2, O_5, O_7$。因此，该函数是一个4输入或运算：\n$$F = O_0 \\lor O_2 \\lor O_5 \\lor O_7$$\n根据给定规则，一个4输入或门被实现为一个由双输入或门构成的平衡树，其延迟为 $\\lceil \\log_{2}(4)\\rceil t_{OR2}=2\\,t_{OR2}$。\n\n传播延迟分析：\n- 对于 $B$ 或 $D$ 的变化（它们都是译码器输入且 $F$ 依赖于它们），路径延迟为\n$$t_{\\text{path}}=t_{dec}+2\\,t_{OR2}。$$\n- 对于 $C$ 的变化（它也是一个译码器输入），$F$ 与 $C$ 无关；稳态输出不发生变化，因此这不会增加最坏情况延迟。\n- 对于外部输入的变化（如果使用 $\\{B,C,D\\}$ 则为 $A$，如果使用 $\\{A,B,D\\}$ 则为 $C$），$F$ 与该变量无关；同样不会增加最坏情况延迟。\n\n因此，最坏情况传播延迟为\n$$t_{\\max}=t_{dec}+2\\,t_{OR2}。$$\n代入给定值 $t_{dec}=4.0\\ \\text{ns}$ 和 $t_{OR2}=1.5\\ \\text{ns}$：\n$$t_{\\max}=4.0+2\\cdot 1.5=7.0\\ \\text{ns}。$$\n\n为完整起见，任何将 $B$ 或 $D$ 作为外部变量的划分都需要构成两个4输入或门来收集相关的译码器输出，然后与外部变量（或其反相）进行一次与运算，最后再进行一次或运算，从而得到\n$$t_{\\max}=t_{dec}+2\\,t_{OR2}+t_{AND2}+t_{OR2}=t_{dec}+3\\,t_{OR2}+t_{AND2},$$\n代入给定数值即为 $4.0+3\\cdot 1.5+1.5=10.0\\ \\text{ns}$，这明显差于 $7.0\\ \\text{ns}$。\n\n因此，最优划分是将 $B$ 和 $D$（以及 $A$ 或 $C$ 中的一个）连接到译码器，并将 $F$ 实现为相应译码器输出的4输入或运算，从而得到最小最坏情况传播延迟为 $7.00\\ \\text{ns}$。", "answer": "$$\\boxed{7.00}$$", "id": "1923072"}]}