{"hands_on_practices": [{"introduction": "要掌握BCD纹波计数器，首先需要理解其核心功能：模10计数。这个练习将帮助你巩固这一基本概念，通过计算在给定数量的时钟脉冲后计数器的最终状态，来检验你对BCD计数周期和重置行为的理解 [@problem_id:1912261]。这是一个从高层次功能角度审视计数器的绝佳起点。", "problem": "一个为个位数计数显示器设计的数字电路使用了一个4位异步计数器。该计数器被专门配置为二进制编码的十进制（BCD）计数器，这意味着它会按顺序经过代表十进制数字0到9的二进制状态。当接收到使其计数从9前进的时钟脉冲时，计数器逻辑会强制其复位到0。\n\n构成该计数器的四个触发器的输出表示为$Q_D$、$Q_C$、$Q_B$和$Q_A$，其中$Q_A$代表最低有效位（LSB）。计数器被初始化为清零状态，此时所有输出（$Q_D, Q_C, Q_B, Q_A$）均为逻辑0。\n\n如果计数器的时钟输入接收到恰好23个脉冲序列，那么计数器的最终二进制状态是什么，表示为4位字符串$Q_D Q_C Q_B Q_A$？\n\nA. 0011\n\nB. 0111\n\nC. 0010\n\nD. 1001\n\nE. 0101", "solution": "一个BCD计数器循环计数十进制数字0到9，然后在下一个时钟脉冲时复位到0。因此，从代表0的清零状态开始，该计数器实现的是模10计数。因此，在$N$个脉冲后，显示的十进制值是$N$模$10$的余数：\n$$\nN \\equiv r \\pmod{10}.\n$$\n当$N=23$时，通过欧几里得除法计算余数：\n$$\n23 = 2 \\times 10 + 3 \\quad \\Rightarrow \\quad 23 \\bmod 10 = 3.\n$$\n因此，在23个脉冲后，计数器显示十进制数$3$。在BCD编码中，四个输出满足\n$$\nd = 8Q_{D} + 4Q_{C} + 2Q_{B} + Q_{A}, \\quad Q_{D},Q_{C},Q_{B},Q_{A} \\in \\{0,1\\}.\n$$\n设$d=3$可得\n$$\n3 = 8Q_{D} + 4Q_{C} + 2Q_{B} + Q_{A} \\;\\Rightarrow\\; Q_{D}=0,\\; Q_{C}=0,\\; Q_{B}=1,\\; Q_{A}=1,\n$$\n所以4位状态是$0011$，对应于选项A。", "answer": "$$\\boxed{A}$$", "id": "1912261"}, {"introduction": "理解了BCD计数器的计数周期后，下一步是探究其内部工作原理。这个练习要求你从一个预设状态开始，逐个脉冲地追踪计数器的状态变化，从而深入理解“纹波”效应——即状态变化如何像涟漪一样逐级通过触发器 [@problem_id:1912256]。这有助于你将抽象的计数概念与实际的触发器翻转行为联系起来。", "problem": "一个4位异步二进制编码十进制（BCD）纹波计数器由负边沿触发的J-K触发器构成，其中所有触发器的J和K输入都永久连接到高逻辑电平。计数器的输出由触发器的状态 $Q_D Q_C Q_B Q_A$ 表示，其中 $Q_D$ 是最高有效位（MSB），$Q_A$ 是最低有效位（LSB）。该计数器设计为从0000（十进制0）计数到1001（十进制9），然后在下一个时钟脉冲时复位到0000。\n\n最初，该计数器被异步预置为对应于十进制数4的二进制状态。然后，将一个时钟脉冲序列施加到LSB触发器（对应输出 $Q_A$ 的那个）的时钟输入端。\n\n在恰好3个后续时钟脉冲发生后，计数器的二进制状态 $Q_D Q_C Q_B Q_A$ 是什么？\n\nA. 0111\n\nB. 0110\n\nC. 1000\n\nD. 0011\n\nE. 0101", "solution": "本题要求的是一个BCD纹波计数器从预设状态4开始，经过3个时钟脉冲后的状态。\n\n首先，我们确定计数器的初始状态。计数器被预置为十进制数4。在4位二进制表示（$Q_D Q_C Q_B Q_A$）中，这对应于：\n初始状态：$Q_D Q_C Q_B Q_A = 0100$。\n\n该计数器是一个由负边沿触发的J-K触发器构成的异步（纹波）计数器。由于J和K输入都接高电平（$J=1, K=1$），每个触发器都被配置为在时钟输入端接收到负边沿时翻转其状态。\n\n在纹波计数器中，外部时钟仅施加到第一个触发器（FF_A，对应于LSB $Q_A$）。每个后续触发器（FF_i）的时钟输入由前一个触发器的输出（$Q_{i-1}$）驱动。这意味着FF_B由$Q_A$计时，FF_C由$Q_B$计时，FF_D由$Q_C$计时。由于触发器是负边沿触发的，只有当其时钟输入从高状态（1）转换到低状态（0）时，触发器才会翻转。\n\n让我们追踪计数器在3个时钟脉冲中每一个的状态。\n\n**初始状态：** $Q_D=0, Q_C=1, Q_B=0, Q_A=0$。\n\n**第一个时钟脉冲后：**\n1.  外部时钟向FF_A施加一个负边沿。\n2.  $Q_A$ 从当前状态0翻转到1。\n3.  输出 $Q_A$ 从0转换到1。这是一个上升沿，而不是下降（负）边沿。因此，它不会触发FF_B。\n4.  由于FF_B不翻转，$Q_B$ 保持为0。因此，FF_C不被触发，$Q_C$ 保持为1。同样，FF_D不被触发，$Q_D$ 保持为0。\n5.  计数器的新状态是 $Q_D Q_C Q_B Q_A = 0101$。这对应于十进制5。\n\n**第二个时钟脉冲后：**\n1.  外部时钟向FF_A施加另一个负边沿。\n2.  $Q_A$ 从当前状态1翻转到0。\n3.  输出 $Q_A$ 从1转换到0。这是一个下降（负）边沿，它作为FF_B的时钟信号。\n4.  FF_B从$Q_A$接收到一个负边沿并翻转。$Q_B$ 从0变为1。\n5.  输出 $Q_B$ 从0转换到1。这是一个上升沿，所以它不会触发FF_C。$Q_C$ 保持为1。\n6.  由于$Q_C$没有改变，FF_D不被触发。$Q_D$ 保持为0。\n7.  计数器的新状态是 $Q_D Q_C Q_B Q_A = 0110$。这对应于十进制6。\n\n**第三个时钟脉冲后：**\n1.  外部时钟向FF_A施加第三个负边沿。\n2.  $Q_A$ 从当前状态0翻转到1。\n3.  输出 $Q_A$ 从0转换到1。这是一个上升沿，所以它不会触发FF_B。\n4.  由于FF_B不翻转，$Q_B$ 保持为1。因此，FF_C不被触发，$Q_C$ 保持为1。同样，FF_D不被触发，$Q_D$ 保持为0。\n5.  计数器的新状态是 $Q_D Q_C Q_B Q_A = 0111$。这对应于十进制7。\n\n计数序列为 4 -> 5 -> 6 -> 7。BCD特性，即从大于9的计数复位，在此范围内未被激活。该计数器仅表现为标准的二进制递增计数器。\n\n经过3个时钟脉冲后的最终状态是0111。这对应于选项A。", "answer": "$$\\boxed{A}$$", "id": "1912256"}, {"introduction": "BCD计数器的关键设计在于其重置逻辑，它将一个标准的4位二进制计数器（模16）转变为一个十进制计数器（模10）。这个练习通过一个假设的电路故障，挑战你分析重置逻辑被改变后会发生什么 [@problem_id:1909933]。通过确定故障计数器的新模数，你将深刻体会到特定门电路如何决定整个计数系统的基本属性。", "problem": "一个异步4位二进制波纹上升计数器由四个负边沿触发的J-K触发器构成。所有的J和K输入都永久连接到逻辑1，以将它们配置为翻转（T型）触发器。触发器的输出表示为 $Q_D, Q_C, Q_B, Q_A$，其中 $Q_A$ 代表最低有效位（LSB），$Q_D$ 代表最高有效位（MSB）。\n\n为了用作模为10的二进制编码的十进制（BCD）计数器，当计数达到十（$1010_2$）时，计数器必须复位。这是通过使用一个双输入与非门（NAND gate）来实现的。该与非门的输出连接到所有四个触发器的异步、低电平有效的 `CLEAR` 输入端。在一个正常工作的BCD计数器中，与非门的两个输入连接到在状态 $1010_2$ 期间为逻辑1的特定触发器输出。\n\n现在，考虑电路中出现故障的情况。本应连接到输出 $Q_B$ 的与非门输入永久固定为1（stuck-at-1），意味着无论 $Q_B$ 的状态如何，它都保持在恒定的高逻辑电平。连接到 $Q_D$ 的另一个与非门输入保持功能完好。\n\n确定这个故障计数器的新计数模数。计数器的模数定义为其循环经历的唯一稳定状态的数量。", "solution": "所有四个J-K触发器都设置 $J=K=1$，因此每个触发器都作为T触发器工作，并在其时钟输入的每个负时钟边沿翻转：\n$$Q^{+}=\\overline{Q} \\quad \\text{在其时钟输入的每个负时钟边沿。}$$\n在一个波纹上升计数器中，$Q_A$ 由外部时钟驱动，$Q_B$ 由 $Q_A$ 驱动，$Q_C$ 由 $Q_B$ 驱动，$Q_D$ 由 $Q_C$ 驱动，所有这些都在负边沿触发。\n\n在预期的BCD设计中，一个双输入与非门通过将其输入连接到 $Q_D$ 和 $Q_B$ 来检测状态 $1010_2$，因此当 $Q_D=Q_B=1$ 时，它会触发异步低电平有效的清零。\n\n在故障情况下，本应连接到 $Q_B$ 的与非门输入固定在逻辑 $1$。设与非门的输入为 $X$ 和 $Q_D$，且 $X=1$。那么与非门的输出为\n$$Y=\\overline{X \\cdot Q_D}=\\overline{1 \\cdot Q_D}=\\overline{Q_D}.$$\n这个输出 $Y$ 驱动所有触发器的低电平有效CLEAR端，因此异步清零恰好在 $Q_D=1$ 时被触发。\n\n因此，任何时候当 $Q_D$ 试图变为 $1$ 时，清零信号会立即被触发，并将所有输出强制为 $0$。因此，任何 $Q_D=1$ 的稳定状态都无法持续。计数器只能呈现 $Q_D=0$ 的稳定状态，即从 $0000_2$ 到 $0111_2$ 的二进制状态。\n\n从 $0000_2$ 开始，正常的波纹进行顺序是\n$$0000 \\to 0001 \\to 0010 \\to 0011 \\to 0100 \\to 0101 \\to 0110 \\to 0111.$$\n下一个正常状态将是 $1000$，这要求当 $Q_C$ 发生 $1 \\to 0$ 的转换时，$Q_D$ 翻转为 $1$。在那一刻，因为 $Y=\\overline{Q_D}$，异步清零信号被触发，并强制\n$$Q_D Q_C Q_B Q_A=0000,$$\n从而重新开始序列。因此，该计数器循环经历恰好 $8$ 个唯一的稳定状态。\n\n所以，新的计数模数是 $8$。", "answer": "$$\\boxed{8}$$", "id": "1909933"}]}