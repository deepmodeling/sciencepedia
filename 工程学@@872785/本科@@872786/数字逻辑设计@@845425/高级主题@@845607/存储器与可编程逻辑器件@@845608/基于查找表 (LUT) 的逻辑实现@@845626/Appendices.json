{"hands_on_practices": [{"introduction": "要掌握基于查找表（LUT）的设计，最基本的任务就是将一个给定的逻辑函数“编程”到LUT中。这个练习将引导你完成这个核心过程：从一个布尔表达式出发，为4输入LUT生成其16位的配置比特串。通过这个实践，你将深刻理解LUT的输入如何作为地址来索引预存的逻辑结果。[@problem_id:1944846]", "problem": "在现代数字系统中，许多逻辑函数是使用可编程硬件元件实现的。其中一种基本元件就是查找表 (Look-Up Table, LUT)。一个 $k$ 输入查找表是一个小型存储器，可以实现任何 $k$ 个变量的布尔函数。它有 $k$ 条地址线（函数的输入）和一个数据输出。该存储器存储 $2^k$ 位数据，对于任何给定的输入组合，会访问相应的内存地址，并将存储在该位置的位呈现在输出端。\n\n考虑一个用于实现特定布尔函数 $f(A, B, C, D)$ 的4输入查找表。四个输入 $A, B, C, D$ 用于构成一个4位内存地址，其中 $D$ 是最高有效位 (MSB)，$A$ 是最低有效位 (LSB)。因此，该地址对应于二进制数 $DCBA$ 的整数值。需要实现的函数由以下表达式给出：\n\n$$f(A, B, C, D) = (A \\oplus B) \\cdot (C + D)$$\n\n此处，$\\oplus$ 表示逻辑异或运算，$\\cdot$ 表示逻辑与运算，而 $+$ 表示逻辑或运算。\n\n请确定必须存储在查找表内存中的16位二进制字符串，以实现此函数。该字符串应按照内存地址0到15的内容顺序排列。", "solution": "一个$4$输入查找表使用输入$A,B,C,D$来构成地址，其中$D$为最高有效位(MSB)，$A$为最低有效位(LSB)，所以地址是$DCBA$的整数值，即$n=8D+4C+2B+A$。实现的函数为\n$$\nf(A,B,C,D)=(A\\oplus B)\\cdot(C+D).\n$$\n我们计算地址$0$到$15$对应的$f$值。\n\n- 当$C=D=0$时（对应地址$DCBA=0000,0001,0010,0011$，即$n=0,1,2,3$），我们有$C+D=0$，因此$f=(A\\oplus B)\\cdot 0=0$。所以地址$0,1,2,3$处的位是$0,0,0,0$。\n\n- 对于$C+D=1$（所有$(C,D)\\neq(0,0)$的剩余地址），我们有$f=A\\oplus B$。对于每个固定的$(D,C)$对，随着地址递增，$(A,B)$会依次经历$(0,0),(1,0),(0,1),(1,1)$，从而得到$A\\oplus B=0,1,1,0$。\n\n将此应用于每个块：\n1) $D=0,C=1$ (地址 $4,5,6,7$): 输出 $0,1,1,0$。\n2) $D=1,C=0$ (地址 $8,9,10,11$): 输出 $0,1,1,0$。\n3) $D=1,C=1$ (地址 $12,13,14,15$): 输出 $0,1,1,0$。\n\n按地址$0$到$15$的顺序收集，得到$16$位字符串：\n$$\n0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0.\n$$\n去掉逗号，所需的查找表内容为\n$$\n0000011001100110.\n$$", "answer": "$$\\boxed{0000011001100110}$$", "id": "1944846"}, {"introduction": "在学会了如何配置LUT之后，一项同样重要的技能是能够分析一个已编程的LUT，以理解它所实现的具体功能。这个练习将带你进行一次“逆向工程”：从一个给定的十六进制配置值开始，将其转换为二进制真值表，并最终推导出其对应的最简布尔表达式。这个过程对于调试和理解现有设计至关重要。[@problem_id:1944844]", "problem": "一个4输入查找表（LUT）是现代现场可编程门阵列（FPGA）中的一个基本组件。它可以被编程以实现任何四变量的布尔函数。该函数由一个16位的配置值定义，该值存储了16种可能输入组合中每一种的输出。\n\n考虑一个4输入查找表，其输入指定为 $A, B, C,$ 和 $D$，其中 $A$ 是最高有效位（MSB），$D$ 是最低有效位（LSB）。输入组合 $(ABCD)_2$ 形成一个4位无符号整数 $i$，用于对查找表进行寻址。该输入下查找表的输出由16位配置值的第 $i$ 位决定，其中第0位是配置值的最低有效位。\n\n一个特定查找表的配置值由十六进制数 `0x6996` 给出。\n\n确定由此查找表实现的布尔函数 $F(A, B, C, D)$ 的最小化积之和（SOP）表达式。您的表达式应使用上划线（例如 $\\overline{A}$）来表示取反。", "solution": "一个由 $i$ 索引的4输入查找表使用 $i=8A+4B+2C+D$，其中 $A$ 是最高有效位，$D$ 是最低有效位。配置值为 $0x6996$。将其写成一个从第15位（MSB）到第0位（LSB）的16位二进制字，\n$$0x6996 = 0110\\ 1001\\ 1001\\ 0110,$$\n所以比特位 $b_{15}\\ldots b_{0}$ 是 $0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0$。因此，从最低有效位到最高有效位的比特位是\n$$b_{0}=0,\\ b_{1}=1,\\ b_{2}=1,\\ b_{3}=0,\\ b_{4}=1,\\ b_{5}=0,\\ b_{6}=0,\\ b_{7}=1,\\ b_{8}=1,\\ b_{9}=0,\\ b_{10}=0,\\ b_{11}=1,\\ b_{12}=0,\\ b_{13}=1,\\ b_{14}=1,\\ b_{15}=0.$$\n因此，当索引为以下值时，输出 $F(A,B,C,D)=1$\n$$i\\in\\{1,2,4,7,8,11,13,14\\}.$$\n使用 $i=8A+4B+2C+D$ 将每个索引 $i$ 映射回 $(A,B,C,D)$，得到最小项：\n- $i=1:(0,0,0,1)\\Rightarrow \\overline{A}\\,\\overline{B}\\,\\overline{C}\\,D$，\n- $i=2:(0,0,1,0)\\Rightarrow \\overline{A}\\,\\overline{B}\\,C\\,\\overline{D}$，\n- $i=4:(0,1,0,0)\\Rightarrow \\overline{A}\\,B\\,\\overline{C}\\,\\overline{D}$，\n- $i=7:(0,1,1,1)\\Rightarrow \\overline{A}\\,B\\,C\\,D$，\n- $i=8:(1,0,0,0)\\Rightarrow A\\,\\overline{B}\\,\\overline{C}\\,\\overline{D}$，\n- $i=11:(1,0,1,1)\\Rightarrow A\\,\\overline{B}\\,C\\,D$，\n- $i=13:(1,1,0,1)\\Rightarrow A\\,B\\,\\overline{C}\\,D$，\n- $i=14:(1,1,1,0)\\Rightarrow A\\,B\\,C\\,\\overline{D}$。\n\n在一个4变量卡诺图中，这些值为1的项都是孤立的（没有相邻的1），因此无法进行分组，规范的最小项之和已经是最小化的积之和（SOP）形式。等效地，这个真值表对应于奇校验函数 $A\\oplus B\\oplus C\\oplus D$，其最小化的两级积之和（SOP）确实包含上述所有八个最小项。\n\n因此，最小化的SOP是\n$$F(A,B,C,D)=\\overline{A}\\,\\overline{B}\\,\\overline{C}\\,D+\\overline{A}\\,\\overline{B}\\,C\\,\\overline{D}+\\overline{A}\\,B\\,\\overline{C}\\,\\overline{D}+\\overline{A}\\,B\\,C\\,D+A\\,\\overline{B}\\,\\overline{C}\\,\\overline{D}+A\\,\\overline{B}\\,C\\,D+A\\,B\\,\\overline{C}\\,D+A\\,B\\,C\\,\\overline{D}.$$", "answer": "$$\\boxed{\\overline{A}\\,\\overline{B}\\,\\overline{C}\\,D+\\overline{A}\\,\\overline{B}\\,C\\,\\overline{D}+\\overline{A}\\,B\\,\\overline{C}\\,\\overline{D}+\\overline{A}\\,B\\,C\\,D+A\\,\\overline{B}\\,\\overline{C}\\,\\overline{D}+A\\,\\overline{B}\\,C\\,D+A\\,B\\,\\overline{C}\\,D+A\\,B\\,C\\,\\overline{D}}$$", "id": "1944844"}, {"introduction": "现实世界中的数字电路，例如算术单元，通常需要产生多个输出信号。这个练习将探讨如何使用多个独立的LUT来实现一个具有双输出的全减器。通过这个任务，你将掌握一个FPGA设计中的关键原则：每个唯一的输出函数通常都需要一个独立的LUT，这直接关系到逻辑资源的规划与分配。[@problem_id:1944830]", "problem": "在现代数字电路设计中，特别是在现场可编程门阵列（FPGA）中，逻辑功能是通过可配置查找表（LUT）网络来实现的。一个$k$输入LUT是一个具有$k$个输入和一个输出的数字组件，它可以被编程以实现其$k$个变量的任意布尔函数。\n\n考虑一个全减器的设计。全减器是一种组合电路，它对三个输入位执行减法操作：被减数$X$、减数$Y$以及来自较低有效位的借位输入$B_{in}$。它产生两个输出：差值$D$和向较高有效位的借位输出$B_{out}$。这些输出的标准逻辑表达式为：\n$$D = X \\oplus Y \\oplus B_{in}$$\n$$B_{out} = \\overline{X}Y + \\overline{X}B_{in} + YB_{in}$$\n其中$\\oplus$表示异或（XOR）操作。\n\n你的任务是确定实现一个完整的全减器所需的3输入、单输出LUT的绝对最小数量，该全减器从输入$X$、$Y$和$B_{in}$生成$D$和$B_{out}$两个信号。最终答案应为一个整数。", "solution": "一个$k$输入单输出LUT可以通过编程其$2^{k}$个条目的真值表来实现最多$k$个变量的任何布尔函数。因此，任何关于$(X,Y,B_{in})$的布尔函数都可以由一个3输入LUT实现。\n\n全减器有两个输出，由下式给出：\n$$D = X \\oplus Y \\oplus B_{in},$$\n$$B_{out} = \\overline{X}Y + \\overline{X}B_{in} + YB_{in}.$$\n$D$和$B_{out}$都是三个输入$(X,Y,B_{in})$的非平凡布尔函数；特别地，每个输出都依赖于所有三个输入，并且不等于任何单个主输入或常数。在一个完全由3输入、单输出LUT组成的网络中，每个不是直接连接到主输入或常数的主输出都必须由某个LUT的输出驱动。因此，要实现$D$和$B_{out}$这两个不同的输出，至少需要两个LUT的下限：\n$$\\text{number of LUTs} \\geq \\text{number of nontrivial outputs} = 2.$$\n\n这个下限是可以达到的。由于$D$和$B_{out}$都是3变量函数，我们可以将它们直接映射到两个独立的3输入LUT上，每个LUT都以$(X,Y,B_{in})$为输入：\n- LUT$_{1}$ 实现 $D = X \\oplus Y \\oplus B_{in}$。\n- LUT$_{2}$ 实现 $B_{out} = \\overline{X}Y + \\overline{X}B_{in} + YB_{in}$。\n\n不需要额外的LUT，并且单个3输入、单输出LUT不能同时产生两个输出。因此，3输入LUT的绝对最小数量恰好是两个。", "answer": "$$\\boxed{2}$$", "id": "1944830"}]}