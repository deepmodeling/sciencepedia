{"hands_on_practices": [{"introduction": "在使用任何存储芯片时，首要任务是理解其容量。本练习将引导你通过一个基本但至关重要的计算，来确定一块 EPROM 的总存储容量。通过分析地址线和数据线的数量，你将掌握评估任何存储设备容量的核心技能 [@problem_id:1932928]。", "problem": "一名学习数字系统课程的学生正在进行一个项目，为一款定制外设构建一个简单的控制器。为了存储项目的固件，该学生选择了一款经典的可擦除可编程只读存储器 (EPROM) 芯片。根据制造商的数据手册，该 EPROM 芯片具有 14 条地址线和 8 条数据线。学生需要确定该芯片可以容纳的最大数据量，以确保其足够用于控制器的程序。\n\n计算此 EPROM 芯片的总存储容量。在数字系统和存储器规范中，一千比特 (kb) 定义为 1024 比特。请以千比特为单位表示您的最终答案。", "solution": "一个具有 $n$ 条地址线的 EPROM 可以选择 $2^{n}$ 个唯一地址。当 $n=14$ 时，可寻址位置的数量为\n$$\nN_{\\text{addr}}=2^{14}.\n$$\n对于 $d$ 条数据线，每个地址位置输出 $d$ 比特。这里 $d=8$，因此总容量（以比特为单位）为\n$$\nB=N_{\\text{addr}}\\times d=2^{14}\\times 8 \\text{ bits}.\n$$\n根据定义 $1$ 千比特 $= 1024$ 比特且 $1024=2^{10}$，以千比特为单位的容量为\n$$\nK=\\frac{B}{1024}=\\frac{2^{14}\\times 8}{2^{10}}=2^{4}\\times 8=16\\times 8=128 \\text{ kilobits}.\n$$\n因此，该 EPROM 可存储 $128$ 千比特。", "answer": "$$\\boxed{128}$$", "id": "1932928"}, {"introduction": "将数据存入 EPROM 不仅仅是发送一个抽象的命令，而是一个物理过程。本练习将深入探讨 EPROM 编程的物理机制，即其单元如何从擦除后的默认状态“1”被编程为“0”[@problem_id:1932883]。通过一个独特的编程器逻辑，你将被挑战去思考数据写入背后的物理现实，这对于底层固件开发和硬件接口设计至关重要。", "problem": "一位数字系统工程师的任务是为一个旧式设备打上固件补丁，该设备使用一个 8 位可擦除可编程只读存储器（EPROM）芯片。EPROM 将数据存储在存储单元中，每个单元都是一个带有浮栅的特殊金属氧化物半导体场效应晶体管（MOSFET）。\n\n在编程之前，整个存储芯片会暴露在紫外线下，从而被擦除。这个擦除过程会移除浮栅中所有捕获的电荷，将芯片中的每个存储单元设置为逻辑 '1' 的默认状态。为了存储数据，需要使用一个编程设备。通过施加高电压来对一个单元进行编程，这会向其浮栅中注入并捕获电子。这些捕获的电荷将单元的状态从逻辑 '1' 改变为逻辑 '0'。\n\n工程师需要对一个 8 位存储位置进行编程，以存储字符 'K' 的美国信息交换标准代码（ASCII）表示。字符 'K' 的 8 位 ASCII 码是 `0x4B`。\n\n然而，现有的 EPROM 编程器有一个奇特的、非标准的接口逻辑。对于 8 条数据输入线（D7 到 D0）中的每一条，仅当相应的数据输入线被设置为逻辑 '1' 时，编程器的内部电路才会产生一个高压编程脉冲。如果一条数据输入线处于逻辑 '0'，则不会为该位产生脉冲，相应的存储单元将保持其被擦除的状态。\n\n请确定必须提供给编程器数据输入线（D7-D0）的 8 位值，以便在 EPROM 中正确存储字符 'K'。请以两位十六进制数的形式给出你的答案（例如，`F1`）。", "solution": "擦除操作将每个单元设置为逻辑 $1$。当且仅当输入位为 $1$ 时，编程器才会产生一个编程脉冲，而一个编程脉冲会将单元改变为逻辑 $0$。因此，对于每个比特位置 $i$，存储的比特 $S_{i}$ 与编程器输入的比特 $I_{i}$ 之间的关系为\n$$\nS_{i}=\\neg I_{i}.\n$$\n要存储字符 'K'，期望存储的字节是 $S=0x4B$，其 8 位二进制形式为\n$$\nS = 0100\\,1011.\n$$\n因此，所需的编程器输入是 8 位上的按位取反：\n$$\nI = \\neg S = 1011\\,0100 = 0xB4.\n$$\n因此，要提供给 D7–D0 的 8 位值是 $B4$。", "answer": "$$\\boxed{B4}$$", "id": "1932883"}, {"introduction": "数字系统的可靠性取决于其所有组件是否在其指定的电气参数范围内稳定工作。这个练习模拟了一个现实世界中可能发生的“电压跌落”事件，探讨了不稳定的电源电压对 EPROM 读取操作和数据完整性的影响 [@problem_id:1932864]。通过这个思想实验，你将把“0”和“1”的数字世界与电子学的模拟现实联系起来，理解稳定工作条件为何至关重要。", "problem": "在一台老式街机中，游戏的核心逻辑存储在一块可擦除可编程只读存储器（EPROM）芯片上。该 EPROM 的工作需要一个标称电源电压，表示为 $V_{CC}$，其规定范围为 4.75 V 至 5.25 V，以确保可靠运行。在一次游戏过程中，机器电源出现故障，导致连接到 EPROM 的 $V_{CC}$ 线路上的电压暂时降至 3.5 V，并持续了几个时钟周期，这种现象被称为“欠压”。这个电压下降恰好发生在主处理器试图从 EPROM 的某个特定地址读取一条指令的时候。\n\nEPROM 通过在晶体管的绝缘浮动栅上捕获大量电荷来存储二进制“0”，通过让该栅极几乎不带电荷来存储“1”。在读取操作期间，一个读取电压被施加到晶体管的控制栅上。如果浮动栅带电（存储“0”），它会屏蔽晶体管的沟道，使其保持关断状态。如果浮动栅不带电（存储“1”），晶体管则会导通。芯片内部的读出放大器检测这种状态差异，以确定存储的比特位。\n\n鉴于此情景，以下哪个陈述描述了在这次欠压事件中，从 EPROM 读取数据时最可能和最直接的后果？\n\nA. 目标地址的存储单元被永久性损坏，存储的数据丢失。\n\nB. EPROM 芯片自动进入受保护的低功耗待机模式，停止读取操作。\n\nC. 对操作没有影响；由于存储的电荷不受影响，EPROM 将输出正确的数据。\n\nD. 在电压下降期间，从 EPROM 读出的数据变得不可靠，很可能是错误的。\n\nE. 低电压情况触发了意外的编程操作，将被读取的存储单元写入了随机数据。", "solution": "EPROM 规定了所需的电源范围 $V_{CC,\\min} \\leq V_{CC} \\leq V_{CC,\\max}$，其中 $V_{CC,\\min} = 4.75\\ \\text{V}$ 且 $V_{CC,\\max} = 5.25\\ \\text{V}$。在欠压期间，电源电压变为 $V_{CC,\\text{drop}} = 3.5\\ \\text{V}$，因此\n$$\nV_{CC,\\text{drop}}  V_{CC,\\min}.\n$$\n因此，内部读取路径的操作超出了保证的条件范围。\n\n在 EPROM 单元中，存储的状态由阈值电压的偏移来表示：设 $V_{T0}$ 表示带电浮动栅（存储“0”，在读取偏置下晶体管有效关断）的有效阈值电压，而 $V_{T1}$ 表示不带电浮动栅（存储“1”，在读取偏置下晶体管导通）的有效阈值电压，且有 $V_{T0} > V_{T1}$。在读取期间，一个约等于 $V_{WL} \\approx V_{CC}$ 的字线电压被施加到控制栅上，位线由读出放大器进行偏置和感测。这两种状态的可区分性依赖于由位线信号差异决定的读取裕度，\n$$\n\\Delta V_{BL} = f\\!\\left(V_{WL}-V_{T1},\\,V_{WL}-V_{T0},\\,V_{CC}\\right),\n$$\n当\n$$\n\\Delta V_{BL} > V_{os} + V_{\\text{noise}},\n$$\n时，读出放大器可以正确解析状态，其中 $V_{os}$ 是读出放大器的输入失调电压，$V_{\\text{noise}}$ 是噪声和时序不确定性的总和。降低 $V_{CC}$ 会降低 $V_{WL}$ 以及位线电流和电压的可用裕量，从而减小 $\\Delta V_{BL}$。当 $V_{CC}$ 降至规定最小值以下时，通常会发生\n$$\n\\Delta V_{BL} \\leq V_{os} + V_{\\text{noise}},\n$$\n因此读出放大器可能会错误地解析单元状态。因此，在欠压期间最直接的后果是读取的数据变得不可靠或不正确。\n\n这次欠压不会移除或增加浮动栅上的电荷，因为编程和擦除依赖于高电场机制（热电子注入或 Fowler–Nordheim 隧穿），这些机制需要远高于 $V_{CC}$ 的高电压，通常是一个专用的编程电压 $V_{PP}$。在 $V_{CC,\\text{drop}} = 3.5\\ \\text{V}$ 且没有施加 $V_{PP}$ 的情况下，没有物理机制可以改变存储的电荷，因此不会造成永久性损坏。同样，标准的 EPROM 在读取过程中的欠压情况下不会自动进入保护性待机模式，并且由于缺少所需的编程条件和算法，意外编程是不可能发生的。\n\n因此，在欠压期间最可能和最直接的影响是，在 $V_{CC}$ 恢复到规定范围之前，EPROM 会输出不可靠的数据，而其存储的内容保持完好无损。", "answer": "$$\\boxed{D}$$", "id": "1932864"}]}