{"hands_on_practices": [{"introduction": "多路选择器（MUX）是数字逻辑设计中的一个基本构建模块。通过为2对1多路选择器构建既约有序二元决策图（ROBDD），我们可以练习应用香农展开和化简规则，这是掌握ROBDD结构和属性的基础。这个练习将帮助你将一个熟悉的布尔函数转化为其规范的图形表示。", "problem": "一个2选1多路复用器（MUX）是一种数字逻辑电路，它从两个数据输入$I_0$或$I_1$中选择一个，并将其路由到单个输出$F$。选择由一个选择线$S$控制。该多路复用器的布尔函数由$F(S, I_0, I_1) = (\\neg S \\land I_0) \\lor (S \\land I_1)$给出。\n\n你的任务是确定该函数的既约有序二元决策图（ROBDD）的结构。该构建必须遵循严格的变量顺序$S  I_0  I_1$，这意味着在从根到终端的任何路径上，$S$的节点必须出现在$I_0$的节点之上，$I_0$的节点又必须出现在$I_1$的节点之上。\n\n每个候选ROBDD的结构在下面使用一组非终端节点和两个终端节点（`0`代表逻辑假，`1`代表逻辑真）来描述。每个非终端节点由其标签、它测试的变量以及其低位和高位子节点描述，格式为`(label: Variable, Low-child, High-child)`。低位子节点对应于变量为0的情况，高位子节点对应于变量为1的情况。函数$F$的图的根节点始终是标记为`n1`的节点。\n\n下列哪个描述正确地表示了具有给定变量顺序的2-1多路复用器的ROBDD？\n\nA. 该图由3个非终端节点（`n1`, `n2`, `n3`）和2个终端节点（`0`, `1`）组成。\n- `n1`: (Variable: $S$, Low-child: `n2`, High-child: `n3`)\n- `n2`: (Variable: $I_0$, Low-child: `0`, High-child: `1`)\n- `n3`: (Variable: $I_1$, Low-child: `0`, High-child: `1`)\n\nB. 该图由4个非终端节点（`n1`, `n2`, `n3`, `n4`）和2个终端节点（`0`, `1`）组成。\n- `n1`: (Variable: $S$, Low-child: `n2`, High-child: `n3`)\n- `n2`: (Variable: $I_0$, Low-child: `0`, High-child: `1`)\n- `n3`: (Variable: $I_0$, Low-child: `n4`, High-child: `n4`)\n- `n4`: (Variable: $I_1$, Low-child: `0`, High-child: `1`)\n\nC. 该图由4个非终端节点（`n1`, `n2`, `n3`, `n4`）和2个终端节点（`0`, `1`）组成。\n- `n1`: (Variable: $I_0$, Low-child: `n2`, High-child: `n3`)\n- `n2`: (Variable: $S$, Low-child: `0`, High-child: `n4`)\n- `n3`: (Variable: $S$, Low-child: `1`, High-child: `n4`)\n- `n4`: (Variable: $I_1$, Low-child: `0`, High-child: `1`)\n\nD. 该图由3个非终端节点（`n1`, `n2`, `n3`）和2个终端节点（`0`, `1`）组成。\n- `n1`: (Variable: $S$, Low-child: `n2`, High-child: `n3`)\n- `n2`: (Variable: $I_0$, Low-child: `0`, High-child: `1`)\n- `n3`: (Variable: $I_0$, Low-child: `1`, High-child: `0`)", "solution": "我们已知一个2选1多路复用器的布尔函数：\n$$\nF(S, I_{0}, I_{1}) = (\\neg S \\land I_{0}) \\lor (S \\land I_{1})\n$$\n要求变量顺序为 $S  I_{0}  I_{1}$。我们通过对根变量应用香农展开来构建ROBDD，并应用既约规则。\n\n1.  **对根变量 $S$ 进行展开：**\n    *   **低分支 (当 $S=0$ 时):**\n        $$\n        F|_{S=0} = (\\neg 0 \\land I_{0}) \\lor (0 \\land I_{1}) = (1 \\land I_{0}) \\lor 0 = I_{0}\n        $$\n        因此，根节点的低分支（对应$S=0$）必须表示函数 $I_{0}$。\n    *   **高分支 (当 $S=1$ 时):**\n        $$\n        F|_{S=1} = (\\neg 1 \\land I_{0}) \\lor (1 \\land I_{1}) = (0 \\land I_{0}) \\lor I_{1} = I_{1}\n        $$\n        因此，根节点的高分支（对应$S=1$）必须表示函数 $I_{1}$。\n\n2.  **构建子图：**\n    *   代表函数 $I_{0}$ 的ROBDD（在 $I_0  I_1$ 的变量序下）是一个测试变量 $I_{0}$ 的节点，其低分支指向终端节点 **0**，高分支指向终端节点 **1**。\n    *   代表函数 $I_{1}$ 的ROBDD（在 $I_0  I_1$ 的变量序下），函数不依赖于 $I_{0}$，因此任何 $I_0$ 节点都会是冗余的并被消除。最终的子图是一个测试变量 $I_{1}$ 的节点，其低分支指向终端节点 **0**，高分支指向终端节点 **1**。\n\n3.  **组合ROBDD结构：**\n    *   根节点测试变量 $S$。\n    *   它的低分支指向一个测试变量 $I_0$ 的节点，该节点的子节点是 $(0, 1)$。\n    *   它的高分支指向一个测试变量 $I_1$ 的节点，该节点的子节点也是 $(0, 1)$。\n    *   这两个子图节点测试不同的变量（$I_0$ 和 $I_1$），因此它们不是同构的，不能合并。\n\n现在我们评估各个选项：\n\n*   **选项A** 完全匹配这个结构：\n    *   `n1`：变量为 $S$，低分支指向 `n2`，高分支指向 `n3`。\n    *   `n2`：变量为 $I_{0}$，子节点为 $(0,1)$，正确表示了函数 $I_{0}$。\n    *   `n3`：变量为 $I_{1}$，子节点为 $(0,1)$，正确表示了函数 $I_{1}$。\n    这个结构遵守了变量顺序并且是既约的。\n\n*   **选项B** 包含一个冗余节点 `n3`，它测试 $I_{0}$，但其低分支和高分支都指向 `n4`。这违反了既约规则（消除规则），因此B不是ROBDD。\n\n*   **选项C** 的根节点测试 $I_{0}$，这违反了要求的变量顺序 $S  I_{0}  I_{1}$。因此C是无效的。\n\n*   **选项D** 中，对应 $S=1$ 的高分支指向一个测试 $I_{0}$ 的节点，其子节点为 $(1,0)$。这个子图表示的是函数 $\\neg I_{0}$，而不是我们需要的 $I_{1}$。因此它不表示给定的函数。\n\n因此，在指定的变量顺序下，正确的ROBDD由选项A给出。", "answer": "$$\\boxed{A}$$", "id": "1957453"}, {"introduction": "ROBDD不仅是一种紧凑的函数表示方法，更是一种强大的分析工具。这个练习演示了如何通过构建ROBDD来识别布尔函数中的冗余变量，这是逻辑优化的关键一步。通过观察最终ROBDD图的结构，我们可以直接推断出函数的依赖关系。", "problem": "在数字逻辑设计中，布尔函数可以通过既约有序二元决策图（ROBDD）进行图形化表示。ROBDD是一种规范表示形式，通常比真值表或标准布尔表达式更为紧凑。创建ROBDD的过程包括先构建一个有序二元决策图（OBDD），然后应用化简规则。\n\n有序二元决策图（OBDD）是一个有向无环图，其中非终端节点用输入变量进行标记，并有两个子节点（低分支对应变量=0，高分支对应变量=1），且在任何路径上变量都以固定的顺序出现。ROBDD是在OBDD上彻底应用以下两条规则后得到的图：\n1.  **合并规则：** 任何具有相同变量标记、相同低分支子节点和相同高分支子节点的两个节点，将被合并为一个单节点。\n2.  **消除规则：** 任何其低分支子节点和高分支子节点指向同一个节点的节点，都将被消除，并且所有指向该节点的边都将重定向到其子节点。\n\n如果一个函数的输出值不依赖于某个变量，那么该变量就被认为是冗余的。这种冗余性在最终的ROBDD结构中表现为完全不存在以该变量标记的节点。\n\n考虑一个用于触发工业系统中安全警报的布尔函数 $f(A,B,C)$：\n$$f(A,B,C) = AB + A\\overline{B}C + \\overline{A}B$$\n\n你的任务是分析这个函数。首先，使用变量顺序 $A  B  C$（意味着 $A$ 最靠近根节点）为函数 $f$ 构建ROBDD。然后，根据最终ROBDD的结构，判断哪个输入变量是冗余的（如果有的话）。\n\n下列哪个陈述是正确的？\n\nA. 变量A是冗余的。\n\nB. 变量B是冗余的。\n\nC. 变量C是冗余的。\n\nD. 没有变量是冗余的。", "solution": "为了确定是否有冗余变量，我们可以通过代数化简函数或直接构建其ROBDD。\n\n首先，我们对函数进行代数化简：\n$$\nf(A,B,C) = AB + A\\overline{B}C + \\overline{A}B\n$$\n使用分配律合并包含 $B$ 的项：\n$$\nf = B(A + \\overline{A}) + A\\overline{B}C\n$$\n由于 $A + \\overline{A} = 1$，我们得到：\n$$\nf = B + A\\overline{B}C\n$$\n应用吸收律 $X + \\overline{X}Y = X+Y$，令 $X=B$ 和 $Y=AC$：\n$$\nf = B + AC\n$$\n从这个简化形式 $f = B + AC$ 可以看出，函数的值依赖于所有三个变量 $A$、$B$ 和 $C$。例如，如果 $B=0$，则 $f=AC$，其值依赖于 $A$ 和 $C$；如果 $A=1, C=1$，则 $f=B+1=1$，其值不再依赖于 $B$，但如果 $A=0$ 或 $C=0$ 则 $f=B$，其值依赖于 $B$。因此，没有变量是完全冗余的。\n\n我们也可以通过构建变量序为 $A  B  C$ 的ROBDD来验证这一点。\n1.  **根节点是 A。** 我们对 $f=B+AC$ 应用香农展开：\n    *   **低分支 (A=0):** $f|_{A=0} = B + (0)C = B$。\n    *   **高分支 (A=1):** $f|_{A=1} = B + (1)C = B+C$。\n2.  **构建子图。**\n    *   对于低分支的函数 $g_0 = B$（变量序 $B  C$），其ROBDD是一个以 $B$ 为变量的节点，低分支指向终端节点 **0**，高分支指向终端节点 **1**。（变量 $C$ 在此路径上是冗余的，因此不存在 $C$ 节点）。\n    *   对于高分支的函数 $g_1 = B+C$（变量序 $B  C$），我们再次展开：\n        *   **低分支 (B=0):** $g_1|_{B=0} = 0+C = C$。\n        *   **高分支 (B=1):** $g_1|_{B=1} = 1+C = 1$。\n        *   因此，函数 $g_1$ 的ROBDD是一个以 $B$ 为变量的节点，其高分支指向终端节点 **1**，低分支指向代表函数 $C$ 的子图。代表函数 $C$ 的子图是一个以 $C$ 为变量的节点，低分支指向 **0**，高分支指向 **1**。\n3.  **组合并化简。**\n    *   根节点 $A$ 的低分支指向代表 $B$ 的节点，高分支指向代表 $B+C$ 的节点。\n    *   最终的ROBDD包含标记为 $A$、$B$ 和 $C$ 的节点。由于所有三个变量的节点都出现在最终的ROBDD中，所以没有变量是冗余的。\n\n因此，所有三个变量都是函数所必需的。", "answer": "$$\\boxed{D}$$", "id": "1957460"}, {"introduction": "在实际的数字电路设计中，我们经常会遇到某些输入组合无关紧要的情况，即“无关项”（don't care）。这个实践问题挑战我们像设计师一样思考，策略性地利用这些无关项来简化逻辑函数。我们的目标是通过为无关项分配合适的逻辑值，从而构建出尽可能紧凑（即节点最少）的ROBDD。", "problem": "在设计一个专用嵌入式处理器的控制单元时，需要高效地实现一个四变量布尔逻辑函数，记为 $f(x_1, x_2, x_3, x_4)$。该函数的规范是不完整的。函数必须为真的输入组合（由最小项表示）集合由 $F_{true} = \\sum m(1, 5, 11)$ 给出。函数输出无关的输入组合（即“无关项”条件）集合由 $F_{dc} = \\sum m(3, 7, 15)$ 给出。所有其他输入组合都导致假输出。\n\n为了最小化硬件复杂性，该函数将使用既约有序二元决策图（ROBDD）来表示。ROBDD 是一个有向无环图，在给定固定变量顺序的情况下，它为布尔函数提供了规范表示。你的任务是策略性地为每个“无关项”条件分配一个布尔值（0 或 1），以定义一个完整的函数，使其 ROBDD 表示尽可能小。\n\n假设固定变量顺序为 $x_1  x_2  x_3  x_4$，此函数的 ROBDD 所需的最小节点数（包括 0 和 1 两个终端节点）是多少？", "solution": "我们的目标是为无关项 $F_{dc} = \\sum m(3, 7, 15)$ 分配合适的值，以最小化函数 $f$ 的ROBDD。\n给定的函数信息如下：\n- $F_{true} = \\sum m(1, 5, 11) \\implies (0001, 0101, 1011)$\n- $F_{dc} = \\sum m(3, 7, 15) \\implies (0011, 0111, 1111)$\n- 变量顺序为 $x_1  x_2  x_3  x_4$。\n\n一个关键的观察是，所有 $F_{true}$ 和 $F_{dc}$ 中的最小项都有 $x_4=1$。这意味着，当 $x_4=0$ 时，函数输出必定为 $0$。因此，函数可以表示为 $f(x_1, x_2, x_3, x_4) = x_4 \\land h(x_1, x_2, x_3)$。\n在ROBDD中，这意味着根节点将是 $x_4$，其低分支直接指向终端节点 **0**。高分支将指向代表函数 $h$ 的ROBDD。为了最小化整个ROBDD的节点数，我们需要最小化函数 $h$ 的ROBDD的节点数。\n\n函数 $h(x_1, x_2, x_3)$ 的真值表由 $f$ 在 $x_4=1$ 时的行为决定：\n- $h$ 必须为 1 的输入 $(x_1, x_2, x_3)$ 来自 $F_{true}$：$\\{000, 010, 101\\}$。\n- $h$ 为无关项的输入 $(x_1, x_2, x_3)$ 来自 $F_{dc}$：$\\{001, 011, 111\\}$。\n\n我们使用卡诺图来为无关项赋值，以找到最简单的 $h$ 表达式：\n```\n      x2,x3 | 00  | 01  | 11  | 10\n    x1=0    |  1  |  d  |  d  |  1\n    x1=1    |  0  |  1  |  d  |  0\n```\n为了形成最大的矩形覆盖，我们可以策略性地将无关项 `d` 设为 1。\n- 将 $x_1x_2x_3 = 001$ 和 $011$ 处的无关项设为 1。这允许我们将第一行 $(x_1=0)$ 的所有四个格子都设为 1，形成一个大组 $\\overline{x_1}$。\n- 现在我们还必须覆盖最小项 $101$。为了做到这一点，我们可以将无关项 $111$ 设为 1，这样就可以将 $x_2x_3=01$ 和 $x_2x_3=11$ 在 $x_1=1$ 的行中组合起来，形成一个覆盖 $x_3$ 的组。\n- 如此一来，函数 $h$ 可以被简化为 $h = \\overline{x_1} + x_1x_3$。根据吸收律，这等价于 $h = \\overline{x_1} + x_3$。\n\n现在我们为 $h = \\overline{x_1} + x_3$ 构建ROBDD，变量顺序为 $x_1  x_2  x_3$：\n1.  **根节点是 $x_1$。**\n    *   **低分支 ($x_1=0$):** $h|_{x_1=0} = \\overline{0} + x_3 = 1 + x_3 = 1$。此分支指向终端节点 **1**。\n    *   **高分支 ($x_1=1$):** $h|_{x_1=1} = \\overline{1} + x_3 = 0 + x_3 = x_3$。此分支指向代表函数 $x_3$ 的子图。\n2.  **构建子图 $x_3$。**\n    *   对于函数 $x_3$，变量 $x_2$ 是冗余的。因此，其ROBDD是一个以 $x_3$ 为变量的节点，低分支指向终端节点 **0**，高分支指向终端节点 **1**。\n\n所以，$h$ 的ROBDD包含2个非终端节点（一个为 $x_1$，一个为 $x_3$）和2个终端节点。\n\n最后，我们构建完整的函数 $f = x_4 \\land h$ 的ROBDD：\n- 根节点是 $x_4$。\n- 低分支 ($x_4=0$) 指向终端节点 **0**。\n- 高分支 ($x_4=1$) 指向 $h$ 的ROBDD的根节点（即 $x_1$ 节点）。\n\n总的非终端节点数是：1 (for $x_4$) + 2 (for $h$) = 3个非终端节点 ($x_4, x_1, x_3$)。\n总节点数是：3个非终端节点 + 2个终端节点 (**0**, **1**) = 5个节点。\n这是通过策略性地为无关项赋值所能达到的最小节点数。", "answer": "$$\\boxed{5}$$", "id": "1957489"}]}