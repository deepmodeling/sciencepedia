{"hands_on_practices": [{"introduction": "在进行稳健的数字设计时，首要步骤是判断何时需要进行电压电平转换。在实施复杂的电路之前，分析两个不同逻辑系列之间直接接口的兼容性至关重要。本练习将指导您计算噪声容限，这是衡量接口可靠性的一个基本指标，适用于常见的 5V 至 3.3V 连接场景。", "problem": "在一个混合电压数字系统中，一个来自较旧的5V逻辑系列的逻辑门被用来驱动一个现代3.3V互补金属氧化物半导体（CMOS）逻辑门的输入端。为确保可靠运行，工程师必须评估该直接接口的噪声容限。\n\n制造商的数据手册提供了这些器件的以下技术指标：\n\n对于5V驱动门：\n- 最小高电平输出电压，$V_{OH,min} = 4.58\\,\\text{V}$\n- 最大低电平输出电压，$V_{OL,max} = 0.41\\,\\text{V}$\n\n对于3.3V接收门：\n- 最小高电平输入电压，$V_{IH,min} = 2.35\\,\\text{V}$\n- 最大低电平输入电压，$V_{IL,max} = 0.72\\,\\text{V}$\n\n计算该直接接口的高电平噪声容限（$NM_H$）和低电平噪声容限（$NM_L$）。答案以伏特为单位，表示为两个数值，并四舍五入到三位有效数字。按顺序给出$NM_H$和$NM_L$的值。", "solution": "问题要求计算两个不同逻辑系列之间接口的高电平噪声容限（$NM_H$）和低电平噪声容限（$NM_L$）。这些容限用于量化系统在识别到不正确的逻辑电平之前可以容忍的噪声量。\n\n首先，我们计算高电平噪声容限 $NM_H$。它被定义为驱动门保证的最小高电平输出电压（$V_{OH,min}$）与接收门要求的最小高电平输入电压（$V_{IH,min}$）之间的差值。正值表示驱动器的高电平输出足以被接收器识别为高电平，其数值大小代表了对可能降低电压的噪声的容忍度。\n\n$NM_H$ 的公式为：\n$$NM_H = V_{OH,min} - V_{IH,min}$$\n\n问题给出了以下值：\n- $V_{OH,min} = 4.58\\,\\text{V}$（来自5V驱动门）\n- $V_{IH,min} = 2.35\\,\\text{V}$（对于3.3V接收门）\n\n将这些值代入公式：\n$$NM_H = 4.58\\,\\text{V} - 2.35\\,\\text{V} = 2.23\\,\\text{V}$$\n\n接下来，我们计算低电平噪声容限 $NM_L$。它被定义为接收门允许的最大低电平输入电压（$V_{IL,max}$）与驱动门保证的最大低电平输出电压（$V_{OL,max}$）之间的差值。正值表示驱动器的低电平输出足够低，可以被接收器识别为低电平，其数值大小代表了对可能升高电压的噪声的容忍度。\n\n$NM_L$ 的公式为：\n$$NM_L = V_{IL,max} - V_{OL,max}$$\n\n问题给出了以下值：\n- $V_{IL,max} = 0.72\\,\\text{V}$（对于3.3V接收门）\n- $V_{OL,max} = 0.41\\,\\text{V}$（来自5V驱动门）\n\n将这些值代入公式：\n$$NM_L = 0.72\\,\\text{V} - 0.41\\,\\text{V} = 0.31\\,\\text{V}$$\n\n问题要求答案四舍五入到三位有效数字。\n- 对于$NM_H$，其值为$2.23\\,\\text{V}$，已经是三位有效数字。\n- 对于$NM_L$，其值为$0.31\\,\\text{V}$。为了用三位有效数字表示，我们将其写为$0.310\\,\\text{V}$。\n\n因此，高电平噪声容限为$2.23\\,\\text{V}$，低电平噪声容限为$0.310\\,\\text{V}$。答案应按（$NM_H$, $NM_L$）的顺序给出。", "answer": "$$\\boxed{\\begin{pmatrix} 2.23  0.310 \\end{pmatrix}}$$", "id": "1977004"}, {"introduction": "虽然电阻分压器是降压转换的直接工具，但在实际应用中其简单性可能具有欺骗性。集成电路并非理想器件，其内部特性可能会出乎意料地改变外部电路的行为。这个实践问题展示了微控制器（MCU）的内部上拉电阻如何与外部电压分压器相互作用，强调了在分析中考虑所有系统组件的至关重要性。", "problem": "一个常见的工程任务是连接工作在不同电压水平的数字逻辑元件。考虑一个系统，其中一个使用5.0 V逻辑电源的外围设备需要向一个使用3.3 V逻辑电源的微控制器单元（MCU）发送信号。\n\n为了降低电压，在外围设备的输出引脚和MCU的输入引脚之间放置了一个简单的电阻分压器。该分压器由一个电阻 $R_a = 1.0 \\text{ k}\\Omega$（连接在外围设备输出和MCU输入之间）和一个电阻 $R_b = 2.2 \\text{ k}\\Omega$（连接在MCU输入和地之间）组成。\n\nMCU的输入引脚并非理想状态。由于配置错误，该引脚上一个阻值为 $R_{pu} = 40 \\text{ k}\\Omega$ 的内部弱上拉电阻也被激活了。这个上拉电阻连接在MCU输入引脚和MCU自身的3.3 V电源轨之间。\n\n假设外围设备输出一个5.0 V的稳定逻辑‘高’电平信号，计算MCU输入引脚上的最终稳态电压。\n\n将您的答案以伏特（V）为单位表示，并四舍五入到三位有效数字。", "solution": "将外设输出建模为一个电压为 $V_{H}$ 的理想电源，通过 $R_{a}$ 连接到节点 $V_{in}$；将MCU的上拉电阻建模为一个从 $V_{in}$ 连接到MCU电源轨 $V_{DD}$ 的电阻 $R_{pu}$；以及将下分压电阻 $R_{b}$ 建模为一个从 $V_{in}$ 连接到地的电阻。在节点 $V_{in}$ 应用基尔霍夫电流定律（离开节点的电流总和为零）可得\n$$\\frac{V_{in}-V_{H}}{R_{a}}+\\frac{V_{in}}{R_{b}}+\\frac{V_{in}-V_{DD}}{R_{pu}}=0.$$\n整理关于 $V_{in}$ 的项并求解，\n$$V_{in}\\left(\\frac{1}{R_{a}}+\\frac{1}{R_{b}}+\\frac{1}{R_{pu}}\\right)=\\frac{V_{H}}{R_{a}}+\\frac{V_{DD}}{R_{pu}},$$\n$$V_{in}=\\frac{\\frac{V_{H}}{R_{a}}+\\frac{V_{DD}}{R_{pu}}}{\\frac{1}{R_{a}}+\\frac{1}{R_{b}}+\\frac{1}{R_{pu}}}.$$\n代入 $V_{H}=5.0$, $V_{DD}=3.3$, $R_{a}=1000$, $R_{b}=2200$, $R_{pu}=40000$：\n$$V_{in}=\\frac{\\frac{5.0}{1000}+\\frac{3.3}{40000}}{\\frac{1}{1000}+\\frac{1}{2200}+\\frac{1}{40000}}.$$\n计算分子和分母：\n$$\\text{numerator}=\\frac{5.0}{1000}+\\frac{3.3}{40000}=0.005+0.0000825=0.0050825,$$\n$$\\text{denominator}=\\frac{1}{1000}+\\frac{1}{2200}+\\frac{1}{40000} \\approx 0.001+0.000454545+0.000025 \\approx 0.001479545.$$\n因此\n$$V_{in}=\\frac{0.0050825}{0.001479545\\ldots}\\approx 3.43518.$$\n四舍五入到三位有效数字，\n$$V_{in}\\approx 3.44.$$", "answer": "$$\\boxed{3.44}$$", "id": "1976978"}, {"introduction": "除了静态电压电平，数字信号的速度对系统性能也至关重要。本练习将我们的重点转移到一个使用 MOSFET 的有源升压转换器，并探讨其动态行为。通过分析信号的上升时间，您将推导出元件值与接口最大工作速度之间的关系，这是高速数字设计中的一项关键技能。", "problem": "一个具有开漏输出的低压传感器在电源电压$V_{DD,L}$下工作。该传感器必须与一个高压微控制器接口，该微控制器的逻辑输入参考电源电压$V_{DD,H}$。该接口通过一个简单的反相电平转换器实现，该转换器由一个N沟道金属氧化物半导体场效应晶体管（MOSFET）和一个上拉电阻$R_p$组成。在此配置中，MOSFET的源极接地，其栅极连接到传感器的输出，其漏极作为对微控制器的输出。上拉电阻$R_p$连接在高压电源$V_{DD,H}$和MOSFET的漏极之间。\n\n当传感器的输出从高电平转换到低电平时，MOSFET关断，漏极的输出电压被电阻$R_p$上拉至$V_{DD,H}$。这个从低到高的转换过程受限于$R_p$对漏极节点总寄生电容$C_{load}$充电所需的时间。信号的上升时间$t_r$定义为电压从其最终值的10%上升到90%所需的时间。为确保在期望的通信速率下能正确工作，此上升时间不得超过指定的最大值$t_{r,max}$。\n\n假设在转换开始前漏极的输出电压约为0 V，请找出一个关于上拉电阻最大允许值$R_{p,max}$的闭式解析表达式，该表达式应由$t_{r,max}$和$C_{load}$表示。", "solution": "将上拉过程建模为漏极节点电容的一阶RC充电过程。设漏极节点电压为$v(t)$，上拉电阻为$R_{p}$，总电容为$C_{load}$，高压侧电源为$V_{DD,H}$。当MOSFET关断时，流过电阻的电流等于电容器的充电电流：\n$$\n\\frac{V_{DD,H}-v(t)}{R_{p}}=C_{load}\\,\\frac{dv(t)}{dt}.\n$$\n分离变量并从初始条件$v(0)=0$到时间$t$时的$v(t)$进行积分：\n$$\n\\int_{0}^{v}\\frac{dv'}{V_{DD,H}-v'}=\\int_{0}^{t}\\frac{dt'}{R_{p}C_{load}}\n\\;\\;\\Rightarrow\\;\\;\n-\\ln\\!\\big(V_{DD,H}-v\\big)+\\ln\\!\\big(V_{DD,H}\\big)=\\frac{t}{R_{p}C_{load}}.\n$$\n重新整理并求解$v(t)$，得到标准的RC充电形式\n$$\nv(t)=V_{DD,H}\\left[1-\\exp\\!\\left(-\\frac{t}{R_{p}C_{load}}\\right)\\right].\n$$\n定义最终值的分数$f$为$v(t_{f})=f\\,V_{DD,H}$。则\n$$\nf=1-\\exp\\!\\left(-\\frac{t_{f}}{R_{p}C_{load}}\\right)\n\\;\\;\\Rightarrow\\;\\;\nt_{f}=-R_{p}C_{load}\\,\\ln\\!\\big(1-f\\big).\n$$\n10%到90%的上升时间为\n$$\nt_{r}=t_{0.9}-t_{0.1}\n= -R_{p}C_{load}\\left[\\ln\\!\\big(1-0.9\\big)-\\ln\\!\\big(1-0.1\\big)\\right]\n=R_{p}C_{load}\\left[\\ln(0.9)-\\ln(0.1)\\right]\n=R_{p}C_{load}\\,\\ln(9).\n$$\n施加$t_{r}\\leq t_{r,max}$的规格要求，并在等号成立时取$R_{p}$的最大允许值，可得\n$$\nR_{p,max}=\\frac{t_{r,max}}{C_{load}\\,\\ln(9)}.\n$$", "answer": "$$\\boxed{\\frac{t_{r,max}}{C_{load}\\ln(9)}}$$", "id": "1976960"}]}