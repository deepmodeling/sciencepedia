{"hands_on_practices": [{"introduction": "内置自测试（BIST）的核心是能够高效地在芯片上生成测试向量，而线性反馈移位寄存器（LFSR）是实现这一目标的关键构件。本练习将带你逐步模拟一个LFSR的运行过程，让你亲手体验如何通过简单的移位和反馈逻辑产生一系列复杂的测试模式。通过这个实践[@problem_id:1917404]，你将深入理解测试模式生成器（TPG）的基本工作原理。", "problem": "在内建自测试 (BIST) 系统的设计中，需要一个测试码产生器 (TPG) 为待测电路生成一系列输入序列。\n\n为此，选择了一个3位线性反馈移位寄存器 (LFSR)。该LFSR由D触发器构成，其输出标记为 $Q_2$、$Q_1$ 和 $Q_0$，分别代表从最高有效位到最低有效位的状态。该寄存器作为一个右移寄存器工作：在每个时钟周期，位于 $Q_2$ 的位移动到 $Q_1$，位于 $Q_1$ 的位移动到 $Q_0$。位于 $Q_0$ 的位在用于反馈计算后被丢弃。\n\n输入到第一个触发器 ($D_2$) 的新输入位由一个反馈函数决定。该函数由本原多项式 $P(x) = x^3 + x + 1$ 定义。实现该多项式的惯例是，最高有效位 ($D_2$) 的输入是多项式中对应于较低次幂项的输出的异或 (XOR) 和。也就是说，多项式中的项 $x^k$（其中 $k \\in \\{0, 1, 2\\}$）表示输出 $Q_k$ 是提供反馈的异或门的一个输入。\n\n如果LFSR初始化为非零状态 $Q_2Q_1Q_0 = 100$，那么在恰好5个时钟周期后，寄存器的二进制状态（表示为字符串 $Q_2Q_1Q_0$）是什么？\n\nA. `011`\n\nB. `111`\n\nC. `001`\n\nD. `010`\n\nE. `110`", "solution": "该LFSR是一个右移寄存器，状态位为 $(Q_{2},Q_{1},Q_{0})$，本原多项式为 $P(x)=x^{3}+x+1$。根据惯例，抽头位于 $x^{1}$ 和 $x^{0}$，因此输入到 $D_{2}$ 的反馈是 $Q_{1}$ 和 $Q_{0}$ 的异或：\n$$D_{2}=Q_{1}\\oplus Q_{0}.$$\n右移操作给出了下一状态关系：\n$$Q_{2}^{+}=D_{2}=Q_{1}\\oplus Q_{0},\\quad Q_{1}^{+}=Q_{2},\\quad Q_{0}^{+}=Q_{1}.$$\n因此状态更新为\n$$(Q_{2}^{+},Q_{1}^{+},Q_{0}^{+})=(Q_{1}\\oplus Q_{0},\\,Q_{2},\\,Q_{1}).$$\n从初始非零状态 $(Q_{2},Q_{1},Q_{0})=(1,0,0)$ 开始，迭代5个时钟周期：\n\n周期 1:\n$$Q_{2}^{+}=0\\oplus 0=0,\\quad Q_{1}^{+}=1,\\quad Q_{0}^{+}=0\\;\\Rightarrow\\;(0,1,0).$$\n\n周期 2:\n$$Q_{2}^{+}=1\\oplus 0=1,\\quad Q_{1}^{+}=0,\\quad Q_{0}^{+}=1\\;\\Rightarrow\\;(1,0,1).$$\n\n周期 3:\n$$Q_{2}^{+}=0\\oplus 1=1,\\quad Q_{1}^{+}=1,\\quad Q_{0}^{+}=0\\;\\Rightarrow\\;(1,1,0).$$\n\n周期 4:\n$$Q_{2}^{+}=1\\oplus 0=1,\\quad Q_{1}^{+}=1,\\quad Q_{0}^{+}=1\\;\\Rightarrow\\;(1,1,1).$$\n\n周期 5:\n$$Q_{2}^{+}=1\\oplus 1=0,\\quad Q_{1}^{+}=1,\\quad Q_{0}^{+}=1\\;\\Rightarrow\\;(0,1,1).$$\n\n恰好5个时钟周期后，状态为 $Q_{2}Q_{1}Q_{0}=011$，这对应于选项A。", "answer": "$$\\boxed{A}$$", "id": "1917404"}, {"introduction": "生成测试模式后，我们必须评估其有效性——即它们能在多大程度上检测出潜在的制造缺陷？本练习引入了衡量测试质量的核心指标：故障覆盖率。通过分析一个基本的双输入异或门[@problem_id:1917374]，你将学会如何系统地应用单一固定型故障模型，并计算一个给定测试集能够发现多少种潜在故障，从而将抽象的“覆盖率”概念转化为具体的计算过程。", "problem": "在一种新型低功耗微处理器的设计中，一个关键的奇偶校验单元依赖于一个基本的双输入异或门。设该门的输入表示为 $I_1$ 和 $I_2$，输出表示为 $O$。为了确保制造后的运行可靠性，芯片中集成了一个基本的内建自测试（BIST）控制器。由于严格的面积和功耗限制，该控制器只能生成一组非常有限的测试向量。整个测试序列仅包含施加于 $(I_1, I_2)$ 的两个输入模式：模式 $(0, 1)$ 后跟着模式 $(1, 0)$。\n\n您的任务是分析此 BIST 方案的有效性。主要关注的是检测单位固定型故障。该故障模型假设门的某个端点——输入（$I_1$、$I_2$）或输出（$O$）之一——永久地“固定”在逻辑 0（固定为 0 故障）或逻辑 1（固定为 1 故障）。在本分析中，假设在任何给定时间电路中只存在一个此类故障。\n\n计算此特定 BIST 序列对双输入异或门所达到的故障覆盖率。请将您的答案表示为十进制数值，并四舍五入到三位有效数字。", "solution": "我们分析一个双输入异或门，其输入为 $I_{1}$ 和 $I_{2}$，输出为 $O$，其中 $O=I_{1}\\oplus I_{2}$。BIST 施加两个模式：$(I_{1},I_{2})=(0,1)$ 和 $(1,0)$。在无故障操作下，对于这两个模式，输出为\n$$\nO_{\\text{good}}(0,1)=0\\oplus 1=1,\\quad O_{\\text{good}}(1,0)=1\\oplus 0=1.\n$$\n在端点 $\\{I_{1},I_{2},O\\}$ 处发生 SA0 或 SA1 的单位固定型故障模型下，总共有 $6$ 种故障。如果对于至少一个施加的模式，观测到的输出与无故障输出不同，则该故障被检测到。\n\n- 故障 $I_{1}$ SA0：对于第一个模式，有效输入变为 $(0,1)$，产生 $O=0\\oplus 1=1$（在 $(0,1)$ 上未检测到）；对于第二个模式，有效输入变为 $(0,0)$，产生 $O=0\\oplus 0=0\\neq 1$（在 $(1,0)$ 上检测到）。\n- 故障 $I_{1}$ SA1：对于第一个模式，有效输入变为 $(1,1)$，产生 $O=1\\oplus 1=0\\neq 1$（在 $(0,1)$ 上检测到）；对于第二个模式，输入保持为 $(1,0)$，产生 $O=1$（已被检测）。\n- 故障 $I_{2}$ SA0：对于第一个模式，有效输入变为 $(0,0)$，产生 $O=0\\oplus 0=0\\neq 1$（在 $(0,1)$ 上检测到）；对于第二个模式，输入保持为 $(1,0)$，产生 $O=1$（已被检测）。\n- 故障 $I_{2}$ SA1：对于第一个模式，有效输入保持为 $(0,1)$，产生 $O=1$（在 $(0,1)$ 上未检测到）；对于第二个模式，有效输入变为 $(1,1)$，产生 $O=1\\oplus 1=0\\neq 1$（在 $(1,0)$ 上检测到）。\n- 故障 $O$ SA0：对于两个模式，观测到的输出均为 $0$，而两个模式下的 $O_{\\text{good}}=1$，因此被检测到。\n- 故障 $O$ SA1：对于两个模式，观测到的输出均为 $1$，与两个模式下的 $O_{\\text{good}}=1$ 相匹配，因此未被检测到。\n\n因此，在 $6$ 个故障中有 $5$ 个被检测到。故障覆盖率为\n$$\n\\text{coverage}=\\frac{5}{6}=0.833\\ldots,\n$$\n四舍五入到三位有效数字为 $0.833$。", "answer": "$$\\boxed{0.833}$$", "id": "1917374"}, {"introduction": "在测试过程中，被测电路会产生大量的输出数据，直接在芯片上比较这些数据是不切实际的。本练习将向你展示BIST如何通过“特征分析”来解决这个问题，即将冗长的输出响应压缩成一个紧凑的“特征码”。通过模拟一个简单的“1计数”累加器[@problem_id:1917364]，你将理解输出响应分析器（ORA）是如何实现数据压缩，并将复杂的测试结果简化为一个易于验证的最终值。", "problem": "一位数字系统工程师正在使用内置自测试 (BIST) 机制测试一个新制造的逻辑电路。该 BIST 硬件包含一个测试响应分析器，其设计用于从电路的 4 位输出总线（表示为 `Y[3:0]`）生成一个签名。\n\n分析器的操作如下：它包含一个内部累加器寄存器，在测试序列开始前初始化为零。在测试期间的每个时钟周期，分析器会计算输出总线 `Y` 上处于高逻辑电平（'1'）的位数。然后将此计数值加到累加器寄存器中当前存储的值上。此过程在整个测试序列期间重复进行。\n\n对于一个无故障电路，已知测试序列在三个连续的时钟周期内，在总线 `Y[3:0]` 上产生以下输出向量：\n- 在时钟周期 T=1 时：`1011`\n- 在时钟周期 T=2 时：`0110`\n- 在时钟周期 T=3 时：`1111`\n\n假设电路无故障，计算最终的签名，即第三个时钟周期后（在 T=3 时）存储在累加器寄存器中的十进制值。", "solution": "分析器会随时间累加 4 位总线上高电平位的数量。设 $A_{t}$ 为时钟周期 $t$ 后的累加器值，初始条件为 $A_{0}=0$。设 $w(b)$ 表示 4 位向量 $b$ 中 1 的数量（即其汉明权重）。在每个周期，\n$$\nA_{t}=A_{t-1}+w\\big(Y(T=t)\\big).\n$$\n计算给定输出的权重：\n$$\nw(1011)=3,\\quad w(0110)=2,\\quad w(1111)=4.\n$$\n在三个周期内更新累加器：\n$$\nA_{1}=A_{0}+3=0+3=3,\n$$\n$$\nA_{2}=A_{1}+2=3+2=5,\n$$\n$$\nA_{3}=A_{2}+4=5+4=9.\n$$\n因此，在 $T=3$ 之后的最终签名为 $A_{3}=9$。", "answer": "$$\\boxed{9}$$", "id": "1917364"}]}