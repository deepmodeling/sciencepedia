{"hands_on_practices": [{"introduction": "数字电路测试的基础在于施加特定的输入模式（即测试向量），使得正常电路与故障电路的输出产生差异。本练习通过一个简单的三输入与门，演示了成功测试所需的两个关键条件：激活故障，并将其影响传播到可观测的输出端。这是理解测试向量生成原理的第一步。[@problem_id:1928151]", "problem": "一个数字电路由一个三输入与门组成。其输入标记为 A、B 和 C，输出标记为 Z。一个制造缺陷导致输入 B 永久性地“固定为 0”(stuck-at-0)。这意味着无论外部引脚 B 上施加何种逻辑电平，该与门内部都会将输入 B 的值视为逻辑 0。\n\n您的任务是找到一个三位输入向量，表示为 (A, B, C)，可以施加到该门的输入端以测试此特定故障。如果对于相同的输入向量，故障门的输出 Z 与功能正常门的输出 Z 不同，则测试成功。以下哪个输入向量将成功检测到输入 B 上的固定为 0 故障？\n\nA. (0, 1, 0)\n\nB. (1, 0, 1)\n\nC. (0, 1, 1)\n\nD. (1, 1, 1)\n\nE. (0, 0, 0)", "solution": "一个正常的三输入与门计算布尔函数 $Z = A \\land B \\land C$。\n\n当输入 $B$ 固定为 0 时，无论外部引脚如何，故障门内部都会将 $B$ 评估为 0，因此其输出为\n$$\nZ_f = A \\land 0 \\land C = 0\n$$\n当且仅当输出不同时，即\n$$\nZ \\neq Z_f\n$$\n测试才能检测到该故障。\n由于对于任何施加的输入向量都有 $Z_f=0$，满足 $Z \\neq Z_f$ 的唯一方法是使正常电路的输出 $Z=1$。对于一个与门，\n$$\nZ=1 \\iff A=1, B=1, C=1\n$$\n因此，检测向量是 $(1,1,1)$。在此向量下，正常电路产生 $Z=1$，而故障电路产生 $Z_f=0$，因此故障被检测到。在给出的选项中，这是选项 D。", "answer": "$$\\boxed{D}$$", "id": "1928151"}, {"introduction": "虽然检测单个故障相对直接，但一个真实的芯片可能存在数百万个潜在故障。本练习将引入“故障覆盖率”这一关键指标，它用于量化测试集的质量。通过计算预定义故障列表中被检测出的故障所占的百分比，我们可以评估我们的测试程序对于一个给定的组合电路而言有多全面。[@problem_id:1928143]", "problem": "一个数字电路被设计用于为一个航空航天控制系统实现特定的逻辑功能。该电路有四个输入（A、B、C、D）和一个输出（F）。该逻辑功能由以下布尔表达式描述：\n$F(A, B, C, D) = (A \\land (\\lnot B)) \\lor (C \\land D)$。\n\n为确保可靠性，基于单固定型故障模型开发了一套测试程序。在此模型中，故障是指电路中的某条单线永久固定在逻辑0（固定为0）或逻辑1（固定为1）。分析时，请考虑四个主输入（A、B、C、D）和单个主输出（F）上所有可能的固定型故障。此外，还需考虑两个中间与门输出端的故障。设 $G_1$ 是 $(A \\land (\\lnot B))$ 的输出，$G_2$ 是 $(C \\land D)$ 的输出，则函数为 $F = G_1 \\lor G_2$。故障列表也必须包括 $G_1$ 和 $G_2$ 的固定为0和固定为1的故障。\n\n将以下三组测试模式应用于电路输入端：\n1.  (A, B, C, D) = (1, 0, 0, 0)\n2.  (A, B, C, D) = (0, 0, 1, 1)\n3.  (A, B, C, D) = (1, 1, 0, 1)\n\n计算此测试模式集所达到的故障覆盖率。故障覆盖率定义为测试集检测到的不重复故障数与所考虑的可能故障总数之比。将答案表示为十进制数值，并四舍五入到三位有效数字。", "solution": "设电路由布尔函数 $F=(A \\land \\lnot B)\\lor(C \\land D)$ 定义，其内部节点为 $G_1=A \\land \\lnot B$ 和 $G_2=C \\land D$，因此 $F=G_1 \\lor G_2$。在单固定型故障模型下，所考虑的故障点包括四个主输入 $A,B,C,D$、主输出 $F$ 以及两个内部节点 $G_1,G_2$。每个点都可能出现固定为0（sa0）和固定为1（sa1）的故障。因此，故障总数为 $7 \\times 2=14$。\n\n评估三个测试模式下的无故障电路响应：\n1) 对于 $(A,B,C,D)=(1,0,0,0)$，可得 $G_1=1 \\land 1=1$, $G_2=0 \\land 0=0$，因此 $F=1 \\lor 0=1$。\n2) 对于 $(0,0,1,1)$，可得 $G_1=0 \\land 1=0$, $G_2=1 \\land 1=1$，因此 $F=0 \\lor 1=1$。\n3) 对于 $(1,1,0,1)$，可得 $G_1=1 \\land 0=0$, $G_2=0 \\land 1=0$，因此 $F=0 \\lor 0=0$。\n\n主输出端的故障：\n- $F$ sa0: 可由任何正常输出 $F=1$ 的模式（模式1和2）检测到，因此该故障被检测到。\n- $F$ sa1: 可由任何正常输出 $F=0$ 的模式（模式3）检测到，因此该故障被检测到。\n\n内部节点的故障：\n- $G_1$ sa0 会强制 $F=G_2$；检测条件为 $G_1=1$ 且 $G_2=0$。只有模式1满足此条件，因此该故障被检测到。\n- $G_1$ sa1 会强制 $F=1$；检测条件为正常输出 $F=0$，模式3满足此条件，因此该故障被检测到。\n- $G_2$ sa0 会强制 $F=G_1$；检测条件为 $G_2=1$ 且 $G_1=0$。模式2满足此条件，因此该故障被检测到。\n- $G_2$ sa1 会强制 $F=1$；检测条件为正常输出 $F=0$，模式3满足此条件，因此该故障被检测到。\n\n主输入端的故障，通过逐个模式激发故障（施加与固定值相反的输入值）并重新计算 $F$ 来进行分析：\n\n模式1 $(1,0,0,0)$，正常输出 $F=1$：\n- $A$ sa0: 输入变为 $(0,0,0,0)$，$F=(0 \\land 1)\\lor(0 \\land 0)=0$，输出由 $1 \\to 0$，被检测到。\n- $B$ sa1: 输入变为 $(1,1,0,0)$，$F=(1 \\land 0)\\lor(0 \\land 0)=0$，输出由 $1 \\to 0$，被检测到。\n- $C$ sa1: 输入变为 $(1,0,1,0)$，$F=(1 \\land 1)\\lor(1 \\land 0)=1$，输出无变化，未被检测到。\n- $D$ sa1: 输入变为 $(1,0,0,1)$，$F=(1 \\land 1)\\lor(0 \\land 1)=1$，输出无变化，未被检测到。\n- 其他固定值与施加的输入值相同，因此无法激发故障。\n\n模式2 $(0,0,1,1)$，正常输出 $F=1$：\n- $C$ sa0: 输入变为 $(0,0,0,1)$，$F=(0 \\land 1)\\lor(0 \\land 1)=0$，输出由 $1 \\to 0$，被检测到。\n- $D$ sa0: 输入变为 $(0,0,1,0)$，$F=(0 \\land 1)\\lor(1 \\land 0)=0$，输出由 $1 \\to 0$，被检测到。\n- $A$ sa1 或 $B$ sa1 的故障不会改变输出 $F$ 的值1，因此未被检测到。\n- 其他固定值与施加的输入值相同。\n\n模式3 $(1,1,0,1)$，正常输出 $F=0$：\n- $B$ sa0: 输入变为 $(1,0,0,1)$，$F=(1 \\land 1)\\lor(0 \\land 1)=1$，输出由 $0 \\to 1$，被检测到。\n- $C$ sa1: 输入变为 $(1,1,1,1)$，$F=(1 \\land 0)\\lor(1 \\land 1)=1$，输出由 $0 \\to 1$，被检测到。\n- 其他故障不会改变输出 $F$ 的值0。\n\n汇总检测到的不重复主输入故障：$A$ sa0、$B$ sa0、$B$ sa1、$C$ sa0、$C$ sa1、$D$ sa0 (共六个)。加上 $F$ sa0、$F$ sa1 (两个) 和 $G_1$ sa0、$G_1$ sa1、$G_2$ sa0、$G_2$ sa1 (四个)，检测到的故障总数为 $6+2+4=12$。\n\n故障覆盖率是检测到的故障总数与故障总数之比：\n$$\\text{coverage}=\\frac{12}{14}=\\frac{6}{7}\\approx 0.857142857\\ldots$$\n四舍五入到三位有效数字，结果为 $0.857$。", "answer": "$$\\boxed{0.857}$$", "id": "1928143"}, {"introduction": "组合逻辑的测试相对简单，但现代芯片主要由触发器等时序元件构成，这些元件具有记忆功能，大大增加了测试的难度。这个实践问题将探讨扫描链——一种强大的可测试性设计（DFT）技术，它将困难的时序电路测试问题转化为一个可管理的组合电路测试问题。你将推导出一个计算总测试时间的公式，这是影响芯片制造成本的关键因素。[@problem_id:1928180]", "problem": "LogicWorks Inc. 正在开发一种新的片上系统（SoC），其中包含一个大型的时序逻辑模块。为确保制造出的芯片没有缺陷，工程师们采用了一种标准的可测试性设计（DFT）技术，称为全扫描链。该技术在测试模式下将时序模块中的所有 $M$ 个触发器连接成一个单一的长移位寄存器。\n\n使用此扫描链的测试流程如下：\n1.  将电路切换到测试模式，并将专用的测试时钟路由到扫描链。\n2.  将第一个测试向量（一个 $M$ 比特的模式）串行移入扫描链。\n3.  施加一个“捕获”脉冲。此操作使组合逻辑能够根据触发器的状态计算出一个结果，然后这个结果（“响应”）被捕获回触发器中，覆盖其先前的状态。\n4.  捕获到的响应被串行移出扫描链以供观察。为提高效率，在移出响应的同时，下一个测试向量被同步移入。\n5.  重复步骤3和4，直到所有测试向量都已施加。只有在最后一个响应的最后一位完全移出扫描链后，整个测试序列才算完成。\n\n给定一个由 $N$ 个不同测试向量组成的完整测试集，推导出一个通用的、封闭形式的解析表达式，用于计算完成整个测试过程所需的总测试时钟周期数。请用 $M$ 和 $N$ 表示你的答案。", "solution": "设 $M$ 为扫描链中的触发器数量，$N$ 为测试向量的数量。我们将测试时钟周期数计算为所有扫描移位周期和所有捕获脉冲的总和。\n\n首先，初始加载第一个测试向量需要 $M$ 个移位周期。\n\n接下来，对于 $N$ 个测试向量中的每一个，都施加一个捕获脉冲，总共贡献了 $N$ 个捕获周期。\n\n每次捕获后，必须将响应移出。总共有 $N$ 个响应，每个响应需要 $M$ 个移位周期才能被完全观察到。在每个响应的这 $M$ 个周期内，下一个测试向量（如果有的话）被同步移入，因此除了每个响应的这 $M$ 个周期外，不需要额外的移位周期。因此，所有响应的总移位周期数为 $NM$。\n\n将所有贡献相加得到\n$$\nT(M,N) = \\underbrace{M}_{\\text{initial load}} + \\underbrace{N}_{\\text{captures}} + \\underbrace{NM}_{\\text{shift out all responses}} = (N+1)M + N.\n$$\n\n这个表达式已经考虑了测试只有在最后一个响应的最后一位完全移出后才算完成的最终要求。", "answer": "$$\\boxed{(N+1)M+N}$$", "id": "1928180"}]}