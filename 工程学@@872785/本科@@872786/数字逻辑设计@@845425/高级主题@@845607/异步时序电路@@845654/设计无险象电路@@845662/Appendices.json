{"hands_on_practices": [{"introduction": "本练习将展示一个典型的静态1冒险案例。通过分析一个简单的“积之和”(SOP)表达式，你将学习如何精确定位冒险的来源，并应用共识定理（consensus theorem）添加一个冗余逻辑门来确保输出稳定，这是构建可靠组合逻辑电路的基础技能。[@problem_id:1929345]", "problem": "在一个高精度制造过程的控制系统设计中，使用一个数字逻辑电路来管理安全联锁。该电路的输出，用函数 $F$ 表示，在关键操作阶段必须保持稳定的逻辑1，以使联锁装置保持接合状态。电路的行为由三个二进制传感器输入 $A$、$B$ 和 $C$ 决定。\n\n一位工程师根据以下最小积之和（SOP）表达式实现了该电路：\n$$F(A,B,C) = A'B' + BC$$\n在测试过程中，发现了一个严重缺陷。当只有一个输入变量改变其状态的特定转换期间，输出 $F$ 会瞬间降至逻辑0，然后才恢复到逻辑1。这种“毛刺”，被称为静态1冒险，可能会错误地断开安全联锁，构成重大风险。\n\n为了纠正此设计缺陷，你的任务是通过向SOP表达式中添加一个冗余乘积项，使电路能够抵抗这种静态1冒险。这一修改等同于在电路中增加一个与门，并将其输出馈入最终的或门。这个所需的冗余乘积项的布尔表达式是什么？", "solution": "我们已知最小SOP实现为\n$$F(A,B,C)=A'B' + BC.$$\n在SOP实现中，当两个乘积项仅在单个变量的取反上不同（即覆盖了相邻的1单元）但由不同路径实现时，就会出现静态1冒险；在该单个变量转换期间，一个路径可能在另一个路径开启之前关闭，从而瞬间产生0。标准的解决方法是添加共识（冗余）乘积项，该项由两个相关项在移除翻转变量及其补码后，将剩余的文字相乘得到。\n\n识别这对乘积项和翻转变量：\n- 这两个项是 $A'B'$ 和 $BC$。\n- 它们在文字 $B$ 和 $B'$ 上不同，因此出错的单变量转换发生在 $B$ 上。\n\n通过从 $BC$ 中移除 $B$ 和从 $A'B'$ 中移除 $B'$，然后将剩余的文字相乘来形成共识项：\n- 从 $A'B'$ 剩下的文字是 $A'$。\n- 从 $BC$ 剩下的文字是 $C$。\n- 因此，共识（冗余）项是\n$$A'C.$$\n\n当 $B$ 翻转时，该项覆盖了 $A=0$ 和 $C=1$ 的相邻1单元，从而防止了静态1冒险。添加该项后得到\n$$F_{\\text{hazard-free}}=A'B' + BC + A'C,$$\n这在功能上与原始表达式等价（根据共识定理：设 $X=B$, $Y=C$, $Z=A'$, 我们有 $XY + X'Z + YZ = XY + X'Z$），但消除了冒险。\n\n因此，所需的单个冗余乘积项是 $A'C$。", "answer": "$$\\boxed{A'C}$$", "id": "1929345"}, {"introduction": "在掌握基础知识之后，本练习将带你处理一个更复杂的四变量函数。你将使用卡诺图（Karnaugh map）这一数字设计工程师的重要工具，来可视化函数的素蕴含项（prime implicants）并系统地识别所有潜在的静态1冒险。你的目标是找到一个高效的冗余项，以覆盖所有这些冒险转换，从而掌握一种强大且直观的消除冒险的方法。[@problem_id:1929350]", "problem": "一个数字逻辑电路被设计用于实现一个四变量布尔函数 $F(A,B,C,D)$。该函数由其最小项之和指定，其中最小项 $m_i$ 对应于其二进制表示（以 A 为最高有效位）等于 $i$ 的输入组合。该函数由下式给出：\n$$F(A,B,C,D) = \\sum m(3,7,10,11,12,14,15)$$\n构建了该函数的一个最小化“积之和”（SOP）实现。然而，发现这个最小化电路容易出现“静态1冒险”，这是一种瞬时的错误0输出，当输入在两个都应产生1输出的状态之间变化时可能发生。\n\n为确保可靠运行，必须在SOP表达式中添加一个逻辑上冗余的乘积项。选择该项时，必须使其能覆盖最小化设计中存在的所有潜在静态1冒险。您的任务是找到这个特定的冒险覆盖乘积项。该项必须使用最少数量的文字（literal）。\n\n这个冗余的乘积项是什么？请将您的答案写成变量的乘积形式（例如，$A'B$，$BCD$），变量按字母顺序排列。", "solution": "为了解决这个问题，我们将使用卡诺图（K-map）来可视化函数并识别冒险。然后，我们将确定消除它们所需的单个乘积项。\n\n**步骤1：构建卡诺图**\n\n我们为 $F(A,B,C,D)$ 创建一个4变量卡诺图，并在对应于给定最小项的单元格中填入‘1’：3 (0011), 7 (0111), 10 (1010), 11 (1011), 12 (1100), 14 (1110) 和 15 (1111)。卡诺图的结构是：行代表变量 $AB$，列代表变量 $CD$，并采用格雷码排序。\n\n得到的卡诺图如下：\n```\n      CD\n   AB 00  01  11  10\n   00  0   0   1   0   (m3)\n   01  0   0   1   0   (m7)\n   11  1   0   1   1   (m12, m15, m14)\n   10  0   0   1   1   (m11, m10)\n```\n\n**步骤2：寻找最小积之和（SOP）表达式**\n\n我们通过将‘1’圈成大小为 $2^k$ 的最大可能矩形组来找到最小SOP。我们必须首先确定本质蕴含项（EPIs）。\n\n- 最小项 $m_3$ (0011) 只能被包含 {3, 7, 11, 15} 的四元组覆盖。这得到了乘积项 $CD$。因此，$CD$ 是一个本质蕴含项。\n- 最小项 $m_{12}$ (1100) 只能被包含 {12, 14} 的二元组覆盖。这得到了乘积项 $ABD'$。因此，$ABD'$ 是一个本质蕴含项。\n\n本质蕴含项 $CD$ 和 $ABD'$ 覆盖了最小项 {3, 7, 11, 15, 12, 14}。唯一未被覆盖的最小项是 $m_{10}$ (1010)。\n\n为了覆盖 $m_{10}$，我们可以将其与相邻的最小项 $m_{11}$ (1011) 组合。这形成了组 {10, 11}，得到了乘积项 $AB'C$。\n\n因此，一个可能的最小SOP表达式是 $F_{min} = CD + ABD' + AB'C$。\n\n**步骤3：识别静态1冒险**\n\n如果卡诺图上两个相邻的‘1’没有被SOP表达式中的同一个乘积项覆盖，就可能存在静态1冒险。让我们检查 $F_{min}$ 的相邻关系：\n- 组 1 ($CD$): {3, 7, 11, 15}\n- 组 2 ($ABD'$): {12, 14}\n- 组 3 ($AB'C$): {10, 11}\n\n我们检查相邻‘1’之间的转换：\n- $m_{10}$ (1010) 和 $m_{14}$ (1110) 之间的转换：$m_{10}$ 被 $AB'C$（组3）覆盖，而 $m_{14}$ 被 $ABD'$（组2）覆盖。由于它们在不同的组中，这个转换是一个**静态1冒险**。\n- $m_{14}$ (1110) 和 $m_{15}$ (1111) 之间的转换：$m_{14}$ 被 $ABD'$（组2）覆盖，而 $m_{15}$ 被 $CD$（组1）覆盖。由于它们在不同的组中，这个转换也是一个**静态1冒险**。\n\n所有其他相邻的‘1’都共享至少一个组。例如，$m_{10}$ 和 $m_{11}$ 相邻且都被 $AB'C$ 覆盖。同样，$m_{11}$ 和 $m_{15}$ 相邻且都被 $CD$ 覆盖。\n\n**步骤4：找到冒险覆盖项**\n\n要消除所有静态1冒险，每一对相邻的‘1’都必须被一个共同的乘积项覆盖。我们需要添加一个（或多个）项来覆盖我们识别出的冒险转换。\n- $m_{10}$ 和 $m_{14}$ 之间的冒险需要一个能同时覆盖这两个最小项的项。\n- $m_{14}$ 和 $m_{15}$ 之间的冒险需要一个能同时覆盖这两个最小项的项。\n\n题目要求用*单个*乘积项来覆盖所有冒险。因此，这样的项必须覆盖最小项集合 {10, 14, 15}。\n\n查看卡诺图，我们寻找一个包含 {10, 14, 15} 的有效矩形分组。最大的此类分组是由最小项 {10, 11, 14, 15} 组成的 2x2 方块。\n- $m_{10}$ (1010)\n- $m_{11}$ (1011)\n- $m_{14}$ (1110)\n- $m_{15}$ (1111)\n\n对于这个组，变量 $A=1$ 和变量 $C=1$ 是恒定的，而 $B$ 和 $D$ 发生变化。这个组的乘积项是 $AC$。\n\n这个项 $AC$ 覆盖了两个冒险转换：\n- 它覆盖了 ($m_{10}, m_{14}$) 对。\n- 它覆盖了 ($m_{14}, m_{15}$) 对。\n\n将此项添加到最小SOP中，得到无冒险表达式：$F_{hf} = CD + ABD' + AB'C + AC$。项 $AC$ 在逻辑上是冗余的，因为它所覆盖的所有最小项 ({10, 11, 14, 15}) 已经被原来的三个项覆盖了。\n\n该项必须具有最少数量的文字。项 $AC$ 对应于包含所需最小项 {10, 14, 15} 的最大可能分组（一个4元组）。更大的分组意味着更少的文字。因此，具有两个文字的 $AC$ 是所要求的项。", "answer": "$$\\boxed{AC}$$", "id": "1929350"}, {"introduction": "到目前为止，我们主要关注SOP电路中的静态1冒险。这最后一个练习将探讨其对偶概念：和之积（POS）电路中的静态0冒险。你将通过处理函数的“0”项来推导出一个无冒险的POS表达式，学习如何添加冗余的“和项”以确保在关键的输入转换期间，输出能稳定地保持在逻辑0。这将完善你在两级逻辑电路中预防静态冒险的知识体系。[@problem_id:1929362]", "problem": "一个四变量布尔函数，记为 $F(W, X, Y, Z)$，由其输出为1的最小项集合指定。该最小项集合为 $\\sum m(4, 5, 6, 7, 10, 11, 14, 15)$。\n\n你的任务是为此函数找到一个保证无任何静态冒险的两级逻辑电路实现。最终实现必须表示为“和之积”(POS)形式的简化布尔表达式。使用 $W, X, Y, Z$ 表示变量，$+$ 表示逻辑或，并置表示逻辑与，撇号 ($'$) 表示逻辑非。", "solution": "给定四变量布尔函数 $F(W,X,Y,Z)$ 的最小项为 $\\sum m(4,5,6,7,10,11,14,15)$。将每个最小项写成二进制形式 $(W,X,Y,Z)$，其中 $W$ 为最高有效位：\n- $m4$ 到 $m7$ 是 $(0,1,0,0)$, $(0,1,0,1)$, $(0,1,1,0)$, $(0,1,1,1)$，即 $W=0$, $X=1$，$Y,Z$ 可为任意值。\n- $m10,m11,m14,m15$ 是 $(1,0,1,0)$, $(1,0,1,1)$, $(1,1,1,0)$, $(1,1,1,1)$，即 $W=1$, $Y=1$，$X,Z$ 可为任意值。\n\n根据这一观察，可以直接得到一个最小“积之和”(SOP)形式：\n$$\nF = W'X + WY.\n$$\n\n为了获得最小“和之积”(POS)形式，使用共识/因式分解恒等式 $AB + A'C = (A + C)(A' + B)$，令 $A=W$, $B=Y$, $C=X$：\n$$\nF = W'X + WY = (W + X)(W' + Y).\n$$\n\n为确保两级POS实现中没有任何静态冒险，我们必须消除静态-0冒险。在POS形式中，当两个相邻的0未被一个公共的和项覆盖时，可能会发生静态-0冒险。函数 $F$ 的0点是剩余的最小项：\n$$\n\\{0,1,2,3,8,9,12,13\\}.\n$$\n这两个和项对应于0的分组：\n- $(W + X) = 0$ 当 $W=0$, $X=0$ 时成立（这覆盖了 $m0,m1,m2,m3$）。\n- $(W' + Y) = 0$ 当 $W=1$, $Y=0$ 时成立（这覆盖了 $m8,m9,m12,m13$）。\n\n检查位于不同分组中的相邻0对。仅有的此类对是：\n- $(m0,m8)$：$(0,0,0,0)$ 与 $(1,0,0,0)$ 相邻（翻转 $W$），\n- $(m1,m9)$：$(0,0,0,1)$ 与 $(1,0,0,1)$ 相邻（翻转 $W$）。\n\n冗余的和项可以通过共识定理的对偶形式 $(U+V)(U'+W) \\implies (V+W)$ 直接得出。对于 $(W+X)(W'+Y)$，共识项是 $(X+Y)$。\n\n我们可以验证这个共识项覆盖了险象。对于 $(m0,m8)$ 和 $(m1,m9)$，都有 $X=0$ 和 $Y=0$，因此和项 $(X+Y)$ 在这些转换点为0，从而消除了冒险。\n\n因此，一个两级无冒险的POS实现是\n$$\nF = (W + X)(W' + Y)(X + Y).\n$$\n最后，验证添加的因子不会改变 $F$ 在其1单元上的值：对于 $W=0,X=1$，我们有 $X+Y=1+Y$，不总是1。对于 $W=1,Y=1$，我们有 $X+Y=X+1=1$。\n让我们重新审视一下。我们添加的项 $(X+Y)$ 必须在所有原始函数的1点上都为1。\n原始函数的1点是 $W'X+WY=1$。\n- 如果 $W'X=1$，则 $W=0, X=1$。此时 $(X+Y)=(1+Y)=1$。正确。\n- 如果 $WY=1$，则 $W=1, Y=1$。此时 $(X+Y)=(X+1)=1$。正确。\n因此，添加 $(X+Y)$ 不会改变函数的逻辑功能。\n\n两级POS实现不会出现静态-1冒险，所以这个实现没有任何静态冒险。", "answer": "$$\\boxed{(W+X)(W'+Y)(X+Y)}$$", "id": "1929362"}]}