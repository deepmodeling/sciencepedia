{"hands_on_practices": [{"introduction": "非门（NOT gate）最核心的功能是逻辑反转，这一看似简单的操作在数字电路的化简中扮演着至关重要的角色。在布尔代数中，一个信号与其反相信号的组合通常会产生一个恒定值（例如 $A + \\overline{A} = 1$），这是简化复杂逻辑表达式的有力工具。下面的练习将引导你如何在一个多输入电路中，通过识别和应用这一互补定律来化简电路，这是数字逻辑设计中的一项基本技能。[@problem_id:1969954]", "problem": "一个数字逻辑电路由五个主输入（表示为 $A, B, C, D,$ 和 $E$）构成，并产生一个最终输出 $Y$。该电路的布置如下：\n\n最终输出 $Y$ 是一个三输入与门的结果。该与门的第一个输入是主输入信号 $A$。第二个输入来自一个双输入与非门的输出，该与非门本身的输入是主输入 $B$ 和 $C$。与门的第三个输入由一个双输入异或门 (XOR) 的输出提供。\n\n该异或门的其中一个输入是主输入信号 $D$。异或门的另一个输入由一个子电路生成。该子电路由一个双输入或门组成，其中一个输入是主信号 $E$，另一个输入是其补码 $\\overline{E}$，这是通过将信号 $E$ 通过一个非门得到的。\n\n推导最终输出 $Y$ 关于主输入 $A, B, C,$ 和 $D$ 的简化布尔表达式。", "solution": "让我们使用布尔代数表示法来写出与门的输出。使用 $\\cdot$ 表示与，+ 表示或，$\\overline{(\\,)}$ 表示非，$\\oplus$ 表示异或，所述电路可得出\n$$\nY \\;=\\; A \\cdot \\overline{B C} \\cdot \\bigl(D \\oplus (E + \\overline{E})\\bigr).\n$$\n应用互补律 $E + \\overline{E} = 1$ 来简化异或输入：\n$$\nD \\oplus (E + \\overline{E}) \\;=\\; D \\oplus 1.\n$$\n使用异或恒等式 $X \\oplus 1 = \\overline{X}$ 得到\n$$\nD \\oplus 1 \\;=\\; \\overline{D}.\n$$\n将此代入 $Y$ 的表达式中：\n$$\nY \\;=\\; A \\cdot \\overline{B C} \\cdot \\overline{D}.\n$$\n如果需要，可以应用德摩根定律 $\\overline{B C} = \\overline{B} + \\overline{C}$ 将结果表示为文字的和：\n$$\nY \\;=\\; A \\cdot \\overline{D} \\cdot (\\overline{B} + \\overline{C}).\n$$\n两种形式都是关于 $A, B, C$ 和 $D$ 的正确的简化布尔表达式。", "answer": "$$\\boxed{A\\overline{D}\\,(\\overline{B}+\\overline{C})}$$", "id": "1969954"}, {"introduction": "理想的逻辑门是布尔代数的完美抽象，但在物理世界中，它们是由晶体管实现的，并且可能出现故障。本练习将带你从抽象的逻辑世界进入CMOS晶体管的物理层面，通过分析一个有“开路故障”的非门，来理解高阻态（high-impedance state）的概念以及外部负载如何决定最终的输出电压。[@problem_id:1969985] 这项实践对于理解真实电路的非理想行为至关重要，并能培养你在实际问题中进行电路故障诊断的能力。", "problem": "一个标准的互补金属氧化物半导体（CMOS）反相器是数字电路中的一个基本构建模块。它由一个位于上拉网络的p沟道金属氧化物半导体（PMOS）晶体管和一个位于下拉网络的n沟道金属氧化物半导体（NMOS）晶体管组成。该反相器由一个电源电压 $V_{DD}$ 供电，参考地电位为 0 V。输入电压为 $V_{in}$，输出电压为 $V_{out}$。NMOS晶体管具有正的阈值电压 $V_{Tn}$，而PMOS晶体管具有负的阈值电压 $V_{Tp}$。\n\n考虑一个场景，芯片上的某个特定反相器存在制造缺陷。PMOS晶体管“开路卡死”（stuck-open），这意味着无论输入电压如何，其源极和漏极之间都表现为理想开路。这个故障反相器的输出连接到一个外部负载，该负载可以建模为一个连接在输出节点和 $V_{DD}$ 之间的电阻 $R_U$ 以及一个连接在输出节点和地之间的电阻 $R_D$。\n\n这个故障反相器的输入 $V_{in}$ 稳定保持在 0 V。在本次分析中，假设NMOS晶体管作为一个理想开关工作，在其截止状态时表现为理想开路，在“导通”时表现为理想短路。\n\n确定稳态输出电压 $V_{out}$。您的答案应为一个以 $V_{DD}$、$R_U$ 和 $R_D$ 表示的符号表达式。", "solution": "问题要求计算一个故障CMOS反相器的稳态输出电压 $V_{out}$。给定的输入电压为 $V_{in} = 0$ V。\n\n首先，我们分析在给定条件下构成反相器的两个晶体管的状态。\n\n1.  **PMOS晶体管状态：**\n    问题陈述PMOS晶体管“开路卡死”。这是一种故障状态，意味着它表现为一个理想开路，在其源极（连接到 $V_{DD}$）和漏极（输出节点 $V_{out}$）之间产生无限大电阻。此状态与输入电压无关。因此，上拉网络与输出节点断开。\n\n2.  **NMOS晶体管状态：**\n    NMOS晶体管的状态取决于其栅源电压 $V_{GS,n}$。NMOS的栅极连接到反相器的输入，所以其栅极电压为 $V_G = V_{in} = 0$ V。NMOS的源极连接到地，所以其源极电压为 $V_S = 0$ V。\n    栅源电压计算如下：\n    $$V_{GS,n} = V_G - V_S = 0 \\text{ V} - 0 \\text{ V} = 0 \\text{ V}$$\n    NMOS晶体管仅当其栅源电压超过其阈值电压时才会导通（进入线性区或饱和区），即 $V_{GS,n}  V_{Tn}$。问题陈述 $V_{Tn}$ 是一个正值。\n    由于 $V_{GS,n} = 0$ V，条件 $V_{GS,n}  V_{Tn}$ 不满足。因此，NMOS晶体管处于**截止**区。根据问题中指定的理想开关模型，处于截止状态的晶体管表现为理想开路。这意味着在NMOS晶体管的漏极（输出节点 $V_{out}$）和其源极（地）之间存在无限大电阻。\n\n3.  **输出节点分析：**\n    我们已经确定：\n    - PMOS晶体管在 $V_{DD}$ 和 $V_{out}$ 之间提供了一个开路。\n    - NMOS晶体管在 $V_{out}$ 和地之间提供了一个开路。\n    这意味着输出节点 $V_{out}$ 在电气上与反相器的内部电源和接地连接断开。相对于反相器自身的上拉和下拉网络，输出处于高阻态（通常表示为'Z'）。\n\n4.  **外部负载的影响：**\n    输出电压并非不确定，因为它连接到一个外部负载网络。该网络由一个连接在 $V_{out}$ 和 $V_{DD}$ 之间的电阻 $R_U$ 和一个连接在 $V_{out}$ 和地之间的电阻 $R_D$ 组成。\n    由于反相器本身对输出节点呈现开路，从输出节点看，整个电路简化为仅有外部负载网络。这个网络是一个简单的分压器。电阻 $R_U$ 和 $R_D$ 串联在总电势差 $V_{DD} - 0 = V_{DD}$ 两端。\n\n5.  **计算输出电压：**\n    输出电压 $V_{out}$ 是 $R_U$ 和 $R_D$ 之间节点的电压。我们可以使用分压公式来求得该电压：\n    $$V_{out} = V_{DD} \\times \\frac{\\text{从节点到地的电阻}}{\\text{总串联电阻}}$$\n    在这种情况下，从节点到地的电阻是 $R_D$，总串联电阻是 $R_U + R_D$。\n    将这些值代入公式，得到：\n    $$V_{out} = V_{DD} \\frac{R_D}{R_U + R_D}$$\n    这就是稳态输出电压的最终表达式。", "answer": "$$\\boxed{V_{DD} \\frac{R_D}{R_U + R_D}}$$", "id": "1969985"}, {"introduction": "在掌握了非门的逻辑功能和物理行为之后，更进一步的挑战是根据特定性能要求来设计它。本练习将深入到晶体管层面，探讨如何通过调整NMOS和PMOS晶体管的物理参数（体现在跨导参数之比 $k_n/k_p$ 上）来精确地设置伪NMOS反相器的开关阈值电压 $V_M$。[@problem_id:1969944] 完成这个设计问题，你将亲身体验到连接底层半导体物理与高层逻辑性能的桥梁，这是集成电路设计中的一个核心概念。", "problem": "伪 n 沟道金属氧化物半导体 (NMOS) 反相器是一种基本的数字逻辑门。它由一个 NMOS 下拉晶体管和一个 p 沟道金属氧化物半导体 (PMOS) 上拉晶体管组成。在这种配置中，输入电压 $V_{in}$ 施加在 NMOS 晶体管的栅极上，而 PMOS 晶体管的栅极永久接地 (0 V)。输出电压 $V_{out}$ 从两个晶体管的公共漏极端获取。整个电路由电源电压 $V_{DD}$ 供电。\n\n我们将开关阈值电压 $V_M$ 定义为当 $V_{in} = V_{out}$ 时的特定输入电压。我们将使用简单的平方律模型来模拟晶体管的行为，忽略沟道长度调制和体效应。\n\nNMOS 晶体管的漏极电流 $I_D$ 由以下公式给出：\n- 三极管区 ($V_{DS}  V_{GS} - V_{tn}$): $I_{Dn} = k_n \\left[ (V_{GS} - V_{tn})V_{DS} - \\frac{1}{2}V_{DS}^2 \\right]$\n- 饱和区 ($V_{DS} \\ge V_{GS} - V_{tn}$): $I_{Dn} = \\frac{1}{2} k_n (V_{GS} - V_{tn})^2$\n\nPMOS 晶体管的漏极电流 $I_D$ 由以下公式给出：\n- 三极管区 ($V_{DS}  V_{GS} - V_{tp}$): $I_{Dp} = k_p \\left[ (V_{GS} - V_{tp})V_{DS} - \\frac{1}{2}V_{DS}^2 \\right]$\n- 饱和区 ($V_{DS} \\le V_{GS} - V_{tp}$): $I_{Dp} = \\frac{1}{2} k_p (V_{GS} - V_{tp})^2$\n\n这里，$k_n$ 和 $k_p$ 分别是 NMOS 和 PMOS 晶体管的工艺跨导参数。$V_{tn}$ 是 NMOS 晶体管的正阈值电压，$V_{tp}$ 是 PMOS 晶体管的负阈值电压。\n\n您的任务是确定所需的跨导参数之比 $k_n/k_p$，使得反相器的开关阈值电压 $V_M$ 正好等于电源电压的一半，即 $V_M = V_{DD}/2$。假设在典型的操作参数下，在开关阈值处，PMOS 晶体管工作在三极管区，而 NMOS 晶体管工作在饱和区。\n\n用 $V_{DD}$、$V_{tn}$ 和 $V_{tp}$ 的符号表达式来表示您的答案。", "solution": "令开关阈值定义为 $V_{in}=V_{out}=V_{M}$，其中 $V_{M}=V_{DD}/2$。在稳态下对输出节点应用 KCL：上拉电流和下拉电流的大小相等，因此 $I_{n}=I_{p}$。\n\n对于 NMOS，源极在 $0$，漏极在 $V_{M}$，栅极在 $V_{M}$。因此 $V_{GS,n}=V_{M}$ 且 $V_{DS,n}=V_{M}$。饱和条件 $V_{DS,n}\\geq V_{GS,n}-V_{tn}$ 可简化为 $V_{tn}\\geq 0$，此条件成立，因此 NMOS 处于饱和区，且\n$$\nI_{n}=\\frac{1}{2}k_{n}(V_{GS,n}-V_{tn})^{2}=\\frac{1}{2}k_{n}(V_{M}-V_{tn})^{2}.\n$$\n\n对于 PMOS，源极在 $V_{DD}$，漏极在 $V_{M}$，栅极在 $0$。因此 $V_{GS,p}=0-V_{DD}=-V_{DD}$ 且 $V_{DS,p}=V_{M}-V_{DD}$。根据所述假设，PMOS 处于三极管区，因此使用给定的 PMOS 三极管区表达式，\n$$\nI_{p}=k_{p}\\left[(V_{GS,p}-V_{tp})V_{DS,p}-\\frac{1}{2}V_{DS,p}^{2}\\right]\n=k_{p}\\left[(-V_{DD}-V_{tp})(V_{M}-V_{DD})-\\frac{1}{2}(V_{M}-V_{DD})^{2}\\right].\n$$\n由于 $V_{M}-V_{DD}=-(V_{DD}-V_{M})$，上式变为\n$$\nI_{p}=k_{p}\\left[(V_{DD}+V_{tp})(V_{DD}-V_{M})-\\frac{1}{2}(V_{DD}-V_{M})^{2}\\right].\n$$\n\n在开关阈值 $V_{M}=V_{DD}/2$ 处，所以\n$$\nI_{n}=\\frac{1}{2}k_{n}\\left(\\frac{V_{DD}}{2}-V_{tn}\\right)^{2},\n\\quad\nI_{p}=k_{p}\\left[\\left(V_{DD}+V_{tp}\\right)\\frac{V_{DD}}{2}-\\frac{1}{2}\\left(\\frac{V_{DD}}{2}\\right)^{2}\\right]\n=k_{p}\\left(\\frac{3V_{DD}^{2}}{8}+\\frac{V_{DD}V_{tp}}{2}\\right).\n$$\n\n令 $I_{n}=I_{p}$ 并求解比率 $k_{n}/k_{p}$，\n$$\nk_{p}\\left(\\frac{3V_{DD}^{2}}{8}+\\frac{V_{DD}V_{tp}}{2}\\right)\n=\\frac{1}{2}k_{n}\\left(\\frac{V_{DD}}{2}-V_{tn}\\right)^{2}\n\\;\\Rightarrow\\;\n\\frac{k_{n}}{k_{p}}\n=\\frac{2\\left(\\frac{3V_{DD}^{2}}{8}+\\frac{V_{DD}V_{tp}}{2}\\right)}\n{\\left(\\frac{V_{DD}}{2}-V_{tn}\\right)^{2}}\n=\\frac{\\frac{3}{4}V_{DD}^{2}+V_{DD}V_{tp}}\n{\\left(\\frac{V_{DD}}{2}-V_{tn}\\right)^{2}}.\n$$\n该表达式符合要求，用 $V_{DD}$、$V_{tn}$ 和 $V_{tp}$ 表示，并且与工作区的假设一致。", "answer": "$$\\boxed{\\frac{\\frac{3}{4}V_{DD}^{2}+V_{DD}V_{tp}}{\\left(\\frac{V_{DD}}{2}-V_{tn}\\right)^{2}}}$$", "id": "1969944"}]}