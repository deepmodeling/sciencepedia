{"hands_on_practices": [{"introduction": "电压传输特性（VTC）曲线上的关键电压点直接决定了数字电路的可靠性。此练习将带你从理论走向实践，通过计算噪声容限（Noise Margin）来量化一个CMOS反相器抵抗信号干扰的能力。掌握如何从数据手册参数中评估电路的鲁棒性，是数字设计中的一项核心技能[@problem_id:1966853]。", "problem": "一位数字系统工程师正在进行一项新的微控制器设计，需要评估所选逻辑系列的抗噪声能力。该设计使用标准的 3.3 V 电源。工程师查阅了该系列中典型互补金属氧化物半导体 (CMOS) 反相器的数据手册，并找到了以下最差情况下的电压参数：\n\n-   最小高电平输出电压 ($V_{OH}$): 3.15 V\n-   最大低电平输出电压 ($V_{OL}$): 0.10 V\n-   最小高电平输入电压 ($V_{IH}$): 2.4 V\n-   最大低电平输入电压 ($V_{IL}$): 0.9 V\n\n为确保可靠运行，工程师必须确定高电平噪声容限 ($NM_H$)。该值表示在高电平输入信号上可以叠加的最大允许电压降或噪声，而逻辑电平不被误判。\n\n计算高电平噪声容限 $NM_H$ 的值。以伏特为单位表示您的答案，并四舍五入到两位有效数字。", "solution": "问题要求计算高电平噪声容限，记为 $NM_H$。这个指标是衡量逻辑电路抗噪声能力的关键度量。\n\n高电平噪声容限定义为驱动门能够提供的最差情况（最小）高电平输出电压 $V_{OH}$ 与接收门正确解释高逻辑电平所需的最差情况（最小）高电平输入电压 $V_{IH}$ 之间的差值。当传输高电平信号时，这个差值代表了连接两个门的线路上可用于容忍电压降和噪声的“缓冲”或裕度。\n\n高电平噪声容限的计算公式为：\n$$NM_H = V_{OH} - V_{IH}$$\n\n根据题目描述，我们得到了互补金属氧化物半导体 (CMOS) 反相器的以下参数：\n-   最小高电平输出电压，$V_{OH} = 3.15$ V\n-   最小高电平输入电压，$V_{IH} = 2.4$ V\n其他给定的值，$V_{OL}$ 和 $V_{IL}$，是针对这个特定问题的干扰项，它们用于计算低电平噪声容限 ($NM_L = V_{IL} - V_{OL}$)。\n\n现在，我们将相关值代入 $NM_H$ 的公式中：\n$$NM_H = 3.15 \\, \\text{V} - 2.4 \\, \\text{V}$$\n$$NM_H = 0.75 \\, \\text{V}$$\n\n问题要求答案以伏特为单位表示，并四舍五入到两位有效数字。我们计算出的值 0.75 V 有两位有效数字（“7”和“5”）。因此，该值无需进一步四舍五入。高电平噪声容限为 0.75 V。", "answer": "$$\\boxed{0.75}$$", "id": "1966853"}, {"introduction": "理想CMOS反相器的开关阈值电压 $V_M$ 位于 $V_{DD}/2$，但这在现实中很少见。本练习探讨了当PMOS和NMOS晶体管强度不匹配时，$V_M$ 会如何偏移，从而导致VTC“偏斜”。通过这个计算，你将深入理解晶体管尺寸如何影响电路的开关特性，这是优化性能和噪声容限的关键[@problem_id:1966871]。", "problem": "一个非理想的互补金属氧化物半导体 (CMOS) 反相器由一个增强型 n 沟道 MOSFET (NMOS) 和一个增强型 p 沟道 MOSFET (PMOS) 设计而成。该反相器由电源电压 $V_{DD}$ 供电。NMOS 晶体管的阈值电压为 $V_{Tn}$，跨导参数为 $\\beta_n$。PMOS 晶体管的阈值电压为 $V_{Tp}$，跨导参数为 $\\beta_p$。\n\n开关阈值电压，记为 $V_M$，定义为电压传输特性上输入电压等于输出电压 ($V_{in} = V_{out}$) 的唯一点。假设在此工作点，两个晶体管都处于饱和区，其行为由简单的平方律电流模型描述。\n\n给定电路的以下参数：\n- 电源电压, $V_{DD} = 2.5 \\text{ V}$\n- NMOS 阈值电压, $V_{Tn} = 0.50 \\text{ V}$\n- PMOS 阈值电压, $V_{Tp} = -0.60 \\text{ V}$\n- 跨导参数比率, $\\beta_p / \\beta_n = 4.0$\n\n计算开关阈值电压 $V_M$ 的值。答案以伏特 (V) 为单位，并四舍五入到三位有效数字。", "solution": "问题要求计算 CMOS 反相器的开关阈值电压 $V_M$。开关阈值由条件 $V_{in} = V_{out} = V_M$ 定义。在此点，流过 NMOS 晶体管的电流 $I_{Dn}$ 必须等于流过 PMOS 晶体管的电流 $I_{Dp}$。\n\n问题说明两个晶体管都工作在饱和区。NMOS 晶体管在饱和区的漏极电流由平方律模型给出：\n$$I_{Dn} = \\frac{1}{2} \\beta_n (V_{GS,n} - V_{Tn})^2$$\n对于反相器配置中的 NMOS 晶体管，其栅极连接到输入 ($V_{in}$)，其源极连接到地 (0 V)。因此，$V_{GS,n} = V_{in} - 0 = V_{in}$。在开关阈值处，$V_{in} = V_M$，所以 $V_{GS,n} = V_M$。NMOS 电流的方程变为：\n$$I_{Dn} = \\frac{1}{2} \\beta_n (V_M - V_{Tn})^2$$\n\n类似地，PMOS 晶体管在饱和区的漏极电流由下式给出：\n$$I_{Dp} = \\frac{1}{2} \\beta_p (V_{GS,p} - V_{Tp})^2$$\n对于反相器中的 PMOS 晶体管，其栅极连接到输入 ($V_{in}$)，其源极连接到电源电压 ($V_{DD}$)。因此，$V_{GS,p} = V_{in} - V_{DD}$。在开关阈值处，$V_{in} = V_M$，所以 $V_{GS,p} = V_M - V_{DD}$。PMOS 电流的方程变为：\n$$I_{Dp} = \\frac{1}{2} \\beta_p (V_M - V_{DD} - V_{Tp})^2$$\n\n在开关阈值处，我们令电流相等：$I_{Dn} = I_{Dp}$。\n$$\\frac{1}{2} \\beta_n (V_M - V_{Tn})^2 = \\frac{1}{2} \\beta_p (V_M - V_{DD} - V_{Tp})^2$$\n我们可以从等式两边消去 $\\frac{1}{2}$ 项：\n$$\\beta_n (V_M - V_{Tn})^2 = \\beta_p (V_M - V_{DD} - V_{Tp})^2$$\n为了求解 $V_M$，我们对等式两边取平方根。我们必须注意平方内各项的符号。\n为使 NMOS 晶体管导通，$V_{GS,n} > V_{Tn}$，这意味着 $V_M > V_{Tn}$。所以，项 $(V_M - V_{Tn})$ 为正。\n为使 PMOS 晶体管导通，$V_{GS,p}  V_{Tp}$。由于 $V_{Tp}$ 是负值，当 $V_{in}  V_{DD} + V_{Tp}$ 时此条件满足。在开关阈值处，$V_M  V_{DD} + V_{Tp}$。因此，项 $(V_M - V_{DD} - V_{Tp})$ 为负。\n取平方根并应用这些符号考量（$\\sqrt{x^2} = |x|$）：\n$$\\sqrt{\\beta_n} (V_M - V_{Tn}) = \\sqrt{\\beta_p} (-(V_M - V_{DD} - V_{Tp}))$$\n$$\\sqrt{\\beta_n} (V_M - V_{Tn}) = \\sqrt{\\beta_p} (V_{DD} + V_{Tp} - V_M)$$\n现在，我们重新整理方程以求解 $V_M$：\n$$V_M \\sqrt{\\beta_n} - V_{Tn} \\sqrt{\\beta_n} = V_{DD} \\sqrt{\\beta_p} + V_{Tp} \\sqrt{\\beta_p} - V_M \\sqrt{\\beta_p}$$\n将含有 $V_M$ 的项归到一边：\n$$V_M (\\sqrt{\\beta_n} + \\sqrt{\\beta_p}) = V_{Tn} \\sqrt{\\beta_n} + V_{DD} \\sqrt{\\beta_p} + V_{Tp} \\sqrt{\\beta_p}$$\n$$V_M (\\sqrt{\\beta_n} + \\sqrt{\\beta_p}) = V_{Tn} \\sqrt{\\beta_n} + (V_{DD} + V_{Tp}) \\sqrt{\\beta_p}$$\n解出 $V_M$：\n$$V_M = \\frac{V_{Tn} \\sqrt{\\beta_n} + (V_{DD} + V_{Tp}) \\sqrt{\\beta_p}}{\\sqrt{\\beta_n} + \\sqrt{\\beta_p}}$$\n为了使用给定的比率 $\\beta_p/\\beta_n$，我们可以将分子和分母同时除以 $\\sqrt{\\beta_n}$：\n$$V_M = \\frac{V_{Tn} + (V_{DD} + V_{Tp}) \\sqrt{\\frac{\\beta_p}{\\beta_n}}}{1 + \\sqrt{\\frac{\\beta_p}{\\beta_n}}}$$\n现在，我们代入给定的数值：$V_{DD} = 2.5 \\text{ V}$，$V_{Tn} = 0.50 \\text{ V}$，$V_{Tp} = -0.60 \\text{ V}$，以及 $\\beta_p / \\beta_n = 4.0$。\n首先，计算该比率的平方根：\n$$\\sqrt{\\frac{\\beta_p}{\\beta_n}} = \\sqrt{4.0} = 2.0$$\n现在，将此代入 $V_M$ 的表达式中：\n$$V_M = \\frac{0.50 + (2.5 + (-0.60)) \\times 2.0}{1 + 2.0}$$\n$$V_M = \\frac{0.50 + (1.9) \\times 2.0}{3.0}$$\n$$V_M = \\frac{0.50 + 3.8}{3.0}$$\n$$V_M = \\frac{4.3}{3.0}$$\n$$V_M = 1.4333... \\text{ V}$$\n问题要求答案四舍五入到三位有效数字。\n$$V_M \\approx 1.43 \\text{ V}$$", "answer": "$$\\boxed{1.43}$$", "id": "1966871"}, {"introduction": "CMOS电路以其近乎为零的静态功耗而著称，但这一优势是有条件的。本练习将通过一个具体案例，计算当反相器输入被错误地保持在其开关阈值时所产生的功耗。这个实践将揭示VTC过渡区内“短路电流”的存在，并强调在数字设计中维持确定逻辑电平的重要性[@problem_id:1966835]。", "problem": "一位数字逻辑电路设计师正在分析一个测试芯片中的故障模式。发现一个互补金属氧化物半导体（CMOS）反相器的输入端被意外地连接到一个偏置电压，该电压将其精确地保持在反相器的开关阈值电压 $V_M$。这个特定的反相器采用对称设计制造，这意味着 PMOS 和 NMOS 晶体管是平衡的。\n\n该反相器在 $V_{DD} = 2.5 \\text{ V}$ 的电源电压下工作。NMOS 晶体管的阈值电压为 $V_{Tn} = 0.5 \\text{ V}$，PMOS 晶体管的阈值电压为 $V_{Tp} = -0.5 \\text{ V}$。对于两个晶体管，工艺跨导参数与宽高比的乘积均为 $\\beta = \\beta_n = \\beta_p = 200 \\text{ } \\mu\\text{A}/\\text{V}^2$。\n\n假设晶体管根据简单的平方律模型工作，且沟道长度调制效应可以忽略不计，计算这个故障反相器所消耗的静态功耗。答案以毫瓦（mW）为单位表示，并四舍五入到三位有效数字。", "solution": "CMOS 反相器的静态功耗 $P$ 由电源电压 $V_{DD}$ 与从电源汲取的电流 $I_D$ 的乘积给出。\n$$P = V_{DD} \\cdot I_D$$\n在正常的静态条件下（输入为逻辑高电平或低电平），其中一个晶体管处于截止区，导致电流几乎为零，因此静态功耗可以忽略不计。然而，题目指出输入电压 $V_{\\text{in}}$ 被保持在开关阈值 $V_M$。在这个特定的输入电压下，NMOS 和 PMOS 晶体管同时导通并工作在它们的饱和区。这就形成了一条从 $V_{DD}$ 到地的直接电流通路。\n\n首先，我们必须确定开关阈值电压 $V_M$ 的值。根据定义，$V_M$ 是指输出电压等于输入电压时的输入电压值，即 $V_{\\text{out}} = V_{\\text{in}} = V_M$。在这一点，NMOS 晶体管的漏极电流 $I_{Dn}$ 等于 PMOS 晶体管的漏极电流 $I_{Dp}$。\nNMOS 晶体管的饱和电流由下式给出：\n$$I_{Dn} = \\frac{1}{2} \\beta_n (V_{GSn} - V_{Tn})^{2}$$\nPMOS 晶体管的饱和电流为：\n$$I_{Dp} = \\frac{1}{2} \\beta_p (V_{SGp} - |V_{Tp}|)^{2}$$\n对于反相器配置，NMOS 的栅源电压为 $V_{GSn} = V_{\\text{in}} - 0 = V_{\\text{in}}$。PMOS 的源栅电压为 $V_{SGp} = V_{DD} - V_{\\text{in}}$。\n在开关阈值点，$V_{\\text{in}} = V_M$ 且 $I_{Dn} = I_{Dp}$，因此我们可以写出：\n$$\\frac{1}{2} \\beta_n (V_M - V_{Tn})^{2} = \\frac{1}{2} \\beta_p (V_{DD} - V_M - |V_{Tp}|)^{2}$$\n鉴于反相器是对称的，我们有 $\\beta_n = \\beta_p$ 和 $V_{Tn} = |V_{Tp}|$。方程简化为：\n$$(V_M - V_{Tn})^{2} = (V_{DD} - V_M - V_{Tn})^{2}$$\n对两边取平方根，得到：\n$$V_M - V_{Tn} = \\pm(V_{DD} - V_M - V_{Tn})$$\n选择正根：\n$$V_M - V_{Tn} = V_{DD} - V_M - V_{Tn}$$\n$$2V_M = V_{DD}$$\n$$V_M = \\frac{V_{DD}}{2}$$\n（负根会导致 $0 = -V_{DD} + 2V_{Tn}$，这不是一个通解。）\n当 $V_{DD} = 2.5 \\text{ V}$ 时，开关阈值为：\n$$V_M = \\frac{2.5 \\text{ V}}{2} = 1.25 \\text{ V}$$\n现在我们可以计算流过串联晶体管的短路电流 $I_D$。我们可以使用 NMOS 晶体管在 $V_{\\text{in}} = V_M$ 时的饱和电流方程：\n$$I_D = I_{Dn} = \\frac{1}{2} \\beta_n (V_M - V_{Tn})^{2}$$\n代入给定值：$\\beta_n = 200 \\text{ } \\mu\\text{A}/\\text{V}^2 = 200 \\times 10^{-6} \\text{ A}/\\text{V}^2$，$V_M = 1.25 \\text{ V}$，以及 $V_{Tn} = 0.5 \\text{ V}$。\n$$I_D = \\frac{1}{2} (200 \\times 10^{-6} \\text{ A}/\\text{V}^2) (1.25 \\text{ V} - 0.5 \\text{ V})^{2}$$\n$$I_D = (100 \\times 10^{-6} \\text{ A}/\\text{V}^2) (0.75 \\text{ V})^{2}$$\n$$I_D = (100 \\times 10^{-6}) (0.5625) \\text{ A}$$\n$$I_D = 56.25 \\times 10^{-6} \\text{ A} = 56.25 \\text{ } \\mu\\text{A}$$\n最后，我们计算静态功耗 $P$：\n$$P = V_{DD} \\cdot I_D$$\n$$P = (2.5 \\text{ V}) \\cdot (56.25 \\times 10^{-6} \\text{ A})$$\n$$P = 140.625 \\times 10^{-6} \\text{ W}$$\n为了以毫瓦（mW）表示答案，我们乘以 $1000$：\n$$P = 0.140625 \\text{ mW}$$\n四舍五入到三位有效数字，我们得到：\n$$P \\approx 0.141 \\text{ mW}$$", "answer": "$$\\boxed{0.141}$$", "id": "1966835"}]}