{"hands_on_practices": [{"introduction": "在现实世界的工程系统中，连接物理世界和数字计算领域至关重要。这个练习模拟了一个典型的应用场景：一个水下航行器通过传感器和模数转换器 (ADC) 来感知其深度。通过这个练习，你将把一个物理量（深度）逐步转换为模拟电压，最终量化为一个具体的数字代码，从而完整地体验从模拟到数字的转换过程。[@problem_id:1929631]", "problem": "一台深海遥控潜水器（ROV）配备了用于确定其深度的压力传感器。该传感器用于测量表压，并提供线性电压输出。在海洋表面，表压为 0 kPa 时，传感器输出 0.5 V。在其最大额定压力 1000 kPa 时，传感器输出 4.5 V。\n\n传感器的模拟电压信号由一个10位模数转换器（ADC）转换为数字值。该ADC具有从 0 V 到 5.0 V 的固定输入电压范围。ADC的转换过程通过线性关系将输入电压映射为数字码，然后截断结果以产生最终的整数值（即，它应用了向下取整函数）。\n\n假设海水密度为 $\\rho = 1025 \\text{ kg/m}^3$，重力加速度为 $g = 9.81 \\text{ m/s}^2$，计算当ROV处于 65.0 米深度时，ADC输出的整数数字值。", "solution": "我们使用流体静力学压力计算深度处的表压，传感器的线性电压转换关系，以及ADC的带截断的线性映射关系。\n\n1) 深度处的流体静力学表压：\n$$p=\\rho g h.$$\n当 $\\rho=1025\\,\\text{kg/m}^{3}$，$g=9.81\\,\\text{m/s}^{2}$，且 $h=65.0\\,\\text{m}$ 时，\n$$p=1025\\times 9.81\\times 65.0\\,\\text{Pa}=653591.25\\,\\text{Pa}=653.59125\\,\\text{kPa}.$$\n\n2) 传感器电压输出（从 $0\\,\\text{kPa}$ 时的 $0.5\\,\\text{V}$ 到 $1000\\,\\text{kPa}$ 时的 $4.5\\,\\text{V}$ 呈线性关系）：\n令 $V_{0}=0.5$ 且 $V_{1}=4.5$。则\n$$V_{s}=V_{0}+(V_{1}-V_{0})\\frac{p}{1000\\,\\text{kPa}}=0.5+4.0\\times\\frac{653.59125}{1000}=3.114365\\,\\text{V}.$$\n\n3) ADC 映射（10位，0 到 $5.0\\,\\text{V}$）。最低有效位的大小是\n$$\\Delta V=\\frac{5.0}{2^{10}-1}=\\frac{5.0}{1023}\\,\\text{V}.$$\n截断前的实数值代码为\n$$C_{\\text{real}}=\\frac{V_{s}}{\\Delta V}=\\frac{V_{s}}{5.0/1023}=\\frac{1023\\,V_{s}}{5.0}=\\frac{1023\\times 3.114365}{5.0}=637.199079\\ldots$$\n应用截断（向下取整）得到整数ADC输出：\n$$C=\\lfloor C_{\\text{real}}\\rfloor=637.$$", "answer": "$$\\boxed{637}$$", "id": "1929631"}, {"introduction": "对模拟信号进行数字化的核心是采样，但这一过程并非没有陷阱。当采样频率 $f_s$ 不足时，会产生一种被称为“混叠”的欺骗性现象，使原始信号的频率被错误地感知。本练习将通过一个监测高速旋转飞轮的案例，帮助你直观地理解混叠是如何发生的，并掌握计算采样后信号“视在频率”的方法。[@problem_id:1929666]", "problem": "一个监控系统被设计用于追踪一个大型工业飞轮边缘上的一个斑点。该飞轮以高频率 $f_{sig}$ 稳定地沿逆时针（CCW）方向旋转。一个光学传感器测量该斑点相对于中心的水平位移，产生一个由 $V(t) = A \\cos(2\\pi f_{sig} t)$ 描述的正弦电压信号。该模拟信号随后被一个模数转换器（ADC）以固定的采样率 $f_s$ 进行采样。采样后，这些数字数据被用来重建原始信号的一个表示。\n\n由于采样过程的特性，重建后的信号表现为一个纯正弦波，但其频率与原始信号不同。你的任务是确定这个重建信号的*有符号视在频率* $f_{app}$。按照惯例，正频率对应于原始的逆时针（CCW）旋转，而负频率表示旋转方向明显反转为顺时针（CW）。这个视在频率的幅值 $|f_{app}|$ 必须小于或等于采样率的一半。\n\n已知飞轮的真实旋转频率为 $f_{sig} = 650 \\text{ Hz}$，ADC的采样率为 $f_s = 800 \\text{ Hz}$，请计算 $f_{app}$ 的值。你的答案应以赫兹（Hz）为单位，并四舍五入到三位有效数字。", "solution": "连续时间传感器的输出为 $V(t) = A \\cos(2\\pi f_{sig} t)$。以速率 $f_{s}$（周期 $T_{s} = \\frac{1}{f_{s}}$）在时间点 $t_{n} = nT_{s}$ 进行采样，得到离散时间序列\n$$\nv[n] = V(nT_{s}) = A \\cos\\!\\left(2\\pi f_{sig} \\frac{n}{f_{s}}\\right) = A \\cos\\!\\left(2\\pi \\frac{f_{sig}}{f_{s}} n\\right).\n$$\n在离散时间中，频率是以 $2\\pi$ 为模定义的，这在连续时间频率中对应于等价类\n$$\nf \\sim f - k f_{s}, \\quad k \\in \\mathbb{Z},\n$$\n因为\n$$\n\\cos\\!\\left(2\\pi \\frac{f_{sig}}{f_{s}} n\\right) = \\cos\\!\\left(2\\pi \\frac{f_{sig} - k f_{s}}{f_{s}} n\\right)\n$$\n由于对于所有整数 $n$，$2\\pi k n$ 都是 $2\\pi$ 的整数倍。因此，理想重建后的视在频率必须选择为奈奎斯特区间 $\\left[-\\frac{f_{s}}{2}, \\frac{f_{s}}{2}\\right]$ 中的唯一代表 $f_{app}$，其由下式给出\n$$\nf_{app} = f_{sig} - k f_{s}, \\quad \\text{with} \\quad k = \\operatorname{round}\\!\\left(\\frac{f_{sig}}{f_{s}}\\right).\n$$\n当 $f_{sig} = 650$ 且 $f_{s} = 800$ 时，\n$$\n\\frac{f_{sig}}{f_{s}} = \\frac{650}{800} = 0.8125, \\quad k = 1,\n$$\n所以\n$$\nf_{app} = 650 - 1\\cdot 800 = -150.\n$$\n该值位于 $\\left[-\\frac{800}{2}, \\frac{800}{2}\\right] = [-400, 400]$ 区间内，负号表示表观上的顺时针旋转。四舍五入到三位有效数字，该值为 $-150$。", "answer": "$$\\boxed{-150}$$", "id": "1929666"}, {"introduction": "在信号处理链的另一端，我们需将处理后的数字代码转换回模拟世界，这便是数模转换器 (DAC) 的职责。本练习将带你探索这个逆过程，通过分析一个理想 DAC 如何根据数字输入序列生成一个阶梯状的模拟电压波形。你将学会计算该波形的均方根 ($V_{RMS}$) 电压，这是一种评估和表征任何交流信号能量的关键技术。[@problem_id:1929641]", "problem": "一个理想的3位数字模拟转换器（DAC）用于生成周期性的模拟电压波形。3位二进制输入（由其十进制等效值 $D$ 表示，其中 $D$ 的范围从0到7）与模拟输出电压 $V_{out}$ 之间的关系由以下公式给出：\n$$V_{out} = V_{ref} \\frac{D}{2^{3}}$$\n参考电压为 $V_{ref} = 5.12$ V。\n\nDAC的二进制输入按顺序循环遍历所有可能的状态，从 $(000)_2$ 开始，递增到 $(111)_2$。每个二进制码保持一个相等的时间间隔 $T$ 不变。当输入达到 $(111)_2$ 后，循环立即从 $(000)_2$ 重复开始。\n\n计算所得到的周期性模拟输出信号 $V_{out}(t)$ 在一个完整周期内的均方根（RMS）电压。答案以伏特为单位，保留三位有效数字。", "solution": "3位DAC的输出是分段恒定的，其值对应于 $D=0,1,\\ldots,7$，每个值都保持相同的时间长度 $T$。周期为 $8T$。对于周期信号 $v(t)$，其在一个周期 $P$ 内的均方根值为\n$$\nV_{\\mathrm{RMS}}=\\sqrt{\\frac{1}{P}\\int_{0}^{P} v^{2}(t)\\,dt}.\n$$\n由于波形在每个长度为 $T$ 的子区间上是恒定的，其值为 $V_{k}=V_{\\mathrm{ref}}\\frac{k}{8}$（$k=0,1,\\ldots,7$），积分可以简化为对这八个电平的平均值：\n$$\nV_{\\mathrm{RMS}}^{2}=\\frac{1}{8}\\sum_{k=0}^{7}\\left(V_{\\mathrm{ref}}\\frac{k}{8}\\right)^{2}=\\frac{V_{\\mathrm{ref}}^{2}}{512}\\sum_{k=0}^{7}k^{2}.\n$$\n使用公式 $\\sum_{k=1}^{n}k^{2}=\\frac{n(n+1)(2n+1)}{6}$，其中 $n=7$，可得\n$$\n\\sum_{k=0}^{7}k^{2}=\\sum_{k=1}^{7}k^{2}=\\frac{7\\cdot 8\\cdot 15}{6}=140.\n$$\n因此，\n$$\nV_{\\mathrm{RMS}}^{2}=V_{\\mathrm{ref}}^{2}\\cdot\\frac{140}{512}=V_{\\mathrm{ref}}^{2}\\cdot\\frac{35}{128},\n$$\n所以\n$$\nV_{\\mathrm{RMS}}=V_{\\mathrm{ref}}\\sqrt{\\frac{35}{128}}.\n$$\n当 $V_{\\mathrm{ref}}=5.12$ 时，可得\n$$\nV_{\\mathrm{RMS}}=5.12\\sqrt{\\frac{35}{128}}\\approx 2.677\\ldots\n$$\n保留三位有效数字，\n$$\nV_{\\mathrm{RMS}}\\approx 2.68.\n$$", "answer": "$$\\boxed{2.68}$$", "id": "1929641"}]}