{"hands_on_practices": [{"introduction": "Every journey in integer programming using cutting planes begins with a crucial first step: solving the linear programming (LP) relaxation. This involves temporarily ignoring the integer constraints to find the optimal solution in the continuous space, which provides a theoretical upper bound for our true integer solution. This practice [@problem_id:2211982] will guide you through setting up and solving the LP relaxation for a practical resource allocation problem, giving us the fractional starting point that the cutting-plane method aims to refine.", "problem": "A computer science student is working on a project to train two different types of machine learning models for a competition: a Classifier model and a Generator model. The student aims to maximize a total 'performance score' based on the models they successfully train.\n\nThe student's resources are limited by Graphics Processing Unit (GPU) time and available data storage.\n- Each Classifier model trained gives a performance score of 8 points.\n- Each Generator model trained gives a performance score of 5 points.\n\nThe constraints are as follows:\n1.  **GPU Time**: Training a Classifier model requires 2 hours of GPU time, while a Generator model requires 1 hour. The student has a total of 16 hours of GPU time available.\n2.  **Data Storage**: Training a Classifier model consumes 3 terabytes (TB) of data, while a Generator model consumes 5 TB. The student has a total of 40 TB of data available.\n\nThe number of models of each type must, in reality, be an integer. However, to establish a theoretical upper limit for the project's performance, the student first analyzes a relaxed scenario where fractional models can be trained (e.g., by running a training process to partial completion).\n\nUnder this assumption of potentially fractional models, what is the maximum possible total performance score the student can achieve? Round your answer to three significant figures.", "solution": "Let $C$ denote the (possibly fractional) number of Classifier models and $G$ the number of Generator models. The objective is to maximize the total performance score\n$$\nZ = 8C + 5G\n$$\nsubject to the resource constraints:\n$$\n2C + G \\le 16 \\quad \\text{(GPU time)}, \\quad 3C + 5G \\le 40 \\quad \\text{(storage)}, \\quad C \\ge 0,\\; G \\ge 0.\n$$\nThis is a linear program; therefore, the maximum occurs at a vertex of the feasible region. The candidate vertices are the axis intercepts and the intersection of the two constraint lines. The axis intercepts are:\n- With $G=0$: from $2C \\le 16$ we have $C \\le 8$, and from $3C \\le 40$ we have $C \\le \\frac{40}{3}$. Thus the binding bound on the $C$-axis is $C=8$, giving $(C,G)=(8,0)$.\n- With $C=0$: from $G \\le 16$ and $5G \\le 40$ we have $G \\le 8$, giving $(C,G)=(0,8)$.\n\nNext, solve the intersection of $2C + G = 16$ and $3C + 5G = 40$. From the first equation, $G = 16 - 2C$. Substitute into the second:\n$$\n3C + 5(16 - 2C) = 40 \\;\\;\\Rightarrow\\;\\; 3C + 80 - 10C = 40 \\;\\;\\Rightarrow\\;\\; -7C + 80 = 40 \\;\\;\\Rightarrow\\;\\; C = \\frac{40}{7}.\n$$\nThen\n$$\nG = 16 - 2\\cdot \\frac{40}{7} = \\frac{112}{7} - \\frac{80}{7} = \\frac{32}{7}.\n$$\nEvaluate the objective at the candidate points:\n- At $(C,G)=(8,0)$: $Z = 8\\cdot 8 + 5\\cdot 0 = 64$.\n- At $(C,G)=(0,8)$: $Z = 8\\cdot 0 + 5\\cdot 8 = 40$.\n- At $\\left(C,G\\right)=\\left(\\frac{40}{7},\\frac{32}{7}\\right)$:\n$$\nZ = 8\\cdot \\frac{40}{7} + 5\\cdot \\frac{32}{7} = \\frac{320}{7} + \\frac{160}{7} = \\frac{480}{7}.\n$$\nTherefore, the maximum relaxed performance score is $Z_{\\max} = \\frac{480}{7} \\approx 68.5714$, which rounds to three significant figures as $68.6$.", "answer": "$$\\boxed{68.6}$$", "id": "2211982"}, {"introduction": "Once we have a fractional optimal solution from the LP relaxation, we need a systematic way to \"cut off\" this non-integer point without eliminating any valid integer solutions. The Gomory fractional cut is a powerful tool for this purpose, derived directly from the final simplex tableau. This exercise [@problem_id:2211934] provides a hands-on opportunity to apply the Gomory cut derivation rules to a specific tableau row and see how this new constraint is formulated in terms of the original decision variables.", "problem": "Consider the following Integer Program (IP):\n\nMaximize $Z = x_1 + x_2$\nSubject to:\n1. $-x_1 + x_2 \\le 1$\n2. $3x_1 + 2x_2 \\le 12$\n3. $2x_1 + 3x_2 \\le 12$\nwhere $x_1$ and $x_2$ must be non-negative integers.\n\nTo solve this, we first solve its Linear Program (LP) relaxation by introducing non-negative slack variables $s_1, s_2, s_3$ for constraints 1, 2, and 3, respectively. The simplex method is applied, and the optimal solution to the LP relaxation is found to be non-integer. The set of basic variables in the optimal tableau is $\\{x_1, x_2, s_1\\}$, and the set of non-basic variables is $\\{s_2, s_3\\}$.\n\nOne of the rows in this final simplex tableau, which corresponds to the basic variable $x_1$, is given by the equation:\n$$x_1 + \\frac{3}{5}s_2 - \\frac{2}{5}s_3 = \\frac{12}{5}$$\n\nUsing this tableau row, derive the Gomory fractional cut. Which of the following inequalities, expressed in terms of the original decision variables $x_1$ and $x_2$, is the correct Gomory cut?\n\nA. $3x_1 + 3x_2 \\le 14$\n\nB. $13x_1 + 12x_2 \\le 58$\n\nC. $3x_1 + 3x_2 \\le 12$\n\nD. $3x_1 + 3x_2 \\ge 14$\n\nE. $x_1 + x_2 \\le 4$", "solution": "We are given the final tableau row for the basic integer variable $x_{1}$:\n$$\nx_{1} + \\frac{3}{5}s_{2} - \\frac{2}{5}s_{3} = \\frac{12}{5}.\n$$\nAll variables in this pure integer program, including the slacks $s_{2}$ and $s_{3}$, are required to be integers with nonnegativity. The Gomory fractional cut derived from a tableau row of the form\n$$\nx_{B} + \\sum_{j} a_{j} y_{j} = b,\n$$\nwith $x_{B}$ and all $y_{j}$ integer variables and $b$ fractional, is obtained by taking fractional parts:\n$$\n\\sum_{j} f(a_{j})\\, y_{j} \\ge f(b),\n$$\nwhere $f(t) = t - \\lfloor t \\rfloor \\in [0,1)$ for any real $t$ (this definition applies equally to negative coefficients because $\\lfloor t \\rfloor$ is the greatest integer less than or equal to $t$).\n\nApplying this to the given row:\n- $f\\!\\left(\\frac{12}{5}\\right) = \\frac{12}{5} - \\left\\lfloor \\frac{12}{5} \\right\\rfloor = \\frac{12}{5} - 2 = \\frac{2}{5}$,\n- $f\\!\\left(\\frac{3}{5}\\right) = \\frac{3}{5}$,\n- $f\\!\\left(-\\frac{2}{5}\\right) = -\\frac{2}{5} - \\left\\lfloor -\\frac{2}{5} \\right\\rfloor = -\\frac{2}{5} - (-1) = \\frac{3}{5}$.\n\nThus the Gomory fractional cut in terms of $s_{2}$ and $s_{3}$ is\n$$\n\\frac{3}{5}s_{2} + \\frac{3}{5}s_{3} \\ge \\frac{2}{5},\n$$\nwhich, after multiplying by $5$, becomes\n$$\n3s_{2} + 3s_{3} \\ge 2.\n$$\nNow express the slacks in terms of the original variables from constraints 2 and 3:\n$$\ns_{2} = 12 - 3x_{1} - 2x_{2}, \\qquad s_{3} = 12 - 2x_{1} - 3x_{2}.\n$$\nSubstituting into the cut:\n$$\n3(12 - 3x_{1} - 2x_{2}) + 3(12 - 2x_{1} - 3x_{2}) \\ge 2,\n$$\n$$\n36 - 9x_{1} - 6x_{2} + 36 - 6x_{1} - 9x_{2} \\ge 2,\n$$\n$$\n72 - 15x_{1} - 15x_{2} \\ge 2,\n$$\n$$\n15x_{1} + 15x_{2} \\le 70,\n$$\nand dividing by $5$ yields\n$$\n3x_{1} + 3x_{2} \\le 14.\n$$\nAmong the given options, this corresponds to option A.", "answer": "$$\\boxed{A}$$", "id": "2211934"}, {"introduction": "An optimal tableau with multiple fractional basic variables offers a choice: from which row should we generate our next cut? Not all cuts are created equal; some are \"deeper\" and can lead to a faster convergence towards an integer solution. In this practice [@problem_id:2211932], we will explore this strategic aspect by deriving two different Gomory cuts from the same tableau and comparing their immediate impact, learning how to select the more effective cut to guide our search for the optimal integer solution.", "problem": "Consider the following Integer Programming (IP) problem:\nMaximize $Z = 4x_1 + 5x_2$\nSubject to:\n$x_1 + 4x_2 \\leq 10$\n$3x_1 + x_2 \\leq 9$\nwhere $x_1, x_2 \\geq 0$ and are integers.\n\nAfter solving the corresponding Linear Programming (LP) relaxation using the simplex method, where $s_1$ and $s_2$ are the slack variables for the first and second constraints respectively, the final optimal tableau is obtained. The tableau is presented below, where the first row represents the objective function equation ($Z + s_1 + s_2 = 19$):\n\n$$\n\\begin{array}{c|cc|cc|c}\n\\text{Basis}  x_1  x_2  s_1  s_2  \\text{RHS} \\\\\n\\hline\nZ\\text{-row}  0  0  1  1  19 \\\\\nx_1  1  0  -1/11  4/11  26/11 \\\\\nx_2  0  1  3/11  -1/11  21/11\n\\end{array}\n$$\n\nThe optimal solution to the LP relaxation is fractional, as indicated by the Right-Hand Side (RHS) values for the basic variables $x_1$ and $x_2$. To proceed towards an integer solution, Gomory's cutting-plane method is applied.\n\nYour task is to generate two distinct Gomory cuts from the fractional basic variables in the tableau. A cut is considered 'deeper' if, upon its addition to the current LP relaxation, it causes a larger immediate reduction in the objective function value after performing a single dual simplex pivot.\n\nDetermine which of the two possible cuts is deeper, and calculate the new value of the objective function $Z$ that results from adding this deeper cut and performing one dual simplex pivot. Round your final answer to three significant figures.", "solution": "We start from the final optimal tableau of the LP relaxation, where $x_{1}$ and $x_{2}$ are basic and fractional:\n$$\n\\begin{array}{c|cc|cc|c}\n\\text{Basis}  x_{1}  x_{2}  s_{1}  s_{2}  \\text{RHS} \\\\\n\\hline\nZ\\text{-row}  0  0  1  1  19 \\\\\nx_{1}  1  0  -\\frac{1}{11}  \\frac{4}{11}  \\frac{26}{11} \\\\\nx_{2}  0  1  \\frac{3}{11}  -\\frac{1}{11}  \\frac{21}{11}\n\\end{array}\n$$\nSince the original problem has integer right-hand sides and integer coefficients, for any integer feasible $(x_{1},x_{2})$, the slack variables satisfy $s_{1}=10-x_{1}-4x_{2}$ and $s_{2}=9-3x_{1}-x_{2}$, hence $s_{1},s_{2}$ are also integer-valued at all integer feasible points. Therefore, we can apply the Gomory fractional cut to each basic row with a fractional RHS.\n\nFor a basic row written as $x_{B}+\\sum_{j}a_{Bj}x_{j}=b_{B}$, the Gomory fractional cut is\n$$\n\\sum_{j}\\left(a_{Bj}-\\left\\lfloor a_{Bj}\\right\\rfloor\\right)x_{j}\\geq b_{B}-\\left\\lfloor b_{B}\\right\\rfloor.\n$$\n\nCut from the $x_{1}$-row:\nRow: $x_{1}-\\frac{1}{11}s_{1}+\\frac{4}{11}s_{2}=\\frac{26}{11}$. Fractional parts are\n$$\nf\\left(-\\frac{1}{11}\\right)=\\frac{10}{11},\\quad f\\left(\\frac{4}{11}\\right)=\\frac{4}{11},\\quad f\\left(\\frac{26}{11}\\right)=\\frac{4}{11}.\n$$\nThus the cut is\n$$\n\\frac{10}{11}s_{1}+\\frac{4}{11}s_{2}\\geq\\frac{4}{11}\\quad\\Longleftrightarrow\\quad 10s_{1}+4s_{2}\\geq 4.\n$$\n\nCut from the $x_{2}$-row:\nRow: $x_{2}+\\frac{3}{11}s_{1}-\\frac{1}{11}s_{2}=\\frac{21}{11}$. Fractional parts are\n$$\nf\\left(\\frac{3}{11}\\right)=\\frac{3}{11},\\quad f\\left(-\\frac{1}{11}\\right)=\\frac{10}{11},\\quad f\\left(\\frac{21}{11}\\right)=\\frac{10}{11}.\n$$\nThus the cut is\n$$\n\\frac{3}{11}s_{1}+\\frac{10}{11}s_{2}\\geq\\frac{10}{11}\\quad\\Longleftrightarrow\\quad 3s_{1}+10s_{2}\\geq 10.\n$$\n\nTo compare depth via a single dual simplex pivot, we add each cut in inequality form and perform one dual simplex step.\n\nFor $10s_{1}+4s_{2}\\geq 4$, rewrite as $-10s_{1}-4s_{2}+s_{3}=-4$ with new slack $s_{3}\\geq 0$. The pivot row is $s_{3}$ with RHS $-4$. Eligible entering columns are those with negative coefficients in this row and positive coefficients in the $Z$-row, i.e., $s_{1}$ and $s_{2}$. Compute the dual ratios using the $Z$-row coefficients:\n$$\nr_{s_{1}}=\\frac{1}{10},\\quad r_{s_{2}}=\\frac{1}{4}.\n$$\nChoose $s_{1}$ (smaller ratio). Performing the pivot on $-10$ reduces the objective by $\\left(\\frac{4}{1}\\right)\\cdot\\frac{1}{10}=\\frac{2}{5}$, so $Z$ goes from $19$ to $19-\\frac{2}{5}=\\frac{93}{5}=18.6$.\n\nFor $3s_{1}+10s_{2}\\geq 10$, rewrite as $-3s_{1}-10s_{2}+s_{3}=-10$. Again the pivot row is $s_{3}$ with RHS $-10$; eligible entering columns are $s_{1}$ and $s_{2}$. The dual ratios are\n$$\nr_{s_{1}}=\\frac{1}{3},\\quad r_{s_{2}}=\\frac{1}{10}.\n$$\nChoose $s_{2}$ (smaller ratio). Pivoting on $-10$ reduces the objective by $\\left(\\frac{10}{1}\\right)\\cdot\\frac{1}{10}=1$, so $Z$ goes from $19$ to $18$.\n\nTherefore, the cut $3s_{1}+10s_{2}\\geq 10$ is deeper, and after one dual simplex pivot the new objective value is $Z=18$, which to three significant figures is $18.0$.", "answer": "$$\\boxed{\\begin{pmatrix}3 s_{1} + 10 s_{2} \\ge 10  18.0\\end{pmatrix}}$$", "id": "2211932"}]}