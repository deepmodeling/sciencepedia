{"hands_on_practices": [{"introduction": "Many real-world optimization challenges involve allocating a fixed budget to maximize an outcome, a principle found everywhere from economics to engineering. This first practice problem [@problem_id:2183845] presents a classic scenario: distributing a fixed power budget across a chip's components to maximize its overall performance. By solving this, you will master the fundamental technique of setting up a Lagrangian to find the optimal distribution when resources are limited, a cornerstone of constrained optimization.", "problem": "A technology company is designing a new processing chip. The total power budget for the chip is fixed at $P_{total} = 360$ watts. This power must be allocated entirely among three main subsystems: the Central Processing Unit (CPU), the Graphics Processing Unit (GPU), and the memory controller. Let $p_{cpu}$, $p_{gpu}$, and $p_{mem}$ be the power allocations in watts to the CPU, GPU, and memory controller, respectively. These allocations must be positive values.\n\nThe overall performance of the chip is quantified by an empirical metric, $M$, which is modeled as the product of the power allocations to the three subsystems: $M = p_{cpu} \\cdot p_{gpu} \\cdot p_{mem}$.\n\nThe company wants to determine the allocation of power that maximizes this performance metric. What is the maximum possible value of the performance metric $M$? Express your answer in units of watts-cubed ($W^3$) as a single real number.", "solution": "The problem asks us to maximize the performance metric function $M(p_{cpu}, p_{gpu}, p_{mem}) = p_{cpu} \\cdot p_{gpu} \\cdot p_{mem}$ subject to a constraint on the total power allocation. The constraint is that the sum of the power allocations must be equal to the total power budget, which can be written as the equation $p_{cpu} + p_{gpu} + p_{mem} = P_{total}$, where $P_{total} = 360$ W. Additionally, we are given that $p_{cpu} > 0$, $p_{gpu} > 0$, and $p_{mem} > 0$.\n\nThis is a constrained optimization problem that can be solved using the method of Lagrange multipliers. First, we define the objective function $f(p_{cpu}, p_{gpu}, p_{mem}) = p_{cpu} p_{gpu} p_{mem}$ and the constraint function $g(p_{cpu}, p_{gpu}, p_{mem}) = p_{cpu} + p_{gpu} + p_{mem} - P_{total} = 0$.\n\nThe Lagrangian function, $\\mathcal{L}$, is constructed as $\\mathcal{L} = f - \\lambda g$, where $\\lambda$ is the Lagrange multiplier:\n$$ \\mathcal{L}(p_{cpu}, p_{gpu}, p_{mem}, \\lambda) = p_{cpu} p_{gpu} p_{mem} - \\lambda(p_{cpu} + p_{gpu} + p_{mem} - P_{total}) $$\nTo find the candidate points for a maximum, we take the partial derivatives of $\\mathcal{L}$ with respect to each variable ($p_{cpu}, p_{gpu}, p_{mem}, \\lambda$) and set them to zero. This yields a system of four equations:\n\n1.  $\\frac{\\partial \\mathcal{L}}{\\partial p_{cpu}} = p_{gpu} p_{mem} - \\lambda = 0 \\implies \\lambda = p_{gpu} p_{mem}$\n2.  $\\frac{\\partial \\mathcal{L}}{\\partial p_{gpu}} = p_{cpu} p_{mem} - \\lambda = 0 \\implies \\lambda = p_{cpu} p_{mem}$\n3.  $\\frac{\\partial \\mathcal{L}}{\\partial p_{mem}} = p_{cpu} p_{gpu} - \\lambda = 0 \\implies \\lambda = p_{cpu} p_{gpu}$\n4.  $\\frac{\\partial \\mathcal{L}}{\\partial \\lambda} = -(p_{cpu} + p_{gpu} + p_{mem} - P_{total}) = 0 \\implies p_{cpu} + p_{gpu} + p_{mem} = P_{total}$\n\nFrom equations (1) and (2), we can equate the expressions for $\\lambda$:\n$p_{gpu} p_{mem} = p_{cpu} p_{mem}$\nSince the problem states that the power allocations must be positive, we know $p_{mem} > 0$. We can therefore divide both sides by $p_{mem}$ to get:\n$p_{gpu} = p_{cpu}$\n\nSimilarly, equating equations (2) and (3):\n$p_{cpu} p_{mem} = p_{cpu} p_{gpu}$\nSince $p_{cpu}$ must also be positive, we can divide by $p_{cpu}$ to get:\n$p_{mem} = p_{gpu}$\n\nCombining these results, we find that the power must be distributed equally among the three subsystems for the performance metric to be at an extremum:\n$p_{cpu} = p_{gpu} = p_{mem}$\n\nWe now use the constraint equation (4) to solve for the specific values of these allocations. Substituting the equality into the constraint:\n$p_{cpu} + p_{cpu} + p_{cpu} = P_{total}$\n$3 p_{cpu} = P_{total}$\n$p_{cpu} = \\frac{P_{total}}{3}$\n\nGiven that the total power budget is $P_{total} = 360$ W, the optimal allocation for each subsystem is:\n$p_{cpu} = p_{gpu} = p_{mem} = \\frac{360}{3} = 120 \\text{ W}$\n\nThe problem asks for the maximum possible value of the performance metric, $M$. We find this by substituting the optimal power values back into the expression for $M$:\n$M_{max} = (120) \\cdot (120) \\cdot (120) = 120^3$\n\nFinally, we calculate the numerical value:\n$M_{max} = 1,728,000$\n\nThus, the maximum possible value of the performance metric $M$ is $1,728,000$ W$^3$. This solution corresponds to a maximum because the objective function $M$ is positive within the feasible region but goes to zero on its boundary (where any allocation is zero), and we have found the only critical point within the region.", "answer": "$$\\boxed{1728000}$$", "id": "2183845"}, {"introduction": "Understanding a material's limits is critical in engineering, and this often means finding the maximum stress it can experience under a load. This exercise [@problem_id:2183834] delves into continuum mechanics to determine a material's principal stresses, which are the extreme values of normal stress at a point. You will use Lagrange multipliers to optimize a function on a circular constraint, uncovering a powerful and elegant connection between this mathematical method and the physical concept of eigenvalues in stress analysis.", "problem": "In the field of continuum mechanics, the stress state at a point within a material is characterized by a stress tensor. For a two-dimensional (plane stress) problem, the stress tensor components at a particular point on a thin plate are given as $\\sigma_{xx} = 80.0$ Megapascals (MPa), $\\sigma_{yy} = 20.0$ MPa, and $\\sigma_{xy} = -30.0$ MPa.\n\nThe normal stress, $\\sigma_n$, on a plane passing through this point depends on the orientation of the plane, which can be defined by a unit normal vector $\\mathbf{n}$ with components $(n_x, n_y)$. The value of the normal stress is given by the formula:\n$$ \\sigma_n = \\sigma_{xx} n_x^2 + \\sigma_{yy} n_y^2 + 2 \\sigma_{xy} n_x n_y $$\nSince $\\mathbf{n}$ is a unit vector, its components must satisfy the condition $n_x^2 + n_y^2 = 1$.\n\nThe extreme values of $\\sigma_n$ over all possible orientations are known as the principal stresses. Determine the maximum principal stress, $\\sigma_\\text{max}$, and the minimum principal stress, $\\sigma_\\text{min}$.\n\nExpress your answers in MPa, rounded to three significant figures. Present the two values, $\\sigma_\\text{max}$ and $\\sigma_\\text{min}$, in this order, as a row matrix.", "solution": "The extrema of the normal stress on planes through a point are the principal stresses, which are the eigenvalues of the in-plane stress tensor. For a unit normal $\\mathbf{n}$, the normal stress is $\\sigma_{n}=\\mathbf{n}^{T}\\boldsymbol{\\sigma}\\mathbf{n}$ with the constraint $\\mathbf{n}^{T}\\mathbf{n}=1$. Introducing a Lagrange multiplier $\\lambda$ for this constraint, define $L(\\mathbf{n},\\lambda)=\\mathbf{n}^{T}\\boldsymbol{\\sigma}\\mathbf{n}-\\lambda(\\mathbf{n}^{T}\\mathbf{n}-1)$. Stationarity with respect to $\\mathbf{n}$ gives\n$$\n\\frac{\\partial L}{\\partial \\mathbf{n}}=2\\boldsymbol{\\sigma}\\mathbf{n}-2\\lambda \\mathbf{n}=\\mathbf{0}\\quad\\Rightarrow\\quad (\\boldsymbol{\\sigma}-\\lambda \\mathbf{I})\\mathbf{n}=\\mathbf{0},\n$$\nso nontrivial solutions require\n$$\n\\det(\\boldsymbol{\\sigma}-\\lambda \\mathbf{I})=0.\n$$\nFor the given plane stress tensor with components $\\sigma_{xx}$, $\\sigma_{yy}$, and $\\sigma_{xy}$,\n$$\n\\det\\begin{pmatrix}\\sigma_{xx}-\\lambda & \\sigma_{xy}\\\\ \\sigma_{xy} & \\sigma_{yy}-\\lambda\\end{pmatrix}=(\\sigma_{xx}-\\lambda)(\\sigma_{yy}-\\lambda)-\\sigma_{xy}^{2}=0,\n$$\nwhich expands to\n$$\n\\lambda^{2}-(\\sigma_{xx}+\\sigma_{yy})\\lambda+(\\sigma_{xx}\\sigma_{yy}-\\sigma_{xy}^{2})=0.\n$$\nThe roots (principal stresses) are\n$$\n\\lambda=\\frac{\\sigma_{xx}+\\sigma_{yy}}{2}\\pm \\sqrt{\\left(\\frac{\\sigma_{xx}-\\sigma_{yy}}{2}\\right)^{2}+\\sigma_{xy}^{2}}.\n$$\nSubstituting $\\sigma_{xx}=80.0$, $\\sigma_{yy}=20.0$, and $\\sigma_{xy}=-30.0$ (in MPa),\n$$\n\\frac{\\sigma_{xx}+\\sigma_{yy}}{2}=50.0,\\qquad \\left(\\frac{\\sigma_{xx}-\\sigma_{yy}}{2}\\right)^{2}=30^{2}=900,\\qquad \\sigma_{xy}^{2}=900,\n$$\nso\n$$\n\\sqrt{\\left(\\frac{\\sigma_{xx}-\\sigma_{yy}}{2}\\right)^{2}+\\sigma_{xy}^{2}}=\\sqrt{1800}=30\\sqrt{2}.\n$$\nTherefore,\n$$\n\\sigma_{\\max}=50+30\\sqrt{2},\\qquad \\sigma_{\\min}=50-30\\sqrt{2}.\n$$\nNumerically (in MPa) to three significant figures,\n$$\n\\sigma_{\\max}\\approx 92.4,\\qquad \\sigma_{\\min}\\approx 7.57.\n$$", "answer": "$$\\boxed{\\begin{pmatrix} 92.4 & 7.57 \\end{pmatrix}}$$", "id": "2183834"}, {"introduction": "In statistics and machine learning, we often need to refine our models as new information becomes available. This advanced problem [@problem_id:2183898] challenges you to find a new probability distribution that incorporates new statistical evidence—a specific mean and variance—while deviating as little as possible from an initial assumption. This practice demonstrates the power and versatility of Lagrange multipliers for solving complex problems with multiple constraints, a common and important task in modern data science.", "problem": "A data scientist is modeling user preferences for a product that is available in five distinct packages. These packages are scored on a numerical scale, with the possible scores being the set of values $\\{x_1, x_2, x_3, x_4, x_5\\} = \\{-2, -1, 0, 1, 2\\}$. Initially, in the absence of any data, the data scientist assumes that each package is equally likely to be preferred, which corresponds to a discrete uniform probability distribution $q_i = 1/5$ for each score $x_i$.\n\nA new market survey provides crucial information about the user base. The survey results establish that the mean score of the preferred packages is $\\mu_0 = 0.5$ and the variance of the scores is $\\sigma_0^2 = 1.5$.\n\nTo update the model, the data scientist decides to find a new probability distribution $P = \\{p_1, p_2, p_3, p_4, p_5\\}$ that satisfies the experimentally determined mean and variance, while being as close as possible to the original uniform distribution assumption. The \"closeness\" is measured by minimizing the squared Euclidean distance between the new distribution $P$ and the uniform distribution $Q = \\{q_1, ..., q_5\\}$, which is given by the objective function $D(P, Q) = \\sum_{i=1}^{5} (p_i - q_i)^2$.\n\nYour task is to determine the updated probability, $p_1$, that a randomly selected user prefers the package with the score $x_1 = -2$. Round your final answer to three significant figures.", "solution": "We minimize the squared Euclidean distance to the uniform prior subject to the mean and variance constraints on the discrete support $\\{-2,-1,0,1,2\\}$. Let $x_{i}\\in\\{-2,-1,0,1,2\\}$ and $q_{i}=1/5$. The constraints are:\n$$\n\\sum_{i=1}^{5} p_{i} = 1,\\qquad \\sum_{i=1}^{5} x_{i} p_{i} = \\mu_{0} = \\frac{1}{2},\\qquad \\sum_{i=1}^{5} x_{i}^{2} p_{i} = \\sigma_{0}^{2} + \\mu_{0}^{2} = \\frac{3}{2} + \\frac{1}{4} = \\frac{7}{4}.\n$$\nSet up the Lagrangian for minimizing $D(P,Q) = \\sum_{i=1}^{5} (p_{i} - \\frac{1}{5})^{2}$ with multipliers $\\lambda_{0},\\lambda_{1},\\lambda_{2}$:\n$$\n\\mathcal{L} = \\sum_{i=1}^{5} \\left(p_{i} - \\frac{1}{5}\\right)^{2} + \\lambda_{0}\\left(\\sum_{i=1}^{5} p_{i} - 1\\right) + \\lambda_{1}\\left(\\sum_{i=1}^{5} x_{i} p_{i} - \\frac{1}{2}\\right) + \\lambda_{2}\\left(\\sum_{i=1}^{5} x_{i}^{2} p_{i} - \\frac{7}{4}\\right).\n$$\nFirst-order optimality with respect to $p_{i}$ gives\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial p_{i}} = 2\\left(p_{i} - \\frac{1}{5}\\right) + \\lambda_{0} + \\lambda_{1} x_{i} + \\lambda_{2} x_{i}^{2} = 0,\n$$\nso\n$$\np_{i} = \\frac{1}{5} - \\frac{1}{2}\\left(\\lambda_{0} + \\lambda_{1} x_{i} + \\lambda_{2} x_{i}^{2}\\right).\n$$\nWe now determine $\\lambda_{0},\\lambda_{1},\\lambda_{2}$ using the constraints and the sums over $\\{-2,-1,0,1,2\\}$:\n$$\n\\sum_{i=1}^{5} 1 = 5,\\quad \\sum_{i=1}^{5} x_{i} = 0,\\quad \\sum_{i=1}^{5} x_{i}^{2} = 10,\\quad \\sum_{i=1}^{5} x_{i}^{3} = 0,\\quad \\sum_{i=1}^{5} x_{i}^{4} = 34.\n$$\nApplying $\\sum p_{i} = 1$:\n$$\n\\sum_{i=1}^{5} p_{i} = \\sum_{i=1}^{5} \\frac{1}{5} - \\frac{1}{2}\\left(5\\lambda_{0} + \\lambda_{1}\\sum x_{i} + \\lambda_{2}\\sum x_{i}^{2}\\right) = 1 - \\frac{1}{2}\\left(5\\lambda_{0} + 0 + 10\\lambda_{2}\\right) = 1,\n$$\nwhich yields\n$$\n5\\lambda_{0} + 10\\lambda_{2} = 0.\n$$\nApplying $\\sum x_{i} p_{i} = \\frac{1}{2}$:\n$$\n\\sum_{i=1}^{5} x_{i} p_{i} = \\sum_{i=1}^{5} x_{i}\\cdot \\frac{1}{5} - \\frac{1}{2}\\left(\\lambda_{0}\\sum x_{i} + \\lambda_{1}\\sum x_{i}^{2} + \\lambda_{2}\\sum x_{i}^{3}\\right) = 0 - \\frac{1}{2}\\left(0 + 10\\lambda_{1} + 0\\right) = \\frac{1}{2},\n$$\nso\n$$\n-5\\lambda_{1} = \\frac{1}{2}\\quad\\Rightarrow\\quad \\lambda_{1} = -\\frac{1}{10}.\n$$\nApplying $\\sum x_{i}^{2} p_{i} = \\frac{7}{4}$:\n$$\n\\sum_{i=1}^{5} x_{i}^{2} p_{i} = \\sum_{i=1}^{5} x_{i}^{2}\\cdot \\frac{1}{5} - \\frac{1}{2}\\left(\\lambda_{0}\\sum x_{i}^{2} + \\lambda_{1}\\sum x_{i}^{3} + \\lambda_{2}\\sum x_{i}^{4}\\right) = 2 - \\frac{1}{2}\\left(10\\lambda_{0} + 0 + 34\\lambda_{2}\\right) = \\frac{7}{4},\n$$\nhence\n$$\n10\\lambda_{0} + 34\\lambda_{2} = \\frac{1}{2}.\n$$\nTogether with $5\\lambda_{0} + 10\\lambda_{2} = 0$, we solve for $\\lambda_{0},\\lambda_{2}$. From $5\\lambda_{0} + 10\\lambda_{2} = 0$ we get $\\lambda_{0} = -2\\lambda_{2}$. Substituting into $10\\lambda_{0} + 34\\lambda_{2} = \\frac{1}{2}$ gives\n$$\n10(-2\\lambda_{2}) + 34\\lambda_{2} = \\frac{1}{2}\\quad\\Rightarrow\\quad 14\\lambda_{2} = \\frac{1}{2}\\quad\\Rightarrow\\quad \\lambda_{2} = \\frac{1}{28},\\quad \\lambda_{0} = -\\frac{1}{14}.\n$$\nTherefore\n$$\np_{i} = \\frac{1}{5} - \\frac{1}{2}\\left(-\\frac{1}{14} - \\frac{1}{10}x_{i} + \\frac{1}{28}x_{i}^{2}\\right) = \\frac{1}{5} + \\frac{1}{28} + \\frac{1}{20}x_{i} - \\frac{1}{56}x_{i}^{2}.\n$$\nFor $x_{1} = -2$,\n$$\np_{1} = \\frac{1}{5} + \\frac{1}{28} + \\frac{1}{20}(-2) - \\frac{1}{56}(-2)^{2} = \\frac{1}{5} + \\frac{1}{28} - \\frac{1}{10} - \\frac{1}{14} = \\frac{9}{140}.\n$$\nThus $p_{1} = \\frac{9}{140} \\approx 0.0642857\\ldots$, which rounds to three significant figures as $0.0643$.", "answer": "$$\\boxed{0.0643}$$", "id": "2183898"}]}