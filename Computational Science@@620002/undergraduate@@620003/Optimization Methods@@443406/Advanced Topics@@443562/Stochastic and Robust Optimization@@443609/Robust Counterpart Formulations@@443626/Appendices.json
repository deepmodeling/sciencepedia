{"hands_on_practices": [{"introduction": "The most intuitive way to understand robust optimization is through simple interval uncertainty, where a parameter is only known to fall within a range. This problem applies this concept to project scheduling, a familiar context where an activity's duration is uncertain [@problem_id:3173524]. By determining the robust constraint, you will practice the fundamental \"worst-case\" thinking that forms the bedrock of robust optimization, translating an uncertain problem into a definitive, solvable one.", "problem": "Consider a single-activity precedence relation in a project schedule, from activity $i$ to activity $j$, modeled by the deterministic constraint $S_{j} \\ge S_{i} + d_{ij}$, where $S_{i}$ and $S_{j}$ denote the planned start times of activities $i$ and $j$, respectively, and $d_{ij}$ is the activity duration along the precedence arc $(i,j)$. In the presence of uncertainty, suppose the true duration is a function $d_{ij}(u)$ of an uncertainty realization $u$, and that the planner only knows $d_{ij}(u)$ lies within the interval $[\\underline{d}_{ij}, \\overline{d}_{ij}]$. The planner uses a nominal duration $d_{ij}^{\\text{nom}}$ in the baseline schedule and seeks a robust counterpart formulation that ensures feasibility for all realizations of $u$ consistent with the interval.\n\nStarting from the foundational definition of robust counterpart formulations in Robust Optimization (RO)—that is, replacing a constraint involving uncertain parameters by its requirement to hold for all realizations in a specified uncertainty set—derive the robust precedence constraint for $S_{j} \\ge S_{i} + d_{ij}(u)$ under interval uncertainty. Show how this results in adding a worst-case slack to the nominal precedence constraint $S_{j} \\ge S_{i} + d_{ij}^{\\text{nom}}$.\n\nAssume the following data for this precedence arc:\n- Nominal duration $d_{ij}^{\\text{nom}} = 6$ days.\n- Interval bounds $\\underline{d}_{ij} = 5$ days and $\\overline{d}_{ij} = 8$ days.\n\nCompute the numerical value of the worst-case slack that must be added to the nominal constraint to obtain the robust counterpart that is guaranteed feasible for all $u$ in the interval. Express your final slack value in days. The final answer must be a single real-valued number. No rounding is required.", "solution": "The problem is first validated to ensure it is scientifically grounded, well-posed, and objective.\n\n### Step 1: Extract Givens\n-   Deterministic precedence constraint: $S_{j} \\ge S_{i} + d_{ij}$.\n-   Variables: $S_{i}$ and $S_{j}$ are the planned start times of activities $i$ and $j$.\n-   Uncertain parameter: The true duration is a function $d_{ij}(u)$.\n-   Uncertainty set: The duration $d_{ij}(u)$ belongs to the interval $[\\underline{d}_{ij}, \\overline{d}_{ij}]$.\n-   Nominal duration: $d_{ij}^{\\text{nom}}$.\n-   Nominal constraint: $S_{j} \\ge S_{i} + d_{ij}^{\\text{nom}}$.\n-   Numerical data: $d_{ij}^{\\text{nom}} = 6$ days, $\\underline{d}_{ij} = 5$ days, and $\\overline{d}_{ij} = 8$ days.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is rooted in the established field of Robust Optimization (RO) and its application to project scheduling, a standard and well-understood topic. It presents a linear constraint with interval uncertainty, a classic case in RO. The terminology used, such as \"robust counterpart\" and \"uncertainty set,\" is precise and conforms to the standards of the field. The provided data is complete and consistent, allowing for a unique and meaningful solution. The question is clear and formalizable. Therefore, a solution will be derived.\n\n### Solution Derivation\nThe core principle of robust optimization is to ensure that a constraint holds for all possible realizations of the uncertain parameters within a specified uncertainty set. The original uncertain constraint is:\n$$S_{j} \\ge S_{i} + d_{ij}(u)$$\nThe uncertainty for the duration $d_{ij}(u)$ is defined by the interval set $\\mathcal{U}$, such that $d_{ij}(u) \\in [\\underline{d}_{ij}, \\overline{d}_{ij}]$.\n\nTo form the robust counterpart, we must enforce the constraint for every possible value of $d_{ij}(u)$ in this interval. This can be expressed as:\n$$S_{j} \\ge S_{i} + d_{ij}(u), \\quad \\forall d_{ij}(u) \\in [\\underline{d}_{ij}, \\overline{d}_{ij}]$$\nThe decision variables are the start times $S_{i}$ and $S_{j}$, which must be chosen before the actual duration $d_{ij}(u)$ is revealed. To satisfy the inequality for all possible $d_{ij}(u)$, the left-hand side, $S_{j} - S_{i}$, must be greater than or equal to the largest possible value that the right-hand side, $d_{ij}(u)$, can take. This represents the worst-case scenario for this precedence constraint.\n\nMathematically, we must satisfy:\n$$S_{j} - S_{i} \\ge \\max_{d_{ij}(u) \\in [\\underline{d}_{ij}, \\overline{d}_{ij}]} \\{d_{ij}(u)\\}$$\nFor the given interval uncertainty, the maximum value that the duration $d_{ij}(u)$ can attain is its upper bound, $\\overline{d}_{ij}$.\n$$\\max_{d_{ij}(u) \\in [\\underline{d}_{ij}, \\overline{d}_{ij}]} \\{d_{ij}(u)\\} = \\overline{d}_{ij}$$\nSubstituting this worst-case value back into the constraint gives the robust counterpart:\n$$S_{j} \\ge S_{i} + \\overline{d}_{ij}$$\nThis new constraint is deterministic and guarantees that the precedence relation will be satisfied no matter which value the duration $d_{ij}(u)$ takes within its specified interval.\n\nThe problem asks to express this robust constraint as the nominal constraint plus a worst-case slack. The nominal constraint is given as:\n$$S_{j} \\ge S_{i} + d_{ij}^{\\text{nom}}$$\nTo find the slack, we can rewrite the robust counterpart by adding and subtracting the nominal duration $d_{ij}^{\\text{nom}}$ on the right-hand side:\n$$S_{j} \\ge S_{i} + d_{ij}^{\\text{nom}} + (\\overline{d}_{ij} - d_{ij}^{\\text{nom}})$$\nBy comparing this to the form $S_{j} \\ge S_{i} + d_{ij}^{\\text{nom}} + \\text{slack}$, we can identify the worst-case slack as:\n$$\\text{slack} = \\overline{d}_{ij} - d_{ij}^{\\text{nom}}$$\nThis slack represents the additional time buffer that must be added to the nominal duration to protect the schedule against the worst-case delay.\n\nNow, we compute the numerical value of this slack using the provided data:\n-   Nominal duration: $d_{ij}^{\\text{nom}} = 6$ days.\n-   Upper bound of interval: $\\overline{d}_{ij} = 8$ days.\n\nThe worst-case slack is calculated as:\n$$\\text{slack} = 8 - 6 = 2$$\nThus, a slack of $2$ days must be added to the nominal precedence constraint to ensure robustness against all possible duration realizations in the interval $[5, 8]$. The robust constraint is numerically $S_j \\ge S_i + 8$, which is equivalent to $S_j \\ge S_i + 6 + 2$.", "answer": "$$\n\\boxed{2}\n$$", "id": "3173524"}, {"introduction": "Moving beyond simple intervals, this practice explores a more structured and powerful way to model uncertainty using vector norms [@problem_id:3173436]. You will derive the robust counterpart for a linear constraint where perturbations are contained within an $\\ell_{\\infty}$-norm ball, a common scenario in data-driven problems. This exercise is fundamental as it demonstrates the crucial role of dual norms—in this case, the relationship between the $\\ell_{\\infty}$ and $\\ell_1$ norms—in converting an infinite number of constraints into a single, tractable formulation.", "problem": "Consider a single linear inequality constraint subject to coefficient uncertainty in robust optimization (RO). Let $n \\in \\mathbb{N}$, $x \\in \\mathbb{R}^{n}$ be the decision vector, and $b \\in \\mathbb{R}$ be a given bound. The uncertain coefficient vector $a(\\xi) \\in \\mathbb{R}^{n}$ is multiplicatively perturbed from a nominal baseline $\\bar{a} \\in \\mathbb{R}^{n}$ with componentwise nonnegativity $\\bar{a}_{i} \\ge 0$ for all $i \\in \\{1,\\dots,n\\}$, according to the rule $a(\\xi) = \\bar{a} \\circ (1 + \\xi)$, where $\\circ$ denotes the Hadamard (componentwise) product, and $\\xi \\in \\mathbb{R}^{n}$ is an unknown perturbation vector lying in the closed $\\ell_{\\infty}$-norm ball of radius $\\delta \\in \\mathbb{R}$ with $\\delta \\ge 0$, that is $\\|\\xi\\|_{\\infty} \\le \\delta$. Robust feasibility of the inequality $a(\\xi)^{\\top} x \\le b$ means that it holds for all $\\xi$ in the specified uncertainty set.\n\nStarting from the definition of robust feasibility and the description of the uncertainty set, derive the exact worst-case (largest) value of $a(\\xi)^{\\top} x$ over all $\\xi$ satisfying $\\|\\xi\\|_{\\infty} \\le \\delta$, expressed in closed form in terms of $x$, $\\bar{a}$, and $\\delta$. Your final answer must be a single closed-form analytical expression for $\\sup_{\\|\\xi\\|_{\\infty} \\le \\delta} a(\\xi)^{\\top} x$. No numerical evaluation is required.", "solution": "The problem is mathematically well-defined and internally consistent, allowing for a direct derivation of the requested quantity. The task is to find the supremum of the linear function $a(\\xi)^{\\top} x$ over the uncertainty set for the perturbation vector $\\xi$. The uncertainty set is defined as the closed $\\ell_{\\infty}$-norm ball of radius $\\delta$.\n\nThe objective is to compute the value of the expression:\n$$\n\\sup_{\\|\\xi\\|_{\\infty} \\le \\delta} a(\\xi)^{\\top} x\n$$\n\nFirst, we substitute the given definition of the uncertain coefficient vector $a(\\xi) = \\bar{a} \\circ (1 + \\xi)$ into the expression. The symbol $\\circ$ represents the Hadamard (componentwise) product. The $i$-th component of $a(\\xi)$ is thus given by $a_i(\\xi) = \\bar{a}_i(1 + \\xi_i)$ for $i \\in \\{1, \\dots, n\\}$.\n\nThe scalar product $a(\\xi)^{\\top} x$ can be written as a sum over the components:\n$$\na(\\xi)^{\\top} x = \\sum_{i=1}^{n} a_i(\\xi) x_i = \\sum_{i=1}^{n} \\bar{a}_i (1 + \\xi_i) x_i\n$$\n\nWe can expand this sum and separate the terms that depend on $\\xi$ from those that do not:\n$$\n\\sum_{i=1}^{n} \\bar{a}_i (1 + \\xi_i) x_i = \\sum_{i=1}^{n} (\\bar{a}_i x_i + \\bar{a}_i \\xi_i x_i) = \\left(\\sum_{i=1}^{n} \\bar{a}_i x_i\\right) + \\left(\\sum_{i=1}^{n} \\bar{a}_i x_i \\xi_i\\right)\n$$\nThe first term, $\\sum_{i=1}^{n} \\bar{a}_i x_i$, is simply the nominal value $\\bar{a}^{\\top} x$, which is constant with respect to $\\xi$.\n\nThe maximization problem can now be rewritten as:\n$$\n\\sup_{\\|\\xi\\|_{\\infty} \\le \\delta} \\left( \\bar{a}^{\\top} x + \\sum_{i=1}^{n} \\bar{a}_i x_i \\xi_i \\right)\n$$\nSince $\\bar{a}^{\\top} x$ is a constant, it can be moved outside the supremum operator:\n$$\n\\bar{a}^{\\top} x + \\sup_{\\|\\xi\\|_{\\infty} \\le \\delta} \\left( \\sum_{i=1}^{n} \\bar{a}_i x_i \\xi_i \\right)\n$$\nThe remaining task is to solve the maximization problem $\\sup_{\\|\\xi\\|_{\\infty} \\le \\delta} \\sum_{i=1}^{n} \\bar{a}_i x_i \\xi_i$. The uncertainty set defined by $\\|\\xi\\|_{\\infty} \\le \\delta$ is equivalent to the set of componentwise constraints $|\\xi_i| \\le \\delta$ for all $i \\in \\{1, \\dots, n\\}$. This is equivalent to $-\\delta \\le \\xi_i \\le \\delta$ for all $i$.\n\nThe objective function of this subproblem, $\\sum_{i=1}^{n} \\bar{a}_i x_i \\xi_i$, is a sum of terms where each term involves only one component $\\xi_i$. The constraints on the variables $\\xi_i$ are also decoupled. Therefore, we can maximize the sum by maximizing each term independently:\n$$\n\\sup_{\\|\\xi\\|_{\\infty} \\le \\delta} \\left( \\sum_{i=1}^{n} \\bar{a}_i x_i \\xi_i \\right) = \\sum_{i=1}^{n} \\sup_{|\\xi_i| \\le \\delta} (\\bar{a}_i x_i \\xi_i)\n$$\nFor each $i \\in \\{1, \\dots, n\\}$, we need to maximize the linear function $f(\\xi_i) = (\\bar{a}_i x_i) \\xi_i$ over the interval $[-\\delta, \\delta]$. The maximum of a linear function over a closed interval is attained at one of its endpoints.\nLet $c_i = \\bar{a}_i x_i$. We want to maximize $c_i \\xi_i$ subject to $-\\delta \\le \\xi_i \\le \\delta$.\n- If $c_i > 0$, the maximum is achieved by choosing $\\xi_i$ to be its maximum possible value, which is $\\delta$. The maximized value is $c_i \\delta$.\n- If $c_i < 0$, the maximum is achieved by choosing $\\xi_i$ to be its minimum possible value, which is $-\\delta$. The maximized value is $c_i (-\\delta) = -c_i \\delta$.\n- If $c_i = 0$, the value is $0$ for any choice of $\\xi_i$.\n\nThese three cases can be unified using the absolute value function. The maximum value of $c_i \\xi_i$ is $|c_i| \\delta$.\nTherefore, $\\sup_{|\\xi_i| \\le \\delta} (\\bar{a}_i x_i \\xi_i) = |\\bar{a}_i x_i| \\delta$.\n\nThe problem states that $\\bar{a}_i \\ge 0$ for all $i$. This is a crucial piece of information. Since $\\bar{a}_i$ is non-negative, we can simplify the absolute value:\n$$\n|\\bar{a}_i x_i| = |\\bar{a}_i| |x_i| = \\bar{a}_i |x_i|\n$$\nSo, the maximum value for each term is $\\delta \\bar{a}_i |x_i|$.\n\nSumming these maximized terms over all $i$ gives:\n$$\n\\sum_{i=1}^{n} \\sup_{|\\xi_i| \\le \\delta} (\\bar{a}_i x_i \\xi_i) = \\sum_{i=1}^{n} \\delta \\bar{a}_i |x_i| = \\delta \\sum_{i=1}^{n} \\bar{a}_i |x_i|\n$$\nThis expression is the dual norm of the vector $(\\bar{a}_1 x_1, \\dots, \\bar{a}_n x_n)$ with respect to the $\\ell_{\\infty}$-norm, scaled by $\\delta$. The dual norm of the $\\ell_{\\infty}$-norm is the $\\ell_1$-norm.\n\nCombining this result with the constant nominal term, we obtain the final closed-form expression for the worst-case value of $a(\\xi)^{\\top} x$:\n$$\n\\sup_{\\|\\xi\\|_{\\infty} \\le \\delta} a(\\xi)^{\\top} x = \\bar{a}^{\\top} x + \\delta \\sum_{i=1}^{n} \\bar{a}_i |x_i|\n$$\nThis is the required analytical expression in terms of $x$, $\\bar{a}$, and $\\delta$.", "answer": "$$\n\\boxed{\\bar{a}^{\\top} x + \\delta \\sum_{i=1}^{n} \\bar{a}_i |x_i|}\n$$", "id": "3173436"}, {"introduction": "Static robust solutions can sometimes be overly conservative, as they fix all decisions \"here-and-now.\" This exercise introduces Adjustable Robust Optimization (ARO), a powerful extension where decisions can adapt as uncertainties unfold [@problem_id:3173429]. By formulating an affine decision rule for a reservoir management problem, you will learn how to create policies that are not only robustly feasible but also more flexible and efficient, reflecting a more realistic approach to decision-making under uncertainty.", "problem": "A single-reservoir operation is governed by the conservation of mass balance: for each time step $t$, the next storage $x_{t+1}$ satisfies $x_{t+1} = x_t + r_t - q_t$, where $x_t$ is the current storage, $r_t$ is the inflow realized during period $t$, and $q_t$ is the release decision during period $t$. Consider a one-period horizon ($t=1$) with an initial storage $x_1 = 60$ million cubic meters, a reservoir capacity $C = 100$ million cubic meters, and a maximum physically allowable release $Q_{\\max} = 40$ million cubic meters.\n\nThe inflow $r_1$ is uncertain and known only to belong to the interval uncertainty set $\\mathcal{U} = \\{ r_1 \\in \\mathbb{R} \\mid 5 \\le r_1 \\le 25 \\}$, expressed in million cubic meters. Under Adjustable Robust Optimization (ARO), the decision $q_1$ is allowed to depend on the realized inflow $r_1$, and we restrict $q_1$ to an Affinely Adjustable Robust (AAR) decision rule $q_1(r_1) = a + b\\, r_1$ for decision parameters $a$ and $b$.\n\nThe robust operating requirements are:\n- Physical release bounds: $0 \\le q_1(r_1) \\le Q_{\\max}$ for all $r_1 \\in \\mathcal{U}$.\n- Storage bounds: $0 \\le x_2(r_1) \\le C$ for all $r_1 \\in \\mathcal{U}$, where $x_2(r_1) = x_1 + r_1 - q_1(r_1)$.\n\nStarting from the conservation of mass and the definition of robust optimization (constraints must hold for all realizations in the uncertainty set), derive the adjustable robust counterpart constraints on $a$ and $b$ that ensure the above bounds hold for all $r_1 \\in \\mathcal{U}$.\n\nAmong all affine policies $q_1(r_1) = a + b\\, r_1$ that satisfy the robust counterpart constraints, determine the maximal guaranteed minimum end-of-period storage\n$$\\min_{r_1 \\in \\mathcal{U}} x_2(r_1),$$\nand provide its value. Express the final answer in million cubic meters. No intermediate formulas are provided; you must derive the robust constraints and solve the resulting optimization over $a$ and $b$. The final answer must be a single real number. No rounding is required.", "solution": "The problem is to find the optimal affine decision rule $q_1(r_1) = a + b r_1$ that maximizes the guaranteed minimum end-of-period storage, subject to operational constraints. The uncertain inflow $r_1$ is in the interval $\\mathcal{U} = [5, 25]$.\n\nFirst, we express the end-of-period storage $x_2(r_1)$ as a function of the uncertain inflow $r_1$:\n$$x_2(r_1) = x_1 + r_1 - q_1(r_1) = 60 + r_1 - (a + b r_1) = (60 - a) + (1 - b)r_1$$\nBoth the release $q_1(r_1)$ and the storage $x_2(r_1)$ are affine functions of $r_1$. Since an affine function over an interval attains its minimum and maximum at the endpoints, we only need to check the constraints at $r_1=5$ and $r_1=25$.\n\n**Step 1: Derive the Robust Counterpart Constraints**\n\nWe must enforce the operating requirements for all $r_1 \\in [5, 25]$.\n\n1.  **Physical release bounds:** $0 \\le q_1(r_1) \\le Q_{\\max}$\n    Given $q_1(r_1) = a+br_1$ and $Q_{\\max} = 40$, we require:\n    -   $a + 5b \\ge 0$ and $a + 25b \\ge 0$\n    -   $a + 5b \\le 40$ and $a + 25b \\le 40$\n\n2.  **Storage bounds:** $0 \\le x_2(r_1) \\le C$\n    Given $x_2(r_1) = (60-a) + (1-b)r_1$ and $C=100$, we require:\n    -   $x_2(5) = 65 - (a+5b) \\ge 0 \\implies a+5b \\le 65$\n    -   $x_2(25) = 85 - (a+25b) \\ge 0 \\implies a+25b \\le 85$\n    -   $x_2(5) = 65 - (a+5b) \\le 100 \\implies a+5b \\ge -35$\n    -   $x_2(25) = 85 - (a+25b) \\le 100 \\implies a+25b \\ge -15$\n\nCombining all inequalities, we find the tightest bounds on the linear expressions $a+5b$ and $a+25b$:\n$$ \\begin{cases} 0 \\le a + 5b \\le 40 \\\\ 0 \\le a + 25b \\le 40 \\end{cases} $$\nThese four inequalities form the feasible region for the policy parameters $(a,b)$.\n\n**Step 2: Solve the Maximin Optimization Problem**\n\nThe objective is to maximize the guaranteed minimum end-of-period storage:\n$$ \\max_{a,b} \\left( \\min_{r_1 \\in [5, 25]} x_2(r_1) \\right) $$\nThe inner minimum is $\\min \\{x_2(5), x_2(25)\\} = \\min \\{65 - (a+5b), 85 - (a+25b)\\}$.\n\nLet $u = a+5b$ and $v = a+25b$. The optimization problem can be rewritten in terms of $u$ and $v$:\n$$ \\max_{u,v} \\min \\{65 - u, 85 - v\\} $$\nSubject to the feasible region derived in Step 1:\n$$ \\begin{cases} 0 \\le u \\le 40 \\\\ 0 \\le v \\le 40 \\end{cases} $$\nTo maximize $\\min \\{65 - u, 85 - v\\}$, we must choose the smallest possible non-negative values for $u$ and $v$, which are $u=0$ and $v=0$. These values are within the feasible region.\n\nThe optimal value is therefore:\n$$ \\max z = \\min \\{65 - 0, 85 - 0\\} = \\min \\{65, 85\\} = 65 $$\nThis value is achievable with the policy where $a=0, b=0$ (i.e., $q_1(r_1)=0$), which is a valid policy according to our derived constraints.\nThe maximal guaranteed minimum end-of-period storage is 65 million cubic meters.", "answer": "$$\n\\boxed{65}\n$$", "id": "3173429"}]}