{"hands_on_practices": [{"introduction": "The heart of the Gomory cutting plane method lies in its ability to generate new constraints from the existing simplex tableau. This first practice focuses on that core mechanism [@problem_id:3133803]. By working with a single tableau row, you will use the principles of modular arithmetic and fractional parts to derive a valid Gomory cut from first principles, solidifying your understanding of how these powerful inequalities are born.", "problem": "Consider a pure Integer Linear Programming (ILP) problem in standard form, where all decision variables are required to be integers and nonnegative. Suppose the Linear Programming (LP) relaxation has been solved by the simplex method, yielding a current basis. Focus on a single tableau row for a basic variable, written in canonical form as\n$$\nx_{B} \\;=\\; b \\;-\\; a_{1}\\,x_{1} \\;-\\; a_{2}\\,x_{2} \\;-\\; a_{3}\\,x_{3},\n$$\nwith $x_{1}, x_{2}, x_{3} \\ge 0$ and $x_{1}, x_{2}, x_{3}$ also required to be integers in the ILP. The fundamental base for constructing a Gomory fractional cut is the definition of fractional parts and modular arithmetic: for any real number $t$, the fractional part is $\\{t\\} = t - \\lfloor t \\rfloor$, and congruence modulo $1$ satisfies $u \\equiv v \\;(\\mathrm{mod}\\;1)$ if and only if $u - v$ is an integer. For a row with a fractional right-hand side $b$, the integrality of $x_{B}$ implies a modular relationship that can be converted into a valid inequality (the Gomory fractional cut) involving the fractional parts of the tableau coefficients.\n\nGiven the specific row data\n$$\nb \\;=\\; 5.75, \n\\qquad \n(a_{1}, a_{2}, a_{3}) \\;=\\; (0.25,\\, 1.5,\\, 2.75),\n$$\nperform the following:\n- Compute the fractional parts $\\{b\\}$ and $\\{a_{j}\\}$ for $j \\in \\{1,2,3\\}$.\n- From first principles based on the integrality of $x_{B}$ and modular arithmetic, derive the corresponding Gomory fractional cut in terms of $x_{1}, x_{2}, x_{3}$.\n- Briefly interpret the cut coefficients using congruences modulo $1$.\nFinally, let $S$ denote the sum of the coefficients on the left-hand side of the derived Gomory fractional cut. What is the exact value of $S$? Provide your final answer as a single real number. No rounding is required.", "solution": "We begin from the canonical simplex tableau row\n$$\nx_{B} \\;=\\; b \\;-\\; a_{1}\\,x_{1} \\;-\\; a_{2}\\,x_{2} \\;-\\; a_{3}\\,x_{3},\n$$\nwhere $x_{1}, x_{2}, x_{3} \\ge 0$ and are required to be integers in the original Integer Linear Programming (ILP) problem. The construction of a Gomory fractional cut uses the following foundational ideas:\n1. The fractional part operator defined by $\\{t\\} = t - \\lfloor t \\rfloor$ for any real number $t$.\n2. The fact that if a number is an integer, then it is congruent to $0$ modulo $1$.\n3. Congruence modulo $1$ and the decomposition of real numbers into their integer and fractional parts.\n\nStep 1: Compute the fractional parts. With the provided data,\n$$\nb \\;=\\; 5.75, \n\\qquad \n(a_{1}, a_{2}, a_{3}) \\;=\\; (0.25,\\, 1.5,\\, 2.75).\n$$\nCompute\n$$\n\\{b\\} \\;=\\; 5.75 - \\lfloor 5.75 \\rfloor \\;=\\; 5.75 - 5 \\;=\\; 0.75,\n$$\n$$\n\\{a_{1}\\} \\;=\\; 0.25 - \\lfloor 0.25 \\rfloor \\;=\\; 0.25 - 0 \\;=\\; 0.25,\n$$\n$$\n\\{a_{2}\\} \\;=\\; 1.5 - \\lfloor 1.5 \\rfloor \\;=\\; 1.5 - 1 \\;=\\; 0.5,\n$$\n$$\n\\{a_{3}\\} \\;=\\; 2.75 - \\lfloor 2.75 \\rfloor \\;=\\; 2.75 - 2 \\;=\\; 0.75.\n$$\n\nStep 2: Derive the Gomory fractional cut from modular reasoning. Because $x_{B}$ must be an integer in the ILP, reduce the tableau row modulo $1$:\n$$\nx_{B} \\equiv b - a_{1}\\,x_{1} - a_{2}\\,x_{2} - a_{3}\\,x_{3} \\pmod{1}.\n$$\nSince $x_{B}$ is integer, $x_{B} \\equiv 0 \\pmod{1}$. Decompose each real into integer plus fractional part: $b = \\lfloor b \\rfloor + \\{b\\}$ and $a_{j} = \\lfloor a_{j} \\rfloor + \\{a_{j}\\}$. Using congruence modulo $1$ eliminates integer parts, yielding\n$$\n0 \\equiv \\{b\\} - \\{a_{1}\\}\\,x_{1} - \\{a_{2}\\}\\,x_{2} - \\{a_{3}\\}\\,x_{3} \\pmod{1}.\n$$\nEquivalently,\n$$\n\\{a_{1}\\}\\,x_{1} + \\{a_{2}\\}\\,x_{2} + \\{a_{3}\\}\\,x_{3} \\equiv \\{b\\} \\pmod{1}.\n$$\nBecause $x_{1}, x_{2}, x_{3}$ are nonnegative integers, the left-hand side is a nonnegative real number. A standard argument (Gomory fractional cutting plane) converts this congruence into a valid inequality for all integer feasible $(x_{1},x_{2},x_{3})$:\n$$\n\\{a_{1}\\}\\,x_{1} + \\{a_{2}\\}\\,x_{2} + \\{a_{3}\\}\\,x_{3} \\;\\ge\\; \\{b\\}.\n$$\nSubstituting the computed fractional parts produces the explicit cut\n$$\n0.25\\,x_{1} \\;+\\; 0.5\\,x_{2} \\;+\\; 0.75\\,x_{3} \\;\\ge\\; 0.75.\n$$\n\nStep 3: Interpret the coefficients modulo $1$. The coefficients on the left-hand side are precisely the residues modulo $1$ of the tableau coefficients $(a_{1}, a_{2}, a_{3})$, that is,\n$$\na_{j} \\equiv \\{a_{j}\\} \\pmod{1},\n$$\nand the right-hand side is the residue modulo $1$ of $b$:\n$$\nb \\equiv \\{b\\} \\pmod{1}.\n$$\nThe integrality of $x_{B}$ forces the congruence\n$$\n\\sum_{j=1}^{3} \\{a_{j}\\}\\,x_{j} \\equiv \\{b\\} \\pmod{1},\n$$\nand among all nonnegative integer tuples $(x_{1},x_{2},x_{3})$ satisfying the original row, this congruence implies the valid inequality\n$$\n\\sum_{j=1}^{3} \\{a_{j}\\}\\,x_{j} \\;\\ge\\; \\{b\\}.\n$$\n\nFinally, let $S$ denote the sum of the left-hand side coefficients of the derived Gomory fractional cut:\n$$\nS \\;=\\; \\{a_{1}\\} + \\{a_{2}\\} + \\{a_{3}\\} \\;=\\; 0.25 + 0.5 + 0.75 \\;=\\; 1.5.\n$$\nThus, the exact value of $S$ is $1.5$.", "answer": "$$\\boxed{1.5}$$", "id": "3133803"}, {"introduction": "After finding a fractional optimal solution, a natural first thought is to simply round the results. This exercise [@problem_id:3133755] directly confronts this intuition by comparing naive rounding heuristics with the systematic approach of Gomory cuts. You will see firsthand how rounding can lead to infeasible or suboptimal outcomes, and how a single, properly derived cut provides a mathematically sound path toward the true integer optimum.", "problem": "Consider the following Integer Linear Programming (ILP) model for a small resource allocation problem with two decision variables that must take integer values:\nMaximize $z = 3 x_1 + 2 x_2$\nsubject to\n$2 x_1 + x_2 \\le 4$,\n$-x_1 + 2 x_2 \\le 2$,\n$x_1 \\ge 0$, $x_2 \\ge 0$, $x_1, x_2 \\in \\mathbb{Z}$.\nYou will compare a simple heuristic rounding strategy applied to the Linear Programming (LP) relaxation with a single Gomory fractional cut derived at the LP optimum, and then propose a hybrid approach that reconciles differences between the two.\n\nTasks:\n- Relax integrality to obtain the LP relaxation, and solve it to obtain the optimal basic feasible solution. Record the objective value and whether the solution is fractional.\n- Apply the naive nearest-integer rounding independently to $x_1$ and $x_2$. Check feasibility and compute the objective value. Also consider the floor rounding (rounding both components down to the nearest integer) and record its feasibility and objective value.\n- From the optimal LP tableau, consider the row corresponding to a fractional basic variable and derive a single Gomory fractional cut (Gomory cuts are valid inequalities derived from the fractional parts of a tableau row for a basic variable that is required to be integer, intended to cut off the current fractional solution without removing any integer feasible solution). Express the cut in terms of the original variables $x_1$ and $x_2$, and briefly indicate how it tightens the LP relaxation.\n- Determine the optimal ILP solution by inspection or enumeration and compare it with the heuristic rounding outcome and the effect of the Gomory cut.\n\nWhich option best describes the outcomes and proposes a reasonable hybrid method to reconcile differences?\n\nA. Nearest-integer rounding produces $(1, 2)$, which is infeasible; floor rounding gives $(1, 1)$ with objective $z = 5$. A Gomory fractional cut derived from the $x_2$-row at the LP optimum simplifies to $x_2 \\le 1$, which eliminates the fractional LP optimum and tightens the relaxation toward the true ILP optimum $(2, 0)$ with $z = 6$. A reasonable hybrid is: add one Gomory fractional cut, re-solve the LP relaxation, then apply a feasibility-preserving rounding or local repair restricted by the added cut(s).\n\nB. Nearest-integer rounding produces $(1, 2)$, which is feasible and attains $z = 7$. The first Gomory cut is $x_1 \\le 1.5$ and it removes the true ILP optimum $(2, 0)$; therefore rounding dominates. A good hybrid is to rely solely on nearest-integer rounding and discard cuts.\n\nC. Floor rounding from the LP optimum always recovers the ILP optimum on this instance, namely $(2, 0)$ with $z = 6$, so the cut is unnecessary. A good hybrid is to ignore cuts and use floor rounding.\n\nD. A Gomory cut from the $x_2$-row is $x_1 + x_2 \\le 3$, which invalidates some integer feasible points including $(2, 0)$, showing that cuts may remove valid solutions; therefore, rounding is more reliable than cuts. A good hybrid is to apply rounding first and never add cuts.", "solution": "The user wants me to analyze an Integer Linear Programming (ILP) problem, compare heuristic rounding with the Gomory cut method, and evaluate given options.\n\n### Problem Validation\n\n**Step 1: Extract Givens**\n\nThe ILP model is given as:\nMaximize $z = 3 x_1 + 2 x_2$\nSubject to:\n1.  $2 x_1 + x_2 \\le 4$\n2.  $-x_1 + 2 x_2 \\le 2$\n3.  $x_1 \\ge 0$, $x_2 \\ge 0$\n4.  $x_1, x_2 \\in \\mathbb{Z}$ (integers)\n\nThe tasks are:\n1.  Solve the Linear Programming (LP) relaxation.\n2.  Apply nearest-integer and floor rounding to the LP solution.\n3.  Derive a Gomory fractional cut from the optimal LP tableau.\n4.  Determine the optimal ILP solution and compare results.\n\n**Step 2: Validate Using Extracted Givens**\n\nThe problem statement is a standard exercise in the field of integer programming, a subfield of optimization methods.\n-   **Scientifically Grounded**: The problem is based on well-established mathematical principles of linear and integer programming. All concepts (LP relaxation, rounding, Gomory cuts) are standard in the field.\n-   **Well-Posed**: The problem has a bounded feasible region and a linear objective function, ensuring that an optimal solution exists for both the LP relaxation and the ILP. The instructions are clear and lead to a unique set of results for analysis.\n-   **Objective**: The language is precise and mathematical, with no subjective or ambiguous terminology.\n\nThe problem is valid. It is a well-defined, self-contained, and standard academic problem in optimization.\n\n### Solution Derivation\n\n**Task 1: Solve the LP Relaxation**\n\nWe relax the integrality constraint $x_1, x_2 \\in \\mathbb{Z}$ to $x_1, x_2 \\ge 0$. The LP relaxation is:\nMaximize $z = 3 x_1 + 2 x_2$\nSubject to:\n$2 x_1 + x_2 \\le 4$\n$-x_1 + 2 x_2 \\le 2$\n$x_1 \\ge 0$, $x_2 \\ge 0$\n\nThe optimal solution to an LP occurs at a vertex of the feasible region. The vertices are at the intersections of the constraint boundaries:\n-   $(0, 0)$: $z = 3(0) + 2(0) = 0$.\n-   Intersection of $x_1 = 0$ and $-x_1 + 2 x_2 = 2$: $(0, 1)$, $z = 3(0) + 2(1) = 2$.\n-   Intersection of $x_2 = 0$ and $2 x_1 + x_2 = 4$: $(2, 0)$, $z = 3(2) + 2(0) = 6$.\n-   Intersection of $2 x_1 + x_2 = 4$ and $-x_1 + 2 x_2 = 2$:\n    -   From the first equation, $x_2 = 4 - 2x_1$.\n    -   Substituting into the second: $-x_1 + 2(4 - 2x_1) = 2 \\implies -x_1 + 8 - 4x_1 = 2 \\implies -5x_1 = -6 \\implies x_1 = 6/5 = 1.2$.\n    -   Then, $x_2 = 4 - 2(6/5) = 20/5 - 12/5 = 8/5 = 1.6$.\n    -   This vertex is $(1.2, 1.6)$. The objective value is $z = 3(1.2) + 2(1.6) = 3.6 + 3.2 = 6.8$.\n\nComparing the objective values, the optimal solution to the LP relaxation is $(x_1, x_2) = (1.2, 1.6)$ with $z_{LP} = 6.8$. This solution is fractional.\n\n**Task 2: Apply Rounding Heuristics**\n\n-   **Nearest-Integer Rounding**: We round each variable to the nearest integer.\n    -   $x_1 = 1.2 \\to 1$\n    -   $x_2 = 1.6 \\to 2$\n    -   The point is $(1, 2)$. We check its feasibility against the original constraints:\n        -   $2(1) + 2 = 4 \\le 4$ (Constraint 1 is satisfied)\n        -   $-(1) + 2(2) = 3 \\le 2$ (Constraint 2 is **violated**)\n    -   The solution $(1, 2)$ is infeasible.\n\n-   **Floor Rounding**: We round down each variable to the nearest integer.\n    -   $x_1 = 1.2 \\to \\lfloor 1.2 \\rfloor = 1$\n    -   $x_2 = 1.6 \\to \\lfloor 1.6 \\rfloor = 1$\n    -   The point is $(1, 1)$. We check its feasibility:\n        -   $2(1) + 1 = 3 \\le 4$ (Constraint 1 is satisfied)\n        -   $-(1) + 2(1) = 1 \\le 2$ (Constraint 2 is satisfied)\n    -   The solution $(1, 1)$ is feasible. The objective value is $z = 3(1) + 2(1) = 5$.\n\n**Task 3: Derive a Gomory Fractional Cut**\n\nWe need the final simplex tableau. Adding slack variables $s_1, s_2 \\ge 0$, the problem is:\n$z - 3x_1 - 2x_2 = 0$\n$2x_1 + x_2 + s_1 = 4$\n$-x_1 + 2x_2 + s_2 = 2$\n\nAfter performing the simplex algorithm, the optimal tableau is:\n| Basis | $z$ | $x_1$ | $x_2$ | $s_1$ | $s_2$ | RHS |\n|---|---|---|---|---|---|---|\n| $z$ | $1$ | $0$ | $0$ | $8/5$ | $1/5$ | $34/5$ |\n| $x_1$ | $0$ | $1$ | $0$ | $2/5$ | $-1/5$ | $6/5$ |\n| $x_2$ | $0$ | $0$ | $1$ | $1/5$ | $2/5$ | $8/5$ |\n\nBoth basic variables $x_1$ and $x_2$ are fractional. The problem asks for a cut from the $x_2$-row. The equation for this row is:\n$x_2 + \\frac{1}{5}s_1 + \\frac{2}{5}s_2 = \\frac{8}{5}$\n\nTo derive the Gomory cut, we express each coefficient and the RHS as an integer part plus a non-negative fractional part:\n$(1+0)x_2 + (0 + \\frac{1}{5})s_1 + (0 + \\frac{2}{5})s_2 = 1 + \\frac{3}{5}$\n\nThe Gomory cut is formed by stating that the fractional parts must sum to at least the fractional part of the RHS:\n$\\frac{1}{5}s_1 + \\frac{2}{5}s_2 \\ge \\frac{3}{5}$\n\nTo express this cut in terms of the original variables $x_1$ and $x_2$, we substitute the definitions of the slack variables:\n$s_1 = 4 - 2x_1 - x_2$\n$s_2 = 2 + x_1 - 2x_2$\n\nSubstituting into the cut inequality:\n$\\frac{1}{5}(4 - 2x_1 - x_2) + \\frac{2}{5}(2 + x_1 - 2x_2) \\ge \\frac{3}{5}$\nMultiply by $5$:\n$(4 - 2x_1 - x_2) + 2(2 + x_1 - 2x_2) \\ge 3$\n$4 - 2x_1 - x_2 + 4 + 2x_1 - 4x_2 \\ge 3$\n$8 - 5x_2 \\ge 3$\n$5 \\ge 5x_2$\n$x_2 \\le 1$\n\nThis is the Gomory cut. It tightens the LP relaxation by making the current LP optimal solution $(1.2, 1.6)$ infeasible, since $1.6 \\not\\le 1$.\n\n**Task 4: Determine the Optimal ILP Solution**\n\nWe can find the optimal ILP solution by enumerating the integer points within the feasible region:\n-   For $x_1 = 0$: $x_2 \\le 4$ and $2x_2 \\le 2 \\implies x_2 \\le 1$. Points are $(0, 0)$ and $(0, 1)$.\n    -   $z(0, 0) = 0$.\n    -   $z(0, 1) = 2$.\n-   For $x_1 = 1$: $2 + x_2 \\le 4 \\implies x_2 \\le 2$ and $-1 + 2x_2 \\le 2 \\implies 2x_2 \\le 3 \\implies x_2 \\le 1.5$. Points are $(1, 0)$ and $(1, 1)$.\n    -   $z(1, 0) = 3$.\n    -   $z(1, 1) = 5$.\n-   For $x_1 = 2$: $4 + x_2 \\le 4 \\implies x_2 \\le 0$. The only possibility is $x_2=0$. This gives the point $(2, 0)$.\n    -   Check constraint 2: $-2 + 2(0) = -2 \\le 2$ (satisfied).\n    -   $z(2, 0) = 3(2) + 2(0) = 6$.\n-   For $x_1 \\ge 3$, $2x_1 \\ge 6$, so $2x_1+x_2  4$ for any $x_2 \\ge 0$. No more feasible points.\n\nThe set of integer feasible solutions is $\\{(0, 0), (0, 1), (1, 0), (1, 1), (2, 0)\\}$. The objective values are $0, 2, 3, 5, 6$. The maximum is $z_{ILP} = 6$, which occurs at $(x_1, x_2) = (2, 0)$. This is the true ILP optimum.\n\n### Option-by-Option Analysis\n\n**A. Nearest-integer rounding produces $(1, 2)$, which is infeasible; floor rounding gives $(1, 1)$ with objective $z = 5$. A Gomory fractional cut derived from the $x_2$-row at the LP optimum simplifies to $x_2 \\le 1$, which eliminates the fractional LP optimum and tightens the relaxation toward the true ILP optimum $(2, 0)$ with $z = 6$. A reasonable hybrid is: add one Gomory fractional cut, re-solve the LP relaxation, then apply a feasibility-preserving rounding or local repair restricted by the added cut(s).**\n-   \"Nearest-integer rounding produces $(1, 2)$, which is infeasible\": This is correct as shown in Task 2.\n-   \"floor rounding gives $(1, 1)$ with objective $z = 5$\": This is correct as shown in Task 2.\n-   \"A Gomory fractional cut derived from the $x_2$-row ... simplifies to $x_2 \\le 1$\": This is correct as derived in Task 3.\n-   \"...eliminates the fractional LP optimum and tightens the relaxation...\": This is correct. The cut invalidates $(1.2, 1.6)$ and adding it would reduce the LP optimal value from $6.8$ towards the ILP optimal value of $6$.\n-   \"true ILP optimum $(2, 0)$ with $z = 6$\": This is correct from Task 4.\n-   \"A reasonable hybrid...\": The proposed hybrid method is a standard, effective strategy in computational integer programming, known as a cut-and-round or cut-and-branch approach. It represents a sound reconciliation of exact (cuts) and heuristic (rounding) methods.\nAll statements in this option are accurate and the proposed hybrid method is logical.\n**Verdict: Correct**\n\n**B. Nearest-integer rounding produces $(1, 2)$, which is feasible and attains $z = 7$. The first Gomory cut is $x_1 \\le 1.5$ and it removes the true ILP optimum $(2, 0)$; therefore rounding dominates. A good hybrid is to rely solely on nearest-integer rounding and discard cuts.**\n-   \"Nearest-integer rounding produces $(1, 2)$, which is feasible\": This is incorrect. The point $(1, 2)$ is infeasible.\n-   \"The first Gomory cut is $x_1 \\le 1.5$\": This is incorrect. The cut from the $x_2$-row is $x_2 \\le 1$. The cut from the $x_1$-row is $x_2 \\le 1.5$. So the stated cut is wrong.\n-   \"...and it removes the true ILP optimum $(2, 0)$\": This is theoretically impossible for a valid Gomory cut. By construction, Gomory cuts never remove any integer feasible solutions. The point $(2, 0)$ is not removed by either of the valid cuts ($x_2 \\le 1$ or $x_2 \\le 1.5$).\nThis option contains multiple factual and theoretical errors.\n**Verdict: Incorrect**\n\n**C. Floor rounding from the LP optimum always recovers the ILP optimum on this instance, namely $(2, 0)$ with $z = 6$, so the cut is unnecessary. A good hybrid is to ignore cuts and use floor rounding.**\n-   \"Floor rounding from the LP optimum... recovers the ILP optimum... namely $(2, 0)$\": This is incorrect. Floor rounding of the LP optimum $(1.2, 1.6)$ yields $(1, 1)$, which is a suboptimal feasible solution with $z = 5$. It does not recover the ILP optimum $(2, 0)$.\nThe premise of this option is false.\n**Verdict: Incorrect**\n\n**D. A Gomory cut from the $x_2$-row is $x_1 + x_2 \\le 3$, which invalidates some integer feasible points including $(2, 0)$, showing that cuts may remove valid solutions; therefore, rounding is more reliable than cuts. A good hybrid is to apply rounding first and never add cuts.**\n-   \"A Gomory cut from the $x_2$-row is $x_1 + x_2 \\le 3$\": This is incorrect. The cut is $x_2 \\le 1$.\n-   \"...which invalidates some integer feasible points including $(2, 0)$\": This is incorrect on two levels. First, the stated cut $x_1+x_2 \\le 3$ does *not* invalidate $(2, 0)$, since $2+0=2 \\le 3$. Second, the claim that Gomory cuts \"may remove valid solutions\" is fundamentally false. They are specifically constructed to be valid inequalities for the ILP.\nThis option contains a wrong calculation and a profound misunderstanding of cutting plane methods.\n**Verdict: Incorrect**", "answer": "$$\\boxed{A}$$", "id": "3133755"}, {"introduction": "The Gomory cutting plane method is an iterative process where each new cut carves away a piece of the fractional solution space, bringing us closer to the true integer solution. This final practice [@problem_id:3133821] elevates this idea by connecting the algebraic generation of cuts to the geometric concept of the integer hull. You will explore how a sequence of cuts can systematically define the exact shape of the integer feasible region and touch upon the theoretical notion of Gomory-Chvátal rank.", "problem": "Consider the following pure Integer Linear Program (ILP), where Integer Linear Program (ILP) means all decision variables are required to take integer values and the constraints are linear:\n- Decision variables: $x$, $y$.\n- Objective: maximize $z = x + y$.\n- Constraints:\n  - $2x + y \\leq 5$,\n  - $x + 2y \\leq 5$,\n  - $x \\geq 0$,\n  - $y \\geq 0$,\n  - $x, y \\in \\mathbb{Z}$.\n\nWork with the standard Linear Programming (LP) relaxation obtained by replacing $x, y \\in \\mathbb{Z}$ with $x, y \\in \\mathbb{R}$. Your tasks are:\n1. Determine the convex hull of the integer-feasible points of the ILP and verify that it is a pentagon by listing its vertices in cyclic order.\n2. Starting from the optimal basic feasible solution (BFS) of the LP relaxation for the objective $\\max\\{x+y\\}$, generate Gomory fractional cuts. At each step:\n   - Identify a fractional BFS and write down one Gomory fractional cut that is violated by that BFS, deriving it from the LP tableau or equivalently by an appropriate Chvátal–Gomory aggregation with nonnegative multipliers chosen so that the resulting coefficient vector on $(x,y)$ is integral.\n   - Express each cut in terms of $(x,y)$ only (eliminate any slack variables).\n   - State the Gomory–Chvátal rank (defined as the minimum number of Chvátal–Gomory rounds needed to derive that inequality from the original system) of each cut you add.\n3. Continue adding such cuts until the LP relaxation coincides with the integer hull you found in part 1, that is, until all facet-defining inequalities of the integer hull are present.\n4. Let $r$ be the minimum number of Gomory–Chvátal rounds required to derive all the facet-defining inequalities of the integer hull of this ILP from the original constraints. Provide the value of $r$.\n\nYour final answer must be the single number $r$. No units are required. If your computations produce non-integer intermediate values, carry exact rational arithmetic and do not round. The final $r$ must be exact.", "solution": "The user wants me to analyze a given Integer Linear Program (ILP) using the Gomory cutting plane method and the concept of Gomory-Chvátal rank.\n\nThe ILP is defined as:\n- Maximize $z = x + y$\n- Subject to:\n  - $2x + y \\leq 5$\n  - $x + 2y \\leq 5$\n  - $x \\geq 0$\n  - $y \\geq 0$\n  - $x, y \\in \\mathbb{Z}$\n\nThe associated Linear Programming (LP) relaxation replaces the integer constraint $x, y \\in \\mathbb{Z}$ with $x, y \\in \\mathbb{R}$, which is equivalent to $x, y \\ge 0$ for non-negative variables.\n\n### Step 1: Determine the Integer Hull\n\nFirst, we identify all integer points $(x, y)$ that satisfy the given constraints.\n- For $x=0$, the constraints become $y \\leq 5$ and $2y \\leq 5$. With $y \\geq 0$ and $y \\in \\mathbb{Z}$, this implies $y \\in \\{0, 1, 2\\}$. The points are $(0,0), (0,1), (0,2)$.\n- For $x=1$, the constraints become $2+y \\leq 5 \\implies y \\leq 3$ and $1+2y \\leq 5 \\implies 2y \\leq 4 \\implies y \\leq 2$. With $y \\geq 0$ and $y \\in \\mathbb{Z}$, this implies $y \\in \\{0, 1, 2\\}$. The points are $(1,0), (1,1), (1,2)$.\n- For $x=2$, the constraints become $4+y \\leq 5 \\implies y \\leq 1$ and $2+2y \\leq 5 \\implies 2y \\leq 3 \\implies y \\leq 1.5$. With $y \\geq 0$ and $y \\in \\mathbb{Z}$, this implies $y \\in \\{0, 1\\}$. The points are $(2,0), (2,1)$.\n- For $x \\geq 3$, the constraint $2x+y \\leq 5$ implies $y \\leq 5-2x \\leq 5-6 = -1$, which has no solution for $y \\geq 0$.\n\nThe set of all integer feasible points is $S = \\{(0,0), (0,1), (0,2), (1,0), (1,1), (1,2), (2,0), (2,1)\\}$.\n\nThe convex hull of these points, denoted $conv(S)$, is the smallest convex set containing all points in $S$. The vertices (extreme points) of $conv(S)$ are found by inspection to be $(0,0), (2,0), (2,1), (1,2), (0,2)$. The other feasible points, $(0,1), (1,0), (1,1)$, are either on the boundary or in the interior of the polygon formed by these vertices. For instance, $(1,1) = \\frac{1}{2}(2,0) + \\frac{1}{2}(0,2)$.\nThe convex hull has $5$ vertices, so it is a pentagon. These vertices in cyclic order are $(0,0), (2,0), (2,1), (1,2), (0,2)$.\n\nThe facet-defining inequalities of this pentagon are:\n1.  Edge from $(0,0)$ to $(2,0)$: $y \\geq 0$.\n2.  Edge from $(2,0)$ to $(2,1)$: $x \\leq 2$.\n3.  Edge from $(2,1)$ to $(1,2)$: The line has slope $\\frac{2-1}{1-2} = -1$. The equation is $y-1 = -1(x-2)$, which simplifies to $x+y=3$. The inequality is $x+y \\leq 3$.\n4.  Edge from $(1,2)$ to $(0,2)$: $y \\leq 2$.\n5.  Edge from $(0,2)$ to $(0,0)$: $x \\geq 0$.\n\nThe integer hull $conv(S)$ is thus defined by the inequalities: $x \\ge 0, y \\ge 0, x \\le 2, y \\le 2, x+y \\le 3$.\n\n### Step 2: Solve the LP Relaxation and Generate a Gomory Cut\n\nWe solve the LP relaxation by finding the vertex that maximizes $z=x+y$. The feasible region is defined by $2x+y \\le 5$, $x+2y \\le 5$, $x \\ge 0$, and $y \\ge 0$. The level sets of the objective function $x+y=k$ move away from the origin as $k$ increases. The optimal solution will occur at the intersection of the two main constraint boundaries:\n$2x + y = 5$\n$x + 2y = 5$\nSolving this system gives $x = 5/3$ and $y = 5/3$. The optimal LP solution is $(x,y) = (5/3, 5/3)$, which is not integer. The optimal objective value is $z = 5/3 + 5/3 = 10/3$.\n\nTo generate a Gomory cut, we first express the basic variables $(x,y)$ in terms of the non-basic slack variables $s_1 = 5-2x-y \\ge 0$ and $s_2 = 5-x-2y \\ge 0$. The final simplex tableau gives these equations. From the system $2x+y+s_1=5$ and $x+2y+s_2=5$, we solve for $x$ and $y$:\n$x = \\frac{5}{3} - \\frac{2}{3}s_1 + \\frac{1}{3}s_2$\n$y = \\frac{5}{3} + \\frac{1}{3}s_1 - \\frac{2}{3}s_2$\nRearranging these gives the tableau rows for the basic variables:\n$x + \\frac{2}{3}s_1 - \\frac{1}{3}s_2 = \\frac{5}{3}$\n$y - \\frac{1}{3}s_1 + \\frac{2}{3}s_2 = \\frac{5}{3}$\n\nLet's generate a cut from the $x$-row. We express each coefficient $\\bar{a}_j$ as $\\lfloor \\bar{a}_j \\rfloor + f_j$ where $f_j \\in [0,1)$ is the fractional part.\n$x + (0 + \\frac{2}{3})s_1 + (-1 + \\frac{2}{3})s_2 = 1 + \\frac{2}{3}$\nThe Gomory fractional cut is given by $\\sum_{j \\in N} f_j x_j \\geq f_0$, where $N$ is the set of non-basic variables and $f_0$ is the fractional part of the right-hand side.\nHere, the non-basic variables are $s_1, s_2$. The fractional parts are $f_{s_1} = 2/3$, $f_{s_2} = 2/3$, and $f_0 = 2/3$.\nThe resulting cut is:\n$\\frac{2}{3}s_1 + \\frac{2}{3}s_2 \\geq \\frac{2}{3} \\implies s_1 + s_2 \\geq 1$.\n\nTo express this cut in terms of $(x,y)$, we substitute back the definitions of $s_1$ and $s_2$:\n$(5 - 2x - y) + (5 - x - 2y) \\geq 1$\n$10 - 3x - 3y \\geq 1$\n$9 \\geq 3x + 3y$\n$x+y \\leq 3$\n\nThe first Gomory cut is $x+y \\leq 3$. This cut is violated by the LP optimal solution $(5/3, 5/3)$, since $5/3+5/3 = 10/3  3$. This cut is one of the facet-defining inequalities of the integer hull we found in Step 1.\n\n### Step 3: Rank of the Cuts and the Integer Hull\n\nThe problem requires finding the minimum number of Chvátal-Gomory rounds to derive all facet-defining inequalities of the integer hull. This number is the Gomory-Chvátal rank of the initial LP relaxation polyhedron. A rank-$1$ inequality is one that can be derived in a single round. A Chvátal-Gomory (CG) cut is obtained by taking a non-negative linear combination of the initial inequalities $\\mathbf{A}\\mathbf{x} \\le \\mathbf{b}$ to form $\\mathbf{u}^T\\mathbf{A}\\mathbf{x} \\le \\mathbf{u}^T\\mathbf{b}$, and then, for integer variables $\\mathbf{x}$, strengthening it to $\\lfloor \\mathbf{u}^T\\mathbf{A} \\rfloor^T \\mathbf{x} \\le \\lfloor \\mathbf{u}^T\\mathbf{b} \\rfloor$.\n\nThe original system of inequalities is $P_0$:\n(1) $2x + y \\leq 5$\n(2) $x + 2y \\leq 5$\n(3) $-x \\leq 0$\n(4) $-y \\leq 0$\n\nThe integer hull $conv(S)$ is defined by $x \\ge 0, y \\ge 0, x \\le 2, y \\le 2, x+y \\le 3$. We need to find the rank of the new inequalities: $x+y \\leq 3$, $x \\leq 2$, and $y \\leq 2$.\n\n**Rank of $x+y \\leq 3$:**\nTake multipliers $u_1 = 1/3, u_2 = 1/3$ for inequalities (1) and (2).\n$\\frac{1}{3}(2x+y) + \\frac{1}{3}(x+2y) \\leq \\frac{1}{3}(5) + \\frac{1}{3}(5)$\n$x+y \\leq \\frac{10}{3}$\nApplying the CG procedure (flooring):\n$\\lfloor 1 \\rfloor x + \\lfloor 1 \\rfloor y \\leq \\lfloor \\frac{10}{3} \\rfloor \\implies x+y \\leq 3$.\nThis inequality is derivable in one round, so its rank is $1$. This confirms the Gomory-Chvátal rank stated in the problem description is $1$ for this cut.\n\n**Rank of $x \\leq 2$:**\nTake multiplier $u_1 = 1/2$ for inequality (1) and $0$ for others.\n$\\frac{1}{2}(2x+y) \\leq \\frac{1}{2}(5)$\n$x + \\frac{1}{2}y \\leq \\frac{5}{2}$\nApplying the CG procedure:\n$\\lfloor 1 \\rfloor x + \\lfloor \\frac{1}{2} \\rfloor y \\leq \\lfloor \\frac{5}{2} \\rfloor \\implies x + 0y \\leq 2 \\implies x \\leq 2$.\nThis inequality has rank $1$.\n\n**Rank of $y \\leq 2$:**\nBy symmetry, take multiplier $u_2 = 1/2$ for inequality (2).\n$\\frac{1}{2}(x+2y) \\leq \\frac{1}{2}(5)$\n$\\frac{1}{2}x + y \\leq \\frac{5}{2}$\nApplying the CG procedure:\n$\\lfloor \\frac{1}{2} \\rfloor x + \\lfloor 1 \\rfloor y \\leq \\lfloor \\frac{5}{2} \\rfloor \\implies 0x + y \\leq 2 \\implies y \\leq 2$.\nThis inequality also has rank $1$.\n\n### Step 4: The Gomory-Chvátal Rank of the Polyhedron\n\nLet $P_0$ be the feasible region of the LP relaxation. The first Chvátal closure, $P_1 = (P_0)'$, is the set of points satisfying all rank-$1$ CG inequalities. The Gomory-Chvátal rank of the polyhedron $P_0$ is the smallest integer $k$ such that $P_k = conv(S)$, where $P_k = (P_{k-1})'$.\n\nWe have shown that all facet-defining inequalities of the integer hull $conv(S)$ are either original inequalities or have a rank of $1$. This means that the polyhedron defined by these inequalities, which is $conv(S)$ itself, is a subset of the first closure $P_1$. So, $conv(S) \\subseteq P_1$.\n\nFurthermore, any point $\\mathbf{x} \\in P_1$ must, by definition, satisfy all rank-$1$ inequalities. In particular, it must satisfy $x \\ge 0, y \\ge 0, x \\le 2, y \\le 2,$ and $x+y \\le 3$. The set of points satisfying these five inequalities is exactly $conv(S)$. Therefore, any point in $P_1$ must also be in $conv(S)$, which implies $P_1 \\subseteq conv(S)$.\n\nSince $conv(S) \\subseteq P_1$ and $P_1 \\subseteq conv(S)$, we have $P_1 = conv(S)$. This means the integer hull is obtained after exactly one round of applying the Chvátal-Gomory procedure.\n\nThe minimum number of Gomory–Chvátal rounds required to derive all the facet-defining inequalities is $r=1$.", "answer": "$$\\boxed{1}$$", "id": "3133821"}]}