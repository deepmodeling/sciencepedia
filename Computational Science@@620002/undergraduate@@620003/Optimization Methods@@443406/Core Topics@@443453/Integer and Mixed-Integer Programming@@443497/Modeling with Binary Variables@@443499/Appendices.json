{"hands_on_practices": [{"introduction": "Many real-world decisions involve an initial investment that unlocks a set of subsequent actions. This exercise [@problem_id:3153892] models such a scenario, where a firm must first decide which resources to rent (a binary choice with a fixed cost) before assigning project tasks to them. By formulating and solving this problem, you will practice using binary indicator variables to capture these \"if-then\" logical dependencies, a cornerstone of modeling with binary variables.", "problem": "A firm plans a one-period project composed of $4$ independent tasks indexed by $t \\in \\{1,2,3,4\\}$. The firm can rent any subset of $3$ external resources indexed by $k \\in \\{1,2,3\\}$ before executing tasks. Renting resource $k$ incurs a one-time cost $c_k$, and the total expenditure must not exceed a fixed budget $B$. If a task $t$ is executed using resource $k$, it yields a value (benefit) $v_{tk} \\ge 0$. A task may be executed by at most one resource, and a resource can execute any number of tasks for which it is compatible. If resource $k$ is not rented, it cannot execute any task. Assume the following data:\n- Budget: $B = 9$.\n- Rental costs: $c_1 = 8$, $c_2 = 5$, $c_3 = 4$.\n- Task-resource values (with $v_{tk} = 0$ indicating incompatibility): \n  - Task $1$: $v_{11} = 9$, $v_{12} = 6$, $v_{13} = 0$.\n  - Task $2$: $v_{21} = 0$, $v_{22} = 7$, $v_{23} = 5$.\n  - Task $3$: $v_{31} = 4$, $v_{32} = 0$, $v_{33} = 6$.\n  - Task $4$: $v_{41} = 8$, $v_{42} = 5$, $v_{43} = 5$.\n\nStarting from core definitions in linear and integer optimization—specifically, that a Mixed-Integer Linear Programming (MILP) model uses a linear objective and linear constraints with some variables constrained to be integer or binary—construct a binary variable formulation that selects resources and assigns tasks such that (i) a task can only be assigned to a resource if the resource is rented, (ii) each task is assigned to at most one resource, and (iii) the rental budget is respected. Let $y_k \\in \\{0,1\\}$ indicate whether resource $k$ is rented, and let $x_{tk} \\in \\{0,1\\}$ indicate whether task $t$ is executed using resource $k$. Using this formulation and the given data, determine the maximal total value achievable. Provide your final answer as a single real number equal to the optimal objective value. Do not include units.", "solution": "The problem can be modeled as a binary integer program. Let $T = \\{1, 2, 3, 4\\}$ be the set of tasks and $K = \\{1, 2, 3\\}$ be the set of resources.\n\n**Decision Variables:**\n- $y_k \\in \\{0, 1\\}$ for each $k \\in K$: $y_k = 1$ if resource $k$ is rented.\n- $x_{tk} \\in \\{0, 1\\}$ for each $t \\in T, k \\in K$: $x_{tk} = 1$ if task $t$ is assigned to resource $k$.\n\n**Objective Function:**\nMaximize the total value from all task-resource assignments.\n$$ \\text{Maximize } Z = \\sum_{t \\in T} \\sum_{k \\in K} v_{tk} x_{tk} $$\n\n**Constraints:**\n1.  **Budget:** The total rental cost cannot exceed the budget $B=9$.\n    $$ \\sum_{k \\in K} c_k y_k \\le 9 $$\n2.  **Task Assignment:** Each task can be assigned to at most one resource.\n    $$ \\sum_{k \\in K} x_{tk} \\le 1 \\quad \\forall t \\in T $$\n3.  **Linking:** A task can be assigned to a resource only if it is rented.\n    $$ x_{tk} \\le y_k \\quad \\forall t \\in T, k \\in K $$\n\nSince the number of resources is small, we can solve the problem by enumerating all combinations of rented resources that satisfy the budget constraint.\n\n- **Case 0:** Rent no resources ($S = \\emptyset$). Cost: $0 \\le 9$. Valid. Total Value: $0$.\n\n- **Case 1:** Rent resource 1 only ($S = \\{1\\}$). Cost: $c_1 = 8 \\le 9$. Valid. The maximum value is obtained by assigning all compatible tasks to resource 1.\n  Total Value: $v_{11} + v_{21} + v_{31} + v_{41} = 9 + 0 + 4 + 8 = 21$.\n\n- **Case 2:** Rent resource 2 only ($S = \\{2\\}$). Cost: $c_2 = 5 \\le 9$. Valid.\n  Total Value: $v_{12} + v_{22} + v_{32} + v_{42} = 6 + 7 + 0 + 5 = 18$.\n\n- **Case 3:** Rent resource 3 only ($S = \\{3\\}$). Cost: $c_3 = 4 \\le 9$. Valid.\n  Total Value: $v_{13} + v_{23} + v_{33} + v_{43} = 0 + 5 + 6 + 5 = 16$.\n\n- **Case 4:** Rent resources 1 and 2 ($S = \\{1, 2\\}$). Cost: $c_1 + c_2 = 8 + 5 = 13 > 9$. Invalid.\n\n- **Case 5:** Rent resources 1 and 3 ($S = \\{1, 3\\}$). Cost: $c_1 + c_3 = 8 + 4 = 12 > 9$. Invalid.\n\n- **Case 6:** Rent resources 2 and 3 ($S = \\{2, 3\\}$). Cost: $c_2 + c_3 = 5 + 4 = 9 \\le 9$. Valid. For each task, we assign it to the resource (2 or 3) that provides the maximum value.\n  - Task 1: $\\max(v_{12}, v_{13}) = \\max(6, 0) = 6$.\n  - Task 2: $\\max(v_{22}, v_{23}) = \\max(7, 5) = 7$.\n  - Task 3: $\\max(v_{32}, v_{33}) = \\max(0, 6) = 6$.\n  - Task 4: $\\max(v_{42}, v_{43}) = \\max(5, 5) = 5$.\n  - Total Value: $6 + 7 + 6 + 5 = 24$.\n\n- **Case 7:** Rent all resources ($S = \\{1, 2, 3\\}$). Cost: $c_1 + c_2 + c_3 = 17 > 9$. Invalid.\n\nComparing the total values from all valid scenarios: $\\max(0, 21, 18, 16, 24) = 24$.\nThe maximal total value is 24. This is achieved by renting resources 2 and 3. The optimal variable values would be $y_1=0, y_2=1, y_3=1$, with task assignments yielding a total value of 24.", "answer": "$$\n\\boxed{24}\n$$", "id": "3153892"}, {"introduction": "Binary variables are incredibly versatile for modeling logical rules, including those found in classic combinatorial problems like graph coloring. This practice [@problem_id:3153829] guides you through building a standard integer programming formulation for this problem and then asks you to identify a set of powerful \"clique inequalities.\" These inequalities strengthen the model by providing a more accurate description of the problem structure, leading to more efficient solutions for larger instances.", "problem": "Consider a simple, undirected graph $G = (V, E)$ with vertex set $V = \\{1,2,3,4,5,6\\}$ and edge set $E = \\{(1,2),(2,3),(1,3),(2,4),(3,4),(5,6)\\}$. You are given a palette of $K = 4$ colors, indexed by $C = \\{1,2,3,4\\}$. The goal is to model a proper coloring of $G$ using binary assignment variables.\n\nStart from the fundamental definitions:\n- A proper coloring assigns exactly one color to each vertex so that adjacent vertices do not share a color.\n- A clique is a subset of vertices that are all pairwise adjacent; a maximal clique is a clique that is not strictly contained in any larger clique.\n\nFormulate a mixed-integer linear programming model using binary variables $x_{vc} \\in \\{0,1\\}$ indicating whether vertex $v \\in V$ is assigned color $c \\in C$, and binary variables $y_{c} \\in \\{0,1\\}$ indicating whether color $c \\in C$ is used. Your model must:\n- Assign each vertex exactly one color via constraints of the form $\\sum_{c \\in C} x_{vc} = 1$ for each $v \\in V$.\n- Enforce that adjacent vertices do not share a color via constraints of a form $x_{uc} + x_{vc} \\le 1$ for each $(u,v) \\in E$ and each $c \\in C$.\n- Link color usage to assignments via constraints of the form $x_{vc} \\le y_{c}$ for each $v \\in V$ and each $c \\in C$.\n- Minimize the total number of colors used via the objective $\\min \\sum_{c \\in C} y_{c}$.\n\nThen strengthen the model by adding clique inequalities of the form $\\sum_{v \\in Q} x_{vc} \\le 1$ for each maximal clique $Q \\subseteq V$ and each $c \\in C$.\n\nUsing only the graph $G$ and the definitions above, determine how many distinct clique inequalities are added when you include exactly one inequality for each maximal clique and each color $c \\in C$. Provide your final answer as a single integer. No rounding is required.", "solution": "The problem asks for the total number of distinct clique inequalities added to the model. These inequalities have the form $\\sum_{v \\in Q} x_{vc} \\le 1$, and one is added for each maximal clique $Q$ of the graph $G$ and for each available color $c \\in C$.\nThe total number of inequalities is the product of the number of maximal cliques in $G$ and the number of colors.\n\n1.  **Count the number of colors:**\n    The problem states there is a palette of $K=4$ colors, so the number of colors is $N_C = 4$.\n\n2.  **Find the maximal cliques of the graph G:**\n    A maximal clique is a complete subgraph (all vertices are connected to each other) that cannot be extended by adding another vertex.\n    The graph is given by $V = \\{1,2,3,4,5,6\\}$ and $E = \\{(1,2),(2,3),(1,3),(2,4),(3,4),(5,6)\\}$.\n    We can analyze the graph's components.\n    \n    - **Component 1:** Vertices $\\{1,2,3,4\\}$ with edges $\\{(1,2),(2,3),(1,3),(2,4),(3,4)\\}$.\n        - The subset of vertices $\\{1,2,3\\}$ forms a clique because all pairs $((1,2), (1,3), (2,3))$ are edges. Can we add vertex $4$? No, because vertex $4$ is not connected to vertex $1$. Thus, $\\{1,2,3\\}$ is a maximal clique.\n        - The subset of vertices $\\{2,3,4\\}$ forms a clique because all pairs $((2,3), (2,4), (3,4))$ are edges. Can we add vertex $1$? No, because vertex $1$ is not connected to vertex $4$. Thus, $\\{2,3,4\\}$ is a maximal clique.\n        - Any other clique within this component (e.g., an edge like $\\{1,2\\}$) is a subset of one of these two 3-vertex cliques, and is therefore not maximal.\n\n    - **Component 2:** Vertices $\\{5,6\\}$ with edge $\\{(5,6)\\}$.\n        - The subset $\\{5,6\\}$ forms a clique. Since this component is disconnected from the rest of the graph, no other vertices can be added. Thus, $\\{5,6\\}$ is a maximal clique.\n\n    In total, we have identified three maximal cliques in the graph $G$:\n    -   $Q_1 = \\{1,2,3\\}$\n    -   $Q_2 = \\{2,3,4\\}$\n    -   $Q_3 = \\{5,6\\}$\n    The number of maximal cliques is $N_Q = 3$.\n\n3.  **Calculate the total number of inequalities:**\n    The total number of added clique inequalities is the number of maximal cliques multiplied by the number of colors.\n    Total inequalities = $N_Q \\times N_C = 3 \\times 4 = 12$.\n\nFor each of the 3 maximal cliques, we add 4 inequalities (one for each color), resulting in 12 distinct inequalities in total.", "answer": "$$\\boxed{12}$$", "id": "3153829"}, {"introduction": "While standard \"Big-M\" formulations are useful, their linear relaxations can be weak, leading to long solve times. This advanced problem [@problem_id:3153875] explores the theoretical foundation of strong formulations by asking you to derive the \"convex hull\" for a basic fixed-charge cost structure. Understanding this concept gives you insight into the ideal mathematical representation of discrete choices and is the first step toward the powerful techniques of disjunctive programming and cutting planes.", "problem": "A firm must decide how much to produce, represented by a continuous decision variable $x \\ge 0$. If any positive amount is produced, a fixed startup fee $f &gt; 0$ is incurred in addition to a per-unit cost $c \\ge 0$. To model the fixed fee only when $x &gt; 0$, introduce a binary variable $y \\in \\{0,1\\}$ and a known valid upper bound $U &gt; 0$ such that $0 \\le x \\le U y$. Let $z$ denote an epigraph variable that lower-bounds the total cost captured by $f y + c x$. Consider the mixed-integer linear programming (MILP) epigraph set\n$$\n\\mathcal{E} \\;=\\; \\{(x,z) \\;:\\; \\exists\\, y \\in \\{0,1\\},\\; 0 \\le x \\le U y,\\; z \\ge f y + c x\\}.\n$$\nDefine the linear programming relaxation $\\mathcal{E}^{\\text{LP}}$ by replacing $y \\in \\{0,1\\}$ with $y \\in [0,1]$. The convex hull of the original epigraph in $(x,z)$-space is the projection of $\\mathcal{E}^{\\text{LP}}$ onto $(x,z)$.\n\nWhich of the following gives an explicit linear inequality description in $(x,z)$-space (with no auxiliary variables) of the exact projection of $\\mathcal{E}^{\\text{LP}}$ and thus the convex hull of $\\mathcal{E}$ on the domain $0 \\le x \\le U$?\n\nA. $0 \\le x \\le U$, and $z \\ge c x + \\dfrac{f}{U}\\, x$.\n\nB. $0 \\le x \\le U$, and $z \\ge c x$, and $z \\ge \\dfrac{f}{U}\\, x$.\n\nC. $0 \\le x \\le U$, and $z \\ge f + c x$, and $z \\ge 0$.\n\nD. $0 \\le x \\le U$, and $z \\ge c x$.", "solution": "The task is to find the projection of the set $\\mathcal{E}^{\\text{LP}}$ onto the $(x,z)$-space. This is equivalent to eliminating the variable $y$ from the system of inequalities defining $\\mathcal{E}^{\\text{LP}}$. The set $\\mathcal{E}^{\\text{LP}}$ is described by:\n1.  $z \\ge f y + c x$\n2.  $x \\le U y$\n3.  $x \\ge 0$\n4.  $0 \\le y \\le 1$\n\nThe constants are given as $f>0$, $c \\ge 0$, and $U>0$. We seek a description in terms of $x$ and $z$ over the domain $0 \\le x \\le U$.\n\nLet us fix a value of $x$ in the domain $[0, U]$. For a pair $(x,z)$ to be in the projection, there must exist a $y$ that satisfies all the constraints. From inequality (2), since $U > 0$, we have $y \\ge \\frac{x}{U}$. Combining this with inequality (4), the feasible range for $y$ is $\\frac{x}{U} \\le y \\le 1$. (This range is non-empty since $x \\le U$).\n\nNow, consider inequality (1): $z \\ge f y + c x$. For a fixed $x$, a pair $(x,z)$ belongs to the projection if there exists a $y \\in [\\frac{x}{U}, 1]$ satisfying this inequality. This is true if $z$ is greater than or equal to the minimum possible value of the right-hand side, $f y + c x$, over the feasible range of $y$.\n\nLet's define a function of $y$ for a fixed $x$: $g(y) = f y + c x$. Since we are given $f > 0$, the function $g(y)$ is strictly increasing in $y$. Therefore, its minimum value on the interval $y \\in [\\frac{x}{U}, 1]$ occurs at the lower bound, $y = \\frac{x}{U}$.\n\nSubstituting this minimal value of $y$ into the inequality for $z$, we obtain the tightest possible lower bound on $z$:\n$$\nz \\ge f \\left(\\frac{x}{U}\\right) + c x\n$$\n$$\nz \\ge \\frac{f}{U} x + c x \\implies z \\ge \\left(c + \\frac{f}{U}\\right) x\n$$\nThis inequality, combined with the given domain for $x$, defines the convex hull of $\\mathcal{E}$ in the $(x,z)$-space. The full description is:\n$$\n0 \\le x \\le U, \\quad z \\ge c x + \\frac{f}{U} x\n$$\n\nNow, we evaluate the given options:\n\n**A. $0 \\le x \\le U$, and $z \\ge c x + \\dfrac{f}{U}\\, x$.**\nThis expression exactly matches our derived inequality. This is the correct characterization of the convex hull.\n\n**B. $0 \\le x \\le U$, and $z \\ge c x$, and $z \\ge \\dfrac{f}{U}\\, x$.**\nThis is equivalent to $z \\ge \\max\\left(c x, \\frac{f}{U} x\\right)$. The correct inequality is $z \\ge c x + \\frac{f}{U} x$. Since $c \\ge 0$ and $f/U > 0$, for $x>0$ we have $c x + \\frac{f}{U} x > \\max\\left(c x, \\frac{f}{U} x\\right)$. Option B represents a weaker (looser) relaxation and is not the exact convex hull.\n\n**C. $0 \\le x \\le U$, and $z \\ge f + c x$, and $z \\ge 0$.**\nSince $f>0, c \\ge 0, x \\ge 0$, the condition $z \\ge f + c x$ implies $z > 0$, making $z \\ge 0$ redundant. This description only models the cost for the case where production occurs ($y=1$). It fails to include the case of no production ($x=0, y=0$), where the cost is $0$. The set described by this option does not contain the point $(0,0)$, which is part of the original set $\\mathcal{E}$, so it cannot be the convex hull.\n\n**D. $0 \\le x \\le U$, and $z \\ge c x$.**\nThis inequality represents the cost structure if the fixed fee $f$ were zero. The correct inequality is $z \\ge c x + \\frac{f}{U} x$. Since $\\frac{f}{U} x > 0$ for $x > 0$, the region described by option D is a superset of the true convex hull, representing a weaker relaxation.\n\nTherefore, option A is the only correct description.", "answer": "$$\\boxed{A}$$", "id": "3153875"}]}