{"hands_on_practices": [{"introduction": "The reduction from VERTEX-COVER to SUBSET-SUM is a cornerstone of complexity theory, acting as a bridge between graph problems and numerical problems. To truly grasp its mechanics, we must get our hands dirty with the numbers themselves. This first exercise zooms in on a single, crucial component of the construction: the \"slack\" variables, which ensure that every edge is accounted for in the final sum [@problem_id:1443805]. By working through a concrete example, you will trace how these variables guarantee that the numerical sum correctly reflects the graph's edge-covering constraint.", "problem": "In the study of computational complexity, the VERTEX-COVER problem is often reduced to the SUBSET-SUM problem to prove the latter's NP-completeness. This problem explores a specific step in one such standard reduction.\n\nConsider a graph $G = (V, E)$ and an integer $k$. We construct an instance of SUBSET-SUM as follows:\nLet the set of vertices be $V = \\{v_1, v_2, v_3, v_4\\}$ and the set of edges be $E = \\{e_1, e_2, e_3\\}$, where $e_1 = (v_1, v_2)$, $e_2 = (v_2, v_3)$, and $e_3 = (v_3, v_4)$. The number of edges is $m=3$. The numbers are constructed using a base-4 representation with $m+1=4$ places or \"digits\". The most significant digit (at position $m=3$) corresponds to a vertex count, while the digits at positions $j=0, 1, \\dots, m-1$ correspond to edges $e_{j+1}$.\n\nFor each vertex $v_i \\in V$, a number $w_i$ is created. Its base-4 representation has a '1' in the most significant position (position 3). For each edge $e_j$ incident to $v_i$, the number $w_i$ also has a '1' in the position $j-1$. All other digits are '0'.\n\nFor each edge $e_j \\in E$, a \"slack\" number $s_j$ is created. Its base-4 representation has a '1' in position $j-1$ and '0's elsewhere.\n\nThe full set of numbers for the SUBSET-SUM instance is the union of all $w_i$ and $s_j$. The target sum $T$ is constructed such that its base-4 representation has the integer $k$ in the most significant position (position 3) and a '2' in all other positions (positions 0, 1, and 2).\n\nNow, consider the specific VERTEX-COVER instance for the graph $G$ defined above with a target size of $k=2$. It is known that $C = \\{v_2, v_3\\}$ is a valid vertex cover of size 2 for this graph. For the SUBSET-SUM instance to have a solution, a specific subset of the generated numbers must sum to the target $T$. This subset will correspond to the vertex cover $C$.\n\nFocusing on the edge $e_1 = (v_1, v_2)$, which of the following edge-specific slack numbers must be part of this subset that sums to $T$?\n\nA. 1\n\nB. 4\n\nC. 16\n\nD. 64\n\nE. The slack number for edge $e_1$ is not needed.", "solution": "We work in base 4 with positions indexed as follows: positions $j=0,1,2$ correspond to edges $e_{1},e_{2},e_{3}$ respectively, and position $3$ (most significant) counts the number of chosen vertices. The place values are $4^{0},4^{1},4^{2},4^{3}$.\n\nFor each vertex $v_{i}$, the number $w_{i}$ has digit $1$ at position $3$, and for each incident edge $e_{j}$ it has digit $1$ at position $j-1$. For each edge $e_{j}$, the slack $s_{j}$ has digit $1$ only at position $j-1$. The target $T$ has base-4 digits equal to $2$ in positions $0,1,2$ and equal to $k=2$ in position $3$.\n\nWith $C=\\{v_{2},v_{3}\\}$, the subset must include $w_{2}$ and $w_{3}$. Their contributions by position are:\n- Position $3$ (vertex count): $1+1=2$, matching $T$.\n- Position $0$ (edge $e_{1}$): $w_{2}$ contributes $1$ (since $v_{2}$ is incident to $e_{1}$), and $w_{3}$ contributes $0$ (not incident), so the sum is $1$. Since $T$ has digit $2$ here, we must add slack $s_{1}$, which contributes an additional $1$ at position $0$.\n- Positions $1$ and $2$ behave analogously for $e_{2}$ and $e_{3}$; this confirms the mechanism, but the question asks specifically about $e_{1}$.\n\nTherefore, for edge $e_{1}$, the required slack is $s_{1}$, whose value is $4^{0}=1$. Among the options, this corresponds to A.", "answer": "$$\\boxed{A}$$", "id": "1443805"}, {"introduction": "A robust design is one where every component has a purpose. The same principle applies to elegant reductions in complexity theory. This problem presents a \"thought experiment\" where we deliberately break the standard construction by removing a key feature [@problem_id:1443832]. By analyzing the consequences of this modification, you will discover why the original design is so clever and gain a deeper appreciation for how different parts of the construction work together to enforce the problem's constraints. Specifically, this exercise reveals the elegant role of the most significant digit in constraining the size of the vertex cover.", "problem": "In computational complexity theory, the reduction from the VERTEX-COVER problem to the SUBSET-SUM problem is a classic example of mapping a graph problem to a numerical problem.\n\nLet's review the standard construction. Given an undirected graph $G=(V, E)$ with a set of vertices $V=\\{v_1, v_2, \\dots, v_n\\}$ and a set of edges $E=\\{e_1, e_2, \\dots, e_m\\}$, and an integer $k$, the VERTEX-COVER problem asks if there is a subset of vertices $V' \\subseteq V$ such that $|V'| \\leq k$ and for every edge $(u,v) \\in E$, at least one of $u$ or $v$ is in $V'$.\n\nThe reduction constructs an instance of the SUBSET-SUM problem from the instance $(G, k)$ of VERTEX-COVER. It creates a set of integers $S$ and a target integer $T$. A subset of $S$ sums to $T$ if and only if a vertex cover of size $k$ exists in $G$. The integers are constructed using a base-4 representation with $m+1$ digits.\n\nThe construction is as follows:\n1.  For each vertex $v_i \\in V$, create an integer $x_i$. In base 4, this number has a '1' in the most significant digit (the $(m+1)$-th digit) and, for each edge $e_j \\in E$ that is incident to $v_i$, it has a '1' in the $j$-th digit. All other digits are '0'.\n    -   Symbolically: $x_i = 4^m + \\sum_{e_j \\text{ incident to } v_i} 4^{j-1}$.\n2.  For each edge $e_j \\in E$, create an integer $y_j$. In base 4, this number has a '1' in the $j$-th digit and '0's everywhere else.\n    -   Symbolically: $y_j = 4^{j-1}$.\n3.  The set of integers for the SUBSET-SUM instance is $S = \\{x_1, \\dots, x_n\\} \\cup \\{y_1, \\dots, y_m\\}$.\n4.  The target sum $T$ is constructed. In base 4, it has the number $k$ in the most significant digit and '2's in all other $m$ digits.\n    -   Symbolically: $T = k \\cdot 4^m + \\sum_{j=1}^m 2 \\cdot 4^{j-1}$.\n\nNow, consider a flawed version of this reduction where the most significant digit is completely removed from all constructed numbers. The new numbers and target are defined in base 4 with only $m$ digits (one for each edge).\n-   New vertex numbers: $x'_i = \\sum_{e_j \\text{ incident to } v_i} 4^{j-1}$.\n-   New edge numbers: $y'_j = 4^{j-1}$. (These are identical to the original $y_j$).\n-   New target sum: $T' = \\sum_{j=1}^m 2 \\cdot 4^{j-1}$.\n\nWhich of the following properties of the original VERTEX-COVER problem $(G, k)$ is no longer correctly enforced by finding a subset of $\\{x'_1, \\dots, x'_n\\} \\cup \\{y'_1, \\dots, y'_m\\}$ that sums to $T'$?\n\nA. The constraint that the selected set of vertices must form a vertex cover (i.e., that every edge is covered).\n\nB. The constraint that the size of the vertex cover must be equal to $k$.\n\nC. The constraint that the graph $G$ must be connected for the reduction to be valid.\n\nD. The reduction fails entirely, as it becomes impossible to find any subset that sums to the target $T'$ for any graph.\n\nE. The constraint that the selected vertices must form an independent set.", "solution": "We analyze the base-4 digit structure of the flawed reduction. Each number has exactly $m$ base-4 digits, one per edge $e_{j}$, and no most significant $(m+1)$-th digit. For each edge $e_{j}=\\{u,v\\}$:\n- The $j$-th digit of $x'_{i}$ equals $1$ if and only if $v_{i}$ is an endpoint of $e_{j}$, and equals $0$ otherwise.\n- The $j$-th digit of $y'_{j}$ equals $1$, and all other digits of $y'_{j}$ equal $0$.\n- The $j$-th digit of the target $T'$ equals $2$.\n\nLet $U \\subseteq \\{1,\\dots,n\\}$ be the indices of selected vertex numbers $\\{x'_{i}\\}$ and $J \\subseteq \\{1,\\dots,m\\}$ be the indices of selected edge numbers $\\{y'_{j}\\}$. Because addition of base-4 digits up to a total of $3$ does not produce a carry (since $3  4$), each digit constraint is independent and must sum exactly to the target digit $2$ with no carries.\n\nFix an edge $e_{j}=\\{a,b\\}$. The $j$-th digit of the sum equals\n$$\n\\mathbf{1}[a \\in U]+\\mathbf{1}[b \\in U]+\\mathbf{1}[j \\in J]=2,\n$$\nwhere $\\mathbf{1}[\\cdot]$ denotes the indicator. Since each term is in $\\{0,1\\}$, the only solutions are:\n- $\\mathbf{1}[a \\in U]=1$ and $\\mathbf{1}[b \\in U]=1$ with $\\mathbf{1}[j \\in J]=0$, or\n- exactly one of $a,b$ is in $U$ with $\\mathbf{1}[j \\in J]=1$.\n\nIn either case, at least one endpoint of $e_{j}$ is in $U$. Therefore, any subset summing to $T'$ necessarily selects a set of vertices $U$ that covers every edge. Hence the vertex-cover property is still enforced, so option A remains correct in the flawed reduction.\n\nNow consider the size constraint. In the correct reduction, the most significant digit enforces $\\sum_{i \\in U}1=k$ because each $x_{i}$ contributes $1$ to that digit, each $y_{j}$ contributes $0$, and the target has $k$ there. In the flawed reduction, this digit is removed entirely. The target $T'$ no longer contains $k$, and the subset-sum constraints involve only the per-edge digits. Consequently, the number of selected vertices is unrestricted by the sum-to-$T'$ condition. For example, selecting all vertices (i.e., $U=\\{1,\\dots,n\\}$) and no edges (i.e., $J=\\varnothing$) yields digit sum $2$ for every edge, so it always satisfies $T'$ regardless of $k$. Hence the constraint that the vertex cover has size equal to $k$ is not enforced.\n\nOption C is irrelevant because the reduction does not require $G$ to be connected in the first place. Option D is false because feasible subsets exist (e.g., selecting all vertices) that sum to $T'$ for arbitrary graphs. Option E is unrelated and not enforced by either the original or the flawed construction.\n\nTherefore, the missing most significant digit causes the loss of the size constraint tied to $k$, i.e., option B.", "answer": "$$\\boxed{B}$$", "id": "1443832"}, {"introduction": "In theoretical computer science, reductions are often chained together, with one proven hard problem serving as the foundation for proving the hardness of another. This advanced exercise simulates such a scenario, embedding the classic VERTEX-COVER to SUBSET-SUM reduction within a larger transformation that targets the PARTITION problem [@problem_id:1443831]. Solving this requires you to look past the surface complexity, recognize the underlying reduction, and apply its logic to unravel the puzzle. This practice will sharpen your ability to identify fundamental computational structures even when they are presented in a disguised, multi-layered context.", "problem": "A computational biology research group models protein-protein interactions using an undirected graph $G=(V,E)$. To analyze the graph's structure, they employ a complex transformation mapping the graph to a set of numerical weights. This transformation consists of two main stages.\n\n**Stage 1: Graph to Primary Weights**\n\nGiven a graph $G$ with $n=|V|$ vertices and $m=|E|$ edges, and an integer parameter $k$, a set of 'primary weights' $S_{\\text{primary}}$ and a target sum $T$ are constructed. The vertices are labeled $v_1, \\dots, v_n$ and edges $e_1, \\dots, e_m$ in a fixed order.\n1.  A base integer $B$ is set to $n+1$.\n2.  For each vertex $v_i \\in V$, a 'vertex-weight' $a_i$ is defined as $a_i = B^m + \\sum_{j=1}^{m} \\delta(i, j) B^{j-1}$, where $\\delta(i, j)=1$ if vertex $v_i$ is an endpoint of edge $e_j$ and $0$ otherwise.\n3.  For each edge $e_j \\in E$, an 'edge-weight' $b_j$ is defined as $b_j = B^{j-1}$.\n4.  The set of primary weights is $S_{\\text{primary}} = \\{a_1, \\dots, a_n\\} \\cup \\{b_1, \\dots, b_m\\}$.\n5.  A target sum $T$ is defined as $T = k \\cdot B^m + 2 \\sum_{j=1}^{m} B^{j-1}$.\n\n**Stage 2: Primary Weights to Final Weights**\n\nThe set $S_{\\text{primary}}$ and target $T$ are then used to generate a final set of 'molecular weights' $S_{\\text{final}}$.\n6.  First, the total sum of all primary weights is calculated: $\\Sigma = \\sum_{w \\in S_{\\text{primary}}} w$.\n7.  A special weight $X$ is computed as $X = \\Sigma - 2T$.\n8.  The final set is $S_{\\text{final}} = S_{\\text{primary}} \\cup \\{X\\}$.\nIt has been theoretically shown that for the specific graphs and parameters the team is interested in, the set $S_{\\text{final}}$ can always be partitioned into two subsets with equal sum.\n\n**Your Task**\n\nConsider the path graph $P_5$, which has 5 vertices and 4 edges. Let the vertices be labeled $v_1, \\dots, v_5$ sequentially along the path, so the edges are $e_1=(v_1,v_2)$, $e_2=(v_2,v_3)$, $e_3=(v_3,v_4)$, and $e_4=(v_4,v_5)$. The parameter $k$ is set to 2.\n\nThe analysis of $S_{\\text{final}}$ results in a partition into two subsets, $P_1$ and $P_2$. It is found that the weight $a_1$ (the vertex-weight corresponding to vertex $v_1$) is in subset $P_1$.\n\nCalculate the sum of all 'vertex-weights' that are in the other subset, $P_2$. Your answer should be an integer value.", "solution": "We are given the construction with base $B=n+1$ and for each vertex $v_{i}$ the weight\n$$\na_{i}=B^{m}+\\sum_{j=1}^{m}\\delta(i,j)B^{j-1},\n$$\nand for each edge $e_{j}$ the weight $b_{j}=B^{j-1}$. For $P_{5}$ we have $n=5$, $m=4$, so $B=6$. The edges are $e_{1}=(v_{1},v_{2})$, $e_{2}=(v_{2},v_{3})$, $e_{3}=(v_{3},v_{4})$, $e_{4}=(v_{4},v_{5})$. The incidences are:\n- $v_{1}$ incident to $e_{1}$,\n- $v_{2}$ incident to $e_{1},e_{2}$,\n- $v_{3}$ incident to $e_{2},e_{3}$,\n- $v_{4}$ incident to $e_{3},e_{4}$,\n- $v_{5}$ incident to $e_{4}$.\n\nTherefore,\n$$\n\\begin{aligned}\na_{1}=B^{4}+B^{0},\\\\\na_{2}=B^{4}+B^{0}+B^{1},\\\\\na_{3}=B^{4}+B^{1}+B^{2},\\\\\na_{4}=B^{4}+B^{2}+B^{3},\\\\\na_{5}=B^{4}+B^{3},\n\\end{aligned}\n\\qquad\n\\begin{aligned}\nb_{1}=B^{0},\\\\\nb_{2}=B^{1},\\\\\nb_{3}=B^{2},\\\\\nb_{4}=B^{3}.\n\\end{aligned}\n$$\nWith $B=6$ we have $B^{0}=1$, $B^{1}=6$, $B^{2}=36$, $B^{3}=216$, $B^{4}=1296$, so\n$$\n\\begin{aligned}\na_{1}=1296+1=1297,\\\\\na_{2}=1296+1+6=1303,\\\\\na_{3}=1296+6+36=1338,\\\\\na_{4}=1296+36+216=1548,\\\\\na_{5}=1296+216=1512,\n\\end{aligned}\n\\qquad\n\\begin{aligned}\nb_{1}=1,\\\\\nb_{2}=6,\\\\\nb_{3}=36,\\\\\nb_{4}=216.\n\\end{aligned}\n$$\n\nIn the standard analysis of this construction, a partition of $S_{\\text{final}}$ into two equal sums exists if and only if there is a subset of $S_{\\text{primary}}$ summing to\n$$\nT=kB^{m}+2\\sum_{j=1}^{m}B^{j-1}.\n$$\nThe element $X=\\Sigma-2T$ ensures that in any equal-sum partition of $S_{\\text{final}}$, the part containing $X$ has (excluding $X$) a submultiset of $S_{\\text{primary}}$ summing exactly to $T$. Because the $B^{m}$ digit appears only in vertex-weights, any such submultiset must contain exactly $k$ vertex-weights, and matching the lower digits to $2\\sum_{j}B^{j-1}$ requires that these $k$ vertices form a vertex cover; edges covered by exactly one chosen vertex contribute one from the vertex and must include $b_{j}$ to reach $2$, while edges covered by both chosen vertices need no $b_{j}$, and uncovered edges cannot be fixed because only one $b_{j}$ exists per edge.\n\nHere $k=2$ and for $P_{5}$ the only vertex cover of size $2$ is $\\{v_{2},v_{4}\\}$. Therefore, in any valid equal-sum partition, the subset containing $X$ must contain exactly the vertex-weights $a_{2}$ and $a_{4}$ (and, in this specific graph, all four edge-weights $b_{1},b_{2},b_{3},b_{4}$, since each edge is covered by exactly one of $v_{2}$ or $v_{4}$). Since it is given that $a_{1}$ lies in $P_{1}$, $P_{1}$ cannot be the side containing $X$ (the $X$-side contains exactly $a_{2}$ and $a_{4}$ among vertex-weights). Hence $X\\in P_{2}$ and the vertex-weights in $P_{2}$ are precisely $a_{2}$ and $a_{4}$.\n\nThus the requested sum is\n$$\na_{2}+a_{4}=(1296+1+6)+(1296+36+216)=1303+1548=2851.\n$$\n\nAs a consistency check, compute the totals:\n$$\n\\sum_{i=1}^{5}a_{i}=5B^{4}+2\\sum_{j=1}^{4}B^{j-1}=5\\cdot1296+2\\cdot259=6998,\\quad \\sum_{j=1}^{4}b_{j}=259,\n$$\nso $\\Sigma=6998+259=7257$, $T=2\\cdot1296+2\\cdot259=3110$, $X=\\Sigma-2T=1037$, and each part sums to $(\\Sigma+X)/2=4147$. Indeed,\n$$\nP_{2}:\\ a_{2}+a_{4}+b_{1}+b_{2}+b_{3}+b_{4}+X=1303+1548+259+1037=4147,\n$$\n$$\nP_{1}:\\ a_{1}+a_{3}+a_{5}=1297+1338+1512=4147,\n$$\nconfirming the structure and that the sum of vertex-weights in $P_{2}$ is $2851$.", "answer": "$$\\boxed{2851}$$", "id": "1443831"}]}