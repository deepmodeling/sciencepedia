{"hands_on_practices": [{"introduction": "An essential aspect of interactive proofs is their reliability. A single round of a protocol might have a non-trivial soundness error, $s$, meaning a dishonest prover has a reasonable chance of deceiving the verifier. This exercise explores the powerful technique of parallel repetition to amplify certainty, demonstrating how repeating a protocol $k$ times can exponentially decrease the overall soundness error to $s^k$, making it acceptably small [@problem_id:1428475].", "problem": "A cryptography startup, \"CryptoSolve,\" claims to have developed a revolutionary algorithm for solving the Graph 3-Coloring problem, a well-known NP-complete problem. To secure funding from a skeptical investor, \"Veritas Capital,\" CryptoSolve must demonstrate the validity of their claim without revealing their proprietary algorithm. They agree to use an Interactive Proof (IP) system for this purpose.\n\nThe protocol they designed has the following properties for a single round of interaction:\n- **Completeness**: If CryptoSolve's algorithm is correct, they will always be able to convince Veritas Capital. The probability of convincing the verifier, in this case, is 1.\n- **Soundness**: If CryptoSolve's algorithm is flawed or they are bluffing, they can still fool Veritas Capital with a certain probability. This probability is known as the soundness error. For the chosen protocol, the soundness error is $2/3$.\n\nAn error rate of $2/3$ is far too high for the investor. To increase confidence in the result, the protocol will be repeated $k$ times in parallel. For the overall demonstration to be considered successful, CryptoSolve must pass all $k$ rounds simultaneously. The investor agrees to provide funding only if this parallel execution reduces the overall soundness error to a value strictly less than $1.0 \\times 10^{-6}$.\n\nWhat is the minimum integer number of parallel repetitions, $k$, required to meet the investor's condition?", "solution": "In one round, the soundness error is the probability a dishonest prover convinces the verifier, which is $s = \\frac{2}{3}$. Under $k$ parallel repetitions where all $k$ instances must be accepted simultaneously, the overall soundness error is at most $s^{k} = \\left(\\frac{2}{3}\\right)^{k}$. The investor requires this to be strictly less than $1.0 \\times 10^{-6}$, so we require\n$$\n\\left(\\frac{2}{3}\\right)^{k}  10^{-6}.\n$$\nTaking natural logarithms of both sides gives\n$$\nk \\ln\\!\\left(\\frac{2}{3}\\right)  \\ln\\!\\left(10^{-6}\\right) = -6 \\ln 10.\n$$\nSince $\\ln\\!\\left(\\frac{2}{3}\\right)  0$, dividing by it reverses the inequality:\n$$\nk > \\frac{-6 \\ln 10}{\\ln\\!\\left(\\frac{2}{3}\\right)} = \\frac{6 \\ln 10}{\\ln\\!\\left(\\frac{3}{2}\\right)}.\n$$\nThus the minimum integer is\n$$\nk_{\\min} = \\left\\lceil \\frac{6 \\ln 10}{\\ln\\!\\left(\\frac{3}{2}\\right)} \\right\\rceil.\n$$\nNumerically, $\\frac{6 \\ln 10}{\\ln\\!\\left(\\frac{3}{2}\\right)} \\approx 34.073\\ldots$, so $k_{\\min} = 35$. Indeed, $\\left(\\frac{2}{3}\\right)^{34} \\approx 1.03 \\times 10^{-6}$, which is not strictly below $1.0 \\times 10^{-6}$, while $\\left(\\frac{2}{3}\\right)^{35} \\approx 6.86 \\times 10^{-7}$, which meets the requirement.", "answer": "$$\\boxed{35}$$", "id": "1428475"}, {"introduction": "The success of an honest prover, a property known as completeness, often depends on the verifier's randomized challenge. This problem provides a concrete interactive protocol for the 4-clique problem and asks you to calculate this success probability. By analyzing the structure of the graph and the verifier's random choice, you will see how a protocol's design directly determines its effectiveness [@problem_id:1428478].", "problem": "A prover (Merlin) wishes to convince a verifier (Arthur) that a given graph $G=(V, E)$ contains a 4-clique, which is a set of 4 vertices where every pair of vertices in the set is connected by an edge. They use the following single-round interactive protocol:\n\n1.  Arthur selects a single edge $(u, v)$ uniformly at random from the set of all edges $E$.\n2.  Arthur sends the vertices $u$ and $v$ to Merlin.\n3.  Merlin, who has unlimited computational power and knows the entire graph structure, must respond with two additional vertices, $x$ and $y$, from the vertex set $V$.\n4.  Arthur accepts if the set of four vertices $\\{u, v, x, y\\}$ forms a 4-clique in $G$. Otherwise, Arthur rejects. To perform this check, Arthur verifies that the five additional edges required to form the clique with the initial edge $(u,v)$—namely $(u,x), (u,y), (v,x), (v,y),$ and $(x,y)$—all exist in $E$.\n\nConsider a specific graph $G$ constructed on 8 vertices labeled $\\{v_1, v_2, v_3, v_4, u_1, u_2, u_3, u_4\\}$. The edge set $E$ is formed as follows:\n- A complete subgraph (a clique) exists on the vertex set $\\{v_1, v_2, v_3, v_4\\}$.\n- Four additional edges connect vertex $v_1$ to each of the other four vertices: $(v_1, u_1), (v_1, u_2), (v_1, u_3), (v_1, u_4)$.\n- No other edges exist in the graph.\n\nAssume that Merlin is honest and plays optimally to convince Arthur (i.e., if it is possible to choose vertices $x$ and $y$ to form a 4-clique, Merlin will do so). What is the probability that Arthur accepts Merlin's claim? Express your answer as a fraction in simplest form.", "solution": "Arthur samples an edge uniformly from $E$. Arthur accepts if and only if there exist vertices $x$ and $y$ such that $\\{u,v,x,y\\}$ induces a $4$-clique. This is possible exactly when the sampled edge $(u,v)$ lies in some $4$-clique of $G$.\n\nIn the given graph $G$, the only $4$-clique is on the vertex set $\\{v_{1},v_{2},v_{3},v_{4}\\}$. No vertex $u_{i}$ can participate in any $4$-clique, since each $u_{i}$ is adjacent only to $v_{1}$ and has no other incident edges.\n\nTherefore:\n- The number of edges that lie in a $4$-clique is the number of edges inside the $K_{4}$ on $\\{v_{1},v_{2},v_{3},v_{4}\\}$:\n$$\n|E_{\\text{clique}}|=\\binom{4}{2}=6.\n$$\n- The total number of edges in $G$ is the $6$ edges of the $K_{4}$ plus the $4$ edges $(v_{1},u_{i})$:\n$$\n|E|=\\binom{4}{2}+4=10.\n$$\n\nIf Arthur samples any of the $6$ edges within the $K_{4}$, Merlin can choose $x$ and $y$ to be the two remaining vertices from $\\{v_{1},v_{2},v_{3},v_{4}\\}$, and Arthur’s check of the five required edges will succeed. If Arthur samples any of the other $4$ edges $(v_{1},u_{i})$, there is no way to complete to a $4$-clique, and Arthur will reject.\n\nThus the acceptance probability is\n$$\n\\frac{|E_{\\text{clique}}|}{|E|}=\\frac{6}{10}=\\frac{3}{5}.\n$$", "answer": "$$\\boxed{\\frac{3}{5}}$$", "id": "1428478"}, {"introduction": "Designing a correct and secure interactive proof is a subtle art; even a small misstep can render a protocol useless. This exercise challenges you to think like a protocol designer and identify the fundamental flaw in a proposed zero-knowledge protocol for the classic Graph 3-Coloring problem. Analyzing why this single-round protocol fails to achieve a low soundness error provides crucial insight into the stringent requirements for building robust interactive systems [@problem_id:1428434].", "problem": "In the field of theoretical computer science, a zero-knowledge proof is a method by which one party (the Prover) can prove to another party (the Verifier) that they know a value or that a statement is true, without conveying any information apart from the fact that they know the value or the statement is true.\n\nConsider the **Graph 3-Coloring problem**, where the goal is to determine if the vertices of a given graph can be colored with one of three available colors such that no two adjacent vertices share the same color. This problem is a classic example used to illustrate interactive proof systems.\n\nA student proposes the following single-round interactive protocol for a Prover, Peggy, to convince a Verifier, Victor, that a given graph $G=(V, E)$ with $|V|$ vertices and $|E|$ edges is 3-colorable.\n\n1.  **Prover's Preparation**: Peggy begins with a valid 3-coloring, $C$, which maps each vertex in $V$ to one of three colors, say $\\{\\text{Red, Green, Blue}\\}$. She then chooses a random permutation $\\pi$ of these three colors (e.g., Red $\\to$ Blue, Blue $\\to$ Green, Green $\\to$ Red). She applies this permutation to her entire coloring to create a new, permuted coloring $C' = \\pi \\circ C$.\n2.  **Commitment**: For each vertex $v \\in V$, Peggy generates a computationally secure cryptographic commitment to its permuted color, $C'(v)$. She sends all $|V|$ of these commitments to Victor.\n3.  **Challenge**: Victor chooses a single edge $(u, v)$ from the graph's edge set $E$ uniformly at random and asks Peggy to reveal the colors for the endpoints of this edge.\n4.  **Reveal**: Peggy reveals the two colors, $C'(u)$ and $C'(v)$, and provides the necessary information for Victor to open the two corresponding commitments.\n5.  **Verification**: Victor opens the commitments to ensure Peggy did not lie about the revealed colors. He then checks if $C'(u) \\neq C'(v)$. If the colors are different, he accepts the proof for this round. If the colors are the same, he rejects.\n\nAssuming the cryptographic commitment scheme is perfectly secure, this protocol is intended to be complete (an honest prover always succeeds), sound (a cheating prover is likely to fail), and zero-knowledge. However, the proposed single-round protocol contains a fundamental flaw. Which of the following statements best describes this primary flaw?\n\nA. The protocol is flawed because an honest prover might fail the check if their valid 3-coloring happens to align unfavorably with the verifier's random edge choice.\nB. The protocol is flawed because a cheating prover, attempting to prove a non-3-colorable graph is 3-colorable, can always devise a strategy to pass the verifier's check, regardless of the edge chosen.\nC. The protocol is flawed because for a non-3-colorable graph, the probability of catching a cheating prover in a single round can be extremely low (as low as $1/|E|$), allowing the prover to succeed with very high probability.\nD. The protocol is flawed because by observing the revealed colors, the verifier can gain significant information about the prover's secret 3-coloring, thus violating the zero-knowledge property.\nE. The protocol is flawed because the cryptographic commitment for all $|V|$ vertices requires too much communication overhead for an interactive proof, making it impractical.", "solution": "Let $G=(V,E)$ be the input graph. The commitment scheme is assumed perfectly binding and hiding. In one round, the verifier selects a single edge uniformly at random from $E$ and checks whether the two revealed endpoint colors are different.\n\nCompleteness: If $G$ is 3-colorable, Peggy has a valid coloring $C:V\\to\\{\\text{three colors}\\}$. For any edge $(u,v)\\in E$, by definition of a proper 3-coloring, $C(u)\\neq C(v)$. A permutation $\\pi$ of the three colors preserves inequality, so for all $(u,v)\\in E$, $(\\pi\\circ C)(u)\\neq(\\pi\\circ C)(v)$. Therefore the verifier always accepts. Hence an honest prover does not fail due to the random edge choice, contradicting option A.\n\nSoundness in a single round: Suppose $G$ is not 3-colorable. A cheating prover must send commitments that are binding to some assignment $A:V\\to\\{\\text{three colors}\\}$, which need not be a proper coloring. Define the set of monochromatic (bad) edges under $A$ by\n$$\nB(A)=\\{(u,v)\\in E:\\;A(u)=A(v)\\}.\n$$\nBecause $G$ is not 3-colorable, every assignment $A$ has at least one bad edge, so $|B(A)|\\geq 1$. The verifier picks an edge uniformly at random and rejects exactly when it picks an edge in $B(A)$. Hence the rejection probability in one round is\n$$\n\\Pr[\\text{reject}]=\\frac{|B(A)|}{|E|}\\geq\\frac{1}{|E|},\n$$\nand the acceptance probability is\n$$\n\\Pr[\\text{accept}]=1-\\frac{|B(A)|}{|E|}\\leq 1-\\frac{1}{|E|}.\n$$\nTherefore, a cheating prover succeeds with probability $1-\\frac{|B(A)|}{|E|}$. By choosing an assignment $A$ that minimizes the number of bad edges (e.g., finding an $A$ where $|B(A)|=1$), the success probability can be as high as $1-\\frac{1}{|E|}$. This can be extremely close to $1$ when $|E|$ is large. Thus, the single-round protocol has a large soundness error and does not adequately catch a cheating prover with high probability. This directly matches option C and disproves option B.\n\nZero-knowledge: Revealing two endpoint colors after a fresh random permutation does not leak significant information about the underlying coloring beyond the fact that the endpoints of a randomly chosen edge have different colors; the distribution can be simulated. Hence option D is not the primary flaw.\n\nCommunication: Sending commitments for all $|V|$ vertices is polynomial and standard in interactive proofs, so option E is not a fundamental flaw.\n\nTherefore, the fundamental flaw of the single-round protocol is its poor soundness: for a non-3-colorable graph, the probability of catching a cheater in one round can be as low as $\\frac{1}{|E|}$, allowing the prover to succeed with high probability.", "answer": "$$\\boxed{C}$$", "id": "1428434"}]}