{"hands_on_practices": [{"introduction": "An Amplify-and-Forward (AF) relay's primary function is to boost a signal's power. However, it's crucial to remember that the relay amplifies both the desired signal and the noise it receives. This first exercise [@problem_id:1602718] walks you through the fundamental calculation of determining the necessary amplification factor $G$ to meet a specific output power constraint, a core task in designing any AF system.", "problem": "In a wireless communication system, a source node (S) transmits information to a destination node (D). Due to a large distance, the direct link between S and D is unreliable. To overcome this, an Amplify-and-Forward (AF) relay node (R) is placed between them. The system operates as follows: the source transmits a signal with an average power $P_S$. This signal travels to the relay through a channel characterized by a power gain $|h_{SR}|^2$. At the relay's receiver, this signal is corrupted by Additive White Gaussian Noise (AWGN) having an average power of $N_0$.\n\nThe AF relay is a simple device that does not decode the signal. Instead, it amplifies the total received waveform (signal plus noise) by a voltage amplification factor $G$. The relay is designed to maintain a constant average transmit power of $P_R$.\n\nGiven the following parameters for the system:\n- Source transmit power, $P_S = 100$ mW\n- Target relay transmit power, $P_R = 500$ mW\n- Source-to-relay channel power gain, $|h_{SR}|^2 = 2.5 \\times 10^{-4}$\n- Average noise power at the relay's input, $N_0 = 1.5 \\times 10^{-5}$ W\n\nCalculate the required voltage amplification factor $G$ for the relay. Round your final answer to three significant figures.", "solution": "The signal received at the relay is $y_{R} = h_{SR} x_{S} + n_{R}$, where $E[|x_{S}|^{2}] = P_{S}$ and $E[|n_{R}|^{2}] = N_{0}$. The average power at the relay input is therefore\n$$\nE[|y_{R}|^{2}] = P_{S} |h_{SR}|^{2} + N_{0}.\n$$\nThe AF relay scales the received waveform by a voltage gain $G$ and transmits $x_{R} = G y_{R}$. The relay transmit power is\n$$\nP_{R} = E[|x_{R}|^{2}] = G^{2} E[|y_{R}|^{2}] = G^{2} \\left(P_{S} |h_{SR}|^{2} + N_{0}\\right).\n$$\nTo satisfy the relay power constraint, solve for $G$:\n$$\nG = \\sqrt{\\frac{P_{R}}{P_{S} |h_{SR}|^{2} + N_{0}}}.\n$$\nSubstitute the given values $P_{S} = 100 \\times 10^{-3}$, $P_{R} = 500 \\times 10^{-3}$, $|h_{SR}|^{2} = 2.5 \\times 10^{-4}$, and $N_{0} = 1.5 \\times 10^{-5}$ (all in watts where applicable):\n$$\nP_{S} |h_{SR}|^{2} = (100 \\times 10^{-3})(2.5 \\times 10^{-4}) = 2.5 \\times 10^{-5},\n$$\n$$\nP_{S} |h_{SR}|^{2} + N_{0} = 2.5 \\times 10^{-5} + 1.5 \\times 10^{-5} = 4.0 \\times 10^{-5},\n$$\n$$\nG^{2} = \\frac{0.5}{4.0 \\times 10^{-5}} = \\frac{5 \\times 10^{-1}}{4 \\times 10^{-5}} = \\frac{5}{4} \\times 10^{4} = 1.25 \\times 10^{4},\n$$\n$$\nG = \\sqrt{1.25 \\times 10^{4}} = \\sqrt{12500} = 50 \\sqrt{5} \\approx 111.803\\ldots\n$$\nRounded to three significant figures, $G = 112$.", "answer": "$$\\boxed{112}$$", "id": "1602718"}, {"introduction": "A relaying system is a chain of communication links, and its overall strength is dictated by its weakest link. This concept of a \"bottleneck\" is vital for understanding and optimizing system performance. In this practice [@problem_id:1602653], you will analyze the conditions that determine whether the source-to-relay hop or the relay-to-destination hop limits the end-to-end performance, providing key insights into system design trade-offs.", "problem": "Consider a wireless communication system composed of a source node (S), a single relay node (R), and a destination node (D). Communication occurs in two orthogonal time slots, forming a dual-hop link. In the first slot, S transmits a signal to R. In the second slot, R forwards an amplified version of what it received to D. There is no direct communication link between S and D. This scheme is known as Amplify-and-Forward (AF) relaying.\n\nThe system operates under the following conditions:\n- The source S transmits with a constant average power $P_S$.\n- The channel from S to R has a power gain of $|h_{SR}|^2$, and the channel from R to D has a power gain of $|h_{RD}|^2$. These gains are positive, real constants.\n- The receiver at the relay and the receiver at the destination both experience additive white Gaussian noise with the same average power $N_0$ within the signal's bandwidth.\n- The relay's amplification factor is dynamically adjusted such that its re-transmission to the destination always has a constant average power $P_R$.\n\nIn the high Signal-to-Noise Ratio (SNR) regime, a common approximation for the end-to-end equivalent SNR of this system, $\\text{SNR}_{eq}$, is given by the harmonic mean of the effective SNRs of the two hops:\n$$ \\frac{1}{\\text{SNR}_{eq}} \\approx \\frac{1}{\\text{SNR}_{SR}} + \\frac{1}{\\text{SNR}_{RD}} $$\nwhere $\\text{SNR}_{SR}$ is the SNR of the S-R link and $\\text{SNR}_{RD}$ is the effective SNR of the R-D link, defined using their respective transmit powers and channel gains.\n\nThe overall system performance is limited by the \"bottleneck\" hop, which is defined as the hop with the lower effective SNR. Determine the condition, expressed as an inequality, under which the first hop (S-R) is the performance bottleneck.\n\nA. $\\frac{|h_{SR}|^2}{|h_{RD}|^2}  \\frac{P_R}{P_S}$\n\nB. $\\frac{|h_{SR}|^2}{|h_{RD}|^2} > \\frac{P_R}{P_S}$\n\nC. $\\frac{|h_{SR}|^2}{|h_{RD}|^2}  \\frac{P_S}{P_R}$\n\nD. $\\frac{|h_{SR}|^2}{|h_{RD}|^2} > \\frac{P_S}{P_R}$\n\nE. $|h_{SR}|^2 |h_{RD}|^2  P_S P_R$\n\nF. $|h_{SR}|^2 + |h_{RD}|^2  P_S + P_R$", "solution": "In high-SNR AF relaying with orthogonal slots, the equivalent SNR obeys\n$$\n\\frac{1}{\\text{SNR}_{eq}} \\approx \\frac{1}{\\text{SNR}_{SR}} + \\frac{1}{\\text{SNR}_{RD}}.\n$$\nThe bottleneck hop is the one with the lower effective SNR. With the stated definitions, the per-hop SNRs are\n$$\n\\text{SNR}_{SR} = \\frac{P_{S} |h_{SR}|^2}{N_{0}}, \\qquad \\text{SNR}_{RD} = \\frac{P_{R} |h_{RD}|^2}{N_{0}},\n$$\nsince the relay transmits with average power $P_{R}$ and the same noise power $N_{0}$ applies at both receivers.\n\nThe first hop (S-R) is the bottleneck when it has the lower SNR:\n$$\n\\text{SNR}_{SR}  \\text{SNR}_{RD}.\n$$\nSubstituting the expressions and canceling $N_{0}0$ gives\n$$\nP_{S} |h_{SR}|^2  P_{R} |h_{RD}|^2.\n$$\nSince $P_{S}, P_{R}, |h_{SR}|^2, |h_{RD}|^2  0$, dividing both sides by $P_{S} |h_{RD}|^2$ preserves the inequality:\n$$\n\\frac{|h_{SR}|^2}{|h_{RD}|^2}  \\frac{P_{R}}{P_{S}}.\n$$\nThis corresponds to option A.", "answer": "$$\\boxed{A}$$", "id": "1602653"}, {"introduction": "Building on the concept of a system bottleneck, we can ask a powerful question: can we overcome the limitations of a poor channel by simply using a more powerful relay? This thought experiment [@problem_id:1602697] explores the asymptotic behavior of an AF system as the relay's power approaches infinity. The result reveals a fundamental limitation of AF relaying and underscores the critical importance of the first hop's signal quality.", "problem": "Consider a wireless communication system composed of three nodes: a source (S), an Amplify-and-Forward (AF) relay (R), and a destination (D). The source intends to transmit information to the destination, but the direct link S-D is unavailable. Instead, the communication occurs over two hops: S-to-R and R-to-D.\n\nThe source transmits a signal with a constant average power $P_{S}$. The wireless channel from the source to the relay has a power gain of $|h_{SR}|^2$. The channel from the relay to the destination has a power gain of $|h_{RD}|^2$. Both links are affected by Additive White Gaussian Noise (AWGN), with the noise at the relay's receiver and the destination's receiver both having an identical power of $N_{0}$ within the signal bandwidth.\n\nThe relay operates in the AF mode. It receives the signal from the source, which is corrupted by noise. It then scales the entire received signal (signal plus noise) by an amplification factor $\\beta$. This factor is chosen such that the relay's average transmit power is exactly equal to a fixed value $P_{R}$. The amplified signal is then forwarded to the destination.\n\nDetermine the asymptotic end-to-end Signal-to-Noise Ratio (SNR) at the destination as the relay's transmit power $P_{R}$ approaches infinity. Express your answer as an analytic expression in terms of the given parameters.", "solution": "Let the source transmit symbol be $x$ with $\\mathbb{E}\\{|x|^{2}\\}=1$. The received signal at the relay is\n$$\ny_{R}=\\sqrt{|h_{SR}|^2 P_{S}}\\,x+n_{R},\n$$\nwhere $n_{R}$ is AWGN with $\\mathbb{E}\\{|n_{R}|^{2}\\}=N_{0}$. Hence the received power at the relay is\n$$\n\\mathbb{E}\\{|y_{R}|^{2}\\}=P_{S}|h_{SR}|^2+N_{0}.\n$$\nThe relay amplifies by a factor $\\beta$ and transmits $s_{R}=\\beta y_{R}$. The relay power constraint $\\mathbb{E}\\{|s_{R}|^{2}\\}=P_{R}$ imposes\n$$\n\\beta^{2}=\\frac{P_{R}}{P_{S}|h_{SR}|^2+N_{0}}.\n$$\n\nThe received signal at the destination is\n$$\ny_{D}=\\sqrt{|h_{RD}|^2}\\,s_{R}+n_{D}=\\sqrt{|h_{RD}|^2}\\,\\beta\\left(\\sqrt{|h_{SR}|^2 P_{S}}\\,x+n_{R}\\right)+n_{D},\n$$\nwhere $n_{D}$ is AWGN with $\\mathbb{E}\\{|n_{D}|^{2}\\}=N_{0}$ and is independent of $n_{R}$. The desired signal power at the destination is\n$$\nP_{\\text{sig}}=|h_{RD}|^2\\beta^{2}|h_{SR}|^2 P_{S},\n$$\nand the total noise power is\n$$\nP_{\\text{noise}}=|h_{RD}|^2\\beta^{2}N_{0}+N_{0}.\n$$\nTherefore, the end-to-end SNR at the destination is\n$$\n\\mathrm{SNR}_{\\text{e2e}}=\\frac{|h_{RD}|^2\\beta^{2}|h_{SR}|^2 P_{S}}{|h_{RD}|^2\\beta^{2}N_{0}+N_{0}}.\n$$\nSubstituting $\\beta^{2}=\\frac{P_{R}}{P_{S}|h_{SR}|^2+N_{0}}$ gives\n$$\n\\mathrm{SNR}_{\\text{e2e}}=\\frac{P_{R}|h_{RD}|^2|h_{SR}|^2 P_{S}}{P_{R}|h_{RD}|^2 N_{0}+N_{0}\\left(P_{S}|h_{SR}|^2+N_{0}\\right)}.\n$$\n\nTo find the asymptotic behavior as $P_{R}\\to\\infty$, divide numerator and denominator by $P_{R}|h_{RD}|^2$:\n$$\n\\mathrm{SNR}_{\\text{e2e}}=\\frac{|h_{SR}|^2 P_{S}}{N_{0}+\\frac{N_{0}\\left(P_{S}|h_{SR}|^2+N_{0}\\right)}{P_{R}|h_{RD}|^2}}\\xrightarrow[P_{R}\\to\\infty]{}\\frac{P_{S}|h_{SR}|^2}{N_{0}}.\n$$\nThus, as the relay power grows without bound, the end-to-end SNR saturates to the SNR of the first hop.", "answer": "$$\\boxed{\\frac{P_{S}|h_{SR}|^2}{N_{0}}}$$", "id": "1602697"}]}