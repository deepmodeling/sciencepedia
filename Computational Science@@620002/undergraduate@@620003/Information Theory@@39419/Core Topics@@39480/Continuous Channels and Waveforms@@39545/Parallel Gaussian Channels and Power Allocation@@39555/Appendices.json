{"hands_on_practices": [{"introduction": "To begin our exploration of power allocation, we start with the simplest strategy: distributing power equally among all available channels. This exercise provides a fundamental baseline for system performance and solidifies your understanding of how total capacity is calculated across parallel channels. By working through this scenario [@problem_id:1644845], you will establish a reference point against which more sophisticated, optimal allocation methods can be compared.", "problem": "A wireless communication system is modeled as comprising three parallel, independent Additive White Gaussian Noise (AWGN) channels. These channels operate in separate, non-interfering frequency bands. Each of the three channels has an identical bandwidth of $W = 1.0$ MHz. The noise powers for the three channels are different due to varying environmental interference in each band; they are measured to be $N_1 = 1.0$ Watt, $N_2 = 2.0$ Watts, and $N_3 = 5.0$ Watts, respectively.\n\nThe system has a total available transmission power of $P_{total} = 15.0$ Watts. A simple power allocation strategy is employed where this total power is distributed equally among the three channels.\n\nCalculate the total theoretical capacity of this system under the specified power allocation strategy. Express your answer in millions of bits per second (Mbps). Round your final answer to three significant figures.", "solution": "For an AWGN channel with bandwidth $W$, signal power $P$, and noise power $N$ over that band, the Shannon capacity is\n$$\nC = W \\log_{2}\\!\\left(1+\\frac{P}{N}\\right).\n$$\nWith three independent, non-interfering parallel channels, the total capacity is the sum of the individual capacities:\n$$\nC_{\\text{total}} = \\sum_{i=1}^{3} W \\log_{2}\\!\\left(1+\\frac{P_{i}}{N_{i}}\\right).\n$$\nThe total available power is split equally, so\n$$\nP_{1} = P_{2} = P_{3} = \\frac{P_{\\text{total}}}{3}.\n$$\nGiven $W = 1.0 \\times 10^{6}$ Hz, $P_{\\text{total}} = 15.0$ W, and $(N_{1},N_{2},N_{3})=(1.0,2.0,5.0)$ W, we have\n$$\nP_{1}=P_{2}=P_{3}=5.0 \\text{ W}.\n$$\nTherefore,\n$$\nC_{\\text{total}} = W\\left[\\log_{2}\\!\\left(1+\\frac{5.0}{1.0}\\right)+\\log_{2}\\!\\left(1+\\frac{5.0}{2.0}\\right)+\\log_{2}\\!\\left(1+\\frac{5.0}{5.0}\\right)\\right].\n$$\nCompute each term:\n$$\n\\log_{2}(1+5.0)=\\log_{2}(6), \\quad \\log_{2}\\!\\left(1+\\frac{5.0}{2.0}\\right)=\\log_{2}(3.5), \\quad \\log_{2}\\!\\left(1+\\frac{5.0}{5.0}\\right)=\\log_{2}(2)=1.\n$$\nThus,\n$$\nC_{\\text{total}} = \\left(1.0 \\times 10^{6}\\right)\\left[\\log_{2}(6)+\\log_{2}(3.5)+1\\right] \\text{ bits per second}.\n$$\nExpressed in millions of bits per second (Mbps), this is\n$$\nC_{\\text{total}} \\text{ (in Mbps)} = \\log_{2}(6)+\\log_{2}(3.5)+1.\n$$\nNumerically,\n$$\n\\log_{2}(6) \\approx 2.5849625007, \\quad \\log_{2}(3.5) \\approx 1.8073549221,\n$$\nso\n$$\nC_{\\text{total}} \\approx 2.5849625007+1.8073549221+1 = 5.3923174228 \\text{ Mbps}.\n$$\nRounding to three significant figures gives $5.39$ Mbps.", "answer": "$$\\boxed{5.39}$$", "id": "1644845"}, {"introduction": "Optimal power allocation is often visualized with the \"water-filling\" analogy, where power \"fills\" channels starting from those with the lowest noise floor. This practice [@problem_id:1644871] asks you to determine the precise power threshold at which it becomes beneficial to start allocating power to noisier channels. Solving this problem will build a strong conceptual understanding of why optimal strategies don't always use all available channels, especially at lower total power levels.", "problem": "A deep-space probe is designed to transmit data back to Earth across $N$ parallel, independent communication channels, where $N$ is a positive even integer. All channels are modeled as Additive White Gaussian Noise (AWGN) channels. Due to varying background radiation and interference, these channels are not all of a uniform quality. Specifically, one half of the channels ($N/2$ of them) are classified as \"good\" channels, each experiencing a low noise power variance of $\\sigma_g^2$. The other half ($N/2$ channels) are \"bad\" channels, each suffering from a significantly higher noise power variance of $\\sigma_b^2$, with $\\sigma_b^2 > \\sigma_g^2$.\n\nA central power controller on the probe must allocate a total available power, $P_{total}$, among these $N$ channels. The power allocated to the $i$-th channel is denoted by $P_i$, such that $\\sum_{i=1}^{N} P_i = P_{total}$ and $P_i \\ge 0$ for all $i$. The allocation is performed to maximize the total Shannon capacity of the system.\n\nFind the precise threshold for the total power, denoted $P_{threshold}$, at which the optimal power allocation strategy begins to allocate a non-zero amount of power to the \"bad\" channels. In other words, for any total power $P_{total} \\le P_{threshold}$, all power is given to the \"good\" channels, and for any $P_{total} > P_{threshold}$, at least one \"bad\" channel receives some power.\n\nExpress your answer as an analytic expression in terms of $N$, $\\sigma_g^2$, and $\\sigma_b^2$.", "solution": "We model the $i$-th AWGN channel with noise variance $\\sigma_{i}^{2}$ and power allocation $P_{i} \\ge 0$. The total capacity (in nats per channel use, which suffices since the base of the logarithm does not affect the optimizer) is\n$$\nC=\\sum_{i=1}^{N}\\ln\\!\\left(1+\\frac{P_{i}}{\\sigma_{i}^{2}}\\right),\n$$\nsubject to the constraints $\\sum_{i=1}^{N}P_{i}=P_{total}$ and $P_{i}\\ge 0$ for all $i$.\n\nThis is a concave maximization problem with linear constraints, so the Karush-Kuhn-Tucker (KKT) conditions are necessary and sufficient. Form the Lagrangian\n$$\n\\mathcal{L}=\\sum_{i=1}^{N}\\ln\\!\\left(1+\\frac{P_{i}}{\\sigma_{i}^{2}}\\right)-\\lambda\\!\\left(\\sum_{i=1}^{N}P_{i}-P_{total}\\right)-\\sum_{i=1}^{N}\\nu_{i}P_{i},\n$$\nwith $\\lambda$ the multiplier for the sum-power constraint and $\\nu_{i}\\ge 0$ the multipliers for $P_{i}\\ge 0$. Stationarity gives, for each $i$,\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial P_{i}}=\\frac{1}{\\sigma_{i}^{2}+P_{i}}-\\lambda-\\nu_{i}=0.\n$$\nBy complementary slackness, if $P_{i}>0$ then $\\nu_{i}=0$, yielding\n$$\n\\frac{1}{\\sigma_{i}^{2}+P_{i}}=\\lambda \\quad \\Longrightarrow \\quad P_{i}=\\frac{1}{\\lambda}-\\sigma_{i}^{2}.\n$$\nIf $P_{i}=0$ then $\\nu_{i}\\ge 0$ adjusts to satisfy the stationarity condition. Therefore the optimal allocation is the water-filling solution\n$$\nP_{i}=\\max\\!\\left\\{0,\\,\\mu-\\sigma_{i}^{2}\\right\\}, \\quad \\text{where } \\mu=\\frac{1}{\\lambda},\n$$\nand $\\mu$ is chosen to meet $\\sum_{i=1}^{N}P_{i}=P_{total}$.\n\nIn the present problem, there are $\\frac{N}{2}$ good channels with noise variance $\\sigma_{g}^{2}$ and $\\frac{N}{2}$ bad channels with noise variance $\\sigma_{b}^{2}$ with $\\sigma_{b}^{2}>\\sigma_{g}^{2}$. By symmetry, all good channels receive the same power and all bad channels receive the same power under water-filling. As $\\mu$ increases from $\\sigma_{g}^{2}$ upward, power is first allocated only to the good channels; the bad channels begin to receive nonzero power exactly when the water level reaches their noise floor, i.e., when $\\mu=\\sigma_{b}^{2}$.\n\nWhile only the good channels are active, the total power used is\n$$\nP_{total}=\\frac{N}{2}\\bigl(\\mu-\\sigma_{g}^{2}\\bigr), \\quad \\text{for } \\sigma_{g}^{2}\\le \\mu \\le \\sigma_{b}^{2}.\n$$\nAt the threshold where the bad channels are just about to be activated, set $\\mu=\\sigma_{b}^{2}$ to obtain\n$$\nP_{threshold}=\\frac{N}{2}\\bigl(\\sigma_{b}^{2}-\\sigma_{g}^{2}\\bigr).\n$$\nFor any $P_{total}\\le P_{threshold}$, the optimal allocation sets $P_{i}=0$ for all bad channels and distributes power equally across the good channels. For any $P_{total}>P_{threshold}$, the water level exceeds $\\sigma_{b}^{2}$ and the optimal allocation gives a positive power to each bad channel.", "answer": "$$\\boxed{\\frac{N}{2}\\left(\\sigma_{b}^{2}-\\sigma_{g}^{2}\\right)}$$", "id": "1644871"}, {"introduction": "While the water-filling algorithm provides an elegant solution for continuous power, real-world systems often operate with discrete power levels. This exercise [@problem_id:1644884] challenges you to find the optimal allocation when power is divided into indivisible units. You will apply the principles of dynamic programming to solve this resource allocation problem, gaining valuable skills in computational optimization for communication systems.", "problem": "A modern wireless communication system employs a technique that divides a wide frequency band into a set of parallel, non-interfering sub-channels. Each sub-channel can be modeled as an independent Additive White Gaussian Noise (AWGN) channel. The total capacity of such a system is the sum of the capacities of its sub-channels.\n\nConsider a simplified system with $N=3$ parallel sub-channels, each having an identical bandwidth of $B = 1000$ Hz. The capacity of the $i$-th sub-channel, $C_i$, when a power $P_i$ is allocated to it, is given by the Shannon-Hartley theorem:\n$$C_i = B \\log_2\\left(1 + \\frac{|h_i|^2 P_i}{N_0 B}\\right)$$\nwhere $|h_i|^2$ is the power gain of the $i$-th channel and $N_0$ is the constant one-sided power spectral density of the noise.\n\nThe system has a total power budget that has been discretized into $M=3$ indivisible integer units of power. An integer number of these units, $m_i \\in \\{0, 1, 2, 3\\}$, can be allocated to each channel $i$, such that the total number of units used does not exceed $M$. The power allocated to channel $i$ is thus $P_i = m_i \\Delta P$, where $\\Delta P$ is the power of a single unit. The capacity of channel $i$ with $m_i$ units of power is therefore:\n$$C_i(m_i) = B \\log_2(1 + \\gamma_i m_i)$$\nwhere $\\gamma_i = \\frac{|h_i|^2 \\Delta P}{N_0 B}$ is a dimensionless parameter representing the normalized gain-to-noise ratio per power unit for the $i$-th channel.\n\nThe values for the three channels are:\n$\\gamma_1 = 1.0$\n$\\gamma_2 = 0.5$\n$\\gamma_3 = 3.0$\n\nYour task is to find the maximum possible total capacity, $C_{\\text{total}} = \\sum_{i=1}^{3} C_i(m_i)$, for this system by determining the optimal allocation of the $M=3$ power units. The sum of the allocated power units must satisfy $\\sum_{i=1}^{3} m_i \\le 3$.\n\nUsing a dynamic programming approach, calculate the maximum achievable total capacity. Express your final answer in bits per second, rounded to four significant figures.", "solution": "The problem asks for the maximum total capacity of a system of $N=3$ parallel Gaussian channels, with a total of $M=3$ indivisible units of power. The capacity of channel $i$ with $m_i$ power units is given by $C_i(m_i) = B \\log_2(1 + \\gamma_i m_i)$, where $B=1000$ Hz. The goal is to maximize $C_{\\text{total}} = \\sum_{i=1}^{3} C_i(m_i)$ subject to the constraint $\\sum_{i=1}^{3} m_i \\le 3$, where each $m_i$ is a non-negative integer.\n\nThis is a classic resource allocation problem that can be solved using dynamic programming. Let $V(k, m)$ be the maximum capacity achievable by allocating $m$ units of power across the first $k$ channels (from channel 1 to channel $k$).\n\nThe dynamic programming recursion can be formulated as follows: To calculate $V(k, m)$, we decide how many power units, $j$, to allocate to channel $k$. This leaves $m-j$ units for the first $k-1$ channels. The capacity from this decision is the sum of the capacity of channel $k$ with $j$ units, $C_k(j)$, and the maximum capacity achievable with the remaining resources, $V(k-1, m-j)$. We must maximize over all possible choices for $j$, where $0 \\le j \\le m$.\n\nThe recursion is:\n$$V(k, m) = \\max_{0 \\le j \\le m} \\{ C_k(j) + V(k-1, m-j) \\}$$\n\nThe base case is for $k=0$ (no channels), where the capacity is always zero regardless of the power available:\n$$V(0, m) = 0 \\quad \\text{for all } m \\in \\{0, 1, 2, 3\\}$$\n\nFirst, we pre-calculate the individual channel capacities $C_i(j)$ for $i \\in \\{1, 2, 3\\}$ and $j \\in \\{0, 1, 2, 3\\}$. We use $B=1000$ and the given $\\gamma_i$ values. All capacities are in bits/sec.\n$C_i(j) = 1000 \\log_2(1 + \\gamma_i j)$\n\nFor Channel 1 ($\\gamma_1 = 1.0$):\n$C_1(0) = 1000 \\log_2(1) = 0$\n$C_1(1) = 1000 \\log_2(2) = 1000$\n$C_1(2) = 1000 \\log_2(3) \\approx 1584.96$\n$C_1(3) = 1000 \\log_2(4) = 2000$\n\nFor Channel 2 ($\\gamma_2 = 0.5$):\n$C_2(0) = 1000 \\log_2(1) = 0$\n$C_2(1) = 1000 \\log_2(1.5) \\approx 584.96$\n$C_2(2) = 1000 \\log_2(2) = 1000$\n$C_2(3) = 1000 \\log_2(2.5) \\approx 1321.93$\n\nFor Channel 3 ($\\gamma_3 = 3.0$):\n$C_3(0) = 1000 \\log_2(1) = 0$\n$C_3(1) = 1000 \\log_2(4) = 2000$\n$C_3(2) = 1000 \\log_2(7) \\approx 2807.35$\n$C_3(3) = 1000 \\log_2(10) \\approx 3321.93$\n\nNow, we build the DP table for $V(k, m)$.\n\n**Step 1: k=1 (Channels 1)**\n$V(1, m) = \\max_{0 \\le j \\le m} \\{ C_1(j) + V(0, m-j) \\} = C_1(m) + V(0, 0) = C_1(m)$.\n$V(1, 0) = C_1(0) = 0$\n$V(1, 1) = C_1(1) = 1000$\n$V(1, 2) = C_1(2) \\approx 1584.96$\n$V(1, 3) = C_1(3) = 2000$\n\n**Step 2: k=2 (Channels 1 and 2)**\n$V(2, m) = \\max_{0 \\le j \\le m} \\{ C_2(j) + V(1, m-j) \\}$.\n$V(2, 0) = C_2(0) + V(1, 0) = 0 + 0 = 0$.\n$V(2, 1) = \\max\\{ C_2(0)+V(1,1), C_2(1)+V(1,0) \\} = \\max\\{ 0+1000, 584.96+0 \\} = 1000$.\n$V(2, 2) = \\max\\{ C_2(0)+V(1,2), C_2(1)+V(1,1), C_2(2)+V(1,0) \\} = \\max\\{ 0+1584.96, 584.96+1000, 1000+0 \\} = \\max\\{ 1584.96, 1584.96, 1000 \\} \\approx 1584.96$.\n$V(2, 3) = \\max\\{ C_2(0)+V(1,3), C_2(1)+V(1,2), C_2(2)+V(1,1), C_2(3)+V(1,0) \\} = \\max\\{ 0+2000, 584.96+1584.96, 1000+1000, 1321.93+0 \\} = \\max\\{ 2000, 2169.92, 2000, 1321.93 \\} \\approx 2169.92$.\n\n**Step 3: k=3 (Channels 1, 2, and 3)**\nThe final answer is $V(3, 3)$.\n$V(3, 3) = \\max_{0 \\le j \\le 3} \\{ C_3(j) + V(2, 3-j) \\}$.\nWe evaluate the term inside the max for each possible value of $j$, which is the power allocated to channel 3.\n\n-   If $j=0$ (0 units to ch. 3): $C_3(0) + V(2, 3) = 0 + 2169.92 = 2169.92$.\n-   If $j=1$ (1 unit to ch. 3): $C_3(1) + V(2, 2) = 2000 + 1584.96 = 3584.96$.\n-   If $j=2$ (2 units to ch. 3): $C_3(2) + V(2, 1) = 2807.35 + 1000 = 3807.35$.\n-   If $j=3$ (3 units to ch. 3): $C_3(3) + V(2, 0) = 3321.93 + 0 = 3321.93$.\n\nComparing these values:\n$\\max\\{2169.92, 3584.96, 3807.35, 3321.93\\} \\approx 3807.35$.\n\nThe maximum total capacity is approximately $3807.35$ bits/sec.\nRounding to four significant figures, the answer is 3807.\n\nThe optimal allocation that achieves this capacity is found by tracing back. The maximum for $V(3,3)$ occurred at $j=2$, so $m_3=2$. This leaves 1 unit of power for channels 1 and 2, so we look at the decision for $V(2,1)$. For $V(2,1)$, the maximum was for $j=0$, so $m_2=0$. This leaves 1 unit for channel 1, so $m_1=1$. The optimal allocation is $(m_1, m_2, m_3) = (1, 0, 2)$.\nChecking this allocation:\n$C_{\\text{total}} = C_1(1) + C_2(0) + C_3(2) = 1000 + 0 + 2807.35 = 3807.35$ bits/sec. This confirms our result.", "answer": "$$\\boxed{3807}$$", "id": "1644884"}]}