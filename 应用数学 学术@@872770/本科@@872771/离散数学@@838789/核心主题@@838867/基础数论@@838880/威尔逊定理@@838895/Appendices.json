{"hands_on_practices": [{"introduction": "威尔逊定理为我们提供了一个强大的工具，不仅可以直接判断素数，还能用于计算与 $(p-1)!$ 相关的其他阶乘在模 $p$ 下的值。本练习将引导你运用威尔逊定理进行一个基本但重要的推导：利用 $(p-1)! \\equiv -1 \\pmod p$ 的关系，来求解一个涉及 $(p-2)!$ 的具体计算问题。这是掌握威尔逊定理实际应用的第一步。", "problem": "在数论研究中，阶乘在模运算下的行为是一个经典课题。设整数 $N$ 由表达式 $N = 3 \\cdot (35!) + 95$ 定义。你的任务是求出 $N$ 除以质数 $37$ 的余数。", "solution": "我们要求 $N \\pmod{37}$，其中 $N = 3 \\cdot (35!) + 95$ 且 $37$ 是一个质数。根据威尔逊定理，对于一个质数 $p$，有 $(p-1)! \\equiv -1 \\pmod{p}$。取 $p=37$ 可得\n$$\n36! \\equiv -1 \\pmod{37}.\n$$\n因为 $36! = 36 \\cdot 35!$ 且 $36 \\equiv -1 \\pmod{37}$，我们有\n$$\n36 \\cdot 35! \\equiv -1 \\pmod{37} \\quad \\Longrightarrow \\quad (-1)\\cdot 35! \\equiv -1 \\pmod{37}.\n$$\n两边同乘以 $-1$ 得\n$$\n35! \\equiv 1 \\pmod{37}.\n$$\n因此，\n$$\nN \\equiv 3 \\cdot 35! + 95 \\equiv 3 \\cdot 1 + 95 \\equiv 98 \\pmod{37}.\n$$\n将 $98$ 对 $37$ 取模，注意到 $37 \\cdot 2 = 74$，因此 $98 - 74 = 24$，所以\n$$\n98 \\equiv 24 \\pmod{37}.\n$$\n因此，$N$ 除以 $37$ 的余数是 $24$。", "answer": "$$\\boxed{24}$$", "id": "1414794"}, {"introduction": "深刻理解一个数学定理，不仅要知其然，还要知其所以然，包括了解其适用边界。威尔逊定理是一个“当且仅当”的结论，这意味着它对合数不成立。本练习通过检验最小的合数 $n=4$ 的情况，清晰地展示了定理为何失效，从而帮助你巩固对定理条件的精确理解。", "problem": "数论中的Wilson定理指出，一个整数 $p  1$ 是素数当且仅当 $(p-1)! \\equiv -1 \\pmod{p}$。这为素性判断提供了一个明确的判据。\n\n对于合数，$ (n-1)! \\pmod{n}$ 的行为则不同。例如，对于任何大于4的合数 $n$，同余式 $(n-1)! \\equiv 0 \\pmod{n}$ 成立。最小的合数 $n=4$ 是一个特例，它既不符合素数的规则，也不符合大于4的合数的规则。\n\n确定 $(4-1)! \\pmod{4}$ 的值。\n\nA. 0\nB. 1\nC. 2\nD. 3", "solution": "题目要求我们计算 $(4-1)! \\pmod{4}$。令 $n=4$。那么\n$$\n(4-1)! = 3! = 3 \\cdot 2 \\cdot 1 = 6.\n$$\n为了对4取模，我们使用带余除法：$6 = 4 \\cdot 1 + 2$，因此\n$$\n6 \\equiv 2 \\pmod{4}.\n$$\n因此，$(4-1)! \\equiv 2 \\pmod{4}$，这对应于选项C。", "answer": "$$\\boxed{C}$$", "id": "1414801"}, {"introduction": "在掌握了基本应用和边界条件后，我们可以挑战更综合的问题，这更接近于定理在密码学等领域的实际应用方式。本练习要求你综合运用威尔逊定理的多个推论，并结合模逆元的概念来解决一个多步问题。通过这个练习，你将把孤立的知识点联系起来，提升解决复杂数論问题的能力。", "problem": "在某些现代公钥密码协议中，一个核心操作涉及计算阶乘表达式的模逆元。设 $p$ 为一个素数，满足 $p  5$。你的任务是计算整数 $V = (p-2)! \\times (p-4)!$ 关于模 $p$ 的模逆元。\n\n请以与该逆元模 $p$ 同余的最小非负整数形式给出答案。", "solution": "设 $p$ 是一个满足 $p5$ 的素数，并定义 $V=(p-2)!\\,(p-4)!$ 模 $p$。根据威尔逊定理，有 $(p-1)!\\equiv -1 \\pmod p$。\n\n首先，使用 $(p-1)!=(p-1)(p-2)!$ 计算 $(p-2)!$ 模 $p$：\n$$(p-1)(p-2)!\\equiv -1 \\pmod p.$$\n因为 $p\\nmid (p-1)$ 且 $(p-1)\\equiv -1 \\pmod p$，我们有 $(p-1)^{-1}\\equiv -1 \\pmod p$，因此\n$$(p-2)!\\equiv (p-1)!(p-1)^{-1}\\equiv (-1)\\cdot(-1)\\equiv 1 \\pmod p.$$\n\n接下来，使用 $(p-1)!=(p-1)(p-2)(p-3)(p-4)!$ 计算 $(p-4)!$ 模 $p$：\n$$(-1)(-2)(-3)(p-4)!\\equiv -1 \\pmod p.$$\n乘积 $(-1)(-2)(-3)=-6$，所以\n$$-6\\,(p-4)!\\equiv -1 \\pmod p.$$\n两边同乘以 $-1$ 得\n$$6\\,(p-4)!\\equiv 1 \\pmod p.$$\n因为 $p5$，我们有 $\\gcd(6,p)=1$，所以 $6$ 模 $p$ 可逆，因此\n$$(p-4)!\\equiv 6^{-1} \\pmod p.$$\n\n所以，\n$$V=(p-2)!\\,(p-4)!\\equiv 1\\cdot 6^{-1}\\equiv 6^{-1} \\pmod p.$$\n两边取模 $p$ 的逆元得到\n$$V^{-1}\\equiv (6^{-1})^{-1}\\equiv 6 \\pmod p.$$\n因为 $p5$，所以最小的非负代表是 $6$。", "answer": "$$\\boxed{6}$$", "id": "1414779"}]}