{"hands_on_practices": [{"introduction": "本练习将通过一个经典的掷骰子场景，帮助你实践条件概率的基本定义。当事件按顺序发生时，新信息的出现会改变我们对未来结果的判断。这个练习将引导你精确地运用条件概率公式 $P(A|B) = \\frac{P(A \\cap B)}{P(B)}$，并强调如何清晰地定义事件及其交集，这是解决此类问题的关键第一步。[@problem_id:1358411]", "problem": "在一个重复投掷标准、公平的六面骰子的游戏中，玩家观察结果序列。骰子的面编号为1到6。假设前三次投掷的结果都不是奇数，那么第一次投出“6”发生在第四次投掷的概率是多少？将您的答案表示为最简分数。", "solution": "设$A$为第一次掷出6发生在第四次的事件，设$B$为前三次投掷均不为奇数（即前三次投掷均为偶数）的事件。我们要求的是条件概率$P(A \\mid B)$。\n\n根据条件概率的定义，\n$$\nP(A \\mid B) = \\frac{P(A \\cap B)}{P(B)}.\n$$\n\n利用投掷的独立性和骰子的公平性来计算$P(B)$。对于单次投掷，出现偶数结果的概率是$3/6 = 1/2$。因此，\n$$\nP(B) = \\left(\\frac{1}{2}\\right)^{3} = \\frac{1}{8}.\n$$\n\n接下来，计算$P(A \\cap B)$。事件$A \\cap B$要求第1至3次投掷结果为偶数且不为6（即每次结果属于$\\{2,4\\}$），并且第4次投掷结果为6。对于单次投掷，$P(\\{2,4\\}) = 2/6 = 1/3$且$P(6) = 1/6$。根据独立性，\n$$\nP(A \\cap B) = \\left(\\frac{1}{3}\\right)^{3} \\cdot \\frac{1}{6} = \\frac{1}{162}.\n$$\n\n因此，\n$$\nP(A \\mid B) = \\frac{\\frac{1}{162}}{\\frac{1}{8}} = \\frac{8}{162} = \\frac{4}{81}.\n$$", "answer": "$$\\boxed{\\frac{4}{81}}$$", "id": "1358411"}, {"introduction": "条件概率不仅是一个公式，更是一种思考方式，它允许我们将注意力集中在一个更小的、相关的事件集合上。这个关于扑克牌的组合概率问题，完美地诠释了“缩减样本空间”这一核心思想。通过解决这个问题 [@problem_id:1358442]，你将学会如何利用给定的条件来简化问题，直接在新的、更小的样本空间中进行计数，从而更高效地求解概率。", "problem": "使用一副标准的52张扑克牌，其中包括13个点数（A、2、3、...、10、J、Q、K），每个点数有四种花色（梅花、方块、红心、黑桃）。从这副牌中均匀随机地抽取5张牌作为一手牌。\n\n“葫芦”（full house）的定义是：一手牌中包含三张某个点数的牌和两张另一个不同点数的牌。\n\n已知随机抽取的一手5张牌恰好包含两种不同的点数，求这手牌是葫芦的概率是多少？\n\n将答案表示为一个最简分数形式的封闭解析表达式。", "solution": "我们以“一手5张牌恰好有两种不同点数”这一事件为条件。这样一手牌的点数个数分布必然是葫芦（3张同点数，2张同点数），即 $(3,2)$ 型；或是四条带单张（4张同点数，1张单张），即 $(4,1)$ 型。\n\n在恰好有两种点数的手牌中，计算葫芦的数量：\n- 选择两种点数：$\\binom{13}{2}$。\n- 选择哪个点数构成三条：$2$。\n- 选择花色：对于三条，$\\binom{4}{3}$；对于对子，$\\binom{4}{2}$。\n因此，葫芦的总数是\n$$\nN_{\\text{FH}}=\\binom{13}{2}\\cdot 2 \\cdot \\binom{4}{3}\\binom{4}{2}.\n$$\n\n计算所有恰好有两种不同点数的手牌数量（即 $(3,2)$ 和 $(4,1)$ 的总和）：\n- 对于 $(4,1)$ 型的手牌：选择两种点数 $\\binom{13}{2}$，选择哪个点数构成四条（$2$），选择花色：对于四条为 $\\binom{4}{4}$，对于单张为 $\\binom{4}{1}$。因此\n$$\nN_{4,1}=\\binom{13}{2}\\cdot 2 \\cdot \\binom{4}{4}\\binom{4}{1}.\n$$\n所以总数为\n$$\nN_{\\text{two ranks}}=N_{\\text{FH}}+N_{4,1}=\\binom{13}{2}\\cdot 2 \\left(\\binom{4}{3}\\binom{4}{2}+\\binom{4}{4}\\binom{4}{1}\\right).\n$$\n\n所求的条件概率是\n$$\nP=\\frac{N_{\\text{FH}}}{N_{\\text{two ranks}}}\n=\\frac{\\binom{13}{2}\\cdot 2 \\cdot \\binom{4}{3}\\binom{4}{2}}{\\binom{13}{2}\\cdot 2 \\left(\\binom{4}{3}\\binom{4}{2}+\\binom{4}{4}\\binom{4}{1}\\right)}\n=\\frac{\\binom{4}{3}\\binom{4}{2}}{\\binom{4}{3}\\binom{4}{2}+\\binom{4}{4}\\binom{4}{1}}.\n$$\n计算二项式系数 $\\binom{4}{3}=4$、$\\binom{4}{2}=6$、$\\binom{4}{4}=1$ 和 $\\binom{4}{1}=4$，我们得到\n$$\nP=\\frac{4\\cdot 6}{4\\cdot 6+1\\cdot 4}=\\frac{24}{28}=\\frac{6}{7}.\n$$", "answer": "$$\\boxed{\\frac{6}{7}}$$", "id": "1358442"}, {"introduction": "在更抽象的场景中，例如处理数字信息时，理解对象的内在结构对于计算概率至关重要。本练习以二进制字符串为背景，探讨了其结构属性（如回文）如何与概率计算相互作用。解决这个问题 [@problem_id:1358420] 将展示，利用对称性和结构性洞察力可以极大地简化对复杂事件交集的计算，这是将离散数学概念应用于实际通信和计算系统的关键技能。", "problem": "在一个简化的数字通信系统模型中，消息以二进制字符串的形式发送。考虑一个场景，其中消息长度为11位。生成过程使得 $2^{11}$ 种可能的二进制字符串中的任何一种都有相同的生成概率。一个传输协议会自动丢弃任何包含奇数个'1'的字符串。该系统还使用一类特殊的字符串，称为'控制码'，其定义为回文字符串（即，正读和反读都相同）。已知一个随机生成的字符串没有被协议丢弃，那么它是一个控制码的概率是多少？请用最简分数表示你的答案。", "solution": "令样本空间包含所有 $2^{11}$ 个长度为11的二进制字符串，每个字符串都是等可能的。协议会丢弃包含奇数个1的字符串，因此我们以字符串具有偶数汉明权重这一事件 $E$ 为条件。\n\n根据奇偶对称性，所有11位字符串中恰好有一半具有偶数权重。因此，\n$$\n|E|=\\frac{1}{2}\\cdot 2^{11}=2^{10}.\n$$\n\n令 $P$ 为11位回文字符串的集合。一个长度为奇数11的回文字符串由前5位和中间位（第6位）决定：对于 $i=1,\\dots,5$，位置 $i$ 和 $12-i$ 上的位必须相等，而中间位是自由的。因此，\n$$\n|P|=2^{6}.\n$$\n对于任何回文串，1的总数等于设为1的数对数量的两倍加上中间位的值。因此，汉明权重的奇偶性完全由中间位决定。所以，具有偶数权重的回文字符串恰好是那些中间位为0，而前5位任意的字符串，得出\n$$\n|E\\cap P|=2^{5}.\n$$\n\n所求的条件概率是\n$$\n\\frac{|E\\cap P|}{|E|}=\\frac{2^{5}}{2^{10}}=\\frac{1}{32}.\n$$", "answer": "$$\\boxed{\\frac{1}{32}}$$", "id": "1358420"}]}