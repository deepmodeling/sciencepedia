{"hands_on_practices": [{"introduction": "本节练习通过介绍可重复组合最基本的应用来为您奠定基础。我们将使用强大的“隔板法”（stars and bars）来计算将相同物品分配到不同类别且不受任何限制的方法数。为晶格掺杂的场景 [@problem_id:1349433] 为这个核心组合原理提供了一个来自材料科学的实体例子，有助于我们将其形象化。", "problem": "一位材料科学家正在通过混合不同元素来设计一种新合金。对于一个特定的样品，必须选择总共10个原子作为掺杂剂添加到晶格中。这位科学家有4种不同类型的掺杂元素可供无限量使用，我们称之为类型1、类型2、类型3和类型4。所得合金的性质仅取决于样品中每种掺杂原子类型的总数，而与它们的添加顺序或在晶格中的具体位置无关。可以形成多少种不同的10原子掺杂混合物的成分组合？", "solution": "设 $x_{1}, x_{2}, x_{3}, x_{4}$ 分别表示类型 $1,2,3,4$ 的原子数量。问题陈述，原子总数固定为 $10$ 且只有数量重要，因此我们必须计算下式的非负整数解的数量：\n$$\nx_{1}+x_{2}+x_{3}+x_{4}=10, \\quad x_{i} \\in \\mathbb{Z}_{\\ge 0}.\n$$\n根据星号和隔板原理，方程 $x_{1}+\\cdots+x_{n}=k$ 的非负整数解（$x_{i} \\in \\mathbb{Z}_{\\ge 0}$）的数量为\n$$\n\\binom{k+n-1}{n-1}.\n$$\n这里 $k=10$ 且 $n=4$，所以不同成分组合的数量为\n$$\n\\binom{10+4-1}{4-1}=\\binom{13}{3}.\n$$\n计算二项式系数：\n$$\n\\binom{13}{3}=\\frac{13!}{3!\\,10!}=\\frac{13 \\cdot 12 \\cdot 11}{3 \\cdot 2 \\cdot 1}=286.\n$$\n因此，有 $286$ 种不同的成分组合。", "answer": "$$\\boxed{286}$$", "id": "1349433"}, {"introduction": "在掌握基础之后，本练习将引入一个常见且重要的变体：最小数量要求。我们将学习如何调整“隔板法”，以处理每个类别都必须至少包含一个物品的场景。这个问题以量子力学中分配玻色子为背景 [@problem_id:1349408]，展示了一种巧妙的技巧：首先预先分配物品以满足最小约束，从而将问题转化为我们已经知道如何解决的更简单的无约束形式。", "problem": "在一个相互作用粒子系统的简化模型中，一位实验者正在研究12个相同的玻色子在5个不同且非简并的能级上的分布。由于该特定系统中相互作用的性质，只有当5个能级中的每一个都至少被一个玻色子占据时，才能达到稳定构型。请确定不同微观状态的总数，这对应于根据此约束条件将玻色子分布在这些能级上的方式数量。", "solution": "我们用占据数来对构型建模。设这五个不同的能级被标记，并令$n_{1},n_{2},n_{3},n_{4},n_{5}$表示每个能级中不可区分的玻色子的数量。每个能级至少被一个玻色子占据的约束条件表示为\n$$\nn_{1}+n_{2}+n_{3}+n_{4}+n_{5}=12,\\quad n_{i}\\geq 1 \\text{ for } i=1,2,3,4,5.\n$$\n通过$m_{i}=n_{i}-1$引入非负变量$m_{i}$，使得$m_{i}\\geq 0$且\n$$\n\\sum_{i=1}^{5} m_{i} = 12-5 = 7.\n$$\n根据隔板法，$\\sum_{i=1}^{5} m_{i}=7$的非负整数解的数量由以下公式给出\n$$\n\\binom{7+5-1}{5-1}=\\binom{11}{4}.\n$$\n计算二项式系数，\n$$\n\\binom{11}{4}=\\frac{11!}{4!\\,7!}=330.\n$$\n因此，满足该约束条件的不同微观状态的总数为$330$。", "answer": "$$\\boxed{330}$$", "id": "1349408"}, {"introduction": "我们最后的练习将解决一个更复杂、更现实的问题，它同时涉及下限和上限约束。这需要一个多步骤的策略，将处理下限的技巧与容斥原理相结合，以应对上限的限制。这个投资组合管理的情景 [@problem_id:1356407] 展示了一种强大的解决问题的方法，说明了如何系统地减去不符合条件的案例，从而得到正确的计数。", "problem": "一位投资组合经理的任务是建立一个专门的科技基金。该基金的策略要求从四个特定的公司——A公司、B公司、C公司和D公司——总共购买恰好50股股票。为确保多元化并遵守基金章程，经理必须从这四家公司中的每一家至少购买5股股票。此外，根据内部风险评估政策，经理最多只能购买10股A公司的股票。仅考虑各公司股票数量的情况下，经理有多少种不同的方式来构建这个股票投资组合？", "solution": "设从A、B、C、D公司购买的股票数量分别为 $x_{A}, x_{B}, x_{C}, x_{D}$。约束条件为 $x_{A}+x_{B}+x_{C}+x_{D}=50$， $x_{A},x_{B},x_{C},x_{D}\\geq 5$ 以及 $x_{A}\\leq 10$。定义 $y_{A}=x_{A}-5$，$y_{B}=x_{B}-5$，$y_{C}=x_{C}-5$，$y_{D}=x_{D}-5$，因此 $y_{A},y_{B},y_{C},y_{D}\\geq 0$ 并且\n$$\ny_{A}+y_{B}+y_{C}+y_{D}=50-4\\cdot 5=30,\n$$\n附加约束条件为 $y_{A}\\leq 5$。\n\n若不考虑 $y_{A}$ 的上限，方程 $y_{A}+y_{B}+y_{C}+y_{D}=30$ 的非负整数解的数量可以通过隔板法公式得出：\n$$\n\\binom{30+4-1}{4-1}=\\binom{33}{3}.\n$$\n为了满足 $y_{A}\\leq 5$ 的条件，需要减去 $y_{A}\\geq 6$ 的解的数量。令 $z_{A}=y_{A}-6\\geq 0$，则违背该条件的解满足\n$$\nz_{A}+y_{B}+y_{C}+y_{D}=30-6=24,\n$$\n其解的数量为\n$$\n\\binom{24+4-1}{4-1}=\\binom{27}{3}.\n$$\n因此，有效的投资组合数量为\n$$\n\\binom{33}{3}-\\binom{27}{3}.\n$$\n分别计算每一项：\n$$\n\\binom{33}{3}=\\frac{33\\cdot 32\\cdot 31}{3!}=\\frac{33\\cdot 32\\cdot 31}{6}=5456,\n$$\n$$\n\\binom{27}{3}=\\frac{27\\cdot 26\\cdot 25}{3!}=\\frac{27\\cdot 26\\cdot 25}{6}=2925.\n$$\n因此，总的方式数为\n$$\n5456-2925=2531.\n$$", "answer": "$$\\boxed{2531}$$", "id": "1356407"}]}