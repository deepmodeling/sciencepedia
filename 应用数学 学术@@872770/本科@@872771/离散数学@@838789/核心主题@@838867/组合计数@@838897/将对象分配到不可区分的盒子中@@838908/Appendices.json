{"hands_on_practices": [{"introduction": "我们从一个核心概念开始：将一组*可区分*的物品划分到不可区分的组中。这个练习 [@problem_id:1365865] 探讨了一种特殊且简化的场景，即组的数量恰好比物品数量少一。解决这个问题将揭示一个与二项式系数之间惊人地简单而优雅的联系，为理解第二类斯特林数 $S(n, k)$ 打下坚实的基础。", "problem": "一个大学研究委员会正在为一项新的资助计划审查 $n$ 份不同的拨款提案。该委员会决定组建恰好 $n-1$ 个新的、不可区分的研究合作小组来执行这些项目。每份提案都必须分配给一个合作小组，并且每个合作小组必须至少分配到一份提案。假设 $n \\ge 2$，请求出委员会将 $n$ 份提案分配给 $n-1$ 个合作小组的总方式数的一个关于 $n$ 的闭式解析表达式。", "solution": "我们要将 $n$ 份不同的提案分配给恰好 $n-1$ 个不可区分的合作小组，且每个合作小组非空。这是将一个含 $n$ 个元素的集合划分为恰好 $n-1$ 个非空无标签块的划分数，其值等于第二类斯特林数 $S(n,n-1)$。\n\n设各块的大小为 $s_{1},\\dots,s_{n-1}$，其中每个 $s_{i}\\ge 1$ 且 $\\sum_{i=1}^{n-1} s_{i}=n$。那么\n$$\n\\sum_{i=1}^{n-1} (s_{i}-1)=\\left(\\sum_{i=1}^{n-1} s_{i}\\right)-(n-1)=n-(n-1)=1.\n$$\n因为每个 $s_{i}-1$ 是一个非负整数且它们的和为 $1$，所以恰好有一个块的大小为 $2$，其余 $n-2$ 个块的大小为 $1$。\n\n因此，每个有效的分配方式都唯一地由共享那个大小为 $2$ 的合作小组的两份提案的选择所决定，而所有其他提案都各自形成单元素小组。这种选择的数量为\n$$\n\\binom{n}{2}.\n$$\n因为合作小组是不可区分的，所以不需要再乘以任何排序或标签因子。因此，分配的总数是 $\\binom{n}{2}$。", "answer": "$$\\boxed{\\binom{n}{2}}$$", "id": "1365865"}, {"introduction": "接下来，让我们探讨当我们分配的物品变为*不可区分*时的情况。这种变化从根本上将问题从集合划分转变为整数划分，这是组合学中的另一个核心分支。这项练习 [@problem_id:1365836] 挑战你计算划分一个整数的方法数，这在计算机科学中等同于将相同的任务分配给相同的虚拟机，从而具体地阐释了整数划分函数 $p(n)$ 的概念。", "problem": "一家软件公司正在为一个分布式计算系统设计一个调度器。该调度器的工作是把一些相同的计算任务分配给一组相同的虚拟机（VM）。一个“分配方案”被定义为一种将任务划分给虚拟机的方式，使得每个虚拟机至少接收一个任务。由于任务和虚拟机都是相同的，分配的顺序无关紧要。例如，将4个任务分配给2个虚拟机可以通过两种方案完成：一个虚拟机获得3个任务，另一个获得1个任务；或者两个虚拟机各获得2个任务。\n\n设 $p(N, M)$ 表示将 $N$ 个相同的任务分配给 $M$ 个相同的虚拟机的不同分配方案的数量。\n\n工程团队正在分析调度器在特定场景下的复杂性。你的任务是计算两种特定配置下的总方案数。\n\n计算 $p(12, 10) + p(12, 9)$ 的值。", "solution": "一个分配方案，涉及相同的任务和相同的虚拟机，且每个虚拟机至少接收一个任务，这等同于将整数 $N$ 划分成正好 $M$ 个正整数部分。因此该数量等于将整数 $N$ 划分为恰好 $M$ 个正整数部分的方法数，这在正文中记为 $p(N, M)$。\n\n存在一个标准的双射：从 $M$ 个正整数部分中的每一个减去 $1$，将一个 $N$ 的、正好有 $M$ 个部分的划分，转换为一个 $N-M$ 的、最多有 $M$ 个部分的划分。因此\n$$\np(N, M)=p_{\\leq M}(N-M).\n$$\n如果 $M \\geq N-M$，则“最多 $M$ 个部分”的约束是无效的，因为 $N-M$ 的任何划分最多有 $N-M$ 个部分。因此 $p_{\\leq M}(N-M)=p(N-M)$，其中 $p(n)$ 是无限制的划分函数。\n\n将此应用于这两种情况：\n$$\np(12,10)=p_{\\leq 10}(12-10)=p_{\\leq 10}(2)=p(2)=2,\n$$\n因为 $2$ 的划分为 $2$ 和 $1+1$。\n\n类似地，\n$$\np(12,9)=p_{\\leq 9}(12-9)=p_{\\leq 9}(3)=p(3)=3,\n$$\n因为 $3$ 的划分为 $3$、$2+1$ 和 $1+1+1$。\n\n因此，\n$$\np(12,10)+p(12,9)=2+3=5.\n$$", "answer": "$$\\boxed{5}$$", "id": "1365836"}, {"introduction": "在掌握了划分可区分物品的基本方法后，这个练习 [@problem_id:1365819] 将引入一种常见的现实世界约束：某些特定物品必须被放置在同一组中。你将学习一种强大的“融合”技巧来处理此类条件，通过将必须在一起的物品视为一个单一的“超级物品”，从而将复杂问题简化为标准的集合划分问题。这展示了如何灵活运用斯特林数 $S(n, k)$ 的基本原理来解决更贴近实际的组合问题。", "problem": "一位博物馆馆长负责组织一个新展览，展出8件独特且无价的历史文物。这些文物需要被放置在恰好4个相同的、非空的陈列柜中。在这些文物中，有一枚特定的古币及其对应的骰子，历史记录证实它们总是被保存在一起。博物馆的政策规定，这对物品——古币和骰子——必须陈列在同一个柜子中。在这种约束条件下，将这8件文物放入4个陈列柜中有多少种不同的布置方式？", "solution": "由于陈列柜是相同的且必须非空，这些布置方式对应于将文物集合划分为恰好四个无标签的非空块的集合划分。指定的古币和骰子必须在同一个块中。将这对必须在一起的物品合并成一个“超级物品”；那么问题就变成了将一个包含7个不同元素的集合（合并后的超级物品加上其余6件不同的文物）划分为4个非空的无标签块。这种划分的数量是第二类斯特林数 $S(7,4)$。\n\n我们使用递推关系式来计算 $S(7,4)$\n$$\nS(n,k)=k\\,S(n-1,k)+S(n-1,k-1),\n$$\n其中 $S(n,1)=1$ 且 $S(n,n)=1$。\n\n首先，逐步计算所需的较小值：\n$$\nS(2,1)=1,\\quad S(2,2)=1.\n$$\n然后\n$$\nS(3,2)=2\\,S(2,2)+S(2,1)=2\\cdot 1+1=3,\\quad S(3,3)=1.\n$$\n接着\n$$\nS(4,2)=2\\,S(3,2)+S(3,1)=2\\cdot 3+1=7,\\quad S(4,3)=3\\,S(3,3)+S(3,2)=3\\cdot 1+3=6,\\quad S(4,4)=1.\n$$\n然后\n$$\nS(5,2)=2\\,S(4,2)+S(4,1)=2\\cdot 7+1=15,\\quad S(5,3)=3\\,S(4,3)+S(4,2)=3\\cdot 6+7=25,\\quad S(5,4)=4\\,S(4,4)+S(4,3)=4\\cdot 1+6=10,\\quad S(5,5)=1.\n$$\n接着\n$$\nS(6,3)=3\\,S(5,3)+S(5,2)=3\\cdot 25+15=90,\\quad S(6,4)=4\\,S(5,4)+S(5,3)=4\\cdot 10+25=65,\\quad S(6,6)=1.\n$$\n最后\n$$\nS(7,4)=4\\,S(6,4)+S(6,3)=4\\cdot 65+90=350.\n$$\n\n因此，有效的布置方式数量为 $S(7,4)=350$。", "answer": "$$\\boxed{350}$$", "id": "1365819"}]}