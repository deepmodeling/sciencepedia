{"hands_on_practices": [{"introduction": "我们从一个常见的情景开始：将不可区分的物品放入可区分的容器中。这个问题将向你展示一种处理组合问题的强大技巧——“隔板法”（Stars and Bars）。通过学习如何使用隔板法来满足每个容器至少拥有一定数量物品的约束条件，你将掌握解决各类资源分配问题的基础。", "problem": "一个名为“Titan Generative Model”（TGM）项目的首席数据科学家需要为本周分配计算资源。总预算为20个不可分割的计算时间单位（以万亿周期小时为单位），需要分配给TGM的5个不同子模块。公司政策规定，任何子模块要保持活动状态并为每周的模型构建做出贡献，都必须至少分配2个万亿周期小时。数据科学家有多少种不同的方式可以将全部20个万亿周期小时的预算分配给5个子模块，同时确保每个子模块都满足此最低活动要求？", "solution": "设 $x_{1},x_{2},x_{3},x_{4},x_{5}$ 为分配给五个不同子模块的整数配额。约束条件为对所有 $i$，$x_{i} \\in \\mathbb{Z}_{\\ge 0}$，$x_{i} \\ge 2$，以及\n$$\nx_{1}+x_{2}+x_{3}+x_{4}+x_{5}=20.\n$$\n引入非负整数变量 $y_{i}=x_{i}-2$，其中 $i=1,2,3,4,5$。于是 $y_{i} \\ge 0$ 且\n$$\n\\sum_{i=1}^{5} y_{i}=\\left(\\sum_{i=1}^{5} x_{i}\\right)-10=20-10=10.\n$$\n方程 $\\sum_{i=1}^{5} y_{i}=10$ 的非负整数解的数量由隔板法公式给出：\n$$\n\\binom{10+5-1}{5-1}=\\binom{14}{4}.\n$$\n计算二项式系数：\n$$\n\\binom{14}{4}=\\frac{14 \\cdot 13 \\cdot 12 \\cdot 11}{4 \\cdot 3 \\cdot 2 \\cdot 1}=1001.\n$$\n因此，有 $1001$ 种有效的分配方式。", "answer": "$$\\boxed{1001}$$", "id": "1365531"}, {"introduction": "现在，我们来探讨当待分配的物品是可区分的时，情况会如何变化。这从根本上改变了我们的计数方法，需要将问题建模为函数映射。本练习将展示如何通过巧妙地将受约束的物品组合成一个单元来简化问题，从而将一个看似复杂的分配问题转化为对乘法原理的直接应用。", "problem": "一个软件工程师团队正在为一款新的操作系统设计错误处理系统。该系统由 $k$ 个不同的内核模块组成。该团队需要将一组 $n$ 个唯一的错误代码中的每一个都精确地分配给这 $k$ 个模块中的一个。此分配决定了哪个模块负责记录和处理特定的错误。\n\n由于两个特定错误条件之间存在共享资源依赖，首席架构师规定，一个特定的错误代码 $E_A$ 和另一个特定的错误代码 $E_B$ 必须分配给同一个内核模块。其余的 $n-2$ 个错误代码可以独立地分配给任何模块。\n\n给定 $n$ 和 $k$ 是整数，且 $n \\ge 2$ 和 $k \\ge 1$，请确定根据此约束条件将所有 $n$ 个错误代码分配给 $k$ 个模块的所有不同方式的总数。请用一个关于 $n$ 和 $k$ 的封闭形式解析表达式来表示你的答案。", "solution": "将一次分配建模为一个从包含 $n$ 个不同错误代码的集合到包含 $k$ 个不同内核模块的集合的函数。在没有约束的情况下，共有 $k^{n}$ 个这样的函数。\n\n施加约束条件，即两个特定的错误代码 $E_{A}$ 和 $E_{B}$ 必须被分配到同一个模块。首先，为 $E_{A}$ 和 $E_{B}$ 选择一个共同的模块；有 $k$ 种选择。然后，对于剩下的 $n-2$ 个错误代码中的每一个，独立地从 $k$ 个模块中任选一个进行分配；这产生了 $k^{n-2}$ 种选择。\n\n根据乘法原理，有效的分配总数为\n$$\nk \\cdot k^{n-2} = k^{n-1}.\n$$\n该表达式对所有整数 $n \\ge 2$ 和 $k \\ge 1$ 均有效。", "answer": "$$\\boxed{k^{n-1}}$$", "id": "1365578"}, {"introduction": "现实世界中的问题往往涉及多个同时存在的约束条件。在前面练习的基础上，最后一个实践将挑战你综合运用分组策略与“每个容器都必须非空”的要求。这将引导你学习并使用强大的容斥原理（Principle of Inclusion-Exclusion）来对满射函数进行计数，这是高级组合数学中一个至关重要的工具。", "problem": "一家科技公司的项目经理负责将 8 名不同的软件开发人员分配到 4 个不同的正在进行的项目中。这些项目的代号分别为 Alpha、Bravo、Charlie 和 Delta。为使项目计划获得批准，分配必须满足两个关键条件：\n1.  由于资源分配政策，每个项目必须至少分配一名开发人员。\n2.  针对一名特定的高级开发人员和一名特定的初级开发人员，有一个指导计划。为确保有效协作，这两名开发人员必须被分配到同一个项目中。\n\n在这些约束条件下，项目经理有多少种不同的方式来分配这些开发人员？", "solution": "将特定的高级和初级开发人员标记为 $S$ 和 $J$。$S$ 和 $J$ 必须在同一个项目中的约束条件，允许我们在分配时将他们视为一个单一的配对实体。因此，我们有 $7$ 个实体（这个配对加上另外 $6$ 名不同的开发人员）要分配到 $4$ 个不同的项目中，要求是每个项目至少分得一个实体。\n\n这相当于计算从一个包含 $7$ 个元素的集合到一个包含 $4$ 个元素的集合的满射函数的数量。可以使用容斥原理来计算。令 $A_{p}$ 为项目 $p$ 为空的分配方式集合。那么有效分配的数量为\n$$\nN=\\sum_{j=0}^{4}(-1)^{j}\\binom{4}{j}(4-j)^{7}.\n$$\n具体来说，\n$$\nN=\\binom{4}{0}4^{7}-\\binom{4}{1}3^{7}+\\binom{4}{2}2^{7}-\\binom{4}{3}1^{7}+\\binom{4}{4}0^{7}.\n$$\n计算各项：\n$$\n4^{7}=16384,\\quad 3^{7}=2187,\\quad 2^{7}=128,\\quad 1^{7}=1,\\quad 0^{7}=0,\n$$\n以及\n$$\n\\binom{4}{1}=4,\\quad \\binom{4}{2}=6,\\quad \\binom{4}{3}=4,\\quad \\binom{4}{4}=1.\n$$\n因此，\n$$\nN=16384-4\\cdot 2187+6\\cdot 128-4\\cdot 1+1\\cdot 0=16384-8748+768-4=8400.\n$$\n因此，有 $8400$ 种有效的分配方式。", "answer": "$$\\boxed{8400}$$", "id": "1365587"}]}