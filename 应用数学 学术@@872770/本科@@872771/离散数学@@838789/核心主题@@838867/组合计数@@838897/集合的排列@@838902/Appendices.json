{"hands_on_practices": [{"introduction": "理论学习之后，最好的巩固方式就是实践。让我们从一个基础问题开始，它将排列的基本概念与组合计数中的基本工具——乘法法则——联系起来。通过解决这个关于受限排列的问题 [@problem_id:1390701]，你将练习如何将一个复杂的计数问题分解为一系列更小、更易于管理的选择步骤，这是解决组合问题的核心策略。", "problem": "一个名为语音认证密钥（Phonetic Authentication Key, PAK）的旧安全系统正在接受审计。该系统通过对集合 {S, U, B, D, O, M, A, I, N} 中的所有字母进行排列来生成唯一的访问代码。根据系统的设计规范，一个有效的访问代码必须遵守两条严格的规则：第一个字符必须是元音（A, E, I, O, U），最后一个字符必须是辅音。集合中的所有字母在每个生成的代码中都必须且只能使用一次。这个系统可以生成多少个不同的有效访问代码？", "solution": "问题要求在首尾位置有特定限制条件下，对一组字母进行不同排列（permutations）的数量。我们可以使用计数中的乘法原理来解决这个问题。\n\n首先，让我们确定给定字母集合的特征：{S, U, B, D, O, M, A, I, N}。\n不同字母的总数是 $n = 9$。\n\n接下来，我们将这个集合分为元音和辅音。\n集合中的元音是 {U, O, A, I}。元音的数量是 $n_v = 4$。\n集合中的辅音是 {S, B, D, M, N}。辅音的数量是 $n_c = 5$。\n作为检验，我们可以确认 $n_v + n_c = 4 + 5 = 9 = n$。\n\n我们需要构建一个以元音开头、以辅音结尾的9个字母的排列。让我们考虑排列中每个位置有多少种选择。\n\n第1步：选择第一个字母。\n访问代码的第一个字符必须是元音。有 $n_v = 4$ 个可用元音，所以第一个位置有 4 种选择。\n\n第2步：选择最后一个字母。\n访问代码的最后一个字符必须是辅音。有 $n_c = 5$ 个可用辅音，所以最后一个位置有 5 种选择。最后一个位置的选择与第一个位置的选择是独立的。\n\n第3步：排列剩余的字母。\n在第一个位置放一个元音、最后一个位置放一个辅音后，我们已经从原来的9个字母集合中使用了2个字母。这剩下 $9 - 2 = 7$ 个字母需要排列在中间的7个位置（第2到第8位）。这7个剩余的字母可以是未使用元音和辅音的任意组合。\n\n排列 $k$ 个不同项目的方法数由 $k!$ （k的阶乘）给出。在本例中，我们需要排列剩下的7个不同字母。这样做的方法数是 $7!$。\n\n$$ 7! = 7 \\times 6 \\times 5 \\times 4 \\times 3 \\times 2 \\times 1 = 5040 $$\n\n第4步：使用乘法原理合并结果。\n有效访问代码的总数是每一步选择数的乘积：\n总排列数 = (第一个位置的选择数) $\\times$ (最后一个位置的选择数) $\\times$ (中间位置的排列数)\n总排列数 = $4 \\times 5 \\times 7!$\n\n现在，我们代入 $7!$ 的值：\n总排列数 = $4 \\times 5 \\times 5040$\n总排列数 = $20 \\times 5040$\n总排列数 = $100800$。\n\n因此，系统可以生成 100,800 个不同的有效访问代码。", "answer": "$$\\boxed{100800}$$", "id": "1390701"}, {"introduction": "在掌握了线性排列的基础知识后，让我们来探索一种更复杂的排列形式：圆周排列。这个问题 [@problem_id:1390731] 不仅引入了环形布局的独特性质，还增加了“必须相邻”和“不得相邻”的复合约束。通过解决这个问题，你将学会如何综合运用“捆绑法”和“排除法”这两种强大的组合技巧，来处理多重约束下的排列计数问题。", "problem": "一个由八名专家组成的委员会正在为一项新的火星殖民计划而组建。该委员会由一名首席物理学家、一名首席生物学家、一名总工程师、一名医疗官、一名伦理顾问、一名通讯专家以及来自两家竞争公司（A公司和B公司）的两名企业代表组成。这八名成员将坐在一张大型圆形会议桌旁。出于后勤和政治原因，座位安排必须满足两个条件：首席物理学家和首席生物学家必须坐在相邻的座位上，而来自A公司和B公司的代表不得坐在相邻的座位上。有多少种不同的座位安排是可能的？", "solution": "设八名不同的成员为：首席物理学家（P）、首席生物学家（B）、总工程师、医疗官、伦理顾问、通讯专家，以及来自A公司和B公司的两名企业代表（记为A和B）。约束条件是：P和B必须相邻，而A和B不得相邻。\n\n对于$n$个不同的人的环形座位，排列数为$(n-1)!$。为了强制P和B相邻，将他们视为一个整体；这个整体内部有$2$种顺序（PB或BP）。那么，需要围绕圆桌排列的单元是PB整体加上另外$6$个人，总共是$7$个单元。这种排列的数量是\n$$\n2 \\cdot (7-1)! = 2 \\cdot 6!.\n$$\n现在，从这些排列中排除A和B相邻的情况。当两个相邻条件都成立时（P与B相邻，A与B相邻），将这两对都视为整体。那么，PB整体有$2$种内部排列，AB整体也有$2$种内部排列，需要排列的总单元数为$6$个（两个整体加上剩下的四个人）。因此，两对都相邻的环形排列数量为\n$$\n2 \\cdot 2 \\cdot (6-1)! = 4 \\cdot 5!.\n$$\n因此，所求的P和B相邻但A和B不相邻的排列数量为\n$$\n2 \\cdot 6! - 4 \\cdot 5! = 2 \\cdot 720 - 4 \\cdot 120 = 1440 - 480 = 960.\n$$", "answer": "$$\\boxed{960}$$", "id": "1390731"}, {"introduction": "排列不仅是关于计算“有多少种方式”，更涉及理解其内在的代数结构。这个问题 [@problem_id:1390671] 引导我们从计数转向分析，探索排列在重复作用下的行为。通过使用轮换表示法来分析排列的幂次和不动点，你将深入了解排列的结构如何决定一个系统的长期动态，这一思想在密码学和抽象代数等领域中至关重要。", "problem": "一个简单的密码转轮机原型被设计用来扰乱一组12个并行通信信道上的信号，这些信道用从1到12的整数进行标记。扰乱过程由集合 $S = \\{1, 2, ..., 12\\}$ 上的一个置换 $\\pi$ 控制。置换是一个从集合到其自身的双射。该机器使用的特定置换 $\\pi$ 以轮换表示法给出：\n$$ \\pi = (1\\ 2\\ 3\\ 4)(5\\ 6\\ 7\\ 8\\ 9\\ 10\\ 11\\ 12) $$\n这种表示法意味着，对于第一个轮换 $(1\\ 2\\ 3\\ 4)$，信道1被映射到2，2被映射到3，3被映射到4，4被映射回1。第二个轮换中的元素也类似地进行映射。未出现在长度大于一的轮换中的元素被视为不动点。然而，在这种情况下，集合 $S$ 的所有元素都包含在所示的轮换中。\n\n在一个完整的操作周期中，机器连续应用此置换四次。因此，最终的变换由置换 $\\pi^4$ 描述，这是 $\\pi$ 与自身复合四次的结果。\n\n如果一个信道是整体变换 $\\pi^4$ 的不动点，那么它就被认为是“未被扰乱的”。置换 $\\sigma$ 的不动点是指一个元素 $x \\in S$ 满足 $\\sigma(x) = x$。在机器运行一个完整周期后，有多少个未被扰乱的信道？", "solution": "我们已知集合 $S=\\{1,2,\\ldots,12\\}$ 上的置换 $\\pi=(1\\ 2\\ 3\\ 4)(5\\ 6\\ 7\\ 8\\ 9\\ 10\\ 11\\ 12)$，且机器将 $\\pi$ 应用四次，得到整体变换 $\\pi^{4}$。一个信道 $x$ 是未被扰乱的，当且仅当它是 $\\pi^{4}$ 的不动点，即 $\\pi^{4}(x)=x$。\n\n轮换形式的置换有一个基本性质：如果 $x$ 位于 $\\pi$ 的一个长度为 $L$ 的轮换中，那么\n$$\n\\pi^{k}(x)=x \\iff L \\mid k.\n$$\n这是因为 $x$ 在 $\\pi$ 作用下的轨道大小为 $L$，所以 $\\pi^{L}(x)=x$ 是使 $x$ 回到自身的最小正整数次幂。\n\n将此性质应用于 $\\pi$ 的每个不相交轮换，并取 $k=4$：\n- 对于轮换 $(1\\ 2\\ 3\\ 4)$，其长度为 $L=4$。由于 $4 \\mid 4$，这个4-轮换中的每个元素都被 $\\pi^{4}$ 固定。因此，$1,2,3,4$ 是 $\\pi^{4}$ 的不动点。\n- 对于轮换 $(5\\ 6\\ 7\\ 8\\ 9\\ 10\\ 11\\ 12)$，其长度为 $L=8$。由于 $8 \\nmid 4$，这个8-轮换中没有元素被 $\\pi^{4}$ 固定。实际上，$\\pi^{4}$ 在这个轮换上的作用是移动4个位置，它将元素两两配对，但没有不动点。\n\n因此，$\\pi^{4}$ 的不动点（未被扰乱的信道）总数为 $4$。", "answer": "$$\\boxed{4}$$", "id": "1390671"}]}