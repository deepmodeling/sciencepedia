{"hands_on_practices": [{"introduction": "我们首先来检验对等价关系核心定义（自反性、对称性、传递性）的理解。这个练习 [@problem_id:1551567] 展示了一个看似合理但包含一个微妙而关键缺陷的论证。通过找出这个错误，你将加深对为何这三个性质都是必要且独立的理解，并磨练你的逻辑推导和证明分析能力。", "problem": "设 $X$ 是一个非空集合，$R$ 是 $X$ 上的一个二元关系。我们回顾以下定义：\n*   一个关系 $R$ 是**自反的** (reflexive)，如果对于每个 $x \\in X$，有序对 $(x,x)$ 都在 $R$ 中。\n*   一个关系 $R$ 是**对称的** (symmetric)，如果对于所有 $x, y \\in X$，只要 $(x,y)$ 在 $R$ 中，那么 $(y,x)$ 也在 $R$ 中。\n*   一个关系 $R$ 是**传递的** (transitive)，如果对于所有 $x, y, z \\in X$，只要 $(x,y)$ 在 $R$ 中且 $(y,z)$ 在 $R$ 中，那么 $(x,z)$ 也在 $R$ 中。\n\n下面给出了一个论证，声称要证明任何既对称又传递的关系也必然是自反的。\n\n**论证过程：**\n“设 $R$ 是集合 $X$ 上的一个对称且传递的关系。我们希望证明 $R$ 是自反的。\n1.  设 $x$ 是 $X$ 的一个任意元素。\n2.  因为 $x \\in X$，必定存在某个元素 $y \\in X$ 使得 $(x,y) \\in R$。\n3.  因为 $R$ 是对称的，由 $(x,y) \\in R$ 可以推出 $(y,x) \\in R$。\n4.  现在我们有 $(x,y) \\in R$ 和 $(y,x) \\in R$。根据传递性，我们可以得出结论 $(x,x) \\in R$。\n5.  因为 $x$ 是一个任意元素，所以这对所有 $x \\in X$ 都成立。因此，$R$ 是自反的。”\n\n这个论证是有缺陷的。下列哪个陈述最准确地指出了其推理中的根本错误？\n\nA. 第4步中传递性的应用是无效的；定义要求三个不同的元素 $x, y, z$，但在这里第三个元素与第一个元素相同。\nB. 这个论证是循环论证，因为第2步实际上假设了 $x$ 与某个元素相关，而这是证明 $(x,x) \\in R$ 的一个必要前提。\nC. 第5步中的结论是一个错误的推广；为一个任意元素 $x$ 证明了该性质并不意味着它对所有元素都成立。\nD. 该论证在第2步中包含一个隐藏的、未经证实的假设：即对于任何给定的元素 $x \\in X$，都保证存在至少一个元素 $y \\in X$ 使得 $(x,y) \\in R$。\nE. 对称性要求如果 $(x,y) \\in R$ 那么 $(y,x) \\in R$ 对*所有* $y \\in X$ 成立，但该论证只考虑了这样一个 $y$。", "solution": "我们使用精确的定义来分析这个所谓的证明：\n- 对称性意味着：对于所有 $x,y \\in X$，如果 $(x,y) \\in R$，那么 $(y,x) \\in R$。\n- 传递性意味着：对于所有 $x,y,z \\in X$，如果 $(x,y) \\in R$ 且 $(y,z) \\in R$，那么 $(x,z) \\in R$。\n- 自反性要求：对于所有 $x \\in X$，$(x,x) \\in R$。\n\n论证的第2步断言：因为 $x \\in X$，所以存在 $y \\in X$ 使得 $(x,y) \\in R$。这不是 $x \\in X$ 的推论，也不是对称性或传递性的推论。所声称的存在性需要一个额外的性质，即 $R$ 是左全体的（也称为序列的），也就是 $\\forall x \\in X\\,\\exists y \\in X\\, (x,y) \\in R$，但这个性质并未被假设。因此，第2步引入了一个未经证实的假设。\n\n为了强调这个错误，考虑一个具体的反例：设 $X$ 是任意非空集合，且 $R=\\varnothing$。那么对于所有 $x,y \\in X$，蕴含式 $(x,y) \\in R \\Rightarrow (y,x) \\in R$ 空泛地成立，所以 $R$ 是对称的；并且对于所有 $x,y,z \\in X$，蕴含式 $[(x,y) \\in R \\wedge (y,z) \\in R] \\Rightarrow (x,z) \\in R$ 也空泛地成立，所以 $R$ 是传递的。然而，$R$ 不是自反的，因为对于任何 $x \\in X$，都有 $(x,x) \\notin R$。\n\n因此，该证明失败的根本原因正是第2步中未经证实的存在性断言。其他选项是错误的，原因如下：\n- 在第4步中使用传递性并不要求 $x,y,z$ 是不同的；传递性允许 $z=x$。\n- 从一个任意的 $x$ 进行推广是有效的，前提是该性质已经对这个 $x$ 成立；问题在于，由于第2步的缺陷，该性质并未成立。\n- 对称性除了条件陈述之外，并不要求对“所有 $y$”都满足任何条件；选项E错误地陈述了定义。\n\n因此，根本错误在于第2步中的隐藏假设，即每个 $x$ 都通过关系 $R$ 与某个 $y$ 相关联。", "answer": "$$\\boxed{D}$$", "id": "1551567"}, {"introduction": "掌握了定义之后，让我们将其应用于一个具体的例子，探索一个定义在整数对上的等价关系。这个问题 [@problem_id:1367612] 要求你将等价类这一抽象概念转化为一个具体的代数条件。这是一个确定等价类成员并解决计数问题的实践练习，它在理论和计算之间架起了一座桥梁。", "problem": "设 $\\mathbb{Z}$ 表示所有整数的集合。在有序对集合 $\\mathbb{Z} \\times \\mathbb{Z}$ 上，定义一个关系，记为 $\\sim$，其定义如下：对于 $\\mathbb{Z} \\times \\mathbb{Z}$ 中的任意两个有序对 $(a, b)$ 和 $(c, d)$，我们有 $(a, b) \\sim (c, d)$ 当且仅当它们的各分量之和相等，即 $a + b = c + d$。该关系是一个等价关系。\n\n设 $[(a,b)]$ 表示包含有序对 $(a,b)$ 的等价类。考虑一个特定的等价类 $C = [(20, 30)]$。\n\n此外，定义集合 $S$ 为所有满足 $x$ 和 $y$ 均为严格正整数且不大于 40 的整数对 $(x, y)$ 的集合。也就是说，$S = \\{(x, y) \\in \\mathbb{Z} \\times \\mathbb{Z} \\mid 1 \\le x \\le 40 \\text{ 且 } 1 \\le y \\le 40\\}$。\n\n确定集合 $C$ 和集合 $S$ 的交集中的元素总数。", "solution": "问题要求计算等价类 $C$ 和集合 $S$ 的交集中的元素数量，我们可以将其写作 $|C \\cap S|$。\n\n首先，我们来描述等价类 $C = [(20, 30)]$ 中的元素特征。根据关系 $\\sim$ 的定义，一个有序对 $(x, y) \\in \\mathbb{Z} \\times \\mathbb{Z}$ 属于等价类 $[(20, 30)]$ 当且仅当 $(x, y) \\sim (20, 30)$。该条件在 $x + y = 20 + 30$ 时满足。\n因此，等价类 $C$ 是所有分量之和为 50 的整数对的集合：\n$$C = \\{(x, y) \\in \\mathbb{Z} \\times \\mathbb{Z} \\mid x + y = 50\\}$$\n\n接下来，我们确定集合 $S$。问题陈述将其定义为：\n$$S = \\{(x, y) \\in \\mathbb{Z} \\times \\mathbb{Z} \\mid 1 \\le x \\le 40 \\text{ 且 } 1 \\le y \\le 40\\}$$\n\n$C$ 和 $S$ 的交集 $C \\cap S$ 包含所有同时属于 $C$ 和 $S$ 的有序对 $(x, y)$。因此，一个有序对 $(x, y)$ 属于 $C \\cap S$ 当且仅当它同时满足以下所有条件：\n1. $x$ 和 $y$ 都是整数。\n2. $x + y = 50$\n3. $1 \\le x \\le 40$\n4. $1 \\le y \\le 40$\n\n根据条件 (2)，我们可以用 $x$ 来表示 $y$：$y = 50 - x$。由于 $x$ 必须是整数，所以 $y$ 也将自动成为整数，从而满足条件 (1)。\n\n现在，我们将这个 $y$ 的表达式代入关于 $y$ 的不等式，即条件 (4)：\n$$1 \\le 50 - x \\le 40$$\n这个复合不等式可以分解为两个独立的不等式：\na) $1 \\le 50 - x$\nb) $50 - x \\le 40$\n\n我们来对每个不等式求解 $x$：\n由 (a) 得：$1 \\le 50 - x \\implies x \\le 50 - 1 \\implies x \\le 49$。\n由 (b) 得：$50 - x \\le 40 \\implies 50 - 40 \\le x \\implies 10 \\le x$。\n\n因此，从对 $y$ 的约束中，我们推导出了对 $x$ 的约束 $10 \\le x \\le 49$。\n\n我们还必须满足对 $x$ 的原始约束，即条件 (3)：$1 \\le x \\le 40$。\n\n为了找到满足所有条件的有序对 $(x, y)$，我们需要找到同时满足两个范围的 $x$ 的值：\n- $10 \\le x \\le 49$ (来自对 $y$ 的约束)\n- $1 \\le x \\le 40$ (来自对 $x$ 的约束)\n\n这两个 $x$ 的范围的交集是 $10 \\le x \\le 40$。\n满足此条件的整数 $x$ 的值为 $10, 11, 12, \\dots, 39, 40$。\n\n要计算这些整数值的数量，我们可以使用公式：末项 - 首项 + 1。\n$x$ 的值的数量 = $40 - 10 + 1 = 31$。\n\n对于 $x$ 的这 31 个可能的整数值中的每一个，都有一个由 $y = 50 - x$ 给出的唯一的整数值 $y$。根据我们的推导，我们可以保证对于范围 $[10, 40]$ 内的任何 $x$，对应的 $y$ 将在范围 $[1, 40]$ 内。例如，如果 $x=10$，则 $y=40$，这是有效的。如果 $x=40$，则 $y=10$，这也是有效的。\n\n因为 $x$ 有 31 个可能的值，并且每个值都对应一个满足所有所需条件的唯一有序对 $(x, y)$，所以集合 $C \\cap S$ 中恰好有 31 个元素。", "answer": "$$\\boxed{31}$$", "id": "1367612"}, {"introduction": "等价关系是揭示数论中隐藏结构的强大工具。在最后的练习中，我们将研究一个基于模运算的关系。这个问题 [@problem_id:1367565] 挑战你确定不同等价类的数量，这对应于计算二次剩余的数量，展示了等价关系如何将一个无限集合划分为有限个类别，从而让你对数系的结构有更深刻的认识。", "problem": "考虑所有整数的集合，记作 $\\mathbb{Z}$。在 $\\mathbb{Z}$ 上定义一个关系 $\\sim$，对于任意两个整数 $x$ 和 $y$，$x \\sim y$ 当且仅当 $x^2 \\equiv y^2 \\pmod{7}$。符号 $a \\equiv b \\pmod{n}$ 表示 $n$ 整除差值 $a-b$。这个关系将集合 $\\mathbb{Z}$ 划分为若干个不相交的子集，称为等价类。对于这个关系，有多少个不同的等价类？", "solution": "给定在 $\\mathbb{Z}$ 上的关系定义为 $x \\sim y$ 当且仅当 $x^{2} \\equiv y^{2} \\pmod{7}$。注意到\n$$\nx^{2} \\equiv y^{2} \\pmod{7} \\iff 7 \\mid (x^{2} - y^{2}) = (x - y)(x + y).\n$$\n因为 $7$ 是素数，由 $7 \\mid (x - y)(x + y)$ 可得 $7 \\mid (x - y)$ 或 $7 \\mid (x + y)$，即 $x \\equiv y \\pmod{7}$ 或 $x \\equiv -y \\pmod{7}$。因此，每个等价类是某个 $r$ 的模 $7$ 剩余类与其加法逆元 $-r$ 的剩余类的并集。\n\n取代表元 $r \\in \\{0,1,2,3,4,5,6\\}$，不同的配对是：\n- $r=0$ 只与 $0$ 配对，\n- $1$ 与 $6$ 配对，\n- $2$ 与 $5$ 配对，\n- $3$ 与 $4$ 配对。\n\n因此有 $4$ 个不同的等价类。等价地，等价类的数量等于 $x^{2} \\pmod{7}$ 的不同取值的数量：\n$$\n0^{2} \\equiv 0,\\quad 1^{2} \\equiv 1,\\quad 2^{2} \\equiv 4,\\quad 3^{2} \\equiv 2,\\quad 4^{2} \\equiv 2,\\quad 5^{2} \\equiv 4,\\quad 6^{2} \\equiv 1 \\pmod{7},\n$$\n所以模 $7$ 的二次剩余（包括 $0$）的集合是 $\\{0,1,2,4\\}$，同样得到 $4$ 个等价类。", "answer": "$$\\boxed{4}$$", "id": "1367565"}]}