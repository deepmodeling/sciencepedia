{"hands_on_practices": [{"introduction": "等价关系与集合划分之间存在一一对应的基本定理是本章的核心。这个练习提供了一个通过第一性原理直接计算一个小型集合上所有可能划分的机会，从而确定其上等价关系的总数。通过具体的枚举，这个实践将帮助你深入理解这个重要的理论联系。[@problem_id:2981477]", "problem": "设 $X$ 是一个集合，其基数 $|X|=3$。一个二元关系 $E \\subseteq X \\times X$ 是等价关系，当且仅当 $E$ 是自反的、对称的和传递的。集合 $X$ 的一个划分 $\\Pi$ 是 $X$ 的一些非空、两两不交的子集的集合，且这些子集的并集为 $X$。一个基本事实是，$X$ 上的等价关系与 $X$ 上的划分之间存在一一对应关系。该对应关系将每个等价关系映射到其等价类的集合，反之，将每个划分映射到“属于同一区块”的关系。\n\n从这些定义和上述对应关系出发，通过从第一性原理直接计算 $X$ 的划分数量，来确定 $X$ 上不同等价关系的数量。不要引用现成的计数公式；通过基于区块大小的明确分类讨论来证明你的计数过程。你的最终答案必须是一个整数。", "solution": "问题要求确定在一个基数为 $|X|=3$ 的集合 $X$ 上不同等价关系的数量。问题陈述建立了 $X$ 上的等价关系集合与 $X$ 上的划分集合之间的一一对应关系。因此，任务简化为计算集合 $X$ 的不同划分的数量。这个计数过程必须从第一性原理出发，通过分析划分的可能结构来完成。\n\n设 $X$ 是一个包含 3 个元素的集合。不失一般性，我们可以将其表示为 $X=\\{x_1, x_2, x_3\\}$。集合 $X$ 的一个划分是一些非空、两两不交的子集（称为区块）的集合，这些子集的并集为 $X$。任何划分中各区块的基数之和必须等于集合 $X$ 的基数，即 3。\n\n为了系统地计算所有可能的划分，我们可以根据其区块的大小对它们进行分类。这对应于找出数字 3 的所有整数分拆。一个正整数 $n$ 的整数分拆是将其写成正整数之和的一种方式，其中加数的顺序无关紧要。3 的整数分拆为：\n1. $3$\n2. $2+1$\n3. $1+1+1$\n\n我们现在对每种结构进行分类讨论。\n\n情况 1：一个大小为 3 的区块。\n这种结构对应于整数分拆 $3$。该划分必须由一个包含 $X$ 所有 3 个元素的单一区块组成。唯一这样的划分是 $\\{\\{x_1, x_2, x_3\\}\\}$。这对应于所有元素都相互关联的平凡等价关系。这种类型的划分恰好有 1 个。\n\n情况 2：一个大小为 2 的区块和一个大小为 1 的区块。\n这种结构对应于整数分拆 $2+1$。要形成这种类型的划分，我们需要从集合 $X$ 中选择 2 个元素来组成大小为 2 的区块。剩下的 1 个元素将自动形成大小为 1 的区块。从一个包含 3 个元素的集合中选择 2 个元素的方法数由二项式系数 $\\binom{3}{2}$ 给出。\n$$ \\binom{3}{2} = \\frac{3!}{2!(3-2)!} = \\frac{3!}{2!1!} = \\frac{3 \\times 2 \\times 1}{(2 \\times 1) \\times 1} = 3 $$\n三种不同的划分是：\n- $\\{\\{x_1, x_2\\}, \\{x_3\\}\\}$\n- $\\{\\{x_1, x_3\\}, \\{x_2\\}\\}$\n- $\\{\\{x_2, x_3\\}, \\{x_1\\}\\}$\n因此，这种类型的划分有 3 个。\n\n情况 3：三个大小为 1 的区块。\n这种结构对应于整数分拆 $1+1+1$。每个区块包含一个单一元素。对于集合 $X = \\{x_1, x_2, x_3\\}$，每个元素都必须在自己的区块中。这构成了划分 $\\{\\{x_1\\}, \\{x_2\\}, \\{x_3\\}\\}$。由于划分是集合的集合，区块的顺序是无关紧要的。因此，只有一种方法可以形成这样的划分。这对应于恒等关系，其中每个元素仅与自身相关。这种类型的划分恰好有 1 个。\n\n为了求出 $X$ 的划分总数，我们将所有可能情况的计数相加。\n划分总数 = (情况 1 的数量) + (情况 2 的数量) + (情况 3 的数量)。\n$$ \\text{总数} = 1 + 3 + 1 = 5 $$\n根据问题中所述的一一对应关系，一个包含 3 个元素的集合上的不同等价关系的数量等于该集合的划分数量。因此，$X$ 上有 5 个不同的等价关系。", "answer": "$$\\boxed{5}$$", "id": "2981477"}, {"introduction": "掌握了基本概念之后，让我们将问题扩展到一个在计算机科学中常见的大集合上。这个问题探讨了一个简单的规则——拥有相同数量的“1”——如何对所有8位二进制字符串的集合进行划分。你将运用组合学原理来计算这些等价类的大小，从而体会如何根据特定属性对数据进行分类和组织。[@problem_id:1367108]", "problem": "设 $S$ 是所有长度为8的二进制字符串的集合。在集合 $S$ 上定义了一个等价关系 $\\sim$。对于任意两个字符串 $s_1, s_2 \\in S$，我们有 $s_1 \\sim s_2$ 当且仅当 $s_1$ 中“1”的数量等于 $s_2$ 中“1”的数量。这个等价关系将集合 $S$ 划分成一组不相交的等价类。这些不同的等价类中有多少个包含的字符串数量 strictly 大于30？", "solution": "设 $S$ 为所有长度为 $8$ 的二进制字符串的集合。当且仅当两个字符串 $s_{1}, s_{2}$ 含有相同数量的 $1$ 时，它们满足等价关系 $s_{1} \\sim s_{2}$。这些等价类由 $1$ 的个数 $k$ 索引，其中 $k \\in \\{0,1,\\dots,8\\}$。等价类 $E_{k}$ 由恰好含有 $k$ 个1的字符串组成。$E_{k}$ 的大小为\n$$\n|E_{k}|=\\binom{8}{k}.\n$$\n我们需要求出满足以下条件的 $k$ 的数量：\n$$\n\\binom{8}{k}30.\n$$\n利用对称性 $\\binom{8}{k}=\\binom{8}{8-k}$，我们只需检查 $k=0,1,2,3,4$ 的情况：\n$$\n\\binom{8}{0}=1,\\quad \\binom{8}{1}=8,\\quad \\binom{8}{2}=28,\\quad \\binom{8}{3}=56,\\quad \\binom{8}{4}=70.\n$$\n不等式 $\\binom{8}{k}30$ 对 $k=3$ 和 $k=4$ 成立。根据对称性，它对 $k=5$ 也成立（因为 $\\binom{8}{5}=\\binom{8}{3}=56$）。因此，满足条件的 $k$ 的值为 $k \\in \\{3,4,5\\}$，这给出了恰好 $3$ 个包含超过 $30$ 个字符串的等价类。", "answer": "$$\\boxed{3}$$", "id": "1367108"}, {"introduction": "最后的这个实践将我们从组合学带入更抽象的数论世界。我们在模$n$的整数集上基于平方同余定义了一个等价关系，这个关系揭示了该数系的深刻结构特性。解决这个问题需要运用中国剩余定理等工具来计算等价类的数量，展示了如何利用等价关系的概念来分析代数结构。[@problem_id:1367095]", "problem": "考虑模77的整数集合，记作 $\\mathbb{Z}_{77} = \\{0, 1, 2, \\dots, 76\\}$。在此集合上定义了一个关系 $\\mathcal{R}$，使得对于任意两个元素 $a, b \\in \\mathbb{Z}_{77}$，有 $a \\, \\mathcal{R} \\, b$ 当且仅当 $a^2 \\equiv b^2 \\pmod{77}$。这个关系是一个等价关系，它将集合 $\\mathbb{Z}_{77}$ 划分成一系列不相交的等价类。\n\n确定此划分中不同等价类的总数。", "solution": "我们给定在 $\\mathbb{Z}_{77}$ 上的关系定义为 $a \\, \\mathcal{R} \\, b$ 当且仅当 $a^{2} \\equiv b^{2} \\pmod{77}$。等价类的数量等于由平方映射 $f:\\mathbb{Z}_{77} \\to \\mathbb{Z}_{77}$，$f(a)=a^{2} \\bmod 77$ 的像的大小。因此，不同等价类的数量等于模77的不同平方剩余的数量：\n$$\n\\#\\{\\text{等价类}\\}=\\#\\{a^{2} \\bmod 77 : a \\in \\mathbb{Z}_{77}\\}.\n$$\n使用中国剩余定理。由于 $77=7 \\cdot 11$ 且 $\\gcd(7,11)=1$，环 $\\mathbb{Z}_{77}$ 同构于 $\\mathbb{Z}_{7} \\times \\mathbb{Z}_{11}$，并且模77的同余等价于模7和模11的联立同余。因此\n$$\na^{2} \\equiv b^{2} \\pmod{77}\n\\quad \\Longleftrightarrow \\quad\n\\begin{cases}\na^{2} \\equiv b^{2} \\pmod{7},\\\\\na^{2} \\equiv b^{2} \\pmod{11}.\n\\end{cases}\n$$\n因此，模77的不同平方剩余的集合与模7和模11的不同平方剩余集合的笛卡尔积之间存在一个双射，所以\n$$\n\\#\\{\\text{模77的平方数}\\}=\\#\\{\\text{模7的平方数}\\} \\cdot \\#\\{\\text{模11的平方数}\\}.\n$$\n对于一个奇素数 $p$，模 $p$ 的不同平方数的数量等于 $\\frac{p+1}{2}$。这是因为对于 $x \\in \\mathbb{Z}_{p}^{\\times}$，对 $\\{x,-x\\}$ 产生相同的平方，得到 $\\frac{p-1}{2}$ 个不同的非零二次剩余，再加上 $0$，总共有 $1+\\frac{p-1}{2}=\\frac{p+1}{2}$ 个不同的平方数。\n\n将此应用于 $p=7$ 和 $p=11$ 得到\n$$\n\\#\\{\\text{模7的平方数}\\}=\\frac{7+1}{2}=4,\n\\qquad\n\\#\\{\\text{模11的平方数}\\}=\\frac{11+1}{2}=6.\n$$\n因此，\n$$\n\\#\\{\\mathbb{Z}_{77} \\text{中的等价类}\\} = 4 \\times 6 = 24.\n$$\n作为按等价类大小进行的一致性检验：模77的60个可逆元分成大小为4的等价类（模7和模11的独立符号选择），贡献了 $\\frac{60}{4}=15$ 个类；10个非零的7的倍数（但不是11的倍数）分成大小为2的等价类，贡献了5个类；6个非零的11的倍数（但不是7的倍数）分成大小为2的等价类，贡献了3个类；$0$ 形成一个单元类，贡献了1个。因此 $15+5+3+1=24$，与上面的结果一致。", "answer": "$$\\boxed{24}$$", "id": "1367095"}]}