{"hands_on_practices": [{"introduction": "我们从一个直观的例子开始。在处理具有多个属性的数据时，分量比较是一种自然而常见的排序方式。这个练习 [@problem_id:1357410] 将带你在三维空间中，通过系统地检查点对之间的关系，来练习可比性和不可比性的基本定义，并最终找出一个最大反链。", "problem": "考虑三维空间中的一个五点集，$S = \\{P_1, P_2, P_3, P_4, P_5\\}$，其中各点的坐标如下：\n$P_1 = (1, 1, 5)$\n$P_2 = (2, 2, 6)$\n$P_3 = (3, 1, 1)$\n$P_4 = (4, 2, 2)$\n$P_5 = (1, 3, 2)$\n\n我们在集合 $S$ 上定义一个偏序关系 $\\preceq$。对于 $S$ 中的任意两点 $A = (x_A, y_A, z_A)$ 和 $B = (x_B, y_B, z_B)$，我们称 $A \\preceq B$ 当且仅当 $x_A \\le x_B$，$y_A \\le y_B$，并且 $z_A \\le z_B$。\n\n如果两点中的一个与另一个满足 $\\preceq$ 关系（即 $A \\preceq B$ 或 $B \\preceq A$），则称它们是*可比的*。如果两个不同的点不可比，则称它们是*不可比的*。一个*反链*是 $S$ 的一个子集，其中任意两个不同的点都是不可比的。\n\n集合 $S$ 中最大可能反链的大小是多少？", "solution": "我们处理 $S$ 上的积偏序，其中对于 $A=(x_{A},y_{A},z_{A})$ 和 $B=(x_{B},y_{B},z_{B})$，我们有 $A\\preceq B$ 当且仅当 $x_{A}\\leq x_{B}$，$y_{A}\\leq y_{B}$ 且 $z_{A}\\leq z_{B}$。\n\n列出各点：\n$$P_{1}=(1,1,5),\\quad P_{2}=(2,2,6),\\quad P_{3}=(3,1,1),\\quad P_{4}=(4,2,2),\\quad P_{5}=(1,3,2)。$$\n\n使用定义中的不等式检查两两之间的可比性：\n\n1. 比较 $P_{1}$ 和 $P_{2}$：\n$$1\\leq 2,\\quad 1\\leq 2,\\quad 5\\leq 6,$$\n所以 $P_{1}\\preceq P_{2}$。\n\n2. 比较 $P_{1}$ 与 $P_{3},P_{4},P_{5}$：\n- $P_{1}$ 与 $P_{3}$：$1\\leq 3$，$1\\leq 1$，但 $5\\leq 1$ 为假，所以不可比。\n- $P_{1}$ 与 $P_{4}$：$1\\leq 4$，$1\\leq 2$，但 $5\\leq 2$ 为假，所以不可比。\n- $P_{1}$ 与 $P_{5}$：$1\\leq 1$，$1\\leq 3$，但 $5\\leq 2$ 为假，所以不可比。\n\n3. 比较 $P_{2}$ 与 $P_{3},P_{4},P_{5}$：\n- $P_{2}$ 与 $P_{3}$：$2\\leq 3$，但 $2\\leq 1$ 为假；反之 $3\\leq 2$ 为假，所以不可比。\n- $P_{2}$ 与 $P_{4}$：$2\\leq 4$，$2\\leq 2$，但 $6\\leq 2$ 为假；反之 $4\\leq 2$ 为假，所以不可比。\n- $P_{2}$ 与 $P_{5}$：$2\\leq 1$ 为假；反之 $1\\leq 2$ 成立但 $3\\leq 2$ 为假，所以不可比。\n\n4. 比较 $P_{3}$ 与 $P_{4}$ 和 $P_{5}$：\n- $P_{3}$ 与 $P_{4}$：$3\\leq 4$，$1\\leq 2$，$1\\leq 2$，所以 $P_{3}\\preceq P_{4}$。\n- $P_{3}$ 与 $P_{5}$：$3\\leq 1$ 为假；反之 $1\\leq 3$ 成立但 $3\\leq 1$ 为假，所以不可比。\n\n5. 比较 $P_{4}$ 与 $P_{5}$：\n- $P_{4}$ 与 $P_{5}$：$4\\leq 1$ 为假；反之 $1\\leq 4$ 成立但 $3\\leq 2$ 为假，所以不可比。\n\n因此，唯一的可比关系是 $P_{1}\\preceq P_{2}$ 和 $P_{3}\\preceq P_{4}$。该偏序集由两条链 $\\{P_1, P_2\\}$ 和 $\\{P_3, P_4\\}$ 组成，$P_{5}$ 与所有其他点都不可比。\n\n一个反链最多能从每条链中包含一个元素，并且可以包含 $P_{5}$。因此，任何反链的大小最多为 $3$。这个上界是可以达到的，例如 $\\{P_{2},P_{4},P_{5}\\}$，如上验证，其中每对点都是不可比的。\n\n因此，$S$ 中最大可能反链的大小为 $3$。", "answer": "$$\\boxed{3}$$", "id": "1357410"}, {"introduction": "整除关系是偏序集的一个经典例子，在数论和计算机科学中都有广泛应用。这个练习 [@problem_id:1357399] 要求你分析一个由特定整数在整除关系下构成的偏序集。你需要同时找出最长链和最大反链，这不仅是对定义的考察，更是对理解偏序集整体结构（即其“高度”与“宽度”）的一次深入探索。", "problem": "考虑一个偏序集 (poset) $P = (S, \\preceq)$，其中集合 $S$ 为 $S = \\{2, 3, 5, 6, 15, 30\\}$，关系 $\\preceq$ 是整除关系，即对于任意两个元素 $a, b \\in S$，我们有 $a \\preceq b$ 当且仅当 $a$ 整除 $b$。\n\n在一个偏序集中，**链**是指一个元素子集 $\\{x_1, x_2, \\ldots, x_k\\}$，满足 $x_1 \\preceq x_2 \\preceq \\ldots \\preceq x_k$。链的**长度**定义为其元素的数量 $k$。**反链**是一个元素子集，其中任意两个不同的元素都不可比。也就是说，对于反链中的任意两个不同元素 $x, y$，既不满足 $x \\preceq y$ 也不满足 $y \\preceq x$。反链的**大小**是其中的元素数量。\n\n下列哪个陈述正确描述了偏序集 $P$ 的最长链的长度和最大反链的大小？\n\nA. 最长链的长度为 4，最大反链的大小为 2。\nB. 最长链的长度为 3，最大反链的大小为 3。\nC. 最长链的长度为 3，最大反链的大小为 2。\nD. 最长链的长度为 2，最大反链的大小为 3。\nE. 最长链的长度为 4，最大反链的大小为 3。", "solution": "我们考虑偏序集 $P=(S,\\preceq)$，其中 $S=\\{2,3,5,6,15,30\\}$ 且 $a\\preceq b$ 当且仅当 $a$ 整除 $b$。各元素的质因数分解为 $2=2$，$3=3$，$5=5$，$6=2\\cdot 3$，$15=3\\cdot 5$ 以及 $30=2\\cdot 3\\cdot 5$。\n\n首先，确定覆盖关系（哈斯图的边）。如果 $y\\mid x$ 并且不存在 $z\\in S$ 使得 $y\\mid z\\mid x$ 且 $z\\neq y,x$，则称元素 $x$ 覆盖 $y$。根据给定元素之间的整除关系：\n- $2\\mid 6$ 且在 $S$ 中除了 $z=2,6$ 外没有 $z$ 满足 $2\\mid z\\mid 6$，所以 $2\\prec 6$。\n- $3\\mid 6$ 且在 $S$ 中没有中间元素，所以 $3\\prec 6$。\n- $3\\mid 15$ 且在 $S$ 中没有中间元素，所以 $3\\prec 15$。\n- $5\\mid 15$ 且在 $S$ 中没有中间元素，所以 $5\\prec 15$。\n- $6\\mid 30$ 且在 $S$ 中 $6$ 和 $30$ 之间没有中间元素，所以 $6\\prec 30$。\n- $15\\mid 30$ 且在 $S$ 中 $15$ 和 $30$ 之间没有中间元素，所以 $15\\prec 30$。\n像 $2\\mid 30$ 或 $5\\mid 30$ 这样的关系不是覆盖关系，因为有 $2\\mid 6\\mid 30$ 和 $5\\mid 15\\mid 30$。\n\n因此，这个偏序集可以分为三个层级：\n- 第 $0$ 层：$\\{2,3,5\\}$（极小元），\n- 第 $1$ 层：$\\{6,15\\}$，\n- 第 $2$ 层：$\\{30\\}$。\n\n最长链的长度。链是在关系 $\\preceq$ 下的一个全序子集。从分层来看，任何严格递增的链最多只能包含每个层级中的一个元素，因此链中元素的最大可能数量为 $3$。一个长度为 $3$ 的明确的链是 $2 \\prec 6 \\prec 30$（也可以是 $3 \\prec 6 \\prec 30$ 或 $5 \\prec 15 \\prec 30$）。不存在长度为 $4$ 的链，因为只有三个不同的层级。因此，最长链的长度为 $3$。\n\n最大反链的大小。反链由两两不可比的元素组成。集合 $\\{2,3,5\\}$ 是一个反链，因为它们之间任意两个都不能互相整除，所以存在一个大小为 $3$ 的反链。为了说明不存在更大的反链：\n- 元素 $30$ 与 $S$ 中的所有其他元素都可比（每个 $x\\in S\\setminus\\{30\\}$ 都满足 $x\\mid 30$），所以任何包含 $30$ 的反链的大小最多为 $1$。\n- 第 $1$ 层的任何元素（$6$ 或 $15$）都至少能被第 $0$ 层的一个元素整除（对于 $6$，$2$ 和 $3$ 都能整除它；对于 $15$，$3$ 和 $5$ 都能整除它），因此一个反链不能同时包含这样一个第 $1$ 层的元素及其在第 $0$ 层的除数。\n在这些约束条件下，最大的选择是取所有三个极小元 $\\{2,3,5\\}$，得到大小为 $3$ 的反链，不可能存在大小为 $4$ 的反链。\n\n因此，最长链的长度为 $3$，最大反链的大小为 $3$，这对应于选项 B。", "answer": "$$\\boxed{B}$$", "id": "1357399"}, {"introduction": "现在，我们来挑战一个更高级的问题，它与计算机科学和信息论紧密相关。二进制字符串上的按位序是一种基本的偏序关系。这个问题 [@problem_id:1357398] 挑战你运用更抽象的组合学原理来确定一个复杂偏序集中最大反链的大小，而不是简单地枚举。这个过程将向你展示一种处理更庞大、更复杂偏序集的强大技巧。", "problem": "考虑集合 $S_8$，其元素为所有不包含子串“11”的长度为8的二进制字符串。在集合 $S_8$ 上定义了一个偏序关系 $\\preceq$。对于 $S_8$ 中的任意两个字符串 $x = x_1x_2...x_8$ 和 $y = y_1y_2...y_8$，我们称 $x \\preceq y$ 当且仅当对于所有从1到8的整数 $i$ 都有 $x_i \\le y_i$。\n\n在偏序集中，反链（antichain）是一个元素子集，其中任意两个不同的元素都不可比。也就是说，对于反链中的任意两个不同元素 $a$ 和 $b$，$a \\preceq b$ 和 $b \\preceq a$ 都不成立。\n\n确定偏序集 $(S_8, \\preceq)$ 中最大可能反链的大小。", "solution": "设 $(S_8, \\preceq)$ 是题目描述中的偏序集。$S_8$ 的元素是长度为8且没有两个连续'1'的二进制字符串。关系 $\\preceq$ 是按位序。我们要求的是这个偏序集（poset）中最大反链的大小。\n\n首先，我们来分析可比性条件。如果一个字符串 $x$ 与一个字符串 $y$ 可比，且 $x \\neq y$ 和 $x \\preceq y$，这意味着对所有的 $i$ 都有 $x_i \\le y_i$，并且至少存在一个索引 $j$ 使得 $x_j  y_j$。这意味着 $x_j=0$ 且 $y_j=1$。令 $w(s)$ 表示字符串 $s$ 的汉明权重（Hamming weight），即其中'1'的个数。条件 $x_j=0, y_j=1$ 严格增加了汉明权重，所以如果 $x \\preceq y$ 且 $x \\neq y$，那么必然有 $w(x)  w(y)$。\n\n由此得出的一个直接推论是，如果两个不同的字符串 $x$ 和 $y$ 具有相同的汉明权重 $w(x) = w(y)$，那么它们是不可比的。如果它们可比，比如说 $x \\preceq y$，那将意味着 $w(x)  w(y)$，这会产生矛盾。因此，在 $S_8$ 中所有具有相同汉明权重的字符串集合构成一个反链。\n\n这提示我们一种寻找大反链的策略：我们可以根据汉明权重将 $S_8$ 划分为子集，并找出其中最大的子集的大小。设 $N_k$ 为 $S_8$ 中汉明权重为 $k$ 的字符串集合。每个 $N_k$ 都是一个反链，其大小是长度为8、恰好有 $k$ 个'1'且没有连续'1'的二进制字符串的数量。\n\n我们可以用组合论证的方法来计算 $N_k$ 的大小。考虑在8个可用位置上放置 $k$ 个'1'。约束条件是任意两个'1'都不能相邻。这是一个经典的插板法类型问题。想象我们有 $8-k$ 个零，它们之间以及两端共形成了 $ (8-k)+1 = 9-k $ 个空位。$k$ 个'1'可以放置在这些空位中。为确保没有两个'1'是连续的，我们必须在每个空位中最多放置一个'1'。因此，我们需要从这 $9-k$ 个可用空位中选择 $k$ 个。这样做的方案数由二项式系数 $\\binom{9-k}{k}$ 给出。\n\n现在我们对所有可能的 $k$ 值计算 $|N_k| = \\binom{9-k}{k}$。'1'的数量 $k$ 可以从0开始。在一个长度为8且没有连续'1'的字符串中，'1'的最大数量是4（例如，字符串10101010）。所以，我们需要检查 $k=0, 1, 2, 3, 4$。\n\n当 $k=0$ 时：\n$|N_0| = \\binom{9-0}{0} = \\binom{9}{0} = 1$。（字符串是00000000）。\n\n当 $k=1$ 时：\n$|N_1| = \\binom{9-1}{1} = \\binom{8}{1} = 8$。\n\n当 $k=2$ 时：\n$|N_2| = \\binom{9-2}{2} = \\binom{7}{2} = \\frac{7 \\times 6}{2} = 21$。\n\n当 $k=3$ 时：\n$|N_3| = \\binom{9-3}{3} = \\binom{6}{3} = \\frac{6 \\times 5 \\times 4}{3 \\times 2 \\times 1} = 20$。\n\n当 $k=4$ 时：\n$|N_4| = \\binom{9-4}{4} = \\binom{5}{4} = 5$。\n\n对于 $k \\ge 5$，该公式给出 $\\binom{9-k}{k}=0$，这与预期相符，因为我们无法在8个位置上放置5个或更多不相邻的'1'。\n\n这些反链 $N_k$ 的大小分别为1、8、21、20和5。这些值中的最大值是21。\n\n这个偏序集是一个分级偏序集（graded poset），其秩函数是汉明权重。对于许多这样的偏序集，包括这一个（它具有Sperner性质），最大反链的大小等于最大秩层的大小。我们已经发现最大的秩层是 $N_2$，其大小为21。\n\n因此，在 $(S_8, \\preceq)$ 中最大可能反链的大小是21。", "answer": "$$\\boxed{21}$$", "id": "1357398"}]}