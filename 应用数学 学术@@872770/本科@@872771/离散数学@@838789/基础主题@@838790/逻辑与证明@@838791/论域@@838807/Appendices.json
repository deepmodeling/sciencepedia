{"hands_on_practices": [{"introduction": "论域（Universe of Discourse）为我们的逻辑推理和集合运算划定了舞台。为了更好地理解这个概念，让我们从一个熟悉的例子开始：一副标准的扑克牌。通过将我们的论域精确定义为所有可能的5张牌手牌组合，我们可以运用集合论的工具来精确地计数和分析复杂的事件。这项练习将基本计数原理和集合运算应用于一个具体的情境中，是巩固这些核心技能的绝佳实践。", "problem": "考虑一副标准的52张牌，它由4种花色（黑桃、红心、方块、梅花）和13个点数（A、2、3、4、5、6、7、8、9、10、J、Q、K）组成。全集 $U$ 定义为从这副牌中可以发出的所有可能的5张牌手牌的集合。\n\n在这个全集中，我们定义以下子集：\n- 令 $A$ 为至少包含一张A的手牌的集合。\n- 令 $K$ 为至少包含一张K的手牌的集合。\n- 令 $F$ 为同花（即所有五张牌都属于同一花色）的手牌的集合。请注意，同花顺或皇家同花顺也属于 $F$。\n\n您的任务是计算集合 $(A \\cup K) \\cap F^c$ 的基数，其中 $F^c$ 表示集合 $F$ 相对于全集 $U$ 的补集。最终答案必须是一个整数。", "solution": "令 $U$ 为所有5张牌手牌的集合，则 $|U|=\\binom{52}{5}$。我们要求解\n$$\n|(A\\cup K)\\cap F^{c}|=|A\\cup K|-|(A\\cup K)\\cap F|.\n$$\n首先，使用补集原理计算 $|A\\cup K|$。不含A且不含K的手牌是从剩下的44张牌中选取的，所以\n$$\n|A\\cup K|=\\binom{52}{5}-\\binom{44}{5}.\n$$\n接下来，计算至少包含一张A或一张K的同花。固定一种花色：在其13张牌中，排除A和K，剩下11张。在该花色中，至少包含一张A或一张K的5张牌的选择数量为\n$$\n\\binom{13}{5}-\\binom{11}{5}.\n$$\n共有4种花色，因此\n$$\n|(A\\cup K)\\cap F|=4\\left(\\binom{13}{5}-\\binom{11}{5}\\right).\n$$\n所以，\n$$\n|(A\\cup K)\\cap F^{c}|=\\binom{52}{5}-\\binom{44}{5}-4\\left(\\binom{13}{5}-\\binom{11}{5}\\right).\n$$\n计算每个二项式系数：\n$$\n\\binom{52}{5}=2,598,960,\\quad \\binom{44}{5}=\\frac{44\\cdot 43\\cdot 42\\cdot 41\\cdot 40}{5!}=1,086,008,\n$$\n$$\n\\binom{13}{5}=\\frac{13\\cdot 12\\cdot 11\\cdot 10\\cdot 9}{5!}=1,287,\\quad \\binom{11}{5}=\\frac{11\\cdot 10\\cdot 9\\cdot 8\\cdot 7}{5!}=462.\n$$\n因此，\n$$\n|(A\\cup K)\\cap F^{c}|=2,598,960-1,086,008-4(1,287-462)=2,598,960-1,086,008-4\\cdot 825,\n$$\n$$\n=1,512,952-3,300=1,509,652.\n$$", "answer": "$$\\boxed{1509652}$$", "id": "1413090"}, {"introduction": "现在，让我们从具体的纸牌世界迈向更抽象的数学领域。论域的概念并不仅限于物理对象，它同样是构建和解决如线性代数等领域问题的强大工具。[@problem_id:1413079] 这项练习将挑战我们将一个由矩阵构成的集合作为论域，并运用逻辑推理来分析其元素的性质，如奇异性和对称性。通过这种方式，我们不仅能深化对论域的理解，还能看到它如何将不同数学分支中的概念联系起来。", "problem": "设论域 $U$ 是所有元素取自集合 $\\{-1, 0, 1\\}$ 的 $2 \\times 2$ 矩阵的集合。对于 $U$ 中的任意矩阵 $A = \\begin{pmatrix} a  b \\\\ c  d \\end{pmatrix}$，我们定义以下性质：\n\n-   如果矩阵 $A$ 的行列式 $\\det(A) = ad-bc$ 等于零，则该矩阵是**奇异的** (singular)。\n-   如果矩阵 $A$ 等于其转置矩阵，则该矩阵是**对称的** (symmetric)，对于 $2 \\times 2$ 矩阵，这意味着 $b=c$。\n-   矩阵 $A$ 的**迹** (trace)，记作 $\\text{tr}(A)$，是其主对角线上元素的和，即 $\\text{tr}(A) = a+d$。\n\n考虑以下关于论域 $U$ 中矩阵的陈述。\n\nA. $U$ 中奇异矩阵的数量为 33。\n\nB. $U$ 中迹为非负的非奇异矩阵的数量为 27。\n\nC. $U$ 中恰好有 9 个既是对称的又是奇异的矩阵。\n\nD. $U$ 中对称或奇异（或两者皆是）的矩阵数量为 51。\n\n以上哪些陈述是正确的？您的答案应由所有正确陈述对应的大写字母按字母顺序组成的字符串。例如，如果您发现只有陈述 B 和 C 是正确的，您的答案应为 BC。", "solution": "设 $U$ 为所有元素在 $\\{-1,0,1\\}$ 中的 $2 \\times 2$ 矩阵的集合，因此 $|U|=3^{4}=81$。对于 $A=\\begin{pmatrix} a  b \\\\ c  d \\end{pmatrix}$，$\\det(A)=ad-bc$，对称意味着 $b=c$，且 $\\operatorname{tr}(A)=a+d$。\n\n为了评估陈述 A，我们通过行无关性来计算非奇异矩阵的数量。设行向量为 $v,w \\in \\{-1,0,1\\}^{2}$。一个矩阵是非奇异的，当且仅当 $v$ 和 $w$ 在 $\\mathbb{R}$ 上线性无关。总共有 $9$ 个行向量；其中一个是零向量，它永远不会产生线性无关。对于任何非零向量 $v$，其位于 $\\{-1,0,1\\}^{2}$ 中的标量倍数 $kv$ 恰好是 $\\{-v,0,v\\}$，因此恰好有 $3$ 个共线选择。因此，对于每个非零向量 $v$，有 $9-3=6$ 个 $w$ 的选择可以得到线性无关。有 $8$ 个非零向量 $v$，所以非奇异矩阵的数量是\n$$\n8 \\times 6 = 48.\n$$\n因此，奇异矩阵的数量是\n$$\n81-48=33,\n$$\n所以陈述 A 是正确的。\n\n对于陈述 B，我们需要计算迹 $\\operatorname{tr}(A) \\geq 0$ 的非奇异矩阵的数量。映射 $A \\mapsto -A$ 保持非奇异性，并将 $\\operatorname{tr}(A)$ 变为 $-\\operatorname{tr}(A)$，因此正迹和负迹的非奇异矩阵数量相等。设 $N=48$ 为非奇异矩阵的总数，设 $Z$ 为迹 $\\operatorname{tr}(A)=0$ 的非奇异矩阵的数量。那么迹为非负的矩阵数量等于 $\\frac{N+Z}{2}$。我们通过对满足 $a+d=0$ 的 $(a,d)$ 进行分类讨论来计算 $Z$。\n\n如果 $(a,d)=(0,0)$，那么 $\\det(A)=-bc$，所以非奇异要求 $bc \\neq 0$，即 $b,c \\in \\{\\pm 1\\}$，得到 $2 \\times 2=4$ 个矩阵。\n\n如果 $(a,d)=(1,-1)$ 或 $(-1,1)$，那么 $ad=-1$ 且 $\\det(A)=-1-bc \\neq 0$，即 $bc \\neq -1$。在 $9$ 对 $(b,c)$ 中，恰好有 $2$ 对（即 $(1,-1)$ 和 $(-1,1)$）满足 $bc=-1$，所以对每个对角线组合有 $7$ 种选择，得到 $2 \\times 7=14$ 个矩阵。\n\n因此 $Z=4+14=18$，迹为非负的非奇异矩阵的数量是\n$$\n\\frac{48+18}{2}=33,\n$$\n所以声称数量为 $27$ 的陈述 B 是错误的。\n\n对于陈述 C，我们计算对称奇异矩阵的数量。对称意味着 $b=c$，所以写成 $A=\\begin{pmatrix} a  b \\\\ b  d \\end{pmatrix}$，其中 $a,b,d \\in \\{-1,0,1\\}$。那么 $\\det(A)=ad-b^{2}$，奇异性要求 $ad=b^{2}$。\n\n如果 $b=0$，那么 $b^{2}=0$ 且 $ad=0$。在 $9$ 对 $(a,d)$ 中，恰好有 $a$ 或 $d$ 中至少一个为 $0$ 的那些对满足 $ad=0$，产生 $5$ 个解。\n\n如果 $b=\\pm 1$，那么 $b^{2}=1$ 且 $ad=1$，这恰好在 $(a,d)=(1,1)$ 或 $(-1,-1)$ 时发生，对于每个 $b$ 的选择给出 $2$ 个解。因此对于 $b \\in \\{\\pm 1\\}$，我们得到 $4$ 个解。\n\n因此，对称奇异矩阵的数量是 $5+4=9$，所以陈述 C 是正确的。\n\n对于陈述 D，使用容斥原理。对称矩阵的数量是 $3^{3}=27$。根据陈述 A， $|{\\text{singular}}|=33$；根据陈述 C， $|{\\text{symmetric}} \\cap {\\text{singular}}|=9$。因此\n$$\n|{\\text{symmetric}} \\cup {\\text{singular}}|=27+33-9=51,\n$$\n所以陈述 D 是正确的。\n\n因此，正确的陈述是 A、C 和 D。", "answer": "$$\\boxed{ACD}$$", "id": "1413079"}, {"introduction": "最后，我们将探讨一个更复杂的组合结构：图。在本练习 [@problem_id:1413121] 中，论域被定义为完全图 $K_4$ 的所有生成树的集合，这是网络设计和计算机科学中的一个核心概念。这个问题展示了，通过为抽象结构（如树）定义一个清晰的论域，我们能够系统地分析它们的性质和相互关系。这凸显了论域作为高等离散数学中一个基础概念的强大通用性。", "problem": "论域，记为 $U$，定义为完全图 $K_4$ 的所有生成树的集合。$K_4$ 的顶点用集合 $V = \\{1, 2, 3, 4\\}$ 进行标记。\n在此背景下，一个四顶点的路径图是一棵树，其中恰好有两个顶点的度为1，另外两个顶点的度为2。叶子是度为1的顶点。\n\n对于任意给定的树 $T \\in U$，考虑以下两个命题：\n- $P(T)$: 树 $T$ 是一个路径图。\n- $Q(T)$: 在树 $T$ 中，标记为“1”的顶点是叶子。\n\n确定论域 $U$ 中使得逻辑析取 $P(T) \\lor Q(T)$ 为真的不同树的总数。", "solution": "设 $U$ 是在带标记顶点 $V=\\{1,2,3,4\\}$ 上的完全图 $K_{4}$ 的所有生成树的集合。根据 Cayley 公式，在 $4$ 个带标记顶点上的树的数量为\n$$\n|U|=4^{4-2}=16.\n$$\n在 $4$ 个顶点上，恰好有两种无标记的树形：4个顶点上的路径图（度序列为 $(1,2,2,1)$）和星形图 $K_{1,3}$（度序列为 $(3,1,1,1)$）。计算带标记的版本：\n- 带标记的星形图通过选择中心点得到，因此有 $4$ 棵这样的树。\n- 因此，带标记的路径图数量为 $16-4=12$。\n\n定义 $P(T)$ 为“$T$ 是路径图”，$Q(T)$ 为“顶点 $1$ 是叶子”。我们要求解 $|P\\cup Q|=|P|+|Q|-|P\\cap Q|$。\n\n首先，如上所述， $|P|=12$。\n\n接下来，计算 $|Q|$。使用 Prüfer 序列，对于一个有 $n$ 个顶点的带标记树，一个顶点的度等于 $1$ 加上其标记在长度为 $n-2$ 的 Prüfer 序列中出现的次数。对于 $n=4$，该序列的长度为 $2$。顶点 $1$ 是叶子当且仅当它在序列中出现 $0$ 次。在集合 $\\{1,2,3,4\\}$ 上，长度为 $2$ 且不包含 $1$ 的序列数量为\n$$\n3^{2}=9,\n$$\n所以 $|Q|=9$。\n\n现在计算 $|P\\cap Q|$，即顶点 $1$ 是叶子的带标记路径图。对于 $n=4$，一棵树是路径图当且仅当其 Prüfer 序列有两个不同的元素；它是星形图当且仅当两个元素相同。因此，$P\\cap Q$ 对应于从 $\\{2,3,4\\}$ 中抽取（为避免 $1$）的、具有不同元素的长度为 $2$ 的 Prüfer 序列。从 $\\{2,3,4\\}$ 中取不同元素的有序对的数量为\n$$\n3\\cdot 2=6,\n$$\n因此 $|P\\cap Q|=6$。\n\n因此，\n$$\n|P\\cup Q|=|P|+|Q|-|P\\cap Q|=12+9-6=15.\n$$\n作为一致性检验，其补集包含既不是路径图且顶点 $1$ 也不是叶子的树，这必须是恰好以顶点 $1$ 为中心的星形图，得出 $16-1=15$，与结果一致。", "answer": "$$\\boxed{15}$$", "id": "1413121"}]}