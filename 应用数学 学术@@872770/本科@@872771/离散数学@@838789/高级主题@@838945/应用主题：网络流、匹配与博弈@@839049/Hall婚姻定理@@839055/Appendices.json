{"hands_on_practices": [{"introduction": "霍尔婚姻定理提供了一个完美匹配存在的充要条件。当一个完美匹配不可能实现时，定理告诉我们根本原因在于存在一个“瓶颈”：一方的某个子集，其全体成员所能匹配的另一方对象的数量，少于该子集成员的数量。这个练习将训练你通过直接应用霍尔条件 $|N(S)| \\ge |S|$，在具体场景中找出这样的瓶颈子集 [@problem_id:1373128]。", "problem": "一家科技公司的项目经理正试图将一个由六名专业程序员组成的团队分配给六个不同的高优先级任务。为确保项目能够满员，每位程序员必须被分配到一个他们有资格胜任的唯一任务。程序员集合为 $P = \\{P_A, P_B, P_C, P_D, P_E, P_F\\}$，任务集合为 $T = \\{T_1, T_2, T_3, T_4, T_5, T_6\\}$。\n\n当且仅当该情景满足霍尔婚姻条件时，才可能存在一种将每位程序员匹配到一个唯一的、合适的任务的分配方案。该条件规定，对于程序员的任意子集 $A \\subseteq P$，他们共同有资格从事的唯一任务的数量（记为 $|N(A)|$）必须大于或等于该子集中的程序员数量 $|A|$。如果对于任何子集 $A$，此条件被违反（即 $|N(A)|  |A|$），则不可能实现完全分配。\n\n程序员对任务的胜任情况如下：\n-   $P_A$ 胜任任务 $\\{T_1, T_2\\}$。\n-   $P_B$ 胜任任务 $\\{T_1, T_2\\}$。\n-   $P_C$ 胜任任务 $\\{T_2\\}$。\n-   $P_D$ 胜任任务 $\\{T_3, T_4, T_5\\}$。\n-   $P_E$ 胜任任务 $\\{T_4, T_5, T_6\\}$。\n-   $P_F$ 胜任任务 $\\{T_1, T_6\\}$。\n\n从以下选项中，找出所有违反霍尔婚姻条件的程序员子集，从而证明完全分配是不可能的。\n\nA. $\\{P_A, P_B, P_C\\}$\n\nB. $\\{P_D, P_E\\}$\n\nC. $\\{P_A, P_F\\}$\n\nD. $\\{P_A, P_B, P_C, P_F\\}$\n\nE. $\\{P_C, P_D, P_E\\}$", "solution": "霍尔婚姻定理指出，存在一个完美匹配当且仅当对于每个子集 $A \\subseteq P$，不等式 $|N(A)| \\geq |A|$ 成立，其中 $N(A)$ 是 $A$ 中至少一名程序员有资格执行的任务集合。一个子集违反霍尔条件的准确情况是 $|N(A)|  |A|$。\n\n考虑选项 A，设 $A=\\{P_A, P_B, P_C\\}$。根据胜任情况，$P_A$ 和 $P_B$ 胜任 $\\{T_1, T_2\\}$，$P_C$ 胜任 $\\{T_2\\}$。因此 $N(A)=\\{T_1, T_2\\}$，所以 $|N(A)|=2$ 而 $|A|=3$。由于 $2  3$，该子集违反了霍尔条件。\n\n考虑选项 B，设 $A=\\{P_D, P_E\\}$。我们有 $P_D$ 胜任 $\\{T_3, T_4, T_5\\}$，$P_E$ 胜任 $\\{T_4, T_5, T_6\\}$，得到 $N(A)=\\{T_3, T_4, T_5, T_6\\}$。因此 $|N(A)|=4$ 且 $|A|=2$，所以 $4 \\geq 2$，这不违反霍尔条件。\n\n考虑选项 C，设 $A=\\{P_A, P_F\\}$。则 $N(A)=\\{T_1, T_2\\} \\cup \\{T_1, T_6\\}=\\{T_1, T_2, T_6\\}$，所以 $|N(A)|=3$ 且 $|A|=2$，因此 $3 \\geq 2$，这不违反霍尔条件。\n\n考虑选项 D，设 $A=\\{P_A, P_B, P_C, P_F\\}$。使用之前的并集，$N(\\{P_A, P_B, P_C\\})=\\{T_1, T_2\\}$，再加入 $P_F$ 的 $\\{T_1, T_6\\}$，得到 $N(A)=\\{T_1, T_2, T_6\\}$。因此 $|N(A)|=3$ 且 $|A|=4$，所以 $3  4$，这违反了霍尔条件。\n\n考虑选项 E，设 $A=\\{P_C, P_D, P_E\\}$。其并集为 $\\{T_2\\} \\cup \\{T_3, T_4, T_5\\} \\cup \\{T_4, T_5, T_6\\}=\\{T_2, T_3, T_4, T_5, T_6\\}$。因此 $|N(A)|=5$ 且 $|A|=3$，所以 $5 \\geq 3$，这不违反霍尔条件。\n\n因此，违反霍尔条件的子集是选项 A 和 D 中的子集。", "answer": "$$\\boxed{AD}$$", "id": "1373128"}, {"introduction": "对于一个有 $n$ 个顶点的集合，逐一检查其所有 $2^n-1$ 个非空子集是否都满足霍尔条件，在实际中是不可行的。幸运的是，我们有时可以利用图的局部属性（例如顶点的最小度）来保证全局属性（完美匹配的存在性）。这个练习将探讨一个强大而常见的充分条件，并展示如何巧妙地证明它能确保完美匹配的存在，从而避免了繁琐的子集检查 [@problem_id:1373118]。", "problem": "一所大学的计算机科学系正在组织一个同伴指导项目。有$N$名高年级学生将担任导师，$N$名低年级学生将担任受导者。如果一名导师和一名受导者被认为是“兼容的”，他们就可以配对，这是一种基于共同学术兴趣的对称关系。\n\n为确保配对成功的高可能性，组织委员会制定了一条严格的兼容性规则：每位高年级学生必须与至少$N/2$名低年级学生兼容，同样地，每位低年级学生也必须与至少$N/2$名高年级学生兼容。\n\n该项目的目标是形成$N$对不同的导师-受导者配对，使得项目中的每位学生都恰好属于一对。用图论的术语来说，这被称为完美匹配。问题是，委员会的规则是否足以保证，无论具体的兼容性网络如何，以及对于任何正整数$N$值，完美匹配总是可能存在的。\n\n下列哪个陈述是正确的？\n\nA. 是的，对于任何正整数$N$，总是保证存在完美匹配。\n\nB. 不，不保证存在完美匹配。当且仅当$N$是偶数时，可以构造一个反例。\n\nC. 不，不保证存在完美匹配。当且仅当$N$是奇数时，可以构造一个反例。\n\nD. 不，不保证存在完美匹配。对于某些偶数和某些奇数$N$值，可以构造反例。\n\nE. 信息不足；完美匹配的存在性取决于$N$是否为素数。", "solution": "将此情况建模为一个二分图 $G=(L,R,E)$，其中 $|L|=|R|=N$。假设是，对于每个 $x \\in L$，都有 $\\deg(x) \\geq \\frac{N}{2}$；对于每个 $y \\in R$，都有 $\\deg(y) \\geq \\frac{N}{2}$。根据霍尔定理（Hall's theorem），$G$ 存在完美匹配，当且仅当对于每个子集 $S \\subseteq L$，都有 $|N(S)| \\geq |S|$，其中 $N(S) \\subseteq R$ 表示 $S$ 的邻域。\n\n固定任意非空子集 $S \\subseteq L$。$S$ 中各顶点的度之和满足\n$$\n\\sum_{x \\in S} \\deg(x) \\geq |S| \\cdot \\frac{N}{2}.\n$$\n所有这些边都终止于 $N(S)$，且 $S$ 与 $N(S)$ 之间的边数 $e(S,N(S))$。因此有\n$$\n|S| \\cdot \\frac{N}{2} \\leq e(S,N(S)).\n$$\n另一方面，进入 $N(S)$ 的边数不能超过 $N(S)$ 中顶点的度数之和，即 $e(S,N(S)) \\le \\sum_{y \\in N(S)} \\deg(y)$。然而，一个更简单的论证如下：\n\n我们分两种情况讨论 $S$ 的大小：\n\n**情况 1：$|S| \\leq \\frac{N}{2}$**\n考虑从 $S$ 发出的所有边。这些边的数量至少为 $|S| \\cdot \\frac{N}{2}$。这些边都连接到 $N(S)$ 中的顶点。即使每个 $N(S)$ 中的顶点都与 $S$ 中的所有顶点相连（最坏情况），我们也可以得到一个关于 $|N(S)|$ 的下界。一个更直接的论证是：由于 $S$ 中的每个顶点至少连接到 $\\frac{N}{2}$ 个 $V$ 中的顶点，那么 $N(S)$ 的大小也必须至少是 $\\frac{N}{2}$。因此，我们有 $|N(S)| \\ge \\frac{N}{2}$。由于 $|S| \\le \\frac{N}{2}$，我们得到 $|N(S)| \\ge |S|$。霍尔条件在此情况下成立。\n\n**情况 2：$|S| > \\frac{N}{2}$**\n在这种情况下，我们采用反证法。假设存在一个顶点 $y \\in R$ 不在 $N(S)$ 中。这意味着 $y$ 与 $S$ 中的任何顶点都没有边。那么，$y$ 的所有邻居都必须在 $L \\setminus S$ 中。因此，$\\deg(y) \\le |L \\setminus S| = N - |S|$。\n根据已知条件，我们有 $\\deg(y) \\ge \\frac{N}{2}$。同时，由于 $|S| > \\frac{N}{2}$，我们有 $N - |S|  \\frac{N}{2}$。\n将这些不等式结合起来，我们得到 $\\frac{N}{2} \\le \\deg(y) \\le N - |S|  \\frac{N}{2}$，即 $\\frac{N}{2}  \\frac{N}{2}$，这是一个矛盾。\n因此，我们的假设（存在一个 $y \\in R$ 不在 $N(S)$ 中）是错误的。这意味着 $N(S)$ 必须包含 $R$ 中的所有顶点，即 $N(S) = R$。\n于是，我们有 $|N(S)| = |R| = N$。由于 $|S| \\le N$，霍尔条件 $|N(S)| \\ge |S|$ 成立。\n\n由于对所有非空子集 $S \\subseteq L$，霍尔条件都成立，因此根据霍尔定理，$G$ 存在一个完美匹配。这个论证对任何正整数 $N$ 都成立。因此，在委员会的规则下，总是能保证存在完美匹配，正确选项是 A。", "answer": "$$\\boxed{A}$$", "id": "1373118"}, {"introduction": "霍尔婚姻定理是一个“当且仅当”的陈述，这使得它异常强大。这个练习将带你探索该定理的边界情况。我们将分析一个完美匹配不存在，但又“几乎”存在的特殊场景：匹配条件仅对整个集合不成立，而对其所有真子集都成立。通过分析这种情况，你将更深刻地理解为什么霍尔条件必须对*所有*子集都成立，才能保证完美匹配的存在 [@problem_id:1510982]。", "problem": "一所大学的计算机科学系正在组织其年度项目展览会。有 $n \\ge 2$ 个学生小组，记作集合 $U = \\{u_1, \\dots, u_n\\}$，以及相同数量的演示展位，$V = \\{v_1, \\dots, v_n\\}$。主要目标是为每个学生小组分配一个唯一的展位。\n\n分配过程受到项目技术要求的限制。具体来说，一个包含 $k$ 个展位的子集 $\\{v_1, \\dots, v_k\\}$（其中 $1 \\le k  n$）被指定为“大功率”展位。由于一个全系统的硬件兼容性问题，发现每个学生小组的项目*仅*与这些大功率展位兼容。当且仅当小组被分配到的展位是其兼容的展位时，该分配才有效。\n\n系主任观察到此设置存在两个相互矛盾的性质：\n1. 不可能为每个学生小组分配一个其自己唯一的展位。\n2. 对于任何较小的学生小组集合（即，对于任何非空真子集 $S \\subset U$），总能将 $S$ 中的每个小组分配到一个其兼容的唯一大功率展位。\n\n已知 $n$ 是一个大于或等于 2 的固定整数，请确定 $k$ 的唯一整数值（用 $n$ 表示），使得这两个性质同时成立。", "solution": "将此情况建模为一个二分图，其两部分为 $U=\\{u_{1},\\dots,u_{n}\\}$ 和 $V=\\{v_{1},\\dots,v_{n}\\}$。设大功率展位集合为 $V_H = \\{v_1, \\dots, v_k\\}$。根据问题描述，从 $U$ 中任意顶点 $u_i$ 出发的边，都只能连接到 $V_H$ 中的顶点。\n\n**分析性质 1：**\n性质 1 指出，不存在一个完美匹配。一个完美匹配需要将 $U$ 中的 $n$ 个小组匹配到 $V$ 中的 $n$ 个不同展位。然而，由于所有小组都只能与 $V_H$ 中的展位兼容，任何匹配都只能使用 $V_H$ 中的展位。一个匹配的大小不能超过可用展位的数量，即匹配大小 $\\le |V_H| = k$。为了使完美匹配（大小为 $n$）不可能，我们必须有 $k  n$。这与问题中给定的条件 $1 \\le k  n$ 一致，所以性质1本质上没有提供比已知条件更多的关于 $k$ 的限制。\n\n**分析性质 2：**\n性质 2 指出，对于任何非空真子集 $S \\subset U$（即 $1 \\le |S|  n$），总能为 $S$ 中的小组找到一个饱和 $S$ 的匹配。根据霍尔婚姻定理，这等价于：对于任何非空真子集 $S \\subset U$，霍尔条件 $|N(S)| \\ge |S|$ 必须成立。\n\n我们来确定 $N(S)$ 是什么。由于每个学生小组的项目都与*所有*大功率展位兼容，对于任何非空子集 $S \\subseteq U$，其邻域 $N(S)$ 就是整个大功率展位集合 $V_H$。\n因此，我们有 $N(S) = V_H$，以及 $|N(S)| = |V_H| = k$。\n\n将此代入霍尔条件，我们得到：对于所有满足 $1 \\le |S|  n$ 的子集 $S$，必须有 $k \\ge |S|$。\n这个条件必须对所有大小的真子集都成立。真子集的最大可能大小是 $n-1$。为了使条件对所有真子集都成立， $k$ 必须大于或等于其中最大的大小。\n因此，我们必须有 $k \\ge n-1$。\n\n**结合两个性质：**\n从性质1（以及问题设定），我们知道 $k  n$。\n从性质2，我们推导出 $k \\ge n-1$。\n\n将这两个条件 $k  n$ 和 $k \\ge n-1$ 结合起来，对于整数 $k$，唯一的解是 $k = n-1$。\n\n当 $k=n-1$ 时：\n1. 完美匹配不可能，因为只有 $n-1$ 个可用展位给 $n$ 个小组。\n2. 对于任何大小为 $|S| \\le n-1$ 的真子集 $S$，其邻域大小为 $|N(S)|=k=n-1$。因此 $|N(S)| \\ge |S|$ 成立，保证了饱和 $S$ 的匹配存在。\n\n因此，唯一的整数值是 $n-1$。", "answer": "$$\\boxed{n-1}$$", "id": "1510982"}]}