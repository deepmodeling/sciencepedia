{"hands_on_practices": [{"introduction": "理论学习之后，最好的检验方式就是动手实践。这个练习提供了一个经典的网络设计场景，要求你计算连接所有节点的最低成本。这项任务旨在让你练习普里姆算法的基本应用，通过逐步执行该算法，你会体验到它是如何通过每一步的局部最优选择，最终构建出全局最优的最小生成树的。[@problem_id:1392201]", "problem": "一家科技公司正在为其新园区设计一个光纤通信网络。该网络由一个中央服务器中心和6座周边办公楼组成。为了解决这个问题，我们可以将中心和办公楼建模为图中的顶点。设中心为顶点 $H$，六座办公楼为顶点 $B_1, B_2, B_3, B_4, B_5, B_6$。\n\n该网络设计有两种可能的连接类型：\n1.  **直连中心链路**：这些是从中央中心 $H$ 到每座办公楼 $B_i$ 的连接。由于地形和距离的不同，这些链路的成本并不统一。连接中心 $H$ 到任何一座办公楼 $B_1, B_2, B_3, B_4,$ 或 $B_5$ 的成本为每条链路1个单位成本。连接到办公楼 $B_6$ 则更为困难，成本为3个单位。\n2.  **楼间链路**：六座办公楼呈环形排列。可以在相邻的建筑物之间铺设电缆。连接任何一对相邻建筑物（即 $(B_1, B_2)$, $(B_2, B_3)$, $(B_3, B_4)$, $(B_4, B_5)$, $(B_5, B_6)$, 和 $(B_6, B_1)$）的成本为每条链路2个单位成本。\n\n公司希望以最小可能总成本建立一个连接所有7个地点（中心和所有6座办公楼）的网络。这个最小总成本是多少？", "solution": "问题要求连接所有7个地点的最小成本，这等同于为所描述的图找到最小生成树（MST）的总权重。该图有7个顶点：$V = \\{H, B_1, B_2, B_3, B_4, B_5, B_6\\}$。我们可以使用Prim算法来找到最小生成树。\n\nPrim算法通过迭代添加连接已在生成树中的顶点与树外顶点的最便宜的边来构建最小生成树。\n\n设 $S$ 是已经包含在最小生成树中的顶点集合，设 $T$ 是最小生成树的总成本。\n\n**步骤 1：初始化**\n我们可以从任何顶点开始算法。我们选择中央中心 $H$。\n初始化 $S = \\{H\\}$ 和 $T = 0$。\n\n**步骤 2：迭代构建**\n我们寻找连接 $S$ 中的顶点与 $V \\setminus S$ 中顶点的最小权重边。\n\n**迭代 1：**\n连接 $H \\in S$ 与 $V \\setminus S$ 中顶点的边有：\n- $(H, B_1)$，权重 1\n- $(H, B_2)$，权重 1\n- $(H, B_3)$，权重 1\n- $(H, B_4)$，权重 1\n- $(H, B_5)$，权重 1\n- $(H, B_6)$，权重 3\n\n最小权重为1。我们可以选择前五条边中的任意一条。我们选择 $(H, B_1)$。\n- 将边 $(H, B_1)$ 添加到最小生成树中。\n- 更新 $S = \\{H, B_1\\}$。\n- 更新 $T = 0 + 1 = 1$。\n\n**迭代 2：**\n连接 $S=\\{H, B_1\\}$ 与 $V \\setminus S = \\{B_2, B_3, B_4, B_5, B_6\\}$ 的边有：\n- 从 $H$ 出发：$(H, B_2)$，权重=1；$(H, B_3)$，权重=1；$(H, B_4)$，权重=1；$(H, B_5)$，权重=1；$(H, B_6)$，权重=3。\n- 从 $B_1$ 出发：$(B_1, B_2)$，权重=2；$(B_1, B_6)$，权重=2。\n\n这些边中的最小权重是1。我们选择一条直连中心的链路，例如 $(H, B_2)$。\n- 将边 $(H, B_2)$ 添加到最小生成树中。\n- 更新 $S = \\{H, B_1, B_2\\}$。\n- 更新 $T = 1 + 1 = 2$。\n\n**迭代 3, 4, 5：**\n我们继续这个过程。可用的最便宜的边总是权重为1的剩余直连中心链路。\n- **迭代 3：** 添加边 $(H, B_3)$。$S = \\{H, B_1, B_2, B_3\\}$, $T = 2 + 1 = 3$。\n- **迭代 4：** 添加边 $(H, B_4)$。$S = \\{H, B_1, B_2, B_3, B_4\\}$, $T = 3 + 1 = 4$。\n- **迭代 5：** 添加边 $(H, B_5)$。$S = \\{H, B_1, B_2, B_3, B_4, B_5\\}$, $T = 4 + 1 = 5$。\n\n经过5次迭代，我们已经添加了所有五条权重为1的中心链路。顶点 $H, B_1, B_2, B_3, B_4, B_5$ 都已连接。\n\n**迭代 6：**\n现在，$S = \\{H, B_1, B_2, B_3, B_4, B_5\\}$，唯一不在最小生成树中的顶点是 $B_6$。我们需要找到连接 $S$ 中顶点与 $B_6$ 的最便宜的边。可能的边有：\n- 从 $H$ 出发：$(H, B_6)$，权重 3。\n- 从 $S$ 中的相邻建筑物出发：\n    - $(B_1, B_6)$，权重 2。\n    - $(B_5, B_6)$，权重 2。\n\n比较权重 $\\{3, 2, 2\\}$，最小值为2。我们可以选择 $(B_1, B_6)$ 或 $(B_5, B_6)$。我们选择 $(B_5, B_6)$。\n- 将边 $(B_5, B_6)$ 添加到最小生成树中。\n- 更新 $S = \\{H, B_1, B_2, B_3, B_4, B_5, B_6\\}$。\n- 更新 $T = 5 + 2 = 7$。\n\n**步骤 3：终止**\n所有7个顶点现在都在集合 $S$ 中。算法终止。最小生成树由五条权重为1的直连中心链路（从 $(H, B_1)$ 到 $(H, B_5)$）和一条权重为2的楼间链路（$(B_1, B_6)$ 或 $(B_5, B_6)$）组成。\n\n最小总成本是最小生成树中所有边的权重之和：\n$T = (1+1+1+1+1) + 2 = 5 + 2 = 7$。\n\n或者，使用Kruskal算法，我们将所有边按权重排序，并在不形成环的情况下添加它们：\n1.  添加5条权重为1的边：$(H, B_1), ..., (H, B_5)$。成本 = 5。这形成了一个连通分量 $\\{H, B_1, ..., B_5\\}$ 和一个单独的连通分量 $\\{B_6\\}$。\n2.  接下来，考虑权重为2的边。为了将连通分量 $\\{B_6\\}$ 连接到主连通分量，我们可以使用边 $(B_1, B_6)$ 或 $(B_5, B_6)$，它们的权重都为2。添加其中一条边即可连接所有顶点。例如，添加 $(B_5, B_6)$。成本变为 $5+2=7$。现在所有顶点都已连接。任何进一步添加边都会形成环。这证实了结果。\n\n连接所有地点的最小总成本为7个单位。", "answer": "$$\\boxed{7}$$", "id": "1392201"}, {"introduction": "最小生成树（MST）旨在最小化整个网络的总成本，但这是否意味着树中任意两点之间的路径也是最短的呢？这个练习旨在探讨这一关键区别。通过计算并比较MST内部的路径成本与原始图中的最短路径成本，你将深刻理解MST和最短路径算法（如Dijkstra算法）的不同目标，从而避免一个常见的概念混淆。[@problem_id:1392177]", "problem": "一个市政府正计划安装一个光纤网络，以连接六座关键的行政大楼，分别标记为 A、B、C、D、E 和 F。在任意两座大楼之间铺设直连光缆的成本（以万美元为单位）已经计算出来。为确保所有大楼以最低的安装成本相连，该市将建立一个与潜在连接的最小生成树（MST）相对应的网络。\n\n所有可能连接的图 $G$ 包含顶点 $V = \\{A, B, C, D, E, F\\}$，其带权无向边如下所示：\n- (A, B) 权重为 3\n- (A, E) 权重为 10\n- (A, F) 权重为 14\n- (B, C) 权重为 2\n- (B, D) 权重为 5\n- (C, D) 权重为 8\n- (C, E) 权重为 4\n- (E, F) 权重为 6\n\n一旦最小生成树网络建成，我们关心的是大楼 A 和大楼 F 之间的通信路径。\n设 $W_{MST}$ 为在构建的最小生成树网络中，*仅使用网络内部路径时* A 和 F 之间路径的总成本。\n设 $W_{SP}$ 为在原始图 $G$ 中（考虑所有可用边），A 和 F 之间绝对最短路径的成本。\n\n计算 $W_{MST}$ 和 $W_{SP}$ 的值。请以有序对 $(W_{MST}, W_{SP})$ 的形式提供您的答案。", "solution": "问题要求计算两个量：给定图 $G$ 的最小生成树（MST）中顶点 A 和 F 之间路径的权重，记为 $W_{MST}$；以及原始图 $G$ 中 A 和 F 之间最短路径的权重，记为 $W_{SP}$。\n\n**第一部分：寻找最小生成树（MST）**\n\n我们可以使用普里姆（Prim）算法来找到图 $G$ 的最小生成树。让我们从顶点 A 开始算法。我们将维护一个已在最小生成树中的顶点集合 $S$。初始时，$S = \\emptyset$。我们还将跟踪最小生成树中的边。\n\n1.  **初始化**：从任意一个顶点开始。我们选择 A。设已访问的顶点集合为 $S = \\{A\\}$。最小生成树中的边集为空。\n\n2.  **迭代 1**：找到连接 $S$ 中顶点与 $S$ 外顶点的最便宜的边。从 A 出发的边有 (A, B) 权重为 3，(A, E) 权重为 10，以及 (A, F) 权重为 14。权重最小的边是 (A, B)，权重为 3。\n    - 将边 (A, B) 添加到最小生成树中。\n    - 将顶点 B 添加到 $S$ 中。现在 $S = \\{A, B\\}$。\n    - 最小生成树的边：$\\{(A, B)\\}$\n\n3.  **迭代 2**：找到连接 $\\{A, B\\}$ 中顶点与 $\\{C, D, E, F\\}$ 中顶点的最便宜的边。候选边包括：\n    - 从 A 出发：(A, E) 权重 10，(A, F) 权重 14。\n    - 从 B 出发：(B, C) 权重 2，(B, D) 权重 5。\n    权重最小的边是 (B, C)，权重为 2。\n    - 将边 (B, C) 添加到最小生成树中。\n    - 将顶点 C 添加到 $S$ 中。现在 $S = \\{A, B, C\\}$。\n    - 最小生成树的边：$\\{(A, B), (B, C)\\}$\n\n4.  **迭代 3**：找到从 $\\{A, B, C\\}$ 到 $\\{D, E, F\\}$ 的最便宜的边。候选边包括：\n    - 从 A 出发：(A, E) 权重 10，(A, F) 权重 14。\n    - 从 B 出发：(B, D) 权重 5。\n    - 从 C 出发：(C, D) 权重 8，(C, E) 权重 4。\n    权重最小的边是 (C, E)，权重为 4。\n    - 将边 (C, E) 添加到最小生成树中。\n    - 将顶点 E 添加到 $S$ 中。现在 $S = \\{A, B, C, E\\}$。\n    - 最小生成树的边：$\\{(A, B), (B, C), (C, E)\\}$\n\n5.  **迭代 4**：找到从 $\\{A, B, C, E\\}$ 到 $\\{D, F\\}$ 的最便宜的边。候选边包括：\n    - 从 A 出发：(A, F) 权重 14。\n    - 从 B 出发：(B, D) 权重 5。\n    - 从 C 出发：(C, D) 权重 8。\n    - 从 E 出发：(E, F) 权重 6。\n    权重最小的边是 (B, D)，权重为 5。\n    - 将边 (B, D) 添加到最小生成树中。\n    - 将顶点 D 添加到 $S$ 中。现在 $S = \\{A, B, C, E, D\\}$。\n    - 最小生成树的边：$\\{(A, B), (B, C), (C, E), (B, D)\\}$\n\n6.  **迭代 5**：找到从 $\\{A, B, C, E, D\\}$ 到 $\\{F\\}$ 的最便宜的边。候选边包括：\n    - 从 A 出发：(A, F) 权重 14。\n    - 从 E 出发：(E, F) 权重 6。\n    权重最小的边是 (E, F)，权重为 6。\n    - 将边 (E, F) 添加到最小生成树中。\n    - 将顶点 F 添加到 $S$ 中。现在 $S = \\{A, B, C, D, E, F\\}$。所有顶点都已在集合中。\n    - 最小生成树的边：$\\{(A, B), (B, C), (C, E), (B, D), (E, F)\\}$\n\n算法终止。最小生成树中的边是 (A, B), (B, C), (C, E), (B, D) 和 (E, F)。\n\n**第二部分：计算 $W_{MST}$**\n\n现在我们仅使用最小生成树的边来寻找 A 和 F 之间的路径。通过检查最小生成树的边，从 A 到 F 的唯一路径是 A $\\rightarrow$ B $\\rightarrow$ C $\\rightarrow$ E $\\rightarrow$ F。\n这条路径的总权重是其各边权重之和：\n$W_{MST} = \\text{weight}(A, B) + \\text{weight}(B, C) + \\text{weight}(C, E) + \\text{weight}(E, F)$\n$W_{MST} = 3 + 2 + 4 + 6 = 15$.\n\n**第三部分：计算 $W_{SP}$**\n\n接下来，我们在原始图 $G$ 中寻找 A 和 F 之间的最短路径。我们可以使用迪科斯彻（Dijkstra）算法或直接检查可能的路径。\n\n让我们列出从 A 到 F 的相关路径及其权重：\n-   **路径 1**：直连边 (A, F)。权重 = 14。\n-   **路径 2**：在最小生成树中找到的路径：A $\\rightarrow$ B $\\rightarrow$ C $\\rightarrow$ E $\\rightarrow$ F。权重 = 15。\n-   **路径 3**：另一条经过顶点 E 的路径：A $\\rightarrow$ E $\\rightarrow$ F。权重 = weight(A, E) + weight(E, F) = 10 + 6 = 16。\n\n比较这些路径的权重（14、15、16），最小权重是 14。任何其他路径，例如涉及顶点 D 的路径，都会更长。例如，A $\\rightarrow$ B $\\rightarrow$ D $\\rightarrow$ C $\\rightarrow$ E $\\rightarrow$ F 的权重为 $3+5+8+4+6 = 26$。\n因此，原始图中最短的路径是直连边 (A, F)。\n最短路径的权重是 $W_{SP} = 14$。\n\n**结论**\n\n我们已经计算出两个值：\n-   最小生成树中路径的成本是 $W_{MST} = 15$。\n-   原始图中最短路径的成本是 $W_{SP} = 14$。\n\n最终答案是有序对 $(15, 14)$。", "answer": "$$\\boxed{\\begin{pmatrix}15  14\\end{pmatrix}}$$", "id": "1392177"}, {"introduction": "为什么普里姆算法能够保证正确性？这个练习通过让你分析一个看似合理但实际上有缺陷的“贪心”算法，来挑战你对普里姆算法核心原理的理解。通过在同一个图上比较这个错误算法与标准普里姆算法的结果，你将清楚地看到，普里姆算法成功的关键在于它每一步都考虑了连接整个已生长树的所有可用边，而不仅仅是最新添加的那个顶点。[@problem_id:1528057]", "problem": "一名计算机科学专业的学生 Alex 正在学习图算法，并提出了一种在连通无向加权图中寻找生成树的改进方法。Alex 相信这个算法总能找到最小生成树 (MST)。\n\n**Alex 的算法：**\n1.  用一个任意的起始顶点 $v_0$ 初始化一棵树 $T$。\n2.  令 $v_{last}$ 为最近添加到 $T$ 中的顶点。\n3.  在所有连接 $v_{last}$ 到一个尚未在 $T$ 中的顶点 $u$ 的边中，找到权重最小的边 $(v_{last}, u)$。\n4.  将这条边和顶点 $u$ 添加到树 $T$ 中。\n5.  重复步骤 2-4，直到图中的所有顶点都包含在 $T$ 中。\n\n你的任务是分析 Alex 的算法在特定图上的性能。\n\n考虑一个无向加权图 $G$，其顶点集为 $V = \\{A, B, C, D\\}$，边集 $E$ 的权重如下：\n- $w(A,B) = 1$\n- $w(A,C) = 2$\n- $w(C,D) = 3$\n- $w(B,D) = 4$\n- $w(A,D) = 5$\n\n假设 Alex 的算法和用于寻找真正 MST 的标准 Prim 算法都从顶点 A 开始，计算 Alex 的算法产生的生成树的总权重和真正的最小生成树的总权重。\n\n将你的答案表示为一对数字，（Alex 算法的权重，MST 的权重），使用 LaTeX 的 `pmatrix` 环境表示为行矩阵。", "solution": "我们首先分析 Alex 的算法。用顶点 $A$ 初始化树，所以 $T=\\{A\\}$ 且 $v_{\\text{last}}=A$。在从 $A$ 出发且终点不在 $T$ 中的边中，候选边是权重为 $1$ 的 $(A,B)$、权重为 $2$ 的 $(A,C)$ 和权重为 $5$ 的 $(A,D)$。权重最小的是 $(A,B)$，所以我们添加边 $(A,B)$ 和顶点 $B$。现在 $T=\\{A,B\\}$ 且 $v_{\\text{last}}=B$。从 $B$ 到尚未在 $T$ 中的顶点，唯一的候选边是权重为 $4$ 的 $(B,D)$（因为 $(B,A)$ 指向一个已包含的顶点，且不存在边 $(B,C)$）。我们添加 $(B,D)$ 和 $D$，所以 $T=\\{A,B,D\\}$ 且 $v_{\\text{last}}=D$。从 $D$ 到尚未在 $T$ 中的顶点，候选边是权重为 $3$ 的 $(D,C)$、权重为 $5$ 的 $(D,A)$ 和权重为 $4$ 的 $(D,B)$，但只有 $(D,C)$ 到达一个新顶点。我们添加 $(D,C)$ 和 $C$。现在所有顶点都已包含在内。因此，Alex 的树的总权重是\n$$\nw_{\\text{Alex}}=w(A,B)+w(B,D)+w(D,C)=1+4+3=8.\n$$\n\n现在应用从 $A$ 开始的 Prim 算法。初始化 $T=\\{A\\}$。在所有从 $T$ 跨越到 $V\\setminus T$ 的边中，候选边是权重为 $1$ 的 $(A,B)$、权重为 $2$ 的 $(A,C)$ 和权重为 $5$ 的 $(A,D)$。权重最小的是 $(A,B)$，其权重为 $1$，所以添加 $B$ 和边 $(A,B)$。现在 $T=\\{A,B\\}$。从 $T$ 跨越到 $V\\setminus T=\\{C,D\\}$ 的边是权重为 $2$ 的 $(A,C)$、权重为 $5$ 的 $(A,D)$ 和权重为 $4$ 的 $(B,D)$。权重最小的是 $(A,C)$，其权重为 $2$，所以添加 $C$ 和边 $(A,C)$。现在 $T=\\{A,B,C\\}$。跨越到 $V\\setminus T=\\{D\\}$ 的边是权重为 $3$ 的 $(C,D)$、权重为 $4$ 的 $(B,D)$ 和权重为 $5$ 的 $(A,D)$。权重最小的是 $(C,D)$，其权重为 $3$，所以添加 $D$ 和边 $(C,D)$。Prim 算法找到的 MST 的总权重是\n$$\nw_{\\text{MST}}=w(A,B)+w(A,C)+w(C,D)=1+2+3=6.\n$$\n\n因此，总权重对是 $\\left(8,6\\right)$，使用 `pmatrix` 环境报告为行矩阵。", "answer": "$$\\boxed{\\begin{pmatrix}8  6\\end{pmatrix}}$$", "id": "1528057"}]}