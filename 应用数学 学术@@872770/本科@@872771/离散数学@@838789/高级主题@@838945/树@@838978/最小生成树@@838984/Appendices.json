{"hands_on_practices": [{"introduction": "理论知识需要通过实践来巩固。这个练习 [@problem_id:1384198] 模拟了一个经典的现实世界场景——设计一个最低成本的通信网络。通过动手实践Prim算法，你将掌握一种构建最小生成树的核心贪心策略，并熟悉其逐步决策的过程。", "problem": "一家航空航天工程公司受命为新的火星殖民地设计一个基础通信网络。该网络必须连接六个关键定居点，确保数据可以在任意两个地点之间直接或间接中继。在任意两个定居点之间建立直接通信链路的成本由一个“延迟-能量成本指数”给出，这是一个综合了信号传播时间、大气干扰和功率需求的无量纲量。指数越低，表示链路效率越高。\n\n六个定居点分别是：Ares Prime (A)、Valles Marineris Base (B)、Olympus Mons Observatory (C)、Hellas Planitia Colony (D)、Syrtis Major Hub (E) 和 Elysium Outpost (F)。\n\n可能的通信链路及其相关的成本指数如下：\n- A 到 B: 5\n- A 到 C: 6\n- A 到 D: 4\n- B 到 C: 2\n- B 到 E: 9\n- C 到 D: 2\n- C 到 E: 5\n- C 到 F: 8\n- D 到 F: 7\n- E 到 F: 3\n\n为确保网络拓扑的标准化和可验证性，必须遵循一个构建协议。使用 Prim 算法，从定居点 Ares Prime (A) 开始，确定构建一个连接所有六个定居点的网络的最小可能总成本指数。", "solution": "我们将定居点建模为无向加权图的顶点，将可能的链路建模为具有给定权重（成本指数）的边。Prim 算法通过从一个指定的顶点开始，并重复添加连接当前树与一个新顶点的最小权重边来构建最小生成树。\n\n从 Ares Prime (A) 开始初始化：设当前树的顶点集合为 $S = \\{A\\}$。离开 $S$ 的边有权重为 $5$ 的 $A\\text{-}B$、权重为 $6$ 的 $A\\text{-}C$ 和权重为 $4$ 的 $A\\text{-}D$。最小的是权重为 $4$ 的 $A\\text{-}D$，所以添加 $D$。现在 $S = \\{A,D\\}$，累计总成本为 $4$。\n\n从 $S = \\{A,D\\}$ 出发，连接到 $V \\setminus S$ 的候选边有权重为 $5$ 的 $A\\text{-}B$、权重为 $6$ 的 $A\\text{-}C$、权重为 $2$ 的 $D\\text{-}C$ 和权重为 $7$ 的 $D\\text{-}F$。最小的是权重为 $2$ 的 $C\\text{-}D$，所以添加 $C$。现在 $S = \\{A,D,C\\}$，累计总成本为 $4+2$。\n\n从 $S = \\{A,D,C\\}$ 出发，候选边有权重为 $2$ 的 $C\\text{-}B$、权重为 $5$ 的 $C\\text{-}E$、权重为 $8$ 的 $C\\text{-}F$、权重为 $7$ 的 $D\\text{-}F$ 和权重为 $5$ 的 $A\\text{-}B$。最小的是权重为 $2$ 的 $B\\text{-}C$，所以添加 $B$。现在 $S = \\{A,D,C,B\\}$，累计总成本为 $4+2+2$。\n\n从 $S = \\{A,D,C,B\\}$ 出发，候选边有权重为 $5$ 的 $C\\text{-}E$、权重为 $8$ 的 $C\\text{-}F$、权重为 $7$ 的 $D\\text{-}F$ 和权重为 $9$ 的 $B\\text{-}E$。最小的是权重为 $5$ 的 $C\\text{-}E$，所以添加 $E$。现在 $S = \\{A,D,C,B,E\\}$，累计总成本为 $4+2+2+5$。\n\n从 $S = \\{A,D,C,B,E\\}$ 出发，剩下的候选边有权重为 $3$ 的 $E\\text{-}F$、权重为 $7$ 的 $D\\text{-}F$ 和权重为 $8$ 的 $C\\text{-}F$。最小的是权重为 $3$ 的 $E\\text{-}F$，所以添加 $F$。现在所有六个定居点都已连接，算法终止。\n\n最小总成本指数是所选边权重的总和：\n$$4 + 2 + 2 + 5 + 3 = 16.$$", "answer": "$$\\boxed{16}$$", "id": "1384198"}, {"introduction": "找到了最小生成树之后，理解其边的性质至关重要。这个问题 [@problem_id:1522155] 挑战了一个常见的误解：图中权重最小的边是否必须包含在*每一个*最小生成树中？通过寻找一个反例，我们将对最小生成树的“切割性质”以及唯一性条件有更深刻的理解。", "problem": "图论中一个常见的误解是，对于任何连通的、无向的、加权的图，图中权重绝对最小的边必须包含在*每一个*可能的最小生成树（MST）中。最小生成树是一个子图，它以最小的可能总边权重连接所有顶点，且不形成任何环。\n\n你的任务是找出以下哪个图是这个说法的反例。反例是指一个使得该说法不成立的图。每个图由一个顶点集 V 和一个带权边集 E 定义，其中每条边表示为一个元组 (顶点1, 顶点2, 权重)。\n\nA. 图 A:\nV = {X, Y, Z}\nE = {(X, Y, 2), (Y, Z, 2), (X, Z, 2)}\n\nB. 图 B:\nV = {A, B, C}\nE = {(A, B, 1), (B, C, 5)}\n\nC. 图 C:\nV = {A, B, C, D}\nE = {(A, B, 1), (C, D, 1), (B, C, 5), (D, A, 5)}\n\nD. 图 D:\nV = {X, Y, Z}\nE = {(X, Y, 1), (Y, Z, 2), (X, Z, 2)}", "solution": "我们寻找一个连通的、无向的、加权的图，其中存在一条边 $e$，其权重等于所有边权重中的绝对最小值，但至少有一个最小生成树（MST）不包含 $e$。最小生成树是总边权重最小的生成树。\n\n分析每个选项：\n\n图 A：$V=\\{X,Y,Z\\}$ 且 $E=\\{(X,Y,2),(Y,Z,2),(X,Z,2)\\}$。所有三条边的权重均为 $2$，这是图中的绝对最小值。从这个三角形中移除任意一条边即可得到生成树。每个生成树的总权重为 $2+2=4$。考虑特定的最小权重边 $e=(X,Y,2)$。生成树 $T=\\{(X,Z,2),(Y,Z,2)\\}$ 是一个总权重为 $4$ 的最小生成树，并且它不包含 $e$。因此，存在一条绝对最小权重的边，它并不在每一个最小生成树中。所以图 A 是一个反例。\n\n图 B：$V=\\{A,B,C\\}$ 且 $E=\\{(A,B,1),(B,C,5)\\}$。这个图本身已经是一棵树，所以唯一的生成树就是图本身，总权重为 $1+5=6$。绝对最小权重边 $(A,B,1)$ 必须包含在唯一的最小生成树中。不是反例。\n\n图 C：$V=\\{A,B,C,D\\}$ 且 $E=\\{(A,B,1),(C,D,1),(B,C,5),(D,A,5)\\}$。两条权重为 $1$ 的边是 $(A,B,1)$ 和 $(C,D,1)$。任何包含两条权重为 $1$ 的边和一条权重为 $5$ 的边的最小生成树，其总权重为 $1+1+5=7$。如果我们尝试排除 $(A,B,1)$，任何生成树都必须通过路径 $A\\text{--}D\\text{--}C\\text{--}B$ 连接 $A$ 和 $B$，这需要同时包含 $(D,A,5)$ 和 $(B,C,5)$，再加上至少一条权重为 $1$ 的边以保持连通性，得到的最小总权重为 $5+5+1=11>7$。因此，每个最小生成树都必须包含 $(A,B,1)$（同理也必须包含 $(C,D,1)$），所以这不是一个反例。\n\n图 D：$V=\\{X,Y,Z\\}$ 且 $E=\\{(X,Y,1),(Y,Z,2),(X,Z,2)\\}$。对于一个三角形，任何最小生成树都包含唯一的最轻边 $(X,Y,1)$ 和两条权重为 $2$ 的边中的一条，总权重为 $1+2=3$。两种可能的最小生成树都包含绝对最小权重边 $(X,Y,1)$，所以这不是一个反例。\n\n结论：只有图 A 提供了一个反例，因为存在一条绝对最小权重的边不在每一个最小生成树中。", "answer": "$$\\boxed{A}$$", "id": "1522155"}, {"introduction": "在现实世界中，成本很少是固定不变的。这个练习 [@problem_id:1522153] 探讨了最小生成树一个强大而优美的理论性质：在特定的成本变换下（正仿射变换），其结构保持不变。这不仅证明了最小生成树作为一种解决方案的稳健性，也加深了我们对贪心算法为何在此有效的理解。", "problem": "一家电信公司正计划建立一个新的光纤网络来连接 $N$ 个城市。该网络可以被建模为一个连通无向图 $G=(V, E)$，其中 $V$ 是城市集合（$|V| = N$），$E$ 是城市对之间可能的光纤链路的集合。对于每条可能的链路 $e \\in E$，都有一个相关的初始安装成本 $w(e) > 0$。公司建立了一个对应于该图的最小生成树（MST）的网络，以最低的总安装成本连接所有城市。这个初始网络的总成本记为 $W_{MST}$。\n\n在施工开始前，一系列新的法规和供应链变化影响了成本结构。安装任何链路 $e$ 的新成本 $w'(e)$ 现在是原始成本的线性函数：$w'(e) = a \\cdot w(e) + b$，其中 $a$ 和 $b$ 是实数常量且 $a > 0$。公司决定根据这些新成本重新评估其网络计划，并将建立一个对应于新权重 $w'(e)$ 的新最小生成树。\n\n确定这个新最小生成树的总成本。将你的答案表示为一个关于 $N$、$a$、$b$ 和 $W_{MST}$ 的符号表达式。", "solution": "给定一个连通无向图 $G=(V,E)$，其中 $|V|=N$ 且对于所有 $e\\in E$ 都有正边权 $w(e)>0$。令 $W_{MST}$ 表示在权重 $w(e)$ 下一个最小生成树（MST）的总权重。权重被转换为 $w'(e)=a\\,w(e)+b$，其中 $a>0$ 且 $b\\in\\mathbb{R}$。我们要求出在权重 $w'$ 下的MST的总成本，并用 $N$、$a$、$b$ 和 $W_{MST}$ 表示。\n\n首先，回顾一些标准事实：\n- 任意一个包含 $N$ 个顶点的生成树 $T$ 恰好有 $N-1$ 条边：$|T|=N-1$。\n- 在权重 $w$ 下，$T$ 的总成本是 $W(T)=\\sum_{e\\in T} w(e)$。\n- 在权重 $w'$ 下，$T$ 的总成本是\n$$\nW'(T)=\\sum_{e\\in T} w'(e)=\\sum_{e\\in T}\\big(a\\,w(e)+b\\big)=a\\sum_{e\\in T}w(e)+b\\sum_{e\\in T}1=a\\,W(T)+b\\,(N-1).\n$$\n\n因此，对于任意生成树 $T$，\n$$\nW'(T)=a\\,W(T)+b\\,(N-1).\n$$\n对所有生成树取最小值，并利用 $N$ 是固定的，因此 $N-1$ 对于所有树都是常数，我们有\n$$\n\\min_{T} W'(T)=\\min_{T}\\big(a\\,W(T)+b\\,(N-1)\\big)=a\\min_{T}W(T)+b\\,(N-1)=a\\,W_{MST}+b\\,(N-1).\n$$\n由于 $a>0$，最小化子的集合保持不变（仿射递增变换保持总权重的顺序不变），但即使不依赖于顺序，常数项 $b\\,(N-1)$ 与 $T$ 无关，而正的缩放因子 $a$ 也保持了 $W(T)$ 的最小化性质。因此，新MST的总成本是\n$$\na\\,W_{MST}+b\\,(N-1).\n$$", "answer": "$$\\boxed{a\\,W_{MST}+b\\,(N-1)}$$", "id": "1522153"}]}