{"hands_on_practices": [{"introduction": "布朗运动的二次变差是随机分析的基石之一，它揭示了布朗运动路径的内在“粗糙度”。这个练习 [@problem_id:3066772] 旨在通过一个精心设计的反例，让您亲手验证为何二次变差收敛到时间 $t$ 的结论严格依赖于剖分网格尺寸趋于零的条件。通过计算这个极限，您将深化对依概率收敛的理解，并体会到随机过程中“如何取极限”至关重要。", "problem": "令 $\\{B_{t}\\}_{t \\in [0,1]}$ 为一个标准布朗运动（也称为维纳过程），即一个连续随机过程，满足 $B_{0} = 0$、增量独立，且对于任意 $0 \\leq s  t \\leq 1$，增量 $B_{t} - B_{s}$ 服从均值为 $0$、方差为 $t-s$ 的正态分布。对于 $[0,1]$ 的一个有限分割 $\\Pi = \\{0 = t_{0}  t_{1}  \\cdots  t_{m} = 1\\}$，定义其网格尺寸为 $\\|\\Pi\\| = \\max_{0 \\leq k  m}(t_{k+1} - t_{k})$，以及 $B$ 沿 $\\Pi$ 的离散二次变差为\n$$\nV(B,\\Pi) = \\sum_{k=0}^{m-1} \\left(B_{t_{k+1}} - B_{t_{k}}\\right)^{2}.\n$$\n随机微分方程中的一个核心结果是，对于布朗运动，如果 $(\\Pi_{n})_{n \\geq 1}$ 是一个分割序列且其网格尺寸 $\\|\\Pi_{n}\\| \\to 0$，那么 $V(B,\\Pi_{n})$ 依概率收敛于二次变差 $[B]_{1} = 1$。本问题要求您通过构造一个网格尺寸不趋于零的分割序列，并计算离散二次变差的极限表达式，来证明网格尺寸条件的必要性。\n\n对每个 $n \\in \\mathbb{N}$，定义非均匀分割\n$$\n\\Pi_{n} = \\left\\{0,\\ \\frac{1}{2},\\ \\frac{1}{2} + \\frac{1}{2n},\\ \\frac{1}{2} + \\frac{2}{2n},\\ \\ldots,\\ \\frac{1}{2} + \\frac{n}{2n} = 1\\right\\}.\n$$\n注意，对所有 $n$，都有 $\\|\\Pi_{n}\\| = \\frac{1}{2}$。\n\n从上述定义和布朗增量的基本性质出发，完成以下任务：\n- 推导当 $n \\to \\infty$ 时 $V(B,\\Pi_{n})$ 的极限表达式（依概率）。\n- 从收敛模式的角度（例如，依概率收敛与几乎必然收敛）解释，为什么这个极限表达式表明，网格尺寸条件 $\\|\\Pi_{n}\\| \\to 0$ 是从离散和中恢复 $[B]_{1} = 1$ 所必需的。\n\n您的最终答案必须是当 $n \\to \\infty$ 时 $V(B,\\Pi_{n})$ 依概率收敛到的单一闭式解析表达式。不要提供不等式或方程作为最终答案。无需四舍五入。", "solution": "此问题有效。这是一个在随机微积分领域中提法恰当、有科学依据的问题，具体涉及布朗运动的二次变差。所有术语都有定义，且前提是随机过程理论中的标准结果。\n\n问题要求计算对于一个特定的分割序列 $\\Pi_n$，其离散二次变差 $V(B, \\Pi_n)$ 的依概率极限，并解释网格尺寸条件的作用。\n\n该分割序列由下式给出\n$$\n\\Pi_{n} = \\left\\{0,\\ \\frac{1}{2},\\ \\frac{1}{2} + \\frac{1}{2n},\\ \\frac{1}{2} + \\frac{2}{2n},\\ \\ldots,\\ \\frac{1}{2} + \\frac{n}{2n} = 1\\right\\}.\n$$\n分割 $\\Pi_n$ 将区间 $[0,1]$ 分成 $n+1$ 个子区间。第一个子区间是 $[0, 1/2]$，随后的 $n$ 个子区间的形式为 $[\\frac{1}{2} + \\frac{k-1}{2n}, \\frac{1}{2} + \\frac{k}{2n}]$，其中 $k = 1, \\ldots, n$。\n\n离散二次变差 $V(B, \\Pi_n)$ 是布朗运动 $B_t$ 在这些子区间上的增量平方和。我们可以将这个和分解为两部分，分别对应于区间 $[0, 1/2]$ 和区间 $[1/2, 1]$。\n$$\nV(B,\\Pi_{n}) = \\left(B_{1/2} - B_{0}\\right)^{2} + \\sum_{k=1}^{n} \\left(B_{\\frac{1}{2} + \\frac{k}{2n}} - B_{\\frac{1}{2} + \\frac{k-1}{2n}}\\right)^{2}.\n$$\n我们分别分析每个部分。\n\n第一项涉及在 $[0, 1/2]$ 上的增量。由于 $B_t$ 是标准布朗运动，我们有 $B_0=0$。因此，这一项就是 $B_{1/2}^2$。\n$$\n\\left(B_{1/2} - B_{0}\\right)^{2} = (B_{1/2} - 0)^2 = B_{1/2}^2.\n$$\n这一项是一个随机变量。具体来说，由于 $B_t - B_s \\sim \\mathcal{N}(0, t-s)$，我们有 $B_{1/2} \\sim \\mathcal{N}(0, 1/2)$。第一项 $B_{1/2}^2$ 不依赖于 $n$。\n\n第二部分是关于区间 $[1/2, 1]$ 的分割上的和。我们把这个和定义为 $S_n$：\n$$\nS_{n} = \\sum_{k=1}^{n} \\left(B_{\\frac{1}{2} + \\frac{k}{2n}} - B_{\\frac{1}{2} + \\frac{k-1}{2n}}\\right)^{2}.\n$$\n这个表达式是使用分割 $P'_n = \\{\\frac{1}{2}, \\frac{1}{2}+\\frac{1}{2n}, \\ldots, 1\\}$ 计算的 $B_t$ 在区间 $[1/2, 1]$ 上的离散二次变差。该分割的网格尺寸为\n$$\n\\|P'_n\\| = \\max_{1 \\leq k \\leq n} \\left( \\left(\\frac{1}{2} + \\frac{k}{2n}\\right) - \\left(\\frac{1}{2} + \\frac{k-1}{2n}\\right) \\right) = \\frac{1}{2n}.\n$$\n当 $n \\to \\infty$ 时，网格尺寸 $\\|P'_n\\|$ 收敛到 $0$。\n\n根据关于布朗运动二次变差的基本结果，如果区间 $[a, b]$ 的一个分割序列的网格尺寸趋于零，那么相应的离散二次变差依概率收敛于区间的长度 $b-a$。在我们的例子中，区间是 $[1/2, 1]$，所以其长度是 $1 - 1/2 = 1/2$。\n因此，当 $n \\to \\infty$ 时，和 $S_n$ 依概率收敛于 $1/2$：\n$$\nS_n \\xrightarrow{p} \\frac{1}{2}.\n$$\n这里，$\\xrightarrow{p}$ 表示依概率收敛。\n\n现在我们可以确定 $V(B, \\Pi_n)$ 的极限。我们有\n$$\nV(B, \\Pi_n) = B_{1/2}^2 + S_n.\n$$\n由于 $B_{1/2}^2$ 是一个不依赖于 $n$ 的随机变量，并且 $S_n$ 依概率收敛于常数 $1/2$，我们可以使用依概率收敛的性质（或 Slutsky 定理）。如果一个随机变量序列 $X_n \\xrightarrow{p} c$（其中 $c$ 是一个常数），而 $Y$ 是另一个随机变量，那么 $X_n+Y \\xrightarrow{p} c+Y$。在我们的例子中，$Y = B_{1/2}^2$ 且 $c = 1/2$。因此，\n$$\nV(B, \\Pi_n) \\xrightarrow{p} B_{1/2}^2 + \\frac{1}{2}.\n$$\n这就是对于给定的分割序列，离散二次变差的极限表达式。\n\n问题的第二部分要求解释为什么这个结果证明了要恢复真实的二次变差 $[B]_1 = 1$，网格尺寸条件 $\\|\\Pi_n\\| \\to 0$ 是必要的。\n\n标准结果表明，如果 $(\\Pi'_n)$ 是 $[0,1]$ 上的一个分割序列，其网格尺寸 $\\|\\Pi'_n\\| \\to 0$，那么 $V(B, \\Pi'_n) \\xrightarrow{p} [B]_1 = 1$。依概率收敛于一个常数（例如 $1$）意味着，对于任意小的 $\\epsilon  0$，当 $n \\to \\infty$ 时，$V(B, \\Pi'_n)$ 落在区间 $(1-\\epsilon, 1+\\epsilon)$ 之外的概率趋于零。$V(B, \\Pi'_n)$ 的概率分布越来越集中在值 $1$ 处。\n\n对于给定的分割序列 $\\Pi_n$，其网格尺寸为 $\\|\\Pi_n\\| = \\max\\{1/2, 1/(2n)\\} = 1/2$（对所有 $n \\geq 1$）。这个网格尺寸不收敛到 $0$。我们发现 $V(B, \\Pi_n)$ 的极限不是常数 $1$，而是随机变量 $L = B_{1/2}^2 + 1/2$。\n\n这个极限 $L$ 的分布不是在 $1$ 处的点质量测度。由于 $B_{1/2} \\sim \\mathcal{N}(0, 1/2)$，$L$ 是一个在 $L  1/2$ 上具有连续分布的随机变量。例如，$L$ 等于 $1$ 的概率是 $\\mathbb{P}(L=1) = \\mathbb{P}(B_{1/2}^2 + 1/2 = 1) = \\mathbb{P}(B_{1/2}^2 = 1/2) = 0$，因为 $B_{1/2}$ 具有连续分布。极限的值取决于布朗运动的特定实现（路径），具体来说，取决于它在时间 $t=1/2$ 时的值。\n\n未能恢复确定性值 $[B]_1 = 1$ 是网格尺寸条件未被满足的直接后果。在分割序列 $\\Pi_n$ 中，区间 $[0, 1/2]$ 从未被细化。它对总和的贡献项 $(B_{1/2}-B_0)^2$ 在极限中仍然是一个随机项。虽然在区间 $[1/2, 1]$ 上的和确实收敛到该区间的长度（$1/2$），因为那里的分割变得更精细，但“冻结”的第一个区间阻止了总和收敛到 $[0,1]$ 的总长度。这表明，要求网格尺寸缩小到零是至关重要的，以确保来自区间所有部分的贡献被适当地平均掉，从而得到一个确定性的极限。即使只有一个子区间不满足此条件，也足以在最终极限中引入随机性，从而无法恢复真实的二次变差。", "answer": "$$\n\\boxed{B_{1/2}^2 + \\frac{1}{2}}\n$$", "id": "3066772"}, {"introduction": "我们已经看到，收敛性依赖于特定的条件。现在，让我们来探讨一个更微妙的问题：随机过程在某个时刻收敛，是否意味着整个路径也收敛？这个练习 [@problem_id:3066795] 将通过一个巧妙的构造，展示一个在终点收敛但路径本身发生剧烈振荡的例子。通过分析此问题，您将理解“紧性”这一关键概念，并明白为何它是在处理路径泛函（如路径的最大值）时，从逐点收敛过渡到整个过程收敛所不可或缺的桥梁。", "problem": "设 $T0$ 为一固定值，并设 $\\{W_{t}\\}_{t \\in [0,T]}$ 为定义在带滤概率空间 $(\\Omega,\\mathcal{F},(\\mathcal{F}_{t})_{t \\in [0,T]},\\mathbb{P})$ 上的标准布朗运动。考虑随机微分方程 $dX_{t} = dW_{t}$，初始条件为 $X_{0} = 0$，因此对所有 $t \\in [0,T]$ 都有 $X_{t} = W_{t}$。对每个整数 $n \\geq 1$，定义确定性的“尖峰”函数 $\\psi_{n} : [0,T] \\to \\mathbb{R}$ 如下：\n$$\n\\psi_{n}(t) \\;=\\;\n\\begin{cases}\n2n\\big(t - (T - \\frac{1}{n})\\big),  t \\in \\big[T - \\frac{1}{n},\\, T - \\frac{1}{2n}\\big],\\\\\n2n\\big(T - t\\big),  t \\in \\big[T - \\frac{1}{2n},\\, T\\big],\\\\\n0,  t \\in \\big[0,\\, T - \\frac{1}{n}\\big),\n\\end{cases}\n$$\n因此 $\\psi_{n}$ 是一个支集在 $\\big[T - \\frac{1}{n},T\\big]$ 上的三角凸起，满足 $\\psi_{n}(T) = 0$ 且 $\\sup_{t \\in [0,T]} \\psi_{n}(t) = 1$。定义扰动过程 $\\bar{X}^{(n)}_{t} := X_{t} + n\\,\\psi_{n}(t)$，其中 $t \\in [0,T]$。\n\n使用随机变量依分布收敛的核心定义以及在具有一致拓扑的连续路径空间上的定律紧性的核心定义，解决以下问题：\n\n1. 从第一性原理出发，论证为何一维边际分布在终端时刻依分布收敛，即当 $n \\to \\infty$ 时，$\\bar{X}^{(n)}_{T} \\xrightarrow{d} X_{T}$。\n\n2. 解释为何在路径空间 $C([0,T])$ 上，$\\{\\bar{X}^{(n)}\\}_{n \\geq 1}$ 的定律族不是紧的，并阐明这种紧性的缺乏如何阻止应用连续映射定理将 $\\bar{X}^{(n)}_{T}$ 的依分布收敛推广到完整轨迹的路径泛函的收敛。\n\n3. 为定量地证明在缺乏紧性的情况下路径泛函收敛的失败，计算极限\n$$\n\\lim_{n \\to \\infty} \\mathbb{P}\\!\\left(\\sup_{0 \\leq t \\leq T} \\big|\\bar{X}^{(n)}_{t} - X_{t}\\big|  1\\right).\n$$\n\n你的最终答案必须是一个实数。无需四舍五入。", "solution": "问题陈述已经过验证，被认为是有效的。它具有科学依据，问题提出得当，客观，并包含进行求解所需的所有必要信息。\n\n该问题要求对一列扰动布朗路径 $\\{\\bar{X}^{(n)}\\}_{n \\geq 1}$ 进行三部分分析，该扰动过程定义为 $\\bar{X}^{(n)}_{t} = X_{t} + n\\,\\psi_{n}(t)$，其中 $X_t = W_t$ 是标准布朗运动，而 $\\psi_n(t)$ 是一个特定的确定性函数。\n\n**1. 终端时刻一维边际分布的收敛性**\n\n我们被要求论证 $\\bar{X}^{(n)}_{T} \\xrightarrow{d} X_{T}$ 在 $n \\to \\infty$ 时成立。此记号表示依分布收敛。\n\n扰动过程定义为 $\\bar{X}^{(n)}_{t} = X_{t} + n\\,\\psi_{n}(t)$，其中 $t \\in [0,T]$。我们需要在终端时刻 $t=T$ 处对此进行评估。函数 $\\psi_n(t)$ 是分段定义的。对于 $t=T$，我们使用定义的第二种情况，因为对于任何 $n \\geq 1$，$T \\in [T - \\frac{1}{2n}, T]$。\n$\\psi_n(T)$ 的值为：\n$$ \\psi_{n}(T) = 2n(T - T) = 0 $$\n这对所有整数 $n \\geq 1$ 都成立。\n\n现在，我们可以将其代入扰动过程在时刻 $T$ 的定义中：\n$$ \\bar{X}^{(n)}_{T} = X_{T} + n\\,\\psi_{n}(T) = X_{T} + n \\cdot 0 = X_{T} $$\n这个结果表明，随机变量 $\\bar{X}^{(n)}_{T}$ 不仅仅是在极限情况下与 $X_T$ 相关，事实上对于每一个 $n \\geq 1$ 的值，它都与随机变量 $X_T$ 完全相同。\n\n一列随机变量 $\\{Y_n\\}$ 依分布收敛于随机变量 $Y$，记为 $Y_n \\xrightarrow{d} Y$，意味着 $Y_n$ 的累积分布函数（CDF）在 $Y$ 的CDF连续的所有点上都收敛于 $Y$ 的CDF。\n\n在我们的情况中，随机变量序列是 $\\{\\bar{X}^{(n)}_{T}\\}_{n \\geq 1}$，极限随机变量是 $X_T$。由于对所有 $n \\geq 1$ 都有 $\\bar{X}^{(n)}_{T} = X_{T}$，因此 $\\bar{X}^{(n)}_{T}$ 的CDF与 $X_T$ 的CDF对所有 $n$ 都相同。设 $F_{Y}$ 表示随机变量 $Y$ 的CDF。那么，对任意实数 $x$，\n$$ F_{\\bar{X}^{(n)}_{T}}(x) = \\mathbb{P}(\\bar{X}^{(n)}_{T} \\leq x) = \\mathbb{P}(X_{T} \\leq x) = F_{X_T}(x) $$\n函数序列 $\\{F_{\\bar{X}^{(n)}_{T}}\\}_{n \\geq 1}$ 是一个常数序列，每一项都是 $F_{X_T}$。这个序列的极限自然是 $F_{X_T}$。因此，\n$$ \\lim_{n \\to \\infty} F_{\\bar{X}^{(n)}_{T}}(x) = F_{X_T}(x) $$\n对所有 $x \\in \\mathbb{R}$ 成立。这满足了依分布收敛的定义。事实上，由于对所有 $\\omega \\in \\Omega$ 和所有 $n \\geq 1$ 都有 $\\bar{X}^{(n)}_{T}(\\omega) = X_{T}(\\omega)$，该序列几乎必然收敛，这是一种更强的收敛模式，它蕴含了依分布收敛。\n\n**2. 紧性的缺乏及其后果**\n\n度量空间 $S$ 上的一列概率测度 $\\{\\mu_n\\}$ 是紧的，如果对每个 $\\epsilon  0$，存在一个紧集 $K_{\\epsilon} \\subset S$ 使得对所有 $n$ 都有 $\\mu_n(K_{\\epsilon}) \\geq 1-\\epsilon$。在我们的情境中，$S$ 是 $[0,T]$ 上的连续函数空间，记为 $C([0,T])$，赋有一致范数 $\\|f\\|_{\\infty} = \\sup_{t \\in [0,T]} |f(t)|$。测度 $\\mu_n$ 是过程 $\\bar{X}^{(n)}$ 的定律。\n\n根据 Arzelà-Ascoli 定理，$C([0,T])$ 的一个子集是相对紧的当且仅当它是一致有界且等度连续的。对于随机过程定律的紧性，这转化为对其连续性模的一个条件。一个标准的紧性充分条件是，对所有 $\\eta  0$ 和 $\\epsilon  0$，必须存在一个 $\\delta  0$ (与 $n$ 无关) 使得\n$$ \\sup_{n \\geq 1} \\mathbb{P}\\left( \\sup_{|t-s|\\delta, s,t \\in [0,T]} |\\bar{X}^{(n)}_{t} - \\bar{X}^{(n)}_{s}| \\geq \\eta \\right) \\leq \\epsilon $$\n我们来研究 $\\bar{X}^{(n)}$ 的连续性模。其增量为：\n$$ \\bar{X}^{(n)}_{t} - \\bar{X}^{(n)}_{s} = (X_t - X_s) + n(\\psi_n(t) - \\psi_n(s)) $$\n确定性部分 $n\\psi_n(t)$ 是一个高为 $n$、宽为 $1/n$ 的三角函数。这个三角形前缘的斜率是 $2n^2$。我们来考察在 $\\psi_n(t)$ 支集的前半部分的增量。\n设 $s_n = T - \\frac{1}{n}$ 和 $t_n = T - \\frac{1}{2n}$。时间差为 $|t_n - s_n| = \\frac{1}{2n}$。对于任何固定的 $\\delta  0$，我们可以选择足够大的 $n$ 使得 $\\frac{1}{2n}  \\delta$。\n我们来计算在 $s_n$ 和 $t_n$ 之间的增量：\n$$ \\psi_n(s_n) = \\psi_n\\left(T - \\frac{1}{n}\\right) = 0 $$\n$$ \\psi_n(t_n) = \\psi_n\\left(T - \\frac{1}{2n}\\right) = 2n\\left(\\left(T - \\frac{1}{2n}\\right) - \\left(T - \\frac{1}{n}\\right)\\right) = 2n\\left(\\frac{1}{2n}\\right) = 1 $$\n确定性部分的增量为 $n(\\psi_n(t_n) - \\psi_n(s_n)) = n(1-0) = n$。\n过程的增量为：\n$$ \\bar{X}^{(n)}_{t_n} - \\bar{X}^{(n)}_{s_n} = (X_{t_n} - X_{s_n}) + n $$\n布朗增量 $X_{t_n} - X_{s_n}$ 服从正态分布 $N(0, t_n - s_n) = N(0, \\frac{1}{2n})$。当 $n \\to \\infty$ 时，该项依概率收敛于 $0$。\n\n现在，考虑紧性条件。我们固定 $\\eta  0$ 和 $\\delta  0$。对于任何足够大的 $n$ 使得 $\\frac{1}{2n}  \\delta$，我们有：\n$$ \\sup_{|t-s|\\delta} |\\bar{X}^{(n)}_{t} - \\bar{X}^{(n)}_{s}| \\geq |\\bar{X}^{(n)}_{t_n} - \\bar{X}^{(n)}_{s_n}| = |(X_{t_n} - X_{s_n}) + n| $$\n我们需要界定的概率是：\n$$ \\mathbb{P}\\left(\\sup_{|t-s|\\delta} |\\bar{X}^{(n)}_{t} - \\bar{X}^{(n)}_{s}| \\geq \\eta \\right) \\geq \\mathbb{P}\\left(|(X_{t_n} - X_{s_n}) + n| \\geq \\eta\\right) $$\n当 $n \\to \\infty$ 时，$n$ 将超过任何固定的 $\\eta$。随机项 $X_{t_n} - X_{s_n}$ 依概率收敛于 $0$。直观上，表达式 $(X_{t_n} - X_{s_n}) + n$ 由 $n$ 主导，并且将大于 $\\eta$。更形式化地，对于 $n  \\eta$，我们有 $n-\\eta  0$。\n$$ \\mathbb{P}(|(X_{t_n} - X_{s_n}) + n| \\geq \\eta) = \\mathbb{P}(X_{t_n} - X_{s_n} \\geq \\eta-n \\text{ or } X_{t_n} - X_{s_n} \\leq -\\eta-n) $$\n令 $Y_n = X_{t_n} - X_{s_n}$。则 $Y_n \\sim N(0, \\frac{1}{2n})$。令 $Z \\sim N(0,1)$，则 $Y_n = \\frac{Z}{\\sqrt{2n}}$。\n该概率变为 $\\mathbb{P}(\\frac{Z}{\\sqrt{2n}} \\geq \\eta-n \\text{ or } \\frac{Z}{\\sqrt{2n}} \\leq -\\eta-n) = \\mathbb{P}(Z \\geq (\\eta-n)\\sqrt{2n} \\text{ or } Z \\leq (-\\eta-n)\\sqrt{2n})$。\n当 $n \\to \\infty$ 时，$(\\eta-n)\\sqrt{2n} \\to -\\infty$ 且 $(-\\eta-n)\\sqrt{2n} \\to -\\infty$。概率 $\\mathbb{P}(Z \\geq (\\eta-n)\\sqrt{2n})$ 趋近于 $1$。\n因此，对于任意选择的 $\\eta  0$ 和 $\\delta  0$，\n$$ \\lim_{n \\to \\infty} \\mathbb{P}\\left(\\sup_{|t-s|\\delta} |\\bar{X}^{(n)}_{t} - \\bar{X}^{(n)}_{s}| \\geq \\eta \\right) = 1 $$\n这违反了紧性条件，该条件要求对于小的 $\\delta$，这个概率要一致地小。因此，$\\{\\bar{X}^{(n)}\\}_{n \\geq 1}$ 的定律族不是紧的。\n\nProkhorov 定理指出，在一个波兰空间（如 $C([0,T])$）上的一列概率定律弱收敛，当且仅当它是紧的并且所有有限维分布都收敛。虽然我们可以证明 $\\bar{X}^{(n)}$ 的有限维分布收敛于 $X$ 的有限维分布，但紧性的缺乏阻止了在路径空间 $C([0,T])$ 上定律的收敛。也就是说，在 $C([0,T])$ 上，$\\bar{X}^{(n)} \\not\\xrightarrow{d} X$。\n\n连续映射定理指出，如果在度量空间 $S$ 中有 $Y_n \\xrightarrow{d} Y$，那么对于任何连续函数 $g:S \\to S'$，我们有 $g(Y_n) \\xrightarrow{d} g(Y)$。由于在 $C([0,T])$ 上 $\\bar{X}^{(n)} \\xrightarrow{d} X$ 的前提是错误的，该定理不能被应用于得出路径依赖泛函 $g$（例如 $g(x) = \\sup_{t \\in [0,T]} x(t)$ 或 $g(x) = \\int_0^T x(t)^2 dt$）的收敛性。紧性的缺乏正是导致这种失败的原因。\n\n**3. 非收敛的定量证明**\n\n我们被要求计算极限：\n$$ \\lim_{n \\to \\infty} \\mathbb{P}\\!\\left(\\sup_{0 \\leq t \\leq T} \\big|\\bar{X}^{(n)}_{t} - X_{t}\\big|  1\\right) $$\n我们来分析上确界内的量。\n$$ \\sup_{0 \\leq t \\leq T} \\big|\\bar{X}^{(n)}_{t} - X_{t}\\big| = \\sup_{0 \\leq t \\leq T} \\big|(X_{t} + n\\,\\psi_{n}(t)) - X_{t}\\big| = \\sup_{0 \\leq t \\leq T} |n\\,\\psi_{n}(t)| $$\n由于 $n  0$ 且对所有 $t$ 都有 $\\psi_n(t) \\geq 0$，这可以简化为：\n$$ n \\sup_{0 \\leq t \\leq T} \\psi_{n}(t) $$\n函数 $\\psi_n(t)$ 是一个三角凸起函数。问题陈述正确地指出其最大值为 $1$，在 $t = T - \\frac{1}{2n}$ 时取到。\n$$ \\sup_{0 \\leq t \\leq T} \\psi_{n}(t) = 1 $$\n因此，我们正在研究的表达式是一个确定性的量，只依赖于 $n$：\n$$ \\sup_{0 \\leq t \\leq T} \\big|\\bar{X}^{(n)}_{t} - X_{t}\\big| = n \\cdot 1 = n $$\n现在，我们将其代回概率表达式中：\n$$ \\mathbb{P}\\left(n  1\\right) $$\n事件“$n  1$”不依赖于随机实验的结果 $\\omega \\in \\Omega$；它是关于索引 $n$ 的一个断言。对于一个固定的 $n$，这要么是一个真命题，要么是一个假命题。\n- 如果 $n=1$，陈述“$1  1$”是假的。该事件是空集 $\\emptyset$，且 $\\mathbb{P}(\\emptyset) = 0$。\n- 如果 $n \\geq 2$，陈述“$n  1$”是真的。该事件是整个样本空间 $\\Omega$，且 $\\mathbb{P}(\\Omega) = 1$。\n\n我们被要求计算当 $n \\to \\infty$ 时的极限。这关系到序列 $\\mathbb{P}(n  1)$ 在 $n$ 很大时的行为。对于所有 $n \\geq 2$，序列中的项都是 $1$。该序列是 $(0, 1, 1, 1, \\dots)$。此序列的极限是 $1$。\n$$ \\lim_{n \\to \\infty} \\mathbb{P}\\left(\\sup_{0 \\leq t \\leq T} \\big|\\bar{X}^{(n)}_{t} - X_{t}\\big|  1\\right) = \\lim_{n \\to \\infty} \\mathbb{P}(n  1) = 1 $$\n这个结果定量地显示了在一致拓扑中收敛的失败。在 $C([0,T])$ 上 $\\bar{X}^{(n)}$ 依概率收敛于 $X$ 将要求对任意 $\\epsilon  0$ 都有 $\\lim_{n \\to \\infty} \\mathbb{P}(\\|\\bar{X}^{(n)} - X\\|_{\\infty}  \\epsilon) = 0$。我们已经证明，对于 $\\epsilon=1$，这个概率收敛到 $1$，而不是 $0$。", "answer": "$$\\boxed{1}$$", "id": "3066795"}, {"introduction": "在理解了收敛的理论基础和微妙之处后，是时候将这些概念应用于一个核心实践领域：随机微分方程的数值求解。这个练习 [@problem_id:3066786] 将引导您分析广泛使用的欧拉-丸山（Euler–Maruyama）方法的“强收敛”性质，这是一种衡量数值解路径与真实解路径逼近程度的尺度。通过对经典的奥恩斯坦-乌伦贝克（Ornstein–Uhlenbeck）过程进行分析，您将亲手推导出该方法的收敛阶，从而具体地看到收敛性理论如何指导和评估我们所使用的数值算法。", "problem": "考虑在有限时间范围 $[0,T]$ 上的 Ornstein–Uhlenbeck 随机微分方程 (SDE)：\n$$\ndX_t=-\\lambda X_t\\,dt+\\sigma\\,dW_t,\\quad X_0=x_0,\n$$\n其中 $W_t$ 是标准布朗运动，并且 $\\lambda0$, $\\sigma0$, $x_0\\in\\mathbb{R}$ 和 $T0$ 是固定常数。设时间步长为 $h=T/N$，其中 $N\\in\\mathbb{N}$，并定义欧拉-丸山 (Euler–Maruyama) 时间离散近似 $\\{X_k^h\\}_{k=0}^{N}$ 为\n$$\nX_{k+1}^h=X_k^h-\\lambda X_k^h\\,h+\\sigma\\,\\Delta W_k,\\quad \\Delta W_k:=W_{t_{k+1}}-W_{t_k},\\quad t_k:=kh,\n$$\n其中 $X_0^h=x_0$。将每个子区间 $[t_k,t_{k+1})$ 上的连续时间欧拉-丸山插值 $\\bar{X}_t^h$ 定义为以下方程的唯一强解\n$$\nd\\bar{X}_t^h=-\\lambda X_k^h\\,dt+\\sigma\\,dW_t,\\quad \\bar{X}_{t_k}^h=X_k^h,\\quad t\\in[t_k,t_{k+1}).\n$$\n在 $[0,T]$ 上采用以下强平均上确界误差范数：\n$$\n\\|X-\\bar{X}^h\\|_{2,\\infty}:=\\Big(\\mathbb{E}\\big[\\sup_{0\\le t\\le T}|X_t-\\bar{X}_t^h|^2\\big]\\Big)^{1/2}.\n$$\n从第一性原理出发，包括强收敛的定义、线性 SDE 上欧拉-丸山方法的稳定性和矩界，以及随机过程的标准不等式，推导一个形如以下形式的上界\n$$\n\\|X-\\bar{X}^h\\|_{2,\\infty}\\le C\\,h^{p},\n$$\n其中常数 $C$ 与 $h$ 无关（但可能依赖于 $\\lambda$、$\\sigma$、$x_0$ 和 $T$）。确定该方案对于 Ornstein–Uhlenbeck SDE 在上述定义的平均上确界范数下所能达到的阶指数 $p$。仅报告 $p$ 的值作为你的最终答案。", "solution": "用户想要确定 Ornstein–Uhlenbeck SDE 的连续时间欧拉-丸山 (Euler–Maruyama) 插值的强收敛阶 $p$，该收敛阶在平均上确界范数下度量。该问题是适定的，并且在随机微分方程数值分析理论中有其科学依据。\n\nOrnstein–Uhlenbeck SDE 由下式给出\n$$dX_t = -\\lambda X_t dt + \\sigma dW_t, \\quad X_0 = x_0$$\n在时间区间 $[0, T]$ 上，其中 $\\lambda  0$, $\\sigma  0$。这是一个具有常系数的线性 SDE。\n\n离散欧拉-丸山近似 $\\{X_k^h\\}_{k=0}^N$ 由以下递推关系定义\n$$X_{k+1}^h = X_k^h - \\lambda X_k^h h + \\sigma \\Delta W_k, \\quad X_0^h = x_0$$\n其中 $h=T/N$, $t_k=kh$，且 $\\Delta W_k = W_{t_{k+1}} - W_{t_k}$。\n\n对于 $t \\in [t_k, t_{k+1})$，连续时间欧拉-丸山插值 $\\bar{X}_t^h$ 由以下 SDE 定义\n$$d\\bar{X}_t^h = -\\lambda X_k^h dt + \\sigma dW_t, \\quad \\bar{X}_{t_k}^h = X_k^h$$\n对该方程积分，得到对于 $t \\in [t_k, t_{k+1})$ 的显式形式：\n$$\\bar{X}_t^h = X_k^h - \\lambda X_k^h (t-t_k) + \\sigma (W_t - W_{t_k})$$\n\n我们想要找到强平均上确界误差界中的指数 $p$：\n$$\\|X - \\bar{X}^h\\|_{2,\\infty} = \\Big(\\mathbb{E}\\big[\\sup_{0 \\le t \\le T}|X_t - \\bar{X}_t^h|^2\\big]\\Big)^{1/2} \\le C h^p$$\n\n为了分析这个误差，我们通过引入一个辅助过程 $\\bar{X}_t^*$ 来分解它。该过程使用相同的连续插值方案，但在每个区间 $[t_k, t_{k+1})$ 的开始处从精确解 $X_{t_k}$ 出发。对于 $t \\in [t_k, t_{k+1})$，$\\bar{X}_t^*$ 是以下方程的解\n$$d\\bar{X}_t^* = -\\lambda X_{t_k} dt + \\sigma dW_t, \\quad \\bar{X}_{t_k}^* = X_{t_k}$$\n根据 $\\|\\cdot\\|_{2,\\infty}$ 范数的三角不等式，总误差可以被界定为：\n$$\\|X - \\bar{X}^h\\|_{2,\\infty} \\le \\|X - \\bar{X}^*\\|_{2,\\infty} + \\|\\bar{X}^* - \\bar{X}^h\\|_{2,\\infty}$$\n我们将分析右侧每一项的收敛阶。\n\n**1. 插值误差项 $\\|X - \\bar{X}^*\\|_{2,\\infty}$ 的分析**\n\n此项表示纯粹由连续插值引起的误差，假设在网格点上没有误差。其范数的平方是\n$$\\|X - \\bar{X}^*\\|_{2,\\infty}^2 = \\mathbb{E}\\left[\\sup_{0 \\le t \\le T} |X_t - \\bar{X}_t^*|^2\\right] = \\mathbb{E}\\left[\\max_{0 \\le k  N} \\sup_{t \\in [t_k, t_{k+1})} |X_t - \\bar{X}_t^*|^2\\right]$$\n对于 $t \\in [t_k, t_{k+1})$，局部插值误差 $e_t^* = X_t - \\bar{X}_t^*$ 满足\n$$de_t^* = dX_t - d\\bar{X}_t^* = (-\\lambda X_t dt + \\sigma dW_t) - (-\\lambda X_{t_k} dt + \\sigma dW_t) = -\\lambda (X_t - X_{t_k}) dt$$\n由于 $e_{t_k}^*=X_{t_k}-\\bar{X}_{t_k}^*=0$，我们积分得到\n$$e_t^* = -\\lambda \\int_{t_k}^t (X_s - X_{t_k}) ds$$\n我们需要对这个局部误差的平均上确界进行界定。\n$$\\mathbb{E}\\left[\\sup_{t \\in [t_k, t_{k+1})} |e_t^*|^2\\right] = \\lambda^2 \\mathbb{E}\\left[\\sup_{t \\in [t_k, t_{k+1})} \\left|\\int_{t_k}^t (X_s - X_{t_k}) ds\\right|^2\\right]$$\n根据柯西-施瓦茨 (Cauchy-Schwarz) 不等式，\n$$\\left|\\int_{t_k}^t (X_s - X_{t_k}) ds\\right|^2 \\le (t-t_k) \\int_{t_k}^t |X_s - X_{t_k}|^2 ds \\le h \\int_{t_k}^{t_{k+1}} |X_s - X_{t_k}|^2 ds$$\n因此，\n$$\\mathbb{E}\\left[\\sup_{t \\in [t_k, t_{k+1})} |e_t^*|^2\\right] \\le \\lambda^2 h \\int_{t_k}^{t_{k+1}} \\mathbb{E}\\left[|X_s - X_{t_k}|^2\\right] ds$$\n对于系数矩有界的伊藤 (Ito) 过程（Ornstein-Uhlenbeck 过程即是如此），我们有标准估计 $\\mathbb{E}[|X_s - X_{t_k}|^2] \\le K(s-t_k)$，其中 $K$ 为某个常数。\n$$\\mathbb{E}\\left[\\sup_{t \\in [t_k, t_{k+1})} |e_t^*|^2\\right] \\le \\lambda^2 h \\int_{t_k}^{t_{k+1}} K(s-t_k) ds = \\lambda^2 h K \\left[\\frac{(s-t_k)^2}{2}\\right]_{t_k}^{t_{k+1}} = \\frac{K\\lambda^2}{2} h^3 = O(h^3)$$\n现在我们界定全局插值误差。对于非负随机变量 $Z_k$，使用性质 $\\mathbb{E}[\\max(Z_k)] \\le \\sum \\mathbb{E}[Z_k]$，\n$$\\|X - \\bar{X}^*\\|_{2,\\infty}^2 = \\mathbb{E}\\left[\\max_{k} \\sup_{t \\in [t_k, t_{k+1})} |e_t^*|^2\\right] \\le \\sum_{k=0}^{N-1} \\mathbb{E}\\left[\\sup_{t \\in [t_k, t_{k+1})} |e_t^*|^2\\right] = \\sum_{k=0}^{N-1} O(h^3) = N \\cdot O(h^3)$$\n由于 $N=T/h$，我们有 $\\|X - \\bar{X}^*\\|_{2,\\infty}^2 = (T/h) \\cdot O(h^3) = O(h^2)$。取平方根，我们得到\n$$\\|X - \\bar{X}^*\\|_{2,\\infty} = O(h)$$\n这意味着插值方案本身的局部误差阶为 $h^{3/2}$，全局误差阶为 $h^1$。\n\n**2. 传播误差项 $\\|\\bar{X}^* - \\bar{X}^h\\|_{2,\\infty}$ 的分析**\n\n此项度量了离散欧拉-丸山格式的误差如何通过连续插值进行传播。令 $\\delta_t = \\bar{X}_t^* - \\bar{X}_t^h$。对于 $t \\in [t_k, t_{k+1})$，\n$$d\\delta_t = d\\bar{X}_t^* - d\\bar{X}_t^h = -\\lambda X_{t_k} dt + \\sigma dW_t - (-\\lambda X_k^h dt + \\sigma dW_t) = -\\lambda (X_{t_k} - X_k^h) dt$$\n令 $\\epsilon_k = X_{t_k} - X_k^h$ 为离散 EM 格式在时间 $t_k$ 的误差。在区间开始处，$\\delta_{t_k} = \\bar{X}_{t_k}^* - \\bar{X}_{t_k}^h = X_{t_k} - X_k^h = \\epsilon_k$。\n对 $\\delta_t$ 的 SDE 积分得到\n$$\\delta_t = \\delta_{t_k} - \\lambda \\int_{t_k}^t \\epsilon_k ds = \\epsilon_k - \\lambda \\epsilon_k (t-t_k) = \\epsilon_k(1 - \\lambda(t-t_k))$$\n现在我们界定范数的平方：\n$$\\|\\bar{X}^* - \\bar{X}^h\\|_{2,\\infty}^2 = \\mathbb{E}\\left[\\sup_{0 \\le t \\le T} |\\delta_t|^2\\right] = \\mathbb{E}\\left[\\max_{0 \\le k  N} \\sup_{t \\in [t_k, t_{k+1})} |\\epsilon_k(1 - \\lambda(t-t_k))|^2\\right]$$\n对于 $t \\in [0, T]$，项 $(1-\\lambda(t-t_k))$ 由一个与 $h$ 无关的常数界定（例如 $\\max(1, |1-\\lambda T|)$）。因此，\n$$\\|\\bar{X}^* - \\bar{X}^h\\|_{2,\\infty}^2 \\le C \\mathbb{E}\\left[\\max_{0 \\le k  N} |\\epsilon_k|^2\\right]$$\n现在我们必须引用一个关于离散欧拉-丸山格式强收敛的标准结果。对于具有全局 Lipschitz 系数的 SDE（OU 过程满足此条件），强上确界范数收敛率为 $1/2$。即，\n$$\\left(\\mathbb{E}\\left[\\max_{0 \\le k  N} |X_{t_k} - X_k^h|^2\\right]\\right)^{1/2} = O(h^{1/2})$$\n这意味着 $\\mathbb{E}\\left[\\max_{0 \\le k  N} |\\epsilon_k|^2\\right] = O(h)$。需要注意的是，即使对于线性 SDE，其强逐点误差阶为 $1$（即 $\\mathbb{E}[|X_{t_k} - X_k^h|^2] = O(h^2)$），由于逼近布朗路径的性质，强上确界（或路径）误差也被限制在阶 $1/2$。\n代入此结果，我们得到\n$$\\|\\bar{X}^* - \\bar{X}^h\\|_{2,\\infty}^2 \\le C \\cdot O(h) = O(h)$$\n取平方根得到\n$$\\|\\bar{X}^* - \\bar{X}^h\\|_{2,\\infty} = O(h^{1/2})$$\n\n**3. 结论**\n\n结合误差的两个分量的界：\n$$\\|X - \\bar{X}^h\\|_{2,\\infty} \\le \\|X - \\bar{X}^*\\|_{2,\\infty} + \\|\\bar{X}^* - \\bar{X}^h\\|_{2,\\infty} = O(h) + O(h^{1/2})$$\n总收敛率由两个项中较慢的一个决定，即 $O(h^{1/2})$。\n因此，对于某个常数 $C$，我们有 $\\|X - \\bar{X}^h\\|_{2,\\infty} \\le C h^{1/2}$。阶指数为 $p = 1/2$。\n限制因素不是连续插值本身，而是插值所基于的离散欧拉-丸山格式。离散格式的路径误差污染了整体的连续时间近似，并将其收敛率限制为 $p = 1/2$。", "answer": "$$\n\\boxed{\\frac{1}{2}}\n$$", "id": "3066786"}]}