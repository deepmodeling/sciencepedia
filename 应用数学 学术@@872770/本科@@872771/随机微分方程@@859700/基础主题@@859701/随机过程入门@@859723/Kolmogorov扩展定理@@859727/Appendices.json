{"hands_on_practices": [{"introduction": "柯尔莫哥洛夫扩展定理的核心在于确保一个概率测度家族的“一致性”。这个概念依赖于将高维分布“投影”到低维子空间上，并验证其与预定义的低维分布相匹配。本练习将通过一个连续概率分布的例子，让您亲手实践这一基本操作——即通过积分计算边缘概率密度函数，这是理解一致性条件的基石。[@problem_id:1454517]", "problem": "在测度论概率的框架下，一个关键概念是积空间上一族概率测度的一致性，这由柯尔莫哥洛夫扩展定理（Kolmogorov extension theorem）形式化。该定理保证了在无限积空间上存在唯一的概率测度，前提是其有限维投影（边际）是一致的。\n\n让我们来探讨这种投影的一个简单情形。考虑定义在概率空间上的一个随机向量 $(X_1, X_2, X_3)$。该向量在 $\\mathbb{R}^3$ 上的联合概率测度 $\\mu$ 相对于三维勒贝格测度是绝对连续的。其对应的概率密度函数（PDF） $f(x_1, x_2, x_3)$ 由下式给出：\n$$\nf(x_1, x_2, x_3) = \n\\begin{cases} \nK \\exp(-\\alpha x_1 - \\beta x_2 - \\gamma x_3)  \\text{if } x_1 > 0, x_2 > 0, x_3 > 0 \\\\\n0  \\text{otherwise} \n\\end{cases}\n$$\n其中 $K, \\alpha, \\beta$ 和 $\\gamma$ 是正常实数。\n\n根据理论，我们可以求出任何子向量的边际概率密度函数。对于子向量 $(X_1, X_3)$，其边际概率密度函数记为 $f_{1,3}(x_1, x_3)$，是将 $\\mu$ 投影到 $(x_1, x_3)$ 平面上所得到的测度的密度。\n\n求边际概率密度函数 $f_{1,3}(x_1, x_3)$ 在其非零区域的表达式。答案用 $x_1, x_3$ 以及常数 $K, \\alpha, \\beta, \\gamma$ 表示。", "solution": "给定联合概率密度函数\n$$\nf(x_{1},x_{2},x_{3})=\n\\begin{cases}\nK \\exp(-\\alpha x_{1}-\\beta x_{2}-\\gamma x_{3})  \\text{if } x_{1}>0, x_{2}>0, x_{3}>0,\\\\\n0  \\text{otherwise},\n\\end{cases}\n$$\n其中 $K,\\alpha,\\beta,\\gamma>0$。$(X_{1},X_{3})$ 的边际密度通过对 $x_{2}$ 积分得到：\n$$\nf_{1,3}(x_{1},x_{3})=\\int_{-\\infty}^{\\infty} f(x_{1},x_{2},x_{3})\\,dx_{2}.\n$$\n因为除非 $x_{2}>0$，$f$ 的值为零，并且仅当 $x_{1}>0$ 和 $x_{3}>0$ 时 $f$ 才非零，所以对于 $x_{1}>0$ 和 $x_{3}>0$ 的情况，我们有：\n$$\nf_{1,3}(x_{1},x_{3})=\\int_{0}^{\\infty} K \\exp(-\\alpha x_{1}-\\beta x_{2}-\\gamma x_{3})\\,dx_{2}.\n$$\n将与 $x_{2}$ 无关的项提取出来：\n$$\nf_{1,3}(x_{1},x_{3})=K \\exp(-\\alpha x_{1}-\\gamma x_{3}) \\int_{0}^{\\infty} \\exp(-\\beta x_{2})\\,dx_{2}.\n$$\n由于 $\\beta>0$，该积分的计算结果为\n$$\n\\int_{0}^{\\infty} \\exp(-\\beta x_{2})\\,dx_{2}=\\frac{1}{\\beta}.\n$$\n因此，对于 $x_{1}>0$ 和 $x_{3}>0$ 的情况，\n$$\nf_{1,3}(x_{1},x_{3})=\\frac{K}{\\beta}\\exp(-\\alpha x_{1}-\\gamma x_{3}).\n$$\n在此区域之外，边际密度为零，但题目特别要求的是在其非零区域的表达式，即上面给出的结果。", "answer": "$$\\boxed{\\frac{K}{\\beta}\\exp(-\\alpha x_{1}-\\gamma x_{3})}$$", "id": "1454517"}, {"introduction": "一个随机过程的所有有限维分布要能构成一个自洽的整体，它们在重叠部分必须完全一致。本练习通过一个离散的假想情景，为您提供了一个直接检验一致性的机会。通过分别从两个不同的联合分布 $(X_1, X_2)$ 和 $(X_1, X_3)$ 中导出共同变量 $X_1$ 的边缘分布，您将亲眼见证当一致性条件不满足时会发生什么，并量化它们之间的不一致程度。[@problem_id:1454497]", "problem": "考虑一个由三个二元随机变量 $X_1, X_2, X_3$ 组成的假设系统，每个变量的取值都在集合 $\\{0, 1\\}$ 中。假设给定两个用于描述这些变量对的候选概率测度。\n\n第一个测度 $\\mu_{12}$ 描述了 $(X_1, X_2)$ 的联合分布，它由 $\\{0, 1\\}^2$ 上的以下概率质量函数定义：\n$P(X_1=0, X_2=0) = \\frac{1}{6}$\n$P(X_1=0, X_2=1) = \\frac{1}{3}$\n$P(X_1=1, X_2=0) = \\frac{1}{2}$\n$P(X_1=1, X_2=1) = 0$\n\n第二个测度 $\\mu_{13}$ 描述了 $(X_1, X_3)$ 的联合分布，它由 $\\{0, 1\\}^2$ 上的以下概率质量函数定义：\n$P(X_1=0, X_3=0) = \\frac{1}{4}$\n$P(X_1=0, X_3=1) = \\frac{1}{8}$\n$P(X_1=1, X_3=0) = \\frac{1}{8}$\n$P(X_1=1, X_3=1) = \\frac{1}{2}$\n\n要使一个与 $\\mu_{12}$ 和 $\\mu_{13}$ 都相容的、针对 $(X_1, X_2, X_3)$ 的单一良定义联合概率测度 $\\mu_{123}$ 存在，一个必要条件是：从这两个测度中推导出的公共变量 $X_1$ 的边缘分布必须相同。这种不一致的程度可以被量化。\n\n计算从 $\\mu_{12}$ 导出的 $X_1$ 的边缘概率分布与从 $\\mu_{13}$ 导出的边缘概率分布之间的全变差距离。在离散样本空间 $\\Omega$ 上，两个概率质量函数 $p$ 和 $q$ 之间的全变差距离定义为 $\\frac{1}{2} \\sum_{\\omega \\in \\Omega} |p(\\omega) - q(\\omega)|$。\n\n请将答案表示为一个最简分数。", "solution": "我们首先通过对另一个变量求和，从每个给定的联合测度中计算出 $X_{1}$ 的边缘分布。\n\n从 $\\mu_{12}$ 中：\n$$\nP_{12}(X_{1}=0)=P(0,0)+P(0,1)=\\frac{1}{6}+\\frac{1}{3}=\\frac{1}{2}, \\quad\nP_{12}(X_{1}=1)=P(1,0)+P(1,1)=\\frac{1}{2}+0=\\frac{1}{2}.\n$$\n\n从 $\\mu_{13}$ 中：\n$$\nP_{13}(X_{1}=0)=P(0,0)+P(0,1)=\\frac{1}{4}+\\frac{1}{8}=\\frac{3}{8}, \\quad\nP_{13}(X_{1}=1)=P(1,0)+P(1,1)=\\frac{1}{8}+\\frac{1}{2}=\\frac{5}{8}.\n$$\n\n这两个在 $\\{0,1\\}$ 上的边缘分布之间的全变差距离为\n$$\n\\frac{1}{2}\\left(\\left|P_{12}(0)-P_{13}(0)\\right|+\\left|P_{12}(1)-P_{13}(1)\\right|\\right)\n=\\frac{1}{2}\\left(\\left|\\frac{1}{2}-\\frac{3}{8}\\right|+\\left|\\frac{1}{2}-\\frac{5}{8}\\right|\\right)\n=\\frac{1}{2}\\left(\\frac{1}{8}+\\frac{1}{8}\\right)=\\frac{1}{8}.\n$$", "answer": "$$\\boxed{\\frac{1}{8}}$$", "id": "1454497"}, {"introduction": "柯尔莫哥洛夫一致性是一个比简单的“成对一致”更强的条件。仅仅确保所有单变量边缘分布互相匹配是不够的。这个更深入的练习构建了一个经典的反例：一个由三个二元变量组成的系统，其中任意一对变量的分布都是一致的，但我们却无法构造一个包含所有三个变量的联合分布。通过解决这个难题，您将深刻理解为什么柯尔莫哥洛夫扩展定理要求其一致性条件必须对所有有限子集成立。[@problem_id:3062997]", "problem": "设 $\\{X_{t}\\}_{t \\in T}$ 为一族随机变量，其状态空间为 $E$，有限维分布为 $\\{\\mu_{I}\\}_{I \\subset T,\\, |I|\\infty}$，其中 $\\mu_{I}$ 是 $E^{I}$ 上的一个概率测度。柯尔莫哥洛夫扩展定理 (KET) 要求一个射影族在重叠部分上是一致的：对于任意有限集 $I \\subset J \\subset T$，$\\mu_{J}$ 在 $E^{I}$ 上的边缘分布等于 $\\mu_{I}$。与之相对，如果这个边缘协议仅要求对 $\\lvert I \\rvert \\leq 2$ 的集合 $I$ 成立（即，所有单元边缘分布在所有配对中都一致，且每个二元边缘分布与其单元边缘分布一致），我们称该族是成对一致的。\n\n1. 通过在 $T=\\{1,2,3\\}$ 上构造一个例子，其中每个成对边缘分布 $\\mu_{\\{i,j\\}}$ 具有相同的单元边缘分布，但不存在任何三元分布 $\\mu_{\\{1,2,3\\}}$ 在 $E^{\\{1,2,3\\}}$ 上，其成对边缘分布与给定的分布一致，来解释为什么柯尔莫哥洛夫一致性严格强于成对一致性。\n\n2. 在 $E=\\{-1,1\\}$ 上进行研究。定义三个二元律 $\\mu_{12}$、$\\mu_{23}$ 和 $\\mu_{31}$，使得对于每一对 $(i,j)$，变量 $X_{i}$ 和 $X_{j}$ 几乎必然不相等，并且每个单元边缘分布都是均匀的。具体地，对于每个 $(i,j)$，设\n   $$\\mu_{ij}(X_{i}=1,X_{j}=-1)=\\mu_{ij}(X_{i}=-1,X_{j}=1)=\\tfrac{1}{2}, \\qquad \\mu_{ij}(X_{i}=X_{j})=0.$$\n   验证这三个二元律在上述意义上是成对一致的，并证明不存在概率测度 $\\mu_{123}$ 在 $E^{\\{1,2,3\\}}$ 上，其成对边缘分布是这三个 $\\mu_{ij}$。\n\n3. 为了量化第2部分中的障碍，考虑取值于 $E=\\{-1,1\\}$ 的任意随机变量 $(X_{1},X_{2},X_{3})$。定义\n   $$S \\;=\\; \\mathbb{P}(X_{1}=X_{2}) \\;+\\; \\mathbb{P}(X_{2}=X_{3}) \\;+\\; \\mathbb{P}(X_{3}=X_{1}).$$\n   计算 $S$ 在 $E^{3}$ 上所有联合律下的紧下界 $L$，并用它与三个指定的二元律所隐含的 $S$ 值进行比较，从而证明第2部分中的不可能性。你的最终答案应该是 $L$ 的值，作为一个实数。不要包含单位。", "solution": "该问题要求解释为什么柯尔莫哥洛夫一致性是比成对一致性更严格的条件，用一个具体的构造来证明这一点，并量化该构造中的障碍。\n\n### 第1部分：柯尔莫哥洛夫一致性与成对一致性\n\n对于一族有限维分布 $\\{\\mu_{I}\\}_{I \\subset T, |I|  \\infty}$，柯尔莫哥洛夫一致性要求对于任意两个有限索引集 $I \\subset J \\subset T$，$\\mu_J$ 在坐标集 $I$ 上的边缘分布恰好是 $\\mu_I$。用符号表示，如果 $\\pi_{JI}: E^J \\to E^I$ 是投影映射，则 $\\mu_I = \\mu_J \\circ \\pi_{JI}^{-1}$。这个条件确保所有有限维分布是兼容的，并且可以“粘合”在一起，以在（可能无限维的）乘积空间 $E^T$ 上定义一个概率测度，这就是柯尔莫哥洛夫扩展定理的精髓。\n\n问题中定义的成对一致性是一个较弱的条件。它只要求这个边缘化性质对大小至多为 $2$ 的集合成立。具体来说，对于任意三个不同的索引 $i, j, k \\in T$，从二元分布推导出的单元边缘分布必须一致：$\\mu_{\\{i,j\\}}$ 关于 $X_i$ 的边缘分布必须与 $\\mu_{\\{i,k\\}}$ 关于 $X_i$ 的边缘分布相同。这确保了存在一个良定义的单元分布族 $\\{\\mu_{\\{i\\}}\\}_{i \\in T}$。\n\n柯尔莫哥洛夫一致性严格更强，因为所有变量对的一致性并不能保证三元组、四元组及更大变量集合的一致性。一组满足成对一致性的二元分布可能包含结构上的不相容性，使得它们无法成为单个统一的三变量或多变量联合分布的边缘分布。第2部分中的构造提供了这种现象的一个典型例子。\n\n### 第2部分：一个具体的反例\n\n给定 $T=\\{1,2,3\\}$，状态空间 $E=\\{-1,1\\}$，以及三个二元律 $\\mu_{12}$、$\\mu_{23}$ 和 $\\mu_{31}$，对任意对 $(i,j) \\in \\{(1,2), (2,3), (3,1)\\}$ 定义如下：\n$$\n\\mu_{ij}(X_i=x_i, X_j=x_j) = \\begin{cases} \\frac{1}{2}  \\text{若 } x_i \\neq x_j \\\\ 0  \\text{若 } x_i = x_j \\end{cases}\n$$\n\n**成对一致性的验证**\n\n我们必须验证单元边缘分布在这些二元律之间是一致的。让我们计算 $X_1$ 的边缘分布。\n从 $\\mu_{12}$：\n$$ \\mu_{12}(X_1=1) = \\mu_{12}(X_1=1, X_2=1) + \\mu_{12}(X_1=1, X_2=-1) = 0 + \\frac{1}{2} = \\frac{1}{2} $$\n$$ \\mu_{12}(X_1=-1) = \\mu_{12}(X_1=-1, X_2=1) + \\mu_{12}(X_1=-1, X_2=-1) = \\frac{1}{2} + 0 = \\frac{1}{2} $$\n所以从 $\\mu_{12}$ 得到的 $X_1$ 的边缘分布是 $\\{-1,1\\}$ 上的均匀分布。\n\n从 $\\mu_{31}$ (或 $\\mu_{13}$)，定义在 $i, j$ 上是对称的，所以计算是相同的：\n$$ \\mu_{31}(X_1=1) = \\mu_{31}(X_3=-1, X_1=1) + \\mu_{31}(X_3=1, X_1=1) = \\frac{1}{2} + 0 = \\frac{1}{2} $$\n$$ \\mu_{31}(X_1=-1) = \\mu_{31}(X_3=1, X_1=-1) + \\mu_{31}(X_3=-1, X_1=-1) = \\frac{1}{2} + 0 = \\frac{1}{2} $$\n从 $\\mu_{31}$ 得到的 $X_1$ 的边缘分布也是均匀分布。因此，$X_1$ 的边缘分布是一致的。\n\n由于 $\\mu_{12}$、$\\mu_{23}$ 和 $\\mu_{31}$ 定义的对称性，同样的结果对 $X_2$ (来自 $\\mu_{12}$ 和 $\\mu_{23}$) 和 $X_3$ (来自 $\\mu_{23}$ 和 $\\mu_{31}$) 也成立。在所有情况下，每个 $X_i$ 的单元边缘分布都是 $\\{-1,1\\}$ 上的均匀分布。因此，这族二元律是成对一致的。\n\n**联合分布不存在的证明**\n\n现在我们证明不存在概率测度 $\\mu_{123}$ 在 $E^{\\{1,2,3\\}} = \\{-1,1\\}^3$ 上，其成对边缘分布是 $\\mu_{12}$、$\\mu_{23}$ 和 $\\mu_{31}$。\n为引出矛盾，假设存在这样一个测度 $\\mu_{123}$。\n这将意味着由 $\\mu_{123}$ 控制的随机变量 $(X_1, X_2, X_3)$ 必须满足由边缘分布施加的条件。\n1. $(X_1, X_2)$ 的边缘分布必须是 $\\mu_{12}$。这意味着 $\\mathbb{P}(X_1 = X_2) = 0$，或者等价地，$X_1 \\neq X_2$ 几乎必然成立。由于变量是离散的，这意味着 $X_1 X_2 = -1$ 几乎必然成立。\n2. $(X_2, X_3)$ 的边缘分布必须是 $\\mu_{23}$。这意味着 $X_2 \\neq X_3$ 几乎必然成立，即 $X_2 X_3 = -1$ 几乎必然成立。\n3. $(X_3, X_1)$ 的边缘分布必须是 $\\mu_{31}$。这意味着 $X_3 \\neq X_1$ 几乎必然成立，即 $X_3 X_1 = -1$ 几乎必然成立。\n\n如果存在这样的联合分布，所有三个条件必须同时成立。让我们考虑这三个关系的乘积：\n$$ (X_1 X_2) (X_2 X_3) (X_3 X_1) = (-1)(-1)(-1) = -1 $$\n方程的左边可以重新排列：\n$$ (X_1 X_2) (X_2 X_3) (X_3 X_1) = X_1^2 X_2^2 X_3^2 = (X_1 X_2 X_3)^2 $$\n由于每个 $X_i$ 的取值为 $\\{-1,1\\}$，乘积 $X_1 X_2 X_3$ 的取值也必须在 $\\{-1,1\\}$ 中。因此，它的平方必须是 $1$：\n$$ (X_1 X_2 X_3)^2 = 1 $$\n结合这些结果，我们得到矛盾 $1 = -1$。\n这个矛盾表明我们最初的假设是错误的。不存在这样的联合概率测度 $\\mu_{123}$。\n\n### 第3部分：量化障碍\n\n我们被要求找到量 $S = \\mathbb{P}(X_{1}=X_{2}) + \\mathbb{P}(X_{2}=X_{3}) + \\mathbb{P}(X_{3}=X_{1})$ 在三个取值于 $E=\\{-1,1\\}$ 的随机变量 $(X_1, X_2, X_3)$ 的所有可能联合分布下的紧下界 $L$。\n\n令 $A_1$ 为事件 $X_1=X_2$, $A_2$ 为事件 $X_2=X_3$, $A_3$ 为事件 $X_3=X_1$。该量为 $S = \\mathbb{P}(A_1) + \\mathbb{P}(A_2) + \\mathbb{P}(A_3)$。\n\n考虑样本空间 $\\{-1,1\\}^3$ 中的任意结果 $(x_1, x_2, x_3)$。根据鸽巢原理，由于有3个变量但只有2个可能的值，所以至少有两个变量必须取相同的值。换句话说，对于任何结果，条件 $x_1=x_2$、$x_2=x_3$ 或 $x_3=x_1$ 中至少有一个必须为真。这意味着事件 $A_1, A_2, A_3$ 的并集覆盖了整个样本空间：\n$$ A_1 \\cup A_2 \\cup A_3 = \\Omega $$\n因此，$\\mathbb{P}(A_1 \\cup A_2 \\cup A_3) = 1$。\n\n使用三个事件的容斥原理：\n$$ \\mathbb{P}(A_1 \\cup A_2 \\cup A_3) = \\mathbb{P}(A_1) + \\mathbb{P}(A_2) + \\mathbb{P}(A_3) - \\left( \\mathbb{P}(A_1 \\cap A_2) + \\mathbb{P}(A_2 \\cap A_3) + \\mathbb{P}(A_3 \\cap A_1) \\right) + \\mathbb{P}(A_1 \\cap A_2 \\cap A_3) $$\n注意到 $S = \\mathbb{P}(A_1) + \\mathbb{P}(A_2) + \\mathbb{P}(A_3)$，我们有：\n$$ 1 = S - \\left( \\mathbb{P}(A_1 \\cap A_2) + \\mathbb{P}(A_2 \\cap A_3) + \\mathbb{P}(A_3 \\cap A_1) \\right) + \\mathbb{P}(A_1 \\cap A_2 \\cap A_3) $$\n让我们分析交集事件：\n- $A_1 \\cap A_2$ 是事件 $\\{X_1=X_2 \\text{ 且 } X_2=X_3\\}$，这等价于 $\\{X_1=X_2=X_3\\}$。\n- $A_2 \\cap A_3$ 是事件 $\\{X_2=X_3 \\text{ 且 } X_3=X_1\\}$，这也是 $\\{X_1=X_2=X_3\\}$。\n- $A_3 \\cap A_1$ 是事件 $\\{X_3=X_1 \\text{ 且 } X_1=X_2\\}$，这也是 $\\{X_1=X_2=X_3\\}$。\n- $A_1 \\cap A_2 \\cap A_3$ 显然也是事件 $\\{X_1=X_2=X_3\\}$。\n\n令 $p_{\\text{all}} = \\mathbb{P}(X_1=X_2=X_3)$。容斥公式简化为：\n$$ 1 = S - (p_{\\text{all}} + p_{\\text{all}} + p_{\\text{all}}) + p_{\\text{all}} $$\n$$ 1 = S - 3p_{\\text{all}} + p_{\\text{all}} $$\n$$ 1 = S - 2p_{\\text{all}} $$\n解出 $S$，我们得到恒等式：\n$$ S = 1 + 2p_{\\text{all}} = 1 + 2\\mathbb{P}(X_1=X_2=X_3) $$\n要找到 $S$ 的紧下界 $L$，我们需要找到右边的最小可能值。由于 $\\mathbb{P}(X_1=X_2=X_3)$ 是一个概率，其值下界为 $0$。$S$ 的最小值在 $\\mathbb{P}(X_1=X_2=X_3)$ 取最小值时达到。\n$$ L = \\min(S) = 1 + 2 \\cdot \\min(\\mathbb{P}(X_1=X_2=X_3)) = 1 + 2 \\cdot 0 = 1 $$\n这个下界 $L=1$ 是可以达到的。例如，考虑将所有概率质量放在结果 $(1, 1, -1)$ 上的联合分布。对于这个分布, $\\mathbb{P}(X_1=X_2=X_3) = \\mathbb{P}(1,1,1) + \\mathbb{P}(-1,-1,-1) = 0 + 0 = 0$。$S$ 的值为 $\\mathbb{P}(X_1=X_2) + \\mathbb{P}(X_2=X_3) + \\mathbb{P}(X_3=X_1) = 1 + 0 + 0 = 1$。因此，紧下界是 $L=1$。\n\n**不可能性的证明**\n\n这个结果证明了第2部分中展示的不可能性。任何在 $\\{-1,1\\}^3$ 上的有效联合概率分布都必须满足 $S \\ge 1$。\n然而，第2部分中的二元律集合 $\\{\\mu_{12}, \\mu_{23}, \\mu_{31}\\}$ 将要求一个假设的联合分布具有满足以下条件的边缘分布：\n- $\\mathbb{P}(X_1=X_2) = \\mu_{12}(X_1=X_2) = 0$\n- $\\mathbb{P}(X_2=X_3) = \\mu_{23}(X_2=X_3) = 0$\n- $\\mathbb{P}(X_3=X_1) = \\mu_{31}(X_3=X_1) = 0$\n对于这样的分布，$S$ 的值将是 $S = 0 + 0 + 0 = 0$。\n由于 $0  1$，这违反了必要条件 $S \\ge 1$。这个矛盾提供了一个定量的证明，说明这样的联合分布不可能存在。\n紧下界是 $L=1$。", "answer": "$$\\boxed{1}$$", "id": "3062997"}]}