{"hands_on_practices": [{"introduction": "复合泊松过程在许多现实场景中用于建模累积效应，例如保险索赔、网络流量或本例中的网络安全风险。本练习旨在帮助您掌握计算该过程期望值的基本技能，这是理解和预测系统长期行为的第一步。通过沃尔德恒等式（Wald's Identity），我们将看到总风险的期望值可以简洁地分解为事件发生率和单次事件平均风险的乘积。[@problem_id:1290809]", "problem": "一家网络安全公司监控一个企业网络以防范安全威胁。重大安全漏洞的发生遵循泊松过程，平均速率为每小时 $\\lambda = 5$ 次。当漏洞发生时，会为其分配一个风险分数。该分数的值是一个随机变量，与发生时间及所有其他漏洞无关。单个漏洞分数的概率分布如下：分数为10的概率为0.6，分数为50的概率为0.3，分数为100的概率为0.1。\n\n如果在工作日开始时，网络的总风险分数为零，那么在8小时后，预期的总风险分数是多少？", "solution": "设 $N(t)$ 表示时间 $t$ 内的漏洞数量，其模型为速率为 $\\lambda$ 的泊松过程，并设 $\\{X_{i}\\}$ 为独立同分布的漏洞分数，与 $N(t)$ 无关。到时间 $t$ 累积的总风险分数是复合泊松和\n$$\nS(t)=\\sum_{i=1}^{N(t)} X_{i}.\n$$\n根据全期望定律和独立性，\n$$\n\\mathbb{E}[S(t)]=\\mathbb{E}\\big[\\mathbb{E}[S(t)\\mid N(t)]\\big]=\\mathbb{E}\\big[N(t)\\mathbb{E}[X]\\big]=\\mathbb{E}[N(t)]\\,\\mathbb{E}[X].\n$$\n对于泊松过程，$\\mathbb{E}[N(t)]=\\lambda t$。当每小时 $\\lambda=5$ 且 $t=8$ 小时，\n$$\n\\mathbb{E}[N(8)]=5\\cdot 8=40.\n$$\n漏洞分数 $X$ 的分布为 $P(X=10)=0.6$，$P(X=50)=0.3$ 和 $P(X=100)=0.1$，所以\n$$\n\\mathbb{E}[X]=10\\cdot 0.6+50\\cdot 0.3+100\\cdot 0.1=6+15+10=31.\n$$\n因此，\n$$\n\\mathbb{E}[S(8)]=\\lambda\\cdot 8\\cdot \\mathbb{E}[X]=5\\cdot 8\\cdot 31=40\\cdot 31=1240.\n$$", "answer": "$$\\boxed{1240}$$", "id": "1290809"}, {"introduction": "在了解了如何计算复合泊松过程的期望值之后，下一步自然是量化其结果的不确定性或波动性。本练习将引导您计算复合泊松过程的方差，这在风险管理中至关重要，例如确定需要为极端天气事件或大量保险索赔准备多少储备金。我们将运用全方差公式，该公式揭示了总方差如何由跳跃次数的方差和跳跃大小的方差共同贡献。[@problem_id:1349670]", "problem": "在一个偏远的北极研究站，冬季发生的强暴风雪次数被建模为一个泊松随机变量，其平均值为每季5次暴风雪。每次暴风雪的降雪量是一个独立的、同分布的随机变量，在0.5米和2.5米之间均匀分布。设一个冬季的总降雪量为该季节发生的所有暴风雪的降雪量之和。如果没有暴风雪发生，总降雪量为零。计算总季节降雪量的方差。以平方米为单位表示您的答案，并四舍五入到三位有效数字。", "solution": "设 $N$ 是表示一季中暴风雪次数的随机变量。我们已知 $N$ 服从均值为5的泊松分布。泊松分布的参数 $\\lambda$ 等于其均值。\n$$N \\sim \\text{Poisson}(\\lambda=5)$$\n对于泊松分布，期望和方差都等于参数 $\\lambda$。\n$$E[N] = \\lambda = 5$$\n$$\\text{Var}(N) = \\lambda = 5$$\n\n设 $S_i$ 是第 $i$ 次暴风雪降雪量的随机变量。变量 $S_i$ 是独立同分布的（i.i.d.）。我们已知每次暴风雪的降雪量服从区间 $[a, b]$ 上的均匀分布，其中 $a = 0.5$ 米，$b = 2.5$ 米。\n$$S_i \\sim U(0.5, 2.5)$$\n在 $[a, b]$ 上的均匀随机变量的期望（均值）由 $E[S_i] = \\frac{a+b}{2}$ 给出。\n$$E[S] = \\frac{0.5 + 2.5}{2} = \\frac{3}{2} = 1.5 \\text{ 米}$$\n在 $[a, b]$ 上的均匀随机变量的方差由 $\\text{Var}(S_i) = \\frac{(b-a)^2}{12}$ 给出。\n$$\\text{Var}(S) = \\frac{(2.5 - 0.5)^2}{12} = \\frac{2^2}{12} = \\frac{4}{12} = \\frac{1}{3} \\text{ 平方米}$$\n这里，$E[S]$ 和 $\\text{Var}(S)$ 对所有 $S_i$ 都是相同的，所以我们省略下标。\n\n总季节降雪量 $X$ 是每次暴风雪降雪量的总和。这可以写成一个随机和：\n$$X = \\sum_{i=1}^{N} S_i$$\n我们需要求 $X$ 的方差，即 $\\text{Var}(X)$。这是一个复合随机变量。我们可以使用全方差公式（也称为条件方差公式）来计算其方差：\n$$\\text{Var}(X) = E[\\text{Var}(X|N)] + \\text{Var}(E[X|N])$$\n\n首先，我们求在给定 $N=n$ 的条件下 $X$ 的条件期望：\n$$E[X|N=n] = E\\left[\\sum_{i=1}^{n} S_i\\right]$$\n根据期望的线性性质，这变成：\n$$E[X|N=n] = \\sum_{i=1}^{n} E[S_i] = n E[S]$$\n因此，$E[X|N]$ 是一个由 $N \\cdot E[S]$ 给出的随机变量。\n\n接下来，我们求在给定 $N=n$ 的条件下 $X$ 的条件方差。由于 $S_i$ 是独立的：\n$$\\text{Var}(X|N=n) = \\text{Var}\\left(\\sum_{i=1}^{n} S_i\\right) = \\sum_{i=1}^{n} \\text{Var}(S_i) = n \\text{Var}(S)$$\n因此，$\\text{Var}(X|N)$ 是一个由 $N \\cdot \\text{Var}(S)$ 给出的随机变量。\n\n现在我们将这些表达式代回全方差公式。\n对于第一项：\n$$E[\\text{Var}(X|N)] = E[N \\cdot \\text{Var}(S)]$$\n由于 $\\text{Var}(S)$ 是一个常数，我们可以将其从期望中提出：\n$$E[\\text{Var}(X|N)] = \\text{Var}(S) E[N]$$\n\n对于第二项：\n$$\\text{Var}(E[X|N]) = \\text{Var}(N \\cdot E[S])$$\n使用性质 $\\text{Var}(c Y) = c^2 \\text{Var}(Y)$（其中 $c$ 是常数，$Y$ 是随机变量），并注意到 $E[S]$ 是一个常数：\n$$\\text{Var}(E[X|N]) = (E[S])^2 \\text{Var}(N)$$\n\n结合这两项，我们得到了复合泊松过程方差的公式，有时也称为沃尔德方差恒等式：\n$$\\text{Var}(X) = E[N] \\text{Var}(S) + \\text{Var}(N) (E[S])^2$$\n现在，我们代入之前计算出的数值：\n$$E[N] = 5, \\quad \\text{Var}(N) = 5$$\n$$E[S] = 1.5, \\quad \\text{Var}(S) = \\frac{1}{3}$$\n\n$$\\text{Var}(X) = (5) \\left(\\frac{1}{3}\\right) + (5) (1.5)^2$$\n$$\\text{Var}(X) = \\frac{5}{3} + 5 \\cdot (2.25)$$\n$$\\text{Var}(X) = \\frac{5}{3} + 11.25$$\n为了将它们相加，我们可以使用小数：\n$$\\text{Var}(X) \\approx 1.6666... + 11.25 = 12.91666... \\text{ 平方米}$$\n\n题目要求答案四舍五入到三位有效数字。前三位有效数字是1、2和9。第四位数字是1，所以我们向下舍入。\n$$\\text{Var}(X) \\approx 12.9 \\text{ 平方米}$$", "answer": "$$\\boxed{12.9}$$", "id": "1349670"}, {"introduction": "虽然期望和方差为了解一个随机过程提供了宝贵的快照，但它们并不能描绘出完整的画面。为了更深入地分析复合泊松过程的分布特性，我们引入拉普拉斯变换这一强大工具。本练习将指导您推导复合泊松过程的拉普拉斯变换，这是金融数学和风险理论等领域中计算更复杂量（如破产概率或衍生品定价）的基石。[@problem_id:3044840]", "problem": "设 $\\{N_t\\}_{t \\geq 0}$ 是一个速率为 $\\lambda > 0$ 的泊松过程。设 $\\{Y_i\\}_{i \\geq 1}$ 是独立同分布（i.i.d.）的跳跃大小，其分布为 $\\mathrm{Exp}(\\mu)$，其中 $\\mu > 0$。并假设 $\\{Y_i\\}_{i \\geq 1}$ 与 $\\{N_t\\}_{t \\geq 0}$ 独立。定义复合泊松过程 $X_t = \\sum_{i=1}^{N_t} Y_i$ (其中 $t \\geq 0$)，并约定空和为 $0$。对于固定的 $t > 0$ 和拉普拉斯参数 $q \\geq 0$，计算拉普拉斯变换 $E[\\exp(-q X_t)]$，将其表示为 $\\lambda$、$\\mu$、$t$ 和 $q$ 的闭式函数。您的最终答案必须是单一的解析表达式。不要提供不等式或包含未指定常数的方程。无需四舍五入。", "solution": "该问题要求计算复合泊松过程 $X_t$ 的拉普拉斯变换，其中 $X_t = \\sum_{i=1}^{N_t} Y_i$。已知 $\\{N_t\\}_{t \\geq 0}$ 是一个常数速率为 $\\lambda > 0$ 的泊松过程，$\\{Y_i\\}_{i \\geq 1}$ 代表一个独立同分布（i.i.d.）的随机变量序列，对应于跳跃的大小。每个 $Y_i$ 服从速率参数为 $\\mu > 0$ 的指数分布，记作 $Y_i \\sim \\mathrm{Exp}(\\mu)$。跳跃大小集合 $\\{Y_i\\}_{i \\geq 1}$ 与泊松过程 $\\{N_t\\}_{t \\geq 0}$ 独立。目标是对于固定的时间 $t > 0$ 和拉普拉斯参数 $q \\geq 0$，求出 $E[\\exp(-q X_t)]$ 的闭式表达式。\n\n$X_t$ 的结构涉及一个和，其项数 $N_t$ 本身是一个随机变量。计算此类量期望的标准方法是使用全期望定律（也称为塔性质）。我们以到时间 $t$ 为止发生的跳跃次数为条件，该次数由随机变量 $N_t$ 给出。\n因此，$X_t$ 的拉普拉斯变换为：\n$$ E[\\exp(-q X_t)] = E \\left[ E[\\exp(-q X_t) | N_t] \\right] $$\n首先，我们计算内部的条件期望 $E[\\exp(-q X_t) | N_t = n]$，其中 $n$ 为非负整数。当我们以 $N_t=n$ 为条件时，该和式变成一个固定项数的和：\n$$ E[\\exp(-q X_t) | N_t = n] = E\\left[\\exp\\left(-q \\sum_{i=1}^{n} Y_i\\right) | N_t = n\\right] $$\n根据问题陈述，跳跃大小 $\\{Y_i\\}$ 与过程 $\\{N_t\\}$ 独立。因此，在给定 $N_t=n$ 的条件下，$Y_i$ 的条件分布与其无条件分布相同。这使我们可以从涉及 $Y_i$ 的期望中移除 $N_t=n$ 这个条件：\n$$ E[\\exp(-q X_t) | N_t = n] = E\\left[\\exp\\left(-q \\sum_{i=1}^{n} Y_i\\right)\\right] $$\n对于 $n=0$，和为空，根据约定等于 $0$。因此 $X_t=0$，且 $E[\\exp(-q \\cdot 0) | N_t = 0] = E[1] = 1$。\n对于 $n > 0$，由于随机变量 $Y_i$ 是独立同分布的，和的指数变成了指数的乘积。这个乘积的期望是个体期望的乘积：\n$$ E\\left[\\exp\\left(-q \\sum_{i=1}^{n} Y_i\\right)\\right] = E\\left[\\prod_{i=1}^{n} \\exp(-q Y_i)\\right] = \\prod_{i=1}^{n} E[\\exp(-q Y_i)] $$\n由于所有 $Y_i$ 具有相同的分布，这可以简化为：\n$$ \\left(E[\\exp(-q Y_1)]\\right)^n $$\n项 $E[\\exp(-q Y_1)]$ 是单个跳跃大小 $Y_1$ 的拉普拉斯变换。由于 $Y_1 \\sim \\mathrm{Exp}(\\mu)$，其概率密度函数为 $f_{Y_1}(y) = \\mu e^{-\\mu y}$ (对于 $y \\geq 0$) 。我们如下计算其拉普拉斯变换 $\\mathcal{L}_{Y_1}(q)$：\n$$ \\mathcal{L}_{Y_1}(q) = E[\\exp(-q Y_1)] = \\int_0^\\infty e^{-qy} (\\mu e^{-\\mu y}) dy = \\mu \\int_0^\\infty e^{-(\\mu+q)y} dy $$\n鉴于 $\\mu > 0$ 和 $q \\geq 0$，和 $\\mu+q$ 严格为正，确保了积分的收敛性。\n$$ \\mathcal{L}_{Y_1}(q) = \\mu \\left[ -\\frac{1}{\\mu+q} e^{-(\\mu+q)y} \\right]_{y=0}^{y=\\infty} = \\mu \\left( 0 - \\left(-\\frac{1}{\\mu+q} e^0\\right) \\right) = \\frac{\\mu}{\\mu+q} $$\n将此结果代回，条件期望为：\n$$ E[\\exp(-q X_t) | N_t = n] = \\left(\\frac{\\mu}{\\mu+q}\\right)^n $$\n这个公式对于 $n=0$ 正确地给出了 $1$，与我们之前的观察一致。\n\n现在，我们对 $N_t$ 的分布进行外部期望计算。\n$$ E[\\exp(-q X_t)] = E\\left[ \\left(\\frac{\\mu}{\\mu+q}\\right)^{N_t} \\right] $$\n随机变量 $N_t$ 服从参数（均值）为 $\\lambda t$ 的泊松分布。其概率质量函数（PMF）由 $P(N_t=n) = \\frac{e^{-\\lambda t}(\\lambda t)^n}{n!}$ 给出，其中 $n \\in \\{0, 1, 2, \\dots\\}$。因此，期望是关于所有可能的 $n$ 值的和：\n$$ E\\left[ \\left(\\frac{\\mu}{\\mu+q}\\right)^{N_t} \\right] = \\sum_{n=0}^{\\infty} \\left(\\frac{\\mu}{\\mu+q}\\right)^n P(N_t=n) = \\sum_{n=0}^{\\infty} \\left(\\frac{\\mu}{\\mu+q}\\right)^n \\frac{e^{-\\lambda t}(\\lambda t)^n}{n!} $$\n我们可以重新排列和中的项：\n$$ = e^{-\\lambda t} \\sum_{n=0}^{\\infty} \\frac{1}{n!} \\left( \\lambda t \\frac{\\mu}{\\mu+q} \\right)^n $$\n该求和是指数函数的泰勒级数展开，$\\sum_{n=0}^{\\infty} \\frac{z^n}{n!} = e^z$，其中 $z = \\lambda t \\frac{\\mu}{\\mu+q}$。\n$$ E[\\exp(-q X_t)] = e^{-\\lambda t} \\exp\\left(\\lambda t \\frac{\\mu}{\\mu+q}\\right) $$\n合并指数，我们得到：\n$$ = \\exp\\left(-\\lambda t + \\lambda t \\frac{\\mu}{\\mu+q}\\right) = \\exp\\left(\\lambda t \\left(-1 + \\frac{\\mu}{\\mu+q}\\right)\\right) $$\n简化括号中的项：\n$$ -1 + \\frac{\\mu}{\\mu+q} = \\frac{-(\\mu+q) + \\mu}{\\mu+q} = \\frac{-\\mu-q+\\mu}{\\mu+q} = \\frac{-q}{\\mu+q} $$\n将此代回期望的表达式中，得到最终结果：\n$$ E[\\exp(-q X_t)] = \\exp\\left(\\lambda t \\left(\\frac{-q}{\\mu+q}\\right)\\right) = \\exp\\left(-\\frac{\\lambda t q}{\\mu+q}\\right) $$\n这个表达式代表了复合泊松过程 $X_t$ 在 $q$ 处的拉普拉斯变换。", "answer": "$$\\boxed{\\exp\\left(-\\frac{\\lambda t q}{\\mu+q}\\right)}$$", "id": "3044840"}]}