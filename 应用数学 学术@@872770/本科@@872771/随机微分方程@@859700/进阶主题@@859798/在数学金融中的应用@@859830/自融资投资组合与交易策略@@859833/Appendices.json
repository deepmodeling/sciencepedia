{"hands_on_practices": [{"introduction": "要管理一个投资组合，我们首先必须理解其风险。这个练习运用随机分析来量化一个自融资投资组合的风险，通过计算其二次变分 $[V,V]_t$ 来实现。通过这个过程，你将揭示投资组合的波动性是如何由其在风险资产中的头寸直接驱动的[@problem_id:3073872]。", "problem": "考虑一个无摩擦市场，该市场建立在一个支撑标准布朗运动 $W_t$ 的带滤概率空间 $(\\Omega, \\mathcal{F}, (\\mathcal{F}_t)_{t \\ge 0}, \\mathbb{P})$ 上。风险资产价格过程 $S_t$ 服从几何布朗运动 (GBM)，其动态为 $dS_t = \\mu S_t\\,dt + \\sigma S_t\\,dW_t$，其中 $\\mu \\in \\mathbb{R}$ 和 $\\sigma > 0$ 是常数。货币市场账户 $B_t$ 满足 $dB_t = r B_t\\,dt$，其中 $r \\in \\mathbb{R}$ 为恒定的短期利率。\n\n一个交易策略由可预测过程 $(\\varphi_t, \\psi_t)$ 组成，分别代表在风险资产和货币市场账户中的持仓。假设 $(\\varphi_t, \\psi_t)$ 是自融资的，因此财富过程 $V_t = \\varphi_t S_t + \\psi_t B_t$ 的演化遵循 $dV_t = \\varphi_t\\,dS_t + \\psi_t\\,dB_t$。同时假设 $\\varphi_t$ 是可预测且平方可积的，以确保随机积分 $\\int_0^t \\varphi_s \\sigma S_s\\,dW_s$ 是良定的。\n\n仅使用随机微积分的基本概念和连续半鞅的二次变差定义，确定财富过程 $V_t$ 的二次变差 $[V,V]_t$，并用 $\\varphi$、$\\sigma$ 和 $S$ 表示。您的最终答案必须是 $[V,V]_t$ 的单一闭式解析表达式。", "solution": "该问题要求计算金融市场模型中财富过程 $V_t$ 的二次变差，记为 $[V,V]_t$。该市场由一个风险资产 $S_t$ 和一个无风险货币市场账户 $B_t$ 组成。\n\n风险资产 $S_t$ 的动态由几何布朗运动 (GBM) 描述：\n$$dS_t = \\mu S_t\\,dt + \\sigma S_t\\,dW_t$$\n其中 $\\mu$ 是恒定漂移，$\\sigma > 0$ 是恒定波动率，而 $W_t$ 是标准布朗运动。\n\n货币市场账户 $B_t$ 的动态由下式给出：\n$$dB_t = r B_t\\,dt$$\n其中 $r$ 是恒定的无风险利率。此过程是有限变差的，因为其路径相对于时间 $t$ 是可微的。\n\n财富过程 $V_t$ 由一个投资组合定义，该组合在风险资产中的持仓为 $\\varphi_t$，在货币市场账户中的持仓为 $\\psi_t$：\n$$V_t = \\varphi_t S_t + \\psi_t B_t$$\n该投资组合被假设为自融资的。这个关键条件意味着投资组合价值的变化完全由标的资产价格的变化引起，而非源于资本的注入或撤出。自融资条件的微分形式如下：\n$$dV_t = \\varphi_t\\,dS_t + \\psi_t\\,dB_t$$\n\n为了确定财富过程 $V_t$ 的动态，我们将 $dS_t$ 和 $dB_t$ 的表达式代入自融资方程：\n$$dV_t = \\varphi_t (\\mu S_t\\,dt + \\sigma S_t\\,dW_t) + \\psi_t (r B_t\\,dt)$$\n我们可以通过将包含 $dt$ 的项（漂移部分）和包含 $dW_t$ 的项（扩散部分）分组来重新整理此方程：\n$$dV_t = (\\varphi_t \\mu S_t + \\psi_t r B_t)\\,dt + (\\varphi_t \\sigma S_t)\\,dW_t$$\n该表达式是财富过程 $V_t$ 的随机微分方程 (SDE)。它是一个标准 Itô 过程，形式为 $dX_t = a_t\\,dt + b_t\\,dW_t$，其中：\n- 漂移系数：$a_t = \\varphi_t \\mu S_t + \\psi_t r B_t$\n- 扩散系数：$b_t = \\varphi_t \\sigma S_t$\n\n问题要求计算 $V_t$ 的二次变差，记为 $[V,V]_t$。随机微积分中的一个基本概念是，对于任何一个作为 Itô 过程且 SDE 为 $dX_t = a_t\\,dt + b_t\\,dW_t$ 的连续半鞅 $X_t$，其二次变差由其扩散系数平方的积分给出。形式上，这写作：\n$$d[X,X]_t = b_t^2\\,dt$$\n从 $0$ 到 $t$ 积分后，得到：\n$$[X,X]_t = \\int_0^t b_s^2\\,ds$$\n这个结果源于 Itô 乘法规则，其中 $(dW_t)^2 = dt$，而 $(dt)^2 = 0$ 且 $dt\\,dW_t = 0$。二次变差捕捉了过程的“波动性”，并且仅对具有鞅部分的过程（例如由 $dW_t$ 驱动的过程）非零。有限变差部分（漂移项）对二次变差没有贡献。\n\n将此原理应用于我们的财富过程 $V_t$，我们确定其扩散系数为 $b_t = \\varphi_t \\sigma S_t$。将其代入二次变差的通用公式，得到：\n$$[V,V]_t = \\int_0^t (\\varphi_s \\sigma S_s)^2\\,ds$$\n展开积分内的平方，我们得到财富过程二次变差的最终表达式：\n$$[V,V]_t = \\int_0^t \\varphi_s^2 \\sigma^2 S_s^2\\,ds$$\n此表达式依赖于交易策略 $\\varphi_s$、资产价格过程 $S_s$ 和恒定波动率 $\\sigma$，正如问题陈述所要求的那样。它代表了投资组合扩散部分在时间区间 $[0, t]$ 上的累积方差。", "answer": "$$\\boxed{\\int_0^t \\varphi_s^{2} \\sigma^{2} S_s^{2}\\,ds}$$", "id": "3073872"}, {"introduction": "在金融学中，将货币的时间价值考虑在内之后，分析过程往往会变得更加简单。这个练习将引导你使用一种强大的技巧——将被记账单位（numéraire）更改为无风险资产。通过推导折现后财富过程 $\\tilde{V}_t$ 的随机微分方程，你将揭示资产定价理论中的一个基本原理[@problem_id:3073862]。", "problem": "考虑一个无摩擦的金融市场，其中有一个风险资产，其价格过程为$S_t$，还有一个货币市场账户，其价格过程为$B_t$。假设$S_t$和$B_t$遵循以下随机微分方程（SDEs）\n$$\ndS_t=\\mu_t S_t\\,dt+\\sigma_t S_t\\,dW_t,\\qquad dB_t=r_t B_t\\,dt,\n$$\n其中$W_t$是标准布朗运动，$\\mu_t$、$\\sigma_t$和$r_t$是适应过程，并具有足够的正则性以确保解的存在。一个交易策略包括在风险资产中的可预测持仓$\\varphi_t$和在货币市场账户中的可预测持仓$\\psi_t$，从而产生财富过程\n$$\nV_t=\\varphi_t S_t+\\psi_t B_t.\n$$\n该策略是自融资的，意味着财富的变化完全来自于所持资产的收益和损失：\n$$\ndV_t=\\varphi_t\\,dS_t+\\psi_t\\,dB_t.\n$$\n定义贴现过程$\\tilde{V}_t=V_t/B_t$和$\\tilde{S}_t=S_t/B_t$。从自融资策略的基本定义和给定的SDEs出发，从第一性原理推导贴现财富过程$\\tilde{V}_t$的随机微分，并在漂移项的层面上解释包含$r_t$的贡献项是如何抵消的。然后，用$\\varphi_t$, $S_t$, $B_t$, $\\mu_t$, $r_t$和$\\sigma_t$来表示$d\\tilde{V}_t$中的漂移系数（乘以$dt$的系数）。将你的最终答案表示为该漂移系数的单一闭式解析表达式。", "solution": "目标是推导贴现财富过程$\\tilde{V}_t = V_t/B_t$的随机微分，并确定其漂移系数。推导必须从所提供的定义和第一性原理开始。\n\n给定以下过程和定义：\n1.  货币市场账户：$dB_t = r_t B_t dt$\n2.  风险资产：$dS_t = \\mu_t S_t dt + \\sigma_t S_t dW_t$\n3.  财富过程：$V_t = \\varphi_t S_t + \\psi_t B_t$\n4.  自融资条件：$dV_t = \\varphi_t dS_t + \\psi_t dB_t$\n\n首先，我们将$S_t$和$B_t$的SDEs代入自融资条件，求出财富过程$dV_t$的随机微分：\n$$\ndV_t = \\varphi_t (\\mu_t S_t dt + \\sigma_t S_t dW_t) + \\psi_t (r_t B_t dt)\n$$\n合并$dt$和$dW_t$项，我们得到$V_t$的SDE：\n$$\ndV_t = (\\mu_t \\varphi_t S_t + r_t \\psi_t B_t) dt + (\\sigma_t \\varphi_t S_t) dW_t\n$$\n\n接下来，我们要找出贴现财富过程$d\\tilde{V}_t$的微分，其中$\\tilde{V}_t = V_t / B_t = V_t B_t^{-1}$。我们对两个过程$V_t$和$B_t^{-1}$的乘积应用Itô乘积法则：\n$$\nd\\tilde{V}_t = d(V_t B_t^{-1}) = B_t^{-1} dV_t + V_t d(B_t^{-1}) + d\\langle V, B^{-1} \\rangle_t\n$$\n为了使用这个公式，我们需要微分$d(B_t^{-1})$和$d\\langle V, B^{-1} \\rangle_t$。\n\n过程$B_t$是常微分方程$dB_t/dt = r_t B_t$的解。它没有随机（$dW_t$）分量。因此，它的逆$B_t^{-1}$的微分也没有随机分量。使用标准微积分（或对扩散项为零的过程使用Itô引理），我们得到：\n$$\nd(B_t^{-1}) = \\frac{d(B_t^{-1})}{dB_t} dB_t = -B_t^{-2} dB_t = -B_t^{-2} (r_t B_t dt) = -r_t B_t^{-1} dt\n$$\n\n二次协变项$d\\langle V, B^{-1} \\rangle_t$是通过将$dV_t$和$d(B_t^{-1})$中$dW_t$项的系数相乘，再乘以$dt$得到的。$V_t$的扩散系数是$\\sigma_t \\varphi_t S_t$。$B_t^{-1}$的扩散系数是$0$。因此：\n$$\nd\\langle V, B^{-1} \\rangle_t = (\\sigma_t \\varphi_t S_t) \\cdot (0) \\cdot dt = 0\n$$\n\n现在我们将$dV_t$、$d(B_t^{-1})$和$d\\langle V, B^{-1} \\rangle_t$的表达式代回$d\\tilde{V}_t$的公式中：\n$$\nd\\tilde{V}_t = B_t^{-1} \\left[ (\\mu_t \\varphi_t S_t + r_t \\psi_t B_t) dt + (\\sigma_t \\varphi_t S_t) dW_t \\right] + V_t \\left[ -r_t B_t^{-1} dt \\right] + 0\n$$\n\n我们现在收集$dt$项（漂移项）和$dW_t$项（扩散项）的系数：\n$$\nd\\tilde{V}_t = \\left[ B_t^{-1}(\\mu_t \\varphi_t S_t + r_t \\psi_t B_t) - r_t V_t B_t^{-1} \\right] dt + \\left[ B_t^{-1} \\sigma_t \\varphi_t S_t \\right] dW_t\n$$\n$d\\tilde{V}_t$的漂移系数是乘以$dt$的表达式：\n$$\n\\text{Drift Coefficient} = B_t^{-1}(\\mu_t \\varphi_t S_t + r_t \\psi_t B_t) - r_t V_t B_t^{-1}\n$$\n让我们简化这个表达式：\n$$\n\\text{Drift Coefficient} = \\frac{\\mu_t \\varphi_t S_t}{B_t} + \\frac{r_t \\psi_t B_t}{B_t} - \\frac{r_t V_t}{B_t} = \\frac{\\mu_t \\varphi_t S_t}{B_t} + r_t \\psi_t - \\frac{r_t V_t}{B_t}\n$$\n为了解释包含$r_t$的项是如何抵消的，我们将财富过程的定义$V_t = \\varphi_t S_t + \\psi_t B_t$代入表达式中：\n$$\n\\text{Drift Coefficient} = \\frac{\\mu_t \\varphi_t S_t}{B_t} + r_t \\psi_t - \\frac{r_t (\\varphi_t S_t + \\psi_t B_t)}{B_t}\n$$\n展开最后一项：\n$$\n\\text{Drift Coefficient} = \\frac{\\mu_t \\varphi_t S_t}{B_t} + r_t \\psi_t - \\left( \\frac{r_t \\varphi_t S_t}{B_t} + \\frac{r_t \\psi_t B_t}{B_t} \\right)\n$$\n$$\n\\text{Drift Coefficient} = \\frac{\\mu_t \\varphi_t S_t}{B_t} + r_t \\psi_t - \\frac{r_t \\varphi_t S_t}{B_t} - r_t \\psi_t\n$$\n在这里，我们明确地观察到抵消：$+r_t \\psi_t$项（来自于货币市场持仓$\\psi_t$的增长）被$-r_t \\psi_t$项（来自于对总财富$V_t$中货币市场部分的贴现）精确抵消。\n\n抵消后，剩余的漂移系数是：\n$$\n\\text{Drift Coefficient} = \\frac{\\mu_t \\varphi_t S_t}{B_t} - \\frac{r_t \\varphi_t S_t}{B_t}\n$$\n提取公因式，得到贴现财富过程$\\tilde{V}_t$的漂移系数的最终闭式表达式：\n$$\n\\text{Drift Coefficient} = \\frac{\\varphi_t S_t}{B_t} (\\mu_t - r_t)\n$$\n这一结果表明，贴现投资组合的增长率是由持有的贴现风险资产数量$\\varphi_t S_t / B_t$乘以风险资产相对于无风险利率的超额回报率$\\mu_t - r_t$驱动的。", "answer": "$$\n\\boxed{\\frac{\\varphi_t S_t}{B_t} (\\mu_t - r_t)}\n$$", "id": "3073862"}, {"introduction": "自融资投资组合理论有一个强大的实际应用：复制和定价金融衍生品。这个练习要求你构建一个具体的交易策略，使其在到期时能够完美匹配远期合约的收益。这个复制过程是现代衍生品定价的基石[@problem_id:3073898]。", "problem": "考虑一个无摩擦市场，该市场建立在一个支持标准布朗运动的带流概率空间上，包含一个风险资产和一个货币市场账户。风险资产价格过程 $S_t$ 遵循形式为 $dS_t=\\mu_t S_t\\,dt+\\sigma_t S_t\\,dW_t$ 的随机微分方程，其中 $\\mu_t$ 和 $\\sigma_t$ 是适应过程，且 $\\sigma_t>0$。货币市场账户 $B_t$ 根据 $dB_t=r_t B_t\\,dt$ 演变，其中 $B_0>0$， $r_t$ 是一个确定性的连续短利率过程，因此 $B_t=\\exp\\!\\left(\\int_0^t r_u\\,du\\right)B_0$。交易策略是一对可预测过程 $(\\varphi_t,\\psi_t)$，其中 $\\varphi_t$ 表示持有的风险资产份额数量，$\\psi_t$ 表示持有的货币市场单位数量。其价值为 $V_t=\\varphi_t S_t+\\psi_t B_t$。如果 $dV_t=\\varphi_t\\,dS_t+\\psi_t\\,dB_t$ 成立，则该策略是自融资的。\n\n您希望通过一个自融资策略，在到期日 $T>0$ 复制一个远期式收益 $H(S_T)=S_T-K$（其中 $K>0$ 为给定常数），并计算其初始成本。仅从上述定义出发，构建一个自融资且在时刻 $T$ 能复制 $H(S_T)$ 的时间依赖策略 $(\\varphi_t,\\psi_t)$，并严格验证其确实是自融资的。以闭合形式计算在 $t=0$ 和 $t=T$ 时的投资组合价值，并用 $S_0$、$S_T$、$K$、$B_0$ 和 $B_T$ 表示。\n\n将您的最终答案以行矩阵的形式写成一对 $\\left(V_0,V_T\\right)$。无需四舍五入。", "solution": "我们从自融资策略和货币市场账户的核心定义开始。根据定义，一个价值为 $V_t=\\varphi_t S_t+\\psi_t B_t$ 的策略 $(\\varphi_t,\\psi_t)$ 是自融资的，当且仅当\n$$\ndV_t=\\varphi_t\\,dS_t+\\psi_t\\,dB_t.\n$$\n我们寻求在 $t=T$ 时复制 $H(S_T)=S_T-K$。受收益结构的启发，一个自然的选择是持有一份风险资产，并做空一个在时间 $T$ 交付 $K$ 的货币市场头寸。因为 $r_t$ 是确定性的，所以 $B_T=\\exp\\!\\left(\\int_0^T r_u\\,du\\right)B_0$ 在时间 $0$ 是已知的。\n\n为了在时间 $T$ 使用货币市场交付 $K$，我们持有恒定数量的货币市场账户单位，等于\n$$\n\\psi_t\\equiv -\\frac{K}{B_T}\\quad\\text{对于所有 }t\\in[0,T].\n$$\n这个选择确保了在时间 $T$ 的货币市场头寸价值为 $\\psi_T B_T=-K$。为了产生收益中的 $S_T$ 部分，我们在所有时间内都持有一份风险资产：\n$$\n\\varphi_t\\equiv 1\\quad\\text{对于所有 }t\\in[0,T].\n$$\n因此，候选策略是 $(\\varphi_t,\\psi_t)=\\left(1,-K/B_T\\right)$。\n\n该策略的价值过程是\n$$\nV_t=\\varphi_t S_t+\\psi_t B_t=S_t-\\frac{K}{B_T}B_t=S_t-K\\,\\frac{B_t}{B_T}.\n$$\n在到期日 $t=T$ 时，我们有 $V_T=S_T-K\\,\\frac{B_T}{B_T}=S_T-K$，这与目标收益 $H(S_T)$ 相匹配。\n\n我们现在验证该策略是自融资的。直接从 $V_t=S_t-\\frac{K}{B_T}B_t$ 计算 $dV_t$：\n$$\ndV_t=dS_t-\\frac{K}{B_T}\\,dB_t.\n$$\n另一方面，根据构造，$\\varphi_t=1$ 和 $\\psi_t=-\\frac{K}{B_T}$ 是常数过程，因此自融资条件的右侧是\n$$\n\\varphi_t\\,dS_t+\\psi_t\\,dB_t=1\\cdot dS_t+\\left(-\\frac{K}{B_T}\\right)dB_t=dS_t-\\frac{K}{B_T}\\,dB_t.\n$$\n因此 $dV_t=\\varphi_t\\,dS_t+\\psi_t\\,dB_t$ 恒成立，所以该策略是自融资的。\n\n最后，计算在 $t=0$ 和 $t=T$ 时的投资组合价值：\n- 在 $t=0$ 时，\n$$\nV_0=S_0-\\frac{K}{B_T}B_0=S_0-K\\,\\frac{B_0}{B_T}.\n$$\n- 在 $t=T$ 时，\n$$\nV_T=S_T-\\frac{K}{B_T}B_T=S_T-K.\n$$\n这些是以 $S_0$、$S_T$、$K$、$B_0$ 和 $B_T$ 表示的闭合形式表达式。如果进一步写出 $B_t=\\exp\\!\\left(\\int_0^t r_u\\,du\\right)B_0$ 且 $B_0>0$，那么 $\\frac{B_0}{B_T}=\\exp\\!\\left(-\\int_0^T r_u\\,du\\right)$，这就得到了我们熟悉的对行权价进行现值贴现的形式。然而，所要求的表达式已经按照要求用 $B_0$ 和 $B_T$ 给出。", "answer": "$$\\boxed{\\begin{pmatrix}S_0-K\\,\\dfrac{B_0}{B_T}  S_T-K\\end{pmatrix}}$$", "id": "3073898"}]}