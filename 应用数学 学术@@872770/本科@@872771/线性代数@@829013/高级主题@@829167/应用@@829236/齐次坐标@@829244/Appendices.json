{"hands_on_practices": [{"introduction": "齐次坐标在计算机图形学中的一个主要优势是能够将所有常见的几何变换——如缩放、旋转和平移——统一用矩阵乘法来表示。这使得一系列复杂的变换可以被“浓缩”成一个单一的变换矩阵，极大地提高了计算效率。本练习将带你亲手构建并应用一系列变换矩阵，从而掌握在2D平面上操纵物体的核心技巧。[@problem_id:1366415]", "problem": "在一个二维计算机图形应用中，一个粒子的位置通过一系列用齐次坐标表示的线性变换进行操作。粒子初始位于笛卡尔坐标 $P = (2, 3)$。它按指定顺序经历以下三个变换：\n\n1.  应用一个非均匀缩放变换，该变换将任意点 $(x, y)$ 映射到 $(2x, 0.5y)$。\n2.  接着坐标系绕原点逆时针旋转 $90$ 度。\n3.  最后，整个场景按向量 $(5, -1)$ 平移。\n\n使用齐次坐标系中的矩阵运算，确定经过这一系列变换后粒子的最终笛卡尔坐标。", "solution": "我们将点表示为齐次列向量，并按给定顺序通过左乘其齐次矩阵来应用变换。初始点为 $P=(2,3)$，所以其齐次形式为 $P_{h}=\\begin{pmatrix}2\\\\3\\\\1\\end{pmatrix}$。\n\n非均匀缩放 $(x,y)\\mapsto(2x, \\frac{1}{2}y)$ 的矩阵为\n$$\nS=\\begin{pmatrix}\n2 & 0 & 0\\\\\n0 & \\frac{1}{2} & 0\\\\\n0 & 0 & 1\n\\end{pmatrix}.\n$$\n绕原点逆时针旋转 $\\theta=\\frac{\\pi}{2}$ 的矩阵为\n$$\nR=\\begin{pmatrix}\n\\cos\\left(\\frac{\\pi}{2}\\right) & -\\sin\\left(\\frac{\\pi}{2}\\right) & 0\\\\\n\\sin\\left(\\frac{\\pi}{2}\\right) & \\cos\\left(\\frac{\\pi}{2}\\right) & 0\\\\\n0 & 0 & 1\n\\end{pmatrix}\n=\\begin{pmatrix}\n0 & -1 & 0\\\\\n1 & 0 & 0\\\\\n0 & 0 & 1\n\\end{pmatrix}.\n$$\n按 $(5,-1)$ 平移的矩阵为\n$$\nT=\\begin{pmatrix}\n1 & 0 & 5\\\\\n0 & 1 & -1\\\\\n0 & 0 & 1\n\\end{pmatrix}.\n$$\n总变换为 $M=T R S$。首先计算\n$$\nR S=\\begin{pmatrix}\n0 & -1 & 0\\\\\n1 & 0 & 0\\\\\n0 & 0 & 1\n\\end{pmatrix}\n\\begin{pmatrix}\n2 & 0 & 0\\\\\n0 & \\frac{1}{2} & 0\\\\\n0 & 0 & 1\n\\end{pmatrix}\n=\\begin{pmatrix}\n0 & -\\frac{1}{2} & 0\\\\\n2 & 0 & 0\\\\\n0 & 0 & 1\n\\end{pmatrix},\n$$\n然后\n$$\nM=T(RS)=\n\\begin{pmatrix}\n1 & 0 & 5\\\\\n0 & 1 & -1\\\\\n0 & 0 & 1\n\\end{pmatrix}\n\\begin{pmatrix}\n0 & -\\frac{1}{2} & 0\\\\\n2 & 0 & 0\\\\\n0 & 0 & 1\n\\end{pmatrix}\n=\\begin{pmatrix}\n0 & -\\frac{1}{2} & 5\\\\\n2 & 0 & -1\\\\\n0 & 0 & 1\n\\end{pmatrix}.\n$$\n将 $M$ 应用于 $P_{h}$：\n$$\nP_{f,h}=M P_{h}\n=\\begin{pmatrix}\n0 & -\\frac{1}{2} & 5\\\\\n2 & 0 & -1\\\\\n0 & 0 & 1\n\\end{pmatrix}\n\\begin{pmatrix}\n2 \\\\\n3 \\\\\n1\n\\end{pmatrix}\n=\n\\begin{pmatrix}\n-\\frac{3}{2}+5 \\\\\n4-1 \\\\\n1\n\\end{pmatrix}\n=\n\\begin{pmatrix}\n\\frac{7}{2} \\\\\n3 \\\\\n1\n\\end{pmatrix}.\n$$\n因此，最终的笛卡尔坐标为 $\\left(\\frac{7}{2},\\,3\\right)$。", "answer": "$$\\boxed{\\begin{pmatrix} \\frac{7}{2} & 3 \\end{pmatrix}}$$", "id": "1366415"}, {"introduction": "在射影几何中，点和线之间存在一种优美的对称性，即“对偶原理”。齐次坐标完美地体现了这一原理，使得点和线可以用相似的向量形式表示。这种代数上的对称性带来了一些强大的计算捷径，例如，计算两条直线的交点，可以简化为计算它们齐次坐标向量的叉积。这个练习将让你体验到齐次坐标是如何将一个几何问题转化为一个简洁的代数运算的。[@problem_id:1366468]", "problem": "在二维笛卡尔平面中，一个坐标为 $(x, y)$ 的点可以用一个三维向量 $\\mathbf{p} = (x_h, y_h, w_h)^T$ 的齐次坐标来表示，其中对于任意非零标量 $w_h$，有 $x = x_h/w_h$ 和 $y = y_h/w_h$。其规范表示通常选择 $w_h=1$，使得 $\\mathbf{p} = (x, y, 1)^T$。\n\n类似地，一条由方程 $ax+by+c=0$ 定义的直线可以用一个齐次坐标向量 $\\mathbf{l} = (a, b, c)^T$ 来表示。连接这些表示的一个基本性质是关联关系：由 $\\mathbf{p}$ 表示的点在由 $\\mathbf{l}$ 表示的直线上，当且仅当它们的向量点积为零，即 $\\mathbf{l}^T \\mathbf{p} = 0$。\n\n考虑笛卡尔平面中的两条直线 $L_1$ 和 $L_2$，它们分别由方程 $y = x+1$ 和 $y = -2x+4$ 定义。\n\n您的任务是使用齐次坐标的代数框架，求出直线 $L_1$ 和 $L_2$ 交点的笛卡尔坐标。请将您的最终答案表示为一个 $1 \\times 2$ 的行矩阵，其中按顺序包含 $x$ 和 $y$ 的坐标，并以精确值的形式给出。", "solution": "一条由 $ax + by + c = 0$ 给出的直线在齐次坐标中表示为 $\\mathbf{l} = (a, b, c)^{T}$。一个点 $\\mathbf{p} = (x_{h}, y_{h}, w_{h})^{T}$ 在该直线上，当且仅当关联关系 $\\mathbf{l}^{T}\\mathbf{p} = 0$ 成立。两条直线 $\\mathbf{l}_{1}$ 和 $\\mathbf{l}_{2}$ 的交点是齐次点 $\\mathbf{p} = \\mathbf{l}_{1} \\times \\mathbf{l}_{2}$，其定义相差一个非零的比例因子。\n\n首先，将给定的直线方程转换为标准形式 $ax + by + c = 0$：\n对于 $L_{1}: y = x + 1$，我们写作 $y - x - 1 = 0$，因此\n$$\n\\mathbf{l}_{1} = (-1, 1, -1)^{T}.\n$$\n对于 $L_{2}: y = -2x + 4$，我们写作 $y + 2x - 4 = 0$，因此\n$$\n\\mathbf{l}_{2} = (2, 1, -4)^{T}.\n$$\n\n计算交点为叉积 $\\mathbf{p} = \\mathbf{l}_{1} \\times \\mathbf{l}_{2}$：\n$$\n\\mathbf{p} = \n\\begin{vmatrix}\n\\mathbf{i} & \\mathbf{j} & \\mathbf{k} \\\\\n-1 & 1 & -1 \\\\\n2 & 1 & -4\n\\end{vmatrix}\n= \\mathbf{i}\\,(1\\cdot(-4) - (-1)\\cdot 1) - \\mathbf{j}\\,((-1)\\cdot(-4) - (-1)\\cdot 2) + \\mathbf{k}\\,((-1)\\cdot 1 - 1\\cdot 2).\n$$\n因此，\n$$\n\\mathbf{p} = (-3, -6, -3)^{T}.\n$$\n\n齐次点的定义可相差一个非零比例因子，所以我们将 $\\mathbf{p}$ 乘以 $-\\frac{1}{3}$ 以缩放到 $w_{h} = 1$ 的规范形式：\n$$\n\\mathbf{p} \\sim (1, 2, 1)^{T}.\n$$\n使用 $x = \\frac{x_{h}}{w_{h}}$ 和 $y = \\frac{y_{h}}{w_{h}}$ 将其转换为笛卡尔坐标：\n$$\nx = \\frac{1}{1} = 1, \\quad y = \\frac{2}{1} = 2.\n$$\n\n作为检验，我们用 $\\mathbf{p} = (1, 2, 1)^{T}$ 来验证两条直线的关联关系：\n$$\n\\mathbf{l}_{1}^{T}\\mathbf{p} = (-1)\\cdot 1 + 1\\cdot 2 + (-1)\\cdot 1 = 0, \\quad\n\\mathbf{l}_{2}^{T}\\mathbf{p} = 2\\cdot 1 + 1\\cdot 2 + (-4)\\cdot 1 = 0,\n$$\n确认了该点在两条直线上。因此，交点的笛卡尔坐标为 $(1, 2)$。", "answer": "$$\\boxed{\\begin{pmatrix}1 & 2\\end{pmatrix}}$$", "id": "1366468"}, {"introduction": "“平行线相交于无穷远”是射影几何中最引人入胜的概念之一，它统一了欧几里得几何中相交与平行的区别。齐次坐标为我们处理这些被称为“无穷远点”的特殊点提供了具体的代数工具。通过这个练习，你将学会如何计算无穷远点的坐标，并将其用于后续的几何构造中，从而深刻理解齐次坐标是如何扩展我们对几何空间的认识的。[@problem_id:2168637]", "problem": "在实射影平面 $\\mathbb{P}^2$ 中，几何对象用齐次坐标表示。一个仿射坐标为 $(x, y)$ 的点由齐次坐标的等价类 $(kX, kY, kW)$ 表示，其中 $k$ 为任意非零标量，$W \\neq 0$，$x=X/W$ 且 $y=Y/W$。$W=0$ 的点被称为“无穷远点”，并对应于仿射平面中的方向。由方程 $ax+by+c=0$ 给出的直线由齐次直线坐标的等价类 $[ka, kb, kc]$ 表示。一个点 $(X, Y, W)$ 在一条直线 $[a, b, c]$ 上的充要条件是它们的点积为零：$aX+bY+cW=0$。\n\n在欧几里得几何中，两条不同的平行线永不相交。然而，在射影几何中，它们被定义为相交于一个无穷远点。\n\n考虑仿射平面中的两条平行线，其方程为：\n$L_1: 2x - 5y + 7 = 0$\n$L_2: 2x - 5y - 3 = 0$\n\n此外，考虑一个仿射坐标为 $(4, 1)$ 的有限点 $P_f$。\n\n你的任务是求出同时经过 $L_1$ 和 $L_2$ 的交点以及有限点 $P_f$ 的直线。确定这条直线的齐次坐标 $[l_1, l_2, l_3]$。\n\n将你的答案表示为一个整数行矩阵 $[l_1, l_2, l_3]$，使得 $l_1$ 为正，且各分量绝对值的最大公约数为 1。", "solution": "我们将给定的仿射直线表示为齐次直线坐标。直线\n$$L_{1}: 2x - 5y + 7 = 0 \\quad\\text{和}\\quad L_{2}: 2x - 5y - 3 = 0$$\n分别对应于齐次直线向量\n$$[2, -5, 7] \\quad\\text{和}\\quad [2, -5, -3]。$$\n\n在齐次坐标中，两条直线 $[a_{1}, b_{1}, c_{1}]$ 和 $[a_{2}, b_{2}, c_{2}]$ 的交点是它们的叉积\n$$(X, Y, W) = (b_{1}c_{2} - c_{1}b_{2}, \\; c_{1}a_{2} - a_{1}c_{2}, \\; a_{1}b_{2} - b_{1}a_{2}).$$\n将此应用于 $L_{1}$ 和 $L_{2}$ 得到\n$$X = (-5)(-3) - 7(-5) = 15 + 35 = 50,$$\n$$Y = 7\\cdot 2 - 2(-3) = 14 + 6 = 20,$$\n$$W = 2(-5) - (-5)2 = -10 - (-10) = 0.$$\n因此，它们的交点（一个无穷远点）是\n$$(X, Y, W) = (50, 20, 0)。$$\n\n有限点 $P_{f} = (4, 1)$ 的齐次坐标为 $(4, 1, 1)$。经过两点 $(X_{1}, Y_{1}, W_{1})$ 和 $(X_{2}, Y_{2}, W_{2})$ 的直线由它们的叉积给出\n$$[l_{1}, l_{2}, l_{3}] = (Y_{1}W_{2} - W_{1}Y_{2}, \\; W_{1}X_{2} - X_{1}W_{2}, \\; X_{1}Y_{2} - Y_{1}X_{2}).$$\n使用 $(50, 20, 0)$ 和 $(4, 1, 1)$，我们得到\n$$l_{1} = 20\\cdot 1 - 0\\cdot 1 = 20,$$\n$$l_{2} = 0\\cdot 4 - 50\\cdot 1 = -50,$$\n$$l_{3} = 50\\cdot 1 - 20\\cdot 4 = 50 - 80 = -30.$$\n因此该直线表示为 $[20, -50, -30]$。由于齐次坐标是在一个非零标量因子下定义的，我们将其除以最大公约数 $\\gcd(20, 50, 30) = 10$ 来获得 $l_{1} > 0$ 的本原整数表示：\n$$[2, -5, -3].$$\n这条直线确实经过 $(4, 1)$ 并且与 $L_{1}$ 和 $L_{2}$ 的方向相同，正如预期。", "answer": "$$\\boxed{\\begin{pmatrix}2 & -5 & -3\\end{pmatrix}}$$", "id": "2168637"}]}