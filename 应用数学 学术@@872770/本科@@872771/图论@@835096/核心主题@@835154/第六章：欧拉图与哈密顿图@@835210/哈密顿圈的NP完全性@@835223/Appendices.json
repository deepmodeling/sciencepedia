{"hands_on_practices": [{"introduction": "尽管哈密顿圈问题在一般情况下是计算困难的，但数学家们已经发现了一些强大的“充分条件”，可以帮助我们快速识别某些特定类型的图是否拥有哈密顿圈。本练习将带你应用著名的奥尔定理 (Ore's Theorem)，这是一个通过检查图中非邻接顶点的度数之和来保证哈密顿圈存在的经典结果。通过这个练习，你将学会如何将理论定理应用于具体网络图的分析中。[@problem_id:1524672]", "problem": "在网络科学领域，分析路由路径是一项基本任务。一个特别有趣的问题是确定一个网络是否存在一条访问每个节点恰好一次后返回起点的回路，这种结构在图论中被称为哈密顿圈。寻找这样一种圈的普适性问题是NP完全的，这意味着没有已知的算法可以对所有可能的网络高效地解决它。\n\n然而，对于特定类型的图，一些数学定理提供了保证哈密顿圈存在的充分条件，使我们能够绕过计算成本高昂的搜索过程。其中最著名的结果之一是 Ore 定理。\n\n**Ore 定理**：设 $G$ 是一个有 $n \\ge 3$ 个顶点的简单图。如果对于每一对不同的不相邻顶点 $u$ 和 $v$，它们的度数之和满足不等式 $\\deg(u) + \\deg(v) \\ge n$，那么 $G$ 包含一个哈密顿圈。\n\n需要注意的是，这是一个充分条件，但不是必要条件。如果一个图不满足该条件，Ore 定理就无法得出结论，该图可能有也可能没有哈密顿圈。\n\n考虑一个简单图 $G=(V, E)$，它表示一个由 $n=7$ 台服务器组成的计算机网络，服务器集合为 $V = \\{S_1, S_2, S_3, S_4, S_5, S_6, S_7\\}$。服务器之间的直接连接（边）由它们的邻接表指定：\n- $S_1$ 连接到：$S_2, S_3, S_4$\n- $S_2$ 连接到：$S_1, S_3, S_6$\n- $S_3$ 连接到：$S_1, S_2, S_4, S_5$\n- $S_4$ 连接到：$S_1, S_3, S_7$\n- $S_5$ 连接到：$S_3, S_6, S_7$\n- $S_6$ 连接到：$S_2, S_5, S_7$\n- $S_7$ 连接到：$S_4, S_5, S_6$\n\n将 Ore 定理应用于这个特定的网络图 $G$，以下哪个陈述是正确的结论？\n\nA. Ore 定理保证存在哈密顿圈，因为对于所有不相邻的顶点对，条件 $\\deg(u) + \\deg(v) \\ge n$ 都成立。\n\nB. Ore 定理无法得出结论，因为对于不相邻的顶点对 $\\{S_3, S_6\\}$，条件不成立。\n\nC. Ore 定理无法得出结论，因为对于不相邻的顶点对 $\\{S_2, S_4\\}$，条件不成立。\n\nD. Ore 定理无法得出结论，因为对于不相邻的顶点对 $\\{S_1, S_3\\}$，条件不成立。\n\nE. Ore 定理保证图中不存在哈密顿圈，因为其条件对于至少一对不相邻的顶点不满足。", "solution": "根据 Ore 定理，对于一个有 $n$ 个顶点的简单图，如果对于每一对不同的不相邻顶点 $u,v$，都有 $\\deg(u)+\\deg(v) \\ge n$，则该图是哈密顿图。这里 $n=7$，所以需要对所有不相邻的顶点对检查条件 $\\deg(u)+\\deg(v) \\ge 7$。\n\n根据邻接表计算各个顶点的度数：\n- $\\deg(S_1)=3$（邻接点为 $S_2,S_3,S_4$）。\n- $\\deg(S_2)=3$（邻接点为 $S_1,S_3,S_6$）。\n- $\\deg(S_3)=4$（邻接点为 $S_1,S_2,S_4,S_5$）。\n- $\\deg(S_4)=3$（邻接点为 $S_1,S_3,S_7$）。\n- $\\deg(S_5)=3$（邻接点为 $S_3,S_6,S_7$）。\n- $\\deg(S_6)=3$（邻接点为 $S_2,S_5,S_7$）。\n- $\\deg(S_7)=3$（邻接点为 $S_4,S_5,S_6$）。\n\n评估选项中提到的特定顶点对：\n- 对于选项 D，顶点对 $\\{S_1,S_3\\}$ 是相邻的（它们的邻接表中都包含对方），因此 Ore 定理的条件不适用于它们；声称它们不相邻的说法是错误的。\n- 对于选项 B，顶点对 $\\{S_3,S_6\\}$ 是不相邻的。它们的度数之和满足 $\\deg(S_3)+\\deg(S_6)=4+3=7$，这满足条件 $\\deg(u)+\\deg(v) \\ge 7$。因此，这对顶点不会导致条件不成立，所以选项 B 是错误的。\n- 对于选项 C，顶点对 $\\{S_2,S_4\\}$ 是不相邻的。它们的度数之和为 $\\deg(S_2)+\\deg(S_4)=3+3=6$。由于 $6  7$，Ore 定理的条件 $\\deg(u)+\\deg(v) \\ge n$ 对于这对顶点不成立。因此，Ore 定理不能保证该图中存在哈密顿圈。该定理无法得出结论。\n\n因此，选项 A 是错误的，因为条件并非对所有不相邻顶点对都成立；选项 E 是错误的，因为充分条件不满足并不意味着哈密顿圈一定不存在。\n\n因此，正确的结论是，由于不相邻的顶点对 $\\{S_2,S_4\\}$ 未能满足度数和条件，Ore 定理无法得出结论。", "answer": "$$\\boxed{C}$$", "id": "1524672"}, {"introduction": "与寻找保证哈密顿圈存在的充分条件相对，我们有时需要证明一个图*不含*哈密顿圈。这通常通过寻找一个图不满足的“必要条件”来实现。这个练习介绍了一个重要的必要条件：在一个哈密顿图中，移除任意 $k$ 个顶点后，剩下图的连通分量数量不能超过 $k$。你将通过寻找一个特定的顶点子集来分割图，从而有力地证明该图不是哈密顿图。[@problem_id:1524667]", "problem": "分析网络结构的一个关键属性与其对节点故障的鲁棒性有关。其中一个属性涉及确定是否可以通过移除一个节点集，将网络分裂成数量上不成比例的多个不连通部分。\n\n考虑一个无向图 $G=(V,E)$，其顶点集为 $V = \\{a_1, a_2, a_3, b_1, b_2, b_3, c_1, c_2, c_3, s_1, s_2\\}$，边集 $E$ 由以下边组成：\n- 形成三个不同三角形的边：$(a_1, a_2), (a_2, a_3), (a_3, a_1)$；以及 $(b_1, b_2), (b_2, b_3), (b_3, b_1)$；以及 $(c_1, c_2), (c_2, c_3), (c_3, c_1)$。\n- 连接顶点 $s_1$ 到每个三角形的边：$(s_1, a_1), (s_1, b_1), (s_1, c_1)$。\n- 连接顶点 $s_2$ 到每个三角形的边：$(s_2, a_2), (s_2, b_2), (s_2, c_2)$。\n\n以下哪个顶点子集 $S \\subset V$ 具有这样的性质：图 $G-S$ 的连通分量数严格大于 $S$ 中的顶点数？图 $G-S$ 是通过移除 $S$ 中的顶点以及所有与这些顶点关联的边而形成的。\n\nA. $S = \\{s_1, s_2\\}$\n\nB. $S = \\{a_1, b_1, c_1\\}$\n\nC. $S = \\{a_3, b_3, c_3\\}$\n\nD. $S = \\{a_1, a_2\\}$\n\nE. $S = \\{s_1, a_1\\}$", "solution": "我们对每个候选子集 $S$ 进行分析，通过移除其顶点和关联边，然后计算 $G-S$ 中的连通分量数（记为 $c(G-S)$），并将其与 $|S|$ 进行比较。所要求的性质是 $c(G-S)  |S|$。\n\n选项 A：$S=\\{s_1,s_2\\}$。移除 $s_1$ 和 $s_2$ 后，恰好剩下三个不相交的三角形，分别在 $\\{a_1,a_2,a_3\\}$、$\\{b_1,b_2,b_3\\}$ 和 $\\{c_1,c_2,c_3\\}$ 上。因此，$c(G-S)=3$，$|S|=2$，所以 $32$。因此 A 满足该性质。\n\n选项 B：$S=\\{a_1,b_1,c_1\\}$。移除这些顶点会使每个三角形都减少一个顶点：在三个三角形中的每一个中，剩下的两个顶点由其 2-节点和 3-节点之间的边连接。顶点 $s_2$ 连接到 $a_2,b_2,c_2$，并且在每对 $\\{x_2,x_3\\}$（其中 $x\\in\\{a,b,c\\}$）内部都有一条边，所以 $s_2, a_2,a_3,b_2,b_3,c_2,c_3$ 都在一个连通分量中。顶点 $s_1$ 留下但被孤立（其邻居已被移除）。因此，$c(G-S)=2$，$|S|=3$，所以 $2\\not3$。因此 B 不满足该性质。\n\n选项 C：$S=\\{a_3,b_3,c_3\\}$。每个三角形简化为连接其 1-节点和 2-节点之间的边。顶点 $s_1$ 和 $s_2$ 存在并分别连接到 1-节点和 2-节点，从而形成一个包含所有剩余顶点的单一连通分量。因此，$c(G-S)=1$，$|S|=3$，所以 $1\\not3$。因此 C 不满足该性质。\n\n选项 D：$S=\\{a_1,a_2\\}$。在三角形 A 中，只有 $a_3$ 留下并被孤立。三角形 B 和 C 保持完整，$s_1$ 连接到 $b_1,c_1$ 而 $s_2$ 连接到 $b_2,c_2$；它们共同形成一个连通分量。因此，$c(G-S)=2$，$|S|=2$，所以 $2\\not2$。因此 D 不满足该性质。\n\n选项 E：$S=\\{s_1,a_1\\}$。三角形 A 简化为边 $a_2a_3$，$s_2$ 连接到 $a_2,b_2,c_2$；由于完整的三角形 B 和 C 保持不变，所有剩余的顶点都通过 $s_2$ 连接起来。因此，$c(G-S)=1$，$|S|=2$，所以 $1\\not2$。因此 E 不满足该性质。\n\n只有选项 A 满足 $c(G-S)  |S|$。", "answer": "$$\\boxed{A}$$", "id": "1524667"}, {"introduction": "从理论转向计算，本练习探讨了NP完全问题的核心特征之一：判定问题与搜索问题之间的关系。假设你有一个“黑箱”算法，它只能回答“是否存在哈密顿路径”，但不能告诉你路径是什么。这个思想实验将指导你设计一个流程，利用这个判定“黑箱”来逐步构建出一条实际的哈密顿路径，这揭示了计算复杂性理论中一个称为“自归约” (self-reduction) 的深刻概念。[@problem_id:1524648]", "problem": "一个生物信息学研究团队正在研究一种新的基因组组装方法。该过程涉及从大量较短的脱氧核糖核酸（DNA）片段中重建一个完整的DNA序列。这个重建问题可以用一个有向图 $G = (N, A)$ 来建模，其中节点集 $N$ 代表DNA片段，有向弧集 $A$ 代表片段对之间的潜在重叠（从片段 $u$ 到片段 $v$ 的一条弧表示 $v$ 可以跟在 $u$ 后面）。成功组装整个基因组对应于在该图中找到一条哈密顿路径，这是一条恰好访问每个节点一次的路径。\n\n该团队可以使用一个功能强大但成本高昂的专有软件库。这个库提供了一个单一的“黑盒”函数 `hasHamiltonianPath(G')`，它接受一个有向图 `G'` 作为输入。如果 `G'` 包含至少一条哈密顿路径，它返回 `True`，否则返回 `False`。该函数不提供关于路径本身的任何信息，只提供其存在性。\n\n你的任务是设计一个程序，使用这个 `hasHamiltonianPath` 函数来确定构成一条完整的哈密顿路径的确切弧序列。你的程序必须对任何给定的、保证包含至少一条哈密顿路径的有向图 $G=(N,A)$ 都有效。该软件的许可协议按函数调用次数收费，因此你的主要目标是确定所需调用次数的上限。\n\n对于一个有 $|N|=V$ 个顶点和 $|A|=E$ 条弧的图，你的程序需要调用 `hasHamiltonianPath` 函数来构造一条完整的哈密顿路径，其最大调用次数是多少？用 $V$ 和 $E$ 的闭式解析表达式来表示你的答案。", "solution": "我们给定一个有向图 $G=(N,A)$，它有 $|N|=V$ 个顶点和 $|A|=E$ 条弧，并保证包含至少一条哈密顿路径（HP）。我们还可以使用一个预言机函数 $\\mathrm{hasHamiltonianPath}(\\cdot)$ 来判断HP的存在性。目标是恢复一条哈密顿路径的确切弧集，同时最小化预言机调用的次数，并确定所需调用次数的上限。\n\n定义以下自规约过程。固定弧集 $A=\\{e_1,e_2,\\dots,e_E\\}$ 的任意一个顺序。初始化 $H_0=G$。对 $i=1,2,\\dots,E$，执行：\n- 如果 $e_i\\notin A(H_{i-1})$，则设 $H_i=H_{i-1}$，不进行预言机调用。\n- 如果 $e_i\\in A(H_{i-1})$，则在 $H_{i-1}\\setminus\\{e_i\\}$ 上查询预言机。如果 $\\mathrm{hasHamiltonianPath}(H_{i-1}\\setminus\\{e_i\\})=\\mathrm{True}$，则设 $H_i=H_{i-1}\\setminus\\{e_i\\}$（永久删除 $e_i$）。否则，设 $H_i=H_{i-1}$（保留 $e_i$）。\n\n完成所有 $E$ 次迭代后，通过列出其弧来输出剩余的图 $H_E$；这就是恢复出的哈密顿路径。\n\n我们证明其正确性并界定预言机调用的次数。\n\n不变量（哈密顿性的保持）：对于每个 $i$，图 $H_i$ 至少有一条哈密顿路径。这可以通过归纳法证明：根据假设，它对 $H_0=G$ 成立。在每一步中，如果我们删除 $e_i$，那么只有当 $\\mathrm{hasHamiltonianPath}(H_{i-1}\\setminus\\{e_i\\})=\\mathrm{True}$ 时才会进行删除，因此 $H_i$ 仍然有一条HP；否则我们不删除 $e_i$，显然会保留任何已有的HP。\n\n终止时的最小性：令 $H^{\\star}=H_E$。根据构造，对于 $A(H^{\\star})$ 中的每一条弧 $f$，我们必然有 $\\mathrm{hasHamiltonianPath}(H^{\\star}\\setminus\\{f\\})=\\mathrm{False}$；否则，当该弧被考虑时，它就会被删除。因此，在所有仍然存在哈密顿路径的子图中，$H^{\\star}$ 是关于弧删除的最小图。\n\n包含HP的最小子图的结构：我们断言 $H^{\\star}$ 恰好由一条哈密顿路径的弧组成，因此 $|A(H^{\\star})|=V-1$，并且该唯一路径的弧正是输出结果。\n\n证明：首先，$H^{\\star}$ 不能包含两条不同的哈密顿路径。如果包含，那么会存在一条弧 $a$，它被其中一条路径使用，而另一条路径不使用。那么 $H^{\\star}\\setminus\\{a\\}$ 仍会包含一条哈密顿路径（即不使用 $a$ 的那条），这与最小性相矛盾。因此 $H^{\\star}$ 有一条唯一的HP $P$。其次，$H^{\\star}$ 不能包含任何不属于 $P$ 的弧，因为删除这样的弧会使 $P$ 保持完整，从而保留了一条HP，这再次与最小性相矛盾。因此，$H^{\\star}$ 的每一条弧都在 $P$ 上，这意味着 $A(H^{\\star})$ 正是 $P$ 的 $V-1$ 条弧。\n\n预言机调用次数：对于每个 $e_i$ 且 $e_i\\in A(H_{i-1})$，我们最多调用一次预言机。因为我们按固定顺序处理 $E$ 条原始弧中的每一条，并且从不重新测试任何弧，所以预言机调用的次数最多为 $E$。我们不需要对 $G$ 进行初始调用，因为问题保证 $G$ 是哈密顿图；所有的中间调用都恰好是用来决定是否删除的。因此，该过程构造一条完整的哈密顿路径所需的最大调用次数是 $E$。\n\n因此，用 $V$ 和 $E$ 表示的一个明确的闭式上界是 $E$。", "answer": "$$\\boxed{E}$$", "id": "1524648"}]}