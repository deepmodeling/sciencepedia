{"hands_on_practices": [{"introduction": "本节的第一个练习将带你直接应用删减-收缩递推关系。这个练习旨在让你熟悉基本步骤：选择一条边，识别进行删边操作后的图（$G-e$）和进行缩边操作后的图（$G \\cdot e$），然后结合它们已知的色多项式来求解。轮图（wheel graph）是一个理想的起点，因为它经过删减或收缩后得到的图都非常容易辨认，可以让你专注于理解递推关系本身 [@problem_id:1495964]。", "problem": "轮图 $W_{n}$ 是一个有 $n$ 个顶点的图，它由一个中心顶点连接到其余 $n-1$ 个顶点组成的圈 $C_{n-1}$ 的所有顶点而形成。考虑轮图 $W_5$，它由一个中心顶点连接到一个由四个顶点组成的圈 $C_4$ 的所有顶点构成。我们感兴趣的是求其色多项式 $\\chi_{W_5}(k)$，它计算了用 $k$ 种颜色对 $W_5$ 的顶点进行着色，使得任意两个相邻顶点颜色都不同的方案数。\n\n为了求这个多项式，你将应用色多项式的删除-收缩递推关系。该关系指出，对于任何图 $G$ 和 $G$ 中的任意一条边 $e$，其色多项式满足 $\\chi_G(k) = \\chi_{G-e}(k) - \\chi_{G \\cdot e}(k)$，其中 $G-e$ 是删除边 $e$ 后的图，而 $G \\cdot e$ 是收缩边 $e$ 后的图。\n\n将此递推关系应用于 $W_5$ 外围 4-圈中的一条边 $e$。已知一个有 $n$ 个顶点的完全图 $K_n$ 的色多项式由公式 $\\chi_{K_n}(k) = k(k-1)(k-2)\\cdots(k-n+1)$ 给出。\n\n求出色多项式 $\\chi_{W_5}(k)$ 关于 $k$ 的一个完全化简的表达式。", "solution": "设 $W_{5}$ 的轮缘顶点为 $v_{1},v_{2},v_{3},v_{4}$，它们构成 $C_{4}$，中心点为 $h$。选择轮缘边 $e=\\{v_1, v_2\\}$。根据色多项式的删除-收缩递推关系，\n$$\n\\chi_{W_5}(k)=\\chi_{W_5-e}(k)-\\chi_{W_5 \\cdot e}(k).\n$$\n收缩边 $e$ 将 $v_{1}$ 和 $v_{2}$ 合并成一个顶点 $x$。剩余的轮缘边 $v_{2}v_{3}$ 和 $v_{4}v_{1}$ 变成 $xv_{3}$ 和 $xv_{4}$，它们与 $v_{3}v_{4}$ 一起在 $\\{x,v_{3},v_{4}\\}$ 上形成一个三角形。中心点 $h$ 仍然与 $x,v_{3},v_{4}$ 中的每一个都相邻。因此 $W_{5}\\cdot e\\cong K_{4}$，使用给定的公式，\n$$\n\\chi_{W_5 \\cdot e}(k)=\\chi_{K_4}(k)=k(k-1)(k-2)(k-3).\n$$\n删除边 $e$ 将轮缘 $C_{4}$ 断开成一个 4 个顶点的路径（例如 $v_{1}-v_{4}-v_{3}-v_{2}$），而 $h$ 仍然与所有四个轮缘顶点相邻。为了计算 $\\chi_{W_5-e}(k)$，首先用 $k$ 种方式对 $h$ 进行着色。那么没有轮缘顶点可以使用中心点的颜色，因此它们必须从 $k-1$ 种颜色的集合中沿着路径 $P_{4}$ 进行正常着色。一个有 4 个顶点、使用 $q$ 种颜色的路径有 $q(q-1)^{3}$ 种正常着色方案（选择第一个顶点有 $q$ 种方式，后续每个顶点有 $q-1$ 种方式）。当 $q=k-1$ 时，\n$$\n\\chi_{W_5-e}(k)=k\\,(k-1)(k-2)^{3}.\n$$\n因此，\n$$\n\\chi_{W_5}(k)=k\\,(k-1)(k-2)^{3}-k(k-1)(k-2)(k-3)\n= k(k-1)(k-2)\\bigl[(k-2)^{2}-(k-3)\\bigr]。\n$$\n化简方括号中的表达式，\n$$\n(k-2)^{2}-(k-3)=k^{2}-5k+7,\n$$\n所以一个完全化简的形式是\n$$\n\\chi_{W_5}(k)=k(k-1)(k-2)(k^{2}-5k+7).\n$$\n等价地，根据轮图色多项式公式 $\\chi_{W_n}(k) = k \\chi_{C_{n-1}}(k-1)$，对于 $W_5$ 我们有 $\\chi_{W_5}(k) = k \\chi_{C_4}(k-1)$。由于 $\\chi_{C_4}(q) = (q-1)^4 + (q-1)$，代入 $q=k-1$ 可得 $\\chi_{C_4}(k-1) = (k-2)^4+(k-2)$。因此 $\\chi_{W_5}(k) = k\\bigl[(k-2)^{4}+(k-2)\\bigr]$，展开后得到相同的多项式。", "answer": "$$\\boxed{k(k-1)(k-2)(k^{2}-5k+7)}$$", "id": "1495964"}, {"introduction": "在第一个练习的基础上，这个练习展示了递推关系真正的威力：它的递归特性。我们将看到像完全图 $K_4$ 这样比较复杂的图，是如何通过重复应用该法則，被系统地分解成一系列我们熟知的、更简单的图（如圈图和路图）的。这个练习强调了删减-收缩递推关系不仅仅是一个单步技巧，而是一个可以递归使用的强大算法，能够将复杂图的计数问题简化为基础图的组合 [@problem_id:1495930]。", "problem": "设 $G=(V, E)$ 是一个简单图。$G$ 的一个正常 $k$-染色是指为 $V$ 中的每个顶点分配 $k$ 种可用颜色中的一种，使得没有两个相邻顶点被染成相同的颜色。$G$ 的色多项式，记为 $\\chi_G(k)$，是一个关于 $k$ 的多项式，它计算了对于任意整数 $k \\ge 0$，$G$ 的正常 $k$-染色的数量。\n\n色多项式可以使用删除-收缩递推关系来计算。对于一个不是树的图 $G$ 中的任意一条边 $e$，该关系式为：\n$$ \\chi_G(k) = \\chi_{G-e}(k) - \\chi_{G \\cdot e}(k) $$\n其中 $G-e$ 是通过删除边 $e$ 得到的图，而 $G \\cdot e$ 是通过收缩边 $e$ 得到的图（即，它的两个端点合并成一个新顶点，并且在此过程中产生的任何多重边都由单边替换）。\n\n考虑一个有四个顶点的完全图 $K_4$。$K_4$ 的色多项式可以写成 $\\chi_{K_4}(k) = \\sum_{i=0}^{4} c_i k^i$ 的形式。\n\n你的任务是确定系数 $c_2$ 的值。要做到这一点，你必须从图 $K_4$ 开始，并应用删除-收缩递推关系恰好两次。在每一步中，你可以自由选择要删除/收缩的边。经过两次这样的应用，你将得到一个用三个更简单的图的色多项式表示的 $\\chi_{K_4}(k)$ 的表达式。你可以不加证明地使用基本图（如完全图、路和圈）的色多项式的已知公式来求出 $\\chi_{K_4}(k)$ 的完整表达式并提取所需的系数。\n\n系数 $c_2$ 的整数值是多少？", "solution": "我们从 $K_{4}$ 开始，应用删除-收缩恰好两次。选择 $K_{4}$ 的一条边 $e$，比如说顶点 $1$ 和 $2$ 之间的边。根据删除-收缩递推关系，\n$$\n\\chi_{K_{4}}(k)=\\chi_{K_{4}-e}(k)-\\chi_{K_{4} \\cdot e}(k).\n$$\n在 $K_{4}$ 中收缩边 $e$ 会合并顶点 $1$ 和 $2$；由于多重边被单边替换，$K_{4} \\cdot e$ 是 $K_{3}$。因此，\n$$\n\\chi_{K_{4}}(k)=\\chi_{K_{4}-e}(k)-\\chi_{K_{3}}(k).\n$$\n对图 $K_{4}-e$ 进行第二次删除-收缩。在 $K_{4}-e$ 中，选择顶点 $3$ 和 $4$ 之间的边 $f$。那么\n$$\n\\chi_{K_{4}-e}(k)=\\chi_{(K_{4}-e)-f}(k)-\\chi_{(K_{4}-e)\\cdot f}(k).\n$$\n从 $K_{4}-e$ 中删除 $f$ 会移除顶点集 $\\{1,3,2,4\\}$ 上的 4-圈的弦，得到圈 $C_{4}$。收缩 $f$ 会合并顶点 $3$ 和 $4$；顶点 $1$ 和 $2$ 都与 $3$ 和 $4$ 相邻，因此在收缩（并抑制多重边）后，结果是一个三顶点的路 $P_{3}$。因此，\n$$\n\\chi_{K_{4}-e}(k)=\\chi_{C_{4}}(k)-\\chi_{P_{3}}(k).\n$$\n结合两次应用，\n$$\n\\chi_{K_{4}}(k)=\\chi_{C_{4}}(k)-\\chi_{P_{3}}(k)-\\chi_{K_{3}}(k).\n$$\n我们现在使用已知的公式：\n- 对于 n 个顶点的圈, $\\chi_{C_{n}}(k)=(k-1)^{n}+(-1)^{n}(k-1)$，因此 $\\chi_{C_{4}}(k)=(k-1)^{4}+(k-1)$。\n- 对于 n 个顶点的路, $\\chi_{P_{n}}(k)=k(k-1)^{n-1}$，因此 $\\chi_{P_{3}}(k)=k(k-1)^{2}$。\n- 对于完全图 $K_{3}$，$\\chi_{K_{3}}(k)=k(k-1)(k-2)$。\n\n展开每一项：\n$$\n\\chi_{C_{4}}(k)=(k-1)^{4}+(k-1)=\\big(k^{4}-4k^{3}+6k^{2}-4k+1\\big)+k-1=k^{4}-4k^{3}+6k^{2}-3k,\n$$\n$$\n\\chi_{P_{3}}(k)=k(k-1)^{2}=k(k^{2}-2k+1)=k^{3}-2k^{2}+k,\n$$\n$$\n\\chi_{K_{3}}(k)=k(k-1)(k-2)=k(k^{2}-3k+2)=k^{3}-3k^{2}+2k.\n$$\n因此，\n$$\n\\chi_{K_{4}}(k)=\\big(k^{4}-4k^{3}+6k^{2}-3k\\big)-\\big(k^{3}-2k^{2}+k\\big)-\\big(k^{3}-3k^{2}+2k\\big)\n$$\n$$\n=\\,k^{4}-6k^{3}+11k^{2}-6k.\n$$\n将其与 $\\chi_{K_{4}}(k)=\\sum_{i=0}^{4}c_{i}k^{i}$ 对比，可知 $c_{2}=11$。", "answer": "$$\\boxed{11}$$", "id": "1495930"}, {"introduction": "删减-收缩递推关系的一个关键理论特性是，无论你选择哪条边开始，也无论你以何种顺序进行一系列的删减和收缩操作，最终计算出的色多项式都是相同的。这最后的练习将为你提供一个动手验证这种“路径无关性”的机会。通过用两种不同的方式计算“房子图”的色多项式，你不仅能进一步熟练掌握该方法，还能对该方法的鲁棒性和一致性建立更强的信心 [@problem_id:1495913]。", "problem": "图 $G$ 的色多项式，记作 $\\chi_G(k)$，给出了使用一组 $k$ 种可用颜色对 $G$ 的顶点进行着色，使得任意两个相邻顶点颜色都不同的方式数量。计算该多项式的一个强有力方法是删减-收缩递推关系：$\\chi_G(k) = \\chi_{G-e}(k) - \\chi_{G \\cdot e}(k)$，其中 $e$ 是 $G$ 中的任意一条边，$G-e$ 是通过删除边 $e$ 得到的图，而 $G \\cdot e$ 是通过收缩边 $e$ 得到的图（即将它的两个端点合并成一个新顶点，该顶点与原来两个顶点的所有邻居相连）。\n\n为了探究这个递推关系，我们考虑“房子图” $H$。该图的顶点集为 $V = \\{v_1, v_2, v_3, v_4, v_5\\}$。其中的边使得 $\\{v_1, v_2, v_3, v_4\\}$ 构成一个4-圈，边为 $(v_1, v_2)$, $(v_2, v_3)$, $(v_3, v_4)$, 和 $(v_4, v_1)$。另一个顶点 $v_5$ 与 $v_1$ 和 $v_2$ 相连，形成一个三角形 $\\{v_1, v_2, v_5\\}$。因此，该图有五个顶点和六条边。\n\n你的任务是通过应用删减-收缩递推来计算色多项式 $\\chi_H(k)$，并从两种不同类型的边开始计算，以证明边的选择不改变最终的多项式。\n\n首先，从边 $e_A = (v_3, v_4)$ 开始进行计算，该边连接两个度为2的顶点。\n其次，独立地从边 $e_B = (v_1, v_5)$ 开始进行计算，该边连接一个度为3的顶点 ($v_1$) 和一个度为2的顶点 ($v_5$) 。\n\n将每个计算进行到底以求出该多项式。你的最终答案应该是这个唯一的所得多项式，并以其展开形式表示。", "solution": "令 $H$ 为顶点集为 $\\{v_{1},v_{2},v_{3},v_{4},v_{5}\\}$、边为 $(v_{1},v_{2})$、$(v_{2},v_{3})$、$(v_{3},v_{4})$、$(v_{4},v_{1})$、$(v_{1},v_{5})$、$(v_{2},v_{5})$ 的房子图。我们使用删减-收缩递推关系 $\\chi_G(k)=\\chi_{G-e}(k)-\\chi_{G\\cdot e}(k)$ 和以下标准事实：对于在一个顶点上附加一片叶子，色多项式乘以 $(k-1)$；对于一个有 $n$ 个顶点的树 $T$，其色多项式为 $\\chi_T(k)=k(k-1)^{n-1}$；对于一个圈 $C_{n}$，$\\chi_{C_{n}}(k)=(k-1)^{n}+(-1)^{n}(k-1)$；对于正常染色，多重边等价于单条边。\n\n首先，从 $e_{A}=(v_{3},v_{4})$ 开始。应用删减-收缩：\n$$\n\\chi_H(k)=\\chi_{H-e_{A}}(k)-\\chi_{H\\cdot e_{A}}(k).\n$$\n对于 $H-e_{A}$，移除 $(v_{3},v_{4})$ 会得到一个在 $\\{v_{1},v_{2},v_{5}\\}$ 上的三角形 $K_{3}$，并在 $v_{1}$ 和 $v_{2}$ 处分别附加了两片叶子（即顶点 $v_{4}$ 和 $v_{3}$）。因此\n$$\n\\chi_{H-e_{A}}(k)=(k-1)^{2}\\chi_{K_{3}}(k)=(k-1)^{2}\\,k(k-1)(k-2)=k(k-1)^{3}(k-2).\n$$\n对于 $H\\cdot e_{A}$，收缩 $(v_{3},v_{4})$ 会产生钻石图（两个三角形共享边 $(v_{1},v_{2})$）。通过删减和收缩共享边 $f=(v_{1},v_{2})$ 来计算其多项式：\n$$\n\\chi_{\\text{diamond}}(k)=\\chi_{C_{4}}(k)-\\chi_{P_{3}}(k).\n$$\n这里 $\\chi_{C_{4}}(k)=(k-1)^{4}+(k-1)$ 且 $\\chi_{P_3}(k)=k(k-1)^{2}$，所以\n$$\n\\chi_{H\\cdot e_{A}}(k)=(\\lambda-1)^{4}+(\\lambda-1)-\\lambda(\\lambda-1)^{2}.\n$$\n等价地，可以将其因式分解为 $\\chi_{H\\cdot e_{A}}(k)=k(k-1)(k-2)^{2}$（这两者在展开后是相等的）。因此\n$$\n\\chi_H(k)=k(k-1)^{3}(k-2)-k(k-1)(k-2)^{2}\n=k(k-1)(k-2)\\bigl[(k-1)^{2}-(k-2)\\bigr].\n$$\n因为 $(k-1)^{2}-(k-2)=k^{2}-3k+3$，我们得到\n$$\n\\chi_H(k)=k(k-1)(k-2)(k^{2}-3k+3).\n$$\n展开得到\n$$\n\\chi_H(k)=k^{5}-6k^{4}+14k^{3}-15k^{2}+6k。\n$$\n\n其次，从 $e_{B}=(v_{1},v_{5})$ 开始。应用删减-收缩：\n$$\n\\chi_H(k)=\\chi_{H-e_{B}}(k)-\\chi_{H\\cdot e_{B}}(k).\n$$\n对于 $H-e_{B}$，删除 $(v_{1},v_{5})$ 会得到一个在 $\\{v_{1},v_{2},v_{3},v_{4}\\}$ 上的4-圈，并带有一个附加到 $v_{2}$ 的单片叶子 $v_{5}$。因此\n$$\n\\chi_{H-e_{B}}(k)=(k-1)\\chi_{C_{4}}(k)=(k-1)\\bigl[(k-1)^{4}+(k-1)\\bigr].\n$$\n对于 $H\\cdot e_{B}$，收缩 $(v_{1},v_{5})$ 会将这两个顶点等同起来，并在剩下的四个顶点上恰好产生一个4-圈，所以\n$$\n\\chi_{H\\cdot e_{B}}(k)=\\chi_{C_{4}}(k)=(k-1)^{4}+(k-1).\n$$\n因此\n$$\n\\chi_H(k)=\\bigl[(k-1)-1\\bigr]\\bigl[(k-1)^{4}+(k-1)\\bigr]\n=(k-2)\\bigl[(k-1)^{4}+(k-1)\\bigr].\n$$\n将此展开得到\n$$\n\\chi_H(k)=k^{5}-6k^{4}+14k^{3}-15k^{2}+6k,\n$$\n这与从第一条起始边得到的结果相符，符合要求。", "answer": "$$\\boxed{k^{5}-6k^{4}+14k^{3}-15k^{2}+6k}$$", "id": "1495913"}]}