{"hands_on_practices": [{"introduction": "第一个练习直接应用了内部不相交路径的定义。通过分析一个结构简单的“有向书图”，你将练习识别两个顶点之间所有可能的路径，并根据它们的内部顶点是否唯一来进行筛选。这个实践有助于建立对路径内部不相交这一概念的基础理解。[@problem_id:1514392]", "problem": "考虑一个特定的有向图族，我们称之为有向书图（Directed Book Graphs），记作 $DB_p$，由整数 $p \\ge 1$ 参数化。一个图 $DB_p$ 由顶点集 $V = \\{u, v, w_1, w_2, \\ldots, w_p\\}$ 构成，总共包含 $p+2$ 个顶点。\n\n图的有向边（弧）定义如下：\n1.  有一条从顶点 $u$ 指向顶点 $v$ 的“书脊”边。\n2.  对于 $\\{1, 2, \\ldots, p\\}$ 中的每个索引 $i$，由两条有向边形成一个“书页”：一条从 $u$ 到 $w_i$，另一条从 $w_i$ 到 $v$。\n\n图中不存在其他边。顶点 $u$ 和 $v$ 可以被看作是书的“装订线”，而每个 $w_i$ 代表一个不同书页上的顶点。\n\n确定图 $DB_p$ 中从顶点 $u$ 到顶点 $v$ 的内部不相交路径的总数。将你的答案表示为关于 $p$ 的解析表达式。", "solution": "根据定义，一条有向 $u-v$ 路径是一个始于 $u$ 终于 $v$ 的顶点序列，其中每对连续的顶点都由一条给定方向的有向边连接。一条路径的内部顶点是路径上除了端点 $u$ 和 $v$ 之外的所有顶点。如果两条 $u-v$ 路径的内部顶点集不相交，则它们是内部不相交的。\n\n在 $DB_p$ 中，有向边为：一条书脊边 $u \\to v$，以及对于每个 $i \\in \\{1,2,\\ldots,p\\}$，有两条边 $u \\to w_i$ 和 $w_i \\to v$。不存在其他边。\n\n所有可能的有向 $u-v$ 路径是：\n- 由单条边 $(u,v)$ 给出的书脊路径 $P_0$。\n- 对于每个 $i \\in \\{1,2,\\ldots,p\\}$，由 $(u,w_i,v)$ 给出的书页路径 $P_i$。\n\n不存在其他 $u-v$ 路径，因为任何 $w_i$ 和 $w_j$ 之间没有边，没有进入 $u$ 的边，除了指定的边之外也没有离开 $v$ 的边。因此，任何更长的路径都需要一条不存在的边。\n\n现在验证内部不相交性：\n- $P_0$ 的内部顶点集是空集。\n- $P_i$ 的内部顶点集是 $\\{w_i\\}$。\n- 对于 $i \\neq j$，集合 $\\{w_i\\}$ 和 $\\{w_j\\}$ 是不相交的，并且每个集合都与空集不相交。\n\n因此，这 $p+1$ 条路径 $\\{P_0, P_1, \\ldots, P_p\\}$ 是两两内部不相交的。因此，$DB_p$ 中从 $u$ 到 $v$ 的内部不相交路径的总数为\n$$\n1 + p = p + 1.\n$$", "answer": "$$\\boxed{p+1}$$", "id": "1514392"}, {"introduction": "接下来，我们转向一个更熟悉的结构，这个问题要求你找到网格图中内部不相交路径的最大数量。这个练习引入了一个关键的解题技巧：在寻找解之前先确定一个上界。通过观察起始顶点周围的局部约束，你可以直观地领会门格尔定理背后的核心思想。[@problem_id:1514386]", "problem": "一个网格图 $G_{m,n}$ 是一个图，其顶点集是平面上所有整数坐标为 $(i,j)$ 的点组成的集合，其中 $1 \\le i \\le m$ 且 $1 \\le j \\le n$。在此图中，两个顶点 $(i,j)$ 和 $(i',j')$ 有边相连当且仅当它们之间的曼哈顿距离为 1，即 $|i-i'| + |j-j'| = 1$。\n\n考虑一个 $3 \\times 3$ 的网格图 $G_{3,3}$。设起始顶点 $s$ 为角点 $(1,1)$，终止顶点 $t$ 为角点 $(3,3)$。\n\n从顶点 $u$ 到顶点 $v$ 的两条路径，如果它们不共享任何中间顶点，则称它们是内部不相交的。换句话说，它们唯一的公共顶点是起始顶点 $u$ 和终止顶点 $v$。\n\n求在这个 $3 \\times 3$ 网格图中，顶点 $s$ 和顶点 $t$ 之间存在的内部不相交路径的最大数量。", "solution": "我们将 $3 \\times 3$ 网格图 $G_{3,3}$ 的顶点标记为 $(i,j)$，其中 $1 \\leq i,j \\leq 3$，并取 $s=(1,1)$ 和 $t=(3,3)$。\n\n第1步（通过度数/顶点不相交性约束确定上界）：任何一组内部不相交的 $s-t$ 路径都必须通过 $s$ 的不同邻点离开 $s$。由于 $s$ 恰好有两个邻点，即 $(1,2)$ 和 $(2,1)$，我们得到上界\n$$\n\\text{(maximum number of internally disjoint $s-t$ paths)} \\leq \\deg(s) = 2.\n$$\n等价地，根据门格尔定理（顶点版本），内部顶点不相交的 $s-t$ 路径的最大数量至多为一个最小 $s-t$ 顶点割的大小，这个大小至多为 $\\deg(s)=2$，因为移除 $s$ 的两个邻点会将 $s$ 与 $t$ 分离。\n\n第2步（构造达到上界的路径）：我们展示两条内部不相交的 $s-t$ 路径：\n- 路径 $P_1$：$(1,1) \\to (1,2) \\to (1,3) \\to (2,3) \\to (3,3)$。\n- 路径 $P_2$：$(1,1) \\to (2,1) \\to (3,1) \\to (3,2) \\to (3,3)$。\n这两条路径仅共享端点 $s$ 和 $t$；它们的中间顶点是不相交的。\n\n第3步（结论）：达到了上界 2，因此内部不相交的 $s-t$ 路径的最大数量等于 2。", "answer": "$$\\boxed{2}$$", "id": "1514386"}, {"introduction": "最后的这个实践深化了你对不相交路径与网络瓶颈之间关系的理解，这一关系由门格尔定理正式化。该图通过连接两个密集的分量构成，使得连接它们的“割点集”至关重要。解决这个问题需要你识别出这个瓶颈，从而确定不相交路径的最大数量。[@problem_id:1514408]", "problem": "考虑一个根据以下过程构造的图 $G$。从两个不相交的五顶点完全图（记作 $K_5$）的副本开始。令这两个图为 $G_A$ 和 $G_B$。$G_A$ 的顶点集是 $V_A = \\{a_1, a_2, x_1, x_2, x_3\\}$，而 $G_B$ 的顶点集是 $V_B = \\{b_1, b_2, y_1, y_2, y_3\\}$。最终的图 $G$ 是通过取 $G_A$ 和 $G_B$ 的并集，然后对于每个索引 $i \\in \\{1, 2, 3\\}$，将 $G_A$ 中的顶点 $x_i$ 与 $G_B$ 中的顶点 $y_i$ 进行粘合而形成的。令这三个新的、被粘合的顶点分别记作 $c_1, c_2, c_3$。\n\n任务是确定在所得图 $G$ 中，连接顶点 $a_1$ 和顶点 $b_1$ 的内部不相交路径的最大数量。如果两条路径不共享任何中间顶点，则它们被定义为内部不相交的。", "solution": "设 $G$ 是通过粘合两个 $K_5$ 的副本得到的，即顶点集为 $\\{a_1,a_2,x_1,x_2,x_3\\}$ 的 $G_A$ 和顶点集为 $\\{b_1,b_2,y_1,y_2,y_3\\}$ 的 $G_B$，将 $x_i$ 与 $y_i$ (对于 $i \\in \\{1,2,3\\}$) 粘合成共同的顶点 $c_1, c_2, c_3$。那么 $G$ 包含由 $\\{a_1,a_2,c_1,c_2,c_3\\}$ 导出的子图和由 $\\{b_1,b_2,c_1,c_2,c_3\\}$ 导出的子图，每个子图都同构于 $K_5$，且它们的重叠部分恰好是顶点集为 $\\{c_1,c_2,c_3\\}$ 的三角形。\n\n$G$ 中任何从 $a_1$ 到 $b_1$ 的路径都必须经过 $C=\\{c_1,c_2,c_3\\}$ 中的至少一个顶点，因为 $a_1$ 位于包含 $\\{a_1,a_2,c_1,c_2,c_3\\}$ 的副本中，而 $b_1$ 位于包含 $\\{b_1,b_2,c_1,c_2,c_3\\}$ 的副本中，并且这些部分之间唯一的公共顶点是 $c_i$。因此 $C$ 是一个 $a_1-b_1$ 顶点割，所以最小 $a_1-b_1$ 顶点割的大小至多为 $|C|=3$。\n\n我们现在证明，不存在大小小于 $3$ 的 $a_1-b_1$ 顶点割。设 $S \\subset V(G)\\setminus\\{a_1,b_1\\}$ 且 $|S| \\leq 2$。那么存在一个 $i \\in \\{1,2,3\\}$ 使得 $c_i \\notin S$。由于在 $G$ 中 $a_1$ 与 $c_i$ 相邻，且 $c_i$ 与 $b_1$ 相邻，路径 $a_1 \\to c_i \\to b_1$ 避开了 $S$。因此，移除至多两个顶点永远不会将 $a_1$ 与 $b_1$ 分开，所以每个 $a_1-b_1$ 顶点割的大小至少为 $3$。\n\n根据门格尔定理，内部顶点互不相交的 $a_1-b_1$ 路径的最大数量等于最小 $a_1-b_1$ 顶点割的大小，我们已经证明该大小为 $3$。这个最大值可以通过三条路径 $a_1 \\to c_i \\to b_1$（其中 $i=1,2,3$）来达到，这些路径是内部不相交的，因为它们的内部顶点分别是 $c_1,c_2,c_3$。", "answer": "$$\\boxed{3}$$", "id": "1514408"}]}