## 引言
在[图论](@entry_id:140799)的世界里，一个看似简单却极为深刻的问题是：一个网络能否被绘制在平面上而没有任何线路[交叉](@entry_id:147634)？这个问题不仅是数学上的一个谜题，更在电路设计、网络布线和地图绘制等众多实际应用中具有核心重要性。然而，直观的“无[交叉](@entry_id:147634)”概念需要一个严谨的数学框架来描述其性质、约束和可能性。本文旨在填补这一知识空白，为读者提供对[平面嵌入](@entry_id:263159)和[平面图](@entry_id:269787)的全面理解。

在接下来的内容中，我们将分三步深入探索这个主题。首先，在“原理与机制”一章中，我们将学习定义[平面图](@entry_id:269787)的基本数学工具，如[欧拉公式](@entry_id:176440)、对偶图和嵌入唯一性，揭示其内在的结构法则。随后，在“应用与跨学科联系”一章中，我们将看到这些抽象的原理如何转化为解决电路布局、城市规划和几何难题的强大方法。最后，“动手实践”部分将提供一系列练习，让你亲手应用所学知识，从理论走向实践，巩固对平面图分析的掌握。

## 原理与机制

在介绍性章节之后，我们现在深入探讨[平面图](@entry_id:269787)的核心原理和机制。本章将阐述定义平面图嵌入的基本属性，探索其结构性约束，并介绍对偶图和嵌入唯一性等关键概念。这些工具不仅在理论上极为重要，在解决网络设计、电路布局和[地图着色](@entry_id:275371)等实际问题时也至关重要。

### 基本关系：欧拉公式

当一个图可以被绘制在平面上且没有任何边相交（除了在顶点处）时，我们称之为一个**[平面图](@entry_id:269787)（planar graph）**。这样一种具体的、无[交叉](@entry_id:147634)的绘制被称为**[平面嵌入](@entry_id:263159)（planar embedding）**或**平面图（plane graph）**。值得注意的是，“平面图”（planar graph）指的是具有可被[平面嵌入](@entry_id:263159)这一性质的抽象图，而“[平面图](@entry_id:269787)”（plane graph）指的是一个具体的嵌入实例。

任何一个平面图都会将平面分割成若干个区域，这些区域被称为**面（faces）**。其中一个面是无界的，包围着整个图，称为**外部面（unbounded face）**；其余的面则是**内部面（bounded faces）**。顶点、边和面这三个基本元素之间存在一个深刻而优美的关系，这就是**欧拉公式（Euler's Formula）**。

对于任何一个连通的[平面图](@entry_id:269787)，若其顶点数为 $v$，边数为 $e$，面数为 $f$，则它们之间满足以下恒等式：
$$
v - e + f = 2
$$

这个公式的神奇之处在于它的普适性。为了直观理解这个“2”的来源，我们可以将平面图的嵌入想象成在球体表面上的嵌入。任何在平面上的嵌入都可以通过**球极投影（stereographic projection）**无缝地映射到球体表面上，反之亦然。具体来说，我们可以将平面想象成与球体在南极点相切，然后从北极点发射光线，将球体上的点投影到平面上。在这个过程中，球体上的一个面（包含投影点本身）会映射为平面上的外部面，而其他所有面都映射为内部面。

例如，一个设计在球形行星上的通信网络，如果其链路没有交叉，就可以被看作是一个球体上的嵌入 [@problem_id:1527299]。假设该网络有7个节点（$v=7$）和15条链路（$e=15$）。根据[欧拉公式](@entry_id:176440)，它在球体表面上划分出的区域（面）数量为 $f_{\text{sph}} = 2 - v + e = 2 - 7 + 15 = 10$。当我们通过球极投影将其映射到平面地图上时，如果投影点选在其中一个面的内部，那么这个面就变成了[平面图](@entry_id:269787)的外部面。总面数不变，因此在平面上，我们会得到 $f_{\text{sph}} - 1 = 9$ 个有界区域。这个例子清晰地表明，[平面嵌入](@entry_id:263159)和球面嵌入在拓扑上是等价的，欧拉公式中的常数2是球体（或平面）的一个基本拓扑不变量。

欧拉公式还可以推广到[非连通图](@entry_id:192455)。如果一个[平面图](@entry_id:269787)有 $v$ 个顶点，$e$ 条边和 $f$ 个面，并且由 $k$ 个独立的**[连通分量](@entry_id:141881)（connected components）**组成，那么它们之间的关系变为 [@problem_id:1527293]：
$$
v - e + f = 1 + k
$$
这个推广可以通过对每个连通分量应用标准欧拉公式并考虑它们如何共享同一个外部面来推导。当我们将 $k$ 个独立的[平面嵌入](@entry_id:263159)合并到一个绘图中时，它们各自的 $k$ 个外部面会合并成一个单一的全局外部面，从而“失去”了 $k-1$ 个面。

### 欧拉公式的推论：平面图的[稀疏性](@entry_id:136793)

欧拉公式不仅是一个计数工具，它还揭示了平面图的一个根本属性：它们必须是**稀疏的（sparse）**，即边的数量相对于顶点数量受到严格限制。

考虑一个顶点数 $v \ge 3$ 的简单连通平面图。由于图是简单的（没有重边或[自环](@entry_id:274670)），每个面的边界至少由3条边构成。我们可以计算所有面的边界长度之和。每个面 $F_i$ 的边界长度记为 $\deg(F_i)$。由于每条边都恰好是两个面（或一个面的边界的两个部分）的边界，所以所有面度数之和等于边数的两倍：
$$
\sum_{i=1}^{f} \deg(F_i) = 2e
$$
结合每个面的边界长度至少为3的条件（$\deg(F_i) \ge 3$），我们得到 $3f \le \sum \deg(F_i) = 2e$，即 $f \le \frac{2e}{3}$。

现在，我们将这个不等式代入[欧拉公式](@entry_id:176440) $v - e + f = 2$：
$$
v - e + \frac{2e}{3} \ge 2
$$
整理后得到：
$$
v - \frac{e}{3} \ge 2 \implies e \le 3v - 6
$$
这个不等式 $e \le 3v - 6$ 是一个极其重要的结论。它为任何简单平面图的边数设定了一个线性上限。例如，一个设计在集成电路上的微体系结构，如果包含50个处理核心（顶点），并且要求所有数据通路（边）不能[交叉](@entry_id:147634)，那么无论设计多么巧妙，其通路数量的绝对上限就是 $e \le 3 \times 50 - 6 = 144$ [@problem_id:1527265]。任何超过这个数量的连接都必然导致[交叉](@entry_id:147634)，使得平面布局成为不可能。当一个[平面图](@entry_id:269787)的每条边都属于一个三角形时，它被称为**三角剖分（triangulation）**，此时 $e = 3v - 6$ 等号成立，这样的图被称为**[极大平面图](@entry_id:266059)（maximal planar graph）**。

这个边数限制的另一个直接推论是关于顶点度数的。根据[握手引理](@entry_id:261183)，所有[顶点的度](@entry_id:264944)数之和为 $2e$。结合上述不等式，我们有：
$$
\sum_{v \in V} \deg(v) = 2e \le 2(3v - 6) = 6v - 12
$$
这意味着[图的平均度](@entry_id:270076)数 $\bar{d} = \frac{\sum \deg(v)}{v} \le \frac{6v - 12}{v} = 6 - \frac{12}{v}$。因为 $v \ge 3$，所以[平均度](@entry_id:261638)数严格小于6。

如果一个图的所有顶点度数都至少为6，那么它的[平均度](@entry_id:261638)数也必然至少为6，这与我们刚刚得出的结论相矛盾。因此，可以断定：**任何简单平面图必定至少存在一个度数不超过5的顶点** [@problem_id:1527284]。这个性质是证明平面图[六色定理](@entry_id:270832)和[五色定理](@entry_id:276395)的基石。

### [对偶图](@entry_id:263734)的概念

对于一个给定的[平面图](@entry_id:269787) $G$（即一个特定的嵌入），我们可以构造一个与之对应的**对偶图（dual graph）**，记作 $G^*$。[对偶图](@entry_id:263734)的构造方法如下：
1.  在 $G$ 的每个面（包括外部面）内部放置一个新顶点。这些新顶点构成了 $G^*$ 的顶点集。
2.  如果 $G$ 中的两个面 $F_1$ 和 $F_2$ 共享一条公共边 $e$，那么就在 $G^*$ 中连接对应于 $F_1$ 和 $F_2$ 的顶点。这条新的边穿越且仅穿越公共边 $e$。

对偶图的构造揭示了平面图顶点与面之间的一种深刻对称性。一个核心关系是：**[对偶图](@entry_id:263734) $G^*$ 中一个顶点的度数，等于原始图 $G$ 中其对应面的边界长度**。

例如，考虑一个由10个节点和18条边构成的芯片架构[平面图](@entry_id:269787) [@problem_id:1527296]。通过[欧拉公式](@entry_id:176440) $f = 2 - v + e = 2 - 10 + 18 = 10$，我们知道它有10个面。通过仔细分析其平面布局，我们可以确定每个面的边界长度。假设我们找到了六个长度为3的面、三个长度为4的面和一个长度为6的外部面。那么，其[对偶图](@entry_id:263734) $G^*$ 就将有10个顶点，其中六个顶点的度数为3，三个顶点的度数为4，一个顶点的度数为6。

这个性质使得我们可以在原始图（称为**始发图（primal graph）**）和对偶图之间转换信息。许多关于面的问题可以通过分析[对偶图](@entry_id:263734)的顶点来解决，反之亦然。例如，一个关于始发图 $G$ 的问题可能给出[顶点的度](@entry_id:264944)数信息，并询问某个面的边界长度 [@problem_id:1527287]。我们可以首先利用[握手引理](@entry_id:261183) ($\sum \deg(v) = 2e$) 计算边的总数，然后用[欧拉公式](@entry_id:176440) ($v-e+f=2$) 计算面的总数，最后利用对偶[握手引理](@entry_id:261183) ($\sum \deg(\text{face}) = 2e$) 建立一个关于所有面边界长度的方程，从而求解未知面的边界长度。

需要强调的是，[对偶图](@entry_id:263734)是针对一个**特定[平面嵌入](@entry_id:263159)**定义的。如果一个图没有[平面嵌入](@entry_id:263159)，比如[非平面图](@entry_id:268333)，那么“面”的概念就无法明确定义，因此也无法构造一个唯一的[对偶图](@entry_id:263734) [@problem_id:1517802]。根据[库拉托夫斯基定理](@entry_id:276059)，一个图是非平面的，当且仅当它包含一个 $K_5$（5个顶点的完全图）或 $K_{3,3}$（3对3的[完全二分图](@entry_id:276229)）的**细分（subdivision）**。任何在平面上绘制这种[非平面图](@entry_id:268333)的尝试都必然产生边的[交叉](@entry_id:147634)。由于交叉的存在，我们无法得到一个明确的、无歧义的面集合，从而无法定义一个规范的[对偶图](@entry_id:263734)。

### [平面嵌入](@entry_id:263159)的唯一性与等价性

一个抽象的平面图可能存在多种**组合上不等价（combinatorially non-equivalent）**的嵌入方式。两个嵌入如果定义了不同的面集合，它们就是不等价的。

考虑一个由6个顶点组成的环 $(v_1, v_2, v_3, v_4, v_5, v_6)$ 再加上一条弦 $(v_1, v_4)$ 构成的图 [@problem_id:1527278]。这个图至少有两种截然不同的画法：
1.  **嵌入A**：将6顶点环画成一个凸六边形，弦 $(v_1, v_4)$ 画在内部。此时，弦将六边形内部分割成两个有界区域，其边界分别为四边形 $(v_1, v_2, v_3, v_4)$ 和 $(v_1, v_4, v_5, v_6)$。
2.  **嵌入B**：将四边形 $(v_1, v_2, v_3, v_4)$ 画成外部面的边界。此时，顶点 $v_5, v_6$ 及其相关边都位于该四边形内部。这会产生一组完全不同的有界区域。

这个例子说明，仅仅知道一个图的顶点和边连接关系，不足以确定其面的结构。为了在组合层面精确地描述一个嵌入，我们引入了**旋转系统（rotation system）**的概念 [@problem_id:1527262]。一个旋转系统为每个顶点指定了其邻接边的[循环排列](@entry_id:273014)顺序，这个顺序对应于在[平面嵌入](@entry_id:263159)中围绕该顶点的边的（例如，逆时针）几何顺序。一个旋转系统完全确定了嵌入的所有面边界。两个嵌入如果能由相同的旋转系统（或其全局反序）导出，从而拥有相同的面集，则它们被认为是**组合等价的（combinatorially equivalent）**。

那么，什么情况下一个平面图的所有[平面嵌入](@entry_id:263159)都是组合等价的呢？答案与图的**连通度（connectivity）**密切相关。一个图是 **k-顶点连通的（k-vertex-connected）**，如果移除任意少于 $k$ 个顶点都不能使其断开。**[惠特尼定理](@entry_id:271195)（Whitney's Theorem）**给出了一个惊人的答案：

> 一个简单[平面图](@entry_id:269787)具有组合上唯一的[平面嵌入](@entry_id:263159)，当且仅当它是3-顶点连通的。

这个定理意味着，对于[3-连通图](@entry_id:263445)，其拓扑结构非常“刚性”，无论你怎么在平面上画它（只要不产生交叉），其面的边界集合总是一样的。

让我们通过几个例子来理解这一点 [@problem_id:1527268]：
*   **[3-连通图](@entry_id:263445)（唯一嵌入）**：
    *   [凸多面体](@entry_id:170947)的[骨架图](@entry_id:147556)，如**三角棱柱图**或**立方体图**，根据斯泰尼茨定理（Steinitz's theorem）它们都是3-连通的，因此具有唯一的[平面嵌入](@entry_id:263159)。
    *   **[轮图](@entry_id:271886) $W_n$** ($n \ge 4$)，由一个[中心顶点](@entry_id:264579)连接到一个 $n-1$ 环的所有顶点构成。它们也是3-连通的，因此嵌入唯一。

*   **非[3-连通图](@entry_id:263445)（非唯一嵌入）**：
    *   [完全二分图](@entry_id:276229) $K_{2,5}$。这是一个[2-连通图](@entry_id:262525)，因为移除两个构成一部分的顶点会使图断开。它的嵌入不唯一，因为围绕这两个顶点的邻居[排列](@entry_id:136432)顺序可以改变，从而形成不同的面。
    *   由两个不相交的环通过两条边连接起来的图。这类图中通常存在**2-[顶点割](@entry_id:272916)（2-vertex cut）**，即移除两个顶点就能使图断开。这样的图的各部分可以相对于这个割集“翻转”，产生不等价的嵌入。

总之，3-连通性是保证平面图嵌入[结构稳定性](@entry_id:147935)的关键属性。这一深刻的联系，将图的纯组合属性（连通度）与它的几何拓扑表示（嵌入）紧密地联系在一起。