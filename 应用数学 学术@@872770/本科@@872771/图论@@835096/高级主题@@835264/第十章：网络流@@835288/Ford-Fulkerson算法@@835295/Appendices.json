{"hands_on_practices": [{"introduction": "掌握 Ford-Fulkerson 算法的最好方法是亲自动手执行它。这个练习将引导你完成算法的核心循环：在残留图中找到一条增广路径，然后更新流。通过遵循明确的路径选择规则（深度优先搜索和字母顺序），你可以专注于增广过程的机制，为更深层次的理解打下坚实的基础 [@problem_id:1541570]。", "problem": "一个救灾机构正在协调从一个中央仓库（`S`）到受灾城镇（`T`）的物资分配。物资通过一个由中间转运点（`A`、`B`、`C`、`D`）组成的网络进行运输。这些地点之间的道路网络可以建模为一个有向图，其中每条边代表一条具有最大容量的单向路径，容量单位为“单位物资/小时”。\n\n该网络由以下有向边及其容量定义：\n- 从 `S` 到 `A`：容量 10\n- 从 `S` 到 `B`：容量 8\n- 从 `A` 到 `C`：容量 7\n- 从 `A` 到 `D`：容量 4\n- 从 `B` 到 `D`：容量 6\n- 从 `C` 到 `T`：容量 9\n- 从 `D` 到 `C`：容量 2\n- 从 `D` 到 `T`：容量 12\n\n网络中所有其他可能的有向边的容量均为 0。\n\n你的任务是，在使用 Ford-Fulkerson 算法执行恰好两次迭代后，计算从中央仓库 `S` 到受灾城镇 `T` 的总流量。增广路径必须使用从源点 `S` 开始的深度优先搜索（DFS）来寻找。在从任何给定节点进行探索时，你必须按字母顺序考虑其邻居节点。\n\n请以单个整数的形式提供最终答案。", "solution": "我们应用 Ford-Fulkerson 算法，从 $S$ 开始进行深度优先搜索，在每一步按字母顺序探索邻居节点，并沿着找到的第一条 $S$–$T$ 路径进行增广。边 $(u,v)$ 上的残余容量记为 $r(u,v)$，其初始值设为给定的容量 $c(u,v)$，反向边的残余容量初始值设为零。每次增广都会更新残余容量：将路径上各边 $(u,v)$ 的残余容量 $r(u,v)$ 减去路径流量，并将其反向边 $(v,u)$ 的残余容量 $r(v,u)$ 增加相同的量，以保持流量守恒。\n\n第 1 次迭代（初始残余容量 $r=c$）：从 $S$ 出发，DFS 先于 $B$ 探索 $A$。从 $A$ 出发，它先于 $D$ 探索 $C$。从 $C$ 出发，它到达 $T$。找到的第一条增广路径是 $S \\to A \\to C \\to T$。其瓶颈流量为\n$$\n\\Delta f_{1}=\\min\\{c(S,A),c(A,C),c(C,T)\\}=\\min\\{10,7,9\\}=7.\n$$\n更新残余容量：$r(S,A)=10-7=3$，$r(A,S)=7$；$r(A,C)=7-7=0$，$r(C,A)=7$；$r(C,T)=9-7=2$，$r(T,C)=7$。\n\n第 2 次迭代（使用更新后的残余容量）：从 $S$ 出发，由于 $r(S,A)=30$，DFS 再次首先探索 $A$。从 $A$ 出发，它首先尝试 $C$，但 $r(A,C)=0$，因此它转向 $D$，因为 $r(A,D)=40$。从 $D$ 出发，它先于 $T$ 探索 $C$，因为 $r(D,C)=20$。从 $C$ 出发，它到达 $T$，因为 $r(C,T)=20$。找到的第一条增广路径是 $S \\to A \\to D \\to C \\to T$。其瓶颈流量为\n$$\n\\Delta f_{2}=\\min\\{r(S,A),r(A,D),r(D,C),r(C,T)\\}=\\min\\{3,4,2,2\\}=2.\n$$\n更新残余容量：$r(S,A)=3-2=1$，$r(A,S)=7+2=9$；$r(A,D)=4-2=2$，$r(D,A)=2$；$r(D,C)=2-2=0$，$r(C,D)=2$；$r(C,T)=2-2=0$，$r(T,C)=7+2=9$。\n\n经过恰好两次增广后，从 $S$ 到 $T$ 的总流量值为\n$$\n|f|=\\Delta f_{1}+\\Delta f_{2}=7+2=9.\n$$", "answer": "$$\\boxed{9}$$", "id": "1541570"}, {"introduction": "Ford-Fulkerson 算法的正确性依赖于深刻的最大流最小割定理。这个练习将挑战你从“割”的角度思考，而不仅仅是“流”。你需要识别出一个网络，其瓶颈（即最小割）是由多条边的组合形成的，而不是由单一一条边决定的 [@problem_id:1541522]。这有助于你建立关于网络结构如何决定最大流的直觉，加深对流与割之间联系的理解。", "problem": "考虑一个表示流网络的有向图。每个网络都有一个指定的源点 $s$ 和一个汇点 $t$。网络由其顶点集 $V$ 和有向边集 $E$ 定义。每条边 $(u, v) \\in E$ 都有一个相关的整数容量 $c(u, v)  0$。\n\n根据最大流最小割定理，一个网络中从 $s$ 到 $t$ 的最大流等于一个 $s$-$t$ 割的最小容量。一个 $s$-$t$ 割是将顶点集 $V$ 划分为两个不相交的集合 $S$ 和 $T$，使得 $s \\in S$ 且 $t \\in T$。割 $(S,T)$ 的容量是所有满足 $u \\in S$ 且 $v \\in T$ 的边 $(u,v)$ 的容量之和。\n\n你的任务是确定以下四个网络中哪一个同时满足以下**两个**条件：\n1. 最小 $s$-$t$ 割的容量恰好为 10。\n2. 网络中没有任何一条边的容量等于 10。\n\n网络以顶点列表和边的列表（附带容量，格式为(起点, 终点, 容量)）的形式描述。\n\nA. 顶点 $V = \\{s, u, v, w, x, t\\}$。边和容量 $E = \\{(s, u, 11), (s, v, 11), (u, w, 6), (v, x, 4), (w, t, 12), (x, t, 12)\\}$。\n\nB. 顶点 $V = \\{s, u, v, w, x, t\\}$。边和容量 $E = \\{(s, u, 13), (s, v, 13), (u, w, 8), (v, x, 4), (w, t, 14), (x, t, 14)\\}$。\n\nC. 顶点 $V = \\{s, u, v, w, t, z\\}$。边和容量 $E = \\{(s, u, 6), (s, v, 4), (u, w, 10), (v, w, 10), (w, t, 10)\\}$。顶点 $z$ 是孤立的。\n\nD. 顶点 $V = \\{s, u, v, w, x, t\\}$。边和容量 $E = \\{(s, u, 7), (s, v, 7), (u, w, 7), (v, x, 7), (w, t, 7), (x, t, 7)\\}$。", "solution": "我们使用最大流最小割定理：对于每个网络，最大 $s$-$t$ 流等于最小 $s$-$t$ 割的容量。对于给定的图，有两条边不相交的 $s$-$t$ 路径；可实现的总流量是两条路径上瓶颈的总和，前提是这不超过从 $s$ 流出或流入 $t$ 的总容量。然后我们与一个明确的割进行比较，以验证最小割的值，并检查是否有任何单条边的容量为 $10$。\n\n网络 A:\n- 路径：$s \\to u \\to w \\to t$ 和 $s \\to v \\to x \\to t$。\n- 路径瓶颈：\n$$\n\\min\\{c(s,u),c(u,w),c(w,t)\\}=\\min\\{11,6,12\\}=6,\\quad \\min\\{c(s,v),c(v,x),c(x,t)\\}=\\min\\{11,4,12\\}=4.\n$$\n- 瓶颈之和：$6+4=10$。\n- 从 $s$ 流出：$c(s,u)+c(s,v)=11+11=22$，流入 $t$：$c(w,t)+c(x,t)=12+12=24$，因此这些不会将流量限制在 $10$ 以下。\n- 构造一个割 $(S,T)$，其中 $S=\\{s,u,v\\}$ 且 $T=\\{w,x,t\\}$。其容量为\n$$\nc(u,w)+c(v,x)=6+4=10.\n$$\n因此最大流为 $10$，最小割容量为 $10$。没有边的容量为 $10$，因为容量的多重集是 $\\{11,11,6,4,12,12\\}$。\n\n网络 B:\n- 路径瓶颈：\n$$\n\\min\\{13,8,14\\}=8,\\quad \\min\\{13,4,14\\}=4,\\quad \\text{和为}=12.\n$$\n- 从 $s$ 流出：$26$，流入 $t$：$28$。因此最大流为 $12$。任何割的容量都至少是 $12$，所以最小割容量为 $12 \\neq 10$。条件 $1$ 不满足。\n\n网络 C:\n- 从 $s$ 流出：$c(s,u)+c(s,v)=6+4=10$，流入 $t$：$c(w,t)=10$。因此任何 $s$-$t$ 流最多为 $10$，并且沿 $s \\to u \\to w \\to t$ 发送 $6$ 个单位的流，沿 $s \\to v \\to w \\to t$ 发送 $4$ 个单位的流，可以达到 $10$ 的总流量，所以最小割容量为 $10$。\n- 但是，存在容量为 $10$ 的边（即 $c(u,w)=10$，$c(v,w)=10$ 和 $c(w,t)=10$），这违反了条件 $2$。\n\n网络 D:\n- 路径瓶颈：\n$$\n\\min\\{7,7,7\\}=7,\\quad \\min\\{7,7,7\\}=7,\\quad \\text{和为}=14.\n$$\n- 从 $s$ 流出：$14$，流入 $t$：$14$。因此最大流为 $14$，所以最小割容量为 $14 \\neq 10$。条件 $1$ 不满足。\n\n只有网络 A 同时满足最小 $s$-$t$ 割的容量为 $10$ 并且没有单条边的容量为 $10$ 这两个条件。", "answer": "$$\\boxed{A}$$", "id": "1541522"}, {"introduction": "在计算出最大流量之后，我们常常还想知道网络中的哪些部分是真正的瓶颈。这个问题引入了“关键边”的概念，即任何容量减少都会导致最大流量减少的边。要解决这个问题，你需要找到网络中的最小割，并分析哪些边是所有最小割的共同组成部分 [@problem_id:1541523]。识别关键边是一项实用的网络分析技能，可以帮助你精确定位真实世界系统（如通信或运输网络）中的薄弱环节。", "problem": "在一个用于粒子物理实验的分布式计算网络中，数据在源节点`S`生成，并且必须被传输到一个中央存储单元`T`。该网络由几个中间处理节点和高带宽链路组成，每个链路都有一个最大数据传输速率（容量）。\n\n在此流网络中，如果一条边的容量的任何减少都会导致从源`S`到汇`T`的最大流量值的减少，那么这条边就被定义为“关键”边。\n\n网络拓扑结构和每条链路的容量（单位为太比特/秒，Tbps）如下所示：\n- 从`S`到`A`的边，容量为10。\n- 从`S`到`B`的边，容量为10。\n- 从`A`到`C`的边，容量为7。\n- 从`B`到`C`的边，容量为7。\n- 从`C`到`D`的边，容量为5。\n- 从`D`到`E`的边，容量为8。\n- 从`D`到`F`的边，容量为8。\n- 从`E`到`T`的边，容量为12。\n- 从`F`到`T`的边，容量为12。\n\n找出该网络中所有的关键边。\n\nA. (A, C) 和 (B, C)\nB. (C, D)\nC. (D, E) 和 (D, F)\nD. (S, A) 和 (S, B)\nE. (C, D), (E, T) 和 (F, T)", "solution": "我们应用最大流最小割定理：任何最大$S$–$T$流的值等于最小$S$–$T$割的容量。一个$S$–$T$割由一个集合$X$指定，其中$S \\in X$且$T \\notin X$，其容量是从$X$到$V \\setminus X$的所有边的容量之和。\n\n列出一些方便的割并计算它们的容量：\n- $X=\\{S\\}$：跨越的边是$(S,A)$和$(S,B)$，所以\n$$c(\\delta^{+}(X))=10+10=20.$$\n- $X=\\{S,A\\}$：跨越的边是$(S,B)$和$(A,C)$，所以\n$$c(\\delta^{+}(X))=10+7=17.$$\n- $X=\\{S,B\\}$：跨越的边是$(S,A)$和$(B,C)$，所以\n$$c(\\delta^{+}(X))=10+7=17.$$\n- $X=\\{S,A,B\\}$：跨越的边是$(A,C)$和$(B,C)$，所以\n$$c(\\delta^{+}(X))=7+7=14.$$\n- $X=\\{S,A,B,C\\}$：唯一的跨越边是$(C,D)$，所以\n$$c(\\delta^{+}(X))=5.$$\n- $X=\\{S,A,B,C,D\\}$：跨越的边是$(D,E)$和$(D,F)$，所以\n$$c(\\delta^{+}(X))=8+8=16.$$\n- $X=\\{S,A,B,C,D,E\\}$：跨越的边是$(D,F)$和$(E,T)$，所以\n$$c(\\delta^{+}(X))=8+12=20.$$\n- $X=\\{S,A,B,C,D,F\\}$：跨越的边是$(D,E)$和$(F,T)$，所以\n$$c(\\delta^{+}(X))=8+12=20.$$\n- $X=\\{S,A,B,C,D,E,F\\}$：跨越的边是$(E,T)$和$(F,T)$，所以\n$$c(\\delta^{+}(X))=12+12=24.$$\n\n唯一的最小割是$X=\\{S,A,B,C\\}$，容量为$5$，因此最大流量值为\n$$\nv^{*}=5.\n$$\n\n如果一条边的容量的任何减少都会使$v^{*}$减少，则该边是关键边。根据最大流最小割定理，减少每个最小割上的一条边的容量会减少最小割的容量，从而减少$v^{*}$。由于上面的最小割是唯一的，并且仅由容量为$5$的边$(C,D)$组成，因此$c(C,D)$的任何减少都会严格地减少该割的容量，从而减少最大流量。因此$(C,D)$是关键边。\n\n反之，对于所有其他的边：\n- 上游的边$(S,A)$、$(S,B)$、$(A,C)$、$(B,C)$的总容量严格大于$5$；稍微减少其中任意一条的容量，仍然至少有$5$个单位的$S$–$C$吞吐量，所以$v^{*}$保持为$5$。\n- 下游的边$(D,E)$、$(D,F)$、$(E,T)$、$(F,T)$也有超过$5$的足够的总容量；稍微减少其中任意一条的容量，仍然允许将全部$5$个单位的流量通过另一分支路由，所以$v^{*}$保持为$5$。\n\n因此，唯一的关键边是$(C,D)$，对应于选项B。", "answer": "$$\\boxed{B}$$", "id": "1541523"}]}