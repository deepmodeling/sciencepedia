{"hands_on_practices": [{"introduction": "要真正掌握一个概念，最好的方法是从一个简单而基础的例子开始。这个练习探讨了一种特殊情况：当原始图本身就是一棵树时，它的Gomory-Hu树会是什么样子。通过解决这个问题，你将能够清晰地理解在一个简单结构中，最小割与Gomory-Hu树的路径属性之间的直接联系，从而为后续更复杂的实践打下坚实的基础 [@problem_id:1507130]。", "problem": "考虑一个带权无向图 $G$，其顶点集为 $V = \\{A, B, C, D, E, F\\}$。该图是一棵树，其边及各自的容量如下所示：\n- 连接 A 和 B 的边，容量为 12\n- 连接 A 和 C 的边，容量为 8\n- 连接 B 和 D 的边，容量为 15\n- 连接 B 和 E 的边，容量为 7\n- 连接 C 和 F 的边，容量为 10\n\n对于一个带权无向图 $G = (V, E)$，其 Gomory-Hu 树 $T$ 是一个以 $V$ 为顶点集的带权树，它满足以下性质：对于任意一对不同的顶点 $u, v \\in V$，$G$ 中最小 $(u,v)$-割的值等于 $T$ 中连接 $u$ 和 $v$ 的唯一路径上的最小边权。\n\n求给定图 $G$ 的 Gomory-Hu 树中所有边的权重之和。", "solution": "给定一个带权无向树 $G=(V,E)$，其中 $V=\\{A,B,C,D,E,F\\}$，边容量为 $w$：\n- $w(\\{A,B\\})=12$,\n- $w(\\{A,C\\})=8$,\n- $w(\\{B,D\\})=15$,\n- $w(\\{B,E\\})=7$,\n- $w(\\{C,F\\})=10$.\n\n对于任意两个不同的顶点 $u,v\\in V$，设 $P_{uv}$ 表示树 $G$ 中连接 $u$ 和 $v$ 的唯一路径。对于一个带权树，最小 $(u,v)$-割的值（记作 $\\lambda_{G}(u,v)$）等于 $P_{uv}$ 上的最小边权：\n$$\n\\lambda_{G}(u,v)=\\min_{e\\in P_{uv}} w(e).\n$$\n这个结论的证明如下：任何分离 $u$ 和 $v$ 的割都必须移除 $P_{uv}$ 上的至少一条边，因此最小割值至少是路径上的最小边权。同时，移除路径上权重最小的那条边本身就构成了一个 $(u,v)$-割，其容量等于该最小边权。因此等式成立。\n\n由于原始的带权树 $G$ 本身就满足 Gomory-Hu 树的定义属性，所以一个有效的 Gomory-Hu 树 $T$ 就是 $G$ 本身，具有相同的边和边权。\n\n因此，Gomory-Hu 树中所有边的权重之和等于给定容量的总和：\n$$\n\\sum_{e\\in E} w(e)=12+8+15+7+10=52.\n$$", "answer": "$$\\boxed{52}$$", "id": "1507130"}, {"introduction": "接下来，让我们探索一个图的宏观结构如何被其Gomory-Hu树所捕捉。这个练习呈现了一个由两个密集连接的团（cliques）通过一条脆弱的“桥”边连接而成的图 [@problem_id:1507103]。通过构建这个图的Gomory-Hu树，你将直观地理解图中的连通性瓶颈和高密度集群是如何在Gomory-Hu树中以简洁明了的方式被表示出来的，这对于网络分析中的社区发现等应用具有重要意义。", "problem": "考虑一个按如下方式构造的无权图 $G$。令 $C_1$ 是一个有10个顶点的团（完全图），令 $C_2$ 是一个有8个顶点的团。$C_1$ 和 $C_2$ 的顶点集（分别表示为 $V(C_1)$ 和 $V(C_2)$）是不相交的。图 $G$ 是由 $C_1$ 和 $C_2$ 的并集，并添加一条连接特定顶点 $u \\in V(C_1)$ 和特定顶点 $v \\in V(C_2)$ 的“桥”边构成的。由于 $G$ 是无权图，在计算流和割时，所有边的容量均视为1。\n\n图 $G$ 的一棵 Gomory-Hu 树 $T$ 是一棵带权树，其顶点集与 $G$ 相同，即 $V(G)$，且具有以下性质：对于 $V(G)$ 中的任意两个顶点 $x, y$， $G$ 中最小 $x-y$ 割的值等于 $T$ 中 $x$ 和 $y$ 之間唯一路径上任意边的最小权重。\n\n以下哪个描述准确地表示了图 $G$ 的一棵有效的 Gomory-Hu 树 $T$？\n\nA. $T$ 是一个以 $u$ 为中心的星形图。边 $(u,v)$ 的权重为1。从 $u$ 到 $V(C_1)$ 中其他顶点的边的权重为9。从 $u$ 到 $V(C_2) \\setminus \\{v\\}$ 中顶点的边的权重为7。\n\nB. $T$ 由两个星形子图构成。一个以 $u$ 为中心， $V(C_1)$ 的其他9个顶点作为叶节点；其所有边的权重为9。另一个以 $v$ 为中心， $V(C_2)$ 的其他7个顶点作为叶节点；其所有边的权重为7。两个星形图的中心 $u$ 和 $v$ 通过一条权重为1的边连接。\n\nC. $T$ 由两个星形子图构成，结构如选项B所述，但权重互换： $C_1$ 星形图的边权重为7， $C_2$ 星形图的边权重为9。连接边 $(u,v)$ 的权重仍为1。\n\nD. 树 $T$ 是一条经过所有18个顶点的单一路径。边 $(u,v)$ 是该路径的一部分，权重为1。路径上所有其他16条边的权重为7。\n\nE. 所描述的图不是一棵树。它是由将 $V(C_1)$ 构成一个边权重为9的团，将 $V(C_2)$ 构成一个边权重为7的团，并添加权重为1的边 $(u,v)$ 而形成的。", "solution": "$G$ 中的所有边都具有单位容量。对于任意两个顶点 $x,y$，最小 $x$-$y$ 割的值等于移除后能够分離 $x$ 和 $y$ 的最少边数。\n\n首先，计算 $G$ 中成对的最小割。\n1) 在 $C_{1}$ 内部：设 $|V(C_{1})|=10$。对于任意 $s,t \\in V(C_{1})$，它们之间的最小边割是将其中一个顶点（例如 $s$）与其余9个顶点分开，这需要移除9条边。因此，对于所有 $s,t \\in V(C_{1})$，\n$$\n\\lambda_{G}(s,t)=9.\n$$\n\n2) 在 $C_{2}$ 内部：设 $|V(C_{2})|=8$。对于任意 $s,t \\in V(C_{2})$，根据相同的论证，它们之间的最小边割为7。因此，对于所有 $s,t \\in V(C_{2})$，\n$$\n\\lambda_{G}(s,t)=7.\n$$\n\n3) 跨越 $C_{1}$ 和 $C_{2}$：对于任意 $x \\in V(C_{1})$ 和 $y \\in V(C_{2})$，每条 $x$-$y$ 路径都必须穿过唯一的桥边 $u\\text{-}v$。移除这条边会使 $C_{1}$ 与 $C_{2}$ 断开连接。因此，\n$$\n\\lambda_{G}(x,y)=1.\n$$\n\n$V(G)$ 上的一棵 Gomory-Hu 树 $T$ 必须分配边的权重，使得对于任意 $x,y$，$T$ 中唯一的 $x$-$y$ 路径上的最小权重等于上面对应的 $\\lambda_{G}(x,y)$。\n\n验证各个选项：\n- 选项 A：对于 $a \\in V(C_{1}) \\setminus \\{u\\}$ 和 $b \\in V(C_{2}) \\setminus \\{v\\}$，路径 $a$–$u$–$b$ 的瓶颈为 $\\min(9,7)=7$，但这与 $\\lambda_{G}(a,b)=1$ 不符。无效。\n- 选项 B：两个星形图，一个以 $u$ 为中心（边权重为9），另一个以 $v$ 为中心（边权重为7），通过一条权重为1的边 $(u,v)$ 连接。\n  - 对于 $x,y \\in V(C_{1})$，路径在 $C_{1}$ 星形图内，瓶颈为9，与 $\\lambda_{G}(x,y)=9$ 匹配。\n  - 对于 $x,y \\in V(C_{2})$，路径在 $C_{2}$ 星形图内，瓶颈为7，与 $\\lambda_{G}(x,y)=7$ 匹配。\n  - 对于 $x \\in V(C_{1})$，$y \\in V(C_{2})$，路径必须经过边 $(u,v)$，其权重为1，因此瓶颈为1，与 $\\lambda_{G}(x,y)=1$ 匹配。\n  因此B是有效的。\n- 选项 C：交换内部权重使得所有 $C_{1}$ 内部顶点对的割值等于7，这与 $\\lambda_{G}(x,y)=9$ 相矛盾。无效。\n- 选项 D：一条单一路径，其中所有非桥边的权重为7，这导致 $C_{1}$ 内部顶点对的割值等于 $7 \\neq 9$。无效。\n- 选项 E：描述的不是一棵树，因此不可能是 Gomory-Hu 树。无效。\n\n因此，正确的描述是选项B。", "answer": "$$\\boxed{B}$$", "id": "1507103"}, {"introduction": "最后，我们将深入探讨Gomory-Hu树一个更微妙的特性：其潜在的非唯一性。这个高级练习将向你展示，对于某些特定的图，构建算法中不同的最小割选择可以产生拓扑结构上完全不同但同样有效的Gomory-Hu树。这项实践将挑战你对算法过程的批判性思维，并加深你对Gomory-Hu树构建灵活性的理解 [@problem_id:1507088]。", "problem": "考虑一个无向容量图 $G=(V, E)$，其顶点集为 $V = \\{N_1, N_2, P_1, P_2\\}$，边集为 $E$，每条边都有相关联的容量。该图建模了一个简化的网络互连结构。顶点 $N_1$ 和 $N_2$ 表示一类节点，而 $P_1$ 和 $P_2$ 表示另一类节点。所有跨类型的连接，即 $\\{N_1, N_2\\}$ 中的顶点与 $\\{P_1, P_2\\}$ 中的顶点之间的连接，其容量均为 $C_1$。在 $P_1$ 和 $P_2$ 之间也存在一条容量为 $C_2$ 的同类型连接。不存在其他边。\n具体来说，边及其容量如下：\n- $c(N_1, P_1) = C_1$\n- $c(N_1, P_2) = C_1$\n- $c(N_2, P_1) = C_1$\n- $c(N_2, P_2) = C_1$\n- $c(P_1, P_2) = C_2$\n\n设容量为 $C_1 = 10$ 和 $C_2 = 1$。\n\nGomory-Hu 树是一棵加权树，它表示了原图中所有顶点对之间的最小割值。对于某些图，可以构建出不止一棵不同的 Gomory-Hu 树。对于给定的图 $G$，请确定在所有有效的 Gomory-Hu 树中，顶点 $P_1$ 的度的所有可能值组成的集合。请将答案表示为一个由所有可能的度值组成的序列，并按升序排列。", "solution": "给定一个顶点集为 $V=\\{N_{1},N_{2},P_{1},P_{2}\\}$ 的无向容量图，其容量为\n$$\nc(N_{i},P_{j})=C_{1}=10\\quad\\text{for all }i\\in\\{1,2\\},\\,j\\in\\{1,2\\},\\qquad c(P_{1},P_{2})=C_{2}=1,\n$$\n且没有其他边。顶点集为 $V$ 的 Gomory-Hu (GH) 树 $T$ 是一棵加权树，使得对于任意 $s,t\\in V$，$G$ 中 $s$-$t$ 的最小割值等于 $T$ 中从 $s$到 $t$ 的唯一路径上的最小边权。\n\n步骤 1：计算 $G$ 中所有顶点对之间的最小割值。\n\n1) 顶点对 $P_{1}$、$P_{2}$。割 $S=\\{P_{2}\\}$, $\\bar{S}=\\{P_{1},N_{1},N_{2}\\}$ 的容量为\n$$\nc(P_{2},P_{1})+c(P_{2},N_{1})+c(P_{2},N_{2})=1+10+10=21.\n$$\n可以证明这是最小的，因此 $\\lambda(P_{1},P_{2})=21$。\n\n2) 顶点对 $N_{1}$、$N_{2}$。割 $S=\\{N_{1}\\}$, $\\bar{S}=\\{N_{2},P_{1},P_{2}\\}$ 的容量为\n$$\nc(N_{1},P_{1})+c(N_{1},P_{2})=10+10=20.\n$$\n可以证明这是最小的，因此 $\\lambda(N_{1},N_{2})=20$。\n\n3) 任意跨类型顶点对 $N_{i}$、$P_{j}$。割 $S=\\{N_{i}\\}$, $\\bar{S}=\\{P_{j},\\text{其他顶点}\\}$ 的容量为\n$$\nc(N_{i},P_{1})+c(N_{i},P_{2})=10+10=20.\n$$\n可以证明这是最小的，因此对于所有的 $i,j$，$\\lambda(N_{i},P_{j})=20$。\n\n因此，各顶点对的最小割值如下：\n- $\\lambda(P_{1},P_{2})=21$,\n- $\\lambda(N_{1},N_{2})=20$,\n- $\\lambda(N_{i},P_{j})=20$ for all $i,j$。\n\n步骤 2：列出 $G$ 中一些相关割的容量。\n\n计算所有非平凡划分的容量：\n\n- 单点割：\n$$\n\\{N_{1}\\}\\;|\\;\\{N_{2},P_{1},P_{2}\\}:\\;20,\\quad\n\\{N_{2}\\}\\;|\\;\\{N_{1},P_{1},P_{2}\\}:\\;20,\n$$\n$$\n\\{P_{1}\\}\\;|\\;\\{P_{2},N_{1},N_{2}\\}:\\;21,\\quad\n\\{P_{2}\\}\\;|\\;\\{P_{1},N_{1},N_{2}\\}:\\;21.\n$$\n\n- 两点-两点割：\n$$\n\\{N_{1},N_{2}\\}\\;|\\;\\{P_{1},P_{2}\\}:\\;40,\n$$\n$$\n\\{N_{1},P_{1}\\}\\;|\\;\\{N_{2},P_{2}\\}:\\;20,\\quad\n\\{N_{1},P_{2}\\}\\;|\\;\\{N_{2},P_{1}\\}:\\;20.\n$$\n\n步骤 3：根据这些割约束 GH 树的结构。\n\n由于只有 $\\lambda(P_1, P_2) = 21$，在任何有效的 GH 树中，$P_1$ 和 $P_2$ 之间的路径瓶颈必须是 21。如果该路径不是一条直连边，例如 $P_1-X-\\dots-P_2$，那么 $\\lambda(P_1, X)$ 至少是 $w(P_1, X) \\ge 21$，但这与我们计算出的 $\\lambda(P_1, X)=20$ (只要 X 不是 P2) 相矛盾。因此，$P_1$ 和 $P_2$ 在 GH 树中必须通过一条权重为 21 的边直接相连。\n\n步骤 4：枚举所有有效的 GH 树以及 $P_{1}$ 的度。\n\n根据以上分析，唯一的权重为 $21$ 的边必须是 $(P_{1},P_{2})$。剩下的两条边的权重都必须是 $20$，它们负责将 $N_1$ 和 $N_2$ 连接到树中。这迫使 $N_1$ 和 $N_2$ 成为树的叶子节点，连接到 $P_1$ 或 $P_2$ 上。\n\n有效的配置如下：\n\n- 以 $P_{1}$ 为中心的星形结构：\n边 $(P_{1},P_{2})$ 权重为 $21$，边 $(P_{1},N_{1})$ 权重为 $20$，边 $(P_{1},N_{2})$ 权重为 $20$。可以验证这棵树满足所有最小割值条件。在此情况下，$\\deg_{T}(P_{1})=3$。\n\n- 以 $P_{2}$ 为中心的星形结构：\n边 $(P_{1},P_{2})$ 权重为 $21$，边 $(P_{2},N_{1})$ 和 $(P_{2},N_{2})$ 权重为 $20$。可以验证这棵树也有效。在此情况下，$\\deg_{T}(P_{1})=1$。\n\n- 以 $(P_{1},P_{2})$ 为中间边的路径结构：\n路径 $N_{1}-P_{1}-P_{2}-N_{2}$ 或 $N_{2}-P_{1}-P_{2}-N_{1}$，边权重分别为 $20,21,20$。这些结构同样有效。在此情况下，$\\deg_{T}(P_{1})=2$。\n\n没有其他有效的结构。因此，在所有有效的 GH 树中，$P_{1}$ 的可能度数恰好是 $1$、$2$ 和 $3$，所以所求集合为 $\\{1,2,3\\}$。\n\n按升序排列，该序列是 $1,2,3$。", "answer": "$$\\boxed{\\begin{pmatrix}1  2  3\\end{pmatrix}}$$", "id": "1507088"}]}