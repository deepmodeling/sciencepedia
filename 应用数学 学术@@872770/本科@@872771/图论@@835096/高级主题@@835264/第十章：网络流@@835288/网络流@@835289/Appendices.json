{"hands_on_practices": [{"introduction": "要真正理解如何找到网络中的最大流，我们必须首先掌握流量增广的迭代过程。本练习提供了一个具体的实践，让你执行 Ford-Fulkerson 算法中关键的一步，重点是构建残差图并识别增广路径——这是提升网络吞吐量的基本机制。[@problem_id:1387823]", "problem": "一家物流公司管理着一个由有向图表示的分销网络。图中的节点包括一个源仓库 (S)，一个目的地城市 (T)，以及四个中间转运枢纽 (U, V, W, X)。这些节点之间的有向边代表单向道路，每条道路都有一个以每小时货物单位计量的最大容量。\n\n该网络的结构和容量（从节点 $i$ 到节点 $j$ 的边的容量记为 $c(i, j)$）如下：\n- $c(S, U) = 10$\n- $c(S, V) = 8$\n- $c(U, V) = 4$\n- $c(U, W) = 7$\n- $c(V, W) = 3$\n- $c(V, X) = 6$\n- $c(W, T) = 9$\n- $c(X, T) = 5$\n任何未列出的边的容量均为零。\n\n一次交通分析揭示了某些边上的当前流量 $f(i, j)$：\n- $f(S, U) = 6$\n- $f(U, W) = 6$\n- $f(W, T) = 6$\n- $f(S, V) = 4$\n- $f(V, X) = 4$\n- $f(X, T) = 4$\n所有其他边上的流量均为零。当前从源点 S 到汇点 T 的总流量为每小时10个货物单位。\n\n为了提高吞吐量，您必须执行一次 Ford-Fulkerson 算法的迭代。您的任务是在残留图中找到一条从 S 到 T 的增广路径。为确保路径的唯一性，您必须使用广度优先搜索 (BFS)，并按字母顺序探索任何给定节点的邻居。基于这条特定的增广路径，从 S 到 T 的新总流量值是多少？\n\n请用一个整数表示您的答案，代表每小时的总流量（以货物单位计）。", "solution": "我们根据当前流量构建残留图。对于每条容量为 $c(i,j)$、当前流量为 $f(i,j)$ 的有向边，其正向残留容量为 $r(i,j)=c(i,j)-f(i,j)$，反向残留容量为 $r(j,i)=f(i,j)$。根据给定的数据：\n- 在 $S \\to U$ 上：$r(S,U)=10-6=4$ 且 $r(U,S)=6$。\n- 在 $S \\to V$ 上：$r(S,V)=8-4=4$ 且 $r(V,S)=4$。\n- 在 $U \\to V$ 上：$r(U,V)=4-0=4$ 且 $r(V,U)=0$。\n- 在 $U \\to W$ 上：$r(U,W)=7-6=1$ 且 $r(W,U)=6$。\n- 在 $V \\to W$ 上：$r(V,W)=3-0=3$ 且 $r(W,V)=0$。\n- 在 $V \\to X$ 上：$r(V,X)=6-4=2$ 且 $r(X,V)=4$。\n- 在 $W \\to T$ 上：$r(W,T)=9-6=3$ 且 $r(T,W)=6$。\n- 在 $X \\to T$ 上：$r(X,T)=5-4=1$ 且 $r(T,X)=4$。\n\n我们在残留图中从 $S$ 开始运行一次广度优先搜索 (BFS)，并按字母顺序探索每个节点的邻居。从 $S$ 开始，其具有正残留容量的邻居是 $U$ 和 $V$，按 $U$ 然后 $V$ 的顺序入队。接着处理 $U$，按字母顺序探索其邻居，我们通过 $U \\to W$ 遇到 $W$，因为 $r(U,W)=10$，所以我们将 $W$ 入队。接着处理 $V$，我们通过 $V \\to X$ 将 $X$ 入队，因为 $r(V,X)=20$。接着处理 $W$，我们通过 $W \\to T$ 发现 $T$，因为 $r(W,T)=30$。因此，BFS 找到的增广路径是 $S \\to U \\to W \\to T$。\n\n这条路径上的瓶颈残留容量是其路径上各边残留容量的最小值：\n$$\\Delta=\\min\\{r(S,U),\\,r(U,W),\\,r(W,T)\\}=\\min\\{4,\\,1,\\,3\\}=1.$$\n通过 $\\Delta$ 进行增广会使总流量增加 $1$，因此新的总流量值为\n$$|f'|=|f|+\\Delta=10+1=11.$$", "answer": "$$\\boxed{11}$$", "id": "1387823"}, {"introduction": "著名的最大流最小割定理指出，网络中的最大流等于其最小割的容量。本练习提供了一种将该定理可视化的实用方法，要求你在最大流算法终止后，直接从最终的残差图中识别出一个最小割。通过找到所有从源点可达的顶点，你将揭示出网络的真正瓶颈所在。[@problem_id:1523800]", "problem": "一个应急管理机构正在分析一个城市疏散计划。该城市的道路网络被建模为一个流量网络，其中交叉路口是顶点，道路是具有特定容量（人/小时）的有向边。疏散的源点是一个指定为`S`的中心位置，目的地是一个指定为`T`的安全区域。\n\n在运行最大流算法以确定网络的最大疏散吞吐量后，该机构得到了最终的残留图 $G_f$。网络中的顶点标记如下：`S`（源点）、`A`（集合点）、`B`（桥梁）、`C`（检查站）、`D`（市中心）、`E`（高速公路）和`T`（终点站）。\n\n最终残留图 $G_f$ 中的有向边代表了具有剩余容量的路径，由集合 $E_f = \\{(S, A), (S, C), (A, B), (B, C), (C, D), (E, B), (T, E)\\}$ 给出。\n\n根据最大流最小割定理，一个最小`S-T`割可以通过将顶点划分为两个集合来确定：$V_S$，即在残留图中从源点`S`可达的顶点集合，以及$V_T$，即不可达的顶点集合。这种划分有助于识别疏散计划中的主要瓶颈。\n\n你的任务是确定在给定的残留图中从源点`S`可达的顶点集合 $V_S$。\n\n以下哪个选项正确表示了集合 $V_S$？\n\nA. $\\{S, A, B, C, D\\}$\n\nB. $\\{S, A, C\\}$\n\nC. $\\{S, A, B, C, D, E, T\\}$\n\nD. $\\{S, A, B, E, T\\}$\n\nE. $\\{S\\}$", "solution": "在残留图中，与最大流最小割定理相关的集合 $V_{S}$ 被定义为所有从源点 $S$ 出发，沿着残留图中的有向边路径可以到达的顶点的集合。形式上，从 $S$ 开始，我们迭代地添加任何满足以下条件的顶点 $v$：存在一条边 $(u,v) \\in E_{f}$，其中 $u$ 已经在可达集合中。\n\n给定 $E_{f}=\\{(S,A),(S,C),(A,B),(B,C),(C,D),(E,B),(T,E)\\}$，按以下步骤进行：\n\n1. 用源点初始化可达集合：$V_{S}=\\{S\\}$。\n2. 从 $S$ 出发的边是 $(S,A)$ 和 $(S,C)$，因此添加 $A$ 和 $C$：$V_{S}=\\{S,A,C\\}$。\n3. 从 $A$ 出发的边是 $(A,B)$，因此添加 $B$：$V_{S}=\\{S,A,C,B\\}$。\n4. 从 $B$ 出发的边是 $(B,C)$，它指向的 $C$ 已经在 $V_{S}$ 中；集合不变。\n5. 从 $C$ 出发的边是 $(C,D)$，因此添加 $D$：$V_{S}=\\{S,A,C,B,D\\}$。\n6. 从 $D$ 出发，在 $E_{f}$ 中没有出边；没有更多顶点可以添加。\n7. 考虑 $E$ 和 $T$：存在边 $(E,B)$ 和 $(T,E)$，但它们分别是从 $E$ 指向 $B$ 和从 $T$ 指向 $E$ 的。在 $E_{f}$ 中没有从 $S$ 到 $E$ 或 $T$ 的有向路径，因此 $E$ 和 $T$ 都不能从 $S$ 到达。\n\n因此，从 $S$ 可达的顶点集合是 $V_{S}=\\{S,A,B,C,D\\}$，这对应于选项A。", "answer": "$$\\boxed{A}$$", "id": "1523800"}, {"introduction": "计算出最大流通常只是第一步；真正的挑战在于如何改进它。本练习将从分析转向战略决策，要求你确定哪一次单一的网络升级能带来最大的收益。通过分析网络的各个最小割，你将学会如何精确定位最关键的瓶颈，并为提升系统容量做出明智的选择。[@problem_id:1387855]", "problem": "一个数据中心的网络被建模为一个有向图，其中节点代表服务器，边代表光纤链路。每个链路的容量，即其最大数据传输速率（单位为千兆比特每秒，Gbps），是给定的。该网络由六台服务器组成：一个源服务器 $S$，一个汇服务器 $K$，以及四个中间服务器 $A、B、C、D$。\n\n有向链路及其容量如下：\n- 从 $S$ 到 $A$：10 Gbps\n- 从 $S$ 到 $B$：8 Gbps\n- 从 $A$ 到 $C$：5 Gbps\n- 从 $A$ 到 $D$：6 Gbps\n- 从 $B$ 到 $C$：7 Gbps\n- 从 $C$ 到 $K$：12 Gbps\n- 从 $D$ 到 $K$：4 Gbps\n\n一位网络管理员打算升级单条链路以增加从服务器 $S$ 到服务器 $K$ 的总数据吞吐量。一次升级涉及将某条链路的容量增加到一个可以被视为实际上无限大的值。您的任务是确定哪一次单链路升级能最大化 S-K 总吞吐量的增量。\n\n为简化分析，给定当前网络的最大吞吐量为 16 Gbps。此外，已经确定网络中恰好有四个不同的 $S-K$ 割，其总容量小于 20 Gbps。一个 $S-K$ 割是将服务器划分为两个集合 $V_S$ 和 $V_K$ 的一种方式，使得 $S \\in V_S$ 且 $K \\in V_K$。一个割的容量是所有满足 $u \\in V_S$ 且 $v \\in V_K$ 的链路 $(u,v)$ 的容量之和。这四个相关的割由以下划分定义：\n- $C_1$：$V_S = \\{S, A, B, D\\}$ 且 $V_K = \\{C, K\\}$\n- $C_2$：$V_S = \\{S, A, B, C, D\\}$ 且 $V_K = \\{K\\}$\n- $C_3$：$V_S = \\{S, B\\}$ 且 $V_K = \\{A, C, D, K\\}$\n- $C_4$：$V_S = \\{S\\}$ 且 $V_K = \\{A, B, C, D, K\\}$\n\n下列哪项链路升级所带来的最大S-K流增量最大？\n\nA. 链路 $(A, C)$\nB. 链路 $(B, C)$\nC. 链路 $(C, K)$\nD. 链路 $(D, K)$\nE. 链路 $(S, A)$", "solution": "根据最大流最小割定理，最大 $S$-$K$ 流等于所有 $S$-$K$ 割中的最小容量。给定的四个容量低于 20 Gbps 的割，其容量计算如下。\n\n对于 $C_{1}$，其中 $V_{S}=\\{S,A,B,D\\}$ 且 $V_{K}=\\{C,K\\}$，跨越链路为 $(A,C)$、$(B,C)$、$(D,K)$，因此\n$$\n\\text{cap}(C_{1})=5+7+4=16.\n$$\n对于 $C_{2}$，其中 $V_{S}=\\{S,A,B,C,D\\}$ 且 $V_{K}=\\{K\\}$，跨越链路为 $(C,K)$、$(D,K)$，因此\n$$\n\\text{cap}(C_{2})=12+4=16.\n$$\n对于 $C_{3}$，其中 $V_{S}=\\{S,B\\}$ 且 $V_{K}=\\{A,C,D,K\\}$，跨越链路为 $(S,A)$、$(B,C)$，因此\n$$\n\\text{cap}(C_{3})=10+7=17.\n$$\n对于 $C_{4}$，其中 $V_{S}=\\{S\\}$ 且 $V_{K}=\\{A,B,C,D,K\\}$，跨越链路为 $(S,A)$、$(S,B)$，因此\n$$\n\\text{cap}(C_{4})=10+8=18.\n$$\n因此，当前的最大流为 $16$ Gbps，与题目陈述一致。\n\n将单条链路的容量升级至任意大，将使任何包含该链路的割的容量也变得任意大，因此可以不予考虑。新的最大流将等于不包含升级链路的剩余割中的最小容量（所有未列出的其他割的容量至少为 $20$ Gbps）。\n\n通过确定 $C_{1},C_{2},C_{3},C_{4}$ 中哪些割包含给定的链路作为跨越边，来评估每个选项：\n\nA. $(A,C)$ 仅出现在 $C_{1}$ 中。剩余割的容量：$C_{2}=16$, $C_{3}=17$, $C_{4}=18$。新的最大流 $=16$。\n\nB. $(B,C)$ 出现在 $C_{1}$ 和 $C_{3}$ 中。剩余割的容量：$C_{2}=16$, $C_{4}=18$。新的最大流 $=16$。\n\nC. $(C,K)$ 仅出现在 $C_{2}$ 中。剩余割的容量：$C_{1}=16$, $C_{3}=17$, $C_{4}=18$。新的最大流 $=16$。\n\nD. $(D,K)$ 出现在 $C_{1}$ 和 $C_{2}$ 中。剩余割的容量：$C_{3}=17$, $C_{4}=18$。新的最大流 $=17$。\n\nE. $(S,A)$ 出现在 $C_{3}$ 和 $C_{4}$ 中。剩余割的容量：$C_{1}=16$, $C_{2}=16$。新的最大流 $=16$。\n\n因此，升级链路 $(D,K)$ 会带来最大的增量，它将最大流从 $16$ Gbps 提高到 $17$ Gbps。", "answer": "$$\\boxed{D}$$", "id": "1387855"}]}