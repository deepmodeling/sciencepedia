{"hands_on_practices": [{"introduction": "我们从弦图（chordal graph）开始探索。弦图在稀疏矩阵计算和数据库系统中非常重要，其定义是图中任何长度大于3的圈都至少有一个“捷径”或“弦”。这个练习 [@problem_id:1534394] 将通过一个具体的网络设计场景，让你动手将一个非弦图（一个5-圈）通过添加最少的边来转化为弦图，从而直观地理解弦图的结构特性。", "problem": "正在设计一个包含5个服务器节点 $v_1, v_2, v_3, v_4, v_5$ 的通信网络。最初，计划的连接形成一个简单的环形结构：对于 $i=1,..,4$，每个服务器 $v_i$ 连接到 $v_{i+1}$，并且服务器 $v_5$ 连接回 $v_1$。\n\n为了网络稳定性，该设计必须满足一个“无长路径反馈”条件。该条件规定，任何涉及4个或更多不同服务器的闭环（圈）都必须有一个“捷径”。“捷径”被定义为环路中两个在该环路中不相邻的服务器之间的直接连接（一条边）。\n\n为了满足整个网络的“无长路径反馈”条件，必须在初始环形设计中添加的额外直接连接的最小数量是多少？", "solution": "设 $G_{0}$ 是顶点集为 $\\{v_{1},v_{2},v_{3},v_{4},v_{5}\\}$ 的5圈 $C_{5}$，其边为 $v_{i}v_{i+1}$（对于 $i \\in \\{1,2,3,4\\}$）和 $v_{5}v_{1}$，其中下标对5取模。所要求的条件是，每个长度至少为4的圈都有一条弦（一个捷径），即最终得到的图必须是弦图。\n\n下界（添加一条边是不够的）：根据 $C_{5}$ 的对称性，我们只需考虑添加单条弦 $v_{1}v_{3}$ 的情况。在 $G_{0} \\cup \\{v_{1}v_{3}\\}$ 中，考虑长度为4的圈 $v_{1}v_{3}v_{4}v_{5}v_{1}$。在这个4圈上，唯二的不相邻顶点对是 $\\{v_{1},v_{4}\\}$ 和 $\\{v_{3},v_{5}\\}$，而 $v_{1}v_{4}$ 和 $v_{3}v_{5}$ 都不是图中的边。因此，这个4圈没有弦，违反了条件。因此，至少需要添加2条额外的边。\n\n上界（添加两条边是足够的）：添加两条弦 $v_{1}v_{3}$ 和 $v_{1}v_{4}$ 以形成 $G=G_{0} \\cup \\{v_{1}v_{3}, v_{1}v_{4}\\}$。我们验证 G 中每个长度至少为4的圈都有一条弦。\n1) 5圈 $v_{1}v_{2}v_{3}v_{4}v_{5}v_{1}$ 有弦 $v_{1}v_{3}$ 和 $v_{1}v_{4}$。\n2) 4圈 $v_{1}v_{2}v_{3}v_{4}v_{1}$ 有弦 $v_{1}v_{3}$。\n3) 4圈 $v_{1}v_{3}v_{4}v_{5}v_{1}$ 有弦 $v_{1}v_{4}$。\n4) 不存在其他的4圈：任何不包含 $v_{1}$ 的4圈都必须使用一条非边（例如 $v_{2}v_{5}$ 或 $v_{2}v_{4}$），而这些边在G中不存在；而任何其他包含 $v_{1}$ 的4圈都与上面列出的两个圈之一同构。\n\n因此 G 是弦图，所以添加两条边是足够的。综合必要性和充分性，需要添加的额外直接连接的最小数量是2。", "answer": "$$\\boxed{2}$$", "id": "1534394"}, {"introduction": "除了通过寻找无弦圈来识别弦图，我们还可以使用一种更具算法性的方法：完美消除序（Perfect Elimination Ordering, PEO）。一个图是弦图当且仅当它拥有一个完美消除序，这个特性在开发高效算法中至关重要。这个练习 [@problem_id:1534398] 要求你验证一个给定的顶点序列是否为PEO，通过这个逐步检查的过程，你将掌握识别弦图的强大工具。", "problem": "在设计分布式计算系统时，一组九个计算模块，标记为 $V = \\{v_1, v_2, v_3, v_4, v_5, v_6, v_7, v_8, v_9\\}$，必须按特定顺序激活。这些模块之间的依赖关系和通信链接由一个无向图 $G=(V, E)$ 表示，其中如果两个模块必须直接交换数据，则它们之间存在一条边。\n\n图 $G$ 由以下邻接表定义：\n- $N(v_1) = \\{v_2, v_5\\}$\n- $N(v_2) = \\{v_1, v_3, v_5, v_6\\}$\n- $N(v_3) = \\{v_2, v_5, v_6, v_7\\}$\n- $N(v_4) = \\{v_5, v_8, v_9\\}$\n- $N(v_5) = \\{v_1, v_2, v_3, v_4, v_6, v_7, v_8\\}$\n- $N(v_6) = \\{v_2, v_3, v_5, v_7\\}$\n- $N(v_7) = \\{v_3, v_5, v_6\\}$\n- $N(v_8) = \\{v_4, v_5, v_9\\}$\n- $N(v_9) = \\{v_4, v_8\\}$\n\n为了优化资源分配，激活序列必须是完美消除排序 (Perfect Elimination Ordering, PEO)。PEO是图的顶点的一个排序，$\\sigma = (u_1, u_2, \\ldots, u_n)$，使得对于每个顶点 $u_i$，其在该序列中排在它后面的邻居集合形成一个团（即，该集合中的所有顶点都相互邻接）。\n\n一位工程师提出了以下激活序列：\n$$ \\sigma = (v_1, v_2, v_3, v_4, v_5, v_6, v_7, v_8, v_9) $$\n\n你的任务是分析这个提议的序列。确定序列中第一个违反 PEO 属性的顶点。如果该序列是有效的 PEO，你也应该指出这一点。\n\n以下哪个陈述是正确的？\nA. 第一个违反 PEO 属性的顶点是 $v_2$。\nB. 第一个违反 PEO 属性的顶点是 $v_3$。\nC. 第一个违反 PEO 属性的顶点是 $v_4$。\nD. 第一个违反 PEO 属性的顶点是 $v_5$。\nE. 排序 $\\sigma$ 是一个有效的完美消除排序。", "solution": "完美消除排序 (PEO) 要求对于排序 $\\sigma=(u_{1},\\ldots,u_{n})$ 中的每个顶点 $u_{i}$，在 $\\sigma$ 中排在 $u_{i}$ 之后的 $u_{i}$ 的邻居集合形成一个团。\n\n给定 $\\sigma=(v_{1},v_{2},v_{3},v_{4},v_{5},v_{6},v_{7},v_{8},v_{9})$，按顺序检查每个顶点：\n\n1. 对于 $v_{1}$，其后的邻居是 $N(v_{1}) \\cap \\{v_{2},\\ldots,v_{9}\\}=\\{v_{2},v_{5}\\}$。因为 $v_{2}\\in N(v_{5})$ 且 $v_{5}\\in N(v_{2})$，所以 $\\{v_{2},v_{5}\\}$ 是一个团。没有违反。\n\n2. 对于 $v_{2}$，其后的邻居是 $N(v_{2}) \\cap \\{v_{3},\\ldots,v_{9}\\}=\\{v_{3},v_{5},v_{6}\\}$。检查两两之间的邻接性：$v_{3}\\in N(v_{5})$，$v_{3}\\in N(v_{6})$，且 $v_{6}\\in N(v_{5})$，所以 $\\{v_{3},v_{5},v_{6}\\}$ 是一个团。没有违反。\n\n3. 对于 $v_{3}$，其后的邻居是 $N(v_{3}) \\cap \\{v_{4},\\ldots,v_{9}\\}=\\{v_{5},v_{6},v_{7}\\}$。检查两两之间的邻接性：$v_{6}\\in N(v_{5})$，$v_{7}\\in N(v_{5})$，且 $v_{7}\\in N(v_{6})$，所以 $\\{v_{5},v_{6},v_{7}\\}$ 是一个团。没有违反。\n\n4. 对于 $v_{4}$，其后的邻居是 $N(v_{4}) \\cap \\{v_{5},\\ldots,v_{9}\\}=\\{v_{5},v_{8},v_{9}\\}$。要使这个集合成为一个团，所有顶点对必须邻接。虽然 $v_{8}\\in N(v_{5})$ 且 $v_{9}\\in N(v_{8})$，但根据给定的邻接表，我们有 $v_{9}\\notin N(v_{5})$ 和 $v_{5}\\notin N(v_{9})$。因此 $\\{v_{5},v_{8},v_{9}\\}$ 不是一个团，所以 $v_{4}$ 违反了 PEO 属性。\n\n由于 $v_{1}$，$v_{2}$ 和 $v_{3}$ 满足条件，而 $v_{4}$ 是第一个违反该条件的顶点，因此正确的选项是 $v_{4}$。", "answer": "$$\\boxed{C}$$", "id": "1534398"}, {"introduction": "接下来，我们转向另一类重要的完美图：可比较图（comparability graph）。这类图的边可以被赋予方向，形成一个传递关系，这在建模偏序关系（如任务调度）时非常有用。一个图是可比较图当且仅当它不包含特定的“禁忌”导出子图，例如奇数长度的无弦圈。通过这个练习 [@problem_id:1534451]，你将通过在一个图中寻找这样的禁忌结构来判断它是否为可比较图，从而加深对传递性和图结构之间联系的理解。", "problem": "如果一个图 $G$ 的边可以被传递定向，那么它被称为**可比较图**。如果对于任意三个顶点 $u, v, w$，有向边 $u \\to v$ 和 $v \\to w$ 的存在意味着原始无向图中存在边 $\\{u, w\\}$ 且其被定向为 $u \\to w$，那么该定向是传递的。图论中的一个关键定理指出，一个图是可比较图当且仅当它不包含某些特定的导出子图作为“禁忌结构”。此类最简单的禁忌结构之一是长度为5或更大的奇数无弦环。\n\n考虑图 $G = (V, E)$，其顶点集为 $V = \\{1, 2, 3, 4, 5, 6, 7\\}$，边集为 $E = \\{\\{1,2\\}, \\{1,3\\}, \\{1,6\\}, \\{2,3\\}, \\{2,4\\}, \\{2,7\\}, \\{3,5\\}, \\{4,5\\}, \\{4,7\\}, \\{5,6\\}\\}$。\n\n下列哪个陈述是正确的？\n\nA. 图 $G$ 是一个可比较图。\nB. 图 $G$ 不是一个可比较图，因为由顶点集 $\\{1, 2, 3, 5, 6\\}$ 导出的子图是一个最小禁忌结构。\nC. 图 $G$ 不是一个可比较图，因为由顶点集 $\\{1, 2, 4, 5, 6\\}$ 导出的子图是一个最小禁忌结构。\nD. 图 $G$ 不是一个可比较图，因为由顶点集 $\\{2, 3, 4, 5, 7\\}$ 导出的子图是一个最小禁忌结构。\nE. 图 $G$ 是一个可比较图，因为它不包含长度为 $4$ 的导出环。", "solution": "为了确定哪个陈述是正确的，我们必须首先确定图 $G$ 是否是一个可比较图。如果一个图包含一个禁忌导出子图，那么它就不是可比较图。对可比较图而言，最基本的禁忌导出子图是长度为5或以上的无弦奇环（奇洞）。我们将在 $G$ 中寻找这样的结构。\n\n让我们分析这些选项：\n\n**选项A和C的分析：**\n让我们检查选项C中的顶点集 $S_C = \\{1, 2, 4, 5, 6\\}$。我们需要找到由这些顶点导出的 $G$ 的子图。这意味着我们要包含 $E$ 中所有两个端点都在 $S_C$ 内的边。\n$E$ 中两个顶点都在 $S_C = \\{1, 2, 4, 5, 6\\}$ 内的边有：\n- $\\{1,2\\}$\n- $\\{1,6\\}$\n- $\\{2,4\\}$\n- $\\{4,5\\}$\n- $\\{5,6\\}$\n这五条边形成一个环：$1-2-4-5-6-1$。这是一个长度为 $5$ 的环，是奇数。\n\n要使这个环成为一个禁忌结构，它必须是*导出的*（或无弦的）。这意味着在图 $G$ 中，没有其他边连接环上任意两个不相邻的顶点。环中不相邻的顶点对是：\n- $\\{1,4\\}$\n- $\\{1,5\\}$\n- $\\{2,5\\}$\n- $\\{2,6\\}$\n- $\\{4,6\\}$\n\n我们必须检查这些顶点对中是否有任何一对对应于图 $G$ 的原始边集 $E$ 中的一条边：\n$E = \\{\\{1,2\\}, \\{1,3\\}, \\{1,6\\}, \\{2,3\\}, \\{2,4\\}, \\{2,7\\}, \\{3,5\\}, \\{4,5\\}, \\{4,7\\}, \\{5,6\\}\\}$。\n- $\\{1,4\\} \\in E$ 吗？否。\n- $\\{1,5\\} \\in E$ 吗？否。\n- $\\{2,5\\} \\in E$ 吗？否。\n- $\\{2,6\\} \\in E$ 吗？否。\n- $\\{4,6\\} \\in E$ 吗？否。\n\n由于这些潜在的弦都不存在于 $E$ 中，所以环 $1-2-4-5-6-1$ 确实是 $G$ 的一个导出子图。一个长度为5的导出环 ($C_5$) 无法被传递定向。为了理解这一点，考虑任意一个由三个顶点组成的导出路径 $u-v-w$。传递定向要求边不能被定向为 $u \\to v \\to w$ 或 $u \\leftarrow v \\leftarrow w$。这意味着它们必须被定向为 $u \\to v \\leftarrow w$ 或 $u \\leftarrow v \\to w$。将此规则应用于导出环 $C_5=v_0-v_1-v_2-v_3-v_4-v_0$：\n如果我们定向 $v_0 \\to v_1$，导出路径 $v_0-v_1-v_2$ 迫使 $v_1 \\leftarrow v_2$。\n然后，在 $v_1 \\leftarrow v_2$ 的情况下，导出路径 $v_1-v_2-v_3$ 迫使 $v_2 \\to v_3$。\n依此类推：$v_2 \\to v_3$ 迫使 $v_3 \\leftarrow v_4$；$v_3 \\leftarrow v_4$ 迫使 $v_4 \\to v_0$；而 $v_4 \\to v_0$ 迫使 $v_0 \\leftarrow v_1$。这最后一个定向 ($v_0 \\leftarrow v_1$) 与我们最初的选择 ($v_0 \\to v_1$) 相矛盾。因此，不可能存在传递定向。\n\n由于 $G$ 包含一个导出的 $C_5$，它不是一个可比较图。$C_5$ 是一个最小禁忌结构，因为它的所有真导出子图都是路径，而路径是可比较图。因此，陈述C是正确的，陈述A是错误的。\n\n**选项B的分析：**\n考虑顶点集 $S_B = \\{1, 2, 3, 5, 6\\}$。由 $S_B$ 导出的子图中的边是：$\\{1,2\\}, \\{1,3\\}, \\{1,6\\}, \\{2,3\\}, \\{3,5\\}, \\{5,6\\}$。这个子图包含一个三角形 $\\{1,2,3\\}$，并且不是一个奇洞。事实上，这个结构是一个可比较图。例如，定向 $5 \\to 3, 5 \\to 6, 6 \\to 1, 3 \\to 1, 3 \\to 2, 1 \\to 2$ 是传递的。由于这个导出子图不是一个禁忌结构，所以选项B是错误的。\n\n**选项D的分析：**\n考虑顶点集 $S_D = \\{2, 3, 4, 5, 7\\}$。由 $S_D$ 导出的子图中的边是：$\\{2,3\\}, \\{2,4\\}, \\{2,7\\}, \\{3,5\\}, \\{4,5\\}, \\{4,7\\}$。\n这些顶点和边形成一个环 $2-3-5-4-7-2$。这是一个长度为5的环。然而，我们必须检查它是否是导出的。让我们寻找弦。一个潜在的弦是环中不相邻顶点之间的边。\n在这个环路（$2-3-..-4$）中，顶点对 $\\{2,4\\}$ 是不相邻的。$\\{2,4\\}$ 是 $G$ 中的一条边吗？是的，$\\{2,4\\} \\in E$。\n由于边 $\\{2,4\\}$ 存在，它是环 $2-3-5-4-7-2$ 的一条弦。因此，由 $S_D$ 导出的子图不是一个无弦奇环。它是一个 $C_5$ 加上一条弦。这不是我们正在寻找的最小禁忌结构。所以，选项D是错误的。\n\n**选项E的分析：**\n这个陈述声称 $G$ 是一个可比较图，我们已经证明这是错误的。其提供的理由也是有缺陷的。一个长度为4的环 ($C_4$) 是一个可比较图（例如，对于 $1-2-3-4-1$，可以定向为 $1 \\to 2, 4 \\to 3, 1 \\to 4, 2 \\to 3$），所以它的不存在并不是一个图成为可比较图的充分条件。该陈述的结论和理由都是错误的。\n\n基于以上分析，只有陈述C是正确的。", "answer": "$$\\boxed{C}$$", "id": "1534451"}]}