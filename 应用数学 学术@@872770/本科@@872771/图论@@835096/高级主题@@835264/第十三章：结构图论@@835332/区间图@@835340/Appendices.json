{"hands_on_practices": [{"introduction": "理解任何图类的第一步都是亲手构建实例。这个练习提供了一个将现实世界约束（如项目时间表）转化为其对应区间图的直接实践 [@problem_id:1514695]。通过确定哪些任务的时间区间重叠，你将构建一个图模型，这是掌握区间图定义和学习识别其基本属性（如连通性和度）的基础步骤。", "problem": "在项目管理中，时间安排重叠的任务会造成资源冲突。这些冲突可以用区间图来建模。考虑一个包含六个任务的项目，标记为 A、B、C、D、E 和 F。每个任务所需的时间区间（单位任意）以下列闭区间的形式给出：\n- 任务 A: $[1, 5]$\n- 任务 B: $[2, 6]$\n- 任务 C: $[4, 8]$\n- 任务 D: $[7, 10]$\n- 任务 E: $[9, 11]$\n- 任务 F: $[12, 14]$\n\n为这个项目计划构建一个区间图 $G$。图的顶点对应于任务，当且仅当两个顶点对应的任务时间区间重叠时，它们之间才有一条边。如果两个区间至少有一个公共点（包括端点），则认为它们重叠（例如，$[1, 2]$ 和 $[2, 3]$ 被认为是重叠的）。\n\n关于生成的图 $G$，以下哪个陈述是正确的？\n\nA. 图 $G$ 是连通的。\n\nB. 图 $G$ 包含一个长度为 4 的环。\n\nC. 图 $G$ 中任意顶点的最大度为 3。\n\nD. 图 $G$ 是一棵树。\n\nE. 图 $G$ 恰好有三个连通分量。", "solution": "我们根据以下规则来构建区间图：两个闭区间 $[x,y]$ 和 $[u,v]$ 重叠，当且仅当 $\\max(x,u) \\le \\min(y,v)$。这些区间是\n$A:[1,5]$, $B:[2,6]$, $C:[4,8]$, $D:[7,10]$, $E:[9,11]$, $F:[12,14]$。\n\n逐对检查重叠情况：\n- A 与 B: $\\max(1,2)=2 \\le \\min(5,6)=5$，所以 $A\\sim B$。\n- A 与 C: $\\max(1,4)=4 \\le \\min(5,8)=5$，所以 $A\\sim C$。\n- A 与 D: $\\max(1,7)=7 \\nleq \\min(5,10)=5$，所以没有边。\n- A 与 E: $\\max(1,9)=9 \\nleq \\min(5,11)=5$，所以没有边。\n- A 与 F: $\\max(1,12)=12 \\nleq \\min(5,14)=5$，所以没有边。\n\n- B 与 C: $\\max(2,4)=4 \\le \\min(6,8)=6$，所以 $B\\sim C$。\n- B 与 D: $\\max(2,7)=7 \\nleq \\min(6,10)=6$，所以没有边。\n- B 与 E: $\\max(2,9)=9 \\nleq \\min(6,11)=6$，所以没有边。\n- B 与 F: $\\max(2,12)=12 \\nleq \\min(6,14)=6$，所以没有边。\n\n- C 与 D: $\\max(4,7)=7 \\le \\min(8,10)=8$，所以 $C\\sim D$。\n- C 与 E: $\\max(4,9)=9 \\nleq \\min(8,11)=8$，所以没有边。\n- C 与 F: $\\max(4,12)=12 \\nleq \\min(8,14)=8$，所以没有边。\n\n- D 与 E: $\\max(7,9)=9 \\le \\min(10,11)=10$，所以 $D\\sim E$。\n- D 与 F: $\\max(7,12)=12 \\nleq \\min(10,14)=10$，所以没有边。\n\n- E 与 F: $\\max(9,12)=12 \\nleq \\min(11,14)=11$，所以没有边。\n\n因此，边集为 $\\{(A,B), (A,C), (B,C), (C,D), (D,E)\\}$。各顶点的度分别为 $\\deg(A)=2, \\deg(B)=2, \\deg(C)=3, \\deg(D)=2, \\deg(E)=1, \\deg(F)=0$。因此，最大度为 $3$，在顶点 $C$ 处取得。\n\n连通性：顶点 $A,B,C,D,E$ 通过路径 $A$–$B$–$C$–$D$–$E$ 形成一个连通分量（其中 $A,B,C$ 之间有一个三角形），而 $F$ 是孤立的。因此，图恰好有 $2$ 个连通分量，所以该图不是连通的，也不是一棵树。\n\n环分析：在 $A,B,C$ 上存在一个 3-环。要形成一个 4-环，我们需要四个顶点 $v_{1},v_{2},v_{3},v_{4}$，且存在边 $v_{1}v_{2}, v_{2}v_{3}, v_{3}v_{4}, v_{4}v_{1}$。检查 $A$–$E$ 中的候选项表明不存在这样的四元组，因为 $A$–$D$, $A$–$E$, $B$–$D$, $B$–$E$, $C$–$E$ 都不是边，所以不存在 4-环。\n\n评估各个陈述：\n- A: 错误（图不连通）。\n- B: 错误（没有长度为 $4$ 的环）。\n- C: 正确（最大度为 $3$）。\n- D: 错误（图不连通且包含环）。\n- E: 错误（有 $2$ 个连通分量，不是 $3$ 个）。\n\n因此，只有 C 是正确的。", "answer": "$$\\boxed{C}$$", "id": "1514695"}, {"introduction": "在学会了如何构建区间图之后，认识到哪些图无法用区间表示也同样重要。这个练习探讨了经典的例子——4-顶点环图（$C_4$），并引导你通过一个直观的几何论证来证明它为什么不是一个区间图 [@problem_id:1534410]。这个过程不仅揭示了区间表示的一个关键结构限制，也加深了你对区间图内在属性的理解。", "problem": "如果一个无向图 $G=(V, E)$ 的顶点可以与实数线上的一个区间集合建立一一对应关系，使得两个顶点邻接当且仅当它们对应的区间有非空交集，则称该图为**区间图**。\n\n考虑四个顶点的圈图，记作 $C_4$。该图的顶点集为 $V = \\{v_1, v_2, v_3, v_4\\}$，边集为 $E = \\{(v_1, v_2), (v_2, v_3), (v_3, v_4), (v_4, v_1)\\}$。图 $C_4$ 是一个著名的*不是*区间图的例子。\n\n下列哪个陈述为 $C_4$ 不可能是区间图提供了正确且严谨的解释？\n\nA. 设顶点按循环顺序标记。不邻接的顶点 $v_1$ 和 $v_3$ 共享相同的邻域 $\\{v_2, v_4\\}$。如果存在一个区间表示，那么 $v_1$ 和 $v_3$ 必然不相交的区间都需要与 $v_2$ 和 $v_4$ 的区间相交。这将迫使 $v_2$ 和 $v_4$ 的区间都跨越 $v_1$ 和 $v_3$ 区间之间的间隙，从而导致它们相交。这与 $v_2$ 和 $v_4$ 不邻接的事实相矛盾。\n\nB. 图 $C_4$ 不是区间图，因为它是一个二分图。许多二分图，例如完全二分图 $K_{m,n}$（其中 $m,n \\ge 2$），都不是区间图，而 $C_4$ 由于其结构也属于这一类。\n\nC. 任何具有 $n \\ge 4$ 个顶点的圈图 $C_n$ 都不可能是区间图。试图在一条一维线上排列区间来表示一个循环结构总是会失败，因为最后一个顶点 $v_n$ 的区间必须与第一个顶点 $v_1$ 的区间相交，同时不能与其他要求不邻接的顶点相交，这在几何上是不可能的。\n\nD. 一个图是区间图，当且仅当它不包含星形三元组（一个由三个顶点组成的独立集，其中任意两点之间都存在一条不包含第三个顶点任何邻居的路径）并且是弦图。图 $C_4$ 包含一个星形三元组，具体来说是顶点 $\\{v_1, v_2, v_3\\}$，因此它不是区间图。", "solution": "我们回顾定义：在区间表示中，两个顶点邻接当且仅当它们对应的区间相交，而不邻接的顶点必须有不相交的区间。\n\n我们使用反证法，假设 $C_4$ 存在一个区间表示。将顶点按循环顺序标记为 $v_1, v_2, v_3, v_4$，并设它们的区间分别为 $I_1, I_2, I_3, I_4$。由于 $v_1$ 和 $v_3$ 不邻接，它们的区间必须不相交：$I_1 \\cap I_3 = \\emptyset$。因为 $v_2$ 与 $v_1$ 和 $v_3$ 都邻接，所以它的区间必须与 $I_1$ 和 $I_3$ 都相交：$I_2 \\cap I_1 \\neq \\emptyset$ 且 $I_2 \\cap I_3 \\neq \\emptyset$。类似地，$v_4$ 与 $v_1$ 和 $v_3$ 都邻接，所以 $I_4 \\cap I_1 \\neq \\emptyset$ 且 $I_4 \\cap I_3 \\neq \\emptyset$。\n\n设不相交的区间 $I_1$ 和 $I_3$ 在实数线上被一个非空的开间隙 $G$ 分隔，即 $I_1$ 的右端点和 $I_3$ 的左端点之间的开区间。要使一个区间同时与 $I_1$ 和 $I_3$ 相交，它必须包含 $I_1$ 中的一个点和 $I_3$ 中的一个点。由于区间是实数线上的凸子集，任何这样的区间都必须包含这两点之间的整个闭合线段，特别是它必须包含间隙 $G$。因此，$I_2$ 和 $I_4$ 都包含 $G$，这意味着 $I_2 \\cap I_4 \\neq \\emptyset$。\n\n然而，在 $C_4$ 中 $v_2$ 和 $v_4$ 是不邻接的，所以它们的区间必须不相交。这个矛盾表明 $C_4$ 的区间表示不存在。这正是选项 A 中提出的严谨推理。\n\n选项 B 是不正确的，因为是二分图并不排除其是区间图（例如，树既是区间图也是二分图）。选项 C 陈述了一个正确的事实（$n\\geq 4$ 的圈图 $C_n$ 不是区间图），但给出了一个不严谨的论证。选项 D 引用了一个关于区间图的正确刻画（是弦图且无星形三元组），但错误地声称 $C_4$ 包含一个星形三元组；而且，$C_4$ 不是弦图，仅凭这一点就足以将其排除。", "answer": "$$\\boxed{A}$$", "id": "1534410"}, {"introduction": "最后的这个练习将理论付诸实践，展示了区间图在解决优化问题中的强大作用。通过处理一个现实中的任务调度场景，你将学习并应用一种贪心算法，这是一种在区间问题中常用且高效的技术，来寻找最优解 [@problem_id:1514663]。这个练习旨在锻炼你将抽象的图论概念应用于解决具体工程问题的能力。", "problem": "一个超级计算中心需要调度一组科学计算任务。每个任务都有一个连续的时间区间，在此期间它必须被主动处理。该中心的核心处理单元最多可以同时处理 $k$ 个任务。如果在任何时刻有超过 $k$ 个任务同时运行，系统将会过载并崩溃。为防止这种情况，系统管理员可以选择将一些任务分流到外部云服务，从而将它们从本地调度中移除。目标是通过最小化分流的任务数量来确保系统稳定性。\n\n现给定 8 个任务和并发限制 $k=2$。各任务的时间区间以 [开始时间, 结束时间] 的形式给出：\n- 任务 1: [1, 5]\n- 任务 2: [2, 6]\n- 任务 3: [3, 7]\n- 任务 4: [4, 8]\n- 任务 5: [9, 11]\n- 任务 6: [10, 14]\n- 任务 7: [12, 13]\n- 任务 8: [15, 17]\n\n必须分流的最小任务数量是多少，才能确保任何时候同时运行的任务不超过 2 个？", "solution": "我们将问题形式化为最小化移除的区间数量，以使并发数永远不超过限制。令 $k=2$ 并定义并发函数 $c(t)$ 为在时间 $t$ 的活跃任务数量。移除数量的一个必要下界是\n$$\nR_{\\min} \\geq \\max_{t} \\max\\{0,\\, c(t) - k\\}.\n$$\n对于区间图问题，要移除最少的区间以确保对所有 $t$ 都有 $c(t) \\leq k$，可以通过一种最优的贪心策略解决。\n\n我们首先根据给定的区间计算 $c(t)$ 以找到最大并发数：\n- 任务为：$[1,5], [2,6], [3,7], [4,8], [9,11], [10,14], [12,13], [15,17]$。\n\n在区间 $[1,8]$ 上：\n- 对于 $t \\in (1,2)$: $c(t)=1$ (任务 1)。\n- 对于 $t \\in (2,3)$: $c(t)=2$ (任务 1, 2)。\n- 对于 $t \\in (3,4)$: $c(t)=3$ (任务 1, 2, 3)。\n- 对于 $t \\in (4,5)$: $c(t)=4$ (任务 1, 2, 3, 4)。\n- 对于 $t \\in (5,6)$: $c(t)=3$ (任务 2, 3, 4)。\n- 对于 $t \\in (6,7)$: $c(t)=2$ (任务 3, 4)。\n- 对于 $t \\in (7,8)$: $c(t)=1$ (任务 4)。\n\n在后面的区间上，通过类似分析可知并发数从未超过 2。\n因此，最大并发数是 $\\max_{t} c(t)=4$，在区间 $(4,5)$ 上达到。下界给出 $R_{\\min} \\geq 4-2=2$。这意味着我们至少需要分流 2 个任务。\n\n我们应用最优的贪心策略，即按任务的开始时间顺序处理它们。我们维护一个当前正在运行的任务集合，其大小不超过 $k=2$。当一个新任务到达时，如果运行中的任务少于 $k$ 个，我们直接接纳新任务。如果运行中的任务已经达到 $k$ 个，我们将新任务与已在运行的任务放在一起比较，并从中移除（分流）结束时间最晚的那个任务。\n1.  任务 1 [1,5] 和任务 2 [2,6] 先后到达，此时运行任务数未超限，均被接纳。运行中：{[1,5], [2,6]}。\n2.  任务 3 [3,7] 到达。此时运行任务数将变为 3，超过限制。比较 {[1,5], [2,6], [3,7]} 的结束时间 (5, 6, 7)。任务 3 结束最晚，因此被分流。分流任务：{3}。运行中：{[1,5], [2,6]}。\n3.  任务 4 [4,8] 到达。此时运行任务数将变为 3。比较 {[1,5], [2,6], [4,8]} 的结束时间 (5, 6, 8)。任务 4 结束最晚，被分流。分流任务：{3, 4}。运行中：{[1,5], [2,6]}。\n4.  在后续时间点，任务 1 和 2 结束后，新到达的任务 5, 6, 7, 8 在任何时刻都不会导致并发数超过 2。\n\n通过此策略，我们共分流了 2 个任务。由于这等于我们计算出的下界，因此这是最优解。\n\n因此，必须分流的最小任务数量是 $2$。", "answer": "$$\\boxed{2}$$", "id": "1514663"}]}