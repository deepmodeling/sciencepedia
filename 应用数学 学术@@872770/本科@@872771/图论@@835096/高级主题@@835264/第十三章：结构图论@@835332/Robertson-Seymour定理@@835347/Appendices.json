{"hands_on_practices": [{"introduction": "图子式是图论中的一个核心概念，它通过顶点删除、边删除和边收缩等操作来定义。掌握如何通过边收缩从一个图中获得另一个图，是理解罗伯逊-西摩定理等高级结论的基础。本练习 [@problem_id:1546329] 提供了一个具体的操作实例，要求您在一个常见的三维立方体图 $Q_3$ 中，通过收缩一组特定的边来构造出完全图 $K_4$。", "problem": "在图论中，如果图 $H$ 可以通过对图 $G$ 的某个子图进行一系列的边收缩操作得到，那么称 $H$ 是 $G$ 的一个图子式。边收缩是一种操作，即移除一条边 $(u,v)$ 并将其两个端点 $u$ 和 $v$ 合并成一个新的顶点。这个新顶点与所有先前与 $u$ 或 $v$ 相邻的顶点都相邻。\n\n考虑一个3维立方体图，记作 $Q_3$。$Q_3$ 的顶点集可以由所有3位二进制字符串表示：$\\{000, 001, 010, 011, 100, 101, 110, 111\\}$。当且仅当两个顶点的二进制字符串表示仅在一位上不同时，它们之间存在一条边。例如，顶点 $000$ 与顶点 $001$、$010$ 和 $100$ 相连。\n\n4个顶点的完全图，记作 $K_4$，是一个有4个顶点且每个顶点都与其他所有顶点相连的图。从 $Q_3$ 中获得一个 $K_4$ 图子式的一种方法是在 $Q_3$ 中找到一个完美匹配，并收缩其所有四条边。完美匹配是一个边的集合，其中任意两条边都不共享顶点，并且图中的每个顶点都是其中一条边的端点。\n\n下列哪一个边的集合表示 $Q_3$ 中的一个完美匹配，并且在收缩其所有四条边后，得到的图与 $K_4$ 同构？\n\nA. $\\{(000, 100), (001, 101), (010, 110), (011, 111)\\}$\n\nB. $\\{(000, 001), (001, 011), (110, 100), (101, 111)\\}$\n\nC. $\\{(000, 111), (001, 110), (010, 101), (100, 011)\\}$\n\nD. $\\{(000, 010), (001, 101), (011, 111), (100, 110)\\}$\n\nE. $\\{(000, 001), (110, 111), (100, 110), (011, 001)\\}$", "solution": "我们使用 $Q_3$ 的定义：顶点是3位二进制字符串，当且仅当两个顶点之间的汉明距离为1时，它们之间存在一条边。一个完美匹配是一个包含4条边的集合，这些边两两顶点不交，并且覆盖了所有8个顶点。收缩一个完美匹配 $\\{(u_{i},v_{i})\\}_{i=1}^{4}$ 后，得到的图有四个超顶点 $U_{i}=\\{u_{i},v_{i}\\}$；当且仅当在 $Q_3$ 中存在至少一条边连接 $U_i$ 中的一个顶点和 $U_j$ 中的一个顶点时，两个超顶点 $U_i$ 和 $U_j$ 在收缩后的图中是相邻的。为了得到一个与 $K_4$ 同构的图，这四个超顶点中的每一对都必须是相邻的。\n\n逐一检查每个选项：\n\n选项 A： $\\{(000,100),(001,101),(010,110),(011,111)\\}$。这是一个完美匹配（所有四条边都是有效的且顶点不交）。收缩后，超顶点为 $A_{1}=\\{000,100\\}$, $A_{2}=\\{001,101\\}$, $A_{3}=\\{010,110\\}$, $A_{4}=\\{011,111\\}$。检查 $A_1$ 和 $A_4$ 之间的邻接性：测试边 $000$–$011$（汉明距离为2），$000$–$111$（距离为3），$100$–$011$（距离为3），$100$–$111$（距离为2）；没有一条是边。因此，收缩后的图不是完全图；这不会产生 $K_4$。\n\n选项 B： $\\{(000,001),(001,011),(110,100),(101,111)\\}$。这不是一个匹配，因为 $(000,001)$ 和 $(001,011)$ 共享顶点 $001$。\n\n选项 C： $\\{(000,111),(001,110),(010,101),(100,011)\\}$。$(000,111)$ 这对顶点在 $Q_3$ 中不是一条边（汉明距离为3），所以这是无效的。\n\n选项 D： $\\{(000,010),(001,101),(011,111),(100,110)\\}$。列出的每一对顶点都只相差一位，并且所有8个顶点都恰好使用了一次，所以这是一个完美匹配。收缩后，定义 $P_{1}=\\{000,010\\}$, $P_{2}=\\{001,101\\}$, $P_{3}=\\{011,111\\}$, $P_{4}=\\{100,110\\}$。验证每对超顶点之间的邻接性：\n- $P_{1}$–$P_{2}$：存在边 $000$–$001$。\n- $P_{1}$–$P_{3}$：存在边 $010$–$011$。\n- $P_{1}$–$P_{4}$：存在边 $000$–$100$。\n- $P_{2}$–$P_{3}$：存在边 $001$–$011$。\n- $P_{2}$–$P_{4}$：存在边 $101$–$100$。\n- $P_{3}$–$P_{4}$：存在边 $111$–$110$。\n因此，每对超顶点都是相邻的，所以收缩后的图与 $K_4$ 同构。\n\n选项 E： $\\{(000,001),(110,111),(100,110),(011,001)\\}$。这不是一个匹配，因为 $(110,111)$ 和 $(100,110)$ 共享顶点 $110$，而 $(000,001)$ 和 $(011,001)$ 共享顶点 $001$。\n\n因此，唯一一个既是完美匹配又能收缩成 $K_4$ 的集合是选项D。", "answer": "$$\\boxed{D}$$", "id": "1546329"}, {"introduction": "罗伯逊-西摩定理一个关键的适用条件是图的性质必须是“子式封闭”的，即如果一个图拥有该性质，它的所有子式也必须拥有该性质。然而，并非所有图的性质都满足这个条件。本练习 [@problem_id:1546364] 将通过一个简单而巧妙的例子——在一个偶数长度的圈图中收缩一条边——来展示“二分性”这一重要性质就不是子式封闭的，从而帮助您更深刻地理解该定理的适用范围。", "problem": "在图论中，如果图 $H$ 可以通过对另一个图 $G$ 进行一系列顶点删除、边删除和边收缩操作而形成，则称 $H$ 是 $G$ 的一个子式（minor）。对边 $(u, v)$ 进行边收缩操作会移除该边，并将两个顶点 $u$ 和 $v$ 合并成一个单一的新顶点，这个新顶点与所有曾与 $u$ 或 $v$ 相邻的顶点（不包括 $u$ 和 $v$ 本身）相邻。如果对于任何具有性质 $P$ 的图 $G$，其所有子式也都具有性质 $P$，则称图的性质 $P$ 是“子式封闭的”。\n\n考虑一个偶圈图，记为 $C_{2n}$，它有 $2n$ 个顶点和 $2n$ 条边，其中 $n$ 是一个满足 $n \\ge 3$ 的整数。已知该图是连通的、二分的、欧拉的和哈密顿的。\n\n现在，假设我们通过对 $C_{2n}$ 执行一次边收缩来形成一个新图 $G'$。这个将二分图 $C_{2n}$ 变换为其子式 $G'$ 的特定过程，可以用来检验某些性质是否是子式封闭的。\n\n通过从 $C_{2n}$ 到 $G'$ 的这个特定变换，证明了以下哪一个图的性质**不是**子式封闭的？\n\nA. 是连通图。\n\nB. 是欧拉图（包含一条恰好经过每条边一次的迹的图）。\n\nC. 是二分图（其顶点可以被划分为两个不相交的集合，使得每条边都连接一个集合中的顶点到另一个集合中的顶点）。\n\nD. 是哈密顿图（包含一个恰好经过每个顶点一次的圈的图）。", "solution": "我们从顶点为 $v_{1},\\dots,v_{2n}$ 的偶圈 $C_{2n}$ 开始，其边为 $(v_{i},v_{i+1})$（$i=1,\\dots,2n-1$）和 $(v_{2n},v_{1})$。根据偶圈的标准性质，该图是连通的、二分的、欧拉的和哈密顿的。\n\n对边 $(v_{1},v_{2})$ 执行一次边收缩。根据边收缩的定义，我们用一个新顶点 $w$ 替换 $v_{1}$ 和 $v_{2}$，并使 $w$ 与所有曾与 $v_{1}$ 或 $v_{2}$ 相邻的顶点（不包括 $v_{1}$ 和 $v_{2}$）相邻。在 $C_{2n}$ 中，$v_{1}$ 的邻点是 $\\{v_{2n},v_{2}\\}$，$v_{2}$ 的邻点是 $\\{v_{1},v_{3}\\}$，所以 $w$ 与 $v_{2n}$ 和 $v_{3}$ 相邻。圈中 $v_{3},v_{4},\\dots,v_{2n}$ 之间的所有其他边保持不变。\n\n因此，得到的图 $G'$ 包含一个圈\n$$\nv_{3} - v_{4} - \\dots - v_{2n} - w - v_{3},\n$$\n其长度为 $(2n-2)+1=2n-1$。因此，$G'$ 是奇圈 $C_{2n-1}$。\n\n现在我们来检验在这个特定变换下每种性质的情况：\n- 连通性：边收缩不会使图变得不连通，所以 $G'$ 是连通的。\n- 欧拉性：在 $C_{2n}$ 中，每个顶点的度都为 $2$。在收缩边 $(u,v)$ 后，新顶点的度为 $\\deg(u)+\\deg(v)-2$。此处 $\\deg(v_{1})=\\deg(v_{2})=2$，所以新顶点的度为 $2+2-2=2$，所有其他顶点的度保持为 $2$。因此 $G'$ 中所有顶点的度都是偶数，所以 $G'$ 是欧拉图。\n- 二分性：一个图是二分图当且仅当它不包含奇数长度的圈。由于 $G'$ 包含一个长度为 $2n-1$ 的奇圈，$G'$ 不是二分图，而 $C_{2n}$ 是二分图。因此，二分性在这种子式操作下没有被保持。\n- 哈密顿性：由于 $G'=C_{2n-1}$，它本身就是一个哈密顿圈（整个圈自身），所以在这个例子中哈密顿性被保持了。\n\n因此，从 $C_{2n}$ 到 $G'$ 的特定变换表明，作为二分图的性质不是子式封闭的。", "answer": "$$\\boxed{C}$$", "id": "1546364"}, {"introduction": "拥有有限个“禁止子式”是子式封闭性质最强大的推论之一，它为判定图是否具有该性质提供了一个理论上的“检查清单”。这个思想实验 [@problem_id:1546369] 将这一理论与算法设计联系起来，它要求您利用瓦格纳定理中关于平面图的两个著名禁止子式——$K_5$ 和 $K_{3,3}$——来构建一个判定图平面性的逻辑条件。这清晰地揭示了禁止子式理论在算法和图结构领域中的深刻影响。", "problem": "您是一名软件开发人员，正在开发一个计算图论库。您的任务是实现一个函数 `isPlanar(G)`，它接受一个简单无向图 `G` 作为输入，如果 `G` 是平面图则返回 `True`，否则返回 `False`。\n\n您的库提供了一个强大的预构建函数 `hasMinor(G, H)`。此函数接受两个图 `G` 和 `H` 作为输入，如果 `H` 是 `G` 的一个图子式（minor），则返回 `True`，否则返回 `False`。您可以将此函数用作“黑盒”，无需了解其内部实现。\n\n作为背景知识，如果一个图可以被绘制在平面上，使得任意两条边都不相交，那么这个图就是**平面图**。对于此任务，两个特定的非平面图至关重要：\n- $K_5$ 是 5 个顶点上的**完全图**，其中每对不同的顶点都由一条边连接。\n- $K_{3,3}$ 是**完全二分图**，它有两个顶点集，每个集合包含 3 个顶点。第一个集合中的每个顶点都与第二个集合中的每个顶点相连，且集合内部没有边。\n\n使用提供的 `hasMinor` 函数，以下哪个逻辑表达式能正确实现 `isPlanar(G)`？也就是说，哪个表达式当且仅当图 `G` 是平面图时求值为 `True`？\n\n（假设使用标准布尔逻辑运算符：`` 表示与，`||` 表示或，`!` 表示非。）\n\nA. `!hasMinor(G, K_5)  !hasMinor(G, K_{3,3})`\n\nB. `!hasMinor(G, K_5) || !hasMinor(G, K_{3,3})`\n\nC. `hasMinor(G, K_5) || hasMinor(G, K_{3,3})`\n\nD. `!hasMinor(G, K_5)`\n\nE. `hasMinor(G, K_5)  hasMinor(G, K_{3,3})`", "solution": "我们需要一个用图子式（minor）来表达的逻辑条件，以刻画平面性。根据 Wagner 定理，一个有限图 $G$ 是平面图，当且仅当它既不以 $K_{5}$ 也不以 $K_{3,3}$ 为图子式。用逻辑形式表示：\n$$\n\\text{Planar}(G) \\iff \\lnot\\big(\\text{hasMinor}(G,K_{5}) \\lor \\text{hasMinor}(G,K_{3,3})\\big).\n$$\n应用德摩根定律，\n$$\n\\lnot\\big(A \\lor B\\big) \\iff (\\lnot A) \\land (\\lnot B),\n$$\n我们得到\n$$\n\\text{Planar}(G) \\iff \\big(\\lnot\\,\\text{hasMinor}(G,K_{5})\\big) \\land \\big(\\lnot\\,\\text{hasMinor}(G,K_{3,3})\\big).\n$$\n这与选项 A 匹配：`!hasMinor(G, K_5)  !hasMinor(G, K_{3,3})`。\n\n为什么其他选项不正确：\n- B 要求两个禁止的图子式中仅有一个不存在即可；但那些恰好包含 $K_{5}$ 或 $K_{3,3}$ 之一作为图子式的图是非平面的，却会被错误地接受。\n- C 为真的条件恰好是 $G$ 是非平面图，而不是平面图，这依据的是 Wagner 定理。\n- D 忽略了 $K_{3,3}$ 这种阻碍；一个图可能没有 $K_{5}$ 图子式，但仍然因为有 $K_{3,3}$ 图子式而是非平面的。\n- E 要求两个图子式都存在；许多非平面图仅包含其中一个作为图子式，因此该实现会错误地接受它们。\n\n因此，正确的实现是两个图子式测试的否定的合取，即选项 A。", "answer": "$$\\boxed{A}$$", "id": "1546369"}]}