{"hands_on_practices": [{"introduction": "拉姆齐定理保证了在足够大的结构中，必然会从混沌中涌现出秩序。一个经典的例子是 $R(3,3)=6$，但证明这一点需要表明一个较小的图，即 $K_5$，可以被边着色而*不*产生任何单色三角形。这第一个练习将引导你运用数论中的概念，构造一个具体的着色方案，从而亲手证明 $R(3,3) \\gt 5$ 这个下界，为理解拉姆齐数提供一个坚实的起点。[@problem_id:1530324]", "problem": "考虑完全图 $K_5$，其顶点由集合 $V = \\{0, 1, 2, 3, 4\\}$ 标记。我们对该图引入一种使用红色和蓝色的2-边着色。一条边 $(u, v)$（其中 $u,v \\in V$）的颜色由以下规则确定：\n- 如果 $|u-v| \\pmod{5}$ 的值是模5的二次剩余，则边 $(u, v)$ 为红色。\n- 如果 $|u-v| \\pmod{5}$ 的值是模5的二次非剩余，则边 $(u, v)$ 为蓝色。\n\n为清楚起见，对于一个素数 $p$，如果存在一个整数 $x$ 使得 $x^2 \\equiv a \\pmod{p}$，则非零整数 $a$ 是模 $p$ 的二次剩余。如果不存在这样的 $x$，则 $a$ 是模 $p$ 的二次非剩余。\n\n确定在这个着色图中单色三角形的总数。一个单色三角形是指其三个连接边颜色均相同的一组三个顶点。你的答案应该是一个整数。", "solution": "根据定义，对于素数模 $5$，非零二次剩余的集合是\n$$\n\\{x^{2} \\bmod 5 : x \\in \\{1,2,3,4\\}\\} = \\{1^{2},2^{2},3^{2},4^{2}\\} \\bmod 5 = \\{1,4,4,1\\} = \\{1,4\\}.\n$$\n因此，模 $5$ 的二次非剩余是 $\\{2,3\\}$。\n\n因此，着色规则如下：\n- 如果 $|u-v| \\equiv 1 \\text{ 或 } 4 \\pmod{5}$，则边 $(u,v)$ 是红色的。\n- 如果 $|u-v| \\equiv 2 \\text{ 或 } 3 \\pmod{5}$，则边 $(u,v)$ 是蓝色的。\n\n将顶点按自然顺序 $0,1,2,3,4$ 标记在一个环上。那么：\n- 红边连接着连续的标签（差值为 $1$ 或 $4$），恰好构成了 $5$-环 $C_{5}$ 的 $5$ 条边。一个 $5$-环不包含 $3$-环，因此不存在红色三角形。\n- 蓝边连接着距离为 $2$ 或 $3$（模 $5$）的顶点；这些边恰好构成了 $5$ 个顶点上的步长为 $2$ 的圈（五角星），它也是一个 $5$-环 $C_{5}$。因此，也不存在蓝色三角形。\n\n单色三角形是完全包含在一种颜色类别中的三角形，但每种颜色类别都导出一个 $C_{5}$，而 $C_{5}$ 是无三角形的。因此，单色三角形的总数为 $0$。", "answer": "$$\\boxed{0}$$", "id": "1530324"}, {"introduction": "我们已经知道对 $K_6$ 的任意二色边着色都必然包含至少一个单色三角形，但这仅仅是个开始。组合学中一个更深刻的问题不仅在于“是否存在”，更在于“有多少”。这个练习将挑战你确定在 $K_6$ 的任何着色方案中，保证存在的单色三角形的最小数量，推动你从存在性证明迈向定量分析的更高层次。[@problem_id:1530344]", "problem": "在一次全球峰会上，正好有六名外交官出席。据观察，任何两名外交官之间，他们要么是盟友，要么是对手，不存在其他类型的关系。一个“凝聚三人组”是指三名外交官，他们彼此都是盟友。一个“敌对三人组”是指三名外交官，他们彼此都是对手。根据拉姆齐定理的一个已知结果，在任何六名外交官中，至少存在一个这样的三人组（无论是凝聚的还是敌对的）。\n\n你的任务是超越这个存在性结果。确定在六名外交官中，无论盟友和对手关系的具体配置如何，保证存在的这种三人组（凝聚三人组与敌对三人组之和）的最小可能总数。", "solution": "将盟友和对手关系解释为6个顶点的完全图（记为 $K_{6}$）的红/蓝边着色。一个凝聚三人组是一个红色三角形；一个敌对三人组是一个蓝色三角形。设 $m$ 为单色三角形（红色加蓝色）的总数。我们寻求在所有这种二色着色方案中 $m$ 的最小值。\n\n设 $d(v)$ 是顶点 $v$ 的红度，因此 $d(v) \\in \\{0,1,2,3,4,5\\}$ 且 $d(v) + d_{B}(v) = 5$，其中 $d_{B}(v)$ 是蓝度。定义\n$$\nS \\equiv \\sum_{v}\\left[\\binom{d(v)}{2} + \\binom{5 - d(v)}{2}\\right].\n$$\n组合学解释：对于每个顶点 $v$，$\\binom{d(v)}{2}$ 计算与 $v$ 相关联的红色边的无序对数量，而 $\\binom{5 - d(v)}{2}$ 计算与 $v$ 相关联的蓝色边的无序对数量。每个三角形对 $S$ 的贡献如下：\n- 一个单色三角形贡献 $3$（在其 $3$ 个顶点中的每一个，两条关联边颜色相同）。\n- 一个双色三角形（两条边一种颜色，另一条边另一种颜色）贡献 $1$（仅在两条同色边相交的那个顶点处）。\n\n设 $T$ 为 $K_{6}$ 中三角形的总数，所以 $T = \\binom{6}{3} = 20$。如果有 $m$ 个单色三角形和 $T - m$ 个双色三角形，那么\n$$\nS = 3m + (T - m) = 2m + T.\n$$\n因此\n$$\nm = \\frac{S - T}{2}.\n$$\n由于 $T$ 是固定的，最小化 $m$ 等同于最小化 $S$。\n\n对于每个顶点，写出\n$$\ns(d) \\equiv \\binom{d}{2} + \\binom{5 - d}{2} = \\frac{d(d - 1)}{2} + \\frac{(5 - d)(4 - d)}{2} = d^{2} - 5d + 10.\n$$\n因此\n$$\nS = \\sum_{v} s(d(v)) = \\sum_{v} \\bigl(d(v)^{2} - 5d(v) + 10\\bigr).\n$$\n函数 $s(d) = d^{2} - 5d + 10$ 对 $d$ 是凸函数，在 $d = \\frac{5}{2}$ 处取得最小值；在整数 $d \\in \\{0,1,2,3,4,5\\}$ 中，最小值在 $d = 2$ 或 $d = 3$ 时取得，此时\n$$\ns(2) = s(3) = 4,\\quad s(1) = s(4) = 6,\\quad s(0) = s(5) = 10.\n$$\n因此，当每个顶点的红度为 $2$ 或 $3$ 时，$S$ 被最小化。设红度为 $3$ 的顶点数为 $x$，红度为 $2$ 的顶点数为 $6 - x$。那么红度之和为 $3x + 2(6 - x) = 12 + x$，该值必须为偶数，所以 $x$ 是偶数。对于 $x \\in \\{0,2,4,6\\}$，这样的度序列是可图的，并且在所有这些情况下\n$$\nS_{\\min} = 6 \\cdot 4 = 24.\n$$\n因此，\n$$\nm_{\\min} = \\frac{S_{\\min} - T}{2} = \\frac{24 - 20}{2} = 2.\n$$\n\n可实现性由以下明确的着色方案证明：将 $6$ 个顶点分成两个各有 $3$ 个顶点的集合，将所有跨集合的边染成红色（形成红色的 $K_{3,3}$），并将所有集合内部的边染成蓝色。红色图是二部图，所以它没有红色三角形；每个部分都导出一个蓝色的 $K_{3}$，恰好得到 $2$ 个蓝色三角形。因此 $m = 2$，达到了下界。\n\n所以，在任何配置下，保证存在的单色三人组（凝聚加敌对）的最小总数是 $2$。", "answer": "$$\\boxed{2}$$", "id": "1530344"}, {"introduction": "拉姆齐理论的应用远不止寻找完全子图（即团）。其原理同样适用于任何类型的图结构，如路径、圈或树。本练习通过一个网络可靠性的假想场景，要求你计算路径图 $P_4$ 的拉姆齐数 $R(P_4, P_4)$，这不仅能让你练习寻找上下界的核心技巧，还能展示拉姆齐问题的广泛适用性。[@problem_id:1530483]", "problem": "在网络可靠性的研究中，一个简化模型将网络表示为一个图，其中 $n$ 个服务器是顶点，它们之间的连接是边。我们假设网络是完全互连的，这对应于一个完全图 $K_n$。每个连接可以处于两种状态之一：“活跃”（我们可以将其染成红色）或“潜伏”（我们可以将其染成蓝色）。\n\n“漏洞路径”被定义为四个不同服务器 $v_1, v_2, v_3, v_4$ 的序列，使得连接 $(v_1, v_2)$、$(v_2, v_3)$ 和 $(v_3, v_4)$ 都处于相同的状态（全部活跃或全部潜伏）。在图论中，这个结构被称为四个顶点的路径，记作 $P_4$。这样一条路径的存在可能代表网络中潜在的连锁故障反应。\n\n我们感兴趣的是确定，在一个完全互连的网络中，需要的最少服务器数量 $n$ 是多少，才能保证无论连接如何被分配到“活跃”或“潜伏”状态，都至少存在一条这样的漏洞路径。这个值被称为拉姆齐数 $R(P_4, P_4)$。\n\n这个最少服务器数量 $n$ 的值是多少？", "solution": "我们想求最小的 $n$，使得对完全图 $K_{n}$ 的边进行任意红/蓝二染色，都必然包含一个单色的 $P_{4}$（一个有四个不同顶点的路径）。\n\n下界：构造一个 $K_{4}$ 的二染色，使其不含单色 $P_{4}$。将顶点标记为 $v_{1},v_{2},v_{3},v_{4}$。将 $v_{1}v_{i}$（对于 $i \\in \\{2,3,4\\}$）染成红色，并将 $\\{v_{2},v_{3},v_{4}\\}$ 之间的所有边染成蓝色。红色子图是星形图 $K_{1,3}$（其直径为2，不包含 $P_{4}$），而蓝色子图是 $K_{3}$（它只有三个顶点，不可能包含 $P_{4}$）。因此，$K_{4}$ 可以避免出现单色 $P_{4}$，所以\n$$\nR(P_{4},P_{4}) \\geq 5.\n$$\n\n上界：证明 $K_{5}$ 的任意二染色都包含一个单色 $P_{4}$。考虑任意一个顶点 $a$。令 $d_{R}(a)$ 和 $d_{B}(a)$ 分别表示顶点 $a$ 的红色度和蓝色度，且有 $d_{R}(a)+d_{B}(a)=4$。\n\n断言：如果 $d_{R}(a) \\geq 3$（或对称地，$d_{B}(a) \\geq 3$），那么就存在一个单色 $P_{4}$。证明：假设 $d_{R}(a) \\geq 3$，令其红色邻点为 $b,c,d$。\n- 如果 $\\{b,c,d\\}$ 之间的任意一条边是红色的，例如边 $(b,c)$ 是红色的，那么路径 $d-a-b-c$ 就是一条红色的 $P_4$。\n- 为避免这种情况，$\\{b,c,d\\}$ 之间的三条边必须都是蓝色的。令 $e$ 为第五个顶点。在 $e$ 到 $\\{b,c,d\\}$ 的三条边中，至少有两条颜色相同。如果至少有两条是蓝色的，比如说 $eb$ 和 $ec$ 是蓝色的，那么 $e-b-c-d$ 是一条蓝色的 $P_{4}$（因为 $bc$ 和 $cd$ 都是蓝色的）。如果至少有两条是红色的，比如说 $eb$ 和 $ec$ 是红色的，那么 $e-b-a-c$ 是一条红色的 $P_{4}$。在所有情况下都会出现一个单色 $P_{4}$。\n\n因此，在任何不含单色 $P_{4}$ 的染色中，每个顶点都必须满足 $d_{R}(a) \\leq 2$，并且根据对称性，$d_{B}(a) \\leq 2$，因此对所有顶点 $a$ 都有 $d_{R}(a)=d_{B}(a)=2$。因此，红色子图是5个顶点上的2-正则图，所以它是一些不相交的圈的并集，其总长度为5，这迫使它必须是一个5-圈 $C_{5}$。蓝色子图作为 $K_{5}$ 中一个5-圈的补图，它本身也是一个5-圈。任何 $C_{5}$ 都包含一个 $P_{4}$（圈上的四个连续顶点），所以这与不存在单色 $P_{4}$ 的假设相矛盾。因此，$K_{5}$ 的任意二染色都包含一个单色 $P_{4}$，并且\n$$\nR(P_{4},P_{4}) \\leq 5.\n$$\n\n结合上下界可得 $R(P_{4},P_{4})=5$。", "answer": "$$\\boxed{5}$$", "id": "1530483"}]}