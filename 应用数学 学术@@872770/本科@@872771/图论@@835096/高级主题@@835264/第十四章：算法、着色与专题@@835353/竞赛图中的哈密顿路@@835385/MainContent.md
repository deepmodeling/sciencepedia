## 引言
[竞赛图](@entry_id:267858)是图论中一个优雅而强大的模型，它完美地抽象了[循环赛](@entry_id:268144)（如体育比赛或选举）中没有平局的竞争结果。在这样的网络中，每个参与者都与其他所有参与者一决高下，形成一个完备的[有向图](@entry_id:272310)结构。一个自然而深刻的问题随之产生：我们能否找到一个“胜利游行”般的序列，即一条访问每个参与者恰好一次的路径，使得路径上的每一步都代表一场胜利？这就是著名的[哈密顿路径问题](@entry_id:269805)。

虽然László Rédei在近一个世纪前就证明了任何[竞赛图](@entry_id:267858)都必定存在这样一条[哈密顿路径](@entry_id:271760)，但这一存在性结论仅仅是冰山一角。本文旨在超越这个基础定理，深入探索其背后的丰富内涵与广泛应用。我们将不仅回答“是否存在”的问题，更要追问“如何寻找”、“有多少条”以及“它揭示了怎样的深层结构”。

本文将带领读者踏上一段从核心原理到实际应用的探索之旅：
- 在**“原理与机制”**一章中，我们将通过[构造性证明](@entry_id:157587)来理解[哈密顿路径](@entry_id:271760)的存在性，并探讨其与传递性、强连通性以及[哈密顿圈](@entry_id:271087)等关键图结构之间的紧密联系。
- 接着，在**“应用与[交叉](@entry_id:147634)学科联系”**一章中，我们将视角转向[算法设计](@entry_id:634229)、[计算复杂性](@entry_id:204275)分析，并揭示[哈密顿路径](@entry_id:271760)如何在排序理论、概率论乃至社会科学中扮演重要角色。
- 最后，**“动手实践”**部分将提供一系列精心设计的问题，帮助您将理论知识转化为解决实际问题的能力。

通过这三个层面的学习，您将对[竞赛图](@entry_id:267858)中的[哈密顿路径](@entry_id:271760)建立一个全面而深刻的理解，体会其从抽象数学理论到具体应用工具的魅力。

## 原理与机制

在图论中，**[竞赛图](@entry_id:267858) (tournament)** 是一个[有向图](@entry_id:272310)，其任意两个不同的顶点 $u$ 和 $v$ 之间都恰好存在一条有向边，即要么是 $(u, v)$，要么是 $(v, u)$。这种结构是模拟[循环赛](@entry_id:268144)的自然模型，其中每位参赛者都与其他所有参赛者比赛一次，且没有平局。在本章中，我们将深入探讨[竞赛图](@entry_id:267858)的一个核心性质：**[哈密顿路径](@entry_id:271760) (Hamiltonian path)** 的存在性、唯一性及其相关结构。[哈密顿路径](@entry_id:271760)是一条访问图中每个顶点恰好一次的有向路径。

### [哈密顿路径](@entry_id:271760)的存在性

[竞赛图](@entry_id:267858)最引人注目的基本性质之一是，它们总是包含一条[哈密顿路径](@entry_id:271760)。这个结果由 László Rédei 在 20 世纪 30 年代证明。与其仅仅陈述这个定理，我们不如通过一个构造性的证明来理解其背后的机制，这个证明本身就提供了一种寻找[哈密顿路径](@entry_id:271760)的算法。

**定理 (Rédei, 1934):** 每个[竞赛图](@entry_id:267858)都包含一条[哈密顿路径](@entry_id:271760)。

**证明思路 (通过归纳法):** 证明的核心思想是，任何一条非[哈密顿路径](@entry_id:271760)（即未包含所有顶点的路径）总可以被扩展成一条更长的路径。我们可以从任意一个顶点开始（一条长度为 1 的路径），然后通过迭代地将图中的其余顶点逐一插入到当前路径中，最终构造出一条包含所有顶点的[哈密顿路径](@entry_id:271760)。

让我们形式化这个扩展过程。假设我们有一个包含 $n$ 个顶点的[竞赛图](@entry_id:267858) $T$，并且已经找到了一条包含 $k$ 个顶点（其中 $k  n$）的路径 $P = (v_1, v_2, \dots, v_k)$。现在，我们从图中选取任意一个不在路径 $P$ 上的顶点 $u$。我们的目标是构造一条包含 $P$ 中所有顶点以及 $u$ 的新路径，其长度为 $k+1$。根据[竞赛图](@entry_id:267858)的定义，对于 $u$ 和路径 $P$ 的端点 $v_1$ 与 $v_k$，必然存在确定的边方向。这引导我们分情况讨论 [@problem_id:1511592]：

1.  **情况 1：可以将 $u$ 置于路径之首。** 如果存在从 $u$ 到 $v_1$ 的边 $(u, v_1)$，那么我们可以简单地将 $u$ 放在路径的开头，形成一条更长的路径 $P' = (u, v_1, v_2, \dots, v_k)$。

2.  **情况 2：可以将 $u$ 置于路径之末。** 如果情况 1 不成立（即边是 $(v_1, u)$），我们检查路径的另一端。如果存在从 $v_k$ 到 $u$ 的边 $(v_k, u)$，我们可以将 $u$ 附加到路径的末尾，得到新路径 $P' = (v_1, v_2, \dots, v_k, u)$。

3.  **情况 3：必须将 $u$ 插入路径之中。** 如果上述两种情况都不满足，那么必然存在边 $(v_1, u)$ 和 $(u, v_k)$。这意味着 $u$ 既不“支配”路径的起点，也不被路径的终点“支配”。在这种情况下，$u$ 必须被插入到路径的中间。
    考虑路径上的顶点序列 $(v_1, v_2, \dots, v_k)$。既然存在边 $(v_1, u)$，说明至少有一个顶点（即 $v_1$）指向 $u$。同时，既然存在边 $(u, v_k)$，说明 $u$ 指向至少一个顶点（即 $v_k$）。这意味着路径上的顶点可以被划分为两部分：一部分是 $u$ 指向的，另一部分是指向 $u$ 的。由于从 $v_1$ 到 $v_k$ 的顶点是沿着路径 $P$ 连接的，必然存在一个[临界点](@entry_id:144653)。也就是说，必然存在一个索引 $i$ ($1 \le i  k$) 使得存在边 $(v_i, u)$ 和 $(u, v_{i+1})$。一旦找到这样的 $i$，我们就可以将 $u$ 插入 $v_i$ 和 $v_{i+1}$ 之间，形成新的、更长的路径 $P' = (v_1, \dots, v_i, u, v_{i+1}, \dots, v_k)$。

由于这三种情况涵盖了所有可能性，我们总能将一个不在路径上的顶点 $u$ 整合进路径中，从而使路径延长。从任意一个单顶点路径 $P_1 = (v_1)$ 开始，我们可以依次将 $v_2, v_3, \dots, v_n$ 逐一插入，最终得到一条包含所有 $n$ 个顶点的[哈密顿路径](@entry_id:271760) [@problem_id:1511578] [@problem_id:1511362]。

例如，考虑一个五支队伍 (A, B, C, D, E) 的[循环赛](@entry_id:268144)。我们从子图 {A, B, C} 开始，假设其唯一的[哈密顿路径](@entry_id:271760)是 $(A, B, C)$。现在插入队伍 D。如果 D 胜了 A，则根据情况 1，新路径为 $(D, A, B, C)$。接着插入队伍 E。如果 C 胜了 E，则根据情况 2，最终的[哈密顿路径](@entry_id:271760)为 $(D, A, B, C, E)$。这个过程展示了该[构造性证明](@entry_id:157587)如何转化为一个寻找[哈密顿路径](@entry_id:271760)的实用算法 [@problem_id:1511362]。

### 路径数量与[传递性竞赛图](@entry_id:267486)

知道了[哈密顿路径](@entry_id:271760)必然存在，一个自然的问题是：它有多少条？答案与[竞赛图](@entry_id:267858)的一个重要特殊类别——**[传递性竞赛图](@entry_id:267486) (transitive tournament)**——密切相关。

一个[竞赛图](@entry_id:267858)被称为[传递性](@entry_id:141148)的，如果它满足传递律：若存在边 $(u, v)$ 和 $(v, w)$，则必然存在边 $(u, w)$。这等价于说，一个[传递性竞赛图](@entry_id:267486)是无环的（不包含任何有向环）。事实上，如果一个[竞赛图](@entry_id:267858)包含任何长度的环，它必然包含一个长度为 3 的环（即 $v_1 \to v_2 \to v_3 \to v_1$）。因此，判断一个[竞赛图](@entry_id:267858)是否为传递性的，只需检查它是否含有 3-环。

[传递性竞赛图](@entry_id:267486)与[哈密顿路径](@entry_id:271760)的数量之间存在一个优美的关系：

**定理 (Moon, 1962):** 一个[竞赛图](@entry_id:267858)有且仅有一条[哈密顿路径](@entry_id:271760)，当且仅当它是一个[传递性竞赛图](@entry_id:267486)。[@problem_id:1511616]

让我们来理解这个定理。在一个[传递性竞赛图](@entry_id:267486)中，顶点之间的“支配”关系（由边的方向定义）形成了一个严格的线性序。也就是说，所有顶点可以被[排列](@entry_id:136432)成一个序列 $(v_1, v_2, \dots, v_n)$，使得对于所有 $i  j$，都存在边 $(v_i, v_j)$。这个序列就是该[竞赛图](@entry_id:267858)的唯一[拓扑排序](@entry_id:156507)。任何一条[哈密顿路径](@entry_id:271760)都必须遵循图中的边，因此它必须与这个[拓扑排序](@entry_id:156507)一致。因此，$(v_1, v_2, \dots, v_n)$ 是唯一可能的[哈密顿路径](@entry_id:271760) [@problem_id:1511606] [@problem_id:1550471]。

这个结构也反映在顶点的**得分 (score)** 或[出度](@entry_id:263181)上。在一个包含 $n$ 个顶点的[传递性竞赛图](@entry_id:267486)中，处于[线性序](@entry_id:146781)首位的顶点 $v_1$ 支配所有其他 $n-1$ 个顶点，其得分为 $n-1$。第二位的顶点 $v_2$ 被 $v_1$ 支配，但支配其余的 $n-2$ 个顶点，其得分为 $n-2$。以此类推，最后一个顶点 $v_n$ 被所有其他顶点支配，其得分为 0。因此，一个[传递性竞赛图](@entry_id:267486)的[得分序列](@entry_id:272688)恰好是 $\{0, 1, 2, \dots, n-1\}$。其唯一的[哈密顿路径](@entry_id:271760)就是按照得分从高到低[排列](@entry_id:136432)顶点的序列 [@problem_id:1511602]。

相反，如果一个[竞赛图](@entry_id:267858)不是传递性的，它就必然包含至少一个 3-环。这个环结构的存在往往会产生多条[哈密顿路径](@entry_id:271760)。例如，考虑一个由一个源点 $v_1$ 指向一个 3-环 $\{v_2, v_3, v_4\}$ 中所有顶点的[竞赛图](@entry_id:267858)。由于 $v_1$ 没有入边，它必须是任何[哈密顿路径](@entry_id:271760)的起点。而 3-环本身（例如 $v_2 \to v_3 \to v_4 \to v_2$）有三条不同的[哈密顿路径](@entry_id:271760)（$v_2 \to v_3 \to v_4$, $v_3 \to v_4 \to v_2$, $v_4 \to v_2 \to v_3$）。将 $v_1$ 作为前缀，整个图就至少有三条[哈密顿路径](@entry_id:271760) [@problem_id:1511582]。

### 从路径到圈

在讨论了[哈密顿路径](@entry_id:271760)之后，我们自然会转向一个更强的概念：**哈密顿圈 (Hamiltonian cycle)**，即一条访问每个顶点恰好一次并最终返回起点的闭合路径。

并非所有[竞赛图](@entry_id:267858)都包含哈密顿圈。例如，[传递性竞赛图](@entry_id:267486)是无环的，因此不可能有任何圈，更不用说[哈密顿圈](@entry_id:271087)了。那么，我们如何判断一个[竞赛图](@entry_id:267858)是否包含[哈密顿圈](@entry_id:271087)呢？

一个简单的观察是，如果我们已经有了一条[哈密顿路径](@entry_id:271760) $P = (v_1, v_2, \dots, v_n)$，那么形成一个[哈密顿圈](@entry_id:271087)所需要的只是连接路径终点和起点的“[后向边](@entry_id:260589)” $(v_n, v_1)$。如果这条边存在，那么 $v_1 \to v_2 \to \dots \to v_n \to v_1$ 就是一个[哈密顿圈](@entry_id:271087) [@problem_id:1511609]。

这个简单的条件背后是一个更深刻的结构性质。一个[有向图](@entry_id:272310)被称为是**强连通的 (strongly connected)**，如果对于图中任意两个不同的顶点 $u$ 和 $v$，都存在一条从 $u$ 到 $v$ 的路径和一条从 $v$ 到 $u$ 的路径。对于[竞赛图](@entry_id:267858)而言，这个性质与[哈密顿圈](@entry_id:271087)的存在性是等价的。

**定理 (Moon, 1962):** 一个包含 $n \ge 3$ 个顶点的[竞赛图](@entry_id:267858)是强连通的，当且仅当它包含一个[哈密顿圈](@entry_id:271087)。

这个定理揭示了[竞赛图](@entry_id:267858)中全局连通性与[最长圈](@entry_id:262531)结构之间的紧密联系。此外，[哈密顿圈](@entry_id:271087)的存在也对[哈密顿路径](@entry_id:271760)的数量给出了一个下界。如果一个[竞赛图](@entry_id:267858)有一个哈密顿圈 $C = v_1 \to v_2 \to \dots \to v_n \to v_1$，我们可以通过移除圈上的任意一条边来得到一条[哈密顿路径](@entry_id:271760)。例如，移除边 $(v_i, v_{i+1})$（其中 $v_{n+1}=v_1$）会产生一条从 $v_{i+1}$ 开始并在 $v_i$ 结束的[哈密顿路径](@entry_id:271760)。由于圈上有 $n$ 条不同的边，这个过程可以产生 $n$ 条不同的[哈密顿路径](@entry_id:271760) [@problem_id:1511596]。

### 结构特性：“王”的存在

除了[哈密顿路径](@entry_id:271760)和圈，[竞赛图](@entry_id:267858)还具有其他有趣的局部结构特性，这些特性也反映了其高度的连通性。其中一个概念是“王”。在[竞赛图](@entry_id:267858)中，一个顶点 $v$ 被称为**王 (king)**，如果对于图中任何其他顶点 $u$，从 $v$ 到 $u$ 都存在一条长度不超过 2 的路径。换言之，一个王要么直接“支配”$u$（即存在边 $(v, u)$），要么通过一个中间顶点 $w$ 间接“支配”$u$（即存在路径 $v \to w \to u$）。

有趣的是，每个[竞赛图](@entry_id:267858)中都必然存在一个王。一个更强的结论是：

**定理:** 在任何[竞赛图](@entry_id:267858)中，[出度](@entry_id:263181)（得分）最大的顶点必然是一个王。

**证明:** 设 $v_0$ 是一个[出度](@entry_id:263181)最大的顶点。令 $N^+(v_0)$ 为 $v_0$ 的出邻域，即所有被 $v_0$ 支配的顶点的集合。我们想证明对于任何 $u \ne v_0$，都存在一条从 $v_0$ 到 $u$ 的长度不超过 2 的路径。
- 如果 $u \in N^+(v_0)$，那么存在边 $(v_0, u)$，路径长度为 1。
- 如果 $u \notin N^+(v_0)$，那么根据[竞赛图](@entry_id:267858)的定义，必然存在边 $(u, v_0)$。现在，假设对于 $N^+(v_0)$ 中的所有顶点 $w$，都存在边 $(u, w)$。这意味着 $u$ 支配 $v_0$ 以及 $v_0$ 支配的所有顶点。因此，$u$ 的[出度](@entry_id:263181)至少是 $|N^+(v_0)| + 1$，即 $d^+(u) \ge d^+(v_0) + 1$。但这与 $v_0$ 是[出度](@entry_id:263181)最大的顶点这一前提相矛盾。
因此，我们的假设是错误的。必然存在 $N^+(v_0)$ 中的某个顶点 $w$，使得边是 $(w, u)$。由于 $w \in N^+(v_0)$，我们有边 $(v_0, w)$。将这两条边连接起来，我们得到一条长度为 2 的路径 $v_0 \to w \to u$。
综上所述，任何[出度](@entry_id:263181)最大的顶点都是一个王 [@problem_id:1511618]。

“王”的存在性再次强调了[竞赛图](@entry_id:267858)中不存在“孤立”的顶点。即使一个顶点不是全能的支配者（即[出度](@entry_id:263181)不为 $n-1$），它也能在至多两步之内到达图中的任何其他位置。这一性质为我们理解[竞赛图](@entry_id:267858)的内部连通性提供了另一个视角，并从侧面解释了为何像[哈密顿路径](@entry_id:271760)这样的长路径结构是其固有的特征。