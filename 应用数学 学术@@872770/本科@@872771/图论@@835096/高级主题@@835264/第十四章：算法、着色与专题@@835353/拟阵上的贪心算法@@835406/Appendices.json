{"hands_on_practices": [{"introduction": "我们从一个熟悉的领域——线性代数——开始我们的实践之旅。线性拟阵将向量集合中的线性无关性概念抽象化，为我们提供了一个强大的框架来处理“非冗余”信息的选择问题。这个练习 [@problem_id:1542075] 将引导你将二维空间中的一组向量看作一个拟阵的元素集，并应用贪心算法来寻找一个权重最大的基，也就是一个信息量最丰富且无冗余的向量子集。", "problem": "一位数据科学家正在处理一组四个特征向量 $E = \\{v_1, v_2, v_3, v_4\\}$，它们存在于向量空间 $\\mathbb{R}^2$ 中。目标是选择这些向量的一个子集，该子集在保持“非冗余”的同时“信息量最大”。这个问题可以用线性拟阵 $M = (E, \\mathcal{I})$ 来建模，其中基集 $E$ 是向量的集合，独立集族 $\\mathcal{I}$ 由 $E$ 中所有在实数上线性无关的子集组成。\n\n每个向量 $v_i$ 都被赋予一个数值“重要性”权重 $w(v_i)$。这些向量及其对应的权重如下：\n- $v_1 = (1, 0)$，权重为 $w(v_1) = 5$\n- $v_2 = (1, 2)$，权重为 $w(v_2) = 3$\n- $v_3 = (0, 1)$，权重为 $w(v_3) = 8$\n- $v_4 = (1, 1)$，权重为 $w(v_4) = 10$\n\n你的任务是应用标准的贪心算法来找到这个线性拟阵 $M$ 的一个最大权重基。基是极大的独立集。下列哪个集合是此算法找到的最大权重基？\n\nA. $\\{v_3, v_4\\}$\nB. $\\{v_1, v_2\\}$\nC. $\\{v_1, v_4\\}$\nD. $\\{v_2, v_3\\}$\nE. $\\{v_1, v_3, v_4\\}$", "solution": "我们将问题建模为一个线性拟阵 $M=(E, \\mathcal{I})$，其中 $E=\\{v_{1},v_{2},v_{3},v_{4}\\} \\subset \\mathbb{R}^{2}$，$\\mathcal{I}$ 是线性无关子集的集合。在拟阵中寻找最大权重基的贪心算法的步骤是：按权重非递增顺序对元素进行排序，如果加入某个元素后仍能保持独立性，则将其加入，直到获得一个基（极大独立集）为止。\n\n首先，确定 $M$ 的秩。由于 $v_{1}=(1,0)$ 和 $v_{3}=(0,1)$ 是线性无关的，所以 $E$ 的张成空间维度为 $2$，因此拟阵的秩为 $r(M)=2$。因此，任何基都恰好包含 $2$ 个向量。\n\n按权重非递增顺序排列向量：\n$$\nw(v_{4})=10,\\quad w(v_{3})=8,\\quad w(v_{1})=5,\\quad w(v_{2})=3.\n$$\n应用贪心算法：\n- 初始化 $S=\\emptyset$。\n- 考虑 $v_{4}$：由于 $S\\cup\\{v_{4}\\}$ 是独立的，所以添加它。现在 $S=\\{v_{4}\\}$。\n- 考虑 $v_{3}$：检查 $\\{v_{4},v_{3}\\}$ 的独立性。假设 $\\alpha v_{4}+\\beta v_{3}=0$，即，\n$$\n\\alpha(1,1)+\\beta(0,1)=(0,0).\n$$\n这给出了方程组 $\\alpha=0$ 和 $\\alpha+\\beta=0$，意味着 $\\alpha=0$ 和 $\\beta=0$。因此 $v_{4}$ 和 $v_{3}$ 是线性无关的，所以添加 $v_{3}$。现在 $S=\\{v_{4},v_{3}\\}$。\n- 由于 $|S|=r(M)=2$，$S$ 是一个基，算法停止。\n\n因此，贪心算法返回基 $\\{v_{3},v_{4}\\}$，对应于选项 A。作为一致性检查，注意其总权重为 $w(v_{3})+w(v_{4})=8+10=18$，这比选项中列出的任何其他独立对的总权重都要大。选项 E 不是一个基，因为 $\\mathbb{R}^{2}$ 中的基的大小为 $2$，而不是 $3$。\n\n因此，贪心算法找到的最大权重基是 $\\{v_{3},v_{4}\\}$。", "answer": "$$\\boxed{A}$$", "id": "1542075"}, {"introduction": "拟阵的优美之处在于其普适性，它不仅能描述几何结构，也能完美契合组合优化问题。划分拟阵就是这样一个例子，它常用于模拟带有分类配额限制的资源分配场景。在这个练习 [@problem_id:1542053] 中，你将面对一个现实世界的任务：在满足各部门人数限制的前提下，组建一支“生产力”总和最高的团队。你会发现，尽管问题的背景截然不同，但保证最优解的底层逻辑——贪心选择——依然有效。", "problem": "一家科技初创公司正在为一个新项目组建一支精英研发团队。现有专家来自三个不同领域：量子计算（$E_1$）、机器学习（$E_2$）和密码学（$E_3$）。团队的构成必须遵守特定的部门限制：最多一名来自量子计算的专家，最多两名来自机器学习的专家，以及最多一名来自密码学的专家。\n\n现有专家及其相关的“生产力分数”如下所列：\n\n**领域 $E_1$：量子计算**\n*   Alice: 8\n*   Bob: 5\n\n**领域 $E_2$：机器学习**\n*   Carol: 10\n*   David: 9\n*   Eve: 7\n*   Frank: 4\n\n**领域 $E_3$：密码学**\n*   Grace: 11\n*   Heidi: 6\n\n该初创公司旨在组建一个满足部门限制且成员人数尽可能多的团队。在所有达到此最大可能规模的团队中，目标是选择总生产力分数最高的那个团队。这个可能的最大总生产力分数是多少？\n\nA. 33\nB. 35\nC. 37\nD. 38\nE. 39", "solution": "这个问题可以使用划分拟阵（partition matroid）进行建模。设全集 $E$ 为所有可用专家的集合。该集合被划分为三个不相交的子集：$E_1$（量子计算）、$E_2$（机器学习）和 $E_3$（密码学）。\n\n部门限制定义了该拟阵的结构。一个专家集合（一个团队）$I \\subseteq E$ 如果满足以下条件，则被视为“独立集”（independent set）：\n*   $|I \\cap E_1| \\leq d_1 = 1$\n*   $|I \\cap E_2| \\leq d_2 = 2$\n*   $|I \\cap E_3| \\leq d_3 = 1$\n\n问题要求组建一个“成员人数尽可能多”的团队，这对应于找到该拟阵的一个“基”（basis）。基是极大的独立集。对于划分拟阵，所有的基都具有相同的大小，这个大小被称为拟阵的秩（rank），由 $r(M) = \\sum_i d_i$ 给出。\n在本例中，秩为 $r(M) = d_1 + d_2 + d_3 = 1 + 2 + 1 = 4$。因此，最优团队将恰好有 4 名成员。\n\n目标是找到一个具有最大总权重（生产力分数）的基。这可以通过使用贪心算法（greedy algorithm）来实现，该算法保证能为任何拟阵找到最优基。\n\n**步骤 1：对专家进行排序**\n我们首先将全集 $E$ 中的所有专家按其生产力分数降序排序。\n\n| 专家 | 部门 | 分数 |\n| :---   | :---         | :---  |\n| Grace  | 密码学 ($E_3$) | 11    |\n| Carol  | 机器学习 ($E_2$) | 10  |\n| David  | 机器学习 ($E_2$) | 9   |\n| Alice  | 量子计算 ($E_1$) | 8   |\n| Eve    | 机器学习 ($E_2$) | 7   |\n| Heidi  | 密码学 ($E_3$) | 6   |\n| Bob    | 量子计算 ($E_1$) | 5   |\n| Frank  | 机器学习 ($E_2$) | 4   |\n\n**步骤 2：应用贪心算法**\n我们初始化一个空团队（解集）$A = \\emptyset$。我们还为每个部门已选成员数量初始化计数器：$c_1 = 0$, $c_2 = 0$, $c_3 = 0$。然后，我们遍历排序后的专家列表，当且仅当将某位专家加入团队 $A$ 不违反部门限制时，才将其加入。\n\n1.  **考虑 Grace** （分数 11，部门 $E_3$）：当前密码学部门的计数为 $c_3=0$。由于 $0  d_3=1$，我们可以添加 Grace。\n    *   $A = \\{\\text{Grace}\\}$。\n    *   更新计数：$c_3=1$。\n\n2.  **考虑 Carol** （分数 10，部门 $E_2$）：当前机器学习部门的计数为 $c_2=0$。由于 $0  d_2=2$，我们可以添加 Carol。\n    *   $A = \\{\\text{Grace, Carol}\\}$。\n    *   更新计数：$c_2=1$。\n\n3.  **考虑 David** （分数 9，部门 $E_2$）：当前机器学习部门的计数为 $c_2=1$。由于 $1  d_2=2$，我们可以添加 David。\n    *   $A = \\{\\text{Grace, Carol, David}\\}$。\n    *   更新计数：$c_2=2$。\n\n4.  **考虑 Alice** （分数 8，部门 $E_1$）：当前量子计算部门的计数为 $c_1=0$。由于 $0  d_1=1$，我们可以添加 Alice。\n    *   $A = \\{\\text{Grace, Carol, David, Alice}\\}$。\n    *   更新计数：$c_1=1$。\n\n此时，我们的团队 $A$ 的大小为 4，这等于拟阵的秩。我们已经找到了一个基，并且由于我们使用了贪心算法，它必然是最大权重的基。算法终止。\n\n**步骤 3：计算总分**\n最优团队由专家 {Grace, Carol, David, Alice} 组成。我们将他们的生产力分数相加，以找到可能的最大总分：\n总分 = 分数(Grace) + 分数(Carol) + 分数(David) + 分数(Alice)\n总分 = $11 + 10 + 9 + 8 = 38$。\n\n这对应于选项 D。", "answer": "$$\\boxed{D}$$", "id": "1542053"}, {"introduction": "到目前为止，我们已经看到贪心算法在拟阵上表现出色。但这引出了一个关键问题：贪心策略是否对任何“独立性”系统都有效？这个练习 [@problem_id:1542039] 将通过一个精心设计的“独立系统”来探索这个问题，该系统不满足拟阵的所有公理。你将分析一个看似合理的“局部改进”算法，并发现它会陷入一个无法通过单步交换来改进的局部最优点，而这个点并非全局最优。这个反例深刻地揭示了拟阵结构的特殊价值：正是拟阵公理保证了贪心算法能够避免局部最优陷阱，直达全局最优解。", "problem": "在组合优化中，贪心算法通常能为具有称为拟阵的特殊结构的问题提供最优解。然而，对于更一般的独立系统，或当使用不同的算法方法时，可能会得到次优解。\n\n考虑一个“单一交换局部改进”算法。该算法从一个任意的基（一个极大独立集）开始，并重复寻求改进。一个改进步骤包括找到一个非基元素 $y$ 和一个基元素 $x$，使得用 $y$ 替换 $x$ 后得到的新集合也是一个基，并且具有严格更大的总权重。当没有这样的单元素交换可以增加总权重时，算法终止并输出其当前的基。这个终止状态是一个局部最优。\n\n你需要分析该算法在一个特定的带权独立系统上的性能。该系统定义在一个基础元素集 $E = E_1 \\cup E_2$ 上，其中划分为 $E_1 = \\{a_1, a_2\\}$ 和 $E_2 = \\{b_1, b_2, b_3, b_4\\}$。元素的权重如下：\n- $w(a_1) = 6$\n- $w(a_2) = 5$\n- $w(b_1) = 4$\n- $w(b_2) = 4$\n- $w(b_3) = 4$\n- $w(b_4) = 1$\n\n如果子集 $I \\subseteq E$ 满足以下所有规则，则定义为**独立的**：\n1. $I$ 中来自 $E_1$ 的元素数量最多为一个：$|I \\cap E_1| \\leq 1$。\n2. $I$ 中来自 $E_2$ 的元素数量最多为两个：$|I \\cap E_2| \\leq 2$。\n3. 一个特殊条件：如果 $a_1$ 在 $I$ 中，那么 $I$ 不能包含超过一个来自集合 $\\{b_1, b_2, b_3\\}$ 的元素。形式上，如果 $a_1 \\in I$，则 $|I \\cap \\{b_1, b_2, b_3\\}| \\leq 1$。\n\n“单一交换局部改进”算法以初始基 $B_{start} = \\{a_1, b_1, b_4\\}$ 开始。\n\n设 $W_{local}$ 为算法终止时基的总权重，设 $W_{opt}$ 为该独立系统的真正全局最优基的总权重。计算比率 $\\frac{W_{local}}{W_{opt}}$。将你的最终答案四舍五入到四位有效数字。", "solution": "我们首先刻画该独立系统的基。对于任意独立集 $I$，根据规则1和2，我们有\n$$|I| = |I \\cap E_{1}| + |I \\cap E_{2}| \\leq 1 + 2 = 3.$$\n由于集合 $\\{a_{2}, b_{1}, b_{2}\\}$ 是独立的且大小为3，因此最大可能的大小是3，所以基就是大小为3的独立集。\n\n枚举所有的基及其权重：\n- 包含 $a_{1}$ 的基：根据规则3，有 $a_{1}$ 的情况下，我们最多可以从 $\\{b_{1}, b_{2}, b_{3}\\}$ 中取一个元素；根据规则2，我们最多可以从 $E_{2}$ 中取两个元素；因此，唯一的大小为3的可能性是 $\\{a_{1}, b_{4}, b_{i}\\}$，其中 $i \\in \\{1,2,3\\}$。每个这样的基的总权重为 $w(a_{1}) + w(b_{4}) + w(b_{i}) = 6 + 1 + 4 = 11$。\n- 包含 $a_{2}$ 的基：没有特殊限制，因此可以从 $E_{2}$ 中任选两个不同的元素。有两种类型：\n  - 两个元素来自 $\\{b_{1}, b_{2}, b_{3}\\}$：权重为 $w(a_{2}) + 4 + 4 = 5 + 4 + 4 = 13$。\n  - 一个元素来自 $\\{b_{1}, b_{2}, b_{3}\\}$，另一个是 $b_{4}$：权重为 $w(a_{2}) + 4 + 1 = 10$。\n因此，全局最优基的权重是\n$$W_{\\mathrm{opt}} = 13.$$\n\n现在我们分析从初始基 $B_{\\mathrm{start}} = \\{a_{1}, b_{1}, b_{4}\\}$ 开始的单一交换局部改进过程，该基的权重为\n$$W(B_{\\mathrm{start}}) = w(a_{1}) + w(b_{1}) + w(b_{4}) = 6 + 4 + 1 = 11.$$\n候选元素 $y \\in E \\setminus B_{\\mathrm{start}}$ 为 $\\{a_{2}, b_{2}, b_{3}\\}$。对于每个 $y$，我们尝试所有 $x \\in B_{\\mathrm{start}}$，并要求 $(B_{\\mathrm{start}} \\setminus \\{x\\}) \\cup \\{y\\}$ 是一个基（即大小为3的独立集）且具有严格更大的权重。\n\n- 对于 $y = a_{2}$:\n  - $x = a_{1}$ 得到 $\\{a_{2}, b_{1}, b_{4}\\}$，权重为 $5 + 4 + 1 = 10  11$，不是改进。\n  - $x \\in \\{b_{1}, b_{4}\\}$ 会导致集合中有两个来自 $E_{1}$ 的元素，违反了 $|I \\cap E_{1}| \\leq 1$，因此无效。\n\n- 对于 $y = b_{2}$:\n  - $x = b_{1}$ 得到 $\\{a_{1}, b_{2}, b_{4}\\}$，权重为 $6 + 4 + 1 = 11$，没有严格增大。\n  - $x = b_{4}$ 得到 $\\{a_{1}, b_{1}, b_{2}\\}$，这违反了规则3，因为它在有 $a_{1}$ 的情况下包含了两个来自 $\\{b_{1}, b_{2}, b_{3}\\}$ 的元素，因此无效。\n  - $x = a_{1}$ 得到 $\\{b_{1}, b_{4}, b_{2}\\}$，其中有三个来自 $E_{2}$ 的元素，违反了 $|I \\cap E_{2}| \\leq 2$，因此无效。\n\n- 对于 $y = b_{3}$：与 $b_{2}$ 对称，唯一有效的交换是 $x = b_{1}$，得到权重为 $11$ 的 $\\{a_{1}, b_{3}, b_{4}\\}$，没有严格增大；其他两个交换因与上述相同的原因而无效。\n\n因此，没有单一交换能产生严格更高的权重。算法在初始基处终止，其权重为\n$$W_{\\mathrm{local}} = 11.$$\n因此，\n$$\\frac{W_{\\mathrm{local}}}{W_{\\mathrm{opt}}} = \\frac{11}{13} \\approx 0.8461538\\ldots$$\n四舍五入到四位有效数字，结果是 $0.8462$。", "answer": "$$\\boxed{0.8462}$$", "id": "1542039"}]}