{"hands_on_practices": [{"introduction": "在解决像最大割这样的优化问题时，一个自然而然的出发点是采用贪心策略。本练习将探讨一种简单的顺序贪心算法，在该算法中，我们按顺序处理图的每个顶点，并将其分配到能立即最大化已形成割边的集合中。通过在路径图这一简单结构上应用该算法[@problem_id:1481522]，我们将揭示这种局部最优选择有时如何能够导向全局最优解，从而为理解更复杂情况下的算法性能打下基础。", "problem": "一位计算机科学家正在研究一个用于解决最大割问题的简单贪心算法。该问题旨在将图 $G=(V, E)$ 的顶点划分到两个不相交的集合 $S_1$ 和 $S_2$ 中，使得连接 $S_1$ 中顶点和 $S_2$ 中顶点的边数最大化。\n\n所考虑的图是一个具有 $n$ 个顶点的路径图 $P_n$，顶点标记为 $v_1, v_2, \\ldots, v_n$。$P_n$ 中的边连接连续的顶点，因此边集为 $E = \\{(v_i, v_{i+1}) \\mid 1 \\le i  n\\}$。\n\n这个名为 `SEQUENTIAL-PARTITION` 的算法根据顶点的索引，从 $i=1$ 到 $n$ 逐个处理顶点。对于每个顶点 $v_i$，算法会根据哪种放置方式能最大化连接到已放置顶点（$v_1, \\ldots, v_{i-1}$）的新形成的割边数量，来决定将其放入 $S_1$ 还是 $S_2$。\n\n`SEQUENTIAL-PARTITION` 算法的具体步骤如下：\n1.  初始化两个空集 $S_1$ 和 $S_2$。\n2.  对于从 $i=1$ 到 $n$ 的每个顶点 $v_i$：\n    a.  令 $N_{i-1} = \\{v_j \\in V \\mid j  i\\}$ 为已经被分配到某个划分中的顶点集合。\n    b.  计算 $c_1$，即连接 $v_i$ 与 $S_2 \\cap N_{i-1}$ 中顶点的边数。这是如果将 $v_i$ 放入 $S_1$ 所形成的割边数量。\n    c.  计算 $c_2$，即连接 $v_i$ 与 $S_1 \\cap N_{i-1}$ 中顶点的边数。这是如果将 $v_i$ 放入 $S_2$ 所形成的割边数量。\n    d.  如果 $c_1  c_2$，则将 $v_i$ 放入 $S_1$。\n    e.  如果 $c_2  c_1$，则将 $v_i$ 放入 $S_2$。\n    f.  如果出现平局（$c_1 = c_2$），则默认将 $v_i$ 放入 $S_1$。\n\n所有顶点都被划分后，割的大小是 $S_1$ 和 $S_2$ 之间的总边数。\n\n确定 `SEQUENTIAL-PARTITION` 算法在路径图 $P_n$ 上生成的割的大小。假设 $n \\ge 2$，请将你的答案表示为关于 $n$ 的函数。", "solution": "我们来逐步追踪算法在路径图 $P_n$ 上的执行过程。顶点按 $v_1, v_2, \\ldots, v_n$ 的顺序处理。\n\n1.  **处理 $v_1$**:\n    由于还没有顶点被放置，所以 $S_1$ 和 $S_2$ 都是空的。$c_1 = 0$ 且 $c_2 = 0$。根据平局规则，将 $v_1$ 放入 $S_1$。\n    - 划分状态: $S_1 = \\{v_1\\}, S_2 = \\{\\}$。\n\n2.  **处理 $v_2$**:\n    顶点 $v_2$ 只与 $v_1$ 相连，而 $v_1 \\in S_1$。\n    - 如果将 $v_2$ 放入 $S_1$，与已放置顶点的割边数为 $c_1 = 0$。\n    - 如果将 $v_2$ 放入 $S_2$，与已放置顶点的割边数为 $c_2 = 1$ (边 $(v_1, v_2)$)。\n    由于 $c_2 > c_1$，将 $v_2$ 放入 $S_2$。\n    - 划分状态: $S_1 = \\{v_1\\}, S_2 = \\{v_2\\}$。\n\n3.  **处理 $v_3$**:\n    顶点 $v_3$ 只与 $v_2$ 相连，而 $v_2 \\in S_2$。\n    - 如果将 $v_3$ 放入 $S_1$，与已放置顶点的割边数为 $c_1 = 1$ (边 $(v_2, v_3)$)。\n    - 如果将 $v_3$ 放入 $S_2$，与已放置顶点的割边数为 $c_2 = 0$。\n    由于 $c_1 > c_2$，将 $v_3$ 放入 $S_1$。\n    - 划分状态: $S_1 = \\{v_1, v_3\\}, S_2 = \\{v_2\\}$。\n\n4.  **处理 $v_i$ (对于 $i > 1$)**:\n    在处理顶点 $v_i$ 时，它只与一个已放置的顶点 $v_{i-1}$ 相邻。\n    - 假设 $v_{i-1}$ 在 $S_1$ 中。将 $v_i$ 放入 $S_1$ 会产生0条新割边，而放入 $S_2$ 会产生1条新割边。因此，算法会将 $v_i$ 放入 $S_2$。\n    - 假设 $v_{i-1}$ 在 $S_2$ 中。将 $v_i$ 放入 $S_1$ 会产生1条新割边，而放入 $S_2$ 会产生0条新割边。因此，算法会将 $v_i$ 放入 $S_1$。\n    在每一步，算法总是将 $v_i$ 放入与 $v_{i-1}$ 不同的集合中。\n\n根据这个归纳逻辑，顶点的分配模式是交替的：\n- $v_1 \\in S_1$\n- $v_2 \\in S_2$\n- $v_3 \\in S_1$\n- $v_4 \\in S_2$\n- ...\n- $v_i \\in S_1$ 如果 $i$ 是奇数， $v_i \\in S_2$ 如果 $i$ 是偶数。\n\n由于路径图中的每条边 $(v_i, v_{i+1})$ 都连接一个索引为奇数的顶点和另一个索引为偶数的顶点，因此每个这样的边都将连接一个在 $S_1$ 中的顶点和一个在 $S_2$ 中的顶点。这意味着图中的**所有**边都是割边。\n\n路径图 $P_n$ 有 $n-1$ 条边。因此，该算法产生的割的大小是 $n-1$。", "answer": "$$\\boxed{n-1}$$", "id": "1481522"}, {"introduction": "虽然贪心算法在某些特定图上表现优异，但其性能往往对图的结构和顶点处理顺序高度敏感。作为对比，随机化算法提供了一种强大且更具普适性的替代方案。本练习要求您分析和比较一个贪心算法和一个简单的随机分配算法在由两个不相交的完全图（团）组成的特殊图上的表现[@problem_id:1481476]。通过计算贪心算法产生的割大小与随机算法的期望割大小，您将亲身体会到随机化方法如何提供一个可靠的性能基准，并理解为何它在近似算法中扮演着核心角色。", "problem": "考虑一个图 $G$，它由两个不相交的完全图（团）的并集构成。第一个团 $K_n$ 有 $n=10$ 个顶点，第二个团 $K_m$ 有 $m=20$ 个顶点。由于这两个团是不相交的，因此 $K_n$ 的任何顶点与 $K_m$ 的任何顶点之间都没有边相连。最大割（Max-Cut）问题的目标是将图 $G$ 的顶点划分成两个集合 $S_1$ 和 $S_2$，使得一个端点在 $S_1$ 中而另一个端点在 $S_2$ 中的边的数量最大化。\n\n我们将分析两种用于在此图中生成割的不同算法。\n\n**算法 A（一种贪心方法）：**\n初始化两个空的顶点集 $S_1$ 和 $S_2$。按照一个特定的顺序逐个处理图 $G$ 的顶点：首先，以任意顺序处理团 $K_n$ 的所有 $n=10$ 个顶点，然后以任意顺序处理团 $K_m$ 的所有 $m=20$ 个顶点。\n对于每个被处理的顶点 $v$，将其放入 $S_1$ 或 $S_2$ 中。决定方法如下：计算已经放入 $S_1$ 中与 $v$ 相邻的顶点数量，以及已经放入 $S_2$ 中与 $v$ 相邻的顶点数量。将顶点 $v$ 放入其相邻顶点较少的集合中。如果出现平局（即在 $S_1$ 和 $S_2$ 中的相邻顶点数量相等），则将 $v$ 放入 $S_1$。\n设 $C_{A}$ 是此算法生成的割的大小。\n\n**算法 B（一种随机化方法）：**\n对于 $G$ 中的每一个顶点（共 $n+m=30$ 个），独立地以 $0.5$ 的概率将其分配给集合 $S_1$，或以 $0.5$ 的概率分配给集合 $S_2$。设 $E[C_{B}]$ 是此随机过程生成的割的期望大小。\n\n计算比率 $\\frac{C_{A}}{E[C_{B}]}$。将最终答案四舍五入到三位有效数字。", "solution": "设 $G$ 是 $K_{10}$ 和 $K_{20}$ 的不相交并集。两个团之间没有边，因此任何划分的割大小都是限制在每个团上的割大小之和。\n\n算法 A：\n在一个团内处理顶点时，每个新顶点都与该团中所有先前处理过的顶点相邻，而与另一个团中的任何顶点都不相邻。因此，“放入相邻顶点较少的集合；平局则放入 $S_1$” 这条规则会尽可能均匀地将每个团的顶点分配到 $S_1$ 和 $S_2$ 之间。对于一个大小为偶数的团 $K_t$，这将得到一个 $t/2$ 和 $t/2$ 的划分，产生的割大小为 $(t/2)\\cdot(t/2)$。\n\n- 对于 $K_{10}$：划分为 $5$ 和 $5$，割大小为 $5\\cdot 5=25$。\n- 对于 $K_{20}$：划分为 $10$ 和 $10$，割大小为 $10\\cdot 10=100$。\n\n由于没有团间边，总割为\n$$\nC_{A}=25+100=125.\n$$\n\n算法 B：\n以概率 $0.5$ 独立地将每个顶点分配给 $S_1$ 或 $S_2$。对于任意一条边，其端点被分到不同集合的概率是 $2\\cdot 0.5\\cdot 0.5=\\frac{1}{2}$。根据期望的线性性，期望割大小等于总边数的一半。\n\n总边数是\n$$\n|E(G)|=\\binom{10}{2}+\\binom{20}{2}=45+190=235,\n$$\n所以\n$$\nE[C_{B}]=\\frac{1}{2}\\cdot 235=117.5.\n$$\n\n因此，比率为\n$$\n\\frac{C_{A}}{E[C_{B}]}=\\frac{125}{117.5}=\\frac{250}{235}=\\frac{50}{47}\\approx 1.063829787\\ldots\n$$\n四舍五入到三位有效数字，结果为 $1.06$。", "answer": "$$\\boxed{1.06}$$", "id": "1481476"}, {"introduction": "随机算法的一大优势是其分析的简洁性和强大的性能保证（以期望值的形式），但它本身并不能保证单次运行就能得到一个好的结果。一个核心问题是：我们能否将这种基于概率的保证转化为一个确定性的高效算法？“条件期望法”为此提供了解决方案。这个练习将引导您完成该去随机化过程的第一步计算[@problem_id:1481479]，通过确定性地放置第一个顶点以保证（或最大化）最终割大小的条件期望，您将揭开将随机化思想转化为具体、可靠算法的神秘面纱。", "problem": "考虑一个无向图 $G=(V, E)$，其中 $V$ 是顶点集，$E$ 是边集。最大割（MAX-CUT）问题旨在寻找一个将顶点集 $V$ 划分成两个不相交的集合 $S_1$ 和 $S_2$ 的方案，使得一个端点在 $S_1$ 中而另一个端点在 $S_2$ 中的边的数量最大化。\n\n一个简单的 MAX-CUT 随机算法将每个顶点以相等的概率独立地分配到 $S_1$ 或 $S_2$ 中。这种随机方法可以使用条件期望法进行去随机化。去随机化的过程按照一个固定的顺序，例如 $v_1, v_2, \\dots, v_n$，逐个考虑顶点。对于每个顶点 $v_i$（$i=1, \\dots, n$），它会做出一个确定性的选择，将其放入 $S_1$ 或 $S_2$ 中。这个选择是为了最大化最终总割大小的条件期望。这个期望的条件是基于已经为顶点 $v_1, \\dots, v_{i-1}$ 确定的放置方案以及为顶点 $v_i$ 做出的尝试性放置，同时对后续顶点 $v_{i+1}, \\dots, v_n$ 的所有可能的随机放置进行平均。\n\n假设给定一个图，其顶点集为 $V=\\{v_1, v_2, v_3, v_4, v_5\\}$，边集为 $E = \\{(v_1, v_2), (v_1, v_4), (v_2, v_3), (v_2, v_5), (v_3, v_4), (v_4, v_5)\\}$。\n\n您的任务是执行此去随机化过程中的第一步计算。计算在顶点 $v_1$ 被放入划分 $S_1$ 的条件下，割的条件期望大小。将您的答案表示为单个实数。", "solution": "令 $X$ 表示总割的大小，对于每条边 $e \\in E$，定义指示变量 $X_{e}$，如果边 $e$ 被切割，则 $X_e$ 等于 $1$，否则等于 $0$。那么\n$$\n\\mathbb{E}[X \\mid v_{1} \\in S_{1}] = \\sum_{e \\in E} \\mathbb{E}[X_{e} \\mid v_{1} \\in S_{1}] = \\sum_{e \\in E} P(e\\ \\text{is cut} \\mid v_{1} \\in S_{1}).\n$$\n考虑与 $v_1$ 相邻的边：$(v_{1},v_{2})$ 和 $(v_{1},v_{4})$。给定 $v_{1} \\in S_{1}$，顶点 $v_{2}$ 和 $v_{4}$ 中的每一个都独立地以 $\\frac{1}{2}$ 的概率进入 $S_1$ 或 $S_2$，所以\n$$\nP((v_{1},v_{2})\\ \\text{is cut} \\mid v_{1} \\in S_{1}) = P(v_{2} \\in S_{2}) = \\frac{1}{2},\n$$\n对于 $(v_{1},v_{4})$ 也是类似的。对于不与 $v_1$ 相邻的边，即 $(v_{2},v_{3}), (v_{2},v_{5}), (v_{3},v_{4}), (v_{4},v_{5})$，它们的两个端点都独立地以 $\\frac{1}{2}$ 的概率被分配到 $S_1$ 或 $S_2$，因此，它们被切割的概率不受对 $v_1$ 的放置的影响，仍然是 $\\frac{1}{2}$。\n$$\nP((u,w)\\ \\text{is cut} \\mid v_{1} \\in S_{1}) = P(u \\in S_{1}, w \\in S_{2}) + P(u \\in S_{2}, w \\in S_{1}) = 2 \\cdot \\frac{1}{2} \\cdot \\frac{1}{2} = \\frac{1}{2}.\n$$\n总共有 $6$ 条边，每条边对期望的贡献为 $\\frac{1}{2}$，所以\n$$\n\\mathbb{E}[X \\mid v_{1} \\in S_{1}] = 6 \\cdot \\frac{1}{2} = 3.\n$$", "answer": "$$\\boxed{3}$$", "id": "1481479"}]}