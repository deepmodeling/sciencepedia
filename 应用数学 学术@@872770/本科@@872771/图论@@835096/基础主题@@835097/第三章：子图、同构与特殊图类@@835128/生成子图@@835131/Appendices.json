{"hands_on_practices": [{"introduction": "最小生成树 (MST) 是网络优化中的一个基本工具，用于以最低成本连接所有节点。虽然像 Kruskal 或 Prim 这样的算法总能找到一个最优解，但在现实世界中，当存在成本相同的连接时，最优方案可能不止一个。这个练习 [@problem_id:1533904] 要求我们识别并计算所有可能的最优网络布局，这相当于在一个边权重可能相等的图中找出所有不同的最小生成树，从而加深我们对 MST 唯一性条件的理解。", "problem": "一家名为 ConnectAll 的科技初创公司正计划建立一个光纤网络，以连接其位于 Aethelburg (A)、Baelcroft (B)、Cyningtun (C) 和 Daenholm (D) 四个城市的主要数据中心。公司的目标是确保所有数据中心都相互连接（直接或间接），同时最小化总建设成本。在任意两个城市之间建立直接连接的成本（单位：百万美元）估计如下：\n\n*   Aethelburg 到 Baelcroft: 10\n*   Aethelburg 到 Cyningtun: 30\n*   Aethelburg 到 Daenholm: 20\n*   Baelcroft 到 Cyningtun: 20\n*   Baelcroft 到 Daenholm: 30\n*   Cyningtun 到 Daenholm: 20\n\n一个网络布局由所建成的直接连接集合来定义。如果一个布局能够以可能的最低总成本连接所有四个数据中心，则该布局被认为是“最优的”。问有多少种不同的最优网络布局是可能的？", "solution": "将四个数据中心建模为加权无向图的四个顶点 $A,B,C,D$，其边的权重如下：\n$w(AB)=10$, $w(AC)=30$, $w(AD)=20$, $w(BC)=20$, $w(BD)=30$, $w(CD)=20$。\n一个最优网络布局对应于一个最小生成树（MST）。根据最小生成树的切割性质，对于任意切割，横跨该切割的最轻的边必定在每个最小生成树中。考虑切割 $\\{A\\}\\mid\\{B,C,D\\}$；横跨该切割的边的权重分别为 $10,20,30$，其中唯一的最小值是 $AB=10$，所以 $AB$ 边在每个最小生成树中。\n\n一个有 $4$ 个顶点的生成树恰好使用 $3$ 条边，所以在包含了 $AB$ 之后，我们必须再选择恰好两条边，以保持图的无环和连通性，同时使总权重最小化。剩余权重最小的边是三条权重为 $20$ 的边：$\\{AD,BC,CD\\}$。任何包含一条权重为 $30$ 的边的树，其总权重至少为 $10+20+30=60$，而使用两条权重为 $20$ 的边得到的总权重为 $10+20+20=50$，这个值严格更小；因此，每个最小生成树都恰好使用 $\\{AD,BC,CD\\}$ 中的两条边。\n\n我们必须计算从 $\\{AD,BC,CD\\}$ 中选择两条边的方案数，这些边与 $AB$ 一起构成一个生成树（即，无环且连接所有四个顶点）。共有 $\\binom{3}{2}=3$ 对这样的组合，分别是 $\\{AD,BC\\}$、$\\{AD,CD\\}$ 和 $\\{BC,CD\\}$，每一对都与 $AB$ 构成一个包含所有四个顶点的连通无环图。因此，恰好有 $3$ 种不同的最优网络布局。\n\n因此，不同的最小生成树（最优布局）的数量是 $3$。", "answer": "$$\\boxed{3}$$", "id": "1533904"}, {"introduction": "在找到最具成本效益的网络之后，工程规划中的一个关键步骤是为意外情况做准备。如果最优方案中的某条线路因故障而无法实施怎么办？这个练习 [@problem_id:1533914] 引入了“次优”生成树的概念，这是一个非常实际的问题。它要求我们在最小生成树知识的基础上，探索如何系统地找到下一个最佳替代方案，这是设计稳健和弹性系统的关键一环。", "problem": "一家名为“ConnectAll”的科技公司正在设计一个容错光纤网络，以连接其五个主要的数据中心。这些数据中心被标记为A、B、C、D和E。该公司已经确定了数据中心对之间的几种可能的直接连接方式，每种方式都有相关的安装成本。目标是建立一个以尽可能低的总成本连接所有数据中心的网络。这个主网络对应于这些中心和可能连接的最小生成树（MST）。\n\n为了保证可靠性，该公司希望确定一个最佳的应急方案。该方案包括一个备用网络，该网络也连接所有数据中心，但其总成本是次低的。可用的连接及其成本如下所示。所有成本都以任意的“成本单位”计算，并且所有连接的成本都是不同的。\n\n潜在连接的图由顶点集 $V = \\{A, B, C, D, E\\}$ 和带有相关成本的边集定义：\n- (A, B)，成本：2\n- (A, C)，成本：8\n- (A, D)，成本：5\n- (B, C)，成本：3\n- (B, E)，成本：6\n- (C, D)，成本：4\n- (C, E)，成本：10\n- (D, E)，成本：7\n\n根据这些信息，确定最佳应急网络的总成本。", "solution": "我们将网络建模为一个带权、连通的无向图，其顶点为 $V=\\{A,B,C,D,E\\}$，且边的权重各不相同。成本最低的主网络是最小生成树（MST）。由于权重各不相同，最小生成树是唯一的。为了计算它，我们应用Kruskal算法：按权重递增的顺序对边进行排序，并贪心地添加它们，同时避免形成环。\n\n按成本对边进行排序：$(A,B):2$、$(B,C):3$、$(C,D):4$、$(A,D):5$、$(B,E):6$、$(D,E):7$、$(A,C):8$、$(C,E):10$。\n\n逐步执行Kruskal算法：\n- 添加权重为 $2$ 的边 $(A,B)$。\n- 添加权重为 $3$ 的边 $(B,C)$。\n- 添加权重为 $4$ 的边 $(C,D)$。\n- 考虑权重为 $5$ 的边 $(A,D)$：它会与 $A\\text{-}B\\text{-}C\\text{-}D$ 形成一个环，因此跳过它。\n- 添加权重为 $6$ 的边 $(B,E)$ 以连接顶点 $E$。\n\n此时所有 $5$ 个顶点都已连接，因此最小生成树是集合 $\\{(A,B),(B,C),(C,D),(B,E)\\}$，总成本为\n$$\nw(\\text{MST})=2+3+4+6=15.\n$$\n\n要找到最佳应急网络（即次优生成树），使用标准的单边替换方法：对于每一条非最小生成树的边 $e$，将 $e$ 加入最小生成树会形成一个唯一的环，然后从这个环中移除一条权重最大的边 $f$，该边 $f$ 位于 $e$ 的端点之间的最小生成树路径上。得到的生成树的成本为\n$$\nw(T_{e})=w(\\text{MST})+w(e)-w(f).\n$$\n在所有这些候选树中，严格大于 $w(\\text{MST})$ 的最小成本就是次优生成树的成本。\n\n非最小生成树的边是 $(A,D):5$、$(D,E):7$、$(A,C):8$、$(C,E):10$。为每条边计算 $w(T_{e})$：\n- 对于 $e=(A,D)$：最小生成树路径 $A\\to B\\to C\\to D$ 的边权重为 $\\{2,3,4\\}$，因此最大值为 $4$。所以\n$$\nw(T_{(A,D)})=15+5-4=16.\n$$\n- 对于 $e=(D,E)$：最小生成树路径 $D\\to C\\to B\\to E$ 的权重为 $\\{4,3,6\\}$，因此最大值为 $6$。所以\n$$\nw(T_{(D,E)})=15+7-6=16.\n$$\n- 对于 $e=(A,C)$：最小生成树路径 $A\\to B\\to C$ 的权重为 $\\{2,3\\}$，因此最大值为 $3$。所以\n$$\nw(T_{(A,C)})=15+8-3=20.\n$$\n- 对于 $e=(C,E)$：最小生成树路径 $C\\to B\\to E$ 的权重为 $\\{3,6\\}$，因此最大值为 $6$。所以\n$$\nw(T_{(C,E)})=15+10-6=19.\n$$\n\n这些值中超过 $15$ 的最小值是 $16$。因此，最佳应急网络（次优生成树）的总成本是 $16$。", "answer": "$$\\boxed{16}$$", "id": "1533914"}, {"introduction": "从优化问题转向基础理论，我们现在来探索生成树的内在结构特性。我们能否构建一个满足特定约束的生成树，比如每个节点的连接数（度）都是奇数？这个思想实验 [@problem_id:1533895] 不再关注成本，而是关注可能性。它促使我们运用图论中的握手定理等核心结论，来推导出一个关于所有树的结构都必须遵守的、强大而优美的普适规则。", "problem": "一家科技公司正在设计一系列新的服务器网络。每个网络都必须连接一组数据中心。为保证可靠性，网络拓扑必须是生成树，即一种用最少数量的链路连接所有数据中心且不形成任何环路的网络。\n\n为了他们正在开发的一种专门的路由协议，工程师们正在研究一种网络设计，其中生成树中的每个数据中心（顶点）都与该树内的其他数据中心有奇数个直接连接（度）。\n\n该公司正在考虑不同规模的网络方案。从以下选项中，找出唯一一个理论上可以构建这种特殊网络（即每个顶点度数都为奇数的生成树）的数据中心数量。\n\nA. 9 个数据中心\nB. 11 个数据中心\nC. 13 个数据中心\nD. 14 个数据中心\nE. 15 个数据中心", "solution": "设 $T$ 是一棵有 $n$ 个顶点的树，其顶点集为 $V$，边集为 $E$。根据树的定义，有 $|E|=n-1$。根据握手引理，\n$$\n\\sum_{v \\in V} \\deg(v) = 2|E| = 2(n-1).\n$$\n假设每个顶点的度数都为奇数。那么，等式左边是 $n$ 个奇数之和，因此\n$$\n\\sum_{v \\in V} \\deg(v) \\equiv \\sum_{i=1}^{n} 1 \\equiv n \\pmod{2}.\n$$\n但 $2(n-1) \\equiv 0 \\pmod{2}$，因此 $n \\equiv 0 \\pmod{2}$。所以，一个必要条件是 $n$ 为偶数。\n\n为了证明对于偶数 $n$ 的充分性，考虑星形图 $K_{1,n-1}$。这是一个有 $n$ 个顶点的树，其度序列为 $(n-1, 1, 1, \\dots, 1)$。如果 $n$ 是偶数，那么 $n-1$ 是奇数，并且所有叶节点的度数都是 $1$（奇数），因此每个顶点的度数都是奇数。因此，对于每个偶数 $n$，这样的树都存在。\n\n在给出的选项中，唯一的偶数是 $14$，所以这是唯一可行的大小。", "answer": "$$\\boxed{D}$$", "id": "1533895"}]}