## 引言
在[图论](@entry_id:140799)的世界里，我们不仅研究孤立的图及其静态属性，更需要一套强大的工具来构建、变换和组合它们，以模拟真实世界中复杂系统的动态演化。图运算（Graph Operations）正是这样一套“代数”工具，它允许我们通过精确的规则，从简单的图块生成复杂的网络结构。无论是设计稳健的通信网络，分析社交关系的演变，还是在[量子计算](@entry_id:142712)中操纵纠缠态，图运算都为其提供了底层的形式化语言和强大的建模能力。

本文旨在系统地介绍图运算的核心概念及其深远影响。我们不仅要回答“什么是补图、线图或[笛卡尔积](@entry_id:154642)？”这样的基本问题，更要探索这些运算如何成为连接理论与实践的桥梁。通过本文，读者将全面了解图运算的原理、应用及其在解决跨学科问题中的威力。

文章将分为三个核心部分展开：
*   **第一章：原理与机制** 将详细阐述[基本图](@entry_id:160617)运算的定义，包括一元、二元和局部运算，并分析它们如何改变图的度、连通性和其他基本性质。
*   **第二章：应用与跨学科联系** 将展示这些运算如何被用于构造具有特定属性的图类，并探讨其在算法设计、网络工程、计算科学乃至量子信息等前沿领域的具体应用。
*   **第三章：动手实践** 提供了一系列精选的练习题，旨在通过具体计算和分析，帮助读者巩固对图运算的理解并掌握其应用技巧。

让我们首先进入第一章，深入探索这些[基本图](@entry_id:160617)运算的原理与机制，为后续的理论与应用探索奠定坚实的基础。

## 原理与机制

在图论的研究中，我们不仅关注单个图的性质，还常常需要通过各种运算从已有的图中构造出新的图。这些图运算不仅是理论研究的有力工具，在计算机网络、[社会网络分析](@entry_id:271892)、化学和生物信息学等领域中也有着广泛的应用。本章将系统地介绍几种基本的图运算，阐述它们的定义、原理及其对图性质的影响。这些运算可以大致分为三类：作用于单个图的一元运算、组合两个图的[二元运算](@entry_id:152272)，以及修改图局部结构的局部运算。

### 一元运算：单个图的变换

一元运算通过对单个图进行某种规则的变换，生成一个新的图。常见的例子包括补图、线图和图的幂。

#### [补图](@entry_id:267681)：反转邻接关系

最基本的一元运算之一是**补图 (complement graph)**。给定一个简单图 $G=(V, E)$，它的[补图](@entry_id:267681) $\bar{G}$ 具有相同的顶点集 $V$。在 $\bar{G}$ 中，任意两个不同的顶点 $u$ 和 $v$ 之间存在一条边，当且仅当它们在原图 $G$ 中不相邻。换句话说，补图将原图中所有的邻接关系和非邻接关系完全反转。

补图运算一个直接的后果是它与顶点度的关系。在一个包含 $n$ 个顶点的图中，任意一个顶点 $v$ 最多可以与 $n-1$ 个其他顶点相连。如果在原图 $G$ 中，顶点 $v$ 的度为 $\deg_G(v) = k$，这意味着它与 $k$ 个顶点相邻。因此，在补图 $\bar{G}$ 中，它将与其余的 $(n-1)-k$ 个顶点相邻。由此，我们得到一个基本关系：
$$ \deg_{\bar{G}}(v) = n - 1 - \deg_G(v) $$

这个性质引出一个有趣的结果。例如，考虑一个模拟社交网络的 $k$-[正则图](@entry_id:265877) $G$，其中每个用户（顶点）都恰好有 $k$ 个朋友（邻居）。如果我们想分析其“非朋友”关系构成的图，即[补图](@entry_id:267681) $\bar{G}$，那么根据上述公式，$\bar{G}$ 中每个[顶点的度](@entry_id:264944)都将是 $n-1-k$。这意味着，如果原图是正则的，其补图也必然是正则的 [@problem_id:1508141]。

[补图](@entry_id:267681)运算还与图的连通性有着深刻的联系。一个看似平淡的结论是，**对于任何一个顶点数 $n \ge 2$ 的简单图 $G$，它和它的补图 $\bar{G}$ 中至少有一个是连通的**。这一结论排除了 $G$ 和 $\bar{G}$ 同时为[不连通图](@entry_id:275570)的可能性。

我们可以通过一个简单的反证来理解这一点。假设 $G$ 是不连通的。这意味着 $G$ 至少有两个连通分量。我们可以将 $G$ 的顶点集 $V$ 划分为两个非空[子集](@entry_id:261956) $V_1$ 和 $V_2$，使得在 $G$ 中不存在任何连接 $V_1$ 中的顶点与 $V_2$ 中的顶点的边。现在考虑补图 $\bar{G}$。根据定义，对于任意的 $v_1 \in V_1$ 和 $v_2 \in V_2$，由于它们在 $G$ 中不相邻，它们在 $\bar{G}$ 中必然相邻。

现在，我们证明 $\bar{G}$ 是连通的。取 $\bar{G}$ 中任意两个顶点 $u, v$：
1.  如果 $u$ 和 $v$ 分别属于不同的划分（例如 $u \in V_1, v \in V_2$），那么它们在 $\bar{G}$ 中直接相连。
2.  如果 $u$ 和 $v$ 属于同一个划分（例如 $u, v \in V_1$），我们可以从另一个划分 $V_2$ 中任取一个顶点 $z$（$V_2$非空）。由于 $u$ 和 $z$ 属于不同划分，$u, z$ 在 $\bar{G}$ 中相邻；同理，$v$ 和 $z$ 在 $\bar{G}$ 中也相邻。因此，存在一条长度为2的路径 $u-z-v$。

在所有情况下，$\bar{G}$ 中任意两点之间都存在路径，所以 $\bar{G}$ 是连通的。这个证明揭示了一个重要的原理：图中的“非边”在[补图](@entry_id:267681)中变成了“边”，一个图的结构[稀疏性](@entry_id:136793)（不连通）必然导致其补图的结构稠密性（连通）[@problem_id:1508122]。

#### [线图](@entry_id:264599)：将边视为顶点

**线图 (line graph)** 是另一种重要的一元运算，它将我们关注的[焦点](@entry_id:174388)从顶点转移到了边。给定一个图 $G$，其[线图](@entry_id:264599) $L(G)$ 的构造规则如下：
1.  $G$ 中的每一条边都对应于 $L(G)$ 中的一个顶点。
2.  $L(G)$ 中的两个顶点是相邻的，当且仅当它们在 $G$ 中对应的两条边有一个公共顶点。

例如，一个三角形 $C_3$ 有3个顶点和3条边。它的线图 $L(C_3)$ 将有3个顶点，分别对应 $C_3$ 的3条边。由于 $C_3$ 的任意两条边都有一个公共顶点，所以 $L(C_3)$ 中的任意两个顶点都相邻，这意味着 $L(C_3)$ 本身也是一个三角形。

[线图](@entry_id:264599)的结构性质，如其边数，可以完全由原图的顶点度决定。考虑原图 $G$ 中的任意一个顶点 $v_i$，其度为 $d_i$。这意味着有 $d_i$ 条边在 $v_i$ 处交汇。根据线图的定义，这 $d_i$ 条边在 $L(G)$ 中对应的 $d_i$ 个顶点将两两相邻，因为它们都共享公共顶点 $v_i$。这就在 $L(G)$ 中形成了一个大小为 $d_i$ 的完全子图（团, clique），即 $K_{d_i}$。

一个大小为 $k$ 的[完全图](@entry_id:266483)有 $\binom{k}{2} = \frac{k(k-1)}{2}$ 条边。因此，原图中的顶点 $v_i$ 在线图 $L(G)$ 中贡献了 $\binom{d_i}{2}$ 条边。$L(G)$ 中的每一条边都连接着两条在原图 $G$ 中仅有一个公共顶点的边，因此，我们将所有顶点贡献的边数相加，就能得到 $L(G)$ 的总边数，而不会有任何重复计算。

因此，线图 $L(G)$ 的总边数 $|E(L(G))|$ 可以通过对原图 $G$ 中所有顶点的度进行如下计算得到 [@problem_id:1508170]：
$$ |E(L(G))| = \sum_{i=1}^{n} \binom{d_i}{2} = \sum_{i=1}^{n} \frac{d_i(d_i - 1)}{2} $$
其中 $n$ 是 $G$ 的顶点数，$d_i$ 是顶点 $v_i$ 的度。

#### 图的幂：缩短距离

**图的 $k$ 次幂 (k-th power of a graph)**，记作 $G^k$，是在原图 $G$ 的顶点集上定义的一个新图。在 $G^k$ 中，两个顶点 $u$ 和 $v$ 相邻，当且仅当它们在原图 $G$ 中的距离 $d_G(u,v)$ 不超过 $k$。原图 $G$ 本身可以看作是它的一次幂 $G^1$。

最常见的例子是**图的平方 (square of a graph)** $G^2$，其中如果两个顶点在原[图中的距离](@entry_id:276146)是1（即相邻）或2，它们就在 $G^2$ 中相邻。这个运算可以看作是在图中增加了连接“邻居的邻居”的快捷方式。

让我们以一个具体的例子来分析这个运算——[路径图](@entry_id:274599) $P_n$ 的平方 $P_n^2$。[路径图](@entry_id:274599) $P_n$ 的顶点为 $v_1, v_2, \dots, v_n$，边为 $\{v_i, v_{i+1}\}$。在 $P_n$ 中，任意两点 $v_i, v_j$ 之间的距离就是它们下标之差的[绝对值](@entry_id:147688)，即 $d_{P_n}(v_i, v_j) = |i-j|$。

根据定义，$P_n^2$ 中的边连接所有在 $P_n$ 中距离为1或2的顶点对。
- 距离为1的顶点对是 $\{v_i, v_{i+1}\}$，共有 $n-1$ 对。这些是 $P_n$ 的原始边。
- 距离为2的顶点对是 $\{v_i, v_{i+2}\}$，共有 $n-2$ 对（从 $i=1$ 到 $n-2$）。这些是新增的边。

因此，$P_n^2$ 的总边数为这两个部分之和：$(n-1) + (n-2) = 2n-3$（对于 $n \ge 2$）[@problem_id:1508139]。图的幂运算在通信网络中尤其有用，它模拟了当消息可以跳过中间节点时网络的连接性变化。

### [二元运算](@entry_id:152272)：组合两个图

[二元运算](@entry_id:152272)从两个或多个已有的图出发，按照特定规则将它们组合成一个更大的图。

#### 简单的组合：不交并与图联

**不交并 (disjoint union)**，记作 $G_1 \cup G_2$，是组合两个图最简单的方式。假设图 $G_1 = (V_1, E_1)$ 和 $G_2 = (V_2, E_2)$ 的顶点集不相交，它们的并图就是一个新的图 $G = (V_1 \cup V_2, E_1 \cup E_2)$。这个新图只是简单地将两个原图并列放置，不增加任何新的边。因此，新图的顶点数和边数就是原图相应数量的总和：
$$ |V(G_1 \cup G_2)| = |V(G_1)| + |V(G_2)| $$
$$ |E(G_1 \cup G_2)| = |E(G_1)| + |E(G_2)| $$

例如，要计算一个[轮图](@entry_id:271886) $W_{n+1}$ 和一个[圈图](@entry_id:149287) $C_m$ 的不交并的边数，我们只需分别计算它们的边数再相加。一个 $m$ 个顶点的[圈图](@entry_id:149287) $C_m$ 有 $m$ 条边。一个[轮图](@entry_id:271886) $W_{n+1}$ 由一个[中心顶点](@entry_id:264579)和 $n$ 个“轮辐”顶点组成，这 $n$ 个轮辐顶点本身构成一个圈 $C_n$。因此，它有 $n$ 条轮辐边和 $n$ 条轮圈边，总共 $2n$ 条边。所以，不交并 $W_{n+1} \cup C_m$ 的总边数就是 $2n + m$ [@problem_id:1508131]。

与不交并相对的是**图联 (join)**，记作 $G+H$。它同样从 $G$ 和 $H$ 的不交并开始，但额外增加了所有可能的、连接 $G$ 的一个顶点和 $H$ 的一个顶点的边。

这种“全连接”的特性可以非常清晰地通过[邻接矩阵](@entry_id:151010)来描述。假设 $G$ 有 $n$ 个顶点，其邻接矩阵为 $A_G$；$H$ 有 $m$ 个顶点，其[邻接矩阵](@entry_id:151010)为 $A_H$。如果我们先[排列](@entry_id:136432) $G$ 的 $n$ 个顶点，再[排列](@entry_id:136432) $H$ 的 $m$ 个顶点，那么联图 $G+H$ 的 $(n+m) \times (n+m)$ 邻接矩阵 $A_{G+H}$ 可以表示为一个[分块矩阵](@entry_id:148435)。对角线上的块是原图的邻接矩阵 $A_G$ 和 $A_H$，而非对角线上的块则代表了 $G$ 和 $H$ 之间的连接。由于 $G+H$ 中每个 $V(G)$ 的顶点都与每个 $V(H)$ 的顶点相连，这些非对角线块将是全1矩阵（记作 $J$）。因此，邻接矩阵具有以下优美的形式 [@problem_id:1508160]：
$$ A_{G+H} = \begin{pmatrix} A_G  J_{n,m} \\ J_{m,n}  A_H \end{pmatrix} $$
其中 $J_{r,c}$ 是一个 $r \times c$ 的全1矩阵。作为对比，不交并的邻接矩阵的非对角块将是全0矩阵。

#### 图乘积：构建高维结构

图乘积是一类更复杂的[二元运算](@entry_id:152272)，它们能生成具有丰富结构的图。其中最著名的是**笛卡尔积 (Cartesian product)**。

给定图 $G=(V_G, E_G)$ 和 $H=(V_H, E_H)$，它们的[笛卡尔积](@entry_id:154642) $G \square H$ 定义如下：
-   顶点集是 $V_G \times V_H$，即所有形如 $(u,v)$ 的[有序对](@entry_id:269702)，其中 $u \in V_G, v \in V_H$。
-   两个顶点 $(u_1, v_1)$ 和 $(u_2, v_2)$ 在 $G \square H$ 中相邻，当且仅当满足以下两个条件之一：
    1.  $u_1 = u_2$ 且 $\{v_1, v_2\}$ 是 $H$ 中的一条边（“垂直”移动）。
    2.  $v_1 = v_2$ 且 $\{u_1, u_2\}$ 是 $G$ 中的一条边（“水平”移动）。

这个定义可以直观地理解为：将图 $G$ 的每个顶点替换为图 $H$ 的一个副本，然后根据 $G$ 的边连接这些副本。例如，两条路径 $P_m \square P_n$ 的笛卡尔积生成一个 $m \times n$ 的[网格图](@entry_id:261673)。

[笛卡尔积](@entry_id:154642)的一个基本性质是其顶点的度。考虑 $G \square H$ 中的一个顶点 $(u,v)$。它的邻居可以分为两类：
1.  形如 $(u, v')$ 的顶点，其中 $v'$ 是 $v$ 在 $H$ 中的邻居。这样的邻居有 $\deg_H(v)$ 个。
2.  形如 $(u', v)$ 的顶点，其中 $u'$ 是 $u$ 在 $G$ 中的邻居。这样的邻居有 $\deg_G(u)$ 个。

这两类邻居是互不相交的（因为[简单图](@entry_id:274882)没有环），所以顶点 $(u,v)$ 的总度数就是两类邻居数量之和 [@problem_id:1508107]：
$$ \deg_{G \square H}((u,v)) = \deg_G(u) + \deg_H(v) $$

[笛卡尔积](@entry_id:154642)在保持图的某些性质方面表现出良好的行为。一个重要的例子是二分性。一个图是二分的当且仅当它不包含奇数长度的圈。一个关键定理指出：**$G \square H$ 是二分图，当且仅当 $G$ 和 $H$ 都是二分图**。如果 $G$ 或 $H$ 中有一个不是[二分图](@entry_id:262451)（即包含[奇圈](@entry_id:271287)），那么这个奇[圈结构](@entry_id:147026)也会在[笛卡尔积](@entry_id:154642)中复现，导致 $G \square H$ 也不是二分图。反之，如果两者都是二分图，则可以为乘积图构造一个有效的二部划分。这个性质在判断复杂图的二分性时非常有用 [@problem_id:1508124]。

### 局部运算：修改图的微观结构

除了组合或变换整个图，还有一类运算专注于修改图的局部，例如删除或收缩边。

#### [边收缩](@entry_id:265581)：融合顶点

**[边收缩](@entry_id:265581) (edge contraction)** 是[图论](@entry_id:140799)中一个非常基本的操作，尤其在图的结构理论（如图未成年）中扮演核心角色。收缩一条边 $e=\{u,v\}$ 的过程如下：
1.  移除边 $\{u,v\}$。
2.  将顶点 $u$ 和 $v$ 合并成一个单一的“超级顶点” $w$。
3.  对于原图中任何一个邻接 $u$ 或 $v$（或两者都邻接）的顶点 $x$，在收缩后的图中连接一条边 $\{w, x\}$。
4.  如果收缩过程产生了[多重边](@entry_id:273920)（例如，一个顶点 $x$ 同时与 $u$ 和 $v$ 相邻），通常会将它们合并为一条单一的边以保持图的简单性。

这个过程可以被形象地看作是将两个通过链路直接相连的服务器融合成一个功能更强大的服务器，新服务器继承了两者所有的外部连接 [@problem_id:1508103]。

计算新顶点 $w$ 的度需要仔细的考量。设 $d(u)$ 和 $d(v)$ 分别是 $u$ 和 $v$ 在原图中的度，并设 $c(u,v)$ 是它们共同邻居的数量。
$w$ 的邻居集合是 $u$ 的邻居和 $v$ 的邻居的并集，但不包括 $u$ 和 $v$ 本身。这个邻居集合是 $(N(u) \setminus \{v\}) \cup (N(v) \setminus \{u\})$。
利用集合的[容斥原理](@entry_id:276055)，该集合的大小（即 $w$ 的度）为：
$$ \deg(w) = |N(u) \setminus \{v\}| + |N(v) \setminus \{u\}| - |(N(u) \setminus \{v\}) \cap (N(v) \setminus \{u\})| $$
由于 $u,v$ 相邻，我们有 $|N(u) \setminus \{v\}| = d(u) - 1$ 和 $|N(v) \setminus \{u\}| = d(v) - 1$。交集项就是 $u, v$ 的共同邻居集合 $N(u) \cap N(v)$，其大小为 $c(u,v)$。
将这些代入，我们得到新顶点 $w$ 的度为：
$$ \deg(w) = (d(u) - 1) + (d(v) - 1) - c(u,v) = d(u) + d(v) - c(u,v) - 2 $$
这个公式精确地量化了[边收缩](@entry_id:265581)如何改变局部连接性。

本章介绍的图运算构成了[图论](@entry_id:140799)工具箱中的基石。通过这些运算，我们可以从简单的基础图块构建出复杂的结构，研究它们的性质如何演变，并为解决现实世界中的网络问题提供强大的建模能力。