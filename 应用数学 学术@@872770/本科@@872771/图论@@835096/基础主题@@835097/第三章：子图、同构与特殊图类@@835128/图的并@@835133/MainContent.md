## 引言
[图的并](@entry_id:267788)集是图论中一项基础而强大的运算，它允许我们通过组合已有的简单网络来构建和理解更复杂的系统。从社交网络中不同关系层的叠加，到[通信系统](@entry_id:265921)中多个冗余网络的整合，并集的概念无处不在。然而，简单地合并两个图的边和顶点会带来一个核心问题：组合后的网络会继承、改变还是丢失原始网络的特性？例如，两个稳定的网络合并后是否依然稳定？两个高效的网络合并后效率会如何变化？

本文旨在系统性地解答这些问题，为读者提供关于图并集运算的全面理解。我们将分为三个章节进行深入探讨。第一章**《原理与机制》**将从形式化定义出发，详细阐述并集运算如何影响[顶点的度](@entry_id:264944)、图的连通性以及圈的形成，并揭示为何某些属性（如二分性）在并集下并不稳定。第二章**《应用与跨学科联系》**将展示图并集作为一种构造和分解工具的强大能力，并探讨其在[网络设计](@entry_id:267673)、鲁棒性分析、[随机图论](@entry_id:261982)和控制理论等领域的实际应用和深刻联系。最后，在**《动手实践》**中，您将通过解决具体问题来巩固所学知识，将理论应用于实践。通过学习本文，您将掌握使用图并集来分析、设计和优化[复杂网络](@entry_id:261695)系统的核心技能。

## 原理与机制

[图的并](@entry_id:267788)集是[图论](@entry_id:140799)中的一个基本运算，它允许我们通过组合现有图来构建更复杂的网络结构。正如集合的并集汇集了所有元素，[图的并](@entry_id:267788)集汇集了所有顶点和边。本章将系统地阐述图并集的定义、其对图基本性质的影响，以及它在图的构造和分析中的核心作用。

### 图并集的定义

从形式上看，两个图 $G_1 = (V_1, E_1)$ 和 $G_2 = (V_2, E_2)$ 的**并集**，记作 $G_1 \cup G_2$，是一个新图，其顶点集是 $V_1$ 和 $V_2$ 的并集，[边集](@entry_id:267160)是 $E_1$ 和 $E_2$ 的并集。也就是说，$G_1 \cup G_2 = (V_1 \cup V_2, E_1 \cup E_2)$。

在许多应用场景中，我们处理的图都定义在同一个顶点集上。若 $V_1 = V_2 = V$，定义就简化为 $G_1 \cup G_2 = (V, E_1 \cup E_2)$。在这种情况下，并集运算只涉及合并两个图的边，而顶点集保持不变。一条边存在于并集图 $G_1 \cup G_2$ 中，当且仅当它至少存在于 $G_1$ 或 $G_2$ 中的一个。

理解这个定义如何转化为具体的[图表示](@entry_id:273102)是至关重要的。

#### 基于[邻接表](@entry_id:266874)的视角

当图用[邻接表](@entry_id:266874)表示时，计算并集图的[邻接表](@entry_id:266874)是一个直观的过程。对于并集图 $G_U = G_1 \cup G_2$ 中的任意顶点 $v$，其邻居集合 $N_{G_U}(v)$ 是它在 $G_1$ 中的邻居集合 $N_{G_1}(v)$ 与在 $G_2$ 中的邻居集合 $N_{G_2}(v)$ 的并集。

$N_{G_U}(v) = N_{G_1}(v) \cup N_{G_2}(v)$

例如，考虑一个城市中的两个公交网络，CityHopper ($G_1$) 和 RegionalExpress ($G_2$)，它们服务于同一组枢纽 $\{A, B, C, D, E, F\}$ [@problem_id:1547927]。假设在 $G_1$ 中，枢纽 $C$ 的邻居是 $\{A, D\}$；在 $G_2$ 中，枢纽 $C$ 的邻居是 $\{B, F\}$。在合并后的统一网络 $G_U$ 中，从 $C$ 出发可直达的枢纽集合就是这两个邻居集合的并集：$N_{G_U}(C) = \{A, D\} \cup \{B, F\} = \{A, B, D, F\}$。因此，$C$ 在新网络中的度为 4。

#### 基于邻接矩阵的视角

当图在有序顶点集 $V = \{v_1, v_2, \dots, v_n\}$ 上由[邻接矩阵](@entry_id:151010)表示时，并集运算对应于矩阵元素间的逻辑运算。设 $A_1$ 和 $A_2$ 分别是 $G_1$ 和 $G_2$ 的[邻接矩阵](@entry_id:151010)，其中如果顶点 $v_i$ 和 $v_j$ 之间有边，则[矩阵元](@entry_id:186505)素 $(A_k)_{ij} = 1$，否则为 $0$。

并集图 $G = G_1 \cup G_2$ 的邻接矩阵为 $A$。根据定义，一条边 $\{v_i, v_j\}$ 存在于 $G$ 中，当且仅当它存在于 $G_1$ 或 $G_2$ 中。这直接对应于[布尔逻辑](@entry_id:143377)中的 **OR**（或）运算。因此，并集图的[邻接矩阵](@entry_id:151010)的每个元素可以通过对原始矩阵相应元素执行逻辑或运算得到 [@problem_id:1547948]：

$A_{ij} = (A_1)_{ij} \lor (A_2)_{ij}$

这里，$A_{ij}$ 为 1 当且仅当 $(A_1)_{ij}$ 或 $(A_2)_{ij}$ (或两者) 为 1。这个关系优雅地将图论中的并集操作与线性代数和逻辑运算联系起来。值得注意的是，其他[逻辑运算符](@entry_id:142505)也对应于其他图操作：逻辑与 (AND, $\land$) 对应于图的**交集** ($G_1 \cap G_2$，其[边集](@entry_id:267160)为 $E_1 \cap E_2$)，而[异或](@entry_id:172120) (XOR, $\oplus$) 对应于图的**[对称差](@entry_id:156264)**。

### 并集对图基本性质的影响

[图的并](@entry_id:267788)集运算会改变图的局部和全局属性。理解这些变化对于分析组合网络的特性至关重要。

#### 顶点度

对于定义在同一顶点集上的图 $G_1$ 和 $G_2$，其并集 $G = G_1 \cup G_2$ 中任意顶点 $v$ 的度 $\deg_G(v)$，是其在 $G_1$ 和 $G_2$ 中邻居集合的并集的大小。根据集合的[容斥原理](@entry_id:276055)，我们有：

$\deg_G(v) = |N_{G_1}(v) \cup N_{G_2}(v)| = |N_{G_1}(v)| + |N_{G_2}(v)| - |N_{G_1}(v) \cap N_{G_2}(v)|$

$\deg_G(v) = \deg_{G_1}(v) + \deg_{G_2}(v) - |N_{G_1}(v) \cap N_{G_2}(v)|$

这个公式表明，一个[顶点的度](@entry_id:264944)在并集中是其在[原始图](@entry_id:262918)中度的总和，减去共享邻居的数量。由此可以推断出关于图的[最大度](@entry_id:265573) $\Delta(G)$ 的一个重要不等式：

$\Delta(G_1 \cup G_2) \le \Delta(G_1) + \Delta(G_2)$

这个不等式表明，并集图的[最大度](@entry_id:265573)不会超过[原始图](@entry_id:262918)[最大度](@entry_id:265573)之和。等号成立的条件是，当并集图中度最大的那个顶点在原始图 $G_1$ 和 $G_2$ 中的邻居集合是不相交的。例如，考虑在顶点集 $V = \{0, 1, \dots, 11\}$ 上的两个图，其中 $G_1$ 的边连接所有满足 $u-v \equiv \pm 2 \pmod{12}$ 的顶点对，$G_2$ 的边连接所有满足 $u-v \equiv \pm 3 \pmod{12}$ 的顶点对 [@problem_id:1547904]。在 $G_1$ 中，每个顶点 $v$ 的邻居是 $\{v+2, v-2\}$，度为 2。在 $G_2$ 中，每个顶点 $v$ 的邻居是 $\{v+3, v-3\}$，度也为 2。由于这些邻居集合互不相交，在并集图 $G_1 \cup G_2$ 中，每个顶点的邻居集合是 $\{v-3, v-2, v+2, v+3\}$，度精确地为 $2+2=4$。因此，并集图的[最大度](@entry_id:265573) $\Delta(G)$ 为 4。

#### 连通性

并集运算倾向于增加图的连通性。由于 $G_1$ 和 $G_2$ 的所有边都存在于 $G_1 \cup G_2$ 中，并集图中的路径至少和任何一个[原始图](@entry_id:262918)一样多。一个有趣且重要的结果是，两个[不连通图](@entry_id:275570)的并集可以是连通的。

考虑一个拥有六个节点 $\{v_1, \dots, v_6\}$ 的系统 [@problem_id:1547951]。一个网络 $G_1$ 的连接是 $E_1 = \{(v_1, v_2), (v_3, v_4), (v_5, v_6)\}$，它由三个独立的链路组成，是不连通的。另一个网络 $G_2$ 的连接是 $E_2 = \{(v_2, v_3), (v_4, v_5)\}$，它由两个独立的链路组成，也是不连通的。然而，它们的并集 $G_1 \cup G_2$ 的[边集](@entry_id:267160)为 $E_1 \cup E_2 = \{(v_1, v_2), (v_2, v_3), (v_3, v_4), (v_4, v_5), (v_5, v_6)\}$。这些边构成了一条连接所有六个顶点的路径 $v_1-v_2-v_3-v_4-v_5-v_6$。因此，两个不连通的图通过并集运算形成了一个[连通图](@entry_id:264785)。这个简单的例子说明了通过合并稀疏的网络来构建一个健壮的、完全连接的系统的潜力。

### 并集作为构造工具与对圈的影响

并集不仅是一种分析工具，也是一种强大的构造工具，能够生成具有特定结构的图。

#### 构造复杂图

并集运算可以用来构建经典的图族。一个特别优美的例子是任何[简单图](@entry_id:274882) $G$ 与其**[补图](@entry_id:267681)** $\bar{G}$ 的并集 [@problem_id:1547934]。对于一个有 $n$ 个顶点的简单图 $G$，其补图 $\bar{G}$ 拥有相同的顶点集，但其[边集](@entry_id:267160)恰好由 $G$ 中*不存在*的边构成。对于任意两个不同的顶点 $u$ 和 $v$，它们之间的边要么存在于 $G$ 中，要么存在于 $\bar{G}$ 中，但绝不会同时存在于两者。因此，它们的[边集](@entry_id:267160)合并 $E \cup \bar{E}$ 包含了连接任意两个不同顶点的所有可能边。这正是 $n$ 阶**完全图** $K_n$ 的定义。所以，我们总是有：

$G \cup \bar{G} = K_n$

这个恒等式揭示了图与其补图之间的深刻对偶关系，并展示了并集运算如何将部分连接的结构补充完整。

#### 圈的形成

向图中添加边是产生圈的主要方式，因此并集运算常常会引入新的圈。一个经典的例子是两个不同生成树的并集 [@problem_id:1547936]。一个 $n$ 顶点图的**生成树**是连接所有 $n$ 个顶点且不含圈的[子图](@entry_id:273342)，它恰好有 $n-1$ 条边。

设 $T_1$ 和 $T_2$ 是定义在同一 $n$ 顶点集上的两个不同生成树，它们共享 $k$ 条边。由于它们是不同的，我们有 $k  n-1$。$T_1$ 和 $T_2$ 各有 $n-1$ 条边。它们的并集 $G = T_1 \cup T_2$ 的边数 $m$ 可以通过[容斥原理](@entry_id:276055)计算：

$m = |E(T_1)| + |E(T_2)| - |E(T_1) \cap E(T_2)| = (n-1) + (n-1) - k = 2n - 2 - k$

为了确定 $G$ 中“多余”的边的数量（即形成圈的边的数量），我们可以使用图的**[圈数](@entry_id:267135)**（cyclomatic number）概念。对于一个有 $n$ 个顶点、$m$ 条边和 $c$ 个[连通分量](@entry_id:141881)的图，圈数 $\mu = m - n + c$ 表示了图中独立圈的数量，也等于为了使图无圈（成为森林）而需要移除的最少边数。由于 $T_1$ 和 $T_2$ 都是[生成树](@entry_id:261279)，它们都是连通的，因此它们的并集 $G$ 也是连通的，即 $c=1$。将 $m$ 和 $c$ 代入圈数公式，我们得到需要移除的最小边数：

$\mu = (2n - 2 - k) - n + 1 = n - 1 - k$

这个结果非常深刻：两个[生成树](@entry_id:261279)的并集所产生的独立圈的数量，恰好等于其中一个生成树独有的边数。这量化了两个树的“差异”如何转化为并集图的[圈结构](@entry_id:147026)。

### 图属性在并集运算下的保持性

在研究任何数学运算时，一个核心问题是：哪些属性在该运算下是“封闭”的？也就是说，如果操作数具有某种属性，结果是否也具有该属性？对于[图的并](@entry_id:267788)集，答案是复杂的，这揭示了图属性的微妙之处。

#### 不被保持的属性：二分性与平面性

一个常见的误解是，由具有某种良好性质的图组合而成的图，也会继承这种性质。然而，[图的并](@entry_id:267788)集运算证明事实并非如此。

**二分性**：一个图是二分的，当且仅当它不包含奇数长度的圈。两个[二分图](@entry_id:262451)的并集不一定是二分的。要构造一个反例，我们只需要找到一种方法，通过并集运算来“拼凑”出一个奇数圈。所需的最小顶点数是 3 [@problem_id:1547919]。设顶点集 $V=\{1,2,3\}$。考虑图 $G_1$，其[边集](@entry_id:267160)为 $E_1 = \{\{1,2\}, \{2,3\}\}$ (一条路径)；以及图 $G_2$，其[边集](@entry_id:267160)为 $E_2 = \{\{1,3\}\}$ (一条边)。$G_1$ 是二分的（划分 $U=\{2\}, W=\{1,3\}$），$G_2$ 显然也是二分的。然而，它们的并集 $G_1 \cup G_2$ 的[边集](@entry_id:267160)是 $\{\{1,2\}, \{2,3\}, \{1,3\}\}$，这构成了长度为 3 的圈（$K_3$），它不是二分图。

**[平面性](@entry_id:274781)**：一个图是平面的，如果它可以被画在平面上而没有任何边[交叉](@entry_id:147634)。与二分性类似，平面性在图并集运算下也不是封闭的。我们可以构造两个[平面图](@entry_id:269787)，它们的并集却是非平面的。一个经典的例子利用了 Kuratowski 定理，该定理指出[非平面图](@entry_id:268333)必然包含 $K_5$（5个顶点的[完全图](@entry_id:266483)）或 $K_{3,3}$（[完全二分图](@entry_id:276229)）的剖分。考虑一个有 5 个顶点的集合 [@problem_id:1547918]，我们可以构建两个都是 5-圈 ($C_5$) 的图。令 $G_1$ 为边按顺序连接的圈 $(v_1-v_2-v_3-v_4-v_5-v_1)$，令 $G_2$ 为“五角星”形的圈 $(v_1-v_3-v_5-v_2-v_4-v_1)$。$G_1$ 和 $G_2$ 都是简单的圈，因此都是平面的。但是，它们的并集 $G_1 \cup G_2$ 包含了连接这 5 个顶点的所有 10 条可能的边，从而构成了非平面的 $K_5$。

这两个例子警示我们，即使是基本的图属性，在并集运算下也可能丢失。

#### 具有可预测关系的不变式：[顶点覆盖数](@entry_id:276590)

虽然某些属性可能会丢失，但其他[图不变量](@entry_id:262729)在并集运算下表现出可预测的关系。**[顶点覆盖数](@entry_id:276590)**是一个很好的例子。图 $G$ 的一个顶点覆盖是一个顶点[子集](@entry_id:261956) $S$，使得 $G$ 中的每条边至少有一个端点在 $S$ 中。[顶点覆盖数](@entry_id:276590) $\tau(G)$ 是指[最小顶点覆盖](@entry_id:265319)的大小。

对于两个图 $G_1$ 和 $G_2$ 的并集，其[顶点覆盖数](@entry_id:276590) $\tau(G_1 \cup G_2)$ 与 $\tau(G_1)$ 和 $\tau(G_2)$ 的关系遵循一个重要的不等式 [@problem_id:1547953]：

$\tau(G_1 \cup G_2) \le \tau(G_1) + \tau(G_2)$

这个不等式（称为子加性）的证明是构造性的。设 $S_1$ 是 $G_1$ 的一个[最小顶点覆盖](@entry_id:265319)， $S_2$ 是 $G_2$ 的一个[最小顶点覆盖](@entry_id:265319)。那么它们的并集 $S_1 \cup S_2$ 一定是 $G_1 \cup G_2$ 的一个顶点覆盖。为什么？因为 $G_1 \cup G_2$ 中的任何一条边 $e$ 要么来自 $E_1$，要么来自 $E_2$。如果 $e \in E_1$，它被 $S_1$ 覆盖；如果 $e \in E_2$，它被 $S_2$ 覆盖。因此，$e$ 总能被 $S_1 \cup S_2$ 覆盖。由于 $\tau(G_1 \cup G_2)$ 是[最小顶点覆盖](@entry_id:265319)的大小，它必然小于或等于 $|S_1 \cup S_2|$。而 $|S_1 \cup S_2| \le |S_1| + |S_2| = \tau(G_1) + \tau(G_2)$，不等式得证。

这个不等关系可以是严格的，也可以是等式。
-   **等号成立**：当 $G_1$ 和 $G_2$ 的顶点集不相交时，等号成立。在这种情况下， $G_1 \cup G_2$ 是 $G_1$ 和 $G_2$ 的不交并，任何覆盖 $G_1 \cup G_2$ 的集合必须独立地覆盖 $G_1$ 和 $G_2$。
-   **严格小于**：当图之间存在重叠时，通常出现严格小于的情况。一个简单的例子是令 $G_1 = G_2 = K_2$ (一条边)。那么 $\tau(G_1) = 1$ 且 $\tau(G_2) = 1$。它们的并集 $G_1 \cup G_2$ 仍然是 $K_2$，所以 $\tau(G_1 \cup G_2) = 1$。在这种情况下，$1  \tau(G_1) + \tau(G_2) = 1+1=2$。重叠的边和顶点使得一个更小的组合覆盖成为可能。

综上所述，[图的并](@entry_id:267788)集是一个强大而基础的运算。它提供了一种组合和扩展网络的方法，但其对图属性的影响是微妙的。深入理解这些原理和机制对于在通信网络、[社会网络分析](@entry_id:271892)和[算法设计](@entry_id:634229)等领域中有效地建模和分析复杂系统至关重要。