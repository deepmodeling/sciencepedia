{"hands_on_practices": [{"introduction": "自回归过程的一个核心特性是其在平稳状态下的长期行为。理解如何计算一个 AR(1) 过程的平稳均值或长期期望值，是分析任何时间序列的第一步，因为它代表了过程波动的中心趋势。这个练习将把这个概念应用到一个涉及用户增长和收入的商业场景中，展示了如何从一个动态模型中预测长期结果。[@problem_id:1283592]", "problem": "一家科技初创公司推出了一款新的移动应用程序。该公司的数据科学家使用一阶自回归过程来模拟第 $t$ 天的日活跃用户数 $U_t$（单位：千人）。该模型由以下方程给出：\n$$U_t = c + \\phi U_{t-1} + \\varepsilon_t$$\n在此模型中，$c = 15.5$ 表示由市场营销活动带来的每日新增用户的恒定流入量（单位：千人）。参数 $\\phi = 0.82$ 是用户留存因子，表示第 $t-1$ 天的用户中在第 $t$ 天仍然活跃的比例。$\\varepsilon_t$ 项是由于不可预测的日常事件引起的随机波动，它被建模为白噪声过程，即一个期望值为零的无相关随机变量序列。\n\n公司的日收入 $R_t$ 来自固定订阅和基于用户的广告的组合。以美元计的日收入由以下关系式给出：\n$$R_t = P + k U_t$$\n其中 $P = \\$5100$ 是来自高级订阅的恒定日收入，$k = \\$19.50$ 是每千名用户产生的平均广告收入。\n\n假设用户基数过程 $U_t$ 最终达到平稳状态，计算公司的长期期望日收入。报告您的答案，以美元为单位，四舍五入到四位有效数字。", "solution": "我们得到日活跃用户（单位：千人）的AR(1)过程：\n$$U_{t} = c + \\phi U_{t-1} + \\varepsilon_{t},$$\n其中 $c=15.5$，$\\phi=0.82$，$\\varepsilon_{t}$ 是白噪声，且 $\\mathbb{E}[\\varepsilon_{t}]=0$。对于一个满足 $|\\phi|1$ 的平稳AR(1)过程，其平稳均值 $\\mu=\\mathbb{E}[U_{t}]$ 满足\n$$\\mu = \\mathbb{E}[U_{t}] = c + \\phi \\mathbb{E}[U_{t-1}] + \\mathbb{E}[\\varepsilon_{t}] = c + \\phi \\mu,$$\n所以\n$$(1-\\phi)\\mu = c \\quad \\Rightarrow \\quad \\mu = \\frac{c}{1-\\phi}。$$\n代入 $c=15.5$ 和 $\\phi=0.82$，\n$$\\mu = \\frac{15.5}{1-0.82} = \\frac{15.5}{0.18} = \\frac{155/10}{18/100} = \\frac{1550}{18} = \\frac{775}{9}。$$\n收入为 $R_{t} = P + k U_{t}$，根据期望的线性性质，\n$$\\mathbb{E}[R_{t}] = P + k\\,\\mathbb{E}[U_{t}] = P + k \\mu。$$\n代入 $P=5100$，$k=19.50$ 和 $\\mu=\\frac{775}{9}$，\n$$\\mathbb{E}[R_{t}] = 5100 + 19.50 \\cdot \\frac{775}{9} = 5100 + \\frac{39}{2}\\cdot \\frac{775}{9} = 5100 + \\frac{30225}{18} = 5100 + 1679 + \\frac{1}{6} = 6779 + \\frac{1}{6}。$$\n因此 $\\mathbb{E}[R_{t}] = 6779.166\\ldots$ 美元，四舍五入到四位有效数字是 $6779$ 美元。", "answer": "$$\\boxed{6779}$$", "id": "1283592"}, {"introduction": "在确定了时间序列的中心趋势之后，下一步自然是量化围绕该均值的变异性或波动性。这个练习将演示如何计算平稳 AR(1) 过程的无条件方差，这是一个衡量过程固有波动的关键指标。我们将通过一个源于睡眠科学的直观例子，来理解一个系统的可预测性程度。[@problem_id:1283584]", "problem": "一位睡眠研究人员正在分析一名大学生的夜间睡眠模式。研究发现，某晚的睡眠小时数 $H_t$ 可以有效地用一个一阶平稳自回归 (AR) 过程来建模。这个模型捕捉了“睡眠惯性”现象，即短于平均时长的睡眠之后通常会跟一个稍长于平均时长的睡眠，反之亦然。\n\n该模型由以下方程给出：\n$$H_t = \\mu + \\phi(H_{t-1} - \\mu) + \\varepsilon_t$$\n其中：\n- $H_t$ 是第 $t$ 晚的睡眠小时数。\n- $\\mu = 8.0$ 小时是该学生的长期平均睡眠时长。\n- $\\phi = 0.3$ 是自回归系数，量化了睡眠惯性的强度。\n- $\\varepsilon_t$ 是一个白噪声误差项，代表睡眠中的随机日常波动。该项的均值为零，常数方差为 $\\sigma^2_\\varepsilon = 0.25$ 小时$^2$。\n\n假设此过程是平稳的，计算该学生夜间睡眠小时数的理论无条件方差 $\\text{Var}(H_t)$。答案以平方小时为单位，保留三位有效数字。", "solution": "给定一个关于夜间睡眠小时数的平稳 AR(1) 过程：\n$$H_{t}=\\mu+\\phi\\left(H_{t-1}-\\mu\\right)+\\varepsilon_{t},$$\n其中 $\\mu=8.0$, $\\phi=0.3$, 且 $\\operatorname{Var}(\\varepsilon_{t})=\\sigma_{\\varepsilon}^{2}=0.25$。\n\n定义中心化过程 $X_{t}=H_{t}-\\mu$。代入模型可得\n$$X_{t}=\\phi X_{t-1}+\\varepsilon_{t}.$$\n由于该过程是平稳的且 $|\\phi|1$ (在此例中 $|0.3|1$)，无条件方差存在。$H_t$ 的方差等于 $X_t$ 的方差，因为减去一个常数不改变方差：\n$$\\operatorname{Var}(H_{t})=\\operatorname{Var}(X_{t}).$$\n\n使用 AR(1) 方程和白噪声的性质计算 $\\operatorname{Var}(X_{t})$。对方程两边应用方差算子：\n$$\\operatorname{Var}(X_{t})=\\operatorname{Var}\\left(\\phi X_{t-1}+\\varepsilon_{t}\\right).$$\n使用 $\\operatorname{Var}(aY)=a^{2}\\operatorname{Var}(Y)$ 和 $\\operatorname{Var}(Y+Z)=\\operatorname{Var}(Y)+\\operatorname{Var}(Z)+2\\operatorname{Cov}(Y,Z)$, 我们得到\n$$\\operatorname{Var}(X_{t})=\\phi^{2}\\operatorname{Var}(X_{t-1})+\\sigma_{\\varepsilon}^{2}+2\\phi\\,\\operatorname{Cov}(X_{t-1},\\varepsilon_{t}).$$\n对于白噪声新息，$\\varepsilon_{t}$ 与过去的值不相关，因此 $\\operatorname{Cov}(X_{t-1},\\varepsilon_{t})=0$。在平稳性条件下，$\\operatorname{Var}(X_{t})=\\operatorname{Var}(X_{t-1})\\equiv\\gamma_{0}$。因此，\n$$\\gamma_{0}=\\phi^{2}\\gamma_{0}+\\sigma_{\\varepsilon}^{2} \\quad\\Rightarrow\\quad (1-\\phi^{2})\\gamma_{0}=\\sigma_{\\varepsilon}^{2} \\quad\\Rightarrow\\quad \\gamma_{0}=\\frac{\\sigma_{\\varepsilon}^{2}}{1-\\phi^{2}}.$$\n所以，\n$$\\operatorname{Var}(H_{t})=\\frac{\\sigma_{\\varepsilon}^{2}}{1-\\phi^{2}}.$$\n\n代入给定值 $\\sigma_{\\varepsilon}^{2}=0.25$ 和 $\\phi=0.3$：\n$$\\operatorname{Var}(H_{t})=\\frac{0.25}{1-0.3^{2}}=\\frac{0.25}{1-0.09}=\\frac{0.25}{0.91}=\\frac{25}{91}\\approx 0.274725\\ldots$$\n保留三位有效数字，结果为 $0.275$ 平方小时。", "answer": "$$\\boxed{0.275}$$", "id": "1283584"}, {"introduction": "自回归过程的一个关键特征是其“记忆性”，即过去的值会影响未来的值。这种时间依赖性是通过自相关函数 (ACF) 来量化的，它衡量了过程在不同时间点的值之间的相关性。通过这个练习，我们将计算一个过程当前值与其过去值之间的相关性，这是时间序列预测和模型识别中的一个基本概念。[@problem_id:1283539]", "problem": "一个用于描述高频交易算法每日表现波动的简化模型，是量化金融中的一个重要工具。设 $X_t$ 表示该算法在第 $t$ 天的利润与其长期日均值之间的偏差。该偏差的演变由一个平稳的一阶自回归(AR)过程描述，也称为AR(1)模型，其方程为：\n$$X_t = \\phi X_{t-1} + \\varepsilon_t$$\n该模型的参数定义如下：\n- 自回归系数，衡量利润偏差从一天到第二天的持续性，其值为 $\\phi = 0.80$。\n- 项 $\\varepsilon_t$ 代表一个白噪声过程，对应于第 $t$ 天不可预测的市场冲击。该过程的均值为零 ($E[\\varepsilon_t] = 0$)，常数方差为 $Var(\\varepsilon_t) = \\sigma^2_\\varepsilon$。\n- 噪声项随时间不相关。此外，在时间 $t$ 的噪声 $\\varepsilon_t$ 与过程 $X_s$ 在所有 $s  t$ 时的所有过去值都不相关。\n- 过程 $X_t$ 被假定为平稳的，这意味着其统计特性（如均值和方差）不随时间改变。\n\n基于此模型，计算该算法在某一天与其三天前的利润偏差之间的理论相关系数。将您的答案表示为保留三位有效数字的小数。", "solution": "我们有一个平稳的AR(1)过程 $X_{t}=\\phi X_{t-1}+\\varepsilon_{t}$，其中 $E[\\varepsilon_{t}]=0$，$Var(\\varepsilon_{t})=\\sigma_{\\varepsilon}^{2}$，并且对于所有 $s  t$，$\\varepsilon_t$ 与过去的 $X_s$ 值不相关。我们通过迭代地展开 $X_{t}$ 来推导自相关函数(ACF) $\\rho(k) = \\operatorname{Corr}(X_{t},X_{t-k})$：\n$$X_t = \\phi X_{t-1} + \\varepsilon_t = \\phi(\\phi X_{t-2} + \\varepsilon_{t-1}) + \\varepsilon_t = \\phi^2 X_{t-2} + \\phi \\varepsilon_{t-1} + \\varepsilon_t$$\n继续这个过程 $k$ 次，我们得到\n$$X_t = \\phi^k X_{t-k} + \\sum_{j=0}^{k-1} \\phi^j \\varepsilon_{t-j}.$$\n现在，我们可以计算 $X_t$ 和 $X_{t-k}$ 之间的协方差：\n$$\\operatorname{Cov}(X_{t}, X_{t-k}) = \\operatorname{Cov}\\left(\\phi^k X_{t-k} + \\sum_{j=0}^{k-1} \\phi^j \\varepsilon_{t-j}, X_{t-k}\\right)$$\n利用协方差的线性性质，\n$$\\operatorname{Cov}(X_{t}, X_{t-k}) = \\operatorname{Cov}(\\phi^k X_{t-k}, X_{t-k}) + \\operatorname{Cov}\\left(\\sum_{j=0}^{k-1} \\phi^j \\varepsilon_{t-j}, X_{t-k}\\right)$$\n$$= \\phi^k \\operatorname{Cov}(X_{t-k}, X_{t-k}) + \\sum_{j=0}^{k-1} \\phi^j \\operatorname{Cov}(\\varepsilon_{t-j}, X_{t-k})$$\n由于过程是平稳的，$\\operatorname{Var}(X_{t-k}) = \\operatorname{Cov}(X_{t-k}, X_{t-k}) = \\gamma_0$。对于 $j  k$，时间 $t-j$ 的冲击 $\\varepsilon_{t-j}$ 与时间 $t-k$ 的过程值 $X_{t-k}$ 不相关，因此 $\\operatorname{Cov}(\\varepsilon_{t-j}, X_{t-k}) = 0$。所以，\n$$\\operatorname{Cov}(X_{t}, X_{t-k}) = \\phi^k \\gamma_0.$$\n自相关函数定义为\n$$\\rho(k) = \\frac{\\operatorname{Cov}(X_{t}, X_{t-k})}{\\operatorname{Var}(X_{t})} = \\frac{\\phi^k \\gamma_0}{\\gamma_0} = \\phi^k.$$\n我们需要计算 $X_t$ 和其三天前的值 $X_{t-3}$ 之间的相关系数，即 $\\rho(3)$。\n$$\\rho(3) = \\phi^3.$$\n代入给定的值 $\\phi=0.80$：\n$$\\rho(3) = (0.80)^3 = 0.8 \\times 0.8 \\times 0.8 = 0.64 \\times 0.8 = 0.512.$$\n因此，理论相关系数为0.512。", "answer": "$$\\boxed{0.512}$$", "id": "1283539"}]}