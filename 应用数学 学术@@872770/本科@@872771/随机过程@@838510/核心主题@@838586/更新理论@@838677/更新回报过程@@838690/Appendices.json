{"hands_on_practices": [{"introduction": "我们将通过一系列精心设计的练习，将理论付诸实践。这些练习将帮助你巩固对更新回报过程的理解，并通过将其应用于从制造业到系统可靠性和通信等不同场景，来展示其强大的应用能力。这些练习的核心目标是学会识别“周期”和“回报”，并利用更新回报定理来计算长期平均值。\n\n让我们从一个制造业的经典案例开始。这个练习模拟了一个生产线，其操作周期由产品缺陷来定义[@problem_id:1331065]。通过这个练习，你将掌握在离散时间背景下应用更新回报定理的基本方法，重点是识别周期的长度和每个周期相关的回报（利润）。", "problem": "一家工厂生产一种特殊电子元件的生产线是全自动化的。质量控制系统确定，任何一个元件有缺陷的概率是一个恒定且独立的常数 $p$。生产线以周期方式运行。一个新周期从制造一个元件开始，生产顺序进行，直到制造出一个有缺陷的元件为止。检测到有缺陷的元件会立即结束当前周期，并开始一个新周期。\n\n对于每个生产的无缺陷元件，公司获得收入 $c_r$。任何元件（无论是否有缺陷）的生产都会产生制造成本 $c_p$。此外，每个结束周期的有缺陷元件会产生额外的成本 $c_d$，用于其处理和为下一个周期重置生产设备。\n\n推导每个生产的元件的长期平均利润的封闭形式表达式。你的答案应以参数 $p$、$c_r$、$c_p$ 和 $c_d$ 表示。", "solution": "设 $p$ 为任何给定元件有缺陷的概率，且各元件之间相互独立。考虑以周期为单位的过程，其中每个周期由一系列无缺陷的元件和随后一个结束该周期的有缺陷元件组成。\n\n定义 $X$ 为一个周期中在有缺陷元件之前生产的无缺陷元件的数量。那么 $X$ 服从参数为 $p$ 的几何分布，其取值范围为 $\\{0,1,2,\\ldots\\}$：\n$$\n\\mathbb{P}(X=k)=(1-p)^{k}p.\n$$\n因此，\n$$\n\\mathbb{E}[X]=\\frac{1-p}{p}.\n$$\n一个周期中生产的元件总数为 $N=X+1$，所以\n$$\n\\mathbb{E}[N]=\\mathbb{E}[X]+1=\\frac{1}{p}.\n$$\n\n单个周期内的利润核算：\n- 每个无缺陷的元件产生收入 $c_{r}$ 并产生生产成本 $c_{p}$，每个此类元件贡献 $c_{r}-c_{p}$。\n- 最后一个有缺陷的元件不产生收入，但会产生生产成本 $c_{p}$，并额外产生处理/重置成本 $c_{d}$。\n\n因此，每个周期的利润，记为 $R$，为\n$$\nR = X(c_{r}-c_{p}) - c_{p} - c_{d}.\n$$\n取期望值，\n$$\n\\mathbb{E}[R]=\\mathbb{E}[X](c_{r}-c_{p}) - c_{p} - c_{d} = \\frac{1-p}{p}(c_{r}-c_{p}) - c_{p} - c_{d}.\n$$\n\n根据更新回报定理，每个生产元件的长期平均利润等于每个周期的期望利润除以每个周期的期望元件数：\n$$\n\\frac{\\mathbb{E}[R]}{\\mathbb{E}[N]} = \\frac{\\frac{1-p}{p}(c_{r}-c_{p}) - c_{p} - c_{d}}{\\frac{1}{p}} = (1-p)(c_{r}-c_{p}) - p c_{p} - p c_{d}.\n$$\n化简得，\n$$\n(1-p)c_{r} - (1-p)c_{p} - p c_{p} - p c_{d} = (1-p)c_{r} - c_{p} - p c_{d}.\n$$\n\n因此，每个生产元件的长期平均利润的封闭形式表达式为\n$$\n(1-p)c_{r} - c_{p} - p c_{d}.\n$$", "answer": "$$\\boxed{(1-p)c_{r}-c_{p}-p c_{d}}$$", "id": "1331065"}, {"introduction": "接下来，我们将场景切换到连续时间，并探讨一个在工程和管理中非常常见的权衡问题。这个问题模拟了计划性维护与故障后维修之间的决策，展示了如何处理因不同事件而结束的周期[@problem_id:1331054]。这个练习将帮助你理解如何运用更新回报定理来计算长期平均成本，为制定最优维护策略提供依据。", "problem": "一家公司运行着一台关键的机械设备。为了最大限度地减少意外故障，在固定的 $T$ 个运行小时后会安排一次预防性维护。然而，机器仍可能在这次计划维护之前发生故障。随机故障发生前的时间，用随机变量 $X$ 表示，服从速率参数为 $\\lambda$ 的指数分布。\n\n每当机器因故障或计划维护而接受服务时，它都会被恢复到“完好如新”的状态，并开始一个新的运行周期。预防性维护的成本为 $C_p$。如果机器在计划维护前发生故障，则需要进行更广泛且成本更高的维修，成本为 $C_b$。\n\n给定以下参数：\n- 计划维护时间，$T = 500$ 小时\n- 故障率，$\\lambda = \\frac{1}{800}$ 每小时\n- 预防性维护成本，$C_p = \\$150$\n- 故障维修成本，$C_b = \\$1000$\n\n计算运行这台机器的长期平均每小时成本。答案以美元/小时表示，并四舍五入到四位有效数字。", "solution": "我们将每个运行周期建模为持续时间为 $Y=\\min(X, T)$ 的过程，其中 $X \\sim \\text{Exponential}(\\lambda)$ 是到故障的时间。一个周期的成本取决于它是因维护 ($X \\ge T$，成本 $C_p$) 还是故障 ($X  T$，成本 $C_b$) 而结束。\n\n一个周期的期望长度为：\n$$\n\\mathbb{E}[Y] = \\mathbb{E}[\\min(X,T)] = \\int_0^T e^{-\\lambda t} dt = \\frac{1-e^{-\\lambda T}}{\\lambda}\n$$\n一个周期的期望成本为：\n$$\n\\mathbb{E}[C] = C_p \\mathbb{P}(X \\ge T) + C_b \\mathbb{P}(X  T) = C_p e^{-\\lambda T} + C_b (1 - e^{-\\lambda T})\n$$\n根据更新回报定理，长期平均每小时成本为 $\\frac{\\mathbb{E}[C]}{\\mathbb{E}[Y]}$。\n代入数值：$\\lambda = 1/800$，$T = 500$，$C_p = 150$，$C_b = 1000$。\n$\\lambda T = 500/800 = 5/8$。\n$$\n\\mathbb{E}[Y] = 800(1 - e^{-5/8}) \\approx 800(1 - 0.53526) \\approx 371.79 \\text{ 小时}\n$$\n$$\n\\mathbb{E}[C] = 150 e^{-5/8} + 1000(1 - e^{-5/8}) \\approx 150(0.53526) + 1000(0.46474) \\approx 545.03 \\text{ 美元}\n$$\n长期平均成本 $\\approx \\frac{545.03}{371.79} \\approx 1.46596$ 美元/小时。四舍五入到四位有效数字，结果为 1.466。", "answer": "$$\\boxed{1.466}$$", "id": "1331054"}, {"introduction": "最后，我们来处理一个更复杂的系统，其运行周期包含多个不同的阶段。这个通信信道问题引入了一个交替更新过程，其中一个完整周期由一个“良好”时段和一个“糟糕”时段组成[@problem_id:1331025]。这个练习旨在展示更新回报框架的灵活性，以及它如何应用于分析具有更复杂、多阶段周期的系统。", "problem": "用于远程环境传感器的无线通信信道在两种状态之间交替工作：“良好”状态和“不良”状态。一个完整的工作周期包括一个良好时段和一个不良时段，此后过程会概率性地重置。\n\n“良好”时段的持续时间是一个指数分布的随机变量，其速率参数为 $\\lambda_G$。随后的“不良”时段的持续时间是一个在区间 $[a, b]$ 上均匀分布的随机变量。\n\n在这两个时段内，传感器以每秒 $r_p$ 个数据包的恒定速率生成数据包。传输协议的行为如下：\n- 在“良好”时段内，生成的每个数据包都能成功传输。\n- 在“不良”时段内，信道质量下降。每个数据包，与其他所有数据包独立，有 $p_s$ 的概率成功传输。\n\n确定成功传输数据包的长期平均速率。请用 $\\lambda_G$、$a$、$b$、$r_p$ 和 $p_s$ 表示您的最终答案的解析表达式。此速率所需的单位是“包/秒”。", "solution": "设 $G$ 表示一个完整周期中良好时段的持续时间，$B$ 表示随后的不良时段的持续时间。根据假设，$G$ 是速率为 $\\lambda_{G}$ 的指数分布，因此 $\\mathbb{E}[G]=\\frac{1}{\\lambda_{G}}$，$B$ 在 $[a,b]$ 上均匀分布，因此 $\\mathbb{E}[B]=\\frac{a+b}{2}$。一个周期的持续时间为 $T=G+B$，其期望值为 $\\mathbb{E}[T]=\\mathbb{E}[G]+\\mathbb{E}[B]=\\frac{1}{\\lambda_{G}}+\\frac{a+b}{2}$。\n\n数据包在整个过程中以恒定速率 $r_{p}$ 生成。在良好时段，每个数据包都成功传输；在不良时段，每个数据包以概率 $p_{s}$ 独立地成功传输。因此，一个周期内成功传输的数据包的期望数量为\n$$\n\\mathbb{E}[\\text{successes per cycle}]=r_{p}\\,\\mathbb{E}[G]+p_{s}\\,r_{p}\\,\\mathbb{E}[B]=r_{p}\\left(\\frac{1}{\\lambda_{G}}+p_{s}\\,\\frac{a+b}{2}\\right).\n$$\n根据更新回报定理，长期平均成功率（每秒成功传输的数据包数）等于每个周期的期望成功数除以期望周期长度：\n$$\n\\bar{R}=\\frac{\\mathbb{E}[\\text{successes per cycle}]}{\\mathbb{E}[T]}=r_{p}\\,\\frac{\\frac{1}{\\lambda_{G}}+p_{s}\\,\\frac{a+b}{2}}{\\frac{1}{\\lambda_{G}}+\\frac{a+b}{2}}.\n$$\n等价地，分子和分母同乘以 $\\lambda_{G}$，\n$$\n\\bar{R}=r_{p}\\,\\frac{1+\\frac{1}{2}p_{s}\\lambda_{G}(a+b)}{1+\\frac{1}{2}\\lambda_{G}(a+b)}.\n$$\n其单位为“包/秒”，符合要求。", "answer": "$$\\boxed{r_{p}\\,\\frac{\\frac{1}{\\lambda_{G}}+p_{s}\\,\\frac{a+b}{2}}{\\frac{1}{\\lambda_{G}}+\\frac{a+b}{2}}}$$", "id": "1331025"}]}