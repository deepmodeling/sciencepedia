{"hands_on_practices": [{"introduction": "再生过程的一个核心思想是通过分析单个、可重复的周期来理解系统的长期行为。这个练习提供了一个完美的入门示例：一个交通信号灯。通过将信号灯的固定循环（绿-黄-红）视为一个再生周期，我们可以计算在长期运行中，车辆在不同信号灯状态下到达的比例。这个问题将帮助你掌握利用更新回报定理来计算长期平均值的基本方法。[@problem_id:1330171]", "problem": "一个单车道交叉口的交通信号灯按绿、黄、红的固定顺序循环。这些相位的持续时间是确定的，绿灯为 $T_G$，黄灯为 $T_Y$，红灯为 $T_R$。到达交叉口停车线的车辆被建模为一个非齐次泊松过程。到达率在特定时段内是恒定的，但随信号灯的变化而变化。具体来说，绿灯相位期间的到达率为 $\\lambda_G$，而在黄灯和红灯相位期间则为另一个不同的速率 $\\lambda_{YR}$。假设系统已经运行了很长时间，达到了稳态。\n\n请确定在交通信号灯为红灯时到达停车线的车辆的长期比例。请用给定的参数 $T_G$、$T_Y$、$T_R$、$\\lambda_G$ 和 $\\lambda_{YR}$ 将您的答案表示为一个闭式解析表达式。", "solution": "交通信号灯有一个确定的、重复的周期，总周期为 $T=T_{G}+T_{Y}+T_{R}$。车辆到达构成一个非齐次泊松过程，其分段恒定的速率与信号相位相关：绿灯期间为 $\\lambda_{G}$，黄灯和红灯期间为 $\\lambda_{YR}$。\n\n对于一个速率函数为 $\\lambda(t)$ 的非齐次泊松过程，任意区间内的期望到达数等于该区间上速率的积分。在一个周期内，红灯相位期间的期望到达数为\n$$\n\\mathbb{E}[N_{\\text{red per cycle}}]=\\lambda_{YR}\\,T_{R}.\n$$\n整个周期内的总期望到达数为\n$$\n\\mathbb{E}[N_{\\text{total per cycle}}]=\\lambda_{G}\\,T_{G}+\\lambda_{YR}\\,(T_{Y}+T_{R}).\n$$\n根据更新回报定理 (renewal-reward theorem)（或等价地，对于处于稳态的周期性非齐次泊松过程，通过计算每个周期的期望计数的比率），红灯期间发生的到达车辆的长期比例等于每个周期内红灯期间的期望到达数与每个周期内的总期望到达数之比。因此，\n$$\np_{\\text{red}}=\\frac{\\mathbb{E}[N_{\\text{red per cycle}}]}{\\mathbb{E}[N_{\\text{total per cycle}}]}=\\frac{\\lambda_{YR}\\,T_{R}}{\\lambda_{G}\\,T_{G}+\\lambda_{YR}\\,(T_{Y}+T_{R})}.\n$$\n这是一个用 $T_{G}$、$T_{Y}$、$T_{R}$、$\\lambda_{G}$ 和 $\\lambda_{YR}$ 表示的闭式表达式。", "answer": "$$\\boxed{\\frac{\\lambda_{YR}\\,T_{R}}{\\lambda_{G}\\,T_{G}+\\lambda_{YR}\\,(T_{Y}+T_{R})}}$$", "id": "1330171"}, {"introduction": "再生过程不仅适用于具有离散事件或确定性周期的系统，也能够强有力地分析连续随机过程。本练习将背景设定在金融保险领域，其中公司的盈余由一个带漂移的布朗运动来建模。通过考察一个在支付股息后重置的再生周期，我们将计算在该周期内盈余触及预警水平的风险概率。这个问题展示了如何将再生思想与扩散过程的边界穿越问题相结合。[@problem_id:1330155]", "problem": "一家保险公司使用一种称为带扩散的 Cramér-Lundberg 模型的扩散近似来为其盈余建模。公司在时间 $t$ 的盈余，记为 $S(t)$，遵循随机过程 $S(t) = S(0) + \\mu t + \\sigma B(t)$，其中 $B(t)$ 是标准布朗运动。常数 $\\mu > 0$ 代表平均净保费率（收取的保费减去预期的理赔支付），而 $\\sigma > 0$ 是盈余的波动率参数。\n\n该公司采用一种基于再生过程的股息策略。一个周期始于盈余水平为 $u$。该过程持续演变，直到盈余首次达到一个上边界 $U$，其中 $U > u$。在这一刻，公司派发股息，盈余瞬间重置到水平 $u$，这标志着当前周期的结束和下一个全新的、相同周期的开始。\n\n监管机构的一个主要担忧是公司盈余降至过低水平的风险。一个“困境水平”被定义在盈余值为 $z$ 处，其中 $0  z  u$。我们关心的是在一个标准运营周期内进入此困境状态的风险。\n\n假设参数 $U, u, z, \\mu,$ 和 $\\sigma$ 均为正常数，确定在一个从盈余水平 $u$ 开始，到盈余首次达到 $U$ 结束的单一周期内，盈余 $S(t)$ 在某个时刻降至或低于困境水平 $z$ 的概率。请用给定的参数以闭合形式的解析表达式给出你的答案。", "solution": "设 $\\tau_{z}=\\inf\\{t\\geq 0:S(t)=z\\}$ 且 $\\tau_{U}=\\inf\\{t\\geq 0:S(t)=U\\}$。一个单一周期从 $S(0)=u$ 开始，并在时间 $\\tau_{U}$ 结束。因为 $S(t)$ 具有连续路径，事件“在达到 $U$ 之前降至或低于 $z$”恰好是 $\\{\\tau_{z}  \\tau_{U}\\}$。我们寻求 $p(u)=\\mathbb{P}_{u}(\\tau_{z}  \\tau_{U})$。\n\n对于扩散过程 $dS(t)=\\mu\\,dt+\\sigma\\,dB(t)$，其生成元为 $\\mathcal{L}f(x)=\\mu f'(x)+\\frac{1}{2}\\sigma^{2}f''(x)$。函数 $p(x)=\\mathbb{P}_{x}(\\tau_{z}  \\tau_{U})$ 求解以下边值问题\n$$\n\\mu p'(x)+\\frac{1}{2}\\sigma^{2}p''(x)=0\\quad\\text{for }x\\in(z,U),\\qquad p(z)=1,\\quad p(U)=0.\n$$\n通过设置 $\\kappa=\\frac{2\\mu}{\\sigma^{2}}$ 来求解该常微分方程。于是有\n$$\np''(x)+\\kappa\\,p'(x)=0.\n$$\n令 $q(x)=p'(x)$。则 $q'(x)+\\kappa q(x)=0$，所以对于某个常数 $C$，有 $q(x)=C\\exp(-\\kappa x)$。积分得，\n$$\np(x)=-\\frac{C}{\\kappa}\\exp(-\\kappa x)+D,\n$$\n其中常数 $C,D$ 由边界条件确定。由 $p(U)=0$ 可得，\n$$\n-\\frac{C}{\\kappa}\\exp(-\\kappa U)+D=0\\quad\\Rightarrow\\quad D=\\frac{C}{\\kappa}\\exp(-\\kappa U).\n$$\n由 $p(z)=1$ 可得，\n$$\n-\\frac{C}{\\kappa}\\exp(-\\kappa z)+\\frac{C}{\\kappa}\\exp(-\\kappa U)=1\n\\;\\Rightarrow\\;\n\\frac{C}{\\kappa}=\\frac{1}{\\exp(-\\kappa U)-\\exp(-\\kappa z)}.\n$$\n因此，\n$$\np(x)=\\frac{\\exp(-\\kappa x)-\\exp(-\\kappa U)}{\\exp(-\\kappa z)-\\exp(-\\kappa U)}.\n$$\n在初始水平 $x=u$ 处求值，得到所求概率：\n$$\n\\mathbb{P}_{u}(\\tau_{z}  \\tau_{U})\n=\\frac{\\exp\\!\\left(-\\frac{2\\mu}{\\sigma^{2}}\\,u\\right)-\\exp\\!\\left(-\\frac{2\\mu}{\\sigma^{2}}\\,U\\right)}{\\exp\\!\\left(-\\frac{2\\mu}{\\sigma^{2}}\\,z\\right)-\\exp\\!\\left(-\\frac{2\\mu}{\\sigma^{2}}\\,U\\right)}\n=\\frac{\\exp\\!\\left(-\\frac{2\\mu}{\\sigma^{2}}(u-z)\\right)-\\exp\\!\\left(-\\frac{2\\mu}{\\sigma^{2}}(U-z)\\right)}{1-\\exp\\!\\left(-\\frac{2\\mu}{\\sigma^{2}}(U-z)\\right)}.\n$$\n这就是在一个从 $u$ 开始的单一周期内，盈余在达到 $U$ 之前触及困境水平 $z$ 的概率。", "answer": "$$\\boxed{\\frac{\\exp\\!\\left(-\\frac{2\\mu}{\\sigma^{2}}(u-z)\\right)-\\exp\\!\\left(-\\frac{2\\mu}{\\sigma^{2}}(U-z)\\right)}{1-\\exp\\!\\left(-\\frac{2\\mu}{\\sigma^{2}}(U-z)\\right)}}$$", "id": "1330155"}, {"introduction": "在许多现实世界的系统中，周期内的动态本身就是随机的，这使得分析变得复杂。这个问题探讨了一个数据缓冲区，其输入速率随机切换，而缓冲区在达到容量时会部分清空，从而开始一个新的再生周期。我们将学习如何在一个周期足够长的假设下，通过使用输入速率的长期平均值来近似并简化问题，从而得出一个关于平均缓冲水平的简洁而有力的结论。这个练习强调了在随机建模中，近似方法在获得关键洞察力方面的重要作用。[@problem_id:1330174]", "problem": "考虑一个用于通信网络的数据缓冲区。该缓冲区的最大容量为 $C$。数据以速率 $R(t)$ 流入此缓冲区，该速率在一个低速率 $r_1$ 和一个高速率 $r_2$ 之间随机切换，其中 $0  r_1  r_2$。该切换机制被建模为一个连续时间马尔可夫链，其中从状态1（对应于速率 $r_1$）到状态2（速率 $r_2$）的转移速率为 $\\lambda_1$，从状态2回到状态1的转移速率为 $\\lambda_2$。$\\lambda_1$ 和 $\\lambda_2$ 均为正常数。\n\n每当缓冲区中的总数据量达到容量 $C$ 时，一个控制机制就会被触发。该机制会瞬时地、部分地清空缓冲区，将数据量减少到一个固定值 $C_0$，其中 $0  C_0  C$。此事件定义了一个操作周期的结束和下一个周期的开始。输入速率过程的状态不受此清空事件的影响。\n\n假设容量范围 $\\Delta C = C - C_0$ 足够大，以至于任何给定操作周期的持续时间都足够长，使得输入过程在该周期内能表现出其长期平均行为。\n\n确定缓冲区的长期、时间平均的数据量。将您的答案表示为关于 $C$ 和 $C_0$ 的封闭形式解析表达式。", "solution": "设 $X(t)$ 表示缓冲区的数据量，$R(t)$ 表示随机流入速率。速率 $R(t)$ 是一个双状态连续时间马尔可夫链，其状态为 $\\{r_{1},r_{2}\\}$，从 $r_{1}$ 到 $r_{2}$ 的转移速率为 $\\lambda_{1}$，从 $r_{2}$ 到 $r_{1}$ 的转移速率为 $\\lambda_{2}$。该链的平稳概率，通过求解 $\\pi Q=\\mathbf{0}$ 和 $\\pi\\mathbf{1}=1$ 得到，其生成元为\n$$\nQ=\\begin{pmatrix}\n-\\lambda_{1}  \\lambda_{1} \\\\\n\\lambda_{2}  -\\lambda_{2}\n\\end{pmatrix},\n$$\n为\n$$\n\\pi_{1}=\\frac{\\lambda_{2}}{\\lambda_{1}+\\lambda_{2}}, \\qquad \\pi_{2}=\\frac{\\lambda_{1}}{\\lambda_{1}+\\lambda_{2}}.\n$$\n因此，长期平均流入速率为\n$$\n\\bar{r}=\\pi_{1}r_{1}+\\pi_{2}r_{2}=\\frac{\\lambda_{2}r_{1}+\\lambda_{1}r_{2}}{\\lambda_{1}+\\lambda_{2}}.\n$$\n\n定义一个周期为两次清空之间的时间：它从数据量为 $C_{0}$ 开始，到数据量达到 $C$ 时结束，此时数据量被瞬时重置为 $C_{0}$，而不影响 $R(t)$。在一个周期内，数据量根据 $\\dot{X}(t)=R(t)$ 演变，初始条件为 $X(0)=C_{0}$，并在 $X(T)=C$ 时停止，因此 $\\int_{0}^{T}R(t)\\,\\mathrm{d}t=\\Delta C$，其中 $\\Delta C=C-C_{0}$。\n\n根据连续时间马尔可夫链的遍历定理（可加泛函的大数定律），并利用 $\\Delta C$ 足够大以致周期足够长的假设，一个周期内 $R(t)$ 的时间平均值收敛到 $\\bar{r}$。因此，周期持续时间满足\n$T=\\frac{\\Delta C}{\\bar{r}}$ （在长期、大-$\\Delta C$ 的情况下）。\n\n我们要求解的是缓冲区的长期、时间平均数据量。根据更新回报定理，这等于一个周期内 $X(t)$ 下的期望面积除以期望周期长度：\n$$\n\\lim_{t\\to\\infty}\\frac{1}{t}\\int_{0}^{t}X(s)\\,\\mathrm{d}s=\\frac{\\mathbb{E}\\left[\\int_{0}^{T}X(t)\\,\\mathrm{d}t\\right]}{\\mathbb{E}[T]}.\n$$\n在大-$\\Delta C$ 的假设下，一个周期内 $X(t)$ 的行为如同一个从 $C_{0}$ 开始、斜率为 $\\bar{r}$ 的确定性斜坡，因此\n$$\n\\int_{0}^{T}X(t)\\,\\mathrm{d}t=\\int_{0}^{T}\\left(C_{0}+\\bar{r}t\\right)\\mathrm{d}t=C_{0}T+\\frac{1}{2}\\bar{r}T^{2}.\n$$\n除以 $T$ 得到一个周期内的时间平均值，\n$$\n\\frac{1}{T}\\int_{0}^{T}X(t)\\,\\mathrm{d}t=C_{0}+\\frac{1}{2}\\bar{r}T.\n$$\n代入 $T=\\Delta C/\\bar{r}$ 得\n$$\nC_{0}+\\frac{1}{2}\\bar{r}\\cdot\\frac{\\Delta C}{\\bar{r}}=C_{0}+\\frac{1}{2}\\Delta C=\\frac{C_{0}+C}{2}.\n$$\n\n因此，在所述的大-$\\Delta C$ 假设下，缓冲区的长期、时间平均数据量等于 $C_{0}$ 和 $C$ 之间的中点，与 $r_{1}$、$r_{2}$、$\\lambda_{1}$ 和 $\\lambda_{2}$ 无关。", "answer": "$$\\boxed{\\frac{C+C_{0}}{2}}$$", "id": "1330174"}]}