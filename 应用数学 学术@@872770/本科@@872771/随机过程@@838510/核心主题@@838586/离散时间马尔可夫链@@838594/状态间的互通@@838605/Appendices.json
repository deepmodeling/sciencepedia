{"hands_on_practices": [{"introduction": "马尔可夫链中状态间的“通信”是一个核心概念，它描述了从一个状态到达另一个状态并返回的可能性。这个练习 [@problem_id:1290007] 使用一个简单的双层电梯模型，将抽象的概率路径转化为具体的物理移动。通过分析电梯的运行，你将亲手验证两个状态是否“互通”，从而为理解更复杂的系统奠定坚实的基础。", "problem": "考虑一个两层建筑中电梯运行的简化模型。在离散的时间步上观察电梯的状态。系统可以处于以下四种状态之一：\n- $S_1$：在 1 楼空闲。\n- $S_2$：从 1 楼移动到 2 楼。\n- $S_3$：在 2 楼空闲。\n- $S_4$：从 2 楼移动到 1 楼。\n\n状态之间的转移是概率性的，并遵循以下规则：\n1.  如果电梯处于状态 $S_1$（在 1 楼空闲），则在下一个时间步，有概率 $p_u$ 因乘客请求而进入状态 $S_2$（向上移动）。否则，它保持在状态 $S_1$。\n2.  如果电梯处于状态 $S_3$（在 2 楼空闲），则在下一个时间步，有概率 $p_d$ 因乘客请求而进入状态 $S_4$（向下移动）。否则，它保持在状态 $S_3$。\n3.  如果电梯处于状态 $S_2$（向上移动），则有很小的概率 $\\epsilon$ 发生轻微机械故障，迫使其立即复位，在下一个时间步返回状态 $S_1$。如果没有发生故障，它将在下一个时间步成功到达状态 $S_3$。\n4.  如果电梯处于状态 $S_4$（向下移动），它将始终完成其行程并到达 1 楼，因此在下一个时间步进入状态 $S_1$。\n\n设概率为 $p_u = 0.85$，$p_d = 0.60$ 和 $\\epsilon = 0.05$。\n\n在随机过程中，如果可以在有限步数内以非零概率从状态 $i$ 到达状态 $j$，则称状态 $j$ 是从状态 $i$ 可达的。如果两个状态中的每一个都可从另一个状态到达，则称它们是互通的。\n\n以下哪个陈述正确描述了状态“向上移动”（$S_2$）和状态“向下移动”（$S_4$）之间的关系？\n\nA. $S_2$ 可从 $S_4$ 到达，但 $S_4$ 不可从 $S_2$ 到达。\n\nB. $S_4$ 可从 $S_2$ 到达，但 $S_2$ 不可从 $S_4$ 到达。\n\nC. $S_2$ 和 $S_4$ 是互通的。\n\nD. 两个状态都不可从另一个状态到达。\n\nE. 可达性关系取决于系统的初始状态。", "solution": "我们将电梯建模为一个离散时间马尔可夫链，其状态为 $S_{1}$（在 1 楼空闲）、$S_{2}$（向上移动）、$S_{3}$（在 2 楼空闲）和 $S_{4}$（向下移动）。非零的单步转移概率为：\n$$\nP(S_{1}\\to S_{2})=p_{u},\\quad P(S_{1}\\to S_{1})=1-p_{u},\n$$\n$$\nP(S_{3}\\to S_{4})=p_{d},\\quad P(S_{3}\\to S_{3})=1-p_{d},\n$$\n$$\nP(S_{2}\\to S_{1})=\\epsilon,\\quad P(S_{2}\\to S_{3})=1-\\epsilon,\n$$\n$$\nP(S_{4}\\to S_{1})=1.\n$$\n可达性意味着存在有限步数，以非零概率从一个状态转移到另一个状态。\n\n要检查 $S_{4}$ 是否可从 $S_{2}$ 到达，考虑两步路径 $S_{2}\\to S_{3}\\to S_{4}$。其概率为\n$$\nP(S_{2}\\to S_{3})\\cdot P(S_{3}\\to S_{4})=(1-\\epsilon)\\,p_{d}.\n$$\n由于 $p_{d}>0$ 且 $1-\\epsilon>0$，该乘积严格为正，因此 $S_{4}$ 可从 $S_{2}$ 到达。\n\n要检查 $S_{2}$ 是否可从 $S_{4}$ 到达，考虑两步路径 $S_{4}\\to S_{1}\\to S_{2}$。其概率为\n$$\nP(S_{4}\\to S_{1})\\cdot P(S_{1}\\to S_{2})=1\\cdot p_{u}=p_{u}.\n$$\n由于 $p_{u}>0$，该概率严格为正，因此 $S_{2}$ 可从 $S_{4}$ 到达。\n\n由于每个状态都可以在有限步数内以非零概率从另一个状态到达，所以 $S_{2}$ 和 $S_{4}$ 是互通的。这对应于选项 C。", "answer": "$$\\boxed{C}$$", "id": "1290007"}, {"introduction": "在掌握了基本定义后，我们可以利用通信关系将状态空间划分为不同的“通信类”。这个练习 [@problem_id:1290025] 引入了一个包含吸收状态的数据协议模型，这是一个一旦进入就无法离开的特殊状态。通过分析这个系统，你将学会如何识别不同的通信类，并理解瞬时状态和常返状态之间的关键区别。", "problem": "一个研究团队正在对一个专门用于解析专有通信协议的自动机的行为进行建模。该自动机在任何离散时间步长的状态由其当前正在处理的数据包类型决定。该系统可以建模为一个具有四个可能状态的离散时间马尔可夫链：`SYNC` (同步)、`DATA` (数据负载)、`CTRL` (控制) 和 `ACK` (确认)。\n\n状态转移遵循以下概率规则：\n- 从 `SYNC` 状态，自动机总是转移到 `DATA` 状态。\n- 从 `DATA` 状态，它以 0.6 的概率转移回 `DATA` 状态，或以 0.4 的概率转移到 `CTRL` 状态。\n- 从 `CTRL` 状态，它以 0.8 的概率转移到 `ACK` 状态，或以 0.2 的概率转移到 `SYNC` 状态。\n- 从 `ACK` 状态，它总是转移回 `ACK` 状态。\n\n基于此模型，以下关于状态之间关系的陈述中，哪一个是正确的？\n\nA. 状态 `SYNC` 和 `ACK` 互通。\n\nB. 状态 `DATA` 是常返状态。\n\nC. 状态集合 {`SYNC`, `DATA`, `CTRL`} 构成一个单一的互通类。\n\nD. 整个马尔可夫链是不可约的。\n\nE. 状态 `ACK` 是暂态。", "solution": "设状态空间为 $S=\\{\\text{SYNC},\\text{DATA},\\text{CTRL},\\text{ACK}\\}$。一步转移概率为：\n$$P(\\text{SYNC}\\to\\text{DATA})=1,$$\n$$P(\\text{DATA}\\to\\text{DATA})=0.6,\\quad P(\\text{DATA}\\to\\text{CTRL})=0.4,$$\n$$P(\\text{CTRL}\\to\\text{ACK})=0.8,\\quad P(\\text{CTRL}\\to\\text{SYNC})=0.2,$$\n$$P(\\text{ACK}\\to\\text{ACK})=1.$$\n\n为检验互通性，回顾一下，状态 $i$ 和 $j$ 互通，如果存在 $m,n\\in\\mathbb{N}$ 使得 $P^{m}_{ij}>0$ 且 $P^{n}_{ji}>0$。\n\n1) 对于陈述 A，$\\text{SYNC}$ 到达 $\\text{ACK}$ 的概率满足\n$$P^{3}_{\\text{SYNC},\\text{ACK}}\\ge P_{\\text{SYNC},\\text{DATA}}P_{\\text{DATA},\\text{CTRL}}P_{\\text{CTRL},\\text{ACK}}=1\\cdot 0.4\\cdot 0.8>0.$$\n然而，从 $\\text{ACK}$ 我们有 $P(\\text{ACK}\\to\\text{ACK})=1$，所以对于每个 $n\\ge 1$，对于任何 $j\\neq \\text{ACK}$ 都有 $P^{n}_{\\text{ACK},j}=0$。因此 $\\text{ACK}$ 无法到达 $\\text{SYNC}$，所以它们不互通。因此 A 是错误的。\n\n2) 对于陈述 B，考虑 $\\text{DATA}$。从 $\\text{DATA}$ 出发，首次到达 $\\text{CTRL}$ 的时间服从成功概率为 $0.4$ 的几何分布，所以最终到达 $\\text{CTRL}$ 的概率是 $1$。从 $\\text{CTRL}$ 出发，链以 $0.8$ 的概率转移到 $\\text{ACK}$，以 $0.2$ 的概率转移到 $\\text{SYNC}\\to\\text{DATA}$ 并重复。永远避开 $\\text{ACK}$ 的概率是 $\\lim_{n\\to\\infty}(0.2)^{n}=0$，所以（从 $\\text{DATA}$ 出发）最终被 $\\text{ACK}$ 吸收的概率是 $1$。因为从 $\\text{ACK}$ 无法到达任何其他状态，所以无限次返回 $\\text{DATA}$ 的概率是 $0$，因此 $\\text{DATA}$ 是暂态的，不是常返的。因此 B 是错误的。\n\n3) 对于陈述 C，检查 $\\{\\text{SYNC},\\text{DATA},\\text{CTRL}\\}$ 内部的成对互通性：\n- $\\text{SYNC}\\to\\text{DATA}$ 有 $P_{\\text{SYNC},\\text{DATA}}=1$，而 $\\text{DATA}\\to\\text{SYNC}$ 有\n$$P^{2}_{\\text{DATA},\\text{SYNC}}\\ge P_{\\text{DATA},\\text{CTRL}}P_{\\text{CTRL},\\text{SYNC}}=0.4\\cdot 0.2>0.$$\n- $\\text{SYNC}\\to\\text{CTRL}$ 有\n$$P^{2}_{\\text{SYNC},\\text{CTRL}}\\ge P_{\\text{SYNC},\\text{DATA}}P_{\\text{DATA},\\text{CTRL}}=1\\cdot 0.4>0,$$\n而 $\\text{CTRL}\\to\\text{SYNC}$ 有 $P_{\\text{CTRL},\\text{SYNC}}=0.2>0$。\n- $\\text{DATA}\\to\\text{CTRL}$ 有 $P_{\\text{DATA},\\text{CTRL}}=0.4>0$，而 $\\text{CTRL}\\to\\text{DATA}$ 有\n$$P^{2}_{\\text{CTRL},\\text{DATA}}\\ge P_{\\text{CTRL},\\text{SYNC}}P_{\\text{SYNC},\\text{DATA}}=0.2\\cdot 1>0.$$\n因此，这三个状态两两互通，形成一个单一的互通类。注意这个类不是闭合的，因为 $P_{\\text{CTRL},\\text{ACK}}=0.8>0$。因此 C 是正确的。\n\n4) 对于陈述 D，如果一个链只有一个互通类，那么它是不可约的。在这里，$\\text{ACK}$ 不与任何其他状态互通（它是一个吸收态），所以至少有两个互通类：$\\{\\text{SYNC},\\text{DATA},\\text{CTRL}\\}$ 和 $\\{\\text{ACK}\\}$。因此 D 是错误的。\n\n5) 对于陈述 E，由于 $P(\\text{ACK}\\to\\text{ACK})=1$，从 $\\text{ACK}$ 开始，链以概率 $1$ 在一步内返回 $\\text{ACK}$，所以 $\\text{ACK}$ 是常返的（实际上是吸收态），而不是暂态的。因此 E 是错误的。\n\n唯一正确的陈述是 C。", "answer": "$$\\boxed{C}$$", "id": "1290025"}, {"introduction": "这个练习 [@problem_id:1290034] 旨在挑战并深化你对通信定义的理解。它构建了一个独特的场景：系统的转移规则在每一步都可能随机改变。你需要判断，在一个更不确定的环境中，通信的可能性是被破坏还是得以保留。解决这个问题将揭示通信概念的本质——只要存在一条概率不为零的路径，无论它多么“罕见”，通信就成立。", "problem": "一个粒子在一个有限状态集 $S = \\{1, 2, \\dots, N\\}$ 上进行随机游走。这个过程是一个马尔可夫链，但其转移具有随机性。在每个离散时间步，转移法则是随机选择的：以概率 $p$ 选择转移概率矩阵为 $P_A$，以概率 $1-p$ 选择它为 $P_B$。每次的选择是相互独立的。给定 $p$ 是一个固定值，满足 $0  p  1$。\n\n考虑状态集 $S$ 中的两个不同状态 $i$ 和 $j$。我们有以下关于这些状态在单个矩阵下的互通性的信息：\n\n1.  对于一个仅由转移矩阵 $P_A$ 控制的标准马尔可夫链，状态 $i$ 和 $j$ **不**互通。这意味着从状态 $i$ 到达状态 $j$ 是不可能的，或者从状态 $j$ 到达状态 $i$ 是不可能的（或两者都不可行）。\n2.  对于一个仅由转移矩阵 $P_B$ 控制的标准马尔可夫链，状态 $i$ 和 $j$ **是**互通的。这意味着在有限步数内，可以从状态 $i$ 到达状态 $j$，也可以从状态 $j$ 到达状态 $i$。\n\n根据这些信息，判断在转移矩阵每一步都是随机选择的实际组合过程中，状态 $i$ 和 $j$ 是否互通。\n\nA. 是的，状态 $i$ 和 $j$ 总是互通的。\n\nB. 不，状态 $i$ 和 $j$ 永远不互通，因为 $P_A$ 的存在总能打破互通路径。\n\nC. 状态 $i$ 和 $j$ 互通当且仅当 $p  0.5$。\n\nD. 状态 $i$ 和 $j$ 互通当且仅当状态数 $N$ 是偶数。\n\nE. 它们是否互通取决于矩阵 $P_A$ 和 $P_B$ 的具体条目，因此没有足够的信息来得出一般性结论。", "solution": "设 $S=\\{1,2,\\dots,N\\}$，两个给定的随机矩阵为 $P_{A}$ 和 $P_{B}$。固定两个不同的状态 $i$ 和 $j$。根据假设，对于单独的 $P_{B}$-链，存在正整数 $m_{1}$ 和 $m_{2}$ 使得\n$$(P_{B}^{m_{1}})_{ij}>0 \\quad \\text{and} \\quad (P_{B}^{m_{2}})_{ji}>0.$$\n在组合过程的每一步，选择的核为 $P_{A}$ 的概率为 $p$，为 $P_{B}$ 的概率为 $1-p$，各步独立，且 $0  p  1$。\n因此，从任何状态 $u$ 到 $v$ 的一步转移概率是\n$$P_{uv} = p (P_A)_{uv} + (1-p) (P_B)_{uv}.$$\n我们来检验从 $i$ 到 $j$ 的可达性。由于 $(P_{B}^{m_{1}})_{ij}>0$，存在一个状态序列（一条路径） $i=s_0, s_1, \\dots, s_{m_1}=j$ 使得在 $P_B$-链中，\n$$(P_B)_{s_0 s_1} \\cdot (P_B)_{s_1 s_2} \\cdots (P_B)_{s_{m_1-1} s_{m_1}} > 0.$$\n这意味着这条路径中的每一步转移概率 $(P_B)_{s_k s_{k+1}}$ 都必须为正。\n在组合过程中，沿着同一路径 $s_0 \\to s_1 \\to \\dots \\to s_{m_1}$ 的 $m_1$ 步转移概率是\n$$P_{s_0 s_1} P_{s_1 s_2} \\cdots P_{s_{m_1-1} s_{m_1}} = \\prod_{k=0}^{m_1-1} \\left( p(P_A)_{s_k s_{k+1}} + (1-p)(P_B)_{s_k s_{k+1}} \\right).$$\n由于 $(P_B)_{s_k s_{k+1}} > 0$ 且 $1-p > 0$，所以 $(1-p)(P_B)_{s_k s_{k+1}} > 0$。\n因为 $(P_A)_{s_k s_{k+1}} \\ge 0$ 且 $p>0$，所以 $p(P_A)_{s_k s_{k+1}} \\ge 0$。\n因此，乘积中的每一项 $p(P_A)_{s_k s_{k+1}} + (1-p)(P_B)_{s_k s_{k+1}}$ 都是严格为正的。\n所以，整个乘积是正的，这意味着 $m_1$ 步转移概率 $(P^{m_1})_{ij}$ 严格为正。因此 $i$ 可以到达 $j$。\n\n通过完全相同的逻辑，由于 $(P_{B}^{m_{2}})_{ji}>0$，我们可以证明在组合过程中，存在一条从 $j$ 到 $i$ 的路径，其概率也为正。因此 $j$ 可以到达 $i$。\n\n由于 $i$ 和 $j$ 相互可达，所以它们互通。这个结论不依赖于 $p$ 的具体值（只要它不是 0 或 1）、$N$ 或 $P_A$ 的具体条目（只要它们是非负的）。因此，选项 A 是正确的。", "answer": "$$\\boxed{A}$$", "id": "1290034"}]}