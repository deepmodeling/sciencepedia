{"hands_on_practices": [{"introduction": "理论通过实践得以升华。本节中的练习将帮助您巩固对生灭过程的理解，将理论应用于从机器可靠性到排队系统等不同场景。我们首先从一个基础的例子开始：一个在“工作”和“故障”状态之间切换的简单系统可以被建模为一个生灭过程。这个练习 [@problem_id:1284740] 演示了如何通过求解系统的稳态概率来计算一个关键的性能指标——长期可用性，这是随机系统平衡概念的一个基础应用。", "problem": "生产线上的一个关键设备会发生随机故障。该设备的状态可以建模为一个连续时间随机过程。当设备处于“工作”状态时，它可能会发生故障。发生故障前的时间是一个指数随机变量，其速率参数为 $\\alpha$。一旦设备发生故障，它就进入“非运行”状态。该状态包括设备单纯损坏的时间和正在进行“维修”的时间。在恢复“工作”状态之前，设备处于这种非运行状态的总时间是一个指数随机变量，其速率参数为 $\\beta$。\n\n确定该设备的长期可用性。可用性定义为在很长一段时间内，设备处于“工作”状态的时间比例。请用包含 $\\alpha$ 和 $\\beta$ 的符号表达式表示你的答案。", "solution": "将该设备建模为一个双状态连续时间马尔可夫链，状态为：工作 (W) 和非运行 (N)。转移速率为：从 W 到 N 的速率为 $\\alpha$（故障率），从 N 到 W 的速率为 $\\beta$（修复率）。因为两个速率都为正，所以该链是不可约且遍历的，因此长期可用性等于处于状态 W 的平稳概率。\n\n设平稳概率为 $\\pi_{W}$ 和 $\\pi_{N}$，且满足 $\\pi_{W}+\\pi_{N}=1$。两个状态之间的全局平衡（流量平衡）为\n$$\n\\pi_{W}\\alpha=\\pi_{N}\\beta.\n$$\n由此，用 $\\pi_{W}$ 表示 $\\pi_{N}$：\n$$\n\\pi_{N}=\\frac{\\alpha}{\\beta}\\pi_{W}.\n$$\n使用归一化条件求解 $\\pi_{W}$：\n$$\n\\pi_{W}+\\pi_{N}=1 \\;\\;\\Rightarrow\\;\\; \\pi_{W}+\\frac{\\alpha}{\\beta}\\pi_{W}=1 \\;\\;\\Rightarrow\\;\\; \\pi_{W}\\left(1+\\frac{\\alpha}{\\beta}\\right)=1.\n$$\n因此，\n$$\n\\pi_{W}=\\frac{1}{1+\\frac{\\alpha}{\\beta}}=\\frac{\\beta}{\\alpha+\\beta}.\n$$\n这个 $\\pi_{W}$ 就是长期可用性。\n\n作为更新论证的一致性检验，每个运行-停机周期由一个运行时间 $U \\sim \\text{Exp}(\\alpha)$（其 $\\mathbb{E}[U]=\\frac{1}{\\alpha}$）和一个停机时间 $D \\sim \\text{Exp}(\\beta)$（其 $\\mathbb{E}[D]=\\frac{1}{\\beta}$）组成。长期来看，运行时间所占的比例为\n$$\n\\frac{\\mathbb{E}[U]}{\\mathbb{E}[U]+\\mathbb{E}[D]}=\\frac{\\frac{1}{\\alpha}}{\\frac{1}{\\alpha}+\\frac{1}{\\beta}}=\\frac{\\beta}{\\alpha+\\beta},\n$$\n这与平稳结果相符。", "answer": "$$\\boxed{\\frac{\\beta}{\\alpha+\\beta}}$$", "id": "1284740"}, {"introduction": "在理解了系统的长期行为之后，我们转向瞬态分析。这个问题 [@problem_id:1284733] 探讨了生态学中的一个基本问题：一个新种群成功建立自身的几率有多大？通过将种群增长建模为一个生灭过程，我们可以计算其在灭绝前达到特定规模的概率。这个练习引入了“首达概率”的概念，它与经典的“赌徒破产”问题是相通的。", "problem": "将一种新型益生菌菌株的单个细菌引入受控的生物环境中。该菌株的种群被建模为一个简单的生灭过程。种群中的每个细菌个体具有恒定的人均出生率 $\\lambda$（即它分裂形成两个细菌的速率）和恒定的人均死亡率 $\\mu$（即它从系统中被移除的速率）。因此，对于大小为 $n$ 的种群，总出生率为 $n\\lambda$，总死亡率为 $n\\mu$。\n\n假设出生率 $\\lambda$ 不等于死亡率 $\\mu$。如果细菌种群大小达到 3 个个体，则认为此次引入是“成功定殖”。如果种群灭绝（大小达到 0），则认为此次引入是“定殖失败”。\n\n计算从这单个细菌开始的谱系在灭绝之前实现成功定殖的概率。请用 $\\lambda$ 和 $\\mu$ 的闭式解析表达式表示你的答案。", "solution": "令 $X(t)$ 表示人均出生率为 $\\lambda$、人均死亡率为 $\\mu$ 的连续时间生灭过程在时间 $t$ 的种群大小。从一个细菌开始，我们要求在到达状态 $0$（灭绝）之前到达状态 $3$（成功定殖）的概率。令 $P_{n}$ 为从状态 $n$ 开始，在到达 $0$ 之前到达 $3$ 的概率，边界条件为 $P_{0}=0$ 和 $P_{3}=1$。\n\n因为该过程是具有线性速率的连续时间生灭链，从任何内部状态 $n$ 的第一次跳跃以概率 $p=\\lambda/(\\lambda+\\mu)$ 转移到 $n+1$，并以概率 $q=\\mu/(\\lambda+\\mu)$ 转移到 $n-1$。根据马尔可夫性质和指数等待时间的无记忆性，$P_n$ 满足嵌入式跳跃链的后向方程：\n$$\nP_{n}=p\\,P_{n+1}+q\\,P_{n-1}, \\quad \\text{对于 } n=1,2,\n$$\n其中 $P_{0}=0$ 和 $P_{3}=1$，且 $p+q=1$，在 $\\lambda \\neq \\mu$ 的假设下，有 $p \\neq q$。\n\n求解这个二阶线性递推关系。对于齐次方程，假设解的形式为 $P_{n}=r^{n}$，得到特征方程\n$$\np r^{2}-r+q=0.\n$$\n因为 $p+q=1$，其根为 $r=1$ 和 $r=q/p$。因此通解为\n$$\nP_{n}=A+B\\left(\\frac{q}{p}\\right)^{n}.\n$$\n应用边界条件：\n$$\nP_{0}=0 \\implies A+B=0 \\implies B=-A,\n$$\n$$\nP_{3}=1 \\implies A+B\\left(\\frac{q}{p}\\right)^{3}=1 \\implies A\\left[1-\\left(\\frac{q}{p}\\right)^{3}\\right]=1 \\implies A=\\frac{1}{1-\\left(\\frac{q}{p}\\right)^{3}}.\n$$\n因此，\n$$\nP_{1}=A+B\\left(\\frac{q}{p}\\right)=A\\left[1-\\left(\\frac{q}{p}\\right)\\right]=\\frac{1-\\left(\\frac{q}{p}\\right)}{1-\\left(\\frac{q}{p}\\right)^{3}}.\n$$\n代入 $q/p=\\mu/\\lambda$，上式变为\n$$\nP_{1}=\\frac{1-\\frac{\\mu}{\\lambda}}{1-\\left(\\frac{\\mu}{\\lambda}\\right)^{3}}=\\frac{1}{1+\\frac{\\mu}{\\lambda}+\\left(\\frac{\\mu}{\\lambda}\\right)^{2}}=\\frac{\\lambda^{2}}{\\lambda^{2}+\\lambda \\mu+\\mu^{2}}.\n$$\n这就是在 $\\lambda \\neq \\mu$ 的条件下，从单个细菌开始的谱系在灭绝前达到种群大小为 3 的概率。", "answer": "$$\\boxed{\\frac{\\lambda^{2}}{\\lambda^{2}+\\lambda \\mu+\\mu^{2}}}$$", "id": "1284733"}, {"introduction": "最后，我们将在之前概念的基础上，解决一个更复杂、更现实的场景。这个练习 [@problem_id:1284759] 模拟了一个服务员效率随工作负载变化的排队系统。通过引入“状态依赖率”，这个问题展示了生灭过程框架的灵活性和强大功能。解决这个问题需要我们细致地应用平衡方程和归一化条件，以找到这个动态系统更为复杂的稳态分布。", "problem": "一个服务设施由单个服务台运作。到达该设施的项目流遵循泊松过程，平均到达率为每个单位时间 $\\lambda$。每个到达项目的服务时间服从指数分布。服务台的性能是动态的：如果设施中的总项目数（包括正在接受服务的项目）为 $N_0$ 或更少，则服务台以平均服务速率每个单位时间 $\\mu$ 个项目运行。然而，为了更快地清理积压，如果项目数量超过 $N_0$，服务台将以一个加速的平均服务速率 $2\\mu$ 工作。\n\n对于此系统，设 $N_0 = 2$。假设排队系统已达到稳态且是稳定的，求设施为空的概率 $p_0$。请用服务强度 $\\rho = \\lambda/\\mu$ 的函数表示你的答案。", "solution": "将此系统建模为状态为 $n \\in \\{0,1,2,\\dots\\}$ 的生灭过程。所有状态下的到达（出生）率均为 $\\lambda$。从状态 $n \\geq 1$ 开始的服务（死亡）率为\n$$\n\\mu_{n}=\\begin{cases}\n\\mu, & n=1,2,\\\\\n2\\mu, & n\\geq 3.\n\\end{cases}\n$$\n对于一个生灭过程，在稳态下，局部平衡方程给出\n$$\n\\lambda p_{n}=\\mu_{n+1}p_{n+1}, \\quad n\\geq 0,\n$$\n因此得到递归关系\n$$\np_{n+1}=\\frac{\\lambda}{\\mu_{n+1}}\\,p_{n}.\n$$\n令 $\\rho=\\lambda/\\mu$。则\n$$\np_{1}=\\frac{\\lambda}{\\mu}p_{0}=\\rho p_{0}, \\quad\np_{2}=\\frac{\\lambda}{\\mu}p_{1}=\\rho^{2}p_{0}.\n$$\n对于 $n\\geq 2$，我们有 $\\mu_{n+1}=2\\mu$，所以\n$$\np_{n+1}=\\frac{\\lambda}{2\\mu}p_{n}=\\frac{\\rho}{2}p_{n}.\n$$\n因此，对于 $n\\geq 3$，\n$$\np_{n}=p_{2}\\left(\\frac{\\rho}{2}\\right)^{n-2}=p_{0}\\,\\rho^{2}\\left(\\frac{\\rho}{2}\\right)^{n-2}\n= p_{0}\\,\\frac{\\rho^{n}}{2^{\\,n-2}}.\n$$\n归一化条件 $\\sum_{n=0}^{\\infty}p_{n}=1$ 得出\n$$\n1=p_{0}\\left[1+\\rho+\\rho^{2}+\\sum_{n=3}^{\\infty}\\frac{\\rho^{n}}{2^{\\,n-2}}\\right].\n$$\n尾部是一个几何级数：\n$$\n\\sum_{n=3}^{\\infty}\\frac{\\rho^{n}}{2^{\\,n-2}}\n=4\\sum_{n=3}^{\\infty}\\left(\\frac{\\rho}{2}\\right)^{n}\n=4\\cdot\\frac{\\left(\\frac{\\rho}{2}\\right)^{3}}{1-\\frac{\\rho}{2}}\n=\\frac{\\rho^{3}/2}{1-\\rho/2},\n$$\n该级数收敛的条件是 $\\rho < 2$，这就是系统的稳定条件。因此\n$$\n1=p_{0}\\left[1+\\rho+\\rho^{2}+\\frac{\\rho^{3}/2}{1-\\rho/2}\\right].\n$$\n合并各项，通分母为 $1-\\rho/2$，\n$$\n1=p_{0}\\,\\frac{(1+\\rho+\\rho^{2})(1-\\rho/2)+\\rho^{3}/2}{1-\\rho/2}\n=p_{0}\\,\\frac{1+\\rho/2+\\rho^{2}/2}{1-\\rho/2}.\n$$\n求解 $p_0$ 可得\n$$\np_{0}=\\frac{1-\\rho/2}{1+\\rho/2+\\rho^{2}/2}\n=\\frac{2-\\rho}{2+\\rho+\\rho^{2}}.\n$$\n在所述的稳定假设下，此表达式对于 $0 \\le \\rho < 2$ 成立。", "answer": "$$\\boxed{\\frac{2-\\rho}{2+\\rho+\\rho^{2}}}$$", "id": "1284759"}]}