## 引言
在代数拓扑的学习中，[上同调群](@entry_id:142450)为我们提供了一种强大的代数工具来研究拓扑空间。然而，仅仅拥有[加法群](@entry_id:151801)结构是不够的。上积（cup product）的引入，将上同调群 $H^*(X)$ 變成了一个揭示空间深层[代数结构](@entry_id:137052)的环。本文将这一概念推广到更精细的场景：相对上积。其核心意义在于，它不仅是上积的直接延伸，更能捕捉到一个空间 $X$ 相对于其[子空间](@entry_id:150286) $A$ 的拓扑信息，而这些信息在绝对上同调中常常是不可见的。

本文旨在系统性地介绍相对上积这一核心工具，填补从绝对[上同调](@entry_id:160558)到其相对形式在乘法结构上的认知空白。通过本文的学习，读者将能够全面掌握相对上积的理论与实践。在“原理与机制”一章中，我们将从最基础的上链层面出发，建立相对上积的严格定义，并探讨其关键的代数性质。随后，在“应用与跨学科联系”一章中，我们将展示该理论如何转化为强大的几何洞察力，特别是在[相交理论](@entry_id:157884)、[障碍理论](@entry_id:161880)和向量丛理论中的应用。最后，“动手实践”部分将提供一系列精心设计的问题，帮助读者将理论知识应用于具体的计算与证明中，从而巩固和深化理解。

## 原理与机制

在上一章中，我们已经了解了[相对同调](@entry_id:159348)和上同调的基本概念。现在，我们将为[相对上同调](@entry_id:272456)群赋予更丰富的[代数结构](@entry_id:137052)——相对上积。正如绝对上积将[上同调群](@entry_id:142450) $H^*(X)$ 转化为一个分次环，揭示了空间 $X$ 深刻的[拓扑不变量](@entry_id:138526)一样，相对上积也将在[相对上同调](@entry_id:272456)群 $H^*(X, A)$ 中引入一种乘法结构。这种结构不仅是绝对上积的直接推广，更重要的是，它能捕捉到空间 $X$ 相对于其[子空间](@entry_id:150286) $A$ 的精[细拓扑](@entry_id:154453)特性，而这些特性有时在绝对上同调中是不可见的。

### 基础：相对上积的定义

为了构建相对上积，我们首先需要从上链层面开始。回忆一下，对于一个拓扑空间对 $(X, A)$，一个 **$p$-维相对上链**（Relative $p$-cochain）是定义在 $X$ 上的一个奇异 $p$-上链 $\phi \in C^p(X; R)$，它在所有完全包含于[子空间](@entry_id:150286) $A$ 的奇异 $p$-单形上取值为零。所有 $p$-维相对上链构成的群记为 $C^p(X, A; R)$。

**上积的上链层面定义**

与绝对上积的定义类似，两个相对上链的杯积（cup product）是在上链层面通过一个明确的公式定义的。给定一个 $p$-维相对上链 $\phi \in C^p(X, A; R)$ 和一个 $q$-维相对上链 $\psi \in C^q(X, A; R)$，它们的[杯积](@entry_id:159554) $\phi \smile \psi$ 是一个 $(p+q)$-维上链。其在任意一个 $(p+q)$-维奇异单形 $\sigma: \Delta^{p+q} \to X$ 上的值为：
$$ (\phi \smile \psi)(\sigma) = \phi(\sigma|_{[v_0, \dots, v_p]}) \cdot \psi(\sigma|_{[v_p, \dots, v_{p+q}]}) $$
其中 $v_0, \dots, v_{p+q}$ 是 $\Delta^{p+q}$ 的顶点，$\sigma|_{[v_i, \dots, v_j]}$ 表示将 $\sigma$ 限制在由顶点 $v_i, \dots, v_j$ 张成的面 $\Delta^{j-i} \subset \Delta^{p+q}$ 上。该公式中的乘法是系数环 $R$ 中的乘法。

一个关键的问题是：$\phi \smile \psi$ 是否仍然是一个相对上链？也就是说，它在 $A$ 中的链上是否为零？答案是肯定的。如果一个 $(p+q)$-单形 $\sigma$ 的像完全在 $A$ 中，那么它的任意一个面，包括 $\sigma|_{[v_0, \dots, v_p]}$ 和 $\sigma|_{[v_p, \dots, v_{p+q}]}$，其像也完全在 $A$ 中。由于 $\phi$ 和 $\psi$ 都是相对上链，它们在 $A$ 中的链上取值为零。因此，$(\phi \smile \psi)(\sigma)$ 的两个因子中至少有一个为零，故其乘积也为零。这样，我们就得到了一个双线性配对：
$$ \smile: C^p(X, A; R) \times C^q(X, A; R) \to C^{p+q}(X, A; R) $$

为了直观理解这个定义，我们可以看一个在单纯复形上的具体计算。考虑一个由两个定向 2-单形 $\sigma_1 = [v_0, v_1, v_2]$ 和 $\sigma_2 = [v_0, v_2, v_3]$ 构成的三角化正方形 $I^2$，其边界为 $\partial I^2$。设 $\alpha$ 是一个相对 1-上链，它只在内部的公共边 $[v_0, v_2]$ 上取值为 1，在所有其他边（特别是边界边）上都取值为 0。现在我们计算两个相对 1-上链 $\phi = 3\alpha$ 和 $\psi = 5\alpha$ 的[杯积](@entry_id:159554) $\omega = \phi \smile \psi$。根据定义：
$$ (\phi \smile \psi)(\sigma_1) = \phi([v_0, v_1]) \cdot \psi([v_1, v_2]) $$
$$ (\phi \smile \psi)(\sigma_2) = \phi([v_0, v_2]) \cdot \psi([v_2, v_3]) $$
由于 $[v_0, v_1]$, $[v_1, v_2]$ 和 $[v_2, v_3]$ 都是边界边，$\alpha$ 在它们上面都为 0，因此 $\phi$ 和 $\psi$ 也为 0。所以 $(\phi \smile \psi)(\sigma_1) = 0 \cdot 0 = 0$。对于 $\sigma_2$，虽然 $\phi([v_0, v_2]) = 3$，但 $\psi([v_2, v_3]) = 0$，所以 $(\phi \smile \psi)(\sigma_2) = 3 \cdot 0 = 0$。因此，在这个例子中，上积 $\phi \smile \psi$ 是一个零上链 [@problem_id:1670577]。这个例子揭示了杯积的“局部性”：它的值依赖于上链在单形“前半部分”和“后半部分”的取值。

**从上链到[上同调](@entry_id:160558)**

与绝对情况一样，上积在代数上满足一个关键的**上边缘公式**：
$$ \delta(\phi \smile \psi) = (\delta\phi) \smile \psi + (-1)^p \phi \smile (\delta\psi) $$
这个公式对于相对上链同样成立。它保证了杯积与上边缘算子 $\delta$ 有良好的相容性，从而可以从上链层面诱导一个在[上同调](@entry_id:160558)层面的良定义乘积。具体来说：
1.  两个相对上循环（relative cocycle）的杯积是一个相对上循环。因为如果 $\delta\phi=0$ 和 $\delta\psi=0$，那么 $\delta(\phi \smile \psi) = 0$。
2.  一个相对上边缘（relative coboundary）与一个相对上循环的杯积是一个相对上边缘。例如，如果 $\phi = \delta\eta$，那么 $\phi \smile \psi = (\delta\eta) \smile \psi = \delta(\eta \smile \psi)$（假设 $\delta\psi=0$）。

因此，[杯积](@entry_id:159554)运算诱导了一个[双线性](@entry_id:146819)配对，即**相对上积**（relative cup product）：
$$ \cup: H^p(X, A; R) \times H^q(X, A; R) \to H^{p+q}(X, A; R) $$
这个乘法运算赋予了[相对上同调](@entry_id:272456)群 $H^*(X, A; R) = \bigoplus_k H^k(X, A; R)$ 一个分次[环的结构](@entry_id:150907)。

需要强调的是，一些在上同调层面成立的优良性质，例如分次交换律（graded-commutativity），在上链层面并不成立。分次[交换律](@entry_id:141214)指的是对于 $\alpha \in H^p(X,A)$ 和 $\beta \in H^q(X,A)$，有 $\alpha \cup \beta = (-1)^{pq} \beta \cup \alpha$。然而，在上链层面，$\phi \smile \psi$ 和 $\psi \smile \phi$ 一般是不同的。事实上，它们的差是一个上边缘。例如，对于两个 1-上链 $\phi, \psi$，可以验证 $\phi \smile \psi + \psi \smile \phi$ 通常不为零，但它是一个上边缘，因而在上同调中为零 [@problem_id:1670599]。这一事实是[上同调运算](@entry_id:263436)的核心，也是从几何直观（上链）到代数[不变量](@entry_id:148850)（[上同调类](@entry_id:263961)）的关键一步。

### 核心性质与等价表述

相对上积继承了绝对上积的许多重要性质。它是一个[双线性](@entry_id:146819)、满足结合律的运算，并使 $H^*(X, A; R)$ 成为一个分次结合环。如果系[数环](@entry_id:636822) $R$ 是交换的，那么 $H^*(X, A; R)$ 还是一个[分次交换环](@entry_id:265807)。

**通过对角映射的定义**

除了基于单形剖分的组合定义，相对上积还有一个更抽象且在理论推导中极为强大的等价定义。这个定义利用了**对角映射**（diagonal map）$\Delta: X \to X \times X$，$\Delta(x) = (x,x)$。这个映射可以看作一个空间对的映射：
$$ \Delta: (X, A) \to (X \times X, X \times A \cup A \times X) $$
这是因为如果 $x \in A$，那么 $\Delta(x) = (x,x) \in A \times A \subset X \times A \cup A \times X$。
这个映射在[相对上同调](@entry_id:272456)上诱导了一个[拉回](@entry_id:160816)同态 $\Delta^*: H^*(X \times X, X \times A \cup A \times X; R) \to H^*(X, A; R)$。

另一方面，我们有**外积**（cross product）$\times: H^k(X, A) \times H^l(X, A) \to H^{k+l}(X \times X, X \times A \cup A \times X)$。结合这两个工具，我们可以如下定义相对上积：对于 $\alpha \in H^k(X, A)$ 和 $\beta \in H^l(X, A)$，
$$ \alpha \cup \beta := \Delta^*(\alpha \times \beta) $$

这个定义虽然抽象，但它将内在的杯积与空间积上的外积联系起来，使得我们可以利用 Künneth 定理等强大工具来分析其性质。

**相对上积与绝对上积的联系**

在很多情况下，[相对上同调](@entry_id:272456)群与绝对上同调群通过[典范映射](@entry_id:266266)联系在一起。一个典型的例子是空间对 $(X, P)$，其中 $P$ 是 $X$ 中的一个点。对于良性空间（例如 CW 复形），空间对 $(X, P)$ 的[长正合序列](@entry_id:153438)显示，当 $k \ge 1$ 时，由包含映射 $j: X \to (X,P)$ 诱导的映射 $j^*: H^k(X, P; R) \to H^k(X; R)$ 是一个同构。

这一同构关系揭示了相对上积与绝对上积之间的深刻联系。利用上积的自然性（naturality），我们可以将相对上积的计算转化为我们更熟悉的绝对上积的计算。自然性指的是，对于一个空间对的映射 $f: (X, A) \to (Y, B)$，有 $f^*(\alpha \cup \beta) = f^*(\alpha) \cup f^*(\beta)$。

让我们看一个例子。考虑二维环面 $T^2$ 和其上的一个基点 $A=\{p\}$ [@problem_id:1670594]。$H^1(T^2, A; \mathbb{Z}) \cong H^1(T^2; \mathbb{Z}) \cong \mathbb{Z} \oplus \mathbb{Z}$。设 $\alpha, \beta$ 是 $H^1(T^2, A)$ 的一组基。它们对应的绝对[上同调类](@entry_id:263961)为 $\tilde{\alpha} = j^*(\alpha)$ 和 $\tilde{\beta} = j^*(\beta)$，它们构成了 $H^1(T^2)$ 的一组基。我们想计算相对上积 $\alpha \cup \beta \in H^2(T^2, A)$。利用自然性：
$$ j^*(\alpha \cup \beta) = j^*(\alpha) \cup j^*(\beta) = \tilde{\alpha} \cup \tilde{\beta} $$
这样，我们就把一个相对上积的计算问题，转化为了一个在 $H^*(T^2)$ 中的绝对上积计算。我们知道在环面上，$\tilde{\alpha} \cup \tilde{\beta}$ 是 $H^2(T^2; \mathbb{Z})$ 的一个生成元。由于 $j^*: H^2(T^2, A) \to H^2(T^2)$ 也是同构，我们就可以断定 $\alpha \cup \beta$ 一定是 $H^2(T^2, A)$ 的生成元。这种通过与绝对上同调的比较来进行计算的策略非常普遍和有效 [@problem_id:1670579]。

**混合积与三元组积**

上积的概念可以进一步推广。例如，我们可以定义一个绝对类与一个相对类的乘积：
$$ \cup: H^p(X; R) \times H^q(X, A; R) \to H^{p+q}(X, A; R) $$
这个[混合积](@entry_id:177480)同样具有自然性。设 $j: (X, \emptyset) \to (X, A)$ 是包含映射，它在第一个因子上诱导的映射是恒等映射，在第二个因子上诱导的映射是 $j^*: H^*(X, A) \to H^*(X)$。对于 $\beta \in H^p(X)$ 和 $\tilde{\alpha} \in H^q(X, A)$，我们有：
$$ j^*(\beta \cup \tilde{\alpha}) = \beta \cup j^*(\tilde{\alpha}) $$
这个性质同样为计算提供了便利。例如，在环面 $T^2$ 和其子午圈 $A$ 构成的空间对 $(T^2, A)$ 中，我们可以计算一个绝对类 $b \in H^1(T^2)$ 和一个相对类 $\tilde{a} \in H^1(T^2, A)$ 的乘积。通过映射到绝对[上同调环](@entry_id:160158) $H^*(T^2)$ 中计算 $b \cup j^*(\tilde{a})$，再利用同构映射回 $H^2(T^2, A)$，就可以得到最终结果 [@problem_id:1670567]。

更进一步，对于一个空间三元组（triple）$A \subseteq B \subseteq X$，还存在一个从 $(B,A)$ 的[上同调](@entry_id:160558)和 $(X,B)$ 的上同调到 $(X,A)$ 的[上同调](@entry_id:160558)的积：
$$ \cup: H^p(B, A; R) \times H^q(X, B; R) \to H^{p+q}(X, A; R) $$
这个积在处理多层次的几何结构时非常有用。然而，与所有上积运算一样，它的值受到目标群的维数限制。例如，对于三元组 $(D^2, S^1, \{p\})$，我们可以考虑 $H^1(S^1, \{p\})$ 中的生成元与 $H^2(D^2, S^1)$ 中的生成元的乘积。目标群是 $H^3(D^2, \{p\})$。通过计算可以发现 $H^3(D^2, \{p\})$ 是一个平凡群，因此这个积必然为零 [@problem_id:1670566]。这个例子提醒我们，在进行上积计算时，首先要确定相关[上同调群](@entry_id:142450)的结构。

### 应用与几何解释

相对上积不仅是一个优美的代数构造，它还在几何拓扑中有着广泛而深刻的应用。它能够揭示空间的几何性质，并且是许多重要定理（如 Poincaré 对偶）的核心组成部分。

**揭示隐藏的[代数结构](@entry_id:137052)**

一个引人注目的现象是，一个空间的[相对上同调](@entry_id:272456)环可能具有非平凡的乘法结构，即使其绝对[上同调环](@entry_id:160158)的乘法结构是平凡的（即任意两个正次数上同调类的杯积为零）。

考虑一个例子：设 $X$ 是从一个环面上挖去一个开圆盘得到的空间（一个带边界的亏格为 1 的[曲面](@entry_id:267450)），$A$ 是其边界圆。空间 $X$ 可以[形变收缩](@entry_id:148036)到两个圆的[楔和](@entry_id:270607) $S^1 \vee S^1$。我们知道 $H^*(S^1 \vee S^1)$ 的乘法结构是平凡的。因此，$H^*(X)$ 的乘法结构也是平凡的。然而，当我们考察[相对上同调](@entry_id:272456)环 $H^*(X, A)$ 时，情况发生了变化。根据[商空间](@entry_id:274314)理论，$H^*(X, A; \mathbb{Z})$ 与[约化上同调](@entry_id:268050)群 $\tilde{H}^*(X/A; \mathbb{Z})$ 同构。这里的[商空间](@entry_id:274314) $X/A$ 是通过将边界圆 $A$ 捏成一个点得到的，这个过程实际上“修复”了被挖去的圆盘，从而得到了一个完整的环面 $T^2$。因此，$H^*(X, A; \mathbb{Z}) \cong \tilde{H}^*(T^2; \mathbb{Z})$。我们知道 $H^*(T^2)$ 具有非平凡的杯积结构。这表明，[相对上同调](@entry_id:272456)环 $H^*(X, A)$ 具有非平凡的乘法结构！[@problem_id:1670591]。这个例子生动地说明，相对上积能够捕捉到被[子空间](@entry_id:150286) "[封存](@entry_id:271300)" 起来的拓扑信息。

**与[长正合序列](@entry_id:153438)的相互作用**

相对上积与空间对 $(X, A)$ 的长正合序列中的[连接同态](@entry_id:160713) $\delta: H^k(A) \to H^{k+1}(X, A)$ 存在着紧密的联系。一个重要的关系式是：
$$ \delta(\alpha \cup i^*(\beta)) = \delta(\alpha) \cup \beta $$
其中 $\alpha \in H^p(A)$，$\beta \in H^q(X)$，而 $i^*: H^*(X) \to H^*(A)$ 是由包含映射 $i: A \to X$ 诱导的[拉回](@entry_id:160816)。这个公式将[子空间](@entry_id:150286) $A$ 上的积与 $(X, A)$ 上的积联系起来。

一个经典的例子是莫比乌斯带 $M$ 和它的边界圆 $A = \partial M$。使用 $\mathbb{Z}/2\mathbb{Z}$ 作为系数，我们知道 $H^1(M, A) \cong \mathbb{Z}/2\mathbb{Z}$，其生成元设为 $\beta$。同时，$H^2(M, A) \cong \mathbb{Z}/2\mathbb{Z}$。[长正合序列](@entry_id:153438)显示，[连接同态](@entry_id:160713) $\delta: H^1(A) \to H^2(M, A)$ 是一个同构。设 $\alpha$ 是 $H^1(A)$ 的生成元，则 $\delta(\alpha)$ 是 $H^2(M, A)$ 的生成元。一个自然的问题是，相对上积 $\beta \cup \beta$ 与 $\delta(\alpha)$ 有何关系？通过与庞加莱-列夫谢茨对偶性（Poincaré-Lefschetz duality）和[cap积](@entry_id:158725)的联系，可以证明 $\beta \cup \beta$ 在 $H^2(M, A)$ 中非零。由于 $H^2(M, A)$ 只有两个元素，非零元是唯一的，因此我们必然有：
$$ \beta \cup \beta = \delta(\alpha) $$
[@problem_id:1670575]。这个结果不仅展示了相对上积的计算，更揭示了莫比乌斯带扭曲的几何性质如何在其[上同调环](@entry_id:160158)的[代数结构](@entry_id:137052)中得以体现。

**在[流形理论](@entry_id:263722)中的应用：庞加莱-列夫谢茨对偶**

相对上积在[带边流形](@entry_id:159788)的[对偶定理](@entry_id:137804)中扮演着核心角色。对于一个紧致、可定向的 $n$ 维[带边流形](@entry_id:159788) $(M, \partial M)$，**庞加莱-列夫谢茨[对偶定理](@entry_id:137804)**断言，存在一个同构：
$$ PD: H^k(M, \partial M; R) \xrightarrow{\cong} H_{n-k}(M; R) $$
这个同构是通过与基本同调类 $[M] \in H_n(M, \partial M)$ 的[cap积](@entry_id:158725)实现的。在这种对偶性下，上同调中的杯积对应于同调中的交积。特别地，由[杯积](@entry_id:159554)诱导的配对：
$$ \cup: H^k(M, \partial M) \times H^{n-k}(M) \to H^n(M, \partial M) \cong R $$
是一个非退化的配对。这意味着对于任意非零的 $\alpha \in H^k(M, \partial M)$，都存在一个 $\beta \in H^{n-k}(M)$ 使得 $\alpha \cup \beta \neq 0$。

我们可以通过一个具体的例子来感受这一点。设 $M$ 是从三维环面 $T^3$ 中挖去一个开球得到的带边 [3-流形](@entry_id:199026) [@problem_id:1670595]。利用剜除术（excision）和[长正合序列](@entry_id:153438)，我们可以建立 $M$ 的（相对）[上同调群](@entry_id:142450)与 $T^3$ 的[上同调群](@entry_id:142450)之间的同构。例如，$H^1(M, \partial M) \cong H^1(T^3)$ 和 $H^2(M) \cong H^2(T^3)$。上积运算在这些同构下是自然的。因此，计算 $H^1(M, \partial M)$ 中的元素与 $H^2(M)$ 中的元素的相对上积，就等价于计算 $H^*(T^3)$ 中相应的绝对上积。$H^*(T^3)$ 的上积结构由[外代数](@entry_id:201164)决定，计算结果表明这个配对确实是非退化的，为庞加莱-列夫谢茨对偶性提供了一个坚实的计算例证。

**高级主题：相对杯长与LS范畴**

相对上积的[代数结构](@entry_id:137052)可以用来定义拓扑不变量。**相对杯长**（relative cup-length），记为 $\text{cup-length}(X, A)$，是指在[相对上同调](@entry_id:272456)环 $H^*(X, A)$ 中，可以得到非零乘积的最多正次数元素的个数。这是一个纯代数的[不变量](@entry_id:148850)。

令人惊奇的是，这个代数[不变量](@entry_id:148850)为一个深刻的[几何不变量](@entry_id:178611)——**相对Lusternik-Schnirelmann (LS) 范畴**，记为 $\text{cat}(X, A)$——提供了一个下界。一个基本的不等式是：
$$ \text{cat}(X, A) \ge \text{cup-length}(X, A) + 1 $$
这为我们提供了一种通过计算[代数结构](@entry_id:137052)来估计几何复杂度的方法。例如，通过[Künneth定理](@entry_id:274959)和[同伦不变性](@entry_id:150428)，我们可以计算出空间对 $(T^5, T^2)$ 的相对杯长为 3，而其相对LS范畴为 4 [@problem_id:1670568]，这与上述不等式是一致的。这展示了相对上积作为连接代数与几何的桥梁，在现代拓扑学研究中的重要作用。