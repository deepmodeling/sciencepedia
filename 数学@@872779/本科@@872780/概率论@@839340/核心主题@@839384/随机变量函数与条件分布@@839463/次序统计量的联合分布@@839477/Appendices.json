{"hands_on_practices": [{"introduction": "我们将从基础开始。次序统计量的概念不仅限于连续变量。第一个练习将通过伯努利试验，在一个离散的环境中探索这一概念。通过确定三次测试中最小和中位数结果的联合概率，您将看到次序统计量的性质如何与我们更熟悉的二项分布等概念直接联系起来。在进入更复杂的连续情形之前，这个练习对于建立直观理解至关重要。", "problem": "一个自动化的质量控制流程测试三个相同的、独立制造的电子开关。测试每个开关的结果是一个随机变量，如果开关功能正常（“成功”），则取值为1，如果开关失效（“失败”），则取值为0。任何一个给定的开关功能正常的概率是 $p$，其中 $0  p  1$。\n\n设三次测试的结果为随机变量 $X_1, X_2,$ 和 $X_3$。然后将这些结果按非递减顺序排序，得到顺序统计量 $X_{(1)} \\le X_{(2)} \\le X_{(3)}$。在此背景下，$X_{(1)}$ 表示三次测试的最小结果，$X_{(2)}$ 表示中位数结果。\n\n确定最小结果为失败且中位数结果为成功的联合概率。请用关于 $p$ 的解析表达式表示你的答案。", "solution": "每次测试的结果都是一个成功概率为 $p$ 的伯努利随机变量，并且这三个结果是独立同分布的。令 $S=X_{1}+X_{2}+X_{3}$ 为成功的总次数。排序后的结果 $(X_{(1)},X_{(2)},X_{(3)})$ 仅取决于 $S$：\n- 如果 $S=0$，则为 $(0,0,0)$，所以 $X_{(1)}=0$, $X_{(2)}=0$。\n- 如果 $S=1$，则为 $(0,0,1)$，所以 $X_{(1)}=0$, $X_{(2)}=0$。\n- 如果 $S=2$，则为 $(0,1,1)$，所以 $X_{(1)}=0$, $X_{(2)}=1$。\n- 如果 $S=3$，则为 $(1,1,1)$，所以 $X_{(1)}=1$, $X_{(2)}=1$。\n\n因此，事件 $\\{X_{(1)}=0, X_{(2)}=1\\}$ 发生的条件恰好是 $S=2$。由于 $S$ 服从参数为 $n=3$ 和 $p$ 的二项分布，其概率质量函数为\n$$\n\\mathbb{P}(S=k)=\\binom{3}{k}p^{k}(1-p)^{3-k}.\n$$\n因此，\n$$\n\\mathbb{P}\\big(X_{(1)}=0, X_{(2)}=1\\big)=\\mathbb{P}(S=2)=\\binom{3}{2}p^{2}(1-p)=3p^{2}(1-p).\n$$", "answer": "$$\\boxed{3p^{2}(1-p)}$$", "id": "1368721"}, {"introduction": "现在我们转向连续均匀分布的经典案例。这个问题 [@problem_id:1368681] 展示了一个实际的质量控制场景，并要求计算样本落入特定区间的概率。这个练习将教给您一个强大的技巧：将次序统计量问题转化为一个多项分布概率问题，即计算有多少观测值落入预定义的区间内。这种方法可以简化涉及次序统计量联合概率密度函数的复杂计算。", "problem": "在一家半导体制造厂中，使用化学气相沉积工艺在硅晶圆上生长一层薄介电膜。这层薄膜的厚度是影响器件性能的一个关键参数。由于温度和气体流量的微小波动，薄膜的厚度在整个晶圆上并非完全均匀。\n\n为了对这种变化进行建模，晶圆上任意给定点的归一化厚度被视为一个随机变量。一项质量控制程序包括测量四个随机选择位置的归一化厚度。设这四个测量值由独立同分布的随机变量 $X_1, X_2, X_3, X_4$ 表示，每个随机变量都服从区间 $(0, 1)$ 上的均匀分布。\n\n如果一个晶圆的厚度分布呈现出一种特定类型的不均匀性，即两个最薄的测量值必须低于下阈值 $1/3$，且两个最厚的测量值必须高于上阈值 $2/3$，那么该晶圆将被标记以进行进一步检查。设 $X_{(1)} \\le X_{(2)} \\le X_{(3)} \\le X_{(4)}$ 为来自四个样本的有序测量值（顺序统计量）。因此，标记晶圆的条件是事件 $\\{X_{(1)} \\le 1/3, X_{(2)} \\le 1/3, X_{(3)} > 2/3, X_{(4)} > 2/3\\}$。\n\n计算一个随机选择的晶圆被标记以进行进一步检查的概率。将你的答案表示为最简分数形式。", "solution": "设 $X_{1},X_{2},X_{3},X_{4}$ 是独立同分布于 $\\operatorname{Uniform}(0,1)$ 的随机变量。事件 $\\{X_{(1)} \\le \\frac{1}{3},\\,X_{(2)} \\le \\frac{1}{3},\\,X_{(3)} > \\frac{2}{3},\\,X_{(4)} > \\frac{2}{3}\\}$ 等价于恰好有两个观测值落在 $(0,\\frac{1}{3}]$ 区间，恰好有两个落在 $(\\frac{2}{3},1)$ 区间，且没有观测值落在 $(\\frac{1}{3},\\frac{2}{3}]$ 区间。因为分布是连续的，所以严格不等式与对应的非严格不等式具有相同的概率。\n\n定义三个不相交的类别及其概率\n$$\np_{L}=\\mathbb{P}\\!\\left(X\\in\\left(0,\\tfrac{1}{3}\\right]\\right)=\\tfrac{1}{3},\\quad\np_{M}=\\mathbb{P}\\!\\left(X\\in\\left(\\tfrac{1}{3},\\tfrac{2}{3}\\right]\\right)=\\tfrac{1}{3},\\quad\np_{U}=\\mathbb{P}\\!\\left(X\\in\\left(\\tfrac{2}{3},1\\right)\\right)=\\tfrac{1}{3}.\n$$\n根据独立性，在四次抽取中，恰好有 $k_{L}=2$、$k_{M}=0$、$k_{U}=2$ 的概率由多项式公式给出\n$$\n\\mathbb{P}=\\frac{4!}{2!\\,0!\\,2!}\\,p_{L}^{2}\\,p_{M}^{0}\\,p_{U}^{2}\n=\\frac{4!}{2!\\,2!}\\left(\\tfrac{1}{3}\\right)^{2}\\left(\\tfrac{1}{3}\\right)^{0}\\left(\\tfrac{1}{3}\\right)^{2}\n=6\\left(\\tfrac{1}{3}\\right)^{4}\n=\\frac{6}{81}\n=\\frac{2}{27}.\n$$\n因此，一个晶圆被标记的概率是 $\\frac{2}{27}$。", "answer": "$$\\boxed{\\frac{2}{27}}$$", "id": "1368681"}, {"introduction": "我们最后的练习通过探索条件期望，更深入地研究均匀分布次序统计量的性质。这个问题 [@problem_id:1368704] 要求在给定最小值和最大值的情况下，计算中间次序统计量的期望值。解决这个问题将揭示均匀分布次序统计量一个卓越而优雅的结构特性，让您对其行为和相互依赖性有更深刻的理解。", "problem": "设 $X_1, X_2, X_3, X_4$ 是从区间 $(0, \\theta)$ 上的连续均匀分布中抽取的容量为4的随机样本，其中 $\\theta > 0$。相应的顺序统计量记为 $X_{(1)} \\le X_{(2)} \\le X_{(3)} \\le X_{(4)}$。已知最小观测值为 $X_{(1)} = u$ 且最大观测值为 $X_{(4)} = v$，其中 $0  u  v  \\theta$ 为固定常数，求两个中间顺序统计量之和的条件期望 $E[X_{(2)} + X_{(3)} | X_{(1)} = u, X_{(4)} = v]$。请用 $u$ 和 $v$ 的解析表达式给出你的答案。", "solution": "设随机样本为 $X_1, X_2, X_3, X_4$，其中每个 $X_i$ 独立地从均匀分布 $U(0, \\theta)$ 中抽取。每个 $X_i$ 的概率密度函数 (PDF) 为 $f(x) = \\frac{1}{\\theta}$（对于 $0  x  \\theta$），累积分布函数 (CDF) 为 $F(x) = \\frac{x}{\\theta}$。\n\n我们需要求条件期望 $E[X_{(2)} + X_{(3)} | X_{(1)} = u, X_{(4)} = v]$。\n\n来自均匀分布的顺序统计量有一个关键性质：在给定最小和最大统计量的条件下，中间的统计量表现得就像是从由最小值和最大值定义的区间上的均匀分布中抽取的样本的顺序统计量。\n具体来说，给定 $X_{(1)} = u$ 和 $X_{(n)} = v$，中间顺序统计量集合 $(X_{(2)}, \\dots, X_{(n-1)})$ 的分布与从区间 $(u, v)$ 上的均匀分布中抽取的容量为 $n-2$ 的样本的顺序统计量的分布相同。\n\n在我们的问题中，$n=4$。因此，给定 $X_{(1)} = u$ 和 $X_{(4)} = v$，两个中间顺序统计量 $(X_{(2)}, X_{(3)})$ 的分布就如同从 $(u, v)$ 上的均匀分布中抽取的容量为 $n-2 = 2$ 的随机样本的顺序统计量。\n\n设 $Y_1, Y_2$ 是两个来自 $U(u, v)$ 的独立同分布随机变量。设它们的顺序统计量为 $Y_{(1)}$ 和 $Y_{(2)}$。在给定 $X_{(1)}=u, X_{(4)}=v$ 的条件下，$(X_{(2)}, X_{(3)})$ 的条件分布与 $(Y_{(1)}, Y_{(2)})$ 的分布相同。\n\n因此，我们需要计算 $E[Y_{(1)} + Y_{(2)}]$。\n根据期望的线性性质，我们有：\n$$E[Y_{(1)} + Y_{(2)}] = E[Y_{(1)}] + E[Y_{(2)}]$$\n顺序统计量的一个重要性质是，一个样本的所有顺序统计量之和等于样本中原始随机变量之和。在我们的例子中，这意味着：\n$$Y_{(1)} + Y_{(2)} = Y_1 + Y_2$$\n对两边取期望：\n$$E[Y_{(1)} + Y_{(2)}] = E[Y_1 + Y_2]$$\n再次利用期望的线性性质：\n$$E[Y_1 + Y_2] = E[Y_1] + E[Y_2]$$\n随机变量 $Y_1$ 和 $Y_2$ 来自均匀分布 $U(u, v)$。一个在区间 $(a,b)$ 上均匀分布的随机变量的期望值为 $\\frac{a+b}{2}$。\n因此，对于 $Y_1$ 和 $Y_2$：\n$$E[Y_1] = \\frac{u+v}{2}$$\n$$E[Y_2] = \\frac{u+v}{2}$$\n将这些代回，我们得到：\n$$E[Y_1 + Y_2] = \\frac{u+v}{2} + \\frac{u+v}{2} = u+v$$\n所以，条件期望为：\n$$E[X_{(2)} + X_{(3)} | X_{(1)} = u, X_{(4)} = v] = E[Y_{(1)} + Y_{(2)}] = u+v$$\n\n或者，我们可以通过直接积分来解决这个问题。在给定 $X_{(1)}=u$ 和 $X_{(4)}=v$ 的条件下，$X_{(2)}$ 和 $X_{(3)}$ 的联合条件概率密度函数(PDF)与从 $U(u,v)$ 中抽取的容量为2的样本的顺序统计量的PDF相同。设这些变量为 $x_2$ 和 $x_3$。两个来自 $U(u,v)$ 的独立同分布变量的联合PDF在正方形 $[u,v] \\times [u,v]$ 上是 $1/(v-u)^2$。它们的顺序统计量的联合PDF由下式给出：\n$$f_{X_{(2)},X_{(3)}|X_{(1)},X_{(4)}}(x_2, x_3|u,v) = \\frac{(4-2)!}{(v-u)^{4-2}} = \\frac{2}{(v-u)^2} \\quad \\text{对于 } u  x_2  x_3  v$$\n条件期望为：\n$$E[X_{(2)} + X_{(3)} | u, v] = \\int_{u}^{v} \\int_{u}^{x_3} (x_2 + x_3) \\frac{2}{(v-u)^2} dx_2 dx_3$$\n首先，我们计算关于 $x_2$ 的内层积分：\n$$\\int_{u}^{x_3} (x_2 + x_3) dx_2 = \\left[ \\frac{x_2^2}{2} + x_3 x_2 \\right]_{u}^{x_3} = \\left(\\frac{x_3^2}{2} + x_3^2\\right) - \\left(\\frac{u^2}{2} + u x_3\\right) = \\frac{3}{2}x_3^2 - u x_3 - \\frac{u^2}{2}$$\n现在，我们将此结果关于 $x_3$ 从 $u$ 到 $v$ 进行积分：\n$$\\int_{u}^{v} \\left(\\frac{3}{2}x_3^2 - u x_3 - \\frac{u^2}{2}\\right) dx_3 = \\left[ \\frac{3}{2}\\frac{x_3^3}{3} - u\\frac{x_3^2}{2} - \\frac{u^2}{2}x_3 \\right]_{u}^{v}$$\n$$= \\left[ \\frac{x_3^3}{2} - \\frac{u x_3^2}{2} - \\frac{u^2 x_3}{2} \\right]_{u}^{v}$$\n$$= \\left(\\frac{v^3}{2} - \\frac{u v^2}{2} - \\frac{u^2 v}{2}\\right) - \\left(\\frac{u^3}{2} - \\frac{u^3}{2} - \\frac{u^3}{2}\\right)$$\n$$= \\frac{1}{2} (v^3 - u v^2 - u^2 v + u^3)$$\n我们可以对括号内的项进行因式分解：\n$$v^3 - u v^2 - u^2 v + u^3 = v^2(v-u) - u^2(v-u) = (v^2-u^2)(v-u) = (v+u)(v-u)(v-u) = (v+u)(v-u)^2$$\n所以积分变为 $\\frac{1}{2}(v+u)(v-u)^2$。\n最后，我们乘以常数因子 $\\frac{2}{(v-u)^2}$：\n$$E[X_{(2)} + X_{(3)} | u, v] = \\frac{2}{(v-u)^2} \\times \\frac{1}{2}(v+u)(v-u)^2 = u+v$$\n两种方法都得到相同的结果。", "answer": "$$\\boxed{u+v}$$", "id": "1368704"}]}