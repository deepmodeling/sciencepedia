{"hands_on_practices": [{"introduction": "在许多实际应用中，我们关心的往往不是随机变量本身的期望，而是某个与该变量相关的函数的期望，例如成本、收益或能量。本练习将通过一个光伏电池效率衰减的场景，向你展示如何利用“无意识统计学家定律”（LOTUS）来直接计算一个随机变量函数的期望值，而无需先求出该函数的概率分布。这是一个在工程和经济学中非常有用的基本技能 [@problem_id:1361581]。", "problem": "一位材料科学家正在研究一种新型光伏电池在环境应力下的降解情况。经过一段固定的暴露时间后，该电池的功率转换效率被发现是一个连续随机变量，表示为其初始效率的分数 $X$。这种降解的行为由概率密度函数 (PDF) 描述，其函数为：当 $x \\in [0, 1]$ 时，$f(x) = 3x^2$；其他情况下 $f(x) = 0$。\n\n可以应用一个修复过程来部分恢复损失的效率。此修复过程的成本不是线性的，它被建模为与效率损失的平方成正比。效率损失定义为 $(1-x)$。具体来说，以标准化的货币单位计算的成本函数为 $C(x) = k(1-x)^2$，其中 $k$ 是一个正常数，代表将一个完全降解（即效率为零）的电池完全修复的成本。\n\n求在暴露期后对电池应用修复过程的期望成本 $E[C(X)]$。请将答案表示为关于常数 $k$ 的闭式解析表达式。", "solution": "随机变量 $X$ 的概率密度函数 (PDF) 为：当 $x \\in [0,1]$ 时，$f(x)=3x^{2}$；其他情况下为 $0$。首先，验证 $f$ 是一个有效的概率密度函数：\n$$\n\\int_{0}^{1} 3x^{2}\\,dx = \\left[ x^{3} \\right]_{0}^{1} = 1.\n$$\n期望成本是函数 $C(X)=k(1-X)^{2}$ 的期望。根据连续随机变量函数的期望的定义，\n$$\nE[C(X)] = \\int_{-\\infty}^{\\infty} C(x) f(x)\\,dx = \\int_{0}^{1} k(1-x)^{2} \\cdot 3x^{2}\\,dx.\n$$\n展开并逐项积分：\n$$\nE[C(X)] = k \\int_{0}^{1} \\left(1 - 2x + x^{2}\\right) 3x^{2}\\,dx = k \\int_{0}^{1} \\left(3x^{2} - 6x^{3} + 3x^{4}\\right)\\,dx.\n$$\n计算积分：\n$$\nE[C(X)] = k \\left( \\left[ x^{3} \\right]_{0}^{1} - 6 \\left[ \\frac{x^{4}}{4} \\right]_{0}^{1} + 3 \\left[ \\frac{x^{5}}{5} \\right]_{0}^{1} \\right) = k \\left( 1 - \\frac{3}{2} + \\frac{3}{5} \\right).\n$$\n合并各项：\n$$\n1 - \\frac{3}{2} + \\frac{3}{5} = \\frac{10 - 15 + 6}{10} = \\frac{1}{10}.\n$$\n因此，\n$$\nE[C(X)] = \\frac{k}{10}.\n$$", "answer": "$$\\boxed{\\frac{k}{10}}$$", "id": "1361581"}, {"introduction": "期望值不是一个静态的量；当我们获得新信息时，它会随之更新。这个练习模拟了一个常见场景：我们对一个过程的完成时间有一个初始预期，但中途观察发现它尚未完成 [@problem_id:1361583]。你需要运用条件概率的知识来计算更新后的条件期望，这个过程体现了贝叶斯思想的精髓，即根据新的证据来修正我们的预测。", "problem": "在一家半导体制造厂中，一道关键的等离子体刻蚀工艺用于在硅晶片上制造纳米级特征。该工艺完成所需的时间 $T$ 是一个连续随机变量。根据大量的历史数据，$T$ 的概率密度函数 (PDF) 由函数 $f(t) = ct$（对于 $0 \\le t \\le t_{max}$）和 $f(t) = 0$（其他情况）建模，其中 $c$ 是一个归一化常数。该工艺保证在时间 $t_{max}$ 前完成。\n\n新安装了一个实时监控系统。在一个特定时间 $t_c$（其中 $0  t_c  t_{max}$），该系统查询刻蚀工艺的状态，发现它尚未完成。\n\n鉴于此信息，这个特定工艺的新的期望完成时间是多少？请将您的答案表示为一个关于 $t_{max}$ 和 $t_c$ 的单个闭式解析表达式。", "solution": "工艺完成时间 $T$ 的概率密度函数为 $f(t) = c t$（对于 $0 \\leq t \\leq t_{max}$）且在其他情况下 $f(t)=0$。首先，进行归一化以确定 $c$：\n$$\n\\int_{0}^{t_{max}} c t \\, dt = 1 \\;\\;\\Rightarrow\\;\\; c \\frac{t_{max}^{2}}{2} = 1 \\;\\;\\Rightarrow\\;\\; c = \\frac{2}{t_{max}^{2}}.\n$$\n在时间 $t_{c}$ 观察到工艺尚未完成，意味着发生了事件 $T > t_{c}$。其生存概率为\n$$\nS(t_{c}) = \\mathbb{P}(T > t_{c}) = \\int_{t_{c}}^{t_{max}} f(t)\\, dt = \\int_{t_{c}}^{t_{max}} c t \\, dt = c \\frac{t_{max}^{2} - t_{c}^{2}}{2} = \\frac{t_{max}^{2} - t_{c}^{2}}{t_{max}^{2}}.\n$$\n条件期望完成时间为\n$$\n\\mathbb{E}[T \\mid T > t_{c}] = \\frac{1}{S(t_{c})} \\int_{t_{c}}^{t_{max}} t f(t) \\, dt = \\frac{1}{S(t_{c})} \\int_{t_{c}}^{t_{max}} t \\, c t \\, dt = \\frac{c}{S(t_{c})} \\frac{t_{max}^{3} - t_{c}^{3}}{3}.\n$$\n代入 $c = \\frac{2}{t_{max}^{2}}$ 和 $S(t_{c}) = \\frac{t_{max}^{2} - t_{c}^{2}}{t_{max}^{2}}$ 可得\n$$\n\\mathbb{E}[T \\mid T > t_{c}] = \\frac{\\frac{2}{t_{max}^{2}} \\cdot \\frac{t_{max}^{3} - t_{c}^{3}}{3}}{\\frac{t_{max}^{2} - t_{c}^{2}}{t_{max}^{2}}} = \\frac{2}{3} \\cdot \\frac{t_{max}^{3} - t_{c}^{3}}{t_{max}^{2} - t_{c}^{2}}.\n$$\n因式分解并化简：\n$$\nt_{max}^{3} - t_{c}^{3} = (t_{max} - t_{c})(t_{max}^{2} + t_{max} t_{c} + t_{c}^{2}), \\quad t_{max}^{2} - t_{c}^{2} = (t_{max} - t_{c})(t_{max} + t_{c}),\n$$\n所以\n$$\n\\mathbb{E}[T \\mid T > t_{c}] = \\frac{2}{3} \\cdot \\frac{t_{max}^{2} + t_{max} t_{c} + t_{c}^{2}}{t_{max} + t_{c}}.\n$$\n这便是在已知工艺到 $t_{c}$ 时刻尚未完成的条件下，新的期望完成时间（从工艺开始时测量）。", "answer": "$$\\boxed{\\frac{2}{3}\\cdot\\frac{t_{max}^{2}+t_{max}t_{c}+t_{c}^{2}}{t_{max}+t_{c}}}$$", "id": "1361583"}, {"introduction": "这个挑战性的问题将带你进入期望值概念的一个更深层次的抽象思考。在这里，随机变量的概率分布函数本身就包含了它的期望值 $\\mu = E[X]$ [@problem_id:1361563]。你的任务不再是简单地计算一个积分，而是要建立一个关于 $\\mu$ 的自洽方程并求解它，这要求你将期望值视为一个待解的参数，从而检验你对期望值定义的真正理解。", "problem": "一个连续随机变量 $X$ 在区间 $[1, \\infty)$ 上取值。其概率密度函数 $f(x)$ 在 $x  1$ 时为零。当 $x \\ge 1$ 时，函数 $f(x)$ 与 $(x + \\mu)^{-4}$ 成正比，其中 $\\mu$ 表示随机变量 $X$ 的期望值，即 $\\mu = E[X]$。求 $\\mu$ 的精确值。", "solution": "设当 $x1$ 时 $f(x)=0$，当 $x\\geq 1$ 时 $f(x)=k\\,(x+\\mu)^{-4}$，其中选择 $k>0$ 使得 $f$ 是一个概率密度函数。为避免在支撑集 $[1,\\infty)$ 上出现奇点，我们需要 $-\\mu  1$，即 $\\mu>-1$。\n\n根据归一化条件\n$$\n\\int_{1}^{\\infty} f(x)\\,dx \\;=\\; 1\n\\;\\;\\Longrightarrow\\;\\;\nk\\int_{1}^{\\infty} (x+\\mu)^{-4}\\,dx \\;=\\; 1.\n$$\n使用换元法，令 $u=x+\\mu$（因此 $du=dx$），积分上下限变为从 $u=1+\\mu$到 $u=\\infty$，并且\n$$\n\\int_{1}^{\\infty} (x+\\mu)^{-4}\\,dx\n=\\int_{1+\\mu}^{\\infty} u^{-4}\\,du\n=\\left[-\\frac{1}{3}u^{-3}\\right]_{1+\\mu}^{\\infty}\n=\\frac{1}{3}(1+\\mu)^{-3}.\n$$\n因此 $k\\cdot \\frac{1}{3}(1+\\mu)^{-3}=1$，所以\n$$\nk \\;=\\; 3(1+\\mu)^{3}.\n$$\n\n期望值为\n$$\nE[X] \\;=\\; \\int_{1}^{\\infty} x\\,f(x)\\,dx\n\\;=\\; 3(1+\\mu)^{3}\\int_{1}^{\\infty} x\\,(x+\\mu)^{-4}\\,dx.\n$$\n再次令 $u=x+\\mu$，则 $x=u-\\mu$，$du=dx$，积分上下限为从 $u=1+\\mu$ 到 $\\infty$。于是\n$$\n\\int_{1}^{\\infty} x\\,(x+\\mu)^{-4}\\,dx\n=\\int_{1+\\mu}^{\\infty} (u-\\mu)u^{-4}\\,du\n=\\int_{1+\\mu}^{\\infty}\\left(u^{-3}-\\mu u^{-4}\\right)\\,du.\n$$\n计算原函数：\n$$\n\\int u^{-3}\\,du=-\\frac{1}{2}u^{-2},\\qquad\n\\int u^{-4}\\,du=-\\frac{1}{3}u^{-3}.\n$$\n因此\n$$\n\\int_{1+\\mu}^{\\infty}\\left(u^{-3}-\\mu u^{-4}\\right)\\,du\n=\\left[-\\frac{1}{2}u^{-2}+\\frac{\\mu}{3}u^{-3}\\right]_{1+\\mu}^{\\infty}\n=\\frac{1}{2}(1+\\mu)^{-2}-\\frac{\\mu}{3}(1+\\mu)^{-3}.\n$$\n所以，\n$$\nE[X]\n=3(1+\\mu)^{3}\\left[\\frac{1}{2}(1+\\mu)^{-2}-\\frac{\\mu}{3}(1+\\mu)^{-3}\\right]\n=\\frac{3}{2}(1+\\mu)-\\mu\n=\\frac{3}{2}+\\frac{1}{2}\\mu.\n$$\n根据定义 $\\mu=E[X]$，所以\n$$\n\\mu=\\frac{3}{2}+\\frac{1}{2}\\mu\n\\;\\;\\Longrightarrow\\;\\;\n\\frac{1}{2}\\mu=\\frac{3}{2}\n\\;\\;\\Longrightarrow\\;\\;\n\\mu=3,\n$$\n这满足 $\\mu>-1$，因此得到一个有效的密度函数。", "answer": "$$\\boxed{3}$$", "id": "1361563"}]}