{"hands_on_practices": [{"introduction": "圣彼得堡悖论的核心在于其无限的期望收益，这与我们的直觉相悖。在深入探讨这个无限期望之前，计算赢得一大笔钱的实际概率是一个很好的起点。这个练习将帮助你建立对游戏中长尾分布的直观理解，并明白为什么尽管可能获得巨额回报，但其发生的概率极低。[@problem_id:1406433]", "problem": "一个赌场引入了一个基于思想实验的博弈游戏。玩家支付一次性入场费即可参与。游戏中，重复投掷一枚均匀的硬币，直到首次出现“正面”(H)。设 $n$ 为首次观察到“正面”时的投掷次数。赌场随后会向玩家支付 $V(n) = 2^n$ 美元的奖金。玩家的净利润为奖金减去入场费。\n\n假设玩此游戏的入场费为 $C = 10$ 美元。玩家单次游戏的净利润至少为 $118$ 美元的概率是多少？", "solution": "设 $N$ 表示首次出现正面的（随机）投掷次数。对于一枚均匀的硬币，$N$ 在集合 $\\{1,2,\\dots\\}$ 上服从成功概率为 $p=\\frac{1}{2}$ 的几何分布，所以\n$$\n\\Pr(N=n)=(1-p)^{n-1}p=\\left(\\frac{1}{2}\\right)^{n-1}\\left(\\frac{1}{2}\\right)=\\left(\\frac{1}{2}\\right)^{n}.\n$$\n奖金为 $V(N)=2^{N}$ 美元，入场费为 $C=10$ 美元。净利润为 $V(N)-C=2^{N}-10$。净利润至少为 $118$ 的事件等价于\n$$\n2^{N}-10\\geq 118 \\quad\\Longleftrightarrow\\quad 2^{N}\\geq 128 \\quad\\Longleftrightarrow\\quad N\\geq 7,\n$$\n因为 $128=2^{7}$。因此，\n$$\n\\Pr(\\text{净利润}\\geq 118)=\\Pr(N\\geq 7)=\\sum_{n=7}^{\\infty}\\left(\\frac{1}{2}\\right)^{n}\n=\\frac{\\left(\\frac{1}{2}\\right)^{7}}{1-\\frac{1}{2}}\n=\\left(\\frac{1}{2}\\right)^{6}\n=\\frac{1}{64}.\n$$", "answer": "$$\\boxed{\\frac{1}{64}}$$", "id": "1406433"}, {"introduction": "无限的期望值与人们只愿意支付少量费用来玩这个游戏之间存在着明显的脱节。这个练习通过探索总彩金的*中位数*来解决这个问题，对于像圣彼得堡悖论这样高度倾斜的分布，中位数通常是比均值更稳健的衡量标准。通过计算中位数，你可以更真实地感受到“典型”的游戏结果，而不是被无限的期望值所误导。[@problem_id:1406398]", "problem": "概率论中一个经典的思想实验是圣彼得堡博弈。在这个博弈中，一枚公平的硬币被反复抛掷，直到第一次出现正面为止。如果第一次正面出现在第 $n$ 次抛掷时（其中 $n=1, 2, 3, \\ldots$），玩家将获得 $2^n$ 美元的奖金。\n\n考虑一个玩家独立参加两次这样的圣彼得堡博弈的情景。玩家的总奖金是这两次独立博弈的奖金之和。\n\n确定玩家总奖金的中位数。以美元为单位表示你的答案。", "solution": "设 $N$ 表示在单次博弈中第一次出现正面时的抛掷次数。对于一枚公平的硬币，$P(N=n)=2^{-n}$，其中 $n=1,2,\\ldots$。单次博弈的奖金为 $X=2^{N}$，因此对于 $n\\ge 1$，$P(X=2^{n})=2^{-n}$，从而得到 $P(X=2)=\\frac{1}{2}$，$P(X=4)=\\frac{1}{4}$，以及 $P(X\\ge 8)=\\sum_{n\\ge 3}2^{-n}=\\frac{1}{4}$。\n\n设 $X_{1}$ 和 $X_{2}$ 是两次独立博弈的奖金，并设 $S=X_{1}+X_{2}$。我们寻找一个中位数 $m$，使得 $P(S\\le m)\\ge \\frac{1}{2}$ 且 $P(S\\ge m)\\ge \\frac{1}{2}$。\n\n首先计算 $P(S\\le 6)$。如果任意一个 $X_{i}\\ge 8$，那么 $S\\ge 8+2=106$，因此 $S\\le 6$ 意味着 $X_{1},X_{2}\\in\\{2,4\\}$。在这些可能性中，$(X_{1},X_{2})=(4,4)$ 得到 $S=86$，而 $(2,2)$ 得到 $S=4$，$(2,4)$ 或 $(4,2)$ 得到 $S=6$。根据独立性，\n$$\nP(S\\le 6)=P(X_{1}=2,X_{2}=2)+P(X_{1}=2,X_{2}=4)+P(X_{1}=4,X_{2}=2)\n=\\left(\\frac{1}{2}\\right)^{2}+2\\cdot\\frac{1}{2}\\cdot\\frac{1}{4}\n=\\frac{1}{4}+\\frac{1}{4}=\\frac{1}{2}.\n$$\n接下来，对于任何 $m6$，特别是 $m=5$ 时，使得 $S\\le 5$ 的唯一方式是 $(X_{1},X_{2})=(2,2)$，所以\n$$\nP(S\\le 5)=P(X_{1}=2,X_{2}=2)=\\left(\\frac{1}{2}\\right)^{2}=\\frac{1}{4}\\frac{1}{2}.\n$$\n因此，$6$ 是满足 $P(S\\le m)\\ge \\frac{1}{2}$ 的最小 $m$，并且它满足 $P(S\\ge 6)=1-P(S\\le 5)=\\frac{3}{4}\\ge \\frac{1}{2}$。因此，总奖金的中位数是 $6$ 美元。", "answer": "$$\\boxed{6}$$", "id": "1406398"}, {"introduction": "圣彼得堡悖论的产生直接源于其特定的支付结构 $2^k$。这个练习探讨了一个修改版的游戏，其中的支付增长速度较慢，并且玩家还有一个保底选择。通过计算这个“温和版”悖论的期望收益，我们可以更清楚地理解造成悖论的精确数学条件，同时引入了在不确定性下做出最优决策的基本概念。[@problem_id:1406385]", "problem": "我们提出了一个修改版的圣彼得堡博弈。在这个游戏中，一枚均匀的硬币被独立重复地抛掷，直到第一次出现“正面”为止。如果第一次“正面”出现在第 $k$ 次抛掷，玩家将获得一笔初始奖金 $X = (1.5)^k$ 美元。\n\n在结果 $k$ 已知并计算出初始奖金 $X$ 后，玩家必须做出一个决定。他们可以选择接受奖金 $X$，或者将其换成一笔固定的保证支付 $G = 5$ 美元。一个理性的玩家，为了最大化自己的收益，总是会选择两者中较大的金额。\n\n假设玩家总是采用这种最优决策策略，计算参与这个修改版游戏的玩家的总期望收益。用美元表示你的最终答案，并四舍五入到三位有效数字。", "solution": "设 $K$ 为重复抛掷均匀硬币首次出现正面的次数。那么对于 $k\\in\\{1,2,3,\\dots\\}$，有 $P(K=k)=2^{-k}$。初始奖金为 $X=(\\tfrac{3}{2})^{k}$。玩家收到的金额为 $Y=\\max\\!\\big((\\tfrac{3}{2})^{k},5\\big)$。\n\n找到阈值 $k_{0}$，使得 $(\\tfrac{3}{2})^{k}\\geq 5$ 当且仅当 $k\\geq k_{0}$。求解 $(\\tfrac{3}{2})^{k}\\geq 5$ 得到 $k\\geq \\frac{\\ln(5)}{\\ln(3/2)}$，通过检验整数可知 $k_{0}=4$，因为 $(\\tfrac{3}{2})^{3}= \\frac{27}{8}  5$ 而 $(\\tfrac{3}{2})^{4}=\\frac{81}{16}>5$。\n\n因此，\n$$\n\\mathbb{E}[Y]\n=\\sum_{k=1}^{3} 5\\cdot 2^{-k}+\\sum_{k=4}^{\\infty} \\left(\\frac{3}{2}\\right)^{k} 2^{-k}\n=5\\sum_{k=1}^{3}2^{-k}+\\sum_{k=4}^{\\infty}\\left(\\frac{3}{4}\\right)^{k}.\n$$\n计算每个求和：\n$$\n\\sum_{k=1}^{3}2^{-k}=\\frac{1}{2}+\\frac{1}{4}+\\frac{1}{8}=\\frac{7}{8},\\qquad\n\\sum_{k=4}^{\\infty}\\left(\\frac{3}{4}\\right)^{k}=\\frac{\\left(\\frac{3}{4}\\right)^{4}}{1-\\frac{3}{4}}=\\frac{\\frac{81}{256}}{\\frac{1}{4}}=\\frac{81}{64}.\n$$\n于是，\n$$\n\\mathbb{E}[Y]=5\\cdot \\frac{7}{8}+\\frac{81}{64}=\\frac{35}{8}+\\frac{81}{64}=\\frac{280+81}{64}=\\frac{361}{64}=5.640625.\n$$\n四舍五入到三位有效数字，结果是 $5.64$ 美元。", "answer": "$$\\boxed{5.64}$$", "id": "1406385"}]}