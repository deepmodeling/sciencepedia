{"hands_on_practices": [{"introduction": "实践是检验真理的唯一标准。第一个练习将我们带入一个制造业的场景，这是一个全概率定律应用的经典领域。通过计算来自不同生产线的次品微芯片的总体概率，你将学会如何将一个复杂问题分解为几个互斥的、更简单的部分，并对它们进行加权平均。这个练习 [@problem_id:10091] 旨在为你运用全概率定律解决实际问题打下坚实的基础。", "problem": "一家工厂使用三条不同的生产线（我们将其标记为生产线1、生产线2和生产线3）来生产一种特定类型的微芯片。这三条生产线负责该微芯片的全部生产。\n\n产量分布如下：\n- 生产线1生产了总微芯片中的 $f_1$ 比例。\n- 生产线2生产了总微芯片中的 $f_2$ 比例。\n- 生产线3生产剩余的微芯片。\n\n每条生产线生产出有缺陷微芯片的概率是已知的、恒定的：\n- 对于由生产线1生产的微芯片，其有缺陷的概率是 $d_1$。\n- 对于由生产线2生产的微芯片，其有缺陷的概率是 $d_2$。\n- 对于由生产线3生产的微芯片，其有缺陷的概率是 $d_3$。\n\n假设从工厂的总产量中随机抽取一个微芯片。设 $D$ 为所选微芯片有缺陷的事件。你的任务是根据给定的符号参数 $f_1, f_2, d_1, d_2,$ 和 $d_3$ 推导出该事件总概率 $P(D)$ 的表达式。", "solution": "我们将样本空间按生产线 $L_i\\;(i=1,2,3)$ 进行划分，其中\n$$P(L_1)=f_1,\\quad P(L_2)=f_2,\\quad P(L_3)=1-f_1-f_2.$$\n根据关于有缺陷事件 $D$ 的全概率公式，我们有\n$$\nP(D)=\\sum_{i=1}^3P(D\\mid L_i)\\,P(L_i).\n$$\n代入 $P(D\\mid L_i)=d_i$ 和各生产线的概率，可得\n$$\nP(D)=d_1\\,f_1+d_2\\,f_2+d_3\\,(1-f_1-f_2).\n$$", "answer": "$$\\boxed{f_1 d_1 + f_2 d_2 + (1 - f_1 - f_2)\\,d_3}$$", "id": "10091"}, {"introduction": "现在，让我们进入一个充满机遇和不确定性的纸牌游戏世界。这个练习设定了一个场景：根据一次硬币投掷的结果来选择不同类型的牌组，然后计算抽到特定牌（皇后）的概率。这个问题 [@problem_id:10080] 不仅巩固了全概率定律的基本应用，还引入了一个变量参数 $p$，让你练习构建一个依赖于初始选择概率的通用模型。", "problem": "在一个实验中使用了两种类型的扑克牌：一副标准扑克牌和一副匹诺克牌。\n- 一副**标准扑克牌**包含52张牌，有4种花色和13个点数（2、3、4、5、6、7、8、9、10、Jack、Queen、King、Ace）。它总共包含4张Q牌。\n- 一副**匹诺克牌**包含48张牌。它由每种花色的从9到Ace（9、10、Jack、Queen、King、Ace）各取两张组成。它总共包含8张Q牌。\n\n实验者根据一次有偏硬币的投掷结果选择两副牌中的一副。如果硬币正面朝上，则选择标准扑克牌。如果反面朝上，则选择匹诺克牌。硬币正面朝上的概率由符号 $p$ 表示。\n\n选定一副牌后，从中均匀随机地抽出一张牌。使用全概率公式，推导出一个符号表达式，表示抽到Q牌的总概率。", "solution": "设 $A$ 为抽出的牌是Q牌的事件。\n设 $B_S$ 为选择标准扑克牌的事件。\n设 $B_P$ 为选择匹诺克牌的事件。\n\n事件 $B_S$ 和 $B_P$ 构成了样本空间的一个划分，因为它们中有且只有一个必然发生。题目指出，牌的选择基于一次硬币投掷，其中正面（选择标准扑克牌）的概率为 $p$。因此，这些事件的概率是：\n$$\nP(B_S) = p\n$$\n$$\nP(B_P) = 1 - p\n$$\n\n接下来，我们需要确定在选定了特定牌组的条件下，抽到Q牌的条件概率。\n\n对于标准扑克牌，52张牌中共有4张Q牌。在选定标准扑克牌的条件下，抽到Q牌的概率为：\n$$\nP(A | B_S) = \\frac{\\text{Number of Queens in Standard Deck}}{\\text{Total Cards in Standard Deck}} = \\frac{4}{52} = \\frac{1}{13}\n$$\n\n对于匹诺克牌，48张牌中共有8张Q牌。在选定匹诺克牌的条件下，抽到Q牌的概率为：\n$$\nP(A | B_P) = \\frac{\\text{Number of Queens in Pinochle Deck}}{\\text{Total Cards in Pinochle Deck}} = \\frac{8}{48} = \\frac{1}{6}\n$$\n\n全概率公式表明，对于样本空间的一个划分 $\\{B_1, B_2, ..., B_n\\}$，事件 $A$ 的概率由 $P(A) = \\sum_{i=1}^{n} P(A|B_i)P(B_i)$ 给出。\n在我们的情况下，划分是 $\\{B_S, B_P\\}$，公式为：\n$$\nP(A) = P(A|B_S)P(B_S) + P(A|B_P)P(B_P)\n$$\n\n现在，我们将我们找到的概率代入这个方程：\n$$\nP(A) = \\left(\\frac{1}{13}\\right)p + \\left(\\frac{1}{6}\\right)(1-p)\n$$\n\n为了简化这个表达式，我们首先分配各项：\n$$\nP(A) = \\frac{p}{13} + \\frac{1}{6} - \\frac{p}{6}\n$$\n\n我们找到一个公分母，即 $13 \\times 6 = 78$，来合并这些项：\n$$\nP(A) = \\frac{6p}{78} + \\frac{13}{78} - \\frac{13p}{78}\n$$\n\n最后，我们合并分子：\n$$\nP(A) = \\frac{6p + 13 - 13p}{78}\n$$\n$$\nP(A) = \\frac{13 - 7p}{78}\n$$\n这就是抽到Q牌总概率的最终表达式。", "answer": "$$\\boxed{\\frac{13 - 7p}{78}}$$", "id": "10080"}, {"introduction": "准备好迎接一个更具挑战性的动态问题了吗？这个练习 [@problem_id:785232] 描述了一个翁氏模型（urn model），其中的规则在每一步都会根据前一步的结果而改变。你需要循序渐进地应用全概率定律，通过追踪所有可能的历史路径来计算未来事件的概率。这个问题不仅考验你对公式的掌握，更重要的是，它展示了全概率定律在分析随机过程演化中的强大威力。", "problem": "一个基于瓮模型的概率过程定义如下：\n1.  初始时，即步骤 $k=0$ 时，一个瓮中装有一个红球和一个黑球。\n2.  在每个步骤 $k=1, 2, 3, \\dots$，从瓮中随机抽取一个球。\n3.  记下抽出球的颜色，然后将该球放回瓮中。\n4.  然后向瓮中添加一个与抽出球颜色*相反*的球。瓮中球的总数在每个步骤增加一个。\n\n计算第三次从瓮中抽出的球（在步骤 $k=3$ 时）是红色的确切概率。", "solution": "设 $(r_k, b_k)$ 为第 $k$ 步操作后瓮中红球和黑球的数量，并设 $c_k$ 为第 $k$ 次抽出的球的颜色。\n初始时（$k=0$），状态为 $(r_0,b_0)=(1,1)$。\n\n步骤 1：\n第1次抽球的概率取决于状态 $(r_0, b_0)$。\n$$P(c_1=R)=\\frac{r_0}{r_0+b_0}=\\frac12,\\quad \nP(c_1=B)=\\frac{b_0}{r_0+b_0}=\\frac12.$$\n如果 $c_1=R$，则状态变为 $(r_1,b_1)=(1,2)$；如果 $c_1=B$，则状态变为 $(r_1,b_1)=(2,1)$。\n\n步骤 2：\n第2次抽球的概率取决于状态 $(r_1, b_1)$。\n- 情况 1 ($c_1=R$，概率 $1/2$)：状态为 $(1,2)$。\n$$P(c_2=R|c_1=R)=\\frac{1}{1+2}=\\frac13,\\;P(c_2=B|c_1=R)=\\frac23.$$\n第2步操作后，状态 $(r_2,b_2)$ 可能是 $(1,3)$ 或 $(2,2)$。\n- 情况 2 ($c_1=B$，概率 $1/2$)：状态为 $(2,1)$。\n$$P(c_2=R|c_1=B)=\\frac{2}{2+1}=\\frac23,\\;P(c_2=B|c_1=B)=\\frac13.$$\n第2步操作后，状态 $(r_2,b_2)$ 可能是 $(2,2)$ 或 $(3,1)$。\n\n路径、其概率以及第2步后的状态 $(r_2,b_2)$ 列表：\n1. $R,R$：概率 $\\tfrac12\\cdot\\tfrac13=\\tfrac16$，状态 $(1,3)$\n2. $R,B$：概率 $\\tfrac12\\cdot\\tfrac23=\\tfrac13$，状态 $(2,2)$\n3. $B,R$：概率 $\\tfrac12\\cdot\\tfrac23=\\tfrac13$，状态 $(2,2)$\n4. $B,B$：概率 $\\tfrac12\\cdot\\tfrac13=\\tfrac16$，状态 $(3,1)$\n\n步骤 3：\n第3次抽球的概率 $P(c_3=R)$ 取决于第2步后的状态 $(r_2, b_2)$。应用全概率定律：\n$$P(c_3=R)\n=\\sum_{\\text{路径}}P(\\text{路径})\\frac{r_2}{r_2+b_2}\n=\\frac{1}{6}\\cdot\\frac{1}{4}\n+\\frac{1}{3}\\cdot\\frac{2}{4}\n+\\frac{1}{3}\\cdot\\frac{2}{4}\n+\\frac{1}{6}\\cdot\\frac{3}{4}\n=\\frac{1+4+4+3}{24}=\\frac{12}{24}=\\frac12.$$", "answer": "$$\\boxed{\\frac{1}{2}}$$", "id": "785232"}]}