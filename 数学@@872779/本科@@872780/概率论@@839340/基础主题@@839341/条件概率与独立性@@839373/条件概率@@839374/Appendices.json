{"hands_on_practices": [{"introduction": "理解条件概率最直观的方式是将其视为对我们所考虑的可能性世界的“缩小”。当一个事件 $B$ 已经发生的知识被给予时，我们的样本空间就不再是所有可能的结果，而是仅仅包含事件 $B$ 中的结果。这个练习 [@problem_id:3049] 将通过一个经典的掷骰子问题，展示如何在一个给定的条件下（“点数之和为8”），通过简单地计算这个新样本空间中的有利结果来确定概率。", "problem": "考虑一个掷两颗公正的六面骰子的实验。这两颗骰子是独立的，每个面（从1到6编号）朝上的概率均等。\n\n设 $A$ 为事件“至少有一颗骰子掷出数字5”。\n设 $B$ 为事件“两颗骰子掷出的数字之和恰好为8”。\n\n求在事件 $B$ 已经发生的条件下，事件 $A$ 发生的条件概率，记为 $P(A|B)$。", "solution": "问题要求计算条件概率 $P(A|B)$。对于样本空间中的事件 $A$ 和 $B$，条件概率的定义是：\n$$\nP(A|B) = \\frac{P(A \\cap B)}{P(B)}\n$$\n其中 $P(A \\cap B)$ 是事件 $A$ 和 $B$ 同时发生的概率，$P(B)$ 是事件 $B$ 发生的概率，且 $P(B) > 0$。\n\n对于具有有限个等可能结果的问题，这可以计算为事件交集中的结果数量与条件事件中的结果数量之比：\n$$\nP(A|B) = \\frac{|A \\cap B|}{|B|}\n$$\n\n首先，我们来定义样本空间 $S$。该实验涉及掷两颗六面骰子。结果可以用一个有序对 $(d_1, d_2)$ 来表示，其中 $d_1$ 是第一颗骰子的结果，$d_2$ 是第二颗骰子的结果。每颗骰子可以掷出 $\\{1, 2, 3, 4, 5, 6\\}$ 中的一个数字。\n所有可能的结果总数为 $|S| = 6 \\times 6 = 36$。\n\n接下来，我们确定对应于事件 $B$ 的结果集合，即两颗骰子的点数之和为8。\n$$\nB = \\{(d_1, d_2) | d_1 + d_2 = 8\\}\n$$\n列出这些有序对：\n$B = \\{(2, 6), (3, 5), (4, 4), (5, 3), (6, 2)\\}$\n事件 $B$ 中的结果数量为 $|B| = 5$。\n\n现在，我们来确定交集事件 $A \\cap B$ 的结果集合。该事件对应于点数之和为8且至少有一颗骰子掷出5的结果。我们可以通过检查集合 $B$ 来找到这些结果。\n$$\nA \\cap B = \\{(d_1, d_2) \\in B | d_1 = 5 \\text{ or } d_2 = 5\\}\n$$\n在集合 $B$ 中，满足此条件的结果是：\n$A \\cap B = \\{(3, 5), (5, 3)\\}$\n交集事件 $A \\cap B$ 中的结果数量为 $|A \\cap B| = 2$。\n\n最后，我们可以使用等可能结果的公式来计算条件概率 $P(A|B)$。我们已知事件 B 已经发生，因此我们新的、缩减的样本空间就是集合 B 本身，其中有 5 个结果。在这 5 个可能的结果中，有 2 个满足事件 A 的条件。\n$$\nP(A|B) = \\frac{|A \\cap B|}{|B|}\n$$\n代入我们找到的值：\n$$\nP(A|B) = \\frac{2}{5}\n$$", "answer": "$$\n\\boxed{\\frac{2}{5}}\n$$", "id": "3049"}, {"introduction": "在掌握了通过缩小样本空间来直观理解条件概率之后，下一步是熟练运用其数学定义。这个练习 [@problem_id:3058] 将引导你使用条件概率的基本公式 $P(A|B) = \\frac{P(A \\cap B)}{P(B)}$，并展示如何通过代数变换，从已知的 $P(A|B)$ 推导出 $P(B|A)$。这是贝叶斯定理核心思想的直接体现，即利用一个方向的条件概率来求解另一个方向的条件概率。", "problem": "在微芯片制造的质量控制流程中，会进行两种不同的自动化测试，即测试 A 和测试 B。设 $A$ 为随机选中的一个微芯片未能通过测试 A 的事件，设 $B$ 为它未能通过测试 B 的事件。与这些测试相关的概率如下：\n\n- 一个芯片未能通过测试 A 的概率为 $P(A) = p_A$。\n- 一个芯片未能通过测试 B 的概率为 $P(B) = p_B$。\n- 在已知一个芯片未能通过测试 B 的条件下，它也未能通过测试 A 的概率为 $P(A|B) = p_{A|B}$。\n\n假设概率的数值如下：\n- $p_A = \\frac{1}{2}$\n- $p_B = \\frac{2}{5}$\n- $p_{A|B} = \\frac{3}{5}$\n\n使用条件概率的基本定义，推导 $P(B|A)$ 的表达式，即一个微芯片在已知未能通过测试 A 的条件下，也未能通过测试 B 的概率。然后，计算其数值。", "solution": "问题要求解条件概率 $P(B|A)$。对于两个事件 $X$ 和 $Y$（其中 $P(Y)>0$），条件概率的定义如下：\n$$\nP(X|Y) = \\frac{P(X \\cap Y)}{P(Y)}\n$$\n其中 $P(X \\cap Y)$ 是事件 $X$ 和 $Y$ 同时发生的联合概率。\n\n我们的目标是求 $P(B|A)$。根据定义，我们可以写出：\n$$\nP(B|A) = \\frac{P(B \\cap A)}{P(A)}\n$$\n\n问题给出了 $P(A)$，但没有直接给出联合概率 $P(B \\cap A)$。但是，我们已知 $P(A|B)$ 和 $P(B)$。我们可以使用 $P(A|B)$ 的条件概率定义：\n$$\nP(A|B) = \\frac{P(A \\cap B)}{P(B)}\n$$\n\n我们可以重新整理这个方程来求解联合概率 $P(A \\cap B)$：\n$$\nP(A \\cap B) = P(A|B) P(B)\n$$\n\n事件的交集是可交换的运算，意味着“事件 A 和 B 发生”与“事件 B 和 A 发生”是同一个事件。因此，它们的概率相等：\n$$\nP(A \\cap B) = P(B \\cap A)\n$$\n\n现在我们可以将从整理后的公式中得到的 $P(A \\cap B)$ 的表达式代入我们求 $P(B|A)$ 的方程中：\n$$\nP(B|A) = \\frac{P(A \\cap B)}{P(A)} = \\frac{P(A|B) P(B)}{P(A)}\n$$\n\n这样我们就得到了用给定数量表示 $P(B|A)$ 的符号表达式。现在，我们代入给定的数值：\n- $P(A) = p_A = \\frac{1}{2}$\n- $P(B) = p_B = \\frac{2}{5}$\n- $P(A|B) = p_{A|B} = \\frac{3}{5}$\n\n将这些值代入我们推导出的公式中：\n$$\nP(B|A) = \\frac{\\left(\\frac{3}{5}\\right) \\left(\\frac{2}{5}\\right)}{\\frac{1}{2}}\n$$\n\n首先，我们计算分子中的乘积：\n$$\nP(B|A) = \\frac{\\frac{3 \\times 2}{5 \\times 5}}{\\frac{1}{2}} = \\frac{\\frac{6}{25}}{\\frac{1}{2}}\n$$\n\n要除以一个分数，我们乘以它的倒数：\n$$\nP(B|A) = \\frac{6}{25} \\times \\frac{2}{1} = \\frac{12}{25}\n$$\n\n因此，一个微芯片在已知未能通过测试 A 的条件下，也未能通过测试 B 的概率为 $\\frac{12}{25}$。", "answer": "$$\n\\boxed{\\frac{12}{25}}\n$$", "id": "3058"}, {"introduction": "条件概率在现实世界中的应用极其广泛，尤其是在医学诊断和风险评估等领域，它能帮助我们根据新的证据更新我们的判断。这个问题 [@problem_id:1351176] 模拟了一个罕见疾病的双重筛查过程，它将挑战你的直觉，并展示贝叶斯定理如何精确计算在多次检测呈阳性的情况下，个体真正患病的概率。通过这个练习，你将深刻体会到“基础比率”（即事件的先验概率）在最终结论中的关键作用。", "problem": "一种罕见的神经系统疾病，称为Neuro-synthetic Tangle Disorder (NTD)，据估计影响了0.5%的人口。一种新的、廉价的初步筛查测试已被开发出来。该测试的灵敏度（正确识别出NTD患者的概率）为98%，其特异性（正确识别出非NTD患者的概率）为95%。\n\n如果一个个体在该初步筛查中测试结果为阳性，他们将接受第二次更高级的诊断测试。第二次测试独立于第一次。第二次测试的灵敏度为99.5%，其特异性为99%。\n\n假设从人群中随机选择一个人，并且其在初步筛查和高级诊断测试中*均*呈阳性。那么这个人实际患有NTD的概率是多少？\n\n将最终答案保留四位有效数字。", "solution": "设 $D$ 表示患有NTD，$\\bar{D}$ 表示没有患有NTD，设 $T_{1}^{+}$ 和 $T_{2}^{+}$ 分别表示初步测试和高级测试结果为阳性。已知：\n- 患病率：$P(D)=0.005$，因此 $P(\\bar{D})=1-0.005=0.995$。\n- 测试1：灵敏度 $P(T_{1}^{+}\\mid D)=0.98$，特异性 $P(T_{1}^{-}\\mid \\bar{D})=0.95$，所以 $P(T_{1}^{+}\\mid \\bar{D})=1-0.95=0.05$。\n- 测试2：灵敏度 $P(T_{2}^{+}\\mid D)=0.995$，特异性 $P(T_{2}^{-}\\mid \\bar{D})=0.99$，所以 $P(T_{2}^{+}\\mid \\bar{D})=1-0.99=0.01$。\n\n假设在给定疾病状态的情况下，这两个测试是条件独立的，我们有：\n$$\nP(T_{1}^{+}\\cap T_{2}^{+}\\mid D)=P(T_{1}^{+}\\mid D)P(T_{2}^{+}\\mid D)=0.98\\cdot 0.995,\n$$\n$$\nP(T_{1}^{+}\\cap T_{2}^{+}\\mid \\bar{D})=P(T_{1}^{+}\\mid \\bar{D})P(T_{2}^{+}\\mid \\bar{D})=0.05\\cdot 0.01.\n$$\n\n根据贝叶斯定理，\n$$\nP(D\\mid T_{1}^{+}\\cap T_{2}^{+})\n=\\frac{P(T_{1}^{+}\\cap T_{2}^{+}\\mid D)P(D)}{P(T_{1}^{+}\\cap T_{2}^{+}\\mid D)P(D)+P(T_{1}^{+}\\cap T_{2}^{+}\\mid \\bar{D})P(\\bar{D})}.\n$$\n\n使用精确分数代入数值以简化计算：\n$$\nP(D)=\\frac{1}{200},\\quad P(\\bar{D})=\\frac{199}{200},\\quad 0.98=\\frac{49}{50},\\quad 0.995=\\frac{199}{200},\\quad 0.05=\\frac{1}{20},\\quad 0.01=\\frac{1}{100}.\n$$\n那么\n$$\nP(T_{1}^{+}\\cap T_{2}^{+}\\mid D)P(D)=\\left(\\frac{49}{50}\\cdot \\frac{199}{200}\\right)\\cdot \\frac{1}{200}=\\frac{49\\cdot 199}{50\\cdot 200\\cdot 200}=\\frac{49\\cdot 199}{2{,}000{,}000},\n$$\n$$\nP(T_{1}^{+}\\cap T_{2}^{+}\\mid \\bar{D})P(\\bar{D})=\\left(\\frac{1}{20}\\cdot \\frac{1}{100}\\right)\\cdot \\frac{199}{200}=\\frac{199}{400{,}000}.\n$$\n因此\n$$\nP(D\\mid T_{1}^{+}\\cap T_{2}^{+})\n=\\frac{\\frac{49\\cdot 199}{2{,}000{,}000}}{\\frac{49\\cdot 199}{2{,}000{,}000}+\\frac{199}{400{,}000}}\n=\\frac{49\\cdot 199}{49\\cdot 199+5\\cdot 199}\n=\\frac{49}{49+5}\n=\\frac{49}{54}.\n$$\n\n所以，\n$$\nP(D\\mid T_{1}^{+}\\cap T_{2}^{+})=\\frac{49}{54}\\approx 0.9074\\quad \\text{（保留四位有效数字）}.\n$$", "answer": "$$\\boxed{0.9074}$$", "id": "1351176"}]}