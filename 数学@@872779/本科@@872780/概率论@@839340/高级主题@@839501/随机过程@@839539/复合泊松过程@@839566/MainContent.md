## 引言
在随机世界中，许多现象并非由单一事件决定，而是由一系列在随机时间点发生、带来随机影响的事件累积而成。从保险公司收到的总索赔额，到金融资产价格的突然跳跃，再到物理探测器记录的总能量，这些过程都共享一个共同的结构。一个标准的泊松过程可以告诉我们事件发生了多少次，但它无法描述这些事件的累积效应大小。那么，我们如何建立一个统一的数学模型来精确刻画这类“[随机变量](@entry_id:195330)的随机和”呢？

本文旨在系统性地解答这一问题，全面介绍[复合泊松过程](@entry_id:140283)——概率论中一个优雅而强大的工具。通过本文的学习，读者将能够掌握该过程的核心原理并将其应用于解决实际问题。文章分为三个核心部分：

在第一章 **“原理与机制”** 中，我们将从基本定义出发，深入剖析[复合泊松过程](@entry_id:140283)的数学构造。通过运用[全期望定律](@entry_id:265946)、[全方差定律](@entry_id:184705)以及[矩生成函数](@entry_id:154347)等关键工具，我们将系统地推导出其均值、[方差](@entry_id:200758)和[高阶矩](@entry_id:266936)，揭示其深刻的统计特性。

随后的第二章 **“应用与跨学科联系”** 将理论付诸实践，展示[复合泊松过程](@entry_id:140283)如何在精算科学、金融经济学、工程物理以及生命科学等多个领域中作为核心模型，用于量化风险、定价资产和模拟复杂的动态系统。

最后，在 **“动手实践”** 部分，我们提供了一系列精心设计的练习题，引导读者从计算基本统计量开始，逐步深入到推导完整的[概率分布](@entry_id:146404)，从而将理论知识转化为扎实的分析能力。

现在，让我们从[复合泊松过程](@entry_id:140283)的核心——其定义与基本结构——开始我们的探索之旅。

## 原理与机制

继前一章对[复合泊松过程](@entry_id:140283)的直观介绍之后，本章将深入探讨其数学原理和核心机制。我们将从其基本构成出发，系统地推导其均值、[方差](@entry_id:200758)等关键统计特性，并进一步探索其完整的[分布](@entry_id:182848)特征。通过引入矩生成函数、累积量以及[列维测度](@entry_id:273345)等强大工具，我们将揭示[复合泊松过程](@entry_id:140283)深刻的数学结构，并展示其在金融、保险、物理学等多个领域中的强大建模能力。

### [复合泊松过程](@entry_id:140283)的定义与结构

一个**[复合泊松过程](@entry_id:140283) (compound Poisson process)**，记为 $\{S(t), t \ge 0\}$，是一个[随机过程](@entry_id:159502)，其在时刻 $t$ 的值由一个随机数量的[独立同分布](@entry_id:169067) (i.i.d.) 的[随机变量](@entry_id:195330)之和给出。其数学表达式为：

$$
S(t) = \sum_{i=1}^{N(t)} Y_i
$$

按照惯例，当 $N(t)=0$ 时，该和为[空集](@entry_id:261946)，此时 $S(t)=0$。

这个定义包含了两个核心的随机组成部分：

1.  **[计数过程](@entry_id:260664) (Counting Process)** $\{N(t), t \ge 0\}$：这是一个速率为 $\lambda > 0$ 的标准[齐次泊松过程](@entry_id:263782)。$N(t)$ 代表在时间区间 $[0, t]$ 内发生的“事件”或“跃变”的总次数。我们已经知道，在任意时刻 $t$，$N(t)$ 服从参数为 $\lambda t$ 的[泊松分布](@entry_id:147769)，即 $P(N(t)=k) = \frac{(\lambda t)^k e^{-\lambda t}}{k!}$。其均值和[方差](@entry_id:200758)相等，均为 $E[N(t)] = \text{Var}(N(t)) = \lambda t$。

2.  **跃变大小 (Jump Sizes)** $\{Y_i, i \ge 1\}$：这是一个[独立同分布](@entry_id:169067) (i.i.d.) 的[随机变量](@entry_id:195330)序列，代表第 $i$ 次事件所带来的数值大小（或“跃变”的幅度）。至关重要的是，跃变大小序列 $\{Y_i\}$ 与[计数过程](@entry_id:260664) $\{N(t)\}$ 相互独立。

因此，[复合泊松过程](@entry_id:140283)本质上是一个“[随机变量](@entry_id:195330)的随机和”。它完美地模拟了那些累积效应由一系列离散、随机发生的事件构成的现象。例如，保险公司在一段时间内收到的总索赔额，可以看作是索赔次数（泊松过程）和每次索赔的金额（跃变大小）的复合；或者一个[粒子探测器](@entry_id:273214)在一段时间内记录的总能量，可以看作是粒子撞击次数（泊松过程）和每次撞击释放的能量（跃变大小）的复合 [@problem_id:1290807]。

### 基本矩：均值与[方差](@entry_id:200758)

要理解一个[随机过程](@entry_id:159502)的行为，首要步骤是分析其均值和[方差](@entry_id:200758)。

#### [复合泊松过程的均值](@entry_id:271921)

为了计算 $S(t)$ 的[期望值](@entry_id:153208)，我们不能直接对求和项取期望，因为求和的上限 $N(t)$ 本身就是一个[随机变量](@entry_id:195330)。此时，**[全期望定律](@entry_id:265946) (Law of Total Expectation)** 成为了我们的关键工具。我们通过对[计数过程](@entry_id:260664) $N(t)$ 进行条件化来求解：

$$
E[S(t)] = E[E[S(t) \mid N(t)]]
$$

首先，我们计算给定 $N(t) = n$（即在时间 $t$ 内发生了 $n$ 次事件）时的条件期望。在这种情况下，$S(t)$ 成为一个固定数量的[随机变量](@entry_id:195330)之和：

$$
E[S(t) \mid N(t)=n] = E\left[\sum_{i=1}^{n} Y_i\right] = \sum_{i=1}^{n} E[Y_i]
$$

由于所有跃变大小 $Y_i$ 都是独立同分布的，我们设其共同的均值为 $E[Y_i] = \mu_Y$。于是，[条件期望](@entry_id:159140)简化为：

$$
E[S(t) \mid N(t)=n] = n \mu_Y
$$

这个结果表明，[条件期望](@entry_id:159140) $E[S(t) \mid N(t)]$ 是[随机变量](@entry_id:195330) $N(t)$ 的一个函数，即 $E[S(t) \mid N(t)] = N(t) \mu_Y$。现在，我们对这个结果取关于 $N(t)$ 的期望：

$$
E[S(t)] = E[N(t) \mu_Y] = \mu_Y E[N(t)]
$$

代入泊松过程的均值 $E[N(t)] = \lambda t$，我们得到[复合泊松过程的均值](@entry_id:271921)公式，也称为**瓦尔德等式 (Wald's Identity)**：

$$
E[S(t)] = \lambda t \mu_Y
$$

这个公式的直观解释非常清晰：总累积量的[期望值](@entry_id:153208)等于单位时间的平均事件发生率 ($\lambda$)、时间长度 ($t$) 以及单次事件的平均大小 ($\mu_Y$) 的乘积。

#### [复合泊松过程](@entry_id:140283)的[方差](@entry_id:200758)

计算[方差比](@entry_id:162608)计算均值要复杂，因为它涉及到两个随机性来源：事件数量的随机性和每次事件大小的随机性。**[全方差定律](@entry_id:184705) (Law of Total Variance)**，又称 Eve 定律，是处理这种情况的理想工具 [@problem_id:715611]。该定律指出：

$$
\text{Var}(S(t)) = E[\text{Var}(S(t)\mid N(t))] + \text{Var}(E[S(t)\mid N(t)])
$$

我们来分别计算等式右边的两个部分。

1.  **[条件方差](@entry_id:183803)的期望 $E[\text{Var}(S(t)\mid N(t))]$**：
    首先计算给定 $N(t)=n$ 时的[条件方差](@entry_id:183803)。由于 $Y_i$ 相互独立，和的[方差](@entry_id:200758)等于[方差](@entry_id:200758)的和：
    $$
    \text{Var}(S(t)\mid N(t)=n) = \text{Var}\left(\sum_{i=1}^{n} Y_i\right) = \sum_{i=1}^{n} \text{Var}(Y_i)
    $$
    设单次跃变的[方差](@entry_id:200758)为 $\text{Var}(Y_i) = \sigma_Y^2$，则[条件方差](@entry_id:183803)为 $n \sigma_Y^2$。因此，$\text{Var}(S(t)\mid N(t)) = N(t)\sigma_Y^2$。
    对其取期望，我们得到第一项：
    $$
    E[\text{Var}(S(t)\mid N(t))] = E[N(t)\sigma_Y^2] = \sigma_Y^2 E[N(t)] = \sigma_Y^2 \lambda t
    $$

2.  **[条件期望](@entry_id:159140)的[方差](@entry_id:200758) $\text{Var}(E[S(t)\mid N(t)])$**：
    我们已经知道 $E[S(t)\mid N(t)] = N(t)\mu_Y$。计算其[方差](@entry_id:200758)：
    $$
    \text{Var}(E[S(t)\mid N(t)]) = \text{Var}(N(t)\mu_Y) = \mu_Y^2 \text{Var}(N(t))
    $$
    代入泊松过程的[方差](@entry_id:200758) $\text{Var}(N(t)) = \lambda t$，我们得到第二项：
    $$
    \text{Var}(E[S(t)\mid N(t)]) = \mu_Y^2 \lambda t
    $$

将这两项相加，得到 $S(t)$ 的总[方差](@entry_id:200758)：

$$
\text{Var}(S(t)) = \sigma_Y^2 \lambda t + \mu_Y^2 \lambda t = \lambda t (\sigma_Y^2 + \mu_Y^2)
$$

利用[方差](@entry_id:200758)的定义 $\sigma_Y^2 = E[Y^2] - (E[Y])^2 = E[Y^2] - \mu_Y^2$，我们可以将括号内的项替换为跃变大小的二阶[原点矩](@entry_id:165197) $E[Y^2]$。于是，[方差](@entry_id:200758)公式有了一个极为简洁和优美的形式 [@problem_id:815079]：

$$
\text{Var}(S(t)) = \lambda t E[Y^2]
$$

这个公式揭示了总[方差](@entry_id:200758)与跃变大小的**二阶矩**成正比，而非其[方差](@entry_id:200758)。这个深刻的结果统一了许多看似不同的问题。

#### 应用示例

为了具体理解[方差](@entry_id:200758)公式的应用，我们考虑一个物理学中的情景 [@problem_id:1290807]。假设一个[粒子探测器](@entry_id:273214)记录宇宙射线的撞击，撞击事件构成一个速率为 $\lambda = 15.2$ 次/秒的泊松过程。每次撞击存入的能量是一个[随机变量](@entry_id:195330) $Y$，其均值为 $\mu_Y = 750$ eV，标准差为 $400$ eV。我们需要计算在 $t = 90$ 秒内沉积的总能量 $S(90)$ 的[方差](@entry_id:200758)。

首先，我们计算跃变大小[分布](@entry_id:182848)的二阶[原点矩](@entry_id:165197) $E[Y^2]$：
$$
E[Y^2] = \text{Var}(Y) + (E[Y])^2 = (400 \text{ eV})^2 + (750 \text{ eV})^2 = 160000 + 562500 = 722500 \text{ eV}^2
$$
然后，直接应用[方差](@entry_id:200758)公式：
$$
\text{Var}(S(90)) = \lambda t E[Y^2] = (15.2 \text{ s}^{-1}) \times (90 \text{ s}) \times (722500 \text{ eV}^2) = 1368 \times 722500 \text{ eV}^2 = 988,380,000 \text{ eV}^2
$$
这个例子清晰地展示了如何运用公式解决实际问题。

该公式的强大之处在于它适用于任何跃变大小[分布](@entry_id:182848)，即使是复杂的**[混合分布](@entry_id:276506) (mixed distribution)**。例如，假设一位编辑校对一份手稿，软件标记潜在错误句子的事件构成一个速率为 $\lambda = 15$ 次/小时的泊松过程 [@problem_id:1290787]。每个标记有 $p=0.6$ 的概率对应一个简单的印刷错误（修正次数 $Y=1$），有 $1-p=0.4$ 的概率对应一个复杂的语法问题，其修正次数 $Y$ 在 $\{2, 3, 4, 5\}$ 上[均匀分布](@entry_id:194597)。

为了计算总修正次数的[方差](@entry_id:200758)，我们只需计算[混合分布](@entry_id:276506) $Y$ 的二阶矩 $E[Y^2]$。根据[全期望公式](@entry_id:267929)：
$$
E[Y^2] = p \cdot E[Y^2 | Y=1] + (1-p) \cdot E[Y^2 | Y \sim U\{2,3,4,5\}]
$$
$$
E[Y^2] = 0.6 \cdot (1^2) + 0.4 \cdot \left(\frac{2^2+3^2+4^2+5^2}{4}\right) = 0.6 + 0.4 \cdot (13.5) = 6.0
$$
在 $T=8$ 小时的工作期间，总修正次数的[方差](@entry_id:200758)为：
$$
\text{Var}(S(8)) = \lambda T E[Y^2] = 15 \times 8 \times 6.0 = 720
$$

### 过程的内部结构与相关性

一个自然的问题是：事件发生的次数 $N(t)$ 与累积的总和 $S(t)$ 之间有何关系？它们显然不是独立的，因为更多的事件自然会导致更大的总和（假设跃变均值为正）。我们可以通过计算它们的**协[方差](@entry_id:200758) (covariance)** 来量化这种关系。

$$
\text{Cov}(N(t), S(t)) = E[N(t)S(t)] - E[N(t)]E[S(t)]
$$

我们已经知道 $E[N(t)]=\lambda t$ 和 $E[S(t)]=\lambda t \mu_Y$。关键是计算[交叉](@entry_id:147634)矩 $E[N(t)S(t)]$。同样，我们使用[全期望定律](@entry_id:265946)，以 $N(t)$ 为条件 [@problem_id:715503]：

$$
E[N(t)S(t)] = E[E[N(t)S(t) \mid N(t)]]
$$

在给定 $N(t)=n$ 的条件下，$N(t)$ 是一个常数 $n$，因此可以从内层期望中提出：
$$
E[N(t)S(t) \mid N(t)=n] = E[n \cdot S(t) \mid N(t)=n] = n \cdot E[S(t) \mid N(t)=n] = n \cdot (n \mu_Y) = n^2 \mu_Y
$$
因此，我们有 $E[N(t)S(t) \mid N(t)] = N(t)^2 \mu_Y$。对其取期望：
$$
E[N(t)S(t)] = E[N(t)^2 \mu_Y] = \mu_Y E[N(t)^2]
$$
我们知道泊松分布的二阶矩是 $E[N(t)^2] = \text{Var}(N(t)) + (E[N(t)])^2 = \lambda t + (\lambda t)^2$。代入后得到：
$$
E[N(t)S(t)] = \mu_Y (\lambda t + (\lambda t)^2)
$$
最后，我们将所有项代入协[方差](@entry_id:200758)公式：
$$
\text{Cov}(N(t), S(t)) = \mu_Y (\lambda t + (\lambda t)^2) - (\lambda t)(\lambda t \mu_Y) = \mu_Y \lambda t + \mu_Y (\lambda t)^2 - \mu_Y (\lambda t)^2
$$
$$
\text{Cov}(N(t), S(t)) = \mu_Y \lambda t
$$
这个结果非常简洁且富有启发性。它表明，事件数量和总和之间的协[方差](@entry_id:200758)等于单次跃变的平均大小乘以该时间段内预期的事件总数。如果平均跃变为正，则二者正相关；如果平均跃变为负，则二者负相关。我们还可以将此结果写为 $\text{Cov}(N(t), S(t)) = \mu_Y \text{Var}(N(t))$，这更深刻地揭示了两者之间的关系。

### [分布](@entry_id:182848)的完整刻画：矩生成函数与累积量

均值和[方差](@entry_id:200758)只描述了[分布](@entry_id:182848)的中心趋势和离散程度。要完整地刻画一个[随机过程](@entry_id:159502)的[分布](@entry_id:182848)，我们需要更强大的工具，例如**矩生成函数 (Moment Generating Function, MGF)**。

#### [矩生成函数](@entry_id:154347)

$S(t)$ 的[矩生成函数](@entry_id:154347)定义为 $M_{S(t)}(s) = E[\exp(s S(t))]$。与推导均值和[方差](@entry_id:200758)时一样，我们通过对 $N(t)$ 进行条件化来求解：

$$
M_{S(t)}(s) = E[E[\exp(s S(t)) \mid N(t)]]
$$

给定 $N(t)=n$，我们有 $S(t) = \sum_{i=1}^n Y_i$。由于 $Y_i$ [相互独立](@entry_id:273670)，和的 MGF 是 MGF 的乘积：
$$
E[\exp(s S(t)) \mid N(t)=n] = E\left[\exp\left(s \sum_{i=1}^n Y_i\right)\right] = E\left[\prod_{i=1}^n \exp(s Y_i)\right] = \prod_{i=1}^n E[\exp(s Y_i)]
$$
设单次跃变 $Y$ 的 MGF 为 $M_Y(s)$，则上式变为 $(M_Y(s))^n$。所以，$E[\exp(s S(t)) \mid N(t)] = (M_Y(s))^{N(t)}$。

现在，我们对 $N(t)$ 取期望。由于 $N(t)$ 服从参数为 $\lambda t$ 的泊松分布，我们得到：
$$
M_{S(t)}(s) = E[(M_Y(s))^{N(t)}] = \sum_{n=0}^{\infty} (M_Y(s))^n \frac{(\lambda t)^n e^{-\lambda t}}{n!}
$$
这个求和是[指数函数](@entry_id:161417)泰勒展开的形式 $e^x = \sum \frac{x^n}{n!}$，其中 $x = \lambda t M_Y(s)$。因此：
$$
M_{S(t)}(s) = e^{-\lambda t} \sum_{n=0}^{\infty} \frac{(\lambda t M_Y(s))^n}{n!} = e^{-\lambda t} e^{\lambda t M_Y(s)}
$$
最终，我们得到了[复合泊松过程](@entry_id:140283) MGF 的经典形式 [@problem_id:715457]：
$$
M_{S(t)}(s) = \exp(\lambda t (M_Y(s) - 1))
$$
这个公式优美地将整个过程的 MGF 与其两个基本组成部分——泊松过程的速率 $\lambda$ 和跃变大小的 MGF $M_Y(s)$——联系在一起。

#### [累积量生成函数](@entry_id:748109)与累积量

**[累积量生成函数](@entry_id:748109) (Cumulant Generating Function, CGF)** 定义为 MGF 的对数，$K_{S(t)}(s) = \ln(M_{S(t)}(s))$。对于[复合泊松过程](@entry_id:140283)，其 CGF 形式异常简单：

$$
K_{S(t)}(s) = \lambda t (M_Y(s) - 1)
$$

CGF 的美妙之处在于其[泰勒展开](@entry_id:145057)的系数直接给出了[分布](@entry_id:182848)的**[累积量](@entry_id:152982) (cumulants)** $\kappa_n$。即 $K(s) = \sum_{n=1}^\infty \kappa_n \frac{s^n}{n!}$。[累积量](@entry_id:152982)与[中心矩](@entry_id:270177)密切相关（例如 $\kappa_1$ 是均值，$\kappa_2$ 是[方差](@entry_id:200758)，$\kappa_3$ 是三阶[中心矩](@entry_id:270177)），并且对于[独立随机变量](@entry_id:273896)求和，它们的[累积量](@entry_id:152982)是直接相加的。

将 $M_Y(s)$ 的[泰勒展开](@entry_id:145057)式 $M_Y(s) = 1 + \sum_{n=1}^\infty E[Y^n] \frac{s^n}{n!}$ 代入 CGF 公式：
$$
K_{S(t)}(s) = \lambda t \left(\left(1 + \sum_{n=1}^\infty E[Y^n] \frac{s^n}{n!}\right) - 1\right) = \lambda t \sum_{n=1}^\infty E[Y^n] \frac{s^n}{n!}
$$
通过比较 CGF 的定义式和这个结果，我们可以直接得到一个非常重要的结论 [@problem_id:1349636]：[复合泊松过程](@entry_id:140283) $S(t)$ 的第 $n$ 阶[累积量](@entry_id:152982)为：
$$
\kappa_n(S(t)) = \lambda t E[Y^n]
$$
这个公式是分析[复合泊松过程](@entry_id:140283)高阶性质的基石。例如：
-   均值: $\kappa_1(S(t)) = \lambda t E[Y^1] = \lambda t \mu_Y$
-   [方差](@entry_id:200758): $\kappa_2(S(t)) = \lambda t E[Y^2]$
-   三阶[中心矩](@entry_id:270177): $\kappa_3(S(t)) = \lambda t E[Y^3]$

这些结果与我们之前用全期望/[方差](@entry_id:200758)定律得到的结果完全一致，但这个方法显然更具普适性和扩展性。

#### 应用：[高阶矩](@entry_id:266936)与[偏度](@entry_id:178163)

让我们通过一个保险模型来展示累积量方法的威力 [@problem_id:1349636]。假设索赔事件以速率 $\lambda$ 到达，每次索赔有概率 $p$ 是“重大索赔”，其金额服从参数为 $\mu_M$ 的[指数分布](@entry_id:273894)；有概率 $1-p$ 是“次要索赔”，其金额服从参数为 $\mu_m$ 的指数分布。我们想计算在时间 $T$ 内总索赔额 $S(T)$ 的**偏度 (skewness)**。

[偏度](@entry_id:178163)的定义为 $\gamma_1 = \frac{\kappa_3}{\kappa_2^{3/2}}$。我们只需要计算跃变大小 $X$（一次随机索赔的金额）的二阶和三阶[原点矩](@entry_id:165197)。由于 $X$ 是一个[混合分布](@entry_id:276506)，其矩是各组分矩的加权平均。对于参数为 $\mu$ 的指数分布，其 $n$ 阶矩为 $E[X^n] = n! / \mu^n$。因此：
$$
E[X^2] = p \cdot \frac{2!}{\mu_M^2} + (1-p) \cdot \frac{2!}{\mu_m^2} = 2\left(\frac{p}{\mu_M^2} + \frac{1-p}{\mu_m^2}\right)
$$
$$
E[X^3] = p \cdot \frac{3!}{\mu_M^3} + (1-p) \cdot \frac{3!}{\mu_m^3} = 6\left(\frac{p}{\mu_M^3} + \frac{1-p}{\mu_m^3}\right)
$$
利用累积量公式，我们得到：
$$
\kappa_2(S(T)) = \lambda T E[X^2] = 2\lambda T \left(\frac{p}{\mu_M^2} + \frac{1-p}{\mu_m^2}\right)
$$
$$
\kappa_3(S(T)) = \lambda T E[X^3] = 6\lambda T \left(\frac{p}{\mu_M^3} + \frac{1-p}{\mu_m^3}\right)
$$
于是，偏度为：
$$
\gamma_1(S(T)) = \frac{6\lambda T \left(p\mu_M^{-3} + (1-p)\mu_m^{-3}\right)}{\left(2\lambda T \left(p\mu_M^{-2} + (1-p)\mu_m^{-2}\right)\right)^{3/2}} = \frac{3\left(p\mu_M^{-3} + (1-p)\mu_m^{-3}\right)}{(\sqrt{2\lambda T})\left(p\mu_M^{-2} + (1-p)\mu_m^{-2}\right)^{3/2}}
$$
这个例子充分说明，一旦掌握了累积量公式，即使面对复杂的跃变[分布](@entry_id:182848)，计算[高阶矩](@entry_id:266936)也变得程序化和直接。

### 高级主题与扩展

[复合泊松过程](@entry_id:140283)的框架具有极大的灵活性和可扩展性。本节我们介绍两个高级主题，它们将此过程与更广阔的[随机过程](@entry_id:159502)理论联系起来。

#### 过程分解：标记泊松过程

在许多应用中，我们不仅关心事件的发生，还关心事件的“类型”或“标记”。例如，在金融资产模型中，价格的冲击可能是正向的（上涨）或负向的（下跌）。我们可以通过对每个事件附加一个“标记”来分析不同类型的跃变。

考虑一个金融资产价格变化的模型 $X(t) = \sum_{i=1}^{N(t)} Y_i$，其中冲击 $Y_i$ 服从中心化的[拉普拉斯分布](@entry_id:266437) $f_Y(y) = \frac{1}{2\beta} \exp(-|y|/\beta)$ [@problem_id:1349683]。我们希望将过程分解为所有正向冲击之和 $U(t)$ 与所有负向冲击[绝对值](@entry_id:147688)之和 $D(t)$。

$$
U(t) = \sum_{i=1}^{N(t)} Y_i \mathbf{1}_{\{Y_i > 0\}}, \quad D(t) = \sum_{i=1}^{N(t)} |Y_i| \mathbf{1}_{\{Y_i < 0\}}
$$

这里 $\mathbf{1}_{\{\cdot\}}$ 是[指示函数](@entry_id:186820)。我们可以计算 $U(t)$ 和 $D(t)$ 的[联合矩生成函数](@entry_id:271528) $M(u,v) = E[\exp(uU(t) + vD(t))]$。通过对 $N(t)$ 进行条件化，可以证明一个更[一般性](@entry_id:161765)的 MGF 公式：对于任意函数 $h(y)$，有
$$
E\left[\exp\left(\sum_{i=1}^{N(t)} h(Y_i)\right)\right] = \exp(\lambda t (E[\exp(h(Y))] - 1))
$$
在我们的问题中，我们选择 $h(y) = u y \mathbf{1}_{\{y>0\}} + v|y|\mathbf{1}_{\{y<0\}}$。计算 $E[\exp(h(Y))]$ 需要对 $y>0$ 和 $y<0$ 的情况分别积分，最终可以得到 $U(t)$ 和 $D(t)$ 的联合MGF：
$$
M_{U(t), D(t)}(u, v) = \exp\left(\frac{\lambda t}{2}\left(\frac{1}{1-\beta u} - 1\right)\right) \exp\left(\frac{\lambda t}{2}\left(\frac{1}{1-\beta v} - 1\right)\right)
$$
这个联合 MGF 可以分解为两个独立函数的乘积，这揭示了一个深刻的性质：$U(t)$ 和 $D(t)$ 是两个**[相互独立](@entry_id:273670)的[复合泊松过程](@entry_id:140283)**。其中，$U(t)$ 的到达率为 $\lambda/2$，跃变大小为参数为 $1/\beta$ 的指数分布；$D(t)$ 也具有相同的参数。这源于泊松过程的“分解”性质：如果将到达的事件按一定概率随机分类，每一类事件本身也构成一个速率更低的泊松过程。

#### 跃变测度：通往[列维过程](@entry_id:266171)的桥梁

[复合泊松过程](@entry_id:140283)是更广泛的**[列维过程](@entry_id:266171) (Lévy Processes)** 家族中最简单的非平凡例子。[列维过程](@entry_id:266171)是一类具有**[平稳独立增量](@entry_id:635556)**的[随机过程](@entry_id:159502)，是[随机游走](@entry_id:142620)在连续时间上的推广。

描述[列维过程](@entry_id:266171)的核心工具之一是**[列维测度](@entry_id:273345) (Lévy measure)**，记为 $\nu$。对于任意一个集合 $B$（不包含0），$\nu(B)$ 代表单位时间内，大小属于集合 $B$ 的跃变的期望发生次数。

对于[复合泊松过程](@entry_id:140283)，其[列维测度](@entry_id:273345)的形式非常直观。总的事件[到达率](@entry_id:271803)为 $\lambda$，而一个事件的跃变大小属于集合 $B$ 的概率为 $P(Y \in B)$。由于二者独立，大小在 $B$ 内的跃变的期望发生率就是这两者的乘积 [@problem_id:1310010]：

$$
\nu(B) = \lambda P(Y \in B)
$$

例如，考虑一个网络服务器的[数据流](@entry_id:748201)量模型，数据包到达构成速率为 $\lambda$ 的泊松过程，每个数据包的大小 $Y$ 服从参数为 $\mu$ 的指数分布。我们想计算大小在区间 $(s_1, s_2]$ 内的数据包的期望到达率，这正是[列维测度](@entry_id:273345) $\nu((s_1, s_2])$。
$$
\nu((s_1, s_2]) = \lambda P(s_1 < Y \le s_2) = \lambda \int_{s_1}^{s_2} \mu e^{-\mu y} dy
$$
计算这个积分得到：
$$
\nu((s_1, s_2]) = \lambda \left(e^{-\mu s_1} - e^{-\mu s_2}\right)
$$
[列维测度](@entry_id:273345)的概念为我们提供了一个统一的视角来描述过程的“跃变”部分。对于更一般的[列维过程](@entry_id:266171)（例如[方差](@entry_id:200758)伽马过程或正态逆[高斯过程](@entry_id:182192)），它们可能包含无穷多次微小的跃变，其[列维测度](@entry_id:273345)会变得更加复杂。但对于[复合泊松过程](@entry_id:140283)，其跃变是离散且频率有限的，因此其[列维测度](@entry_id:273345)具有这样简单明了的形式，使其成为理解更复杂[随机过程](@entry_id:159502)的理想起点。