{"hands_on_practices": [{"introduction": "要掌握非齐次泊松过程，一个基础的起点是计算在给定时间段内事件的期望数量。这个练习将带你进入一个真实世界的商业场景——手机游戏的收益预测。通过将玩家注册建模为一个强度函数随时间增长的非齐次泊松过程，并结合“稀疏化”的概念来处理玩家的购买行为，你将学会如何运用积分来计算总期望收益。这个练习不仅能巩固你对期望值计算的理解，还能让你看到泊松过程在商业分析中的实际应用价值。 [@problem_id:1321729]", "problem": "一款新的手机游戏上线后，其受欢迎程度迅速增长。观察到新玩家注册的速率随时间增加。该过程可以用一个非齐次泊松过程来建模，其中在时间 $t$（自上线以来的小时数）时新注册的速率由 $\\lambda(t) = a t^2$ 给出，其中 $a$ 是一个正常数。\n\n根据市场数据，已知任何给定的新玩家在注册时会以一个恒定的概率 $p$ 进行即时应用内购买。每次此类购买的价值可以视为一个常数，$R$ 美元。\n\n假设每个玩家的购买决策是独立的，求游戏上线后前 $T$ 小时内，由这些即时应用内购买产生的总期望收益的表达式。用参数 $a, p, R,$ 和 $T$ 来表示你的答案。", "solution": "在时间区间 $\\left[0,T\\right]$ 内的注册人数可以用一个瞬时速率为 $\\lambda(t)=a t^{2}$ 的非齐次泊松过程来建模。到时间 $T$ 为止的累积速率（均值测度）是\n$$\n\\Lambda(T)=\\int_{0}^{T}\\lambda(t)\\,dt=\\int_{0}^{T}a t^{2}\\,dt=\\frac{a T^{3}}{3}.\n$$\n对于一个非齐次泊松过程，到时间 $T$ 为止的期望到达数是 $E[N(T)]=\\Lambda(T)$。\n\n每次到达都以概率 $p$ 独立地导致一次即时购买。根据稀疏性质，进行购买的到达构成一个速率为 $p\\,\\lambda(t)=p a t^{2}$ 的非齐次泊松过程。因此，到时间 $T$ 为止的购买玩家的期望数量是\n$$\nE[N_{p}(T)]=\\int_{0}^{T}p a t^{2}\\,dt=p\\,\\Lambda(T)=\\frac{p a T^{3}}{3}.\n$$\n每个购买玩家产生收益 $R$，因此在 $\\left[0,T\\right]$ 内的总收益是 $R\\,N_{p}(T)$。利用期望的线性性，\n$$\nE[\\text{Revenue in }[0,T]] = R\\,E[N_{p}(T)] = R\\,\\frac{p a T^{3}}{3}.\n$$\n因此，前 $T$ 小时内由即时应用内购买产生的总期望收益是 $\\frac{a p R T^{3}}{3}$。", "answer": "$$\\boxed{\\frac{a p R T^{3}}{3}}$$", "id": "1321729"}, {"introduction": "在研究泊松过程时，我们既可以关注在某个时间点之前发生了多少事件（计数过程 $N(t)$），也可以关注第 $k$ 个事件在何时发生（到达时间 $S_k$）。这两个视角是紧密相连的。这个关于流星雨观测的问题巧妙地揭示了它们之间的关系：要计算第三颗流星在特定时间 $T$ 之后才被探测到的概率，等价于计算在时间 $T$ 为止，探测到的流星数量小于等于2的概率。通过解决这个问题，你将深化对计数过程和到达时间之间对偶关系的理解，这是掌握随机过程的关键一步。 [@problem_id:1377398]", "problem": "一个天文台正在监测一场流星雨。流星的探测被建模为一个时间点过程。由于流星雨的动态特性，流星探测的瞬时率 $\\lambda(t)$ 不是恒定的，而是随时间线性增加。该过程从 $t=0$ 开始，其率函数为 $\\lambda(t) = ct$（$t \\ge 0$），其中 $t$ 的单位是小时，$c$ 是一个正常数，单位是（颗流星/小时²）。\n\n天文台的软件被设计为在探测到第三颗流星时立即自动触发高分辨率成像序列。另有一项对遥远星系的关键观测计划在从 $t=0$ 到 $t=T$ 的时间段内进行。关键在于流星成像序列不能中断这项主要观测。\n\n计算第三颗流星在时间 $T$ 之后才被探测到的概率，从而避免任何冲突。你的答案应该是一个用参数 $c$ 和 $T$ 表示的符号表达式。", "solution": "我们将流星探测建模为一个非齐次泊松过程，其瞬时率（强度）为 $\\lambda(t)=c t$（$t \\ge 0$），其中 $c0$。相应的累积（平均）率函数定义为\n$$\n\\Lambda(t) = \\int_{0}^{t} \\lambda(s)\\, ds = \\int_{0}^{t} c s \\, ds = \\frac{c}{2} t^{2}.\n$$\n强度为 $\\lambda(t)$、累积率为 $\\Lambda(t)$ 的非齐次泊松过程的一个基本性质是，其计数变量 $N(t)$ 服从均值为 $\\Lambda(t)$ 的泊松分布：\n$$\n\\mathbb{P}\\big(N(t)=n\\big) = \\exp\\!\\big(-\\Lambda(t)\\big)\\, \\frac{\\Lambda(t)^{n}}{n!}, \\quad n=0,1,2,\\dots\n$$\n令 $S_{3}$ 表示第三颗流星的探测时间。事件 $\\{S_{3}  T\\}$ 发生当且仅当在时间 $T$ 为止最多观测到两颗流星，即\n$$\n\\{S_{3}  T\\} \\equiv \\{N(T) \\le 2\\}.\n$$\n因此，\n$$\n\\mathbb{P}(S_{3}  T) = \\sum_{n=0}^{2} \\mathbb{P}\\big(N(T)=n\\big) = \\sum_{n=0}^{2} \\exp\\!\\big(-\\Lambda(T)\\big)\\, \\frac{\\Lambda(T)^{n}}{n!}.\n$$\n代入 $\\Lambda(T)=\\frac{c}{2}T^{2}$ 可得\n$$\n\\mathbb{P}(S_{3}  T) = \\exp\\!\\left(-\\frac{c}{2} T^{2}\\right)\\, \\sum_{n=0}^{2} \\frac{\\left(\\frac{c}{2} T^{2}\\right)^{n}}{n!}.\n$$\n等价地，展开这个有限和，\n$$\n\\mathbb{P}(S_{3}  T) = \\exp\\!\\left(-\\frac{c}{2} T^{2}\\right)\\left[1 + \\frac{c}{2} T^{2} + \\frac{1}{2}\\left(\\frac{c}{2} T^{2}\\right)^{2}\\right].\n$$\n这就是所求的第三颗流星在时间 $T$ 之后才被探测到的概率。", "answer": "$$\\boxed{\\exp\\!\\left(-\\frac{c}{2} T^{2}\\right)\\,\\sum_{n=0}^{2} \\frac{\\left(\\frac{c}{2} T^{2}\\right)^{n}}{n!}}$$", "id": "1377398"}, {"introduction": "非齐次泊松过程的一个迷人之处在于其条件性质。如果我们已经知道在某个时间段内发生了特定数量的事件，那么这些事件发生的时间点遵循什么样的分布？这个问题探讨了在一个已知发生且仅发生一次呼叫的工作日里，这次呼叫的期望发生时间。解决此问题的关键在于理解，在 $N(T)=1$ 的条件下，事件发生时间的概率密度函数与原始的强度函数 $\\lambda(t)$ 成正比。这个练习将引导你超越简单的计数，深入探索非齐次泊松过程的动态时间特性。 [@problem_id:1377415]", "problem": "一个技术支持中心在其8小时工作日内接到来电的速率可以建模为一个非齐次泊松过程。工作日从时间 $t=0$ (上午9:00) 到 $t=8$ (下午5:00)。随时间变化的呼叫率 $\\lambda(t)$（单位：呼叫/小时）由以下函数给出：\n$$ \\lambda(t) = C t (8-t)^2 $$\n其中 $t$ 在区间 $[0, 8]$ 内，而 $C$ 是一个正常数，其值取决于给定日期的总呼叫量。\n\n在某一天，记录到在整个8小时工作日内只接到了一个电话。根据此信息，计算接到这个唯一电话的期望时间。\n\n以开门时间（上午9:00）之后的小时数表示您的答案。将您的最终答案四舍五入到三位有效数字。", "solution": "对于一个在 $[0,T]$ 上速率为 $\\lambda(t)$ 的非齐次泊松过程，若已知在 $[0,T]$ 内恰好发生一个事件，则该事件发生的时间的密度函数为 $f(t)=\\lambda(t)/\\Lambda(T)$，$0\\leq t\\leq T$，其中 $\\Lambda(T)=\\int_{0}^{T}\\lambda(s)\\,ds$。因此，当 $T=8$ 时，\n$$\n\\mathbb{E}[t \\mid N(8)=1]=\\frac{\\int_{0}^{8} t\\,\\lambda(t)\\,dt}{\\int_{0}^{8} \\lambda(t)\\,dt}.\n$$\n给定 $\\lambda(t)=C\\,t\\,(8-t)^{2}$，计算分母：\n$$\n\\int_{0}^{8} \\lambda(t)\\,dt=\\int_{0}^{8} C\\,t\\,(8-t)^{2}\\,dt\n= C \\int_{0}^{8} \\left(64 t - 16 t^{2} + t^{3}\\right) dt\n= C \\left[32 t^{2} - \\frac{16}{3} t^{3} + \\frac{1}{4} t^{4}\\right]_{0}^{8}.\n$$\n在 $t=8$ 处求值得\n$$\n\\int_{0}^{8} \\lambda(t)\\,dt\n= C \\left(32\\cdot 64 - \\frac{16}{3}\\cdot 512 + \\frac{1}{4}\\cdot 4096\\right)\n= C \\left(2048 - \\frac{8192}{3} + 1024\\right)\n= C \\left(3072 - \\frac{8192}{3}\\right)\n= C \\cdot \\frac{1024}{3}.\n$$\n计算分子：\n$$\n\\int_{0}^{8} t\\,\\lambda(t)\\,dt=\\int_{0}^{8} C\\,t^{2}\\,(8-t)^{2}\\,dt\n= C \\int_{0}^{8} \\left(64 t^{2} - 16 t^{3} + t^{4}\\right) dt\n= C \\left[\\frac{64}{3} t^{3} - 4 t^{4} + \\frac{1}{5} t^{5}\\right]_{0}^{8}.\n$$\n在 $t=8$ 处求值得\n$$\n\\int_{0}^{8} t\\,\\lambda(t)\\,dt\n= C \\left(\\frac{64}{3}\\cdot 512 - 4\\cdot 4096 + \\frac{1}{5}\\cdot 32768\\right)\n= C \\left(\\frac{32768}{3} - 16384 + \\frac{32768}{5}\\right)\n= C \\cdot \\frac{16384}{15}.\n$$\n因此，\n$$\n\\mathbb{E}[t \\mid N(8)=1]\n= \\frac{C \\cdot \\frac{16384}{15}}{C \\cdot \\frac{1024}{3}}\n= \\frac{16384}{15}\\cdot \\frac{3}{1024}\n= \\frac{48}{15}\n= \\frac{16}{5}\n= 3.2 \\text{ 小时}.\n$$\n四舍五入到三位有效数字，得到开门后 $3.20$ 小时。", "answer": "$$\\boxed{3.20}$$", "id": "1377415"}]}