{"hands_on_practices": [{"introduction": "分析任何由马尔可夫模型描述的动态系统的第一步，是正确地构建其数学描述。这个练习将带你实践如何将一组描述状态转移的规则（即转移速率）转化为连续时间马尔可夫链的基本数学对象：生成元矩阵 $Q$。这个矩阵 [@problem_id:1352656] 包含了过程的所有动态信息，是后续进行任何深入分析的基础。", "problem": "描述受感染机器上计算机病毒生命周期的简化模型是一个连续时间马尔可夫链。病毒可以处于以下三种状态之一：休眠（状态1）、复制（状态2）或被检测（状态3）。\n\n状态之间的转换由以下速率决定：\n- 休眠病毒以每天 $\\lambda$ 的恒定速率变为活动状态并开始复制。\n- 复制中的病毒可能以每天 $\\mu$ 的恒定速率再次变为休眠状态，以逃避简单的检测机制。\n- 活动的防病毒扫描程序以每天 $\\sigma_R$ 的恒定速率发现并标记复制中的病毒。\n- 扫描程序也可以发现休眠病毒，但速率较低，为每天 $\\sigma_D$ 的恒定速率。\n- 一旦病毒处于“被检测”状态，它将被隔离且无法改变其状态。\n\n你的任务是为此连续时间马尔可夫链构建生成元矩阵，记为 $Q$。状态应按（1：休眠，2：复制，3：被检测）的顺序排列。将矩阵 $Q$ 作为你的最终答案。", "solution": "我们将病毒的生命周期建模为一个连续时间马尔可夫链，其状态按以下顺序排列：1为休眠，2为复制，3为被检测。对于连续时间马尔可夫链的生成元矩阵 $Q=\\{q_{ij}\\}$，非对角线元素 $q_{ij}$（当 $i\\neq j$ 时）是从状态 $i$ 到状态 $j$ 的转移速率，而对角线元素满足 $q_{ii}=-\\sum_{j\\neq i}q_{ij}$，因此每行的和为零。\n\n根据问题描述，非零的转移速率如下：\n- 从休眠（1）到复制（2）：速率为 $\\lambda$，因此 $q_{12}=\\lambda$。\n- 从休眠（1）到被检测（3）：速率为 $\\sigma_{D}$，因此 $q_{13}=\\sigma_{D}$。\n- 从复制（2）到休眠（1）：速率为 $\\mu$，因此 $q_{21}=\\mu$。\n- 从复制（2）到被检测（3）：速率为 $\\sigma_{R}$，因此 $q_{23}=\\sigma_{R}$。\n- 被检测（3）是吸收态，因此没有从状态3出去的转移，这意味着 $q_{31}=0$ 和 $q_{32}=0$。\n\n对每个状态使用 $q_{ii}=-\\sum_{j\\neq i}q_{ij}$：\n- 对于状态1：$q_{11}=-(\\lambda+\\sigma_{D})$。\n- 对于状态2：$q_{22}=-(\\mu+\\sigma_{R})$。\n- 对于状态3：$q_{33}=0$。\n\n因此，按指定状态顺序排列的生成元矩阵 $Q$ 是\n$$\nQ=\\begin{pmatrix}\n-(\\lambda+\\sigma_{D})  \\lambda  \\sigma_{D} \\\\\n\\mu  -(\\mu+\\sigma_{R})  \\sigma_{R} \\\\\n0  0  0\n\\end{pmatrix}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix}\n-(\\lambda+\\sigma_{D})  \\lambda  \\sigma_{D} \\\\\n\\mu  -(\\mu+\\sigma_{R})  \\sigma_{R} \\\\\n0  0  0\n\\end{pmatrix}}$$", "id": "1352656"}, {"introduction": "建立模型后，一个常见且重要的问题是关于其长期行为。这个练习 [@problem_id:1352653] 演示了如何计算稳态分布，它描述了系统在长时间运行后，处于每个状态的时间比例。这个概念对于许多现实世界系统（如服务器、通信网络）的性能分析和资源分配至关重要。", "problem": "考虑一个简化的单计算机服务器模型，该服务器可处于两种状态之一：“活动”（Active）或“空闲”（Idle）。\n\n当服务器处于“活动”状态时，它正在处理一项任务。\n\n在完成任务并转换到“空闲”状态之前，服务器保持“活动”状态的时间是一个速率为 $\\lambda$ 的指数随机变量。\n\n当服务器处于“空闲”状态时，它在等待一个新任务。\n\n在新任务到达，使其转换到“活动”状态之前，服务器保持“空闲”状态的时间是一个速率为 $\\mu$ 的指数随机变量。\n\n假设服务器已运行了很长时间，确定其处于“活动”状态的时间比例。请用关于 $\\lambda$ 和 $\\mu$ 的符号表达式来表示你的答案。", "solution": "将服务器建模为一个双态连续时间马尔可夫链，其状态为“活动”（A）和“空闲”（I）。转移速率为 $q_{A \\to I}=\\lambda$ 和 $q_{I \\to A}=\\mu$。设 $\\pi_{A}$ 和 $\\pi_{I}$ 分别表示长期中处于“活动”和“空闲”状态的时间比例。\n\n在稳态下，全局平衡方程要求流出每个状态的平均速率等于流入该状态的平均速率。对于此双态链，方程可简化为\n$$\n\\pi_{A}\\lambda=\\pi_{I}\\mu,\n$$\n再结合归一化条件\n$$\n\\pi_{A}+\\pi_{I}=1.\n$$\n由归一化条件可得 $\\pi_{I}=1-\\pi_{A}$。将其代入平衡方程可得\n$$\n\\pi_{A}\\lambda=(1-\\pi_{A})\\mu \\;\\;\\Rightarrow\\;\\; \\pi_{A}\\lambda=\\mu-\\pi_{A}\\mu \\;\\;\\Rightarrow\\;\\; \\pi_{A}(\\lambda+\\mu)=\\mu,\n$$\n因此\n$$\n\\pi_{A}=\\frac{\\mu}{\\lambda+\\mu}.\n$$\n因此，从长远来看，服务器处于“活动”状态的时间比例为 $\\frac{\\mu}{\\lambda+\\mu}$。\n\n等价地，根据更新理论，平均“活动”时长为 $\\frac{1}{\\lambda}$，平均“空闲”时长为 $\\frac{1}{\\mu}$，因此长期的“活动”时间比例为\n$$\n\\frac{\\frac{1}{\\lambda}}{\\frac{1}{\\lambda}+\\frac{1}{\\mu}}=\\frac{\\mu}{\\lambda+\\mu},\n$$\n这与马尔可夫链的结果相符。", "answer": "$$\\boxed{\\frac{\\mu}{\\lambda+\\mu}}$$", "id": "1352653"}, {"introduction": "与关注无限时间范围的稳态分析不同，我们经常需要理解系统在有限时间内的演化过程。这个练习 [@problem_id:722232] 通过求解柯尔莫哥洛夫向前方程来计算瞬态概率，解决了这个问题。掌握这种方法可以让我们从一个已知的初始状态出发，获得系统在任意时刻 $t$ 的状态概率的完整动态图像。", "problem": "考虑一个可以存在于两个状态之一的系统，标记为 $S = \\{1, 2\\}$。该系统的状态随时间演变，形成一个连续时间马尔可夫链 (CTMC)。从状态 1 到状态 2 的转移以常数速率 $\\alpha > 0$ 发生，从状态 2 到状态 1 的转移以常数速率 $\\beta > 0$ 发生。\n\n转移概率 $P_{ij}(t) = \\mathbb{P}(X(t)=j | X(0)=i)$ 的动态由柯尔莫哥洛夫前向方程描述。以矩阵形式，这由 $\\frac{d}{dt} P(t) = P(t)Q$ 给出，其中 $P(t)$ 是转移概率矩阵 $[P_{ij}(t)]$，$Q$ 是生成元矩阵。生成元矩阵 $Q$ 的元素 $q_{ij}$ (对于 $i \\neq j$) 等于从状态 $i$ 到状态 $j$ 的转移速率，对角元素 $q_{ii} = -\\sum_{j \\neq i} q_{ij}$。\n\n给定系统在时间 $t=0$ 时处于状态 1，推导系统在时间 $t > 0$ 时处于状态 2 的概率的显式闭式表达式。该概率记为 $P_{12}(t)$。", "solution": "我们将转移概率矩阵记为 $P(t)=\\bigl[P_{ij}(t)\\bigr]_{i,j=1}^2$，生成元矩阵记为\n$$\nQ=\\begin{pmatrix}-\\alpha  \\alpha \\\\ \\beta  -\\beta\\end{pmatrix}\n$$\n柯尔莫哥洛夫前向方程为\n$$\n\\frac{d}{dt}P(t)=P(t)\\,Q.\n$$\n关注于项 $P_{12}(t)$，我们有\n$$\n\\frac{d}{dt}P_{12}(t)\n= P_{11}(t)\\,q_{1,2}+P_{12}(t)\\,q_{2,2}\n= \\alpha\\,P_{11}(t)-\\beta\\,P_{12}(t).\n$$\n因为对于每个固定的 $t$，$P_{11}(t)+P_{12}(t)=1$，我们设 $P_{11}(t)=1-P_{12}(t)$。因此\n$$\n\\frac{d}{dt}P_{12}(t)\n= \\alpha\\bigl(1-P_{12}(t)\\bigr)-\\beta\\,P_{12}(t)\n= \\alpha-(\\alpha+\\beta)\\,P_{12}(t).\n$$\n这是一个线性常微分方程，\n$$\n\\frac{d}{dt}P_{12}+( \\alpha+\\beta)\\,P_{12}=\\alpha,\n$$\n初始条件为 $P_{12}(0)=0$。积分因子是 $e^{(\\alpha+\\beta)t}$，得到\n$$\n\\frac{d}{dt}\\Bigl(e^{(\\alpha+\\beta)t}P_{12}\\Bigr)\n=\\alpha\\,e^{(\\alpha+\\beta)t}.\n$$\n从 $0$ 到 $t$ 积分，得出\n$$\ne^{(\\alpha+\\beta)t}P_{12}(t)\n=\\frac{\\alpha}{\\alpha+\\beta}\\,e^{(\\alpha+\\beta)t}\n-\\frac{\\alpha}{\\alpha+\\beta},\n$$\n所以\n$$\nP_{12}(t)\n=\\frac{\\alpha}{\\alpha+\\beta}\\Bigl(1-e^{-(\\alpha+\\beta)t}\\Bigr).\n$$", "answer": "$$\\boxed{\\frac{\\alpha}{\\alpha+\\beta}\\bigl(1-e^{-(\\alpha+\\beta)t}\\bigr)}$$", "id": "722232"}]}