{"hands_on_practices": [{"introduction": "本练习旨在巩固对基本更新方程的理解，并展示如何在一个基础情形下求解它。我们将探讨当事件间的时间间隔服从指数分布时的特殊情况，这是一个在许多现实世界模型中（如放射性衰变）都存在的场景。通过解决这个问题 [@problem_id:1406033]，你将练习使用拉普拉斯变换这一强大工具来处理积分方程，并揭示更新过程与我们熟知的泊松过程之间的深刻联系。", "problem": "考虑一个粒子探测器，其设计用于记录从放射源发射的α粒子的到达。该发射过程可以建模为一个更新过程。连续粒子到达之间的时间，称为到达间隔时间，是独立同分布的随机变量。这些到达间隔时间服从速率参数为 $\\lambda  0$ 的指数分布。\n\n令 $N(t)$ 为时间间隔 $[0, t]$ 内探测到的粒子数。更新函数，记作 $M(t)$，定义为 $N(t)$ 的期望值，即 $M(t) = E[N(t)]$。\n\n您的任务是确定此过程的更新函数 $M(t)$ 的显式函数形式。请用 $t$ 和 $\\lambda$ 表示您的答案。", "solution": "该问题要求解一个更新过程的更新函数 $M(t)$，其中到达间隔时间服从速率为 $\\lambda$ 的指数分布。\n\n更新函数 $M(t)$ 的一般积分方程由下式给出：\n$$M(t) = F(t) + \\int_{0}^{t} M(t-x) f(x) \\, dx$$\n其中 $f(x)$ 是到达间隔时间的概率密度函数 (PDF)，而 $F(t) = \\int_{0}^{t} f(u) \\, du$ 是相应的累积分布函数 (CDF)。\n\n对于速率为 $\\lambda$ 的指数分布，到达间隔时间 $X$ 的 PDF 为：\n$$f(x) = \\lambda \\exp(-\\lambda x), \\quad \\text{for } x \\ge 0$$\n通过对 PDF 积分可得到 CDF：\n$$F(t) = \\int_{0}^{t} \\lambda \\exp(-\\lambda x) \\, dx = [-\\exp(-\\lambda x)]_{0}^{t} = -\\exp(-\\lambda t) - (-\\exp(0)) = 1 - \\exp(-\\lambda t)$$\n\n将 $f(x)$ 和 $F(t)$ 的表达式代入更新方程，得到：\n$$M(t) = (1 - \\exp(-\\lambda t)) + \\int_{0}^{t} M(t-x) (\\lambda \\exp(-\\lambda x)) \\, dx$$\n右侧的积分是函数 $M(t)$ 和 $f(t)$ 的卷积，记作 $(M * f)(t)$。因此，该方程可以写成：\n$$M(t) = 1 - \\exp(-\\lambda t) + (M * f)(t)$$\n这类积分方程通常使用拉普拉斯变换求解。令 $\\tilde{M}(s) = \\mathcal{L}\\{M(t)\\}$ 和 $\\tilde{f}(s) = \\mathcal{L}\\{f(t)\\}$。使用卷积定理，即 $\\mathcal{L}\\{(g*h)(t)\\} = \\tilde{g}(s)\\tilde{h}(s)$，我们可以对更新方程进行变换。\n\n首先，我们求出方程中每一项的拉普拉斯变换。\n$f(t)=\\lambda \\exp(-\\lambda t)$ 的拉普拉斯变换是：\n$$\\tilde{f}(s) = \\mathcal{L}\\{\\lambda \\exp(-\\lambda t)\\} = \\lambda \\mathcal{L}\\{\\exp(-\\lambda t)\\} = \\frac{\\lambda}{s+\\lambda}$$\n项 $1 - \\exp(-\\lambda t)$ 的拉普拉斯变换是：\n$$\\mathcal{L}\\{1 - \\exp(-\\lambda t)\\} = \\mathcal{L}\\{1\\} - \\mathcal{L}\\{\\exp(-\\lambda t)\\} = \\frac{1}{s} - \\frac{1}{s+\\lambda} = \\frac{s+\\lambda - s}{s(s+\\lambda)} = \\frac{\\lambda}{s(s+\\lambda)}$$\n现在，对整个更新方程进行拉普拉斯变换：\n$$\\mathcal{L}\\{M(t)\\} = \\mathcal{L}\\{1 - \\exp(-\\lambda t)\\} + \\mathcal{L}\\{(M*f)(t)\\}$$\n$$\\tilde{M}(s) = \\frac{\\lambda}{s(s+\\lambda)} + \\tilde{M}(s) \\tilde{f}(s)$$\n代入 $\\tilde{f}(s)$ 的表达式：\n$$\\tilde{M}(s) = \\frac{\\lambda}{s(s+\\lambda)} + \\tilde{M}(s) \\frac{\\lambda}{s+\\lambda}$$\n现在，我们求解 $\\tilde{M}(s)$：\n$$\\tilde{M}(s) - \\tilde{M}(s) \\frac{\\lambda}{s+\\lambda} = \\frac{\\lambda}{s(s+\\lambda)}$$\n$$\\tilde{M}(s) \\left(1 - \\frac{\\lambda}{s+\\lambda}\\right) = \\frac{\\lambda}{s(s+\\lambda)}$$\n$$\\tilde{M}(s) \\left(\\frac{s+\\lambda - \\lambda}{s+\\lambda}\\right) = \\frac{\\lambda}{s(s+\\lambda)}$$\n$$\\tilde{M}(s) \\left(\\frac{s}{s+\\lambda}\\right) = \\frac{\\lambda}{s(s+\\lambda)}$$\n$$\\tilde{M}(s) = \\frac{\\lambda}{s(s+\\lambda)} \\cdot \\frac{s+\\lambda}{s}$$\n$$\\tilde{M}(s) = \\frac{\\lambda}{s^2}$$\n最后，为了求出 $M(t)$，我们对 $\\tilde{M}(s)$ 进行拉普拉斯逆变换：\n$$M(t) = \\mathcal{L}^{-1}\\left\\{\\frac{\\lambda}{s^2}\\right\\} = \\lambda \\mathcal{L}^{-1}\\left\\{\\frac{1}{s^2}\\right\\}$$\n使用标准的拉普拉斯逆变换对 $\\mathcal{L}^{-1}\\left\\{\\frac{1}{s^{n+1}}\\right\\} = \\frac{t^n}{n!}$，当 $n=1$ 时，我们有 $\\mathcal{L}^{-1}\\left\\{\\frac{1}{s^2}\\right\\} = t$。\n因此，更新函数是：\n$$M(t) = \\lambda t$$\n这个结果与到达间隔时间呈指数分布的更新过程是泊松过程这一事实相符。对于速率为 $\\lambda$ 的泊松过程，在长度为 $t$ 的时间间隔内，事件的期望次数为 $\\lambda t$。", "answer": "$$\\boxed{\\lambda t}$$", "id": "1406033"}, {"introduction": "在掌握了基本形式后，我们来挑战一个更贴近实际应用的建模问题。本练习 [@problem_id:1406021] 描述了一个设备在“运行”和“维修”两种状态间交替的常见工程场景。解决此题的关键在于，你需要首先识别出什么事件标志着一个完整“更新”周期的完成，进而确定两次更新之间的时长分布，最终建立正确的更新方程，这对于培养将现实问题抽象为数学模型的能力至关重要。", "problem": "一台特定的工业设备遵循一个运行和维修的重复周期。在时间 $t=0$ 时，安装了一台全新的设备。它运行一段随机时长 $X_1$后发生故障。一旦发生故障，维修过程立即开始，该过程需要一段随机时长 $Y_1$。维修完成后，设备被视为“完好如新”，然后周期重复。\n\n设相继的运行时间为 $X_1, X_2, X_3, \\dots$，相继的维修时间为 $Y_1, Y_2, Y_3, \\dots$。对于 $i=1, 2, \\dots$，随机变量对 $(X_i, Y_i)$ 是独立同分布 (i.i.d.) 的。在每一对中，运行时间 $X_i$ 和维修时间 $Y_i$ 也是独立的。\n\n设 $F_X(t)$ 和 $f_X(t)$ 分别为运行时间 $X_i$ 的共同累积分布函数 (CDF) 和概率密度函数 (PDF)。类似地，设 $F_Y(t)$ 和 $f_Y(t)$ 为维修时间 $Y_i$ 的共同CDF和PDF。\n\n定义一个完整周期时间为 $Z_i = X_i + Y_i$。设 $F_Z(t)$ 和 $f_Z(t)$ 为 $Z_i$ 的CDF和PDF。设 $M(t)$ 为到时间 $t$ 为止已完成维修的期望次数。\n\n下列哪个积分方程（称为更新方程）正确地描述了 $M(t)$？\n\nA. $M(t) = F_Z(t) + \\int_0^t M(t-x) f_Z(x) dx$\n\nB. $M(t) = F_X(t) + \\int_0^t M(t-x) f_X(x) dx$\n\nC. $M(t) = F_Z(t) + \\int_0^t M(x) f_Z(x) dx$\n\nD. $M(t) = 1 + \\int_0^t M(t-x) f_Z(x) dx$\n\nE. $M(t) = F_Y(t) + \\int_0^t M(t-x) f_Y(x) dx$", "solution": "为了推导 $M(t)$（到时间 $t$ 为止已完成维修的期望次数）的更新方程，我们将使用更新理论中的一个常用技巧：以首次更新事件发生的时间为条件。\n\n在此背景下，“更新”指的是一次维修的完成，它标志着一个完整周期的结束和设备恢复到“完好如新”的状态。首次更新的时间是第一个完整周期的时长，即 $Z_1 = X_1 + Y_1$。\n\n设 $N(t)$ 是表示到时间 $t$ 为止已完成维修次数的随机变量。根据定义，$M(t) = E[N(t)]$。我们可以通过对 $Z_1$ 的值取条件来找到 $M(t)$ 的表达式。使用全期望定律，我们有：\n$$M(t) = E[N(t)] = E[E[N(t) | Z_1]]$$\n为了计算内部的期望，我们考虑 $Z_1$ 的可能取值。设 $Z_1 = z$。\n有两种情况：\n1.  如果 $z  t$，则第一次维修在时间 $t$ 之前未完成。在这种情况下，已完成的维修次数为 $N(t) = 0$。\n2.  如果 $z \\le t$，则第一次维修在时间 $z$ 完成。此时，恰好发生了一次维修，并且过程有效地从零开始重新启动，剩余时间为 $t-z$。根据定义，在剩余时间内的*额外*维修的期望次数是 $M(t-z)$。因此，在给定 $Z_1=z$ 的条件下，总的期望维修次数是 $1 + M(t-z)$。\n\n我们可以使用一个指示函数 $I(z \\le t)$ 来合并这两种情况：\n$$E[N(t) | Z_1 = z] = (1 + M(t-z)) \\cdot I(z \\le t)$$\n现在，我们可以通过将这个条件期望对 $z$ 的所有可能值进行积分来求得无条件期望 $M(t)$，并以 $Z_1$ 的概率密度函数 $f_Z(z)$ 作为权重。\n$$M(t) = \\int_{0}^{\\infty} E[N(t) | Z_1 = z] f_Z(z) dz$$\n代入我们的条件期望表达式：\n$$M(t) = \\int_{0}^{\\infty} (1 + M(t-z)) \\cdot I(z \\le t) f_Z(z) dz$$\n指示函数 $I(z \\le t)$ 意味着被积函数仅在 $z \\in [0, t]$ 时非零。因此，我们可以将积分上限更改为 $t$：\n$$M(t) = \\int_{0}^{t} (1 + M(t-z)) f_Z(z) dz$$\n我们可以将这个积分分成两部分：\n$$M(t) = \\int_{0}^{t} 1 \\cdot f_Z(z) dz + \\int_{0}^{t} M(t-z) f_Z(z) dz$$\n第一项是 $Z_1$ 的PDF从 $0$ 到 $t$ 的积分。根据定义，这是 $Z_1$ 的累积分布函数 (CDF) 在 $t$ 处的值：\n$$\\int_{0}^{t} f_Z(z) dz = F_Z(t)$$\n将此代回我们的 $M(t)$ 方程，我们得到更新方程：\n$$M(t) = F_Z(t) + \\int_{0}^{t} M(t-z) f_Z(z) dz$$\n为了与选项中的符号匹配，我们将积分变量从 $z$ 更改为 $x$，得到：\n$$M(t) = F_Z(t) + \\int_{0}^{t} M(t-x) f_Z(x) dx$$\n这与选项A匹配。\n\n我们来简要分析一下为什么其他选项不正确：\n-   选项B使用了 $f_X(x)$ 和 $F_X(t)$。如果更新事件是故障发生，而不是维修完成，那么这个选项将是正确的。\n-   选项C在被积函数中有 $M(x)$ 而不是 $M(t-x)$。这是不正确的，因为过程在时间 $x$ 重新启动，所以我们需要计算在*剩余*时间 $t-x$ 内的更新期望次数。\n-   选项D使用常数 `1` 而不是 $F_Z(t)$ 作为非齐次项。这将意味着更新最终保证会发生，但只有当更新在时间 $t$ *之前*发生时，`1` 才被计数，这就是为什么它必须被积分并得到 $F_Z(t)$ 的原因。\n-   选项E使用了维修时间 $Y_i$ 的分布。这是不正确的，因为两次更新之间的时间是完整的周期时间 $X_i + Y_i = Z_i$。", "answer": "$$\\boxed{A}$$", "id": "1406021"}, {"introduction": "本练习展示了更新理论的强大扩展能力，将其应用于分析排队论中的一个经典模型——M/G/1排队系统。我们将服务器的“空闲”和“繁忙”时期视为一个交替更新过程，这是对基本更新理论的重要推广。通过解决这个问题 [@problem_id:1405987]，你将学习如何运用更新-回报定理来推导系统的长期稳态行为，这不仅能加深对极限理论的理解，也揭示了在复杂随机系统中计算关键性能指标的有效方法。", "problem": "考虑一个处理传入任务的数据处理服务器。任务以一个恒定的平均速率 $\\lambda$ 的泊松过程到达服务器。服务器一次只能处理一个任务，且任务按其到达顺序进行处理。处理一个任务所需的时间，称为服务时间，是一个随机变量 $S$。这些服务时间独立于到达过程，并且它们本身是独立同分布的，具有有限均值 $m_1 = E[S]$ 和有限二阶矩 $m_2 = E[S^2]$。\n\n系统在时间 $t=0$ 时初始为空闲状态。服务器的运行由一系列交替的空闲期（此时服务器空闲且队列为空）和忙碌期来表征。忙碌期始于一个任务到达空闲服务器的时刻，止于服务器在服务完该任务以及在忙碌期间到达的任何后续任务后再次变为空闲的时刻。我们假设流量强度（一个由到达率和平均服务时间的乘积定义的无量纲量）小于1，即 $\\lambda m_1  1$，这确保了系统是稳定的，不会无限增长。\n\n令 $P(t)$ 为服务器在任意时间 $t$ 处于忙碌状态的概率。确定服务器忙碌的长期概率，该概率由极限 $\\lim_{t \\to \\infty} P(t)$ 给出。将您的答案表示为关于给定参数 $\\lambda$ 和 $m_1$ 的闭式解析表达式。", "solution": "令 $\\lambda$ 为泊松到达率，并令 $S$ 表示服务时间，其均值为 $m_{1} = E[S]$。定义流量强度 $\\rho$ 为\n$$\n\\rho = \\lambda m_{1},\n$$\n并假设 $\\rho  1$。\n\n考虑空闲期和忙碌期的交替序列。令 $I$ 表示空闲期的持续时间， $B$ 表示忙碌期的持续时间。因为到达形成一个泊松过程，当系统变空时，到下一次到达（也就是下一个忙碌期的开始）的时间服从速率为 $\\lambda$ 的指数分布，因此\n$$\nE[I] = \\frac{1}{\\lambda}.\n$$\n\n我们现在计算 $E[B]$。一个忙碌期始于一个发现服务器空闲的任务。在这个初始任务的服务时间 $S$ 期间，到达根据速率为 $\\lambda$ 的泊松过程发生。令 $N$ 为在 $S$ 期间的到达数量；在给定 $S$ 的条件下，$N \\mid S \\sim \\text{Poisson}(\\lambda S)$。这 $N$ 个到达中的每一个，连同在其服务期间到达的任何后代，都会生成一个独立同分布的忙碌子周期。因此，在分布上，\n$$\nB = S + \\sum_{i=1}^{N} B_{i},\n$$\n其中 $\\{B_{i}\\}$ 是 $B$ 的独立同分布副本，独立于 $S$ 和 $N$。\n\n取期望并使用重期望定律，\n$$\nE[B] = E[S] + E\\!\\left[\\,E\\!\\left[\\sum_{i=1}^{N} B_{i} \\mid S\\right]\\right].\n$$\n给定 $S$，$E\\!\\left[\\sum_{i=1}^{N} B_{i} \\mid S\\right] = E[N \\mid S] \\cdot E[B] = \\lambda S \\cdot E[B]$，所以\n$$\nE[B] = m_{1} + E[\\lambda S] \\, E[B] = m_{1} + \\lambda m_{1} \\, E[B].\n$$\n解出 $E[B]$ 并使用 $\\rho = \\lambda m_{1}  1$，\n$$\nE[B] = \\frac{m_{1}}{1 - \\lambda m_{1}} = \\frac{m_{1}}{1 - \\rho}.\n$$\n\n根据交替更新过程的更新-回报定理，服务器忙碌的长期时间比例等于平均忙碌时间与平均周期长度之比：\n$$\n\\lim_{t \\to \\infty} P(t) = \\frac{E[B]}{E[B] + E[I]}.\n$$\n代入 $E[B] = \\frac{m_{1}}{1 - \\lambda m_{1}}$ 和 $E[I] = \\frac{1}{\\lambda}$：\n$$\n\\frac{\\dfrac{m_{1}}{1 - \\lambda m_{1}}}{\\dfrac{m_{1}}{1 - \\lambda m_{1}} + \\dfrac{1}{\\lambda}}\n= \\frac{\\dfrac{m_{1}}{1 - \\lambda m_{1}}}{\\dfrac{\\lambda m_{1} + (1 - \\lambda m_{1})}{\\lambda(1 - \\lambda m_{1})}}\n= \\frac{\\dfrac{m_{1}}{1 - \\lambda m_{1}}}{\\dfrac{1}{\\lambda(1 - \\lambda m_{1})}}\n= \\lambda m_{1}.\n$$\n\n因此，\n$$\n\\lim_{t \\to \\infty} P(t) = \\lambda m_{1}.\n$$", "answer": "$$\\boxed{\\lambda m_{1}}$$", "id": "1405987"}]}