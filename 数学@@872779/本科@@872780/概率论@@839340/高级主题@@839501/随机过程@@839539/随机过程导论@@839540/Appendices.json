{"hands_on_practices": [{"introduction": "许多随机系统可以被看作是在一组离散状态之间移动。这个问题 [@problem_id:1367723] 使用国际象棋中“马”的移动作为直观案例，帮助你理解状态空间和转移概率这两个核心概念。通过解决这个问题，你将学会如何为一个简单的随机过程建立模型，这是掌握马尔可夫链的第一步。", "problem": "在一个空的 3x3 棋盘上放置了一个马。棋盘上的方格由坐标 (行, 列) 标识，其中行号和列号的范围为 1 到 3。马以'L'形移动：在一个基本方向（横向或纵向）移动两格，然后在一个垂直方向上移动一格。只有当马的落点在 3x3 棋盘边界内时，该移动才被视为合法。\n\n马从角落的方格 (1,1) 开始。在每一步中，它会随机选择一个合法的移动。如果从当前方格有 $k$ 种合法的移动方式，马会以 $1/k$ 的概率选择其中任何一种。\n\n计算马在连续进行两次移动后恰好回到起始方格 (1,1) 的概率。请用分数表示你的答案。", "solution": "马的移动向量为 $(\\pm 2,\\pm 1)$ 或 $(\\pm 1,\\pm 2)$。从 $3\\times 3$ 棋盘的起始角 $(1,1)$ 出发，合法的目标位置是那些两个坐标都在 $\\{1,2,3\\}$ 范围内的位置。列举如下：\n- $(1\\pm 2,1\\pm 1)$ 产生有效位置 $(3,2)$，其余均无效。\n- $(1\\pm 1,1\\pm 2)$ 产生有效位置 $(2,3)$，其余均无效。\n因此，第一步的合法移动集合为 $S=\\{(3,2),(2,3)\\}$，其中 $|S|=2$，每种移动被选择的概率为 $1/2$。\n\n从 $(3,2)$ 出发，棋盘内的合法马步移动可通过加上相同的移动向量得到：\n- $(3\\pm 2,2\\pm 1)$ 产生有效位置 $(1,3)$ 和 $(1,1)$；其余位置超出边界。\n- $(3\\pm 1,2\\pm 2)$ 均超出边界。\n因此，从 $(3,2)$ 出发有 $k(3,2)=2$ 种合法移动，其中之一是 $(1,1)$，所以从 $(3,2)$ 一步返回的概率是 $1/2$。\n\n从 $(2,3)$ 出发，类似地：\n- $(2\\pm 2,3\\pm 1)$ 超出边界。\n- $(2\\pm 1,3\\pm 2)$ 产生有效位置 $(3,1)$ 和 $(1,1)$；其余位置超出边界。\n因此 $k(2,3)=2$，从 $(2,3)$ 一步返回的概率是 $1/2$。\n\n根据全概率公式，设 $X_{t}$ 为移动 $t$ 步后的位置，\n$$\n\\Pr\\big(X_{2}=(1,1)\\big)\n=\\sum_{v\\in S}\\Pr\\big(X_{1}=v\\big)\\Pr\\big(X_{2}=(1,1)\\mid X_{1}=v\\big)\n=\\sum_{v\\in S}\\frac{1}{|S|}\\cdot\\frac{1}{k(v)}\n=2\\cdot\\frac{1}{2}\\cdot\\frac{1}{2}\n=\\frac{1}{2}.\n$$\n因此，恰好两步后回到 $(1,1)$ 的概率是 $\\frac{1}{2}$。", "answer": "$$\\boxed{\\frac{1}{2}}$$", "id": "1367723"}, {"introduction": "并非所有由随机变量构成的过程都是马尔可夫过程，其关键在于“无记忆性”。这个问题 [@problem_id:1367774] 挑战你深入思考马尔可夫性质的定义：一个过程的未来是否只依赖于当前状态？通过分析一个移动平均过程，你将学会如何严格检验一个过程是否满足马尔可夫性质，这是正确建模现实世界现象的关键技能。", "problem": "考虑一个独立同分布 (i.i.d.) 的随机变量序列 $\\{X_n\\}_{n \\ge 0}$，其中每个随机变量等概率地取值 $1$ 或 $-1$，即 $P(X_n=1) = P(X_n=-1) = 0.5$。\n\n一个新的随机过程 $\\{Y_n\\}_{n \\ge 1}$ 由此序列构造为一个简单移动平均：\n$$Y_n = \\frac{1}{2}(X_n + X_{n-1})$$\n现在，考虑以下断言：“随机过程 $\\{Y_n\\}_{n \\ge 1}$ 是一个马尔可夫过程。”\n\n以下哪个陈述正确地评估了此断言并提供了正确的理由？\n\nA. 断言为真。由独立同分布随机变量构建的过程总是马尔可夫过程。\n\nB. 断言为假。要预测 $Y_{n+1} = \\frac{1}{2}(X_{n+1} + X_n)$ 的分布，仅知道当前状态 $Y_n = \\frac{1}{2}(X_n + X_{n-1})$ 是不够的。过去的状态 $Y_{n-1}$ 提供了关于 $X_{n-1}$ 的更多信息，这反过来又有助于从 $Y_n$ 中确定 $X_n$，从而改变了对 $Y_{n+1}$ 的预测。\n\nC. 断言为真。未来状态 $Y_{n+1}$ 仅依赖于当前状态 $Y_n$ 和新的随机变量 $X_{n+1}$，这就是马尔可夫过程的定义。\n\nD. 断言为假。一个过程只有在其期望非零时才能是马尔可夫过程，但 $E[Y_n] = 0$。\n\nE. 断言为真。该过程是时间齐次的，意味着其转移概率与时间步长 $n$ 无关，这表明它必定是马尔可夫过程。", "solution": "给定独立同分布的随机变量 $\\{X_{n}\\}_{n \\ge 0}$，满足 $P(X_{n}=1)=P(X_{n}=-1)=\\frac{1}{2}$，以及一个由 $Y_{n}=\\frac{1}{2}(X_{n}+X_{n-1})$ 定义的过程 $\\{Y_{n}\\}_{n \\ge 1}$。由于 $X_{n}+X_{n-1}\\in\\{-2,0,2\\}$，所以 $Y_{n}$ 的状态空间是 $\\{-1,0,1\\}$。\n\n马尔可夫性质要求对于所有 $n\\ge 1$ 和所有状态 $y_{n+1},y_{n},y_{n-1},\\dots$，\n$$\nP\\big(Y_{n+1}=y_{n+1}\\,\\big|\\,Y_{n}=y_{n},Y_{n-1}=y_{n-1},\\dots\\big)\n=\nP\\big(Y_{n+1}=y_{n+1}\\,\\big|\\,Y_{n}=y_{n}\\big).\n$$\n我们将通过展示一个反例来证明这一点不成立，即存在一对历史路径，当我们在当前状态 $Y_n$ 的基础上再加入过去状态 $Y_{n-1}$ 时，$Y_{n+1}$ 的条件分布会发生改变。\n\n首先计算仅在 $Y_{n}=0$ 条件下 $Y_{n+1}$ 的分布。事件 $Y_{n}=0$ 等价于\n$$\n\\frac{1}{2}(X_{n}+X_{n-1})=0 \\quad\\Longleftrightarrow\\quad (X_{n},X_{n-1})\\in\\{(1,-1),(-1,1)\\}.\n$$\n根据 $X$ 变量的独立性和对称性，\n$$\nP\\big(X_{n}=1\\,\\big|\\,Y_{n}=0\\big)=\\frac{1}{2},\\qquad P\\big(X_{n}=-1\\,\\big|\\,Y_{n}=0\\big)=\\frac{1}{2}.\n$$\n在给定 $X_{n}$ 的条件下，我们有\n$$\nY_{n+1}=\\frac{1}{2}(X_{n+1}+X_{n}).\n$$\n因此，\n- 如果 $X_{n}=1$，那么 $Y_{n+1}\\in\\{0,1\\}$，且\n$$\nP\\big(Y_{n+1}=1\\,\\big|\\,X_{n}=1\\big)=\\frac{1}{2},\\quad P\\big(Y_{n+1}=0\\,\\big|\\,X_{n}=1\\big)=\\frac{1}{2},\\quad P\\big(Y_{n+1}=-1\\,\\big|\\,X_{n}=1\\big)=0.\n$$\n- 如果 $X_{n}=-1$，那么 $Y_{n+1}\\in\\{0,-1\\}$，且\n$$\nP\\big(Y_{n+1}=-1\\,\\big|\\,X_{n}=-1\\big)=\\frac{1}{2},\\quad P\\big(Y_{n+1}=0\\,\\big|\\,X_{n}=-1\\big)=\\frac{1}{2},\\quad P\\big(Y_{n+1}=1\\,\\big|\\,X_{n}=-1\\big)=0.\n$$\n在给定 $Y_n=0$ 的条件下对 $X_n$ 的可能性进行平均，可得\n$$\nP\\big(Y_{n+1}=1\\,\\big|\\,Y_{n}=0\\big)=\\frac{1}{2}\\cdot\\frac{1}{2}=\\frac{1}{4},\\quad\nP\\big(Y_{n+1}=-1\\,\\big|\\,Y_{n}=0\\big)=\\frac{1}{2}\\cdot\\frac{1}{2}=\\frac{1}{4},\n$$\n因此\n$$\nP\\big(Y_{n+1}=0\\,\\big|\\,Y_{n}=0\\big)=1-\\frac{1}{4}-\\frac{1}{4}=\\frac{1}{2}.\n$$\n\n现在考虑附加信息 $Y_{n-1}=1$。事件 $Y_{n-1}=1$ 意味着\n$$\n\\frac{1}{2}(X_{n-1}+X_{n-2})=1 \\quad\\Longleftrightarrow\\quad X_{n-1}=1\\ \\text{ and }\\ X_{n-2}=1.\n$$\n将 $Y_{n}=0$ 与 $X_{n-1}=1$ 结合可得\n$$\n\\frac{1}{2}(X_{n}+X_{n-1})=0 \\ \\text{ and }\\ X_{n-1}=1 \\quad\\Longleftrightarrow\\quad X_{n}=-1.\n$$\n因此，在 $\\{Y_{n}=0,\\,Y_{n-1}=1\\}$ 的条件下，我们必然有 $X_{n}=-1$，所以\n$$\nP\\big(Y_{n+1}=1\\,\\big|\\,Y_{n}=0,\\,Y_{n-1}=1\\big)=P\\big(Y_{n+1}=1\\,\\big|\\,X_{n}=-1\\big)=0,\n$$\n而我们之前计算出\n$$\nP\\big(Y_{n+1}=1\\,\\big|\\,Y_{n}=0\\big)=\\frac{1}{4}.\n$$\n由于这两个概率不同，给定当前状态 $Y_{n}$ 时 $Y_{n+1}$ 的条件分布，会因为包含了过去状态 $Y_{n-1}$ 的信息而改变。这违反了马尔可夫性质。因此，$\\{Y_{n}\\}$ 不是一个马尔可夫过程。\n\n在这些选项中，这与选项 B 的推理相符。选项 A、C 和 E 分别从独立同分布的输入、仅依赖于 $Y_{n}$ 和新噪声、以及时间齐次性等角度错误地推断出马尔可夫性；选项 D 无关且错误。", "answer": "$$\\boxed{B}$$", "id": "1367774"}, {"introduction": "随机过程不仅能预测系统的下一个状态，还能回答“某个特定事件发生需要多长时间？”这类问题。这个问题 [@problem_id:1367736] 介绍了一种强大的分析技巧，即利用状态和条件期望来计算首次到达时间。掌握这种方法对于分析通信系统中的信号延迟或金融市场中的风险事件至关重要。", "problem": "一个简单的随机信号生成器产生一个比特序列。在每一步中，该比特独立地以概率 $p$ 选择为 '1' 或以概率 $q = 1-p$ 选择为 '0'。该过程被监控，直到特定的两位比特模式 '10' 首次出现，此时过程停止。对于一个公平的生成器，其中 $p = 1/2$，生成的比特总数的期望值是多少？", "solution": "我们使用对最近一个比特进行编码的状态来为模式 '10' 首次出现的等待时间建模。\n\n设 $E$ 为从没有任何历史记录开始生成的比特总数的期望值。设 $E_{0}$ 为在观察到的最后一个比特是 $0$（且尚未停止）的情况下，到停止时所需的额外比特数的期望值，设 $E_{1}$ 为在最后一个比特是 $1$ 的情况下的相同期望值。对于一个公平的生成器，下一个比特是 $0$ 或 $1$ 的概率均为 $\\frac{1}{2}$。\n\n从头开始，生成的第一个比特使计数增加 $1$，并以相等的概率转移到状态 $0$ 或状态 $1$，因此\n$$\nE = 1 + \\frac{1}{2} E_{0} + \\frac{1}{2} E_{1}.\n$$\n从状态 $0$ 开始，下一个比特使计数增加 $1$，并以 $\\frac{1}{2}$ 的概率转移到状态 $0$（如果该比特是 $0$）或以 $\\frac{1}{2}$ 的概率转移到状态 $1$（如果该比特是 $1$），因此\n$$\nE_{0} = 1 + \\frac{1}{2} E_{0} + \\frac{1}{2} E_{1}.\n$$\n从状态 $1$ 开始，下一个比特使计数增加 $1$，并有 $\\frac{1}{2}$ 的概率是 $0$，这会完成模式并停止过程，而有 $\\frac{1}{2}$ 的概率是 $1$，并保持在状态 $1$。因此\n$$\nE_{1} = 1 + \\frac{1}{2} \\cdot 0 + \\frac{1}{2} E_{1}.\n$$\n解最后一个方程可得\n$$\nE_{1} - \\frac{1}{2} E_{1} = 1 \\quad \\Rightarrow \\quad E_{1} = 2.\n$$\n代入 $E_{0}$ 的方程中：\n$$\nE_{0} - \\frac{1}{2} E_{0} - \\frac{1}{2} E_{1} = 1 \\quad \\Rightarrow \\quad \\frac{1}{2} E_{0} - \\frac{1}{2} \\cdot 2 = 1 \\quad \\Rightarrow \\quad E_{0} - 2 = 2 \\quad \\Rightarrow \\quad E_{0} = 4.\n$$\n最后，\n$$\nE = 1 + \\frac{1}{2} \\cdot 4 + \\frac{1}{2} \\cdot 2 = 4.\n$$\n因此，生成的比特总数的期望值为 $4$。", "answer": "$$\\boxed{4}$$", "id": "1367736"}]}