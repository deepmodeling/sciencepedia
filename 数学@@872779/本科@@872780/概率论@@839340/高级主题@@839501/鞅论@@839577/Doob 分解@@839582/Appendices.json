{"hands_on_practices": [{"introduction": "让我们从一个基础练习开始，这个练习直接地展示了杜布 (Doob) 分解的核心思想。我们将对一个由独立随机变量累加构成的随机过程进行分解 [@problem_id:1397477]。由于每个随机变量的期望不为零，这个过程包含了一个可预测的趋势，我们的任务就是运用杜布分解定理精确地分离出这个趋势和随机波动部分。", "problem": "设 $\\{Y_k\\}_{k=1}^\\infty$ 是一个独立随机变量序列。每个随机变量的均值依赖于其索引，由 $E[Y_k] = \\frac{1}{k}$（$k \\ge 1$）给出。此外，假设对所有 $k$ 都有 $E[|Y_k|]  \\infty$。\n\n考虑由累积和 $X_n = \\sum_{k=1}^n Y_k$（$n \\ge 1$）定义的随机过程 $X_n$，初始条件为 $X_0 = 0$。设 $\\{\\mathcal{F}_n\\}_{n=0}^\\infty$ 是由序列 $\\{Y_k\\}$ 生成的自然滤子，其中 $\\mathcal{F}_0 = \\{\\emptyset, \\Omega\\}$ 是平凡σ-代数，而 $\\mathcal{F}_n = \\sigma(Y_1, \\dots, Y_n)$（$n \\ge 1$）。\n\n根据 Doob 分解定理，任何具有有限期望的适应过程 $X_n$ 都可以唯一地表示为一个鞅 $M_n$ 和一个可预见过程 $A_n$ 的和，使得 $X_n = M_n + A_n$。\n\n求出在标准初始条件 $M_0 = 0$ 和 $A_0 = 0$ 下，对于 $n \\geq 1$ 的鞅分量 $M_n$ 和可预见过程分量 $A_n$ 的显式表达式。\n\n将您的答案表示为一个包含两个表达式的行矩阵：第一个是 $M_n$ 的表达式，第二个是 $A_n$ 的表达式。", "solution": "我们首先回顾一下适应、可积过程的离散时间 Doob 分解。对于一个适应过程 $\\{X_n\\}_{n \\geq 0}$，其中 $E[|X_n|]  \\infty$，Doob 分解写作 $X_n = M_n + A_n$，其中 $M_n$ 是一个鞅，满足 $M_0 = 0$，$A_n$ 是一个可预见过程，满足 $A_0 = 0$。在离散时间中，可预见分量由下式给出\n$$\nA_n = \\sum_{k=1}^{n} E[X_k - X_{k-1} \\mid \\mathcal{F}_{k-1}],\n$$\n而鞅分量是 $M_n = X_n - A_n$。\n\n在我们的问题中，$X_n = \\sum_{k=1}^{n} Y_k$，且 $X_0 = 0$。因此，单步增量是\n$$\nX_n - X_{n-1} = Y_n.\n$$\n因此，可预见增量是\n$$\nE[X_n - X_{n-1} \\mid \\mathcal{F}_{n-1}] = E[Y_n \\mid \\mathcal{F}_{n-1}].\n$$\n由于 $Y_n$ 独立于 $\\mathcal{F}_{n-1} = \\sigma(Y_1,\\dots,Y_{n-1})$ 且 $E[|Y_n|]  \\infty$，我们有\n$$\nE[Y_n \\mid \\mathcal{F}_{n-1}] = E[Y_n] = \\frac{1}{n}.\n$$\n因此，可预见过程是\n$$\nA_n = \\sum_{k=1}^{n} E[Y_k \\mid \\mathcal{F}_{k-1}] = \\sum_{k=1}^{n} \\frac{1}{k}.\n$$\n因此，鞅分量是\n$$\nM_n = X_n - A_n = \\sum_{k=1}^{n} Y_k - \\sum_{k=1}^{n} \\frac{1}{k} = \\sum_{k=1}^{n} \\left(Y_k - \\frac{1}{k}\\right).\n$$\n根据构造，$A_n$ 是可预见的，因为 $A_n - A_{n-1} = \\frac{1}{n}$ 是 $\\mathcal{F}_{n-1}$-可测的，且 $A_0 = 0$。而 $M_n$ 是一个鞅，因为\n$$\nE[M_n \\mid \\mathcal{F}_{n-1}] = E\\left[\\sum_{k=1}^{n} \\left(Y_k - \\frac{1}{k}\\right) \\Biggm| \\mathcal{F}_{n-1}\\right]\n= \\sum_{k=1}^{n-1} \\left(Y_k - \\frac{1}{k}\\right) + E\\left[Y_n - \\frac{1}{n} \\mid \\mathcal{F}_{n-1}\\right]\n= M_{n-1}.\n$$\n因此，Doob 分解如上唯一确定。", "answer": "$$\\boxed{\\begin{pmatrix}\\sum_{k=1}^{n}\\left(Y_{k}-\\frac{1}{k}\\right)  \\sum_{k=1}^{n}\\frac{1}{k}\\end{pmatrix}}$$", "id": "1397477"}, {"introduction": "现在，让我们来探讨一个更有趣的例子：一个简单对称随机游走与其起点的距离过程 $X_n = |S_n|$ [@problem_id:1397444]。虽然随机游走本身是一个鞅（没有可预测的趋势），但其绝对值却是一个下鞅，倾向于向上漂移。这个练习将引导你发现，这个过程的可预测部分与随机游走返回原点的次数有着深刻的联系，这完美地展示了杜布分解如何揭示过程的内在结构。", "problem": "设 $(Y_i)_{i \\ge 1}$ 为一列独立同分布 (i.i.d.) 的随机变量，其中每个变量的结果遵循概率分布 $P(Y_i = 1) = P(Y_i = -1) = 1/2$。一个简单的对称随机游走 (SSRW)，记作 $(S_n)_{n \\ge 0}$，定义为 $S_0 = 0$ 且对于 $n \\ge 1$，$S_n = \\sum_{i=1}^n Y_i$。\n\n由此过程生成的自然滤为 $(\\mathcal{F}_n)_{n \\ge 0}$，其中 $\\mathcal{F}_0 = \\{\\emptyset, \\Omega\\}$ (平凡 σ-代数)，且对于 $n \\ge 1$，$ \\mathcal{F}_n = \\sigma(Y_1, \\dots, Y_n)$。\n\n考虑由 $X_n = |S_n|$ 定义的随机过程 $(X_n)_{n \\ge 0}$。根据 Doob 分解定理，任何对滤 $(\\mathcal{F}_n)_{n \\ge 0}$ 适应的过程 $X_n$ 都可以唯一地写成和 $X_n = M_n + A_n$ 的形式，其中 $(M_n)_{n \\ge 0}$ 是关于 $(\\mathcal{F}_n)_{n \\ge 0}$ 的一个鞅，而 $(A_n)_{n \\ge 0}$ 是一个 $A_0 = 0$ 的可预测过程。一个过程 $(A_n)_{n \\ge 1}$ 被称为可预测的，如果对每个 $n \\ge 1$，随机变量 $A_n$ 关于 σ-代数 $\\mathcal{F}_{n-1}$ 是可测的。\n\n你的任务是找出过程 $X_n = |S_n|$ 的鞅部分 $M_n$ 和可预测部分 $A_n$ 的显式表达式。\n\n使用示性函数记号 $\\mathbf{1}_{E}$，如果事件 $E$ 发生，其值为 1，否则为 0。将你的最终答案表示为一个 $1 \\times 2$ 矩阵，其中第一个元素为 $M_n$ 的表达式，第二个元素为 $A_n$ 的表达式。", "solution": "Doob 分解定理表明，任何适应过程 $X_n$ 都可以唯一地写成 $X_n = M_n + A_n$，其中 $M_n$ 是一个鞅，而 $A_n$ 是一个可预测过程。这两个部分由以下公式给出：\n$A_0 = 0$ 且对于 $n \\ge 1$，\n$$A_n = \\sum_{k=1}^{n} \\left( E[X_k | \\mathcal{F}_{k-1}] - X_{k-1} \\right)$$\n鞅部分则由 $M_n = X_n - A_n$ 给出。\n\n我们的过程是 $X_n = |S_n|$。我们从计算条件期望项 $E[X_k | \\mathcal{F}_{k-1}]$ 开始。\n$$E[X_k | \\mathcal{F}_{k-1}] = E[|S_k| | \\mathcal{F}_{k-1}]$$\n我们知道 $S_k = S_{k-1} + Y_k$。由于 $S_{k-1}$ 是 $\\mathcal{F}_{k-1}$-可测的，在给定 $\\mathcal{F}_{k-1}$ 的情况下，我们可以将其值视为已知。随机变量 $Y_k$ 与 $\\mathcal{F}_{k-1}$ 独立。\n$$E[|S_k| | \\mathcal{F}_{k-1}] = E[|S_{k-1} + Y_k| | \\mathcal{F}_{k-1}]$$\n根据期望的定义和 $Y_k$ 的分布：\n$$E[|S_{k-1} + Y_k| | \\mathcal{F}_{k-1}] = \\frac{1}{2} |S_{k-1} + 1| + \\frac{1}{2} |S_{k-1} - 1|$$\n我们现在通过考虑 $S_{k-1}$ 值的两种情况来分析这个表达式。注意 $S_n$ 只能取整数值。\n\n情况 1：$S_{k-1} \\neq 0$。\n由于 $S_{k-1}$ 是一个非零整数，所以 $|S_{k-1}| \\ge 1$。\n如果 $S_{k-1} \\ge 1$，那么 $S_{k-1}+1 > 0$ 且 $S_{k-1}-1 \\ge 0$。所以，$|S_{k-1}+1| = S_{k-1}+1$ 且 $|S_{k-1}-1| = S_{k-1}-1$。\n条件期望为：\n$$\\frac{1}{2} (S_{k-1}+1) + \\frac{1}{2} (S_{k-1}-1) = \\frac{1}{2} (2S_{k-1}) = S_{k-1} = |S_{k-1}| = X_{k-1}$$\n如果 $S_{k-1} \\le -1$，那么 $S_{k-1}+1 \\le 0$ 且 $S_{k-1}-1  0$。所以，$|S_{k-1}+1| = -(S_{k-1}+1)$ 且 $|S_{k-1}-1| = -(S_{k-1}-1)$。\n条件期望为：\n$$\\frac{1}{2} (-(S_{k-1}+1)) + \\frac{1}{2} (-(S_{k-1}-1)) = \\frac{1}{2} (-S_{k-1}-1 -S_{k-1}+1) = \\frac{1}{2} (-2S_{k-1}) = -S_{k-1} = |S_{k-1}| = X_{k-1}$$\n在 $S_{k-1} \\neq 0$ 的两种子情况下，我们都有 $E[X_k | \\mathcal{F}_{k-1}] = |S_{k-1}| = X_{k-1}$。\n\n情况 2：$S_{k-1} = 0$。\n条件期望变为：\n$$\\frac{1}{2} |0 + 1| + \\frac{1}{2} |0 - 1| = \\frac{1}{2}(1) + \\frac{1}{2}(1) = 1$$\n另外，注意如果 $S_{k-1} = 0$，那么 $X_{k-1} = |S_{k-1}| = 0$。所以在这种情况下，$E[X_k | \\mathcal{F}_{k-1}] = 1 = X_{k-1} + 1$。\n\n我们可以使用示性函数 $\\mathbf{1}_{\\{E\\}}$（如果事件 E 为真，则为 1，否则为 0）将这两种情况合并。\n$$E[X_k | \\mathcal{F}_{k-1}] = \\begin{cases} X_{k-1}  \\text{如果 } S_{k-1} \\neq 0 \\\\ X_{k-1} + 1  \\text{如果 } S_{k-1} = 0 \\end{cases}$$\n这可以紧凑地写成：\n$$E[X_k | \\mathcal{F}_{k-1}] = X_{k-1} + \\mathbf{1}_{\\{S_{k-1}=0\\}}$$\n现在我们可以计算可预测过程 $A_n$：\n$$A_n = \\sum_{k=1}^{n} \\left( E[X_k | \\mathcal{F}_{k-1}] - X_{k-1} \\right)$$\n将我们关于条件期望的结果代入：\n$$A_n = \\sum_{k=1}^{n} \\left( (X_{k-1} + \\mathbf{1}_{\\{S_{k-1}=0\\}}) - X_{k-1} \\right) = \\sum_{k=1}^{n} \\mathbf{1}_{\\{S_{k-1}=0\\}}$$\n将求和索引从 $k$ 更改为 $j = k-1$：\n$$A_n = \\sum_{j=0}^{n-1} \\mathbf{1}_{\\{S_j=0\\}}$$\n这个过程 $A_n$ 计算了随机游走到时间 $n-1$ 为止停留在原点的次数。它是一个可预测过程，因为 $A_n$ 仅依赖于到时间 $n-1$ 为止的游走路径，因此是 $\\mathcal{F}_{n-1}$-可测的。由于给定 $S_0=0$，该求和总是包含 $j=0$ 的项，所以对于 $n \\ge 1$，$A_n \\ge 1$。\n\n最后，我们求出鞅部分 $M_n$：\n$$M_n = X_n - A_n = |S_n| - \\sum_{k=0}^{n-1} \\mathbf{1}_{\\{S_k=0\\}}$$\n所以，$X_n = |S_n|$ 的 Doob 分解为 $X_n = M_n + A_n$，其中：\n$M_n = |S_n| - \\sum_{k=0}^{n-1} \\mathbf{1}_{\\{S_k=0\\}}$\n$A_n = \\sum_{k=0}^{n-1} \\mathbf{1}_{\\{S_k=0\\}}$", "answer": "$$\\boxed{\\begin{pmatrix} |S_n| - \\sum_{k=0}^{n-1} \\mathbf{1}_{\\{S_k=0\\}}  \\sum_{k=0}^{n-1} \\mathbf{1}_{\\{S_k=0\\}} \\end{pmatrix}}$$", "id": "1397444"}, {"introduction": "最后，我们将把杜布分解应用于一个在实际建模中非常常见的场景：马尔可夫链 [@problem_id:1298497]。在这个问题中，我们考虑一个在“故障”和“运行”两种状态之间切换的系统。通过分解这个马尔可夫链过程，我们可以练习如何处理具有记忆性的随机过程，其中未来的期望直接依赖于当前的状态，这对于理解和预测现实世界中的系统行为至关重要。", "problem": "考虑一个系统，其在任意离散时间步 $n \\ge 0$ 的状态由一个随机变量 $X_n$ 描述。该系统可以处于两种状态之一：“失效”，由状态0表示，或“运行”，由状态1表示。状态序列 $(X_n)_{n \\ge 0}$ 在状态空间 $S = \\{0, 1\\}$ 上构成一个时齐马尔可夫链。\n\n转移概率定义如下：\n- 在一个时间步内从“失效”状态转移到“运行”状态的概率为 $P(X_{n+1}=1 | X_n=0) = \\alpha$。\n- 在一个时间步内从“运行”状态转移到“失效”状态的概率为 $P(X_{n+1}=0 | X_n=1) = \\beta$。\n这里，$\\alpha$ 和 $\\beta$ 是常数，满足 $0  \\alpha  1$ 和 $0  \\beta  1$。\n\n令 $\\mathcal{F}_n = \\sigma(X_0, X_1, \\dots, X_n)$ 是由该过程生成的自然滤。过程 $X_n$ 容许一个形式为 $X_n = M_n + A_n$ 的 Doob 分解，其中 $(M_n)_{n \\ge 0}$ 是关于滤 $(\\mathcal{F}_n)_{n \\ge 0}$ 的一个鞅，而 $(A_n)_{n \\ge 0}$ 是一个可预测过程，且 $A_0 = 0$。\n\n求出对于 $n \\ge 1$ 的鞅 $M_n$ 和可预测过程 $A_n$ 的显式表达式。你的答案应该是一对表达式 $(M_n, A_n)$，用 $\\alpha$、$\\beta$ 以及过程 $(X_k)_{k=0, \\dots, n}$ 的过去值来表示。", "solution": "一个适应过程 $X_n$ 的 Doob 分解由 $X_n = M_n + A_n$ 给出，其中 $M_n$ 是一个鞅，$A_n$ 是一个可预测过程，且 $A_0=0$。可预测过程 $A_n$ 由递推关系 $A_n - A_{n-1} = E[X_n | \\mathcal{F}_{n-1}] - X_{n-1}$ 定义（对于 $n \\ge 1$）。鞅 $M_n$ 则由 $M_n = X_n - A_n$ 给出。\n\n首先，我们需要计算条件期望 $E[X_n | \\mathcal{F}_{n-1}]$。由于过程 $(X_n)$ 的马尔可夫性质，这个期望只依赖于时间 $n-1$ 时的状态。\n$$E[X_n | \\mathcal{F}_{n-1}] = E[X_n | X_{n-1}]$$\n随机变量 $X_n$ 可以在 $\\{0, 1\\}$ 中取值，所以其期望由以下公式给出：\n$$E[X_n | X_{n-1}] = 1 \\cdot P(X_n=1 | X_{n-1}) + 0 \\cdot P(X_n=0 | X_{n-1}) = P(X_n=1 | X_{n-1})$$\n我们对 $X_{n-1}$ 的两个可能取值计算这个条件概率：\n- 如果 $X_{n-1} = 0$，则 $P(X_n=1 | X_{n-1}=0) = \\alpha$。\n- 如果 $X_{n-1} = 1$，则 $P(X_n=1 | X_{n-1}=1) = 1 - P(X_n=0 | X_{n-1}=1) = 1-\\beta$。\n\n我们可以为 $E[X_n | X_{n-1}]$ 写出一个对两种情况都有效的单一表达式。由于 $X_{n-1}$ 不是0就是1，我们可以将其用作一个指示变量：\n$$E[X_n | X_{n-1}] = \\alpha (1-X_{n-1}) + (1-\\beta) X_{n-1} = \\alpha + X_{n-1} - \\alpha X_{n-1} - \\beta X_{n-1} = \\alpha + (1-\\alpha-\\beta)X_{n-1}$$\n\n现在我们可以求出可预测过程的增量 $\\Delta A_n = A_n - A_{n-1}$：\n$$\\Delta A_n = E[X_n | \\mathcal{F}_{n-1}] - X_{n-1} = (\\alpha + (1-\\alpha-\\beta)X_{n-1}) - X_{n-1}$$\n$$\\Delta A_n = \\alpha + X_{n-1} - \\alpha X_{n-1} - \\beta X_{n-1} - X_{n-1} = \\alpha - (\\alpha+\\beta)X_{n-1}$$\n过程 $A_n$ 是通过将这些增量从 $k=1$ 到 $n$ 求和得到的，并已知 $A_0=0$：\n$$A_n = \\sum_{k=1}^{n} \\Delta A_k = \\sum_{k=1}^{n} (\\alpha - (\\alpha+\\beta)X_{k-1})$$\n$$A_n = n\\alpha - (\\alpha+\\beta)\\sum_{k=1}^{n} X_{k-1}$$\n通过平移求和的索引，我们得到 $A_n$ 的最终表达式：\n$$A_n = n\\alpha - (\\alpha+\\beta)\\sum_{k=0}^{n-1} X_k$$\n这就是对于 $n \\ge 1$ 的分解中可预测部分的显式表达式。\n\n接下来，我们求鞅部分 $M_n$。根据定义，$M_n = X_n - A_n$。\n代入我们刚刚求出的 $A_n$ 的表达式：\n$$M_n = X_n - \\left( n\\alpha - (\\alpha+\\beta)\\sum_{k=0}^{n-1} X_k \\right)$$\n$$M_n = X_n - n\\alpha + (\\alpha+\\beta)\\sum_{k=0}^{n-1} X_k$$\n这就是对于 $n \\ge 1$ 的分解中鞅部分的显式表达式。\n\nDoob分解的表达式对 $(M_n, A_n)$ 是：\n$$M_n = X_n - n\\alpha + (\\alpha+\\beta)\\sum_{k=0}^{n-1} X_k$$\n$$A_n = n\\alpha - (\\alpha+\\beta)\\sum_{k=0}^{n-1} X_k$$", "answer": "$$\\boxed{\\begin{pmatrix}X_n - n\\alpha + (\\alpha+\\beta)\\sum_{k=0}^{n-1} X_k  n\\alpha - (\\alpha+\\beta)\\sum_{k=0}^{n-1} X_k\\end{pmatrix}}$$", "id": "1298497"}]}