{"hands_on_practices": [{"introduction": "在金融等领域，我们经常需要组合不同的随机模型。本练习将探讨如何将一个具有向上漂移趋势的过程（下鞅）与一个具有向下漂移趋势的过程（上鞅）相结合，来创建一个新的、保证“保守”的随机过程（上鞅）。掌握这一技巧对于投资组合构建和风险管理至关重要。[@problem_id:1390382]", "problem": "在量化金融中，随机过程被用来模拟金融量随时间的变化。考虑一个带滤概率空间 $(\\Omega, \\mathcal{F}, (\\mathcal{F}_n)_{n \\geq 0}, P)$。一位分析师正在研究两种不同的资产模型。\n\n第一个过程 $(X_n)_{n \\geq 0}$ 表示一种通常预期会升值或保值的资产的价值。该过程被建模为关于滤 $(\\mathcal{F}_n)$ 的**下鞅**。一个过程 $(M_n)_{n \\geq 0}$ 是下鞅，如果它适应于 $(\\mathcal{F}_n)$，是可积的（即对所有 $n$ 都有 $E[|M_n|]  \\infty$），并且对所有 $n \\geq 0$ 都满足 $E[M_{n+1} | \\mathcal{F}_n] \\geq M_n$。\n\n第二个过程 $(Y_n)_{n \\geq 0}$ 表示一个预期会衰减或保持稳定的风险因子。该过程被建模为关于同一滤 $(\\mathcal{F}_n)$ 的**上鞅**。一个过程 $(M_n)_{n \\geq 0}$ 是上鞅，如果它适应于 $(\\mathcal{F}_n)$，是可积的，并且对所有 $n \\geq 0$ 都满足 $E[M_{n+1} | \\mathcal{F}_n] \\leq M_n$。\n\n分析师通过对这两个初始过程进行线性组合，构建了一个新的投资组合策略 $(Z_n)_{n \\geq 0}$：\n$$Z_n = c_1 X_n + c_2 Y_n$$\n其中 $c_1$ 和 $c_2$ 是非零实值常数。\n\n目标是构建一个“保守的”投资组合，其数学定义为一个本身是上鞅的策略。对于常数 $c_1$ 和 $c_2$ 的下列哪个条件，能保证对于*任何*如上所述的下鞅 $X_n$ 和上鞅 $Y_n$ 的选择，过程 $(Z_n)_{n \\geq 0}$ 都是一个上鞅？\n\nA. $c_1 \\leq 0$ 且 $c_2 \\geq 0$\n\nB. $c_1 \\geq 0$ 且 $c_2 \\leq 0$\n\nC. $c_1 \\geq 0$ 且 $c_2 \\geq 0$\n\nD. $c_1 \\leq 0$ 且 $c_2 \\leq 0$\n\nE. $c_1 + c_2 = 0$", "solution": "给定一个带滤概率空间和两个过程：关于同一滤 $(\\mathcal{F}_{n})_{n \\geq 0}$ 的一个下鞅 $(X_{n})_{n \\geq 0}$ 和一个上鞅 $(Y_{n})_{n \\geq 0}$。对于固定的非零常数 $c_{1},c_{2} \\in \\mathbb{R}$，定义 $Z_{n} = c_{1} X_{n} + c_{2} Y_{n}$。我们要寻找关于 $c_{1}$ 和 $c_{2}$ 的条件，以保证对于任何这样的 $X$ 和 $Y$，$(Z_{n})_{n \\geq 0}$ 都是一个上鞅。\n\n首先，注意到适应性和可积性在常数线性组合下是保持的：由于 $X_{n}$ 和 $Y_{n}$ 都适应于 $(\\mathcal{F}_{n})$，因此 $Z_{n}$ 也是适应的；并且\n$$\nE[|Z_{n}|] \\leq |c_{1}|\\,E[|X_{n}|] + |c_{2}|\\,E[|Y_{n}|]  \\infty,\n$$\n因此对所有 $n$，$Z_n$ 都是可积的。\n\n为了验证上鞅性质，我们使用条件期望的线性性：\n$$\nE[Z_{n+1} \\mid \\mathcal{F}_{n}] = c_{1}\\,E[X_{n+1} \\mid \\mathcal{F}_{n}] + c_{2}\\,E[Y_{n+1} \\mid \\mathcal{F}_{n}].\n$$\n我们需要\n$$\nE[Z_{n+1} \\mid \\mathcal{F}_{n}] \\leq Z_{n} = c_{1} X_{n} + c_{2} Y_{n} \\quad \\text{对所有 } n \\geq 0 \\text{ 几乎必然成立}.\n$$\n因为 $X$ 是一个下鞅而 $Y$ 是一个上鞅，我们有\n$$\nE[X_{n+1} \\mid \\mathcal{F}_{n}] \\geq X_{n}, \\qquad E[Y_{n+1} \\mid \\mathcal{F}_{n}] \\leq Y_{n}.\n$$\n如果 $c_{1} \\leq 0$ 且 $c_{2} \\geq 0$，那么将这两个不等式分别乘以 $c_{1}$ 和 $c_{2}$，并利用“乘以一个非正数会反转不等号，而乘以一个非负常数会保持不等号”这一事实，可得\n$$\nc_{1}\\,E[X_{n+1} \\mid \\mathcal{F}_{n}] \\leq c_{1} X_{n}, \\qquad c_{2}\\,E[Y_{n+1} \\mid \\mathcal{F}_{n}] \\leq c_{2} Y_{n}.\n$$\n将这两个不等式相加可得\n$$\nE[Z_{n+1} \\mid \\mathcal{F}_{n}] \\leq Z_{n},\n$$\n因此 $(Z_{n})_{n \\geq 0}$ 是一个上鞅。因此，条件 $c_{1} \\leq 0$ 且 $c_{2} \\geq 0$ 保证了对于任何下鞅 $X$ 和上鞅 $Y$，该性质都成立。\n\n我们现在证明，其他所列条件均不能保证对于任何 $X$ 和 $Y$ 的选择，$(Z_{n})$ 都是一个上鞅。\n\n- 对于 $c_{1} \\geq 0$ 且 $c_{2} \\leq 0$（选项 B），取 $Y_{n} \\equiv 0$（一个鞅，因此也是一个上鞅）和 $X_{n} = n$（一个确定性下鞅）。那么\n$$\nE[Z_{n+1} \\mid \\mathcal{F}_{n}] - Z_{n} = c_{1}\\big(E[X_{n+1} \\mid \\mathcal{F}_{n}] - X_{n}\\big) = c_{1} > 0,\n$$\n这违反了上鞅不等式。\n\n- 对于 $c_{1} \\geq 0$ 且 $c_{2} \\geq 0$（选项 C），同样的例子（$X_{n} = n$，$Y_{n} \\equiv 0$）可得\n$$\nE[Z_{n+1} \\mid \\mathcal{F}_{n}] - Z_{n} = c_{1} > 0,\n$$\n所以不能保证其为上鞅。\n\n- 对于 $c_{1} \\leq 0$ 且 $c_{2} \\leq 0$（选项 D），取 $X_{n} \\equiv 0$（一个鞅，因此也是一个下鞅）和 $Y_{n} = -n$（一个确定性上鞅）。那么\n$$\nE[Z_{n+1} \\mid \\mathcal{F}_{n}] - Z_{n} = c_{2}\\big(E[Y_{n+1} \\mid \\mathcal{F}_{n}] - Y_{n}\\big) = c_{2}(-1) \\geq 0,\n$$\n由于 $c_{2} \\leq 0$，这在一般情况下再次违反了上鞅不等式。\n\n- 对于 $c_{1} + c_{2} = 0$（选项 E），取 $Y_{n} \\equiv 0$ 和任何严格下鞅 $X$。那么 $Z_{n} = c_{1} X_{n}$ 并且\n$$\nE[Z_{n+1} \\mid \\mathcal{F}_{n}] - Z_{n} = c_{1}\\big(E[X_{n+1} \\mid \\mathcal{F}_{n}] - X_{n}\\big),\n$$\n如果 $c_{1} \\geq 0$，该值为非负，因此对于任意选择的 $X$ 和 $Y$ 不能保证其为上鞅。\n\n因此，在所列选项中，只有 $c_{1} \\leq 0$ 且 $c_{2} \\geq 0$ 能保证对于任何下鞅 $X$ 和上鞅 $Y$，$Z$ 都是一个上鞅。", "answer": "$$\\boxed{A}$$", "id": "1390382"}, {"introduction": "即使在“公平游戏”（如一个作为鞅的随机游走）中，其二次过程（如收益的平方）通常也不再是鞅，这反映了风险随时间累积的现象。本练习展示了如何通过减去一个确定性的补偿项来构建一个新的“补偿过程”，使其恢复为鞅。理解这种构造对于风险分析至关重要，并且是通往更高级主题（如伊藤积分）的基础步骤。[@problem_id:1390412]", "problem": "一个算法交易策略正在一个被设计为“公平”的模拟市场中进行测试，这意味着价格没有固有的向上或向下漂移。该策略在任何给定的一天，第 $k$ 天，产生的盈利或亏损由一个随机变量 $Y_k$ 表示。每日结果 $\\{Y_k\\}_{k \\ge 1}$ 被假定为独立同分布（i.i.d.），其期望值为 $E[Y_k] = 0$，方差为恒定的非零值 $Var(Y_k) = \\sigma^2$。\n\n$n$ 天后的总累计盈利或亏损为总和 $S_n = \\sum_{k=1}^n Y_k$。一位风险分析师定义了一个“补偿方差过程”$M_n$ 来分析该策略的风险状况。该过程定义为 $M_n = S_n^2 - n\\sigma^2$。\n\n假设已知每日盈亏的标准差为 $\\sigma = 350$。经过 $n=8$ 个交易日后，观测到的累计盈利为 $S_8 = 2100$。根据这些信息，计算在第 $n=20$ 天时补偿方差过程的期望值。将你的答案表示为单个实数。", "solution": "我们给定独立同分布（i.i.d.）的每日盈亏 $\\{Y_{k}\\}_{k \\ge 1}$，其中 $E[Y_{k}] = 0$ 且 $\\operatorname{Var}(Y_{k}) = \\sigma^{2}$。定义 $S_{n} = \\sum_{k=1}^{n} Y_{k}$ 和 $M_{n} = S_{n}^{2} - n \\sigma^{2}$。令 $\\{\\mathcal{F}_{n}\\}$ 为自然滤子 $\\mathcal{F}_{n} = \\sigma(Y_{1},\\dots,Y_{n})$。\n\n首先，我们证明 $\\{M_{n}\\}$ 是一个鞅。使用 $S_{n+1} = S_{n} + Y_{n+1}$，我们计算\n$$\nS_{n+1}^{2} = S_{n}^{2} + 2 S_{n} Y_{n+1} + Y_{n+1}^{2}.\n$$\n取关于 $\\mathcal{F}_{n}$ 的条件期望，并利用独立性和零均值，\n$$\nE[S_{n+1}^{2} \\mid \\mathcal{F}_{n}] = S_{n}^{2} + 2 S_{n} E[Y_{n+1} \\mid \\mathcal{F}_{n}] + E[Y_{n+1}^{2} \\mid \\mathcal{F}_{n}] = S_{n}^{2} + 0 + E[Y_{n+1}^{2}] = S_{n}^{2} + \\sigma^{2}.\n$$\n因此，\n$$\nE[M_{n+1} \\mid \\mathcal{F}_{n}] = E[S_{n+1}^{2} - (n+1)\\sigma^{2} \\mid \\mathcal{F}_{n}] = S_{n}^{2} + \\sigma^{2} - (n+1)\\sigma^{2} = S_{n}^{2} - n \\sigma^{2} = M_{n},\n$$\n所以 $\\{M_{n}\\}$ 是一个鞅。\n\n根据鞅的性质，对于 $20 \\ge 8$，\n$$\nE[M_{20} \\mid \\mathcal{F}_{8}] = M_{8}.\n$$\n根据观测值 $S_{8} = 2100$ 和 $\\sigma = 350$，我们计算\n$$\nM_{8} = S_{8}^{2} - 8 \\sigma^{2} = 2100^{2} - 8 \\cdot 350^{2}.\n$$\n计算各项：\n$$\n2100^{2} = 4{,}410{,}000, \\quad 350^{2} = 122{,}500, \\quad 8 \\cdot 122{,}500 = 980{,}000.\n$$\n因此，\n$$\nM_{8} = 4{,}410{,}000 - 980{,}000 = 3{,}430{,}000.\n$$\n因此，\n$$\nE[M_{20} \\mid S_{8} = 2100] = 3{,}430{,}000.\n$$", "answer": "$$\\boxed{3430000}$$", "id": "1390412"}, {"introduction": "我们已经看到，线性组合可以保持（超/亚）鞅的性质。但所有的数学运算都如此吗？本练习通过探讨两个上鞅的最大值是否仍为上鞅，来挑战一个看似合理的直觉。通过构建一个反例，我们可以更深刻地理解理论性质成立的精确条件，这是严谨科学思维的关键一环。[@problem_id:1390442]", "problem": "考虑概率论中的如下论断：\n\n“如果 $X = (X_n)_{n \\geq 0}$ 和 $Y = (Y_n)_{n \\geq 0}$ 是关于同一域流 $(\\mathcal{F}_n)_{n \\geq 0}$ 的两个上鞅，那么由 $M_n = \\max(X_n, Y_n)$ 定义的过程 $M = (M_n)_{n \\geq 0}$ 也是关于 $(\\mathcal{F}_n)_{n \\geq 0}$ 的一个上鞅。”\n\n回顾一下，如果对于每个 $n$，随机变量 $Z_n$ 都是 $\\mathcal{F}_n$-可测的，则称过程 $Z = (Z_n)_{n \\geq 0}$ 是适应于域流 $(\\mathcal{F}_n)_{n \\geq 0}$ 的。如果这样一个过程是适应的，对所有 $n$ 都有 $E[|Z_n|]  \\infty$，并且对所有 $n \\geq 0$ 都满足 $E[Z_{n+1} | \\mathcal{F}_n] \\leq Z_n$，那么它就是一个上鞅。\n\n设 $(\\xi_i)_{i \\geq 1}$ 是一个独立同分布的随机变量序列，满足 $P(\\xi_i = 1) = P(\\xi_i = -1) = 1/2$。设 $S_n$ 是一个简单对称随机游走，定义为 $S_0 = 0$ 以及当 $n \\geq 1$ 时 $S_n = \\sum_{i=1}^n \\xi_i$。设 $(\\mathcal{F}_n)_{n \\geq 0}$ 是由该随机游走生成的自然域流，即 $\\mathcal{F}_0 = \\{\\emptyset, \\Omega\\}$ 且当 $n \\geq 1$ 时 $\\mathcal{F}_n = \\sigma(\\xi_1, \\dots, \\xi_n)$。\n\n以下哪对过程 $(X_n, Y_n)$ 为上述论断提供了一个有效的反例？\n\nA. $X_n = S_n$ 和 $Y_n = -S_n$\n\nB. $X_n = -n^2$ 和 $Y_n = -n^2 - 1$\n\nC. $X_n = S_n$ 和 $Y_n = S_n - 1$\n\nD. $X_n = S_n^2$ 和 $Y_n = 0$", "solution": "我们通过验证给定过程的上鞅性质，然后检查由逐点最大值定义的过程是否违反上鞅不等式，来分析每个选项。\n\n回顾一下，对于简单对称随机游走，有 $S_{n+1} = S_n + \\xi_{n+1}$，其中 $E[\\xi_{n+1} \\mid \\mathcal{F}_n] = 0$ 且 $\\xi_{n+1}$ 独立于 $\\mathcal{F}_n$。因此\n$$\nE[S_{n+1} \\mid \\mathcal{F}_n] = S_n + E[\\xi_{n+1} \\mid \\mathcal{F}_n] = S_n,\n$$\n所以 $(S_n)_{n \\geq 0}$ 是一个鞅。因此，$(S_n)$ 和 $(-S_n)$ 都是上鞅。此外，$S_n$ 和任何确定性序列都适应于 $(\\mathcal{F}_n)$，并且所考虑的所有过程对于每个固定的 $n$ 都具有有限的一阶矩。\n\n选项 A：$X_n = S_n$，$Y_n = -S_n$。$(X_n)$ 和 $(Y_n)$ 都是鞅，因此也是上鞅。其最大值为\n$$\nM_n = \\max(S_n, -S_n) = |S_n|.\n$$\n我们计算条件期望。以 $\\mathcal{F}_n$ 为条件，并区分以下情况：\n- 如果 $S_n = k$ 且 $k \\geq 1$，那么 $S_{n+1} \\in \\{k+1, k-1\\}$，两者概率相等，所以\n$$\nE[|S_{n+1}| \\mid \\mathcal{F}_n] = \\frac{|k+1| + |k-1|}{2} = \\frac{(k+1) + (k-1)}{2} = k = |S_n|.\n$$\n- 如果 $S_n = -k$ 且 $k \\geq 1$，同样的计算得出 $E[|S_{n+1}| \\mid \\mathcal{F}_n] = |S_n|$。\n- 如果 $S_n = 0$，那么 $S_{n+1} \\in \\{1, -1\\}$，两者概率相等，所以\n$$\nE[|S_{n+1}| \\mid \\mathcal{F}_n] = \\frac{|1| + |-1|}{2} = 1  0 = |S_n|.\n$$\n因此，$E[M_{n+1} \\mid \\mathcal{F}_n] \\geq M_n$，并且在具有正概率的事件 $\\{S_n = 0\\}$ 上不等式是严格的。因此 $(M_n)$ 是一个下鞅，不满足上鞅不等式。这为该论断提供了一个有效的反例。\n\n选项 B：$X_n = -n^{2}$，$Y_n = -n^{2} - 1$。这些过程是确定性的、适应的且可积的。上鞅条件简化为 $X_{n+1} \\leq X_n$ 和 $Y_{n+1} \\leq Y_n$：\n$$\n-(n+1)^{2} \\leq -n^{2}, \\quad -(n+1)^{2} - 1 \\leq -n^{2} - 1,\n$$\n这对所有 $n$ 都成立。其最大值为\n$$\nM_n = \\max(-n^{2}, -n^{2} - 1) = -n^{2} = X_n,\n$$\n这是一个上鞅。因此，这不是一个反例。\n\n选项 C：$X_n = S_n$，$Y_n = S_n - 1$。因为 $S_n$ 是一个鞅，所以 $S_n - 1$ 也是一个鞅：\n$$\nE[S_{n+1} - 1 \\mid \\mathcal{F}_n] = E[S_{n+1} \\mid \\mathcal{F}_n] - 1 = S_n - 1 = Y_n.\n$$\n其最大值满足\n$$\nM_n = \\max(S_n, S_n - 1) = S_n,\n$$\n这是一个上鞅。因此，这不是一个反例。\n\n选项 D：$X_n = S_n^{2}$，$Y_n = 0$。我们有\n$$\nE[S_{n+1}^{2} \\mid \\mathcal{F}_n] = E[(S_n + \\xi_{n+1})^{2} \\mid \\mathcal{F}_n] = S_n^{2} + 2 S_n E[\\xi_{n+1} \\mid \\mathcal{F}_n] + E[\\xi_{n+1}^{2} \\mid \\mathcal{F}_n] = S_n^{2} + 1,\n$$\n所以 $(S_n^{2})$ 是一个下鞅，而不是上鞅。因此，此选项不满足 $X$ 和 $Y$ 都是上鞅的前提条件，不能作为反例。\n\n因此，只有选项 A 提供了一个有效的反例：两个输入过程都是上鞅，而它们的逐点最大值 $(|S_n|)$ 不是一个上鞅。", "answer": "$$\\boxed{A}$$", "id": "1390442"}]}