{"hands_on_practices": [{"introduction": "“几乎处处”相等是测度论中的一个核心概念，它允许我们忽略那些在“测度”意义下可以忽略不计的点集。这个练习旨在建立对该定义的基本直觉：一个在所有有理点上取值为1，在所有无理点上取值为0的高度不连续函数，实际上几乎处处等于一个非常简单的连续函数。通过解决这个问题，你将体会到“几乎处处”是如何帮助我们简化复杂函数的。[@problem_id:1845402]", "problem": "在实直线上的勒贝格测度论中，如果定义在集合 $S \\subseteq \\mathbb{R}$ 上的两个函数 $f$ 和 $g$ 在其上不相等的点的集合 $\\{x \\in S \\mid f(x) \\neq g(x)\\}$ 的勒贝格测度为零，则称它们“几乎处处”(a.e.)相等。\n\n集合 $A$ 的特征函数，记作 $\\chi_A(x)$，定义为：如果 $x \\in A$，则 $\\chi_A(x) = 1$；如果 $x \\notin A$，则 $\\chi_A(x) = 0$。\n\n令有理数集记作 $\\mathbb{Q}$。考虑一个定义在区间 $[0, 1]$ 上的函数 $f(x)$，它是该区间内有理数的特征函数。具体来说，$f(x) = \\chi_{\\mathbb{Q} \\cap [0, 1]}(x)$。\n\n找一个定义在区间 $[0,1]$ 上的连续函数 $g(x)$，它在 $[0,1]$ 上与 $f(x)$ 几乎处处相等。请写出该函数 $g(x)$ 的表达式。", "solution": "我们在带有勒贝格测度（记作 $m$）的区间 $[0,1]$ 上进行讨论。函数为 $f=\\chi_{\\mathbb{Q}\\cap[0,1]}$，即\n$$\nf(x)=\\begin{cases}\n1,  x\\in \\mathbb{Q}\\cap[0,1],\\\\\n0,  x\\in [0,1]\\setminus\\mathbb{Q}.\n\\end{cases}\n$$\n由于 $\\mathbb{Q}$ 是可数集，我们可以将 $\\mathbb{Q}\\cap[0,1]$ 写成 $\\{q_{n}\\}_{n=1}^{\\infty}$，并且每个单点集 $\\{q_{n}\\}$ 的勒贝格测度为零。因此，\n$$\nm\\big(\\mathbb{Q}\\cap[0,1]\\big)=m\\Big(\\bigcup_{n=1}^{\\infty}\\{q_{n}\\}\\Big)\\leq \\sum_{n=1}^{\\infty}m(\\{q_{n}\\})=0,\n$$\n所以在 $[0,1]$ 上 $f=0$ 几乎处处成立。\n\n对所有 $x\\in[0,1]$，定义 $g(x)\\equiv 0$。那么 $g$ 在 $[0,1]$ 上是连续的，并且 $f$ 和 $g$ 不相等的集合恰好是 $\\mathbb{Q}\\cap[0,1]$，其勒贝格测度为零。因此在 $[0,1]$ 上 $g=f$ 几乎处处成立。\n\n此外，如果 $g$ 是 $[0,1]$ 上的任意连续函数，且几乎处处有 $g=f$，那么几乎处处有 $g=0$。使用反证法，假设存在 $x_{0}\\in[0,1]$ 使得 $g(x_{0})\\neq 0$。令 $\\varepsilon=\\frac{|g(x_{0})|}{2}>0$。根据在 $x_{0}$ 处的连续性，存在 $\\delta>0$ 使得当 $|x-x_0|  \\delta$ 时，有 $|g(x)-g(x_0)|  \\varepsilon$，这导致在 $(x_{0}-\\delta,x_{0}+\\delta)\\cap[0,1]$ 上有 $|g(x)|\\geq |g(x_{0})|-\\varepsilon=\\frac{|g(x_{0})|}{2}0$。这个集合具有正的勒贝格测度，这与 $g=0$ 几乎处处成立相矛盾。因此，与 $f$ 几乎处处相等的唯一连续函数是 $g(x)\\equiv 0$。\n\n因此，一个有效的选择是对所有 $x\\in[0,1]$，有 $g(x)=0$。", "answer": "$$\\boxed{0}$$", "id": "1845402"}, {"introduction": "理解了“几乎处处”相等的定义后，下一个关键问题是：这个概念有何实际应用？此练习展示了其在勒贝格积分理论中的一个最重要推论：如果两个函数几乎处处相等，它们的勒贝格积分也相等。这个问题阐明了为何在积分的语境下，我们可以用一个更“良好”的函数来替换一个仅在零测集上行为异常的函数，极大地简化了计算。[@problem_id:32072]", "problem": "考虑一个函数 $f: [0, 3] \\to \\mathbb{R}$。对于所有 $x \\in [0, 3]$，除了在一个特定的点集 $S \\subset [0, 3]$ 上，该函数被定义为等于 $g(x) = x^2$。在这个集合 $S$ 上，函数被定义为 $f(x) = \\sin(x^3) + 5$。已知集合 $S$ 是可数的。\n\n你的任务是计算 $f$ 在区间 $[0, 3]$ 上的勒贝格积分的值。\n\n**背景信息：**\n- 如果对于任意 $\\epsilon  0$，集合 $E$ 都可以被一个区间总长度小于 $\\epsilon$ 的可数并集覆盖，则称集合 $E$ 的勒贝格测度为零，记为 $\\mu(E)=0$。所有可数集的勒贝格测度都为零。\n- 如果在可测集 $A$ 上定义的两个函数 $f$ 和 $g$，集合 $\\{x \\in A \\mid f(x) \\neq g(x)\\}$ 的勒贝格测度为零，则称它们在 $A$ 上**几乎处处**（a.e.）相等。\n- **性质 1：** 如果函数 $g$ 在集合 $A$ 上是勒贝格可积的，并且函数 $f$ 在 $A$ 上几乎处处等于 $g$，那么 $f$ 在 $A$ 上也是勒贝格可积的，并且它们的积分相等：\n$$\n\\int_A f d\\mu = \\int_A g d\\mu\n$$\n- **性质 2：** 如果函数 $g$ 在闭区间 $[a,b]$ 上是黎曼可积的，那么它在 $[a,b]$ 上也是勒贝格可积的，并且其勒贝格积分等于其黎曼积分：\n$$\n\\int_{[a,b]} g d\\mu = \\int_a^b g(x) dx\n$$\n\n利用所提供的信息和性质，推导 $\\int_{[0,3]} f d\\mu$ 的值。", "solution": "因为 $S$ 是可数的，所以 $\\mu(S)=0$，于是在 $[0,3]\\setminus S$ 上我们有\n$$f(x)=g(x)=x^2$$\n并且 $\\{x:f(x)\\neq g(x)\\}=S$ 的测度为零。根据性质 1，$f$ 是勒贝格可积的并且\n$$\\int_{[0,3]}f\\,d\\mu=\\int_{[0,3]}g\\,d\\mu\\,. $$\n根据性质 2，$g(x)=x^2$ 在 $[0,3]$ 上是黎曼可积的，并且\n$$\\int_{[0,3]}g\\,d\\mu=\\int_0^3 x^2\\,dx=\\Bigl[\\tfrac{1}{3}x^3\\Bigr]_0^3=\\tfrac{1}{3}\\cdot27=9\\,. $$\n因此\n$$\\int_{[0,3]}f\\,d\\mu=9\\,. $$", "answer": "$$\\boxed{9}$$", "id": "32072"}, {"introduction": "我们已经看到，“几乎处处”相等这一概念在积分计算中表现良好，但它是否能保持函数的所有分析性质呢？这个更深入的问题探讨了“几乎处处”相等与可微性之间的微妙关系。通过构建一个反例，此练习将揭示，一个函数可以几乎处处等于一个光滑（连续可微）的函数，但其自身却处处不可微，这突显了可微性是一个比可积性更“脆弱”的局部性质。[@problem_id:1845388]", "problem": "在实分析和测度论的背景下，我们探究在零测集上被修改的函数的性质。\n\n设定义域为闭区间 $[0,1]$。我们使用标准的勒贝格测度，记为 $\\mu$。\n如果两个函数 $f, g: [0,1] \\to \\mathbb{R}$ 仅在一个零测集上不相等，即 $\\mu(\\{x \\in [0,1] \\mid f(x) \\neq g(x)\\}) = 0$，则称它们**几乎处处相等**（a.e.）。\n如果对于区间 $[0,1]$ 中的每一点 $x$，定义导数的极限 $\\lim_{h \\to 0} \\frac{g(x+h)-g(x)}{h}$ 都不存在，则称函数 $g: [0,1] \\to \\mathbb{R}$ 是**处处不可导**的。\n\n考虑以下命题：\n“一个函数 $g: [0,1] \\to \\mathbb{R}$ 可能处处不可导，同时几乎处处等于一个连续可导的函数 $f: [0,1] \\to \\mathbb{R}$（即 $f \\in C^1([0,1])$）。”\n\n下列哪个陈述对该命题给出了正确的评估和正确的推理？\n\nA. 该命题为假。如果 $f = g$ a.e. 且 $f$ 连续可导，则 $f$ 必定是连续的。这意味着 $g$ 几乎处处连续。根据实函数的一个性质，任何几乎处处连续的函数必须在一个正测集上可导，这与 $g$ 处处不可导相矛盾。\n\nB. 该命题为假。如果 $f \\in C^1([0,1])$ 且 $f=g$ a.e.，勒贝格积分的基本定理意味着 $g$ 必须是绝对连续的。每个绝对连续的函数都几乎处处可导。这与 $g$ 处处不可导的条件相矛盾。\n\nC. 该命题为真。我们可以从任意一个 $C^1$ 函数 $f$ 开始，加上另一个函数来构造这样的函数 $g$。这个被加上的函数仅在一个零测度的稠密集合（如有理数集）上非零，并且其值的选取方式使得在定义域中的每一点，定义导数的极限都被破坏。\n\nD. 该命题为真，但仅在连续可导函数 $f$ 是一个常数函数（即对于某个常数 $c$，$f(x)=c$）的特定条件下成立。对于非常数函数 $f$ 是不可能的。\n\nE. 该命题为真。Weierstrass 函数是一个处处连续但处处不可导的函数的例子，并且任何连续函数都可以被一个 $C^1$ 函数逼近，因此这样的 $g$ 必定存在。", "solution": "我们通过显式构造和严格验证来评估该命题。\n\n设 $f\\in C^{1}([0,1])$ 为任意函数。定义一个函数 $h:[0,1]\\to\\mathbb{R}$ 如下：\n$$\nh(x)=\\begin{cases}\nx,  x\\in \\mathbb{Q}\\cap[0,1],\\\\\n0,  x\\in [0,1]\\setminus\\mathbb{Q}.\n\\end{cases}\n$$\n定义 $g=f+h$。则在 $[0,1]\\setminus\\mathbb{Q}$ 上有 $g=f$，在 $\\mathbb{Q}\\cap[0,1]$ 上有 $g=f+x$。由于 $\\mathbb{Q}\\cap[0,1]$ 是可数的，其勒贝格测度为零，所以 $g=f$ 几乎处处成立。这验证了 $g$ 几乎处处等于一个 $C^{1}$ 函数。\n\n我们现在证明 $g$ 在 $[0,1]$ 上处处不可导。固定 $x\\in[0,1]$ 并考虑差商\n$$\nQ(h)=\\frac{g(x+h)-g(x)}{h}\n$$\n对于足够小的 $h$ 使得 $x+h\\in[0,1]$。\n\n情况1：$x$ 是无理数。选择一个有理数序列 $q_{n}\\in[0,1]\\cap\\mathbb{Q}$ 且 $q_{n}\\to x$，并设 $s_{n}=q_{n}-x$。则 $s_{n}\\to 0$， $x+s_{n}=q_{n}\\in\\mathbb{Q}$，且\n$$\nQ(s_{n})=\\frac{g(q_{n})-g(x)}{s_{n}}\n=\\frac{f(q_{n})+q_{n}-f(x)}{s_{n}}\n=\\frac{f(q_{n})-f(x)}{s_{n}}+\\frac{q_{n}}{s_{n}}\n=\\frac{f(q_{n})-f(x)}{s_{n}}+\\frac{x}{s_{n}}+1.\n$$\n因为 $f\\in C^{1}$，当 $n\\to\\infty$ 时，第一项趋于 $f'(x)$，但 $x$ 是无理数，因此 $x\\neq 0$，所以当 $s_{n}\\to 0$ 时 $\\frac{x}{s_{n}}\\to\\pm\\infty$。因此 $Q(s_{n})$ 发散，导数在 $x$ 点不存在。\n\n情况2：$x$ 是有理数且 $x\\neq 0$。选择一个无理数序列 $t_{n}\\to 0$ 使得 $x+t_{n}\\in[0,1]\\setminus\\mathbb{Q}$。那么\n$$\nQ(t_{n})=\\frac{g(x+t_{n})-g(x)}{t_{n}}=\\frac{f(x+t_{n})-f(x)-x}{t_{n}}=\\frac{f(x+t_{n})-f(x)}{t_{n}}-\\frac{x}{t_{n}}.\n$$\n同样地，第一项趋于 $f'(x)$，而因为 $x\\neq 0$，$\\frac{x}{t_{n}}\\to\\pm\\infty$。因此 $Q(t_{n})$ 发散，导数在 $x$ 点不存在。\n\n情况3：$x=0$（注意 $0$ 是有理数）。选择序列 $r_{n}\\in\\mathbb{Q}\\cap[0,1]$ 和 $u_{n}\\in[0,1]\\setminus\\mathbb{Q}$，使得 $r_{n}\\to 0$ 且 $u_{n}\\to 0$。那么\n$$\nQ(r_{n})=\\frac{g(r_{n})-g(0)}{r_{n}}=\\frac{f(r_{n})+r_{n}-f(0)-0}{r_{n}}=\\frac{f(r_{n})-f(0)}{r_{n}}+1\\to f'(0)+1,\n$$\n而\n$$\nQ(u_{n})=\\frac{g(u_{n})-g(0)}{u_{n}}=\\frac{f(u_{n})-f(0)}{u_{n}}\\to f'(0).\n$$\n这两个子序列的极限不同，因此在 $0$ 点的导数不存在。\n\n因此在所有情况 $x\\in[0,1]$ 下， $g$ 在 $x$ 点都不可导。所以 $g$ 是处处不可导的，同时对于 $f\\in C^{1}([0,1])$，$g=f$ 几乎处处成立。这证明了该命题为真。\n\n关于这些选项：\n- A 是不正确的，因为与一个连续函数几乎处处相等并不意味着几乎处处连续，也不意味着在一个正测集上可导。\n- B 是不正确的，因为绝对连续性和几乎处处可导性在零测集上修改后不一定保持；该论证仅适用于绝对连续的代表元，而不适用于任意一个几乎处处相等的逐点定义的版本。\n- C 是正确的；上面的构造是一个具体实例：我们加上了一个支集为稠密零测集（有理数集）的函数，它破坏了每一点的可导性。\n- D 是错误的；该构造对任意 $f\\in C^{1}([0,1])$ 都有效，而不仅仅是对常数函数 $f$。\n- E 是错误的；Weierstrass 函数处处连续，如果它几乎处处等于一个 $C^1$ 函数，那么根据连续性，它必须处处与该 $C^1$ 函数相等，而这是不可能的。", "answer": "$$\\boxed{C}$$", "id": "1845388"}]}