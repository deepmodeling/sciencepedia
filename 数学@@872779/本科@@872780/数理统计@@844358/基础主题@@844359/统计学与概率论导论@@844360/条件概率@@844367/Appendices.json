{"hands_on_practices": [{"introduction": "要真正掌握条件概率，最好的方法是从一个直观的例子开始。这个经典的掷骰子问题 [@problem_id:3049] 旨在帮助你建立基本直觉。通过计算在已知两颗骰子点数之和为一个特定值时，至少有一颗骰子是5的概率，你将学会如何将样本空间缩小到“已知的”事件中，这是条件概率的核心思想。", "problem": "考虑一个投掷两个公平的六面骰子的实验。这两个骰子是独立的，六个面（数字从1到6）中的每一个面朝上的概率都相等。\n\n设 $A$ 为事件“至少有一个骰子显示数字5”。\n设 $B$ 为事件“两个骰子显示的点数之和恰好为8”。\n\n求在事件 $B$ 已发生的情况下，事件 $A$ 发生的条件概率，记作 $P(A|B)$。", "solution": "问题要求的是条件概率 $P(A|B)$。在一个样本空间中，对于事件 $A$ 和 $B$ 的条件概率定义为：\n$$\nP(A|B) = \\frac{P(A \\cap B)}{P(B)}\n$$\n其中 $P(A \\cap B)$ 是事件 $A$ 和 $B$ 同时发生的概率，而 $P(B)$ 是事件 $B$ 发生的概率，且 $P(B)  0$。\n\n对于具有有限个等可能结果的问题，这可以计算为事件交集中的结果数与条件事件中的结果数之比：\n$$\nP(A|B) = \\frac{|A \\cap B|}{|B|}\n$$\n\n首先，我们来定义样本空间 $S$。该实验涉及投掷两个六面骰子。结果可以用一个有序对 $(d_1, d_2)$ 来表示，其中 $d_1$ 是第一个骰子的结果，$d_2$ 是第二个骰子的结果。每个骰子可以显示来自 $\\{1, 2, 3, 4, 5, 6\\}$ 的一个数字。\n所有可能结果的总数为 $|S| = 6 \\times 6 = 36$。\n\n接下来，我们来确定对应于事件 $B$ 的结果集，其中骰子的点数之和为8。\n$$\nB = \\{(d_1, d_2) | d_1 + d_2 = 8\\}\n$$\n列出这些有序对：\n$B = \\{(2, 6), (3, 5), (4, 4), (5, 3), (6, 2)\\}$\n事件 $B$ 中的结果数量为 $|B| = 5$。\n\n现在，我们来确定交集事件 $A \\cap B$ 的结果集。该事件对应于点数之和为8且至少有一个骰子显示数字5的结果。我们可以通过检查集合 $B$ 来找到这些结果。\n$$\nA \\cap B = \\{(d_1, d_2) \\in B | d_1 = 5 \\text{ or } d_2 = 5\\}\n$$\n从集合 $B$ 中，满足此条件的结果是：\n$A \\cap B = \\{(3, 5), (5, 3)\\}$\n交集事件 $A \\cap B$ 中的结果数量为 $|A \\cap B| = 2$。\n\n最后，我们可以使用等可能结果的公式来计算条件概率 $P(A|B)$。我们已知事件B已经发生，因此我们新的、缩减的样本空间就是集合 $B$ 本身，它有5个结果。在这5个可能的结果中，有2个满足事件A的条件。\n$$\nP(A|B) = \\frac{|A \\cap B|}{|B|}\n$$\n代入我们找到的值：\n$$\nP(A|B) = \\frac{2}{5}\n$$", "answer": "$$\n\\boxed{\\frac{2}{5}}\n$$", "id": "3049"}, {"introduction": "条件概率在现实世界中一个最强大的应用就是“诊断性推理”——根据观察到的结果来推断其原因。这个问题 [@problem_id:3074] 模拟了一个常见的工业质量控制场景。通过推导一个有缺陷的微芯片来自特定生产线的概率，你将练习使用总概率定律和贝叶斯定理的基本形式，这对于理解现代统计学和机器学习至关重要。", "problem": "一家工厂使用两条不同的生产线（生产线 A 和生产线 B）生产一种特定类型的微芯片。生产线 A 负责生产总微芯片中的一部分，比例为 $p_A$，而生产线 B 生产剩余部分，比例为 $p_B = 1-p_A$。\n\n由于机器的差异，来自生产线 A 的微芯片有缺陷的概率为 $d_A$，而来自生产线 B 的微芯片有缺陷的概率为 $d_B$。所有微芯片在装运前都收集在同一个箱子中。\n\n假设从箱子中随机抽取一个微芯片，发现它是有缺陷的。推导该有缺陷的微芯片由生产线 A 生产的概率表达式。用 $p_A$、$d_A$ 和 $d_B$ 表示你的答案。", "solution": "我们定义以下事件：\n- $A$：所选微芯片由生产线 A 生产的事件。\n- $B$：所选微芯片由生产线 B 生产的事件。\n- $D$：所选微芯片是有缺陷的事件。\n\n根据问题描述，我们已知以下概率：\n- 随机选择的微芯片来自生产线 A 的概率为 $P(A) = p_A$。\n- 随机选择的微芯片来自生产线 B 的概率为 $P(B) = p_B = 1 - p_A$。\n- 一个微芯片在已知其来自生产线 A 的条件下是有缺陷的概率为 $P(D|A) = d_A$。\n- 一个微芯片在已知其来自生产线 B 的条件下是有缺陷的概率为 $P(D|B) = d_B$。\n\n我们想要求的是在已知微芯片有缺陷的情况下，它是由生产线 A 生产的概率。这就是条件概率 $P(A|D)$。\n\n条件概率的定义如下：\n$$\nP(A|D) = \\frac{P(A \\cap D)}{P(D)}\n$$\n其中 $P(A \\cap D)$ 是微芯片来自生产线 A 且有缺陷的概率，而 $P(D)$ 是随机选择的微芯片有缺陷的总概率。\n\n首先，我们来求分子 $P(A \\cap D)$。我们可以重新整理关于 $P(D|A)$ 的条件概率定义：\n$$\nP(D|A) = \\frac{P(D \\cap A)}{P(A)}\n$$\n求解 $P(D \\cap A)$（这与 $P(A \\cap D)$ 相同），我们得到：\n$$\nP(A \\cap D) = P(D|A) P(A)\n$$\n代入给定值：\n$$\nP(A \\cap D) = d_A p_A\n$$\n\n接下来，我们来求分母 $P(D)$。一个微芯片可能有缺陷有两种互斥的方式：它由生产线 A 生产且有缺陷，或者它由生产线 B 生产且有缺陷。使用全概率公式，我们可以将 $P(D)$ 表示为这些可能性的总和：\n$$\nP(D) = P(D \\cap A) + P(D \\cap B)\n$$\n我们已经求得 $P(D \\cap A) = d_A p_A$。类似地，我们可以求得 $P(D \\cap B)$：\n$$\nP(D \\cap B) = P(D|B) P(B) = d_B p_B\n$$\n代入 $p_B = 1 - p_A$：\n$$\nP(D \\cap B) = d_B (1 - p_A)\n$$\n现在，我们可以将有缺陷的总概率写为：\n$$\nP(D) = d_A p_A + d_B (1 - p_A)\n$$\n\n最后，我们将分子 $P(A \\cap D)$ 和分母 $P(D)$ 的表达式代回到我们最初的 $P(A|D)$ 公式中：\n$$\nP(A|D) = \\frac{d_A p_A}{d_A p_A + d_B (1 - p_A)}\n$$\n这就是有缺陷部件来自生产线 A 的概率的最终表达式。", "answer": "$$\n\\boxed{\\frac{p_A d_A}{p_A d_A + (1-p_A) d_B}}\n$$", "id": "3074"}, {"introduction": "条件概率不仅适用于可数的、离散的结果，它同样可以优雅地应用于连续的几何空间。这个问题 [@problem_id:1905901] 邀请你进入几何概率的世界，其中概率是通过比较面积来计算的。通过分析在一个圆内随机生成的弦，你将看到，一个事件（弦长大于半径）的信息是如何将我们的样本空间从整个圆盘缩小到一个更小的同心圆盘，从而改变另一个事件（弦长大于内接等边三角形的边长）的概率。", "problem": "考虑一个二维平面上半径为 $R$ 的圆。在圆的内部所有可能的点中均匀随机地选择一个点作为中点，从而生成一条随机弦。\n\n设 $L$ 为这条随机弦的长度。我们关心的是，在已知弦长大于圆半径的条件下，弦长大于内接等边三角形边长的条件概率。\n\n求此条件概率。将您的答案表示为单个最简分数。", "solution": "设 $r$ 为圆心到弦中点的距离。根据直角三角形的几何性质，弦长的一半为 $\\sqrt{R^{2}-r^{2}}$，因此弦长为\n$$\nL(r)=2\\sqrt{R^{2}-r^{2}}.\n$$\n内接等边三角形的边长为 $\\sqrt{3}\\,R$。因此\n$$\nL>\\sqrt{3}\\,R \\;\\Longleftrightarrow\\; 2\\sqrt{R^{2}-r^{2}}>\\sqrt{3}\\,R \\;\\Longleftrightarrow\\; 4(R^{2}-r^{2})>3R^{2} \\;\\Longleftrightarrow\\; r  \\frac{R}{2}.\n$$\n类似地，\n$$\nL>R \\;\\Longleftrightarrow\\; 2\\sqrt{R^{2}-r^{2}}>R \\;\\Longleftrightarrow\\; 4(R^{2}-r^{2})>R^{2} \\;\\Longleftrightarrow\\; r  \\frac{\\sqrt{3}}{2}R.\n$$\n由于中点在圆盘上均匀分布，概率与面积成正比。所以，\n$$\nP\\left(L>\\sqrt{3}\\,R \\mid L>R\\right)=\\frac{\\text{面积}\\{r  R/2\\}}{\\text{面积}\\{r  \\frac{\\sqrt{3}}{2}R\\}}=\\frac{\\pi\\left(\\frac{R}{2}\\right)^{2}}{\\pi\\left(\\frac{\\sqrt{3}}{2}R\\right)^{2}}=\\frac{\\frac{R^{2}}{4}}{\\frac{3R^{2}}{4}}=\\frac{1}{3}.\n$$", "answer": "$$\\boxed{\\frac{1}{3}}$$", "id": "1905901"}]}