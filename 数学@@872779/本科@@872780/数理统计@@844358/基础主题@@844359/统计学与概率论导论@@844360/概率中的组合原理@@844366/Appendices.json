{"hands_on_practices": [{"introduction": "让我们从一个看似简单的密码问题开始。这个练习将展示组合学中的一个巧妙技巧：当元素的顺序被严格规定时（例如，严格递增），排列问题如何转化为更简单的组合问题。通过解决这个问题[@problem_id:1905135]，你将学会识别并利用这种结构来简化计数。", "problem": "一家金融服务公司使用一个4位数的个人识别码（PIN）来验证交易。PIN的每一位都是从集合 $\\{0, 1, 2, \\dots, 9\\}$ 中选出的整数，并且是可重复选择，意味着数字可以重复。如果一个PIN的前两位数字构成一个严格递增序列，且其后两位数字也构成一个严格递增序列，则称其具有“成对递增”结构。例如，PIN码3714是有效的，因为 $3  7$ 且 $1  4$，而3125则不是。一个随机生成的4位数PIN具有成对递增结构的概率是多少？请将您的答案表示为最简精确分数。", "solution": "设PIN的各位数字为 $(d_{1}, d_{2}, d_{3}, d_{4})$，每一位都独立地从 $\\{0,1,2,\\dots,9\\}$ 中选取。所有可能的PIN的总数为\n$$\n10^{4}.\n$$\n一个“成对递增”结构要求 $d_1  d_2$ 且 $d_3  d_4$。\n\n对于前两位数字 $(d_1, d_2)$，满足 $d_1  d_2$ 的条件等价于从集合 $\\{0, 1, \\dots, 9\\}$ 中无序地选择两个不同的数字。一旦选定，较小的数字自动成为 $d_1$，较大的成为 $d_2$。从10个数字中选择2个的方式数由组合公式给出：\n$$ \\binom{10}{2} = \\frac{10 \\times 9}{2} = 45 \\text{ 种} $$\n同样，对于后两位数字 $(d_3, d_4)$，也有 $\\binom{10}{2} = 45$ 种方式满足 $d_3  d_4$。\n\n由于前两位的选择与后两位的选择是独立的，根据乘法法则，满足“成对递增”结构的PIN总数为：\n$$ \\text{有利结果数} = 45 \\times 45 = 2025 $$\n因此，一个随机生成的PIN具有该结构的概率是：\n$$ P(\\text{成对递增}) = \\frac{\\text{有利结果数}}{\\text{总结果数}} = \\frac{2025}{10000} = \\frac{81}{400} $$", "answer": "$$\\boxed{\\frac{81}{400}}$$", "id": "1905135"}, {"introduction": "在掌握了基础的组合计数后，我们可以将其推广到更普遍的情况。这个练习模拟了一个数字通信系统，要求我们计算一个序列中出现特定状态组合的概率[@problem_id:1905149]。这引出了多项分布的思想，它是将二项分布推广到多个结果类别的核心工具，在数据科学和工程领域有着广泛应用。", "problem": "在一个简化的数字通信系统中，一个包含 $N$ 个数据包的序列被传输。每个数据包可以独立地处于 $S$ 个不同状态之一，这些状态被标记为 $1, 2, \\ldots, S$。对于任何一个给定的数据包，这 $S$ 个状态中的每一个都是等可能的。\n\n我们指定两个特定状态：“状态A”（状态1）和“状态B”（状态2）。在一个随机传输的包含 $N$ 个数据包的序列中，恰好有 $k_A$ 个数据包处于状态A，且恰好有 $k_B$ 个数据包处于状态B的概率是多少？其中 $k_A$ 和 $k_B$ 是非负整数，满足 $k_A + k_B \\le N$。\n\n请用 $N$、$S$、$k_A$ 和 $k_B$ 将你的答案表示为一个单一的闭式解析表达式。", "solution": "该问题要求计算一个包含 $N$ 个数据包的序列中出现特定构成的概率，其中每个数据包可以独立地从 $S$ 个等可能的状态中取值。这是组合概率中的一个经典问题。解法可以通过计算有利结果的数量与所有可能结果总数的比值得到。\n\n首先，我们确定所有可能结果的总数。该序列包含 $N$ 个数据包。这 $N$ 个数据包中的每一个都可以处于 $S$ 个状态中的任意一个。由于每个数据包的状态是独立的，样本空间 $|\\Omega|$ 中所有可能序列的总数可以通过乘法原理计算得出：\n$$ |\\Omega| = S \\times S \\times \\dots \\times S \\text{ (N times)} = S^N $$\n\n接下来，我们需要计算有利结果的数量，我们将其记为 $|E|$。一个有利结果是指一个序列，其中恰好有 $k_A$ 个数据包处于状态A，恰好有 $k_B$ 个数据包处于状态B，因此有 $N - k_A - k_B$ 个数据包处于任何其他状态。我们可以通过以下步骤构建这样的序列：\n\n1.  **为状态A选择位置：** 我们需要从序列中 $N$ 个可用位置中为处于状态A的数据包选择 $k_A$ 个位置。完成此操作的方法数由二项式系数 $\\binom{N}{k_A}$ 给出。\n$$ \\binom{N}{k_A} = \\frac{N!}{k_A!(N-k_A)!} $$\n\n2.  **为状态B选择位置：** 在放置了 $k_A$ 个数据包后，还剩下 $N - k_A$ 个位置。我们需要从这些剩余位置中为处于状态B的数据包选择 $k_B$ 个位置。完成此操作的方法数是 $\\binom{N-k_A}{k_B}$。\n$$ \\binom{N-k_A}{k_B} = \\frac{(N-k_A)!}{k_B!(N-k_A-k_B)!} $$\n\n3.  **为剩余位置分配状态：** 还剩下 $N - k_A - k_B$ 个位置。这些位置上的数据包不能处于状态A或状态B。对于这些剩余的数据包中的每一个，都有 $S-2$ 个其他状态可用。由于有 $N - k_A - k_B$ 个这样的位置，并且每个位置的选择是独立的，因此为这些剩余数据包分配状态的方法数是 $(S-2)^{N - k_A - k_B}$。\n\n根据乘法原理，有利序列的总数 $|E|$ 是执行每个步骤的方法数的乘积：\n$$ |E| = \\binom{N}{k_A} \\binom{N-k_A}{k_B} (S-2)^{N - k_A - k_B} $$\n让我们简化二项式系数的乘积：\n$$ \\binom{N}{k_A} \\binom{N-k_A}{k_B} = \\frac{N!}{k_A!(N-k_A)!} \\times \\frac{(N-k_A)!}{k_B!(N-k_A-k_B)!} = \\frac{N!}{k_A!k_B!(N-k_A-k_B)!} $$\n这就是多项式系数 $\\binom{N}{k_A, k_B, N-k_A-k_B}$，它计算的是将 $N$ 个项目分到大小分别为 $k_A$、$k_B$ 和 $N-k_A-k_B$ 的三个不同组中的方法数。\n\n所以，有利结果的总数是：\n$$ |E| = \\frac{N!}{k_A!k_B!(N-k_A-k_B)!} (S-2)^{N - k_A - k_B} $$\n\n最后，概率 $P(E)$ 是有利结果数与总结果数的比值：\n$$ P(E) = \\frac{|E|}{|\\Omega|} = \\frac{\\frac{N!}{k_A!k_B!(N-k_A-k_B)!} (S-2)^{N - k_A - k_B}}{S^N} $$\n\n这可以写成最终的表达式。", "answer": "$$\\boxed{\\frac{N!}{k_A! k_B! (N - k_A - k_B)!} \\frac{(S-2)^{N - k_A - k_B}}{S^N}}$$", "id": "1905149"}, {"introduction": "组合概率的魅力不仅在于计算特定事件的概率，还在于解决优化问题。在这个练习中，你的任务不再是计算一个固定的概率，而是要确定一个参数（委员会规模 $k$）以最大化某个理想结果的概率[@problem_id:1905087]。这个问题将组合计数与分析推理相结合，展示了如何运用概率工具来做出最优决策。", "problem": "某科技公司的一个专业研发（RD）部门由 $n$ 对不同的主管-专员配对构成。每位主管工程师都与一位专员工程师唯一配对，因此该部门共有 $2n$ 名员工。为进行一项关键的项目审计，需从该部门随机挑选员工，组建一个规模为 $k$ 的审查委员会。公司的数据分析表明，最有效的审查委员会——在协同增效与引入新视角之间取得平衡——是那些恰好包含*一个*已存在的主管-专员配对的委员会。\n\n已知该部门由 $n=12$ 对配对组成，请确定能使组建这样一个有效委员会的概率最大化的整数委员会规模 $k$。委员会的规模必须在 $3 \\le k \\le 23$ 的范围内。", "solution": "设 $n$ 为配对的数量，$2n$ 为总人数。一个规模为 $k$ 的委员会恰好包含一个完整配对，当且仅当：\n1) 我们选择一个将被完整包含的配对：有 $\\binom{n}{1}=n$ 种方式。\n2) 从剩下的 $n-1$ 对中，我们选出 $k-2$ 个不同的配对，并从每个配对中只选择一名成员：有 $\\binom{n-1}{k-2} 2^{k-2}$ 种方式，这仅在 $k-2 \\leq n-1$ (即 $k \\leq n+1$) 时有效。\n\n因此，满足条件的委员会数量为 $n \\binom{n-1}{k-2} 2^{k-2}$，而委员会的总数量为 $\\binom{2n}{k}$。所以，对于 $k \\leq n+1$，\n$$\nP(k)=\\frac{n \\binom{n-1}{k-2} 2^{k-2}}{\\binom{2n}{k}},\n$$\n并且当 $kn+1$ 时，$P(k)=0$。当 $n=12$ 时，能产生非零概率的可行 $k$ 值满足 $3 \\leq k \\leq 13$。\n\n为了找到使概率最大化的 $k$，我们考虑当 $3 \\leq k \\leq 12$ 时的比率：\n$$\nr(k)=\\frac{P(k+1)}{P(k)}=\\frac{\\binom{n-1}{k-1}}{\\binom{n-1}{k-2}} \\cdot 2 \\cdot \\frac{\\binom{2n}{k}}{\\binom{2n}{k+1}}.\n$$\n使用组合恒等式 $\\frac{\\binom{a}{b}}{\\binom{a}{b-1}}=\\frac{a-b+1}{b}$ 和 $\\frac{\\binom{a}{b}}{\\binom{a}{b+1}}=\\frac{b+1}{a-b}$，我们得到\n$$\nr(k)=\\frac{(n-k+1)}{k-1}\\cdot 2 \\cdot \\frac{k+1}{2n-k}=\\frac{2(n-k+1)(k+1)}{(k-1)(2n-k)}.\n$$\n当 $n=12$ 时，\n$$\nr(k)=\\frac{2(13-k)(k+1)}{(k-1)(24-k)}.\n$$\n我们有 $P(k+1)\\geq P(k)$ 当且仅当 $r(k)\\geq 1$，即\n$$\n2(13-k)(k+1)\\geq (k-1)(24-k)\n\\;\\Longleftrightarrow\\;\n-k^{2}-k+50\\geq 0\n\\;\\Longleftrightarrow\\;\nk^{2}+k-50\\leq 0.\n$$\n$k^{2}+k-50=0$ 的根为 $k=\\frac{-1\\pm \\sqrt{201}}{2}$，所以该不等式对 $k\\leq \\frac{-1+\\sqrt{201}}{2}\\approx 6.588$ 成立。对于 $[3,12]$ 范围内的整数 $k$，这意味着当 $k\\leq 6$ 时 $r(k)\\geq 1$，当 $k\\geq 7$ 时 $r(k)  1$。因此 $P(k)$ 在 $k=7$ 之前递增，之后递减。再注意到当 $k\\geq 14$ 时 $P(k)=0$，因此在 $3\\leq k\\leq 23$ 范围内使概率最大化的 $k$ 为\n$$\nk=7.\n$$", "answer": "$$\\boxed{7}$$", "id": "1905087"}]}