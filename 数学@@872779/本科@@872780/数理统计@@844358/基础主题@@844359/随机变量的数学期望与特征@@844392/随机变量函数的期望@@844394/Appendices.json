{"hands_on_practices": [{"introduction": "本练习是计算随机变量函数期望的入门。我们将从一个离散随机变量的案例开始，直接应用期望值的基本定义：将函数在每个可能取值上的结果，用该值出现的概率进行加权平均。这个问题 [@problem_id:1915930] 以分析算法的计算成本为背景，展示了这一基本原理在计算机科学等领域的实际应用。", "problem": "一个专门的计算任务的性能取决于一个参数 $N$，该参数在每次执行开始时随机确定。这个参数 $N$ 可以被建模为一个离散随机变量，它从集合 $\\{1, 2, 3, 4, 5\\}$ 中取一个整数值，每个值出现的概率相等。对算法的分析表明，该任务所需的基本操作数（记为 $C$）是 $N$ 的函数，由关系式 $C(N) = N^3 + 2N$ 给出。计算该计算任务单次执行所需基本操作数的期望值。", "solution": "设 $N$ 在集合 $\\{1,2,3,4,5\\}$上服从均匀分布，因此对于集合中的每个 $n$，都有 $\\mathbb{P}(N=n)=\\frac{1}{5}$。成本为 $C(N)=N^{3}+2N$。根据期望的线性性质，\n$$\n\\mathbb{E}[C(N)]=\\mathbb{E}[N^{3}+2N]=\\mathbb{E}[N^{3}]+2\\mathbb{E}[N].\n$$\n对于在 $\\{1,2,3,4,5\\}$ 上的离散均匀分布，\n$$\n\\mathbb{E}[N^{3}]=\\frac{1}{5}\\sum_{n=1}^{5}n^{3}, \\quad \\mathbb{E}[N]=\\frac{1}{5}\\sum_{n=1}^{5}n.\n$$\n使用恒等式 $\\sum_{n=1}^{m}n=\\frac{m(m+1)}{2}$ 和 $\\sum_{n=1}^{m}n^{3}=\\left(\\frac{m(m+1)}{2}\\right)^{2}$，并令 $m=5$，我们得到\n$$\n\\sum_{n=1}^{5}n=\\frac{5\\cdot 6}{2}=15, \\quad \\sum_{n=1}^{5}n^{3}=\\left(\\frac{5\\cdot 6}{2}\\right)^{2}=15^{2}=225.\n$$\n因此，\n$$\n\\mathbb{E}[C(N)]=\\frac{1}{5}\\left(\\sum_{n=1}^{5}n^{3}+2\\sum_{n=1}^{5}n\\right)=\\frac{1}{5}\\left(225+2\\cdot 15\\right)=\\frac{1}{5}\\cdot 255=51.\n$$\n因此，基本操作的期望数是 $51$。", "answer": "$$\\boxed{51}$$", "id": "1915930"}, {"introduction": "在掌握了离散情况后，我们将注意力转向连续随机变量。这个练习 [@problem_id:1915944] 展示了如何将求和的思想推广到积分，以计算连续变量函数的期望值。该问题中的分段概率密度函数 (PDF) 是一种在实际建模中常见的情况，它要求我们将积分区间分解，这本身就是一项重要的实践技能。", "problem": "一个连续随机变量 $Y$ 的概率密度函数 (PDF) $f(y)$ 定义如下：\n$$\nf(y) =\n\\begin{cases}\n\\frac{1}{4}   \\text{当 } -2 \\le y \\le -1 \\\\\n\\frac{3}{4}   \\text{当 } 1 \\le y \\le 2 \\\\\n0   \\text{其他情况}\n\\end{cases}\n$$\n计算随机变量 $Y^2$ 的期望值，记为 $E[Y^2]$。将你的答案表示为一个最简分数。", "solution": "我们给定一个连续随机变量，其概率密度函数 $f(y)$ 定义在两个区间上。函数 $g(Y)$ 的期望值定义为\n$$\nE[g(Y)] = \\int_{-\\infty}^{\\infty} g(y) f(y) \\, dy.\n$$\n我们应用此定义，令 $g(y) = y^{2}$。因为当 $-2 \\le y \\le -1$ 时 $f(y) = \\frac{1}{4}$，当 $1 \\le y \\le 2$ 时 $f(y) = \\frac{3}{4}$，其他情况下 $f(y) = 0$，所以期望值为\n$$\nE[Y^{2}] = \\int_{-2}^{-1} y^{2} \\cdot \\frac{1}{4} \\, dy + \\int_{1}^{2} y^{2} \\cdot \\frac{3}{4} \\, dy.\n$$\n我们计算反导数 $\\int y^{2} \\, dy = \\frac{y^{3}}{3}$。因此，\n$$\n\\int_{-2}^{-1} y^{2} \\, dy = \\left[ \\frac{y^{3}}{3} \\right]_{-2}^{-1} = \\frac{(-1)^{3} - (-2)^{3}}{3} = \\frac{-1 - (-8)}{3} = \\frac{7}{3},\n$$\n并且\n$$\n\\int_{1}^{2} y^{2} \\, dy = \\left[ \\frac{y^{3}}{3} \\right]_{1}^{2} = \\frac{2^{3} - 1^{3}}{3} = \\frac{8 - 1}{3} = \\frac{7}{3}.\n$$\n乘以各自的密度然后求和得到\n$$\nE[Y^{2}] = \\frac{1}{4} \\cdot \\frac{7}{3} + \\frac{3}{4} \\cdot \\frac{7}{3} = \\frac{7}{12} + \\frac{7}{4} = \\frac{7}{12} + \\frac{21}{12} = \\frac{28}{12} = \\frac{7}{3}.\n$$\n因此，期望值为 $\\frac{7}{3}$。", "answer": "$$\\boxed{\\frac{7}{3}}$$", "id": "1915944"}, {"introduction": "有时，直接使用期望的定义进行计算会非常繁琐，甚至不可行。这个问题 [@problem_id:1361057] 引入了一个更巧妙的求解策略，它涉及一个连续随机变量（树脂重量）和一个作用于其上的离散化函数（向下取整）。我们将学习如何运用尾和公式（tail-sum formula）来优雅地解决这类问题，这是一种处理非负整数值随机变量期望的强大技巧。", "problem": "一家公司从一种特定的树木中采集一种特殊的树脂。从单棵树上可采集到的树脂量 $W$ 是一个连续随机变量，单位为千克 (kg)。采集过程使得重量 $W$ 服从参数为 $\\lambda  0$ 的指数分布，因此其概率密度函数为：当 $w \\ge 0$ 时，$f(w) = \\lambda \\exp(-\\lambda w)$；当 $w  0$ 时，$f(w)=0$。公司以每千克 $k$ 美元的价格出售这种树脂。然而，为方便计费，树脂的重量总是向下取整到最接近的整数。因此，对于重量为 $W$ 的一次采集，产生的收入为 $R(W) = k \\lfloor W \\rfloor$。\n\n求公司从单棵树上获得的期望收入。请用参数 $k$ 和 $\\lambda$ 将你的答案表示为单个闭式解析表达式。", "solution": "设 $W$ 服从速率为 $\\lambda$ 的指数分布，因此其密度函数为 $f(w)=\\lambda \\exp(-\\lambda w)$（对于 $w \\ge 0$）。收入为 $R(W)=k \\lfloor W \\rfloor$，因此期望收入为\n$$\n\\mathbb{E}[R(W)] = k\\,\\mathbb{E}[\\lfloor W \\rfloor].\n$$\n定义 $N=\\lfloor W \\rfloor$，这是一个非负整数值随机变量。使用非负整数值变量的尾和公式，\n$$\n\\mathbb{E}[N] = \\sum_{n=1}^{\\infty} \\mathbb{P}(N \\ge n).\n$$\n由于 $N \\ge n$ 当且仅当 $W \\ge n$，我们有\n$$\n\\mathbb{E}[\\lfloor W \\rfloor] = \\sum_{n=1}^{\\infty} \\mathbb{P}(W \\ge n).\n$$\n对于 $W \\sim \\text{Exp}(\\lambda)$，其生存函数为\n$$\n\\mathbb{P}(W \\ge n) = \\int_{n}^{\\infty} \\lambda \\exp(-\\lambda w)\\,dw = \\left[-\\exp(-\\lambda w)\\right]_{w=n}^{w=\\infty} = \\exp(-\\lambda n).\n$$\n因此，\n$$\n\\mathbb{E}[\\lfloor W \\rfloor] = \\sum_{n=1}^{\\infty} \\exp(-\\lambda n).\n$$\n这是一个首项为 $\\exp(-\\lambda)$、公比为 $\\exp(-\\lambda)$ 的几何级数，所以其和为\n$$\n\\sum_{n=1}^{\\infty} \\exp(-\\lambda n) = \\frac{\\exp(-\\lambda)}{1-\\exp(-\\lambda)}.\n$$\n于是，\n$$\n\\mathbb{E}[R(W)] = k \\cdot \\frac{\\exp(-\\lambda)}{1-\\exp(-\\lambda)}.\n$$\n分子和分母同乘以 $\\exp(\\lambda)$ 得到简化的闭式形式\n$$\n\\mathbb{E}[R(W)] = \\frac{k}{\\exp(\\lambda)-1}.\n$$", "answer": "$$\\boxed{\\frac{k}{\\exp(\\lambda)-1}}$$", "id": "1361057"}]}