{"hands_on_practices": [{"introduction": "斯皮尔曼等级相关系数是衡量两个变量单调关系强度的有力工具。掌握其计算是应用该方法的第一步。本练习提供了一个理想化的场景，其中等级数据已经处理完毕，旨在让你熟练运用斯皮尔曼相关系数的基础公式，为更复杂的分析打下坚实基础 [@problem_id:1955993]。", "problem": "一位教育研究者正在研究学生在两个不同量化学科——离散数学和算法思维——方面的能力之间的关系。为此，一组10名学生参加了这两门学科的标准化考试。然后，根据每门学科的成绩，学生们被独立排名，从1（最高分）到10（最低分）。设第 $i$ 名学生在离散数学中的排名为 $x_i$，在算法思维中的排名为 $y_i$。研究者计算了每个学生的排名差异，$d_i = x_i - y_i$。处理完所有 $n=10$ 名学生的数据后，发现这些排名差异的平方和为 $\\sum_{i=1}^{10} d_i^2 = 33$。\n\n根据这些信息，计算该数据集的斯皮尔曼等级相关系数。将您的最终答案四舍五入到三位有效数字。", "solution": "对于没有相同排名的两个排名，斯皮尔曼等级相关系数由以下公式给出：\n$$\n\\rho_{s} = 1 - \\frac{6 \\sum_{i=1}^{n} d_{i}^{2}}{n\\left(n^{2} - 1\\right)}.\n$$\n这里，$n = 10$ 且 $\\sum_{i=1}^{10} d_{i}^{2} = 33$。代入这些值：\n$$\n\\rho_{s} = 1 - \\frac{6 \\cdot 33}{10\\left(10^{2} - 1\\right)} = 1 - \\frac{198}{10 \\cdot 99}.\n$$\n计算分母：\n$$\n10 \\cdot 99 = 990,\n$$\n所以\n$$\n\\rho_{s} = 1 - \\frac{198}{990}.\n$$\n简化分数：\n$$\n\\frac{198}{990} = \\frac{198 \\div 99}{990 \\div 99} = \\frac{2}{10} = 0.2,\n$$\n因此\n$$\n\\rho_{s} = 1 - 0.2 = 0.8.\n$$\n四舍五入到三位有效数字，结果是 $0.800$。", "answer": "$$\\boxed{0.800}$$", "id": "1955993"}, {"introduction": "在处理真实世界的数据时，我们经常会遇到数值相同的情况，即“结 (tie)”。此时，简化的斯皮尔曼公式不再适用，这要求我们回归其更根本的定义。这个练习 [@problem_id:1955987] 将指导你如何正确处理含结数据，通过计算平均等级，并应用皮尔逊相关系数的框架来计算斯皮尔曼系数，这是数据分析中的一项关键实用技能。", "problem": "两名技术评论家Alex和Ben独立评测了一批八款不同型号的新款智能手表。他们各自对每款手表给出了1到10分的综合性能评分。目标是衡量他们排名之间的一致性程度。他们给出的分数如下：\n\n- 型号1：Alex (8.5), Ben (8.0)\n- 型号2：Alex (7.0), Ben (7.5)\n- 型号3：Alex (9.0), Ben (9.0)\n- 型号4：Alex (7.0), Ben (6.5)\n- 型号5：Alex (8.0), Ben (8.0)\n- 型号6：Alex (9.5), Ben (9.5)\n- 型号7：Alex (8.5), Ben (9.0)\n- 型号8：Alex (7.5), Ben (7.0)\n\n计算此数据集的斯皮尔曼等级相关系数。最终答案四舍五入至四位有效数字。", "solution": "斯皮尔曼等级相关系数定义为等级变量的皮尔逊相关系数。设 $R_{i}$ 为 Alex 对型号 $i$ 的排名，$S_{i}$ 为 Ben 对型号 $i$ 的排名。排名规则为：分数越高，排名数值越高；若分数相同，则取其排名的平均值。对于 $n=8$，排名为：\n$$R=(5.5,\\,1.5,\\,7,\\,1.5,\\,4,\\,8,\\,5.5,\\,3),\\quad S=(4.5,\\,3,\\,6.5,\\,1,\\,4.5,\\,8,\\,6.5,\\,2).$$\n两个排名列表的样本均值都等于平均排名：\n$$\\bar{R}=\\bar{S}=\\frac{1+2+\\cdots+8}{8}=\\frac{9}{2}=4.5.$$\n定义离差 $\\Delta R_{i}=R_{i}-\\bar{R}$ 和 $\\Delta S_{i}=S_{i}-\\bar{S}$。则\n$$\\Delta R=(1.0,\\,-3.0,\\,2.5,\\,-3.0,\\,-0.5,\\,3.5,\\,1.0,\\,-1.5),$$\n$$\\Delta S=(0.0,\\,-1.5,\\,2.0,\\,-3.5,\\,0.0,\\,3.5,\\,2.0,\\,-2.5).$$\n计算所需的和：\n$$\\sum_{i=1}^{8}\\Delta R_{i}\\Delta S_{i}=0+4.5+5.0+10.5+0+12.25+2.0+3.75=38,$$\n$$\\sum_{i=1}^{8}(\\Delta R_{i})^{2}=1+9+6.25+9+0.25+12.25+1+2.25=41,$$\n$$\\sum_{i=1}^{8}(\\Delta S_{i})^{2}=0+2.25+4+12.25+0+12.25+4+6.25=41.$$\n因此，斯皮尔曼等级相关系数为\n$$\\rho_{s}=\\frac{\\sum_{i=1}^{8}\\Delta R_{i}\\Delta S_{i}}{\\sqrt{\\left(\\sum_{i=1}^{8}(\\Delta R_{i})^{2}\\right)\\left(\\sum_{i=1}^{8}(\\Delta S_{i})^{2}\\right)}}=\\frac{38}{\\sqrt{41\\cdot 41}}=\\frac{38}{41}.$$\n数值上，四舍五入到四位有效数字，\n$$\\rho_{s}\\approx 0.9268.$$", "answer": "$$\\boxed{0.9268}$$", "id": "1955987"}, {"introduction": "一个概念的边界在哪里？理解极端情况是深化理论认识的有效途径。这个思想实验 [@problem_id:1955991] 探讨了一个特殊场景：当其中一个变量的所有观测值完全相同时，斯皮尔曼相关系数会发生什么。通过分析这种情况，你将揭示相关性度量的一个核心前提——它要求两个变量都存在变异（variance），从而深刻理解为何斯皮尔曼系数在这种情况下是未定义的。", "problem": "在一项心理学实验中，一位研究者从一个由 $n$ 名参与者（其中 $n \\geq 4$）组成的小组中收集数据。每位参与者完成两项不同的认知任务：任务A和任务B。任务A的分数都是互不相同的，这意味着没有两位参与者得到相同的分数。然而，对于任务B，由于实验测量工具的缺陷，每位参与者的记录分数都完全相同。\n\n该研究者希望确定任务A和任务B分数之间的斯皮尔曼等级相关系数 $\\rho_S$。以下哪项正确描述了该数据集的斯皮尔曼等级相关系数的值？\n\nA. -1\n\nB. 0\n\nC. 1\n\nD. 未定义。\n\nE. 取决于任务A的具体分数。", "solution": "斯皮尔曼等级相关系数定义为对等级变量计算的皮尔逊相关系数。设 $R_{Ai}$ 和 $R_{Bi}$ 分别表示参与者 $i$ 在任务A和任务B上的等级。\n\n根据假设，所有任务A的分数都是互不相同的，所以等级 $\\{R_{Ai}\\}_{i=1}^{n}$ 构成了 $\\{1,2,\\dots,n\\}$ 的一个排列。对于任务B，所有观测分数都相等；处理同分时，标准的做法是将所涉及排名的平均值赋给每个观测值。由于所有 $n$ 个位置都是同分，每个 $R_{Bi}$ 都等于从1到 $n$ 的平均值，即\n$$\nR_{Bi}=\\frac{n+1}{2}\\quad\\text{对所有 }i.\n$$\n因此，$R_{B}$ 是一个常数，其方差为零。\n\n斯皮尔曼系数是等级的皮尔逊相关系数：\n$$\n\\rho_{S}=\\frac{\\sum_{i=1}^{n}\\left(R_{Ai}-\\bar{R}_{A}\\right)\\left(R_{Bi}-\\bar{R}_{B}\\right)}{\\sqrt{\\sum_{i=1}^{n}\\left(R_{Ai}-\\bar{R}_{A}\\right)^{2}}\\sqrt{\\sum_{i=1}^{n}\\left(R_{Bi}-\\bar{R}_{B}\\right)^{2}}}.\n$$\n因为对于每个 $i$ 都有 $R_{Bi}=\\bar{R}_{B}$，所以对于所有的 $i$ 都有 $R_{Bi}-\\bar{R}_{B}=0$，这使得分子等于 $0$，并且分母中的第二个因子也等于 $0$。这导致了一个 $0/0$ 的不定式，等价地，这反映了 $R_{B}$ 的标准差为零；因此相关系数是未定义的。\n\n简化公式 $\\rho_{S}=1-\\frac{6\\sum d_{i}^{2}}{n\\left(n^{2}-1\\right)}$ 在这里不适用，因为它要求没有同分情况。因此，在该数据集中，斯皮尔曼等级相关系数是未定义的。", "answer": "$$\\boxed{D}$$", "id": "1955991"}]}