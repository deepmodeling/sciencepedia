{"hands_on_practices": [{"introduction": "这第一个练习是肯德尔tau系数定义的直接应用。通过给定数据集中的一致对数量，你可以练习 $\\tau_a$ 的基本计算，这有助于你巩固对公式核心组成部分——一致对、不一致对和总对数——的理解。[@problem_id:1927389]", "problem": "一位农业研究员正在开发新的咖啡混合配方，并希望评估两位专家品尝师之间味觉感知的一致性。八种不同的咖啡混合配方由两位品尝师（品尝师1和品尝师2）进行排名，从1（最佳）到8（最差）。研究员的数据包含这 $n=8$ 种配方的两组排名。两位品尝师的排名中均无并列情况。\n\n为衡量这两组排名之间的关联性，研究员计算了一致对和不一致对的数量。如果两位品尝师都认为某一种配方优于另一种（即，一种配方被两位品尝师都评为排名更高），则这对配方被视为一致对。在所有可能的配方对中，发现恰好有20对是一致对。\n\n计算此数据集的肯德尔等级相关系数，也称为肯德尔tau-a ($\\tau_a$)。请将您的答案以保留三位有效数字的小数形式给出。", "solution": "对于没有并列的排名，肯德尔tau-a的定义为\n$$\n\\tau_{a}=\\frac{C-D}{N},\n$$\n其中 $C$ 是一致对的数量，$D$ 是不一致对的数量，$N$ 是总对数。对于 $n$ 个项目，总对数为\n$$\nN=\\binom{n}{2}.\n$$\n在没有并列的情况下，每一对要么是一致的，要么是不一致的，所以\n$$\nD=N-C.\n$$\n代入定义可得\n$$\n\\tau_{a}=\\frac{C-(N-C)}{N}=\\frac{2C-N}{N}.\n$$\n此处 $n=8$，所以\n$$\nN=\\binom{8}{2}=\\frac{8\\cdot 7}{2}=28,\n$$\n且 $C=20$。因此，\n$$\n\\tau_{a}=\\frac{2\\cdot 20-28}{28}=\\frac{12}{28}=\\frac{3}{7}\\approx 0.428571\\ldots\n$$\n保留三位有效数字，结果为 $0.429$。", "answer": "$$\\boxed{0.429}$$", "id": "1927389"}, {"introduction": "这个练习超越了简单的计算，挑战你进行逆向思维。你需要确定一个缺失的数据点，以达到一个特定的结果：零相关性，即肯德尔tau系数为零。这个实践加深了你对排名不相关意味着什么的理解，也就是当一致对和不一致对的数量完全平衡时的状态。[@problem_id:1927372]", "problem": "两名学生，Jane和Tom，被要求对四门大学课程（微积分、物理、化学、生物）从1（最简单）到4（最难）进行排名。Jane对微积分、物理、化学和生物的排名分别为1、2、3和4。Tom对相同课程的排名为2、4、1和一个未知整数$k$。我们可以将这些排名表示为四个配对观测值$(x_i, y_i)$的集合，其中$x_i$是Jane对第$i$门课程的排名，$y_i$是Tom对第$i$门课程的排名。数据集为：$(1, 2)$, $(2, 4)$, $(3, 1)$, $(4, k)$。\n\n对于一对观测值$((x_i, y_i), (x_j, y_j))$，如果学生们对课程的相对排名顺序相同，即$(x_i - x_j)(y_i - y_j) > 0$，则该对被认为是**一致的**。如果他们对课程的相对排名顺序相反，即$(x_i - x_j)(y_i - y_j) < 0$，则被认为是**不一致的**。\n\n假设Tom的排名$k$是一个整数，并且Tom的所有排名都是不同的，这意味着$k$不等于1、2或4。求出$k$的值，使得数据集中一致对的总数与不一致对的总数完全相等。", "solution": "我们有 $n=4$ 个观测值，因此总对数为 $\\binom{4}{2} = 6$。为了使一致对与不一致对的数量相等，我们需要 $N_c = N_d = 3$。\n数据对为 $(1, 2), (2, 4), (3, 1), (4, k)$。\n我们先分析不涉及第四对 $(4, k)$ 的前三对：\n1. 对比 $(1, 2)$ 和 $(2, 4)$: $(1-2)(2-4) = (-1)(-2) = 2 > 0$，为一致对。\n2. 对比 $(1, 2)$ 和 $(3, 1)$: $(1-3)(2-1) = (-2)(1) = -2  0$，为不一致对。\n3. 对比 $(2, 4)$ 和 $(3, 1)$: $(2-3)(4-1) = (-1)(3) = -3  0$，为不一致对。\n到目前为止，我们有 1 个一致对和 2 个不一致对。\n现在我们分析包含第四对 $(4, k)$ 的剩余三对，我们需要从中得到 2 个一致对和 1 个不一致对，才能使得总数达到 $N_c=3$ 和 $N_d=3$。\nTom 的排名 $k$ 是一个来自 $\\{1, 2, 3, 4\\}$ 的整数，且 $k \\notin \\{1, 2, 4\\}$，因此 $k$ 必须是 3。让我们验证 $k=3$ 是否满足条件。\n4. 对比 $(1, 2)$ 和 $(4, 3)$: $(1-4)(2-3) = (-3)(-1) = 3 > 0$，为一致对。\n5. 对比 $(2, 4)$ 和 $(4, 3)$: $(2-4)(4-3) = (-2)(1) = -2  0$，为不一致对。\n6. 对比 $(3, 1)$ 和 $(4, 3)$: $(3-4)(1-3) = (-1)(-2) = 2 > 0$，为一致对。\n当 $k=3$ 时，新增了 2 个一致对和 1 个不一致对。\n总计：一致对 $N_c = 1+2=3$，不一致对 $N_d = 2+1=3$。\n因此，$k=3$ 满足条件。", "answer": "$$\\boxed{3}$$", "id": "1927372"}, {"introduction": "这最后一个练习将肯德尔tau系数置于一个真实的数据科学情境中，即评估机器学习模型的排名性能。它要求你采用系统性的方法来处理一个更大的数据集，展示了通过计算一个序列中的“逆序数”来高效确定不一致对数量的实用方法。这项技能对于将该概念高效地应用于现实世界问题至关重要。[@problem_id:1927383]", "problem": "一家大型电子商务公司的数据科学团队开发了一种新的机器学习模型，用于根据预测的用户参与度对产品进行排名。为了评估模型的性能，他们将其输出与一个由人类专家团队创建的“黄金标准”排名进行比较。对于一个包含 $n=10$ 个不同产品的样本，获得了两种排名。产品用1到10的ID进行标记。下表显示了人类专家（排名 H）和新算法（排名 A）为每个产品分配的排名。排名1是最高排名。\n\n| 产品ID | 排名 H ($X$) | 排名 A ($Y$) |\n|------------|--------------|--------------|\n| 1          | 1            | 3            |\n| 2          | 2            | 1            |\n| 3          | 3            | 5            |\n| 4          | 4            | 2            |\n| 5          | 5            | 8            |\n| 6          | 6            | 6            |\n| 7          | 7            | 9            |\n| 8          | 8            | 4            |\n| 9          | 9            | 10           |\n| 10         | 10           | 7            |\n\n该团队决定使用肯德尔等级相关系数 $\\tau$ 来衡量这两种排名之间的一致性。对于一组 $n$ 个没有平级的配对观测值 $(x_1, y_1), (x_2, y_2), \\dots, (x_n, y_n)$，由任意两个观测值 $(x_i, y_i)$ 和 $(x_j, y_j)$ 组成的对被定义为：\n- **一致对**：如果等级的相对顺序相同，即 $(x_i - x_j)(y_i - y_j)  0$。\n- **不一致对**：如果等级的相对顺序相反，即 $(x_i - x_j)(y_i - y_j)  0$。\n\n令 $N_c$ 为一致对的总数，$N_d$ 为不一致对的总数。那么肯德尔tau系数定义为：\n$$\n\\tau = \\frac{N_c - N_d}{N_c + N_d}\n$$\n不同观测对的总数是 $\\binom{n}{2} = N_c + N_d$。\n\n计算给定数据的肯德尔tau系数 $\\tau$ 的值。将答案表示为保留三位有效数字的小数。", "solution": "我们有不含平级的排名，因此对于 $n=10$ 个项目，不同观测对的总数为\n$$\nN = \\binom{n}{2}=\\binom{10}{2}=\\frac{10 \\times 9}{2}=45,\n$$\n并且 $N_c+N_d=45$。\n\n由于 $X$ 排名（排名 H）已经是自然顺序 $1, 2, \\dots, 10$，我们可以通过计算 $Y$ 排名（排名 A）序列中的逆序数来快速得到不一致对的数量 $N_d$。\n$Y$ 排名序列为：\n$$\n(3, 1, 5, 2, 8, 6, 9, 4, 10, 7)\n$$\n我们来计算逆序数（即在序列中，一个较大的数出现在一个较小的数之前）：\n- 3 后面比它小的数有：1, 2 (2个逆序)\n- 1 后面没有比它小的数 (0个逆序)\n- 5 后面比它小的数有：2, 4 (2个逆序)\n- 2 后面没有比它小的数 (0个逆序)\n- 8 后面比它小的数有：6, 4, 7 (3个逆序)\n- 6 后面比它小的数有：4 (1个逆序)\n- 9 后面比它小的数有：4, 7 (2个逆序)\n- 4 后面没有比它小的数 (0个逆序)\n- 10 后面比它小的数有：7 (1个逆序)\n- 7 后面没有比它小的数 (0个逆序)\n\n不一致对的总数 $N_d$ 等于逆序数总和：\n$$\nN_d = 2 + 0 + 2 + 0 + 3 + 1 + 2 + 0 + 1 + 0 = 11\n$$\n一致对的数量为：\n$$\nN_c = N - N_d = 45 - 11 = 34\n$$\n现在我们可以计算肯德尔tau系数：\n$$\n\\tau = \\frac{N_c - N_d}{N_c + N_d} = \\frac{34 - 11}{45} = \\frac{23}{45}\n$$\n将结果转换为小数并保留三位有效数字：\n$$\n\\tau \\approx 0.51111... \\approx 0.511\n$$", "answer": "$$\\boxed{0.511}$$", "id": "1927383"}]}