{"hands_on_practices": [{"introduction": "逻辑回归模型的核心在于它对事件发生几率的对数（log-odds）进行线性建模。然而，在实际应用中，我们最终关心的是事件发生的具体概率。本练习将让你实践最基本的一步：如何将模型输出的对数几率，通过逻辑斯谛函数（logistic function）转换回一个直观且易于解释的概率值。", "problem": "一所大学的数据分析团队正在研究影响学生成功的因素。他们建立了一个简单的逻辑回归模型，用于预测学生在入门课程期末考试中的通过概率。该模型使用单个预测变量 $x$，它代表学生在考前一周的学习小时数。\n\n该模型通过以下方程定义通过考试的对数几率（几率的自然对数）：\n$$\n\\text{log-odds} = -0.2 - 0.5x\n$$\n使用此模型，计算在考前一周恰好学习了2小时的学生的通过概率。将您的答案表示为保留三位有效数字的小数。", "solution": "逻辑回归模型使用 logit 连接函数：\n$$\n\\ln\\!\\left(\\frac{p}{1-p}\\right) = -0.2 - 0.5x.\n$$\n令 $z = -0.2 - 0.5x$。反 logit 函数给出概率：\n$$\np = \\frac{1}{1 + \\exp(-z)}.\n$$\n当 $x = 2$ 时，\n$$\nz = -0.2 - 0.5\\cdot 2 = -0.2 - 1 = -1.2,\n$$\n所以\n$$\np = \\frac{1}{1 + \\exp(1.2)}.\n$$\n数值上，$\\exp(1.2) \\approx 3.320117$，因此\n$$\np \\approx \\frac{1}{1 + 3.320117} \\approx 0.231475\\ldots\n$$\n四舍五入到三位有效数字，结果是 $0.231$。", "answer": "$$\\boxed{0.231}$$", "id": "1931455"}, {"introduction": "理解模型系数的含义是解释逻辑回归模型的关键。每个系数都量化了对应预测变量变化时，对事件结果对数几率的影响。本练习 [@problem_id:1931449] 将帮助你深入理解并计算这种影响，让你能准确地阐述“当一个变量增加 $X$ 单位时，事件发生的可能性会如何变化”。", "problem": "一个研究小组正在研究影响学生在一门以难度著称的专业认证考试中成功通过的因素。他们从一个考生样本中收集数据，记录了他们花费的学习小时数 ($x$) 以及他们是通过 ($Y=1$) 还是未通过 ($Y=0$) 考试。\n\n他们拟合了一个简单的逻辑回归模型来预测通过考试的概率，$p = P(Y=1|x)$。该模型由以下表示通过考试的对数优势比（log-odds）的方程给出：\n$$ \\ln\\left(\\frac{p}{1-p}\\right) = \\beta_0 + \\beta_1 x $$\n将模型与数据拟合后，得到的估计系数为 $\\hat{\\beta}_0 = -5.2$ 和 $\\hat{\\beta}_1 = 0.115$。\n\n一个已经学习了一段时间的学生决定再多学习7个小时。根据拟合的模型，该学生通过考试的对数优势比的变化是多少？将您的答案表示为一个四舍五入到三位有效数字的数值。", "solution": "我们给定了一个关于对数优势比的简单逻辑回归模型：\n$$\\ln\\left(\\frac{p}{1-p}\\right) = \\beta_{0} + \\beta_{1} x.$$\n如果学习时间从 $x$ 增加到 $x + \\Delta x$，对数优势比的变化是\n$$\\Delta \\left[\\ln\\left(\\frac{p}{1-p}\\right)\\right] = \\left[\\beta_{0} + \\beta_{1}(x+\\Delta x)\\right] - \\left[\\beta_{0} + \\beta_{1}x\\right] = \\beta_{1}\\Delta x.$$\n使用估计的斜率 $\\hat{\\beta}_{1} = 0.115$ 和 $\\Delta x = 7$，变化为\n$$\\Delta \\left[\\ln\\left(\\frac{p}{1-p}\\right)\\right] = \\hat{\\beta}_{1} \\cdot 7 = 0.115 \\cdot 7 = 0.805.$$\n四舍五入到三位有效数字，结果是 $0.805$。", "answer": "$$\\boxed{0.805}$$", "id": "1931449"}, {"introduction": "逻辑回归不仅能预测概率，还能作为分类器使用，其核心是决策边界（decision boundary）的概念。决策边界是特征空间中一个分界线（或面），在此边界上模型无法确定分类结果（即概率为 $0.5$）。通过这个练习 [@problem_id:1931450]，你将探索这个边界的数学本质，并理解不同特征之间是如何相互作用以决定最终的分类结果的。", "problem": "一个金融分析师团队正在开发一个逻辑回归模型，用以预测贷款申请人违约的概率。结果是二元的，其中 $Y=1$ 代表“高风险”申请人（可能违约），$Y=0$ 代表“低风险”申请人。该模型使用两个连续预测变量：$x_1$，申请人的信用评分，以及 $x_2$，他们的债务收入比（以小数表示，例如 0.4 代表 40%）。\n\n申请人为“高风险”的概率使用逻辑函数建模：\n$$P(Y=1 | x_1, x_2) = \\frac{1}{1 + \\exp(-(\\beta_0 + \\beta_1 x_1 + \\beta_2 x_2))}$$\n\n在对大量历史贷款数据集进行模型训练后，得到的线性部分的估计系数如下：\n$\\beta_0 = 4.2$\n$\\beta_1 = -0.015$\n$\\beta_2 = 6.0$\n\n决策边界定义为特征空间中点 $(x_1, x_2)$ 的集合，在这些点上模型对两种结果的不确定性相同，这对应于 $0.5$ 的预测概率。\n\n假设一个申请人的资料 $(x_1, x_2)$ 正好位于这个决策边界上。如果该申请人的信用评分 $x_1$ 增加 50 点，他们的债务收入比 $x_2$ 必须改变多少才能使他们正好保持在决策边界上？请以数值形式提供 $x_2$ 所需的变化量。", "solution": "逻辑模型由下式给出\n$$P(Y=1 \\mid x_{1},x_{2})=\\frac{1}{1+\\exp\\left(-(\\beta_{0}+\\beta_{1}x_{1}+\\beta_{2}x_{2})\\right)}.$$\n在决策边界上，模型的不确定性是均等的，所以\n$$P(Y=1 \\mid x_{1},x_{2})=\\frac{1}{2} \\quad \\Longleftrightarrow \\quad \\beta_{0}+\\beta_{1}x_{1}+\\beta_{2}x_{2}=0,$$\n因为当逻辑函数的参数为零时，其值等于二分之一。\n\n设初始点 $(x_{1},x_{2})$ 位于边界上，因此它满足 $\\beta_{0}+\\beta_{1}x_{1}+\\beta_{2}x_{2}=0$。为了使新点 $(x_{1}+\\Delta x_{1},x_{2}+\\Delta x_{2})$ 仍然位于边界上，它必须满足\n$$\\beta_{0}+\\beta_{1}(x_{1}+\\Delta x_{1})+\\beta_{2}(x_{2}+\\Delta x_{2})=0.$$\n减去原始的边界方程可得\n$$\\beta_{1}\\Delta x_{1}+\\beta_{2}\\Delta x_{2}=0.$$\n求解 $x_{2}$ 所需的变化量，可得\n$$\\Delta x_{2}=-\\frac{\\beta_{1}}{\\beta_{2}}\\Delta x_{1}.$$\n代入 $\\beta_{1}=-0.015$，$\\beta_{2}=6.0$ 和 $\\Delta x_{1}=50$，\n$$\\Delta x_{2}=-\\frac{-0.015}{6.0}\\cdot 50=\\frac{0.015\\cdot 50}{6.0}=\\frac{0.75}{6.0}=0.125.$$\n因此，债务收入比必须增加 $0.125$ 才能保持在决策边界上。", "answer": "$$\\boxed{0.125}$$", "id": "1931450"}]}