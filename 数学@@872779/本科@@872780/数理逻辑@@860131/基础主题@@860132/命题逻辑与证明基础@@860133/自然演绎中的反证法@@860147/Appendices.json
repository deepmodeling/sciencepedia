{"hands_on_practices": [{"introduction": "掌握反证法（或称归谬法）的第一步是理解其独特的证明结构。这个练习旨在通过一个具体的例子——证明皮尔士定律（Peirce's Law），来帮助你构建一个清晰的思维模板。通过评估不同的证明策略，你将学会如何正确地设置一个间接证明：从假设目标结论的否定开始，导出一个矛盾，最终确认原结论的成立。这个过程能极大地锻炼你按部就班、严谨推理的能力 [@problem_id:3049789]。", "problem": "您正在一个经典的命题逻辑自然演绎系统下工作，该系统具有常规的蕴涵和否定的引入和消去规则，以及矛盾和爆炸规则。具体来说，您可以使用：\n- 蕴涵引入 ($\\to I$): 从在额外假设 $\\varphi$ 下对 $\\psi$ 的推导，通过取消假设 $\\varphi$ 来推断出 $\\varphi \\to \\psi$。\n- 蕴涵消去 ($\\to E$): 从 $\\varphi \\to \\psi$ 和 $\\varphi$，推断出 $\\psi$。\n- 否定引入 ($\\neg I$): 从在额外假设 $\\varphi$ 下对 $\\bot$ 的推导，通过取消假设 $\\varphi$ 来推断出 $\\neg \\varphi$。\n- 矛盾引入 ($\\bot I$): 从 $\\varphi$ 和 $\\neg \\varphi$，推断出 $\\bot$。\n- 底消去 ($\\bot E$)，也称为爆炸原理：从 $\\bot$，可以推断出任何 $\\chi$。\n- 反证法 (PBC): 从在额外假设 $\\neg \\varphi$ 下对 $\\bot$ 的推导，通过取消假设 $\\neg \\varphi$ 来推断出 $\\varphi$。\n\n仅使用上述规则，考虑证明矢列\n$$ (p \\to q) \\to p \\;\\vdash\\; p. $$\n的任务。下列哪个证明模板正确描述了一个可靠的间接证明（即反证法）策略，该策略从单一前提 $(p \\to q) \\to p$ 推导出 $p$？\n\nA. 开启一个子证明，假设 $\\neg p$。在其中，开启一个嵌套的子证明，假设 $p$。从 $p$ 和现有的 $\\neg p$，通过 $\\bot I$ 推断出 $\\bot$，然后通过 $\\bot E$ 推导出 $q$。取消内部假设，通过 $\\to I$ 推断出 $p \\to q$。使用 $(p \\to q) \\to p$ 和 $\\to E$ 来推导出 $p$。将 $p$ 与现有的 $\\neg p$ 结合，通过 $\\bot I$ 得到 $\\bot$，然后通过反证法 (PBC) 取消外部假设，从而得出结论 $p$。\n\nB. 开启一个子证明，假设 $p$。立即通过 $\\neg I$ 取消这个假设，得出结论 $\\neg p$，因为 $p$ 与 $(p \\to q) \\to p$ 冲突。然后对 $\\neg p$ 应用反证法 (PBC)，得出结论 $p$。\n\nC. 开启一个子证明，假设 $\\neg p$。使用 $(p \\to q) \\to p$ 通过 $\\to E$ 推断出 $\\neg\\neg p$，然后应用双重否定消去法得出结论 $p$。通过 $\\neg I$ 关闭子证明以得到 $\\neg\\neg p$，最后再次使用双重否定消去法推断出 $p$。\n\nD. 开启一个子证明，假设 $\\neg p$。由此，不经过任何内部子推导，通过 $\\to I$ 推断出 $p \\to q$，因为 $p$ 会与 $\\neg p$ 矛盾，因此任何 $q$ 都可以得出。然后应用 $(p \\to q) \\to p$ 来获得 $p$。通过 $\\to I$ 关闭子证明以得出结论 $\\neg\\neg p$，最后使用否定消去法获得 $p$。\n\n选择唯一的最佳选项。", "solution": "[验证部分]\n[推导部分]\n[选项 A 分析]\n[选项 B 分析]\n[选项 C 分析]\n[选项 D 分析]", "answer": "$$\\boxed{A}$$", "id": "3049789"}, {"introduction": "并非所有涉及“假设并导出矛盾”的证明都等同于经典的反证法。这个练习将引导你深入辨析反证法（PBC）与在直觉主义逻辑中也成立的否定引入（$\\neg I$）之间的本质区别。通过分析在不同逻辑系统下哪些命题可以被证明，你将体会到反证法作为一条经典逻辑规则，为我们的证明工具箱增添了何等强大的威力 [@problem_id:3049790]。", "problem": "你正在一个标准的自然演绎系统内处理命题逻辑，该系统包含联结词 $\\lnot$、$\\to$、$\\land$、$\\lor$ 和谬误 $\\bot$。可用的基本规则是这些联结词通常的引入和消去规则，包括爆炸律（$\\bot E$）。重点关注两种证明策略：\n\n- 条件证明（CP）：要推断 $\\chi \\to \\theta$，暂时假设 $\\chi$ 并推导出 $\\theta$，然后通过 $\\to I$ 规则撤销该假设。\n- 反证法（PBC），也称为归谬法（RAA）：要推断 $\\chi$，暂时假设 $\\lnot \\chi$ 并推导出 $\\bot$，然后撤销该假设以得出结论 $\\chi$。\n\n除非明确说明，否则假设不使用反证法（PBC），因此推导必须以直觉主义方式进行，仅使用引入和消去规则、爆炸律（$\\bot E$）以及否定引入（$\\lnot I$）。\n\n考虑以下关于在该系统中可以从所述前提推导出什么的论断。选择所有正确的选项。\n\nA. 从单一前提 $\\lnot(\\varphi \\to \\psi)$，仅使用条件证明和否定引入（不使用反证法），可以推导出 $\\lnot \\psi$。\n\nB. 从单一前提 $\\lnot(\\varphi \\to \\psi)$，不使用反证法，可以推导出 $\\varphi$。\n\nC. 从单一前提 $\\lnot(\\varphi \\to \\psi)$，如果允许使用反证法，可以推导出 $\\varphi \\land \\lnot \\psi$。\n\nD. 从单一前提 $\\lnot \\lnot (\\varphi \\lor \\psi)$，不使用反证法，可以推导出 $\\varphi \\lor \\psi$。", "solution": "此问题的核心在于区分在直觉主义逻辑中有效（仅使用引入/消去规则，包括 $\\lnot I$ 和 $\\bot E$）的推导与需要经典逻辑（特别是反证法 PBC 规则，或其等价形式如排中律或双重否定消去）的推导。否定引入（$\\lnot I$）是一条规则，它允许从一个由假设 $\\phi$ 推导出 $\\bot$ 的子推导中，推断出 $\\lnot \\phi$。这在直觉主义上是有效的。反证法（PBC）是一条规则，它允许从一个由假设 $\\lnot \\phi$ 推导出 $\\bot$ 的子推导中，推断出 $\\phi$。这在直觉主义上是无效的。\n\n**A. 从单一前提 $\\lnot(\\varphi \\to \\psi)$，仅使用条件证明和否定引入（不使用反证法），可以推导出 $\\lnot \\psi$。**\n\n该论断声称矢列 $\\lnot(\\varphi \\to \\psi) \\vdash \\lnot \\psi$ 在直觉主义上是可证的。我们可以使用否定引入（$\\lnot I$）来构建一个证明，这需要我们假设 $\\psi$ 并推导出一个矛盾（$\\bot$）。\n\n$1.$  $\\lnot(\\varphi \\to \\psi)$  (前提)\n$2.$   $|\\;\\; \\psi$  (为 $\\lnot I$ 作的假设)\n$3.$   $|\\;\\; $  $|\\;\\; \\varphi$  (为 $\\to I$ 作的假设)\n$4.$   $|\\;\\; $  $|\\;\\; \\psi$  (重复, $2$)\n$5.$   $|\\;\\; \\varphi \\to \\psi$  ($\\to I$, 撤销假设 $3$)\n$6.$   $|\\;\\; \\bot$  ($\\lnot E$, $1, 5$)\n$7.$  $\\lnot \\psi$  ($\\lnot I$, 撤销假设 $2$)\n\n该证明仅使用前提、一个用于否定引入（$\\lnot I$）的假设、一个用于条件证明（$\\to I$）的假设、重复规则、$\\to I$ 和 $\\lnot E$ 来构建。所有这些规则都是标准直觉主义自然演绎系统的一部分。因此，按描述的推导是可能的。\n\nA 的结论：**正确**。\n\n**B. 从单一前提 $\\lnot(\\varphi \\to \\psi)$，不使用反证法，可以推导出 $\\varphi$。**\n\n该论断断言 $\\lnot(\\varphi \\to \\psi) \\vdash \\varphi$ 在直觉主义上是可证的。这是直觉主义逻辑中一个已知的非定理。虽然它在经典逻辑中是可证的，但其证明需要一个非直觉主义规则。让我们来证明，尝试以直觉主义方式证明它会得到 $\\lnot \\lnot \\varphi$，而不是 $\\varphi$。为了得到 $\\lnot\\lnot\\varphi$，我们使用 $\\lnot I$，通过假设 $\\lnot \\varphi$ 来寻求矛盾。\n\n$1.$  $\\lnot(\\varphi \\to \\psi)$  (前提)\n$2.$   $|\\;\\; \\lnot \\varphi$  (为 $\\lnot I$ 作的假设)\n$3.$   $|\\;\\; $  $|\\;\\; \\varphi$  (为 $\\to I$ 作的假设)\n$4.$   $|\\;\\; $  $|\\;\\; \\bot$  ($\\lnot E$, $2, 3$)\n$5.$   $|\\;\\; $  $|\\;\\; \\psi$  ($\\bot E$, $4$)\n$6.$   $|\\;\\; \\varphi \\to \\psi$  ($\\to I$, 撤销假设 $3$)\n$7.$   $|\\;\\; \\bot$  ($\\lnot E$, $1, 6$)\n$8.$  $\\lnot \\lnot \\varphi$  ($\\lnot I$, 撤销假设 $2$)\n\n我们成功地推导出了 $\\lnot \\lnot \\varphi$。然而，双重否定消去规则（$\\lnot \\lnot \\chi \\vdash \\chi$）在直觉主义逻辑中是不可用的（它等价于 PBC）。因此，我们无法从第 8 行进行到期望的结论 $\\varphi$。没有 PBC，这个推导是不可能的。\n\nB 的结论：**不正确**。\n\n**C. 从单一前提 $\\lnot(\\varphi \\to \\psi)$，如果允许使用反证法，可以推导出 $\\varphi \\land \\lnot \\psi$。**\n\n该论断需要经典逻辑。要证明合取式 $\\varphi \\land \\lnot \\psi$，我们必须分别证明每个合取支，然后使用合取引入（$\\land I$）。\n\n证明 $\\varphi$：\nB 部分的推导表明，从前提可以证明 $\\lnot \\lnot \\varphi$。在允许 PBC 的情况下，我们可以完成对 $\\varphi$ 的证明。PBC 规则指出，如果假设 $\\lnot \\chi$ 导致 $\\bot$，我们可以得出结论 $\\chi$。我们在 B 的分析中第 2-7 行的推导正是这种结构，其中 $\\chi$ 是 $\\varphi$。\n$1.$  $\\lnot(\\varphi \\to \\psi)$  (前提)\n$2.$   $|\\;\\; \\lnot \\varphi$  (为 PBC 作的假设)\n... (B 的分析中的第 3-6 行) ...\n$7.$   $|\\;\\; \\bot$  ($\\lnot E$, $1, 6$)\n$8.$  $\\varphi$  (PBC, 撤销假设 $2$)\n因此，$\\varphi$ 是可推导的。\n\n证明 $\\lnot \\psi$：\n如 A 部分的分析所示，仅使用直觉主义规则就可以从 $\\lnot(\\varphi \\to \\psi)$ 推导出 $\\lnot \\psi$。由于经典逻辑包含所有直觉主义规则，这个推导仍然有效。\n\n合并结果：\n既然我们有了一个对 $\\varphi$ 的推导（使用 PBC）和一个对 $\\lnot \\psi$ 的推导（直觉主义的），我们可以将它们合并起来。\n$m.$  $\\varphi$  (从使用 PBC 的推导中得出)\n$n.$  $\\lnot \\psi$  (从 A 的推导中得出)\n$n+1.$  $\\varphi \\land \\lnot \\psi$  ($\\land I$, $m, n$)\n\n该推导是可能的。在经典逻辑中，$\\lnot(\\varphi \\to \\psi)$ 等价于 $\\varphi \\land \\lnot \\psi$。\n\nC 的结论：**正确**。\n\n**D. 从单一前提 $\\lnot \\lnot (\\varphi \\lor \\psi)$，不使用反证法，可以推导出 $\\varphi \\lor \\psi$。**\n\n该论断声称 $\\lnot \\lnot (\\varphi \\lor \\psi) \\vdash \\varphi \\lor \\psi$ 在直觉主义上是可证的。这是模式 $\\lnot \\lnot \\chi \\vdash \\chi$ 的一个实例，其中 $\\chi$ 是命题 $\\varphi \\lor \\psi$。这个推断是双重否定消去（DNE）规则。DNE 在直觉主义逻辑中不是一个有效规则，它等价于 PBC 和排中律。通常，DNE 在直觉主义上只对某几类“稳定”命题（例如，否定形式的公式）成立，但像 $\\varphi \\lor \\psi$ 这样的析取式通常不是稳定的。无法为一个析取式 $\\chi$ 证明 $\\lnot \\lnot \\chi \\to \\chi$ 是直觉主义逻辑与经典逻辑分歧的一个典型例子。\n\n因此，如果不使用 PBC 或等价的经典原则，就无法从 $\\lnot \\lnot (\\varphi \\lor \\psi)$ 推导出 $\\varphi \\lor \\psi$。\n\nD 的结论：**不正确**。", "answer": "$$\\boxed{AC}$$", "id": "3049790"}, {"introduction": "自然演绎法的力量源于其对假设及其作用域（scope）的严格管理规则，而这些规则在应用反证法时尤其容易出错。本练习旨在通过一系列关于作用域和假设“卸除”（discharge）的场景，检验你对这些精细规则的掌握程度。正确理解这些限制和陷阱，是确保你的证明有效、避免在复杂推理中犯下致命逻辑错误的关键一步 [@problem_id:3049792]。", "problem": "在经典命题逻辑的自然演绎法中，公式由否定 $\\neg$、合取 $\\land$、析取 $\\lor$、蕴含 $\\to$ 和矛盾符号 $\\bot$ 构建。子推导通过临时假设一个公式来开启，并在应用消除该假设的规则时关闭。假设的作用域是依赖于它的行集合；当一个假设被消除时，它就不再能为其作用域之外的推断提供许可。归谬法（RAA）是一条规则，它允许通过开启一个带有假设 $\\neg \\varphi$ 的子推导，推导出 $\\bot$，然后通过消除假设 $\\neg \\varphi$ 来关闭子推导，从而推断出 $\\varphi$。结论继承所有开放的假设，除了那些被关闭规则明确消除的假设。考虑 $\\Gamma$ 作为一组开放前提，以及任意公式 $\\varphi$、$\\psi$ 和 $\\chi$。\n\n以下关于归谬法中作用域和消除的限制与陷阱的陈述中，哪些是正确的？\n\nA. 如果一个子推导假设了 $\\neg \\varphi$ 并仅使用开放前提 $\\Gamma$ 以及一个未被消除的临时假设 $\\psi$ 推导出了 $\\bot$，那么应用 RAA 会得到依赖于 $\\Gamma$ 和 $\\psi$ 的 $\\varphi$；只有假设 $\\neg \\varphi$ 被消除。\n\nB. 当旨在应用 RAA 以消除 $\\neg \\varphi$ 时，允许 $\\bot$ 的推导依赖于一个仅在 $P \\lor Q$ 的析取消除的单个分支内引入的假设 $\\chi$；推断出的 $\\varphi$ 将不依赖于 $\\chi$。\n\nC. 如果在 $P \\lor Q$ 的析取消除的一个分支内，$\\bot$ 是在一个只出现在该分支的假设 $\\chi$ 下推导出来的，那么人们可以在该分支之外通过 RAA 推断出 $\\varphi$，并在析取消除之外自由使用 $\\varphi$。\n\nD. 如果 $\\bot$ 的推导依赖于一个其子推导已经关闭的假设（即，在声称 $\\bot$ 的地方，该假设已被消除且超出作用域），那么该 $\\bot$ 不能合法地支持 RAA 的应用。\n\nE. RAA 精确地消除一个假设：当前开放子推导中最近引入的假设，而不管矛盾 $\\bot$ 旨在针对哪个假设。", "solution": "### 逐项分析\n\n自然演绎中作用域的核心原则是：一个依赖于假设 $\\beta$ 的公式 $\\alpha$ 仅在由 $\\beta$ 开启的子推导（作用域）内有效。一旦该子推导关闭（即 $\\beta$ 被消除），$\\alpha$ 本身就不能在后续步骤中使用，尽管通过消除规则从它派生出的公式（例如 $\\beta \\to \\alpha$）可以使用。\n\n**A. 如果一个子推导假设了 $\\neg \\varphi$ 并仅使用开放前提 $\\Gamma$ 以及一个未被消除的临时假设 $\\psi$ 推导出了 $\\bot$，那么应用 RAA 会得到依赖于 $\\Gamma$ 和 $\\psi$ 的 $\\varphi$；只有假设 $\\neg \\varphi$ 被消除。**\n\n让我们将情况形式化。我们有一组前提 $\\Gamma$ 和一个开放假设 $\\psi$。为了证明 $\\varphi$，我们开始一个 RAA 子推导。\n设当前开放假设的集合为 $\\Delta = \\Gamma \\cup \\{\\psi\\}$。\n1. 我们通过假设 $\\neg \\varphi$ 开始一个子推导。此子推导内的开放假设集合为 $\\Delta \\cup \\{\\neg \\varphi\\}$。\n2. 在此作用域内，我们推导出 $\\bot$。$\\bot$ 的推导是可靠的，因此它正确地依赖于可用的开放假设：一个 $\\Gamma, \\psi, \\neg \\varphi \\vdash \\bot$ 的证明。\n3. 我们应用 RAA 规则。此规则允许我们得出结论 $\\varphi$，并特地消除开启此子推导的假设 $\\neg \\varphi$。\n4. 得到的公式 $\\varphi$ 继承了所有其他开放假设。$\\varphi$ 所依赖的假设集合是 $(\\Gamma \\cup \\{\\psi\\} \\cup \\{\\neg \\varphi\\}) \\setminus \\{\\neg \\varphi\\} = \\Gamma \\cup \\{\\psi\\}$。\n\n该陈述准确地描述了这一过程：$\\varphi$ 依赖于 $\\Gamma$ 和 $\\psi$，而 RAA 规则仅消除了假设 $\\neg \\varphi$。假设 $\\psi$ 仍然是开放的。\n\n**结论：正确。**\n\n**B. 当旨在应用 RAA 以消除 $\\neg \\varphi$ 时，允许 $\\bot$ 的推导依赖于一个仅在 $P \\lor Q$ 的析取消除的单个分支内引入的假设 $\\chi$；推断出的 $\\varphi$ 将不依赖于 $\\chi$。**\n\n我们来分析一下所提议的证明结构。我们有一个假设了 $\\neg \\varphi$ 的外部 RAA 子推导。在其中，我们对公式 $P \\lor Q$ 执行析取消除（$\\lor E$）。\n$\\lor E$ 的规则是：从 $P \\lor Q$、一个从假设 $P$ 推导 $R$ 的过程，以及一个从假设 $Q$ 推导 $R$ 的过程，我们可以得出结论 $R$。结论 $R$ 依赖于 $P \\lor Q$ 的假设，外加子推导中使用的任何假设（$P$ 和 $Q$ 除外）。\n该陈述称，一个假设 $\\chi$ 是*仅在单个分支内*引入的，比如 $P$ 分支。所以我们有一个从 $P$ 和 $\\chi$ 推导 $\\bot$ 的过程。为了能够应用 $\\lor E$ 得出 $\\bot$，我们必须也能从 $Q$ 推导出 $\\bot$。$\\lor E$ 规则的结论 $\\bot$ 不能依赖于 $\\chi$，因为假设 $\\chi$ 的作用域仅限于 $P$ 分支。一旦该分支为完成 $\\lor E$ 证明而关闭，$\\chi$ 就不再是一个活动的假设。由 $\\lor E$ 规则得出的任何公式都不能依赖于其分支内的局部假设。因此，如果“$\\bot$的推导”指的是由 $\\lor E$ 规则产生的 $\\bot$，那么所描述的设置（“允许 $\\bot$ 的推导依赖于... $\\chi$”）是不一致的。$\\lor E$ 规则本身“包含”了这样的局部假设。虽然最终推断出的 $\\varphi$ 确实不依赖于 $\\chi$，但该陈述的前提描述了一个违反 $\\lor E$ 规则形式条件的过程，该规则要求可以用相同背景假设分别从 $P$ 和 $Q$ 证明出相同的结论 $R$。在一个分支中添加一个独有的假设 $\\chi$ 意味着我们证明的是 $\\Gamma, P, \\chi \\vdash \\bot$，而不是所要求的 $\\Gamma, P \\vdash \\bot$。\n\n**结论：错误。**\n\n**C. 如果在 $P \\lor Q$ 的析取消除的一个分支内，$\\bot$ 是在一个只出现在该分支的假设 $\\chi$ 下推导出来的，那么人们可以在该分支之外通过 RAA 推断出 $\\varphi$，并在析取消除之外自由使用 $\\varphi$。**\n\n这个陈述描述了对作用域规则的严重违反。让我们假设 $\\bot$ 是在一个 $\\lor E$ 证明的 $P$ 分支内推导出来的，并且这个推导依赖于一个局部假设 $\\chi$。\n```\n  | [P]          (Assumption for ∨E)\n  |   [χ]        (Local Assumption)\n  |   ...\n  |   ⊥          (Depends on P, χ, and other open assumptions)\n```\n此时，$\\bot$ 仅在 $P$ 和 $\\chi$ 的作用域内有效。人们不能在“该分支之外”使用这个 $\\bot$。这样做意味着引用一个已关闭子推导中的行，这是一个根本性错误。如果有人非法地基于这个 $\\bot$ 在“该分支之外”应用 RAA，那么得到的 $\\varphi$ 将是无效推导的。 “自由”使用这样一个 $\\varphi$ 将会传播这个错误。自然演绎的规则正是为了防止这类无效操作而设计的。\n\n**结论：错误。**\n\n**D. 如果 $\\bot$ 的推导依赖于一个其子推导已经关闭的假设（即，在声称 $\\bot$ 的地方，该假设已被消除且超出作用域），那么该 $\\bot$ 不能合法地支持 RAA 的应用。**\n\n这个陈述描述了构建证明时的一个经典陷阱。对于给定行的公式，其有效推导只能引用从当前行作用域“可见”的前续行中的前提和公式。如果一个假设 $\\psi$ 的子推导已经关闭，那么该子推导内的任何公式（它们依赖于 $\\psi$）都不能再被访问。后续的 $\\bot$ 推导不能“依赖于”假设 $\\psi$，因为 $\\psi$ 已经被消除，也不能引用在 $\\psi$ 作用域内的行。\n因此，如果一个学生构建了一个证明，其中 $\\bot$ 的推导做出了这样的非法引用，那么 $\\bot$ 的推导就是无效的。一个无效推导出的公式不能成为任何后续合法推断的基础。因此，这个 `⊥` “不能合法地支持 RAA 的应用”。该陈述正确地指出了一个错误的证明构造及其后果。\n\n**结论：正确。**\n\n**E. RAA 精确地消除一个假设：当前开放子推导中最近引入的假设，而不管矛盾 $\\bot$ 旨在针对哪个假设。**\n\n这错误地表述了 RAA 规则。RAA 的应用，记作 `RAA, i-j`，其中第 `i` 行是假设，第 `j` 行是结论 $\\bot$，是特地与第 `i` 行的假设绑定的。规则是：如果假设 $\\neg \\varphi$ 能够推导出 $\\bot$，那么你可以得出结论 $\\varphi$，并消除*那个特定的* $\\neg \\varphi$ 假设。它不是一个消除最近假设的通用规则。例如，可能会有以下结构：\n```\n1. [¬φ]        (Assumption for RAA)\n2. |  [ψ]       (Another assumption)\n3. |  ...\n4. |  ⊥\n5. φ            (RAA, 1-4)\n```\n第 $5$ 行的 RAA 规则消除了第 $1$ 行的假设，即 $\\neg \\varphi$。第 $2$ 行的假设 $\\psi$ 比它更近，但不会被这次 RAA 应用所消除，它仍然是 $\\varphi$ 所依赖的一个开放假设。该陈述对规则的机制提供了错误的描述。\n\n**结论：错误。**", "answer": "$$\\boxed{AD}$$", "id": "3049792"}]}