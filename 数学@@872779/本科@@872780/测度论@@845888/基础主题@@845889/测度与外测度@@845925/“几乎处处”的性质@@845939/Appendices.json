{"hands_on_practices": [{"introduction": "“几乎处处”相等的核心思想是忽略那些测度为零的“小”集合上的差异。这个练习将通过一个构造清晰的函数，帮助我们直接应用这个定义。通过分析一个仅在整数点上取值不同的函数 [@problem_id:25990]，你将亲身体会到如何识别并忽略一个可数集（因此是零测度集），从而找到与之几乎处处相等的那个更简单的函数。", "problem": "### 背景\n\n在数学分析中，特别是在测度论中，我们经常遇到这样一种情况：即使两个函数并非在每一点上都相同，它们也被认为是“等价的”。这个概念通过“几乎处处”相等来形式化。\n\n**定义 1：零测度集**\n如果一个集合 $S \\subset \\mathbb{R}$ 是一个可数点集，则称其具有**零测度**。（如果一个集合的元素可以与自然数集建立一一对应关系，那么这个集合就是可数的）。具有零测度的集合的例子包括任何有限点集、所有整数的集合 $\\mathbb{Z}$ 以及所有有理数的集合 $\\mathbb{Q}$。\n\n**定义 2：几乎处处 (a.e.) 相等**\n如果两个函数 $f: \\mathbb{R} \\to \\mathbb{R}$ 和 $g: \\mathbb{R} \\to \\mathbb{R}$ 不相等的点的集合具有零测度，那么我们称这两个函数**几乎处处相等**（记作 $f = g$ a.e.）。也就是说，集合 $\\{x \\in \\mathbb{R} \\mid f(x) \\neq g(x)\\}$ 是一个零测度集。\n\n**定义 3：特征函数**\n对于任意集合 $A \\subseteq \\mathbb{R}$，其特征函数（记作 $\\chi_A(x)$）定义为：\n$$\n\\chi_A(x) = \\begin{cases} 1   \\text{如果 } x \\in A \\\\ 0   \\text{如果 } x \\notin A \\end{cases}\n$$\n\n### 问题描述\n\n考虑由下式定义的函数 $g: \\mathbb{R} \\to \\mathbb{R}$：\n$$\ng(x) = \\sin^2(x) + \\cos^2(x) + \\chi_{\\mathbb{Z}}(x)\n$$\n其中 $\\chi_{\\mathbb{Z}}(x)$ 是所有整数集合 $\\mathbb{Z}$ 的特征函数。\n\n求常数值 $k$，使得常数函数 $f(x) = k$ 与 $g(x)$ 几乎处处相等。", "solution": "我们有\n$$\ng(x)=\\sin^2(x)+\\cos^2(x)+\\chi_{\\mathbb{Z}}(x).\n$$\n使用勾股恒等式 $\\sin^2(x)+\\cos^2(x)=1$，所以\n$$\ng(x)=1+\\chi_{\\mathbb{Z}}(x)\n=\n\\begin{cases}\n1+1=2  \\text{如果 } x \\in \\mathbb{Z} \\\\\n1+0=1  \\text{如果 } x \\notin \\mathbb{Z}\n\\end{cases}\n$$\n函数 $g(x)$ 与常数函数 $f(x)=1$ 不同的点集是 $\\mathbb{Z}$。由于 $\\mathbb{Z}$ 是可数的，它是一个零测度集。因此，对于除了一个零测度集之外的所有 $x$，$g(x)=1$。所以常数 $k=1$ 满足 $f(x)=k$ 与 $g(x)$ 几乎处处相等。", "answer": "$$\\boxed{1}$$", "id": "25990"}, {"introduction": "“几乎处处”的概念有时会引出一些与我们直觉相悖的结论，尤其是在处理具有奇异性质的函数时。本练习将探讨著名的托梅函数（Thomae's function），它在稠密的有理数集上不连续，但在无理数点上却是连续的。通过这个练习 [@problem_id:1458676]，我们将挑战“稠密”意味着“大”的直观感觉，并揭示一个在拓扑上行为复杂的函数，在测度论的视角下可以变得非常简单。", "problem": "在实分析和测度论的研究中，我们经常遇到具有奇特连续性性质的函数。考虑定义在区间 $[0,1]$ 上的 Thomae 函数，也称为爆米花函数。设此函数记为 $f: [0,1] \\to \\mathbb{R}$，其中：\n- 如果 $x$ 是 $[0,1]$ 中的无理数，则 $f(x) = 0$。\n- 如果 $x$ 是 $[0,1]$ 中的有理数，写成最简分数形式 $x = \\frac{p}{q}$（其中 $p, q$ 是互质整数且 $q  0$），则 $f(x) = \\frac{1}{q}$。我们定义 $f(0) = 1$（对应于 $p=0, q=1$）和 $f(1)=1$（对应于 $p=1, q=1$）。\n\n一个已知的结果是，该函数 $f$ 在 $[0,1]$ 中的每个无理数点上连续，而在每个有理数点上不连续。\n\n关于勒贝格测度，两个函数“几乎处处相等”（a.e.）的概念是现代积分理论的核心。如果 $[0,1]$ 上的两个函数 $h_1$ 和 $h_2$ 不同的点集 $\\{x \\in [0,1] \\mid h_1(x) \\neq h_2(x)\\}$ 的勒贝格测度为零，则称它们几乎处处相等。\n\n根据这些定义，关于函数 $f$ 的下列哪个陈述是正确的？\n\nA. 不，不存在一个连续函数 $g$ 使得 $f=g$ 几乎处处成立，因为任何与一个连续函数几乎处处相等的函数本身必须处处连续。\n\nB. 不，不存在一个连续函数 $g$ 使得 $f=g$ 几乎处处成立，因为 $f$ 的不连续点集是有理数集，而有理数集在 $[0,1]$ 中是稠密的。\n\nC. 是，存在一个连续函数 $g$ 使得 $f=g$ 几乎处处成立，常数函数 $g(x) = 0$ 对所有 $x \\in [0,1]$ 成立就是一个有效的例子。\n\nD. 是，存在一个连续函数 $g$ 使得 $f=g$ 几乎处处成立，但这样的函数 $g$ 必须是非常数的，以适应 $f$ 的各种非零值。", "solution": "根据定义，Thomae 函数 $f:[0,1]\\to\\mathbb{R}$ 对于每个无理数 $x$ 满足 $f(x)=0$，对于最简分数形式的有理数 $x=\\frac{p}{q}$（其中 $q0$），它满足 $f(x)=\\frac{1}{q}$，并且 $f(0)=1$ 和 $f(1)=1$。$f$ 不为零的点集恰好是 $[0,1]$ 中的有理数点，因为对于每个无理数 $x$，都有 $f(x)=0$。\n\n令 $\\lambda$ 表示 $[0,1]$ 上的勒贝格测度。集合 $\\mathbb{Q}\\cap[0,1]$ 是可数的；因此其勒贝格测度为零：\n$$\n\\lambda\\big(\\mathbb{Q}\\cap[0,1]\\big)=0.\n$$\n考虑定义为对于所有 $x\\in[0,1]$都有 $g(x)=0$ 的连续函数 $g:[0,1]\\to\\mathbb{R}$。那么\n$$\n\\{x\\in[0,1]: f(x)\\neq g(x)\\}=\\{x\\in[0,1]: f(x)\\neq 0\\}=\\mathbb{Q}\\cap[0,1],\n$$\n因此 $\\lambda(\\{x\\in[0,1]: f(x)\\neq g(x)\\})=0$。所以 $f=g$ 几乎处处成立。这证明了存在一个连续函数 $g$ 使得 $f=g$ 几乎处处成立，并且常数零函数是一个有效的例子。\n\n现在评估各个选项：\n\n- 选项 A 是错误的。与一个连续函数几乎处处相等并不能保证一个函数是连续的；几乎处处相等并不保持逐点连续性。Thomae 函数本身相对于连续的零函数就是一个反例。\n\n- 选项 B 是错误的。不连续点集的稠密性与几乎处处相等无关。一个集合可以是稠密的但测度仍然为零（就像 $\\mathbb{Q}\\cap[0,1]$），因此稠密性并不排除 $f$ 与一个连续函数几乎处处相等。\n\n- 选项 C 是正确的。如上所示，对于所有 $x$，$g(x)=0$ 是连续的，并且满足 $f=g$ 几乎处处成立。\n\n- 选项 D 是错误的。不仅 $g$ 可以是常数函数，实际上任何与 $f$ 几乎处处相等的连续函数 $g$ 都必须恒等于零。确实，因为 $f=0$ 几乎处处成立，如果 $g$ 是连续的且 $f=g$ 几乎处处成立，那么 $g=0$ 也几乎处处成立。集合 $U=\\{x\\in[0,1]: g(x)\\neq 0\\}$ 根据 $g$ 的连续性是一个开集，并且满足 $\\lambda(U)=0$，这意味着 $U=\\varnothing$，因为 $\\mathbb{R}$ 中勒贝格测度为零的开子集必须是空集。因此 $g\\equiv 0$。\n\n因此，正确的陈述是，存在一个连续函数 $g$，并且 $g(x)=0$ 是可行的。", "answer": "$$\\boxed{C}$$", "id": "1458676"}, {"introduction": "掌握了几乎处处相等的基本概念后，一个自然的问题是：这种等价关系在代数运算下表现如何？这个练习 [@problem_id:25993] 旨在说明“几乎处处相等”性质的稳健性。它展示了，如果两个函数几乎处处等于某个常数，那么它们的代数组合（如加、减、除）同样几乎处处等于一个相应的常数，这为在更高等的分析（如 $L^p$ 空间）中处理函数等价类奠定了基础。", "problem": "在测度论中，我们定义了“几乎处处”相等的概念。如果一个性质不成立的点集是一个零测集，那么我们称该性质**几乎处处**（缩写为 a.e.）成立。对于实数轴 $\\mathbb{R}$，一个零测集是指可以被总长度任意小的可数个开区间的并集所覆盖的集合。在本题中，你可以假设任何有限或可数无限的点集都是零测集。\n\n设 $f: \\mathbb{R} \\to \\mathbb{R}$ 和 $g: \\mathbb{R} \\to \\mathbb{R}$ 是两个函数。\n已知 $f(x)$ 几乎处处等于常数 $c_1 = 5$。这可以写作：\n$$f(x) \\overset{\\text{a.e.}}{=} 5$$\n同样已知 $g(x)$ 几乎处处等于常数 $c_2 = 2$：\n$$g(x) \\overset{\\text{a.e.}}{=} 2$$\n\n一个新函数 $h(x)$ 由 $f(x)$ 和 $g(x)$ 构造如下：\n$$h(x) = \\frac{f(x) - g(x)}{f(x) + g(x)}$$\n这个新函数 $h(x)$ 也将几乎处处等于一个常数 $C$。\n\n求出这个常数 $C$ 的值。", "solution": "我们已知\n$$f(x)\\overset{\\mathrm{a.e.}}{=}c_1,\\qquad g(x)\\overset{\\mathrm{a.e.}}{=}c_2.$$\n定义\n$$h(x)=\\frac{f(x)-g(x)}{f(x)+g(x)}.$$\n令 $N_1 = \\{x \\mid f(x) \\neq c_1\\}$ 且 $N_2 = \\{x \\mid g(x) \\neq c_2\\}$。根据题意，$\\mu(N_1)=0$ 且 $\\mu(N_2)=0$。\n那么函数 $h(x)$ 不等于 $\\frac{c_1 - c_2}{c_1 + c_2}$ 的点集包含在 $N_1 \\cup N_2$ 中。由于零测度集的可数并集仍为零测度集，我们有 $\\mu(N_1 \\cup N_2) = 0$。\n因此，$h(x)$ 几乎处处等于常数\n$$C=\\frac{c_1-c_2}{c_1+c_2}$$\n将 $c_1=5$ 和 $c_2=2$ 代入，得\n$$C=\\frac{5-2}{5+2}=\\frac{3}{7}.$$", "answer": "$$\\boxed{\\frac{3}{7}}$$", "id": "25993"}]}