{"hands_on_practices": [{"introduction": "我们的第一个练习旨在建立对余面积公式的基本直观。我们将使用该公式计算一个在单位正方形上的简单积分，这个积分也可以通过标准微积分中的累次积分（富比尼定理）轻松解决。通过将两种方法的结果进行比较[@problem_id:1449801]，我们可以验证余面积公式的有效性，并理解它如何将积分过程分解为对一系列水平集（在这个案例中是垂直线段）的积分。", "problem": "余面积公式提供了一种将 $n$ 维区域上的积分与低维“切片”上的积分联系起来的方法。对于一个区域 $\\Omega \\subset \\mathbb{R}^n$，一个可积函数 $f: \\Omega \\to \\mathbb{R}$，以及一个连续可微函数 $g: \\Omega \\to \\mathbb{R}$，该公式的一种形式是：\n$$ \\int_{\\Omega} f(\\mathbf{x}) \\,d\\mathcal{L}^n(\\mathbf{x}) = \\int_{-\\infty}^{\\infty} \\left( \\int_{g^{-1}(t) \\cap \\Omega} \\frac{f(\\mathbf{y})}{|\\nabla g(\\mathbf{y})|} \\, d\\mathcal{H}^{n-1}(\\mathbf{y}) \\right) dt $$\n该公式成立的条件是梯度 $\\nabla g$ 几乎处处非零。这里，$\\mathcal{L}^n$ 是 $n$ 维勒贝格测度，$\\mathcal{H}^{n-1}$ 是 $(n-1)$ 维豪斯多夫测度（对于简单曲线即为其弧长），$g^{-1}(t)$ 是 $g$ 对应于值 $t$ 的水平集，而 $\\nabla g$ 是 $g$ 的梯度。\n\n考虑区域 $\\Omega$ 为平面上的单位正方形，即 $\\Omega = [0,1] \\times [0,1] = \\{(x,y) \\in \\mathbb{R}^2 \\mid 0 \\le x \\le 1, 0 \\le y \\le 1\\}$。设被积函数为 $f(x,y) = \\sin(\\pi x)$，水平集函数为 $g(x,y) = x$。\n\n使用上面所述的余面积公式，计算积分 $\\int_{\\Omega} f(x,y) \\,d\\mathcal{L}^2(x,y)$ 的值。你的最终答案应该是一个单一的封闭形式解析表达式。", "solution": "我们已知 $\\Omega = [0,1]\\times[0,1]$，$f(x,y) = \\sin(\\pi x)$，以及 $g(x,y) = x$。$g$ 的梯度是 $\\nabla g(x,y) = (1,0)$，所以对于所有 $(x,y)$，都有 $|\\nabla g(x,y)| = 1$，这满足了余面积公式所要求的非零条件。\n\n根据余面积公式，\n$$\n\\int_{\\Omega} f(x,y)\\,d\\mathcal{L}^{2}(x,y)\n=\n\\int_{-\\infty}^{\\infty}\n\\left(\n\\int_{g^{-1}(t)\\cap \\Omega}\n\\frac{f(\\mathbf{y})}{|\\nabla g(\\mathbf{y})|}\\,d\\mathcal{H}^{1}(\\mathbf{y})\n\\right)\\,dt.\n$$\n水平集 $g^{-1}(t) = \\{(x,y): x=t\\}$ 与 $\\Omega$ 相交当且仅当 $t\\in[0,1]$，在这种情况下 $g^{-1}(t)\\cap \\Omega = \\{(t,y): 0\\le y\\le 1\\}$。在这个集合上，$f(x,y) = \\sin(\\pi t)$ 关于 $y$ 是常数，并且 $|\\nabla g| = 1$。将切片参数化为 $\\varphi(y) = (t,y)$，其中 $y\\in[0,1]$，因此 $d\\mathcal{H}^{1} = |\\varphi'(y)|\\,dy = dy$。因此，对于 $t\\in[0,1]$，\n$$\n\\int_{g^{-1}(t)\\cap \\Omega} \\frac{f(\\mathbf{y})}{|\\nabla g(\\mathbf{y})|}\\,d\\mathcal{H}^{1}(\\mathbf{y})\n=\n\\int_{0}^{1} \\sin(\\pi t)\\,dy\n=\n\\sin(\\pi t)\\int_{0}^{1}dy\n=\n\\sin(\\pi t).\n$$\n对于 $t\\notin[0,1]$，内层积分为零。因此，\n$$\n\\int_{\\Omega} f(x,y)\\,d\\mathcal{L}^{2}(x,y)\n=\n\\int_{0}^{1} \\sin(\\pi t)\\,dt\n=\n\\left[-\\frac{\\cos(\\pi t)}{\\pi}\\right]_{0}^{1}\n=\n\\frac{2}{\\pi}.\n$$", "answer": "$$\\boxed{\\frac{2}{\\pi}}$$", "id": "1449801"}, {"introduction": "在掌握了二维平面的基本应用之后，我们将把余面积公式推广到三维空间中，用它来计算一个旋转抛物体的体积。这个练习[@problem_id:1449845]将展示该公式如何形式化和推广我们在初等微积分中学到的“切片法”。通过对物体进行水平“切片”，我们将体积计算转化为对一系列圆形截面面积的积分，从而直观地展示了高维积分如何分解为低维积分的累加。", "problem": "设 $\\mathbb{R}^3$ 中的一个区域 $E$ 由满足不等式 $x^2+y^2 \\le z \\le 1$ 的点集 $(x,y,z)$ 定义。您的任务是计算该区域的三维勒贝格测度（即体积）。\n\n您必须通过应用余面积公式，并使用函数 $g(x,y,z) = z$ 的水平集来解决此问题。余面积公式指出，对于一个合适的函数 $g: \\mathbb{R}^n \\to \\mathbb{R}$ 和一个勒贝格可测集 $E \\subset \\mathbb{R}^n$，对于任何非负可测函数 $f$，以下等式成立：\n$$ \\int_E f(x) \\, d\\mathcal{L}^n(x) = \\int_{\\mathbb{R}} \\left( \\int_{E \\cap g^{-1}(t)} \\frac{f(y)}{|\\nabla g(y)|} \\, d\\mathcal{H}^{n-1}(y) \\right) dt $$\n其中 $g^{-1}(t)$ 是 $g$ 在值 $t$ 处的水平集，$\\mathcal{L}^n$ 是 $n$ 维勒贝格测度，而 $\\mathcal{H}^{n-1}$ 是 $(n-1)$ 维豪斯多夫测度（在 $\\mathbb{R}^3$ 中对应于曲面面积）。\n\n请用精确的符号表达式表示您的最终答案。", "solution": "我们希望通过使用余面积公式和函数 $g(x,y,z)=z$ 来计算集合 $E=\\{(x,y,z)\\in\\mathbb{R}^{3}: x^{2}+y^{2}\\leq z\\leq 1\\}$ 的体积。在 $\\mathbb{R}^{3}$ 上设 $f\\equiv 1$。在这种情况下，余面积公式为\n$$\n\\int_{E} 1 \\, d\\mathcal{L}^{3} = \\int_{\\mathbb{R}} \\left( \\int_{E \\cap g^{-1}(t)} \\frac{1}{|\\nabla g(y)|} \\, d\\mathcal{H}^{2}(y) \\right) dt.\n$$\n我们计算得到 $|\\nabla g|=|\\nabla z|=1$。水平集 $g^{-1}(t)$ 是平面 $\\{(x,y,z): z=t\\}$。切片 $E\\cap g^{-1}(t)$ 由满足 $x^{2}+y^{2}\\leq t$ 和 $t\\leq 1$ 的点 $(x,y,t)$ 组成。由于 $x^{2}+y^{2}\\geq 0$，该切片仅在 $t\\geq 0$ 时非空。与 $t\\leq 1$ 结合，外层积分的范围缩减为 $t\\in[0,1]$。\n\n在平面 $z=t$ 上，$(n-1)$ 维豪斯多夫测度 $\\mathcal{H}^{2}$ 与该平面上通常的 $2$ 维勒贝格测度一致，因此\n$$\n\\int_{E \\cap g^{-1}(t)} \\frac{1}{|\\nabla g|} \\, d\\mathcal{H}^{2}\n= \\int_{\\{(x,y): x^{2}+y^{2}\\leq t\\}} 1 \\, dA\n= \\text{半径为 } \\sqrt{t} \\text{ 的圆盘面积}\n= \\pi t,\n$$\n此式对于 $t\\in[0,1]$ 成立，否则为 $0$。因此，\n$$\n\\int_{E} 1 \\, d\\mathcal{L}^{3} = \\int_{0}^{1} \\pi t \\, dt = \\pi \\int_{0}^{1} t \\, dt = \\pi \\left[\\frac{t^{2}}{2}\\right]_{0}^{1} = \\frac{\\pi}{2}.\n$$\n所以 $E$ 的体积是 $\\frac{\\pi}{2}$。", "answer": "$$\\boxed{\\frac{\\pi}{2}}$$", "id": "1449845"}, {"introduction": "最后一个练习将挑战我们对余面积公式的传统思维，展示其在解决复杂积分问题中的真正威力。在这里，积分的区域是一个简单的正方形，但被积函数 $f(x,y) = \\exp(|x|+|y|)$ 具有一种特殊的对称性。我们将学习如何巧妙地选择一个与被积函数对称性相匹配的函数 $g(x,y) = |x|+|y|$ 来定义水平集[@problem_id:1449843]，从而将一个棘手的二维积分问题转化为一个更易于处理的单变量积分。", "problem": "考虑由正方形 $S = \\{(x,y) \\in \\mathbb{R}^2 \\mid -1 \\le x \\le 1, -1 \\le y \\le 1\\}$ 定义的二维区域。设一个标量场 $f: S \\to \\mathbb{R}$ 定义为 $f(x,y) = \\exp(|x|+|y|)$。\n\n您的任务是计算积分 $I = \\iint_S f(x,y) \\,dx\\,dy$ 的值。为此，您必须使用一种基于函数 $g(x,y) = |x|+|y|$ 的水平集的方法。这涉及将二重积分重新表示为一个累次积分，其中外层积分变量对应于 $g$ 的水平集的值。\n\n请用数学常数 $e$ 表示您的最终答案，形式为一个封闭形式的解析表达式。", "solution": "我们要通过使用函数 $g(x,y)=|x|+|y|$ 的水平集来计算积分 $I=\\iint_{S} \\exp(|x|+|y|)\\,dx\\,dy$，积分区域为正方形 $S=\\{(x,y)\\in\\mathbb{R}^{2}\\mid -1\\le x\\le 1,\\,-1\\le y\\le 1\\}$。二维空间中对于一个 Lipschitz 函数 $g$ 的余面积公式表明，对于任意非负可测函数 $h$，\n$$\n\\int_{S} h(x)\\,|\\nabla g(x)|\\,dx=\\int_{\\mathbb{R}}\\left(\\int_{g^{-1}(t)\\cap S} h\\,d\\mathcal{H}^{1}\\right)dt,\n$$\n其中 $\\mathcal{H}^{1}$ 表示一维 Hausdorff 测度（长度）。我们应用此公式，令 $h(x)=\\exp(g(x))/|\\nabla g(x)|$。由于 $g(x,y)=|x|+|y|$，我们在 $x\\neq 0$ 且 $y\\neq 0$ 的地方有 $\\nabla g=(\\mathrm{sign}(x),\\mathrm{sign}(y))$，因此在 $S$ 上几乎处处有 $|\\nabla g|=\\sqrt{2}$。水平集 $g^{-1}(t)$ 仅在 $t\\in[0,2]$ 时与 $S$ 相交。因此，\n$$\nI=\\int_{S} \\exp(g)\\,dx=\\int_{0}^{2} \\exp(t)\\,\\frac{1}{\\sqrt{2}}\\,L(t)\\,dt,\n$$\n其中 $L(t)$ 是水平集 $\\{(x,y)\\in S:\\,|x|+|y|=t\\}$ 的总长度。\n\n我们现在分段计算 $L(t)$。对于 $t\\in[0,1]$，水平集是顶点为 $(\\pm t,0)$ 和 $(0,\\pm t)$ 的菱形的边界，该菱形完全包含在 $S$ 中。此菱形的每条边长为 $\\sqrt{(t-0)^{2}+(0-t)^{2}}=\\sqrt{2}t$，共有四条边，因此 $L(t)=4\\sqrt{2}t$。\n\n对于 $t\\in[1,2]$，在第一象限，与 $S$ 的交集是线段 $x+y=t$，$0\\le x\\le 1$ 且 $0\\le y\\le 1$，该线段从点 $(1,t-1)$ 连接到点 $(t-1,1)$。其长度为 $\\sqrt{((t-1)-1)^{2}+(1-(t-1))^{2}}=\\sqrt{2}(2-t)$。根据四个象限的对称性，$L(t)=4\\sqrt{2}(2-t)$。因此，\n$$\nL(t)=\\begin{cases}\n4\\sqrt{2}t,  & 0\\le t\\le 1,\\\\\n4\\sqrt{2}(2-t),  & 1\\le t\\le 2.\n\\end{cases}\n$$\n\n将此代入余面积表示法中得到\n$$\nI=\\int_{0}^{2} \\exp(t)\\,\\frac{1}{\\sqrt{2}}\\,L(t)\\,dt\n= \\int_{0}^{1} \\exp(t)\\,\\frac{1}{\\sqrt{2}}\\,(4\\sqrt{2}t)\\,dt+\\int_{1}^{2} \\exp(t)\\,\\frac{1}{\\sqrt{2}}\\,(4\\sqrt{2}(2-t))\\,dt\n=4\\int_{0}^{1} t\\exp(t)\\,dt+4\\int_{1}^{2} (2-t)\\exp(t)\\,dt.\n$$\n\n我们显式地计算这些积分。使用分部积分法，$\\int t\\exp(t)\\,dt=(t-1)\\exp(t)+C$，所以\n$$\n\\int_{0}^{1} t\\exp(t)\\,dt=\\left[(t-1)\\exp(t)\\right]_{0}^{1}=(1-1)\\exp(1)-(0-1)\\exp(0)=1.\n$$\n同样，\n$$\n\\int (2-t)\\exp(t)\\,dt=2\\exp(t)-\\int t\\exp(t)\\,dt=2\\exp(t)-(t-1)\\exp(t)=(3-t)\\exp(t)+C,\n$$\n因此\n$$\n\\int_{1}^{2} (2-t)\\exp(t)\\,dt=\\left[(3-t)\\exp(t)\\right]_{1}^{2}=(3-2)\\exp(2)-(3-1)\\exp(1)=e^{2}-2e.\n$$\n\n将这些结果合并得到\n$$\nI=4\\left(1+e^{2}-2e\\right)=4\\left(e^{2}-2e+1\\right)=4\\left(e-1\\right)^{2}.\n$$\n\n这是一个以常数 $e$ 表示的封闭形式解析表达式。", "answer": "$$\\boxed{4(e-1)^{2}}$$", "id": "1449843"}]}