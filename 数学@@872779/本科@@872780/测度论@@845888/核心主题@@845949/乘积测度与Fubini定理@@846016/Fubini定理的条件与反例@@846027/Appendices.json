{"hands_on_practices": [{"introduction": "理论的生命力在于应用。我们从一个基础练习开始，这个练习将展示如何在具体的几何背景下应用托内利定理 (Tonelli's theorem)。通过使用指示函数，我们可以将一个在复杂区域（如单位圆盘）上的积分，转化为在一个简单矩形上的累次积分，从而搭建起从抽象测度论到实用多元微积分的桥梁。", "problem": "设 $D$ 为笛卡尔平面中的单位圆盘，定义为 $D = \\{(x,y) \\in \\mathbb{R}^2 \\mid x^2 + y^2 \\le 1\\}$。考虑函数 $f(x,y) = x^2 + y^2$。我们希望计算该函数在区域 $D$ 上的二重积分。\n\n这个积分可以通过考虑一个定义在正方形 $S = [-1, 1] \\times [-1, 1]$ 上的辅助函数 $g(x,y)$ 来计算，该函数定义为 $g(x,y) = (x^2+y^2) \\chi_D(x,y)$，其中 $\\chi_D(x,y)$ 是圆盘 $D$ 的指示函数。如果 $(x,y) \\in D$，指示函数的值为 1，否则为 0。$f(x,y)$ 在 $D$ 上的积分等价于 $g(x,y)$ 在 $S$ 上的积分。\n\n通过计算累次积分 $\\int_{-1}^{1} \\left( \\int_{-1}^{1} g(x,y) \\, dx \\right) dy$ 来求此积分的值。以封闭形式的解析表达式给出精确值。", "solution": "我们通过在 $S=[-1,1]\\times[-1,1]$ 上积分 $g(x,y)=(x^{2}+y^{2})\\chi_{D}(x,y)$ 来求 $f(x,y)=x^{2}+y^{2}$ 在 $D=\\{(x,y)\\in\\mathbb{R}^{2}\\mid x^{2}+y^{2}\\leq 1\\}$ 上的积分。由于 $g\\geq 0$ 且可测，根据托内利定理，计算累次积分是合理的\n$$\n\\int_{-1}^{1}\\left(\\int_{-1}^{1}g(x,y)\\,dx\\right)dy.\n$$\n对于固定的 $y\\in[-1,1]$，被积函数 $g(x,y)$ 在 $x^{2}+y^{2}\\leq 1$ 时（即 $x\\in[-\\sqrt{1-y^{2}},\\,\\sqrt{1-y^{2}}]$）等于 $x^{2}+y^{2}$，否则等于 $0$。因此内层积分为\n$$\nI(y)=\\int_{-1}^{1}g(x,y)\\,dx=\\int_{-\\sqrt{1-y^{2}}}^{\\sqrt{1-y^{2}}}(x^{2}+y^{2})\\,dx.\n$$\n利用偶函数性质计算，\n$$\nI(y)=\\int_{-\\sqrt{1-y^{2}}}^{\\sqrt{1-y^{2}}}x^{2}\\,dx+\\int_{-\\sqrt{1-y^{2}}}^{\\sqrt{1-y^{2}}}y^{2}\\,dx\n=2\\int_{0}^{\\sqrt{1-y^{2}}}x^{2}\\,dx+2y^{2}\\sqrt{1-y^{2}}.\n$$\n计算第一项：\n$$\n2\\int_{0}^{\\sqrt{1-y^{2}}}x^{2}\\,dx=2\\cdot\\frac{\\left(\\sqrt{1-y^{2}}\\right)^{3}}{3}=\\frac{2}{3}(1-y^{2})^{3/2}.\n$$\n因此\n$$\nI(y)=\\frac{2}{3}(1-y^{2})^{3/2}+2y^{2}(1-y^{2})^{1/2}.\n$$\n于是外层积分为\n$$\n\\int_{-1}^{1}I(y)\\,dy\n=2\\int_{0}^{1}\\left[\\frac{2}{3}(1-y^{2})^{3/2}+2y^{2}(1-y^{2})^{1/2}\\right]dy,\n$$\n这里我们利用了 $I(y)$ 是偶函数。使用换元法，令 $y=\\sin\\theta$，其中 $\\theta\\in[0,\\frac{\\pi}{2}]$，则 $dy=\\cos\\theta\\,d\\theta$，$(1-y^{2})^{1/2}=\\cos\\theta$，以及 $(1-y^{2})^{3/2}=\\cos^{3}\\theta$。那么\n$$\n2\\int_{0}^{1}\\left[\\frac{2}{3}(1-y^{2})^{3/2}+2y^{2}(1-y^{2})^{1/2}\\right]dy\n=2\\int_{0}^{\\pi/2}\\left[\\frac{2}{3}\\cos^{4}\\theta+2\\sin^{2}\\theta\\cos^{2}\\theta\\right]d\\theta.\n$$\n计算标准三角积分：\n$$\n\\int_{0}^{\\pi/2}\\cos^{4}\\theta\\,d\\theta=\\frac{3\\pi}{16},\\qquad\n\\int_{0}^{\\pi/2}\\sin^{2}\\theta\\cos^{2}\\theta\\,d\\theta=\\frac{\\pi}{16}.\n$$\n因此，\n$$\n2\\int_{0}^{\\pi/2}\\left[\\frac{2}{3}\\cos^{4}\\theta+2\\sin^{2}\\theta\\cos^{2}\\theta\\right]d\\theta\n=2\\left[\\frac{2}{3}\\cdot\\frac{3\\pi}{16}+2\\cdot\\frac{\\pi}{16}\\right]\n=2\\left[\\frac{\\pi}{8}+\\frac{\\pi}{8}\\right]\n=2\\cdot\\frac{\\pi}{4}\n=\\frac{\\pi}{2}.\n$$\n这个结果等于 $f$ 在 $D$ 上的二重积分，因此也等于给定的 $g$ 在 $S$ 上的累次积分。", "answer": "$$\\boxed{\\frac{\\pi}{2}}$$", "id": "1411309"}, {"introduction": "富比尼定理 (Fubini's theorem) 和托内利定理依赖于一些关键假设。这个练习将探讨当其中一个核心条件——测度的 $\\sigma$-有限性被违反时会发生什么。通过在一个包含非 $\\sigma$-有限的计数测度的乘积空间上进行积分，我们将亲眼看到两个累次积分如何得出完全不同的结果，从而证明为何 $\\sigma$-有限性是不可或缺的。", "problem": "考虑单位正方形 $S = [0,1] \\times [0,1]$。在区间 $[0,1]$ 上定义了两个测度：标准的一维勒贝格测度，记为 $\\mathcal{L}$，以及计数测度，记为 $\\mathcal{C}$。对于任意子集 $A \\subseteq [0,1]$，计数测度 $\\mathcal{C}(A)$ 定义为：如果集合 $A$ 是有限集，则 $\\mathcal{C}(A)$ 是 $A$ 中点的个数；如果 $A$ 是无限集，则其值为无穷大。\n\n设函数 $f: S \\to \\mathbb{R}$ 定义为正方形内对角线段的特征函数。具体来说，$f(x,y) = 1$ 如果 $x=y$，$f(x,y) = 0$ 如果 $x \\neq y$。\n\n我们的目标是计算该函数在正方形 $S$ 上的两个可能的累次积分，其中每个积分变量都与一个不同的测度相关联。设这两个积分定义如下：\n\n$$I_1 = \\int_0^1 \\left( \\int_0^1 f(x,y) \\, d\\mathcal{L}(x) \\right) d\\mathcal{C}(y)$$\n$$I_2 = \\int_0^1 \\left( \\int_0^1 f(x,y) \\, d\\mathcal{C}(y) \\right) d\\mathcal{L}(x)$$\n\n下列哪个选项正确给出了 $I_1$ 和 $I_2$ 的值？\n\nA. $I_1 = 0$ 且 $I_2 = 0$\n\nB. $I_1 = 0$ 且 $I_2 = 1$\n\nC. $I_1 = 1$ 且 $I_2 = 0$\n\nD. $I_1 = 1$ 且 $I_2 = 1$\n\nE. $I_1 = \\infty$ 且 $I_2 = 0$\n\nF. 至少有一个积分是未定义的。", "solution": "我们在 $S=[0,1]\\times[0,1]$ 上有函数 $f(x,y)=\\mathbf{1}_{\\{x=y\\}}$。我们通过先计算内层积分来计算每个累次积分。\n\n对于 $I_{1}$，固定 $y\\in[0,1]$。那么作为 $x$ 的函数，$f(x,y)=\\mathbf{1}_{\\{y\\}}(x)$。关于勒贝格测度的内层积分是\n$$\n\\int_{0}^{1} f(x,y)\\,d\\mathcal{L}(x)=\\int_{0}^{1} \\mathbf{1}_{\\{y\\}}(x)\\,d\\mathcal{L}(x)=\\mathcal{L}(\\{y\\})=0,\n$$\n因为单点集的勒贝格测度为零。因此关于计数测度的外层积分是\n$$\nI_{1}=\\int_{0}^{1}\\left( \\int_{0}^{1} f(x,y)\\,d\\mathcal{L}(x)\\right)d\\mathcal{C}(y)=\\int_{0}^{1} 0\\,d\\mathcal{C}(y)=0.\n$$\n\n对于 $I_{2}$，固定 $x\\in[0,1]$。那么作为 $y$ 的函数，$f(x,y)=\\mathbf{1}_{\\{x\\}}(y)$。关于计数测度的内层积分是该单点集的计数测度：\n$$\n\\int_{0}^{1} f(x,y)\\,d\\mathcal{C}(y)=\\int_{0}^{1} \\mathbf{1}_{\\{x\\}}(y)\\,d\\mathcal{C}(y)=\\mathcal{C}(\\{x\\})=1.\n$$\n因此关于勒贝格测度的外层积分是\n$$\nI_{2}=\\int_{0}^{1}\\left( \\int_{0}^{1} f(x,y)\\,d\\mathcal{C}(y)\\right)d\\mathcal{L}(x)=\\int_{0}^{1} 1\\,d\\mathcal{L}(x)=\\mathcal{L}([0,1])=1.\n$$\n\n因此 $I_{1}=0$ 且 $I_{2}=1$，这对应于选项 B。", "answer": "$$\\boxed{B}$$", "id": "1411351"}, {"introduction": "最后的这个练习将展示一个更为精妙的反例。在这个思想实验 [@problem_id:1411344] 中，我们所用的测度空间是表现良好的（都是标准勒贝格测度），并且两个累次积分的结果不仅存在还彼此相等。然而，这个练习构造的函数，其绝对值的积分是发散的，这揭示了为什么绝对可积性才是解锁富比尼定理全部功能的关键，它保证了累次积分的值与真正的二重积分值相一致。", "problem": "一位工程师正在研究一个理论模型，该模型描述了定义在区域 $[0,1] \\times [0,1]$ 上的方形导电板上的静电势 $f(x,y)$。该电势通过一个无限的分层过程构建。\n\n构建从整块板开始，我们称之为第零代正方形。\n\n第一步（$n=1$），第零代正方形被划分为四个相等的子正方形。然后叠加一个电势分布：沿主对角线（即左下和右上）的两个子正方形上施加 $+c_1$ 的电势，而在两个非对角线子正方形上施加 $-c_1$ 的电势。\n\n第二步（$n=2$），只考虑第一步中的两个对角线子正方形。这两个正方形中的每一个自身又被划分为四个更小的子正方形。在这两组四个子正方形的每一组内部，应用相同的模式：在两个新的对角线子正方形上增加 $+c_2$ 的电势，在两个新的非对角线子正方形上增加 $-c_2$ 的电势。第一步中非对角线正方形的电势保持不变。\n\n这个过程无限持续下去。在第 $n$ 步，来自第 $n-1$ 步的 $2^{n-1}$ 个对角线正方形中的每一个都被划分为四个，并按照相同的对角线/非对角线模式增加一个 $\\pm c_n$ 的电势分布。\n\n板上任意点 $(x,y)$ 的总电势 $f(x,y)$ 是所有步骤中增加的电势之和。常数序列由 $c_n = 4^n$ 给出，其中 $n=1, 2, 3, \\dots$。\n\n你的任务是计算由累次积分 $\\int_0^1 \\left( \\int_0^1 f(x,y) \\, dy \\right) \\, dx$ 给出的与功相关的量。", "solution": "让我们形式化函数 $f(x,y)$ 的构建过程。\n电势被构建为函数之和 $f(x,y) = \\sum_{n=1}^{\\infty} g_n(x,y)$，其中 $g_n(x,y)$ 是在第 $n$ 步增加的电势分布。\n\n令 $E_0 = [0,1]^2$。在第1步，$E_0$ 被划分为四个正方形。令 $E_1$ 为此次划分中两个对角线正方形的并集：$E_1 = [0, 1/2)^2 \\cup [1/2, 1)^2$。$E_1$ 的面积是 $2 \\times (1/2)^2 = 1/2$。函数 $g_1(x,y)$ 定义为：\n$$ g_1(x,y) = \\begin{cases} +c_1  \\text{如果 } (x,y) \\in E_1 \\\\ -c_1  \\text{如果 } (x,y) \\in E_0 \\setminus E_1 \\end{cases} $$\n在第2步，构成 $E_1$ 的两个正方形中的每一个都被划分为四个更小的正方形。令 $E_2$ 为这些划分中对角线子正方形的并集。$E_2$ 由 4 个边长为 $1/4$ 的正方形组成，所以其总面积为 $4 \\times (1/4)^2 = 1/4$。函数 $g_2(x,y)$ 定义为：\n$$ g_2(x,y) = \\begin{cases} +c_2  \\text{如果 } (x,y) \\in E_2 \\\\ -c_2  \\text{如果 } (x,y) \\in E_1 \\setminus E_2 \\\\ 0  \\text{如果 } (x,y) \\notin E_1 \\end{cases} $$\n一般地，令 $E_{n-1}$ 为第 $n-1$ 步中 $2^{n-1}$ 个对角线正方形的并集。$E_{n-1}$ 的面积是 $2^{n-1} \\times (2^{-(n-1)})^2 = 2^{-(n-1)}$。在第 $n$ 步，我们将 $E_{n-1}$ 中的每个正方形划分为四个。令 $E_n$ 为所有新的对角线正方形的并集。$E_n$ 的面积是 $2^{-n}$。函数 $g_n(x,y)$ 定义为：\n$$ g_n(x,y) = \\begin{cases} +c_n  \\text{如果 } (x,y) \\in E_n \\\\ -c_n  \\text{如果 } (x,y) \\in E_{n-1} \\setminus E_n \\\\ 0  \\text{如果 } (x,y) \\notin E_{n-1} \\end{cases} $$\n总电势为 $f(x,y) = \\sum_{n=1}^{\\infty} g_n(x,y)$。我们需要计算 $I = \\int_0^1 \\left( \\int_0^1 f(x,y) \\, dy \\right) \\, dx$。\n\n首先，对于一个固定的 $x \\in [0,1]$ 值，我们计算内层积分 $I_x = \\int_0^1 f(x,y) \\, dy$。\n$$ I_x = \\int_0^1 \\sum_{n=1}^{\\infty} g_n(x,y) \\, dy $$\n对于固定的 $x$，函数 $y \\mapsto g_n(x,y)$ 是简单函数。和 $\\sum_{n=1}^\\infty g_n(x,y)$ 技术上是一个无穷级数，但对于任何不在任何构建正方形边界上（一个测度为零的集合）的给定点 $(x,y)$，它所属的正方形序列是唯一的。我们可以证明交换积分和求和是合理的。要进行严格的证明，可以使用控制收敛定理，但我们也可以更直接地论证。对于固定的 $x$，和 $\\sum g_n(x,y)$ 是 y 轴上的阶梯函数之和。总积分将是积分之和。\n$$ I_x = \\sum_{n=1}^{\\infty} \\int_0^1 g_n(x,y) \\, dy $$\n我们来分析积分 $\\int_0^1 g_n(x,y) \\, dy$。\n函数 $g_n(x,y)$ 仅在 $(x,y) \\in E_{n-1}$ 时非零。$E_{n-1}$ 是 $2^{n-1}$ 个不相交正方形的并集，记为 $Q_k$，$k=1, \\dots, 2^{n-1}$。每个 $Q_k$ 的边长为 $L = 2^{-(n-1)}$。令 $Q_k = [x_k, x_k+L) \\times [y_k, y_k+L)$。\n如果我们固定的 $x$ 不在任何区间 $[x_k, x_k+L)$ 内，那么对于所有的 $y$，$g_n(x,y)=0$，其积分为零。\n假设对于某个 $k$，$x \\in [x_k, x_k+L)$。那么积分仅在 $y \\in [y_k, y_k+L)$ 时非零。\n在正方形 $Q_k$ 内，函数 $g_n(x,y)$ 是根据 $Q_k$ 划分为四个子正方形来定义的。我们来考虑当 $y$ 从 $y_k$ 变化到 $y_k+L$ 时 $g_n(x,y)$ 的行为。\n$y$-区间 $[y_k, y_k+L)$ 被分成两半：$[y_k, y_k+L/2)$ 和 $[y_k+L/2, y_k+L)$。\n如果 $x \\in [x_k, x_k+L/2)$，那么当 $y \\in [y_k, y_k+L/2)$ 时，$(x,y)$ 在一个对角线子正方形内；当 $y \\in [y_k+L/2, y_k+L)$ 时，在一个非对角线子正方形内。\n因此，对于 $x \\in [x_k, x_k+L/2)$：\n$$ g_n(x,y) = \\begin{cases} +c_n  \\text{对于 } y \\in [y_k, y_k+L/2) \\\\ -c_n  \\text{对于 } y \\in [y_k+L/2, y_k+L) \\end{cases} $$\n在此 $y$ 范围内的积分为：\n$$ \\int_{y_k}^{y_k+L} g_n(x,y) \\, dy = (+c_n) \\cdot (L/2) + (-c_n) \\cdot (L/2) = 0 $$\n如果 $x \\in [x_k+L/2, x_k+L)$，那么当 $y \\in [y_k, y_k+L/2)$ 时，$(x,y)$ 在一个非对角线子正方形内；当 $y \\in [y_k+L/2, y_k+L)$ 时，在一个对角线子正方形内。\n因此，对于 $x \\in [x_k+L/2, x_k+L)$：\n$$ g_n(x,y) = \\begin{cases} -c_n  \\text{对于 } y \\in [y_k, y_k+L/2) \\\\ +c_n  \\text{对于 } y \\in [y_k+L/2, y_k+L) \\end{cases} $$\n在此 $y$ 范围内的积分同样是：\n$$ \\int_{y_k}^{y_k+L} g_n(x,y) \\, dy = (-c_n) \\cdot (L/2) + (+c_n) \\cdot (L/2) = 0 $$\n这对于 $E_{n-1}$ 中的任何正方形 $Q_k$ 都成立。因此，对于任何固定的 $x$（不在二进有理数边界上），切片 $g_n(x, \\cdot)$ 在其支集上的积分为零。\n因此，对于任何 $n \\geq 1$ 和任何 $x \\in [0,1]$：\n$$ \\int_0^1 g_n(x,y) \\, dy = 0 $$\n这意味着内层积分为：\n$$ I_x = \\int_0^1 f(x,y) \\, dy = \\sum_{n=1}^{\\infty} \\int_0^1 g_n(x,y) \\, dy = \\sum_{n=1}^{\\infty} 0 = 0 $$\n这对于所有 $x \\in [0,1]$ 都成立。\n现在我们可以计算外层积分：\n$$ I = \\int_0^1 I_x \\, dx = \\int_0^1 0 \\, dx = 0 $$\n该累次积分的值是 0。\n\n值得注意的是，这个结果并不意味着函数 $f$ 在 $[0,1]^2$ 上是勒贝格可积的。如果函数是绝对可积的，即 $\\int_{[0,1]^2} |f(x,y)| \\, d(x,y)  \\infty$，富比尼定理才允许交换积分顺序。我们来检查这个条件。\n\n对于 $n=1, 2, \\dots$，集合 $E_{n-1} \\setminus E_n$ 是不相交的，它们的并集覆盖了 $[0,1]^2$，只差一个测度为零的集合（$\\cap E_n$）。$E_{n-1} \\setminus E_n$ 的面积是 $\\text{Area}(E_{n-1}) - \\text{Area}(E_n) = 2^{-(n-1)} - 2^{-n} = 2^{-n}$。\n\n对于任何点 $(x,y) \\in E_{k-1} \\setminus E_k$，其电势由其直到第 $k$ 步的历史决定。这样一个点在第 $1, \\dots, k-1$ 步处于对角线区域，在第 $k$ 步处于非对角线区域。对于所有后续步骤 $jk$，$g_j(x,y)=0$。\n所以，对于 $(x,y) \\in E_{k-1} \\setminus E_k$：\n$g_1(x,y) = +c_1$\n$g_2(x,y) = +c_2$\n...\n$g_{k-1}(x,y) = +c_{k-1}$\n$g_k(x,y) = -c_k$\n$g_j(x,y) = 0$ for $jk$.\n在这个集合上函数的值是常数：$f(x,y) = \\left(\\sum_{j=1}^{k-1} c_j\\right) - c_k$。\n\n我们来计算 $|f|$ 的积分：\n$$ \\int_{[0,1]^2} |f| \\, d\\lambda = \\sum_{n=1}^{\\infty} \\int_{E_{n-1} \\setminus E_n} |f| \\, d\\lambda = \\sum_{n=1}^{\\infty} \\left|\\sum_{j=1}^{n-1} c_j - c_n\\right| \\cdot \\text{Area}(E_{n-1} \\setminus E_n) $$\n当 $c_j = 4^j$ 时，这个和是一个等比级数：$\\sum_{j=1}^{n-1} 4^j = 4 \\frac{4^{n-1}-1}{4-1} = \\frac{4}{3}(4^{n-1}-1)$。\n级数中的项是：\n$$ \\left|\\frac{4}{3}(4^{n-1}-1) - 4^n\\right| \\cdot 2^{-n} = \\left|\\frac{1}{3}4^n - \\frac{4}{3} - 4^n\\right| \\cdot 2^{-n} = \\left|-\\frac{2}{3}4^n - \\frac{4}{3}\\right| \\cdot 2^{-n} $$\n$$ = \\left(\\frac{2}{3}4^n + \\frac{4}{3}\\right) 2^{-n} = \\frac{2}{3} \\frac{4^n}{2^n} + \\frac{4}{3} \\frac{1}{2^n} = \\frac{2}{3}2^n + \\frac{4}{3}2^{-n} $$\n现在我们对所有的 $n$ 求和：\n$$ \\int_{[0,1]^2} |f| \\, d\\lambda = \\sum_{n=1}^{\\infty} \\left(\\frac{2}{3}2^n + \\frac{4}{3}2^{-n}\\right) = \\frac{2}{3}\\sum_{n=1}^{\\infty} 2^n + \\frac{4}{3}\\sum_{n=1}^{\\infty} \\left(\\frac{1}{2}\\right)^n $$\n第一个级数 $\\sum_{n=1}^{\\infty} 2^n$ 是公比 $r=2 > 1$ 的等比级数，它发散到无穷大。第二个级数收敛。因此，整个和是发散的。\n$$ \\int_{[0,1]^2} |f(x,y)| \\, d(x,y) = \\infty $$\n函数 $f$ 不是勒贝格可积的。这是一个经典的例子，其中累次积分存在且相等，但富比尼定理不适用，因为函数不是绝对可积的。题目只要求计算累次积分的值，我们已经发现它为 0。", "answer": "$$\\boxed{0}$$", "id": "1411344"}]}