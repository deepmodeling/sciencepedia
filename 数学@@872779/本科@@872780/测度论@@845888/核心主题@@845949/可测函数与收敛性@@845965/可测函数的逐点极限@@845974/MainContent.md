## 引言
在数学分析中，研究函数类在各种运算下的封闭性是一个基本问题。对于可测函数而言，我们知道它们在有限次代数运算下是封闭的，但这还不足以支撑起[现代分析学](@entry_id:146248)的宏伟大厦。一个更深刻的问题随之而来：当一个[可测函数序列](@entry_id:194460)[逐点收敛](@entry_id:145914)时，它的极限函数是否仍然保持可测性？这个问题的答案是肯定的，它构成了[测度论](@entry_id:139744)与勒贝格积分理论的根基。

本文将系统地揭示可测函数在极限运算下的这一优美性质。在“原理与机制”一章中，我们将通过上极限和[下极限](@entry_id:145282)等概念，一步步证明[可测函数序列](@entry_id:194460)的[逐点极限](@entry_id:193549)仍然是可测的，并展示如何用[简单函数](@entry_id:137521)来逼近任意[可测函数](@entry_id:159040)。接下来，在“应用与跨学科联系”一章中，我们将探讨这一原理如何成为[实分析](@entry_id:137229)、泛函分析、概率论乃至分形几何等多个领域的理论基石。最后，“动手实践”部分将提供具体的例子，让你亲手计算和分析不同[函数序列的极限](@entry_id:142182)，从而加深对理论的理解。

## 原理与机制

在[测度论](@entry_id:139744)的研究中，一个核心问题是[可测函数](@entry_id:159040)类在各种运算下的封闭性。我们已经知道，[可测函数](@entry_id:159040)的有限次代数运算（加、减、乘、除）和复合运算（与[连续函数](@entry_id:137361)复合）的结果仍然是可测的。然而，分析学中更为强大和普遍的工具是极限运算。因此，一个自然而深刻的问题是：一个[可测函数序列](@entry_id:194460)的[逐点极限](@entry_id:193549)函数是否仍然是可测的？本章将系统地探讨这一问题，并阐明其背后的核心原理与机制。答案是肯定的，这一性质不仅是测度论理论体系的基石，也为勒贝格积分理论的发展铺平了道路。

### 极限运算下的[可测性](@entry_id:199191)保持

为了证明[可测函数序列](@entry_id:194460)的[逐点极限](@entry_id:193549)是可测的，我们首先需要考察更为基本的极限相关运算：[上确界](@entry_id:140512)（supremum）、下确界（infimum）、[上极限](@entry_id:144243)（limit superior）和[下极限](@entry_id:145282)（limit inferior）。

#### [函数序列](@entry_id:145607)的[上确界与下确界](@entry_id:146074)

考虑一个定义在[可测空间](@entry_id:189701) $(X, \mathcal{M})$ 上的可数函数序列 $\{f_n\}_{n=1}^\infty$，其中每个 $f_n$ 都是 $\mathcal{M}$-可测的。我们定义它们的[逐点上确界](@entry_id:635105)函数 $g(x)$ 和逐点下确界函数 $h(x)$ 如下：
$$ g(x) = \sup_{n \ge 1} f_n(x) $$
$$ h(x) = \inf_{n \ge 1} f_n(x) $$

这两个函数都是可测的。我们可以通过考察它们水平集的原像来证明这一点。对于任意实数 $a \in \mathbb{R}$，考虑集合 $\{x \in X : g(x) > a\}$。一个点 $x$ 在这个集合中，当且仅当 $g(x) = \sup_n f_n(x)$ 的值大于 $a$。根据上确界的定义，这等价于至少存在一个 $n$ 使得 $f_n(x) > a$。因此，我们可以将这个[集合表示](@entry_id:636781)为：
$$ \{x \in X : g(x) > a\} = \bigcup_{n=1}^\infty \{x \in X : f_n(x) > a\} $$

由于每个 $f_n$ 都是[可测函数](@entry_id:159040)，所以每个集合 $\{x \in X : f_n(x) > a\}$ 都是 $\mathcal{M}$ 中的[可测集](@entry_id:159173)。根据 $\sigma$-代数的定义，可数个[可测集](@entry_id:159173)的并集仍然是可测的。因此，集合 $\{x \in X : g(x) > a\}$ 是可测的。这对于所有 $a \in \mathbb{R}$ 都成立，从而证明了函数 $g(x)$ 是可测的。

类似地，对于[下确界](@entry_id:140118)函数 $h(x)$，我们可以考察集合 $\{x \in X : h(x)  a\}$。一个点 $x$ 在这个集合中，当且仅当 $\inf_n f_n(x)$ 的值小于 $a$。这等价于至少存在一个 $n$ 使得 $f_n(x)  a$。因此：
$$ \{x \in X : h(x)  a\} = \bigcup_{n=1}^\infty \{x \in X : f_n(x)  a\} $$
同样，这个集合是可数个可测集的并集，因此是可测的。这证明了函数 $h(x)$ 也是可测的。

值得强调的是，索引集的[可数性](@entry_id:148500)在这里是至关重要的 [@problem_id:1435625]。如果一个函数族 $\{f_\alpha\}_{\alpha \in A}$ 的索引集 $A$ 是不可数的，那么其[上确界](@entry_id:140512)函数 $\sup_{\alpha \in A} f_\alpha(x)$ 通常不保证是可测的，因为 $\sigma$-代数只保证对可数并运算封闭，而不保证对不可数并运算封闭。

#### [上极限与下极限](@entry_id:161134)

有了上确界和下确界的[可测性](@entry_id:199191)作为基础，我们现在可以定义并证明函数序列的[上极限](@entry_id:144243)（limsup）和[下极限](@entry_id:145282)（liminf）的[可测性](@entry_id:199191)。对于一个[可测函数序列](@entry_id:194460) $\{f_n\}$，其上极限和[下极限](@entry_id:145282)定义为：
$$ \limsup_{n \to \infty} f_n(x) = \inf_{n \ge 1} \left( \sup_{k \ge n} f_k(x) \right) $$
$$ \liminf_{n \to \infty} f_n(x) = \sup_{n \ge 1} \left( \inf_{k \ge n} f_k(x) \right) $$

让我们来分析[上极限](@entry_id:144243)的表达式。对于每个固定的 $n$，令 $g_n(x) = \sup_{k \ge n} f_k(x)$。根据上一节的结论，$g_n(x)$ 是一个可测函数。那么，上极限函数就是[可测函数序列](@entry_id:194460) $\{g_n\}_{n=1}^\infty$ 的[下确界](@entry_id:140118)。因此，$\limsup_{n \to \infty} f_n(x) = \inf_n g_n(x)$ 也是一个可测函数。同理，下[极限函数](@entry_id:157601) $\liminf_{n \to \infty} f_n(x)$ 也可以看作是一系列[可测函数](@entry_id:159040)（$\inf_{k \ge n} f_k(x)$）的[上确界](@entry_id:140512)，因此它也是可测的。

这两个概念捕捉了序列长期的“最终”行为。例如，考虑在 $[0, 1]$ 上定义的[函数序列](@entry_id:145607) $f_n(x)$，当 $n$ 为奇数时 $f_n(x) = x$，当 $n$ 为偶数时 $f_n(x) = 1-x$ [@problem_id:1435671]。对于任意固定的 $x \in [0, 1]$，序列 $\{f_n(x)\}$ 的值在 $x$ 和 $1-x$ 之间来回[振荡](@entry_id:267781)。这个序列的[下极限](@entry_id:145282)是 $\liminf_{n \to \infty} f_n(x) = \min\{x, 1-x\}$，而上极限是 $\limsup_{n \to \infty} f_n(x) = \max\{x, 1-x\}$。这两个[极限函数](@entry_id:157601)都是连续的，因此是可测的。

即使序列本身在大多数点都不收敛，其[上极限](@entry_id:144243)和下[极限函数](@entry_id:157601)仍然可以是行为良好且有意义的。一个更深刻的例子是序列 $f_n(x) = 7 \cos(2^n \pi x)$，定义在 $[0, 1]$ 上 [@problem_id:1435660]。这个序列在大多数点上都表现出混沌行为，不收敛。然而，可以证明，对于几乎所有的 $x \in [0, 1]$，序列 $\{ \cos(2^n \pi x) \}$ 会无限次地任意接近 $1$ 和 $-1$。因此，我们有 $\limsup_{n \to \infty} f_n(x) = 7$ a.e. 和 $\liminf_{n \to \infty} f_n(x) = -7$ a.e.。这些极限函数（[几乎处处](@entry_id:146631)为常数）显然是可测的。

#### [逐点极限](@entry_id:193549)函数

现在我们可以回到最初的问题。一个[实数序列](@entry_id:141090) $\{a_n\}$ 收敛当且仅当其上极限和[下极限](@entry_id:145282)相等。对于一个[函数序列](@entry_id:145607) $\{f_n(x)\}$，如果它在点 $x$ 逐点收敛于 $f(x)$，那么在该点必须有：
$$ \limsup_{n \to \infty} f_n(x) = \liminf_{n \to \infty} f_n(x) = f(x) $$

我们已经证明 $\limsup f_n$ 和 $\liminf f_n$ 都是可测函数。令 $C$ 为序列 $\{f_n(x)\}$ 收敛的点的集合。那么 $C$ 可以表示为：
$$ C = \{x \in X : \limsup_{n \to \infty} f_n(x) - \liminf_{n \to \infty} f_n(x) = 0 \} $$
由于两个[可测函数](@entry_id:159040)之差仍然是[可测函数](@entry_id:159040)，所以 $C$ 是一个[可测函数](@entry_id:159040)（$\limsup f_n - \liminf f_n$）取值为 $0$ 的[原像](@entry_id:150899)，因此 $C$ 本身是一个可测集。在集合 $C$ 上，极限函数 $f(x)$ 等于[可测函数](@entry_id:159040) $\limsup f_n(x)$（或 $\liminf f_n(x)$），因此 $f(x)$ 在 $C$ 上是可测的。通常，我们可以将 $f$ 在 $X \setminus C$ 上定义为 $0$ 或其他常数，从而得到一个在整个空间 $X$ 上都可测的函数。

证明收敛点集 $C$ [可测性](@entry_id:199191)的另一种构造性方法是使用序列收敛的[柯西判别法](@entry_id:139038) [@problem_id:1435661] [@problem_id:1435662]。一个序列 $\{f_n(x)\}$ 收敛当且仅当它是一个柯西序列，即对于任意有理数 $\epsilon > 0$（等价于对所有正整数 $k$，取 $\epsilon = 1/k$），存在一个自然数 $N$，使得对于所有 $n, m > N$，都有 $|f_n(x) - f_m(x)|  1/k$。我们可以将这个逻辑叙述翻译成[集合运算](@entry_id:143311)。令 $A_{n,m,k} = \{x \in X : |f_n(x) - f_m(x)|  1/k\}$。由于 $f_n - f_m$ 是可测函数，所以 $A_{n,m,k}$ 是[可测集](@entry_id:159173)。收敛点集 $C$ 可以表示为：
$$ C = \bigcap_{k=1}^{\infty} \bigcup_{N=1}^{\infty} \bigcap_{n,m > N} A_{n,m,k} $$
这个表达式只涉及[可测集](@entry_id:159173)的可数交集和可数并集，因此根据 $\sigma$-代数的性质，集合 $C$ 是可测的。这个构造清晰地展示了收敛集是如何从基本的开集原像通过可数次[集合运算](@entry_id:143311)构建出来的。

综上所述，我们得到了测度论中的一个基本定理：
**定理：** 设 $\{f_n\}$ 是在[可测空间](@entry_id:189701) $(X, \mathcal{M})$ 上的一列可测函数。则函数 $\sup f_n$, $\inf f_n$, $\limsup f_n$, $\liminf f_n$ 都是可测的。使得 $\{f_n(x)\}$ 收敛的点集 $C$ 是可测的。若 $f(x) = \lim_{n \to \infty} f_n(x)$ 在 $C$ 上，则 $f$ 在 $C$ 上是可测的。

### [逐点极限](@entry_id:193549)的应用与性质

可测性在极限下的保持是构建更复杂函数和建立积分理论的基石。下面我们探讨这一性质的几个重要应用。

#### [可测函数](@entry_id:159040)的构造

这一原理最重要的应用之一是它表明任何[可测函数](@entry_id:159040)都可以被看作是更[简单函数](@entry_id:137521)（即简单函数）的极限。这为我们处理一般[可测函数](@entry_id:159040)提供了一个强大的“逼近”工具。

一个函数被称为**简单函数**，如果它的值域是一个[有限集](@entry_id:145527)。任何简单函数都可以写成 $\phi(x) = \sum_{i=1}^m c_i \mathbf{1}_{A_i}(x)$ 的形式，其中 $c_i$ 是常数，$A_i$ 是互不相交的可测集。

**定理（[简单函数逼近](@entry_id:142376)）：** 令 $f: X \to [0, \infty]$ 是一个[非负可测函数](@entry_id:192146)。则存在一个单调递增的非负可测简单函数序列 $\{\phi_n\}_{n=1}^\infty$，使得对于所有的 $x \in X$，都有 $\lim_{n \to \infty} \phi_n(x) = f(x)$。

这个定理的证明是构造性的，其思想在许多应用中都很有用，例如在[数字信号处理](@entry_id:263660)的量化过程中 [@problem_id:1435651]。对于每个正整数 $n$，我们将函数 $f$ 的值域 $[0, \infty)$ 进行划分。我们将区间 $[0, n)$ 细分为 $n \cdot 2^n$ 个长度为 $1/2^n$ 的小区间，即 $[\frac{k}{2^n}, \frac{k+1}{2^n})$。然后定义简单函数 $\phi_n(x)$ 如下：
$$
\phi_n(x) =
\begin{cases}
\frac{k}{2^n},  \text{若 } \frac{k}{2^n} \le f(x)  \frac{k+1}{2^n} \text{，对于 } k = 0, 1, \dots, n2^n-1 \\
n,  \text{若 } f(x) \ge n
\end{cases}
$$
这个定义本质上是对函数 $f$ 的值进行“向下取整”到一个离散的格子上，同时对较大的值进行“截断”以保证 $\phi_n$ 的值域是有限的。不难验证，每个 $\phi_n$ 都是一个可测[简单函数](@entry_id:137521)，序列 $\{\phi_n\}$ 是单调递增的（即对任意 $x$, $\phi_n(x) \le \phi_{n+1}(x)$），并且对于每个 $x \in X$，$\phi_n(x) \to f(x)$。

一个具体的例子可以加深理解。考虑在 $[0,1]$ 上的函数 $f(x)=x^3$ [@problem_id:1435619]。我们可以构造一系列简单函数 $f_n(x)$，通过将区间 $[0,1]$ 分成 $2^n$ 个小段 $[\frac{k-1}{2^n}, \frac{k}{2^n})$，并在每个小段上取值为左端点的函数值，即 $(\frac{k-1}{2^n})^3$。当 $n \to \infty$ 时，这个分划越来越精细，这些简单函数序列就会逐点收敛到 $f(x)=x^3$。极限函数 $f(x)=x^3$ 是连续的，因此是可测的，但它不是一个简单函数，因为它的值域是[不可数集](@entry_id:140510) $[0,1]$。

这个逼近思想非常强大，甚至可以用来构造一些性质奇特的函数。例如，可以构造一个[连续函数](@entry_id:137361)序列 $\{f_n\}$，其[逐点极限](@entry_id:193549)是著名的Thomae函数，该函数在所有无理点上连续，但在所有[有理点](@entry_id:195164)上都不连续 [@problem_id:1435670]。这表明即使从行为良好的[连续函数](@entry_id:137361)出发，通过[逐点极限](@entry_id:193549)运算，我们也可以得到结构复杂但仍然可测的函数。

#### 代数运算与复合运算的保持

[逐点极限](@entry_id:193549)与函数的基本运算有良好的相容性。

**代数运算**：若[可测函数序列](@entry_id:194460) $\{f_n\}$ 和 $\{g_n\}$ 分别逐点收敛于 $f$ 和 $g$，则它们的和序列 $\{f_n + g_n\}$ [逐点收敛](@entry_id:145914)于 $f+g$，积序列 $\{f_n g_n\}$ [逐点收敛](@entry_id:145914)于 $fg$。由于 $f$ 和 $g$ 都是可测的，且[可测函数](@entry_id:159040)的和与积仍然是可测的，所以极限函数 $f+g$ 和 $fg$ 也都是可测的。

例如，考虑定义在 $[0, 2]$ 上的两个函数序列 $f_n(x) = (1 + x/n)^n$ 和 $g_n(x) = 1/(1 + x^n)$ [@problem_id:1435614]。我们知道 $\lim_{n \to \infty} f_n(x) = \exp(x)$。对于 $g_n(x)$，其极限行为依赖于 $x$ 的值：当 $x \in [0,1)$ 时极限为 $1$，当 $x=1$ 时极限为 $1/2$，当 $x \in (1,2]$ 时极限为 $0$。因此，积序列的极限函数 $h(x) = \lim_{n \to \infty} f_n(x) g_n(x)$ 是一个[分段函数](@entry_id:160275)，由 $\exp(x)$ 和 $0$ 等在不同区间拼接而成。这个[极限函数](@entry_id:157601) $h(x)$ 是可测的，其性质直接由两个分量的[极限函数](@entry_id:157601)的性质决定。

**复合运算**：[逐点极限](@entry_id:193549)与[连续函数的复合](@entry_id:139194)也具有良好的性质。如果[可测函数序列](@entry_id:194460) $\{f_n\}$ 逐点收敛于 $f$，而 $g: \mathbb{R} \to \mathbb{R}$ 是一个[连续函数](@entry_id:137361)，那么[复合函数](@entry_id:147347)序列 $\{g \circ f_n\}$ 将[逐点收敛](@entry_id:145914)于 $g \circ f$。这是因为：
$$ \lim_{n \to \infty} h_n(x) = \lim_{n \to \infty} g(f_n(x)) = g(\lim_{n \to \infty} f_n(x)) = g(f(x)) $$
上述等式能够成立，正是利用了函数 $g$ 的连续性。[极限函数](@entry_id:157601) $g \circ f$ 的可测性则源于 $f$ 的可测性和 $g$ 的连续性（任何[连续函数](@entry_id:137361)都是[Borel可测](@entry_id:140719)的）。

一个清晰的例子是函数序列 $f_n(x) = x^n$ on $[0, 1]$ 与[连续函数](@entry_id:137361) $g(y) = (4y+1)/(y+3)$ 的复合 [@problem_id:1435629]。我们知道 $f_n(x)$ [逐点收敛](@entry_id:145914)于一个阶梯函数 $f(x)$，它在 $[0,1)$ 上为 $0$，在 $x=1$ 处为 $1$。由于 $g$ 的连续性，复合序列 $h_n(x) = g(f_n(x))$ 的极限就是 $h(x) = g(f(x))$。这个极限函数 $h(x)$ 在 $[0,1)$ 上为 $g(0) = 1/3$，在 $x=1$ 处为 $g(1) = 5/4$。这是一个简单的[可测函数](@entry_id:159040)。

总之，[可测性](@entry_id:199191)在[逐点极限](@entry_id:193549)下的封闭性是[测度论](@entry_id:139744)的核心支柱之一。它不仅为我们提供了一个从简单函数构建复杂[可测函数](@entry_id:159040)的通用框架，而且确保了分析学中的基本运算在[可测函数](@entry_id:159040)空间中是封闭的。这一性质是后续学习[勒贝格积分](@entry_id:140189)理论，特别是三大收敛定理（[单调收敛定理](@entry_id:147772)、[Fatou引理](@entry_id:147006)和[控制收敛定理](@entry_id:137784)）的理论基础。