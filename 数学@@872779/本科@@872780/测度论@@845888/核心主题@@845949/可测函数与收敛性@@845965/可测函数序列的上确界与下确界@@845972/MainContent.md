## 引言
在[数学分析](@entry_id:139664)中，我们经常通过对已知函数进行极限运算来构造新的、更复杂的函数。然而，一个基本问题随之而来：通过这些运算得到的新函数是否继承了原有函数的良好性质，例如可测性？可测性是现代分析，特别是勒贝格积分理论的基石，它界定了我们可以进行积分等操作的函数范畴。若[可测函数](@entry_id:159040)空间在极限运算下不封闭，那么整个理论大厦将摇摇欲坠。本文旨在系统性地解决这一核心问题，即研究[可测函数序列](@entry_id:194460)的[上确界](@entry_id:140512)、下确界及相关极限运算的性质。

在接下来的内容中，读者将深入探索这一主题的三个层面。第一章“原理与机制”将奠定理论基础，严格证明[可测函数序列](@entry_id:194460)的[上确界](@entry_id:140512)、下确界、[上极限](@entry_id:144243)和[下极限](@entry_id:145282)为何仍然是可测的。第二章“应用与交叉学科联系”将视野拓宽至测度论之外，展示这些抽象概念如何在概率论、[泛函分析](@entry_id:146220)、动力系统等多个数学分支中成为定义和分析关键对象的有力工具。最后，在“动手实践”部分，我们将通过一系列精心设计的练习，将理论付诸实践，帮助读者将抽象概念转化为具体的计算和分析能力。现在，让我们从第一章开始，深入了解这些运算的基本原理与机制。

## 原理与机制

在测度论的框架下，我们经常需要处理由已有函数构造新函数的情形。一个至关重要的问题是：由[可测函数](@entry_id:159040)通过各种运算（如代数运算、取极限）得到的新函数是否仍然是可测的？本章将系统探讨[函数序列](@entry_id:145607)的**上确界 (supremum)**、**下确界 (infimum)**、**上极限 (limit superior)** 和 **[下极限](@entry_id:145282) (limit inferior)** 的[可测性](@entry_id:199191)。这些性质是[测度论](@entry_id:139744)的基石，它们确保了我们能够操作和分析的对象集合（即可测函数空间）在这些重要操作下是封闭的，这对于勒贝格积分理论及[现代分析学](@entry_id:146248)的诸多分支都至关重要。

### 可数运算下的可测性保持

我们首先从最基本的情形出发，考察有限个可测函数的组合。若 $f$ 和 $g$ 是两个定义在[可测空间](@entry_id:189701) $(X, \mathcal{M})$ 上的可测函数，则它们的和 $f+g$、差 $f-g$、积 $fg$ 都是可测的（在运算有意义的前提下）。同样，它们的逐点最大值和最小值函数，$\max(f, g)$ 和 $\min(f, g)$，也是可测的。

证明这一点的一种直接方式是利用[可测函数](@entry_id:159040)的定义。一个（扩展）实值函数 $h: X \to [-\infty, \infty]$ 是**可测的**，如果对于任意实数 $a \in \mathbb{R}$，[原像](@entry_id:150899)集 $\{x \in X : h(x) > a\}$ 属于 $\sigma$-代数 $\mathcal{M}$。对于最大值函数，我们有以下关键的集合等式：
$$
\{x \in X : \max(f(x), g(x)) > a\} = \{x \in X : f(x) > a\} \cup \{x \in X : g(x) > a\}
$$
因为 $f$ 和 $g$ 都是可测的，所以等式右边的两个集合都属于 $\mathcal{M}$。由于 $\sigma$-代数对并集运算是封闭的，它们的并集也属于 $\mathcal{M}$。因此，$\max(f, g)$ 是一个[可测函数](@entry_id:159040)。类似地，通过等式
$$
\{x \in X : \min(f(x), g(x)) > a\} = \{x \in X : f(x) > a\} \cap \{x \in X : g(x) > a\}
$$
可以证明 $\min(f, g)$ 也是可测的，因为 $\sigma$-代数对交集运算也是封闭的。

这一思想可以自然地推广到可数个函数的情形，这构成了本章的核心定理。

**定理：可测函数的逐点[上确界与下确界](@entry_id:146074)**

若 $\{f_n\}_{n=1}^{\infty}$ 是定义在[可测空间](@entry_id:189701) $(X, \mathcal{M})$ 上的一个[可测函数序列](@entry_id:194460)，则由它们的逐点[上确界与[下确](@entry_id:146074)界](@entry_id:140118)定义的函数
$$
g(x) = \sup_{n \ge 1} f_n(x)
$$
和
$$
h(x) = \inf_{n \ge 1} f_n(x)
$$
也都是可测的。

**证明**:
证明的思路与两个函数的情形完全相同，只是将有限并集或交集替换为可数并集或交集。

对于上确界函数 $g(x)$，一个点 $x$ 处的值 $g(x)$ 大于 $a$，当且仅当至少存在一个 $n$ 使得 $f_n(x) > a$。这导出了如下[集合恒等式](@entry_id:262971)：
$$
\{x \in X : g(x) > a\} = \bigcup_{n=1}^{\infty} \{x \in X : f_n(x) > a\}
$$
由于每个 $f_n$ 都是可测函数，所以每一个集合 $\{x \in X : f_n(x) > a\}$ 都是 $\mathcal{M}$ 中的元素。根据 $\sigma$-代数的定义，可数个 $\mathcal{M}$ 中元素的并集仍然在 $\mathcal{M}$ 中。因此，集合 $\{x \in X : g(x) > a\}$ 是可测的，这证明了 $g(x) = \sup_{n \ge 1} f_n(x)$ 是一个[可测函数](@entry_id:159040) [@problem_id:1445261]。

对于[下确界](@entry_id:140118)函数 $h(x)$，我们可以使用类似的论证。一个点 $x$ 处的值 $h(x)$ 大于 $a$，当且仅当对所有的 $n$都有 $f_n(x) > a$。于是：
$$
\{x \in X : h(x) > a\} = \bigcap_{n=1}^{\infty} \{x \in X : f_n(x) > a\}
$$
同样，由于 $\sigma$-代数对可数交集封闭，集合 $\{x \in X : h(x) > a\}$ 是可测的，这意味着 $h(x) = \inf_{n \ge 1} f_n(x)$ 是可测函数 [@problem_id:1445261]。另一种证明 $h(x)$ 可测性的方法是利用关系式 $h(x) = -\sup_{n \ge 1}(-f_n(x))$。因为每个 $f_n$ 可测，所以 $-f_n$ 也可测。根据我们对[上确界](@entry_id:140512)的证明，$\sup(-f_n)$ 是可测的，那么它的相反数自然也是可测的。

### 从[集合运算](@entry_id:143311)到函数运算：[示性函数](@entry_id:261577)的视角

[示性函数](@entry_id:261577)为理解[上确界](@entry_id:140512)、下确界与[集合运算](@entry_id:143311)之间的深刻联系提供了一个绝佳的视角。给定[可测空间](@entry_id:189701) $(X, \mathcal{M})$ 中的一个[可测集](@entry_id:159173) $A \in \mathcal{M}$，其**[示性函数](@entry_id:261577)** $\chi_A$ 定义为：
$$
\chi_A(x) = \begin{cases} 1  \text{if } x \in A \\ 0  \text{if } x \notin A \end{cases}
$$
一个集合 $A$ 是可测的，当且仅当其[示性函数](@entry_id:261577) $\chi_A$ 是一个[可测函数](@entry_id:159040)。

现在，考虑一个[可测集](@entry_id:159173)序列 $\{A_n\}_{n=1}^{\infty}$，并令 $f_n = \chi_{A_n}$。我们来分析这个[函数序列](@entry_id:145607)的[逐点上确界](@entry_id:635105) $g(x) = \sup_n f_n(x)$ 和下确界 $h(x) = \inf_n f_n(x)$。

对于任意点 $x \in X$，函数值 $f_n(x)$ 只可能为 $0$ 或 $1$。
- $g(x) = \sup_n f_n(x) = 1$ 当且仅当存在至少一个 $n$ 使得 $f_n(x) = 1$，这等价于 $x \in A_n$。如果对于所有的 $n$ 都有 $f_n(x)=0$，则 $g(x)=0$。这精确地描述了集合并集的[示性函数](@entry_id:261577)。因此，我们有：
  $$
  \sup_{n \ge 1} \chi_{A_n} = \chi_{\bigcup_{n=1}^{\infty} A_n}
  $$
- $h(x) = \inf_n f_n(x) = 1$ 当且仅当对于所有的 $n$ 都有 $f_n(x) = 1$，这等价于 $x$ 属于每一个 $A_n$。这正是集合交集的[示性函数](@entry_id:261577)。因此：
  $$
  \inf_{n \ge 1} \chi_{A_n} = \chi_{\bigcap_{n=1}^{\infty} A_n}
  $$

这些关系清晰地表明，对[示性函数](@entry_id:261577)序列取上确界和下确界的操作，分别对应于对相应[集合序列](@entry_id:184571)取并集和交集的操作 [@problem_id:1445304]。由于 $\sigma$-代数对可数并和可数交封闭，$\bigcup A_n$ 和 $\bigcap A_n$ 都是[可测集](@entry_id:159173)，从而它们的[示性函数](@entry_id:261577)也是[可测函数](@entry_id:159040)，这为前一节的定理提供了一个具体而直观的例证。

### 核心推论：极限函数的可测性

[上确界与下确界](@entry_id:146074)的[可测性](@entry_id:199191)是一个非常强大的工具，它直接导出了关于函数序列极限可测性的一系列重要结论。

#### [上极限与下极限](@entry_id:161134)

对于一个[函数序列](@entry_id:145607) $\{f_n\}$，其**[上极限](@entry_id:144243) (limit superior)** 和**[下极限](@entry_id:145282) (limit inferior)** 定义为：
$$
\limsup_{n \to \infty} f_n(x) = \inf_{k \ge 1} \left( \sup_{n \ge k} f_n(x) \right)
$$
$$
\liminf_{n \to \infty} f_n(x) = \sup_{k \ge 1} \left( \inf_{n \ge k} f_n(x) \right)
$$

现在我们可以分步应用核心定理。对于任意固定的 $k$，函数 $g_k(x) = \sup_{n \ge k} f_n(x)$ 是一个[可测函数序列](@entry_id:194460)（尾序列）的上确界，因此 $g_k$ 是可测的。接着，$\limsup f_n$ 是[可测函数序列](@entry_id:194460) $\{g_k\}_{k=1}^{\infty}$ 的[下确界](@entry_id:140118)，因此它也是可测的。

同理，对于任意固定的 $k$，函数 $h_k(x) = \inf_{n \ge k} f_n(x)$ 是可测的。而 $\liminf f_n$ 是[可测函数序列](@entry_id:194460) $\{h_k\}_{k=1}^{\infty}$ 的[上确界](@entry_id:140512)，因此它也是可测的。

**推论**: 若 $\{f_n\}$ 是一个[可测函数序列](@entry_id:194460)，则 $\limsup_{n \to \infty} f_n$ 和 $\liminf_{n \to \infty} f_n$ 都是[可测函数](@entry_id:159040) [@problem_id:1445261]。

#### [逐点极限](@entry_id:193549)

当函数序列 $\{f_n(x)\}$ 在某点 $x$ 的[逐点极限](@entry_id:193549)存在时，该极限值等于其上极限和[下极限](@entry_id:145282)。即，若 $f(x) = \lim_{n \to \infty} f_n(x)$ 存在，则
$$
f(x) = \limsup_{n \to \infty} f_n(x) = \liminf_{n \to \infty} f_n(x)
$$
既然上极限和[下极限](@entry_id:145282)都是可测的，并且在这种情况下它们相等，那么[极限函数](@entry_id:157601) $f(x)$ 必然是可测的。

**推论**: 若[可测函数序列](@entry_id:194460) $\{f_n\}$ [逐点收敛](@entry_id:145914)于函数 $f$，则[极限函数](@entry_id:157601) $f$ 也是可测的 [@problem_id:1445261] [@problem_id:1445298]。

这个结论在分析学中极为重要。它保证了我们可以对一个收敛的可测[函数序列的极限](@entry_id:142182)函数进行积分等操作，而不必担心其可测性。例如，在问题 [@problem_id:1445303] 中，函数序列 $f_n(x) = \min(n^2, x^{-1/4})$ 的逐点[下极限](@entry_id:145282)（也是其极限）为 $g(x) = x^{-1/4}$。因为每个 $f_n$ 都是可测的，理论保证了 $g(x)$ 也是可测的，从而其[勒贝格积分](@entry_id:140189) $\int_{(0,1]} g(x) d\lambda$ 是有意义的。

### 应用与计算实例

理论的威力体现在其应用中。以下实例展示了如何利用这些原理来刻画集合、计算测度与积分。

#### 刻画与度量由序列性质定义的集合

我们可以利用[函数序列的极限](@entry_id:142182)行为来定义一些复杂的集合，并借助可测性理论来保证这些集合是可测的。

- **收敛点集**: 一个函数序列 $\{f_n\}$ 的收敛点集 $C$ 定义为 $\{x \in X : \lim_{n \to \infty} f_n(x) \text{ exists}\}$。这个集合等价于 $\{x \in X : \limsup_{n \to \infty} f_n(x) = \liminf_{n \to \infty} f_n(x)\}$。令 $g(x) = \limsup f_n(x) - \liminf f_n(x)$，则 $g$ 是一个[可测函数](@entry_id:159040)（在差有意义的情况下）。收敛点集 $C$ 就是 $g^{-1}(\{0\})$，即[可测函数](@entry_id:159040) $g$ 对单点集 $\{0\}$（一个波莱尔集）的原像，因此 $C$ 是一个可测集 [@problem_id:1445285]。

- **有界点集**: 考虑序列 $\{f_n(x)\}$ 保持有界的点的集合 $S = \{x \in X : \sup_{n \ge 1} |f_n(x)|  \infty\}$。这个集合可以表示为可数并集：
  $$
  S = \bigcup_{M=1}^{\infty} \{x \in X : \sup_{n \ge 1} |f_n(x)| \le M\}
  $$
  由于 $|f_n|$ 是[可测函数序列](@entry_id:194460)，它们的上确界 $h(x) = \sup_{n \ge 1} |f_n(x)|$ 是一个可测函数。因此，对于每个整数 $M$，集合 $\{x : h(x) \le M\}$ 都是可测的。$S$ 作为这些可测集的可数并集，其本身也是可测的。问题 [@problem_id:1445279] 提供了一个具体的计算例子，其中通过分析几何序列的有界性条件 $|r(x)| \le 1$ 来确定这个可测集 $S$ 的具体形态并计算其[勒贝格测度](@entry_id:139781)。

#### 计算上确界与上极限的积分

在许多应用中，我们不仅关心函数的可测性，更关心它们的积分值。

- **计算上确界的测度**: 在问题 [@problem_id:1445278] 中，函数序列为 $f_n(x) = \chi_{[n, n+1/n^2]}(x)$。其[上确界](@entry_id:140512)函数 $g(x) = \sup_n f_n(x)$ 在 $\bigcup_{n=1}^\infty [n, n+1/n^2]$ 上取值为1，在其他地方为0。我们感兴趣的集合 $\{x \in \mathbb{R} : g(x)  1/2\}$ 就是这个并集。由于这些区间互不相交，测度的[可数可加性](@entry_id:186580)使得该集合的[勒贝格测度](@entry_id:139781)为 $\sum_{n=1}^{\infty} \lambda([n, n+1/n^2]) = \sum_{n=1}^{\infty} 1/n^2 = \pi^2/6$。

- **计算上确界的积分**: 问题 [@problem_id:1445324] 定义了 $f_n(x) = n \cdot \chi_{(0, 1/n^3]}(x)$。要计算其[上确界](@entry_id:140512)函数 $g(x) = \sup_n f_n(x)$ 的积分，首先需要确定 $g(x)$ 的表达式。对于给定的 $x \in (0, 1]$， $f_n(x) = n$ 当且仅当 $x \le 1/n^3$，即 $n \le x^{-1/3}$。因此，$g(x)$ 是所有满足此条件的正整数 $n$ 中的最大值，即 $g(x) = \lfloor x^{-1/3} \rfloor$。这个函数的可测性由我们的理论保证，其积分可以通过将其分解为[阶梯函数](@entry_id:159192)之和来计算，最终得到 $\zeta(3)$。

- **计算上极限的积分**: 问题 [@problem_id:1445285] 考察了 $f_n(x) = \sin^2(n \pi x)$ 的[上极限](@entry_id:144243) $g(x) = \limsup_n f_n(x)$。通过分析[有理数和无理数](@entry_id:173349)点处的行为，可以发现 $g(x)=1$ 对于几乎所有 $x \in [0, 2]$ 成立（仅在一组[测度为零](@entry_id:137864)的有理数点上取值小于1）。由于勒贝格积分忽略[零测集](@entry_id:157694)上的函数值变化，其积分就是 $\int_0^2 1 \, dx = 2$。这个例子突显了“[几乎处处](@entry_id:146631)”概念在[勒贝格积分](@entry_id:140189)中的重要性。

### 推广与限制

#### 无可数[上确界](@entry_id:140512)与组合

我们建立的理论严重依赖于索引集的[可数性](@entry_id:148500)，因为 $\sigma$-代数只保证对可数次运算封闭。如果索引集是不可数的，例如 $g(x) = \sup_{y \in I} F(x, y)$ 其中 $I$ 是一个[不可数集](@entry_id:140510)（如 $[0, 1]$），那么即使对每个固定的 $y$，$x \mapsto F(x,y)$ 都是可测的，$g(x)$ 也不一定是可测的。

然而，一个重要的特例是，如果索引集 $I$ 中存在一个可数的[稠密子集](@entry_id:264458) $Q$，并且函数在索引变量上具有某种连续性，我们或许仍能处理这种情况。问题 [@problem_id:1445269] 巧妙地利用了这一点。它要求计算 $V(x) = \sup_{y \in [0,1] \cap \mathbb{Q}} U(x,y)$ 的积分。因为索引集 $[0,1] \cap \mathbb{Q}$ 是可数的，所以理论保证了 $V(x)$ 是一个[可测函数](@entry_id:159040)。此外，由于函数 $y \mapsto U(x,y)$ 是连续的，在[稠密子集](@entry_id:264458)上取上确界与在整个区间上取上确界的结果相同。这使得我们可以利用微积分的技巧找到 $\max_{y \in [0,1]} U(x,y)$，从而得到 $V(x)$ 的解析表达式并完成积分。

#### 与[函数复合](@entry_id:144881)的相互作用

最后，我们探讨[上确界](@entry_id:140512)/下确界操作与[函数复合](@entry_id:144881)的结合。
假设 $\{g_n\}$ 是一列可测函数，而 $f$ 是一个**连续**函数。

1.  令 $u(x) = \sup_n g_n(x)$。我们知道 $u$ 是可测的。由于 $f$ 连续，可测函数与[连续函数的复合](@entry_id:139194)是可测的，因此 $h(x) = f(u(x)) = f(\sup_n g_n(x))$ 是可测的。类似地，$f(\inf_n g_n(x))$ 也是可测的 [@problem_id:1445262]。

2.  对于每个 $n$，函数 $v_n(x) = f(g_n(x))$ 是可测的（同样因为是可测函数与[连续函数的复合](@entry_id:139194)）。因此，这个新[函数序列](@entry_id:145607)的[上确界](@entry_id:140512) $\sup_n v_n(x) = \sup_n f(g_n(x))$ 也是可测的 [@problem_id:1445262]。

然而，如果外层函数不是连续的，甚至不是可测的，那么结论就不成立了。例如，如果 $S$ 是一个非波莱尔可测的函数，那么即使 $u(x)$ 是一个非常好的[可测函数](@entry_id:159040)（比如 $u(x)=x$），复合函数 $S(u(x))$ 也未必是可测的 [@problem_id:1445262]。这为我们的理论划定了清晰的边界：保持可测性的操作通常要求参与运算的函数本身也具有良好的结构（如可测性或连续性）。

总之，[可测函数序列](@entry_id:194460)的上确界、下确界及极限的[可测性](@entry_id:199191)是[测度论](@entry_id:139744)中一组功能强大的工具。它们不仅为理论的进一步发展（如积分理论）奠定了基础，也为解决涉及[函数序列](@entry_id:145607)和[参数化](@entry_id:272587)函数的具体问题提供了严谨的数学框架。