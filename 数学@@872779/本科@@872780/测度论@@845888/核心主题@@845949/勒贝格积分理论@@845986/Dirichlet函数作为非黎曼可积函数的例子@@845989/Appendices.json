{"hands_on_practices": [{"introduction": "第一个练习将狄利克雷函数推广到一个更广泛的函数族。通过分析参数 $\\alpha$ 如何影响函数 $f(x) = \\alpha D(x) + (1-\\alpha)(1-D(x))$ 的可积性 [@problem_id:1450292]，你将直接接触到不可积性的基本机制。这个练习将巩固你对达布上和与下和的理解，并加深对黎曼可积性核心条件的认识，即上积分与下积分必须相等。", "problem": "考虑函数 $D(x)$，即狄利克雷函数（Dirichlet function），它对所有实数 $x$ 定义如下：\n$$\nD(x) = \\begin{cases} 1  \\text{若 } x \\text{ 是有理数} \\\\ 0  \\text{若 } x \\text{ 是无理数} \\end{cases}\n$$\n一个新的函数 $f(x)$ 在区间 $[0, 1]$ 上由狄利克雷函数和一个实数参数 $\\alpha$ 构造而成：\n$$\nf(x) = \\alpha D(x) + (1-\\alpha)(1-D(x))\n$$\n求使函数 $f(x)$ 在区间 $[0, 1]$ 上**不**是黎曼可积（Riemann integrable）的所有实数 $\\alpha$ 的集合。\n\nA. $\\alpha = \\frac{1}{2}$\n\nB. $\\alpha \\in \\{0, 1\\}$\n\nC. $\\alpha \\in \\mathbb{R} \\setminus \\{\\frac{1}{2}\\}$\n\nD. 所有 $\\alpha \\in \\mathbb{R}$\n\nE. 没有 $\\alpha \\in \\mathbb{R}$", "solution": "我们首先根据 $D(x)$ 的定义计算 $f(x)$ 在有理数和无理数上的值：\n- 如果 $x$ 是有理数，则 $D(x)=1$，所以 $f(x)=\\alpha\\cdot 1+(1-\\alpha)(1-1)=\\alpha$。\n- 如果 $x$ 是无理数，则 $D(x)=0$，所以 $f(x)=\\alpha\\cdot 0+(1-\\alpha)(1-0)=1-\\alpha$。\n\n因此，$f$ 恰好取两个常数值：在有理数上为 $\\alpha$，在无理数上为 $1-\\alpha$。因为有理数和无理数都在 $[0,1]$ 中是稠密的，所以 $[0,1]$ 的每个子区间都包含使 $f$ 等于 $\\alpha$ 的点和使 $f$ 等于 $1-\\alpha$ 的点。\n\n对于任何子区间 $I\\subset[0,1]$，$f$ 在 $I$ 上的上确界（supremum）和下确界（infimum）是\n$$\nM_{I}=\\max\\{\\alpha,1-\\alpha\\},\\qquad m_{I}=\\min\\{\\alpha,1-\\alpha\\}.\n$$\n对于 $[0,1]$ 的任意一个分割 $P=\\{x_{0},x_{1},\\dots,x_{n}\\}$，其上达布和（upper Darboux sum）与下达布和（lower Darboux sum）分别为\n$$\nU(f,P)=\\sum_{k=1}^{n}M_{[x_{k-1},x_{k}]}(x_{k}-x_{k-1})=\\max\\{\\alpha,1-\\alpha\\}\\sum_{k=1}^{n}(x_{k}-x_{k-1})=\\max\\{\\alpha,1-\\alpha\\},\n$$\n$$\nL(f,P)=\\sum_{k=1}^{n}m_{[x_{k-1},x_{k}]}(x_{k}-x_{k-1})=\\min\\{\\alpha,1-\\alpha\\}\\sum_{k=1}^{n}(x_{k}-x_{k-1})=\\min\\{\\alpha,1-\\alpha\\}.\n$$\n这些和与分割无关。因此，上黎曼积分等于 $\\max\\{\\alpha,1-\\alpha\\}$，下黎曼积分等于 $\\min\\{\\alpha,1-\\alpha\\}$。函数 $f$ 是黎曼可积的当且仅当这两个积分相等，这发生当且仅当\n$$\n\\max\\{\\alpha,1-\\alpha\\}=\\min\\{\\alpha,1-\\alpha\\}\\quad\\Longleftrightarrow\\quad \\alpha=1-\\alpha\\quad\\Longleftrightarrow\\quad \\alpha=\\frac{1}{2}.\n$$\n当 $\\alpha=\\frac{1}{2}$ 时，对所有 $x$ 都有 $f(x)=\\frac{1}{2}$，所以 $f$ 是连续的，因此是黎曼可积的。对于所有其他的 $\\alpha\\in\\mathbb{R}$，对于任意分割都有 $U(f,P)L(f,P)$，所以 $f$ 在 $[0,1]$ 上不是黎曼可积的。\n\n因此，使 $f(x)$ 不是黎曼可积的所有实数 $\\alpha$ 的集合是 $\\mathbb{R}\\setminus\\{\\frac{1}{2}\\}$，这对应于选项 C。", "answer": "$$\\boxed{C}$$", "id": "1450292"}, {"introduction": "在上一个练习的基础上，我们现在将函数在有理数和无理数点上的取值从常数推广到由函数定义。这个练习 [@problem_id:1450295] 挑战你将上积分和下积分的原理应用于一个更复杂的场景，其中函数的“上界”和“下界”本身是连续函数。通过计算该函数的上积分和下积分之差，你将更深刻地理解达布和是如何捕捉这种在定义域的稠密子集上表现迥异的函数的振荡行为的。", "problem": "在积分理论的研究中，在有理数集（$\\mathbb{Q}$）和无理数集（$\\mathbb{R} \\setminus \\mathbb{Q}$）上表现出不同行为的函数，是阐释 Riemann 积分局限性的关键例子。\n\n考虑在闭区间 $[0, 1]$ 上定义的函数 $f(x)$ 如下：\n$$ f(x) = \\begin{cases} 2x  \\text{若 } x \\in \\mathbb{Q} \\\\ \\frac{x}{2}  \\text{若 } x \\notin \\mathbb{Q} \\end{cases} $$\n一个有界函数在区间 $[a,b]$ 上是 Riemann 可积的，当且仅当它在该区间上的 Darboux 下积分和上积分相等。Darboux 上积分，记为 $\\overline{\\int_a^b} f(x)dx$，是所有 Darboux 上和的下确界；而 Darboux 下积分，记为 $\\underline{\\int_a^b} f(x)dx$，是所有 Darboux 下和的上确界。\n\n计算差值 $\\Delta = \\overline{\\int_0^1} f(x)dx - \\underline{\\int_0^1} f(x)dx$ 的值。该值量化了此函数不满足 Riemann 可积性的程度。", "solution": "为解决此问题，我们需要计算函数 $f(x)$ 在区间 $[0, 1]$ 上的 Darboux 上积分和下积分。\n\n设 $P = \\{x_0, x_1, \\dots, x_n\\}$ 是区间 $[0, 1]$ 的一个任意分割，其中 $0 = x_0  x_1  \\dots  x_n = 1$。对于每个子区间 $I_i = [x_{i-1}, x_i]$，我们必须找到上确界 $M_i = \\sup_{x \\in I_i} f(x)$ 和下确界 $m_i = \\inf_{x \\in I_i} f(x)$。\n\n首先，我们来确定 Darboux 上积分 $\\overline{\\int_0^1} f(x)dx$。它等于所有 Darboux 上和 $U(f, P) = \\sum_{i=1}^n M_i (x_i - x_{i-1})$ 的下确界。\n在任何子区间 $I_i = [x_{i-1}, x_i]$ 中，函数 $f(x)$ 的取值来自集合 $\\{2q \\mid q \\in \\mathbb{Q} \\cap I_i\\} \\cup \\{ y/2 \\mid y \\in (\\mathbb{R}\\setminus\\mathbb{Q}) \\cap I_i \\}$。\n在区间 $[0, 1]$ 上，对于任何 $x  0$，我们有 $2x  x/2$。对于 $x=0$，$2x=x/2=0$。因此，对于任何 $x \\in [0,1]$，有 $2x \\ge x/2$。\n这意味着在任何子区间 $I_i$ 上 $f(x)$ 的上确界将由其在有理数上的取值决定。\n$$ M_i = \\sup_{x \\in I_i} f(x) = \\sup_{x \\in I_i} \\left( \\{2q \\mid q \\in \\mathbb{Q} \\cap I_i\\} \\cup \\{y/2 \\mid y \\in (\\mathbb{R}\\setminus\\mathbb{Q}) \\cap I_i\\} \\right) $$\n由于函数 $g(x) = 2x$ 是连续且递增的，并且有理数在 $\\mathbb{R}$ 中是稠密的，所以 $\\{2q \\mid q \\in \\mathbb{Q} \\cap I_i\\}$ 的上确界等于 $\\{2x \\mid x \\in I_i\\}$ 的上确界。另一组值 $\\{y/2\\}$ 的上确界会更小。\n因此，$M_i = \\sup_{x \\in I_i} 2x = 2x_i$。\n对于分割 $P$，其 Darboux 上和为 $U(f, P) = \\sum_{i=1}^n (2x_i)(x_i - x_{i-1})$。\n这是函数 $g(x) = 2x$ 的一个右 Riemann 和。当分割的细度 $\\|P\\|$ 趋近于零时，Darboux 上和收敛于 $g(x)$ 的 Riemann 积分。\n$$ \\overline{\\int_0^1} f(x)dx = \\inf_P U(f,P) = \\int_0^1 2x dx = \\left[x^2\\right]_0^1 = 1^2 - 0^2 = 1 $$\n\n接下来，我们来确定 Darboux 下积分 $\\underline{\\int_0^1} f(x)dx$。它等于所有 Darboux 下和 $L(f, P) = \\sum_{i=1}^n m_i (x_i - x_{i-1})$ 的上确界。\n在子区间 $I_i$ 上 $f(x)$ 的下确界将由其在无理数上的取值决定，因为对于 $x \\in [0,1]$，有 $x/2 \\le 2x$。\n$$ m_i = \\inf_{x \\in I_i} f(x) = \\inf_{x \\in I_i} \\left( \\{2q \\mid q \\in \\mathbb{Q} \\cap I_i\\} \\cup \\{y/2 \\mid y \\in (\\mathbb{R}\\setminus\\mathbb{Q}) \\cap I_i\\} \\right) $$\n由于函数 $h(x) = x/2$ 是连续且递增的，并且无理数在 $\\mathbb{R}$ 中是稠密的，所以 $\\{y/2 \\mid y \\in (\\mathbb{R}\\setminus\\mathbb{Q}) \\cap I_i\\}$ 的下确界等于 $\\{x/2 \\mid x \\in I_i\\}$ 的下确界。另一组值 $\\{2q\\}$ 的下确界会更大。\n因此，$m_i = \\inf_{x \\in I_i} \\frac{x}{2} = \\frac{x_{i-1}}{2}$。\n对于分割 $P$，其 Darboux 下和为 $L(f, P) = \\sum_{i=1}^n \\left(\\frac{x_{i-1}}{2}\\right)(x_i - x_{i-1})$。\n这是函数 $h(x) = x/2$ 的一个左 Riemann 和。当分割的细度 $\\|P\\|$ 趋近于零时，Darboux 下和收敛于 $h(x)$ 的 Riemann 积分。\n$$ \\underline{\\int_0^1} f(x)dx = \\sup_P L(f,P) = \\int_0^1 \\frac{x}{2} dx = \\left[\\frac{x^2}{4}\\right]_0^1 = \\frac{1^2}{4} - \\frac{0^2}{4} = \\frac{1}{4} $$\n\n最后，我们计算差值 $\\Delta$：\n$$ \\Delta = \\overline{\\int_0^1} f(x)dx - \\underline{\\int_0^1} f(x)dx = 1 - \\frac{1}{4} = \\frac{3}{4} $$\n由于 Darboux 上积分和下积分不相等（$\\Delta \\neq 0$），函数 $f(x)$ 在 $[0,1]$ 上不是 Riemann 可积的。", "answer": "$$\\boxed{\\frac{3}{4}}$$", "id": "1450295"}, {"introduction": "虽然前面的例子因其无处不在的间断点而不可积，但这个练习 [@problem_id:1450278] 提出了一个违反直觉的案例。本题中的函数也高度不连续，但它却是黎曼可积的。这个练习揭示了其中的关键区别在于间断点集的“大小”（即测度）。这引出了黎曼可积性的勒贝格判据——一个连接黎曼积分与测度论的强大工具，为我们学习更高级的积分理论奠定了基础。", "problem": "标准的 Cantor 三进制集，记为 $C$，是区间 $[0, 1]$ 的一个子集，由所有三进制（以3为底）表示中只含有数字0和2的实数组成。令 $\\mathbb{Q}$ 表示有理数集。\n\n考虑一个函数 $f: [0, 1] \\to \\mathbb{R}$，定义如下：\n$$\nf(x) =\n\\begin{cases}\n1  \\text{如果 } x \\in C \\cap \\mathbb{Q} \\\\\n0  \\text{如果 } x \\in [0, 1] \\setminus (C \\cap \\mathbb{Q})\n\\end{cases}\n$$\n分析此函数的黎曼可积性。下列哪个陈述正确地描述了该函数的可积性以及其黎曼积分 $\\int_0^1 f(x) dx$ 的值（如果存在）？\n\nA. 该函数不是黎曼可积的。\n\nB. 该函数是黎曼可积的，且其积分为 0。\n\nC. 该函数是黎曼可积的，且其积分为 1。\n\nD. 该函数是黎曼可积的，且其积分为 $1/2$。\n\nE. 该函数是黎曼可积的，且其积分为 $1/3$。", "solution": "设 $E=C\\cap \\mathbb{Q}$。那么 $f=\\mathbf{1}_{E}$ 是有界的，满足 $0\\leq f\\leq 1$。对于 $[0,1]$ 上的有界函数，黎曼可积性等价于其不连续点集具有勒贝格零测度（勒贝格判据）。\n\n我们来确定 $f$ 的连续点。\n\n1) 如果 $x\\in[0,1]\\setminus C$，那么 $x$ 位于构造 $C$ 时移除的某个开区间内。因此存在一个开区间 $I$ 使得 $x\\in I\\subset [0,1]\\setminus C$。在 $I$ 上，$E=\\varnothing$，所以 $f\\equiv 0$ 在 $I$ 上，因此 $f$ 在 $x$ 处是连续的。\n\n2) 如果 $x\\in C$，那么 $x$ 的每个邻域都与 $C$ 相交于不可数个点。集合 $C\\cap \\mathbb{Q}$ 在 $C$ 中是稠密的（例如，移除区间的端点在 $C$ 中，是有理数，分母为 $3^{n}$，并且在 $C$ 中是稠密的），并且 $C\\setminus \\mathbb{Q}$ 在 $C$ 中也是稠密的（因为 $C$ 是不可数的，而 $\\mathbb{Q}$ 是可数的）。因此，对于 $x$ 的每个邻域，都存在点 $y\\in C\\cap \\mathbb{Q}$ 使得 $f(y)=1$ 和点 $z\\in C\\setminus \\mathbb{Q}$ 使得 $f(z)=0$。因此 $f$ 在 $x$ 处的振幅为 $1$，所以 $f$ 在每个 $x\\in C$ 处都是不连续的。\n\n因此，$f$ 的不连续点集恰好是 $C$。康托集 $C$ 的勒贝格测度为零。根据勒贝格判据，$f$ 是黎曼可积的。\n\n为了计算积分，固定 $\\varepsilon>0$。由于 $C$ 的测度为零，存在开区间族 $\\{I_{k}\\}$ 使得 $C\\subset \\bigcup_{k} I_{k}$ 且 $\\sum_{k} |I_{k}|  \\varepsilon$。我们可以选择一个足够精细的分割 $P$。对于 $P$ 的任何子区间 $J_i$，如果 $J_i \\cap C=\\varnothing$，我们有 $f \\equiv 0$ 在 $J_i$ 上，所以其对上和的贡献均为 $0$。与 $C$ 相交的子区间的总长度可以被控制在小于 $\\varepsilon$。因此上达布和满足 $U(f,P)  \\varepsilon$。\n\n下达布和是非负的，所以 $0\\leq \\underline{\\int_{0}^{1}} f \\leq \\overline{\\int_{0}^{1}} f \\leq \\varepsilon$。由于 $\\varepsilon>0$ 是任意的，\n$$\n\\int_{0}^{1} f(x)\\,dx=0.\n$$\n\n因此，$f$ 是黎曼可积的，且其积分为 $0$，这对应于选项B。", "answer": "$$\\boxed{B}$$", "id": "1450278"}]}