## 引言
为了克服黎曼积分在处理[不连续函数](@entry_id:143848)和极限过程中的局限性，数学家们发展了更为强大和普适的[勒贝格积分](@entry_id:140189)理论。这一宏伟理论的构建并非一蹴而就，而是始于其最基本的构件：非负简单函数。这些函数虽然结构简单，却为定义更复杂函数的积分提供了坚实的基础，并揭示了测度与积分之间深刻的内在联系。本文旨在系统性地介绍非负[简单函数](@entry_id:137521)的积分，填补从基本测度概念到完整[勒贝格积分](@entry_id:140189)理论之间的关键知识缺口。

在接下来的内容中，读者将踏上一段循序渐进的学习之旅。在“原则与机理”一章，我们将严格定义非负[简单函数](@entry_id:137521)的积分，并推导其关键的代数和序结构性质。随后，在“应用与跨学科联系”一章，我们将探索这一基本定义如何在分析学和概率论等领域中发挥核心作用，成为证明重要定理和理解[期望值](@entry_id:153208)等概念的基石。最后，“动手实践”部分将提供一系列精心设计的问题，帮助读者将理论知识转化为解决实际问题的能力。

## 原则与机理

在引言中，我们了解了建立一个比[黎曼积分](@entry_id:142508)更普适的积分理论的动机。[勒贝格积分](@entry_id:140189)的构建过程是循序渐进的，它始于最简单的一[类函数](@entry_id:146970)，并逐步扩展到更广泛的函数类别。本章的核心任务是为**非负简单函数 (non-negative simple functions)** 建立积分理论。这些函数构成了整个[勒贝格积分](@entry_id:140189)大厦的基石。我们将从其定义出发，探讨其积分的计算方法，并推导出一系列至关重要的基本性质。

### 非负简单函数的积分定义

我们从最基本的构造单元开始。在一个[测度空间](@entry_id:191702) $(X, \mathcal{M}, \mu)$ 中，一个函数被称为**简单函数**，如果它是可测的，并且其值域是一个有限集。一个**非负[简单函数](@entry_id:137521)** $\phi$ 是一个值域仅包含有限个非负实数的[简单函数](@entry_id:137521)。

任何一个非负简单函数 $\phi$ 都可以用其**标准表示 (canonical representation)** 写出：
$$
\phi = \sum_{i=1}^{n} a_i \chi_{A_i}
$$
这里，$a_1, a_2, \dots, a_n$ 是 $\phi$ 所取到的所有不同的非零值。集合 $A_i = \{x \in X \mid \phi(x) = a_i\}$ 是函数取值为 $a_i$ 的[水平集](@entry_id:751248)。由于 $a_i$ 各不相同，这些集合 $A_i$ 必然是互不相交的，即当 $i \neq j$ 时，$A_i \cap A_j = \emptyset$。此外，由于 $\phi$ 是[可测函数](@entry_id:159040)，每一个[水平集](@entry_id:751248) $A_i$ 也都是 $\mathcal{M}$ 中的可测集。函数 $\chi_{A_i}$ 是集合 $A_i$ 的**特征函数 (characteristic function)**（或[指示函数](@entry_id:186820)），当 $x \in A_i$ 时其值为1，否则为0。

有了这个表示，我们可以非常直观地定义非负[简单函数](@entry_id:137521) $\phi$ 关于测度 $\mu$ 的积分。其思想是，将函数所取的每一个值 $a_i$ 与其所对应定义域的“大小”或“测度” $\mu(A_i)$ 相乘，然后将这些乘积求和。

**定义（非负简单函数的积分）：** 对于一个标准表示为 $\phi = \sum_{i=1}^{n} a_i \chi_{A_i}$ 的非负简单函数，其在 $X$ 上的**[勒贝格积分](@entry_id:140189)**定义为：
$$
\int \phi \, d\mu = \sum_{i=1}^{n} a_i \mu(A_i)
$$
按照约定，如果 $a_i=0$ 且 $\mu(A_i) = \infty$，则 $a_i \mu(A_i) = 0$；如果 $a_i > 0$ 且 $\mu(A_i) = \infty$，则 $a_i \mu(A_i) = \infty$。

这个定义最简单的应用，也是最能体现其本质的例子，是计算一个[可测集](@entry_id:159173) $A$ 的特征函数 $\chi_A$ 的积分。特征函数 $\chi_A$ 只取两个值：1（在集合 $A$ 上）和 0（在集合 $A$ 的补集 $A^c$ 上）。因此，它是一个非负[简单函数](@entry_id:137521)。其标准表示为 $\chi_A = 1 \cdot \chi_A + 0 \cdot \chi_{A^c}$。根据积分的定义，我们得到：
$$
\int \chi_A \, d\mu = 1 \cdot \mu(A) + 0 \cdot \mu(A^c) = \mu(A)
$$
这个结果 [@problem_id:1454019] 极为重要，它在积分与测度之间建立了一座桥梁：**一个可测集的[特征函数](@entry_id:186820)的积分就是该集合自身的测度**。这构成了整个积分理论的基石。

为了获得更具体的感知，我们可以考虑一个定义在[离散集](@entry_id:146023)合上的函数。假设[测度空间](@entry_id:191702)为 $(X, \mathcal{M}, \mu)$，其中 $X = \{v_1, \dots, v_5\}$ 是一个有限集，$\mathcal{M}$ 是 $X$ 的幂集，测度 $\mu$ 在每个单点集上都有确定的值。对于定义在 $X$ 上的任意非负函数 $f$，它自然是一个简单函数。它的积分可以通过将其在每个点 $v_i$ 的函数值 $f(v_i)$ 与该点的测度 $\mu(\{v_i\})$ 相乘后求和得到。这实际上是标准定义的直接应用，因为函数 $f$ 可以写成 $\sum_{i=1}^5 f(v_i) \chi_{\{v_i\}}$。例如，给定 $f(v_1)=9, \mu(\{v_1\})=1/3$ 和 $f(v_2)=4, \mu(\{v_2\})=2$ 等值，积分计算如下 [@problem_id:1439558]：
$$
\int_X f \, d\mu = \sum_{i=1}^{5} f(v_i) \mu(\{v_i\}) = 9 \cdot \frac{1}{3} + 4 \cdot 2 + \dots
$$
这清晰地展示了积分作为“加权和”的本质。

积分的定义还可以赋予几何直观。考虑在单位正方形 $S = [0,1] \times [0,1]$ 上定义的一个[简单函数](@entry_id:137521) $\phi$，它在四个不相交的矩形子区域 $S_1, S_2, S_3, S_4$ 上分别取常数值 $c_1, c_2, c_3, c_4$。这里的测度是二维勒贝格测度 $\lambda^2$，它度量区域的面积。根据定义，$\phi$ 的积分为 [@problem_id:1454015]：
$$
\int_S \phi \, d\lambda^2 = \sum_{i=1}^4 c_i \lambda^2(S_i)
$$
每一项 $c_i \lambda^2(S_i)$ 可以被看作一个长方体的体积，其底面是区域 $S_i$ (面积为 $\lambda^2(S_i)$)，高度为 $c_i$。因此，简单函数的积分可以直观地理解为一系列“长方体”体积的总和，这与我们对[黎曼积分](@entry_id:142508)的理解遥相呼应，但其构造基础更为灵活，因为它依赖于对值域的划分，而非对定义域的规则分割。

### 表示的无关性

在定义积分时，我们使用了函数的“标准表示”，即要求表示式中的集合 $A_i$ 互不相交。一个自然的问题是：如果一个简单函数被表示为一系列**可能重叠**的[可测集](@entry_id:159173)上的特征函数之和，其积分该如何计算？这个积分值是否依赖于我们所选择的表示方式？

答案是，积分值是**独立于表示**的。只要 $\phi = \sum_{k=1}^m c_k \chi_{E_k}$，其中 $c_k \ge 0$ 且 $E_k$ 是[可测集](@entry_id:159173)（不要求互不相交），我们总能通过对集合 $E_k$ 的所有可能交集进行划分，来将其转化为标准表示，并得到相同的积分值。

我们通过一个例子来说明这一点 [@problem_id:1454013]。考虑在 $(\mathbb{R}, \mathcal{B}(\mathbb{R}), \lambda)$ 上的简单函数 $s(x) = 3 \cdot \chi_{[0, 4)}(x) + 2 \cdot \chi_{[1, 3)}(x)$。这里的集合 $[0,4)$ 和 $[1,3)$ 发生了重叠。为了计算积分 $\int s \, d\lambda$，我们首先需要确定函数在不同区域上的实际取值：
- 当 $x \in [0, 1)$ 或 $x \in [3, 4)$ 时，只有 $\chi_{[0, 4)}(x)$ 等于1，所以 $s(x) = 3 \cdot 1 + 2 \cdot 0 = 3$。
- 当 $x \in [1, 3)$ 时，$\chi_{[0, 4)}(x)$ 和 $\chi_{[1, 3)}(x)$ 都等于1，所以 $s(x) = 3 \cdot 1 + 2 \cdot 1 = 5$。
- 在其他地方，$s(x) = 0$。

这样，我们就找到了 $s(x)$ 的标准表示：
$$
s(x) = 3 \cdot \chi_{[0,1) \cup [3,4)}(x) + 5 \cdot \chi_{[1,3)}(x)
$$
由于 $[0,1) \cup [3,4)$ 和 $[1,3)$ 是不相交的，我们可以应用积分定义：
$$
\int s \, d\lambda = 3 \cdot \lambda([0,1) \cup [3,4)) + 5 \cdot \lambda([1,3))
$$
利用勒贝格测度的可加性，$\lambda([0,1) \cup [3,4)) = \lambda([0,1)) + \lambda([3,4)) = 1+1=2$。同时 $\lambda([1,3)) = 2$。因此，
$$
\int s \, d\lambda = 3 \cdot (1+1) + 5 \cdot 2 = 6 + 10 = 16
$$
这个例子揭示了一个普遍原理：无论[简单函数](@entry_id:137521)最初以何种形式给出，我们总能通过将其定义域分解为一系列不相交的可测集来找到其标准表示，并计算出唯一确定的积分值。这保证了积分定义的良好性。

### 积分的基本性质

基于上述定义，我们可以推导出非负[简单函数](@entry_id:137521)积分的一系列重要性质，这些性质构成了测[度理论](@entry_id:636058)的运算基础，并将在后续推广到更一般的函数。

#### 线性性

积分运算在非负简单函数类上满足线性性，包括齐次性和可加性。

**1. 齐次性 (Homogeneity):** 对于任意非负[简单函数](@entry_id:137521) $\phi$ 和任意常数 $c \ge 0$，有
$$
\int (c\phi) \, d\mu = c \int \phi \, d\mu
$$
这个性质的证明非常直接。如果 $\phi$ 的标准表示为 $\phi = \sum_{i=1}^n a_i \chi_{A_i}$，那么 $c\phi$ 的标准表示则是 $c\phi = \sum_{i=1}^n (ca_i) \chi_{A_i}$（如果 $c>0$）。根据定义：
$$
\int (c\phi) \, d\mu = \sum_{i=1}^n (ca_i) \mu(A_i) = c \left( \sum_{i=1}^n a_i \mu(A_i) \right) = c \int \phi \, d\mu
$$
一个具体的计算可以加深理解 [@problem_id:1453988]。

**2. 可加性 (Additivity):** 对于任意两个非负[简单函数](@entry_id:137521) $\phi$ 和 $\psi$，有
$$
\int (\phi + \psi) \, d\mu = \int \phi \, d\mu + \int \psi \, d\mu
$$
要证明这一点，我们需要更细致的处理。设 $\phi = \sum_{i=1}^n a_i \chi_{A_i}$ 和 $\psi = \sum_{j=1}^m b_j \chi_{B_j}$ 是它们的标准表示。为了得到 $\phi+\psi$ 的标准表示，我们需要考虑集合族 $\{A_i\}$ 和 $\{B_j\}$ 的共同划分。考虑所有可能的交集 $E_{ij} = A_i \cap B_j$。这些集合互不相交，并且它们的并集覆盖了 $\phi$ 或 $\psi$ 不为零的所有区域。在每一个非空的集合 $E_{ij}$ 上，$\phi+\psi$ 的值都是常数 $a_i+b_j$。因此，
$$
\phi + \psi = \sum_{i=1}^n \sum_{j=1}^m (a_i+b_j) \chi_{E_{ij}}
$$
应用积分定义和测度的[有限可加性](@entry_id:204532)，我们有：
$$
\int(\phi+\psi)d\mu = \sum_{i,j}(a_i+b_j)\mu(E_{ij}) = \sum_{i,j} a_i\mu(E_{ij}) + \sum_{i,j} b_j\mu(E_{ij})
$$
$$
= \sum_i a_i \sum_j \mu(A_i \cap B_j) + \sum_j b_j \sum_i \mu(A_i \cap B_j)
$$
因为 $\{B_j\}$ 构成了 $\psi$ 支撑集的一个划分（加上 $\psi=0$ 的区域），所以 $\sum_j \mu(A_i \cap B_j) = \mu(A_i)$。同理 $\sum_i \mu(A_i \cap B_j) = \mu(B_j)$。代入上式得到：
$$
\int(\phi+\psi)d\mu = \sum_i a_i \mu(A_i) + \sum_j b_j \mu(B_j) = \int\phi d\mu + \int\psi d\mu
$$
在具体问题中 [@problem_id:1453985]，计算 $\int(\phi+\psi)d\mu$ 的过程完全遵循了上述逻辑：首先确定 $\phi+\psi$ 在每个点上的值，从而找到其标准表示，然后应用定义进行计算。这个过程虽然繁琐，但清晰地展示了可加性成立的内在机理。

结合齐次性和可加性，我们就得到了积分的**线性性**。例如，计算 $\int (2\phi + 3\psi) \,d\mu$ [@problem_id:1453967] 就可以直接利用该性质，即 $\int (2\phi + 3\psi) \,d\mu = 2\int \phi \,d\mu + 3\int \psi \,d\mu$。

#### [单调性](@entry_id:143760)

积分的另一个基本性质是[单调性](@entry_id:143760)，它确保了积分运算能够保持函数的大小关系。

**[单调性](@entry_id:143760) (Monotonicity):** 如果 $\phi$ 和 $\psi$ 是两个非负简单函数，且对于所有 $x \in X$，都有 $\phi(x) \le \psi(x)$，那么
$$
\int \phi \, d\mu \le \int \psi \, d\mu
$$
这个性质可以由线性性推导出来。因为 $\phi \le \psi$，函数 $\eta = \psi - \phi$ 是一个非负简单函数。根据积分的定义，非负函数的积分必然是非负的，即 $\int \eta \, d\mu \ge 0$。利用可加性，我们有 $\int \psi \, d\mu = \int (\phi + \eta) \, d\mu = \int \phi \, d\mu + \int \eta \, d\mu$。因为 $\int \eta \, d\mu \ge 0$，所以 $\int \psi \, d\mu \ge \int \phi \, d\mu$。

通过一个具体的数值例子 [@problem_id:1454011]，我们可以验证这一性质。给定两个简单函数 $\phi$ 和 $\psi$ 满足点点 $\phi(x) \le \psi(x)$，分别计算它们的积分 $I_\phi = \int \phi d\mu$ 和 $I_\psi = \int \psi d\mu$。计算结果必然显示 $I_\phi \le I_\psi$，直观地确认了这一重要原理。

#### 积分为零的条件

积分的一个深刻性质在于它能“忽略”[测度为零](@entry_id:137864)的集合上发生的事情。这体现在以下性质中。

**零积分性质:** 对于一个非负简单函数 $\phi$，$\int \phi \, d\mu = 0$ 的充分必要条件是 $\phi$ **几乎处处 (almost everywhere, a.e.)** 为零。也就是说，集合 $\{x \in X \mid \phi(x) > 0\}$ 的测度为零。

让我们分析这个命题的两个方向。
- **(=)** 如果 $\mu(\{x \mid \phi(x) > 0\}) = 0$。设 $\phi = \sum a_i \chi_{A_i}$ 是标准表示，其中 $a_i > 0$。那么 $\{x \mid \phi(x) > 0\} = \bigcup A_i$。由于 $\mu(\bigcup A_i) = \sum \mu(A_i) = 0$ 且 $\mu(A_i) \ge 0$，我们必然有对所有 $i$，$\mu(A_i) = 0$。因此 $\int \phi d\mu = \sum a_i \mu(A_i) = \sum a_i \cdot 0 = 0$。
- **(=>)** 如果 $\int \phi d\mu = 0$。在标准表示中，$\sum a_i \mu(A_i) = 0$。由于每个 $a_i > 0$ 且 $\mu(A_i) \ge 0$，这个非负项的和为零意味着每一项都必须为零，即 $a_i \mu(A_i) = 0$。因为 $a_i > 0$，所以必然有 $\mu(A_i) = 0$ 对所有 $i$ 成立。因此，$\mu(\{x \mid \phi(x) > 0\}) = \mu(\bigcup A_i) = \sum \mu(A_i) = 0$。

一个精巧的例子 [@problem_id:1453969] 阐明了这一原理的应用。假设 $\phi = \alpha_1 \chi_{E_1} + \alpha_2 \chi_{E_2} + \alpha_3 \chi_{E_3}$，其中 $E_i$ 互不相交，$\mu(E_1)=5$, $\mu(E_2)=\sqrt{3}$ 而 $\mu(E_3)=0$。如果给定 $\int \phi d\mu = 0$，即 $\alpha_1 \mu(E_1) + \alpha_2 \mu(E_2) + \alpha_3 \mu(E_3) = 5\alpha_1 + \sqrt{3}\alpha_2 = 0$。由于 $\alpha_1, \alpha_2$ 均非负，这迫使 $\alpha_1=0$ 和 $\alpha_2=0$。注意，我们无法对 $\alpha_3$ 做出任何限制，因为无论 $\alpha_3$ 取何值，它对应的项 $\alpha_3\mu(E_3)$ 始终为零。这精确地说明了函数可以在一个测度为零的集合 ($E_3$) 上取非零值，而其积分仍然为零。

### [可测性](@entry_id:199191)的重要性：一个反例

到目前为止，我们的讨论都建立在一个前提之上：所涉及的函数和集合都是**可测的**。为什么可测性如此关键？如果没有[可测性](@entry_id:199191)，勒贝格积分的定义会遇到什么问题？

为了回答这个问题，我们需要审视一个著名的数学构造——**[维塔利集](@entry_id:144157) (Vitali set)**。[维塔利集](@entry_id:144157)是 $[0,1)$ 区间的一个[子集](@entry_id:261956)，它是一个典型的**勒贝格[不可测集](@entry_id:161390)**。它的存在性依赖于选择公理。

让我们考虑[维塔利集](@entry_id:144157) $V \subset [0,1)$ 的指示函数 $\chi_V$。如果我们试图为这个函数定义积分，就会立即陷入困境。[勒贝格积分](@entry_id:140189)是通过可测简单函数从下方和上方逼近来定义的。对于任意[有界函数](@entry_id:176803) $f$，我们可以定义其**下积分**和**上积分**：
- 下积分 $L = \sup \left\{ \int_I \phi \, d\lambda \mid \phi \text{ 是可测简单函数且 } 0 \le \phi \le f \right\}$
- 上积分 $U = \inf \left\{ \int_I \psi \, d\lambda \mid \psi \text{ 是可测简单函数且 } f \le \psi \right\}$

一个函数是[勒贝格可积](@entry_id:192052)的，当且仅当其下积分和上积分相等且有限。现在，我们将这个框架应用于 $\chi_V$ [@problem_id:1453998]。

1.  **计算下积分 $L$**：任何满足 $0 \le \phi \le \chi_V$ 的可测简单函数 $\phi$ 的支撑集（即 $\phi(x)>0$ 的点集）必然是 $V$ 的一个[子集](@entry_id:261956)。[维塔利集](@entry_id:144157)的一个关键性质是：它的任何可测[子集](@entry_id:261956)的勒贝格测度都必须为零。因此，对于任何这样的 $\phi$，其积分为 $\int \phi d\lambda = \sum a_i \lambda(A_i) = \sum a_i \cdot 0 = 0$。所有这些积分都为0，它们的上确界自然也是0。所以，$L=0$。

2.  **计算上积分 $U$**：[维塔利集](@entry_id:144157)的另一个关键性质是，通过将其进行有理数平移并模1，可以完全覆盖 $[0,1)$ 区间。利用勒贝格外[测度的[次可加](@entry_id:161986)性](@entry_id:137224)和平移不变性，可以证明[维塔利集](@entry_id:144157)的[外测度](@entry_id:157827) $\lambda^*(V)$ 必须严格大于零。上积分 $U$ 正是[外测度](@entry_id:157827) $\lambda^*(V)$。因此，$U > 0$。（事实上可以证明 $\lambda^*(V)$ 的取值范围依赖于[选择公理](@entry_id:150647)的具体应用，但我们唯一能确定的是它大于0且不大于1）。

由于 $L=0$ 而 $U>0$，我们得出 $L \neq U$。这意味着 $\chi_V$ 的下积分和上积分不相等，因此，按照勒贝格的定义，函数 $\chi_V$ 是**不可积的**。

这个例子深刻地揭示了[可测性](@entry_id:199191)在积分理论中的核心地位。它不是一个可以随意丢弃的技术性细节，而是确保积分能够被唯一、自洽地定义的根本保障。只有当函数（及其[水平集](@entry_id:751248)）是可测的时，我们才能保证用[简单函数](@entry_id:137521)从上下逼近所得到的结果是同一个值，从而赋予“积分”一个明确的意义。

本章我们为非负[简单函数](@entry_id:137521)奠定了坚实的积分理论基础。这仅仅是第一步。在下一章，我们将利用这些成果，通过极限过程，将积分的定义从简单函数推广到所有[非负可测函数](@entry_id:192146)，并最终建立起完整的勒贝格积分理论。