{"hands_on_practices": [{"introduction": "要真正掌握黎曼可积性，我们必须从其基本构成部分——达布和（Darboux sums）——入手。第一个练习将通过一个简单的线性函数，为你提供一次具体的计算实践。通过这个练习，你将亲眼看到，随着分割的细化，上和与下和之间的差距是如何缩小的，这直接印证了对于可积函数，该差距可以变得任意小的核心思想。[@problem_id:1450126]", "problem": "在黎曼积分的背景下，考虑定义在闭区间 $[0, 3]$ 上的函数 $f(x) = 2x + 1$。令 $P_n$ 为区间 $[0, 3]$ 的一个等距划分，将其分成 $n$ 个等宽的子区间，宽度为 $\\Delta x$。划分点由 $x_i$ 给出，其中 $i=0, 1, \\dots, n$，$x_0 = 0$ 且 $x_n = 3$。\n\n对于每个子区间 $[x_{i-1}, x_i]$，我们定义局部下确界为 $m_i = \\inf_{x \\in [x_{i-1}, x_i]} f(x)$，局部上确界为 $M_i = \\sup_{x \\in [x_{i-1}, x_i]} f(x)$。\n\n达布下和 $L(P_n, f)$ 与达布上和 $U(P_n, f)$ 定义如下：\n$$L(P_n, f) = \\sum_{i=1}^{n} m_i \\Delta x$$\n$$U(P_n, f) = \\sum_{i=1}^{n} M_i \\Delta x$$\n\n您的任务是计算差值 $U(P_n, f) - L(P_n, f)$。请将答案表示为 $n$ 的函数。", "solution": "我们考虑函数 $f(x)=2x+1$ 在区间 $[0,3]$ 上以及一个等距划分 $P_{n}$，其子区间宽度为 $\\Delta x=\\frac{3-0}{n}=\\frac{3}{n}$，划分点为 $x_{i}=i\\Delta x=\\frac{3i}{n}$，其中 $i=0,1,\\dots,n$。\n\n由于 $f$ 在 $[0,3]$ 上是严格递增的（因为 $f'(x)=20$），所以在每个子区间 $[x_{i-1},x_{i}]$ 上，局部下确界和上确界分别为\n$$\nm_{i}=f(x_{i-1})=2x_{i-1}+1,\\qquad M_{i}=f(x_{i})=2x_{i}+1.\n$$\n达布下和与上和为\n$$\nL(P_{n},f)=\\sum_{i=1}^{n}m_{i}\\,\\Delta x,\\qquad U(P_{n},f)=\\sum_{i=1}^{n}M_{i}\\,\\Delta x.\n$$\n因此，它们的差为\n$$\nU(P_{n},f)-L(P_{n},f)=\\sum_{i=1}^{n}\\left(M_{i}-m_{i}\\right)\\Delta x=\\sum_{i=1}^{n}\\left(f(x_{i})-f(x_{i-1})\\right)\\Delta x.\n$$\n计算 $f$ 在一个子区间上的增量：\n$$\nf(x_{i})-f(x_{i-1})=\\left(2x_{i}+1\\right)-\\left(2x_{i-1}+1\\right)=2\\left(x_{i}-x_{i-1}\\right)=2\\Delta x.\n$$\n因此，和中的每一项都等于 $2\\Delta x$，所以\n$$\nU(P_{n},f)-L(P_{n},f)=\\sum_{i=1}^{n}\\left(2\\Delta x\\right)\\Delta x=2n(\\Delta x)^{2}.\n$$\n将 $\\Delta x=\\frac{3}{n}$ 代入可得\n$$\nU(P_{n},f)-L(P_{n},f)=2n\\left(\\frac{3}{n}\\right)^{2}=\\frac{18}{n}.\n$$", "answer": "$$\\boxed{\\frac{18}{n}}$$", "id": "1450126"}, {"introduction": "在体验了“表现良好”的函数如何实现可积之后，探索一个失败的案例至关重要。这个练习将介绍一个著名的函数——狄利克雷函数（Dirichlet function）的变体，它利用有理数和无理数的稠密性，在每一点上都是不连续的。通过计算其上积分和下积分，你将发现它们为何不相等，从而揭示函数的不可积性，并深刻理解不连续点的分布是决定可积性的关键。[@problem_id:1450117]", "problem": "考虑一个函数 $f: [0, 2] \\to \\mathbb{R}$，其定义如下：\n$$\nf(x) = \\begin{cases} \n1  \\text{如果 } x \\text{ 是有理数} \\\\\n-1  \\text{如果 } x \\text{ 是无理数}\n\\end{cases}\n$$\n令 $\\underline{\\int_a^b} g(x)dx$ 表示有界函数 $g$ 在区间 $[a, b]$ 上的黎曼下积分，$\\overline{\\int_a^b} g(x)dx$ 表示其黎曼上积分。\n\n计算以下四个值：\n1. 函数 $f$ 在 $[0, 2]$ 上的黎曼下积分，即 $\\underline{\\int_0^2} f(x)dx$。\n2. 函数 $f$ 在 $[0, 2]$ 上的黎曼上积分，即 $\\overline{\\int_0^2} f(x)dx$。\n3. 函数 $|f|$ 在 $[0, 2]$ 上的黎曼下积分，即 $\\underline{\\int_0^2} |f(x)|dx$。\n4. 函数 $|f|$ 在 $[0, 2]$ 上的黎曼上积分，即 $\\overline{\\int_0^2} |f(x)|dx$。\n\n你的最终答案应为这四个数值的集合，并按上述顺序列出。", "solution": "我们回顾一下达布积分的定义。对于在 $[a,b]$ 上的有界函数 $g$ 和一个分割 $P=\\{x_{0},x_{1},\\dots,x_{n}\\}$（其中 $a=x_{0}  x_1  \\dots  x_n = b$），我们定义 $m_i = \\inf_{x \\in [x_{i-1}, x_i]} g(x)$ 和 $M_i = \\sup_{x \\in [x_{i-1}, x_i]} g(x)$。下和与上和分别为 $L(g, P) = \\sum m_i \\Delta x_i$ 和 $U(g, P) = \\sum M_i \\Delta x_i$。下积分和上积分是 $\\underline{\\int_a^b} g(x)dx = \\sup_P L(g, P)$ 和 $\\overline{\\int_a^b} g(x)dx = \\inf_P U(g, P)$。\n\n1.  **计算 $f$ 的下积分和上积分：**\n    函数 $f(x)$ 在有理数点上为 $1$，在无理数点上为 $-1$。由于有理数和无理数在任何区间 $[x_{i-1}, x_i]$ 中都是稠密的，所以对于任意子区间，我们都有：\n    $m_i = \\inf_{x \\in [x_{i-1}, x_i]} f(x) = -1$\n    $M_i = \\sup_{x \\in [x_{i-1}, x_i]} f(x) = 1$\n    因此，对于任何分割 $P$，下和为：\n    $L(f, P) = \\sum_{i=1}^n (-1) \\Delta x_i = -1 \\sum_{i=1}^n \\Delta x_i = -1 \\cdot (2-0) = -2$。\n    由于所有下和都是 $-2$，其上确界（下积分）也是 $-2$。\n    $\\underline{\\int_0^2} f(x)dx = -2$。\n    同样，上和为：\n    $U(f, P) = \\sum_{i=1}^n (1) \\Delta x_i = 1 \\sum_{i=1}^n \\Delta x_i = 1 \\cdot (2-0) = 2$。\n    由于所有上和都是 $2$，其下确界（上积分）也是 $2$。\n    $\\overline{\\int_0^2} f(x)dx = 2$。\n\n2.  **计算 $|f|$ 的下积分和上积分：**\n    函数 $|f(x)|$ 的值为 $|\\pm 1| = 1$，无论 $x$ 是有理数还是无理数。因此，$|f(x)| = 1$ 是一个常数函数。\n    对于任意子区间，我们都有：\n    $m_i = \\inf_{x \\in [x_{i-1}, x_i]} |f(x)| = 1$\n    $M_i = \\sup_{x \\in [x_{i-1}, x_i]} |f(x)| = 1$\n    因此，对于任何分割 $P$，下和与上和均为：\n    $L(|f|, P) = \\sum_{i=1}^n (1) \\Delta x_i = 1 \\cdot (2-0) = 2$\n    $U(|f|, P) = \\sum_{i=1}^n (1) \\Delta x_i = 1 \\cdot (2-0) = 2$\n    下积分和上积分都是 $2$。\n    $\\underline{\\int_0^2} |f(x)|dx = 2$\n    $\\overline{\\int_0^2} |f(x)|dx = 2$。\n\n综上，这四个值分别为 $-2, 2, 2, 2$。", "answer": "$$\\boxed{\\begin{pmatrix}-2  2  2  2\\end{pmatrix}}$$", "id": "1450117"}, {"introduction": "我们已经看到，连续函数是可积的，而具有稠密不连续点的函数则可能不是。这自然引出一个问题：可积与不可积的“临界点”在哪里？这个思想实验探讨了当我们对一个已知的可积函数在有限个点上进行修改时会发生什么。这个问题的结论是积分理论的基石之一，它为你理解更形式化的黎曼可积性勒贝格准则（Lebesgue's criterion for Riemann integrability）提供了强大的直观支持。[@problem_id:1450101]", "problem": "设 $f: [a, b] \\to \\mathbb{R}$ 是一个在闭区间 $[a, b]$ 上黎曼可积的函数。设 $S = \\{x_1, x_2, \\dots, x_n\\}$ 是区间 $[a, b]$ 中包含 $n$ 个不同点的有限集合。\n\n通过改变 $f$ 在集合 $S$ 中各点的值，构造了一个新函数 $g: [a, b] \\to \\mathbb{R}$。具体来说，$g(x)$ 的定义如下：\n$$\ng(x) = \\begin{cases}\nc_i  \\text{如果 } x = x_i \\in S \\\\\nf(x)  \\text{如果 } x \\notin S\n\\end{cases}\n$$\n其中 $c_1, c_2, \\dots, c_n$ 是任意实常数。\n\n以下哪个陈述最准确地描述了函数 $g(x)$ 在区间 $[a, b]$ 上的黎曼可积性？\n\nA. 函数 $g(x)$ 在 $[a, b]$ 上总是黎曼可积的。\nB. 函数 $g(x)$ 在 $[a, b]$ 上绝不是黎曼可积的，除非对所有 $x$都有 $g(x) = f(x)$。\nC. $g(x)$ 的黎曼可积性取决于从 $S$ 中选择的具体点。例如，如果这些点是有理数，它可能是可积的，但如果它们是无理数，则可能不是。\nD. $g(x)$ 的黎曼可积性取决于所赋的新值 $c_i$。只有当值 $c_i$ 与原始值 $f(x_i)$ “接近”时，它才是可积的。\nE. 函数 $g(x)$ 在 $[a, b]$ 上是黎曼可积的，仅当原函数 $f(x)$ 在整个区间 $[a, b]$ 上是连续的。", "solution": "我们回顾关于闭区间上黎曼可积性的两个标准事实：\n1) 如果一个函数在闭区间上黎曼可积，那么它在该区间上有界。\n2) 对于一个固定的函数，细化一个分割不会增加其上和与下和之间的差。\n\n因为 $f$ 在 $[a,b]$ 上是黎曼可积的，所以它是有界的；因此存在 $B \\in \\mathbb{R}$，使得对所有 $x \\in [a,b]$ 都有 $|f(x)| \\leq B$。函数 $g$ 与 $f$ 仅在有限个点 $x_{1},\\dots,x_{n}$ 上不同。定义\n$$\nM \\coloneqq \\max\\Big\\{B,\\max_{1 \\leq i \\leq n}|c_{i}|\\Big\\}.\n$$\n那么对所有 $x \\in [a,b]$ 都有 $|g(x)| \\leq M$。\n\n我们将直接证明 $g$ 是黎曼可积的。设 $\\varepsilon>0$ 为任意正数。因为 $f$ 是黎曼可积的，所以存在 $[a,b]$ 的一个分割 $P_{1}$ 使得\n$$\nU(f,P_{1})-L(f,P_{1})  \\frac{\\varepsilon}{2}.\n$$\n对每个 $i \\in \\{1,\\dots,n\\}$，选择一个包含 $x_i$ 的闭区间 $I_{i}$，使得总长度满足\n$$\n\\sum_{i=1}^{n}|I_{i}|  \\frac{\\varepsilon}{4M}.\n$$\n用所有 $I_i$ 的端点来细化 $P_1$，从而构成一个新的分割 $Q$。考虑 $g$ 关于分割 $Q$ 的上和与下和之差：\n$$\nU(g,Q)-L(g,Q)\n=\\sum_{J \\in Q}\\big(\\sup_{x \\in J}g(x)-\\inf_{x \\in J}g(x)\\big)\\,|J|.\n$$\n将关于 $Q$ 的和式分为两部分：一部分是包含在 $\\bigcup_{i}I_{i}$ 中的子区间 $J$，另一部分是与所有 $I_{i}$ 都不相交的子区间 $J$。如果 $J$ 与所有 $I_i$ 都不相交，那么在 $J$ 上有 $g=f$，因此这些 $J$ 的贡献至多为\n$$\nU(f,Q)-L(f,Q) \\leq U(f,P_{1})-L(f,P_{1})  \\frac{\\varepsilon}{2},\n$$\n因为将 $P_1$ 细化为 $Q$ 不会增加 $f$ 的（上和与下和的）差值。如果对某个 $i$ 有 $J \\subset I_{i}$，那么\n$$\n\\sup_{x \\in J}g(x)-\\inf_{x \\in J}g(x)\\leq 2M,\n$$\n因此所有这些 $J$ 的总贡献由以下式子为界\n$$\n\\sum_{J \\subset \\bigcup I_{i}}2M\\,|J| \\leq 2M\\sum_{i=1}^{n}|I_{i}|  2M \\cdot \\frac{\\varepsilon}{4M}=\\frac{\\varepsilon}{2}.\n$$\n将两部分合起来可得\n$$\nU(g,Q)-L(g,Q)  \\frac{\\varepsilon}{2}+\\frac{\\varepsilon}{2}=\\varepsilon.\n$$\n因为 $\\varepsilon>0$ 是任意的，所以 $g$ 在 $[a,b]$ 上是黎曼可积的。\n\n等价地，根据黎曼可积的勒贝格判据，一个有界函数是黎曼可积的，当且仅当其不连续点集是勒贝格零测集。函数 $g$ 与 $f$ 仅在有限个点上不同，所以 $g$ 的不连续点集是 $f$ 的不连续点集（因为 $f$ 是黎曼可积的，所以其测度为零）与一个有限集（测度也为零）的并集。因此 $g$ 是黎曼可积的。\n\n因此，正确的选项是 $g$ 在 $[a,b]$ 上总是黎曼可积的，这与具体的点 $x_{i}$ 或值 $c_{i}$ 无关。这也表明 $g$ 的积分等于 $f$ 的积分，因为在有限个点上改变一个函数的值不会改变其黎曼积分。", "answer": "$$\\boxed{A}$$", "id": "1450101"}]}