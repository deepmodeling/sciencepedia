{"hands_on_practices": [{"introduction": "我们首先通过一个经典的“病态”函数来揭示黎曼积分的局限性。这个练习构建了一个仅在二进有理数点上取值为$1$，在其他点上取值为$0$的函数，这类函数因其在稠密点集上的不连续性而挑战了积分的定义。通过直接计算其上下达布积分，你将亲眼见证它们为何无法收敛到同一个值，从而深刻理解黎曼可积性的失败之处。[@problem_id:1429259]", "problem": "在实分析中，黎曼积分是通过上和与下和来定义的。在处理高度不连续的函数时，其局限性就显现出来了。考虑一个这样的函数 $f: [0, 1] \\to \\mathbb{R}$，它是基于二进有理数集构造的。\n\n如果一个数 $x$ 可以表示为 $\\frac{k}{2^n}$ 的形式，其中 $k$ 是整数，$n$ 是非负整数，则称 $x$ 为**二进有理数**。\n\n函数 $f(x)$ 在区间 $[0, 1]$ 上的定义如下：\n$$\nf(x) = \\begin{cases} \n1  \\text{若 } x \\text{ 是二进有理数} \\\\\n0  \\text{若 } x \\text{ 不是二进有理数} \n\\end{cases}\n$$\n\n令 $L = \\underline{\\int_0^1} f(x) \\, dx$ 表示 $f$ 在区间 $[0,1]$ 上的下黎曼积分， $U = \\overline{\\int_0^1} f(x) \\, dx$ 表示其上黎曼积分。\n\n计算下黎曼积分和上黎曼积分的值。将你的答案以行矩阵 $\\begin{pmatrix} L  U \\end{pmatrix}$ 的形式呈现。", "solution": "为了计算上黎曼积分和下黎曼积分，我们考察任意一个子区间 $[x_{i-1}, x_i] \\subset [0, 1]$。\n\n1.  **下积分计算**: 由于无理数在实数轴上是稠密的，任何长度不为零的区间 $[x_{i-1}, x_i]$ 都包含无理数（以及非二进有理数）。在这些点上，$f(x) = 0$。因此，函数 $f$ 在该子区间上的下确界 $m_i = \\inf_{x \\in [x_{i-1}, x_i]} f(x) = 0$。\n    对于任意一个分割 $P$，其下和 $L(P, f)$ 为：\n    $$L(P, f) = \\sum_{i=1}^{n} m_i (x_i - x_{i-1}) = \\sum_{i=1}^{n} 0 \\cdot (x_i - x_{i-1}) = 0$$\n    由于所有下和都为 0，所以下黎曼积分 $L = \\underline{\\int_0^1} f(x) \\, dx = \\sup_{P} L(P, f) = 0$。\n\n2.  **上积分计算**: 二进有理数在 $[0, 1]$ 区间内也是稠密的。这意味着任何长度不为零的区间 $[x_{i-1}, x_i]$ 都包含二进有理数。在这些点上，$f(x) = 1$。因此，函数 $f$ 在该子区间上的上确界 $M_i = \\sup_{x \\in [x_{i-1}, x_i]} f(x) = 1$。\n    对于任意一个分割 $P$，其上和 $U(P, f)$ 为：\n    $$U(P, f) = \\sum_{i=1}^{n} M_i (x_i - x_{i-1}) = \\sum_{i=1}^{n} 1 \\cdot (x_i - x_{i-1}) = x_n - x_0 = 1 - 0 = 1$$\n    由于所有上和都为 1，所以上黎曼积分 $U = \\overline{\\int_0^1} f(x) \\, dx = \\inf_{P} U(P, f) = 1$。\n\n因为下积分 $L=0$ 与上积分 $U=1$ 不相等，所以该函数不是黎曼可积的。", "answer": "$$\\boxed{\\begin{pmatrix} 0  1 \\end{pmatrix}}$$", "id": "1429259"}, {"introduction": "在见识了不可积的函数后，一个自然的问题是：是否所有具有稠密不连续点的函数都不可积？本练习将通过一个著名的反例——托马函数（Thomae's function）来挑战这一直觉。该函数在所有非零有理数点上都不连续，但出人意料的是，它却是黎曼可积的。这个练习旨在深化你的理解，揭示决定可积性的并非不连续点的“数量”，而是这些点的“分布方式”。[@problem_id:1308067]", "problem": "设函数 $H(x)$ 定义在区间 $[0, 1]$ 上。该函数是一个连续函数与另一个函数之和，后者在除 $x=0$外的所有有理点上都不连续。\n该函数定义为 $H(x) = \\cos(\\frac{\\pi x}{2}) + R(x)$，其中 $R(x)$ 是“有理数高度函数”，定义如下：\n$$\nR(x) = \\begin{cases}\n1/q,  \\text{如果 } x = p/q \\text{ 是 } (0, 1] \\text{ 中的一个有理数，且为最简分数形式，} p,q \\in \\mathbb{Z}^+ \\\\\n0,  \\text{如果 } x=0 \\text{ 或 } x \\text{ 是 } [0, 1] \\text{ 中的一个无理数}\n\\end{cases}\n$$\n计算黎曼积分 $\\int_0^1 H(x) dx$ 的值。你的最终答案应为一个单一的封闭形式解析表达式。", "solution": "我们利用黎曼积分的线性性质将积分分成两部分：\n$$\n\\int_{0}^{1} H(x)\\,dx \\;=\\; \\int_{0}^{1} \\cos\\!\\left(\\frac{\\pi x}{2}\\right)\\,dx \\;+\\; \\int_{0}^{1} R(x)\\,dx.\n$$\n首先，使用微积分基本定理和不定积分法则 $\\int \\cos(ax)\\,dx = \\frac{1}{a}\\sin(ax)$ 计算连续部分：\n$$\n\\int_{0}^{1} \\cos\\!\\left(\\frac{\\pi x}{2}\\right)\\,dx\n= \\left.\\frac{2}{\\pi}\\,\\sin\\!\\left(\\frac{\\pi x}{2}\\right)\\right|_{0}^{1}\n= \\frac{2}{\\pi}\\left(\\sin\\!\\left(\\frac{\\pi}{2}\\right) - \\sin(0)\\right)\n= \\frac{2}{\\pi}.\n$$\n接下来，计算有理数高度函数（托马函数）的积分 $\\int_{0}^{1} R(x)\\,dx$。函数 $R$ 是有界的，满足 $0 \\leq R(x) \\leq 1$。$[0,1]$ 的每个子区间都包含一个无理数，在这些点上 $R$ 的值为 $0$，因此 $R$ 在任何子区间上的下确界都是 $0$。因此，所有的下和都为 $0$，这意味着下黎曼积分为 $0$。\n\n为了证明上黎曼积分为 $0$，我们需证明对于任意 $\\varepsilon > 0$，都存在一个分割 $P$，使得上和 $U(P, R)  \\varepsilon$。\n固定一个 $\\varepsilon > 0$。选择一个足够大的正整数 $N$，使得 $\\frac{1}{N}  \\frac{\\varepsilon}{2}$。\n考虑在 $(0, 1]$ 中所有分母不大于 $N$ 的最简分数有理点。这些点的集合是有限的，记为 $S_N = \\{x_1, x_2, \\dots, x_k\\}$。我们可以构造一个分割 $P$，将这 $k$ 个点各自包含在一个非常小的子区间内。我们可以让这些子区间的总长度小于 $\\frac{\\varepsilon}{2}$。在这些子区间上，$R(x) \\leq 1$，因此它们对上和的贡献总共小于 $1 \\times \\frac{\\varepsilon}{2} = \\frac{\\varepsilon}{2}$。\n在分割 $P$ 的其余子区间上，任何有理数 $p/q$ 的分母都满足 $q > N$。因此，在这些子区间内，$R(x)  \\frac{1}{N}$。这些子区间的总长度不超过 1。因此，它们对上和的贡献总共小于 $\\frac{1}{N} \\times 1  \\frac{\\varepsilon}{2}$。\n综上，对于这个分割 $P$，总的上和 $U(P, R)$ 小于 $\\frac{\\varepsilon}{2} + \\frac{\\varepsilon}{2} = \\varepsilon$。由于 $\\varepsilon$ 可以任意小，我们得出结论，上黎曼积分为 0。因此，\n$$\n\\int_{0}^{1} R(x)\\,dx = 0.\n$$\n将两部分结合起来得到\n$$\n\\int_{0}^{1} H(x)\\,dx \\;=\\; \\frac{2}{\\pi} + 0 \\;=\\; \\frac{2}{\\pi}.\n$$", "answer": "$$\\boxed{\\frac{2}{\\pi}}$$", "id": "1308067"}, {"introduction": "在前两个例子的基础上，这最后一个练习提出了一个更复杂的混合函数。它将在无理数点上取一个常数值，而在有理数点上的取值则类似于托马函数。通过计算这个函数的上下积分，我们将探索一个更微妙的不可积情形，其中上下积分不相等，但又并非简单的$0$和$1$。这个练习将巩固你分析函数在区间稠密子集上行为的能力。[@problem_id:1429261]", "problem": "在信号处理的研究中，一些理论模型会表现出病态行为。考虑一个这样的信号模型 $f(t)$，它定义在时间区间 $t \\in [0, 1]$ 上。信号的值取决于时刻 $t$ 是有理数还是无理数。\n\n函数 $f: [0, 1] \\to \\mathbb{R}$ 定义如下：\n$$\nf(t) = \\begin{cases}\n\\frac{1}{3}  \\text{如果 } t \\text{ 是一个无理数} \\\\\n\\frac{1}{q}  \\text{如果 } t = \\frac{p}{q} \\text{ 是一个最简分数形式的有理数，其中 } p, q \\text{ 为整数且 } q  0\n\\end{cases}\n$$\n例如，$f(\\sqrt{2}/2) = 1/3$，$f(3/4) = 1/4$，以及 $f(0) = f(0/1) = 1$。\n\n你的任务是确定此函数 $f$ 在区间 $[0, 1]$ 上的黎曼下积分和黎曼上积分的值。将你的答案表示为单行矩阵 $\\begin{pmatrix} L  U \\end{pmatrix}$ 的形式，其中 $L$ 是黎曼下积分的值，$U$ 是黎曼上积分的值。", "solution": "我们通过达布和 (Darboux sums) 来分析黎曼下积分和上积分。对于 $[0,1]$ 的一个任意分割 $P=\\{x_{0}, x_{1}, \\dots, x_{n}\\}$，其中 $0=x_{0}  x_{1}  \\dots  x_{n}=1$，我们考察任意一个子区间 $[x_{i-1}, x_i]$。\n\n**下积分 (L) 的计算:**\n在任何长度不为零的子区间 $[x_{i-1}, x_i]$ 内，都存在有理数。我们可以找到分母 $q$ 任意大的有理数 $p/q$。因此，函数值 $f(p/q) = 1/q$ 可以任意接近 $0$。因此，在任何子区间上的下确界 $m_i = \\inf_{t \\in [x_{i-1}, x_i]} f(t) = 0$。\n于是，对于任意分割 $P$，下和为：\n$$L(P, f) = \\sum_{i=1}^{n} m_i (x_i - x_{i-1}) = \\sum_{i=1}^{n} 0 \\cdot (x_i - x_{i-1}) = 0$$\n所以，下积分 $L = \\sup_{P} L(P, f) = 0$。\n\n**上积分 (U) 的计算:**\n在任何长度不为零的子区间 $[x_{i-1}, x_i]$ 内，都存在无理数。在这些点上，$f(t) = 1/3$。对于区间内的有理数 $p/q$，函数值为 $1/q$。\n函数 $f$ 的上确界 $M_i = \\sup_{t \\in [x_{i-1}, x_i]} f(t)$ 将由 $1/3$ 和区间内有理数的 $1/q$ 值中较大的那个决定。只有当 $q=1$ 或 $q=2$ 时，$1/q$ 才大于 $1/3$（即 $1$ 和 $1/2$）。在 $[0,1]$ 中，这样的有理数点是有限的：$0/1, 1/1, 1/2$。\n\n类似于托马函数的证明，对于任意 $\\varepsilon > 0$，我们可以构造一个分割 $P$，将这些有限的“坏点”隔离在总长度极小的区间内，使得它们对上和的贡献可以忽略不计。在剩下的绝大部分区间上，上确界 $M_i$ 将是 $1/3$（因为所有其他有理数 $p/q$ 的 $q \\ge 3$，所以 $1/q \\le 1/3$）。\n随着分割越来越精细，上和会收敛到 $\\frac{1}{3} \\times (\\text{总长度})$。\n$$U(P, f) \\to \\frac{1}{3} \\sum_{i=1}^{n} (x_i - x_{i-1}) = \\frac{1}{3}(1-0) = \\frac{1}{3}$$\n因此，上积分 $U = \\inf_{P} U(P, f) = \\frac{1}{3}$。\n\n综上，下积分为0，上积分为1/3。", "answer": "$$\\boxed{\\begin{pmatrix} 0  \\frac{1}{3} \\end{pmatrix}}$$", "id": "1429261"}]}