{"hands_on_practices": [{"introduction": "本练习旨在构建一个经典的概率论反例，以揭示依概率收敛与$L^1$收敛之间的关键差异。我们将构造一个随机变量序列，它依概率收敛到$0$，但其期望值始终为$1$。这个练习 [@problem_id:1408752] 清楚地表明，一致可积性是确保积分（或期望）与极限可以交换顺序的重要条件，也是理解Vitali收敛定理的核心。", "problem": "考虑一个概率空间 $(\\Omega, \\mathcal{F}, P)$，其中 $\\Omega = [0, 1]$，$\\mathcal{F}$ 是 $[0,1]$ 上的 Borel σ-代数，而 $P$ 是勒贝格测度。对于定义在该空间上的一列随机变量 $\\{X_n\\}_{n\\geq1}$，我们回顾两个关键概念：\n\n1.  **依概率收敛**：如果对于每个 $\\epsilon  0$，以下条件成立，则称序列 $\\{X_n\\}$ 依概率收敛于随机变量 $X$，记作 $X_n \\xrightarrow{p} X$：\n    $$ \\lim_{n \\to \\infty} P(|X_n - X|  \\epsilon) = 0 $$\n2.  **一致可积**：如果序列 $\\{X_n\\}$ 满足以下条件，则称其为一致可积的：\n    $$ \\lim_{K \\to \\infty} \\sup_{n \\ge 1} \\mathbb{E}[|X_n| \\mathbf{1}_{\\{|X_n|  K\\}}] = 0 $$\n    其中 $\\mathbf{1}_A$ 是事件 $A$ 的示性函数。\n\n对于 $\\omega \\in [0,1]$ 定义的下列非负随机变量序列 $\\{X_n(\\omega)\\}_{n\\geq1}$ 中，哪一个满足*所有三个*以下性质？\n\nI. 序列中每个随机变量的均值为1：对所有 $n \\ge 1$，$\\mathbb{E}[X_n] = 1$。\nII. 序列依概率收敛于0：$X_n \\xrightarrow{p} 0$。\nIII. 序列**不**是一致可积的。\n\nA. $X_n(\\omega) = n \\cdot \\mathbf{1}_{[0, 1/n]}(\\omega)$\n\nB. $X_n(\\omega) = 2 \\cdot \\mathbf{1}_{[0, 1/2]}(\\omega)$ 对所有 $n \\ge 1$\n\nC. $X_n(\\omega) = n^2 \\cdot \\mathbf{1}_{[0, 1/n]}(\\omega)$\n\nD. $X_n(\\omega) = \\omega + \\frac{1}{n}$", "solution": "我们在 $[0,1]$ 上使用勒贝格测度的概率空间中进行计算，因此对于任何非负可测函数 $Y$，我们有 $\\mathbb{E}[Y]=\\int_{0}^{1}Y(\\omega)\\,d\\omega$。依概率收敛于 $0$ 意味着：对于每个 $\\epsilon0$，有 $P(|X_{n}|\\epsilon)\\to 0$。当 $\\lim_{K\\to\\infty}\\sup_{n\\geq 1}\\mathbb{E}\\big[|X_{n}|\\mathbf{1}_{\\{|X_{n}|K\\}}\\big]\\neq 0$ 时，一致可积性不成立。\n\n选项 A: $X_{n}(\\omega)=n\\,\\mathbf{1}_{[0,1/n]}(\\omega)$。\n- 性质 I: \n$$\\mathbb{E}[X_{n}]=\\int_{0}^{1}n\\,\\mathbf{1}_{[0,1/n]}(\\omega)\\,d\\omega=n\\cdot \\lambda([0,1/n])=n\\cdot \\frac{1}{n}=1.$$\n- 性质 II: 对于任何 $\\epsilon0$，如果 $n\\leq \\epsilon$，则 $P(|X_{n}|\\epsilon)=0$；而如果 $n\\epsilon$，则 $|X_{n}|\\epsilon$ 恰好在 $[0,1/n]$ 上成立，因此\n$$P(|X_{n}|\\epsilon)=\\lambda([0,1/n])=\\frac{1}{n}\\to 0,$$\n所以 $X_{n}\\xrightarrow{p}0$。\n- 性质 III: 对于任何 $K0$，选择 $nK$。那么 $|X_{n}|K$ 在 $[0,1/n]$ 上成立，所以\n$$\\mathbb{E}\\big[|X_{n}|\\mathbf{1}_{\\{|X_{n}|K\\}}\\big]=\\int_{0}^{1}n\\,\\mathbf{1}_{[0,1/n]}(\\omega)\\,d\\omega=1.$$\n因此对于所有 $K$，$\\sup_{n\\geq 1}\\mathbb{E}\\big[|X_{n}|\\mathbf{1}_{\\{|X_{n}|K\\}}\\big]\\geq 1$ 成立，从而\n$$\\lim_{K\\to\\infty}\\sup_{n\\geq 1}\\mathbb{E}\\big[|X_{n}|\\mathbf{1}_{\\{|X_{n}|K\\}}\\big]=1\\neq 0,$$\n所以该序列不是一致可积的。因此 A 满足 I, II 和 III。\n\n选项 B: 对所有 $n$，$X_{n}(\\omega)=2\\,\\mathbf{1}_{[0,1/2]}(\\omega)$。\n- 性质 I: $\\mathbb{E}[X_{n}]=2\\cdot \\lambda([0,1/2])=2\\cdot \\frac{1}{2}=1$。\n- 性质 II 不成立: 对于任何 $\\epsilon\\in(0,2]$，\n$$P(|X_{n}|\\epsilon)=P\\big(2\\,\\mathbf{1}_{[0,1/2]}\\epsilon\\big)=\\lambda([0,1/2])=\\frac{1}{2},$$\n其结果不趋于 $0$。因此 $X_{n}$ 不依概率收敛于 $0$。（事实上，该族是有界的，因此是一致可积的，但性质 II 不成立已经排除了 B。）\n\n选项 C: $X_{n}(\\omega)=n^{2}\\,\\mathbf{1}_{[0,1/n]}(\\omega)$。\n- 性质 I 不成立:\n$$\\mathbb{E}[X_{n}]=n^{2}\\cdot \\lambda([0,1/n])=n^{2}\\cdot \\frac{1}{n}=n\\neq 1\\ \\text{for}\\ n\\geq 2.$$\n- 性质 II 成立: 对于任何 $\\epsilon0$，当 $n$ 足够大时，我们有 $n^{2}\\epsilon$，此时\n$$P(|X_{n}|\\epsilon)=\\lambda([0,1/n])=\\frac{1}{n}\\to 0,$$\n所以 $X_{n}\\xrightarrow{p}0$。 \n- 性质 III 成立（序列不是一致可积的）: 对于任何 $K0$，取 $n\\max\\{1,\\sqrt{K}\\}$。那么 $|X_{n}|K$ 在 $[0,1/n]$ 上成立，得到\n$$\\mathbb{E}\\big[|X_{n}|\\mathbf{1}_{\\{|X_{n}|K\\}}\\big]=n^{2}\\cdot \\frac{1}{n}=n,$$\n所以 $\\sup_{n}\\mathbb{E}[|X_{n}|\\mathbf{1}_{\\{|X_{n}|K\\}}]\\geq n\\to\\infty$，且关于 $K$ 的极限不为 $0$。尽管 II 和 III 成立，但 I 不成立，所以 C 是不可接受的。\n\n选项 D: $X_{n}(\\omega)=\\omega+\\frac{1}{n}$。\n- 性质 I 不成立: \n$$\\mathbb{E}[X_{n}]=\\int_{0}^{1}\\omega\\,d\\omega+\\frac{1}{n}=\\frac{1}{2}+\\frac{1}{n}\\neq 1.$$\n- 性质 II 不成立: $X_{n}$ 逐点收敛于 $\\omega$，而不是 $0$。更直接地，对于任何固定的 $\\epsilon\\in(0,1)$ 以及所有满足 $\\epsilon-\\frac{1}{n}0$ 的足够大的 $n$，\n$$P(|X_{n}|\\epsilon)=P(\\omega+\\tfrac{1}{n}\\epsilon)=P\\big(\\omega\\epsilon-\\tfrac{1}{n}\\big)=1-\\big(\\epsilon-\\tfrac{1}{n}\\big)\\to 1-\\epsilon\\neq 0.$$\n\n因此，唯一满足性质 I, II 和 III 的序列是选项 A。", "answer": "$$\\boxed{A}$$", "id": "1408752"}, {"introduction": "理解了一致可积性为何重要之后，我们来探讨在何种条件下这一性质可以被保持。本练习 [@problem_id:1463972] 考察了一个函数族 $\\{f_n\\}$ 在取倒数后，其倒数序列 $\\{1/f_n\\}$ 保持一致可积性的充分条件。这促使我们思考问题的另一面：一致可积性不仅要控制函数值过大的情况，有时还需要防止函数值过于接近零，因为这会导致其倒数“爆炸”。", "problem": "考虑定义在区间 $[0, 1]$ 上的一个实值函数族 $\\{f_n\\}_{n \\in \\mathbb{N}}$。该区间赋有标准的勒贝格测度，记为 $\\lambda$。已知函数族 $\\{f_n\\}$ 是一致可积的，并且对于每个 $n \\in \\mathbb{N}$，我们有 $f_n(x)  0$ 对几乎处处的 $x \\in [0, 1]$ 成立。\n\n我们通过取原函数族中每个函数的倒数来定义一个新的函数族 $\\{g_n\\}_{n \\in \\mathbb{N}}$，即 $g_n(x) = 1/f_n(x)$。\n\n如果在函数族 $\\{f_n\\}$ 上施加以下哪个附加条件，足以保证函数族 $\\{g_n\\}$ 在 $[0,1]$ 上也是一致可积的？\n\nA. 函数 $f_n$ 是一致有界的，即存在一个常数 $M  0$ 使得对所有的 $n$ 和几乎处处的 $x \\in [0,1]$，都有 $f_n(x) \\le M$。\n\nB. 积分序列 $\\int_0^1 f_n(x) \\, d\\lambda$ 当 $n \\to \\infty$ 时收敛到一个非零极限。\n\nC. 存在一个常数 $c  0$ 使得对所有的 $n$，都有 $f_n(x) \\ge c$ 对几乎处处的 $x \\in [0,1]$ 成立。\n\nD. 对每个 $x \\in [0,1]$，数值序列 $\\{f_n(x)\\}_{n \\in \\mathbb{N}}$ 是非减的。\n\nE. 函数 $f_n$ 在 $[0,1]$ 上是连续的。", "solution": "在有限测度空间上的一致可积性可以通过等度可积性来刻画：一个函数族 $\\{h_{n}\\}$ 是一致可积的，当且仅当对每个 $\\varepsilon0$，存在一个 $\\delta0$ 使得对每个满足 $\\lambda(A)  \\delta$ 的可测集 $A$，有\n$$\n\\sup_{n}\\int_{A}|h_{n}|\\,d\\lambda  \\varepsilon.\n$$\n等价地，de la Vallée-Poussin 尾部条件成立：\n$$\n\\lim_{K\\to\\infty}\\sup_{n}\\int_{\\{|h_{n}|K\\}}|h_{n}|\\,d\\lambda=0.\n$$\n\n假设条件 C 成立：存在 $c0$ 使得对所有 $n$，有 $f_{n}(x)\\ge c$ 对几乎处处的 $x\\in[0,1]$ 成立。那么对所有 $n$ 和几乎处处的 $x$，\n$$\n0  g_n(x) = \\frac{1}{f_n(x)} \\le \\frac{1}{c}.\n$$\n这意味着函数族 $\\{g_n\\}$ 是一致有界的，即被常数 $1/c$ 所界定。在一个有限测度空间（如 $[0,1]$）上，任何一致有界的函数族都是一致可积的。要看到这一点，对任何 $K > 1/c$，集合 $\\{|g_n| > K\\}$ 是空集，因此尾部积分为零。\n$$\n\\lim_{K\\to\\infty}\\sup_{n}\\int_{\\{|g_n| > K\\}}|g_n|\\,d\\lambda = 0.\n$$\n因此，条件 C 足以保证 $\\{g_n\\}$ 是一致可积的。\n\n现在简要说明为什么其他选项不充分：\nA. 如果 $f_n$ 一致有界，比如 $f_n \\le M$，这并不能阻止 $f_n$ 趋于0，从而导致 $g_n = 1/f_n$ 趋于无穷。例如，令 $f_n(x) = 1/n$。这个常数函数族是一致可积的，但 $g_n(x)=n$ 族不是。\nB. 收敛的积分并不能阻止函数在某些小集合上取非常小的值。\nD. 非减序列 $f_n(x)$ 同样可能趋于无穷，这会导致 $g_n(x)$ 趋于0，使其一致可积，但这并非保证。反之，如果 $f_n$ 从非常小的值开始增长，则 $g_n$ 可能不是一致可积的。这个条件本身不足以控制 $g_n$ 的行为。\nE. 连续性不提供关于函数值大小的一致界限。例如，令 $f_n(x) = x + 1/n$。该族是一致可积的，但 $g_n(x) = 1/(x+1/n)$ 在 $x$ 接近0时会变得任意大，并且该族不是一致可积的。", "answer": "$$\\boxed{C}$$", "id": "1463972"}, {"introduction": "在前两个练习的基础上，我们进一步探究一致可积序列的代数结构。虽然两个一致可积序列的和仍然是一致可积的，但它们的乘积是否也具有相同的性质呢？本练习 [@problem_id:1464004] 要求我们构建一个反例，证明一致可积函数族构成一个向量空间，但并非一个代数。通过这个实践，我们将加深对这一重要函数类结构特性的理解。", "problem": "设 $(\\Omega, \\mathcal{F}, \\mu)$ 为测度空间 $([0,1], \\mathcal{B}([0,1]), \\lambda)$，其中 $\\mathcal{B}([0,1])$ 是区间 $[0,1]$ 上的 Borel σ-代数，$\\lambda$ 是 Lebesgue 测度。\n\n此空间上的一个实值可积函数序列 $\\{f_n\\}_{n=1}^{\\infty}$ 称为**一致可积的** (uniformly integrable)，如果对于任意 $\\epsilon  0$，存在一个 $K  0$ 使得\n$$ \\sup_{n \\ge 1} \\int_{\\{x \\in [0,1] \\,:\\, |f_n(x)|  K\\}} |f_n(x)| \\, d\\lambda  \\epsilon $$\n这是一个已知的性质：如果序列 $\\{f_n\\}$ 和 $\\{g_n\\}$ 是一致可积的，那么它们的和 $\\{f_n+g_n\\}$ 也是一致可积的。然而，对于它们的逐点乘积 $\\{f_n g_n\\}$，这个性质不一定成立。\n\n你的任务是找出一对序列 $(\\{f_n\\}_{n=1}^{\\infty}, \\{g_n\\}_{n=1}^{\\infty})$，它能作为“两个一致可积序列的逐点乘积总是一致可积的”这一论断的反例。也就是说，你必须找到一个选项，其中 $\\{f_n\\}$ 和 $\\{g_n\\}$ 都是一致可积的，但它们的乘积序列 $\\{f_n g_n\\}$ 不是一致可积的。\n\n对于集合 $A \\subseteq [0,1]$，令 $\\mathbb{1}_A(x)$ 表示示性函数，当 $x \\in A$ 时其值为 $1$，否则为 $0$。\n\n下列哪对序列提供了这样一个反例？\n\nA. $f_n(x) = \\sqrt{n} \\cdot \\mathbb{1}_{[0, 1/n]}(x)$ 和 $g_n(x) = \\sqrt{n} \\cdot \\mathbb{1}_{[0, 1/n]}(x)$\n\nB. $f_n(x) = \\mathbb{1}_{[0, 1]}(x)$ 和 $g_n(x) = \\mathbb{1}_{[0, 1/n]}(x)$\n\nC. $f_n(x) = n \\cdot \\mathbb{1}_{[0, 1/n]}(x)$ 和 $g_n(x) = \\mathbb{1}_{[0, 1]}(x)$\n\nD. $f_n(x) = x + \\frac{1}{n}$ 和 $g_n(x) = x^2$", "solution": "考虑选项 A，其中 $f_{n}(x)=\\sqrt{n}\\,\\mathbb{1}_{[0,1/n]}(x)$ 和 $g_{n}(x)=\\sqrt{n}\\,\\mathbb{1}_{[0,1/n]}(x)$。首先，验证可积性：对于每个 $n$，\n$$\n\\int_{0}^{1}|f_{n}(x)|\\,d\\lambda=\\int_{0}^{1/n}\\sqrt{n}\\,d\\lambda=\\sqrt{n}\\cdot\\frac{1}{n}=n^{-1/2}  \\infty,\n$$\n对 $g_{n}$ 也同样成立。\n\n为了证明 $\\{f_{n}\\}$ 是一致可积的，固定 $K0$ 并计算尾部积分\n$$\n\\int_{\\{|f_{n}|>K\\}}|f_{n}|\\,d\\lambda=\n\\begin{cases}\n\\displaystyle \\int_{0}^{1/n}\\sqrt{n}\\,d\\lambda=n^{-1/2},  \\text{当 } \\sqrt{n}>K \\text{ 时} \\\\\n0,  \\text{当 } \\sqrt{n}\\leq K \\text{ 时}\n\\end{cases}\n$$\n如果 $\\sqrt{n}>K$，那么 $n^{-1/2}  1/K$，所以对于每个 $n$，\n$$\n\\int_{\\{|f_{n}|>K\\}}|f_{n}|\\,d\\lambda\\leq \\frac{1}{K}.\n$$\n对 $n$ 取上确界得到\n$$\n\\sup_{n\\geq 1}\\int_{\\{|f_{n}|>K\\}}|f_{n}|\\,d\\lambda\\leq \\frac{1}{K}.\n$$\n给定任意 $\\epsilon0$，选择 $K1/\\epsilon$ 可保证 $\\sup_{n}\\int_{\\{|f_{n}|>K\\}}|f_{n}|\\,d\\lambda  \\epsilon$，因此 $\\{f_{n}\\}$ 是一致可积的。因为 $g_{n}=f_{n}$，同样的论证也适用于 $\\{g_{n}\\}$。\n\n现在考虑乘积 $h_{n}=f_{n}g_{n}=n\\,\\mathbb{1}_{[0,1/n]}$。对于 $K0$ 和任何满足 $nK$ 的 $n$，在 $[0,1/n]$ 上有 $|h_{n}(x)|=nK$，因此\n$$\n\\int_{\\{|h_{n}|K\\}}|h_{n}|\\,d\\lambda=\\int_{0}^{1/n}n\\,d\\lambda=1.\n$$\n因此，\n$$\n\\sup_{n\\geq 1}\\int_{\\{|h_{n}|K\\}}|h_{n}|\\,d\\lambda\\geq 1\n$$\n对于每个 $K0$ 都成立，这意味着不存在 $K$ 能使得这个上确界小于任何 $\\epsilon  1$。所以 $\\{h_{n}\\}$ 不是一致可积的。\n\n为了完整起见，其他选项不提供反例：在 B 中，两个序列都是一致可积的，其乘积等于 $g_{n}$，而它是一致可积的；在 C 中，$\\{f_{n}\\}$ 本身就不是一致可积的；在 D 中，所有函数都是有界的，因此所有三个序列都是一致可积的。所以，只有选项 A 提供了所要求的反例。", "answer": "$$\\boxed{A}$$", "id": "1464004"}]}