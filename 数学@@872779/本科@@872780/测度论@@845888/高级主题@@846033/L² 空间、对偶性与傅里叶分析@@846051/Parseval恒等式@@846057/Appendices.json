{"hands_on_practices": [{"introduction": "帕斯瓦尔恒等式本质上是无限维空间中的勾股定理。为了建立直观理解，我们从最简单的情形入手：一个由有限个正交基函数（即三角多项式）构成的函数。通过这个练习 [@problem_id:1874508]，我们将直接验证函数的“能量”（其平方的积分）等于其“投影”（傅里叶系数）的平方和，从而体会该恒等式是如何源于基函数的正交性的。", "problem": "考虑定义在区间 $[-\\pi, \\pi]$ 上的实值函数 $f(x)$ 为\n$$f(x) = c_0 + c_k \\cos(kx) + s_m \\sin(mx)$$\n其中参数给定为 $c_0 = 4$，$c_k = -2$，$s_m = 5$，且整数 $k=3$ 和 $m=1$。\n\n您的任务是计算由以下积分定义的量 $V$ 的值：\n$$V = \\frac{1}{\\pi} \\int_{-\\pi}^{\\pi} [f(x)]^2 dx$$\n给出 $V$ 的精确数值。", "solution": "我们已知 $f(x) = c_{0} + c_{k}\\cos(kx) + s_{m}\\sin(mx)$，其中 $c_{0}=4$，$c_{k}=-2$，$s_{m}=5$，$k=3$，$m=1$。我们需要计算\n$$\nV = \\frac{1}{\\pi}\\int_{-\\pi}^{\\pi} [f(x)]^{2}\\,dx.\n$$\n首先，展开平方项：\n$$\n[f(x)]^{2} = c_{0}^{2} + 2c_{0}c_{k}\\cos(kx) + 2c_{0}s_{m}\\sin(mx) + c_{k}^{2}\\cos^{2}(kx) + s_{m}^{2}\\sin^{2}(mx) + 2c_{k}s_{m}\\cos(kx)\\sin(mx).\n$$\n在 $[-\\pi,\\pi]$ 上逐项积分，并利用整数 $k,m$ 在此区间上的标准正交性：\n- $\\int_{-\\pi}^{\\pi} 1\\,dx = 2\\pi$。\n- 对于任意非零整数 $n$，$\\int_{-\\pi}^{\\pi} \\cos(nx)\\,dx = 0$ 且 $\\int_{-\\pi}^{\\pi} \\sin(nx)\\,dx = 0$。\n- 对于任意非零整数 $n$，$\\int_{-\\pi}^{\\pi} \\cos^{2}(nx)\\,dx = \\pi$ 且 $\\int_{-\\pi}^{\\pi} \\sin^{2}(nx)\\,dx = \\pi$。\n- 对于任意整数 $m,n$，$\\int_{-\\pi}^{\\pi} \\cos(nx)\\sin(mx)\\,dx = 0$。\n\n应用这些性质，\n$$\n\\int_{-\\pi}^{\\pi} [f(x)]^{2}\\,dx = c_{0}^{2}(2\\pi) + c_{k}^{2}(\\pi) + s_{m}^{2}(\\pi).\n$$\n代入给定值 $c_{0}=4$，$c_{k}=-2$，$s_{m}=5$：\n$$\n\\int_{-\\pi}^{\\pi} [f(x)]^{2}\\,dx = 2\\pi\\cdot 4^{2} + \\pi\\cdot (-2)^{2} + \\pi\\cdot 5^{2} = 2\\pi\\cdot 16 + \\pi\\cdot 4 + \\pi\\cdot 25 = 32\\pi + 4\\pi + 25\\pi = 61\\pi.\n$$\n因此，\n$$\nV = \\frac{1}{\\pi}\\cdot 61\\pi = 61.\n$$", "answer": "$$\\boxed{61}$$", "id": "1874508"}, {"introduction": "在验证了基本情况后，让我们来看一个帕斯瓦尔恒等式的经典应用。它最引人注目的用途之一是计算一些看似棘手的无穷级数的和。通过选择一个简单的函数（如多项式）并计算其傅里叶级数，我们可以利用该恒等式，将函数易于计算的能量与其系数构成的级数联系起来。这个练习 [@problem_id:1874509] 让你逆向思考：找到一个合适的函数，其傅里叶系数可以用来求解著名的级数 $\\sum_{n=1}^{\\infty} \\frac{1}{n^4}$。", "problem": "对于定义在区间 $[-\\pi, \\pi]$ 上的实值函数 $f(x)$，帕塞瓦尔恒等式（Parseval's identity）将其函数的平方的积分与其傅里叶系数的平方和联系起来：\n$$\n\\frac{1}{\\pi} \\int_{-\\pi}^{\\pi} [f(x)]^2 dx = \\frac{a_0^2}{2} + \\sum_{n=1}^\\infty (a_n^2 + b_n^2)\n$$\n其中，对于 $n \\ge 1$，$a_n$ 和 $b_n$ 分别是傅里叶余弦和正弦系数，$a_0$ 是常数项系数。这个恒等式是计算某些无穷级数和的有力工具。\n\n你的任务是确定下列哪个基本多项式函数，当考虑其在区间 $[-\\pi, \\pi]$ 上的傅里叶级数时，可以与帕塞瓦尔恒等式一起使用，以推导出级数 $\\sum_{n=1}^\\infty \\frac{1}{n^4}$ 的和。\n\n从以下选项中选择所有有效的函数。\n\nA. $f(x) = \\pi x$\n\nB. $f(x) = x^2$\n\nC. $f(x) = x^3 - \\pi^2 x$\n\nD. $f(x) = x^4$\n\nE. $f(x) = 3x^2 - \\pi^2$", "solution": "我们回顾在 $[-\\pi,\\pi]$ 上的实数傅里叶系数：\n$$\na_{n}=\\frac{1}{\\pi}\\int_{-\\pi}^{\\pi}f(x)\\cos(nx)\\,dx,\\quad\nb_{n}=\\frac{1}{\\pi}\\int_{-\\pi}^{\\pi}f(x)\\sin(nx)\\,dx,\\quad\na_{0}=\\frac{1}{\\pi}\\int_{-\\pi}^{\\pi}f(x)\\,dx.\n$$\n帕塞瓦尔恒等式是\n$$\n\\frac{1}{\\pi}\\int_{-\\pi}^{\\pi}f(x)^{2}\\,dx=\\frac{a_{0}^{2}}{2}+\\sum_{n=1}^{\\infty}\\bigl(a_{n}^{2}+b_{n}^{2}\\bigr).\n$$\n要直接从帕塞瓦尔恒等式推导出 $\\sum_{n=1}^{\\infty}\\frac{1}{n^{4}}$，我们需要对于 $n\\geq 1$ 的非零傅里叶系数与 $\\frac{1}{n^{2}}$ 成正比（可能带有交错符号），这样它们的平方和就是一个 $\\sum_{n=1}^{\\infty}\\frac{1}{n^{4}}$ 的常数倍，而不会引入 $n$ 的其他幂次。\n\n分析每个选项。\n\nA. $f(x)=\\pi x$ 是奇函数，所以 $a_{n}=0$ 且\n$$\nb_{n}=\\frac{2}{\\pi}\\int_{0}^{\\pi}\\pi x\\sin(nx)\\,dx=2\\int_{0}^{\\pi}x\\sin(nx)\\,dx.\n$$\n使用分部积分：$\\int_{0}^{\\pi}x\\sin(nx)\\,dx=\\Bigl[-\\frac{x\\cos(nx)}{n}+\\frac{\\sin(nx)}{n^{2}}\\Bigr]_{0}^{\\pi}=-\\frac{\\pi\\cos(n\\pi)}{n}.$\n因此\n$$\nb_{n}=-\\frac{2\\pi(-1)^{n}}{n},\n$$\n它与 $\\frac{1}{n}$ 成正比，所以 $\\sum b_{n}^{2}$ 产生 $\\sum \\frac{1}{n^{2}}$，而不是 $\\sum \\frac{1}{n^{4}}$。因此 A 不适用。\n\nB. $f(x)=x^{2}$ 是偶函数，所以 $b_{n}=0$ 且\n$$\na_{n}=\\frac{2}{\\pi}\\int_{0}^{\\pi}x^{2}\\cos(nx)\\,dx.\n$$\n通过两次分部积分计算 $I_{n}=\\int_{0}^{\\pi}x^{2}\\cos(nx)\\,dx$。首先，\n$$\nI_{n}=\\Bigl.\\frac{x^{2}\\sin(nx)}{n}\\Bigr|_{0}^{\\pi}-\\frac{2}{n}\\int_{0}^{\\pi}x\\sin(nx)\\,dx=-\\frac{2}{n}\\int_{0}^{\\pi}x\\sin(nx)\\,dx,\n$$\n因为 $\\sin(n\\pi)=0$。使用前面的辅助积分，\n$$\n\\int_{0}^{\\pi}x\\sin(nx)\\,dx=-\\frac{\\pi(-1)^{n}}{n},\n$$\n我们得到\n$$\nI_{n}=\\frac{2\\pi(-1)^{n}}{n^{2}}，\\qquad a_{n}=\\frac{2}{\\pi}I_{n}=\\frac{4(-1)^{n}}{n^{2}}.\n$$\n因此 $a_{n}\\propto \\frac{1}{n^{2}}$ 且 $b_{n}=0$，所以帕塞瓦尔恒等式得出的和仅与 $\\sum \\frac{1}{n^{4}}$ 成正比。因此 B 适用。\n\nC. $f(x)=x^{3}-\\pi^{2}x$ 是奇函数，所以 $a_{n}=0$ 且\n$$\nb_{n}=\\frac{2}{\\pi}\\int_{0}^{\\pi}\\bigl(x^{3}-\\pi^{2}x\\bigr)\\sin(nx)\\,dx.\n$$\n我们计算所需的积分。从上面可知，$\\int_{0}^{\\pi}x\\sin(nx)\\,dx=-\\frac{\\pi(-1)^{n}}{n}$。并且\n$$\n\\int_{0}^{\\pi}x^{3}\\sin(nx)\\,dx=\\Bigl.-\\frac{x^{3}\\cos(nx)}{n}\\Bigr|_{0}^{\\pi}+\\frac{3}{n}\\int_{0}^{\\pi}x^{2}\\cos(nx)\\,dx=-\\frac{\\pi^{3}(-1)^{n}}{n}+\\frac{3}{n}\\cdot\\frac{2\\pi(-1)^{n}}{n^{2}}=-\\frac{\\pi^{3}(-1)^{n}}{n}+\\frac{6\\pi(-1)^{n}}{n^{3}}.\n$$\n因此\n$$\nb_{n}=\\frac{2}{\\pi}\\left(-\\frac{\\pi^{3}(-1)^{n}}{n}+\\frac{6\\pi(-1)^{n}}{n^{3}}+\\frac{\\pi^{3}(-1)^{n}}{n}\\right)=\\frac{12(-1)^{n}}{n^{3}}.\n$$\n因此 $b_{n}\\propto \\frac{1}{n^{3}}$，所以 $\\sum b_{n}^{2}$ 得到 $\\sum \\frac{1}{n^{6}}$，而不是 $\\sum \\frac{1}{n^{4}}$。因此 C 不适用。\n\nD. $f(x)=x^{4}$ 是偶函数，所以 $b_{n}=0$ 且\n$$\na_{n}=\\frac{2}{\\pi}\\int_{0}^{\\pi}x^{4}\\cos(nx)\\,dx.\n$$\n对 $J_{n}=\\int_{0}^{\\pi}x^{4}\\cos(nx)\\,dx$ 进行一次分部积分：\n$$\nJ_{n}=\\Bigl.\\frac{x^{4}\\sin(nx)}{n}\\Bigr|_{0}^{\\pi}-\\frac{4}{n}\\int_{0}^{\\pi}x^{3}\\sin(nx)\\,dx=-\\frac{4}{n}\\int_{0}^{\\pi}x^{3}\\sin(nx)\\,dx,\n$$\n因为 $\\sin(n\\pi)=0$。使用前面 $\\int_{0}^{\\pi}x^{3}\\sin(nx)\\,dx$ 的值，\n$$\nJ_{n}=-\\frac{4}{n}\\left(-\\frac{\\pi^{3}(-1)^{n}}{n}+\\frac{6\\pi(-1)^{n}}{n^{3}}\\right)=\\frac{4\\pi^{3}(-1)^{n}}{n^{2}}-\\frac{24\\pi(-1)^{n}}{n^{4}}.\n$$\n因此\n$$\na_{n}=\\frac{2}{\\pi}J_{n}=\\frac{8\\pi^{2}(-1)^{n}}{n^{2}}-\\frac{48(-1)^{n}}{n^{4}}.\n$$\n因此 $a_{n}$ 包含 $\\frac{1}{n^{2}}$ 和 $\\frac{1}{n^{4}}$ 两项，所以 $a_{n}^{2}$ 会涉及 $\\sum \\frac{1}{n^{4}}$、$\\sum \\frac{1}{n^{6}}$ 和 $\\sum \\frac{1}{n^{8}}$ 的和。因此，从 $f(x)=x^{4}$ 得到的单个帕塞瓦尔方程混合了多个未知的 zeta 型级数和，不能直接分离出 $\\sum \\frac{1}{n^{4}}$。因此 D 不适用于直接推导 $\\sum \\frac{1}{n^{4}}$。\n\nE. $f(x)=3x^{2}-\\pi^{2}$ 是偶函数。对于 $n\\geq 1$，常数项对 $a_{n}$ 没有贡献，所以\n$$\na_{n}=3\\cdot\\frac{2}{\\pi}\\int_{0}^{\\pi}x^{2}\\cos(nx)\\,dx=3\\cdot\\frac{4(-1)^{n}}{n^{2}}=\\frac{12(-1)^{n}}{n^{2}},\\qquad b_{n}=0.\n$$\n此外，$a_{0}=\\frac{1}{\\pi}\\int_{-\\pi}^{\\pi}(3x^{2}-\\pi^{2})\\,dx=0$，这消除了帕塞瓦尔恒等式中的 $a_{0}^{2}/2$ 项。因此帕塞瓦尔恒等式产生一个仅与 $\\sum \\frac{1}{n^{4}}$ 成正比的和，这使得 E 适用。\n\n结论：恰好是那些对于 $n\\geq 1$ 的非零傅里叶系数与 $\\frac{1}{n^{2}}$ 成正比（且没有其他幂次）的函数，才能从帕塞瓦尔恒等式直接得到 $\\sum \\frac{1}{n^{4}}$。这些函数是 B 和 E。", "answer": "$$\\boxed{BE}$$", "id": "1874509"}, {"introduction": "最后，我们来展示帕斯瓦尔恒等式的真正普遍性。这个原理不仅限于傅里叶级数中的三角函数，它适用于希尔伯特空间中任何完备的正交基。这个练习 [@problem_id:1434810] 要求你使用一组不同的正交函数——勒让德多项式——来计算一个函数的范数。这表明帕斯瓦尔恒等式是泛函分析中的一个基本概念，它将函数空间的几何结构与其代数表示联系在了一起。", "problem": "考虑实希尔伯特空间 $L^2[-1, 1]$，它是区间 $[-1, 1]$ 上的平方可积函数构成的空间，配备内积 $\\langle f, g \\rangle = \\int_{-1}^{1} f(x)g(x) dx$。该内积导出范数 $\\|f\\| = \\sqrt{\\langle f, f \\rangle}$。\n\n勒让德多项式 $\\{P_n(x)\\}_{n=0}^{\\infty}$ 构成了 $L^2[-1, 1]$ 的一个完备正交基。它们的归一化由以下公式给出：\n$$ \\|P_n\\|^2 = \\int_{-1}^{1} (P_n(x))^2 dx = \\frac{2}{2n+1} $$\n任何函数 $f(x) \\in L^2[-1, 1]$ 都可以用其傅里叶-勒让德级数表示：\n$$ f(x) = \\sum_{n=0}^{\\infty} a_n P_n(x) $$\n其中系数 $a_n$ 计算如下：$a_n = \\frac{\\langle f, P_n \\rangle}{\\|P_n\\|^2}$。对于这个基，帕塞瓦尔恒等式将函数的范数与其展开系数联系起来：\n$$ \\|f\\|^2 = \\sum_{n=0}^{\\infty} a_n^2 \\|P_n\\|^2 $$\n前三个勒让德多项式为：\n$P_0(x) = 1$\n$P_1(x) = x$\n$P_2(x) = \\frac{1}{2}(3x^2 - 1)$\n\n你的任务是计算函数 $f(x) = x^2$ 在空间 $L^2[-1, 1]$ 中的范数。为此，你必须首先确定其傅里叶-勒让德级数展开的系数 $a_n$，然后用这些系数来计算帕塞瓦尔恒等式中的无穷级数。\n\n将范数 $\\|f\\|$ 的最终答案表示为一个精确的解析表达式。", "solution": "问题要求使用帕塞瓦尔恒等式计算函数 $f(x) = x^2$ 在 $L^2[-1, 1]$ 中的范数 $\\|f\\|$。该恒等式为 $\\|f\\|^2 = \\sum_{n=0}^{\\infty} a_n^2 \\|P_n\\|^2$。我们的第一步是求出 $f(x) = x^2$ 的傅里叶-勒让德系数 $a_n$。\n\n系数 $a_n$ 定义为 $a_n = \\frac{\\langle f, P_n \\rangle}{\\|P_n\\|^2} = \\frac{\\int_{-1}^{1} f(x)P_n(x)dx}{\\int_{-1}^{1} (P_n(x))^2 dx}$。使用给定的勒让德多项式范数公式，上式变为：\n$$ a_n = \\frac{2n+1}{2} \\int_{-1}^{1} x^2 P_n(x) dx $$\n\n一个关键的洞见是，由于 $f(x) = x^2$ 是一个2次多项式，它在多项式基 $\\{P_n(x)\\}$（其中 $P_n$ 的次数为 $n$）中的表示必定是一个有限和。具体来说，展开式只能包含到 $P_2(x)$ 为止的项，这意味着对于 $n > 2$，所有系数 $a_n$ 都必须为零。\n\n我们也可以使用奇偶性论证。函数 $f(x) = x^2$ 是一个偶函数。勒让德多项式 $P_n(x)$ 在 $n$ 为偶数时是偶函数，在 $n$ 为奇数时是奇函数。系数 $a_n$ 的被积函数是 $x^2 P_n(x)$。\n- 如果 $n$ 是奇数，$P_n(x)$ 是奇函数，因此被积函数 $x^2 P_n(x)$ 是 (偶) $\\times$ (奇) = 奇。奇函数在对称区间 $[-1, 1]$ 上的积分为零。因此，对于所有奇数 $n$，$a_n = 0$。这意味着 $a_1, a_3, a_5, \\dots$ 都为零。\n\n因此，我们只需要计算 $a_0$ 和 $a_2$。\n\n**方法一：直接积分**\n\n对于 $n=0$：\n$a_0 = \\frac{2(0)+1}{2} \\int_{-1}^{1} x^2 P_0(x) dx = \\frac{1}{2} \\int_{-1}^{1} x^2 (1) dx = \\frac{1}{2} \\left[ \\frac{x^3}{3} \\right]_{-1}^{1} = \\frac{1}{2} \\left( \\frac{1}{3} - \\frac{-1}{3} \\right) = \\frac{1}{2} \\left( \\frac{2}{3} \\right) = \\frac{1}{3}$。\n\n对于 $n=2$：\n$a_2 = \\frac{2(2)+1}{2} \\int_{-1}^{1} x^2 P_2(x) dx = \\frac{5}{2} \\int_{-1}^{1} x^2 \\left( \\frac{1}{2}(3x^2 - 1) \\right) dx = \\frac{5}{4} \\int_{-1}^{1} (3x^4 - x^2) dx$。\n$a_2 = \\frac{5}{4} \\left[ \\frac{3x^5}{5} - \\frac{x^3}{3} \\right]_{-1}^{1} = \\frac{5}{4} \\left[ \\left(\\frac{3}{5} - \\frac{1}{3}\\right) - \\left(-\\frac{3}{5} - (-\\frac{1}{3})\\right) \\right]$。\n$a_2 = \\frac{5}{4} \\left[ 2 \\left(\\frac{3}{5} - \\frac{1}{3}\\right) \\right] = \\frac{5}{2} \\left( \\frac{9-5}{15} \\right) = \\frac{5}{2} \\left( \\frac{4}{15} \\right) = \\frac{2}{3}$。\n\n**方法二：代数重排**\n\n我们可以将 $f(x)=x^2$ 表示为 $P_0(x)$ 和 $P_2(x)$ 的线性组合。\n根据题目陈述，$P_2(x) = \\frac{3}{2}x^2 - \\frac{1}{2}$。整理出 $x^2$：\n$\\frac{3}{2}x^2 = P_2(x) + \\frac{1}{2}$\n$x^2 = \\frac{2}{3}P_2(x) + \\frac{1}{3}$。\n因为 $P_0(x)=1$，我们可以将其写为：\n$x^2 = \\frac{1}{3}P_0(x) + \\frac{2}{3}P_2(x)$。\n通过与一般展开式 $f(x) = \\sum a_n P_n(x)$ 进行比较，我们可以直接确定系数：\n$a_0 = \\frac{1}{3}$，$a_2 = \\frac{2}{3}$，且所有其他系数均为零。这与积分得到的结果相符。\n\n现在我们应用帕塞瓦尔恒等式：\n$\\|f\\|^2 = \\sum_{n=0}^{\\infty} a_n^2 \\|P_n\\|^2$。\n由于只有 $a_0$ 和 $a_2$ 非零，该和变为：\n$\\|f\\|^2 = a_0^2 \\|P_0\\|^2 + a_2^2 \\|P_2\\|^2$。\n\n我们需要范数 $\\|P_0\\|^2$ 和 $\\|P_2\\|^2$：\n$\\|P_0\\|^2 = \\frac{2}{2(0)+1} = 2$。\n$\\|P_2\\|^2 = \\frac{2}{2(2)+1} = \\frac{2}{5}$。\n\n代入系数和范数：\n$\\|f\\|^2 = \\left(\\frac{1}{3}\\right)^2 (2) + \\left(\\frac{2}{3}\\right)^2 \\left(\\frac{2}{5}\\right)$。\n$\\|f\\|^2 = \\frac{1}{9} (2) + \\frac{4}{9} \\left(\\frac{2}{5}\\right) = \\frac{2}{9} + \\frac{8}{45}$。\n为了将这些分数相加，我们找到一个公分母，即 45。\n$\\|f\\|^2 = \\frac{2 \\times 5}{9 \\times 5} + \\frac{8}{45} = \\frac{10}{45} + \\frac{8}{45} = \\frac{18}{45}$。\n化简该分数：\n$\\|f\\|^2 = \\frac{9 \\times 2}{9 \\times 5} = \\frac{2}{5}$。\n\n这是范数的平方值。题目要求的是范数 $\\|f\\|$。\n$\\|f\\| = \\sqrt{\\frac{2}{5}}$。\n\n作为检验，我们可以直接根据其定义计算范数：\n$\\|f\\|^2 = \\int_{-1}^{1} (x^2)^2 dx = \\int_{-1}^{1} x^4 dx = \\left[ \\frac{x^5}{5} \\right]_{-1}^{1} = \\frac{1}{5} - \\left(-\\frac{1}{5}\\right) = \\frac{2}{5}$。\n结果吻合，证实了我们的计算。", "answer": "$$\\boxed{\\sqrt{\\frac{2}{5}}}$$", "id": "1434810"}]}