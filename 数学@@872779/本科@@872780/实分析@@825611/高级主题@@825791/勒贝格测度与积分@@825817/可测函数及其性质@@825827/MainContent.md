## 引言
在[现代分析学](@entry_id:146248)中，为了将积分的概念从行为良好的[连续函数](@entry_id:137361)推广到更广阔、更不规则的函数类，数学家们发展了[测度论](@entry_id:139744)。然而，并非任何函数都能直接纳入这个强大的框架。一个核心问题随之产生：我们需要函数具备何种“良好”的性质，才能有意义地对其进行“测量”或积分？这个性质，正是“[可测性](@entry_id:199191)”。

本文旨在系统地阐明[可测函数](@entry_id:159040)这一[实分析](@entry_id:137229)中的基石概念。读者将通过三个层层递进的章节，全面掌握可测函数的理论与实践。我们首先将在“原理与机制”一章中，深入探讨可测函数的严格定义、等价判据及其在代数和极限运算下的关键性质。接着，在“应用与跨学科联系”一章中，我们将揭示[可测性](@entry_id:199191)如何成为构建[勒贝格积分](@entry_id:140189)、定义概率论中[随机变量](@entry_id:195330)的理论支柱，并展示其在[微分方程](@entry_id:264184)和[控制论](@entry_id:262536)等领域的深刻影响。最后，“动手实践”部分将提供精选的习题，帮助读者巩固所学知识。

现在，让我们一同开始探索，从根本上理解[可测性](@entry_id:199191)是如何将函数与[测度空间](@entry_id:191702)紧密联系在一起的。

## 原理与机制

在引入了测度和[测度空间](@entry_id:191702)的基本概念之后，我们自然会转向研究定义在这些空间上的函数。然而，并非所有函数都适合测度理论的框架。为了能有意义地对函数进行“积分”，我们需要函数具有某种与测度结构相容的良好性质。这种性质就是**[可测性](@entry_id:199191)**。本章将系统地阐述[可测函数](@entry_id:159040)的定义、核心性质及其构造方式。

### 可测函数的定义

从最根本的层面来看，一个函数的“可测性”是该函数与其定义域和到达域的测度结构之间的一种和谐关系。

假设 $(X, \mathcal{M})$ 和 $(Y, \mathcal{N})$ 是两个[可测空间](@entry_id:189701)，其中 $X$ 和 $Y$ 是集合，而 $\mathcal{M}$ 和 $\mathcal{N}$ 分别是它们上的 $\sigma$-代数。一个函数 $f: X \to Y$ 被称为 **$(\mathcal{M}, \mathcal{N})$-可测的**，如果对于 $\mathcal{N}$ 中的任意一个集合 $B$ (即 $B \in \mathcal{N}$)，它的原像 $f^{-1}(B) = \{x \in X \mid f(x) \in B\}$ 都是 $\mathcal{M}$ 中的一个集合 (即 $f^{-1}(B) \in \mathcal{M}$)。

这个定义虽然普适，但在实际应用中，我们最关心的是实值函数，即到达域为实数集 $\mathbb{R}$ 的函数。对于实值函数，我们通常采用其上的**波莱尔 $\sigma$-代数** $\mathcal{B}(\mathbb{R})$ 作为到达域的 $\sigma$-代数。波莱尔 $\sigma$-代数是包含 $\mathbb{R}$ 中所有开集（或等价地，所有[闭集](@entry_id:136446)）的最小 $\sigma$-代数。

因此，对于一个定义在[可测空间](@entry_id:189701) $(X, \mathcal{M})$ 上的实值函数 $f: X \to \mathbb{R}$，我们称其为**可测的**（或更精确地，**$\mathcal{M}$-可测的**），如果对于每一个波莱尔集 $B \in \mathcal{B}(\mathbb{R})$，其[原像](@entry_id:150899) $f^{-1}(B)$ 都是 $X$ 中的一个可测集，即 $f^{-1}(B) \in \mathcal{M}$。

#### 等价定义

验证所有波莱尔集的[原像](@entry_id:150899)是否可测是一项繁琐的任务。幸运的是，由于 $\sigma$-代数的性质，我们只需验证一个生成 $\mathcal{B}(\mathbb{R})$ 的集合族即可。开区间族 $\{(a, b) \mid a, b \in \mathbb{R}\}$ 是 $\mathcal{B}(\mathbb{R})$ 的一个生成元，但这仍然是一个庞大的集合族。一个更实用、更简洁的判据是，我们只需考虑形如 $(\alpha, \infty)$ 的无穷区间的[原像](@entry_id:150899)。

一个函数 $f: X \to \mathbb{R}$ 是可测的，当且仅当对于任意实数 $\alpha \in \mathbb{R}$，集合 $\{x \in X \mid f(x) > \alpha\}$ 都是可测的（即属于 $\mathcal{M}$）。

这个判据可以有几种等价形式。由于 $\{x \mid f(x) \ge \alpha\} = \bigcap_{n=1}^\infty \{x \mid f(x) > \alpha - \frac{1}{n}\}$，$\{x \mid f(x)  \alpha\} = X \setminus \{x \mid f(x) \ge \alpha\}$，以及 $\{x \mid f(x) \le \alpha\} = X \setminus \{x \mid f(x)  \alpha\}$，因此，以下陈述是等价的：

1.  对任意 $\alpha \in \mathbb{R}$，$\{x \mid f(x)  \alpha\}$ 可测。
2.  对任意 $\alpha \in \mathbb{R}$，$\{x \mid f(x) \ge \alpha\}$ 可测。
3.  对任意 $\alpha \in \mathbb{R}$，$\{x \mid f(x)  \alpha\}$ 可测。
4.  对任意 $\alpha \in \mathbb{R}$，$\{x \mid f(x) \le \alpha\}$ 可测。

我们可以进一步简化这个判据。由于有理数集 $\mathbb{Q}$ 在实数集 $\mathbb{R}$ 中是稠密的，我们实际上只需要对所有有理数进行检验。具体来说，一个函数 $f$ 是可测的，当且仅当对于每一个有理数 $q \in \mathbb{Q}$，集合 $\{x \in X \mid f(x)  q\}$ 都是可测的 [@problem_id:1310522]。其证明思路在于，对于任意实数 $\alpha$，我们可以利用 $\mathbb{Q}$ 的稠密性将集合 $\{x \mid f(x)  \alpha\}$ 表示为可数个[可测集](@entry_id:159173)的并集：
$$
\{x \in X \mid f(x)  \alpha\} = \bigcup_{q \in \mathbb{Q}, q  \alpha} \{x \in X \mid f(x)  q\}
$$
由于 $\sigma$-代数对可数并运算是封闭的，如果所有 $\{x \mid f(x)  q\}$ 都可测，那么上式右侧的集合也是可测的。这个性质极大地简化了证明函数可测性的过程。

### 可测性的基本范例

让我们从一些基础函数入手，来具体理解可测性的概念。

#### [常数函数](@entry_id:152060)
最简单的例子是常数函数。假设 $f: X \to \mathbb{R}$ 定义为 $f(x) = c$ 对所有 $x \in X$ 成立。为了检验其[可测性](@entry_id:199191)，我们考察集合 $S_\alpha = \{x \in X \mid f(x)  \alpha\}$。
- 如果 $\alpha \ge c$，那么不等式 $c  \alpha$ 不成立，所以 $S_\alpha = \emptyset$（[空集](@entry_id:261946)）。
- 如果 $\alpha  c$，那么不等式 $c  \alpha$ 对所有 $x$ 都成立，所以 $S_\alpha = X$（整个空间）。

根据 $\sigma$-代数的定义，$\emptyset$ 和 $X$ 必须是其成员。因此，无论 $\alpha$ 取何值，原像集合总是可测的。结论是，**[常数函数](@entry_id:152060)总是可测的** [@problem_id:1310491]。

#### 特征函数
[特征函数](@entry_id:186820)是连接集合与函数的桥梁。对于一个[可测空间](@entry_id:189701) $(X, \mathcal{M})$ 中的[子集](@entry_id:261956) $A \subseteq X$，其**[特征函数](@entry_id:186820)** $\chi_A: X \to \mathbb{R}$ 定义为：
$$
\chi_A(x) = \begin{cases} 1  \text{if } x \in A \\ 0  \text{if } x \notin A \end{cases}
$$
一个特征函数 $\chi_A$ 是可测的，当且仅当集合 $A$ 本身是可测的。我们可以通过检查原像来证明这一点 [@problem_id:1310493]。对于任意 $\alpha \in \mathbb{R}$：
- 如果 $\alpha \ge 1$，则 $\{x \mid \chi_A(x)  \alpha\} = \emptyset$。
- 如果 $0 \le \alpha  1$，则 $\{x \mid \chi_A(x)  \alpha\} = A$。
- 如果 $\alpha  0$，则 $\{x \mid \chi_A(x)  \alpha\} = X$。
由于 $\emptyset$ 和 $X$ 总是可测的，$\chi_A$ 的[可测性](@entry_id:199191)完全取决于集合 $A$ 是否属于 $\sigma$-代数 $\mathcal{M}$。例如，在 $(\mathbb{R}, \mathcal{B}(\mathbb{R}))$ 中，有理数集 $\mathbb{Q}$ 是一个波莱尔集（因为它是可数个单点集的并，而单点集是[闭集](@entry_id:136446)），因此其[特征函数](@entry_id:186820) $\chi_{\mathbb{Q}}$（即[狄利克雷函数](@entry_id:140770)）是波莱尔可测的。

#### [连续函数](@entry_id:137361)与[病态函数](@entry_id:142184)
可测性与连续性有何关系？一个重要的结论是：**定义在拓扑空间（如 $\mathbb{R}$）上的任何[连续函数](@entry_id:137361)都是波莱尔可测的**。这是因为对于一个[连续函数](@entry_id:137361) $f$，任何开集 $O \subseteq \mathbb{R}$ 的原像 $f^{-1}(O)$ 都是开集。由于波莱尔 $\sigma$-代数 $\mathcal{B}(\mathbb{R})$ 的定义就是包含所有开集，所以 $f^{-1}(O)$ 必然是波莱尔集。既然原像对所有开集都成立，那么对所有波莱尔集也成立。

然而，反之不成立。可测性是一个比连续性弱得多的条件。[狄利克雷函数](@entry_id:140770) $\chi_{\mathbb{Q}}$ 在 $\mathbb{R}$ 上处处不连续，但如我们所见，它是可测的。另一个有趣的例子是函数 $f: \mathbb{R} \to \mathbb{R}$ 定义为 $f(x) = 1-x$ 若 $x \in \mathbb{Q}$，而 $f(x) = x$ 若 $x \notin \mathbb{Q}$。这个函数仅在 $x = \frac{1}{2}$ 处连续（因为 $1-x=x$ 的解是 $x=\frac{1}{2}$），在其他任何点都不连续。然而，它是可测的 [@problem_id:1310510]。我们可以通过[构造法证明](@entry_id:267454)：
$$
f(x) = (1-x)\chi_{\mathbb{Q}}(x) + x \cdot \chi_{\mathbb{R}\setminus\mathbb{Q}}(x)
$$
由于函数 $h_1(x) = 1-x$ 和 $h_2(x) = x$ 都是[连续函数](@entry_id:137361)，因此它们是可测的。集合 $\mathbb{Q}$ 和它的补集 $\mathbb{R}\setminus\mathbb{Q}$ 都是波莱尔集，所以它们的[特征函数](@entry_id:186820) $\chi_{\mathbb{Q}}$ 和 $\chi_{\mathbb{R}\setminus\mathbb{Q}}$ 也是可测的。我们很快会看到，[可测函数](@entry_id:159040)的乘积与和仍然是可测的，因此 $f$ 是可测的。

### 保持可测性的运算

[可测函数](@entry_id:159040)之所以如此重要，部分原因在于它们在常见的数学运算下表现出良好的封闭性。

#### 代数运算
如果 $f$ 和 $g$ 是定义在同一[可测空间](@entry_id:189701) $(X, \mathcal{M})$ 上的两个可测实值函数，并且 $c$ 是一个常数，那么以下函数也都是可测的：
1.  $cf$
2.  $f+g$
3.  $f-g$
4.  $fg$
5.  $f/g$ （假定在 $X$ 上 $g(x) \neq 0$）

以 $f+g$ 为例，其可测性的证明巧妙地利用了有理数的稠密性。要证明 $\{x \mid f(x) + g(x)  \alpha\}$ 是可测的，我们可以观察到 $f(x) + g(x)  \alpha$ 等价于 $f(x)  \alpha - g(x)$。由于 $\mathbb{Q}$ 是稠密的，这又等价于存在一个有理数 $q$ 使得 $f(x)  q  \alpha - g(x)$。因此，我们可以将目标集合写成：
$$
\{x \mid f(x) + g(x)  \alpha\} = \bigcup_{q \in \mathbb{Q}} (\{x \mid f(x)  q\} \cap \{x \mid g(x)  \alpha - q\})
$$
由于 $f$ 和 $g$ 是可测的，上式中每个 $\{x \mid f(x)  q\}$ 和 $\{x \mid g(x)  \alpha - q\}$ 都是可测集。它们的交集是可测的，而整个集合是这些可测集的可数并，因此也是可测的。例如，在问题 [@problem_id:1310493] 中，函数 $h(x) = 2\chi_{[0, \infty)}(x) + 3\chi_{\mathbb{Q}}(x)$ 的[可测性](@entry_id:199191)正是这一性质的直接体现。

#### [函数复合](@entry_id:144881)
[函数复合](@entry_id:144881)的可测性是一个非常强大和有用的结果。
**定理**: 设 $f: (X, \mathcal{M}) \to (\mathbb{R}, \mathcal{B}(\mathbb{R}))$ 是一个[可测函数](@entry_id:159040)，而 $\phi: (\mathbb{R}, \mathcal{B}(\mathbb{R})) \to (\mathbb{R}, \mathcal{B}(\mathbb{R}))$ 是一个波莱尔可测函数。那么[复合函数](@entry_id:147347) $g = \phi \circ f$ 是可测的。

一个重要的特例是，如果 $\phi$ 是一个**[连续函数](@entry_id:137361)**，那么它一定是波莱尔可测的，因此 $\phi \circ f$ 也是可测的。

这个定理的证明十分直接。对于任意波莱尔集 $B \in \mathcal{B}(\mathbb{R})$，我们考察其在 $g$ 下的原像：
$$
g^{-1}(B) = (\phi \circ f)^{-1}(B) = f^{-1}(\phi^{-1}(B))
$$
因为 $\phi$ 是波莱尔可测的，所以 $\phi^{-1}(B)$ 本身就是一个波莱尔集。我们称之为 $B'$。现在问题变为考察 $f^{-1}(B')$。由于 $f$ 是可测的，而 $B'$ 是一个波莱尔集，根据 $f$ 的可测性定义，$f^{-1}(B')$ 必然是 $\mathcal{M}$ 中的一个可测集。这就证明了 $g = \phi \circ f$ 是可测的。

这个性质应用广泛 [@problem_id:1310496]。例如，如果 $f$ 可测：
- 令 $\phi(y) = y^2$，这是一个[连续函数](@entry_id:137361)，因此 $g(x) = f(x)^2$ 是可测的。
- 令 $\phi(y) = \exp(y)$，这是一个[连续函数](@entry_id:137361)，因此 $h(x) = \exp(f(x))$ 是可测的。
- 令 $\phi(y) = |y|$，这是一个[连续函数](@entry_id:137361)，因此 $|f|$ 是可测的。

值得注意的是，要保证复合函数 $\phi \circ f$ 的[可测性](@entry_id:199191)，外层函数 $\phi$ 必须是波莱尔可测的。如果 $\phi$ 不是波莱尔[可测函数](@entry_id:159040)，那么即使内层函数 $f$ 是可测的，[复合函数](@entry_id:147347)也可能不是可测的。例如，令 $f(x)=x$（在 $(\mathbb{R}, \mathcal{B}(\mathbb{R}))$ 上是可测的），并令 $\phi = \chi_A$，其中 $A$ 是一个[非波莱尔集](@entry_id:266490)。那么 $\phi$ 不是波莱尔可测的，并且复合函数 $(\phi \circ f)(x) = \chi_A(x)$ 也不是可测的。这提醒我们，在应用复合性质时，必须仔细核对函数的属性。

#### [函数序列的极限](@entry_id:142182)
测[度理论](@entry_id:636058)的强大之处在于它能优雅地处理极限过程。对于一个[可测函数序列](@entry_id:194460) $\{f_n\}_{n=1}^{\infty}$，其各种极限函数也保持了[可测性](@entry_id:199191)。

**定理**: 设 $\{f_n\}$ 是定义在 $(X, \mathcal{M})$ 上的一个[可测函数序列](@entry_id:194460)。那么，以下函数都是可测的：
1.  $\sup_n f_n$
2.  $\inf_n f_n$
3.  $\limsup_{n \to \infty} f_n$
4.  $\liminf_{n \to \infty} f_n$

如果该序列逐点收敛于一个函数 $f$（即对所有 $x$，$\lim_{n \to \infty} f_n(x) = f(x)$），那么[极限函数](@entry_id:157601) $f$ 也是可测的，因为此时 $f = \limsup f_n = \liminf f_n$。

让我们简要证明关于上确界的结论。对于任意 $\alpha \in \mathbb{R}$，我们有：
$$
\{x \mid \sup_n f_n(x)  \alpha\} = \bigcup_{n=1}^{\infty} \{x \mid f_n(x)  \alpha\}
$$
这个等式成立是因为，如果 $\sup_n f_n(x)  \alpha$，那么必然存在至少一个 $n$ 使得 $f_n(x)  \alpha$。反之亦然。由于每个 $f_n$ 都是可测的，所以每个集合 $\{x \mid f_n(x)  \alpha\}$ 都是可测的。因此，它们的**可数并集**也是可测的。

其他结论可以由此推导出来：$\inf_n f_n = - \sup_n (-f_n)$，而 $\limsup f_n = \inf_k (\sup_{n \ge k} f_n)$。这些都是由[可测函数](@entry_id:159040)通过保持可测性的运算得到的，因此它们本身也是可测的。这些性质是勒贝格积分理论（特别是[单调收敛定理](@entry_id:147772)和[控制收敛定理](@entry_id:137784)）的基石。在具体问题中，如 [@problem_id:1310504] 和 [@problem_id:1310518]，我们正是依赖于 `sup` 和 `limsup` 的[可测性](@entry_id:199191)，才能保证所研究的函数 `g(x)` 是良定义的、可测的，并进而计算其积分或相关集合的测度。

### 可测性、“[几乎处处](@entry_id:146631)”与完备性

在[测度论](@entry_id:139744)中，我们常常不关心发生在测度为零的集合上的行为。如果一个性质在除去一个测度为零的集合之外处处成立，我们就说它**[几乎处处](@entry_id:146631)**（almost everywhere，a.e.）成立。

一个自然的问题是：如果函数 $f$ 是可测的，并且 $g(x) = f(x)$ [几乎处处](@entry_id:146631)成立，那么 $g$ 是否也是可测的？答案是：这取决于我们所处的[测度空间](@entry_id:191702)是否**完备 (complete)**。

一个[测度空间](@entry_id:191702) $(X, \mathcal{M}, \mu)$ 被称为**完备的**，如果 $\mathcal{M}$ 中任何零测度集的所有[子集](@entry_id:261956)也都在 $\mathcal{M}$ 中（因此也是零测度集）。勒贝格测度空间是完备的，但波莱尔[测度空间](@entry_id:191702) $(\mathbb{R}, \mathcal{B}(\mathbb{R}), \lambda)$ 却不是。

如果[测度空间](@entry_id:191702)是完备的，那么问题的答案是肯定的。设 $f$ 可测且 $g=f$ a.e.。令 $E = \{x \mid f(x) \neq g(x)\}$，则 $\mu(E)=0$。对于任意 $\alpha \in \mathbb{R}$，我们有：
$$
\{x \mid g(x)  \alpha\} = (\{x \mid g(x)  \alpha\} \cap E^c) \cup (\{x \mid g(x)  \alpha\} \cap E)
$$
第一个集合是 $\{x \mid f(x)  \alpha\} \cap E^c$，它是两个[可测集](@entry_id:159173)的交，因此是可测的。第二个集合是 $E$ 的一个[子集](@entry_id:261956)。由于空间是完备的且 $\mu(E)=0$，这个[子集](@entry_id:261956)也是可测的。两个[可测集](@entry_id:159173)的并是可测的，故 $g$ 是可测的。

然而，在不完备的空间中，这个结论不成立。问题 [@problem_id:1310498] 提供了一个精妙的例子。康托集 $C$ 是一个测度为零的波莱尔集。存在一个康托集的[子集](@entry_id:261956) $N \subset C$，它**不是**波莱尔集。现在考虑函数 $f_2(x)$，当 $x \in N$ 时为 3，否则为 0。函数 $f_1(x) \equiv 0$ 是一个[可测函数](@entry_id:159040)，且 $f_2 = f_1$ [几乎处处](@entry_id:146631)成立（因为它们仅在[零测集](@entry_id:157694) $N$ 上可能不同）。但是，$f_2$ 却不是波莱尔可测的，因为集合 $\{x \mid f_2(x)  1\} = N$，而 $N$ 不是一个波莱尔集。这个例子清晰地揭示了波莱尔[可测性](@entry_id:199191)与[勒贝格可测](@entry_id:192844)性之间的细微差别，并强调了[测度空间](@entry_id:191702)的完备性是一个多么关键的属性。

最后，值得重申的是，[可测性](@entry_id:199191)是一个依赖于上下文的概念。一个函数本身并非“内在地”可测或不可测；它的[可测性](@entry_id:199191)总是相对于定义域和到达域上选定的 $\sigma$-代数而言的。问题 [@problem_id:1310512] 通过在一个非标准的 $\sigma$-代数（由[可数集](@entry_id:138676)或余[可数集](@entry_id:138676)构成）上考察我们熟悉的函数（如[恒等函数](@entry_id:152136) $g(x)=x$ 和平方函数 $k(x)=x^2$），生动地说明了这一点。在那个特殊的设定下，这些通常被认为是“良好”的函数，甚至都失去了可测性，因为它们的[原像](@entry_id:150899)集（如 $[0,1]$）与那个奇特的 $\sigma$-[代数结构](@entry_id:137052)不相容。这提醒我们，在讨论可测性时，时刻明确底层的测度结构是至关重要的。