{"hands_on_practices": [{"introduction": "我们从一个有趣的思想实验开始。在整数除法中，商和余数通常是不同的，但如果它们恰好相等会怎样？[@problem_id:1829598] 这个练习旨在帮助你熟悉带余除法算法 $a = bq + r$ 中的各个组成部分，并通过一个简单的约束条件来探索它们之间的相互关系。", "problem": "设 $b$ 是一个大于1的固定整数。整数的除法算法指出，对于任意给定的整数 $a$，存在唯一的整数 $q$（商）和 $r$（余数），使得 $a = bq + r$，且满足条件 $0 \\le r < b$。\n\n考虑所有具有特殊性质的整数 $a$ 的集合，这些整数在被 $b$ 除时，其商 $q$ 等于其余数 $r$。求该集合中所有整数之和的封闭形式表达式，用 $b$ 表示。", "solution": "我们从除法算法开始：对于任意整数 $a$ 和固定的整数 $b>1$，存在唯一的整数 $q$ 和 $r$ 使得\n$$\na=bq+r, \\quad 0 \\le r < b.\n$$\n我们关心的是那些商等于余数的整数 $a$，即 $q=r$。将 $r=q$ 代入除法算法的表达式中，得到\n$$\na=bq+q=(b+1)q.\n$$\n约束条件 $0 \\le r < b$ 在 $r=q$ 时变为\n$$\n0 \\le q < b.\n$$\n因此 $q$ 的取值范围是整数集合 $\\{0,1,2,\\dots,b-1\\}$。对于每一个这样的 $q$，对应的整数 $a$ 是\n$$\na=(b+1)q,\n$$\n所以所有这类整数 $a$ 的集合是 $\\{(b+1)q : q=0,1,\\dots,b-1\\}$。\n\n该集合中所有整数的和 $S$ 为\n$$\nS=\\sum_{q=0}^{b-1}(b+1)q=(b+1)\\sum_{q=0}^{b-1}q.\n$$\n使用前 $n$ 个整数求和的标准公式 $\\sum_{k=0}^{n-1}k=\\frac{(n-1)n}{2}$，令 $n=b$，我们得到\n$$\n\\sum_{q=0}^{b-1}q=\\frac{(b-1)b}{2}.\n$$\n因此，\n$$\nS=(b+1)\\cdot \\frac{(b-1)b}{2}=\\frac{b(b-1)(b+1)}{2}.\n$$\n这个表达式就是所有被 $b$ 除时商等于余数的整数 $a$ 之和的所求封闭形式。", "answer": "$$\\boxed{\\frac{b(b-1)(b+1)}{2}}$$", "id": "1829598"}, {"introduction": "现在，我们来探讨一个更深入的概念。对于一个给定的除法 $a \\div b$，我们在被除数 $a$ 上加上一个整数 $k$，在什么条件下商会保持不变？[@problem_id:1829623] 这个练习将引导你认识到，商 $q$ 并非仅对应单个数字 $a$，而是定义了一个完整的整数区间。解决这个问题能够加深你对商的本质及其所代表的数值范围的理解。", "problem": "设 $a$ 为任意整数，$b$ 为正整数。整数的带余除法定理（Division Algorithm）指出，对于任意整数 $x$ 和任意正整数 $y$，存在唯一的整数 $q$ 和 $r$ 使得 $x = yq + r$ 且 $0 \\le r < y$。整数 $q$ 称为 $x$ 除以 $y$ 的商。\n\n设 $S$ 为所有满足以下条件的整数 $k$ 的集合：$(a+k)$ 除以 $b$ 的商等于 $a$ 除以 $b$ 的商。求 $S$ 中元素个数（记作 $|S|$）的一个简单表达式。该表达式可以包含参数 $a$ 和 $b$。", "solution": "设 $b>0$，根据带余除法将 $a$ 写成 $a = bq + r$ 的形式，其中 $q,r \\in \\mathbb{Z}$ 且 $0 \\le r < b$。那么 $q$ 就是 $a$ 除以 $b$ 的商。\n\n一个整数 $k$ 属于 $S$ 当且仅当 $(a+k)$ 除以 $b$ 的商等于 $q$。根据带余除法，这等价于存在一个 $r'$ 满足 $0 \\le r' < b$，使得\n$$\na + k = bq + r'.\n$$\n将 $a = bq + r$ 代入得\n$$\nbq + r + k = bq + r' \\quad \\Longrightarrow \\quad k = r' - r.\n$$\n当 $r'$ 取遍 $b$ 个整数 $\\{0,1,\\dots,b-1\\}$ 时，对应的 $k$ 取遍 $b$ 个连续且互不相同的整数 $\\{-r, -r+1, \\dots, b-1-r\\}$。因此，集合 $S$ 恰好有 $b$ 个元素，与 $a$ 无关。\n\n因此，\n$$\n|S| = b.\n$$", "answer": "$$\\boxed{b}$$", "id": "1829623"}, {"introduction": "最后一个练习将我们引向带余除法的代数性质。如果我们知道两个数各自除以 $b$ 的商和余数，能否确定它们的乘积除以 $b$ 后的商？[@problem_id:1829608] 这个问题揭示了算术运算（如乘法）如何与带余除法相互作用，为理解模算术和商环等更高级的代数结构奠定了重要的基础。", "problem": "设 $a, c$ 为整数， $b$ 为正整数。根据除法算法，当 $a$ 除以 $b$ 时，存在唯一的整数商 $q_a$ 和唯一的整数余数 $r_a$ ，使得 $a = b q_a + r_a$ 且 $0 \\le r_a < b$。类似地，当 $c$ 除以 $b$ 时，我们有 $c = b q_c + r_c$，其中有唯一的整数商 $q_c$ 和唯一的整数余数 $r_c$ 满足 $0 \\le r_c < b$。\n\n考虑乘积 $ac$。当 $ac$ 除以 $b$ 时，也存在唯一的整数商 $Q$ 和唯一的整数余数 $R$，使得 $ac = b Q + R$ 且 $0 \\le R < b$。\n\n你的任务是找出一个关于商 $Q$ 的表达式。该表达式必须只用 $b, q_a, r_a, q_c,$ 和 $r_c$ 来表示。你可以在表达式中使用标准的数学函数，例如用 $\\lfloor x \\rfloor$ 表示的向下取整函数，它给出小于或等于 $x$ 的最大整数。", "solution": "根据除法算法，我们有：\n$$a = b q_a + r_a, \\quad 0 \\le r_a < b$$\n$$c = b q_c + r_c, \\quad 0 \\le r_c < b$$\n\n我们将这两个表达式相乘来得到 $ac$ 的表达式：\n$$ac = (b q_a + r_a)(b q_c + r_c)$$\n$$ac = b^2 q_a q_c + b q_a r_c + b q_c r_a + r_a r_c$$\n\n我们可以从前三项中提出因子 $b$：\n$$ac = b(b q_a q_c + q_a r_c + q_c r_a) + r_a r_c$$\n\n这个表达式已经很接近 $ac = bQ+R$ 的形式了，但是项 $r_a r_c$ 不一定是合法的余数，因为它可能大于或等于 $b$。为了解决这个问题，我们对 $r_a r_c$ 再次应用除法算法，将其除以 $b$：\n$$r_a r_c = b \\cdot q' + R$$\n根据除法算法，这里的商 $q'$ 和余数 $R$ 是唯一的，且 $0 \\le R < b$。利用底函数，我们可以明确地写出 $q'$：\n$$q' = \\left\\lfloor \\frac{r_a r_c}{b} \\right\\rfloor$$\n\n现在，我们将 $r_a r_c$ 的这个表达式代回到 $ac$ 的方程中：\n$$ac = b(b q_a q_c + q_a r_c + q_c r_a) + \\left(b \\left\\lfloor \\frac{r_a r_c}{b} \\right\\rfloor + R\\right)$$\n\n最后，我们重新组合各项，将所有 $b$ 的倍数归到一起：\n$$ac = b \\left(b q_a q_c + q_a r_c + q_c r_a + \\left\\lfloor \\frac{r_a r_c}{b} \\right\\rfloor\\right) + R$$\n\n这个表达式现在精确地匹配了除法算法的形式 $ac = bQ + R$，其中 $0 \\le R < b$。通过比较，我们可以确定商 $Q$ 为：\n$$Q = b q_a q_c + q_a r_c + q_c r_a + \\left\\lfloor \\frac{r_a r_c}{b} \\right\\rfloor$$", "answer": "$$\\boxed{b q_{a} q_{c}+q_{a} r_{c}+q_{c} r_{a}+\\left\\lfloor\\frac{r_{a} r_{c}}{b}\\right\\rfloor}$$", "id": "1829608"}]}