{"hands_on_practices": [{"introduction": "奇偶性虽然是一个简单的概念，但它可以揭示数列的深层属性。这个练习将探讨整数 $\\frac{n(n-1)}{2}$（即二项式系数 $\\binom{n}{2}$）的奇偶性，并展示它如何由整数 $n$ 的二进制表示优雅地决定。这项实践旨在提高你在模算术方面的技能，并将其与整数的基本结构联系起来。通过分析 $n$ 除以 $4$ 的余数，你将发现奇偶性与 $n$ 的二进制位之间的深刻联系 [@problem_id:3087919]。", "problem": "设 $n$ 为任意整数。回忆一下，一个整数 $m$ 的奇偶性由 $m \\bmod 2$ 决定，若 $m$ 为偶数则其值为 $0$，若 $m$ 为奇数则其值为 $1$。考虑整数 $\\dfrac{n(n-1)}{2}$，这个表达式是良定义的，因为 $n(n-1)$ 总是能被 $2$ 整除。仅使用关于奇偶性、整除性和整数的二进制（以2为底）表示的基本事实，分析 $n$ 的最低两位二进制数，以确定 $\\dfrac{n(n-1)}{2}$ 的奇偶性。\n\n形式上，将 $n$ 的最低两位二进制数记为 $b_{0}$ 和 $b_{1}$，其中 $b_{0}, b_{1} \\in \\{0,1\\}$ 且 $n \\equiv b_{0} + 2 b_{1} \\pmod{4}$。从奇偶性和同余的基本性质出发，推导一个仅用 $n$ 表示的闭式表达式（不显式包含 $b_{0}$ 或 $b_{1}$），当 $\\dfrac{n(n-1)}{2}$ 为偶数时其值为 $0$，当 $\\dfrac{n(n-1)}{2}$ 为奇数时其值为 $1$。\n\n请用一个仅含 $n$ 的、只使用整数部分（向下取整）函数和标准算术运算的单一精确解析表达式给出你的最终答案。不要分情况给出分段答案，最终表达式中不要使用模运算符号。不需要四舍五入，也不涉及单位。", "solution": "该问题是有效的，因为它是一个初等数论中的良构问题，基于已建立的数学原理，没有歧义或矛盾。\n\n设所讨论的整数为 $T(n) = \\dfrac{n(n-1)}{2}$。我们的任务是找到一个表示 $T(n)$ 奇偶性的表达式，这等价于计算 $T(n) \\pmod{2}$。该表达式必须是一个仅使用向下取整函数和标准算术运算的关于 $n$ 的闭式函数。\n\n一个整数表达式模某个数的行为通常取决于输入整数模另一个数的值。由于表达式涉及除以 $2$，而我们关心的是结果的奇偶性（又一次除以 $2$），因此很自然地需要根据 $n$ 模 $4$ 的值来研究 $T(n)$ 的性质。使用 $n$ 的最低两位二进制数的提示也暗示了这一点，因为 $n$ 模 $4$ 的值完全由这两位数字确定。一个整数 $n$ 可以写成 $n = 4q + r$ 的形式，其中 $q$ 是一个整数，$r \\in \\{0, 1, 2, 3\\}$。\n\n我们针对余数 $r$ 的四种可能情况，分析 $T(n)$ 的奇偶性。\n\n情况 1：$n \\equiv 0 \\pmod{4}$。\n设 $n = 4k$，其中 $k$ 为某个整数。\n$$ T(n) = \\frac{(4k)(4k-1)}{2} = 2k(4k-1) $$\n由于 $k$ 和 $4k-1$ 都是整数，所以 $T(n)$ 是 $2$ 的整数倍。因此，$T(n)$ 是偶数。\n$$ T(n) \\equiv 0 \\pmod{2} $$\n\n情况 2：$n \\equiv 1 \\pmod{4}$。\n设 $n = 4k+1$，其中 $k$ 为某个整数。\n$$ T(n) = \\frac{(4k+1)(4k+1-1)}{2} = \\frac{(4k+1)(4k)}{2} = (4k+1)(2k) $$\n同样，$T(n)$ 是 $2$ 的整数倍，所以 $T(n)$ 是偶数。\n$$ T(n) \\equiv 0 \\pmod{2} $$\n\n情况 3：$n \\equiv 2 \\pmod{4}$。\n设 $n = 4k+2$，其中 $k$ 为某个整数。\n$$ T(n) = \\frac{(4k+2)(4k+2-1)}{2} = \\frac{2(2k+1)(4k+1)}{2} = (2k+1)(4k+1) $$\n对于任意整数 $k$，项 $2k+1$ 是奇数。项 $4k+1$ 也是奇数。两个奇数的乘积总是奇数。因此，$T(n)$ 是奇数。\n$$ T(n) \\equiv 1 \\pmod{2} $$\n\n情况 4：$n \\equiv 3 \\pmod{4}$。\n设 $n = 4k+3$，其中 $k$ 为某个整数。\n$$ T(n) = \\frac{(4k+3)(4k+3-1)}{2} = \\frac{(4k+3)(4k+2)}{2} = \\frac{(4k+3)2(2k+1)}{2} = (4k+3)(2k+1) $$\n对于任意整数 $k$，项 $4k+3$ 和 $2k+1$ 都是奇数。它们的乘积是奇数。因此，$T(n)$ 是奇数。\n$$ T(n) \\equiv 1 \\pmod{2} $$\n\n总结 $T(n)$ 的奇偶性结果：\n若 $n \\equiv 0 \\pmod{4}$，奇偶性为 $0$。\n若 $n \\equiv 1 \\pmod{4}$，奇偶性为 $0$。\n若 $n \\equiv 2 \\pmod{4}$，奇偶性为 $1$。\n若 $n \\equiv 3 \\pmod{4}$，奇偶性为 $1$。\n\n问题指明 $n$ 的最低两位二进制数是 $b_0$ 和 $b_1$，使得 $n \\equiv b_0 + 2b_1 \\pmod{4}$。\n让我们将我们的案例分析与 $b_1$ 的值进行比较：\n若 $n \\equiv 0 \\pmod{4}$，则 $b_0=0, b_1=0$。奇偶性为 $0$，等于 $b_1$。\n若 $n \\equiv 1 \\pmod{4}$，则 $b_0=1, b_1=0$。奇偶性为 $0$，等于 $b_1$。\n若 $n \\equiv 2 \\pmod{4}$，则 $b_0=0, b_1=1$。奇偶性为 $1$，等于 $b_1$。\n若 $n \\equiv 3 \\pmod{4}$，则 $b_0=1, b_1=1$。奇偶性为 $1$，等于 $b_1$。\n在所有情况下，$\\dfrac{n(n-1)}{2}$ 的奇偶性都等于 $b_1$，即 $n$ 的二进制表示中的倒数第二位。\n\n最后一步是找到一个仅使用向下取整函数和算术运算的关于 $n$ 的 $b_1$ 的闭式表达式。\n设 $n$ 的二进制表示为 $n = \\sum_{i=0}^k c_i 2^i = c_0 + 2c_1 + 4c_2 + \\dots$。这里，$c_0=b_0$ 且 $c_1=b_1$。\n考虑将 $n$ 作整数除法除以 $2$ 的运算，这等价于一次右移位操作。\n$$ \\lfloor \\frac{n}{2} \\rfloor = \\lfloor \\frac{c_0 + 2c_1 + 4c_2 + \\dots}{2} \\rfloor = \\lfloor \\frac{c_0}{2} + c_1 + 2c_2 + \\dots \\rfloor $$\n由于 $c_0 \\in \\{0, 1\\}$，我们有 $\\lfloor \\frac{c_0}{2} \\rfloor = 0$。\n$$ \\lfloor \\frac{n}{2} \\rfloor = c_1 + 2c_2 + 4c_3 + \\dots $$\n整数 $\\lfloor \\frac{n}{2} \\rfloor$ 的最低有效位是 $c_1$，即 $b_1$。\n一个整数 $k$ 的奇偶性由 $k \\pmod{2}$ 给出。一个使用向下取整函数表示 $k \\pmod{2}$ 的表达式是 $k - 2\\lfloor \\frac{k}{2} \\rfloor$。\n我们寻求 $\\lfloor \\frac{n}{2} \\rfloor$ 的奇偶性，因此可以令 $k = \\lfloor \\frac{n}{2} \\rfloor$。所求的表达式是：\n$$ \\lfloor \\frac{n}{2} \\rfloor - 2\\left\\lfloor \\frac{\\lfloor \\frac{n}{2} \\rfloor}{2} \\right\\rfloor $$\n我们可以使用恒等式 $\\lfloor \\frac{\\lfloor x \\rfloor}{m} \\rfloor = \\lfloor \\frac{x}{m} \\rfloor$ 来简化嵌套的向下取整函数项，该恒等式对任意实数 $x$ 和整数 $m$ 成立。具体来说，对于 $x=n/2$ 和 $m=2$，我们有：\n$$ \\left\\lfloor \\frac{\\lfloor \\frac{n}{2} \\rfloor}{2} \\right\\rfloor = \\left\\lfloor \\frac{\\frac{n}{2}}{2} \\right\\rfloor = \\lfloor \\frac{n}{4} \\rfloor $$\n将此代回，我们得到 $\\dfrac{n(n-1)}{2}$ 的奇偶性的最终闭式表达式：\n$$ \\lfloor \\frac{n}{2} \\rfloor - 2\\lfloor \\frac{n}{4} \\rfloor $$\n这个表达式分离出了比特位 $b_1$，我们已经证明它等于给定量的奇偶性。它遵守了问题陈述中指定的所有约束条件。", "answer": "$$ \\boxed{\\left\\lfloor \\frac{n}{2} \\right\\rfloor - 2\\left\\lfloor \\frac{n}{4} \\right\\rfloor} $$", "id": "3087919"}, {"introduction": "我们可以将奇偶性的概念进行推广。与其仅仅询问一个数是否能被 $2$ 整除，我们可以问它包含了多少个因子 $2$。这个练习引入了 $2$-adic 赋值（$\\nu_2(m)$）的概念，并将其应用于确定在组合数学中至关重要的二项式系数的奇偶性。你将使用勒让德公式 (Legendre's Formula)，这是一个用于分析阶乘素因数分解的强大工具，来精确计算一个大的二项式系数中因子 $2$ 的数量 [@problem_id:3087926]。", "problem": "令 $\\nu_2(m)$ 表示整除整数$m$的$2$的最高次幂的指数，即 $2^{\\nu_2(m)} \\mid m$ 且 $2^{\\nu_2(m)+1} \\nmid m$。考虑二项式系数 $\\binom{n}{k}$，其中$n$和$k$为正整数。利用奇偶性的基本定义以及通过阶乘中因子2的个数来表征 $\\nu_2$ 的方法，计算 $\\nu_2\\left(\\binom{1000}{250}\\right)$ 的精确值。将最终答案表示为一个无四舍五入的整数。", "solution": "所述问题具有科学依据，提法恰当，客观，并包含足够信息以得到唯一解。这是数论基本原理的直接应用。因此，将提供一个解答。\n\n量 $\\nu_2(m)$ 代表整数$m$的素因数分解中$2$的最高次幂的指数。这也被称为$m$的$2$-adic赋值。我们需要计算 $\\nu_2\\left(\\binom{1000}{250}\\right)$。\n\n二项式系数 $\\binom{n}{k}$ 对整数$n$和$k$（其中 $n \\geq k \\geq 0$）定义为 $\\frac{n!}{k!(n-k)!}$。\n对于给定的具体情况，我们有 $n=1000$ 和 $k=250$。\n$$ \\binom{1000}{250} = \\frac{1000!}{250!(1000-250)!} = \\frac{1000!}{250! \\cdot 750!} $$\n$p$-adic赋值函数 $\\nu_p$ 具有性质 $\\nu_p(ab) = \\nu_p(a) + \\nu_p(b)$ 和 $\\nu_p(a/b) = \\nu_p(a) - \\nu_p(b)$。将此应用于二项式系数，我们可以写出：\n$$ \\nu_2\\left(\\binom{1000}{250}\\right) = \\nu_2(1000!) - \\nu_2(250!) - \\nu_2(750!) $$\n此问题的核心在于计算阶乘的$2$-adic赋值，即 $\\nu_2(m!)$。为此，我们使用勒让德公式，该公式指出，对于任何素数$p$和正整数$m$：\n$$ \\nu_p(m!) = \\sum_{i=1}^{\\infty} \\left\\lfloor \\frac{m}{p^i} \\right\\rfloor $$\n这个和是有限的，因为当 $p^i > m$ 时，项 $\\lfloor \\frac{m}{p^i} \\rfloor$ 变为0。对于我们的问题，$p=2$。\n\n首先，我们计算 $\\nu_2(1000!)$：\n\\begin{align*}\n\\nu_2(1000!) = \\sum_{i=1}^{\\infty} \\left\\lfloor \\frac{1000}{2^i} \\right\\rfloor \\\\\n= \\left\\lfloor \\frac{1000}{2} \\right\\rfloor + \\left\\lfloor \\frac{1000}{4} \\right\\rfloor + \\left\\lfloor \\frac{1000}{8} \\right\\rfloor + \\left\\lfloor \\frac{1000}{16} \\right\\rfloor + \\left\\lfloor \\frac{1000}{32} \\right\\rfloor + \\left\\lfloor \\frac{1000}{64} \\right\\rfloor + \\left\\lfloor \\frac{1000}{128} \\right\\rfloor + \\left\\lfloor \\frac{1000}{256} \\right\\rfloor + \\left\\lfloor \\frac{1000}{512} \\right\\rfloor + \\left\\lfloor \\frac{1000}{1024} \\right\\rfloor \\\\\n= 500 + 250 + 125 + 62 + 31 + 15 + 7 + 3 + 1 + 0 \\\\\n= 994\n\\end{align*}\n\n其次，我们计算 $\\nu_2(250!)$：\n\\begin{align*}\n\\nu_2(250!) = \\sum_{i=1}^{\\infty} \\left\\lfloor \\frac{250}{2^i} \\right\\rfloor \\\\\n= \\left\\lfloor \\frac{250}{2} \\right\\rfloor + \\left\\lfloor \\frac{250}{4} \\right\\rfloor + \\left\\lfloor \\frac{250}{8} \\right\\rfloor + \\left\\lfloor \\frac{250}{16} \\right\\rfloor + \\left\\lfloor \\frac{250}{32} \\right\\rfloor + \\left\\lfloor \\frac{250}{64} \\right\\rfloor + \\left\\lfloor \\frac{250}{128} \\right\\rfloor + \\left\\lfloor \\frac{250}{256} \\right\\rfloor \\\\\n= 125 + 62 + 31 + 15 + 7 + 3 + 1 + 0 \\\\\n= 244\n\\end{align*}\n\n第三，我们计算 $\\nu_2(750!)$：\n\\begin{align*}\n\\nu_2(750!) = \\sum_{i=1}^{\\infty} \\left\\lfloor \\frac{750}{2^i} \\right\\rfloor \\\\\n= \\left\\lfloor \\frac{750}{2} \\right\\rfloor + \\left\\lfloor \\frac{750}{4} \\right\\rfloor + \\left\\lfloor \\frac{750}{8} \\right\\rfloor + \\left\\lfloor \\frac{750}{16} \\right\\rfloor + \\left\\lfloor \\frac{750}{32} \\right\\rfloor + \\left\\lfloor \\frac{750}{64} \\right\\rfloor + \\left\\lfloor \\frac{750}{128} \\right\\rfloor + \\left\\lfloor \\frac{750}{256} \\right\\rfloor + \\left\\lfloor \\frac{750}{512} \\right\\rfloor + \\left\\lfloor \\frac{750}{1024} \\right\\rfloor \\\\\n= 375 + 187 + 93 + 46 + 23 + 11 + 5 + 2 + 1 + 0 \\\\\n= 743\n\\end{align*}\n\n最后，我们将这些值代回到我们关于 $\\nu_2\\left(\\binom{1000}{250}\\right)$ 的原始表达式中：\n$$ \\nu_2\\left(\\binom{1000}{250}\\right) = \\nu_2(1000!) - \\nu_2(250!) - \\nu_2(750!) $$\n$$ \\nu_2\\left(\\binom{1000}{250}\\right) = 994 - 244 - 743 $$\n$$ \\nu_2\\left(\\binom{1000}{250}\\right) = 994 - (244 + 743) $$\n$$ \\nu_2\\left(\\binom{1000}{250}\\right) = 994 - 987 $$\n$$ \\nu_2\\left(\\binom{1000}{250}\\right) = 7 $$\n因此，整除 $\\binom{1000}{250}$ 的$2$的最高次幂的指数是 $7$。", "answer": "$$\\boxed{7}$$", "id": "3087926"}]}