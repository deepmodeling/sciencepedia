## 引言
数字是我们理解和量化世界的语言，而位置记数法（或称进位制）是将抽象的数转化为可操作符号的最强大系统。从日常的十[进制](@entry_id:634389)计算到计算机底层的二进制逻辑，[数基](@entry_id:634389)的选择和表示方式无处不在，深刻影响着计算的效率和信息的结构。然而，许多人对进位制的理解仅停留在基本算术层面。本文旨在填补这一认知空白，系统性地揭示进位制表示背后深刻的数学原理、丰富的[代数结构](@entry_id:137052)及其在多个学科中的关键作用。在“原理与机制”一章中，我们将建立整数与非整数表示的数学基础，并探索负数底和p-adic数等广义系统。随后，在“应用与跨学科联系”一章中，我们将展示这些理论如何在计算机科学、数论和生物信息学等领域转化为强大的工具。最后，“动手实践”部分将通过精选问题，巩固您对核心概念的掌握。

## 原理与机制

### 整数的进位制表示法

#### 形式化定义与唯一性

在数学中，将抽象的数用一组有限的符号来表示，是进行计算和推理的基石。最常见和最强大的方法是**位置记数系统**（positional numeral system），也称**进位制**。一个以整数 $b \ge 2$ 为**底**（base or radix）的系统，使用一组包含 $b$ 个符号的**数码集**（digit set） $D=\{0, 1, \dots, b-1\}$。

一个非负整数 $N$ 在 $b$ [进制](@entry_id:634389)下的表示是一个数码串 $(d_k d_{k-1} \dots d_1 d_0)_b$，其中每个数码 $d_i$ 都取自集合 $D$。这个串的**值**（value）由以下多项式在 $x=b$ 处的求值给出：
$$
N = v\left((d_k d_{k-1} \dots d_1 d_0)_b\right) = \sum_{i=0}^{k} d_i b^i = d_k b^k + d_{k-1} b^{k-1} + \dots + d_1 b^1 + d_0 b^0
$$
这里，$d_k$ 被称为**最高有效位**（most significant digit），$d_0$ 被称为**最低有效位**（least significant digit）。数码 $d_i$ 的值不仅取决于它本身，还取决于它所在的位置，即它所乘的[基数](@entry_id:754020)幂次 $b^i$。这与古老的**加法记数系统**（additive numeral system）形成鲜明对比，在加法系统中，符号的值是固定的，与位置无关。例如，罗马数字中的 "XXI" 表示 $10+10+1=21$，而 "IX" 则引入了减法规则，但其基本原理仍是符号值的累加，符号的[排列](@entry_id:136432)顺序对值的贡献方式与位置系统有着本质区别 [@problem_id:3089119]。

一个关键的属性是表示的**唯一性**。为了确保每个非负整数都有一个唯一的**规范表示**（canonical representation），我们通常规定，对于任何非零整数，其最高有效位 $d_k$ 不能为零。数字零的表示就是单个符号 $(0)_b$。如果不加此规定，例如 $123_{10}$、 $0123_{10}$、 $00123_{10}$ 将表示同一个数，从而破坏了唯一性。因此，我们可以将所有规范的 $b$ 进制表示的集合 $L_b$ 定义为由数码集 $D$ 构成的、要么是单符号 "0" 要么不以 "0" 开头的所有有限字符串的集合 [@problem_id:3089119]。

**整数[表示定理](@entry_id:637872)**（Integer Representation Theorem）保证了这种表示的存在性和唯一性：对于任意整数 $b \ge 2$，每个非负整数 $n$ 都存在唯一的规范 $b$ [进制](@entry_id:634389)表示。这个定理是建立在**欧几里得[除法算法](@entry_id:637208)**（Euclidean Division Algorithm）之上的，该算法断言，对于任何整数 $N$ 和正整数 $b$，都存在唯一的整数商 $q$ 和余数 $r$（其中 $0 \le r  b$），使得 $N = qb + r$。

位置系统的[代数结构](@entry_id:137052)也体现在其运算中。例如，在一个表示为 $x$ 的数码串右侧追加一个数码 $d$，得到的新数值等于 $bx+d$。这是因为原数码串中的每个数码 $d_i$ 的位置都向左移动了一位，其对应的基数幂次从 $b^i$ 变为 $b^{i+1}$，相当于整个原数值乘以了 $b$，然后再加上新的最低位 $d$ [@problem_id:3089119]。

#### 转换算法：短除法

整数[表示定理](@entry_id:637872)的[构造性证明](@entry_id:157587)为我们提供了一种将任意非负整数 $N$ 转换为其 $b$ [进制](@entry_id:634389)表示的实用算法。这个算法通常被称为**短除法**（repeated division）。

该过程如下：
1.  用 $N$ 除以底 $b$，得到商 $q_0$ 和余数 $d_0$。根据[除法算法](@entry_id:637208)，$0 \le d_0  b$，因此 $d_0$ 是一个合法的数码。这个 $d_0$ 就是 $N$ 的 $b$[进制](@entry_id:634389)表示中的最低有效位。
    $N = q_0 b + d_0$
2.  接下来，用商 $q_0$ 重复此过程：用 $q_0$ 除以 $b$，得到新的商 $q_1$ 和余数 $d_1$。
    $q_0 = q_1 b + d_1$
3.  将 $q_0$ 的表达式代入第一步，我们得到 $N = (q_1 b + d_1) b + d_0 = q_1 b^2 + d_1 b + d_0$。这表明 $d_1$ 是 $b^1$ 位的数码。
4.  持续这个过程，$q_{i-1} = q_i b + d_i$，直到商变为零。由于商序列 $N > q_0 > q_1 > \dots$ 是严格递减的，这个过程必然在有限步内终止。

得到的余数序列 $(d_k, d_{k-1}, \dots, d_1, d_0)$ 按相反的顺序[排列](@entry_id:136432)，就构成了 $N$ 的 $b$ 进制表示。

例如，让我们将整数 $N=987,654,321,098$ 转换为 $b=999$ [进制](@entry_id:634389) [@problem_id:3089133]。
- **步骤 1**: $987,654,321,098 = 988,642,964 \times 999 + 62$。最低位是 $d_0 = 62$。
- **步骤 2**: $988,642,964 = 989,632 \times 999 + 596$。下一位是 $d_1 = 596$。
- **步骤 3**: $989,632 = 990 \times 999 + 622$。下一位是 $d_2 = 622$。
- **步骤 4**: $990 = 0 \times 999 + 990$。最高位是 $d_3 = 990$。商为 0，过程终止。

因此，$N$ 的 $999$ [进制](@entry_id:634389)表示是 $(990, 622, 596, 62)_{999}$。我们可以通过定义来验证：
$990 \times 999^3 + 622 \times 999^2 + 596 \times 999^1 + 62 \times 999^0 = 987,654,321,098$。

### 进位制表示的[代数结构](@entry_id:137052)

将[数值表示](@entry_id:138287)为[多项式求值](@entry_id:272811)的观点，即 $N=(d_k \dots d_0)_b$ 对应于 $P(b)$，其中 $P(x) = \sum_{i=0}^k d_i x^i$，为我们揭示了数字运算与[多项式代数](@entry_id:263635)之间的深刻联系 [@problem_id:3089109]。

#### 算术运算作为多项式运算

- **拼接 (Concatenation)**: 将两个数 $U$ 和 $V$ 的数码串拼接起来，会产生怎样的数值？假设 $U$ 的 $b$ 进制表示有 $m$ 位，$V$ 有 $n$ 位。拼接后的数码串中，$U$ 的各位数码都被向左移动了 $n$ 位。这意味着 $U$ 的值被乘以了 $b^n$。因此，拼接后的数值是 $U \cdot b^n + V$ [@problem_id:3089109]。例如，在 $10$ [进制](@entry_id:634389)中，拼接 $123$ ($m=3$) 和 $45$ ($n=2$) 得到 $12345$，其值为 $123 \times 10^2 + 45$。

- **乘法 (Multiplication)**: 两个整数 $U$ 和 $V$ 的乘积 $U \cdot V$ 对应于它们的数码多项式 $P_U(x)$ 和 $P_V(x)$ 的乘积在 $x=b$ 处的求值，即 $(P_U \cdot P_V)(b)$。然而，乘积多项式 $P_U(x)P_V(x)$ 的系数通常会超出数码集 $D$ 的范围。要获得最终的 $b$ [进制](@entry_id:634389)表示，必须执行**“进位”**操作。

让我们通过一个例子来说明 [@problem_id:3089117]。假设在 $b=12$ [进制](@entry_id:634389)下（数码为 $0, \dots, 9, 10, 11$），我们要计算 $(8, 11, 3, 5)_{12}$ 与 $(9, 2, 10)_{12}$ 的乘积。
1.  对应的数码多项式为 $D_1(x) = 8x^3 + 11x^2 + 3x + 5$ 和 $D_2(x) = 9x^2 + 2x + 10$。
2.  它们的乘积是 $P(x) = D_1(x)D_2(x) = 72x^5 + 115x^4 + 129x^3 + 161x^2 + 40x + 50$。
3.  这些系数 $(72, 115, 129, 161, 40, 50)$ 都不是有效的 $12$ [进制](@entry_id:634389)数码。我们需要从最低位开始进行**规格化**（normalization）：
    - $x^0$ 位：$50 = 4 \times 12 + 2$。数码为 $2$，进位为 $4$。
    - $x^1$ 位：$40 + (\text{进位}) 4 = 44 = 3 \times 12 + 8$。数码为 $8$，进位为 $3$。
    - $x^2$ 位：$161 + 3 = 164 = 13 \times 12 + 8$。数码为 $8$，进位为 $13$。
    - $x^3$ 位：$129 + 13 = 142 = 11 \times 12 + 10$。数码为 $10$ (A)，进位为 $11$。
    - $x^4$ 位：$115 + 11 = 126 = 10 \times 12 + 6$。数码为 $6$，进位为 $10$。
    - $x^5$ 位：$72 + 10 = 82 = 6 \times 12 + 10$。数码为 $10$ (A)，进位为 $6$。
    - $x^6$ 位：$0 + 6 = 6$。数码为 $6$。
    最终结果的数码串为 $(6, 10, 6, 10, 8, 8, 2)_{12}$。这个过程本质上就是我们在学校学过的“长乘法”算法的代数形式。

- **数码反转 (Digit Reversal)**: 如果一个数 $N$ 的数码串为 $d_k \dots d_0$，其值为 $P(b)$。那么，其反转数码串 $d_0 \dots d_k$ 所代表的数 $N^{\text{rev}}$ 可以通过 $N^{\text{rev}} = b^k P(b^{-1})$ 计算得出 [@problem_id:3089109]。这是因为 $b^k P(b^{-1}) = b^k \sum_{i=0}^k d_i (b^{-1})^i = \sum_{i=0}^k d_i b^{k-i} = d_0 b^k + d_1 b^{k-1} + \dots + d_k$，这正是 $N^{\text{rev}}$ 的定义。

#### 基于[模运算](@entry_id:140361)的[整除性](@entry_id:190902)判别法

多项式解释在模运算下尤为强大，它为我们提供了各种[整除性](@entry_id:190902)判别法的统一视角。
设 $N = P(b) = \sum d_i b^i$。要判断 $N$ 是否能被某个整数 $m$ 整除，我们只需计算 $N \pmod m$。利用同余的基本性质，我们得到：
$$
N \equiv \sum d_i b^i \pmod m \equiv \sum d_i (b \pmod m)^i \pmod m
$$

- **对 $b-1$ 的[整除性](@entry_id:190902)**：由于 $b \equiv 1 \pmod{b-1}$，我们有 $b^i \equiv 1^i \equiv 1 \pmod{b-1}$。因此，
  $$
  N \equiv \sum d_i \pmod{b-1}
  $$
  这意味着一个数 $N$ 能被 $b-1$ 整除，当且仅当它的各位数码之和能被 $b-1$ 整除。例如，在 $10$ [进制](@entry_id:634389)中，一个数能被 $9$ 整除的判别法就是看它的各位数字之和是否能被 $9$ 整除。

- **对 $b+1$ 的[整除性](@entry_id:190902)**：由于 $b \equiv -1 \pmod{b+1}$，我们有 $b^i \equiv (-1)^i \pmod{b+1}$。因此，
  $$
  N \equiv \sum d_i (-1)^i = d_0 - d_1 + d_2 - d_3 + \dots \pmod{b+1}
  $$
  这意味着一个数 $N$ 能被 $b+1$ 整除，当且仅当它的各位数码的**交错和**（alternating sum）能被 $b+1$ 整除 [@problem_id:3089123] [@problem_id:3089109]。例如，在 $10$ 进制中，判断一个数能否被 $11$ 整除，就是看它的交错数字和是否能被 $11$ 整除。

- **一般情况**：这个原理可以推广。若 $n$ 是一个正整数且 $b \equiv 1 \pmod n$，则 $N$ 能被 $n$ 整除当且仅当 $N$ 的各位数码之和能被 $n$ 整除 [@problem_id:3089109]。

### 非整数的表示：[小数展开](@entry_id:142292)

#### 无穷级数与收敛性

位置记数系统可以自然地推广到表示非整数，特别是区间 $[0,1)$ 内的实数。这通过引入基数的负幂次来实现。一个数 $x \in [0,1)$ 的 $b$ [进制](@entry_id:634389)展开式是一个[无穷级数](@entry_id:143366)：
$$
x = \sum_{n=1}^{\infty} d_n b^{-n} = d_1 b^{-1} + d_2 b^{-2} + d_3 b^{-3} + \dots
$$
我们通常将其写成小数形式 $x = (0.d_1 d_2 d_3 \dots)_b$。

这个无穷级数总是收敛的，因为数码 $d_n$ 是有界的 ($0 \le d_n \le b-1$)。我们可以将其与一个[几何级数](@entry_id:158490)进行比较来证明其收敛性。该级数的**截断误差**（truncation error），即用前 $N$ 项的和 $x_N = \sum_{n=1}^N d_n b^{-n}$ 来近似 $x$ 所产生的误差 $R_N = x - x_N$，有一个明确的上界。
$$
|R_N| = \left| \sum_{n=N+1}^{\infty} d_n b^{-n} \right| \le \sum_{n=N+1}^{\infty} (b-1) b^{-n}
$$
这是一个首项为 $(b-1)b^{-(N+1)}$、[公比](@entry_id:275383)为 $b^{-1}$ 的几何级数，其和为 $b^{-N}$。因此，我们有重要的误差界 [@problem_id:3089111]：
$$
|x - x_N| \le b^{-N}
$$
这个界对于估算达到特定精度所需的位数非常有用。例如，要用 $b=11$ 进制展开来近似一个数 $x$，并使误差小于 $5 \times 10^{-8}$，我们可以通过求解不等式 $b^{-N}  5 \times 10^{-8}$ 来确定所需的位数 $N$ [@problem_id:3089130]。

#### 有理数与[循环小数](@entry_id:158845)

[小数展开](@entry_id:142292)的一个基本结果是：一个数是**有理数**（rational number），当且仅当它的任何 $b$ [进制](@entry_id:634389)展开都是**最终循环的**（eventually periodic）。这意味着数码序列从某一点开始会无限重复一个固定的块，称为**循环节**（repetend）。

- **从[循环小数](@entry_id:158845)到有理数**：这个转换可以通过一个简单的代数技巧完成。假设 $x = 0.\overline{d_1 d_2 \dots d_k}_b$ 是一个纯[循环小数](@entry_id:158845)，循环节长度为 $k$。
  $$
  x = \sum_{j=1}^{\infty} (\text{block } d_1 \dots d_k) \times (b^{-k})^{j-1} \times b^{-k}
  $$
  两边乘以 $b^k$：
  $$
  b^k x = (d_1 d_2 \dots d_k)_b + 0.\overline{d_1 d_2 \dots d_k}_b = (d_1 d_2 \dots d_k)_b + x
  $$
  这是一个关于 $x$ 的[线性方程](@entry_id:151487)，解得 $x = \frac{(d_1 d_2 \dots d_k)_b}{b^k - 1}$。例如，在 $b=13$ 进制下，数 $x = 0.\overline{\text{A}7\text{C}}_{13}$（其中 A=10, C=12）满足 $13^3 x = (\text{A}7\text{C})_{13} + x$。计算可知 $(\text{A}7\text{C})_{13} = 1793$ 且 $13^3 = 2197$，因此 $x = \frac{1793}{2197-1} = \frac{1793}{2196}$ [@problem_id:3089137]。

- **从有理数到[循环小数](@entry_id:158845)**：反过来，将有理数 $\frac{p}{q}$ 转换为 $b$ [进制](@entry_id:634389)小数的过程类似于整数转换的短除法，但操作对象是分子。我们计算 $d_1 = \lfloor \frac{pb}{q} \rfloor$，余数为 $r_1 = pb \pmod q$。然后，下一位小数 $d_2 = \lfloor \frac{r_1 b}{q} \rfloor$，如此类推。由于余数 $r_i$ 只能取 $q$ 个可能的值 $\{0, 1, \dots, q-1\}$ 之一，所以这个序列必然会进入循环，从而产生[循环小数](@entry_id:158845)。如果 $\gcd(b, q) = 1$，则展开是纯循环的，循环节的长度 $k$ 是 $b$ 模 $q$ 的**[乘法阶](@entry_id:636522)**（multiplicative order），即满足 $b^k \equiv 1 \pmod q$ 的最小正整数 $k$ [@problem_id:3089137]。

### 广义与非标准记数系统

位置记数法的核心思想可以推广到更奇特和强大的系统中，这有助于我们更深刻地理解数字表示的本质。

#### 负数底记数系统

我们可以使用一个负整数 $-b$（其中 $b \ge 2$）作为基底，数码集依然是 $D=\{0, 1, \dots, b-1\}$。一个数 $N$ 的**负数底**（negabase）表示为：
$$
N = \sum_{i=0}^{k} d_i (-b)^i
$$
这种系统的一个显著优点是，它可以用单一的规范表示法来表示**所有**整数（正、负、零），而无需额外的负号。例如，在 $-10$ 进制中，数 $-9$ 表示为 $(11)_{-10}$，因为 $1 \times (-10)^1 + 1 \times (-10)^0 = -10 + 1 = -9$。

负数底系统中的[整除性](@entry_id:190902)判别法也相应地发生了有趣的变化 [@problem_id:3089123]：
- **对 $b+1$ 的[整除性](@entry_id:190902)**：在模 $b+1$ 意义下，$-b \equiv 1 \pmod{b+1}$。因此，
  $$
  N = \sum d_i (-b)^i \equiv \sum d_i (1)^i = \sum d_i \pmod{b+1}
  $$
  判别法变成了**各位数码之和**，这恰好是标准 $b$ [进制](@entry_id:634389)中对 $b-1$ 的判别法。
- **奇偶性**：数的奇偶性（即模 $2$ 的余数）取决于基底 $-b$ 的奇偶性。
  - 如果 $b$ 是偶数，则 $-b \equiv 0 \pmod 2$。对于 $i \ge 1$， $(-b)^i \equiv 0 \pmod 2$。所以 $N \equiv d_0 \pmod 2$。数的奇偶性仅由最低位 $d_0$ 决定。
  - 如果 $b$ 是奇数，则 $-b \equiv 1 \pmod 2$。所以 $N \equiv \sum d_i (1)^i = \sum d_i \pmod 2$。数的奇偶性由各位数码之和的奇偶性决定。

#### $p$-adic 展开：一种不同的收敛观念

在标准的[实数域](@entry_id:151347) $\mathbb{R}$ 中，我们使用[绝对值](@entry_id:147688) $| \cdot |$ 来度量距离和收敛性。然而，在数论中，我们可以定义一种截然不同的[距离度量](@entry_id:636073)。对于一个素数 $p$，任意非零有理数 $x$ 的 **$p$-adic 范数**（$p$-adic norm）定义为 $|x|_p = p^{-v_p(x)}$，其中 $v_p(x)$ 是 $x$ 的素[因子分解](@entry_id:150389)中 $p$ 的指数。

这个范数具有**[非阿基米德性](@entry_id:161262)**（non-Archimedean）或**[超度量性](@entry_id:143964)**（ultrametric）质，即 $|a+b|_p \le \max(|a|_p, |b|_p)$。一个直接推论是，当 $|a|_p > |b|_p$ 时，等号成立：$|a+b|_p = |a|_p$。

在这种范数下，一个[幂级数](@entry_id:146836) $\sum_{i=0}^{\infty} a_i$ 收敛的充要条件是其通项 $a_i$ 趋于零，即 $|a_i|_p \to 0$。考虑形如 $\sum_{i=0}^{\infty} d_i p^i$ 的级数，其中 $d_i \in \{0, \dots, p-1\}$。它的通项 $d_i p^i$ 的 $p$-adic 范数是 $|d_i p^i|_p \le p^{-i}$，当 $i \to \infty$ 时趋于零。因此，与实数中幂次为正的幂级数会发散不同，这种级数在 $p$-adic 范数下总是收敛的 [@problem_id:3089115]。

这导致了一些令人惊讶的结果：
- [几何级数公式](@entry_id:159114) $\sum_{i=0}^\infty r^i = \frac{1}{1-r}$ 在 $|r|_p  1$ 时成立。由于 $|p|_p = p^{-1}  1$，我们可以令 $r=p$ 得到：
  $$
  \frac{1}{1-p} = \sum_{i=0}^{\infty} p^i = 1 + p + p^2 + \dots
  $$
- 我们可以表示负整数。例如，$-1$ 在 $p$-adic 整数环 $\mathbb{Z}_p$ 中的展开式是：
  $$
  -1 = \sum_{i=0}^{\infty} (p-1) p^i = (p-1) + (p-1)p + (p-1)p^2 + \dots
  $$
  这是因为这是一个[公比](@entry_id:275383)为 $p$ 的[几何级数](@entry_id:158490)，其和为 $\frac{p-1}{1-p} = -1$ [@problem_id:3089115]。

$p$-adic 展开与实数展开在收敛行为上形成鲜明对比 [@problem_id:3089111]。
- **截断误差**：在实数中，[截断误差](@entry_id:140949) $|x-x_N|$ 是无穷多项之和，其界为 $b^{-N}$。而在 $p$-adic 范数下，由于[超度量性](@entry_id:143964)质，截断误差的大小完全由**第一个被省略的非零项**决定。如果 $c_{N+1} \neq 0$，则 $|y - t_N|_p = |\sum_{n=N+1}^{\infty} c_n p^n|_p = |c_{N+1} p^{N+1}|_p = p^{-(N+1)}$。

#### 其他广义系统简介

 radix 表示的原理还可以进一步推广，产生更丰富的数学结构：
- **$\beta$-展开**：当基底 $\beta > 1$ 不是整数时，我们仍然可以通过一个**[贪心算法](@entry_id:260925)**（greedy algorithm）来表示 $[0,1)$ 中的数 $x$。这个算法迭代地定义数码 $d_n = \lfloor \beta r_{n-1} \rfloor$ 和余项 $r_n = \beta r_{n-1} - d_n$，其中 $r_0=x$ [@problem_id:3089121]。这产生了非整数基底下的表示，其性质与整数基底相比更为复杂。
- **Ostrowski 记数系统**：该系统不使用固定的基底，而是使用与某个无理数 $\alpha$ 的**[连分数](@entry_id:264019)**（continued fraction）展开相关的分母序列 $\{q_k\}$ 作为“位值”。其数码的取值范围则与 $\alpha$ 的连分数部分商 $\{a_k\}$ 相关。这套系统在动力系统和准晶体理论中有重要应用 [@problem_id:3089129]。
- **[正规数](@entry_id:141052) (Normal Numbers)**：这是一个关于数码[分布](@entry_id:182848)统计性质的概念。一个数 $x$ 在 $b$ 进制下是正规的，如果任意长度为 $k$ 的数码块在其[小数展开](@entry_id:142292)中出现的[极限频率](@entry_id:137317)都精确地是 $b^{-k}$。这等价于序列 $\{b^n x\}$ 在模 $1$ 意义下是**[均匀分布](@entry_id:194597)**（equidistributed）的 [@problem_id:3089127]。虽然几乎所有实数都是正规的，但为具体的数学常数（如 $\pi, e, \sqrt{2}$）证明其正规性仍然是数论中悬而未决的难题。

这些广义系统展示了位置表示思想的深刻性和普适性，它们不仅是计算的工具，更是探索数域、动力系统和信息论等领域内在结构的窗口。