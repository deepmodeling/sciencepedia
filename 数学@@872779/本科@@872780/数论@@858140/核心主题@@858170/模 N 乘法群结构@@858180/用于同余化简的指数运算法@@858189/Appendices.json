{"hands_on_practices": [{"introduction": "指数运算的核心威力在于其转化能力，它能将看似复杂的指数同余问题简化为我们熟悉的线性问题。这个练习将带你实践这一基本技巧，将指数同余式 $g^{ux} \\equiv g^v \\pmod{p}$ 转化为关于变量 $x$ 的线性同余式。通过解决这个问题，你不仅能掌握求解方法，还能深刻理解解的数量如何由系数与模的性质，特别是最大公约数 $\\gcd(u, p-1)$，来精确决定。", "problem": "设 $p$ 为素数 $79$， $g$ 为模 $p$ 的一个固定原根。考虑同余方程\n$$\ng^{u x}\\equiv g^{v}\\pmod p\n$$\n其中 $u=30$，$v=42$。请使用指标运算（以 $g$ 为底的离散对数），将此方程化为关于 $x$ 的模 $p-1$ 的线性同余方程，并求出其所有解。在你的推导过程中，请精确地论证 $\\gcd(u,p-1)$ 如何决定解的存在性、模 $p-1$ 的不同解的个数，以及这些解之间的间隔。\n\n将你的最终答案表示为模 $p-1$ 的所有不同剩余类 $x$，以区间 $[0,p-2]$ 内的整数形式按升序排列。", "solution": "本题要求解指数同余方程 $g^{u x}\\equiv g^{v}\\pmod p$ 中的 $x$，已知素数 $p=79$，模 $p$ 的一个原根 $g$，以及整数 $u=30$ 和 $v=42$。$x$ 的解必须是模 $p-1$ 的。\n\n因为 $p=79$ 是一个素数，且 $g$ 是模 $p$ 的一个原根，所以幂的集合 $\\{g^0, g^1, \\dots, g^{p-2}\\}$ 生成了模 $p$ 的所有非零剩余类。$g$ 模 $p$ 的阶是 $\\phi(p) = p-1 = 78$。原根的一个基本性质是，它们允许通过指标运算将指数同余方程转化为线性同余方程。整数 $a$ 以 $g$ 为底模 $p$ 的指标，记为 $\\operatorname{ind}_g(a)$，是唯一的指数 $k \\in \\{0, \\dots, p-2\\}$，使得 $g^k \\equiv a \\pmod p$。\n\n给定的同余方程是 $g^{u x}\\equiv g^{v}\\pmod p$。对两边取以 $g$ 为底的指标，将该同余方程转化为关于指数的同余方程。这个新同余方程的模是 $g$ 的阶，即 $p-1=78$。\n$$\n\\operatorname{ind}_g(g^{u x}) \\equiv \\operatorname{ind}_g(g^{v}) \\pmod{p-1}\n$$\n根据指标的定义，有 $\\operatorname{ind}_g(g^k) \\equiv k \\pmod{p-1}$。应用此性质，我们得到关于 $x$ 的线性同余方程：\n$$\nux \\equiv v \\pmod{p-1}\n$$\n代入给定值 $u=30$，$v=42$ 和 $p-1=78$，我们得到：\n$$\n30x \\equiv 42 \\pmod{78}\n$$\n这是一个形如 $ax \\equiv b \\pmod n$ 的一般线性同余方程。我们按要求分析其性质。\n$ax \\equiv b \\pmod n$ 有解的充要条件是 $d = \\gcd(a, n)$ 是 $b$ 的一个因子。如果此条件满足，则方程恰好有 $d$ 个模 $n$ 的不同余解。因此，解的存在性取决于 $d=\\gcd(u, p-1)$ 是否能整除 $v$。解的个数直接由 $d$ 给出。\n\n在我们的具体例子中，$a=u=30$，$b=v=42$，$n=p-1=78$。我们首先计算 $d = \\gcd(30, 78)$。\n$30$ 的素因数分解是 $2 \\times 3 \\times 5$。\n$78$ 的素因数分解是 $2 \\times 3 \\times 13$。\n最大公约数是 $d = \\gcd(30, 78) = 2 \\times 3 = 6$。\n\n接下来，我们检查可解性条件：$d$ 是否能整除 $v$？这里，$d=6$，$v=42$。因为 $42 = 6 \\times 7$，所以 $d$ 整除 $v$。因此，解存在。\n$x$ 模 $78$ 的不同解的个数恰好是 $d=6$。\n\n为了求出解，我们首先通过将所有项（系数、常数项和模）都除以它们的公约数 $d=6$ 来化简同余方程 $30x \\equiv 42 \\pmod{78}$。\n$$\n\\frac{30}{6}x \\equiv \\frac{42}{6} \\pmod{\\frac{78}{6}}\n$$\n这得到了化简后的同余方程：\n$$\n5x \\equiv 7 \\pmod{13}\n$$\n为了解出 $x$，我们需要求出 $5$ 模 $13$ 的乘法逆元。我们寻找一个整数 $y$ 使得 $5y \\equiv 1 \\pmod{13}$。我们可以使用扩展欧几里得算法或观察法。通过观察，我们发现 $5 \\times 8 = 40$。因为 $40 = 3 \\times 13 + 1$，所以有 $5 \\times 8 \\equiv 1 \\pmod{13}$。因此，$5$ 模 $13$ 的逆元是 $8$。\n\n将化简后的同余方程两边乘以 $8$：\n$$\n8 \\cdot (5x) \\equiv 8 \\cdot 7 \\pmod{13}\n$$\n$$\n(40)x \\equiv 56 \\pmod{13}\n$$\n$$\nx \\equiv 56 \\pmod{13}\n$$\n为了找到最小非负余数，我们将 $56$ 对 $13$ 取模。因为 $56 = 4 \\times 13 + 4$，所以有 $56 \\equiv 4 \\pmod{13}$。\n所以，一个特解是 $x_0 \\equiv 4 \\pmod{13}$。这意味着 $x_0 = 4$ 是化简后同余方程的最小非负解。\n\n这个解 $x_0=4$ 是原同余方程模 $78$ 的 $6$ 个解之一。全部解集由以下公式给出：\n$$\nx_k = x_0 + k \\cdot \\frac{n}{d} \\quad \\text{for } k \\in \\{0, 1, 2, \\dots, d-1\\}\n$$\n在我们的例子中，$x_0 = 4$，$n=78$，$d=6$。解之间的增量是 $\\frac{n}{d} = \\frac{78}{6} = 13$。这个间隔是解集代数结构的直接结果。如果 $x_0$ 是一个解，那么对于任意整数 $k$，有 $u(x_0 + k \\frac{p-1}{d}) = ux_0 + k\\frac{u}{d}(p-1)$。由于 $d=\\gcd(u, p-1)$，$\\frac{u}{d}$ 是一个整数，所以 $k\\frac{u}{d}(p-1)$ 是 $p-1$ 的倍数。因此，$u(x_0 + k \\frac{p-1}{d}) \\equiv ux_0 \\equiv v \\pmod{p-1}$。通过取 $k$ 从 $0$ 到 $d-1$，可以生成模 $p-1$ 的 $d$ 个不同解。\n\n$x$ 模 $78$ 的 $6$ 个不同解是：\n当 $k=0$ 时：$x_0 = 4 + (0)(13) = 4$\n当 $k=1$ 时：$x_1 = 4 + (1)(13) = 17$\n当 $k=2$ 时：$x_2 = 4 + (2)(13) = 30$\n当 $k=3$ 时：$x_3 = 4 + (3)(13) = 43$\n当 $k=4$ 时：$x_4 = 4 + (4)(13) = 56$\n当 $k=5$ 时：$x_5 = 4 + (5)(13) = 69$\n\n这些是在区间 $[0, p-2]$（即 $[0, 77]$）内的所有不同解。它们已按题目要求以升序排列。", "answer": "$$\n\\boxed{\\begin{pmatrix} 4 & 17 & 30 & 43 & 56 & 69 \\end{pmatrix}}\n$$", "id": "3086063"}, {"introduction": "指数运算的应用远不止求解指数。这个练习提出了一个“逆向”挑战：在幂同余式 $x^n \\equiv a \\pmod{p}$ 中求解底数 $x$。这个实践将展示如何运用相同的工具来揭示一个关键的可解性条件，使我们能够精确地判断一个方程何时无解，并量化其“障碍”。", "problem": "设 $p$ 是一个素数，$g$ 是模 $p$ 的一个原根。对于任何满足 $1 \\le a \\le p-1$ 的 $a$，定义其指数（离散对数）$\\operatorname{ind}_{g}(a)$ 为集合 $\\{0,1,\\dots,p-2\\}$ 中唯一的整数，使得 $g^{\\operatorname{ind}_{g}(a)} \\equiv a \\pmod{p}$。考虑具体实例 $p=29, g=2, n=12, a=9$。仅使用 $\\left(\\mathbb{Z}/p\\mathbb{Z}\\right)^{\\times}$ 的群论结构和指数的定义，判断同余式 $x^{n} \\equiv a \\pmod{p}$ 是否有解。若无解，则计算来自指数运算的可解性障碍，即余数\n$$\nr \\equiv \\operatorname{ind}_{g}(a) \\pmod{d},\n$$\n其中 $d=\\gcd(n,p-1)$ 表示 $n$ 和 $p-1$ 的最大公约数 (gcd)。将 $r$ 以集合 $\\{0,1,\\dots,d-1\\}$ 中的一个整数形式报告。最终答案必须是这个整数 $r$。", "solution": "问题要求我们判断对于给定值 $p=29, g=2, n=12, a=9$，同余式 $x^{n} \\equiv a \\pmod{p}$ 是否有解，若无解，则计算余数 $r \\equiv \\operatorname{ind}_{g}(a) \\pmod{d}$，其中 $d=\\gcd(n,p-1)$。\n\n首先，我们建立判断此类同余式可解性的理论准则。模 $p$ 整数环的单位群，记作 $\\left(\\mathbb{Z}/p\\mathbb{Z}\\right)^{\\times}$，是一个阶为 $p-1$ 的循环群。原根 $g$ 是这个群的一个生成元。任何元素 $b \\in \\left(\\mathbb{Z}/p\\mathbb{Z}\\right)^{\\times}$ 都可以唯一地表示为 $b \\equiv g^k \\pmod{p}$，其中 $k$ 是某个在范围 $\\{0, 1, \\dots, p-2\\}$ 内的整数。这个整数 $k$ 就是 $b$ 以 $g$ 为底的指数，记作 $\\operatorname{ind}_{g}(b)$。\n\n给定的同余式为 $x^n \\equiv a \\pmod{p}$。由于 $a=9$ 且 $p=29$，$a$ 不是 $p$ 的倍数，因此任何解 $x$ 也不能是 $p$ 的倍数。所以，$x$ 必须是 $\\left(\\mathbb{Z}/29\\mathbb{Z}\\right)^{\\times}$ 中的一个元素。我们可以用以原根 $g=2$ 为底的指数来表示 $x$ 和 $a$：\n设 $x \\equiv g^y \\pmod{p}$，其中 $y$ 为某个未知整数。那么 $x^n \\equiv (g^y)^n = g^{ny} \\pmod{p}$。\n设 $a \\equiv g^{\\operatorname{ind}_g(a)} \\pmod{p}$。\n\n将这些代入同余式，我们得到：\n$$g^{ny} \\equiv g^{\\operatorname{ind}_g(a)} \\pmod{p}$$\n这等价于一个关于指数的方程，模为群的阶 $p-1$：\n$$ny \\equiv \\operatorname{ind}_g(a) \\pmod{p-1}$$\n这是一个关于变量 $y$ 的线性同余方程。根据线性同余理论，$y$ 存在解的充要条件是 $y$ 的系数与模数的最大公约数能够整除常数项。也就是说，存在解的充要条件是 $\\gcd(n, p-1)$ 整除 $\\operatorname{ind}_g(a)$。\n\n设 $d = \\gcd(n, p-1)$。同余式 $x^n \\equiv a \\pmod{p}$ 可解的条件是：\n$$\\operatorname{ind}_g(a) \\equiv 0 \\pmod{d}$$\n\n现在，我们将此应用于给定的值：\n- $p = 29$ (一个素数)\n- $n = 12$\n- $a = 9$\n- $g = 2$ (给定为模 $29$ 的一个原根)\n\n首先，我们计算 $d$：\n$$p-1 = 29-1 = 28$$\n$$d = \\gcd(n, p-1) = \\gcd(12, 28)$$\n为了求最大公约数，我们可以使用欧几里得算法或素因子分解。\n12 的素因子分解是 $2^2 \\cdot 3$。\n28 的素因子分解是 $2^2 \\cdot 7$。\n最大公约数是 $d = 2^2 = 4$。\n\n接下来，我们计算 $\\operatorname{ind}_g(a) = \\operatorname{ind}_2(9)$。我们需要找到一个整数 $k \\in \\{0, 1, \\dots, 27\\}$，使得 $2^k \\equiv 9 \\pmod{29}$。我们计算 $2$ 的幂模 $29$ 的值：\n$2^1 \\equiv 2 \\pmod{29}$\n$2^2 \\equiv 4 \\pmod{29}$\n$2^3 \\equiv 8 \\pmod{29}$\n$2^4 \\equiv 16 \\pmod{29}$\n$2^5 \\equiv 32 \\equiv 3 \\pmod{29}$\n因为我们需要找到对应于 $9$ 的幂，并且我们已经发现 $2^5 \\equiv 3 \\pmod{29}$，我们可以将这个同余式两边平方：\n$$(2^5)^2 \\equiv 3^2 \\pmod{29}$$\n$$2^{10} \\equiv 9 \\pmod{29}$$\n因此，以 $2$ 为底的 $9$ 的指数是 $10$。\n$$\\operatorname{ind}_2(9) = 10$$\n\n现在我们检查可解性条件：$\\operatorname{ind}_2(9) \\equiv 0 \\pmod{d}$。\n我们检验是否有 $10 \\equiv 0 \\pmod{4}$。\n$$10 = 2 \\cdot 4 + 2$$\n所以，$10 \\equiv 2 \\pmod{4}$。\n因为 $10 \\not\\equiv 0 \\pmod{4}$，所以同余式 $x^{12} \\equiv 9 \\pmod{29}$ 没有解。\n\n问题要求的是可解性的障碍，即余数 $r \\equiv \\operatorname{ind}_{g}(a) \\pmod{d}$，其中 $r$ 是集合 $\\{0, 1, \\dots, d-1\\}$ 中的一个整数。\n我们已经计算了这个余数：\n$$r \\equiv 10 \\pmod{4}$$\n$$r = 2$$\n这个值 $r=2$ 位于所要求的集合 $\\{0, 1, 2, 3\\}$ 中。这个非零余数就是障碍。", "answer": "$$\\boxed{2}$$", "id": "3086051"}, {"introduction": "了解一个工具的局限性与了解它的能力同等重要。这个练习旨在检验我们对指标运算使用前提的理解。当底数相对于模不是一个单位（即 $\\gcd(a, m) \\neq 1$）时，指标的定义失效，我们必须回归到更基本的工具，如中国剩余定理，来正确分析和解决问题。", "problem": "考虑同余方程 $12^x \\equiv 36 \\pmod{72}$，其中 $x$ 是一个整数。回顾一下，一个元素 $a$ 是模 $m$ 的单位当且仅当 $\\gcd(a,m)=1$，其中 $\\gcd$ 表示最大公约数 (gcd)。判断下列哪个陈述正确地讨论了基于指标（离散对数）规约方法的适用性，并通过使用 $p$-adic 赋值 $v_p(n)$（定义为使得 $p^e \\mid n$ 成立的最大指数 $e$）的素数幂次推理给出了正确的可解性分析。\n\nA. 基于指标的规约适用：选取一个模 $72$ 的原根，将 $12$ 和 $36$ 表示为该原根的幂，然后令指数相等得到 $x \\equiv 2 \\pmod{\\varphi(72)}$，因此有无穷多个解。\n\nB. 基于指标的规约不适用，因为 $12$ 不是模 $72$ 的单位。将模分解为 $72=8 \\cdot 9$，可以发现 $12^x \\equiv 4 \\pmod{8}$ 仅对 $x=1$ 成立，而 $12^x \\equiv 0 \\pmod{9}$ 对 $x \\ge 2$ 成立，所以不存在整数 $x$ 同时满足这两个同余方程；因此，原同余方程无解。\n\nC. 因为 $\\gcd(12,72)=12$ 且 $12 \\mid 36$，可以将同余方程两边除以 $12$ 得到 $12^{x-1} \\equiv 3 \\pmod{6}$，由此得出 $x=1$ 是唯一解。\n\nD. 使用最大公约数和赋值分析，条件 $v_3(12^x) \\ge v_3(36)$ 和 $v_2(12^x) \\ge v_2(36)$ 给出 $x \\ge 2$，因此 $x=2$ 是最小解，并且所有 $x \\ge 2$ 都是解。", "solution": "我们来分析同余方程 $12^x \\equiv 36 \\pmod{72}$ 和给出的四个选项。\n\n首先，评估基于指标（离散对数）方法的适用性。指标算术定义在模 $m$ 的乘法群 $(\\mathbb{Z}/m\\mathbb{Z})^\\times$ 上，这个群的元素是所有与 $m$ 互素的剩余类。在本题中，底数是 $12$，模是 $72$。我们计算它们的最大公约数：$\\gcd(12, 72) = 12$。由于 $\\gcd(12, 72) \\neq 1$，$12$ 不是模 $72$ 的单位，不属于乘法群 $(\\mathbb{Z}/72\\mathbb{Z})^\\times$。因此，标准的指标算术方法不适用。\n\n由于指标方法不适用，我们必须使用更基本的方法，例如中国剩余定理（CRT）。我们将模 $72$ 分解为其素数幂因子：$72 = 8 \\times 9$。原同余方程 $12^x \\equiv 36 \\pmod{72}$ 等价于以下同余方程组：\n1.  $12^x \\equiv 36 \\pmod{8}$\n2.  $12^x \\equiv 36 \\pmod{9}$\n\n我们分别分析这两个方程：\n对于第一个方程：$12^x \\equiv 36 \\pmod{8}$。\n由于 $12 \\equiv 4 \\pmod{8}$ 且 $36 \\equiv 4 \\pmod{8}$，方程简化为 $4^x \\equiv 4 \\pmod{8}$。\n-   当 $x=1$ 时，$4^1 = 4 \\equiv 4 \\pmod{8}$，该方程成立。\n-   当 $x \\ge 2$ 时，$4^x = 16 \\cdot 4^{x-2}$。因为 $16$ 是 $8$ 的倍数，所以 $4^x \\equiv 0 \\pmod{8}$。这与 $4 \\pmod{8}$ 不同。\n因此，第一个同余方程的唯一整数解条件是 $x=1$。\n\n对于第二个方程：$12^x \\equiv 36 \\pmod{9}$。\n由于 $12 \\equiv 3 \\pmod{9}$ 且 $36 \\equiv 0 \\pmod{9}$，方程简化为 $3^x \\equiv 0 \\pmod{9}$。\n-   这个条件要求 $3^x$ 必须是 $9$ 的倍数。\n-   当 $x=1$ 时，$3^1 = 3 \\not\\equiv 0 \\pmod{9}$。\n-   当 $x=2$ 时，$3^2 = 9 \\equiv 0 \\pmod{9}$。\n-   当 $x > 2$ 时，$3^x$ 也是 $9$ 的倍数。\n因此，第二个同余方程的解条件是 $x \\ge 2$。\n\n要使原方程有解，必须存在一个整数 $x$ 同时满足两个条件：$x=1$ 和 $x \\ge 2$。这两个条件是互斥的，不可能同时成立。因此，原同余方程无解。\n\n现在我们评估每个选项：\n**A.** 这个陈述是错误的。首先，指标方法不适用，因为 $\\gcd(12, 72) \\neq 1$。其次，模 $72$ 不存在原根，因为 $(\\mathbb{Z}/72\\mathbb{Z})^\\times$ 不是循环群。\n\n**B.** 这个陈述是正确的。它正确地指出指标方法不适用，并给出了正确的原因（$12$ 不是单位）。它使用了正确的 CRT 分解，对两个子同余方程的分析完全正确（模 $8$ 要求 $x=1$，模 $9$ 要求 $x \\ge 2$），并得出了正确的结论：方程无解，因为条件相互矛盾。\n\n**C.** 这个陈述是错误的。将原方程两边除以 $\\gcd(12, 72)=12$ 得到 $12^{x-1} \\equiv 3 \\pmod{6}$ 的推导是正确的。然而，这个新的同余方程无解，因为对于 $x>1$，$12^{x-1}$ 是 $6$ 的倍数，即 $12^{x-1} \\equiv 0 \\pmod{6}$；对于 $x=1$，$12^0 = 1 \\equiv 1 \\pmod{6}$。左边永远不可能同余于 $3 \\pmod{6}$。因此，声称 $x=1$ 是一个解是错误的。\n\n**D.** 这个陈述是错误的。它使用的 $p$-adic 赋值推理是无效的。$a \\equiv b \\pmod m$ 的条件是 $v_p(a-b) \\ge v_p(m)$ 对于所有整除 $m$ 的素数 $p$ 都成立，而不是 $v_p(a) \\ge v_p(b)$。事实上，对于 $x=2$，$12^2 = 144$，$36$。$144-36=108$。$v_2(108)=v_2(4 \\cdot 27)=2$。而 $v_2(72)=v_2(8 \\cdot 9)=3$。由于 $v_2(108)  v_2(72)$，所以 $144 \\not\\equiv 36 \\pmod{72}$。因此该选项的结论是错误的。\n\n综上所述，只有选项 B 提供了完全正确的分析和结论。", "answer": "$$\\boxed{B}$$", "id": "3086038"}]}