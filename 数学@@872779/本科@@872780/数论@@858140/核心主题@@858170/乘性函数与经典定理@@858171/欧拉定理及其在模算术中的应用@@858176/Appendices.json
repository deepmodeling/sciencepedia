{"hands_on_practices": [{"introduction": "理解欧拉函数 $\\varphi(n)$ 是掌握欧拉定理的第一步。本练习将通过两种不同的方法计算 $\\varphi(60)$，从而巩固你对该函数基本定义的理解。通过直接枚举和利用质因数分解这两种方式，你不仅能练习计算，还能通过中国剩余定理来理解为何两种方法会得到相同的结果，从而加深对模算术中乘法结构的认识。", "problem": "设 $n$ 是一个正整数，$\\varphi(n)$ 表示欧拉函数，定义为满足 $1 \\leq k \\leq n$ 且 $\\gcd(k,n) = 1$ 的整数 $k$ 的数量，其中 $\\gcd(\\cdot,\\cdot)$ 表示最大公约数。考虑模数 $60$。请用两种基于基本原理的独立方法计算 $\\varphi(60)$：\n1. 通过直接枚举所有与 $60$ 互质的模 $60$ 剩余类并进行计数。\n2. 利用 $60$ 的质因数分解，并根据模素数幂的余数结构和互质性的乘法结构进行推理。\n\n然后，从算术基本定理出发，利用中国剩余定理（CRT）清楚地解释为什么这两种方法的结果一致，并明确说明对与 $60$ 互质的余数进行计数是如何分解到 $60$ 的各个素数幂因子上的。你的最终答案必须是一个整数。无需四舍五入。", "solution": "问题要求使用两种不同的方法计算模数 $n=60$ 的欧拉函数值，记为 $\\varphi(60)$，然后使用中国剩余定理（CRT）来证明它们结果的等价性。\n\n欧拉函数 $\\varphi(n)$ 计算的是满足 $1 \\leq k \\leq n$ 且 $\\gcd(k, n) = 1$ 的正整数 $k$ 的数量。\n\n### 方法一：直接枚举\n该方法要求我们找出在 $1 \\leq k \\leq 60$ 范围内的所有与 $60$ 互质的整数 $k$。一个整数 $k$ 与 $60$ 互质，当且仅当它不与 $60$ 共享任何质因子。$60$ 的质因数分解为 $60 = 2^2 \\cdot 3 \\cdot 5$。因此，我们必须找出所有在 $1$ 到 $60$ 之间不能被 $2$、$3$ 或 $5$ 整除的整数。\n\n我们列出从 $1$ 到 $60$ 的整数，并系统地排除那些是 $2$、$3$ 或 $5$ 的倍数的数。\n\n此过程后剩下的整数就是那些与 $60$ 的最大公约数为 $1$ 的数。这些整数的列表是：\n$1, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 49, 53, 59$。\n\n为了验证，我们可以检查几个非质数项：\n- $\\gcd(1, 60) = 1$。\n- $\\gcd(49, 60) = \\gcd(7^2, 2^2 \\cdot 3 \\cdot 5) = 1$。\n\n计算这个列表中的整数个数，我们发现有 $16$ 个这样的整数。\n因此，通过直接枚举，我们得出结论 $\\varphi(60) = 16$。\n\n### 方法二：使用质因数分解\n该方法依赖于欧拉函数的积性性质。对于任意两个互质的整数 $m$ 和 $n$，有 $\\varphi(mn) = \\varphi(m)\\varphi(n)$。此性质背后的原因将在下一节中探讨。\n\n首先，我们找到 $60$ 的质因数分解：\n$$60 = 2^2 \\cdot 3^1 \\cdot 5^1 = 4 \\cdot 3 \\cdot 5$$\n由于因子 $4$、$3$ 和 $5$ 两两互质，我们可以写出：\n$$\\varphi(60) = \\varphi(4) \\cdot \\varphi(3) \\cdot \\varphi(5)$$\n\n现在，我们计算每个素数幂因子的 $\\varphi$ 值。对于一个素数 $p$ 和一个正整数 $k$，$\\varphi(p^k)$ 是从 $1$ 到 $p^k$ 中不能被 $p$ 整除的整数的个数。总共有 $p^k$ 个整数，其中 $p$ 的倍数是 $p, 2p, \\dots, p^{k-1}p$。这样的倍数恰好有 $p^{k-1}$ 个。\n因此，公式为 $\\varphi(p^k) = p^k - p^{k-1}$。\n\n将此公式应用于我们的因子：\n1. 对于因子 $4 = 2^2$:\n   $\\varphi(4) = \\varphi(2^2) = 2^2 - 2^{2-1} = 4 - 2 = 2$。\n   在 $[1, 4]$ 范围内与 $4$ 互质的整数是 $1$ 和 $3$。\n\n2. 对于因子 $3 = 3^1$:\n   $\\varphi(3) = \\varphi(3^1) = 3^1 - 3^{1-1} = 3 - 1 = 2$。\n   在 $[1, 3]$ 范围内与 $3$ 互质的整数是 $1$ 和 $2$。\n\n3. 对于因子 $5 = 5^1$:\n   $\\varphi(5) = \\varphi(5^1) = 5^1 - 5^{1-1} = 5 - 1 = 4$。\n   在 $[1, 5]$ 范围内与 $5$ 互质的整数是 $1, 2, 3,$ 和 $4$。\n\n现在，我们将这些结果相乘以求得 $\\varphi(60)$：\n$$\\varphi(60) = \\varphi(4) \\cdot \\varphi(3) \\cdot \\varphi(5) = 2 \\cdot 2 \\cdot 4 = 16$$\n此方法同样得出结果 $\\varphi(60) = 16$。\n\n### 通过中国剩余定理统一两种方法\n\n两种方法产生相同的结果，它们的等价性是中国剩余定理（CRT）的直接推论。\n\n1.  **算术基本定理与互质性**：算术基本定理指出，任何大于1的整数都可以唯一地表示为素数幂的乘积。正如我们所见，$60 = 2^2 \\cdot 3 \\cdot 5$。一个整数 $k$ 与 $60$ 互质（即 $\\gcd(k, 60)=1$），当且仅当 $k$ 与 $60$ 不共享任何质因子。这等价于同时满足以下条件：\n    - $k$ 不能被 $2$ 整除，这意味着 $\\gcd(k, 2^2) = \\gcd(k, 4) = 1$。\n    - $k$ 不能被 $3$ 整除，这意味着 $\\gcd(k, 3) = 1$。\n    - $k$ 不能被 $5$ 整除，这意味着 $\\gcd(k, 5) = 1$。\n\n2.  **中国剩余定理**：CRT 指出，如果 $n_1, n_2, \\dots, n_r$ 是两两互质的整数，那么对于任意给定的整数 $a_1, a_2, \\dots, a_r$，联立同余方程组：\n    $$x \\equiv a_1 \\pmod{n_1}$$\n    $$x \\equiv a_2 \\pmod{n_2}$$\n    $$\\vdots$$\n    $$x \\equiv a_r \\pmod{n_r}$$\n    在模 $N = n_1 n_2 \\cdots n_r$ 下有唯一解 $x$。\n    在我们的例子中，$n_1=4$，$n_2=3$ 和 $n_3=5$ 两两互质，它们的乘积是 $N=60$。CRT 在模 $60$ 的剩余类集合 $\\mathbb{Z}_{60}$ 与剩余类集合的笛卡尔积 $\\mathbb{Z}_4 \\times \\mathbb{Z}_3 \\times \\mathbb{Z}_5$ 之间建立了一个一一对应关系（一种环同构）。一个整数 $k$ 模 $60$ 对应于一个唯一的三元组 $(k \\pmod{4}, k \\pmod{3}, k \\pmod{5})$。\n\n3.  **计数的分解**：我们感兴趣的是计数满足 $\\gcd(k, 60)=1$ 的整数 $k$ 的数量。这等价于计数环 $\\mathbb{Z}_{60}$ 中的可逆元。这些可逆元的集合记为 $(\\mathbb{Z}_{60})^\\times$。该集合的大小为 $|\\!(\\mathbb{Z}_{60})^\\times\\!| = \\varphi(60)$。\n\n    在CRT同构下，一个元素 $[k]_{60} \\in \\mathbb{Z}_{60}$ 是一个可逆元，当且仅当其对应的三元组 $([k]_4, [k]_3, [k]_5)$ 是积环 $\\mathbb{Z}_4 \\times \\mathbb{Z}_3 \\times \\mathbb{Z}_5$ 中的一个可逆元。积环中的一个元素是可逆元，当且仅当它的每个分量在其各自的环中都是可逆元。\n\n    这意味着 $\\gcd(k, 60) = 1$ 等价于以下条件系统：\n    - $[k]_4$ 是 $\\mathbb{Z}_4$ 中的一个可逆元 $\\iff \\gcd(k, 4) = 1$。\n    - $[k]_3$ 是 $\\mathbb{Z}_3$ 中的一个可逆元 $\\iff \\gcd(k, 3) = 1$。\n    - $[k]_5$ 是 $\\mathbb{Z}_5$ 中的一个可逆元 $\\iff \\gcd(k, 5) = 1$。\n\n    每个分量的选择数量是：\n    - $\\mathbb{Z}_4$ 中可逆元的数量是 $|\\!(\\mathbb{Z}_4)^\\times\\!| = \\varphi(4)$。\n    - $\\mathbb{Z}_3$ 中可逆元的数量是 $|\\!(\\mathbb{Z}_3)^\\times\\!| = \\varphi(3)$。\n    - $\\mathbb{Z}_5$ 中可逆元的数量是 $|\\!(\\mathbb{Z}_5)^\\times\\!| = \\varphi(5)$。\n\n    由于三元组的每个分量的选择是独立的，因此这种三元组的总数是每个分量选择数量的乘积。因此，与 $60$ 互质的整数 $k$ 的总数是：\n    $$\\varphi(60) = |\\!(\\mathbb{Z}_{60})^\\times\\!| = |\\!(\\mathbb{Z}_4)^\\times\\!| \\cdot |\\!(\\mathbb{Z}_3)^\\times\\!| \\cdot |\\!(\\mathbb{Z}_5)^\\times\\!| = \\varphi(4) \\cdot \\varphi(3) \\cdot \\varphi(5)$$\n\n    这精确地说明了为什么两种方法必须一致。方法一（直接枚举）直接计算了 $(\\mathbb{Z}_{60})^\\times$ 中的元素数量。方法二（质因数分解）通过使用 CRT 将问题分解为计算与素数幂因子对应的环中的可逆元数量，然后将结果相乘，来计算同一个集合。CRT 提供了保证计数相同的双射关系。", "answer": "$$\\boxed{16}$$", "id": "3084922"}, {"introduction": "在模算术中，正确地处理指数是一个常见的挑战。欧拉定理为我们简化高次幂提供了强大工具，但其应用有严格的规则：指数应在模 $\\varphi(n)$ 的意义下进行简化，而非模 $n$。这个练习 [@problem_id:1385410] 展示了一个在模幂运算中典型的逻辑谬误，通过识别并分析这个错误，你将学会如何正确运用同余性质，这是避免初学者常犯错误的关键一步。", "problem": "一名学生需要化简表达式 $2^{13} \\pmod{5}$。该学生用一系列步骤展示其推理过程：\n\n*   **第一步：** 注意到指数和模数之间的关系。由于 $13 = 2 \\times 5 + 3$，我们可以说 $13 \\equiv 3 \\pmod{5}$。\n*   **第二步：** 基于第一步的同余关系，我们可以替换原表达式中的指数。这意味着 $2^{13} \\equiv 2^3 \\pmod{5}$。\n*   **第三步：** 现在，计算简化后表达式的值：$2^3 = 8$。\n*   **第四步：** 确定第三步结果模 $5$ 的同余。由于 $8 = 1 \\times 5 + 3$，我们有 $8 \\equiv 3 \\pmod{5}$。\n*   **第五步：** 结合前面的步骤，我们得出结论，原表达式等价于 $3$，因此 $2^{13} \\equiv 3 \\pmod{5}$。\n\n该学生的论证得出了一个错误的结果。请指出第一个逻辑谬误出现在哪一步。\n\nA. 第一步\n\nB. 第二步\n\nC. 第三步\n\nD. 第四步\n\nE. 第五步", "solution": "我们利用模运算的性质来分析每一步，以找出第一个逻辑错误。\n\n第一步断言 $13 = 2 \\cdot 5 + 3$，因此 $13 \\equiv 3 \\pmod{5}$。这是正确的，因为对于整数 $a,b,m0$， $a \\equiv b \\pmod{m}$ 当且仅当 $m$ 整除 $a-b$。这里 $5$ 整除 $13-3=10$。\n\n第二步声称由 $13 \\equiv 3 \\pmod{5}$ 可推出 $2^{13} \\equiv 2^{3} \\pmod{5}$。这通常是错误的。有效的规则是：如果 $x \\equiv y \\pmod{m}$，那么对于任意整数 $k$，有 $x^{k} \\equiv y^{k} \\pmod{m}$ (底数化简)。没有普适的规则允许对指数进行模 $m$ 的替换。指数化简需要关于乘法阶的信息。具体来说，如果 $\\gcd(a,m)=1$ 且 $\\operatorname{ord}_{m}(a)=t$，那么 $a^{u} \\equiv a^{v} \\pmod{m}$ 当且仅当 $u \\equiv v \\pmod{t}$。根据欧拉定理，$a^{\\varphi(m)} \\equiv 1 \\pmod{m}$，所以指数可以对 $\\varphi(m)$ (或阶 $t$) 取模进行化简，而不是对 $m$ 取模。这里 $m=5$，$\\varphi(5)=4$，并且确实有 $2^{4} \\equiv 1 \\pmod{5}$，所以正确的化简是 $2^{13} = 2^{4\\cdot 3 + 1} \\equiv (2^{4})^{3} \\cdot 2^{1} \\equiv 1^{3} \\cdot 2 \\equiv 2 \\pmod{5}$，而不是 $2^{3}$。因此，第二步是第一个逻辑谬误。\n\n第三步和第四步，$2^{3}=8$ 和 $8 \\equiv 3 \\pmod{5}$，在算术上是正确的，但它们是基于第二步中错误的替换得出的。因此，最早的错误在第二步。", "answer": "$$\\boxed{B}$$", "id": "1385410"}, {"introduction": "在数论和密码学中，计算一个元素的乘法阶是一个基本任务。欧拉定理（$a^{\\varphi(n)} \\equiv 1 \\pmod{n}$）为此提供了一个关键性的见解，即元素的乘法阶必然是 $\\varphi(n)$ 的一个因子。这个练习 [@problem_id:3084947] 将让你亲手应用欧拉定理来解决一个具体的计算问题，通过利用该定理缩小寻找阶的范围，你将体会到抽象理论在简化计算和提高解题效率方面的巨大威力。", "problem": "令 $\\operatorname{ord}_{n}(a)$ 表示 $a$ 模 $n$ 的乘法阶，定义为满足 $a^{k} \\equiv 1 \\pmod{n}$ 的最小正整数 $k$，假设 $| \\gcd(a,n) | = 1$，其中 $\\gcd$ 代表最大公约数。依据模 $n$ 的单位集在乘法下构成一个有限群以及欧拉$\\phi$函数 $\\varphi(n)$ 计算这些单位的数量这些基本事实，通过先确定 $\\varphi(15)$ 然后测试其正因数来计算 $\\operatorname{ord}_{15}(2)$。最后，通过对相关候选指数 $d$ 进行 $2^{d} \\bmod 15$ 的显式同余检验来确认你的结果。请以单一整数形式提供答案。无需四舍五入，不涉及单位。", "solution": "问题要求计算 2 模 15 的乘法阶，记为 $\\operatorname{ord}_{15}(2)$。该问题陈述定义明确，在既有数论中有坚实的科学基础，并为得到唯一解提供了所有必要信息。因此，我们可以进行计算。\n\n整数 $a$ 模 $n$ 的乘法阶 $\\operatorname{ord}_{n}(a)$ 仅在 $\\gcd(a, n) = 1$ 时有定义。在本例中，我们考虑的是 $a=2$ 和 $n=15$。最大公约数为 $\\gcd(2, 15) = 1$，因为 15 不能被 2 整除。因此，阶 $\\operatorname{ord}_{15}(2)$ 是有明确定义的。\n\n与 $n$ 互质的整数集合构成一个模 $n$ 的乘法群，记为 $(\\mathbb{Z}/n\\mathbb{Z})^\\times$。该群的阶由欧拉$\\phi$函数 $\\varphi(n)$ 给出。欧拉定理是群论中拉格朗日定理的一个推论，它指出对于任何满足 $\\gcd(a,n)=1$ 的整数 $a$，我们有 $a^{\\varphi(n)} \\equiv 1 \\pmod{n}$。这意味着 $a$ 模 $n$ 的乘法阶必须是 $\\varphi(n)$ 的一个因数。\n\n按照说明，我们首先计算 $\\varphi(15)$。由于$\\phi$函数对于互质的自变量是积性函数，且 15 的素数分解为 $3 \\times 5$，我们有：\n$$\n\\varphi(15) = \\varphi(3 \\times 5) = \\varphi(3) \\times \\varphi(5)\n$$\n对于任意素数 $p$，$\\varphi(p) = p-1$。因此：\n$$\n\\varphi(3) = 3 - 1 = 2\n$$\n$$\n\\varphi(5) = 5 - 1 = 4\n$$\n将这些值代回，我们得到：\n$$\n\\varphi(15) = 2 \\times 4 = 8\n$$\n根据从欧拉定理导出的原理，$\\operatorname{ord}_{15}(2)$ 必须是 $\\varphi(15) = 8$ 的一个正因数。8 的正因数集合是 $\\{1, 2, 4, 8\\}$。为了找到阶，也就是满足条件的*最小*正整数，我们按升序测试这些因数。\n\n令 $d$ 为因数集中的一个候选指数。我们检验同余式 $2^d \\equiv 1 \\pmod{15}$。\n对于 $d=1$：\n$$\n2^1 = 2 \\not\\equiv 1 \\pmod{15}\n$$\n对于 $d=2$：\n$$\n2^2 = 4 \\not\\equiv 1 \\pmod{15}\n$$\n对于 $d=4$：\n$$\n2^4 = 16\n$$\n因为 $16 = 1 \\times 15 + 1$，我们有：\n$$\n2^4 \\equiv 1 \\pmod{15}\n$$\n由于 $d=4$ 是使该同余式成立的 8 的最小正因数，我们确定 2 模 15 的乘法阶为 4。\n$$\n\\operatorname{ord}_{15}(2) = 4\n$$\n为按要求确认此结果，我们可以对所有相关候选指数（即 8 的因数）进行显式同余检验。\n检验 $d=1$：$2^1 = 2 \\pmod{15}$。同余式 $2^1 \\equiv 1 \\pmod{15}$ 为假。\n检验 $d=2$：$2^2 = 4 \\pmod{15}$。同余式 $2^2 \\equiv 1 \\pmod{15}$ 为假。\n检验 $d=4$：$2^4 = 16 \\equiv 1 \\pmod{15}$。同余式 $2^4 \\equiv 1 \\pmod{15}$ 为真。\n检验 $d=8$：$2^8 = (2^4)^2 \\equiv 1^2 \\equiv 1 \\pmod{15}$。同余式 $2^8 \\equiv 1 \\pmod{15}$ 为真，这与欧拉定理 $2^{\\varphi(15)} \\equiv 1 \\pmod{15}$ 一致。\n\n显式检验确认了对于 8 的各因数，2 的幂模 15 的结果分别为 2, 4, 1, 1。使 $2^k \\equiv 1 \\pmod{15}$ 成立的最小正指数 $k$ 是 $k=4$。", "answer": "$$\\boxed{4}$$", "id": "3084947"}]}