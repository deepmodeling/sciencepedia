{"hands_on_practices": [{"introduction": "在我们对二次型进行分类之前，我们必须理解它们最基本的不变量：判别式。本练习将引导您从第一性原理出发，推导判别式，并将其符号与二次型的定性联系起来。掌握这一基本概念对于理解为何定二次型和不定二次型的约化过程有如此大的差异至关重要。", "problem": "考虑整数上的二元二次型 $Q(x,y)=2x^{2}+3xy+5y^{2}$。仅使用关于二元二次型的基本定义和事实，完成以下任务：\n- 从第一性原理推导 $Q$ 的判别式 $D$。\n- 确定 $Q$ 的定性（正定、负定或不定），并直接根据 $D$ 的符号以及适当的主子式判据来证明你的分类。\n- 简要解释 $D$ 的符号如何决定 $Q$ 所表示的值的定性行为，并说明在 $D0$ 的情况下，约化理论如何意味着等价类的有限性，并将其与判别式 $D$ 的类数概念联系起来。在你的解释中，不要使用任何预先陈述的分类定理或快捷公式；从定义和标准矩阵判据出发进行推理。\n\n你最终报告的答案必须是判别式 $D$，作为一个精确的整数。不需要四舍五入。", "solution": "将根据指定的验证协议分析问题陈述。\n\n### 第一步：提取已知条件\n- 二元二次型为 $Q(x,y)=2x^{2}+3xy+5y^{2}$。\n- 变量 $x$ 和 $y$ 是整数。\n- 任务是：\n    1. 从第一性原理推导 $Q$ 的判别式 $D$。\n    2. 使用 $D$ 的符号和主子式判据确定 $Q$ 的定性。\n    3. 简要解释 $D$ 的符号、$Q$ 所表示的值的行为以及在 $D0$ 情况下等价类的有限性（类数）之间的联系。\n- 约束条件是仅使用基本定义和事实，不使用预先陈述的分类定理或快捷公式。\n\n### 第二步：使用提取的已知条件进行验证\n该问题是初等二元二次型理论中的一个标准练习，属于数论领域的一个主题。\n- **科学性：** 该问题基于数论和线性代数中公认的数学原理。所有概念——二元二次型、判别式、定性、等价类、类数——都有严格的定义。\n- **适定性：** 该问题提供了一个特定的二次型，并要求阐述可以唯一确定的特定、明确定义的性质和解释。\n- **客观性：** 该问题以精确、形式化的数学语言陈述，没有歧义或主观论断。\n- 该问题是自洽的、一致的，并且不违反任何指定的无效标准。它要求从第一性原理进行推导，这是一项合理且富有洞察力的数学任务。\n\n### 第三步：结论与行动\n该问题是 **有效的**。将提供完整的解答。\n\n### 解答\n\n一般的二元二次型是表达式 $Q(x,y) = ax^2 + bxy + cy^2$，其中 $a$、$b$ 和 $c$ 是整数系数，$x, y$ 是整数变量。对于给定的二次型 $Q(x,y)=2x^{2}+3xy+5y^{2}$，我们有 $a=2$、$b=3$ 和 $c=5$。\n\n**判别式的推导**\n\n二元二次型的判别式 $D$ 从根本上源于配方法。我们处理 $Q(x,y)$ 的表达式，以分离出一个包含 $x$ 和 $y$ 的平方项。我们将该二次型视为关于 $x$ 的二次多项式来进行处理：\n$$Q(x,y) = ax^2 + bxy + cy^2$$\n我们乘以 $4a$ 以在对项 $(2ax)^2$ 进行配方的中间步骤中避免分数：\n$$4aQ(x,y) = 4a(ax^2 + bxy + cy^2) = 4a^2x^2 + 4abxy + 4acy^2$$\n前两项是 $(2ax+by)^2$ 展开式的一部分：\n$$(2ax+by)^2 = 4a^2x^2 + 4abxy + b^2y^2$$\n将此代入 $4aQ(x,y)$ 的表达式中：\n$$4aQ(x,y) = (2ax+by)^2 - b^2y^2 + 4acy^2$$\n$$4aQ(x,y) = (2ax+by)^2 - (b^2 - 4ac)y^2$$\n量 $D = b^2 - 4ac$ 被定义为二次型的判别式。这个表达式表明 $Q(x,y)$ 所取值的性质关键取决于 $D$ 的符号。\n\n对于特定的二次型 $Q(x,y)=2x^{2}+3xy+5y^{2}$，系数为 $a=2$、$b=3$ 和 $c=5$。使用上面推导出的定义，判别式为：\n$$D = b^2 - 4ac = 3^2 - 4(2)(5) = 9 - 40 = -31$$\n\n**定性的确定**\n\n二次型的定性可以使用二阶偏导数的Hessian矩阵来确定，对于二元二次型 $Q(x,y)$，这对应于一个对称矩阵表示。二次型 $Q(x,y)$ 可以用矩阵表示法写为 $\\mathbf{v}^T M \\mathbf{v}$，其中 $\\mathbf{v} = \\begin{pmatrix} x \\\\ y \\end{pmatrix}$，$M$ 是对称矩阵：\n$$M = \\begin{pmatrix} a  b/2 \\\\ b/2  c \\end{pmatrix}$$\n对于 $Q(x,y)=2x^{2}+3xy+5y^{2}$，其关联矩阵为：\n$$M = \\begin{pmatrix} 2  3/2 \\\\ 3/2  5 \\end{pmatrix}$$\n根据 Sylvester 判据，一个对称矩阵是正定的，当且仅当其所有顺序主子式都为正。顺序主子式是左上角 $k \\times k$ 子矩阵的行列式。\n第一个顺序主子式是 $M_1 = \\det([2]) = 2$。\n第二个顺序主子式是 $M_2 = \\det(M) = (2)(5) - (\\frac{3}{2})(\\frac{3}{2}) = 10 - \\frac{9}{4} = \\frac{40-9}{4} = \\frac{31}{4}$。\n\n由于 $M_1=2 > 0$ 且 $M_2=\\frac{31}{4} > 0$，两个顺序主子式都为正。因此，矩阵 $M$ 是正定的，从而二次型 $Q(x,y)$ 是正定的。这意味着对于所有不为 $(0,0)$ 的整数对 $(x,y)$，都有 $Q(x,y) > 0$。\n\n与判别式 $D$ 的联系是直接的。第二个主子式是 $M$ 的行列式：\n$$\\det(M) = ac - \\frac{b^2}{4} = -\\frac{1}{4}(b^2 - 4ac) = -\\frac{D}{4}$$\n正定性的判据（$M_1 > 0$ 和 $M_2 > 0$）转化为 $a > 0$ 和 $-D/4 > 0$。条件 $-D/4 > 0$ 等价于 $D  0$。\n在我们的例子中，$a=2 > 0$ 且计算出的判别式 $D=-31  0$。两个条件都满足，从而通过 $D$ 的符号和第一个系数 $a$（也就是第一个主子式）确认了该二次型是正定的。\n\n**$D$ 的作用及类数有限性的解释**\n\n判别式 $D = b^2 - 4ac$ 的符号决定了 $Q(x,y)$ 所表示的值的定性行为。如 $D$ 的推导所示：\n$$Q(x,y) = \\frac{1}{4a} \\left( (2ax+by)^2 - Dy^2 \\right)$$\n- 如果 $D  0$，那么 $-D > 0$。表达式 $(2ax+by)^2 - Dy^2$ 是两个平方的和（如果我们考虑有理数变量，则乘以一个常数），它只能在 $y=0$ 和 $2ax+by=0$ 时为零，这意味着 $x=0$。因此，对于所有 $(x,y) \\neq (0,0)$，$Q(x,y)$ 的符号与 $a$ 相同。该二次型是定的（如果 $a>0$ 则为正定，如果 $a0$ 则为负定）。\n- 如果 $D > 0$，表达式 $(2ax+by)^2 - Dy^2$ 是两个平方的差。通过为 $x$ 和 $y$ 选择适当的整数值，可以使该表达式为正或为负。因此，该二次型是不定的，既可以表示正值也可以表示负值。\n- 如果 $D = 0$，二次型变为 $Q(x,y) = \\frac{1}{4a}(2ax+by)^2$，只要 $2ax+by=0$，它就为零。这条零值线表明该二次型是退化的。\n\n对于 $D  0$ 的情况，例如我们的判别式 $D=-31$，二次型是定的。二元二次型理论研究在模群 $SL(2, \\mathbb{Z})$ 作用下二次型的等价类。如果两个二次型表示相同的整数集合，则它们是等价的。约化理论为每个等价类提供了一个规范代表。对于一个正定二次型 $ax^2+bxy+cy^2$，其*约化*条件是 $|b| \\le a \\le c$。\n\n对于固定的负判别式 $D$，等价类数量的有限性（类数 $h(D)$）可以从这些约化条件中推导出来。\n对于一个约化形式，我们有不等式 $|b| \\le a$ 和 $a \\le c$。\n从判别式方程 $D = b^2 - 4ac$，我们得到 $4ac = b^2 - D$。由于二次型是正定的，所以 $a > 0$ 且 $c > 0$。\n结合这些不等式：\n$$4a^2 = 4a \\cdot a \\le 4a \\cdot c = 4ac = b^2 - D$$\n因为 $|b| \\le a$，我们有 $b^2 \\le a^2$。因此：\n$$4a^2 \\le b^2 - D \\le a^2 - D$$\n这意味着 $3a^2 \\le -D$。由于 $D  0$，$-D$ 是正数，我们可以将其写为：\n$$a^2 \\le \\frac{-D}{3} \\quad \\text{或} \\quad a \\le \\sqrt{\\frac{-D}{3}}$$\n由于 $a$ 必须是整数，这个不等式表明对于一个固定的判别式 $D$，系数 $a$ 只有有限个可能的值。\n对于 $a$ 的这有限多个值中的每一个，约化条件 $|b| \\le a$ 意味着 $b$ 也只有有限个可能的整数值。\n最后，对于每一对 $(a, b)$，系数 $c$ 由判别式方程唯一确定：$c = \\frac{b^2-D}{4a}$。我们还必须验证 $c$ 是一个满足 $a \\le c$ 的整数，但关键点是约化形式的可能三元组 $(a,b,c)$ 的数量是有限的。\n由于 $a$ 有有限个选择，对于其中每一个，$b$ 也有有限个选择，而 $c$ 随之确定，所以判别式为 $D$ 的约化形式的总数必须是有限的。这个有限的数就是类数 $h(D)$。\n\n总而言之，判别式的负号确保了定性，这又导致了不等式（$3a^2 \\le -D$ 和 $|b| \\le a$），这些不等式限制了任何约化形式的系数，从而证明了类数的有限性。", "answer": "$$\\boxed{-31}$$", "id": "3009986"}, {"introduction": "约化理论为我们提供了一个计算类数的强大算法。本实践练习要求您将此算法应用于一个具体的例子，即判别式 $D=-23$。通过系统地找出所有约化的二次型，您将亲手计算出一个类数，并获得关于本主题核心计算技巧的实践经验。", "problem": "设 $D$ 是一个负基本判别式，考虑具有整数系数 $a,b,c$ 且判别式为 $\\Delta=b^{2}-4ac=D$ 的本原正定二元二次型 $f(x,y)=ax^{2}+bxy+cy^{2}$。如果两个二次型可以通过一个属于整数特殊线性群 $\\mathrm{SL}_{2}(\\mathbb{Z})$ 的矩阵进行变量代换而相互转换，则称它们为真等价。如果一个二次型满足经典的简化不等式 $|b|\\leq a\\leq c$，并且满足当 $|b|=a$ 或 $a=c$ 时 $b\\geq 0$ 的附加约定，则称其为简化型。对于本原性，系数 $a,b,c$ 的最大公约数(gcd)必须为 $1$。一个基本事实是，每个判别式为 $D$ 的本原正定二次型的真等价类中，都包含一个唯一的简化代表元。\n\n从上述定义和仅有的经过充分检验的基础性结论（例如每个真等价类中简化代表元的唯一性）出发，推导并应用一个直接由简化不等式和关系式 $b^{2}-4ac=D$ 得出的首项系数 $a$ 的界。利用这个界，通过找出所有满足简化不等式和判别式关系式的整数三元组 $(a,b,c)$，并验证其本原性，来系统地枚举出所有判别式为 $D=-23$ 的本原正定简化型。最后，通过计算这些简化型的数量来得出结论，该数量等于 $D=-23$ 的真等价类数量。\n\n将判别式 $D=-23$ 的最终类数作为你的最终答案。无需四舍五入。最终答案必须是单个实数值。", "solution": "首先对问题陈述进行严格的验证过程。\n\n**步骤1：提取已知条件**\n-   $D$：一个负基本判别式。\n-   $f(x,y)=ax^2+bxy+cy^2$：一个具有整数系数 $a,b,c$ 的本原正定二元二次型。\n-   本原性：$\\gcd(a,b,c)=1$。\n-   正定性：$a0$ 且判别式 $\\Delta = D  0$。\n-   判别式：$\\Delta = b^2 - 4ac = D$。\n-   真等价：由 $\\mathrm{SL}_2(\\mathbb{Z})$ 中的矩阵变换定义。\n-   简化型条件：若一个二次型 $(a,b,c)$ 满足 $|b| \\leq a \\leq c$，则其为简化型。\n-   简化型附加约定：若 $|b|=a$ 或 $a=c$，则 $b \\geq 0$。\n-   唯一性：每个真等价类恰好包含一个简化代表元。\n-   用于分析的特定判别式：$D = -23$。\n-   任务：枚举所有 $D=-23$ 的本原正定简化型，以确定类数。\n\n**步骤2：使用提取的已知条件进行验证**\n-   **科学基础（关键）**：该问题明确属于经典代数数论的范畴，特别是高斯(Gauss)发展的二元二次型理论。所有定义——判别式、本原性、正定性、简化和真等价——都是标准的且在数学上是正确的。判别式 $D=-23$ 确实是一个基本判别式，因为 $-23$ 是一个无平方因子整数且 $-23 \\equiv 1 \\pmod 4$。每个等价类包含一个唯一的简化型的核心论断是该领域的一个基石定理。该问题在科学上是合理的。\n-   **适定性**：该问题是适定的。它指定了一组明确的条件（简化不等式、判别式值、本原性），这些条件定义了一个有限的整数三元组 $(a,b,c)$ 集合。任务是枚举这个集合，从而得出一个唯一的、定义明确的整数解（类数）。\n-   **客观性（关键）**：该问题以精确、形式化的数学语言陈述，没有任何歧义、主观性或意见。\n-   该问题没有说明中列出的任何缺陷（例如，不完整性、矛盾、不可行性）。这是一个数论中的标准、可解问题。\n\n**步骤3：结论与行动**\n问题是有效的。可以开始求解过程。\n\n我们的任务是找出判别式为 $D = -23$ 的本原正定简化二元二次型的数量。这个数量就是类数，记作 $h(D)$。一个二次型由其系数三元组 $(a,b,c)$ 表示。\n\n首先，我们推导系数 $a$ 的一个界。二次型是正定的，因此 $a > 0$ 且判别式 $D = b^2 - 4ac$ 为负。简化条件是 $|b| \\leq a \\leq c$。\n\n从判别式方程，我们有 $4ac = b^2 - D$。由于 $D  0$，我们可以写成 $4ac = b^2 + |D|$。\n使用简化不等式：\n$a \\leq c \\implies 4a^2 \\leq 4ac$。\n$|b| \\leq a \\implies b^2 \\leq a^2$。\n\n将这些代入判别式关系中：\n$$4a^2 \\leq 4ac = b^2 + |D| \\leq a^2 + |D|$$\n这给出了不等式 $4a^2 \\leq a^2 + |D|$，简化为 $3a^2 \\leq |D|$。\n整理得到 $a$ 的表达式：\n$$a^2 \\leq \\frac{|D|}{3} \\implies a \\leq \\sqrt{\\frac{|D|}{3}}$$\n由于 $a$ 必须是正整数，这个不等式为 $a$ 提供了一个有限的可能值集合。\n\n对于特定情况 $D = -23$，我们有 $|D| = 23$。$a$ 的界是：\n$$a \\leq \\sqrt{\\frac{23}{3}} \\approx \\sqrt{7.666...} \\approx 2.768...$$\n因此，$a$ 唯一可能的整数值是 $a=1$ 和 $a=2$。\n\n我们现在对每个 $a$ 的值系统地枚举所有可能的三元组 $(a,b,c)$。\n\n判别式方程带来了另一个约束条件：$b^2 = 4ac + D$。对于 $D=-23$，我们有 $b^2 = 4ac - 23$。这意味着 $b^2 \\equiv -23 \\pmod 4$。由于 $-23 \\equiv 1 \\pmod 4$，我们必须有 $b^2 \\equiv 1 \\pmod 4$。这当且仅当 $b$ 是一个奇数时成立。\n\n**情况1：$a=1$**\n简化条件 $|b| \\leq a$ 变为 $|b| \\leq 1$。由于 $b$ 必须是奇数，所以 $b$ 的可能值为 $b=1$ 和 $b=-1$。\n\n-   如果 $b=1$：我们使用判别式方程 $b^2 - 4ac = D$ 来求 $c$：\n    $$1^2 - 4(1)c = -23$$\n    $$1 - 4c = -23$$\n    $$4c = 24 \\implies c=6$$\n    这得到二次型 $(a,b,c) = (1,1,6)$。我们必须验证这个二次型是否是简化的和本原的。\n    -   简化条件：$|b| \\leq a \\leq c \\implies |1| \\leq 1 \\leq 6$。这是成立的。\n    -   附加约定：我们有 $|b|=a$。规则要求 $b \\geq 0$。因为 $b=1$，所以此条件满足。\n    -   本原性：$\\gcd(1,1,6)=1$。该二次型是本原的。\n    因此，$(1,1,6)$ 是一个有效的简化型。\n\n-   如果 $b=-1$：\n    $$(-1)^2 - 4(1)c = -23$$\n    $$1 - 4c = -23 \\implies c=6$$\n    这得到二次型 $(1,-1,6)$。\n    -   简化条件：$|-1| \\leq 1 \\leq 6$。这是成立的。\n    -   附加约定：我们有 $|b|=a$。规则要求 $b \\geq 0$。这里 $b=-1$，违反了规则。\n    因此，$(1,-1,6)$ 不是一个简化型。\n\n**情况2：$a=2$**\n简化条件 $|b| \\leq a$ 变为 $|b| \\leq 2$。由于 $b$ 必须是奇数，所以 $b$ 的可能值为 $b=1$ 和 $b=-1$。\n\n-   如果 $b=1$：我们求 $c$：\n    $$1^2 - 4(2)c = -23$$\n    $$1 - 8c = -23$$\n    $$8c = 24 \\implies c=3$$\n    这得到二次型 $(2,1,3)$。我们验证条件。\n    -   简化条件：$|b| \\leq a \\leq c \\implies |1| \\leq 2 \\leq 3$。这是成立的。\n    -   附加约定：$|b|=a$ 和 $a=c$ 都不成立，因此附加约定不适用。\n    -   本原性：$\\gcd(2,1,3)=1$。该二次型是本原的。\n    因此，$(2,1,3)$ 是一个有效的简化型。\n\n-   如果 $b=-1$：\n    $$(-1)^2 - 4(2)c = -23$$\n    $$1 - 8c = -23 \\implies c=3$$\n    这得到二次型 $(2,-1,3)$。我们验证条件。\n    -   简化条件：$|b| \\leq a \\leq c \\implies |-1| \\leq 2 \\leq 3$。这是成立的。\n    -   附加约定：$|b|=a$ 和 $a=c$ 都不成立。\n    -   本原性：$\\gcd(2,-1,3)=1$。该二次型是本原的。\n    因此，$(2,-1,3)$ 是一个有效的简化型。\n\n总之，穷举搜索得到了判别式为 $D=-23$ 的恰好三个本原正定简化型：\n1.  $x^2 + xy + 6y^2$，对应于三元组 $(1,1,6)$。\n2.  $2x^2 + xy + 3y^2$，对应于三元组 $(2,1,3)$。\n3.  $2x^2 - xy + 3y^2$，对应于三元组 $(2,-1,3)$。\n\n这些二次型的数量就是判别式 $D=-23$ 的类数。\n计算我们找到的二次型数量，类数为 $h(-23) = 3$。", "answer": "$$\\boxed{3}$$", "id": "3010013"}, {"introduction": "每个等价类中约化形式的唯一性是该理论的基石，但这依赖于定义中的一些微妙细节。本问题挑战您去探索当这些细节被放宽时会发生什么。通过构造一个反例，您将更深刻地理解为何约化形式定义中的特定“决胜规则”并非任意设定，而是至关重要的。", "problem": "设 $f(x,y) = ax^{2} + bxy + cy^{2}$ 是一个整系数二元二次型，其系数为 $a$、$b$、$c$。$f$ 的判别式为 $\\Delta = b^{2} - 4ac$。如果存在一个矩阵 $M \\in \\mathrm{Special\\ Linear\\ Group\\ of\\ degree\\ 2\\ over\\ the\\ integers\\ (SL(2,\\mathbb{Z}))}$，使得由 $M$ 导出的变量变换将 $f$ 转换为 $f'$，则称两个二次型 $[a,b,c]$ 和 $[a',b',c']$ 是真等价的。对于 $\\Delta  0$ 的情况，如果 $a > 0$，则称该二次型为正定二次型。针对正定二次型的Gauss约化要求满足不等式 $|b| \\leq a \\leq c$，以及边界符号条件：如果 $|b| = a$ 或 $a = c$，则 $b \\geq 0$。在这些条件下，每个真等价类都包含一个唯一的约化代表元。\n\n现在考虑一个弱化的约化概念，其中去掉了边界符号条件，即，如果一个二次型满足 $a > 0$，$c > 0$ 和 $|b| \\leq a \\leq c$，则称其为约化的，当等式成立时对 $b$ 的符号没有限制。仅使用上述核心定义和 $SL(2,\\mathbb{Z})$ 的等价作用，构造一个明确的反例，证明在这种弱化约化条件下唯一性不成立，并指出破坏唯一性证明的精确弱化边界条件。\n\n计算判别式为 $\\Delta = -3$ 的本原正定二次型的真等价类中，（在这种弱化概念下）弱化约化代表元的确切数量。你的最终答案必须是一个整数。无需四舍五入。", "solution": "该问题要求做三件事：首先，在弱化约化条件下，为约化形式的唯一性构造一个反例；其次，指出弱化条件中导致唯一性失效的具体方面；第三，计算判别式为 $\\Delta = -3$ 的此类弱化约化形式的数量。\n\n我们用其整系数三元组 $f = [a, b, c]$ 表示一个二元二次型，代表 $f(x,y) = ax^2 + bxy + cy^2$。其判别式为 $\\Delta = b^2 - 4ac$。如果 $\\Delta  0$ 且 $a > 0$，则该二次型是正定的。群 $\\mathrm{SL}(2, \\mathbb{Z})$ 作用于这些二次型。对于矩阵 $M = \\begin{pmatrix} p  q \\\\ r  s \\end{pmatrix} \\in \\mathrm{SL}(2, \\mathbb{Z})$，变量变换 $(x, y) \\to (px+qy, rx+sy)$ 将二次型 $[a, b, c]$ 转换为一个新的二次型 $[a', b', c']$。如果两个二次型通过这样的变换相关联，则它们是真等价的。\n\n正定二次型的弱化约化条件是：\n$1.$ $|b| \\leq a$\n$2.$ $a \\leq c$\n\n我们注意到，对于一个正定二次型，$\\Delta = b^2 - 4ac  0$ 意味着 $4ac > b^2 \\geq 0$。由于 $a > 0$，因此可以推断出 $c > 0$。所以，问题描述中提到的条件 $c > 0$ 是多余的。\n\n### 第一部分：唯一性的反例\n\n标准的（Gauss）约化条件是 $|b| \\leq a \\leq c$，并附加边界条件：如果 $|b| = a$ 或 $a = c$，则 $b \\geq 0$。正是这个边界条件确保了唯一性。通过去掉它，我们可以预见到在这些边界上会出现非唯一的、等价的代表元。\n\n我们来研究 $a=c$ 的情况。考虑二次型 $f_1 = [2, 1, 2]$。\n- 这是一个本原二次型，因为 $\\mathrm{gcd}(2, 1, 2) = 1$。\n- 判别式为 $\\Delta = 1^2 - 4(2)(2) = 1 - 16 = -15$。\n- 它是正定的，因为 $\\Delta  0$ 且 $a=2 > 0$。\n- 它满足弱化约化条件：$|b| = 1 \\leq a = 2$ 且 $a = 2 \\leq c = 2$。\n\n现在，我们考虑矩阵 $S = \\begin{pmatrix} 0  -1 \\\\ 1  0 \\end{pmatrix} \\in \\mathrm{SL}(2, \\mathbb{Z})$ 的作用。相应的变换是 $(x, y) \\to (-y, x)$。将此变换应用于 $f(x,y) = ax^2 + bxy + cy^2$ 会得到 $f(-y, x) = a(-y)^2 + b(-y)x + c(x)^2 = cx^2 - bxy + ay^2$。此变换将二次型 $[a, b, c]$ 映射到 $[c, -b, a]$。\n\n将此变换应用于 $f_1 = [2, 1, 2]$，我们得到二次型 $f_2 = [2, -1, 2]$。\n我们来检查 $f_2$ 是否也是弱化约化的：\n- 它的判别式相同，$\\Delta = (-1)^2 - 4(2)(2) = -15$，并且也是本原的。\n- 它是正定的，因为 $a=2 > 0$。\n- 它满足弱化约化条件：$|b| = |-1| = 1 \\leq a = 2$ 且 $a = 2 \\leq c = 2$。\n\n我们找到了两个不同的二次型 $f_1 = [2, 1, 2]$ 和 $f_2 = [2, -1, 2]$，它们是真等价的，但都满足弱化约化条件。这就构成了所需反例，并证明了唯一性的失效。\n\n### 第二部分：缺陷的识别\nGauss约化唯一性的证明表明，如果两个二次型 $[a,b,c]$ 和 $[a',b',c']$ 是真等价的且都是Gauss约化的，那么它们必须是相同的。证明的一个关键部分是确定 $a=a'$，$c=c'$，因此 $b^2 = (b')^2$，这就留下了 $b' = \\pm b$ 的模糊性。边界条件正是为了解决这种模糊性而设计的。通过去掉这些条件，我们允许了不同的、等价的二次型作为“约化”形式共存的情况。\n\n非唯一性的两个主要来源是 $\\mathrm{SL}(2, \\mathbb{Z})$ 的特定元素在由 $|b| \\leq a \\leq c$ 定义的基本区域边界上的作用。\n\n1.  **边界 $a=c$**：如我们的反例所示，变换 $S = \\begin{pmatrix} 0  -1 \\\\ 1  0 \\end{pmatrix}$ 将 $[a, b, a]$ 映射到 $[a, -b, a]$。如果一个二次型 $f_1 = [a, b, a]$（其中 $b \\neq 0$）是弱化约化的（要求 $|b| \\leq a$），那么其等价形式 $f_2 = [a, -b, a]$ 也是弱化约化的。如果 $b \\ne 0$，这两个二次型是不同的。弱化约化无法在它们之间做出选择。标准条件 $b \\geq 0$ 会选择 $[a, |b|, a]$ 作为唯一的代表元。\n\n2.  **边界 $|b|=a$**：考虑变换 $T = \\begin{pmatrix} 1  1 \\\\ 0  1 \\end{pmatrix} \\in \\mathrm{SL}(2, \\mathbb{Z})$。它将 $(x, y)$ 映射到 $(x+y, y)$，从而将 $[a, b, c]$ 变换为 $[a, b+2a, a+b+c]$。其逆变换 $T^{-1}=\\begin{pmatrix} 1  -1 \\\\ 0  1 \\end{pmatrix}$ 将 $[a, b, c]$ 映射到 $[a, b-2a, a-b+c]$。考虑一个二次型 $f_1 = [a, a, c]$，其中 $a \\leq c$。它是弱化约化的。让我们找一个等价形式。如果 $a \\leq c$，二次型 $f_2 = [a, -a, c]$ 也是弱化约化的。将变换 $T$ 应用于 $f_2$ 得到 $[a, -a+2a, a-a+c] = [a, a, c] = f_1$。因此，$[a, a, c]$ 和 $[a, -a, c]$ 是真等价的。如果 $a>0$，它们是不同的。如果 $a \\leq c$，两者都是弱化约化的。唯一性再次失效。标准条件 $b \\geq 0$ 会选择 $[a, a, c]$。\n\n精确的缺陷在于，弱化约化条件定义了一个基本区域，其边界在群作用下是相互等同的。由于没有在这些边界上施加一个决胜规则（如 $b \\geq 0$），在群作用下等价的点都被包含了进来，从而破坏了唯一性。具体的失效情况发生在满足 $a=c$（其中 $b \\neq 0$）或 $|b|=a$ 的二次型上。\n\n### 第三部分：对判别式 $\\Delta = -3$ 的计算\n我们寻求满足弱化约化条件 $|b| \\leq a \\leq c$ 的、判别式为 $\\Delta = b^2 - 4ac = -3$ 的本原正定二次型 $[a, b, c]$ 的数量。\n\n条件 $\\Delta = -3$ 意味着 $4ac = b^2 + 3$。\n从约化条件 $|b| \\leq a$，我们得到 $b^2 \\leq a^2$。\n将其代入判别式方程：$4ac = b^2 + 3 \\leq a^2 + 3$。\n\n从约化条件 $a \\leq c$，我们可以写出 $4a^2 \\leq 4ac$。\n结合这些不等式，我们得到：\n$4a^2 \\leq 4ac \\leq a^2 + 3$\n这可以简化为 $3a^2 \\leq 3$，即 $a^2 \\leq 1$。\n由于该二次型是正定的，$a$ 必须是正整数，所以唯一的可能性是 $a=1$。\n\n现在，我们将 $a=1$ 代回我们的条件中：\n$1.$ $|b| \\leq a \\implies |b| \\leq 1$。由于 $b$ 必须是整数，所以 $b \\in \\{-1, 0, 1\\}$。\n$2.$ $4ac = b^2 + 3 \\implies 4(1)c = b^2 + 3 \\implies 4c = b^2 + 3$。\n\n我们测试 $b$ 可能的整数值：\n- 如果 $b=0$，那么 $4c = 0^2 + 3 = 3$，这给出 $c = 3/4$。这不是一个整数，所以不存在 $b=0$ 的二次型。\n- 如果 $b=1$，那么 $4c = 1^2 + 3 = 4$，这给出 $c=1$。这就得到了二次型 $f_1 = [1, 1, 1]$。\n- 如果 $b=-1$，那么 $4c = (-1)^2 + 3 = 4$，这给出 $c=1$。这就得到了二次型 $f_2 = [1, -1, 1]$。\n\n我们必须验证这两个二次型满足所有要求的性质。\n对于 $f_1 = [1, 1, 1]$：\n- $\\Delta = 1^2 - 4(1)(1) = -3$。\n- 本原性：$\\mathrm{gcd}(1, 1, 1) = 1$。\n- 正定性：$a=1 > 0$。\n- 弱化约化：$|b|=1 \\leq a=1$ 且 $a=1 \\leq c=1$。条件满足。\n\n对于 $f_2 = [1, -1, 1]$：\n- $\\Delta = (-1)^2 - 4(1)(1) = -3$。\n- 本原性：$\\mathrm{gcd}(1, -1, 1) = 1$。\n- 正定性：$a=1 > 0$。\n- 弱化约化：$|b|=|-1|=1 \\leq a=1$ 且 $a=1 \\leq c=1$。条件满足。\n\n我们找到了两个不同的弱化约化形式，$[1, 1, 1]$ 和 $[1, -1, 1]$。问题要求的是单个真等价类中此类代表元的数量。我们必须检查这两个二次型是否真等价。\n如第一部分所示，变换 $S$ 将 $[a,b,c]$ 映射到 $[c,-b,a]$。将此应用于 $f_1 = [1, 1, 1]$ 得到 $[1, -1, 1]$，即 $f_2$。因此，它们是真等价的。\n\n判别式 $\\Delta = -3$ 的类数，记作 $h(-3)$，已知为 $1$。这意味着所有该判别式的本原正定二次型都属于同一个真等价类。既然我们已经穷尽了判别式为 $\\Delta = -3$ 的弱化约化形式的所有可能性，并恰好找到了两个，且这两个是等价的，那么这两个形式就是该唯一等价类的弱化约化代表元的完整集合。\n\n因此，判别式为 $\\Delta = -3$ 的本原正定二次型的真等价类中，弱化约化代表元的数量为 $2$。", "answer": "$$\\boxed{2}$$", "id": "3089496"}]}