{"hands_on_practices": [{"introduction": "椭圆曲线上的有理点构成一个群是莫德尔-韦伊定理的出发点。这个练习将带你从第一性原理出发，通过经典的弦切法推导并计算两有理点之和，亲手验证群运算的封闭性 [@problem_id:3092358]。这个过程不仅能加深你对群公理的理解，也是掌握椭圆曲线算术的基础。", "problem": "考虑有理数域 $\\mathbb{Q}$ 上的椭圆曲线 $E$，其短外尔斯特拉斯形式为 $y^{2}=x^{3}-4x+1$。设 $P=(0,1)$ 和 $Q=(2,1)$ 是 $E(\\mathbb{Q})$ 上的点。仅使用椭圆曲线的弦切几何群律和关于多项式的基本代数事实（例如根的韦达定理），从第一性原理推导 $E$ 上两个不同点（其 $x$ 坐标分别为 $x_{1}$ 和 $x_{2}$）之和 $P+Q$ 的显式公式，然后计算给定点 $P$ 和 $Q$ 的 $P+Q$。最后，直接验证所得点在 $E$ 上，从而说明莫德尔-韦伊定理背后的闭包性质。将所得点表示为二元行向量 $\\begin{pmatrix}x  y\\end{pmatrix}$。不需要数值近似。", "solution": "该问题是有效的。它在科学上基于椭圆曲线理论，这是数论中一个成熟的领域。所有提供的数据都是自洽的，足以得到唯一解。由 $y^{2}=x^{3}-4x+1$ 给出的椭圆曲线 $E$ 是非奇异的，因为对于 $a=-4$ 和 $b=1$，其判别式 $\\Delta = -16(4a^3 + 27b^2)$ 为 $\\Delta = -16(4(-4)^3 + 27(1)^2) = -16(-256+27) = 3664 \\neq 0$。给定的点 $P=(0,1)$ 和 $Q=(2,1)$ 被验证在曲线上：对于 $P$，有 $1^2 = 1$ 和 $0^3-4(0)+1=1$；对于 $Q$，有 $1^2=1$ 和 $2^3-4(2)+1=8-8+1=1$。该问题是适定的、客观的。\n\n任务是从第一性原理推导椭圆曲线上两个不同点之和的公式，然后应用它。椭圆曲线上的群律，即所谓的弦切法，定义了两个点 $P$ 和 $Q$ 的和。过程如下：\n$1$. 画一条穿过点 $P$ 和 $Q$ 的直线 $L$。\n$2$. 根据贝祖定理，这条直线将与三次曲线在第三个点相交，我们称之为 $R$。如果点是有理的，那么这第三个交点也将是有理的。\n$3$. 和 $P+Q$ 定义为点 $R$ 关于 $x$ 轴的反射点。\n\n让我们对于一个短外尔斯特拉斯形式的一般椭圆曲线 $y^2 = x^3 + ax + b$ 在代数上形式化这个过程。设 $P=(x_1, y_1)$ 和 $Q=(x_2, y_2)$ 是曲线上两个不同的点，且 $x_1 \\neq x_2$。\n\n穿过 $P$ 和 $Q$ 的直线 $L$ 的斜率 $m$ 由下式给出：\n$$m = \\frac{y_2 - y_1}{x_2 - x_1}$$\n直线 $L$ 的方程是 $y = m(x-x_1) + y_1$。\n\n为了找到 $L$ 和曲线 $E$ 的交点，我们将 $y$ 的表达式代入曲线方程：\n$$(m(x-x_1) + y_1)^2 = x^3 + ax + b$$\n展开左边会得到一个关于 $x$ 的多项式。然而，一个更直接的方法是将 $y=mx+c$（其中 $c=y_1-mx_1$）代入一般曲线方程：\n$$(mx+c)^2 = x^3 + ax + b$$\n$$m^2x^2 + 2mcx + c^2 = x^3 + ax + b$$\n重新整理各项，形成一个关于 $x$ 的首一三次多项式：\n$$x^3 - m^2x^2 + (a - 2mc)x + (b - c^2) = 0$$\n这个三次方程的根是直线 $L$ 和曲线 $E$ 的三个交点的 $x$ 坐标。我们已经知道其中两个根：$x_1$ 和 $x_2$，即 $P$ 和 $Q$ 的 $x$ 坐标。设第三个根为 $x_3$，即点 $R$ 的 $x$ 坐标。\n\n根据韦达定理，首一三次多项式 $x^3+px^2+qx+r=0$ 的根之和等于 $-p$。在我们的例子中，$x^2$ 项的系数是 $-m^2$。因此：\n$$x_1 + x_2 + x_3 = -(-m^2) = m^2$$\n由此，我们可以解出 $x_3$：\n$$x_3 = m^2 - x_1 - x_2$$\n$R$ 的 $y$ 坐标，记为 $y_R$，可以通过使用直线方程找到，因为 $R$ 在 $L$ 上：\n$$y_R = m x_3 + c = m x_3 + (y_1-mx_1) = m(x_3 - x_1) + y_1$$\n和 $P+Q$ 定义为点 $R=(x_3, y_R)$ 关于 $x$ 轴的反射点。如果 $P+Q = (x_S, y_S)$，那么：\n$$x_S = x_3$$\n$$y_S = -y_R$$\n代入 $x_3$ 和 $y_R$ 的表达式，我们得到两个不同点之和的显式公式：\n$$m = \\frac{y_2 - y_1}{x_2 - x_1}$$\n$$x_S = m^2 - x_1 - x_2$$\n$$y_S = -(m(x_S - x_1) + y_1) = m(x_1 - x_S) - y_1$$\n这就完成了从第一性原理的推导。\n\n现在，我们将这些公式应用于具体问题。曲线是 $E: y^2 = x^3 - 4x + 1$，点是 $P=(x_1, y_1)=(0,1)$ 和 $Q=(x_2, y_2)=(2,1)$。\n首先，我们计算斜率 $m$：\n$$m = \\frac{1-1}{2-0} = \\frac{0}{2} = 0$$\n接下来，我们计算和 $P+Q$ 的 $x$ 坐标，我们将其记为 $(x_3, y_3)$：\n$$x_3 = m^2 - x_1 - x_2 = 0^2 - 0 - 2 = -2$$\n最后，我们计算和的 $y$ 坐标：\n$$y_3 = m(x_1 - x_3) - y_1 = 0(0 - (-2)) - 1 = 0(2) - 1 = -1$$\n因此，点 $P$ 和 $Q$ 的和是 $P+Q = (-2, -1)$。\n\n最后，我们验证所得的点在曲线 $E$ 上。我们将 $(-2, -1)$ 的坐标代入方程 $y^2 = x^3 - 4x + 1$：\n左边：$y^2 = (-1)^2 = 1$。\n右边：$x^3 - 4x + 1 = (-2)^3 - 4(-2) + 1 = -8 + 8 + 1 = 1$。\n由于左边等于右边 ($1=1$)，点 $(-2, -1)$ 确实在椭圆曲线 $E$ 上。\n\n这个计算展示了有理点群 $E(\\mathbb{Q})$ 的闭包性质。两个有理坐标点之和产生另一个同样在曲线上的有理坐标点。这种闭包性是集合构成群的基本公理。莫德尔-韦伊定理建立在这个群结构之上，提出了更强的论断，即群 $E(\\mathbb{Q})$ 是有限生成的。\n所得点为 $(-2, -1)$。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n-2  -1\n\\end{pmatrix}\n}\n$$", "id": "3092358"}, {"introduction": "莫德尔-韦伊定理告诉我们 $E(\\mathbb{Q})$ 是有限生成的，这意味着它可以分解为挠子群和自由部分。这个练习将运用重要的内格尔-卢茨定理来找出一条椭圆曲线上所有的整坐标挠点，并结合初等数论方法证明不存在非挠的整点 [@problem_id:3092292]。通过这个练习，你将学会如何具体地确定一个椭圆曲线的挠子群结构。", "problem": "设 $E/\\mathbb{Q}$ 为椭圆曲线，由 $E: y^2 = x^3 - 4x$ 给出。从以下基本事实出发：$\\mathbb{Q}$ 上的椭圆曲线在弦切律下构成一个有限生成阿贝尔群 $E(\\mathbb{Q})$（莫德尔-韦伊定理），且具有整系数模型的椭圆曲线上的挠点受内格尔-卢茨定理的约束。请确定位于 $E$ 上的所有整点 $(x,y) \\in \\mathbb{Z}^2$。你的分析必须从这些核心定义和定理开始，通过逻辑推导挠点的结构并排除非挠整点。\n\n具体而言：\n- 计算 $E$ 的判别式，并使用内格尔-卢茨定理列举所有具有整数坐标的挠点。\n- 通过一个直接的数论论证，利用因式分解 $x^3 - 4x = x(x-2)(x+2)$ 以及整数及其素因子的基本性质，证明不存在 $y \\neq 0$ 的整点解，过程中不借助任何现成的分类或计算捷径。\n\n将 $E$ 上的所有整点以有序对的形式在一个单行矩阵中报告。最终答案必须是单一的精确数学表达式，无需舍入。", "solution": "我们首先回顾两个基本结果：\n1. 莫德尔-韦伊定理指出 $E(\\mathbb{Q})$ 是一个有限生成阿贝尔群，因此 $E(\\mathbb{Q}) \\cong E(\\mathbb{Q})_{\\text{tors}} \\oplus \\mathbb{Z}^r$，其中 $r$ 是某个非负整数（秩）。\n2. 内格尔-卢茨定理：如果 $E$ 由一个外尔斯特拉斯方程 $y^2 = x^3 + ax + b$ 给出，其中 $a,b \\in \\mathbb{Z}$，那么任何挠点 $P = (x,y) \\in E(\\mathbb{Q})_{\\text{tors}}$ 都满足 $x,y \\in \\mathbb{Z}$，并且要么 $y = 0$，要么 $y^2$ 整除模型的判别式 $\\Delta$。\n\n步骤1：计算判别式并应用内格尔-卢茨定理列出挠点。\n曲线 $E$ 为 $y^2 = x^3 - 4x$，所以在短外尔斯特拉斯形式 $y^2 = x^3 + ax + b$ 中，我们有 $a = -4$ 和 $b = 0$。其判别式为\n$$\n\\Delta = -16(4a^3 + 27b^2) = -16\\big(4(-4)^3 + 27\\cdot 0^2\\big) = -16\\cdot 4\\cdot (-64) = 4096 = 2^{12}.\n$$\n根据内格尔-卢茨定理，如果 $(x,y) \\in E(\\mathbb{Q})_{\\text{tors}}$，那么 $x,y \\in \\mathbb{Z}$ 并且要么 $y=0$，要么 $y^2 \\mid 4096$。\n\n首先，考虑 $y = 0$。解方程 $y^2 = x^3 - 4x$ 当 $y=0$ 时，得到 $x^3 - 4x = 0$，即\n$$\nx(x^2 - 4) = 0 \\quad \\Rightarrow \\quad x \\in \\{-2,0,2\\}.\n$$\n因此，$(x,y) = (-2,0),(0,0),(2,0)$ 是挠点；事实上，它们是 2-挠点，因为 $y=0$ 意味着 $2P = \\mathcal{O}$（无穷远点）。\n\n接下来，考虑 $y \\neq 0$ 的可能挠点。根据定理，其坐标必须是整数。我们将通过下面的步骤证明，不存在 $y \\neq 0$ 的整点解。因此，唯一的整挠点是上面找到的三个点。\n\n步骤2：通过直接的数论论证排除 $y \\neq 0$ 的整点。\n假设 $(x,y) \\in \\mathbb{Z}^2$ 且 $y \\neq 0$ 满足 $y^2 = x^3 - 4x = x(x-2)(x+2)$。\n情况 A：$x$ 是奇数。那么 $x, x-2, x+2$ 是两两互素的奇数。它们的乘积是一个平方数，意味着每个因子本身也必须是平方数。设 $x=u^2$ 和 $x-2=v^2$。那么 $u^2 - v^2 = 2$，即 $(u-v)(u+v)=2$。这在整数中没有解。因此，不存在 $x$ 为奇数且 $y \\neq 0$ 的解。\n\n情况 B：$x$ 是偶数。设 $x = 2t$，$t \\in \\mathbb{Z}$。代入方程得 $y^2 = 8t(t-1)(t+1)$。由于 $y \\neq 0$，则 $t \\notin \\{0, \\pm 1\\}$。这要求 $2t(t-1)(t+1)$ 是一个完全平方数。因为 $t-1, t, t+1$ 中的奇素数因子互斥，所以这三个数（除去它们的2因子）都必须是平方数。\n*   若 $t$ 是偶数，则 $t-1, t+1$ 是互素的奇数，它们必须是平方数。设 $t-1=v^2, t+1=w^2$。则 $w^2-v^2=2$，无整数解。\n*   若 $t$ 是奇数，则 $t$ 必须是平方数，设 $t=u^2$。而 $t-1=u^2-1$ 和 $t+1=u^2+1$ 的形式为 $2 \\times (\\text{平方数})$。设 $u^2-1=2a^2$ 和 $u^2+1=2b^2$。两式相减得 $2 = 2b^2 - 2a^2 \\implies 1 = b^2 - a^2 = (b-a)(b+a)$。这要求 $a=0, b=\\pm 1$。代入 $u^2-1=2a^2$ 得 $u^2-1=0 \\implies u=\\pm 1$。于是 $t=1$，但这与 $t \\notin \\{0, \\pm 1\\}$ 的假设矛盾。\n结合两种子情况，当 $x$ 是偶数时，不存在 $y \\neq 0$ 的解。\n\n综合情况 A 和 B，在 $E$ 上的唯一的整点是 $y=0$ 时的解，即 $(-2,0),(0,0),(2,0)$。根据内格尔-卢茨定理，这些点都是挠点。由于不存在其他整点，因此也不存在非挠整点。\n\n因此，$E$ 上的所有仿射整点的完整集合是 $\\{(-2,0),(0,0),(2,0)\\}$。", "answer": "$$\\boxed{\\begin{pmatrix}(-2, 0) & (0, 0) & (2, 0)\\end{pmatrix}}$$", "id": "3092292"}, {"introduction": "为了证明莫德尔-韦伊定理，数学家引入了高度函数来衡量有理点的“大小”或“复杂度”。这个练习将让你计算一个点及其倍点的高度，并观察其近似的二次增长关系 [@problem_id:3092233]。这个性质是莫德尔-韦伊定理证明中“无穷递降法”的核心，理解它有助于你窥见证明的精髓。", "problem": "设 $E/\\mathbb{Q}$ 是由 $y^{2}=x^{3}-2$ 给出的椭圆曲线，其上配备标准的弦切群律。对于一个有理点 $P\\in E(\\mathbb{Q})$ 且 $P\\neq \\mathcal{O}$，定义 $x$-高度 $h_{x}(P)$ 为点 $P$ 的 $x$-坐标的绝对对数高度，即 $h_{x}(P)=h(x(P))$，其中对于一个最简形式的有理数 $\\alpha=\\frac{a}{b}$（$a,b\\in\\mathbb{Z}$ 且 $\\gcd(a,b)=1$），绝对高度为 $h(\\alpha)=\\ln H(\\alpha)$，其中 $H(\\alpha)=\\max\\{|a|,|b|\\}$。考虑有理点 $P=(3,5)\\in E(\\mathbb{Q})$。仅使用 $E$ 上的弦切律和上述 $h_{x}$ 的定义，计算 $h_{x}(P)$ 和 $h_{x}([2]P)$，然后求出量\n$$\\Delta \\;=\\; h_{x}([2]P)\\;-\\;4\\,h_{x}(P)。$$\n请将您的最终答案表示为以自然对数为基础的简化精确表达式。不需要进行数值取整。", "solution": "该问题是有效的，因为它在椭圆曲线理论中有科学依据，问题陈述清晰并提供了所有必要信息，且以客观、无歧义的数学语言表达。所需的计算是椭圆曲线算术中的标准程序。我们开始解题。\n\n问题要求计算在椭圆曲线 $E$（由方程 $y^{2}=x^{3}-2$ 给出）上的点 $P=(3,5)$ 的量 $\\Delta = h_{x}([2]P) - 4h_{x}(P)$。\n\n首先，我们计算点 $P$ 的 $x$-高度，记为 $h_{x}(P)$。点是 $P=(3,5)$，所以它的 $x$-坐标是 $x(P)=3$。\n为了计算绝对对数高度 $h(x(P))$，我们首先将有理数 $x(P)=3$ 写成最简分数形式，即 $\\frac{3}{1}$。\n朴素高度 $H(x(P))$ 定义为 $H(\\frac{a}{b}) = \\max\\{|a|, |b|\\}$。对于 $x(P)=\\frac{3}{1}$，我们有 $H(3) = \\max\\{|3|, |1|\\} = 3$。\n于是，绝对对数高度为 $h(x(P)) = \\ln(H(x(P)))$。\n因此，点 $P$ 的 $x$-高度为：\n$$ h_{x}(P) = h(3) = \\ln(3) $$\n\n接下来，我们计算点 $[2]P$。我们使用弦切法，具体来说是椭圆曲线上点的倍点公式。曲线 $E$ 由 $y^2 = f(x) = x^3 - 2$ 给出。对于点 $P_1 = (x_1, y_1)$，曲线在该点的切线斜率 $m$ 由 $m = \\frac{f'(x_1)}{2y_1}$ 给出。$f(x)=x^3-2$ 的导数是 $f'(x) = 3x^2$。\n对于我们的点 $P=(x_1, y_1)=(3,5)$，切线的斜率为：\n$$ m = \\frac{3x_1^2}{2y_1} = \\frac{3(3)^2}{2(5)} = \\frac{3 \\cdot 9}{10} = \\frac{27}{10} $$\n点 $[2]P=(x_2, y_2)$ 的坐标由以下公式给出：\n$$ x_2 = m^2 - 2x_1 $$\n$$ y_2 = m(x_1 - x_2) - y_1 $$\n我们只需要 $x$-坐标 $x_2$ 来计算 $h_x([2]P)$。\n$$ x_2 = \\left(\\frac{27}{10}\\right)^2 - 2(3) = \\frac{729}{100} - 6 $$\n为了进行减法，我们找到一个共同的分母：\n$$ x_2 = \\frac{729}{100} - \\frac{600}{100} = \\frac{129}{100} $$\n所以，$[2]P$ 的 $x$-坐标是 $x([2]P) = \\frac{129}{100}$。\n\n现在，我们计算点 $[2]P$ 的 $x$-高度，记为 $h_{x}([2]P)$。\n$x$-坐标为有理数 $\\frac{129}{100}$。我们必须检查这个分数是否为最简形式。分子的素因数分解为 $129 = 3 \\times 43$。分母的素因数分解为 $100 = 2^2 \\times 5^2$。由于它们没有共同的素因数，它们的最大公约数为 $\\gcd(129, 100) = 1$，因此该分数确实是最简形式。\n朴素高度 $H(x([2]P))$ 为：\n$$ H\\left(\\frac{129}{100}\\right) = \\max\\{|129|, |100|\\} = 129 $$\n于是，绝对对数高度为：\n$$ h_{x}([2]P) = h\\left(\\frac{129}{100}\\right) = \\ln(129) $$\n\n最后，我们计算所求的量 $\\Delta$：\n$$ \\Delta = h_{x}([2]P) - 4h_{x}(P) $$\n代入我们计算出的值：\n$$ \\Delta = \\ln(129) - 4\\ln(3) $$\n使用对数性质 $c\\ln(a) = \\ln(a^c)$，我们有：\n$$ \\Delta = \\ln(129) - \\ln(3^4) = \\ln(129) - \\ln(81) $$\n使用性质 $\\ln(a) - \\ln(b) = \\ln(\\frac{a}{b})$，我们得到：\n$$ \\Delta = \\ln\\left(\\frac{129}{81}\\right) $$\n为了简化对数的参数，我们简化分数：\n$$ \\frac{129}{81} = \\frac{3 \\times 43}{3 \\times 27} = \\frac{43}{27} $$\n因此，$\\Delta$ 的最终表达式为：\n$$ \\Delta = \\ln\\left(\\frac{43}{27}\\right) $$", "answer": "$$\\boxed{\\ln\\left(\\frac{43}{27}\\right)}$$", "id": "3092233"}]}