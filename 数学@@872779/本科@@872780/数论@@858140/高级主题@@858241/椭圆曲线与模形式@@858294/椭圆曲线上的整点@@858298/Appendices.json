{"hands_on_practices": [{"introduction": "椭圆曲线上的点分为有限阶的挠点和无限阶的点。Lutz-Nagell 定理揭示了点的代数结构（阶）与其算术性质（坐标是否为整数）之间的深刻联系。这个练习通过一个具体的例子 [@problem_id:3086192]，帮助你理解为何有理挠点必须是整点，而无限阶的点通常具有非整数坐标，从而加深对该基本定理的认识。", "problem": "考虑有理数域 $\\mathbb{Q}$ 上的椭圆曲线，由短 Weierstrass 方程 $E \\colon y^2 = x^3 - 25x$ 给出。一个有理点 $P$ 由 $P = \\left(\\frac{25}{4}, \\frac{75}{8}\\right)$ 指定。$E(\\mathbb{Q})$ 上的一个挠点是在椭圆曲线群律下的一个有限阶点，单位元是无穷远点，记为 $\\mathcal{O}$。对于此曲线，解 $y = 0$ 可得有限点 $(0,0)$、$(5,0)$ 和 $(-5,0)$。\n\n下列哪个陈述是正确的？\n\nA. 找到的挠点是 $\\mathcal{O}$、$(0,0)$、$(5,0)$ 和 $(-5,0)$，它们都具有整数坐标，并且点 $P$ 位于 $E$ 上，具有无限阶和非整数坐标。\n\nB. 点 $P$ 是 2 阶的，因此是挠点，并且存在 $x = \\pm 10$ 的其他挠点。\n\nC. 曲线 $E$ 在 $\\mathbb{Q}$ 上没有挠点，尽管 $P$ 位于 $E$ 上，但它具有整数坐标。\n\nD. $E$ 上的每个有理点都具有整数坐标，因此 $P$ 不在 $E$ 上。", "solution": "用户希望我扮演一位严谨的 STEM 教授，解决一个关于椭圆曲线的数论问题。\n\n这是我的计划：\n1.  **从验证阶段开始。** 我需要仔细检查问题陈述中是否存在任何不一致、错误或歧义。\n    *   **第 1 步：提取已知条件。** 我将逐字列出问题陈述中提供的所有信息。\n    *   **第 2 步：验证。** 我将检查提取的已知条件的科学合理性、适定性和客观性。\n        *   曲线是 $E: y^2 = x^3 - 25x$。这是 $\\mathbb{Q}$ 上椭圆曲线的一个标准短 Weierstrass 方程。\n        *   点是 $P = \\left(\\frac{25}{4}, \\frac{75}{8}\\right)$。我需要验证这个点是否确实在曲线上。\n            *   $y^2 = (\\frac{75}{8})^2 = \\frac{5625}{64}$。\n            *   $x^3 - 25x = (\\frac{25}{4})^3 - 25(\\frac{25}{4}) = \\frac{15625}{64} - \\frac{625}{4} = \\frac{15625}{64} - \\frac{625 \\times 16}{64} = \\frac{15625 - 10000}{64} = \\frac{5625}{64}$。\n            *   由于 $y^2 = x^3 - 25x$，点 $P$ 确实在曲线 $E$ 上。\n        *   问题将挠点定义为有限阶点。这是标准定义。单位元是无穷远点 $\\mathcal{O}$。这也是标准的。\n        *   它指出解 $y=0$ 得到点 $(0,0)$、$(5,0)$ 和 $(-5,0)$。我们来检查一下。\n            *   $y^2 = x^3 - 25x = x(x^2 - 25) = x(x-5)(x+5)$。\n            *   设 $y=0$ 得到 $x(x-5)(x+5) = 0$，所以 $x=0$、$x=5$ 或 $x=-5$。\n            *   对应的点是 $(0,0)$、$(5,0)$ 和 $(-5,0)$。这是正确的。\n        *   这些 $y=0$ 的点是 2 阶点。我们来验证一下。设 $Q = (x_0, 0)$。如果导数 $dy/dx$ 是无穷大，那么 $Q$ 点的切线是垂直的。\n            *   $2y \\frac{dy}{dx} = 3x^2 - 25$。\n            *   $\\frac{dy}{dx} = \\frac{3x^2 - 25}{2y}$。\n            *   当 $y=0$ 且 $3x^2 - 25 \\neq 0$ 时，切线是垂直的。\n            *   对于 $x=0$，$3(0)^2 - 25 = -25 \\neq 0$。\n            *   对于 $x=5$，$3(5)^2 - 25 = 75 - 25 = 50 \\neq 0$。\n            *   对于 $x=-5$，$3(-5)^2 - 25 = 75 - 25 = 50 \\neq 0$。\n            *   所以，在这三个点处，切线都是垂直的。直线 $x=x_0$ 与曲线在 $(x_0, 0)$ 处相交，重数为 2，并在无穷远点 $\\mathcal{O}$ 处相交。因此，$Q + Q = \\mathcal{O}$。这意味着这三个点是 2 阶的。\n        *   挠点群 $E(\\mathbb{Q})_{\\text{tors}}$ 包含单位元 $\\mathcal{O}$ 和这三个 2 阶点。这个子群同构于 $\\mathbb{Z}/2\\mathbb{Z} \\times \\mathbb{Z}/2\\mathbb{Z}$。所以，陈述 $(0,0)$、$(5,0)$ 和 $(-5,0)$ 是曲线上的点是正确的。问题也暗示它们是挠点，这也是正确的。\n    *   **第 3 步：结论和行动。** 问题陈述似乎完全有效。这是一个标准的数论问题。它自成体系，有科学依据（在数学上），并且是适定的。我将继续进行解答。\n\n2.  **进入解答阶段。**\n    *   **分析挠子群。** 问题正确地指出了 2 阶点：$(0,0)$、$(5,0)$ 和 $(-5,0)$。挠子群 $E(\\mathbb{Q})_{\\text{tors}}$ 包含阶能整除 2 的点的子群，即 $\\{\\mathcal{O}, (0,0), (5,0), (-5,0)\\}$。该群同构于 $(\\mathbb{Z}/2\\mathbb{Z})^2$。\n    *   一个主要定理，Lutz-Nagell 定理，给出了有理挠点的判别准则。对于 $A, B \\in \\mathbb{Z}$ 的曲线 $E: y^2 = x^3 + Ax + B$：\n        1. 如果 $P=(x,y)$ 是一个有理挠点，则 $x, y \\in \\mathbb{Z}$。\n        2. 要么 $y=0$（此时 $P$ 是 2 阶的），要么 $y^2$ 整除判别式 $\\Delta = -16(4A^3 + 27B^2)$。\n    *   对于我们的曲线 $E: y^2 = x^3 - 25x$，我们有 $A=-25$ 和 $B=0$。\n    *   判别式为 $\\Delta = -16(4(-25)^3 + 27(0)^2) = -16(4(-15625)) = -16(-62500) = 1000000 = (100)^2 \\cdot 100 = 10^6$。\n    *   根据 Lutz-Nagell 定理，任何有理挠点 $(x,y)$ 都必须有整数坐标。\n    *   点 $P = (\\frac{25}{4}, \\frac{75}{8})$ 的坐标不是整数。因此，根据 Lutz-Nagell 定理，$P$ 不可能是挠点。它必须是无限阶的。\n    *   所以，我们已经确定点 $P$ 在曲线上并且是无限阶的。它的坐标不是整数。\n    *   现在我们来找所有的挠点。我们已经知道它们必须有整数坐标。\n    *   我们有 2 阶点：$(0,0)$、$(5,0)$、$(-5,0)$。\n    *   还有其他挠点吗？我们来检查 Lutz-Nagell 定理的第二部分。如果 $(x, y)$ 是一个 $y \\neq 0$ 的挠点，那么 $y^2$ 必须整除 $\\Delta = 10^6 = (2 \\cdot 5)^6 = 2^6 \\cdot 5^6$。\n    *   所以，$y$ 必须是 $\\pm 2^a 5^b$ 的形式，其中 $0 \\le a \\le 3$ 且 $0 \\le b \\le 3$。\n    *   我们需要找到 $y^2 = x^3 - 25x = x(x-5)(x+5)$ 的整数解 $(x, y)$，其中 $y^2$ 是 $10^6$ 的一个因子。\n    *   我们来测试一些 $y$ 的值。\n        *   如果 $y=\\pm 1$，$1 = x(x^2-25)$。$x$ 有整数解吗？如果 $x$ 是整数，$x$ 必须整除 1。所以 $x=1$ 或 $x=-1$。\n            *   如果 $x=1$，$1(1-25) = -24 \\neq 1$。\n            *   如果 $x=-1$，$-1(1-25)=24 \\neq 1$。\n        *   如果 $y=\\pm 2$，$4 = x(x^2-25)$。$x$ 必须是 4 的因子：$\\pm 1, \\pm 2, \\pm 4$。\n            *   $x=1 \\implies -24 \\neq 4$。\n            *   $x=-1 \\implies 24 \\neq 4$。\n            *   $x=2 \\implies 2(4-25) = -42 \\neq 4$。\n            *   $x=-2 \\implies -2(4-25) = 42 \\neq 4$。\n            *   $x=4 \\implies 4(16-25) = -36 \\neq 4$。\n            *   $x=-4 \\implies -4(16-25) = 36 \\neq 4$。\n        *   如果 $y=\\pm 4$，$16 = x(x^2-25)$。$x$ 必须是 16 的因子。...这变得有点乏味了。\n    *   我们试试另一种方法。对于一个整数点 $(x,y)$，我们有 $y^2 = x(x-5)(x+5)$。\n    *   数字 $x$、$x-5$、$x+5$ 两两“几乎”互质。$\\gcd(x, x-5) = \\gcd(x, -5)$，整除 5。$\\gcd(x, x+5) = \\gcd(x, 5)$，整除 5。$\\gcd(x-5, x+5) = \\gcd(x-5, 10)$，整除 10。\n    *   所以，其中任意两者之间的任何公质因子必须是 2 或 5。\n    *   我们来分析方程 $y^2 = x(x-5)(x+5)$。每个因子必须“接近”一个平方数。\n    *   情况 1：$x>5$。所有三个因子都为正。\n    *   我们来检查曲线上的整数点。这与寻找挠点有关。\n    *   考虑 $2P$。使用 $y^2 = x^3 + Ax$ 的倍点公式：\n        $x(2P) = \\frac{(x_P^2 - A)^2}{4y_P^2} = \\frac{(x^2+25)^2}{4(x^3-25x)}$。\n        $y(2P) = \\frac{(x^2-A)(x^4 - 2Ax^2 - 8B) - 8A^2x}{8y^3}$ ... 等等，这是用于 $y^2=x^3+Ax+B$ 的。\n        我们使用通用公式：\n        $\\lambda = \\frac{3x_P^2+A}{2y_P} = \\frac{3(25/4)^2 - 25}{2(75/8)} = \\frac{3(625/16) - 25}{75/4} = \\frac{1875/16 - 400/16}{75/4} = \\frac{1475/16}{75/4} = \\frac{1475}{16} \\frac{4}{75} = \\frac{1475}{4 \\cdot 75} = \\frac{59 \\cdot 25}{4 \\cdot 3 \\cdot 25} = \\frac{59}{12}$。\n        $x(2P) = \\lambda^2 - 2x_P = (\\frac{59}{12})^2 - 2(\\frac{25}{4}) = \\frac{3481}{144} - \\frac{50}{4} = \\frac{3481}{144} - \\frac{1800}{144} = \\frac{1681}{144} = (\\frac{41}{12})^2$。\n        $y(2P) = \\lambda(x_P - x(2P)) - y_P = \\frac{59}{12}(\\frac{25}{4} - \\frac{1681}{144}) - \\frac{75}{8} = \\frac{59}{12}(\\frac{900-1681}{144}) - \\frac{75}{8} = \\frac{59}{12}(\\frac{-781}{144}) - \\frac{75}{8} = \\frac{-46079}{1728} - \\frac{16200}{1728} = \\frac{-62279}{1728}$。\n        所以 $2P = (\\frac{1681}{144}, \\frac{-62279}{1728})$。\n    *   坐标变得越来越复杂，这对于一个无限阶点来说是典型的。如果 $P$ 是挠点，比如说 $N$ 阶，那么对于某个 $k<N$，$kP$ 的坐标分母会比 $P$ 的分母更“复杂”（通常是这样），但在某个时刻它们会消失（对于整数坐标的挠点）。我们的点 $P$ 甚至没有整数坐标。所以它肯定不是挠点。\n    *   我们来评估各个选项：\n        *   A. 挠点是 $\\mathcal{O}$、$(0,0)$、$(5,0)$ 和 $(-5,0)$（它们确实是 2 阶点），它们都有整数坐标（正确），点 $P$ 位于 $E$ 上（我们验证过），具有无限阶（我们根据 Lutz-Nagell 定理推断出）和非整数坐标（显而易见）。这个陈述的所有部分都是正确的。\n        *   B. 点 $P$ 是 2 阶的。错误。2 阶点满足 $y=0$。$P$ 的 y 坐标不是 0。\n        *   C. 曲线 $E$ 在 $\\mathbb{Q}$ 上没有挠点。错误。我们至少找到了 3 个 2 阶点。\n        *   D. $E$ 上的每个有理点都具有整数坐标。错误。点 $P$ 是一个反例。\n    *   结论：选项 A 是唯一正确的陈述。\n\n3.  **最终答案格式化。** 答案是选项 A。我将把它放在一个用 `\\boxed{}` 标记的公式中。\n```\n$$\\boxed{A}$$\n```", "answer": "$$\\boxed{A}$$", "id": "3086192"}, {"introduction": "确定一条椭圆曲线上所有的整点是一个经典且富有挑战性的问题。这个练习 [@problem_id:3086249] 将引导你使用两种截然不同但都非常强大的方法来解决两类 Mordell 曲线的整点问题。你将体会到如何运用代数数论中的唯一因子分解性质以及精妙的模算术论证，将无限的搜索范围缩减为有限甚至空集。", "problem": "考虑由 $y^{2} = x^{3} + k$ 给出的莫德尔曲线族 $E_{k}$，其中 $k \\in \\{-2, 7\\}$。$E_{k}$ 上的一个整数点是满足其定义方程的一对数 $(x,y) \\in \\mathbb{Z}^{2}$。令 $N_{k}$ 表示 $E_{k}$ 上的整数点数量。仅使用模算术中同余的基本性质、最大公约数的基本概念、基本增长估计以及在唯一分解成立的适当二次整数环中的因式分解，完全确定 $N_{-2}$ 和 $N_{7}$。然后计算单个整数\n$$S \\;=\\; N_{-2} \\;+\\; N_{7}.$$\n你的最终答案必须是单个整数 $S$。", "solution": "问题要求确定两条莫德尔曲线 $E_{-2}: y^{2} = x^{3} - 2$ 和 $E_{7}: y^{2} = x^{3} + 7$ 上的整数点数量。令 $N_{-2}$ 和 $N_{7}$ 分别为每个方程的整数解 $(x,y) \\in \\mathbb{Z}^{2}$ 的数量。最终目标是计算 $S = N_{-2} + N_{7}$。\n\n该问题在数论领域被验证为自洽、一致且有科学依据。我们可以开始求解。\n\n第一部分：确定曲线 $E_{-2}: y^{2} = x^{3} - 2$ 的 $N_{-2}$。\n\n我们将方程重排为 $y^{2} + 2 = x^{3}$。这种形式提示我们在二次域 $\\mathbb{Q}(\\sqrt{-2})$ 的整数环中进行计算，该环为 $\\mathbb{Z}[\\sqrt{-2}] = \\{a+b\\sqrt{-2} \\mid a, b \\in \\mathbb{Z}\\}$。这个环是一个唯一分解整环（UFD），因为它是一个欧几里得整环。此环中的单位为 $\\pm 1$。\n\n我们在 $\\mathbb{Z}[\\sqrt{-2}]$ 中分解该方程：\n$$ (y + \\sqrt{-2})(y - \\sqrt{-2}) = x^{3} $$\n令 $d$ 为两个因子 $y + \\sqrt{-2}$ 和 $y - \\sqrt{-2}$ 在 $\\mathbb{Z}[\\sqrt{-2}]$ 中的一个最大公约数。那么 $d$ 必然整除它们的差：\n$$ d \\mid (y + \\sqrt{-2}) - (y - \\sqrt{-2}) = 2\\sqrt{-2} = -(\\sqrt{-2})^{3} $$\n在 $\\mathbb{Z}[\\sqrt{-2}]$ 中，$2\\sqrt{-2}$ 的素因子在单位的意义下仅为 $\\sqrt{-2}$。因此，$d$ 的形式必为 $u(\\sqrt{-2})^{j}$，其中 $u \\in \\{\\pm 1\\}$ 是一个单位，且 $j \\in \\{0, 1, 2, 3\\}$ 是一个整数。\n\n此外，$d$ 整除 $y+\\sqrt{-2}$，所以 $d$ 的范数 $N(d)$ 必然整除 $y+\\sqrt{-2}$ 的范数。\n$$ N(y+\\sqrt{-2}) = y^{2} + 2 = x^{3} $$\n$d$ 的范数也必须整除 $N(2\\sqrt{-2}) = 8$。所以 $N(d)$ 必须是 $x^{3}$ 和 $8$ 的一个公约数。\n\n我们来考察 $x$ 和 $y$ 的奇偶性。如果 $x$ 是偶数，比如说 $x=2k$，那么 $y^{2} = (2k)^{3} - 2 = 8k^{3}-2$。这意味着 $y^{2} \\equiv -2 \\equiv 6 \\pmod 8$。模 $8$ 的平方数是 $\\{0,1,4\\}$。因为 $6$ 不在此集合中，所以 $y^{2} \\equiv 6 \\pmod 8$ 没有整数解 $y$。因此，$x$ 不可能是偶数；$x$ 必须是奇数。\n\n如果 $x$ 是奇数，那么 $x^{3}$ 是奇数。那么 $y^{2} = x^{3}-2$ 必为奇数，这意味着 $y$ 也必须是奇数。\n由于 $x$ 是奇数，$x^{3}$ 也是奇数。因为 $N(d)$ 整除 $x^{3}$，所以 $N(d)$ 必须是奇数。$8$ 的约数是 $1, 2, 4, 8$。唯一的奇数约数是 $1$。因此，$N(d)=1$。\n在 $\\mathbb{Z}[\\sqrt{-2}]$ 中，范数为 $1$ 的元素必然是一个单位。因此，$d$ 是一个单位。这意味着因子 $y+\\sqrt{-2}$ 和 $y-\\sqrt{-2}$ 在 $\\mathbb{Z}[\\sqrt{-2}]$ 中是互质的。\n\n由于 $(y+\\sqrt{-2})(y-\\sqrt{-2})$ 是一个完全立方数，且其因子在一个唯一分解整环中互质，因此每个因子本身（在单位因子的意义下）也必须是一个完全立方数。因为唯一的单位是 $\\pm 1$ 且 $-1 = (-1)^{3}$ 可以被吸收到立方项中，我们可以写出：\n$$ y + \\sqrt{-2} = (a+b\\sqrt{-2})^{3} $$\n其中 $a, b \\in \\mathbb{Z}$ 是某些整数。展开立方：\n$$ (a+b\\sqrt{-2})^{3} = a^{3} + 3a^{2}(b\\sqrt{-2}) + 3a(b\\sqrt{-2})^{2} + (b\\sqrt{-2})^{3} $$\n$$ = a^{3} + 3a^{2}b\\sqrt{-2} - 6ab^{2} - 2b^{3}\\sqrt{-2} $$\n$$ = (a^{3} - 6ab^{2}) + (3a^{2}b - 2b^{3})\\sqrt{-2} $$\n通过将实部和虚部与 $y + \\sqrt{-2}$ 对應相等，我们得到一个方程组：\n$$ y = a^{3} - 6ab^{2} $$\n$$ 1 = 3a^{2}b - 2b^{3} = b(3a^{2} - 2b^{2}) $$\n从第二个方程可知，由于 $a, b$ 是整数，$b$ 必须是 $1$ 的约数。所以，$b \\in \\{1, -1\\}$。\n\n情况1：$b=1$。\n第二个方程变为 $1 = 3a^{2} - 2(1)^{2} \\implies 1 = 3a^{2} - 2 \\implies 3a^{2} = 3 \\implies a^{2}=1$。因此，$a = \\pm 1$。\n如果 $a=1, b=1$，则 $y = 1^{3} - 6(1)(1)^{2} = 1-6 = -5$。\n我们求出对应的 $x$ 值：$x^{3} = y^{2}+2 = (-5)^{2}+2 = 25+2 = 27$，这给出 $x=3$。\n所以，$(x,y)=(3, -5)$ 是一个解。\n如果 $a=-1, b=1$，则 $y = (-1)^{3} - 6(-1)(1)^{2} = -1+6 = 5$。\n我们求出对应的 $x$ 值：$x^{3} = y^{2}+2 = 5^{2}+2 = 25+2 = 27$，这给出 $x=3$。\n所以，$(x,y)=(3, 5)$ 是一个解。\n\n情况2：$b=-1$。\n第二个方程变为 $1 = (-1)(3a^{2} - 2(-1)^{2}) \\implies 1 = -(3a^{2}-2) \\implies 1 = -3a^{2}+2 \\implies 3a^{2}=1$。方程 $a^{2}=1/3$ 没有整数解 $a$。\n\n因此，$y^{2}=x^{3}-2$ 的唯二整数解是 $(3, 5)$ 和 $(3, -5)$。整数点的数量为 $N_{-2} = 2$。\n\n第二部分：确定曲线 $E_{7}: y^{2} = x^{3} + 7$ 的 $N_{7}$。\n\n我们使用模算术来分析此方程。\n首先，考虑方程模 $8$。如果 $x$ 是偶数，比如说 $x=2m$，那么 $x^{3} = 8m^{3} \\equiv 0 \\pmod 8$。\n方程变为 $y^{2} \\equiv 0+7 \\equiv 7 \\pmod 8$。\n模 $8$ 的平方数集合是 $\\{0, 1, 4\\}$。因此，$y^{2} \\equiv 7 \\pmod 8$ 没有整数解 $y$。所以，$x$ 必须是奇数。\n\n接下来，考虑方程模 $4$。因为 $x$ 是奇数，所以 $x \\equiv 1 \\pmod 4$ 或 $x \\equiv 3 \\pmod 4$。\n如果 $x \\equiv 1 \\pmod 4$，那么 $x^{3} \\equiv 1^{3} \\equiv 1 \\pmod 4$。方程变为 $y^{2} \\equiv 1+7 = 8 \\equiv 0 \\pmod 4$。这是可能的（对于偶数 $y$）。\n如果 $x \\equiv 3 \\pmod 4$，那么 $x^{3} \\equiv 3^{3} = 27 \\equiv 3 \\pmod 4$。方程变为 $y^{2} \\equiv 3+7 = 10 \\equiv 2 \\pmod 4$。模 $4$ 的平方数集合是 $\\{0, 1\\}$。因此，$y^{2} \\equiv 2 \\pmod 4$ 没有解。\n因此，任何整数解都必须满足 $x \\equiv 1 \\pmod 4$。\n\n现在我们使用代数技巧。我们将方程重写为：\n$$ y^{2} + 1 = x^{3} + 8 $$\n$$ y^{2} + 1 = (x+2)(x^{2}-2x+4) $$\n根据基本增长估计，为了使 $y^{2} = x^{3}+7$ 有实数解 $y$，我们需要 $x^{3}+7 \\ge 0$，这意味着 $x^{3} \\ge -7$。即 $x \\ge -1$。\n结合 $x$ 是奇数且 $x \\equiv 1 \\pmod 4$ 的条件， $x$ 的可能值为正整数 $x \\in \\{1, 5, 9, 13, \\dots\\}$。值 $x=-3$ 因 $x \\not\\equiv 1 \\pmod 4$ 被排除。对于 $x=-1$，$x\\equiv 3 \\pmod 4$，也被排除。因此我们只需要考虑 $x \\ge 1$ 且 $x \\equiv 1 \\pmod 4$ 的情况。\n\n对于这样的 $x$，两个因子 $x+2$ 和 $x^{2}-2x+4 = (x-1)^{2}+3$ 都是正整数。\n我们来分析因子 $x+2$。由于 $x \\equiv 1 \\pmod 4$，我们有 $x+2 \\equiv 1+2 = 3 \\pmod 4$。\n一个模 $4$ 同余于 $3$ 的正整数，在其素因数分解中，必然有至少一个也模 $4$ 同余于 $3$ 的素因子 $p$，且该素因子的指数为奇数。\n令 $p$ 是 $x+2$ 的这样一个素因子。那么 $p \\mid (x+2)$，所以 $p \\mid (x+2)(x^{2}-2x+4) = y^{2}+1$。\n这意味着 $y^{2}+1 \\equiv 0 \\pmod p$，即 $y^{2} \\equiv -1 \\pmod p$。\n这意味着 $-1$ 是模 $p$ 的二次剩余。数论中的一个基本结果表明，对于一个奇素数 $p$，同余方程 $z^{2} \\equiv -1 \\pmod p$有解当且仅当 $p \\equiv 1 \\pmod 4$。\n我们选择的素数 $p$ 满足 $p \\equiv 3 \\pmod 4$。这导致了一个矛盾。避免这个矛盾的唯一方法是 $x+2$ 没有素因子，即 $x+2=1$。这给出 $x=-1$，而我们已经证明了这不是解的可能值。\n\n如果因子 $(x+2)$ 和 $(x^2-2x+4)$ 不互质，这个论证可能会有缺陷。令 $d = \\gcd(x+2, x^{2}-2x+4)$。那么 $d$ 必须整除这两者的任意线性组合。\n$$ d \\mid (x^{2}-2x+4) - (x-4)(x+2) = (x^2-2x+4) - (x^2-2x-8) = 12 $$\n由于 $x$ 是奇数，$x+2$ 是奇数，且 $x^{2}-2x+4$ 是奇数。因此，它们的最大公约数 $d$ 必须是奇数。$12$ 的奇数约数是 $1$ 和 $3$。\n情况(a)：$d=1$。因子互质。上述论证无需修改即可成立。由于 $x \\equiv 1 \\pmod 4$ 且 $x>0$，所以 $x+2>1$ 且 $x+2 \\equiv 3 \\pmod 4$。因此它必然有一个素因子 $p \\equiv 3 \\pmod 4$，从而导致矛盾。所以此情况下无解。\n情况(b)：$d=3$。这种情况发生在 $3 \\mid (x+2)$ 时，即 $x \\equiv -2 \\equiv 1 \\pmod 3$。如果 $x \\equiv 1 \\pmod 3$，那么 $x^{2}-2x+4 \\equiv 1^{2}-2(1)+4=3 \\equiv 0 \\pmod 3$，所以 $3 \\mid (x^{2}-2x+4)$ 是相容的。在这种情况下，两个因子都能被 $3$ 整除，所以它们的乘积 $y^{2}+1$ 能被 $9$ 整除。\n$y^{2}+1 \\equiv 0 \\pmod 9 \\implies y^{2} \\equiv -1 \\equiv 8 \\pmod 9$。\n模 $9$ 的平方数是 $\\{0,1,4,7\\}$。由于 $8$ 不在该集合中，所以 $y$ 没有整数解。\n\n两种情况都導致无解。我们断定曲线 $y^{2} = x^{3} + 7$ 上没有整数点。\n因此，$N_{7} = 0$。\n\n第三部分：最终计算。\n\n我们被要求计算 $S = N_{-2} + N_{7}$。\n根据我们的分析，我们得到 $N_{-2} = 2$ 和 $N_{7} = 0$。\n$$ S = 2 + 0 = 2 $$", "answer": "$$\\boxed{2}$$", "id": "3086249"}, {"introduction": "超越寻找孤立的整点，一个更深入的目标是确定椭圆曲线有理点群的挠子群的完整代数结构。本练习 [@problem_id:3086205] 是一个综合性的挑战，它要求你协同运用多个核心定理，包括模 $p$ 约化、Hasse 界以及 Nagell-Lutz 定理。通过这个过程，你将学习到一套在当代数论研究中用以分析椭圆曲线结构的标准流程。", "problem": "考虑定义在有理数域 $\\mathbb{Q}$ 上的椭圆曲线 $E$，其短Weierstrass模型为\n$$ E: y^2=x^3-2x+1, $$\n其系数为整数。解题基于以下基础事实：判别式 $\\Delta$ 决定了坏约化素数；对于一个好约化素数 $p$，模 $p$ 约化给出了一个从 $E(\\mathbb{Q})$ 到 $E(\\mathbb{F}_{p})$ 的群同态，该同态在阶与 $p$ 互质的挠元上是单射的；Hasse界指出 $|\\#E(\\mathbb{F}_{p})-(p+1)|\\le 2\\sqrt{p}$；Nagell–Lutz定理断言 $E(\\mathbb{Q})$ 中的挠点具有整数坐标，并且如果 $y\\neq 0$，则 $y^{2}$ 整除 $|\\Delta|$。\n\n- 通过计算 $E$ 的判别式 $\\Delta$ 来确定 $E$ 的坏约化素数集合，并验证 $p\\in\\{3,7,11\\}$ 是好约化素数。\n\n- 对于每个好约化素数 $p\\in\\{3,7,11\\}$，通过显式地计算有限域 $\\mathbb{F}_{p}$ 上的点数来计算 $\\#E(\\mathbb{F}_{p})$。使用Hasse界作为每次计数的一致性检验。\n\n- 利用在好约化素数下挠元约化的单射性，根据计算出的 $\\#E(\\mathbb{F}_{p})$ 值，推导出挠子群 $E(\\mathbb{Q})_{\\mathrm{tors}}$ 阶的一个界。\n\n- 最后，应用Nagell–Lutz定理枚举 $E$ 上所有可能的有理挠点，通过群律确定它们的阶，并将此结果与你得到的界相结合，从而求得 $E(\\mathbb{Q})_{\\mathrm{tors}}$ 的确切阶。\n\n给出挠子群 $E(\\mathbb{Q})_{\\mathrm{tors}}$ 的确切阶作为你的最终答案。无需四舍五入。", "solution": "问题要求解由方程 $y^{2}=x^{3}-2x+1$ 给出的椭圆曲线 $E$ 的挠子群 $E(\\mathbb{Q})_{\\mathrm{tors}}$ 的阶。我们将遵循指定的步骤。\n\n首先，我们确定坏约化素数。曲线的形式为 $y^2 = x^3+Ax+B$，其中 $A = -2$ 且 $B = 1$。判别式 $\\Delta$ 由公式 $\\Delta = -16(4A^3 + 27B^2)$ 给出。\n代入 $A$ 和 $B$ 的值：\n$$\n\\Delta = -16(4(-2)^3 + 27(1)^2) = -16(4(-8) + 27) = -16(-32+27) = -16(-5) = 80.\n$$\n坏约化素数是 $\\Delta$ 的素因子。$\\Delta = 80$ 的素因子分解是 $2^4 \\cdot 5$。因此，坏约化素数是 $p=2$ 和 $p=5$。素数 $p=3, 7, 11$ 不能整除 $80$，因此是 $E$ 的好约化素数。\n\n第二，我们计算 $E$ 在有限域 $\\mathbb{F}_p$ ($p \\in \\{3, 7, 11\\}$) 上的点的数量。总点数 $\\#E(\\mathbb{F}_p)$ 包括无穷远点 $\\mathcal{O}$。\n\n对于 $p=3$：我们检验 $y^2 = x^3 - 2x + 1$ 对 $x \\in \\mathbb{F}_3=\\{0, 1, 2\\}$ 的情况。\n- 如果 $x=0$，$y^2 = 1 \\pmod{3}$。这给出两个解，$y=1$ 和 $y=2$。点为：$(0,1), (0,2)$。\n- 如果 $x=1$，$y^2 = 1 - 2 + 1 = 0 \\pmod{3}$。这给出一个解，$y=0$。点为：$(1,0)$。\n- 如果 $x=2$，$y^2 = 8 - 4 + 1 = 5 \\equiv 2 \\pmod{3}$。模3的二次剩余是 $\\{1\\}$，所以 $2$ 不是二次剩余。没有 $y$ 的解。\n仿射点的数量是 $2+1+0=3$。加上无穷远点，我们有 $\\#E(\\mathbb{F}_3) = 3+1 = 4$。\nHasse界检验：$|\\#E(\\mathbb{F}_3) - (p+1)| = |4 - (3+1)| = |0| = 0$。我们必须有 $0 \\le 2\\sqrt{3} \\approx 3.46$，这是成立的。\n\n对于 $p=7$：我们检验 $y^2 = x^3 - 2x + 1$ 对 $x \\in \\mathbb{F}_7=\\{0, 1, ..., 6\\}$ 的情况。模7的二次剩余是 $\\{1, 4, 2\\}$。\n- $x=0 \\implies y^2=1$ (二次剩余): $2$ 个点。\n- $x=1 \\implies y^2=0$: $1$ 个点。\n- $x=2 \\implies y^2=5$ (非二次剩余): $0$ 个点。\n- $x=3 \\implies y^2=22 \\equiv 1$ (二次剩余): $2$ 个点。\n- $x=4 \\implies y^2=57 \\equiv 1$ (二次剩余): $2$ 个点。\n- $x=5 \\implies y^2=116 \\equiv 4$ (二次剩余): $2$ 个点。\n- $x=6 \\implies y^2=205 \\equiv 2$ (二次剩余): $2$ 个点。\n仿射点的数量是 $2+1+0+2+2+2+2 = 11$。加上无穷远点，$\\#E(\\mathbb{F}_7) = 11+1 = 12$。\nHasse界检验：$|\\#E(\\mathbb{F}_7) - (p+1)| = |12 - (7+1)| = |4| = 4$。我们必须有 $4 \\le 2\\sqrt{7} \\approx 5.29$，这是成立的。\n\n对于 $p=11$：我们检验 $y^2 = x^3 - 2x + 1$ 对 $x \\in \\mathbb{F}_{11}$ 的情况。模11的二次剩余是 $\\{1, 4, 9, 5, 3\\}$。\n- $x=0 \\implies y^2=1$ (二次剩余): $2$ 个点。\n- $x=1 \\implies y^2=0$: $1$ 个点。\n- $x=2 \\implies y^2=5$ (二次剩余): $2$ 个点。\n- $x=3 \\implies y^2=22 \\equiv 0$: $1$ 个点。\n- $x=4 \\implies y^2=57 \\equiv 2$ (非二次剩余): $0$ 个点。\n- $x=5 \\implies y^2=116 \\equiv 6$ (非二次剩余): $0$ 个点。\n- $x=6 \\implies y^2=205 \\equiv 7$ (非二次剩余): $0$ 个点。\n- $x=7 \\implies y^2=330 \\equiv 0$: $1$ 个点。\n- $x=8 \\implies y^2=497 \\equiv 2$ (非二次剩余): $0$ 个点。\n- $x=9 \\implies y^2=712 \\equiv 8$ (非二次剩余): $0$ 个点。\n- $x=10 \\implies y^2=981 \\equiv 2$ (非二次剩余): $0$ 个点。\n仿射点的数量是 $2+1+2+1+0+0+0+1+0+0+0 = 7$。加上无穷远点，$\\#E(\\mathbb{F}_{11}) = 7+1 = 8$。\nHasse界检验：$|\\#E(\\mathbb{F}_{11}) - (p+1)| = |8 - (11+1)| = |-4| = 4$。我们必须有 $4 \\le 2\\sqrt{11} \\approx 6.63$，这是成立的。\n\n第三，我们使用这些结果来界定挠子群的阶 $m = |E(\\mathbb{Q})_{\\mathrm{tors}}|$。约化同态 $E(\\mathbb{Q}) \\to E(\\mathbb{F}_p)$ 在阶与 $p$ 互质的挠点子群上是单射的。\n一个更强的推论是，对于任意好约化素数 $p$，挠子群的阶 $m$ 必须整除 $\\#E(\\mathbb{F}_p)$。因此，阶 $m$ 必须整除它们的最大公约数。\n$$\nm \\mid \\gcd(\\#E(\\mathbb{F}_3), \\#E(\\mathbb{F}_7), \\#E(\\mathbb{F}_{11}))\n$$\n$$\nm \\mid \\gcd(4, 12, 8) = 4.\n$$\n挠子群可能的阶为 $1, 2, 4$。\n\n第四，我们使用Nagell–Lutz定理来找到所有有理挠点。这类点 $(x,y)$ 必须有整数坐标 $x, y \\in \\mathbb{Z}$。此外，如果 $P=(x,y)$ 是一个 $y \\neq 0$ 的挠点，那么 $y^2$ 必须整除 $\\Delta=80$。$80=16 \\cdot 5$ 的平方因子是 $1, 4$ 和 $16$。我们连同 $y=0$ 的情况一起检验这些可能性。\n\n情况1：$y=0$。\n方程变为 $x^3-2x+1=0$。根据有理根定理，任何整数根必须整除 $1$。测试 $x=1$ 得到 $1^3-2(1)+1 = 0$。所以 $(1,0)$ 是 $E$ 上的一个点。$y=0$ 的点是2阶点。\n\n情况2：$y^2=1$。\n方程为 $x^3-2x+1=1$，化简为 $x^3-2x=0$ 或 $x(x^2-2)=0$。唯一的整数解是 $x=0$。这给出两个点：$(0,1)$ 和 $(0,-1)$。\n\n情况3：$y^2=4$。\n方程为 $x^3-2x+1=4$，即 $x^3-2x-3=0$。任何整数根必须整除 $-3$。测试 $x \\in \\{\\pm 1, \\pm 3\\}$：\n- $f(1) = 1-2-3 = -4 \\neq 0$。\n- $f(-1) = -1+2-3 = -2 \\neq 0$。\n- $f(3) = 27-6-3 = 18 \\neq 0$。\n- $f(-3) = -27+6-3 = -24 \\neq 0$。\n没有 $x$ 的整数解。\n\n情况4：$y^2=16$。\n方程为 $x^3-2x-15=0$。任何整数根必须整除 $-15$。测试 $x=3$ 得到 $3^3-2(3)-15=27-6-15=6 \\neq 0$。其他整数根候选也都不成立。\n\n因此，具有整数坐标的可能挠点集合是 $\\{\\mathcal{O}, (1,0), (0,1), (0,-1)\\}$。我们检查它们的阶。\n设 $P_1 = (1,0)$。因为 $y=0$，$P_1$ 的阶为2。所以 $2P_1 = \\mathcal{O}$。\n设 $P_2 = (0,1)$。为求其阶，我们计算 $2P_2$。在 $P_2$ 处的切线斜率是 $\\lambda = \\frac{3x^2+A}{2y} = \\frac{3(0)^2-2}{2(1)} = -1$。\n$2P_2$ 的x坐标是 $x_3 = \\lambda^2 - 2x = (-1)^2 - 2(0) = 1$。\n$2P_2$ 的y坐标是 $y_3 = \\lambda(x - x_3) - y = -1(0-1)-1=0$。\n所以，$2P_2 = (1,0) = P_1$。\n那么 $4P_2 = 2(2P_2) = 2P_1 = \\mathcal{O}$。由于 $2P_2 \\neq \\mathcal{O}$，点 $P_2=(0,1)$ 的阶是4。点 $(0,-1)$ 是 $-P_2$，阶也是4。\n点集 $\\{\\mathcal{O}, P_2, 2P_2, 3P_2\\} = \\{\\mathcal{O}, (0,1), (1,0), (0,-1)\\}$ 构成一个4阶循环群。\nNagell-Lutz搜索产生了4个挠点。这意味着 $|E(\\mathbb{Q})_{\\mathrm{tors}}| \\ge 4$。\n\n综合我们的发现：\n1. $|E(\\mathbb{Q})_{\\mathrm{tors}}|$ 必须整除 $4$。\n2. 我们找到了 $4$ 个不同的挠点。\n因此，挠子群的确切阶是 $4$。", "answer": "$$\\boxed{4}$$", "id": "3086205"}]}