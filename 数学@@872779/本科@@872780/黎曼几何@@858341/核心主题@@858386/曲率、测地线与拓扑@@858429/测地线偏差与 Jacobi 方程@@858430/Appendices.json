{"hands_on_practices": [{"introduction": "这项练习提供了从零开始计算黎曼几何基本要素的基础实践。通过在极坐标系下研究我们所熟悉的欧几里得平面，你将亲自验证曲率是空间的内在属性，与坐标系无关，并看到在平直空间中测地偏离现象的简化形式。这个来自 [@problem_id:3047819] 的计算是理解更复杂曲面几何的基石。", "problem": "考虑穿孔平面 $M = \\mathbb{R}^{2}\\setminus\\{0\\}$，其在极坐标 $(r,\\theta)$ 下配备的黎曼度规由 $g = dr^{2} + r^{2} d\\theta^{2}$ 给出。设 $\\gamma(s)$ 是一条由弧长 $s$ 参数化的单位速度径向测地线，因此 $\\theta(s)$ 是常数，而 $r(s)$ 是严格递增的。设 $J(s)$ 是沿 $\\gamma(s)$ 的一个光滑向量场。\n\n从第一性原理出发，使用 Levi-Civita 连接的定义性质（无挠和度规兼容）来计算度规 $g$ 在坐标基 $\\{\\partial_{r}, \\partial_{\\theta}\\}$ 下的 Christoffel 符号。使用黎曼曲率张量 $R$ 的定义，计算沿径向测地线 $\\gamma(s)$ 的曲率算子 $R(J,\\dot{\\gamma})\\dot{\\gamma}$，其中 $\\dot{\\gamma}(s)$ 表示 $\\gamma(s)$ 的速度向量场。然后，从测地线的光滑变分和曲率算子的定义出发，推导 $J(s)$ 沿 $\\gamma(s)$ 满足的测地线偏离方程（雅可比方程），并确定它在该度规下的形式。\n\n你的最终答案应该是沿 $\\gamma(s)$ 的 $R(J,\\dot{\\gamma})\\dot{\\gamma}$ 的完全简化的解析表达式。无需四舍五入，也不涉及物理单位。", "solution": "该问题要求计算给定穿孔平面上度规的 Christoffel 符号，计算沿特定测地线的曲率算子 $R(J,\\dot{\\gamma})\\dot{\\gamma}$，并推导雅可比方程。\n\n流形为 $M = \\mathbb{R}^{2}\\setminus\\{0\\}$，极坐标为 $(x^1, x^2) = (r, \\theta)$。黎曼度规由 $g = dr^{2} + r^{2} d\\theta^{2}$ 给出。度规张量 $g_{ij}$ 及其逆 $g^{ij}$ 的分量为：\n$$\ng_{ij} = \\begin{pmatrix} 1  0 \\\\ 0  r^2 \\end{pmatrix}, \\quad g^{ij} = \\begin{pmatrix} 1  0 \\\\ 0  r^{-2} \\end{pmatrix}\n$$\n其中 $g_{11} = g_{rr} = 1$，$g_{22} = g_{\\theta\\theta} = r^2$，以及 $g_{12} = g_{21} = g_{r\\theta} = 0$。\n\n**1. Christoffel 符号**\n\nLevi-Civita 连接由无挠和度规兼容唯一确定。在坐标基 $\\{\\partial_i\\}$ 中，这些性质导出了 Christoffel 符号的公式：\n$$\n\\Gamma^k_{ij} = \\frac{1}{2} g^{kl} (\\partial_i g_{jl} + \\partial_j g_{il} - \\partial_l g_{ij})\n$$\n其中 $\\partial_i = \\frac{\\partial}{\\partial x^i}$。我们首先求度规分量的非零偏导数。唯一非常数的分量是 $g_{\\theta\\theta} = r^2$。其唯一的非零导数是：\n$$\n\\partial_r g_{\\theta\\theta} = \\partial_1 g_{22} = \\frac{\\partial}{\\partial r}(r^2) = 2r\n$$\n$g_{ij}$ 的所有其他偏导数均为零。现在我们可以计算 Christoffel 符号。\n\n$\\Gamma^r_{\\theta\\theta} = \\Gamma^1_{22}$:\n$$\n\\Gamma^1_{22} = \\frac{1}{2} g^{1l} (\\partial_2 g_{2l} + \\partial_2 g_{2l} - \\partial_l g_{22}) = \\frac{1}{2} g^{11} (2\\partial_2 g_{21} - \\partial_1 g_{22}) = \\frac{1}{2}(1)(2 \\cdot 0 - 2r) = -r\n$$\n\n$\\Gamma^\\theta_{r\\theta} = \\Gamma^2_{12}$:\n$$\n\\Gamma^2_{12} = \\frac{1}{2} g^{2l} (\\partial_1 g_{2l} + \\partial_2 g_{1l} - \\partial_l g_{12}) = \\frac{1}{2} g^{22} (\\partial_1 g_{22} + \\partial_2 g_{12} - \\partial_2 g_{12}) = \\frac{1}{2} r^{-2} (2r) = \\frac{1}{r}\n$$\n由于对称性 $\\Gamma^k_{ij} = \\Gamma^k_{ji}$，我们有 $\\Gamma^\\theta_{\\theta r} = \\Gamma^2_{21} = \\frac{1}{r}$。\n\n所有其他 Christoffel 符号均为零。例如：\n$\\Gamma^r_{rr} = \\Gamma^1_{11} = \\frac{1}{2} g^{11}(\\partial_1 g_{11} + \\partial_1 g_{11} - \\partial_1 g_{11}) = 0$。\n$\\Gamma^\\theta_{\\theta\\theta} = \\Gamma^2_{22} = \\frac{1}{2} g^{22}(\\partial_2 g_{22} + \\partial_2 g_{22} - \\partial_2 g_{22}) = 0$。\n$\\Gamma^r_{r\\theta} = \\Gamma^1_{12} = \\frac{1}{2} g^{11}(\\partial_1 g_{21} + \\partial_2 g_{11} - \\partial_1 g_{12}) = 0$。\n$\\Gamma^\\theta_{rr} = \\Gamma^2_{11} = \\frac{1}{2} g^{22}(\\partial_1 g_{12} + \\partial_1 g_{12} - \\partial_2 g_{11}) = 0$。\n\n非零的 Christoffel 符号为：\n$$\n\\Gamma^r_{\\theta\\theta} = -r, \\quad \\Gamma^\\theta_{r\\theta} = \\Gamma^\\theta_{\\theta r} = \\frac{1}{r}\n$$\n\n**2. 黎曼曲率算子 $R(J, \\dot{\\gamma})\\dot{\\gamma}$**\n\n首先，我们描述测地线 $\\gamma(s)$ 及其速度向量 $\\dot{\\gamma}(s)$。它被给定为一条单位速度径向测地线，其中 $s$ 是弧长参数。\n“径向”意味着角度 $\\theta$ 是常数，所以 $\\theta(s) = \\theta_0$ 对于某个常数 $\\theta_0$ 成立。这意味着 $\\frac{d\\theta}{ds} = 0$。\n速度向量为 $\\dot{\\gamma}(s) = \\frac{dr}{ds}\\partial_r + \\frac{d\\theta}{ds}\\partial_\\theta = \\frac{dr}{ds}\\partial_r$。\n“单位速度”条件是 $g(\\dot{\\gamma}, \\dot{\\gamma}) = 1$。\n$$\ng\\left(\\frac{dr}{ds}\\partial_r, \\frac{dr}{ds}\\partial_r\\right) = g_{rr} \\left(\\frac{dr}{ds}\\right)^2 = 1 \\cdot \\left(\\frac{dr}{ds}\\right)^2 = 1\n$$\n这得到 $\\left(\\frac{dr}{ds}\\right)^2 = 1$。由于已知 $r(s)$ 是严格递增的，我们必须有 $\\frac{dr}{ds} = 1$。\n因此，沿测地线的速度向量场为 $\\dot{\\gamma}(s) = \\partial_r$。我们将其记为 $T = \\partial_r$。\n\n沿 $\\gamma(s)$ 的向量场 $J(s)$ 可以在坐标基中写为 $J(s) = J^r(s)\\partial_r + J^\\theta(s)\\partial_\\theta$。\n\n我们需要计算 $R(J, T)T$。利用黎曼曲率张量 $R$ 的张量性质：\n$$\nR(J, T)T = R(J^r\\partial_r + J^\\theta\\partial_\\theta, \\partial_r)\\partial_r = J^r R(\\partial_r, \\partial_r)\\partial_r + J^\\theta R(\\partial_\\theta, \\partial_r)\\partial_r\n$$\n根据 $R$ 在其前两个参数中的反对称性，$R(\\partial_r, \\partial_r)\\partial_r = 0$。所以我们只需要计算第二项：\n$$\nR(J, \\dot{\\gamma})\\dot{\\gamma} = J^\\theta(s) R(\\partial_\\theta, \\partial_r)\\partial_r\n$$\n黎曼曲率算子定义为 $R(X,Y)Z = \\nabla_X \\nabla_Y Z - \\nabla_Y \\nabla_X Z - \\nabla_{[X,Y]} Z$。对于坐标基向量，李括号为零：$[\\partial_\\theta, \\partial_r] = 0$。\n所以，$R(\\partial_\\theta, \\partial_r)\\partial_r = \\nabla_{\\partial_\\theta} \\nabla_{\\partial_r} \\partial_r - \\nabla_{\\partial_r} \\nabla_{\\partial_\\theta} \\partial_r$。\n\n我们使用基向量场的协变导数公式 $\\nabla_{\\partial_i}\\partial_j = \\Gamma^k_{ij}\\partial_k$。\n第一项：\n$$\n\\nabla_{\\partial_r} \\partial_r = \\Gamma^k_{rr}\\partial_k = \\Gamma^r_{rr}\\partial_r + \\Gamma^\\theta_{rr}\\partial_\\theta = 0\\cdot\\partial_r + 0\\cdot\\partial_\\theta = 0\n$$\n所以，$\\nabla_{\\partial_\\theta} (\\nabla_{\\partial_r} \\partial_r) = \\nabla_{\\partial_\\theta} (0) = 0$。\n\n第二项：\n$$\n\\nabla_{\\partial_\\theta} \\partial_r = \\Gamma^k_{\\theta r}\\partial_k = \\Gamma^r_{\\theta r}\\partial_r + \\Gamma^\\theta_{\\theta r}\\partial_\\theta = 0\\cdot\\partial_r + \\frac{1}{r}\\partial_\\theta = \\frac{1}{r}\\partial_\\theta\n$$\n现在我们计算它关于 $\\partial_r$ 的协变导数：\n$$\n\\nabla_{\\partial_r} (\\nabla_{\\partial_\\theta} \\partial_r) = \\nabla_{\\partial_r} \\left(\\frac{1}{r}\\partial_\\theta\\right)\n$$\n使用协变微分的乘积法则，$\\nabla_X(fY) = (Xf)Y + f\\nabla_X Y$：\n$$\n\\nabla_{\\partial_r} \\left(\\frac{1}{r}\\partial_\\theta\\right) = \\left(\\partial_r \\frac{1}{r}\\right)\\partial_\\theta + \\frac{1}{r}\\left(\\nabla_{\\partial_r}\\partial_\\theta\\right) = -\\frac{1}{r^2}\\partial_\\theta + \\frac{1}{r}\\left(\\Gamma^k_{r\\theta}\\partial_k\\right)\n$$\n$$\n= -\\frac{1}{r^2}\\partial_\\theta + \\frac{1}{r}(\\Gamma^r_{r\\theta}\\partial_r + \\Gamma^\\theta_{r\\theta}\\partial_\\theta) = -\\frac{1}{r^2}\\partial_\\theta + \\frac{1}{r}\\left(0\\cdot\\partial_r + \\frac{1}{r}\\partial_\\theta\\right) = -\\frac{1}{r^2}\\partial_\\theta + \\frac{1}{r^2}\\partial_\\theta = 0\n$$\n合并各项，我们发现：\n$$\nR(\\partial_\\theta, \\partial_r)\\partial_r = 0 - 0 = 0\n$$\n这意味着作用于 $J$ 的曲率算子为：\n$$\nR(J, \\dot{\\gamma})\\dot{\\gamma} = J^\\theta(s) \\cdot 0 = 0\n$$\n结果是零向量。这是意料之中的，因为该度规是在极坐标下表示的 $\\mathbb{R}^2$ 上的欧几里得度规，它描述了一个平坦空间。平坦空间的黎曼曲率张量为零。\n\n**3. 测地线偏离方程（雅可比方程）的推导**\n\n令 $\\alpha: (-\\epsilon, \\epsilon) \\times [a,b] \\to M$ 为一个光滑的单参数测地线族，称为测地线变分。令 $t \\in (-\\epsilon, \\epsilon)$ 是变分参数，$s \\in [a,b]$ 是每条测地线的弧长参数。与变分相关的向量场是切向量场 $T = \\frac{\\partial\\alpha}{\\partial s}$ 和变分向量场 $J = \\frac{\\partial\\alpha}{\\partial t}$。我们沿中心测地线 $\\gamma(s) = \\alpha(s,0)$ 进行计算。\n\n对于固定的 $t$，每条曲线 $\\alpha(s, t)$ 都是测地线的条件是 $\\nabla_T T = 0$。\n雅可比方程描述了 $J$ 如何沿测地线变化。为了找到这个方程，我们研究测地线条件如何随 $t$ 的变化而变化。我们计算 $\\nabla_T T = 0$ 关于 $J$ 的协变导数：\n$$\n\\nabla_J(\\nabla_T T) = 0\n$$\n黎曼曲率张量由协变导数的交换关系定义：$R(J,T)T = \\nabla_J \\nabla_T T - \\nabla_T \\nabla_J T - \\nabla_{[J,T]} T$。\n向量场 $T=\\frac{\\partial\\alpha}{\\partial s}$ 和 $J=\\frac{\\partial\\alpha}{\\partial t}$ 来自变分曲面上的坐标图 $(s,t)$，所以它们的李括号为零：$[J,T] = 0$。\n利用这一点和 $\\nabla_J(\\nabla_T T) = 0$，曲率定义变为：\n$$\nR(J,T)T = 0 - \\nabla_T \\nabla_J T - 0 = - \\nabla_T \\nabla_J T\n$$\nLevi-Civita 连接的无挠性质意味着 $\\nabla_J T - \\nabla_T J = [J,T]$。由于 $[J,T] = 0$，我们有 $\\nabla_J T = \\nabla_T J$。\n将此代入前一个方程：\n$$\nR(J,T)T = - \\nabla_T(\\nabla_T J)\n$$\n整理后得到测地线偏离方程，或称为雅可比方程：\n$$\n\\nabla_T \\nabla_T J + R(J,T)T = 0\n$$\n用 $\\dot{\\gamma}$ 替换 $T$，方程为 $\\nabla_{\\dot{\\gamma}} \\nabla_{\\dot{\\gamma}} J + R(J,\\dot{\\gamma})\\dot{\\gamma} = 0$。\n\n对于本问题中给定的特定度规，我们已经计算出 $R(J, \\dot{\\gamma})\\dot{\\gamma} = 0$。因此，沿径向测地线 $\\gamma(s)$ 的雅可比场 $J(s)$ 的雅可比方程简化为：\n$$\n\\nabla_{\\dot{\\gamma}} \\nabla_{\\dot{\\gamma}} J = 0\n$$\n这表明分离向量 $J$ 的“加速度”为零，这是平坦空间中测地线偏离的特征。\n\n问题要求给出沿 $\\gamma(s)$ 的 $R(J,\\dot{\\gamma})\\dot{\\gamma}$ 的完全简化的解析表达式。如上所示，此表达式为零向量。", "answer": "$$\n\\boxed{0}\n$$", "id": "3047819"}, {"introduction": "从平直空间转向典型的弯曲空间——球面 $S^{2}$——这项练习 [@problem_id:3047806] 旨在为雅可比场建立深刻的几何直觉。你将采用一种巧妙的方法，即通过等距变换（旋转）来生成雅可比场，从而直观地理解它们如何描述邻近测地线（例如球面上的大圆）之间的分离。", "problem": "设 $S^{2} \\subset \\mathbb{R}^{3}$ 是单位 $2$-球面，其上的圆度量由欧几里得内积诱导。考虑单位速率大圆（赤道）\n$$\n\\gamma(t) = (\\cos t,\\ \\sin t,\\ 0), \\quad t \\in \\mathbb{R},\n$$\n因此 $t$ 是弧长（等价地，是以弧度为单位的角参数）。沿 $\\gamma$ 的一个雅可比场定义为 $\\gamma$ 的一个通过测地线的光滑变分 $\\alpha(s,t)$ 的变分向量场 $J(t) = \\frac{\\partial}{\\partial s}\\big|_{s=0}\\alpha(s,t)$，它满足测地线偏离（雅可比）方程\n$$\n\\frac{D^{2}J}{dt^{2}} + R(J,\\dot{\\gamma})\\dot{\\gamma} = 0,\n$$\n其中 $R$ 是 $S^{2}$ 的黎曼曲率张量，$\\frac{D}{dt}$ 是沿 $\\gamma$ 的 Levi-Civita 协变导数。\n\n仅使用以下基本事实：\n- 等距映射将测地线映为测地线，\n- 由单参数等距映射族得到的变分产生雅可比场，\n- 单位圆球面 $S^{2}$ 具有常截面曲率 $K = 1$，等价地，对于切向量 $X, Y, Z$ 有 $R(X,Y)Z = g(Y,Z)X - g(X,Z)Y$，\n\n完成以下任务：\n\n1. 显式地构造沿 $\\gamma$ 的雅可比场 $J_{\\perp}(t)$，该场源于绕与大圆正交的轴（即 $z$ 轴）的单参数旋转群。将 $J_{\\perp}(t)$ 表示为 $\\mathbb{R}^{3}$ 中沿 $\\gamma$ 的向量场。\n\n2. 显式地构造沿 $\\gamma$ 的雅可比场 $J_{\\parallel}(t)$，该场源于绕位于大圆平面内的轴（例如 $x$ 轴）的单参数旋转群。将 $J_{\\parallel}(t)$ 表示为 $\\mathbb{R}^{3}$ 中沿 $\\gamma$ 的向量场。\n\n3. 使用给定的曲率公式，直接验证这两个场都满足沿 $\\gamma$ 的雅可比方程。\n\n以一个包含两个元素的单行矩阵形式提供您的最终答案，顺序如下：首先是由绕正交轴旋转得到的 $J_{\\perp}(t)$，然后是由绕平面内轴旋转得到的 $J_{\\parallel}(t)$。无需四舍五入。角度以弧度为单位。", "solution": "该问题是有效的，因为它具有科学依据、是良定的，并且所有术语和条件在黎曼几何中都是标准的。我们将通过构造雅可比场然后验证它们满足雅可比方程来继续解答。\n\n沿测地线 $\\gamma(t)$ 的雅可比场 $J(t)$ 可以由一个单参数等距映射族 $\\phi_s$ 生成。$\\gamma$ 的相应变分由 $\\alpha(s,t) = \\phi_s(\\gamma(t))$ 给出。由于等距映射将测地线映为测地线，因此对于固定的 $s$，每条曲线 $\\alpha(s, \\cdot)$ 都是一条测地线。雅可比场是变分向量场 $J(t) = \\frac{\\partial \\alpha}{\\partial s} \\Big|_{s=0}$。\n\n给定的测地线是单位2-球面 $S^2$ 的赤道，由弧长 $t$ 参数化：\n$$\n\\gamma(t) = (\\cos t, \\sin t, 0)\n$$\n切向量场为 $\\dot{\\gamma}(t) = \\frac{d\\gamma}{dt} = (-\\sin t, \\cos t, 0)$，其长度为单位长度 $|\\dot{\\gamma}(t)| = \\sqrt{(-\\sin t)^2 + (\\cos t)^2} = 1$。\n\n**1. 构造雅可比场 $J_{\\perp}(t)$**\n\n该雅可比场源于绕 $z$ 轴的单参数旋转群，该轴与大圆 $\\gamma(t)$ 的平面正交。绕 $z$ 轴旋转角度 $s$ 由以下矩阵给出：\n$$\nR_z(s) = \\begin{pmatrix} \\cos s  -\\sin s  0 \\\\ \\sin s  \\cos s  0 \\\\ 0  0  1 \\end{pmatrix}\n$$\n这是 $S^2$ 上的一个单参数等距映射群 $\\phi_s(\\mathbf{x}) = R_z(s)\\mathbf{x}$。$\\gamma(t)$ 的变分是 $\\alpha(s,t) = \\phi_s(\\gamma(t)) = R_z(s)\\gamma(t)$。\n$$\n\\alpha(s,t) = \\begin{pmatrix} \\cos s  -\\sin s  0 \\\\ \\sin s  \\cos s  0 \\\\ 0  0  1 \\end{pmatrix} \\begin{pmatrix} \\cos t \\\\ \\sin t \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} \\cos s \\cos t - \\sin s \\sin t \\\\ \\sin s \\cos t + \\cos s \\sin t \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} \\cos(s+t) \\\\ \\sin(s+t) \\\\ 0 \\end{pmatrix}\n$$\n雅可比场是在 $s=0$ 处关于 $s$ 的导数：\n$$\nJ_{\\perp}(t) = \\frac{\\partial \\alpha}{\\partial s} \\Big|_{s=0} = \\frac{\\partial}{\\partial s} \\begin{pmatrix} \\cos(s+t) \\\\ \\sin(s+t) \\\\ 0 \\end{pmatrix} \\Biggr|_{s=0} = \\begin{pmatrix} -\\sin(s+t) \\\\ \\cos(s+t) \\\\ 0 \\end{pmatrix} \\Biggr|_{s=0} = \\begin{pmatrix} -\\sin t \\\\ \\cos t \\\\ 0 \\end{pmatrix}\n$$\n因此，$J_{\\perp}(t) = (-\\sin t, \\cos t, 0)$。我们观察到 $J_{\\perp}(t) = \\dot{\\gamma}(t)$。\n\n**2. 构造雅可比场 $J_{\\parallel}(t)$**\n\n该雅可比场源于绕大圆平面内某轴的旋转，我们选择 $x$ 轴。绕 $x$ 轴旋转角度 $s$ 由以下矩阵给出：\n$$\nR_x(s) = \\begin{pmatrix} 1  0  0 \\\\ 0  \\cos s  -\\sin s \\\\ 0  \\sin s  \\cos s \\end{pmatrix}\n$$\n这是 $S^2$ 上的一个单参数等距映射群 $\\phi_s(\\mathbf{x}) = R_x(s)\\mathbf{x}$。变分是 $\\alpha(s,t) = R_x(s)\\gamma(t)$：\n$$\n\\alpha(s,t) = \\begin{pmatrix} 1  0  0 \\\\ 0  \\cos s  -\\sin s \\\\ 0  \\sin s  \\cos s \\end{pmatrix} \\begin{pmatrix} \\cos t \\\\ \\sin t \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} \\cos t \\\\ \\sin t \\cos s \\\\ \\sin t \\sin s \\end{pmatrix}\n$$\n雅可比场是在 $s=0$ 处关于 $s$ 的导数：\n$$\nJ_{\\parallel}(t) = \\frac{\\partial \\alpha}{\\partial s} \\Big|_{s=0} = \\frac{\\partial}{\\partial s} \\begin{pmatrix} \\cos t \\\\ \\sin t \\cos s \\\\ \\sin t \\sin s \\end{pmatrix} \\Biggr|_{s=0} = \\begin{pmatrix} 0 \\\\ -\\sin t \\sin s \\\\ \\sin t \\cos s \\end{pmatrix} \\Biggr|_{s=0} = \\begin{pmatrix} 0 \\\\ 0 \\\\ \\sin t \\end{pmatrix}\n$$\n因此，$J_{\\parallel}(t) = (0, 0, \\sin t)$。\n\n**3. 验证雅可比方程**\n\n雅可比方程为 $\\frac{D^{2}J}{dt^{2}} + R(J,\\dot{\\gamma})\\dot{\\gamma} = 0$。对于常截面曲率 $K=1$ 的 $S^2$，其黎曼张量为 $R(X,Y)Z = g(Y,Z)X - g(X,Z)Y$。度量 $g$ 是 $\\mathbb{R}^3$ 上的标准点积。$S^2$ 中沿曲线 $c(t)$ 的向量场 $V(t)$ 的协变导数 $\\frac{DV}{dt}$ 是其在 $\\mathbb{R}^3$ 中普通导数的切向分量，即 $\\frac{DV}{dt} = \\frac{dV}{dt} - (\\frac{dV}{dt} \\cdot c(t))c(t)$，因为 $c(t)$ 是球面在 $c(t)$ 点的单位法向量。\n\n**对 $J_{\\perp}(t)$ 的验证**\n我们有 $J_{\\perp}(t) = (-\\sin t, \\cos t, 0) = \\dot{\\gamma}(t)$。雅可比方程变为：\n$$\n\\frac{D^{2}\\dot{\\gamma}}{dt^{2}} + R(\\dot{\\gamma},\\dot{\\gamma})\\dot{\\gamma} = 0\n$$\n- 第一项：根据定义，测地线满足 $\\frac{D\\dot{\\gamma}}{dt} = 0$。零向量场的协变导数为零，所以 $\\frac{D^{2}\\dot{\\gamma}}{dt^{2}} = \\frac{D}{dt}(0) = 0$。\n- 第二项：黎曼张量在其前两个变量上是反对称的，所以对于任意向量场 $X, Y$，有 $R(X,X)Y=0$。因此，$R(\\dot{\\gamma},\\dot{\\gamma})\\dot{\\gamma} = 0$。\n方程变为 $0 + 0 = 0$，成立。\n\n**对 $J_{\\parallel}(t)$ 的验证**\n我们有 $J(t) = J_{\\parallel}(t) = (0, 0, \\sin t)$。我们需要计算雅可比方程中的两项。\n\n首先，我们计算 $\\frac{D^{2}J}{dt^{2}}$。\n在 $\\mathbb{R}^3$ 中的一阶导数是 $\\frac{dJ}{dt} = (0, 0, \\cos t)$。\n一阶协变导数是 $\\frac{DJ}{dt} = \\frac{dJ}{dt} - (\\frac{dJ}{dt} \\cdot \\gamma(t))\\gamma(t)$。\n点积是 $\\frac{dJ}{dt} \\cdot \\gamma(t) = (0, 0, \\cos t) \\cdot (\\cos t, \\sin t, 0) = 0$。\n所以，$\\frac{DJ}{dt} = \\frac{dJ}{dt} = (0, 0, \\cos t)$。我们将此向量场称为 $V(t)$。\n\n二阶协变导数是 $\\frac{D^{2}J}{dt^{2}} = \\frac{DV}{dt} = \\frac{dV}{dt} - (\\frac{dV}{dt} \\cdot \\gamma(t))\\gamma(t)$。\n$V(t)$ 在 $\\mathbb{R}^3$ 中的导数是 $\\frac{dV}{dt} = \\frac{d}{dt}(0,0,\\cos t) = (0, 0, -\\sin t)$。\n点积是 $\\frac{dV}{dt} \\cdot \\gamma(t) = (0, 0, -\\sin t) \\cdot (\\cos t, \\sin t, 0) = 0$。\n所以，$\\frac{D^{2}J}{dt^{2}} = \\frac{dV}{dt} = (0, 0, -\\sin t)$。\n这恰好是 $-J(t)$。因此，$\\frac{D^{2}J_{\\parallel}}{dt^{2}} = -J_{\\parallel}(t)$。\n\n接下来，我们计算曲率项 $R(J_{\\parallel},\\dot{\\gamma})\\dot{\\gamma}$。使用给定的公式：\n$$\nR(J_{\\parallel},\\dot{\\gamma})\\dot{\\gamma} = g(\\dot{\\gamma}, \\dot{\\gamma})J_{\\parallel} - g(J_{\\parallel}, \\dot{\\gamma})\\dot{\\gamma}\n$$\n我们计算内积：\n- $g(\\dot{\\gamma}, \\dot{\\gamma}) = \\dot{\\gamma} \\cdot \\dot{\\gamma} = (-\\sin t, \\cos t, 0) \\cdot (-\\sin t, \\cos t, 0) = \\sin^2 t + \\cos^2 t = 1$。\n- $g(J_{\\parallel}, \\dot{\\gamma}) = J_{\\parallel} \\cdot \\dot{\\gamma} = (0, 0, \\sin t) \\cdot (-\\sin t, \\cos t, 0) = 0$。\n\n将这些代入曲率项表达式中：\n$$\nR(J_{\\parallel},\\dot{\\gamma})\\dot{\\gamma} = (1) J_{\\parallel} - (0) \\dot{\\gamma} = J_{\\parallel}(t)\n$$\n最后，我们将我们的结果代入雅可比方程：\n$$\n\\frac{D^{2}J_{\\parallel}}{dt^{2}} + R(J_{\\parallel},\\dot{\\gamma})\\dot{\\gamma} = -J_{\\parallel}(t) + J_{\\parallel}(t) = 0\n$$\n方程成立。两个场都被验证为雅可比场。", "answer": "$$\n\\boxed{\\begin{pmatrix} (-\\sin t, \\cos t, 0)  (0, 0, \\sin t) \\end{pmatrix}}\n$$", "id": "3047806"}, {"introduction": "这项练习 [@problem_id:3047795] 是一个计算实验，它将抽象的测地偏离理论变得鲜活起来。通过推导并数值求解标量雅可比方程，你将能够亲眼观察并量化正、零、负曲率对测地线束行为（汇聚或发散）的决定性影响。", "problem": "给定三个黎曼曲面度量和一族测地线。你的任务是推导、建立并数值积分一个适当的标量二阶常微分方程 (ODE)，该方程描述了沿每条测地线在平行标准正交标架中的测地线偏差。然后，你必须分析标量函数 $y(t)$ 的零点间距，该函数编码了沿测地线的雅可比场的法向分量。你的最终程序必须为指定的测试套件生成所要求的分析，并以文末描述的精确格式输出结果。\n\n起点和基本依据：\n- 从黎曼度量 $g$、Levi-Civita 联络 $\\nabla$、满足 $\\nabla_{\\dot{\\gamma}} \\dot{\\gamma} = 0$ 的测地线 $\\gamma(t)$，以及由测地线方程线性化定义的沿 $\\gamma(t)$ 的雅可比场 $J(t)$ 的定义开始。雅可比场方程将 $J(t)$ 沿 $\\gamma(t)$ 的二阶协变导数与作用于 $J(t)$ 和切向量 $\\dot{\\gamma}(t)$ 的曲率联系起来。\n- 在二维情况下，沿 $\\gamma(t)$ 使用一个平行标准正交标架 $\\{T(t), E(t)\\}$，其中 $T(t)$ 是单位切向量 $T(t) = \\dot{\\gamma}(t)$，$E(t)$ 是沿 $\\gamma(t)$ 的单位法向量场，满足 $\\nabla_{T} E = 0$。将一个法向雅可比场分解为 $J(t) = y(t) E(t)$。推导系数函数 $y(t)$ 的标量二阶 ODE，用沿测地线采样的高斯曲率表示。\n- 你必须为 $y(t)$ 建立初值问题，初始条件为 $y(0) = 0$ 和 $y'(0) = 1$，并在给定的区间 $t \\in [0, t_{\\max}]$ 上进行数值积分。将 $t$ 视为弧长，因此所有报告的距离都是无量纲数。\n\n测试套件的曲面和度量：\n- 情况 1（常正曲率）：半径为 $R = 2$ 的标准 2-球面及其标准度量。考虑一条单位速度的大圆测地线（例如，赤道）。沿该测地线采样的高斯曲率是空间常数，其值为 $K = \\frac{1}{R^{2}}$。\n- 情况 2（零曲率）：欧几里得平面 $\\mathbb{R}^{2}$ 及其标准度量。考虑一条单位速度的直线测地线。沿该测地线采样的高斯曲率是空间常数，其值为 $K = 0$。\n- 情况 3（常负曲率）：庞加莱半平面模型中的双曲平面，其度量为 $\\mathrm{d}s^{2} = \\frac{\\mathrm{d}x^{2} + \\mathrm{d}y^{2}}{y^{2}}$。考虑一条单位速度的垂直测地线。沿该测地线采样的高斯曲率是空间常数，其值为 $K = -1$。\n\n数值任务：\n- 对于每种情况，利用沿给定测地线采样的高斯曲率，建立由平行标架中测地线偏差所蕴含的 $y(t)$ 的标量 ODE。使用初始条件 $y(0) = 0$，$y'(0) = 1$，从 $t = 0$ 到 $t = t_{\\max} = 20$ 进行数值积分。\n- 在开区间 $(0, t_{\\max}]$ 中检测 $y(t)$ 的零点，并计算连续零点之间的间距。如果在 $(0, t_{\\max}]$ 中少于两个零点，则间距列表为空。\n\n测试套件：\n- 使用以下参数集，每个参数集由其常数高斯曲率值和积分上限指定：\n    - 情况 1：$K = \\frac{1}{4}$，$t_{\\max} = 20$。\n    - 情况 2：$K = 0$，$t_{\\max} = 20$。\n    - 情况 3：$K = -1$，$t_{\\max} = 20$。\n\n答案规格和输出格式：\n- 对于每种情况，输出在 $(0, t_{\\max}]$ 内 $y(t)$ 的连续零点之间的间距列表，作为浮点数列表。所有距离都是无量纲的。\n- 你的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表形式的结果，每个条目对应一个测试案例，并且其本身也是一个浮点数间距列表。例如，最终输出必须看起来像 $[\\,[\\dots],\\,[\\dots],\\,[\\dots]\\,]$，逗号后没有空格。具体来说，你的程序必须打印类似 $[[s_{1,1},s_{1,2},\\dots],[\\ ],[\\ ]]$ 的内容，其中 $s_{i,j}$ 表示第 $i$ 种情况的第 $j$ 个间距，对于少于两个零点的情况，则打印空列表。", "solution": "分析始于雅可比方程，它描述了沿测地线 $\\gamma(t)$ 的雅可比场 $J(t)$ 的演化。雅可比场衡量了邻近测地线之间的无穷小分离。设 $T(t) = \\dot{\\gamma}(t)$ 为测地线的单位切向量，其中 $t$ 是弧长参数。雅可比方程为：\n$$ \\nabla_{T} \\nabla_{T} J + R(J, T) T = 0 $$\n这里，$\\nabla_{T}$ 是沿测地线的协变导数，$R$ 是黎曼曲率张量。\n\n在二维黎曼流形（一个曲面）上，我们可以简化这个方程。我们关心的是测地线在其法线方向上如何偏离。我们沿 $\\gamma(t)$ 构建一个平行标准正交标架 $\\{T(t), E(t)\\}$。这里，$T(t)$ 是单位切向量，$E(t)$ 是一个与 $T(t)$ 正交的单位向量场（即 $g(T, E) = 0$，$g(E, E) = 1$）。该标架是平行移动的，这意味着 $\\nabla_T T = 0$（测地线方程）和 $\\nabla_T E = 0$。\n\n一个雅可比场 $J(t)$ 可以分解为切向和法向分量。一个法向雅可比场，代表垂直于行进方向的偏差，可写为：\n$$ J(t) = y(t) E(t) $$\n其中 $y(t)$ 是一个表示偏差大小的标量函数。\n\n现在我们将这种形式的 $J(t)$ 代入雅可比方程。我们使用协变微分的莱布尼茨法则计算 $J(t)$ 的协变导数：\n$$ \\nabla_T J = \\nabla_T (y(t) E(t)) = (\\nabla_T y) E + y (\\nabla_T E) $$\n由于 $y(t)$ 是一个标量函数，其协变导数就是它对 $t$ 的普通导数，$\\nabla_T y = \\frac{dy}{dt} = y'(t)$。根据我们标架的构造，$\\nabla_T E = 0$。因此，一阶导数是：\n$$ \\nabla_T J = y'(t) E(t) $$\n取二阶协变导数：\n$$ \\nabla_T \\nabla_T J = \\nabla_T (y'(t) E(t)) = (\\nabla_T y') E + y' (\\nabla_T E) = y''(t) E(t) $$\n\n接下来，我们分析曲率项 $R(J, T) T$。对于二维流形，黎曼张量在标准正交基 $\\{X, Y\\}$ 上的作用由 $R(X, Y)Y = K X$ 给出，其中 $K$ 是高斯曲率。\n在我们的例子中，标准正交基是 $\\{T, E\\}$，所以 $R(T, E)E = K T$。利用黎曼张量的对称性，$R(E, T)T = -R(T, E)T$。一个更直接的二维曲面上黎曼张量的公式是 $R(X, Y)Z = K(g(Y, Z)X - g(X, Z)Y)$。\n将 $J(t) = y(t)E(t)$ 代入曲率项：\n$$ R(J, T) T = R(y(t)E(t), T(t)) T(t) = y(t) R(E, T) T $$\n使用通用公式，令 $X=E, Y=T, Z=T$：\n$$ R(E, T) T = K(g(T, T)E - g(E, T)T) $$\n由于 $\\{T, E\\}$ 是一个标准正交标架，$g(T, T)=1$ 且 $g(E, T)=0$。这简化为：\n$$ R(E, T)T = K(1 \\cdot E - 0 \\cdot T) = K E $$\n所以，曲率项变为：\n$$ R(J, T) T = y(t) K(\\gamma(t)) E(t) $$\n其中 $K(\\gamma(t))$ 是在点 $\\gamma(t)$ 处的高斯曲率。\n\n将二阶导数和曲率项代回雅可比方程：\n$$ y''(t) E(t) + y(t) K(\\gamma(t)) E(t) = 0 $$\n$$ (y''(t) + K(\\gamma(t)) y(t)) E(t) = 0 $$\n由于 $E(t)$ 是一个非零向量，其系数必须为零。这就得到了测地线偏差的标量二阶常微分方程：\n$$ y''(t) + K(\\gamma(t)) y(t) = 0 $$\n\n**问题细节与数值方法**\n\n问题指定了三种高斯曲率 $K$ 沿测地线为常数的情况。该 ODE 简化为一个常系数线性齐次 ODE。我们必须求解以下初值问题 (IVP)：\n$$ y''(t) + K y(t) = 0, \\quad y(0) = 0, \\quad y'(0) = 1 $$\n\n解的行为取决于 $K$ 的符号：\n1.  **情况 1：正曲率 ($K  0$)**：设 $K = \\omega^2$。方程为 $y'' + \\omega^2 y = 0$。解为 $y(t) = \\frac{1}{\\omega}\\sin(\\omega t)$。该解是振荡的，在 $t = n\\pi/\\omega$（$n$ 为整数）处穿过零点。这些零点称为共轭点，物理上代表测地线族重新聚焦的点。连续零点之间的间距是常数，$\\Delta t = \\pi/\\omega$。对于 $K = 1/4$，$\\omega = 1/2$，所以间距是 $2\\pi$。\n\n2.  **情况 2：零曲率 ($K = 0$)**：方程为 $y'' = 0$。解为 $y(t) = t$。唯一的零点在 $t = 0$。测地线线性发散，这是欧几里得空间的熟知属性。\n\n3.  **情况 3：负曲率 ($K  0$)**：设 $K = -\\alpha^2$。方程为 $y'' - \\alpha^2 y = 0$。解为 $y(t) = \\frac{1}{\\alpha}\\sinh(\\alpha t)$。唯一的零点在 $t=0$。测地线指数发散，这是双曲几何的特征。\n\n为了数值求解，我们将二阶 ODE 转化为一个由两个一阶 ODE 组成的系统。设状态向量为 $\\vec{z}(t) = [z_1(t), z_2(t)]^T = [y(t), y'(t)]^T$。该系统是：\n$$ \\frac{d\\vec{z}}{dt} = \\begin{pmatrix} z_2 \\\\ -K z_1 \\end{pmatrix} $$\n初始条件为 $\\vec{z}(0) = [0, 1]^T$。\n\n此 IVP 使用数值积分器求解，具体是在 Python 中使用 `scipy.integrate.solve_ivp`。我们对给定的三个 $K$ 值：$1/4$、0 和 $-1$，分别从 $t=0$ 积分到 $t=t_{\\max}=20$。\n\n为了在区间 $(0, t_{\\max}]$ 中找到 $y(t)$ 的零点，我们使用 `solve_ivp` 的事件检测功能。一个事件函数，它简单地返回 $y(t)$ 的值（即 $z_1(t)$），被提供给求解器。求解器随后在积分过程中找到该函数的所有根。对根时间的列表进行后处理，以排除初始点 $t=0$ 并计算连续正根之间的差。如果找到的正根少于两个，则根据问题规定，间距列表为空。", "answer": "```python\nimport numpy as np\nfrom scipy.integrate import solve_ivp\n\ndef solve():\n    \"\"\"\n    Solves the geodesic deviation equation for three cases of constant curvature,\n    finds the zeros of the deviation function y(t), and calculates the\n    spacings between them.\n    \"\"\"\n    # Test suite parameters: (Gaussian Curvature K, integration horizon t_max)\n    test_cases = [\n        (0.25, 20.0),  # Case 1: Sphere, K = 1/4\n        (0.0, 20.0),   # Case 2: Euclidean Plane, K = 0\n        (-1.0, 20.0)   # Case 3: Hyperbolic Plane, K = -1\n    ]\n\n    all_results = []\n\n    def ode_system(t, z, K):\n        \"\"\"\n        Defines the system of first-order ODEs equivalent to y'' + K*y = 0.\n        The state vector is z = [y, y'].\n        So, z' = [y', y''] = [z[1], -K*z[0]].\n        \"\"\"\n        return [z[1], -K * z[0]]\n\n    def find_zeros(t, z, K):\n        \"\"\"\n        Event function to detect zeros of y(t). The event occurs when z[0] = y = 0.\n        \"\"\"\n        return z[0]\n    \n    # Make the event non-terminal to find all zeros in the interval.\n    find_zeros.terminal = False\n\n    for K, t_max in test_cases:\n        # Initial conditions: y(0) = 0, y'(0) = 1\n        z0 = [0.0, 1.0]\n        t_span = [0.0, t_max]\n\n        # Use a numerical ODE solver with event detection.\n        # High precision is requested for accurate root finding.\n        sol = solve_ivp(\n            ode_system,\n            t_span,\n            z0,\n            args=(K,),\n            events=find_zeros,\n            dense_output=True,\n            rtol=1e-12,\n            atol=1e-12\n        )\n\n        # The solver returns a list of event times (zeros of y).\n        # We expect only one event type, so we access sol.t_events[0].\n        zero_times = sol.t_events[0]\n\n        # The problem asks for zeros in the open interval (0, t_max].\n        # We filter out the initial point t=0, allowing for small numerical noise.\n        # The threshold 1e-9 is safe given the integration tolerances.\n        significant_zeros = zero_times[zero_times > 1e-9]\n\n        # Calculate spacings between consecutive zeros if at least two are found.\n        spacings = []\n        if len(significant_zeros) >= 2:\n            spacings = np.diff(significant_zeros).tolist()\n        \n        all_results.append(spacings)\n\n    # Format the final output string according to the problem specification.\n    # The format must be a list of lists, e.g., [[s1,s2,...],[],[]]\n    # with no spaces after commas.\n    result_strings = []\n    for R in all_results:\n        # Format each float in the list to a standard string representation\n        # and join them with a comma.\n        formatted_list = ','.join(map(str, R))\n        result_strings.append(f\"[{formatted_list}]\")\n    \n    # Join the list strings with commas and enclose in the outer brackets.\n    final_output = f\"[{','.join(result_strings)}]\"\n    \n    print(final_output)\n\nsolve()\n```", "id": "3047795"}]}