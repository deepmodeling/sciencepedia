{"hands_on_practices": [{"introduction": "掌握范式的关键在于能够将任意逻辑表达式转换为其规范的析取范式（DNF）和合取范式（CNF）。本练习要求你直接从异或（$p \\oplus q$）算子的真值定义出发，推导其最小范式，这是一个严格运用逻辑等价律并证明最小性的实践 [@problem_id:2971857]。完成此任务表明你已深刻理解素蕴涵项（prime implicant）以及如何为给定的逻辑函数构建最高效的表达形式。", "problem": "设 $p$ 和 $q$ 为命题变量。仅使用联结词否定 $\\lnot$、合取 $\\land$ 和析取 $\\lor$，从第一性原理出发，推导一个与异或公式 $p \\oplus q$ 逻辑等价的合取范式（conjunctive normal form, CNF）和一个析取范式（disjunctive normal form, DNF）。推导应从 $p \\oplus q$ 的语义定义开始，即 $p \\oplus q$ 为真当且仅当 $p$ 和 $q$ 中恰好有一个为真。你的推导必须仅基于经典命题逻辑的核心真值函数定律，包括结合律、交换律、分配律、德摩根对偶律，以及子句和项的定义。证明你得到的 CNF 和 DNF 是素的且不可冗余的，并且在所有与 $p \\oplus q$ 等价的 CNF 和 DNF 中，它们同时最小化了 (i) 子句或项的数量和 (ii) 文字出现的总数。\n\n设 $c$ 表示所有与 $p \\oplus q$ 等价的 CNF 中子句的最小数量，设 $t$ 表示所有与 $p \\oplus q$ 等价的 DNF 中项的最小数量。计算二项式系数 $\\binom{c+t}{c}$ 并将其报告为一个精确的数字。无需四舍五入。", "solution": "问题陈述已经过验证，被认为是有效的。这是一个在经典命题逻辑中良定的问题，没有科学上的不健全、模糊或矛盾之处。所有必要的定义和约束都已提供，可以进行严谨的推导和证明。\n\n问题的核心是基于异或运算符 $p \\oplus q$ 的语义定义，推导并验证其最小范式。\n\n**1. 析取范式 (DNF) 的推导与最小性**\n\n语义定义指出，$p \\oplus q$ 为真当且仅当命题变量 $p$ 或 $q$ 中恰好有一个为真。这可以表示为满足此条件的两种情况的析取：\n情况1：$p$ 为真且 $q$ 为假。这对应于合取 $p \\land \\lnot q$。\n情况2：$p$ 为假且 $q$ 为真。这对应于合取 $\\lnot p \\land q$。\n\n用析取 ($\\lor$) 结合这两种互斥的情况，得到与 $p \\oplus q$ 等价的逻辑表达式：\n$$ (p \\land \\lnot q) \\lor (\\lnot p \\land q) $$\n该公式是析取范式 (DNF)，因为它是合取项的析取。设这些项为 $T_1 = p \\land \\lnot q$ 和 $T_2 = \\lnot p \\land q$。\n\n为证明这是一个最小 DNF，我们必须证明它是 $p \\oplus q$ 的所有素蕴含项的不可冗余析取。\n\n公式 $F$ 的一个蕴含项是一个项 $T$，使得 $T \\Rightarrow F$。素蕴含项是指一个蕴含项，从中移除任何文字都会使其不再是蕴含项。\n\n我们来分析项 $T_1 = p \\land \\lnot q$。\n根据构造，$ (p \\land \\lnot q) \\Rightarrow (p \\oplus q) $，所以 $T_1$ 是一个蕴含项。\n为了检查它是否是素的，我们尝试移除每个文字：\n- 移除 $p$ 剩下 $\\lnot q$。陈述 $\\lnot q \\Rightarrow (p \\oplus q)$ 是假的。一个反例是当 $p$ 为假且 $q$ 为假时。在这种情况下，$\\lnot q$ 为真，但 $p \\oplus q$ 为假。\n- 移除 $\\lnot q$ 剩下 $p$。陈述 $p \\Rightarrow (p \\oplus q)$ 是假的。一个反例是当 $p$ 为真且 $q$ 为真时。在这种情况下，$p$ 为真，但 $p \\oplus q$ 为假。\n由于没有文字可以被移除，$T_1 = p \\land \\lnot q$ 是一个素蕴含项。\n\n通过对称性，同样的推理也适用于项 $T_2 = \\lnot p \\land q$。它也是一个素蕴含项。\n\n是否存在其他素蕴含项？我们可以分析 $p \\oplus q$ 的真值表：\n| $p$ | $q$ | $p \\oplus q$ | 最小项 |\n|---|---|---|---|\n| $0$ | $0$ | $0$ | |\n| $0$ | $1$ | $1$ | $\\lnot p \\land q$ |\n| $1$ | $0$ | $1$ | $p \\land \\lnot q$ |\n| $1$ | $1$ | $0$ | |\n函数 $p \\oplus q$ 是其最小项的析取，而这些最小项恰好是 $T_1$ 和 $T_2$。在卡诺图中，这两个‘1’是孤立的，不能组合成更大的组。这直观地证实了 $\\lnot p \\land q$ 和 $p \\land \\lnot q$ 是仅有的素蕴含项。\n\n最小 DNF 是由一组素蕴含项的析取构成的，该析取既是完备的（覆盖所有为真的情况），又是不可冗余的（没有项可以被移除）。集合 {$p \\land \\lnot q, \\lnot p \\land q$} 包含了该函数的所有素蕴含项。移除任何一个项都会导致表达式不再等价于 $p \\oplus q$。例如，移除 $\\lnot p \\land q$ 会使表达式在 $p=0, q=1$ 时为假。因此，DNF $(p \\land \\lnot q) \\lor (\\lnot p \\land q)$ 是不可冗余的。\n\n这个 DNF 有 $2$ 个项。由于任何等价的 DNF 都必须由素蕴含项构成，并且我们已经证明了恰好有两个素蕴含项，所以没有等价的 DNF 能有少于 $2$ 个项。因此，这个 DNF 在项的数量上是最小的。我们用 $t$ 表示这个最小数量，所以 $t=2$。\n此外，它总共包含 $4$ 个文字。由于两个素蕴含项各需要两个文字，任何有 $2$ 个项的 DNF 都必须至少有 $4$ 个文字。因此，这个 DNF 也最小化了文字出现的总数。\n\n**2. 合取范式 (CNF) 的推导与最小性**\n\n合取范式 (CNF) 可以通过考虑公式的否定 $\\lnot(p \\oplus q)$ 来推导。一个公式为假当且仅当其否定为真。$p \\oplus q$ 为假当且仅当 $p$ 和 $q$ 具有相同的真值。这给出了两种情况：\n情况1：$p$ 为真且 $q$ 为真，对应于 $p \\land q$。\n情况2：$p$ 为假且 $q$ 为假，对应于 $\\lnot p \\land \\lnot q$。\n因此，$\\lnot(p \\oplus q)$ 的 DNF 是 $(p \\land q) \\lor (\\lnot p \\land \\lnot q)$。\n\n为了找到 $p \\oplus q$ 的 CNF，我们对其否定的 DNF 进行否定，并应用德摩根定律：\n$$ p \\oplus q \\equiv \\lnot(\\lnot(p \\oplus q)) \\equiv \\lnot( (p \\land q) \\lor (\\lnot p \\land \\lnot q) ) $$\n应用德摩根定律 $\\lnot(A \\lor B) \\equiv \\lnot A \\land \\lnot B$：\n$$ \\equiv \\lnot(p \\land q) \\land \\lnot(\\lnot p \\land \\lnot q) $$\n对两个合取项应用德摩根定律 $\\lnot(A \\land B) \\equiv \\lnot A \\lor \\lnot B$：\n$$ \\equiv (\\lnot p \\lor \\lnot q) \\land (\\lnot(\\lnot p) \\lor \\lnot(\\lnot q)) $$\n应用双重否定律 $\\lnot(\\lnot A) \\equiv A$：\n$$ \\equiv (\\lnot p \\lor \\lnot q) \\land (p \\lor q) $$\n这个表达式是 CNF。它是两个子句的合取：$C_1 = \\lnot p \\lor \\lnot q$ 和 $C_2 = p \\lor q$。\n\n为了证明最小性，我们证明这些是 $p \\oplus q$ 仅有的素蕴含子句。公式 $F$ 的一个蕴含子句是一个子句 $C$，使得 $F \\Rightarrow C$。素蕴含子句是指一个蕴含子句，从中移除任何文字都会使其不再是蕴含子句。\n\n我们来分析子句 $C_1 = \\lnot p \\lor \\lnot q$。\n陈述 $ (p \\oplus q) \\Rightarrow (\\lnot p \\lor \\lnot q) $ 是真的，因为如果 $p \\oplus q$ 为真，那么 $p$ 和 $q$ 不可能同时为真，这正是 $\\lnot p \\lor \\lnot q$ 所断言的。\n为了检查它是否是素的，我们移除文字：\n- 移除 $\\lnot p$ 剩下 $\\lnot q$。陈述 $(p \\oplus q) \\Rightarrow \\lnot q$ 是假的。一个反例是 $p=0, q=1$。此时，$p \\oplus q$ 为真，但 $\\lnot q$ 为假。\n- 移除 $\\lnot q$ 剩下 $\\lnot p$。陈述 $(p \\oplus q) \\Rightarrow \\lnot p$ 是假的。一个反例是 $p=1, q=0$。此时，$p \\oplus q$ 为真，但 $\\lnot p$ 为假。\n因此，$C_1$ 是一个素蕴含子句。\n\n我们来分析子句 $C_2 = p \\lor q$。\n陈述 $ (p \\oplus q) \\Rightarrow (p \\lor q) $ 是真的，因为如果 $p \\oplus q$ 为真，那么 $p$ 或 $q$ 中至少有一个必须为真。\n为了检查它是否是素的，我们移除文字：\n- 移除 $p$ 剩下 $q$。陈述 $(p \\oplus q) \\Rightarrow q$ 是假的。一个反例是 $p=1, q=0$。\n- 移除 $q$ 剩下 $p$。陈述 $(p \\oplus q) \\Rightarrow p$ 是假的。一个反例是 $p=0, q=1$。\n因此，$C_2$ 也是一个素蕴含子句。\n\n最小 CNF 是所有素蕴含子句的合取。$p \\oplus q$ 真值表中的两个假值出现在 $p=0, q=0$ 和 $p=1, q=1$。它们分别对应于最大项 $(p \\lor q)$ 和 $(\\lnot p \\lor \\lnot q)$。对‘0’的卡诺图分析表明它们是孤立的，这证实了这两个是仅有的素蕴含子句。\nCNF $(\\lnot p \\lor \\lnot q) \\land (p \\lor q)$ 是不可冗余的，因为移除任何一个子句都会使表达式在应为假值的输入下为真（例如，移除 $p \\lor q$ 使其在 $p=0, q=0$ 时为真）。\n\n这个 CNF 有 $2$ 个子句。由于恰好有两个素蕴含子句，没有等价的 CNF 能有更少的子句。因此，它在子句数量上是最小的。我们用 $c$ 表示这个最小数量，所以 $c=2$。\n它包含 $4$ 个文字。由于两个素蕴含子句各有二个文字，没有 $2$-子句的 CNF 能有更少的文字。因此，该 CNF 在子句数量和文字数量上都是最小的。\n\n**3. 最终计算**\n\n我们已经确定 $p \\oplus q$ 的 CNF 的最小子句数为 $c=2$，以及 DNF 的最小项数为 $t=2$。\n问题要求计算二项式系数 $\\binom{c+t}{c}$。\n代入数值：\n$$ \\binom{c+t}{c} = \\binom{2+2}{2} = \\binom{4}{2} $$\n$\\binom{4}{2}$ 的值计算如下：\n$$ \\binom{4}{2} = \\frac{4!}{2!(4-2)!} = \\frac{4!}{2!2!} = \\frac{4 \\times 3 \\times 2 \\times 1}{(2 \\times 1)(2 \\times 1)} = \\frac{24}{4} = 6 $$\n结果是一个精确的数字，$6$。", "answer": "$$ \\boxed{6} $$", "id": "2971857"}, {"introduction": "在实际应用中，逻辑公式——尤其是自动生成的公式——常常包含冗余。吸收（subsumption）原则提供了一种通过消除冗余子句来简化合取范式（CNF）公式的有效方法。本练习探讨了吸收的定义及其与逻辑等价性的直接联系，要求你识别并将其应用于一个具体示例 [@problem_id:2971839]。理解这一概念对于自动推理中的公式预处理和逻辑系统优化至关重要。", "problem": "考虑具有通常真值函数语义的命题逻辑：一个赋值为每个命题变量分配一个在 $\\{\\text{true}, \\text{false}\\}$ 中的真值，复合公式根据 $\\lor$、$\\land$ 和 $\\neg$ 的标准语义进行求值。一个文字是一个原子 $p$ 或其否定 $\\neg p$。一个子句是文字的有限析取。合取范式 (CNF) 是子句的有限合取。定义归入如下：给定子句 $C$ 和 $D$，如果 $C$ 的文字集合是 $D$ 的文字集合的子集，则称 $C$ 归入 $D$。考虑 CNF 公式\n$$F \\;=\\; (p \\lor q) \\land (p \\lor q \\lor r),$$\n其中 $p$、$q$ 和 $r$ 是不同的命题变量。下列哪个陈述是正确的？\n\nA. 根据给定的定义，在 $F$ 中，子句 $(p \\lor q)$ 归入子句 $(p \\lor q \\lor r)$。\n\nB. 根据给定的定义，在 $F$ 中，子句 $(p \\lor q \\lor r)$ 归入子句 $(p \\lor q)$。\n\nC. CNF 公式 $F$ 逻辑等价于 $(p \\lor q)$。\n\nD. CNF 公式 $F$ 逻辑等价于 $(p \\lor q \\lor r)$。\n\nE. 从 $F$ 中消除被归入的子句 $(p \\lor q \\lor r)$ 会保持逻辑等价性，而消除 $(p \\lor q)$ 则不会。", "solution": "首先将对问题陈述的科学合理性、良定性和客观性进行验证。\n\n### 第1步：提取已知条件\n- **逻辑系统：** 具有标准真值函数语义的命题逻辑。赋值为每个命题变量分配一个来自 $\\{\\text{true}, \\text{false}\\}$ 的真值。连接词 $\\lor$ (析取)、$\\land$ (合取) 和 $\\neg$ (否定) 具有其标准含义。\n- **定义：**\n    - 一个**文字**是一个原子 $p$ 或其否定 $\\neg p$。\n    - 一个**子句**是文字的有限析取。\n    - **合取范式 (CNF)** 是子句的有限合取。\n    - **归入：** 如果子句 $C$ 的文字集合是子句 $D$ 的文字集合的子集，则称 $C$ 归入 $D$。\n- **公式：** 正在考虑的 CNF 公式是 $F = (p \\lor q) \\land (p \\lor q \\lor r)$。\n- **变量：** $p$、$q$ 和 $r$ 是不同的命题变量。\n- **问题：** 确定所提供的陈述中哪些是正确的。\n\n### 第2步：使用提取的已知条件进行验证\n该问题设置在命题逻辑的形式框架内。所有术语，如“文字”、“子句”和“CNF”，都是标准的。所提供的“归入”定义是自动推理和逻辑编程中使用的标准定义（具体来说，它通常被称为 $\\theta$-归入，在命题逻辑中简化为这种基于集合的定义）。公式 $F$ 是一个合式的 CNF 公式。问题是基于给定定义对该公式属性的直接查询。\n\n- **科学基础（关键）：** 该问题牢固地植根于数理逻辑。所有定义和概念都是标准和正确的。它没有违反任何逻辑原则。\n- **良定性：** 该问题是良定的。它提供了所有必要的定义和一个要分析的特定公式。所问的问题是无歧义的，并且在逻辑系统内有确定的答案。\n- **客观性（关键）：** 该问题以精确、客观的数学语言陈述。\n- **其他缺陷：** 该问题是自洽、一致的，并且没有表现出验证清单中列出的任何其他缺陷（例如，它不是琐碎的、不良定义的或隐喻的）。\n\n### 第3步：结论与行动\n问题陈述是**有效的**。现在将进行求解过程。\n\n### 求解推导\n\n给定的 CNF 公式是 $F = (p \\lor q) \\land (p \\lor q \\lor r)$。\n让我们定义 $F$ 中的两个子句：\n- 子句 $C_1 = (p \\lor q)$。其文字集合是 $L(C_1) = \\{p, q\\}$。\n- 子句 $C_2 = (p \\lor q \\lor r)$。其文字集合是 $L(C_2) = \\{p, q, r\\}$。\n\n这个问题的核心是将归入的句法概念与逻辑等价的语义概念联系起来。具体来说，如果子句 $C_1$ 归入子句 $C_2$，这意味着任何满足 $C_1$ 的赋值也满足 $C_2$。要理解这一点，如果 $C_1$ 为真，那么它的至少一个文字为真。由于 $C_1$ 的所有文字也都在 $C_2$ 中，因此同一个文字在 $C_2$ 中也为真，从而使 $C_2$ 也为真。这意味着 $C_1 \\models C_2$，或者等价地，$(C_1 \\rightarrow C_2)$ 是一个重言式。\n\n公式 $F$ 是两个子句的合取，$C_1 \\land C_2$。如果 $C_1 \\models C_2$，那么 $C_1 \\land C_2 \\equiv C_1$。这是布尔代数中吸收律的一种形式：$A \\land (A \\lor B) \\equiv A$。\n令 $A = (p \\lor q)$ 和 $B=r$。那么公式 $F$ 的形式是 $A \\land (A \\lor r)$。根据吸收律，$F$ 逻辑等价于 $A$，即 $(p \\lor q)$。\n\n我们现在将基于这些原则逐一分析每个选项。\n\n### 逐项分析\n\n**A. 根据给定的定义，在 $F$ 中，子句 $(p \\lor q)$ 归入子句 $(p \\lor q \\lor r)$。**\n\n令 $C = (p \\lor q)$ 和 $D = (p \\lor q \\lor r)$。\n$C$ 的文字集合是 $L(C) = \\{p, q\\}$。\n$D$ 的文字集合是 $L(D) = \\{p, q, r\\}$。\n归入的定义指出，如果 $L(C) \\subseteq L(D)$，则 $C$ 归入 $D$。\n在这种情况下，$\\{p, q\\} \\subseteq \\{p, q, r\\}$ 是成立的。\n因此，根据所提供的定义，该陈述是正确的。\n\n结论：**正确**。\n\n**B. 根据给定的定义，在 $F$ 中，子句 $(p \\lor q \\lor r)$ 归入子句 $(p \\lor q)$。**\n\n令 $C = (p \\lor q \\lor r)$ 和 $D = (p \\lor q)$。\n$C$ 的文字集合是 $L(C) = \\{p, q, r\\}$。\n$D$ 的文字集合是 $L(D) = \\{p, q\\}$。\n归入的条件是 $L(C) \\subseteq L(D)$。\n在这种情况下，我们必须检查 $\\{p, q, r\\} \\subseteq \\{p, q\\}$ 是否成立。这是不成立的，因为文字 $r$ 是 $L(C)$ 的元素但不是 $L(D)$ 的元素。\n因此，该陈述是不正确的。\n\n结论：**不正确**。\n\n**C. CNF 公式 $F$ 逻辑等价于 $(p \\lor q)$。**\n\n公式为 $F = (p \\lor q) \\land (p \\lor q \\lor r)$。\n如在初始推导中所确立的，该公式是吸收律 $A \\land (A \\lor B) \\equiv A$ 的一个直接实例，其中 $A=(p \\lor q)$ 且 $B=r$。\n因此，$F \\equiv (p \\lor q)$。\n或者，我们可以从真值上进行推理。\n假设一个赋值使 $(p \\lor q)$ 为真。那么 $F$ 的第一个合取项为真。由于 $(p \\lor q)$ 为真，$(p \\lor q \\lor r)$ 也必定为真。因此，$F$ 为真。\n假设一个赋值使 $(p \\lor q)$ 为假。那么 $F$ 的第一个合取项为假，使得整个合取式 $F$ 为假。\n由于 $F$ 为真当且仅当 $(p \\lor q)$ 为真，所以这两个公式是逻辑等价的。\n\n结论：**正确**。\n\n**D. CNF 公式 $F$ 逻辑等价于 $(p \\lor q \\lor r)$。**\n\n从对选项 C 的分析中，我们知道 $F \\equiv (p \\lor q)$。要使此选项正确，需要 $(p \\lor q) \\equiv (p \\lor q \\lor r)$。\n这两个公式不是逻辑等价的。考虑一个赋值，其中 $p = \\text{false}$，$q = \\text{false}$，并且 $r = \\text{true}$。\n- 公式 $(p \\lor q)$ 的值为 $(\\text{false} \\lor \\text{false})$，即 $\\text{false}$。\n- 公式 $(p \\lor q \\lor r)$ 的值为 $(\\text{false} \\lor \\text{false} \\lor \\text{true})$，即 $\\text{true}$。\n由于这两个公式对于该赋值具有不同的真值，它们不是逻辑等价的。因此，$F$ 不逻辑等价于 $(p \\lor q \\lor r)$。\n\n结论：**不正确**。\n\n**E. 从 $F$ 中消除被归入的子句 $(p \\lor q \\lor r)$ 会保持逻辑等价性，而消除 $(p \\lor q)$ 则不会。**\n\n该陈述包含两个主张。\n主张1：“从 $F$ 中消除被归入的子句 $(p \\lor q \\lor r)$ 会保持逻辑等价性”。\n从选项 A 中，我们知道 $(p \\lor q \\lor r)$ 是被归入的子句（它被 $(p \\lor q)$ 归入）。\n原始公式是 $F = (p \\lor q) \\land (p \\lor q \\lor r)$。\n消除子句 $(p \\lor q \\lor r)$ 得到公式 $(p \\lor q)$。\n该主张是 $F \\equiv (p \\lor q)$。如在选项 C 中所证明的，这是正确的。所以，该陈述的第一部分是正确的。\n\n主张2：“...而消除 $(p \\lor q)$ 则不会。”\n从 $F$ 中消除子句 $(p \\lor q)$ 得到公式 $(p \\lor q \\lor r)$。\n该主张是 $F \\not\\equiv (p \\lor q \\lor r)$。如在选项 D 中所证明的，这是正确的。所以，该陈述的第二部分也是正确的。\n\n由于该复合陈述中的两个主张都是正确的，所以整个陈述是正确的。这个选项正确地描述了归入的后果：从一个 CNF 公式中移除被归入的（逻辑上更弱的）子句会保持逻辑等价性。\n\n结论：**正确**。", "answer": "$$\\boxed{ACE}$$", "id": "2971839"}, {"introduction": "合取范式的真正威力在于它被用作强大推理算法的标准输入，其中最著名的就是归结（resolution）原理。本实践将指导你构建一个归结反驳（resolution refutation），即通过逐步推导出空子句来证明一个给定的公式是不可满足的 [@problem_id:2971844]。这一过程是自动定理证明的基石，也是解决可满足性问题的基础算法。", "problem": "考虑一个合取范式（CNF）的命题公式，其中合取范式（CNF）是指文字析取式的合取，该公式由 $(p \\lor q) \\land (\\lnot p \\lor r) \\land (\\lnot q \\lor r) \\land (\\lnot r)$ 给出。一个子句是文字的析取，子句的宽度定义为其包含的文字数量。仅使用命题子句的标准归结规则——即从形式为 $(A \\lor x)$ 和 $(B \\lor \\lnot x)$ 的子句可以推导出归结式 $(A \\lor B)$——为上述CNF构造一个归结反驳（推导出空子句），并在整个推导过程中，确定出现的最大子句宽度（考虑初始子句和所有产生的归结式）。将您的最终答案表示为一个指示此最大宽度的整数。无需四舍五入。", "solution": "首先验证问题，以确保其是适定的、有科学依据的和客观的。\n\n**步骤1：提取已知条件**\n- 合取范式（CNF）中的命题公式： $(p \\lor q) \\land (\\lnot p \\lor r) \\land (\\lnot q \\lor r) \\land (\\lnot r)$。\n- CNF的定义：文字析取式的合取。\n- 子句的定义：文字的析取。\n- 子句宽度的定义：子句中的文字数量。\n- 归结规则：从子句 $(A \\lor x)$ 和 $(B \\lor \\lnot x)$，可以推导出归结式 $(A \\lor B)$。\n- 任务是构造一个归结反驳（推导出空子句），并确定在整个推导过程中（初始子句和派生子句）出现的最大子句宽度。\n- 最终答案必须是一个整数。\n\n**步骤2：使用提取的已知条件进行验证**\n- **有科学依据：** 该问题是命题逻辑中的一个标准练习，特别是在使用归结原理的自动定理证明领域。所有概念（CNF、子句、文字、归结）在数理逻辑中都是标准的且定义明确的。\n- **适定性：** 该问题提供了一个特定的不可满足的CNF公式，并要求一个归结反驳的具体属性（最大子句宽度）。对于任何不可满足的子句集，都保证存在归结反驳。该问题要求在单个构造的推导中的最大宽度，而不是所有可能推导中的最小可能最大宽度，这使得任务是明确的。为了确认存在反驳，我们检查其可满足性：\n    1. 子句 $(\\lnot r)$ 意味着要使整个公式为真，$r$ 必须为假。\n    2. 将 $r = \\text{false}$ 代入 $(\\lnot p \\lor r)$ 得到 $(\\lnot p \\lor \\text{false})$，简化为 $(\\lnot p)$。因此，$p$ 必须为假。\n    3. 将 $r = \\text{false}$ 代入 $(\\lnot q \\lor r)$ 得到 $(\\lnot q \\lor \\text{false})$，简化为 $(\\lnot q)$。因此，$q$ 必须为假。\n    4. 我们现在有了赋值 $p=\\text{false}$，$q=\\text{false}$，$r=\\text{false}$。在第一个子句 $(p \\lor q)$ 上测试这个赋值，得到 $(\\text{false} \\lor \\text{false})$，其结果为假。\n    5. 由于这个由三个子句强制得出的赋值使得第一个子句为假，所以不存在满足赋值。该公式是不可满足的。因此，可以构造一个归结反驳。\n- **客观性：** 该问题以精确、正式的语言陈述，没有歧义或主观性。\n\n**步骤3：结论与行动**\n问题有效。将构造一个解决方案。\n\n**解题过程**\n给定的CNF公式对应于以下初始子句集。我们列出每个子句及其宽度，宽度定义为它包含的文字数量。\n- $C_1: (p \\lor q)$，宽度 $w(C_1) = 2$\n- $C_2: (\\lnot p \\lor r)$，宽度 $w(C_2) = 2$\n- $C_3: (\\lnot q \\lor r)$，宽度 $w(C_3) = 2$\n- $C_4: (\\lnot r)$，宽度 $w(C_4) = 1$\n\n初始子句中的最大宽度为 $2$。我们现在开始构造一个归结反驳，这是一个应用归结规则的序列，最终推导出空子句，记为 $\\Box$。我们必须跟踪每个生成的子句的宽度。\n\n一个常见且高效的归结策略是优先处理涉及单子句（宽度为 $1$ 的子句）的归结。我们的初始集合包含一个这样的子句，$C_4$。\n\n**步骤1：** 对 $C_2$ 和 $C_4$ 进行归结。\n我们取子句 $C_2 = (\\lnot p \\lor r)$ 和子句 $C_4 = (\\lnot r)$。我们对变量 $r$ 进行归结。在规则 $(A \\lor x)$ 和 $(B \\lor \\lnot x) \\vdash (A \\lor B)$ 中，我们有 $x = r$，$A = (\\lnot p)$，而 $B$ 是空析取。归结式是 $(A \\lor B) = (\\lnot p)$。\n- $C_5 = (\\lnot p)$。\n- 这个新子句的宽度是 $w(C_5) = 1$。\n\n**步骤2：** 对 $C_3$ 和 $C_4$ 进行归结。\n我们取子句 $C_3 = (\\lnot q \\lor r)$ 和子句 $C_4 = (\\lnot r)$。我们对变量 $r$ 进行归结。这里，$x=r$，$A=(\\lnot q)$，而 $B$ 是空的。归结式是 $(\\lnot q)$。\n- $C_6 = (\\lnot q)$。\n- 宽度是 $w(C_6) = 1$。\n\n我们的子句集现在实际上包括 $C_1, C_2, C_3, C_4, C_5, C_6$。我们有更多的单子句可以使用。\n\n**步骤3：** 对 $C_1$ 和 $C_5$ 进行归结。\n我们取子句 $C_1 = (p \\lor q)$ 和我们派生的子句 $C_5 = (\\lnot p)$。我们对变量 $p$ 进行归结。这里，$x=p$，$A=(q)$，而 $B$ 是空的。归结式是 $(q)$。\n- $C_7 = (q)$。\n- 宽度是 $w(C_7) = 1$。\n\n**步骤4：** 对 $C_7$ 和 $C_6$ 进行归结。\n我们取我们派生的子句 $C_7 = (q)$ 和 $C_6 = (\\lnot q)$。我们对变量 $q$ 进行归结。这里，$x=q$，并且 $A$ 和 $B$ 都是空析取。归结式是空子句。\n- $C_8 = \\Box$。\n- 空子句的宽度是 $w(C_8) = 0$。\n\n空子句的推导完成了反驳。在整个推导过程中出现的所有子句的集合包括初始子句和所有归结式：\n- 初始子句：$C_1, C_2, C_3, C_4$。它们的宽度是 $\\{2, 2, 2, 1\\}$。\n- 派生的归结式：$C_5, C_6, C_7, C_8$。它们的宽度是 $\\{1, 1, 1, 0\\}$。\n\n在推导中出现的所有子句宽度的集合是 $\\{2, 1, 0\\}$。这个集合中的最大值是 $2$。\n因此，在整个推导过程中出现的最大子句宽度是 $2$。", "answer": "$$\\boxed{2}$$", "id": "2971844"}]}