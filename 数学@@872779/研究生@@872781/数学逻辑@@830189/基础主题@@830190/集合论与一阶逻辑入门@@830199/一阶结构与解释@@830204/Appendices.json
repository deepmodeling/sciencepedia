{"hands_on_practices": [{"introduction": "在掌握带有量词的复杂公式之前，我们必须对一阶逻辑真理定义的基石——原子公式的解释——有牢固的理解。此练习将带你进入一个具体而有限的数学世界，让你亲手实践如何将抽象的符号（如常数、函数和谓词）映射到它们的具体解释（如元素、运算和集合）。通过直接检查来确定原子公式的真值，你将为理解一阶语言如何描述数学结构建立起坚实的直觉。", "problem": "考虑一个有限一阶标识和一个在其上解释的具体有限结构。设标识为 $\\mathcal{L} = \\{c, d, f^{1}, g^{2}, P^{1}, R^{2}, =\\}$，包含两个常数符号 $c$ 和 $d$，一个一元函数符号 $f$，一个二元函数符号 $g$，一个一元谓词符号 $P$，一个二元谓词符号 $R$，以及等词。设 $\\mathcal{L}$-结构 $\\mathcal{A}$ 的论域为 $A = \\{0,1,2,3\\}$，并如下解释非逻辑符号：\n- $c^{\\mathcal{A}} = 1$ 且 $d^{\\mathcal{A}} = 3$。\n- 对 $x \\in A$，$f^{\\mathcal{A}}(x) = 2x \\bmod 4$。\n- 对 $(x,y) \\in A^{2}$，$g^{\\mathcal{A}}(x,y) = x + y \\bmod 4$。\n- $P^{\\mathcal{A}} = \\{0,2\\}$。\n- $R^{\\mathcal{A}} = \\{(x,y) \\in A^{2} \\mid x \\equiv 2y \\pmod{4}\\}$。\n\n使用变量集 $V = \\{x,y\\}$。对于下方的每个原子公式，通过显式地枚举其自由变量的所有相关元数的赋值，来评估其在每个赋值下的真值。原子公式列表如下：\n- $P(x)$,\n- $P(y)$,\n- $P(f(x))$,\n- $P\\big(g(x,y)\\big)$,\n- $R(x,y)$,\n- $R\\big(f(x),y\\big)$,\n- $R\\big(x,g(x,y)\\big)$,\n- $x = y$,\n- $f(x) = y$,\n- $g(x,y) = d$,\n- $g\\big(f(x),y\\big) = c$,\n- $P(c)$.\n\n对于每个原子公式，计算在$\\mathcal{A}$中使其为真的自由变量赋值的数量。对于具有两个自由变量的公式，枚举$A^2$中的所有$4 \\times 4$个赋值；对于具有一个自由变量的公式，枚举$A$中的所有$4$个赋值；对于没有自由变量的基公式$P(c)$，视其在空赋值下的评估为真或假。令$N$表示上述所有原子公式的满足赋值的总数。计算$N$作为一个精确整数。将你的最终答案表示为一个不带单位的整数。", "solution": "问题陈述已经过验证，被认为是一阶逻辑中一个适定且自洽的练习。它没有科学、逻辑或事实上的缺陷。标识$\\mathcal{L}$和$\\mathcal{L}$-结构$\\mathcal{A}$的所有必要组成部分都已明确定义。任务是评估一系列原子公式在所有可能赋值下的真值，这是模型论中的一个标准程序。我们将继续进行解答。\n\n问题指定了一阶标识 $\\mathcal{L} = \\{c, d, f^{1}, g^{2}, P^{1}, R^{2}, =\\}$ 和一个 $\\mathcal{L}$-结构 $\\mathcal{A}$，其论域为 $A = \\{0, 1, 2, 3\\}$。解释如下：\n- $c^{\\mathcal{A}} = 1$\n- $d^{\\mathcal{A}} = 3$\n- $f^{\\mathcal{A}}(x) = 2x \\bmod 4$\n- $g^{\\mathcal{A}}(x,y) = x + y \\bmod 4$\n- $P^{\\mathcal{A}} = \\{0, 2\\}$\n- $R^{\\mathcal{A}} = \\{(x,y) \\in A^{2} \\mid x \\equiv 2y \\pmod{4}\\}$\n\n为了便于评估，我们首先计算函数和谓词在论域$A$上的显式解释。\n\n一元函数 $f^{\\mathcal{A}}(x)$:\n- $f^{\\mathcal{A}}(0) = 2(0) \\bmod 4 = 0$\n- $f^{\\mathcal{A}}(1) = 2(1) \\bmod 4 = 2$\n- $f^{\\mathcal{A}}(2) = 2(2) \\bmod 4 = 4 \\bmod 4 = 0$\n- $f^{\\mathcal{A}}(3) = 2(3) \\bmod 4 = 6 \\bmod 4 = 2$\n\n二元函数 $g^{\\mathcal{A}}(x,y)$ 是模4加法：\n- 这可以用下表表示，其中行对应于$y$，列对应于$x$：\n$$\n\\begin{array}{c|cccc}\ng^{\\mathcal{A}}(x,y)  x=0  x=1  x=2  x=3 \\\\\n\\hline\ny=0  0  1  2  3 \\\\\ny=1  1  2  3  0 \\\\\ny=2  2  3  0  1 \\\\\ny=3  3  0  1  2\n\\end{array}\n$$\n\n一元谓词 $P^{\\mathcal{A}}$ 被给定为集合 $\\{0, 2\\}$。一个元素 $a \\in A$ 满足 $P$ 当且仅当 $a \\in \\{0, 2\\}$。\n\n二元谓词 $R^{\\mathcal{A}}$ 是集合 $A^2$ 中满足 $x \\equiv 2y \\pmod{4}$ 的偶对 $(x,y)$。我们找出这些偶对：\n- 若 $y=0$，$2y=0$。条件是 $x \\equiv 0 \\pmod{4}$，所以 $x=0$。偶对：$(0,0)$。\n- 若 $y=1$，$2y=2$。条件是 $x \\equiv 2 \\pmod{4}$，所以 $x=2$。偶对：$(2,1)$。\n- 若 $y=2$，$2y=4 \\equiv 0$。条件是 $x \\equiv 0 \\pmod{4}$，所以 $x=0$。偶对：$(0,2)$。\n- 若 $y=3$，$2y=6 \\equiv 2$。条件是 $x \\equiv 2 \\pmod{4}$，所以 $x=2$。偶对：$(2,3)$。\n因此，$R^{\\mathcal{A}} = \\{(0,0), (2,1), (0,2), (2,3)\\}$。\n\n我们现在评估每个原子公式，并计算满足赋值的数量。令 $N_i$ 为第 $i$ 个公式的计数。\n\n1.  $P(x)$: 自由变量是 $x$。我们需要找到 $x \\in A$ 的数量，使得 $x \\in P^{\\mathcal{A}}$。由于 $P^{\\mathcal{A}} = \\{0, 2\\}$，满足的赋值是 $x=0$ 和 $x=2$。因此，$N_1=2$。\n\n2.  $P(y)$: 自由变量是 $y$。与前一个情况类似，满足的赋值是 $y=0$ 和 $y=2$。因此，$N_2=2$。\n\n3.  $P(f(x))$: 自由变量是 $x$。我们需要找到 $x \\in A$ 使得 $f^{\\mathcal{A}}(x) \\in P^{\\mathcal{A}}$。\n    - 对于 $x=0$，$f^{\\mathcal{A}}(0) = 0 \\in P^{\\mathcal{A}}$。真。\n    - 对于 $x=1$，$f^{\\mathcal{A}}(1) = 2 \\in P^{\\mathcal{A}}$。真。\n    - 对于 $x=2$，$f^{\\mathcal{A}}(2) = 0 \\in P^{\\mathcal{A}}$。真。\n    - 对于 $x=3$，$f^{\\mathcal{A}}(3) = 2 \\in P^{\\mathcal{A}}$。真。\n    所有4个对$x$的赋值都使该公式为真。因此，$N_3=4$。\n\n4.  $P(g(x,y))$: 自由变量是 $x,y$。我们需要找到 $A^2$ 中偶对 $(x,y)$ 的数量，使得 $g^{\\mathcal{A}}(x,y) \\in P^{\\mathcal{A}}$，即 $g^{\\mathcal{A}}(x,y)$ 为 $0$ 或 $2$。查阅 $g^{\\mathcal{A}}(x,y)$ 的表格，我们找到8个这样的偶对：$(0,0), (2,0), (1,1), (3,1), (0,2), (2,2), (1,3), (3,3)$。因此，$N_4=8$。\n\n5.  $R(x,y)$: 自由变量是 $x,y$。我们需要找到在集合 $R^{\\mathcal{A}}$ 中的偶对 $(x,y) \\in A^2$ 的数量。我们已经确定了 $R^{\\mathcal{A}} = \\{(0,0), (2,1), (0,2), (2,3)\\}$。共有4个这样的偶对。因此，$N_5=4$。\n\n6.  $R(f(x),y)$: 自由变量是 $x,y$。我们需要偶对 $(x,y)$ 使得 $(f^{\\mathcal{A}}(x), y) \\in R^{\\mathcal{A}}$。\n    - 若 $x=0$ 或 $x=2$，$f^{\\mathcal{A}}(x)=0$。我们需要 $(0,y) \\in R^{\\mathcal{A}}$，这对 $y=0$ 和 $y=2$ 成立。这给出了4个满足的赋值：$(0,0), (0,2), (2,0), (2,2)$。\n    - 若 $x=1$ 或 $x=3$，$f^{\\mathcal{A}}(x)=2$。我们需要 $(2,y) \\in R^{\\mathcal{A}}$，这对 $y=1$ 和 $y=3$ 成立。这给出了4个满足的赋值：$(1,1), (1,3), (3,1), (3,3)$。\n    总共有 $4+4=8$ 个满足的赋值。因此，$N_6=8$。\n\n7.  $R(x,g(x,y))$: 自由变量是 $x,y$。条件是 $(x, g^{\\mathcal{A}}(x,y)) \\in R^{\\mathcal{A}}$。这意味着 $x \\equiv 2 \\cdot g^{\\mathcal{A}}(x,y) \\pmod{4}$。代入 $g^{\\mathcal{A}}(x,y) = (x+y) \\pmod 4$，条件变为 $x \\equiv 2(x+y) \\pmod{4}$，化简为 $x \\equiv 2x+2y \\pmod{4}$，然后是 $0 \\equiv x+2y \\pmod 4$，最后是 $x \\equiv -2y \\equiv 2y \\pmod{4}$。这恰好是 $R(x,y)$ 为真的条件。因此，满足赋值的集合与 $R(x,y)$ 的相同。因此，$N_7=4$。\n\n8.  $x = y$: 自由变量是 $x,y$。我们需要 $A^2$ 中分量相等的偶对 $(x,y)$。这些是 $(0,0), (1,1), (2,2), (3,3)$。共有4个这样的赋值。因此，$N_8=4$。\n\n9.  $f(x) = y$: 自由变量是 $x,y$。我们使用我们计算出的 $f^{\\mathcal{A}}$ 的值，列出满足此方程的偶对 $(x,y)$：\n    - $f^{\\mathcal{A}}(0)=0 \\implies (x,y)=(0,0)$\n    - $f^{\\mathcal{A}}(1)=2 \\implies (x,y)=(1,2)$\n    - $f^{\\mathcal{A}}(2)=0 \\implies (x,y)=(2,0)$\n    - $f^{\\mathcal{A}}(3)=2 \\implies (x,y)=(3,2)$\n    共有4个满足的赋值。因此，$N_9=4$。\n\n10. $g(x,y) = d$: 自由变量是 $x,y$。我们有 $d^{\\mathcal{A}}=3$。条件是 $g^{\\mathcal{A}}(x,y)=3$，或 $(x+y) \\pmod 4 = 3$。我们检查 $g^{\\mathcal{A}}(x,y)$ 的表格，找到值为3的偶对：$(3,0), (2,1), (1,2), (0,3)$。共有4个这样的赋值。因此，$N_{10}=4$。\n\n11. $g(f(x),y) = c$: 自由变量是 $x,y$。我们有 $c^{\\mathcal{A}}=1$。条件是 $g^{\\mathcal{A}}(f^{\\mathcal{A}}(x), y) = 1$，或 $(f^{\\mathcal{A}}(x)+y) \\pmod 4 = 1$。\n    - 对于 $x=0$ 或 $x=2$，$f^{\\mathcal{A}}(x)=0$。我们需要 $(0+y) \\pmod 4 = 1 \\implies y=1$。这给出了赋值 $(0,1)$ 和 $(2,1)$。\n    - 对于 $x=1$ 或 $x=3$，$f^{\\mathcal{A}}(x)=2$。我们需要 $(2+y) \\pmod 4 = 1 \\implies y=3$。这给出了赋值 $(1,3)$ 和 $(3,3)$。\n    总共有 $2+2=4$ 个满足的赋值。因此，$N_{11}=4$。\n\n12. $P(c)$: 这是一个没有自由变量的基公式（一个句子）。它的真值在空赋值下评估。如果 $c^{\\mathcal{A}} \\in P^{\\mathcal{A}}$，则公式为真。我们有 $c^{\\mathcal{A}}=1$ 和 $P^{\\mathcal{A}}=\\{0,2\\}$。因为 $1 \\notin \\{0,2\\}$，所以该公式为假。满足赋值的数量是0。因此，$N_{12}=0$。\n\n最后，我们通过对各个计数求和来计算满足赋值的总数 $N$：\n$N = N_1 + N_2 + N_3 + N_4 + N_5 + N_6 + N_7 + N_8 + N_9 + N_{10} + N_{11} + N_{12}$\n$N = 2 + 2 + 4 + 8 + 4 + 8 + 4 + 4 + 4 + 4 + 4 + 0$\n$N = 48$", "answer": "$$\\boxed{48}$$", "id": "2973056"}, {"introduction": "掌握了原子公式的求值后，我们自然地进入到更复杂的领域：处理包含量词的公式。理解这类公式的真值需要一种系统性的递归方法，即由外而内地逐层解析公式的结构。这项练习 [@problem_id:2973052] 正是为了磨练这一核心技能，它要求你处理一个含有嵌套量词（$\\forall$ 和 $\\exists$）的复杂公式，从而让你深入实践Tarski真理定义的递归过程。", "problem": "令 $\\mathcal{L}$ 为一个一阶语言，其包含一个一元函数符号 $s$，一个二元关系符号 $E$，以及一个一元关系符号 $Q$。考虑一个有限 $\\mathcal{L}$-结构 $\\mathcal{M}$，其论域为 $M=\\mathbb{Z}/8\\mathbb{Z}=\\{0,1,2,3,4,5,6,7\\}$，其中所有算术运算都在模8下进行，释义如下：\n- $s^{\\mathcal{M}}(x)=x+1$，\n- $E^{\\mathcal{M}}(x,y)$ 成立当且仅当 $y\\equiv x+1$ 或 $y\\equiv x+3$，\n- $Q^{\\mathcal{M}}(x)$ 成立当且仅当 $x$ 是偶数，即 $x\\in\\{0,2,4,6\\}$。\n\n在此结构中，考虑带有自由变元 $u$ 和 $v$ 的 $\\mathcal{L}$-公式：\n$$\n\\varphi(u,v)\\;:=\\;\\Big(\\forall y\\big(E(u,y)\\rightarrow \\exists z\\big(E(z,y)\\wedge Q(z)\\wedge s(s(z))=v\\big)\\big)\\Big)\\;\\wedge\\;\\Big(\\exists w\\big(E(w,u)\\wedge \\neg Q(w)\\big)\\Big)\\;\\wedge\\;(u\\neq v).\n$$\n计算满足集\n$$\nS\\;=\\;\\{(a,b)\\in M^{2}\\;:\\;\\mathcal{M}\\models \\varphi(a,b)\\}.\n$$\n的基数。\n你的最终答案必须是给出 $|S|$ 的单个整数。无需四舍五入。", "solution": "该问题定义明确、自洽且数学上可靠。这是一阶逻辑中关于有限结构中公式满足性的一个标准问题。我们可以开始求解。\n\n目标是计算满足集 $S = \\{(a,b) \\in M^{2} : \\mathcal{M} \\models \\varphi(a,b)\\}$ 的基数，其中论域为 $M = \\mathbb{Z}/8\\mathbb{Z} = \\{0, 1, 2, 3, 4, 5, 6, 7\\}$。公式 $\\varphi(u,v)$ 是三个子公式的合取：\n$$\n\\varphi_1(u,v) := \\forall y\\big(E(u,y)\\rightarrow \\exists z\\big(E(z,y)\\wedge Q(z)\\wedge s(s(z))=v\\big)\\big)\n$$\n$$\n\\varphi_2(u) := \\exists w\\big(E(w,u)\\wedge \\neg Q(w)\\big)\n$$\n$$\n\\varphi_3(u,v) := u \\neq v\n$$\n一对元素 $(a,b) \\in M^2$ 属于集合 $S$ 当且仅当 $\\mathcal{M} \\models \\varphi_1(a,b)$，$\\mathcal{M} \\models \\varphi_2(a)$ 和 $\\mathcal{M} \\models \\varphi_3(a,b)$ 同时成立。我们将分别分析每个条件，以确定对 $a$ 和 $b$ 的约束。\n\n**对 $\\varphi_2(u)$ 的分析**\n\n一个元素 $a \\in M$ 满足 $\\varphi_2(a)$，如果存在一个元素 $w \\in M$ 使得 $E(w,a)$ 和 $\\neg Q(w)$ 都为真。\n条件 $\\neg Q(w)$ 成立当且仅当 $w$ 不是偶数，这意味着 $w$ 必须是奇数。$M$ 中的奇数集合是 $\\{1, 3, 5, 7\\}$。\n条件 $E(w,a)$ 成立当且仅当 $a \\equiv w+1 \\pmod{8}$ 或 $a \\equiv w+3 \\pmod{8}$。\n我们需要找到所有 $a \\in M$，使得存在一个 $w \\in \\{1, 3, 5, 7\\}$ 满足其中一个等价关系。让我们测试 $w$ 的每个可能值：\n- 如果 $w=1$，则 $a \\equiv 1+1 = 2$ 或 $a \\equiv 1+3 = 4$。\n- 如果 $w=3$，则 $a \\equiv 3+1 = 4$ 或 $a \\equiv 3+3 = 6$。\n- 如果 $w=5$，则 $a \\equiv 5+1 = 6$ 或 $a \\equiv 5+3 = 8 \\equiv 0$。\n- 如果 $w=7$，则 $a \\equiv 7+1 = 8 \\equiv 0$ 或 $a \\equiv 7+3 = 10 \\equiv 2$。\n$a$ 的所有可能值的集合是这些结果集的并集： $\\{2, 4\\} \\cup \\{4, 6\\} \\cup \\{6, 0\\} \\cup \\{0, 2\\} = \\{0, 2, 4, 6\\}$。\n因此，$\\mathcal{M} \\models \\varphi_2(a)$ 当且仅当 $a \\in \\{0, 2, 4, 6\\}$。这恰好是使 $Q(a)$ 成立的元素集合。\n\n**对 $\\varphi_1(u,v)$ 的分析**\n\n让我们分析子公式 $\\psi(y,v) := \\exists z\\big(E(z,y)\\wedge Q(z)\\wedge s(s(z))=v\\big)$。\n- 条件 $Q(z)$ 将 $z$ 限制在偶数集合中：$z \\in \\{0, 2, 4, 6\\}$。\n- 函数符号 $s$ 的释义是 $s^{\\mathcal{M}}(x) = x+1$。因此，$s(s(z)) = s(z+1) = (z+1)+1 = z+2 \\pmod{8}$。条件 $s(s(z))=v$ 等价于 $v=z+2$。\n- 由于 $z$ 必须在 $\\{0, 2, 4, 6\\}$ 中，$v$ 必须在集合 $\\{0+2, 2+2, 4+2, 6+2\\} = \\{2, 4, 6, 0\\}$ 中。如果 $v \\notin \\{0, 2, 4, 6\\}$，对于任何满足 $Q(z)$ 的 $z$，条件 $v=z+2$ 都无法满足，因此对于所有的 $y$，$\\psi(y,v)$ 为假。\n- 如果 $v \\in \\{0, 2, 4, 6\\}$，则 $z$ 被唯一确定为 $z = v-2 \\pmod{8}$。由于 $v$ 是偶数，$z$ 也是偶数，因此 $Q(z)$ 得到满足。\n- 当 $z=v-2$ 时，公式 $\\psi(y,v)$ 等价于 $E(v-2, y)$。\n- $E(v-2, y)$ 成立当且仅当 $y \\equiv (v-2)+1$ 或 $y \\equiv (v-2)+3$，这可以简化为 $y \\equiv v-1$ 或 $y \\equiv v+1$。\n\n所以，对于给定的 $v \\in \\{0, 2, 4, 6\\}$，$\\psi(y,v)$ 为真当且仅当 $y \\in \\{v-1, v+1\\}$。让我们用 $Y_v = \\{v-1, v+1\\}$ 表示这个集合。如果 $v \\notin \\{0, 2, 4, 6\\}$，则 $Y_v = \\emptyset$。\n\n公式 $\\varphi_1(a,b)$ 表明 $\\forall y (E(a,y) \\rightarrow \\psi(y,b))$。\n前件 $E(a,y)$ 对 $y \\in \\{a+1, a+3\\}$ 为真。令这个集合为 $E_a = \\{a+1, a+3\\}$。\n该蕴含关系必须对所有 $y \\in M$ 成立。这意味着对于任何使 $E(a,y)$ 为真的 $y$，$\\psi(y,b)$ 也必须为真。换句话说，集合 $E_a$ 必须是集合 $Y_b$ 的子集。\n$$ \\{a+1, a+3\\} \\subseteq Y_b $$\n因为 $a \\in M$，$a+1 \\not\\equiv a+3 \\pmod 8$，所以 $|E_a| = 2$。要使 $E_a$ 成为 $Y_b$ 的子集，$Y_b$ 不能为空。这强制要求条件 $b \\in \\{0, 2, 4, 6\\}$，这意味着 $|Y_b|=|\\{b-1, b+1\\}|=2$ (因为 $b-1 \\not\\equiv b+1 \\pmod 8$)。\n一个2元集要成为另一个2元集的子集，它们必须相等：\n$$ \\{a+1, a+3\\} = \\{b-1, b+1\\} $$\n这个集合相等关系可以通过两种方式满足 (所有运算都在模8下进行)：\n1. $a+1 = b-1$ 且 $a+3 = b+1$。两个方程都意味着 $b=a+2$。这是一个相容的解。\n2. $a+1 = b+1$ 且 $a+3 = b-1$。第一个方程意味着 $a=b$。第二个方程意味着 $b=a+4$。这将意味着 $a=a+4$，即 $0=4$，这是一个矛盾。所以这种情况是不可能的。\n\n因此，$\\varphi_1(a,b)$ 成立当且仅当 $b=a+2 \\pmod 8$，这也要求 $a$ 和 $b$ 都是偶数 (正如从 $\\varphi_2$ 的约束和对 $\\psi$ 的分析中所确立的)。如果 $a$ 是偶数，那么 $b=a+2$ 也是偶数，所以这些条件是相容的。\n\n**对 $\\varphi_3(u,v)$ 的分析**\n\n这个条件就是 $a \\neq b$。如果 $b=a+2 \\pmod 8$，那么 $a=b$ 将意味着 $a=a+2$，即 $2=0 \\pmod 8$，这是错误的。因此，只要 $b=a+2$，条件 $a \\neq b$ 就会自动满足。\n\n**综合所有条件**\n\n我们要寻找满足所有三个条件的数对 $(a,b)$：\n1. 从 $\\varphi_2(a)$ 得出：$a \\in \\{0, 2, 4, 6\\}$。\n2. 从 $\\varphi_1(a,b)$ 得出：$b = a+2 \\pmod 8$。这意味着 $b \\in \\{2, 4, 6, 0\\}$。\n3. 从 $\\varphi_3(a,b)$ 得出：$a \\neq b$。鉴于第二个条件，这个条件是多余的。\n\n我们现在可以通过遍历 $a$ 的允许值来列出满足集 $S$ 中的所有数对 $(a,b)$：\n- 如果 $a=0$，那么 $b=0+2=2$。该数对为 $(0,2)$。\n- 如果 $a=2$，那么 $b=2+2=4$。该数对为 $(2,4)$。\n- 如果 $a=4$，那么 $b=4+2=6$。该数对为 $(4,6)$。\n- 如果 $a=6$，那么 $b=6+2=8 \\equiv 0$。该数对为 $(6,0)$。\n\n满足集为 $S = \\{(0,2), (2,4), (4,6), (6,0)\\}$。\n这个集合的基数 $|S|$ 是我们找到的数对的数量。共有4个这样的数对。", "answer": "$$\\boxed{4}$$", "id": "2973052"}, {"introduction": "前面的练习聚焦于在单个给定结构内解释公式。现在，我们将视角提升至比较不同结构之间的关系，并探讨一个核心问题：一个结构在多大程度上“像”它的一个子结构？这个经典练习 [@problem_id:2973055] 通过我们熟悉有理数（$\\mathcal{Q}$）和实数（$\\mathcal{R}$），具体阐释了子结构与初等子结构之间的关键区别。它不仅揭示了一阶逻辑的表达局限性，也为我们提供了一个应用Tarski-Vaught判据的绝佳实践。", "problem": "设 $\\mathcal{L}$ 为有序环的语言 $\\{0,1,+,\\cdot,-,\\}$. 考虑 $\\mathcal{L}$-结构 $\\mathcal{R}=\\langle \\mathbb{R};0,1,+,\\cdot,-,\\rangle$ 和 $\\mathcal{Q}=\\langle \\mathbb{Q};0,1,+,\\cdot,-,\\rangle$，它们具有通常的解释。仅从一阶结构、子结构、初等子结构和 Tarski–Vaught 判据的核心定义出发，完成以下任务：\n\n1. 证明 $\\mathcal{Q}$ 是 $\\mathcal{R}$ 的一个子结构。\n\n2. 构造一个在 $\\mathcal{R}$ 中为真但在 $\\mathcal{Q}$ 中为假的无参数 $\\mathcal{L}$-句子 $\\varphi$，并解释为什么这个 $\\varphi$ 证明了对于包含关系 $\\mathcal{Q}\\subseteq \\mathcal{R}$，Tarski–Vaught 判据不成立，从而表明 $\\mathcal{Q}$ 不是 $\\mathcal{R}$ 的初等子结构。\n\n3. 对于 $\\mathcal{L}$ 中没有自由变量和参数的句子，以标准方式定义量词秩 $qr(\\cdot)$：原子公式的量词秩为 $0$，布尔联结词不增加量词秩，每个量词使量词秩增加 $1$。在所有满足 $\\mathcal{R}\\models \\psi$ 和 $\\mathcal{Q}\\not\\models \\psi$ 的无参数 $\\mathcal{L}$-句子 $\\psi$ 中，确定 $qr(\\psi)$ 的最小可能值。你的最终答案必须是一个精确的数字。", "solution": "这个问题将分三部分解决，在此之前会对问题陈述进行严格验证。一阶结构、子结构、初等子结构和 Tarski–Vaught 判据的核心定义被假定为推理过程的基础。\n\n**问题验证**\n\n**步骤1：提取已知条件**\n- 语言: $\\mathcal{L} = \\{0,1,+,\\cdot,-,\\}$。\n- $\\mathcal{L}$-结构 $\\mathcal{R}$：论域为 $\\mathbb{R}$，$\\mathcal{L}$ 中的符号具有通常的解释。具体地，$\\mathcal{R}=\\langle \\mathbb{R};0^{\\mathcal{R}},1^{\\mathcal{R}},+^{\\mathcal{R}},\\cdot^{\\mathcal{R}},-^{\\mathcal{R}},^{\\mathcal{R}}\\rangle$。\n- $\\mathcal{L}$-结构 $\\mathcal{Q}$：论域为 $\\mathbb{Q}$，$\\mathcal{L}$ 中的符号具有通常的解释。具体地，$\\mathcal{Q}=\\langle \\mathbb{Q};0^{\\mathcal{Q}},1^{\\mathcal{Q}},+^{\\mathcal{Q}},\\cdot^{\\mathcal{Q}},-^{\\mathcal{Q}},^{\\mathcal{Q}}\\rangle$。\n- 任务1：证明 $\\mathcal{Q}$ 是 $\\mathcal{R}$ 的一个子结构。\n- 任务2：构造一个无参数的 $\\mathcal{L}$-句子 $\\varphi$，使得 $\\mathcal{R}\\models \\varphi$ 且 $\\mathcal{Q}\\not\\models \\varphi$。解释这个句子如何证明了 Tarski–Vaught 判据对于包含关系 $\\mathcal{Q}\\subseteq \\mathcal{R}$ 不成立，从而表明 $\\mathcal{Q}$ 不是 $\\mathcal{R}$ 的初等子结构。\n- 任务3：对于 $\\mathcal{L}$ 中的无参数句子 $\\psi$，定义量词秩 $qr(\\psi)$ 如下：$qr(\\text{原子}) = 0$，$qr$ 在布尔联结词下保持不变，且 $qr(\\exists x \\alpha) = qr(\\forall x \\alpha) = qr(\\alpha) + 1$。确定所有满足 $\\mathcal{R}\\models \\psi$ 且 $\\mathcal{Q}\\not\\models \\psi$ 的 $\\psi$ 的 $qr(\\psi)$ 的最小可能值。\n\n**步骤2：使用提取的已知条件进行验证**\n该问题是数理逻辑的一个分支——模型论中的一个标准练习。\n- **科学基础：** 该问题基于一阶逻辑中公认的定义和概念。结构 $\\mathcal{R}$ 和 $\\mathcal{Q}$ 是标准有序域，即实数域和有理数域，它们是数学中的基本对象。\n- **良定性：** 问题陈述清晰，每个部分都要求明确的证明、构造或值。根据所提供的定义，每个部分都存在唯一的答案。\n- **客观性：** 语言是形式化的且无歧义。“子结构”、“初等子结构”、“Tarski–Vaught 判据”和“量词秩”等术语在数理逻辑中具有精确、普遍接受的定义。\n- 该问题是自洽的、一致的，并且在其领域内构成了一个非平凡但可解的F级挑战。未检测到任何缺陷。\n\n**步骤3：结论与行动**\n问题是有效的。将提供完整的解答。\n\n**解答**\n\n设 $\\mathcal{L} = \\{0, 1, +, \\cdot, -, \\}$ 为有序环的语言，其中 $0$ 和 $1$ 是常量符号，$+$ 和 $\\cdot$ 是二元函数符号，$-$ 是一元函数符号（取负），$$ 是二元关系符号。结构为 $\\mathcal{R}=\\langle \\mathbb{R};0,1,+,\\cdot,-,\\rangle$ 和 $\\mathcal{Q}=\\langle \\mathbb{Q};0,1,+,\\cdot,-,\\rangle$，它们具有标准的解释。\n\n**1. 证明 $\\mathcal{Q}$ 是 $\\mathcal{R}$ 的一个子结构。**\n\n要使 $\\mathcal{Q}$ 成为 $\\mathcal{R}$ 的子结构（记作 $\\mathcal{Q} \\subseteq \\mathcal{R}$），必须满足四个条件：\ni. $\\mathcal{Q}$ 的论域必须是 $\\mathcal{R}$ 论域的子集。\n$\\mathcal{Q}$ 的论域是有理数集 $\\mathbb{Q}$。$\\mathcal{R}$ 的论域是实数集 $\\mathbb{R}$。$\\mathbb{Q} \\subseteq \\mathbb{R}$ 是一个基本的数学事实。此条件成立。\n\nii. 对于每个常量符号 $c \\in \\mathcal{L}$，其在 $\\mathcal{Q}$ 中的解释必须与在 $\\mathcal{R}$ 中的解释相同，即 $c^{\\mathcal{Q}} = c^{\\mathcal{R}}$。\n常量符号是 $0$ 和 $1$。它们在两个结构中的解释都是实数 $0$ 和 $1$。由于 $0 \\in \\mathbb{Q}$ 且 $1 \\in \\mathbb{Q}$，我们有 $0^{\\mathcal{Q}} = 0 = 0^{\\mathcal{R}}$ 和 $1^{\\mathcal{Q}} = 1 = 1^{\\mathcal{R}}$。此条件成立。\n\niii. 对于每个 $n$-元函数符号 $f \\in \\mathcal{L}$ 和所有元素 $a_1, \\dots, a_n \\in \\mathbb{Q}$， $f$ 在 $\\mathcal{Q}$ 中的解释必须是 $f$ 在 $\\mathcal{R}$ 中的解释在 $\\mathbb{Q}^n$ 上的限制。即，$f^{\\mathcal{Q}}(a_1, \\dots, a_n) = f^{\\mathcal{R}}(a_1, \\dots, a_n)$。\n函数符号是 $+, \\cdot, -$。\n- 对于加法 ($+$)：对于任意 $a, b \\in \\mathbb{Q}$，它们的和 $a+b$ 也在 $\\mathbb{Q}$ 中。$\\mathbb{Q}$ 上的加法运算与 $\\mathbb{R}$ 上限制在 $\\mathbb{Q}$ 元素上的加法运算相同。所以，$+^{\\mathcal{Q}}(a,b) = a+b = +^{\\mathcal{R}}(a,b)$。\n- 对于乘法 ($\\cdot$)：对于任意 $a, b \\in \\mathbb{Q}$，它们的积 $a \\cdot b$ 也在 $\\mathbb{Q}$ 中。$\\mathbb{Q}$ 上的乘法运算是 $\\mathbb{R}$ 上乘法运算的限制。所以，$\\cdot^{\\mathcal{Q}}(a,b) = a \\cdot b = \\cdot^{\\mathcal{R}}(a,b)$。\n- 对于取负 ($-$)：对于任意 $a \\in \\mathbb{Q}$，其加法逆元 $-a$ 也在 $\\mathbb{Q}$ 中。$\\mathbb{Q}$ 上的一元取负运算是 $\\mathbb{R}$ 上取负运算的限制。所以，$-^{\\mathcal{Q}}(a) = -a = -^{\\mathcal{R}}(a)$。\n此条件成立，因为 $\\mathbb{Q}$ 是 $\\mathbb{R}$ 的子域，这意味着它在域运算下是封闭的，并且这些运算与在 $\\mathbb{R}$ 中的运算相同。\n\niv. 对于每个 $n$-元关系符号 $R \\in \\mathcal{L}$ 和所有元素 $a_1, \\dots, a_n \\in \\mathbb{Q}$，关系 $R^{\\mathcal{Q}}(a_1, \\dots, a_n)$ 成立当且仅当 $R^{\\mathcal{R}}(a_1, \\dots, a_n)$ 成立。\n唯一的关系符号是 $$。对于任意 $a, b \\in \\mathbb{Q}$，陈述 $a  b$ 在 $\\mathbb{Q}$ 中为真当且仅当它在 $\\mathbb{R}$ 中为真。有理数上的标准序是实数上标准序的限制。因此，$^{\\mathcal{Q}} = ^{\\mathcal{R}} \\cap (\\mathbb{Q} \\times \\mathbb{Q})$。此条件成立。\n\n由于所有四个条件都得到满足，所以 $\\mathcal{Q}$ 是 $\\mathcal{R}$ 的一个子结构。\n\n**2. 构造一个区分 $\\mathcal{R}$ 和 $\\mathcal{Q}$ 的句子 $\\varphi$，并将其与 Tarski–Vaught 判据联系起来。**\n\n$\\mathbb{R}$ 和 $\\mathbb{Q}$ 之间能用一阶逻辑表达的主要区别是某些多项式方程解的存在性。例如，数 $\\sqrt{2}$ 存在于 $\\mathbb{R}$ 中但不存在于 $\\mathbb{Q}$ 中。我们可以用一个 $\\mathcal{L}$-句子来表达 $\\sqrt{2}$ 的存在性。数字 $2$ 可以写成 $1+1$。\n\n设句子 $\\varphi$ 为：\n$$ \\varphi \\equiv \\exists x (x \\cdot x = 1+1) $$\n- 在结构 $\\mathcal{R}$ 中：句子 $\\varphi$ 陈述存在一个实数 $x$ 使得 $x^2 = 2$。这是真的，因为我们可以选择 $x = \\sqrt{2}$ 或 $x = -\\sqrt{2}$，它们都是 $\\mathbb{R}$ 的元素。因此，$\\mathcal{R} \\models \\varphi$。\n- 在结构 $\\mathcal{Q}$ 中：句子 $\\varphi$ 陈述存在一个有理数 $x$ 使得 $x^2 = 2$。这是假的。一个经典的证明表明 $\\sqrt{2}$ 是一个无理数。因此，$\\mathcal{Q} \\not\\models \\varphi$。\n\n因为我们找到了一个句子 $\\varphi$，它满足 $\\mathcal{R} \\models \\varphi$ 但 $\\mathcal{Q} \\not\\models \\varphi$，所以这两个结构不是初等等价的。$\\mathcal{Q}$ 是 $\\mathcal{R}$ 的初等子结构（记作 $\\mathcal{Q} \\preceq \\mathcal{R}$）的一个必要条件是它们初等等价。因此，$\\mathcal{Q}$ 不是 $\\mathcal{R}$ 的初等子结构。\n\n现在，我们将其与 Tarski–Vaught 判据联系起来。该判据指出，一个子结构 $\\mathcal{N} \\subseteq \\mathcal{M}$ 是一个初等子结构 ($\\mathcal{N} \\preceq \\mathcal{M}$) 当且仅当对于每个具有所示自由变量的 $\\mathcal{L}$-公式 $\\psi(y, x_1, \\dots, x_k)$，以及对于从 $\\mathcal{N}$ 的论域中选取的每一组参数 $a_1, \\dots, a_k$，如果在 $\\mathcal{M}$ 的论域中存在一个见证 $b$ 使得 $\\mathcal{M} \\models \\psi(b, a_1, \\dots, a_k)$，那么就必须在 $\\mathcal{N}$ 的论域中存在一个见证 $c$ 使得 $\\mathcal{N} \\models \\psi(c, a_1, \\dots, a_k)$（由于 $\\mathcal{N}$ 是子结构，这等价于 $\\mathcal{M} \\models \\psi(c, a_1, \\dots, a_k)$）。\n\n让我们将这个判据应用到我们的情况中。\n- 令 $\\mathcal{M} = \\mathcal{R}$ 且 $\\mathcal{N} = \\mathcal{Q}$。\n- 考虑公式 $\\psi(x) \\equiv (x \\cdot x = 1+1)$。这个公式有一个自由变量 $x$，并且没有参数。所以列表 $(a_1, \\dots, a_k)$ 是空的。\n- Tarski–Vaught 判据的前提是：是否存在一个元素 $b \\in \\mathbb{R}$ 使得 $\\mathcal{R} \\models \\psi(b)$？\n- 是的，如前所示，$b = \\sqrt{2}$ 是 $\\mathbb{R}$ 的一个元素，并且 $\\mathcal{R} \\models (\\sqrt{2} \\cdot \\sqrt{2} = 1+1)$。前提得到满足。\n- 判据所要求的结论是：必须存在一个元素 $c \\in \\mathbb{Q}$ 使得 $\\mathcal{Q} \\models \\psi(c)$，或者等价地，$\\mathcal{R} \\models \\psi(c)$。\n- 这个结论意味着必须存在一个有理数 $c$ 使得 $c^2=2$。如已证明，不存在这样的有理数。\n- 因此，对于公式 $\\psi(x) = (x \\cdot x = 1+1)$，Tarski–Vaught 判据不成立。这个失败证明了 $\\mathcal{Q}$ 不是 $\\mathcal{R}$ 的初等子结构。句子 $\\varphi = \\exists x \\psi(x)$ 正是那个在 $\\mathcal{R}$ 中为真但在 $\\mathcal{Q}$ 中为假的陈述，直接捕捉到了这个失败。\n\n**3. 确定区分性句子的最小量词秩。**\n\n设 $\\psi$ 是一个无参数的 $\\mathcal{L}$-句子，满足 $\\mathcal{R} \\models \\psi$ 且 $\\mathcal{Q} \\not\\models \\psi$。我们想找到 $qr(\\psi)$ 的最小可能值。\n\n首先，考虑第2部分中的句子 $\\varphi$：$\\varphi \\equiv \\exists x (x \\cdot x = 1+1)$。\n- 子公式 $\\chi \\equiv (x \\cdot x = 1+1)$ 是一个原子公式。原子公式是通过将两个项相等或将关系符号应用于项来形成的。这里，$x \\cdot x$ 和 $1+1$ 是有效的项，而 $=$ 是等号关系。\n- 根据定义，原子公式的量词秩为 $0$。所以，$qr(\\chi) = 0$。\n- 句子 $\\varphi$ 是通过对 $\\chi$ 应用一个存在量词形成的。\n- 根据定义，$qr(\\varphi) = qr(\\exists x \\chi) = qr(\\chi) + 1 = 0 + 1 = 1$。\n- 因为我们已经找到了一个量词秩为 $1$ 的句子来区分 $\\mathcal{R}$ 和 $\\mathcal{Q}$，所以最小秩必须小于或等于 $1$。\n\n接下来，让我们确定最小秩是否可以为 $0$。\n- 量词秩为 $0$ 的句子是无量词句子。由于它没有自由变量，它必须是原子句子的布尔组合（使用 $\\land, \\lor, \\neg$）。\n- 原子句子是没有任何变量的原子公式。它必须是 $t_1 = t_2$ 或 $t_1  t_2$ 的形式，其中 $t_1$ 和 $t_2$ 是无变量项。\n- $\\mathcal{L}$ 中的任何无变量项 $t$ 的求值结果都是一个特定的整数。我们将项 $t$ 的值表示为 $v(t) \\in \\mathbb{Z}$。\n- $t$ 在 $\\mathcal{Q}$ 中的解释，记作 $t^{\\mathcal{Q}}$，就是这个整数 $v(t)$。\n- $t$ 在 $\\mathcal{R}$ 中的解释，记作 $t^{\\mathcal{R}}$，也是同一个整数 $v(t)$。由于 $\\mathbb{Z} \\subseteq \\mathbb{Q} \\subseteq \\mathbb{R}$，这个值存在于两个论域中并且是相同的。\n- 现在考虑一个原子句子 $t_1=t_2$。\n  - $\\mathcal{Q} \\models (t_1=t_2)$ 当且仅当 $t_1^{\\mathcal{Q}} = t_2^{\\mathcal{Q}}$，这意味着 $v(t_1) = v(t_2)$。\n  - $\\mathcal{R} \\models (t_1=t_2)$ 当且仅当 $t_1^{\\mathcal{R}} = t_2^{\\mathcal{R}}$，这意味着 $v(t_1) = v(t_2)$。\n  - 因此，$\\mathcal{Q} \\models (t_1=t_2) \\iff \\mathcal{R} \\models (t_1=t_2)$。\n- 类似地，对于一个原子句子 $t_1  t_2$：\n  - $\\mathcal{Q} \\models (t_1  t_2) \\iff v(t_1)  v(t_2)$。\n  - $\\mathcal{R} \\models (t_1  t_2) \\iff v(t_1)  v(t_2)$。\n  - 因此，$\\mathcal{Q} \\models (t_1  t_2) \\iff \\mathcal{R} \\models (t_1  t_2)$。\n- 每个原子句子在 $\\mathcal{Q}$ 和 $\\mathcal{R}$ 中具有相同的真值。由于句子的布尔组合的真值由其组成部分的真值决定，因此任何无量词句子（秩为 $0$）在 $\\mathcal{Q}$ 和 $\\mathcal{R}$ 中必须具有相同的真值。\n- 因此，没有量词秩为 $0$ 的句子可以区分 $\\mathcal{R}$ 和 $\\mathcal{Q}$。\n\n最小量词秩必须大于 $0$。由于我们已经找到了一个秩为 $1$ 的区分性句子，因此量词秩的最小可能值为 $1$。", "answer": "$$\\boxed{1}$$", "id": "2973055"}]}