{"hands_on_practices": [{"introduction": "掌握 Skolem 化的最好方式是从基础开始。第一个练习将引导我们回到第一性原理，通过分析一个含有自由变量的简单公式，来理解存在量词的“见证”是如何催生 Skolem 函数的，以及为何该函数的参数是由其所依赖的变量决定的。这个练习是理解 Skolem 化核心机制的基石。[@problem_id:2982792]", "problem": "设 $\\mathcal{L}$ 为一阶逻辑（FOL）的一个单类标号，它包含一个单一的二元关系符号 $R$。考虑开 $\\mathcal{L}$-公式 $\\exists y\\,R(x,y)$，其中 $x$ 是一个自由变量。从 $\\mathcal{L}$-结构、变量赋值和满足性的基本语义定义，以及斯科伦化的一般构造原则（即用一个由新函数符号构成的项来替换一个存在量化变量，该新函数符号的参数恰好是该存在量词所依赖的全称量化变量）出发，推导出与 $\\exists y\\,R(x,y)$ 对应的斯科伦化开公式，并从第一性原理出发，解释所得到的新的函数符号在扩展后的任意 $\\mathcal{L}$-结构中是如何被解释的。你的推导应明确说明为何所引入函数的元数是这样的，以及这种解释如何与全称闭包的满足性相关联。使用标准一阶语法，将最终的斯科伦化开公式表示为扩展语言中的单个解析表达式。无需数值取整，不涉及物理单位。", "solution": "该问题有效。这是一个在数理逻辑领域内，特别是在斯科伦化主题下的一个适定且有科学依据的问题。它没有矛盾、歧义和事实错误。我们可以开始求解。\n\n设 $\\mathcal{L}$ 是指定的一阶语言，它有一个单一的二元关系符号 $R$。给定开 $\\mathcal{L}$-公式 $\\phi(x) \\equiv \\exists y\\,R(x,y)$，其中 $x$ 是一个自由变量。我们的目标是推导出该公式的斯科伦范式，并从第一性原理出发解释所引入的函数符号的解释。\n\n首先，我们建立语义基础。一个 $\\mathcal{L}$-结构，记作 $\\mathcal{M}$，是一个偶对 $(M, R^{\\mathcal{M}})$，其中 $M$ 是一个非空集合，称为论域或全集，而 $R^{\\mathcal{M}}$ 是符号 $R$ 的解释，它是 $M$ 上的一个二元关系（即 $R^{\\mathcal{M}} \\subseteq M \\times M$）。在 $\\mathcal{M}$ 中的一个变量赋值是一个函数 $s: V \\to M$，其中 $V$ 是变量集合（包括 $x$ 和 $y$）。\n\n公式 $\\phi(x)$ 在结构 $\\mathcal{M}$ 中于赋值 $s$ 下的满足性，记作 $\\mathcal{M}, s \\models \\exists y\\,R(x,y)$，其定义如下：存在一个元素 $b \\in M$，使得 $\\mathcal{M}, s[y \\mapsto b] \\models R(x,y)$。这里，$s[y \\mapsto b]$ 是将 $y$ 映射到 $b$ 并且对所有其他变量与 $s$ 一致的赋值。原子公式 $R(x,y)$ 被满足，即 $\\mathcal{M}, s[y \\mapsto b] \\models R(x,y)$，当且仅当解释后的项对 ($(s[y \\mapsto b])(x), (s[y \\mapsto b])(y)$) 属于关系 $R^{\\mathcal{M}}$。由于 $(s[y \\mapsto b])(x) = s(x)$ 且 $(s[y \\mapsto b])(y) = b$，此条件简化为 $(s(x), b) \\in R^{\\mathcal{M}}$。因此，$\\mathcal{M}, s \\models \\exists y\\,R(x,y)$ 当且仅当存在一个元素 $b \\in M$，使得 $(s(x), b) \\in R^{\\mathcal{M}}$。\n\n斯科伦化过程旨在用函数项替换存在量化变量，以创建一个与原公式等可满足的新公式。其核心原则是，为一个存在变量（如此处的 $y$）选择见证元，可能依赖于在其外部被全称量化的变量的值。在一个开公式中，当考虑公式的全称闭包的可满足性时，自由变量在最外层被隐式地全称量化。\n\n$\\phi(x)$ 的全称闭包是句子 $\\forall x \\,\\exists y\\,R(x,y)$。一个结构 $\\mathcal{M}$ 是该句子的一个模型，记作 $\\mathcal{M} \\models \\forall x\\,\\exists y\\,R(x,y)$，如果对于每个元素 $a \\in M$，都存在一个元素 $b \\in M$，使得 $(a, b) \\in R^{\\mathcal{M}}$。这明确地表明，$b$ 的选择（$y$ 的见证元）依赖于 $a$ 的选择（$x$ 的值）。\n\n这种函数依赖关系正是斯科伦化所要明确表达的。我们引入一个新的、不在原始语言 $\\mathcal{L}$ 中的函数符号，我们称之为 $f$。该函数符号的元数必须等于管辖该存在量词的全称量化变量的数量。在我们的例子中，存在量词 $\\exists y$ 处于自由变量 $x$ 的作用域内。因此，斯科伦函数 $f$ 必须接受一个参数，对应于 $x$。其元数为 $1$。\n\n我们将语言 $\\mathcal{L}$ 扩展为一个新语言 $\\mathcal{L}' = \\mathcal{L} \\cup \\{f\\}$，其中 $f$ 是一个一元函数符号。斯科伦化过程用项 $f(x)$ 替换存在量化变量 $y$。得到的斯科伦化开公式是 $R(x, f(x))$。\n\n现在，我们必须解释 $f$ 的解释及其与全称闭包满足性的关系。假设一个 $\\mathcal{L}$-结构 $\\mathcal{M} = (M, R^{\\mathcal{M}})$ 是全称闭包 $\\forall x\\,\\exists y\\,R(x,y)$ 的一个模型。如前所述，这意味着对于每一个 $a \\in M$，集合 $S_a = \\{b \\in M \\mid (a, b) \\in R^{\\mathcal{M}}\\}$ 是非空的。选择公理保证存在一个函数，我们称之为 $g: M \\to M$，使得对于每一个 $a \\in M$，$g(a) \\in S_a$。这个函数 $g$ 是一个“选择函数”，它为每个给定的 $a$ 选择一个有效的见证元 $b$。\n\n我们可以通过将新函数符号 $f$ 的解释（记作 $f^{\\mathcal{M}'}$）定义为这个选择函数 $g$，从而将 $\\mathcal{L}$-结构 $\\mathcal{M}$ 扩展为一个 $\\mathcal{L}'$-结构 $\\mathcal{M}' = (M, R^{\\mathcal{M}}, f^{\\mathcal{M}'})$。也就是说，$f^{\\mathcal{M}'} = g$。根据 $g$ 的构造，对于每个 $a \\in M$，我们有 $(a, g(a)) \\in R^{\\mathcal{M}}$，这意味着 $(a, f^{\\mathcal{M}'}(a)) \\in R^{\\mathcal{M}}$。这正是结构 $\\mathcal{M}'$ 成为斯科伦化公式的全称闭包 $\\forall x\\,R(x, f(x))$ 的模型所要求的语义条件。\n\n因此，$\\forall x\\,\\exists y\\,R(x,y)$ 的任何模型都可以被扩展为 $\\forall x\\,R(x, f(x))$ 的一个模型。反过来，$\\forall x\\,R(x, f(x))$ 的任何模型都平凡地是 $\\forall x\\,\\exists y\\,R(x,y)$ 的一个模型，因为 $f(x)$ 为 $y$ 提供了见证元。这建立了两个全称闭包的等可满足性，这是斯科伦化的基本性质。\n\n总而言之，推导过程是通过认识到存在量化变量 $y$ 的见证元是自由变量 $x$ 的函数。引入一个新的函数符号 $f$ 来表示这种依赖关系。通过移除存在量词并将 $y$ 的每次出现都替换为项 $f(x)$，便可得到斯科伦化开公式。在任何模型中，$f$ 的解释都是一个选择函数，它为 $x$ 的每个值提供一个满足关系 $R$ 的相应 $y$ 值。\n\n因此，与 $\\exists y\\,R(x,y)$ 对应的最终斯科伦化开公式是 $R(x, f(x))$，其中 $f$ 是一个新引入的一元函数符号。", "answer": "$$\n\\boxed{R(x, f(x))}\n$$", "id": "2982792"}, {"introduction": "如果我们违反了上一节学到的依赖规则会发生什么？这个练习展示了一个使用错误的、更简单的 Skolem 函数（一个常数）的场景。通过分析原始公式和转换后公式的模型，我们可以精确地揭示为何这种错误会破坏等价可满足性，从而体会到正确选择函数元数的重要性。[@problem_id:2982795]", "problem": "设 $\\mathcal{L}$ 是一个带等词且没有非逻辑符号的一阶语言。考虑 $\\mathcal{L}$ 中的句子 $\\varphi$ 定义为 $\\forall x \\,\\exists y\\, (x \\neq y)$。在标准的斯科伦化过程中，当将一个句子转换为一个等可满足的全称句子时，每个存在量词都会被一个斯科伦函数替代，该函数的元数等于其前面全称量词的数量。假设我们忽略这个元数规定，尝试通过引入一个零元函数符号（即一个常量符号）$c$ 来对 $\\varphi$ 进行斯科伦化，从而得到全称 $\\mathcal{L}(c)$-句子 $\\psi := \\forall x\\, (x \\neq c)$。\n\n仅使用一阶逻辑（FOL）中关于非空论域的基本语义定义以及斯科伦化和斯科伦函数的定义，通过分析 $\\varphi$ 和 $\\psi$ 的模型随论域大小的变化情况，来论证这种元数不匹配改变了模型的集合并破坏了等可满足性。确定最小的自然数 $n$，使得存在一个论域基数为 $n$ 的结构满足 $\\varphi$，但不存在论域基数为 $n$ 的结构满足 $\\psi$。请以单个整数形式提供你的最终答案。", "solution": "用户希望分析一个不正确斯科伦化的具体实例，并确定其对所得句子的模型产生的影响。该问题陈述是有效的，因为它是数理逻辑，特别是一阶模型论中一个明确定义的问题。它自成一体、客观，并以逻辑原理为科学基础。\n\n问题提供了一个带等词的一阶语言 $\\mathcal{L}$ 中的两个句子。第一个句子是 $\\varphi := \\forall x \\,\\exists y\\, (x \\neq y)$。第二个句子 $\\psi := \\forall x\\, (x \\neq c)$ 被呈现为 $\\varphi$ 的一个不正确的斯科伦化，其中 $c$ 是一个新添加到语言中的常量符号，构成了 $\\mathcal{L}(c)$。标准的斯科伦化需要一个一元函数，而不是一个零元函数（常量）。我们的任务是分析这两个句子的模型随其论域基数的变化情况，并找到最小的自然数 $n$，使得存在一个大小为 $n$ 的 $\\varphi$ 的模型，但不存在大小为 $n$ 的 $\\psi$ 的模型。所有论域都假定为非空的。\n\n首先，我们来分析句子 $\\varphi := \\forall x \\,\\exists y\\, (x \\neq y)$。\n一个论域为 $M$ 的结构 $\\mathcal{M}$ 是 $\\varphi$ 的一个模型，记作 $\\mathcal{M} \\models \\varphi$，当且仅当对于 $M$ 中的每一个元素 $a \\in M$，都存在一个元素 $b \\in M$ 使得 $a \\neq b$。简而言之，这个句子断言论域中没有任何元素是唯一的元素；对于每个元素，都存在另一个与它不同的元素。\n\n我们根据论域 $M$ 的基数（记作 $n = |M|$）来检验这个条件。\n情况1：$n=1$。\n如果论域只有一个元素 $M = \\{a_1\\}$，那么对于选择 $x=a_1$，该句子要求存在一个 $y \\in M$ 使得 $y \\neq a_1$。然而，可用于 $y$ 的唯一元素是 $a_1$ 本身，而根据等词的自反性，陈述 $a_1 \\neq a_1$ 是假的。因此，任何论域基数为1的结构都不能成为 $\\varphi$ 的模型。\n\n情况2：$n \\geq 2$。\n如果论域至少有两个元素，设 $a$ 是 $M$ 中的任意元素。由于 $|M| \\geq 2$，集合 $M \\setminus \\{a\\}$ 是非空的。这意味着我们总能选择一个元素 $b \\in M$ 使得 $b \\neq a$。这对任何 $x$ 的选择都满足了句子的存在量词部分。由于这对所有 $a \\in M$ 都成立，所以任何论域基数 $n \\geq 2$ 的结构都是 $\\varphi$ 的模型。\n\n通过这个分析，我们得出结论：一个基数为 $n$ 的结构满足 $\\varphi$ 当且仅当 $n \\geq 2$。\n\n接下来，我们分析句子 $\\psi := \\forall x\\, (x \\neq c)$。\n这个句子属于语言 $\\mathcal{L}(c)$，该语言是在 $\\mathcal{L}$ 的基础上扩展了一个常量符号 $c$。该语言的一个结构形式为 $\\mathcal{M}' = (M, c^{\\mathcal{M}'})$，其中 $M$ 是非空论域，而 $c^{\\mathcal{M}'}$ 是常量 $c$ 的解释，它必须是论域中的一个元素，即 $c^{\\mathcal{M}'} \\in M$。\n\n结构 $\\mathcal{M}'$ 是 $\\psi$ 的一个模型，记作 $\\mathcal{M}' \\models \\psi$，当且仅当对于 $M$ 中的每一个元素 $a$，条件 $a \\neq c^{\\mathcal{M}'}$ 都成立。该句子断言由 $c$ 表示的元素与论域中的每一个元素都不同。\n然而，全称量词 $\\forall x$ 的范围是论域 $M$ 中的所有元素。由于 $c^{\\mathcal{M}'}$ 本身就是 $M$ 的一个元素，所以该条件对于 $x = c^{\\mathcal{M}'}$ 这个特殊选择也必须成立。这就导致了陈述 $c^{\\mathcal{M}'} \\neq c^{\\mathcal{M}'}$ 必须为真的要求。\n这是一个矛盾。作为带等词的一阶逻辑的基本组成部分，等词的自反性公理指出，对于任何项 $t$，$t=t$ 成立。因此，$c^{\\mathcal{M}'} = c^{\\mathcal{M}'}$ 总是为真，而 $c^{\\mathcal{M}'} \\neq c^{\\mathcal{M}'}$ 总是为假。\n因为句子 $\\psi$ 在任何非空论域的结构中的任何解释下都蕴含着矛盾，所以 $\\psi$ 没有任何模型。句子 $\\psi$ 是不可满足的。\n\n这证明了所提出的斯科伦化是不正确的，并破坏了等可满足性。句子 $\\varphi$ 是可满足的（它有大小为 $n \\geq 2$ 的模型），而句子 $\\psi$ 是不可满足的。\n\n最后，我们必须确定最小的自然数 $n$，使得存在一个论域基数为 $n$ 的结构满足 $\\varphi$，但不存在论域基数为 $n$ 的结构满足 $\\psi$。\n我们重申一下我们的发现：\n1. ‘存在一个论域基数为 $n$ 的结构满足 $\\varphi$’ 为真，当且仅当 $n \\geq 2$。\n2. ‘不存在论域基数为 $n$ 的结构满足 $\\psi$’ 对所有 $n \\geq 1$ 为真，因为 $\\psi$ 在非空论域上没有模型。\n\n我们寻求满足这两个条件的最小自然数 $n$。满足第一个条件的自然数集合是 $\\{2, 3, 4, \\dots\\}$。满足第二个条件的自然数集合是 $\\{1, 2, 3, 4, \\dots\\}$。这两个集合的交集是 $\\{2, 3, 4, \\dots\\}$。这个交集中的最小元素是 $2$。\n\n对于 $n=1$：不存在基数为1的结构满足 $\\varphi$。所以 $n=1$ 不满足第一个条件。\n对于 $n=2$：存在基数为2的结构满足 $\\varphi$（任何有两个元素的集合）。不存在基数为2的结构满足 $\\psi$（因为 $\\psi$ 是不可满足的）。两个条件都满足了。\n\n因此，这样的最小自然数是 $2$。", "answer": "$$\\boxed{2}$$", "id": "2982795"}, {"introduction": "在之前例子的基础上，这最后一个练习将处理一个涉及多个存在量词的常见错误。我们将分析为何对不同的存在量词使用同一个 Skolem 函数是错误的，以及它如何不恰当地增加了逻辑约束。这将巩固每个存在量词都需要自己独特的 Skolem 函数这一关键原则。[@problem_id:2982829]", "problem": "考虑一个处于前束范式的一阶逻辑（FOL）语句：$$\\forall x \\,\\exists y \\,\\exists z \\, S(x,y,z),$$ 其中 $S$ 是一个固定的带等词的一阶语言中的无量词谓词符号。一个所谓的 Skolem 化将 $\\exists y$ 和 $\\exists z$ 都替换为同一个 Skolem 函数项 $f(x)$，从而得到全称闭包 $$\\forall x \\, S\\big(x,f(x),f(x)\\big).$$ 从 Skolem 化和对全称量化变量的依赖规则的基本定义出发，指出此替换中的确切逻辑错误，并通过诉诸等价可满足性和模型论语义，解释为什么这个错误对于某些结构会破坏可满足性。然后，通过引入必要的 Skolem 函数符号并根据量词前缀和作用域指定它们的元数，推导出正确的 Skolem 范式。最后，以单个 LaTeX 行矩阵的形式，给出正确见证存在量词的 Skolem 项有序对作为最终答案。不需要进行数值取整。你的最终答案仅需表示为这两个 Skolem 项的行矩阵。", "solution": "问题陈述是有效的。这是一个形式逻辑中定义明确的问题，旨在检验 Skolem 化的基本原理。\n\nSkolem 化过程将一个一阶逻辑公式转换为一个等价可满足的 Skolem 范式公式，该范式是一种只包含全称量词的前束范式公式。其核心原理是用一个称为 Skolem 项的项来替换每个存在量化的变量。该项由一个新的函数符号（称为 Skolem 函数）和所有在该前束范式中出现得更早（即其作用域包含正在被消除的存在量词）的全称量化变量作为其参数组成。\n\n给定的语句是 $$\\forall x \\,\\exists y \\,\\exists z \\, S(x,y,z),$$\n所谓的 Skolem 化是 $$\\forall x \\, S\\big(x,f(x),f(x)\\big).$$\n\n这个提议的转换中确切的逻辑错误在于重复使用同一个 Skolem 函数项 $f(x)$ 来替换两个不同的存在量化变量 $y$ 和 $z$。原始语句断言，对于任何给定的 $x$，存在一个 $y$ 的值和一个 $z$ 的值来满足谓词 $S$。这两个值 $y$ 和 $z$ 不要求是相同的。公式 $\\exists y \\,\\exists z \\, S(x,y,z)$ 并未对 $y$ 和 $z$ 的见证者是否相等做出任何声明。\n\n通过用相同的项 $f(x)$ 替换 $y$ 和 $z$，所谓的 Skolem 化隐式地引入了约束 $y=z$。得到的公式 $\\forall x \\, S\\big(x,f(x),f(x)\\big)$断言，对于任何 $x$，存在一个单一的值，我们称之为 $w = f(x)$，使得 $S(x,w,w)$ 成立。这是一个比原语句逻辑上更强的陈述。如果公式 $\\Phi$ 的每个模型也是公式 $\\Psi$ 的模型，那么我们说公式 $\\Phi$ 逻辑蕴涵公式 $\\Psi$（写作 $\\Phi \\models \\Psi$）。在这种情况下，$\\forall x \\, \\exists w \\, S(x,w,w)$ 蕴涵 $\\forall x \\, \\exists y \\, \\exists z \\, S(x,y,z)$（只需选择 $y=w$ 和 $z=w$），但反之不成立。因此，所谓的 Skolem 化与原始公式在逻辑上不等价。\n\n更重要的是，Skolem 化要求保持可满足性（即等价可满足），而非逻辑等价性。这个错误会破坏可满足性。让我们通过一个模型论的论证来证明这一点。如果至少存在一个模型（一个论域和对符号的解释），使得一个公式在该模型中为真，则该公式是可满足的。\n设论域为整数集 $\\mathbb{Z}$。\n设谓词 $S(x,y,z)$ 被解释为关系 $y + z = x$。\n\n原始语句变为：\n$$\\forall x \\in \\mathbb{Z} \\,\\, \\exists y \\in \\mathbb{Z} \\,\\, \\exists z \\in \\mathbb{Z} \\,\\, (y+z=x).$$\n这个陈述在整数的标准模型中为真。对于任何整数 $x$，我们总能找到合适的整数 $y$ 和 $z$。例如，我们可以选择 $y=0$ 和 $z=x$。由于存在这样的模型，原始公式是可满足的。\n\n现在，在相同的解释下考虑所谓的 Skolem 化：\n$$\\forall x \\in \\mathbb{Z} \\,\\, (f(x) + f(x) = x).$$\n这可以简化为 $\\forall x \\in \\mathbb{Z} \\,\\, (2f(x) = x)$。这个陈述断言，对于每个整数 $x$，都存在一个整数 $f(x)$（见证者），使得该整数的 2 倍等于 $x$。这是错误的。对于任何奇数，例如 $x=1$，不存在整数 $w$ 使得 $2w = 1$。因此，不存在函数 $f: \\mathbb{Z} \\to \\mathbb{Z}$ 能对所有 $x$ 满足此属性。所谓的 Skolem 化公式在整数上是不可满足的。\n\n由于原始公式是可满足的，而错误 Skolem 化的公式是不可满足的，这个错误的步骤破坏了可满足性，这违反了 Skolem 化过程的基本要求。\n\n为了推导出正确的 Skolem 范式，我们必须为每个存在量词引入一个唯一的 Skolem 函数。\n原始公式是 $\\forall x \\,\\exists y \\,\\exists z \\, S(x,y,z)$。\n1.  第一个存在量词是 $\\exists y$。它在全称量词 $\\forall x$ 的作用域内。因此，我们必须用一个项 $f(x)$ 来替换 $y$，其中 $f$ 是一个新的元数为 1 的函数符号。公式变为 $\\forall x \\,\\exists z \\, S(x,f(x),z)$。\n2.  第二个存在量词是 $\\exists z$。它也在 $\\forall x$ 的作用域内。我们必须用一个项 $g(x)$ 来替换 $z$，其中 $g$ 是另一个不同于 $f$ 的新的元数为 1 的函数符号。\n\n因此，正确的 Skolem 范式是：\n$$\\forall x \\, S\\big(x,f(x),g(x)\\big).$$\n这个公式与原始公式是等价可满足的。如果原始公式在某个模型中为真，那么对于每个 $x$，都存在 $y_x$ 和 $z_x$。我们可以将函数 $f$ 和 $g$ 的解释定义为 $f(x) = y_x$ 和 $g(x) = z_x$。反之，如果 Skolem 化后的公式在某个带有对 $f$ 和 $g$ 的解释的模型中为真，那么对于任何 $x$，我们可以选择 $y = f(x)$ 和 $z = g(x)$ 来满足原始公式。\n\n正确见证 $y$ 和 $z$ 的存在量词的 Skolem 项有序对分别是 $f(x)$ 和 $g(x)$。", "answer": "$$\\boxed{\\begin{pmatrix} f(x)  g(x) \\end{pmatrix}}$$", "id": "2982829"}]}