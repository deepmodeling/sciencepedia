{"hands_on_practices": [{"introduction": "本节的第一个练习将带你运用中国剩余定理（Chinese Remainder Theorem, CRT）来解决一个线性同余方程组。这个问题不仅仅是定理的简单套用，它包含了一个系数与模数不互质的特殊情况，你需要仔细处理这种情况，这对于培养严谨的数论问题解决能力至关重要。[@problem_id:1822099]", "problem": "一艘星际探测器使用两个独立的循环编码系统为其数据传输添加时间戳。时间戳是一个整数 $x$，表示自任务开始以来的毫秒数。\n\n系统 A 以 5 为一个周期运行。它产生的编码值是 $3x$ 除以 5 的余数。从系统 A 接收到一个特定的数据包，其编码值为 1。\n\n系统 B 以 8 为一个周期运行。它产生的编码值是 $2x$ 除以 8 的余数。从系统 B 接收到同一个数据包，其编码值为 6。\n\n所有可能的时间戳整数 $x$ 的集合可以由两个不同的同余式 $x \\equiv r_1 \\pmod{M}$ 和 $x \\equiv r_2 \\pmod{M}$ 来描述，其中 $M$ 是最小的正公模数，而 $r_1, r_2$ 是满足 $r_1  r_2$ 的最小非负余数。确定 $r_1$ 和 $r_2$ 的值。", "solution": "我们得到了关于整数时间戳 $x$ 的两个模条件。\n\n从系统 A：编码值是 $3x$ 模 5 的余数，且等于 1。这给出了同余式\n$$\n3x \\equiv 1 \\pmod{5}.\n$$\n为了求解 $x$ 模 5，我们将两边乘以 3 模 5 的模逆元。由于 $3\\cdot 2=6\\equiv 1 \\pmod{5}$，逆元是 $3^{-1}\\equiv 2 \\pmod{5}$。因此，\n$$\nx \\equiv 2\\cdot 1 \\equiv 2 \\pmod{5}.\n$$\n\n从系统 B：编码值是 $2x$ 模 8 的余数，且等于 6。这给出了同余式\n$$\n2x \\equiv 6 \\pmod{8}.\n$$\n由于 $\\gcd(2,8)=2$ 能整除 6，我们可以将同余式两边都除以 2，得到\n$$\nx \\equiv 3 \\pmod{4}.\n$$\n等价地，在模 8 的意义下，这意味着 $x \\equiv 3 \\pmod{8}$ 或 $x \\equiv 7 \\pmod{8}$，因为这正是模 8 下化简为模 4 余 3 的两个余数。\n\n现在我们将 $x \\equiv 2 \\pmod{5}$ 分别与 $x \\equiv 3 \\pmod{8}$ 和 $x \\equiv 7 \\pmod{8}$ 结合，以得到模 $M=\\operatorname{lcm}(5,8)=40$ 下的完整解集。\n\n1) 求解\n$$\nx \\equiv 2 \\pmod{5}, \\quad x \\equiv 3 \\pmod{8}.\n$$\n设 $x=5k+2$ 并代入第二个条件模 8：\n$$\n5k+2 \\equiv 3 \\pmod{8} \\;\\Longrightarrow\\; 5k \\equiv 1 \\pmod{8}.\n$$\n由于 $5\\cdot 5=25\\equiv 1 \\pmod{8}$，我们有 $k \\equiv 5 \\pmod{8}$。因此 $k=5+8t$ 并且\n$$\nx=5k+2=5(5+8t)+2=27+40t \\;\\Longrightarrow\\; x \\equiv 27 \\pmod{40}.\n$$\n\n2) 求解\n$$\nx \\equiv 2 \\pmod{5}, \\quad x \\equiv 7 \\pmod{8}.\n$$\n再次设 $x=5k+2$ 并代入第二个条件模 8：\n$$\n5k+2 \\equiv 7 \\pmod{8} \\;\\Longrightarrow\\; 5k \\equiv 5 \\pmod{8}.\n$$\n两边乘以 5 模 8 的逆元（即 5），得到 $k \\equiv 1 \\pmod{8}$。因此 $k=1+8t$ 并且\n$$\nx=5k+2=5(1+8t)+2=7+40t \\;\\Longrightarrow\\; x \\equiv 7 \\pmod{40}.\n$$\n\n因此，满足两个系统的所有整数时间戳的集合是模 40 的两个不同同余类的并集：\n$$\nx \\equiv 7 \\pmod{40} \\quad \\text{或} \\quad x \\equiv 27 \\pmod{40}.\n$$\n这些余数是最小的非负代表，且 $727$。此外，$M=40$ 是允许用两个不同同余式表示的最小正公模数：模 20 时，两个余数重合（$7 \\equiv 27 \\pmod{20}$），因此它们不是不同的，故 40 是在所述要求下的最小值。", "answer": "$$\\boxed{\\begin{pmatrix} 7  27 \\end{pmatrix}}$$", "id": "1822099"}, {"introduction": "在熟悉了线性系统之后，我们来探讨一个更深层次的问题：在模 $n$ 整数环 $\\mathbb{Z}_n$ 中求解多项式方程。与实数或复数域不同，当模 $n$ 是合数时，多项式方程的根的个数可能会出人意料地多，这个练习将通过求解 $x^2 \\equiv 1 \\pmod{24}$ 引导你利用中国剩余定理来揭示其背后的结构性原因。[@problem_id:1819360]", "problem": "在模算术的研究中，我们考虑整数集合 $\\{0, 1, 2, \\dots, n-1\\}$，其中 $n$ 为某个正整数，加法和乘法均在模 $n$ 的意义下进行。这种代数结构被称为模 $n$ 整数环，记作 $\\mathbb{Z}_n$。\n\n考虑 $n=24$ 的具体情况。我们感兴趣的是在集合 $\\{0, 1, 2, \\dots, 23\\}$ 中找到所有满足二次同余方程 $x^2 \\equiv 1 \\pmod{24}$ 的元素 $x$。\n\n下列哪个集合包含所有且仅包含所有在范围 $\\{0, 1, \\dots, 23\\}$ 内的解 $x$？\n\nA. $\\{1, 5, 7, 11, 13, 17, 19, 23\\}$\n\nB. $\\{1, 23\\}$\n\nC. $\\{1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23\\}$\n\nD. $\\{1, 7, 13, 19\\}$\n\nE. $\\{1, 4, 9, 16\\}$", "solution": "我们寻找所有满足 $x^{2} \\equiv 1 \\pmod{24}$ 的 $x \\in \\{0,1,\\dots,23\\}$。将 $24$ 分解为 $24=8 \\cdot 3$，其中 $\\gcd(8,3)=1$，因此根据中国剩余定理，\n$$\nx^{2} \\equiv 1 \\pmod{24} \\iff \\begin{cases}\nx^{2} \\equiv 1 \\pmod{8},\\\\\nx^{2} \\equiv 1 \\pmod{3}.\n\\end{cases}\n$$\n首先，解 $x^{2} \\equiv 1 \\pmod{8}$。若 $x$ 为奇数，则可写为 $x=2k+1$。那么\n$$\nx^{2}=(2k+1)^{2}=4k(k+1)+1.\n$$\n由于 $k(k+1)$ 是偶数，所以 $4k(k+1)$ 能被 $8$ 整除，因此对于所有奇数 $x$，$x^{2} \\equiv 1 \\pmod{8}$。反之，如果 $x$ 是偶数，则可写为 $x=2k$，那么 $x^{2}=4k^{2} \\equiv 0 \\text{ 或 } 4 \\pmod{8}$，绝不为 $1$。因此，模 $8$ 的解恰好是奇数剩余类。\n\n接下来，解 $x^{2} \\equiv 1 \\pmod{3}$。考虑模 $3$ 的剩余类，\n$$\n0^{2} \\equiv 0,\\quad 1^{2} \\equiv 1,\\quad 2^{2} \\equiv 1 \\pmod{3},\n$$\n所以解为 $x \\equiv 1$ 或 $x \\equiv 2 \\pmod{3}$，等价于 $x$ 不能被 $3$ 整除。\n\n结合这两个条件，$x$ 必须是奇数且不能被 $3$ 整除，这等价于 $\\gcd(x,24)=1$。在范围 $\\{0,1,\\dots,23\\}$ 内，这些数是\n$$\n\\{1,5,7,11,13,17,19,23\\}。\n$$\n每个这样的 $x$ 都是奇数，所以 $x^{2} \\equiv 1 \\pmod{8}$；且不能被 $3$ 整除，所以 $x^{2} \\equiv 1 \\pmod{3}$。根据中国剩余定理，这意味着 $x^{2} \\equiv 1 \\pmod{24}$，并且没有其他的 $x$ 能同时满足这两个同余式。这个集合与选项 A 相符。", "answer": "$$\\boxed{A}$$", "id": "1819360"}, {"introduction": "最后的这个练习将展示中国剩余定理一个非常深刻且强大的应用：构造并使用幂等元。我们将为环 $\\mathbb{Z}/n\\mathbb{Z}$（其中 $n$ 是无平方因子的整数）构造一组特殊的元素，它们如同“开关”一样，可以将复杂的计算分解到各个素数分量上进行，最后再轻松地合并结果，这完美地体现了抽象代数结构在具体计算中的威力。[@problem_id:3010584]", "problem": "设 $n$ 是一个无平方因子整数，其素数分解为 $n=\\prod_{i=1}^{k} p_{i}$，并考虑其规范环 $\\mathbb{Z}/n\\mathbb{Z}$。仅使用同余、剩余类、幂等元和中国剩余定理（CRT）的基本定义，在 $\\mathbb{Z}/n\\mathbb{Z}$ 中构造显式的幂等元，这些幂等元投影到每个素因子分量上。特别地，对于 $n=1001=7\\cdot 11\\cdot 13$，构造元素 $e_{7}, e_{11}, e_{13}\\in \\mathbb{Z}/1001\\mathbb{Z}$，使得对于所有整除 $n$ 且 $q\\neq p$ 的素数 $q$，有 $e_{p}\\equiv 1 \\pmod{p}$ 和 $e_{p}\\equiv 0 \\pmod{q}$，并证明这些元素是幂等的、正交的，并且它们的和模 $n$ 同余于 $1$。\n\n然后，在 $\\mathbb{Z}/1001\\mathbb{Z}$ 中定义多项式 $F(x)=x^{1234}+7x^{567}-89$，并设 $x=742$。使用这些幂等元将 $F(742)$ 模 $1001$ 的计算分解到各个素数分量上，然后将结果重新组合成 $\\mathbb{Z}/1001\\mathbb{Z}$ 中的一个单一剩余类。将 $F(742)\\pmod 1001$ 的最终值报告为集合 $\\{0,1,\\dots,1000\\}$ 中的唯一代表元。", "solution": "解答分为两个主要部分：首先是幂等元的构造和验证，其次是使用这些幂等元计算多项式的值。\n\n**第1部分：幂等元的构造与性质**\n\n设 $n = 1001 = 7 \\cdot 11 \\cdot 13$。我们在 $\\mathbb{Z}/1001\\mathbb{Z}$ 中寻找三个具有特定性质的元素 $e_7, e_{11}, e_{13}$。这些通常被称为本原幂等元。\n\n**$e_7$ 的构造：**\n元素 $e_7$ 必须满足以下同余方程组：\n$$\n\\begin{cases}\ne_7 \\equiv 1 \\pmod{7} \\\\\ne_7 \\equiv 0 \\pmod{11} \\\\\ne_7 \\equiv 0 \\pmod{13}\n\\end{cases}\n$$\n后两个同余式意味着 $e_7$ 是 $\\text{lcm}(11, 13) = 11 \\cdot 13 = 143$ 的倍数。因此，对于某个整数 $k$，有 $e_7 = 143k$。\n将此代入第一个同余式：\n$$143k \\equiv 1 \\pmod{7}$$\n为了解出 $k$，我们首先将 $143$ 模 $7$ 进行约化。由于 $143 = 20 \\cdot 7 + 3$，我们有 $143 \\equiv 3 \\pmod{7}$。同余式变为：\n$$3k \\equiv 1 \\pmod{7}$$\n$3$ 模 $7$ 的乘法逆元是 $5$，因为 $3 \\cdot 5 = 15 \\equiv 1 \\pmod{7}$。因此，$k \\equiv 5 \\pmod{7}$。\n选择最小的正整数值 $k=5$，我们得到 $e_7$：\n$$e_7 = 143 \\cdot 5 = 715$$\n\n**$e_{11}$ 的构造：**\n元素 $e_{11}$ 必须满足：\n$$\n\\begin{cases}\ne_{11} \\equiv 0 \\pmod{7} \\\\\ne_{11} \\equiv 1 \\pmod{11} \\\\\ne_{11} \\equiv 0 \\pmod{13}\n\\end{cases}\n$$\n这意味着 $e_{11}$ 是 $7 \\cdot 13 = 91$ 的倍数。因此，$e_{11} = 91k$。\n$$91k \\equiv 1 \\pmod{11}$$\n由于 $91 = 8 \\cdot 11 + 3$，我们有 $91 \\equiv 3 \\pmod{11}$。同余式为：\n$$3k \\equiv 1 \\pmod{11}$$\n$3$ 模 $11$ 的逆元是 $4$，因为 $3 \\cdot 4 = 12 \\equiv 1 \\pmod{11}$。因此，$k \\equiv 4 \\pmod{11}$。\n选择 $k=4$：\n$$e_{11} = 91 \\cdot 4 = 364$$\n\n**$e_{13}$ 的构造：**\n元素 $e_{13}$ 必须满足：\n$$\n\\begin{cases}\ne_{13} \\equiv 0 \\pmod{7} \\\\\ne_{13} \\equiv 0 \\pmod{11} \\\\\ne_{13} \\equiv 1 \\pmod{13}\n\\end{cases}\n$$\n这意味着 $e_{13}$ 是 $7 \\cdot 11 = 77$ 的倍数。因此，$e_{13} = 77k$。\n$$77k \\equiv 1 \\pmod{13}$$\n由于 $77 = 5 \\cdot 13 + 12$，我们有 $77 \\equiv 12 \\equiv -1 \\pmod{13}$。同余式为：\n$$-k \\equiv 1 \\pmod{13}$$\n这得出 $k \\equiv -1 \\equiv 12 \\pmod{13}$。\n选择 $k=12$：\n$$e_{13} = 77 \\cdot 12 = 924$$\n\n所以我们得到了幂等元：$e_7 = 715$，$e_{11} = 364$，$e_{13} = 924$。\n\n**性质证明：**\n我们使用中国剩余定理（CRT），该定理指出，同余式 $a \\equiv b \\pmod{n}$ 成立当且仅当对于 $n$ 的所有素因子 $p_i$，有 $a \\equiv b \\pmod{p_i}$。\n\n1.  **幂等性 ($e_p^2 \\equiv e_p \\pmod{1001}$):**\n    对于我们的任一幂等元 $e_p$（其中 $p \\in \\{7, 11, 13\\}$），根据构造有 $e_p \\equiv 1 \\pmod{p}$ 且对于 $q \\neq p$ 有 $e_p \\equiv 0 \\pmod{q}$。\n    - 模 $p$：$e_p^2 \\equiv 1^2 \\equiv 1 \\equiv e_p \\pmod{p}$。\n    - 模 $q$（其中 $q \\neq p$）：$e_p^2 \\equiv 0^2 \\equiv 0 \\equiv e_p \\pmod{q}$。\n    由于 $e_p^2 \\equiv e_p$ 对 $1001$ 的所有素因子都成立，根据 CRT，它对模 $1001$ 也成立。因此，$e_7, e_{11}, e_{13}$ 是幂等的。\n\n2.  **正交性 ($e_p e_q \\equiv 0 \\pmod{1001}$ for $p \\neq q$):**\n    考虑 $e_p e_q$，其中 $p, q \\in \\{7, 11, 13\\}$ 且 $p \\neq q$。我们对每个素因子 $r \\in \\{7, 11, 13\\}$ 检查同余性。\n    - 模 $p$：$e_p e_q \\equiv 1 \\cdot 0 \\equiv 0 \\pmod{p}$。\n    - 模 $q$：$e_p e_q \\equiv 0 \\cdot 1 \\equiv 0 \\pmod{q}$。\n    - 模 $r$（其中 $r \\neq p, q$）：$e_p e_q \\equiv 0 \\cdot 0 \\equiv 0 \\pmod{r}$。\n    由于 $e_p e_q \\equiv 0$ 对 $1001$ 的所有素因子都成立，根据 CRT，它对模 $1001$ 也成立。\n\n3.  **和为单位元 ($e_7 + e_{11} + e_{13} \\equiv 1 \\pmod{1001}$):**\n    设 $S = e_7 + e_{11} + e_{13}$。我们对每个素因子检查 $S$ 的同余性。\n    - 模 $7$：$S \\equiv e_7 + e_{11} + e_{13} \\equiv 1 + 0 + 0 \\equiv 1 \\pmod{7}$。\n    - 模 $11$：$S \\equiv e_7 + e_{11} + e_{13} \\equiv 0 + 1 + 0 \\equiv 1 \\pmod{11}$。\n    - 模 $13$：$S \\equiv e_7 + e_{11} + e_{13} \\equiv 0 + 0 + 1 \\equiv 1 \\pmod{13}$。\n    由于 $S \\equiv 1$ 模 $7, 11, 13$ 均成立，根据 CRT，$S \\equiv 1 \\pmod{1001}$。\n    我们也可以通过数值计算来验证：$715 + 364 + 924 = 2003$。而 $2003 = 2 \\cdot 1001 + 1$，所以 $2003 \\equiv 1 \\pmod{1001}$。\n\n**第2部分：计算 $F(742) \\pmod{1001}$**\n\n我们被要求计算 $F(742) \\pmod{1001}$，其中 $F(x) = x^{1234} + 7x^{567} - 89$。策略是分别计算 $F(742)$ 模 $7$、$11$ 和 $13$ 的值，然后使用 CRT 组合结果。设 $y = F(742)$。\n\n**模 $7$ 计算：**\n首先，将 $x=742$ 模 $7$ 进行约化。\n$742 = 106 \\cdot 7 + 0$，所以 $742 \\equiv 0 \\pmod{7}$。\n$$y \\equiv 0^{1234} + 7 \\cdot 0^{567} - 89 \\pmod{7}$$\n$$y \\equiv 0 + 0 - 89 \\pmod{7}$$\n$89 = 12 \\cdot 7 + 5$，所以 $89 \\equiv 5 \\pmod{7}$。\n$$y \\equiv -5 \\equiv 2 \\pmod{7}$$\n\n**模 $11$ 计算：**\n将 $x=742$ 模 $11$ 进行约化。\n$742 = 67 \\cdot 11 + 5$，所以 $742 \\equiv 5 \\pmod{11}$。\n$$y \\equiv 5^{1234} + 7 \\cdot 5^{567} - 89 \\pmod{11}$$\n根据费马小定理，对于 $a \\not\\equiv 0 \\pmod{11}$，有 $a^{10} \\equiv 1 \\pmod{11}$。然而，$5$ 模 $11$ 的阶更小。我们来找到它：$5^1 \\equiv 5$, $5^2 \\equiv 25 \\equiv 3$, $5^3 \\equiv 15 \\equiv 4$, $5^4 \\equiv 20 \\equiv 9$, $5^5 \\equiv 45 \\equiv 1$。阶是 $5$。我们将指数模 $5$ 进行约化。\n- 对于 $5^{1234}$：$1234 = 246 \\cdot 5 + 4$，所以 $1234 \\equiv 4 \\pmod 5$。\n  $5^{1234} \\equiv 5^4 \\equiv 9 \\pmod{11}$。\n- 对于 $5^{567}$：$567 = 113 \\cdot 5 + 2$，所以 $567 \\equiv 2 \\pmod 5$。\n  $5^{567} \\equiv 5^2 \\equiv 3 \\pmod{11}$。\n现在，将这些代回 $y$ 的表达式中：\n$$y \\equiv 9 + 7 \\cdot 3 - 89 \\pmod{11}$$\n约化常数：$7 \\equiv 7 \\pmod{11}$，$89 = 8 \\cdot 11 + 1 \\equiv 1 \\pmod{11}$。\n$$y \\equiv 9 + 7 \\cdot 3 - 1 \\pmod{11}$$\n$$y \\equiv 9 + 21 - 1 \\pmod{11}$$\n$$y \\equiv 9 + 10 - 1 = 18 \\equiv 7 \\pmod{11}$$\n\n**模 $13$ 计算：**\n将 $x=742$ 模 $13$ 进行约化。\n$742 = 57 \\cdot 13 + 1$，所以 $742 \\equiv 1 \\pmod{13}$。\n这极大地简化了计算。\n$$y \\equiv 1^{1234} + 7 \\cdot 1^{567} - 89 \\pmod{13}$$\n$$y \\equiv 1 + 7 - 89 \\pmod{13}$$\n$$y \\equiv 8 - 89 = -81 \\pmod{13}$$\n$81 = 6 \\cdot 13 + 3$，所以 $81 \\equiv 3 \\pmod{13}$。\n$$y \\equiv -3 \\equiv 10 \\pmod{13}$$\n\n**结果重组：**\n我们得到关于 $y = F(742)$ 的同余方程组：\n$$\n\\begin{cases}\ny \\equiv 2 \\pmod{7} \\\\\ny \\equiv 7 \\pmod{11} \\\\\ny \\equiv 10 \\pmod{13}\n\\end{cases}\n$$\n解可以使用幂等元来构造：\n$$y \\equiv (y \\bmod 7) \\cdot e_7 + (y \\bmod 11) \\cdot e_{11} + (y \\bmod 13) \\cdot e_{13} \\pmod{1001}$$\n$$y \\equiv 2 \\cdot e_7 + 7 \\cdot e_{11} + 10 \\cdot e_{13} \\pmod{1001}$$\n代入我们找到的幂等元的值：\n$$y \\equiv 2 \\cdot 715 + 7 \\cdot 364 + 10 \\cdot 924 \\pmod{1001}$$\n$$y \\equiv 1430 + 2548 + 9240 \\pmod{1001}$$\n我们将每一项模 $1001$ 进行约化：\n- $1430 = 1 \\cdot 1001 + 429 \\equiv 429 \\pmod{1001}$。\n- $2548 = 2 \\cdot 1001 + 546 \\equiv 546 \\pmod{1001}$。\n- $9240 = 9 \\cdot 1001 + 231 \\equiv 231 \\pmod{1001}$。\n现在我们将剩余项相加：\n$$y \\equiv 429 + 546 + 231 \\pmod{1001}$$\n$$y \\equiv 975 + 231 \\pmod{1001}$$\n$$y \\equiv 1206 \\pmod{1001}$$\n最后，我们在 $\\{0, 1, ..., 1000\\}$ 中找到代表元：\n$$1206 = 1 \\cdot 1001 + 205$$\n所以，$y \\equiv 205 \\pmod{1001}$。\n\n最终值为 $205$。", "answer": "$$\\boxed{205}$$", "id": "3010584"}]}