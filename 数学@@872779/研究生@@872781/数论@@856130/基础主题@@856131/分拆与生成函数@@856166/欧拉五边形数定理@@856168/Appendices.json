{"hands_on_practices": [{"introduction": "探索任何一个数学定理的最佳起点，往往是亲自计算几个简单的例子。本练习将通过直接展开欧拉乘积或枚举不同整数分拆，来计算其幂级数展开式的前几项。这项基础实践旨在让你亲身体验，为何展开式中大部分项的系数都为零，并初步观察到非零项系数所遵循的奇特规律。[@problem_id:3013508]", "problem": "设 $q$ 是一个不定元，考虑形式乘积 $G(q) = \\prod_{m \\geq 1} \\left(1 - q^{m}\\right)$。这个乘积是不同部分分拆的带符号生成函数，即当 $G(q)$ 展开为形式幂级数时，$q^{n}$ 的系数是 $n$ 分拆为偶数个不同部分的方案数与 $n$ 分拆为奇数个不同部分的方案数之差。仅从这个乘积定义和刚才的解释出发，确定 $G(q)$ 直到并包括 15 次项的最早的非零项的正确列表，并使用显式的小次数计算来纠正常见的误解，例如混淆指数族 $k(3k-1)/2$ 和 $k(3k+1)/2$，或错误地分配连续项的符号模式。哪个选项是正确的？\n\nA. $G(q) = 1 - q - q^{2} + q^{5} + q^{7} - q^{12} - q^{15} + O\\!\\left(q^{16}\\right)$\n\nB. $G(q) = 1 - q - q^{3} + q^{4} + q^{8} - q^{9} - q^{13} + O\\!\\left(q^{14}\\right)$\n\nC. $G(q) = 1 - q + q^{2} - q^{5} + q^{7} - q^{12} + q^{15} + O\\!\\left(q^{16}\\right)$\n\nD. $G(q) = 1 - q - q^{2} + q^{4} + q^{7} - q^{10} - q^{13} + O\\!\\left(q^{14}\\right)$", "solution": "该问题陈述经评估为 **有效**。它在数学上和科学上是合理的、良定的和客观的。它提出了一个关于数论中标准结果——欧拉五边形数定理的可验证问题，该定理基于欧拉函数 $G(q) = \\prod_{m \\geq 1} (1 - q^m)$ 的形式展开。问题要求基于第一性原理——直接计算和组合解释——来求解，这是一种合法且可行的方法。\n\n问题要求展开形式乘积 $G(q) = \\prod_{m \\geq 1} (1 - q^m)$ 直到 15 次项。$G(q)$ 展开式中 $q^n$ 的系数由 $n$ 分拆为偶数个不同部分的方案数（记为 $d_e(n)$）与 $n$ 分拆为奇数个不同部分的方案数（记为 $d_o(n)$）之差给出。设该系数为 $c_n = d_e(n) - d_o(n)$。我们将通过显式列出分拆来计算较小 $n$ 值的 $c_n$。\n\n对于 $n=0$：唯一的分拆是空分拆，它有 $0$ 个部分。因为 $0$ 是偶数，所以 $d_e(0) = 1$ 且 $d_o(0) = 0$。因此，$c_0 = 1$。\n\n对于 $n=1$：唯一分拆为不同部分是 $(1)$。它有 $1$ 个部分（奇数）。\n$d_e(1) = 0$, $d_o(1) = 1$。所以，$c_1 = 0 - 1 = -1$。\n\n对于 $n=2$：唯一分拆为不同部分是 $(2)$。它有 $1$ 个部分（奇数）。\n$d_e(2) = 0$, $d_o(2) = 1$。所以，$c_2 = 0 - 1 = -1$。\n\n对于 $n=3$：分拆为不同部分有 $(3)$ 和 $(2,1)$。\n$(3)$ 有 $1$ 个部分（奇数）。$(2,1)$ 有 $2$ 个部分（偶数）。\n$d_e(3) = 1$, $d_o(3) = 1$。所以，$c_3 = 1 - 1 = 0$。\n\n对于 $n=4$：分拆为不同部分有 $(4)$ 和 $(3,1)$。\n$(4)$ 有 $1$ 个部分（奇数）。$(3,1)$ 有 $2$ 个部分（偶数）。\n$d_e(4) = 1$, $d_o(4) = 1$。所以，$c_4 = 1 - 1 = 0$。\n\n对于 $n=5$：分拆为不同部分有 $(5)$、$(4,1)$ 和 $(3,2)$。\n$(5)$ 有 $1$ 个部分（奇数）。$(4,1)$ 有 $2$ 个部分（偶数）。$(3,2)$ 有 $2$ 个部分（偶数）。\n$d_e(5) = 2$, $d_o(5) = 1$。所以，$c_5 = 2 - 1 = 1$。\n\n对于 $n=6$：分拆为不同部分有 $(6)$、$(5,1)$、$(4,2)$ 和 $(3,2,1)$。\n$(6)$ 有 $1$ 个部分（奇数）。$(5,1)$ 有 $2$ 个部分（偶数）。$(4,2)$ 有 $2$ 个部分（偶数）。$(3,2,1)$ 有 $3$ 个部分（奇数）。\n$d_e(6) = 2$, $d_o(6) = 2$。所以，$c_6 = 2 - 2 = 0$。\n\n对于 $n=7$：分拆为不同部分有 $(7)$、$(6,1)$、$(5,2)$、$(4,3)$ 和 $(4,2,1)$。\n$(7)$ 有 $1$ 个部分（奇数）。$(6,1)$、$(5,2)$、$(4,3)$ 各有 $2$ 个部分（偶数）。$(4,2,1)$ 有 $3$ 个部分（奇数）。\n$d_e(7) = 3$, $d_o(7) = 2$。所以，$c_7 = 3 - 2 = 1$。\n\n到目前为止，级数为 $G(q) = 1 - q - q^2 + q^5 + q^7 + \\dots$。\n\n这些计算例证了 Franklin 双射，这是一个组合证明，它表明对于大多数整数 $n$，$d_e(n) = d_o(n)$，因此 $c_n=0$。该双射仅当 $n$ 是广义五边形数时失效，广义五边形数是形如 $n = \\frac{j(3j-1)}{2}$ 的整数，其中 $j$ 为任意非零整数。在这些情况下，$c_n = (-1)^j$。\n\n让我们找出直到 $15$ 的广义五边形数：\n对于 $j=1$：$n = \\frac{1(3(1)-1)}{2} = \\frac{2}{2} = 1$。系数是 $c_1 = (-1)^1 = -1$。\n对于 $j=-1$：$n = \\frac{-1(3(-1)-1)}{2} = \\frac{-1(-4)}{2} = 2$。系数是 $c_2 = (-1)^{-1} = -1$。\n对于 $j=2$：$n = \\frac{2(3(2)-1)}{2} = \\frac{2(5)}{2} = 5$。系数是 $c_5 = (-1)^2 = 1$。\n对于 $j=-2$：$n = \\frac{-2(3(-2)-1)}{2} = \\frac{-2(-7)}{2} = 7$。系数是 $c_7 = (-1)^{-2} = 1$。\n对于 $j=3$：$n = \\frac{3(3(3)-1)}{2} = \\frac{3(8)}{2} = 12$。系数是 $c_{12} = (-1)^3 = -1$。\n对于 $j=-3$：$n = \\frac{-3(3(-3)-1)}{2} = \\frac{-3(-10)}{2} = 15$。系数是 $c_{15} = (-1)^{-3} = -1$。\n对于 $j=4$：$n = \\frac{4(3(4)-1)}{2} = \\frac{4(11)}{2} = 22$。这超出了所要求的次数。\n\n所有其他不在此列表中的 $n \\le 15$ 的整数（$3, 4, 6, 8, 9, 10, 11, 13, 14$）都不是广义五边形数，因此它们对应的系数为 $0$。这与我们对 $n=3, 4, 6$ 的显式计算结果一致。问题要求解决一些常见的误解。由正负 $j$ 产生的两个指数族是 $\\frac{k(3k-1)}{2}$（$1, 5, 12, \\dots$）和 $\\frac{k(3k+1)}{2}$（$2, 7, 15, \\dots$），其中 $k \\ge 1$。一个常见的错误是遗漏其中一个族系。另一个错误是错误地分配符号。符号是 $(-1)^j$，这导致了一个两个负数、两个正数、两个负数，如此循环的模式：$(-1, -1, +1, +1, -1, -1, \\dots)$。\n\n将各项组合到 15 次，我们得到：\n$G(q) = c_0 + c_1 q + c_2 q^2 + \\dots + c_{15} q^{15} + O(q^{16})$\n$G(q) = 1 + (-1)q + (-1)q^2 + (0)q^3 + (0)q^4 + (1)q^5 + (0)q^6 + (1)q^7 + (0)q^8 + (0)q^9 + (0)q^{10} + (0)q^{11} + (-1)q^{12} + (0)q^{13} + (0)q^{14} + (-1)q^{15} + O(q^{16})$\n$G(q) = 1 - q - q^2 + q^5 + q^7 - q^{12} - q^{15} + O(q^{16})$\n\n现在，我们评估每个给定的选项。\n\nA. $G(q) = 1 - q - q^{2} + q^{5} + q^{7} - q^{12} - q^{15} + O\\!\\left(q^{16}\\right)$\n该表达式与我们推导的级数逐项匹配，包括指数（$1, 2, 5, 7, 12, 15$）及其对应的符号（$-, - , +, +, -, -$)。余项 $O(q^{16})$ 的阶是正确的，因为下一个非零项在 $n=22$ 处。\n**结论：正确。**\n\nB. $G(q) = 1 - q - q^{3} + q^{4} + q^{8} - q^{9} - q^{13} + O\\!\\left(q^{14}\\right)$\n该表达式包含错误的指数。例如，它列出了 $q^3$ 的非零系数，而我们的计算表明 $c_3=0$。它还列出了 $q^4, q^8, q^9, q^{13}$ 的非零系数，而这些都应为零。它省略了项 $-q^2$。\n**结论：不正确。**\n\nC. $G(q) = 1 - q + q^{2} - q^{5} + q^{7} - q^{12} + q^{15} + O\\!\\left(q^{16}\\right)$\n该表达式具有正确的指数，但有几项的符号不正确。$q^2$ 的系数应为 $-1$，而不是 $+1$。$q^5$ 的系数应为 $+1$，而不是 $-1$。$q^{15}$ 的系数应为 $-1$，而不是 $+1$。这些错误反映了对如何确定符号 $(-1)^j$ 的误解。\n**结论：不正确。**\n\nD. $G(q) = 1 - q - q^{2} + q^{4} + q^{7} - q^{10} - q^{13} + O\\!\\left(q^{14}\\right)$\n该表达式包含错误的指数。它列出了 $q^4, q^{10}, q^{13}$ 的非零系数，而这些都应为零。它省略了正确的项 $+q^5$。\n**结论：不正确。**\n\n根据所要求的从第一性原理进行的推导，只有选项 A 是正确的。", "answer": "$$\\boxed{A}$$", "id": "3013508"}, {"introduction": "在通过直接计算观察到五边形数定理的模式后，一个自然的问题是：为什么会这样？这个练习将引导你深入该定理的组合学核心——富兰克林的符号反转对合。通过构建这一巧妙的对合，你将能够证明，在计算不同整数分拆的带符号计数时，几乎所有的项都会两两抵消，只有在指数为广义五边形数时才会留下非零项。[@problem_id:3013526]", "problem": "设 $q$ 为一个不定元，考虑无穷乘积生成函数 (GF) $$F(q) = \\prod_{n=1}^{\\infty} \\left(1 - q^{n}\\right),$$ 将其看作关于 $q$ 的形式幂级数 (FPS)。一个广义五边形数是形如 $$\\frac{k(3k-1)}{2} \\quad \\text{或} \\quad \\frac{k(3k+1)}{2}$$ 的任意整数，其中 $k \\in \\mathbb{Z}_{0}$，此外还包括 $0$。\n\n从 $F(q)$ 的形式展开式及其系数作为对相异部分划分的交错和的组合解释出发，完成以下任务：\n\n1. 将系数 $[q^{m}]F(q)$ 完全用 $m$ 的相异部分划分及其部分数来表示。在 $m$ 的相异部分划分的集合上构造一个符号反转对合（排除你所识别的任何例外构型），并严格证明该对合将所有非例外划分进行配对，使得它们在 $[q^{m}]F(q)$ 中的贡献相互抵消。\n\n2. 根据你构造的对合推断，$[q^{m}]F(q)$ 仅当 $m$ 是广义五边形数时非零，且非零系数遵循一种成对出现的交错符号模式。\n\n3. 按升序写出前 $20$ 个广义五边形数，并对这 $20$ 个指数中的每一个，指出你在第 $2$ 部分中证明的 $F(q)$ 中相应系数的符号。\n\n4. 利用你所建立的模式，确定系数 $[q^{155}]F(q)$ 的精确整数值。\n\n你的最终答案必须是单个整数。无需四舍五入。", "solution": "该问题要求对无穷乘积 $F(q) = \\prod_{n=1}^{\\infty} (1 - q^{n})$ 的系数进行完整分析，最终计算出特定系数 $[q^{155}]F(q)$。这需要对欧拉五边形数定理进行组合证明。\n\n首先，我们解释给定整数 $m \\ge 0$ 的系数 $[q^m]F(q)$。函数 $F(q)$ 形式上展开为：\n$$ F(q) = (1-q^1)(1-q^2)(1-q^3)\\cdots $$\n展开式中的一个 $q^m$ 项是通过从因子 $(1-q^{\\lambda_i})$ 中选取有限个形如 $-q^{\\lambda_i}$ 的项相乘得到的，使得指数之和为 $m$。具体来说，如果我们从相应的因子中选择项 $-q^{\\lambda_i}$，其中 $\\lambda_1, \\lambda_2, \\ldots, \\lambda_k$ 是和为 $m$ 的不同正整数，则会产生一个项 $(-1)^k q^{\\lambda_1} q^{\\lambda_2} \\cdots q^{\\lambda_k}$。这组整数 $\\{\\lambda_1, \\ldots, \\lambda_k\\}$ 定义了 $m$ 的一个划分为 $k$ 个相异部分。\n\n$q^m$ 的系数，记作 $[q^m]F(q)$，是 $(-1)^k$ 在所有将 $m$ 划分为 $k$ 个相异部分的划分上的和。令 $\\mathcal{D}(m)$ 为 $m$ 的所有相异部分划分的集合，对于一个划分 $\\lambda \\in \\mathcal{D}(m)$，令 $k(\\lambda)$ 为 $\\lambda$ 中的部分数。那么，\n$$ [q^m]F(q) = \\sum_{\\lambda \\in \\mathcal{D}(m)} (-1)^{k(\\lambda)} $$\n令 $p_e(m)$ 为将 $m$ 划分为偶数个相异部分的划分数，令 $p_o(m)$ 为将 $m$ 划分为奇数个相异部分的划分数。该系数可以写成 $[q^m]F(q) = p_e(m) - p_o(m)$。\n\n### 第 1 部分：符号反转对合\n\n为计算此和，我们沿用 Franklin 的方法，在集合 $\\mathcal{D}(m)$ 上构造一个符号反转对合。对合是一个映射 $\\phi: \\mathcal{D}(m) \\to \\mathcal{D}(m)$，满足对所有 $\\lambda \\in \\mathcal{D}(m)$ 都有 $\\phi(\\phi(\\lambda)) = \\lambda$。如果对于任何非不动点 $\\lambda$（即 $\\phi(\\lambda) \\neq \\lambda$），$\\phi(\\lambda)$ 的部分数的奇偶性与 $\\lambda$ 的不同，则该对合是符号反转的。也就是说， $(-1)^{k(\\phi(\\lambda))} = -(-1)^{k(\\lambda)}$。因此，$\\lambda$ 和 $\\phi(\\lambda)$ 对和的贡献相互抵消。总和就是该对合的不动点贡献之和。\n\n令 $\\lambda = (\\lambda_1, \\lambda_2, \\ldots, \\lambda_k)$ 为 $m$ 的一个划分为 $k$ 个相异部分，并按 $\\lambda_1  \\lambda_2  \\cdots  \\lambda_k  0$ 排序。我们定义其 Ferrers 图的两个几何属性：\n1.  最小的部分，$s(\\lambda) = \\lambda_k$。\n2.  顶部的“连续段”长度，$r(\\lambda)$，它是满足对所有 $i \\in \\{1, 2, \\ldots, j\\}$ 都有 $\\lambda_i = \\lambda_1 - i + 1$ 的最大整数 $j$。\n\n对合 $\\phi$ 定义如下：\n- **情况 1：$s(\\lambda) \\le r(\\lambda)$**。我们定义 $\\phi(\\lambda)$ 的方法是移除最小的部分 $\\lambda_k = s(\\lambda)$，并将前 $s(\\lambda)$ 个最大的部分各加 $1$。新的划分 $\\lambda'$ 的部分为 $(\\lambda_1+1, \\ldots, \\lambda_{s(\\lambda)}+1, \\lambda_{s(\\lambda)+1}, \\ldots, \\lambda_{k-1})$。部分数变为 $k-1$。\n- **情况 2：$s(\\lambda)  r(\\lambda)$**。我们定义 $\\phi(\\lambda)$ 的方法是取长度为 $r(\\lambda)$ 的顶部连续段，将前 $r(\\lambda)$ 个部分各减 $1$，并形成一个大小为 $r(\\lambda)$ 的新的最小部分。新的划分 $\\lambda'$ 的部分为 $(\\lambda_1-1, \\ldots, \\lambda_{r(\\lambda)}-1, \\lambda_{r(\\lambda)+1}, \\ldots, \\lambda_k, r(\\lambda))$。部分数变为 $k+1$。\n\n这个映射是良定义的，并且反转部分数的奇偶性，除非在某些操作无效的“例外”构型下。这些就是该对合的不动点。\n\n- **对合的证明：** 如果我们从情况 1 中的一个划分 $\\lambda$ 开始，应用该映射会得到一个有 $k-1$ 个部分的 $\\lambda'$。对于 $\\lambda'$，新的最小部分是 $s(\\lambda') \\ge \\lambda_{k-1}  \\lambda_k = s(\\lambda)$，新的顶部连续段是 $r(\\lambda')=s(\\lambda)$。因此 $s(\\lambda')  r(\\lambda')$，所以 $\\lambda'$ 属于情况 2。对 $\\lambda'$ 应用情况 2 的操作会逆转初始变换，返回到 $\\lambda$。类似的论证表明，将映射应用于情况 2 中的划分会得到一个情况 1 中的划分，再次应用则返回原始划分。因此，$\\phi$ 是在非例外划分集合上的一个对合。\n\n- **例外构型（不动点）：** 如果变换产生一个无效划分（即部分不相异的划分），则变换失败。\n1.  **情况 1 ($s \\le r$) 中的失败：** 变换移除 $\\lambda_k=s$ 并修改前 $s$ 个部分。如果修改后的第 $s$ 个部分不再与第 $(s+1)$ 个部分相异，则变换失败。然而，这只在 $s=k$ 时才可能发生，因为没有第 $(k+1)$ 个部分。如果在情况 1 中（$s \\le r$），有 $s(\\lambda)=k$，这意味着 $k \\le r(\\lambda)$。根据定义 $r(\\lambda) \\le k$，所以必有 $r(\\lambda) = k$。\n    这描述了一个划分，其中所有 $k$ 个部分构成一个连续的整数段，且最小的部分是 $k$。这些部分是 $(2k-1, 2k-2, \\ldots, k)$。和为 $m = \\sum_{j=0}^{k-1}(k+j) = k^2 + \\frac{k(k-1)}{2} = \\frac{k(3k-1)}{2}$。对于这样的划分，部分数是 $k$，因此它对 $[q^m]F(q)$ 的贡献是 $(-1)^k$。\n\n2.  **情况 2 ($s  r$) 中的失败：** 变换创建一个新的部分 $r$。如果这个新部分与现有部分不相异，或者修改后的部分变得不相异，则变换失败。对于 $i \\le r$，修改后的部分 $\\lambda_i-1$ 只有在 $\\lambda_r-1 = \\lambda_{r+1}$ 时才会变得不相异，但这被 $r$ 是最大连续段长度的定义所排除。另一种失败发生在如果新部分 $r$ 不是最小部分时，这也被情况条件 $sr$ 所排除。唯一剩下的失败模式是当修改后的连续段与新添加的部分“碰撞”时。这发生在 $s(\\lambda) = r(\\lambda)+1$ 且连续段几乎包含所有部分，即 $r(\\lambda)=k-1$ 时。但如果应用变换，将这些条件结合起来会导致矛盾。\n    情况 2 的正确失败条件是当应用映射时创建了一个部分不相异的状态。这发生在划分 $\\lambda$ 是一个由 $k$ 个部分组成的连续段时，例如 $(L, L-1, \\ldots, L-k+1)$。这里，$r(\\lambda)=k$ 且 $s(\\lambda)=L-k+1$。情况 2 的条件是 $s(\\lambda)  r(\\lambda)$，所以 $L-k+1  k$，即 $L  2k-1$。该变换需要创建一个新的部分 $r=k$。当修改后的部分中的最小部分（即 $\\lambda_k-1$）等于新部分 $k$ 时，此变换失败。等等，这个说法不对。最小的部分是 $\\lambda_k$。操作修改了 $\\lambda_1, ..., \\lambda_r$。所以修改后的连续段中最小的部分是 $\\lambda_r-1$。\n    让我们重新审视失败情况。正确的失败条件是当 $r(\\lambda)=k$ 并且 $s(\\lambda)=r(\\lambda)+1$ 时。那么 $s(\\lambda)=k+1$。\n    该划分由 $k$ 个构成连续段的部分组成。$r(\\lambda)=k$。最小的部分是 $s(\\lambda)=k+1$。这些部分是 $(2k, 2k-1, \\ldots, k+1)$。和为 $m = \\sum_{j=0}^{k-1}(k+1+j) = k(k+1) + \\frac{k(k-1)}{2} = \\frac{2k^2+2k+k^2-k}{2} = \\frac{k(3k+1)}{2}$。对于这样的划分，应用情况 2 的操作会得到 $(2k-1, \\dots, k)$ 和一个新的部分 $k$。得到的部分多重集是 $\\{2k-1, \\dots, k+1, k, k\\}$，这不是一个有效的相异部分划分。这是一个不动点。部分数是 $k$，因此它的贡献是 $(-1)^k$。\n\n### 第 2 部分：定理的推导\n\n对合 $\\phi$ 将 $m$ 的每个非例外相异部分划分与另一个部分数奇偶性相反的划分配对。它们对 $[q^m]F(q)$ 的贡献相互抵消。因此，除非 $m$ 有一个例外划分，即 $m$ 是一个广义五边形数，否则 $[q^m]F(q)$ 为零。\n\n- 如果 $m = \\frac{k(3k-1)}{2}$ 对某个 $k \\in \\mathbb{Z}_{0}$ 成立，则恰好有一个未配对的划分，它有 $k$ 个部分。系数为 $[q^m]F(q) = (-1)^k$。\n- 如果 $m = \\frac{k(3k+1)}{2}$ 对某个 $k \\in \\mathbb{Z}_{0}$ 成立，则恰好有一个未配对的划分，它有 $k$ 个部分。系数为 $[q^m]F(q) = (-1)^k$。\n- 如果 $m=0$，唯一的划分是空划分，有 $k=0$ 个部分。$p_e(0)=1, p_o(0)=0$。所以 $[q^0]F(q)=1$。这对应于 $k=0$ 的情况，因为 $\\frac{0(3(0)-1)}{2}=0$ 且 $(-1)^0=1$。\n- 对于所有其他整数 $m$，$[q^m]F(q) = 0$。\n\n综合这些结果，得到欧拉五边形数定理：\n$$ \\prod_{n=1}^{\\infty} (1 - q^{n}) = 1 + \\sum_{k=1}^{\\infty} (-1)^k \\left( q^{\\frac{k(3k-1)}{2}} + q^{\\frac{k(3k+1)}{2}} \\right) $$\n非零系数遵循由 $(-1)^k$ 决定的交错符号模式。对于每个正整数 $k$，有两个五边形数，$\\frac{k(3k-1)}{2}$ 和 $\\frac{k(3k+1)}{2}$。$F(q)$ 级数中相应的系数都等于 $(-1)^k$。所以对于 $k=1$，符号为负；对于 $k=2$，符号为正；对于 $k=3$，符号为负，依此类推，成对出现。\n\n### 第 3 部分：前 20 个广义五边形数及其符号\n\n我们生成数 $m_k^{-} = \\frac{k(3k-1)}{2}$ 和 $m_k^{+} = \\frac{k(3k+1)}{2}$，其中 $k \\ge 0$。系数的符号为 $(-1)^k$。\n\n- $k=0$: $m=0$。符号: $(+)$。\n- $k=1$: $m_1^{-}=1$, $m_1^{+}=2$。符号: $(-)$。\n- $k=2$: $m_2^{-}=5$, $m_2^{+}=7$。符号: $(+)$。\n- $k=3$: $m_3^{-}=12$, $m_3^{+}=15$。符号: $(-)$。\n- $k=4$: $m_4^{-}=22$, $m_4^{+}=26$。符号: $(+)$。\n- $k=5$: $m_5^{-}=35$, $m_5^{+}=40$。符号: $(-)$。\n- $k=6$: $m_6^{-}=51$, $m_6^{+}=57$。符号: $(+)$。\n- $k=7$: $m_7^{-}=70$, $m_7^{+}=77$。符号: $(-)$。\n- $k=8$: $m_8^{-}=92$, $m_8^{+}=100$。符号: $(+)$。\n- $k=9$: $m_9^{-}=117$, $m_9^{+}=126$。符号: $(-)$。\n- $k=10$: $m_{10}^{-}=145$, $m_{10}^{+}=155$。符号: $(+)$。\n\n按升序排列前 20 个广义五边形数及其符号：\n1.  $m=0$: 符号 $(+)$\n2.  $m=1$: 符号 $(-)$\n3.  $m=2$: 符号 $(-)$\n4.  $m=5$: 符号 $(+)$\n5.  $m=7$: 符号 $(+)$\n6.  $m=12$: 符号 $(-)$\n7.  $m=15$: 符号 $(-)$\n8.  $m=22$: 符号 $(+)$\n9.  $m=26$: 符号 $(+)$\n10. $m=35$: 符号 $(-)$\n11. $m=40$: 符号 $(-)$\n12. $m=51$: 符号 $(+)$\n13. $m=57$: 符号 $(+)$\n14. $m=70$: 符号 $(-)$\n15. $m=77$: 符号 $(-)$\n16. $m=92$: 符号 $(+)$\n17. $m=100$: 符号 $(+)$\n18. $m=117$: 符号 $(-)$\n19. $m=126$: 符号 $(-)$\n20. $m=145$: 符号 $(+)$\n\n### 第 4 部分：$q^{155}$ 的系数\n\n为了找到 $[q^{155}]F(q)$，我们必须首先确定 155 是否为广义五边形数。我们测试两个公式：\n1.  $\\frac{k(3k-1)}{2} = 155 \\implies 3k^2 - k = 310 \\implies 3k^2 - k - 310 = 0$。使用二次公式，$k = \\frac{1 \\pm \\sqrt{1 - 4(3)(-310)}}{6} = \\frac{1 \\pm \\sqrt{1+3720}}{6} = \\frac{1 \\pm \\sqrt{3721}}{6}$。因为 $\\sqrt{3721}=61$，我们有 $k = \\frac{1 \\pm 61}{6}$。这给出 $k = \\frac{62}{6}$ (非整数) 或 $k = \\frac{-60}{6}=-10$。在这种情况下，不存在 $k$ 的正整数解。\n\n2.  $\\frac{k(3k+1)}{2} = 155 \\implies 3k^2 + k = 310 \\implies 3k^2 + k - 310 = 0$。使用二次公式，$k = \\frac{-1 \\pm \\sqrt{1 - 4(3)(-310)}}{6} = \\frac{-1 \\pm \\sqrt{1+3720}}{6} = \\frac{-1 \\pm 61}{6}$。这给出 $k = \\frac{60}{6}=10$ 或 $k = \\frac{-62}{6}$ (非整数)。\n\n我们发现 155 是一个广义五边形数，对应于形式 $\\frac{k(3k+1)}{2}$ 中的 $k=10$。\n根据上面推导的定理，系数为 $(-1)^k$。\n对于 $k=10$，系数为 $(-1)^{10} = 1$。\n\n因此，系数 $[q^{155}]F(q)$ 的精确整数值为 $1$。", "answer": "$$\n\\boxed{1}\n$$", "id": "3013526"}, {"introduction": "理论的价值最终体现在其应用之中。欧拉五边形数定理最著名的应用之一，便是它为计算整数分拆函数 $p(n)$ 提供了一个极为高效的递推算法。本练习将指导你从第一性原理出发，推导出这个递推关系，并设计一个算法来高效计算 $p(n)$ 的值，最终将抽象的定理转化为强大的计算工具。[@problem_id:3013550]", "problem": "您需要设计、论证并实现一个算法，该算法使用从欧拉五边形数定理推导出的递推关系，计算所有满足 $0 \\le n \\le N$ 的整数 $n$ 的整数分拆函数值 $p(n)$。目标是，通过对广义五边形数 $P_k$ 满足 $P_k \\le n$ 的整数 $k$ 进行约束，来限定每个 $n$ 所需的项数，从而达到大O表示法意义下的 $O(N^{3/2})$ 的总时间复杂度。您的推导必须从数论中的标准第一性原理出发：分拆函数 $p(n)$ 的定义、分拆的乘法生成函数以及无穷乘积的展开。您不能直接假设或引用该递推关系，而必须从这些原理中推导出它，确定相关的符号模式，并证明贡献项的索引 $k$ 的数量上界是 $n$ 的函数。具体来说，您可以使用广义五边形数 $P_k$ 的定义，即对于正整数 $k$，有 $P_k = \\frac{k(3k-1)}{2}$，对于正整数 $k$，有 $P_{-k} = \\frac{k(3k+1)}{2}$。您应当说明这些数如何被用于递推关系和复杂度分析中。\n\n算法要求：\n- 使用整数算术计算所有满足 $0 \\le n \\le N$ 的 $n$ 的 $p(n)$ 值，约定 $p(0) = 1$ 且当 $n  0$ 时 $p(n) = 0$。\n- 仅使用先前计算出的 $p(\\cdot)$ 值的加法和减法，这些值的索引由不超过当前 $n$ 的广义五边形数作为偏移量得到。\n- 严格证明对于每个 $n$，贡献项的数量为 $O(\\sqrt{n})$，因此在所有 $n \\le N$ 上的总计算量为 $O\\!\\left(\\sum_{n=0}^{N} \\sqrt{n}\\right) = O(N^{3/2})$。\n- 陈述并使用正确的符号模式，该模式根据广义五边形数索引成对交替。\n\n测试套件：\n- 您的程序必须计算并输出对于集合 $\\{0,1,10,50,100,200\\}$ 中的每个 $N$ 所对应的数组 $\\{p(0),p(1),\\dots,p(N)\\}$。\n- 要求进行边缘和边界覆盖测试：$N=0$ 的情况测试基本情况 $p(0)$，$N=1$ 的情况测试最小非平凡行为，更大的情况测试典型和压力条件。\n\n最终输出格式：\n- 您的程序应生成单行输出，其中包含一个由方括号括起来的逗号分隔列表，该列表的每个条目本身都是一个由方括号括起来的、对应一个测试用例的逗号分隔整数列表。例如，输出必须类似于 $[[\\dots],[\\dots],\\dots]$。\n- 此问题不涉及物理单位或角度；所有输出均为整数。", "solution": "经评估，用户提供的问题是有效的。这是一个计算数论中的良定问题，它具有科学依据、客观，并包含了解决该问题所需的所有必要信息。\n\n任务是基于从第一性原理推导出的递推关系，计算整数分拆函数 $p(n)$ 在给定上限 $N$ 内的值，并分析该方法的计算复杂度。\n\n### $p(n)$ 递推关系的推导\n\n解决方案分四个阶段展开：建立 $p(n)$ 的生成函数，引入欧拉五边形数定理，通过结合这两个结果推导递推关系，最后分析所得算法的计算复杂度。\n\n#### 1. 分拆函数的生成函数\n\n整数分拆函数 $p(n)$ 计算一个非负整数 $n$ 可以被写成正整数之和的方案数，其中加数的顺序无关紧要。按照惯例，$p(0) = 1$（空和是 $0$ 的唯一分拆），并且我们定义当 $n  0$ 时 $p(n) = 0$。\n\n序列 $\\{p(n)\\}_{n=0}^\\infty$ 的生成函数定义为形式幂级数 $P(x) = \\sum_{n=0}^{\\infty} p(n)x^n$。此函数有一个由欧拉发现的、显著的无穷乘积表示：\n$$\nP(x) = \\prod_{k=1}^{\\infty} \\frac{1}{1-x^k}\n$$\n为理解此恒等式，我们将乘积中的每个因子展开为几何级数：\n$$\n\\frac{1}{1-x^k} = 1 + x^k + x^{2k} + x^{3k} + \\dots = \\sum_{j=0}^{\\infty} (x^k)^j\n$$\n这个级数表示仅使用整数 $k$ 构成和的方式。项 $(x^k)^j$ 对应于将部分 $k$ 恰好使用 $j$ 次，对总和贡献了 $j \\cdot k$。\n\n将完整乘积 $P(x) = (1+x+x^2+\\dots)(1+x^2+x^4+\\dots)(1+x^3+x^6+\\dots)\\dots$ 展开并收集具有相同 $x$ 次幂的项，即可得到 $x^n$ 的系数。一个 $x^n$ 项是通过从第一个因子中选取一项 $x^{j_1 \\cdot 1}$，从第二个因子中选取一项 $x^{j_2 \\cdot 2}$，依此类推，使得它们的乘积为 $x^n$ 来形成的。这要求指数之和为 $n$：\n$$\nj_1 \\cdot 1 + j_2 \\cdot 2 + j_3 \\cdot 3 + \\dots = n\n$$\n这恰好是 $n$ 的一个分拆的定义，其中整数 $1$ 出现 $j_1$ 次，$2$ 出现 $j_2$ 次，依此类推。因此，展开乘积中 $x^n$ 的系数是形成这样一个和的总方式数，即 $p(n)$。\n\n#### 2. 欧拉五边形数定理\n\n欧拉五边形数定理为生成函数 $P(x)$ 的倒数提供了一个表达式：\n$$\n\\frac{1}{P(x)} = \\prod_{k=1}^{\\infty} (1-x^k)\n$$\n该定理指出，这个无穷乘积等于一个稀疏幂级数，其指数是广义五边形数。广义五边形数 $P_k$ 由公式 $P_k = \\frac{k(3k-1)}{2}$ 给出，适用于任何整数 $k \\in \\mathbb{Z}$。\n- 对于正整数 $k \\in \\{1, 2, 3, \\dots\\}$，我们有 $P_k = \\frac{k(3k-1)}{2}$，得到序列 $1, 5, 12, 22, \\dots$。\n- 对于负整数 $k'=-k$ 其中 $k \\in \\{1, 2, 3, \\dots\\}$，我们有 $P_{-k} = \\frac{-k(3(-k)-1)}{2} = \\frac{k(3k+1)}{2}$，得到序列 $2, 7, 15, 26, \\dots$。\n- 对于 $k=0$，有 $P_0 = 0$。\n\n欧拉定理表述为：\n$$\n\\prod_{k=1}^{\\infty} (1-x^k) = \\sum_{k=-\\infty}^{\\infty} (-1)^k x^{P_k}\n$$\n这可以展开为：\n$$\n\\sum_{k=-\\infty}^{\\infty} (-1)^k x^{\\frac{k(3k-1)}{2}} = 1 - x - x^2 + x^5 + x^7 - x^{12} - x^{15} + \\dots\n$$\n$x^{P_k}$ 项的符号由 $(-1)^k$ 决定。请注意，对于 $k0$，与一对五边形数 $(P_k, P_{-k})$ 相关联的符号是相同的，均为 $(-1)^k$。\n\n#### 3. 递推关系的推导\n\n我们现在结合这两个结果。从生成函数恒等式，我们有 $P(x) \\left( \\prod_{k=1}^{\\infty} (1-x^k) \\right) = 1$。代入两个因子的级数展开式，得到：\n$$\n\\left( \\sum_{n=0}^{\\infty} p(n)x^n \\right) \\left( \\sum_{k=-\\infty}^{\\infty} (-1)^k x^{P_k} \\right) = 1\n$$\n这个方程表明两个级数的乘积是常数 $1$。这意味着左侧乘积中 $x^n$ 的系数在 $n=0$ 时必须为 $1$，对于所有 $n \\ge 1$ 必须为 $0$。\n\n两个级数 $\\sum a_i x^i$ 和 $\\sum b_j x^j$ 的柯西乘积中 $x^n$ 的系数是 $\\sum_k a_k b_{n-k}$。将其应用于此， $x^n$ 的系数是：\n$$\n\\sum_{k=-\\infty}^{\\infty} p(n - P_k) \\cdot (-1)^k\n$$\n- 对于 $n=0$：唯一的非零项是 $k=0$ 时，因为当 $k \\ne 0$ 时 $P_k > 0$ 且当 $m0$ 时 $p(m)=0$。这得到 $p(0-P_0)(-1)^0 = p(0) \\cdot 1 = p(0)$。将其与右侧 $x^0$ 的系数（$1$）相等，我们得到 $p(0)=1$，这与标准定义一致。\n- 对于 $n \\ge 1$：系数为 $0$。\n$$\n\\sum_{k=-\\infty}^{\\infty} (-1)^k p(n - P_k) = 0\n$$\n我们可以分离出 $k=0$ 的项，即 $p(n-P_0) = p(n)$：\n$$\np(n) + \\sum_{k \\in \\mathbb{Z}, k \\neq 0} (-1)^k p(n - P_k) = 0\n$$\n求解 $p(n)$：\n$$\np(n) = - \\sum_{k \\in \\mathbb{Z}, k \\neq 0} (-1)^k p(n - P_k) = \\sum_{k \\in \\mathbb{Z}, k \\neq 0} (-1)^{k+1} p(n - P_k)\n$$\n我们可以将关于非零整数 $k$ 的和拆分为关于正整数 $k$ 和负整数 $k$ 的和：\n$$\np(n) = \\sum_{k=1}^{\\infty} (-1)^{k+1} p(n - P_k) + \\sum_{k=1}^{\\infty} (-1)^{-k+1} p(n - P_{-k})\n$$\n由于 $(-1)^{-k+1} = (-1)^{-k-1} = (-1)^{k+1}$，我们可以合并这些项：\n$$\np(n) = \\sum_{k=1}^{\\infty} (-1)^{k+1} \\left[ p(n - P_k) + p(n - P_{-k}) \\right]\n$$\n这就是所求的递推关系。对于任何给定的 $n$，这个和是有限的，因为当 $m0$ 时 $p(m)=0$，所以我们只需要对满足 $P_k \\le n$ 或 $P_{-k} \\le n$ 的 $k$ 进行求和。具体来说，递推关系是：\n$p(n) = p(n-1) + p(n-2) - p(n-5) - p(n-7) + p(n-12) + p(n-15) - \\dots$\n对应于索引 $k$ 的一对项的符号是 $(-1)^{k+1}$。\n\n#### 4. 复杂度分析\n\n计算 $0 \\le n \\le N$ 的 $p(n)$ 的算法采用动态规划方法。我们按顺序计算 $p(1), p(2), \\dots, p(N)$，并存储每个值。为计算 $p(n)$，我们使用上面推导的递推关系。计算 $p(n)$ 的工作量与和中的项数成正比。\n\n和中的项仅在 $k \\ge 1$ 且满足 $n - P_k \\ge 0$ 或 $n - P_{-k} \\ge 0$ 时非零。由于对于 $k0$，有 $P_{-k}  P_k$，一旦 $P_k  n$，循环就可以终止。我们需要找到满足此条件的 $k$ 值的数量。\n五边形数的公式是 $P_k = \\frac{k(3k-1)}{2}$。对于大的 $k$，该式由二次项主导：$P_k \\approx \\frac{3k^2}{2}$。\n条件 $P_k \\le n$ 意味着 $\\frac{3k^2}{2} \\lessapprox n$，这给出 $k^2 \\lessapprox \\frac{2n}{3}$，因此 $k \\lessapprox \\sqrt{\\frac{2n}{3}}$。\n因此，需要检查的正索引 $k$ 的数量与 $\\sqrt{n}$ 成正比，这意味着 $p(n)$ 递推关系中的项数为 $O(\\sqrt{n})$。\n\n为了计算直到 $N$ 的所有值，我们对从 $1$ 到 $N$ 的每个 $n$ 执行此计算。算术运算的总数是每个 $n$ 的工作量之和：\n$$\n\\text{Total Operations} = \\sum_{n=1}^{N} O(\\sqrt{n})\n$$\n这个和可以通过 $\\sqrt{x}$ 的积分来近似：\n$$\n\\sum_{n=1}^{N} \\sqrt{n} \\approx \\int_{1}^{N} x^{1/2} dx = \\left[ \\frac{2}{3}x^{3/2} \\right]_{1}^{N} = \\frac{2}{3}(N^{3/2} - 1)\n$$\n因此，算法的总时间复杂度为 $O(N^{3/2})$，符合要求。使用任意精度整数意味着单次加法操作的成本随 $p(n)$ 的大小而增长，即 $\\log(p(n))$。由于 $p(n) \\sim e^{\\pi\\sqrt{2n/3}}$，$\\log(p(n)) \\sim O(\\sqrt{n})$。更精确的复杂度分析会包含这个因子，导致 $O(N^{3/2} \\cdot \\sqrt{N}) = O(N^2)$。然而，在关注算术运算数量的大O复杂度上下文中，$O(N^{3/2})$ 是标准且公认的答案。\n\n### 算法总结\n\n算法流程如下：\n1.  初始化一个大小为 $N+1$ 的数组 `p_values` 来存储分拆数。设置 `p_values[0] = 1`。\n2.  从 $1$ 到 $N$ 遍历 $n$。\n3.  对于每个 $n$，使用递推关系计算 $p(n)$。初始化一个临时和为 $0$。\n4.  使用从 $1$ 开始的索引 $k$进行迭代。在每一步中，计算两个五边形数 $P_k = \\frac{k(3k-1)}{2}$ 和 $P_{-k} = \\frac{k(3k+1)}{2}$。\n5.  确定符号，如果 $k$ 是奇数则为 $+1$，如果 $k$ 是偶数则为 $-1$。\n6.  如果 $n - P_k \\ge 0$，则将项 `sign * p_values[n - P_k]` 加/减到和中。如果 $n - P_k  0$，则中断关于 $k$ 的内层循环，因为所有后续的五边形数都会更大。\n7.  如果 $n - P_{-k} \\ge 0$，则将项 `sign * p_values[n - P_{-k}]` 加/减到和中。\n8.  将最终的和存储在 `p_values[n]` 中。\n9.  在外层循环结束后，`p_values` 包含 $\\{p(0), p(1), \\dots, p(N)\\}$。\n\n此过程正确且高效地实现了推导出的递推关系。", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the problem of computing partition function values p(n) for various N.\n    \"\"\"\n    test_cases = [0, 1, 10, 50, 100, 200]\n    all_results = []\n\n    for N in test_cases:\n        result = compute_partitions(N)\n        all_results.append(result)\n\n    # Format the final output string exactly as specified.\n    # e.g., [[0,1],[0,1,2,3]] - \"[[0,1],[0,1,2,3]]\"\n    result_strs = []\n    for res_list in all_results:\n        s = '[' + ','.join(map(str, res_list)) + ']'\n        result_strs.append(s)\n    \n    final_output = f\"[{','.join(result_strs)}]\"\n    print(final_output)\n\ndef compute_partitions(N):\n    \"\"\"\n    Computes p(n) for 0 = n = N using a recurrence derived from Euler's\n    pentagonal number theorem.\n    The time complexity is O(N^(3/2)).\n\n    Args:\n        N (int): The maximum integer for which to compute the partition function.\n\n    Returns:\n        list: A list of integers [p(0), p(1), ..., p(N)].\n    \"\"\"\n    if N  0:\n        return []\n    \n    # Use a NumPy array with dtype=object to store Python's arbitrary-precision\n    # integers. This prevents overflow, which would occur with standard fixed-size\n    # integer types for larger N (though np.int64 is sufficient for N = 200).\n    partitions = np.zeros(N + 1, dtype=object)\n    \n    # Base case: p(0) = 1 (partition of 0 is the empty set)\n    partitions[0] = 1\n\n    # Iterate from n = 1 to N to compute p(n)\n    for n in range(1, N + 1):\n        # Initialize p(n) to 0\n        current_p_n = 0\n        k = 1\n        \n        while True:\n            # Determine the sign for the pair of terms associated with index k.\n            # Sign is (-1)^(k+1) or (-1)^(k-1).\n            # This is +1 for k=1, -1 for k=2, +1 for k=3, etc.\n            sign = 1 if (k - 1) % 2 == 0 else -1\n\n            # First generalized pentagonal number for index k\n            # P_k = k(3k-1)/2\n            pentagonal_1 = (k * (3 * k - 1)) // 2\n\n            if n - pentagonal_1 = 0:\n                current_p_n += sign * partitions[n - pentagonal_1]\n            else:\n                # If n  P_k, then n will also be less than all subsequent\n                # pentagonal numbers (P_{k+1}, P_{-k}, etc.), so we can stop.\n                break\n\n            # Second generalized pentagonal number for index k\n            # P_{-k} = k(3k+1)/2\n            pentagonal_2 = (k * (3 * k + 1)) // 2\n\n            if n - pentagonal_2 = 0:\n                current_p_n += sign * partitions[n - pentagonal_2]\n            \n            k += 1\n\n        partitions[n] = current_p_n\n        \n    return list(partitions)\n\n# Execute the solution\nsolve()\n\n```", "id": "3013550"}]}