{"hands_on_practices": [{"introduction": "这个练习将抽象的阿尔廷符号概念置于我们所熟悉的二次域背景中。它旨在说明，这个编码了素数分裂行为的符号，可以通过两种截然不同的方式计算：一种是算术性的，通过克罗内克符号；另一种是代数性的，通过因式分解最小多项式。本实践 [@problem_id:3024914] 将强化这些观点之间的基本联系，并建立计算上的熟练度。", "problem": "设 $L = \\mathbb{Q}(\\sqrt{d})$ 是一个二次数域，其中 $d \\in \\mathbb{Z}$ 是无平方因子整数且 $d \\neq 0,1$。用 $\\Delta_L$ 表示 $L$ 的域判别式，其确定规则为：如果 $d \\equiv 1 \\pmod{4}$，则 $\\Delta_L = d$；否则 $\\Delta_L = 4d$。设 $G = \\operatorname{Gal}(L/\\mathbb{Q}) \\cong \\mathbb{Z}/2\\mathbb{Z}$，对于每个有理素数 $p$，当 $p$ 在 $L$ 中未分歧时（即 $p \\nmid \\Delta_L$），考虑其 Artin 符号 $\\left(\\frac{L/\\mathbb{Q}}{p}\\right)$。Artin 符号是 $G$ 中 Frobenius 自同构的共轭类，在此情况下，由于 $G$ 是 2 阶阿贝尔群，它要么是单位元，要么是唯一的非平凡元素。\n\n实现一个程序，对于给定的 $(d,p)$ 对列表，通过两种概念上不同的方法计算 Artin 符号，并验证它们的一致性：\n\n- 方法 A（Kronecker 符号）：仅使用 Kronecker 符号 $\\left(\\frac{\\Delta_L}{p}\\right)$ 对 $p$ 处的 Frobenius 元素进行分类，规则如下：如果 $\\left(\\frac{\\Delta_L}{p}\\right) = 0$，则 $p$ 分歧，Artin 符号未定义；如果 $\\left(\\frac{\\Delta_L}{p}\\right) = 1$，则 $p$ 分裂，Artin 符号是单位元；如果 $\\left(\\frac{\\Delta_L}{p}\\right) = -1$，则 $p$ 惰性，Artin 符号是非平凡自同构。将这三种结果分别编码为：分歧为 $-1$，单位元为 $0$，非平凡元素为 $1$。\n\n- 方法 B（在模 $p$ 下分解最小多项式）：设 $\\theta$ 是生成 $\\mathcal{O}_L$ 的一个代数整数，$f(x) \\in \\mathbb{Z}[x]$ 是其在 $\\mathbb{Q}$ 上的首一最小多项式。对于二次域，取\n  - 如果 $d \\equiv 1 \\pmod{4}$，则 $\\theta = \\frac{1+\\sqrt{d}}{2}$ 且 $f(x) = x^2 - x + \\frac{1-d}{4}$，\n  - 否则，$\\theta = \\sqrt{d}$ 且 $f(x) = x^2 - d$。\n  将 $f(x)$ 约化到模 $p$，并利用其在 $\\mathbb{F}_p$ 上的分解来对 $p$ 在 $L$ 中的分裂类型进行分类，从而确定 Frobenius 元素：如果 $f$ 在模 $p$ 下有两个不同的线性因子，则 $p$ 分裂（编码为 $0$）；如果 $f$ 在模 $p$ 下不可约，则 $p$ 惰性（编码为 $1$）；如果 $f$ 在模 $p$ 下有重根，则 $p$ 分歧（编码为 $-1$）。\n\n在你的解答中，证明为什么这两种方法对所有有理素数 $p$ 都一致。\n\n你的程序必须为每个测试用例生成一行输出，包含一个布尔值，指示方法 A 和方法 B 的分类是否一致。最后一行必须是一个用方括号括起来的逗号分隔列表，例如 $[\\text{True},\\text{False},\\text{True}]$。\n\n使用以下 $(d,p)$ 对的测试套件，这些测试用例旨在探究一般行为、素数 $p=2$ 以及分歧情况：\n\n- $d = 5$, $p = 2$,\n- $d = 5$, $p = 3$,\n- $d = 5$, $p = 5$,\n- $d = 2$, $p = 3$,\n- $d = 2$, $p = 17$,\n- $d = 13$, $p = 3$,\n- $d = 13$, $p = 2$,\n- $d = -3$, $p = 2$,\n- $d = -3$, $p = 3$,\n- $d = -3$, $p = 7$.\n\n你的程序应该生成一行输出，包含一个用方括号括起来的逗号分隔列表形式的结果（例如 $[\\text{True},\\text{True},\\dots]$）。此问题不涉及任何物理单位、角度单位或百分比。每个测试用例的正确性标准是两种分类方法的布尔相等性。", "solution": "问题陈述是有效的。它在代数数论的原理上有科学依据，问题提出得当且客观。它包含了所有必要的信息和定义，没有内部矛盾。因此，我们可以着手解决。\n\n该问题要求证明在二次数域 $L = \\mathbb{Q}(\\sqrt{d})$ 中确定素数 $p$ 行为的两种方法是等价的，并对此等价性进行计算验证。素数 $p$ 的行为可分为分裂、惰性或分歧。这些行为对应于由 $p$ 在整数环 $\\mathbb{Z}$ 中生成的理想 $(p)$ 如何在域 $L$ 的整数环 $\\mathcal{O}_L$ 中分解。\n\nArtin 符号 $\\left(\\frac{L/\\mathbb{Q}}{p}\\right)$ 是伽罗瓦群 $G = \\operatorname{Gal}(L/\\mathbb{Q})$ 中的一个元素，它为未分歧的素数优雅地捕捉了这种行为。对于二次域，$G$ 有两个元素：单位元和一个非平凡自同构 $\\sigma: \\sqrt{d} \\mapsto -\\sqrt{d}$。\n- 如果 $p$ 分裂，Artin 符号是单位元。\n- 如果 $p$ 惰性，Artin 符号是非平凡元素 $\\sigma$。\n- 如果 $p$ 分歧，Artin 符号未定义。\n\n问题为这三种情况定义了一个数值编码：分裂（单位元）为 $0$，惰性（非平凡）为 $1$，分歧为 $-1$。\n\n方法 A 使用 Kronecker 符号 $\\left(\\frac{\\Delta_L}{p}\\right)$ 对素数进行分类，其中 $\\Delta_L$ 是域 $L$ 的判别式。二次域的一个基本定理指出，对于一个未分歧的素数 $p$（即 $p \\nmid \\Delta_L$）：\n- $p$ 在 $L$ 中分裂当且仅当 $\\left(\\frac{\\Delta_L}{p}\\right) = 1$。\n- $p$ 在 $L$ 中惰性当且仅当 $\\left(\\frac{\\Delta_L}{p}\\right) = -1$。\n一个素数 $p$ 在 $L$ 中分歧当且仅当 $p$ 整除判别式 $\\Delta_L$，这对应于 $\\left(\\frac{\\Delta_L}{p}\\right) = 0$。方法 A 使用问题的编码方案直接应用此定理。\n\n方法 B 使用整数环 $\\mathcal{O}_L$ 的生成元 $\\theta$ 的最小多项式 $f(x)$ 的分解。该方法基于一个称为 Dedekind 分解定理的强大结果。该定理指出，如果对于某个最小多项式为 $f(x)$ 的代数整数 $\\theta$，有 $\\mathcal{O}_L = \\mathbb{Z}[\\theta]$，那么理想 $(p)$ 在 $\\mathcal{O}_L$ 中的分解反映了多项式 $f(x)$ 在有限域 $\\mathbb{F}_p$ 中模 $p$ 约化后的分解。\n- 如果 $f(x) \\pmod p$ 在 $\\mathbb{F}_p[x]$ 中分解为两个不同的线性因子，那么 $(p)$ 在 $\\mathcal{O}_L$ 中分裂为两个不同的素理想。\n- 如果 $f(x) \\pmod p$ 在 $\\mathbb{F}_p[x]$ 中不可约，那么 $(p)$ 在 $\\mathcal{O}_L$ 中仍为素理想（即 $p$ 是惰性的）。\n- 如果 $f(x) \\pmod p$ 在 $\\mathbb{F}_p[x]$ 中有重复因子，那么 $(p)$ 是 $\\mathcal{O}_L$ 中一个素理想的平方（即 $p$ 是分歧的）。\n\n问题的表述在每种情况下都仔细选择了 $\\theta$，使得条件 $\\mathcal{O}_L = \\mathbb{Z}[\\theta]$ 始终满足，从而确保该定理对所有素数 $p$ 都适用。\n\n方法 A 和方法 B 等价的证明在于，要说明 $f(x) \\pmod p$ 的分解由 $\\left(\\frac{\\Delta_L}{p}\\right)$ 的值决定。一个关键的洞见是，对于问题中给定的 $\\theta$ 及其最小多项式 $f(x)$ 的特定选择，多项式 $f(x)$ 的判别式恰好是域判别式 $\\Delta_L$。\n我们来验证这一点：\n1.  如果 $d \\equiv 2, 3 \\pmod 4$，我们有 $\\theta = \\sqrt{d}$ 且 $f(x) = x^2 - d$。该多项式的判别式是 $\\operatorname{Disc}(f) = 0^2 - 4(1)(-d) = 4d$。在这种情况下，域判别式是 $\\Delta_L = 4d$。因此，$\\operatorname{Disc}(f) = \\Delta_L$。\n2.  如果 $d \\equiv 1 \\pmod 4$，我们有 $\\theta = \\frac{1+\\sqrt{d}}{2}$ 且 $f(x) = x^2 - x + \\frac{1-d}{4}$。判别式是 $\\operatorname{Disc}(f) = (-1)^2 - 4(1)(\\frac{1-d}{4}) = 1 - (1-d) = d$。在这种情况下，域判别式是 $\\Delta_L = d$。因此，$\\operatorname{Disc}(f) = \\Delta_L$。\n\n现在我们分析 $f(x) \\pmod p$ 的分解。\n\n对于奇素数 $p$ ($p \\neq 2$)：\n在 $\\mathbb{F}_p$ 上，一个二次多项式的分解由其判别式决定。一个二次多项式在 $\\mathbb{F}_p$ 中有两个不同的根、没有根或一个重根，当且仅当其判别式分别是模 $p$ 的二次剩余、二次非剩余或零。这可以用 Legendre 符号表示。\n由于 $\\operatorname{Disc}(f) = \\Delta_L$，因此 $f(x) \\pmod p$ 的分解由 $\\left(\\frac{\\Delta_L}{p}\\right)$ 决定。\n- $f(x)$ 分解为两个不同的因子 $\\iff \\left(\\frac{\\Delta_L}{p}\\right) = 1$。这对应于编码 $0$。\n- $f(x)$ 不可约 $\\iff \\left(\\frac{\\Delta_L}{p}\\right) = -1$。这对应于编码 $1$。\n- $f(x)$ 有一个重根 $\\iff \\left(\\frac{\\Delta_L}{p}\\right) = 0$。这对应于编码 $-1$。\n这与方法 A 的规则完全匹配。\n\n对于素数 $p=2$：\n二次公式不适用，因此我们直接检查各种情况。\n\n情况 I：$d \\equiv 2, 3 \\pmod 4$。\n- 方法 A：$\\Delta_L = 4d$。由于 $2 | \\Delta_L$，Kronecker 符号 $\\left(\\frac{\\Delta_L}{2}\\right) = 0$。这意味着分歧（编码 $-1$）。\n- 方法 B：$f(x) = x^2 - d$。我们将其模 2 约化。\n    - 如果 $d \\equiv 2 \\pmod 4$，$d$ 是偶数，所以 $f(x) \\equiv x^2 \\pmod 2$。这有一个重根 $x=0$。这意味着分歧（编码 $-1$）。\n    - 如果 $d \\equiv 3 \\pmod 4$，$d$ 是奇数，所以 $f(x) \\equiv x^2 - 1 \\equiv x^2 + 1 \\equiv (x+1)^2 \\pmod 2$。这有一个重根 $x=1$。这意味着分歧（编码 $-1$）。\n在这两种子情况下，两种方法一致。\n\n情况 II：$d \\equiv 1 \\pmod 4$。\n- 方法 A：$\\Delta_L = d$。结果取决于 $\\left(\\frac{d}{2}\\right)$。根据 Kronecker 符号的定义：\n    - 如果 $d \\equiv 1 \\pmod 8$，则 $\\left(\\frac{d}{2}\\right) = 1$。这意味着分裂（编码 $0$）。\n    - 如果 $d \\equiv 5 \\pmod 8$，则 $\\left(\\frac{d}{2}\\right) = -1$。这意味着惰性（编码 $1$）。\n- 方法 B：$f(x) = x^2 - x + \\frac{1-d}{4}$。我们将其模 2 约化，得到 $f(x) \\equiv x^2+x+\\frac{1-d}{4} \\pmod 2$。\n    - 如果 $d \\equiv 1 \\pmod 8$，我们可以写成 $d = 8k+1$（对于某个整数 $k$）。那么 $\\frac{1-d}{4} = \\frac{-8k}{4} = -2k \\equiv 0 \\pmod 2$。所以，$f(x) \\equiv x^2+x = x(x+1) \\pmod 2$。这有两个不同的根，$0$ 和 $1$。它分裂（编码 $0$）。\n    - 如果 $d \\equiv 5 \\pmod 8$，我们可以写成 $d = 8k+5$。那么 $\\frac{1-d}{4} = \\frac{-8k-4}{4} = -2k-1 \\equiv 1 \\pmod 2$。所以，$f(x) \\equiv x^2+x+1 \\pmod 2$。这个多项式在 $\\mathbb{F}_2$ 中没有根（$f(0)=1, f(1)=1$），所以它是不可约的。它是惰性的（编码 $1$）。\n同样，两种方法的结果完全匹配。\n\n由于方法 A 和方法 B 对所有素数 $p$ 和所有有效的 $d$ 选择都产生相同的分类，它们的等价性得以确立。这种联系是一个深刻的结果，即整数环生成元的最小多项式的判别式就是域判别式。", "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the problem by implementing and comparing the two methods for\n    classifying prime splitting in quadratic fields.\n    \"\"\"\n\n    test_cases = [\n        (5, 2),\n        (5, 3),\n        (5, 5),\n        (2, 3),\n        (2, 17),\n        (13, 3),\n        (13, 2),\n        (-3, 2),\n        (-3, 3),\n        (-3, 7),\n    ]\n\n    def kronecker_prime(a, p):\n        \"\"\"\n        Computes the Kronecker symbol (a/p) for an integer a and a prime p.\n        \"\"\"\n        if not isinstance(p, int) or p == 1:\n            raise ValueError(\"p must be a prime number.\")\n\n        if p == 2:\n            if a % 2 == 0:\n                return 0\n            a_mod_8 = a % 8\n            if a_mod_8 == 1 or a_mod_8 == 7:\n                return 1\n            else:  # a_mod_8 == 3 or a_mod_8 == 5\n                return -1\n        \n        # p is an odd prime\n        if a % p == 0:\n            return 0\n        \n        # Euler's criterion for the Legendre symbol\n        res = pow(a, (p - 1) // 2, p)\n        if res == p - 1:\n            return -1\n        return 1\n\n    def method_a(d, p):\n        \"\"\"\n        Classifies prime behavior using the Kronecker symbol of the field discriminant.\n        Encoding: -1 for ramified, 0 for split, 1 for inert.\n        \"\"\"\n        if d % 4 == 1:\n            delta_L = d\n        else:\n            delta_L = 4 * d\n        \n        k = kronecker_prime(delta_L, p)\n        \n        if k == 1:\n            return 0  # Splits\n        elif k == -1:\n            return 1  # Inert\n        else:  # k == 0\n            return -1 # Ramified\n\n    def method_b(d, p):\n        \"\"\"\n        Classifies prime behavior by factoring the minimal polynomial mod p.\n        Encoding: -1 for ramified, 0 for split, 1 for inert.\n        \"\"\"\n        # Case 1: d = 1 (mod 4)\n        if d % 4 == 1:\n            # f(x) = x^2 - x + (1-d)/4\n            if p == 2:\n                # The factorization of x^2+x+c (mod 2) depends on c.\n                # c = (1-d)/4. If c is even, f(x)=x(x+1) splits.\n                # If d = 1 (mod 8), c is even.\n                # If d = 5 (mod 8), c is odd.\n                if d % 8 == 1:\n                    return 0  # Splits\n                else:  # d % 8 == 5\n                    return 1  # Inert\n            else:  # p is an odd prime\n                # Discriminant of f(x) is d.\n                # Factorization depends on the Legendre symbol (d/p).\n                legendre = kronecker_prime(d, p)\n                if legendre == 1:\n                    return 0  # Splits\n                elif legendre == -1:\n                    return 1  # Inert\n                else:  # legendre == 0\n                    return -1 # Ramified\n\n        # Case 2: d = 2, 3 (mod 4)\n        else:\n            # f(x) = x^2 - d\n            if p == 2:\n                # For d=2,3 (mod 4), p=2 always ramifies.\n                # If d is even (d=2 mod 4), f(x) = x^2.\n                # If d is odd (d=3 mod 4), f(x) = x^2-1 = (x-1)^2.\n                return -1 # Ramified\n            else:  # p is an odd prime\n                # Discriminant of f(x) is 4d.\n                # Factorization depends on (4d/p) = (d/p).\n                legendre = kronecker_prime(d, p)\n                if legendre == 1:\n                    return 0  # Splits\n                elif legendre == -1:\n                    return 1  # Inert\n                else:  # legendre == 0\n                    return -1 # Ramified\n\n    results = []\n    for d, p in test_cases:\n        result_a = method_a(d, p)\n        result_b = method_b(d, p)\n        results.append(result_a == result_b)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```", "id": "3024914"}, {"introduction": "在掌握了二次域的情形后，我们现在将探索一个双二次扩张，它由两个二次域复合而成。这个练习 [@problem_id:3024945] 阐释了阿尔廷符号强大的函子性（functoriality），展示了一个更大扩张上的符号在限制到其子扩张时的行为。这是理解更一般的阿贝尔扩张中阿尔廷符号的关键一步。", "problem": "令 $a,b \\in \\mathbb{Z}$ 为互异、非零、无平方因子整数，并令 $L=\\mathbb{Q}(\\sqrt{a},\\sqrt{b})$ 为 $\\mathbb{Q}$ 上相关的4次双二次扩张。记 $K_{a}=\\mathbb{Q}(\\sqrt{a})$，$K_{b}=\\mathbb{Q}(\\sqrt{b})$ 和 $K_{ab}=\\mathbb{Q}(\\sqrt{ab})$ 为 $L/\\mathbb{Q}$ 的三个二次子扩张。令 $p$ 为一个奇有理素数，满足 $p \\nmid 2ab$，因此 $p$ 在 $L/\\mathbb{Q}$ 中是非分歧的。对 $L$ 中位于 $p$ 之上的任意素理想 $\\mathfrak{p}$，考虑阿廷符号 $\\left(\\dfrac{L/\\mathbb{Q}}{\\mathfrak{p}}\\right) \\in \\mathrm{Gal}(L/\\mathbb{Q})$。\n\n仅从以下基本事实和定义出发：\n- 对于 $d \\in \\mathbb{Z}$ 和奇素数 $p$（满足 $p \\nmid d$）的勒让德符号 $\\left(\\dfrac{d}{p}\\right)$ 的定义，\n- 有限伽罗瓦扩张中非分歧素数处的阿廷符号的定义，及其在限制到子扩张下的函子性，\n- 有理素数 $p \\nmid 2d$ 在二次域 $\\mathbb{Q}(\\sqrt{d})$ 中以勒让德符号表示的分裂行为，\n\n确定元素 $\\left(\\dfrac{L/\\mathbb{Q}}{\\mathfrak{p}}\\right)$ 在与子扩张 $K_{a}$，$K_{b}$ 和 $K_{ab}$ 相关联的 $\\mathrm{Gal}(L/\\mathbb{Q})$ 的三个二次特征下的像。或者说，计算 $\\left(\\dfrac{L/\\mathbb{Q}}{\\mathfrak{p}}\\right)$ 作用于 $\\sqrt{a}$、$\\sqrt{b}$ 和 $\\sqrt{ab}$ 的符号，并用三个勒让德符号 $\\left(\\dfrac{a}{p}\\right)$、$\\left(\\dfrac{b}{p}\\right)$ 和 $\\left(\\dfrac{ab}{p}\\right)$ 表示。\n\n将你的最终答案表示为一个行矩阵，其三个元素按顺序分别对应于与 $K_{a}$、$K_{b}$ 和 $K_{ab}$ 相关联的三个二次特征下的像。无需数值近似。", "solution": "该问题已被验证为代数数论领域内一个适定且科学合理的问题。\n\n令 $L/\\mathbb{Q}$ 为伽罗瓦扩张 $L = \\mathbb{Q}(\\sqrt{a}, \\sqrt{b})$，其中 $a, b \\in \\mathbb{Z}$ 是互异、非零、无平方因子整数。伽罗瓦群 $\\mathrm{Gal}(L/\\mathbb{Q})$ 由4个自同构组成，这些自同构由它们在生成元 $\\sqrt{a}$ 和 $\\sqrt{b}$ 上的作用所决定。任意 $\\sigma \\in \\mathrm{Gal}(L/\\mathbb{Q})$ 必将 $\\sqrt{a} \\mapsto \\epsilon_a\\sqrt{a}$ 和 $\\sqrt{b} \\mapsto \\epsilon_b\\sqrt{b}$，其中符号 $\\epsilon_a, \\epsilon_b \\in \\{-1, 1\\}$。由于扩张次数为 $[L:\\mathbb{Q}]=4$，所有四种符号组合都会出现。因此，$\\mathrm{Gal}(L/\\mathbb{Q}) \\cong \\mathbb{Z}/2\\mathbb{Z} \\times \\mathbb{Z}/2\\mathbb{Z}$，这是一个阿贝尔群。\n\n令 $p$ 为一个奇有理素数，满足 $p \\nmid 2ab$。此条件确保 $p$ 在 $L/\\mathbb{Q}$ 中是非分歧的。令 $\\mathfrak{p}$ 为 $L$ 的整数环中位于 $p$ 之上的一个素理想。阿廷符号 $\\left(\\dfrac{L/\\mathbb{Q}}{\\mathfrak{p}}\\right)$ 是 $\\mathrm{Gal}(L/\\mathbb{Q})$ 的一个元素。由于 $\\mathrm{Gal}(L/\\mathbb{Q})$ 是阿贝尔群，阿廷符号不依赖于 $p$ 之上的素理想 $\\mathfrak{p}$ 的选择，我们将其记为 $\\sigma_p$。根据定义，对于 $L$ 的整数环中的任意元素 $\\alpha$，$\\sigma_p$ 满足同余式 $\\sigma_p(\\alpha) \\equiv \\alpha^p \\pmod{\\mathfrak{p}}$。我们的目标是确定 $\\sigma_p$ 在元素 $\\sqrt{a}$、$\\sqrt{b}$ 和 $\\sqrt{ab}$ 上的作用。\n\n$\\mathrm{Gal}(L/\\mathbb{Q})$ 的三个二次特征对应于三个二次子扩张 $K_a = \\mathbb{Q}(\\sqrt{a})$，$K_b = \\mathbb{Q}(\\sqrt{b})$ 和 $K_{ab} = \\mathbb{Q}(\\sqrt{ab})$。对于任意 $\\sigma \\in \\mathrm{Gal}(L/\\mathbb{Q})$，与 $K_a$ 相关联的特征的值是符号 $\\epsilon_a$，使得 $\\sigma(\\sqrt{a}) = \\epsilon_a \\sqrt{a}$。其他两个子扩张的情况类似。我们需要找到当 $\\sigma = \\sigma_p$ 时的这些符号。\n\n我们使用阿廷符号的函子性，该性质指出，对于任何子扩张 $K \\subseteq L$，$L/\\mathbb{Q}$ 的阿廷符号在 $K$ 上的限制是 $K/\\mathbb{Q}$ 的阿廷符号。即 $\\sigma_p|_K = \\left(\\dfrac{K/\\mathbb{Q}}{\\mathfrak{p} \\cap \\mathcal{O}_K}\\right)$，其中 $\\mathcal{O}_K$ 是 $K$ 的整数环。\n\n我们已知二次扩张 $\\mathbb{Q}(\\sqrt{d})$（其中 $d$ 是一个无平方因子整数且 $p \\nmid 2d$）的阿廷符号与勒让德符号之间的关系。阿廷符号 $\\left(\\dfrac{\\mathbb{Q}(\\sqrt{d})/\\mathbb{Q}}{p}\\right)$ 是 $\\mathrm{Gal}(\\mathbb{Q}(\\sqrt{d})/\\mathbb{Q})$ 中唯一的非平凡自同构，当且仅当 $p$ 是惰性的，这发生在 $\\left(\\dfrac{d}{p}\\right) = -1$ 时。它是单位自同构，当且仅当 $p$ 是分裂的，这发生在 $\\left(\\dfrac{d}{p}\\right) = 1$ 时。非平凡自同构将 $\\sqrt{d} \\mapsto -\\sqrt{d}$，而单位自同构将 $\\sqrt{d} \\mapsto \\sqrt{d}$。因此，阿廷符号在 $\\sqrt{d}$ 上的作用是乘以勒让德符号：\n$$ \\left(\\dfrac{\\mathbb{Q}(\\sqrt{d})/\\mathbb{Q}}{p}\\right)(\\sqrt{d}) = \\left(\\dfrac{d}{p}\\right) \\sqrt{d} $$\n\n我们现在将这个框架应用于三个子扩张中的每一个。\n\n1.  **对于 $K_a = \\mathbb{Q}(\\sqrt{a})$ 的特征：**\n    $\\sigma_p$ 在 $\\sqrt{a}$ 上的作用由其在 $K_a$ 上的限制所决定。\n    $$ \\sigma_p(\\sqrt{a}) = (\\sigma_p|_{K_a})(\\sqrt{a}) = \\left(\\dfrac{K_a/\\mathbb{Q}}{p}\\right)(\\sqrt{a}) $$\n    使用 $d=a$ 的基本事实，我们得到：\n    $$ \\left(\\dfrac{\\mathbb{Q}(\\sqrt{a})/\\mathbb{Q}}{p}\\right)(\\sqrt{a}) = \\left(\\dfrac{a}{p}\\right)\\sqrt{a} $$\n    因此，$\\sigma_p$ 在与 $K_a$ 相关联的特征下的像是 $\\left(\\dfrac{a}{p}\\right)$。\n\n2.  **对于 $K_b = \\mathbb{Q}(\\sqrt{b})$ 的特征：**\n    类似地，$\\sigma_p$ 在 $\\sqrt{b}$ 上的作用由其在 $K_b$ 上的限制所决定。\n    $$ \\sigma_p(\\sqrt{b}) = (\\sigma_p|_{K_b})(\\sqrt{b}) = \\left(\\dfrac{K_b/\\mathbb{Q}}{p}\\right)(\\sqrt{b}) $$\n    使用 $d=b$ 的基本事实，我们得到：\n    $$ \\left(\\dfrac{\\mathbb{Q}(\\sqrt{b})/\\mathbb{Q}}{p}\\right)(\\sqrt{b}) = \\left(\\dfrac{b}{p}\\right)\\sqrt{b} $$\n    因此，$\\sigma_p$ 在与 $K_b$ 相关联的特征下的像是 $\\left(\\dfrac{b}{p}\\right)$。\n\n3.  **对于 $K_{ab} = \\mathbb{Q}(\\sqrt{ab})$ 的特征：**\n    由于 $p \\nmid 2ab$，$a$ 和 $b$ 是无平方因子的，且 $a \\neq b$，因此 $ab$ 不是一个平方数，所以我们可以写成 $ab = d \\cdot k^2$，其中 $d$ 是一个无平方因子整数。该域为 $\\mathbb{Q}(\\sqrt{ab}) = \\mathbb{Q}(\\sqrt{d})$。注意到 $p \\nmid d$，因为 $p \\nmid a$ 且 $p \\nmid b$。我们可以将基本事实应用于 $d$。\n    $\\sigma_p$ 在 $\\sqrt{ab}$ 上的作用由其在 $K_{ab}$ 上的限制所决定。\n    $$ \\sigma_p(\\sqrt{ab}) = (\\sigma_p|_{K_{ab}})(\\sqrt{ab}) = \\left(\\dfrac{K_{ab}/\\mathbb{Q}}{p}\\right)(\\sqrt{ab}) $$\n    使用 $ab$ 的无平方因子部分的基本事实，我们有：\n    $$ \\left(\\dfrac{\\mathbb{Q}(\\sqrt{ab})/\\mathbb{Q}}{p}\\right)(\\sqrt{ab}) = \\left(\\dfrac{ab}{p}\\right)\\sqrt{ab} $$\n    这是因为对于一个非平方整数 $D$，勒让德符号 $\\left(\\dfrac{D}{p}\\right)$ 被定义为 $\\left(\\dfrac{D_{\\text{sf}}}{p}\\right)$，其中 $D_{\\text{sf}}$ 是 $D$ 的无平方因子部分。\n    因此，$\\sigma_p$ 在与 $K_{ab}$ 相关联的特征下的像是 $\\left(\\dfrac{ab}{p}\\right)$。\n\n    另外，我们可以使用 $\\sigma_p$ 的同态性质：\n    $$ \\sigma_p(\\sqrt{ab}) = \\sigma_p(\\sqrt{a}\\sqrt{b}) = \\sigma_p(\\sqrt{a})\\sigma_p(\\sqrt{b}) = \\left( \\left(\\dfrac{a}{p}\\right)\\sqrt{a} \\right) \\left( \\left(\\dfrac{b}{p}\\right)\\sqrt{b} \\right) = \\left(\\dfrac{a}{p}\\right)\\left(\\dfrac{b}{p}\\right)\\sqrt{ab} $$\n    根据勒让德符号的乘法性质，$\\left(\\dfrac{a}{p}\\right)\\left(\\dfrac{b}{p}\\right) = \\left(\\dfrac{ab}{p}\\right)$。这证实了结果。\n\n问题要求一个行矩阵，其元素分别为与 $K_a$、$K_b$ 和 $K_{ab}$ 相关联的二次特征下的三个像。这些是 $\\sigma_p$ 乘以 $\\sqrt{a}$、$\\sqrt{b}$ 和 $\\sqrt{ab}$ 的标量。\n结果是勒让德符号的有序三元组：$\\left(\\dfrac{a}{p}\\right)$、$\\left(\\dfrac{b}{p}\\right)$、$\\left(\\dfrac{ab}{p}\\right)$。", "answer": "$$ \\boxed{ \\begin{pmatrix} \\left(\\dfrac{a}{p}\\right) & \\left(\\dfrac{b}{p}\\right) & \\left(\\dfrac{ab}{p}\\right) \\end{pmatrix} } $$", "id": "3024945"}, {"introduction": "当阿尔廷符号被推广到阿贝尔扩张之外时，它的威力最为强大，此时它不再是单个元素，而是一个共轭类。这个练习 [@problem_id:3024933] 为 $x^3 - 2$ 的分裂域提供了一个动手计算的机会，这是非阿贝尔伽罗瓦群（$S_3$）的一个经典例子。你将看到一个多项式模素数的因式分解模式如何直接揭示相应弗罗贝尼乌斯共轭类的循环结构，这是现代数论的基石之一。", "problem": "设 $K$ 是多项式 $f(x) = x^3 - 2$ 在 $\\mathbb{Q}$ 上的分裂域，并设 $G = \\operatorname{Gal}(K/\\mathbb{Q}) \\cong S_3$，$S_3$ 是三元对称群。对于在 $K$ 中非分歧的有理素数 $p$，$p$ 处的阿尔廷符号（弗罗贝尼乌斯元），记为 $\\operatorname{Frob}_p \\in G$，是由弗罗贝尼乌斯自同构对 $f(x)$ 模 $p$ 的根的作用所决定的共轭类。$\\operatorname{Frob}_p$ 的循环类型由 $f(x)$ 在有限域 $\\mathbb{F}_p$ 上的因式分解模式决定：三个线性因子对应于单位元类，一个线性因子乘以一个不可约二次因子对应于一个对换类，一个不可约三次因子对应于一个三轮换类。考虑非分歧素数 $p \\in \\{5,7,11,13,17,19\\}$。通过将 $f(x)$ 模 $p$ 因式分解，并将循环类型与适当的共轭类匹配，确定每个 $p$ 的弗罗贝尼乌斯共轭类 $\\operatorname{Frob}_p \\in S_3$。然后，使用 $S_3$ 的标准 2 维不可约表示的特征标 $\\chi_{\\mathrm{std}}$，计算和\n$$\nS \\;=\\; \\sum_{p \\in \\{5,7,11,13,17,19\\}} \\chi_{\\mathrm{std}}\\!\\left(\\operatorname{Frob}_p\\right).\n$$\n将你的最终答案表示为一个精确的整数。无需四舍五入。", "solution": "问题陈述是有效的。这是一个在代数数论和表示论领域内提法得当的问题，没有科学或逻辑上的缺陷。\n\n任务是计算和 $S = \\sum_{p \\in \\{5,7,11,13,17,19\\}} \\chi_{\\mathrm{std}}(\\operatorname{Frob}_p)$，其中 $\\chi_{\\mathrm{std}}$ 是 $S_3$ 的标准 2 维不可约表示的特征标，$\\operatorname{Frob}_p$ 是伽罗瓦扩张 $K/\\mathbb{Q}$ 的阿尔廷符号，其中 $K$ 是 $f(x) = x^3 - 2$ 的分裂域。\n\n解答包括三个部分：\n1.  确定 $S_3$ 的每个共轭类的特征标 $\\chi_{\\mathrm{std}}$ 的值。\n2.  对于给定集合中的每个素数 $p$，通过分析 $f(x) \\pmod p$ 的因式分解来确定 $\\operatorname{Frob}_p$ 的共轭类。\n3.  对相应的特征标值求和。\n\n首先，我们确定特征标 $\\chi_{\\mathrm{std}}$。群 $S_3$ 有三个共轭类，它们对应于置换的循环结构：\n- 单位元类，$C_e = \\{e\\}$，对应于循环类型 $1+1+1$。\n- 对换类，$C_{(12)} = \\{(12), (13), (23)\\}$，对应于循环类型 $2+1$。\n- 3-轮换类，$C_{(123)} = \\{(123), (132)\\}$，对应于循环类型 $3$。\n\n特征标 $\\chi_{\\mathrm{std}}$ 可以通过考虑 $S_3$ 在 $\\mathbb{C}^3$ 上的标准置换表示来找到，其特征标 $\\chi_{\\text{perm}}$ 计算一个置换的不动点个数。这个表示分解为平凡表示（特征标为 $\\chi_{\\text{triv}}$）和标准 2 维表示（特征标为 $\\chi_{\\mathrm{std}}$）的直和。因此，$\\chi_{\\mathrm{std}} = \\chi_{\\text{perm}} - \\chi_{\\text{triv}}$。\n\n特征标值为：\n- 对于单位元类 $C_e$：$\\chi_{\\text{perm}}(e)=3$，$\\chi_{\\text{triv}}(e)=1$。所以，$\\chi_{\\mathrm{std}}(e) = 3 - 1 = 2$。\n- 对于对换类 $C_{(12)}$：$\\chi_{\\text{perm}}((12))=1$，$\\chi_{\\text{triv}}((12))=1$。所以，$\\chi_{\\mathrm{std}}((12)) = 1 - 1 = 0$。\n- 对于 3-轮换类 $C_{(123)}$：$\\chi_{\\text{perm}}((123))=0$，$\\chi_{\\text{triv}}((123))=1$。所以，$\\chi_{\\mathrm{std}}((123)) = 0 - 1 = -1$。\n\n第二，我们确定每个素数 $p \\in \\{5,7,11,13,17,19\\}$ 的 $\\operatorname{Frob}_p$ 的共轭类。问题陈述指出 $\\operatorname{Frob}_p$ 的循环类型与 $f(x)=x^3-2$ 模 $p$ 的因式分解模式相匹配。\n- $f(x)$ 分解为三个线性因子：$\\operatorname{Frob}_p$ 是单位元，$\\chi_{\\mathrm{std}}(\\operatorname{Frob}_p)=2$。\n- $f(x)$ 分解为一个线性因子和一个不可约二次因子：$\\operatorname{Frob}_p$ 是一个对换，$\\chi_{\\mathrm{std}}(\\operatorname{Frob}_p)=0$。\n- $f(x)$ 是不可约的：$\\operatorname{Frob}_p$ 是一个 3-轮换，$\\chi_{\\mathrm{std}}(\\operatorname{Frob}_p)=-1$。\n\n$x^3-2$ 在 $\\mathbb{F}_p$ 上的因式分解取决于 $p$ 模 $3$ 的同余类。\n- 如果 $p \\equiv 2 \\pmod 3$，映射 $y \\mapsto y^3$ 是 $\\mathbb{F}_p$ 的一个置换。因此，$x^3-2 \\equiv 0 \\pmod p$ 在 $\\mathbb{F}_p$ 中恰好有一个解。这意味着 $f(x)$ 分解为一个线性因子和一个不可约二次因子。给定集合中满足此条件的素数是 $p=5$, $p=11$ 和 $p=17$。对于这些素数，$\\operatorname{Frob}_p$ 属于对换类。\n    - 对于 $p \\in \\{5, 11, 17\\}$，我们有 $\\chi_{\\mathrm{std}}(\\operatorname{Frob}_p) = 0$。\n\n- 如果 $p \\equiv 1 \\pmod 3$，方程 $x^3-2 \\equiv 0 \\pmod p$ 在 $\\mathbb{F}_p$ 中要么有三个不同的解，要么没有解。这取决于 $2$ 是否是模 $p$ 的三次剩余。根据三次剩余的 Euler 判别法，$2$ 是模 $p$ 的三次剩余当且仅当 $2^{(p-1)/3} \\equiv 1 \\pmod p$。如果此式成立，$f(x)$ 完全分解。否则，$f(x)$ 是不可约的。给定集合中满足 $p \\equiv 1 \\pmod 3$ 的素数是 $p=7$, $p=13$ 和 $p=19$。\n    - 对于 $p=7$：我们计算 $2^{(7-1)/3} = 2^2 = 4 \\pmod 7$。因为 $4 \\not\\equiv 1 \\pmod 7$，所以 $2$ 不是三次剩余。因此，$x^3-2$ 在 $\\mathbb{F}_7$ 上是不可约的。$\\operatorname{Frob}_7$ 属于 3-轮换类，且 $\\chi_{\\mathrm{std}}(\\operatorname{Frob}_7) = -1$。\n    - 对于 $p=13$：我们计算 $2^{(13-1)/3} = 2^4 = 16 \\equiv 3 \\pmod{13}$。因为 $3 \\not\\equiv 1 \\pmod{13}$，所以 $2$ 不是三次剩余。因此，$x^3-2$ 在 $\\mathbb{F}_{13}$ 上是不可约的。$\\operatorname{Frob}_{13}$ 属于 3-轮换类，且 $\\chi_{\\mathrm{std}}(\\operatorname{Frob}_{13}) = -1$。\n    - 对于 $p=19$：我们计算 $2^{(19-1)/3} = 2^6 = 64 \\equiv 7 \\pmod{19}$。因为 $7 \\not\\equiv 1 \\pmod{19}$，所以 $2$ 不是三次剩余。因此，$x^3-2$ 在 $\\mathbb{F}_{19}$ 上是不可约的。$\\operatorname{Frob}_{19}$ 属于 3-轮换类，且 $\\chi_{\\mathrm{std}}(\\operatorname{Frob}_{19}) = -1$。\n\n第三，我们计算和 $S$：\n$$\nS = \\chi_{\\mathrm{std}}(\\operatorname{Frob}_5) + \\chi_{\\mathrm{std}}(\\operatorname{Frob}_7) + \\chi_{\\mathrm{std}}(\\operatorname{Frob}_{11}) + \\chi_{\\mathrm{std}}(\\operatorname{Frob}_{13}) + \\chi_{\\mathrm{std}}(\\operatorname{Frob}_{17}) + \\chi_{\\mathrm{std}}(\\operatorname{Frob}_{19})\n$$\n$$\nS = 0 + (-1) + 0 + (-1) + 0 + (-1)\n$$\n$$\nS = -3\n$$\n该和是所要求的精确整数。", "answer": "$$\\boxed{-3}$$", "id": "3024933"}]}