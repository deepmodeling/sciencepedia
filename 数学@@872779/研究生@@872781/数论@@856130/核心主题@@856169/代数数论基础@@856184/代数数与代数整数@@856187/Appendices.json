{"hands_on_practices": [{"introduction": "从基础定义出发是掌握抽象概念的关键。这个练习要求我们直接运用代数整数的定义来分析一个在二次域理论中至关重要的例子[@problem_id:3007347]。通过为给定数 $\\alpha = \\frac{1 + \\sqrt{d}}{2}$ 构建其在 $\\mathbb{Q}$ 上的最小多项式，并利用 $d \\equiv 1 \\pmod{4}$ 的条件来检验其系数是否为整数，我们能深刻理解为何二次域的整数环在特定条件下会呈现出这种特殊形式。", "problem": "设 $d$ 为一个无平方因子的整数，满足 $d \\equiv 1 \\pmod{4}$ 且 $d \\neq 1$。定义 $\\alpha = \\frac{1 + \\sqrt{d}}{2} \\in \\mathbb{C}$。仅使用代数数、代数整数和在 $\\mathbb{Q}$ 上的最小多项式的定义，完成以下任务：\n\n- 通过消去 $\\sqrt{d}$，构造一个 $\\alpha$ 满足的首一多项式 $f(x) \\in \\mathbb{Q}[x]$。\n- 利用关于 $d$ 的同余条件，证明 $f(x) \\in \\mathbb{Z}[x]$。\n- 证明 $f(x)$ 在 $\\mathbb{Q}$ 上是不可约的，因此它等于 $\\alpha$ 在 $\\mathbb{Q}$ 上的最小多项式。\n- 根据基本定义，判断 $\\alpha$ 是否为代数整数。\n\n将明确的最小多项式 $f(x)$ 作为你的最终答案。最终答案中不要包含任何推导过程。不需要数值近似。", "solution": "问题要求分析数 $\\alpha = \\frac{1 + \\sqrt{d}}{2}$，其中 $d$ 是一个无平方因子的整数，满足 $d \\equiv 1 \\pmod{4}$ 且 $d \\neq 1$。此分析将根据基本定义进行，使用代数数、代数整数和在 $\\mathbb{Q}$ 上的最小多项式的定义。\n\n首先，我们根据问题的约束陈述相关定义。\n**代数数**是一个复数，它是有理系数非零多项式（即 $\\mathbb{Q}[x]$ 中的多项式）的根。\n**代数整数**是一个复数，它是整系数首一多项式（即 $\\mathbb{Z}[x]$ 中的首一多项式）的根。\n代数数 $\\alpha$ 在 $\\mathbb{Q}$ 上的**最小多项式**是 $\\mathbb{Q}[x]$ 中唯一的、具有 $\\alpha$ 作为根的、次数最小的正次数首一多项式。其一个关键性质是该多项式在 $\\mathbb{Q}$ 上是不可约的。\n\n问题分为四个连续的任务。\n\n**1. 构造一个 $\\alpha$ 满足的首一多项式 $f(x) \\in \\mathbb{Q}[x]$。**\n令 $x = \\alpha = \\frac{1 + \\sqrt{d}}{2}$。我们的目标是找到一个 $x$ 的有理系数多项式关系。我们可以通过分离无理数项 $\\sqrt{d}$，然后平方来消去根式来实现这一点。\n$$x = \\frac{1 + \\sqrt{d}}{2}$$\n两边乘以 $2$ 得：\n$$2x = 1 + \\sqrt{d}$$\n两边减 1 以分离根式：\n$$2x - 1 = \\sqrt{d}$$\n将方程两边平方以消去平方根：\n$$(2x - 1)^2 = d$$\n$$4x^2 - 4x + 1 = d$$\n重新整理各项，形成一个多项式方程：\n$$4x^2 - 4x + (1-d) = 0$$\n这是一个以 $\\alpha$ 为根的整系数多项式方程。为了找到一个首一多项式，我们将整个方程除以首项系数 4。\n$$x^2 - x + \\frac{1-d}{4} = 0$$\n我们定义 $f(x) = x^2 - x + \\frac{1-d}{4}$。根据构造，有 $f(\\alpha) = 0$。$f(x)$ 的系数是 $1$、$-1$ 和 $\\frac{1-d}{4}$。因为 $d$ 是整数，所有这些系数都是有理数。因此，$f(x)$ 是一个 $\\alpha$ 满足的 $\\mathbb{Q}[x]$ 中的首一多项式。\n\n**2. 利用关于 $d$ 的同余条件，证明 $f(x) \\in \\mathbb{Z}[x]$。**\n要使 $f(x)$ 属于 $\\mathbb{Z}[x]$，它的所有系数都必须是整数。$f(x)$ 的系数是 $1$、$-1$ 和 $\\frac{1-d}{4}$。系数 $1$ 和 $-1$ 显然是整数。我们必须验证常数项 $\\frac{1-d}{4}$ 也是一个整数。\n我们已知条件 $d \\equiv 1 \\pmod{4}$。根据模同余的定义，这意味着 $d-1$ 可以被 $4$ 整除。\n因此，存在一个整数 $k$ 使得 $d-1 = 4k$。\n这意味着 $1-d = -(d-1) = -4k$。\n现在我们将这个结果代入 $f(x)$ 的常数项表达式中：\n$$\\frac{1-d}{4} = \\frac{-4k}{4} = -k$$\n因为 $k$ 是整数，所以 $-k$ 也是整数。\n因此，多项式 $f(x) = x^2 - x + (-k)$ 的所有系数都是整数。这证明了 $f(x) \\in \\mathbb{Z}[x]$。\n\n**3. 证明 $f(x)$ 在 $\\mathbb{Q}$ 上是不可约的，因此是 $\\alpha$ 的最小多项式。**\n要证明 $f(x)$ 是 $\\alpha$ 在 $\\mathbb{Q}$ 上的最小多项式，我们需要证明它在 $\\mathbb{Q}$ 上是不可约的。\n由于 $f(x)$ 是一个二次多项式，它在 $\\mathbb{Q}$ 上可约当且仅当它在 $\\mathbb{Q}$ 中有根。$f(x)=0$ 的根由二次求根公式给出：\n$$x = \\frac{-(-1) \\pm \\sqrt{(-1)^2 - 4(1)\\left(\\frac{1-d}{4}\\right)}}{2(1)} = \\frac{1 \\pm \\sqrt{1 - (1-d)}}{2} = \\frac{1 \\pm \\sqrt{d}}{2}$$\n这两个根是 $\\alpha = \\frac{1+\\sqrt{d}}{2}$ 和它的共轭根 $\\frac{1-\\sqrt{d}}{2}$。\n要使 $f(x)$ 在 $\\mathbb{Q}$ 上可约，这些根中至少有一个必须是有理数。我们来检验 $\\alpha = \\frac{1+\\sqrt{d}}{2}$ 是否可以为有理数。如果 $\\alpha \\in \\mathbb{Q}$，那么 $2\\alpha \\in \\mathbb{Q}$，由此可知 $2\\alpha - 1 = \\sqrt{d}$ 也必须在 $\\mathbb{Q}$ 中。\n我们已知 $d$ 是一个无平方因子整数且 $d \\neq 1$。\n我们来证明 $\\sqrt{d}$ 是无理数。为寻求矛盾，假设 $\\sqrt{d}$ 是有理数。那么存在整数 $p, q$ 使得 $\\sqrt{d} = \\frac{p}{q}$，其中 $q \\neq 0$ 且 $\\gcd(p, q) = 1$。\n两边平方得到 $d = \\frac{p^2}{q^2}$，即 $dq^2 = p^2$。\n从这个方程中，我们看到 $q^2$ 必须整除 $p^2$。由于 $p$ 和 $q$ 是互质的，$p^2$ 和 $q^2$ 也是互质的。$q^2$ 整除 $p^2$ 的唯一可能是 $q^2 = 1$，这意味着 $q = \\pm 1$。\n这意味着 $d = (\\pm p)^2 = p^2$。所以，$d$ 必须是一个整数的完全平方数。\n然而，问题陈述 $d$ 是一个无平方因子整数。一个整数是无平方因子的，如果它的素因数分解中不包含重复的因子。如果对于某个整数 $p$ 有 $d=p^2$，那么 $d$ 能被平方数 $p^2$ 整除。要使 $d$ 是无平方因子的，$p^2$ 必须是 $1$，所以 $p = \\pm 1$ 且 $d=1$。\n但问题明确指出 $d \\neq 1$。\n这就产生了一个矛盾，所以我们最初的假设——$\\sqrt{d}$ 是有理数——必定是错误的。因此，$\\sqrt{d}$ 是无理数。\n由于 $\\sqrt{d}$ 是无理数，根 $\\frac{1 \\pm \\sqrt{d}}{2}$ 也是无理数。\n因为二次多项式 $f(x)$ 在 $\\mathbb{Q}$ 中没有根，所以它在 $\\mathbb{Q}$ 上是不可约的。\n根据定义，$\\alpha$ 的最小多项式是 $\\mathbb{Q}[x]$ 中以 $\\alpha$ 为根的次数最低的首一多项式。最小多项式的次数不能是 $1$，因为那将意味着 $\\alpha$ 是有理数，而我们刚刚已经证明了它不是。因此，次数必须大于 $1$。我们找到了一个次数为 $2$ 的、在 $\\mathbb{Q}[x]$ 中的首一不可约多项式 $f(x)$，它满足 $f(\\alpha) = 0$。因此，它必定是 $\\alpha$ 在 $\\mathbb{Q}$ 上的最小多项式。\n\n**4. 根据基本定义，判断 $\\alpha$ 是否为代数整数。**\n代数整数被定义为一个数，它是一个整系数首一多项式的根。\n在步骤 1 中，我们构造了多项式 $f(x) = x^2 - x + \\frac{1-d}{4}$，根据构造，它是首一的，并以 $\\alpha$ 为根。\n在步骤 2 中，我们使用给定条件 $d \\equiv 1 \\pmod{4}$ 证明了 $f(x)$ 的所有系数都是整数，即 $f(x) \\in \\mathbb{Z}[x]$。\n由于 $\\alpha$ 是整系数首一多项式 $f(x) \\in \\mathbb{Z}[x]$ 的一个根，$\\alpha$ 满足代数整数的定义。\n因此，根据基本定义，我们得出结论：$\\alpha = \\frac{1 + \\sqrt{d}}{2}$ 是一个代数整数。\n\n通过这个过程确定的明确的最小多项式 $f(x)$ 是 $x^2 - x + \\frac{1-d}{4}$。", "answer": "$$\n\\boxed{x^2 - x + \\frac{1-d}{4}}\n$$", "id": "3007347"}, {"introduction": "代数数论的一个核心主题是唯一因子分解的失效以及如何通过理想理论来“修复”它。本练习以经典的 $\\mathbb{Q}(\\sqrt{-5})$ 为例，引导我们亲手展示一个整数（例如 $6$）如何在该数域的整数环中拥有两种截然不同的不可约因子分解[@problem_id:3007385]。通过将关注点从元素转向理想，并计算理想类群的阶（即类数），我们不仅能解决这个看似矛盾的现象，还能学会量化唯一因子分解性质“失效”的程度。", "problem": "设 $K = \\mathbb{Q}(\\sqrt{-5})$，并令 $\\mathcal{O}_K$ 表示其整数环。回顾一下，一个整环是唯一分解整环（UFD），如果其中每个非零非单位元都能以在不计顺序和单位元的情况下唯一的方式写成不可约元的乘积。相对地，戴德金整环是一个整环，其中每个非零理想都能唯一地分解为素理想的乘积。利用域范数、理想范数以及代数整数、理想、素理想和理想类群的基本定义，完成以下任务：\n- 通过给出一个元素分解为不可约元的两种不同方式，明确展示 $\\mathcal{O}_K$ 中元素唯一分解的失败，并从基本原理出发证明这些因子的不可约性。\n- 通过将主理想 $\\left(2\\right)$、$\\left(3\\right)$ 和 $\\left(1 \\pm \\sqrt{-5}\\right)$ 分解为 $\\mathcal{O}_K$ 中的素理想并计算它们的范数，明确证明理想的唯一分解成立；解释为什么这些分解在 $\\mathcal{O}_K$ 中是唯一的。\n- 通过确定理想类群 $\\operatorname{Cl}(\\mathcal{O}_K)$ 的确切大小（类数 $h_K$），借助理想类群 $\\operatorname{Cl}(\\mathcal{O}_K)$ 的结构来解决这个表面上的矛盾，过程中仅使用基本事实和如闵可夫斯基界等成熟工具，并结合 $\\mathcal{O}_K$ 中对小素数的显式分解。\n\n你的最终答案必须是 $h_K$ 的精确整数值，表示为单个整数。不需要四舍五入，最终答案中也不应包含任何单位。", "solution": "该问题要求分析二次数域 $K = \\mathbb{Q}(\\sqrt{-5})$ 的整数环 $\\mathcal{O}_K$ 的算术性质。我们将展示元素唯一分解的失败，证明理想的唯一分解成立，然后计算类数 $h_K$ 来调和这些事实。\n\n首先，我们确定整数环 $\\mathcal{O}_K$。对于二次域 $K = \\mathbb{Q}(\\sqrt{d})$，其中 $d$ 是一个无平方因子的整数，如果 $d \\equiv 2$ 或 $3 \\pmod{4}$，其整数环为 $\\mathcal{O}_K = \\mathbb{Z}[\\sqrt{d}]$；如果 $d \\equiv 1 \\pmod{4}$，其整数环为 $\\mathcal{O}_K = \\mathbb{Z}[\\frac{1+\\sqrt{d}}{2}]$。在本例中，$d = -5$，它是一个无平方因子的整数且满足 $-5 \\equiv 3 \\pmod{4}$。因此，整数环为 $\\mathcal{O}_K = \\mathbb{Z}[\\sqrt{-5}] = \\{a + b\\sqrt{-5} \\mid a, b \\in \\mathbb{Z}\\}$。\n\n一个关键工具是域范数 $N: K \\to \\mathbb{Q}$，对于元素 $\\alpha = a + b\\sqrt{-5}$，其范数由 $N(\\alpha) = (a + b\\sqrt{-5})(a - b\\sqrt{-5}) = a^2 + 5b^2$ 给出。对于任何 $\\alpha \\in \\mathcal{O}_K$，其范数 $N(\\alpha)$ 是一个非负整数。范数是乘性的，即对于任何 $\\alpha, \\beta \\in K$，有 $N(\\alpha\\beta) = N(\\alpha)N(\\beta)$。\n\n$\\mathcal{O}_K$ 中的单位元是满足 $N(\\alpha) = 1$ 的元素 $\\alpha \\in \\mathcal{O}_K$。对于 $\\alpha = a+b\\sqrt{-5}$，我们必须有 $a^2+5b^2=1$。由于 $a, b \\in \\mathbb{Z}$，唯一的解是 $b=0$ 和 $a = \\pm 1$。因此，$\\mathcal{O}_K$ 中仅有的单位元是 $1$ 和 $-1$。\n\n**1. 元素唯一分解的失败**\n\n我们通过展示一个元素分解为不可约元的两种不同方式，来证明 $\\mathcal{O}_K$ 不是一个唯一分解整环（UFD）。考虑整数 $6$。我们可以用两种方式写出 $6$：\n$$6 = 2 \\cdot 3$$\n$$6 = (1 + \\sqrt{-5})(1 - \\sqrt{-5})$$\n为了表明这是两种不同的不可约分解，我们必须证明因子 $2, 3, 1+\\sqrt{-5}$ 和 $1-\\sqrt{-5}$ 是不可约的，并且彼此不相伴。由于唯一的单位元是 $\\pm 1$，如果两个元素中的一个是另一个的相反数，则它们是相伴元。很明显，$2$ 不是 $3$ 的相伴元，它们也都不是 $1 \\pm \\sqrt{-5}$ 的相伴元。\n\n如果一个元素 $\\alpha \\in \\mathcal{O}_K$ 不是单位元，且任何分解 $\\alpha = \\beta\\gamma$ 都意味着 $\\beta$ 或 $\\gamma$ 是单位元，则 $\\alpha$ 是不可约的。使用范数，这意味着如果 $N(\\alpha) = N(\\beta)N(\\gamma)$，那么必然有 $N(\\beta)=1$ 或 $N(\\gamma)=1$。\n\n-   **$2$ 的不可约性**：$N(2) = 2^2 = 4$。如果 $2$ 是可约的，比如说 $2 = \\alpha\\beta$，其中 $\\alpha$ 和 $\\beta$ 都不是单位元，那么 $N(2) = N(\\alpha)N(\\beta) = 4$。这意味着 $N(\\alpha)=2$。我们必须检查是否存在范数为 $2$ 的元素 $a+b\\sqrt{-5} \\in \\mathcal{O}_K$。这需要解方程 $a^2+5b^2=2$，其中 $a, b$ 为整数。如果 $b=0$，则 $a^2=2$ 没有整数解。如果 $|b| \\ge 1$，则 $5b^2 \\ge 5 > 2$。因此，$\\mathcal{O}_K$ 中不存在范数为 $2$ 的元素。所以，$2$ 是不可约的。\n\n-   **$3$ 的不可约性**：$N(3) = 3^2 = 9$。如果 $3$ 是可约的，比如说 $3 = \\alpha\\beta$，那么 $N(3)=N(\\alpha)N(\\beta)=9$，这意味着 $N(\\alpha)=3$。我们寻找范数为 $3$ 的元素 $a+b\\sqrt{-5}$。由于与上面相同的原因，方程 $a^2+5b^2=3$ 没有整数解。因此，$3$ 是不可约的。\n\n-   **$1 \\pm \\sqrt{-5}$ 的不可约性**：$N(1+\\sqrt{-5}) = 1^2+5(1^2) = 6$。如果 $1+\\sqrt{-5}$ 是可约的，即 $1+\\sqrt{-5} = \\alpha\\beta$，那么 $N(1+\\sqrt{-5})=N(\\alpha)N(\\beta)=6$。一个真因子 $\\alpha$ 的范数 $N(\\alpha)$ 必须是 $6$ 的真因子，即 $N(\\alpha)=2$ 或 $N(\\alpha)=3$。正如我们刚刚证明的，$\\mathcal{O}_K$ 中不存在范数为 $2$ 或 $3$ 的元素。因此，$1+\\sqrt{-5}$ 是不可约的。同样的论证也适用于 $1-\\sqrt{-5}$，因为 $N(1-\\sqrt{-5})=6$。\n\n由于 $6 = 2 \\cdot 3 = (1+\\sqrt{-5})(1-\\sqrt{-5})$ 给出了 $6$ 分解为非相伴不可约元素的两种方式，因此 $\\mathcal{O}_K = \\mathbb{Z}[\\sqrt{-5}]$ 不是一个唯一分解整环。\n\n**2. 理想的唯一分解**\n\n非唯一分解的“矛盾”可以通过考虑理想来解决。$\\mathcal{O}_K$ 是一个戴德金整环，其中每个非零真理想都有唯一的分解，即分解为素理想的乘积。让我们来研究由前例中元素生成的主理想。\n\n-   **$(2)$ 的分解**：主理想 $(2)$ 的范数是 $N((2)) = |N(2)| = 4$。任何 $(2)$ 的素理想因子 $\\mathfrak{p}$ 的范数必须整除 $4$。素理想的范数是素数的幂，即 $p^k$。让我们考虑理想 $\\mathfrak{p}_2 = (2, 1+\\sqrt{-5})$。商环 $\\mathcal{O}_K/\\mathfrak{p}_2 = \\mathbb{Z}[\\sqrt{-5}]/(2, 1+\\sqrt{-5})$ 同构于 $\\mathbb{Z}[x]/(x^2+5, 2, 1+x)$。在商环中，$x \\equiv -1$ 且 $2 \\equiv 0$。所以我们有 $\\mathbb{Z}[-1]/(2) \\cong \\mathbb{Z}/(2)$，即域 $\\mathbb{F}_2$。商环的大小是 $2$，所以理想的范数 $N(\\mathfrak{p}_2)=2$。由于其范数是一个素数，$\\mathfrak{p}_2$ 是一个素理想。现在考虑 $\\mathfrak{p}_2^2 = (2, 1+\\sqrt{-5})(2, 1+\\sqrt{-5}) = (4, 2(1+\\sqrt{-5}), (1+\\sqrt{-5})^2) = (4, 2+2\\sqrt{-5}, 1-5+2\\sqrt{-5}) = (4, 2+2\\sqrt{-5}, -4+2\\sqrt{-5})$。每个生成元都是 $2$ 的倍数。此外，$(2+2\\sqrt{-5}) - (-4+2\\sqrt{-5}) = 6$。该理想包含 $4$ 和 $6$，因此它必须包含 $\\gcd(4,6)=2$。因此 $\\mathfrak{p}_2^2 = (2)$。理想 $(2)$ 的唯一分解是 $\\mathfrak{p}_2^2$。这是一个分歧的情况。\n\n-   **$(3)$ 的分解**：$N((3))=|N(3)|=9$。让我们考虑理想 $\\mathfrak{p}_3 = (3, 1+\\sqrt{-5})$ 和 $\\mathfrak{p}_3' = (3, 1-\\sqrt{-5})$。对于 $\\mathfrak{p}_3$，商环 $\\mathcal{O}_K/\\mathfrak{p}_3$ 满足关系 $\\sqrt{-5} \\equiv -1$ 和 $3 \\equiv 0$，所以 $\\mathcal{O}_K/\\mathfrak{p}_3 \\cong \\mathbb{Z}/(3)$，即域 $\\mathbb{F}_3$。因此，$N(\\mathfrak{p}_3)=3$ 且 $\\mathfrak{p}_3$ 是素理想。类似地，对于 $\\mathfrak{p}_3'$，我们有 $\\sqrt{-5} \\equiv 1$ 和 $3 \\equiv 0$，所以 $\\mathcal{O}_K/\\mathfrak{p}_3' \\cong \\mathbb{Z}/(3)$，这意味着 $N(\\mathfrak{p}_3')=3$。现在考虑它们的乘积：$\\mathfrak{p}_3 \\mathfrak{p}_3' = (3, 1+\\sqrt{-5})(3, 1-\\sqrt{-5}) = (9, 3(1-\\sqrt{-5}), 3(1+\\sqrt{-5}), (1+\\sqrt{-5})(1-\\sqrt{-5})) = (9, 3-3\\sqrt{-5}, 3+3\\sqrt{-5}, 6)$。该理想包含 $9$ 和 $6$，因此它包含它们的最大公约数 $3$。由于所有生成元都是 $3$ 的倍数，我们有 $\\mathfrak{p}_3 \\mathfrak{p}_3' = (3)$。因此，$(3)$ 的唯一分解是 $\\mathfrak{p}_3 \\mathfrak{p}_3'$。这是一个分裂的情况。\n\n-   **$(1 \\pm \\sqrt{-5})$ 的分解**：$N((1+\\sqrt{-5}))=6$。它的素因子必然位于有理素数 $2$ 和 $3$ 之上。一个素理想 $\\mathfrak{p}$ 整除一个主理想 $(\\alpha)$ 当且仅当 $\\alpha \\in \\mathfrak{p}$。由于 $1+\\sqrt{-5} \\in (2, 1+\\sqrt{-5})=\\mathfrak{p}_2$ 且 $1+\\sqrt{-5} \\in (3, 1+\\sqrt{-5})=\\mathfrak{p}_3$，因此 $\\mathfrak{p}_2$ 和 $\\mathfrak{p}_3$ 都是 $(1+\\sqrt{-5})$ 的因子。由于理想范数是乘性的，$N((1+\\sqrt{-5}))=N(\\mathfrak{p}_2)N(\\mathfrak{p}_3)=2 \\cdot 3=6$。因此，我们必然有 $(1+\\sqrt{-5}) = \\mathfrak{p}_2 \\mathfrak{p}_3$。类似地，$1-\\sqrt{-5} \\in \\mathfrak{p}_2$ 因为 $1-\\sqrt{-5} = 2-(1+\\sqrt{-5})$。并且 $1-\\sqrt{-5} \\in \\mathfrak{p}_3'=(3, 1-\\sqrt{-5})$。所以 $(1-\\sqrt{-5})=\\mathfrak{p}_2 \\mathfrak{p}_3'$。\n\n理想 $(6)$ 的唯一分解是 $(6)=(2)(3) = \\mathfrak{p}_2^2 \\mathfrak{p}_3 \\mathfrak{p}_3'$。理想的乘积 $(1+\\sqrt{-5})(1-\\sqrt{-5})$ 得到 $(\\mathfrak{p}_2\\mathfrak{p}_3)(\\mathfrak{p}_2\\mathfrak{p}_3')=\\mathfrak{p}_2^2\\mathfrak{p}_3\\mathfrak{p}_3'$，这与之前的唯一分解相同。两种不同的元素分解方式之所以出现，是因为素理想的不同组合，例如 $(\\mathfrak{p}_2^2)$ 和 $(\\mathfrak{p}_3 \\mathfrak{p}_3')$ 对应于主理想 $(2)$ 和 $(3)$，而组合 $(\\mathfrak{p}_2\\mathfrak{p}_3)$ 和 $(\\mathfrak{p}_2\\mathfrak{p}_3')$ 对应于主理想 $(1+\\sqrt{-5})$ 和 $(1-\\sqrt{-5})$。单个的素理想 $\\mathfrak{p}_2$、$\\mathfrak{p}_3$、$\\mathfrak{p}_3'$ 都不是主理想。\n\n**3. 理想类群和类数**\n\n理想类群 $\\operatorname{Cl}(\\mathcal{O}_K)$ 由理想的等价类构成，其中两个理想如果相差一个主理想因子，则它们是等价的。该群的大小，即类数 $h_K$，衡量了 $\\mathcal{O}_K}$ 在多大程度上不是一个主理想整环（PID）。对于戴德金整环，一个环是唯一分解整环当且仅当它是一个主理想整环。\n\n为了求出 $h_K$，我们使用闵可夫斯基界，$M_K = \\frac{n!}{n^n} \\left(\\frac{4}{\\pi}\\right)^{r_2} \\sqrt{|\\Delta_K|}$。对于 $K = \\mathbb{Q}(\\sqrt{-5})$，我们有：\n-   次数 $n = [K:\\mathbb{Q}] = 2$。\n-   实嵌入个数 $r_1=0$；共轭复嵌入对数 $r_2=1$。\n-   域判别式 $\\Delta_K = 4d = 4(-5) = -20$，因为 $-5 \\equiv 3 \\pmod{4}$。\n闵可夫斯基界为 $M_K = \\frac{2!}{2^2} \\left(\\frac{4}{\\pi}\\right)^{1} \\sqrt{|-20|} = \\frac{2}{4} \\cdot \\frac{4}{\\pi} \\sqrt{20} = \\frac{2}{\\pi} (2\\sqrt{5}) = \\frac{4\\sqrt{5}}{\\pi}$。\n使用近似值 $\\sqrt{5} \\approx 2.236$ 和 $\\pi \\approx 3.142$，我们得到 $M_K \\approx \\frac{4 \\times 2.236}{3.142} \\approx \\frac{8.944}{3.142} \\approx 2.847$。\n\n戴德金-库默尔定理意味着理想类群 $\\operatorname{Cl}(\\mathcal{O}_K)$ 由范数小于或等于 $M_K$ 的素理想的类生成。满足 $p \\le M_K$ 的有理素数只有 $p=2$。因此，我们只需要考虑位于素数 $2$ 之上的素理想。\n如上所示，理想 $(2)$ 分解为 $(2)=\\mathfrak{p}_2^2$，其中 $\\mathfrak{p}_2 = (2, 1+\\sqrt{-5})$ 是一个范数为 $2$ 的素理想。因此，类群由理想类 $[\\mathfrak{p}_2]$ 生成。\n\n为了确定类群的结构，我们必须找到 $[\\mathfrak{p}_2]$ 的阶。阶是使得 $\\mathfrak{p}_2^k$ 成为主理想的最小正整数 $k$。\n-   $\\mathfrak{p}_2$ 是主理想吗？如果 $\\mathfrak{p}_2 = (\\alpha)$ 对于某个 $\\alpha \\in \\mathcal{O}_K$ 成立，那么我们将有 $N(\\mathfrak{p}_2) = |N(\\alpha)| = 2$。如第一部分所示，方程 $a^2+5b^2=2$ 没有整数解，所以不存在这样的元素 $\\alpha$。因此，$\\mathfrak{p}_2$ 不是一个主理想，它的类 $[\\mathfrak{p}_2]$ 在 $\\operatorname{Cl}(\\mathcal{O}_K)$ 中不是单位元。这证实了 $h_K > 1$。\n-   考虑 $\\mathfrak{p}_2^2$。我们已经证明 $\\mathfrak{p}_2^2 = (2)$，这是一个主理想。\n这意味着在类群中，$[\\mathfrak{p}_2]^2 = [\\mathfrak{p}_2^2] = [(2)]$，这是单位类。\n\n由于类群由 $[\\mathfrak{p}_2]$ 生成，且 $[\\mathfrak{p}_2]$ 的阶为 $2$，所以类群 $\\operatorname{Cl}(\\mathcal{O}_K)$ 是一个 $2$ 阶循环群。其元素是主理想类（单位元）和包含 $\\mathfrak{p}_2$ 的类。\n因此，$K = \\mathbb{Q}(\\sqrt{-5})$ 的类数是 $h_K=2$。\n表面上的矛盾得以解决：元素的分解不是唯一的，因为存在非主理想，而理想类群的大小 $h_K=2$ 量化了这种失败的程度。", "answer": "$$\\boxed{2}$$", "id": "3007385"}, {"introduction": "数域的判别式和分歧理想是揭示其内部代数结构的关键不变量。这个练习提供了一个在三次域中通过具体计算来探索这些深刻概念的机会[@problem_id:3007358]。通过计算迹配对 (trace pairing) 的格拉姆矩阵 (Gram matrix)，并求出其对偶基，我们将亲眼见证最小多项式的导数 $f'(\\alpha)$ 如何与分歧理想的逆 $\\mathfrak{D}^{-1}$ 紧密联系在一起，从而对判别式的几何与代数意义有更深入的理解。", "problem": "设 $K$ 是三次代数数域 $K=\\mathbb{Q}(\\alpha)$，其中 $\\alpha$ 是不可约多项式 $f(x)=x^{3}-x^{2}-1 \\in \\mathbb{Z}[x]$ 的一个实根。记 $\\mathcal{O}_{K}$ 为 $K$ 的整数环，$\\mathrm{Tr}_{K/\\mathbb{Q}}$ 为从 $K$ 到 $\\mathbb{Q}$ 的域迹，$\\mathfrak{D}=\\mathfrak{D}_{K/\\mathbb{Q}}$ 为 $K$ 在 $\\mathbb{Q}$ 上的差分理想。设 $B(x,y)=\\mathrm{Tr}_{K/\\mathbb{Q}}(xy)$ 是 $K$ 上的迹配对。\n\n仅使用基本定义和熟知的事实，完成以下任务：\n\n1. 从最小多项式关系 $f(\\alpha)=0$（即 $\\alpha^{3}=\\alpha^{2}+1$）出发，通过计算 $\\mathrm{Tr}_{K/\\mathbb{Q}}(1)$, $\\mathrm{Tr}_{K/\\mathbb{Q}}(\\alpha)$, $\\mathrm{Tr}_{K/\\mathbb{Q}}(\\alpha^{2})$, $\\mathrm{Tr}_{K/\\mathbb{Q}}(\\alpha^{3})$ 和 $\\mathrm{Tr}_{K/\\mathbb{Q}}(\\alpha^{4})$ 的值，计算迹配对 $B$ 关于环 $\\mathbb{Z}[\\alpha]$ 的 $\\mathbb{Z}$-基 $\\{1,\\alpha,\\alpha^{2}\\}$ 的格拉姆矩阵 $G$。\n\n2. 计算 $G$ 的行列式，并将其解释为环 $\\mathbb{Z}[\\alpha]$ 的判别式。利用基于无平方因子判别式的整性判据，得出结论 $\\mathcal{O}_{K}=\\mathbb{Z}[\\alpha]$，且域 $K$ 的判别式等于您计算的行列式。\n\n3. 计算逆矩阵 $G^{-1}$，并由此得出 $\\{1,\\alpha,\\alpha^{2}\\}$ 的迹对偶基 $\\{b_{0}^{*},b_{1}^{*},b_{2}^{*}\\}$。该对偶基由 $\\mathrm{Tr}_{K/\\mathbb{Q}}(b_{i}\\,b_{j}^{*})=\\delta_{ij}$ 定义，其中 $b_{0}=1$, $b_{1}=\\alpha$, $b_{2}=\\alpha^{2}$，$\\delta_{ij}$ 是克罗内克 delta。\n\n4. 通过使用 $f(\\alpha)=0$ 对 $\\alpha$ 的幂进行显式降次，验证每个 $b_{i}^{*}$ 都可以写成 $\\mathcal{O}_{K}$ 中的一个元素除以 $f'(\\alpha)=3\\alpha^{2}-2\\alpha$ 的商，并由此推断迹对偶格等于逆差分理想：\n   $$\\mathfrak{D}^{-1}=\\{x\\in K:\\mathrm{Tr}_{K/\\mathbb{Q}}(x\\,\\mathcal{O}_{K})\\subseteq \\mathbb{Z}\\}=\\frac{1}{3\\alpha^{2}-2\\alpha}\\,\\mathcal{O}_{K}.$$\n\n5. 从第4步中确定差分理想 $\\mathfrak{D}$，并利用您的格拉姆矩阵计算，确定域判别式 $\\Delta_{K}$。\n\n将最终答案表示为等于 $\\Delta_{K}$ 的单个整数。无需四舍五入。", "solution": "该问题探究了三次代数数域 $K=\\mathbb{Q}(\\alpha)$ 的算术性质，其中 $\\alpha$ 是不可约多项式 $f(x)=x^{3}-x^{2}-1$ 的一个实根。\n\n**1. 格拉姆矩阵计算**\n\n迹配对 $B(x,y)=\\mathrm{Tr}_{K/\\mathbb{Q}}(xy)$ 关于环 $\\mathbb{Z}[\\alpha]$ 的 $\\mathbb{Z}$-基 $\\{1,\\alpha,\\alpha^{2}\\}$ 的格拉姆矩阵 $G$ 的元素为 $G_{ij} = \\mathrm{Tr}_{K/\\mathbb{Q}}(\\alpha^{i}\\alpha^{j}) = \\mathrm{Tr}_{K/\\mathbb{Q}}(\\alpha^{i+j})$，其中 $i,j \\in \\{0, 1, 2\\}$。为计算这些元素，我们需要 $\\alpha$ 的前几个幂的迹。设 $p_k = \\mathrm{Tr}_{K/\\mathbb{Q}}(\\alpha^k)$。多项式 $P(x)=x^n+a_{n-1}x^{n-1}+\\dots+a_0$ 的根的幂的迹可以使用牛顿和计算。对于 $f(x)=x^{3}-x^{2}-1$，我们有系数 $a_2=-1$, $a_1=0$, $a_0=-1$。\n\n扩张次数为 $n=3$，所以 $p_0 = \\mathrm{Tr}_{K/\\mathbb{Q}}(1) = 3$。\n牛顿和的递推关系为：\n$p_1 + a_{2} = 0 \\implies p_1 - 1 = 0 \\implies p_1 = 1$.\n$p_2 + a_{2}p_1 + 2a_{1} = 0 \\implies p_2 + (-1)(1) + 2(0) = 0 \\implies p_2 = 1$.\n$p_3 + a_{2}p_2 + a_{1}p_1 + 3a_{0} = 0 \\implies p_3 + (-1)(1) + (0)(1) + 3(-1)=0 \\implies p_3 - 1 - 3 = 0 \\implies p_3 = 4$.\n对于 $k > 3$，递推关系为 $p_k + a_{2}p_{k-1} + a_{1}p_{k-2} + a_{0}p_{k-3} = 0$，即 $p_k - p_{k-1} - p_{k-3} = 0$，所以 $p_k = p_{k-1} + p_{k-3}$。\n$p_4 = p_3 + p_1 = 4 + 1 = 5$。\n\n所需的迹为：\n$\\mathrm{Tr}_{K/\\mathbb{Q}}(1) = p_0 = 3$\n$\\mathrm{Tr}_{K/\\mathbb{Q}}(\\alpha) = p_1 = 1$\n$\\mathrm{Tr}_{K/\\mathbb{Q}}(\\alpha^2) = p_2 = 1$\n$\\mathrm{Tr}_{K/\\mathbb{Q}}(\\alpha^3) = p_3 = 4$\n$\\mathrm{Tr}_{K/\\mathbb{Q}}(\\alpha^4) = p_4 = 5$\n\n因此，格拉姆矩阵 $G$ 为：\n$$ G = \\begin{pmatrix} \\mathrm{Tr}_{K/\\mathbb{Q}}(1)  \\mathrm{Tr}_{K/\\mathbb{Q}}(\\alpha)  \\mathrm{Tr}_{K/\\mathbb{Q}}(\\alpha^2) \\\\ \\mathrm{Tr}_{K/\\mathbb{Q}}(\\alpha)  \\mathrm{Tr}_{K/\\mathbb{Q}}(\\alpha^2)  \\mathrm{Tr}_{K/\\mathbb{Q}}(\\alpha^3) \\\\ \\mathrm{Tr}_{K/\\mathbb{Q}}(\\alpha^2)  \\mathrm{Tr}_{K/\\mathbb{Q}}(\\alpha^3)  \\mathrm{Tr}_{K/\\mathbb{Q}}(\\alpha^4) \\end{pmatrix} = \\begin{pmatrix} 3  1  1 \\\\ 1  1  4 \\\\ 1  4  5 \\end{pmatrix} $$\n\n**2. 环与域的判别式**\n\n格拉姆矩阵 $G$ 的行列式是基 $\\{1, \\alpha, \\alpha^2\\}$ 的判别式，也就是环 $\\mathbb{Z}[\\alpha]$ 的判别式，记为 $\\Delta(\\mathbb{Z}[\\alpha])$。\n$$ \\det(G) = 3(1 \\cdot 5 - 4 \\cdot 4) - 1(1 \\cdot 5 - 4 \\cdot 1) + 1(1 \\cdot 4 - 1 \\cdot 1) $$\n$$ \\det(G) = 3(5 - 16) - (5 - 4) + (4 - 1) = 3(-11) - 1 + 3 = -33 - 1 + 3 = -31 $$\n所以，$\\Delta(\\mathbb{Z}[\\alpha]) = -31$。这也是多项式 $f(x)$ 的判别式。\n\n环的判别式与域的判别式之间的关系由 $\\Delta(\\mathbb{Z}[\\alpha]) = [\\mathcal{O}_K : \\mathbb{Z}[\\alpha]]^2 \\Delta_K$ 给出，其中 $[\\mathcal{O}_K : \\mathbb{Z}[\\alpha]]$ 是环 $\\mathbb{Z}[\\alpha]$ 在极大环 $\\mathcal{O}_K$ 中的指数。\n由于 $\\Delta(\\mathbb{Z}[\\alpha]) = -31$ 且 $31$ 是一个素数，所以 $-31$ 是无平方因子的。这意味着整数平方 $[\\mathcal{O}_K : \\mathbb{Z}[\\alpha]]^2$ 必须为 $1$。\n因此，指数为 $1$，这意味着环 $\\mathbb{Z}[\\alpha]$ 是极大环，即 $\\mathcal{O}_K = \\mathbb{Z}[\\alpha]$。\n所以，域 $K$ 的判别式 $\\Delta_K$ 等于环 $\\mathbb{Z}[\\alpha]$ 的判别式。\n$$ \\Delta_K = \\Delta(\\mathbb{Z}[\\alpha]) = -31 $$\n\n**3. 逆格拉姆矩阵与对偶基**\n\n为求对偶基，我们首先计算格拉姆矩阵 $G$ 的逆矩阵。\n$$ G^{-1} = \\frac{1}{\\det(G)} \\mathrm{adj}(G) = \\frac{1}{-31} \\begin{pmatrix} 5-16  -(5-4)  4-1 \\\\ -(5-4)  15-1  -(12-1) \\\\ 4-1  -(12-1)  3-1 \\end{pmatrix}^T = \\frac{1}{-31} \\begin{pmatrix} -11  -1  3 \\\\ -1  14  -11 \\\\ 3  -11  2 \\end{pmatrix} $$\n由于伴随矩阵是对称的，其转置等于自身。\n$$ G^{-1} = \\frac{1}{31} \\begin{pmatrix} 11  1  -3 \\\\ 1  -14  11 \\\\ -3  11  -2 \\end{pmatrix} $$\n基 $\\{b_0, b_1, b_2\\} = \\{1, \\alpha, \\alpha^2\\}$ 的对偶基 $\\{b_0^*, b_1^*, b_2^*\\}$ 由 $b_j^* = \\sum_{k=0}^2 (G^{-1})_{jk} b_k$ 给出。$b_j^*$ 在原基下的系数是 $G^{-1}$ 第 j 行的元素。\n$$ b_0^* = \\frac{1}{31}(11 \\cdot 1 + 1 \\cdot \\alpha - 3 \\cdot \\alpha^2) = \\frac{11+\\alpha-3\\alpha^2}{31} $$\n$$ b_1^* = \\frac{1}{31}(1 \\cdot 1 - 14 \\cdot \\alpha + 11 \\cdot \\alpha^2) = \\frac{1-14\\alpha+11\\alpha^2}{31} $$\n$$ b_2^* = \\frac{1}{31}(-3 \\cdot 1 + 11 \\cdot \\alpha - 2 \\cdot \\alpha^2) = \\frac{-3+11\\alpha-2\\alpha^2}{31} $$\n\n**4. 对偶基与逆差分理想**\n\n我们验证每个 $b_i^*$ 都可以写成 $\\mathcal{O}_K = \\mathbb{Z}[\\alpha]$ 中的一个元素除以 $f'(\\alpha) = 3\\alpha^2 - 2\\alpha$ 的商。一个已知的定理指出，对偶基元素为 $b_2^* = \\frac{1}{f'(\\alpha)}$, $b_1^* = \\frac{\\alpha-1}{f'(\\alpha)}$, 和 $b_0^* = \\frac{\\alpha^2-\\alpha}{f'(\\alpha)}$。我们通过将这些表达式乘以 $f'(\\alpha)$ 并与第 3 步中找到的表达式的分子进行比较来验证这一点。$f'(\\alpha)$ 的范数是 $N_{K/\\mathbb{Q}}(f'(\\alpha)) = -\\mathrm{disc}(f) = -(-31) = 31$。\n\n首先，我们计算 $f'(\\alpha)$ 在 $K$ 中的逆元：\n$(f'(\\alpha))^{-1} = (3\\alpha^2-2\\alpha)^{-1} = \\frac{-3+11\\alpha-2\\alpha^2}{31}$。这与我们计算出的 $b_2^*$ 相符。所以，$b_2^* = \\frac{1}{f'(\\alpha)}$。\n\n接下来，我们验证 $b_1^* = \\frac{\\alpha-1}{f'(\\alpha)}$：\n$$ \\frac{\\alpha-1}{f'(\\alpha)} = (\\alpha-1)b_2^* = (\\alpha-1) \\frac{-3+11\\alpha-2\\alpha^2}{31} = \\frac{1}{31}(-3\\alpha+11\\alpha^2-2\\alpha^3+3-11\\alpha+2\\alpha^2) $$\n使用 $\\alpha^3 = \\alpha^2+1$：\n$$ = \\frac{1}{31}(-2(\\alpha^2+1)+13\\alpha^2-14\\alpha+3) = \\frac{1}{31}(-2\\alpha^2-2+13\\alpha^2-14\\alpha+3) = \\frac{1-14\\alpha+11\\alpha^2}{31} $$\n这与我们计算出的 $b_1^*$ 相符。\n\n最后，我们验证 $b_0^* = \\frac{\\alpha^2-\\alpha}{f'(\\alpha)}$：\n$$ \\frac{\\alpha^2-\\alpha}{f'(\\alpha)} = (\\alpha^2-\\alpha)b_2^* = \\frac{1}{31}(\\alpha^2-\\alpha)(-3+11\\alpha-2\\alpha^2) = \\frac{1}{31}(-3\\alpha^2+11\\alpha^3-2\\alpha^4+3\\alpha-11\\alpha^2+2\\alpha^3) $$\n使用 $\\alpha^3=\\alpha^2+1$ 和 $\\alpha^4=\\alpha^3+\\alpha = \\alpha^2+\\alpha+1$：\n$$ = \\frac{1}{31}(-2(\\alpha^2+\\alpha+1)+13(\\alpha^2+1)-14\\alpha^2+3\\alpha) = \\frac{1}{31}(-2\\alpha^2-2\\alpha-2+13\\alpha^2+13-14\\alpha^2+3\\alpha) = \\frac{11+\\alpha-3\\alpha^2}{31} $$\n这与我们计算出的 $b_0^*$ 相符。\n\n整数环 $\\mathcal{O}_K$ 的迹对偶格是逆差分理想 $\\mathfrak{D}^{-1}$。由于 $\\mathcal{O}_K = \\mathbb{Z}[\\alpha] = \\mathbb{Z} \\cdot 1 + \\mathbb{Z} \\cdot \\alpha + \\mathbb{Z} \\cdot \\alpha^2$，其对偶格是由对偶基 $\\{b_0^*, b_1^*, b_2^*\\}$ 生成的 $\\mathbb{Z}$-模。\n$$ \\mathfrak{D}^{-1} = \\mathbb{Z}b_0^* + \\mathbb{Z}b_1^* + \\mathbb{Z}b_2^* = \\mathbb{Z}\\frac{\\alpha^2-\\alpha}{f'(\\alpha)} + \\mathbb{Z}\\frac{\\alpha-1}{f'(\\alpha)} + \\mathbb{Z}\\frac{1}{f'(\\alpha)} $$\n$$ \\mathfrak{D}^{-1} = \\frac{1}{f'(\\alpha)} (\\mathbb{Z}(\\alpha^2-\\alpha) + \\mathbb{Z}(\\alpha-1) + \\mathbb{Z}(1)) $$\n$\\mathbb{Z}$-模 $\\mathbb{Z}(\\alpha^2-\\alpha) + \\mathbb{Z}(\\alpha-1) + \\mathbb{Z}(1)$ 与 $\\mathbb{Z}[1, \\alpha, \\alpha^2] = \\mathcal{O}_K$ 相同。因此，我们推断出：\n$$ \\mathfrak{D}^{-1} = \\frac{1}{f'(\\alpha)} \\mathcal{O}_K $$\n\n**5. 差分理想与域判别式**\n\n从逆差分理想的表达式中，我们可以通过取理想的逆来确定差分理想 $\\mathfrak{D}$：\n$$ \\mathfrak{D} = (\\mathfrak{D}^{-1})^{-1} = \\left(\\frac{1}{f'(\\alpha)} \\mathcal{O}_K\\right)^{-1} = (f'(\\alpha)) \\mathcal{O}_K $$\n所以，差分理想是由 $f'(\\alpha)$ 生成的主理想。\n\n问题要求使用格拉姆矩阵的计算来确定域判别式 $\\Delta_K$。如第2步所确立的，域 $\\Delta_K$ 的判别式是 $\\mathcal{O}_K$ 的任意整基的判别式。既然我们已经得出 $\\{1, \\alpha, \\alpha^2\\}$ 是一个整基（即 $\\mathcal{O}_K = \\mathbb{Z}[\\alpha]$），它的判别式就恰好是域判别式。这个基的判别式已作为格拉姆矩阵 $G$ 的行列式计算出来。\n因此，域判别式为：\n$$ \\Delta_K = \\det(G) = -31 $$\n这个值就是所求的整数。", "answer": "$$ \\boxed{-31} $$", "id": "3007358"}]}