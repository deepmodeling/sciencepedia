## 引言
弱极大值原理是[偏微分方程理论](@entry_id:189232)与[几何分析](@entry_id:157700)领域的一块基石，它为一大类[微分方程](@entry_id:264184)的解提供了深刻的定性洞察。其核心思想——函数的极值在边界上取得——看似简单，却蕴含着丰富的数学内涵，并对多个科学分支产生深远影响。本文旨在系统性地剖析这一原理，不仅限于其经典表述，更要揭示其背后的数学机制、成立的边界条件，以及在现代数学前沿中的各种推广和应用。

为了实现这一目标，文章将分为三个核心部分。在“原理与机制”一章中，我们将深入探讨弱极大值原理的数学精髓，从经典二阶[椭圆算子](@entry_id:181616)的证明出发，剖析[一致椭圆性](@entry_id:194714)、零阶项符号等关键假设的必要性，并将其延伸至[弱解](@entry_id:161732)和[非紧流形](@entry_id:185981)的广阔天地。接着，在“应用与跨学科联系”一章中，我们将展示该原理如何作为强有力的工具，被用于证明[偏微分方程解的唯一性](@entry_id:184927)与稳定性，解释热传导、弹性力学等物理现象，并成为几何分析中证明刘维尔定理和研究[几何流](@entry_id:195216)的关键一环。最后，通过“动手实践”部分，读者将有机会通过解决具体问题来巩固和深化对原理及其应用的理解。通过这一由浅入深的探索之旅，读者将全面掌握弱极大值原理的理论框架与实践价值。

## 原理与机制

在上一章引言的基础上，本章将深入探讨弱极大值原理的核心数学表述、其证明的内在机制，以及使得该原理成立的各项条件的必要性。我们将从经典的有界域上的二阶线性[椭圆算子](@entry_id:181616)出发，逐步将讨论扩展到更广泛的[函数空间](@entry_id:143478)、几何条件不规则的区域，最终延伸至非紧黎曼流形的全局设定。通过这一过程，我们将揭示极大值原理不仅是一个孤立的定理，而是一套贯穿于[偏微分方程](@entry_id:141332)与几何分析中的强大思想和工具。

### 经典弱极大值原理

弱极大值原理为椭圆型和[抛物型偏微分方程](@entry_id:168935)的解的行为提供了基本的定性描述。它本质上断言，一个函数的极大值（或极小值）若非平凡，则必然在其定义域的边界上取得。

#### 二阶[椭圆算子](@entry_id:181616)的表述

考虑一个有界开集 $\Omega \subset \mathbb{R}^n$，其边界为 $\partial \Omega$。我们研究作用于函数 $u \in C^2(\Omega) \cap C^0(\overline{\Omega})$ 上的一个泛二阶[线性微分算子](@entry_id:174781) $L$：
$$
L u = a^{ij}(x) \partial_{ij} u + b^i(x) \partial_i u + c(x) u
$$
其中，我们使用爱因斯坦求和约定，$\partial_i u$ 表示 $\frac{\partial u}{\partial x_i}$，$\partial_{ij} u$ 表示 $\frac{\partial^2 u}{\partial x_i \partial x_j}$。该原理的成立依赖于算子系数和函数 $u$ 满足的一系列标准假设：

1.  **[一致椭圆性](@entry_id:194714) (Uniform Ellipticity)**：[系数矩阵](@entry_id:151473) $A(x) = (a^{ij}(x))$ 是对称的，并且存在常数 $0  \lambda \le \Lambda  \infty$，使得对于所有 $x \in \Omega$ 和所有 $\xi \in \mathbb{R}^n$，下式成立：
    $$
    \lambda |\xi|^2 \le a^{ij}(x) \xi_i \xi_j \le \Lambda |\xi|^2
    $$
    这保证了算子在所有点和所有方向上都具有类似[拉普拉斯算子](@entry_id:146319)的性质，不会“退化”。

2.  **系数有界性 (Bounded Coefficients)**：一阶项（漂移项）的系数 $b^i(x)$ 和零阶项的系数 $c(x)$ 在 $\Omega$ 上是有界的。

3.  **零阶项的符号约束 (Sign Condition on the Zeroth-Order Term)**：对于所有 $x \in \Omega$，我们要求 $c(x) \le 0$。

在这些条件下，经典弱极大值原理可以表述如下：

**定理 (弱极大值原理)**：若函数 $u \in C^2(\Omega) \cap C^0(\overline{\Omega})$ 在 $\Omega$ 中满足[微分不等式](@entry_id:137452) $L u \ge 0$，则 $u$ 在 $\overline{\Omega}$ 上的上确界（即最大值）必然小于或等于其在边界上的[上确界](@entry_id:140512)与零中的较大者。即：
$$
\sup_{\overline{\Omega}} u \le \max\{0, \sup_{\partial \Omega} u\}
$$

该表述中的 $\max\{0, \dots\}$ 是为了处理 $u$ 在边界上可能为负值的情形。例如，若 $\sup_{\partial \Omega} u = -1$，原理允许 $u$ 在内部取得一个更大的负值（如 $-0.5$），但不能取得正值。如果 $c(x) \equiv 0$，则原理可以简化为更直观的形式：$\sup_{\overline{\Omega}} u \le \sup_{\partial \Omega} u$。

#### 核心机制：内部[极值](@entry_id:145933)点的分析

弱极大值原理的证明精髓在于一个优雅的、基于微积分基本事实的反证法。这个论证过程深刻地揭示了上述各项假设——特别是[一致椭圆性](@entry_id:194714)和 $c(x) \le 0$ ——是如何协同作用以阻止内部正极大的出现的 [@problem_id:3036790]。

我们通过[反证法](@entry_id:276604)来证明。假设定理的结论不成立，即 $\sup_{\overline{\Omega}} u > \max\{0, \sup_{\partial \Omega} u\}$。这一假设直接引出两个推论：
1.  $u$ 的上确界 $M = \sup_{\overline{\Omega}} u$ 必须是正数，$M > 0$。
2.  由于 $u$ 在紧集 $\overline{\Omega}$ 上连续，它必然在某点 $x_0 \in \overline{\Omega}$ 达到其最大值 $M$。根据我们的假设，$M$ 大于 $u$ 在边界上的任何值，因此该[最大值点](@entry_id:634610) $x_0$ 必须位于 $\Omega$ 的内部，即 $x_0 \in \Omega$。

现在，我们来考察算子 $L$ 在这个内部正极大值点 $x_0$ 的行为。根据多元微积分，一个 $C^2$ 函数在内部极大值点 $x_0$ 必须满足：
-   梯度为零：$\nabla u(x_0) = 0$，即对所有 $i=1, \dots, n$，有 $\partial_i u(x_0) = 0$。
-   Hessian 矩阵 $D^2 u(x_0) = (\partial_{ij} u(x_0))$ 是负半定的。

我们将这些信息代入 $Lu(x_0)$ 的表达式中，逐项分析 [@problem_id:3036778]：
-   **一阶项 (Drift Term)**：$b^i(x_0) \partial_i u(x_0)$。由于 $\partial_i u(x_0) = 0$，此项直接为零，无论系数 $b^i(x_0)$ 为何值。
-   **二阶项 (Diffusion Term)**：$a^{ij}(x_0) \partial_{ij} u(x_0)$。此项是两个[矩阵的迹](@entry_id:139694)，即 $\text{Tr}(A(x_0) D^2 u(x_0))$。根据[一致椭圆性](@entry_id:194714)假设，$A(x_0)$ 是一个对称正定矩阵。而 $D^2 u(x_0)$ 是一个对称负半定矩阵。线性代数的一个基本结论是，一个[正定矩阵](@entry_id:155546)与一个负半定矩阵之积的迹是非正的。因此，我们有 $a^{ij}(x_0) \partial_{ij} u(x_0) \le 0$。
-   **零阶项 (Reaction Term)**：$c(x_0) u(x_0)$。根据我们的假设，$u(x_0) = M > 0$。根据原理的符号约束条件，$c(x_0) \le 0$。一个正数与一个非正数之积是非正的，故 $c(x_0) u(x_0) \le 0$。

将这三项合并，我们得到在内部正极大值点 $x_0$ 的一个关键不等式：
$$
L u(x_0) = \underbrace{a^{ij}(x_0) \partial_{ij} u(x_0)}_{\le 0} + \underbrace{b^i(x_0) \partial_i u(x_0)}_{=0} + \underbrace{c(x_0) u(x_0)}_{\le 0} \le 0
$$
然而，我们出发的条件是 $L u \ge 0$ 在整个 $\Omega$ 上成立，自然也包括 $x_0$ 点，即 $L u(x_0) \ge 0$。

唯一的可能是 $L u(x_0) = 0$。由于 $a^{ij}(x_0) \partial_{ij} u(x_0)$ 和 $c(x_0) u(x_0)$ 都是非正数，它们的和为零意味着每一项都必须为零：
$$
a^{ij}(x_0) \partial_{ij} u(x_0) = 0 \quad \text{and} \quad c(x_0) u(x_0) = 0
$$
如果存在一点 $x \in \Omega$ 使得 $c(x)  0$，且 $u$ 在该点取得正极大值，那么 $c(x)u(x)  0$，直接导致 $Lu(x)  0$，与 $Lu \ge 0$ 矛盾。对于更一般的情形，需要一个更精细的论证（例如引入一个辅助函数），但上述分析已经揭示了矛盾的核心所在。这个矛盾证明了我们的初始假设——存在一个内部正极大值——是错误的。因此，定理成立。

#### 强极大值原理

与弱极大值原理相关但更强的一个结论是强极大值原理。它断言，如果一个（非平凡的）满足 $Lu \ge 0$ 的函数在连通域 $\Omega$ 的一个内部点达到了其最大值，那么该函数在整个 $\Omega$ 上必然是常数。例如，对于满足 $\Delta u \le 0$（即超调和）的 $C^2$ 函数 $u$，若其在内部某点达到局部极小值，则根据强极大值原理，该函数在所在的连通分支上必为常数 [@problem_id:3036770]。弱极大值原理仅说明最大值在边界上取到，而强极大值原理排除了非平凡解在内部接触其最大值的可能性。

### 假设的必要性

上述证明清晰地显示了各个假设在论证链条中的作用。为了更深刻地理解该原理，我们必须考察当这些假设被放宽时会发生什么。通过构造一系列反例，我们可以证明这些条件不仅是证明的方便工具，而且是原理成立的根本保障。

#### 零阶项的符号 ($c \le 0$)

如果允许 $c(x) > 0$，上述证明机制就会崩溃。在假想的内部正极大值点 $x_0$，$c(x_0)u(x_0)$ 将是一个正数，它完全可能抵消甚至超过二阶项的非正贡献，使得 $Lu(x_0) \ge 0$ 成立，从而无法导出矛盾。

一个经典的构造性反例来自谱理论 [@problem_id:3036790]。考虑 $\Omega$ 上的[拉普拉斯算子](@entry_id:146319) $-\Delta$ 的[第一狄利克雷特征值](@entry_id:185431) $\mu_1 > 0$ 及其对应的特征函数 $u_1$，该函数在 $\Omega$ 内部严格为正，在边界 $\partial\Omega$ 上为零。根据定义，我们有：
$$
-\Delta u_1 = \mu_1 u_1 \quad \text{in } \Omega, \qquad u_1|_{\partial\Omega} = 0
$$
这可以改写为 $\Delta u_1 + \mu_1 u_1 = 0$。如果我们定义算子 $L = \Delta + \mu_1$，则这里的零阶系数 $c(x) = \mu_1 > 0$。对于这个算子和函数 $u_1$，我们有 $L u_1 = 0$，满足 $L u \ge 0$ 的条件。然而，$\sup_{\overline{\Omega}} u_1 = \sup_{\Omega} u_1 > 0$，而 $\sup_{\partial\Omega} u_1 = 0$。这直接违反了弱极大值原理的结论。

我们还可以通过一个具体的计算来量化这种违背的程度 [@problem_id:3036771]。考虑算子 $L u = -\Delta u + c u$ (其中 $c>0$) 在球 $B_R(0) \subset \mathbb{R}^n$ 上。我们可以构造一个径向对称函数 $u(x) = A \exp(-\mu |x|^2)$，通过选择合适的参数 $\mu > 0$，使得 $L u \ge 0$ 在球内成立。若我们规范化函数使得其在边界上值为 1，即 $\sup_{\partial B_R(0)} u = 1$，则可以计算出内部极值 $u(0)$ 的可能最大值。这个最大值不仅大于1，而且其具体表达式为 $\exp\left(\frac{n + \sqrt{n^2 + 4cR^2}}{4}\right)$。这个结果清晰地表明，零阶项系数 $c$ 越大，或者区域 $R$ 越大，内部极大值可以比边界值大得越多，从而定量地展示了 $c>0$ 时极大值原理的失效。

#### [一致椭圆性](@entry_id:194714)

[一致椭圆性](@entry_id:194714)确保了二阶项 $a^{ij}\partial_{ij}u$ 在内部极大值点贡献一个“恢复力”，试图将函数值拉低。如果算子是“退化”的，即它在某些方向上没有[二阶导数](@entry_id:144508)项，那么它就可能“看不到”函数在这些方向上的弯曲，从而让函数在内部形成极大。

考虑一个二维区域 $\Omega = B_1(0) \subset \mathbb{R}^2$ 上的算子 $L u = \partial_{yy} u$ [@problem_id:3036772]。该算子是椭圆的（其系数矩阵 $A = \begin{pmatrix} 0  0 \\ 0  1 \end{pmatrix}$ 是半正定的），但非一致椭圆，因为它在 $x$ 方向上退化了。现在考虑函数 $u(x,y) = 1 - x^2$。这个函数显然在 $x=0$ 的直线上取得其最大值 $1$，例如在原点 $(0,0)$ 这个内部点。我们计算 $Lu$：
$$
L u = \partial_{yy}(1 - x^2) = 0
$$
因此，我们找到了一个非平凡函数 $u$，它满足 $Lu \ge 0$，并在内部达到了严格大于其边界值的最大值（在 $\partial B_1(0)$ 上，$u$ 的值小于1）。这个反例之所以成立，是因为算子 $L$ 对 $x$ 方向的变化“无动于衷”，函数 $u$ 正是利用了这一点来形成一个沿 $y$ 轴的极大值“山脊”。同样，算子 $L'u = \partial_{xx} u$ 和函数 $u'(x,y) = 1-y^2$ 也构成了另一个类似的有效反例。

#### 漂移项系数的有界性

在极大值点的分析中，一阶项 $b^i \partial_i u$ 因为 $\nabla u = 0$ 而消失了。这似乎暗示 $b^i$ 的性质无关紧要。然而，这个结论依赖于 $u \in C^2$ 且极大值点是“平坦的”。如果 $b^i$ 系数在极大值点附近是无界的（奇异的），它可以产生一个足够强的效应来克服二阶项的[扩散](@entry_id:141445)行为。

考虑在单位球 $\Omega = B_1(0) \subset \mathbb{R}^n$ 上的算子 $L u = \Delta u + b(x) \cdot \nabla u$，其中漂移项系数为 $b(x) = \frac{c x}{|x|^2}$ [@problem_id:3036774]。这个系数在原点是无界的。我们测试函数 $u_\alpha(x) = 1 - |x|^\alpha$（其中 $\alpha \ge 2$）。该函数在原点处有一个尖锐的极大值 $1$，而在边界上为 $0$。通过直接计算，可以发现，若选取常数 $c = 2 - n - \alpha$，则对于所有 $x \in \Omega \setminus \{0\}$，我们恰好有 $L u_\alpha(x) = 0$。
这个例子表明，一个具有足够强的、指向内部的[奇异漂移](@entry_id:185574)（当 $c$ 取合适的值时），可以“吸住”函数，使其在漂移的[奇点](@entry_id:137764)处形成一个尖锐的极大值，从而违反了极大值原理。这说明了算子系数的有界性假设是必需的。

#### 区域的连通性

极大值原理的证明，无论是经典的还是更强的版本，都隐含地利用了区域的连通性来从一个点的性质推断出全局行为。如果区域 $\Omega$ 是不连通的，例如 $\Omega = \Omega_1 \cup \Omega_2$，其中 $\Omega_1$ 和 $\Omega_2$ 是不相交的开集，那么一个定义在 $\Omega$ 上的函数可以被视为两个独立的函数 $u_1$ 和 $u_2$。

在这种情况下，直接应用 $\sup_{\Omega} u \le \sup_{\partial \Omega} u$ 可能会导致错误结论，尤其是当函数在不同连通分支之间的边界行为不一致时 [@problem_id:3036777]。考虑一个简单的例子：$\Omega_1 = B_1(0)$，$\Omega_2 = B_1(3e_1)$。定义函数 $u$ 在 $\Omega_1$ 上恒为 $0$，在 $\Omega_2$ 上恒为 $1$。在每个[连通分支](@entry_id:141881)上，$u$ 都是调和的（$\Delta u = 0$），因此满足 $\Delta u \ge 0$。此时，$\sup_{\Omega} u = 1$。然而，$\partial \Omega = \partial \Omega_1 \cup \partial \Omega_2$。如果我们考虑 $u$ 在边界上的值为 $0$（例如，想象 $u$ 是一个从外部趋近的极限），那么 $\sup_{\partial \Omega} u = 0$，于是得到 $1 \le 0$ 的荒谬结论。

这个反例的根源在于将两个独立的问题强行捆绑在一起。正确的做法是将极大值原理分别应用于每个连通分支：
$$
\sup_{\Omega_1} u \le \sup_{\partial \Omega_1} u \quad \text{and} \quad \sup_{\Omega_2} u \le \sup_{\partial \Omega_2} u
$$
然后，全局的上确界受控于所有分支边界值的上确界：
$$
\sup_{\Omega} u = \max\{\sup_{\Omega_1} u, \sup_{\Omega_2} u\} \le \max\{\sup_{\partial \Omega_1} u, \sup_{\partial \Omega_2} u\} = \sup_{\partial \Omega} u
$$
因此，只要在每个[连通分支](@entry_id:141881)的[闭包](@entry_id:148169)上满足适当的[正则性条件](@entry_id:166962)（如上半连续性），极大值原理依然以分片的形式成立。区域的连通性是全局结论所必需的，但原理的机制在每个连通部分中独立运作。

### 推广与延伸

经典极大值原理的框架虽然优雅，但其对[函数正则性](@entry_id:184255)（$C^2$）和区域边界良好性（能让解[连续延拓](@entry_id:161021)）的要求在许多现代分析问题中显得过于严苛。因此，有必要将该原理推广到更弱的设定下。

#### [弱形式](@entry_id:142897)：[次调和函数](@entry_id:191036)

在现代[偏微分方程理论](@entry_id:189232)中，许多解并非经典意义下的光滑函数，而是“弱解”。为了将极大值原理应用于这[类函数](@entry_id:146970)，我们需要一个更广义的“$Lu \ge 0$”概念。对于[拉普拉斯算子](@entry_id:146319)，这引出了[分布](@entry_id:182848)意义下的[次调和函数](@entry_id:191036)的概念。

一个[局部可积函数](@entry_id:175678) $u \in L^1_{\text{loc}}(\Omega)$ 被称为**[分布](@entry_id:182848)意义下的[次调和函数](@entry_id:191036) (subharmonic in the sense of distributions)**，如果其拉普拉斯算子 $\Delta u$ 是一个非负的[分布](@entry_id:182848)。这意味着对于所有非负的检验函数 $\phi \in C_c^\infty(\Omega)$（即具有[紧支集](@entry_id:276214)的[光滑函数](@entry_id:267124)），下式成立 [@problem_id:3036758]：
$$
\langle \Delta u, \phi \rangle \ge 0
$$
根据[分布](@entry_id:182848)拉普拉斯算子的定义 $\langle \Delta u, \phi \rangle := \int_\Omega u \Delta \phi \, dx$，这等价于：
$$
\int_\Omega u(x) \Delta \phi(x) \, dx \ge 0, \quad \forall \phi \in C_c^\infty(\Omega), \phi \ge 0
$$
这个定义是一个自然的推广。可以证明，如果一个函数 $u \in C^2(\Omega)$，那么它在[分布](@entry_id:182848)意义下次调和当且仅当它在经典意义下次调和，即 $\Delta u(x) \ge 0$ 逐点成立 [@problem_id:3036770]。然而，[分布](@entry_id:182848)[次调和函数](@entry_id:191036)的范畴要广泛得多，它不要求函数具有[二阶导数](@entry_id:144508)，甚至不要求连续。例如，在 $\mathbb{R}^n$ ($n \ge 3$) 中，函数 $u(x) = -|x|^{2-n}$ 在[分布](@entry_id:182848)意义下是次调和的，但它在原点是奇异的。同样，一维函数 $u(x)=|x|$ 在[分布](@entry_id:182848)意义下也是次调和的，但在原点不可导 [@problem_id:3036758]。

尽管[次调和函数](@entry_id:191036)可能不光滑，但它们拥有一系列良好的性质。一个关键性质是它们可以通过与光滑的“磨光核”作卷积而被光滑的[次调和函数](@entry_id:191036)逼近 [@problem_id:3036770]。更重要的是，弱极大值原理对它们依然成立：一个在有界域上连续的[分布](@entry_id:182848)[次调和函数](@entry_id:191036)，其最大值必然在边界上取得 [@problem_id:3036758]。

#### 索博列夫空间中的极大值原理

极大值原理也可以在[索博列夫空间](@entry_id:141995) $W^{1,2}(\Omega)$ 的框架下陈述和证明。这是一个包含具有平方可积的弱[一阶导数](@entry_id:749425)的函数的空间，是变分法的自然舞台。对于这类函数，可以证明以下形式的极大值原理 [@problem_id:3036770]：

**定理**：若 $u \in W^{1,2}(\Omega)$ 满足 $\Delta u \ge 0$（[分布](@entry_id:182848)意义下）且其在边界上的迹 $u|_{\partial\Omega} \le 0$（在迹的意义下几乎处处成立），则 $u \le 0$ 在 $\Omega$ 中[几乎处处](@entry_id:146631)成立。

证明这个定理的一个关键技巧是使用函数的“正部” $u^+(x) = \max\{u(x), 0\}$ 作为[检验函数](@entry_id:166589)。可以证明，如果 $u \in W^{1,2}(\Omega)$，那么 $u^+$ 也属于 $W^{1,2}(\Omega)$。利用 $u|_{\partial\Omega} \le 0$ 可知 $u^+$ 的迹为零，因此 $u^+ \in W_0^{1,2}(\Omega)$，这是一个有效的[检验函数](@entry_id:166589)。将 $u^+$ 代入 $\Delta u \ge 0$ 的[弱形式](@entry_id:142897) $-\int_\Omega \nabla u \cdot \nabla v \,dx \ge 0$ (对于非负检验函数 $v$)，我们得到：
$$
-\int_\Omega |\nabla u^+|^2 \, dx \ge 0
$$
由于积分项本身非负，这迫使 $\int_\Omega |\nabla u^+|^2 \, dx = 0$，从而 $\nabla u^+ = 0$ [几乎处处](@entry_id:146631)成立。结合 $u^+ \in W_0^{1,2}(\Omega)$ 和[庞加莱不等式](@entry_id:142086)，可得 $u^+=0$ [几乎处处](@entry_id:146631)成立，即 $u \le 0$ [几乎处处](@entry_id:146631)成立。

#### 边界正则性的角色

经典极大值原理通常假设解 $u$ 能连续地延拓到闭域 $\overline{\Omega}$ 上。然而，对于[调和函数](@entry_id:746864)（$\Delta u=0$）这类[椭圆方程](@entry_id:169190)的“最好”的解，这种连续性也并非理所当然，它取决于边界 $\partial \Omega$ 的几何形状。

在位势理论中，边界上的一个点 $p \in \partial \Omega$ 被称为**正则点 (regular point)**，如果对于任何连续的边界数据，[狄利克雷问题](@entry_id:274408)的解在该点都能连续地取到边界值。反之则为**非正则点**。一个典型的非正则点是区域内部伸入的一个[尖点](@entry_id:636792)（“勒贝格刺”）。在这些点，解的行为可能非常复杂，边界值可能无法被连续地“达到”。

当边界存在非正则点时，极大值原理需要一个更精细的表述，这通常借助于**[调和测度](@entry_id:202752) (harmonic measure)** 来实现 [@problem_id:3036785]。对于域内任意一点 $x \in \Omega$，存在一个定义在边界 $\partial \Omega$ 上的[概率测度](@entry_id:190821) $\omega^x$，使得任何连续边界数据 $g$ 的调和解 $H_g$ 都可以表示为 $H_g(x) = \int_{\partial \Omega} g(\xi) \, d\omega^x(\xi)$。利用[调和测度](@entry_id:202752)，可以证明一个更普适的极大值原理版本，它不依赖于解的边界连续性：

对于任意有界[调和函数](@entry_id:746864) $v$，其在域内的值被其在边界上的[上极限](@entry_id:144243)和[下极限](@entry_id:145282)的积分所控制：
$$
\int_{\partial \Omega} v_*(\xi)\, d\omega^{x}(\xi) \le v(x) \le \int_{\partial \Omega} v^{*}(\xi)\, d\omega^{x}(\xi)
$$
其中 $v^*(\xi) := \limsup_{y \to \xi} v(y)$ 和 $v_*(\xi) := \liminf_{y \to \xi} v(y)$。这个版本的极大值原理优雅地处理了在非正则点可能发生的边界值[振荡](@entry_id:267781)或不确定行为，是现代位势理论的基石之一。

#### 无穷远处的极大值原理

最后，我们将视角从有界域转向完整的非紧黎曼流形 $(M^n, g)$。一个自然的问题是：极大值原理在没有边界的全局设定下会变成什么样子？一个在整个[流形](@entry_id:153038)上满足 $\Delta_g u \ge 0$ 且有上界的函数，其行为会受到怎样的约束？

答案由**大森-丘 (Omori-Yau) 极大值原理**及其推广给出。这一原理断言，在一定的几何条件下（主要是[黎曼曲率](@entry_id:635343)不能[以太](@entry_id:275233)快的速度趋于负无穷），一个有上界的[次调和函数](@entry_id:191036)无法在有限区域内“隐藏”其最大值，其上确界必须“在无穷远处实现”。

更精确地，如果[流形](@entry_id:153038) $M$ 的里奇曲率 (Ricci curvature) 从下方被控制，例如满足 $\operatorname{Ric}_g(x) \ge -(n-1)G(r(x))^2$，其中 $r(x)$ 是到某[固定点](@entry_id:156394)的距离，而 $G(r)$ 是一个增长不太快的函数（满足 $\int_1^\infty \frac{dr}{G(r)} = \infty$），那么对于任何有[上界](@entry_id:274738)的 $C^2$ 函数 $u$ 且 $\Delta_g u \ge 0$，下式成立 [@problem_id:3036789]：
$$
\sup_{M} u = \limsup_{R\to\infty} \sup_{\partial B_R(o)} u
$$
这里 $B_R(o)$ 是[流形](@entry_id:153038)上半径为 $R$ 的测地 球。这个“无穷远处的弱极大值原理”是[几何分析](@entry_id:157700)中的一个核心工具。它直观地表示，函数的上确界等于其在“无穷远边界”上的上确界。曲率条件保证了[流形](@entry_id:153038)的体积增长不会过快，从而排除了函数在一个有限区域达到最大然后向无穷远处衰减的可能性。

这个原理的一个著名推论是丘成桐的[刘维尔型定理](@entry_id:635837)：在一个里奇曲率非负的[完备非紧流形](@entry_id:634266)上，任何有上界的[次调和函数](@entry_id:191036)必为常数。这是因为，若 $\sup_M u > \liminf_M u$，则 $\limsup_{R\to\infty} \sup_{\partial B_R} u$ 将大于 $\inf_M u$，这与[常数函数](@entry_id:152060)的行为相矛盾，通过更细致的分析可以证明函数必为常数。

综上所述，弱极大值原理从一个关于有界域上光滑函数的简单观察，通过对其条件的深入剖析和在各种广义设定下的推广，演变成了一套适用于分析各种几何与分析问题的深刻而灵活的理论框架。