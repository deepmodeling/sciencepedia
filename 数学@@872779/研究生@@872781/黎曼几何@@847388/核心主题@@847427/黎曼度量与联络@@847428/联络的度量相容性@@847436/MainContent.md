## 引言
在[光滑流形](@entry_id:160799)上，我们可以定义无数种不同的[仿射联络](@entry_id:160152)，每一种都提供了沿路径对向量场进行[微分](@entry_id:158718)的法则。然而，在具备度量结构的[黎曼流形](@entry_id:261160)上，我们如何选择一个与几何测量（如长度和角度）内在协调的“自然”联络？这个问题是[黎曼几何](@entry_id:160508)的基石，而其答案就在于**联络的[度量兼容性](@entry_id:265910) (metric compatibility)** 这一核心概念。[度量兼容性](@entry_id:265910)不仅是技术上的要求，它更是连接[微分](@entry_id:158718)（联络）与积分（度量）的桥梁，确保了我们所做的几何运算具有物理和直观上的意义。

本文将系统地引导读者深入理解[度量兼容性](@entry_id:265910)的世界。在“原理与机制”一章中，我们将精确定义[度量兼容性](@entry_id:265910)，揭示其保持长度和角度不变的深刻几何意义，并证明它如何与无挠性条件一同唯一地确定了[列维-奇维塔联络](@entry_id:161107)。接下来，在“应用与跨学科联系”一章中，我们将探索这一原则在物理学（从[欧几里得空间](@entry_id:138052)到广义相对论）和现代数学（如[李群](@entry_id:137659)和规范场论）中的广泛应用与深远影响。最后，通过“动手实践”部分，读者将有机会通过具体计算，将理论知识转化为解决实际问题的能力。

## 原理与机制

在黎曼几何中，联络的核心作用是定义沿任意路径的向量场[求导法则](@entry_id:145443)，即“协变导数”。然而，光滑流形上可以存在无穷多个[仿射联络](@entry_id:160152)。为了在黎曼流形（即配备了度量张量的[流形](@entry_id:153038)）上进行有意义的几何测量，我们需要一个与度量结构“兼容”的联络。本章将深入探讨这一关键概念——**[度量兼容性](@entry_id:265910) (metric compatibility)**——的原理、几何意义及其在定义[黎曼几何](@entry_id:160508)中唯一的自然联络（即列维-奇维塔联络）时所扮演的核心角色。

### [度量兼容性](@entry_id:265910)的定义

设 $(M, g)$ 是一个黎曼流形，其中 $g$ 是一个光滑的 $(0,2)$ 型对称正定张量场，即黎曼度量。设 $\nabla$ 是 $M$ 上的一个[仿射联络](@entry_id:160152)。回顾一下，$\nabla$ 是一个映射，它将一对光滑向量场 $(X, Y)$ 映至一个新的光滑向量场 $\nabla_X Y$，该映射在第一个变量 $X$ 中是 $C^\infty(M)$-线性的，并在第二个变量 $Y$ 中满足[莱布尼茨法则](@entry_id:157949)。

我们可以将协变导数的作用从向量场推广到任意[张量场](@entry_id:190170)。对于作为 $(0,2)$ 型张量的度量 $g$，其沿向量场 $X$ 的协变导数 $(\nabla_X g)$ 被定义为一个 $(0,2)$ 型张量，其作用于向量场 $Y$ 和 $Z$ 时由以下法则给出：
$$
(\nabla_X g)(Y,Z) = X(g(Y,Z)) - g(\nabla_X Y, Z) - g(Y, \nabla_X Z)
$$
这个定义衡量了[协变导数](@entry_id:152476) $\nabla_X$ 在作用于度量 $g$ 的两个槽时，与作用于标量函数 $g(Y,Z)$ 的普通导数 $X$ 之间的差异。

如果一个联络 $\nabla$ 在任何方向上都“保持”度量不变，我们就称之为度量兼容的。形式上，我们有如下定义：

**定义（[度量兼容性](@entry_id:265910)）**：一个[仿射联络](@entry_id:160152) $\nabla$ 被称为与度量 $g$ **兼容 (metric-compatible)**，如果度量张量的协变导数为零，即 $\nabla g = 0$。

这意味着对于任意光滑向量场 $X, Y, Z$，都有 $(\nabla_X g)(Y,Z) = 0$。根据上述定义，这等价于以下至关重要的恒等式 [@problem_id:2974952] [@problem_id:2974971] [@problem_id:3025041]：
$$
X(g(Y,Z)) = g(\nabla_X Y, Z) + g(Y, \nabla_X Z)
$$
这个恒等式可以被看作是[协变导数](@entry_id:152476)作用于[内积](@entry_id:158127)时的“乘积法则”。它表明，两个向量场[内积](@entry_id:158127)的导数，等于第一个向量场[协变导数](@entry_id:152476)与第二个向量场的[内积](@entry_id:158127)，加上第一个向量场与第二个向量场协变导数的[内积](@entry_id:158127)。这个法则将是后续所有讨论的基石。

### [度量兼容性](@entry_id:265910)的几何意义：保长度与保角度的平行移动

[度量兼容性](@entry_id:265910)最深刻的意义在于它保证了**平行移动 (parallel transport)** 是一个**[刚性运动](@entry_id:170523) (rigid motion)**。也就是说，在沿一条曲线平行移动向量时，它们的长度和它们之间的角度都保持不变。

考虑一条光滑曲线 $\gamma: [a,b] \to M$。一个沿 $\gamma$ 的向量场 $V(t)$ 如果满足[协变微分](@entry_id:263981)方程 $\nabla_{\dot{\gamma}(t)} V(t) = 0$，则称其为沿 $\gamma$ **平行 (parallel)**。现在，让我们考察两个沿 $\gamma$ 的[平行向量场](@entry_id:636129) $V(t)$ 和 $W(t)$ 的[内积](@entry_id:158127) $g(V(t), W(t))$ 如何随参数 $t$ 变化。

我们计算其导数，并利用[度量兼容性](@entry_id:265910)所给出的[乘积法则](@entry_id:158393)（将 $X$ 替换为 $\dot{\gamma}(t)$）：
$$
\frac{d}{dt} g(V(t), W(t)) = g(\nabla_{\dot{\gamma}(t)} V(t), W(t)) + g(V(t), \nabla_{\dot{\gamma}(t)} W(t))
$$
由于 $V(t)$ 和 $W(t)$ 都是平行的，我们有 $\nabla_{\dot{\gamma}(t)} V(t) = 0$ 和 $\nabla_{\dot{\gamma}(t)} W(t) = 0$。代入上式，可得：
$$
\frac{d}{dt} g(V(t), W(t)) = g(0, W(t)) + g(V(t), 0) = 0
$$
这个结果表明，[内积](@entry_id:158127) $g(V(t), W(t))$ 是一个常数。这意味着，只要联络是度量兼容的，平行移动就会保持向量间的[内积](@entry_id:158127) [@problem_id:2974952] [@problem_id:3025041]。由此可以立即得到两个重要的推论：

1.  **平行移动保持[向量长度](@entry_id:156432)**：对于单个[平行向量场](@entry_id:636129) $V(t)$，其长度的平方 $g(V(t), V(t))$ 是常数。
2.  **平行移动保持向量间的角度**：两个[平行向量场](@entry_id:636129) $V(t)$ 和 $W(t)$ 之间的夹角 $\theta(t)$ 由 $\cos \theta(t) = \frac{g(V(t), W(t))}{\sqrt{g(V(t), V(t))g(W(t), W(t))}}$ 给出。由于分子和分母中的各项在平行移动下都是常数，所以夹角 $\theta(t)$ 也保持不变。

这一性质对于[黎曼几何](@entry_id:160508)至关重要，因为它允许我们在[流形](@entry_id:153038)的不同点之间有意义地[比较几何](@entry_id:180578)量。

这一几何图像在**[和乐群](@entry_id:191471) (holonomy group)** 的概念中得到了精确的代数表述。对于[流形](@entry_id:153038)上一点 $p$，其和乐群 $\mathrm{Hol}_p(g)$ 由所有沿以 $p$ 为基点的闭环 $\gamma$ 进行平行移动所产生的线性变换 $P_\gamma: T_pM \to T_pM$ 构成。由于平行移动保持[内积](@entry_id:158127) $g_p$，所以每个 $P_\gamma$ 都是 $T_pM$ 上的一个正交变换。因此，和乐群必然是[切空间](@entry_id:199137)上[正交群](@entry_id:152531) $O(T_pM, g_p)$ 的一个[子群](@entry_id:146164)。如果[流形](@entry_id:153038)是可定向的，那么平行移动还会保持定向，此时和乐群甚至是[特殊正交群](@entry_id:146418) $SO(T_pM, g_p)$ 的[子群](@entry_id:146164) [@problem_id:2999896]。

#### 反例：非[度量兼容联络](@entry_id:194538)

为了凸显[度量兼容性](@entry_id:265910)的重要性，我们可以考察一个它不成立的情形。考虑一个联络 $\nabla$，其“非度量性”由一个 1-形式 $\omega$ 来刻画，即 $(\nabla_X g_0)(Y,Z) = \omega(X) g_0(Y,Z)$，其中 $g_0$ 是欧氏度量 [@problem_id:2984100]。在这种情况下，沿曲线 $\gamma$ 平行移动的向量场 $V, W$ 的[内积](@entry_id:158127)导数变为：
$$
\frac{d}{dt} g_0(V(t), W(t)) = (\nabla_{\dot{\gamma}(t)} g_0)(V(t), W(t)) = \omega(\dot{\gamma}(t)) g_0(V(t), W(t))
$$
这是一个简单的[微分方程](@entry_id:264184)，其解为 $g_0(V(t), W(t)) = g_0(V_0, W_0) \exp\left(\int_0^t \omega(\dot{\gamma}(\tau)) d\tau\right)$。这表明，在非度量兼容的联络下，平行移动的向量的长度和角度会发生伸缩，伸缩的[比例因子](@entry_id:266678)依赖于所经过的路径。例如，沿一个环绕原点的闭环平行移动一周，[内积](@entry_id:158127)可能会被乘以一个因子 $F = \exp(2\pi k)$ [@problem_id:2984100]，其中 $k$ 是与 $\omega$ 相关的常数。这样的联络显然不符合我们对“刚性”几何的直观。

### [度量兼容性](@entry_id:265910)的坐标表示

为了在具体计算中使用[度量兼容性](@entry_id:265910)，我们需要其在局部坐标系下的表达式。设 $(x^1, \dots, x^n)$ 为局部坐标系，$\partial_i = \frac{\partial}{\partial x^i}$ 为[坐标基](@entry_id:270149)向量。度量分量为 $g_{ij} = g(\partial_i, \partial_j)$，[联络系数](@entry_id:157618)（克里斯托费尔符号）为 $\Gamma^k_{ij}$，由 $\nabla_{\partial_i} \partial_j = \Gamma^k_{ij} \partial_k$ 定义。

[度量兼容条件](@entry_id:201846) $\nabla_k g_{ij} = 0$ （即 $(\nabla_{\partial_k} g)(\partial_i, \partial_j) = 0$）可以展开为 [@problem_id:1525675] [@problem_id:2984097]：
$$
\nabla_k g_{ij} = \partial_k g_{ij} - \Gamma^l_{ki} g_{lj} - \Gamma^l_{kj} g_{il} = 0
$$
这个方程对于所有 $i, j, k$ 都成立。它明确地将度量分量的偏导数与克里斯托费尔符号联系起来。

这里必须强调一个常见的误解：$\nabla_k g_{ij} = 0$ 并不意味着度量分量 $g_{ij}$ 是常数，即 $\partial_k g_{ij} = 0$ [@problem_id:2974952]。上式表明，$\partial_k g_{ij}$ 通常被非零的克里斯托费尔项所抵消。例如，在二维欧氏平面 $\mathbb{R}^2$ 中，标准度量在笛卡尔坐标 $(x, y)$ 下分量是常数 ($g_{xx}=1, g_{yy}=1, g_{xy}=0$)。但在极坐标 $(r, \theta)$ 下，度量变为 $ds^2 = dr^2 + r^2 d\theta^2$，其分量 $g_{\theta\theta} = r^2$ 显然不是常数。然而，在这两种[坐标系](@entry_id:156346)下，描述同一几何结构的列维-奇维塔联络都是度量兼容的。

### [列维-奇维塔联络](@entry_id:161107)的存在唯一性

到目前为止，我们只讨论了[度量兼容性](@entry_id:265910)这一个性质。联络还可以有另一个独立的重要性质：**无挠性 (torsion-free)**。联络 $\nabla$ 的[挠率张量](@entry_id:204137) $T$ 定义为：
$$
T(X,Y) = \nabla_X Y - \nabla_Y X - [X,Y]
$$
其中 $[X,Y]$ 是[向量场的李括号](@entry_id:193400)。如果 $T=0$，则称联络是[无挠的](@entry_id:161664)或对称的。在[局部坐标系](@entry_id:751394)中，这等价于克里斯托费尔符号的下标记是对称的，即 $\Gamma^k_{ij} = \Gamma^k_{ji}$。

[度量兼容性](@entry_id:265910)和无挠性是两个独立的条件。一个联络可以满足其中一个而不满足另一个 [@problem_id:2974952]。然而，黎曼几何的基石是下面这个深刻的定理：

**[黎曼几何基本定理](@entry_id:189185)**：在任意[黎曼流形](@entry_id:261160) $(M,g)$ 上，存在**唯一**一个[仿射联络](@entry_id:160152) $\nabla$，它既是**度量兼容的** ($\nabla g = 0$)，又是**[无挠的](@entry_id:161664)** ($T=0$) [@problem_id:1535663] [@problem_id:3025041]。

这个唯一的联络被称为**列维-奇维塔联络 (Levi-Civita connection)**。

这个定理的强大之处在于，它说明仅凭度量 $g$ 本身，就能自然地、无歧义地确定一个唯一的[求导法则](@entry_id:145443)。下面我们概述其唯一性的证明，因为它精彩地展示了[度量兼容性](@entry_id:265910)与无挠性是如何协同作用的。

我们的目标是利用这两个条件，推导出 $g(\nabla_X Y, Z)$ 的一个只依赖于度量 $g$ 和向量场的表达式。我们从[度量兼容性](@entry_id:265910)的[乘积法则](@entry_id:158393)出发，写下三个循环对称的等式 [@problem_id:2974984]：
1.  $X(g(Y,Z)) = g(\nabla_X Y, Z) + g(Y, \nabla_X Z)$
2.  $Y(g(Z,X)) = g(\nabla_Y Z, X) + g(Z, \nabla_Y X)$
3.  $Z(g(X,Y)) = g(\nabla_Z X, Y) + g(X, \nabla_Z Y)$

现在，我们计算 $(1) + (2) - (3)$：
$$
X(g(Y,Z)) + Y(g(Z,X)) - Z(g(X,Y)) = g(\nabla_X Y, Z) + g(Y, \nabla_X Z) + g(\nabla_Y Z, X) + g(Z, \nabla_Y X) - g(\nabla_Z X, Y) - g(X, \nabla_Z Y)
$$
接下来，我们利用无挠条件 $\nabla_U V - \nabla_V U = [U,V]$ 来替换右侧的某些项。例如，$g(Y, \nabla_X Z) = g(Y, \nabla_Z X + [X,Z])$。经过一番巧妙的代数整理，并利用[内积](@entry_id:158127)的对称性，最终可以得到著名的**科祖尔公式 (Koszul formula)**：
$$
2g(\nabla_X Y, Z) = X(g(Y,Z)) + Y(g(X,Z)) - Z(g(X,Y)) + g([X,Y],Z) - g([Y,Z],X) - g([Z,X],Y)
$$
这个公式的右边只涉及到度量 $g$ 和[向量场的李括号](@entry_id:193400)，完全不依赖于联络 $\nabla$ 本身。由于度量 $g$ 是非退化的，对于给定的 $X, Y$，上述公式唯一地确定了 $g(\nabla_X Y, Z)$ 对所有 $Z$ 的值，从而唯一地确定了向量 $\nabla_X Y$。这便证明了满足这两个条件的联络必然是唯一的。

至于存在性，科祖尔公式本身就可以被用作 $\nabla_X Y$ 的定义，或者通过它导出克里斯托费尔符号的显式表达式 [@problem_id:2984097]：
$$
\Gamma^k_{ij} = \frac{1}{2}g^{km}(\partial_i g_{jm} + \partial_j g_{im} - \partial_m g_{ij})
$$
可以直接验证，由该公式定义的联络确实是无挠且度量兼容的。例如，将此表达式代入 $\nabla_{k}g_{ij} = \partial_{k}g_{ij} - \Gamma^{s}{}_{ik}g_{sj} - \Gamma^{s}{}_{jk}g_{is}$，经过计算后所有项都将抵消，得到结果为0，从而验证了其[度量兼容性](@entry_id:265910) [@problem_id:2984097]。

### 挠率、扭量与[度量兼容性](@entry_id:265910)

最后，我们更深入地探讨挠率与[度量兼容性](@entry_id:265910)之间的关系。如果我们有一个度量兼容但有挠的联络 $\nabla$，我们能否“修正”它得到[无挠的](@entry_id:161664)列维-奇维塔联络 $\nabla^{LC}$？

一个看似自然的方法是直接减去挠率的一部分，定义一个新联络 $\nabla^0_X Y = \nabla_X Y - \frac{1}{2}T(X,Y)$。这个新联络 $\nabla^0$ 确实是[无挠的](@entry_id:161664)。但它是否保持了[度量兼容性](@entry_id:265910)呢？我们计算 $\nabla^0 g$ [@problem_id:2991584]：
$$
(\nabla^0_X g)(Y,Z) = (\nabla_X g)(Y,Z) + \frac{1}{2}[g(T(X,Y),Z) + g(Y, T(X,Z))]
$$
如果我们始于一个度量兼容的联络 $\nabla$ (即 $\nabla g = 0$)，那么新联络的[度量兼容性](@entry_id:265910)破坏程度由上式右侧的挠率项决定。此项通常非零，因此，这种“朴素”的去挠方法通常会破坏[度量兼容性](@entry_id:265910)。

正确的修正方法是引入所谓的**扭量张量 (contorsion tensor)** $K$。对于一个度量兼容的联络 $\nabla$，其与[列维-奇维塔联络](@entry_id:161107) $\nabla^{LC}$ 的关系为 $\nabla_X Y = \nabla^{LC}_X Y + K_X Y$，其中扭量 $K$ 完全由挠率 $T$ 和度量 $g$ 决定。反过来说，我们可以从 $\nabla$ 出发，通过减去扭量来得到 $\nabla^{LC}$：$\nabla^{LC}_X Y = \nabla_X Y - K_X Y$ [@problem_id:2991584]。这揭示了在保持度量兼容的前提下，挠率与联络之间的精确关系，远比简单地加减[挠率张量](@entry_id:204137)要微妙。

总结而言，[度量兼容性](@entry_id:265910)是联系联络与度量结构的核心桥梁。它保证了平行移动的刚性，并与无挠条件一同，从[黎曼度量](@entry_id:754359)中唯一地“生长”出自然的[求导法则](@entry_id:145443)——列维-奇维塔联络，为整个黎曼几何大厦奠定了坚实的基础。