{
    "hands_on_practices": [
        {
            "introduction": "在生物信息学中，将患者的实验室检测数据表示为特征空间中的向量是一种常见方法。然而，真实世界的医疗数据常常包含异常值，这可能是由于检测错误、罕见的生物变异或其他技术因素造成的。本练习旨在通过一个实际案例，探讨两种基本的几何距离度量——曼哈顿距离（$L_1$范数）和欧几里得距离（$L_2$范数）——对异常值的敏感性有何不同，从而帮助您理解在选择度量时权衡其稳健性的重要性。",
            "id": "4558075",
            "problem": "一个研究团队将每位患者的实验室检查结果建模为特征空间中的一个向量，其中每个坐标是通过对一个大型参考队列中的该项实验室指标进行 z-score 标准化得到的标准化分数。考虑以下六个特征，顺序为：空腹血糖 (FPG)、糖化血红蛋白 (HbA1c)、收缩压 (SBP)、低密度脂蛋白 (LDL)、C反应蛋白 (CRP) 和体重指数 (BMI)。两位患者由以下标准化向量表示：\n$$\nx_A = (0.5,\\; 0.1,\\; -0.6,\\; -0.2,\\; 0.3,\\; 0.4), \\quad\nx_B = (9.5,\\; 0.2,\\; 0.8,\\; 0.8,\\; -0.1,\\; 0.4).\n$$\n两位患者之间的差异主要由患者 $B$ 的一个极端空腹血糖测量值主导，而其他特征的差异则较小。\n\n从 $\\mathbb{R}^d$ 上的曼哈顿度量（也称为 $L_1$ 度量）和欧几里得度量（也称为 $L_2$ 度量）的定义出发，将实验室向量视为 $\\mathbb{R}^6$ 中的点，计算 $x_A$ 和 $x_B$ 之间的 $L_1$ 和 $L_2$ 距离。然后，仅使用从定义中得出的性质，简要说明在此情况下哪个度量受单个极端坐标的影响更大，并解释原因。\n\n请以未经四舍五入的精确值形式提供最终的数值距离，并按 $L_1$ 距离、然后 $L_2$ 距离的顺序，以数对形式报告。最终答案中不要包含任何单位。",
            "solution": "背景是一个有限维实向量空间，其中每位患者是 $\\mathbb{R}^6$ 中的一个点，由 z-score 标准化后的实验室检查值组成。曼哈顿度量（$L_1$）和欧几里得度量（$L_2$）由 $\\mathbb{R}^d$ 上的相应范数导出，对于向量 $v = (v_1,\\dots,v_d)$，其定义为：\n$$\n\\|v\\|_1 = \\sum_{i=1}^{d} |v_i|, \\quad\n\\|v\\|_2 = \\left(\\sum_{i=1}^{d} v_i^2\\right)^{1/2}.\n$$\n给定 $\\mathbb{R}^d$ 中的两个点 $x, y$，导出的度量距离为 $d_1(x,y) = \\|x-y\\|_1$ 和 $d_2(x,y) = \\|x-y\\|_2$。\n\n我们首先计算逐坐标的差向量 $x_B - x_A$：\n- 空腹血糖 (FPG)：$9.5 - 0.5 = 9.0$。\n- 糖化血红蛋白 (HbA1c)：$0.2 - 0.1 = 0.1$。\n- 收缩压 (SBP)：$0.8 - (-0.6) = 1.4$。\n- 低密度脂蛋白 (LDL)：$0.8 - (-0.2) = 1.0$。\n- C反应蛋白 (CRP)：$-0.1 - 0.3 = -0.4$。\n- 体重指数 (BMI)：$0.4 - 0.4 = 0.0$。\n\n因此，\n$$\nx_B - x_A = (9.0,\\; 0.1,\\; 1.4,\\; 1.0,\\; -0.4,\\; 0.0).\n$$\n\n计算 $L_1$ 距离：\n$$\nd_1(x_A, x_B) \\;=\\; |9.0| + |0.1| + |1.4| + |1.0| + |{-0.4}| + |0.0|\n= 9.0 + 0.1 + 1.4 + 1.0 + 0.4 + 0\n= 11.9.\n$$\n作为一个精确的有理数，$11.9 = \\frac{119}{10}$。\n\n通过对差值的平方求和来计算 $L_2$ 距离：\n$$\n\\begin{aligned}\nd_2(x_A, x_B)\n= \\left( (9.0)^2 + (0.1)^2 + (1.4)^2 + (1.0)^2 + (-0.4)^2 + (0.0)^2 \\right)^{1/2} \\\\\n= \\left( 81 + 0.01 + 1.96 + 1 + 0.16 + 0 \\right)^{1/2}\n= \\left( 84.13 \\right)^{1/2}.\n\\end{aligned}\n$$\n以精确的分数形式表示，$84.13 = \\frac{8413}{100}$，所以\n$$\nd_2(x_A, x_B) = \\frac{\\sqrt{8413}}{10}.\n$$\n\n基于定义的离群值影响论证：在 $L_1$ 距离中，每个坐标通过 $|v_i|$ 线性地贡献，因此一个大的坐标的贡献与其量值成正比。在 $L_2$ 距离中，每个坐标在取平方根之前通过 $v_i^2$ 平方地贡献，这放大了较大坐标的相对影响。在本例中，极端血糖坐标的平方贡献是 $81$，而所有其他坐标的平方贡献之和是 $0.01 + 1.96 + 1 + 0.16 + 0 = 3.13$。因此，总平方和中由血糖贡献的分数是\n$$\n\\frac{81}{81 + 3.13} \\;=\\; \\frac{81}{84.13} \\;=\\; \\frac{8100}{8413},\n$$\n这个比例显著大于总 $L_1$ 距离中由血糖贡献的分数，\n$$\n\\frac{9.0}{11.9} \\;=\\; \\frac{90}{119}.\n$$\n这些比率仅从度量定义中导出，表明在此情况下，欧几里得（$L_2$）度量比曼哈顿（$L_1$）度量更容易受到单个极端坐标的影响。\n\n因此，精确距离为 $d_1(x_A,x_B) = \\frac{119}{10}$ 和 $d_2(x_A,x_B) = \\frac{\\sqrt{8413}}{10}$。",
            "answer": "$$\\boxed{\\begin{pmatrix}\\frac{119}{10} \\quad \\frac{\\sqrt{8413}}{10}\\end{pmatrix}}$$"
        },
        {
            "introduction": "从向量空间转向序列数据，比较DNA或蛋白质等生物序列是生物信息学的核心任务之一。本练习将介绍编辑距离（Edit Distance）的概念，它通过计算将一个序列转换为另一个序列所需的最少“编辑”操作（插入、删除、替换）来衡量序列间的差异。与简单的几何距离不同，我们将定义一个加权的Levenshtein距离，它融入了生物学知识——对转换（transition）和颠换（transversion）赋予不同成本——使度量在生物学上更具意义。",
            "id": "4558085",
            "problem": "在脱氧核糖核酸（DNA）序列分析中，基于核苷酸字母表 $\\Sigma = \\{\\text{A}, \\text{C}, \\text{G}, \\text{T}\\}$ 的字符串之间的距离通常通过计算将一个字符串转换为另一个字符串所需的带权编辑次数来定义。从度量的核心定义以及由具有非负成本的插入、删除和替换组成的编辑脚本概念开始。以此为基础，形式化定义一个用于DNA的带权 Levenshtein 编辑距离 $d:\\Sigma^{\\ast} \\times \\Sigma^{\\ast} \\to \\mathbb{R}_{\\ge 0}$，该距离为插入指定成本 $c_{\\mathrm{ins}}$，为删除指定成本 $c_{\\mathrm{del}}$，以及一个替换成本 $c_{\\mathrm{sub}}(a,b)$，该成本取决于替换是转换还是颠换：转换是嘌呤 $\\{\\text{A}, \\text{G}\\}$ 之间或嘧啶 $\\{\\text{C}, \\text{T}\\}$ 之间的替换，而颠换是任何其他错配。然后，使用具体成本：插入 $c_{\\mathrm{ins}} = 2$，删除 $c_{\\mathrm{del}} = 2$，转换 $c_{\\mathrm{ts}} = 1$，颠换 $c_{\\mathrm{tv}} = 3$，以及当 $a=b$ 时 $c_{\\mathrm{sub}}(a,b) = 0$，计算两个短基因序列之间的距离\n$$\nx = \\text{ACGTCGTA}, \\quad y = \\text{AGTTTGCA}.\n$$\n你的最终答案必须是一个实数值。无需进行四舍五入。",
            "solution": "问题要求对DNA序列的带权 Levenshtein 距离进行形式化定义，并计算两个特定序列 $x = \\text{ACGTCGTA}$ 和 $y = \\text{AGTTTGCA}$ 之间的该距离。解答将分两部分进行：首先，对距离及其性质进行形式化定义；其次，使用动态规划算法进行显式计算。\n\n如果一个对象集合上的距离函数 $d$ 对任意对象 $x, y, z$ 满足以下四个公理，那么它就是一个度量：\n1.  非负性：$d(x,y) \\ge 0$。\n2.  同一性：$d(x,y) = 0$ 当且仅当 $x=y$。\n3.  对称性：$d(x,y) = d(y,x)$。\n4.  三角不等式：$d(x,z) \\le d(x,y) + d(y,z)$。\n\n带权 Levenshtein 距离定义为使用一组带权编辑操作（插入、删除和替换）将一个字符串转换为另一个字符串的最小成本。设我们的字母表为 $\\Sigma = \\{\\text{A}, \\text{C}, \\text{G}, \\text{T}\\}$。对于任意两个字符串 $x, y \\in \\Sigma^{\\ast}$，距离 $d(x,y)$ 是将 $x$ 转换为 $y$ 的编辑脚本（一个操作序列）的最小总成本。操作的成本如下：\n-   插入成本：$c_{\\mathrm{ins}} = 2$。\n-   删除成本：$c_{\\mathrm{del}} = 2$。\n-   对于 $a,b \\in \\Sigma$ 的替换成本 $c_{\\mathrm{sub}}(a,b)$。\n\n替换成本取决于替换是转换还是颠换。转换是同一类核苷酸内部的替换：即嘌呤 $\\{\\text{A}, \\text{G}\\}$ 之间或嘧啶 $\\{\\text{C}, \\text{T}\\}$ 之间的替换。颠换是不同类别之间的替换（一个嘌呤换成一个嘧啶，反之亦然）。成本如下：\n-   $c_{\\mathrm{sub}}(a,a) = 0$ (匹配)。\n-   对于转换，$c_{\\mathrm{sub}}(a,b) = c_{\\mathrm{ts}} = 1$。\n-   对于颠换，$c_{\\mathrm{sub}}(a,b) = c_{\\mathrm{tv}} = 3$。\n\n给定的成本（$c_{\\mathrm{ins}} = c_{\\mathrm{del}} = 2 > 0$，以及替换成本 $0, 1, 3 \\ge 0$）确保了非负性和同一性。由于 $c_{\\mathrm{ins}} = c_{\\mathrm{del}}$ 且替换成本矩阵是对称的，即 $c_{\\mathrm{sub}}(a,b) = c_{\\mathrm{sub}}(b,a)$，因此满足对称性。对于这种成本结构，三角不等式也成立。因此，所定义的距离是一个有效的度量。\n\n替换成本矩阵 $S(a,b) = c_{\\mathrm{sub}}(a,b)$ 可以明确地写为：\n$$\n\\begin{array}{c|cccc}\nc_{\\mathrm{sub}}  \\text{A}  \\text{C}  \\text{G}  \\text{T} \\\\\n\\hline\n\\text{A}  0  3  1  3 \\\\\n\\text{C}  3  0  3  1 \\\\\n\\text{G}  1  3  0  3 \\\\\n\\text{T}  3  1  3  0 \\\\\n\\end{array}\n$$\n\n为了计算 $x = \\text{ACGTCGTA}$ 和 $y = \\text{AGTTTGCA}$ 之间的距离 $d(x,y)$，我们使用 Wagner-Fischer 算法。这种动态规划方法构建一个大小为 $(|x|+1) \\times (|y|+1)$ 的矩阵 $D$，其中 $|x|=8$ 且 $|y|=8$。矩阵中的条目 $D_{i,j}$ 存储了将前缀 $x[1..i]$ 转换为 $y[1..j]$ 的最小成本。\n\n矩阵初始化如下：\n$D_{0,0} = 0$\n$D_{i,0} = i \\times c_{\\mathrm{del}} = 2i$ 对于 $i \\in \\{1, \\dots, 8\\}$。\n$D_{0,j} = j \\times c_{\\mathrm{ins}} = 2j$ 对于 $j \\in \\{1, \\dots, 8\\}$。\n\n剩余的条目使用以下递推关系填充：\n$$\nD_{i,j} = \\min \\begin{cases} D_{i-1,j} + c_{\\mathrm{del}} \\\\ D_{i,j-1} + c_{\\mathrm{ins}} \\\\ D_{i-1,j-1} + c_{\\mathrm{sub}}(x_i, y_j) \\end{cases}\n= \\min( D_{i-1,j} + 2, D_{i,j-1} + 2, D_{i-1,j-1} + c_{\\mathrm{sub}}(x_i, y_j) )\n$$\n对整个矩阵完成此过程，我们得到下表，其中行对应于 $x$ 的前缀（由 $i$ 索引），列对应于 $y$ 的前缀（由 $j$ 索引）：\n\n$$\n\\begin{array}{c|c|cccccccc}\n   j  0  1  2  3  4  5  6  7  8 \\\\\ni   \\text{}  \\text{A}  \\text{G}  \\text{T}  \\text{T}  \\text{T}  \\text{G}  \\text{C}  \\text{A} \\\\\n\\hline\n0  \\text{}  0  2  4  6  8  10  12  14  16 \\\\\n1  \\text{A}  2  0  2  4  6  8  10  12  14 \\\\\n2  \\text{C}  4  2  3  3  5  7  9  10  12 \\\\\n3  \\text{G}  6  4  2  4  6  8  7  9  11 \\\\\n4  \\text{T}  8  6  4  2  4  6  8  8  10 \\\\\n5  \\text{C}  10  8  6  4  3  5  7  8  10 \\\\\n6  \\text{G}  12  10  8  6  5  3  5  7  9 \\\\\n7  \\text{T}  14  12  10  8  6  5  5  4  6 \\\\\n8  \\text{A}  16  14  12  10  8  7  6  6  \\mathbf{4} \\\\\n\\end{array}\n$$\n距离 $d(x,y)$ 是矩阵右下角单元格中的值，$D_{|x|,|y|} = D_{8,8}$。\n让我们验证最后一个条目 $D_{8,8}$，它对应于对齐 $x_8=\\text{A}$ 和 $y_8=\\text{A}$。替换成本是 $c_{\\mathrm{sub}}(\\text{A},\\text{A})=0$。使用修正后的动态规划表中的值，我们有：\n$$\nD_{8,8} = \\min(D_{7,8}+2, D_{8,7}+2, D_{7,7}+0) = \\min(6+2, 6+2, 4+0) = \\min(8, 8, 4)=4.\n$$\n将字符串 $x$ 转换为字符串 $y$ 的最小成本是 $4$。",
            "answer": "$$\n\\boxed{4}\n$$"
        },
        {
            "introduction": "在高维组学数据（如代谢组学）的分析中，我们通常更关心特征模式的相似性，而非原始数值的绝对差异。本练习通过一个模拟的代谢组学数据集，对比了两种广泛使用的相似性度量：余弦相似度（Cosine Similarity）和皮尔逊相关系数（Pearson Correlation）。您将通过计算发现，由于它们对数据平移的不变性不同，这两种度量会对样本相似性给出截然不同的排序，尤其是在存在系统性偏差（如批次效应）的情况下。",
            "id": "4558147",
            "problem": "一个代谢组学实验室对三个血浆样本中的 $m=5$ 种代谢物进行了强度量化，并怀疑批次效应引起的均值漂移影响了其中一个样本。设参考样本为 $S_{A}$，其特征向量为 $x_{A} = [2, 5, 7, 4, 6]$。考虑三个比较样本：\n- $S_{B}$，其向量为 $x_{B} = [4, 11, 13, 9, 11]$，代表对 $S_{A}$ 的近似乘法缩放，并带有保持生物学比例关系的小的零均值扰动。\n- $S_{C}$，其向量为 $x_{C} = [7, 10, 12, 9, 11]$，代表一个恒定的均值漂移，很可能是由批次效应引起的（每种代谢物的强度相比于 $S_{A}$ 都增加了大约一个常数）。\n- $S_{D}$，其向量为 $x_{D} = [18, 15, 13, 16, 14]$，代表一个均值漂移的反转 $x_{D} \\approx -x_{A} + c$，它反转了生物学模式，同时通过一个常数提升了所有强度。\n\n使用这些向量，根据生物信息学和医学数据分析中的两个基本指标，评估 $S_{A}$ 与 $S_{B}$、$S_{C}$、$S_{D}$ 中每一个样本的相似度：\n1. 对原始向量计算余弦相似度。\n2. 对均值中心化后的向量计算皮尔逊相关系数。\n\n分别使用余弦相似度和皮尔逊相关系数，将 $S_{B}$、$S_{C}$ 和 $S_{D}$ 按照与 $S_{A}$ 的相似度从高到低进行排序，形成两个排序。然后，为了量化均值漂移对排序的影响，计算这两个排序之间的肯德尔tau距离，其定义为在两个指标下，集合 $\\{S_{B}, S_{C}, S_{D}\\}$ 中元素对的相对顺序不一致的数量。\n\n最终答案以单个整数形式提供。无需单位。如果中间数值是近似值，计算过程中请至少保留四位有效数字。",
            "solution": "本题要求使用两种不同的指标（余弦相似度和皮尔逊相关系数）来评估参考样本向量 $x_{A}$ 与其他三个样本向量 $x_{B}$、$x_{C}$ 和 $x_{D}$ 之间的相似度。随后，需要根据这些相似度分数生成两个样本排序。最后，必须计算这两个排序之间的肯德尔tau距离。\n\n给定的数据向量如下：\n$x_{A} = [2, 5, 7, 4, 6]$\n$x_{B} = [4, 11, 13, 9, 11]$\n$x_{C} = [7, 10, 12, 9, 11]$\n$x_{D} = [18, 15, 13, 16, 14]$\n\n首先，我们计算每对向量 $(x_{A}, x_{B})$、$(x_{A}, x_{C})$ 和 $(x_{A}, x_{D})$ 的余弦相似度。两个向量 $u$ 和 $v$ 之间的余弦相似度定义为 $\\cos(\\theta) = \\frac{u \\cdot v}{\\|u\\| \\|v\\|}$。\n\n我们计算点积和向量模长：\n$x_{A}$ 的范数平方为 $\\|x_{A}\\|^2 = 2^2 + 5^2 + 7^2 + 4^2 + 6^2 = 4 + 25 + 49 + 16 + 36 = 130$。\n其范数为 $\\|x_{A}\\| = \\sqrt{130}$。\n\n对于 $S_{B}$：\n$x_{A} \\cdot x_{B} = (2)(4) + (5)(11) + (7)(13) + (4)(9) + (6)(11) = 8 + 55 + 91 + 36 + 66 = 256$。\n$\\|x_{B}\\|^2 = 4^2 + 11^2 + 13^2 + 9^2 + 11^2 = 16 + 121 + 169 + 81 + 121 = 508$。\n$\\|x_{B}\\| = \\sqrt{508}$。\n$x_{A}$ 和 $x_{B}$ 之间的余弦相似度为：\n$$ \\cos(x_{A}, x_{B}) = \\frac{256}{\\sqrt{130} \\sqrt{508}} = \\frac{256}{\\sqrt{66040}} \\approx 0.9961 $$\n\n对于 $S_{C}$：\n$x_{A} \\cdot x_{C} = (2)(7) + (5)(10) + (7)(12) + (4)(9) + (6)(11) = 14 + 50 + 84 + 36 + 66 = 250$。\n$\\|x_{C}\\|^2 = 7^2 + 10^2 + 12^2 + 9^2 + 11^2 = 49 + 100 + 144 + 81 + 121 = 495$。\n$\\|x_{C}\\| = \\sqrt{495}$。\n$x_{A}$ 和 $x_{C}$ 之间的余弦相似度为：\n$$ \\cos(x_{A}, x_{C}) = \\frac{250}{\\sqrt{130} \\sqrt{495}} = \\frac{250}{\\sqrt{64350}} \\approx 0.9855 $$\n\n对于 $S_{D}$：\n$x_{A} \\cdot x_{D} = (2)(18) + (5)(15) + (7)(13) + (4)(16) + (6)(14) = 36 + 75 + 91 + 64 + 84 = 350$。\n$\\|x_{D}\\|^2 = 18^2 + 15^2 + 13^2 + 16^2 + 14^2 = 324 + 225 + 169 + 256 + 196 = 1170$。\n$\\|x_{D}\\| = \\sqrt{1170}$。\n$x_{A}$ 和 $x_{D}$ 之间的余弦相似度为：\n$$ \\cos(x_{A}, x_{D}) = \\frac{350}{\\sqrt{130} \\sqrt{1170}} = \\frac{350}{\\sqrt{152100}} = \\frac{350}{390} = \\frac{35}{39} \\approx 0.8974 $$\n\n将样本按与 $S_{A}$ 的余弦相似度从高到低排序：$S_{B}$ ($0.9961$)  $S_{C}$ ($0.9855$)  $S_{D}$ ($0.8974$)。\n第一个排序 $R_{1}$ 为 $(S_{B}, S_{C}, S_{D})$。\n\n接下来，我们计算皮尔逊相关系数，即均值中心化向量的余弦相似度。对于均值为 $\\bar{u}$ 的向量 $u$，其均值中心化向量为 $u' = u - \\bar{u}$。皮尔逊相关系数为 $\\rho(u,v) = \\frac{(u - \\bar{u}) \\cdot (v - \\bar{v})}{\\|u - \\bar{u}\\| \\|v - \\bar{v}\\|}$。\n\n首先，我们计算各向量的均值：\n$\\bar{x}_{A} = \\frac{2+5+7+4+6}{5} = \\frac{24}{5} = 4.8$。\n$\\bar{x}_{B} = \\frac{4+11+13+9+11}{5} = \\frac{48}{5} = 9.6$。\n$\\bar{x}_{C} = \\frac{7+10+12+9+11}{5} = \\frac{49}{5} = 9.8$。\n$\\bar{x}_{D} = \\frac{18+15+13+16+14}{5} = \\frac{76}{5} = 15.2$。\n\n现在，我们创建均值中心化向量：\n$x'_{A} = [2-4.8, 5-4.8, 7-4.8, 4-4.8, 6-4.8] = [-2.8, 0.2, 2.2, -0.8, 1.2]$。\n$x'_{B} = [4-9.6, 11-9.6, 13-9.6, 9-9.6, 11-9.6] = [-5.6, 1.4, 3.4, -0.6, 1.4]$。\n$x'_{C} = [7-9.8, 10-9.8, 12-9.8, 9-9.8, 11-9.8] = [-2.8, 0.2, 2.2, -0.8, 1.2]$。\n$x'_{D} = [18-15.2, 15-15.2, 13-15.2, 16-15.2, 14-15.2] = [2.8, -0.2, -2.2, 0.8, -1.2]$。\n\n我们观察到 $x'_{C} = x'_{A}$ 且 $x'_{D} = -x'_{A}$。这使我们可以直接确定 $S_{C}$ 和 $S_{D}$ 与 $S_{A}$ 的皮尔逊相关系数。\n对于 $S_{C}$：由于均值中心化后的向量完全相同，它们的相关性是完美的。\n$$ \\rho(x_{A}, x_{C}) = 1 $$\n对于 $S_{D}$：由于均值中心化后的向量完全反平行（$x'_{D} = -1 \\cdot x'_{A}$），它们的相关性是完美的负相关。\n$$ \\rho(x_{A}, x_{D}) = -1 $$\n\n对于 $S_{B}$，我们计算其与 $S_{A}$ 的相关系数：\n$x'_{A} \\cdot x'_{B} = (-2.8)(-5.6) + (0.2)(1.4) + (2.2)(3.4) + (-0.8)(-0.6) + (1.2)(1.4) = 15.68 + 0.28 + 7.48 + 0.48 + 1.68 = 25.6$。\n$\\|x'_{A}\\|^2 = (-2.8)^2 + (0.2)^2 + (2.2)^2 + (-0.8)^2 + (1.2)^2 = 7.84 + 0.04 + 4.84 + 0.64 + 1.44 = 14.8$。\n$\\|x'_{B}\\|^2 = (-5.6)^2 + (1.4)^2 + (3.4)^2 + (-0.6)^2 + (1.4)^2 = 31.36 + 1.96 + 11.56 + 0.36 + 1.96 = 47.2$。\n$x_{A}$ 和 $x_{B}$ 之间的皮尔逊相关系数为：\n$$ \\rho(x_{A}, x_{B}) = \\frac{x'_{A} \\cdot x'_{B}}{\\|x'_{A}\\| \\|x'_{B}\\|} = \\frac{25.6}{\\sqrt{14.8} \\sqrt{47.2}} = \\frac{25.6}{\\sqrt{698.56}} \\approx 0.9686 $$\n\n将样本按与 $S_{A}$ 的皮尔逊相关系数从高到低排序：$S_{C}$ ($1.0$)  $S_{B}$ ($0.9686$)  $S_{D}$ ($-1.0$)。\n第二个排序 $R_{2}$ 为 $(S_{C}, S_{B}, S_{D})$。\n\n最后，我们计算两个排序 $R_{1} = (S_{B}, S_{C}, S_{D})$ 和 $R_{2} = (S_{C}, S_{B}, S_{D})$ 之间的肯德尔tau距离。肯德尔tau距离是在两个排序中相对顺序不同的项目对的数量。项目集为 $\\{S_{B}, S_{C}, S_{D}\\}$。有 $\\binom{3}{2} = 3$ 个配对需要检查：$\\{S_{B}, S_{C}\\}$、$\\{S_{B}, S_{D}\\}$ 和 $\\{S_{C}, S_{D}\\}$。\n\n1.  对 $\\{S_{B}, S_{C}\\}$：\n    在 $R_{1}$ 中，$S_{B}$ 在 $S_{C}$ 之前。顺序：$S_{B} \\succ S_{C}$。\n    在 $R_{2}$ 中，$S_{C}$ 在 $S_{B}$ 之前。顺序：$S_{C} \\succ S_{B}$。\n    顺序不同，因此这是一个不一致对。\n\n2.  对 $\\{S_{B}, S_{D}\\}$：\n    在 $R_{1}$ 中，$S_{B}$ 在 $S_{D}$ 之前。顺序：$S_{B} \\succ S_{D}$。\n    在 $R_{2}$ 中，$S_{B}$ 在 $S_{D}$ 之前。顺序：$S_{B} \\succ S_{D}$。\n    顺序相同，因此这是一个一致对。\n\n3.  对 $\\{S_{C}, S_{D}\\}$：\n    在 $R_{1}$ 中，$S_{C}$ 在 $S_{D}$ 之前。顺序：$S_{C} \\succ S_{D}$。\n    在 $R_{2}$ 中，$S_{C}$ 在 $S_{D}$ 之前。顺序：$S_{C} \\succ S_{D}$。\n    顺序相同，因此这是一个一致对。\n\n恰好有一个不一致对。因此，两个排序之间的肯德尔tau距离为 $1$。\n这个结果说明了余弦相似度和皮尔逊相关系数具有不同的敏感性。余弦相似度对向量模长和均值偏移的差异很敏感，而皮尔逊相关系数对线性变换（缩放和平移）不敏感，因此只对数据剖面的形状敏感。$S_{C}$ 中的恒定加性漂移严重降低了其与参考样本的余弦相似度，但却使其皮尔逊相关系数达到完美，从而导致其与 $S_{B}$ 的排名发生互换。",
            "answer": "$$\\boxed{1}$$"
        }
    ]
}