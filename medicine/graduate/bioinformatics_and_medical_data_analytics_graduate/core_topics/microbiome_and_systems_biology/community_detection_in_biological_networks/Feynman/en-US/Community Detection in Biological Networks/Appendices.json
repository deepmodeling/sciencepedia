{
    "hands_on_practices": [
        {
            "introduction": "The modularity score, denoted as $Q$, is a cornerstone of community detection in network science. Before applying this metric to large-scale biological networks, it is crucial to understand its calculation from first principles. This exercise provides a foundational walkthrough of computing modularity for a small directed network, breaking the process down into determining in-degrees and out-degrees, and comparing the observed number of edges within communities to the number expected under a random null model. Mastering this calculation will provide you with a concrete grasp of how modularity quantifies the strength of a network's community structure. ",
            "id": "4365539",
            "problem": "In systems biomedicine, community detection in directed biomolecular interaction networks such as a Gene Regulatory Network (GRN) is often quantified by a scalar quantity called network modularity, which measures how much a given partition concentrates edges within communities beyond what would be expected under a random null model that preserves the in-degree and out-degree sequences. Consider a directed network with nodes $1$, $2$, and $3$, and directed edges $1 \\to 2$, $2 \\to 3$, and $3 \\to 1$. Let the partition of nodes be $\\{\\{1,2\\},\\{3\\}\\}$, where nodes $1$ and $2$ form one community and node $3$ is alone in the other community. Using the standard configuration-model null ensemble for directed networks that preserves the in-degree and out-degree of each node, compute the modularity $Q$ for this partition. Your computation must proceed by first explicitly calculating the in-degree $k_{i}^{\\text{in}}$ and out-degree $k_{i}^{\\text{out}}$ for each node $i \\in \\{1,2,3\\}$, then evaluating the observed within-community edge count and its expectation under the null model, and finally assembling these into the modularity $Q$ for the specified partition. Express your final answer as an exact rational number, with no rounding.",
            "solution": "The problem requires the computation of the modularity, $Q$, for a given partition of a specific directed network. The modularity for a directed network measures the extent to which edges are concentrated within communities compared to a random null model. The standard definition of modularity, $Q$, for a partition of a directed network into a set of communities $\\{c\\}$ is given by:\n\n$$ Q = \\frac{1}{M} \\sum_{i,j} \\left[ A_{ij} - P_{ij} \\right] \\delta(c_i, c_j) $$\n\nwhere:\n- $M$ is the total number of edges in the network.\n- $A_{ij}$ is the adjacency matrix element, equal to $1$ if a directed edge exists from node $i$ to node $j$, and $0$ otherwise.\n- $P_{ij}$ is the probability of an edge existing from node $i$ to node $j$ in the configuration null model, given by $P_{ij} = \\frac{k_i^{\\text{out}} k_j^{\\text{in}}}{M}$. Here, $k_i^{\\text{out}}$ is the out-degree of node $i$ and $k_j^{\\text{in}}$ is the in-degree of node $j$.\n- $c_i$ is the community assignment of node $i$.\n- $\\delta(c_i, c_j)$ is the Kronecker delta, which is $1$ if nodes $i$ and $j$ are in the same community ($c_i = c_j$) and $0$ otherwise.\n\nThe calculation will proceed by following the steps outlined in the problem statement.\n\nFirst, we identify the network's properties from the problem description.\nThe network has nodes $V = \\{1, 2, 3\\}$.\nThe directed edges are $1 \\to 2$, $2 \\to 3$, and $3 \\to 1$.\nThe total number of edges is $M=3$.\nThe adjacency matrix $A$ is:\n$$ A = \\begin{pmatrix} 0 & 1 & 0 \\\\ 0 & 0 & 1 \\\\ 1 & 0 & 0 \\end{pmatrix} $$\n\nThe specified partition is $\\{\\{1,2\\},\\{3\\}\\}$. Let's denote community $C_1 = \\{1, 2\\}$ and community $C_2 = \\{3\\}$.\n\n**Step 1: Calculate the in-degree and out-degree for each node.**\n\n- For node $1$: There is one outgoing edge ($1 \\to 2$) and one incoming edge ($3 \\to 1$).\n  $$ k_1^{\\text{out}} = 1, \\quad k_1^{\\text{in}} = 1 $$\n- For node $2$: There is one outgoing edge ($2 \\to 3$) and one incoming edge ($1 \\to 2$).\n  $$ k_2^{\\text{out}} = 1, \\quad k_2^{\\text{in}} = 1 $$\n- For node $3$: There is one outgoing edge ($3 \\to 1$) and one incoming edge ($2 \\to 3$).\n  $$ k_3^{\\text{out}} = 1, \\quad k_3^{\\text{in}} = 1 $$\nThe sum of out-degrees is $\\sum_{i} k_i^{\\text{out}} = 1+1+1=3$, and the sum of in-degrees is $\\sum_{j} k_j^{\\text{in}} = 1+1+1=3$. Both sums are equal to the total number of edges $M$, as expected.\n\n**Step 2: Evaluate the observed within-community edge count.**\n\nThe modularity formula can be expressed as the difference between the fraction of edges that are within communities and the expected fraction of such edges in the null model.\nThe fraction of edges within communities is given by $\\frac{1}{M}\\sum_{i,j} A_{ij} \\delta(c_i, c_j)$.\nWe sum the number of edges that start and end in the same community.\n- For community $C_1 = \\{1, 2\\}$, we check for edges $(i,j)$ where $i,j \\in \\{1,2\\}$. The only such edge is $1 \\to 2$. Thus, the number of internal edges is $L_{C_1} = 1$.\n- For community $C_2 = \\{3\\}$, we check for edges $(i,j)$ where $i,j \\in \\{3\\}$. There are no self-loops on node $3$. Thus, the number of internal edges is $L_{C_2} = 0$.\n\nThe total number of observed within-community edges is $L = L_{C_1} + L_{C_2} = 1 + 0 = 1$.\nThe fraction of observed within-community edges is $\\frac{L}{M} = \\frac{1}{3}$.\n\n**Step 3: Evaluate the expected within-community edge count under the null model.**\n\nThe expected fraction of edges within communities is given by $\\frac{1}{M}\\sum_{i,j} P_{ij} \\delta(c_i, c_j) = \\frac{1}{M^2}\\sum_{i,j} k_i^{\\text{out}} k_j^{\\text{in}} \\delta(c_i, c_j)$.\nThis term can be calculated by summing the contributions from each community. Let $K_c^{\\text{out}} = \\sum_{i \\in c} k_i^{\\text{out}}$ and $K_c^{\\text{in}} = \\sum_{j \\in c} k_j^{\\text{in}}$. The expected fraction is $\\sum_{c} \\frac{K_c^{\\text{out}} K_c^{\\text{in}}}{M^2}$.\n\n- For community $C_1 = \\{1, 2\\}$:\n  The total out-degree is $K_{C_1}^{\\text{out}} = k_1^{\\text{out}} + k_2^{\\text{out}} = 1 + 1 = 2$.\n  The total in-degree is $K_{C_1}^{\\text{in}} = k_1^{\\text{in}} + k_2^{\\text{in}} = 1 + 1 = 2$.\n  The expected fraction of edges within $C_1$ is $\\frac{K_{C_1}^{\\text{out}} K_{C_1}^{\\text{in}}}{M^2} = \\frac{2 \\times 2}{3^2} = \\frac{4}{9}$.\n\n- For community $C_2 = \\{3\\}$:\n  The total out-degree is $K_{C_2}^{\\text{out}} = k_3^{\\text{out}} = 1$.\n  The total in-degree is $K_{C_2}^{\\text{in}} = k_3^{\\text{in}} = 1$.\n  The expected fraction of edges within $C_2$ is $\\frac{K_{C_2}^{\\text{out}} K_{C_2}^{\\text{in}}}{M^2} = \\frac{1 \\times 1}{3^2} = \\frac{1}{9}$.\n\nThe total expected fraction of within-community edges is the sum of these contributions:\n$$ \\frac{4}{9} + \\frac{1}{9} = \\frac{5}{9} $$\n\n**Step 4: Assemble these components to compute the modularity $Q$.**\n\nThe modularity $Q$ is the difference between the observed fraction of within-community edges and the expected fraction:\n$$ Q = (\\text{Observed fraction}) - (\\text{Expected fraction}) $$\n$$ Q = \\frac{1}{3} - \\frac{5}{9} $$\nTo subtract, we find a common denominator, which is $9$:\n$$ Q = \\frac{3}{9} - \\frac{5}{9} = -\\frac{2}{9} $$\n\nThe modularity for the given partition is $-\\frac{2}{9}$. The negative value indicates that the given partition has fewer internal edges than would be expected at random under the specified configuration null model.",
            "answer": "$$\\boxed{-\\frac{2}{9}}$$"
        },
        {
            "introduction": "In systems biology, the ultimate goal of community detection extends beyond identifying dense clusters of nodes; it aims to uncover functionally coherent modules that drive biological processes. This practice bridges the gap between abstract network topology and concrete biological interpretation. You will first determine the optimal community structure for a given protein-protein interaction network by comparing the modularity scores of different partitions, and then use the hypergeometric test to assess whether the detected communities are significantly enriched with genes from known functional pathways. This exercise simulates a core workflow in bioinformatics, illustrating how network analysis and statistical enrichment work together to reveal the functional organization of the cell. ",
            "id": "4565309",
            "problem": "An undirected, simple pathway network $G=(V,E)$ is constructed from curated protein-protein interactions for $|V|=8$ genes, labeled $g_{1}, g_{2}, \\dots, g_{8}$. The edge set $E$ is given as\n$$\nE=\\{(g_{1},g_{2}), (g_{1},g_{3}), (g_{2},g_{3}), (g_{4},g_{5}), (g_{4},g_{6}), (g_{5},g_{6}), (g_{3},g_{4}), (g_{6},g_{7}), (g_{7},g_{8})\\}.\n$$\nAssume the standard null model for random networks that preserves node degrees (the configuration model). Community detection is posed as maximizing the modularity quality function, defined relative to this null model, for candidate partitions of $V$.\n\nTwo candidate community partitions are proposed:\n$$\n\\mathcal{P}_{A}=\\big\\{\\{g_{1},g_{2},g_{3}\\},\\{g_{4},g_{5},g_{6},g_{7},g_{8}\\}\\big\\},\\quad\n\\mathcal{P}_{B}=\\big\\{\\{g_{1},g_{2},g_{3}\\},\\{g_{4},g_{5},g_{6}\\},\\{g_{7},g_{8}\\}\\big\\}.\n$$\nThe biological annotation universe is the set $V$ of the $8$ genes. Three Gene Ontology (GO) biological process terms are provided with their gene memberships:\n$$\n\\text{DNA repair}: \\{g_{1},g_{2},g_{3}\\},\\quad\n\\text{immune signaling}: \\{g_{4},g_{5},g_{6}\\},\\quad\n\\text{axon guidance}: \\{g_{7},g_{8}\\}.\n$$\nStarting from the core definition of modularity under the configuration model null, and the definition of the hypergeometric test for term enrichment, determine which of $\\mathcal{P}_{A}$ or $\\mathcal{P}_{B}$ yields the higher modularity, then compute the modularity value $Q$ for the maximizing partition. Use the hypergeometric test to assess, for each community of the maximizing partition, whether the corresponding GO term shown above is enriched in that community, and explain the biological coherence of the detected modules with respect to enriched processes.\n\nReport only the final modularity value for the maximizing partition as a dimensionless quantity. Round your answer to four significant figures.",
            "solution": "First, we characterize the graph $G=(V,E)$.\nThe set of vertices (genes) is $V = \\{g_{1}, g_{2}, g_{3}, g_{4}, g_{5}, g_{6}, g_{7}, g_{8}\\}$, so the total number of nodes is $|V|=8$.\nThe set of edges (interactions) is $E=\\{(g_{1},g_{2}), (g_{1},g_{3}), (g_{2},g_{3}), (g_{4},g_{5}), (g_{4},g_{6}), (g_{5},g_{6}), (g_{3},g_{4}), (g_{6},g_{7}), (g_{7},g_{8})\\}$.\nThe total number of edges is $m = |E| = 9$. The total degree of the graph is $2m = 18$.\n\nThe degrees $k_i$ of the individual nodes $g_i$ are:\n$k_{1} = 2$\n$k_{2} = 2$\n$k_{3} = 3$\n$k_{4} = 3$\n$k_{5} = 2$\n$k_{6} = 3$\n$k_{7} = 2$\n$k_{8} = 1$\nThe sum of degrees is $\\sum_{i=1}^{8} k_i = 2+2+3+3+2+3+2+1 = 18$, which correctly equals $2m$.\n\nThe modularity $Q$ of a partition $\\mathcal{P}$ is defined as:\n$$Q = \\sum_{c \\in \\mathcal{P}} \\left[ \\frac{L_c}{m} - \\left( \\frac{d_c}{2m} \\right)^2 \\right]$$\nwhere for each community $c \\in \\mathcal{P}$, $L_c$ is the number of internal edges within the community, and $d_c$ is the sum of the degrees of the nodes in that community.\n\nWe now compute the modularity for each proposed partition.\n\n**Partition $\\mathcal{P}_{A} = \\big\\{C_{A1}, C_{A2}\\big\\}$**\nCommunity $C_{A1} = \\{g_{1}, g_{2}, g_{3}\\}$\n- The degrees of the nodes are $k_1=2, k_2=2, k_3=3$. The sum of degrees is $d_{A1} = 2+2+3=7$.\n- The edges within $C_{A1}$ are $(g_1, g_2), (g_1, g_3), (g_2, g_3)$. So, the number of internal edges is $L_{A1} = 3$.\n\nCommunity $C_{A2} = \\{g_{4}, g_{5}, g_{6}, g_{7}, g_{8}\\}$\n- The degrees of the nodes are $k_4=3, k_5=2, k_6=3, k_7=2, k_8=1$. The sum of degrees is $d_{A2} = 3+2+3+2+1=11$.\n- The edges within $C_{A2}$ are $(g_4, g_5), (g_4, g_6), (g_5, g_6), (g_6, g_7), (g_7, g_8)$. So, the number of internal edges is $L_{A2} = 5$.\n\nThe modularity $Q_A$ is:\n$$Q_{A} = \\left[ \\frac{L_{A1}}{m} - \\left(\\frac{d_{A1}}{2m}\\right)^2 \\right] + \\left[ \\frac{L_{A2}}{m} - \\left(\\frac{d_{A2}}{2m}\\right)^2 \\right]$$\n$$Q_{A} = \\left[ \\frac{3}{9} - \\left(\\frac{7}{18}\\right)^2 \\right] + \\left[ \\frac{5}{9} - \\left(\\frac{11}{18}\\right)^2 \\right]$$\n$$Q_{A} = \\left[ \\frac{1}{3} - \\frac{49}{324} \\right] + \\left[ \\frac{5}{9} - \\frac{121}{324} \\right]$$\n$$Q_{A} = \\frac{108 - 49}{324} + \\frac{180 - 121}{324} = \\frac{59}{324} + \\frac{59}{324} = \\frac{118}{324} = \\frac{59}{162}$$\n$Q_{A} \\approx 0.3641975...$\n\n**Partition $\\mathcal{P}_{B} = \\big\\{C_{B1}, C_{B2}, C_{B3}\\big\\}$**\nCommunity $C_{B1} = \\{g_{1}, g_{2}, g_{3}\\}$\n- This is the same as $C_{A1}$. So, $d_{B1} = 7$ and $L_{B1} = 3$.\n\nCommunity $C_{B2} = \\{g_{4}, g_{5}, g_{6}\\}$\n- The degrees of the nodes are $k_4=3, k_5=2, k_6=3$. The sum of degrees is $d_{B2} = 3+2+3=8$.\n- The edges within $C_{B2}$ are $(g_4, g_5), (g_4, g_6), (g_5, g_6)$. So, the number of internal edges is $L_{B2} = 3$.\n\nCommunity $C_{B3} = \\{g_{7}, g_{8}\\}$\n- The degrees of the nodes are $k_7=2, k_8=1$. The sum of degrees is $d_{B3} = 2+1=3$.\n- The only edge within $C_{B3}$ is $(g_7, g_8)$. So, the number of internal edges is $L_{B3} = 1$.\n\nThe modularity $Q_B$ is:\n$$Q_{B} = \\left[ \\frac{L_{B1}}{m} - \\left(\\frac{d_{B1}}{2m}\\right)^2 \\right] + \\left[ \\frac{L_{B2}}{m} - \\left(\\frac{d_{B2}}{2m}\\right)^2 \\right] + \\left[ \\frac{L_{B3}}{m} - \\left(\\frac{d_{B3}}{2m}\\right)^2 \\right]$$\n$$Q_{B} = \\left[ \\frac{3}{9} - \\left(\\frac{7}{18}\\right)^2 \\right] + \\left[ \\frac{3}{9} - \\left(\\frac{8}{18}\\right)^2 \\right] + \\left[ \\frac{1}{9} - \\left(\\frac{3}{18}\\right)^2 \\right]$$\n$$Q_{B} = \\left[ \\frac{1}{3} - \\frac{49}{324} \\right] + \\left[ \\frac{1}{3} - \\left(\\frac{4}{9}\\right)^2 \\right] + \\left[ \\frac{1}{9} - \\left(\\frac{1}{6}\\right)^2 \\right]$$\n$$Q_{B} = \\frac{59}{324} + \\left[ \\frac{1}{3} - \\frac{16}{81} \\right] + \\left[ \\frac{1}{9} - \\frac{1}{36} \\right]$$\n$$Q_{B} = \\frac{59}{324} + \\left[ \\frac{27 - 16}{81} \\right] + \\left[ \\frac{4 - 1}{36} \\right] = \\frac{59}{324} + \\frac{11}{81} + \\frac{3}{36} = \\frac{59}{324} + \\frac{11 \\times 4}{324} + \\frac{3 \\times 9}{324}$$\n$$Q_{B} = \\frac{59 + 44 + 27}{324} = \\frac{130}{324} = \\frac{65}{162}$$\n$Q_{B} \\approx 0.4012345...$\n\nComparing the two modularity values: $Q_{B} = 65/162 > 59/162 = Q_{A}$.\nThus, partition $\\mathcal{P}_{B}$ yields the higher modularity. The maximizing partition is $\\mathcal{P}_B$, with a modularity of $Q = 65/162$.\n\nNext, we assess the biological coherence of the maximizing partition $\\mathcal{P}_{B}$ using the hypergeometric test. The null hypothesis for this test is that genes from a specific GO term are distributed randomly among the communities. The p-value is the probability of observing an overlap of size $k$ or greater by chance.\nThe universe of genes is $V$, with size $N = 8$.\nThe communities are $C_{B1}=\\{g_{1},g_{2},g_{3}\\}$, $C_{B2}=\\{g_{4},g_{5},g_{6}\\}$, and $C_{B3}=\\{g_{7},g_{8}\\}$.\nThe GO terms are $T_1=\\text{DNA repair}: \\{g_{1},g_{2},g_{3}\\}$, $T_2=\\text{immune signaling}: \\{g_{4},g_{5},g_{6}\\}$, and $T_3=\\text{axon guidance}: \\{g_{7},g_{8}\\}$.\n\nFor each community in $\\mathcal{P}_B$, we test for enrichment of the corresponding GO term. The p-value is calculated as $P(X \\ge k) = \\sum_{i=k}^{\\min(n,K)} \\frac{\\binom{K}{i} \\binom{N-K}{n-i}}{\\binom{N}{n}}$, where $N$ is the total number of genes in the universe, $K$ is the total number of genes associated with the GO term, $n$ is the number of genes in the community, and $k$ is the number of genes in their intersection.\n\n1.  **Community $C_{B1}$ vs. GO term \"DNA repair\" ($T_1$)**:\n    - Population size $N=8$.\n    - Community size (sample size) $n = |C_{B1}| = 3$.\n    - Term size (successes in population) $K = |T_1| = 3$.\n    - Overlap (successes in sample) $k = |C_{B1} \\cap T_1| = 3$.\n    - The p-value is $P(X \\ge 3) = P(X=3)$, since $k$ is the maximum possible value.\n    $$p_1 = \\frac{\\binom{3}{3}\\binom{8-3}{3-3}}{\\binom{8}{3}} = \\frac{1 \\cdot \\binom{5}{0}}{\\frac{8 \\cdot 7 \\cdot 6}{3 \\cdot 2 \\cdot 1}} = \\frac{1}{56}$$\n\n2.  **Community $C_{B2}$ vs. GO term \"immune signaling\" ($T_2$)**:\n    - $N=8$, $n = |C_{B2}| = 3$, $K = |T_2| = 3$, $k = |C_{B2} \\cap T_2| = 3$.\n    - The parameters are identical to the previous case.\n    $$p_2 = \\frac{\\binom{3}{3}\\binom{8-3}{3-3}}{\\binom{8}{3}} = \\frac{1}{56}$$\n\n3.  **Community $C_{B3}$ vs. GO term \"axon guidance\" ($T_3$)**:\n    - $N=8$, $n = |C_{B3}| = 2$, $K = |T_3| = 2$, $k = |C_{B3} \\cap T_3| = 2$.\n    - The p-value is $P(X \\ge 2) = P(X=2)$.\n    $$p_3 = \\frac{\\binom{2}{2}\\binom{8-2}{2-2}}{\\binom{8}{2}} = \\frac{1 \\cdot \\binom{6}{0}}{\\frac{8 \\cdot 7}{2}} = \\frac{1}{28}$$\n\nAll p-values ($p_1 \\approx 0.0179$, $p_2 \\approx 0.0179$, $p_3 \\approx 0.0357$) are low (e.g., below a typical significance level of $\\alpha=0.05$), indicating statistically significant enrichment.\n\nThe biological coherence is exceptionally strong. The partition $\\mathcal{P}_{B}$, which maximizes modularity, perfectly separates the genes into three communities that correspond exactly to three distinct biological processes.\n- Community $1$ is a clique of genes exclusively involved in DNA repair.\n- Community $2$ is a clique of genes exclusively involved in immune signaling.\n- Community $3$ is a pair of interacting genes exclusively involved in axon guidance.\nThis demonstrates a powerful correspondence between the topological structure of the network (as captured by modularity) and the functional organization of the genes. The dense intra-community connections reflect that genes involved in a common biological process tend to interact with one another.\n\nThe problem asks for the final modularity value for the maximizing partition, rounded to four significant figures.\n$Q_B = 65/162 \\approx 0.4012345...$\nRounding to four significant figures gives $0.4012$.",
            "answer": "$$\n\\boxed{0.4012}\n$$"
        },
        {
            "introduction": "While modularity maximization is a powerful and widely used technique, a true expert must also understand its inherent limitations. This theoretical exercise explores the well-known \"resolution limit\" of modularity, a phenomenon where the method may fail to resolve communities that are smaller than a certain scale relative to the whole network. By analyzing a synthetic \"ring-of-cliques\" network, you will derive from first principles the conditions under which modularity optimization incorrectly favors merging distinct, well-defined communities. Understanding this limitation is essential for critically evaluating community detection results and for selecting appropriate methods and parameters for your specific research question. ",
            "id": "4549351",
            "problem": "Consider a Protein-Protein Interaction (PPI) network modeled as an undirected simple graph in which protein complexes form densely interconnected modules linked sparsely in a cyclic topology. Let there be $L$ modules, each modeled as a complete graph on $c$ nodes (a clique $K_c$). Consecutive modules are connected by exactly one inter-module edge, forming a ring. There are no other inter-module edges. Let $A_{ij}$ be the adjacency matrix of the network, $k_i$ the degree of node $i$, and let the generalized modularity with resolution parameter $\\gamma$ be defined by\n$$\nQ_{\\gamma} \\equiv \\frac{1}{2m} \\sum_{i,j} \\left[ A_{ij} - \\gamma \\frac{k_i k_j}{2m} \\right] \\delta(c_i,c_j),\n$$\nwhere $m$ is the total number of edges, and $\\delta(c_i,c_j)$ is $1$ if nodes $i$ and $j$ are assigned to the same community and $0$ otherwise.\n\nUsing only these definitions and first-principles counting arguments, compare the modularity $Q_{\\gamma}$ of two partitions: (i) the partition where each clique is its own community, and (ii) the partition where two adjacent cliques are merged into a single community while all other cliques remain separate. By analyzing the change in $Q_{\\gamma}$, derive the condition under which merging two adjacent modules increases modularity when $\\gamma=1$. From this condition, determine the minimal ring size threshold $L^{\\ast}(c)$, expressed solely in terms of $c$, such that for any $L > L^{\\ast}(c)$ the optimal modularity at $\\gamma=1$ favors merging two adjacent cliques rather than keeping all cliques separate.\n\nExpress your final answer as a single closed-form symbolic expression in terms of $c$. No numerical evaluation is required.",
            "solution": "First, we characterize the properties of the network based on the provided description.\n\n**Network Parameters**\n1.  **Total Number of Nodes ($N$)**: There are $L$ modules, each with $c$ nodes. The total number of nodes is $N = Lc$.\n2.  **Total Number of Edges ($m$)**:\n    -   The number of edges within a single $K_c$ module is $\\binom{c}{2} = \\frac{c(c-1)}{2}$. For $L$ modules, the total number of intra-module edges is $L \\frac{c(c-1)}{2}$.\n    -   The $L$ modules are arranged in a ring, with each of the $L$ connections between consecutive modules consisting of a single edge. This gives $L$ inter-module edges.\n    -   The total number of edges is the sum of intra- and inter-module edges:\n        $$m = L \\frac{c(c-1)}{2} + L = L \\left( \\frac{c^2 - c + 2}{2} \\right)$$\n3.  **Node Degrees ($k_i$) and Community Degree Sum ($K_C$)**:\n    -   Within each module (clique), each node has $c-1$ internal connections.\n    -   Each module is connected to two other modules in the ring. These two inter-module edges must be incident on nodes within the module. We assume these two edges are incident on two distinct nodes. Thus, in each module, there are:\n        -   $2$ \"corner\" nodes, each connected to one external node. Their degree is $k_{corner} = (c-1) + 1 = c$.\n        -   $c-2$ \"internal\" nodes with no external connections. Their degree is $k_{internal} = c-1$.\n        (This assumes $c \\ge 2$. If $c=1$, a module is a single node with degree $2$, and the framework remains consistent).\n    -   Let's consider a single clique as a community $C$. The sum of the degrees of all nodes in this community is:\n        $$K_C = \\sum_{i \\in C} k_i = 2 \\cdot k_{corner} + (c-2) \\cdot k_{internal} = 2c + (c-2)(c-1)$$\n        $$K_C = 2c + c^2 - 3c + 2 = c^2 - c + 2$$\n    -   By symmetry, every one of the $L$ cliques, when considered as a community, has the same degree sum $K_C = c^2 - c + 2$.\n\n**Change in Modularity upon Merging**\nThe modularity $Q_{\\gamma}$ can be expressed as a sum over communities $C$:\n$$Q_{\\gamma} = \\sum_{C} \\left( \\frac{e_C}{m} - \\gamma \\left(\\frac{K_C}{2m}\\right)^2 \\right)$$\nwhere $e_C$ is the number of internal edges in community $C$, and $K_C$ is the sum of degrees of nodes in $C$.\n\nWhen two communities, $C_1$ and $C_2$, are merged into a new community $C_{12}$, the change in modularity is given by:\n$$\\Delta Q_{\\gamma} = Q_{\\gamma}(C_{12}) - (Q_{\\gamma}(C_1) + Q_{\\gamma}(C_2))$$\nLet $e_{12}^{\\text{inter}}$ be the number of edges connecting $C_1$ and $C_2$. The internal edges of the new community are $e_{12} = e_1 + e_2 + e_{12}^{\\text{inter}}$, and the degree sum is $K_{12} = K_1 + K_2$. The change simplifies to:\n$$\\Delta Q_{\\gamma} = \\frac{e_{12}^{\\text{inter}}}{m} - \\frac{2\\gamma K_1 K_2}{(2m)^2} = \\frac{1}{m} \\left( e_{12}^{\\text{inter}} - \\frac{\\gamma K_1 K_2}{2m} \\right)$$\n\n**Applying to the Specific Partitions**\nWe are comparing partition (i), where each clique is a community, with partition (ii), where two adjacent cliques, say $C_1$ and $C_2$, are merged. We use the formula for $\\Delta Q_{\\gamma}$ to find the change.\n\n-   The number of edges between two adjacent cliques $C_1$ and $C_2$ is given as $e_{12}^{\\text{inter}} = 1$.\n-   The sum of degrees for each of these clique communities is $K_1 = K_2 = c^2 - c + 2$.\n-   The total number of edges is $m = L \\frac{c^2 - c + 2}{2}$, which implies $2m = L(c^2 - c + 2)$.\n\nSubstituting these into the expression for $\\Delta Q_{\\gamma}$:\n$$\\Delta Q_{\\gamma} = \\frac{1}{m} \\left( 1 - \\frac{\\gamma (c^2 - c + 2)(c^2 - c + 2)}{2m} \\right)$$\n$$\\Delta Q_{\\gamma} = \\frac{1}{m} \\left( 1 - \\frac{\\gamma (c^2 - c + 2)^2}{L(c^2 - c + 2)} \\right)$$\n$$\\Delta Q_{\\gamma} = \\frac{1}{m} \\left( 1 - \\frac{\\gamma (c^2 - c + 2)}{L} \\right)$$\n\n**Deriving the Threshold Condition**\nThe problem asks for the condition under which merging increases modularity, which means $\\Delta Q_{\\gamma} > 0$. We are instructed to use $\\gamma=1$.\n$$\\Delta Q_{1} = \\frac{1}{m} \\left( 1 - \\frac{c^2 - c + 2}{L} \\right) > 0$$\nSince $m$, the total number of edges, is positive, this inequality is equivalent to:\n$$1 - \\frac{c^2 - c + 2}{L} > 0$$\n$$1 > \\frac{c^2 - c + 2}{L}$$\nSince $L$ is the number of modules, $L > 0$. Also, for any $c \\ge 1$, the term $c^2-c+2 = c(c-1)+2$ is positive. We can multiply by $L$ without changing the inequality direction:\n$$L > c^2 - c + 2$$\n\nThis inequality gives the condition on the ring size $L$ for which merging two adjacent cliques is favorable compared to keeping them separate.\n\n**Minimal Ring Size Threshold $L^{\\ast}(c)$**\nThe problem asks for the minimal threshold $L^{\\ast}(c)$ such that for any $L > L^{\\ast}(c)$, merging is favored. Our derived condition is precisely of this form: $L > c^2 - c + 2$.\nTherefore, the threshold $L^{\\ast}(c)$ is the quantity on the right-hand side of the inequality.\n\n$$L^{\\ast}(c) = c^2 - c + 2$$\n\nFor any number of modules $L$ greater than this value, the modularity of the network is increased by merging a pair of adjacent cliques. This signifies that the partition with all cliques kept separate is not optimal for a sufficiently large ring.",
            "answer": "$$\n\\boxed{c^{2} - c + 2}\n$$"
        }
    ]
}