{
    "hands_on_practices": [
        {
            "introduction": "滑片气管成形术的核心优势在于其能够显著扩大狭窄的气道管腔。然而，准确理解管腔几何形状的变化对评估手术效果至关重要。本练习  旨在辨析一个关键的、但常被混淆的概念：管腔“面积倍增”与“直径倍增”之间的差异，并量化这两种情况对气道阻力的不同影响。通过运用泊肃叶定律（$R \\propto L/r^4$），你将深刻体会到气道半径对呼吸阻力的非线性主导作用，从而更精确地理解手术的生物力学收益。",
            "id": "5071558",
            "problem": "一名患有先天性长段气管狭窄的新生儿计划接受滑片气管成形术。假设气流是稳定、层流的，并将狭窄段模拟为长度为 $L_0$、半径为 $r_0$ 的刚性圆柱管。液压阻力由哈根-泊肃叶关系定义，因此 $R \\propto L/r^4$。滑片气管成形术既缩短了狭窄段，又扩大了管腔。考虑两种在手术描述中经常混淆的几何结果：(i) 简单的面积加倍，意味着横截面积增加为原来的2倍（因此 $A_1=2A_0$）；以及 (ii) 直径加倍，意味着直径增加为原来的2倍（因此 $d_1=2d_0$）。在这两种情况下，假设通过滑片操作，有效狭窄长度减少到 $L_1=L_0/2$。仅使用第一性原理（哈根-泊肃叶关系以及 $A=\\pi r^2$, $d=2r$），确定哪个陈述正确区分了这两种几何变化，并量化了由此产生的阻力比 $R_1/R_0$。\n\nA. 当 $L_1=L_0/2$ 时，面积加倍使得 $R_1/R_0=1/8$，直径加倍使得 $R_1/R_0=1/32$；这种区别源于 $A\\propto r^2$ 和 $R\\propto L/r^4$，因此面积加倍意味着 $r_1=\\sqrt{2}\\,r_0$，而直径加倍意味着 $r_1=2r_0$。\n\nB. 当 $L_1=L_0/2$ 时，面积加倍使得 $R_1/R_0=1/4$，直径加倍使得 $R_1/R_0=1/8$，因为阻力与 $r^2$ 成反比，而不是 $r^4$。\n\nC. 当 $L_1=L_0/2$ 时，面积加倍和直径加倍都得到 $R_1/R_0=1/16$，因为在层流条件下，阻力仅取决于横截面积，而与长度无关。\n\nD. 当 $L_1=L_0/2$ 时，增加半径的好处被长度缩短所抵消，因此面积加倍和直径加倍都将阻力降低到相同的比率 $R_1/R_0=1/2$。\n\nE. 当 $L_1=L_0/2$ 时，面积加倍得到 $R_1/R_0=1/8$，但直径加倍会引发湍流，在临床气流条件下，这会抵消任何超过 $R_1/R_0=1/8$ 的额外阻力降低。",
            "solution": "首先验证问题陈述的科学合理性、一致性和完整性。\n\n### 步骤1：提取已知条件\n- 流动条件：稳定、层流气流。\n- 初始狭窄段模型：刚性圆柱管。\n- 初始长度：$L_0$。\n- 初始半径：$r_0$。\n- 初始横截面积：$A_0 = \\pi r_0^2$。\n- 初始直径：$d_0 = 2r_0$。\n- 液压阻力关系：$R \\propto L/r^4$（源自哈根-泊肃叶关系）。\n- 术后长度：$L_1 = L_0/2$。\n- 情景 (i) - 面积加倍：$A_1 = 2A_0$。\n- 情景 (ii) - 直径加倍：$d_1 = 2d_0$。\n- 基本几何关系：$A = \\pi r^2$，$d = 2r$。\n- 目标：计算两种情景下的阻力比 $R_1/R_0$。\n\n### 步骤2：使用提取的已知条件进行验证\n该问题具有科学依据。它将流体力学的基本原理——哈根-泊肃叶定律——应用于生物医学情景。刚性管和稳定层流的假设是为创建一个可处理的第一性原理问题而做的标准简化。该问题提法得当，提供了计算唯一解所需的所有信息。其陈述客观，并使用了精确的数学定义。没有内部矛盾或事实错误。面积加倍和直径加倍之间的区别是比例分析中一个有效且重要的关键概念点。\n\n### 步骤3：结论与操作\n问题陈述有效。将进行求解。\n\n### 推导\n液压阻力 $R$ 由哈根-泊肃叶关系给出，表示为比例关系：\n$$ R \\propto \\frac{L}{r^4} $$\n这可以写成带比例常数 $k$ 的形式：\n$$ R = k \\frac{L}{r^4} $$\n狭窄段的初始阻力 $R_0$ 为：\n$$ R_0 = k \\frac{L_0}{r_0^4} $$\n滑片气管成形术后的最终阻力 $R_1$ 为：\n$$ R_1 = k \\frac{L_1}{r_1^4} $$\n因此，最终阻力与初始阻力之比 $R_1/R_0$ 为：\n$$ \\frac{R_1}{R_0} = \\frac{k L_1 / r_1^4}{k L_0 / r_0^4} = \\left(\\frac{L_1}{L_0}\\right) \\left(\\frac{r_0}{r_1}\\right)^4 $$\n问题陈述指出长度减半，即 $L_1 = L_0/2$，或 $L_1/L_0 = 1/2$。将此代入比率方程得：\n$$ \\frac{R_1}{R_0} = \\frac{1}{2} \\left(\\frac{r_0}{r_1}\\right)^4 $$\n我们现在分析两种指定的几何结果。\n\n**情景 (i)：面积加倍**\n在这种情况下，最终横截面积 $A_1$ 是初始面积 $A_0$ 的两倍。\n$$ A_1 = 2 A_0 $$\n使用圆面积公式 $A=\\pi r^2$：\n$$ \\pi r_1^2 = 2 (\\pi r_0^2) $$\n$$ r_1^2 = 2 r_0^2 $$\n$$ r_1 = \\sqrt{2} \\, r_0 $$\n现在，我们将 $r_1$ 的这个关系代入阻力比方程：\n$$ \\frac{R_1}{R_0} = \\frac{1}{2} \\left(\\frac{r_0}{\\sqrt{2} \\, r_0}\\right)^4 = \\frac{1}{2} \\left(\\frac{1}{\\sqrt{2}}\\right)^4 $$\n$$ \\left(\\frac{1}{\\sqrt{2}}\\right)^4 = \\frac{1}{(\\sqrt{2})^4} = \\frac{1}{(2^{1/2})^4} = \\frac{1}{2^2} = \\frac{1}{4} $$\n因此，对于面积加倍：\n$$ \\frac{R_1}{R_0} = \\frac{1}{2} \\times \\frac{1}{4} = \\frac{1}{8} $$\n\n**情景 (ii)：直径加倍**\n在这种情况下，最终直径 $d_1$ 是初始直径 $d_0$ 的两倍。\n$$ d_1 = 2 d_0 $$\n使用直径和半径之间的关系 $d=2r$：\n$$ 2 r_1 = 2 (2 r_0) $$\n$$ r_1 = 2 r_0 $$\n我们将 $r_1$ 的这个新关系代入阻力比方程：\n$$ \\frac{R_1}{R_0} = \\frac{1}{2} \\left(\\frac{r_0}{2 r_0}\\right)^4 = \\frac{1}{2} \\left(\\frac{1}{2}\\right)^4 $$\n$$ \\left(\\frac{1}{2}\\right)^4 = \\frac{1}{16} $$\n因此，对于直径加倍：\n$$ \\frac{R_1}{R_0} = \\frac{1}{2} \\times \\frac{1}{16} = \\frac{1}{32} $$\n\n分析证实，由于阻力对半径的强烈依赖性（$R \\propto r^{-4}$），这两种情景导致了显著不同的阻力降低。\n\n### 逐项分析\n\n**A. 当 $L_1=L_0/2$ 时，面积加倍使得 $R_1/R_0=1/8$，直径加倍使得 $R_1/R_0=1/32$；这种区别源于 $A\\propto r^2$ 和 $R\\propto L/r^4$，因此面积加倍意味着 $r_1=\\sqrt{2}\\,r_0$，而直径加倍意味着 $r_1=2r_0$。**\n该陈述计算出的阻力比，对于面积加倍是 $R_1/R_0 = 1/8$，对于直径加倍是 $R_1/R_0 = 1/32$，与我们的推导完全匹配。其提供的理由也是正确的：区别根植于面积（$A \\propto r^2$）和阻力（$R \\propto r^{-4}$）之间的非线性关系。它正确地指出，面积加倍意味着半径增加 $\\sqrt{2}$ 倍，而直径加倍意味着半径增加2倍。\n**结论：正确。**\n\n**B. 当 $L_1=L_0/2$ 时，面积加倍使得 $R_1/R_0=1/4$，直径加倍使得 $R_1/R_0=1/8$，因为阻力与 $r^2$ 成反比，而不是 $r^4$。**\n这里计算的阻力比是错误的。其提供的理由，$R \\propto r^{-2}$，明确与问题陈述中给出的哈根-泊肃叶关系（$R \\propto r^{-4}$）相矛盾。\n**结论：错误。**\n\n**C. 当 $L_1=L_0/2$ 时，面积加倍和直径加倍都得到 $R_1/R_0=1/16$，因为在层流条件下，阻力仅取决于横截面积，而与长度无关。**\n该陈述有两个不正确的论断。首先，如推导所示，两种情景产生不同的阻力比（$1/8$ 和 $1/32$）。其次，阻力与长度无关的理由与哈根-泊肃叶关系（$R \\propto L$）相矛盾。\n**结论：错误。**\n\n**D. 当 $L_1=L_0/2$ 时，增加半径的好处被长度缩短所抵消，因此面积加倍和直径加倍都将阻力降低到相同的比率 $R_1/R_0=1/2$。**\n该陈述是错误的。将长度缩短到 $L_1 = L_0/2$ 本身会使得 $R_1/R_0=1/2$。任何半径的增加都会进一步降低阻力。这些效应是相乘的，而不是相互抵消的。计算出的比率 $1/2$ 忽略了管腔扩大的显著好处，并且声称两种情景导致相同比率的说法是错误的。\n**结论：错误。**\n\n**E. 当 $L_1=L_0/2$ 时，面积加倍得到 $R_1/R_0=1/8$，但直径加倍会引发湍流，在临床气流条件下，这会抵消任何超过 $R_1/R_0=1/8$ 的额外阻力降低。**\n虽然该陈述的第一部分（面积加倍得到 $R_1/R_0 = 1/8$）是正确的，但第二部分引入了一种物理现象——湍流，而这被问题的基本假设“假设稳定、层流气流”明确排除了。任务是*仅*基于所提供的第一性原理和假设进行计算。该选项通过引入一个外部的、未说明的复杂性，违反了这一约束。因此，在问题的框架内，该陈述是无效的。\n**结论：错误。**",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "理想化的均匀圆柱模型为理解气流动力学提供了基础，但真实的解剖结构往往更为复杂，例如先天性气管狭窄常呈现为不规则的锥形。本练习  将挑战你将基础物理原理应用于更真实的几何模型，即一个半径沿轴向线性变化的锥形狭窄段。通过对局部阻力进行积分来计算驱动呼吸所需的总压力阶梯，你将掌握一种更精确的量化评估方法，从而能够更准确地预测手术前后患者呼吸功的改善程度。",
            "id": "5071556",
            "problem": "一名患有先天性气管狭窄的儿童接受了滑片气管成形术。假设通过狭窄段的吸气气流是层流，并且阻力压降主要由该段决定。体积流量 $Q$ 通过圆柱形管道中层流的哈根-泊肃叶定律(Hagen–Poiseuille law)与压力梯度 $\\Delta P$ 相关联，潮气量 $V_{T}$ 通过 $V_{T} = Q \\cdot t_{\\text{inspire}}$ 与 $Q$ 相关。修复前，狭窄段的长度为 $L_{\\text{pre}} = 20\\,\\text{mm}$，其内半径从近端的 $r_{a} = 1.5\\,\\text{mm}$ 线性增加到远端的 $r_{b} = 2.5\\,\\text{mm}$。滑片气管成形术后，有效狭窄长度减少到 $L_{\\text{post}} = 10\\,\\text{mm}$，内半径近似均匀，为 $r_{\\text{post}} = 4.0\\,\\text{mm}$。空气的动力粘度为 $\\mu = 1.9 \\times 10^{-5}\\,\\text{Pa}\\cdot\\text{s}$。目标潮气量为 $V_{T} = 80\\,\\text{mL}$，在 $t_{\\text{inspire}} = 1.0\\,\\text{s}$ 的吸气时间内输送。将狭窄段术前视为半径平滑变化的刚性管，术后视为半径均匀的刚性管。\n\n从管内层流和体积流量守恒的第一性原理出发，构建术前达到潮气量 $V_{T}$ 所需的最小压力梯度 $\\Delta P_{\\text{pre}}$ 的表达式，并同样构建术后的 $\\Delta P_{\\text{post}}$。然后，计算无量纲比值 $\\Delta P_{\\text{pre}} / \\Delta P_{\\text{post}}$。\n\n仅使用 $Q = \\Delta P \\frac{\\pi r^{4}}{8 \\mu L}$ 作为局部关系，当半径随轴向位置变化时，推导出正确的积分形式。假设术前 $r(x)$ 沿着 $x \\in [0, L_{\\text{pre}}]$ 从 $r_a$ 线性变化到 $r_b$。在计算中，所有长度和半径均以米为单位表示。将最终比值 $\\Delta P_{\\text{pre}} / \\Delta P_{\\text{post}}$ 四舍五入到四位有效数字。该比值不需要单位。",
            "solution": "首先将根据所需标准对问题进行验证。\n\n### 步骤 1：提取已知条件\n- **流动状态**：吸气气流为层流。\n- **压降来源**：阻力压降主要由狭窄段决定。\n- **物理定律**：圆柱形管道的哈根-泊肃叶定律(Hagen–Poiseuille law)将体积流量 $Q$ 与压力梯度 $\\Delta P$ 相关联：对于均匀半径 $r$，有 $Q = \\Delta P \\frac{\\pi r^{4}}{8 \\mu L}$。\n- **潮气量关系**：$V_{T} = Q \\cdot t_{\\text{inspire}}$\n- **术前几何形状**：长度 $L_{\\text{pre}} = 20\\,\\text{mm}$。内半径从近端的 $r_{a} = 1.5\\,\\text{mm}$ 线性增加到远端的 $r_{b} = 2.5\\,\\text{mm}$。\n- **术后几何形状**：有效长度 $L_{\\text{post}} = 10\\,\\text{mm}$。内半径均匀，为 $r_{\\text{post}} = 4.0\\,\\text{mm}$。\n- **流体性质**：空气的动力粘度 $\\mu = 1.9 \\times 10^{-5}\\,\\text{Pa}\\cdot\\text{s}$。\n- **呼吸参数**：目标潮气量 $V_{T} = 80\\,\\text{mL}$。吸气时间 $t_{\\text{inspire}} = 1.0\\,\\text{s}$。\n- **建模假设**：狭窄段为刚性管。术前段半径平滑变化。术后段半径均匀。\n- **任务**：\n    1. 构建术前压力梯度 $\\Delta P_{\\text{pre}}$ 和术后压力梯度 $\\Delta P_{\\text{post}}$ 的表达式。\n    2. 计算无量纲比值 $\\Delta P_{\\text{pre}} / \\Delta P_{\\text{post}}$。\n    3. 在计算中使用国际单位制（SI units），并将最终比值四舍五入到四位有效数字。\n\n### 步骤 2：使用提取的已知条件进行验证\n- **科学依据**：该问题基于哈根-泊肃叶定律，这是流体动力学中关于管道内层流、不可压缩流动的基本原理。将其应用于气管中的气流是一种标准且有效的生物力学建模方法。给出的气管尺寸、呼吸参数和空气粘度值对于儿科病例在生理和物理上都是现实的。层流的假设是对此场景建模的一个合理且明确说明的简化。\n- **适定性**：该问题是适定的。它提供了所有必需的参数和明确的指令，以推导出唯一的、确定性的解。处理术前非均匀几何形状的方法（对局部阻力进行积分）已明确定义，消除了歧义。\n- **客观性**：该问题以精确、定量和客观的术语陈述，不含主观或推测性内容。\n\n### 步驟 3：结论与行动\n该问题是有效的，因为它具有科学依据、适定性和客观性。将提供完整的解答。\n\n### 解题推导\n主要任务是计算在气管成形术前后，为实现相同的体积流量 $Q$ 所需压降的比值。首先，我们根据给定的潮气量 $V_{T}$ 和吸气时间 $t_{\\text{inspire}}$ 来确定所需的恒定体积流量 $Q$。\n\n将给定值转换为国际单位制（SI units）：\n$V_{T} = 80\\,\\text{mL} = 80 \\times 10^{-3}\\,\\text{L} = 80 \\times 10^{-6}\\,\\text{m}^3$\n$t_{\\text{inspire}} = 1.0\\,\\text{s}$\n\n体积流量 $Q$ 为：\n$$Q = \\frac{V_{T}}{t_{\\text{inspire}}} = \\frac{80 \\times 10^{-6}\\,\\text{m}^3}{1.0\\,\\text{s}} = 8.0 \\times 10^{-5}\\,\\text{m}^3\\text{/s}$$\n\n现在我们构建术前和术后压降的表达式。\n\n**术后压降 ($\\Delta P_{\\text{post}}$)**\n手术后，气管被建模为一个长度为 $L_{\\text{post}}$、半径为 $r_{\\text{post}}$ 的均匀圆柱体。\n$L_{\\text{post}} = 10\\,\\text{mm} = 0.010\\,\\text{m}$\n$r_{\\text{post}} = 4.0\\,\\text{mm} = 4.0 \\times 10^{-3}\\,\\text{m}$\n哈根-泊肃叶方程直接给出了流量和压降之间的关系：\n$$Q = \\frac{\\Delta P_{\\text{post}} \\pi r_{\\text{post}}^{4}}{8 \\mu L_{\\text{post}}}$$\n求解 $\\Delta P_{\\text{post}}$，我们得到：\n$$\\Delta P_{\\text{post}} = \\frac{8 \\mu L_{\\text{post}} Q}{\\pi r_{\\text{post}}^4}$$\n\n**术前压降 ($\\Delta P_{\\text{pre}}$)**\n手术前，狭窄段被建模为一个长度为 $L_{\\text{pre}}$ 的锥形管。半径 $r(x)$ 随轴向位置 $x$从 $x=0$ 到 $x=L_{\\text{pre}}$ 线性变化。\n$L_{\\text{pre}} = 20\\,\\text{mm} = 0.020\\,\\text{m}$\n$r_a = 1.5\\,\\text{mm} = 1.5 \\times 10^{-3}\\,\\text{m}$\n$r_b = 2.5\\,\\text{mm} = 2.5 \\times 10^{-3}\\,\\text{m}$\n\n半径的线性函数为：\n$$r(x) = r_a + (r_b - r_a) \\frac{x}{L_{\\text{pre}}}$$\n为了找到总压降，我们考虑在位置 $x$ 处一个长度为 $dx$ 的微分元。通过该微分元的局部压降 $dP$ 由哈根-泊肃叶定律的微分形式给出：\n$$Q = -\\frac{dP}{dx} \\frac{\\pi [r(x)]^4}{8 \\mu}$$\n总压降 $\\Delta P_{\\text{pre}} = P(0) - P(L_{\\text{pre}})$ 通过对 $dP$ 在管的整个长度上积分得到：\n$$\\Delta P_{\\text{pre}} = \\int_{0}^{L_{\\text{pre}}} -\\frac{dP}{dx} dx = \\int_{0}^{L_{\\text{pre}}} \\frac{8 \\mu Q}{\\pi [r(x)]^4} dx$$\n由于 $8$、$\\mu$、$Q$ 和 $\\pi$ 是常数，我们可以将它们从积分中提出：\n$$\\Delta P_{\\text{pre}} = \\frac{8 \\mu Q}{\\pi} \\int_{0}^{L_{\\text{pre}}} \\frac{1}{\\left(r_a + \\frac{r_b - r_a}{L_{\\text{pre}}}x\\right)^4} dx$$\n为了求解该积分，我们进行变量替换。令 $u = r_a + \\frac{r_b - r_a}{L_{\\text{pre}}}x$。则 $du = \\frac{r_b - r_a}{L_{\\text{pre}}}dx$，得到 $dx = \\frac{L_{\\text{pre}}}{r_b - r_a}du$。积分上下限变为 $u(0)=r_a$ 和 $u(L_{\\text{pre}})=r_b$。\n\\begin{align*} \\Delta P_{\\text{pre}} = \\frac{8 \\mu Q}{\\pi} \\int_{r_a}^{r_b} u^{-4} \\left(\\frac{L_{\\text{pre}}}{r_b - r_a}\\right) du \\\\ = \\frac{8 \\mu Q L_{\\text{pre}}}{\\pi(r_b - r_a)} \\left[ \\frac{u^{-3}}{-3} \\right]_{r_a}^{r_b} \\\\ = \\frac{8 \\mu Q L_{\\text{pre}}}{-3\\pi(r_b - r_a)} (r_b^{-3} - r_a^{-3}) \\\\ = \\frac{8 \\mu Q L_{\\text{pre}}}{3\\pi(r_b - r_a)} (r_a^{-3} - r_b^{-3}) \\\\ = \\frac{8 \\mu Q L_{\\text{pre}}}{3\\pi(r_b - r_a)} \\left(\\frac{1}{r_a^3} - \\frac{1}{r_b^3}\\right)\\end{align*}\n\n**压降比值**\n我们需要计算比值 $\\Delta P_{\\text{pre}} / \\Delta P_{\\text{post}}$。\n$$\\frac{\\Delta P_{\\text{pre}}}{\\Delta P_{\\text{post}}} = \\frac{\\frac{8 \\mu Q L_{\\text{pre}}}{3\\pi(r_b - r_a)} \\left(\\frac{1}{r_a^3} - \\frac{1}{r_b^3}\\right)}{\\frac{8 \\mu L_{\\text{post}} Q}{\\pi r_{\\text{post}}^4}}$$\n项 $8$、$\\mu$、$Q$ 和 $\\pi$ 相互抵消，从而显著简化了表达式。这意味着该比值与流体的粘度和具体流量无关，仅取决于几何形状。\n$$\\frac{\\Delta P_{\\text{pre}}}{\\Delta P_{\\text{post}}} = \\frac{\\frac{L_{\\text{pre}}}{3(r_b - r_a)} \\left(\\frac{1}{r_a^3} - \\frac{1}{r_b^3}\\right)}{\\frac{L_{\\text{post}}}{r_{\\text{post}}^4}} = \\frac{L_{\\text{pre}}}{L_{\\text{post}}} \\frac{r_{\\text{post}}^4}{3(r_b - r_a)} \\left(\\frac{1}{r_a^3} - \\frac{1}{r_b^3}\\right)$$\n\n现在，我们将国际单位制下的数值代入此表达式：\n$L_{\\text{pre}} = 0.020\\,\\text{m}$\n$L_{\\text{post}} = 0.010\\,\\text{m}$\n$r_a = 1.5 \\times 10^{-3}\\,\\text{m}$\n$r_b = 2.5 \\times 10^{-3}\\,\\text{m}$\n$r_{\\text{post}} = 4.0 \\times 10^{-3}\\,\\text{m}$\n\n$$ \\frac{\\Delta P_{\\text{pre}}}{\\Delta P_{\\text{post}}} = \\frac{0.020}{0.010} \\frac{(4.0 \\times 10^{-3})^4}{3(2.5 \\times 10^{-3} - 1.5 \\times 10^{-3})} \\left(\\frac{1}{(1.5 \\times 10^{-3})^3} - \\frac{1}{(2.5 \\times 10^{-3})^3}\\right) $$\n$$ = 2 \\cdot \\frac{256 \\times 10^{-12}}{3(1.0 \\times 10^{-3})} \\left(\\frac{1}{3.375 \\times 10^{-9}} - \\frac{1}{15.625 \\times 10^{-9}}\\right) $$\n$$ = 2 \\cdot \\frac{256 \\times 10^{-12}}{3 \\times 10^{-3} \\cdot 10^{-9}} \\left(\\frac{1}{3.375} - \\frac{1}{15.625}\\right) $$\n10的幂次相互抵消：\n$$ = 2 \\cdot \\frac{256}{3} \\left(\\frac{1}{3.375} - \\frac{1}{15.625}\\right) $$\n为保持精度，我们使用分数：$3.375 = \\frac{27}{8}$ 和 $15.625 = \\frac{125}{8}$。\n$$ = \\frac{512}{3} \\left(\\frac{8}{27} - \\frac{8}{125}\\right) = \\frac{512}{3} \\cdot 8 \\left(\\frac{1}{27} - \\frac{1}{125}\\right) $$\n$$ = \\frac{4096}{3} \\left(\\frac{125 - 27}{27 \\times 125}\\right) = \\frac{4096}{3} \\left(\\frac{98}{3375}\\right) $$\n$$ = \\frac{4096 \\times 98}{3 \\times 3375} = \\frac{401408}{10125} \\approx 39.64523456... $$\n四舍五入到四位有效数字，比值为 $39.65$。所需压降的显著降低凸显了气管成形术在减轻呼吸功方面的重大临床益处。",
            "answer": "$$\n\\boxed{39.65}\n$$"
        },
        {
            "introduction": "这项综合性练习将物理原理、几何建模与计算优化融为一体，模拟了现代外科手术的规划过程。通过构建一个虚拟手术规划优化器 ，你将学习如何量化并平衡多个相互冲突的手术目标，例如在最大化管腔增益与最小化术后管壁“台阶”样畸形之间找到最佳平衡。这项练习不仅能加深你对滑片气管成形术生物力学原理的理解，更能让你体验到将理论模型转化为数据驱动的临床决策支持工具的全过程。",
            "id": "5071515",
            "problem": "您需要为滑片气管成形术构建一个虚拟手术规划优化器，该手术由一个简化的、基于物理原理的气管内腔模型表示。该模型使用一个作为轴向坐标函数的术前半径剖面，以及一个由切口长度和滑移向量引起的滑动和重叠的简化表示。您的程序必须搜索一个离散的参数网格，并选择能最小化一个成本泛函的参数集，该成本泛函源自第一性原理和经过充分检验的粘性流及几何连续性公式。所有距离必须以毫米（mm）表示，角度必须以度（°）表示。最终输出必须是单行文本，包含每个测试用例的一组最优参数四元组，其中每个四元组的单位为毫米和度，值为整数，格式为包含在方括号内的逗号分隔列表。\n\n模型和目标定义：\n- 设气管段的轴向坐标为 $z \\in [0,L]$，总长度 $L$ 以毫米为单位。\n- 设术前内腔半径由中段周围的一个平滑狭窄区域建模：\n$$\nr_0(z) \\;=\\; r_{\\mathrm{norm}} \\;-\\; \\left(r_{\\mathrm{norm}} - r_{\\min}\\right)\\exp\\!\\left(-\\dfrac{(z - L/2)^2}{2\\sigma^2}\\right),\n$$\n其中 $r_{\\mathrm{norm}}$ 是正常半径（毫米），$r_{\\min}$ 是中心处的最小半径（毫米），$\\sigma$ 是扩散参数（毫米）。函数 $r_0(z)$ 必须在 $[0,L]$ 上的一个包含 $N$ 个点的均匀网格上进行评估。\n- 手术操作由两个长度分别为 $l_p$（近端）和 $l_d$（远端）的纵向切口（以毫米计）以及一个轴向滑移量 $s$（毫米）表示。近端切口跨越区间 $[0,l_p]$，远端切口跨越 $[L - l_d, L]$。将近端部分滑动 $s$ 后，重叠区间 $[a,b]$ 作为以下两个区间的交集而产生\n$$\n[a,b] \\;=\\; \\left([s,\\; s+l_p] \\cap [L-l_d,\\; L]\\right),\n$$\n重叠长度为 $l_o \\;=\\; \\max(0,\\; b-a)$。\n- 周向错位由一个旋转角度 $\\phi$（度）表示。定义重叠区域的面积增益因子为 $k(\\phi) \\;=\\; 1 + \\cos(\\phi^\\ast)$，其中 $\\phi^\\ast$ 是 $\\phi$ 转换为弧度的值，且 $\\phi$ 限制在 $[0^\\circ,90^\\circ]$ 范围内，因此 $k(\\phi)\\in[1,2]$。重叠区域的半径倍增因子为 $m(\\phi) \\;=\\; \\sqrt{k(\\phi)} \\in [1,\\sqrt{2}]$。\n- 术后半径剖面 $r(z)$ 通过分段函数定义如下：\n$$\nr(z) \\;=\\;\n\\begin{cases}\nm(\\phi)\\, r_0(z), & z \\in [a,b] \\text{ 且 } l_o > 0,\\\\[6pt]\nr_0(z), & \\text{其他情况。}\n\\end{cases}\n$$\n- 成本泛函 $J$ 结合了：(i) 一个惩罚重叠边界处不连续性的阶跃项，(ii) 一个惩罚半径方差的均匀性项，以及 (iii) 一个惩罚最小半径不足的目标半径项。每一项都通过 $r_{\\mathrm{norm}}^2$ 进行无量纲化：\n    - 如果 $l_o \\le 0$，则设置阶跃项 $S = 0$。否则，计算边界点 $a$ 和 $b$，并令\n    $$\n    \\Delta_1 \\;=\\; |m(\\phi)\\, r_0(a) - r_0(a)| \\;=\\; |(m(\\phi)-1)\\, r_0(a)|,\\quad\n    \\Delta_2 \\;=\\; |m(\\phi)\\, r_0(b) - r_0(b)| \\;=\\; |(m(\\phi)-1)\\, r_0(b)|,\n    $$\n    并定义\n    $$\n    S \\;=\\; \\dfrac{\\Delta_1^2 + \\Delta_2^2}{r_{\\mathrm{norm}}^2}.\n    $$\n    - 令 $U$ 为 $r(z)$ 在 $N$ 点网格上的总体方差：\n    $$\n    U \\;=\\; \\dfrac{\\mathrm{Var}(r(z))}{r_{\\mathrm{norm}}^2},\n    $$\n    其中 $\\mathrm{Var}$ 表示网格上离均差平方的均值。\n    - 令 $r_{\\mathrm{min,post}} \\;=\\; \\min_{z} r(z)$。令目标半径惩罚项为\n    $$\n    T \\;=\\; \\dfrac{\\max\\!\\left(0,\\; r_{\\mathrm{target}} - r_{\\mathrm{min,post}}\\right)^2}{r_{\\mathrm{norm}}^2}.\n    $$\n- 总成本为\n$$\nJ \\;=\\; w_S\\, S \\;+\\; w_U\\, U \\;+\\; w_T\\, T,\n$$\n其中 $w_S$、$w_U$ 和 $w_T$ 是非负权重。\n\n科学依据：\n- 根据关于圆柱形管内层流不可压缩流动的 Hagen–Poiseuille 定律，压降与半径的四次方成反比，因此更大且更均匀的半径可以减少阻力。突然的扩张和收缩会产生局部损失，这些损失可以很好地用面积比和不连续性大小的函数来近似，这为半径跳跃（阶跃效应）和空间方差设置惩罚项提供了理论依据。因此，上述 $J$ 是一个有原则的替代指标，它鼓励平滑、均匀扩大的管腔剖面，同时控制几何不连续性。\n\n优化和约束：\n- 在每个测试用例中给出的 $(l_p, l_d, s, \\phi)$ 的离散候选集上进行搜索。所有距离单位必须是毫米，角度单位必须是度。\n- 对于每个候选参数，计算定义的 $J$。选择 $J$ 值最小的候选参数。如果出现相同值，必须按以下顺序确定性地打破平局：\n    1) 最小化 $l_p + l_d$，2) 最小化 $s$，3) 最小化 $\\phi$。\n- 每个测试用例计算出的最优 $(l_p, l_d, s, \\phi)$ 必须以毫米和度的整数形式返回。\n\n测试套件：\n对于每个测试用例，在 $[0,L]$ 上使用一个包含 $N$ 个点的均匀网格来评估 $r_0(z)$ 和 $r(z)$。\n\n- 测试用例 1：\n    - $L \\!=\\! 30$, $r_{\\mathrm{norm}} \\!=\\! 4$, $r_{\\min} \\!=\\! 2$, $\\sigma \\!=\\! 5$, $r_{\\mathrm{target}} \\!=\\! 3$, $N \\!=\\! 301$。\n    - 权重：$w_S \\!=\\! 1.0$, $w_U \\!=\\! 0.2$, $w_T \\!=\\! 2.0$。\n    - 候选集：\n        - $l_p \\in \\{10,12,14\\}$,\n        - $l_d \\in \\{10,12,14\\}$,\n        - $s \\in \\{12,14,16\\}$,\n        - $\\phi \\in \\{0,30,60,90\\}$。\n\n- 测试用例 2：\n    - $L \\!=\\! 16$, $r_{\\mathrm{norm}} \\!=\\! 3.5$, $r_{\\min} \\!=\\! 1.5$, $\\sigma \\!=\\! 3.0$, $r_{\\mathrm{target}} \\!=\\! 2.5$, $N \\!=\\! 161$。\n    - 权重：$w_S \\!=\\! 0.5$, $w_U \\!=\\! 0.5$, $w_T \\!=\\! 1.0$。\n    - 候选集：\n        - $l_p \\in \\{6,8\\}$,\n        - $l_d \\in \\{6,8\\}$,\n        - $s \\in \\{6,8,10\\}$,\n        - $\\phi \\in \\{0,45,90\\}$。\n\n- 测试用例 3：\n    - $L \\!=\\! 24$, $r_{\\mathrm{norm}} \\!=\\! 4.5$, $r_{\\min} \\!=\\! 2.2$, $\\sigma \\!=\\! 4.0$, $r_{\\mathrm{target}} \\!=\\! 3.2$, $N \\!=\\! 241$。\n    - 权重：$w_S \\!=\\! 1.5$, $w_U \\!=\\! 0.1$, $w_T \\!=\\! 1.5$。\n    - 候选集：\n        - $l_p \\in \\{8,12\\}$,\n        - $l_d \\in \\{8,12,16\\}$,\n        - $s \\in \\{8,12\\}$,\n        - $\\phi \\in \\{0,30,60,90\\}$。\n\n- 测试用例 4：\n    - $L \\!=\\! 20$, $r_{\\mathrm{norm}} \\!=\\! 4.0$, $r_{\\min} \\!=\\! 3.0$, $\\sigma \\!=\\! 2.0$, $r_{\\mathrm{target}} \\!=\\! 3.5$, $N \\!=\\! 201$。\n    - 权重：$w_S \\!=\\! 2.0$, $w_U \\!=\\! 1.0$, $w_T \\!=\\! 0.5$。\n    - 候选集：\n        - $l_p \\in \\{6,10\\}$,\n        - $l_d \\in \\{6,10\\}$,\n        - $s \\in \\{4,8,12\\}$,\n        - $\\phi \\in \\{0,30,60,90\\}$。\n\n程序输出规范：\n- 您的程序必须使用成本 $J$ 为四个测试用例中的每一个计算最优的 $(l_p, l_d, s, \\phi)$。角度单位是度，并且必须以度为单位返回。距离单位必须是毫米。所有返回的值都必须是整数。\n- 您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表形式的结果，每个结果本身是一个形如 $[l_p, l_d, s, \\phi]$ 的列表。例如：$[[10,12,14,0],[\\dots],[\\dots],[\\dots]]$。",
            "solution": "该问题已经过验证，被认为是合理的。它提出了一个适定的优化任务，该任务基于一个简化但有物理原理的滑片气管成形术模型。所有的定义、参数和约束都是自洽且数学上一致的。目标是找到最优的手术参数集，以最小化一个成本泛函，该泛函是术后呼吸功能的有原则的替代指标。\n\n解决方案是通过对每个测试用例提供的离散参数空间进行系统性网格搜索来找到的。对于每个候选的手术参数集 $(l_p, l_d, s, \\phi)$，计算一个总成本 $J$。产生最小成本的参数集被选为最优解，并在成本相等的情况下应用特定的平局打破规则。\n\n计算单个候选参数 $(l_p, l_d, s, \\phi)$ 的成本 $J$ 的过程如下：\n\n**1. 术前模型定义**\n首先，建立几何和物理背景。气管段沿轴向坐标 $z \\in [0,L]$ 定义。在此区间上生成一个包含 $N$ 个点的均匀网格。术前半径 $r_0(z)$ 是一个描述狭窄区域的函数：\n$$\nr_0(z) \\;=\\; r_{\\mathrm{norm}} \\;-\\; \\left(r_{\\mathrm{norm}} - r_{\\min}\\right)\\exp\\!\\left(-\\dfrac{(z - L/2)^2}{2\\sigma^2}\\right)\n$$\n此函数在 $N$ 点网格上进行评估以获得离散表示 $r_0[i]$，并同时被视为一个连续函数，用于评估非网格点。\n\n**2. 手术变换建模**\n手术过程通过其对气管几何形状的影响来建模。\n- 重叠区间 $[a,b]$ 是滑移后的近端段新位置与静态远端段的交集：\n$$\n[a,b] \\;=\\; \\left([s,\\; s+l_p] \\cap [L-l_d,\\; L]\\right)\n$$\n边界计算为 $a = \\max(s, L-l_d)$ 和 $b = \\min(s+l_p, L)$。重叠长度为 $l_o = \\max(0, b-a)$。\n- 周向错位 $\\phi$（以度为单位）决定了重叠区域内管腔半径的增加量。这通过半径倍增因子 $m(\\phi)$ 进行量化：\n$$\nm(\\phi) \\;=\\; \\sqrt{1 + \\cos(\\phi^\\ast)}\n$$\n其中 $\\phi^\\ast$ 是角度 $\\phi$ 转换为弧度的值。\n\n**3. 术后半径剖面**\n术后半径剖面 $r(z)$ 是通过根据手术参数修改术前剖面 $r_0(z)$ 来构建的。在重叠区域，半径通过因子 $m(\\phi)$ 增加：\n$$\nr(z) \\;=\\;\n\\begin{cases}\nm(\\phi)\\, r_0(z),  z \\in [a,b] \\text{ 且 } l_o > 0 \\\\\nr_0(z),  \\text{其他情况}\n\\end{cases}\n$$\n此计算在半径剖面的离散网格表示上执行。\n\n**4. 成本泛函评估**\n总成本 $J$ 是三个项的加权和，$J = w_S S + w_U U + w_T T$，每一项都惩罚术后几何形状的一个不良特征。\n\n- **阶跃项 ($S$)：** 此项惩罚重叠区域边界 $a$ 和 $b$ 处的不连续性。如果没有重叠 ($l_o \\le 0$)，则 $S=0$。否则：\n$$\n\\Delta_1^2 = \\left((m(\\phi)-1)\\, r_0(a)\\right)^2, \\quad \\Delta_2^2 = \\left((m(\\phi)-1)\\, r_0(b)\\right)^2\n$$\n$$\nS \\;=\\; \\dfrac{\\Delta_1^2 + \\Delta_2^2}{r_{\\mathrm{norm}}^2}\n$$\n使用 $r_0(z)$ 的连续函数来评估在精确位置 $a$ 和 $b$ 处的半径。\n\n- **均匀性项 ($U$)：** 此项惩罚术后半径的不均匀性，鼓励更平滑的管腔。它是离散半径剖面 $r[i]$ 的总体方差，并由 $r_{\\mathrm{norm}}^2$ 进行归一化：\n$$\nU \\;=\\; \\dfrac{\\mathrm{Var}(r[i])}{r_{\\mathrm{norm}}^2}\n$$\n\n- **目标半径项 ($T$)：** 如果术后最小半径 $r_{\\mathrm{min,post}} = \\min_{i} r[i]$ 低于指定的目标半径 $r_{\\mathrm{target}}$，则此项施加惩罚。\n$$\nT \\;=\\; \\dfrac{\\max\\!\\left(0,\\; r_{\\mathrm{target}} - r_{\\mathrm{min,post}}\\right)^2}{r_{\\mathrm{norm}}^2}\n$$\n\n**5. 优化与平局打破**\n算法遍历指定候选集中的每一个 $(l_p, l_d, s, \\phi)$ 组合。对于每种组合，计算总成本 $J$。产生最低成本的组合被选为最优解。为确保解的唯一性，成本 $J$ 的平局通过基于以下有序标准的字典序比较来解决：\n1.  最小化切口长度之和 $l_p + l_d$。\n2.  最小化滑移距离 $s$。\n3.  最小化旋转角度 $\\phi$。\n\n这是通过在所有候选参数中找到元组 $(J, l_p + l_d, s, \\phi)$ 的最小值来实现的。实现过程遍历四个测试用例，为每个用例确定最优参数集。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nimport itertools\n\ndef solve():\n    \"\"\"\n    Computes the optimal surgical parameters for slide tracheoplasty for a suite of test cases\n    by minimizing a cost functional over a discrete grid of candidate parameters.\n    \"\"\"\n    # Define the test cases from the problem statement.\n    test_cases = [\n        {\n            \"params\": {\"L\": 30, \"r_norm\": 4, \"r_min\": 2, \"sigma\": 5, \"r_target\": 3, \"N\": 301},\n            \"weights\": {\"w_S\": 1.0, \"w_U\": 0.2, \"w_T\": 2.0},\n            \"candidates\": {\n                \"lp\": [10, 12, 14],\n                \"ld\": [10, 12, 14],\n                \"s\": [12, 14, 16],\n                \"phi\": [0, 30, 60, 90]\n            }\n        },\n        {\n            \"params\": {\"L\": 16, \"r_norm\": 3.5, \"r_min\": 1.5, \"sigma\": 3.0, \"r_target\": 2.5, \"N\": 161},\n            \"weights\": {\"w_S\": 0.5, \"w_U\": 0.5, \"w_T\": 1.0},\n            \"candidates\": {\n                \"lp\": [6, 8],\n                \"ld\": [6, 8],\n                \"s\": [6, 8, 10],\n                \"phi\": [0, 45, 90]\n            }\n        },\n        {\n            \"params\": {\"L\": 24, \"r_norm\": 4.5, \"r_min\": 2.2, \"sigma\": 4.0, \"r_target\": 3.2, \"N\": 241},\n            \"weights\": {\"w_S\": 1.5, \"w_U\": 0.1, \"w_T\": 1.5},\n            \"candidates\": {\n                \"lp\": [8, 12],\n                \"ld\": [8, 12, 16],\n                \"s\": [8, 12],\n                \"phi\": [0, 30, 60, 90]\n            }\n        },\n        {\n            \"params\": {\"L\": 20, \"r_norm\": 4.0, \"r_min\": 3.0, \"sigma\": 2.0, \"r_target\": 3.5, \"N\": 201},\n            \"weights\": {\"w_S\": 2.0, \"w_U\": 1.0, \"w_T\": 0.5},\n            \"candidates\": {\n                \"lp\": [6, 10],\n                \"ld\": [6, 10],\n                \"s\": [4, 8, 12],\n                \"phi\": [0, 30, 60, 90]\n            }\n        }\n    ]\n\n    all_results = []\n\n    for case in test_cases:\n        p = case[\"params\"]\n        w = case[\"weights\"]\n        c = case[\"candidates\"]\n\n        L, r_norm, r_min, sigma, r_target, N = p[\"L\"], p[\"r_norm\"], p[\"r_min\"], p[\"sigma\"], p[\"r_target\"], p[\"N\"]\n        w_S, w_U, w_T = w[\"w_S\"], w[\"w_U\"], w[\"w_T\"]\n\n        z_grid = np.linspace(0, L, N)\n        \n        def r0_func(z_val):\n            return r_norm - (r_norm - r_min) * np.exp(-(z_val - L / 2)**2 / (2 * sigma**2))\n\n        r0_grid = r0_func(z_grid)\n\n        best_key = (float('inf'), float('inf'), float('inf'), float('inf'))\n        best_params = None\n\n        candidate_params = list(itertools.product(c[\"lp\"], c[\"ld\"], c[\"s\"], c[\"phi\"]))\n\n        for lp, ld, s, phi in candidate_params:\n            # 1. Define overlap interval based on surgical parameters.\n            a = max(s, L - ld)\n            b = min(s + lp, L)\n            lo = max(0, b - a)\n\n            # 2. Calculate radius multiplicative factor from rotation angle.\n            phi_rad = np.deg2rad(phi)\n            m_phi = np.sqrt(1 + np.cos(phi_rad))\n\n            # 3. Construct the postoperative radius profile.\n            r_grid = np.copy(r0_grid)\n            if lo > 0:\n                mask = (z_grid >= a)  (z_grid = b)\n                r_grid[mask] *= m_phi\n\n            # 4. Calculate components of the cost functional.\n            # Step-off term S\n            if lo = 0:\n                S = 0.0\n            else:\n                r0_a = r0_func(a)\n                r0_b = r0_func(b)\n                delta1_sq = ((m_phi - 1) * r0_a)**2\n                delta2_sq = ((m_phi - 1) * r0_b)**2\n                S = (delta1_sq + delta2_sq) / r_norm**2\n            \n            # Uniformity term U (normalized variance)\n            U = np.var(r_grid) / r_norm**2\n            \n            # Target-radius term T (penalty for insufficient minimum radius)\n            r_min_post = np.min(r_grid)\n            T = (max(0, r_target - r_min_post)**2) / r_norm**2\n            \n            # 5. Compute the total cost J.\n            J = w_S * S + w_U * U + w_T * T\n            \n            # 6. Apply optimization criterion and tie-breaking rules.\n            current_key = (J, lp + ld, s, phi)\n            if current_key  best_key:\n                best_key = current_key\n                best_params = [int(lp), int(ld), int(s), int(phi)]\n        \n        all_results.append(best_params)\n\n    # Final print statement in the exact required format.\n    print(str(all_results).replace(\" \", \"\"))\n\nsolve()\n```"
        }
    ]
}