{
    "hands_on_practices": [
        {
            "introduction": "准确评估儿童生长状况是儿科临床实践的基石。生长Z评分（或标准差分）是将个体测量值与参考人群进行比较的标准化工具，但生长数据常呈偏态分布。本练习将指导您应用国际公认的LMS方法，从其核心公式出发，亲手计算一名儿童的体重Z评分，从而掌握处理非正态分布生长数据的关键技能。",
            "id": "5197165",
            "problem": "一名 24 个月大的男童正在使用世界卫生组织（WHO；World Health Organization）的生长标准和 Lambda-Mu-Sigma 框架进行年龄别体重评估。在此框架中，人体测量指标被建模，使得经过适当的幂变换后，其分布近似为高斯分布，其位置参数等于中位数，尺度参数反映离散程度。对于该儿童对应的年龄-性别层，一个经过验证的参考集提供了以下参数：$L=-0.300$，$M=12.2$ 千克，以及 $S=0.090$。该儿童的实测体重为 $9.8$ 千克。\n\n从 Box-Cox 幂变换可用于正态化偏态生物学测量值，以及通过变换后的位置进行中心化和通过变换后的离散度进行缩放来实现 Z-评分标准化的基本思想出发，推导在 $L$ 非零情况下年龄别体重 Z-评分的适当表达式，并使用所提供的 $L$、$M$ 和 $S$ 计算该儿童的 Z-评分。\n\n计算出 Z-评分后，评估它与 $Z=-2$、$Z=-3$ 和 $Z=+2$ 的常规分类阈值相比，是低于、介于还是高于这些值。然而，为了评分，仅报告计算出的 Z-评分。\n\n将您最终的 Z-评分数值四舍五入到四位有效数字，并以无单位值的形式表示。",
            "solution": "该问题是有效的，因为它科学地基于用于构建生长曲线的 Lambda-Mu-Sigma (LMS) 方法的既定生物统计学原理，问题提出得当，提供了所有必要信息，并且陈述客观。\n\nLMS 方法旨在将偏态的人体测量数据（如年龄别体重）正态化为标准正态分布。这是通过 Box-Cox 幂变换实现的。对于特定年龄的给定测量值 $Y$，该方法使用三个参数：$M$（中位数）、$S$（变异系数）和 $L$（偏度参数，即 Box-Cox 变换的幂）。\n\n测量值 $Y$ 与其对应的标准正态离差（或称 Z-评分）之间的关系由百分位方程定义。对于 $L$ 不等于零的值，该方程为：\n$$ Y = M (1 + L S Z)^{\\frac{1}{L}} $$\n在此，$Y$ 是儿童的测量值，$Z$ 是我们希望确定的 Z-评分。参数 $L$、$M$ 和 $S$ 是针对该儿童的特定年龄和性别给出的。\n\n为了推导 Z-评分的表达式，我们必须对该方程进行代数重排以解出 $Z$。推导过程如下：\n\n首先，两边同时除以中位数 $M$：\n$$ \\frac{Y}{M} = (1 + L S Z)^{\\frac{1}{L}} $$\n接下来，为了消除分数指数，两边同时取 $L$ 次幂：\n$$ \\left(\\frac{Y}{M}\\right)^L = \\left((1 + L S Z)^{\\frac{1}{L}}\\right)^L $$\n$$ \\left(\\frac{Y}{M}\\right)^L = 1 + L S Z $$\n现在，通过两边同时减去 $1$ 来分离含有 $Z$ 的项：\n$$ \\left(\\frac{Y}{M}\\right)^L - 1 = L S Z $$\n最后，除以乘积 $L S$ 以解出 $Z$。此步骤是有效的，因为问题指定了 $L$ 非零的情况（$L=-0.300$）。\n$$ Z = \\frac{\\left(\\frac{Y}{M}\\right)^L - 1}{L S} $$\n这就是当 $L \\neq 0$ 时，年龄别体重 Z-评分所需的表达式。\n\n现在，我们可以使用所提供的数据计算该儿童的 Z-评分：\n- 儿童的实测体重，$Y = 9.8$ 千克。\n- 该年龄-性别层的体重中位数，$M = 12.2$ 千克。\n- 偏度参数，$L = -0.300$。\n- 变异系数，$S = 0.090$。\n\n将这些值代入推导出的公式：\n$$ Z = \\frac{\\left(\\frac{9.8}{12.2}\\right)^{-0.300} - 1}{(-0.300)(0.090)} $$\n首先，计算儿童体重与中位体重之比：\n$$ \\frac{Y}{M} = \\frac{9.8}{12.2} \\approx 0.8032786885 $$\n接下来，通过将此比率取 $L$ 次幂来应用 Box-Cox 变换：\n$$ \\left(\\frac{Y}{M}\\right)^L \\approx (0.8032786885)^{-0.300} \\approx 1.06794025 $$\n现在，将此结果代入 Z-评分方程的分子：\n$$ \\text{分子} = 1.06794025 - 1 = 0.06794025 $$\n然后，计算分母：\n$$ \\text{分母} = L S = (-0.300)(0.090) = -0.027 $$\n最后，通过分子除以分母来计算 Z-评分：\n$$ Z = \\frac{0.06794025}{-0.027} \\approx -2.5163055... $$\n问题要求将最终答案四舍五入到四位有效数字。\n$$ Z \\approx -2.516 $$\n该 Z-评分表明，在考虑了参考分布的偏度后，该儿童的体重约低于其年龄和性别中位体重的 $2.516$ 个标准差。该值介于 $Z=-2$ 和 $Z=-3$ 的标准阈值之间。",
            "answer": "$$\\boxed{-2.516}$$"
        },
        {
            "introduction": "单一的生长测量数据往往不足以全面评估儿童的生长状况。临床决策需要整合纵向数据、遗传潜能和生理成熟度等多方面信息。本练习模拟了一个真实的临床情景，要求您综合分析儿童当前的身高、生长速率、遗传靶身高以及骨龄，最终做出是否需要进行内分泌专科评估的判断，旨在锻炼您的综合临床推理能力。",
            "id": "5197191",
            "problem": "一名 $9.5$ 岁的男孩因线性生长问题前来就诊。他今天的站立身高为 $125.8\\,\\mathrm{cm}$；一年前为 $122.4\\,\\mathrm{cm}$。使用 Greulich and Pyle 图谱进行放射学评估，得出的骨龄为 $8.0$ 岁。父亲身高为 $171\\,\\mathrm{cm}$，母亲身高为 $158\\,\\mathrm{cm}$。\n\n假设以下经过充分检验的参考事实，并将其作为您推导的基础：\n- 在任何给定的年龄和性别下，人群身高近似呈正态分布。对于 $9.5$ 岁的男孩，人群平均身高为 $\\mu_{9.5} = 135.5\\,\\mathrm{cm}$，人群标准差为 $\\sigma_{9.5} = 5.8\\,\\mathrm{cm}$。\n- 成年男性身高近似呈正态分布，平均值为 $\\mu_{\\mathrm{adult}} = 176.0\\,\\mathrm{cm}$，标准差为 $\\sigma_{\\mathrm{adult}} = 6.5\\,\\mathrm{cm}$。\n- 男孩的靶身高（mid-parental target height）由一个基于父母身高的广泛使用的临床公式定义。\n- $9$–$10$ 岁青春期前男孩的身高生长速率近似呈正态分布，平均值为 $\\mu_{\\mathrm{HV}} = 5.7\\,\\mathrm{cm/year}$，标准差为 $\\sigma_{\\mathrm{HV}} = 0.8\\,\\mathrm{cm/year}$。\n\n从第一性原理（人体测量性状的正态性及标准差评分的定义）出发，完成以下任务：\n1. 计算以厘米为单位的靶身高，然后计算其相对于成年男性分布的相应标准差评分（SDS）。\n2. 计算该儿童当前身高相对于 $9.5$ 岁男孩的标准差评分（SDS）。\n3. 将与靶身高的偏差（以标准差为单位）定义为儿童当前身高 SDS 与靶身高 SDS 之间的差值。计算此偏差。\n4. 计算该儿童过去一年的身高生长速率及其相对于 $9$–$10$ 岁男性身高生长速率分布的 SDS。使用一个基于与预期值偏差的原则性阈值，判断是否需要进行进一步的内分泌评估，其条件为当且仅当身高生长速率 SDS 小于 $-2$ 且骨龄相对于实际年龄延迟至少 $1.0$ 年。\n\n将与靶身高的偏差（SDS）四舍五入至三位有效数字。将您的最终答案表示为一个包含两个条目的行矩阵：第一个条目是与靶身高的偏差（SDS，按规定四舍五入），第二个条目是一个指示变量 $I$，其中如果根据所述标准需要进行进一步的内分泌评估，则 $I=1$，否则 $I=0$。最终的行矩阵内不应包含任何单位。",
            "solution": "在进行求解之前，需要对问题进行验证。\n\n**步骤 1：提取已知信息**\n- 儿童的实际年龄（CA）：$9.5$ 岁\n- 当前站立身高（$H_{\\text{current}}$）：$125.8\\,\\mathrm{cm}$\n- 一年前身高（$H_{\\text{past}}$）：$122.4\\,\\mathrm{cm}$\n- 根据 Greulich and Pyle 图谱得出的骨龄（BA）：$8.0$ 岁\n- 父亲身高（$H_F$）：$171\\,\\mathrm{cm}$\n- 母亲身高（$H_M$）：$158\\,\\mathrm{cm}$\n- $9.5$ 岁男孩的人群参考数据：平均身高 $\\mu_{9.5} = 135.5\\,\\mathrm{cm}$，标准差 $\\sigma_{9.5} = 5.8\\,\\mathrm{cm}$。\n- 成年男性的人群参考数据：平均身高 $\\mu_{\\mathrm{adult}} = 176.0\\,\\mathrm{cm}$，标准差 $\\sigma_{\\mathrm{adult}} = 6.5\\,\\mathrm{cm}$。\n- 男孩的靶身高由一个广泛使用的临床公式定义。\n- 青春期前男性（$9$–$10$ 岁）的身高生长速率人群参考数据：平均值 $\\mu_{\\mathrm{HV}} = 5.7\\,\\mathrm{cm/year}$，标准差 $\\sigma_{\\mathrm{HV}} = 0.8\\,\\mathrm{cm/year}$。\n- 内分泌评估标准：身高生长速率标准差评分（SDS）小于 $-2$ 且骨龄相对于实际年龄延迟至少 $1.0$ 年。\n- 要求输出：一个包含与靶身高偏差的 SDS（四舍五入至三位有效数字）和一个用于内分泌评估的指示变量 $I$ 的行矩阵。\n\n**步骤 2：使用提取的已知信息进行验证**\n- **科学依据**：该问题基于儿科生长学的标准原理，包括对人体测量性状使用正态分布、标准差评分（Z-scores）、靶身高计算、身高生长速率评估和骨龄判读。这些都是儿科内分泌学中的既定概念。\n- **问题定义明确**：所有必要的数据和参考统计数据均已提供。任务定义明确。在此背景下，使用“广泛使用的临床公式”计算靶身高的指令是明确的，指的是标准的 Tanner 公式。该问题是自洽的，并能导出一个唯一的解。\n- **客观性**：问题以客观、定量的术语陈述，不含主观或基于观点的论断。\n\n**步骤 3：结论与行动**\n该问题被确定为有效，因为它具有科学依据、定义明确且客观。它没有违反任何指定的无效标准。可以继续进行求解过程。\n\n---\n\n通过有条不紊地解决四个指定的任务来得出解决方案。其基本概念是标准差评分（SDS）或 Z-score，它量化了测量值与群体均值之间以标准差为单位的偏差。对于来自均值为 $\\mu$、标准差为 $\\sigma$ 的群体的测量值 $x$，SDS 的计算公式为：\n$$ \\text{SDS} = \\frac{x - \\mu}{\\sigma} $$\n\n**1. 计算靶身高（MPH）及其 SDS。**\n基于父母身高（以厘米为单位）计算男孩靶身高的标准临床公式为：\n$$ \\text{MPH} = \\frac{H_F + H_M}{2} + 6.5\\,\\mathrm{cm} $$\n代入给定的父母身高，$H_F = 171\\,\\mathrm{cm}$ 和 $H_M = 158\\,\\mathrm{cm}$：\n$$ \\text{MPH} = \\frac{171 + 158}{2} + 6.5 = \\frac{329}{2} + 6.5 = 164.5 + 6.5 = 171.0\\,\\mathrm{cm} $$\n该值代表了儿童的遗传身高潜力。现在我们使用 $\\mu_{\\mathrm{adult}} = 176.0\\,\\mathrm{cm}$ 和 $\\sigma_{\\mathrm{adult}} = 6.5\\,\\mathrm{cm}$ 计算其相对于成年男性人群的 SDS：\n$$ \\text{SDS}_{\\text{MPH}} = \\frac{\\text{MPH} - \\mu_{\\mathrm{adult}}}{\\sigma_{\\mathrm{adult}}} = \\frac{171.0 - 176.0}{6.5} = \\frac{-5.0}{6.5} = -\\frac{10}{13} $$\n数值上，$\\text{SDS}_{\\text{MPH}} \\approx -0.76923$。\n\n**2. 计算儿童当前身高的 SDS。**\n儿童的当前身高为 $H_{\\text{current}} = 125.8\\,\\mathrm{cm}$。我们将其与同龄（CA $= 9.5$ 岁）男孩的参考数据进行比较，其中 $\\mu_{9.5} = 135.5\\,\\mathrm{cm}$ 且 $\\sigma_{9.5} = 5.8\\,\\mathrm{cm}$。\n$$ \\text{SDS}_{\\text{Height}} = \\frac{H_{\\text{current}} - \\mu_{9.5}}{\\sigma_{9.5}} = \\frac{125.8 - 135.5}{5.8} = \\frac{-9.7}{5.8} = -\\frac{97}{58} $$\n数值上，$\\text{SDS}_{\\text{Height}} \\approx -1.67241$。\n\n**3. 计算与靶身高的偏差。**\n此偏差定义为儿童当前身高 SDS 与靶身高 SDS 之间的差值。\n$$ \\text{Deviation} = \\text{SDS}_{\\text{Height}} - \\text{SDS}_{\\text{MPH}} = \\left(-\\frac{97}{58}\\right) - \\left(-\\frac{10}{13}\\right) $$\n$$ \\text{Deviation} = \\frac{10}{13} - \\frac{97}{58} = \\frac{10 \\times 58 - 97 \\times 13}{13 \\times 58} = \\frac{580 - 1261}{754} = -\\frac{681}{754} $$\n数值约为 $-0.903183$。按要求四舍五入至三位有效数字，得到 $-0.903$。\n\n**4. 计算身高生长速率、其 SDS，并确定指示变量 $I$。**\n首先，我们计算过去一年的身高生长速率（HV）。\n$$ \\text{HV} = \\frac{H_{\\text{current}} - H_{\\text{past}}}{1\\,\\text{year}} = \\frac{125.8\\,\\mathrm{cm} - 122.4\\,\\mathrm{cm}}{1\\,\\text{year}} = 3.4\\,\\mathrm{cm/year} $$\n接下来，我们使用 $9$–$10$ 岁男孩的参考数据计算此身高生长速率的 SDS：$\\mu_{\\mathrm{HV}} = 5.7\\,\\mathrm{cm/year}$ 和 $\\sigma_{\\mathrm{HV}} = 0.8\\,\\mathrm{cm/year}$。\n$$ \\text{SDS}_{\\text{HV}} = \\frac{\\text{HV} - \\mu_{\\mathrm{HV}}}{\\sigma_{\\mathrm{HV}}} = \\frac{3.4 - 5.7}{0.8} = \\frac{-2.3}{0.8} = -2.875 $$\n建议进行进一步内分泌评估的标准有两方面。我们必须检查两个条件是否都满足。\n条件 A：身高生长速率 SDS 是否小于 $-2$？\n$$ \\text{SDS}_{\\text{HV}}  -2 \\implies -2.875  -2 $$\n此条件满足。\n\n条件 B：骨龄相对于实际年龄是否延迟至少 $1.0$ 年？\n实际年龄为 CA $= 9.5$ 岁。骨龄为 BA $= 8.0$ 岁。\n延迟计算如下：\n$$ \\text{Delay} = \\text{CA} - \\text{BA} = 9.5 - 8.0 = 1.5\\,\\text{years} $$\n我们检查此延迟是否大于或等于 $1.0$ 年：\n$$ \\text{Delay} \\ge 1.0\\,\\text{year} \\implies 1.5 \\ge 1.0 $$\n此条件也满足。\n\n由于两个条件都满足，因此需要进行进一步的内分泌评估。因此，指示变量 $I$ 等于 $1$。\n\n最终答案包括与靶身高的偏差 $-0.903$ 和指示变量 $1$。这些将以行矩阵的形式呈现。",
            "answer": "$$\n\\boxed{\\begin{pmatrix} -0.903  1 \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "在诊断生长迟缓时，从繁杂的临床表现中找出根本原因是一项重大挑战。本项高级练习旨在将鉴别诊断的思维过程形式化，要求您基于能量守恒的基本原理，构建一个诊断决策算法。通过将生理学概念转化为可执行的计算模型，您将学习如何系统化地为复杂的生长问题确定检查的优先顺序。",
            "id": "5197144",
            "problem": "您需要从第一性原理出发，实现一个诊断决策算法。该算法通过将四个机制域——摄入、丢失、吸收和利用——映射到可能的原因，来对小儿生长迟缓的实验室检测进行优先级排序。任务是使用一个守恒框架将这些域形式化，然后为一个固定的检测组合生成一个以数字代码列表表示的检测优先级。最终程序必须纯粹基于数值输入进行操作，并生成单行输出，汇总所有测试案例的结果。\n\n使用的基础理论：\n- 从应用于生长关键底物的质量和能量守恒定律开始。将可用于生长的净可用底物定义为同化摄入量与可测量丢失量之间的差值，并将有效需求量定义为按利用乘数缩放的基线生理需求量。\n- 需采用的定义：\n  - $I$：每日每单位质量的摄入量，单位为 $\\mathrm{kJ}/\\mathrm{kg}/\\mathrm{day}$。\n  - $A$：吸收（同化）分数，位于无量纲区间 $[0,1]$ 内，以小数形式（而非百分比）表示。\n  - $L$：每日每单位质量的丢失量，单位为 $\\mathrm{kJ}/\\mathrm{kg}/\\mathrm{day}$。\n  - $\\mu$：利用乘数（无量纲），其中 $\\mu = 1$ 表示基线需求，$\\mu  1$ 表示需求增加（例如，疾病或高代谢状态）。\n  - $R_b$：每单位质量的基线生理需求量，单位为 $\\mathrm{kJ}/\\mathrm{kg}/\\mathrm{day}$。\n- 算法必须从这些定义和核心守恒推理中推导得出，不得依赖任何预先给定的快捷公式。您的实现必须在逻辑上保持一致，并且对于所有提供的输入，在数值上都有良好定义。\n\n检测优先级排序：\n- 您必须将每个域映射到固定的数字检测代码。请使用以下映射，并确保您的最终输出严格为一个整数列表：\n  - 摄入域：$11$ 和 $12$。\n  - 丢失域：$21$ 和 $22$。\n  - 吸收域：$31$ 和 $32$。\n  - 利用域：$41$ 和 $42$。\n- 优先级排序规则如下：\n  1. 通过比较净可用底物与有效需求量，判断儿童是否存在亏损。如果没有亏损，则为该案例返回一个空列表。\n  2. 如果存在亏损，使用基于围绕生理上合理的参考状态的守恒推理得出的有原则的分解方法，量化每个域对亏损的非负贡献。在您的推导中，使用固定的吸收参考值 $A^{\\mathrm{ref}} = 0.95$ 和丢失参考值 $L^{\\mathrm{ref}} = 0$。\n  3. 根据量化的贡献大小按降序对四个域进行排序。如果出现数值完全相等的情况，则按照固定的类别顺序打破平局：利用、吸收、丢失、摄入。\n  4. 输出贡献最大的两个域（如果正贡献的域少于两个，则输出较少的域）对应的检测代码，按排序后的顺序串联成一个列表；例如，如果丢失是贡献最大的域，吸收是第二大，则生成 $[21,22,31,32]$。\n\n输入单位和数值约定：\n- 所有输入 $I$、$L$ 和 $R_b$ 都必须以 $\\mathrm{kJ}/\\mathrm{kg}/\\mathrm{day}$ 为单位处理。\n- 吸收分数 $A$ 必须作为小数（例如，$0.95$）处理，而不是百分比。\n- 利用乘数 $\\mu$ 是无量纲的。\n- 任何可能出现的角度都必须以弧度为单位；然而，本问题不涉及角度。\n\n测试套件：\n- 使用上述单位和约定，为以下五个测试案例实现您的算法，每个案例都是一个元组 $(I, A, L, \\mu, R_b)$：\n  1. $(I = 350, A = 0.95, L = 20, \\mu = 1.0, R_b = 420)$\n  2. $(I = 450, A = 0.50, L = 30, \\mu = 1.0, R_b = 420)$\n  3. $(I = 480, A = 0.95, L = 150, \\mu = 1.0, R_b = 420)$\n  4. $(I = 480, A = 0.95, L = 20, \\mu = 1.30, R_b = 420)$\n  5. $(I = 500, A = 0.95, L = 20, \\mu = 1.0, R_b = 420)$\n\n输出规范：\n- 您的程序应生成单行输出，其中包含用方括号括起来的、以逗号分隔的结果列表。每个元素对应一个测试案例的优先级排序后的检测代码列表。例如，五个案例的有效输出格式为 $[[\\ldots],[\\ldots],[\\ldots],[\\ldots],[\\ldots]]$，其中每个内部列表仅包含整数。\n\n覆盖性设计：\n- 这些案例包括一个由摄入主导的一般情况、一个由吸收主导的情况、一个由丢失主导的情况、一个由利用增加主导的情况，以及一个无亏损的边界情况。这为小儿生长发育诊断提供了对典型、边缘和边界场景的覆盖。\n\n您的程序必须是自包含的，不需要任何输入，并精确遵循最终的输出格式。最终答案必须是一个完整、可运行的程序。",
            "solution": "该问题要求基于能量守恒原理，为小儿生长迟缓开发一个诊断算法。解决方案首先通过将生理模型形式化，然后创建一种基于模型输出对实验室检测进行优先级排序的系统化方法来推导得出。\n\n### 1. 守恒框架的形式化\n\n算法的核心在于应用于生长关键底物（例如，能量千焦）的质量和能量守恒定律。我们使用所提供的变量来定义系统状态。\n\n设 $I$ 为每日每单位质量的摄入量（$\\mathrm{kJ}/\\mathrm{kg}/\\mathrm{day}$），$A$ 为无量纲的吸收分数，$L$ 为每日每单位质量的丢失量（$\\mathrm{kJ}/\\mathrm{kg}/\\mathrm{day}$），$\\mu$ 为无量纲的利用乘数，$R_b$ 为每单位质量的基线生理需求量（$\\mathrm{kJ}/\\mathrm{kg}/\\mathrm{day}$）。\n\n首先，我们将可用于生长的净可用底物 $S_{\\text{net}}$ 定义为成功吸收的摄入能量减去任何后续的丢失量。\n$$S_{\\text{net}} = I \\cdot A - L$$\n\n接着，我们定义有效生理需求量 $R_{\\text{eff}}$，即基线需求量 $R_b$ 乘以利用乘数 $\\mu$。$\\mu  1$ 的值表示代谢需求增加，例如由于疾病或高代谢状态。\n$$R_{\\text{eff}} = R_b \\cdot \\mu$$\n\n当有效需求量超过净可用底物时，便存在生长亏损 $D$。该亏损的大小由下式给出：\n$$D = R_{\\text{eff}} - S_{\\text{net}}$$\n代入 $S_{\\text{net}}$ 和 $R_{\\text{eff}}$ 的定义：\n$$D = (R_b \\cdot \\mu) - (I \\cdot A - L) = R_b \\mu - IA + L$$\n算法的第一步是计算 $D$。如果 $D \\le 0$，则不存在亏损，对该案例的分析终止，并生成一个空的检测列表。\n\n### 2. 亏损的分解\n\n如果发现存在亏损（$D  0$），下一步是将此亏损归因于四个机制域：摄入、吸收、丢失和利用。这是通过将总亏损分解为来自每个域的贡献来实现的。该分解是通过将实际状态与代表理想生理功能的已定义参考状态进行比较来执行的。\n\n参考状态定义如下：\n- 参考吸收分数，$A^{\\text{ref}} = 0.95$\n- 参考丢失量，$L^{\\text{ref}} = 0$\n- 参考利用乘数，$\\mu^{\\text{ref}} = 1.0$\n\n总亏损方程 $D = R_b \\mu - IA + L$ 可以通过加减与参考状态相对应的项来进行分解：\n$$ D = \\underbrace{(R_b - I A^{\\text{ref}})}_{\\text{Intake Effect}} + \\underbrace{I (A^{\\text{ref}} - A)}_{\\text{Absorption Effect}} + \\underbrace{L}_{\\text{Losses Effect}} + \\underbrace{R_b (\\mu - 1)}_{\\text{Utilization Effect}} $$\n这个恒等式将亏损完美地划分为四项，每一项都对应于一个域相对于参考状态的偏差。\n\n问题要求量化每个域对亏损的**非负贡献**。一个会减少亏损的效应（例如，摄入量高于参考需求量，$I A^{\\text{ref}}  R_b$）被认为对*亏损*的贡献为零。这引出了以下由 $C$ 表示的贡献定义：\n\n1.  **摄入贡献 ($C_I$)**：这是在所有其他域都处于理想状态时会存在的亏损。仅当理想吸收摄入量（$I \\cdot A^{\\text{ref}}$）不足以满足基线需求量（$R_b$）时，该值才为正。\n    $$C_I = \\max(0, R_b - I \\cdot A^{\\text{ref}})$$\n\n2.  **吸收贡献 ($C_A$)**：这是由于实际吸收分数 $A$ 低于参考吸收分数 $A^{\\text{ref}}$ 而丢失的底物量。\n    $$C_A = I \\cdot \\max(0, A^{\\text{ref}} - A)$$\n\n3.  **丢失贡献 ($C_L$)**：这是来自丢失的直接贡献，假定其为非负值。它衡量的是超出参考丢失量 $L^{\\text{ref}}=0$ 的部分。\n    $$C_L = \\max(0, L - L^{\\text{ref}}) = L$$\n\n4.  **利用贡献 ($C_U$)**：这是由于利用乘数 $\\mu$ 大于基线值 $\\mu^{\\text{ref}}=1$ 而增加的需求。\n    $$C_U = R_b \\cdot \\max(0, \\mu - 1)$$\n\n### 3. 优先级排序算法\n\n在量化了贡献之后，最后一步是对这些域进行排序，并生成优先级排序后的检测代码列表。\n\n1.  **计算贡献**：对于 $D  0$ 的案例，按上述定义计算四个非负贡献 $C_I, C_A, C_L, C_U$。\n2.  **筛选和结构化**：创建一个贡献大于零（$C  0$）的域的列表。列表中的每一项将存储贡献值、一个用于打破平局的索引以及相关的检测代码。固定的打破平局顺序是：利用、吸收、丢失、摄入。我们分配整数索引来强制执行此顺序：利用（$0$）、吸收（$1$）、丢失（$2$）、摄入（$3$）。\n3.  **排序**：对这个贡献域列表进行排序。主排序标准是贡献大小（降序）。次排序标准是打破平局的索引（升序）。\n4.  **选择和串联**：从排序后的列表中选择前两个域。如果只有一个贡献域，则只选择那一个。将所选域的检测代码按其排序后的顺序串联起来，为该案例生成最终结果。\n\n检测代码映射如下：\n- 摄入：$[11, 12]$\n- 丢失：$[21, 22]$\n- 吸收：$[31, 32]$\n- 利用：$[41, 42]$\n\n这个基于守恒原理和清晰分解逻辑的系统化程序，能够为诊断性检测生成一个稳健且可复现的优先级排序。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Implements a diagnostic decision algorithm for pediatric growth faltering.\n    \n    The algorithm is based on a conservation of energy framework to prioritize\n    laboratory testing across four domains: intake, losses, absorption, and\n    utilization.\n    \"\"\"\n    \n    # Define the test cases from the problem statement.\n    # Each case is a tuple: (I, A, L, mu, R_b)\n    test_cases = [\n        (350, 0.95, 20, 1.0, 420),  # Case 1: Intake-driven deficit\n        (450, 0.50, 30, 1.0, 420),  # Case 2: Absorption-driven deficit\n        (480, 0.95, 150, 1.0, 420), # Case 3: Losses-driven deficit\n        (480, 0.95, 20, 1.30, 420), # Case 4: Utilization-driven deficit\n        (500, 0.95, 20, 1.0, 420)   # Case 5: No deficit\n    ]\n\n    # Define fixed parameters and mappings\n    A_ref = 0.95\n    L_ref = 0.0\n    mu_ref = 1.0\n    \n    domain_map = {\n        'intake': {'codes': [11, 12], 'tie_break_idx': 3},\n        'losses': {'codes': [21, 22], 'tie_break_idx': 2},\n        'absorption': {'codes': [31, 32], 'tie_break_idx': 1},\n        'utilization': {'codes': [41, 42], 'tie_break_idx': 0},\n    }\n\n    results = []\n    for case in test_cases:\n        I, A, L, mu, R_b = case\n\n        # Step 1: Check for deficit\n        s_net = I * A - L\n        r_eff = R_b * mu\n        deficit = r_eff - s_net\n\n        if deficit = 0:\n            results.append([])\n            continue\n\n        # Step 2: Calculate nonnegative contributions from each domain\n        c_I = max(0, R_b - I * A_ref)\n        c_A = I * max(0, A_ref - A)\n        c_L = max(0, L - L_ref)\n        c_U = R_b * max(0, mu - mu_ref)\n\n        contributions = [\n            {'name': 'intake', 'value': c_I},\n            {'name': 'absorption', 'value': c_A},\n            {'name': 'losses', 'value': c_L},\n            {'name': 'utilization', 'value': c_U},\n        ]\n\n        # Step 3: Filter, structure, and sort contributions\n        \n        # Filter for domains with a positive contribution\n        positive_contributions = [c for c in contributions if c['value'] > 0]\n        \n        # Add tie-breaking information and prepare for sorting\n        sortable_domains = []\n        for c in positive_contributions:\n            domain_info = domain_map[c['name']]\n            sortable_domains.append(\n                (c['value'], domain_info['tie_break_idx'], domain_info['codes'])\n            )\n            \n        # Sort by contribution (desc) and then tie-break index (asc)\n        sortable_domains.sort(key=lambda x: (-x[0], x[1]))\n\n        # Step 4: Select top two domains and concatenate their codes\n        prioritized_tests = []\n        num_domains_to_select = min(2, len(sortable_domains))\n        for i in range(num_domains_to_select):\n            prioritized_tests.extend(sortable_domains[i][2])\n\n        results.append(prioritized_tests)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        }
    ]
}