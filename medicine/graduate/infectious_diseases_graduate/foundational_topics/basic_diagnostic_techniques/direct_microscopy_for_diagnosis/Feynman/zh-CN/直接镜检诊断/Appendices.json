{
    "hands_on_practices": [
        {
            "introduction": "在临床诊断中，任何检测方法都必须经过严格的性能评估。本练习将引导你应用灵敏度、特异性和准确性这三个核心指标来量化直接镜检法的诊断性能 。通过处理一个假设的临床验证数据集，你将学会如何从原始数据中解读检测方法的优点与局限。",
            "id": "4638228",
            "problem": "在传染病的临床微生物学环境中，使用 Ziehl–Neelsen 染色法对痰涂片进行直接镜检以检测抗酸杆菌 (AFB)，并与培养或聚合酶链式反应 (PCR) 的参考标准进行评估。设二元疾病状态为 $D$ (存在感染) 和 $\\bar{D}$ (无感染)，检测结果为 $T^{+}$ (涂片阳性) 和 $T^{-}$ (涂片阴性)。利用条件概率的基本定义和事件划分的概念，用 $D$、$\\bar{D}$、$T^{+}$ 和 $T^{-}$ 来定义直接镜检的敏感性、特异性和准确性。然后，根据以下数据集计算这些指标：\n- 有 $100$ 名真正感染的个体 ($D$)。\n- 在 $D$ 个体中，直接镜检得出 $80$ 例涂片阳性 ($T^{+}$) 和 $20$ 例涂片阴性 ($T^{-}$)。\n- 有 $150$ 名真正未感染的个体 ($\\bar{D}$) 。\n- 在 $\\bar{D}$ 个体中，直接镜检得出 $10$ 例涂片阳性 ($T^{+}$)，其余为涂片阴性 ($T^{-}$)。\n\n将敏感性、特异性和准确性均表示为小数，并四舍五入到四位有效数字。无需单位。",
            "solution": "在尝试解答之前，对问题进行验证。\n\n### 第一步：提取已知条件\n-   二元疾病状态用 $D$ 表示存在感染，用 $\\bar{D}$ 表示无感染。\n-   二元检测结果用 $T^{+}$ 表示涂片阳性，用 $T^{-}$ 表示涂片阴性。\n-   任务是用 $D$、$\\bar{D}$、$T^{+}$ 和 $T^{-}$ 来定义敏感性、特异性和准确性。\n-   任务是根据给定数据集计算这些指标。\n-   数据集：\n    -   状态为 $D$ 的个体数量：$N(D) = 100$。\n    -   状态为 $D$ 的个体中，结果为 $T^{+}$ 的数量：$N(T^{+} \\cap D) = 80$。\n    -   状态为 $D$ 的个体中，结果为 $T^{-}$ 的数量：$N(T^{-} \\cap D) = 20$。\n    -   状态为 $\\bar{D}$ 的个体数量：$N(\\bar{D}) = 150$。\n    -   状态为 $\\bar{D}$ 的个体中，结果为 $T^{+}$ 的数量：$N(T^{+} \\cap \\bar{D}) = 10$。\n    -   状态为 $\\bar{D}$ 的个体中，结果为 $T^{-}$ 的数量：剩余部分，即 $N(\\bar{D}) - N(T^{+} \\cap \\bar{D})$。\n-   输出格式：将敏感性、特异性和准确性表示为小数，并四舍五入到四位有效数字。\n\n### 第二步：使用提取的已知条件进行验证\n-   **科学依据**：该问题是生物统计学和流行病学中的一个标准应用，用于评估一种诊断测试（用于检测抗酸杆菌的 Ziehl–Neelsen 染色法）相对于金标准（培养或 PCR）的性能。敏感性、特异性和准确性的概念是基础性的，且陈述正确。该情景在科学上是有效的。\n-   **适定性**：该问题是适定的。它提供了定义和计算所需指标的所有必要数据。要求明確。\n-   **客观性**：问题以精确、客观的语言陈述，没有主观因素。\n-   **完整性和一致性**：所提供的数据是自洽的。对于患病组，$N(T^{+} \\cap D) + N(T^{-} \\cap D) = 80 + 20 = 100$，等于 $N(D)$。对于非患病组，$T^{-}$ 个体的数量是隐含定义且可计算的。没有矛盾之处。\n\n### 第三步：结论与行动\n问题有效。将提供解答。\n\n### 解答\n\n诊断测试的性能通过其正确识别患病和未患病个体的能力来表征。这些特征是使用条件概率来正式定义的，而条件概率则通过样本计数来估计。样本空间由疾病状态 $\\{D, \\bar{D}\\}$ 和检测结果 $\\{T^{+}, T^{-}\\}$ 划分。\n\n首先，我们基于条件概率的原理建立敏感性、特异性和准确性的定义。给定事件 $B$ 的条件下事件 $A$ 发生的概率是 $P(A|B) = \\frac{P(A \\cap B)}{P(B)}$。在这种频率主义的情境下，我们使用每个类别中的个体数量 $N$ 来估计这些概率。\n\n1.  **敏感性 (Sensitivity)**：敏感性是指在个体确实感染的情况下，检测结果为阳性的概率。它衡量了该测试正确识别出患病者的能力。\n    $$\n    \\text{敏感性} = P(T^{+} | D) = \\frac{N(T^{+} \\cap D)}{N(D)}\n    $$\n    其中，$N(T^{+} \\cap D)$ 代表真阳性 ($TP$) 的数量，$N(D)$ 是感染个体的总数，即真阳性 ($TP$) 和假阴性 ($FN$) 的总和，其中 $FN = N(T^{-} \\cap D)$。因此，\n    $$\n    \\text{敏感性} = \\frac{TP}{TP + FN}\n    $$\n\n2.  **特异性 (Specificity)**：特异性是指在个体确实未感染的情况下，检测结果为阴性的概率。它衡量了该测试正确识别出未患病者的能力。\n    $$\n    \\text{特异性} = P(T^{-} | \\bar{D}) = \\frac{N(T^{-} \\cap \\bar{D})}{N(\\bar{D})}\n    $$\n    其中，$N(T^{-} \\cap \\bar{D})$ 代表真阴性 ($TN$) 的数量，$N(\\bar{D})$ 是未感染个体的总数，即真阴性 ($TN$) 和假阳性 ($FP$) 的总和，其中 $FP = N(T^{+} \\cap \\bar{D})$。因此，\n    $$\n    \\text{特异性} = \\frac{TN}{TN + FP}\n    $$\n\n3.  **准确性 (Accuracy)**：准确性是指对于从人群中随机抽取的任何个体，该测试给出正确结果的总体概率。正确结果即真阳性或真阴性。\n    $$\n    \\text{准确性} = \\frac{N(\\text{正确结果})}{N(\\text{总人口})} = \\frac{N(T^{+} \\cap D) + N(T^{-} \\cap \\bar{D})}{N(D) + N(\\bar{D})}\n    $$\n    用 $TP$、$TN$、$FP$ 和 $FN$ 表示，即：\n    $$\n    \\text{准确性} = \\frac{TP + TN}{TP + TN + FP + FN}\n    $$\n\n接下来，我们使用所提供的数据计算这些指标。我们首先将数据整理成一个列联表。\n\n根据已知条件：\n-   真阳性 ($TP$)：$N(T^{+} \\cap D) = 80$。\n-   假阴性 ($FN$)：$N(T^{-} \\cap D) = 20$。\n-   感染总数：$N(D) = TP + FN = 80 + 20 = 100$。这与问题陈述一致。\n-   假阳性 ($FP$)：$N(T^{+} \\cap \\bar{D}) = 10$。\n-   未感染总数：$N(\\bar{D}) = 150$。\n-   真阴性 ($TN$)：$N(T^{-} \\cap \\bar{D}) = N(\\bar{D}) - N(T^{+} \\cap \\bar{D}) = 150 - 10 = 140$。\n\n总人口规模为 $N = N(D) + N(\\bar{D}) = 100 + 150 = 250$。\n\n现在我们计算这些值：\n\n**敏感性计算**：\n$$\n\\text{敏感性} = \\frac{TP}{TP + FN} = \\frac{80}{80 + 20} = \\frac{80}{100} = 0.8\n$$\n四舍五入到四位有效数字，结果是 $0.8000$。\n\n**特异性计算**：\n$$\n\\text{特异性} = \\frac{TN}{TN + FP} = \\frac{140}{140 + 10} = \\frac{140}{150} = \\frac{14}{15}\n$$\n作为小数，$\\frac{14}{15} \\approx 0.933333...$。四舍五入到四位有效数字得到 $0.9333$。\n\n**准确性计算**：\n$$\n\\text{准确性} = \\frac{TP + TN}{TP + TN + FP + FN} = \\frac{80 + 140}{100 + 150} = \\frac{220}{250} = \\frac{22}{25} = 0.88\n$$\n四舍五入到四位有效数字，结果是 $0.8800$。\n\n计算出的指标为：敏感性 = $0.8000$，特异性 = $0.9333$，准确性 = $0.8800$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.8000  0.9333  0.8800\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "直接镜检的灵敏度常常受限于样本中病原体浓度过低。本练习通过建立一个基于质量守恒的数学模型，来模拟样本浓缩这一关键的分析前步骤 。你将定量分析离心、转移等操作如何影响最终的病原体密度，从而深刻理解样本制备对提升检出率的重要性。",
            "id": "4638252",
            "problem": "临床微生物学实验室使用离心法浓缩样本以进行直接显微镜检查。考虑一个痰样本，其初始微生物浓度为 $c_0$ (微生物/毫升)，体积为 $V_0$。沉淀步骤将比例为 $s$ 的微生物转移到沉淀物中；在倾析和转移过程中，比例为 $l$ 的沉淀微生物会丢失。然后将沉淀物重悬至最终体积 $V_f$。从微生物数量守恒出发，且不假设微生物的产生或消亡，请用 $c_0$、$V_0$、$s$、$l$ 和 $V_f$ 推导最终微生物浓度 $c_f$ 的表达式。\n\n将您的表达式应用于以下用于直接显微镜制备的实际参数：$V_0 = 10\\,\\mathrm{mL}$，$c_0 = 3.6 \\times 10^{4}\\,\\mathrm{微生物/mL}$，$s = 0.93$，$l = 0.08$ 以及 $V_f = 0.2\\,\\mathrm{mL}$。计算 $c_f$ 的值，并以微生物/毫升为单位表示。将您的答案四舍五入到四位有效数字。",
            "solution": "合适的基本原理是微生物数量守恒，这是一条质量平衡原则，指出在没有出生、死亡或外部添加的情况下，微生物的数量在整个处理步骤中是守恒的。\n\n设 $N_0$ 表示样本中初始的微生物总数。根据定义，\n$$\nN_0 = c_0 V_0.\n$$\n离心将这些微生物中的一部分（比例为 $s$）转移到沉淀物中。离心后沉淀物中的微生物数量为\n$$\nN_{\\mathrm{pellet,\\,pre}} = s N_0.\n$$\n在倾析和转移过程中，一部分（比例为 $l$）的沉淀微生物会丢失，因此，保留在沉淀物中并最终被重悬的微生物数量为\n$$\nN_{\\mathrm{final}} = (1 - l) N_{\\mathrm{pellet,\\,pre}} = (1 - l) s N_0 = s (1 - l) c_0 V_0.\n$$\n重悬至最终体积 $V_f$ 后，最终微生物浓度 $c_f$ 是微生物数量除以最终体积：\n$$\nc_f = \\frac{N_{\\mathrm{final}}}{V_f} = \\frac{s (1 - l) c_0 V_0}{V_f}.\n$$\n\n这个表达式表明了样本浓缩如何通过体积减小因子 $\\frac{V_0}{V_f}$ 来增加微生物密度，并受过程回收率 $s(1 - l)$ 的调节。\n\n代入给定的数值：$V_0 = 10\\,\\mathrm{mL}$，$c_0 = 3.6 \\times 10^{4}\\,\\mathrm{微生物/mL}$，$s = 0.93$，$l = 0.08$ 以及 $V_f = 0.2\\,\\mathrm{mL}$：\n$$\nc_f = \\frac{0.93 \\times (1 - 0.08) \\times \\left(3.6 \\times 10^{4}\\right) \\times 10}{0.2}.\n$$\n计算回收因子：\n$$\ns(1 - l) = 0.93 \\times 0.92 = 0.8556.\n$$\n计算分子：\n$$\n\\left(3.6 \\times 10^{4}\\right) \\times 10 \\times 0.8556 = \\left(3.6 \\times 10^{5}\\right) \\times 0.8556 = 3.08016 \\times 10^{5}.\n$$\n除以最终体积：\n$$\nc_f = \\frac{3.08016 \\times 10^{5}}{0.2} = 1.54008 \\times 10^{6}.\n$$\n四舍五入到四位有效数字，最终浓度为\n$$\nc_f \\approx 1.540 \\times 10^{6}\\ \\text{微生物/mL}.\n$$",
            "answer": "$$\\boxed{1.540 \\times 10^{6}}$$"
        },
        {
            "introduction": "即使制备了完美的涂片，在稀有病原体检测中，找到目标也如同一个概率游戏。本练习应用泊松分布模型，探讨了镜检工作量（即扫描的视野数量）与检出阳性结果概率之间的直接关系 。通过计算达到特定检出率所需的最小视野数，你将能回答“扫描多少视野才足够？”这个至关重要的实践问题。",
            "id": "4638237",
            "problem": "在传染病诊断的直接镜检中（例如，痰液中抗酸杆菌（AFB）的抗酸染色），当微生物稀少且随机分布时，每个独立视野中观察到的微生物数量通常被建模为泊松过程。假设每个扫描视野产生的微生物计数是一个独立的泊松随机变量，其均值为每个视野 $\\lambda$ 个微生物。如果在所有扫描视野中总共观察到至少一个微生物，则诊断检查被判定为阳性。仅从泊松分布的定义和标准性质以及视野间独立的假设出发，推导检出概率作为扫描视野数 $n$ 和每视野均值 $\\lambda$ 的函数的解析表达式。然后，使用您推导的表达式，确定当每个视野的微生物均值为 $\\lambda = 0.05$ 时，为达到至少 $0.95$ 的检出概率所需的最小整数视野数 $n$。报告满足该标准的最小整数 $n$ 作为您的最终答案。不要四舍五入；选择能使检出概率达到至少 $0.95$ 的最小整数。",
            "solution": "问题陈述已经过严格验证，被认为是有效的。它具有科学依据，是良定的、客观的，并包含一套完整且一致的给定条件。使用泊松分布来模拟稀有、独立的事件是生物统计学及相关领域的标准且合适的方法。\n\n设 $n$ 为扫描的总视野数。\n设 $\\lambda$ 为每个视野的平均微生物数。\n设 $X_i$ 为表示在第 $i$ 个视野中计数的微生物数量的随机变量，其中 $i = 1, 2, \\ldots, n$。\n\n根据问题陈述，每个 $X_i$ 是一个独立的随机变量，服从均值为 $\\lambda$ 的泊松分布。$X_i$ 的概率质量函数（PMF）由下式给出：\n$$P(X_i = k) = \\frac{\\lambda^k \\exp(-\\lambda)}{k!}$$\n其中 $k = 0, 1, 2, \\ldots$。\n\n如果在所有 $n$ 个扫描视野中观察到至少一个微生物，则诊断检查为阳性。设 $P_D$ 为检出概率。这是微生物总数 $Y = \\sum_{i=1}^{n} X_i$ 大于或等于1的概率。\n$$P_D = P(Y \\ge 1)$$\n\n计算其互补事件的概率更为简便，即在所有 $n$ 个视野中观察到零个微生物。检出概率则是 $1$ 减去这个互补事件的概率。\n$$P_D = 1 - P(Y = 0)$$\n\n事件 $Y=0$ 发生当且仅当对于所有 $i=1, 2, \\ldots, n$ 都有 $X_i=0$。\n$$P(Y = 0) = P(X_1=0 \\text{ and } X_2=0 \\text{ and } \\ldots \\text{ and } X_n=0)$$\n\n由于随机变量 $X_i$ 是独立的，它们联合发生的概率是它们各自概率的乘积：\n$$P(Y = 0) = P(X_1=0) \\times P(X_2=0) \\times \\ldots \\times P(X_n=0) = \\prod_{i=1}^{n} P(X_i=0)$$\n\n对于任何给定的视野 $i$，观察到零个微生物的概率可以通过在泊松概率质量函数中设 $k=0$ 来求得：\n$$P(X_i = 0) = \\frac{\\lambda^0 \\exp(-\\lambda)}{0!} = \\frac{1 \\cdot \\exp(-\\lambda)}{1} = \\exp(-\\lambda)$$\n\n将此代入 $P(Y=0)$ 的表达式中：\n$$P(Y = 0) = \\prod_{i=1}^{n} \\exp(-\\lambda) = (\\exp(-\\lambda))^n = \\exp(-n\\lambda)$$\n\n因此，检出概率 $P_D$ 作为 $n$ 和 $\\lambda$ 的函数的解析表达式为：\n$$P_D(n, \\lambda) = 1 - P(Y = 0) = 1 - \\exp(-n\\lambda)$$\n\n这就完成了问题的第一部分。\n\n对于第二部分，我们必须求出当每个视野的平均计数为 $\\lambda = 0.05$ 时，为达到至少 $0.95$ 的检出概率所需的最小整数视野数 $n$。\n我们建立不等式：\n$$P_D(n, 0.05) \\ge 0.95$$\n$$1 - \\exp(-n \\cdot 0.05) \\ge 0.95$$\n\n为了解出 $n$，我们整理不等式：\n$$1 - 0.95 \\ge \\exp(-0.05n)$$\n$$0.05 \\ge \\exp(-0.05n)$$\n\n接下来，我们对两边取自然对数。由于自然对数函数 $\\ln(x)$ 在 $x0$ 时是单调递增的，所以不等号的方向保持不变。\n$$\\ln(0.05) \\ge \\ln(\\exp(-0.05n))$$\n$$\\ln(0.05) \\ge -0.05n$$\n\n为了分离出 $n$，我们两边同除以 $-0.05$。除以一个负数会使不等号方向反转：\n$$n \\ge \\frac{\\ln(0.05)}{-0.05}$$\n我们可以使用性质 $\\ln(x) = -\\ln(1/x)$ 来简化右边的表达式：\n$$n \\ge \\frac{-\\ln(1/0.05)}{-0.05} = \\frac{\\ln(20)}{0.05}$$\n数值上，$\\ln(20) \\approx 2.99573227$。\n$$n \\ge \\frac{2.99573227}{0.05}$$\n$$n \\ge 59.9146454$$\n\n问题要求的是最小*整数*视野数。由于 $n$ 必须是整数，我们必须找到大于或等于 $59.9146454$ 的最小整数。这个整数是 $60$。\n\n为了验证，我们可以检查 $n=59$ 和 $n=60$ 时的检出概率：\n当 $n=59$ 时：$P_D = 1 - \\exp(-59 \\times 0.05) = 1 - \\exp(-2.95) \\approx 1 - 0.05234 = 0.94766$，小于 $0.95$。\n当 $n=60$ 时：$P_D = 1 - \\exp(-60 \\times 0.05) = 1 - \\exp(-3.0) \\approx 1 - 0.04979 = 0.95021$，大于或等于 $0.95$。\n\n因此，所需的最小整数视野数是 $60$。",
            "answer": "$$\\boxed{60}$$"
        }
    ]
}