{
    "hands_on_practices": [
        {
            "introduction": "Mastering the physical art of colonoscopy requires a deep, intuitive understanding of how the instrument behaves within the tortuous colonic lumen. This exercise moves beyond intuition by applying the principles of static torsional mechanics to model the common phenomenon of 'torque loss' caused by looping. By calculating how rotational force applied at the handle dissipates along the scope's shaft, you will gain a quantitative appreciation for the challenges of torque steering and the importance of loop reduction for precise tip control. ",
            "id": "4610895",
            "problem": "A senior surgical endoscopist performs a colonoscopy and notes two persistent loop points in the sigmoid and transverse colon that each behave as rotationally compliant constraints against the colonic wall. Model each loop point as a linear torsional spring to ground (bowel), with torsional stiffness coefficients $k_1$ and $k_2$, respectively. The distal tip is in stable mucosal apposition, modeled as a linear torsional spring to ground with stiffness $k_{\\mathrm{tip}}$. Assume that the colonoscope shaft segments between these three compliant points are torsionally rigid relative to the loop compliances and are lossless, and that the maneuver is performed quasi-statically so that inertial effects are negligible.\n\nA $90^\\circ$ clockwise rotation is applied at the handle (proximal end) and held. The measured stiffnesses are $k_1 = 0.8\\ \\mathrm{N\\cdot m/rad}$, $k_2 = 0.5\\ \\mathrm{N\\cdot m/rad}$, and $k_{\\mathrm{tip}} = 1.6\\ \\mathrm{N\\cdot m/rad}$.\n\nUsing first principles of static torsional mechanics, compute the expected orientation change of the distal tip relative to the colon. Express your final answer in degrees, and round your answer to four significant figures.",
            "solution": "The system can be modeled as three torsional springs connected in series, representing the two loop points and the distal tip's contact with the colon wall. The rigid shaft segments connect these compliant points. When a torque $\\tau$ is applied at the handle, it is transmitted uniformly through all compliant elements in this quasi-static, lossless system.\n\nThe total angular displacement at the handle, $\\theta_{\\mathrm{handle}}$, is the sum of the individual angular twists across each of the three compliant elements ($\\Delta\\theta_1$, $\\Delta\\theta_2$, $\\Delta\\theta_3$):\n$$ \\theta_{\\mathrm{handle}} = \\Delta\\theta_1 + \\Delta\\theta_2 + \\Delta\\theta_3 $$\n\nAccording to the law for torsional springs (a form of Hooke's Law), the relationship between torque and twist for each element is $\\tau = k \\Delta\\theta$. We can express each twist in terms of the common torque $\\tau$ and the respective stiffness ($k_1$, $k_2$, $k_{\\mathrm{tip}}$):\n$$ \\Delta\\theta_1 = \\frac{\\tau}{k_1}, \\quad \\Delta\\theta_2 = \\frac{\\tau}{k_2}, \\quad \\Delta\\theta_3 = \\frac{\\tau}{k_{\\mathrm{tip}}} $$\n\nSubstituting these into the equation for the total handle rotation gives:\n$$ \\theta_{\\mathrm{handle}} = \\frac{\\tau}{k_1} + \\frac{\\tau}{k_2} + \\frac{\\tau}{k_{\\mathrm{tip}}} = \\tau \\left( \\frac{1}{k_1} + \\frac{1}{k_2} + \\frac{1}{k_{\\mathrm{tip}}} \\right) $$\n\nThe problem asks for the orientation change of the distal tip relative to the colon, which is the twist across the final spring connecting the tip to the colon wall. Thus, $\\theta_{\\mathrm{tip}} = \\Delta\\theta_3 = \\frac{\\tau}{k_{\\mathrm{tip}}}$.\n\nTo find the relationship between $\\theta_{\\mathrm{tip}}$ and $\\theta_{\\mathrm{handle}}$, we first solve for $\\tau$ from the tip's equation: $\\tau = k_{\\mathrm{tip}} \\theta_{\\mathrm{tip}}$. Substituting this into the equation for $\\theta_{\\mathrm{handle}}$:\n$$ \\theta_{\\mathrm{handle}} = (k_{\\mathrm{tip}} \\theta_{\\mathrm{tip}}) \\left( \\frac{1}{k_1} + \\frac{1}{k_2} + \\frac{1}{k_{\\mathrm{tip}}} \\right) = \\theta_{\\mathrm{tip}} \\left( \\frac{k_{\\mathrm{tip}}}{k_1} + \\frac{k_{\\mathrm{tip}}}{k_2} + 1 \\right) $$\n\nSolving for $\\theta_{\\mathrm{tip}}$:\n$$ \\theta_{\\mathrm{tip}} = \\frac{\\theta_{\\mathrm{handle}}}{1 + \\frac{k_{\\mathrm{tip}}}{k_1} + \\frac{k_{\\mathrm{tip}}}{k_2}} $$\n\nNow, substitute the given values:\n- $\\theta_{\\mathrm{handle}} = 90^\\circ$\n- $k_1 = 0.8\\ \\mathrm{N\\cdot m/rad}$\n- $k_2 = 0.5\\ \\mathrm{N\\cdot m/rad}$\n- $k_{\\mathrm{tip}} = 1.6\\ \\mathrm{N\\cdot m/rad}$\n\n$$ \\theta_{\\mathrm{tip}} = \\frac{90^\\circ}{1 + \\frac{1.6}{0.8} + \\frac{1.6}{0.5}} = \\frac{90^\\circ}{1 + 2 + 3.2} = \\frac{90^\\circ}{6.2} $$\n\n$$ \\theta_{\\mathrm{tip}} \\approx 14.516129...^\\circ $$\n\nRounding the answer to four significant figures gives $14.52^\\circ$.",
            "answer": "$$\\boxed{14.52}$$"
        },
        {
            "introduction": "A successful diagnostic colonoscopy is defined by what it finds, and the quality of the bowel preparation is paramount to adenoma detection. While clinicians qualitatively understand that a poor prep hinders examination, this practice provides a rigorous quantitative framework to model this relationship. Using the properties of the Poisson process, you will calculate the precise probability of missing all adenomas as a function of segmental bowel cleanliness, transforming a clinical axiom into a powerful tool for quality assessment. ",
            "id": "4611157",
            "problem": "A colonoscopy quality model is to be constructed to quantify how inadequate bowel preparation affects adenoma detection by segment, given Boston Bowel Preparation Scale (BBPS) scores for the right, transverse, and left colon. The objective is to compute, for each provided test case of BBPS segment scores, the colonoscopy-level probability that all adenomas present are missed. This probability must be expressed as a decimal number. The final output of the program must be a single line containing the list of results for all test cases in the specified order, with each value rounded to $6$ decimal places.\n\nBase assumptions and definitions:\n- The Boston Bowel Preparation Scale (BBPS) assigns an integer score $b \\in \\{0,1,2,3\\}$ to each segment: right ($R$), transverse ($T$), and left ($L$), with higher $b$ indicating cleaner mucosa and better visibility.\n- The per-segment adenoma count is modeled as a Poisson random variable, independently across segments, with means $\\lambda_R$, $\\lambda_T$, and $\\lambda_L$ (adenomas per colon), respectively. This yields total lesions following a Poisson distribution with mean $\\lambda_{\\text{tot}} = \\lambda_R + \\lambda_T + \\lambda_L$.\n- Under ideal preparation ($b=3$), the baseline per-lesion detection probabilities in the three segments are $d_{0,R}$, $d_{0,T}$, and $d_{0,L}$, each in the interval $(0,1)$.\n- The effect of bowel cleanliness on visibility is modeled by an attenuation factor $a(b)$ that scales detection linearly with cleanliness: $a(b) = b/3$. Thus, for a segment $s \\in \\{R,T,L\\}$ with BBPS score $b_s$, the effective per-lesion detection probability is $p_s = d_{0,s} \\cdot a(b_s)$.\n- The Adenoma Detection Rate (ADR) is the probability that at least one adenoma is detected in a colonoscopy. Here, you must instead compute the complementary colonoscopy-level miss probability defined as the probability that zero adenomas are detected, integrating over the Poisson lesion counts and the per-lesion detection probabilities implied by the BBPS scores.\n\nRequired derivation target:\n- Using only the above assumptions and the fundamental properties of the Poisson process (independent increments, superposition, and thinning), derive the expression for the probability that a colonoscopy results in zero detected adenomas as a function of $\\lambda_R$, $\\lambda_T$, $\\lambda_L$, $d_{0,R}$, $d_{0,T}$, $d_{0,L}$, and the BBPS scores $(b_R,b_T,b_L)$.\n\nImplementation parameters common to all test cases:\n- Use $\\lambda_R = 0.6$, $\\lambda_T = 0.4$, $\\lambda_L = 0.8$ (adenomas per colon).\n- Use $d_{0,R} = 0.75$, $d_{0,T} = 0.70$, $d_{0,L} = 0.80$.\n- Use $a(b) = b/3$.\n\nTest suite:\n- Test case $1$: $(b_R,b_T,b_L) = (3,3,3)$.\n- Test case $2$: $(b_R,b_T,b_L) = (2,2,2)$.\n- Test case $3$: $(b_R,b_T,b_L) = (1,1,1)$.\n- Test case $4$: $(b_R,b_T,b_L) = (0,3,3)$.\n- Test case $5$: $(b_R,b_T,b_L) = (0,0,0)$.\n\nOutput specification:\n- For each test case, compute the colonoscopy-level probability that zero adenomas are detected (a scalar in $[0,1]$), using only the assumptions and principles stated above.\n- Round each result to $6$ decimal places.\n- Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets (for example, $[0.123456,0.234567,0.345678,0.456789,0.567890]$), ordered as test cases $1$ through $5$.",
            "solution": "Let $s$ be an index for the colon segments, where $s \\in \\{R, T, L\\}$ for the right, transverse, and left colon, respectively.\n\n1.  **Modeling Adenoma Distribution**: The number of adenomas in each segment $s$, $N_s$, is a Poisson random variable, $N_s \\sim \\text{Poisson}(\\lambda_s)$. The counts $N_R$, $N_T$, and $N_L$ are independent.\n\n2.  **Modeling Adenoma Detection**: The effective per-lesion detection probability $p_s$ in a segment $s$ with BBPS score $b_s$ is given by $p_s = d_{0,s} \\cdot a(b_s) = d_{0,s} \\cdot \\frac{b_s}{3}$.\n\n3.  **Distribution of Detected Adenomas (Thinning Property)**: According to the thinning property of a Poisson process, if events from a process with rate $\\lambda$ are independently selected with probability $p$, the resulting process of selected events is also a Poisson process with rate $\\lambda \\cdot p$. Therefore, the number of *detected* adenomas in segment $s$, $D_s$, also follows a Poisson distribution with a new rate $\\lambda'_s$:\n    $$D_s \\sim \\text{Poisson}(\\lambda'_s) \\quad \\text{where} \\quad \\lambda'_s = \\lambda_s \\cdot p_s = \\lambda_s \\cdot d_{0,s} \\cdot \\frac{b_s}{3}$$\n\n4.  **Distribution of Total Detected Adenomas (Superposition Property)**: The total number of detected adenomas, $D_{\\text{tot}} = D_R + D_T + D_L$. Due to the superposition property, the sum of independent Poisson random variables is itself a Poisson random variable with a mean equal to the sum of the individual means.\n    $$D_{\\text{tot}} \\sim \\text{Poisson}(\\lambda'_{\\text{tot}}) \\quad \\text{where} \\quad \\lambda'_{\\text{tot}} = \\lambda'_R + \\lambda'_T + \\lambda'_L$$\n\n5.  **Calculating the Probability of Zero Detections**: The probability of detecting zero adenomas is given by the Poisson probability mass function for $k=0$:\n    $$P(D_{\\text{tot}} = 0) = \\frac{e^{-\\lambda'_{\\text{tot}}} (\\lambda'_{\\text{tot}})^0}{0!} = e^{-\\lambda'_{\\text{tot}}}$$\n\n6.  **Final Expression**: The probability of missing all adenomas, $P_{\\text{miss}}$, is:\n    $$P_{\\text{miss}}(b_R, b_T, b_L) = \\exp\\left(-\\left( \\lambda_R d_{0,R} \\frac{b_R}{3} + \\lambda_T d_{0,T} \\frac{b_T}{3} + \\lambda_L d_{0,L} \\frac{b_L}{3} \\right)\\right)$$\n    $$P_{\\text{miss}}(b_R, b_T, b_L) = \\exp\\left( -\\frac{1}{3} \\sum_{s \\in \\{R,T,L\\}} \\lambda_s d_{0,s} b_s \\right)$$\n    This derived expression is used in the following code to compute the results for each test case.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Calculates the colonoscopy-level adenoma miss probability based on a\n    Poisson process model and BBPS scores for each colon segment.\n    \"\"\"\n\n    # Define the implementation parameters common to all test cases.\n    # Per-segment adenoma count means (adenomas per colon).\n    lambda_r = 0.6\n    lambda_t = 0.4\n    lambda_l = 0.8\n\n    # Baseline per-lesion detection probabilities for ideal preparation (b=3).\n    d0_r = 0.75\n    d0_t = 0.70\n    d0_l = 0.80\n\n    # Test suite of BBPS scores (b_R, b_T, b_L).\n    test_cases = [\n        (3, 3, 3),  # Test case 1\n        (2, 2, 2),  # Test case 2\n        (1, 1, 1),  # Test case 3\n        (0, 3, 3),  # Test case 4\n        (0, 0, 0),  # Test case 5\n    ]\n\n    results = []\n    for case in test_cases:\n        b_r, b_t, b_l = case\n\n        # Calculate the rate of detected adenomas for each segment (lambda_prime_s).\n        # This is based on the thinning property of the Poisson process, where the new\n        # rate is lambda_s * p_s, and p_s = d0_s * (b_s / 3).\n        lambda_prime_r = lambda_r * d0_r * (b_r / 3.0)\n        lambda_prime_t = lambda_t * d0_t * (b_t / 3.0)\n        lambda_prime_l = lambda_l * d0_l * (b_l / 3.0)\n\n        # The total rate of detected adenomas is the sum of the rates from each\n        # segment, due to the superposition property of independent Poisson processes.\n        lambda_prime_tot = lambda_prime_r + lambda_prime_t + lambda_prime_l\n\n        # The probability of detecting zero adenomas from a Poisson process with rate\n        # lambda_prime_tot is given by the Poisson PMF at k=0, which is exp(-lambda_prime_tot).\n        miss_probability = np.exp(-lambda_prime_tot)\n        \n        results.append(miss_probability)\n\n    # Format the results as specified: a list of decimal numbers rounded to 6\n    # decimal places, enclosed in square brackets and comma-separated.\n    # The format specifier \"{:.6f}\" ensures rounding and fixed decimal places.\n    results_str = [f\"{r:.6f}\" for r in results]\n    print(f\"[{','.join(results_str)}]\")\n\nsolve()\n```"
        },
        {
            "introduction": "The ultimate test of a surgeon-endoscopist's skill lies in therapeutic decision-making for high-risk lesions, where a deep synthesis of multiple scientific principles is required to ensure patient safety. This problem presents a classic and challenging scenario: resecting a lesion that drapes over a colonic diverticulum, a site of inherent structural weakness. You are challenged to integrate principles of anatomy, biomechanics (hoop stress), and electrosurgery to identify the substantial risks and select the optimal, evidence-supported resection strategy. ",
            "id": "4611205",
            "problem": "A $68$-year-old man undergoing screening colonoscopy is found to have a sessile, laterally spreading lesion measuring $18\\,\\mathrm{mm}$ on the antimesenteric border of the sigmoid colon. The lesion drapes partially over the rim of a $5\\,\\mathrm{mm}$ diverticular orifice in a segment with moderate diverticulosis. He takes aspirin $81\\,\\mathrm{mg}$ daily. The endoscopist is a surgeon trained in advanced endoscopic resection.\n\nFrom first principles, consider the layered microanatomy of the colonic wall (mucosa, submucosa, muscularis propria, serosa), the pathoanatomy of a colonic diverticulum (a pseudodiverticulum lacking muscularis propria at the neck), and the physics of mural stress and thermal injury. Specifically, hoop stress in a thin-walled cylinder can be approximated by $\\sigma = \\dfrac{P\\,r}{h}$, where $\\sigma$ is circumferential stress, $P$ is intraluminal pressure, $r$ is luminal radius, and $h$ is wall thickness. Electrosurgical tissue injury depth scales with energy density, which increases with power and time of application in tissue of given conductivity.\n\nWhich option best identifies the principal risk factors for perforation and bleeding when resecting this lesion and pairs them with the most evidence-supported endoscopic strategy to minimize these risks while achieving complete resection?\n\nA. Principal risk factors: absence of muscularis propria at the diverticular neck (decreased $h$), submucosal fibrosis at the rim, lesion size $>10\\,\\mathrm{mm}$, electrocautery use, and segmental diverticulosis in the sigmoid colon; bleeding risk from a penetrating vasa recta at the diverticular dome. Strategy: perform underwater endoscopic mucosal resection (UEMR) without submucosal injection to reduce $r$ and $P$ and float the mucosa from the muscularis, using a hot snare for en bloc or piecemeal resection while avoiding transection across the diverticular orifice; immediately close the resection defect and diverticular rim with through-the-scope clips (TTSC), consider an over-the-scope clip (OTSC) if the orifice is involved; if the lesion clearly extends into the diverticular lumen precluding safe EMR, use a full-thickness resection device (FTRD). Use carbon dioxide (CO2) and minimal insufflation; preferentially use cold snare on components clearly away from the diverticular rim.\n\nB. Principal risk factors: muscularis propria is thickened at diverticular necks, reducing perforation risk; the main danger is luminal distension alone. Strategy: perform standard hot-snare EMR with large-volume saline-epinephrine injection into and beneath the diverticular orifice to create a cushion, proceed with wide cautery transection across the rim, and do not close the defect if there is no immediate bleeding.\n\nC. Principal risk factors: right colon location and large luminal radius $r$ are dominant; diverticular architecture does not materially alter wall stress. Strategy: perform endoscopic submucosal dissection (ESD) through the diverticular neck to obtain en bloc resection, avoid clips to preserve histologic assessment, and use room air to maintain a stable field.\n\nD. Principal risk factors: post-polypectomy bleeding from the submucosal plexus is the sole concern; perforation risk is low because cautery desiccates tissue before deep injury. Strategy: deploy an endoscopic band over the lesion and diverticular orifice to ligate the tissue and allow sloughing, avoiding injection and clips; continue with high-flow gas insufflation to maximize visualization.\n\nSelect the single best option.",
            "solution": "This problem requires a careful synthesis of anatomy, biomechanics, and electrosurgical principles to select the safest and most effective strategy.\n\n*   **Analysis of Risks**: The lesion's location over a diverticulum is the critical feature. A colonic diverticulum is a pseudodiverticulum, meaning its wall lacks the strong muscularis propria layer. According to the hoop stress formula ($\\sigma = Pr/h$), this drastic reduction in wall thickness ($h$) leads to a massive increase in mural stress ($\\sigma$) at the diverticulum, creating a high-risk zone for perforation from either mechanical force or gas insufflation (increased $P$). Furthermore, applying thermal energy (electrocautery) to this thin wall can easily cause a full-thickness burn and delayed perforation. Bleeding risk is also elevated due to the known association of penetrating arteries (vasa recta) with diverticula and the patient's use of aspirin.\n\n*   **Evaluation of Option A**: This option correctly identifies all the key risk factors: the absent muscularis propria (decreased $h$), submucosal fibrosis, lesion size, cautery risk, and the specific bleeding risk from a vasa recta. The proposed strategy is sophisticated and directly mitigates these risks. UEMR avoids gas distension (minimizing $P$ and $r$), the cautious use of hot/cold snare balances hemostasis with thermal injury risk, and avoiding the orifice is paramount. Prophylactic closure with clips (TTSC/OTSC) is a crucial safety step to prevent delayed perforation and bleeding. The inclusion of contingency plans (FTRD) demonstrates comprehensive clinical judgment. This strategy is fully aligned with a first-principles approach to safety.\n\n*   **Evaluation of Option B**: This option is incorrect because its foundational premise—that the muscularis propria is *thickened*—is anatomically false. Consequently, the recommended strategy of injecting into and cutting across the diverticulum is extremely dangerous and would significantly increase perforation risk.\n\n*   **Evaluation of Option C**: This option is incorrect for multiple reasons. It misidentifies the lesion location and falsely claims the diverticular anatomy is irrelevant to wall stress, which contradicts the provided physics principles. Proposing ESD *through* the diverticulum is an exceptionally high-risk maneuver, and the recommendation to use room air and avoid clips is contrary to best safety practices.\n\n*   **Evaluation of Option D**: This option incorrectly dismisses the high perforation risk. The proposed strategy of banding is inappropriate for a large, flat lesion and would likely lead to incomplete resection. Recommending high-flow gas insufflation directly contradicts the need to minimize mural stress and is unsafe.\n\n**Conclusion**: Option A provides the most accurate risk assessment and the most comprehensive, evidence-supported strategy that directly applies the given principles to ensure patient safety. It represents the highest standard of care for this challenging clinical scenario.",
            "answer": "$$\\boxed{A}$$"
        }
    ]
}