{
    "hands_on_practices": [
        {
            "introduction": "在临床上，眼表鳞状肿瘤（OSSN）的诊断常常需要在不同检查方法之间做出权衡。刷取细胞学检查创伤小，但准确性可能稍逊于有创的切取活检。本练习旨在通过应用灵敏度、特异性和贝叶斯定理等基本概率概念，量化和比较这两种诊断方法在特定患者群体中的表现，包括预期会产生的假阴性病例数。通过这项实践，您将能够更深入地理解如何基于循证医学原理来评估和选择最合适的诊断策略。",
            "id": "4701402",
            "problem": "一位临床医生正在评估两种用于诊断疑似眼表鳞状细胞瘤（OSSN）的方式：刷检细胞学和切取活检。刷检细胞学的灵敏度为 $0.82$，特异度为 $0.88$。切取活检的灵敏度为 $0.98$，特异度为 $0.99$。考虑一个由 $100$ 名疑似OSSN患者组成的队列，其中OSSN的真实患病率为 $0.50$。假设这两种检测是单独应用的（而非序贯应用），并且灵敏度定义为 $P(\\text{test positive} \\mid \\text{disease})$，特异度定义为 $P(\\text{test negative} \\mid \\text{no disease})$。\n\n使用核心的概率定义和贝叶斯定理，首先从第一性原理推导出该队列中每种诊断方式的真阳性、假阳性、真阴性和假阴性的期望计数。然后，计算每种诊断方式的阳性预测值 $P(\\text{disease} \\mid \\text{test positive})$ 和阴性预测值 $P(\\text{no disease} \\mid \\text{test negative})$。最后，确定该队列中刷检细胞学和切取活检两种方式在假阴性期望数量上的差异。\n\n以无单位的单个整数形式报告最终差异。任何地方都不要使用百分号；将所有概率和比例以小数形式表示。除了根据给定值推导出的精确整数计数外，不需要进行舍入。",
            "solution": "该问题被验证为科学上合理、提法得当且客观。它包含了所有必要信息，没有矛盾或歧义。该问题可以使用概率论和医学统计学的既定原则来解决。\n\n设 $D$ 表示患者患有眼表鳞状细胞瘤（OSSN）的事件，$D^c$ 表示患者未患有OSSN的事件。设 $T^+$ 表示检测结果为阳性的事件，$T^-$ 表示检测结果为阴性的事件。\n\n给定条件如下：\n队列中的患者总数，$N = 100$。\nOSSN的患病率，$P(D) = 0.50$。\n未患有OSSN的概率为 $P(D^c) = 1 - P(D) = 1 - 0.50 = 0.50$。\n\n根据队列规模和患病率，患病患者的期望数量为 $N_D = N \\times P(D) = 100 \\times 0.50 = 50$。\n未患病患者的期望数量为 $N_{D^c} = N \\times P(D^c) = 100 \\times 0.50 = 50$。\n\n问题将灵敏度定义为 $P(T^+ \\mid D)$，特异度定义为 $P(T^- \\mid D^c)$。我们需要推导真阳性 ($TP$)、假阳性 ($FP$)、真阴性 ($TN$) 和假阴性 ($FN$) 的期望计数，然后计算每种诊断方式的阳性预测值 ($PPV$) 和阴性预测值 ($NPV$)。\n\n这些计数以条件概率表示的定义如下：\n- 期望 $TP = N_D \\times P(T^+ \\mid D)$\n- 期望 $FN = N_D \\times P(T^- \\mid D) = N_D \\times (1 - P(T^+ \\mid D))$\n- 期望 $TN = N_{D^c} \\times P(T^- \\mid D^c)$\n- 期望 $FP = N_{D^c} \\times P(T^+ \\mid D^c) = N_{D^c} \\times (1 - P(T^- \\mid D^c))$\n\n预测值由贝叶斯定理导出。\n$PPV = P(D \\mid T^+) = \\frac{P(T^+ \\mid D) P(D)}{P(T^+)}$\n$NPV = P(D^c \\mid T^-) = \\frac{P(T^- \\mid D^c) P(D^c)}{P(T^-)}$\n\n分母中的总概率使用全概率定律计算：\n$P(T^+) = P(T^+ \\mid D) P(D) + P(T^+ \\mid D^c) P(D^c)$\n$P(T^-) = P(T^- \\mid D) P(D) + P(T^- \\mid D^c) P(D^c)$\n\n或者，预测值可以直接从期望计数计算得出：\n$PPV = \\frac{TP}{TP + FP}$\n$NPV = \\frac{TN}{TN + FN}$\n\n我们现在将分析每种诊断方式。\n\n**方式1：刷检细胞学 (BC)**\n给定参数如下：\n- 灵敏度：$S_{BC} = P(T^+ \\mid D) = 0.82$\n- 特异度：$Sp_{BC} = P(T^- \\mid D^c) = 0.88$\n\n由此，我们推导出假阴性率和假阳性率：\n- 假阴性率：$FNR_{BC} = P(T^- \\mid D) = 1 - S_{BC} = 1 - 0.82 = 0.18$\n- 假阳性率：$FPR_{BC} = P(T^+ \\mid D^c) = 1 - Sp_{BC} = 1 - 0.88 = 0.12$\n\n现在，我们计算这个100名患者队列的期望计数：\n- 期望真阳性：$TP_{BC} = N_D \\times S_{BC} = 50 \\times 0.82 = 41$\n- 期望假阴性：$FN_{BC} = N_D \\times FNR_{BC} = 50 \\times 0.18 = 9$\n- 期望真阴性：$TN_{BC} = N_{D^c} \\times Sp_{BC} = 50 \\times 0.88 = 44$\n- 期望假阳性：$FP_{BC} = N_{D^c} \\times FPR_{BC} = 50 \\times 0.12 = 6$\n\n接下来，我们计算刷检细胞学的预测值：\n$PPV_{BC} = \\frac{TP_{BC}}{TP_{BC} + FP_{BC}} = \\frac{41}{41 + 6} = \\frac{41}{47} \\approx 0.8723$\n$NPV_{BC} = \\frac{TN_{BC}}{TN_{BC} + FN_{BC}} = \\frac{44}{44 + 9} = \\frac{44}{53} \\approx 0.8302$\n\n**方式2：切取活检 (IB)**\n给定参数如下：\n- 灵敏度：$S_{IB} = P(T^+ \\mid D) = 0.98$\n- 特异度：$Sp_{IB} = P(T^- \\mid D^c) = 0.99$\n\n由此，我们推导出假阴性率和假阳性率：\n- 假阴性率：$FNR_{IB} = P(T^- \\mid D) = 1 - S_{IB} = 1 - 0.98 = 0.02$\n- 假阳性率：$FPR_{IB} = P(T^+ \\mid D^c) = 1 - Sp_{IB} = 1 - 0.99 = 0.01$\n\n现在，我们计算这个100名患者队列的期望计数。注意，期望计数不必是整数。\n- 期望真阳性：$TP_{IB} = N_D \\times S_{IB} = 50 \\times 0.98 = 49$\n- 期望假阴性：$FN_{IB} = N_D \\times FNR_{IB} = 50 \\times 0.02 = 1$\n- 期望真阴性：$TN_{IB} = N_{D^c} \\times Sp_{IB} = 50 \\times 0.99 = 49.5$\n- 期望假阳性：$FP_{IB} = N_{D^c} \\times FPR_{IB} = 50 \\times 0.01 = 0.5$\n\n接下来，我们计算切取活检的预测值：\n$PPV_{IB} = \\frac{TP_{IB}}{TP_{IB} + FP_{IB}} = \\frac{49}{49 + 0.5} = \\frac{49}{49.5} \\approx 0.9899$\n$NPV_{IB} = \\frac{TN_{IB}}{TN_{IB} + FN_{IB}} = \\frac{49.5}{49.5 + 1} = \\frac{49.5}{50.5} \\approx 0.9802$\n\n**最终计算**\n最后一步是确定两种诊断方式在假阴性期望数量上的差异。\n- 刷检细胞学的期望假阴性数量：$FN_{BC} = 9$\n- 切取活检的期望假阴性数量：$FN_{IB} = 1$\n\n差异为：\n$\\Delta FN = FN_{BC} - FN_{IB} = 9 - 1 = 8$\n\n假阴性期望数量的差异为 $8$。",
            "answer": "$$\n\\boxed{8}\n$$"
        },
        {
            "introduction": "确诊之后，手术切除是OSSN的常用治疗手段，而确保足够的手术切缘对于预防复发至关重要。本练习将引导您超越定性的理解，应用几何学原理来精确计算围绕一个椭圆形病灶的手术切除面积，以达到预设的切缘宽度。这项实践突显了在外科手术中进行定量规划的价值，它将抽象的“安全切缘”概念转化为一个可计算的具体目标。",
            "id": "4701412",
            "problem": "一位外科医生正计划切除一个结膜眼表肿瘤，该肿瘤的临床轮廓为椭圆形，其最长和最短直径分别为 $8~\\mathrm{mm}$ 和 $6~\\mathrm{mm}$。手术目标是实现 $4~\\mathrm{mm}$ 的均匀清除切缘，该切缘从病变边界上的每一点垂直测量，这与手术切缘作为从病变边缘到切除边缘的最小法向距离的标准定义一致。假设病变边界是一个半长轴为 $a$、半短轴为 $b$ 的椭圆，并将切除边界建模为与病变集合的欧几里得距离小于或等于 $d$ 的所有点的集合，其中 $d$ 等于计划的切缘宽度。\n\n从平面几何的第一性原理出发，包括将均匀切缘定义为平行（偏移）集，以及关于光滑凸集的面积和长度的经过充分检验的事实，推导出作为椭圆平行集的切除边界的几何形状，并对缺乏初等闭合形式的量使用适当且被广泛接受的近似方法。然后，计算被切除的结膜组织的总面积，该面积定义为切除边界与原始病变边界之间的区域面积。\n\n取 $a = 4~\\mathrm{mm}$，$b = 3~\\mathrm{mm}$，$d = 4~\\mathrm{mm}$。用 $\\mathrm{mm}^2$ 表示您计算出的被切除面积的最终数值答案，并将答案四舍五入到四位有效数字。",
            "solution": "问题要求计算被切除组织的面积，这对应于椭圆形病变边界与其外部平行曲线之间的区域，该平行曲线由均匀的手术切缘定义。\n\n设病变由平面 $\\mathbb{R}^2$ 中的一个凸集 $K$ 表示。病变的边界 $\\partial K$ 是一个半长轴 $a = 4~\\mathrm{mm}$、半短轴 $b = 3~\\mathrm{mm}$ 的椭圆。\n\n切除区域被描述为与病变集合 $K$ 的欧几里得距离小于或等于 $d$ 的所有点的集合。这是 $K$ 在距离 $d$ 处的平行体（或 Steiner 集）$K_d$ 的定义。对于平面中的一个凸集 $K$，其平行体 $K_d$ 的面积由 Steiner-Minkowski 公式给出：\n$$ A(K_d) = A(K) + L(\\partial K)d + \\pi d^2 $$\n这里，$A(K)$ 是原始病变的面积，$L(\\partial K)$ 是 $K$ 边界的周长（弧长），$d$ 是偏移距离，即手术切缘 $d=4~\\mathrm{mm}$。\n\n被切除组织的面积 $A_{\\text{removed}}$ 是平行体的面积减去原始病变的面积：\n$$ A_{\\text{removed}} = A(K_d) - A(K) = (A(K) + L(\\partial K)d + \\pi d^2) - A(K) $$\n$$ A_{\\text{removed}} = L(\\partial K)d + \\pi d^2 $$\n\n令 $P = L(\\partial K)$ 表示椭圆的周长。则被切除面积的公式为：\n$$ A_{\\text{removed}} = P d + \\pi d^2 $$\n\n椭圆的周长没有以初等函数表示的闭合形式表达式。根据题目要求，我们使用一个适当且被广泛接受的近似方法，如 Ramanujan 的椭圆周长第二近似公式：\n$$ P \\approx \\pi [3(a+b) - \\sqrt{(3a+b)(a+3b)}] $$\n已知 $a = 4~\\mathrm{mm}$ 和 $b = 3~\\mathrm{mm}$。将这些值代入：\n$$ P \\approx \\pi [3(7) - \\sqrt{(15)(13)}] = \\pi [21 - \\sqrt{195}] $$\n\n现在我们可以使用 $P$ 的近似值和给定的切缘 $d = 4~\\mathrm{mm}$ 来计算被切除的面积：\n$$ A_{\\text{removed}} \\approx \\left(\\pi [21 - \\sqrt{195}]\\right)d + \\pi d^2 $$\n$$ A_{\\text{removed}} \\approx \\pi [21 - \\sqrt{195}] \\cdot 4 + \\pi (4^2) $$\n$$ A_{\\text{removed}} \\approx 4\\pi (21 - \\sqrt{195}) + 16\\pi $$\n$$ A_{\\text{removed}} \\approx \\pi [84 - 4\\sqrt{195} + 16] $$\n$$ A_{\\text{removed}} \\approx \\pi [100 - 4\\sqrt{195}] $$\n\n为了得到数值答案，我们计算这个表达式的值：\n$$ \\sqrt{195} \\approx 13.96424036 $$\n$$ A_{\\text{removed}} \\approx \\pi (100 - 55.85696144) $$\n$$ A_{\\text{removed}} \\approx \\pi (44.14303856) \\approx 138.680003~\\mathrm{mm}^2 $$\n\n四舍五入到四位有效数字，我们得到 $138.7$。",
            "answer": "$$\\boxed{138.7}$$"
        },
        {
            "introduction": "手术切除后，病理报告会提供重要的预后信息，例如手术切缘是否为阳性或是否存在神经侵犯。本练习将介绍Cox比例风险模型，这是一个强大的统计工具，用于理解这些风险因素如何影响疾病随时间推移的复发风险。通过本练习，您将学会如何解读风险比（Hazard Ratio）并将其转化为具体的复发概率，这对于制定后续随访计划和与患者沟通预后至关重要。",
            "id": "4701477",
            "problem": "一组眼表鳞状上皮内瘤变 (OSSN) 患者接受了切除手术。令非负随机变量 $T$ 表示至临床确诊复发的时间。假设复发风险遵循 Cox 比例风险模型，其基线风险函数 $h_0(t)$ 对应于切缘阴性且无神经周浸润的参照组。考虑两个二元协变量：手术切缘阳性，记为 $M \\in \\{0,1\\}$；以及经组织病理学确认的神经周浸润，记为 $P \\in \\{0,1\\}$。相对于参照组，根据经验估计的风险比如下：仅切缘阳性的风险比为 $2.5$；仅神经周浸润的风险比为 $3.0$。假设风险成比例、协变量效应为乘法关系，并且 $M$ 和 $P$ 之间没有交互作用。同时，假设删失为非信息性的，并且生存函数通过风险、累积风险和生存之间的标准关系与风险函数相关联。令基线累积风险为 $H_0(t) = \\int_{0}^{t} h_0(u) \\, du$。\n  \n仅使用这些假设以及风险和生存的核心定义，为同时存在切缘阳性和神经周浸润（即 $M = 1, P = 1$）的患者，推导其 $2$ 年累积复发率（即到 $t = 2$ 年时复发的概率）的封闭形式表达式。你的最终答案应仅用 $H_0(2)$ 和基本常数表示。无需进行数值计算。请提供一个单一的简化解析表达式。答案是区间 $[0,1]$ 内的一个无单位概率；无需四舍五入。",
            "solution": "首先验证问题的科学性、适定性和客观性。该问题描述了 Cox 比例风险模型的标准应用，该模型是生物统计学中生存分析的基石。它提供了所有必要的组成部分：一个明确定义的结果（至复发时间 $T$）、一个基线风险函数 ($h_0(t)$)、两个二元协变量（$M$ 代表手术切缘，$P$ 代表神经周浸润）、这些协变量的经验估计风险比，以及一组标准假设（风险成比例、乘法效应、无交互作用）。目标是为特定的患者亚组推导其 $2$ 年累积复发率。所有术语均为该领域的标准术语，所提供的数据也是合理的。因此，该问题被认定为有效。\n\n解答过程首先基于所提供的信息，形式化地构建生存模型。\n\n令 $h(t | M, P)$ 为在时间 $t$、协变量值为 $M$ 和 $P$ 的患者的风险函数。Cox 比例风险模型的关系式为：\n$$h(t | M, P) = h_0(t) \\exp(\\beta_M M + \\beta_P P)$$\n其中 $h_0(t)$ 是基线风险函数，$\\beta_M$ 和 $\\beta_P$ 分别是协变量 $M$ 和 $P$ 的回归系数。$M$ 和 $P$ 之间无交互作用的假设，体现在指数部分中其效应的线性组合上。\n\n协变量的风险比 (HR) 定义为：在其他所有因素相同的情况下，有风险因素的受试者的风险与无风险因素的受试者的风险之比。问题陈述，仅有切缘阳性（$M=1, P=0$）相对于参照组（$M=0, P=0$）的风险比为 $2.5$。我们可以将此写为：\n$$ \\text{HR}_M = \\frac{h(t | M=1, P=0)}{h(t | M=0, P=0)} = \\frac{h_0(t) \\exp(\\beta_M \\cdot 1 + \\beta_P \\cdot 0)}{h_0(t) \\exp(\\beta_M \\cdot 0 + \\beta_P \\cdot 0)} = \\exp(\\beta_M) $$\n因此，我们有 $\\exp(\\beta_M) = 2.5$。\n\n同样，仅有神经周浸润（$M=0, P=1$）相对于参照组（$M=0, P=0$）的风险比为 $3.0$：\n$$ \\text{HR}_P = \\frac{h(t | M=0, P=1)}{h(t | M=0, P=0)} = \\frac{h_0(t) \\exp(\\beta_M \\cdot 0 + \\beta_P \\cdot 1)}{h_0(t) \\exp(\\beta_M \\cdot 0 + \\beta_P \\cdot 0)} = \\exp(\\beta_P) $$\n因此，我们有 $\\exp(\\beta_P) = 3.0$。\n\n我们关心的是同时存在切缘阳性（$M=1$）和神经周浸润（$P=1$）的患者。该患者的风险函数为：\n$$ h(t | M=1, P=1) = h_0(t) \\exp(\\beta_M \\cdot 1 + \\beta_P \\cdot 1) $$\n利用指数函数的性质和乘法效应的假设，上式变为：\n$$ h(t | M=1, P=1) = h_0(t) \\exp(\\beta_M) \\exp(\\beta_P) $$\n代入给定的风险比：\n$$ h(t | M=1, P=1) = h_0(t) \\times 2.5 \\times 3.0 = 7.5 \\cdot h_0(t) $$\n\n下一步是求累积风险函数 $H(t)$，它是风险函数从 $0$ 到 $t$ 的积分。对于 $M=1$ 且 $P=1$ 的患者：\n$$ H(t | M=1, P=1) = \\int_{0}^{t} h(u | M=1, P=1) \\, du = \\int_{0}^{t} 7.5 \\cdot h_0(u) \\, du $$\n$$ H(t | M=1, P=1) = 7.5 \\int_{0}^{t} h_0(u) \\, du $$\n问题将基线累积风险定义为 $H_0(t) = \\int_{0}^{t} h_0(u) \\, du$。因此：\n$$ H(t | M=1, P=1) = 7.5 \\cdot H_0(t) $$\n\n生存函数 $S(t)$，即到时间 $t$ 尚未复发的概率，与累积风险函数的关系为：\n$$ S(t) = \\exp(-H(t)) $$\n对于我们所关心的患者：\n$$ S(t | M=1, P=1) = \\exp(-H(t | M=1, P=1)) = \\exp(-7.5 \\cdot H_0(t)) $$\n\n累积复发率是到时间 $t$ 已经发生复发的概率。它是生存函数的补集：\n$$ \\text{Cumulative Incidence} = F(t) = 1 - S(t) $$\n我们需要求出 $2$ 年累积复发率，即在 $t=2$ 年时的值。\n$$ F(2 | M=1, P=1) = 1 - S(2 | M=1, P=1) = 1 - \\exp(-7.5 \\cdot H_0(2)) $$\n为了用更形式化的数学符号表示，我们可以将小数 $7.5$ 写成分数 $\\frac{15}{2}$。最终的表达式为：\n$$ F(2 | M=1, P=1) = 1 - \\exp\\left(-\\frac{15}{2} H_0(2)\\right) $$\n该表达式按要求仅用 2 年时的基线累积风险 $H_0(2)$ 和基本常数表示了所求的概率。",
            "answer": "$$ \\boxed{1 - \\exp\\left(-\\frac{15}{2} H_0(2)\\right)} $$"
        }
    ]
}