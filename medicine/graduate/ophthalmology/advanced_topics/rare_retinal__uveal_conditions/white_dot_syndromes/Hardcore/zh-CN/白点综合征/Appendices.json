{
    "hands_on_practices": [
        {
            "introduction": "临床诊断本质上是一个根据新证据不断更新信念的概率推理过程。贝叶斯定理为这一过程提供了核心的数学框架，使我们能够量化诊断测试结果对疾病可能性的影响。本练习 () 将利用鸟枪弹样脉络膜视网膜病变（BCR）与HLA-A29抗原之间的强关联性，指导您计算阳性测试结果后的疾病概率，这是循证医学中的一项基本技能。",
            "id": "4735565",
            "problem": "一位临床医生根据临床表现和影像学检查，怀疑一名患者患有鸟枪弹样脉络膜视网膜病变（BCR），其疾病预检概率为 $0.1$。该患者接受了人类白细胞抗原（HLA）I类等位基因A29的检测，结果呈阳性。假设该检测对BCR的灵敏度和特异度分别为 $0.95$ 和 $0.97$。使用从全概率公式推导出的灵敏度、特异度、条件概率的定义以及贝叶斯定理，计算在HLA-A29检测结果为阳性的情况下，患有BCR的后验概率。\n\n在推导过程中明确说明你所做的所有假设，并从基本定义开始：灵敏度为 $P(+ \\mid D)$，特异度为 $P(- \\mid \\neg D)$，以及全概率公式。将最终答案表示为小数，并四舍五入至四位有效数字。",
            "solution": "该问题是有效的，因为它具有科学依据、提法明确且客观。它提供了使用已建立的概率论原理计算唯一解所需的所有信息。\n\n我们的任务是计算在人类白细胞抗原（HLA）I类等位基因A29检测结果为阳性的情况下，患者患有鸟枪弹样脉络膜视网膜病变（BCR）的后验概率。这是贝叶斯定理的一个典型应用。我们将按照要求，从基本定义开始推导结果。\n\n我们定义以下事件：\n- $D$：患者患有BCR的事件。\n- $\\neg D$：患者未患有BCR的事件。\n- $+$：HLA-A29检测结果为阳性的事件。\n- $-$：HLA-A29检测结果为阴性的事件。\n\n从问题陈述中，我们提取出以下给定的概率：\n- 患有BCR的预检概率，或称先验概率，为 $P(D) = 0.1$。\n- 检测的灵敏度是在患有该疾病的情况下检测结果为阳性的概率：$P(+ \\mid D) = 0.95$。\n- 检测的特异度是在未患该疾病的情况下检测结果为阴性的概率：$P(- \\mid \\neg D) = 0.97$。\n\n我们的目标是求出在检测结果为阳性的情况下患有BCR的后验概率，即条件概率 $P(D \\mid +)$。\n\n根据条件概率的定义，我们有：\n$$ P(D \\mid +) = \\frac{P(D \\cap +)}{P(+)} $$\n其中 $P(D \\cap +)$ 是患有该疾病且检测结果为阳性的联合概率。\n\n分子 $P(D \\cap +)$ 可以使用 $P(+ \\mid D)$ 的条件概率定义来表示：\n$$ P(+ \\mid D) = \\frac{P(D \\cap +)}{P(D)} $$\n整理可得：\n$$ P(D \\cap +) = P(+ \\mid D) P(D) $$\n\n分母 $P(+)$ 是检测结果为阳性的总概率。我们可以使用全概率公式来展开它。全概率公式指出，一个事件的概率可以通过将其在一组互斥且完备的事件上的条件概率加和得到。在这里，事件 $\\{D, \\neg D\\}$ 构成了样本空间的这样一个划分。\n$$ P(+) = P(+ \\cap D) + P(+ \\cap \\neg D) $$\n再次使用条件概率的定义，我们可以写出：\n$$ P(+) = P(+ \\mid D) P(D) + P(+ \\mid \\neg D) P(\\neg D) $$\n\n将分子和分母的表达式代入我们关于 $P(D \\mid +)$ 的方程，我们便得到贝叶斯定理：\n$$ P(D \\mid +) = \\frac{P(+ \\mid D) P(D)}{P(+ \\mid D) P(D) + P(+ \\mid \\neg D) P(\\neg D)} $$\n\n我们已知 $P(D)$ 和 $P(+ \\mid D)$ 的值。我们需要确定 $P(\\neg D)$ 和 $P(+ \\mid \\neg D)$。\n\n未患该疾病的概率 $P(\\neg D)$ 是患有该疾病概率的补集：\n$$ P(\\neg D) = 1 - P(D) = 1 - 0.1 = 0.9 $$\n\n在未患病的情况下检测结果为阳性的概率 $P(+ \\mid \\neg D)$ 是特异度的补集。这是因为对于一个没有疾病的受试者，检测结果只能是阳性或阴性。该项也被称为假阳性率。\n$$ P(+ \\mid \\neg D) = 1 - P(- \\mid \\neg D) = 1 - 0.97 = 0.03 $$\n\n现在我们有了计算 $P(D \\mid +)$ 所需的所有要素。我们做的主要假设是，所提供的概率是准确的，并且灵敏度和特异度值在相关患者群体中是恒定的。\n\n将数值代入贝叶斯定理：\n$$ P(D \\mid +) = \\frac{(0.95)(0.1)}{(0.95)(0.1) + (0.03)(0.9)} $$\n\n现在，我们进行计算：\n- 分子：$0.95 \\times 0.1 = 0.095$。\n- 分母：$(0.95 \\times 0.1) + (0.03 \\times 0.9) = 0.095 + 0.027 = 0.122$。\n\n因此，后验概率是：\n$$ P(D \\mid +) = \\frac{0.095}{0.122} $$\n\n计算最终值：\n$$ P(D \\mid +) \\approx 0.77868852459... $$\n\n问题要求答案四舍五入至四位有效数字。\n$$ P(D \\mid +) \\approx 0.7787 $$\n这一结果表明，阳性的HLA-A29检测将患者患有BCR的概率从 $10\\%$ 的预检概率提高到约 $77.9\\%$ 的后验概率。",
            "answer": "$$\\boxed{0.7787}$$"
        },
        {
            "introduction": "在复杂的临床情境中，决策往往需要综合评估多种风险因素。逻辑回归是一种强大的统计工具，能够整合这些因素来预测一个二元结果，例如并发症的发生与否。本练习 () 模拟了如何使用一个假设的逻辑回归模型，来估算点状内层脉络膜病变（PIC）患者并发脉络膜新生血管（CNV）的概率，从而将定量分析与关键的治疗决策直接联系起来。",
            "id": "4735619",
            "problem": "一名点状内层脉络膜病变 (Punctate Inner Choroidopathy, PIC) 患者出现新症状。荧光素血管造影 (Fluorescein Angiography, FA) 显示，在PIC病灶旁可见早期高荧光和晚期渗漏。光学相干断层扫描 (Optical Coherence Tomography, OCT) 显示，视网膜色素上皮 (retinal pigment epithelium, RPE) 下方存在高反射性物质。病灶位于中心凹外。测得的病灶面积为 $0.60\\ \\mathrm{mm}^{2}$。患者年龄为 $29$ 岁。临床问题是是否存在脉络膜新生血管 (Choroidal Neovascularization, CNV)。\n\n假设 CNV 的二元结局通过逻辑回归模型进行建模，其中对数优势比（log-odds）是预测变量的线性函数。模型系数（来自一个先前在白点综合征队列中验证过的模型）如下：\n- 截距 $\\beta_{0} = -3.10$。\n- FA 显示早期高荧光 ($x_{1} \\in \\{0,1\\}$): $\\beta_{1} = 0.85$。\n- FA 显示病灶旁晚期渗漏 ($x_{2} \\in \\{0,1\\}$): $\\beta_{2} = 1.20$。\n- 病灶面积（单位 $\\mathrm{mm}^{2}$）（$x_{3}$ 连续变量）: $\\beta_{3} = 0.90$ 每 $\\mathrm{mm}^{2}$。\n- 中心凹下位置 ($x_{4} \\in \\{0,1\\}$): $\\beta_{4} = 0.70$。\n- 年龄（以十年为单位） ($x_{5} = \\text{年龄}/10$): $\\beta_{5} = 0.25$ 每十年。\n- OCT 显示 RPE 下高反射性物质 ($x_{6} \\in \\{0,1\\}$): $\\beta_{6} = 1.00$。\n\n对于该患者，取 $x_{1} = 1$, $x_{2} = 1$, $x_{3} = 0.60$, $x_{4} = 0$, $x_{5} = 2.9$ 和 $x_{6} = 1$。使用该逻辑模型，计算该患者出现 CNV 的概率 $p$。将最终的 $p$ 值四舍五入至四位有效数字，并以小数形式表示。基于启动抗血管内皮生长因子 (anti-Vascular Endothelial Growth Factor, anti-VEGF) 治疗的决策阈值为 $0.5$，请解释立即治疗或严密观察监测是合适的临床行动，并根据模型的基本原理证明您的选择。",
            "solution": "首先验证问题，以确保其科学根据充分、提法恰当、信息完整且客观。\n\n**1. 提取已知条件：**\n问题为一名点状内层脉络膜病变 (PIC) 患者提供了以下信息：\n- 患者年龄：$29$ 岁。\n- 临床发现：荧光素血管造影 (FA) 显示早期高荧光和病灶旁晚期渗漏，光学相干断层扫描 (OCT) 显示视网膜色素上皮下 (sub-RPE) 高反射性物质。\n- 病灶特征：病灶面积为 $0.60\\ \\mathrm{mm}^{2}$，位置在中心凹外。\n- 提供了一个逻辑回归模型来预测脉络膜新生血管 (CNV) 的概率。对数优势比 $\\text{logit}(p) = \\ln(p/(1-p))$ 是六个预测变量的线性函数。\n- 模型系数为：截距 $\\beta_{0} = -3.10$；$\\beta_{1} = 0.85$ (对于早期高荧光)；$\\beta_{2} = 1.20$ (对于晚期渗漏)；$\\beta_{3} = 0.90$ 每 $\\mathrm{mm}^{2}$ (对于病灶面积)；$\\beta_{4} = 0.70$ (对于中心凹下位置)；$\\beta_{5} = 0.25$ 每十年 (对于年龄)；$\\beta_{6} = 1.00$ (对于 RPE 下高反射性物质)。\n- 针对该患者的预测变量值为：$x_{1} = 1$, $x_{2} = 1$, $x_{3} = 0.60$, $x_{4} = 0$, $x_{5} = 2.9$ 和 $x_{6} = 1$。\n- 启动治疗的决策阈值设定为概率 $0.5$。\n\n**2. 验证结论：**\n该问题是有效的。这是一个在生物统计学和临床决策建模领域中提法恰当的定量问题。所有必要的数据，包括一个特定的数学模型、其参数以及患者的预测变量值，都已提供。其临床背景在眼科学领域是现实且有科学依据的。任务明确，并且可以通过计算进行客观验证。\n\n**3. 求解推导：**\nCNV 的概率 $p$ 使用逻辑回归进行建模。事件的对数优势比 (logit) 由预测变量的线性组合给出：\n$$\n\\text{logit}(p) = \\ln\\left(\\frac{p}{1-p}\\right) = \\beta_0 + \\beta_1 x_1 + \\beta_2 x_2 + \\beta_3 x_3 + \\beta_4 x_4 + \\beta_5 x_5 + \\beta_6 x_6\n$$\n该特定患者的预测变量源自所提供的临床信息：\n- $x_{1}$：存在 FA 早期高荧光，因此 $x_{1} = 1$。\n- $x_{2}$：存在 FA 病灶旁晚期渗漏，因此 $x_{2} = 1$。\n- $x_{3}$：病灶面积为 $0.60\\ \\mathrm{mm}^{2}$，因此 $x_{3} = 0.60$。\n- $x_{4}$：病灶位于中心凹外，因此 $x_{4} = 0$。\n- $x_{5}$：年龄为 $29$ 岁，相当于 $2.9$ 个十年，因此 $x_{5} = 2.9$。\n- $x_{6}$：存在 OCT 显示的 RPE 下高反射性物质，因此 $x_{6} = 1$。\n\n将给定的系数和患者的预测变量值代入 logit 方程：\n$$\n\\text{logit}(p) = (-3.10) + (0.85)(1) + (1.20)(1) + (0.90)(0.60) + (0.70)(0) + (0.25)(2.9) + (1.00)(1)\n$$\n我们计算每一项的贡献：\n$$\n\\text{logit}(p) = -3.10 + 0.85 + 1.20 + 0.54 + 0 + 0.725 + 1.00\n$$\n将这些值相加，得到该患者的对数优势比：\n$$\n\\text{logit}(p) = -3.10 + 4.315 = 1.215\n$$\n为了求出概率 $p$，我们使用逆 logit (logistic) 函数：\n$$\np = \\frac{1}{1 + \\exp(-\\text{logit}(p))}\n$$\n代入计算出的 logit 值：\n$$\np = \\frac{1}{1 + \\exp(-1.215)}\n$$\n计算指数项的值：\n$$\n\\exp(-1.215) \\approx 0.296706\n$$\n现在，我们计算概率 $p$：\n$$\np \\approx \\frac{1}{1 + 0.296706} = \\frac{1}{1.296706} \\approx 0.7711818\n$$\n问题要求将最终答案 $p$ 四舍五入到四位有效数字。\n$$\np \\approx 0.7712\n$$\n\n**4. 解释与临床行动：**\n问题指定了启动抗血管内皮生长因子 (anti-VEGF) 治疗的决策阈值为 $p = 0.5$。该患者 CNV 的计算概率为 $p \\approx 0.7712$。\n由于 $0.7712 > 0.5$，模型的预测表明存在 CNV 的可能性很高。\n从基本原理来看，logistic 函数 $p = 1 / (1 + \\exp(-z))$ 将对数优势比 $z$ 与概率 $p$ 联系起来。概率 $p=0.5$ 对应于对数优势比 $z = \\ln(0.5/(1-0.5)) = \\ln(1) = 0$。我们计算出的对数优势比为 $1.215$，大于 $0$。这证实了概率大于 $0.5$。根据所提供的决策规则，适当的临床行动是立即开始使用 anti-VEGF 疗法进行治疗，而不是选择严密观察监测。这是因为，正如模型所显示的高概率所提示的，未经治疗的 CNV 导致的视力丧失风险，在这种临床背景下，超过了与治疗相关的风险。",
            "answer": "$$\n\\boxed{0.7712}\n$$"
        },
        {
            "introduction": "现代眼科学正朝着定量化方向发展，从影像中提取客观、可重复的数值数据已成为一项重要的临床与研究技能。本练习 () 将引导您设计一个基础的图像分析算法，用以量化光学相干断层扫描血管成像（OCTA）图像中的脉络膜毛细血管血流空洞。通过与参考标准进行比较，您将实践验证定量生物标志物的基本步骤，为更深入的影像学研究打下基础。",
            "id": "4735601",
            "problem": "考虑在白点综合征的背景下，使用光学相干断层扫描血管成像 (OCTA) 对脉络膜毛细血管层血流空洞进行量化，并使用吲哚菁绿血管造影 (ICGA) 的参考病灶对其进行验证。光学相干断层扫描血管成像 (OCTA) 是一种生成血流强度图的技术，而吲哚菁绿血管造影 (ICGA) 则提供病灶的二值参考图。适用以下基本原理：阈值分割是图像分析中一种成熟的方法，通过该方法，强度低于阈值的像素被分类为属于感兴趣区域；面积是分类像素的数量乘以像素面积；二元分类性能指标基于混淆矩阵的计数。你需要根据这些定义推导出一个算法，并实现它以计算量化指标。\n\n定义与假设：设 OCTA 强度图像为一个矩阵 $I \\in \\mathbb{R}^{m \\times n}$，其元素 $I_{ij}$ 在单位区间 $[0,1]$ 内。设阈值为 $T \\in [0,1]$。根据规则 $V_{ij} = 1$ 当且仅当 $I_{ij}  T$，否则 $V_{ij} = 0$，定义血流空洞掩模 $V \\in \\{0,1\\}^{m \\times n}$。设 ICGA 参考病灶掩模为 $M \\in \\{0,1\\}^{m \\times n}$。设像素尺寸为 $p$ 毫米，因此像素面积为 $p^2$ 平方毫米。根据第一性原理定义以下量：总血流空洞面积 $A = p^2 \\sum_{i=1}^{m} \\sum_{j=1}^{n} V_{ij}$（单位 $\\text{mm}^2$）；真阳性 $\\text{TP} = \\sum_{i=1}^{m} \\sum_{j=1}^{n} \\mathbf{1}\\{V_{ij} = 1 \\land M_{ij} = 1\\}$；假阴性 $\\text{FN} = \\sum_{i=1}^{m} \\sum_{j=1}^{n} \\mathbf{1}\\{V_{ij} = 0 \\land M_{ij} = 1\\}$；真阴性 $\\text{TN} = \\sum_{i=1}^{m} \\sum_{j=1}^{n} \\mathbf{1}\\{V_{ij} = 0 \\land M_{ij} = 0\\}$；以及假阳性 $\\text{FP} = \\sum_{i=1}^{m} \\sum_{j=1}^{n} \\mathbf{1}\\{V_{ij} = 1 \\land M_{ij} = 0\\}$。灵敏度定义为 $S = \\frac{\\text{TP}}{\\text{TP} + \\text{FN}}$（当 $\\text{TP} + \\text{FN}  0$ 时），否则设为 $0$。特异性定义为 $P = \\frac{\\text{TN}}{\\text{TN} + \\text{FP}}$（当 $\\text{TN} + \\text{FP}  0$ 时），否则设为 $0$。\n\n实现一个程序，对于每个测试用例，应用阈值分割规则来计算 $V$，然后通过与 $M$ 进行逐像素比较来计算面积 $A$（单位 $\\text{mm}^2$）以及性能指标 $S$ 和 $P$。将面积以 $\\text{mm}^2$ 为单位表示，并四舍五入到四位小数，并将灵敏度和特异性表示为四舍五入到四位小数的小数。不允许使用百分比。\n\n测试套件参数：\n\n测试用例 1（一般情况，混合强度）：\n- OCTA 强度矩阵 $I^{(1)}$：\n$$\nI^{(1)} =\n\\begin{bmatrix}\n0.9   0.8   0.4   0.3   0.2 \\\\\n0.7   0.6   0.5   0.45  0.1 \\\\\n0.85  0.55  0.35  0.2   0.05 \\\\\n0.6   0.4   0.3   0.2   0.1 \\\\\n0.7   0.9   0.8   0.6   0.5\n\\end{bmatrix}\n$$\n- 阈值 $T^{(1)} = 0.5$。\n- 像素尺寸 $p^{(1)} = 0.05$ $\\text{mm}$。\n- ICGA 病灶掩模 $M^{(1)}$：\n$$\nM^{(1)} =\n\\begin{bmatrix}\n0   0   1   1   0 \\\\\n0   0   1   1   1 \\\\\n0   0   1   1   1 \\\\\n0   0   0   1   1 \\\\\n0   0   0   0   0\n\\end{bmatrix}\n$$\n\n测试用例 2（边界情况，接近零的阈值下无血流空洞）：\n- OCTA 强度矩阵 $I^{(2)}$ 等于 $I^{(1)}$。\n- 阈值 $T^{(2)} = 0.0$。\n- 像素尺寸 $p^{(2)} = 0.05$ $\\text{mm}$。\n- ICGA 病灶掩模 $M^{(2)}$：\n$$\nM^{(2)} =\n\\begin{bmatrix}\n0   0   0   0   0 \\\\\n0   1   0   0   0 \\\\\n0   1   0   0   0 \\\\\n0   0   0   0   0 \\\\\n0   0   0   0   0\n\\end{bmatrix}\n$$\n\n测试用例 3（边缘情况，高阈值下所有像素均被分类为血流空洞）：\n- OCTA 强度矩阵 $I^{(3)}$：\n$$\nI^{(3)} =\n\\begin{bmatrix}\n0.9   0.9   0.9   0.9   0.9 \\\\\n0.9   0.9   0.9   0.9   0.9 \\\\\n0.9   0.9   0.9   0.9   0.9 \\\\\n0.9   0.9   0.9   0.9   0.9 \\\\\n0.9   0.9   0.9   0.9   0.9\n\\end{bmatrix}\n$$\n- 阈值 $T^{(3)} = 1.0$。\n- 像素尺寸 $p^{(3)} = 0.05$ $\\text{mm}$。\n- ICGA 病灶掩模 $M^{(3)}$（对角线病灶）：\n$$\nM^{(3)} =\n\\begin{bmatrix}\n1   0   0   0   0 \\\\\n0   1   0   0   0 \\\\\n0   0   1   0   0 \\\\\n0   0   0   1   0 \\\\\n0   0   0   0   1\n\\end{bmatrix}\n$$\n\n你的程序应生成单行输出，其中包含用方括号括起来的、以逗号分隔的结果列表。对于每个测试用例，输出一个包含三个浮点数 $[A,S,P]$ 的列表，所有值都四舍五入到四位小数，其中 $A$ 是血流空洞面积（单位 $\\text{mm}^2$），$S$ 是灵敏度，$P$ 是特异性。最终输出格式必须为：\n$[[A^{(1)},S^{(1)},P^{(1)}],[A^{(2)},S^{(2)},P^{(2)}],[A^{(3)},S^{(3)},P^{(3)}]]$。",
            "solution": "本问题要求我们实现一个算法，对三个测试用例量化光学相干断层扫描血管成像（OCTA）图像中的血流空洞，并计算其与吲哚菁绿血管造影（ICGA）参考掩模相比的灵敏度和特异性。我们将按步骤对每个测试用例进行计算。\n\n所有测试用例的像素尺寸均为 $p = 0.05 \\text{ mm}$，因此像素面积为 $p^2 = (0.05 \\text{ mm})^2 = 0.0025 \\text{ mm}^2$。\n\n---\n\n**测试用例 1:**\n-   $T^{(1)} = 0.5$\n\n**1. 生成血流空洞掩模 $V^{(1)}$**\n我们应用阈值 $T^{(1)} = 0.5$，其中 $V_{ij} = 1$ 如果 $I_{ij}  0.5$。\n$$\nI^{(1)} =\n\\begin{bmatrix}\n0.9   0.8   0.4   0.3   0.2 \\\\\n0.7   0.6   0.5   0.45  0.1 \\\\\n0.85  0.55  0.35  0.2   0.05 \\\\\n0.6   0.4   0.3   0.2   0.1 \\\\\n0.7   0.9   0.8   0.6   0.5\n\\end{bmatrix}\n\\implies\nV^{(1)} =\n\\begin{bmatrix}\n0  0  1  1  1 \\\\\n0  0  0  1  1 \\\\\n0  0  1  1  1 \\\\\n0  1  1  1  1 \\\\\n0  0  0  0  0\n\\end{bmatrix}\n$$\n\n**2. 计算总血流空洞面积 $A^{(1)}$**\n$V^{(1)}$ 中值为1的像素总数为12。\n$$ A^{(1)} = 12 \\times 0.0025 \\text{ mm}^2 = 0.03 \\text{ mm}^2 $$\n\n**3. 计算混淆矩阵元素**\n与参考掩模 $M^{(1)}$ 比较：\n-   真阳性 (TP): $V^{(1)}$ 和 $M^{(1)}$ 中都为1的像素数。通过逐元素比较，我们发现 $\\text{TP} = 9$。\n-   假阴性 (FN): $M^{(1)}$ 中为1但 $V^{(1)}$ 中为0的像素数。$\\text{FN} = 1$ (在位置 (1,2))。\n-   假阳性 (FP): $V^{(1)}$ 中为1但 $M^{(1)}$ 中为0的像素数。$\\text{FP} = 3$ (在位置 (0,4), (3,1), (3,2))。\n-   真阴性 (TN): 两者都为0的像素数。总像素25 - TP(9) - FN(1) - FP(3) = $\\text{TN} = 12$。\n\n**4. 计算性能指标**\n-   灵敏度 $S^{(1)} = \\frac{\\text{TP}}{\\text{TP} + \\text{FN}} = \\frac{9}{9 + 1} = 0.9$\n-   特异性 $P^{(1)} = \\frac{\\text{TN}}{\\text{TN} + \\text{FP}} = \\frac{12}{12 + 3} = \\frac{12}{15} = 0.8$\n\n**结果1:** $[0.0300, 0.9000, 0.8000]$\n\n---\n\n**测试用例 2:**\n-   $T^{(2)} = 0.0$\n\n**1. 生成血流空洞掩模 $V^{(2)}$**\n由于 $I^{(2)}$ 的所有元素都 $\\ge 0.0$，没有像素满足 $I_{ij}  0.0$ 的条件。因此，$V^{(2)}$ 是一个全零矩阵。\n\n**2. 计算总血流空洞面积 $A^{(2)}$**\n$V^{(2)}$ 中值为1的像素总数为0。\n$$ A^{(2)} = 0 \\times 0.0025 \\text{ mm}^2 = 0.0 \\text{ mm}^2 $$\n\n**3. 计算混淆矩阵元素**\n-   $M^{(2)}$ 在 (1,1) 和 (2,1) 处为1。\n-   TP: $V^{(2)}$ 全为0，所以 $\\text{TP} = 0$。\n-   FN: $M^{(2)}$ 中为1的像素数，即 $\\text{FN} = 2$。\n-   FP: $V^{(2)}$ 中为1的像素数，即 $\\text{FP} = 0$。\n-   TN: 总像素25 - FN(2) = $\\text{TN} = 23$。\n\n**4. 计算性能指标**\n-   灵敏度 $S^{(2)} = \\frac{\\text{TP}}{\\text{TP} + \\text{FN}} = \\frac{0}{0 + 2} = 0.0$\n-   特异性 $P^{(2)} = \\frac{\\text{TN}}{\\text{TN} + \\text{FP}} = \\frac{23}{23 + 0} = 1.0$\n\n**结果2:** $[0.0000, 0.0000, 1.0000]$\n\n---\n\n**测试用例 3:**\n-   $T^{(3)} = 1.0$\n-   $I^{(3)}$ 是一个所有元素都为0.9的全矩阵。\n\n**1. 生成血流空洞掩模 $V^{(3)}$**\n由于所有 $I_{ij} = 0.9  1.0$，因此 $V^{(3)}$ 是一个全1矩阵。\n\n**2. 计算总血流空洞面积 $A^{(3)}$**\n$V^{(3)}$ 中值为1的像素总数为25。\n$$ A^{(3)} = 25 \\times 0.0025 \\text{ mm}^2 = 0.0625 \\text{ mm}^2 $$\n\n**3. 计算混淆矩阵元素**\n-   $M^{(3)}$ 在对角线有5个1。\n-   TP: 由于 $V^{(3)}$ 全为1，TP等于 $M^{(3)}$ 中1的个数，即 $\\text{TP} = 5$。\n-   FN: $\\text{FN} = 0$。\n-   FP: $V^{(3)}$ 中为1但 $M^{(3)}$ 中为0的像素数，即 $25 - 5 = 20$。\n-   TN: $\\text{TN} = 0$。\n\n**4. 计算性能指标**\n-   灵敏度 $S^{(3)} = \\frac{\\text{TP}}{\\text{TP} + \\text{FN}} = \\frac{5}{5 + 0} = 1.0$\n-   特异性 $P^{(3)} = \\frac{\\text{TN}}{\\text{TN} + \\text{FP}} = \\frac{0}{0 + 20} = 0.0$\n\n**结果3:** $[0.0625, 1.0000, 0.0000]$",
            "answer": "[[0.0300,0.9000,0.8000],[0.0000,0.0000,1.0000],[0.0625,1.0000,0.0000]]"
        }
    ]
}