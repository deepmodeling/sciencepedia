{
    "hands_on_practices": [
        {
            "introduction": "先天性鼻泪管阻塞（CNLDO）最常见的临床体征是溢泪（epiphora）。为了深入理解这一现象的物理基础，我们可以将泪液引流系统简化为一个生物物理模型。本练习将引导您运用流体动力学的基本原理，建立一个泪液储量、引流压力和流出阻力之间的数学关系，从而定量地解释泪河高度为何会随着引流通道的阻塞而增加。通过这个实践，您将掌握从第一性原理出发分析临床体征的技能。",
            "id": "4663965",
            "problem": "一名患有先天性鼻泪管阻塞（CNLDO）的三个月大婴儿出现持续性溢泪。将眼表和泪小管系统建模为一个单一的顺应性泪液储库，该储库远端与鼻泪管相通。假设存在以下基于生理学的、小信号线性关系：\n- 稳态体积守恒：在多次眨眼平均下，恒定的基础泪液产生率 $Q_{\\text{p}}$ 等于引流率 $Q_{\\text{out}}$，忽略蒸发。\n- 线性流出定律（层流的欧姆定律模拟）：$Q_{\\text{out}}=\\Delta P/R$，其中 $\\Delta P$ 是泪液储库与鼻腔之间的压力差，而 $R$ 是远端鼻泪管通道的有效流出阻力。\n- 泪液储库的线性顺应性：$V=C_{\\text{t}} P$，其中 $V$ 是储库中储存的泪液体积，$C_{\\text{t}}$ 是有效顺应性，$P$ 是储库相对于鼻腔的压力（将鼻腔视为零表压）。\n- 储库体积与下泪河高度之间的几何比例关系：$V=k_{\\text{m}} h$，其中 $k_{\\text{m}}$ 是一个与几何相关的比例常数，$h$ 是下泪河高度。\n\n仅从流量平衡和这些线性关系出发，推导平衡状态下泪河高度 $h$ 作为流出阻力 $R$、产生率 $Q_{\\text{p}}$、顺应性 $C_{\\text{t}}$ 和几何系数 $k_{\\text{m}}$ 的函数表达式。然后，使用以下适用于婴儿眼睛的生理学上合理的参数，\n- $Q_{\\text{p}}=1.2\\ \\mu\\text{L}/\\text{min}$，\n- $C_{\\text{t}}=4.0\\ \\mu\\text{L}/\\text{kPa}$，\n- $k_{\\text{m}}=0.80\\ \\mu\\text{L}/\\text{mm}$，\n- 基线阻力 $R_{1}=0.050\\ \\text{kPa}\\cdot\\text{min}/\\mu\\text{L}$ 因远端阻塞而增加到 $R_{2}=0.200\\ \\text{kPa}\\cdot\\text{min}/\\mu\\text{L}$，\n\n计算与 $R_{2}$ 对应的新平衡下泪河高度 $h_{2}$。用毫米表示您的最终数值答案，并四舍五入到三位有效数字。",
            "solution": "### 平衡泪河高度表达式的推导\n我们的目标是找到平衡泪河高度 $h$ 的表达式。我们从给定的线性关系开始。\n\n在稳态下，泪液产生率 $Q_{\\text{p}}$ 与泪液流出率 $Q_{\\text{out}}$ 相平衡：\n$$Q_{\\text{p}} = Q_{\\text{out}}$$\n流出率由线性流出定律决定，其中 $P$ 是泪液储库相对于鼻腔的压力（设为零表压）：\n$$Q_{\\text{out}} = \\frac{P}{R}$$\n将此代入平衡方程可得：\n$$Q_{\\text{p}} = \\frac{P}{R}$$\n由此，我们可以将储库中的平衡压力 $P$ 表示为：\n$$P = Q_{\\text{p}} R$$\n问题为储库中储存的泪液体积 $V$ 提供了两个表达式。第一个通过顺应性 $C_{\\text{t}}$ 将体积与压力联系起来：\n$$V = C_{\\text{t}} P$$\n第二个通过几何系数 $k_{\\text{m}}$ 将体积与下泪河高度 $h$ 联系起来：\n$$V = k_{\\text{m}} h$$\n由于两个表达式在平衡时描述的是相同的体积 $V$，我们可以使它们相等：\n$$k_{\\text{m}} h = C_{\\text{t}} P$$\n现在，我们将平衡压力 $P = Q_{\\text{p}} R$ 的表达式代入此方程：\n$$k_{\\text{m}} h = C_{\\text{t}} (Q_{\\text{p}} R)$$\n最后，通过除以 $k_{\\text{m}}$ 来求解平衡泪河高度 $h$：\n$$h = \\frac{C_{\\text{t}} Q_{\\text{p}} R}{k_{\\text{m}}}$$\n这就是所求的平衡泪河高度 $h$ 作为系统参数的函数表达式。\n\n### 新平衡高度 $h_{2}$ 的计算\n我们使用推导出的公式和给定的数值计算对应于增加后流出阻力 $R_{2}$ 的新平衡泪河高度 $h_{2}$。\n给定的值为：\n-   $Q_{\\text{p}} = 1.2\\ \\mu\\text{L}/\\text{min}$\n-   $C_{\\text{t}} = 4.0\\ \\mu\\text{L}/\\text{kPa}$\n-   $k_{\\text{m}} = 0.80\\ \\mu\\text{L}/\\text{mm}$\n-   $R_{2} = 0.200\\ \\text{kPa}\\cdot\\text{min}/\\mu\\text{L}$\n\n将这些值代入 $h_{2}$ 的表达式中：\n$$h_{2} = \\frac{C_{\\text{t}} Q_{\\text{p}} R_{2}}{k_{\\text{m}}} = \\frac{(4.0\\ \\mu\\text{L}/\\text{kPa}) \\times (1.2\\ \\mu\\text{L}/\\text{min}) \\times (0.200\\ \\text{kPa}\\cdot\\text{min}/\\mu\\text{L})}{0.80\\ \\mu\\text{L}/\\text{mm}}$$\n计算分子：\n$$\\text{分子} = 4.0 \\times 1.2 \\times 0.200 = 0.96\\ \\mu\\text{L}$$\n然后除以分母：\n$$h_{2} = \\frac{0.96\\ \\mu\\text{L}}{0.80\\ \\mu\\text{L}/\\text{mm}} = 1.2\\ \\text{mm}$$\n根据题目要求，将答案四舍五入到三位有效数字，写作 $1.20$。",
            "answer": "$$\\boxed{1.20}$$"
        },
        {
            "introduction": "在临床实践中，对症状模糊的病例进行准确鉴别诊断是眼科医生必须具备的核心能力。先天性鼻泪管阻塞的某些症状，如溢泪和畏光，与更危险的先天性青光眼有重叠，后者若延误诊治将导致不可逆的视力损伤。本练习模拟了一个真实世界中的高风险临床情景，要求您综合分析多项临床指标，权衡不同诊断的风险与紧迫性，并制定一个安全、平行的诊疗方案。这项实践旨在锻炼您在复杂情况下的临床决策和风险管理能力。",
            "id": "4663911",
            "problem": "一名$3$月龄婴儿，出生后即出现双眼溢泪，伴有间歇性畏光和偶尔的眼睑结痂。查体发现，眼周轻度红斑，无结膜充血。用卡尺测量的角膜直径为右眼$11.5$毫米，左眼$12.0$毫米。角膜表面清晰，无基质混浊；未见Haab氏线。在诊所使用回弹式眼压计测得的眼内压（IOP）读数为右眼$18$毫米汞柱，左眼$20$毫米汞柱。间接检眼镜检查显示的杯盘比为右眼$0.3$，左眼$0.4$，无视盘边缘变薄。在未使用局部麻醉剂的情况下进行的荧光素染料消失试验（FDDT）显示，$5$分钟时双眼上方仍有染料残留。裂隙灯下测量的泪河高度双眼均约为$0.6$毫米。轻柔按压泪囊区（DPOLS）时，右眼泪点出现黏脓性分泌物反流。手持式角膜测厚仪测得左眼中央角膜厚度（CCT）为$570$ $\\mu$m。\n\n当临床表现不明确时，要求您制定一个应急计划，以同时排查先天性鼻泪管阻塞（CNLDO）和原发性先天性青光眼（PCG）。该计划需在青光眼性视神经病变的时间紧迫性与不必要治疗的风险之间取得平衡，并需解决鼻泪管淤滞可能引起的感染风险。从婴儿泪液引流和房水动力学的基本定义，以及关于年龄特异性角膜尺寸阈值、新生儿和婴儿用药安全考量、清醒与麻醉状态下眼压测量可靠性的成熟临床事实出发，选择最合适的计划。\n\n以下哪个计划最能为此婴儿实施一个并行的、以安全为重点的评估和管理策略？\n\nA. 立即开始使用局部β-受体阻滞剂和碳酸酐酶抑制剂以经验性地降低眼压，安排在$6$周后进行麻醉下检查（EUA），推迟所有泪道干预直至排除青光眼，并避免Crigler按摩以防增加眼球压力。\n\nB. 立即进行EUA，优先进行房角镜检查和麻醉下眼压测量；将包括FDDT和DPOLS在内的泪道评估推迟到EUA之后，并避免使用局部抗生素，以防掩盖可能混淆青光眼评估的眼部体征。\n\nC. 实施并行路径：当天进行无创性泪道评估（FDDT和DPOLS），针对黏脓性分泌物开始Crigler按摩和短期局部抗生素治疗，并同时设立明确的触发标准，若出现任何青光眼危险信号（年龄$< 1$岁的患儿角膜直径$\\geq 12$毫米且有进展，重复清醒测量时眼压$\\geq 22$毫米汞柱，杯盘比不对称$\\geq 0.2$，或出现角膜混浊），则在$1$至$2$周内进行紧急EUA；在$7$天后重复清醒状态下的眼压和角膜直径测量以重新评估，并推迟使用局部抗青光眼药物，除非有确诊发现或记录到严重的眼压升高。\n\nD. 因CNLDO可能性最大，直接在$3$月龄时进行诊室内泪道探通术；如果探通未能解决溢泪问题，则改日再评估先天性青光眼。",
            "solution": "### 临床情况分析\n该3月龄婴儿的临床表现具有模糊性，同时指向先天性鼻泪管阻塞（CNLDO）和原发性先天性青光眼（PCG）。\n\n- **支持CNLDO的证据**：出生后即有的溢泪史、眼睑结痂、泪河增高（$0.6$ mm）、荧光素染料消失试验（FDDT）阳性，以及最具决定性的泪囊区按压（DPOLS）有黏脓性反流。这些是典型的泪道阻塞体征。\n- **警惕PCG的危险信号**：\n    - **畏光**：可能是PCG的症状，尽管也可能由溢泪本身引起。\n    - **角膜直径增大**：左眼角膜直径为$12.0$ mm，对于3月龄婴儿而言是可疑的（正常值通常小于$11.0$ mm）。\n    - **眼内压（IOP）偏高**：清醒状态下测得的$18$和$20$ mmHg高于婴儿正常范围，即使考虑到哭闹可能导致数值假性升高，也应引起警惕。\n    - **杯盘比不对称**：$0.3$与$0.4$的轻微不对称（$0.1$）需要密切观察。\n    - **角膜偏厚**：左眼$570$ $\\mu$m的中央角膜厚度（CCT）也可能与青光眼相关。\n\n### 决策核心\n核心挑战在于，PCG是威胁视力的急症，任何延误都可能导致不可逆的视神经损伤。而CNLDO虽然常见，但其黏脓性分泌物提示有继发感染风险，也需处理。因此，最佳策略是采取并行路径，既要紧急处理潜在的青光眼风险，又要对CNLDO进行适当的保守治疗和感染控制。\n\n### 选项评估\n\n*   **A. 立即经验性用药，6周后行麻醉下检查（EUA）**：此方案不安全。在没有确诊的情况下对婴儿使用有全身副作用风险的β-受体阻滞剂是不恰当的。此外，等待6周才进行EUA对于疑似PCG来说太长，可能错过最佳治疗时机。同时，该方案忽略了对CNLDO相关感染风险的管理。\n\n*   **B. 立即行EUA，推迟泪道评估**：此方案过于激进且不合逻辑。立即进行有创的EUA可能是不必要的，应先通过密切观察来确认其必要性。推迟泪道评估和避免使用抗生素的做法忽略了已有体征和明确的感染风险，是不恰当的。\n\n*   **C. 实施并行路径，密切监测并设立EUA触发标准**：此方案是最佳选择。它完美地平衡了风险与收益。\n    1.  **并行处理**：同时开始CNLDO的保守治疗（按摩和短期抗生素以控制感染）和PCG的监测。\n    2.  **安全监测**：它没有立即采取有创措施，而是设立了清晰、基于证据的紧急EUA触发标准（如角膜直径进行性增大、IOP明确升高等）。\n    3.  **风险规避**：通过安排在1-2周内进行紧急EUA（如果触发）和7天后复查，确保了对PCG的警惕性，同时避免了非必要的麻醉风险和不安全的经验性用药。\n\n*   **D. 直接进行泪道探通，后续再评估青光眼**：此方案是危险的。它将一个非紧急的、高自愈率的疾病（CNLDO）的治疗置于一个可能致盲的急症（PCG）的评估之上，严重颠倒了临床优先级。在3月龄时进行探通也为时过早。\n\n**结论**：选项C提供了一个全面、安全且符合循证医学原则的管理策略，是处理此类复杂临床情况的典范。",
            "answer": "$$\\boxed{C}$$"
        },
        {
            "introduction": "循证医学是现代临床决策的基石，而预后模型是其重要工具之一，它能帮助医生预测治疗结果、进行风险分层并为患者提供个体化建议。本练习将带您进入高级生物统计学的应用领域，从第一性原理（比值和对数比值）出发，构建一个多变量逻辑回归模型。您将学习如何量化年龄、单侧/双侧受累等多个临床因素对鼻泪管探通术成功率的影响，并将该模型付诸实践。这个练习旨在连接临床观察与统计建模，提升您的数据分析和预后评估能力。",
            "id": "4663977",
            "problem": "您的任务是为先天性鼻泪管阻塞 (CNLDO) 建立一个基于基本原则的多变量预后模型，根据年龄、侧别、是否存在泪囊囊肿以及综合征状态来估计初次探通术的个体成功概率。该模型必须从第一性原理出发，使用比值和对数比值进行推导，并实现为一个可运行的程序，为指定的测试集输出概率。所有年龄必须以月为单位表示。\n\n基本和建模假设：\n- 设探通术成功的二元结果为一个伯努利随机变量，其概率为 $p \\in (0,1)$。\n- 定义比值 $o$ 为 $o = \\dfrac{p}{1-p}$。\n- 使用乘性比值模型，其合理性在于对数比值尺度下风险贡献的独立性：每个预测因子都对比值贡献一个固定的乘性因子。\n- 预测因子如下：\n  - 年龄 $a$，单位为月。\n  - 侧别 $L \\in \\{0,1\\}$，其中 $L=0$ 代表单侧，$L=1$ 代表双侧受累。\n  - 是否存在泪囊囊肿 $D \\in \\{0,1\\}$，其中 $D=1$ 表示存在泪囊囊肿。\n  - 综合征状态 $S \\in \\{0,1\\}$，其中 $S=1$ 表示存在影响颅面或鼻泪管解剖结构的已识别综合征。\n- 使用以下经过充分检验的临床模式校准对比值的乘性效应（表示为对比值的约束，而非直接作为目标概率函数）：\n  - 基线校准：对于年龄 $a=6$、单侧受累 $L=0$、无泪囊囊肿 $D=0$ 且非综合征状态 $S=0$ 的参考病例，探通术成功概率为 $p=0.9$。\n  - 年龄效应：每增加一个月，成功探通的难度就会增加，模型化为比值每月恒定乘以一个因子 $f_a = 0.97$，因此在 $a$ 个月后，年龄对比值的贡献为 $f_a^a$。\n  - 侧别效应：双侧受累时（$L=1$），比值乘以因子 $f_L = 0.7$，而当 $L=0$ 时比值不变。\n  - 泪囊囊肿效应：存在泪囊囊肿时（$D=1$），比值乘以因子 $f_D = 0.6$，而当 $D=0$ 时比值不变。\n  - 综合征效应：患有综合征的儿童（$S=1$）其比值乘以因子 $f_S = 0.5$，而当 $S=0$ 时比值不变。\n- 在对数比值表示下，这意味着一个加性模型，其中对数比值是 $a, L, D, S$ 的线性函数，其参数由上述约束确定。\n\n您的任务：\n1. 根据上述假设和约束，推导出一个完全指定的概率模型，将 $(a,L,D,S)$ 映射到 $p(a,L,D,S)$，且不引入任何非由基本原理所蕴含的快捷公式。明确地用比值和对数比值表示该模型，并根据基线校准确定截距。\n2. 将此模型实现为一个程序，为下面的每个测试用例计算个体预测的探通术成功概率 $p$。\n3. 程序必须输出单行结果，该结果为包含在方括号中的逗号分隔列表。每个概率值必须四舍五入到小数点后 $4$ 位。\n\n使用以下测试集（所有年龄均以月为单位表示）：\n- 病例 $1$：$a=6$, $L=0$, $D=0$, $S=0$。\n- 病例 $2$：$a=0$, $L=1$, $D=1$, $S=1$。\n- 病例 $3$：$a=60$, $L=1$, $D=1$, $S=1$。\n- 病例 $4$：$a=12$, $L=0$, $D=0$, $S=0$。\n- 病例 $5$：$a=1$, $L=0$, $D=1$, $S=0$。\n- 病例 $6$：$a=24$, $L=1$, $D=0$, $S=0$。\n\n最终输出格式：\n- 您的程序应生成单行输出，其中包含一个逗号分隔的列表形式的结果，并用方括号括起来，例如：$[p_1,p_2,p_3,p_4,p_5,p_6]$，其中每个 $p_i$ 都四舍五入到小数点后 $4$ 位，并且没有单位（区间 $(0,1)$ 内的无量纲概率）。",
            "solution": "### 1. 预后模型的推导\n\n该模型基于乘性比值原理。对于一个具有特征向量 $(a, L, D, S)$ 的患者，其探通成功的比值 $o$ 可表示为：\n$$\no(a, L, D, S) = C \\cdot f_{\\text{age}}(a) \\cdot f_{\\text{lat}}(L) \\cdot f_{\\text{dacryo}}(D) \\cdot f_{\\text{syn}}(S)\n$$\n其中 $C$ 是一个基准常数，代表参考状态 $(a=0, L=0, D=0, S=0)$ 的基础比值。根据问题中给出的效应因子，我们可以将模型具体化为：\n$$\no(a, L, D, S) = C \\cdot (0.97)^a \\cdot (0.7)^L \\cdot (0.6)^D \\cdot (0.5)^S\n$$\n为了确定常数 $C$，我们使用基线校准病例：对于参考病例 $(a=6, L=0, D=0, S=0)$，成功概率 $p=0.9$。首先，将此概率转换为比值：\n$$\no_{\\text{baseline}} = \\frac{p}{1-p} = \\frac{0.9}{1-0.9} = 9\n$$\n将此代入模型方程：\n$$\no(6, 0, 0, 0) = C \\cdot (0.97)^6 \\cdot (0.7)^0 \\cdot (0.6)^0 \\cdot (0.5)^0 = C \\cdot (0.97)^6\n$$\n令二者相等，解出 $C$：\n$$\nC \\cdot (0.97)^6 = 9 \\implies C = \\frac{9}{(0.97)^6}\n$$\n将 $C$ 代回，得到完整的比值模型。一个更简洁的等价形式是，将比值表示为相对于基线病例的调整：\n$$\no(a, L, D, S) = 9 \\cdot (0.97)^{a-6} \\cdot (0.7)^L \\cdot (0.6)^D \\cdot (0.5)^S\n$$\n这是计算任意患者成功比值的最终方程。最后，使用以下关系将比值 $o$ 转换回概率 $p$：\n$$\np(a, L, D, S) = \\frac{o(a, L, D, S)}{1 + o(a, L, D, S)}\n$$\n\n### 2. & 3. 模型实现与测试集计算\n\n以下Python代码实现了上述模型，并为给定的6个测试用例计算了成功概率，输出结果符合指定的格式要求。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Calculates the probability of success for congenital nasolacrimal duct\n    obstruction (CNLDO) probing based on a multiplicative odds model.\n    \"\"\"\n\n    # Define the test cases from the problem statement.\n    # Each case is a tuple: (a, L, D, S)\n    # a: age in months\n    # L: laterality (0=unilateral, 1=bilateral)\n    # D: dacryocele (0=absent, 1=present)\n    # S: syndromic status (0=non-syndromic, 1=syndromic)\n    test_cases = [\n        (6, 0, 0, 0),  # Case 1\n        (0, 1, 1, 1),  # Case 2\n        (60, 1, 1, 1), # Case 3\n        (12, 0, 0, 0), # Case 4\n        (1, 0, 1, 0),  # Case 5\n        (24, 1, 0, 0), # Case 6\n    ]\n\n    def calculate_cnldo_success_prob(a: int, L: int, D: int, S: int) -> float:\n        \"\"\"\n        Computes the probability of probing success for a given patient profile.\n\n        The model is based on multiplicative odds, calibrated from a baseline case.\n        The odds 'o' are calculated as:\n        o(a, L, D, S) = 9 * (0.97)^(a-6) * (0.7)^L * (0.6)^D * (0.5)^S\n\n        The probability 'p' is then derived from the odds:\n        p = o / (1 + o)\n\n        Args:\n            a: Age in months.\n            L: Laterality (0 or 1).\n            D: Dacryocele presence (0 or 1).\n            S: Syndromic status (0 or 1).\n\n        Returns:\n            The calculated probability of success.\n        \"\"\"\n        # Baseline odds for the reference case (a=6, L=0, D=0, S=0) is 9,\n        # derived from p=0.9 -> o = 0.9/(1-0.9) = 9.\n        baseline_odds = 9.0\n\n        # Multiplicative factors for each predictor\n        age_factor = 0.97\n        laterality_factor = 0.7\n        dacryocele_factor = 0.6\n        syndromic_factor = 0.5\n        \n        # Reference age from the baseline case\n        ref_age = 6\n\n        # Calculate the odds using the derived multiplicative model\n        odds = (\n            baseline_odds *\n            (age_factor ** (a - ref_age)) *\n            (laterality_factor ** L) *\n            (dacryocele_factor ** D) *\n            (syndromic_factor ** S)\n        )\n\n        # Convert odds to probability\n        probability = odds / (1.0 + odds)\n        \n        return probability\n\n    results = []\n    for case in test_cases:\n        a, L, D, S = case\n        prob = calculate_cnldo_success_prob(a, L, D, S)\n        results.append(prob)\n\n    # Format the final output string as a comma-separated list of probabilities\n    # rounded to 4 decimal places, enclosed in square brackets.\n    output_str = f\"[{','.join(f'{p:.4f}' for p in results)}]\"\n    \n    # Final print statement in the exact required format.\n    print(output_str)\n\nsolve()\n```"
        }
    ]
}