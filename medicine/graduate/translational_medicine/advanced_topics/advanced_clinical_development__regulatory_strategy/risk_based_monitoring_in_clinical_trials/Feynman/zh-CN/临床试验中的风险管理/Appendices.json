{
    "hands_on_practices": [
        {
            "introduction": "风险优先排序是基于风险的监查（RBM）的基石，而风险优先级数（RPN）是实现此目的的常用工具。本练习  深入探讨了 RPN 的计算机制，展示了诸如强调严重性等主观加权决策如何从根本上改变风险排序，从而指导不同的监查策略。",
            "id": "5057580",
            "problem": "一家申办方正在一项呼吸系统生物制剂的多中心3期临床试验中实施基于风险的监查，遵循国际人用药品注册技术协调会《药物临床试验质量管理规范》（ICH-GCP）的原则和失效模式与影响分析（FMEA）框架。风险优先级数（RPN）定义为 $RPN = S \\times L \\times D$，其中 $S$ 是严重性评级，$L$ 是可能性（发生率）评级，$D$ 是可探测性评级。每个维度的评级都在一个从 $1$（最佳）到 $10$（最差）的定锚序数量表上指定。现已识别出两个高影响风险：\n\n- 风险A：由于电子数据采集（EDC）工作流程中访视窗口安排错误，导致主要终点肺功能检查缺失。\n  - 严重性 $S_A = 9$（对主要终点完整性有重大影响）\n  - 可能性 $L_A = 2$（罕见）\n  - 可探测性 $D_A = 7$（在后期审查前难以探测）\n\n- 风险B：方案修正案后的知情同意再次同意文件记录错误。\n  - 严重性 $S_B = 6$（中度影响，通常可纠正）\n  - 可能性 $L_B = 5$（偶有发生）\n  - 可探测性 $D_B = 3$（通过中央文件质量控制易于探测）\n\n质量与风险管理委员会正在考虑一种变换，通过将 $S$ 映射为 $S' = S^{\\alpha}$（对于某个指数 $\\alpha > 0$）来强调严重性，同时保持 $L$ 和 $D$ 不变。在此变换下，变换后的风险优先级数变为 $RPN' = S' \\times L \\times D = S^{\\alpha} \\times L \\times D$。\n\n从风险优先级数的定义和所述的严重性变换出发，推导当风险A和风险B的变换后优先级完全相等（即 $RPN'_A = RPN'_B$）时的 $\\alpha$ 值。运用乘法风险评分如何汇总序数维度的基本原理，解释为什么这种严重性标度变换会改变这两种风险之间的优先级排序。\n\n计算出 $\\alpha$ 关于给定量的精确表达式，然后进行数值计算，并报告将最终数值四舍五入到四位有效数字的 $\\alpha$ 值。$\\alpha$ 无需单位。",
            "solution": "该问题陈述经评估是有效的，因为它在科学上基于质量风险管理的原则（特别是失效模式与影响分析，FMEA），提法得当，数据充分且一致，并且表述客观。因此，我们可以进行形式化的求解。\n\n风险优先级数（$RPN$）由三个评级（严重性 $S$、可能性 $L$ 和可探测性 $D$）的乘积给出。\n$$RPN = S \\times L \\times D$$\n两个已识别风险（风险A和风险B）的评级如下：\n- 风险A: $S_A = 9$, $L_A = 2$, $D_A = 7$\n- 风险B: $S_B = 6$, $L_B = 5$, $D_B = 3$\n\n首先，我们计算每个风险的基线 $RPN$ 以建立初始优先级排序。\n对于风险A：\n$$RPN_A = S_A \\times L_A \\times D_A = 9 \\times 2 \\times 7 = 126$$\n对于风险B：\n$$RPN_B = S_B \\times L_B \\times D_B = 6 \\times 5 \\times 3 = 90$$\n由于 $RPN_A > RPN_B$，风险A具有较高的初始优先级。\n\n引入一种变换，将严重性分数 $S$ 重新加权为一个新的分数 $S' = S^{\\alpha}$，其中指数 $\\alpha > 0$。变换后的风险优先级数 $RPN'$ 定义为：\n$$RPN' = S' \\times L \\times D = S^{\\alpha} \\times L \\times D$$\n我们的任务是找到使风险A和风险B的变换后优先级完全相等的 $\\alpha$ 值。这个条件表示为：\n$$RPN'_A = RPN'_B$$\n代入 $RPN'$ 的定义：\n$$S_A^{\\alpha} \\times L_A \\times D_A = S_B^{\\alpha} \\times L_B \\times D_B$$\n为了解出 $\\alpha$，我们首先将涉及 $S$ 的项和其他项分开。我们整理方程以分离出以 $\\alpha$ 为幂的项：\n$$\\frac{S_A^{\\alpha}}{S_B^{\\alpha}} = \\frac{L_B \\times D_B}{L_A \\times D_A}$$\n这可以写成：\n$$\\left(\\frac{S_A}{S_B}\\right)^{\\alpha} = \\frac{L_B D_B}{L_A D_A}$$\n为了解出指数 $\\alpha$，我们对方程两边取自然对数（$\\ln$）：\n$$\\ln\\left(\\left(\\frac{S_A}{S_B}\\right)^{\\alpha}\\right) = \\ln\\left(\\frac{L_B D_B}{L_A D_A}\\right)$$\n利用对数性质 $\\ln(x^y) = y \\ln(x)$，我们得到：\n$$\\alpha \\ln\\left(\\frac{S_A}{S_B}\\right) = \\ln\\left(\\frac{L_B D_B}{L_A D_A}\\right)$$\n分离出 $\\alpha$ 得到精确的解析表达式：\n$$\\alpha = \\frac{\\ln\\left(\\frac{L_B D_B}{L_A D_A}\\right)}{\\ln\\left(\\frac{S_A}{S_B}\\right)}$$\n这是所要求的用给定量的形式表示的 $\\alpha$ 的表达式。\n\n这种严重性标度变换之所以能改变优先级排序，原因在于其对乘法分数的非线性效应。初始风险优先级由比率 $\\frac{RPN_A}{RPN_B}$ 决定。变换后，该比率变为 $\\frac{RPN'_A}{RPN'_B} = \\left(\\frac{S_A}{S_B}\\right)^{\\alpha} \\left(\\frac{L_A D_A}{L_B D_B}\\right)$。\n在本问题中，$S_A > S_B$（具体为 $\\frac{S_A}{S_B} = \\frac{9}{6} = 1.5 > 1$），而其他因子的乘积关系相反：$L_A D_A  L_B D_B$（具体为 $\\frac{L_A D_A}{L_B D_B} = \\frac{14}{15}  1$）。\n初始优先级排序中风险A更高，是由于严重性项的贡献大于可能性-可探测性组合项的贡献：$\\frac{S_A}{S_B}  \\frac{L_B D_B}{L_A D_A}$。\n当 $\\alpha  1$ 时，函数 $f(S) = S^\\alpha$ 对于较大的 $S$ 值增长更快，因此比率 $\\left(\\frac{S_A}{S_B}\\right)^\\alpha$ 变得比 $\\frac{S_A}{S_B}$ 更大。这将进一步提高风险A的优先级。\n相反，当 $0  \\alpha  1$ 时，函数 $f(S) = S^\\alpha$ 是凹函数，会压缩标度。比率 $\\left(\\frac{S_A}{S_B}\\right)^\\alpha$ 变得比 $\\frac{S_A}{S_B}$ 小。这削弱了较高严重性分数 $S_A$ 的主导地位。如果 $\\alpha$ 足够小，严重性项的影响可以被减弱到风险B的较大 $L \\times D$ 乘积决定整体优先级的程度，从而导致优先级反转。我们推导出的 $\\alpha$ 值是这些竞争因素达到完全平衡的临界点。\n\n现在，我们使用给定数据计算 $\\alpha$ 的数值：\n$$S_A = 9, \\quad S_B = 6$$\n$$L_A D_A = 2 \\times 7 = 14$$\n$$L_B D_B = 5 \\times 3 = 15$$\n将这些值代入 $\\alpha$ 的表达式中：\n$$\\alpha = \\frac{\\ln\\left(\\frac{15}{14}\\right)}{\\ln\\left(\\frac{9}{6}\\right)} = \\frac{\\ln\\left(\\frac{15}{14}\\right)}{\\ln(1.5)}$$\n现在，我们计算对数的数值：\n$$\\ln\\left(\\frac{15}{14}\\right) \\approx \\ln(1.07142857) \\approx 0.06899295...$$\n$$\\ln(1.5) \\approx 0.40546510...$$\n因此，$\\alpha$ 为：\n$$\\alpha \\approx \\frac{0.06899295}{0.40546510} \\approx 0.1701584$$\n按照问题陈述的要求，将此结果四舍五入至四位有效数字，我们得到：\n$$\\alpha \\approx 0.1702$$",
            "answer": "$$\\boxed{0.1702}$$"
        },
        {
            "introduction": "在识别风险并确定其优先级后，下一步是设计一个高效的监查计划。本实践  让您扮演试验管理者的角色，为源数据验证（SDV）设计分层抽样策略，教您如何计算在不同风险层级中以足够置信度发现错误的最小样本量。",
            "id": "5057624",
            "problem": "一家申办方正在一项多中心临床试验中实施基于风险的监查（RBM）。关键质量（CTQ）数据字段被分为三个风险等级：高、中、低。申办方将按风险等级使用分层抽样进行源数据验证（SDV），以确保在假设每个等级的真实错误率不低于其风险底线值的情况下，在每个等级中检测到至少一个错误的概率很高。在每个等级内，申办方将对CTQ字段进行简单随机抽样；每个等级内的总体足够大，因此抽样可以建模为用于错误检测的独立同分布伯努利试验。\n\n整个试验中每个等级的CTQ字段总数是：高风险等级 $N_{H} = 120{,}000$，中风险等级 $N_{M} = 300{,}000$，低风险等级 $N_{L} = 1{,}200{,}000$。需要防范的各等级特定最低真实错误率（风险底线）为 $p_{H} = 0.04$，$p_{M} = 0.02$ 和 $p_{L} = 0.005$。设计目标是：对于每个等级 $t \\in \\{H, M, L\\}$，选择一个样本量 $n_{t}$，使得当真实错误率为 $p_{t}$ 时，在该等级中检测到至少一个错误的概率至少为 $\\pi = 0.95$。\n\n从伯努利试验和分层抽样的第一性原理出发，推导在所述独立性模型下满足检测目标的每个等级的最小整数样本量 $n_{t}$。然后计算所有等级需要进行SDV的CTQ字段总数，$n_{H} + n_{M} + n_{L}$。将最终总数报告为CTQ字段的整数计数。不要四舍五入到指定的有效数字位数；相反，应使用恰好满足设计目标的最小整数。",
            "solution": "该问题要求在分层临床试验设置中计算源数据验证（SDV）的最小样本量，然后计算所有分层的总样本量。验证问题陈述是强制性的第一步。\n\n**问题验证**\n\n**步骤1：提取已知条件**\n- **背景**：在多中心临床试验中进行基于风险的监查（RBM）。\n- **分层**：数据字段被分为三个风险等级：高（H）、中（M）和低（L）。\n- **抽样模型**：每个等级内的抽样被建模为独立同分布的伯努利试验。题目陈述中提到总体数量足够大，为此提供了依据。\n- **总体数量**：$N_{H} = 120{,}000$，$N_{M} = 300{,}000$，$N_{L} = 1{,}200{,}000$。\n- **各等级特定风险底线（最低真实错误率）**：$p_{H} = 0.04$，$p_{M} = 0.02$，$p_{L} = 0.005$。\n- **设计目标**：对于每个等级 $t \\in \\{H, M, L\\}$，必须选择样本量 $n_{t}$，使得假设真实错误率为 $p_{t}$ 时，检测到至少一个错误的概率至少为 $\\pi = 0.95$。\n- **要求输出**：最小整数样本量 $n_H, n_M, n_L$ 及其总和 $n_{H} + n_{M} + n_{L}$。\n\n**步骤2：使用提取的已知条件进行验证**\n根据所需标准对问题进行评估：\n- **科学依据**：该问题在统计理论中有充分的依据，特别是在属性抽样的样本量确定方面。其在临床试验中基于风险的质量管理中的应用是转化医学和生物统计学中的一个标准和公认的做法。对于大总体，伯努利试验模型是一个合适的简化。\n- **适定性**：该问题是适定的。它提供了计算所需样本量（$n_t$）的所有必要参数（$p_t$, $\\pi$）。为每个等级找到*最小整数*样本量的目标确保了解决方案的唯一性和意义。\n- **客观性**：问题陈述没有主观或含糊的语言，提出了一个清晰的量化任务。\n- **一致性和完整性**：该问题提供了一套完整且一致的信息。大的总体数量（$N_t$）证明了使用更简单的伯努利模型的合理性，该模型不需要有限总体校正，因此 $N_t$ 值是背景信息，而非核心计算所必需的。\n\n**步骤3：结论和行动**\n问题陈述被认为是有效的。它具有科学合理性、适定性，并包含进行正式求解所需的所有必要信息。\n\n**求解推导**\n\n设 $t$ 代表一个等级，其中 $t \\in \\{H, M, L\\}$。对于每个等级，设 $n_t$ 为样本量，$p_t$ 为真实错误率。检查单个数据字段是否存在错误的过程是一次伯努利试验，其中成功定义为发现一个错误。单次试验的成功概率为 $p_t$。\n\n在单次试验中*未*发现错误的概率是 $(1 - p_t)$。由于抽样被建模为 $n_t$ 次独立同分布的试验，所以在大小为 $n_t$ 的整个样本中发现*没有*错误的概率是各个概率的乘积：\n$$ P(\\text{no errors in } n_t \\text{ trials}) = (1 - p_t)^{n_t} $$\n\n目标是确保检测到*至少一个*错误的概率至少为 $\\pi$。事件“至少一个错误”是事件“没有错误”的补集。因此，检测到至少一个错误的概率是：\n$$ P(\\text{at least one error}) = 1 - P(\\text{no errors in } n_t \\text{ trials}) = 1 - (1 - p_t)^{n_t} $$\n\n设计目标可以表示为以下不等式：\n$$ 1 - (1 - p_t)^{n_t} \\ge \\pi $$\n\n为了求得最小样本量 $n_t$，我们对这个不等式求解 $n_t$。\n首先，整理各项：\n$$ (1 - p_t)^{n_t} \\le 1 - \\pi $$\n\n为了从指数中分离出 $n_t$，我们对两边取自然对数。由于 $\\ln(x)$ 是一个对 $x  0$ 严格递增的函数，不等号的方向保持不变：\n$$ \\ln((1 - p_t)^{n_t}) \\le \\ln(1 - \\pi) $$\n$$ n_t \\ln(1 - p_t) \\le \\ln(1 - \\pi) $$\n\n现在，我们必须除以 $\\ln(1 - p_t)$。由于 $p_t  0$，我们有 $1 - p_t  1$，这意味着 $\\ln(1 - p_t)$ 是一个负数。不等式两边同时除以一个负数会改变不等号的方向：\n$$ n_t \\ge \\frac{\\ln(1 - \\pi)}{\\ln(1 - p_t)} $$\n\n由于样本量 $n_t$ 必须是整数，满足此条件的 $n_t$ 的最小整数值是右侧表达式的向上取整值。\n$$ n_t = \\left\\lceil \\frac{\\ln(1 - \\pi)}{\\ln(1 - p_t)} \\right\\rceil $$\n\n我们已知 $\\pi = 0.95$，所以 $1 - \\pi = 0.05$。公式变为：\n$$ n_t = \\left\\lceil \\frac{\\ln(0.05)}{\\ln(1 - p_t)} \\right\\rceil $$\n\n现在，我们使用指定的风险底线值 $p_t$ 将此公式应用于每个等级。\n\n**高风险等级 (H):**\n给定 $p_H = 0.04$。\n$$ n_H = \\left\\lceil \\frac{\\ln(0.05)}{\\ln(1 - 0.04)} \\right\\rceil = \\left\\lceil \\frac{\\ln(0.05)}{\\ln(0.96)} \\right\\rceil $$\n数值上，$\\ln(0.05) \\approx -2.99573$ 且 $\\ln(0.96) \\approx -0.04082$。\n$$ n_H = \\left\\lceil \\frac{-2.99573}{-0.04082} \\right\\rceil = \\lceil 73.385... \\rceil = 74 $$\n\n**中风险等级 (M):**\n给定 $p_M = 0.02$。\n$$ n_M = \\left\\lceil \\frac{\\ln(0.05)}{\\ln(1 - 0.02)} \\right\\rceil = \\left\\lceil \\frac{\\ln(0.05)}{\\ln(0.98)} \\right\\rceil $$\n数值上，$\\ln(0.98) \\approx -0.02020$。\n$$ n_M = \\left\\lceil \\frac{-2.99573}{-0.02020} \\right\\rceil = \\lceil 148.283... \\rceil = 149 $$\n\n**低风险等级 (L):**\n给定 $p_L = 0.005$。\n$$ n_L = \\left\\lceil \\frac{\\ln(0.05)}{\\ln(1 - 0.005)} \\right\\rceil = \\left\\lceil \\frac{\\ln(0.05)}{\\ln(0.995)} \\right\\rceil $$\n数值上，$\\ln(0.995) \\approx -0.0050125$。\n$$ n_L = \\left\\lceil \\frac{-2.99573}{-0.0050125} \\right\\rceil = \\lceil 597.649... \\rceil = 598 $$\n\n每个等级的最小整数样本量为 $n_H = 74$，$n_M = 149$ 和 $n_L = 598$。\n\n最后，所有等级需要进行SDV的CTQ字段总数是各个样本量之和：\n$$ n_{\\text{total}} = n_H + n_M + n_L $$\n$$ n_{\\text{total}} = 74 + 149 + 598 $$\n$$ n_{\\text{total}} = 223 + 598 = 821 $$\n\n需要进行SDV的总字段数为 $821$。",
            "answer": "$$\n\\boxed{821}\n$$"
        },
        {
            "introduction": "来自关键风险指标（KRI）的警报需要引起关注，但它预示着真实问题的实际概率是多大？这个问题  介绍了阳性预测值（PPV）这一关键概念，应用贝叶斯定理，根据指标的灵敏度、特异性和问题发生率来计算 KRI 警报在真实世界中的可靠性。",
            "id": "5057592",
            "problem": "某个申办方在一次多中心临床试验中实施了基于风险的监查（RBM），使用一个关键风险指标（KRI）。当研究中心级别的数据模式与可能影响数据完整性或患者安全的潜在不合规性一致时，该KRI会触发中心化警报。在针对经裁定的稽查结果对该KRI进行的验证研究中，其在研究中心级别的操作特性如下：灵敏度定义为当一个研究中心确实有问题时，触发KRI警报的概率；特异度定义为当一个研究中心没有问题时，不触发KRI警报的概率。阳性预测值（PPV）定义为在KRI警报触发的条件下，一个研究中心确实有问题的概率。\n\n假设在新试验中：\n- KRI的灵敏度为 $0.84$。\n- KRI的特异度为 $0.91$。\n- 一个研究中心确实有问题的先验概率（普遍率）是 $\\pi=0.12$。\n\n从灵敏度、特异度、普遍率的定义以及条件概率的贝叶斯定理出发，推导出用灵敏度、特异度和 $\\pi$ 表示阳性预测值（PPV）的表达式，然后用上述数值计算PPV。将最终数值答案四舍五入至四位有效数字。以小数形式表示答案（不要使用百分号）。",
            "solution": "该问题经验证具有科学依据、良定、客观且完整。所有必要的定义和数据均已提供，可用于根据已确立的概率论原理推导出唯一解。\n\n让我们如下定义事件：\n- $P$：一个研究中心确实有问题的事件。\n- $\\neg P$：一个研究中心没有问题的事件。\n- $A$：关键风险指标（KRI）触发警报的事件（阳性测试结果）。\n- $\\neg A$：KRI不触发警报的事件（阴性测试结果）。\n\n问题提供了以下信息，我们将其转化为条件概率的语言：\n1.  灵敏度（$Se$）是在研究中心有问题的情况下，KRI发出警报的概率。\n    $$Se = P(A | P) = 0.84$$\n2.  特异度（$Sp$）是在研究中心没有问题的情况下，KRI不发出警报的概率。\n    $$Sp = P(\\neg A | \\neg P) = 0.91$$\n3.  普遍率（$\\pi$）是一个研究中心有问题的先验概率。\n    $$\\pi = P(P) = 0.12$$\n\n目标是求出阳性预测值（PPV），它被定义为在KRI警报触发的条件下，一个研究中心确实有问题的概率。\n$$PPV = P(P | A)$$\n\n为推导PPV的表达式，我们使用贝叶斯定理：\n$$P(P | A) = \\frac{P(A | P) P(P)}{P(A)}$$\n\n分母中的项 $P(A)$ 是KRI警报的总概率。我们可以使用全概率公式，对互斥且穷尽的事件 $P$ 和 $\\neg P$求和来展开此项：\n$$P(A) = P(A | P) P(P) + P(A | \\neg P) P(\\neg P)$$\n\n我们需要用给定的量来表示项 $P(A | \\neg P)$ 和 $P(\\neg P)$。\n一个研究中心没有问题的概率是普遍率的补集：\n$$P(\\neg P) = 1 - P(P) = 1 - \\pi$$\n项 $P(A | \\neg P)$ 是在研究中心没有问题的情况下发出警报的概率。这是假阳性率。它是特异度 $P(\\neg A | \\neg P)$ 的补集：\n$$P(A | \\neg P) = 1 - P(\\neg A | \\neg P) = 1 - Sp$$\n\n将这些表达式代回到 $P(A)$ 的公式中：\n$$P(A) = P(A | P) P(P) + (1 - Sp) (1 - \\pi)$$\n使用符号表示 $Se$、$Sp$ 和 $\\pi$：\n$$P(A) = (Se)(\\pi) + (1 - Sp)(1 - \\pi)$$\n\n现在，我们可以将 $P(A)$ 的这个展开式代入贝叶斯定理，以得到PPV的完整表达式：\n$$PPV = \\frac{P(A | P) P(P)}{P(A | P) P(P) + (1 - Sp)(1 - \\pi)}$$\n用 $Se$、$Sp$ 和 $\\pi$ 表示，推导出的表达式为：\n$$PPV = \\frac{(Se)(\\pi)}{(Se)(\\pi) + (1 - Sp)(1 - \\pi)}$$\n\n现在，我们将给定的数值代入这个表达式：\n$Se = 0.84$\n$Sp = 0.91$\n$\\pi = 0.12$\n\n首先，我们计算分子：\n$$(Se)(\\pi) = (0.84)(0.12) = 0.1008$$\n\n接下来，我们计算分母中的各项。第一项与分子相同。第二项是：\n$$(1 - Sp)(1 - \\pi) = (1 - 0.91)(1 - 0.12) = (0.09)(0.88) = 0.0792$$\n\n分母是这两项的和：\n$$P(A) = 0.1008 + 0.0792 = 0.1800$$\n\n最后，我们计算PPV：\n$$PPV = \\frac{0.1008}{0.1800} = 0.56$$\n\n问题要求答案四舍五入到四位有效数字。计算值恰好是 $0.56$。为了用四位有效数字表示，我们写作 $0.5600$。",
            "answer": "$$\\boxed{0.5600}$$"
        }
    ]
}