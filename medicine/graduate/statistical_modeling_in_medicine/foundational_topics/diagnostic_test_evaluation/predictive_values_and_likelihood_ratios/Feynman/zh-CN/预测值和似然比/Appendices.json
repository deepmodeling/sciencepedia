{
    "hands_on_practices": [
        {
            "introduction": "本练习旨在巩固使用贝叶斯定理进行信念更新的核心机制。我们将通过一个实际的临床场景，练习在概率 (probability) 和几率 (odds) 之间进行转换，并应用似然比 (Likelihood Ratio) 来更新我们对疾病可能性的判断。掌握这种方法不仅能加深对贝叶斯推理的理解，还能在实际应用中提供一种比直接使用概率更直观的计算途径。",
            "id": "4557324",
            "problem": "一家社区预防医学诊所正在试行一项针对某种潜伏性传染病的基于风险的筛查项目。对于高风险层中的个体，患有该病的先验概率为 $p=0.10$。筛查检测返回单个阳性结果，验证研究表明阳性检测的似然比 ($LR^{+}$) 为 $8$。请仅使用概率、几率、似然比和贝叶斯定理的核心定义，将先验概率 $p$ 转换为先验几率 $\\frac{p}{1-p}$，使用 $LR^{+}$ 更新得到后验几率，然后将其转换回单次阳性检测后的后验概率。请明确展示每个转换步骤。将最终的后验概率表示为小数，并四舍五入到四位有效数字。",
            "solution": "在尝试解答之前，对问题进行验证。\n\n### 步骤1：提取已知条件\n- 患病的先验概率：$p=0.10$。\n- 筛查检测结果：单个阳性结果。\n- 阳性检测的似然比：$LR^{+} = 8$。\n- 任务是计算阳性检测后的后验概率，方法是首先将先验概率转换为先验几率，然后使用似然比更新为后验几率，最后将后验几率转换回后验概率。最终答案必须是四舍五入到四位有效数字的小数。\n\n### 步骤2：使用提取的已知条件进行验证\n根据指定标准对问题进行评估：\n- **科学基础**：该问题使用了流行病学和生物统计学中经过验证的核心概念，即先验概率、几率、似然比和贝叶斯更新。这些是在临床和预防医学中解释诊断检测结果的标准工具。给定值（$p=0.10$，$LR^{+}=8$）对于应用于高风险人群的中等质量检测是切合实际的。该问题具有科学合理性。\n- **适定性**：所有必要信息均已提供。概率、几率和似然比之间的关系定义明确。指令清晰，能导出一个唯一、稳定的解。该问题是适定的。\n- **客观性**：语言精确且量化，没有任何主观或模糊的术语。\n\n### 步骤3：结论与行动\n该问题有效。这是贝叶斯原理在医学背景下的直接应用。将提供完整的解答。\n\n解答过程遵循问题陈述中概述的步骤。设 $D$ 为个体患有该病的事件，设 $T^{+}$ 为检测结果为阳性的事件。\n\n给定条件的先验概率为 $P(D) = p = 0.10$。\n\n**步骤1：将先验概率转换为先验几率。**\n\n概率 $P$ 和几率 $O$ 之间的关系定义为 $O = \\frac{P}{1-P}$。\n患病的先验几率 $O_{\\text{prior}}$ 是根据先验概率 $p$ 计算的：\n$$\nO_{\\text{prior}} = \\frac{p}{1-p}\n$$\n代入给定值 $p=0.10$：\n$$\nO_{\\text{prior}} = \\frac{0.10}{1 - 0.10} = \\frac{0.10}{0.90} = \\frac{1}{9}\n$$\n\n**步骤2：使用 $LR^{+}$ 更新得到后验几率。**\n\n贝叶斯定理可以用几率和似然比来表示。后验几率是先验几率与相关似然比的乘积。对于阳性检测结果（$T^{+}$），我们使用阳性似然比 $LR^{+}$。\n$$\n\\text{后验几率} = \\text{先验几率} \\times \\text{似然比}\n$$\n在我们的符号表示中，这是：\n$$\nO_{\\text{post}} = O_{\\text{prior}} \\times LR^{+}\n$$\n这里，$O_{\\text{post}}$ 表示在给定阳性检测结果下患病的几率，即 $O(D|T^{+})$。\n代入 $O_{\\text{prior}}$ 和 $LR^{+}$ 的值：\n$$\nO_{\\text{post}} = \\frac{1}{9} \\times 8 = \\frac{8}{9}\n$$\n\n**步骤3：将后验几率转换回后验概率。**\n\n将几率 $O$ 转换回概率 $P$ 的关系是 $P = \\frac{O}{1+O}$。\n后验概率 $P_{\\text{post}}$ 是在给定阳性检测结果下患病的概率，即 $P(D|T^{+})$。它是根据后验几率 $O_{\\text{post}}$ 计算的：\n$$\nP_{\\text{post}} = \\frac{O_{\\text{post}}}{1 + O_{\\text{post}}}\n$$\n代入 $O_{\\text{post}}$ 的值：\n$$\nP_{\\text{post}} = \\frac{\\frac{8}{9}}{1 + \\frac{8}{9}} = \\frac{\\frac{8}{9}}{\\frac{9}{9} + \\frac{8}{9}} = \\frac{\\frac{8}{9}}{\\frac{17}{9}} = \\frac{8}{17}\n$$\n\n**最终计算与四舍五入**\n\n问题要求最终答案表示为四舍五入到四位有效数字的小数。\n$$\nP_{\\text{post}} = \\frac{8}{17} \\approx 0.470588235...\n$$\n四舍五入到四位有效数字得到：\n$$\nP_{\\text{post}} \\approx 0.4706\n$$\n该值表示个体在收到单次阳性检测结果后患有该潜伏性疾病的更新概率。",
            "answer": "$$\n\\boxed{0.4706}\n$$"
        },
        {
            "introduction": "这项练习将揭示一个在公共卫生和医学筛查中至关重要的原则，它有时看起来有悖常理。即使一个诊断检测具有极高的灵敏度和特异度，当它被应用于筛查罕见疾病时，其阳性预测值（PPV）也可能出人意料地低。通过这个具体案例，我们将量化基础概率（即患病率）对检测结果解读的巨大影响，从而深刻理解为什么许多阳性结果可能是假阳性。",
            "id": "4557306",
            "problem": "一个预防性筛查项目正考虑为一种罕见病引入一种新的实验室检测方法。该检测的灵敏度（在患有该疾病的情况下检测结果呈阳性的概率）为 $Se=0.99$，特异度（在未患有该疾病的情况下检测结果呈阴性的概率）为 $Sp=0.99$。在筛查人群中，该疾病的患病率为 $p=0.001$。请仅根据灵敏度、特异度、患病率的核心定义以及全概率定律，推导在检测结果为阳性的情况下个体患有该疾病的概率，并将其表示为阳性预测值（PPV）。然后，为了在公共卫生的背景下解释这个值，请设想在一次筛查活动中对 $N=10^{6}$ 名个体进行筛查，并使用相同的参数计算真阳性和假阳性的期望数量，以解释为什么尽管检测的准确性很高，但许多阳性结果却是错误的。\n\n您最终报告的答案必须是阳性预测值 $PPV$ 的单个数值，以小数形式表示。请将您的答案四舍五入至四位有效数字。",
            "solution": "该问题被认为是有效的，因为它科学地基于生物统计学和流行病学的原理，数学上是适定的且内容自洽，并使用了客观、无歧义的语言。\n\n让我们定义以下事件：\n$D$: 个体患有该疾病的事件。\n$D^c$: 个体未患有该疾病的事件。\n$T^+$: 检测结果为阳性的事件。\n$T^-$: 检测结果为阴性的事件。\n\n问题根据患病率、灵敏度和特异度的定义，提供了以下概率：\n疾病的患病率为 $p = P(D) = 0.001$。\n因此，未患病的概率为 $P(D^c) = 1 - P(D) = 1 - p = 1 - 0.001 = 0.999$。\n该检测的灵敏度为 $Se = P(T^+|D) = 0.99$。这是指在个体患有该疾病的情况下，检测结果为阳性的概率。\n该检测的特异度为 $Sp = P(T^-|D^c) = 0.99$。这是指在个体未患有该疾病的情况下，检测结果为阴性的概率。\n\n根据特异度的定义，我们可以确定假阳性率，即在个体未患有该疾病的情况下，检测结果为阳性的概率：\n$$P(T^+|D^c) = 1 - P(T^-|D^c) = 1 - Sp = 1 - 0.99 = 0.01$$\n\n主要目标是推导阳性预测值（PPV），即在检测结果为阳性的情况下个体患有该疾病的概率，记为 $P(D|T^+)$。我们从条件概率的定义开始，这也是贝叶斯定理的一种形式：\n$$PPV = P(D|T^+) = \\frac{P(D \\cap T^+)}{P(T^+)}$$\n分子 $P(D \\cap T^+)$ 是患病且检测结果为阳性的联合概率。它可以用灵敏度的定义来表示：\n$$P(T^+|D) = \\frac{P(D \\cap T^+)}{P(D)} \\implies P(D \\cap T^+) = P(T^+|D) \\cdot P(D) = Se \\cdot p$$\n分母 $P(T^+)$ 是收到阳性检测结果的总概率。我们可以使用全概率定律，将阳性检测的概率在患病人群（$D$）和未患病人群（$D^c$）这两个划分上求和来得到：\n$$P(T^+) = P(T^+|D)P(D) + P(T^+|D^c)P(D^c)$$\n代入已知项：\n$$P(T^+) = (Se \\cdot p) + ((1 - Sp) \\cdot (1 - p))$$\n现在，我们可以组合出 PPV 的完整表达式：\n$$PPV = P(D|T^+) = \\frac{Se \\cdot p}{Se \\cdot p + (1 - Sp)(1 - p)}$$\n这个表达式完全是由所提供的定义和全概率定律推导出来的。\n\n现在我们代入给定的数值：$Se=0.99$，$Sp=0.99$ 和 $p=0.001$。\n$$PPV = \\frac{0.99 \\times 0.001}{0.99 \\times 0.001 + (1 - 0.99) \\times (1 - 0.001)}$$\n$$PPV = \\frac{0.00099}{0.00099 + (0.01) \\times (0.999)}$$\n$$PPV = \\frac{0.00099}{0.00099 + 0.00999}$$\n$$PPV = \\frac{0.00099}{0.01098} \\approx 0.09016393...$$\n\n为了在公共卫生的背景下解释这个结果，我们考虑对一个 $N=10^6$ 人的群体进行筛查。\n患病个体的期望数量是：\n$$E[\\text{Diseased}] = N \\times p = 10^6 \\times 0.001 = 1000$$\n未患病个体的期望数量是：\n$$E[\\text{Not Diseased}] = N \\times (1 - p) = 10^6 \\times 0.999 = 999000$$\n真阳性（TP）的期望数量，即检测结果为阳性的患病个体，是：\n$$E[TP] = E[\\text{Diseased}] \\times Se = 1000 \\times 0.99 = 990$$\n假阳性（FP）的期望数量，即检测结果为阳性的无病个体，是：\n$$E[FP] = E[\\text{Not Diseased}] \\times (1 - Sp) = 999000 \\times 0.01 = 9990$$\n阳性检测结果的总期望数量是真阳性和假阳性的总和：\n$$E[\\text{Total Positives}] = E[TP] + E[FP] = 990 + 9990 = 10980$$\nPPV 可以通过真阳性与总阳性的比率来独立验证：\n$$PPV = \\frac{E[TP]}{E[\\text{Total Positives}]} = \\frac{990}{10980} \\approx 0.09016$$\n这证实了我们的计算。解释现在很清楚了：尽管检测的准确度很高（$99\\%$的灵敏度和$99\\%$的特异度），假阳性的数量（$9990$）是真阳性数量（$990$）的十倍还多。这种情况的发生是因为该疾病非常罕见（$p=0.001$），所以即使是很小的假阳性率（$1\\%$）应用到极其庞大的健康人群上，也会产生绝对数量很大的假警报。相比之下，高灵敏度是应用于一个非常小的患病人群。因此，对于任何一个收到阳性检测结果的个体来说，他们实际患病的概率仅约为$9\\%$。\n\n问题要求将PPV的数值四舍五入到四位有效数字。\n$PPV \\approx 0.09016$",
            "answer": "$$\\boxed{0.09016}$$"
        },
        {
            "introduction": "这个高级实践案例旨在探讨数据分析中的一个常见陷阱：辛普森悖论 (Simpson's paradox)。我们将分析一个场景，其中一个诊断检测在每个亚组（或分层）中都表现更优，但总体汇总数据却得出了完全相反的结论。通过解决这个问题，您将学会识别和解释混杂变量（如患者风险分层）如何扭曲我们对检测性能的评估，并强调在比较干预效果时进行分层分析的必要性。",
            "id": "4940462",
            "problem": "一家医院考虑对一种二元性疾病使用两种诊断检测，检测 $A$ 和检测 $B$。根据基线风险定义了两个具有临床意义的分层：低风险层 $L$ 的疾病患病率为 $p_{L} = 0.02$，高风险层 $H$ 的疾病患病率为 $p_{H} = 0.20$。假设检测性能在不同分层中保持不变。\n\n- 检测 $A$ 的灵敏度为 $\\text{se}_{A} = 0.95$，特异度为 $\\text{sp}_{A} = 0.98$。\n- 检测 $B$ 的灵敏度为 $\\text{se}_{B} = 0.90$，特异度为 $\\text{sp}_{B} = 0.95$。\n\n医院的部署策略在不同分层中是不对称的：\n- 在分层 $L$ 中，对 $9000$ 人进行检测 $A$，对 $1000$ 人进行检测 $B$。\n- 在分层 $H$ 中，对 $1000$ 人进行检测 $A$，对 $9000$ 人进行检测 $B$。\n\n仅使用基本定义——灵敏度 $\\text{se} = P(T^{+}\\mid D)$，特异度 $\\text{sp} = P(T^{-}\\mid \\neg D)$，阳性似然比 (LR$^{+}$) 定义为 $\\text{LR}^{+} = P(T^{+}\\mid D)/P(T^{+}\\mid \\neg D)$，以及阳性预测值 (PPV) 定义为 $P(D\\mid T^{+})$——完成以下任务：\n\n1. 对每个分层 $s \\in \\{L,H\\}$，计算阳性预测值 $\\text{PPV}_{A,s}$ 和 $\\text{PPV}_{B,s}$，并确定在该分层内哪个检测的值更大。简要解释 $\\text{LR}^{+}$ 在此分层内比较中的作用。\n2. 汇总各分层的数据，计算每个检测的总阳性预测值 $\\text{PPV}_{A,\\text{overall}}$ 和 $\\text{PPV}_{B,\\text{overall}}$。总阳性预测值定义为，对应用该检测的所有个体，预期真阳性总数与预期阳性检测结果总数的比值。\n3. 计算数值差异 $D = \\text{PPV}_{B,\\text{overall}} - \\text{PPV}_{A,\\text{overall}}$。\n\n将 $D$ 的最终答案四舍五入到四位有效数字。以小数形式表示最终答案，不要带百分号。",
            "solution": "首先将验证该问题的科学合理性、适定性和客观性。\n\n### 步骤1：提取已知条件\n- 分层：低风险 ($L$)，高风险 ($H$)。\n- 分层中的疾病患病率：$p_{L} = P(D \\mid L) = 0.02$；$p_{H} = P(D \\mid H) = 0.20$。\n- 检测A性能：灵敏度 $\\text{se}_{A} = 0.95$，特异度 $\\text{sp}_{A} = 0.98$。\n- 检测B性能：灵敏度 $\\text{se}_{B} = 0.90$，特异度 $\\text{sp}_{B} = 0.95$。\n- 检测性能在各分层中保持不变。\n- 在分层 $L$ 中的部署：对 $N_{A,L} = 9000$ 人进行检测 $A$，对 $N_{B,L} = 1000$ 人进行检测 $B$。\n- 在分层 $H$ 中的部署：对 $N_{A,H} = 1000$ 人进行检测 $A$，对 $N_{B,H} = 9000$ 人进行检测 $B$。\n- 基本定义：\n  - 灵敏度: $\\text{se} = P(T^{+}\\mid D)$\n  - 特异度: $\\text{sp} = P(T^{-}\\mid \\neg D)$\n  - 阳性似然比: $\\text{LR}^{+} = \\frac{P(T^{+}\\mid D)}{P(T^{+}\\mid \\neg D)}$\n  - 阳性预测值: $\\text{PPV} = P(D\\mid T^{+})$\n- 要求计算：\n  1. 对 $s \\in \\{L,H\\}$ 计算 $\\text{PPV}_{A,s}$ 和 $\\text{PPV}_{B,s}$，进行比较，并解释 $\\text{LR}^{+}$ 的作用。\n  2. 总阳性预测值 $\\text{PPV}_{A,\\text{overall}}$ 和 $\\text{PPV}_{B,\\text{overall}}$。\n  3. 差异 $D = \\text{PPV}_{B,\\text{overall}} - \\text{PPV}_{A,\\text{overall}}$，四舍五入到四位有效数字。\n\n### 步骤2：使用提取的已知条件进行验证\n- **科学依据**：该问题很好地基于生物统计学和诊断检测评估的原理。所有术语（灵敏度、特异度、PPV、LR+、患病率）都是标准术语，且数值是现实的。\n- **适定性**：该问题是适定的。它提供了计算所需量所需的所有必要数据（患病率、检测特征、人群规模）。目标定义清晰。\n- **客观性**：问题陈述是定量的，没有主观或含糊不清的语言。\n- **不完整或矛盾的设置**：该问题是完整的且自洽的。没有缺失的数据点或内部矛盾。\n- **不现实或不可行**：该场景虽然是为了说明一个特定的统计学观点而构建的，但在科学上并非不可信。给定的值在诊断检测和人群分层的现实范围内。\n\n### 步骤3：结论与行动\n该问题是有效的。将提供完整的解答。\n\n### 解答\n\n阳性预测值 (PPV) 是指检测结果为阳性的受试者确实患有该疾病的概率，即 $P(D \\mid T^{+})$。使用贝叶斯定理，我们可以用灵敏度 ($\\text{se}$)、特异度 ($\\text{sp}$) 和患病率 ($p$) 来表示 PPV：\n$$ \\text{PPV} = P(D \\mid T^{+}) = \\frac{P(T^{+} \\mid D) P(D)}{P(T^{+})} $$\n根据全概率定律，分母为 $P(T^{+}) = P(T^{+} \\mid D)P(D) + P(T^{+} \\mid \\neg D)P(\\neg D)$。\n我们已知 $\\text{se} = P(T^{+} \\mid D)$ 和 $\\text{sp} = P(T^{-} \\mid \\neg D)$，由此可得 $P(T^{+} \\mid \\neg D) = 1 - P(T^{-} \\mid \\neg D) = 1 - \\text{sp}$。使用患病率 $p = P(D)$ 和 $P(\\neg D) = 1-p$，PPV 的公式变为：\n$$ \\text{PPV} = \\frac{\\text{se} \\cdot p}{\\text{se} \\cdot p + (1-\\text{sp})(1-p)} $$\n\n**第1部分：特定分层的PPV和LR$^{+}$的作用**\n\n首先，我们计算每个检测的阳性似然比 ($\\text{LR}^{+}$)。其定义为 $\\text{LR}^{+} = \\frac{P(T^{+}\\mid D)}{P(T^{+}\\mid \\neg D)} = \\frac{\\text{se}}{1-\\text{sp}}$。\n对于检测 $A$：\n$$ \\text{LR}^{+}_{A} = \\frac{\\text{se}_{A}}{1-\\text{sp}_{A}} = \\frac{0.95}{1 - 0.98} = \\frac{0.95}{0.02} = 47.5 $$\n对于检测 $B$：\n$$ \\text{LR}^{+}_{B} = \\frac{\\text{se}_{B}}{1-\\text{sp}_{B}} = \\frac{0.90}{1 - 0.95} = \\frac{0.90}{0.05} = 18 $$\n$\\text{LR}^{+}$ 的作用是量化一个阳性检测结果在多大程度上增加了患病的优势比（odds）。其关系式为：验后优势比 = 验前优势比 $\\times \\text{LR}^{+}$。由于在任何给定的分层内，验前优势比（$\\frac{p}{1-p}$）是固定的，因此 $\\text{LR}^{+}$ 较高的检测将始终产生较高的验后优势比，从而产生较高的PPV。由于 $\\text{LR}^{+}_{A} > \\text{LR}^{+}_{B}$，检测 $A$ 在确认疾病存在方面的能力更优，并且在任何分层中，假设检测特性不变，其PPV都会高于检测 $B$。\n\n现在，我们计算特定分层的PPV。\n\n对于分层 $L$ (患病率 $p_{L} = 0.02$)：\n$$ \\text{PPV}_{A,L} = \\frac{0.95 \\cdot 0.02}{0.95 \\cdot 0.02 + (1-0.98)(1-0.02)} = \\frac{0.019}{0.019 + (0.02)(0.98)} = \\frac{0.019}{0.019 + 0.0196} = \\frac{0.019}{0.0386} \\approx 0.4922 $$\n$$ \\text{PPV}_{B,L} = \\frac{0.90 \\cdot 0.02}{0.90 \\cdot 0.02 + (1-0.95)(1-0.02)} = \\frac{0.018}{0.018 + (0.05)(0.98)} = \\frac{0.018}{0.018 + 0.049} = \\frac{0.018}{0.067} \\approx 0.2687 $$\n正如预测的，$\\text{PPV}_{A,L} > \\text{PPV}_{B,L}$。\n\n对于分层 $H$ (患病率 $p_{H} = 0.20$)：\n$$ \\text{PPV}_{A,H} = \\frac{0.95 \\cdot 0.20}{0.95 \\cdot 0.20 + (1-0.98)(1-0.20)} = \\frac{0.19}{0.19 + (0.02)(0.80)} = \\frac{0.19}{0.19 + 0.016} = \\frac{0.19}{0.206} \\approx 0.9223 $$\n$$ \\text{PPV}_{B,H} = \\frac{0.90 \\cdot 0.20}{0.90 \\cdot 0.20 + (1-0.95)(1-0.20)} = \\frac{0.18}{0.18 + (0.05)(0.80)} = \\frac{0.18}{0.18 + 0.04} = \\frac{0.18}{0.22} \\approx 0.8182 $$\n同样，正如预测的，$\\text{PPV}_{A,H} > \\text{PPV}_{B,H}$。\n\n**第2部分：总阳性预测值**\n\n总PPV是预期真阳性总数与预期阳性检测结果总数的比值。\n真阳性总数 = $\\sum_{s} N_{s} \\cdot p_{s} \\cdot \\text{se}$\n假阳性总数 = $\\sum_{s} N_{s} \\cdot (1-p_{s}) \\cdot (1-\\text{sp})$\n总PPV = $\\frac{\\text{真阳性总数}}{\\text{真阳性总数} + \\text{假阳性总数}}$\n\n对于检测 $A$，该检测在分层 $L$ 中对 $N_{A,L}=9000$ 人进行，在分层 $H$ 中对 $N_{A,H}=1000$ 人进行：\n检测 $A$ 的真阳性总数：\n$$ \\text{TP}_{A,\\text{overall}} = (N_{A,L} \\cdot p_{L} \\cdot \\text{se}_{A}) + (N_{A,H} \\cdot p_{H} \\cdot \\text{se}_{A}) = (9000 \\cdot 0.02 \\cdot 0.95) + (1000 \\cdot 0.20 \\cdot 0.95) $$\n$$ \\text{TP}_{A,\\text{overall}} = 171 + 190 = 361 $$\n检测 $A$ 的假阳性总数：\n$$ \\text{FP}_{A,\\text{overall}} = (N_{A,L} \\cdot (1-p_{L}) \\cdot (1-\\text{sp}_{A})) + (N_{A,H} \\cdot (1-p_{H}) \\cdot (1-\\text{sp}_{A})) $$\n$$ \\text{FP}_{A,\\text{overall}} = (9000 \\cdot 0.98 \\cdot 0.02) + (1000 \\cdot 0.80 \\cdot 0.02) = 176.4 + 16 = 192.4 $$\n检测 $A$ 的总PPV：\n$$ \\text{PPV}_{A,\\text{overall}} = \\frac{\\text{TP}_{A,\\text{overall}}}{\\text{TP}_{A,\\text{overall}} + \\text{FP}_{A,\\text{overall}}} = \\frac{361}{361 + 192.4} = \\frac{361}{553.4} \\approx 0.65231297 $$\n\n对于检测 $B$，该检测在分层 $L$ 中对 $N_{B,L}=1000$ 人进行，在分层 $H$ 中对 $N_{B,H}=9000$ 人进行：\n检测 $B$ 的真阳性总数：\n$$ \\text{TP}_{B,\\text{overall}} = (N_{B,L} \\cdot p_{L} \\cdot \\text{se}_{B}) + (N_{B,H} \\cdot p_{H} \\cdot \\text{se}_{B}) = (1000 \\cdot 0.02 \\cdot 0.90) + (9000 \\cdot 0.20 \\cdot 0.90) $$\n$$ \\text{TP}_{B,\\text{overall}} = 18 + 1620 = 1638 $$\n检测 $B$ 的假阳性总数：\n$$ \\text{FP}_{B,\\text{overall}} = (N_{B,L} \\cdot (1-p_{L}) \\cdot (1-\\text{sp}_{B})) + (N_{B,H} \\cdot (1-p_{H}) \\cdot (1-\\text{sp}_{B})) $$\n$$ \\text{FP}_{B,\\text{overall}} = (1000 \\cdot 0.98 \\cdot 0.05) + (9000 \\cdot 0.80 \\cdot 0.05) = 49 + 360 = 409 $$\n检测 $B$ 的总PPV：\n$$ \\text{PPV}_{B,\\text{overall}} = \\frac{\\text{TP}_{B,\\text{overall}}}{\\text{TP}_{B,\\text{overall}} + \\text{FP}_{B,\\text{overall}}} = \\frac{1638}{1638 + 409} = \\frac{1638}{2047} \\approx 0.80019541 $$\n\n**第3部分：计算差异**\n\n数值差异 $D$ 计算如下：\n$$ D = \\text{PPV}_{B,\\text{overall}} - \\text{PPV}_{A,\\text{overall}} $$\n$$ D \\approx 0.80019541 - 0.65231297 = 0.14788244 $$\n四舍五入到四位有效数字，我们得到 $D \\approx 0.1479$。这展示了一种形式的辛普森悖论：尽管在每个分层内，检测 $A$ 都优于检测 $B$，但由于部署策略的混杂效应，汇总结果却表明相反的情况。在这种策略下，“较差的”检测（检测 $B$）被不成比例地用于更容易诊断的高风险人群。",
            "answer": "$$\n\\boxed{0.1479}\n$$"
        }
    ]
}