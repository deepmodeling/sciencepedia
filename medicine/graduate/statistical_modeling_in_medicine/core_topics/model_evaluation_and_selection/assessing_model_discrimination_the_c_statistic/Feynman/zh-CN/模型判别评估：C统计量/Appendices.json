{
    "hands_on_practices": [
        {
            "introduction": "本次练习旨在将 C-统计量的概念建立在其基本定义之上。通过手动从一个包含病例和对照组预测概率的小数据集中计算该统计量，您将对一致性、不一致性以及平局的作用获得直观的理解。在深入探讨更抽象的性质之前，这项动手计算有助于揭示该指标的内在机制。",
            "id": "4952017",
            "problem": "一个用于脓毒症患者$30$天全因死亡率的临床预测模型被开发出来，并在一个样本外验证队列上进行了评估。该模型为每位患者输出预测概率。为了通过一致性统计量（也称为受试者工作特征曲线下面积，其中受试者工作特征（ROC）是全称）来评估模型的区分度，我们关注一个由$n_{1}=5$名观测到的死亡病例（病例）和$n_{0}=6$名存活者（对照）组成的患者子集。病例的预测概率为$0.82$、$0.61$、$0.34$、$0.77$和$0.50$。对照的预测概率为$0.40$、$0.61$、$0.29$、$0.73$、$0.50$和$0.15$。\n\n假设遵循以下原则：\n- 患者被独立抽样和评分，模型产生在$[0,1]$范围内的有效概率分数，可用于排序。\n- 一致性统计量被解释为：一个随机选择的病例比一个随机选择的对照具有严格更高的预测概率的概率，其中病例和对照之间的完全相等情况对称地贡献。\n\n通过显式地枚举所有病例-对照对，并评估每一对是一致、不一致还是相等，来计算该子集的一致性统计量。将最终值以$[0,1]$范围内的小数形式报告，并四舍五入到四位有效数字。",
            "solution": "该问题要求针对一组给定的病例和对照的预测概率，计算一致性统计量（c-统计量），也称为受试者工作特征曲线下面积（AUC）。\n\n首先，我们确定所提供的数据。\n病例（死亡）数量为 $n_{1} = 5$。\n对照（存活者）数量为 $n_{0} = 6$。\n病例的预测概率集合为 $P_{1} = \\{0.82, 0.61, 0.34, 0.77, 0.50\\}$。\n对照的预测概率集合为 $P_{0} = \\{0.40, 0.61, 0.29, 0.73, 0.50, 0.15\\}$。\n\nc-统计量定义为随机选择的一个病例比随机选择的一个对照具有更高预测概率的概率。当出现相等情况时，将进行对称处理。这意味着每个相等的对子对“有利”结果的计数贡献$0.5$。\n\n可能的病例-对照对的总数是病例数和对照数的乘积：\n$$ N_{\\text{total}} = n_{1} \\times n_{0} = 5 \\times 6 = 30 $$\n\nc-统计量的公式为：\n$$ C = \\frac{N_{C} + (0.5 \\times N_{T})}{N_{\\text{total}}} $$\n其中 $N_{C}$ 是一致对（病例概率严格大于对照概率）的数量，$N_{T}$ 是相等对（病例概率等于对照概率）的数量。\n\n为了找到 $N_{C}$ 和 $N_{T}$，我们必须系统地将$5$个病例概率中的每一个与$6$个对照概率中的每一个进行比较。\n\n让我们将病例概率表示为 $p_{\\text{case}}$，对照概率表示为 $p_{\\text{control}}$。一对是：\n- 如果 $p_{\\text{case}}  p_{\\text{control}}$，则为一致对。\n- 如果 $p_{\\text{case}} = p_{\\text{control}}$，则为相等对。\n- 如果 $p_{\\text{case}}  p_{\\text{control}}$，则为不一致对。\n\n我们将为每个病例枚举比较：\n\n1.  对于病例概率 $p_{\\text{case}} = 0.82$：\n    - vs $0.40$ (一致)\n    - vs $0.61$ (一致)\n    - vs $0.29$ (一致)\n    - vs $0.73$ (一致)\n    - vs $0.50$ (一致)\n    - vs $0.15$ (一致)\n    这个病例贡献了$6$个一致对和$0$个相等对。\n\n2.  对于病例概率 $p_{\\text{case}} = 0.61$：\n    - vs $0.40$ (一致)\n    - vs $0.61$ (相等)\n    - vs $0.29$ (一致)\n    - vs $0.73$ (不一致)\n    - vs $0.50$ (一致)\n    - vs $0.15$ (一致)\n    这个病例贡献了$4$个一致对和$1$个相等对。\n\n3.  对于病例概率 $p_{\\text{case}} = 0.34$：\n    - vs $0.40$ (不一致)\n    - vs $0.61$ (不一致)\n    - vs $0.29$ (一致)\n    - vs $0.73$ (不一致)\n    - vs $0.50$ (不一致)\n    - vs $0.15$ (一致)\n    这个病例贡献了$2$个一致对和$0$个相等对。\n\n4.  对于病例概率 $p_{\\text{case}} = 0.77$：\n    - vs $0.40$ (一致)\n    - vs $0.61$ (一致)\n    - vs $0.29$ (一致)\n    - vs $0.73$ (一致)\n    - vs $0.50$ (一致)\n    - vs $0.15$ (一致)\n    这个病例贡献了$6$个一致对和$0$个相等对。\n\n5.  对于病例概率 $p_{\\text{case}} = 0.50$：\n    - vs $0.40$ (一致)\n    - vs $0.61$ (不一致)\n    - vs $0.29$ (一致)\n    - vs $0.73$ (不一致)\n    - vs $0.50$ (相等)\n    - vs $0.15$ (一致)\n    这个病例贡献了$3$个一致对和$1$个相等对。\n\n现在，我们将所有比较的计数相加：\n一致对的总数，$N_{C} = 6 + 4 + 2 + 6 + 3 = 21$。\n相等对的总数，$N_{T} = 0 + 1 + 0 + 0 + 1 = 2$。\n\n不一致对的数量是 $30 - 21 - 2 = 7$，这是一个有用的检查，但公式并不直接需要它。\n\n我们现在可以将这些值代入c-统计量的公式中：\n$$ C = \\frac{21 + (0.5 \\times 2)}{30} $$\n$$ C = \\frac{21 + 1}{30} $$\n$$ C = \\frac{22}{30} $$\n$$ C = \\frac{11}{15} $$\n\n为了以四舍五入到四位有效数字的小数形式提供答案，我们进行除法运算：\n$$ C = 0.733333... $$\n四舍五入到四位有效数字得到$0.7333$。",
            "answer": "$$\n\\boxed{0.7333}\n$$"
        },
        {
            "introduction": "较高的 C-统计量固然是理想目标，但它仅反映了模型性能的一部分。本练习将探讨模型正确排序患者的能力（即区分度）与提供准确风险概率的能力（即校准度）之间的关键区别。通过分析一个反直觉的场景——其中一个具有更优区分度的模型，其整体准确性（如此处用 Brier 分数衡量）反而更差——您将学会如何超越单一性能指标，对模型进行批判性评估。",
            "id": "4951982",
            "problem": "一项临床风险预测研究旨在在一个小型测试队列上比较两种二元结果模型。设观测结果为 $y_i \\in \\{0,1\\}$，其中 $y_i=1$ 表示事件发生，$y_i=0$ 表示事件未发生。对于每个模型，患者 $i$ 的预测风险是一个概率 $\\hat{p}_i \\in [0,1]$。一致性统计量（c-statistic）在操作上被评估为受试者工作特征曲线下面积（AUC），解释为随机选择的事件病例获得比随机选择的非事件对照更高的预测风险的概率，其中平局贡献一半的得分。Brier分数定义为预测概率与观测结果之间的均方误差。\n\n选择唯一一个选项，该选项提供了一个有效的反例，其中模型 $M_1$ 具有由严格更大的 $\\mathrm{AUC}$ 量化的严格更高的区分度，但其总体准确性却因严格更大的Brier分数而严格差于比较模型 $M_2$。正确选项还必须提供一个正确的解释，说明为什么这种差异会在医疗风险建模中出现。\n\n以下所有选项均指同一个由 $n=4$ 名患者组成的测试队列，其结果按顺序为 $y=(1,1,0,0)$。\n\nA. 预测：$M_1$：$(0.80,\\,0.80,\\,0.70,\\,0.70)$；$M_2$：$(0.50,\\,0.50,\\,0.50,\\,0.50)$。解释：$M_1$ 将所有病例排在所有对照之上，从而得到比 $M_2$ 严格更高的 $\\mathrm{AUC}$，但 $M_1$ 对照组的校准不佳（对非事件给出了过度自信的高概率），增加了平方误差。发生这种情况是因为 $\\mathrm{AUC}$ 仅取决于排序，而Brier分数则惩罚概率值的大小和校准度。\n\nB. 预测：$M_1$：$(0.90,\\,0.60,\\,0.30,\\,0.20)$；$M_2$：$(0.80,\\,0.75,\\,0.40,\\,0.35)$。解释：由于过度自信，$M_1$ 具有更高的 $\\mathrm{AUC}$ 但更差的Brier分数；这表明 $\\mathrm{AUC}$ 和Brier分数必然存在权衡。\n\nC. 预测：$M_1$：$(0.60,\\,0.55,\\,0.61,\\,0.58)$；$M_2$：$(0.62,\\,0.63,\\,0.40,\\,0.39)$。解释：这种差异的产生是因为c-statistic对校准水平敏感。\n\nD. 预测：$M_1$：$(0.95,\\,0.95,\\,0.60,\\,0.60)$；$M_2$：$(0.80,\\,0.80,\\,0.20,\\,0.20)$。解释：$\\mathrm{AUC}$ 的任何增加都必须意味着Brier分数的减少，因此 $M_1$ 的Brier分数必然优于 $M_2$。",
            "solution": "我们从第一性原理开始。c-statistic被解释为受试者工作特征曲线下面积（AUC），等于病例与对照之间的一致性概率：对于一个随机选择的预测风险为 $s^{+}$ 的病例和一个随机选择的预测风险为 $s^{-}$ 的对照，$\\mathrm{AUC} = \\mathbb{P}(s^{+}  s^{-}) + \\tfrac{1}{2}\\mathbb{P}(s^{+} = s^{-})$。在一个包含 $n_1$ 个病例和 $n_0$ 个对照的有限数据集上，$\\mathrm{AUC}$ 是一致的病例-对照对占所有 $n_1 n_0$ 对的比例，加上平局对的比例的一半。对于二元结果 $y_i$ 的概率预测 $\\hat{p}_i$，其Brier分数为 $n^{-1}\\sum_{i=1}^n (\\hat{p}_i - y_i)^2$，这是一个严格正常评分规则，它惩罚预测概率值的校准不佳和准确性不足。\n\n我们通过计算这两个指标来分析每个选项。\n\n选项A：\n- 结果为 $y=(1,1,0,0)$。\n- $M_1$ 预测：$(0.80, 0.80, 0.70, 0.70)$。\n- $M_2$ 预测：$(0.50, 0.50, 0.50, 0.50)$。\n计算 $M_1$ 的 $\\mathrm{AUC}$：有 $n_1=2$ 个病例和 $n_0=2$ 个对照，产生 $n_1 n_0 = 4$ 个病例-对照对。每个病例的预测值 $0.80$ 都大于每个对照的预测值 $0.70$，因此所有 $4$ 对都是一致的，没有平局。因此 $\\mathrm{AUC}_{M_1} = 1$。\n计算 $M_2$ 的 $\\mathrm{AUC}$：每个预测值都等于 $0.50$，因此所有 $4$ 个病例-对照对都是平局。根据平局规则，$\\mathrm{AUC}_{M_2} = \\tfrac{1}{2}$。\n计算Brier分数：\n- $M_1$ 病例误差：$(1-0.80)^2 = 0.04$ 和 $(1-0.80)^2 = 0.04$。\n- $M_1$ 对照误差：$(0-0.70)^2 = 0.49$ 和 $(0-0.70)^2 = 0.49$。\n$M_1$ 的总平方误差和为 $0.04+0.04+0.49+0.49 = 1.06$，所以 $\\mathrm{Brier}_{M_1} = \\tfrac{1.06}{4} = 0.265$。\n- $M_2$ 误差：每个病例为 $(1-0.50)^2 = 0.25$，每个对照为 $(0-0.50)^2 = 0.25$，总和为 $1.00$，所以 $\\mathrm{Brier}_{M_2} = \\tfrac{1.00}{4} = 0.25$。\n对A的结论：$M_1$ 具有严格更高的 $\\mathrm{AUC}$（$1  0.5$）和严格更差的Brier分数（$0.265  0.25$）。解释是正确的：$\\mathrm{AUC}$ 仅取决于排序，而Brier分数惩罚概率的大小和校准度；在这里，$M_1$ 对照组的预测过于自信，尽管排序完美，却增加了平方误差。\n\n选项B：\n- $M_1$ 预测：$(0.90, 0.60, 0.30, 0.20)$；$M_2$ 预测：$(0.80, 0.75, 0.40, 0.35)$。\n计算 $M_1$ 的 $\\mathrm{AUC}$：所有病例预测（$0.90, 0.60$）都超过所有对照预测（$0.30, 0.20$），因此 $\\mathrm{AUC}_{M_1}=1$。\n计算 $M_2$ 的 $\\mathrm{AUC}$：所有病例预测（$0.80, 0.75$）都超过所有对照预测（$0.40, 0.35$），因此 $\\mathrm{AUC}_{M_2}=1$。\n计算Brier分数：\n- $M_1$ 病例误差：$(1-0.90)^2=0.01$, $(1-0.60)^2=0.16$；对照误差：$(0-0.30)^2=0.09$, $(0-0.20)^2=0.04$。总和 $0.01+0.16+0.09+0.04=0.30$，$\\mathrm{Brier}_{M_1} = 0.30/4 = 0.075$。\n- $M_2$ 病例误差：$(1-0.80)^2=0.04$, $(1-0.75)^2=0.0625$；对照误差：$(0-0.40)^2=0.16$, $(0-0.35)^2=0.1225$。总和 $0.04+0.0625+0.16+0.1225=0.385$，$\\mathrm{Brier}_{M_2} = 0.385/4 \\approx 0.09625$。\n对B的结论：$\\mathrm{AUC}$ 值相等（$M_1$ 并非严格更高），并且 $M_1$ 的Brier分数更好（更低），而不是更差。声称必然存在权衡的解释通常是错误的，因为这两个指标评估的是不同方面（排序与概率准确性）。\n\n选项C：\n- $M_1$ 预测：$(0.60, 0.55, 0.61, 0.58)$；$M_2$ 预测：$(0.62, 0.63, 0.40, 0.39)$。\n计算 $M_1$ 的 $\\mathrm{AUC}$：病例 $0.60$ 对照 $0.61, 0.58$ 产生 $1$ 个一致（$0.60>0.58$）和 $1$ 个不一致（$0.600.61$）。病例 $0.55$ 对照 $0.61, 0.58$ 产生 $0$ 个一致和 $2$ 个不一致。因此一致 $=1$，不一致 $=3$，无平局，所以 $\\mathrm{AUC}_{M_1} = 1/4 = 0.25$。\n计算 $M_2$ 的 $\\mathrm{AUC}$：病例 $0.62, 0.63$ 都超过对照 $0.40, 0.39$，得到所有 $4$ 对都一致，所以 $\\mathrm{AUC}_{M_2}=1$。\n计算Brier分数：\n- $M_1$ 病例误差：$(1-0.60)^2=0.16$, $(1-0.55)^2=0.2025$；对照误差：$(0-0.61)^2=0.3721$, $(0-0.58)^2=0.3364$。总和 $0.16+0.2025+0.3721+0.3364=1.071$，$\\mathrm{Brier}_{M_1}=1.071/4=0.26775$。\n- $M_2$ 病例误差：$(1-0.62)^2=0.1444$, $(1-0.63)^2=0.1369$；对照误差：$(0-0.40)^2=0.16$, $(0-0.39)^2=0.1521$。总和 $0.1444+0.1369+0.16+0.1521=0.5934$，$\\mathrm{Brier}_{M_2}=0.5934/4=0.14835$。\n对C的结论：$M_1$ 的 $\\mathrm{AUC}$ 严格低于 $M_2$ 且Brier分数严格差于 $M_2$；它不是一个反例。解释也是错误的：c-statistic对校准水平不敏感；它仅取决于排序。\n\n选项D：\n- $M_1$ 预测：$(0.95, 0.95, 0.60, 0.60)$；$M_2$ 预测：$(0.80, 0.80, 0.20, 0.20)$。\n计算 $\\mathrm{AUC}$：在两个模型中，所有病例预测都超过所有对照预测，所以 $\\mathrm{AUC}_{M_1}=\\mathrm{AUC}_{M_2}=1$。\n计算Brier分数：\n- $M_1$ 病例误差：每个为 $(1-0.95)^2=0.0025$，总和 $0.005$；对照误差：每个为 $(0-0.60)^2=0.36$，总和 $0.72$。总计 $0.725$，$\\mathrm{Brier}_{M_1}=0.725/4=0.18125$。\n- $M_2$ 病例误差：每个为 $(1-0.80)^2=0.04$，总和 $0.08$；对照误差：每个为 $(0-0.20)^2=0.04$，总和 $0.08$。总计 $0.16$，$\\mathrm{Brier}_{M_2}=0.16/4=0.04$。\n对D的结论：$\\mathrm{AUC}$ 值相等，且 $M_1$ 的Brier分数比 $M_2$ 差，但并未满足 $M_1$ 的 $\\mathrm{AUC}$ 严格更高的要求。解释也是错误的：$\\mathrm{AUC}$ 的增加不一定意味着Brier分数的减少。\n\n总体结论：只有选项A提出了一个有效的反例和正确的解释。它具体地表明，$M_1$ 可以有严格更高的区分度（完美的排序），但由于对非事件的校准不佳和过度自信的预测而导致更差的Brier分数。这是因为c-statistic (AUC) 是一个基于排序的区分度度量，它对分数的单调变换是不变的，而Brier分数是一个严格正常评分规则，它评估预测概率的大小和校准度，相对于观测到的二元结果和潜在的事件流行率。",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "本练习在前一个练习  的基础上，深入探讨了区分度与校准度可能出现分歧的数学原理。您将从第一性原理出发，证明 C-统计量对于模型分数的任何严格单调递增变换都是不变的，这一特性解释了它为何只关注排序。这个理论练习旨在巩固您对 C-统计量真正衡量内容的理解，以及它为何对校准不良不敏感。",
            "id": "4952027",
            "problem": "一个临床团队正在研究用于二元结局 $Y \\in \\{0,1\\}$（例如术后并发症的发生）的风险模型的区分度和校准度特性。设 $X$ 表示一个术前测量的连续生物标志物。假设数据由一个逻辑回归模型生成，其中事件的真实条件概率由下式给出：\n$$\n\\mathbb{P}(Y=1 \\mid X=x) \\;=\\; \\sigma\\!\\left(\\alpha^\\star + \\beta^\\star x\\right),\n$$\n其中 $\\sigma(z) = \\dfrac{1}{1+e^{-z}}$ 是逻辑函数，$\\alpha^\\star \\in \\mathbb{R}$ 和 $\\beta^\\star \\in \\mathbb{R}$ 是固定参数。考虑两个产生个体层面预测概率的拟合模型：\n$$\np_i^{(1)} \\;=\\; \\sigma\\!\\left(\\alpha^\\star + \\beta^\\star X_i\\right),\n\\qquad\np_i^{(2)} \\;=\\; \\sigma\\!\\left(a + b\\left(\\alpha^\\star + \\beta^\\star X_i\\right)\\right),\n$$\n对于由分析师选择的、独立于数据生成参数的常数 $a \\in \\mathbb{R}$ 和 $b0$。该团队将使用 c-统计量（也称为受试者工作特征曲线下面积 (AUC)）来评估模型的区分度，其定义为：\n$$\nc \\;=\\; \\mathbb{P}\\!\\left(S_i  S_j \\,\\middle|\\, Y_i=1,\\, Y_j=0\\right),\n$$\n其中 $S_k$ 是一个用于对个体进行排序的标量分数（对于概率分类器，$S_k$ 可以是 $p_k$ 的任何严格单调递增变换）。他们将通过拟合以下模型，使用逻辑重校准来评估校准度：\n$$\n\\logit\\!\\left(\\mathbb{P}(Y=1)\\right) \\;=\\; \\gamma_0 + \\gamma_1 \\logit\\!\\left(p\\right),\n$$\n其中 $\\logit(u)=\\log\\!\\left(\\dfrac{u}{1-u}\\right)$，并将 $\\gamma_0$ 解释为总体校准度（截距），$\\gamma_1$ 解释为校准斜率。仅从这些定义和所述的数据生成模型出发，根据基本原理推断具有 $p^{(1)}$ 和 $p^{(2)}$ 的模型是否具有相同的 c-统计量，并推导第二个模型在针对真实数据生成机制进行重校准时的校准截距和斜率。解释为什么相同的区分度可以与不同的校准度指标共存。然后选择下面正确的陈述。\n\nA. 两个模型具有相同的 c-统计量，因为 $p^{(2)}$ 是 $p^{(1)}$ 的严格单调递增变换；将 $Y$ 对 $\\logit\\!\\left(p^{(2)}\\right)$ 进行重校准，得到的校准斜率为 $1/b$，校准截距为 $-a/b$。\n\nB. 两个模型具有相同的 c-统计量以及相同的校准斜率和截距，无论 $a$ 和 $b$ 的值如何。\n\nC. 每当 $b1$ 时，第二个模型的 c-统计量更大，因为用 $b$ 缩放线性预测器会增加病例和对照组在概率空间中的分离度。\n\nD. c-统计量仅在 $a=0$ 时保持不变；任何非零的 $a$ 都会改变排序，从而改变 c-统计量。\n\nE. 如果 $b0$，c-统计量仍将保持不变，因为分数的数值大小排序在符号反转下得以保留。",
            "solution": "首先对问题陈述进行严格的验证过程。\n\n### 步骤1：提取已知条件\n- **结局：** 二元结局 $Y \\in \\{0,1\\}$。\n- **预测变量：** 连续生物标志物 $X$。\n- **数据生成模型：** 事件的真实条件概率由 $\\mathbb{P}(Y=1 \\mid X=x) = \\sigma(\\alpha^\\star + \\beta^\\star x)$ 给出，其中 $\\sigma(z) = \\frac{1}{1+e^{-z}}$ 是逻辑函数，$\\alpha^\\star \\in \\mathbb{R}$，$\\beta^\\star \\in \\mathbb{R}$ 是固定参数。\n- **模型1（真实模型）：** 个体 $i$ 的预测概率为 $p_i^{(1)} = \\sigma(\\alpha^\\star + \\beta^\\star X_i)$。\n- **模型2（变换模型）：** 个体 $i$ 的预测概率为 $p_i^{(2)} = \\sigma(a + b(\\alpha^\\star + \\beta^\\star X_i))$，对于常数 $a \\in \\mathbb{R}$ 和 $b0$。\n- **区分度指标（c-统计量）：** $c = \\mathbb{P}(S_i  S_j \\mid Y_i=1, Y_j=0)$，其中 $S_k$ 是预测概率 $p_k$ 的一个严格单调递增变换的标量分数。\n- **校准度指标（逻辑重校准）：** 通过拟合 $\\logit(\\mathbb{P}(Y=1)) = \\gamma_0 + \\gamma_1 \\logit(p)$ 来评估模型，其中 $\\logit(u)=\\log(\\frac{u}{1-u})$。参数为总体校准度（截距）$\\gamma_0$ 和校准斜率 $\\gamma_1$。\n\n### 步骤2：使用提取的已知条件进行验证\n该问题在科学上和数学上都是合理的。它被置于统计模型评估的标准、明确定义的框架内，使用了逻辑回归、ROC曲线下面积（c-统计量）和校准度分析等既定概念。定义精确，设定自洽，参数（$a$，$b$）也受到适当约束（$b0$），以确保这是一个良态场景。没有矛盾、模糊之处或事实错误。该问题要求将评估指标的定义直接应用于指定的模型，这是该领域的标准理论练习。\n\n### 步骤3：结论与行动\n问题是有效的。解决方案将通过推导所需的量并评估选项来进行。\n\n### 推导\n\n分析分为两部分：评估区分度（c-统计量）和校准度（$\\gamma_0$, $\\gamma_1$）。\n\n**第1部分：区分度分析（c-统计量）**\n\nc-统计量定义为 $c = \\mathbb{P}(S_i  S_j \\mid Y_i=1, Y_j=0)$。分数 $S_k$ 可以是预测概率 $p_k$ 的任何严格单调递增函数。一个常见的选择是令分数等于概率本身，即 $S_k=p_k$。在此选择下，一致对的条件是 $p_i  p_j$。由于任何其他分数选择 $S_k = f(p_k)$（其中 $f$ 是一个严格单调递增函数）都将导致等价关系 $S_i  S_j \\iff p_i  p_j$，因此 c-统计量仅取决于预测概率的排序。\n\n我们必须确定从 $p^{(1)}$ 到 $p^{(2)}$ 的变换是否保留了排序。\n设真实的线性预测器为 $L_i = \\alpha^\\star + \\beta^\\star X_i$。\n预测概率为：\n$$\np_i^{(1)} = \\sigma(L_i)\n$$\n$$\np_i^{(2)} = \\sigma(a + b L_i)\n$$\n$p_i^{(2)}$ 和 $p_i^{(1)}$ 之间的关系可以通过首先注意到 $L_i = \\logit(p_i^{(1)})$ 来找到，因为 $\\logit$ 是 $\\sigma$ 函数的反函数。将其代入 $p_i^{(2)}$ 的表达式中，得到：\n$$\np_i^{(2)} = \\sigma(a + b \\cdot \\logit(p_i^{(1)}))\n$$\n让我们定义一个函数 $g(p) = \\sigma(a + b \\cdot \\logit(p))$，使得 $p_i^{(2)} = g(p_i^{(1)})$。为了检查此变换是否保留排序，我们必须检查 $g(p)$ 在区间 $(0, 1)$ 上是否是 $p$ 的严格单调递增函数。我们可以通过检查其导数 $g'(p)$ 来做到这一点。\n使用链式法则，$g'(p) = \\sigma'(a + b \\cdot \\logit(p)) \\cdot \\frac{d}{dp}(a + b \\cdot \\logit(p))$。\n\n各组成部分的导数为：\n1.  $\\frac{d}{dp} \\logit(p) = \\frac{d}{dp} \\log(\\frac{p}{1-p}) = \\frac{1}{p} + \\frac{1}{1-p} = \\frac{1}{p(1-p)}$。对于 $p \\in (0, 1)$，该式严格为正。\n2.  $\\frac{d}{dz} \\sigma(z) = \\sigma(z)(1-\\sigma(z))$。对于任何有限的 $z$，该式也严格为正。\n\n将这些结合起来，我们得到：\n$$\ng'(p) = \\sigma'(a + b \\cdot \\logit(p)) \\cdot b \\cdot \\frac{1}{p(1-p)}\n$$\n由于当 $p \\in (0,1)$ 时，$\\sigma'(\\cdot)  0$ 且 $\\frac{1}{p(1-p)}  0$，因此 $g'(p)$ 的符号由常数 $b$ 的符号决定。问题陈述中说明 $b  0$。因此，$g'(p)  0$，这意味着 $g(p)$ 是一个严格单调递增函数。\n\n因为 $p^{(2)}$ 是 $p^{(1)}$ 的一个严格单调递增函数，所以基于预测概率的个体排序对于两个模型是相同的。也就是说，对于任意两个个体 $i$ 和 $j$，$p_i^{(1)}  p_j^{(1)}$ 当且仅当 $p_i^{(2)}  p_j^{(2)}$。因此，两个模型的一致对、不一致对和结对的集合是相同的。所以它们的 c-统计量必然相同。\n\n**第2部分：校准度分析**\n\n我们被要求找出模型2（$p^{(2)}$）在针对真实数据生成机制进行重校准时的校准截距 $\\gamma_0$ 和斜率 $\\gamma_1$。重校准模型为：\n$$\n\\logit(\\mathbb{P}(Y=1 \\mid X)) = \\gamma_0 + \\gamma_1 \\logit(p^{(2)})\n$$\n等式左边是真实概率的logit，即 $\\logit(p^{(1)})$。项 $\\logit(p^{(2)})$ 是模型预测概率的logit。我们需要找到 $\\logit(p^{(1)})$ 和 $\\logit(p^{(2)})$ 之间的线性关系。\n\n根据 $p_i^{(2)}$ 的定义：\n$$\np_i^{(2)} = \\sigma(a + b(\\alpha^\\star + \\beta^\\star X_i))\n$$\n对两边应用 $\\logit$ 函数，并利用性质 $\\logit(\\sigma(z))=z$：\n$$\n\\logit(p_i^{(2)}) = a + b(\\alpha^\\star + \\beta^\\star X_i)\n$$\n我们还知道，对于真实模型，$\\logit(p_i^{(1)}) = \\alpha^\\star + \\beta^\\star X_i$。\n将此代入前一个方程，得到经logit变换后的概率之间的关系：\n$$\n\\logit(p_i^{(2)}) = a + b \\cdot \\logit(p_i^{(1)})\n$$\n重校准方程要求我们将 $\\logit(p^{(1)})$ 表示为 $\\logit(p^{(2)})$ 的函数。我们可以重新整理上述方程来实现这一点：\n$$\nb \\cdot \\logit(p_i^{(1)}) = \\logit(p_i^{(2)}) - a\n$$\n$$\n\\logit(p_i^{(1)}) = \\left(-\\frac{a}{b}\\right) + \\left(\\frac{1}{b}\\right) \\logit(p_i^{(2)})\n$$\n将此与形式 $\\logit(\\mathbb{P}(Y=1 \\mid X)) = \\gamma_0 + \\gamma_1 \\logit(p^{(2)})$ 进行比较，我们可以确定第二个模型的校准参数：\n-   校准截距：$\\gamma_0 = -a/b$\n-   校准斜率：$\\gamma_1 = 1/b$\n\n**关于区分度与校准度的结论**\n分析表明，区分度（由c-统计量衡量）对于预测分数的任何严格单调递增变换都是不变的。模型2就是模型1的这样一种变换。然而，校准度评估的是概率值的绝对正确性。在logit尺度上的仿射变换 $L \\mapsto a+bL$ 保留了分数的排序，但会扭曲其值，除非 $a=0$ 且 $b=1$。这导致即使区分度不变，也会出现校准不良（$\\gamma_0 \\neq 0$ 或 $\\gamma_1 \\neq 1$）。\n\n### 逐项分析\n\n**A. 两个模型具有相同的 c-统计量，因为 $p^{(2)}$ 是 $p^{(1)}$ 的严格单调递增变换；将 $Y$ 对 $\\logit\\!\\left(p^{(2)}\\right)$ 进行重校准，得到的校准斜率为 $1/b$，校准截距为 $-a/b$。**\n-   第一个子句是正确的，如我们的推导所示：由于 $b0$，$p^{(2)}$ 是 $p^{(1)}$ 的严格单调递增变换，因此它们的排序是相同的，从而导致相同的 c-统计量。\n-   第二个子句也是正确的。我们对模型2校准参数的推导恰好得到 $\\gamma_1 = 1/b$ 和 $\\gamma_0 = -a/b$。\n-   **结论：正确。**\n\n**B. 两个模型具有相同的 c-统计量以及相同的校准斜率和截距，无论 $a$ 和 $b$ 的值如何。**\n-   关于两个模型具有相同 c-统计量的陈述是正确的。\n-   关于它们具有相同校准参数的陈述是不正确的。真实模型（$p^{(1)}$）是完美校准的，因此其参数为 $\\gamma_0=0$ 和 $\\gamma_1=1$。第二个模型的参数是 $\\gamma_0=-a/b$ 和 $\\gamma_1=1/b$。只有当 $a=0$ 和 $b=1$ 时，这些参数才相同。该陈述声称无论 $a$ 和 $b$ 为何值都成立。\n-   **结论：不正确。**\n\n**C. 每当 $b1$ 时，第二个模型的 c-统计量更大，因为用 $b$ 缩放线性预测器会增加病例和对照组在概率空间中的分离度。**\n-   c-统计量更大的前提是错误的。如已证明，由于排序得以保留，c-统计量是相同的。虽然 $b1$ 确实使概率值远离0.5（增加了在概率空间中的分离度），但这并不会改变个体的排序。\n-   **结论：不正确。**\n\n**D. c-统计量仅在 $a=0$ 时保持不变；任何非零的 $a$ 都会改变排序，从而改变 c-统计量。**\n-   这是错误的。对线性预测器的变换是 $L_i \\mapsto a + bL_i$。由于 $b  0$，这是一个严格单调递增的仿射变换。加上常数 $a$ 会使所有值等量平移，对其排序没有影响。因此，对于任何 $a$ 值，排序都是保留的。对于任何 $a \\in \\mathbb{R}$（且 $b0$），c-统计量都保持不变。\n-   **结论：不正确。**\n\n**E. 如果 $b0$，c-统计量仍将保持不变，因为分数的数值大小排序在符号反转下得以保留。**\n-   这个选项提出了一个超出问题约束 $b0$ 的假设情况。如果 $b0$，变换 $L_i \\mapsto a + bL_i$ 将是严格*递减*的。这将反转分数的排序：如果 $p_i^{(1)} > p_j^{(1)}$，则 $p_i^{(2)}  p_j^{(2)}$。设模型1的 c-统计量为 $c_1$。模型2的 c-统计量 $c_2$ 将是反转的概率，假设没有结对，即为 $1-c_1$。只有在 $c_1=0.5$ 的平凡情况下，c-统计量才保持不变（$c_2 = c_1$）。因此，该陈述是错误的。\n-   **结论：不正确。**",
            "answer": "$$\\boxed{A}$$"
        }
    ]
}