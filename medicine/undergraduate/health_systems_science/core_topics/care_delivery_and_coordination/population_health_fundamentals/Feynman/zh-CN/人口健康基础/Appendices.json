{
    "hands_on_practices": [
        {
            "introduction": "在人口健康领域，了解特定风险因素对疾病负担的贡献至关重要。人口归因分数（PAF）是一个关键指标，它量化了如果消除某个风险因素，人群中可以避免的疾病比例。通过这个练习，你将学习如何运用相对风险（RR）和风险因素的流行率来计算 PAF，从而将流行病学数据转化为对公共卫生干预优先级的具体指导 。",
            "id": "4389005",
            "problem": "一个中等规模的城市卫生系统追踪因慢性阻塞性肺疾病（COPD）导致的年度住院情况。在该系统所服务的成年人口中，当前吸烟的流行率为 $p_{\\text{current}} = 0.22$。来自队列研究的证据综合估计，吸烟者相对于非吸烟者的COPD住院相对风险（RR）为 $\\text{RR} = 2.8$。最近的年度COPD住院总数为 $H_{\\text{current}} = 5600$ 人次。该卫生系统实施了一项多方位的烟草控制计划，在一年内使吸烟率相对降低了 $25\\%$，因此新的流行率为 $p_{\\text{new}} = p_{\\text{current}} \\times (1 - 0.25)$。\n\n仅使用风险、相对风险和人群归因分值（PAF）的基本定义，按以下步骤进行：\n\n1. 推导因吸烟导致的COPD住院的人群归因分值（PAF）的表达式，该表达式应以暴露流行率 $p$、相对风险 $\\text{RR}$ 和未暴露基线风险来表示。然后，使用 $p_{\\text{current}}$ 和 $\\text{RR}$ 计算基线PAF的数值。\n\n2. 假设人群中COPD的年住院人数与人群的住院风险成正比，使用 $H_{\\text{current}}$、$p_{\\text{current}}$、$p_{\\text{new}}$ 和 $\\text{RR}$，估计干预后一年内避免的COPD住院人数。\n\n将人群归因分值（PAF）表示为小数，四舍五入至四位有效数字。将估计的避免住院人数表示为住院次数，四舍五入至三位有效数字。在答案的任何部分都不要使用百分号。",
            "solution": "第1部分：人群归因分值（PAF）的推导与计算。\n设 $p$ 为暴露（吸烟）的流行率，$R_1$ 为暴露组（吸烟者）的住院风险，$R_0$ 为未暴露组（非吸烟者）的风险。$R_0$ 是未暴露基线风险。总人群的总体风险 $R_{\\text{pop}}$ 是暴露亚群和未暴露亚群风险的加权平均值：\n$$R_{\\text{pop}} = p \\cdot R_1 + (1-p) \\cdot R_0$$\n相对风险（$\\text{RR}$）定义为暴露组风险与未暴露组风险之比：\n$$\\text{RR} = \\frac{R_1}{R_0} \\implies R_1 = \\text{RR} \\cdot R_0$$\n将 $R_1$ 的表达式代入 $R_{\\text{pop}}$ 的方程，得到以基线风险 $R_0$、流行率 $p$ 和相对风险 $\\text{RR}$ 表示的人群风险：\n$$R_{\\text{pop}} = p \\cdot (\\text{RR} \\cdot R_0) + (1-p) \\cdot R_0 = R_0 (p \\cdot \\text{RR} + 1 - p) = R_0 (1 + p(\\text{RR}-1))$$\n人群归因分值（PAF）是总人群中可归因于暴露的疾病比例。它被定义为如果消除暴露，人群风险将发生的相对减少量：\n$$\\text{PAF} = \\frac{R_{\\text{pop}} - R_0}{R_{\\text{pop}}}$$\n这提供了所要求的以人群风险和基线风险表示的PAF表达式。为了仅用 $p$ 和 $\\text{RR}$ 来表示PAF，我们代入推导出的 $R_{\\text{pop}}$ 表达式：\n$$\\text{PAF} = \\frac{R_0(1 + p(\\text{RR}-1)) - R_0}{R_0(1 + p(\\text{RR}-1))}$$\n基线风险 $R_0$ 是分子和分母的公因子，因此可以消去：\n$$\\text{PAF} = \\frac{1 + p(\\text{RR}-1) - 1}{1 + p(\\text{RR}-1)} = \\frac{p(\\text{RR}-1)}{1 + p(\\text{RR}-1)}$$\n这是最终推导出的PAF表达式。现在，我们使用基线数据计算其数值：$p_{\\text{current}} = 0.22$ 和 $\\text{RR} = 2.8$。\n$$\\text{PAF}_{\\text{current}} = \\frac{0.22 \\times (2.8 - 1)}{1 + 0.22 \\times (2.8 - 1)} = \\frac{0.22 \\times 1.8}{1 + 0.22 \\times 1.8} = \\frac{0.396}{1 + 0.396} = \\frac{0.396}{1.396}$$\n$$\\text{PAF}_{\\text{current}} \\approx 0.28366762...$$\n四舍五入至四位有效数字，基线PAF为 $0.2837$。\n\n第2部分：避免住院人数的估计。\n问题陈述，住院人数 $H$ 与人群风险 $R_{\\text{pop}}$ 成正比。假设总人口数 $N$ 恒定，我们有 $H = N \\cdot R_{\\text{pop}}$。因此，干预后的住院人数（$H_{\\text{new}}$）与干预前（$H_{\\text{current}}$）的比率等于相应人群风险的比率：\n$$\\frac{H_{\\text{new}}}{H_{\\text{current}}} = \\frac{R_{\\text{pop, new}}}{R_{\\text{pop, current}}}$$\n使用表达式 $R_{\\text{pop}} = R_0(1 + p(\\text{RR}-1))$，风险比为：\n$$\\frac{R_{\\text{pop, new}}}{R_{\\text{pop, current}}} = \\frac{R_0(1 + p_{\\text{new}}(\\text{RR}-1))}{R_0(1 + p_{\\text{current}}(\\text{RR}-1))} = \\frac{1 + p_{\\text{new}}(\\text{RR}-1)}{1 + p_{\\text{current}}(\\text{RR}-1)}$$\n避免的住院人数 $H_{\\text{averted}}$ 是当前住院人数与新住院人数之差：\n$$H_{\\text{averted}} = H_{\\text{current}} - H_{\\text{new}} = H_{\\text{current}} \\left( 1 - \\frac{H_{\\text{new}}}{H_{\\text{current}}} \\right) = H_{\\text{current}} \\left( 1 - \\frac{1 + p_{\\text{new}}(\\text{RR}-1)}{1 + p_{\\text{current}}(\\text{RR}-1)} \\right)$$\n首先，我们计算新的吸烟流行率 $p_{\\text{new}}$。干预措施使当前流行率 $p_{\\text{current}} = 0.22$ 相对减少了 $25\\%$。\n$$p_{\\text{new}} = p_{\\text{current}} \\times (1 - 0.25) = 0.22 \\times 0.75 = 0.165$$\n现在我们将给定值代入避免住院人数的表达式中：$H_{\\text{current}} = 5600$，$p_{\\text{current}} = 0.22$，$p_{\\text{new}} = 0.165$，以及 $\\text{RR} = 2.8$。\n$$H_{\\text{averted}} = 5600 \\left( 1 - \\frac{1 + 0.165(2.8 - 1)}{1 + 0.22(2.8 - 1)} \\right)$$\n$$H_{\\text{averted}} = 5600 \\left( 1 - \\frac{1 + 0.165 \\times 1.8}{1 + 0.22 \\times 1.8} \\right) = 5600 \\left( 1 - \\frac{1 + 0.297}{1 + 0.396} \\right) = 5600 \\left( 1 - \\frac{1.297}{1.396} \\right)$$\n$$H_{\\text{averted}} = 5600 \\left( \\frac{1.396 - 1.297}{1.396} \\right) = 5600 \\left( \\frac{0.099}{1.396} \\right)$$\n$$H_{\\text{averted}} \\approx 5600 \\times 0.0709169... \\approx 397.13467...$$\n四舍五入至三位有效数字，估计避免的住院人数为 $397$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.2837  397\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "筛查测试在公共卫生中用于早期发现疾病，但一个“好”测试的价值不仅仅取决于其固有的准确性。本练习的核心是阳性预测值（PPV）——即一个阳性测试结果真正表示患病的概率。通过从贝叶斯定理推导 PPV 的公式，你将深入理解为何在诊断医学和公共卫生筛查中，人群的疾病患病率与测试的灵敏度和特异度同等重要 。",
            "id": "4389045",
            "problem": "一个城市的卫生部门正在评估一种用于普通成年人群的慢性病新筛查测试。设疾病状态由 $D \\in \\{D^{+}, D^{-}\\}$ 表示，测试结果由 $T \\in \\{T^{+}, T^{-}\\}$ 表示。在标准概率框架内进行计算，其中 $P(\\cdot)$ 表示概率。\n\n任务：\n1. 使用概率符号，定义灵敏度、特异度、阳性预测值和阴性预测值。\n2. 仅从第1部分的定义出发，结合概率的乘法法则、全概率定律和贝叶斯定理，推导出一个关于疾病患病率 $\\pi$、灵敏度 $\\text{Se}$ 和特异度 $\\text{Sp}$ 的阳性预测值解析表达式。\n3. 该城市估计其筛查人群的疾病患病率为 $\\pi = 0.06$。独立的现场验证研究得出该测试的灵敏度为 $\\text{Se} = 0.92$，特异度为 $\\text{Sp} = 0.88$。使用你推导的表达式，计算阳性预测值。将最终数值答案表示为无单位小数，并四舍五入到 $4$ 位有效数字。不要使用百分号。",
            "solution": "问题要求完成三项任务：定义关键的诊断测试指标，推导阳性预测值（PPV）的表达式，并根据给定参数计算其数值。\n\n**第1部分：诊断测试指标的定义**\n\n设 $D^{+}$ 表示个体患有该疾病的事件， $D^{-}$ 表示个体未患病的事件。设 $T^{+}$ 表示测试结果为阳性的事件， $T^{-}$ 表示测试结果为阴性的事件。关键指标定义为条件概率：\n\n1.  **灵敏度 ($\\text{Se}$)**：在个体确实患有疾病的情况下，测试结果为阳性的概率。\n    $$ \\text{Se} = P(T^{+} | D^{+}) $$\n\n2.  **特异度 ($\\text{Sp}$)**：在个体确实未患有疾病的情况下，测试结果为阴性的概率。\n    $$ \\text{Sp} = P(T^{-} | D^{-}) $$\n\n3.  **阳性预测值 (PPV)**：在测试结果为阳性的情况下，个体确实患有疾病的概率。\n    $$ \\text{PPV} = P(D^{+} | T^{+}) $$\n\n4.  **阴性预测值 (NPV)**：在测试结果为阴性的情况下，个体确实未患有疾病的概率。\n    $$ \\text{NPV} = P(D^{-} | T^{-}) $$\n\n此外，疾病患病率，用 $\\pi$ 表示，是个体在人群中患有该疾病的先验概率。\n$$ \\pi = P(D^{+}) $$\n由此，个体未患病的概率为 $P(D^{-}) = 1 - P(D^{+}) = 1 - \\pi$。\n\n**第2部分：阳性预测值 (PPV) 的推导**\n\n目标是推导 $\\text{PPV} = P(D^{+} | T^{+})$ 作为患病率 ($\\pi$)、灵敏度 ($\\text{Se}$) 和特异度 ($\\text{Sp}$) 的函数的表达式。我们从贝叶斯定理开始：\n$$ P(D^{+} | T^{+}) = \\frac{P(T^{+} | D^{+}) P(D^{+})}{P(T^{+})} $$\n分子中的各项与所给定义直接相关：\n-   $P(T^{+} | D^{+})$ 是灵敏度，$\\text{Se}$。\n-   $P(D^{+})$ 是患病率，$\\pi$。\n\n所以，分子是 $\\text{Se} \\cdot \\pi$。\n\n分母 $P(T^{+})$ 是测试结果为阳性的总概率。这可以使用全概率定律，以疾病状态（划分 $\\{D^{+}, D^{-}\\}$）为条件进行展开：\n$$ P(T^{+}) = P(T^{+} | D^{+}) P(D^{+}) + P(T^{+} | D^{-}) P(D^{-}) $$\n现在我们可以将已知的定义代入此表达式中：\n-   $P(T^{+} | D^{+}) = \\text{Se}$\n-   $P(D^{+}) = \\pi$\n-   $P(D^{-}) = 1 - \\pi$\n\n项 $P(T^{+} | D^{-})$ 是无病个体测试结果为阳性的概率，也称为假阳性率。它可以用特异度 $\\text{Sp}$ 来表示。由于个体的测试结果不是阳性就是阴性，因此在同一条件下，这些结果的概率之和必须为 $1$：\n$$ P(T^{+} | D^{-}) + P(T^{-} | D^{-}) = 1 $$\n根据特异度的定义，$P(T^{-} | D^{-}) = \\text{Sp}$。因此，我们可以解出假阳性率：\n$$ P(T^{+} | D^{-}) = 1 - P(T^{-} | D^{-}) = 1 - \\text{Sp} $$\n将所有这些部分代回 $P(T^{+})$ 的展开式中：\n$$ P(T^{+}) = (\\text{Se})(\\pi) + (1 - \\text{Sp})(1 - \\pi) $$\n最后，我们将分子和展开后的分母的表达式代回到PPV的贝叶斯定理公式中：\n$$ \\text{PPV} = P(D^{+} | T^{+}) = \\frac{\\text{Se} \\cdot \\pi}{(\\text{Se})(\\pi) + (1 - \\text{Sp})(1 - \\pi)} $$\n这就是所求的阳性预测值的解析表达式。\n\n**第3部分：数值计算**\n\n问题提供了以下数值：\n-   患病率: $\\pi = 0.06$\n-   灵敏度: $\\text{Se} = 0.92$\n-   特异度: $\\text{Sp} = 0.88$\n\n我们将这些数值代入推导出的PPV表达式中：\n$$ \\text{PPV} = \\frac{(0.92)(0.06)}{(0.92)(0.06) + (1 - 0.88)(1 - 0.06)} $$\n首先，我们计算各个项：\n-   分子: $(0.92)(0.06) = 0.0552$\n-   分母中的第 $1$ 项: $(0.92)(0.06) = 0.0552$\n-   分母中的第 $2$ 项: $(1 - 0.88)(1 - 0.06) = (0.12)(0.94) = 0.1128$\n\n现在，我们计算完整的分母：\n-   分母: $0.0552 + 0.1128 = 0.168$\n\n最后，我们计算PPV：\n$$ \\text{PPV} = \\frac{0.0552}{0.168} $$\n$$ \\text{PPV} \\approx 0.3285714... $$\n问题要求答案四舍五入到 $4$ 位有效数字。前四位有效数字是 $3$、$2$、$8$、$5$。第五位数字是 $7$，大于或等于 $5$，所以我们将第四位数字向上取整。\n$$ \\text{PPV} \\approx 0.3286 $$\n因此，该测试在此人群中的阳性预测值约为 $0.3286$。",
            "answer": "$$\\boxed{0.3286}$$"
        },
        {
            "introduction": "评估健康项目是否真正有效是卫生系统科学的核心挑战，尤其是在无法进行随机对照试验的情况下。双重差分法（DiD）是一种强大的准实验方法，通过比较干预组和对照组在干预前后的变化差异，来估计干预措施的因果效应。这项练习将引导你推导并应用 DiD 估计量，让你掌握超越简单的干预前后比较的评估技能，从而对项目的实际影响做出更可靠的判断 。",
            "id": "4389018",
            "problem": "一个卫生系统评估了一项旨在减少可避免住院的社区卫生工作者项目。该项目在时间 $t=1$ 时在一组社区（干预组）中实施，而一个作为比较的社区组（对照组）在整个期间保持未受干预。考虑一个双时期设定，$t \\in \\{0,1\\}$，以及由 $G \\in \\{0,1\\}$ 索引的两个组，其中 $G=1$ 表示干预组，$G=0$ 表示对照组。令 $Y_{it}$ 表示单位 $i$ 在时间 $t$ 的年可避免住院率（每 $1{,}000$ 人年）。假设满足稳定单位处理值假设（SUTVA），并且干预在任何时候都不影响对照组。请用文字定义双重差分法（DiD），并从潜在结果和共同趋势假设的核心定义出发，推导双组、双时期的双重差分估计量，用于估计在观测到的组-时间平均结果下的处理组平均处理效应（ATT）。\n\n观测到的平均可避免住院率（每 $1{,}000$ 人年）如下：\n- 干预组：干预前（$t=0$）$= 50.0$，干预后（$t=1$）$= 42.5$。\n- 对照组：干预前（$t=0$）$= 45.0$，干预后（$t=1$）$= 40.8$。\n\n使用这些数值计算 ATT 的 DiD 估计值。将最终效应表示为每 $1{,}000$ 人年的率差。将您的答案四舍五入到四位有效数字。",
            "solution": "问题要求用文字定义双重差分法（DiD），正式推导处理组平均处理效应（ATT）的DiD估计量，并使用所提供的数据计算此估计值。\n\n首先，我们用文字定义双重差分法。DiD 是一种准实验技术，用于估计特定干预的因果效应。它通过比较接受干预的组（处理组）的结果变量随时间的变化，与同期未接受干预的组（对照组）的同一结果变量的变化来进行。其核心思想是使用对照组来代表处理组在没有干预的情况下本应经历的结果趋势。“双重差分”即处理组干预前后的变化与对照组干预前后的变化之差。\n\n为了正式推导估计量，我们使用潜在结果框架。令 $G_i \\in \\{0, 1\\}$ 为一个指示符，表示单位 $i$ 属于干预组（$G_i=1$）或对照组（$G_i=0$）。令 $t \\in \\{0, 1\\}$ 为时间段，其中 $t=0$ 是干预前时期，$t=1$ 是干预后时期。干预仅在时间 $t=1$ 应用于组 $G=1$。\n\n令 $Y_{it}(1)$ 为单位 $i$ 在时间 $t$ 接受处理时的潜在结果，而 $Y_{it}(0)$ 为其未接受处理时的潜在结果。单位 $i$ 在时间 $t$ 的观测结果表示为 $Y_{it}$。\n在干预前时期（$t=0$），没有单位被处理，所以观测结果总是未经处理的潜在结果：对于所有单位 $i$，有 $Y_{i0} = Y_{i0}(0)$。\n在干预后时期（$t=1$），观测结果取决于处理状态：\n$Y_{i1} = G_i Y_{i1}(1) + (1-G_i) Y_{i1}(0)$。\n\n我们感兴趣的参数是干预后时期（$t=1$）的处理组平均处理效应（ATT）。这被定义为对那些实际接受了处理的单位的处理的期望效应：\n$$ATT = E[Y_{i1}(1) - Y_{i1}(0) | G_i=1]$$\n利用期望的线性性质，我们可以写出：\n$$ATT = E[Y_{i1}(1) | G_i=1] - E[Y_{i1}(0) | G_i=1]$$\n第一项 $E[Y_{i1}(1) | G_i=1]$ 是处理组在接受处理条件下的期望结果。这可以从数据中观测到，即干预组在干预后时期的平均结果。\n第二项 $E[Y_{i1}(0) | G_i=1]$ 是处理组在*没有*被处理情况下的期望结果。这是一个反事实量，不能直接观测到。\n\n为了识别这个反事实项，我们引用关键的**共同趋势假设**。该假设表明，在没有干预的情况下，处理组结果的平均变化会与对照组结果的平均变化相同。正式地：\n$$E[Y_{i1}(0) - Y_{i0}(0) | G_i=1] = E[Y_{i1}(0) - Y_{i0}(0) | G_i=0]$$\n我们可以重排这个方程来求解不可观测的反事实项：\n$$E[Y_{i1}(0) | G_i=1] = E[Y_{i0}(0) | G_i=1] + E[Y_{i1}(0) | G_i=0] - E[Y_{i0}(0) | G_i=0]$$\n现在，我们可以用可观测的量来表示右边的每一项：\n- $E[Y_{i0}(0) | G_i=1]$ 是处理组在 $t=0$ 时的期望结果。由于没有人被处理，这仅仅是观测到的平均结果，$E[Y_{i0} | G_i=1]$。\n- $E[Y_{i1}(0) | G_i=0]$ 是对照组在 $t=1$ 时的期望结果。由于他们没有被处理，这是他们观测到的平均结果，$E[Y_{i1} | G_i=0]$。\n- $E[Y_{i0}(0) | G_i=0]$ 是对照组在 $t=0$ 时的期望结果，也就是他们观测到的平均结果，$E[Y_{i0} | G_i=0]$。\n\n我们使用符号 $\\mu_{Gt} = E[Y_{it} | G_i=G, \\text{time}=t]$ 来表示可观测的组-时间均值。反事实的表达式变为：\n$$E[Y_{i1}(0) | G_i=1] = \\mu_{10} + \\mu_{01} - \\mu_{00}$$\n将此代回 ATT 公式：\n$$ATT = E[Y_{i1}(1) | G_i=1] - ( \\mu_{10} + \\mu_{01} - \\mu_{00} )$$\n项 $E[Y_{i1}(1) | G_i=1]$ 是处理组在处理后的观测均值，即 $\\mu_{11}$。\n因此，ATT 是：\n$$ATT = \\mu_{11} - \\mu_{10} - \\mu_{01} + \\mu_{00}$$\n这可以重排成经典的 DiD 形式：\n$$ATT = (\\mu_{11} - \\mu_{10}) - (\\mu_{01} - \\mu_{00})$$\n这是处理组结果随时间的平均变化减去对照组结果随时间的平均变化。稳定单位处理值假设（SUTVA）确保了一个单位的结果不受另一个单位处理状态的影响（无干扰），并且处理的定义是明确的，这些都是此推导所必需的。\n\n现在，我们使用提供的数据计算 DiD 估计值。样本均值被用作总体均值 $\\mu_{Gt}$ 的估计量。\n令 $\\bar{Y}_{G,t}$ 为组 $G$ 在时间 $t$ 的观测平均结果。\n给定数据：\n- 干预组 ($G=1$): $\\bar{Y}_{1,0} = 50.0$, $\\bar{Y}_{1,1} = 42.5$。\n- 对照组 ($G=0$): $\\bar{Y}_{0,0} = 45.0$, $\\bar{Y}_{0,1} = 40.8$。\n\nDiD 估计量 $\\widehat{ATT}$ 计算如下：\n$$\\widehat{ATT} = (\\bar{Y}_{1,1} - \\bar{Y}_{1,0}) - (\\bar{Y}_{0,1} - \\bar{Y}_{0,0})$$\n首先，计算干预组的变化：\n$$\\Delta_{G=1} = \\bar{Y}_{1,1} - \\bar{Y}_{1,0} = 42.5 - 50.0 = -7.5$$\n接下来，计算对照组的变化：\n$$\\Delta_{G=0} = \\bar{Y}_{0,1} - \\bar{Y}_{0,0} = 40.8 - 45.0 = -4.2$$\n最后，计算双重差分：\n$$\\widehat{ATT} = \\Delta_{G=1} - \\Delta_{G=0} = -7.5 - (-4.2) = -7.5 + 4.2 = -3.3$$\n结果 $-3.3$ 代表了对处理组的估计平均处理效应。这意味着该项目使得每 $1{,}000$ 人年的可避免住院次数减少了 $3.3$ 次。\n将结果四舍五入到四位有效数字得到 $-3.300$。",
            "answer": "$$\\boxed{-3.300}$$"
        }
    ]
}