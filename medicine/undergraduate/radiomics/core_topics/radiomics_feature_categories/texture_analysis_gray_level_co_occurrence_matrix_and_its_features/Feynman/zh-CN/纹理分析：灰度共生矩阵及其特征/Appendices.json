{
    "hands_on_practices": [
        {
            "introduction": "第一个练习是基础步骤，我们将从一个小的、简单的感兴趣区域（Region of Interest, ROI）出发，手动构建其灰度共生矩阵（Gray-Level Co-occurrence Matrix, GLCM）。这项练习通过具体展示如何计数像素对并将其组织到矩阵中，来揭开 GLCM 的神秘面纱，从而为理解更复杂的纹理分析奠定坚实基础。",
            "id": "4563789",
            "problem": "一位放射组学分析师正在将一个计算机断层扫描切片中的一个小的二维感兴趣区域 (ROI) 量化为 $L=4$ 个离散的灰度级，标记为 $\\{0,1,2,3\\}$。该 ROI 由一个 $4 \\times 5$ 的矩阵给出\n$$\nI=\\begin{pmatrix}\n0  0  0  1  1 \\\\\n0  0  0  1  1 \\\\\n2  2  2  3  3 \\\\\n2  2  2  3  3\n\\end{pmatrix}.\n$$\n使用灰度共生矩阵 (GLCM) 的概念，它被定义为由指定空间偏移量分隔的有序灰度对的计数矩阵，为水平偏移向量 $\\vec{d}=(0,1)$（以像素为单位）构建一个非归一化的对称 GLCM。边界处理必须是非周期性的：排除任何需要 ROI 之外邻居的像素对。对称配对意味着，对于每一个在偏移量 $\\vec{d}$ 下观察到的有效对 $(i,j)$，也应将在偏移量 $-\\vec{d}$ 下观察到的反向对 $(j,i)$ 包含在同一个组合矩阵中，不进行归一化或平均。\n\n任务：\n1. 从第一性原理出发，为偏移量 $\\vec{d}=(0,1)$ 枚举有效的有序对以构建方向性计数矩阵，然后应用对称配对规则得到灰度级 $\\{0,1,2,3\\}$ 上的组合 GLCM。根据得到的计数，论证对于此 ROI 和偏移量，对角线元素是否占主导地位。\n2. 在所述的边界处理下，计算对称、非归一化的 GLCM 中包含的被计数像素对的总数 $N$。将 $N$ 的最终答案表示为整数。不需要四舍五入。",
            "solution": "该问题是有效的，因为它在科学上基于纹理分析的原理，特别是灰度共生矩阵 (GLCM) 的构建，并且问题是适定的，具有完整且一致的给定条件。\n\n任务是为一个给定的 $4 \\times 5$ 感兴趣区域 (ROI) 构建一个对称的、非归一化的 GLCM，然后确定被计数的像素对的总数。该 ROI 被量化为 $L=4$ 个灰度级 $\\{0, 1, 2, 3\\}$，并由以下矩阵表示：\n$$\nI=\\begin{pmatrix}\n0  0  0  1  1 \\\\\n0  0  0  1  1 \\\\\n2  2  2  3  3 \\\\\n2  2  2  3  3\n\\end{pmatrix}\n$$\n空间偏移量指定为 $\\vec{d}=(0,1)$，表示向下移动0行、向右移动1列的位移（即水平相邻的像素）。边界处理是非周期性的，这意味着需要 ROI 之外像素的像素对被排除。\n\n**1. GLCM的构建与对角线优势分析**\n\n首先，我们为偏移量 $\\vec{d}=(0,1)$ 构建方向性 GLCM，我们称之为 $P(\\vec{d})$。这包括扫描 ROI 并计次有序灰度对 $(i, j)$ 的出现次数，其中 $i$ 是坐标 $(r, c)$ 处像素的灰度级，而 $j$ 是坐标 $(r, c+1)$ 处像素的灰度级。给定矩阵 $I$ 的 $4 \\times 5$ 维度和非周期性边界条件，我们可以为列 $c \\in \\{1, 2, 3, 4\\}$ 形成像素对。\n\n有效的有序对 $(I(r,c), I(r,c+1))$ 枚举如下：\n- **第一行：** $(I(1,1), I(1,2)) = (0,0)$; $(I(1,2), I(1,3)) = (0,0)$; $(I(1,3), I(1,4)) = (0,1)$; $(I(1,4), I(1,5)) = (1,1)$。\n- **第二行：** $(I(2,1), I(2,2)) = (0,0)$; $(I(2,2), I(2,3)) = (0,0)$; $(I(2,3), I(2,4)) = (0,1)$; $(I(2,4), I(2,5)) = (1,1)$。\n- **第三行：** $(I(3,1), I(3,2)) = (2,2)$; $(I(3,2), I(3,3)) = (2,2)$; $(I(3,3), I(3,4)) = (2,3)$; $(I(3,4), I(3,5)) = (3,3)$。\n- **第四行：** $(I(4,1), I(4,2)) = (2,2)$; $(I(4,2), I(4,3)) = (2,2)$; $(I(4,3), I(4,4)) = (2,3)$; $(I(4,4), I(4,5)) = (3,3)$。\n\n接下来，我们统计上面列表中每个唯一对 $(i, j)$ 的计数：\n- $(0,0)$ 的计数：$4$\n- $(0,1)$ 的计数：$2$\n- $(1,1)$ 的计数：$2$\n- $(2,2)$ 的计数：$4$\n- $(2,3)$ 的计数：$2$\n- $(3,3)$ 的计数：$2$\n所有其他对的计数为0。\n\n得到的方向性 GLCM $P(\\vec{d})$ 是一个 $4 \\times 4$ 的矩阵，以灰度级 $\\{0,1,2,3\\}$ 为索引，其中第 $i$ 行和第 $j$ 列的元素是像素对 $(i,j)$ 的计数：\n$$\nP(\\vec{d}) = \\begin{pmatrix}\n4  2  0  0 \\\\\n0  2  0  0 \\\\\n0  0  4  2 \\\\\n0  0  0  2\n\\end{pmatrix}\n$$\n\n问题要求一个对称的 GLCM，$P_{sym}$，它同时考虑了偏移量 $\\vec{d}=(0,1)$ 及其反向偏移量 $-\\vec{d}=(0,-1)$。它通过将 $\\vec{d}$ 的方向性 GLCM 与 $-\\vec{d}$ 的方向性 GLCM 相加来构建。$-\\vec{d}$ 的 GLCM 是 $\\vec{d}$ 的 GLCM 的转置，即 $P(-\\vec{d}) = P(\\vec{d})^T$。\n\n首先，我们求 $P(\\vec{d})$ 的转置：\n$$\nP(-\\vec{d}) = P(\\vec{d})^T = \\begin{pmatrix}\n4  0  0  0 \\\\\n2  2  0  0 \\\\\n0  0  4  0 \\\\\n0  0  2  2\n\\end{pmatrix}\n$$\n对称 GLCM 是和 $P_{sym} = P(\\vec{d}) + P(\\vec{d})^T$：\n$$\nP_{sym} = \\begin{pmatrix}\n4  2  0  0 \\\\\n0  2  0  0 \\\\\n0  0  4  2 \\\\\n0  0  0  2\n\\end{pmatrix} + \\begin{pmatrix}\n4  0  0  0 \\\\\n2  2  0  0 \\\\\n0  0  4  0 \\\\\n0  0  2  2\n\\end{pmatrix} = \\begin{pmatrix}\n8  2  0  0 \\\\\n2  4  0  0 \\\\\n0  0  8  2 \\\\\n0  0  2  4\n\\end{pmatrix}\n$$\n为论证对角线元素是否占主导地位，我们将主对角线上的值与非对角线上的值进行比较。对角线元素为 $P_{sym}(0,0)=8$、$P_{sym}(1,1)=4$、$P_{sym}(2,2)=8$ 和 $P_{sym}(3,3)=4$。非零的非对角线元素为 $P_{sym}(0,1)=P_{sym}(1,0)=2$ 和 $P_{sym}(2,3)=P_{sym}(3,2)=2$。\n对角线元素之和为 $8+4+8+4=24$。非对角线元素之和为 $2+2+2+2=8$。由于 $24 \\gg 8$，计数集中在对角线上。此外，对于每一行 $i$，对角线元素 $P_{sym}(i,i)$ 都大于任何非对角线元素 $P_{sym}(i,j)$（其中 $i \\neq j$）。这种对角线优势表明，纹理在水平方向上很大程度上是均匀的，因为相邻像素频繁共享相同的灰度级。这与 ROI 矩阵 $I$ 的视觉结构一致，该矩阵由多个恒定强度的块组成。\n\n**2. 像素对总数 $N$ 的计算**\n\n对称、非归一化 GLCM 中被计数的像素对总数 $N$ 是其所有元素的和。\n$$\nN = \\sum_{i=0}^{3} \\sum_{j=0}^{3} P_{sym}(i,j)\n$$\n使用上面计算出的矩阵 $P_{sym}$：\n$$\nN = (8+2+0+0) + (2+4+0+0) + (0+0+8+2) + (0+0+2+4) = 10 + 6 + 10 + 6 = 32\n$$\n另外，我们可以通过考虑每个方向的有效像素对数量来确定 $N$。对于 $4 \\times 5$ 矩阵，偏移量 $\\vec{d}=(0,1)$ 的有效水平像素对数量为 $4 \\text{ 行} \\times (5-1) \\text{ 列} = 16$。类似地，对于反向偏移量 $-\\vec{d}=(0,-1)$，有效像素对的数量为 $4 \\text{ 行} \\times (5-1) \\text{ 列} = 16$。对称矩阵中的像素对总数是两个方向的总和：$N = 16 + 16 = 32$。这证实了结果。",
            "answer": "$$\\boxed{32}$$"
        },
        {
            "introduction": "掌握了如何构建 GLCM 后，我们来探讨它如何揭示纹理的内在属性。本练习使用经典的棋盘格图案来展示各向异性——即纹理特征如何随方向变化。通过计算不同方向上的 GLCM 及相应的纹理特征（角二阶矩），我们可以定量地测量这种方向依赖性。",
            "id": "4563813",
            "problem": "在影像组学中，灰度共生矩阵（GLCM）量化了体素强度的空间关系，是几种用于表征的纹理特征的基础。考虑一个具有两个灰度级的二值棋盘格图像，该图像定义在一个大小为 $5 \\times 4$（行 $\\times$ 列）的有限网格上，其规则为 $I(r,c) = (r + c) \\bmod 2$，其中 $1 \\leq r \\leq 5$ 且 $1 \\leq c \\leq 4$，并且 $I(r,c) \\in \\{0,1\\}$。使用非对称、单偏移量的GLCM，构建位移 $d=1$ 时在两个方向上的 $P_{d,\\theta}(i,j)$：$\\theta = 0^{\\circ}$（右侧邻居）和 $\\theta = 90^{\\circ}$（下方邻居）。在每个方向上，只计算边界内的像素对，并对矩阵进行归一化，使得 $\\sum_{i,j} P_{d,\\theta}(i,j) = 1$。\n\n根据这两个特定方向的GLCM，计算每个方向上的角二阶矩（ASM，也称为能量），并报告其有符号差值\n$$\\Delta = \\text{ASM}(0^{\\circ}) - \\text{ASM}(90^{\\circ}).$$\n请以单个精确的既约分数形式提供您的最终答案。角度以度为单位。最终答案无需单位。",
            "solution": "首先将根据指定标准对问题进行验证。\n\n### 问题验证\n\n#### 步骤 1：提取已知条件\n- **图像定义**：一个灰度级在 $\\{0,1\\}$ 内的二值图像。\n- **图像大小**：一个大小为 $5 \\times 4$（行 $\\times$ 列）的有限网格。\n- **强度规则**：$I(r,c) = (r + c) \\bmod 2$，其中 $1 \\leq r \\leq 5$ 且 $1 \\leq c \\leq 4$。\n- **GLCM类型**：非对称、单偏移量的灰度共生矩阵（GLCM），记为 $P_{d,\\theta}(i,j)$。\n- **GLCM参数**：\n  - 位移 $d=1$。\n  - 方向 $\\theta = 0^{\\circ}$（偏移量 $(0, 1)$，右侧邻居）。\n  - 方向 $\\theta = 90^{\\circ}$（偏移量 $(1, 0)$，下方邻居）。\n- **计数规则**：只计算边界内的像素对。\n- **归一化**：GLCM必须被归一化，使得 $\\sum_{i,j} P_{d,\\theta}(i,j) = 1$。\n- **待计算特征**：角二阶矩（ASM），定义为 $\\text{ASM} = \\sum_{i,j} [P(i,j)]^2$。\n- **最终量**：有符号差值 $\\Delta = \\text{ASM}(0^{\\circ}) - \\text{ASM}(90^{\\circ})$。\n- **输出格式**：单个精确的既约分数。\n\n#### 步骤 2：使用提取的已知条件进行验证\n- **科学依据**：该问题基于数字图像处理和纹理分析的原理。灰度共生矩阵（GLCM）和角二阶矩（ASM）是这些领域（尤其是在影像组学中）的标准、明确定义的概念。该问题描述了一个标准的数学构造。（有效）\n- **适定性**：图像网格、强度规则、GLCM参数以及待计算的量都得到了明确无误的定义。存在唯一解，并且可以通过确定性算法求得。（有效）\n- **客观性**：该问题完全用数学语言表达，不含主观或基于观点的陈述。（有效）\n\n该问题没有表现出任何诸如科学上不健全、信息缺失或模糊不清的缺陷。其定义和约束是自洽且一致的。\n\n#### 步骤 3：结论与行动\n该问题被认定为有效。将提供一个完整的、有理有据的解答。\n\n### 解答\n\n解答过程分四步进行：1. 构建图像矩阵，2. 计算每个指定方向的GLCM，3. 计算每个GLCM的ASM，4. 计算最终差值。\n\n**1. 图像构建**\n\n位于第 $r$ 行、第 $c$ 列的图像强度由 $I(r,c) = (r + c) \\bmod 2$ 给出。图像尺寸为 $5 \\times 4$。得到的图像矩阵 $I$ 为：\n$$\nI = \\begin{pmatrix}\n(1+1)\\bmod 2  (1+2)\\bmod 2  (1+3)\\bmod 2  (1+4)\\bmod 2 \\\\\n(2+1)\\bmod 2  (2+2)\\bmod 2  (2+3)\\bmod 2  (2+4)\\bmod 2 \\\\\n(3+1)\\bmod 2  (3+2)\\bmod 2  (3+3)\\bmod 2  (3+4)\\bmod 2 \\\\\n(4+1)\\bmod 2  (4+2)\\bmod 2  (4+3)\\bmod 2  (4+4)\\bmod 2 \\\\\n(5+1)\\bmod 2  (5+2)\\bmod 2  (5+3)\\bmod 2  (5+4)\\bmod 2\n\\end{pmatrix}\n=\n\\begin{pmatrix}\n0  1  0  1 \\\\\n1  0  1  0 \\\\\n0  1  0  1 \\\\\n1  0  1  0 \\\\\n0  1  0  1\n\\end{pmatrix}\n$$\n可用灰度级为 $i, j \\in \\{0, 1\\}$，因此GLCM将是 $2 \\times 2$ 的矩阵。\n\n**2. GLCM 计算**\n\n**a) 针对 $\\theta = 0^{\\circ}$ (偏移量 $(0, 1)$) 的 GLCM**\n\n我们计算 $1 \\le r \\le 5$ 和 $1 \\le c \\le 3$ 范围内相邻像素对 $(I(r,c), I(r,c+1))$ 的数量。边界内的像素对总数为 $N_{0^{\\circ}} = 5 \\text{ 行} \\times (4-1) \\text{ 列} = 15$。\n\n对于棋盘格图案，水平相邻的像素值总是不同的。因此，像素对 $(0,0)$ 和 $(1,1)$ 的计数为零。我们只需要计算像素对 $(0,1)$ 和 $(1,0)$ 的数量。\n\n- $(0,1)$ 对的计数：\n  - 第1行：$I(1,1)=0, I(1,2)=1$；$I(1,3)=0, I(1,4)=1$。（2对）\n  - 第2行：$I(2,2)=0, I(2,3)=1$。（1对）\n  - 第3行：$I(3,1)=0, I(3,2)=1$；$I(3,3)=0, I(3,4)=1$。（2对）\n  - 第4行：$I(4,2)=0, I(4,3)=1$。（1对）\n  - 第5行：$I(5,1)=0, I(5,2)=1$；$I(5,3)=0, I(5,4)=1$。（2对）\n$(0,1)$ 的总计数为 $2+1+2+1+2 = 8$。\n\n- $(1,0)$ 对的计数：\n  - 第1行：$I(1,2)=1, I(1,3)=0$。（1对）\n  - 第2行：$I(2,1)=1, I(2,2)=0$；$I(2,3)=1, I(2,4)=0$。（2对）\n  - 第3行：$I(3,2)=1, I(3,3)=0$。（1对）\n  - 第4行：$I(4,1)=1, I(4,2)=0$；$I(4,3)=1, I(4,4)=0$。（2对）\n  - 第5行：$I(5,2)=1, I(5,3)=0$。（1对）\n$(1,0)$ 的总计数为 $1+2+1+2+1 = 7$。\n\n计数总和为 $8+7 = 15$，与 $N_{0^{\\circ}}$ 相符。未归一化的GLCM为 $C_{1,0^{\\circ}} = \\begin{pmatrix} 0  8 \\\\ 7  0 \\end{pmatrix}$。\n归一化的GLCM为 $P_{1,0^{\\circ}}(i,j) = \\frac{1}{N_{0^{\\circ}}} C_{1,0^{\\circ}}(i,j)$：\n$$P_{1,0^{\\circ}} = \\frac{1}{15} \\begin{pmatrix} 0  8 \\\\ 7  0 \\end{pmatrix} = \\begin{pmatrix} 0  \\frac{8}{15} \\\\ \\frac{7}{15}  0 \\end{pmatrix}$$\n\n**b) 针对 $\\theta = 90^{\\circ}$ (偏移量 $(1, 0)$) 的 GLCM**\n\n我们计算 $1 \\le r \\le 4$ 和 $1 \\le c \\le 4$ 范围内相邻像素对 $(I(r,c), I(r+1,c))$ 的数量。边界内的像素对总数为 $N_{90^{\\circ}} = (5-1) \\text{ 行} \\times 4 \\text{ 列} = 16$。\n\n对于棋盘格图案，垂直相邻的像素值也总是不同的。因此，像素对 $(0,0)$ 和 $(1,1)$ 的计数为零。\n\n- $(0,1)$ 对的计数：\n  - 第1列：$I(1,1)=0, I(2,1)=1$；$I(3,1)=0, I(4,1)=1$。（2对）\n  - 第2列：$I(2,2)=0, I(3,2)=1$；$I(4,2)=0, I(5,2)=1$。（2对）\n  - 第3列：$I(1,3)=0, I(2,3)=1$；$I(3,3)=0, I(4,3)=1$。（2对）\n  - 第4列：$I(2,4)=0, I(3,4)=1$；$I(4,4)=0, I(5,4)=1$。（2对）\n$(0,1)$ 的总计数为 $2+2+2+2 = 8$。\n\n- $(1,0)$ 对的计数：\n  - 第1列：$I(2,1)=1, I(3,1)=0$；$I(4,1)=1, I(5,1)=0$。（2对）\n  - 第2列：$I(1,2)=1, I(2,2)=0$；$I(3,2)=1, I(4,2)=0$。（2对）\n  - 第3列：$I(2,3)=1, I(3,3)=0$；$I(4,3)=1, I(5,3)=0$。（2对）\n  - 第4列：$I(1,4)=1, I(2,4)=0$；$I(3,4)=1, I(4,4)=0$。（2对）\n$(1,0)$ 的总计数为 $2+2+2+2 = 8$。\n\n计数总和为 $8+8 = 16$，与 $N_{90^{\\circ}}$ 相符。未归一化的GLCM为 $C_{1,90^{\\circ}} = \\begin{pmatrix} 0  8 \\\\ 8  0 \\end{pmatrix}$。\n归一化的GLCM为 $P_{1,90^{\\circ}}(i,j) = \\frac{1}{N_{90^{\\circ}}} C_{1,90^{\\circ}}(i,j)$：\n$$P_{1,90^{\\circ}} = \\frac{1}{16} \\begin{pmatrix} 0  8 \\\\ 8  0 \\end{pmatrix} = \\begin{pmatrix} 0  \\frac{8}{16} \\\\ \\frac{8}{16}  0 \\end{pmatrix} = \\begin{pmatrix} 0  \\frac{1}{2} \\\\ \\frac{1}{2}  0 \\end{pmatrix}$$\n\n**3. 角二阶矩 (ASM) 计算**\n\nASM是归一化GLCM中各元素平方的总和：$\\text{ASM} = \\sum_{i,j} [P(i,j)]^2$。\n\n- 对于 $\\theta = 0^{\\circ}$：\n$$ \\text{ASM}(0^{\\circ}) = \\sum_{i,j} [P_{1,0^{\\circ}}(i,j)]^2 = 0^2 + \\left(\\frac{8}{15}\\right)^2 + \\left(\\frac{7}{15}\\right)^2 + 0^2 = \\frac{64}{225} + \\frac{49}{225} = \\frac{113}{225} $$\n\n- 对于 $\\theta = 90^{\\circ}$：\n$$ \\text{ASM}(90^{\\circ}) = \\sum_{i,j} [P_{1,90^{\\circ}}(i,j)]^2 = 0^2 + \\left(\\frac{1}{2}\\right)^2 + \\left(\\frac{1}{2}\\right)^2 + 0^2 = \\frac{1}{4} + \\frac{1}{4} = \\frac{2}{4} = \\frac{1}{2} $$\n\n**4. 最终差值计算**\n\n最后一步是计算有符号差值 $\\Delta = \\text{ASM}(0^{\\circ}) - \\text{ASM}(90^{\\circ})$。\n$$ \\Delta = \\frac{113}{225} - \\frac{1}{2} $$\n为了进行分数减法，我们找到一个公分母，即 $225 \\times 2 = 450$。\n$$ \\Delta = \\frac{113 \\times 2}{225 \\times 2} - \\frac{1 \\times 225}{2 \\times 225} = \\frac{226}{450} - \\frac{225}{450} = \\frac{226 - 225}{450} = \\frac{1}{450} $$\n这个分数已经是其最简的既约形式。",
            "answer": "$$\\boxed{\\frac{1}{450}}$$"
        },
        {
            "introduction": "GLCM 能够衍生出如对比度、能量和熵等众多特征，但这些数值究竟意味着什么？最后一个练习将通过一个理想化的、完全均匀的感兴趣区域，来探索这些特征在最简单情况下的取值。这个思想实验为我们解读来自更复杂的真实世界图像的特征值提供了重要的基准参考。",
            "id": "4563803",
            "problem": "医学图像中的一个正方形感兴趣区域（ROI）通过一个从原始强度到 $\\{0,1,\\dots,G-1\\}$ 的确定性映射 $Q$ 被量化为 $G$ 个离散的灰度级。考虑一个大小为 $M \\times N$ 的ROI，其中所有像素共享相同的量化灰度级索引 $g^{*} \\in \\{0,1,\\dots,G-1\\}$。使用灰度共生矩阵（GLCM）的定义，计算空间偏移量 $\\Delta = (0,1)$（每个像素与其右侧相邻像素配对，前提是该相邻像素在ROI内部）的非对称共生计数，对GLCM进行归一化以获得概率矩阵，然后根据放射组学和信息论中的标准定义，从第一性原理推导以下纹理特征的值：对比度、相异性、同质性（逆差矩）、角二阶矩、能量、熵（使用自然对数）和最大概率。提供精确值；无需四舍五入。按照以下顺序将最终答案表示为行矩阵：对比度、相异性、同质性、角二阶矩、能量、熵、最大概率。",
            "solution": "我们从量化和灰度共生矩阵（GLCM）的定义开始。设 $Q$ 将原始像素强度映射到集合 $\\{0,1,\\dots,G-1\\}$，并设ROI的大小为 $M \\times N$，其中所有像素具有相同的量化级别 $g^{*}$。对于选定的偏移量 $\\Delta = (0,1)$，我们通过将每个像素与其ROI内的右侧相邻像素配对来形成有序对 $(i,j)$。GLCM $C$ 是一个计数数组，其中 $C(i,j)$ 是左像素级别为 $i$、右像素级别为 $j$ 的共生次数。\n\n因为ROI中的每个像素的级别都是 $g^{*}$，所以在偏移量 $\\Delta$ 下的每个有效对都是 $(g^{*},g^{*})$。有效对的总数是ROI中水平相邻关系的数量，即 $M(N-1)$。因此\n$$\nC(i,j) = \\begin{cases}\nM(N-1),  \\text{如果 } i=g^{*} \\text{ 且 } j=g^{*},\\\\\n0,  \\text{其他情况}.\n\\end{cases}\n$$\n归一化的GLCM（概率矩阵）$P$是通过将计数除以总对数 $\\sum_{i=0}^{G-1}\\sum_{j=0}^{G-1} C(i,j) = M(N-1)$ 来定义的。因此，\n$$\nP(i,j) = \\frac{C(i,j)}{M(N-1)} = \\begin{cases}\n1,  \\text{如果 } i=g^{*} \\text{ 且 } j=g^{*},\\\\\n0,  \\text{其他情况}.\n\\end{cases}\n$$\n等价地，$P(i,j) = \\delta_{i,g^{*}}\\,\\delta_{j,g^{*}}$，其中 $\\delta$ 是克罗内克δ函数。\n\n我们现在从 $P$ 开始，根据放射组学中的标准定义计算所要求的特征。在下文中，所有的求和都是对 $i,j \\in \\{0,1,\\dots,G-1\\}$ 进行的。\n\n1. 对比度。对比度的定义是\n$$\n\\text{contrast} = \\sum_{i}\\sum_{j} (i-j)^{2}\\,P(i,j).\n$$\n由于除了在 $(i,j)=(g^{*},g^{*})$ 处，$P(i,j)$ 都为零，并且 $(g^{*}-g^{*})^{2} = 0$，因此\n$$\n\\text{contrast} = 0.\n$$\n\n2. 相异性。相异性的定义是\n$$\n\\text{dissimilarity} = \\sum_{i}\\sum_{j} |i-j|\\,P(i,j).\n$$\n同样，只有 $(i,j)=(g^{*},g^{*})$ 有贡献，且 $|g^{*}-g^{*}| = 0$，因此\n$$\n\\text{dissimilarity} = 0.\n$$\n\n3. 同质性（逆差矩）。同质性的定义是\n$$\n\\text{homogeneity} = \\sum_{i}\\sum_{j} \\frac{P(i,j)}{1+(i-j)^{2}}.\n$$\n只有 $(i,j)=(g^{*},g^{*})$ 有贡献，其分母为 $1+(g^{*}-g^{*})^{2} = 1$，所以\n$$\n\\text{homogeneity} = \\frac{1}{1} \\cdot P(g^{*},g^{*}) = 1.\n$$\n\n4. 角二阶矩（ASM）。ASM的定义是\n$$\n\\text{ASM} = \\sum_{i}\\sum_{j} \\big(P(i,j)\\big)^{2}.\n$$\n由于只有一个条目等于 $1$，其他所有条目都为 $0$，这得到\n$$\n\\text{ASM} = 1^{2} + \\sum_{\\substack{(i,j)\\neq(g^{*},g^{*})}} 0^{2} = 1.\n$$\n\n5. 能量。能量是角二阶矩的平方根：\n$$\n\\text{energy} = \\sqrt{\\text{ASM}} = \\sqrt{1} = 1.\n$$\n\n6. 熵。使用自然对数，熵的定义是\n$$\n\\text{entropy} = -\\sum_{i}\\sum_{j} P(i,j)\\,\\ln\\big(P(i,j)\\big),\n$$\n约定 $0\\ln(0)$ 按连续性处理为 $0$。只有 $P(g^{*},g^{*})=1$ 有贡献，并且 $\\ln(1)=0$，因此\n$$\n\\text{entropy} = -\\,1 \\cdot 0 = 0.\n$$\n\n7. 最大概率。最大概率特征是\n$$\n\\text{max prob} = \\max_{i,j} P(i,j) = 1.\n$$\n\n将这些值按照指定的顺序（对比度、相异性、同质性、角二阶矩、能量、熵、最大概率）收集起来，我们得到行矩阵\n$$\n\\begin{pmatrix}\n0  0  1  1  1  0  1\n\\end{pmatrix}.\n$$\n这些值证实了恒定强度ROI的预期边缘情况行为：最大的同质性（$1$）、最小的熵（$0$）、零对比度（$0$）和零相异性（$0$），以及由于单一非零概率质量，角二阶矩、能量和最大概率均为1。",
            "answer": "$$\\boxed{\\begin{pmatrix}0  0  1  1  1  0  1\\end{pmatrix}}$$"
        }
    ]
}