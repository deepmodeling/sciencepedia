{
    "hands_on_practices": [
        {
            "introduction": "在评估和使用一项诊断测试之前，我们首先需要量化其内在的诊断效力。本练习将指导您直接从灵敏度（$Se$）和特异度（$Sp$）这两个基本性能指标出发，计算阳性似然比（$LR+$）和阴性似然比（$LR-$），这是衡量一项测试改变疾病可能性的核心工具。",
            "id": "4557276",
            "problem": "一个社区预防健康项目正在评估一种新采用的针对无症状传染病的筛查测试。该测试的性能已在一项多中心验证研究中得到证实。该验证提供了以下汇总指标：灵敏度 $Se = 0.90$ 和特异度 $Sp = 0.95$。灵敏度是指在真正患病者中检测结果呈阳性的概率，而特异度是指在真正未患病者中检测结果呈阴性的概率。仅使用灵敏度和特异度作为条件概率的这些基本定义，计算该测试的阳性似然比和阴性似然比。然后，基于这些值，解释阳性结果和阴性结果在改变疾病几率方面所提供证据的强度。将两个数值答案四舍五入到四位有效数字，并以小数形式表示。此计算不需要有关疾病患病率的额外数据。",
            "solution": "问题陈述经过了严格验证，被认为是科学合理的、提法得当且客观的。它为完整解答提供了所有必要信息，没有任何内部矛盾或含糊之处。该问题是生物统计学和流行病学基本原理的标准应用。\n\n让我们定义以下事件：\n- $D$: 个体患有该疾病的事件。\n- $D^c$: 个体未患该疾病的事件。\n- $T^+$: 测试结果为阳性的事件。\n- $T^-$: 测试结果为阴性的事件。\n\n问题提供了以下定义和数值：\n- 灵敏度 ($Se$): 真阳性个体中测试结果为阳性的概率。用条件概率表示法，即为 $Se = P(T^+ | D)$。\n- 特异度 ($Sp$): 真阴性个体中测试结果为阴性的概率。用条件概率表示法，即为 $Sp = P(T^- | D^c)$。\n\n给定值为 $Se = 0.90$ 和 $Sp = 0.95$。\n\n任务是计算阳性似然比 ($LR+$) 和阴性似然比 ($LR-$)。\n\n阳性似然比 $LR+$ 定义为患病个体中测试结果为阳性的概率与未患病个体中测试结果为阳性的概率之比。\n$$LR+ = \\frac{P(T^+ | D)}{P(T^+ | D^c)}$$\n分子 $P(T^+ | D)$ 是灵敏度 $Se$。\n分母 $P(T^+ | D^c)$ 是未患病者中测试结果为阳性的概率，即假阳性率。因为对于任何条件事件，所有结果的概率之和必须为 $1$，所以我们有 $P(T^+ | D^c) + P(T^- | D^c) = 1$。$P(T^- | D^c)$ 项是特异度 $Sp$。因此，假阳性率为 $P(T^+ | D^c) = 1 - Sp$。\n\n将这些表达式代入 $LR+$ 的公式中：\n$$LR+ = \\frac{Se}{1 - Sp}$$\n\n使用提供的数值：\n$$LR+ = \\frac{0.90}{1 - 0.95} = \\frac{0.90}{0.05} = 18$$\n\n阴性似然比 $LR-$ 定义为患病个体中测试结果为阴性的概率与未患病个体中测试结果为阴性的概率之比。\n$$LR- = \\frac{P(T^- | D)}{P(T^- | D^c)}$$\n分母 $P(T^- | D^c)$ 是特异度 $Sp$。\n分子 $P(T^- | D)$ 是患病者中测试结果为阴性的概率，即假阴性率。使用与之前相同的逻辑，$P(T^+ | D) + P(T^- | D) = 1$。$P(T^+ | D)$ 项是灵敏度 $Se$。因此，假阴性率为 $P(T^- | D) = 1 - Se$。\n\n将这些表达式代入 $LR-$ 的公式中：\n$$LR- = \\frac{1 - Se}{Sp}$$\n\n使用提供的数值：\n$$LR- = \\frac{1 - 0.90}{0.95} = \\frac{0.10}{0.95}$$\n$$LR- \\approx 0.105263157...$$\n根据要求四舍五入到四位有效数字，我们得到 $LR- = 0.1053$。\n\n最终的数值结果是 $LR+ = 18$ 和 $LR- \\approx 0.1053$。将 $18$ 表示为四位有效数字得到 $18.00$。\n\n结果解释：\n似然比描述了测试结果在多大程度上改变了患病的几率。其关系为：测试后几率 = 测试前几率 $\\times$ 似然比。\n- 阳性结果 ($T^+$) 对应于 $LR+ = 18.00$。这意味着阳性测试结果将患病几率增加了 $18$ 倍。在临床实践中，$LR+ > 10$ 被认为提供了强有力的证据来确诊疾病。因此，该测试的阳性结果是一个强有力的指标，表明此人患有该疾病。\n- 阴性结果 ($T^-$) 对应于 $LR- = 0.1053$。这意味着阴性测试结果将测试前患病几率乘以 $0.1053$。通常认为 $LR-  0.1$ 是排除疾病的强有力证据。$0.1053$ 这个值非常接近该阈值，表明阴性测试结果提供了中等到强的证据来反驳疾病的存在，从而显著降低了其可能性。",
            "answer": "$$\\boxed{\\begin{pmatrix} 18.00  0.1053 \\end{pmatrix}}$$"
        },
        {
            "introduction": "获得了似然比之后，下一步就是用它来更新我们的临床判断。本练习将向您展示贝叶斯更新的核心过程，通过一个具体的案例，演示如何运用似然比将一个检验前的先验概率，转化为一个信息更充分的检验后后验概率。",
            "id": "4557324",
            "problem": "一家社区预防医学诊所正在试行一项针对某种潜伏性传染病的基于风险的筛查方案。对于高风险分层中的个体，患有该病的先验概率为 $p=0.10$。筛查分析返回单一阳性结果，验证研究表明阳性测试的似然比 ($LR^{+}$) 为 $LR^{+}=8$。仅使用概率、优势、似然比和贝叶斯定理的核心定义，将先验概率 $p$ 转换为先验优势 $\\frac{p}{1-p}$，使用 $LR^{+}$ 更新以获得后验优势，然后转换回此次单一阳性测试后的后验概率。明确展示每个转换步骤。将最终的后验概率表示为小数，并将答案四舍五入到四位有效数字。",
            "solution": "在尝试解答之前，对问题进行验证。\n\n### 步骤1：提取已知条件\n- 患病的先验概率：$p=0.10$。\n- 筛查分析结果：单一阳性结果。\n- 阳性测试的似然比：$LR^{+} = 8$。\n- 任务是计算阳性测试后的后验概率，方法是首先将先验概率转换为先验优势，然后使用似然比更新为后验优势，最后将后验优势转换回后验概率。最终答案必须是四舍五入到四位有效数字的小数。\n\n### 步骤2：使用提取的已知条件进行验证\n根据指定标准评估问题：\n- **科学依据**：该问题利用了流行病学和生物统计学中经过验证的核心概念，即先验概率、优势、似然比和贝叶斯更新。这些是解释临床和预防医学中诊断测试结果的标准工具。给定的值（$p=0.10$，$LR^{+}=8$）对于应用于高风险人群的中等良好测试是合理的。该问题是科学合理的。\n- **良态问题**：提供了所有必要信息。概率、优势和似然比之间的关系定义明确。指令清晰，能导出一个唯一、稳定的解。该问题是良态的。\n- **客观性**：语言精确且定量，没有任何主观或模糊的术语。\n\n### 步骤3：结论与行动\n问题有效。这是贝叶斯原理在医学背景下的直接应用。将提供完整解答。\n\n解答过程遵循问题陈述中概述的步骤。设 $D$ 为个体患有该病的事件，设 $T^{+}$ 为测试结果为阳性的事件。\n\n患病的先验概率给定为 $P(D) = p = 0.10$。\n\n**步骤1：将先验概率转换为先验优势。**\n\n概率 $P$ 和优势 $O$ 之间的关系定义为 $O = \\frac{P}{1-P}$。\n患病的先验优势 $O_{\\text{prior}}$ 是根据先验概率 $p$ 计算得出的：\n$$\nO_{\\text{prior}} = \\frac{p}{1-p}\n$$\n代入给定值 $p=0.10$：\n$$\nO_{\\text{prior}} = \\frac{0.10}{1 - 0.10} = \\frac{0.10}{0.90} = \\frac{1}{9}\n$$\n\n**步骤2：使用 $LR^{+}$ 更新以获得后验优势。**\n\n贝叶斯定理可以用优势和似然比来表示。后验优势是先验优势与相应似然比的乘积。对于阳性测试结果（$T^{+}$），我们使用阳性似然比，$LR^{+}$。\n$$\n\\text{Posterior Odds} = \\text{Prior Odds} \\times \\text{Likelihood Ratio}\n$$\n在我们的符号表示中，即为：\n$$\nO_{\\text{post}} = O_{\\text{prior}} \\times LR^{+}\n$$\n在这里，$O_{\\text{post}}$ 表示在给定阳性测试结果的情况下患病的优势，即 $O(D|T^{+})$。\n代入 $O_{\\text{prior}}$ 和 $LR^{+}$ 的值：\n$$\nO_{\\text{post}} = \\frac{1}{9} \\times 8 = \\frac{8}{9}\n$$\n\n**步骤3：将后验优势转换回后验概率。**\n\n将优势 $O$ 转换回概率 $P$ 的关系是 $P = \\frac{O}{1+O}$。\n后验概率 $P_{\\text{post}}$ 是指在给定阳性测试结果的情况下患病的概率，即 $P(D|T^{+})$。它是根据后验优势 $O_{\\text{post}}$ 计算得出的：\n$$\nP_{\\text{post}} = \\frac{O_{\\text{post}}}{1 + O_{\\text{post}}}\n$$\n代入 $O_{\\text{post}}$ 的值：\n$$\nP_{\\text{post}} = \\frac{\\frac{8}{9}}{1 + \\frac{8}{9}} = \\frac{\\frac{8}{9}}{\\frac{9}{9} + \\frac{8}{9}} = \\frac{\\frac{8}{9}}{\\frac{17}{9}} = \\frac{8}{17}\n$$\n\n**最终计算和四舍五入**\n\n问题要求最终答案表示为四舍五入到四位有效数字的小数。\n$$\nP_{\\text{post}} = \\frac{8}{17} \\approx 0.470588235...\n$$\n四舍五入到四位有效数字得出：\n$$\nP_{\\text{post}} \\approx 0.4706\n$$\n该值表示个体在收到单一阳性测试结果后患有该潜伏性疾病的更新概率。",
            "answer": "$$\n\\boxed{0.4706}\n$$"
        },
        {
            "introduction": "这项练习旨在培养您的批判性思维，揭示医学诊断中一个常见但极其重要的认知陷阱。通过计算罕见病筛查场景下的阳性预测值（PPV），本练习深刻地揭示了“基础概率谬误”（base rate fallacy）现象，强调了患病率在决定一项测试的真实预测价值时所起的决定性作用。",
            "id": "4979036",
            "problem": "一家医院为一种罕见病部署了一项筛查测试。设疾病患病率为 $\\pi = 0.001$，测试灵敏度为 $Se = 0.95$，测试特异度为 $Sp = 0.98$。请仅使用灵敏度、特异度和患病率的核心定义以及贝叶斯法则，推导阳性预测值（PPV）的表达式，其定义为在测试结果为阳性的条件下患有该疾病的概率，$PPV = P(\\text{Disease} \\mid \\text{Test}+)$。请根据给定参数评估此值，并以小数形式提供最终数值。将最终数值结果四舍五入至五位有效数字，且不要使用百分号。\n\n此外，请基于贝叶斯法则和比值的概率推理，解释为什么在这种情况下，即使测试具有高灵敏度和高特异度，阳性结果仍然可能对应于较低的患病概率。您的解释应精确地提及基础率（患病率）的作用，以及当 $\\pi$ 非常小时假阳性是如何产生影响的。\n\n请将最终数值答案表示为具有五位有效数字的小数，且不包含任何单位。",
            "solution": "该问题是有效的，因为它在科学上基于概率论和医学统计学的原理，问题陈述清晰且提供了所有必要信息，并且表述客观。我们将提供一个完整的解。\n\n设 $D$ 表示个体患有该疾病的事件，$D^c$ 表示个体未患该疾病的互补事件。设 $T+$ 表示测试结果为阳性的事件，$T-$ 表示测试结果为阴性的事件。\n\n根据问题陈述，我们得到以下概率：\n- 疾病的患病率：$P(D) = \\pi = 0.001$。\n- 测试的灵敏度：$P(T+ \\mid D) = Se = 0.95$。\n- 测试的特异度：$P(T- \\mid D^c) = Sp = 0.98$。\n\n由此，我们可以推导出另外两个必要的概率：\n- 未患病的概率：$P(D^c) = 1 - P(D) = 1 - \\pi = 1 - 0.001 = 0.999$。\n- 在未患病的情况下测试为阳性的概率（假阳性率）：$P(T+ \\mid D^c) = 1 - P(T- \\mid D^c) = 1 - Sp = 1 - 0.98 = 0.02$。\n\n主要目标是推导并计算阳性预测值（PPV），其定义为在测试结果为阳性的条件下患有该疾病的概率，$PPV = P(D \\mid T+)$。我们将使用贝叶斯法则进行此推导。\n\n贝叶斯法则表述如下：\n$$P(D \\mid T+) = \\frac{P(T+ \\mid D) P(D)}{P(T+)}$$\n分母 $P(T+)$ 是获得阳性测试结果的总概率。它可以通过全概率法则，对疾病状态进行边缘化来求得：\n$$P(T+) = P(T+ \\mid D) P(D) + P(T+ \\mid D^c) P(D^c)$$\n将给定的定义代入此表达式，得到：\n$$P(T+) = (Se)(\\pi) + (1 - Sp)(1 - \\pi)$$\n现在，将这个展开的 $P(T+)$ 形式代回贝叶斯法则，得到 PPV 关于灵敏度、特异度和患病率的通用表达式：\n$$PPV = P(D \\mid T+) = \\frac{(Se)(\\pi)}{(Se)(\\pi) + (1 - Sp)(1 - \\pi)}$$\n这就是推导出的阳性预测值表达式。\n\n接下来，我们用给定的参数评估这个量：$\\pi = 0.001$，$Se = 0.95$，$Sp = 0.98$。\n$$PPV = \\frac{(0.95)(0.001)}{(0.95)(0.001) + (1 - 0.98)(1 - 0.001)}$$\n$$PPV = \\frac{0.00095}{0.00095 + (0.02)(0.999)}$$\n$$PPV = \\frac{0.00095}{0.00095 + 0.01998}$$\n$$PPV = \\frac{0.00095}{0.02093}$$\n进行除法运算：\n$$PPV \\approx 0.0453893932...$$\n将此结果四舍五入至五位有效数字，我们得到 $0.045389$。\n\n问题的第二部分要求解释为什么尽管灵敏度和特异度很高，PPV 却如此之低。原因在于疾病的患病率（或基础率）极低，这一原理在数学上由贝叶斯法则所体现。\n\n我们可以使用贝叶斯法则的比值形式来分析这个问题。在测试结果为阳性的条件下，患病的后验比值等于患病的先验比值乘以阳性测试的似然比（$LR+$）。\n$$ \\frac{P(D \\mid T+)}{P(D^c \\mid T+)} = \\frac{P(D)}{P(D^c)} \\times \\frac{P(T+ \\mid D)}{P(T+ \\mid D^c)} $$\n各项分别为：\n- 患病的先验比值：$\\frac{\\pi}{1 - \\pi} = \\frac{0.001}{0.999} \\approx \\frac{1}{999}$。这个比值非常低，反映了该病症的罕见性。\n- 阳性测试的似然比：$LR+ = \\frac{Se}{1 - Sp} = \\frac{0.95}{0.02} = 47.5$。这个值表示阳性测试结果在患病者中出现的可能性是无病者中的 $47.5$ 倍。这代表了测试的诊断强度。\n\n因此，后验比值为：\n$$ \\text{后验比值} = \\left(\\frac{0.001}{0.999}\\right) \\times 47.5 \\approx 0.0475475 $$\n尽管测试提供了强有力的证据（$LR+ = 47.5$），但它更新的是一个极低的先验信念。得到的后验比值仍然很低（小于 $1:20$）。将此比值转换回概率即为 PPV：\n$$PPV = \\frac{\\text{后验比值}}{1 + \\text{后验比值}} \\approx \\frac{0.0475475}{1.0475475} \\approx 0.04539$$\n最终的概率仍然很低，因为初始概率非常低。\n\n为了使这一点更具体，我们考虑一个包含 $1,000,000$ 个体的假设人群。\n- 患病个体数量（真病例）：$1,000,000 \\times \\pi = 1,000,000 \\times 0.001 = 1,000$。\n- 未患病个体数量（健康病例）：$1,000,000 \\times (1 - \\pi) = 1,000,000 \\times 0.999 = 999,000$。\n\n现在我们对这整个人群进行筛查：\n- **真阳性（TP）**：患病者中测试呈阳性的人数是 $1,000 \\times Se = 1,000 \\times 0.95 = 950$。\n- **假阳性（FP）**：健康者中测试呈阳性的人数是 $999,000 \\times (1 - Sp) = 999,000 \\times 0.02 = 19,980$。\n\n测试呈阳性的总人数是真阳性和假阳性的总和：$TP + FP = 950 + 19,980 = 20,930$。\n\nPPV 是阳性测试中实际为真阳性的比例：\n$$ PPV = \\frac{TP}{TP + FP} = \\frac{950}{20,930} \\approx 0.045389 $$\n这个计算揭示了核心问题：由于该疾病很罕见，健康个体的群体（$999,000$人）远大于患病个体的群体（$1,000$人）。即使假阳性率很低（$2\\%$），将其应用于庞大的健康人群时，也会产生绝对数量巨大的假阳性（$19,980$例）。假阳性的数量完全超过了真阳性的数量（$950$例）。因此，任何一个给定的阳性测试结果，更有可能来自一个健康的假阳性个体，而不是一个患病的真阳性个体。这种现象被称为基础率谬误，它表明在筛查罕见病时，即使测试具有高灵敏度和高特异度，也可能得出较低的阳性预测值。",
            "answer": "$$\\boxed{0.045389}$$"
        }
    ]
}