{
    "hands_on_practices": [
        {
            "introduction": "在评估筛查试验时，区分可靠性（reliability）和有效性（validity）是至关重要的第一步。一个常见的误解是认为两者可以互换，即一个可重复的测试就是准确的。本练习  通过一个精心设计的思想实验，揭示了一个测试如何可以做到完美可靠（即每次测量都得到相同的结果），但由于系统性偏差而完全无效。理解这一区别对于批判性地评价新的诊断技术和避免基于错误“金标准”的误导性结论至关重要。",
            "id": "4568782",
            "problem": "一个公共卫生团队正在评估一种新的即时检验（point-of-care）空腹血糖筛查设备，该设备旨在在初级保健人群中检测糖尿病。该设备会产生一个数值读数，如果读数至少达到诊所使用的糖尿病阈值，则将该人分类为“筛查阳性”。该团队研究了一个由 $1000$ 名空腹成年人组成的队列。为清晰概念，假设“真实疾病”状态由一种使用同位素稀释质谱法（Isotope Dilution Mass Spectrometry, IDMS）的高度精确的化学参考标准定义，即当且仅当真实空腹血浆葡萄糖至少为 $126$ 毫克/分升时，个体才真正患有糖尿病。该队列中的真实空腹血糖值分布如下：在 $200$ 名真正的糖尿病患者中，$120$ 人的真实血糖在 $126$ 到 $135$ 毫克/分升之间，$80$ 人的真实血糖至少为 $136$ 毫克/分升；在 $800$ 名真正的非糖尿病者中，$200$ 人的真实血糖在 $110$ 到 $125$ 毫克/分升之间，$600$ 人的真实血糖低于 $110$ 毫克/分升。\n\n然而，诊所的“金标准”实验室存在缺陷：由于分析前样本处理问题，其葡萄糖检测在整个测量范围内系统性地低估了真实血糖值 $10$ 毫克/分升。团队根据这个有缺陷的实验室校准了筛查设备，使得该设备的数值输出也低估了真实血糖值 $10$ 毫克/分升，并且筛查阈值在该设备的刻度上保持为至少 $126$ 毫克/分升。在对每位参与者连续 $3$ 次的重复测试中，该设备对每个人的报告值和分类都完全相同，表明其重测信度（test–retest agreement）完美。\n\n从核心定义出发：信度（reliability，即可重复性）反映了重复测量中较低的随机误差，效度（validity）反映了相对于真实目标状况的分类准确性，灵敏度（sensitivity）是在真正患有该病的人群中测试呈阳性的概率，而特异度（specificity）是在真正未患该病的人群中测试呈阴性的概率。请根据这些定义，判断在这种情况下以下哪些陈述是正确的。\n\nA. 该筛查设备具有完美的信度，但其相对于真实疾病的灵敏度为 $40\\%$，特异度为 $100\\%$。\n\nB. 当以有缺陷的实验室为参考标准进行评估时，该筛查设备的灵敏度和特异度均为 $100\\%$。\n\nC. 因为该设备和有缺陷的实验室具有相同的系统性偏差，所以该设备相对于有缺陷的实验室的灵敏度将为 $40\\%$，特异度将为 $100\\%$。\n\nD. 完美的重测信度意味着高效度；因此，该筛查设备对于诊断相对于真实疾病状态的糖尿病是有效的。\n\nE. 仅基于与有缺陷的参考标准的一致性而声称该设备“高效度”是毫无根据的；效度需要一个准确的真理标准，否则准确性的量化指标会存在系统性偏差，关于诊断性能的知识主张可能会产生误导。",
            "solution": "该问题陈述已被评估并被认为是有效的。它具有科学依据，问题提出得当，客观，内部一致，并包含推导解决方案所需的所有必要信息。\n\n分析过程首先确定筛查设备相对于真实疾病状态的性能特征（信度、灵敏度和特异度）。然后，对照有缺陷的实验室参考标准评估其性能。最后，根据这些发现逐一评估每个选项。\n\n设 $G_{true}$ 为个体的真实空腹血浆葡萄糖值，单位为毫克/分升 (mg/dL)。\n\n**1. 定义和人群数据**\n\n*   **真实疾病状态 ($D$):**\n    *   个体在 $G_{true} \\ge 126$ 时为真正糖尿病患者 ($D^+$)。$D^+$ 总人数为 $200$。\n    *   个体在 $G_{true}  126$ 时为真正非糖尿病者 ($D^-$)。$D^-$ 总人数为 $800$。\n*   **人群亚组:**\n    *   $D^+$ ($N=200$):\n        *   $120$ 人的 $126 \\le G_{true} \\le 135$。\n        *   $80$ 人的 $G_{true} \\ge 136$。\n    *   $D^-$ ($N=800$):\n        *   $200$ 人的 $110 \\le G_{true} \\le 125$。\n        *   $600$ 人的 $G_{true}  110$。\n*   **筛查设备 ($T$):**\n    *   设备读数为 $G_{device} = G_{true} - 10$。\n    *   如果 $G_{device} \\ge 126$，则测试为阳性 ($T^+$)。\n    *   如果 $G_{device}  126$，则测试为阴性 ($T^-$)。\n\n**2. 设备信度**\n\n问题陈述：“在对每位参与者连续 $3$ 次的重复测试中，该设备对每个人的报告值和分类都完全相同，表明其重测信度（test–retest agreement）完美。”信度，即可重复性，是随机误差的度量。完美的重测信度意味着没有随机误差。因此，该设备具有完美的信度。\n\n**3. 设备相对于真实疾病状态的效度（灵敏度和特异度）**\n\n效度是相对于真实状况的准确性。我们必须计算相对于真实疾病状态（$D^+$ 和 $D^-$）的灵敏度和特异度。\n\n首先，我们将设备的阳性阈值转换到真实血糖值的尺度上：\n测试为阳性 ($T^+$) 的条件是 $G_{device} \\ge 126$。\n代入 $G_{device} = G_{true} - 10$，我们得到：\n$G_{true} - 10 \\ge 126 \\implies G_{true} \\ge 136$。\n所以，只有当个体的真实血糖至少为 $136$ mg/dL 时，设备才会将其分类为阳性。\n\n现在我们可以为设备 ($T$) 与真实疾病状态 ($D$) 构建一个 $2 \\times 2$ 表：\n\n*   **真阳性 ($TP$):** 既是 $D^+$ 又是 $T^+$ 的个体。\n    *   条件：($G_{true} \\ge 126$) 且 ($G_{true} \\ge 136$)。\n    *   这等价于 $G_{true} \\ge 136$。\n    *   根据给定信息，有 $80$ 个这样的个体。因此，$TP = 80$。\n*   **假阴性 ($FN$):** 是 $D^+$ 但 $T^-$ 的个体。\n    *   条件：($G_{true} \\ge 126$) 且 ($G_{true}  136$)。\n    *   这等价于 $126 \\le G_{true}  136$。问题陈述中有 $120$ 个个体在 $126$ 到 $135$ mg/dL 的范围内。\n    *   因此，$FN = 120$。\n*   **真阴性 ($TN$):** 既是 $D^-$ 又是 $T^-$ 的个体。\n    *   条件：($G_{true}  126$) 且 ($G_{true}  136$)。\n    *   这等价于 $G_{true}  126$。\n    *   所有 $800$ 名非糖尿病者都满足此条件。\n    *   因此，$TN = 800$。\n*   **假阳性 ($FP$):** 是 $D^-$ 但 $T^+$ 的个体。\n    *   条件：($G_{true}  126$) 且 ($G_{true} \\ge 136$)。\n    *   这两个条件是互斥的。不可能同时满足。\n    *   因此，$FP = 0$。\n\n现在，我们计算灵敏度和特异度：\n*   **灵敏度** = $P(T^+|D^+) = \\frac{TP}{TP+FN} = \\frac{80}{80+120} = \\frac{80}{200} = 0.40 = 40\\%$.\n*   **特异度** = $P(T^-|D^-) = \\frac{TN}{TN+FP} = \\frac{800}{800+0} = \\frac{800}{800} = 1.00 = 100\\%$.\n\n**4. 对照有缺陷的实验室参考标准的性能评估**\n\n设以有缺陷的实验室为参考标准，记为 $L$。\n*   实验室的读数为 $G_{lab} = G_{true} - 10$。\n*   如果结果满足糖尿病阈值，即 $G_{lab} \\ge 126$，实验室会将此人分类为“阳性” ($L^+$)。\n*   如果 $G_{lab}  126$，实验室会将此人分类为“阴性” ($L^-$)。\n\n让我们将实验室的分类转换到真实血糖值的尺度上：\n一个人是 $L^+$ 的条件是 $G_{lab} \\ge 126 \\implies G_{true} - 10 \\ge 126 \\implies G_{true} \\ge 136$。\n一个人是 $L^-$ 的条件是 $G_{lab}  126 \\implies G_{true} - 10  126 \\implies G_{true}  136$。\n\n将此与筛查设备的分类进行比较：\n一个人是 $T^+$ 的条件是 $G_{true} \\ge 136$。\n一个人是 $T^-$ 的条件是 $G_{true}  136$。\n\n对于筛查设备 ($T$) 和有缺陷的实验室 ($L$)，阳性或阴性的标准是完全相同的。对于队列中的每个个体，$T$ 和 $L$ 将产生完全相同的分类。\n$T^+$ 当且仅当 $L^+$。\n$T^-$ 当且仅当 $L^-$。\n\n因此，当以有缺陷的实验室为参考标准来评估筛查设备时：\n*   “真阳性”的数量（在阳性上的一致性）是 $G_{true} \\ge 136$ 的个体数量，即 $80$ 人。被有缺陷的实验室分类为阳性 ($L^+$) 的个体数量也是 $80$ 人。因此，相对于这个有缺陷的标准的灵敏度是 $\\frac{80}{80} = 1.00 = 100\\%$。\n*   “真阴性”的数量（在阴性上的一致性）是 $G_{true}  136$ 的个体数量。这是总人口 ($1000$) 减去 $G_{true} \\ge 136$ 的人数 ($80$)，即 $920$ 人。被有缺陷的实验室分类为阴性 ($L^-$) 的个体数量也是 $920$ 人。因此，相对于这个有缺陷的标准的特异度是 $\\frac{920}{920} = 1.00 = 100\\%$。\n\n**5. 逐项分析**\n\n**A. 该筛查设备具有完美的信度，但其相对于真实疾病的灵敏度为 $40\\%$，特异度为 $100\\%$。**\n*   “完美的信度”：如第2节所述，完美的重测信度意味着设备具有完美的信度（零随机误差）。这是正确的。\n*   “相对于真实疾病的灵敏度为 $40\\%$”：如第3节计算，真实灵敏度确实是 $40\\%$。这是正确的。\n*   “特异度为 $100\\%$”：如第3节计算，真实特异度确实是 $100\\%$。这是正确的。\n*   结论：**正确**。\n\n**B. 当以有缺陷的实验室为参考标准进行评估时，该筛查设备的灵敏度和特异度均为 $100\\%$。**\n*   如第4节所推导，由于相同的系统性偏差和阈值，该设备与有缺陷的实验室完全一致。当使用有缺陷的实验室作为参考标准时，这种完美的一致性转化为计算出的 $100\\%$ 的灵敏度和 $100\\%$ 的特异度。\n*   结论：**正确**。\n\n**C. 因为该设备和有缺陷的实验室具有相同的系统性偏差，所以该设备相对于有缺陷的实验室的灵敏度将为 $40\\%$，特异度将为 $100\\%$。**\n*   该陈述正确地指出了设备和有缺陷的实验室具有相同的偏差。然而，它错误地得出了由此产生的性能指标。$40\\%$ 和 $100\\%$ 这两个值是相对于*真实疾病状态*的灵敏度和特异度，而不是相对于*有缺陷的实验室*。如选项B的分析所示，相对于有缺陷的实验室的灵敏度和特异度均为 $100\\%$。\n*   结论：**不正确**。\n\n**D. 完美的重测信度意味着高效度；因此，该筛查设备对于诊断相对于真实疾病状态的糖尿病是有效的。**\n*   前提“完美的重测信度意味着高效度”是一个基本的逻辑和科学错误。信度（精密度）是效度（准确度）的必要条件，但不是充分条件。一个测量仪器可以有完美的信度，但持续地出错（即存在偏差）。\n*   结论“该筛查设备是有效的”被我们的计算证明是错误的，因为灵敏度只有 $40\\%$。一个漏掉了 $60\\%$ 真实病例的测试不能被认为是有效的诊断工具。\n*   结论：**不正确**。\n\n**E. 仅基于与有缺陷的参考标准的一致性而声称该设备“高效度”是毫无根据的；效度需要一个准确的真理标准，否则准确性的量化指标会存在系统性偏差，关于诊断性能的知识主张可能会产生误导。**\n*   这个陈述是一个方法论和认识论上的原则。让我们在问题的背景下分析它的组成部分。\n    *   “仅基于与有缺陷的参考标准的一致性而声称该设备‘高效度’是毫无根据的”：B选项的结果（相对于有缺陷实验室的灵敏度和特异度为 $100\\%$）将构成这种主张的基础。该陈述正确地断言这是毫无根据的。\n    *   “效度需要一个准确的真理标准”：这是效度的定义。真正的标准是IDMS参考标准，而不是有缺陷的实验室。\n    *   “准确性的量化指标会存在系统性偏差”：相对于有缺陷实验室计算出的指标（$100\\%$，$100\\%$）确实是对真实指标（$40\\%$，$100\\%$）的一种有偏差且虚高的表述。\n    *   “关于诊断性能的知识主张可能会产生误导”：声称该设备灵敏度为 $100\\%$ 将会产生严重误导，因为它漏掉了大多数糖尿病病例。\n*   问题中描述的场景完美地说明了该陈述的每个部分。因此，该陈述是对情况的正确分析。\n*   结论：**正确**。",
            "answer": "$$\\boxed{ABE}$$"
        },
        {
            "introduction": "筛查试验的最终目的是帮助我们更新对个体患病风险的判断。从群体层面的指标（如灵敏度和特异度）过渡到个体化的风险评估，需要更精密的工具。本练习  引导你使用贝叶斯定理（Bayes' theorem）的优势比（odds）形式和似然比（Likelihood Ratio, $LR$），将一个阳性测试结果转化为更新后的后验概率。掌握这种方法，你将能够量化诊断信息如何改变临床决策，这是循证医学实践中的一项核心技能。",
            "id": "4568787",
            "problem": "一个针对某种疾病的转诊诊所筛查项目使用了一种检测方法，其效度通过其阳性似然比（$LR^+$）来表征。阳性似然比的定义是，患有该疾病的个体中检测结果为阳性的概率与未患该疾病的个体中检测结果为阳性的概率之比。来自某个亚群的一名患者，其患该疾病的初始风险（验前概率）为 $0.20$，且其检测结果为阳性。在相似的队列中，通过良好校准的灵敏度和特异度，该检测的 $LR^+$ 估计为 $8$。\n\n请仅从概率、条件概率、优势（odds）和贝叶斯定理的核心定义出发，推导在检测结果为阳性后，疾病的验后优势与验前优势及 $LR^+$ 之间的关系。然后，应用你推导出的关系，计算该患者在得到阳性检测结果后的疾病后验概率。将最终的后验概率表示为小数，并四舍五入到四位有效数字。最终答案中不允许使用百分号。",
            "solution": "验证过程确认了该问题具有科学依据、提法明确且客观。它包含了所有必要信息，没有矛盾或歧义。我现在将提供完整解答。\n\n设 $D$ 为患者患有该疾病的事件，$D^c$ 为患者未患该疾病的事件。设 $T^+$ 为筛查测试结果为阳性的事件。\n\n问题提供了以下信息：\n- 该疾病的验前概率: $P(D) = 0.20$。\n- 阳性似然比: $LR^+ = 8$。\n\n目标有两部分：首先，推导连接验后优势、验前优势和似然比的一般关系；其次，应用此关系计算该患者的疾病后验概率。\n\n**第一部分：关系的推导**\n\n这部分解答从概率、条件概率、优势和贝叶斯定理的基本定义开始。\n\n事件 $A$ 的**优势 (odds)** 定义为 $A$ 发生的概率与 $A$ 不发生的概率之比：\n$$O(A) = \\frac{P(A)}{P(A^c)} = \\frac{P(A)}{1 - P(A)}$$\n\n疾病的**验前优势**是使用验前概率 $P(D)$ 计算出的优势：\n$$O(D) = \\frac{P(D)}{P(D^c)}$$\n\n在获得阳性检测结果 $T^+$ 后，疾病的**验后优势**是基于这个新信息得到的条件优势：\n$$O(D|T^+) = \\frac{P(D|T^+)}{P(D^c|T^+)}$$\n\n问题中定义的**阳性似然比 ($LR^+$)** 是指患病人群中检测结果为阳性的概率与未患病人群中检测结果为阳性的概率之比。用条件概率表示为：\n$$LR^+ = \\frac{P(T^+|D)}{P(T^+|D^c)}$$\n$P(T^+|D)$ 是检测的灵敏度，而 $P(T^+|D^c)$ 是其假阳性率。\n\n**贝叶斯定理**指出，对于两个事件 $A$ 和 $B$，$A$ 在 $B$ 发生的条件下的条件概率为：\n$$P(A|B) = \\frac{P(B|A)P(A)}{P(B)}$$\n我们应用贝叶斯定理来找到 $P(D|T^+)$ 和 $P(D^c|T^+)$ 的表达式：\n$$P(D|T^+) = \\frac{P(T^+|D)P(D)}{P(T^+)}$$\n$$P(D^c|T^+) = \\frac{P(T^+|D^c)P(D^c)}{P(T^+)}$$\n\n现在，我们将这些来自贝叶斯定理的表达式代入验后优势的定义中：\n$$O(D|T^+) = \\frac{\\frac{P(T^+|D)P(D)}{P(T^+)}}{\\frac{P(T^+|D^c)P(D^c)}{P(T^+)}}$$\n代表阳性检测总概率的项 $P(T^+)$ 在分子和分母中被消去：\n$$O(D|T^+) = \\frac{P(T^+|D)P(D)}{P(T^+|D^c)P(D^c)}$$\n可以通过对各项进行分组来重新整理这个表达式：\n$$O(D|T^+) = \\left(\\frac{P(T^+|D)}{P(T^+|D^c)}\\right) \\times \\left(\\frac{P(D)}{P(D^c)}\\right)$$\n通过识别前面给出的定义，我们发现第一项是阳性似然比 $LR^+$，第二项是验前优势 $O(D)$。这就得出了我们想要的关系，即贝叶斯定理的优势形式：\n$$O(D|T^+) = LR^+ \\times O(D)$$\n这个方程巧妙地表明，似然比作为一个乘数，根据检测结果将验前优势更新为验后优势。\n\n**第二部分：后验概率的计算**\n\n现在我们将推导出的公式应用于该患者的具体情况。\n\n1.  **计算验前优势, $O(D)$**：\n    给定的验前概率为 $P(D) = 0.20$。\n    因此，不患病的验前概率为 $P(D^c) = 1 - P(D) = 1 - 0.20 = 0.80$。\n    验前优势计算如下：\n    $$O(D) = \\frac{P(D)}{P(D^c)} = \\frac{0.20}{0.80} = \\frac{1}{4} = 0.25$$\n\n2.  **计算验后优势, $O(D|T^+)$**：\n    使用推导出的关系和给定的值 $LR^+ = 8$：\n    $$O(D|T^+) = LR^+ \\times O(D) = 8 \\times 0.25 = 2$$\n\n3.  **将验后优势转换为后验概率, $P(D|T^+)$**：\n    为了从验后优势求出后验概率，我们使用基本关系 $O = \\frac{p}{1-p}$，其中 $p$ 是概率，$O$ 是优势。解出 $p$ 可得 $p = \\frac{O}{1+O}$。\n    设后验概率为 $p_{\\text{post}} = P(D|T^+)$。验后优势为 $O(D|T^+) = 2$。\n    代入这个值：\n    $$P(D|T^+) = \\frac{O(D|T^+)}{1 + O(D|T^+)} = \\frac{2}{1+2} = \\frac{2}{3}$$\n\n4.  **最终数值答案**：\n    问题要求答案以小数形式表示，并四舍五入到四位有效数字。\n    $$P(D|T^+) = \\frac{2}{3} \\approx 0.666666...$$\n    四舍五入到四位有效数字，我们得到：\n    $$P(D|T^+) \\approx 0.6667$$\n这个结果表明，对于一个验前概率为 $20\\%$ 的患者，一个 $LR^+$ 为 $8$ 的检测给出的阳性结果，使其患有该疾病的概率增加到大约 $66.7\\%$。",
            "answer": "$$\\boxed{0.6667}$$"
        }
    ]
}