{
    "hands_on_practices": [
        {
            "introduction": "Understanding the scale of health disparities is the first step toward addressing them. This exercise introduces two fundamental epidemiological measures: the Risk Difference ($RD$) and the Risk Ratio ($RR$). By calculating these values from hypothetical surveillance data on adolescent vaping, you will learn to quantify health inequities in both absolute and relative terms, a crucial skill for public health analysis and advocacy .",
            "id": "4500927",
            "problem": "An adolescent health promotion surveillance study sampled students from two types of high schools stratified by Socioeconomic Status (SES): low Socioeconomic Status (SES) and high Socioeconomic Status (SES). In low-SES schools, $n_{\\text{low}}$ adolescents surveyed was $520$, and $x_{\\text{low}}$ reported any vaping in the past $30$ days was $130$. In high-SES schools, $n_{\\text{high}}$ adolescents surveyed was $680$, and $x_{\\text{high}}$ reported any vaping in the past $30$ days was $68$. Using foundational definitions in epidemiology that compare proportions between groups to quantify disparities in health behaviors, treat attending a low-SES school as the exposure and attending a high-SES school as the reference. Compute the absolute disparity (risk difference on the prevalence scale) and the relative disparity (risk ratio on the prevalence scale) for past-$30$-day vaping between low-SES and high-SES schools based on the observed counts. Express both measures as decimals, and round each to $4$ significant figures. No units are required in the final numeric values. Provide a brief interpretation of absolute versus relative disparities in this context within your derivation, but the final answer must consist only of the two requested values.",
            "solution": "The problem is valid as it is scientifically grounded in epidemiological principles, well-posed with all necessary data provided, and objective in its formulation. We can proceed with the solution.\n\nThe objective is to compute two measures of disparity for past-$30$-day vaping prevalence between adolescents in low-SES and high-SES schools: the absolute disparity (risk difference) and the relative disparity (risk ratio). The problem specifies that attending a low-SES school is the exposure and attending a high-SES school is the reference category.\n\nFirst, we calculate the prevalence of vaping in each group. Prevalence ($P$) is the proportion of individuals in a population who have a specific attribute or disease at a given point in time. In this cross-sectional study, prevalence is the measure of disease frequency. It is calculated as the number of cases ($x$) divided by the total number of individuals in the sample ($n$).\n\nFor the low-SES group (exposed), the given data are:\n- Sample size, $n_{\\text{low}} = 520$\n- Number reporting vaping, $x_{\\text{low}} = 130$\n\nThe prevalence of vaping in the low-SES group, denoted as $P_{\\text{low}}$, is:\n$$P_{\\text{low}} = \\frac{x_{\\text{low}}}{n_{\\text{low}}} = \\frac{130}{520} = 0.25$$\n\nFor the high-SES group (reference or unexposed), the given data are:\n- Sample size, $n_{\\text{high}} = 680$\n- Number reporting vaping, $x_{\\text{high}} = 68$\n\nThe prevalence of vaping in the high-SES group, denoted as $P_{\\text{high}}$, is:\n$$P_{\\text{high}} = \\frac{x_{\\text{high}}}{n_{\\text{high}}} = \\frac{68}{680} = 0.10$$\n\nNext, we compute the absolute disparity, which is the Risk Difference ($RD$). The $RD$ quantifies the excess risk in the exposed group compared to the unexposed group on an additive scale. It is calculated as the difference in prevalence between the two groups.\n$$RD = P_{\\text{low}} - P_{\\text{high}}$$\nSubstituting the calculated prevalence values:\n$$RD = 0.25 - 0.10 = 0.15$$\nAn absolute disparity of $0.15$ indicates that the prevalence of vaping is $15$ percentage points higher in low-SES schools than in high-SES schools. From a public health perspective, this means there are an estimated $15$ excess cases of vaping for every $100$ students in the low-SES setting attributable to this socioeconomic disparity. Rounding to $4$ significant figures, the value is $0.1500$.\n\nThen, we compute the relative disparity, which is the Risk Ratio ($RR$). The $RR$ quantifies the strength of the association on a multiplicative scale, indicating how many times more likely the exposed group is to experience the outcome compared to the unexposed group.\n$$RR = \\frac{P_{\\text{low}}}{P_{\\text{high}}}$$\nSubstituting the calculated prevalence values:\n$$RR = \\frac{0.25}{0.10} = 2.5$$\nA relative disparity of $2.5$ indicates that students in low-SES schools are $2.5$ times as likely to report past-$30$-day vaping as students in high-SES schools. This measure highlights the strength of the association between school SES and vaping behavior. Rounding to $4$ significant figures, the value is $2.500$.\n\nThe final answer requires the absolute disparity and the relative disparity, in that order, rounded to $4$ significant figures.\nThe absolute disparity is $0.1500$.\nThe relative disparity is $2.500$.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.1500 & 2.500\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "Beyond identifying problems, preventive medicine aims to implement effective solutions like screening programs. However, a screening test's utility in the real world depends critically on the prevalence of the condition in the population being tested. This practice  will guide you through calculating the Positive Predictive Value ($PPV$) and Negative Predictive Value ($NPV$) for a depression screening tool, demonstrating how these metrics are essential for making informed decisions about resource allocation.",
            "id": "4500929",
            "problem": "A school district plans an annual universal screening for depressive symptoms in adolescents using the Patient Health Questionnaire for Adolescents (PHQ-A). At a locally validated threshold score of $10$, the PHQ-A has sensitivity $0.82$ and specificity $0.88$ for detecting current depressive disorder, and the point prevalence of current depressive disorder in the district’s adolescent population is $0.15$. Starting from the core definitions of sensitivity, specificity, and prevalence for a binary classifier and the law of total probability, compute the positive predictive value (PPV) and negative predictive value (NPV) of the PHQ-A at this threshold in this population. Express both PPV and NPV as decimals rounded to four significant figures, and do not use the percent sign. After computing these values, briefly explain how their magnitudes should inform allocation of limited counseling resources between follow-up assessment of screen-positive students and monitoring of screen-negative students. Report your numerical results in the order PPV, NPV.",
            "solution": "The problem as stated is scientifically grounded, well-posed, and objective. It presents a standard application of Bayesian probability and epidemiological principles to a realistic public health screening scenario. All necessary data are provided, and the task is to compute defined quantities and interpret them. Therefore, the problem is valid, and a solution can be constructed.\n\nLet $D$ be the event that an adolescent has a current depressive disorder, and $D^c$ be the event that an adolescent does not. Let $T+$ be the event of a positive test result (PHQ-A score $\\ge 10$) and $T-$ be the event of a negative test result (PHQ-A score $< 10$).\n\nThe givens can be translated into probabilistic statements:\nThe prevalence of the disorder is $P(D) = 0.15$.\nThe prevalence of not having the disorder is $P(D^c) = 1 - P(D) = 1 - 0.15 = 0.85$.\nThe sensitivity of the test is the probability of a positive test given the disorder is present: $P(T+ | D) = 0.82$.\nThe specificity of the test is the probability of a negative test given the disorder is absent: $P(T- | D^c) = 0.88$.\n\nFrom these givens, we can also determine the rates of incorrect test results:\nThe false positive rate (FPR) is the probability of a positive test given the disorder is absent: $P(T+ | D^c) = 1 - P(T- | D^c) = 1 - 0.88 = 0.12$.\nThe false negative rate (FNR) is the probability of a negative test given the disorder is present: $P(T- | D) = 1 - P(T+ | D) = 1 - 0.82 = 0.18$.\n\nThe quantities to be computed are the positive predictive value (PPV), defined as $P(D | T+)$, and the negative predictive value (NPV), defined as $P(D^c | T-)$. These can be calculated using Bayes' theorem.\n\nFirst, we calculate the PPV. The PPV is the probability that a subject with a positive test result truly has the disorder.\n$$ \\text{PPV} = P(D | T+) = \\frac{P(T+ | D) P(D)}{P(T+)} $$\nThe denominator, $P(T+)$, is the overall probability of a positive test result. It is found using the law of total probability:\n$$ P(T+) = P(T+ | D) P(D) + P(T+ | D^c) P(D^c) $$\nSubstituting the given values:\n$$ P(T+) = (0.82)(0.15) + (0.12)(0.85) $$\n$$ P(T+) = 0.123 + 0.102 = 0.225 $$\nNow we can compute the PPV:\n$$ \\text{PPV} = \\frac{0.123}{0.225} \\approx 0.54666... $$\nRounding to four significant figures, the PPV is $0.5467$.\n\nNext, we calculate the NPV. The NPV is the probability that a subject with a negative test result is truly free of the disorder.\n$$ \\text{NPV} = P(D^c | T-) = \\frac{P(T- | D^c) P(D^c)}{P(T-)} $$\nThe denominator, $P(T-)$, is the overall probability of a negative test result. We can find this using the law of total probability:\n$$ P(T-) = P(T- | D^c) P(D^c) + P(T- | D) P(D) $$\nAlternatively, since there are only two outcomes ($T+$ or $T-$), $P(T-) = 1 - P(T+)$.\n$$ P(T-) = 1 - 0.225 = 0.775 $$\nLet's verify this with the first formula:\n$$ P(T-) = (0.88)(0.85) + (0.18)(0.15) $$\n$$ P(T-) = 0.748 + 0.027 = 0.775 $$\nThe results match. Now we can compute the NPV:\n$$ \\text{NPV} = \\frac{P(T- | D^c) P(D^c)}{P(T-)} = \\frac{(0.88)(0.85)}{0.775} = \\frac{0.748}{0.775} \\approx 0.96516... $$\nRounding to four significant figures, the NPV is $0.9652$.\n\nThe computed values are PPV $\\approx 0.5467$ and NPV $\\approx 0.9652$.\n\nThe magnitudes of these values have direct implications for resource allocation.\nThe PPV of $0.5467$ indicates that of all students who screen positive, only about $54.7\\%$ actually have the depressive disorder. The remaining $45.3\\%$ are false positives. While the test successfully enriches the screened population from a baseline prevalence of $15\\%$ to a post-test probability of $54.7\\%$, a positive screen is not diagnostic by itself. A substantial portion of positive results are incorrect. This mandates that counseling resources be heavily allocated to comprehensive follow-up diagnostic assessments for all screen-positive students to differentiate true positives from false positives before initiating treatment. Allocating treatment resources based solely on a positive screen would be highly inefficient and inappropriate for the nearly half of screen-positives who do not have the disorder.\n\nThe NPV of $0.9652$ is very high. This means that among students who screen negative, there is a $96.5\\%$ probability that they are truly free of the disorder. The probability of a missed case (a false negative) in this group is low, at $1 - \\text{NPV} \\approx 1 - 0.9652 = 0.0348$, or about $3.5\\%$. This high NPV provides strong reassurance that a negative result is reliable. Therefore, it is justifiable to allocate minimal intensive resources toward the large screen-negative group. This allows the limited counseling resources to be concentrated on the smaller, higher-risk, screen-positive population. While universal prevention and general mental health monitoring are still prudent for all students, the screening results support a stratified approach where intensive follow-up is reserved almost exclusively for those who screen positive.",
            "answer": "$$\\boxed{\\begin{pmatrix} 0.5467 & 0.9652 \\end{pmatrix}}$$"
        },
        {
            "introduction": "Health outcomes are often the result of a complex interplay between multiple risk factors. This final practice moves from single-factor analysis to building a comprehensive, multifactorial risk model using logistic regression . You will translate epidemiological knowledge about risk factors for self-harm—including their interactions—into a quantitative model that predicts an individual's risk, representing a powerful approach used in modern preventive medicine.",
            "id": "4500966",
            "problem": "You are tasked with implementing a parsimonious, mechanistic logistic risk model to estimate the $12$-month probability of at least one self-harm attempt among adolescents based on four predictors and two prespecified interaction terms. The goal is to translate a preventive medicine risk modeling specification into a precise, testable computation using core probability definitions and well-tested statistical facts.\n\nFoundational base to use:\n- Probability $p \\in (0,1)$ and odds $o = \\dfrac{p}{1-p}$.\n- The logit link $\\text{logit}(p) = \\ln\\!\\left(\\dfrac{p}{1-p}\\right)$ and its inverse $p = \\dfrac{1}{1+\\exp(-\\eta)}$ where $\\eta$ is a linear predictor.\n- In a logistic regression, multiplicative effects on odds (odds ratios) become additive effects on the log-odds scale via the natural logarithm.\n\nModel specification:\n- Outcome: probability $p$ of at least one self-harm attempt in the next $12$ months.\n- Predictors:\n  - Prior attempts indicator $A \\in \\{0,1\\}$ where $A=1$ if there was at least one prior attempt, else $A=0$.\n  - Depression score $D \\in \\{0,1,2,\\dots,27\\}$ on the Patient Health Questionnaire for Adolescents (PHQ-A).\n  - Bullying exposure level $B \\in \\{0,1,2\\}$ with $B=0$ none, $B=1$ occasional, $B=2$ frequent.\n  - Access to means indicator $M \\in \\{0,1\\}$ where $M=1$ if access exists, else $M=0$.\n- Interactions:\n  - Prior attempts by depression: effect when $A=1$ modulates the incremental effect per unit of $D$.\n  - Bullying by access to means: effect when $M=1$ modulates the incremental effect per unit of $B$.\n\nAssumptions (well-tested facts encoded as parameters):\n- Baseline risk at $A=0$, $D=0$, $B=0$, $M=0$ is $p_0 = 0.02$.\n- Odds ratios by one-unit changes:\n  - Prior attempts: $\\text{OR}_A = 6.0$.\n  - Per point of depression score: $\\text{OR}_D = 1.15$.\n  - Per level of bullying exposure: $\\text{OR}_B = 1.6$.\n  - Access to means: $\\text{OR}_M = 2.0$.\n- Interaction odds ratios:\n  - Additional per-point depression effect when $A=1$: $\\text{OR}_{AD} = 1.05$.\n  - Additional per-level bullying effect when $M=1$: $\\text{OR}_{BM} = 1.3$.\n\nTasks:\n1. Starting only from the definitions of odds, logit, and the fact that multiplicative odds effects are additive on the logit scale, construct the linear predictor $\\eta$ that corresponds to the above specification. Your construction must correctly incorporate the two interactions described.\n2. Express the model as a computation for $p$ given $(A,D,B,M)$.\n3. Implement a program that, for each test case below, computes the predicted probability $p$ as a decimal (not a percentage), rounded to exactly $6$ decimal places.\n\nRequired test suite (each case is a tuple $(A,D,B,M)$):\n- Case $1$: $(0,0,0,0)$.\n- Case $2$: $(1,27,2,1)$.\n- Case $3$: $(0,10,1,1)$.\n- Case $4$: $(1,2,0,0)$.\n- Case $5$: $(0,5,2,0)$.\n- Case $6$: $(0,0,0,1)$.\n\nFinal output format:\n- Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, in the order of the above test cases, with each probability rounded to exactly $6$ decimal places (for example, $[0.123456,0.234567,0.345678,0.456789,0.567890,0.678901]$).",
            "solution": "The problem is valid as it is scientifically grounded in the principles of logistic regression modeling, is mathematically well-posed, and is presented with objective, unambiguous specifications. It contains all necessary information to construct a unique and verifiable solution.\n\nThe objective is to construct a computational model for a $12$-month probability, $p$, of a self-harm attempt in adolescents, based on a set of predictors and specified parameters. The model follows the logistic regression framework.\n\nThe foundation of a logistic model is the relationship between probability $p$ and the log-odds, also known as the logit. The odds, $o$, are defined as the ratio of the probability of an event occurring to the probability of it not occurring:\n$$o = \\frac{p}{1-p}$$\nThe logit function links the probability $p \\in (0,1)$ to the real-valued linear predictor $\\eta \\in (-\\infty, \\infty)$:\n$$\\eta = \\text{logit}(p) = \\ln(o) = \\ln\\left(\\frac{p}{1-p}\\right)$$\nThe model's core is the construction of this linear predictor, $\\eta$, as a function of the input variables. The predictors are the prior attempts indicator $A \\in \\{0,1\\}$, depression score $D \\in \\{0,1,\\dots,27\\}$, bullying exposure level $B \\in \\{0,1,2\\}$, and access to means indicator $M \\in \\{0,1\\}$. The model also includes two interaction terms: prior attempts by depression ($A \\cdot D$) and bullying by access to means ($B \\cdot M$).\n\nThe general form of the linear predictor $\\eta$ is a linear combination of the predictors and their interactions:\n$$\\eta(A,D,B,M) = \\beta_0 + \\beta_A A + \\beta_D D + \\beta_B B + \\beta_M M + \\beta_{AD} (A \\cdot D) + \\beta_{BM} (B \\cdot M)$$\nThe coefficients, $\\beta_i$, represent the change in the log-odds for a one-unit change in the corresponding predictor, holding all other predictors constant. These coefficients are derived from the provided odds ratios ($\\text{OR}$). The relationship is $\\beta = \\ln(\\text{OR})$.\n\nWe derive each coefficient as follows:\n\n1.  **Intercept ($\\beta_0$)**: This is the log-odds of the outcome when all predictors are zero, i.e., at the baseline condition $(A,D,B,M) = (0,0,0,0)$. The baseline probability is given as $p_0 = 0.02$. The baseline odds are:\n    $$o_0 = \\frac{p_0}{1-p_0} = \\frac{0.02}{1-0.02} = \\frac{0.02}{0.98}$$\n    The intercept is the natural logarithm of the baseline odds:\n    $$\\beta_0 = \\ln(o_0) = \\ln\\left(\\frac{0.02}{0.98}\\right) \\approx -3.8918$$\n\n2.  **Main Effect Coefficients**: These are the natural logarithms of the specified odds ratios for each predictor.\n    -   Prior attempts ($A$): $\\beta_A = \\ln(\\text{OR}_A) = \\ln(6.0) \\approx 1.7918$\n    -   Depression score ($D$): $\\beta_D = \\ln(\\text{OR}_D) = \\ln(1.15) \\approx 0.1398$\n    -   Bullying exposure ($B$): $\\beta_B = \\ln(\\text{OR}_B) = \\ln(1.6) \\approx 0.4700$\n    -   Access to means ($M$): $\\beta_M = \\ln(\\text{OR}_M) = \\ln(2.0) \\approx 0.6931$\n\n3.  **Interaction Coefficients**: The interaction terms capture how the effect of one predictor is modified by another.\n    -   **Depression-by-Attempts Interaction ($\\beta_{AD}$)**: The problem states an additional odds ratio $\\text{OR}_{AD} = 1.05$ for the per-point effect of depression when $A=1$. In the logit model, the term for depression is $(\\beta_D + \\beta_{AD} A)D$. When $A=0$, the log-odds increase by $\\beta_D$ for each unit increase in $D$. When $A=1$, the log-odds increase by $\\beta_D + \\beta_{AD}$. The corresponding odds ratio is $\\exp(\\beta_D + \\beta_{AD}) = \\exp(\\beta_D)\\exp(\\beta_{AD}) = \\text{OR}_D \\cdot \\text{OR}_{AD}$. This matches the specification. Thus, the interaction coefficient is:\n        $$\\beta_{AD} = \\ln(\\text{OR}_{AD}) = \\ln(1.05) \\approx 0.0488$$\n    -   **Bullying-by-Means Interaction ($\\beta_{BM}$)**: Similarly, for an additional odds ratio $\\text{OR}_{BM} = 1.3$ for the per-level effect of bullying when $M=1$, the interaction coefficient is:\n        $$\\beta_{BM} = \\ln(\\text{OR}_{BM}) = \\ln(1.3) \\approx 0.2624$$\n\nCombining these coefficients, the complete linear predictor is:\n$$\\eta(A,D,B,M) = \\ln\\left(\\frac{0.02}{0.98}\\right) + A\\ln(6.0) + D\\ln(1.15) + B\\ln(1.6) + M\\ln(2.0) + (A \\cdot D)\\ln(1.05) + (B \\cdot M)\\ln(1.3)$$\n\nTo find the probability $p$, we use the inverse logit (logistic) function:\n$$p = \\frac{1}{1 + \\exp(-\\eta)}$$\nSubstituting the expression for $\\eta$, we get the full computational model for $p(A,D,B,M)$:\n$$p(A,D,B,M) = \\frac{1}{1 + \\exp\\left( - \\left[ \\ln\\left(\\frac{0.02}{0.98}\\right) + A\\ln(6.0) + D\\ln(1.15) + B\\ln(1.6) + M\\ln(2.0) + (A D)\\ln(1.05) + (B M)\\ln(1.3) \\right] \\right)}$$\nThis formula allows for direct computation of the risk probability for any given set of predictor values $(A,D,B,M)$. For implementation, it is numerically robust to first calculate $\\eta$ and then apply the logistic function.",
            "answer": "[0.020000,0.994220,0.255609,0.151473,0.095112,0.039216]"
        }
    ]
}