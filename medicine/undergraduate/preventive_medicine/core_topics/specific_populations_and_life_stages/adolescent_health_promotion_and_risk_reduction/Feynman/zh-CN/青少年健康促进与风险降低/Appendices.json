{
    "hands_on_practices": [
        {
            "introduction": "公共卫生行动的第一步通常是识别哪些人群受健康问题影响最大。我们可以使用特定的流行病学指标来量化这些健康差异。这项练习将提供计算和解释两种基本衡量标准——风险差和风险比——的实践机会。通过分析有关电子烟使用率的假设数据，你将学会区分绝对差异和相对差异，这是确定干预目标和沟通公共卫生调查结果的一项关键技能。",
            "id": "4500927",
            "problem": "一项青少年健康促进监测研究，从按社会经济地位（SES）分层的两类高中抽样了学生：低社会经济地位（SES）和高社会经济地位（SES）的高中。在低社会经济地位的学校中，接受调查的青少年人数 $n_{\\text{low}}$ 为 $520$ 人，其中报告在过去 $30$ 天内曾使用过电子烟的人数 $x_{\\text{low}}$ 为 $130$ 人。在高社会经济地位的学校中，接受调查的青少年人数 $n_{\\text{high}}$ 为 $680$ 人，其中报告在过去 $30$ 天内曾使用过电子烟的人数 $x_{\\text{high}}$ 为 $68$ 人。使用流行病学中比较群体间比例以量化健康行为差异的基本定义，将就读于低社会经济地位学校视为暴露，将就读于高社会经济地位学校视为参照。根据观察到的计数，计算低社会经济地位学校和高社会经济地位学校之间过去 $30$ 天内使用电子烟的绝对差异（患病率尺度上的风险差）和相对差异（患病率尺度上的风险比）。将两种度量均表示为小数，并各自四舍五入至 $4$ 位有效数字。最终数值无需单位。在您的推导过程中，请简要解释在此情境下绝对差异与相对差异的对比，但最终答案必须仅包含所要求的两个数值。",
            "solution": "该问题是有效的，因为它基于流行病学原理，问题陈述清晰且提供了所有必要数据，表述客观。我们可以开始求解。\n\n目标是计算低社会经济地位学校和高社会经济地位学校的青少年在过去 $30$ 天内使用电子烟患病率的两种差异度量：绝对差异（风险差）和相对差异（风险比）。问题指明，就读于低社会经济地位学校是暴露组，就读于高社会经济地位学校是参照组。\n\n首先，我们计算每组中使用电子烟的患病率。患病率（$P$）是指在特定时间点，人群中具有特定属性或疾病的个体所占的比例。在这项横断面研究中，患病率是衡量疾病频率的指标。其计算方法为病例数（$x$）除以样本中的总人数（$n$）。\n\n对于低社会经济地位组（暴露组），给定的数据是：\n- 样本量，$n_{\\text{low}} = 520$\n- 报告使用电子烟的人数，$x_{\\text{low}} = 130$\n\n低社会经济地位组中使用电子烟的患病率，记为 $P_{\\text{low}}$，是：\n$$P_{\\text{low}} = \\frac{x_{\\text{low}}}{n_{\\text{low}}} = \\frac{130}{520} = 0.25$$\n\n对于高社会经济地位组（参照组或非暴露组），给定的数据是：\n- 样本量，$n_{\\text{high}} = 680$\n- 报告使用电子烟的人数，$x_{\\text{high}} = 68$\n\n高社会经济地位组中使用电子烟的患病率，记为 $P_{\\text{high}}$，是：\n$$P_{\\text{high}} = \\frac{x_{\\text{high}}}{n_{\\text{high}}} = \\frac{68}{680} = 0.10$$\n\n接下来，我们计算绝对差异，即风险差（$RD$）。$RD$ 在加法尺度上量化了暴露组相对于非暴露组的超额风险。它通过计算两组之间的患病率差异来得出。\n$$RD = P_{\\text{low}} - P_{\\text{high}}$$\n代入计算出的患病率值：\n$$RD = 0.25 - 0.10 = 0.15$$\n$0.15$ 的绝对差异表明，低社会经济地位学校中使用电子烟的患病率比高社会经济地位学校高出 $15$ 个百分点。从公共卫生的角度来看，这意味着在低社会经济地位的环境中，每 $100$ 名学生中，估计有 $15$ 例额外的电子烟使用病例可归因于这种社会经济差异。四舍五入到 $4$ 位有效数字，该值为 $0.1500$。\n\n然后，我们计算相对差异，即风险比（$RR$）。$RR$ 在乘法尺度上量化了关联强度，表明暴露组经历该结果的可能性是非暴露组的多少倍。\n$$RR = \\frac{P_{\\text{low}}}{P_{\\text{high}}}$$\n代入计算出的患病率值：\n$$RR = \\frac{0.25}{0.10} = 2.5$$\n$2.5$ 的相对差异表明，低社会经济地位学校的学生报告在过去 $30$ 天内使用电子烟的可能性是高社会经济地位学校学生的 $2.5$ 倍。这一度量突显了学校社会经济地位与使用电子烟行为之间关联的强度。四舍五入到 $4$ 位有效数字，该值为 $2.500$。\n\n最终答案要求按顺序给出绝对差异和相对差异，并四舍五入至 $4$ 位有效数字。\n绝对差异为 $0.1500$。\n相对差异为 $2.500$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.1500 & 2.500\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "筛查项目是预防医学的基石，但没有一种检测是完美的。了解一项检测在真实人群中的表现对于做出明智的临床和公共卫生决策至关重要。本练习将指导你计算青少年抑郁症筛查工具的阳性预测值（$PPV$）和阴性预测值（$NPV$）。此练习旨在说明一项检测的效用如何取决于该状况在人群中的患病率，以及为什么这些指标对于有效分配有限的医疗资源至关重要。",
            "id": "4500929",
            "problem": "一个学区计划使用青少年健康问卷（PHQ-A）对青少年进行抑郁症状的年度普遍筛查。在本地验证的阈值分数为 $10$ 时，PHQ-A 检测当前抑郁症的灵敏度为 $0.82$，特异性为 $0.88$，该学区青少年人群中当前抑郁症的时点患病率为 $0.15$。从二元分类器的灵敏度、特异性和患病率的核心定义以及全概率定律出发，计算在该人群中，此阈值下 PHQ-A 的阳性预测值（PPV）和阴性预测值（NPV）。将 PPV 和 NPV 均表示为四位有效数字的小数，不要使用百分号。计算出这些值后，简要解释它们的大小应如何为有限的咨询资源在筛查阳性学生的后续评估和筛查阴性学生的监测之间的分配提供信息。按 PPV、NPV 的顺序报告你的数值结果。",
            "solution": "所述问题具有科学依据，提法恰当且客观。它展示了贝叶斯概率和流行病学原理在现实公共卫生筛查场景中的标准应用。所有必要数据均已提供，任务是计算定义的量并对其进行解释。因此，该问题是有效的，可以构建解决方案。\n\n设 $D$ 为青少年患有当前抑郁症的事件， $D^c$ 为青少年未患病的事件。设 $T+$ 为测试结果为阳性（PHQ-A 分数 $\\ge 10$）的事件， $T-$ 为测试结果为阴性（PHQ-A 分数 $ 10$）的事件。\n\n给定的条件可以转化为概率陈述：\n该疾病的患病率为 $P(D) = 0.15$。\n未患该疾病的概率为 $P(D^c) = 1 - P(D) = 1 - 0.15 = 0.85$。\n测试的灵敏度是在患有该疾病的情况下测试结果为阳性的概率：$P(T+ | D) = 0.82$。\n测试的特异性是在未患该疾病的情况下测试结果为阴性的概率：$P(T- | D^c) = 0.88$。\n\n根据这些给定条件，我们还可以确定不正确测试结果的比率：\n假阳性率（FPR）是在未患该疾病的情况下测试结果为阳性的概率：$P(T+ | D^c) = 1 - P(T- | D^c) = 1 - 0.88 = 0.12$。\n假阴性率（FNR）是在患有该疾病的情况下测试结果为阴性的概率：$P(T- | D) = 1 - P(T+ | D) = 1 - 0.82 = 0.18$。\n\n需要计算的量是阳性预测值（PPV），定义为 $P(D | T+)$，和阴性预测值（NPV），定义为 $P(D^c | T-)$。这些可以使用贝叶斯定理计算。\n\n首先，我们计算 PPV。PPV 是指测试结果为阳性的个体确实患有该疾病的概率。\n$$ \\text{PPV} = P(D | T+) = \\frac{P(T+ | D) P(D)}{P(T+)} $$\n分母 $P(T+)$ 是测试结果为阳性的总概率。它可以使用全概率定律找到：\n$$ P(T+) = P(T+ | D) P(D) + P(T+ | D^c) P(D^c) $$\n代入给定值：\n$$ P(T+) = (0.82)(0.15) + (0.12)(0.85) $$\n$$ P(T+) = 0.123 + 0.102 = 0.225 $$\n现在我们可以计算 PPV：\n$$ \\text{PPV} = \\frac{0.123}{0.225} \\approx 0.54666... $$\n四舍五入到四位有效数字，PPV 为 $0.5467$。\n\n接下来，我们计算 NPV。NPV 是指测试结果为阴性的个体确实未患该疾病的概率。\n$$ \\text{NPV} = P(D^c | T-) = \\frac{P(T- | D^c) P(D^c)}{P(T-)} $$\n分母 $P(T-)$ 是测试结果为阴性的总概率。我们可以使用全概率定律找到它：\n$$ P(T-) = P(T- | D^c) P(D^c) + P(T- | D) P(D) $$\n或者，由于只有两种结果（$T+$ 或 $T-$），$P(T-) = 1 - P(T+)$。\n$$ P(T-) = 1 - 0.225 = 0.775 $$\n我们用第一个公式来验证：\n$$ P(T-) = (0.88)(0.85) + (0.18)(0.15) $$\n$$ P(T-) = 0.748 + 0.027 = 0.775 $$\n结果一致。现在我们可以计算 NPV：\n$$ \\text{NPV} = \\frac{P(T- | D^c) P(D^c)}{P(T-)} = \\frac{(0.88)(0.85)}{0.775} = \\frac{0.748}{0.775} \\approx 0.96516... $$\n四舍五入到四位有效数字，NPV 为 $0.9652$。\n\n计算出的值为 PPV $\\approx 0.5467$ 和 NPV $\\approx 0.9652$。\n\n这些值的大小对资源分配有直接影响。\nPPV 为 $0.5467$ 表明，在所有筛查结果为阳性的学生中，只有约 $54.7\\%$ 真正患有抑郁症。其余的 $45.3\\%$ 是假阳性。虽然该测试成功地将筛查人群的患病率从基线的 $15\\%$ 提高到测试后概率的 $54.7\\%$，但阳性筛查本身并不具有诊断性。有相当一部分阳性结果是不正确的。这就要求将大量的咨询资源分配给所有筛查阳性的学生，进行全面的后续诊断评估，以便在开始治疗前区分真阳性和假阳性。仅仅根据阳性筛查结果来分配治疗资源，对于近一半未患病的筛查阳性者来说，将是极其低效和不恰当的。\n\nNPV 为 $0.9652$ 非常高。这意味着在筛查结果为阴性的学生中，他们真正未患该疾病的概率为 $96.5\\%$。该组中漏诊病例（假阴性）的概率很低，为 $1 - \\text{NPV} \\approx 1 - 0.9652 = 0.0348$，约 $3.5\\%$。这个高 NPV 提供了强有力的保证，表明阴性结果是可靠的。因此，为庞大的筛查阴性群体分配最少的密集资源是合理的。这使得有限的咨询资源可以集中在规模较小、风险较高的筛查阳性人群上。虽然对所有学生进行普遍预防和一般心理健康监测仍然是审慎的，但筛查结果支持一种分层方法，即几乎只为筛查阳性者保留密集的后续跟踪。",
            "answer": "$$\\boxed{\\begin{pmatrix} 0.5467  0.9652 \\end{pmatrix}}$$"
        },
        {
            "introduction": "虽然单个风险因素很重要，但现实世界中的健康结局通常是多个因素复杂相互作用的结果。预测模型使我们能够将这些信息合成为一个单一的、定量的风险估计。这项高级练习将挑战你从头开始，基于几个预测因子及其相互作用的指定比值比（odds ratios），构建一个用于预测自残风险的逻辑回归模型。这项实践让你具体了解临床风险预测工具背后的机制，并展示了在对数几率（log-odds）尺度上，几率的乘法效应如何转化为加法效应。",
            "id": "4500966",
            "problem": "您的任务是实现一个简约的、机制性的逻辑风险模型，该模型基于四个预测变量和两个预先指定的交互项，来估计青少年在 $12$ 个月内至少有一次自残企图的概率。目标是利用核心概率定义和经过充分检验的统计事实，将一个预防医学风险建模规范转化为一个精确的、可测试的计算。\n\n使用的基础理论：\n- 概率 $p \\in (0,1)$ 和优势 $o = \\dfrac{p}{1-p}$。\n- logit 链接函数 $\\text{logit}(p) = \\ln\\!\\left(\\dfrac{p}{1-p}\\right)$ 及其逆函数 $p = \\dfrac{1}{1+\\exp(-\\eta)}$，其中 $\\eta$ 是一个线性预测子。\n- 在逻辑回归中，对优势（优势比）的乘法效应通过自然对数在对数优势尺度上变为了加法效应。\n\n模型规格：\n- 结果：未来 $12$ 个月内至少有一次自残企图的概率 $p$。\n- 预测变量：\n  - 先前企图指标 $A \\in \\{0,1\\}$，如果至少有一次先前企图，则 $A=1$，否则 $A=0$。\n  - 青少年健康问卷（Patient Health Questionnaire for Adolescents, PHQ-A）上的抑郁评分 $D \\in \\{0,1,2,\\dots,27\\}$。\n  - 欺凌暴露水平 $B \\in \\{0,1,2\\}$，其中 $B=0$ 为无， $B=1$ 为偶尔， $B=2$ 为频繁。\n  - 接触途径指标 $M \\in \\{0,1\\}$，如果存在接触途径，则 $M=1$，否则 $M=0$。\n- 交互作用：\n  - 先前企图与抑郁的交互作用：当 $A=1$ 时，其效应会调节 $D$ 每单位增加的增量效应。\n  - 欺凌与接触途径的交互作用：当 $M=1$ 时，其效应会调节 $B$ 每单位增加的增量效应。\n\n假设（编码为参数的经过充分检验的事实）：\n- 在 $A=0$, $D=0$, $B=0$, $M=0$ 时的基线风险为 $p_0 = 0.02$。\n- 单位变化引起的优势比：\n  - 先前企图：$\\text{OR}_A = 6.0$。\n  - 每一点抑郁评分：$\\text{OR}_D = 1.15$。\n  - 每一级欺凌暴露：$\\text{OR}_B = 1.6$。\n  - 接触途径：$\\text{OR}_M = 2.0$。\n- 交互作用优势比：\n  - 当 $A=1$ 时，抑郁评分每增加一点的额外效应：$\\text{OR}_{AD} = 1.05$。\n  - 当 $M=1$ 时，欺凌暴露每增加一级带来的额外效应：$\\text{OR}_{BM} = 1.3$。\n\n任务：\n1. 仅从优势、logit 的定义以及乘法优势效应在 logit 尺度上是加法的事实出发，构建与上述规格相对应的线性预测子 $\\eta$。您的构建必须正确地包含所描述的两个交互作用。\n2. 将模型表示为给定 $(A,D,B,M)$ 计算 $p$ 的过程。\n3. 实现一个程序，对下面的每个测试用例，计算预测概率 $p$（以小数形式，而非百分比），并精确到 $6$ 位小数。\n\n必需的测试套件（每个用例是一个元组 $(A,D,B,M)$）：\n- 用例 1：$(0,0,0,0)$。\n- 用例 2：$(1,27,2,1)$。\n- 用例 3：$(0,10,1,1)$。\n- 用例 4：$(1,2,0,0)$。\n- 用例 5：$(0,5,2,0)$。\n- 用例 6：$(0,0,0,1)$。\n\n最终输出格式：\n- 您的程序应生成一行输出，其中包含一个用方括号括起来的逗号分隔列表，按上述测试用例的顺序排列，每个概率值都精确到 $6$ 位小数（例如，$[0.123456,0.234567,0.345678,0.456789,0.567890,0.678901]$）。",
            "solution": "该问题是有效的，因为它在科学上基于逻辑回归建模的原理，在数学上是适定的，并且以客观、明确的规格呈现。它包含了构建一个唯一且可验证的解决方案所需的所有必要信息。\n\n目标是基于一组预测变量和指定的参数，为青少年在 $12$ 个月内发生自残企图的概率 $p$ 构建一个计算模型。该模型遵循逻辑回归框架。\n\n逻辑模型的基础是概率 $p$ 和对数优势（也称为 logit）之间的关系。优势 $o$ 定义为事件发生的概率与不发生的概率之比：\n$$o = \\frac{p}{1-p}$$\nlogit 函数将概率 $p \\in (0,1)$ 与实值线性预测子 $\\eta \\in (-\\infty, \\infty)$ 联系起来：\n$$\\eta = \\text{logit}(p) = \\ln(o) = \\ln\\left(\\frac{p}{1-p}\\right)$$\n该模型的核心是构建这个线性预测子 $\\eta$，使其成为输入变量的函数。预测变量是先前企图指标 $A \\in \\{0,1\\}$、抑郁评分 $D \\in \\{0,1,\\dots,27\\}$、欺凌暴露水平 $B \\in \\{0,1,2\\}$ 以及接触途径指标 $M \\in \\{0,1\\}$。该模型还包括两个交互项：先前企图与抑郁的交互作用 ($A \\cdot D$) 和欺凌与接触途径的交互作用 ($B \\cdot M$)。\n\n线性预测子 $\\eta$ 的一般形式是预测变量及其交互作用的线性组合：\n$$\\eta(A,D,B,M) = \\beta_0 + \\beta_A A + \\beta_D D + \\beta_B B + \\beta_M M + \\beta_{AD} (A \\cdot D) + \\beta_{BM} (B \\cdot M)$$\n系数 $\\beta_i$ 表示在保持所有其他预测变量不变的情况下，相应预测变量每增加一个单位，对数优势的变化量。这些系数由给定的优势比（$\\text{OR}$）导出。它们之间的关系是 $\\beta = \\ln(\\text{OR})$。\n\n我们按如下方式推导每个系数：\n\n1.  **截距 ($\\beta_0$)**：这是当所有预测变量都为零时，即在基线条件 $(A,D,B,M) = (0,0,0,0)$ 下的结果的对数优势。基线概率给定为 $p_0 = 0.02$。基线优势为：\n    $$o_0 = \\frac{p_0}{1-p_0} = \\frac{0.02}{1-0.02} = \\frac{0.02}{0.98}$$\n    截距是基线优势的自然对数：\n    $$\\beta_0 = \\ln(o_0) = \\ln\\left(\\frac{0.02}{0.98}\\right) \\approx -3.8918$$\n\n2.  **主效应系数**：这些是每个预测变量指定优势比的自然对数。\n    -   先前企图 ($A$)：$\\beta_A = \\ln(\\text{OR}_A) = \\ln(6.0) \\approx 1.7918$\n    -   抑郁评分 ($D$)：$\\beta_D = \\ln(\\text{OR}_D) = \\ln(1.15) \\approx 0.1398$\n    -   欺凌暴露 ($B$)：$\\beta_B = \\ln(\\text{OR}_B) = \\ln(1.6) \\approx 0.4700$\n    -   接触途径 ($M$)：$\\beta_M = \\ln(\\text{OR}_M) = \\ln(2.0) \\approx 0.6931$\n\n3.  **交互作用系数**：交互作用项捕捉一个预测变量的效应如何被另一个预测变量所修正。\n    -   **抑郁与企图的交互作用 ($\\beta_{AD}$)**：问题陈述了当 $A=1$ 时，抑郁症每点效应的额外优势比为 $\\text{OR}_{AD} = 1.05$。在 logit 模型中，抑郁症的项是 $(\\beta_D + \\beta_{AD} A)D$。当 $A=0$ 时， $D$ 每增加一个单位，对数优势增加 $\\beta_D$。当 $A=1$ 时，对数优势增加 $\\beta_D + \\beta_{AD}$。相应的优势比是 $\\exp(\\beta_D + \\beta_{AD}) = \\exp(\\beta_D)\\exp(\\beta_{AD}) = \\text{OR}_D \\cdot \\text{OR}_{AD}$。这与规格相符。因此，交互作用系数为：\n        $$\\beta_{AD} = \\ln(\\text{OR}_{AD}) = \\ln(1.05) \\approx 0.0488$$\n    -   **欺凌与接触途径的交互作用 ($\\beta_{BM}$)**：类似地，对于当 $M=1$ 时，欺凌每级效应的额外优势比 $\\text{OR}_{BM} = 1.3$，交互作用系数为：\n        $$\\beta_{BM} = \\ln(\\text{OR}_{BM}) = \\ln(1.3) \\approx 0.2624$$\n\n结合这些系数，完整的线性预测子是：\n$$\\eta(A,D,B,M) = \\ln\\left(\\frac{0.02}{0.98}\\right) + A\\ln(6.0) + D\\ln(1.15) + B\\ln(1.6) + M\\ln(2.0) + (A \\cdot D)\\ln(1.05) + (B \\cdot M)\\ln(1.3)$$\n\n为了求得概率 $p$，我们使用逆 logit（逻辑）函数：\n$$p = \\frac{1}{1 + \\exp(-\\eta)}$$\n代入 $\\eta$ 的表达式，我们得到 $p(A,D,B,M)$ 的完整计算模型：\n$$p(A,D,B,M) = \\frac{1}{1 + \\exp\\left( - \\left[ \\ln\\left(\\frac{0.02}{0.98}\\right) + A\\ln(6.0) + D\\ln(1.15) + B\\ln(1.6) + M\\ln(2.0) + (A D)\\ln(1.05) + (B M)\\ln(1.3) \\right] \\right)}$$\n该公式允许对任何给定的预测变量值集合 $(A,D,B,M)$ 直接计算风险概率。为了实现，数值上稳健的做法是先计算 $\\eta$，然后应用逻辑函数。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.020000  0.957582  0.231264  0.144498  0.093121  0.039216\n\\end{pmatrix}\n}\n$$"
        }
    ]
}