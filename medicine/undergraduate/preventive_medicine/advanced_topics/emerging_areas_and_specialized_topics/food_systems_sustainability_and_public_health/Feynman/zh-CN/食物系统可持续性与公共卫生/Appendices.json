{
    "hands_on_practices": [
        {
            "introduction": "可持续的食品系统干预措施常常能在不同领域产生多重效益，即“协同效益”。本练习运用质量平衡和生命周期评估的原理，来量化一项旨在减少家庭食物浪费的公共卫生项目所带来的环境、经济和健康方面的综合影响。通过这个实践，您将学会如何评估一个项目不仅限于其主要目标，更能从更广阔的系统视角全面衡量其价值 ()。",
            "id": "4526588",
            "problem": "一项市政预防医学项目旨在将易腐农产品（水果和蔬菜）的家庭餐盘浪费减少一半。使用质量平衡和生命周期推理来量化环境和经济影响，并将消费变化转换为与健康相关的指标。假设人均每年购买的水果和蔬菜量分别为：水果 $M_f = 100$ 公斤/年，蔬菜 $M_v = 120$ 公斤/年。基准家庭餐盘浪费率分别为：水果 $w_f = 0.20$，蔬菜 $w_v = 0.25$。干预措施将这些浪费率减半。设 $\\alpha$ 表示从避免的浪费中转移到增加消费的行为反应比例；假设 $\\alpha = 0.50$，因此剩余的比例 $1-\\alpha$ 实现为未来购买量的减少。使用以下附加数据：上游生产排放因子，水果为 $e_f = 0.70$ 千克二氧化碳当量（CO$_2$e）/千克，蔬菜为 $e_v = 0.50$ 千克CO$_2$e/千克；避免的报废（EOL）废物管理排放因子 $e_{EOL} = 0.50$ 千克CO$_2$e/千克（每避免一千克食物浪费）；零售价格，水果为 $p_f = 3.00$ 美元（USD）/千克，蔬菜为 $p_v = 2.00$ 美元/千克；水果和蔬菜的每份分量为 $s = 0.080$ 千克（世界卫生组织定义的80克/份）。从浪费率、流量的质量平衡和二氧化碳当量排放核算的定义出发，推导人均年度温室气体总减排量、人均年度个人成本总节约量以及每日水果和蔬菜摄入量变化的表达式。计算它们的数值。\n\n将温室气体减排量以千克二氧化碳当量/人/年（$kg\\,CO_2e$/人/年）表示，成本节约量以美元/人/年（$USD$/人/年）表示，摄入量变化以份/天表示。将所有三个答案四舍五入至三位有效数字。按以下顺序以行矩阵形式报告您的答案：温室气体减排量、成本节约量、摄入量变化。",
            "solution": "在尝试解答之前，对问题进行验证。\n\n### 步骤1：提取已知条件\n-   初始人均年水果购买量：$M_f = 100 \\text{ kg/yr}$\n-   初始人均年蔬菜购买量：$M_v = 120 \\text{ kg/yr}$\n-   水果的基准家庭餐盘浪费率：$w_{f,1} = 0.20$\n-   蔬菜的基准家庭餐盘浪费率：$w_{v,1} = 0.25$\n-   干预后浪费率：$w_{f,2} = \\frac{1}{2} w_{f,1}$ 和 $w_{v,2} = \\frac{1}{2} w_{v,1}$\n-   行为反应比例（转移至消费）：$\\alpha = 0.50$\n-   未来购买量减少的比例：$1-\\alpha = 0.50$\n-   水果的上游生产排放因子：$e_f = 0.70 \\text{ kg CO}_2\\text{e/kg}$\n-   蔬菜的上游生产排放因子：$e_v = 0.50 \\text{ kg CO}_2\\text{e/kg}$\n-   避免的报废（EOL）废物管理排放因子：$e_{EOL} = 0.50 \\text{ kg CO}_2\\text{e/kg}$\n-   水果的零售价格：$p_f = 3.00 \\text{ USD/kg}$\n-   蔬菜的零售价格：$p_v = 2.00 \\text{ USD/kg}$\n-   水果和蔬菜的每份分量：$s = 0.080 \\text{ kg}$\n-   要求输出：人均年度温室气体（GHG）总减排量（$\\Delta E$），人均年度个人成本总节约量（$\\Delta C_{cost}$），以及每日水果和蔬菜摄入量的变化（$\\Delta I$）。\n-   四舍五入要求：所有三个最终答案均保留三位有效数字。\n\n### 步骤2：使用提取的已知条件进行验证\n对问题的有效性进行评估：\n-   **科学依据**：该问题基于质量平衡和生命周期评估（LCA）的既定原则，这些是环境科学和公共卫生领域的标准方法。所有提供的数值都是合理的。\n-   **问题明确**：问题定义清晰，提供了计算指定量的唯一解集所需的所有必要数据和条件。\n-   **客观性**：问题使用精确、定量的语言陈述，没有主观或含糊的术语。\n\n### 步骤3：结论与行动\n问题有效。详细解答如下。\n\n该解答首先为食物流（购买、消费和浪费）的变化建立一个质量平衡模型，然后应用经济和环境参数来量化其影响。下标 $i$ 将用于表示一种通用的农产品类型，其中 $i \\in \\{f, v\\}$ 分别代表水果和蔬菜。下标 $1$ 表示初始（基准）状态，下标 $2$ 表示最终（干预后）状态。\n\n首先，我们定义每年“避免的浪费”的质量。这是在购买行为不改变的情况下可以避免的浪费量。干预措施将浪费率从 $w_{i,1}$ 减半至 $w_{i,2} = w_{i,1}/2$。基于初始购买量 $M_i$，避免的浪费质量为：\n$$ \\Delta W_{potential, i} = M_i \\cdot (w_{i,1} - w_{i,2}) = M_i \\cdot \\left(w_{i,1} - \\frac{w_{i,1}}{2}\\right) = M_i \\frac{w_{i,1}}{2} $$\n问题指出，这部分避免的浪费被分为两部分：比例 $\\alpha$ 用于增加消费，比例 $1-\\alpha$ 导致未来购买量减少。\n\n农产品类型 $i$ 的年消费质量增加量为：\n$$ \\Delta C_i = \\alpha \\cdot \\Delta W_{potential, i} = \\alpha M_i \\frac{w_{i,1}}{2} $$\n农产品类型 $i$ 的年购买质量减少量为：\n$$ \\Delta M_i = (1-\\alpha) \\cdot \\Delta W_{potential, i} = (1-\\alpha) M_i \\frac{w_{i,1}}{2} $$\n根据质量守恒原理，送往报废管理的废物总减少量 $\\Delta W_i$ 必须等于消费增加量和购买减少量之和：\n$$ \\Delta W_i = \\Delta C_i + \\Delta M_i = \\alpha M_i \\frac{w_{i,1}}{2} + (1-\\alpha) M_i \\frac{w_{i,1}}{2} = (\\alpha + 1 - \\alpha) M_i \\frac{w_{i,1}}{2} = M_i \\frac{w_{i,1}}{2} $$\n这证实了废物减少的总质量等于我们最初定义的 $\\Delta W_{potential, i}$。\n\n在建立这些关系后，我们可以推导出三个所需指标的表达式。\n\n1.  **人均年度温室气体总减排量 ($\\Delta E_{total}$)**\n    温室气体总减排量是避免的生产和避免的报废废物管理所带来的减排量之和。\n    $$ \\Delta E_{total} = \\sum_{i \\in \\{f,v\\}} \\left( \\Delta M_i \\cdot e_i + \\Delta W_i \\cdot e_{EOL} \\right) $$\n    代入 $\\Delta M_i$ 和 $\\Delta W_i$ 的表达式：\n    $$ \\Delta E_{total} = \\sum_{i \\in \\{f,v\\}} \\left( (1-\\alpha) M_i \\frac{w_{i,1}}{2} \\cdot e_i + M_i \\frac{w_{i,1}}{2} \\cdot e_{EOL} \\right) $$\n    $$ \\Delta E_{total} = \\sum_{i \\in \\{f,v\\}} M_i \\frac{w_{i,1}}{2} \\left( (1-\\alpha)e_i + e_{EOL} \\right) $$\n    对于水果（$i=f$）：\n    $$ \\Delta E_f = 100 \\frac{0.20}{2} \\left( (1-0.50) \\cdot 0.70 + 0.50 \\right) = 10 \\left( 0.50 \\cdot 0.70 + 0.50 \\right) = 10(0.35 + 0.50) = 8.5 \\text{ kg CO}_2\\text{e/yr} $$\n    对于蔬菜（$i=v$）：\n    $$ \\Delta E_v = 120 \\frac{0.25}{2} \\left( (1-0.50) \\cdot 0.50 + 0.50 \\right) = 15 \\left( 0.50 \\cdot 0.50 + 0.50 \\right) = 15(0.25 + 0.50) = 11.25 \\text{ kg CO}_2\\text{e/yr} $$\n    温室气体总减排量：\n    $$ \\Delta E_{total} = \\Delta E_f + \\Delta E_v = 8.5 + 11.25 = 19.75 \\text{ kg CO}_2\\text{e/yr} $$\n\n2.  **人均年度个人成本总节约量 ($\\Delta C_{cost, total}$)**\n    成本节约仅来自于购买量的减少 $\\Delta M_i$。\n    $$ \\Delta C_{cost, total} = \\sum_{i \\in \\{f,v\\}} \\Delta M_i \\cdot p_i = \\sum_{i \\in \\{f,v\\}} (1-\\alpha) M_i \\frac{w_{i,1}}{2} p_i $$\n    对于水果（$i=f$）：\n    $$ \\Delta C_{cost, f} = (1-0.50) \\cdot 100 \\cdot \\frac{0.20}{2} \\cdot 3.00 = 0.50 \\cdot 10 \\cdot 3.00 = 15.00 \\text{ USD/yr} $$\n    对于蔬菜（$i=v$）：\n    $$ \\Delta C_{cost, v} = (1-0.50) \\cdot 120 \\cdot \\frac{0.25}{2} \\cdot 2.00 = 0.50 \\cdot 15 \\cdot 2.00 = 15.00 \\text{ USD/yr} $$\n    总成本节约量：\n    $$ \\Delta C_{cost, total} = \\Delta C_{cost, f} + \\Delta C_{cost, v} = 15.00 + 15.00 = 30.00 \\text{ USD/yr} $$\n\n3.  **每日水果和蔬菜摄入量的变化 ($\\Delta I_{total}$)**\n    每日摄入量变化（以份/天计）由年消费质量增加量 $\\Delta C_i$ 除以一年中的天数（假设为365天）和每份分量 $s$ 计算得出。\n    $$ \\Delta I_{total} = \\frac{1}{s \\cdot 365} \\sum_{i \\in \\{f,v\\}} \\Delta C_i = \\frac{1}{s \\cdot 365} \\sum_{i \\in \\{f,v\\}} \\alpha M_i \\frac{w_{i,1}}{2} $$\n    $$ \\Delta I_{total} = \\frac{\\alpha}{2 \\cdot s \\cdot 365} \\left( M_f w_{f,1} + M_v w_{v,1} \\right) $$\n    代入数值：\n    $$ \\Delta I_{total} = \\frac{0.50}{2 \\cdot 0.080 \\cdot 365} \\left( 100 \\cdot 0.20 + 120 \\cdot 0.25 \\right) $$\n    $$ \\Delta I_{total} = \\frac{0.50}{58.4} \\left( 20 + 30 \\right) = \\frac{0.50 \\cdot 50}{58.4} = \\frac{25}{58.4} \\approx 0.428082... \\text{ servings/day} $$\n\n将最终答案四舍五入至三位有效数字：\n-   $\\Delta E_{total} = 19.75 \\approx 19.8$\n-   $\\Delta C_{cost, total} = 30.00 \\approx 30.0$\n-   $\\Delta I_{total} = 0.428082... \\approx 0.428$\n\n结果按指定顺序以行矩阵形式呈现：（温室气体减排量，成本节约量，摄入量变化）。",
            "answer": "$$ \\boxed{ \\begin{pmatrix} 19.8  30.0  0.428 \\end{pmatrix} } $$"
        },
        {
            "introduction": "除了评估现有系统，我们能否前瞻性地设计出最优化的解决方案？本练习将向您介绍线性规划，这是一种强大的计算方法，可用于构建既满足所有营养需求又最大限度减少环境足迹的饮食方案。通过解决这个问题，您将亲身体验数据驱动工具在塑造未来可持续营养指南中的应用，这是将公共卫生目标与环境可持续性相结合的前沿实践 ()。",
            "id": "4526640",
            "problem": "给定一个包含八种食物的小型食物系统，以及它们每 $100\\,\\mathrm{g}$ 的营养密度和每 $100\\,\\mathrm{g}$ 的温室气体排放量（以 $\\mathrm{kg}\\,\\mathrm{CO_2e}$ 表示，其中二氧化碳当量（CO2e）是将不同温室气体的气候影响汇总为单一指标）。目标是计算满足四种营养素的推荐膳食摄入量（RDA）并最小化每日总温室气体排放的每日食物摄入量。请将此问题构建并求解为一个线性优化问题，并得出在满足约束条件的同时实现最小排放量的每种食物的摄入量（单位：$\\mathrm{g/day}$）。\n\n使用以下有序食物列表（索引顺序对输出很重要）：\n- $0$：燕麦（燕麦片）\n- $1$：鹰嘴豆（熟）\n- $2$：菠菜（生）\n- $3$：牛奶（全脂）\n- $4$：强化早餐麦片\n- $5$：鸡蛋\n- $6$：豆腐（老豆腐，钙凝）\n- $7$：沙丁鱼（水浸罐头）\n\n每 $100\\,\\mathrm{g}$ 的营养密度：\n- 纤维（$\\mathrm{g}$）：燕麦 $10$，鹰嘴豆 $7.6$，菠菜 $2.2$，牛奶 $0$，麦片 $10$，鸡蛋 $0$，豆腐 $0.9$，沙丁鱼 $0$。\n- 钙（$\\mathrm{mg}$）：燕麦 $54$，鹰嘴豆 $49$，菠菜 $99$，牛奶 $120$，麦片 $25$，鸡蛋 $50$，豆腐 $350$，沙丁鱼 $382$。\n- 铁（$\\mathrm{mg}$）：燕麦 $4.3$，鹰嘴豆 $2.9$，菠菜 $2.7$，牛奶 $0.0$，麦片 $15.0$，鸡蛋 $1.8$，豆腐 $5.4$，沙丁鱼 $2.9$。\n- 维生素 B12（$\\mu\\mathrm{g}$）：燕麦 $0.0$，鹰嘴豆 $0.0$，菠菜 $0.0$，牛奶 $0.5$，麦片 $3.0$，鸡蛋 $1.1$，豆腐 $0.0$，沙丁鱼 $8.9$。\n\n每 $100\\,\\mathrm{g}$ 的温室气体排放量（$\\mathrm{kg}\\,\\mathrm{CO_2e}$）：\n- 燕麦 $0.10$，鹰嘴豆 $0.09$，菠菜 $0.02$，牛奶 $0.12$，麦片 $0.08$，鸡蛋 $0.42$，豆腐 $0.20$，沙丁鱼 $0.15$。\n\n为保持饮食的现实性，每种食物的每日摄入上限（$\\mathrm{g/day}$）：\n- 燕麦 $500$，鹰嘴豆 $500$，菠菜 $300$，牛奶 $1000$，麦片 $400$，鸡蛋 $200$，豆腐 $300$，沙丁鱼 $200$。\n\n设决策变量为 $x_i$，表示食物 $i$ 的每日摄入量（克），其中 $i \\in \\{0,1,2,3,4,5,6,7\\}$。目标是最小化每日总排放量：\n$$\n\\min \\sum_{i=0}^{7} \\left(\\frac{\\mathrm{CO_2e}_i}{100}\\right) x_i\n$$\n约束条件为达到或超过纤维、钙、铁和维生素 B12 的 RDA。营养贡献与质量成线性关系：\n$$\n\\sum_{i=0}^{7} \\left(\\frac{N_{i}}{100}\\right) x_i \\ge RDA_N\n$$\n对于每种营养素 $N \\in \\{\\text{纤维}, \\text{钙}, \\text{铁}, \\text{维生素 B12}\\}$，边界条件为 $0 \\le x_i \\le UB_i$。\n\n使用以下三个测试用例（情景），每个用例定义了允许食用的食物和所需的 RDA。被排除的食物必须通过将其上限设置为 $0$ 来使 $x_i = 0$。\n\n- 测试用例 $1$（杂食者，允许所有食物）：\n  - RDA：纤维 $30\\,\\mathrm{g/day}$，钙 $1000\\,\\mathrm{mg/day}$，铁 $10\\,\\mathrm{mg/day}$，维生素 B12 $2.4\\,\\mu\\mathrm{g/day}$。\n  - 允许的食物：$\\{0,1,2,3,4,5,6,7\\}$。\n\n- 测试用例 $2$（素食者，排除沙丁鱼）：\n  - RDA：纤维 $25\\,\\mathrm{g/day}$，钙 $1000\\,\\mathrm{mg/day}$，铁 $18\\,\\mathrm{mg/day}$，维生素 B12 $2.4\\,\\mu\\mathrm{g/day}$。\n  - 允许的食物：$\\{0,1,2,3,4,5,6\\}$。\n\n- 测试用例 $3$（纯素食者，排除牛奶、鸡蛋、沙丁鱼）：\n  - RDA：纤维 $30\\,\\mathrm{g/day}$，钙 $1000\\,\\mathrm{mg/day}$，铁 $18\\,\\mathrm{mg/day}$，维生素 B12 $2.4\\,\\mu\\mathrm{g/day}$。\n  - 允许的食物：$\\{0,1,2,4,6\\}$。\n\n您的程序必须：\n- 为每个测试用例构建并求解线性规划问题，以找到以 $\\mathrm{g/day}$ 为单位的 $x_i$，在满足所有营养约束和边界条件的同时，最小化总 $\\mathrm{kg}\\,\\mathrm{CO_2e/day}$ 排放量。\n- 按固定的索引顺序 $\\left[0,1,2,3,4,5,6,7\\right]$ 报告每日食物摄入量，对于被排除的食物，用 $0$ 填充。\n- 将每个摄入量以 $\\mathrm{g/day}$ 为单位表示为浮点数，并四舍五入到一位小数。\n\n最终输出格式：\n- 您的程序应生成单行输出，其中包含一个包含三个列表的列表，每个测试用例对应一个列表，每个内部列表给出食物 $0$ 到 $7$ 的摄入量（单位 $\\mathrm{g/day}$），四舍五入到一位小数，例如 $[[q_{0}^{(1)},\\dots,q_{7}^{(1)}],[q_{0}^{(2)},\\dots,q_{7}^{(2)}],[q_{0}^{(3)},\\dots,q_{7}^{(3)}]]$。\n\n仅以指定的单行格式作答。",
            "solution": "该问题要求确定最佳的每日食物摄入量，以满足营养需求，同时最小化温室气体排放。这是一个经典的优化问题，可以严谨地构建并作为线性规划（LP）问题求解。\n\n### 1. 数学建模\n\n该问题旨在找到 $8$ 种不同食物的摄入量，以最小化一个线性目标函数（总排放量），并满足一组线性约束条件（营养需求和摄入限制）。\n\n**决策变量**\n设决策变量向量为 $x = [x_0, x_1, x_2, x_3, x_4, x_5, x_6, x_7]^T$，其中 $x_i$ 表示食物 $i$ 的每日摄入量（$\\mathrm{g/day}$）。索引 $i$ 对应给定的食物列表，从 $i=0$（燕麦）到 $i=7$（沙丁鱼）。\n\n**目标函数**\n目标是最小化每日总温室气体排放量 $Z$，单位为 $\\mathrm{kg}\\,\\mathrm{CO_2e/day}$。排放量是按每 $100\\,\\mathrm{g}$ 食物给出的。目标函数是每克排放量与每种食物摄入量的线性组合：\n$$\n\\min Z = \\sum_{i=0}^{7} c_i x_i\n$$\n其中 $c_i$ 是食物 $i$ 每克的排放量。系数向量 $c$ 由每 $100\\,\\mathrm{g}$ 的数据导出，为：\n$$\nc = \\left[ \\frac{0.10}{100}, \\frac{0.09}{100}, \\frac{0.02}{100}, \\frac{0.12}{100}, \\frac{0.08}{100}, \\frac{0.42}{100}, \\frac{0.20}{100}, \\frac{0.15}{100} \\right]^T\n$$\n$$\nc = [0.0010, 0.0009, 0.0002, 0.0012, 0.0008, 0.0042, 0.0020, 0.0015]^T\n$$\n\n**约束条件**\n饮食必须满足营养摄入和食物数量的约束。\n\n1.  **营养约束**：$4$ 种营养素中每一种的总摄入量必须达到或超过其推荐膳食摄入量（RDA）。这构成了一个包含 $4$ 个线性不等式的系统。对于每种营养素 $j \\in \\{\\text{纤维, 钙, 铁, 维生素 B12}\\}$，约束条件为：\n    $$\n    \\sum_{i=0}^{7} A_{ji} x_i \\ge b_j\n    $$\n    其中 $A_{ji}$ 是每克食物 $i$ 中营养素 $j$ 的含量，而 $b_j$ 是营养素 $j$ 的 RDA。矩阵 $A$ 是通过将给定的每 $100\\,\\mathrm{g}$ 营养密度除以 $100$ 构建的。\n    \n    营养矩阵 $A$（营养素 $j$ 为行，食物 $i$ 为列）为：\n    $$\n    A = \\frac{1}{100} \\begin{pmatrix}\n    10.0  7.6  2.2  0.0  10.0  0.0  0.9  0.0 \\\\\n    54.0  49.0  99.0  120.0  25.0  50.0  350.0  382.0 \\\\\n    4.3  2.9  2.7  0.0  15.0  1.8  5.4  2.9 \\\\\n    0.0  0.0  0.0  0.5  3.0  1.1  0.0  8.9\n    \\end{pmatrix}\n    $$\n    向量 $b = [b_0, b_1, b_2, b_3]^T$ 分别包含纤维、钙、铁和维生素 B12 的 RDA，并且对每个测试用例都不同。\n\n2.  **变量边界**：每种食物的摄入量必须为非负，并受到一个实际的上限 $UB_i$ 的限制。\n    $$\n    0 \\le x_i \\le UB_i \\quad \\text{for } i \\in \\{0, 1, \\dots, 7\\}\n    $$\n    通用上限向量为 $UB = [500, 500, 300, 1000, 400, 200, 300, 200]^T$。对于在特定测试用例中被排除的食物，其上限设置为 $0$。\n\n### 2. 求解线性规划\n\n该问题使用数值优化方法求解。标准 LP 求解器，例如 `scipy.optimize` 库中提供的那些，要求问题以标准形式表述。我们使用以下形式：\n$$\n\\min c^T x \\quad \\text{subject to} \\quad A_{ub} x \\le b_{ub} \\quad \\text{and} \\quad l \\le x \\le u\n$$\n营养约束 $\\sum_{i=0}^{7} A_{ji} x_i \\ge b_j$ 通过乘以 $-1$ 转换为所需的 $\\le$ 形式：\n$$\n\\sum_{i=0}^{7} (-A_{ji}) x_i \\le -b_j\n$$\n因此，对于求解器，我们设置 $A_{ub} = -A$ 和 $b_{ub} = -b$。边界条件提供为 $l_i = 0$ 和 $u_i = UB_i$。\n\n每个测试用例的具体参数如下：\n\n**测试用例 1（杂食者）**\n-   RDA 向量：$b^{(1)} = [30, 1000, 10, 2.4]^T$。\n-   上限：$UB^{(1)} = [500, 500, 300, 1000, 400, 200, 300, 200]^T$。\n\n**测试用例 2（素食者）**\n-   RDA 向量：$b^{(2)} = [25, 1000, 18, 2.4]^T$。\n-   上限：排除沙丁鱼（食物 7）。$UB^{(2)} = [500, 500, 300, 1000, 400, 200, 300, 0]^T$。\n\n**测试用例 3（纯素食者）**\n-   RDA 向量：$b^{(3)} = [30, 1000, 18, 2.4]^T$。\n-   上限：排除牛奶（食物 3）、鸡蛋（食物 5）和沙丁鱼（食物 7）。$UB^{(3)} = [500, 500, 300, 0, 400, 0, 300, 0]^T$。\n\n对于每种情况，使用 `scipy.optimize.linprog` 构建并求解相应的 LP 问题。得到的优化向量 $x$ 提供了每种食物的克数。然后按照要求将这些数量四舍五入到一位小数。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy.optimize import linprog\n\ndef solve():\n    \"\"\"\n    Formulates and solves a series of linear programming problems\n    to find an optimal diet that minimizes GHG emissions while meeting\n    nutritional requirements.\n    \"\"\"\n    \n    # ------------------\n    # Data Definition\n    # ------------------\n    \n    # Objective function coefficients (emissions in kg CO2e per gram of food)\n    emissions_per_100g = np.array([0.10, 0.09, 0.02, 0.12, 0.08, 0.42, 0.20, 0.15])\n    c = emissions_per_100g / 100.0\n\n    # Nutrient matrix (nutrients per 100g). Rows: nutrients, Columns: foods.\n    # Nutrients are ordered: Fiber (g), Calcium (mg), Iron (mg), Vitamin B12 (μg)\n    nutrient_densities_per_100g = np.array([\n        [10.0, 7.6, 2.2, 0.0, 10.0, 0.0, 0.9, 0.0],      # Fiber\n        [54.0, 49.0, 99.0, 120.0, 25.0, 50.0, 350.0, 382.0], # Calcium\n        [4.3, 2.9, 2.7, 0.0, 15.0, 1.8, 5.4, 2.9],      # Iron\n        [0.0, 0.0, 0.0, 0.5, 3.0, 1.1, 0.0, 8.9]       # B12\n    ])\n    \n    # The constraint matrix A_ub for linprog A_ub @ x = b_ub\n    # The nutritional constraint is (Nutrient_Matrix / 100) @ x >= RDA\n    # which is equivalent to -(Nutrient_Matrix / 100) @ x = -RDA\n    A_ub = -(nutrient_densities_per_100g / 100.0)\n\n    # Base upper bounds for food quantities (g/day)\n    upper_bounds_base = np.array([500, 500, 300, 1000, 400, 200, 300, 200])\n\n    # Test cases definition\n    test_cases = [\n        {\n            # Test Case 1 (omnivore)\n            \"rda\": np.array([30, 1000, 10, 2.4]),\n            \"excluded_foods\": []\n        },\n        {\n            # Test Case 2 (vegetarian)\n            \"rda\": np.array([25, 1000, 18, 2.4]),\n            \"excluded_foods\": [7]  # Exclude sardines\n        },\n        {\n            # Test Case 3 (vegan)\n            \"rda\": np.array([30, 1000, 18, 2.4]),\n            \"excluded_foods\": [3, 5, 7]  # Exclude milk, eggs, sardines\n        }\n    ]\n\n    # ------------------\n    # Solving and Formatting\n    # ------------------\n    \n    all_results = []\n    \n    for case in test_cases:\n        # Set up the LP parameters for the current test case\n        \n        # b_ub vector for linprog\n        b_ub = -case[\"rda\"]\n        \n        # Set bounds for variables, setting upper bound to 0 for excluded foods\n        current_upper_bounds = upper_bounds_base.copy()\n        if case[\"excluded_foods\"]:\n            current_upper_bounds[case[\"excluded_foods\"]] = 0\n            \n        bounds = list(zip(np.zeros_like(current_upper_bounds), current_upper_bounds))\n        \n        # Solve the linear program\n        # The 'highs' method is the default and recommended solver in recent SciPy versions.\n        res = linprog(c=c, A_ub=A_ub, b_ub=b_ub, bounds=bounds, method='highs')\n        \n        if res.success:\n            # Clean up small negative values that may arise from floating-point errors\n            solution_quantities = np.maximum(0, res.x)\n            # Round the result to one decimal place\n            rounded_quantities = np.round(solution_quantities, 1).tolist()\n            all_results.append(rounded_quantities)\n        else:\n            # This case is not expected based on problem validation\n            # Append a list of zeros as a fallback\n            all_results.append([0.0] * len(c))\n            \n    # Format the final output string as a list of lists, with no spaces\n    output_str = str(all_results).replace(\" \", \"\")\n    \n    print(output_str)\n\nsolve()\n```"
        }
    ]
}