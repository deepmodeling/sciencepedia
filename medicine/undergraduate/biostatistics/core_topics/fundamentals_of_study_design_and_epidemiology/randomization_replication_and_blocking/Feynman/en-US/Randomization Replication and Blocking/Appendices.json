{
    "hands_on_practices": [
        {
            "introduction": "Before we can design an experiment, we must be crystal clear about what we are trying to measure. This first exercise grounds our work in the potential outcomes framework, a powerful tool for defining causal effects. By working with a small, hypothetical dataset, you will see how the abstract concept of a treatment effect is estimated from observed data and understand why randomization is the essential ingredient that allows the simple difference-in-means to serve as a valid estimate of the average treatment effect for the entire study population .",
            "id": "4944974",
            "problem": "Consider a completely randomized experiment with $N=6$ units, binary treatment assignment $Z_i \\in \\{0,1\\}$, and observed outcome $Y_i^{\\text{obs}}$. Assume the Stable Unit Treatment Value Assumption (SUTVA) and the finite-population potential outcomes framework, where each unit $i$ has fixed potential outcomes $Y_i(1)$ and $Y_i(0)$ and the observed outcome satisfies $Y_i^{\\text{obs}}=Z_i\\,Y_i(1)+(1-Z_i)\\,Y_i(0)$. Replication occurs across the $N$ units and there is no blocking; treatment assignments were generated by complete randomization with fixed treatment and control group sizes.\n\nYou are given the observed pairs $(Y_i^{\\text{obs}}, Z_i)$ as\n$$\\{(5,1),(7,1),(3,0),(4,0),(6,1),(2,0)\\}.$$\nCompute the difference-in-means estimator $\\hat{\\tau}$ from these data. Then, within the finite-population framework of randomization-based causal inference, state precisely which estimand this estimator targets under complete randomization and express that estimand symbolically. Report the numeric value of $\\hat{\\tau}$ as your final answer. No rounding is required.",
            "solution": "The user has provided a problem statement that must first be validated for scientific soundness, completeness, and objectivity before a solution is attempted.\n\n### Step 1: Extract Givens\n-   A completely randomized experiment with $N=6$ units.\n-   Binary treatment assignment $Z_i \\in \\{0,1\\}$.\n-   The Stable Unit Treatment Value Assumption (SUTVA) holds.\n-   Finite-population potential outcomes framework: each unit $i$ has fixed potential outcomes $Y_i(1)$ and $Y_i(0)$.\n-   Observed outcome relationship: $Y_i^{\\text{obs}}=Z_i\\,Y_i(1)+(1-Z_i)\\,Y_i(0)$.\n-   Replication occurs across the $N$ units.\n-   There is no blocking.\n-   Treatment assignments were generated by complete randomization with fixed treatment and control group sizes.\n-   Observed data pairs $(Y_i^{\\text{obs}}, Z_i)$: $\\{(5,1),(7,1),(3,0),(4,0),(6,1),(2,0)\\}$.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is scientifically grounded, being a standard application of the Neyman-Rubin potential outcomes model for causal inference, a cornerstone of modern biostatistics. The assumptions (SUTVA, complete randomization) and the framework (finite population) are fundamental concepts in the design and analysis of randomized experiments.\n\nThe problem is well-posed. It provides all necessary information: the total number of units ($N=6$), the observed outcomes and treatment assignments for each unit, and the randomization mechanism (complete randomization). From the data, we can deduce the number of treated units ($N_1=3$) and control units ($N_0=3$), which is consistent with the stated randomization scheme. The tasks—computing a specific estimator and identifying its target estimand—are precise and lead to a unique, meaningful solution.\n\nThe problem is objective and uses standard, unambiguous terminology from the field of causal inference (e.g., potential outcomes, SUTVA, difference-in-means estimator).\n\nNo flaws are detected. The problem is valid.\n\n### Step 3: Verdict and Action\nThe problem is deemed valid. A solution will be provided.\n\n### Solution\nThe problem asks for the computation of the difference-in-means estimator, $\\hat{\\tau}$, and the identification of the estimand it targets within the specified finite-population, randomization-based framework.\n\nFirst, we organize the provided data by treatment status. The total number of units is $N=6$. The observed data are $\\{(5,1),(7,1),(3,0),(4,0),(6,1),(2,0)\\}$.\nThe units receiving the treatment ($Z_i=1$) have observed outcomes $Y_i^{\\text{obs}} = Y_i(1)$. These are $\\{5, 7, 6\\}$. The number of treated units is $N_1 = 3$.\nThe units receiving the control ($Z_i=0$) have observed outcomes $Y_i^{\\text{obs}} = Y_i(0)$. These are $\\{3, 4, 2\\}$. The number of control units is $N_0 = 3$.\n\nThe difference-in-means estimator, $\\hat{\\tau}$, is defined as the difference between the sample mean of the observed outcomes in the treatment group and the sample mean of the observed outcomes in the control group.\nSymbolically, this is:\n$$ \\hat{\\tau} = \\frac{1}{N_1} \\sum_{i: Z_i=1} Y_i^{\\text{obs}} - \\frac{1}{N_0} \\sum_{i:Z_i=0} Y_i^{\\text{obs}} $$\n\nLet $\\bar{Y}_1$ be the sample mean for the treatment group and $\\bar{Y}_0$ be the sample mean for the control group.\nWe calculate $\\bar{Y}_1$:\n$$ \\bar{Y}_1 = \\frac{5 + 7 + 6}{3} = \\frac{18}{3} = 6 $$\nNext, we calculate $\\bar{Y}_0$:\n$$ \\bar{Y}_0 = \\frac{3 + 4 + 2}{3} = \\frac{9}{3} = 3 $$\n\nNow, we compute the estimator $\\hat{\\tau}$:\n$$ \\hat{\\tau} = \\bar{Y}_1 - \\bar{Y}_0 = 6 - 3 = 3 $$\n\nThe second part of the problem asks to identify the estimand that $\\hat{\\tau}$ targets under complete randomization in a finite population. In this framework, the potential outcomes $\\{Y_i(1), Y_i(0)\\}_{i=1}^N$ are considered fixed, non-random quantities. The only source of randomness is the treatment assignment vector $\\mathbf{Z} = (Z_1, \\dots, Z_N)$.\n\nThe fundamental estimand of interest in this setting is the finite-population Average Treatment Effect (ATE), denoted by $\\tau$. It is defined as the mean of the individual-level causal effects, $Y_i(1) - Y_i(0)$, averaged over all $N$ units in the finite population:\n$$ \\tau = \\frac{1}{N} \\sum_{i=1}^{N} \\left(Y_i(1) - Y_i(0)\\right) $$\n\nUnder complete randomization (where every set of $N_1$ units has an equal chance of being assigned to treatment), the difference-in-means estimator $\\hat{\\tau}$ is an unbiased estimator for the finite-population ATE, $\\tau$. This means that the expectation of $\\hat{\\tau}$ over all possible randomizations is equal to $\\tau$:\n$$ E[\\hat{\\tau}] = \\tau $$\nThe expectation is taken with respect to the distribution of the treatment assignment vector $\\mathbf{Z}$. Because $E[\\hat{\\tau}] = \\tau$, we state that $\\hat{\\tau}$ \"targets\" the estimand $\\tau$.\n\nTherefore, the difference-in-means estimator $\\hat{\\tau}$ targets the finite-population Average Treatment Effect, which is symbolically expressed as $\\frac{1}{N} \\sum_{i=1}^{N} (Y_i(1) - Y_i(0))$.\n\nThe final numeric value requested is that of the estimator $\\hat{\\tau}$.",
            "answer": "$$\\boxed{3}$$"
        },
        {
            "introduction": "Once we know what we want to estimate, the next logical question is, \"How many subjects do we need?\" This practice delves into the crucial role of replication. By determining the minimum sample size required to achieve a desired level of precision, you will gain a hands-on understanding of the trade-off between study size and statistical uncertainty. This exercise demonstrates how the number of replications directly controls the standard error of our treatment effect estimator, a fundamental principle in designing powerful and efficient studies .",
            "id": "4945033",
            "problem": "A biostatistics team is planning a $2$-arm randomized controlled trial (RCT) comparing a new treatment against a control. The primary outcome is a continuous measurement, recorded once per subject. Randomization is carried out without blocking, and the design imposes equal replication in the two arms. The per-subject outcome variance under both arms is assumed equal and known to be $\\sigma^{2}=100$, and different subjects’ outcomes are independent as induced by randomization. The treatment effect is defined as $\\tau=\\mu_{T}-\\mu_{C}$, where $\\mu_{T}$ and $\\mu_{C}$ denote the true arm means, and is estimated by the difference in sample means $\\hat{\\tau}=\\bar{Y}_{T}-\\bar{Y}_{C}$, where each arm has $n$ subjects.\n\nUsing only the definitions of sample means, the variance of a sample mean under independent and identically distributed observations, and basic variance and covariance properties, determine the minimal equal replication per arm $n$ such that the standard error of $\\hat{\\tau}$ is no greater than $2$. Report the minimal integer $n$ that satisfies this requirement. No rounding by significant figures is needed beyond identifying this minimal integer.",
            "solution": "The problem requires the determination of the minimal integer sample size per arm, $n$, for a $2$-arm randomized controlled trial. The constraint is that the standard error of the treatment effect estimator, $\\hat{\\tau}$, must not exceed $2$.\n\nFirst, we establish the mathematical expression for the standard error of the estimator. The estimator for the treatment effect, $\\tau = \\mu_T - \\mu_C$, is given by the difference in sample means:\n$$ \\hat{\\tau} = \\bar{Y}_T - \\bar{Y}_C $$\nwhere $\\bar{Y}_T$ is the sample mean of the treatment arm and $\\bar{Y}_C$ is the sample mean of the control arm.\n\nThe standard error of $\\hat{\\tau}$, denoted $SE(\\hat{\\tau})$, is the square root of its variance, $Var(\\hat{\\tau})$:\n$$ SE(\\hat{\\tau}) = \\sqrt{Var(\\hat{\\tau})} $$\nTo find this, we first calculate the variance of $\\hat{\\tau}$:\n$$ Var(\\hat{\\tau}) = Var(\\bar{Y}_T - \\bar{Y}_C) $$\nThe problem states that randomization is carried out without blocking and that different subjects' outcomes are independent. This implies that the two sample means, $\\bar{Y}_T$ and $\\bar{Y}_C$, are independent random variables, as they are calculated from distinct sets of subjects. For two independent random variables, the variance of their difference is the sum of their variances:\n$$ Var(\\hat{\\tau}) = Var(\\bar{Y}_T) + Var(\\bar{Y}_C) $$\nNext, we determine the variance of each sample mean. For a sample of $n$ independent and identically distributed observations with a population variance of $\\sigma^2$, the variance of the sample mean is given by $\\frac{\\sigma^2}{n}$. The problem specifies that the per-subject outcome variance is known and equal for both arms, with $\\sigma^2 = 100$. Each arm has a sample size of $n$.\n\nFor the treatment arm:\n$$ Var(\\bar{Y}_T) = \\frac{\\sigma^2}{n} = \\frac{100}{n} $$\nFor the control arm:\n$$ Var(\\bar{Y}_C) = \\frac{\\sigma^2}{n} = \\frac{100}{n} $$\nSubstituting these into the expression for $Var(\\hat{\\tau})$:\n$$ Var(\\hat{\\tau}) = \\frac{100}{n} + \\frac{100}{n} = \\frac{200}{n} $$\nNow, we can find the standard error of $\\hat{\\tau}$:\n$$ SE(\\hat{\\tau}) = \\sqrt{Var(\\hat{\\tau})} = \\sqrt{\\frac{200}{n}} $$\nThe problem imposes the constraint that the standard error must be no greater than $2$:\n$$ SE(\\hat{\\tau}) \\leq 2 $$\nSubstituting our expression for the standard error gives the inequality:\n$$ \\sqrt{\\frac{200}{n}} \\leq 2 $$\nTo solve for $n$, we square both sides of the inequality. Since both sides are non-negative, the direction of the inequality is preserved:\n$$ \\frac{200}{n} \\leq 2^2 $$\n$$ \\frac{200}{n} \\leq 4 $$\nSince $n$ is a sample size, it must be a positive integer ($n > 0$). We can therefore multiply both sides of the inequality by $n$ without changing the direction of the inequality:\n$$ 200 \\leq 4n $$\nFinally, we can isolate $n$ by dividing by $4$:\n$$ \\frac{200}{4} \\leq n $$\n$$ 50 \\leq n $$\nThis inequality states that the sample size per arm, $n$, must be at least $50$. The problem asks for the minimal integer value of $n$ that satisfies this condition. The smallest integer $n$ for which $n \\geq 50$ is $50$.\n\nThus, the minimal equal replication per arm is $50$.",
            "answer": "$$\\boxed{50}$$"
        },
        {
            "introduction": "While simple randomization is unbiased in the long run, it can lead to undesirable imbalances in the number of subjects per group, especially in smaller studies or over short periods. This exercise introduces permuted block randomization, a practical strategy to enforce balance. By calculating the number of possible treatment sequences within a block, you will explore the mechanics of this common blocking technique and appreciate how it helps maintain the integrity and comparability of treatment groups throughout the enrollment process .",
            "id": "4945041",
            "problem": "A biostatistics team is designing a two-arm randomized clinical trial with equal allocation and permuted block randomization to ensure balance within blocks. Each block has size $B=4$, and randomization is restricted so that within each block exactly $2$ participants are assigned to treatment $A$ and $2$ participants are assigned to treatment $B$. The implementation samples uniformly at random from all admissible treatment sequences for a block.\n\nUsing only first principles from counting and randomization—namely, that admissible sequences are those with exactly $2$ labels $A$ and $2$ labels $B$, that all admissible sequences are equally likely under uniform randomization, and that permutations differing only by swapping indistinguishable labels are not distinct—derive the number of distinct admissible treatment sequences in one block and then deduce the probability that any particular admissible sequence is selected for a given block. Give your final answer as a simplified fraction with no units.",
            "solution": "The problem requires the derivation of two quantities based on first principles of counting and randomization: first, the number of distinct admissible treatment sequences for a block, and second, the probability of selecting any one particular such sequence.\n\nLet the block size be $B=4$. A treatment sequence for this block is a sequence of length $4$. Let the two treatments be denoted by the labels $A$ and $B$. The problem states that the randomization is restricted such that within each block, exactly $2$ participants are assigned to treatment $A$ and $2$ are assigned to treatment $B$. An admissible sequence is therefore a sequence of length $4$ containing exactly two $A$'s and two $B$'s.\n\nThe first task is to determine the number of distinct admissible treatment sequences. This is a combinatorial problem of arranging a multiset of objects. Our multiset consists of $4$ items: $\\{A, A, B, B\\}$. We wish to find the number of distinct permutations of these items.\n\nLet $N$ be the total number of positions in the sequence, which is the block size, so $N=4$. Let $n_A$ be the number of assignments to treatment $A$, and $n_B$ be the number of assignments to treatment $B$. According to the problem statement, $n_A=2$ and $n_B=2$. Note that $n_A + n_B = 2+2=4=N$.\n\nWe can derive the number of distinct sequences by considering the number of ways to choose the positions for one of the treatments. Let us choose the positions for the two $A$'s first. There are $4$ available positions in the sequence. The number of ways to choose $2$ distinct positions for the $A$'s from a total of $4$ positions is given by the binomial coefficient $\\binom{4}{2}$.\n\nThe formula for the binomial coefficient $\\binom{n}{k}$ is $\\frac{n!}{k!(n-k)!}$. In our case, $n=4$ and $k=2$.\n$$ \\binom{4}{2} = \\frac{4!}{2!(4-2)!} = \\frac{4!}{2!2!} $$\nCalculating this value:\n$$ \\frac{4 \\times 3 \\times 2 \\times 1}{(2 \\times 1)(2 \\times 1)} = \\frac{24}{4} = 6 $$\nOnce the $2$ positions for the $A$'s are chosen, the remaining $2$ positions are automatically filled by the $B$'s. Therefore, there are exactly $6$ distinct admissible treatment sequences. These sequences are: $AABB$, $ABAB$, $ABBA$, $BAAB$, $BABA$, and $BBAA$. Let's denote the set of these admissible sequences as $\\mathcal{S}$, so the size of this set is $|\\mathcal{S}| = 6$.\n\nThe second task is to deduce the probability that any particular admissible sequence is selected for a given block. The problem states that the implementation `samples uniformly at random from all admissible treatment sequences`. This means that each of the $6$ distinct sequences in $\\mathcal{S}$ is equally likely to be chosen.\n\nLet $s$ be any particular admissible sequence (e.g., $s = AABB$). According to the principle of uniform probability, the probability of selecting any single, specific outcome from a set of equally likely outcomes is the reciprocal of the total number of outcomes.\nThe total number of possible outcomes is the number of distinct admissible sequences, which we calculated to be $|\\mathcal{S}| = 6$.\n\nThe probability $P(s)$ of selecting any particular sequence $s \\in \\mathcal{S}$ is therefore:\n$$ P(s) = \\frac{1}{|\\mathcal{S}|} = \\frac{1}{6} $$\nThis probability is a simplified fraction as required.",
            "answer": "$$ \\boxed{\\frac{1}{6}} $$"
        }
    ]
}