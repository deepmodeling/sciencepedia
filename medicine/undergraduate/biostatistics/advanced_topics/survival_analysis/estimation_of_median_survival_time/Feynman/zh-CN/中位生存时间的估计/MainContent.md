## 引言

在医学研究或工程可靠性测试中，我们常常关心一个群体“典型”的存活或运行时间。然而，当研究结束时，总有一些个体（无论是患者还是设备）仍然“存活”，我们只知道他们的生存时间超过了观察期。这种不完整的数据被称为“删失”，它对我们准确评估中心趋势提出了严峻挑战，使得简单的平均值计算变得不可靠甚至产生误导。那么，我们该如何科学地概括这类含有[删失数据](@entry_id:173222)的生存信息呢？

本文旨在系统性地解答这一问题，核心聚焦于“[中位生存时间](@entry_id:634182)”这一稳健而关键的统计指标。通过学习本文，你将掌握在复杂数据下估计典型生存时间的强大工具。我们将分三个章节展开：

首先，在**“原理与机制”**中，我们将深入探讨[中位生存时间](@entry_id:634182)的定义，并详细拆解大名鼎鼎的[Kaplan-Meier](@entry_id:169317)估计法，学习如何一步步构建[生存曲线](@entry_id:924638)并从中找到中位值。我们还将讨论当数据无法提供确切[中位数](@entry_id:264877)时该如何处理，并介绍[限制性平均生存时间](@entry_id:913560)（RMST）和参数模型等替代或补充方案。

接着，在**“应用与[交叉](@entry_id:147634)学科联系”**中，我们将跨入真实世界，看[中位生存时间](@entry_id:634182)如何在医学领域（如[肿瘤学](@entry_id:272564)和心脏病学）中用于[风险分层](@entry_id:261752)和疗效评估。我们也将剖析其局限性，特别是在[生存曲线](@entry_id:924638)交叉或存在[竞争风险](@entry_id:173277)等复杂情况下，学习如何更全面地解读[生存数据](@entry_id:165675)。

最后，在**“上手实践”**部分，你将通过解决一系列精心设计的问题，亲手应用所学知识，从构建基本的[Kaplan-Meier曲线](@entry_id:907290)到比较不同模型的优劣，从而将理论真正内化为实践技能。

现在，让我们从最基础的原理出发，一同揭开在不完美数据中寻找生存真相的神秘面纱。

## 原理与机制

想象一下，你正在进行一项实验，记录一群灯泡的寿命。有些灯泡在你眼前烧坏了，你记下了它们的确切“存活”时间。但另一些灯泡，在你结束实验、收拾东西回家时，它们依然亮着。你只知道它们的寿命“大于”你观察它的最后时刻。或者，在更严肃的医学研究中，医生们追踪一群接受新疗法的患者，想知道他们能维持多久的无复发状态。研究总有结束的一天，届时，许多患者可能依然健康。我们只知道他们的“生存时间”超过了研究的持续时间。这些不完整的观测数据，在统计学中被称为**删失 (censoring)**，它们是[生存分析](@entry_id:264012)中一个核心且迷人的难题。

如果我们想知道这群研究对象的“典型”生存时间，该怎么办呢？一个自然的想法是计算平均值。但对于那些我们不知道确切寿命的“删失”个体，我们该如何处理？简单地忽略他们，会让我们低估真实的[平均寿命](@entry_id:195236)，因为我们扔掉了那些活得最久的信息。把他们的删失时间当作真实寿命，则会系统性地低估寿命，因为我们知道他们活得比那更长 。这个难题似乎让我们陷入了困境。

### [中位数](@entry_id:264877)：一个更稳健的基准

为了绕开这个难题，统计学家们常常转向另一个衡量中心趋势的指标：**[中位数](@entry_id:264877) (median)**。与平均值不同，中位数对极端值不那么敏感。想象一场马拉松比赛，平均完赛时间可能会被几个跑得飞快的专业选手或几个走走停停的业余爱好者严重影响。而中位数完赛时间，仅仅是当第50%的选手冲过终点线时的那个时刻。它代表了最“中间”的那个表现，更加稳健。

在[生存分析](@entry_id:264012)中，**[中位生存时间](@entry_id:634182) (median survival time)** 的定义同样直观：它是指恰好有50%的研究对象发生“事件”（例如灯泡烧坏或疾病复发）的时间点。换句话说，它是生存概率降至一半的时刻。如果我们用 $S(t)$ 来表示[生存函数](@entry_id:267383)，即一个个体存活超过时间 $t$ 的概率，那么[中位生存时间](@entry_id:634182) $t_m$ 就是满足 $S(t_m) = 0.5$ 的那个时间点。

这个定义非常优美，但问题依然存在：当我们有[删失数据](@entry_id:173222)时，我们无法画出那条完美的、平滑的 $S(t)$ 曲线。我们该如何找到那个神秘的50%分界点呢？

### 循序渐进的旅程：[Kaplan-Meier](@entry_id:169317)估计法

解决这个难题的钥匙，由两位天才统计学家 Edward Kaplan 和 Paul Meier 在1958年提供。他们的方法，即**[Kaplan-Meier](@entry_id:169317) (KM) 估计法**，是一种无需对生存时间的[分布](@entry_id:182848)做任何预先假设（即“非参数”方法）的巧妙构造。它不试图去猜测那条看不见的完美曲线，而是基于我们已有的、不完整的信息，一步一步地、忠实地构建出对生存概率的最佳估计。

KM方法的核心思想是，只有在发生“事件”的时刻，我们对生存概率的估计才需要更新。在两个事件之间，如果没有新事件发生，我们没有理由改变我们的看法，即使期间有人被“删失”了。

让我们跟随一次研究的脚步来理解这个过程 。假设我们有6位研究对象。
- 在时间 $t=0$，所有6人都“健在”，所以生存概率估计 $\hat{S}(0) = 1$。
- 在时间 $t=2$，第1个人发生了事件。此时，有6个人在“[风险集](@entry_id:917426)”中（即可能发生事件的人群）。发生事件的比例是 $1/6$，因此存活下来的比例是 $1 - 1/6 = 5/6$。我们更新生存概率为 $\hat{S}(2) = 1 \times (5/6) = 5/6$。
- 在时间 $t=4$，第2个人发生了事件。此时，[风险集](@entry_id:917426)中还剩5个人。存活下来的比例是 $1 - 1/5 = 4/5$。总的生存概率是之前概率的累乘：$\hat{S}(4) = (5/6) \times (4/5) = 2/3$。
- 在时间 $t=5$，第3个人被删失了。他离开了研究，但没有发生事件。这对我们已知的生存概率没有影响，$\hat{S}(t)$ 保持不变。但他的离开很重要，因为在下一次事件发生时，他将不再属于[风险集](@entry_id:917426)。
- 在时间 $t=7$，第4个人发生了事件。在 $t=7$ 之前，[风险集](@entry_id:917426)中有多少人呢？最初有6人，减去在 $t=2$ 和 $t=4$ 发生事件的2人，再减去在 $t=5$ 删失的1人，还剩3人。所以，存活比例是 $1 - 1/3 = 2/3$。总生存概率更新为 $\hat{S}(7) = (2/3) \times (2/3) = 4/9$。

通过这个过程，我们得到了一条阶梯状的曲线，它只在事件发生的时间点向下跳跃。这条**[Kaplan-Meier曲线](@entry_id:907290)**，就是我们从不完美数据中提取出的关于生存故事的最诚实的描述。

### 在阶梯上寻找中点

有了这条阶梯曲线，寻找[中位生存时间](@entry_id:634182)就变得异常简单。我们只需沿着这条曲线，找到它第一次下降到 $0.5$ 或以下的时间点。

在我们刚才的例子中，$\hat{S}(4) = 2/3 \approx 0.67$，仍然大于 $0.5$。但在 $t=7$ 时，$\hat{S}(7) = 4/9 \approx 0.44$，第一次低于了 $0.5$。因此，我们估计的[中位生存时间](@entry_id:634182)就是 $7$ 个月。这个过程可以被严谨地描述为寻找满足 $\hat{S}(t) \le 0.5$ 的最小时间 $t$  。在数学上，这被称为取集合 $\{t: \hat{S}(t) \le 0.5\}$ 的**[下确界](@entry_id:140118) (infimum)**，这确保了即使曲线在某个区间内恰好等于 $0.5$，我们也能得到一个唯一、确定的中位数值 。

### 知识的边界：当中位数“未达到”时

现在，一个有趣的问题出现了：如果研究结束时，KM曲线仍然在 $0.5$ 的水平线之上怎么办？例如，一种新[药效](@entry_id:913980)果非常好，在长达五年的研究中，超过一半的患者都未复发。

在这种情况下，数据告诉我们，[中位生存时间](@entry_id:634182)超过了五年，但具体是多少，我们无从知晓。我们无法在数据支持的范围之外进行推断 。这时，任何试图给出一个具体数值的尝试都是不诚实的。最科学、最严谨的做法是报告“**[中位生存时间](@entry_id:634182)未达到 (median not reached)**” 。

这并非方法的失败，而是对我们知识边界的尊重。它也促使我们思考：[中位数](@entry_id:264877)，这个单一的时间点，是否足以描绘生存体验的全貌？

### 超越[中位数](@entry_id:264877)：更丰富的生存图景

当[中位数](@entry_id:264877)“未达到”或当不同疗法的[生存曲线](@entry_id:924638)相互交叉时（例如，疗法A短期效果好，疗法B长期效果更佳），中位数的比较可能会产生误导 。为了得到更全面的图景，统计学家引入了一个同样优美的概念——**[限制性平均生存时间](@entry_id:913560) (Restricted Mean Survival Time, RMST)**。

RMST的定义是什么？想象一下[生存曲线](@entry_id:924638)下方的面积。这个面积的几何意义，就是在一个预设的时间窗口（比如从 $0$ 到 $\tau$）内，所有研究对象平均的无事件生存时间 。RMST被定义为 $\int_0^\tau S(t) dt$。与中位数这个“点”估计不同，RMST是一个“线”或“面”的估计，它整合了从开始到时间点 $\tau$ 的全部生存信息。

RMST的巨大优势在于，只要我们选择的时间窗口 $\tau$ 在我们的观测范围内，它总是可以被估计出来的，即使[中位数](@entry_id:264877)未达到 。通过比较两条[生存曲线](@entry_id:924638)下方的面积差异，我们可以量化在一个有临床意义的时间段内，一种疗法相比另一种平均能带来多长的“额外”无事件生存时间。

### 确定性与不确定性

无论是KM估计的中位数，还是RMST，它们都是从样本数据中得到的“估计值”。如果我们换一个样本，结果可能会有所不同。因此，报告一个单一的数值是不够的，我们还需要量化它的不确定性。

统计学家为此开发了相应的方法，比如 **Brookmeyer-Crowley 方法**，它可以为[中位生存时间](@entry_id:634182)构建一个**置信区间 (confidence interval)** 。一个95%的[置信区间](@entry_id:142297)，比如 $[10, 18]$ 个月，可以通俗地理解为：我们有95%的信心，认为真实的[中位生存时间](@entry_id:634182)落在这个范围之内。这个区间为我们提供了一个关于估计值可靠性的重要视角。

### 假设的力量：参数化之路

到目前为止，我们所讨论的KM方法都属于“非参数”范畴，因为它对[生存曲线](@entry_id:924638)的形状不作任何假设，只是让数据自己说话。这是一种非常稳健和诚实的策略。

然而，我们也可以选择另一条道路：**参数化模型**。这条道路要求我们更大胆一些，事先对生存时间的[分布](@entry_id:182848)规律做出一个数学假设。例如，我们可以假设生存时间服从一种叫做**威布尔 (Weibull) [分布](@entry_id:182848)**的特定模式 。

这就像是用一条已知的、平滑的数学曲线去拟合我们的数据点，而不是简单地将它们用阶梯连接起来。如果我们的假设是正确的，参数化模型可以提供更精确的估计，甚至能帮助我们预测删失个体的未来生存概率。但其风险也显而易见：如果我们的假设从一开始就是错的，那么整个分析结果都可能是误导性的。

这完美地体现了统计学中一个永恒的权衡：是在几乎没有假设的稳健性（[非参数方法](@entry_id:138925)）与做出假设后可能获得的更高效率和更强推断能力（参数方法）之间做出选择。理解这种权衡，正是踏入现代[生物统计学](@entry_id:266136)殿堂的关键一步。