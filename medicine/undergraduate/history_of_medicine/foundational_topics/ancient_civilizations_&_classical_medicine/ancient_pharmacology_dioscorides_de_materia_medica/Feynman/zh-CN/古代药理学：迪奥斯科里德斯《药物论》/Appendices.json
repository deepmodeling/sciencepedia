{
    "hands_on_practices": [
        {
            "introduction": "迪奥斯科里德斯（Dioscorides）记载了柳树皮的止痛功效，现在我们知道这归功于其活性成分水杨苷（salicin）——它是水杨酸（salicylic acid，即阿司匹林）的前体。但是，古代患者需要服用多少树皮才能达到有效剂量呢？这项练习  让你化身为一名历史药理学家，运用化学计量学和提取效率的原理来重建古代方剂，并计算所需原材料的质量。",
            "id": "4738010",
            "problem": "在Pedanius Dioscorides的专著《药物论》（De materia medica）中，柳树皮被描述为可用于缓解疼痛。现代分析将此功效与糖苷水杨苷联系起来，水杨苷在水解及后续氧化后可生成具有药理活性的水杨酸。考虑一个历史上可能的煎煮情景：干柳树皮的平均水杨苷质量分数为 $f_{s} = 0.0125$；慢煮提取过程将树皮中 $E = 0.60$ 比例的水杨苷提取到水中；最终转化为水杨酸的比例（即与“水杨酸当量”相关的总水解加氧化产率）为 $F_{\\text{conv}} = 0.90$。假设提取出的水杨苷按摩尔基准完全化学计量地转化为水杨酸，其转化受作为效率因子的 $F_{\\text{conv}}$ 调节，并忽略其他损失。\n\n利用质量守恒和化学计量学，确定制备一份能提供相当于 $300$ 毫克水杨酸的煎剂所需的干柳树皮质量。在计算摩尔质量时，使用水杨苷（$\\mathrm{C}_{13}\\mathrm{H}_{18}\\mathrm{O}_{7}$）和水杨酸（$\\mathrm{C}_{7}\\mathrm{H}_{6}\\mathrm{O}_{3}$）的化学式，以及原子量 $M_{\\mathrm{C}} = 12.011$ $\\mathrm{g/mol}$、$M_{\\mathrm{H}} = 1.008$ $\\mathrm{g/mol}$ 和 $M_{\\mathrm{O}} = 15.999$ $\\mathrm{g/mol}$。\n\n最终答案以克为单位表示，并四舍五入至三位有效数字。",
            "solution": "该问题经证实具有科学依据，表述清晰且客观。它提出了一个在历史背景下应用的标准化学计量问题。所有必要的数据均已提供，假设也已明确说明。因此，我们可以进行定量求解。\n\n目标是确定生产一份含有相当于 $m_{\\text{SA, target}} = 300$ 毫克水杨酸的煎剂所需的干柳树皮质量，记为 $m_{\\text{bark}}$。求解过程需要一个分步计算，从最终产物（水杨酸）反推至初始原料（柳树皮），同时考虑化学计量关系和过程效率。\n\n首先，我们必须使用给定的原子量 $M_{\\mathrm{C}} = 12.011$ g/mol、$M_{\\mathrm{H}} = 1.008$ g/mol 和 $M_{\\mathrm{O}} = 15.999$ g/mol 计算水杨苷（$\\mathrm{C}_{13}\\mathrm{H}_{18}\\mathrm{O}_{7}$）和水杨酸（$\\mathrm{C}_{7}\\mathrm{H}_{6}\\mathrm{O}_{3}$）的摩尔质量。\n\n水杨苷的摩尔质量 $M_{\\text{salicin}}$ 为：\n$$M_{\\text{salicin}} = 13 \\times M_{\\mathrm{C}} + 18 \\times M_{\\mathrm{H}} + 7 \\times M_{\\mathrm{O}}$$\n$$M_{\\text{salicin}} = 13 \\times 12.011 + 18 \\times 1.008 + 7 \\times 15.999$$\n$$M_{\\text{salicin}} = 156.143 + 18.144 + 111.993 = 286.280 \\text{ g/mol}$$\n\n水杨酸的摩尔质量 $M_{\\text{SA}}$ 为：\n$$M_{\\text{SA}} = 7 \\times M_{\\mathrm{C}} + 6 \\times M_{\\mathrm{H}} + 3 \\times M_{\\mathrm{O}}$$\n$$M_{\\text{SA}} = 7 \\times 12.011 + 6 \\times 1.008 + 3 \\times 15.999$$\n$$M_{\\text{SA}} = 84.077 + 6.048 + 47.997 = 138.122 \\text{ g/mol}$$\n\n接下来，我们建立起始原料质量与最终产物质量之间的关系。该过程涉及三个主要阶段：树皮中水杨苷的存在、其到水中的提取以及其向水杨酸的转化。\n\n设 $m_{\\text{bark}}$ 为干柳树皮的质量。\n此树皮中包含的水杨苷质量 $m_{\\text{salicin, in bark}}$ 由质量分数 $f_{s} = 0.0125$ 给出：\n$$m_{\\text{salicin, in bark}} = m_{\\text{bark}} \\times f_{s}$$\n\n在慢煮煎制过程中，只有比例为 $E = 0.60$ 的水杨苷被提取到水中。提取出的水杨苷质量 $m_{\\text{salicin, extracted}}$ 为：\n$$m_{\\text{salicin, extracted}} = m_{\\text{salicin, in bark}} \\times E = m_{\\text{bark}} \\times f_{s} \\times E$$\n\n从水杨苷到水杨酸的转化基于1:1的摩尔化学计量关系。由提取出的水杨苷可能产生的潜在水杨酸质量 $m_{\\text{SA, potential}}$，可以通过将提取出的水杨苷质量转化为摩尔数，应用摩尔比，然后再转化回水杨酸的质量来求得。\n$$\\text{moles}_{\\text{salicin, extracted}} = \\frac{m_{\\text{salicin, extracted}}}{M_{\\text{salicin}}}$$\n$$\\text{moles}_{\\text{SA, potential}} = \\text{moles}_{\\text{salicin, extracted}} \\times \\frac{1 \\text{ mol SA}}{1 \\text{ mol salicin}} = \\frac{m_{\\text{salicin, extracted}}}{M_{\\text{salicin}}}$$\n$$m_{\\text{SA, potential}} = \\text{moles}_{\\text{SA, potential}} \\times M_{\\text{SA}} = m_{\\text{salicin, extracted}} \\times \\frac{M_{\\text{SA}}}{M_{\\text{salicin}}}$$\n\n这个潜在质量随后因总转化产率 $F_{\\text{conv}} = 0.90$ 而减少。实际产生的水杨酸质量，即我们要求的目标质量 $m_{\\text{SA, target}}$，为：\n$$m_{\\text{SA, target}} = m_{\\text{SA, potential}} \\times F_{\\text{conv}} = \\left( m_{\\text{salicin, extracted}} \\times \\frac{M_{\\text{SA}}}{M_{\\text{salicin}}} \\right) \\times F_{\\text{conv}}$$\n\n代入 $m_{\\text{salicin, extracted}}$ 的表达式：\n$$m_{\\text{SA, target}} = \\left( m_{\\text{bark}} \\times f_{s} \\times E \\right) \\times \\frac{M_{\\text{SA}}}{M_{\\text{salicin}}} \\times F_{\\text{conv}}$$\n\n我们现在可以重新整理这个方程，以求解所需的柳树皮质量 $m_{\\text{bark}}$：\n$$m_{\\text{bark}} = m_{\\text{SA, target}} \\times \\left( \\frac{M_{\\text{salicin}}}{M_{\\text{SA}}} \\right) \\times \\frac{1}{f_{s} \\times E \\times F_{\\text{conv}}}$$\n\n现在，我们将数值代入此表达式。为了保持量纲一致性，目标质量 $m_{\\text{SA, target}} = 300$ mg 必须转换为克：$m_{\\text{SA, target}} = 0.300$ g。\n$$m_{\\text{bark}} = 0.300 \\text{ g} \\times \\left( \\frac{286.280 \\text{ g/mol}}{138.122 \\text{ g/mol}} \\right) \\times \\frac{1}{0.0125 \\times 0.60 \\times 0.90}$$\n\n我们来计算表达式的各个组成部分：\n经化学计量调整后的质量比为：\n$$\\frac{M_{\\text{salicin}}}{M_{\\text{SA}}} = \\frac{286.280}{138.122} \\approx 2.07267$$\n分母中的综合效率因子为：\n$$f_{s} \\times E \\times F_{\\text{conv}} = 0.0125 \\times 0.60 \\times 0.90 = 0.00675$$\n\n将这些值代入 $m_{\\text{bark}}$ 的方程中：\n$$m_{\\text{bark}} = 0.300 \\times 2.07267 \\times \\frac{1}{0.00675}$$\n$$m_{\\text{bark}} = \\frac{0.300 \\times 2.07267}{0.00675} \\approx \\frac{0.621801}{0.00675} \\approx 92.11866 \\text{ g}$$\n\n问题要求最终答案四舍五入至三位有效数字。\n$$m_{\\text{bark}} \\approx 92.1 \\text{ g}$$\n\n因此，在指定条件下，制备一份能提供相当于 $300$ 毫克水杨酸的煎剂，大约需要 $92.1$ 克干柳树皮。",
            "answer": "$$\\boxed{92.1}$$"
        },
        {
            "introduction": "一些古代疗法虽然有效，但也常常游走于治疗与毒性之间的微妙界限。迪奥斯科里德斯曾将曼德拉草（mandrake）用作外科麻醉剂，由于其含有强效的托品烷类生物碱，这便是一个典型的例子。本练习  将指导你完成一次现代毒理学风险评估，你将使用半数致死剂量（$LD_{50}$）和不确定性因子等概念来计算古代剂量的安全边际，从而定量地探讨古代药理学中固有的风险。",
            "id": "4738000",
            "problem": "在Pedanius Dioscorides的药典中，记载了使用干燥的曼德拉草（Mandragora officinarum）根部作为外科镇痛和麻醉剂。为了将这种历史剂量置于现代毒理学框架中进行评估，请使用以下基于历史且科学合理的假设和换算。\n\n假设一医学德拉克马的重量等于 $3.4\\,\\text{g}$，并且在手术前用于诱导睡眠的典型制剂使用了半德拉克马，即 $0.5$ 德拉克马的干燥曼德拉草根。现代植物化学调查表明，干燥的根部可含有质量分数为 $0.0045$ 的托品类生物碱（以阿托品当量表示），并且古代使用的简单葡萄酒浸泡法会提取其中 $0.55$ 的生物碱进入实际消耗的剂量中。假设成人体重为 $72\\,\\text{kg}$。\n\n根据当代啮齿动物毒理学数据，阿托品当量托品类生物碱的口服半数致死剂量（LD50）为 $400\\,\\text{mg}\\,\\text{kg}^{-1}$。遵循标准风险评估实践，通过乘法应用 $10$ 的种间不确定性因子和 $3$ 的人体变异性（种内）因子来估算一个保守的人类LD50。\n\n将此历史剂量的安全边际 $S$ 定义为估算的人类LD50超过单次给药中输送的阿托品当量剂量的无单位因子。在上述假设下计算 $S$。将您的答案四舍五入到 $3$ 位有效数字，并以无单位的小数形式报告（最终答案不带单位）。",
            "solution": "该问题的目标是计算古代曼德拉草剂量的安全边际 $S$。安全边际定义为估算的人类半数致死剂量 ($LD50_{human}$) 与单位体重的实际输送剂量 ($D_{delivered}$) 之比：\n$$S = \\frac{LD50_{human}}{D_{delivered}}$$\n我们需要分步计算分子和分母。\n\n**步骤 1：计算输送剂量 ($D_{delivered}$)**\n\n首先，计算干燥曼德拉草根的初始质量 $m_{root}$。剂量为 $0.5$ 德拉克马，每德拉克马等于 $3.4\\,\\text{g}$。\n$$m_{root} = 0.5 \\text{ 德拉克马} \\times 3.4\\,\\text{g/德拉克马} = 1.7\\,\\text{g}$$\n其次，计算根部所含托品类生物碱的总质量 $m_{alk,total}$。根中生物碱的质量分数为 $0.0045$。\n$$m_{alk,total} = m_{root} \\times 0.0045 = 1.7\\,\\text{g} \\times 0.0045 = 0.00765\\,\\text{g}$$\n然后，计算实际消耗的生物碱剂量 $m_{dose}$。葡萄酒浸泡法的提取效率为 $0.55$。\n$$m_{dose} = m_{alk,total} \\times 0.55 = 0.00765\\,\\text{g} \\times 0.55 = 0.0042075\\,\\text{g}$$\n将此质量转换为毫克：\n$$m_{dose} = 0.0042075\\,\\text{g} \\times 1000\\,\\text{mg/g} = 4.2075\\,\\text{mg}$$\n最后，计算单位体重的输送剂量 $D_{delivered}$，假设成人体重为 $72\\,\\text{kg}$。\n$$D_{delivered} = \\frac{m_{dose}}{72\\,\\text{kg}} = \\frac{4.2075\\,\\text{mg}}{72\\,\\text{kg}} \\approx 0.0584375\\,\\text{mg/kg}$$\n\n**步骤 2：估算人类半数致死剂量 ($LD50_{human}$)**\n\n$LD50_{human}$ 是从啮齿动物的口服半数致死剂量 ($LD50_{rodent} = 400\\,\\text{mg/kg}$) 推算得出的。我们应用一个种间不确定性因子 ($10$) 和一个种内不确定性因子 ($3$)。\n$$LD50_{human} = \\frac{LD50_{rodent}}{10 \\times 3} = \\frac{400\\,\\text{mg/kg}}{30} = \\frac{40}{3}\\,\\text{mg/kg} \\approx 13.33\\,\\text{mg/kg}$$\n\n**步骤 3：计算安全边际 ($S$)**\n\n现在，我们将 $LD50_{human}$ 和 $D_{delivered}$ 代入安全边际的定义公式中。\n$$S = \\frac{LD50_{human}}{D_{delivered}} = \\frac{\\frac{40}{3}\\,\\text{mg/kg}}{0.0584375\\,\\text{mg/kg}} \\approx \\frac{13.3333}{0.0584375} \\approx 228.16399$$\n问题要求将答案四舍五入到三位有效数字。\n$$S \\approx 228$$",
            "answer": "$$\\boxed{228}$$"
        },
        {
            "introduction": "除了分析单一物质，我们如何能评估迪奥斯科里德斯整个药理学体系的可靠性？这项练习  引入了一种来自数据科学的强大方法来解决这个问题。通过将迪奥斯科里德斯的论断视为“预测”，将现代研究发现视为“真实情况”，你将构建一个混淆矩阵，以统计学的角度衡量其分类的准确性，从而以数据驱动的方式审视这部古代医学基石之作的经验有效性。",
            "id": "4737996",
            "problem": "您的任务是使用二元混淆矩阵框架，评估 Pedanius Dioscorides 在《De materia medica》一书中对“利尿剂”这一单效类别的分类的历史准确性。将 Dioscorides 报告的效果视为预测标签，将现代药理学结果视为基准真相。对于每个数据集，每个条目都是一个数对 $(p_i, a_i)$，其中 $p_i \\in \\{0,1\\}$ 编码了 Dioscorides 的报告（$1$ 表示“利尿剂”，$0$ 表示“非利尿剂”），而 $a_i \\in \\{0,1\\}$ 编码了现代证据（$1$ 表示“利尿剂”，$0$ 表示“非利尿剂”）。\n\n推导的基本依据：\n- 二元分类由一个谓词表示，该谓词将每个项目映射到 $1$（阳性）或 $0$（阴性）。\n- 混淆矩阵由真阳性 (TP)、假阳性 (FP)、真阴性 (TN) 和假阴性 (FN) 的计数组成，这些计数基于预测标签和实际标签的逻辑比较。\n- 准确率、灵敏度（召回率）、特异度、精确率和 F-度量（F1分数）是根据这些计数，使用分类理论中的标准定义计算得出的，这些定义源于命题逻辑和频率聚合的基本定律。\n\n您的程序必须：\n1. 对于每个数据集，使用以下定义计算混淆矩阵的计数 $TP$、$FP$、$TN$ 和 $FN$：\n   - 真阳性 (TP)：满足 $p_i = 1$ 且 $a_i = 1$ 的索引 $i$ 的数量。\n   - 假阳性 (FP)：满足 $p_i = 1$ 且 $a_i = 0$ 的索引 $i$ 的数量。\n   - 真阴性 (TN)：满足 $p_i = 0$ 且 $a_i = 0$ 的索引 $i$ 的数量。\n   - 假阴性 (FN)：满足 $p_i = 0$ 且 $a_i = 1$ 的索引 $i$ 的数量。\n2. 根据这些计数，为每个数据集计算以下比率，四舍五入到六位小数：\n   - 准确率。\n   - 灵敏度（召回率）。\n   - 特异度。\n   - 精确率。\n   - F-度量（F1分数）。\n3. 如果任何比率计算中涉及的分母为 $0$，则该比率返回 $0$。\n\n测试套件（每个数据集是 $(p_i, a_i)$ 数对的有序列表）：\n- 数据集 $1$：$(1,1),(1,0),(0,0),(0,1),(1,1),(0,0),(1,1)$。\n- 数据集 $2$：$(1,1),(1,1),(0,0),(0,0),(1,1)$。\n- 数据集 $3$：$(1,0),(0,1),(1,0),(0,1)$。\n- 数据集 $4$：$(1,0),(1,0),(0,0),(0,0)$。\n- 数据集 $5$：$(0,1),(0,1),(0,0),(0,0)$。\n- 数据集 $6$：$\\,\\,\\,\\,\\,\\,\\,$（不含任何数对的空数据集）。\n\n您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表。每个元素本身必须是对应一个数据集的列表，顺序完全一致：$[TP,FP,TN,FN,\\text{准确率},\\text{召回率},\\text{特异度},\\text{精确率},\\text{F1}]$。例如，三个数据集的输出将类似于 $[[\\dots],[\\dots],[\\dots]]$，不含空格。所有比率必须表示为四舍五入到六位小数的小数，计数为整数。",
            "solution": "此问题要求对给定的数据集应用标准的二元分类评估指标。对于每个数据集，我们需要首先计算混淆矩阵的四个基本要素：真阳性 (TP)、假阳性 (FP)、真阴性 (TN) 和假阴性 (FN)。\n\n每个数据集包含一系列数对 $(p_i, a_i)$，其中 $p_i$ 是预测值 (Dioscorides 的分类)，$a_i$ 是实际值 (现代科学验证)。$1$ 代表阳性 (利尿剂)，$0$ 代表阴性 (非利尿剂)。\n\n**1. 计算混淆矩阵元素**\n对于每个数据集，我们遍历所有数对来计算以下四个计数：\n- **真阳性 (TP)**：预测为阳性且实际为阳性的数量 ($p_i=1, a_i=1$)。\n- **假阳性 (FP)**：预测为阳性但实际为阴性的数量 ($p_i=1, a_i=0$)。\n- **真阴性 (TN)**：预测为阴性且实际为阴性的数量 ($p_i=0, a_i=0$)。\n- **假阴性 (FN)**：预测为阴性但实际为阳性的数量 ($p_i=0, a_i=1$)。\n\n**2. 计算性能指标**\n基于上述四个计数，我们计算以下五个指标。根据问题要求，如果任何公式的分母为零，则该指标的值为 $0$。\n\n- **准确率 (Accuracy)**：正确分类的比例。\n  $$ \\text{准确率} = \\frac{TP + TN}{TP + FP + TN + FN} $$\n\n- **灵敏度 (Sensitivity) 或召回率 (Recall)**：在所有实际为阳性的样本中，被正确预测为阳性的比例。\n  $$ \\text{灵敏度} = \\frac{TP}{TP + FN} $$\n\n- **特异度 (Specificity)**：在所有实际为阴性的样本中，被正确预测为阴性的比例。\n  $$ \\text{特异度} = \\frac{TN}{TN + FP} $$\n\n- **精确率 (Precision)**：在所有预测为阳性的样本中，实际为阳性的比例。\n  $$ \\text{精确率} = \\frac{TP}{TP + FP} $$\n\n- **F1分数 (F1-score)**：精确率和召回率的调和平均数，用于综合评估模型性能。\n  $$ F_1 = \\frac{2 \\cdot TP}{2 \\cdot TP + FP + FN} $$\n\n**3. 应用于数据集**\n此计算过程将依次应用于问题中提供的六个数据集，包括空数据集（所有计数和指标均为0）。最终结果将按照指定的格式（计数为整数，指标为四舍五入到六位小数的浮点数）进行组织。",
            "answer": "[[3,1,2,1,0.714286,0.750000,0.666667,0.750000,0.750000],[3,0,2,0,1.000000,1.000000,1.000000,1.000000,1.000000],[0,2,0,2,0.000000,0.000000,0.000000,0.000000,0.000000],[0,2,2,0,0.500000,0.000000,0.500000,0.000000,0.000000],[0,0,2,2,0.500000,0.000000,1.000000,0.000000,0.000000],[0,0,0,0,0.000000,0.000000,0.000000,0.000000,0.000000]]"
        }
    ]
}