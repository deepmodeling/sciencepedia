{
    "hands_on_practices": [
        {
            "introduction": "患者的叙述中常常蕴含着健康状况与日常生活之间千丝万缕的联系。本练习旨在展示如何运用相关性这一基础统计工具，来量化这种联系，例如疾病的严重程度与经济损失之间的关系()。通过将质性观察转化为量化论证，我们可以深化和加强我们的历史分析。",
            "id": "4749470",
            "problem": "二十世纪初，一位纺织厂工人记录了每周的症状严重程度分数（0到10的等级）以及因误工和生产力下降而造成的工资损失（以美元计）。我们希望从患者的角度，正式量化疾病发作强度与直接经济负担之间的关联，然后构建一个基于历史的因果叙述。五对每周观测数据分别是症状严重程度 $[2, 4, 3, 7, 6]$ 和工资损失（以美元计）$[0, 20, 0, 50, 40]$。将每周视为一个配对观测值 $(x_i, y_i)$，其中 $x_i$ 是症状严重程度，$y_i$ 是工资损失。\n\n使用样本均值、样本协方差和皮尔逊积矩相关系数的核心统计定义，计算症状严重程度与工资损失之间的样本相关系数。从以下定义开始：\n- 样本均值 $\\bar{x}$ 和 $\\bar{y}$。\n- 中心化偏差 $(x_i - \\bar{x})$ 和 $(y_i - \\bar{y})$。\n- 定义为 $x$ 和 $y$ 的归一化协方差的皮尔逊相关系数。\n\n然后，从患者的角度，使用历史上合理的机制（例如，完成计件工作的能力受损、缺乏疾病津贴以及急性发作的时间），提出一个因果叙述，解释在此背景下症状严重程度如何转化为工资损失。你的定量答案必须是相关系数。将相关系数表示为一个无量纲数，并将答案四舍五入到四位有效数字。",
            "solution": "该问题要求基于提供的数据集，计算症状严重程度与工资损失之间的皮尔逊积矩相关系数。它还要求从患者的角度，提供一个基于历史的因果叙述来解释观察到的关联。该问题在统计学和历史上具有科学依据，所有必要数据均已给出，问题表述清晰，且客观陈述。因此，它被认为是一个有效的问题。\n\n定量任务是计算样本相关系数，记为 $r$。皮尔逊相关系数的公式为：\n$$\nr = \\frac{\\sum_{i=1}^{n} (x_i - \\bar{x})(y_i - \\bar{y})}{\\sqrt{\\sum_{i=1}^{n} (x_i - \\bar{x})^2} \\sqrt{\\sum_{i=1}^{n} (y_i - \\bar{y})^2}}\n$$\n其中 $x_i$ 代表症状严重程度分数，$y_i$ 代表工资损失，$\\bar{x}$ 和 $\\bar{y}$ 分别是各自的样本均值，$n$ 是配对观测值的数量。\n\n提供的数据包含 $n=5$ 组配对观测值：\n症状严重程度，$x$: $[2, 4, 3, 7, 6]$\n工资损失（以美元计），$y$: $[0, 20, 0, 50, 40]$\n\n我们将按照指定步骤计算 $r$。\n\n首先，我们计算样本均值 $\\bar{x}$ 和 $\\bar{y}$。\n症状严重程度分数的总和是：\n$$\n\\sum_{i=1}^{5} x_i = 2 + 4 + 3 + 7 + 6 = 22\n$$\n$x$ 的样本均值是：\n$$\n\\bar{x} = \\frac{\\sum x_i}{n} = \\frac{22}{5} = 4.4\n$$\n工资损失的总和是：\n$$\n\\sum_{i=1}^{5} y_i = 0 + 20 + 0 + 50 + 40 = 110\n$$\n$y$ 的样本均值是：\n$$\n\\bar{y} = \\frac{\\sum y_i}{n} = \\frac{110}{5} = 22\n$$\n\n其次，我们计算每个观测值的中心化偏差，$(x_i - \\bar{x})$ 和 $(y_i - \\bar{y})$。\n$x$ 的偏差为：\n$x_1 - \\bar{x} = 2 - 4.4 = -2.4$\n$x_2 - \\bar{x} = 4 - 4.4 = -0.4$\n$x_3 - \\bar{x} = 3 - 4.4 = -1.4$\n$x_4 - \\bar{x} = 7 - 4.4 = 2.6$\n$x_5 - \\bar{x} = 6 - 4.4 = 1.6$\n\n$y$ 的偏差为：\n$y_1 - \\bar{y} = 0 - 22 = -22$\n$y_2 - \\bar{y} = 20 - 22 = -2$\n$y_3 - \\bar{y} = 0 - 22 = -22$\n$y_4 - \\bar{y} = 50 - 22 = 28$\n$y_5 - \\bar{y} = 40 - 22 = 18$\n\n第三，我们计算相关系数公式所需的各项。\n分子是相应偏差乘积的总和：\n$$\n\\sum_{i=1}^{5} (x_i - \\bar{x})(y_i - \\bar{y}) = (-2.4)(-22) + (-0.4)(-2) + (-1.4)(-22) + (2.6)(28) + (1.6)(18)\n$$\n$$\n= 52.8 + 0.8 + 30.8 + 72.8 + 28.8 = 186\n$$\n分母需要两个变量的偏差平方和。\n对于 $x$：\n$$\n\\sum_{i=1}^{5} (x_i - \\bar{x})^2 = (-2.4)^2 + (-0.4)^2 + (-1.4)^2 + (2.6)^2 + (1.6)^2\n$$\n$$\n= 5.76 + 0.16 + 1.96 + 6.76 + 2.56 = 17.2\n$$\n对于 $y$：\n$$\n\\sum_{i=1}^{5} (y_i - \\bar{y})^2 = (-22)^2 + (-2)^2 + (-22)^2 + (28)^2 + (18)^2\n$$\n$$\n= 484 + 4 + 484 + 784 + 324 = 2080\n$$\n\n最后，我们将这些值代入 $r$ 的公式中：\n$$\nr = \\frac{186}{\\sqrt{17.2} \\sqrt{2080}} = \\frac{186}{\\sqrt{17.2 \\times 2080}} = \\frac{186}{\\sqrt{35776}}\n$$\n$$\nr \\approx \\frac{186}{189.1454} \\approx 0.983371\n$$\n四舍五入到四位有效数字，样本相关系数为 $0.9834$。\n\n这个值非常接近 $+1$，表明症状严重程度与工资损失之间存在非常强的正线性关系。\n\n从患者的角度来看，基于二十世纪初纺织厂工人的历史背景，其因果叙述如下。计算出的强正相关性不是一个抽象的统计发现，而是对一个残酷现实的直接量化。对于一个生计依赖于其体力的工人来说，疾病会立即直接地转化为经济困境。几个历史上合理的机制解释了这种紧密的耦合关系：\n$1$. 计件工资制度：纺织厂的大部分工作是按产出（计件）而非工作时长来支付报酬的。一个患有疲劳、呼吸急促（可能源于纺织厂常见的棉尘病，或称“褐肺病”）、发烧或疼痛等症状的工人，身体上将无法以其通常的速度和效率操作机器。症状严重程度的增加，从分数 $3$ 增加到 $6$ 或 $7$，会直接减少生产的件数，从而降低周薪。这与数据一致，其中严重程度分数为 $7$ 对应最高的工资损失 $\\$50$。\n$2$. 因重病缺勤：高症状分数（例如 $7$）可能代表一次严重的急性发作，导致工人根本无法到工厂上班。在一个没有法定带薪病假或普遍疾病津贴的时代，缺勤意味着完全损失缺勤期间的工资。数据点 $(7, 50)$ 强烈支持这一机制。\n$3$. 功能损害的阈值：数据点 $(2, 0)$ 和 $(3, 0)$ 表明，低水平的症状可能可以“带病工作”而不会对生产力或工资产生重大影响。工人在养家糊口的巨大经济压力下，很可能会在有轻微不适时继续工作。然而，数据点 $(4, 20)$ 表明存在一个阈值，超过该阈值，症状开始明显损害工作表现，导致工资显著下降。从工人的角度来看，这就是从“感觉有点不舒服”到“病得跟不上”的转折点。\n总而言之，从患者的角度来看，这是一个经济生存与身体健康直接挂钩的故事。这个叙述不是关于统计关联，而是关于因果关系：“我病得越重，能干的活就越少。我能干的活越少，带回家的钱就越少。我身体的健康就是我家庭的收入。” 高达 $0.9834$ 的相关系数是这种朝不保夕的生存状态的数值表达。",
            "answer": "$$\\boxed{0.9834}$$"
        },
        {
            "introduction": "患者的记忆是强大但易错的历史来源。本练习提供了一个框架，通过将患者回忆与档案记录进行对比，来批判性地评估患者证词()。它引入了系统性偏差和随机误差这两个基本概念，使历史学家能够评估回忆信息的可靠性，并更有效地加以利用。",
            "id": "4749474",
            "problem": "一位患者相对于一个参考住院日期，重建了三次医疗经历的时间线——症状出现、首次门诊和开始用药。患者回忆这些事件发生在参考日期后的第 $5$ 天、第 $12$ 天和第 $20$ 天。档案病历记录的相同事件分别发生在第 $6$ 天、第 $13$ 天和第 $21$ 天。在从患者视角进行的历史分析中，评估证言的核心方法是在测量误差的框架下，比较患者回忆的时间与档案记录的时间。\n\n使用测量误差是观测值与基准值之差的基本定义，计算这三个事件的平均回忆误差，即回忆日期与记录日期之间带符号差值的算术平均值。最终答案以天为单位表示，并四舍五入到四位有效数字。\n\n然后，基于证言评估中久经考验的测量误差原则——特别是区分系统性偏差（非零平均误差）和随机噪声（围绕平均值的离散度）——简要讨论计算出的平均回忆误差如何为重建医疗时间线时，相对于档案记录，为患者证言的加权提供信息。您的讨论应仅基于这些基本概念，不应引入任何专门的加权公式。",
            "solution": "问题要求计算三个医疗事件的平均回忆误差，并基于测量误差分析的原则对其含义进行定性讨论。验证问题陈述是首要的强制性步骤。\n\n已知条件如下：\n- 患者回忆的事件日期 ($R$): $R_1=5$, $R_2=12$, $R_3=20$。\n- 档案记录的事件日期 ($A$): $A_1=6$, $A_2=13$, $A_3=21$。\n- 事件数量为 $n=3$。\n- 一个事件的测量误差 ($E$) 的定义是观测值（回忆日期）与基准值（记录日期）之差：$E_i = R_i - A_i$。\n- 平均回忆误差 ($\\bar{E}$) 是各个带符号差值的算术平均值。\n- 最终数值答案必须四舍五入到四位有效数字。\n\n该问题是有效的。它在科学上基于评估证言的标准统计学和史学方法（测量误差、系统性偏差、随机噪声）。它的提法很严谨，为得到唯一解提供了所有必要的数据和定义。其语言客观而精确。该问题是基本原则的直接应用，不违反任何无效标准。\n\n我们开始解题。\n\n首先，我们计算三个事件中每一个的测量误差。回忆日期是观测值，而来自医疗档案的记录日期是基准值。\n\n对于第一个事件（症状出现）：\n$$E_1 = R_1 - A_1 = 5 - 6 = -1 \\text{ 天}$$\n\n对于第二个事件（首次门诊）：\n$$E_2 = R_2 - A_2 = 12 - 13 = -1 \\text{ 天}$$\n\n对于第三个事件（开始用药）：\n$$E_3 = R_3 - A_3 = 20 - 21 = -1 \\text{ 天}$$\n\n接下来，我们计算平均回忆误差 $\\bar{E}$，即这些单个误差的算术平均值：\n$$\\bar{E} = \\frac{\\sum_{i=1}^{n} E_i}{n} = \\frac{E_1 + E_2 + E_3}{3}$$\n代入计算出的误差值：\n$$\\bar{E} = \\frac{(-1) + (-1) + (-1)}{3} = \\frac{-3}{3} = -1 \\text{ 天}$$\n\n问题要求最终答案四舍五入到四位有效数字。整数 $-1$ 表示为四位有效数字是 $-1.000$。\n\n现在，进入讨论部分。测量误差的框架区分了两个主要组成部分：系统性偏差和随机噪声。\n1.  **系统性偏差**：这由平均误差表示。非零的平均值表明观测测量值与真实值或基准值之间存在一致的、有方向性的偏离。在本问题中，平均回忆误差为 $\\bar{E} = -1.000$ 天。这个非零值表明存在系统性偏差。负号表示患者系统性地将事件回忆为比档案记录早发生一天。在回忆研究中，这种现象被称为“前向伸缩”（forward telescoping），即过去的事件被感知为比实际发生的时间更近。\n\n2.  **随机噪声**：这由单个误差围绕平均误差的离散度或变异性表示。它可以通过误差的方差或标准差等度量来量化。单个误差分别为 $E_1 = -1$，$E_2 = -1$ 和 $E_3 = -1$。所有误差都与平均误差相同。误差的方差 $\\sigma_E^2$ 计算如下：\n    $$\\sigma_E^2 = \\frac{\\sum_{i=1}^{n} (E_i - \\bar{E})^2}{n-1} = \\frac{(-1 - (-1))^2 + (-1 - (-1))^2 + (-1 - (-1))^2}{3-1} = \\frac{0+0+0}{2} = 0$$\n    方差为 $0$ 表明在该组事件中，患者的回忆误差完全没有随机噪声。\n\n在对患者证言相对于档案记录进行加权时，这一分析提供了非常有价值的信息。发现纯粹的系统性偏差和零随机噪声表明，患者的记忆虽然在绝对意义上不准确，但却是完全一致和结构化的。患者的内部时间线相对于档案记录仅仅是平移了一个 $-1$ 天的恒定偏移量。因此，在校正了这种偏差之后，分析师可以对患者的证言给予非常高的权重。例如，如果患者回忆另一个事件发生在第 $X$ 天，分析师可以有信心地估计其档案日期为 $X+1$。随机噪声的缺失意味着高可靠性和内部一致性，一旦系统性误差被理解和校正，证言就变得很有价值。相反，如果分析显示平均误差接近于零，但方差很大（高随机噪声），则意味着患者的回忆不可靠且不一致，因此任何单个回忆的日期都应被赋予较低的权重。",
            "answer": "$$\\boxed{-1.000}$$"
        },
        {
            "introduction": "历史记录，尤其是像日记这类由患者自己生成的资料，往往是不完整的。本练习探讨了“幸存者偏差”这一关键问题，即现有证据仅来自原始群体中一个非随机的子集()。理解这种偏差对于避免对整个患者群体的经历得出偏颇的结论至关重要。",
            "id": "4749546",
            "problem": "一位医学史学家通过比较20世纪末至21世纪初在一家大型城市医院接受治疗的肿瘤患者回顾性队列中的两种来源，从患者的角度审视疼痛体验。自我报告的日记仅来自存活超过六个月的患者，而临床记录中由临床医生记录的疼痛数据则适用于整个队列。令 $X$ 表示患者在标准的0-10数字评分量表上的每日疼痛强度，视为一个连续变量。令 $S$ 为一个选择指示符，其中 $S=1$ 表示患者存活超过六个月并因此提供了日记，$S=0$ 表示其他情况。\n\n已知在提供日记的患者中，基于日记的平均疼痛为 $\\mathbb{E}[X \\mid S=1]=5.5$ 疼痛量表点数，而基于临床记录（假定测量相同的潜在疼痛构念）的全队列平均疼痛为 $\\mathbb{E}[X]=6.2$ 疼痛量表点数。\n\n从期望、条件期望和全期望定律的核心定义出发，并认识到存活者选择是导致 $\\mathbb{E}[X \\mid S=1] \\neq \\mathbb{E}[X]$ 的一种机制，请完成以下任务：\n\n- 将仅基于日记的估计相对于全队列均值的选择偏差定义为 $b=\\mathbb{E}[X \\mid S=1]-\\mathbb{E}[X]$，并计算其以疼痛量表点数表示的数值。\n\n- 在您的推理中，解释为什么存活者偏差会产生您所得到的 $b$ 的符号和大小，并概述基于经过充分检验的缺失数据和选择统计方法（例如，逆概率加权和插补）的原则性校正策略，不要使用任何捷径公式。\n\n以疼痛量表点数表示偏差 $b$。无需四舍五入。",
            "solution": "该问题是有效的。它在科学上基于统计学和流行病学的原理，特别是关于回顾性研究中的选择偏差。问题陈述清晰，提供了计算所需量和支持概念性解释所需的所有数据和定义。语言客观，场景现实。\n\n问题的核心在于随机变量 $X$ 在子群体中的均值与在总群体中均值之间的差异。令 $X$ 为每日疼痛强度的随机变量，令 $S$ 为选择指示符，其中 $S=1$ 表示存活超过六个月的患者（“贡献者”），$S=0$ 表示未存活超过六个月的患者。\n\n已知条件为：\n- 存活者子群体的平均疼痛：$\\mathbb{E}[X \\mid S=1] = 5.5$。\n- 全队列的平均疼痛：$\\mathbb{E}[X] = 6.2$。\n\n问题要求计算和解释选择偏差 $b$，其定义为：\n$$b = \\mathbb{E}[X \\mid S=1] - \\mathbb{E}[X]$$\n代入已知值：\n$$b = 5.5 - 6.2 = -0.7$$\n仅基于日记的估计的选择偏差为 $-0.7$ 疼痛量表点数。\n\n支配全队列均值及其子群体均值之间关系的基本原理是全期望定律。它指出，一个随机变量的期望值是其在样本空间的一个划分上的条件期望的加权平均。在这里，样本空间被事件 $S=1$ 及其补集 $S=0$ 划分。因此，我们有：\n$$\\mathbb{E}[X] = \\mathbb{E}[X \\mid S=1] P(S=1) + \\mathbb{E}[X \\mid S=0] P(S=0)$$\n其中 $P(S=1)$ 是患者存活超过六个月的概率，而 $P(S=0) = 1 - P(S=1)$ 是未存活那么久的概率。\n\n偏差 $b = -0.7$ 的负号表明，仅根据存活者估计的基于日记的均值低于整个队列的真实均值。这种现象是存活者偏差的一个典型例子。观察到的关系 $\\mathbb{E}[X \\mid S=1]  \\mathbb{E}[X]$ 意味着被排除在日记研究之外的群体（非存活者，$S=0$）必定具有更高的平均疼痛水平。我们可以通过重排全期望定律来看到这一点。由于 $\\mathbb{E}[X] = 6.2$ 是 $\\mathbb{E}[X \\mid S=1] = 5.5$ 和 $\\mathbb{E}[X \\mid S=0]$ 的加权平均，因此必然有 $\\mathbb{E}[X \\mid S=0]  \\mathbb{E}[X] = 6.2$。这在医学上是合理的：肿瘤患者的疼痛强度越高，通常与更晚期或更具侵袭性的疾病相关，这反过来又导致较低的存活概率。通过仅纳入存活超过六个月的患者，基于日记的研究系统性地排除了疼痛水平最高的患者子集，从而低估了全队列的平均疼痛。\n\n为了校正这种选择偏差，必须采用能够解释数据非随机缺失性质（即，整个 $S=0$ 组的疼痛日记都缺失）的统计方法。目标是利用现有信息来估计 $\\mathbb{E}[X]$。两种原则性的方法是逆概率加权和插补。\n\n1.  **逆概率加权 (IPW):** IPW的原理是重新加权观察到的样本（存活者），使其能够代表整个目标群体（整个队列）。每个被观察到的个体 $i$ 被赋予一个权重 $w_i$，该权重与他们被选入样本的概率成反比。在这种情况下，选择概率就是存活概率，$P(S=1)$。\n\n    为了将其形式化，我们假设有一组协变量 $Z$（例如，年龄、癌症分期、合并症），这些协变量对全队列中的所有患者都进行了测量，并且可以预测存活情况。我们可以将每个个体 $i$ 的存活概率建模为 $\\pi_i = P(S_i=1 \\mid Z_i)$。这个概率通常使用回归模型（如逻辑回归）对全队列数据进行估计。\n\n    仅从存活者数据中得出的平均疼痛的朴素估计是一个未加权的平均值，$\\frac{1}{n_1} \\sum_{i: S_i=1} X_i$，其中 $n_1$ 是存活者的人数。这个估计的是 $\\mathbb{E}[X \\mid S=1]$。\n\n    全队列均值 $\\mathbb{E}[X]$ 的IPW估计量是观察到的疼痛值的加权平均值：\n    $$\\hat{\\mathbb{E}}[X]_{IPW} = \\frac{\\sum_{i=1}^{N} \\frac{S_i X_i}{\\hat{\\pi}_i}}{\\sum_{i=1}^{N} \\frac{S_i}{\\hat{\\pi}_i}}$$\n    其中 $N$ 是总队列大小，$S_i$ 是选择指示符（观察到则为 $1$，否则为 $0$），$\\hat{\\pi}_i$是个体 $i$ 的估计存活概率。通过将每个存活者的疼痛评分 $X_i$ 乘以权重 $1/\\hat{\\pi}_i$，我们给予那些存活倾向较低的存活者更大的影响。这些个体实际上是“代表”了那些具有相似特征但未被观察到的非存活者。在存活模型被正确指定且所有与存活和疼痛相关的预测因子都包含在 $Z$ 中（即可忽略性假设）的假设下，这个加权均值提供了对真实总体均值 $\\mathbb{E}[X]$ 的一致估计。\n\n2.  **插补:** 插补的原理是用合理的预测值“填补”非存活者（$S=0$）缺失的疼痛值。全期望定律，$\\mathbb{E}[X] = \\mathbb{E}[X \\mid S=1] P(S=1) + \\mathbb{E}[X \\mid S=0] P(S=0)$，表明主要的未知量是非存活者组的平均疼痛 $\\mathbb{E}[X \\mid S=0]$。\n\n    为了估计这个值，我们再次依赖于对所有患者测量的一组协变量 $Z$。\n    \n    首先，我们使用来自存活者的数据（其中 $X$ 和 $Z$ 都被观察到）来建立一个疼痛的预测模型，例如，一个线性回归模型：$\\mathbb{E}[X \\mid Z] = \\beta_0 + \\beta_1 Z_1 + \\dots + \\beta_p Z_p$。我们将这个模型拟合到所有 $S_i=1$ 的个体的数据 $(X_i, Z_i)$ 上，以获得系数的估计值 $\\hat{\\beta}$。\n\n    其次，对于每个非存活者 $j$（$S_j=0$），我们使用他们的协变量值 $Z_j$ 和拟合的模型来预测他们缺失的疼痛值：$\\hat{X}_j = \\hat{\\beta}_0 + \\hat{\\beta}_1 Z_{j1} + \\dots + \\hat{\\beta}_p Z_{jp}$。\n    \n    第三，我们可以通过对这些插补值求平均来估计非存活者组的平均疼痛：$\\hat{\\mathbb{E}}[X \\mid S=0] = \\frac{1}{n_0} \\sum_{j: S_j=0} \\hat{X}_j$，其中 $n_0$ 是非存活者的人数。\n\n    最后，我们可以将所有部分结合起来估计全队列的均值：\n    $$\\hat{\\mathbb{E}}[X]_{Imp} = \\hat{\\mathbb{E}}[X \\mid S=1] \\hat{P}(S=1) + \\hat{\\mathbb{E}}[X \\mid S=0] \\hat{P}(S=0)$$\n    其中 $\\hat{\\mathbb{E}}[X \\mid S=1]$ 是来自日记的样本均值，而 $\\hat{P}(S=1)$ 和 $\\hat{P}(S=0)$ 是在全队列中观察到的存活者和非存活者的比例。\n\n    这个过程的一个关键改进是**多重插补**（Multiple Imputation）。如上所述的单次插补未能考虑预测缺失值时的不确定性。多重插补通过创建 $M  1$ 个完整的数据集来解决这个问题。在每个数据集中，缺失值是通过从给定 $Z$ 的 $X$ 的预测分布中抽样来填补的，这包含了关于模型参数 $\\beta$ 的不确定性。然后对 $M$ 个数据集中的每一个进行分析，并使用特定的规则（鲁宾法则，Rubin's rules）将结果合并，以得出一个单一的总体估计和一个能够正确反映缺失数据不确定性的有效度量。",
            "answer": "$$\\boxed{-0.7}$$"
        }
    ]
}