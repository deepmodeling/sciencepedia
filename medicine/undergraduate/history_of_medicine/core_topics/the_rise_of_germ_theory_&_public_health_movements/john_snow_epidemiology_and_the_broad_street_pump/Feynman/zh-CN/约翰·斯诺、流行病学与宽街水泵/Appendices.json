{
    "hands_on_practices": [
        {
            "introduction": "约翰·斯诺调查的第一步是量化一个关键的观察：霍乱病例似乎集中在宽街水泵周围。为了从传闻走向科学证据，我们需要一个工具来衡量暴露（饮用特定水源）与结果（患上霍乱）之间的关联强度。相对风险（Relative Risk, $RR$）是流行病学中的一个核心指标，通过它，我们可以比较暴露组与非暴露组的发病风险。这项练习将指导你根据原始病例数据，通过构建一个$2 \\times 2$ 列联表来计算和解释相对风险，这是进行任何流行病学研究所需掌握的一项基本技能 。",
            "id": "4753216",
            "problem": "在由John Snow分析的1854年苏活区霍乱爆发的历史背景下，请考虑以下从宽街水泵疫情高峰期为中心的一周时间窗口内重构的家庭层面数据。家庭根据该时间段内的主要饮用水源以及是否至少出现一例霍乱病例进行分类。\n\n- 暴露组（主要水源为宽街水泵的家庭）：有$a$户家庭出现至少一例霍乱病例，$b$户家庭在该周内没有霍乱病例，其中$a = 75$，$b = 375$。\n- 非暴露组（主要水源为其他水泵或输送水的家庭）：有$c$户家庭出现至少一例霍乱病例，$d$户家庭在该周内没有霍乱病例，其中$c = 10$，$d = 590$。\n\n请仅使用核心的流行病学定义，即(i)风险是在特定群体和时间段内，事件数与风险人群数之比，以及(ii)相对风险(RR)是暴露组风险与非暴露组风险之比，计算暴露组相对于非暴露组成为霍乱受影响家庭的相对风险。将最终答案四舍五入至三位有效数字，并以不带单位的小数形式表示。然后，用文字简要解释其关联强度的大小（不要将解释包含在您的数值答案中）。",
            "solution": "该问题是有效的。它科学地基于已确立的流行病学原理，问题提法严谨，提供了所有必要的数据，并且其表述是客观的。我们可以着手解答。\n\n目标是计算成为霍乱受影响家庭的相对风险(RR)，比较那些暴露于宽街水泵水源的家庭与那些未暴露的家庭。问题为此计算提供了必要的数据和定义。\n\n所提供的数据可以整理成一个$2 \\times 2$列联表，其中行代表暴露状态，列代表结果状态（家庭中是否存在霍乱病例）。\n\n- **暴露组（宽街水泵）：**\n  - 有霍乱病例的家庭数（事件数）：$a = 75$\n  - 没有霍乱病例的家庭数：$b = 375$\n- **非暴露组（其他水源）：**\n  - 有霍乱病例的家庭数（事件数）：$c = 10$\n  - 没有霍乱病例的家庭数：$d = 590$\n\n首先，我们确定每个组中处于风险中的家庭总数。\n暴露组的家庭总数为 $N_{exp} = a + b$。\n$$N_{exp} = 75 + 375 = 450$$\n非暴露组的家庭总数为 $N_{unexp} = c + d$。\n$$N_{unexp} = 10 + 590 = 600$$\n\n接下来，我们应用所提供的风险定义：在特定群体内，事件数与风险人群数之比。\n\n暴露组的风险$Risk_{exp}$是使用宽街水泵且经历过至少一例霍乱病例的家庭所占的比例。\n$$Risk_{exp} = \\frac{a}{N_{exp}} = \\frac{a}{a+b}$$\n代入给定值：\n$$Risk_{exp} = \\frac{75}{450} = \\frac{1}{6}$$\n\n非暴露组的风险$Risk_{unexp}$是使用其他水源且经历过至少一例霍乱病例的家庭所占的比例。\n$$Risk_{unexp} = \\frac{c}{N_{unexp}} = \\frac{c}{c+d}$$\n代入给定值：\n$$Risk_{unexp} = \\frac{10}{600} = \\frac{1}{60}$$\n\n最后，我们根据其定义——暴露组风险与非暴露组风险之比——计算相对风险(RR)。\n$$RR = \\frac{Risk_{exp}}{Risk_{unexp}}$$\n代入计算出的风险值：\n$$RR = \\frac{1/6}{1/60} = \\frac{1}{6} \\times \\frac{60}{1} = 10$$\n\n问题要求最终答案保留三位有效数字。计算出的精确值为$10$。为了用三位有效数字表示，我们写作$10.0$。\n\n按照要求进行简要解释，相对风险为$10.0$表明暴露与结果之间存在非常强的关联。具体来说，这意味着在$1854$年疫情爆发的特定一周内，主要水源为宽街水泵的家庭出现霍乱病例的可能性是使用其他水源的家庭的$10$倍。",
            "answer": "$$\\boxed{10.0}$$"
        },
        {
            "introduction": "在发现暴露与疾病之间的关联后，一个严谨的流行病学家必须提出一个批判性问题：“这种关联能否被其他因素解释？” 这就是混杂（confounding）问题。例如，在19世纪的伦敦，社会经济地位（Socioeconomic Status, SES）可能是一个重要的混杂因素：也许较贫困的人群更可能使用公共水泵，同时也生活在卫生条件更差的环境中，使得贫困而非水本身看起来是致病原因。分层分析是处理混杂的经典方法，通过将人群按混杂变量（如SES）分成不同的“层”，我们可以在每个层内部分别评估暴露与疾病的关联，然后将结果合并，得出一个经过调整的、更准确的估计值。这项练习将引导你使用曼特尔-汉泽尔（Mantel-Haenszel）方法，计算一个经过社会经济地位调整后的相对风险，从而更可靠地评估宽街水泵的真实效应 。",
            "id": "4753196",
            "problem": "在 John Snow 调查的十九世纪中叶苏荷区霍乱爆发事件中，考虑一项回顾性队列分析，该分析按社会经济地位 (Socioeconomic Status, SES) 进行分层。将任何组中的风险定义为霍乱病例数与该组总人数的比率，并将相对风险 (Relative Risk, RR) 定义为暴露于宽街 (Broad Street) 水泵水的人群的风险与未暴露人群的风险之比。为解决 SES 造成的混杂问题，您将使用 Mantel–Haenszel 方法汇总各分层特异性信息。\n\n根据教区记录构建了两个 SES 分层：\n\n- 较低 SES 分层：在主要饮用宽街水泵水的家庭中，$N_{1,1} = 180$ 个暴露家庭中有 $a_{1} = 90$ 例霍乱病例；在未饮用宽街水泵水的家庭中，$N_{0,1} = 120$ 个未暴露家庭中有 $c_{1} = 12$ 例霍乱病例。\n- 较高 SES 分层：在主要饮用宽街水泵水的家庭中，$N_{1,2} = 60$ 个暴露家庭中有 $a_{2} = 18$ 例霍乱病例；在未饮用宽街水泵水的家庭中，$N_{0,2} = 240$ 个未暴露家庭中有 $c_{2} = 12$ 例霍乱病例。\n\n使用 Mantel–Haenszel 汇总法对这两个 SES 分层进行分析，计算宽街水泵暴露的校正后 RR。将最终的校正后 RR 报告为一个无量纲量，四舍五入至三位有效数字。然后，根据您计算的分层特异性 RR，评论汇总估计值对 SES 分层是否稳健，以及 SES 是否可能存在效应修饰，并定性解释您的理由。最终答案只应给出校正后的 RR（一个实数值）。",
            "solution": "该问题要求在控制社会经济地位 (SES) 的混杂效应的情况下，计算因暴露于宽街水泵水而感染霍乱的校正后相对风险 ($RR$)。指定的方法是用于分层队列数据的 Mantel-Haenszel 方法。\n\n首先，我们必须验证问题陈述。\n**第 1 步：提取已知条件**\n- 分析类型：回顾性队列分析。\n- 分层变量：社会经济地位 (SES)，分为两个分层（较低和较高）。\n- 暴露：主要饮用宽街水泵的水。\n- 结局：霍乱病例。\n- 风险定义：组内霍乱病例数与总人数的比率。\n- 相对风险 (RR) 定义：暴露组风险与非暴露组风险的比率。\n- 汇总方法：Mantel-Haenszel 方法。\n- 较低 SES 分层 ($i=1$) 的数据：\n  - 暴露组：$a_{1} = 90$ 例，$N_{1,1} = 180$ 人。\n  - 非暴露组：$c_{1} = 12$ 例，$N_{0,1} = 120$ 人。\n- 较高 SES 分层 ($i=2$) 的数据：\n  - 暴露组：$a_{2} = 18$ 例，$N_{1,2} = 60$ 人。\n  - 非暴露组：$c_{2} = 12$ 例，$N_{0,2} = 240$ 人。\n- 要求输出：\n  1. Mantel-Haenszel 校正后 RR ($RR_{MH}$)，四舍五入至三位有效数字。\n  2. 对 SES 效应修饰的定性评估。\n\n**第 2 步：使用提取的已知条件进行验证**\n该问题有科学依据，使用了标准的流行病学概念和方法（$RR$、混杂、分层、Mantel-Haenszel 估计）。问题提法恰当，为计算提供了所有必要数据（两个分层的 $a_i, c_i, N_{1,i}, N_{0,i}$）。语言客观且精确。数据内部一致（例如，任何组的病例数都不超过总人口数）。问题并非无足轻重，需要特定的、正式的计算。它未违反任何无效标准。\n\n**第 3 步：结论与行动**\n问题有效。将提供解答。\n\n在队列研究中，跨越 $k$ 个分层的校正后相对风险 ($RR_{MH}$) 的 Mantel-Haenszel 估计量是一个加权平均值，其公式如下：\n$$ RR_{MH} = \\frac{\\sum_{i=1}^{k} \\frac{a_i N_{0,i}}{T_i}}{\\sum_{i=1}^{k} \\frac{c_i N_{1,i}}{T_i}} $$\n其中对于每个分层 $i$：\n- $a_i$ 是暴露组的病例数。\n- $c_i$ 是非暴露组的病例数。\n- $N_{1,i}$ 是暴露组的总人数。\n- $N_{0,i}$ 是非暴露组的总人数。\n- $T_i = N_{1,i} + N_{0,i}$ 是该分层的总人数。\n\n我们有两个分层 ($k=2$)。\n\n**分层 1 (较低 SES):**\n- 暴露组病例数，$a_1 = 90$\n- 暴露组总人数，$N_{1,1} = 180$\n- 非暴露组病例数，$c_1 = 12$\n- 非暴露组总人数，$N_{0,1} = 120$\n- 分层 1 总人数，$T_1 = N_{1,1} + N_{0,1} = 180 + 120 = 300$\n\n**分层 2 (较高 SES):**\n- 暴露组病例数，$a_2 = 18$\n- 暴露组总人数，$N_{1,2} = 60$\n- 非暴露组病例数，$c_2 = 12$\n- 非暴露组总人数，$N_{0,2} = 240$\n- 分层 2 总人数，$T_2 = N_{1,2} + N_{0,2} = 60 + 240 = 300$\n\n现在，我们计算 $RR_{MH}$ 公式中分子和分母的各项。\n\n分层 1 对分子的贡献：\n$$ \\frac{a_1 N_{0,1}}{T_1} = \\frac{90 \\times 120}{300} = \\frac{10800}{300} = 36 $$\n分层 2 对分子的贡献：\n$$ \\frac{a_2 N_{0,2}}{T_2} = \\frac{18 \\times 240}{300} = \\frac{4320}{300} = 14.4 $$\n分子合计：\n$$ \\sum_{i=1}^{2} \\frac{a_i N_{0,i}}{T_i} = 36 + 14.4 = 50.4 $$\n\n分层 1 对分母的贡献：\n$$ \\frac{c_1 N_{1,1}}{T_1} = \\frac{12 \\times 180}{300} = \\frac{2160}{300} = 7.2 $$\n分层 2 对分母的贡献：\n$$ \\frac{c_2 N_{1,2}}{T_2} = \\frac{12 \\times 60}{300} = \\frac{720}{300} = 2.4 $$\n分母合计：\n$$ \\sum_{i=1}^{2} \\frac{c_i N_{1,i}}{T_i} = 7.2 + 2.4 = 9.6 $$\n\n最后，我们计算 Mantel-Haenszel 校正后的相对风险：\n$$ RR_{MH} = \\frac{50.4}{9.6} = 5.25 $$\n问题要求结果四舍五入至三位有效数字。数值 $5.25$ 已有三位有效数字。\n\n为了评论汇总估计值的稳健性和效应修饰的可能性，我们计算分层特异性相对风险 ($RR_i$)。\n风险定义为病例数除以总人数。\n$RR_i = \\frac{\\text{暴露组风险}}{\\text{非暴露组风险}} = \\frac{a_i/N_{1,i}}{c_i/N_{0,i}}$\n\n对于分层 1 (较低 SES)：\n- 暴露组风险：$R_{1,1} = \\frac{a_1}{N_{1,1}} = \\frac{90}{180} = 0.5$\n- 非暴露组风险：$R_{0,1} = \\frac{c_1}{N_{0,1}} = \\frac{12}{120} = 0.1$\n- 分层特异性 RR：$RR_1 = \\frac{R_{1,1}}{R_{0,1}} = \\frac{0.5}{0.1} = 5.0$\n\n对于分层 2 (较高 SES)：\n- 暴露组风险：$R_{1,2} = \\frac{a_2}{N_{1,2}} = \\frac{18}{60} = 0.3$\n- 非暴露组风险：$R_{0,2} = \\frac{c_2}{N_{0,2}} = \\frac{12}{240} = 0.05$\n- 分层特异性 RR：$RR_2 = \\frac{R_{1,2}}{R_{0,2}} = \\frac{0.3}{0.05} = 6.0$\n\n分层特异性 RR 分别为 $RR_1 = 5.0$ 和 $RR_2 = 6.0$。\n当效应度量（此处为 RR）在第三个变量（此处为 SES）的不同分层中存在差异时，就存在效应修饰（或交互作用）。RR 值不相同（$5.0$ 对 $6.0$），这表明存在一定程度的效应修饰。宽街水泵水的影响在较高 SES 分层中似乎稍强。然而，这种差异不大。在没有进行正式的齐性统计检验（例如适用于 RR 的 Breslow-Day 检验）的情况下，我们只能做出定性判断。鉴于这些值相当接近，呈现单一的汇总估计值通常被认为是可接受的。\n\n校正后的估计值 $RR_{MH} = 5.25$ 介于两个分层特异性 RR（$5.0$ 和 $6.0$）之间。这是 Mantel-Haenszel 估计量的一个必需属性，因为它是一个加权平均值。由于分层特异性 RR 没有巨大差异，在将 SES 作为混杂因素进行校正后，汇总估计值 $5.25$ 可被视为饮用宽街水泵水与霍乱之间关联的一个稳健的汇总度量。\n\n要求的最终数值答案是校正后的 RR。",
            "answer": "$$\\boxed{5.25}$$"
        },
        {
            "introduction": "约翰·斯诺调查中最具说服力的证据之一，是在当局拆除宽街水泵的泵柄后，霍乱病例数急剧下降。分析这类干预措施的效果是支持因果假设的有力方法。然而，简单的“干预前”与“干预后”比较可能会产生误导，因为它忽略了疾病的生物学特性，尤其是潜伏期——从感染到出现症状之间的时间延迟。一项严谨的分析必须考虑到这种延迟。这项练习模拟了对一项公共卫生干预措施的效果评估，你将通过实践理解为何幼稚的前后对比存在缺陷，并学习如何通过校正潜伏期来进行更准确的分析。这有助于你掌握将生物学知识融入数据分析的关键技能，从而正确评估干预措施的真实影响 。",
            "id": "4753217",
            "problem": "John Snow 对于伦敦霍乱爆发中宽街水泵作用的推断，关键在于在符合现实的潜伏期假设下，将水源暴露与病例在时间上联系起来。设想一个假设数据集，代表了宽街水泵手柄被拆除前一周和后一周，Soho地区的每日霍乱病例数。假设拆除事件发生在干预前、后两个时期的交界处，并且在这两周内，风险人群和病例确认率保持稳定。霍乱的潜伏期较短；使用一个保守的中位潜伏期滞后 $L=2$ 天，来推断哪些拆除后的日期反映的是拆除前的暴露。\n\n拆除前一周（第 $t=-7$ 天至第 $t=-1$ 天）的每日病例数如下：\n$C_{-7}=3$, $C_{-6}=5$, $C_{-5}=12$, $C_{-4}=28$, $C_{-3}=45$, $C_{-2}=52$, $C_{-1}=40$。\n\n拆除后一周（第 $t=+1$ 天至第 $t=+7$ 天）的每日病例数如下：\n$C_{+1}=38$, $C_{+2}=30$, $C_{+3}=20$, $C_{+4}=12$, $C_{+5}=8$, $C_{+6}=5$, $C_{+7}=3$。\n\n从流行病学基本原理出发，定义一个简单的干预前后因果估计量来评估干预效果，该估计量使用拆除后与拆除前平均日发病率之比，并论证如何根据潜伏期滞后 $L$ 调整干预后时期。使用所有 $7$ 个拆除后日期计算朴素的前后比率，然后仅使用拆除后的第 $t=+3$ 天至第 $t=+7$ 天计算经潜伏期调整的前后比率。你最终报告的量必须是经潜伏期调整的比率。最终答案以无单位小数表示，并四舍五入至四位有效数字。",
            "solution": "问题陈述已经过验证。\n\n### 步骤1：提取已知信息\n-   **干预措施**：在时间 $t=0$ 拆除宽街水泵的手柄。\n-   **潜伏期**：中位潜伏期滞后为 $L=2$ 天。\n-   **假设**：风险人群和病例确认率保持稳定。\n-   **干预前数据**：第 $t=-7$ 天至第 $t=-1$ 天的每日霍乱病例数。\n    -   $C_{-7}=3$\n    -   $C_{-6}=5$\n    -   $C_{-5}=12$\n    -   $C_{-4}=28$\n    -   $C_{-3}=45$\n    -   $C_{-2}=52$\n    -   $C_{-1}=40$\n-   **干预后数据**：第 $t=+1$ 天至第 $t=+7$ 天的每日霍乱病例数。\n    -   $C_{+1}=38$\n    -   $C_{+2}=30$\n    -   $C_{+3}=20$\n    -   $C_{+4}=12$\n    -   $C_{+5}=8$\n    -   $C_{+6}=5$\n    -   $C_{+7}=3$\n-   **任务要求**：\n    1.  定义一个基于平均日发病率之比的干预前后因果估计量。\n    2.  论证根据潜伏期滞后 $L$ 调整干预后时期的合理性。\n    3.  使用所有 $7$ 个拆除后日期计算朴素的前后比率。\n    4.  使用拆除后的第 $t=+3$ 天至第 $t=+7$ 天计算经潜伏期调整的前后比率。\n    5.  最终答案是经潜伏期调整的比率，四舍五入至四位有效数字。\n\n### 步骤2：使用提取的已知信息进行验证\n-   **科学依据**：该问题是流行病学中一个简化但标准的练习，植根于 John Snow 工作的历史背景。潜伏期、发病率和干预前后分析等概念是该领域的基础。没有违反任何科学原理。\n-   **良态问题**：该问题提供了所有必要的数据，并定义了所需的计算和输出格式。问题没有歧义，可以导出一个唯一的、稳定的数值解。\n-   **客观性**：该问题使用客观、定量的语言陈述，不包含任何主观或基于观点的断言。\n\n所有其他验证标准均已满足。该问题是自包含的、一致的且可行的。\n\n### 步骤3：结论与行动\n该问题是**有效的**。将提供完整解答。\n\n### 解答\n目标是估计拆除宽街水泵手柄对霍乱发病率的因果效应。对于此类干预前后研究设计，一个简单且常用的估计量是干预后时期与干预前时期的平均日发病率之比。设 $I_{pre}$ 和 $I_{post}$ 分别为干预前、后时期的平均日发病率。该估计量即为比率 $R = \\frac{I_{post}}{I_{pre}}$。\n\n鉴于问题陈述中指出风险人群保持稳定，每日病例数 $C_t$ 与每日发病率成正比。因此，可以使用平均每日病例数之比作为平均日发病率之比的有效代理指标。设 $\\bar{C}_{pre}$ 和 $\\bar{C}_{post}$ 分别为平均每日病例数。该估计量则计算为 $R = \\frac{\\bar{C}_{post}}{\\bar{C}_{pre}}$。\n\n首先，我们计算干预前时期的平均每日病例数，该时期从第 $t=-7$ 天到第 $t=-1$ 天，共 $7$ 天。\n干预前时期的总病例数是：\n$$ \\sum_{t=-7}^{-1} C_t = C_{-7} + C_{-6} + C_{-5} + C_{-4} + C_{-3} + C_{-2} + C_{-1} $$\n$$ \\sum_{t=-7}^{-1} C_t = 3 + 5 + 12 + 28 + 45 + 52 + 40 = 185 $$\n这 $7$ 天的平均每日病例数是：\n$$ \\bar{C}_{pre} = \\frac{1}{7} \\sum_{t=-7}^{-1} C_t = \\frac{185}{7} $$\n\n接下来，我们必须定义干预后时期。一个朴素的方法是使用所有可用的拆除后数据，即从第 $t=+1$ 天到第 $t=+7$ 天。在这个朴素的干预后时期内的总病例数是：\n$$ \\sum_{t=1}^{7} C_t = 38 + 30 + 20 + 12 + 8 + 5 + 3 = 116 $$\n这 $7$ 天的朴素平均每日病例数是：\n$$ \\bar{C}_{post, naive} = \\frac{1}{7} \\sum_{t=1}^{7} C_t = \\frac{116}{7} $$\n朴素比率为 $R_{naive} = \\frac{\\bar{C}_{post, naive}}{\\bar{C}_{pre}} = \\frac{116/7}{185/7} = \\frac{116}{185} \\approx 0.6270$。\n\n然而，这种朴素方法是有缺陷的，因为它忽略了疾病的潜伏期。潜伏期是指从暴露于病原体到症状出现之间的时间延迟。对于霍乱，其中位潜伏期滞后为 $L=2$ 天，一个在第 $t_{case}$ 天成为病例的人，最可能是在第 $t_{infection} = t_{case} - L = t_{case} - 2$ 天左右被感染的。干预措施——在 $t=0$ 时拆除水泵手柄——阻止了来自该源头的新暴露。因此，在 $t=0$ 后不久观察到的病例，归因于在干预*之前*发生的感染。具体来说：\n-   第 $t=+1$ 天的病例可能源于 $t = +1 - 2 = -1$ 左右的感染。\n-   第 $t=+2$ 天的病例可能源于 $t = +2 - 2 = 0$ 左右的感染。\n\n由于这些病例源于干预前或干预期间的暴露，它们并不能反映干预措施本身的效果（即不存在受污染的水）。为了正确估计干预效果，我们必须分析一个干预后时期，在该时期内观察到的病例对应于一个完全处于干预后的感染时间窗口。在第 $t=+3$ 天观察到的病例，对应于第 $t=+1$ 天左右的感染，此时水泵已被停用。因此，为分离出干预效果，对干预后时期的分析应在潜伏期滞后过后再开始。\n\n按照要求，我们使用经潜伏期调整的干预后时期，即从第 $t=+3$ 天到第 $t=+7$ 天。这个时期包含 $5$ 天。我们计算这个调整后时期的平均每日病例数 $\\bar{C}_{post, adj}$。\n经潜伏期调整的干预后时期的总病例数是：\n$$ \\sum_{t=3}^{7} C_t = C_{+3} + C_{+4} + C_{+5} + C_{+6} + C_{+7} $$\n$$ \\sum_{t=3}^{7} C_t = 20 + 12 + 8 + 5 + 3 = 48 $$\n这 $5$ 天的平均每日病例数是：\n$$ \\bar{C}_{post, adj} = \\frac{1}{5} \\sum_{t=3}^{7} C_t = \\frac{48}{5} $$\n\n现在，我们可以计算经潜伏期调整的干预前后比率 $R_{adj}$，这就是最终要求的量。\n$$ R_{adj} = \\frac{\\bar{C}_{post, adj}}{\\bar{C}_{pre}} = \\frac{48/5}{185/7} $$\n$$ R_{adj} = \\frac{48 \\times 7}{5 \\times 185} = \\frac{336}{925} $$\n为了得到最终的数值答案，我们进行除法运算并四舍五入到四位有效数字。\n$$ R_{adj} \\approx 0.36324324... $$\n四舍五入到四位有效数字，我们得到 $0.3632$。这个值远低于朴素估计值，表明在拆除水泵手柄后霍乱发病率出现了更显著的下降，这正确地考虑了潜伏期这一生物学事实。",
            "answer": "$$\\boxed{0.3632}$$"
        }
    ]
}