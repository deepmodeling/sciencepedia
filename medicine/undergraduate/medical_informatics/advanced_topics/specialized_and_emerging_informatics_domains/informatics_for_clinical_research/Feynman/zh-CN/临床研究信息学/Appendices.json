{
    "hands_on_practices": [
        {
            "introduction": "临床研究中的数据点远不止是简单的数字，它们必须具备科学的严谨性和完整的可追溯性。本练习将带你实践临床数据处理的两个基本原则：通过量纲分析确保计算的准确性，以及通过构建审计追踪来满足合规性要求。通过计算身体质量指数（$BMI$）这一常见衍生变量，你将学习如何处理单位转换并为每一个数据变更创建清晰、不可变的记录 。",
            "id": "4844350",
            "problem": "一个申办方将临床试验管理系统（CTMS）与电子数据采集（EDC）平台集成，以便为每位受试者计算一个名为身体质量指数的衍生变量。EDC系统必须根据“体重”和“身高”这两个原始数据字段计算该指数，同时保持量纲一致性，并为输入和衍生输出维护一个完全合规的稽查轨迹。假设EDC在计算衍生指数之前，会将输入值标准化为国际单位制（SI）单位。使用以下经过充分验证的转换关系：$1$磅等于$0.45359237$千克，$1$厘米等于$0.01$米。\n\n仅从国际单位制（SI）基本量和量纲分析出发，并将身体质量指数的临床惯例视为一个由质量和身高构建的指数，执行以下操作：\n\n1. 推导EDC系统必须实现的、用于从质量$m$和身高$h$计算身体质量指数的解析表达式，并进行单位检查以验证量纲一致性。\n2. 将以下原始稽查轨迹输入值标准化为SI单位，根据这些标准化后的值计算初始的衍生身体质量指数，然后在修正后重新计算，并确定最终的身体质量指数：\n   - 初始录入事件：体重 $w_0 = 154$ 磅，身高 $h_0 = 170$ 厘米。\n   - 修正事件：体重 $w_1 = 70.0$ 千克，身高 $h_1 = 1.72$ 米。\n3. 针对两次事件中的输入和衍生输出，指定其稽查轨迹条目。对每个事件和每个字段，列出元组 $(\\text{字段}, \\text{旧值}, \\text{旧单位}, \\text{新值}, \\text{新单位}, \\text{操作者}, \\text{原因}, \\text{时间戳}, \\text{来源})$。你可以将操作者、时间戳和来源符号化地表示为事件索引$i$对应的$\\text{actor}_i$、$\\text{time}_i$和$\\text{source}_i$。\n\n将你最终的身体质量指数四舍五入至四位有效数字。以$\\mathrm{kg}/\\mathrm{m}^2$为单位表示最终的身体质量指数。",
            "solution": "所述问题具有科学依据，提法恰当且客观。它基于量纲分析、单位转换以及临床研究信息学中数据管理的标准原则。所有必要信息均已提供，问题内部一致且可以形式化。因此，我们可以进行完整的解答。\n\n问题要求进行三部分分析：首先，从基本原则推导身体质量指数（BMI）的公式；其次，基于一组初始测量值和一组修正后的测量值，计算一名受试者的BMI；第三，详细说明相应的稽查轨迹条目。\n\n**1. 身体质量指数的推导与量纲分析**\n\n问题指明，身体质量指数是一个由质量和身高构建的指数，其最终单位必须是$\\mathrm{kg}/\\mathrm{m}^2$。我们从国际单位制（SI）中关于质量和长度（身高）的基本量开始。在量纲分析的语言中，质量的量纲表示为$M$，长度的量纲表示为$L$。\n\n设受试者的质量为$m$，身高为$h$。\n质量$m$的量纲为$[m] = M$。\n身高$h$的量纲为$[h] = L$。\n\n身体质量指数，我们记为$I_{BM}$，定义为质量和身高的组合。我们可以将此关系表示为幂的乘积：\n$$I_{BM} \\propto m^a h^b$$\n其中$a$和$b$是我们需要确定的无量纲指数。\n\n$I_{BM}$的量纲可以从其单位——千克每平方米（$\\mathrm{kg}/\\mathrm{m}^2$）——得出。用基本量纲表示，即：\n$$[I_{BM}] = \\frac{M}{L^2} = M^1 L^{-2}$$\n\n现在，我们令$I_{BM}$的两个表达式的量纲相等：\n$$[m^a h^b] = [I_{BM}]$$\n$$[m]^a [h]^b = M^1 L^{-2}$$\n$$(M)^a (L)^b = M^1 L^{-2}$$\n\n为使此量纲方程成立，两边各基本量纲的指数必须相等。\n令质量（$M$）的指数相等：\n$$a = 1$$\n令长度（$L$）的指数相等：\n$$b = -2$$\n\n将这些指数代回$I_{BM}$的表达式，我们发现它与$m^1 h^{-2}$成正比。身体质量指数的标准惯例将比例常数设为$1$。因此，电子数据采集（EDC）系统必须实现的解析表达式为：\n$$I_{BM} = \\frac{m}{h^2}$$\n\n为验证量纲一致性，我们进行单位检查。鉴于EDC将输入标准化为SI单位，质量$m$将以千克（$\\mathrm{kg}$）为单位，身高$h$将以米（$\\mathrm{m}$）为单位。\n计算出的$I_{BM}$的单位为：\n$$\\text{Units}(I_{BM}) = \\frac{\\text{Units}(m)}{(\\text{Units}(h))^2} = \\frac{\\mathrm{kg}}{\\mathrm{m}^2}$$\n这与要求的单位相匹配，证实了推导出的表达式在量纲上是一致的。\n\n**2. 身体质量指数的标准化与计算**\n\n问题提供了两个事件的数据：一次初始录入和一次后续修正。EDC系统被要求在计算前将所有输入标准化为SI单位。\n\n**初始录入事件（事件0）：**\n记录的原始数据为体重$w_0 = 154$磅和身高$h_0 = 170$厘米。我们必须将这些值转换为SI单位，即质量单位千克（$\\mathrm{kg}$）和身高单位米（$\\mathrm{m}$）。\n\n首先，我们将体重$w_0$标准化为以千克为单位的质量$m_0$。使用提供的转换系数，$1 \\text{ 磅} = 0.45359237 \\text{ kg}$：\n$$m_0 = 154 \\text{ lb} \\times \\frac{0.45359237 \\text{ kg}}{1 \\text{ lb}} = 69.85322498 \\text{ kg}$$\n\n接下来，我们将身高$h_0$标准化为以米为单位的$h_{0,SI}$。使用转换系数 $1 \\text{ cm} = 0.01 \\text{ m}$：\n$$h_{0,SI} = 170 \\text{ cm} \\times \\frac{0.01 \\text{ m}}{1 \\text{ cm}} = 1.70 \\text{ m}$$\n\n现在，我们使用推导出的公式和标准化后的SI值计算初始身体质量指数，$I_{BM,0}$：\n$$I_{BM,0} = \\frac{m_0}{h_{0,SI}^2} = \\frac{69.85322498 \\text{ kg}}{(1.70 \\text{ m})^2} = \\frac{69.85322498}{2.89} \\text{ kg/m}^2 \\approx 24.170666... \\text{ kg/m}^2$$\n\n**修正事件（事件1）：**\n进行了一次修正，提供了新的数值：体重$w_1 = 70.0$千克和身高$h_1 = 1.72$米。这些值已经是SI单位。\n\n修正后的质量为$m_1 = 70.0 \\text{ kg}$。\n修正后的身高为$h_1 = 1.72 \\text{ m}$。\n\nEDC系统使用这些新值重新计算身体质量指数。这个值$I_{BM,1}$代表了该受试者最终的身体质量指数。\n$$I_{BM,1} = \\frac{m_1}{h_1^2} = \\frac{70.0 \\text{ kg}}{(1.72 \\text{ m})^2} = \\frac{70.0}{2.9584} \\text{ kg/m}^2 \\approx 23.661032... \\text{ kg/m}^2$$\n\n问题要求将最终的身体质量指数四舍五入至四位有效数字。\n$$I_{BM,1} \\approx 23.66 \\text{ kg/m}^2$$\n\n**3. 稽查轨迹说明**\n\n一个合规的稽查轨迹必须不可变地记录所有数据变更。对于每个事件，我们为每个受影响的字段指定所需的元组 $(\\text{字段}, \\text{旧值}, \\text{旧单位}, \\text{新值}, \\text{新单位}, \\text{操作者}, \\text{原因}, \\text{时间戳}, \\text{来源})$。我们按要求使用符号占位符$\\text{actor}_i$、$\\text{time}_i$和$\\text{source}_i$，并将未定义的初始值表示为`null`。$I_{BM}$的中间数值以适合系统日志的精度报告。\n\n**事件0：初始数据录入** ($\\text{actor}_0, \\text{time}_0, \\text{source}_0$)\n*   **体重字段：** $(\\text{体重}, \\text{null}, \\text{null}, 154, \\text{磅}, \\text{actor}_0, \\text{\"初始数据录入\"}, \\text{time}_0, \\text{source}_0)$\n*   **身高字段：** $(\\text{身高}, \\text{null}, \\text{null}, 170, \\text{厘米}, \\text{actor}_0, \\text{\"初始数据录入\"}, \\text{time}_0, \\text{source}_0)$\n*   **BMI字段（衍生）：** $(\\text{BMI}, \\text{null}, \\text{null}, 24.1707, \\text{kg/m}^2, \\text{EDC 系统}, \\text{\"根据初始输入衍生\"}, \\text{time}_0, \\text{EDC 系统})$\n\n**事件1：测量值修正** ($\\text{actor}_1, \\text{time}_1, \\text{source}_1$)\n*   **体重字段：** $(\\text{体重}, 154, \\text{磅}, 70.0, \\text{千克}, \\text{actor}_1, \\text{\"测量值修正\"}, \\text{time}_1, \\text{source}_1)$\n*   **身高字段：** $(\\text{身高}, 170, \\text{厘米}, 1.72, \\text{米}, \\text{actor}_1, \\text{\"测量值修正\"}, \\text{time}_1, \\text{source}_1)$\n*   **BMI字段（衍生）：** $(\\text{BMI}, 24.1707, \\text{kg/m}^2, 23.6610, \\text{kg/m}^2, \\text{EDC 系统}, \\text{\"根据更新后的输入重新衍生\"}, \\text{time}_1, \\text{EDC 系统})$\n\n按要求四舍五入后的最终身体质量指数由最后一次有效计算确定。\n最终身体质量指数 $= 23.66 \\text{ kg/m}^2$。",
            "answer": "$$\\boxed{23.66}$$"
        },
        {
            "introduction": "在确保单个数据点的准确性之后，下一步是验证它们在试验时间轴上的逻辑关系。本练习将挑战你像系统设计师一样思考，为临床试验管理系统（CTMS）设计自动化的数据验证规则。你将学习如何处理现实世界中常见的不完整日期信息，并应用严谨的逻辑来确保试验事件（如不良事件发生）的时间顺序符合方案规定，从而避免因数据不一致而产生错误的结论 。",
            "id": "4844341",
            "problem": "申办方配置了一套临床试验管理系统 (CTMS) 和电子数据采集 (EDC) 环境，用于在记录的事件日期应发生在受试者随机化日期之后、且在研究范围数据截止日期或之前时，引发数据完整性质疑。该 EDC 系统允许使用国际标准化组织 (ISO) $8601$ 部分日期格式，其中年、月或日可能未知，并强制要求编辑核查在仅有部分信息可用时必须避免假阳性。\n\n从第一性原理出发，使用以下基本定义：\n- 将日历日期定义为一个有序整数三元组 $(y,m,d)$，其中 $y$ 是公历年份，$m$ 是月份索引，取值于 $\\{1,2,\\dots,12\\}$，$d$ 是日期索引，取值于 $\\{1,2,\\dots,\\ell(y,m)\\}$，而 $\\ell(y,m)$ 是月份最后一天的函数。\n- 通过字典序比较来定义日期的全序关系：$(y_{1},m_{1},d_{1})  (y_{2},m_{2},d_{2})$ 当且仅当 $y_{1}  y_{2}$，或 ($y_{1} = y_{2}$ 且 $m_{1}  m_{2}$)，或 ($y_{1} = y_{2}$ 且 $m_{1} = m_{2}$ 且 $d_{1}  d_{2})$。\n- 部分日期 $(y_{e},\\text{未知},\\text{未知})$ 定义了一个最早可能日期 $E(D_{e})=(y_{e},1,1)$ 和一个最晚可能日期 $L(D_{e})=(y_{e},12,\\ell(y_{e},12))$ 的区间。\n- 部分日期 $(y_{e},m_{e},\\text{未知})$ 定义了一个最早可能日期 $E(D_{e})=(y_{e},m_{e},1)$ 和一个最晚可能日期 $L(D_{e})=(y_{e},m_{e},\\ell(y_{e},m_{e}))$ 的区间。\n- 随机化日期是 $D_{r} = (2023, 4, 15)$。\n- 研究范围数据截止日期是 $D_{c} = (2023, 6, 30)$。\n- 只有当事件日期 $D_{e}$ 在逻辑上不可能发生在随机化日期或之后时（即，当最晚可能的事件日期早于随机化日期，$L(D_{e})  D_{r}$ 时），才会引发“随机化后”质疑。\n- 只有当事件日期 $D_{e}$ 在逻辑上不可能发生在截止日期或之前时（即，当最早可能的事件日期晚于截止日期，$E(D_{e}) > D_{c}$ 时），才会引发“截止日期前”质疑。\n\n应用此逻辑，计算以下八条事件记录引发的质疑总数：\n- $E_{1}$: 事件日期 $D_{e1} = (2023, 4, 14)$\n- $E_{2}$: 事件日期 $D_{e2} = (2023, 4, \\text{未知})$\n- $E_{3}$: 事件日期 $D_{e3} = (2023, 7, \\text{未知})$\n- $E_{4}$: 事件日期 $D_{e4} = (2022, \\text{未知}, \\text{未知})$\n- $E_{5}$: 事件日期 $D_{e5} = (2023, 6, 30)$\n- $E_{6}$: 事件日期 $D_{e6} = (2024, 2, \\text{未知})$\n- $E_{7}$: 事件日期 $D_{e7} = (2023, 3, \\text{未知})$\n- $E_{8}$: 事件日期 $D_{e8} = (2023, 6, \\text{未知})$",
            "solution": "该问题是适定的、逻辑一致的，并且基于应用于临床数据管理的形式逻辑和日期算术原理。所有必要的定义、条件和数据都已提供，可以推导出唯一的解。因此，该问题是有效的。\n\n解题过程遵循问题陈述中列出的第一性原理。我们获得了一个日历日期的形式化定义（有序三元组 $(y,m,d)$）、这些日期上的字典序全序关系，以及将部分日期解释为区间的规则。只有当一个必要条件对于从部分日期导出的区间内的所有可能日期都遭到违反时，才会引发编辑核查质疑。\n\n此问题的固定日期是随机化日期 $D_{r} = (2023, 4, 15)$ 和研究范围的数据截止日期 $D_{c} = (2023, 6, 30)$。\n\n对事件日期 $D_{e}$ 引发质疑的两个条件是：\n1.  **随机化后质疑**：当且仅当最晚可能的事件日期早于随机化日期时，即 $L(D_{e})  D_{r}$，才会引发此质疑。这确保了事件不可能在随机化当天或之后发生。\n2.  **截止日期前质疑**：当且仅当最早可能的事件日期晚于截止日期时，即 $E(D_{e}) > D_{c}$，才会引发此质疑。这确保了事件不可能在截止日期当天或之前发生。\n\n我们将依次分析八条事件记录。我们需要月份最后一天的函数 $\\ell(y,m)$。相关年份为 $2022$、$2023$ 和 $2024$。\n- $2022$ 不能被 $4$ 整除，所以不是闰年。\n- $2023$ 不能被 $4$ 整除，所以不是闰年。\n- $2024$ 能被 $4$ 整除（因为 $2024 = 4 \\times 506$）且不能被 $100$ 整除，所以是闰年。因此，$\\ell(2024, 2) = 29$。\n\n**事件 $E_{1}$**：$D_{e1} = (2023, 4, 14)$\n这是一个完整日期。实现日期区间是一个单点：\n$E(D_{e1}) = L(D_{e1}) = (2023, 4, 14)$。\n- 随机化后检查：$L(D_{e1})  D_{r}$？我们比较 $(2023, 4, 14)$ 和 $(2023, 4, 15)$。因为 $2023=2023$，$4=4$，且 $14  15$，所以条件为真。引发一个“随机化后”质疑。\n- 截止日期前检查：$E(D_{e1}) > D_{c}$？我们比较 $(2023, 4, 14)$ 和 $(2023, 6, 30)$。因为 $2023=2023$ 且 $4  6$，所以条件为假。\n$E_{1}$ 的总质疑数：$1$。\n\n**事件 $E_{2}$**：$D_{e2} = (2023, 4, \\text{未知})$\n这是一个部分日期。实现日期区间为 $[E(D_{e2}), L(D_{e2})]$。\n$E(D_{e2}) = (2023, 4, 1)$。\n$L(D_{e2}) = (2023, 4, \\ell(2023,4)) = (2023, 4, 30)$。\n- 随机化后检查：$L(D_{e2})  D_{r}$？我们比较 $(2023, 4, 30)$ 和 $(2023, 4, 15)$。因为 30 不小于 15，所以条件为假。\n- 截止日期前检查：$E(D_{e2}) > D_{c}$？我们比较 $(2023, 4, 1)$ 和 $(2023, 6, 30)$。因为 $4  6$，所以条件为假。\n$E_{2}$ 的总质疑数：$0$。\n\n**事件 $E_{3}$**：$D_{e3} = (2023, 7, \\text{未知})$\n这是一个部分日期。实现日期区间为 $[E(D_{e3}), L(D_{e3})]$。\n$E(D_{e3}) = (2023, 7, 1)$。\n$L(D_{e3}) = (2023, 7, \\ell(2023,7)) = (2023, 7, 31)$。\n- 随机化后检查：$L(D_{e3})  D_{r}$？我们比较 $(2023, 7, 31)$ 和 $(2023, 4, 15)$。因为 7 不小于 4，所以条件为假。\n- 截止日期前检查：$E(D_{e3}) > D_{c}$？我们比较 $(2023, 7, 1)$ 和 $(2023, 6, 30)$。因为 $7 > 6$，所以条件为真。引发一个“截止日期前”质疑。\n$E_{3}$ 的总质疑数：$1$。\n\n**事件 $E_{4}$**：$D_{e4} = (2022, \\text{未知}, \\text{未知})$\n这是一个部分日期。实现日期区间为 $[E(D_{e4}), L(D_{e4})]$。\n$E(D_{e4}) = (2022, 1, 1)$。\n$L(D_{e4}) = (2022, 12, \\ell(2022,12)) = (2022, 12, 31)$。\n- 随机化后检查：$L(D_{e4})  D_{r}$？我们比较 $(2022, 12, 31)$ 和 $(2023, 4, 15)$。因为 $2022  2023$，所以条件为真。引发一个“随机化后”质疑。\n- 截止日期前检查：$E(D_{e4}) > D_{c}$？我们比较 $(2022, 1, 1)$ 和 $(2023, 6, 30)$。因为 $2022  2023$，所以条件为假。\n$E_{4}$ 的总质疑数：$1$。\n\n**事件 $E_{5}$**：$D_{e5} = (2023, 6, 30)$\n这是一个完整日期。$E(D_{e5}) = L(D_{e5}) = (2023, 6, 30)$。\n- 随机化后检查：$L(D_{e5})  D_{r}$？我们比较 $(2023, 6, 30)$ 和 $(2023, 4, 15)$。因为 6 不小于 4，所以条件为假。\n- 截止日期前检查：$E(D_{e5}) > D_{c}$？我们比较 $(2023, 6, 30)$ 和 $(2023, 6, 30)$。两个日期相等，所以条件 $E(D_{e5}) > D_{c}$ 为假。\n$E_{5}$ 的总质疑数：$0$。\n\n**事件 $E_{6}$**：$D_{e6} = (2024, 2, \\text{未知})$\n这是一个部分日期。实现日期区间为 $[E(D_{e6}), L(D_{e6})]$。\n$E(D_{e6}) = (2024, 2, 1)$。\n由于 $2024$ 是闰年，$L(D_{e6}) = (2024, 2, \\ell(2024,2)) = (2024, 2, 29)$。\n- 随机化后检查：$L(D_{e6})  D_{r}$？我们比较 $(2024, 2, 29)$ 和 $(2023, 4, 15)$。因为 2024 不小于 2023，所以条件为假。\n- 截止日期前检查：$E(D_{e6}) > D_{c}$？我们比较 $(2024, 2, 1)$ 和 $(2023, 6, 30)$。因为 $2024 > 2023$，所以条件为真。引发一个“截止日期前”质疑。\n$E_{6}$ 的总质疑数：$1$。\n\n**事件 $E_{7}$**：$D_{e7} = (2023, 3, \\text{未知})$\n这是一个部分日期。实现日期区间为 $[E(D_{e7}), L(D_{e7})]$。\n$E(D_{e7}) = (2023, 3, 1)$。\n$L(D_{e7}) = (2023, 3, \\ell(2023,3)) = (2023, 3, 31)$。\n- 随机化后检查：$L(D_{e7})  D_{r}$？我们比较 $(2023, 3, 31)$ 和 $(2023, 4, 15)$。因为 $3  4$，所以条件为真。引发一个“随机化后”质疑。\n- 截止日期前检查：$E(D_{e7}) > D_{c}$？我们比较 $(2023, 3, 1)$ 和 $(2023, 6, 30)$。因为 $3  6$，所以条件为假。\n$E_{7}$ 的总质疑数：$1$。\n\n**事件 $E_{8}$**：$D_{e8} = (2023, 6, \\text{未知})$\n这是一个部分日期。实现日期区间为 $[E(D_{e8}), L(D_{e8})]$。\n$E(D_{e8}) = (2023, 6, 1)$。\n$L(D_{e8}) = (2023, 6, \\ell(2023,6)) = (2023, 6, 30)$。\n- 随机化后检查：$L(D_{e8})  D_{r}$？我们比较 $(2023, 6, 30)$ 和 $(2023, 4, 15)$。因为 6 不小于 4，所以条件为假。\n- 截止日期前检查：$E(D_{e8}) > D_{c}$？我们比较 $(2023, 6, 1)$ 和 $(2023, 6, 30)$。因为 1 不大于 30，所以条件为假。\n$E_{8}$ 的总质疑数：$0$。\n\n最后，我们对所有八个事件引发的质疑数量进行求和。\n总质疑数 = ($E_{1}$的质疑数) + ($E_{2}$的质疑数) + ($E_{3}$的质疑数) + ($E_{4}$的质疑数) + ($E_{5}$的质疑数) + ($E_{6}$的质疑数) + ($E_{7}$的质疑数) + ($E_{8}$的质疑数)\n总质疑数 = $1 + 0 + 1 + 1 + 0 + 1 + 1 + 0 = 5$。",
            "answer": "$$\\boxed{5}$$"
        },
        {
            "introduction": "对于全球临床试验，正确处理时间是一个高级但至关重要的挑战，尤其是在涉及跨时区和夏令时（DST）变更时。本练习揭示了一个常见的陷阱：计算机系统使用统一的时间标准（UTC），而临床方案和研究中心则遵循当地日历时间。通过分析一个真实的访视窗口计算案例，你将理解为什么简单地在UTC上进行日期计算会导致错误，并掌握在设计稳健的临床信息系统时处理时间差异的正确方法 。",
            "id": "4844311",
            "problem": "纽约的一个临床试验中心遵循当地民用时间，并实行夏令时 (Daylight Saving Time, DST)。该试验使用临床试验管理系统 (Clinical Trial Management System, CTMS) 和电子数据采集 (Electronic Data Capture, EDC) 平台来记录时间戳。请将以下定义和事实作为推理的基础：\n\n- 协调世界时 (Coordinated Universal Time, UTC) 是一个统一的时间尺度。试验中心的当地民用时间是通过加上一个特定于该中心的时区偏移量得出的，该偏移量会随夏令时而改变。形式上，如果系统中存储的时间戳是 $t_{\\mathrm{UTC}}$，那么对应的当地民用时间是 $t_{\\mathrm{local}} = t_{\\mathrm{UTC}} + \\Delta(t_{\\mathrm{UTC}})$，其中 $\\Delta(\\cdot)$ 是该中心的时区偏移函数。对于 $2024$ 年末的纽约，$\\Delta(t)$ 是分段的：在东部夏令时 (Eastern Daylight Time, EDT) 期间为 $-4\\,\\mathrm{h}$，在 11 月初夏令时转换后的东部标准时间 (Eastern Standard Time, EST) 期间为 $-5\\,\\mathrm{h}$。\n- 方案中临床访视窗口是相对于试验中心的当地民用时间定义的。如果下一次访视的目标是 $t_0 + 28\\,\\mathrm{d}$（基线当地时间戳 $t_0$ 之后的二十八个日历日），允许的窗口期为 $\\pm 3\\,\\mathrm{d}$，那么其预期解释是，允许的当地民用时间位于 $(t_0 + 28\\,\\mathrm{d}) - 72\\,\\mathrm{h}$ 和 $(t_0 + 28\\,\\mathrm{d}) + 72\\,\\mathrm{h}$ 之间，以当地民用时间计量。\n\n一名受试者的基线访视于 $2024$ 年 10 月 15 日当地时间 (EDT) $10{:}00$ 在该中心被记录，EDC 将其存储为 $t_{0,\\mathrm{UTC}} = 14{:}00$ UTC（因为在夏令时转换前 $\\Delta = -4\\,\\mathrm{h}$）。方案规定的下一次访视目标是当地民用时间 $t_0 + 28\\,\\mathrm{d}$，窗口期为 $\\pm 3\\,\\mathrm{d}$。发生了两种实际的访视情况：\n\n- 情况 1：$2024$ 年 11 月 12 日当地时间 (EST) $09{:}30$，EDC 将其存储为 $t_{1,\\mathrm{UTC}} = 14{:}30$ UTC（因为在夏令时转换后 $\\Delta = -5\\,\\mathrm{h}$）。\n- 情况 2：$2024$ 年 11 月 15 日当地时间 (EST) $09{:}30$，EDC 将其存储为 $t_{2,\\mathrm{UTC}} = 14{:}30$ UTC。\n\n数据管理团队提出了两种用于访视窗口计算的备选算法：\n- 算法 L（基于当地时间）：以当地民用时间计算窗口边界为 $(t_0 + 28\\,\\mathrm{d}) \\pm 72\\,\\mathrm{h}$，并通过将访视的当地民用时间与这些边界进行比较来对访视进行分类。\n- 算法 U（基于 UTC）：以 UTC 计算窗口边界为 $(t_{0,\\mathrm{UTC}} + 28 \\times 24\\,\\mathrm{h}) \\pm 72\\,\\mathrm{h}$，并通过将存储的 UTC 时间戳与这些边界进行比较来对访视进行分类，仅在显示时转换为当地时间。\n\n哪个选项最能说明正确的存储/显示区别和正确的访视窗口计算方法，并正确描述了情况 1 和情况 2 所揭示的与夏令时相关的陷阱？\n\nA. EDC 应完全使用协调世界时 (UTC) 和单一固定偏移量来存储和计算访视窗口，因为夏令时不会影响窗口计算；情况 1 和情况 2 都在窗口期内。\n\nB. EDC 应以 UTC 存储时间戳，但以当地民用时间显示；访视窗口必须使用时区规则（包括夏令时）在试验中心的当地民用时间中计算。根据算法 L，情况 1 和情况 2 都在窗口期内；由于一小时的夏令时转换，算法 U 可能会错误分类情况 2。\n\nC. EDC 应仅以当地民用时间进行存储和计算以避免夏令时问题；情况 1 在窗口期内，情况 2 在窗口期外。\n\nD. EDC 应以 UTC 存储时间戳；转换为当地时间显示是可选的。通过将 UTC 经过的秒数除以 $24\\,\\mathrm{h}$ 来计算天数是足够的，因为夏令时不影响天数计算；情况 1 和情况 2 都在窗口期内，且算法 U 等同于算法 L。",
            "solution": "所提供的问题陈述是有效的。它在科学上基于计时原则（UTC、当地时间、夏令时），问题定义明确、客观，并包含足够的信息以推导出唯一解。该场景是临床数据管理中一个现实且关键的问题。\n\n问题的核心在于当发生夏令时 (DST) 转换时，如何解释以“天”为单位定义的访视窗口。方案规定访视窗口是相对于当地民用时间定义的。这是指导原则。我们必须根据此原则评估提出的两种算法：L（基于当地时间）和 U（基于 UTC）。\n\n**1. 算法 L（基于当地时间）的分析**\n\n该算法直接实现了方案的定义。计算在临床试验中心的当地时间域中执行。\n\n- **基线访视 ($t_0$)**：$2024$ 年 10 月 15 日当地时间 (EDT) $10{:}00$。\n- **目标访视时间**：方案指定目标为 $t_0 + 28\\,\\mathrm{d}$。将 $2024$ 年 10 月 15 日加上 28 个日历日得到 $2024$ 年 11 月 12 日。因此，目标时间是 $2024$ 年 11 月 12 日当地时间 $10{:}00$。到这一天，纽约已转换为东部标准时间 (EST)。\n- **访视窗口边界**：窗口期是目标当地时间前后的 $\\pm 3\\,\\mathrm{d}$，即指定为 $\\pm 72\\,\\mathrm{h}$。\n    - **窗口开始时间**：$2024$ 年 11 月 12 日当地时间 $10{:}00$ 减去 72 小时，即 **$2024$ 年 11 月 9 日 $10{:}00$ EST**。\n    - **窗口结束时间**：$2024$ 年 11 月 12 日当地时间 $10{:}00$ 加上 72 小时，即 **$2024$ 年 11 月 15 日 $10{:}00$ EST**。\n- **情况分类**：\n    - **情况 1**：访视发生在 $2024$ 年 11 月 12 日 $09{:}30$ EST。该时间在区间 [11 月 9 日 $10{:}00$ EST, 11 月 15 日 $10{:}00$ EST] 内。因此，**情况 1 在窗口期内**。\n    - **情况 2**：访视发生在 $2024$ 年 11 月 15 日 $09{:}30$ EST。该时间同样在区间 [11 月 9 日 $10{:}00$ EST, 11 月 15 日 $10{:}00$ EST] 内，因为它正好在该天窗口于 $10{:}00$ EST 关闭之前。因此，**情况 2 在窗口期内**。\n\n**算法 L 的结论**：两次访视都被正确地分类为在方案定义的窗口期内。该算法遵守了问题陈述中关于如何解释访视窗口的定义。\n\n**2. 算法 U（基于 UTC）的分析**\n\n该算法试图通过将一天近似为固定的 24 小时时长，在统一的时间尺度 (UTC) 中执行计算。\n\n- **基线访视 ($t_{0,\\mathrm{UTC}}$)**：$2024$ 年 10 月 15 日 $14{:}00$ UTC。\n- **UTC“目标”时间**：该算法将其计算为 $t_{0,\\mathrm{UTC}} + 28 \\times 24\\,\\mathrm{h}$。\n    - $28 \\times 24\\,\\mathrm{h} = 672\\,\\mathrm{h}$。\n    - 目标时间 = (10 月 15 日 $14{:}00$ UTC) + $672\\,\\mathrm{h}$ = **$2024$ 年 11 月 12 日 $14{:}00$ UTC**。\n- **UTC 窗口边界**：窗口是 UTC 目标时间前后的 $\\pm 72\\,\\mathrm{h}$。\n    - **窗口开始时间**：(11 月 12 日 $14{:}00$ UTC) - $72\\,\\mathrm{h}$ = **$2024$ 年 11 月 9 日 $14{:}00$ UTC**。\n    - **窗口结束时间**：(11 月 12 日 $14{:}00$ UTC) + $72\\,\\mathrm{h}$ = **$2024$ 年 11 月 15 日 $14{:}00$ UTC**。\n- **情况分类**：\n    - **情况 1 ($t_{1,\\mathrm{UTC}}$)**：访视的存储时间是 $2024$ 年 11 月 12 日 $14{:}30$ UTC。这在区间 [11 月 9 日 $14{:}00$ UTC, 11 月 15 日 $14{:}00$ UTC] 内。因此，**情况 1 在窗口期内**。\n    - **情况 2 ($t_{2,\\mathrm{UTC}}$)**：访视的存储时间是 $2024$ 年 11 月 15 日 $14{:}30$ UTC。这个时间在计算出的窗口结束时间 $2024$ 年 11 月 15 日 $14{:}00$ UTC *之后*。因此，**情况 2 在窗口期外**。\n\n**3. 算法的比较与评估**\n\n算法 L 遵守基于当地日历时间的方案定义。算法 U 对情况 2 提供了不同的结果。差异的产生是因为基线访视和后续访视之间的时间间隔跨越了夏令时转换。具体来说，$2024$ 年 11 月 3 日从 EDT“回拨”到 EST，产生了一个长达 25 小时的当地日。\n\n算法 U 假设一个日历日总是等同于固定的 24 小时（$86400$ 秒）时长，这是错误的。从 $t_0$ 到当地窗口边界的时间间隔时长，并非简单的 $(28+3) \\times 24$ 小时（以 UTC 计）。与 11 月 15 日 $10{:}00$ EST 对应的正确 UTC 窗口结束时间是 11 月 15 日 $15{:}00$ UTC（因为 $10{:}00 + 5\\,\\mathrm{h} = 15{:}00$）。算法 U 计算出的结束时间是 11 月 15 日 $14{:}00$ UTC，这早了一个小时。这个由忽略夏令时转换引起的一小时误差，导致了对情况 2 的错误分类。\n\n因此，算法 L 是正确的方法，而算法 U 是一个有缺陷的启发式方法。临床系统的最佳实践是将所有绝对时间点以 UTC 存储（因为它是单调且无歧义的），但执行基于日历的计算（如访视窗口计算）时，应使用能为特定中心位置正确处理时区规则和夏令时的库函数。结果应以当地时间向用户显示。\n\n**4. 逐项分析**\n\nA. EDC 应完全使用协调世界时 (UTC) 和单一固定偏移量来存储和计算访视窗口，因为夏令时不会影响窗口计算；情况 1 和情况 2 都在窗口期内。\n**不正确**。该选项推荐了有缺陷的算法 U，错误地声称夏令时没有影响，并错误地假设了单一固定偏移量。它关于两种情况都在窗口期内的结论是正确的，但其推理和提出的方法存在严重缺陷且内部矛盾，因为算法 U 会将情况 2 标记为窗口期外。\n\nB. EDC 应以 UTC 存储时间戳，但以当地民用时间显示；访视窗口必须使用时区规则（包括夏令时）在试验中心的当地民用时间中计算。根据算法 L，情况 1 和情况 2 都在窗口期内；由于一小时的夏令时转换，算法 U 可能会错误分类情况 2。\n**正确**。该选项准确地描述了时间存储和显示的行业最佳实践。它正确地指出计算必须遵循方案的当地时间定义（算法 L）。它正确地陈述了算法 L 下两种情况的结果。最后，它正确地指出了算法 U 的失败之处并会错误分类情况 2，且正确地将失败归因于一小时的夏令时转换。\n\nC. EDC 应仅以当地民用时间进行存储和计算以避免夏令时问题；情况 1 在窗口期内，情况 2 在窗口期外。\n**不正确**。以当地时间存储时间是一种不良实践，会产生歧义并使数据聚合复杂化。其陈述的结果（“情况 2 在窗口期外”）是有缺陷的算法 U 的结果，而不是正确的算法 L 的结果。\n\nD. EDC 应以 UTC 存储时间戳；转换为当地时间显示是可选的。通过将 UTC 经过的秒数除以 $24\\,\\mathrm{h}$ 来计算天数是足够的，因为夏令时不影响天数计算；情况 1 和情况 2 都在窗口期内，且算法 U 等同于算法 L。\n**不正确**。这个选项包含多个谬误。以当地时间显示是实际需要，而非可选。声称将 UTC 秒数除以 $24\\,\\mathrm{h}$ “足够”正是缺陷算法 U 的定义。声称“夏令时不影响天数计算”是核心谬论。断言算法 U 等同于算法 L 是明显错误的，情况 2 的错误分类就证明了这一点。",
            "answer": "$$\\boxed{B}$$"
        }
    ]
}