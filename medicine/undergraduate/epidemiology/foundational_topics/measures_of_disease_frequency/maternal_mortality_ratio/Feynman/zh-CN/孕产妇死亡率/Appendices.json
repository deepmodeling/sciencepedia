{
    "hands_on_practices": [
        {
            "introduction": "在我们信任计算出的孕产妇死亡率（MMR）之前，必须先理解数据本身可能存在的系统性偏差。本练习  探讨了两种常见的数据质量问题——死亡漏报和出生数多报——对MMR估算结果的影响。通过推导一个简洁的公式，你将清晰地看到这些测量误差如何共同导致最终结果的偏差，这是批判性评估任何公共卫生指标的基础。",
            "id": "4610479",
            "problem": "一个国家的生命登记系统旨在估算孕产妇死亡率（MMR），其定义为在固定时期内每 $100{,}000$ 例活产中的孕产妇死亡人数。设真实的孕产妇死亡人数为 $D_{\\text{true}}$，真实的活产数为 $B_{\\text{true}}$。根据定义，真实的孕产妇死亡率（MMR）由公式 $\\mathrm{MMR}_{\\text{true}} = \\left(\\dfrac{D_{\\text{true}}}{B_{\\text{true}}}\\right) \\times 100{,}000$ 给出。假设由于死亡案例查明不全，记录的孕产妇死亡人数被乘性低估了一个因子 $1-\\delta$，其中 $0 \\leq \\delta  1$，因此 $D_{\\text{obs}} = (1-\\delta)D_{\\text{true}}$。同时，假设由于重复登记或错误分类，记录的活产数被乘性高估了一个因子 $1+\\epsilon$，其中 $\\epsilon \\geq 0$，因此 $B_{\\text{obs}} = (1+\\epsilon)B_{\\text{true}}$。报告的孕产妇死亡率（MMR）则计算为 $\\mathrm{MMR}_{\\text{obs}} = \\left(\\dfrac{D_{\\text{obs}}}{B_{\\text{obs}}}\\right) \\times 100{,}000$。\n仅使用上述基本比率定义和所述的乘性误差模型，推导报告的MMR中的乘性偏差，该偏差定义为比率 $\\mathrm{Bias}_{\\times} = \\dfrac{\\mathrm{MMR}_{\\text{obs}}}{\\mathrm{MMR}_{\\text{true}}}$，并将其表示为关于 $\\delta$ 和 $\\epsilon$ 的封闭形式表达式。提供您完全化简后的最终表达式。不需要数值近似，最终表达式中也不需要单位。",
            "solution": "首先将对用户提供的问题进行严格的验证过程。\n\n### 步骤1：提取已知信息\n问题陈述中提供的明确信息如下：\n- 真实的孕产妇死亡率定义为 $\\mathrm{MMR}_{\\text{true}} = \\left(\\dfrac{D_{\\text{true}}}{B_{\\text{true}}}\\right) \\times 100{,}000$，其中 $D_{\\text{true}}$ 是真实的孕产妇死亡人数，$B_{\\text{true}}$ 是真实的活产数。\n- 记录的孕产妇死亡人数由 $D_{\\text{obs}} = (1-\\delta)D_{\\text{true}}$ 给出，其中低估因子满足 $0 \\leq \\delta  1$。\n- 记录的活产数由 $B_{\\text{obs}} = (1+\\epsilon)B_{\\text{true}}$ 给出，其中高估因子满足 $\\epsilon \\geq 0$。\n- 报告的孕产妇死亡率计算为 $\\mathrm{MMR}_{\\text{obs}} = \\left(\\dfrac{D_{\\text{obs}}}{B_{\\text{obs}}}\\right) \\times 100{,}000$。\n- 乘性偏差定义为比率 $\\mathrm{Bias}_{\\times} = \\dfrac{\\mathrm{MMR}_{\\text{obs}}}{\\mathrm{MMR}_{\\text{true}}}$。\n- 目标是推导一个关于 $\\delta$ 和 $\\epsilon$ 的 $\\mathrm{Bias}_{\\times}$ 的封闭形式表达式。\n\n### 步骤2：使用提取的已知信息进行验证\n根据既定标准对问题进行评估。\n- **科学依据：** 该问题设置在流行病学和公共卫生统计学领域。孕产妇死亡率（MMR）的定义是标准的。使用乘性误差模型来表示死亡率的系统性低估和出生数的系统性高估，是流行病学建模中用于评估测量误差影响的一种有效且常见的简化方法。这些概念在事实上是合理的，并基于生物统计学的既定原则。\n- **适定性：** 推导所需的所有变量和关系都已明确定义。问题要求一个关于 $\\delta$ 和 $\\epsilon$ 的 $\\mathrm{Bias}_{\\times}$ 的唯一表达式，并且所提供的信息足以推导出此表达式。\n- **客观性：** 问题使用精确的数学语言和定义进行陈述。它没有歧义、主观性或观点。\n- **完整性与一致性：** 问题是自洽的。对 $\\delta$ ($0 \\leq \\delta  1$) 和 $\\epsilon$ ($\\epsilon \\geq 0$) 的约束与其分别作为低估和高估因子的定义是一致的，并确保最终表达式中的分母不为零。不存在矛盾信息。\n- **现实性与可行性：** 该误差模型是一种简化，但代表了生命统计登记系统中一种科学上可能的情景，在这些系统中数据收集通常是不完善的。\n\n### 步骤3：结论与行动\n该问题具有科学依据、适定性、客观性、自洽性和一致性。它没有违反任何指定的无效标准。因此，该问题被视为**有效**。现在将继续进行求解过程。\n\n目标是推导乘性偏差 $\\mathrm{Bias}_{\\times}$ 的表达式，该偏差定义为观测到的MMR与真实MMR之比。\n$$\n\\mathrm{Bias}_{\\times} = \\frac{\\mathrm{MMR}_{\\text{obs}}}{\\mathrm{MMR}_{\\text{true}}}\n$$\n我们首先将 $\\mathrm{MMR}_{\\text{obs}}$ 和 $\\mathrm{MMR}_{\\text{true}}$ 的定义代入此方程。\n$$\n\\mathrm{Bias}_{\\times} = \\frac{\\left(\\dfrac{D_{\\text{obs}}}{B_{\\text{obs}}}\\right) \\times 100{,}000}{\\left(\\dfrac{D_{\\text{true}}}{B_{\\text{true}}}\\right) \\times 100{,}000}\n$$\n常数因子 $100{,}000$ 同时出现在分子和分母中，因此可以消去。\n$$\n\\mathrm{Bias}_{\\times} = \\frac{\\dfrac{D_{\\text{obs}}}{B_{\\text{obs}}}}{\\dfrac{D_{\\text{true}}}{B_{\\text{true}}}}\n$$\n这可以重写为：\n$$\n\\mathrm{Bias}_{\\times} = \\frac{D_{\\text{obs}}}{B_{\\text{obs}}} \\cdot \\frac{B_{\\text{true}}}{D_{\\text{true}}}\n$$\n接下来，我们将观测值 $D_{\\text{obs}}$ 和 $B_{\\text{obs}}$ 的表达式（用真实值以及误差因子 $\\delta$ 和 $\\epsilon$ 表示）代入。\n给定的关系是 $D_{\\text{obs}} = (1-\\delta)D_{\\text{true}}$ 和 $B_{\\text{obs}} = (1+\\epsilon)B_{\\text{true}}$。将它们代入 $\\mathrm{Bias}_{\\times}$ 的表达式中：\n$$\n\\mathrm{Bias}_{\\times} = \\frac{(1-\\delta)D_{\\text{true}}}{(1+\\epsilon)B_{\\text{true}}} \\cdot \\frac{B_{\\text{true}}}{D_{\\text{true}}}\n$$\n代表真实死亡人数的项 $D_{\\text{true}}$ 和代表真实活产数的项 $B_{\\text{true}}$ 会相互抵消。\n$$\n\\mathrm{Bias}_{\\times} = \\frac{(1-\\delta)\\cancel{D_{\\text{true}}}}{(1+\\epsilon)\\cancel{B_{\\text{true}}}} \\cdot \\frac{\\cancel{B_{\\text{true}}}}{\\cancel{D_{\\text{true}}}}\n$$\n这就得到了关于 $\\delta$ 和 $\\epsilon$ 的完全化简的乘性偏差的封闭形式表达式。\n$$\n\\mathrm{Bias}_{\\times} = \\frac{1-\\delta}{1+\\epsilon}\n$$\n这个最终表达式表明，观测到的MMR中的乘性偏差仅由孕产妇死亡的相对低估因子和活产的相对高估因子决定。死亡人数的低估（分子小于1）导致向下的偏差，而出生人数的高估（分母大于1）也导致向下的偏差。这两种误差会复合。例如，如果出生登记没有误差（$\\epsilon=0$），那么MMR就被简单地低估了因子 $1-\\delta$。如果死亡查明没有误差（$\\delta=0$），那么MMR就被低估了因子 $1/(1+\\epsilon)$。",
            "answer": "$$\n\\boxed{\\frac{1-\\delta}{1+\\epsilon}}\n$$"
        },
        {
            "introduction": "即使数据收集完美无缺，特定年份的孕产妇死亡数本质上仍具有随机性，因此我们需要量化这种由随机性造成的随机误差。本练习  将引导你严格推导MMR的“精确”置信区间，让你超越简单的公式套用。通过这一过程，你将深入理解泊松分布、伽马分布和卡方分布之间的深刻联系，学会如何为比率指标精确地构建统计不确定性的度量。",
            "id": "4610483",
            "problem": "一个健康监测系统记录了特定人群在固定时期内的孕产妇死亡人数，该计数被建模为泊松随机变量。设孕产妇死亡人数为 $D \\sim \\text{Poisson}(\\lambda)$，其中 $\\lambda$ 是该时期内孕产妇死亡的期望数。同一时期内的活产总数（记为 $B$）已知且无误差。孕产妇死亡率（MMR）定义为每 $K$ 例活产中的预期孕产妇死亡人数，即 $m = (\\lambda/B)\\times K$，其中 $K$ 是一个正的换算常数（例如，$K = 100{,}000$）。\n\n仅从泊松随机变量的定义、孕产妇死亡率的定义以及累积分布函数及其反函数的标准性质出发，根据单个观测计数 $D=d$ 推导真实孕产妇死亡率 $m$ 的精确双侧 $(1-\\alpha)$ 置信区间。您的推导应：\n- 明确地对泊松分布的适当尾部概率进行求逆，以获得 $\\lambda$ 的界限。\n- 仅使用从泊松分布、伽马分布和卡方分布的定义中得出的基本关系。\n- 利用 $B$ 和 $K$ 是已知常数这一事实，将 $\\lambda$ 的区间转换为 $m$ 的区间。\n\n用一个解析表达式给出 $m$ 的置信下限和上限，该表达式以 $d$、$B$、$K$ 和 $\\alpha$ 表示，并在必要时使用卡方分布的标准分位数表示法。以每 $K$ 例活产中的死亡人数为单位表示最终区间。不要代入任何数值。最终的方框答案内不要包含任何单位。如果需要，您可以假设当 $d=0$ 时，下限的取值约定与精确泊松方法一致。无需四舍五入，因为最终答案是一个解析表达式。",
            "solution": "问题陈述有效。它在科学上基于标准的统计学和流行病学原理，问题提出得当，信息充分，可得出唯一解，且表述客观。任务是推导孕产妇死亡率 $m$ 的精确双侧 $(1-\\alpha)$ 置信区间。\n\n设观测到的孕产妇死亡人数为 $D$，它是一个遵循参数为 $\\lambda$ 的泊松分布的随机变量，记为 $D \\sim \\text{Poisson}(\\lambda)$。得到一个观测值 $D=d$。孕产妇死亡率（$m$）被定义为未知参数 $\\lambda$ 的一个换算版本：$m = \\frac{K}{B} \\lambda$，其中 $B$（活产数）和 $K$（换算常数）是已知的正常数。\n\n$\\lambda$ 的精确 $(1-\\alpha)$ 置信区间（记为 $[\\lambda_L, \\lambda_U]$）的构建基于 Clopper-Pearson 方法，该方法对充分统计量 $D$ 的分布的尾部概率进行求逆。上下限是使得观测计数 $d$ 位于相应尾部区域边缘的 $\\lambda$ 值。具体而言，这些界限由以下两个方程定义：\n$1$. 对于下限 $\\lambda_L$：在上尾观测到等于或比 $d$ 更极端的计数的概率为 $\\alpha/2$。\n$$P(D \\ge d | \\lambda = \\lambda_L) = \\frac{\\alpha}{2}$$\n$2$. 对于上限 $\\lambda_U$：在下尾观测到等于或比 $d$ 更极端的计数的概率为 $\\alpha/2$。\n$$P(D \\le d | \\lambda = \\lambda_U) = \\frac{\\alpha}{2}$$\n\n我们将利用泊松分布、伽马分布和卡方分布之间的基本关系来求解这两个关于 $\\lambda_L$ 和 $\\lambda_U$ 的方程。\n\n首先，我们来推导下限 $\\lambda_L$。方程为：\n$$ \\sum_{k=d}^{\\infty} \\frac{e^{-\\lambda_L} \\lambda_L^k}{k!} = \\frac{\\alpha}{2} $$\n一个基本的恒等式将泊松分布的尾部概率与伽马分布的累积分布函数（CDF）联系起来。对于整数 $d>0$，一个区间内事件数至少为 $d$ 的事件，等价于第 $d$ 个事件的等待时间小于或等于该区间长度的事件。这就提供了以下恒等式：\n$$ P(D \\ge d | \\lambda) = P(G_d \\le \\lambda) $$\n其中 $G_d$ 是一个遵循形状参数为 $k=d$、尺度参数为 $\\theta=1$ 的伽马分布的随机变量，记为 $G_d \\sim \\text{Gamma}(d, 1)$。\n应用此恒等式，关于 $\\lambda_L$ 的方程变为：\n$$ P(G_d \\le \\lambda_L) = \\frac{\\alpha}{2} $$\n接下来，我们使用伽马分布和卡方（$\\chi^2$）分布之间的关系。如果一个随机变量 $X \\sim \\text{Gamma}(k, \\theta)$，那么变量 $2X/\\theta \\sim \\chi^2_{2k}$，即一个自由度为 $2k$ 的卡方分布。在我们的例子中，$G_d \\sim \\text{Gamma}(d, 1)$，所以 $2G_d \\sim \\chi^2_{2d}$。我们可以用这个卡方变量重写概率陈述：\n$$ P(2G_d \\le 2\\lambda_L) = \\frac{\\alpha}{2} $$\n设 $Y \\sim \\chi^2_{2d}$。方程为 $P(Y \\le 2\\lambda_L) = \\alpha/2$。根据分位数的定义，$2\\lambda_L$ 是一个值，使得累积概率直到该点为 $\\alpha/2$。这是 $\\chi^2_{2d}$ 分布的 $(\\alpha/2)$分位数。使用 $\\chi^2_{\\nu, p}$ 表示自由度为 $\\nu$ 的 $\\chi^2$ 分布的第 $p$ 个分位数，我们有：\n$$ 2\\lambda_L = \\chi^2_{2d, \\alpha/2} $$\n$$ \\lambda_L = \\frac{1}{2}\\chi^2_{2d, \\alpha/2} $$\n对于 $d=0$ 的情况，伽马分布的形状参数为 $0$，这对应于一个 $\\chi^2_0$ 分布。这是一个在 $0$ 处有质点集中的退化分布。因此，对于任何 $p>0$，$\\chi^2_{0, p} = 0$，所以当 $d=0$ 时 $\\lambda_L=0$，这是正确且标准的下界。\n\n其次，我们来推导上限 $\\lambda_U$。其定义方程为：\n$$ P(D \\le d | \\lambda = \\lambda_U) = \\sum_{k=0}^{d} \\frac{e^{-\\lambda_U} \\lambda_U^k}{k!} = \\frac{\\alpha}{2} $$\n另一个基本恒等式将泊松CDF与伽马分布的生存函数联系起来：\n$$ P(D \\le d | \\lambda) = P(H_{d+1} > \\lambda) $$\n其中 $H_{d+1}$ 是一个遵循形状参数为 $k=d+1$、尺度参数为 $\\theta=1$ 的伽马分布的随机变量，记为 $H_{d+1} \\sim \\text{Gamma}(d+1, 1)$。\n因此，关于 $\\lambda_U$ 的方程变为：\n$$ P(H_{d+1} > \\lambda_U) = \\frac{\\alpha}{2} $$\n这等价于：\n$$ P(H_{d+1} \\le \\lambda_U) = 1 - \\frac{\\alpha}{2} $$\n再次，我们将伽马变量转换为卡方变量。由于 $H_{d+1} \\sim \\text{Gamma}(d+1, 1)$，可得 $2H_{d+1} \\sim \\chi^2_{2(d+1)}$。概率陈述变为：\n$$ P(2H_{d+1} \\le 2\\lambda_U) = 1 - \\frac{\\alpha}{2} $$\n设 $Z \\sim \\chi^2_{2(d+1)}$。方程为 $P(Z \\le 2\\lambda_U) = 1 - \\alpha/2$。根据定义，$2\\lambda_U$ 是 $\\chi^2_{2(d+1)}$ 分布的 $(1 - \\alpha/2)$分位数：\n$$ 2\\lambda_U = \\chi^2_{2(d+1), 1-\\alpha/2} $$\n$$ \\lambda_U = \\frac{1}{2}\\chi^2_{2(d+1), 1-\\alpha/2} $$\n\n在求出 $\\lambda$ 的精确 $(1-\\alpha)$ 置信区间为 $[\\lambda_L, \\lambda_U]$ 后，我们现在将其转换为 MMR（即 $m$）的区间。关系式为 $m = \\frac{K}{B} \\lambda$。由于 $K$ 和 $B$ 是正常数，该变换是单调且线性的。因此，$m$ 的置信限（记为 $[m_L, m_U]$）可以通过对 $\\lambda_L$ 和 $\\lambda_U$ 应用相同的变换得到：\n$$ m_L = \\frac{K}{B} \\lambda_L = \\frac{K}{2B} \\chi^2_{2d, \\alpha/2} $$\n$$ m_U = \\frac{K}{B} \\lambda_U = \\frac{K}{2B} \\chi^2_{2(d+1), 1-\\alpha/2} $$\n这就构成了孕产妇死亡率 $m$ 的精确双侧 $(1-\\alpha)$ 置信区间。",
            "answer": "$$\n\\boxed{\\left[ \\frac{K}{2B} \\chi^2_{2d, \\alpha/2}, \\frac{K}{2B} \\chi^2_{2(d+1), 1-\\alpha/2} \\right]}\n$$"
        },
        {
            "introduction": "孕产妇死亡率的一个核心用途是追踪卫生系统的长期进展。但如果数据上报的质量本身随时间而改变，我们观察到的MMR下降趋势是真实的改善，还是仅仅是数据报告系统变化的假象？这项高级练习  要求你执行一项敏感性分析——这是流行病学家的关键技能——通过设定不确定性的边界，来判断观察到的MMR下降趋势是否足够稳健。",
            "id": "4610413",
            "problem": "给定多个研究人群在多个连续年份中观测到的孕产妇死亡数和活产数。根据流行病学的基本原理，孕产妇死亡率（Maternal Mortality Ratio, MMR）定义为在特定时期内每 $100{,}000$ 例活产所对应的孕产妇死亡数。设 $D_t^{\\text{true}}$ 表示年份 $t$ 的真实孕产妇死亡数，$B_t$ 表示该年的活产数。年份 $t$ 的真实MMR为 $ \\mathrm{MMR}_t^{\\text{true}} = \\left( \\dfrac{D_t^{\\text{true}}}{B_t} \\right) \\times 100{,}000 $。假设孕产妇死亡的查明存在不完全性。设 $c_t \\in (0,1]$ 表示年份 $t$ 的病例查明比例（完整性），$D_t^{\\text{obs}}$ 为观测到的孕产妇死亡数。数据生成关系为 $ D_t^{\\text{obs}} = c_t \\cdot D_t^{\\text{true}} $。因此，任何对漏报的调整都意味着 $ D_t^{\\text{true}} = \\dfrac{D_t^{\\text{obs}}}{c_t} $，调整后的MMR为 $ \\mathrm{MMR}_t^{\\text{adj}} = \\left( \\dfrac{D_t^{\\text{obs}}}{c_t \\, B_t} \\right) \\times 100{,}000 $。\n\n您的任务是设计一个敏感性分析，以检验从第一年到最后一年观测到的MMR下降，对于合理的漏报范围是否是稳健的。请仅使用上面给出的基本定义和一般代数推理。具体而言：\n\n- 对于每个研究人群，将观测到的期末与期初的MMR比率定义为 $ r_{\\text{obs}} = \\dfrac{D_T^{\\text{obs}}/B_T}{D_1^{\\text{obs}}/B_1} $，其中 $T$ 是最后一年的索引。研究期间的比例变化为 $ r_{\\text{obs}} - 1 $（以小数表示，不带百分号）。\n- 假设只有起始年和结束年的病例查明比例在给定的闭区间 $ c_1 \\in [c_{1,\\min}, c_{1,\\max}] $ 和 $ c_T \\in [c_{T,\\min}, c_{T,\\max}] $ 内不确定，且这两个区间都是 $(0,1]$ 的子集。中间年份的查明比例可以任意变化，但对于界定期末与期初的变化范围而言，并非必需。\n- 在 $c_1$ 和 $c_T$ 各自的区间内，计算因漏报调整所隐含的期末与期初MMR比率的最小和最大可能比例变化。将它们报告为 $p_{\\min}$ 和 $p_{\\max}$，其中 $p_{\\min}$ 是最小可能的比例变化（如果调整加强了下降趋势，则为最负的值），$p_{\\max}$ 是最大可能的比例变化（可能逆转下降趋势）。\n- 定义一个布尔稳健性指标，当且仅当 $p_{\\max}  0$ 时，该指标为真，这意味着即使在最坏情况下的调整，仍然表明从第一年到最后一年的MMR是下降的。\n\n您的程序必须实现上述逻辑，并为每个提供的测试用例输出一个三元素的结果：\n- $p_{\\min}$：最小可能的比例变化（小数），四舍五入到 $6$ 位小数。\n- $p_{\\max}$：最大可能的比例变化（小数），四舍五入到 $6$ 位小数。\n- 一个布尔值，指示下降趋势对于指定范围内的漏报是否稳健。\n\n注意：\n- 使用标准的MMR单位，即每 $100{,}000$ 例活产的死亡数；然而，在形成比率 $r_{\\text{obs}}$ 和比例变化时，常数因子 $100{,}000$ 会被消掉，因此比例变化是无单位的小数。\n- 所有活产数必须视为正整数，所有死亡数必须视为非负整数。所有完整性参数必须位于 $(0,1]$ 区间内，且下界不得超过上界。\n- 将比例变化表示为小数（例如，$25\\%$ 的减少表示为 $-0.25$）。\n\n测试套件：\n为以下五个研究人群提供结果。每个人群都指定了一系列年度活产数 $[B_1,\\dots,B_T]$、观测到的孕产妇死亡数 $[D_1^{\\text{obs}},\\dots,D_T^{\\text{obs}}]$，以及起始和结束年份的完整性区间。\n\n- Case A:\n  - Births: $[50000,50500,51000,51500,52000]$\n  - Observed deaths: $[120,110,100,90,80]$\n  - Completeness at start: $[0.80,0.90]$\n  - Completeness at end: $[0.85,0.95]$\n- Case B:\n  - Births: $[50000,48000,45000]$\n  - Observed deaths: $[100,95,90]$\n  - Completeness at start: $[0.85,0.95]$\n  - Completeness at end: $[0.85,0.95]$\n- Case C:\n  - Births: $[60000,70000,80000]$\n  - Observed deaths: $[200,170,150]$\n  - Completeness at start: $[0.85,0.95]$\n  - Completeness at end: $[0.50,0.70]$\n- Case D:\n  - Births: $[40000,37000,35000]$\n  - Observed deaths: $[70,60,40]$\n  - Completeness at start: $[0.85,0.85]$\n  - Completeness at end: $[0.85,0.85]$\n- Case E:\n  - Births: $[2000,1800,1500]$\n  - Observed deaths: $[3,2,1]$\n  - Completeness at start: $[0.70,0.90]$\n  - Completeness at end: $[0.70,0.90]$\n\n最终输出格式：\n您的程序应生成单行输出，其中包含一个按 A 到 E 顺序排列的各案例结果列表。每个案例的结果必须是一个三元素列表，形式为 $[p_{\\min}, p_{\\max}, \\text{robust}]$，其中 $p_{\\min}$ 和 $p_{\\max}$ 四舍五入到 $6$ 位小数，布尔值呈现为 true 或 false，大小写与 Python 的默认值（即 True 或 False）匹配。例如，一个包含两个假设案例的有效输出可能看起来像 $[[ -0.123456, -0.012345, True ], [ -0.500000, 0.100000, False ]]$，但您的程序必须按确切的顺序和格式输出指定的五个案例，不得包含额外文本。",
            "solution": "该问题要求进行敏感性分析，以确定观测到的孕产妇死亡率（MMR）下降对于病例查明完整性的不确定性是否是稳健的。此分析通过计算从研究期的第一年到最后一年，MMR的最小和最大可能比例变化来执行，其中考虑了起始年和结束年完整性比例的指定区间。\n\n设研究的第一年索引为 $t=1$，最后一年索引为 $t=T$。每个研究人群提供的数据包括年度活产数 $[B_1, \\dots, B_T]$ 和观测到的孕产妇死亡数 $[D_1^{\\text{obs}}, \\dots, D_T^{\\text{obs}}]$。\n\n年份 $t$ 的真实孕产妇死亡率，记为 $\\mathrm{MMR}_t^{\\text{true}}$，定义为：\n$$ \\mathrm{MMR}_t^{\\text{true}} = \\left( \\frac{D_t^{\\text{true}}}{B_t} \\right) \\times 100000 $$\n其中 $D_t^{\\text{true}}$ 是真实的孕产妇死亡数。由于病例查明不完美，观测到的死亡数 $D_t^{\\text{obs}}$ 通过完整性比例 $c_t \\in (0, 1]$ 与真实死亡数相关联：\n$$ D_t^{\\text{obs}} = c_t \\cdot D_t^{\\text{true}} $$\n根据这个关系，可以通过调整观测计数来估计真实死亡数：\n$$ D_t^{\\text{true}} = \\frac{D_t^{\\text{obs}}}{c_t} $$\n因此，经漏报调整后的MMR为：\n$$ \\mathrm{MMR}_t^{\\text{adj}} = \\left( \\frac{D_t^{\\text{obs}}}{c_t B_t} \\right) \\times 100000 $$\n\n敏感性分析的核心是评估调整后MMR的期末与期初比率。设该比率为 $r_{\\text{adj}}$。它是第一年和最后一年的完整性比例 $c_1$ 和 $c_T$ 的函数：\n$$ r_{\\text{adj}}(c_1, c_T) = \\frac{\\mathrm{MMR}_T^{\\text{adj}}}{\\mathrm{MMR}_1^{\\text{adj}}} = \\frac{\\left( \\frac{D_T^{\\text{obs}}}{c_T B_T} \\right) \\times 100000}{\\left( \\frac{D_1^{\\text{obs}}}{c_1 B_1} \\right) \\times 100000} $$\n比例常数 $100000$ 被消去，得到：\n$$ r_{\\text{adj}}(c_1, c_T) = \\frac{D_T^{\\text{obs}} / (c_T B_T)}{D_1^{\\text{obs}} / (c_1 B_1)} = \\left( \\frac{D_T^{\\text{obs}} / B_T}{D_1^{\\text{obs}} / B_1} \\right) \\cdot \\frac{c_1}{c_T} $$\n我们认出第一项是观测到的期末与期初MMR比率 $r_{\\text{obs}}$：\n$$ r_{\\text{obs}} = \\frac{D_T^{\\text{obs}} / B_T}{D_1^{\\text{obs}} / B_1} $$\n因此，调整后的比率可以紧凑地表示为：\n$$ r_{\\text{adj}}(c_1, c_T) = r_{\\text{obs}} \\cdot \\frac{c_1}{c_T} $$\n调整后MMR的比例变化是 $p(c_1, c_T) = r_{\\text{adj}}(c_1, c_T) - 1$。我们的目标是求这个量的最小值（$p_{\\min}$）和最大值（$p_{\\max}$），假定 $c_1$ 和 $c_T$ 位于指定的闭区间内：\n$$ c_1 \\in [c_{1,\\min}, c_{1,\\max}] $$\n$$ c_T \\in [c_{T,\\min}, c_{T,\\max}] $$\n函数 $p(c_1, c_T) = r_{\\text{obs}} \\cdot \\frac{c_1}{c_T} - 1$ 是比值 $\\frac{c_1}{c_T}$ 的单调函数，因为 $r_{\\text{obs}}$（一个非负死亡数与正活产数的比率）必须是非负的。为了找到 $p$ 的极值，我们必须在指定的矩形域上找到比值 $\\frac{c_1}{c_T}$ 的极值。\n\n为使比值 $\\frac{c_1}{c_T}$ 最大化，我们必须使分子 $c_1$ 最大化，并使分母 $c_T$ 最小化。$c_1$ 的最大值是 $c_{1,\\max}$，$c_T$ 的最小值是 $c_{T,\\min}$。因此：\n$$ \\left(\\frac{c_1}{c_T}\\right)_{\\max} = \\frac{c_{1,\\max}}{c_{T,\\min}} $$\n为使比值 $\\frac{c_1}{c_T}$ 最小化，我们必须使分子 $c_1$ 最小化，并使分母 $c_T$ 最大化。$c_1$ 的最小值是 $c_{1,\\min}$，$c_T$ 的最大值是 $c_{T,\\max}$。因此：\n$$ \\left(\\frac{c_1}{c_T}\\right)_{\\min} = \\frac{c_{1,\\min}}{c_{T,\\max}} $$\n将这些极值代入比例变化 $p$ 的表达式，我们得到最小和最大可能的比例变化 $p_{\\min}$ 和 $p_{\\max}$：\n$$ p_{\\min} = r_{\\text{obs}} \\cdot \\left(\\frac{c_1}{c_T}\\right)_{\\min} - 1 = \\left( \\frac{D_T^{\\text{obs}} / B_T}{D_1^{\\text{obs}} / B_1} \\right) \\cdot \\frac{c_{1,\\min}}{c_{T,\\max}} - 1 $$\n$$ p_{\\max} = r_{\\text{obs}} \\cdot \\left(\\frac{c_1}{c_T}\\right)_{\\max} - 1 = \\left( \\frac{D_T^{\\text{obs}} / B_T}{D_1^{\\text{obs}} / B_1} \\right) \\cdot \\frac{c_{1,\\max}}{c_{T,\\min}} - 1 $$\n从第 $1$ 年到第 $T$ 年MMR的下降对应于小于 $0$ 的比例变化。如果即使在调整的最坏情况下，比例变化仍然为负，则观测到的下降被认为是对于漏报是稳健的。最坏情况（即最能抵消下降趋势的情况）是产生最大比例变化 $p_{\\max}$ 的情况。因此，稳健性条件就是：\n$$ p_{\\max}  0 $$\n针对每个研究人群的计算步骤如下：\n1.  提取初始年和最终年的活产数和死亡数：$B_1, D_1^{\\text{obs}}, B_T, D_T^{\\text{obs}}$。\n2.  提取完整性区间的边界：$c_{1,\\min}, c_{1,\\max}, c_{T,\\min}, c_{T,\\max}$。\n3.  计算 $r_{\\text{obs}} = (D_T^{\\text{obs}} / B_T) / (D_1^{\\text{obs}} / B_1)$。\n4.  使用上面推导的公式计算 $p_{\\min}$ 和 $p_{\\max}$。\n5.  通过检查 $p_{\\max}  0$ 来确定布尔稳健性指标。\n6.  将 $p_{\\min}$ 和 $p_{\\max}$ 四舍五入到 $6$ 位小数，并报告三元组 $[p_{\\min}, p_{\\max}, \\text{robustness}]$。此过程系统地应用于所有提供的测试用例。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes a sensitivity analysis for Maternal Mortality Ratio (MMR) decline.\n\n    For each study population, this function calculates the minimum and maximum\n    possible proportional change in the end-to-start MMR ratio, given uncertainty\n    in case ascertainment completeness. It also determines if the observed decline\n    is robust to this uncertainty.\n    \"\"\"\n    \n    test_cases = [\n        # Case A\n        {'births': [50000, 50500, 51000, 51500, 52000],\n         'deaths': [120, 110, 100, 90, 80],\n         'c1_interval': [0.80, 0.90],\n         'cT_interval': [0.85, 0.95]},\n        # Case B\n        {'births': [50000, 48000, 45000],\n         'deaths': [100, 95, 90],\n         'c1_interval': [0.85, 0.95],\n         'cT_interval': [0.85, 0.95]},\n        # Case C\n        {'births': [60000, 70000, 80000],\n         'deaths': [200, 170, 150],\n         'c1_interval': [0.85, 0.95],\n         'cT_interval': [0.50, 0.70]},\n        # Case D\n        {'births': [40000, 37000, 35000],\n         'deaths': [70, 60, 40],\n         'c1_interval': [0.85, 0.85],\n         'cT_interval': [0.85, 0.85]},\n        # Case E\n        {'births': [2000, 1800, 1500],\n         'deaths': [3, 2, 1],\n         'c1_interval': [0.70, 0.90],\n         'cT_interval': [0.70, 0.90]},\n    ]\n\n    results = []\n    \n    for case in test_cases:\n        births = case['births']\n        deaths = case['deaths']\n        c1_interval = case['c1_interval']\n        cT_interval = case['cT_interval']\n        \n        # Extract first and last year data\n        B1 = births[0]\n        BT = births[-1]\n        D1_obs = deaths[0]\n        DT_obs = deaths[-1]\n        \n        # Extract completeness interval bounds\n        c1_min, c1_max = c1_interval\n        cT_min, cT_max = cT_interval\n        \n        # Handle potential division by zero if D1_obs is zero, though not in test cases\n        if D1_obs == 0:\n            # If D1_obs is 0, r_obs is undefined or infinite if DT_obs > 0. \n            # This scenario is ambiguous. Assuming D1_obs > 0 based on problem structure.\n            # A robust implementation might handle this edge case, but for this problem, we proceed.\n            pass\n\n        # Calculate the observed end-to-start MMR ratio (the 100,000 factor cancels)\n        raw_ratio_1 = D1_obs / B1\n        raw_ratio_T = DT_obs / BT\n        r_obs = raw_ratio_T / raw_ratio_1\n\n        # Calculate the minimum and maximum possible proportional change\n        # p_min corresponds to the smallest adjustment factor c1/cT\n        p_min = r_obs * (c1_min / cT_max) - 1\n        \n        # p_max corresponds to the largest adjustment factor c1/cT\n        p_max = r_obs * (c1_max / cT_min) - 1\n        \n        # Determine if the decline is robust (i.e., p_max is still negative)\n        is_robust = p_max  0\n        \n        # Round results to 6 decimal places\n        p_min_rounded = round(p_min, 6)\n        p_max_rounded = round(p_max, 6)\n        \n        # Append the formatted result\n        results.append([p_min_rounded, p_max_rounded, is_robust])\n\n    # The final print statement must produce the exact required format.\n    # The str() representation of a Python list includes spaces after commas,\n    # which is consistent with the example format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        }
    ]
}