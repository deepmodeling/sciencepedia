{
    "hands_on_practices": [
        {
            "introduction": "掌握发病比例的最好方法是从一个理想化的场景开始。这个练习将指导您在一个完美的封闭队列中计算风险，其中没有随访丢失或竞争风险，从而牢固地建立发病比例作为新发病例数与初始风险人群之比的基本定义。这为我们理解更复杂、更现实的场景奠定了基础。",
            "id": "4599565",
            "problem": "一个公共卫生团队在基线时招募了一个规模为 $N=10{,}000$ 的封闭队列，以研究在 $2$ 年内首次发生明确定义的不良健康事件的情况。在入组前，没有任何个体发生过该事件。该队列被完整随访了 $2$ 年：没有失访，没有妨碍观察首次事件的竞争事件，并且每个人最多只能贡献一次首次事件。到 $2$ 年结束时，恰好有 $400$ 个不同的个体经历了他们的首次事件。\n\n仅使用适用于无失访的封闭队列的基本定义，确定 $2$ 年发病比例，记为 $IP(2)$。将此量解释为随机选择的队列成员在 $2$ 年期间发生事件的概率。以小数形式表示您的最终答案。不要使用百分号。",
            "solution": "在尝试给出解答之前，将对问题陈述进行验证。\n\n### 步骤 1：提取已知条件\n- 基线队列规模：$N = 10{,}000$\n- 队列类型：封闭队列\n- 随访期：$T = 2$ 年\n- 初始条件：入组前无个体发生过该事件。\n- 随访完整性：队列被完整随访 $2$ 年。\n- 特定条件：无失访，无妨碍观察首次事件的竞争事件，且每人最多贡献一次首次事件。\n- 事件数量：到 $2$ 年结束时，恰好有 $400$ 个不同个体经历了他们的首次事件。\n- 要求数量：$2$ 年发病比例，记为 $IP(2)$。\n- 要求解释：将此量解释为随机选择的队列成员的概率。\n- 最终答案格式要求：小数。\n\n### 步骤 2：使用提取的已知条件进行验证\n1.  **科学依据**：该问题基于流行病学的基本原理，特别是队列研究中疾病发生率的测量。封闭队列、发病比例（风险）和完整随访的概念是标准的流行病学定义。\n2.  **适定性**：该问题是适定的。它提供了计算发病比例所需的所有数据：新发病例数和初始风险人群的规模。问题没有歧义。这些条件虽然理想化（例如，无失访），但使得问题可以使用发病比例的基本定义来解决，而无需更高级的方法，如生存分析。\n3.  **客观性**：该问题使用清晰、客观和定量的语言陈述。它不含任何主观性或观点。\n\n该问题没有表现出任何诸如科学上不健全、不完整、矛盾或模棱两可的缺陷。这是一个标准的、尽管是理想化的问题，旨在测试对核心流行病学概念的理解。\n\n### 步骤 3：结论与行动\n问题有效。将提供解答。\n\n### 解答\n需要确定的是 $2$ 年发病比例，$IP(2)$。在流行病学中，对于一个在指定时间段内随访的封闭队列，发病比例（也称为累积发病率或风险）定义为在该时间段内，初始未发生结局的人群中发生该结局的个体所占的比例。\n\n发病比例的公式是：\n$$\nIP(\\Delta t) = \\frac{\\text{时间段 } \\Delta t \\text{ 内的新发病例数}}{\\text{时间段开始时的风险人群数}}\n$$\n\n设 $I$ 为随访期间观察到的新发病例数（首次事件数），设 $N$ 为基线时的队列规模。问题陈述指出，在研究开始时，整个队列都没有发生该事件，因此所有 $N$ 名个体都处于风险之中。\n\n从提取的已知条件中，我们有：\n- $2$ 年期间的新发病例数，$I = 400$。\n- 基线时的风险人群数，$N = 10{,}000$。\n- 时间段为 $\\Delta t = 2$ 年。\n\n现在我们可以计算 $2$ 年发病比例，$IP(2)$：\n$$\nIP(2) = \\frac{I}{N} = \\frac{400}{10{,}000}\n$$\n进行除法运算得出：\n$$\nIP(2) = 0.04\n$$\n\n该问题还要求将此量解释为概率。对于本问题中指定的无竞争风险和完整随访的封闭队列，发病比例是衡量个体在指定时间段内发生事件的平均风险的直接指标。因此，$IP(2) = 0.04$ 可以解释为，从该队列基线时随机选择一个个体，在 $2$ 年随访期内经历其首次不良健康事件的概率。这种概率解释是有效的，因为分母（$N$）代表了期初风险人群所有可能结果的完整集合，而分子（$I$）代表了在该人群中、在定义的时间内发生的特定关注事件的计数。因此，该比率符合有限样本空间的经典概率定义。",
            "answer": "$$\\boxed{0.04}$$"
        },
        {
            "introduction": "在准确计算风险时，正确识别“风险人群”至关重要，这也是一个常见的挑战。这个练习通过一个极简的设想实验，展示了当我们将本身具有免疫力、不可能发病的个体错误地纳入风险人群分母中时，会发生什么。通过量化由此产生的偏倚，您将深刻理解为何精确定义研究分母是流行病学测量的核心。",
            "id": "4599591",
            "problem": "一项针对短期暴发的封闭队列研究在一个固定区间内进行，其目标是估计在该区间内有资格患病个体中的发病比例（风险）。资格意味着在基线时是易感者；在基线时具有完全免疫力的个体在该区间内不会成为新发病例。考虑一个最小的队列，在该队列中，资格的错误分类（错误地将免疫个体计为有资格者）会改变估计的风险。设该队列在基线时由 $2$ 名个体组成：$1$ 名因已证实的既往感染而完全免疫，$1$ 名是易感者。在该区间内，观察到恰好 $1$ 例新发病例，且发生在易感个体中。研究人员在计算发病比例时，错误地将所有基线队列成员都计为有资格者。\n\n仅使用核心定义，即一个区间内的发病比例（风险）是在基线时有资格者中新发病例的比例，计算由错误分类引起的有符号相对偏倚，其定义为错误分类的发病比例与真实发病比例之比再减一。仅报告这个有符号相对偏倚，以单一数字形式呈现。答案以小数或分数表示；不要使用百分号。无需四舍五入。",
            "solution": "该问题陈述已经过严格验证，被认为是一个有效、自洽且在流行病学上具有科学依据的问题。它提法得当、客观，且没有内部矛盾或歧义。\n\n核心概念是发病比例（或称风险），其定义为在指定时间区间内发生的新发病例数，除以在该区间开始时有患病风险的人群中的个体数量。设 $IP$ 表示发病比例，$C$ 表示新发病例数，$N_{elig}$ 表示有资格（风险）的个体数。该定义可用公式表示为：\n$$IP = \\frac{C}{N_{elig}}$$\n\n我们必须首先计算真实发病比例，记为 $IP_{true}$。根据问题陈述，队列在基线时由 $2$ 名个体组成。其中，$1$ 名对该疾病易感，$1$ 名完全免疫。根据定义，只有易感个体有资格成为新发病例，因此被纳入风险人群。\n因此，真实的有资格个体数为 $N_{elig, true} = 1$。\n问题陈述中提到，在该区间内观察到恰好 $1$ 例新发病例。因此，$C = 1$。\n\n使用这些值，真实发病比例为：\n$$IP_{true} = \\frac{C}{N_{elig, true}} = \\frac{1}{1} = 1$$\n发病比例为 $1$ 表示所有在区间开始时处于风险中的个体都在该区间内患上了此病。\n\n接下来，我们计算错误分类的发病比例，记为 $IP_{misc}$。问题陈述中提到，由于分类错误，研究人员“错误地将所有基线队列成员都计为有资格者”。基线时队列中的总个体数为 $2$。\n因此，错误分类的有资格个体数为 $N_{elig, misc} = 2$。\n观察到的病例数保持不变，所以 $C = 1$。\n\n错误分类的发病比例为：\n$$IP_{misc} = \\frac{C}{N_{elig, misc}} = \\frac{1}{2}$$\n\n问题要求计算有符号相对偏倚，我们记为 $B_{rel}$。其定义为错误分类的发病比例与真实发病比例之比再减一。\n$$B_{rel} = \\frac{IP_{misc}}{IP_{true}} - 1$$\n\n将计算出的 $IP_{true}$ 和 $IP_{misc}$ 的值代入此公式，可得：\n$$B_{rel} = \\frac{1/2}{1} - 1$$\n$$B_{rel} = \\frac{1}{2} - 1$$\n$$B_{rel} = -\\frac{1}{2}$$\n\n换算成小数，这等于 $-0.5$。这个负值表明，错误分类导致了对真实风险的低估。具体来说，将免疫个体包含在分母中，人为地扩大了风险人群的规模，从而降低了计算出的新发病例比例。相对偏倚的大小为 $50\\%$。",
            "answer": "$$\\boxed{-0.5}$$"
        },
        {
            "introduction": "现实世界的研究很少是完美的；受试者可能会因各种原因退出研究，导致数据“删失”。这个练习探讨了当研究人员仅分析拥有完整数据的“完整病例”时，会如何引入一种系统性偏倚。通过构建一个简单的两阶段模型，您将推导出这种偏倚的方向和大小，从而理解为何需要更先进的生存分析方法来处理删失数据。",
            "id": "4599609",
            "problem": "一个队列在两个离散时间区间内被追踪，从基线到时间 $t_{1}$，然后从 $t_{1}$ 到 $t_{2}$。每个个体既可能经历感兴趣的事件，也可能在 $t_{1}$ 时（如果届时无事件）被删失。在 $t_{1}$ 之后没有删失。设 $p_{1} \\in (0,1)$ 表示个体在 $[0,t_{1}]$ 期间经历事件的概率。对于在 $t_{1}$ 时无事件的个体，设 $c \\in (0,1)$ 表示在 $t_{1}$ 被删失的概率，设 $p_{2} \\in (0,1)$ 表示在 $(t_{1},t_{2}]$ 期间经历事件的概率。假设 $t_{1}$ 时的删失机制仅取决于到 $t_{1}$ 为止无事件（也就是说，删失只发生在到 $t_{1}$ 为止没有发生事件的个体中），并且不改变随后的事件概率 $p_{2}$。\n\n仅使用“到时间 $t_{2}$ 的发生率（风险）是目标人群中到 $t_{2}$ 为止经历事件的概率”这一定义以及基本概率法则，完成以下任务：\n\n1. 推导到时间 $t_{2}$ 的真实发生率，记为 $R^{\\mathrm{true}}(t_{2})$。\n2. 将 $t_{2}$ 时的粗略完整病例比例定义为在 $t_{2}$ 之前未被删失的个体中到 $t_{2}$ 为止发生事件的比例，即 $R^{\\mathrm{cc}}(t_{2}) = \\mathbb{P}(\\text{到 } t_{2} \\text{ 为止发生事件} \\mid \\text{在 } t_{2} \\text{ 之前未被删失})$。在此双区间模型下，推导 $R^{\\mathrm{cc}}(t_{2})$ 的表达式。\n3. 从基本原理出发，解释为什么 $R^{\\mathrm{cc}}(t_{2})$ 通常不等于 $R^{\\mathrm{true}}(t_{2})$，并将偏倚 $B = R^{\\mathrm{cc}}(t_{2}) - R^{\\mathrm{true}}(t_{2})$ 量化为 $p_{1}$、$p_{2}$ 和 $c$ 的闭式函数。\n\n用一个关于 $p_{1}$、$p_{2}$ 和 $c$ 的单一简化代数表达式表示你的最终答案 $B$。不需要单位。如果尝试任何数值近似，则四舍五入到四位有效数字；否则返回精确的符号表达式。",
            "solution": "该问题提法明确，有科学依据，并为获得唯一解提供了足够的信息。我们可以开始推导。\n\n让我们为队列中的单个个体定义事件。\n设 $E_1$ 为个体在时间区间 $[0, t_1]$ 内经历感兴趣的结局的事件。\n设 $E_2$ 为个体在时间区间 $(t_1, t_2]$ 内经历结局的事件。\n设 $C$ 为个体在时间 $t_1$ 被删失的事件。\n\n根据问题陈述，我们有以下概率：\n第一个区间内发生事件的概率为 $\\mathbb{P}(E_1) = p_1$。\n因此，在时间 $t_1$ 时无事件的概率为 $\\mathbb{P}(E_1^c) = 1 - p_1$。\n删失只发生在 $t_1$ 时无事件的个体中。在无事件的条件下，于 $t_1$ 被删失的概率为 $\\mathbb{P}(C \\mid E_1^c) = c$。\n在无事件的条件下，于 $t_1$ 不被删失的概率为 $\\mathbb{P}(C^c \\mid E_1^c) = 1 - c$。\n问题陈述指出，删失不改变随后的事件概率 $p_2$。这是非信息性删失的假设。这意味着，对于在 $t_1$ 时无事件的个体，其在 $(t_1, t_2]$ 区间内发生事件的概率为 $p_2$，无论其删失状态如何。形式上，$\\mathbb{P}(E_2 \\mid E_1^c) = p_2$。这也意味着，对于被观察到的个体，$\\mathbb{P}(E_2 \\mid E_1^c \\cap C^c) = p_2$；对于被删失的个体，假设上也有 $\\mathbb{P}(E_2 \\mid E_1^c \\cap C) = p_2$。\n\n第1部分：真实发生率 $R^{\\mathrm{true}}(t_2)$ 的推导。\n到时间 $t_2$ 的真实发生率 $R^{\\mathrm{true}}(t_2)$，是指来自原始目标人群的个体到时间 $t_2$ 为止经历事件的概率。这是在第一个区间内发生事件，或者在第一个区间内没有事件然后在第二个区间内发生事件的累积概率。这代表了在没有删失的假设情景下的风险。“到 $t_2$ 为止发生事件”是事件的并集 $E_1 \\cup (E_1^c \\cap E_2)$。由于 $E_1$ 和 $(E_1^c \\cap E_2)$ 是互斥的，其概率是它们各自概率的总和：\n$$R^{\\mathrm{true}}(t_2) = \\mathbb{P}(E_1 \\cup (E_1^c \\cap E_2)) = \\mathbb{P}(E_1) + \\mathbb{P}(E_1^c \\cap E_2)$$\n使用条件概率的定义，$\\mathbb{P}(E_1^c \\cap E_2) = \\mathbb{P}(E_2 \\mid E_1^c) \\mathbb{P}(E_1^c)$。\n代入给定的概率：\n$$R^{\\mathrm{true}}(t_2) = p_1 + p_2 (1 - p_1)$$\n\n第2部分：粗略完整病例比例 $R^{\\mathrm{cc}}(t_2)$ 的推导。\n粗略完整病例比例定义为 $R^{\\mathrm{cc}}(t_2) = \\mathbb{P}(\\text{到 } t_{2} \\text{ 为止发生事件} \\mid \\text{在 } t_{2} \\text{ 之前未被删失})$。设 $E_{\\le t_2}$ 为“到 $t_2$ 为止发生事件”的事件，NC 为“在 $t_2$ 之前未被删失”的事件。删失只在 $t_1$ 发生。一个个体未被删失，如果他们在 $t_1$ 之前发生了事件（因此没有资格被删失），或者他们在 $t_1$ 时无事件且未被选择进行删失。\n$$R^{\\mathrm{cc}}(t_2) = \\mathbb{P}(E_{\\le t_2} \\mid NC) = \\frac{\\mathbb{P}(E_{\\le t_2} \\cap NC)}{\\mathbb{P}(NC)}$$\n首先，我们求分母 $\\mathbb{P}(NC)$。一个个体`未被删失`，如果他们在 $[0, t_1]$ 区间内发生了事件（事件 $E_1$，概率为 $p_1$），或者他们在 $t_1$ 时无事件且未被删失（事件 $E_1^c \\cap C^c$）。这两种途径是互斥的。\n$$\\mathbb{P}(NC) = \\mathbb{P}(E_1) + \\mathbb{P}(E_1^c \\cap C^c) = \\mathbb{P}(E_1) + \\mathbb{P}(C^c \\mid E_1^c)\\mathbb{P}(E_1^c)$$\n$$\\mathbb{P}(NC) = p_1 + (1 - c)(1 - p_1) = p_1 + 1 - c - p_1 + cp_1 = 1 - c(1 - p_1)$$\n接下来，我们求分子 $\\mathbb{P}(E_{\\le t_2} \\cap NC)$。这对应于“到 $t_2$ 为止发生事件且未被删失”的事件。这通过两种互斥的途径发生：\n1. 在 $[0, t_1]$ 区间内发生事件（事件 $E_1$）。根据定义，这些个体是完整病例集的一部分，并且他们发生了事件。其概率为 $\\mathbb{P}(E_1) = p_1$。\n2. 在 $t_1$ 时无事件、未被删失，并在 $(t_1, t_2]$ 区间内发生事件（事件 $E_1^c \\cap C^c \\cap E_2$）。其概率为 $\\mathbb{P}(E_1^c \\cap C^c \\cap E_2) = \\mathbb{P}(E_2 \\mid E_1^c \\cap C^c)\\mathbb{P}(C^c \\mid E_1^c)\\mathbb{P}(E_1^c)$。使用非信息性删失假设 $\\mathbb{P}(E_2 \\mid E_1^c \\cap C^c) = p_2$，此概率变为 $p_2(1-c)(1-p_1)$。\n将这些概率相加得到分子：\n$$\\mathbb{P}(E_{\\le t_2} \\cap NC) = p_1 + p_2(1 - c)(1 - p_1)$$\n结合分子和分母，我们得到完整病例风险的表达式：\n$$R^{\\mathrm{cc}}(t_2) = \\frac{p_1 + p_2(1 - c)(1 - p_1)}{1 - c(1 - p_1)}$$\n\n第3部分：偏倚 $B$ 的解释和量化。\n完整病例比例 $R^{\\mathrm{cc}}(t_2)$ 通常不等于真实风险 $R^{\\mathrm{true}}(t_2)$，因为它是基于一个经过选择的子群体计算的。“完整病例”是那些未被删失的个体。这个群体包括所有到 $t_1$ 为止发生事件的个体，加上在 $t_1$ 时无事件的个体中的一部分（比例为 $(1-c)$）。相比之下，被删失的群体完全由在 $t_1$ 时无事件的个体组成。因此，与原始目标人群相比，完整病例人群中早期（到 $t_1$ 为止）发生事件的个体比例更高。这种选择偏倚，具体来说是一种对撞因子分层偏倚（collider-stratification bias），夸大了分析样本中事件的比例，导致对真实风险的高估。\n\n我们将偏倚 $B$ 量化为完整病例估计值与真实风险之间的差值：\n$$B = R^{\\mathrm{cc}}(t_2) - R^{\\mathrm{true}}(t_2) = \\frac{p_1 + p_2(1 - c)(1 - p_1)}{1 - c(1 - p_1)} - (p_1 + p_2(1 - p_1))$$\n为了简化，我们通分：\n$$B = \\frac{p_1 + p_2(1-c)(1-p_1) - (p_1 + p_2(1-p_1))(1 - c(1-p_1))}{1 - c(1 - p_1)}$$\n展开分子中的项：\n$$(p_1 + p_2(1-p_1))(1 - c(1-p_1)) = p_1 + p_2(1-p_1) - p_1c(1-p_1) - p_2c(1-p_1)^2$$\n将其代回 $B$ 的表达式中：\n$$B = \\frac{p_1 + p_2(1-p_1) - p_2c(1-p_1) - [p_1 + p_2(1-p_1) - p_1c(1-p_1) - p_2c(1-p_1)^2]}{1 - c(1 - p_1)}$$\n项 $p_1$ 和 $p_2(1-p_1)$ 相互抵消：\n$$B = \\frac{-p_2c(1-p_1) + p_1c(1-p_1) + p_2c(1-p_1)^2}{1 - c(1 - p_1)}$$\n从分子中提出公因式 $c(1-p_1)$：\n$$B = \\frac{c(1-p_1)[-p_2 + p_1 + p_2(1-p_1)]}{1 - c(1 - p_1)}$$\n简化方括号中的项：\n$$-p_2 + p_1 + p_2 - p_1p_2 = p_1 - p_1p_2 = p_1(1-p_2)$$\n将其代回，得到偏倚的最终简化表达式：\n$$B = \\frac{c(1-p_1)p_1(1-p_2)}{1 - c(1-p_1)}$$\n由于 $p_1, p_2, c$ 都在区间 $(0, 1)$ 内，所以分子中的每一项 $c$、$p_1$、$(1-p_1)$ 和 $(1-p_2)$ 都是正数。分母 $1 - c(1 - p_1)$ 也是正数，因为 $c1$ 和 $(1-p_1)1$ 意味着 $c(1-p_1)  1$。因此，$B > 0$，这证实了完整病例分析会导致对风险的高估。",
            "answer": "$$\\boxed{\\frac{c p_1 (1 - p_1) (1 - p_2)}{1 - c(1 - p_1)}}$$"
        }
    ]
}