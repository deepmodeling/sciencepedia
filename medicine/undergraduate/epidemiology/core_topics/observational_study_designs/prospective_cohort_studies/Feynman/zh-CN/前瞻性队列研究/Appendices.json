{
    "hands_on_practices": [
        {
            "introduction": "分析前瞻性队列研究的第一步是衡量结局事件发生的频率。本练习侧重于计算发病密度（incidence density），这是一项衡量疾病发生率的基本指标。你将练习一项关键技能：通过精确处理动态队列研究中常见的交错进入和不同随访时间等复杂情况，来正确地计算每个研究对象的风险人时（person-time at risk）。",
            "id": "4624398",
            "problem": "一项前瞻性队列研究于日历时间 $t=0$ 开始，并在 $t=5$ 年时行政终止。个体在入组时未患有所研究的疾病，存在延迟入组（左删失），并因失访或无关死亡（视为右删失）而经历差异性随访。暴露状态在入组时确定，并在随访期间保持不变。感兴趣的事件是X疾病的首次新发诊断；一旦发生X疾病，该个体即停止贡献人时。对于每个个体，人时从入组时开始累积，直到发生X疾病、失访、无关死亡或在 $t=5$ 时行政终止这几者中最早发生的时间点为止。\n\n暴露组（记作 $E_i$）：\n- $E_1$：在 $t=0$ 时入组；在 $t=3.2$ 时新发X疾病。\n- $E_2$：在 $t=1.0$ 时入组；在 $t=4.5$ 时失访。\n- $E_3$：在 $t=0.5$ 时入组；在 $t=2.0$ 时新发X疾病。\n- $E_4$：在 $t=2.0$ 时入组；在 $t=4.0$ 时新发X疾病。\n- $E_5$：在 $t=1.7$ 时入组；在 $t=5.0$ 时行政删失。\n- $E_6$：在 $t=3.0$ 时入组；在 $t=4.2$ 时新发X疾病。\n\n非暴露组（记作 $U_i$）：\n- $U_1$：在 $t=0.2$ 时入组；在 $t=3.0$ 时新发X疾病。\n- $U_2$：在 $t=0.0$ 时入组；在 $t=2.5$ 时无关死亡。\n- $U_3$：在 $t=2.0$ 时入组；在 $t=5.0$ 时行政删失。\n- $U_4$：在 $t=1.2$ 时入组；在 $t=1.7$ 时新发X疾病。\n- $U_5$：在 $t=4.0$ 时入组；在 $t=4.6$ 时新发X疾病。\n- $U_6$：在 $t=3.5$ 时入组；在 $t=4.0$ 时失访。\n\n计算暴露组和非暴露组的发病密度。将每个发病密度以“病例/人年”为单位表示，并将您的答案四舍五入至四位有效数字。",
            "solution": "问题陈述描述了一项前瞻性队列研究，并提供了计算暴露组和非暴露组发病密度的数据。该问题基于标准的流行病学原理，提法明确，数据充分且一致，陈述客观。因此，该问题是有效的，并且可以计算出解。\n\n发病密度，也称为发生率，是在特定时期内风险人群中新发疾病病例发生速率的衡量指标。其计算方法是新发病例总数除以总观察人时。公式为：\n$$\n\\text{发病密度} = \\frac{\\text{新发病例数}}{\\text{总风险人时}}\n$$\n每个个体的人时计算为从其入组研究到经历感兴趣事件（新发X疾病）或被删失（由于失访、无关死亡或研究行政终止）的持续时间。设 $t_{entry}$ 为个体入组时间，$t_{exit}$ 为退出时间。该个体贡献的人时为 $t_{exit} - t_{entry}$。\n\n我们将分别计算暴露组和非暴露组的发病密度。\n\n**1. 暴露组的计算**\n\n首先，我们确定暴露组中X疾病的新发病例数。患病的个体是 $E_1$、$E_3$、$E_4$ 和 $E_6$。\n- 暴露组的病例数，$N_E = 4$。\n\n接下来，我们计算暴露组中所有个体贡献的总人时 $PT_E$。每个个体的贡献计算如下：\n- $E_1$：在 $t=0$ 时入组，因X疾病在 $t=3.2$ 时退出。人时 = $3.2 - 0.0 = 3.2$ 年。\n- $E_2$：在 $t=1.0$ 时入组，因失访在 $t=4.5$ 时退出。人时 = $4.5 - 1.0 = 3.5$ 年。\n- $E_3$：在 $t=0.5$ 时入组，因X疾病在 $t=2.0$ 时退出。人时 = $2.0 - 0.5 = 1.5$ 年。\n- $E_4$：在 $t=2.0$ 时入组，因X疾病在 $t=4.0$ 时退出。人时 = $4.0 - 2.0 = 2.0$ 年。\n- $E_5$：在 $t=1.7$ 时入组，因行政删失在 $t=5.0$ 时退出。人时 = $5.0 - 1.7 = 3.3$ 年。\n- $E_6$：在 $t=3.0$ 时入组，因X疾病在 $t=4.2$ 时退出。人时 = $4.2 - 3.0 = 1.2$ 年。\n\n暴露组的总人时是这些个体贡献的总和：\n$$\nPT_E = 3.2 + 3.5 + 1.5 + 2.0 + 3.3 + 1.2 = 14.7 \\text{ 人年}\n$$\n\n暴露组的发病密度 $ID_E$ 为：\n$$\nID_E = \\frac{N_E}{PT_E} = \\frac{4}{14.7} \\approx 0.2721088...\n$$\n四舍五入到四位有效数字，我们得到 $ID_E = 0.2721$ 病例/人年。\n\n**2. 非暴露组的计算**\n\n首先，我们确定非暴露组中X疾病的新发病例数。患病的个体是 $U_1$、$U_4$ 和 $U_5$。\n- 非暴露组的病例数，$N_U = 3$。\n\n接下来，我们计算非暴露组中所有个体贡献的总人时 $PT_U$。\n- $U_1$：在 $t=0.2$ 时入组，因X疾病在 $t=3.0$ 时退出。人时 = $3.0 - 0.2 = 2.8$ 年。\n- $U_2$：在 $t=0.0$ 时入组，因无关死亡在 $t=2.5$ 时退出。人时 = $2.5 - 0.0 = 2.5$ 年。\n- $U_3$：在 $t=2.0$ 时入组，因行政删失在 $t=5.0$ 时退出。人时 = $5.0 - 2.0 = 3.0$ 年。\n- $U_4$：在 $t=1.2$ 时入组，因X疾病在 $t=1.7$ 时退出。人时 = $1.7 - 1.2 = 0.5$ 年。\n- $U_5$：在 $t=4.0$ 时入组，因X疾病在 $t=4.6$ 时退出。人时 = $4.6 - 4.0 = 0.6$ 年。\n- $U_6$：在 $t=3.5$ 时入组，因失访在 $t=4.0$ 时退出。人时 = $4.0 - 3.5 = 0.5$ 年。\n\n非暴露组的总人时是这些个体贡献的总和：\n$$\nPT_U = 2.8 + 2.5 + 3.0 + 0.5 + 0.6 + 0.5 = 9.9 \\text{ 人年}\n$$\n\n非暴露组的发病密度 $ID_U$ 为：\n$$\nID_U = \\frac{N_U}{PT_U} = \\frac{3}{9.9} = \\frac{30}{99} = \\frac{10}{33} \\approx 0.303030...\n$$\n四舍五入到四位有效数字，我们得到 $ID_U = 0.3030$ 病例/人年。\n\n发病密度的最终结果，以病例/人年为单位表示并四舍五入至四位有效数字，暴露组为 $0.2721$，非暴露组为 $0.3030$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.2721  0.3030\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "虽然一个总体的发病率很有用，但研究者通常需要了解在研究期间，保持无事件状态的概率是如何随时间变化的。本练习将介绍生存分析的基石——Kaplan-Meier方法。通过这个练习，你将学习如何根据事件发生时间数据来构建生存曲线，并正确地整合来自删失（censored）个体的信息。",
            "id": "4624432",
            "problem": "一项前瞻性队列研究跟踪了 $10$ 名在基线时新入组的成年人，以估计最长 $5$ 年内心血管死亡的事件发生时间。每位参与者贡献一个以年为单位的事件发生时间测量值，对于失访或因研究行政终止的参与者进行右删失处理。假设满足标准的右删失条件：删失是独立的、非信息性的，并且事件时间是精确测量的，没有区间删失。\n\n观察到的随访时间和结果如下：\n- 参与者 $1$：时间 $0.7$，事件\n- 参与者 $2$：时间 $1.2$，删失\n- 参与者 $3$：时间 $1.6$，事件\n- 参与者 $4$：时间 $2.0$，删失\n- 参与者 $5$：时间 $2.5$，删失\n- 参与者 $6$：时间 $2.9$，事件\n- 参与者 $7$：时间 $3.0$，删失\n- 参与者 $8$：时间 $3.8$，事件\n- 参与者 $9$：时间 $4.5$，删失\n- 参与者 $10$：时间 $5.0$，删失\n\n仅使用以下基本定义：(i) 生存函数 $S(t)$ 等于生存超过时间 $t$ 的概率，(ii) 风险函数 $h(t)$ 描述了在仍然处于风险中的个体中的瞬时事件率，以及 (iii) 累积风险 $H(t)$ 通过 $S(t) = \\exp(-H(t))$ 与生存函数相关联，请使用 Kaplan-Meier (KM) 方法计算 $3$ 年生存概率，并将其与通过使用 $S_{\\text{NA}}(t) = \\exp(-\\widehat{H}_{\\text{NA}}(t))$ 转换 Nelson-Aalen (NA) 累积风险估计值得到的生存概率进行比较。\n\n请提供在 $t = 3$ 年时的具体数值。请精确表达您的最终答案：将 KM 生存概率表示为有理分数，将基于 NA 的生存概率表示为指数表达式。不要四舍五入。最终的方框答案中不应出现单位。",
            "solution": "用户希望使用来自一项前瞻性队列研究的数据，基于 Kaplan-Meier 和 Nelson-Aalen 方法，计算在 $t=3$ 年时的两个生存概率估计值。\n\n### 步骤 1：提取已知条件\n- 总参与者人数：$N=10$。\n- 最长随访时间：$5$ 年。\n- 数据为带右删失的事件发生时间数据。\n- 观测数据（时间，单位：年；状态）：\n    - 参与者 $1$：($0.7$，事件)\n    - 参与者 $2$：($1.2$，删失)\n    - 参与者 $3$：($1.6$，事件)\n    - 参与者 $4$：($2.0$，删失)\n    - 参与者 $5$：($2.5$，删失)\n    - 参与者 $6$：($2.9$，事件)\n    - 参与者 $7$：($3.0$，删失)\n    - 参与者 $8$：($3.8$，事件)\n    - 参与者 $9$：($4.5$，删失)\n    - 参与者 $10$：($5.0$，删失)\n- 定义：\n    - 生存函数：$S(t) = P(\\text{生存时间} > t)$。\n    - 风险函数：$h(t)$。\n    - 累积风险函数：$H(t) = \\int_0^t h(u)du$。\n    - 关系：$S(t) = \\exp(-H(t))$。\n- 任务：计算 Kaplan-Meier (KM) 生存概率 $\\widehat{S}_{\\text{KM}}(3)$ 和基于 Nelson-Aalen (NA) 的生存概率 $\\widehat{S}_{\\text{NA}}(3) = \\exp(-\\widehat{H}_{\\text{NA}}(3))$。\n\n### 步骤 2：使用提取的已知条件进行验证\n- **科学依据**：该问题基于生存分析中的基本、标准的非参数方法（Kaplan-Meier 和 Nelson-Aalen 估计量），这些是生物统计学和流行病学的核心主题。生存函数、风险函数和右删失的概念是公认的。该问题在科学上是合理的。\n- **适定性**：该问题提供了一个完整的数据集和使用明确定义的统计估计量计算两个特定量的清晰说明。存在唯一的解，并且可以直接从所提供的数据和定义中推导出。\n- **客观性**：语言精确且量化。它指定了要使用的方法和要求答案的确切形式，没有主观解释的余地。\n- **完整性和一致性**：数据充分且一致。参与者的数量及其结果已完全指定。没有矛盾之处。\n- **真实性**：该场景（一项关于心血管死亡率的小型队列研究）和数据作为该领域的说明性示例是合理的。\n\n### 步骤 3：结论与行动\n问题有效。我将继续进行解答。\n\n### 解题推导\n\n解决方案要求使用两种不同的非参数方法计算在时间 $t=3$ 年时的生存概率：Kaplan-Meier（乘积极限）估计量和从 Nelson-Aalen 累积风险估计量派生的生存估计。\n\n首先，我们必须通过对观察到的时间进行排序并识别出不同的事件时间来整理数据。唯一的事件时间是生存函数估计值发生变化的那些时间点。\n\n排序后的时间 ($T_i$) 和事件指示符 ($\\delta_i=1$ 表示事件, $\\delta_i=0$ 表示删失) 如下：\n$0.7$ ($\\delta=1$), $1.2$ ($\\delta=0$), $1.6$ ($\\delta=1$), $2.0$ ($\\delta=0$), $2.5$ ($\\delta=0$), $2.9$ ($\\delta=1$), $3.0$ ($\\delta=0$), $3.8$ ($\\delta=1$), $4.5$ ($\\delta=0$), $5.0$ ($\\delta=0$)。\n\n不同的事件时间是 $t_1=0.7$, $t_2=1.6$, $t_3=2.9$ 和 $t_4=3.8$。\n\n为了计算这两个估计量，我们构建一个生命表，跟踪在事件时间之间的区间内处于风险中的个体数量 ($n_i$)、事件数量 ($d_i$) 和删失数量 ($c_i$)。\n\n**1. Kaplan-Meier (KM) 生存估计**\n\n生存函数 $S(t)$ 的 Kaplan-Meier 估计量由乘积极限公式给出：\n$$ \\widehat{S}_{\\text{KM}}(t) = \\prod_{i: t_i \\leq t} \\left(1 - \\frac{d_i}{n_i}\\right) $$\n其中 $t_i$ 是不同的事件时间，$d_i$ 是在时间 $t_i$ 发生的事件数，而 $n_i$ 是在时间 $t_i$ 之前瞬间仍处于风险中（即尚未发生事件或被删失）的个体数量。\n\n我们需要计算 $\\widehat{S}_{\\text{KM}}(3)$。这涉及到考虑所有小于或等于 $3$ 的事件时间。这些时间是 $t_1=0.7$，$t_2=1.6$ 和 $t_3=2.9$。\n\n- **在事件时间 $t_1 = 0.7$ 时**：\n  - 所有 $10$ 名参与者都处于风险中。因此，$n_1 = 10$。\n  - 发生了一次事件。因此，$d_1 = 1$。\n  - 生存因子为 $1 - \\frac{d_1}{n_1} = 1 - \\frac{1}{10} = \\frac{9}{10}$。\n\n- **在事件时间 $t_2 = 1.6$ 时**：\n  - 为了找到风险人数 $n_2$，我们从 $10$ 名参与者开始，减去在 $t_2$ 之前发生事件或被删失的人。\n  - 在 $t=0.7$ 时发生了一次事件。在 $t=1.2$ 时有一名参与者被删失。\n  - 因此，风险人数为 $n_2 = 10 - 1 - 1 = 8$。\n  - 在 $t=1.6$ 时发生了一次事件。因此，$d_2 = 1$。\n  - 生存因子为 $1 - \\frac{d_2}{n_2} = 1 - \\frac{1}{8} = \\frac{7}{8}$。\n\n- **在事件时间 $t_3 = 2.9$ 时**：\n  - 为了找到风险人数 $n_3$，我们从 $t_2=1.6$ 之前的 $8$ 名风险个体开始，减去在 $t=1.6$ 和 $t=2.9$ 之间发生事件或被删失的人。\n  - 在 $t=1.6$ 时发生了一次事件。在 $t=2.0$ 和 $t=2.5$ 时有两名参与者被删失。\n  - 因此，风险人数为 $n_3 = 8 - 1 - 2 = 5$。\n  - 在 $t=2.9$ 时发生了一次事件。因此，$d_3 = 1$。\n  - 生存因子为 $1 - \\frac{d_3}{n_3} = 1 - \\frac{1}{5} = \\frac{4}{5}$。\n\n下一次事件发生在 $t_4=3.8$，大于 $3$。KM 估计是一个阶梯函数，在事件时间之间是恒定的。因此，$\\widehat{S}_{\\text{KM}}(3)$ 是在时间 $3$ 或之前最后一次事件（即在 $t=2.9$ 时的事件）之后的生存函数值。\n\n我们通过将所有直到 $t=3$ 的事件时间的生存因子相乘来计算 $\\widehat{S}_{\\text{KM}}(3)$：\n$$ \\widehat{S}_{\\text{KM}}(3) = \\left(1 - \\frac{1}{10}\\right) \\times \\left(1 - \\frac{1}{8}\\right) \\times \\left(1 - \\frac{1}{5}\\right) $$\n$$ \\widehat{S}_{\\text{KM}}(3) = \\frac{9}{10} \\times \\frac{7}{8} \\times \\frac{4}{5} = \\frac{9 \\times 7 \\times 4}{10 \\times 8 \\times 5} = \\frac{252}{400} $$\n化简分数：\n$$ \\widehat{S}_{\\text{KM}}(3) = \\frac{63}{100} $$\n\n**2. 基于 Nelson-Aalen (NA) 的生存估计**\n\n累积风险函数 $H(t)$ 的 Nelson-Aalen 估计量由下式给出：\n$$ \\widehat{H}_{\\text{NA}}(t) = \\sum_{i: t_i \\leq t} \\frac{d_i}{n_i} $$\n使用与 KM 计算中相同的 $t_i$、$d_i$ 和 $n_i$ 值，我们将所有小于或等于 $3$ 的事件时间的风险贡献相加。\n\n$$ \\widehat{H}_{\\text{NA}}(3) = \\frac{d_1}{n_1} + \\frac{d_2}{n_2} + \\frac{d_3}{n_3} $$\n$$ \\widehat{H}_{\\text{NA}}(3) = \\frac{1}{10} + \\frac{1}{8} + \\frac{1}{5} $$\n为了将这些分数相加，我们找到一个公分母，即 $40$。\n$$ \\widehat{H}_{\\text{NA}}(3) = \\frac{4}{40} + \\frac{5}{40} + \\frac{8}{40} = \\frac{17}{40} $$\n问题要求通过使用关系式 $S(t) = \\exp(-H(t))$ 转换此累积风险估计值来获得生存概率。\n$$ \\widehat{S}_{\\text{NA}}(t) = \\exp(-\\widehat{H}_{\\text{NA}}(t)) $$\n代入 $t=3$ 时的值：\n$$ \\widehat{S}_{\\text{NA}}(3) = \\exp\\left(-\\frac{17}{40}\\right) $$\n\n问题要求将结果表示为 KM 估计的有理分数和基于 NA 估计的指数表达式。\n\n计算出的两个值是：\n- 3 年时的 Kaplan-Meier 生存率：$\\widehat{S}_{\\text{KM}}(3) = \\frac{63}{100}$\n- 3 年时基于 Nelson-Aalen 的生存率：$\\widehat{S}_{\\text{NA}}(3) = \\exp\\left(-\\frac{17}{40}\\right)$",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\frac{63}{100}  \\exp\\left(-\\frac{17}{40}\\right)\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "真实世界的队列研究常常面临竞争风险（competing risks）的挑战，即研究对象可能经历其他事件，从而妨碍了目标结局的发生。在这种情况下，标准的Kaplan-Meier方法可能会产生误导性的绝对风险估计。本练习旨在挑战你识别这种情况，并应用正确的分析工具——累积发生函数（cumulative incidence function, CIF），以便在存在竞争事件时准确估计事件的发生概率。",
            "id": "4624467",
            "problem": "一个包含 $N=10{,}000$ 名成年人的前瞻性队列被随访 $5$ 年，以研究一种目标疾病（事件类型 $A$）。在患上该疾病前因其他原因死亡是一个竞争事件（事件类型 $B$）。行政删失发生在 $5$ 年时，且独立于事件过程。研究人员希望估计在 $t=3$ 年时患上该疾病的绝对概率。\n\n假设两种事件类型的特定原因风险函数随时间分段恒定：\n- 对于 $0 \\le t  2$ 年：$\\lambda_A(t)=0.05$ 每年，$\\lambda_B(t)=0.02$ 每年。\n- 对于 $2 \\le t \\le 5$ 年：$\\lambda_A(t)=0.02$ 每年，$\\lambda_B(t)=0.03$ 每年。\n\n选择一个选项，该选项正确地指出了在何种情况下应优先使用累积发生函数 (CIF) 而非 Kaplan-Meier (KM) 方法，并给出了在存在竞争风险的情况下，根据给定的特定原因风险计算出的事件 $A$ 的 $3$ 年概率的正确数值（保留三位小数）。\n\nA. 当存在竞争风险且估计量为到时间 $t$ 时某一特定事件的绝对概率时，应使用 CIF，因为在 Kaplan-Meier 方法中将其他事件类型视为删失会高估风险。事件 $A$ 的 $3$ 年概率约为 $0.110$。\n\nB. 无论是否存在竞争风险，如果将竞争事件视为删失，Kaplan-Meier 方法都是合适的。事件 $A$ 的 $3$ 年概率为 $1-\\exp\\!\\big(-[0.05 \\times 2 + 0.02 \\times 1]\\big)\\approx 0.113$。\n\nC. 仅当风险在所有时间内恒定时，CIF 才适用；否则，应通过 $\\int_0^3 \\lambda_A(u)\\,\\mathrm{d}u = 0.12$ 来近似事件 $A$ 的 $3$ 年概率。\n\nD. 当任何事件都会阻止疾病发生时，CIF 是不必要的；事件 $A$ 的 $3$ 年概率为 $1-\\exp\\!\\big(-[(0.05+0.02)\\times 2 + (0.02+0.03)\\times 1]\\big)\\approx 0.173$。",
            "solution": "首先验证问题陈述，以确保其科学上合理、良构且客观。\n\n### 步骤 1：提取已知条件\n- 研究设计：前瞻性队列研究。\n- 初始队列规模：$N=10{,}000$。\n- 随访持续时间：$5$ 年。\n- 关注事件：疾病，类型 $A$。\n- 竞争事件：因其他原因死亡，类型 $B$。\n- 删失：$t=5$ 年时行政删失。\n- 关注的估计量：到 $t=3$ 年时患上该疾病的绝对概率。\n- 事件 $A$ 的特定原因风险函数，$\\lambda_A(t)$：\n  - 对于 $0 \\le t  2$ 年，$\\lambda_A(t)=0.05$ 每年。\n  - 对于 $2 \\le t \\le 5$ 年，$\\lambda_A(t)=0.02$ 每年。\n- 事件 $B$ 的特定原因风险函数，$\\lambda_B(t)$：\n  - 对于 $0 \\le t  2$ 年，$\\lambda_B(t)=0.02$ 每年。\n  - 对于 $2 \\le t \\le 5$ 年，$\\lambda_B(t)=0.03$ 每年。\n\n### 步骤 2：使用提取的已知条件进行验证\n该问题描述了生存分析中的一个经典竞争风险情景，这是生物统计学和流行病学中的一个标准课题。\n- **科学依据：** 前瞻性队列研究、竞争风险、特定原因风险和累积发生率等概念是该领域基本且成熟的概念。使用分段常数风险函数是一种常见且有效的建模方法。\n- **良构性：** 计算所需概率的所有必要信息，特别是所有事件在关注时间区间（$[0, 3]$ 年）内的特定原因风险函数，均已提供。存在一个唯一的、有意义的解。队列规模 $N=10{,}000$ 对于概率计算是无关信息，但不会引入矛盾。\n- **客观性：** 问题以精确、定量的语言陈述，没有歧义或主观论断。\n\n问题陈述没有科学不合理、不完整、矛盾和歧义之处。它是一个有效的、良构的问题。\n\n### 步骤 3：结论与行动\n问题有效。将推导解答。\n\n### 正确答案的推导\n\n问题要求在存在竞争事件（事件 $B$）的情况下，到 $t=3$ 年时发生疾病（事件 $A$）的绝对概率。这个量是事件 $A$ 的**累积发生函数 (Cumulative Incidence Function, CIF)**，记为 $I_A(t)$。\n\nCIF 定义为关注事件的特定原因风险 $\\lambda_A(t)$ 乘以总生存概率 $S(t)$ 的积分。总生存概率 $S(t)$ 是指到时间 $t$ 为止未发生*任何*事件（A 或 B）的概率。\n\n首先，我们将总风险率 $\\lambda_{all}(t)$ 定义为所有特定原因风险率的总和：\n$$ \\lambda_{all}(t) = \\lambda_A(t) + \\lambda_B(t) $$\n那么总生存函数 $S(t)$ 由下式给出：\n$$ S(t) = \\exp\\left(-\\int_0^t \\lambda_{all}(u) \\, \\mathrm{d}u\\right) $$\n事件 $A$ 在时间 $t$ 的 CIF 为：\n$$ I_A(t) = P(T \\le t, \\text{Event}=A) = \\int_0^t \\lambda_A(u) S(u) \\, \\mathrm{d}u $$\n由于风险函数是分段常数，我们必须在 $t=2$ 处分割积分。\n$$ I_A(3) = \\int_0^2 \\lambda_A(u) S(u) \\, \\mathrm{d}u + \\int_2^3 \\lambda_A(u) S(u) \\, \\mathrm{d}u $$\n\n**区间 1：$0 \\le t  2$ 年**\n特定原因风险为 $\\lambda_A(t) = 0.05$ 和 $\\lambda_B(t) = 0.02$。\n总风险为 $\\lambda_{all}(t) = 0.05 + 0.02 = 0.07$。\n对于此区间内的 $t$，总生存函数为：\n$$ S(t) = \\exp\\left(-\\int_0^t 0.07 \\, \\mathrm{d}u\\right) = \\exp(-0.07t) $$\n此区间对 CIF 的贡献为：\n$$ \\int_0^2 \\lambda_A(u) S(u) \\, \\mathrm{d}u = \\int_0^2 0.05 \\exp(-0.07u) \\, \\mathrm{d}u $$\n$$ = 0.05 \\left[ \\frac{\\exp(-0.07u)}{-0.07} \\right]_0^2 = -\\frac{0.05}{0.07} (\\exp(-0.07 \\times 2) - \\exp(0)) = \\frac{5}{7} (1 - \\exp(-0.14)) $$\n\n**区间 2：$2 \\le t \\le 5$ 年**\n特定原因风险为 $\\lambda_A(t) = 0.02$ 和 $\\lambda_B(t) = 0.03$。\n总风险为 $\\lambda_{all}(t) = 0.02 + 0.03 = 0.05$。\n对于 $t \\ge 2$，总生存函数为：\n$$ S(t) = S(2) \\times \\exp\\left(-\\int_2^t 0.05 \\, \\mathrm{d}u\\right) $$\n首先，我们使用第一个区间的参数求出 $S(2)$：\n$$ S(2) = \\exp(-0.07 \\times 2) = \\exp(-0.14) $$\n因此，对于 $t \\ge 2$，生存函数为 $S(t) = \\exp(-0.14) \\exp(-0.05(t-2))$。\n区间 $[2, 3]$ 对 CIF 的贡献为：\n$$ \\int_2^3 \\lambda_A(u) S(u) \\, \\mathrm{d}u = \\int_2^3 0.02 \\exp(-0.14) \\exp(-0.05(u-2)) \\, \\mathrm{d}u $$\n$$ = 0.02 \\exp(-0.14) \\int_2^3 \\exp(-0.05(u-2)) \\, \\mathrm{d}u $$\n$$ = 0.02 \\exp(-0.14) \\left[ \\frac{\\exp(-0.05(u-2))}{-0.05} \\right]_2^3 $$\n$$ = -\\frac{0.02}{0.05} \\exp(-0.14) (\\exp(-0.05(3-2)) - \\exp(-0.05(2-2))) $$\n$$ = -0.4 \\exp(-0.14) (\\exp(-0.05) - 1) = 0.4 \\exp(-0.14) (1 - \\exp(-0.05)) $$\n\n**$t=3$ 年时的总累积发生率**\n我们将两部分相加：\n$$ I_A(3) = \\frac{5}{7} (1 - \\exp(-0.14)) + 0.4 \\exp(-0.14) (1 - \\exp(-0.05)) $$\n现在，我们计算数值：\n$$ \\exp(-0.14) \\approx 0.869358 $$\n$$ \\exp(-0.05) \\approx 0.951229 $$\n$$ I_A(3) \\approx \\frac{5}{7} (1 - 0.869358) + 0.4(0.869358)(1 - 0.951229) $$\n$$ I_A(3) \\approx \\frac{5}{7} (0.130642) + 0.4(0.869358)(0.048771) $$\n$$ I_A(3) \\approx 0.093316 + 0.016935 \\approx 0.110251 $$\n保留三位小数，事件 $A$ 的 $3$ 年概率为 $0.110$。\n\n### 选项评估\n\n**A. 当存在竞争风险且估计量为到时间 $t$ 时某一特定事件的绝对概率时，应使用 CIF，因为在 Kaplan-Meier 方法中将其他事件类型视为删失会高估风险。事件 $A$ 的 $3$ 年概率约为 $0.110$。**\n- **理由：** 概念部分完全正确。在竞争风险设置中，CIF 是绝对风险的正确估计量。标准的 Kaplan-Meier (KM) 方法，如果通过将竞争事件视为删失来幼稚地使用，它估计的是在一个假设竞争风险被消除的情景中的风险。因为 KM 方法没有考虑因竞争事件而从风险池中移除的受试者，所以它会导致对关注事件概率的高估。数值计算与我们推导出的值 $I_A(3) \\approx 0.110$ 相符。\n- **结论：** 正确。\n\n**B. 无论是否存在竞争风险，如果将竞争事件视为删失，Kaplan-Meier 方法都是合适的。事件 $A$ 的 $3$ 年概率为 $1-\\exp\\!\\big(-[0.05 \\times 2 + 0.02 \\times 1]\\big)\\approx 0.113$。**\n- **理由：** 理论主张是错误的。在存在竞争风险的情况下，幼稚的 KM 方法不适用于估计绝对风险。所示的计算是 $1 - \\exp(-\\int_0^3 \\lambda_A(u)\\,\\mathrm{d}u)$，这是在没有竞争事件的情况下的风险。积分为 $\\int_0^2 0.05\\,\\mathrm{d}u + \\int_2^3 0.02\\,\\mathrm{d}u = 0.10 + 0.02 = 0.12$。对于这个错误的量，其值 $1-\\exp(-0.12) \\approx 0.113$ 计算是正确的。\n- **结论：** 错误。\n\n**C. 仅当风险在所有时间内恒定时，CIF 才适用；否则，应通过 $\\int_0^3 \\lambda_A(u)\\,\\mathrm{d}u = 0.12$ 来近似事件 $A$ 的 $3$ 年概率。**\n- **理由：** 第一个前提是错误的；CIF 方法是通用的，不限于恒定风险。第二个前提也是错误的；特定原因风险的积分 $\\int \\lambda_A(u)\\,\\mathrm{d}u$ 是累积特定原因风险，而不是概率 (CIF)。这个量忽略了由于所有事件（包括竞争事件）导致风险人群的减少。积分的计算是正确的（$\\int_0^3 \\lambda_A(u) \\, \\mathrm{d}u = 0.12$），但它不代表所求的概率。\n- **结论：** 错误。\n\n**D. 当任何事件都会阻止疾病发生时，CIF 是不必要的；事件 $A$ 的 $3$ 年概率为 $1-\\exp\\!\\big(-[(0.05+0.02)\\times 2 + (0.02+0.03)\\times 1]\\big)\\approx 0.173$。**\n- **理由：** 前提“当任何事件都会阻止疾病发生时，CIF 是不必要的”正是竞争风险设置的定义，而这恰恰是需要 CIF 的地方。该陈述是颠倒的，因此是错误的。所示的计算是 $1-S(3) = 1-\\exp(-\\int_0^3 \\lambda_{all}(u)\\,\\mathrm{d}u)$。积分为 $\\int_0^2 0.07\\,\\mathrm{d}u + \\int_2^3 0.05\\,\\mathrm{d}u = 0.14 + 0.05 = 0.19$。对于这个量，其值 $1-\\exp(-0.19) \\approx 0.173$ 计算是正确的。然而，这是发生*任何*事件（A 或 B）的概率，而不是特指事件 A 的概率。\n- **结论：** 错误。",
            "answer": "$$\\boxed{A}$$"
        }
    ]
}