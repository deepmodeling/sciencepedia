{
    "hands_on_practices": [
        {
            "introduction": "在前瞻性队列研究中，最基本的任务之一是量化疾病发生的频率。发病密度（或称发病率）是衡量新发病例在风险人群中出现速度的关键指标。这个实践练习将指导你如何在一个动态队列中计算发病密度，该队列模拟了真实世界研究中常见的复杂情况，例如个体在不同时间点加入研究（延迟进入）以及因失访或无关原因死亡而导致随访时间不等（删失）。通过这个练习，你将掌握计算“人时”（person-time）这一核心技能，它是准确估计发病率的基础。",
            "id": "4624398",
            "problem": "一项前瞻性队列研究在日历时间 $t=0$ 开始，并在 $t=5$ 年时行政终止。个体在入组时未患有目标疾病，存在延迟入组（左删失），并因失访或无关死亡（视为右删失）而经历差异性随访。暴露状态在入组时确定，并在随访期间保持不变。感兴趣的事件是X病的首次新发诊断；一旦发生X病，该个体停止贡献人时。对每个个体而言，人时从入组开始累积，直到发生X病、失访、无关死亡或在 $t=5$ 时行政终止中的最早者为止。\n\n暴露组（记为 $E_i$）：\n- $E_1$：于 $t=0$ 时入组；于 $t=3.2$ 时新发X病。\n- $E_2$：于 $t=1.0$ 时入组；于 $t=4.5$ 时失访。\n- $E_3$：于 $t=0.5$ 时入组；于 $t=2.0$ 时新发X病。\n- $E_4$：于 $t=2.0$ 时入组；于 $t=4.0$ 时新发X病。\n- $E_5$：于 $t=1.7$ 时入组；于 $t=5.0$ 时行政删失。\n- $E_6$：于 $t=3.0$ 时入组；于 $t=4.2$ 时新发X病。\n\n非暴露组（记为 $U_i$）：\n- $U_1$：于 $t=0.2$ 时入组；于 $t=3.0$ 时新发X病。\n- $U_2$：于 $t=0.0$ 时入组；于 $t=2.5$ 时因无关原因死亡。\n- $U_3$：于 $t=2.0$ 时入组；于 $t=5.0$ 时行政删失。\n- $U_4$：于 $t=1.2$ 时入组；于 $t=1.7$ 时新发X病。\n- $U_5$：于 $t=4.0$ 时入组；于 $t=4.6$ 时新发X病。\n- $U_6$：于 $t=3.5$ 时入组；于 $t=4.0$ 时失访。\n\n计算暴露组和非暴露组的发病密度。将每个发病密度以“例/人年”为单位表示，并将您的答案四舍五入到四位有效数字。",
            "solution": "问题陈述描述了一项前瞻性队列研究，并提供了计算暴露组和非暴露组发病密度的数据。该问题在科学上基于标准的流行病学原理，问题提出得当，数据充分且一致，陈述客观。因此，该问题是有效的，可以计算出解决方案。\n\n发病密度，也称为发病率，是在特定时期内风险人群中新发疾病病例发生速率的衡量标准。它的计算方法是新发病例总数除以总观察人时。公式为：\n$$\n\\text{Incidence Density} = \\frac{\\text{Number of new cases}}{\\text{Total person-time at risk}}\n$$\n每个个体的人时计算为从他们入组到经历感兴趣事件（新发X病）或被删失（由于失访、无关死亡或研究的行政终止）的持续时间。设 $t_{entry}$ 为个体入组时间，$t_{exit}$ 为退出时间。该个体贡献的人时为 $t_{exit} - t_{entry}$。\n\n我们将分别计算暴露组和非暴露组的发病密度。\n\n**1. 暴露组的计算**\n\n首先，我们确定暴露组中X病的新发病例数。患病的个体是 $E_1$、$E_3$、$E_4$ 和 $E_6$。\n- 暴露组的病例数，$N_E = 4$。\n\n接下来，我们计算暴露组中所有个体贡献的总人时，$PT_E$。每个个体的贡献计算如下：\n- $E_1$：于 $t=0$ 时入组，因X病于 $t=3.2$ 时退出。人时 = $3.2 - 0.0 = 3.2$ 年。\n- $E_2$：于 $t=1.0$ 时入组，因失访于 $t=4.5$ 时退出。人时 = $4.5 - 1.0 = 3.5$ 年。\n- $E_3$：于 $t=0.5$ 时入组，因X病于 $t=2.0$ 时退出。人时 = $2.0 - 0.5 = 1.5$ 年。\n- $E_4$：于 $t=2.0$ 时入组，因X病于 $t=4.0$ 时退出。人时 = $4.0 - 2.0 = 2.0$ 年。\n- $E_5$：于 $t=1.7$ 时入组，因行政删失于 $t=5.0$ 时退出。人时 = $5.0 - 1.7 = 3.3$ 年。\n- $E_6$：于 $t=3.0$ 时入组，因X病于 $t=4.2$ 时退出。人时 = $4.2 - 3.0 = 1.2$ 年。\n\n暴露组的总人时是这些个体贡献的总和：\n$$\nPT_E = 3.2 + 3.5 + 1.5 + 2.0 + 3.3 + 1.2 = 14.7 \\text{ person-years}\n$$\n\n暴露组的发病密度 $ID_E$ 为：\n$$\nID_E = \\frac{N_E}{PT_E} = \\frac{4}{14.7} \\approx 0.2721088...\n$$\n四舍五入到四位有效数字，我们得到 $ID_E = 0.2721$ 例/人年。\n\n**2. 非暴露组的计算**\n\n首先，我们确定非暴露组中X病的新发病例数。患病的个体是 $U_1$、$U_4$ 和 $U_5$。\n- 非暴露组的病例数，$N_U = 3$。\n\n接下来，我们计算非暴露组中所有个体贡献的总人时，$PT_U$。\n- $U_1$：于 $t=0.2$ 时入组，因X病于 $t=3.0$ 时退出。人时 = $3.0 - 0.2 = 2.8$ 年。\n- $U_2$：于 $t=0.0$ 时入组，因无关死亡于 $t=2.5$ 时退出。人时 = $2.5 - 0.0 = 2.5$ 年。\n- $U_3$：于 $t=2.0$ 时入组，因行政删失于 $t=5.0$ 时退出。人时 = $5.0 - 2.0 = 3.0$ 年。\n- $U_4$：于 $t=1.2$ 时入组，因X病于 $t=1.7$ 时退出。人时 = $1.7 - 1.2 = 0.5$ 年。\n- $U_5$：于 $t=4.0$ 时入组，因X病于 $t=4.6$ 时退出。人时 = $4.6 - 4.0 = 0.6$ 年。\n- $U_6$：于 $t=3.5$ 时入组，因失访于 $t=4.0$ 时退出。人时 = $4.0 - 3.5 = 0.5$ 年。\n\n非暴露组的总人时是这些个体贡献的总和：\n$$\nPT_U = 2.8 + 2.5 + 3.0 + 0.5 + 0.6 + 0.5 = 9.9 \\text{ person-years}\n$$\n\n非暴露组的发病密度 $ID_U$ 为：\n$$\nID_U = \\frac{N_U}{PT_U} = \\frac{3}{9.9} = \\frac{30}{99} = \\frac{10}{33} \\approx 0.303030...\n$$\n四舍五入到四位有效数字，我们得到 $ID_U = 0.3030$ 例/人年。\n\n最终结果，以例/人年表示并四舍五入到四位有效数字，暴露组的发病密度为 $0.2721$，非暴露组的发病密度为 $0.3030$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.2721  0.3030\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "虽然发病密度提供了一个总体的平均速率，但研究者通常更关心在特定时间段内保持无病状态的概率。生存分析（survival analysis）正是解决这一问题的强大工具，它能够描绘出随时间推移的事件风险。本练习将引导你使用两种经典的非参数方法——Kaplan-Meier (KM) 估计和 Nelson-Aalen (NA) 估计——来处理含有删失数据的队列研究资料，并估计生存函数。通过比较这两种方法，你将更深入地理解如何从“事件发生时间”数据中提炼出关于生存概率的动态信息。",
            "id": "4624432",
            "problem": "一项前瞻性队列研究对基线时新招募的 $10$ 名成年人进行了最长 $5$ 年的随访，以估计心血管死亡的事件发生时间。每位参与者贡献一个以年为单位的事件发生时间测量值，对于失访或因研究行政终止而删失的个体，数据进行右删失处理。假设满足标准的右删失条件：删失是独立的、非信息性的，并且事件时间是精确测量的，没有区间删失。\n\n观察到的随访时间和结果如下：\n- 参与者 $1$：时间 $0.7$，事件\n- 参与者 $2$：时间 $1.2$，删失\n- 参与者 $3$：时间 $1.6$，事件\n- 参与者 $4$：时间 $2.0$，删失\n- 参与者 $5$：时间 $2.5$，删失\n- 参与者 $6$：时间 $2.9$，事件\n- 参与者 $7$：时间 $3.0$，删失\n- 参与者 $8$：时间 $3.8$，事件\n- 参与者 $9$：时间 $4.5$，删失\n- 参与者 $10$：时间 $5.0$，删失\n\n仅使用以下基本定义：(i) 生存函数 $S(t)$ 等于生存时间超过 $t$ 的概率，(ii) 风险函数 $h(t)$ 描述了在仍处于风险中的个体中事件发生的瞬时速率，以及 (iii) 累积风险 $H(t)$ 通过 $S(t) = \\exp(-H(t))$ 与生存函数相关联，请用 Kaplan-Meier (KM) 方法计算 $3$ 年生存概率，并将其与通过变换 Nelson-Aalen (NA) 累积风险估计量得到的生存概率 $S_{\\text{NA}}(t) = \\exp(-\\widehat{H}_{\\text{NA}}(t))$ 进行比较。\n\n请给出在 $t = 3$ 年时的这两个具体值。请精确地表达你的最终答案：将 KM 生存概率表示为有理分数，将基于 NA 的生存概率表示为指数表达式。不要四舍五入。最终的方框答案中不应出现单位。",
            "solution": "用户希望使用来自一项前瞻性队列研究的数据，基于 Kaplan-Meier 和 Nelson-Aalen 方法，计算 $t=3$ 年时的两种生存概率估计值。\n\n### 步骤 1：提取已知条件\n- 参与者总数：$N=10$。\n- 最长随访时间：$5$ 年。\n- 数据为带有右删失的事件发生时间数据。\n- 观测数据（时间，单位：年；状态）：\n    - 参与者 $1$：（$0.7$，事件）\n    - 参与者 $2$：（$1.2$，删失）\n    - 参与者 $3$：（$1.6$，事件）\n    - 参与者 $4$：（$2.0$，删失）\n    - 参与者 $5$：（$2.5$，删失）\n    - 参与者 $6$：（$2.9$，事件）\n    - 参与者 $7$：（$3.0$，删失）\n    - 参与者 $8$：（$3.8$，事件）\n    - 参与者 $9$：（$4.5$，删失）\n    - 参与者 $10$：（$5.0$，删失）\n- 定义：\n    - 生存函数：$S(t) = P(\\text{生存时间} > t)$。\n    - 风险函数：$h(t)$。\n    - 累积风险函数：$H(t) = \\int_0^t h(u)du$。\n    - 关系式：$S(t) = \\exp(-H(t))$。\n- 任务：计算 Kaplan-Meier (KM) 生存概率 $\\widehat{S}_{\\text{KM}}(3)$ 和基于 Nelson-Aalen (NA) 的生存概率 $\\widehat{S}_{\\text{NA}}(3) = \\exp(-\\widehat{H}_{\\text{NA}}(3))$。\n\n### 步骤 2：使用提取的已知条件进行验证\n- **科学依据**：该问题基于生存分析中的基本、标准的非参数方法（Kaplan-Meier 和 Nelson-Aalen 估计量），这些是生物统计学和流行病学的核心课题。生存函数、风险函数和右删失的概念是公认的。该问题在科学上是合理的。\n- **适定性**：该问题提供了一个完整的数据集和清晰的指令，要求使用明确定义的统计估计量计算两个特定量。存在唯一的解，并且可以直接从所提供的数据和定义中推导出来。\n- **客观性**：语言精确且量化。它指定了要使用的方法和所需答案的确切形式，没有主观解释的余地。\n- **完整性和一致性**：数据是充分且一致的。参与者的数量及其结果都已完全指定。没有矛盾之处。\n- **真实性**：该场景（一项关于心血管死亡率的小型队列研究）和数据对于该领域的说明性示例是合理的。\n\n### 步骤 3：结论与行动\n该问题是有效的。我将继续进行解答。\n\n### 解题推导\n\n解答需要使用两种不同的非参数方法计算在时间 $t=3$ 年时的生存概率：Kaplan-Meier（乘积极限）估计量和从 Nelson-Aalen 累积风险估计量派生的生存估计。\n\n首先，我们必须通过对观察到的时间进行排序并识别出不同的事件时间来整理数据。唯一的事件时间是生存函数估计值发生变化的那些时间点。\n\n排序后的时间（$T_i$）和事件指示符（$\\delta_i=1$ 表示事件，$\\delta_i=0$ 表示删失）如下：\n$0.7$ ($\\delta=1$), $1.2$ ($\\delta=0$), $1.6$ ($\\delta=1$), $2.0$ ($\\delta=0$), $2.5$ ($\\delta=0$), $2.9$ ($\\delta=1$), $3.0$ ($\\delta=0$), $3.8$ ($\\delta=1$), $4.5$ ($\\delta=0$), $5.0$ ($\\delta=0$)。\n\n不同的事件时间为 $t_1=0.7$、$t_2=1.6$、$t_3=2.9$ 和 $t_4=3.8$。\n\n为了计算这两个估计量，我们构建一个生命表，用于追踪在事件时间之间的区间内处于风险中的个体数量（$n_i$）、事件数量（$d_i$）和删失数量（$c_i$）。\n\n**1. Kaplan-Meier (KM) 生存估计**\n\n生存函数 $S(t)$ 的 Kaplan-Meier 估计量由乘积极限公式给出：\n$$ \\widehat{S}_{\\text{KM}}(t) = \\prod_{i: t_i \\leq t} \\left(1 - \\frac{d_i}{n_i}\\right) $$\n其中 $t_i$ 是不同的事件时间，$d_i$ 是在时间 $t_i$ 发生的事件数，而 $n_i$ 是在时间 $t_i$ 之前仍处于风险中（尚未发生事件或被删失）的个体数量。\n\n我们需要计算 $\\widehat{S}_{\\text{KM}}(3)$。这涉及到考虑所有小于或等于 $3$ 的事件时间。这些时间是 $t_1=0.7$、$t_2=1.6$ 和 $t_3=2.9$。\n\n- **在事件时间 $t_1 = 0.7$ 时**：\n  - 所有 $10$ 名参与者都处于风险中。因此，$n_1 = 10$。\n  - 发生一个事件。因此，$d_1 = 1$。\n  - 生存因子为 $1 - \\frac{d_1}{n_1} = 1 - \\frac{1}{10} = \\frac{9}{10}$。\n\n- **在事件时间 $t_2 = 1.6$ 时**：\n  - 为了找到处于风险中的人数 $n_2$，我们从 $10$ 名参与者开始，减去在 $t_2$ 之前发生事件或被删失的人。\n  - 在 $t=0.7$ 时发生了一个事件。在 $t=1.2$ 时有一名参与者被删失。\n  - 因此，处于风险中的人数为 $n_2 = 10 - 1 - 1 = 8$。\n  - 在 $t=1.6$ 时发生一个事件。因此，$d_2 = 1$。\n  - 生存因子为 $1 - \\frac{d_2}{n_2} = 1 - \\frac{1}{8} = \\frac{7}{8}$。\n\n- **在事件时间 $t_3 = 2.9$ 时**：\n  - 为了找到处于风险中的人数 $n_3$，我们从 $t_2=1.6$ 之前处于风险中的 $8$ 个人开始，减去在 $t=1.6$ 和 $t=2.9$ 之间发生事件或被删失的人。\n  - 在 $t=1.6$ 时发生了一个事件。在 $t=2.0$ 和 $t=2.5$ 时有两名参与者被删失。\n  - 因此，处于风险中的人数为 $n_3 = 8 - 1 - 2 = 5$。\n  - 在 $t=2.9$ 时发生一个事件。因此，$d_3 = 1$。\n  - 生存因子为 $1 - \\frac{d_3}{n_3} = 1 - \\frac{1}{5} = \\frac{4}{5}$。\n\n下一个事件发生在 $t_4=3.8$，大于 $3$。KM 估计是一个阶梯函数，在事件时间之间是恒定的。因此，$\\widehat{S}_{\\text{KM}}(3)$ 是在时间 $3$ 或之前最后一次事件（即在 $t=2.9$ 的事件）之后的生存函数值。\n\n我们通过将截至 $t=3$ 的所有事件时间的生存因子相乘来计算 $\\widehat{S}_{\\text{KM}}(3)$：\n$$ \\widehat{S}_{\\text{KM}}(3) = \\left(1 - \\frac{1}{10}\\right) \\times \\left(1 - \\frac{1}{8}\\right) \\times \\left(1 - \\frac{1}{5}\\right) $$\n$$ \\widehat{S}_{\\text{KM}}(3) = \\frac{9}{10} \\times \\frac{7}{8} \\times \\frac{4}{5} = \\frac{9 \\times 7 \\times 4}{10 \\times 8 \\times 5} = \\frac{252}{400} $$\n化简分数：\n$$ \\widehat{S}_{\\text{KM}}(3) = \\frac{63}{100} $$\n\n**2. 基于 Nelson-Aalen (NA) 的生存估计**\n\n累积风险函数 $H(t)$ 的 Nelson-Aalen 估计量由以下公式给出：\n$$ \\widehat{H}_{\\text{NA}}(t) = \\sum_{i: t_i \\leq t} \\frac{d_i}{n_i} $$\n使用与 KM 计算中相同的 $t_i$、$d_i$ 和 $n_i$ 值，我们将所有小于或等于 $3$ 的事件时间的风险贡献相加。\n\n$$ \\widehat{H}_{\\text{NA}}(3) = \\frac{d_1}{n_1} + \\frac{d_2}{n_2} + \\frac{d_3}{n_3} $$\n$$ \\widehat{H}_{\\text{NA}}(3) = \\frac{1}{10} + \\frac{1}{8} + \\frac{1}{5} $$\n为了将这些分数相加，我们找到一个公分母，即 $40$。\n$$ \\widehat{H}_{\\text{NA}}(3) = \\frac{4}{40} + \\frac{5}{40} + \\frac{8}{40} = \\frac{17}{40} $$\n题目要求通过使用关系式 $S(t) = \\exp(-H(t))$ 变换此累积风险估计来获得生存概率。\n$$ \\widehat{S}_{\\text{NA}}(t) = \\exp(-\\widehat{H}_{\\text{NA}}(t)) $$\n代入 $t=3$ 时的值：\n$$ \\widehat{S}_{\\text{NA}}(3) = \\exp\\left(-\\frac{17}{40}\\right) $$\n\n题目要求将结果表示为 KM 估计的有理分数和基于 NA 估计的指数表达式。\n\n计算出的两个值为：\n- Kaplan-Meier $3$ 年生存率：$\\widehat{S}_{\\text{KM}}(3) = \\frac{63}{100}$\n- 基于 Nelson-Aalen 的 $3$ 年生存率：$\\widehat{S}_{\\text{NA}}(3) = \\exp\\left(-\\frac{17}{40}\\right)$",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\frac{63}{100}  \\exp\\left(-\\frac{17}{40}\\right)\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "在真实世界的研究中，情况往往比理想模型更复杂。例如，当研究特定疾病的发生风险时，研究对象可能会因其他原因（如车祸或其他疾病）死亡，从而无法观测到我们感兴趣的结局事件，这就是所谓的“竞争风险”（competing risks）。在这种情况下，直接使用上一节介绍的 Kaplan-Meier 方法可能会高估我们关心的事件的发生风险。本练习将阐明为何累积发生函数 (Cumulative Incidence Function, CIF) 是在存在竞争风险时估计绝对风险的正确方法，并指导你如何基于原因别风险率进行计算。",
            "id": "4624467",
            "problem": "一个包含$N=10{,}000$名成年人的前瞻性队列被随访$5$年，以研究一种感兴趣的疾病（事件类型$A$）。在患上该疾病之前因其他原因死亡是一个竞争性事件（事件类型$B$）。管理性删失发生在$5$年时，并且与事件过程无关。研究者希望估计到$t=3$年时患上该疾病的绝对概率。\n\n假设两种事件类型的特定原因风险函数随时间分段恒定：\n- 对于 $0 \\le t  2$ 年：$\\lambda_A(t)=0.05$ 每年，$\\lambda_B(t)=0.02$ 每年。\n- 对于 $2 \\le t \\le 5$ 年：$\\lambda_A(t)=0.02$ 每年，$\\lambda_B(t)=0.03$ 每年。\n\n选择唯一一个选项，该选项正确地指出了在何种情况下应优先使用累积发生率函数 (CIF) 而非 Kaplan-Meier (KM) 方法，并给出了在存在竞争风险的情况下，根据给定的特定原因风险计算出的事件$A$的$3$年概率的正确数值（精确到三位小数）。\n\nA. 当存在竞争风险且估计量为到时间$t$时某一特定事件的绝对概率时，应使用 CIF，因为在 Kaplan-Meier 方法中将其他事件类型视为删失会高估风险。事件$A$的$3$年概率约为$0.110$。\n\nB. 如果将竞争事件视为删失，则无论是否存在竞争风险，Kaplan-Meier 方法都是合适的。事件$A$的$3$年概率为 $1-\\exp\\!\\big(-[0.05 \\times 2 + 0.02 \\times 1]\\big)\\approx 0.113$。\n\nC. 仅当风险在所有时间内都恒定时，CIF 才适用；否则，应通过 $\\int_0^3 \\lambda_A(u)\\,\\mathrm{d}u = 0.12$ 来近似事件$A$的$3$年概率。\n\nD. 当任何事件都排除了该疾病的发生时，CIF 是不必要的；事件$A$的$3$年概率为 $1-\\exp\\!\\big(-[(0.05+0.02)\\times 2 + (0.02+0.03)\\times 1]\\big)\\approx 0.173$。",
            "solution": "首先对问题陈述进行验证，以确保其科学上合理、提法得当且客观。\n\n### 第 1 步：提取已知条件\n- 研究设计：前瞻性队列研究。\n- 初始队列规模：$N=10{,}000$。\n- 随访持续时间：$5$年。\n- 感兴趣的事件：疾病，类型$A$。\n- 竞争事件：因其他原因死亡，类型$B$。\n- 删失：在$t=5$年时进行管理性删失。\n- 感兴趣的估计量：到$t=3$年时患上该疾病的绝对概率。\n- 事件$A$的特定原因风险函数，$\\lambda_A(t)$：\n  - 对于 $0 \\le t  2$ 年：$\\lambda_A(t)=0.05$ 每年。\n  - 对于 $2 \\le t \\le 5$ 年：$\\lambda_A(t)=0.02$ 每年。\n- 事件$B$的特定原因风险函数，$\\lambda_B(t)$：\n  - 对于 $0 \\le t  2$ 年：$\\lambda_B(t)=0.02$ 每年。\n  - 对于 $2 \\le t \\le 5$ 年：$\\lambda_B(t)=0.03$ 每年。\n\n### 第 2 步：使用提取的已知条件进行验证\n该问题描述了生存分析中一个经典的竞争风险情景，这是生物统计学和流行病学中的一个标准课题。\n- **科学依据：** 前瞻性队列研究、竞争风险、特定原因风险和累积发生率等概念都是该领域基础且成熟的概念。使用分段恒定的风险函数是一种常见且有效的建模方法。\n- **提法得当：** 提供了计算所需概率的所有必要信息，特别是感兴趣时间区间（$[0, 3]$年）内所有事件的特定原因风险函数。存在一个唯一且有意义的解。队列规模$N=10{,}000$对于概率计算而言是无关信息，但并未引入矛盾。\n- **客观性：** 问题陈述使用了精确、定量的语言，没有歧义或主观论断。\n\n问题陈述没有科学不合理、不完整、矛盾和歧义之处。这是一个有效且提法得当的问题。\n\n### 第 3 步：结论与行动\n该问题有效。将推导解答。\n\n### 正确答案的推导\n\n问题要求在存在竞争事件（事件$B$）的情况下，到$t=3$年时发生疾病（事件$A$）的绝对概率。这个量是事件$A$的**累积发生率函数 (CIF)**，记为$I_A(t)$。\n\nCIF 定义为感兴趣事件的特定原因风险 $\\lambda_A(t)$ 乘以总生存概率 $S(t)$ 后的积分。总生存概率 $S(t)$ 是指到时间$t$为止未发生*任何*事件（A 或 B）的概率。\n\n首先，我们定义总风险率 $\\lambda_{all}(t)$ 为所有特定原因风险率的总和：\n$$ \\lambda_{all}(t) = \\lambda_A(t) + \\lambda_B(t) $$\n总生存函数 $S(t)$ 则由下式给出：\n$$ S(t) = \\exp\\left(-\\int_0^t \\lambda_{all}(u) \\, \\mathrm{d}u\\right) $$\n事件$A$在时间$t$的 CIF 为：\n$$ I_A(t) = P(T \\le t, \\text{Event}=A) = \\int_0^t \\lambda_A(u) S(u) \\, \\mathrm{d}u $$\n由于风险函数是分段恒定的，我们必须在$t=2$处分割积分。\n$$ I_A(3) = \\int_0^2 \\lambda_A(u) S(u) \\, \\mathrm{d}u + \\int_2^3 \\lambda_A(u) S(u) \\, \\mathrm{d}u $$\n\n**区间 1：$0 \\le t  2$ 年**\n特定原因风险为 $\\lambda_A(t) = 0.05$ 和 $\\lambda_B(t) = 0.02$。\n总风险为 $\\lambda_{all}(t) = 0.05 + 0.02 = 0.07$。\n对于此区间内的$t$，总生存函数为：\n$$ S(t) = \\exp\\left(-\\int_0^t 0.07 \\, \\mathrm{d}u\\right) = \\exp(-0.07t) $$\n此区间对 CIF 的贡献是：\n$$ \\int_0^2 \\lambda_A(u) S(u) \\, \\mathrm{d}u = \\int_0^2 0.05 \\exp(-0.07u) \\, \\mathrm{d}u $$\n$$ = 0.05 \\left[ \\frac{\\exp(-0.07u)}{-0.07} \\right]_0^2 = -\\frac{0.05}{0.07} (\\exp(-0.07 \\times 2) - \\exp(0)) = \\frac{5}{7} (1 - \\exp(-0.14)) $$\n\n**区间 2：$2 \\le t \\le 5$ 年**\n特定原因风险为 $\\lambda_A(t) = 0.02$ 和 $\\lambda_B(t) = 0.03$。\n总风险为 $\\lambda_{all}(t) = 0.02 + 0.03 = 0.05$。\n对于 $t \\ge 2$，总生存函数为：\n$$ S(t) = S(2) \\times \\exp\\left(-\\int_2^t 0.05 \\, \\mathrm{d}u\\right) $$\n首先，我们使用第一个区间的参数计算 $S(2)$：\n$$ S(2) = \\exp(-0.07 \\times 2) = \\exp(-0.14) $$\n因此，对于 $t \\ge 2$，生存函数为 $S(t) = \\exp(-0.14) \\exp(-0.05(t-2))$。\n区间 $[2, 3]$ 对 CIF 的贡献是：\n$$ \\int_2^3 \\lambda_A(u) S(u) \\, \\mathrm{d}u = \\int_2^3 0.02 \\exp(-0.14) \\exp(-0.05(u-2)) \\, \\mathrm{d}u $$\n$$ = 0.02 \\exp(-0.14) \\int_2^3 \\exp(-0.05(u-2)) \\, \\mathrm{d}u $$\n$$ = 0.02 \\exp(-0.14) \\left[ \\frac{\\exp(-0.05(u-2))}{-0.05} \\right]_2^3 $$\n$$ = -\\frac{0.02}{0.05} \\exp(-0.14) (\\exp(-0.05(3-2)) - \\exp(-0.05(2-2))) $$\n$$ = -0.4 \\exp(-0.14) (\\exp(-0.05) - 1) = 0.4 \\exp(-0.14) (1 - \\exp(-0.05)) $$\n\n**到$t=3$年时的总累积发生率**\n我们将两部分相加：\n$$ I_A(3) = \\frac{5}{7} (1 - \\exp(-0.14)) + 0.4 \\exp(-0.14) (1 - \\exp(-0.05)) $$\n现在，我们计算数值：\n$$ \\exp(-0.14) \\approx 0.869358 $$\n$$ \\exp(-0.05) \\approx 0.951229 $$\n$$ I_A(3) \\approx \\frac{5}{7} (1 - 0.869358) + 0.4(0.869358)(1 - 0.951229) $$\n$$ I_A(3) \\approx \\frac{5}{7} (0.130642) + 0.4(0.869358)(0.048771) $$\n$$ I_A(3) \\approx 0.093316 + 0.016935 \\approx 0.110251 $$\n精确到三位小数，事件$A$的$3$年概率为$0.110$。\n\n### 选项评估\n\n**A. 当存在竞争风险且估计量为到时间$t$时某一特定事件的绝对概率时，应使用 CIF，因为在 Kaplan-Meier 方法中将其他事件类型视为删失会高估风险。事件$A$的$3$年概率约为$0.110$。**\n- **理由：** 概念部分完全正确。在竞争风险设置中，CIF 是绝对风险的适当估计量。标准的 Kaplan-Meier (KM) 方法，如果通过将竞争事件视为删失来朴素地使用，它估计的是在一个竞争风险被消除的假设情景中的风险。由于 KM 方法没有考虑因竞争事件而从风险人群中移除的受试者，它会导致对感兴趣事件概率的高估。数值计算与我们推导出的值 $I_A(3) \\approx 0.110$ 相符。\n- **结论：** 正确。\n\n**B. 如果将竞争事件视为删失，则无论是否存在竞争风险，Kaplan-Meier 方法都是合适的。事件$A$的$3$年概率为 $1-\\exp\\!\\big(-[0.05 \\times 2 + 0.02 \\times 1]\\big)\\approx 0.113$。**\n- **理由：** 理论主张是错误的。朴素的 KM 方法不适用于在存在竞争风险的情况下估计绝对风险。所示的计算是 $1 - \\exp(-\\int_0^3 \\lambda_A(u)\\,\\mathrm{d}u)$，这是在没有竞争事件的情况下的风险。积分为 $\\int_0^2 0.05\\,\\mathrm{d}u + \\int_2^3 0.02\\,\\mathrm{d}u = 0.10 + 0.02 = 0.12$。值 $1-\\exp(-0.12) \\approx 0.113$ 是为这个错误的量正确计算出来的。\n- **结论：** 不正确。\n\n**C. 仅当风险在所有时间内都恒定时，CIF 才适用；否则，应通过 $\\int_0^3 \\lambda_A(u)\\,\\mathrm{d}u = 0.12$ 来近似事件$A$的$3$年概率。**\n- **理由：** 第一个前提是错误的；CIF 方法是通用的，不限于恒定风险。第二个前提也是错误的；特定原因风险的积分 $\\int \\lambda_A(u)\\,\\mathrm{d}u$ 是累积特定原因风险，而不是概率 (CIF)。这个量忽略了由于所有事件（包括竞争事件）导致风险人群的减少。积分的计算（$\\int_0^3 \\lambda_A(u) \\, \\mathrm{d}u = 0.12$）是正确的，但它不代表所求的概率。\n- **结论：** 不正确。\n\n**D. 当任何事件都排除了该疾病的发生时，CIF 是不必要的；事件$A$的$3$年概率为 $1-\\exp\\!\\big(-[(0.05+0.02)\\times 2 + (0.02+0.03)\\times 1]\\big)\\approx 0.173$。**\n- **理由：** 前提“当任何事件都排除了该疾病的发生时，CIF 是不必要的”正是竞争风险设置的定义，而这恰恰是需要 CIF 的地方。该陈述是颠倒的，因此是错误的。所示的计算是 $1-S(3) = 1-\\exp(-\\int_0^3 \\lambda_{all}(u)\\,\\mathrm{d}u)$。积分为 $\\int_0^2 0.07\\,\\mathrm{d}u + \\int_2^3 0.05\\,\\mathrm{d}u = 0.14 + 0.05 = 0.19$。值 $1-\\exp(-0.19) \\approx 0.173$ 是为这个量正确计算出来的。然而，这是发生*任何*事件（A 或 B）的概率，而不是特指事件 A 的概率。\n- **结论：** 不正确。",
            "answer": "$$\\boxed{A}$$"
        }
    ]
}