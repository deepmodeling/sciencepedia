{
    "hands_on_practices": [
        {
            "introduction": "回顾性队列研究的一个核心任务是量化和比较不同暴露组随时间推移的疾病发生情况。当个体随访时间不同时（例如，由于删失或事件发生），使用“人-时”（person-time）来计算发病率（incidence rate）就变得至关重要。本练习  将指导您完成从原始数据中计算暴露组和非暴露组的发病率，并最终得出率比（rate ratio），这是衡量暴露与结局关联强度的关键指标。",
            "id": "4631687",
            "problem": "一项回顾性队列研究使用了一批工业劳动人群的电子病历，以评估长期暴露于金属加工液是否与一种慢性呼吸系统疾病的发病相关。该队列在共同的基线时点组建，并在一个为期 5 年的固定观察窗口内进行回顾性随访。由于事件发生和管理性删失，个体的随访时间各不相同。未记录竞争风险；随访在首次事件发生或删失时结束。\n\n在基线时定义了两个暴露组：\n\n- 暴露组：$300$ 名工人。\n  - 新发事件：$12$ 名工人在第 $1$ 年首次确诊，$18$ 名在第 $2$ 年，$20$ 名在第 $3$ 年，$10$ 名在第 $4$ 年。\n  - 研究结束时无事件：在无事件者中，$150$ 人被观察了 $5$ 年，$90$ 人在第 $3$ 年被删失。\n\n- 非暴露组：$450$ 名工人。\n  - 新发事件：$5$ 名工人在第 $1$ 年首次确诊，$10$ 名在第 $2$ 年，$15$ 名在第 $3$ 年，$15$ 名在第 $4$ 年。\n  - 研究结束时无事件：在无事件者中，$200$ 人被观察了 $5$ 年，$205$ 人在第 $3$ 年被删失。\n\n仅使用人时和发病率的核心定义，计算各组的发病率，然后计算发病率比，即暴露组的发病率除以非暴露组的发病率。仅报告发病率比作为您的最终答案。将您的最终答案四舍五入至三位有效数字。发病率比是无量纲的。",
            "solution": "该问题是有效的。这是一个提法恰当、有科学依据且客观的流行病学问题，要求根据所提供的队列数据计算发病率比。所有必要信息均已提供，且数据内部一致。\n\n目标是计算发病率比（$IRR$），其定义为暴露组的发病率（$IR_{exp}$）与非暴露组的发病率（$IR_{unexp}$）之比。\n$$IRR = \\frac{IR_{exp}}{IR_{unexp}}$$\n发病率定义为新发事件总数除以总风险人时。\n$$IR = \\frac{\\text{新发事件总数}}{\\text{总风险人时}}$$\n问题指出，对于经历事件或被删失的个体，其随访时间以“在第 $1$ 年”、“在第 $2$ 年”等形式给出。这被解释为这些个体分别为总风险人时贡献了恰好 $1$ 年、$2$ 年等。\n\n首先，我们计算暴露组的发病率（$IR_{exp}$）。\n\n暴露组的新发事件总数 $d_{exp}$ 是每年记录的事件之和。\n$$d_{exp} = 12 + 18 + 20 + 10 = 60$$\n暴露组的总风险人时 $PT_{exp}$ 是该组所有 $300$ 名个体的随访时间总和。我们将每个亚组贡献的人年相加：\n-   在第 1 年发生事件的个体：$12 \\text{ 名工人} \\times 1 \\text{ 年/工人} = 12 \\text{ 人年}$。\n-   在第 2 年发生事件的个体：$18 \\text{ 名工人} \\times 2 \\text{ 年/工人} = 36 \\text{ 人年}$。\n-   在第 3 年发生事件的个体：$20 \\text{ 名工人} \\times 3 \\text{ 年/工人} = 60 \\text{ 人年}$。\n-   在第 4 年发生事件的个体：$10 \\text{ 名工人} \\times 4 \\text{ 年/工人} = 40 \\text{ 人年}$。\n-   在第 3 年删失的个体：$90 \\text{ 名工人} \\times 3 \\text{ 年/工人} = 270 \\text{ 人年}$。\n-   观察满 5 年的个体：$150 \\text{ 名工人} \\times 5 \\text{ 年/工人} = 750 \\text{ 人年}$。\n\n暴露组的总风险人时为：\n$$PT_{exp} = 12 + 36 + 60 + 40 + 270 + 750 = 1168 \\text{ 人年}$$\n暴露组的发病率为：\n$$IR_{exp} = \\frac{d_{exp}}{PT_{exp}} = \\frac{60}{1168} \\text{ 事件/人年}$$\n\n接下来，我们计算非暴露组的发病率（$IR_{unexp}$）。\n\n非暴露组的新发事件总数 $d_{unexp}$ 为：\n$$d_{unexp} = 5 + 10 + 15 + 15 = 45$$\n非暴露组的总风险人时 $PT_{unexp}$ 是通过对该组所有 $450$ 名个体的贡献求和计算得出的：\n-   在第 1 年发生事件的个体：$5 \\text{ 名工人} \\times 1 \\text{ 年/工人} = 5 \\text{ 人年}$。\n-   在第 2 年发生事件的个体：$10 \\text{ 名工人} \\times 2 \\text{ 年/工人} = 20 \\text{ 人年}$。\n-   在第 3 年发生事件的个体：$15 \\text{ 名工人} \\times 3 \\text{ 年/工人} = 45 \\text{ 人年}$。\n-   在第 4 年发生事件的个体：$15 \\text{ 名工人} \\times 4 \\text{ 年/工人} = 60 \\text{ 人年}$。\n-   在第 3 年删失的个体：$205 \\text{ 名工人} \\times 3 \\text{ 年/工人} = 615 \\text{ 人年}$。\n-   观察满 5 年的个体：$200 \\text{ 名工人} \\times 5 \\text{ 年/工人} = 1000 \\text{ 人年}$。\n\n非暴露组的总风险人时为：\n$$PT_{unexp} = 5 + 20 + 45 + 60 + 615 + 1000 = 1745 \\text{ 人年}$$\n非暴露组的发病率为：\n$$IR_{unexp} = \\frac{d_{unexp}}{PT_{unexp}} = \\frac{45}{1745} \\text{ 事件/人年}$$\n\n最后，我们计算发病率比（$IRR$）。\n$$IRR = \\frac{IR_{exp}}{IR_{unexp}} = \\frac{60/1168}{45/1745} = \\frac{60}{1168} \\times \\frac{1745}{45}$$\n为计算精确值，我们可以简化该表达式：\n$$IRR = \\frac{60}{45} \\times \\frac{1745}{1168} = \\frac{4}{3} \\times \\frac{1745}{1168} = \\frac{4 \\times 1745}{3 \\times 1168} = \\frac{6980}{3504}$$\n将分子和分母同除以它们的最大公约数 $4$，可简化该分数。\n$$IRR = \\frac{1745}{876}$$\n现在，我们计算其数值并按要求四舍五入至三位有效数字。\n$$IRR \\approx 1.9919977...$$\n四舍五入至三位有效数字得到 $1.99$。",
            "answer": "$$\\boxed{1.99}$$"
        },
        {
            "introduction": "在流行病学中，风险比（Risk Ratio, $RR$）和优势比（Odds Ratio, $OR$）都是衡量关联强度的常用指标，但它们的含义和适用条件有所不同。尤其是在结局事件常见的情况下，$OR$ 会显著高估 $RR$，导致对关联强度的错误解读。通过这个实践练习 ，您将亲自计算并比较这两种指标，从而深刻理解它们之间的数学关系以及为何在队列研究中优先选择 $RR$ 的重要性。",
            "id": "4631682",
            "problem": "一个卫生系统通过提取两组人群的既往记录构建了一个回顾性队列：一个暴露组（有记录的高噪音暴露史的工人）和一个非暴露组（无此类暴露史的工人）。在暴露组中，有 $800$ 名工人，其中 $360$ 人在随访结束时患上了慢性耳鸣。在非暴露组中，有 $600$ 名工人，其中 $120$ 人患上了慢性耳鸣。假设所有工人都完成了随访，并且队列是根据结局事件发生前的暴露状态定义的。您被要求比较暴露组和非暴露组之间慢性耳鸣的风险比（RR）和比值比（OR），并为结局事件常见的情景选择最佳解释。\n\n根据队列设计中风险和比值的基本原理以及所提供的数据，哪个选项最准确？\n\nA. 在此数据集中，风险比（$RR$）为 $2.25$，比值比（$OR$）为 $3.27$，并且因为结局事件常见，所以OR近似于RR。\n\nB. 在此数据集中，风险比（$RR$）为 $2.25$，比值比（$OR$）为 $3.27$，$OR$超过$RR$是因为比值是风险的非线性变换，当结局事件常见时，这种变换会放大相对差异。\n\nC. 在此数据集中，风险比（$RR$）为 $2.25$，比值比（$OR$）为 $2.25$，并且在回顾性队列中它们必然相等。\n\nD. 在此数据集中，风险比（$RR$）为 $0.45$，比值比（$OR$）为 $0.20$，这表明当结局事件常见时，$OR$会低估$RR$。",
            "solution": "问题陈述已经过验证，被认为是有效的。它在科学上基于流行病学的原理，问题提出得当，有足够的数据进行计算，并且陈述客观。我们可以开始解题。\n\n该问题描述了一项回顾性队列研究。在队列研究中，我们可以直接计算暴露组和非暴露组中结局事件的风险（或发病率）。\n\n首先，让我们将所提供的数据整理成一个标准的 $2 \\times 2$ 列联表。设结局事件为慢性耳鸣（耳鸣+），暴露为高噪音暴露（暴露+）。\n\n-   暴露组规模：$a+b = 800$\n-   暴露组中患有耳鸣的工人数：$a = 360$\n-   暴露组中未患耳鸣的工人数：$b = 800 - 360 = 440$\n-   非暴露组规模：$c+d = 600$\n-   非暴露组中患有耳鸣的工人数：$c = 120$\n-   非暴露组中未患耳鸣的工人数：$d = 600 - 120 = 480$\n\n列联表如下：\n$$\n\\begin{array}{c|c|c|c}\n  \\text{耳鸣 (+)}  \\text{耳鸣 (-)}  \\text{总计} \\\\\n\\hline\n\\text{暴露 (+)}  a = 360  b = 440  a+b = 800 \\\\\n\\hline\n\\text{非暴露 (-)}  c = 120  d = 480  c+d = 600 \\\\\n\\hline\n\\text{总计}  a+c = 480  b+d = 920  N = 1400\n\\end{array}\n$$\n\n接下来，我们根据基本原理计算每个队列的耳鸣风险。\n\n**风险计算**\n\n结局事件的风险是在随访期内发生该结局事件的概率。\n\n1.  **暴露组的风险 ($R_E$)**:\n    $$ R_E = \\frac{\\text{暴露组中的病例数}}{\\text{暴露组总人数}} = \\frac{a}{a+b} $$\n    $$ R_E = \\frac{360}{800} = \\frac{36}{80} = \\frac{9}{20} = 0.45 $$\n\n2.  **非暴露组的风险 ($R_U$)**:\n    $$ R_U = \\frac{\\text{非暴露组中的病例数}}{\\text{非暴露组总人数}} = \\frac{c}{c+d} $$\n    $$ R_U = \\frac{120}{600} = \\frac{12}{60} = \\frac{1}{5} = 0.20 $$\n\n问题陈述中提到结局事件是“常见”的。非暴露组的风险为 $0.20$ ($20\\%$)，暴露组的风险为 $0.45$ ($45\\%$)，这证实了该结局事件确实是常见的。\n\n**风险比（$RR$）计算**\n\n风险比（也称为相对风险）是暴露组风险与非暴露组风险之比。\n\n$$ RR = \\frac{R_E}{R_U} = \\frac{0.45}{0.20} = \\frac{45}{20} = \\frac{9}{4} = 2.25 $$\n\n**比值和比值比（$OR$）计算**\n\n结局事件的比值是该结局事件发生的概率与不发生的概率之比。\n\n1.  **暴露组的比值 ($Odds_E$)**:\n    $$ Odds_E = \\frac{R_E}{1 - R_E} = \\frac{a/(a+b)}{b/(a+b)} = \\frac{a}{b} $$\n    $$ Odds_E = \\frac{360}{440} = \\frac{36}{44} = \\frac{9}{11} $$\n\n2.  **非暴露组的比值 ($Odds_U$)**:\n    $$ Odds_U = \\frac{R_U}{1 - R_U} = \\frac{c/(c+d)}{d/(c+d)} = \\frac{c}{d} $$\n    $$ Odds_U = \\frac{120}{480} = \\frac{12}{48} = \\frac{1}{4} $$\n\n比值比是暴露组的比值与非暴露组的比值之比。\n\n$$ OR = \\frac{Odds_E}{Odds_U} = \\frac{9/11}{1/4} = \\frac{9}{11} \\times 4 = \\frac{36}{11} \\approx 3.2727... $$\n四舍五入到两位小数，$OR = 3.27$。或者，使用交叉乘积公式：\n$$ OR = \\frac{ad}{bc} = \\frac{360 \\times 480}{440 \\times 120} = \\frac{172800}{52800} = \\frac{1728}{528} = \\frac{432}{132} = \\frac{36}{11} \\approx 3.27 $$\n\n**$RR$与$OR$的比较**\n\n我们计算出 $RR = 2.25$ 和 $OR = 3.27$。显然，$OR > RR$。\n$OR$与$RR$之间的数学关系是：\n$$ OR = \\frac{R_E/(1-R_E)}{R_U/(1-R_U)} = \\left( \\frac{R_E}{R_U} \\right) \\times \\left( \\frac{1-R_U}{1-R_E} \\right) = RR \\times \\left( \\frac{1-R_U}{1-R_E} \\right) $$\n项 $\\frac{1-R_U}{1-R_E}$ 是一个校正因子。\n-   当结局事件罕见时，$R_E \\approx 0$ 且 $R_U \\approx 0$。校正因子约等于 $1$，因此 $OR \\approx RR$。\n-   当结局事件常见且暴露是一个风险因素时（$R_E > R_U$），则 $1-R_E  1-R_U$，这使得校正因子 $\\frac{1-R_U}{1-R_E} > 1$。因此，$OR > RR$。与$RR$相比，$OR$高估了关联的强度。\n\n在我们的案例中：\n$$ \\frac{1-R_U}{1-R_E} = \\frac{1 - 0.20}{1 - 0.45} = \\frac{0.80}{0.55} = \\frac{16}{11} \\approx 1.45 $$\n$$ OR = RR \\times \\frac{16}{11} = 2.25 \\times \\frac{16}{11} = \\frac{9}{4} \\times \\frac{16}{11} = \\frac{9 \\times 4}{11} = \\frac{36}{11} \\approx 3.27 $$\n这证实了我们的计算和理论关系。$OR$和$RR$之间的差异是由于比值函数 $f(p) = p/(1-p)$ 的非线性性质，随着风险（$p$）的增加，该函数增长得更快。当风险较大时（即结局事件常见），这会放大比值。\n\n现在我们评估给定的选项。\n\n**选项A. 在此数据集中，风险比（$RR$）为 $2.25$，比值比（$OR$）为 $3.27$，并且因为结局事件常见，所以OR近似于RR。**\n$RR$（$2.25$）和$OR$（$3.27$）的计算值是正确的。然而，解释是错误的。当结局事件常见时，$OR$**不**能近似于$RR$；事实上，它们差异显著。这种近似仅在结局事件罕见时才有效。\n**结论：错误**\n\n**选项B. 在此数据集中，风险比（$RR$）为 $2.25$，比值比（$OR$）为 $3.27$，$OR$超过$RR$是因为比值是风险的非线性变换，当结局事件常见时，这种变换会放大相对差异。**\n$RR$（$2.25$）和$OR$（$3.27$）的计算值是正确的。$OR$超过$RR$的说法是正确的（$3.27 > 2.25$）。解释也是正确的。从风险（$p$）到比值（$p/(1-p)$）的变换是一个凸函数，随着基线风险的增加，它会放大比率，这正是在结局事件常见时发生的情况。\n**结论：正确**\n\n**选项C. 在此数据集中，风险比（$RR$）为 $2.25$，比值比（$OR$）为 $2.25$，并且在回顾性队列中它们必然相等。**\n所述的$OR$值不正确（应为$3.27$而非$2.25$）。声称在回顾性队列中$RR$和$OR$必然相等的说法是错误的。它们是不同的度量，仅在风险为$0$的平凡情况或关联为空（$RR=OR=1$）时才相等。\n**结论：错误**\n\n**选项D. 在此数据集中，风险比（$RR$）为 $0.45$，比值比（$OR$）为 $0.20$，这表明当结局事件常见时，$OR$会低估$RR$。**\n这些值是错误的。$0.45$是暴露组的风险（$R_E$），而不是$RR$。$0.20$是非暴露组的风险（$R_U$），而不是$OR$。对于风险因素（$RR > 1$），$OR$低估$RR$的结论也是错误的。在这种情况下，$OR$高估了$RR$。\n**结论：错误**",
            "answer": "$$\\boxed{B}$$"
        },
        {
            "introduction": "“不朽时间”偏倚（immortal time bias）是回顾性研究中一种常见且不易察觉的方法学缺陷，它源于在定义暴露时对时间的错误处理。这种偏倚可能人为地造成或夸大暴露的保护效应，从而得出错误结论。本练习  通过一个模拟场景，让您对比一种幼稚的（错误的）分析方法和一种正确处理随时间变化暴露的分析方法，从而量化并理解“不朽时间”偏倚是如何产生的，以及为何恰当的时间依赖性分析至关重要。",
            "id": "4631602",
            "problem": "一项对 $1000$ 名慢性病患者的回顾性队列研究从电子记录中组建，并从队列入组时起进行了为期 $12$ 个月的随访。队列中的一部分个体在延迟一段时间后接受了预防性治疗；如果使用“曾经暴露”指标对暴露进行错误分类，就会产生经典的“不朽时间”偏倚。主要结局是一个非复发性不良事件。研究者记录了以下汇总数据：\n\n- 根据随访期间的实际暴露状态分类的人时：未暴露人时等于 $8800$ 人月，在未暴露期间观察到 $132$ 例事件；暴露人时等于 $3200$ 人月，在暴露期间观察到 $24$ 例事件。\n- 一种朴素（错误）的分析将暴露定义为“随访期间曾经暴露”，并比较曾经暴露者与从未暴露者之间的累积风险。在这种朴素分类中，有 $480$ 名曾经暴露的个体，在随访期间观察到 $24$ 例事件；以及 $520$ 名从未暴露的个体，在随访期间观察到 $132$ 例事件。\n\n从风险（累积发病率）、风险率和人时的核心流行病学定义出发，并假设在 $12$ 个月的时间窗内，暴露分层内的风险成比例且大致恒定，以及删失是独立的，请完成以下任务：\n\n1. 使用上述计数所隐含的累积风险，计算比较曾经暴露者与从未暴露者的朴素粗风险比 $RR_{\\text{naive}}$。\n2. 使用时依暴露分类以及所提供的人时和事件计数，计算校正后的时依Cox比例风险(CPH)模型的风险比 $HR_{\\text{corrected}}$。\n3. 将不朽时间偏倚定义为差值 $B = RR_{\\text{naive}} - HR_{\\text{corrected}}$，并计算 $B$。\n\n将最终偏倚 $B$ 表示为小数或分数。无需四舍五入，但如果选择小数，请确保其至少反映到四位有效数字的精确值。最终答案必须是单个实数值。",
            "solution": "问题陈述已经过验证，被认为是合理的。这是一个在流行病学中提法恰当、有科学依据的问题，它提供了一套清晰一致的数据来阐释不朽时间偏倚的概念。所有必要的信息都已提供，所要求的计算直接源自标准的流行病学定义。\n\n解题过程按要求分为三个部分。\n\n第1部分：计算朴素粗风险比 $RR_{\\text{naive}}$\n\n风险，也称为累积发病率，定义为在特定时间区间内，一个初始无病人群中发生该疾病的个体所占的比例。其计算公式为：\n$$\n\\text{Risk} = \\frac{\\text{Number of new cases}}{\\text{Number of persons at risk at the start}}\n$$\n问题为朴素分析提供了数据，该分析将个体在整个 $12$ 个月的随访期内分类为“曾经暴露”或“从未暴露”。\n\n对于“从未暴露”组，个体数量为 $N_{\\text{never}} = 520$，事件数为 $E_{\\text{never}} = 132$。该组的风险为：\n$$\nR_{\\text{never}} = \\frac{E_{\\text{never}}}{N_{\\text{never}}} = \\frac{132}{520}\n$$\n化简此分数：\n$$\nR_{\\text{never}} = \\frac{4 \\times 33}{4 \\times 130} = \\frac{33}{130}\n$$\n\n对于“曾经暴露”组，个体数量为 $N_{\\text{ever}} = 480$，事件数为 $E_{\\text{ever}} = 24$。该组的风险为：\n$$\nR_{\\text{ever}} = \\frac{E_{\\text{ever}}}{N_{\\text{ever}}} = \\frac{24}{480} = \\frac{1}{20}\n$$\n\n朴素粗风险比 $RR_{\\text{naive}}$ 是曾经暴露组的风险与从未暴露组的风险之比：\n$$\nRR_{\\text{naive}} = \\frac{R_{\\text{ever}}}{R_{\\text{never}}} = \\frac{1/20}{33/130}\n$$\n$$\nRR_{\\text{naive}} = \\frac{1}{20} \\times \\frac{130}{33} = \\frac{130}{660} = \\frac{13}{66}\n$$\n\n第2部分：计算校正后的风险比 $HR_{\\text{corrected}}$\n\n对于时变暴露，一种更合适的分析方法是为风险率建模，风险率是风险的瞬时度量。风险率 $\\lambda(t)$ 是单位人时内的事件数。假设在随访期内风险率恒定，我们可以将其估计为：\n$$\n\\text{Hazard Rate} = \\frac{\\text{Number of events}}{\\text{Total person-time at risk}}\n$$\n问题提供了按每个时间点的真实暴露状态分类的人时数据。\n\n未暴露期间的风险率 $h_{\\text{unexp}}$ 使用未暴露人时（$PT_{\\text{unexp}} = 8800$ 人月）和此期间发生的事件数（$E_{\\text{unexp}} = 132$）来计算：\n$$\nh_{\\text{unexp}} = \\frac{E_{\\text{unexp}}}{PT_{\\text{unexp}}} = \\frac{132}{8800}\n$$\n化简此分数：\n$$\nh_{\\text{unexp}} = \\frac{132}{88 \\times 100} = \\frac{1.5 \\times 88}{88 \\times 100} = \\frac{1.5}{100} = \\frac{3}{200} \\text{ events per person-month}\n$$\n\n暴露期间的风险率 $h_{\\text{exp}}$ 使用暴露人时（$PT_{\\text{exp}} = 3200$ 人月）和此期间发生的事件数（$E_{\\text{exp}} = 24$）来计算：\n$$\nh_{\\text{exp}} = \\frac{E_{\\text{exp}}}{PT_{\\text{exp}}} = \\frac{24}{3200}\n$$\n化简此分数：\n$$\nh_{\\text{exp}} = \\frac{24}{32 \\times 100} = \\frac{3 \\times 8}{4 \\times 8 \\times 100} = \\frac{3}{400} \\text{ events per person-month}\n$$\n\n风险比 $HR$ 是风险率之比。问题假设风险成比例，这意味着这个比率随时间恒定。因此，校正后的风险比 $HR_{\\text{corrected}}$ 为：\n$$\nHR_{\\text{corrected}} = \\frac{h_{\\text{exp}}}{h_{\\text{unexp}}} = \\frac{3/400}{3/200}\n$$\n$$\nHR_{\\text{corrected}} = \\frac{3}{400} \\times \\frac{200}{3} = \\frac{200}{400} = \\frac{1}{2}\n$$\n\n第3部分：计算不朽时间偏倚 $B$\n\n不朽时间偏倚定义为朴素风险比与校正后风险比之间的差值，$B = RR_{\\text{naive}} - HR_{\\text{corrected}}$。\n我们代入先前计算出的值：\n$$\nB = \\frac{13}{66} - \\frac{1}{2}\n$$\n为了进行减法，我们找到一个公分母，即 $66$：\n$$\nB = \\frac{13}{66} - \\frac{33}{66} = \\frac{13 - 33}{66} = \\frac{-20}{66}\n$$\n化简该分数得到偏倚的最终值：\n$$\nB = -\\frac{10}{33}\n$$\n负号表示，朴素分析产生的效应估计值（$RR_{\\text{naive}} \\approx 0.197$）比校正后的估计值（$HR_{\\text{corrected}} = 0.5$）虚假地更小（即更具保护性）。这是不朽时间偏倚的典型特征，即“曾经暴露”组根据定义被赋予了一段无事件生存期，从而人为地降低了其总体风险。",
            "answer": "$$\n\\boxed{-\\frac{10}{33}}\n$$"
        }
    ]
}