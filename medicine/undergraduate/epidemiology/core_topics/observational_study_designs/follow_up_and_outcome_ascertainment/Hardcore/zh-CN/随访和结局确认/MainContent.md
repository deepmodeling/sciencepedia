## 引言
在流行病学研究，尤其是纵向研究中，随访与结局确定是连接研究设计与可靠结论的生命线。一项研究无论设计多么精巧，若无法在漫长的研究周期内有效追踪参与者并准确识别结局事件，其结果的有效性将大打折扣。然而，在实践中，研究者不可避免地会面临失访、结局错分、信息不完整以及各种系统性偏倚等严峻挑战。

本文旨在系统性地梳理应对这些挑战的核心方法与原则。我们将从第一章“原理与机制”出发，深入探讨量化事件、评估结局质量以及处理删失和竞争风险等基础概念。随后，在第二章“应用与跨学科联系”中，我们将展示这些原理如何在临床试验、基因流行病学等真实世界场景中发挥作用。最后，第三章“动手实践”将通过具体案例，让您亲手应用所学知识。通过这一结构化的学习路径，本文将为您构建一个从理论到实践的完整知识体系，以确保研究数据的完整性与准确性。

## 原理与机制

在流行病学研究中，一旦确定了研究队列，核心任务便是随访参与者并准确地确定结局事件的发生。随访和结局确定构成了纵向研究的基石，其严谨性直接决定了研究结果的有效性。本章将深入探讨贯穿于这一过程中的核心原理与机制，从量化事件发生的基本单位，到评估结局确定方法的有效性，再到处理随访数据中不可避免的复杂情况，如删失、[竞争风险](@entry_id:173277)和监测偏倚。

### 随访的目标：量化事件的发生

随访研究的主要目标是量化结局事件在一段时间内的发生频率。为实现这一目标，我们需要精确测量每个研究对象处于“风险中”的时间。

#### 人时与风险集

在许多队列研究中，参与者并非都在同一时间点加入，而是在一个时间段内陆续入组，这种现象称为 **错峰入组 (staggered entry)** 或 **左截断 (left truncation)**。因此，计算每个个体对研究的贡献时，我们不能简单地使用研究的总时长。相反，我们使用 **人时 (person-time)** 这一概念，它指个体在研究期间处于发生结局事件风险中的总时长。

对于个体 $i$，其人时是从其入组时间 $E_i$ 开始，直到其发生结局事件、被删失或研究结束时为止。因此，个体贡献的人时是其从进入队列到退出观察之间的时间跨度 。错误地将入组前的“永生时间”（immortal time）计入风险中，会导致对风险的严重低估。

与人时密切相关的是 **风险集 (risk set)** 的概念。在时间 $t$ 的风险集，是指在那个特定时刻，所有仍在被观察且仍有风险发生结局事件的个体集合。在存在错峰入组的情况下，个体 $i$ 只有在时间 $t$ 满足 $t \geq E_i$ 且该个体尚未经历事件或被删失时，才会被包含在风险集 $R(t)$ 中。正确构建随时间动态变化的风险集，是计算发生率和进行生存分析的基础。

### 结局确定的过程：如何发现结局

确定结局事件是否发生是随访的核心操作环节。结局确定的策略和数据来源直接影响信息的质量。

#### 前瞻性与回顾性确定

结局确定的方法可大致分为两类 ：

1.  **回顾性结局确定 (Retrospective outcome ascertainment)**：在随访期结束后，通过查阅已存在的记录（如病历）或询问参与者的回忆来确定结局。这种方法的优点是成本较低，但严重依赖于数据的完整性和参与者记忆的准确性。
2.  **前瞻性结局确定 (Prospective outcome ascertainment)**：在研究开始前就预设好标准化的结局判定流程，并在随访期间主动、实时地收集结局信息。这种方法通常质量更高，能减少信息偏倚，但成本也更高。

#### 信息来源及其挑战

无论采用何种策略，结局信息通常来源于以下几个方面，每种来源都有其固有的挑战 ：

-   **参与者自我报告**：这是获取主观感受（如症状）或某些特定事件信息的直接方式。然而，它极易受到 **回忆偏倚 (recall bias)** 的影响。例如，参与者可能会因为时间久远而 **遗忘 (forgetting)** 某些事件，这会导致假阴性，从而降低结局确定的 **敏感度**。另一方面，参与者也可能 **“望远镜效应” (telescoping)**（将久远的事件记成发生在近期）或 **记忆错误 (misremembering)**，从而报告了从未发生过的事件，这会产生[假阳性](@entry_id:635878)，降低 **特异度**。

-   **医疗记录**：电子健康档案 (EHR) 等医疗记录是结局信息的宝贵来源。然而，其主要挑战在于 **不完整性 (incompleteness)**。如果一个真实的结局事件发生了，但没有被记录在案，那么基于记录的审查将会错过它，导致假阴性，从而降低敏感度。通常情况下，医疗系统很少会凭空记录一个未发生的事件，因此医疗记录的不完整性对特异度的影响相对较小。

-   **算法病例定义 (Algorithmic case definitions)**：随着电子健康档案的普及，研究者越来越多地使用算法来系统地识别病例 。这些算法通常结合了多种信息，例如国际疾病分类 (ICD) 编码、实验室检查结果、药物处方等。例如，一个急性肾损伤 (AKI) 的算法可能从一个简单的“至少有一个 AKI 的 ICD 诊断码”的定义开始，逐步增加更严格的标准，如“同时满足血清肌酐升高的实验室标准”，甚至“在48小时内有两次异常肌酐值”。这种方法提高了结局确定的标准化程度和可重复性。

### 评估结局确定的质量：有效性与错分

一个好的结局确定方法应该能够准确地将真正有结局的人和没有结局的人区分开。我们使用 **有效性 (validity)** 指标来量化这种准确性。

#### 敏感度与特异度

为了评估结局确定方法的有效性，我们通常将其与 **金标准 (gold standard)** 进行比较。金标准是当前公认的、最准确的判断结局是否发生的方法（例如，由专家小组进行裁决）。基于这种比较，我们可以计算两个核心指标 ：

-   **敏感度 (Sensitivity, $Se$)**：在真正发生结局的个体中，被正确判定为有结局的概率。其数学定义为 $Se = P(\text{检测阳性} | \text{真实结局存在})$。低敏感度意味着存在大量的 **假阴性 (false negatives)**，会导致结局发生率的低估。

-   **特异度 (Specificity, $Sp$)**：在真正未发生结局的个体中，被正确判定为无结局的概率。其数学定义为 $Sp = P(\text{检测阴性} | \text{真实结局不存在})$。低特异度意味着存在大量的 **[假阳性](@entry_id:635878) (false positives)**，会导致结局发生率的高估。

例如，在一项验证研究中，金标准确认有150例结局，某算法识别出其中的120例，则其敏感度为 $Se = \frac{120}{150} = 0.80$。若金标准确认有1050例非结局，该算法将其中1010例正确识别，则其特异度为 $Sp = \frac{1010}{1050} \approx 0.962$ 。

值得注意的是，敏感度和特异度之间常常存在 **权衡 (trade-off)**。正如在算法病例定义中看到的那样，当增加判定标准使定义更严格时，通常会减少[假阳性](@entry_id:635878)（提高特异度），但代价是可能会错过一些不完全符合标准的真病例，从而增加假阴性（降低敏感度）。

如果参与者回忆真实事件的概率为 $p$，错误地将非事件回忆为事件的概率为 $q$，那么基于自我报告的结局确定的敏感度即为 $p$，而特异度为 $1-q$ 。

### 结局确定中的偏倚：系统性错误

结局错分如果不是随机发生的，而是与研究中的暴露因素系统性地相关，就会导致偏倚，严重威胁研究结论的有效性。

#### 非差异性与差异性错分

-   **非差异性错分 (Non-differential misclassification)**：指结局的错分概率（即敏感度和特异度）在暴露组和非暴露组中是相同的。这种类型的错分虽然不理想，但其影响通常是可预测的：它会削弱暴露与结局之间的真实关联，使观察到的效应估计值（如风险比）偏向无效值（即偏向1.0）。

-   **差异性错分 (Differential misclassification)**：指结局的错分概率在暴露组和非暴露组之间存在差异。这是一种更危险的偏倚，因为它可能导致效应估计值向任何方向偏离，甚至凭空制造出虚假的关联。

#### 监测偏倚

**监测偏倚 (Surveillance bias)** 或称 **检出偏倚 (detection bias)**，是导致差异性错分的一个主要原因。它指的是由于不同组别的观察或检测强度不同，而导致结局在不同组别中被发现的概率不同。

一个清晰的理论模型可以说明这一点：假设两个诊所的患者真实发病率完全相同，但A诊所每30天随访一次，B诊所每90天随访一次。由于A诊所的监测更频繁，它有更多的机会“捕捉”到短暂出现的疾病标志物。计算表明，即使真实发病率一致，A诊所观察到的累积发病率也可能数倍于B诊所（例如，A诊所为$0.081$，B诊所为$0.028$）。

在实际研究中，监测偏倚也屡见不鲜。例如，在研究某种药物是否导致急性肾损伤 (AKI) 时，如果服药的暴露组患者因为其他原因而接受了更频繁的肌酐检测，那么一个依赖于实验室结果的AKI算法在该组的敏感度就会被人为地提高。这会导致在暴露组中发现更多的AKI病例，即使该药物本身没有作用，也会使得关联强度被高估（偏离无效值）。在这种情况下，一个仅依赖于ICD诊断码（假设其记录行为在两组间无差异）的、尽管可能不那么敏感的算法，反而可能因其遭受的错分是非差异性的而更为可取。

### 时依性随访的挑战：删失

在大多数随访研究中，我们无法获得所有研究对象的完整随访信息，这种观测不完整的现象称为 **删失 (censoring)**。

#### 删失的类型

[删失数据](@entry_id:173222)主要有以下几种类型 ：

-   **[右删失](@entry_id:164686) (Right censoring)**：最常见的类型，指在最后一次观察时，结局事件尚未发生。我们只知道真实的事件时间大于观察到的最后时间。这可能因为研究结束（行政删失）、患者失访等原因造成。
-   **[左删失](@entry_id:169731) (Left censoring)**：指事件在首次观察之前就已经发生，但具体发生时间未知。我们只知道真实事件时间小于或等于首次观察时间。
-   **[区间删失](@entry_id:636589) (Interval censoring)**：指事件仅被知晓发生于两次观察之间的一个时间区间内。例如，一个参与者在第3个月的访视时还未发病，但在第6个月的访视时被发现已经发病，那么其真实发病时间就在(3, 6]月这个区间内。

需要特别区分 **左截断 (left truncation)** 与[左删失](@entry_id:169731)。左截断是指个体进入研究的条件是其事件尚未发生，个体只有在某个时间点之后才开始被观察。这是一个入组标准，而不是一种删失类型  。

#### 关键假设：非信息性删失

几乎所有标准生存分析方法（如Kaplan-Meier估计和[Cox比例风险模型](@entry_id:174252)）都依赖于一个核心假设：**非信息性删失 (noninformative censoring)**。

-   **直观定义**：该假设意味着，在任何时间点，因某种原因被删失的个体，其未来发生结局的风险与那些继续被随访的个体是相同的。简言之，删失这一行为本身没有提供关于个体预后的额外信息。
-   **正式定义**：在数学上，它表示在给定协变量 $X$ 的条件下，真实事件时间 $T$ 与删失时间 $C$ 是相互独立的，记为 $T \perp C \mid X$ 。
-   **为何必要**：这是一个 **可识别性 (identifiability)** 条件。只有在该假设下，我们才能从观测数据（即观测时间 $Y = \min(T, C)$ 和事件指示符 $\Delta$）的[似然函数](@entry_id:141927)中，将描述事件过程的参数与描述删失过程的参数分离开来，从而正确估计我们关心的事件发生风险 。
-   **示例**：
    -   **行政删失**（因研究预定结束而终止随访）通常被认为是典型的非信息性删失 。
    -   **失访 (Loss to follow-up)** 则具有不确定性。如果参与者因搬家等与健康无关的原因失访，可视为非信息性删失。但如果失访是由于病情恶化或无法继续参与研究，那么这些失访的个体往往比继续随访的个体有更高的结局风险。这种 **信息性删失 (informative censoring)** 违反了核心假设，若将其与行政删失同等对待，将导致选择偏倚，使[风险估计](@entry_id:754371)出现偏差 。例如，如果风险更高的人群更容易失访，那么仅基于剩余人群计算的风险将会被低估。

### 随访与结局确定中的高级议题

基于上述基本原理，我们可以进一步探讨两个在临床研究中常见且复杂的问题：竞争风险和复合结局。

#### 竞争风险

在许多研究中，结局事件的发生可能会被另一类事件所阻断，这就是 **[竞争风险](@entry_id:173277) (competing risks)**。一个典型的例子是，在研究非致死性卒中的发生时，死亡就是一个[竞争风险](@entry_id:173277)，因为患者一旦死亡，就不可能再经历非致死性卒中 。

将竞争风险事件（如死亡）错误地当作标准的非信息性[右删失](@entry_id:164686)，是生存分析中一个常见且严重的错误。原因在于，这违反了非信息性删失假设。通常，导致[竞争风险](@entry_id:173277)事件（死亡）的因素（如严重的心血管疾病）也同样会增加主要结局事件（非致死性卒中）的风险。因此，删失（死亡）与结局（卒中）的风险是相关的。

在这种情况下，使用标准的[Kaplan-Meier](@entry_id:169317)方法估计主要结局的发生概率将会导致偏倚。Kaplan-Meier方法会将被删失个体的风险重新“分配”给仍在风险集中的个体。由于死亡的个体往往是风险更高的人群，将他们从风险集中移除并重新分配风险，会使得对剩余“较健康”人群的[风险估计](@entry_id:754371)被人为抬高。因此，$1-S_{KM}(t)$ 往往会 **高估** 事件的真实发生概率。例如，一项研究的真实两年累积发生率（CIF）为$0.10$，而错误地使用Kaplan-Meier方法可能会得到一个高达$0.136$的估计值 。

处理[竞争风险](@entry_id:173277)的正确方法是使用 **累积发生函数 (Cumulative Incidence Function, CIF)**。CIF能够正确地估计在存在多种结局事件相互竞争的情况下，某一特定类型事件的绝对发生概率。

#### 复合结局

在临床试验中，研究者常将多个临床终点组合成一个 **复合结局 (composite outcome)**，例如“心血管死亡、非致死性心肌梗死或因不稳定心绞痛住院”的首次发生。使用复合结局的主要动机是通过增加总的事件发生数来提高研究的 **[统计功效](@entry_id:197129) (statistical power)** 。

然而，这种做法带来了显著的挑战，主要是 **解释上的困难**。复合结局的治疗效应（如风险比HR）实际上是其各组分效应的加权平均，权重由各组分在基线时的发生率决定。如果复合结局中包含了一个发生率很高但治疗效应很小甚至为零的组分（例如，住院），它将会“稀释”其他更重要组分上可能存在的显著疗效。这会导致总的复合结局效应估计值更接近于无效值1.0，从而掩盖了药物在关键终点（如死亡）上的真实益处 。

此外，复合结局中的“软终点”（如因不稳定心绞痛住院）比“硬终点”（如死亡）更容易受到 **监测偏倚** 的影响。如果试验中的不同组别受到了不同强度的监测，那么对软终点的差异性确定可能会使整个复合结局的有效性受到损害 。因此，在使用和解释复合结局时，必须仔细审查其所有组分及其各自的效应大小和确定方式。