{
    "hands_on_practices": [
        {
            "introduction": "本章的练习旨在将理论付诸实践，帮助您掌握病例对照研究中暴露评估的核心技能。这个初始练习旨在建立一个流行病学中的基本原则。我们将通过一个简单的二元暴露情景，探讨非差异性错分（nondifferential misclassification），并亲手计算这种误差如何系统性地将比值比（odds ratio）偏向无效值，使真实的关联看起来比实际更弱。通过这个计算过程 ，您将能更深刻地理解信息偏倚（information bias）的影响。",
            "id": "4593450",
            "problem": "一项病例对照研究调查了农用杀虫剂暴露与一种神经退行性疾病之间的关联。假设对于一部分数据，通过金标准已知其真实的暴露分类，在一个二乘二表格中得出以下真实计数：在病例组中，真实暴露计数为$120$，真实未暴露计数为$80$；在对照组中，真实暴露计数为$60$，真实未暴露计数为$140$。由于成本限制，主要研究使用了一种准确性较低的暴露确定方法，其灵敏度为$Se=0.80$，特异度为$Sp=0.90$，该方法同样应用于病例组和对照组。假设暴露的错分是非差异性的、独立的，因此病例组和对照组中暴露分类的概率模型是相同的，并且期望观测计数遵循灵敏度和特异度的定义以及全概率定律。\n\n仅使用二元分类的灵敏度和特异度的基本定义以及优势比的定义，执行以下步骤：\n\n1. 当不完美的暴露确定方法取代金标准时，推导二乘二表格四个单元格中的期望观测计数。明确计算病例组中暴露和未暴露的期望观测计数，以及对照组中暴露和未暴露的期望观测计数。\n\n2. 基于期望观测计数，计算观测优势比$OR_{obs}$。\n\n3. 进行逆向计算：建立并求解由灵敏度和特异度所蕴含的方程组，从观测计数中恢复真实计数，然后计算校正后的真实优势比$OR_{true}$。\n\n以精确分数的形式报告两个优势比，顺序为$\\left(OR_{obs}, OR_{true}\\right)$。不要四舍五入。",
            "solution": "该问题是有效的，因为它在科学上基于流行病学原理，问题提出得很好，有充分且一致的数据，并且陈述客观。\n\n我们首先将所提供的信息形式化。令$D^+$表示病例（患有该疾病的个体），$D^-$表示对照（未患该疾病的个体）。令$E^+$和$E^-$表示真实暴露状态（暴露和未暴露），令$e^+$和$e^-$表示通过不完美测试得到的观测暴露状态。\n\n真实计数如下：\n- 真实暴露的病例数：$A_1 = 120$\n- 真实未暴露的病例数：$B_1 = 80$\n- 病例总数：$N_1 = A_1 + B_1 = 120 + 80 = 200$\n- 真实暴露的对照数：$A_0 = 60$\n- 真实未暴露的对照数：$B_0 = 140$\n- 对照总数：$N_0 = A_0 + B_0 = 60 + 140 = 200$\n\n暴露确定方法的特性由其灵敏度（$Se$）和特异度（$Sp$）给出：\n- 灵敏度，$Se = P(e^+|E^+) = 0.80$。这是一个真实暴露的个体被分类为暴露的概率。\n- 特异度，$Sp = P(e^-|E^-) = 0.90$。这是一个真实未暴露的个体被分类为未暴露的概率。\n\n根据这些定义，我们可以推导出错分的概率：\n- 假阴性率：$P(e^-|E^+) = 1 - Se = 1 - 0.80 = 0.20$\n- 假阳性率：$P(e^+|E^-) = 1 - Sp = 1 - 0.90 = 0.10$\n\n问题假设了非差异性错分，意味着$Se$和$Sp$在病例组和对照组中是相同的。\n\n### 1. 期望观测计数的推导\n\n我们计算观测的二乘二表格的期望计数，记为$a_1$（观测到的暴露病例），$b_1$（观测到的未暴露病例），$a_0$（观测到的暴露对照），和$b_0$（观测到的未暴露对照）。\n\n观测到的暴露病例数$a_1$是正确分类的真实暴露病例和错误分类的真实未暴露病例的总和：\n$$a_1 = A_1 \\times Se + B_1 \\times (1 - Sp)$$\n$$a_1 = 120 \\times 0.80 + 80 \\times (1 - 0.90) = 96 + 8 = 104$$\n\n观测到的未暴露病例数$b_1$是正确分类的真实未暴露病例和错误分类的真实暴露病例的总和：\n$$b_1 = B_1 \\times Sp + A_1 \\times (1 - Se)$$\n$$b_1 = 80 \\times 0.90 + 120 \\times (1 - 0.80) = 72 + 24 = 96$$\n作为检验，病例总数必须守恒：$a_1 + b_1 = 104 + 96 = 200 = N_1$。\n\n同样，对于对照组：\n观测到的暴露对照数$a_0$：\n$$a_0 = A_0 \\times Se + B_0 \\times (1 - Sp)$$\n$$a_0 = 60 \\times 0.80 + 140 \\times (1 - 0.90) = 48 + 14 = 62$$\n\n观测到的未暴露对照数$b_0$：\n$$b_0 = B_0 \\times Sp + A_0 \\times (1 - Se)$$\n$$b_0 = 140 \\times 0.90 + 60 \\times (1 - 0.80) = 126 + 12 = 138$$\n作为检验，对照总数必须守恒：$a_0 + b_0 = 62 + 138 = 200 = N_0$。\n\n因此，期望的观测计数为：$a_1 = 104$，$b_1 = 96$，$a_0 = 62$，$b_0 = 138$。\n\n### 2. 观测优势比（$OR_{obs}$）的计算\n\n优势比定义为病例组中暴露的优势与对照组中暴露的优势之比。使用观测计数：\n$$OR_{obs} = \\frac{\\text{病例组中的暴露优势}}{\\text{对照组中的暴露优势}} = \\frac{a_1 / b_1}{a_0 / b_0} = \\frac{a_1 b_0}{a_0 b_1}$$\n代入计算出的值：\n$$OR_{obs} = \\frac{104 \\times 138}{62 \\times 96}$$\n为了简化这个分数：\n$$OR_{obs} = \\frac{(8 \\times 13) \\times (6 \\times 23)}{(2 \\times 31) \\times (8 \\times 12)} = \\frac{13 \\times 6 \\times 23}{2 \\times 31 \\times 12} = \\frac{13 \\times 23}{31 \\times 4} = \\frac{299}{124}$$\n\n### 3. 真实计数的恢复与真实优势比（$OR_{true}$）的计算\n\n首先，我们直接根据给定的真实计数计算真实优势比（$OR_{true}$）作为参考：\n$$OR_{true} = \\frac{A_1 B_0}{A_0 B_1} = \\frac{120 \\times 140}{60 \\times 80} = \\frac{2 \\times 140}{80} = \\frac{280}{80} = \\frac{28}{8} = \\frac{7}{2}$$\n\n现在，我们按要求进行逆向计算，使用观测计数（$a_1, b_1, a_0, b_0$）和测试参数（$Se, Sp$）求解真实计数（$A_1, B_1, A_0, B_0$）。\n\n对于病例组，我们有以下方程组：\n$$a_1 = A_1 \\cdot Se + B_1 \\cdot (1 - Sp)$$\n$$A_1 + B_1 = N_1 = a_1 + b_1 = 200$$\n将 $B_1 = 200 - A_1$ 代入第一个方程：\n$$104 = A_1 \\cdot (0.80) + (200 - A_1) \\cdot (0.10)$$\n$$104 = 0.80 A_1 + 20 - 0.10 A_1$$\n$$84 = 0.70 A_1$$\n$$A_1 = \\frac{84}{0.7} = 120$$\n那么，$B_1 = 200 - A_1 = 200 - 120 = 80$。这些恢复的计数与问题中提供的真实计数相符。\n\n对于对照组，我们有类似的方程组：\n$$a_0 = A_0 \\cdot Se + B_0 \\cdot (1 - Sp)$$\n$$A_0 + B_0 = N_0 = a_0 + b_0 = 200$$\n将 $B_0 = 200 - A_0$ 代入：\n$$62 = A_0 \\cdot (0.80) + (200 - A_0) \\cdot (0.10)$$\n$$62 = 0.80 A_0 + 20 - 0.10 A_0$$\n$$42 = 0.70 A_0$$\n$$A_0 = \\frac{42}{0.7} = 60$$\n那么，$B_0 = 200 - A_0 = 200 - 60 = 140$。这些也与真实计数相符。\n\n使用这些恢复的“真实”计数，我们计算校正后的真实优势比，它必须与从初始问题数据计算出的优势比相同：\n$$OR_{true} = \\frac{A_1 B_0}{A_0 B_1} = \\frac{120 \\times 140}{60 \\times 80} = \\frac{7}{2}$$\n\n暴露的非差异性错分导致观测优势比（$OR_{obs} = 299/124 \\approx 2.41$）相对于真实优势比（$OR_{true} = 7/2 = 3.5$）偏向于无效值1。\n\n所要求的值是$OR_{obs}$和$OR_{true}$的精确分数形式。\n$OR_{obs} = \\frac{299}{124}$\n$OR_{true} = \\frac{7}{2}$",
            "answer": "$$ \\boxed{ \\begin{pmatrix} \\frac{299}{124}  \\frac{7}{2} \\end{pmatrix} } $$"
        },
        {
            "introduction": "在理解了基础偏倚之后，我们来学习一种更强大和普适的校正工具：错分矩阵。通过运用基础的线性代数，我们可以建立一个形式化的系统来校正测量误差。这种方法尤其适用于更复杂的情况，例如当暴露测量的准确性在病例组和对照组之间存在差异时，即发生差异性错分（differential misclassification）时 。",
            "id": "4593387",
            "problem": "一项病例对照研究旨在调查二元暴露 $E$（暴露 $E=1$，非暴露 $E=0$）与疾病结局 $D$（病例，对照）之间的关联。暴露情况的确定存在不完美之处，并且可能因疾病状态而异（即存在差异性）。设观测暴露为 $O$（观测为暴露 $O=1$，观测为非暴露 $O=0$）。根据其基本概率意义定义暴露情况确定的灵敏度 $Se$ 和特异度 $Sp$：$Se = P(O=1 \\mid E=1)$ 和 $Sp = P(O=0 \\mid E=0)$。假设不保证为非差异性错分；也就是说，病例和对照组的灵敏度和特异度可能不同。\n\n给定以下按观测暴露划分的疾病的 $2\\times 2$ 观测交叉表：\n- 病例组：$O_{1,\\text{case}} = 180$，$O_{0,\\text{case}} = 120$。\n- 对照组：$O_{1,\\text{control}} = 150$，$O_{0,\\text{control}} = 250$。\n\n同时给定暴露情况确定的操作特性：\n- 病例组：$Se_{\\text{case}} = 0.85$，$Sp_{\\text{case}} = 0.90$。\n- 对照组：$Se_{\\text{control}} = 0.80$，$Sp_{\\text{control}} = 0.95$。\n\n任务：\n1. 使用灵敏度和特异度的定义，写出在疾病分层 $d \\in \\{\\text{case}, \\text{control}\\}$ 内，将真实暴露计数映射到观测暴露计数的 $2\\times 2$ 错分矩阵 $M_{d}$。\n2. 根据线性代数的基本原理，推导 $M_{d}^{-1}$ 的表达式，以及从观测计数 $\\mathbf{O}_{d} = \\begin{pmatrix} O_{1,d} \\\\ O_{0,d} \\end{pmatrix}$ 到预期真实暴露计数 $\\mathbf{T}_{d} = \\begin{pmatrix} T_{1,d} \\\\ T_{0,d} \\end{pmatrix}$ 的映射关系。\n3. 应用您的推导来计算暴露与疾病之间关联的经错分校正的比值比（odds ratio (OR)），其定义为\n$$\n\\text{OR} \\;=\\; \\frac{T_{1,\\text{case}}/T_{0,\\text{case}}}{T_{1,\\text{control}}/T_{0,\\text{control}}}.\n$$\n将比值比的最终数值答案四舍五入到四位有效数字。比值比无需单位。",
            "solution": "该问题要求根据病例对照研究中的观测数据，计算经错分校正的比值比。校正方法涉及使用给定的病例组和对照组的暴露情况确定的灵敏度和特异度，从观测计数中估计出真实暴露计数。\n\n首先，我将验证问题陈述的有效性。\n\n### 步骤1：提取已知条件\n给定的数据如下：\n- 病例组的观测计数：$O_{1,\\text{case}} = 180$，$O_{0,\\text{case}} = 120$。病例总数 $N_{\\text{case}} = 180 + 120 = 300$。\n- 对照组的观测计数：$O_{1,\\text{control}} = 150$，$O_{0,\\text{control}} = 250$。对照总数 $N_{\\text{control}} = 150 + 250 = 400$。\n- 病例组暴露情况确定的灵敏度和特异度：$Se_{\\text{case}} = 0.85$，$Sp_{\\text{case}} = 0.90$。\n- 对照组暴露情况确定的灵敏度和特异度：$Se_{\\text{control}} = 0.80$，$Sp_{\\text{control}} = 0.95$。\n- 定义：灵敏度 $Se = P(O=1 \\mid E=1)$，特异度 $Sp = P(O=0 \\mid E=0)$。\n- 目标量是校正后的比值比：$\\text{OR} = \\frac{T_{1,\\text{case}}/T_{0,\\text{case}}}{T_{1,\\text{control}}/T_{0,\\text{control}}}$，其中 $T_{1,d}$ 和 $T_{0,d}$ 分别是在疾病分层 $d \\in \\{\\text{case}, \\text{control}\\}$ 中暴露和非暴露个体的真实计数。\n\n### 步骤2：使用提取的已知条件进行验证\n- **科学依据：** 该问题是流行病学方法中的一个标准练习，特别是关于测量误差（信息偏倚）的校正。灵敏度、特异度、差异性错分和比值比等概念都是基础性的且定义正确。数值均为0到1之间的概率，这在科学上是现实的。\n- **问题适定性：** 问题提供了计算校正后计数和最终比值比所需的所有数据和定义。用于校正的线性方程组是适定的并且可逆。\n- **客观性：** 问题的陈述语言精确、量化且无偏。\n\n### 步骤3：结论与行动\n问题有效。我将继续进行解答。\n\n解答根据问题陈述中列出的三个任务展开。\n\n**任务1：推导错分矩阵 $M_d$**\n\n设 $d \\in \\{\\text{case}, \\text{control}\\}$ 为疾病分层。在每个分层内，观测计数是真实计数和错分概率的函数。设 $T_{1,d}$ 和 $T_{0,d}$ 分别为暴露和非暴露个体的真实数量。\n\n观测为暴露的个体数量 $O_{1,d}$ 由两组组成：被正确分类的真实暴露个体（真阳性）和被错误分类的真实非暴露个体（假阳性）。\n- 真阳性数量 = $T_{1,d} \\times P(O=1 \\mid E=1, d) = T_{1,d} \\cdot Se_d$。\n- 假阳性数量 = $T_{0,d} \\times P(O=1 \\mid E=0, d) = T_{0,d} \\times (1 - P(O=0 \\mid E=0, d)) = T_{0,d} \\cdot (1-Sp_d)$。\n因此，总的观测暴露计数为：\n$$O_{1,d} = T_{1,d} \\cdot Se_d + T_{0,d} \\cdot (1-Sp_d)$$\n\n同样，观测为非暴露的个体数量 $O_{0,d}$ 由被错误分类的真实暴露个体（假阴性）和被正确分类的真实非暴露个体（真阴性）组成。\n- 假阴性数量 = $T_{1,d} \\times P(O=0 \\mid E=1, d) = T_{1,d} \\times (1 - P(O=1 \\mid E=1, d)) = T_{1,d} \\cdot (1-Se_d)$。\n- 真阴性数量 = $T_{0,d} \\times P(O=0 \\mid E=0, d) = T_{0,d} \\cdot Sp_d$。\n因此，总的观测非暴露计数为：\n$$O_{0,d} = T_{1,d} \\cdot (1-Se_d) + T_{0,d} \\cdot Sp_d$$\n\n这两个线性方程可以用矩阵形式表示为 $\\mathbf{O}_d = M_d \\mathbf{T}_d$：\n$$\n\\begin{pmatrix} O_{1,d} \\\\ O_{0,d} \\end{pmatrix} = \\begin{pmatrix} Se_d  1-Sp_d \\\\ 1-Se_d  Sp_d \\end{pmatrix} \\begin{pmatrix} T_{1,d} \\\\ T_{0,d} \\end{pmatrix}\n$$\n因此，将真实暴露计数映射到观测暴露计数的 $2 \\times 2$ 错分矩阵 $M_d$ 为：\n$$\nM_d = \\begin{pmatrix} Se_d  1-Sp_d \\\\ 1-Se_d  Sp_d \\end{pmatrix}\n$$\n\n**任务2：推导逆矩阵 $M_d^{-1}$ 和校正映射**\n\n为了从观测计数 $\\mathbf{O}_d$ 中求出真实计数 $\\mathbf{T}_d$，我们必须对矩阵 $M_d$ 求逆。其关系为 $\\mathbf{T}_d = M_d^{-1} \\mathbf{O}_d$，前提是 $M_d$ 可逆。\n\n一个通用的 $2 \\times 2$ 矩阵 $A = \\begin{pmatrix} a  b \\\\ c  d \\end{pmatrix}$ 的逆矩阵由 $A^{-1} = \\frac{1}{\\det(A)} \\begin{pmatrix} d  -b \\\\ -c  a \\end{pmatrix}$ 给出，其中 $\\det(A) = ad-bc$。\n\n对于我们的矩阵 $M_d$，其行列式为：\n$$\n\\det(M_d) = (Se_d)(Sp_d) - (1-Sp_d)(1-Se_d) = Se_d Sp_d - (1 - Se_d - Sp_d + Se_d Sp_d) = Se_d + Sp_d - 1\n$$\n这个量也被称为约登指数（Youden's index），$J_d$。矩阵可逆的充分必要条件是 $J_d \\neq 0$，对于任何非随机分类方法，该条件都成立。\n\n逆矩阵 $M_d^{-1}$ 是：\n$$\nM_d^{-1} = \\frac{1}{Se_d + Sp_d - 1} \\begin{pmatrix} Sp_d  -(1-Sp_d) \\\\ -(1-Se_d)  Se_d \\end{pmatrix} = \\frac{1}{Se_d + Sp_d - 1} \\begin{pmatrix} Sp_d  Sp_d-1 \\\\ Se_d-1  Se_d \\end{pmatrix}\n$$\n从观测计数 $\\mathbf{O}_d$到预期真实计数 $\\mathbf{T}_d$的映射为：\n$$\n\\mathbf{T}_d = \\begin{pmatrix} T_{1,d} \\\\ T_{0,d} \\end{pmatrix} = \\frac{1}{Se_d + Sp_d - 1} \\begin{pmatrix} Sp_d  Sp_d-1 \\\\ Se_d-1  Se_d \\end{pmatrix} \\begin{pmatrix} O_{1,d} \\\\ O_{0,d} \\end{pmatrix}\n$$\n由此可得出真实计数的明确公式：\n$$\nT_{1,d} = \\frac{Sp_d \\cdot O_{1,d} + (Sp_d - 1) \\cdot O_{0,d}}{Se_d + Sp_d - 1} = \\frac{Sp_d \\cdot O_{1,d} - (1 - Sp_d) \\cdot O_{0,d}}{Se_d + Sp_d - 1}\n$$\n$$\nT_{0,d} = \\frac{(Se_d - 1) \\cdot O_{1,d} + Se_d \\cdot O_{0,d}}{Se_d + Sp_d - 1} = \\frac{-(1-Se_d) \\cdot O_{1,d} + Se_d \\cdot O_{0,d}}{Se_d + Sp_d - 1}\n$$\n\n**任务3：计算经错分校正的比值比**\n\n现在我们将这些公式应用于病例组和对照组的给定数据。\n\n**病例组的校正计数 ($d = \\text{case}$):**\n- 已知：$O_{1,\\text{case}} = 180$，$O_{0,\\text{case}} = 120$，$Se_{\\text{case}} = 0.85$，$Sp_{\\text{case}} = 0.90$。\n- 分母为 $J_{\\text{case}} = Se_{\\text{case}} + Sp_{\\text{case}} - 1 = 0.85 + 0.90 - 1 = 0.75$。\n- 真实暴露病例数：\n$$\nT_{1,\\text{case}} = \\frac{0.90 \\cdot 180 - (1 - 0.90) \\cdot 120}{0.75} = \\frac{162 - 0.10 \\cdot 120}{0.75} = \\frac{162 - 12}{0.75} = \\frac{150}{0.75} = 200\n$$\n- 真实非暴露病例数：\n$$\nT_{0,\\text{case}} = \\frac{-(1-0.85) \\cdot 180 + 0.85 \\cdot 120}{0.75} = \\frac{-0.15 \\cdot 180 + 102}{0.75} = \\frac{-27 + 102}{0.75} = \\frac{75}{0.75} = 100\n$$\n病例总数为 $200 + 100 = 300$，与观测总数相符，符合预期。\n病例组中经校正的暴露比值为 $\\text{Odds}_{\\text{case}} = \\frac{T_{1,\\text{case}}}{T_{0,\\text{case}}} = \\frac{200}{100} = 2$。\n\n**对照组的校正计数 ($d = \\text{control}$):**\n- 已知：$O_{1,\\text{control}} = 150$，$O_{0,\\text{control}} = 250$，$Se_{\\text{control}} = 0.80$，$Sp_{\\text{control}} = 0.95$。\n- 分母为 $J_{\\text{control}} = Se_{\\text{control}} + Sp_{\\text{control}} - 1 = 0.80 + 0.95 - 1 = 0.75$。\n- 真实暴露对照数：\n$$\nT_{1,\\text{control}} = \\frac{0.95 \\cdot 150 - (1 - 0.95) \\cdot 250}{0.75} = \\frac{142.5 - 0.05 \\cdot 250}{0.75} = \\frac{142.5 - 12.5}{0.75} = \\frac{130}{0.75} = \\frac{520}{3}\n$$\n- 真实非暴露对照数：\n$$\nT_{0,\\text{control}} = \\frac{-(1-0.80) \\cdot 150 + 0.80 \\cdot 250}{0.75} = \\frac{-0.20 \\cdot 150 + 200}{0.75} = \\frac{-30 + 200}{0.75} = \\frac{170}{0.75} = \\frac{680}{3}\n$$\n对照总数为 $\\frac{520}{3} + \\frac{680}{3} = \\frac{1200}{3} = 400$，与观测总数相符。\n对照组中经校正的暴露比值为 $\\text{Odds}_{\\text{control}} = \\frac{T_{1,\\text{control}}}{T_{0,\\text{control}}} = \\frac{520/3}{680/3} = \\frac{520}{680} = \\frac{52}{68} = \\frac{13}{17}$。\n\n**最终比值比计算：**\n校正后的比值比是这两个比值的比率：\n$$\n\\text{OR} = \\frac{\\text{Odds}_{\\text{case}}}{\\text{Odds}_{\\text{control}}} = \\frac{2}{13/17} = \\frac{2 \\cdot 17}{13} = \\frac{34}{13}\n$$\n根据要求，将其转换为小数并四舍五入到四位有效数字：\n$$\n\\text{OR} \\approx 2.6153846... \\approx 2.615\n$$",
            "answer": "$$\n\\boxed{2.615}\n$$"
        },
        {
            "introduction": "最后一个练习将挑战一个常见的经验法则，并揭示一个反直觉的情景。虽然二元暴露的非差异性错分通常会使结果偏向无效值，但对于多分类（polytomous）暴露而言，情况并非总是如此。本练习  将展示在这种特定条件下，非差异性错分实际上可能放大比值比，从而错误地夸大关联强度，这突显了在评估偏倚时进行细致分析的重要性。",
            "id": "4593432",
            "problem": "一项病例-对照研究调查了一个具有三个分类的多分类暴露：$E=0$（无），$E=1$（低）和 $E=2$（高）。该研究纳入了 $600$ 例新发病例和 $600$ 名对照者。在没有任何测量误差的情况下，真实的暴露计数如下：病例组中，$N_{\\text{case}}(E=0)=250$，$N_{\\text{case}}(E=1)=150$，和 $N_{\\text{case}}(E=2)=200$；对照组中，$N_{\\text{control}}(E=0)=340$，$N_{\\text{control}}(E=1)=240$，和 $N_{\\text{control}}(E=2)=20$。\n\n暴露情况的确定是通过一份结构化问卷进行的，其分类表现在病例和对照中是相同的（非差异性错分）。然而，其准确性在不同真实暴露分类之间有所不同。分类概率如下：\n- 对于真实未暴露的个体（$E=0$）：被分为 $E=0$ 的概率为 $0.95$，被分为 $E=1$ 的概率为 $0.05$，被分为 $E=2$ 的概率为 $0$。\n- 对于真实低水平暴露的个体（$E=1$）：被分为 $E=0$ 的概率为 $0.10$，被分为 $E=1$ 的概率为 $0.90$，被分为 $E=2$ 的概率为 $0$。\n- 对于真实高水平暴露的个体（$E=2$）：被分为 $E=0$ 的概率为 $0$，被分为 $E=1$ 的概率为 $0.80$，被分为 $E=2$ 的概率为 $0.20$。\n\n根据核心定义，即比值比比较的是病例组与对照组的暴露比值，并且非差异性错分在不同疾病组中应用相同的分类概率，计算在发生错分后，比较 $E=1$（低）与 $E=0$（无）关联的观测比值比。将您的答案四舍五入到四位有效数字。最终值以纯数字形式表示，不带任何单位。",
            "solution": "该问题要求在一个病例-对照研究中，计算一个受到非差异性错分影响的三水平暴露变量的观测比值比。设 $E$ 表示真实暴露水平，取值为 $\\{0, 1, 2\\}$，设 $E^*$ 表示观测到的（被错分的）暴露水平。\n\n首先，我们必须确定病例组和对照组中观测暴露水平（$E^*=0, 1, 2$）的期望计数。这通过将给定的分类概率应用于真实暴露计数来实现。非差异性错分原则规定，这些概率 $P(E^*=i | E=j)$ 对病例和对照是相同的。\n\n在给定暴露分类 $E^*=i$ 中观测到的个体数，记作 $N^*(E^*=i)$，是所有真实暴露分类 $E=j$ 中，真实属于分类 $j$ 的个体数 $N(E=j)$ 乘以在真实状态为 $j$ 的情况下被分为 $i$ 的概率的总和。\n$$N^*(E^*=i) = \\sum_{j \\in \\{0,1,2\\}} N(E=j) \\cdot P(E^*=i | E=j)$$\n\n给定的 $600$ 例病例的真实计数是：\n$N_{\\text{case}}(E=0) = 250$\n$N_{\\text{case}}(E=1) = 150$\n$N_{\\text{case}}(E=2) = 200$\n\n给定的 $600$ 名对照者的真实计数是：\n$N_{\\text{control}}(E=0) = 340$\n$N_{\\text{control}}(E=1) = 240$\n$N_{\\text{control}}(E=2) = 20$\n\n分类概率 $P(E^*=i|E=j)$ 提供如下：\n- 对于 $E=0$：$P(E^*=0|E=0) = 0.95$， $P(E^*=1|E=0) = 0.05$， $P(E^*=2|E=0) = 0$。\n- 对于 $E=1$：$P(E^*=0|E=1) = 0.10$， $P(E^*=1|E=1) = 0.90$， $P(E^*=2|E=1) = 0$。\n- 对于 $E=2$：$P(E^*=0|E=2) = 0$， $P(E^*=1|E=2) = 0.80$， $P(E^*=2|E=2) = 0.20$。\n\n我们需要计算 $E^*=0$ 和 $E^*=1$ 的观测计数，以计算指定的比值比。\n\n对于病例组：\n被分为 $E^*=0$ 的病例的观测数是：\n$$N^*_{\\text{case}}(E^*=0) = N_{\\text{case}}(E=0)P(E^*=0|E=0) + N_{\\text{case}}(E=1)P(E^*=0|E=1) + N_{\\text{case}}(E=2)P(E^*=0|E=2)$$\n$$N^*_{\\text{case}}(E^*=0) = (250)(0.95) + (150)(0.10) + (200)(0) = 237.5 + 15 + 0 = 252.5$$\n被分为 $E^*=1$ 的病例的观测数是：\n$$N^*_{\\text{case}}(E^*=1) = N_{\\text{case}}(E=0)P(E^*=1|E=0) + N_{\\text{case}}(E=1)P(E^*=1|E=1) + N_{\\text{case}}(E=2)P(E^*=1|E=2)$$\n$$N^*_{\\text{case}}(E^*=1) = (250)(0.05) + (150)(0.90) + (200)(0.80) = 12.5 + 135 + 160 = 307.5$$\n\n对于对照组：\n被分为 $E^*=0$ 的对照者的观测数是：\n$$N^*_{\\text{control}}(E^*=0) = N_{\\text{control}}(E=0)P(E^*=0|E=0) + N_{\\text{control}}(E=1)P(E^*=0|E=1) + N_{\\text{control}}(E=2)P(E^*=0|E=2)$$\n$$N^*_{\\text{control}}(E^*=0) = (340)(0.95) + (240)(0.10) + (20)(0) = 323 + 24 + 0 = 347$$\n被分为 $E^*=1$ 的对照者的观测数是：\n$$N^*_{\\text{control}}(E^*=1) = N_{\\text{control}}(E=0)P(E^*=1|E=0) + N_{\\text{control}}(E=1)P(E^*=1|E=1) + N_{\\text{control}}(E=2)P(E^*=1|E=2)$$\n$$N^*_{\\text{control}}(E^*=1) = (340)(0.05) + (240)(0.90) + (20)(0.80) = 17 + 216 + 16 = 249$$\n\n比值比（$OR$）定义为病例组的暴露比值与对照组的暴露比值的比率。对于比较 $E^*=1$ 与 $E^*=0$ 的观测关联，比值是相对于这两个分类计算的。\n病例组中观测暴露 $E^*=1$ 的比值是：\n$$\\text{Odds}_{\\text{case}} = \\frac{N^*_{\\text{case}}(E^*=1)}{N^*_{\\text{case}}(E^*=0)}$$\n对照组中观测暴露 $E^*=1$ 的比值是：\n$$\\text{Odds}_{\\text{control}} = \\frac{N^*_{\\text{control}}(E^*=1)}{N^*_{\\text{control}}(E^*=0)}$$\n观测比值比 $OR_{obs}$ 是这些比值的比率，这等同于暴露水平为 $0$ 和 $1$ 的 $2 \\times 2$ 表中计数的交叉乘积比：\n$$OR_{obs} = \\frac{\\text{Odds}_{\\text{case}}}{\\text{Odds}_{\\text{control}}} = \\frac{N^*_{\\text{case}}(E^*=1) / N^*_{\\text{case}}(E^*=0)}{N^*_{\\text{control}}(E^*=1) / N^*_{\\text{control}}(E^*=0)} = \\frac{N^*_{\\text{case}}(E^*=1) \\cdot N^*_{\\text{control}}(E^*=0)}{N^*_{\\text{case}}(E^*=0) \\cdot N^*_{\\text{control}}(E^*=1)}$$\n\n代入计算出的观测计数：\n$$OR_{obs} = \\frac{(307.5) \\cdot (347)}{(252.5) \\cdot (249)}$$\n$$OR_{obs} = \\frac{106702.5}{62872.5} \\approx 1.697112009$$\n\n问题要求答案四舍五入到四位有效数字。前四位有效数字是 $1.697$。第五位数字是 $1$，所以我们向下舍入。\n最终结果是 $1.697$。",
            "answer": "$$\\boxed{1.697}$$"
        }
    ]
}