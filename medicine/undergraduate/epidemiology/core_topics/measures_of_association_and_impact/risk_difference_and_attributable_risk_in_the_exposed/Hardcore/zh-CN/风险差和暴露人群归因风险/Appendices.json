{
    "hands_on_practices": [
        {
            "introduction": "现实世界中的队列研究常常涉及随访时间不等的参与者。在这种情况下，简单地用病例数除以初始人数来计算风险可能会产生误导。本练习将指导你完成正确的分析步骤：首先利用“人-时”数据计算发病率，然后基于恒定率的假设，将发病率转换为标准化时间范围内的累积风险，从而对风险差进行有效计算 。",
            "id": "4631898",
            "problem": "一项队列研究跟踪了两个工厂的工人，旨在量化暴露于特定溶剂对罹患某种特定慢性病的影响。暴露组包含 $n_E = 1{,}800$ 名工人，非暴露组包含 $n_U = 2{,}200$ 名工人。由于错时入组和可变的随访时间，研究期间的人时累积和新发病例如下：暴露组的人时为 $PT_E = 4{,}150$ 人年，新发病例为 $D_E = 207$ 例；非暴露组的人时为 $PT_U = 5{,}500$ 人年，新发病例为 $D_U = 154$ 例。假设每个暴露组内的风险率不随时间变化，并且不存在竞争风险。\n\n严格从恒定风险模型下发病率、生存率和累积发病率的基本定义出发，使用观测到的人时数据来：\n- 确定各组的相应发病率（以每人年病例数表示）。\n- 将恒定发病率与各组的 $3$ 年累积发病率联系起来。\n- 由此，求出暴露组和非暴露组在 $3$ 年时的风险差，并在暴露具有因果解释的前提下，将此量解释为暴露人群归因风险（AR in the exposed）。\n\n将任何中间的率值以每人年病例数表示。对于最终答案，仅报告 $3$ 年时暴露人群的归因风险，以小数形式表示（不带百分号），并将最终答案四舍五入到四位有效数字。",
            "solution": "首先验证问题，以确保其具有科学依据、提法明确且客观。\n\n### 步骤 1：提取已知条件\n- 暴露组规模：$n_E = 1{,}800$\n- 非暴露组规模：$n_U = 2{,}200$\n- 暴露组人时：$PT_E = 4{,}150$ 人年\n- 暴露组新发病例：$D_E = 207$\n- 非暴露组人时：$PT_U = 5{,}500$ 人年\n- 非暴露组新发病例：$D_U = 154$\n- 假设1：每个暴露组内的风险率不随时间变化。\n- 假设2：不存在竞争风险。\n- 累积发病率计算的时间段：$t = 3$ 年。\n- 目标：计算 $3$ 年时暴露人群的归因风险。\n\n### 步骤 2：使用提取的已知条件进行验证\n该问题具有科学依据，使用了标准的流行病学概念，如队列研究、人时、发病率和累积发病率。恒定风险率的假设是对事件发生时间数据建模时一种常见且有效的简化，对应于指数生存模型。问题提法明确，提供了计算所求量所需的所有数据。数据值对于一项职业健康研究是合理的。问题陈述客观且没有歧义。基于这些原因，该问题被认为是有效的。\n\n### 步骤 3：结论与行动\n问题是有效的，有必要给出完整解答。\n\n### 解题推导\n\n解答过程遵循问题陈述中概述的步骤，从基本定义开始。\n\n1.  **发病率计算**\n发病率，在此背景下也称为发病密度或风险率，衡量的是风险人群中随时间推移新发病例的发生速率。对于一个随访时间可变的动态队列，其计算方法是新发病例数（$D$）除以总的风险人时（$PT$）。令 $\\lambda$ 表示发病率。\n\n对于暴露组，发病率 $\\lambda_E$ 为：\n$$ \\lambda_E = \\frac{D_E}{PT_E} = \\frac{207}{4{,}150} \\text{ 病例/人年} $$\n对于非暴露组，发病率 $\\lambda_U$ 为：\n$$ \\lambda_U = \\frac{D_U}{PT_U} = \\frac{154}{5{,}500} \\text{ 病例/人年} $$\n数值上，它们是：\n$$ \\lambda_E \\approx 0.0498795 \\text{ 病例/人年} $$\n$$ \\lambda_U = 0.028 \\text{ 病例/人年} $$\n\n2.  **将发病率与累积发病率联系起来**\n问题指明，每个组内的风险率随时间是恒定的。设恒定风险率为 $\\lambda$。生存函数 $S(t)$，即个体直到时间 $t$ 仍未患病的概率，与风险率通过以下方程相关联：\n$$ S(t) = \\exp\\left(-\\int_0^t \\lambda(u) \\, du\\right) $$\n鉴于风险率是恒定的，即 $\\lambda(u) = \\lambda$，积分简化为：\n$$ \\int_0^t \\lambda \\, du = \\lambda t $$\n因此，生存函数变为：\n$$ S(t) = \\exp(-\\lambda t) $$\n累积发病率 $CI(t)$ 是个体在时间 $t$ 前患病的概率。它是生存函数的补：\n$$ CI(t) = 1 - S(t) $$\n代入 $S(t)$ 的表达式，我们得到将累积发病率与恒定发病率联系起来的公式：\n$$ CI(t) = 1 - \\exp(-\\lambda t) $$\n我们应用此公式来计算暴露组和非暴露组的 $3$ 年累积发病率，设 $t=3$ 年。\n\n对于暴露组：\n$$ CI_E(3) = 1 - \\exp(-\\lambda_E \\times 3) = 1 - \\exp\\left(-\\frac{207}{4{,}150} \\times 3\\right) $$\n对于非暴露组：\n$$ CI_U(3) = 1 - \\exp(-\\lambda_U \\times 3) = 1 - \\exp\\left(-\\frac{154}{5{,}500} \\times 3\\right) $$\n\n3.  **风险差与暴露人群归因风险**\n在给定时间 $t$ 的风险差（$RD$）是暴露组和非暴露组之间风险（累积发病率）的绝对差异。\n$$ RD(t) = CI_E(t) - CI_U(t) $$\n在因果框架下，这个风险差被解释为暴露人群归因风险（$AR_E$）。它代表了暴露组中由暴露本身引起的超额风险。\n$$ AR_E(t) = CI_E(t) - CI_U(t) $$\n我们需要计算 $t=3$ 年时的情况：\n$$ AR_E(3) = CI_E(3) - CI_U(3) $$\n代入累积发病率的表达式：\n$$ AR_E(3) = \\left[1 - \\exp(-\\lambda_E \\times 3)\\right] - \\left[1 - \\exp(-\\lambda_U \\times 3)\\right] $$\n$$ AR_E(3) = \\exp(-\\lambda_U \\times 3) - \\exp(-\\lambda_E \\times 3) $$\n现在我们代入率的数值：\n$$ \\lambda_E = \\frac{207}{4{,}150} $$\n$$ \\lambda_U = \\frac{154}{5{,}500} = 0.028 $$\n指数部分为：\n$$ \\lambda_E \\times 3 = \\frac{207 \\times 3}{4{,}150} = \\frac{621}{4{,}150} \\approx 0.14963855 $$\n$$ \\lambda_U \\times 3 = 0.028 \\times 3 = 0.084 $$\n现在，我们计算 $3$ 年时暴露人群的归因风险：\n$$ AR_E(3) = \\exp(-0.084) - \\exp\\left(-\\frac{621}{4{,}150}\\right) $$\n$$ AR_E(3) \\approx 0.91942416 - 0.86101902 $$\n$$ AR_E(3) \\approx 0.05840514 $$\n问题要求将最终答案四舍五入到四位有效数字。\n$$ AR_E(3) \\approx 0.05841 $$\n这个值代表了在 $3$ 年期间，暴露组工人因溶剂暴露而导致的罹患该慢性病的超额风险。这意味着，与相似的非暴露工人群体相比，每 $10{,}000$ 名暴露工人中，在 $3$ 年内约有 $584$ 例超额病例可归因于该暴露。",
            "answer": "$$\n\\boxed{0.05841}\n$$"
        },
        {
            "introduction": "在上一练习的基础上，本题呈现了一个分析师因忽略不同随访时间而犯下常见错误的场景。你的任务不仅是计算出正确答案，更重要的是批判性地诊断出初始分析中的缺陷，并选择恰当的纠正方法 。这项实践强调了理解方法为何正确与应用方法本身同等重要。",
            "id": "4631904",
            "problem": "在两家工厂的装配工人中进行了一项关于溶剂暴露的队列研究。在研究基线时，招募了 $n_E = 1200$ 名暴露工人和 $n_U = 1800$ 名未暴露工人，所有人都未患病。在计划的为期 $2$ 年的随访中，暴露组发生了 $x_E = 96$ 例新发病例，未暴露组发生了 $x_U = 72$ 例。由于人员流动，暴露组的平均随访时间（$1.6$ 年）短于未暴露组（$1.9$ 年）。一位分析师报告称，基于病例数除以基线组人数的简单比例，风险差为 $0.04$，“暴露人群归因风险”为 $50\\%$。\n\n要求您批判性地评估此计算，并提出一种科学合理的方法，以得出各组之间可比较的指标。假设在研究期间，各组疾病的风险率（瞬时发病率）近似恒定，并且删失在暴露状态条件下是非信息性的。\n\n哪个选项正确地指出了分析师方法中的主要缺陷，应用了适当的补救措施，并报告了在共同的 $2$ 年时间范围内正确计算的风险差和暴露人群归因分数 (AFE)？\n\nA. 主要缺陷是随访时间不等，导致各组间的简单比例不具有可比性。补救措施：使用人-时数据估计发病率，然后在风险恒定的假设下将其转换为共同的 $2$ 年累积风险。正确结果：风险差 $\\approx 0.054$ 且 AFE $\\approx 0.567$。\n\nB. 主要缺陷是舍入误差。补救措施：用更多有效数字重新计算简单比例。正确结果：风险差 $\\approx 0.040$ 且 AFE $\\approx 0.500$。\n\nC. 主要缺陷是在随访时间不同时使用风险。补救措施：用发病率差代替风险差。报告率差约为每人年 $0.029$，并将 AFE 计算为率差除以暴露组率，约为 $0.579$。\n\nD. 主要缺陷是组别大小不等。补救措施：使用基线分母将计数标准化为每 $1000$ 名工人，计算出风险差为每 $1000$ 人 $40$ 例，AFE 由风险差除以未暴露组风险得出，约为 $100\\%$。",
            "solution": "首先从核心定义开始。到时间 $t$ 的累积发病率（风险），记为 $CI(t)$，是一个未患病个体在时间 $t$ 之前经历事件的概率；它通过适当处理删失以统一各组的时间范围来估计。发病率 $\\lambda$ 是每单位人-时的事件数。在共同时间 $t$ 的风险差是 $RD(t) = CI_E(t) - CI_U(t)$，其中 $CI_E(t)$ 和 $CI_U(t)$ 分别表示暴露组和未暴露组的风险。暴露人群归因分数 (AFE) 是暴露组中可归因于暴露的风险比例，定义为 $AFE(t) = \\dfrac{CI_E(t) - CI_U(t)}{CI_E(t)}$。\n\n符合原则的计算需要比较相同的时间范围，并恰当处理删失。分析师使用的简单比例 $x_E/n_E$ 和 $x_U/n_U$ 忽略了平均随访时间不同（$1.6$ 年对 $1.9$ 年）这一事实，因此分子反映了不同的风险时间量。这违反了风险的可比性，并可能导致风险差和 AFE 产生偏倚。\n\n在风险恒定的假设下，一个适当的补救措施是：\n- 使用人-时数据估计各组的发病率，然后\n- 利用恒定风险率与累积发病率之间的关系，即生存函数 $S(t) = \\exp(-\\lambda t)$ 和 $CI(t) = 1 - S(t) = 1 - \\exp(-\\lambda t)$，将该率转换为 $2$ 年风险。\n\n计算人-时和发病率：\n- 暴露组人-时：$PT_E = n_E \\times 1.6 = 1200 \\times 1.6 = 1920$ 人-年。\n- 未暴露组人-时：$PT_U = n_U \\times 1.9 = 1800 \\times 1.9 = 3420$ 人-年。\n- 暴露组发病率：$\\lambda_E = x_E / PT_E = 96 / 1920 = 0.05$ 每人-年。\n- 未暴露组发病率：$\\lambda_U = x_U / PT_U = 72 / 3420 \\approx 0.0210526$ 每人-年。\n\n使用恒定风险率转换为 $2$ 年风险：\n- 暴露组 $2$ 年风险：$CI_E(2) = 1 - \\exp(-\\lambda_E \\times 2) = 1 - \\exp(-0.10) \\approx 1 - 0.9048374 = 0.0951626$。\n- 未暴露组 $2$ 年风险：$CI_U(2) = 1 - \\exp(-\\lambda_U \\times 2) = 1 - \\exp(-0.0421053) \\approx 1 - 0.958768 \\approx 0.041232$。\n\n计算 $RD$ 和 $AFE$：\n- $RD(2) = CI_E(2) - CI_U(2) \\approx 0.0951626 - 0.041232 \\approx 0.0539306 \\approx 0.054$。\n- $AFE(2) = \\dfrac{CI_E(2) - CI_U(2)}{CI_E(2)} \\approx \\dfrac{0.0539306}{0.0951626} \\approx 0.5666 \\approx 0.567$。\n\n逐项分析：\n\nA. 指出随访时间不等是核心缺陷，提议根据人-时数据估计发病率，并在风险恒定的假设下转换为共同的 $2$ 年风险，并报告 $RD \\approx 0.054$ 和 $AFE \\approx 0.567$。这与上述符合原则的推导相匹配。结论：正确。\n\nB. 将差异归因于舍入误差，并保留简单比例 $x/n$。这忽略了随访时间不等的问题，没有解决可比性问题；报告的 $RD \\approx 0.040$ 和 $AFE \\approx 0.500$ 是幼稚的、有偏倚的数字。结论：错误。\n\nC. 建议改用发病率差而不是风险差。虽然率的比较解决了随访时间不等的问题，但问题要求的是在共同的 $2$ 年时间范围内的风险差和 AFE。报告每人年率差 $\\approx 0.029$ 并将“AFE”计算为率的比值 $\\approx 0.579$，这是将基于率和基于风险的量混为一谈；$AFE$ 是基于风险定义的，而不是率。结论：错误。\n\nD. 关注组别大小不等，并仅使用基线分母按每 $1000$ 名工人进行标准化。这没有解决随访时间不等的问题，并且在计算 AFE 时，通过将一个差值除以未暴露组的风险，混淆了单位，得出了约 $100\\%$ 的结果。AFE 的分母必须是暴露组的风险。结论：错误。",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "混杂是流行病学中的一个核心挑战，即第三个因素扭曲了暴露与结局之间的真实关联。本项最终练习将超越粗略的测量，演示如何计算经年龄调整后的暴露人群归因分值 。通过应用直接标准化法，我们可以在移除年龄这一混杂因素的干扰后，估算由暴露本身导致的风险部分。",
            "id": "4631907",
            "problem": "一项对某职业人群的队列研究对所有参与者进行了统一时期的观察，在此期间，累积发病风险可解释为发生结局的个体所占的比例。研究的暴露因素是一种特定溶剂，年龄是一个具有两个分层的潜在混杂因素。研究人员记录了以下计数：\n\n- 暴露组，年龄 < 50：$n = 300$ 名工人，其中 $24$ 例新发病例。\n- 暴露组，年龄 $\\ge 50$：$n = 200$ 名工人，其中 $40$ 例新发病例。\n- 非暴露组，年龄 < 50：$n = 500$ 名工人，其中 $30$ 例新发病例。\n- 非暴露组，年龄 $\\ge 50$：$n = 400$ 名工人，其中 $36$ 例新发病例。\n\n仅使用累积发病风险的核心定义、作为暴露相关超额风险的风险差概念，以及暴露人群中归因于暴露的病例比例是将暴露者的超额风险与其总风险进行比较这一理念，通过以暴露人群的年龄分布为标准进行直接标准化来控制年龄混杂，计算暴露人群的归因分值。将您的答案四舍五入至四位有效数字，并以小数（而非百分比）形式表示。",
            "solution": "对问题陈述进行验证。\n\n### 步骤1：提取已知信息\n提供的数据如下：\n- 暴露组，年龄 < 50：人群数量 $n = 300$，新发病例数 $= 24$。\n- 暴露组，年龄 $\\ge 50$：人群数量 $n = 200$，新发病例数 $= 40$。\n- 非暴露组，年龄 < 50：人群数量 $n = 500$，新发病例数 $= 30$。\n- 非暴露组，年龄 $\\ge 50$：人群数量 $n = 400$，新发病例数 $= 36$。\n任务是计算暴露人群的归因分值。\n指定的方法是使用直接标准化法来控制年龄混杂。\n用于标准化的标准人群被定义为暴露人群的年龄分布。\n要求的输出格式是四舍五入到四位有效数字的小数。\n\n### 步骤2：使用提取的已知信息进行验证\n该问题具有科学依据，采用了标准的流行病学概念，如队列研究、累积发病风险、混杂、归因分值和直接标准化法。所提供的数据由整数计数组成，这在此情境下是合适的。定义和说明清晰、独立且内部一致。该问题是适定的，为求得唯一解提供了所有必要信息。问题没有违反科学原则，没有模糊之处，也不依赖于主观论断。\n\n### 步骤3：结论与行动\n问题有效。现在将提供完整的解决方案。\n\n### 解答\n目标是通过直接标准化法校正年龄后，计算暴露人群的归因分值。暴露人群归因分值 ($AF_e$) 代表暴露组中可归因于暴露本身的病例比例。使用标准化风险，其公式为：\n$$AF_{e,std} = \\frac{R_{std, e} - R_{std, u}}{R_{std, e}}$$\n其中 $R_{std, e}$ 是暴露组的年龄标准化累积发病风险，$R_{std, u}$ 是非暴露组的年龄标准化累积发病风险。\n\n让我们将两个年龄分层表示为 $i=1$（年龄 < 50）和 $i=2$（年龄 $\\ge 50$）。\n\n首先，我们计算暴露组 ($e$) 和非暴露组 ($u$) 的各分层特定累积发病风险 ($R$)。累积发病风险是发生结局的个体所占的比例。\n\n对于暴露组：\n- 分层1的风险 ($R_{e,1}$): $R_{e,1} = \\frac{24}{300} = 0.08$\n- 分层2的风险 ($R_{e,2}$): $R_{e,2} = \\frac{40}{200} = 0.20$\n\n对于非暴露组：\n- 分层1的风险 ($R_{u,1}$): $R_{u,1} = \\frac{30}{500} = 0.06$\n- 分层2的风险 ($R_{u,2}$): $R_{u,2} = \\frac{36}{400} = 0.09$\n\n接下来，我们进行直接标准化。问题指定使用暴露人群的年龄分布作为标准。我们根据这个标准人群确定每个分层的权重 ($w_i$)。\n- 标准（暴露）人群中分层1的人数：$N_{std,1} = 300$\n- 标准（暴露）人群中分层2的人数：$N_{std,2} = 200$\n- 标准人群总数：$N_{std} = N_{std,1} + N_{std,2} = 300 + 200 = 500$\n\n每个分层的权重是该分层在标准人群中所占的比例：\n- 分层1的权重 ($w_1$): $w_1 = \\frac{N_{std,1}}{N_{std}} = \\frac{300}{500} = 0.6$\n- 分层2的权重 ($w_2$): $w_2 = \\frac{N_{std,2}}{N_{std}} = \\frac{200}{500} = 0.4$\n\n现在我们通过计算各分层特定风险的加权平均值来计算暴露组和非暴露组的年龄标准化风险。\n\n暴露组的标准化风险 ($R_{std, e}$) 为：\n$$R_{std, e} = \\sum_{i=1}^{2} w_i R_{e,i} = w_1 R_{e,1} + w_2 R_{e,2}$$\n$$R_{std, e} = (0.6)(0.08) + (0.4)(0.20) = 0.048 + 0.080 = 0.128$$\n注意，由于标准人群就是暴露人群本身，暴露组的标准化风险与暴露组的粗风险相同：$\\frac{24+40}{300+200} = \\frac{64}{500} = 0.128$。\n\n非暴露组的标准化风险 ($R_{std, u}$) 代表了标准人群在未暴露的情况下本应观察到的反事实风险：\n$$R_{std, u} = \\sum_{i=1}^{2} w_i R_{u,i} = w_1 R_{u,1} + w_2 R_{u,2}$$\n$$R_{std, u} = (0.6)(0.06) + (0.4)(0.09) = 0.036 + 0.036 = 0.072$$\n\n有了标准化风险，我们现在可以计算标准化风险差 ($RD_{std}$)，这是控制年龄后因暴露引起的超额风险。\n$$RD_{std} = R_{std, e} - R_{std, u} = 0.128 - 0.072 = 0.056$$\n\n最后，我们通过将标准化风险差除以暴露组的标准化风险来计算暴露人群归因分值 ($AF_{e,std}$)。\n$$AF_{e,std} = \\frac{RD_{std}}{R_{std, e}} = \\frac{0.056}{0.128}$$\n$$AF_{e,std} = \\frac{56}{128} = \\frac{7}{16} = 0.4375$$\n结果 $0.4375$ 恰好有四位有效数字，不需要进一步四舍五入。",
            "answer": "$$\\boxed{0.4375}$$"
        }
    ]
}