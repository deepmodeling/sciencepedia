{
    "hands_on_practices": [
        {
            "introduction": "在评估错分对关联性测量的影响之前，理解它如何影响我们分组的“纯度”至关重要。本练习将运用灵敏度、特异度和患病率等基本概念，计算一个假设问卷的阳性预测值（$PPV$）和阴性预测值（$NPV$），从而揭示我们对其分类结果的可信度。",
            "id": "4586601",
            "problem": "一项队列研究评估了一种二元职业溶剂暴露，其真实暴露变量记为 $X \\in \\{0,1\\}$，其中 $X=1$ 表示真实暴露。现场分类通过问卷进行，得到观测暴露 $\\tilde{X} \\in \\{0,1\\}$。一项验证子研究表明，相对于生物标志物金标准，该问卷用于暴露分类的灵敏度为 $Se_X$，特异度为 $Sp_X$，并且这些特性不因疾病状态而异（相对于疾病的非差异性错分）。在源人群中，真实暴露率为 $P(X=1)=0.30$。验证估计值为 $Se_X=0.85$ 和 $Sp_X=0.90$。\n\n仅使用基本概率定义和贝叶斯定理，计算在源人群中此暴露分类的阳性预测值 $PPV_X = P(X=1 \\mid \\tilde{X}=1)$ 和阴性预测值 $NPV_X = P(X=0 \\mid \\tilde{X}=0)$，并简要解释在非差异性错分条件下它们对于分类准确性的意义。\n\n将 $PPV_X$ 和 $NPV_X$ 以小数（非百分比）形式报告，并四舍五入至四位有效数字。将最终结果表示为行矩阵 $\\big[PPV_X \\;\\; NPV_X\\big]$。",
            "solution": "在尝试任何解答之前，对问题陈述进行验证。\n\n### 第1步：提取已知条件\n-   真实暴露变量：$X \\in \\{0,1\\}$，其中 $X=1$ 表示真实暴露。\n-   来自问卷的观测暴露变量：$\\tilde{X} \\in \\{0,1\\}$。\n-   暴露分类的灵敏度：$Se_X$。\n-   暴露分类的特异度：$Sp_X$。\n-   错分相对于疾病状态是非差异性的。\n-   源人群中的真实暴露率：$P(X=1) = 0.30$。\n-   验证估计值：$Se_X = 0.85$ 和 $Sp_X = 0.90$。\n-   目标：计算阳性预测值 $PPV_X = P(X=1 \\mid \\tilde{X}=1)$ 和阴性预测值 $NPV_X = P(X=0 \\mid \\tilde{X}=0)$。\n-   方法限制：仅使用基本概率定义和贝叶斯定理。\n-   报告格式：将 $PPV_X$ 和 $NPV_X$ 以小数形式报告，四舍五入至四位有效数字，并以行矩阵形式呈现。\n\n### 第2步：使用提取的已知条件进行验证\n该问题具有科学依据、提法恰当且客观。它是流行病学和生物统计学中基本概念的标准应用，特别是关于检验的操作特性（灵敏度、特异度）与在具有给定暴露率的人群中其预测值之间的关系。\n\n1.  **科学合理性**：灵敏度、特异度、预测值、暴露率和非差异性错分的概念是流行病学方法的基石。该问题正确且标准地表述了它们之间的相互作用。\n2.  **提法恰当性**：问题提供了所有必要的参数（$Se_X, Sp_X, P(X=1)$）以唯一确定所需的量（$PPV_X, NPV_X$）。问题是明确无误的。\n3.  **完整性**：问题是自洽的，没有矛盾。给定的数值对于真实的问卷调查是合理的。\n4.  **相关性**：该问题与理解暴露错分的后果直接相关，这是流行病学中的一个关键课题。错分的非差异性是一个关键假设，它如问题所述，将分析简化到了人群层面。\n\n### 第3步：结论与行动\n该问题被认为是**有效的**。将推导出解决方案。\n\n### 解答推导\n\n目标是计算暴露问卷的阳性预测值（$PPV_X$）和阴性预测值（$NPV_X$）。这些是我们將使用贝叶斯定理推导的条件概率。\n\n首先，我们正式定义给定的参数：\n-   真实暴露率：$P(X=1) = 0.30$。\n-   由此，真实未暴露率为：$P(X=0) = 1 - P(X=1) = 1 - 0.30 = 0.70$。\n-   问卷的灵敏度：$Se_X = P(\\tilde{X}=1 \\mid X=1) = 0.85$。这是在真实暴露的情况下，被分类为暴露的概率。\n-   问卷的特异度：$Sp_X = P(\\tilde{X}=0 \\mid X=0) = 0.90$。这是在真实未暴露的情况下，被分类为未暴露的概率。\n\n我们还需要错误分类的概率：\n-   假阴性率是 $P(\\tilde{X}=0 \\mid X=1) = 1 - Se_X = 1 - 0.85 = 0.15$。\n-   假阳性率是 $P(\\tilde{X}=1 \\mid X=0) = 1 - Sp_X = 1 - 0.90 = 0.10$。\n\n**1. 阳性预测值（$PPV_X$）的计算**\n\n阳性预测值是指在被分类为暴露的情况下，受试者真实暴露的概率，即 $PPV_X = P(X=1 \\mid \\tilde{X}=1)$。\n\n使用贝叶斯定理：\n$$ PPV_X = P(X=1 \\mid \\tilde{X}=1) = \\frac{P(\\tilde{X}=1 \\mid X=1) P(X=1)}{P(\\tilde{X}=1)} $$\n分子中的项是联合概率 $P(\\tilde{X}=1, X=1)$。分母 $P(\\tilde{X}=1)$ 是被分类为暴露的总概率，可以使用全概率定律计算：\n$$ P(\\tilde{X}=1) = P(\\tilde{X}=1 \\mid X=1) P(X=1) + P(\\tilde{X}=1 \\mid X=0) P(X=0) $$\n代入灵敏度和特异度的定义：\n$$ P(\\tilde{X}=1) = (Se_X) \\cdot P(X=1) + (1 - Sp_X) \\cdot P(X=0) $$\n因此，$PPV_X$ 的完整表达式为：\n$$ PPV_X = \\frac{Se_X \\cdot P(X=1)}{Se_X \\cdot P(X=1) + (1 - Sp_X) \\cdot (1 - P(X=1))} $$\n代入给定的数值：\n$$ PPV_X = \\frac{(0.85)(0.30)}{(0.85)(0.30) + (1 - 0.90)(1 - 0.30)} $$\n$$ PPV_X = \\frac{0.255}{0.255 + (0.10)(0.70)} $$\n$$ PPV_X = \\frac{0.255}{0.255 + 0.070} $$\n$$ PPV_X = \\frac{0.255}{0.325} \\approx 0.78461538... $$\n四舍五入到四位有效数字，我们得到 $PPV_X = 0.7846$。\n\n**2. 阴性预测值（$NPV_X$）的计算**\n\n阴性预测值是指在被分类为未暴露的情况下，受试者真实未暴露的概率，即 $NPV_X = P(X=0 \\mid \\tilde{X}=0)$。\n\n使用贝叶斯定理：\n$$ NPV_X = P(X=0 \\mid \\tilde{X}=0) = \\frac{P(\\tilde{X}=0 \\mid X=0) P(X=0)}{P(\\tilde{X}=0)} $$\n分子中的项是联合概率 $P(\\tilde{X}=0, X=0)$。分母 $P(\\tilde{X}=0)$ 是被分类为未暴露的总概率。使用全概率定律：\n$$ P(\\tilde{X}=0) = P(\\tilde{X}=0 \\mid X=0) P(X=0) + P(\\tilde{X}=0 \\mid X=1) P(X=1) $$\n代入灵敏度和特异度的定义：\n$$ P(\\tilde{X}=0) = (Sp_X) \\cdot P(X=0) + (1 - Se_X) \\cdot P(X=1) $$\n因此，$NPV_X$ 的完整表达式为：\n$$ NPV_X = \\frac{Sp_X \\cdot P(X=0)}{Sp_X \\cdot P(X=0) + (1 - Se_X) \\cdot P(X=1)} $$\n代入给定的数值：\n$$ NPV_X = \\frac{(0.90)(0.70)}{(0.90)(0.70) + (1 - 0.85)(0.30)} $$\n$$ NPV_X = \\frac{0.630}{0.630 + (0.15)(0.30)} $$\n$$ NPV_X = \\frac{0.630}{0.630 + 0.045} $$\n$$ NPV_X = \\frac{0.630}{0.675} \\approx 0.93333333... $$\n四舍五入到四位有效数字，我们得到 $NPV_X = 0.9333$。\n\n**解释**\n\n阳性预测值 $PPV_X \\approx 0.7846$ 意味着，在被问卷分类为暴露的个体中，只有约 $78.5\\%$ 是真实暴露的。其余的 $21.5\\%$ 是假阳性。阴性预测值 $NPV_X \\approx 0.9333$ 意味着，在被分类为未暴露的个体中，约有 $93.3\\%$ 是真实未暴露的。其余的 $6.7\\%$ 是假阴性。\n\n这些计算展示了一个关键原则：一个检验（或分类工具）的预测值不仅取决于其内在特性（$Se_X$ 和 $Sp_X$），还取决于被测人群中该状况的流行率（$P(X=1)$）。在本例中，由于暴露相对不常见（$30\\%$），即使灵敏度和特异度相当不错，阳性检验结果的可靠性（$PPV_X = 0.7846$）也低于阴性检验结果的可靠性（$NPV_X = 0.9333$）。这说明了非差异性错分对分类暴露组“纯度”的影响。",
            "answer": "$$ \\boxed{ \\begin{pmatrix} 0.7846 & 0.9333 \\end{pmatrix} } $$"
        },
        {
            "introduction": "接下来，我们探讨错分如何影响暴露与结局之间的关联。本练习将展示一个经典原则：二元结局的非差异性错分通常会使关联性测量的估计值（如此处的相对风险 $RR$）偏向于无效值1。通过计算，您将亲眼看到真实的关联是如何被不完美的测量所削弱的。",
            "id": "4586594",
            "problem": "考虑一项关于二元暴露 $X \\in \\{0,1\\}$ 和二元结局 $Y \\in \\{0,1\\}$ 的队列研究。真实风险为 $P(Y=1 \\mid X=1)=0.20$ 和 $P(Y=1 \\mid X=0)=0.10$，因此真实相对风险 (RR) 为 $RR=\\frac{P(Y=1 \\mid X=1)}{P(Y=1 \\mid X=0)}=2$。结局的测量存在误差，得到的记录结局为 $Y^{*} \\in \\{0,1\\}$。结局分类的灵敏度定义为 $P(Y^{*}=1 \\mid Y=1)$，其值为 $Se_{Y}=0.80$；特异度定义为 $P(Y^{*}=0 \\mid Y=0)$，其值为 $Sp_{Y}=0.90$。假设结局错分是非差异性的，这意味着灵敏度 $Se_{Y}$ 和特异度 $Sp_{Y}$ 在暴露组和非暴露组中是相同的。\n\n使用风险、相对风险 (RR)、灵敏度和特异度的核心定义以及全概率定律，计算基于 $Y^{*}$ 的观测相对风险，即 $RR^{*}=\\frac{P(Y^{*}=1 \\mid X=1)}{P(Y^{*}=1 \\mid X=0)}$。将您的最终答案表示为一个无单位的精确既约分数。",
            "solution": "这个问题是有效的，因为它基于流行病学原理，提法得当，并以客观、可量化的数据为基础。它提供了在非差异性结局错分条件下计算观测相对风险所需的所有信息。\n\n目标是计算观测相对风险，记为 $RR^{*}$，其定义为暴露组中结局的观测风险与非暴露组中结局的观测风险之比。观测结局记为 $Y^{*}$，而真实结局为 $Y$。暴露为 $X$。观测相对风险由以下公式给出：\n$$RR^{*} = \\frac{P(Y^{*}=1 \\mid X=1)}{P(Y^{*}=1 \\mid X=0)}$$\n\n我们已知以下信息：\n暴露组的真实风险：$P(Y=1 \\mid X=1) = 0.20$。\n非暴露组的真实风险：$P(Y=1 \\mid X=0) = 0.10$。\n由此，我们也可以确定没有真实结局的概率：\n$P(Y=0 \\mid X=1) = 1 - P(Y=1 \\mid X=1) = 1 - 0.20 = 0.80$。\n$P(Y=0 \\mid X=0) = 1 - P(Y=1 \\mid X=0) = 1 - 0.10 = 0.90$。\n\n结局分类是不完美的，其特征如下：\n灵敏度：$Se_{Y} = P(Y^{*}=1 \\mid Y=1) = 0.80$。\n特异度：$Sp_{Y} = P(Y^{*}=0 \\mid Y=0) = 0.90$。\n\n根据特异度，我们可以确定假阳性分类的概率：\n$P(Y^{*}=1 \\mid Y=0) = 1 - P(Y^{*}=0 \\mid Y=0) = 1 - Sp_{Y} = 1 - 0.90 = 0.10$。\n\n问题指出结局错分是非差异性的，这意味着结局测量的灵敏度和特异度不依赖于暴露状态 $X$。也就是说，$P(Y^{*} \\mid Y, X=1) = P(Y^{*} \\mid Y, X=0) = P(Y^{*} \\mid Y)$。\n\n首先，我们计算 $RR^{*}$ 的分子，即暴露组的观测风险 $P(Y^{*}=1 \\mid X=1)$。我们使用全概率定律，以真实结局状态 $Y$ 为条件。\n$$P(Y^{*}=1 \\mid X=1) = P(Y^{*}=1 \\mid Y=1, X=1)P(Y=1 \\mid X=1) + P(Y^{*}=1 \\mid Y=0, X=1)P(Y=0 \\mid X=1)$$\n根据非差异性错分假设，我们可以简化观测结局的条件概率：\n$P(Y^{*}=1 \\mid Y=1, X=1) = P(Y^{*}=1 \\mid Y=1) = Se_{Y}$。\n$P(Y^{*}=1 \\mid Y=0, X=1) = P(Y^{*}=1 \\mid Y=0) = 1 - Sp_{Y}$。\n将这些代入暴露组观测风险的方程中：\n$$P(Y^{*}=1 \\mid X=1) = Se_{Y} \\cdot P(Y=1 \\mid X=1) + (1-Sp_{Y}) \\cdot P(Y=0 \\mid X=1)$$\n代入数值：\n$$P(Y^{*}=1 \\mid X=1) = (0.80)(0.20) + (1-0.90)(0.80)$$\n$$P(Y^{*}=1 \\mid X=1) = 0.16 + (0.10)(0.80) = 0.16 + 0.08 = 0.24$$\n\n接下来，我们计算 $RR^{*}$ 的分母，即非暴露组的观测风险 $P(Y^{*}=1 \\mid X=0)$。我们应用相同的逻辑。\n$$P(Y^{*}=1 \\mid X=0) = P(Y^{*}=1 \\mid Y=1, X=0)P(Y=1 \\mid X=0) + P(Y^{*}=1 \\mid Y=0, X=0)P(Y=0 \\mid X=0)$$\n再次使用非差异性错分假设：\n$$P(Y^{*}=1 \\mid X=0) = Se_{Y} \\cdot P(Y=1 \\mid X=0) + (1-Sp_{Y}) \\cdot P(Y=0 \\mid X=0)$$\n代入数值：\n$$P(Y^{*}=1 \\mid X=0) = (0.80)(0.10) + (1-0.90)(0.90)$$\n$$P(Y^{*}=1 \\mid X=0) = 0.08 + (0.10)(0.90) = 0.08 + 0.09 = 0.17$$\n\n最后，我们通过计算两个观测风险的比率来计算观测相对风险 $RR^{*}$。\n$$RR^{*} = \\frac{P(Y^{*}=1 \\mid X=1)}{P(Y^{*}=1 \\mid X=0)} = \\frac{0.24}{0.17}$$\n为了将其表示为精确的既约分数，我们将小数值写成分数形式：\n$$RR^{*} = \\frac{24/100}{17/100} = \\frac{24}{17}$$\n数字 $24$ 和 $17$ 互质（因为 $17$ 是一个质数，且不能整除 $24$），所以这个分数已经是其最简形式。真实的相对风险为 $RR = 0.20 / 0.10 = 2$。观测到的相对风险为 $RR^{*} = 24/17 \\approx 1.41$，这表明了对于二元结局的非差异性错分，其特有的偏倚是趋向于无效值1。",
            "answer": "$$\\boxed{\\frac{24}{17}}$$"
        },
        {
            "introduction": "与非差异性错分的可预测效应不同，差异性错分可能导致偏倚朝向任何方向。本练习将探讨一个病例对照研究的场景，其中暴露测量的准确性在病例组和对照组之间存在差异。通过计算，您将发现这种差异如何导致观测到的比值比（$OR$）偏离无效值，从而高估了真实的关联强度。",
            "id": "4586568",
            "problem": "一项病例对照研究旨在调查二元暴露 $X$ 与疾病 $D$ 之间的关联。假设病例组与对照组相比，真实的暴露比值比（OR）为 $1.5$。为使情景具体化，假设有 $n_{1} = 1000$ 名病例和 $n_{0} = 1000$ 名对照，病例中的真实暴露流行率等于 $p_{1} = 0.5$，对照中的真实暴露流行率等于 $p_{0} = 0.4$。暴露 $X$ 的测量存在误差，且该误差因病例状态而异（差异性错分）：在病例中，暴露分类的灵敏度为 $Se_{X,1} = 0.9$，而在对照中，暴露分类的灵敏度为 $Se_{X,0} = 0.7$。暴露分类的特异度在病例和对照中相等，为 $Sp_{X} = 0.95$。\n\n使用基本定义：灵敏度 $Se_{X}$ 是在真实暴露的情况下，测量结果为暴露的概率；特异度 $Sp_{X}$ 是在真实未暴露的情况下，测量结果为未暴露的概率。同时使用比值比的定义，即病例中暴露的比值（odds）与对照中暴露的比值之比。从这些定义和给定的参数出发，推导从错误分类的数据中计算出的观测（错误分类的）暴露比值比。将最终数值答案四舍五入至四位有效数字。最终答案以纯数字形式表示，不带任何单位。",
            "solution": "对问题陈述进行验证。\n\n### 步骤 1：提取给定条件\n- 研究设计：病例对照研究。\n- 关注的关联：二元暴露 $X$ 与疾病 $D$。\n- 真实暴露比值比：$OR_{true} = 1.5$。\n- 病例数：$n_1 = 1000$。\n- 对照数：$n_0 = 1000$。\n- 病例中的真实暴露流行率：$p_1 = P(\\text{真实 } X=1 | D=1) = 0.5$。\n- 对照中的真实暴露流行率：$p_0 = P(\\text{真实 } X=1 | D=0) = 0.4$。\n- 病例中暴露分类的灵敏度：$Se_{X,1} = P(\\text{测量 } X=1 | \\text{真实 } X=1, D=1) = 0.9$。\n- 对照中暴露分类的灵敏度：$Se_{X,0} = P(\\text{测量 } X=1 | \\text{真实 } X=1, D=0) = 0.7$。\n- 病例和对照中暴露分类的特异度：$Sp_X = P(\\text{测量 } X=0 | \\text{真实 } X=0, D) = 0.95$。\n\n### 步骤 2：使用提取的给定条件进行验证\n该问题在科学上基于标准的流行病学原理，包括比值比、灵敏度、特异度和差异性错分的定义。\n该问题提法恰当且内部一致。所提供的真实流行率 $p_1 = 0.5$ 和 $p_0 = 0.4$ 与所述的真实比值比 $1.5$ 一致。这可通过以下计算验证：\n$$OR_{true} = \\frac{p_1 / (1-p_1)}{p_0 / (1-p_0)} = \\frac{0.5 / (1-0.5)}{0.4 / (1-0.4)} = \\frac{0.5/0.5}{0.4/0.6} = \\frac{1}{2/3} = 1.5$$\n计算所需的所有参数都已提供。该问题要求计算观测比值比，这是错分效应分析中的一个标准程序。语言客观且无歧义。该问题有效。\n\n### 步骤 3：结论与行动\n该问题有效。\n我们继续解决该问题。\n\n令 $X$ 表示真实暴露状态（$X=1$ 为暴露，$X=0$ 为未暴露），$X'$ 表示测量暴露状态（$X'=1$ 为测量的暴露，$X'=0$ 为测量的未暴露）。令 $D$ 表示疾病状态（$D=1$ 为病例，$D=0$ 为对照）。\n\n观测比值比 $OR_{obs}$ 由病例 ($p'_1$) 和对照 ($p'_0$) 中观测到的暴露流行率定义：\n$$OR_{obs} = \\frac{p'_1 / (1-p'_1)}{p'_0 / (1-p'_0)}$$\n其中 $p'_1 = P(X'=1|D=1)$ 且 $p'_0 = P(X'=1|D=0)$。\n\n我们的任务是使用给定的真实流行率和错分参数来计算 $p'_1$ 和 $p'_0$。\n\n首先，我们计算病例中观测到的暴露流行率 $p'_1$。使用全概率定律，我们可以将 $p'_1$ 表示为：\n$$p'_1 = P(X'=1|D=1) = P(X'=1|X=1, D=1)P(X=1|D=1) + P(X'=1|X=0, D=1)P(X=0|D=1)$$\n\n我们从问题陈述中确定每一项：\n- $P(X=1|D=1)$ 是病例中的真实流行率，$p_1 = 0.5$。\n- $P(X=0|D=1) = 1 - p_1 = 1 - 0.5 = 0.5$。\n- $P(X'=1|X=1, D=1)$ 是病例中的灵敏度，$Se_{X,1} = 0.9$。\n- $P(X'=1|X=0, D=1)$ 是病例中假阳性的概率。这等于 $1 - Sp_X$，其中 $Sp_X$ 是特异度。因此，$P(X'=1|X=0, D=1) = 1 - Sp_X = 1 - 0.95 = 0.05$。\n\n将这些值代入 $p'_1$ 的方程中：\n$$p'_1 = (Se_{X,1})(p_1) + (1-Sp_X)(1-p_1)$$\n$$p'_1 = (0.9)(0.5) + (0.05)(0.5) = 0.45 + 0.025 = 0.475$$\n\n接下来，我们计算对照中观测到的暴露流行率 $p'_0$：\n$$p'_0 = P(X'=1|D=0) = P(X'=1|X=1, D=0)P(X=1|D=0) + P(X'=1|X=0, D=0)P(X=0|D=0)$$\n\n我们确定对照组的每一项：\n- $P(X=1|D=0)$ 是对照中的真实流行率，$p_0 = 0.4$。\n- $P(X=0|D=0) = 1 - p_0 = 1 - 0.4 = 0.6$。\n- $P(X'=1|X=1, D=0)$ 是对照中的灵敏度，$Se_{X,0} = 0.7$。\n- $P(X'=1|X=0, D=0)$ 是对照中假阳性的概率，即 $1 - Sp_X = 1 - 0.95 = 0.05$。\n\n将这些值代入 $p'_0$ 的方程中：\n$$p'_0 = (Se_{X,0})(p_0) + (1-Sp_X)(1-p_0)$$\n$$p'_0 = (0.7)(0.4) + (0.05)(0.6) = 0.28 + 0.03 = 0.31$$\n\n现在我们有了观测到的流行率，可以计算观测比值比 $OR_{obs}$。\n病例中观测到的暴露比值为：\n$$Odds'_{1} = \\frac{p'_1}{1-p'_1} = \\frac{0.475}{1-0.475} = \\frac{0.475}{0.525}$$\n对照中观测到的暴露比值为：\n$$Odds'_{0} = \\frac{p'_0}{1-p'_0} = \\frac{0.31}{1-0.31} = \\frac{0.31}{0.69}$$\n\n观测比值比是这些比值的比率：\n$$OR_{obs} = \\frac{Odds'_{1}}{Odds'_{0}} = \\frac{0.475/0.525}{0.31/0.69} = \\frac{0.475 \\times 0.69}{0.525 \\times 0.31}$$\n$$OR_{obs} = \\frac{0.32775}{0.16275} \\approx 2.01382488...$$\n\n问题要求答案四舍五入至四位有效数字。\n$$OR_{obs} \\approx 2.014$$\n\n样本量 $n_1=1000$ 和 $n_0=1000$ 定义了假设研究的规模，但计算观测比值比的期望值并不需要它们，该值由基础概率决定。\n差异性错分，即对照组的灵敏度（$Se_{X,0}=0.7$）低于病例组（$Se_{X,1}=0.9$），导致观测比值比偏离零值 $1.0$，得到的观测 $OR_{obs}$ 为 $2.014$，大于真实 $OR_{true}$ 的 $1.5$。",
            "answer": "$$\\boxed{2.014}$$"
        }
    ]
}