{
    "hands_on_practices": [
        {
            "introduction": "在研究设计阶段应用限制法之前，我们必须首先确定需要控制哪些变量以消除混杂。这个练习将指导你使用有向无环图（DAG）和后门准则，来识别阻断暴露与结局之间所有非因果路径所需的最小变量集。掌握这项技能是进行严谨因果推断的基础 。",
            "id": "4631027",
            "problem": "一位研究者计划进行一项观察性队列研究，以估计暴露 $X$ 对结局 $Y$ 的因果效应。在抽样之前，研究者可以通过将某些基线协变量固定在单一水平来实施限制作为一种设计控制，从而防止某些来源的偏倚。考虑由有向无环图（DAG）表示的以下因果结构，其中箭头表示直接因果效应，没有箭头表示没有直接因果效应：\n\n- $C \\to X$，$C \\to Y$。\n- $L \\to X$，$L \\to M$，$M \\to Y$，以及 $X \\to M$。\n- $X \\to S$ 和 $Y \\to S$。\n- $E \\to X$。\n\n不存在其他箭头。所有变量 $C$、$L$、$M$、$S$ 和 $E$ 都在基线时测量，限制意味着只对这些变量具有特定固定值的个体进行抽样。\n\n仅使用因果图的基本原理和后门准则，根据后门准则，确定必须通过限制来固定的最小变量集，以阻断 $X$ 和 $Y$ 之间的所有非因果路径。最小的定义是：该集合能阻断所有后门路径，并且从中移除任何一个变量都将无法做到这一点。\n\n选择一个选项：\n\nA. $\\{C, L\\}$\n\nB. $\\{C, M\\}$\n\nC. $\\{C\\}$\n\nD. $\\{L, S\\}$\n\nE. $\\{C, L, E\\}$",
            "solution": "用户要求对问题陈述进行严格验证，然后从第一性原理推导解决方案，并对所有选项进行评估。\n\n### 问题验证\n\n**步骤1：提取已知信息**\n\n问题陈述提供了以下信息：\n-   **目标：** 在一项观察性队列研究中，估计暴露 $X$ 对结局 $Y$ 的因果效应。\n-   **设计控制：** 限制，定义为将基线协变量固定在单一水平。\n-   **因果结构（有向无环图）：**\n    -   $C \\to X$ 和 $C \\to Y$。\n    -   $L \\to X$、$L \\to M$、$M \\to Y$ 和 $X \\to M$。\n    -   $X \\to S$ 和 $Y \\to S$。\n    -   $E \\to X$。\n-   **约束：** 图中不存在其他箭头。\n-   **假设：** 所有变量 $C$、$L$、$M$、$S$ 和 $E$ 都在基线时测量，并且可以对其中任何一个应用限制。\n-   **问题：** 根据后门准则，确定用于限制的最小变量集，以阻断 $X$ 和 $Y$ 之间的所有非因果路径。\n-   **最小的定义：** 该集合必须阻断所有后门路径，并且从中移除任何变量都会使其不足以阻断所有后门路径。\n\n**步骤2：使用提取的已知信息进行验证**\n\n-   **科学依据：** 该问题牢固地定位于现代流行病学和因果推断领域。它使用了标准、定义明确的概念，如：有向无环图（DAGs）、混杂（confounding）和后门准则。这些是在观察性研究中识别和控制偏倚的基本工具。该问题在科学上是合理的。\n-   **适定性：** 因果图被完全指定。目标陈述清晰：找到满足后门准则的最小变量集。“最小”的定义已给出并且是标准的。该问题是适定的。\n-   **客观性：** 该问题使用数学和因果图理论的形式化和客观语言进行描述。没有主观或模糊的陈述。\n\n**步骤3：结论和行动**\n\n问题陈述在科学上是合理的、适定的和客观的。它代表了应用因果推断原理的一个标准练习。因此，该问题是**有效的**。我们可以继续进行求解。\n\n### 解题推导\n\n主要目标是确定一个满足后门准则的最小协变量集进行调整（conditioning），以便能够无偏地估计 $X$ 对 $Y$ 的总因果效应。限制是在研究设计阶段实施的一种调整形式。\n\n后门准则指出，一组变量 $Z$ 足以用于调整，如果：\n1.  $Z$ 中没有变量是暴露 $X$ 的后代。\n2.  $Z$ 中的变量阻断了暴露 $X$ 和结局 $Y$ 之间的每一条非因果（后门）路径。后门路径是指以指向 $X$ 的箭头开始的路径。\n\n让我们系统地识别 $X$ 和 $Y$ 之间的所有路径，并确定哪些是需要阻断的后门路径。\n\n从 $X$ 到 $Y$ 的有向路径构成了因果效应。我们不能阻断这些路径。\n-   **因果路径1：** $X \\to M \\to Y$。这是一条中介因果路径。\n\n$X$ 和 $Y$ 之间的非因果路径必须被识别并阻断。如果一个变量是路径上的链（$A \\to B \\to C$）或分叉（$A \\leftarrow B \\to C$），那么对该变量进行调整就可以阻断该路径。如果路径包含一个*未*被调整的对撞点（collider，$A \\to B \\leftarrow C$），该路径也会被阻断。\n\n-   **非因果路径1：** $X \\leftarrow C \\to Y$。这是一条后门路径，其中 $C$ 是 $X$ 和 $Y$ 的共同原因。它是混杂的来源。此路径默认是开放的。要阻断它，我们必须对 $C$ 进行调整。\n\n-   **非因果路径2：** $X \\leftarrow L \\to M \\to Y$。这是另一条后门路径。它默认是开放的。要阻断此路径，我们可以调整 $L$（一个分叉）或 $M$（一个链）。然而，由于边 $X \\to M$ 的存在，变量 $M$ 是 $X$ 的后代。根据后门准则的第一条规则，$M$ 不能包含在调整集 $Z$ 中。因此，要阻断此路径，我们必须对 $L$ 进行调整。\n\n-   **非因果路径3：** $X \\to S \\leftarrow Y$。这条路径不是后门路径，因为它不是以指向 $X$ 的箭头开始的。变量 $S$ 是这条路径上的一个对撞点。包含未调整的对撞点的路径天然是阻断的。对 $S$（或其任何后代）进行调整会打开这条路径，并引发对撞分层偏倚（collider-stratification bias）。此外，由于 $X \\to S$，$S$ 是 $X$ 的后代，根据后门准则的第一条规则，它被排除在调整集之外。因此，我们*绝不能*对 $S$ 进行调整。\n\n-   **E的作用：** 变量 $E$ 是 $X$ 的一个原因（$E \\to X$），但与系统没有其他连接。它不位于 $X$ 和 $Y$ 之间的任何路径上。因此，$E$ 不是一个混杂因素，不需要为了阻断任何后门路径而对其进行调整。\n\n基于此分析，为了满足后门准则，我们必须阻断路径 $X \\leftarrow C \\to Y$ 和路径 $X \\leftarrow L \\to M \\to Y$。\n-   要阻断 $X \\leftarrow C \\to Y$，我们必须对 $C$ 进行调整。\n-   要阻断 $X \\leftarrow L \\to M \\to Y$，我们必须对 $L$ 进行调整。\n\n因此，充分的调整集是 $\\{C, L\\}$。这个集合满足后门准则的两个条件：\n1.  $C$ 和 $L$ 都不是 $X$ 的后代。\n2.  对 $\\{C, L\\}$ 进行调整会阻断 $X$ 和 $Y$ 之间的所有后门路径。\n\n问题要求的是*最小*的此类集合。\n-   该集合是 $\\{C, L\\}$。\n-   如果我们移除 $C$，路径 $X \\leftarrow C \\to Y$ 将变为非阻断状态。\n-   如果我们移除 $L$，路径 $X \\leftarrow L \\to M \\to Y$ 将变为非阻断状态。\n因此，集合 $\\{C, L\\}$ 确实是最小的。\n\n### 选项评估\n\n**A. $\\{C, L\\}$**\n这个集合涉及对 $C$ 和 $L$ 进行调整。如上所述，调整 $C$ 会阻断路径 $X \\leftarrow C \\to Y$，调整 $L$ 会阻断路径 $X \\leftarrow L \\to M \\to Y$。这个集合阻断了所有后门路径。$C$ 和 $L$ 都不是 $X$ 的后代。该集合是最小的，因为移除任何一个变量都会使一条后门路径开放。\n**结论：正确。**\n\n**B. $\\{C, M\\}$**\n这个集合无效，原因有二。首先，变量 $M$ 是 $X$ 的后代（由于路径 $X \\to M$），这违反了后门准则的第一个条件。对暴露的后代进行调整会引入偏倚。其次，$M$ 是因果路径 $X \\to M \\to Y$ 上的一个中介变量。对中介变量进行调整会阻断这部分因果效应，导致估计的是 $X$ 对 $Y$ 的直接效应，而不是总因果效应。\n**结论：不正确。**\n\n**C. $\\{C\\}$**\n这个集合不充分。虽然对 $C$ 进行调整可以阻断后门路径 $X \\leftarrow C \\to Y$，但它未能阻断后门路径 $X \\leftarrow L \\to M \\to Y$。因此，由 $L$ 引起的混杂仍然存在。\n**结论：不正确。**\n\n**D. $\\{L, S\\}$**\n这个集合不充分且有主动危害。它不充分，因为它不包括 $C$，使得路径 $X \\leftarrow C \\to Y$ 保持开放。它有害，因为 $S$ 是路径 $X \\to S \\leftarrow Y$ 上的一个对撞点。对 $S$ 进行调整会打开这条非因果路径，引入对撞分层偏倚。此外，$S$ 是 $X$ 的后代，因此它不能成为有效的后门调整集的一部分。\n**结论：不正确。**\n\n**E. $\\{C, L, E\\}$**\n这个集合是充分的，因为它包含了最小充分集 $\\{C, L\\}$。对 $C$ 和 $L$ 进行调整可以阻断所有后门路径。对额外的变量 $E$ 进行调整是不必要的，因为 $E$ 不在 $X$ 和 $Y$ 之间的任何后门路径上。由于问题要求的是*最小*集合，而 $E$ 可以从这个集合中移除而不影响其阻断所有后门路径的能力，因此这个集合不是最小的。\n**结论：不正确。**",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "虽然限制法是控制混杂的有力工具，但它并非万无一失，尤其是在存在多个混杂因素的情况下。本练习模拟了一个场景：研究者成功地通过限制年龄来控制了年龄的混杂，但忽略了吸烟状况。通过这个量化练习 ，你将计算出由于未能控制第二个混杂因素而导致的“残余混杂偏倚”的大小，从而深刻理解不完全控制的后果。",
            "id": "4631074",
            "problem": "一项职业队列研究调查了二元溶剂暴露（用 $E \\in \\{0,1\\}$ 表示）对一种连续性炎症生物标志物，即C-反应蛋白（CRP，单位为 $\\mathrm{mg/L}$，用 $Y$ 表示）的影响。两个潜在的混杂因素是年龄（用 $A$ 表示，单位为岁）和当前吸烟状况（用 $S \\in \\{0,1\\}$ 表示，其中 $S=1$ 表示当前吸烟者）。\n\n源人群中结果的真实数据生成机制是线性可加的，没有交互作用：\n$$\nY \\;=\\; \\beta_{0} \\;+\\; \\beta_{E}\\,E \\;+\\; \\beta_{S}\\,S \\;+\\; \\beta_{A}\\,A \\;+\\; \\varepsilon,\n$$\n其中 $\\varepsilon$ 的均值为 $0$，且独立于 $E$、$S$ 和 $A$。在未受限制的人群中，$A$ 和 $S$ 都与 $E$ 相关，并且 $A$ 和 $S$ 都对 $Y$ 有因果影响。\n\n为了通过设计控制来消除年龄混杂，分析被限制在基线时年龄恰好为 $A=50$ 岁的工人中。在这个受限制的数据集中，已知以下信息：\n- 暴露效应为 $\\beta_{E}=2$（可解释为 $E$ 每增加一个单位，$Y$ 增加 $2\\,\\mathrm{mg/L}$）。\n- 吸烟效应为 $\\beta_{S}=5$（与 $S=0$ 相比，$S=1$ 时 $Y$ 增加 $5\\,\\mathrm{mg/L}$）。\n- 年龄效应为 $\\beta_{A}=0.1$（在未受限制的人群中，年龄每增加一岁，$Y$ 增加 $0.1\\,\\mathrm{mg/L}$）。\n- 限制到 $A=50$ 后，不同暴露组的吸烟率不同：$\\Pr(S=1 \\mid E=1)=0.6$ 和 $\\Pr(S=1 \\mid E=0)=0.3$。\n\n假设 $E$、$S$ 和 $A$ 之间没有交互作用项，并且 $\\varepsilon$ 满足上述标准线性模型假设。如果在受限制的数据集中，仅对 $Y$ 和 $E$ 进行简单线性回归（即从模型中省略 $S$），请量化在 $E$ 的估计系数中由吸烟引起的残余混杂偏倚。请用一个单位为 $\\mathrm{mg/L}$ 的数值表示最终答案。提供精确值（不四舍五入）。",
            "solution": "### 步骤1：提取已知信息\n问题提供了以下信息：\n-   **结果**：$Y$ 是一个连续性炎症生物标志物（CRP，单位为 $\\mathrm{mg/L}$）。\n-   **暴露**：$E$ 是一个二元溶剂暴露，$E \\in \\{0,1\\}$。\n-   **混杂因素**：\n    -   $A$ 是年龄，单位为岁（连续变量）。\n    -   $S$ 是当前吸烟状况，$S \\in \\{0,1\\}$（$S=1$ 表示吸烟者）。\n-   **真实数据生成模型（未受限制的人群）**：\n    $$Y = \\beta_{0} + \\beta_{E}\\,E + \\beta_{S}\\,S + \\beta_{A}\\,A + \\varepsilon$$\n    其中 $\\mathrm{E}[\\varepsilon] = 0$ 并且 $\\varepsilon$ 独立于 $E$、$S$ 和 $A$。$A$ 和 $S$ 都是混杂因素。\n-   **研究设计**：分析被限制在年龄恰好为 $A=50$ 岁的工人中。\n-   **模型参数**：\n    -   暴露效应：$\\beta_{E}=2$。\n    -   吸烟效应：$\\beta_{S}=5$。\n    -   年龄效应：$\\beta_{A}=0.1$。\n-   **在受限制的子人群（$A=50$）中的关联**：\n    -   暴露人群中的吸烟率：$\\Pr(S=1 \\mid E=1) = 0.6$。\n    -   非暴露人群中的吸烟率：$\\Pr(S=1 \\mid E=0) = 0.3$。\n-   **拟合模型（在受限制的子人群中）**：仅对 $Y$ 和 $E$ 进行简单线性回归。\n\n### 步骤2：使用提取的已知信息进行验证\n这个问题是科学上合理的、定义明确的并且是客观的。\n-   **科学上合理**：该问题描述了流行病学和生物统计学中关于线性回归框架下混杂和遗漏变量偏倚的经典情景。使用限制作为设计控制以及残余混杂的概念都是标准课题。该模型是基本的线性模型，是统计分析的基石。所有概念都是公认的。\n-   **定义明确**：该问题是自包含的，提供了唯一确定目标量（偏倚）所需的所有信息。问题清晰明确。\n-   **客观性**：语言精确，没有主观论断。为了计算，参数以固定值的形式给出。\n\n该问题不违反任何无效标准。包含 $\\beta_A=0.1$ 并非矛盾；它描述的是源人群中的模型，而分析是在一个 $A$ 被固定的子人群中进行的。这是此类问题中的一个常见特征。\n\n### 步骤3：结论与行动\n问题有效。将提供完整解答。\n\n### 解答\n目标是量化在一个仅限于年龄 $A=50$ 的子人群中，当拟合仅包含暴露 $E$ 的简单线性回归时，估计的暴露 $E$ 系数中的残余混杂偏倚。\n\n在未受限制的人群中，结果 $Y$ 的真实模型是：\n$$Y = \\beta_{0} + \\beta_{E}\\,E + \\beta_{S}\\,S + \\beta_{A}\\,A + \\varepsilon$$\n通过将分析限制在年龄为 $A=50$ 的个体中，年龄项 $\\beta_{A}\\,A$ 变成一个常数 $\\beta_{A} \\times 50$。这个常数可以被吸收到截距项中。设该子人群的新截距为 $\\beta'_{0} = \\beta_{0} + 50\\,\\beta_{A}$。在这个受限制的子人群中，$Y$ 的真实模型是：\n$$Y = \\beta'_{0} + \\beta_{E}\\,E + \\beta_{S}\\,S + \\varepsilon$$\n给定的系数为 $\\beta_{E} = 2$ 和 $\\beta_{S} = 5$。\n\n问题指出，拟合了一个仅使用暴露 $E$ 作为预测变量的简单线性回归模型。这个错误设定的模型是：\n$$Y = \\alpha_{0} + \\alpha_{E}\\,E + \\nu$$\n其中 $\\nu$ 是错误设定模型的误差项。\n\n系数 $\\alpha_E$ 的普通最小二乘（OLS）估计量，记作 $\\hat{\\alpha}_{E}$，由以下公式给出：\n$$\\hat{\\alpha}_{E} = \\frac{\\mathrm{Cov}(E, Y)}{\\mathrm{Var}(E)}$$\n其中协方差和方差是在受限制的子人群（$A=50$）中计算的。\n\n这个估计量的偏倚是其期望值与真实参数 $\\beta_{E}$ 之间的差值。OLS估计量 $\\hat{\\alpha}_{E}$ 的期望值为：\n$$\\mathrm{E}[\\hat{\\alpha}_{E}] = \\mathrm{E}\\left[\\frac{\\mathrm{Cov}(E, Y)}{\\mathrm{Var}(E)}\\right]$$\n对于给定的群体结构，协方差和方差是固定量，而不是随机变量。因此，我们可以写成：\n$$\\mathrm{E}[\\hat{\\alpha}_{E}] = \\frac{\\mathrm{Cov}(E, Y)}{\\mathrm{Var}(E)}$$\n我们将 $Y$ 的真实模型代入协方差项：\n$$\\mathrm{Cov}(E, Y) = \\mathrm{Cov}(E, \\beta'_{0} + \\beta_{E}\\,E + \\beta_{S}\\,S + \\varepsilon)$$\n利用协方差的性质，展开为：\n$$\\mathrm{Cov}(E, Y) = \\mathrm{Cov}(E, \\beta'_{0}) + \\mathrm{Cov}(E, \\beta_{E}\\,E) + \\mathrm{Cov}(E, \\beta_{S}\\,S) + \\mathrm{Cov}(E, \\varepsilon)$$\n因为 $\\beta'_{0}$、$\\beta_{E}$ 和 $\\beta_{S}$ 是常数，且 $\\varepsilon$ 与 $E$ 无关：\n$$\\mathrm{Cov}(E, Y) = 0 + \\beta_{E}\\,\\mathrm{Cov}(E, E) + \\beta_{S}\\,\\mathrm{Cov}(E, S) + 0$$\n$$\\mathrm{Cov}(E, Y) = \\beta_{E}\\,\\mathrm{Var}(E) + \\beta_{S}\\,\\mathrm{Cov}(E, S)$$\n现在，我们将其代回 $\\mathrm{E}[\\hat{\\alpha}_{E}]$ 的表达式中：\n$$\\mathrm{E}[\\hat{\\alpha}_{E}] = \\frac{\\beta_{E}\\,\\mathrm{Var}(E) + \\beta_{S}\\,\\mathrm{Cov}(E, S)}{\\mathrm{Var}(E)} = \\beta_{E} + \\beta_{S}\\,\\frac{\\mathrm{Cov}(E, S)}{\\mathrm{Var}(E)}$$\n项 $\\frac{\\mathrm{Cov}(E, S)}{\\mathrm{Var}(E)}$ 是将遗漏变量 $S$ 对包含变量 $E$ 进行简单线性回归得到的系数。\n\n混杂偏倚定义为估计系数的期望值与真实系数之间的差值：\n$$\\text{Bias} = \\mathrm{E}[\\hat{\\alpha}_{E}] - \\beta_{E} = \\left(\\beta_{E} + \\beta_{S}\\,\\frac{\\mathrm{Cov}(E, S)}{\\mathrm{Var}(E)}\\right) - \\beta_{E} = \\beta_{S}\\,\\frac{\\mathrm{Cov}(E, S)}{\\mathrm{Var}(E)}$$\n这是遗漏变量偏倚的经典公式。它是遗漏混杂因素（$S$）对结果（$Y$）的影响与遗漏混杂因素（$S$）和包含的暴露（$E$）之间的关联的乘积。\n\n我们需要计算 $\\frac{\\mathrm{Cov}(E, S)}{\\mathrm{Var}(E)}$。由于 $E$ 和 $S$ 都是取值为 $\\{0, 1\\}$ 的二元变量，该项可以用条件概率来表示。对于二元变量 $S$ 对二元变量 $E$ 的回归，设 $S = \\gamma_0 + \\gamma_1 E + \\text{error}$，系数 $\\gamma_1$ 由以下公式给出：\n$$\\gamma_1 = \\mathrm{E}[S \\mid E=1] - \\mathrm{E}[S \\mid E=0]$$\n由于 $S$ 是二元的，其期望是它等于1的概率：\n$$\\mathrm{E}[S \\mid E=e] = \\Pr(S=1 \\mid E=e)$$\n因此，回归系数 $\\frac{\\mathrm{Cov}(E, S)}{\\mathrm{Var}(E)}$ 为：\n$$\\frac{\\mathrm{Cov}(E, S)}{\\mathrm{Var}(E)} = \\Pr(S=1 \\mid E=1) - \\Pr(S=1 \\mid E=0)$$\n问题为受限制的人群提供了必要的值：\n-   $\\Pr(S=1 \\mid E=1) = 0.6$\n-   $\\Pr(S=1 \\mid E=0) = 0.3$\n-   $\\beta_{S} = 5$\n\n将这些值代入偏倚公式：\n$$\\text{Bias} = \\beta_{S} \\times (\\Pr(S=1 \\mid E=1) - \\Pr(S=1 \\mid E=0))$$\n$$\\text{Bias} = 5 \\times (0.6 - 0.3)$$\n$$\\text{Bias} = 5 \\times 0.3$$\n$$\\text{Bias} = 1.5$$\n在 $E$ 的估计系数中，由吸烟引起的残余混杂偏倚为 $1.5\\,\\mathrm{mg/L}$。这意味着，通过从模型中省略吸烟状况，溶剂暴露的估计效应将平均比 $2\\,\\mathrm{mg/L}$ 的真实效应高 $1.5\\,\\mathrm{mg/L}$。期望的估计值将是 $\\mathrm{E}[\\hat{\\alpha}_{E}] = 2 + 1.5 = 3.5\\,\\mathrm{mg/L}$。",
            "answer": "$$\\boxed{1.5}$$"
        },
        {
            "introduction": "限制法的一个关键风险是，不当的限制不仅无法消除偏倚，反而可能“凭空”制造出偏倚。这个练习将通过一个经典的医院入院研究案例 ，向你展示一种被称为“对撞机分层偏倚”的现象。你将计算出，当分析仅限于住院患者（即暴露和结局的共同结果）时，如何在原本无关联的暴露和结局之间产生一种虚假的关联。",
            "id": "4631086",
            "problem": "考虑一个源人群，其中暴露 $E \\in \\{0,1\\}$ 和疾病 $D \\in \\{0,1\\}$ 是二元变量。住院 $H \\in \\{0,1\\}$ 是一个暴露后变量，同时受 $E$ 和 $D$ 的影响（一个对撞因子）。在源人群中，$E$ 和 $D$ 是独立的，其流行率分别为 $\\Pr(E=1)=0.4$ 和 $\\Pr(D=1)=0.1$。因此，$\\Pr(E=1,D=1)=0.04$，$\\Pr(E=1,D=0)=0.36$，$\\Pr(E=0,D=1)=0.06$ 以及 $\\Pr(E=0,D=0)=0.54$。假设住院取决于 $E$ 和 $D$，其关系通过以下各单元格特定概率给出：$\\Pr(H=1 \\mid E=0,D=0)=0.05$，$\\Pr(H=1 \\mid E=1,D=0)=0.20$，$\\Pr(H=1 \\mid E=0,D=1)=0.30$ 以及 $\\Pr(H=1 \\mid E=1,D=1)=0.45$。将源人群中 $E$ 对 $D$ 效应的边际风险差定义为 $\\text{RD}=\\Pr(D=1 \\mid E=1)-\\Pr(D=1 \\mid E=0)$，将在住院人群中的条件风险差定义为 $\\text{RD}_{H}=\\Pr(D=1 \\mid E=1,H=1)-\\Pr(D=1 \\mid E=0,H=1)$。由于限定于住院个体而产生的偏倚定义为 $B=\\text{RD}_{H}-\\text{RD}$。仅使用概率公理、全概率公式和条件概率的定义，在给定的参数值下计算 $B$。将您的答案表示为小数，并将最终结果四舍五入至四位有效数字。",
            "solution": "问题陈述已经过验证，被认为是提法恰当、有科学依据且内部一致的。它呈现了流行病学中关于对撞分层偏倚的一个经典场景，并提供了计算指定量所需的所有参数。我们可以继续进行求解。\n\n目标是计算偏倚 $B$，其定义为住院人群中的条件风险差 $\\text{RD}_{H}$ 与源人群中的边际风险差 $\\text{RD}$ 之间的差值。\n$$\nB = \\text{RD}_{H} - \\text{RD}\n$$\n计算将分两个主要部分进行：首先，计算 $\\text{RD}$；其次，计算 $\\text{RD}_{H}$。\n\n第1部分：计算边际风险差 ($\\text{RD}$)\n\n源人群中暴露 $E$ 对疾病 $D$ 效应的边际风险差定义为：\n$$\n\\text{RD} = \\Pr(D=1 \\mid E=1) - \\Pr(D=1 \\mid E=0)\n$$\n问题陈述指出，在源人群中，$E$ 和 $D$ 是独立的。独立性的一个直接推论是，一个事件在另一个事件发生条件下的条件概率等于该事件的边际概率。因此：\n$$\n\\Pr(D=1 \\mid E=1) = \\Pr(D=1)\n$$\n以及\n$$\n\\Pr(D=1 \\mid E=0) = \\Pr(D=1)\n$$\n问题给出了疾病的流行率为 $\\Pr(D=1) = 0.1$。\n将此值代入条件概率的表达式中：\n$$\n\\Pr(D=1 \\mid E=1) = 0.1\n$$\n$$\n\\Pr(D=1 \\mid E=0) = 0.1\n$$\n因此，边际风险差为：\n$$\n\\text{RD} = 0.1 - 0.1 = 0\n$$\n这一结果证实了在源人群中暴露与疾病之间没有关联，这与独立性的前提相符。\n\n第2部分：计算条件风险差 ($\\text{RD}_{H}$)\n\n住院个体中的条件风险差定义为：\n$$\n\\text{RD}_{H} = \\Pr(D=1 \\mid E=1, H=1) - \\Pr(D=1 \\mid E=0, H=1)\n$$\n为计算这些条件概率，我们必须应用条件概率的定义：\n$$\n\\Pr(D=1 \\mid E=1, H=1) = \\frac{\\Pr(D=1, E=1, H=1)}{\\Pr(E=1, H=1)}\n$$\n$$\n\\Pr(D=1 \\mid E=0, H=1) = \\frac{\\Pr(D=1, E=0, H=1)}{\\Pr(E=0, H=1)}\n$$\n这需要我们计算几个联合概率和边际概率。\n\n首先，我们使用链式法则 $\\Pr(A,B,C) = \\Pr(C \\mid A,B)\\Pr(A,B)$ 和所提供的数据来计算 $E$、$D$ 和 $H=1$ 的联合概率：\n给定的 $E$ 和 $D$ 的联合概率为：\n_ $\\Pr(E=1, D=1) = 0.04$\n_ $\\Pr(E=1, D=0) = 0.36$\n_ $\\Pr(E=0, D=1) = 0.06$\n_ $\\Pr(E=0, D=0) = 0.54$\n\n给定的住院 $H$ 的条件概率为：\n_ $\\Pr(H=1 \\mid E=1, D=1) = 0.45$\n_ $\\Pr(H=1 \\mid E=1, D=0) = 0.20$\n_ $\\Pr(H=1 \\mid E=0, D=1) = 0.30$\n_ $\\Pr(H=1 \\mid E=0, D=0) = 0.05$\n\n现在我们计算联合概率 $\\Pr(E, D, H=1)$：\n$$\n\\Pr(H=1, E=1, D=1) = \\Pr(H=1 \\mid E=1, D=1) \\times \\Pr(E=1, D=1) = 0.45 \\times 0.04 = 0.0180\n$$\n$$\n\\Pr(H=1, E=1, D=0) = \\Pr(H=1 \\mid E=1, D=0) \\times \\Pr(E=1, D=0) = 0.20 \\times 0.36 = 0.0720\n$$\n$$\n\\Pr(H=1, E=0, D=1) = \\Pr(H=1 \\mid E=0, D=1) \\times \\Pr(E=0, D=1) = 0.30 \\times 0.06 = 0.0180\n$$\n$$\n\\Pr(H=1, E=0, D=0) = \\Pr(H=1 \\mid E=0, D=0) \\times \\Pr(E=0, D=0) = 0.05 \\times 0.54 = 0.0270\n$$\n\n接下来，我们使用全概率公式，通过对 $D$ 的所有状态求和，来计算分母所需的边际概率 $\\Pr(E=1, H=1)$ 和 $\\Pr(E=0, H=1)$：\n$$\n\\Pr(E=1, H=1) = \\Pr(H=1, E=1, D=1) + \\Pr(H=1, E=1, D=0)\n$$\n$$\n\\Pr(E=1, H=1) = 0.0180 + 0.0720 = 0.0900\n$$\n以及\n$$\n\\Pr(E=0, H=1) = \\Pr(H=1, E=0, D=1) + \\Pr(H=1, E=0, D=0)\n$$\n$$\n\\Pr(E=0, H=1) = 0.0180 + 0.0270 = 0.0450\n$$\n\n现在我们可以计算 $\\text{RD}_{H}$ 的条件概率：\n$$\n\\Pr(D=1 \\mid E=1, H=1) = \\frac{\\Pr(D=1, E=1, H=1)}{\\Pr(E=1, H=1)} = \\frac{0.0180}{0.0900} = \\frac{18}{90} = \\frac{1}{5} = 0.2\n$$\n注意，$\\Pr(D=1, E=1, H=1)$ 与 $\\Pr(H=1, E=1, D=1)$ 是同一事件。\n以及\n$$\n\\Pr(D=1 \\mid E=0, H=1) = \\frac{\\Pr(D=1, E=0, H=1)}{\\Pr(E=0, H=1)} = \\frac{0.0180}{0.0450} = \\frac{18}{45} = \\frac{2}{5} = 0.4\n$$\n注意，$\\Pr(D=1, E=0, H=1)$ 与 $\\Pr(H=1, E=0, D=1)$ 是同一事件。\n\n最后，我们计算 $\\text{RD}_{H}$：\n$$\n\\text{RD}_{H} = 0.2 - 0.4 = -0.2\n$$\n这个非零结果表明，通过以对撞因子 $H$ 为条件，在 $E$ 和 $D$ 之间产生了虚假关联。\n\n第3部分：计算偏倚 ($B$)\n\n偏倚是条件风险差和边际风险差之间的差值：\n$$\nB = \\text{RD}_{H} - \\text{RD} = -0.2 - 0 = -0.2\n$$\n问题要求答案以小数形式表示，并四舍五入到四位有效数字。\n$$\nB = -0.2000\n$$\n这种偏倚是对撞分层偏倚的一个例子，即当分析被限定于某个变量（该变量是暴露和结局的共同效应）的特定分层时，会产生一种非因果的关联。",
            "answer": "$$\\boxed{-0.2000}$$"
        }
    ]
}