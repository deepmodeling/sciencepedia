{
    "hands_on_practices": [
        {
            "introduction": "理论学习之后，最好的巩固方式莫过于亲手实践。本节的练习旨在将双重差分法的核心概念转化为具体的分析技能。我们将从一个基础计算开始，逐步深入到模型设定和假设检验等高级主题。\n\n第一个练习将带你回到双重差分法的本源。在依赖统计软件之前，通过手动计算来理解双重差分估计量的构建过程至关重要。这个练习  提供了一个公共卫生干预的典型场景，你需要利用干预前后的病例和人口数据，一步步计算出政策的净效应。",
            "id": "4586279",
            "problem": "一个市政公共卫生部门在A社区实施了一项使用点水氯化消毒项目，以减少腹泻病。在同一时期，B社区没有实施该项目。监测系统记录了项目开始前（pre）和结束后（post）紧邻的两个为期八周的时间窗口内的新发腹泻病例数和风险人群数量。假设没有人口迁移，并且记录的人口数代表了每个时间窗口的风险分母。记录的计数如下：\n- A社区，项目前：$6000$人中有$240$例病例。\n- A社区，项目后：$6100$人中有$160$例病例。\n- B社区，项目前：$5900$人中有$210$例病例。\n- B社区，项目后：$6000$人中有$200$例病例。\n\n从风险（发病比例）的定义（新发病例数除以风险人群数）出发，并应用因果推断的核心思想，即在平行趋势假设下，通过比较处理组和未处理组之间的时间变化，可以分离出共同的时变影响，使用双重差分分析计算干预对风险差的影响估计值。将最终答案表示为小数比例，并四舍五入到四位有效数字。",
            "solution": "目标是使用双重差分框架来估计氯化消毒项目对腹泻病风险（发病比例）的因果效应。其基本依据是风险的定义和因果推断原理，即在平行趋势假设下，处理组的时间变化减去同期未处理对照组的变化后，剩余的变化归因于干预措施。\n\n首先，定义任何组和时期的风险。对于给定的组和时期，设 $C$ 表示观察窗口内的新发病例数， $N$ 表示风险人群数。风险（发病比例）为\n$$\nR \\equiv \\frac{C}{N}.\n$$\n\n计算每个组-时期单元的风险：\n- A社区（处理组），项目前：\n$$\nR_{A,\\mathrm{pre}} = \\frac{240}{6000} = \\frac{24}{600} = \\frac{2}{50} = 0.04.\n$$\n- A社区（处理组），项目后：\n$$\nR_{A,\\mathrm{post}} = \\frac{160}{6100} = \\frac{16}{610} \\approx 0.026229508.\n$$\n- B社区（对照组），项目前：\n$$\nR_{B,\\mathrm{pre}} = \\frac{210}{5900} = \\frac{21}{590} \\approx 0.035593220.\n$$\n- B社区（对照组），项目后：\n$$\nR_{B,\\mathrm{post}} = \\frac{200}{6000} = \\frac{1}{30} \\approx 0.033333333.\n$$\n\n接下来，计算每个社区从项目前到项目后风险的时间变化：\n- 处理组社区的变化：\n$$\n\\Delta R_{A} = R_{A,\\mathrm{post}} - R_{A,\\mathrm{pre}} \\approx 0.026229508 - 0.04 = -0.013770492.\n$$\n- 对照组社区的变化：\n$$\n\\Delta R_{B} = R_{B,\\mathrm{post}} - R_{B,\\mathrm{pre}} \\approx 0.033333333 - 0.035593220 = -0.002259887.\n$$\n\n在平行趋势假设下——即如果没有干预，处理组的风险会经历与对照组相同的基础时间变化——干预对风险差的影响是处理组的时间变化减去对照组的时间变化：\n$$\n\\text{DiD RD} = \\Delta R_{A} - \\Delta R_{B} \\approx (-0.013770492) - (-0.002259887) = -0.011510605.\n$$\n\n该值表示归因于氯化消毒项目的风险降低的估计值，以小数比例表示。四舍五入到四位有效数字，得到\n$$\n-0.01151.\n$$",
            "answer": "$$\\boxed{-0.01151}$$"
        },
        {
            "introduction": "掌握了基础计算后，我们面临一个更深入的问题：应该在哪个尺度上进行分析？是直接使用原始结果变量（“水平”），还是使用其对数形式？这个选择并非随意，而是取决于我们对政策效应和长期趋势如何作用于结果的假设。这个思想实验  构建了一个假设性的数据生成过程，其中潜在的趋势和干预效果都是乘性的。通过这个练习，你将推导出在“水平”和“对数”尺度上进行双重差分分析会得到截然不同的答案，并理解为什么在这种情况下，对数变换能够准确地识别出因果效应，而直接分析则会产生偏误。",
            "id": "4792531",
            "problem": "一个卫生系统评估一项旨在减少可避免住院的政策。观察了两个组：一个受试地区和一个对照地区。对于每个组 $g \\in \\{T, C\\}$ 和每个时期 $t \\in \\{0,1\\}$，令 $Y_{gt}$ 表示在规模为 $n$ 的固定人口中住院的总计数，该人口由相同的个体组成，每个个体被观察一个时期。假设在给定组和时期的条件下，个体事件是独立的，并且计数由泊松过程生成，其均值等于人口规模与组-时期率的乘积：$Y_{gt} \\sim \\text{Poisson}(\\mu_{gt})$，其中 $\\mu_{gt} = n \\lambda_{gt}$。\n\n基线率为 $\\lambda_{T0} = 0.20$ 和 $\\lambda_{C0} = 0.10$。在没有政策的情况下，存在一个共同的乘性长期趋势变化 $g = 1.10$，使得 $\\lambda_{g1}^{\\text{cf}} = g \\lambda_{g0}$。该政策仅在时期 $t=1$ 时在受试地区实施，并将处理后的率乘以一个因子 $\\theta = 0.80$，因此 $\\lambda_{T1} = \\theta \\cdot g \\cdot \\lambda_{T0}$，而 $\\lambda_{C1} = g \\cdot \\lambda_{C0}$。每个单元的人口规模为 $n = 1000$。\n\n从期望的定义、样本单元均值的大数定律以及对数将乘积转换为和的性质出发，推导以下两种双时期、双组别双重差分(DiD)待估量的大样本极限（即，在单元级别无限复制下的概率极限）：\n\n1) 水平上的DiD：由受试地区平均计数随时间的变化量减去对照地区类似的变化量构成的对比。\n\n2) 对数上的DiD：由受试地区平均计数的对数随时间的变化量减去对照地区类似的变化量构成的对比。\n\n证明在所描述的数据生成过程下，这两种待估量针对的是不同的因果对比。然后，使用给定的数值 $(n, \\lambda_{T0}, \\lambda_{C0}, g, \\theta)$，计算每种待估量的大样本值。\n\n将您的最终数值结果报告为一个包含两个条目（先水平值，后对数值）的行矩阵。将您的答案四舍五入到四位有效数字。将第一个条目以每 $1000$ 患者-时期的事件数为单位表示，并认识到第二个条目在自然对数尺度上是无量纲的。在您的最终方框答案中不要包含单位。",
            "solution": "该问题要求我们推导两种不同的双重差分(DiD)待估量的大样本极限：一种是基于结果（计数）的水平值，另一种是基于结果的对数值。“大样本极限”或概率极限是通过将随机样本量替换为其总体期望来找到的，这是大数定律的结果。结果变量是总计数 $Y_{gt}$，其期望为 $E[Y_{gt}] = \\mu_{gt}$。我们已知 $Y_{gt} \\sim \\text{Poisson}(\\mu_{gt})$，其中 $\\mu_{gt} = n \\lambda_{gt}$。\n\n首先，让我们使用给定的参数 $n = 1000$, $\\lambda_{T0} = 0.20$, $\\lambda_{C0} = 0.10$, $g = 1.10$ 和 $\\theta = 0.80$ 来确定四个单元中每个单元的总体均值（期望计数）。\n\n政策实施前的期望计数为：\n$$ \\mu_{T0} = n \\lambda_{T0} = 1000 \\times 0.20 = 200 $$\n$$ \\mu_{C0} = n \\lambda_{C0} = 1000 \\times 0.10 = 100 $$\n\n政策实施后的期望计数由事实率 $\\lambda_{T1} = \\theta g \\lambda_{T0}$ 和 $\\lambda_{C1} = g \\lambda_{C0}$ 决定。\n$$ \\lambda_{T1} = 0.80 \\times 1.10 \\times 0.20 = 0.176 $$\n$$ \\lambda_{C1} = 1.10 \\times 0.10 = 0.11 $$\n因此，政策实施后的期望计数为：\n$$ \\mu_{T1} = n \\lambda_{T1} = 1000 \\times 0.176 = 176 $$\n$$ \\mu_{C1} = n \\lambda_{C1} = 1000 \\times 0.11 = 110 $$\n\n**1) 水平上的DiD**\n\n水平上的DiD待估量是受试组平均结果的变化量与对照组平均结果的变化量之差。其大样本极限，我们记为 $\\Delta_{\\text{levels}}$，由应用于期望结果的相同对比给出：\n$$ \\Delta_{\\text{levels}} = (E[Y_{T1}] - E[Y_{T0}]) - (E[Y_{C1}] - E[Y_{C0}]) $$\n代入期望值 $\\mu_{gt}$：\n$$ \\Delta_{\\text{levels}} = (\\mu_{T1} - \\mu_{T0}) - (\\mu_{C1} - \\mu_{C0}) $$\n让我们用基础模型参数来表示它：\n$$ \\Delta_{\\text{levels}} = (n \\lambda_{T1} - n \\lambda_{T0}) - (n \\lambda_{C1} - n \\lambda_{C0}) $$\n$$ \\Delta_{\\text{levels}} = n [(\\theta g \\lambda_{T0} - \\lambda_{T0}) - (g \\lambda_{C0} - \\lambda_{C0})] $$\n$$ \\Delta_{\\text{levels}} = n [\\lambda_{T0}(\\theta g - 1) - \\lambda_{C0}(g - 1)] $$\n这个表达式是水平上的DiD估计量所针对的目标。政策对受试组的真实因果效应（对受试者的平均处理效应，或ATT）是政策实施后时期受试组的事实期望结果与反事实期望结果之差：\n$$ \\text{ATT}_{\\text{levels}} = E[Y_{T1}] - E[Y_{T1}^{\\text{cf}}] = n\\lambda_{T1} - n\\lambda_{T1}^{\\text{cf}} = n(\\theta g \\lambda_{T0}) - n(g \\lambda_{T0}) = n g \\lambda_{T0} (\\theta - 1) $$\n只有当平行趋势假设在水平上成立时，水平上的DiD估计量才能正确识别ATT：$E[Y_{T1}^{\\text{cf}}] - E[Y_{T0}] = E[Y_{C1}] - E[Y_{C0}]$。\n让我们检验这个假设：\n左边：$E[Y_{T1}^{\\text{cf}}] - E[Y_{T0}] = n g \\lambda_{T0} - n \\lambda_{T0} = n \\lambda_{T0} (g - 1)$。\n右边：$E[Y_{C1}] - E[Y_{C0}] = n g \\lambda_{C0} - n \\lambda_{C0} = n \\lambda_{C0} (g - 1)$。\n由于 $\\lambda_{T0} \\neq \\lambda_{C0}$，左边 $\\neq$ 右边。平行趋势假设被违反。因此，$\\Delta_{\\text{levels}}$ 并不针对真实的ATT；它是因果效应的一个有偏估计量。\n\n**2) 对数上的DiD**\n\n对数上的DiD待估量是通过取平均计数的对数形成的。其大样本极限 $\\Delta_{\\text{logs}}$ 为：\n$$ \\Delta_{\\text{logs}} = (\\ln(E[Y_{T1}]) - \\ln(E[Y_{T0}])) - (\\ln(E[Y_{C1}]) - \\ln(E[Y_{C0}])) $$\n代入 $\\mu_{gt} = n \\lambda_{gt}$：\n$$ \\Delta_{\\text{logs}} = (\\ln(n \\lambda_{T1}) - \\ln(n \\lambda_{T0})) - (\\ln(n \\lambda_{C1}) - \\ln(n \\lambda_{C0})) $$\n使用性质 $\\ln(ab) = \\ln(a) + \\ln(b)$，$\\ln(n)$ 项相互抵消：\n$$ \\Delta_{\\text{logs}} = (\\ln \\lambda_{T1} - \\ln \\lambda_{T0}) - (\\ln \\lambda_{C1} - \\ln \\lambda_{C0}) $$\n现在，我们代入率的模型：\n$$ \\Delta_{\\text{logs}} = (\\ln(\\theta g \\lambda_{T0}) - \\ln(\\lambda_{T0})) - (\\ln(g \\lambda_{C0}) - \\ln(\\lambda_{C0})) $$\n使用相同的对数性质：\n$$ \\Delta_{\\text{logs}} = ((\\ln\\theta + \\ln g + \\ln\\lambda_{T0}) - \\ln\\lambda_{T0}) - ((\\ln g + \\ln\\lambda_{C0}) - \\ln\\lambda_{C0}) $$\n$$ \\Delta_{\\text{logs}} = (\\ln\\theta + \\ln g) - (\\ln g) = \\ln\\theta $$\n该待估量针对 $\\ln\\theta$。在对数率尺度上的因果效应是 $\\text{ATT}_{\\text{logs}} = \\ln(\\lambda_{T1}) - \\ln(\\lambda_{T1}^{\\text{cf}}) = \\ln(\\theta g \\lambda_{T0}) - \\ln(g \\lambda_{T0}) = \\ln\\theta$。对数上的DiD估计量能正确识别因果效应，因为对于此数据生成过程，平行趋势假设在对数尺度上成立：$\\ln(\\lambda_{T1}^{\\text{cf}}) - \\ln(\\lambda_{T0}) = \\ln(g\\lambda_{T0}) - \\ln(\\lambda_{T0}) = \\ln(g)$，这等于对照组的趋势 $\\ln(\\lambda_{C1}) - \\ln(\\lambda_{C0}) = \\ln(g\\lambda_{C0}) - \\ln(\\lambda_{C0}) = \\ln(g)$。\n\n这两种待估量显然针对不同的因果对比。$\\Delta_{\\text{levels}}$ 针对的是计数绝对变化的一个有偏度量，而 $\\Delta_{\\text{logs}}$ 针对的是在对数尺度上表示的真实乘性（或比例）处理效应 $\\theta$。\n\n**数值计算**\n\n我们现在使用给定的数值计算这些大样本待估量的值。\n\n对于 $\\Delta_{\\text{levels}}$：\n$$ \\Delta_{\\text{levels}} = (\\mu_{T1} - \\mu_{T0}) - (\\mu_{C1} - \\mu_{C0}) = (176 - 200) - (110 - 100) = -24 - 10 = -34 $$\n或者，使用推导出的公式：\n$$ \\Delta_{\\text{levels}} = 1000 \\times [0.20 \\times (0.80 \\times 1.10 - 1) - 0.10 \\times (1.10 - 1)] $$\n$$ \\Delta_{\\text{levels}} = 1000 \\times [0.20 \\times (0.88 - 1) - 0.10 \\times (0.10)] $$\n$$ \\Delta_{\\text{levels}} = 1000 \\times [0.20 \\times (-0.12) - 0.01] = 1000 \\times [-0.024 - 0.01] = 1000 \\times [-0.034] = -34 $$\n问题要求以每 $1000$ 患者-时期的事件数为单位给出此值，本计算直接提供了该值。保留四位有效数字，结果为 $-34.00$。\n\n对于 $\\Delta_{\\text{logs}}$：\n$$ \\Delta_{\\text{logs}} = \\ln(\\theta) = \\ln(0.80) $$\n$$ \\Delta_{\\text{logs}} \\approx -0.22314355... $$\n四舍五入到四位有效数字，得到 $-0.2231$。\n\n最终结果是，水平上的待估量为 $-34.00$，对数上的待估量为 $-0.2231$。",
            "answer": "$$ \\boxed{ \\begin{pmatrix} -34.00  -0.2231 \\end{pmatrix} } $$"
        },
        {
            "introduction": "任何双重差分分析的有效性都建立在一个关键的假设之上：平行趋势假设。但我们如何检验这个假设是否成立呢？这个练习  介绍了一种强大的诊断工具——安慰剂检验（placebo test）。通过模拟一个虚假的政策实施日期，我们可以探查在没有真实干预的情况下，模型是否会错误地估计出“效应”。本题将引导你思考，当平行趋势假设不满足时，即使政策完全无效，事件研究图中的系数会呈现出何种模式，从而培养你对研究结果的批判性思维能力。",
            "id": "4792450",
            "problem": "一个医院网络评估一项新的抗生素管理方案对每$100$个患者日的不当抗生素使用天数的影响。设 $i$ 为医院的索引，$t$ 为月份的索引。一些医院在月份 $T_i$ 开始实施该方案，而另一些医院在研究窗口期内从未实施。结果变量为 $Y_{it}$，指示医院 $i$ 是否曾接受处理的变量为 $D_i \\in \\{0,1\\}$。分析目标是使用双重差分法，在考虑到交错采纳的情况下，识别该方案的因果效应。\n\n假设以下潜在结果框架：$Y_{it}(d)$ 是单元 $i$ 在时间 $t$ 且处理状态为 $d \\in \\{0,1\\}$ 时的结果。适用两个关键基础：\n- 双重差分法的待估参数依赖于潜在结果框架下的平行趋势条件，该条件要求对于所有 $t$，满足 $$\\mathbb{E}\\big[Y_{it}(0) - Y_{i,t-1}(0) \\mid D_i = 1\\big] = \\mathbb{E}\\big[Y_{it}(0) - Y_{i,t-1}(0) \\mid D_i = 0\\big].$$\n- 如果该方案没有因果效应，则对于所有 $i$ 和 $t$，满足 $$Y_{it}(1) = Y_{it}(0).$$\n\n假设真实政策没有效果，但处理组医院和对照组医院在未处理状态下具有不同的潜在时间趋势，因此平行趋势假设被违反。考虑一个通过双向固定效应（TWFE）实现的事件研究设定，其中您相对于一个“政策日期”定义事件时间，并估计分箱的前置和滞后系数。\n\n您被要求构建一个安慰剂政策日期检验，以探查因违反平行趋势假设而产生的伪处理效应，并识别在 $Y_{it}(1) = Y_{it}(0)$ 但组间趋势不同的既定数据生成过程中，估计的事件研究系数的预期定性模式。\n\n哪个选项最好地描述了 (i) 一种有效的安慰剂政策日期检验的构建方法，以及 (ii) 当真实政策没有效果但处理单元和对照单元具有不同潜在趋势时，事件研究系数 $\\beta_\\ell$ 在前置期和滞后期上的预期模式？\n\nA. 将处理组医院的政策日期重新定义为比原日期提前 $k$ 个月，即 $$T_i^{\\text{pl}} = T_i - k,$$ 保持对照组医院为未处理状态，并在与原始分析完全相同的样本上重新估计相同的TWFE事件研究，使用事件时间 $\\ell = t - T_i^{\\text{pl}}$ 的指示变量（省略一个处理前时期作为参照），并包含单元和月份固定效应，标准误在医院层面进行聚类。如果该方案确实没有效果但趋势不同，那么估计的系数 $\\beta_\\ell$ 将在政策前的前置期（$\\ell  0$）和政策后的滞后期（$\\ell \\ge 0$）上呈现出一条平滑且统计上显著的趋势，在 $\\ell = 0$ 处没有离散的跳跃，这反映了潜在的斜率差异，而非因果效应。\n\nB. 保留原始政策日期，删除所有处理前的观测值，并在一个TWFE回归中估计一个单一的政策后指示变量。如果该方案没有效果但趋势不同，那么政策前系数将近似为零，并且在政策日期处会出现一个离散跳跃，随后是平坦的政策后系数，这表明存在因果效应。\n\nC. 随机为对照组医院分配安慰剂政策日期，并将它们视为已实施该方案，然后将这些重新分配的对照组与原始处理组结合起来，估计一个TWFE事件研究。如果该方案没有效果但趋势不同，那么事件研究系数将在前置期和滞后期上围绕零以交替的符号摆动，不会揭示出任何系统性模式。\n\nD. 将安慰剂政策日期设定为晚于实际政策日期，即 $$T_i^{\\text{pl}} = T_i + k,$$ 并估计一个TWFE事件研究。如果该方案没有效果但趋势不同，那么政策前系数将全部接近于零，而政策后系数将在 $\\ell = 0$ 处显示一个即时的离散跳跃，随后衰减至零，这证实了平行趋势。\n\n选择唯一的最佳答案。",
            "solution": "用户希望我验证所提供的问题陈述，如果有效，则通过评估给定的选项来解决该问题。\n\n### 步骤 1：提取已知信息\n\n-   **结果变量**：$Y_{it}$，医院 $i$ 在月份 $t$ 每 $100$ 个患者日的不当抗生素使用天数。\n-   **处理**：一项新的抗生素管理方案。\n-   **处理时点**：交错采纳。医院 $i$ 在月份 $T_i$ 实施该方案。一些医院从未实施。\n-   **处理组指示变量**：$D_i \\in \\{0,1\\}$，其中 $D_i=1$ 表示医院 $i$ 属于最终会实施该方案的组。\n-   **潜在结果**：$Y_{it}(d)$，对应处理状态 $d \\in \\{0,1\\}$。\n-   **平行趋势假设（已陈述）**：对于所有 $t$，$\\mathbb{E}\\big[Y_{it}(0) - Y_{i,t-1}(0) \\mid D_i = 1\\big] = \\mathbb{E}\\big[Y_{it}(0) - Y_{i,t-1}(0) \\mid D_i = 0\\big]$。这意味着在无处理情况下，将要接受处理的医院组和永不接受处理的医院组，其结果的预期趋势是相同的。\n-   **待假设的数据生成过程（DGP）**：\n    1.  **无因果效应**：对于所有 $i$ 和 $t$，$Y_{it}(1) = Y_{it}(0)$。该方案对结果没有影响。\n    2.  **违反平行趋势**：处理组和对照组医院在未处理状态下具有不同的潜在时间趋势。即 $\\mathbb{E}\\big[Y_{it}(0) - Y_{i,t-1}(0) \\mid D_i = 1\\big] \\neq \\mathbb{E}\\big[Y_{it}(0) - Y_{i,t-1}(0) \\mid D_i = 0\\big]$。\n-   **估计方法**：通过双向固定效应（TWFE）实现的事件研究设定。回归包括医院固定效应、月份固定效应和事件时间 $\\ell = t - T_i$ 的指示变量。估计的系数表示为 $\\beta_\\ell$。\n-   **任务**：\n    1.  描述一种有效的安慰剂政策日期检验，用于检测由违反平行趋势引起的伪效应。\n    2.  描述在假设的DGP（无效应，但趋势不同）下，事件研究系数 $\\beta_\\ell$ 的预期定性模式。\n\n### 步骤 2：使用提取的已知信息进行验证\n\n-   **科学基础**：该问题在计量经济学和生物统计学，特别是在因果推断方法论方面有充分的依据。所提出的概念——双重差分法（DiD）、交错采纳、双向固定效应（TWFE）、事件研究、潜在结果、平行趋势假设和安慰剂检验——都是该领域的标准和核心概念。应用于医院政策的场景是现实的。\n-   **良定性**：该问题是良定的。它建立了一个清晰的理论情景（一个特定的数据生成过程），并要求在该情景下应用特定统计程序所得到的预期结果。它还要求描述一种有效的诊断检验。这两个问题在指定领域内都有清晰、概念上合理的答案。\n-   **客观性**：语言技术性强、精确，没有主观或含糊的术语。所有关键概念都有正式定义或是该领域的标准术语。\n-   **完整性和一致性**：该问题提供了所有必要的信息来推理所提出的概念性问题。前提——无因果效应，但违反平行趋势——是一致的，并构成了应用研究中常见的关注情景。\n-   **结论**：该问题是有效的。它是应用计量经济学和因果推断领域一个标准但概念上具有挑战性的问题。\n\n### 步骤 3：解决方案的推导\n\n该问题设置要求我们预测在一个特定的DGP下，TWFE事件研究估计器的行为，该DGP中关键的DiD假设（平行趋势）被违反，但没有真实的干预效应。\n\n**部分 (ii)：事件研究系数的预期模式**\n\n一个TWFE事件研究模型通常设定为：\n$$ Y_{it} = \\alpha_i + \\lambda_t + \\sum_{\\ell=min\\_lead, \\ell \\neq -1}^{max\\_lag} \\beta_\\ell D_{i\\ell} + \\varepsilon_{it} $$\n其中 $D_{i\\ell} = \\mathbf{1}\\{t - T_i = \\ell\\}$，$\\alpha_i$ 是医院固定效应，$\\lambda_t$ 是月份固定效应，$\\ell$ 是事件时间。一个处理前时期，通常是 $\\ell=-1$，被省略作为参照，因此 $\\beta_{-1}=0$。\n\n$\\ell  0$ 的系数 $\\beta_\\ell$（前置项）被解释为对平行趋势假设的检验。如果平行趋势成立，这些系数应与零在统计上没有区别。$\\ell \\ge 0$ 的系数 $\\beta_\\ell$（滞后项）估计了处理的动态因果效应。\n\n问题陈述了DGP的两个条件：\n1.  **无处理效应**：$Y_{it}(1) = Y_{it}(0)$。这意味着对于所有医院和所有时间段，观测到的结果始终是未处理的潜在结果 $Y_{it} = Y_{it}(0)$。政策没有任何作用。\n2.  **违反平行趋势**：处理组（$D_i=1$）和对照组（$D_i=0$）具有不同的潜在趋势。为简化起见，我们可以将其建模为特定于组的线性趋势：$Y_{it}(0) = \\text{base level}_i + c_t + g_i \\cdot t$，其中 $c_t$ 是共同的时间效应，$g_i$ 是特定于组的趋势斜率。违反平行趋势意味着 $D_i=1$ 组的 $g_i$ 平均值与 $D_i=0$ 组不同。\n\nTWFE估计器通过比较处理单元在其处理日期前后结果的演变与当时作为对照的单元结果的演变，来识别 $\\beta_\\ell$ 系数。在没有处理效应的情况下，估计器只能看到 $Y_{it}(0)$。因为处理组和对照组在 $Y_{it}(0)$ 上有不同的趋势，估计器会错误地将这种预先存在的差异趋势归因于事件研究的指示变量。\n\n-   **处理前时期（$\\ell  0$）**：前置系数 $\\beta_\\ell$ 将不为零。相反，它们将系统地追踪在政策实施*之前*就存在的差异趋势。这就是“预趋势”的定义。\n-   **处理后时期（$\\ell \\ge 0$）**：由于没有实际的处理效应，潜在的差异趋势只是简单地延续下去。在 $\\ell=0$ 时没有新的冲击或轨迹变化。因此，滞后系数 $\\beta_\\ell$ 将沿着处理前系数建立的路径继续发展。\n\n最终的 $\\beta_\\ell$ 对事件时间 $\\ell$ 的图将显示一条平滑的、很可能是线性的趋势，贯穿处理前和处理后的时期。在 $\\ell=0$ 处不会有离散的跳跃或断裂。这些非零系数完全是违反平行趋势假设造成的人为结果。\n\n**部分 (i)：构建安慰剂检验**\n\n安慰剂检验的设计目的在于，查看所选的估计方法是否在没有真实效应存在的条件下产生了伪“效应”。一个有效的方法是，将处理时点重新定义到一个已知处理*尚未*生效的时间点。\n\n一种标准方法是创建安慰剂政策日期 $T_i^{\\text{pl}}$，方法是将处理单元的实际日期 $T_i$ 提前一段时间，例如 $T_i^{\\text{pl}} = T_i - k$（其中 $k0$）。然后我们使用这些虚假的政策日期重新运行相同的事件研究分析。从 $t = T_i - k$ 到 $t=T_i-1$ 的时期，在原始分析中是处理前时期的一部分，现在在安慰剂分析中被定义为“处理后”时期。\n\n如果原始模型是无偏的（即，如果平行趋势成立），我们期望在这个安慰剂检验中找不到效应（所有 $\\beta_\\ell \\approx 0$）。然而，如果根本问题是差异趋势，这个安慰剂检验也会捕捉到该趋势，并报告一个围绕虚假政策日期的伪“效应”。在安慰剂分析中发现这样的趋势模式，为平行趋势假设被违反以及主要分析的结果不可信提供了强有力的证据。\n\n这种安慰剂检验设计使用相同的样本和估计方法，使其成为对原始设定的一个极好的诊断工具。\n\n### 选项评估\n\n-   **A. 将处理组医院的政策日期重新定义为比原日期提前 $k$ 个月，即 $$T_i^{\\text{pl}} = T_i - k,$$ 保持对照组医院为未处理状态，并在与原始分析完全相同的样本上重新估计相同的TWFE事件研究... 如果该方案确实没有效果但趋势不同，那么估计的系数 $\\beta_\\ell$ 将在政策前的前置期（$\\ell  0$）和政策后的滞后期（$\\ell \\ge 0$）上呈现出一条平滑且统计上显著的趋势，在 $\\ell = 0$ 处没有离散的跳跃，这反映了潜在的斜率差异，而非因果效应。**\n    -   **(i) 安慰剂检验**：如上所述，这描述了一种有效且标准的安慰剂检验。将事件日期移至已知的处理前时期是一种经典的证伪检验。\n    -   **(ii) 预期模式**：这准确地描述了在假设的DGP下事件研究系数的预期模式。违反平行趋势表现为贯穿所有事件时间系数的平滑趋势，在事件时间点没有不连续性，因为没有真实的因果效应。\n    -   **结论**：**正确**。\n\n-   **B. 保留原始政策日期，删除所有处理前的观测值，并在一个TWFE回归中估计一个单一的政策后指示变量。如果该方案没有效果但趋势不同，那么政策前系数将近似为零，并且在政策日期处会出现一个离散跳跃，随后是平坦的政策后系数，这表明存在因果效应。**\n    -   **(i) 安慰剂检验**：这不是一个安慰剂检验。这是一个有严重缺陷的估计策略，它丢弃了DiD设计所必需的处理前数据。\n    -   **(ii) 预期模式**：这个描述是错误的。首先，所提出的方法无法估计政策前系数。其次，它描述的模式（跳跃效应）与DGP（无效应）不一致。\n    -   **结论**：**错误**。\n\n-   **C. 随机为对照组医院分配安慰剂政策日期，并将它们视为已实施该方案，然后将这些重新分配的对照组与原始处理组结合起来，估计一个TWFE事件研究。如果该方案没有效果但趋势不同，那么事件研究系数将在前置期和滞后期上围绕零以交替的符号摆动，不会揭示出任何系统性模式。**\n    -   **(i) 安慰剂检验**：虽然使用对照组进行安慰剂检验是一个有效的想法，但所提议的实施方式（将真实处理组与安慰剂处理组混合）不常规，并且对于检验*原始*处理组和对照组之间核心假设违规问题而言，不是一个直接的检验。\n    -   **(ii) 预期模式**：预测的围绕零点振荡的模式没有根据。原始处理组和对照组之间的差异趋势会以一种复杂的方式污染估计结果；没有理由期望出现随机或振荡的模式。\n    -   **结论**：**错误**。\n\n-   **D. 将安慰剂政策日期设定为晚于实际政策日期，即 $$T_i^{\\text{pl}} = T_i + k,$$ 并估计一个TWFE事件研究。如果该方案没有效果但趋势不同，那么政策前系数将全部接近于零，而政策后系数将在 $\\ell = 0$ 处显示一个即时的离散跳跃，随后衰减至零，这证实了平行趋势。**\n    -   **(i) 安慰剂检验**：将日期后移是一种可能的安慰剂设计，但它有问题，因为在“安慰剂前”时期，实际的处理已经发生。如果存在真实效应，这会混淆检验。\n    -   **(ii) 预期模式**：这个预测完全错误。它声称政策前系数将接近于零，这直接与违反平行趋势的前提相矛盾（这意味着非零的预趋势）。它还声称该检验将证实平行趋势，如果平行趋势被违反，这是不可能的。\n    -   **结论**：**错误**。\n\n基于以上分析，选项A是唯一一个既提出了在这种情况下有效的安慰剂检验设计，又正确描述了当平行趋势被违反且真实效应为零时期望结果的选项。",
            "answer": "$$\\boxed{A}$$"
        }
    ]
}