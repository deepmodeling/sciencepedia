{
    "hands_on_practices": [
        {
            "introduction": "Understanding a Directed Acyclic Graph (DAG) begins with tracing the paths between an exposure and an outcome. This exercise focuses on the fundamental rules of d-separation, which determine whether a path transmits statistical association or is blocked. By analyzing how conditioning on a confounder ($C$) versus a mediator ($M$) alters path openness, you will build a crucial intuition for identifying and controlling for confounding while preserving the causal pathways of interest .",
            "id": "4587645",
            "problem": "Consider an epidemiologic setting with exposure $E$, mediator $M$, outcome $Y$, and a pre-exposure common cause $C$ of both $E$ and $Y$. Construct the Directed Acyclic Graph (DAG) with edges $E \\to M \\to Y$ and $E \\leftarrow C \\to Y$. Assume there are no other variables or edges and no selection or measurement processes.\n\nUsing the formal concept of $d$-separation, determine which paths between $E$ and $Y$ are open under each of the following conditioning sets: no variables (the empty set), $\\{C\\}$ alone, $\\{M\\}$ alone, and $\\{C,M\\}$. For each conditioning set, list all open paths qualitatively as part of your working, but for the final answer report only the number of open paths for each conditioning scenario.\n\nAnswer specification:\n- Provide the number of open paths as a four-entry row vector in the order: no variables, $\\{C\\}$, $\\{M\\}$, $\\{C,M\\}$.\n- The final answer must be a single row vector of integers. No rounding is required.",
            "solution": "The problem is valid as it is scientifically grounded in the principles of causal inference using Directed Acyclic Graphs (DAGs), is well-posed with a unique and verifiable solution, and is stated in objective, formal language.\n\nThe problem describes a system with four variables: exposure $E$, mediator $M$, outcome $Y$, and a common cause (confounder) $C$. The relationships are given as a set of directed edges: $C \\to E$, $C \\to Y$, $E \\to M$, and $M \\to Y$. The corresponding Directed Acyclic Graph (DAG) is therefore constructed with nodes $\\{E, M, Y, C\\}$ and edges representing these causal influences.\n\nThe task is to identify all paths between the exposure $E$ and the outcome $Y$ and to determine which of these paths are open or blocked under different conditioning sets, based on the rules of $d$-separation. A path is a sequence of edges connecting two variables, regardless of the direction of the arrows.\n\nFirst, we identify all paths between $E$ and $Y$ in the specified graph. There are two such paths:\n1.  Path 1: $E \\to M \\to Y$. This is a directed causal path from $E$ to $Y$ that is mediated by $M$.\n2.  Path 2: $E \\leftarrow C \\to Y$. This is a non-causal \"backdoor\" path from $E$ to $Y$ created by the common cause $C$.\n\nNext, we apply the rules of $d$-separation to determine the status of each path (open or blocked) for each given conditioning set $S$. A path is blocked by a set $S$ if it contains a non-collider that is in $S$, or if it contains a collider that is not in $S$ and has no descendants in $S$. Conversely, a path is open if it is not blocked.\n\n-   A node on a path is a \"chain\" if the arrows meet head-to-tail (e.g., $\\to Z \\to$). A chain is blocked by conditioning on the middle node $Z$.\n-   A node on a path is a \"fork\" if the arrows emanate from it (e.g., $\\leftarrow Z \\to$). A fork is blocked by conditioning on the middle node $Z$.\n-   A node on a path is a \"collider\" if the arrows meet head-to-head (e.g., $\\to Z \\leftarrow$). A collider blocks a path by default. Conditioning on the collider itself, or on a descendant of the collider, opens the path.\n\nIn our graph, Path 1 ($E \\to M \\to Y$) is a chain passing through $M$. Path 2 ($E \\leftarrow C \\to Y$) is a fork at $C$. There are no colliders on any path between $E$ and $Y$.\n\nWe now analyze the paths for each specified conditioning set:\n\n1.  **Conditioning set $S = \\emptyset$ (no variables)**\n    -   **Path 1 ($E \\to M \\to Y$):** This path is a chain through $M$. Since the middle node $M$ is not in the conditioning set $S = \\emptyset$, the path is **open**.\n    -   **Path 2 ($E \\leftarrow C \\to Y$):** This path is a fork at $C$. Since the fork node $C$ is not in the conditioning set $S = \\emptyset$, the path is **open**.\n    -   **Total open paths:** $2$. The open paths are $E \\to M \\to Y$ and $E \\leftarrow C \\to Y$.\n\n2.  **Conditioning set $S = \\{C\\}$**\n    -   **Path 1 ($E \\to M \\to Y$):** This path is a chain through $M$. The middle node $M$ is not in the conditioning set $S = \\{C\\}$. Therefore, this path remains **open**.\n    -   **Path 2 ($E \\leftarrow C \\to Y$):** This path is a fork at $C$. The fork node $C$ is in the conditioning set $S = \\{C\\}$. Therefore, this path is **blocked**.\n    -   **Total open paths:** $1$. The only open path is $E \\to M \\to Y$.\n\n3.  **Conditioning set $S = \\{M\\}$**\n    -   **Path 1 ($E \\to M \\to Y$):** This path is a chain through $M$. The middle node $M$ is in the conditioning set $S = \\{M\\}$. Therefore, this path is **blocked**.\n    -   **Path 2 ($E \\leftarrow C \\to Y$):** This path is a fork at $C$. The fork node $C$ is not in the conditioning set $S = \\{M\\}$. Therefore, this path remains **open**.\n    -   **Total open paths:** $1$. The only open path is $E \\leftarrow C \\to Y$.\n\n4.  **Conditioning set $S = \\{C, M\\}$**\n    -   **Path 1 ($E \\to M \\to Y$):** This path is a chain through $M$. The middle node $M$ is in the conditioning set $S = \\{C, M\\}$. Therefore, this path is **blocked**.\n    -   **Path 2 ($E \\leftarrow C \\to Y$):** This path is a fork at $C$. The fork node $C$ is in the conditioning set $S = \\{C, M\\}$. Therefore, this path is **blocked**.\n    -   **Total open paths:** $0$. Both paths are blocked.\n\nIn summary, the number of open paths between $E$ and $Y$ for the conditioning sets $\\emptyset$, $\\{C\\}$, $\\{M\\}$, and $\\{C,M\\}$ are $2$, $1$, $1$, and $0$, respectively. The problem asks for these counts as a four-entry row vector.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n2 & 1 & 1 & 0\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "After identifying confounding pathways, the next step is to quantitatively estimate the causal effect. This problem provides a hands-on opportunity to apply the backdoor adjustment formula, a technique also known as standardization. You will use observational data from different strata of a confounder to compute the causal risk difference, effectively simulating a population-wide intervention and isolating the true effect of the exposure from the influence of the confounder .",
            "id": "4587606",
            "problem": "Consider a study of an infectious disease where the binary exposure $E$ indicates receipt of a prophylactic intervention ($E=1$ if received, $E=0$ if not), the binary outcome $Y$ indicates incident infection within $30$ days ($Y=1$ if infected, $Y=0$ otherwise), and the binary covariate $Z$ indicates baseline high comorbidity burden ($Z=1$ for high burden, $Z=0$ for low burden). The causal structure is represented by a Directed Acyclic Graph (DAG) in which $Z$ has arrows to both $E$ and $Y$, and $E$ has an arrow to $Y$. Assume there are no other common causes of $E$ and $Y$, all variables are measured without error, and the following conditions hold: conditional exchangeability given $Z$, consistency, and positivity.\n\nThe study estimates the following quantities:\n- $p(Z=1)=0.4$ and $p(Z=0)=0.6$.\n- $p(Y=1\\mid E=1,Z=0)=0.25$ and $p(Y=1\\mid E=1,Z=1)=0.60$.\n- $p(Y=1\\mid E=0,Z=0)=0.10$ and $p(Y=1\\mid E=0,Z=1)=0.50$.\n\nUsing $Z$ as a valid backdoor adjustment set for identifying the causal effect of $E$ on $Y$ under the DAG described, compute the backdoor-adjusted causal risk difference $E[Y\\mid \\mathrm{do}(E=1)] - E[Y\\mid \\mathrm{do}(E=0)]$. Express your final answer as a decimal (no percentage sign). Provide the exact value; no rounding is required.",
            "solution": "The problem asks for the computation of the backdoor-adjusted causal risk difference, which is defined as $E[Y\\mid \\mathrm{do}(E=1)] - E[Y\\mid \\mathrm{do}(E=0)]$. The problem is validated as sound, well-posed, and containing all necessary information.\n\nThe causal structure is described by a Directed Acyclic Graph (DAG) where a covariate $Z$ is a common cause of the exposure $E$ and the outcome $Y$. Specifically, the causal paths are $Z \\to E$, $Z \\to Y$, and $E \\to Y$. The path $E \\leftarrow Z \\to Y$ is a \"backdoor path\" because it is a non-causal path between $E$ and $Y$ that begins with an arrow pointing into $E$. To estimate the causal effect of $E$ on $Y$, this backdoor path must be blocked. The problem states that $Z$ is a valid backdoor adjustment set. This is consistent with the backdoor criterion, as $Z$ is not a descendant of $E$ and conditioning on $Z$ blocks the path $E \\leftarrow Z \\to Y$.\n\nThe assumptions of conditional exchangeability, consistency, and positivity, along with the specified DAG, allow for the identification of the causal effect from the provided observational data. We can use the backdoor adjustment formula (also known as standardization or g-formula) to calculate the potential outcome means, $E[Y \\mid \\mathrm{do}(E=e)]$. For a binary outcome $Y$, this is equivalent to the probability of the outcome under intervention, $p(Y=1 \\mid \\mathrm{do}(E=e))$.\n\nThe formula is given by:\n$$p(Y=1 \\mid \\mathrm{do}(E=e)) = \\sum_z p(Y=1 \\mid E=e, Z=z) \\cdot p(Z=z)$$\n\nWe need to calculate this quantity for both $e=1$ and $e=0$.\n\nFirst, let's calculate the risk of infection if everyone in the population received the prophylactic intervention, $p(Y=1 \\mid \\mathrm{do}(E=1))$. The sum is over the strata of the confounder $Z$, which are $Z=0$ and $Z=1$.\n$$p(Y=1 \\mid \\mathrm{do}(E=1)) = p(Y=1 \\mid E=1, Z=0) \\cdot p(Z=0) + p(Y=1 \\mid E=1, Z=1) \\cdot p(Z=1)$$\nThe problem provides the following values:\n- $p(Y=1\\mid E=1,Z=0) = 0.25$\n- $p(Y=1\\mid E=1,Z=1) = 0.60$\n- $p(Z=0) = 0.6$\n- $p(Z=1) = 0.4$\n\nSubstituting these values into the formula:\n$$p(Y=1 \\mid \\mathrm{do}(E=1)) = (0.25)(0.6) + (0.60)(0.4)$$\n$$p(Y=1 \\mid \\mathrm{do}(E=1)) = 0.15 + 0.24$$\n$$p(Y=1 \\mid \\mathrm{do}(E=1)) = 0.39$$\n\nNext, we calculate the risk of infection if no one in the population received the intervention, $p(Y=1 \\mid \\mathrm{do}(E=0))$.\n$$p(Y=1 \\mid \\mathrm{do}(E=0)) = p(Y=1 \\mid E=0, Z=0) \\cdot p(Z=0) + p(Y=1 \\mid E=0, Z=1) \\cdot p(Z=1)$$\nThe problem provides:\n- $p(Y=1\\mid E=0,Z=0) = 0.10$\n- $p(Y=1\\mid E=0,Z=1) = 0.50$\n- $p(Z=0) = 0.6$\n- $p(Z=1) = 0.4$\n\nSubstituting these values:\n$$p(Y=1 \\mid \\mathrm{do}(E=0)) = (0.10)(0.6) + (0.50)(0.4)$$\n$$p(Y=1 \\mid \\mathrm{do}(E=0)) = 0.06 + 0.20$$\n$$p(Y=1 \\mid \\mathrm{do}(E=0)) = 0.26$$\n\nFinally, the causal risk difference is the difference between these two quantities.\n$$E[Y\\mid \\mathrm{do}(E=1)] - E[Y\\mid \\mathrm{do}(E=0)] = p(Y=1 \\mid \\mathrm{do}(E=1)) - p(Y=1 \\mid \\mathrm{do}(E=0))$$\n$$= 0.39 - 0.26$$\n$$= 0.13$$\n\nThis result represents the estimated decrease in the risk of infection attributable to the prophylactic intervention in the total population, after accounting for confounding by comorbidity burden $Z$.",
            "answer": "$$\\boxed{0.13}$$"
        },
        {
            "introduction": "In real-world research, we often measure more variables than are necessary or appropriate for adjustment. This exercise challenges you to move beyond simply identifying a confounder and instead select a *minimal sufficient adjustment set* from a group of potential covariates. You will learn to distinguish between confounders, mediators, and other variable types to correctly estimate the total causal effect, demonstrating why adjusting for variables on the causal pathway can introduce bias .",
            "id": "4587650",
            "problem": "Consider a Directed Acyclic Graph (DAG) with nodes $E$ (exposure), $Y$ (outcome), $C$ (a common cause of $E$ and $Y$), $M$ (a mediator on the path from $E$ to $Y$), and $L$ (a descendant of $E$). The causal structure is as follows: there are arrows $C \\to E$ and $C \\to Y$ (so $C$ is a confounder), a direct causal arrow $E \\to Y$, a mediated path $E \\to M \\to Y$, and an additional arrow $E \\to L$ (with $L$ not causing $Y$). Suppose you are restricted to constructing adjustment sets from the observed covariate set $\\{C, M, L\\}$ to identify the total causal effect of $E$ on $Y$ via covariate adjustment.\n\nDefine $N$ to be the number of subsets of $\\{C, M, L\\}$ that are minimal sufficient for identifying the total effect of $E$ on $Y$ under the standard graphical conditions for causal identification. Compute the exact value of $N$. Provide your answer as a single integer. No rounding is required.",
            "solution": "The problem requires us to determine the number, $N$, of minimal sufficient adjustment sets for identifying the total causal effect of an exposure $E$ on an outcome $Y$, given a set of observable covariates $\\{C, M, L\\}$ and a specified causal structure. The causal structure is encoded in a Directed Acyclic Graph (DAG).\n\nFirst, let us formalize the DAG based on the problem description. The nodes are $E$ (exposure), $Y$ (outcome), $C$ (confounder), $M$ (mediator), and $L$ (descendant of $E$). The causal arrows (edges) are:\n1.  $C \\to E$ and $C \\to Y$: $C$ is a common cause of $E$ and $Y$.\n2.  $E \\to Y$: There is a direct causal effect of $E$ on $Y$.\n3.  $E \\to M \\to Y$: There is a mediated causal path from $E$ to $Y$ through $M$. This implies two arrows: $E \\to M$ and $M \\to Y$.\n4.  $E \\to L$: $L$ is a descendant of $E$. The problem states $L$ does not cause $Y$, so there is no directed path from $L$ to $Y$.\n\nThe set of available covariates for adjustment is $Z_{obs} = \\{C, M, L\\}$. We are looking for subsets of $Z_{obs}$ that are minimal sufficient adjustment sets.\n\nTo identify the total causal effect of $E$ on $Y$ via covariate adjustment, we need to find a set of covariates $Z \\subseteq Z_{obs}$ that is a \"sufficient adjustment set\". A set $Z$ is sufficient for estimating the total causal effect of $E$ on $Y$ if it satisfies two conditions:\n1.  It blocks all non-causal paths between $E$ and $Y$.\n2.  It does not block any causal paths from $E$ to $Y$.\nA non-causal path is any path between $E$ and $Y$ that is not a directed path from $E$ to $Y$. A causal path is a directed path from $E$ to $Y$. We must also ensure that conditioning on $Z$ does not open any new spurious paths, which typically occurs by conditioning on a collider.\n\nLet us analyze the paths between $E$ and $Y$ in the specified DAG.\n- **Causal Paths**: These are directed paths from $E$ to $Y$.\n    1.  The direct path: $E \\to Y$.\n    2.  The mediated path: $E \\to M \\to Y$.\n    The total effect is the sum of effects along all causal paths. To estimate the total effect, our adjustment set $Z$ must not block any of these paths. A path is blocked by conditioning on a variable if that variable is on the path. The variable $M$ is a node on the second causal path. Therefore, to avoid blocking this path, the adjustment set $Z$ must not contain $M$.\n    $$M \\notin Z$$\n\n- **Non-Causal Paths (Backdoor Paths)**: These are paths between $E$ and $Y$ that begin with an arrow pointing into $E$.\n    1.  The only such path is $E \\leftarrow C \\to Y$. This path is a source of confounding, as it represents the influence of the common cause $C$.\n    To block this path, we must condition on the middle node $C$, which is a fork. Therefore, the adjustment set $Z$ must contain $C$.\n    $$C \\in Z$$\n\nCombining these two necessary conditions, any sufficient adjustment set $Z$ taken from $\\{C, M, L\\}$ must contain $C$ and must not contain $M$. This leaves two possibilities for $Z$:\n1.  $Z_1 = \\{C\\}$\n2.  $Z_2 = \\{C, L\\}$\n\nWe must now verify if these sets are indeed sufficient. This involves checking for any unintended consequences, such as opening a spurious path by conditioning on a collider. A collider on a path is a node that has two arrows pointing into it (e.g., $i \\to m \\leftarrow j$). Conditioning on a collider (or its descendant) opens the path.\n- In our DAG, the colliders are $E$ (on the paths $C \\to E \\to L$ and $C \\to E \\to M$), and $Y$ (on the path $E \\to M \\to Y \\leftarrow C$).\n- Neither $C$ nor $L$ is a collider. $C$ has only outgoing arrows. $L$ has only one incoming arrow ($E \\to L$).\n- Therefore, conditioning on $C$ or $L$ will not open any spurious paths between $E$ and $Y$.\n\nBoth $Z_1 = \\{C\\}$ and $Z_2 = \\{C, L\\}$ satisfy the conditions for a sufficient adjustment set:\n- They both contain $C$, blocking the backdoor path $E \\leftarrow C \\to Y$.\n- Neither contains $M$, so they do not block the causal path $E \\to M \\to Y$.\n- Conditioning on them does not open any spurious paths.\n\nSo, the set of all sufficient adjustment sets that can be constructed from $\\{C, M, L\\}$ is $\\mathcal{S} = \\{\\{C\\}, \\{C, L\\}\\}$.\n\nThe problem asks for the number $N$ of **minimal** sufficient adjustment sets. A sufficient adjustment set $S \\in \\mathcal{S}$ is minimal if no proper subset of $S$ is also in $\\mathcal{S}$.\nLet's examine the sets in $\\mathcal{S}$:\n- Consider the set $\\{C\\}$. Its only proper subset is the empty set $\\emptyset$. The set $\\emptyset$ is not a sufficient adjustment set because it does not block the backdoor path $E \\leftarrow C \\to Y$. Therefore, $\\{C\\}$ is a minimal sufficient adjustment set.\n- Consider the set $\\{C, L\\}$. It has a proper subset $\\{C\\}$. Since $\\{C\\}$ is a sufficient adjustment set (i.e., $\\{C\\} \\in \\mathcal{S}$), the set $\\{C, L\\}$ is not minimal.\n\nThus, there is only one minimal sufficient adjustment set, which is $\\{C\\}$.\nThe number of minimal sufficient adjustment sets is $N = 1$.",
            "answer": "$$\\boxed{1}$$"
        }
    ]
}