{
    "hands_on_practices": [
        {
            "introduction": "这个练习将挑战你将慢性动脉狭窄、机体的适应性反应（侧支循环的形成）以及最终的梗死外观联系起来。这是一个基础性的思维实验，旨在巩固核心概念，例如为什么心脏通常会形成白色梗死。通过从血液动力学和组织结构的第一性原理出发进行推理，你将加深对梗死病理生理学的理解 。",
            "id": "4444100",
            "problem": "一名患有长期稳定劳力性胸痛的患者被发现其近端心外膜冠状动脉出现缓慢进展的严重狭窄。尽管数月来管腔明显缩小，但他们并未发生心肌坏死，直到一次急性斑块并发症突然闭塞了血管。在致命事件后的尸检中，左心室壁的梗死灶被描述为苍白、呈楔形，伴有凝固性坏死和极少量出血。\n\n运用血液动力学和组织活力的基本原理，判断哪些陈述最能解释为什么缓慢进展的狭窄可以通过侧支循环的形成完全预防梗死，以及为什么在这种情况下如果发生梗死，它往往是白色（贫血性）而非红色（出血性）。选择所有适用选项。\n\nA. 根据泊肃叶（Poiseuille）关系式 $Q \\propto r^{4}$，即使半径微小减小也会立即中断血流，因此慢性狭窄比急性闭塞更容易导致梗死；任何梗死都倾向于为白色，因为双重血液供应会冲走红细胞。\n\nB. 进展性狭窄增加了预先存在的小动脉连接处的剪切应力，驱动动脉新生（arteriogenesis），从而扩大侧支通道，并将氧输送量 $DO_2 = Q \\cdot C_{aO_2}$ 维持在坏死阈值以上；如果发生梗死，持续的动脉阻塞（无再灌注）以及心肌的实体、终末动脉特性限制了出血，从而产生白色梗死。\n\nC. 慢性狭窄主要导致静脉流出道梗阻；当梗死发生时，毛细血管静水压升高，并随之发生广泛性出血，产生红色梗死。\n\nD. 白色梗死常见于具有终末动脉循环的实体器官，如心脏、肾脏和脾脏；当血流缓慢减少时，边缘性缺血最终可能导致凝固性坏死，而不会有明显的红细胞外渗，因为没有突然的再灌注。\n\nE. 成年人的侧支通道无法有效形成；因此梗死总是会发生，并且由于组织缺氧引起的毛细血管破裂而呈红色。\n\nF. 红色（出血性）梗死通常需要静脉闭塞、具有双重血液供应的疏松组织，或对先前缺血区域的再灌注；在慢性进展性动脉狭窄的情况下，这些条件通常不存在，因此任何梗死都是苍白的。",
            "solution": "问题陈述是一个有效、独立且有科学依据的临床病理情景。我将基于基本原理进行解答。\n\n问题要求解释两种现象：\n1.  缓慢进展的动脉狭窄如何能够预防或延迟心肌梗死。这涉及到侧支循环发展的原理。\n2.  在心脏发生慢性基础上急性闭塞后最终形成的梗死为何通常是苍白色（白色/贫血性）而非红色（出血性）。这涉及到组织结构、血管供应和闭塞性质的原理。\n\n**基于基本原理的推导**\n\n1.  **侧支循环发展（动脉新生，Arteriogenesis）：**\n    冠状动脉系统拥有连接主要心外膜动脉区域之间预先存在的小口径小动脉。在健康的心脏中，整个冠状动脉床的压力相对均匀，因此跨越这些侧支血管的压力梯度（$\\Delta P$）极小，其血流量可以忽略不计。\n\n    当主干动脉发生进展性狭窄时，会产生血流阻力。根据流体动力学原理，这种狭窄会导致病变远端的压力显著下降。这在正常灌注的血管区域和由狭窄动脉供应的区域之间产生了巨大的压力梯度。\n\n    这个压力梯度驱动血液流经预先存在的侧支通道。增加的流速对这些小血管内皮细胞施加一种物理力，称为流体剪切应力（$\\tau$）。持续升高的剪切应力是**动脉新生**（arteriogenesis）的主要刺激因素，这是一个血管生长和重塑的主动过程。该过程包括：\n    - 内皮细胞活化并释放生长因子（如FGF、VEGF）和一氧化氮（$NO$）。\n    - 招募单核细胞/巨噬细胞，这些细胞会释放更多的细胞因子和蛋白酶。\n    - 平滑肌细胞和细胞外基质的增殖和重组。\n\n    最终结果是侧支血管的管腔直径（$r$）和管壁厚度增加，将其转变为更大、功能性的管道。根据哈根-泊肃叶（Hagen-Poiseuille）层流公式（$Q = \\frac{\\pi \\Delta P r^4}{8 \\eta L}$，其中 $Q$ 是流量，$\\eta$ 是粘度， $L$ 是长度），流速与半径的四次方成正比（$Q \\propto r^4$）。这意味着即使侧支血管半径增加一倍，其血流容量也可以增加16倍。\n\n    如果这个过程足够缓慢，侧支循环可以充分发展，以维持静息血流量和心肌氧输送量（$DO_2 = Q \\cdot C_{aO_2}$，其中 $C_{aO_2}$ 是动脉血氧含量）在细胞死亡阈值之上。这就解释了为什么患者尽管有严重的、进展性的疾病，却能数月不发生梗死。劳力性胸痛（稳定型心绞痛）表明，虽然静息血流充足，但侧支循环网络无法满足运动时增加的氧气需求。\n\n2.  **白色（贫血性）梗死的形成：**\n    梗死的大体外观（红色 vs. 白色）取决于组织结构和闭塞时的血液动力学情况。\n\n    -   **白色（贫血性）梗死**发生在**实体器官**中，伴有**动脉闭塞**和**终末动脉循环**的条件下。\n        -   **实体器官：** 心脏是一个致密的、实体的肌肉器官。当组织死亡时，坏死区的结构完整性最初在很大程度上得以维持，周围的存活组织可以压迫塌陷的、无功能的毛细血管和微血管，防止大量血液渗入该区域。\n        -   **终末动脉循环：** 冠状动脉循环在功能上是终末动脉循环。尽管可以形成侧支，但它们可能不足以提供真正的“双重供应”，从而在主血管闭塞后向梗死区出血。\n        -   **无再灌注的动脉闭塞：** 问题描述了动脉的`突然闭塞`，切断了血液流入。如果没有随后的再灌注（无论是自然的还是医源性的），就没有血液来源进入坏死区域。已经困在缺血区毛细血管中的红细胞在数小时到数天内被吞噬细胞降解和清除，使组织呈现苍白或黄褐色。其特征性组织学表现是凝固性坏死。\n\n    -   **红色（出血性）梗死**见于截然不同的情况：\n        -   **静脉闭塞：** 血液流入但无法流出，导致极度充血、毛细血管静水压升高、血管破裂和血液外渗。\n        -   **疏松组织：** 像肺这样的器官具有海绵状结构，可以轻易容纳大量外渗的血液。\n        -   **具有双重血液供应的组织：** 例如，肺（肺动脉和支气管动脉）、小肠（肠系膜上动脉及其丰富的吻合弓）和肝脏（肝动脉和门静脉）。如果一个动脉供应被阻塞，另一个可以继续灌注该区域，血液通过因缺血而受损、通透性增加的毛细血管渗漏到坏死区。\n        -   **再灌注损伤：** 当血流恢复到先前缺血的区域时，再灌注的血液冲入因缺氧而受损的毛细血管床，导致通透性增加和组织内出血。\n\n    患者尸检发现的苍白、楔形、伴有凝固性坏死的梗死灶，是在没有后续再灌注的情况下，心脏（一个具有终末动脉循环的实体器官）发生急性动脉闭塞的典型结果。\n\n**选项评估**\n\n*   **A. 根据泊肃叶（Poiseuille）关系式 $Q \\propto r^{4}$，即使半径微小减小也会立即中断血流，因此慢性狭窄比急性闭塞更容易导致梗死；任何梗死都倾向于为白色，因为双重血液供应会冲走红细胞。**\n    这个陈述有根本性错误。其前提——慢性狭窄比急性闭塞更糟——与事实相反；缓慢的过程允许代偿性的侧支生长。对白色梗死的解释也是错误的；双重血液供应是*红色*梗死的原因，而不是白色梗死。\n    **结论：错误。**\n\n*   **B. 进展性狭窄增加了预先存在的小动脉连接处的剪切应力，驱动动脉新生（arteriogenesis），从而扩大侧支通道，并将氧输送量 $DO_2 = Q \\cdot C_{aO_2}$ 维持在坏死阈值以上；如果发生梗死，持续的动脉阻塞（无再灌注）以及心肌的实体、终末动脉特性限制了出血，从而产生白色梗死。**\n    这个陈述是一个极好且全面的解释。第一部分正确描述了由剪切应力驱动的侧支发展（动脉新生）的机制。第二部分正确指出了心脏发生白色梗死的三个关键因素：持续的动脉闭塞（无再灌注）、器官的实体性质及其终末动脉循环。\n    **结论：正确。**\n\n*   **C. 慢性狭窄主要导致静脉流出道梗阻；当梗死发生时，毛细血管静水压升高，并随之发生广泛性出血，产生红色梗死。**\n    这个陈述错误地识别了主要病理。问题明确指出是冠状**动脉**狭窄，而不是静脉。动脉狭窄限制流入。静脉阻塞导致流出受阻、充血和出血性（红色）梗死。这个陈述描述了错误的机制并预测了错误的结果。\n    **结论：错误。**\n\n*   **D. 白色梗死常见于具有终末动脉循环的实体器官，如心脏、肾脏和脾脏；当血流缓慢减少时，边缘性缺血最终可能导致凝固性坏死，而不会有明显的红细胞外渗，因为没有突然的再灌注。**\n    这个陈述准确地描述了白色梗死的一般病理，并正确地将其应用于心脏。它正确地指出了关键因素：实体器官、终末动脉循环以及没有再灌注，从而导致凝固性坏死而无出血。虽然它没有涉及问题中关于侧支发展的部分，但它为白色梗死的外观提供了一个完全有效的解释。\n    **结论：正确。**\n\n*   **E. 成年人的侧支通道无法有效形成；因此梗死总是会发生，并且由于组织缺氧引起的毛细血管破裂而呈红色。**\n    这个陈述在多个方面都与事实不符。成年人的侧支通道可以并且确实会发展（动脉新生）。如本病例所示，慢性狭窄并不总是导致梗死。在这种情况下产生的梗死是白色的，而不是红色的。\n    **结论：错误。**\n\n*   **F. 红色（出血性）梗死通常需要静脉闭塞、具有双重血液供应的疏松组织，或对先前缺血区域的再灌注；在慢性进展性动脉狭窄的情况下，这些条件通常不存在，因此任何梗死都是苍白的。**\n    这个陈述通过排除法为白色梗死提供了正确的解释。它正确列举了红色梗死所需的条件，并正确指出在心脏终末动脉闭塞的情况下这些条件不满足。其逻辑结论——因此梗死是苍白的——是合理的。\n    **结论：正确。**",
            "answer": "$$\\boxed{BDF}$$"
        },
        {
            "introduction": "在概念理解的基础上，本练习要求你运用流体动力学的基础定律——泊肃叶定律，来量化动脉阻塞的影响。你将计算一个具有双重供应的器官在血流受阻后的总血流量变化，为理解组织易损性和出血性与缺血性梗死的形成提供坚实的数学基础 。",
            "id": "4444122",
            "problem": "一个具有双重动脉血供（两套独立的动脉树在同一毛细血管床汇合）的实质器官在层流、稳态、不可压缩流动的条件下被建模。基线血流动力学满足以下条件：每个流入通路（A和B）具有相同的几何形状（半径 $r_{0}$ 和有效长度 $L$），粘度 $\\eta$ 恒定，并且每个通路经历相同的压力梯度 $\\Delta P$，因此基线体积流量相等，$Q_{A}^{(0)}=Q_{B}^{(0)}$。假设微循环作为一个简单的并联节点，将流入量相加，因此基线总组织流入量为 $Q_{\\text{tot}}^{(0)}=Q_{A}^{(0)}+Q_{B}^{(0)}$。\n\n一个血栓性病变急性地将通路 A 在相同长度 $L$ 上的有效半径减少到 $0.5\\,r_{0}$，而 $\\Delta P$ 和 $\\eta$ 保持不变。通路 B 保持不变。使用经过充分验证的层流泊肃叶定律 (Poiseuille’s law)，$Q=\\dfrac{\\pi\\,\\Delta P\\,r^{4}}{8\\,\\eta\\,L}$，以及标准的并联流量相加方法，来估计相对于基线的新总组织流入量。将答案表示为分数 $f=\\dfrac{Q_{\\text{tot}}^{(\\text{new})}}{Q_{\\text{tot}}^{(0)}}$。视所有其他因素为不变，并忽略自身调节。\n\n最后，根据梗死的基础病理学，解释如果发生坏死，具有这种残余血流的双重供应是更可能导致红色（出血性）梗死还是白色（贫血性）梗死；这一解释性步骤不影响所要求的数值答案。\n\n请将 $f$ 以无单位小数的形式给出，并四舍五入到四位有效数字。",
            "solution": "刚性圆柱管中层流的基本血流动力学原理是泊肃叶定律 (Poiseuille’s law)，\n$$\nQ=\\frac{\\pi\\,\\Delta P\\,r^{4}}{8\\,\\eta\\,L},\n$$\n该定律表明，对于固定的 $\\Delta P$、$\\eta$ 和 $L$，体积流量 $Q$ 与 $r^{4}$ 成正比。在一个两路血流在毛细血管床并联汇合的系统中，总流入量是各个流入量之和，即 $Q_{\\text{tot}}=Q_{A}+Q_{B}$。\n\n在基线状态下，根据对称性有 $Q_{A}^{(0)}=Q_{B}^{(0)}\\equiv Q_{0}$，因此\n$$\nQ_{\\text{tot}}^{(0)}=Q_{A}^{(0)}+Q_{B}^{(0)}=Q_{0}+Q_{0}=2\\,Q_{0}.\n$$\n\n病变发生后，通路 A 的半径减小到 $0.5\\,r_{0}$。保持 $\\Delta P$、$\\eta$ 和 $L$ 不变，根据泊肃叶定律 (Poiseuille’s law)，通路 A 的新流量将按半径变化的四次方进行缩放：\n$$\nQ_{A}^{(\\text{new})}=Q_{A}^{(0)}\\left(\\frac{0.5\\,r_{0}}{r_{0}}\\right)^{4}=Q_{0}\\,(0.5)^{4}=Q_{0}\\,\\frac{1}{16}.\n$$\n通路 B 不变，所以\n$$\nQ_{B}^{(\\text{new})}=Q_{B}^{(0)}=Q_{0}.\n$$\n因此，新的总流入量为\n$$\nQ_{\\text{tot}}^{(\\text{new})}=Q_{A}^{(\\text{new})}+Q_{B}^{(\\text{new})}=Q_{0}\\left(\\frac{1}{16}+1\\right)=Q_{0}\\,\\frac{17}{16}.\n$$\n所要求的新总流入量与基线总流入量之比为\n$$\nf=\\frac{Q_{\\text{tot}}^{(\\text{new})}}{Q_{\\text{tot}}^{(0)}}=\\frac{Q_{0}\\,(17/16)}{2\\,Q_{0}}=\\frac{17}{32}=0.53125.\n$$\n按要求四舍五入到四位有效数字，结果为 $0.5313$。\n\n病理学解释（不属于数值答案的一部分）：双重动脉供应和部分保留的灌注有利于防止梗死，或者，如果梗死发生（例如，伴有叠加的静脉充血或进一步的血流损害），由于来自未阻塞通路的血流以及可能对坏死组织的再灌注，会倾向于形成红色（出血性）梗死。相比之下，白色（贫血性）梗死是具有终末动脉供应和有限侧支血流流入的实质器官的典型特征。在本例中，$f\\approx 0.5313$，残余血流量相当可观，降低了梗死风险；如果坏死仍然发生，那么在双重供应的器官中，它更可能是出血性的。",
            "answer": "$$\\boxed{0.5313}$$"
        },
        {
            "introduction": "这项高级实践将多个概念整合到一个动态模拟中。通过模拟细胞能量（ATP）水平如何响应缺血和再灌注，你将能够预测组织是存活、发展为白色梗死还是经历出血性转化。这个练习展示了计算方法如何为复杂的病理过程提供强有力的见解 。",
            "id": "4444108",
            "problem": "我们为您提供了一个简化的组织三磷酸腺苷 (ATP) 动力学阈值模型，旨在捕捉病理学中梗死表型的关键机理特征。其基本依据是以下一组经过充分检验的生物学事实和核心定义：细胞ATP的产生与含氧灌注成正比，并以相对稳定的速率消耗；当ATP在足够长的累积时间内持续低于坏死阈值时，会发生不可逆的细胞损伤（坏死）；当ATP在足够长的累积时间内持续低于一个更高的阈值时，微血管完整性会受损，此时若有足够压力的再灌注，则可驱动红细胞 (RBC) 外渗，产生出血性（红色）梗死。相反，在没有足够再灌注压力的情况下，梗死区域保持贫血状态（白色）。\n\n模型变量和参数定义如下。设 $A(t)$ 表示ATP（任意单位），初始值为 $A(0) = A_{0}$。设有效灌注分数为 $f(t)$，ATP生成常数为 $\\alpha$（任意单位/分钟），ATP消耗率为 $\\beta$（任意单位/分钟）。在闭塞期间，灌注受限于侧支循环分数 $c \\in [0,1]$。在再灌注时刻 $t = T_{\\text{occ}}$，外部再灌注压力 $P_{\\text{rep}}$（相对单位）可能会恢复额外的血流。我们定义 $r_{\\text{eff}} = \\min(P_{\\text{rep}}, 1)$，并设置再灌注后的灌注为 $f(t) = c + r_{\\text{eff}}(1-c)$（当 $t \\ge T_{\\text{occ}}$ 时），而当 $t  T_{\\text{occ}}$ 时，$f(t) = c$。ATP动力学由以下一级动力学方程给出\n$$\n\\frac{dA}{dt} = \\alpha f(t) - \\beta,\n$$\n该方程随时间正向积分，并受限于 $A(t) \\ge 0$。\n\n两个累积时间阈值决定了表型。定义一个完整性阈值 $A_{\\text{int}}$ 和一个坏死阈值 $A_{\\text{nec}}$，其中 $A_{\\text{int}} > A_{\\text{nec}}$。设 $\\tau_{\\text{break}}$ 是使微血管完整性受损所需的 $A(t)  A_{\\text{int}}$ 的最小累积时间，设 $\\tau_{\\text{nec}}$ 是发生坏死所需的 $A(t)  A_{\\text{nec}}$ 的最小累积时间。设 $P_{\\text{leak}}$ 是在完整性已受损的情况下驱动RBC外渗所需的最低再灌注压力。只有在再灌注时刻 $t = T_{\\text{occ}}$，如果截至 $T_{\\text{occ}}$ 的累积完整性破坏时间满足 $T_{\\text{low}} \\ge \\tau_{\\text{break}}$ 并且 $P_{\\text{rep}} \\ge P_{\\text{leak}}$，才认为可能发生红细胞外渗（出血性转化）。\n\n表型分类被编码为一个整数：\n- $0$：无梗死（无坏死，即 $A(t)  A_{\\text{nec}}$ 的累积时间  $\\tau_{\\text{nec}}$），\n- $1$：白色（贫血性）梗死（发生坏死，但未满足再灌注时的RBC外渗标准），\n- $2$：红色（出血性）梗死（发生坏死且满足再灌注时的RBC外渗标准）。\n\n您的任务是实现一个具有固定时间步长 $\\Delta t$ 的离散时间模拟，该模拟：\n1. 将 $A(t)$ 从 $t = 0$ 到 $t = T_{\\text{end}} = T_{\\text{occ}} + T_{\\text{rec}}$ 随时间向前演化，其中 $T_{\\text{rec}}$ 是一个固定的再灌注后观察窗口。\n2. 累积 $T_{\\text{low}}$ 作为在 $t \\in [0, T_{\\text{occ}}]$ 期间 $A(t)  A_{\\text{int}}$ 的总时间。\n3. 累积 $T_{\\text{nec}}$ 作为在 $t \\in [0, T_{\\text{end}}]$ 期间 $A(t)  A_{\\text{nec}}$ 的总时间。\n4. 根据上述规则确定表型整数。\n\n使用以下参数值，除非另有说明，单位均为分钟：\n- $A_{0} = 1.0$ （任意单位），\n- $\\alpha = 0.08$ （任意单位/分钟），\n- $\\beta = 0.06$ （任意单位/分钟），\n- $A_{\\text{int}} = 0.3$ （任意单位），\n- $A_{\\text{nec}} = 0.2$ （任意单位），\n- $\\tau_{\\text{break}} = 10.0$，\n- $\\tau_{\\text{nec}} = 20.0$，\n- $P_{\\text{leak}} = 0.5$ （相对单位），\n- $\\Delta t = 0.01$，\n- $T_{\\text{rec}} = 30.0$。\n\n完全按照说明实现有效灌注 $f(t)$，并将ATP的下界限制为 $A(t) \\ge 0$。再灌注压力 $P_{\\text{rep}}$ 通过阈值 $P_{\\text{leak}}$ 直接影响RBC外渗条件，并通过 $r_{\\text{eff}}$ 间接影响ATP动力学。\n\n测试套件。在以下测试用例集 $(c, T_{\\text{occ}}, P_{\\text{rep}})$ 上运行您的程序：\n- 用例 $1$：$(0.1, 60.0, 0.0)$，\n- 用例 $2$：$(0.1, 60.0, 1.0)$，\n- 用例 $3$：$(0.6, 30.0, 1.0)$，\n- 用例 $4$：$(0.3125, 30.0, 1.0)$，\n- 用例 $5$：$(0.35, 45.0, 0.4)$，\n- 用例 $6$：$(0.0, 40.0, 1.0)$。\n\n您的程序应生成单行输出，其中包含按顺序排列的结果表型整数，形式为用方括号括起来的逗号分隔列表（例如，$[x_{1},x_{2},x_{3},x_{4},x_{5},x_{6}]$）。不应产生任何其他输出。输出中无需打印物理单位；所有结果均为上文定义的整数代码。",
            "solution": "该问题提出了一个用于对梗死表型进行分类的确定性、简化的组织生物能量学模型。该模型在数学上定义明确，并基于已确立的病理生理学原理。因此，这是一个可以推导出解决方案的有效问题。任务是实现所提供规则系统和常微分方程 (ODE) 的数值模拟，并对一组给定参数的输出结果进行分类。\n\n模型的核心是三磷酸腺苷 (ATP) 的动力学，用 $A(t)$ 表示，由以下一阶线性常微分方程控制：\n$$\n\\frac{dA}{dt} = \\alpha f(t) - \\beta\n$$\n初始条件为 $A(0) = A_0$，并带有非负约束 $A(t) \\ge 0$。此处，$\\alpha$ 是ATP生成常数，$\\beta$ 是ATP消耗率，而 $f(t)$ 是有效灌注分数，它在再灌注时刻 $t = T_{\\text{occ}}$ 发生变化。\n\n灌注函数 $f(t)$ 是一个分段常数函数：\n$$\nf(t) = \\begin{cases} \nc  \\text{for } 0 \\le t  T_{\\text{occ}} \\\\\nc + r_{\\text{eff}}(1-c)  \\text{for } t \\ge T_{\\text{occ}} \n\\end{cases}\n$$\n其中 $c$ 是侧支灌注分数，$r_{\\text{eff}} = \\min(P_{\\text{rep}}, 1)$ 是来自外部压力 $P_{\\text{rep}}$ 的有效再灌注。\n\n为了解决这个问题，我们将使用离散时间的数值模拟。我们用固定的步长 $\\Delta t$ 将时间离散化。设 $A_k = A(k \\Delta t)$ 是在时间 $t_k = k \\Delta t$ 时的ATP水平。使用前向欧拉法进行数值积分，下一个时间步的ATP值 $A_{k+1}$ 近似为：\n$$\nA_{k+1} = A_k + (\\alpha f(t_k) - \\beta) \\Delta t\n$$\n每一步之后，我们必须强制执行ATP浓度不能为负的物理约束：\n$$\nA_{k+1} \\leftarrow \\max(0, A_{k+1})\n$$\n\n模拟从 $t=0$ 进行到最终时间 $T_{\\text{end}} = T_{\\text{occ}} + T_{\\text{rec}}$。在模拟过程中，我们必须跟踪两个累积时间计数器：\n1. $T_{\\text{low}}$：在闭塞阶段 $t \\in [0, T_{\\text{occ}}]$ 中，$A(t)  A_{\\text{int}}$ 的总时间。在我们的离散模拟中，对于每个时间步 $t_k  T_{\\text{occ}}$，如果 $A_k  A_{\\text{int}}$，我们将 $T_{\\text{low}}$ 增加 $\\Delta t$。\n2. $T_{\\text{nec}}$：在整个模拟期间 $t \\in [0, T_{\\text{end}}]$ 中，$A(t)  A_{\\text{nec}}$ 的总时间。同样，对于每个时间步 $t_k  T_{\\text{end}}$，如果 $A_k  A_{\\text{nec}}$，我们将 $T_{\\text{nec}}$ 增加 $\\Delta t$。\n\n模拟完成后，我们根据一套清晰的层级规则对结果进行分类：\n\n首先，我们确定是否发生了坏死。坏死的定义是，如果低于坏死阈值 $A_{\\text{nec}}$ 的累积时间达到或超过了所需持续时间 $\\tau_{\\text{nec}}$。\n$$\n\\text{Necrosis Occurs} \\iff T_{\\text{nec}} \\ge \\tau_{\\text{nec}}\n$$\n如果此条件不满足，则组织是存活的，表型分类为 $0$（无梗死），无论任何其他条件如何。\n\n如果确实发生了坏死，我们接着确定梗死是“红色”（出血性）还是“白色”（贫血性）。这取决于在再灌注时刻（$t=T_{\\text{occ}}$）是否满足红细胞 (RBC) 外渗的条件。这些条件有两个：\n1. 微血管完整性必须受损。当 $T_{\\text{low}} \\ge \\tau_{\\text{break}}$ 时发生。\n2. 再灌注压力必须足以引起渗漏。当 $P_{\\text{rep}} \\ge P_{\\text{leak}}$ 时发生。\n\n我们为外渗潜力定义一个布尔条件：\n$$\n\\text{Extravasation Possible} \\iff (T_{\\text{low}} \\ge \\tau_{\\text{break}}) \\land (P_{\\text{rep}} \\ge P_{\\text{leak}})\n$$\n\n最终的分类逻辑如下：\n- 如果 $T_{\\text{nec}}  \\tau_{\\text{nec}}$：表型为 $0$（无梗死）。\n- 如果 $T_{\\text{nec}} \\ge \\tau_{\\text{nec}}$：\n    - 如果“Extravasation Possible”为真：表型为 $2$（红色梗死）。\n    - 如果“Extravasation Possible”为假：表型为 $1$（白色梗死）。\n\n我们将使用提供的固定参数在一个程序中实现此逻辑：\n- $A_{0} = 1.0$\n- $\\alpha = 0.08$\n- $\\beta = 0.06$\n- $A_{\\text{int}} = 0.3$\n- $A_{\\text{nec}} = 0.2$\n- $\\tau_{\\text{break}} = 10.0$ 分钟\n- $\\tau_{\\text{nec}} = 20.0$ 分钟\n- $P_{\\text{leak}} = 0.5$\n- $\\Delta t = 0.01$ 分钟\n- $T_{\\text{rec}} = 30.0$ 分钟\n\n该程序将遍历每个测试用例 $(c, T_{\\text{occ}}, P_{\\text{rep}})$，运行模拟，应用分类逻辑，并报告所得的表型整数。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the infarct phenotype classification problem by running a time-discrete\n    simulation for each test case.\n    \"\"\"\n    # Fixed parameter values from the problem statement\n    A0 = 1.0\n    alpha = 0.08\n    beta = 0.06\n    A_int = 0.3\n    A_nec = 0.2\n    tau_break = 10.0\n    tau_nec = 20.0\n    P_leak = 0.5\n    dt = 0.01\n    T_rec = 30.0\n\n    # Test suite of cases (c, T_occ, P_rep)\n    test_cases = [\n        (0.1, 60.0, 0.0),   # Case 1\n        (0.1, 60.0, 1.0),   # Case 2\n        (0.6, 30.0, 1.0),   # Case 3\n        (0.3125, 30.0, 1.0),# Case 4\n        (0.35, 45.0, 0.4),  # Case 5\n        (0.0, 40.0, 1.0),   # Case 6\n    ]\n\n    results = []\n    for c, T_occ, P_rep in test_cases:\n        # --- Simulation Setup ---\n        T_end = T_occ + T_rec\n        \n        # Initialize simulation variables\n        T_low = 0.0  # Cumulative time with A(t)  A_int up to T_occ\n        T_nec_total = 0.0  # Cumulative time with A(t)  A_nec up to T_end\n        A = A0\n\n        # Effective reperfusion\n        r_eff = min(P_rep, 1.0)\n        \n        # --- Time-Discrete Simulation Loop ---\n        # Generate time points.\n        time_points = np.arange(0, T_end, dt)\n\n        for t in time_points:\n            # Check conditions at the beginning of the interval [t, t+dt)\n            if t  T_occ:\n                if A  A_int:\n                    T_low += dt\n            \n            if A  A_nec:\n                T_nec_total += dt\n\n            # Determine perfusion fraction f(t) for the current time t\n            if t  T_occ:\n                f_t = c\n            else: # t = T_occ\n                f_t = c + r_eff * (1 - c)\n            \n            # Update ATP using forward Euler method\n            dA_dt = alpha * f_t - beta\n            A_next = A + dA_dt * dt\n            \n            # Enforce non-negativity constraint\n            A = max(0.0, A_next)\n\n        # --- Phenotype Classification ---\n        # 1. Check if necrosis occurred\n        is_necrosis = (T_nec_total = tau_nec)\n\n        # 2. If no necrosis, phenotype is 0\n        if not is_necrosis:\n            phenotype = 0\n        else:\n            # 3. If necrosis occurred, check for extravasation potential\n            can_be_hemorrhagic = (T_low = tau_break) and (P_rep = P_leak)\n            if can_be_hemorrhagic:\n                phenotype = 2  # Red infarct\n            else:\n                phenotype = 1  # White infarct\n        \n        results.append(phenotype)\n\n    # Print the final results in the specified format\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n\n```"
        }
    ]
}