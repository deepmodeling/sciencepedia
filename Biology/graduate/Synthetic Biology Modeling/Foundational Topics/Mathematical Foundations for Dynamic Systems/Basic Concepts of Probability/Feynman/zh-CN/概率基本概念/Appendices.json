{
    "hands_on_practices": [
        {
            "introduction": "在分析生物学数据时，从汇总群体中得出的结论可能具有危险的误导性。本练习探讨了辛普森悖论，这是一种在不同子组中观察到的趋势在合并这些组时发生逆转的现象。通过分析一个真实的合成生物学数据集，您将学会识别混杂变量的影响，并理解为什么分层分析对于准确解释至关重要 。",
            "id": "3907106",
            "problem": "一项高通量单细胞分析在一个合成生物学实验中评估一个转录激活回路，该回路驱动一个绿色荧光蛋白（GFP）报告基因。细胞被分为两个队列：一个队列（处理组）受到扰动，该扰动将一个表观遗传激活子招募到启动子处；另一个队列（对照组）则是一个仅含启动子的构建体。由于细胞周期阶段调节染色质可及性，数据也根据DNA含量染色确定的S期（$S$）与G1期（$\\mathrm{G1}$）进行了分层。如果一个细胞的GFP超过预设阈值，则被计为报告基因阳性。\n\n获得了以下计数：\n- $S$期：\n  - 处理组：总共 $700$ 个细胞，其中 $196$ 个为报告基因阳性。\n  - 对照组：总共 $300$ 个细胞，其中 $90$ 个为报告基因阳性。\n- $\\mathrm{G1}$期：\n  - 处理组：总共 $300$ 个细胞，其中 $27$ 个为报告基因阳性。\n  - 对照组：总共 $700$ 个细胞，其中 $70$ 个为报告基因阳性。\n\n假设每个细胞都是从其对应的队列-阶段亚群中进行的独立同分布抽样。基于条件概率的基本定义和应用于这些数据的全概率定律，判断下列哪些陈述是正确的。\n\nA. 在$S$期和$\\mathrm{G1}$期内，处理组中报告基因激活的概率均低于对照组。\n\nB. 当汇总$S$期和$\\mathrm{G1}$期的数据（忽略阶段）时，处理组中报告基因激活的概率高于对照组。\n\nC. 阶段内比较与聚合比较之间的逆转是辛普森悖论的一个实例。\n\nD. 如果处理组和对照组具有相同的阶段分布（即，在$S$期和$\\mathrm{G1}$期中的比例相同），那么聚合比较将与阶段内比较的结果一致。\n\nE. 这种悖论性的逆转发生是因为全概率定律在这些数据中被违反了。",
            "solution": "我们从条件概率的定义开始。对于任意事件 $A$ 和条件事件 $B$（其中 $P(B)  0$），条件概率为 $P(A \\mid B) = \\dfrac{P(A \\cap B)}{P(B)}$。当样本空间被划分为一系列不相交的事件 $\\{B_i\\}$ 且满足 $\\sum_i P(B_i) = 1$ 时，全概率定律指出，对于任意事件 $A$，$P(A) = \\sum_i P(A \\mid B_i) P(B_i)$。\n\n我们将经验频率解释为在每个队列-阶段层内细胞独立同分布假设下的概率估计。因此，特定阶段的激活概率由该层内报告基因阳性的计数除以总计数得出。\n\n计算特定阶段的激活概率：\n\n- 在$S$期：\n  - 处理组：$P(\\text{On} \\mid \\text{Trt}, S) \\approx \\dfrac{196}{700} = 0.28$。\n  - 对照组：$P(\\text{On} \\mid \\text{Ctl}, S) \\approx \\dfrac{90}{300} = 0.30$。\n  因此，在$S$期，处理组的激活概率低于对照组。\n\n- 在$\\mathrm{G1}$期：\n  - 处理组：$P(\\text{On} \\mid \\text{Trt}, \\mathrm{G1}) \\approx \\dfrac{27}{300} = 0.09$。\n  - 对照组：$P(\\text{On} \\mid \\text{Ctl}, \\mathrm{G1}) \\approx \\dfrac{70}{700} = 0.10$。\n  因此，在$\\mathrm{G1}$期，处理组的激活概率也低于对照组。\n\n现在通过忽略阶段来计算聚合的激活概率。这使用了全概率定律，其中权重等于每个队列内的阶段比例。\n\n对于处理组：\n- 处理组总细胞数：$700 + 300 = 1000$。\n- 处理组阳性细胞总数：$196 + 27 = 223$。\n- 聚合的 $P(\\text{On} \\mid \\text{Trt}) \\approx \\dfrac{223}{1000} = 0.223$。\n\n对于对照组：\n- 对照组总细胞数：$300 + 700 = 1000$。\n- 对照组阳性细胞总数：$90 + 70 = 160$。\n- 聚合的 $P(\\text{On} \\mid \\text{Ctl}) \\approx \\dfrac{160}{1000} = 0.160$。\n\n因此，在对各阶段进行聚合后，处理组表现出比对照组更高的激活概率，尽管在每个阶段内其概率都更低。这是辛普森悖论的典型特征：在几个组中出现的趋势，在数据合并后发生逆转，这是由不同的组比例驱动的。\n\n我们还分析了处理组和对照组共享相同阶段分布的反事实情况。设 $w_S$ 表示在 $S$ 期中的共同比例，$w_{\\mathrm{G1}} = 1 - w_S$ 表示在 $\\mathrm{G1}$ 期中的比例。那么聚合的差异将是\n$$\n\\Delta = \\bigl[w_S \\, P(\\text{On} \\mid \\text{Trt}, S) + w_{\\mathrm{G1}} \\, P(\\text{On} \\mid \\text{Trt}, \\mathrm{G1})\\bigr] - \\bigl[w_S \\, P(\\text{On} \\mid \\text{Ctl}, S) + w_{\\mathrm{G1}} \\, P(\\text{On} \\mid \\text{Ctl}, \\mathrm{G1})\\bigr].\n$$\n重新整理得，\n$$\n\\Delta = w_S \\bigl[P(\\text{On} \\mid \\text{Trt}, S) - P(\\text{On} \\mid \\text{Ctl}, S)\\bigr] + w_{\\mathrm{G1}} \\bigl[P(\\text{On} \\mid \\text{Trt}, \\mathrm{G1}) - P(\\text{On} \\mid \\text{Ctl}, \\mathrm{G1})\\bigr].\n$$\n在这里，$P(\\text{On} \\mid \\text{Trt}, S) - P(\\text{On} \\mid \\text{Ctl}, S) = 0.28 - 0.30 = -0.02$ 且 $P(\\text{On} \\mid \\text{Trt}, \\mathrm{G1}) - P(\\text{On} \\mid \\text{Ctl}, \\mathrm{G1}) = 0.09 - 0.10 = -0.01$，两者均为负数。由于 $w_S \\in [0,1]$ 且 $w_{\\mathrm{G1}} \\in [0,1]$，$\\Delta$ 是负数的凸组合，因此必须为负。因此，如果队列间的阶段分布相等，聚合比较将与阶段内比较一致，显示处理组低于对照组。\n\n最后，全概率定律没有被违反。上述聚合概率是通过将特定阶段的概率按特定队列的阶段比例加权求和而精确计算的。逆转的发生是因为两个队列具有不同的阶段分布（处理组在激活率较高的$S$期中占比过高），而不是因为任何概率定律被打破。\n\n逐项分析：\n\n- A选项：正确。我们计算出 $P(\\text{On} \\mid \\text{Trt}, S) = 0.28  0.30 = P(\\text{On} \\mid \\text{Ctl}, S)$ 且 $P(\\text{On} \\mid \\text{Trt}, \\mathrm{G1}) = 0.09  0.10 = P(\\text{On} \\mid \\text{Ctl}, \\mathrm{G1})$。\n\n- B选项：正确。聚合后，$P(\\text{On} \\mid \\text{Trt}) = 0.223  0.160 = P(\\text{On} \\mid \\text{Ctl})$。\n\n- C选项：正确。当数据聚合时，处理组在阶段内的劣势逆转为表观上的优势，这正是辛普森悖论。\n\n- D选项：正确。在阶段分布匹配的情况下，聚合差异是阶段内负差异的加权平均，因此仍然为负。\n\n- E选项：不正确。全概率定律成立；悖论的产生是由于不同阶段的混合比例不同，而非违反了任何概率定律。",
            "answer": "$$\\boxed{ABCD}$$"
        },
        {
            "introduction": "虽然最初独立的生物学过程可能看起来毫无关联，但实验选择的行为可能会人为地在它们之间产生相关性。本练习演示了对一个共同结果进行条件化——这在荧光激活细胞分选（FACS）等技术中很常见——如何在原本独立的变量之间引入统计依赖性。理解这一被称为“对撞偏误”（collider bias）的概念，对于设计严谨的实验和避免推断出虚假的生物学相互作用至关重要 。",
            "id": "3907128",
            "problem": "在合成生物学建模中，荧光激活细胞分选（FACS）被用于根据荧光读数筛选细胞。考虑两个报告基因强度，模型化为随机变量 $X$ 和 $Y$，代表筛选前独立的信号通路活性。门控变量 $Z$ 编码了FACS所应用的筛选规则。独立性意味着对于所有可测集 $A$ 和 $B$，$\\mathbb{P}(X\\in A, Y\\in B)=\\mathbb{P}(X\\in A)\\mathbb{P}(Y\\in B)$，而给定 $Z$ 的条件独立性意味着对于所有可测集 $A$ 和 $B$ 以及值 $z$，$\\mathbb{P}(X\\in A, Y\\in B \\mid Z=z)=\\mathbb{P}(X\\in A \\mid Z=z)\\mathbb{P}(Y\\in B \\mid Z=z)$。\n\n选择所有构建了科学上合理的FACS筛选场景的选项，在这些场景中，$X\\perp Y$ 在整个群体中成立，但在至少一个选定的 $Z$ 的分层中 $X\\not\\perp Y\\mid Z$ 不成立。\n\nA. $X$ 和 $Y$ 是参数为 $p\\in(0,1)$ 的独立伯努利随机变量，模拟两个独立的报告基因阳性事件。门控选择任何至少一个报告基因为阳性的细胞：$Z=\\mathbb{I}\\{X+Y\\ge 1\\}$。\n\nB. $X$ 和 $Y$ 是参数为 $p\\in(0,1)$ 的独立伯努利随机变量。门控仅根据报告基因 $X$ 选择细胞：$Z=\\mathbb{I}\\{X=1\\}$。\n\nC. $X\\sim\\mathcal{N}(0,1)$ 和 $Y\\sim\\mathcal{N}(0,1)$ 是独立的标准正态随机变量，代表经过适当归一化后的两个独立荧光通道。门控选择总荧光强度高于阈值 $c\\in\\mathbb{R}$ 的细胞：$Z=\\mathbb{I}\\{X+Yc\\}$。\n\nD. $X\\sim\\mathcal{N}(0,1)$ 和 $Y\\sim\\mathcal{N}(0,1)$ 是如上所述的独立标准正态随机变量。$Z$ 是一次独立的硬币抛掷， $Z\\sim\\text{Bernoulli}(q)$ 且 $q\\in(0,1)$，代表一个不相关的元数据标志。\n\nE. $X\\sim\\text{Poisson}(\\lambda_1)$ 和 $Y\\sim\\text{Poisson}(\\lambda_2)$ 是独立的泊松随机变量，代表两种基因产物的分子拷贝数。门控记录总数 $Z=X+Y$，并且分析被限制在某个 $s\\in\\mathbb{N}$ 的固定分层 $Z=s$ 上。",
            "solution": "我们从核心的概率定义开始。$X$ 和 $Y$ 的独立性意味着对于所有可测集 $A$ 和 $B$，$\\mathbb{P}(X\\in A, Y\\in B)=\\mathbb{P}(X\\in A)\\mathbb{P}(Y\\in B)$。给定 $Z=z$ 时 $X$ 和 $Y$ 的条件独立性意味着对于所有可测集 $A$ 和 $B$，$\\mathbb{P}(X\\in A, Y\\in B \\mid Z=z)=\\mathbb{P}(X\\in A \\mid Z=z)\\mathbb{P}(Y\\in B \\mid Z=z)$。我们将使用条件概率的定义，$\\mathbb{P}(A\\mid B)=\\frac{\\mathbb{P}(A\\cap B)}{\\mathbb{P}(B)}$ (当 $\\mathbb{P}(B)0$ 时)，并在适当的时候使用全概率公式。\n\n选项 A 分析：\n- 无条件独立性：根据构造，$X$ 和 $Y$ 是参数为 $p\\in(0,1)$ 的独立伯努利随机变量，因此对于任何 $x,y\\in\\{0,1\\}$，$\\mathbb{P}(X=x, Y=y)=\\mathbb{P}(X=x)\\mathbb{P}(Y=y)$；因此 $X\\perp Y$。\n- 给定 $Z=1$ 时的条件依赖性：这里 $Z=\\mathbb{I}\\{X+Y\\ge 1\\}$。我们计算 $\\mathbb{P}(Y=1\\mid Z=1)$ 和 $\\mathbb{P}(Y=1\\mid X=1, Z=1)$ 并证明它们不同。首先，\n$$\n\\mathbb{P}(Z=1)=1-\\mathbb{P}(X=0, Y=0)=1-(1-p)^2=2p-p^2.\n$$\n另外，$\\mathbb{P}(Y=1, Z=1)=\\mathbb{P}(Y=1)=p$，因为 $Y=1$ 意味着 $Z=1$。因此\n$$\n\\mathbb{P}(Y=1\\mid Z=1)=\\frac{\\mathbb{P}(Y=1, Z=1)}{\\mathbb{P}(Z=1)}=\\frac{p}{2p-p^2}=\\frac{1}{2-p}.\n$$\n接下来，以 $X=1$ 为条件使得 $Z=1$ 成为必然，并且根据无条件独立性，$\\mathbb{P}(Y=1\\mid X=1)=p$。因此\n$$\n\\mathbb{P}(Y=1\\mid X=1, Z=1)=p\\neq \\frac{1}{2-p}\n$$\n对于所有 $p\\in(0,1)$。因为给定 $Z=1$ 时 $Y$ 的条件分布在进一步以 $X=1$ 为条件时发生变化，所以条件独立性所需的因式分解不成立，因此 $X\\not\\perp Y\\mid Z$。结论：正确。\n\n选项 B 分析：\n- 无条件独立性：与选项A一样，$X$ 和 $Y$ 是参数为 $p$ 的独立伯努利变量，因此 $X\\perp Y$。\n- 条件独立性：这里 $Z=\\mathbb{I}\\{X=1\\}$，所以 $Z=X$ 是确定性的。对于任何可测集 $A\\subseteq\\{0,1\\}$ 和 $B\\subseteq\\{0,1\\}$，以及对于 $z\\in\\{0,1\\}$，\n$$\n\\mathbb{P}(X\\in A, Y\\in B \\mid Z=z)=\\mathbb{P}(X\\in A, Y\\in B \\mid X=z).\n$$\n因为 $Y\\perp X$，所以 $\\mathbb{P}(Y\\in B \\mid X=z)=\\mathbb{P}(Y\\in B)$，而给定 $Z=z$ 的 $X$ 在 $x=z$ 处是退化的。因此\n$$\n\\mathbb{P}(X\\in A, Y\\in B \\mid Z=z)=\\mathbb{P}(X\\in A \\mid Z=z)\\mathbb{P}(Y\\in B \\mid Z=z),\n$$\n其中，如果 $z\\in A$，则 $\\mathbb{P}(X\\in A \\mid Z=z)$ 等于1，否则为0，且 $\\mathbb{P}(Y\\in B \\mid Z=z)=\\mathbb{P}(Y\\in B)$。因此所需的因式分解成立，所以 $X\\perp Y\\mid Z$。结论：不正确。\n\n选项 C 分析：\n- 无条件独立性：根据构造，$X$ 和 $Y$ 是独立的标准正态随机变量，因此 $X\\perp Y$。\n- 对于门控分层 $Z=1$ 的条件依赖性：门控 $Z=\\mathbb{I}\\{X+Yc\\}$ 编码了对和的筛选。我们通过证明对于一个可测事件 $B=\\{Yt\\}$，$\\mathbb{P}(Yt\\mid X=x, Z=1)$ 依赖于 $x$ 来展示非独立性。对于固定的 $x\\in\\mathbb{R}$，\n$$\n\\{Z=1\\}=\\{X+Yc\\}=\\{Yc-x\\}.\n$$\n因此，根据条件概率，\n$$\n\\mathbb{P}(Yt \\mid X=x, Z=1)=\\frac{\\mathbb{P}(Yt, Yc-x \\mid X=x)}{\\mathbb{P}(Yc-x \\mid X=x)}.\n$$\n使用无条件独立性， $Y$ 的分布不依赖于 $X$，所以\n$$\n\\mathbb{P}(Yt \\mid X=x, Z=1)=\\frac{\\mathbb{P}(Y\\max\\{t, c-x\\})}{\\mathbb{P}(Yc-x)}.\n$$\n当 $Y\\sim \\mathcal{N}(0,1)$ 时，将生存函数写为 $\\bar{\\Phi}(u)=\\mathbb{P}(Yu)$，\n$$\n\\mathbb{P}(Yt \\mid X=x, Z=1)=\\frac{\\bar{\\Phi}(\\max\\{t, c-x\\})}{\\bar{\\Phi}(c-x)}.\n$$\n对于任何固定的 $t$，右侧是 $x$ 的一个非恒定函数（例如，选择 $t=c$，这样当 $x\\ge 0$ 时 $\\max\\{t,c-x\\}=c$，当 $x0$ 时等于 $c-x$）。因为 $\\mathbb{P}(Yt \\mid X=x, Z=1)$ 依赖于 $x$，所以对于适当的 $A$ 和 $B$，因式分解 $\\mathbb{P}(X\\in A, Y\\in B \\mid Z=1)=\\mathbb{P}(X\\in A\\mid Z=1)\\mathbb{P}(Y\\in B\\mid Z=1)$ 不成立，因此 $X\\not\\perp Y\\mid Z$。直观上，以 $X+Yc$ 为条件会引入一种负相关：较大的 $X$ 需要 $Y$ 较小的贡献才能超过阈值。结论：正确。\n\n选项 D 分析：\n- 无条件独立性：$X$ 和 $Y$ 是独立的标准正态随机变量，因此 $X\\perp Y$。\n- 条件独立性：$Z$ 独立于 $(X,Y)$，因此对于任何可测集 $A, B$ 和任何满足 $\\mathbb{P}(Z=z)0$ 的 $z$，\n$$\n\\mathbb{P}(X\\in A, Y\\in B \\mid Z=z)=\\frac{\\mathbb{P}(X\\in A, Y\\in B, Z=z)}{\\mathbb{P}(Z=z)}=\\frac{\\mathbb{P}(X\\in A, Y\\in B)\\,\\mathbb{P}(Z=z)}{\\mathbb{P}(Z=z)}=\\mathbb{P}(X\\in A, Y\\in B).\n$$\n类似地，\n$$\n\\mathbb{P}(X\\in A \\mid Z=z)=\\mathbb{P}(X\\in A),\\quad \\mathbb{P}(Y\\in B \\mid Z=z)=\\mathbb{P}(Y\\in B).\n$$\n因此，\n$$\n\\mathbb{P}(X\\in A, Y\\in B \\mid Z=z)=\\mathbb{P}(X\\in A)\\mathbb{P}(Y\\in B)=\\mathbb{P}(X\\in A \\mid Z=z)\\mathbb{P}(Y\\in B \\mid Z=z),\n$$\n所以 $X\\perp Y\\mid Z$。结论：不正确。\n\n选项 E 分析：\n- 无条件独立性：$X$ 和 $Y$ 是参数为 $\\lambda_10$ 和 $\\lambda_20$ 的独立泊松随机变量，所以 $X\\perp Y$。\n- 给定固定总和 $Z=s$ 时的条件依赖性：门控记录 $Z=X+Y$，并且分析集中在分层 $Z=s$ 上。利用独立泊松随机变量的加法性质，$Z\\sim \\text{Poisson}(\\lambda_1+\\lambda_2)$。给定 $Z=s$ 时 $X$ 的条件分布是二项分布，\n$$\n\\mathbb{P}(X=x \\mid Z=s)=\\binom{s}{x}\\left(\\frac{\\lambda_1}{\\lambda_1+\\lambda_2}\\right)^x\\left(\\frac{\\lambda_2}{\\lambda_1+\\lambda_2}\\right)^{s-x},\\quad x\\in\\{0,1,\\dots,s\\},\n$$\n并且在给定 $Z=s$ 时，$Y$ 被确定为 $Y=s-X$。因此，\n$$\n\\operatorname{Cov}(X,Y \\mid Z=s)=\\operatorname{Cov}(X, s-X \\mid Z=s)=\\operatorname{Cov}(X,s\\mid Z=s)-\\operatorname{Var}(X\\mid Z=s)=-\\operatorname{Var}(X\\mid Z=s)0,\n$$\n因为对于 $\\lambda_1,\\lambda_20$ 和 $s\\ge 1$，$\\operatorname{Var}(X\\mid Z=s)=s\\frac{\\lambda_1}{\\lambda_1+\\lambda_2}\\left(1-\\frac{\\lambda_1}{\\lambda_1+\\lambda_2}\\right)0$。在条件作用下的非零协方差意味着条件独立性的不成立。等价地，联合条件分布集中在线 $x+y=s$ 上，这违反了任何乘积因式分解。因此 $X\\not\\perp Y\\mid Z$。结论：正确。\n\n总而言之，选项A、C和E通过对在基于FACS的细胞分选中科学可信的碰撞子（collider）或固定总和门控进行选择，满足了 $X\\perp Y$ 但 $X\\not\\perp Y\\mid Z$ 的条件。选项B和D不会引起条件依赖性，因为仅对 $X$ 或一个独立的元数据标志进行门控会保持 $X\\perp Y\\mid Z$。",
            "answer": "$$\\boxed{ACE}$$"
        },
        {
            "introduction": "建模的一个核心任务是从支配系统的底层随机规则中预测宏观可观测量。本练习直接解决了这个问题，它将转录起始事件建模为泊松过程，并计算其对下游饱和系统的平均效应。这项实践提供了应用期望值的定义和处理级数的基本技能，以推导生物学相关量的解析表达式 。",
            "id": "3907161",
            "problem": "一个在均一环境中的单基因被建模为：其由核糖核酸聚合酶引发的转录起始事件构成一个风险率恒定的时齐泊松过程。在一个固定的观测窗口内，令 $X$ 表示转录起始事件的总数。在这些假设下，$X$ 被建模为参数为 $\\lambda0$ 的泊松随机变量，记作 $X \\sim \\mathrm{Poisson}(\\lambda)$，其中 $\\lambda$ 是该窗口内起始事件的期望数量。\n\n为捕捉离散起始事件导致的限制性因素（例如，有效启动子占据或共享资源使用）的饱和效应，考虑饱和变换 $g(x)=\\dfrac{x}{1+x}$，其中 $x \\in \\{0,1,2,\\ldots\\}$。仅从离散随机变量函数的期望定义和泊松分布的概率质量函数出发，并只使用经过充分检验的级数性质，推导群体平均饱和度 $\\,\\mathbb{E}[g(X)]\\,$ 关于 $\\lambda$ 的闭式解析表达式。清晰地论证你所执行的任何级数操作。以 $\\lambda$ 的精确表达式形式给出你的最终结果（无数值舍入）。",
            "solution": "目标是计算函数 $g(X)$ 的期望，记作 $\\mathbb{E}[g(X)]$，其中 $X$ 是一个泊松随机变量，$X \\sim \\mathrm{Poisson}(\\lambda)$，函数 $g$ 定义为 $g(x) = \\dfrac{x}{1+x}$，其中 $x$ 属于非负整数集合 $\\{0, 1, 2, \\ldots\\}$。参数 $\\lambda$ 是一个正实数，$\\lambda  0$。\n\n根据离散随机变量函数的期望定义，我们有：\n$$\n\\mathbb{E}[g(X)] = \\sum_{k=0}^{\\infty} g(k) P(X=k)\n$$\n参数为 $\\lambda$ 的泊松随机变量 $X$ 的概率质量函数（PMF）由下式给出：\n$$\nP(X=k) = \\frac{\\lambda^k \\exp(-\\lambda)}{k!} \\quad \\text{对于 } k \\in \\{0, 1, 2, \\ldots\\}\n$$\n将 $g(k)$ 和 $P(X=k)$ 的表达式代入期望的定义，我们得到：\n$$\n\\mathbb{E}[g(X)] = \\sum_{k=0}^{\\infty} \\left(\\frac{k}{1+k}\\right) \\frac{\\lambda^k \\exp(-\\lambda)}{k!}\n$$\n我们可以将常数项 $\\exp(-\\lambda)$ 从求和中提出：\n$$\n\\mathbb{E}[g(X)] = \\exp(-\\lambda) \\sum_{k=0}^{\\infty} \\frac{k}{1+k} \\frac{\\lambda^k}{k!}\n$$\n级数的第一项，当 $k=0$ 时，为 $\\frac{0}{1+0} \\frac{\\lambda^0}{0!} = 0$。因此，求和可以从 $k=1$ 开始：\n$$\n\\mathbb{E}[g(X)] = \\exp(-\\lambda) \\sum_{k=1}^{\\infty} \\frac{k}{1+k} \\frac{\\lambda^k}{k!}\n$$\n为继续进行，我们对项 $\\frac{k}{1+k}$ 进行代数变换：\n$$\n\\frac{k}{1+k} = \\frac{(k+1)-1}{1+k} = 1 - \\frac{1}{1+k}\n$$\n将其代回求和中，得到：\n$$\n\\mathbb{E}[g(X)] = \\exp(-\\lambda) \\sum_{k=1}^{\\infty} \\left(1 - \\frac{1}{1+k}\\right) \\frac{\\lambda^k}{k!}\n$$\n我们可以将其分成两个独立的求和：\n$$\n\\mathbb{E}[g(X)] = \\exp(-\\lambda) \\left( \\sum_{k=1}^{\\infty} \\frac{\\lambda^k}{k!} - \\sum_{k=1}^{\\infty} \\frac{1}{1+k} \\frac{\\lambda^k}{k!} \\right)\n$$\n这个操作是允许的，因为对于任何有限的 $\\lambda  0$，两个独立的级数都绝对收敛。第一个级数是 $\\exp(\\lambda)$ 的泰勒级数的一个组成部分，而第二个级数的绝对收敛性可以通过比值检验法来确认。\n\n我们来计算第一个求和，$S_1 = \\sum_{k=1}^{\\infty} \\frac{\\lambda^k}{k!}$。我们回想指数函数在 $0$ 附近的著名泰勒级数展开：\n$$\n\\exp(\\lambda) = \\sum_{k=0}^{\\infty} \\frac{\\lambda^k}{k!} = \\frac{\\lambda^0}{0!} + \\sum_{k=1}^{\\infty} \\frac{\\lambda^k}{k!} = 1 + S_1\n$$\n因此，第一个求和是：\n$$\nS_1 = \\exp(\\lambda) - 1\n$$\n接下来，我们计算第二个求和，$S_2 = \\sum_{k=1}^{\\infty} \\frac{1}{1+k} \\frac{\\lambda^k}{k!}$。我们可以简化求和内的项：\n$$\n\\frac{1}{1+k} \\frac{\\lambda^k}{k!} = \\frac{\\lambda^k}{(k+1)k!} = \\frac{\\lambda^k}{(k+1)!}\n$$\n所以第二个求和变为：\n$$\nS_2 = \\sum_{k=1}^{\\infty} \\frac{\\lambda^k}{(k+1)!}\n$$\n为了将其与指数级数联系起来，我们需要使 $\\lambda$ 的幂与阶乘的参数相匹配。我们可以乘以并除以 $\\lambda \\neq 0$：\n$$\nS_2 = \\frac{1}{\\lambda} \\sum_{k=1}^{\\infty} \\frac{\\lambda^{k+1}}{(k+1)!}\n$$\n我们引入一个新的指标 $j = k+1$。当 $k$ 从 $1$ 到 $\\infty$ 时，$j$ 从 $2$ 到 $\\infty$：\n$$\nS_2 = \\frac{1}{\\lambda} \\sum_{j=2}^{\\infty} \\frac{\\lambda^j}{j!}\n$$\n我们可以用完整的指数级数来表示这个和：\n$$\n\\sum_{j=2}^{\\infty} \\frac{\\lambda^j}{j!} = \\left(\\sum_{j=0}^{\\infty} \\frac{\\lambda^j}{j!}\\right) - \\frac{\\lambda^0}{0!} - \\frac{\\lambda^1}{1!} = \\exp(\\lambda) - 1 - \\lambda\n$$\n将这个结果代回 $S_2$ 的表达式中：\n$$\nS_2 = \\frac{1}{\\lambda} (\\exp(\\lambda) - 1 - \\lambda)\n$$\n现在，我们将 $S_1$ 和 $S_2$ 的结果合并到 $\\mathbb{E}[g(X)]$ 的表达式中：\n$$\n\\mathbb{E}[g(X)] = \\exp(-\\lambda) (S_1 - S_2) = \\exp(-\\lambda) \\left[ (\\exp(\\lambda) - 1) - \\frac{1}{\\lambda}(\\exp(\\lambda) - 1 - \\lambda) \\right]\n$$\n分配 $\\exp(-\\lambda)$ 项：\n$$\n\\mathbb{E}[g(X)] = (\\exp(-\\lambda)\\exp(\\lambda) - \\exp(-\\lambda)) - \\frac{\\exp(-\\lambda)}{\\lambda}(\\exp(\\lambda) - 1 - \\lambda)\n$$\n$$\n\\mathbb{E}[g(X)] = (1 - \\exp(-\\lambda)) - \\frac{1}{\\lambda}(1 - \\exp(-\\lambda) - \\lambda\\exp(-\\lambda))\n$$\n分配 $-\\frac{1}{\\lambda}$ 项：\n$$\n\\mathbb{E}[g(X)] = 1 - \\exp(-\\lambda) - \\frac{1}{\\lambda} + \\frac{\\exp(-\\lambda)}{\\lambda} + \\frac{\\lambda\\exp(-\\lambda)}{\\lambda}\n$$\n$$\n\\mathbb{E}[g(X)] = 1 - \\exp(-\\lambda) - \\frac{1}{\\lambda} + \\frac{\\exp(-\\lambda)}{\\lambda} + \\exp(-\\lambda)\n$$\n$-\\exp(-\\lambda)$ 和 $+\\exp(-\\lambda)$ 项相互抵消：\n$$\n\\mathbb{E}[g(X)] = 1 - \\frac{1}{\\lambda} + \\frac{\\exp(-\\lambda)}{\\lambda}\n$$\n合并分母中含 $\\lambda$ 的项，我们得到最终的闭式表达式：\n$$\n\\mathbb{E}[g(X)] = 1 - \\frac{1 - \\exp(-\\lambda)}{\\lambda}\n$$",
            "answer": "$$\n\\boxed{1 - \\frac{1 - \\exp(-\\lambda)}{\\lambda}}\n$$"
        }
    ]
}