{"hands_on_practices": [{"introduction": "在计算机图形学中，对物体进行几何变换是核心操作，而矩阵乘法为此提供了强大的数学工具。本练习将带你入门，通过对一个简单的单位正方形连续应用两次剪切变换（先水平后垂直），来直观地理解变换是如何通过矩阵逐步作用于物体顶点的。这个过程是理解更复杂变换序列（如动画）的基础。[@problem_id:1348499]", "problem": "在二维计算机图形学中，对象的变换通常通过矩阵乘法来完成。考虑一个简单的正方形图形元素，其初始由笛卡尔平面中的四个顶点定义：$A=(0,0)$、$B=(1,0)$、$C=(1,1)$ 和 $D=(0,1)$。\n\n为了创建一种特殊的视觉效果，该元素将经过一系列两次线性变换。首先，它经历一次水平错切。一个因子为 $s_h$ 的水平错切将点 $(x,y)$ 映射到 $(x+s_h y, y)$。对于本题，水平错切因子为 $s_h = \\frac{3}{2}$。\n\n其次，紧接着水平错切之后，得到的图形再经历一次垂直错切。一个因子为 $s_v$ 的垂直错切将点 $(x,y)$ 映射到 $(x, y+s_v x)$。对于本题，垂直错切因子为 $s_v = -\\frac{1}{2}$。\n\n确定在按指定顺序（先水平错切，后垂直错切）应用这两种变换后，四个新顶点（记为 $A'$、$B'$、$C'$ 和 $D'$）的坐标。\n\n将您的答案表示为一个 $2 \\times 4$ 的矩阵，其中各列分别代表新顶点 $A'$、$B'$、$C'$ 和 $D'$ 的坐标。矩阵中的元素必须表示为最简分数。", "solution": "一个因子为 $s_{h}$ 的水平错切将点 $(x,y)$ 映射到 $(x+s_{h}y, y)$。作为作用于列向量的矩阵，其形式为\n$$\nH=\\begin{pmatrix}\n1 & s_{h} \\\\\n0 & 1\n\\end{pmatrix}\n=\\begin{pmatrix}\n1 & \\frac{3}{2} \\\\\n0 & 1\n\\end{pmatrix}.\n$$\n一个因子为 $s_{v}$ 的垂直错切将点 $(x,y)$ 映射到 $(x, y+s_{v}x)$。作为矩阵，其形式为\n$$\nV=\\begin{pmatrix}\n1 & 0 \\\\\ns_{v} & 1\n\\end{pmatrix}\n=\\begin{pmatrix}\n1 & 0 \\\\\n-\\frac{1}{2} & 1\n\\end{pmatrix}.\n$$\n先应用水平错切，再应用垂直错切，对应的组合线性变换为 $T=VH$。计算\n$$\nT=VH=\\begin{pmatrix}\n1 & 0 \\\\\n-\\frac{1}{2} & 1\n\\end{pmatrix}\n\\begin{pmatrix}\n1 & \\frac{3}{2} \\\\\n0 & 1\n\\end{pmatrix}\n=\\begin{pmatrix}\n1\\cdot 1+0\\cdot 0 & 1\\cdot \\frac{3}{2}+0\\cdot 1 \\\\\n-\\frac{1}{2}\\cdot 1+1\\cdot 0 & -\\frac{1}{2}\\cdot \\frac{3}{2}+1\\cdot 1\n\\end{pmatrix}\n=\\begin{pmatrix}\n1 & \\frac{3}{2} \\\\\n-\\frac{1}{2} & \\frac{1}{4}\n\\end{pmatrix}.\n$$\n因此，对于任意点 $(x,y)$，变换后的坐标为\n$$\n\\begin{pmatrix}\nx' \\\\\ny'\n\\end{pmatrix}\n=T\\begin{pmatrix}\nx \\\\\ny\n\\end{pmatrix}\n=\\begin{pmatrix}\nx+\\frac{3}{2}y \\\\\n-\\frac{1}{2}x+\\frac{1}{4}y\n\\end{pmatrix}.\n$$\n将 $T$ 应用于给定的顶点（作为列向量）：\n- $A=(0,0)$ 得到 $A'=(0,0)$。\n- $B=(1,0)$ 得到 $B'=\\left(1,-\\frac{1}{2}\\right)$。\n- $C=(1,1)$ 得到 $C'=\\left(\\frac{5}{2},-\\frac{1}{4}\\right)$。\n- $D=(0,1)$ 得到 $D'=\\left(\\frac{3}{2},\\frac{1}{4}\\right)$。\n\n因此，以 $A'$、$B'$、$C'$、$D'$ 为列的 $2\\times 4$ 矩阵是\n$$\n\\begin{pmatrix}\n0 & 1 & \\frac{5}{2} & \\frac{3}{2} \\\\\n0 & -\\frac{1}{2} & -\\frac{1}{4} & \\frac{1}{4}\n\\end{pmatrix}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix}0 & 1 & \\frac{5}{2} & \\frac{3}{2} \\\\ 0 & -\\frac{1}{2} & -\\frac{1}{4} & \\frac{1}{4}\\end{pmatrix}}$$", "id": "1348499"}, {"introduction": "虽然旋转和剪切等线性变换可以用标准矩阵表示，但平移变换（它不会保持原点不变）却无法直接纳入同一框架。为了解决这个问题，图形学中引入了齐次坐标系，它巧妙地将旋转、缩放等线性变换与平移变换统一为单一的矩阵乘法。本练习将引导你使用齐次坐标来组合一个旋转和一个平移，并让你切身体会到，在图形变换中“先旋转再平移”与“先平移再旋转”会产生截然不同的结果。[@problem_id:1348498]", "problem": "在开发2D计算机动画时，一个对象的位置通过一系列几何变换来操作。一个最初位于笛卡尔坐标系中点 $P_0=(2, 1)$ 的对象，将经历两种不同的操作：\n\n1.  绕原点逆时针旋转 $R$，角度为90度。\n2.  按向量 $\\vec{v} = (3, -2)$ 进行平移 $T$。\n\n这些变换将使用齐次坐标系中的 $3 \\times 3$ 矩阵来表示，其中点 $(x, y)$ 由列向量 $\\begin{pmatrix} x \\\\ y \\\\ 1 \\end{pmatrix}$ 表示。\n\n绕原点逆时针旋转角度 $\\theta$ 的2D旋转的标准齐次矩阵由下式给出：\n$$\n\\begin{pmatrix} \\cos\\theta & -\\sin\\theta & 0 \\\\ \\sin\\theta & \\cos\\theta & 0 \\\\ 0 & 0 & 1 \\end{pmatrix}\n$$\n按向量 $(d_x, d_y)$ 进行2D平移的标准齐次矩阵由下式给出：\n$$\n\\begin{pmatrix} 1 & 0 & d_x \\\\ 0 & 1 & d_y \\\\ 0 & 0 & 1 \\end{pmatrix}\n$$\n\n考虑先应用旋转 $R$，再应用平移 $T$ 的情况。确定经过这一系列变换后对象的最终坐标。请将您的答案表示为形式为 $\\begin{pmatrix} x & y \\end{pmatrix}$ 的行矩阵，表示最终坐标。", "solution": "问题要求计算一个对象在经过一系列变换（先旋转后平移）后的最终位置。我们将使用齐次坐标和矩阵乘法来解决这个问题。\n\n首先，我们将初始点 $P_0 = (2, 1)$ 表示为齐次坐标向量 $\\mathbf{p}_0$：\n$$\n\\mathbf{p}_0 = \\begin{pmatrix} 2 \\\\ 1 \\\\ 1 \\end{pmatrix}\n$$\n\n接下来，我们构建旋转和平移的变换矩阵。\n\n旋转 $R$ 是绕原点逆时针旋转 $\\theta = 90^\\circ$。旋转矩阵，我们记为 $\\mathbf{R}$，是：\n$$\n\\mathbf{R} = \\begin{pmatrix} \\cos(90^\\circ) & -\\sin(90^\\circ) & 0 \\\\ \\sin(90^\\circ) & \\cos(90^\\circ) & 0 \\\\ 0 & 0 & 1 \\end{pmatrix} = \\begin{pmatrix} 0 & -1 & 0 \\\\ 1 & 0 & 0 \\\\ 0 & 0 & 1 \\end{pmatrix}\n$$\n\n平移 $T$ 是按向量 $\\vec{v} = (3, -2)$ 进行的。平移矩阵，我们记为 $\\mathbf{T}$，其中 $d_x = 3$ 且 $d_y = -2$，是：\n$$\n\\mathbf{T} = \\begin{pmatrix} 1 & 0 & 3 \\\\ 0 & 1 & -2 \\\\ 0 & 0 & 1 \\end{pmatrix}\n$$\n\n操作的顺序是“先旋转，后平移”。在应用一系列矩阵变换时，第一个操作的矩阵从左边乘以坐标向量，后续操作的矩阵再乘以其结果。因此，如果 $\\mathbf{p}_f$ 是最终位置向量，该变换表示为：\n$$\n\\mathbf{p}_f = \\mathbf{T} (\\mathbf{R} \\mathbf{p}_0)\n$$\n根据矩阵乘法的结合律，这可以先计算复合变换矩阵 $\\mathbf{M} = \\mathbf{T} \\mathbf{R}$，然后将其应用于 $\\mathbf{p}_0$ 来计算。\n\n让我们计算复合变换矩阵 $\\mathbf{M} = \\mathbf{T} \\mathbf{R}$：\n$$\n\\mathbf{M} = \\mathbf{T} \\mathbf{R} = \\begin{pmatrix} 1 & 0 & 3 \\\\ 0 & 1 & -2 \\\\ 0 & 0 & 1 \\end{pmatrix} \\begin{pmatrix} 0 & -1 & 0 \\\\ 1 & 0 & 0 \\\\ 0 & 0 & 1 \\end{pmatrix}\n$$\n$$\n\\mathbf{M} = \\begin{pmatrix} (1)(0)+(0)(1)+(3)(0) & (1)(-1)+(0)(0)+(3)(0) & (1)(0)+(0)(0)+(3)(1) \\\\ (0)(0)+(1)(1)+(-2)(0) & (0)(-1)+(1)(0)+(-2)(0) & (0)(0)+(1)(0)+(-2)(1) \\\\ (0)(0)+(0)(1)+(1)(0) & (0)(-1)+(0)(0)+(1)(0) & (0)(0)+(0)(0)+(1)(1) \\end{pmatrix}\n$$\n$$\n\\mathbf{M} = \\begin{pmatrix} 0 & -1 & 3 \\\\ 1 & 0 & -2 \\\\ 0 & 0 & 1 \\end{pmatrix}\n$$\n\n现在，我们将这个复合矩阵 $\\mathbf{M}$ 应用于初始位置向量 $\\mathbf{p}_0$ 以找到最终位置向量 $\\mathbf{p}_f$：\n$$\n\\mathbf{p}_f = \\mathbf{M} \\mathbf{p}_0 = \\begin{pmatrix} 0 & -1 & 3 \\\\ 1 & 0 & -2 \\\\ 0 & 0 & 1 \\end{pmatrix} \\begin{pmatrix} 2 \\\\ 1 \\\\ 1 \\end{pmatrix}\n$$\n$$\n\\mathbf{p}_f = \\begin{pmatrix} (0)(2) + (-1)(1) + (3)(1) \\\\ (1)(2) + (0)(1) + (-2)(1) \\\\ (0)(2) + (0)(1) + (1)(1) \\end{pmatrix} = \\begin{pmatrix} -1 + 3 \\\\ 2 - 2 \\\\ 1 \\end{pmatrix} = \\begin{pmatrix} 2 \\\\ 0 \\\\ 1 \\end{pmatrix}\n$$\n\n得到的齐次坐标向量是 $\\begin{pmatrix} 2 \\\\ 0 \\\\ 1 \\end{pmatrix}$。为了得到笛卡尔坐标，我们取该向量的前两个分量，即 $(2, 0)$。\n\n问题要求答案以行矩阵的形式给出。因此，最终坐标是 $\\begin{pmatrix} 2 & 0 \\end{pmatrix}$。", "answer": "$$\\boxed{\\begin{pmatrix} 2 & 0 \\end{pmatrix}}$$", "id": "1348498"}, {"introduction": "从二维到三维，线性代数在图形学中的应用原理一脉相承，只是维度增加了。在三维空间中操作物体，例如在游戏中旋转角色或调整相机视角，都依赖于三维变换矩阵。本练习将带你将二维变换的知识扩展到三维空间，通过计算一个点绕坐标轴旋转后的新位置，掌握三维场景中最基本、最常见的操作之一。[@problem_id:1348514]", "problem": "在开发三维计算机图形应用程序时，物体的碰撞检测通常使用轴对齐边界框进行近似。考虑这样一个盒子，它在一个三维笛卡尔坐标系中由其两个对角顶点定义：最小角点 $P_{min} = (1, -2, 3)$ 和最大角点 $P_{max} = (5, 2, 7)$。该物体及其边界框受到一个旋转变换。该变换是绕全局y轴旋转45度。\n\n你的任务是计算原始位置在 $P_v = (5, 2, 3)$ 的顶点的新坐标。将最终坐标 $(x', y', z')$ 以精确、简化的实数构成的有序三元组形式给出。", "solution": "我们被要求在一个标准的右手三维笛卡尔坐标系中，将点 $P_{v}=(5,2,3)$ 绕全局y轴旋转45度。\n\n绕y轴旋转角度 $\\theta$ 的变换由以下矩阵表示：\n$$\nR_{y}(\\theta)=\\begin{pmatrix}\n\\cos(\\theta) & 0 & \\sin(\\theta) \\\\\n0 & 1 & 0 \\\\\n-\\sin(\\theta) & 0 & \\cos(\\theta)\n\\end{pmatrix}.\n$$\n令 $\\theta=\\frac{\\pi}{4}$。将此变换应用于点 $(x,y,z)=(5,2,3)$，我们得到：\n$$\n\\begin{pmatrix}\nx' \\\\ y' \\\\ z'\n\\end{pmatrix}\n=\n\\begin{pmatrix}\n\\cos\\!\\left(\\frac{\\pi}{4}\\right) & 0 & \\sin\\!\\left(\\frac{\\pi}{4}\\right) \\\\\n0 & 1 & 0 \\\\\n-\\sin\\!\\left(\\frac{\\pi}{4}\\right) & 0 & \\cos\\!\\left(\\frac{\\pi}{4}\\right)\n\\end{pmatrix}\n\\begin{pmatrix}\n5 \\\\ 2 \\\\ 3\n\\end{pmatrix}.\n$$\n因此，\n$$\nx' = 5\\cos\\!\\left(\\frac{\\pi}{4}\\right) + 3\\sin\\!\\left(\\frac{\\pi}{4}\\right), \\quad\ny' = 2, \\quad\nz' = -5\\sin\\!\\left(\\frac{\\pi}{4}\\right) + 3\\cos\\!\\left(\\frac{\\pi}{4}\\right).\n$$\n使用 $\\cos\\!\\left(\\frac{\\pi}{4}\\right)=\\sin\\!\\left(\\frac{\\pi}{4}\\right)=\\frac{\\sqrt{2}}{2}$，我们得到：\n$$\nx' = 5\\cdot \\frac{\\sqrt{2}}{2} + 3\\cdot \\frac{\\sqrt{2}}{2} = \\frac{8\\sqrt{2}}{2} = 4\\sqrt{2}, \\quad\ny' = 2, \\quad\nz' = -5\\cdot \\frac{\\sqrt{2}}{2} + 3\\cdot \\frac{\\sqrt{2}}{2} = -\\frac{2\\sqrt{2}}{2} = -\\sqrt{2}.\n$$\n因此，旋转后的坐标为 $(4\\sqrt{2}, 2, -\\sqrt{2})$。", "answer": "$$\\boxed{(4\\sqrt{2}, 2, -\\sqrt{2})}$$", "id": "1348514"}]}