{"hands_on_practices": [{"introduction": "我们的第一个练习将探讨最简单但最具启发性的情景。通过将扩散系数设为相同且恒定（即加性噪声），两个过程之差的随机性便会消失，这使我们能够纯粹地关注漂移项的影响，并以最直接的形式观察比较原理。这个练习 [@problem_id:3044595] 将证明，如果初始值和漂移项是有序的，那么过程本身将在所有时间上保持有序。", "problem": "考虑两个由相同标准布朗运动 $W_t$ 驱动的一维随机微分方程 (SDE)：\n$$\n\\mathrm{d}X_t \\,=\\, a\\,X_t\\,\\mathrm{d}t \\,+\\, b_1\\,\\mathrm{d}t \\,+\\, \\sigma\\,\\mathrm{d}W_t,\\quad X_0 \\in \\mathbb{R},\n$$\n$$\n\\mathrm{d}Y_t \\,=\\, a\\,Y_t\\,\\mathrm{d}t \\,+\\, b_2\\,\\mathrm{d}t \\,+\\, \\sigma\\,\\mathrm{d}W_t,\\quad Y_0 \\in \\mathbb{R},\n$$\n其中 $a \\in \\mathbb{R}$，$b_1,b_2 \\in \\mathbb{R}$ 和 $\\sigma \\in \\mathbb{R}$ 是常数。假设 $X_0 \\le Y_0$ 且 $b_1 \\le b_2$。仅使用随机微分方程解的基本定义以及布朗运动和伊藤积分的标准性质，计算量\n$$\n\\mathbb{E}\\!\\left[(X_t - Y_t)^+\\right]\n$$\n显式地表示为 $t$ 的函数，并验证在给定假设下它等于一个常数值。你的最终答案必须是单一的封闭形式表达式。无需四舍五入。", "solution": "该问题要求在给定两个一维随机微分方程 (SDE) 及其参数和初始值的某些条件下，计算量 $\\mathbb{E}\\!\\left[(X_t - Y_t)^+\\right]$。\n\n首先，我们将 SDE 写成其积分形式。一个过程 $X_t$ 是 SDE\n$$\n\\mathrm{d}X_t \\,=\\, a\\,X_t\\,\\mathrm{d}t \\,+\\, b_1\\,\\mathrm{d}t \\,+\\, \\sigma\\,\\mathrm{d}W_t\n$$\n的解，如果它对所有 $t \\ge 0$ 几乎必然地满足积分方程\n$$\nX_t = X_0 + \\int_0^t (a\\,X_s + b_1)\\,\\mathrm{d}s + \\int_0^t \\sigma\\,\\mathrm{d}W_s\n$$\n。类似地，对于过程 $Y_t$，我们有\n$$\nY_t = Y_0 + \\int_0^t (a\\,Y_s + b_2)\\,\\mathrm{d}s + \\int_0^t \\sigma\\,\\mathrm{d}W_s\n$$\n对所有 $t \\ge 0$ 几乎必然成立。两个过程都由相同的标准一维布朗运动 $W_t$ 驱动。\n\n为了分析量 $(X_t - Y_t)^+$，我们定义一个新过程 $Z_t = X_t - Y_t$。我们可以通过从 $X_t$ 的积分方程中减去 $Y_t$ 的积分方程来找到控制 $Z_t$ 的动态过程。这在两个积分方程都成立的样本路径集上是允许的，该事件的概率为 $1$。\n$$\nX_t - Y_t = (X_0 - Y_0) + \\int_0^t \\left( (a\\,X_s + b_1) - (a\\,Y_s + b_2) \\right)\\,\\mathrm{d}s + \\int_0^t (\\sigma - \\sigma)\\,\\mathrm{d}W_s\n$$\n代入 $Z_s = X_s - Y_s$ 并化简各项，我们得到：\n$$\nZ_t = Z_0 + \\int_0^t (a\\,(X_s - Y_s) + (b_1 - b_2))\\,\\mathrm{d}s + \\int_0^t 0\\,\\mathrm{d}W_s\n$$\n$$\nZ_t = Z_0 + \\int_0^t (a\\,Z_s + b_1 - b_2)\\,\\mathrm{d}s\n$$\n一个关键的观察是，随机积分项，即关于 $W_t$ 的伊藤积分，已经消失了。这是因为扩散系数 $\\sigma$ 对于两个 SDE 都是相同的常数。得到的关于 $Z_t$ 的方程只包含一个标准的黎曼积分。这意味着对于来自底层概率空间的任何给定样本路径 $\\omega$，$Z_t(\\omega)$ 的演化是确定性的，由一个常微分方程 (ODE) 控制。初始条件 $Z_0(\\omega) = X_0(\\omega) - Y_0(\\omega)$ 是一个随机变量，但一旦对于给定的路径它被固定下来，那么 $Z_t(\\omega)$ 的整个轨迹就被确定了。\n\n$Z_t$ 方程的微分形式是：\n$$\n\\frac{\\mathrm{d}Z_t}{\\mathrm{d}t} = a\\,Z_t + (b_1 - b_2)\n$$\n初始条件为 $Z_0 = X_0 - Y_0$。问题陈述了假设 $X_0 \\le Y_0$ 和 $b_1 \\le b_2$。用 $Z_t$ 来表示，这些假设转化为：\n$1$. $Z_0 \\le 0$ 几乎必然。\n$2$. $b_1 - b_2 \\le 0$。\n\n我们现在证明对于所有 $t \\ge 0$，$Z_t \\le 0$ 几乎必然成立。我们可以用反证法来论证这一点。假设存在某个时间 $t > 0$，使得 $Z_t > 0$ 在一个具有正概率的路径集上成立。对于任何这样的路径，令 $t^*$ 为 $Z_t$ 首次变为正的时间：\n$$\nt^* = \\inf\\{s > 0 : Z_s > 0\\}\n$$\n由于 $Z_0 \\le 0$ 并且 $Z_t$ 是时间的连续函数（因为它是具有连续系数的 ODE 的解），我们必须有 $Z_{t^*} = 0$。要使函数 $Z_t$ 在 $t > t^*$ 时变为正，其在 $t^*$ 处的导数必须为非负，即 $\\frac{\\mathrm{d}Z_t}{\\mathrm{d}t}\\Big|_{t=t^*} \\ge 0$。\n\n然而，从控制 $Z_t$ 的 ODE，我们可以计算在 $t=t^*$ 处的导数：\n$$\n\\frac{\\mathrm{d}Z_t}{\\mathrm{d}t}\\Big|_{t=t^*} = a\\,Z_{t^*} + (b_1 - b_2)\n$$\n代入 $Z_{t^*} = 0$，我们得到：\n$$\n\\frac{\\mathrm{d}Z_t}{\\mathrm{d}t}\\Big|_{t=t^*} = a \\cdot 0 + (b_1 - b_2) = b_1 - b_2\n$$\n根据问题的假设，我们有 $b_1 \\le b_2$，这意味着 $b_1 - b_2 \\le 0$。因此，我们证明了\n$$\n\\frac{\\mathrm{d}Z_t}{\\mathrm{d}t}\\Big|_{t=t^*} \\le 0\n$$\n这与条件 $\\frac{\\mathrm{d}Z_t}{\\mathrm{d}t}\\Big|_{t=t^*} \\ge 0$ 相矛盾，除非导数恰好为零，而这当且仅当 $b_1 = b_2$ 时发生。如果 $b_1  b_2$，导数是严格为负的，所以 $Z_t$ 不可能从 $0$ 开始增加。如果 $b_1 = b_2$，在 $Z_t=0$ 处的导数为 $0$。ODE 变为 $\\frac{\\mathrm{d}Z_t}{\\mathrm{d}t} = aZ_t$，其解为 $Z_t = Z_0 \\exp(at)$。由于 $Z_0 \\le 0$，$Z_t$ 将对所有 $t \\ge 0$ 保持非正。\n在所有情况下，以 $Z_0 \\le 0$ 开始的路径都不会变为正。因此，最初的假设即对于某个 $t$ 有 $Z_t > 0$ 必定是错误的。\n\n我们得出结论，对于所有 $t \\ge 0$，$Z_t \\le 0$ 几乎必然成立。\n这意味着对于所有 $t \\ge 0$，$X_t - Y_t \\le 0$ 几乎必然成立。\n\n我们需要计算的量是 $\\mathbb{E}\\!\\left[(X_t - Y_t)^+\\right]$。算子 $(\\cdot)^+$ 定义为 $(u)^+ = \\max(u, 0)$。\n由于我们已经确定 $X_t - Y_t \\le 0$ 几乎必然成立，因此直接得出：\n$$\n(X_t - Y_t)^+ = \\max(X_t - Y_t, 0) = 0 \\quad \\text{几乎必然。}\n$$\n一个几乎必然等于 $0$ 的随机变量的期望是 $0$。\n$$\n\\mathbb{E}\\!\\left[(X_t - Y_t)^+\\right] = \\mathbb{E}[0] = 0\n$$\n这个结果对任何时间 $t \\ge 0$ 都成立。值 $0$ 是一个常数，这验证了问题要求的最后一部分。最终答案是这个常数值的显式封闭形式表达式。", "answer": "$$\n\\boxed{0}\n$$", "id": "3044595"}, {"introduction": "在上一个练习的基础上，我们现在来研究当比较定理的一个关键条件被违反时会发生什么。这个练习 [@problem_id:3044550] 提出了一个情景，其中一个过程的漂移项严格大于另一个，这与定理的要求相反。通过显式地计算它们之间的差，我们可以精确地看到过程的顺序是如何以及为何被破坏的，这突显了漂移条件对于比较定理的必要性。", "problem": "考虑两个一维伊藤随机微分方程，它们由同一标准布朗运动 $W_t$ 在一个满足通常条件的带滤概率空间上驱动。设扩散系数相同且为常数，$\\sigma_1(x) \\equiv \\sigma_2(x) \\equiv 1$，而漂移系数为常数但符号相反，$b_1(x) \\equiv \\mu$ 和 $b_2(x) \\equiv -\\mu$，其中 $\\mu > 0$ 是一个固定的常数。这两个过程从相同的初始条件 $X_0 = Y_0 = 0$ 开始，并满足\n$$\ndX_t = \\mu\\,dt + dW_t,\\qquad dY_t = -\\mu\\,dt + dW_t,\\qquad t \\ge 0.\n$$\n此设置违反了一维比较定理中常用的漂移排序 $b_1 \\le b_2$。从伊藤随机微分方程的基本定义和布朗运动的标准性质出发，推导差分过程 $D_t := X_t - Y_t$ 的动力学，并用它来论证 $X_t \\le Y_t$ 的顺序关系是否会不成立。然后计算期望 $\\mathbb{E}\\big[(X_t - Y_t)^+\\big]$ 的精确值，将其表示为 $t$ 和 $\\mu$ 的函数。请以 $t$ 和 $\\mu$ 的单个闭式解析表达式的形式提供您的最终答案。无需四舍五入。", "solution": "该问题被验证为具有科学依据、提法恰当且客观。所有必要信息均已提供，且该问题是随机微分方程数学理论中的一个标准练习。\n\n给定两个一维伊藤随机微分方程 (SDE)：\n$$\ndX_t = \\mu\\,dt + dW_t\n$$\n$$\ndY_t = -\\mu\\,dt + dW_t\n$$\n初始条件为 $X_0 = Y_0 = 0$，其中 $\\mu > 0$ 是一个常数， $W_t$ 是标准布朗运动。我们需要分析差分过程 $D_t := X_t - Y_t$。\n\n首先，我们确定 $D_t$ 的动力学。根据定义，$D_t = X_t - Y_t$。$D_t$ 的初始条件是 $D_0 = X_0 - Y_0 = 0 - 0 = 0$。\n$D_t$ 的微分由 $X_t$ 和 $Y_t$ 的微分之差给出。由于 SDE 是线性的，我们可以写出：\n$$\ndD_t = d(X_t - Y_t) = dX_t - dY_t\n$$\n代入给定的 $dX_t$ 和 $dY_t$ 表达式：\n$$\ndD_t = (\\mu\\,dt + dW_t) - (-\\mu\\,dt + dW_t)\n$$\n我们可以分离漂移项 ($dt$) 和扩散项 ($dW_t$)：\n$$\ndD_t = (\\mu - (-\\mu))\\,dt + (1 - 1)\\,dW_t\n$$\n$$\ndD_t = 2\\mu\\,dt + 0 \\cdot dW_t\n$$\n$$\ndD_t = 2\\mu\\,dt\n$$\n这个关于 $D_t$ 的结果方程是一个简单的常微分方程，因为扩散项已经消失了。这是一个关键的结果，源于 $X_t$ 和 $Y_t$ 过程均由同一布朗运动 $W_t$ 驱动，并且具有相同且为常数的扩散系数 $\\sigma_1 = \\sigma_2 = 1$。因此，差分过程 $D_t$ 是确定性的。\n\n为了找到 $D_t$ 的显式表达式，我们对微分方程从 $s=0$ 到 $s=t$ 进行积分：\n$$\n\\int_0^t dD_s = \\int_0^t 2\\mu\\,ds\n$$\n$$\nD_t - D_0 = 2\\mu \\int_0^t ds = 2\\mu t\n$$\n使用初始条件 $D_0 = 0$，我们得到差分过程的解：\n$$\nD_t = 2\\mu t\n$$\n\n接下来，我们用这个结果来论证 $X_t \\le Y_t$ 的顺序关系是否会不成立。条件 $X_t \\le Y_t$ 等价于 $X_t - Y_t \\le 0$，用我们的差分过程表示即为 $D_t \\le 0$。\n我们发现 $D_t = 2\\mu t$。题目说明 $\\mu > 0$，且时间 $t$ 是非负的，$t \\ge 0$。\n因此，乘积 $2\\mu t \\ge 0$ 对所有 $t \\ge 0$ 都成立。等式 $2\\mu t = 0$ 仅在 $t=0$ 时成立。对于任何时间 $t > 0$，我们有 $2\\mu t > 0$，这意味着 $D_t > 0$，即 $X_t > Y_t$。\n因此，对于所有 $t>0$，顺序关系 $X_t \\le Y_t$ 都不成立。在 $t=0$ 时，我们有 $X_0 = Y_0$，但对于任何随后的时间，$X_t$ 都严格大于 $Y_t$。这个结果与比较定理的直觉一致：$X_t$ 的漂移 $b_1 = \\mu$ 严格大于 $Y_t$ 的漂移 $b_2 = -\\mu$，所以我们预期 $X_t$ 会比 $Y_t$ 增长得更快。\n\n最后，我们计算期望 $\\mathbb{E}\\big[(X_t - Y_t)^+\\big]$。符号 $(Z)^+$ 表示变量 $Z$ 的正部，即 $(Z)^+ = \\max(Z, 0)$。\n我们需要计算 $\\mathbb{E}[D_t^+]$。\n$$\n\\mathbb{E}\\big[(X_t - Y_t)^+\\big] = \\mathbb{E}[D_t^+] = \\mathbb{E}[\\max(D_t, 0)]\n$$\n代入我们得到的 $D_t$ 的确定性表达式：\n$$\n\\mathbb{E}[\\max(2\\mu t, 0)]\n$$\n如前所述，由于 $\\mu > 0$ 且 $t \\ge 0$，量 $2\\mu t$ 总是非负的。\n因此，它的正部就是它本身：\n$$\n\\max(2\\mu t, 0) = 2\\mu t\n$$\n期望变为：\n$$\n\\mathbb{E}[2\\mu t]\n$$\n表达式 $2\\mu t$ 是一个确定性量（对于固定的 $t$ 是一个常数），而不是一个随机变量。常数的期望就是常数本身。\n$$\n\\mathbb{E}[2\\mu t] = 2\\mu t\n$$\n因此，期望的精确值为 $2\\mu t$。\n解也可以通过先显式地解出 $X_t$ 和 $Y_t$ 来找到。\n$X_t = X_0 + \\int_0^t \\mu\\,ds + \\int_0^t dW_s = 0 + \\mu t + W_t = \\mu t + W_t$。\n$Y_t = Y_0 + \\int_0^t (-\\mu)\\,ds + \\int_0^t dW_s = 0 - \\mu t + W_t = -\\mu t + W_t$。\n差值为 $X_t - Y_t = (\\mu t + W_t) - (-\\mu t + W_t) = 2\\mu t$。这证实了之前的推导。\n那么 $\\mathbb{E}\\big[(X_t - Y_t)^+\\big] = \\mathbb{E}\\big[(2\\mu t)^+\\big] = \\mathbb{E}[2\\mu t] = 2\\mu t$。", "answer": "$$\n\\boxed{2\\mu t}\n$$", "id": "3044550"}, {"introduction": "前面的例子都依赖于噪声项的抵消，这是一个特殊情况。为了处理具有状态依赖扩散系数的一般随机微分方程，我们需要一个更强大的工具。这个练习 [@problem_id:3044612] 将引导你应用伊腾-田中公式（Itô-Tanaka formula），这是一维比较定理现代证明的基石。通过推导差值过程正部 $(X_t - Y_t)^+$ 的分解，你将直接接触并运用支撑该通用定理的核心数学机制。", "problem": "考虑由同一标准布朗运动 $W_t$ 驱动的两个一维随机微分方程 (SDE)，该布朗运动定义在满足通常条件的滤波概率空间上。设 $X_t$ 和 $Y_t$ 是以下方程的强解：\n$$\ndX_t = b_1(X_t)\\,dt + \\sigma(X_t)\\,dW_t,\\qquad X_0 = x_0,\n$$\n和\n$$\ndY_t = b_2(Y_t)\\,dt + \\sigma(Y_t)\\,dW_t,\\qquad Y_0 = y_0,\n$$\n其中 $b_1$、$b_2$ 和 $\\sigma$ 是全局 Lipschitz 连续且呈线性增长，这确保了强解的存在唯一性以及样本路径的连续性。定义差分过程 $Z_t = X_t - Y_t$，并注意 $Z_t$ 是一个连续半鞅，其动态过程为：\n$$\ndZ_t = \\bigl(b_1(X_t) - b_2(Y_t)\\bigr)\\,dt + \\bigl(\\sigma(X_t) - \\sigma(Y_t)\\bigr)\\,dW_t.\n$$\n使用 Tanaka 公式处理连续半鞅的正部，推导出 $Z_t^{+}$ 关于 $Z_0^{+}$、漂移系数和扩散系数、布朗运动 $W_t$ 以及 $Z$ 在 0 处的局部时 $L_t^{0}(Z)$ 的显式分解。将您得到的 $Z_t^{+}$ 的最终表达式表示为单个闭式解析表达式。无需进行数值计算。", "solution": "该问题要求推导过程 $Z_t^{+} = \\max(0, Z_t)$ 的显式分解，其中 $Z_t = X_t - Y_t$。过程 $X_t$ 和 $Y_t$ 是一维随机微分方程 (SDE) 的强解，其系数是全局 Lipschitz 连续的，这确保了 $X_t$、$Y_t$ 以及因此 $Z_t$ 都是连续半鞅。\n\n用于此推导的指定工具是 Tanaka 公式，它是 Itô 公式在凸函数上的推广。我们感兴趣的函数是 $f(x) = x^{+} = \\max(0, x)$，这是一个凸函数。\n\n对于连续半鞅 $S_t$ 和二次可微函数 $f$ 的一般 Itô-Tanaka 公式是更广泛的凸函数公式的一个特例。对于一般的凸函数 $f$，其 $f(S_t)$ 的公式由下式给出：\n$$\nf(S_t) = f(S_0) + \\int_0^t f'_-(S_s) \\, dS_s + \\frac{1}{2} \\int_{-\\infty}^{\\infty} L_t^a(S) \\, f''(da)\n$$\n其中 $f'_-$ 表示 $f$ 的左导数，$f''(da)$ 是 $f$ 在分布意义下的二阶导数（$\\mathbb{R}$ 上的一个测度），$L_t^a(S)$ 是 $S$ 在水平 $a$ 处的对称局部时。\n\n我们将此公式应用于过程 $S_t = Z_t$ 和函数 $f(x) = x^{+}$。\n首先，我们需要确定 $f(x) = x^{+}$ 的导数。\n该函数为：当 $x \\ge 0$ 时，$f(x) = x$；当 $x  0$ 时，$f(x) = 0$。\n其左导数 $f'_{-}(x)$ 由下式给出：\n$$\nf'_{-}(x) = \\begin{cases} 1  \\text{若 } x > 0 \\\\ 0  \\text{若 } x \\le 0 \\end{cases}\n$$\n这可以用指示函数紧凑地写为 $f'_{-}(x) = \\mathbf{1}_{x>0}$。\n\n$f(x)$ 在分布意义下的二阶导数是一个集中在 $x=0$ 处的 Dirac delta 测度，记作 $\\delta_0$。即 $f''(dx) = \\delta_0(dx)$。那么，涉及二阶导数的积分变为：\n$$\n\\frac{1}{2} \\int_{-\\infty}^{\\infty} L_t^a(Z) \\, f''(da) = \\frac{1}{2} \\int_{-\\infty}^{\\infty} L_t^a(Z) \\, \\delta_0(da) = \\frac{1}{2} L_t^0(Z)\n$$\n这一项说明了 $f(x)$ 在 $x=0$ 处的不可微性。\n\n将这些部分代入针对 $S_t = Z_t$ 和 $f(x)=x^+$ 的 Itô-Tanaka 公式，得到 $Z_t^{+}$ 的分解：\n$$\nZ_t^{+} = Z_0^{+} + \\int_0^t \\mathbf{1}_{Z_s > 0} \\, dZ_s + \\frac{1}{2} L_t^0(Z)\n$$\n这是 Tanaka 公式用于连续半鞅正部的具体形式。\n\n问题给出了 $Z_t$ 的动态过程为：\n$$\ndZ_t = \\bigl(b_1(X_t) - b_2(Y_t)\\bigr)\\,dt + \\bigl(\\sigma(X_t) - \\sigma(Y_t)\\bigr)\\,dW_t\n$$\n现在我们将 $dZ_t$ 的这个表达式代入 $Z_t^{+}$ 分解式中的积分项：\n$$\n\\int_0^t \\mathbf{1}_{Z_s > 0} \\, dZ_s = \\int_0^t \\mathbf{1}_{Z_s > 0} \\left( \\bigl(b_1(X_s) - b_2(Y_s)\\bigr)\\,ds + \\bigl(\\sigma(X_s) - \\sigma(Y_s)\\bigr)\\,dW_s \\right)\n$$\n根据 Itô 积分的线性性质，我们可以将其分离为一个 Lebesgue 积分（漂移部分）和一个随机积分（扩散部分）：\n$$\n\\int_0^t \\mathbf{1}_{Z_s > 0} \\, dZ_s = \\int_0^t \\mathbf{1}_{Z_s > 0} \\bigl(b_1(X_s) - b_2(Y_s)\\bigr)\\,ds + \\int_0^t \\mathbf{1}_{Z_s > 0} \\bigl(\\sigma(X_s) - \\sigma(Y_s)\\bigr)\\,dW_s\n$$\n最后，我们将此结果代回 $Z_t^{+}$ 的表达式中，以获得完整的显式分解。最终结果用初始值 $Z_0^{+}$、漂移系数 $b_1$ 和 $b_2$、扩散系数 $\\sigma$、基础布朗运动 $W_t$ 以及局部时 $L_t^0(Z)$ 来表示 $Z_t^{+}$。\n\n得到的表达式是：\n$$\nZ_t^{+} = Z_0^{+} + \\int_0^t \\mathbf{1}_{Z_s > 0} \\bigl(b_1(X_s) - b_2(Y_s)\\bigr)\\,ds + \\int_0^t \\mathbf{1}_{Z_s > 0} \\bigl(\\sigma(X_s) - \\sigma(Y_s)\\bigr)\\,dW_s + \\frac{1}{2} L_t^0(Z)\n$$\n这个分解在 SDE 的比较定理研究中是基础性的，因为积分下的漂移项 $\\mathbf{1}_{Z_s > 0} \\bigl(b_1(X_s) - b_2(Y_s)\\bigr)$ 的符号，通常决定了如果 $X_t$ 起始时高于 $Y_t$，它是否会倾向于保持在 $Y_t$ 之上。", "answer": "$$\\boxed{Z_0^{+} + \\int_0^t \\mathbf{1}_{Z_s > 0} \\bigl(b_1(X_s) - b_2(Y_s)\\bigr)\\,ds + \\int_0^t \\mathbf{1}_{Z_s > 0} \\bigl(\\sigma(X_s) - \\sigma(Y_s)\\bigr)\\,dW_s + \\frac{1}{2} L_t^0(Z)}$$", "id": "3044612"}]}