{"hands_on_practices": [{"introduction": "本节的第一个练习为理解可预知性提供了坚实的基础。通过构建一个基于简单对称随机游走结果的过程，您将严格证明适应信息流与基于过去信息的可预知性是不同的 [@problem_id:3070261]。这个练习将加深您对 $\\mathcal{F}_n$ 和 $\\mathcal{F}_{n-1}$ 这两个 $\\sigma$-代数所含信息的直观理解。", "problem": "考虑一个过滤概率空间 $(\\Omega,\\mathcal{F},(\\mathcal{F}_{n})_{n\\geq 0},\\mathbb{P})$，其中 $(\\mathcal{F}_{n})_{n\\geq 0}$ 是由独立同分布序列 $(\\varepsilon_{n})_{n\\geq 1}$ 生成的自然滤，其中 $\\varepsilon_{n}\\in\\{-1,+1\\}$，$\\mathbb{P}(\\varepsilon_{n}=+1)=\\mathbb{P}(\\varepsilon_{n}=-1)=\\frac{1}{2}$，且 $\\mathcal{F}_{n}=\\sigma(\\varepsilon_{1},\\ldots,\\varepsilon_{n})$。定义过程 $(M_{n})_{n\\geq 0}$ 为 $M_{0}=0$ 且当 $n\\geq 1$ 时 $M_{n}=\\sum_{k=1}^{n}\\varepsilon_{k}$。令 $(X_{n})_{n\\geq 1}$ 由 $X_{n}=\\mathbf{1}_{\\{\\Delta M_{n}>0\\}}$ 定义，其中 $\\Delta M_{n}=M_{n}-M_{n-1}$。\n\n仅使用离散时间下鞅、滤、适应过程和可预测过程的基本定义，从第一性原理出发：\n1. 证明 $(M_{n})_{n\\geq 0}$ 是关于 $(\\mathcal{F}_{n})_{n\\geq 0}$ 的对称鞅。\n2. 证明 $(X_{n})_{n\\geq 1}$ 是关于 $(\\mathcal{F}_{n})_{n\\geq 0}$ 的适应过程。\n3. 证明 $(X_{n})_{n\\geq 1}$ 是不可预测的，即对于任何 $n\\geq 1$，$X_{n}\\notin\\mathcal{F}_{n-1}$。\n\n最后，计算 $X_{n}$ 的可预测投影，即条件期望 $\\mathbb{E}[X_{n}\\mid\\mathcal{F}_{n-1}]$，并将其表示为一个精确的数值。无需四舍五入。", "solution": "本题要求基于基本定义，对一个离散时间随机过程的几个性质进行严谨的、逐步的验证。我们将按提出的顺序处理问题的每个部分。\n\n题目定义了一个过滤概率空间 $(\\Omega,\\mathcal{F},(\\mathcal{F}_{n})_{n\\geq 0},\\mathbb{P})$，其中的滤 $(\\mathcal{F}_{n})_{n\\geq 0}$ 是由一列独立同分布（i.i.d.）的随机变量 $(\\varepsilon_{n})_{n\\geq 1}$ 生成的自然滤。这些变量服从拉德马赫分布，$\\mathbb{P}(\\varepsilon_{n}=+1)=\\mathbb{P}(\\varepsilon_{n}=-1)=\\frac{1}{2}$。该滤由 $\\mathcal{F}_{n}=\\sigma(\\varepsilon_{1},\\ldots,\\varepsilon_{n})$（$n\\geq 1$）给出，且 $\\mathcal{F}_{0}=\\{\\emptyset,\\Omega\\}$ 是平凡 $\\sigma$-代数。过程 $(M_{n})_{n\\geq 0}$ 是一个简单对称随机游走，定义为 $M_{0}=0$ 且当 $n\\geq 1$ 时 $M_{n}=\\sum_{k=1}^{n}\\varepsilon_{k}$。过程 $(X_{n})_{n\\geq 1}$ 定义为 $X_{n}=\\mathbf{1}_{\\{\\Delta M_{n}>0\\}}$，其中 $\\Delta M_{n}=M_{n}-M_{n-1}$。\n\n**1. 证明 $(M_{n})_{n\\geq 0}$ 是一个对称鞅**\n\n为了证明 $(M_{n})_{n\\geq 0}$ 是关于滤 $(\\mathcal{F}_{n})_{n\\geq 0}$ 的鞅，我们必须验证三个基本条件。\n\n- **适应性**：如果对于每个 $n\\geq 0$，$Y_{n}$ 都是 $\\mathcal{F}_{n}$-可测的，那么过程 $(Y_{n})_{n\\geq 0}$ 是适应于 $(\\mathcal{F}_{n})_{n\\geq 0}$ 的。\n对于 $n=0$，$M_{0}=0$。一个常数随机变量对于任何 $\\sigma$-代数都是可测的，包括平凡 $\\sigma$-代数 $\\mathcal{F}_{0}$。\n对于 $n\\geq 1$，$M_{n}=\\sum_{k=1}^{n}\\varepsilon_{k}$。根据定义，$\\mathcal{F}_{n}=\\sigma(\\varepsilon_{1},\\ldots,\\varepsilon_{n})$。对于 $k\\in\\{1, \\ldots, n\\}$ 中的每一个随机变量 $\\varepsilon_{k}$ 都是 $\\mathcal{F}_{n}$-可测的。$\\mathcal{F}_{n}$-可测随机变量的和也是 $\\mathcal{F}_{n}$-可测的。因此，$M_{n}$ 对于所有 $n\\geq 1$ 都是 $\\mathcal{F}_{n}$-可测的。\n于是，过程 $(M_{n})_{n\\geq 0}$ 适应于 $(\\mathcal{F}_{n})_{n\\geq 0}$。\n\n- **可积性**：如果 $\\mathbb{E}[|Y|]  \\infty$，则随机变量 $Y$ 是可积的。\n对于任何 $n\\geq 0$，我们有 $|M_{n}|=|\\sum_{k=1}^{n}\\varepsilon_{k}|$。使用三角不等式，可得 $|M_{n}|\\leq\\sum_{k=1}^{n}|\\varepsilon_{k}|$。由于 $\\varepsilon_{k}\\in\\{-1,+1\\}$，我们有 $|\\varepsilon_{k}|=1$ 对所有 $k$ 成立。因此，$|M_{n}|\\leq\\sum_{k=1}^{n}1=n$。\n其绝对值的期望为 $\\mathbb{E}[|M_{n}|]\\leq\\mathbb{E}[n]=n$。因为 $n$ 是一个有限整数，所以我们有 $\\mathbb{E}[|M_{n}|]  \\infty$ 对所有 $n\\geq 0$ 成立。\n于是，$M_{n}$ 对所有 $n\\geq 0$ 都是可积的。\n\n- **鞅性质**：核心性质是对于所有 $n\\geq 0$，$\\mathbb{E}[M_{n+1}\\mid\\mathcal{F}_{n}]=M_{n}$。\n对于任何 $n\\geq 0$，我们可以写出 $M_{n+1}=M_{n}+\\varepsilon_{n+1}$。\n对 $\\mathcal{F}_{n}$ 取条件期望：\n$$ \\mathbb{E}[M_{n+1}\\mid\\mathcal{F}_{n}] = \\mathbb{E}[M_{n}+\\varepsilon_{n+1}\\mid\\mathcal{F}_{n}] $$\n根据条件期望的线性性：\n$$ \\mathbb{E}[M_{n+1}\\mid\\mathcal{F}_{n}] = \\mathbb{E}[M_{n}\\mid\\mathcal{F}_{n}] + \\mathbb{E}[\\varepsilon_{n+1}\\mid\\mathcal{F}_{n}] $$\n由于 $M_{n}$ 是 $\\mathcal{F}_{n}$-可测的（如在适应性证明中所示），$\\mathbb{E}[M_{n}\\mid\\mathcal{F}_{n}]=M_{n}$。\n根据定义，随机变量 $\\varepsilon_{n+1}$ 独立于集合 $(\\varepsilon_{1},\\ldots,\\varepsilon_{n})$，因此也独立于由它们生成的 $\\sigma$-代数 $\\mathcal{F}_{n}=\\sigma(\\varepsilon_{1},\\ldots,\\varepsilon_{n})$。对于一个独立于某个 $\\sigma$-代数的随机变量，其条件期望等于其无条件期望：$\\mathbb{E}[\\varepsilon_{n+1}\\mid\\mathcal{F}_{n}]=\\mathbb{E}[\\varepsilon_{n+1}]$。\n我们来计算 $\\mathbb{E}[\\varepsilon_{n+1}]$：\n$$ \\mathbb{E}[\\varepsilon_{n+1}] = (+1)\\cdot\\mathbb{P}(\\varepsilon_{n+1}=+1) + (-1)\\cdot\\mathbb{P}(\\varepsilon_{n+1}=-1) = 1\\cdot\\frac{1}{2} - 1\\cdot\\frac{1}{2} = 0 $$\n将这些结果代回，我们得到：\n$$ \\mathbb{E}[M_{n+1}\\mid\\mathcal{F}_{n}] = M_{n} + 0 = M_{n} $$\n此式对所有 $n\\geq 0$ 均成立。该过程是一个对称鞅，因为其增量的条件均值为零。\n\n**2. 证明 $(X_{n})_{n\\geq 1}$ 是一个适应过程**\n\n要使 $(X_{n})_{n\\geq 1}$ 适应于 $(\\mathcal{F}_{n})_{n\\geq 0}$，我们必须证明对于每个 $n\\geq 1$，$X_{n}$ 都是 $\\mathcal{F}_{n}$-可测的。\n该过程定义为 $X_{n}=\\mathbf{1}_{\\{\\Delta M_{n}0\\}}$。我们首先分析条件事件。\n$$ \\Delta M_{n} = M_{n}-M_{n-1} = \\left(\\sum_{k=1}^{n}\\varepsilon_{k}\\right) - \\left(\\sum_{k=1}^{n-1}\\varepsilon_{k}\\right) = \\varepsilon_{n} $$\n因此，$X_{n}$ 的定义简化为 $X_{n}=\\mathbf{1}_{\\{\\varepsilon_{n}0\\}}$。\n由于 $\\varepsilon_{n}$ 的值仅限于 $\\{-1,+1\\}$，条件 $\\varepsilon_{n}0$ 等价于条件 $\\varepsilon_{n}=+1$。\n因此，$X_{n}=\\mathbf{1}_{\\{\\varepsilon_{n}=+1\\}}$。\n要使 $X_{n}$ 是 $\\mathcal{F}_{n}$-可测的，集合 $\\{\\omega\\in\\Omega \\mid X_{n}(\\omega)=1\\}$ 必须在 $\\mathcal{F}_{n}$ 中。这个集合恰好是 $\\{\\omega\\in\\Omega \\mid \\varepsilon_{n}(\\omega)=+1\\}$。\n根据定义，滤为 $\\mathcal{F}_{n}=\\sigma(\\varepsilon_{1},\\ldots,\\varepsilon_{n})$。这意味着 $\\varepsilon_{n}$ 是一个 $\\mathcal{F}_{n}$-可测的随机变量。因此，对于任何 Borel 集 $B\\subseteq\\mathbb{R}$，其原像 $\\{\\omega\\in\\Omega \\mid \\varepsilon_{n}(\\omega)\\in B\\}$ 都在 $\\mathcal{F}_{n}$ 中。选择 $B=\\{+1\\}$，我们发现集合 $\\{\\varepsilon_{n}=+1\\}$ 在 $\\mathcal{F}_{n}$ 中。\n由于 $X_{n}$ 是一个 $\\mathcal{F}_{n}$-可测集的指示函数，所以 $X_{n}$ 是一个 $\\mathcal{F}_{n}$-可测的随机变量。这对所有 $n\\geq 1$ 都成立。\n因此，$(X_{n})_{n\\geq 1}$ 是一个适应过程。\n\n**3. 证明 $(X_{n})_{n\\geq 1}$ 是不可预测的**\n\n如果对于所有 $n\\geq 1$，$Y_{n}$ 都是 $\\mathcal{F}_{n-1}$-可测的，则离散时间过程 $(Y_{n})_{n\\geq 1}$ 是关于 $(\\mathcal{F}_{n})_{n\\geq 0}$ 可预测的。我们必须证明这个条件对于 $(X_{n})_{n\\geq 1}$ 不成立。\n我们需要证明对于任何 $n\\geq 1$，$X_{n}$ 都不是 $\\mathcal{F}_{n-1}$-可测的。\n如上所示，$X_{n}=\\mathbf{1}_{\\{\\varepsilon_{n}=+1\\}}$。令 $A_{n}$ 为事件 $\\{\\varepsilon_{n}=+1\\}$。\n要使 $X_{n}$ 是 $\\mathcal{F}_{n-1}$-可测的，集合 $A_{n}$ 必须是 $\\sigma$-代数 $\\mathcal{F}_{n-1}$ 的一个元素。\n滤 $\\mathcal{F}_{n-1}$ 定义为 $\\sigma(\\varepsilon_{1},\\ldots,\\varepsilon_{n-1})$（其中 $\\mathcal{F}_{0}$ 是平凡的）。根据题目陈述，序列 $(\\varepsilon_{k})_{k\\geq 1}$ 是独立的。这意味着随机变量 $\\varepsilon_{n}$ 独立于随机向量 $(\\varepsilon_{1},\\ldots,\\varepsilon_{n-1})$，因此也独立于由它生成的 $\\sigma$-代数 $\\mathcal{F}_{n-1}$。\n概率论中的一个标准结果指出，如果一个事件 $A$ 独立于一个 $\\sigma$-代数 $\\mathcal{G}$，那么如果 $A\\in\\mathcal{G}$，则必然有 $\\mathbb{P}(A)=0$ 或 $\\mathbb{P}(A)=1$。\n让我们应用这个结果。我们正在检验 $A_{n}\\in\\mathcal{F}_{n-1}$ 是否成立。由于 $A_{n}$ 由 $\\varepsilon_{n}$ 定义，它独立于 $\\mathcal{F}_{n-1}$。如果我们假设 $A_{n}\\in\\mathcal{F}_{n-1}$，那么我们必须有 $\\mathbb{P}(A_{n})=0$ 或 $\\mathbb{P}(A_{n})=1$。\n然而，事件 $A_{n}$ 的概率给定为：\n$$ \\mathbb{P}(A_{n}) = \\mathbb{P}(\\varepsilon_{n}=+1) = \\frac{1}{2} $$\n由于 $\\mathbb{P}(A_{n})=\\frac{1}{2}$，它既不是 $0$ 也不是 $1$，我们得到了一个矛盾。\n因此，关于 $A_{n}\\in\\mathcal{F}_{n-1}$ 的假设必定是错误的。这意味着对于任何 $n\\geq 1$，$X_{n}=\\mathbf{1}_{A_{n}}$ 都不是 $\\mathcal{F}_{n-1}$-可测的。\n所以，过程 $(X_{n})_{n\\geq 1}$ 是不可预测的。\n\n**4. 计算 $X_{n}$ 的可预测投影**\n\n适应过程 $(X_{n})_{n\\geq 1}$ 的可预测投影是过程 $(X_{n}^{*})_{n\\geq 1}$，定义为 $X_{n}^{*}=\\mathbb{E}[X_{n}\\mid\\mathcal{F}_{n-1}]$。\n我们需要为任何 $n\\geq 1$ 计算这个条件期望。\n$$ X_{n}^{*} = \\mathbb{E}[X_{n}\\mid\\mathcal{F}_{n-1}] = \\mathbb{E}[\\mathbf{1}_{\\{\\varepsilon_{n}=+1\\}}\\mid\\mathcal{F}_{n-1}] $$\n根据指示函数条件期望的定义，这就是事件的条件概率：\n$$ X_{n}^{*} = \\mathbb{P}(\\varepsilon_{n}=+1\\mid\\mathcal{F}_{n-1}) $$\n如前一部分所证明，随机变量 $\\varepsilon_{n}$ 独立于 $\\sigma$-代数 $\\mathcal{F}_{n-1}$。当一个事件独立于作为条件的 $\\sigma$-代数时，它的条件概率等于它的无条件概率。\n因此，\n$$ \\mathbb{P}(\\varepsilon_{n}=+1\\mid\\mathcal{F}_{n-1}) = \\mathbb{P}(\\varepsilon_{n}=+1) $$\n从题目陈述中，我们已知 $\\mathbb{P}(\\varepsilon_{n}=+1)=\\frac{1}{2}$。\n因此，$X_{n}$ 的可预测投影是：\n$$ \\mathbb{E}[X_{n}\\mid\\mathcal{F}_{n-1}] = \\frac{1}{2} $$\n这个结果是一个常数，与 $n$（对于 $n\\geq 1$）以及过程在时间 $n-1$ 之前的具体实现无关。这是在给定时间 $n-1$ 可用信息的情况下对 $X_n$ 的最佳预测。\n\n最终要求的值是这个可预测投影，表示为一个精确的数值。", "answer": "$$\\boxed{\\frac{1}{2}}$$", "id": "3070261"}, {"introduction": "在区分了适应过程和可预知过程之后，我们现在将这一概念扩展到停时，这对于模拟在随机时刻发生的事件至关重要。这个练习要求您分析随机游走的增量首次为正的时刻，并判断这个时刻是否是可预知的 [@problem_id:3070247]。您会发现，即使是简单、自然定义的停时也可能不是可预知的，这突显了其分类中的一个关键细微之处。", "problem": "设 $(\\Omega,\\mathcal{F},\\mathbb{P})$ 是一个概率空间，$(\\mathcal{F}_{n})_{n\\ge 0}$ 是由一列独立同分布的随机变量 $(X_{n})_{n\\ge 1}$ 生成的自然信息流，其中对所有 $n\\ge 1$，$X_{n}\\sim \\mathcal{N}(0,1)$，$\\mathcal{N}(0,1)$ 表示标准正态分布。定义离散时间过程 $(M_{n})_{n\\ge 0}$ 为 $M_{0}=0$ 且当 $n\\ge 1$ 时 $M_{n}=\\sum_{k=1}^{n}X_{k}$，其增量过程为 $\\Delta M_{n}=M_{n}-M_{n-1}=X_{n}$。回顾基本定义：一个适应于 $(\\mathcal{F}_{n})_{n\\ge 0}$ 的过程 $(M_{n})_{n\\ge 0}$ 是一个鞅，如果对所有 $n\\ge 1$，$\\mathbb{E}[|M_{n}|]  \\infty$ 且 $\\mathbb{E}[M_{n}\\mid \\mathcal{F}_{n-1}]=M_{n-1}$；一个随机时间 $\\tau:\\Omega\\to\\{0,1,2,\\dots\\}\\cup\\{\\infty\\}$ 是一个停时，如果对所有 $n\\ge 0$，$\\{\\tau\\le n\\}\\in\\mathcal{F}_{n}$；在离散时间中，一个停时 $\\tau$ 是可预料的，如果对所有 $n\\ge 1$，$\\{\\tau=n\\}\\in\\mathcal{F}_{n-1}$。考虑随机时间\n$$\n\\tau=\\inf\\{n\\ge 1:\\Delta M_{n}0\\}=\\inf\\{n\\ge 1:X_{n}0\\},\n$$\n即增量首次为严格正值的指标。\n\n任务：\n- 从上述定义和 $(X_{n})_{n\\ge 1}$ 的性质出发，论证 $\\tau$ 是关于 $(\\mathcal{F}_{n})_{n\\ge 0}$ 的一个停时。\n- 使用条件期望和独立性的性质，计算条件期望 $\\mathbb{E}\\!\\left[\\mathbf{1}_{\\{\\tau=n\\}}\\mid \\mathcal{F}_{n-1}\\right]$ 的闭式解，其中 $n\\ge 1$ 为任意固定整数，$\\mathbf{1}_{A}$ 表示事件 A 的示性函数。\n- 解释此计算如何说明对某个 $n\\ge 1$，事件 $\\{\\tau=n\\}\\notin\\mathcal{F}_{n-1}$，因此 $\\tau$ 是不可预料的。\n\n你的最终答案必须是 $\\mathbb{E}\\!\\left[\\mathbf{1}_{\\{\\tau=n\\}}\\mid \\mathcal{F}_{n-1}\\right]$ 的单一闭式解析表达式。无需四舍五入，且不涉及单位。", "solution": "按要求分三部分对问题进行分析和求解。\n\n首先，我们论证随机时间 $\\tau$ 是关于信息流 $(\\mathcal{F}_{n})_{n\\ge 0}$ 的一个停时。\n一个随机时间 $\\tau$ 是停时，如果对所有 $n \\ge 0$，事件 $\\{\\tau \\le n\\}$ 都在 σ-代数 $\\mathcal{F}_{n}$ 中。该信息流由 $n \\ge 1$ 时的 $\\mathcal{F}_n = \\sigma(X_1, X_2, \\dots, X_n)$ 和平凡 σ-代数 $\\mathcal{F}_0 = \\{\\emptyset, \\Omega\\}$ 给出。\n\n对 $n=0$：$\\tau$ 的定义是 $\\tau=\\inf\\{k\\ge 1:X_{k}0\\}$，所以 $\\tau$ 必须大于或等于 $1$。这意味着事件 $\\{\\tau \\le 0\\}$ 是不可能的，所以 $\\{\\tau \\le 0\\} = \\emptyset$。空集是任何 σ-代数的元素，所以 $\\{\\tau \\le 0\\} \\in \\mathcal{F}_0$。\n\n对 $n\\ge 1$：处理补事件 $\\{\\tau  n\\}$ 通常更容易。事件 $\\{\\tau  n\\}$ 发生当且仅当对任意 $k \\in \\{1, 2, \\dots, n\\}$，条件 $X_k  0$ 都不满足。这等价于对所有 $k \\in \\{1, 2, \\dots, n\\}$，$X_k \\le 0$。我们可以将此事件写成交集：\n$$\n\\{\\tau  n\\} = \\{X_1 \\le 0, X_2 \\le 0, \\dots, X_n \\le 0\\} = \\bigcap_{k=1}^{n} \\{X_k \\le 0\\}\n$$\n对每个 $k \\in \\{1, 2, \\dots, n\\}$，根据自然信息流的定义，随机变量 $X_k$ 是关于 $\\mathcal{F}_n = \\sigma(X_1, \\dots, X_n)$ 可测的。集合 $(-\\infty, 0]$ 是 $\\mathbb{R}$ 中的一个 Borel 集。因此，事件 $\\{X_k \\le 0\\} = X_k^{-1}((-\\infty, 0])$ 属于 $\\mathcal{F}_n$。因为 σ-代数在有限交运算下是封闭的，所以事件 $\\{\\tau  n\\}$ 也属于 $\\mathcal{F}_n$。\nσ-代数在补运算下也是封闭的。因此，$\\{\\tau  n\\}$ 的补集，即 $\\{\\tau \\le n\\}$，也必然属于 $\\mathcal{F}_n$。\n这对所有 $n \\ge 1$ 都成立。结合 $n=0$ 的结果，我们证明了对所有 $n \\ge 0$，都有 $\\{\\tau \\le n\\} \\in \\mathcal{F}_n$。因此，$\\tau$ 是一个停时。\n\n第二，我们计算固定整数 $n\\ge 1$ 的条件期望 $\\mathbb{E}\\!\\left[\\mathbf{1}_{\\{\\tau=n\\}}\\mid \\mathcal{F}_{n-1}\\right]$。\n事件 $\\{\\tau=n\\}$ 发生当且仅当 $X_n  0$ 且对所有 $k \\in \\{1, 2, \\dots, n-1\\}$，$X_k \\le 0$。该事件的示性函数可以写成一个乘积：\n$$\n\\mathbf{1}_{\\{\\tau=n\\}} = \\mathbf{1}_{\\{X_1 \\le 0, \\dots, X_{n-1} \\le 0\\}} \\mathbf{1}_{\\{X_n  0\\}} = \\left(\\prod_{k=1}^{n-1}\\mathbf{1}_{\\{X_k \\le 0\\}}\\right) \\mathbf{1}_{\\{X_n  0\\}}\n$$\n我们希望计算其在 $\\mathcal{F}_{n-1} = \\sigma(X_1, \\dots, X_{n-1})$ 条件下的期望。我们使用“提取已知量”的性质：如果随机变量 $Y$ 是 $\\mathcal{G}$-可测的，那么 $\\mathbb{E}[YZ \\mid \\mathcal{G}] = Y\\mathbb{E}[Z \\mid \\mathcal{G}]$。\n让我们定义 $Y = \\prod_{k=1}^{n-1}\\mathbf{1}_{\\{X_k \\le 0\\}}$。这个随机变量是 $X_1, \\dots, X_{n-1}$ 的函数，所以它是关于 $\\mathcal{F}_{n-1}$ 可测的。因此，我们可以将其从条件期望中提取出来：\n$$\n\\mathbb{E}\\!\\left[\\mathbf{1}_{\\{\\tau=n\\}}\\mid \\mathcal{F}_{n-1}\\right] = \\mathbb{E}\\!\\left[\\left(\\prod_{k=1}^{n-1}\\mathbf{1}_{\\{X_k \\le 0\\}}\\right) \\mathbf{1}_{\\{X_n  0\\}} \\mid \\mathcal{F}_{n-1}\\right] = \\left(\\prod_{k=1}^{n-1}\\mathbf{1}_{\\{X_k \\le 0\\}}\\right) \\mathbb{E}\\!\\left[\\mathbf{1}_{\\{X_n  0\\}} \\mid \\mathcal{F}_{n-1}\\right]\n$$\n现在我们计算剩余项 $\\mathbb{E}\\!\\left[\\mathbf{1}_{\\{X_n  0\\}} \\mid \\mathcal{F}_{n-1}\\right]$。序列 $(X_k)_{k \\ge 1}$ 是独立的。这意味着随机变量 $X_n$ 独立于 σ-代数 $\\mathcal{F}_{n-1} = \\sigma(X_1, \\dots, X_{n-1})$。因此，$X_n$ 的任何函数，例如 $\\mathbf{1}_{\\{X_n  0\\}}$，也独立于 $\\mathcal{F}_{n-1}$。对于一个独立于 σ-代数 $\\mathcal{G}$ 的随机变量 $Z$，我们有 $\\mathbb{E}[Z \\mid \\mathcal{G}] = \\mathbb{E}[Z]$。因此：\n$$\n\\mathbb{E}\\!\\left[\\mathbf{1}_{\\{X_n  0\\}} \\mid \\mathcal{F}_{n-1}\\right] = \\mathbb{E}\\!\\left[\\mathbf{1}_{\\{X_n  0\\}}\\right] = \\mathbb{P}(X_n  0)\n$$\n随机变量 $X_n$ 服从标准正态分布 $\\mathcal{N}(0,1)$，该分布是连续的且关于 0 对称。因此，$\\mathbb{P}(X_n  0) = \\frac{1}{2}$。\n将此结果代回，我们得到：\n$$\n\\mathbb{E}\\!\\left[\\mathbf{1}_{\\{\\tau=n\\}}\\mid \\mathcal{F}_{n-1}\\right] = \\left(\\prod_{k=1}^{n-1}\\mathbf{1}_{\\{X_k \\le 0\\}}\\right) \\frac{1}{2}\n$$\n示性函数的乘积 $\\prod_{k=1}^{n-1}\\mathbf{1}_{\\{X_k \\le 0\\}}$ 是事件 $\\{X_1 \\le 0, \\dots, X_{n-1} \\le 0\\}$ 的示性函数。这个事件恰好是 $\\{\\tau  n-1\\}$，或等价地，$\\{\\tau \\ge n\\}$。所以我们可以写成：\n$$\n\\mathbb{E}\\!\\left[\\mathbf{1}_{\\{\\tau=n\\}}\\mid \\mathcal{F}_{n-1}\\right] = \\frac{1}{2}\\mathbf{1}_{\\{\\tau \\ge n\\}}\n$$\n这就是所要求的闭式表达式。\n\n第三，我们解释此计算如何说明 $\\tau$ 是不可预料的。\n根据定义，一个停时 $\\tau$ 是可预料的，如果对所有 $n \\ge 1$，事件 $\\{\\tau=n\\}$ 都属于 σ-代数 $\\mathcal{F}_{n-1}$。\n条件期望的一个基本定理指出，一个随机变量 $Y$ 关于 σ-代数 $\\mathcal{G}$ 可测，当且仅当 $\\mathbb{E}[Y \\mid \\mathcal{G}] = Y$。\n如果 $\\tau$ 是一个可预料停时，那么对任何 $n \\ge 1$，事件 $\\{\\tau=n\\}$ 都将属于 $\\mathcal{F}_{n-1}$。这意味着它的示性函数 $Y = \\mathbf{1}_{\\{\\tau=n\\}}$ 是一个 $\\mathcal{F}_{n-1}$-可测的随机变量。\n应用该定理，令 $\\mathcal{G} = \\mathcal{F}_{n-1}$，我们必然有：\n$$\n\\mathbb{E}\\!\\left[\\mathbf{1}_{\\{\\tau=n\\}}\\mid \\mathcal{F}_{n-1}\\right] = \\mathbf{1}_{\\{\\tau=n\\}}\n$$\n然而，我们在第二部分的计算得出：\n$$\n\\mathbb{E}\\!\\left[\\mathbf{1}_{\\{\\tau=n\\}}\\mid \\mathcal{F}_{n-1}\\right] = \\frac{1}{2}\\mathbf{1}_{\\{\\tau \\ge n\\}}\n$$\n因此，要使 $\\tau$ 可预料，以下随机变量的等式必须对所有 $n \\ge 1$ 成立：\n$$\n\\mathbf{1}_{\\{\\tau=n\\}} = \\frac{1}{2}\\mathbf{1}_{\\{\\tau \\ge n\\}}\n$$\n这个等式通常不成立。左边的随机变量 $\\mathbf{1}_{\\{\\tau=n\\}}$ 的取值范围是 $\\{0, 1\\}$。右边的随机变量 $\\frac{1}{2}\\mathbf{1}_{\\{\\tau \\ge n\\}}$ 的取值范围是 $\\{0, \\frac{1}{2}\\}$。\n该等式仅在两边都恒等于零随机变量时才成立。然而，事件 $\\{\\tau=n\\}$ 不是一个零概率事件。它的概率是 $\\mathbb{P}(\\tau=n) = \\mathbb{P}(X_1 \\le 0, \\dots, X_{n-1} \\le 0, X_n  0) = (\\frac{1}{2})^{n-1}(\\frac{1}{2}) = (\\frac{1}{2})^n  0$。\n因为 $\\mathbb{P}(\\tau=n)  0$，存在某个样本点 $\\omega \\in \\Omega$ 使得 $\\tau(\\omega)=n$。对于这样的 $\\omega$，$\\mathbf{1}_{\\{\\tau=n\\}}(\\omega)=1$ 且 $\\mathbf{1}_{\\{\\tau \\ge n\\}}(\\omega)=1$。所声称的等式将要求 $1 = \\frac{1}{2}$，这是一个矛盾。\n因为 $\\mathbb{E}\\!\\left[\\mathbf{1}_{\\{\\tau=n\\}}\\mid \\mathcal{F}_{n-1}\\right] \\neq \\mathbf{1}_{\\{\\tau=n\\}}$，随机变量 $\\mathbf{1}_{\\{\\tau=n\\}}$ 不是 $\\mathcal{F}_{n-1}$-可测的。这意味着事件 $\\{\\tau=n\\}$ 不在 $\\mathcal{F}_{n-1}$ 中（对于任何使得该事件概率非零的 $n$）。这违反了可预料停时的定义。因此，$\\tau$ 是不可预料的。\n直观的解释是，事件 $\\{\\tau=n\\}$ 依赖于 $X_n$ 的结果，这是在时间 $n$ 才可知的新信息，在时间 $n-1$ 是未知的。一个可预料时间是在它发生前一步就可以“宣告”的时间。$\\tau$ 的情况并非如此。\n最终答案是在第二部分推导出的表达式。", "answer": "$$\n\\boxed{\\frac{1}{2}\\mathbf{1}_{\\{\\tau \\ge n\\}}}\n$$", "id": "3070247"}, {"introduction": "为什么可预知性的概念如此重要？最后一个练习揭示了它在随机积分理论中的关键作用，而随机积分理论是金融建模和随机分析的基础。您将亲眼看到，当离散随机积分中的被积函数仅仅是适应的但不是可预知时会发生什么，以及这将如何破坏结果过程的鞅性质 [@problem_id:3070242]。", "problem": "设 $\\left(\\Omega,\\mathcal{F},\\mathbb{P}\\right)$ 是具有等权重的两点空间的可数积空间，即 $\\Omega=\\{-1,1\\}^{\\mathbb{N}}$，具有乘积 $\\sigma$-代数和乘积概率测度。对于 $\\omega=(\\omega_{1},\\omega_{2},\\dots)\\in\\Omega$，定义 $\\xi_{n}(\\omega)=\\omega_{n}$，使得 $\\{\\xi_{n}:n\\in\\mathbb{N}\\}$ 是独立同分布 (i.i.d.) 的随机变量，满足 $\\mathbb{P}(\\xi_{n}=1)=\\mathbb{P}(\\xi_{n}=-1)=\\frac{1}{2}$。设信息流为 $\\mathcal{F}_{n}=\\sigma(\\xi_{1},\\dots,\\xi_{n})$ (对于 $n\\geq 0$)，其中 $\\mathcal{F}_{0}$ 是平凡的。\n\n定义离散时间鞅 $M_{0}=0$ 和\n$$\nM_{n}=\\sum_{k=1}^{n}\\xi_{k},\\qquad n\\geq 1,\n$$\n其增量为 $\\Delta M_{n}=M_{n}-M_{n-1}=\\xi_{n}$。考虑可适过程 $H_{n}=\\xi_{n}$，$n\\geq 1$。$H$ 对 $M$ 的离散时间随机积分是过程\n$$\n(H\\cdot M)_{n}=\\sum_{k=1}^{n}H_{k}\\,\\Delta M_{k},\\qquad n\\geq 1.\n$$\n\n任务：\n1. 使用可适过程和可预测过程相对于一个信息流的定义，论证 $(H_{n})$ 是适应于 $(\\mathcal{F}_{n})$ 的，但不是可预测的。\n2. 计算条件期望 $\\mathbb{E}[H_{n}\\Delta M_{n}\\mid\\mathcal{F}_{n-1}]$，并用它来证明 $(H\\cdot M)_{n}$ 不是一个鞅。\n3. 给出对于所有 $n\\geq 1$，$\\mathbb{E}[H_{n}\\Delta M_{n}\\mid\\mathcal{F}_{n-1}]$ 的精确共同值作为最终答案。\n\n无需四舍五入。将最终答案表示为一个精确的实数。", "solution": "所述问题在数学上是良定的、自洽的且一致的。它代表了离散时间随机过程理论中的一个标准练习。因此，我们可以进行完整的解答。\n\n解答分为三个部分，对应于提出的任务。\n\n**1. $(H_{n})$ 的可适性与非可预测性的论证**\n\n首先，我们回顾可适过程和可预测过程的定义。如果对于每个 $n\\geq 0$，随机变量 $X_{n}$ 都是 $\\mathcal{F}_{n}$-可测的，那么过程 $(X_{n})_{n\\geq 0}$ 被称为对信息流 $(\\mathcal{F}_{n})_{n\\geq 0}$ **可适的**。如果对于每个 $n\\geq 1$，随机变量 $X_{n}$ 都是 $\\mathcal{F}_{n-1}$-可测的，那么过程 $(X_{n})_{n\\geq 1}$ 被称为相对于 $(\\mathcal{F}_{n})_{n\\geq 0}$ **可预测的**。\n\n所讨论的过程是 $H_{n}=\\xi_{n}$ (对于 $n\\geq 1$)。信息流定义为 $\\mathcal{F}_{n}=\\sigma(\\xi_{1},\\dots,\\xi_{n})$ (对于 $n\\geq 1$) 且 $\\mathcal{F}_{0}$ 是平凡 $\\sigma$-代数。\n\n为了证明 $(H_{n})$ 是可适的，我们必须验证对于每个 $n \\geq 1$，$H_{n}$ 都是 $\\mathcal{F}_{n}$-可测的。根据定义，$H_{n}=\\xi_{n}$。信息流 $\\mathcal{F}_{n}$ 是由随机变量 $\\xi_{1}, \\dots, \\xi_{n}$ 生成的 $\\sigma$-代数。根据定义，一个 $\\sigma$-代数的生成随机变量对于该 $\\sigma$-代数是可测的。因此，对于每个 $n\\geq 1$，$\\xi_{n}$ 都是 $\\mathcal{F}_{n}$-可测的。这证实了过程 $(H_{n})_{n\\geq 1}$ 是适应于信息流 $(\\mathcal{F}_{n})_{n\\geq 1}$ 的。\n\n为了证明 $(H_{n})$ 不是可预测的，我们必须验证对于某个 $n\\geq 1$，$H_{n}$ 不是 $\\mathcal{F}_{n-1}$-可测的。让我们考虑任意 $n\\geq 1$。这里 $H_{n}=\\xi_{n}$，相关的 $\\sigma$-代数是 $\\mathcal{F}_{n-1}=\\sigma(\\xi_{1},\\dots,\\xi_{n-1})$ (其中当 $n=1$ 时，$\\mathcal{F}_{0}$ 是平凡的)。问题陈述了随机变量 $\\{\\xi_{k}\\}$ 是独立的。这意味着 $\\xi_{n}$ 独立于集合 $\\{\\xi_{1},\\dots,\\xi_{n-1}\\}$，因此 $\\xi_{n}$ 独立于它们生成的 $\\sigma$-代数 $\\mathcal{F}_{n-1}$。\n\n一个对于某个 $\\sigma$-代数可测的随机变量不能独立于它，除非该随机变量几乎必然是常数。这里，$\\xi_{n}$ 不是常数，因为 $\\mathbb{P}(\\xi_{n}=1)=\\mathbb{P}(\\xi_{n}=-1)=\\frac{1}{2}$。更正式地说，假设 $\\xi_{n}$ 是 $\\mathcal{F}_{n-1}$-可测的（为了引出矛盾）。那么条件期望 $\\mathbb{E}[\\xi_{n}|\\mathcal{F}_{n-1}]$ 将等于 $\\xi_{n}$ 本身。然而，由于独立性，我们有 $\\mathbb{E}[\\xi_{n}|\\mathcal{F}_{n-1}]=\\mathbb{E}[\\xi_{n}]$。该期望为 $\\mathbb{E}[\\xi_{n}]=(1)\\cdot\\frac{1}{2}+(-1)\\cdot\\frac{1}{2}=0$。这将意味着 $\\xi_{n}=0$ 几乎必然成立，这与 $\\xi_{n}$ 只取值 $1$ 和 $-1$ 的事实相矛盾。因此，对于任何 $n\\geq 1$，$\\xi_{n}$ 都不是 $\\mathcal{F}_{n-1}$-可测的。因此，过程 $(H_{n})$ 不是可预测的。\n\n**2. $(H\\cdot M)_{n}$ 不是鞅的证明**\n\n设 $X_{n}=(H\\cdot M)_{n}=\\sum_{k=1}^{n}H_{k}\\,\\Delta M_{k}$。要使 $(X_{n})$ 成为关于 $(\\mathcal{F}_{n})$ 的鞅，它必须满足（除其他性质外）对于所有 $n\\geq 1$ 都有 $\\mathbb{E}[X_{n}\\mid\\mathcal{F}_{n-1}]=X_{n-1}$。让我们检验这个条件。\n\n我们可以将 $X_{n}$ 写为 $X_{n}=X_{n-1}+H_{n}\\Delta M_{n}$ (对于 $n\\geq 1$ 且 $X_0=0$)。利用条件期望的线性性，我们有：\n$$\n\\mathbb{E}[X_{n}\\mid\\mathcal{F}_{n-1}] = \\mathbb{E}[X_{n-1}+H_{n}\\Delta M_{n}\\mid\\mathcal{F}_{n-1}] = \\mathbb{E}[X_{n-1}\\mid\\mathcal{F}_{n-1}] + \\mathbb{E}[H_{n}\\Delta M_{n}\\mid\\mathcal{F}_{n-1}]\n$$\n过程项 $X_{n-1}$ 是 $k=1, \\dots, n-1$ 的项 $H_{k}\\Delta M_{k} = \\xi_k^2$ 的和。每个 $\\xi_{k}$ 都是 $\\mathcal{F}_{k}$-可测的，因此对于 $k \\le n-1$，它也是 $\\mathcal{F}_{n-1}$-可测的。因此，$X_{n-1}$ 是 $\\mathcal{F}_{n-1}$-可测的。对于任何 $\\mathcal{F}_{n-1}$-可测的随机变量 $Y$，我们有 $\\mathbb{E}[Y\\mid\\mathcal{F}_{n-1}]=Y$。因此，$\\mathbb{E}[X_{n-1}\\mid\\mathcal{F}_{n-1}]=X_{n-1}$。该方程变为：\n$$\n\\mathbb{E}[X_{n}\\mid\\mathcal{F}_{n-1}] = X_{n-1} + \\mathbb{E}[H_{n}\\Delta M_{n}\\mid\\mathcal{F}_{n-1}]\n$$\n现在，我们计算条件期望项。给定 $H_{n}=\\xi_{n}$ 和 $\\Delta M_{n}=\\xi_{n}$。所以，该项为 $\\mathbb{E}[\\xi_{n}\\cdot\\xi_{n}\\mid\\mathcal{F}_{n-1}]=\\mathbb{E}[\\xi_{n}^{2}\\mid\\mathcal{F}_{n-1}]$。\n随机变量 $\\xi_{n}$ 在集合 $\\{-1, 1\\}$ 中取值。对于任何结果 $\\omega\\in\\Omega$，$\\xi_{n}(\\omega)$ 要么是 $-1$ 要么是 $1$。在任何一种情况下，$\\xi_{n}^{2}(\\omega)=1$。这意味着 $\\xi_{n}^{2}$ 是一个常数随机变量，处处等于 $1$。常数随机变量对于任何 $\\sigma$-代数都是可测的，包括 $\\mathcal{F}_{n-1}$。它的条件期望就是常数本身：\n$$\n\\mathbb{E}[H_{n}\\Delta M_{n}\\mid\\mathcal{F}_{n-1}] = \\mathbb{E}[\\xi_{n}^{2}\\mid\\mathcal{F}_{n-1}] = \\mathbb{E}[1\\mid\\mathcal{F}_{n-1}] = 1\n$$\n将此结果代回，我们发现：\n$$\n\\mathbb{E}[X_{n}\\mid\\mathcal{F}_{n-1}] = X_{n-1} + 1\n$$\n由于 $\\mathbb{E}[X_{n}\\mid\\mathcal{F}_{n-1}] \\neq X_{n-1}$，过程 $(H\\cdot M)_{n}$ 不是关于 $(\\mathcal{F}_{n})$ 的鞅。这个失败是被积过程 $(H_n)$ 不可预测的直接后果。一个非可预测过程关于一个鞅的离散随机积分不保证是一个鞅。\n\n**3. $\\mathbb{E}[H_{n}\\Delta M_{n}\\mid\\mathcal{F}_{n-1}]$ 的共同值**\n\n如第二部分计算所得，对于任何整数 $n\\geq 1$：\n$$\n\\mathbb{E}[H_{n}\\Delta M_{n}\\mid\\mathcal{F}_{n-1}] = \\mathbb{E}[\\xi_{n}^{2}\\mid\\mathcal{F}_{n-1}]\n$$\n由于 $\\xi_{n}\\in\\{-1,1\\}$，可得对于所有 $n$，$\\xi_{n}^{2}=1$。该表达式简化为：\n$$\n\\mathbb{E}[1\\mid\\mathcal{F}_{n-1}] = 1\n$$\n这个值是常数，不依赖于 $n$。因此，对于所有 $n\\geq 1$，$\\mathbb{E}[H_{n}\\Delta M_{n}\\mid\\mathcal{F}_{n-1}]$ 的精确共同值是 $1$。", "answer": "$$\\boxed{1}$$", "id": "3070242"}]}