{"hands_on_practices": [{"introduction": "等价关系是理解数学结构的基础，它能将一个集合划分为若干个不相交的子集，每个子集中的元素在某种意义上都是“相同”的。这个练习以一个直观的金融交易模型为背景，其中“利润等价”定义了一种关系。通过确定一个给定交易的等价类，你可以亲身体会如何将抽象的等价关系概念应用于具体问题，并用集合语言精确地描述它 [@problem_id:1352532]。", "problem": "在一个用于分析金融交易的简化模型中，每笔交易由一个整数有序对 $(p_b, p_s)$ 表示，其中 $p_b$ 是买入价，$p_s$ 是卖出价。价格可以是任意整数值（正、负或零），因此所有可能交易的集合是 $S = \\mathbb{Z} \\times \\mathbb{Z}$。\n\n在集合 $S$ 上定义了一个关系 $R$，用以识别“利润等价”的交易。两笔交易 $T_1 = (a, b)$ 和 $T_2 = (c, d)$ 是相关的，记为 $(a, b) R (c, d)$，当且仅当它们产生相同的利润。一笔交易 $(p_b, p_s)$ 的利润计算为 $p_s - p_b$。\n\n这个关系 $R$ 是一个等价关系（你无需证明这一点）。你的任务是确定特定交易 $T_0 = (7, 3)$ 的等价类。使用 $\\{ (x, y) \\in \\mathbb{Z} \\times \\mathbb{Z} \\mid \\dots \\}$ 形式的集合建构式表示法来描述这个记为 $[(7, 3)]$ 的等价类。", "solution": "给定 $S=\\mathbb{Z}\\times\\mathbb{Z}$ 以及一个关系 $R$，其定义为 $(a,b)R(c,d)$ 当且仅当这两个有序对产生相同的利润，其中 $(p_{b},p_{s})$ 的利润为 $p_{s}-p_{b}$。因此，根据定义，\n$$(a,b)R(c,d)\\iff b-a=d-c.$$\n$(7,3)$ 的等价类，根据等价类的定义，是\n$$[(7,3)]=\\{(x,y)\\in S\\mid (x,y)R(7,3)\\}.$$\n使用 $R$ 的定义条件，我们得到\n$$(x,y)R(7,3)\\iff y-x=3-7.$$\n计算等式右边：\n$$3-7=-4.$$\n因此，\n$$[(7,3)]=\\{(x,y)\\in \\mathbb{Z}\\times \\mathbb{Z}\\mid y-x=-4\\},$$\n等价地，所有满足 $y=x-4$ 的整数对。", "answer": "$$\\boxed{\\{(x,y)\\in \\mathbb{Z}\\times \\mathbb{Z}\\mid y-x=-4\\}}$$", "id": "1352532"}, {"introduction": "与强调“相同性”的等价关系不同，偏序关系描述了元素之间的“先后”或“层级”结构。整数间的整除关系是偏序关系的一个经典范例，它无处不在，例如在因子分解和数论中。此练习将挑战你分析一个由整除关系定义的偏序集的具体结构，要求你识别出其中的最小元、最大元、最长链和最长反链等关键特征，从而加深对偏序集结构性质的理解 [@problem_id:1352548]。", "problem": "令 $S$ 为整数集合 $\\{1, 2, 4, 5, 10, 20\\}$。在 $S$ 上定义一个关系 $R$，使得对于任意两个元素 $a, b \\in S$，我们有 $a R b$ 当且仅当 $a$ 整除 $b$。这个关系建立了一个偏序集（poset），记作 $(S, R)$。\n\n从下面的陈述列表中，找出所有对于这个偏序集为真的陈述。\n\nA. 该偏序集有超过一个极大元。\n\nB. 该偏序集有一个最小元。\n\nC. 最长链的长度（定义为链中元素的数量减一）为4。\n\nD. 最大反链的大小（偏序集的宽度）为2。\n\nE. 关系 $R$ 在集合 $S$ 上定义了一个全序。", "solution": "令 $S=\\{1,2,4,5,10,20\\}$ 并在 $S$ 上定义 $R$ 为 $aRb$ 当且仅当 $a$ 整除 $b$。这个关系 $R$ 是自反的、反对称的和传递的，因此是一个偏序。\n\n为了检验陈述A，回想一下，$m\\in S$ 是极大元，如果不存在 $x\\in S$ 使得 $mRx$ 且 $m\\neq x$。检查每个元素：$1$ 整除 $2, 4, 5, 10, 20$；$2$ 整除 $4, 10, 20$；$4$ 整除 $20$；$5$ 整除 $10, 20$；$10$ 整除 $20$；$20$ 在 $S$ 中只整除它自己。因此唯一的极大元是 $20$。所以陈述A是假的。\n\n对于陈述B，一个最小元 $\\ell\\in S$ 满足对于所有 $b\\in S$ 都有 $\\ell R b$。因为 $1$ 整除 $S$ 中的每一个元素，所以 $1$ 是最小元。因此陈述B是真的。\n\n对于陈述C，一个链是 $S$ 的一个子集，其中任意一对元素都是可比较的。极大链的例子有\n$$\n1\\mid 2\\mid 4\\mid 20,\\qquad 1\\mid 5\\mid 10\\mid 20,\n$$\n每个都包含 $4$ 个元素。没有链可以同时包含 $4$ 和 $5$，因为它们互相不整除，所以一个链不能超过 $4$ 个元素。因此最长的链有 $4$ 个元素，其长度，定义为元素数量减 $1$，是 $3$。陈述C声称长度为 $4$，是假的。\n\n对于陈述D，一个反链是 $S$ 的一个子集，其中任意两个不同的元素都不可比较。元素 $1$ 和 $20$ 与所有其他元素都是可比较的，所以它们不能在任何大小大于 $1$ 的反链中。限制在 $\\{2,4,5,10\\}$ 中，可比较关系有 $2\\mid 4$，$2\\mid 10$ 和 $5\\mid 10$，而 $4$ 和 $5$ 是不可比较的，$4$ 和 $10$ 是不可比较的，以及 $2$ 和 $5$ 是不可比较的。$\\{2,4,5,10\\}$ 中的任何 $3$ 元子集都包含一对可比较的元素，所以最大的反链大小为 $2$，例如 $\\{4,5\\}$。因此陈述D是真的。\n\n对于陈述E，一个全序要求每一对元素都是可比较的。因为 $2$ 和 $5$ 是不可比较的（既不是 $2\\mid 5$ 也不是 $5\\mid 2$），所以 $R$ 不是一个全序。因此陈述E是假的。\n\n真的陈述是B和D。", "answer": "$$\\boxed{BD}$$", "id": "1352548"}, {"introduction": "传递性是关系的一个核心性质，在网络、数据库和逻辑推理中都至关重要。在许多实际系统中，我们不仅关心直接关系，更需要推导出所有间接关系。这个练习模拟了一个信任网络，要求你通过添加最少的信任关系来确保整个系统的传递性，这实际上是在计算关系的“传递闭包”。这个过程不仅能让你掌握传递性的实际应用，还能锻炼你对关系组合和图论路径的理解 [@problem_id:1352517]。", "problem": "在一个分布式认证系统中，有四个标记为 $N_1, N_2, N_3,$ 和 $N_4$ 的节点形成一个网络。该系统依赖于一种“信任”关系，这是节点集合 $S = \\{N_1, N_2, N_3, N_4\\}$ 上的一个二元关系 $T$。$T$ 中的一个有序对 $(A, B)$ 表示节点 $A$ 直接信任节点 $B$。\n\n为使系统完全安全和健壮，信任关系必须具有传递性。这意味着如果节点 $A$ 信任节点 $B$，且节点 $B$ 信任节点 $C$，那么必然得出节点 $A$ 信任节点 $C$。如果这种隐含的信任关系没有明确地包含在集合 $T$ 中，则必须将其添加进去。\n\n最初，信任关系由集合 $T_0 = \\{(N_1, N_2), (N_2, N_3), (N_3, N_4), (N_4, N_1)\\}$ 定义。\n\n为了使整个系统具有传递性安全，我们需要向 $T_0$ 中添加最少数量的新信任关系（有序对），以形成一个新的传递关系 $T_f$。为实现这一目标，必须向 $T_0$ 中添加多少个新的有序对？", "solution": "设 $S=\\{N_{1},N_{2},N_{3},N_{4}\\}$ 且 $T_{0}=\\{(N_{1},N_{2}),\\,(N_{2},N_{3}),\\,(N_{3},N_{4}),\\,(N_{4},N_{1})\\}$。一个关系 $T$ 是传递的，如果 $(a,b)\\in T$ 且 $(b,c)\\in T$ 蕴含 $(a,c)\\in T$。包含 $T_{0}$ 的最小传递关系是其传递闭包 $T^{+}=\\bigcup_{k\\geq 1}T_{0}^{k}$，其中 $T_{0}^{k}$ 表示 $T_{0}$ 与自身的 $k$ 次复合。\n\n计算各次幂：\n$$\nT_{0}^{2}=\\{(N_{1},N_{3}),\\,(N_{2},N_{4}),\\,(N_{3},N_{1}),\\,(N_{4},N_{2})\\},\n$$\n因为每个都是通过复合4-循环中的两条连续边得到的。\n\n$$\nT_{0}^{3}=\\{(N_{1},N_{4}),\\,(N_{2},N_{1}),\\,(N_{3},N_{2}),\\,(N_{4},N_{3})\\},\n$$\n复合三条连续的边。\n\n$$\nT_{0}^{4}=\\{(N_{1},N_{1}),\\,(N_{2},N_{2}),\\,(N_{3},N_{3}),\\,(N_{4},N_{4})\\},\n$$\n因为四条连续的边会回到起始节点。\n\n对于 $k\\geq 5$，集合会周期性地重复（例如 $T_{0}^{5}=T_{0}$ 等），因此在 $k=4$ 之后不会出现新的序对。因此\n$$\nT^{+}=T_{0}\\cup T_{0}^{2}\\cup T_{0}^{3}\\cup T_{0}^{4},\n$$\n这是 $S$ 上所有 16 个有序对的全集。因此 $|T^{+}|=16$ 且 $|T_{0}|=4$，所以需要添加的新有序对的最小数量是 $16-4=12$。", "answer": "$$\\boxed{12}$$", "id": "1352517"}]}