{"hands_on_practices": [{"introduction": "理解 n 元关系的第一步是能够判断一个给定的元组是否属于该关系。这个练习提供了一个具体的元组和四个通过不同数学规则（如整除、线性方程和同余）定义的三元关系。通过逐一检验，你将练习如何精确地应用定义，这是处理关系时最基本也是最重要的技能。[@problem_id:1386820]", "problem": "设 $\\mathbb{Z}^{+}$ 表示正整数集合。考虑定义在笛卡尔积 $\\mathbb{Z}^{+} \\times \\mathbb{Z}^{+} \\times \\mathbb{Z}^{+}$ 上的以下四个三元关系：\n\n$R_1 = \\{(a, b, c) \\in (\\mathbb{Z}^{+})^3 \\mid a \\text{ 整除 } b \\text{ 且 } c = b/a \\}$\n$R_2 = \\{(a, b, c) \\in (\\mathbb{Z}^{+})^3 \\mid a + b = 4c \\}$\n$R_3 = \\{(a, b, c) \\in (\\mathbb{Z}^{+})^3 \\mid a \\equiv b \\pmod{c} \\}$\n$R_4 = \\{(a, b, c) \\in (\\mathbb{Z}^{+})^3 \\mid \\gcd(a, b) = c \\}$，其中 $\\gcd(x, y)$ 表示 $x$ 和 $y$ 的最大公约数。\n\n考虑特定的正整数元组 $t = (6, 18, 3)$。下列哪个/哪些陈述是正确的？\n\nA. $t \\in R_1$\n\nB. $t \\in R_2$\n\nC. $t \\in R_3$\n\nD. $t \\in R_4$", "solution": "设 $t = (6,18,3)$，因此 $a=6$，$b=18$，且 $c=3$。\n\n检验 $t \\in R_{1}$：\n根据定义，$(a,b,c) \\in R_{1}$ 当且仅当 $a$ 整除 $b$ 并且 $c = \\frac{b}{a}$。因为 $18 = 6 \\cdot 3$，所以我们有 $6 \\mid 18$。此外，$\\frac{b}{a} = \\frac{18}{6} = 3 = c$。因此 $t \\in R_{1}$。\n\n检验 $t \\in R_{2}$：\n根据定义，$(a,b,c) \\in R_{2}$ 当且仅当 $a + b = 4c$。计算 $a + b = 6 + 18 = 24$ 和 $4c = 4 \\cdot 3 = 12$。因为 $24 \\neq 12$，所以 $t \\notin R_{2}$。\n\n检验 $t \\in R_{3}$：\n根据定义，$(a,b,c) \\in R_{3}$ 当且仅当 $a \\equiv b \\pmod{c}$，这等价于 $c \\mid (a-b)$。计算 $a-b = 6 - 18 = -12$。因为 $3 \\mid 12$，所以 $3 \\mid -12$，因此 $3 \\mid (a-b)$，所以 $a \\equiv b \\pmod{3}$。因此 $t \\in R_{3}$。\n\n检验 $t \\in R_{4}$：\n根据定义，$(a,b,c) \\in R_{4}$ 当且仅当 $\\gcd(a,b) = c$。计算 $\\gcd(6,18) = 6$（例如，使用质因数分解 $6 = 2 \\cdot 3$ 和 $18 = 2 \\cdot 3^{2}$，因此最大公约数为 $2 \\cdot 3 = 6$）。因为 $6 \\neq 3$，所以 $t \\notin R_{4}$。\n\n因此，正确的陈述是 A 和 C。", "answer": "$$\\boxed{AC}$$", "id": "1386820"}, {"introduction": "在学会判断单个元组的归属后，下一步是考察整个关系。本练习要求你找出一个在有限集合上定义的关系中的所有元组，并计算其基数（即元组的总数）。这个过程不仅能加深你对关系作为元组集合的理解，还能锻炼系统性枚举和计数的技巧。[@problem_id:1386828]", "problem": "设集合 $S$ 定义为 $S = \\{1, 2, 3, 4\\}$。在此集合上定义了一个三元关系 $R$。一个有序三元组 $(a, b, c)$，其中 $a, b, c \\in S$，属于关系 $R$ 当且仅当其前两个元素之和等于第三个元素，即 $a + b = c$。求关系 $R$ 的基数。", "solution": "我们已知有限集 $S=\\{1,2,3,4\\}$ 以及定义在它上面的三元关系 $R\\subseteq S\\times S\\times S$：\n$$\n(a,b,c)\\in R \\quad \\Longleftrightarrow \\quad a+b=c,\n$$\n其中 $a,b,c\\in S$。对于任意固定的有序对 $(a,b)\\in S^{2}$， $c$ 的值由 $c=a+b$ 唯一确定。因此，条件 $(a,b,c)\\in R$ 等价于要求 $a+b\\in S$。所以，$R$ 的基数等于满足 $a+b\\in S$ 的有序对 $(a,b)\\in S^{2}$ 的数量。\n\n等价地，我们可以通过对每个 $c\\in S$ 求和，来计算满足 $a+b=c$ 的有序对 $(a,b)\\in S^{2}$ 的数量。对于一个固定的 $c\\in S$，有序对必须满足 $a\\in S$ 和 $b=c-a\\in S$，这可以转化为\n$$\n1\\leq a\\leq 4 \\quad \\text{and} \\quad 1\\leq c-a\\leq 4.\n$$\n第二个不等式等价于 $c-4\\leq a\\leq c-1$。因此 $a$ 必须位于整数区间\n$$\na\\in \\left[\\max(1,c-4),\\,\\min(4,c-1)\\right].\n$$\n我们对每个 $c\\in\\{1,2,3,4\\}$ 进行计算：\n- 当 $c=1$ 时：区间为 $[\\,\\max(1,-3),\\,\\min(4,0)\\,]=[1,0]$，为空集，所以数量为 $0$。\n- 当 $c=2$ 时：区间为 $[\\,\\max(1,-2),\\,\\min(4,1)\\,]=[1,1]$，得到 $1$ 个有序对。\n- 当 $c=3$ 时：区间为 $[\\,\\max(1,-1),\\,\\min(4,2)\\,]=[1,2]$，得到 $2$ 个有序对。\n- 当 $c=4$ 时：区间为 $[\\,\\max(1,0),\\,\\min(4,3)\\,]=[1,3]$，得到 $3$ 个有序对。\n\n将这些数量相加得到\n$$\n|R|=0+1+2+3=6.\n$$\n因此，关系 $R$ 的基数是 $6$。", "answer": "$$\\boxed{6}$$", "id": "1386828"}, {"introduction": "N 元关系是关系数据库的理论基石，而投影是查询和操作数据的基本运算之一。这个练习将你置于一个真实世界的数据场景中，要求你对一个大型关系执行投影操作。通过这个练习，你将学会投影是如何从数据表中筛选特定信息列，并理解其结果的基数是如何由数据值的多样性决定的。[@problem_id:1386781]", "problem": "一家全球电子制造商使用关系数据库来追踪其供应链。该数据库中的一个关系，名为 `ComponentShipments`，是一个由代表单个货运记录的四元组组成的集合。每个元组的形式为 `(ShipmentID, PartNumber, SupplierID, DestinationCity)`，其中 `ShipmentID` 是货运的唯一标识符。\n\n`ComponentShipments` 关系目前包含 8,000 个元组。该公司从 40 个不同的供应商（由 `SupplierID` 标识）采购 200 种不同类型的零件（由 `PartNumber` 标识）。这些组件被运送到恰好 15 个不同的分销中心，每个中心都位于一个不同的城市。该数据库是全面的，包含了这 15 个目的地城市中每一个城市的货运记录。\n\n令 $\\pi_{A}(R)$ 表示关系 $R$ 在属性集 $A$ 上的投影。关系的基数是它包含的元组数量。\n\n`ComponentShipments` 关系在 `DestinationCity` 属性上的投影的基数是多少？", "solution": "令 $R$ 表示关系 $\\text{ComponentShipments}$，其属性为 $\\{\\text{ShipmentID}, \\text{PartNumber}, \\text{SupplierID}, \\text{DestinationCity}\\}$。投影 $\\pi_{\\text{DestinationCity}}(R)$ 返回关系 $R$ 中存在的属性 $\\text{DestinationCity}$ 的不同值的集合。根据定义，基数 $\\left|\\pi_{\\text{DestinationCity}}(R)\\right|$ 等于 $R$ 中出现的所有不同目的地城市的数量。\n\n题目说明，组件被运送到恰好 $15$ 个不同的分销中心，每个中心都位于一个不同的城市，并且数据库是全面的，包含了这 15 个目的地城市中每一个城市的货运记录。因此，这 15 个城市中的每一个都在 $R$ 中至少出现一次，并且除了这 15 个城市之外，没有其他目的地城市。\n\n因此，\n$$\\left|\\pi_{\\text{DestinationCity}}(\\text{ComponentShipments})\\right|=15.$$", "answer": "$$\\boxed{15}$$", "id": "1386781"}]}