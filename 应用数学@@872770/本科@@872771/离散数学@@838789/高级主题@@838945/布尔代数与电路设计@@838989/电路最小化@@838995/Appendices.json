{"hands_on_practices": [{"introduction": "理论知识需要通过实践来巩固和深化。本节提供了一系列动手练习，旨在将电路化简的抽象概念转化为具体的解题技能。我们将从一个利用卡诺图处理“无关项”的经典问题开始。在数字系统设计中，某些输入组合可能永远不会出现或其对应的输出无关紧要，这些“无关项”（don't-care conditions）为逻辑化简提供了极大的灵活性。本练习将通过设计一个“月份检查器”电路，向你展示如何巧妙地利用这些无关项来圈出更大的蕴含项，从而获得比常规方法更简洁的逻辑表达式。[@problem_id:1383969]", "problem": "一个数字逻辑电路被设计用作“月份检查器”。该电路接受一个4位二进制输入，由变量 $W$、$X$、$Y$ 和 $Z$ 表示，其中 $W$ 是最高有效位。这个4位数 $WXYZ$ 对应一年中的一个月份，其中 `0001` 代表一月，`0010` 代表二月，以此类推，直到 `1100` 代表十二月。\n\n电路的单个输出 $F$ 在输入对应的月份恰好有31天时应为高电平（逻辑1）。对于所有其他有效月份，输出应为低电平（逻辑0）。有31天的月份是一月、三月、五月、七月、八月、十月和十二月。\n\n不对应有效月份的二进制输入值（即小于1或大于12的值）被视为“无关项”。您可以使用这些无关项来简化电路逻辑。\n\n确定输出函数 $F(W, X, Y, Z)$ 的最小积之和（SOP）表达式。使用标准的布尔表示法，其中撇号（例如 $W'$）表示非运算。", "solution": "设4位输入为 $WXYZ$，其中 $W$ 是最高有效位。应使 $F=1$ 的月份是一月、三月、五月、七月、八月、十月和十二月，对应的最小项为\n$$\nm_{1},\\, m_{3},\\, m_{5},\\, m_{7},\\, m_{8},\\, m_{10},\\, m_{12}.\n$$\n不代表有效月份的输入是无关项：\n$$\nd: m_{0},\\, m_{13},\\, m_{14},\\, m_{15}.\n$$\n因此，函数规范为\n$$\nF=\\Sigma m(1,3,5,7,8,10,12),\\quad d=\\Sigma m(0,13,14,15).\n$$\n构建一个4变量卡诺图，行由 $WX\\in\\{00,01,11,10\\}$ 索引，列由 $YZ\\in\\{00,01,11,10\\}$ 索引。在列出的最小项对应的单元格中填入 $1$，在无关项对应的单元格中填入 $X$。\n\n使用无关项形成最大的蕴含项，以最小化积之和：\n- 一个覆盖了最小项 $m_8, m_{10}, m_{12}$ 和无关项 $m_{14}$ 的 $2\\times 2$ 矩形。在这个矩形中，$W=1$ 且 $Z=0$，而 $X$ 和 $Y$ 变化，得到乘积项 $WZ'$。\n- 一个覆盖了最小项 $m_1, m_3, m_5, m_7$ 的 $2\\times 2$ 矩形。在这个矩形中，$W=0$ 且 $Z=1$，而 $X$ 和 $Y$ 变化，得到乘积项 $W'Z$。\n\n合并这些蕴含项得到最小SOP：\n$$\nF(W,X,Y,Z)=WZ'+W'Z.\n$$\n这个表达式覆盖了所有必需的最小项，并利用无关项消去了 $X$ 和 $Y$，并且它是最小的SOP形式。", "answer": "$$\\boxed{WZ'+W'Z}$$", "id": "1383969"}, {"introduction": "掌握了基于卡诺图的两级逻辑化简后，我们接下来将探索多级电路的优化。虽然最小和之积（SOP）形式是标准化的，但它不一定能实现最高效的电路。本练习引导你超越两级逻辑的限制，通过代数因式分解来构建一个多级电路。你将发现，通过提取公共项，可以显著减少门电路所需的总输入引脚数，这在实际工程中意味着更低的成本、功耗和布线复杂度。[@problem_id:1383979]", "problem": "一位工程师正在设计一个数字电路，以实现由“积之和”表达式 $F(A,B,C,D) = AC + A D' + BC + B D'$ 给出的布尔函数 $F(A,B,C,D)$。可用元件为任意所需输入数量的与门、或门和非门。为了在成本和效率上优化设计，主要指标是门输入总数。一个门输入是到门输入端的单个连接。例如，一个3输入与门对门输入总数的贡献为3。假设主输入 $A, B, C, D$ 及其反相 $A', B', C', D'$ 都是无成本提供的（即，您无需计算产生反相的非门的输入）。实现函数 $F$ 的多级电路的最小可能门输入总数是多少？", "solution": "我们从给定的“积之和”表达式开始\n$$\nF(A,B,C,D)=AC+AD'+BC+BD'.\n$$\n使用布尔分配律 $XY+XZ=X(Y+Z)$ 对 $A$ 和 $B$ 配对进行因式分解：\n$$\nAC+BC=(A+B)C,\\qquad AD'+BD'=(A+B)D'.\n$$\n因此，\n$$\nF=(A+B)C+(A+B)D'.\n$$\n再次对 $X=(A+B)$ 应用分配律，得到因式分解后的“和之积”形式：\n$$\nF=(A+B)\\big(C+D'\\big).\n$$\n这个形式直接得出一个使用两个或门和一个与门的多级实现：\n- 使用一个2输入或门计算 $S_{1}=A+B$（成本：2个门输入）。\n- 使用一个2输入或门计算 $S_{2}=C+D'$（成本：2个门输入）。根据题目说明，反相输入 $D'$ 是无成本提供的。\n- 使用一个2输入与门计算 $F=S_{1}S_{2}$（成本：2个门输入）。\n\n此实现的总门输入数为\n$$\n2+2+2=6.\n$$\n为证明这是最小的，请注意 $F$ 需要一个对 $\\{A,B\\}$ 的或运算和一个对 $\\{C,D'\\}$ 的或运算，并通过一个与运算组合起来，因此至少需要三个门（单个门无法产生“或之与”结构，两个门也无法实现所需的“与或”或“或与”结构）。使用与门/或门时，每个有用的门至少有两个输入，因此任何至少有三个门的实现的门输入总数至少为 $2+2+2=6$。由于上述实现达到了这个下界，因此它是最优的。", "answer": "$$\\boxed{6}$$", "id": "1383979"}, {"introduction": "最后，我们将挑战一个更接近现代集成电路设计的综合问题。在实际设计中，工程师通常使用预定义的标准单元库，而不是单个的与门和或门。本练习要求你仅使用2对1多路复用器（MUX）这一通用逻辑单元来合成一个布尔函数。这个过程将深刻揭示香农展开定理的实践价值——它不仅是一个理论公式，更是一种将任意逻辑函数系统性地分解并映射到硬件结构（如MUX）上的强大方法。[@problem_id:1383927]", "problem": "一个4变量布尔函数 $F(A, B, C, D)$ 由其最小项之和定义如下：\n$$ F(A, B, C, D) = \\sum m(0, 1, 4, 6, 9, 11, 13, 15) $$\n你的任务是使用一个完全由2选1多路复用器（MUX）单元组成的网络来综合该函数。一个2选1 MUX单元有两个数据输入 $I_0$ 和 $I_1$，一个选择输入 $S$，以及一个输出 $Y$。其功能由布尔表达式 $Y = S' \\cdot I_0 + S \\cdot I_1$ 给出，其中 $S'$ 表示 $S$ 的补。主输入变量 $A, B, C, D$ 以及常数逻辑电平 '0' (假) 和 '1' (真) 可用于连接到任何数据或选择输入。\n\n确定实现函数 $F(A, B, C, D)$ 所需的2选1 MUX单元的最小数量。", "solution": "我们从给定函数开始\n$$F(A,B,C,D)=\\sum m(0,1,4,6,9,11,13,15)。$$\n使用香农展开（Shannon decomposition），以 $A$ 为变量进行展开：\n$$F = A' F_{A=0}(B,C,D) + A F_{A=1}(B,C,D)。$$\n计算余子式（cofactors）。\n\n1) 对于 $A=1$，在 $8$ 到 $15$ 范围内的最小项集合为 $\\{9,11,13,15\\}$，这些项恰好是 $D=1$ 的项（与 $B,C$ 无关）。因此\n$$F_{A=1}(B,C,D)=D。$$\n\n2) 对于 $A=0$，在 $0$ 到 $7$ 范围内的最小项集合为 $\\{0,1,4,6\\}$。明确写出这些项并进行因式分解：\n$$F_{A=0} = B' C' D' + B' C' D + B C' D' + B C D'$$\n$$= B' C'(D'+D) + B D'(C'+C) = B' C' + B D'.$$\n\n因此，全局展开式为\n$$F = A'(B' C' + B D') + A D。$$\n\n现在，仅使用2选1-MUX单元（其功能为 $Y = S' \\cdot I_{0} + S \\cdot I_{1}$）来综合该函数，可用的主输入为 $A,B,C,D$ 以及常数 $0,1$。\n\n- 顶层：使用一个MUX，选择输入为 $S=A$，因此\n  $$Y = A' \\cdot I_{0} + A \\cdot I_{1},$$\n  其中选择 $I_{0} = B' C' + B D'$ 和 $I_{1} = D$。这使用1个MUX，并且 $I_{1}$ 直接连接到 $D$。\n\n- 实现 $I_{0} = H(B,C,D) = B' C' + B D'$，通过对 $B$ 进行香non展开：\n  $$H = B' \\cdot C' + B \\cdot D'.$$\n  这正好是一个2选1 MUX，其选择输入为 $S=B$，数据输入为 $I_{0}=C'$，$I_{1}=D'$。这使用1个MUX，前提是我们有可用的 $C'$ 和 $D'$。\n\n- 使用配置为反相器的2选1 MUX单元生成 $C'$ 和 $D'$：\n  $$C' = C' \\cdot 1 + C \\cdot 0 \\quad \\text{via MUX with } S=C,\\; I_{0}=1,\\; I_{1}=0,$$\n  $$D' = D' \\cdot 1 + D \\cdot 0 \\quad \\text{via MUX with } S=D,\\; I_{0}=1,\\; I_{1}=0.$$\n  每个都需要使用1个MUX。\n\n计算单元数量：\n- 1个MUX用于顶层对 $A$ 的展开，\n- 1个MUX用于以 $B$ 为选择输入来组合 $C'$ 和 $D'$，\n- 1个MUX用于生成 $C'$，\n- 1个MUX用于生成 $D'$。\n\n总共使用的MUX单元数：$4$。\n\n最小性论证：子函数 $H(B,C,D)=B' C' + B D'$ 必须在某处被实现，因为 $F_{A=1}=D$ 而 $F_{A=0}=H$。对于 $H$，无论为单个2选1 MUX展开选择哪个变量，其数据函数都必然需要两个求反后的文字：\n- 如果 $S=B$，则 $I_{0}=C'$ 和 $I_{1}=D'$。\n- 如果 $S=C$，则 $I_{0}=B' + D'$ 和 $I_{1}=B D'$。\n- 如果 $S=D$，则 $I_{0}=B + C'$ 和 $I_{1}=B' C'$。\n在所有情况下，都出现了两个不同的求反后的主输入。由于只有 $A,B,C,D,0,1$ 是直接可用的，每个求反后的文字至少需要一个用作反相器的2选1 MUX。因此，$H$ 至少需要2个MUX用于这些求反操作，再加上至少1个MUX来选择其两个数据函数，所以实现 $H$ 总共至少需要3个MUX。因为 $F$ 还需要根据 $A$ 来组合 $F_{A=0}$ 和 $F_{A=1}$（它们不相同，因为 $F_{A=1}=D$ 而 $F_{A=0}=H$），所以需要一个额外的顶层MUX。因此，任何实现都需要至少 $3+1=4$ 个MUX。所构建的网络达到了这个下限，所以最小数量是 $4$。", "answer": "$$\\boxed{4}$$", "id": "1383927"}]}