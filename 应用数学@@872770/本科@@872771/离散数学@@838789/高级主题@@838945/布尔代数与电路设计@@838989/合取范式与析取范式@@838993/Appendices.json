{"hands_on_practices": [{"introduction": "在实际系统中，逻辑公式常用于描述和控制复杂行为。当系统组件发生故障时，例如传感器卡住，原始的逻辑可能需要被简化以适应新的情况。这个练习模拟了这样一个场景，要求您在一个给定的合取范式（CNF）表达式中固定一个变量的值，然后将其化简并转换为析取范式（DNF），这在系统诊断和优化中是一项基本技能。[@problem_id:1358952]", "problem": "一个用于工业过程的逻辑控制器使用命题公式 $\\Phi$ 来确定系统是否处于“稳定”状态。系统是稳定的当且仅当 $\\Phi$ 的值为真。该公式以合取范式 (Conjunctive Normal Form, CNF) 表示，涉及由命题变量 $p, q, r,$ 和 $s$ 代表的四个输入传感器。该公式为：\n\n$$ \\Phi = (p \\lor \\neg q \\lor r) \\land (\\neg p \\lor q) \\land (q \\lor \\neg r \\lor s) \\land (\\neg q \\lor \\neg s) $$\n\n在一次例行诊断中，发现对应于 $q$ 的传感器出现故障并永久卡住，总是产生“假”信号。你的任务是在此故障下，找出系统保持稳定的新的、简化的逻辑条件。将这个简化的条件用析取范式 (Disjunctive Normal Form, DNF) 表示。\n\n以下哪个表达式代表了用 DNF 表示的简化条件？\n\nA. $p \\lor (\\neg r \\land s)$\n\nB. $\\neg p \\land (\\neg r \\lor s)$\n\nC. $(\\neg p \\land \\neg r) \\lor (\\neg p \\land s)$\n\nD. $(p \\land r) \\lor (p \\land \\neg s)$\n\nE. $(p \\land \\neg s) \\lor (r \\land \\neg s)$", "solution": "题目要求在变量 $q$ 恒为假的条件下，简化给定的命题公式 $\\Phi$，并将结果表示为析取范式 (DNF)。原始公式为：\n$$ \\Phi = (p \\lor \\neg q \\lor r) \\land (\\neg p \\lor q) \\land (q \\lor \\neg r \\lor s) \\land (\\neg q \\lor \\neg s) $$\n\n首先，我们代入 $q$ 的已知真值。给定条件是 $q$ 为假，我们可以表示为 $q \\equiv F$。因此，它的否定 $\\neg q$ 为真，所以 $\\neg q \\equiv T$。\n\n让我们将这些值代入公式 $\\Phi$：\n$$ \\Phi' = (p \\lor T \\lor r) \\land (\\neg p \\lor F) \\land (F \\lor \\neg r \\lor s) \\land (T \\lor \\neg s) $$\n\n现在，我们使用命题逻辑的恒等律来简化每个子句。相关的法则是析取的零律 ($X \\lor T \\equiv T$) 和析取的恒等律 ($X \\lor F \\equiv X$)。\n\n让我们评估四个子句中的每一个：\n1. 第一个子句是 $(p \\lor T \\lor r)$。由于其中一个析取项为真，整个子句简化为真。\n   $$ (p \\lor T \\lor r) \\equiv T $$\n2. 第二个子句是 $(\\neg p \\lor F)$。使用恒等律，它简化为 $\\neg p$。\n   $$ (\\neg p \\lor F) \\equiv \\neg p $$\n3. 第三个子句是 $(F \\lor \\neg r \\lor s)$。使用恒等律，它简化为 $(\\neg r \\lor s)$。\n   $$ (F \\lor \\neg r \\lor s) \\equiv (\\neg r \\lor s) $$\n4. 第四个子句是 $(T \\lor \\neg s)$。由于其中一个析取项为真，整个子句简化为真。\n   $$ (T \\lor \\neg s) \\equiv T $$\n\n现在我们将这些简化的子句代回 $\\Phi'$ 的表达式中：\n$$ \\Phi' = T \\land (\\neg p) \\land (\\neg r \\lor s) \\land T $$\n\n接下来，我们使用合取的恒等律 ($X \\land T \\equiv X$) 来简化整个表达式：\n$$ \\Phi' = \\neg p \\land (\\neg r \\lor s) $$\n\n这个表达式是 $\\Phi$ 在合取范式 (CNF) 下的简化形式。然而，问题要求答案为析取范式 (DNF)。为了将此表达式转换为 DNF，我们应用分配律 $A \\land (B \\lor C) \\equiv (A \\land B) \\lor (A \\land C)$。\n\n在我们的例子中，$A = \\neg p$，$B = \\neg r$，并且 $C = s$。应用分配律得到：\n$$ \\Phi' = (\\neg p \\land \\neg r) \\lor (\\neg p \\land s) $$\n\n这是 DNF 形式的最终简化表达式。我们现在将这个结果与给定的选项进行比较。\n\nA. $p \\lor (\\neg r \\land s)$\n\nB. $\\neg p \\land (\\neg r \\lor s)$\n\nC. $(\\neg p \\land \\neg r) \\lor (\\neg p \\land s)$\n\nD. $(p \\land r) \\lor (p \\land \\neg s)$\n\nE. $(p \\land \\neg s) \\lor (r \\land \\neg s)$\n\n我们推导出的表达式 $(\\neg p \\land \\neg r) \\lor (\\neg p \\land s)$ 与选项 C 匹配。", "answer": "$$\\boxed{C}$$", "id": "1358952"}, {"introduction": "任何布尔函数都可以用一种唯一的范式——主析取范式（PDNF）——来表示，它直接对应于函数的真值表。本练习将从一个功能性描述（奇偶校验，数据完整性的一个基本概念）出发，构建其精确的PDNF表示。这个任务有助于您深入理解函数行为与其规范逻辑形式之间的直接联系。[@problem_id:1358951]", "problem": "一个针对3位消息的简单错误检测方案基于奇偶校验。设消息的三个比特由命题变量 $p$、$q$ 和 $r$ 表示。添加第四个比特，即奇偶校验位。该系统使用“奇校验”方案，其中设置奇偶校验位以确保在最终的4比特块（原始3个比特加上奇偶校验位）中，“1”（或“真”值）的总数为奇数。\n\n让我们定义一个布尔函数 $F(p, q, r)$，它根据原始的3位消息确定该奇偶校验位的值。如果需要将奇偶校验位设置为“1”以使“1”的总数为奇数，则函数 $F(p, q, r)$ 必须为“真”（或1）；否则为“假”（或0）。为了使用特定类型的数字硬件实现此逻辑函数，必须将其转换为其完整的主析取范式（PDNF），也称为最小项展开式之和。\n\n文字（literal）定义为命题变量或其否定（例如，$p$ 或 $\\neg p$）。计算函数 $F(p, q, r)$ 的完整主析取范式中出现的文字总数。", "solution": "在奇校验方案下，四比特块 $(p,q,r,F)$ 必须有奇数个1，这可以通过异或（XOR）条件来表示：\n$$\np \\oplus q \\oplus r \\oplus F = 1\n$$\n使用属性 $x \\oplus 1 = \\neg x$ 来求解 $F$ 可得：\n$$\nF = 1 \\oplus p \\oplus q \\oplus r = \\neg(p \\oplus q \\oplus r)\n$$\n因此，当 $p,q,r$ 包含偶数个1时，$F(p,q,r)=1$。对于三个变量，包含偶数个1的输入赋值是那些汉明权重（Hamming weight）为0或2的赋值。这类赋值的数量是：\n$$\n\\binom{3}{0}+\\binom{3}{2}=1+3=4\n$$\n完整的主析取范式（最小项之和）为每个这样的赋值包含一个最小项，并且每个最小项恰好包含3个文字（$p,q,r$ 中的每一个，可以是原变量或其否定形式）。因此，在完整的主析取范式中，文字出现的总数是：\n$$\n4 \\times 3 = 12\n$$\n为完整起见，其主析取范式为：\n$$\nF = (\\neg p \\land \\neg q \\land \\neg r)\\ \\lor\\ (\\neg p \\land q \\land r)\\ \\lor\\ (p \\land \\neg q \\land r)\\ \\lor\\ (p \\land q \\land \\neg r)\n$$\n它确实包含4个最小项，每个最小项有3个文字，总计12个文字。", "answer": "$$\\boxed{12}$$", "id": "1358951"}, {"introduction": "除了表示逻辑，我们还经常需要分析它，一个核心问题是：有多少种输入组合能使一个给定的公式为真？这个问题对于评估系统状态或算法复杂度至关重要。本练习将使用容斥原理这一强大的组合数学工具，来精确计算一个DNF公式的满足指派总数，揭示逻辑学与组合数学之间的深刻联系。[@problem_id:1358938]", "problem": "考虑一个布尔公式 $\\Phi$，它定义在一个包含五个布尔变量 $\\{x_1, x_2, x_3, x_4, x_5\\}$ 的集合上。一个赋值是一个将每个变量映射到“真”(1)或“假”(0)的函数。$\\Phi$ 的一个满足性赋值是使整个公式 $\\Phi$ 的值为“真”的赋值。\n\n公式 $\\Phi$ 以析取范式 (DNF) 的形式给出，它是一个或多个子句的“或”运算，其中每个子句是一个或多个文字（一个变量或其否定）的“与”运算。该公式为：\n$$ \\Phi = (x_1 \\land x_2) \\lor (\\neg x_2 \\land x_3) \\lor (x_3 \\land x_4 \\land \\neg x_5) \\lor (x_1 \\land x_5) $$\n\n确定公式 $\\Phi$ 的不同满足性赋值的总数。", "solution": "设 $U$ 为 $\\{x_{1},x_{2},x_{3},x_{4},x_{5}\\}$ 的所有赋值的集合，则 $|U|=2^{5}$。定义与 DNF 子句相对应的子句集：\n- $A=\\{u\\in U:\\, x_{1}\\land x_{2}\\text{ 在 }u\\text{ 中为真}\\}$，\n- $B=\\{u\\in U:\\, \\neg x_{2}\\land x_{3}\\text{ 在 }u\\text{ 中为真}\\}$，\n- $C=\\{u\\in U:\\, x_{3}\\land x_{4}\\land \\neg x_{5}\\text{ 在 }u\\text{ 中为真}\\}$，\n- $D=\\{u\\in U:\\, x_{1}\\land x_{5}\\text{ 在 }u\\text{ 中为真}\\}$。\n\n我们要求解 $|A\\cup B\\cup C\\cup D|$，即满足性赋值的数量。根据容斥原理，\n$$\n|A\\cup B\\cup C\\cup D|\n= \\sum |A_{i}| - \\sum |A_{i}\\cap A_{j}| + \\sum |A_{i}\\cap A_{j}\\cap A_{k}| - |A\\cap B\\cap C\\cap D|\n$$\n\n通过固定每个子句中的文字并让其余变量自由取值，计算单个集合的大小：\n$$\n|A|=2^{3}=8 \\quad (x_{1}=1,x_{2}=1),\\qquad\n|B|=2^{3}=8 \\quad (x_{2}=0,x_{3}=1),\n$$\n$$\n|C|=2^{2}=4 \\quad (x_{3}=1,x_{4}=1,x_{5}=0),\\qquad\n|D|=2^{3}=8 \\quad (x_{1}=1,x_{5}=1).\n$$\n\n计算两两相交的集合大小：\n- $A\\cap B$：同时要求 $x_{2}=1$ 和 $x_{2}=0$，因此为空集，所以 $|A\\cap B|=0$。\n- $A\\cap C$：将 $x_{1}=1,x_{2}=1$ 与 $x_{3}=1,x_{4}=1,x_{5}=0$ 结合，产生一个确切的赋值，所以 $|A\\cap C|=1$。\n- $A\\cap D$：将 $x_{1}=1,x_{2}=1$ 与 $x_{1}=1,x_{5}=1$ 结合，$(x_{3},x_{4})$ 自由取值，所以 $|A\\cap D|=2^{2}=4$。\n- $B\\cap C$：将 $x_{2}=0,x_{3}=1$ 与 $x_{3}=1,x_{4}=1,x_{5}=0$ 结合，$x_{1}$ 自由取值，所以 $|B\\cap C|=2$。\n- $B\\cap D$：将 $x_{2}=0,x_{3}=1$ 与 $x_{1}=1,x_{5}=1$ 结合，$x_{4}$ 自由取值，所以 $|B\\cap D|=2$。\n- $C\\cap D$：同时要求 $x_{5}=0$ 和 $x_{5}=1$，因此为空集，所以 $|C\\cap D|=0$。\n\n因此\n$$\n\\sum |A_{i}| = 8+8+4+8=28,\\qquad\n\\sum |A_{i}\\cap A_{j}| = 0+1+4+2+2+0=9.\n$$\n\n三个集合相交的大小：\n- 任何包含 $A\\cap B$ 的三集合交集都为空，因为 $A\\cap B=\\varnothing$。\n- $A\\cap C\\cap D$ 为空，因为 $A\\cap C$ 固定 $x_{5}=0$，而 $D$ 要求 $x_{5}=1$。\n- $B\\cap C\\cap D$ 为空，因为 $B\\cap C$ 固定 $x_{5}=0$，而 $D$ 要求 $x_{5}=1$。\n因此 $\\sum |A_{i}\\cap A_{j}\\cap A_{k}|=0$ 且 $|A\\cap B\\cap C\\cap D|=0$。\n\n所以，\n$$\n|A\\cup B\\cup C\\cup D|=28-9+0-0=19\n$$\n这就是 $\\Phi$ 的满足性赋值的总数。", "answer": "$$\\boxed{19}$$", "id": "1358938"}]}