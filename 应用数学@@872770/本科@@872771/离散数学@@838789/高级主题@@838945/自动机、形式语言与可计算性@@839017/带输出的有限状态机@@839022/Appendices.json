{"hands_on_practices": [{"introduction": "理解有限状态机如何处理信息是掌握它们的第一步。本练习提供了一个动手实践的机会，让您追踪一个米利机 (Mealy machine) 的行为，您将为一个给定的输入字符串手动模拟其逐步的状态转换和输出。这项基础练习旨在强化米利机的核心概念：其输出由当前状态和当前输入共同决定。[@problem_id:1370727]", "problem": "米利机（Mealy machine）是一种有限状态机，其输出由当前状态和当前输入共同决定。考虑一个由以下部分定义的米利机 $M$：\n- 状态集 $S = \\{s_0, s_1, s_2, s_3\\}$，其中 $s_0$ 是初始状态。\n- 输入字母表 $\\Sigma = \\{0, 1\\}$。\n- 输出字母表 $\\Gamma = \\{a, b, c\\}$。\n\n该机器的行为由其转移函数 $g: S \\times \\Sigma \\to S$ 和输出函数 $h: S \\times \\Sigma \\to \\Gamma$ 描述。组合的转移和输出表如下所示。每个条目都是一个（下一个状态，输出）对。\n\n| 当前状态 | 输入 0             | 输入 1             |\n|:--------------|:--------------------|:--------------------|\n| $s_0$         | ($s_2$, $a$)        | ($s_1$, $b$)        |\n| $s_1$         | ($s_0$, $c$)        | ($s_3$, $a$)        |\n| $s_2$         | ($s_2$, $b$)        | ($s_0$, $c$)        |\n| $s_3$         | ($s_1$, $a$)        | ($s_3$, $b$)        |\n\n给定输入串 `1011`，确定机器 $M$ 产生的输出串。您的答案应为没有任何空格或分隔符连接在一起的输出字符序列。", "solution": "我们从初始状态 $s_{0}$ 开始，逐个符号地处理输入串。对于一个米利机，在每个输入符号 $x$ 上，我们产生一个输出 $h(\\text{state}, x)$ 并转移到下一个状态 $g(\\text{state}, x)$。\n\n设输入为 $x_{1}x_{2}x_{3}x_{4} = 1011$。初始化 $q_{0} = s_{0}$。\n\n- 对于 $x_{1} = 1$：从表中 $(s_{0}, 1)$ 处，我们得到 $(g(s_{0}, 1), h(s_{0}, 1)) = (s_{1}, b)$。因此 $q_{1} = s_{1}$ 且 $y_{1} = b$。\n- 对于 $x_{2} = 0$：从表中 $(s_{1}, 0)$ 处，我们得到 $(g(s_{1}, 0), h(s_{1}, 0)) = (s_{0}, c)$。因此 $q_{2} = s_{0}$ 且 $y_{2} = c$。\n- 对于 $x_{3} = 1$：从表中 $(s_{0}, 1)$ 处，我们得到 $(g(s_{0}, 1), h(s_{0}, 1)) = (s_{1}, b)$。因此 $q_{3} = s_{1}$ 且 $y_{3} = b$。\n- 对于 $x_{4} = 1$：从表中 $(s_{1}, 1)$ 处，我们得到 $(g(s_{1}, 1), h(s_{1}, 1)) = (s_{3}, a)$。因此 $q_{4} = s_{3}$ 且 $y_{4} = a$。\n\n按顺序连接输出得到 $y_{1}y_{2}y_{3}y_{4} = bcba$。", "answer": "$$\\boxed{bcba}$$", "id": "1370727"}, {"introduction": "有限状态机是精确的模型，但与任何设计一样，它们也可能包含缺陷。本练习将从简单的模拟转向调试，挑战您去寻找一个反例来揭示一个序列检测器中的错误。通过找出导致不正确输出的最短输入字符串，您将对机器的状态记忆如何可能不足或被误用建立更深刻的直觉。[@problem_id:1370700]", "problem": "Mealy机是一种有限状态机，其输出取决于当前状态和当前输入。一位工程师设计了一台Mealy机，旨在用作一个重叠序列检测器。该机器应处理一个二进制输入字符串，并且当且仅当最近接收的三个比特形成序列 `010` 时输出 `1`。对于所有其他情况，它应输出 `0`。\n\n该机器由状态集 $S = \\{S_0, S_1, S_2\\}$、输入字母表 $\\Sigma = \\{0, 1\\}$、输出字母表 $\\Gamma = \\{0, 1\\}$ 和初始状态 $S_0$ 定义。机器的行为由以下转移和输出表指定：\n\n| 当前状态 | 输入 | 下一状态 | 输出 |\n| :---: | :---: | :---: | :---: |\n| $S_0$ | 0 | $S_1$ | 0 |\n| $S_0$ | 1 | $S_0$ | 0 |\n| $S_1$ | 0 | $S_1$ | 0 |\n| $S_1$ | 1 | $S_2$ | 0 |\n| $S_2$ | 0 | $S_0$ | 1 |\n| $S_2$ | 1 | $S_0$ | 0 |\n\n然而，这个设计存在一个缺陷。该机器并不总是根据其规范产生正确的输出。找出可能的最短长度的二进制输入字符串，使得该机器的输出字符串与正确指定的输出字符串不同。对于输入字符串 $w = w_1w_2...w_k$，正确的输出是一个输出字符串 $z = z_1z_2...z_k$，其中当 $w_{i-2}w_{i-1}w_i = 010$ 时 $z_i=1$，否则 $z_i=0$。对于 $i  3$，输出 $z_i$ 总是 $0$。", "solution": "设 $w = b_{1}b_{2}\\dots b_{k}$ 为输入，机器输出为 $y_{1}y_{2}\\dots y_{k}$，而根据规范的正确输出为 $z_{1}z_{2}\\dots z_{k}$，其中当且仅当 $i\\geq 3$ 且 $b_{i-2}b_{i-1}b_{i}=010$ 时，$z_{i}=1$，否则 $z_{i}=0$（特别是 $z_{1}=z_{2}=0$）。\n\n我们以初始状态 $S_{0}$ 模拟这台Mealy机。用 $s_{i}$ 表示读取 $b_{i}$ 之前的状态；因此 $s_{1}=S_{0}$，在状态 $s_{i}$ 读取 $b_{i}$ 时，会产生输出 $y_{i}$，并且机器按照表格规定转移到 $s_{i+1}$。\n\n步骤1：对于 $i=1$ 和 $i=2$，表格显示从 $S_{0}$ 和 $S_{1}$ 出发的所有输出都为 $0$，并且不可能在两步内从 $S_{0}$ 到达 $S_{2}$。因此对于所有输入，$y_{1}=y_{2}=0=z_{1}=z_{2}$；在 $i=1,2$ 时不可能出现不匹配。\n\n步骤2：对于 $i=3$，机器仅在转移 $(S_{2},0)\\to S_{0}$ 时输出 $1$。从 $S_{0}$ 出发，经过两个输入后状态为 $s_{3}=S_{2}$ 的唯一方法是读取 $b_{1}b_{2}=01$ （因为 $S_{0}\\xrightarrow{0}S_{1}\\xrightarrow{1}S_{2}$）。因此，当且仅当 $b_{1}b_{2}b_{3}=010$ 时，$y_{3}=1$，这与规范中 $z_{3}=1$ 的情况完全匹配，其他情况下为 $0$。因此在 $i=3$ 时不可能出现不匹配。\n\n步骤3：对于 $i=4$，规范要求当且仅当 $b_{2}b_{3}b_{4}=010$ 时 $z_{4}=1$，即输入形式为 $x010$，其中 $x\\in\\{0,1\\}$。机器恰好在 $s_{4}=S_{2}$ 且 $b_{4}=0$ 时输出 $y_{4}=1$。计算所有长度为3的前缀对应的 $s_{4}$：\n- 如果 $b_{1}b_{2}b_{3}\\in\\{001,101\\}$，则 $s_{4}=S_{2}$；否则 $s_{4}\\in\\{S_{0},S_{1}\\}$。\n因此，$y_{4}=1$ 恰好在输入为 $0010$ 和 $1010$ 时出现，而这正是 $b_{2}b_{3}b_{4}=010$ 的输入。对于所有其他输入，$y_{4}=0$，并且在这些情况下 $z_{4}=0$。因此在 $i=4$ 时不可能出现不匹配。\n\n步骤4：考虑 $i=5$。取 $w=01010$。通过滑动长度为3的窗口计算正确的输出：\n- $z_{1}=0$, $z_{2}=0$,\n- $z_{3}=1$ 因为 $b_{1}b_{2}b_{3}=010$,\n- $z_{4}=0$ 因为 $b_{2}b_{3}b_{4}=101$,\n- $z_{5}=1$ 因为 $b_{3}b_{4}b_{5}=010$。\n因此 $z=00101$。\n\n在输入 $w=01010$ 上模拟该机器：\n- $i=1$：$s_{1}=S_{0}$，输入 $0$ 得到 $y_{1}=0$，$s_{2}=S_{1}$。\n- $i=2$：$s_{2}=S_{1}$，输入 $1$ 得到 $y_{2}=0$，$s_{3}=S_{2}$。\n- $i=3$：$s_{3}=S_{2}$，输入 $0$ 得到 $y_{3}=1$，$s_{4}=S_{0}$（注意重置到 $S_{0}$）。\n- $i=4$：$s_{4}=S_{0}$，输入 $1$ 得到 $y_{4}=0$，$s_{5}=S_{0}$。\n- $i=5$：$s_{5}=S_{0}$，输入 $0$ 得到 $y_{5}=0$，$s_{6}=S_{1}$。\n因此 $y=00100$。\n\n比较可知，$y_{5}=0$ 而 $z_{5}=1$，所以在位置 $5$ 存在不匹配。根据上面对 $i\\leq 4$ 的论证，对于任何更短的输入都不可能出现不匹配。因此，揭示该缺陷的最短输入字符串是 $01010$。", "answer": "$$\\boxed{01010}$$", "id": "1370700"}, {"introduction": "尽管米利机和摩尔机 (Moore machine) 通常可以解决相同的问题，但它们的实现方式在结构上存在根本差异。本问题要求您设计这两种类型的机器来识别一个特定的模式，从而直接比较它们的状态需求和输出时序。这个练习对于理解两种模型之间的权衡以及领会它们各自独特的设计理念至关重要。[@problem_id:1370718]", "problem": "考虑设计两种类型的有限状态机——Mealy机和Moore机，用于分析输入字母表 $\\Sigma = \\{a, b\\}$ 上的字符串。这些机器应从字母表 $\\Delta = \\{0, 1\\}$ 中产生输出。要求的行为如下：当且仅当到目前为止处理的输入字符串中 'a' 的总数是 3 的倍数时，机器必须输出 1。否则，输出必须为 0。请注意，零被认为是 3 的倍数。\n\n**Moore机**是一种有限状态机，其输出仅由当前状态决定。在处理任何输入字符之前，机器会产生一个与其起始状态相对应的初始输出。对于长度为 $k$ 的输入字符串，它产生长度为 $k+1$ 的输出字符串。\n\n**Mealy机**是一种有限状态机，其输出由当前状态和当前输入符号共同决定。它为每个处理的输入符号产生一个输出符号。对于长度为 $k$ 的输入字符串，它产生长度为 $k$ 的输出字符串。\n\n设 $N_{Moore}$ 是正确实现此逻辑的Moore机所需的最小状态数，设 $N_{Mealy}$ 是相应Mealy机的最小状态数。\n\n对于满足此要求的最小机器，以下哪个陈述是正确的？\n\nA. $N_{Moore} = N_{Mealy}$，且最小Mealy机对于输入字符串 `ababa` 的输出为 `00001`。\n\nB. $N_{Moore} > N_{Mealy}$，且最小Mealy机对于输入字符串 `ababa` 的输出为 `00001`。\n\nC. $N_{Moore} = N_{Mealy}$，且最小Mealy机对于输入字符串 `ababa` 的输出为 `100001`。\n\nD. $N_{Mealy} > N_{Moore}$，且最小Moore机对于输入字符串 `ababa` 的输出为 `100001`。\n\nE. $N_{Moore} = N_{Mealy}$，且最小Mealy机对于输入字符串 `ababa` 的输出为 `00101`。", "solution": "我们必须在字母表 $\\Sigma=\\{a,b\\}$ 上实现谓词“到目前为止看到的符号 $a$ 的出现次数模 $3$ 同余于 $0$”，输出在 $\\Delta=\\{0,1\\}$ 中。设 $a$ 计数模 $3$ 的余数记为 $r \\in \\{0,1,2\\}$。\n\n首先，确定 $N_{Moore}$。在Moore机中，输出仅取决于当前状态，且机器必须在 $r=0$ 时精确输出 $1$，否则输出 $0$。为了正确更新 $r$：\n- 输入 $a$ 时，余数必须变为 $r \\mapsto r+1 \\pmod{3}$。\n- 输入 $b$ 时，余数必须保持为 $r$。\n\n这三个不同的余数必须由机器的状态来区分，以确保未来的行为正确，因为对于每一对不同的余数 $r \\neq s$，都存在一个后续输入（例如，一串 $a$）会在某个位置导致不同的输出；因此，相应的状态是可区分的，不能合并。因此，一个最小的Moore机恰好需要三个状态，每个剩余类一个，所以 $N_{Moore}=3$。一个典型的最小Moore机构造使用状态 $q_{0},q_{1},q_{2}$，其输出分别为 $1,0,0$，转移为 $q_{i}\\xrightarrow{a}q_{i+1 \\bmod 3}$ 和 $q_{i}\\xrightarrow{b}q_{i}$。\n\n其次，确定 $N_{Mealy}$。在Mealy机中，每一步的输出必须指示在消耗当前输入符号后，$a$ 的数量的余数是否为 $0 \\pmod{3}$。考虑在一元子字母表 $\\{a\\}$ 上的行为：对于输入 $a^{1},a^{2},a^{3},\\dots$，输出序列必须是 $0,0,1,0,0,1,\\dots$，周期恰好为 $3$。任何读取单个符号的无限字符串的确定性有限状态转换器都具有最终周期性的状态（并因此有最终周期性的输出）行为，其周期最多为状态数。从一开始就实现周期恰好为 $3$ 需要至少三个状态。因此 $N_{Mealy}\\geq 3$。一个三状态的Mealy机就足够了，方法是复用相同的剩余类作为状态 $r=0,1,2$，并如下定义转移上的输出：\n- 在状态 $r$ 输入 $a$ 时，当且仅当 $r=2$ 时输出 $1$（因为此时 $r+1 \\equiv 0 \\pmod{3}$），否则输出 $0$，并转移到 $r+1 \\pmod{3}$。\n- 在状态 $r$ 输入 $b$ 时，当且仅当 $r=0$ 时输出 $1$（因为 $r$ 保持不变），否则输出 $0$，并停留在 $r$。\n因此 $N_{Mealy}=3$。\n\n所以 $N_{Moore}=N_{Mealy}$。\n\n现在计算最小Mealy机对输入字符串“ababa”的输出。从状态 $r=0$ 开始（到目前为止有零个 $a$）。\n- 读入 $a$：$r=0 \\to 1$，输出 $0$（因为 $1 \\not\\equiv 0 \\pmod{3}$）。\n- 读入 $b$：$r=1 \\to 1$，输出 $0$（因为 $1 \\not\\equiv 0 \\pmod{3}$）。\n- 读入 $a$：$r=1 \\to 2$，输出 $0$（因为 $2 \\not\\equiv 0 \\pmod{3}$）。\n- 读入 $b$：$r=2 \\to 2$，输出 $0$（因为 $2 \\not\\equiv 0 \\pmod{3}$）。\n- 读入 $a$：$r=2 \\to 0$，输出 $1$（因为 $0 \\equiv 0 \\pmod{3}$）。\n因此Mealy机的输出是长度为5的字符串“00001”。\n\n为了完整起见，Moore机对“ababa”的输出将是长度为6的字符串“100001”，在消耗任何输入之前有初始输出 $1$，然后余数的演变与上述相同。\n\n综合这些结果，选项中正确的陈述是：$N_{Moore}=N_{Mealy}$ 且最小Mealy机对“ababa”的输出是“00001”，即选项A。", "answer": "$$\\boxed{A}$$", "id": "1370718"}]}