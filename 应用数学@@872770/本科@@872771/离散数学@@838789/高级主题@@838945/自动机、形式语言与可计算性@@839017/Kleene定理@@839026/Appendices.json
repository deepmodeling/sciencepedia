{"hands_on_practices": [{"introduction": "在我们开始构建自动机之前，理解正则表达式本身的“代数”性质至关重要。本练习 [@problem_id:1379644] 聚焦于空语言（$\\emptyset$）在串联运算中的作用，这是一个基本但常常被忽视的概念。掌握这些代数性质可以帮助你简化复杂的表达式，并能更深刻地理解语言的本质。", "problem": "在形式语言理论中，正则表达式是定义一个字符串集合（称为一种语言）的字符序列。考虑正则表达式 $R = (a \\cup b)^* \\emptyset a$。在此语境中，`a` 和 `b` 是字母表中的符号，$\\cup$ 表示并集运算，`*` 是克林星算子，并列表示语言的连接，而 $\\emptyset$ 代表空语言（不包含任何字符串的集合）。\n\n下列哪个选项正确描述了由该正则表达式生成的语言 $L(R)$？\n\nA. 只包含空字符串的语言，表示为 $\\{\\epsilon\\}$。\nB. 所有由 `a` 和 `b` 组成并以符号 `a` 结尾的字符串的语言。\nC. 空语言，不包含任何字符串。\nD. 只包含单个字符串 `a` 的语言。\nE. 由 $R$ 描述的语言不是正则语言。", "solution": "设字母表为 $\\Sigma=\\{a,b\\}$。将每个部分解释为一种语言：\n- $L\\big((a \\cup b)^{*}\\big)=\\Sigma^{*}$，即 $\\Sigma$ 上所有有限字符串的集合，包括 $\\epsilon$。\n- $L(\\emptyset)=\\emptyset$，即空语言。\n- $L(a)=\\{a\\}$。\n\n语言的连接定义为 $XY=\\{xy: x\\in X,\\ y\\in Y\\}$，它满足结合律以及与空语言的零化性质：对于任何语言 $X$，都有 $X\\emptyset=\\emptyset$ 和 $\\emptyset X=\\emptyset$。\n\n利用这些事实和连接的结合律，计算\n$$\nL(R)=L\\big((a \\cup b)^{*}\\emptyset a\\big)=L\\big((a \\cup b)^{*}\\big)\\,L(\\emptyset)\\,L(a)=\\Sigma^{*}\\,\\emptyset\\,\\{a\\}。\n$$\n根据零化性质，\n$$\n\\Sigma^{*}\\,\\emptyset=\\emptyset,\n$$\n所以\n$$\nL(R)=\\emptyset\\,\\{a\\}=\\emptyset。\n$$\n因此，由 $R$ 生成的语言是空语言。这对应于选项 C。", "answer": "$$\\boxed{C}$$", "id": "1379644"}, {"introduction": "克林定理的证明是构造性的，这意味着我们可以通过明确的算法将正则表达式转换为等价的有限自动机。本练习 [@problem_id:1379658] 将引导你实践其中一个核心构造步骤：串联。你将学习如何通过引入 $\\epsilon$-转移，将两个独立的 NFA 连接起来，以识别它们所表示语言的串联。", "problem": "在形式语言理论中，Kleene 定理的一个关键结论是，任何由正则表达式表示的语言都可以被一个非确定性有限自动机 (NFA) 接受。这通常使用构造性算法来证明。考虑字母表 $\\Sigma = \\{a, b\\}$ 上的两个正则语言 $L_1$ 和 $L_2$。\n\n语言 $L_1$ 被 NFA $N_1 = (Q_1, \\Sigma, \\delta_1, q_{0,1}, F_1)$ 接受，其中：\n- $Q_1 = \\{s_0, s_1\\}$ 是状态集合。\n- $q_{0,1} = s_0$ 是起始状态。\n- $F_1 = \\{s_1\\}$ 是终止状态集合。\n- 转移函数 $\\delta_1$ 定义如下：$\\delta_1(s_0, a) = \\{s_1\\}$，$\\delta_1(s_1, a) = \\{s_1\\}$，以及 $\\delta_1(s_1, b) = \\{s_1\\}$。所有其他转移都指向空集。\n\n语言 $L_2$ 被 NFA $N_2 = (Q_2, \\Sigma, \\delta_2, q_{0,2}, F_2)$ 接受，其中：\n- $Q_2 = \\{t_0, t_1\\}$ 是状态集合。\n- $q_{0,2} = t_0$ 是起始状态。\n- $F_2 = \\{t_1\\}$ 是终止状态集合。\n- 转移函数 $\\delta_2$ 定义如下：$\\delta_2(t_0, b) = \\{t_1\\}$。所有其他转移都指向空集。\n\n令 $L = L_1 L_2$ 为这两个语言的连接。我们使用标准的教科书上的连接构造方法，构建一个新的 NFA $N=(Q, \\Sigma, \\delta, q_0, F)$ 来接受 $L$：\n1. 状态集合为 $Q = Q_1 \\cup Q_2$。\n2. 起始状态为 $q_0 = q_{0,1}$。\n3. 终止状态集合为 $F = F_2$。\n4. 转移函数 $\\delta$ 包含 $\\delta_1$ 和 $\\delta_2$ 中的所有转移，外加从 $F_1$ 中每个状态到状态 $q_{0,2}$ 的一个新的$\\epsilon$-转移。\n\n根据这个特定的构造，以下关于得到的 NFA $N$ 的陈述中，哪一个是正确的？\n\nA. 构造出的 NFA $N$ 有 3 个状态和 1 个终止状态。\nB. 构造出的 NFA $N$ 有 4 个状态和 2 个终止状态。\nC. 构造出的 NFA $N$ 有 4 个状态并且恰好包含一个 $\\epsilon$-转移。\nD. 构造出的 NFA $N$ 有 4 个状态并且不包含 $\\epsilon$-转移。\nE. 构造出的 NFA $N$ 是一个确定性有限自动机 (DFA)。", "solution": "根据 NFA 的标准连接构造方法，给定 $N_{1}=(Q_{1},\\Sigma,\\delta_{1},q_{0,1},F_{1})$ 和 $N_{2}=(Q_{2},\\Sigma,\\delta_{2},q_{0,2},F_{2})$，我们定义 $N=(Q,\\Sigma,\\delta,q_{0},F)$ 如下：\n- $Q=Q_{1}\\cup Q_{2}$，\n- $q_{0}=q_{0,1}$，\n- $F=F_{2}$，\n- $\\delta$ 包含 $\\delta_{1}$ 和 $\\delta_{2}$ 的所有转移，外加对于每个 $f\\in F_{1}$，有一个从 $f$ 到 $q_{0,2}$ 的 $\\epsilon$-转移。\n\n将此方法应用于给定的 NFA：\n- $Q_{1}=\\{s_{0},s_{1}\\}$ 和 $Q_{2}=\\{t_{0},t_{1}\\}$ 是不相交的，所以 $|Q|=|Q_{1}\\cup Q_{2}|=|Q_{1}|+|Q_{2}|=2+2=4$。\n- $q_{0}=q_{0,1}=s_{0}$。\n- $F=F_{2}=\\{t_{1}\\}$，因此 $|F|=1$。\n- 增加的 $\\epsilon$-转移是从 $F_{1}$ 中的每个状态到 $q_{0,2}$。由于 $F_{1}=\\{s_{1}\\}$ 且 $q_{0,2}=t_{0}$，所以恰好只有一个增加的 $\\epsilon$-转移：$s_{1}\\xrightarrow{\\epsilon} t_{0}$。\n\n根据题目陈述，$\\delta_{1}$ 或 $\\delta_{2}$ 中不存在其他 $\\epsilon$-转移。\n\n因此，构造出的 NFA $N$ 有 $4$ 个状态，恰好一个终止状态，并且恰好包含一个 $\\epsilon$-转移。此外，$\\epsilon$-转移的存在意味着 $N$ 不是一个 DFA。\n\n评估各个选项：\n- A 是错误的（它有 $4$ 个状态，而不是 $3$ 个）。\n- B 是错误的（它有 $1$ 个终止状态，而不是 $2$ 个）。\n- C 是正确的（它有 $4$ 个状态并且恰好有一个 $\\epsilon$-转移）。\n- D 是错误的（存在一个 $\\epsilon$-转移）。\n- E 是错误的（它不是一个 DFA）。\n\n因此，正确选项是 C。", "answer": "$$\\boxed{C}$$", "id": "1379658"}, {"introduction": "在掌握了单个构造步骤后，现在是时候体验 Thompson 构造算法的递归威力了。本练习 [@problem_id:1379652] 要求你对一个嵌套的正则表达式 $(a^*)^*$ 严格地、机械地应用该算法。这个过程将清晰地展示，即使是对于一个可以被简化的表达式，构造算法也能够按部就班地生成一个正确的 NFA，从而让你深刻体会到该算法的系统性和强大功能。", "problem": "在计算理论中，Kleene 定理确立了正则表达式与有限自动机之间的等价性。该定理证明的一个关键部分是一种构造性算法，称为 Thompson 构造法，它将任意正则表达式转换为等价的带 epsilon 转移的非确定性有限自动机 (NFA-$\\epsilon$）。\n\n一个 NFA-$\\epsilon$ 由一个五元组 $(Q, \\Sigma, \\delta, q_0, F)$ 形式化定义，其中 $Q$ 是一个有限的状态集合，$\\Sigma$ 是输入字母表，$\\delta$ 是转移函数，$q_0 \\in Q$ 是起始状态，$F \\subseteq Q$ 是最终（或接受）状态的集合。\n\n考虑字母表 $\\Sigma = \\{a\\}$ 上的正则表达式 $R = (a^*)^*$.\n\n机械地将 Thompson 构造法应用于正则表达式 $R$，以生成一个等价的 NFA-$\\epsilon$。在构造之前或构造过程中，不要对正则表达式进行任何简化。\n\n确定所生成自动机的以下属性：\n1. 状态总数。\n2. 起始状态的数量。\n3. 最终状态的数量。\n4. 转移总数（包括所有 $\\epsilon$-转移和基于 $\\Sigma$ 中符号的转移）。\n\n将您的四个数值答案表示为一个单行矩阵 `(状态数, 起始状态数, 最终状态数, 转移数)`。", "solution": "问题要求我们使用 Thompson 构造法，根据正则表达式 $R = (a^*)^*$ 构建一个 NFA-$\\epsilon$，并说明其属性。我们将按照该算法的递归定义，一步步地构建这个自动机。\n\n**步骤 1：为基本表达式 `a` 构造 NFA。**\n\n设此自动机为 $N_a$。根据 Thompson 对单个符号的构造法，我们创建两个状态：一个起始状态和一个最终状态，它们之间有一条关于该符号的转移。\n- 状态，$Q_a = \\{q_0, q_1\\}$。总计：2 个状态。\n- 起始状态: $q_0$。\n- 最终状态: $q_1$。\n- 转移，$\\delta_a$: 一条从 $q_0$ 到 $q_1$ 的关于符号 'a' 的转移。\n- $N_a$ 的属性：2 个状态，1 个起始状态，1 个最终状态，1 条转移。\n\n**步骤 2：为内部表达式 `a*` 构造 NFA。**\n\n设此自动机为 $N_{a^*}$。我们对自动机 $N_a$ 应用克林闭包（Kleene star）构造法。该构造过程包括：\n1. 取自动机 $N_a$。\n2. 添加一个新的起始状态（我们称之为 $q_2$）和一个新的最终状态（我们称之为 $q_3$）。\n3. 添加四条新的 $\\epsilon$-转移：\n    - 从新起始状态 ($q_2$) 到旧起始状态 ($q_0$) 的转移。\n    - 从旧最终状态 ($q_1$) 到新最终状态 ($q_3$) 的转移。\n    - 从新起始状态 ($q_2$) 直接到新最终状态 ($q_3$) 的转移（用于处理空字符串情况）。\n    - 从旧最终状态 ($q_1$) 返回到旧起始状态 ($q_0$) 的转移（用于处理重复情况）。\n\n我们来列出所生成的自动机 $N_{a^*}$ 的属性：\n- 状态，$Q_{a^*} = \\{q_0, q_1, q_2, q_3\\}$。总计：$2 + 2 = 4$ 个状态。\n- 起始状态：新的起始状态 $q_2$。总计：1 个起始状态。\n- 最终状态：新的最终状态 $q_3$。总计：1 个最终状态。\n- 转移，$\\delta_{a^*}$: 来自 $N_a$ 的原始转移加上四条新的 $\\epsilon$-转移。\n    - 原始转移：一条 'a'-转移 ($\\delta(q_0, a) = \\{q_1\\}$)。\n    - 新增转移：四条 $\\epsilon$-转移 ($\\delta(q_2, \\epsilon) = \\{q_0, q_3\\}$ 和 $\\delta(q_1, \\epsilon) = \\{q_0, q_3\\}$)。请注意，某些表示法将它们列为四条独立的有向边。\n    - 转移总数：$1 + 4 = 5$。\n\n**步骤 3：为完整表达式 `(a*)*` 构造 NFA。**\n\n设此自动机为 $N_{(a^*)^*}$。我们现在再次应用克林闭包构造法，这次是应用于我们刚刚构建的自动机 $N_{a^*}$。\n1. 取自动机 $N_{a^*}$。\n2. 添加一个新的起始状态（我们称之为 $q_4$）和一个新的最终状态（我们称之为 $q_5$）。\n3. 添加四条新的 $\\epsilon$-转移，这些转移关联到 $N_{a^*}$ 的起始状态和最终状态（分别为 $q_2$ 和 $q_3$）：\n    - 从新起始状态 ($q_4$) 到旧起始状态 ($q_2$) 的转移。\n    - 从旧最终状态 ($q_3$) 到新最终状态 ($q_5$) 的转移。\n    - 从新起始状态 ($q_4$) 直接到新最终状态 ($q_5$) 的转移。\n    - 从旧最终状态 ($q_3$) 返回到旧起始状态 ($q_2$) 的转移。\n\n我们来列出最终自动机 $N_{(a^*)^*}$ 的属性：\n- 状态，$Q_{(a^*)^*} = \\{q_0, q_1, q_2, q_3, q_4, q_5\\}$。总计：$4 + 2 = 6$ 个状态。\n- 起始状态：新的起始状态 $q_4$。总计：1 个起始状态。\n- 最终状态：新的最终状态 $q_5$。总计：1 个最终状态。\n- 转移，$\\delta_{(a^*)^*}$: 来自 $N_{a^*}$ 的转移加上四条新的 $\\epsilon$-转移。\n    - 来自 $N_{a^*}$ 的转移：5 条。\n    - 新的 $\\epsilon$-转移：4 条。\n    - 转移总数：$5 + 4 = 9$。\n\n**最终总结：**\n- 状态总数 = 6。\n- 起始状态数量 = 1。\n- 最终状态数量 = 1。\n- 转移总数 = 9。\n\n因此，属性向量为 (6, 1, 1, 9)。", "answer": "$$\\boxed{\\begin{pmatrix} 6  1  1  9 \\end{pmatrix}}$$", "id": "1379652"}]}