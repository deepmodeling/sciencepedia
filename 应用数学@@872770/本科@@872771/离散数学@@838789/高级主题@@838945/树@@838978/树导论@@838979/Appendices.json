{"hands_on_practices": [{"introduction": "掌握树的核心性质，我们从最规整的结构——**完全$m$叉树**开始。这个练习模拟了一个信息传播网络，其结构是一个完美的**完全三叉树**。通过计算给定高度下终端节点的数量，我们将建立起对树的高度与其叶节点数量之间指数关系的直观理解，这是分析许多分层数据结构和算法效率的关键一步。[@problem_id:1378379]", "problem": "一个为快速信息传播而设计的专用通信网络。该网络由单个根服务器和层级结构的中继节点组成。信息传播过程始于根服务器，该服务器被视为第 0 层。任何接收到信息的节点（无论是根服务器还是中继节点）都会立即将其转发给下一层中恰好三个不同的、尚未收到信息的节点。此过程持续进行，直到信息到达网络的最后一层。\n\n接收信息但不转发的节点被称为“终端节点”。在这种特殊的网络架构中，所有终端节点都位于同一层。网络的“高度” $h$ 定义为这些终端节点所在的层级。对于高度为 $h=0$ 的网络，根服务器本身是唯一的节点，并被视为一个终端节点。\n\n求该网络中终端节点数量关于其高度 $h$ 的通用公式，其中 $h$ 为任意非负整数。", "solution": "我们将此传播过程建模为一个分支因子为 $3$ 的有根树。设 $N_{k}$ 表示第 $k$ 层的节点数，根节点位于第 $0$ 层。\n\n根据定义，$N_{0}=1$。\n\n对于从第 $k$ 层到第 $k+1$ 层的步骤，第 $k$ 层的每个节点将信息转发给第 $k+1$ 层上恰好三个不同的、尚未接收到信息的节点。由于每个节点只能接收一次信息，因此第 $k$ 层的不同父节点所选择的三节点集合是两两不相交的。因此，在第 $k+1$ 层形成的新节点总数恰好是第 $k$ 层节点数的三倍。由此建立递推关系\n$$\nN_{k+1}=3\\,N_{k}.\n$$\n\n用初始条件求解此递推关系，通过数学归纳法（或识别出这是一个等比数列）可得\n$$\nN_{k}=3^{k}.\n$$\n\n根据网络高度的定义，所有终端节点都位于第 $h$ 层，所以终端节点的数量为 $N_{h}$。因此，\n$$\n\\text{terminal nodes at height }h=3^{h}.\n$$\n\n此公式也正确处理了 $h=0$ 的基本情况，得出 $3^{0}=1$，即根节点本身就是终端节点。", "answer": "$$\\boxed{3^{h}}$$", "id": "1378379"}, {"introduction": "在了解了结构规整的完全树之后，我们转向一个更普遍的情形：**满$m$叉树**。与完全树不同，满$m$叉树只要求每个内部节点都有$m$个子节点，但叶节点不必在同一层。这个练习将引导我们推导出一个非常重要的恒等式，它揭示了内部节点数量与树中总节点数量之间的线性关系，而无需关心树的具体高度或形状。[@problem_id:1378419]", "problem": "在图论中，一个有根树如果其每个父节点（一个内部顶点）都恰好有 $m$ 个子节点，则称其为**满 $m$ 叉树**。没有子节点的顶点称为叶节点。\n\n考虑一种新型分布式加密账本的拟议架构。其数据结构是一个满 $m$ 叉树，其中内部顶点代表交易中心，叶节点代表单个交易记录。在这种特定的账本设计中，规定每个交易中心必须恰好分支出 $m=5$ 个其他节点（可以是其他中心或交易记录）。\n\n如果该账本的某个特定实例恰好包含 121 个交易中心，那么这个树结构中节点的总数（中心和记录的总和）是多少？", "solution": "设 $m$ 表示度数，$i$ 表示内部顶点（交易中心）的数量，$l$ 表示叶节点（交易记录）的数量，$n$ 表示节点的总数。\n\n在任何树中，边的数量等于 $n-1$。在一个满 $m$ 叉树中，每个内部顶点恰好有 $m$ 个子节点，因此边的总数也为\n$$\nE = m i.\n$$\n将两者相等可得\n$$\nm i = n - 1 \\quad \\Rightarrow \\quad n = m i + 1.\n$$\n代入 $m=5$ 和 $i=121$ 可得\n$$\nn = 5 \\cdot 121 + 1 = 606.\n$$\n作为一致性检验，叶节点的数量为\n$$\nl = (m-1)i + 1 = 4 \\cdot 121 + 1 = 485,\n$$\n且 $i + l = 121 + 485 = 606$，这与上述结果一致。", "answer": "$$\\boxed{606}$$", "id": "1378419"}, {"introduction": "最后，我们将问题推广到任意结构的树，不再局限于完全或满$m$叉树。这个练习运用图论中最基本的工具之一——**握手引理**——来解决一个实际的网络设计问题。通过分析网络中节点的度，我们将发现一个深刻的联系：树的叶节点数量可以由总节点数和所有非叶节点的度之和精确确定。这个练习完美地展示了如何运用抽象的图论原理来解决具体的工程问题。[@problem_id:1378393]", "problem": "一家科技公司正在为一个新的分布式计算集群设计网络架构。该设计规定网络拓扑必须是一棵树，以防止数据回路，并确保任意两个节点之间存在唯一一条路径。网络中的节点分为两类：“边缘节点”和“核心路由器”。\n\n边缘节点是度数恰好为1的计算节点，作为网络中的入口或终端点。核心路由器是度数大于1的内部计算节点，负责在网络的不同部分之间路由流量。\n\n整个网络中的节点总数（包括边缘节点和核心路由器）用 $n$ 表示。网络中所有核心路由器的度数之和记为 $S$。\n\n根据这些信息，推导出一个用 $n$ 和 $S$ 表示网络中边缘节点总数的通用表达式。", "solution": "设 $L$ 表示边缘节点（度数恰好为 $1$）的数量，设 $I$ 表示核心路由器（度数大于 $1$）的数量。那么 $n = L + I$。\n\n在任何具有 $n$ 个节点的树中，边的数量为 $n - 1$。根据握手引理，所有顶点的度数之和等于边数的两倍，因此总度数和为 $2(n - 1)$。\n\n所有节点的度数之和等于核心路由器的度数之和加上边缘节点的度数之和。根据定义，核心路由器的度数之和为 $S$，每个边缘节点的度数为 $1$，因此所有边缘节点的度数之和为 $L$。因此，\n$$\nS + L = 2(n - 1).\n$$\n解出 $L$ 可得\n$$\nL = 2(n - 1) - S = 2n - 2 - S.\n$$\n这就得出了用 $n$ 和 $S$ 表示的边缘节点总数的表达式。", "answer": "$$\\boxed{2n-2-S}$$", "id": "1378393"}]}