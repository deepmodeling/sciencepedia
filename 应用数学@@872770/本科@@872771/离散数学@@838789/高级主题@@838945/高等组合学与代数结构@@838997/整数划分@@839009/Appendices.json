{"hands_on_practices": [{"introduction": "生成函数是组合数学中的一个强大工具，为计数问题提供了代数表示。这第一个练习将要求你找到一个生成函数中的特定系数，但不是通过代数运算，而是通过理解其直接的组合意义 [@problem_id:1389732]。这将巩固你对生成函数如何编码整数划分结构的理解。", "problem": "整数分拆理论利用生成函数来计算一个整数可以表示为正整数之和的方法数。对于限制分拆部分大小为特定集合 $S = \\{s_1, s_2, \\dots, s_k\\}$ 的分拆，其对应的生成函数是几何级数的乘积：\n$$ P(x) = \\prod_{i=1}^{k} \\left(\\sum_{j=0}^{\\infty} (x^{s_i})^j\\right) = \\prod_{i=1}^{k} \\frac{1}{1-x^{s_i}} $$\n$P(x)$ 的幂级数展开式中 $x^n$ 的系数，记为 $[x^n]P(x)$，给出了仅使用集合 $S$ 中的元素作为分拆部分来分拆整数 $n$ 的方法数。\n\n考虑一个用于仅使用大小为 1、3 和 4 的分拆部分的特定生成函数 $G(x)$：\n$$ G(x) = \\frac{1}{(1-x)(1-x^3)(1-x^4)} $$\n你的任务是求出 $G(x)$ 级数展开式中 $x^6$ 项的系数。你应该通过考虑生成函数的组合意义来得出答案，而不是通过进行完整的多项式乘法。", "solution": "问题要求解生成函数 $G(x) = \\frac{1}{(1-x)(1-x^3)(1-x^4)}$ 展开式中 $x^6$ 的系数。\n\n该生成函数可以写成三个无穷级数的乘积：\n$$ G(x) = (1 + x^1 + x^2 + x^3 + \\dots) (1 + x^3 + x^6 + x^9 + \\dots) (1 + x^4 + x^8 + x^{12} + \\dots) $$\n$G(x)$ 展开式中的每一项都是通过从这三个级数中各选一项相乘得到的。一个 $x^n$ 项是通过从第一个级数中选取 $x^{k_1}$，从第二个级数中选取 $x^{k_3}$，从第三个级数中选取 $x^{k_4}$，使得 $k_1 + k_3 + k_4 = n$ 来形成的。在这里，$k_1$ 是任意非负整数，$k_3$ 是 3 的倍数，$k_4$ 是 4 的倍数。\n\n$x^n$ 的系数就是选取这些项的方法数。这对应于将 $n$ 写成由大小为 1、3 和 4 的部分组成的和的方法数。设大小为 1 的部分有 $c_1$ 个，大小为 3 的部分有 $c_3$ 个，大小为 4 的部分有 $c_4$ 个。我们要求解方程：\n$$ 1 \\cdot c_1 + 3 \\cdot c_3 + 4 \\cdot c_4 = 6 $$\n的非负整数解 $(c_1, c_3, c_4)$ 的数量。\n我们可以通过系统地枚举最大部分 $c_4$ 和 $c_3$ 的系数的可能性来找到这些解。\n\n情况 1：从最大的部分 4 开始。\n令 $c_4 = 1$。方程变为 $1 \\cdot c_1 + 3 \\cdot c_3 + 4(1) = 6$，简化为 $c_1 + 3c_3 = 2$。\n- 如果 $c_3 = 0$，则 $c_1 = 2$。这给出了一个解 $(c_1, c_3, c_4) = (2, 0, 1)$，对应于分拆 $1+1+4$。\n- 如果 $c_3 \\ge 1$，则 $3c_3 \\ge 3$，大于 2，因此在这种子情况下没有其他解。\n如果 $c_4 \\ge 2$，则 $4c_4 \\ge 8$，大于 6。所以我们只需要考虑 $c_4=0$ 和 $c_4=1$。\n\n情况 2：令 $c_4 = 0$。方程变为 $c_1 + 3c_3 = 6$。\n- 如果 $c_3 = 2$，则 $c_1 + 3(2) = 6$，所以 $c_1 = 0$。这给出了一个解 $(c_1, c_3, c_4) = (0, 2, 0)$，对应于分拆 $3+3$。\n- 如果 $c_3 = 1$，则 $c_1 + 3(1) = 6$，所以 $c_1 = 3$。这给出了一个解 $(c_1, c_3, c_4) = (3, 1, 0)$，对应于分拆 $1+1+1+3$。\n- 如果 $c_3 = 0$，则 $c_1 = 6$。这给出了一个解 $(c_1, c_3, c_4) = (6, 0, 0)$，对应于分拆 $1+1+1+1+1+1$。\n- 如果 $c_3 \\ge 3$，则 $3c_3 \\ge 9$，大于 6，所以没有更多的解。\n\n总共，我们找到了四种仅使用大小为 1、3 和 4 的部分来分拆整数 6 的不同方法：\n1. $4 + 1 + 1$\n2. $3 + 3$\n3. $3 + 1 + 1 + 1$\n4. $1 + 1 + 1 + 1 + 1 + 1$\n\n这样的分拆方法有 4 种。因此，$G(x)$ 展开式中 $x^6$ 的系数是 4。", "answer": "$$\\boxed{4}$$", "id": "1389732"}, {"introduction": "划分理论中最优美的结果之一是欧拉分拆定理，它将由不同部分组成的划分与由奇数部分组成的划分联系起来。这个问题提出了一个看似简单的分发金币的场景，实际上是一个关于奇数部分划分的问题 [@problem_id:1389751]。通过应用欧拉定理，你将学会如何将问题转化为一个等价但有时更容易计数的问题。", "problem": "一位慈善家希望分发 12 枚相同的金币。他有一些相同的、没有标签的天鹅绒小袋。根据一个古老的传统，每个使用的小袋都必须装有奇数枚金币。这位慈善家可以根据需要使用任意数量的小袋。由于小袋是相同的且没有标签，小袋的排列顺序无关紧要。确定分发这 12 枚金币的总共有多少种不同的方法。", "solution": "因为小袋是相同的、没有标签的，并且每个使用的小袋都必须装有奇数枚金币，所以每种分发方式都恰好对应于将 $12$ 分拆为奇数部分的一种分拆。根据 Euler 的分拆定理，一个整数分拆为奇数部分的方法数等于将其分拆为不同部分的方法数。因此，我们只需计算将 $12$ 分拆为不同部分的分拆数。\n\n设 $a_1 > a_2 > \\cdots > a_k \\ge 1$ 为不同的整数，满足 $a_1+a_2+\\cdots+a_k=12$。我们按 $k$ 的值进行计数。\n\n当 $k=1$ 时，恰好有一种分拆：$12$。\n\n当 $k=2$ 时，写出 $a+b=12$，其中 $a>b\\ge 1$。有效的数对有 $(11,1)$、$(10,2)$、$(9,3)$、$(8,4)$、$(7,5)$，共 $5$ 种分拆。\n\n当 $k=3$ 时，写出 $a>b>c\\ge 1$，且 $a+b+c=12$。按 $a$ 的值进行枚举：\n- 如果 $a=9$，则 $b+c=3$，其中 $b>c\\ge 1$，得到 $(2,1)$ 和分拆 $9+2+1$。\n- 如果 $a=8$，则 $b+c=4$，得到 $(3,1)$ 和 $8+3+1$。\n- 如果 $a=7$，则 $b+c=5$，得到 $(4,1)$ 和 $(3,2)$，因此有 $7+4+1$ 和 $7+3+2$。\n- 如果 $a=6$，则 $b+c=6$，得到 $(5,1)$ 和 $(4,2)$，因此有 $6+5+1$ 和 $6+4+2$。\n- 如果 $a=5$，则 $b+c=7$，其中 $b5$，得到 $(4,3)$ 和 $5+4+3$。\n这些共产生 $7$ 种分拆：$9+2+1$、$8+3+1$、$7+4+1$、$7+3+2$、$6+5+1$、$6+4+2$、$5+4+3$。\n\n当 $k=4$ 时，写出 $a>b>c>d\\ge 1$，且 $a+b+c+d=12$。如果 $a=6$，则 $b+c+d=6$，其中 $b,c,d6$ 且各不相同，这必然是 $(3,2,1)$，得到分拆 $6+3+2+1$。如果 $a=5$，则 $b+c+d=7$，其中 $b,c,d5$ 且各不相同，这必然是 $(4,2,1)$，得到分拆 $5+4+2+1$。如果 $a\\le 4$，则可能的最大和为 $4+3+2+1=10  12$，因此没有解。因此，对于 $k=4$，有 $2$ 种分拆。\n\n当 $k\\ge 5$ 时，最小的和 $1+2+3+4+5=15$ 已经超过 $12$，所以没有分拆。\n\n将计数相加得到\n$$1+5+7+2=15.$$\n根据 Euler 定理，这也是将 $12$ 分拆为奇数部分的分拆数，即有效的小袋分发方式的数量。\n\n因此，总共有 $15$ 种不同的方法。", "answer": "$$\\boxed{15}$$", "id": "1389751"}, {"introduction": "许多现实世界中的划分问题都带有约束条件，例如对每个部分的最小尺寸要求。这个练习挑战你对每个部分都必须至少为特定值的划分进行计数 [@problem_id:1389715]。高效解决这个问题的关键在于巧妙的变量代换，这项技术能将一个受约束的问题转化为一个无约束的问题，从而大大简化计数过程。", "problem": "一位系统架构师正在设计一个容错存储系统，该系统使用一个由相同服务器组成的集群。该架构师需要将14个相同的数据副本分布在这些服务器上。为确保稳健性，任何被使用的服务器都必须存储至少4个数据副本。由于服务器是相同的，副本是无法区分的，因此副本具体存放在哪个服务器上并不重要，重要的是副本在服务器上的分组方式。根据这些规则，有多少种不同的方式可以将这14个数据副本分布在服务器上？", "solution": "因为副本是无法区分的，服务器是相同的，所以我们只关心每个被使用服务器上的副本数量的多重集。未被使用的服务器是无关紧要的。因此，我们必须计算将整数$14$分割成每个部分至少为$4$的整数分拆的数量。\n\n如果使用了$k$台服务器，每台服务器至少有$4$个副本，那么$4k \\le 14$，所以$k \\le 3$且$k \\in \\{1,2,3\\}$。\n\n对于$k=1$：只有一种分拆，即$14$。\n\n对于$k=2$：设分拆的各部分为$a \\ge b \\ge 4$，且$a+b=14$。那么$b$可以是$4,5,6,7$，得到分拆$(10,4)$、$(9,5)$、$(8,6)$、$(7,7)$，共$4$种解。\n\n对于$k=3$：设$a \\ge b \\ge c \\ge 4$，且$a+b+c=14$。定义$x=a-4$，$y=b-4$，$z=c-4$，则$x \\ge y \\ge z \\ge 0$且\n$$\nx+y+z=14-3\\cdot 4=2.\n$$\n和为$2$的非递增非负整数解是$(2,0,0)$和$(1,1,0)$，由此得到分拆$(6,4,4)$和$(5,5,4)$，共$2$种解。\n\n对所有的$k$值求和，得到\n$$\n1+4+2=7.\n$$\n因此，共有$7$种不同的分布方式。", "answer": "$$\\boxed{7}$$", "id": "1389715"}]}