{"hands_on_practices": [{"introduction": "在分析有向图时，精确的定义至关重要。强连通、弱连通和强连通分量 (SCCs) 是描述图连通性的不同层次。通过这个练习，我们将通过检查具体的图示例来学习区分这些概念，这是掌握有向图连通性分析的第一步。[@problem_id:1359484]", "problem": "一个有向图（digraph）$G = (V, E)$ 由一个顶点集合 $V$ 和一个边集合 $E$ 组成，其中每条边都是一个表示有向连接的顶点有序对。我们定义一些与连通性相关的关键属性：\n\n1.  如果对于 $V$ 中每一对不同的顶点 $(u, v)$，都存在一条从 $u$ 到 $v$ 的有向路径和一条从 $v$ 到 $u$ 的有向路径，则称该有向图是**强连通**的。\n2.  如果将一个有向图的所有有向边替换为无向边后，得到的无向图是连通的（即，忽略边的方向，每对顶点之间都存在路径），则称该有向图是**弱连通**的。\n3.  有向图的一个**强连通分量 (SCC)** 是一个极大的顶点集合，其中集合内的任意顶点都可以通过有向路径到达集合内的任何其他顶点。图中的每个顶点都恰好属于一个 SCC。\n\n考虑以下四个有向图，它们的顶点集都是 $V = \\{1, 2, 3, 4\\}$。\n\nA. $E_A = \\{(1, 2), (2, 1), (2, 3), (3, 4), (4, 3)\\}$\nB. $E_B = \\{(1, 2), (2, 3), (3, 4), (4, 1)\\}$\nC. $E_C = \\{(1, 2), (2, 1), (3, 4)\\}$\nD. $E_D = \\{(1, 2), (2, 3), (3, 4)\\}$\n\n这些图中，哪一个是弱连通、非强连通，并且恰好有两个强连通分量的？", "solution": "我们必须在给定的有向图中找出那些弱连通、非强连通，并且恰好有两个强连通分量 (SCC) 的图。对于顶点集为 $V=\\{1,2,3,4\\}$、边集为 $E$ 的每个图，我们检查：\n(i) 强连通性：对于所有 $u,v\\in V$，必须存在路径 $u\\to v$ 和 $v\\to u$； \n(ii) 弱连通性：其无向版本（将 $(a,b)$ 替换为无向边 $\\{a,b\\}$）必须是连通的； \n(iii) SCC 的数量：通过有向路径可以相互到达的极大顶点集。\n\n图 A：$E_{A}=\\{(1,2),(2,1),(2,3),(3,4),(4,3)\\}$。\n- 非强连通：存在路径 $2\\to 3$ 且 $3\\leftrightarrow 4$，所以 $1,2$ 可以到达 $3,4$。然而，从 $3$ 或 $4$ 出发，唯一可达的顶点是 $3$ 和 $4$（因为边是 $3\\to 4$ 和 $4\\to 3$），所以没有从 $3$ 或 $4$ 返回到 $2$ 或 $1$ 的路径。因此，该图不是强连通的。\n- 弱连通：对应的无向边为 $\\{1,2\\},\\{2,3\\},\\{3,4\\}$（$\\{3,4\\}$ 这对边来自 $(3,4)$ 和 $(4,3)$）。这个无向图是路径 $1-2-3-4$，它是连通的。因此，该图是弱连通的。\n- SCCs：顶点 $1$ 和 $2$ 通过 $(1,2)$ 和 $(2,1)$ 相互可达，所以 $\\{1,2\\}$ 是一个 SCC。顶点 $3$ 和 $4$ 通过 $(3,4)$ 和 $(4,3)$ 相互可达，所以 $\\{3,4\\}$ 是一个 SCC。有一条从 $2$ 到 $3$ 的边，但没有从 $\\{3,4\\}$ 返回到 $\\{1,2\\}$ 的路径，所以这两个 SCC 不会合并。因此，恰好有两个 SCC：$\\{1,2\\}$ 和 $\\{3,4\\}$。\n\n图 B：$E_{B}=\\{(1,2),(2,3),(3,4),(4,1)\\}$。这是一个包含四个顶点的有向环。对于任意 $u,v\\in V$，都存在沿环从 $u$ 到 $v$ 和从 $v$ 到 $u$ 的有向路径，所以该图是强连通的。因此，它不满足“非强连通”的要求，并且它只有一个 SCC，而不是两个。\n\n图 C：$E_{C}=\\{(1,2),(2,1),(3,4)\\}$。\n- 弱连通性：对应的无向边为 $\\{1,2\\}$ 和 $\\{3,4\\}$，它们形成两条不相交的边。这个无向图是不连通的，所以该有向图不是弱连通的。\n- SCCs：由于有相互的边，$\\{1,2\\}$ 是一个 SCC。顶点 $3$ 有一条到 $4$ 的出边但没有返回路径，顶点 $4$ 没有出边，所以 $\\{3\\}$ 和 $\\{4\\}$ 是单点 SCC。因此，该图有三个 SCC 并且不是弱连通的，所以它不满足条件。\n\n图 D：$E_{D}=\\{(1,2),(2,3),(3,4)\\}$。\n- 非强连通：没有从 $4$ 到 $1,2,3$ 中任何一个顶点的路径，所以它不是强连通的。\n- 弱连通：对应的无向边为 $\\{1,2\\},\\{2,3\\},\\{3,4\\}$，形成路径 $1-2-3-4$，它是连通的。因此，该图是弱连通的。\n- SCCs：图中没有有向环；因此每个顶点自身构成一个 SCC：$\\{1\\},\\{2\\},\\{3\\},\\{4\\}$。该图有四个 SCC，而不是两个。\n\n只有图 A 满足所有三个条件（弱连通、非强连通、恰好有两个 SCC）。", "answer": "$$\\boxed{A}$$", "id": "1359484"}, {"introduction": "在理解了连通性的基本概念后，我们需要一种系统化的方法来表示节点间的可达性。本练习将引入可达性矩阵，这是一个强大的工具，能够捕捉图中的所有路径信息。通过为一个假设的服务器网络构建可达性矩阵，我们将学习如何将一个可视化的图结构转化为可用于计算的正式数学对象。[@problem_id:1359522]", "problem": "考虑一个由四个数据服务器组成的小型简化网络，标记为 $S_1, S_2, S_3,$ 和 $S_4$。该网络中的连接是定向的，意味着数据只能沿给定链接单向流动。已建立的单向数据链接如下：\n- 从服务器 $S_1$ 到服务器 $S_2$。\n- 从服务器 $S_1$ 到服务器 $S_3$。\n- 从服务器 $S_2$ 到服务器 $S_4$。\n- 从服务器 $S_3$ 到服务器 $S_2$。\n\n在图论中，我们可以将此网络建模为一个有向图，其中服务器是顶点，链接是有向边。如果存在一条从服务器 $S_i$ 到 $S_j$ 的路径（一个或多个链接的序列），则称服务器 $S_j$ 是从服务器 $S_i$ 可达的。按照惯例，每个服务器也被认为是自身可达的（长度为零的路径）。\n\n该网络的连通性可以通过一个可达性矩阵 $R$ 来总结。这是一个 $4 \\times 4$ 矩阵，其中如果服务器 $S_j$ 从服务器 $S_i$ 可达，则条目 $R_{ij}$（在第 $i$ 行和第 $j$ 列）为 $1$，否则为 $0$。\n\n以下哪个矩阵是该网络的正确可达性矩阵 $R$？\n\nA.\n$\n\\begin{pmatrix}\n1  1  1  0 \\\\\n0  1  0  1 \\\\\n0  1  1  0 \\\\\n0  0  0  1\n\\end{pmatrix}\n$\n\nB.\n$\n\\begin{pmatrix}\n1  1  1  1 \\\\\n0  1  0  1 \\\\\n0  1  1  1 \\\\\n0  0  0  1\n\\end{pmatrix}\n$\n\nC.\n$\n\\begin{pmatrix}\n1  1  1  1 \\\\\n0  1  1  1 \\\\\n0  1  1  1 \\\\\n0  0  0  1\n\\end{pmatrix}\n$\n\nD.\n$\n\\begin{pmatrix}\n1  0  0  0 \\\\\n1  1  1  0 \\\\\n1  0  1  0 \\\\\n1  1  1  1\n\\end{pmatrix}\n$", "solution": "将网络建模为一个有向图，其顶点集为 $\\{S_{1},S_{2},S_{3},S_{4}\\}$，有向边为 $S_{1}\\to S_{2}$、$S_{1}\\to S_{3}$、$S_{2}\\to S_{4}$ 和 $S_{3}\\to S_{2}$。根据可达性的定义，每个服务器都是自身可达的，因此对于 $i=1,2,3,4$，$R_{ii}=1$。\n\n从 $S_{1}$ 出发：存在到 $S_{2}$ 和 $S_{3}$ 的直接边，因此 $S_{2}$ 和 $S_{3}$ 是可达的。从 $S_{1}$ 出发，存在一条通过 $S_{1}\\to S_{2}\\to S_{4}$ 到达 $S_{4}$ 的路径，因此 $S_{4}$ 是可达的。因此，$S_{1}$ 可以到达所有四个服务器，得到第一行为 $(1,1,1,1)$。\n\n从 $S_{2}$ 出发：存在一条到 $S_{4}$ 的直接边，因此 $S_{4}$ 是可达的。$S_{4}$ 没有出边，且没有从 $S_{2}$ 到 $S_{1}$ 或 $S_{3}$ 的边，所以 $S_{1}$ 和 $S_{3}$ 从 $S_{2}$ 是不可达的。包括自身可达性，第二行为 $(0,1,0,1)$。\n\n从 $S_{3}$ 出发：存在一条到 $S_{2}$ 的直接边，因此 $S_{2}$ 是可达的。从 $S_{3}$ 出发，存在一条通过 $S_{3}\\to S_{2}\\to S_{4}$ 到达 $S_{4}$ 的路径，因此 $S_{4}$ 是可达的。通过给定的边，不存在从 $S_{3}$ 到 $S_{1}$ 的路径，因此 $S_{1}$ 是不可达的。包括自身可达性，第三行为 $(0,1,1,1)$。\n\n从 $S_{4}$ 出发：没有出边，所以只有 $S_{4}$ 自身可达。第四行为 $(0,0,0,1)$。\n\n因此，可达性矩阵为\n$$\nR=\\begin{pmatrix}\n1  1  1  1 \\\\\n0  1  0  1 \\\\\n0  1  1  1 \\\\\n0  0  0  1\n\\end{pmatrix},\n$$\n这与选项 B 相匹配。", "answer": "$$\\boxed{B}$$", "id": "1359522"}, {"introduction": "网络分析的最终目的往往不只是分析，更是设计。这个思想实验解决了一个常见的工程问题：如何以最小的成本将两个内部连通的独立系统合并成一个完全连通的统一网络？这个练习将我们的思维从分析转向综合，帮助我们理解实现全局强连通性的基本条件和最小代价。[@problem_id:1359532]", "problem": "考虑一个大型企业网络，该网络被建模为一个有向图 $G = (V, E)$，其中 $V$ 是服务器的集合，$E$ 是单向通信链路的集合。服务器集合 $V$ 被划分为两个非空的、不相交的集合 $V_1$ 和 $V_2$，它们分别对应于两个以前独立的公司网络。已知由这两个集合导出的子图 $G_1 = (V_1, E_1)$ 和 $G_2 = (V_2, E_2)$ 都是强连通的。这意味着在 $V_1$ 内部（同样地，在 $V_2$ 内部），任何服务器都可以通过某条链路路径向任何其他服务器发送消息。\n\n现有的边集 $E$ 可能包含也可能不包含 $V_1$ 和 $V_2$ 之间的跨网络链路。一位网络管理员的任务是通过添加尽可能少的新单向链路，来确保整个合并后的网络 $G$ 成为强连通的。设所需新链路的最小数量为 $k$。\n\n无论 $V_1$ 和 $V_2$ 中的服务器数量或 $G_1$ 和 $G_2$ 内部链路的具体结构如何，关于 $k$ 值的以下哪个陈述总是正确的？\n\nA. $k$ 的值总是 2。\nB. $k$ 的值取决于服务器的总数 $|V_1| + |V_2|$。\nC. 如果存在至少一条连接 $V_1$ 中服务器和 $V_2$ 中服务器的现有链路（无论哪个方向），那么 $k \\leq 1$。\nD. $k=1$ 不可能是一个结果。\nE. 如果 $|V_1| > |V_2|$，那么至少必须有一条新链路从 $V_2$ 中的服务器发出，并终止于 $V_1$ 中的服务器。", "solution": "设 $G=(V,E)$ 是一个有向图，其顶点集 $V$ 被划分为 $V=V_{1}\\sqcup V_{2}$，使得导出子图 $G_{1}=(V_{1},E_{1})$ 和 $G_{2}=(V_{2},E_{2})$ 都是强连通的。定义跨边集合\n$$\nE_{12}=\\{(u,v)\\in E:\\,u\\in V_{1},\\,v\\in V_{2}\\},\\qquad E_{21}=\\{(u,v)\\in E:\\,u\\in V_{2},\\,v\\in V_{1}\\}.\n$$\n我们根据 $E_{12}$ 和 $E_{21}$ 的情况来分析 $k$，即为使 $G$ 成为强连通图所需添加的新有向边的最小数量。\n\n1) 如果 $E_{12}\\neq\\varnothing$ 且 $E_{21}\\neq\\varnothing$，那么对于任何 $x\\in V_{1}$ 和 $y\\in V_{2}$，我们任取 $(a,b)\\in E_{12}$ 和 $(c,d)\\in E_{21}$。由于 $G_{1}$ 和 $G_{2}$ 是强连通的，因此存在有向路径 $x\\to a$ (在 $G_{1}$ 中)，$b\\to y$ (在 $G_{2}$ 中)，$y\\to c$ (在 $G_{2}$ 中) 和 $d\\to x$ (在 $G_{1}$ 中)。将这些路径与跨边连接，得到路径 $x\\to a\\to b\\to y$ 和 $y\\to c\\to d\\to x$。因此，每个顶点都可以到达任何其他顶点，所以 $G$ 已经就是强连通的，从而 $k=0$。\n\n2) 如果 $E_{12}=\\varnothing$ 且 $E_{21}=\\varnothing$，那么最初没有任何从 $V_{1}$ 中的顶点到 $V_{2}$ 中的顶点的路径，也没有从 $V_{2}$ 到 $V_{1}$ 的路径。任何一条新添加的边最多只能创建一个方向上的部分间可达性；因此，要获得双向可达性，至少需要两条新边，所以 $k\\geq 2$。添加两条边，一条从 $V_{1}$ 到 $V_{2}$，一条从 $V_{2}$ 到 $V_{1}$，会在 $V_{1}$ 和 $V_{2}$ 之间创建一个有向环。然后利用 $G_{1}$ 和 $G_{2}$ 的内部强连通性，通过与前面相同的路径连接论证，即可推导出整个图的强连通性。因此 $k=2$。\n\n3) 如果 $E_{12}, E_{21}$ 中恰好有一个非空，比如说 $E_{12}\\neq\\varnothing$ 而 $E_{21}=\\varnothing$，那么存在从 $V_{1}$ 到 $V_{2}$ 的路径，但不存在从 $V_{2}$ 到 $V_{1}$ 的路径。至少需要一条从 $V_{2}$ 到 $V_{1}$ 的新边，所以 $k\\geq 1$。添加一条边 $(c,d)$ (其中 $c\\in V_{2}$ 且 $d\\in V_{1}$) 就足够了：对于任何 $x\\in V_{1}$ 和 $y\\in V_{2}$，并取 $(a,b)\\in E_{12}$，利用内部强连通性，我们有路径 $x\\to a\\to b\\to y$ 和 $y\\to c\\to d\\to x$。因此 $k=1$。\n\n因此，$k$ 的可能值只有 $0,1,2$，这完全取决于跨边的存在与方向，而与 $|V_{1}|$ 或 $|V_{2}|$ 的大小无关。\n\n评估各个陈述：\n- A 是错误的，因为 $k$ 可以是 $0$ 或 $1$。\n- B 是错误的，因为 $k$ 取决于跨边的方向，而不是 $|V_{1}|+|V_{2}|$。\n- C 是正确的：如果存在至少一条任一方向的跨边，那么 $k\\leq 1$（如果两个方向都存在边，则 $k=0$；如果只有一个方向存在边，则 $k=1$）。\n- D 是错误的，因为当恰好只有一个方向的跨边存在时，$k=1$。\n- E 是错误的；集合大小的不等关系是无关的，并且如果两个方向的边都已存在，则 $k=0$，不需要从 $V_{2}$ 到 $V_{1}$ 添加新边。\n\n因此，正确且总是为真的陈述是 C。", "answer": "$$\\boxed{C}$$", "id": "1359532"}]}