{"hands_on_practices": [{"introduction": "图的度序列是其最基本的属性之一，但它是否足以判断哈密顿回路的存在性呢？本练习旨在探讨这个问题。通过分析和比较两个度序列相同但哈密顿性质不同的图，你将深入理解为什么确定哈密顿回路的存在性是一个复杂且微妙的挑战，仅靠简单的图属性是远远不够的。[@problem_id:1373357]", "problem": "在图论中，一个顶点的度是与它相连的边的数量，一个图的度序列是其所有顶点度的列表。哈密顿回路是图中的一个闭合回路，它恰好访问每个顶点一次，并最终返回到起始顶点。\n\n两个非同构的简单图有时可以拥有完全相同的度序列，但却表现出不同的性质。考虑下面四对简单图 $(G_A, H_A)$、$(G_B, H_B)$、$(G_C, H_C)$ 和 $(G_D, H_D)$。每个图都由其顶点集 $V$ 和边集 $E$ 定义。\n\n找出哪一对 $(G_i, H_i)$ 同时满足以下所有三个条件：\n1. 图 $G_i$ 和图 $H_i$ 具有相同的度序列。\n2. 图 $G_i$ 包含一个哈密顿回路。\n3. 图 $H_i$ 不包含哈密顿回路。\n\n**A.**\n$G_A$: $V = \\{1, 2, 3, 4, 5\\}$, $E = \\{(1,2), (2,3), (3,4), (4,5), (5,1), (1,3)\\}$\n$H_A$: $V = \\{a, b, c, d, e\\}$, $E = \\{(a,c), (b,c), (d,c), (a,e), (b,e), (d,e)\\}$\n\n**B.**\n$G_B$: $V = \\{1, 2, 3, 4, 5\\}$, $E = \\{(1,2), (2,3), (3,4), (4,5), (5,1), (1,3)\\}$\n$H_B$: $V = \\{u, v, w, x, y\\}$, $E = \\{(u,v), (v,w), (w,x), (x,y), (y,u)\\}$\n\n**C.**\n$G_C$: $V = \\{a, b, c, d, e\\}$, $E = \\{(a,c), (b,c), (d,c), (a,e), (b,e), (d,e)\\}$\n$H_C$: $V = \\{p, q, r, s, t\\}$, $E = \\{(p,r), (q,r), (s,r), (p,t), (q,t), (s,t)\\}$\n\n**D.**\n$G_D$: $V = \\{a, b, c, d, e\\}$, $E = \\{(a,c), (b,c), (d,c), (a,e), (b,e), (d,e)\\}$\n$H_D$: $V = \\{1, 2, 3, 4, 5\\}$, $E = \\{(1,2), (2,3), (3,4), (4,5), (5,1), (1,3)\\}$", "solution": "我们逐一检查每一对 $(G_{i}, H_{i})$ 是否满足这三个条件。\n\nA 对：\n对于 $G_{A}$，其 $V=\\{1,2,3,4,5\\}$ 且 $E=\\{(1,2),(2,3),(3,4),(4,5),(5,1),(1,3)\\}$：\n- 度数：$\\deg(1)=3$ (与 $2,3,5$ 相邻)，$\\deg(2)=2$ (与 $1,3$ 相邻)，$\\deg(3)=3$ (与 $2,4,1$ 相邻)，$\\deg(4)=2$ (与 $3,5$ 相邻)，$\\deg(5)=2$ (与 $4,1$ 相邻)。\n- 度序列（排序后）为 $\\{3,3,2,2,2\\}$。\n- 它包含一个由 5 圈 $(1,2,3,4,5,1)$ 构成的哈密顿回路。\n\n对于 $H_{A}$，其 $V=\\{a,b,c,d,e\\}$ 且 $E=\\{(a,c),(b,c),(d,c),(a,e),(b,e),(d,e)\\}$：\n- 这是一个完全二分图 $K_{3,2}$，其两部分别为 $\\{a,b,d\\}$ 和 $\\{c,e\\}$。\n- 度数：$\\deg(c)=3$, $\\deg(e)=3$ 以及 $\\deg(a)=\\deg(b)=\\deg(d)=2$，因此度序列为 $\\{3,3,2,2,2\\}$，与 $G_{A}$ 匹配。\n- 二分图中的任何圈都具有偶数长度。由于 $|V|=5$，$H_{A}$ 不可能存在哈密顿回路。因此，$H_{A}$ 没有哈密顿回路。\n\n因此，A 对满足所有三个条件。\n\nB 对：\n$G_{B}$ 与 $G_{A}$ 相同，因此其度序列为 $\\{3,3,2,2,2\\}$。$H_{B}$ 是一个 5 圈 $C_{5}$，其边为 $\\{(u,v),(v,w),(w,x),(x,y),(y,u)\\}$，因此所有顶点的度均为 2，度序列为 $\\{2,2,2,2,2\\}$。度序列不匹配，因此 B 对不满足条件 1。\n\nC 对：\n$G_{C}$ 和 $H_{C}$ 都同构于 $K_{3,2}$，因此它们的度序列都是 $\\{3,3,2,2,2\\}$，但由于与上述相同的二分性原因，两者都不存在哈密顿回路。因此 C 对不满足条件 2。\n\nD 对：\n$G_{D}$ 是 $K_{3,2}$ 且没有哈密顿回路，而 $H_{D}$ 与 $G_{A}$ 相同且有哈密顿回路。要求是 $G_{i}$ 包含哈密顿回路而 $H_{i}$ 不包含，因此 D 对不满足指定方向上的条件 2 和 3。\n\n只有 A 对同时满足所有三个条件。", "answer": "$$\\boxed{A}$$", "id": "1373357"}, {"introduction": "对于有向图，一个自然而然的问题是：强连通性是否能保证哈密顿回路的存在？本练习将引导你通过构建一个反例来回答这个问题。你将找出一个虽然是强连通的，但明确不包含哈密顿回路的有向图，从而加深对必要条件与充分条件之间区别的理解。[@problem_id:1373401]", "problem": "在图论中，有向图（digraph）$G$ 由一对集合 $(V, E)$ 定义，其中 $V$ 是一组顶点，而 $E$ 是一组有向边，即顶点的有序对。从顶点 $u$ 到顶点 $v$ 的一条路径是一个顶点序列 $v_0, v_1, \\dots, v_k$，使得 $v_0 = u$，$v_k = v$，并且对于所有 $i=1, \\dots, k$ 都有 $(v_{i-1}, v_i) \\in E$。回路是一条长度大于零且起点和终点相同的路径。\n\n如果对于 $V$ 中每一对不同的顶点 $(u, v)$，都存在一条从 $u$ 到 $v$ 的路径和一条从 $v$ 到 $u$ 的路径，则称该有向图是**强连通**的。\n\n**哈密顿回路**是一个访问 $V$ 中每个顶点恰好一次的回路，除了起点也是终点。\n\n考虑一个顶点集为 $V = \\{1, 2, 3, 4\\}$ 的有向图。下列哪个边集 $E$ 定义的图是强连通的，但不包含哈密顿回路？\n\nA. $E_A = \\{(1, 2), (2, 3), (3, 1), (3, 4)\\}$\nB. $E_B = \\{(1, 2), (2, 3), (3, 4), (4, 1)\\}$\nC. $E_C = \\{(1, 2), (2, 1), (1, 3), (3, 4), (4, 1)\\}$\nD. $E_D = \\{(1, 2), (2, 3), (3, 4), (4, 1), (1, 3), (3, 1)\\}$", "solution": "我们必须根据强连通性和不存在哈密顿回路这两个性质来检验每个选项。\n\n选项 A: $E_{A}=\\{(1,2),(2,3),(3,1),(3,4)\\}$。顶点 $4$ 没有出边。根据强连通的定义，从顶点 $4$ 必须存在到其他每个顶点的路径。由于没有边从 $4$ 出发，所以不存在从 $4$ 到任何其他顶点的路径，因此该有向图不是强连通的。所以 A 不可能是答案。\n\n选项 B: $E_{B}=\\{(1,2),(2,3),(3,4),(4,1)\\}$。这些边构成了有向环 $1\\to 2\\to 3\\to 4\\to 1$，根据定义这是一个哈密顿回路（它恰好访问所有顶点一次并返回起点）。一个包含所有顶点的有向环图是强连通的，因为对于任意 $u,v$，都存在一条沿着该环的路径。由于该图包含一个哈密顿回路，所以 B 不满足“不包含哈密顿回路”的要求。\n\n选项 C: $E_{C}=\\{(1,2),(2,1),(1,3),(3,4),(4,1)\\}$。首先，通过展示所有有序顶点对之间的路径来验证强连通性：\n- 从 $1$ 出发：$1\\to 2$，$1\\to 3$ 和 $1\\to 3\\to 4$ 可分别到达 $2,3,4$。\n- 从 $2$ 出发：$2\\to 1$，$2\\to 1\\to 3$ 和 $2\\to 1\\to 3\\to 4$ 可分别到达 $1,3,4$。\n- 从 $3$ 出发：$3\\to 4$，$3\\to 4\\to 1$ 和 $3\\to 4\\to 1\\to 2$ 可分别到达 $4,1,2$。\n- 从 $4$ 出发：$4\\to 1$，$4\\to 1\\to 2$ 和 $4\\to 1\\to 3$ 可分别到达 $1,2,3$。\n因此该有向图是强连通的。\n\n现在证明它没有哈密顿回路。注意出度：$\\deg^{+}(2)=1$，唯一的出边是 $(2,1)$；以及 $\\deg^{+}(4)=1$，唯一的出边是 $(4,1)$。在任何有向哈密顿回路中，每个顶点在回路中都恰好有一条出边，因此在这样的回路中 $2$ 的后继必须是 $1$，而 $4$ 的后继也必须是 $1$。但是在任何有向哈密顿回路中，每个顶点在回路中的入度也恰好为 $1$，因此顶点 $1$ 不能有两个不同的前驱。这个矛盾表明不存在哈密顿回路。因此 C 满足两个要求的性质。\n\n选项 D: $E_{D}=\\{(1,2),(2,3),(3,4),(4,1),(1,3),(3,1)\\}$。其子集 $\\{(1,2),(2,3),(3,4),(4,1)\\}$ 已经构成了有向环 $1\\to 2\\to 3\\to 4\\to 1$，这是一个哈密顿回路。因此 D 不满足“不包含哈密顿回路”的要求。\n\n因此，正确选项是 C。", "answer": "$$\\boxed{C}$$", "id": "1373401"}, {"introduction": "哈密顿回路问题不仅关乎“是否存在”，更常常关乎“如何找到最优”的回路，这便引出了著名的旅行商问题（TSP）。本练习将让你亲手操作一个经典的启发式算法——最近邻算法，并将其结果与真正的最优解进行比较。通过这个过程，你将体会到直观的贪心策略为何有时无法得到全局最优解，这是算法设计与优化领域中的一个核心思想。[@problem_id:1373387]", "problem": "一家电信公司正在设计一个光纤网络，以连接位于 A、B、C、D 四个点的主要数据中心。目标是创建一个通过每个中心一次且仅一次的单一闭环（哈密顿回路）。在任意两个中心之间铺设直连光纤电缆的成本（以任意单位计）如下表所示。\n\n| 点对 | 成本 |\n| :--- | :--- |\n| A-B  | 3    |\n| A-C  | 1    |\n| A-D  | 12   |\n| B-C  | 2    |\n| B-D  | 11   |\n| C-D  | 10   |\n\n为了确定路线，规划团队使用了一种称为最近邻（NN）算法的启发式方法。NN 算法的步骤如下：\n1. 选择一个起始中心。\n2. 从当前中心出发，沿着成本最低的边移动到一个未访问过的中心。\n3. 重复步骤 2，直到所有中心都被访问过。\n4. 最后，从最后一个访问的中心返回起始中心，形成闭环。\n\n一位工程师的任务是从中心 A 开始运行此算法。你需要分析其结果。\n\n计算从中心 A 开始，通过 NN 算法找到的哈密顿回路的总成本，我们称之为 $C_{NN}$。然后，确定真正的最优（最低成本）哈密顿回路的成本，我们称之为 $C_{opt}$。\n\n将你的最终答案表示为一个有序整数对 $(C_{NN}, C_{opt})$。", "solution": "令 $c(X,Y)$ 表示中心 $X$ 和 $Y$ 之间边的给定成本。\n\n从 $A$ 开始的最近邻（NN）算法：\n- 步骤 1：从 $A$ 出发，在 $\\{c(A,B)=3,\\ c(A,C)=1,\\ c(A,D)=12\\}$ 中选择成本最低的边。最小值是到 $C$，所以选择路径 $A \\to C$，成本为 $1$。\n- 步骤 2：从 $C$ 出发，在未访问过的中心 $\\{B,D\\}$ 中，从 $\\{c(C,B)=2,\\ c(C,D)=10\\}$ 中选择成本最低的边。最小值是到 $B$，所以选择路径 $C \\to B$，成本为 $2$。\n- 步骤 3：从 $B$ 出发，唯一未访问过的中心是 $D$，所以选择路径 $B \\to D$，成本为 $11$。\n- 步骤 4：返回起点以闭合回路：$D \\to A$，成本为 $12$。\n\n因此，NN 算法找到的路径是 $A \\to C \\to B \\to D \\to A$，总成本为\n$$\nC_{NN} = 1 + 2 + 11 + 12 = 26.\n$$\n\n最优哈密顿回路 $C_{opt}$：\n枚举从 $A$ 开始的所有不同路径（考虑到反向对称性）并计算它们的成本：\n- $A \\to B \\to C \\to D \\to A$：成本 $c(A,B)+c(B,C)+c(C,D)+c(D,A)=3+2+10+12=27$。\n- $A \\to B \\to D \\to C \\to A$：成本 $3+11+10+1=25$。\n- $A \\to C \\to B \\to D \\to A$：成本 $1+2+11+12=26$。\n\n因此，最小成本为\n$$\nC_{opt} = 25.\n$$\n\n因此，有序对为 $\\left(C_{NN}, C_{opt}\\right) = \\left(26, 25\\right)$。", "answer": "$$\\boxed{\\begin{pmatrix} 26  25 \\end{pmatrix}}$$", "id": "1373387"}]}