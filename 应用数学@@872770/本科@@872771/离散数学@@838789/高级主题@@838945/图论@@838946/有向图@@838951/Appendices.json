{"hands_on_practices": [{"introduction": "将现实世界中的关系（如项目任务间的依赖）转化为数学结构，是应用图论的第一步。邻接表是一种直观且高效的方式来表示有向图，尤其适用于计算机算法。这个练习将指导你如何将一组给定的依赖关系，精确地转换成一个有向图的邻接表表示，这是后续进行图分析和算法实现的基础。[@problem_id:1364479]", "problem": "在现代软件开发中，项目通常被分解为更小、可管理的任务。这些任务之间的关系可以用有向图来建模，其中从一个任务到另一个任务的边表示一个依赖关系。\n\n考虑一个由四个主要任务组成的小型软件项目：\n*   T1: 开发应用程序编程接口（API）端点\n*   T2: 设计数据库模式\n*   T3: 构建前端用户界面\n*   T4: 编写用户文档\n\n项目经理列出了以下依赖关系：\n1.  开发API端点（T1）必须在数据库模式（T2）设计完成后才能开始。\n2.  构建前端用户界面（T3）要求API端点（T1）和数据库模式（T2）都已完成。\n3.  编写用户文档（T4）依赖于API端点（T1）和前端用户界面（T3）的完成。\n\n设这些依赖关系由一个有向图 $G = (V, E)$ 建模，其中顶点集合 $V = \\{\\text{T1, T2, T3, T4}\\}$ 代表这些任务。如果任务 $u$ 是任务 $v$ 的一个直接先决条件，那么就存在一条有向边 $(u, v) \\in E$。\n\n你的任务是确定该有向图的正确邻接表表示。该邻接表必须遵循以下格式化规则：\n*   源顶点列表（T1, T2, T3, T4）必须按字典序排序。\n*   对于每个源顶点，其相邻顶点列表也必须按字典序排序（例如，`[T1, T3]` 是正确的，`[T3, T1]` 是不正确的）。\n*   空的相邻顶点列表用 `[]` 表示。\n\n下列哪个选项正确地表示了所述任务依赖图的邻接表？\n\nA.\nT1: [T2]\nT2: []\nT3: [T1, T2]\nT4: [T1, T3]\n\nB.\nT1: [T3, T4]\nT2: [T1]\nT3: [T4]\nT4: []\n\nC.\nT1: [T3, T4]\nT2: [T1, T3]\nT3: [T4]\nT4: []\n\nD.\nT1: [T3, T4]\nT2: [T3, T1]\nT3: [T4]\nT4: []\n\nE.\nT1: [T3, T4]\nT2: [T1, T3, T4]\nT3: [T4]\nT4: []", "solution": "一条有向边从每个先决任务指向依赖于它的任务。设 $G=(V,E)$，其中 $V=\\{\\mathrm{T1},\\mathrm{T2},\\mathrm{T3},\\mathrm{T4}\\}$。从依赖关系可得：\n1. T1 只能在 T2 之后开始，因此 $(\\mathrm{T2},\\mathrm{T1})\\in E$。\n2. T3 需要 T1 和 T2，因此 $(\\mathrm{T1},\\mathrm{T3})\\in E$ 且 $(\\mathrm{T2},\\mathrm{T3})\\in E$。\n3. T4 依赖于 T1 和 T3，因此 $(\\mathrm{T1},\\mathrm{T4})\\in E$ 且 $(\\mathrm{T3},\\mathrm{T4})\\in E$。\n\n因此，出向邻接集为：\n$$\\mathrm{Adj}(\\mathrm{T1})=\\{\\mathrm{T3},\\mathrm{T4}\\},\\quad \\mathrm{Adj}(\\mathrm{T2})=\\{\\mathrm{T1},\\mathrm{T3}\\},\\quad \\mathrm{Adj}(\\mathrm{T3})=\\{\\mathrm{T4}\\},\\quad \\mathrm{Adj}(\\mathrm{T4})=\\varnothing.$$\n将每个列表按字典序排序得到：\nT1: [T3, T4], T2: [T1, T3], T3: [T4], T4: []。\n与选项比较，这与选项 C 完全匹配，并遵守了要求的排序规则。", "answer": "$$\\boxed{C}$$", "id": "1364479"}, {"introduction": "在复杂的网络中，识别内部紧密联系的“社区”或“集群”至关重要。在有向图中，这个概念被形式化为强连通分量（SCCs），即其中的任意两个节点都可以相互到达。通过这个练习，你将学会如何在一个给定的有向图中识别出所有的强连通分量，这是理解网络结构和功能的核心技能。[@problem_id:1497280]", "problem": "有向图是一种基本结构，用于建模具有方向性的关系，例如单行道网络、项目管理中的依赖关系图或通信网络中的信息流。分析有向图的一个关键概念是将其分解为强连通分量。\n\n有向图的**强连通分量 (SCC)** 是一个顶点的极大集合 $C$，使得对于 $C$ 中的每一对顶点 $u$ 和 $v$，都存在一条从 $u$ 到 $v$ 的有向路径和一条从 $v$ 到 $u$ 的有向路径。所有强连通分量的集合构成了图的顶点集的一个划分。\n\n考虑一个有向图 $G = (V, E)$，其顶点集为 $V = \\{1, 2, 3, 4, 5, 6, 7, 8\\}$，边集 $E$ 包含以下有向边：\n$E = \\{(1, 2), (2, 3), (2, 7), (3, 1), (3, 4), (4, 5), (5, 6), (6, 4), (6, 8)\\}$。\n\n确定顶点集 $V$ 到其强连通分量的划分。下列哪项表示了这个划分？\n\nA. $\\{\\{1, 2, 3\\}, \\{4, 5, 6\\}, \\{7\\}, \\{8\\}\\}$\nB. $\\{\\{1, 2, 3, 4, 5, 6, 7, 8\\}\\}$\nC. $\\{\\{1, 2, 3, 7\\}, \\{4, 5, 6\\}, \\{8\\}\\}$\nD. $\\{\\{1\\}, \\{2, 3\\}, \\{4, 5, 6\\}, \\{7\\}, \\{8\\}\\}$\nE. $\\{\\{1, 2, 3\\}, \\{4, 5, 6, 8\\}, \\{7\\}\\}$", "solution": "我们通过分析相互可达性来确定有向图 $G=(V,E)$（其中 $V=\\{1,2,3,4,5,6,7,8\\}$ 且 $E=\\{(1,2),(2,3),(2,7),(3,1),(3,4),(4,5),(5,6),(6,4),(6,8)\\}$）的强连通分量 (SCC)。我们使用的定义是：一个SCC是一个极大子集 $C \\subseteq V$，使得对于任意 $u,v \\in C$，都存在从 $u$ 到 $v$ 和从 $v$ 到 $u$ 的有向路径。\n\n首先，考虑顶点 $\\{1,2,3\\}$。边 $(1,2)$、$(2,3)$ 和 $(3,1)$ 构成了有向环 $1 \\to 2 \\to 3 \\to 1$。因此：\n- $1 \\to 2$ 可直接到达，$2 \\to 1$ 可通过路径 $2 \\to 3 \\to 1$ 到达，\n- $2 \\to 3$ 可直接到达，$3 \\to 2$ 可通过路径 $3 \\to 1 \\to 2$ 到达，\n- $1 \\to 3$ 可通过路径 $1 \\to 2 \\to 3$ 到达，$3 \\to 1$ 可直接到达。\n因此，$\\{1,2,3\\}$ 中的所有顶点对都是相互可达的。存在离开该集合的边，即 $(2,7)$ 和 $(3,4)$，但边集 $E$ 中没有从顶点 $7$ 或 $\\{4,5,6,8\\}$ 中任何顶点返回到 $\\{1,2,3\\}$ 的边。具体来说，$7$ 没有出边，而在 $\\{4,5,6,8\\}$ 中，仅有的出边是 $(4,5)$、$(5,6)$、$(6,4)$ 和 $(6,8)$，它们都不指向 $\\{1,2,3\\}$。因此，不存在从 $\\{1,2,3\\}$ 外部任何顶点回到 $\\{1,2,3\\}$ 内部的有向路径，所以包含 $1$ 的极大强连通分量是 $C_{1}=\\{1,2,3\\}$。\n\n接下来，考虑顶点 $\\{4,5,6\\}$。边 $(4,5)$、$(5,6)$ 和 $(6,4)$ 构成了有向环 $4 \\to 5 \\to 6 \\to 4$。因此：\n- $4 \\to 5$ 可直接到达，$5 \\to 4$ 可通过路径 $5 \\to 6 \\to 4$ 到达，\n- $5 \\to 6$ 可直接到达，$6 \\to 5$ 可通过路径 $6 \\to 4 \\to 5$ 到达，\n- $4 \\to 6$ 可通过路径 $4 \\to 5 \\to 6$ 到达，$6 \\to 4$ 可直接到达。\n因此，$\\{4,5,6\\}$ 中的所有顶点对都是相互可达的。存在一条离开该集合的出边 $(6,8)$，但顶点 $8$ 没有出边，因此无法返回到 $\\{4,5,6\\}$ 中的任何一个顶点。存在一条来自 $\\{1,2,3\\}$ 的入边 $(3,4)$，但没有从 $\\{4,5,6\\}$ 返回到 $\\{1,2,3\\}$ 中任何一个顶点的路径。因此，这里的极大强连通分量是 $C_{2}=\\{4,5,6\\}$。\n\n现在考虑顶点 $7$。它只有一条入边 $(2,7)$，在 $E$ 中没有出边。因此，从 $7$ 出发，不存在到任何其他顶点的有向路径，它只能到达自身（通过平凡路径）。因此，$7$ 自身构成一个单元素强连通分量，$C_{3}=\\{7\\}$。\n\n最后，考虑顶点 $8$。它只有一条入边 $(6,8)$，在 $E$ 中没有出边。因此，从 $8$ 出发，不存在到任何其他顶点的有向路径，它只能到达自身（通过平凡路径）。因此，$8$ 自身构成一个单元素强连通分量，$C_{4}=\\{8\\}$。\n\n综上所述，$V$ 的强连通分量划分为 $\\{\\{1,2,3\\},\\{4,5,6\\},\\{7\\},\\{8\\}\\}$，这与选项 A 相符。", "answer": "$$\\boxed{A}$$", "id": "1497280"}, {"introduction": "许多现实世界的工作流，例如软件部署或课程先决条件，都可以被建模为无环有向图（DAG）。对于这样的图，一个关键问题是确定一个所有任务的有效执行序列，即拓扑排序。这个练习不仅要求你理解拓扑排序的概念，还进一步挑战你计算在给定约束下所有可能的有效排序方案总数，展示了图论在组合优化问题中的威力。[@problem_id:1364426]", "problem": "一家软件公司正在为其一个新项目构建部署流水线，该项目由三个独立的微服务组成：一个身份验证服务、一个计费服务和一个目录服务。每个服务的部署都涉及两个不同的任务：部署后端和部署前端。\n\n对于这三个服务中的每一个，其后端组件必须在其相应的前端组件部署之前成功部署。\n我们将这些任务表示如下：\n- 身份验证服务：$A_B$ (后端) 和 $A_F$ (前端)。\n- 计费服务：$B_B$ (后端) 和 $B_F$ (前端)。\n- 目录服务：$C_B$ (后端) 和 $C_F$ (前端)。\n\n依赖关系如下：\n1. $A_B$ 必须在 $A_F$ 之前完成。\n2. $B_B$ 必须在 $B_F$ 之前完成。\n3. $C_B$ 必须在 $C_F$ 之前完成。\n\n这六个任务之间没有其他依赖关系。一个完整的部署计划是所有六个任务的一个特定的线性序列。有多少种不同的有效部署计划是可能的？", "solution": "我们有六个不同的任务：$A_B, A_F, B_B, B_F, C_B, C_F$，它们有先后顺序约束 $A_B \\prec A_F$, $B_B \\prec B_F$, 和 $C_B \\prec C_F$，并且没有其他依赖关系。一个有效的部署计划是这六个任务在遵守这三个约束条件下的一个线性排序（排列）。\n\n如果没有约束，六个不同任务的线性排序数量为\n$$\n6!.\n$$\n这三个约束分别限制了一个不相交对内的相对顺序。考虑以下组合论证。将所有 $6!$ 个排列的集合划分为等价类，其中两个排列是等价的，如果一个排列可以通过在三个不相交对 $\\{A_B, A_F\\}$, $\\{B_B, B_F\\}$, 和 $\\{C_B, C_F\\}$ 的任意子集内独立地交换两个元素而从另一个排列得到。对于这三对中的每一对，都有正好 $2$ 种可能的内部顺序，因此每个等价类的大小为\n$$\n2^{3}.\n$$\n在任何这样的类中，只有一个排列将每个后端放在其对应的前端之前，因此只有一个排列满足所有三个先后顺序约束。因此，有效的部署计划总数为\n$$\n\\frac{6!}{2^{3}}.\n$$\n计算得，\n$$\n\\frac{6!}{2^{3}}=\\frac{720}{8}=90.\n$$\n因此，有 $90$ 种不同的有效部署计划。", "answer": "$$\\boxed{90}$$", "id": "1364426"}]}