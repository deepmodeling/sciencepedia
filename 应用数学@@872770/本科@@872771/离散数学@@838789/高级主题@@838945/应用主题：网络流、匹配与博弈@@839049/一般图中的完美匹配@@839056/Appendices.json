{"hands_on_practices": [{"introduction": "理论学习之后，一个自然的问题是：在一个给定的图中，究竟有多少个完美匹配？这个练习将通过一个具体例子——完全图 $K_6$ ——来巩固你对完美匹配定义的理解。通过解决这个问题，你将实践组合计数的基本技巧，特别是如何处理由对称性导致的重复计数，从而精确计算出匹配的总数。[@problem_id:1390456]", "problem": "在图论中，一个无向图由一个顶点集和一个边集组成，其中每条边连接一对不同的顶点。图中的一个**匹配**是一个边的集合，其中任意两条边都不共享一个公共顶点。如果图中的每个顶点都恰好是匹配中一条边的端点，则该匹配称为**完美匹配**。\n\n一个具有 $n$ 个顶点的**完全图**，记作 $K_n$，是这样一个图，其中每对不同的顶点都由一条唯一的边连接。\n\n考虑一个有 6 个顶点的完全图 $K_6$。计算这个图中不同完美匹配的总数。", "solution": "$K_{6}$ 中的一个完美匹配对应于将这 $6$ 个带标签的顶点划分成 $3$ 个不相交的无序对。计算排列这 $6$ 个顶点的所有方式，然后除以配对的对称性：\n- 这 $6$ 个顶点有 $6!$ 种排列方式。\n- 每对内部可以以 $2$ 种方式交换，因此 $3$ 对贡献了 $2^{3}$ 的因子。\n- 这 $3$ 对本身可以以 $3!$ 种方式排序。\n\n因此，不同完美匹配的总数为\n$$\n\\frac{6!}{2^{3} 3!}.\n$$\n计算得，\n$$\n\\frac{6!}{2^{3} 3!}=\\frac{720}{8 \\cdot 6}=\\frac{720}{48}=15.\n$$\n等价地，使用 $K_{2n}$ 的双阶乘形式，数量为 $(2n-1)!!$，对于 $n=3$，结果为 $5 \\cdot 3 \\cdot 1=15$。", "answer": "$$\\boxed{15}$$", "id": "1390456"}, {"introduction": "从“有多少”到“是否存在”，我们转向一个更根本的问题。一个图的结构性质如何决定其是否拥有完美匹配？本练习探讨了正则图（一种在网络理论中常见的结构）中完美匹配的存在性条件。通过分析一个具体的8顶点3-正则图案例，你将有机会运用如图论基本定理（如 Petersen 定理）和反证法等有力的工具，来揭示图的连通性（特别是“桥”的存在与否）与完美匹配之间的深刻联系。[@problem_id:1390472]", "problem": "在网络理论中，一种常见的拓扑结构是*k-正则图*，其中每个节点（顶点）恰好有*k*个连接（边）。*简单图*是指没有自环（从一个顶点到其自身的边）且任意两个顶点之间最多只有一条边的图。对于某些网络协议，一个关键属性是*完美匹配*的存在性。完美匹配是一个边的集合，其中任意两条边都不共享顶点，并且图中的每个顶点都恰好是集合中一条边的端点。这相当于将所有节点划分为互不相交的、由直接相连的节点组成的对。\n\n在连通图中，如果移除一条边会增加图的连通分量数量，则称该边为*桥*。\n\n一位系统架构师正在研究包含8个节点的通信网络，其中每个节点都恰好连接到另外3个节点。他们感兴趣的是，是否存在这样一种网络设计，它*无法*被完美地划分为通信对。下列哪个陈述正确地描述了这种情况？\n\nA. 每个具有8个顶点的简单3-正则图都有一个完美匹配。\n\nB. （在同构意义下）存在且仅存在一个没有完美匹配的、具有8个顶点的简单3-正则图。\n\nC. （在同构意义下）存在且仅存在两个没有完美匹配的、不同的、具有8个顶点的简单3-正则图。\n\nD. （在同构意义下）存在两个以上没有完美匹配的、不同的、具有8个顶点的简单3-正则图。", "solution": "设 $G$ 是一个具有 $n=8$ 个顶点的简单 $3$-正则图。我们来证明 $G$ 必定有一个完美匹配。\n\n我们使用以下定理：彼得森定理（Petersen's theorem）指出，每个无桥的立方图（即 $3$-正则图）都有一个完美匹配。因此，如果一个立方图没有完美匹配，它必定包含一个桥。\n\n采用反证法，假设 $G$ 没有完美匹配。那么 $G$ 必定有一个桥 $e=uv$。考虑图 $G-e$，它恰好有两个连通分量；设一个分量是 $H$，有 $m$ 个顶点（包含 $u$），另一个分量是 $H'$，有 $n-m$ 个顶点（包含 $v$），其中 $n=8$。\n\n在分量 $H$ 中，各顶点的度如下：顶点 $u$ 的度为 $2$（因为它失去了边 $e$），而其他每个顶点的度仍为 $3$（没有其他边被移除）。因此，$H$ 中所有顶点的度之和为\n$$\n\\sum_{x \\in V(H)} \\deg_{H}(x) = 2 + 3(m-1) = 3m - 1.\n$$\n根据握手引理，任何有限图中所有顶点的度之和是边数的两倍，因此为偶数。所以 $3m - 1$ 是偶数，这意味着 $m$ 是奇数：\n$$\n3m - 1 \\equiv 0 \\pmod{2} \\;\\Longrightarrow\\; 3m \\equiv 1 \\pmod{2} \\;\\Longrightarrow\\; m \\equiv 1 \\pmod{2}.\n$$\n同样的推理也适用于 $H'$，因此两个分量都含有奇数个顶点。由于 $m + (n - m) = n = 8$，要使两个分量的大小都为奇数，唯一的方式是一个大小为 $3$，另一个大小为 $5$。\n\n现在，因为 $G$ 是简单 $3$-正则图，在每个分量中，除了桥的端点外，所有顶点在该分量内的度都必须为 $3$。在一个有 $m$ 个顶点的简单图中，最大可能的度是 $m-1$。因此，为了使 $H$ 中存在度为 $3$ 的顶点，我们必须有\n$$\nm - 1 \\geq 3 \\;\\Longrightarrow\\; m \\geq 4.\n$$\n将此与 $m$ 为奇数的奇偶性约束相结合，得到 $m \\geq 5$。\n因此，$G-e$ 的每个分量都必须至少有 $5$ 个顶点，这意味着\n$$\nn \\geq 5 + 5 = 10,\n$$\n这与 $n=8$ 相矛盾。\n\n因此，$G$ 没有桥。根据彼得森定理，每个无桥的立方图都有一个完美匹配，所以 $G$ 有一个完美匹配。由于我们的论证除了在桥的论证部分外并未对连通性作假设，因此这个结论对所有具有8个顶点的简单3-正则图都成立。\n\n因此，每个具有8个顶点的简单3-正则图都有一个完美匹配，这对应于选项A。", "answer": "$$\\boxed{A}$$", "id": "1390472"}, {"introduction": "知道了完美匹配的存在性是一回事，但如何找到它则是算法设计的核心挑战。这个实践将你的思维从理论证明转向算法分析。它要求你评估一个直观的“贪心”算法，该算法试图通过局部最优选择来构建完美匹配。通过寻找一个反例，你将亲身体会到为何简单的贪心策略可能会失败，即使完美匹配确实存在，这为理解更高级的匹配算法（如增广路算法）提供了重要动机。[@problem_id:1390501]", "problem": "一位系统架构师正在设计一个通信网络。该网络表示为一个图 $G=(V, E)$，其中 $V$ 中的顶点是服务器，$E$ 中的边是直接通信链路。一个“配对”是一组链路的集合，其中任意两条链路都不共享同一个服务器。一个“完美配对”，也称为完美匹配，是涉及网络中所有服务器的配对。\n\n该架构师提出了一种简单的贪心算法，我们称之为 `MinDegree-Greedy`，用于寻找完美配对：\n1. 初始化一个空配对 $M$。\n2. 当网络中仍有服务器时：\n   a. 识别出活动连接数最少的服务器 $u$（即当前图中度数最小的顶点）。\n   b. 选择 $u$ 的一个连接，比如说连接到服务器 $v$，并将链路 $\\{u, v\\}$ 添加到配对 $M$ 中。\n   c. 从网络中移除服务器 $u$ 和 $v$ 以及所有与它们相连的链路。\n3. 最终的集合 $M$ 就是所提出的配对。\n\n如果算法终止时 $M$ 不是一个完美配对（意味着有些服务器未被配对），则认为该算法“失败”。架构师需要找出一个网络拓扑结构，在该拓扑结构上 `MinDegree-Greedy` 算法可能会失败，即使该拓扑结构保证存在完美匹配。\n\n给定以下图的描述，哪一个代表了 `MinDegree-Greedy` 算法可能失败的网络？假设如果存在多个最小度顶点或与其相连的边的选择，算法可以做出其中任意一种选择。下面列出的所有图都保证至少存在一个完美配对。\n\nA. 一个包含6个顶点的图，排列成一个单一的环（六边形网络，通常表示为 $C_6$）。\n\nB. 一个包含8个顶点的图，由两个分离、不相连的正方形组成（两个不相交的4-环，表示为 $C_4 \\cup C_4$）。\n\nC. 一个包含6个顶点的图，通过取两个分离的三角形（3-环）并添加一条连接第一个三角形的一个顶点与第二个三角形的一个顶点的边来构建。\n\nD. 一个包含8个顶点的图，排列成一条单一的路径（一条包含8个服务器的线，表示为 $P_8$）。", "solution": "我们分析列出的每个图，根据失败的定义：如果算法只做出允许的选择（总是选择一个最小度顶点及其任意一条关联边），但最终因为下一步变得不可能（例如，当仍有顶点存在时遇到一个度为零的顶点）而导致至少一个顶点未被匹配，则算法失败。\n\nA. 对于 $C_{6}$，所有顶点初始度数都为 $2$。选择任意一条边 $\\{u,v\\}$ 会移除 $u$ 和 $v$，剩下的 $4$ 个顶点形成一条路径 $P_{4}$。在路径上，端点的度数为 $1$，算法每次被迫选择一条端点边。迭代过程将 $P_{4}$ 简化为 $P_{2}$，然后到空图，从而产生一个完美匹配。因此，该算法在 $C_{6}$ 上不会失败。\n\nB. 对于 $C_{4} \\cup C_{4}$，每个顶点初始度数都为 $2$。如果算法在一个 $C_{4}$ 中选择一条边，比如说 $\\{u,v\\}$，移除它们后，它们所在的分量会变成连接剩下两个顶点的一条边，而另一个 $C_{4}$ 保持不变。这条单边的端点现在的度数为 $1$，严格小于未受影响的 $C_{4}$ 中顶点的度数 $2$，所以算法下一步必须选择这条单边，从而完成该分量的匹配。然后它对剩下的 $C_{4}$ 执行与A部分完全相同的操作，得到一个完美匹配。因此，在 $C_{4} \\cup C_{4}$ 上不会发生失败。\n\nC. 考虑由一条桥连接的两个三角形。将第一个三角形的顶点标记为 $a_{1},a_{2},a_{3}$，其中 $a_{1}$ 与桥相连；将第二个三角形的顶点标记为 $b_{1},b_{2},b_{3}$，其中 $b_{1}$ 与桥相连。各顶点的度数为 $\\deg(a_{1})=\\deg(b_{1})=3$ 和 $\\deg(a_{2})=\\deg(a_{3})=\\deg(b_{2})=\\deg(b_{3})=2$，所以最小度数为 $2$，由 $a_{2},a_{3},b_{2},b_{3}$ 达到。存在一个完美匹配：取桥边 $\\{a_{1},b_{1}\\}$，然后在每个三角形内部匹配两个非桥顶点，例如 $\\{a_{2},a_{3}\\}$ 和 $\\{b_{2},b_{3}\\}$。\n\n然而，算法可能因允许的选择而失败。选择一个最小度顶点，比如 $a_{2}$，然后选择其关联边 $\\{a_{2},a_{1}\\}$。移除 $a_{2}$ 和 $a_{1}$ 会删除所有与它们关联的边，特别是会移除 $a_{3}$ 的两条边（即 $\\{a_{3},a_{1}\\}$ 和 $\\{a_{3},a_{2}\\}$）。这会孤立 $a_{3}$，使其度数变为 $0$，而此时图中仍有其他顶点。下一步无法选择与 $a_{3}$ 关联的边，因此算法会卡住，留下未匹配的顶点。因此，尽管存在完美匹配，`MinDegree-Greedy` 算法仍可能在此图上失败。\n\nD. 对于 $P_{8}$，两个端点的度数为 $1$，这是最小度数。算法必须选择一个端点及其唯一的关联边，将 $P_{8}$ 简化为 $P_{6}$；重复此过程会依次简化为 $P_{4}$、$P_{2}$，然后是空图。这总是会产生一个完美匹配，所以算法在 $P_{8}$ 上不会失败。\n\n因此，在给定的选项中，只有选项C中的图允许一个有效的贪心选择序列导致失败。", "answer": "$$\\boxed{C}$$", "id": "1390501"}]}