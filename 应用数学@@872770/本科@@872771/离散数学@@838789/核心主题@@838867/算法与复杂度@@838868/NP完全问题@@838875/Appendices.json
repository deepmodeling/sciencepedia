{"hands_on_practices": [{"introduction": "在我们深入研究寻找 NP 完全问题解的复杂性之前，首先必须掌握其基础。这项练习将带你亲手操作一个 3-SAT 公式的核心机制：给定一个具体的真值赋值，你将直接验证哪些子句被满足。这个基本技能是理解布尔可满足性问题（SAT）为何如此重要的第一步 [@problem_id:1410968]。", "problem": "在计算复杂性理论中，布尔可满足性问题（SAT）是一个基础性问题。一个常见的变体是3-可满足性问题（3-SAT）。一个布尔公式处于3-合取范式（3-CNF）中，如果它是一系列子句的合取，其中每个子句是恰好三个文字的析取。一个文字是一个布尔变量或其否定。我们使用符号 $\\land$ 来表示逻辑与（合取），$\\lor$ 来表示逻辑或（析取），以及 $\\neg$ 来表示逻辑非（否定）。\n\n考虑一个定义在四个布尔变量集合 $\\{x_1, x_2, x_3, x_4\\}$ 上的3-CNF公式 $\\phi$。该公式 $\\phi$ 由以下五个子句的合取给出：\n$C_1 = (\\neg x_1 \\lor x_2 \\lor \\neg x_3)$\n$C_2 = (\\neg x_1 \\lor x_2 \\lor x_4)$\n$C_3 = (x_1 \\lor x_2 \\lor x_3)$\n$C_4 = (\\neg x_2 \\lor \\neg x_3 \\lor x_4)$\n$C_5 = (x_3 \\lor \\neg x_4 \\lor x_2)$\n\n所以，完整的公式是 $\\phi = C_1 \\land C_2 \\land C_3 \\land C_4 \\land C_5$。\n\n如果在一个真值指派下，一个子句中至少有一个文字的求值为“真”，则称该子句被该真值指派所满足。只有当公式 $\\phi$ 的所有子句都被满足时，整个公式才被满足。\n\n给定以下真值指派 $A$：\n$x_1 = \\text{True}$\n$x_2 = \\text{False}$\n$x_3 = \\text{True}$\n$x_4 = \\text{False}$\n\n确定在真值指派 $A$ 下，公式 $\\phi$ 中被满足的子句总数。", "solution": "一个3-CNF公式中的子句，如果其至少一个文字的求值为 $\\text{True}$，则该子句被满足。逻辑析取 $\\lor$ 在至少一个操作数为 $\\text{True}$ 时求值为 $\\text{True}$，而否定满足 $\\neg \\text{True}=\\text{False}$ 和 $\\neg \\text{False}=\\text{True}$。在赋值 $A$（其中 $x_{1}=\\text{True}$，$x_{2}=\\text{False}$，$x_{3}=\\text{True}$，$x_{4}=\\text{False}$）下，我们首先计算所需的否定值：$\\neg x_{1}=\\text{False}$，$\\neg x_{2}=\\text{True}$，$\\neg x_{3}=\\text{False}$，$\\neg x_{4}=\\text{True}$。\n\n对每个子句求值：\n$$C_{1}=(\\neg x_{1}\\lor x_{2}\\lor \\neg x_{3})=(\\text{False}\\lor \\text{False}\\lor \\text{False})=\\text{False},$$\n$$C_{2}=(\\neg x_{1}\\lor x_{2}\\lor x_{4})=(\\text{False}\\lor \\text{False}\\lor \\text{False})=\\text{False},$$\n$$C_{3}=(x_{1}\\lor x_{2}\\lor x_{3})=(\\text{True}\\lor \\text{False}\\lor \\text{True})=\\text{True},$$\n$$C_{4}=(\\neg x_{2}\\lor \\neg x_{3}\\lor x_{4})=(\\text{True}\\lor \\text{False}\\lor \\text{False})=\\text{True},$$\n$$C_{5}=(x_{3}\\lor \\neg x_{4}\\lor x_{2})=(\\text{True}\\lor \\text{True}\\lor \\text{False})=\\text{True}.$$\n\n因此，赋值 $A$ 恰好满足三个子句：$C_{3}$，$C_{4}$ 和 $C_{5}$。", "answer": "$$\\boxed{3}$$", "id": "1410968"}, {"introduction": "3-SAT 之所以成为 NP 完全问题的典范，部分原因在于许多其他问题都可以有效地“转换”或归约到它。这项练习将揭示这一强大技术的冰山一角，通过引入一个辅助变量，你将学会如何将一个更长的逻辑子句分解为等价的 3-SAT 子句。掌握这项技能对于理解 NP 完全性的证明至关重要 [@problem_id:1410930]。", "problem": "在一门计算复杂性理论课程中，一个名叫 Alex 的学生正在学习 3-可满足性 (3-SAT) 是 NP完全的证明。在许多相关证明中，一个关键步骤是将一个通用的 k-可满足性问题归约到 3-SAT。这涉及到将任何包含超过 3 个文字的子句转换为一组每个最多包含 3 个文字的子句，同时保持可满足性。\n\nAlex 考虑一个大小为 4 的特定子句 $C = (x_1 \\lor x_2 \\lor x_3 \\lor \\neg x_4)$，其中 $x_1, x_2, x_3, x_4$ 是布尔变量。一个文字是一个变量或其否定。一个子句是文字的析取 (OR)。一个合取范式 (CNF) 公式是子句的合取 (AND)。如果一个公式是 CNF 形式，并且每个子句都恰好有 3 个文字，那么它就是 3-CNF 形式。\n\n任务是找到一个新的公式 $C'$，它是 3-文字子句的合取，使得 $C'$ 是可满足的当且仅当原始子句 $C$ 是可满足的。这种转换可以通过引入一个新的辅助布尔变量（我们称之为 $z_1$）来实现。\n\n下列哪个公式是 $C$ 到一个等可满足的 CNF 公式（其中每个子句有 3 个文字）的正确转换？选择所有适用的选项。\n\nA. $(x_1 \\lor x_2 \\lor z_1) \\land (\\neg z_1 \\lor x_3 \\lor \\neg x_4)$\n\nB. $(x_1 \\lor x_2 \\lor z_1) \\land (\\neg z_1 \\lor x_3 \\lor x_4)$\n\nC. $(x_1 \\lor x_2 \\lor \\neg z_1) \\land (z_1 \\lor x_3 \\lor \\neg x_4)$\n\nD. $(x_1 \\lor z_1 \\lor \\neg z_1) \\land (x_2 \\lor x_3 \\lor \\neg x_4)$", "solution": "我们需要一个使用新变量 $z_{1}$ 的 3-CNF 公式 $C'$，使得对于原始变量 $(x_{1},x_{2},x_{3},x_{4})$ 的每一个固定赋值，原始子句 $C=(x_{1}\\lor x_{2}\\lor x_{3}\\lor \\neg x_{4})$ 为真，当且仅当存在一个对 $z_{1}$ 的赋值使得 $C'$ 为真。这便是在从 $k$-SAT 到 $3$-SAT 的标准归约中所需的等可满足性条件。\n\n我们逐一验证每个选项。\n\n选项 A：$C'=(x_{1}\\lor x_{2}\\lor z_{1})\\land(\\neg z_{1}\\lor x_{3}\\lor \\neg x_{4})$。\n- 如果 $C$ 为真：\n  - 如果 $(x_{1}\\lor x_{2})$ 为真，设置 $z_{1}=0$。那么第一个子句变为 $(x_{1}\\lor x_{2}\\lor 0)=(x_{1}\\lor x_{2})$，为真；第二个子句变为 $(1\\lor x_{3}\\lor \\neg x_{4})$，为真。\n  - 如果 $(x_{1}\\lor x_{2})$ 为假，那么 $(x_{3}\\lor \\neg x_{4})$ 必须为真。设置 $z_{1}=1$。那么第一个子句变为 $(x_{1}\\lor x_{2}\\lor 1)$，为真；第二个子句变为 $(0\\lor x_{3}\\lor \\neg x_{4})=(x_{3}\\lor \\neg x_{4})$，为真。\n  因此，如果 $C$ 为真，则存在一个 $z_{1}$ 使得 $C'$ 为真。\n- 反之，如果对于某个 $z_{1}$，$C'$ 为真：\n  - 如果 $z_{1}=0$，那么第一个子句是 $(x_{1}\\lor x_{2})$，所以 $(x_{1}\\lor x_{2})$ 为真，因此 $C$ 为真。\n  - 如果 $z_{1}=1$，那么第二个子句是 $(x_{3}\\lor \\neg x_{4})$，所以 $(x_{3}\\lor \\neg x_{4})$ 为真，因此 $C$ 为真。\n因此 A 是一个正确的等可满足转换。\n\n选项 B：$C'=(x_{1}\\lor x_{2}\\lor z_{1})\\land(\\neg z_{1}\\lor x_{3}\\lor x_{4})$。\n考虑赋值 $x_{1}=0$, $x_{2}=0$, $x_{3}=0$, $x_{4}=1$。那么 $C=(0\\lor 0\\lor 0\\lor 0)=0$。但是 $C'$ 变为 $(0\\lor 0\\lor z_{1})\\land(\\neg z_{1}\\lor 0\\lor 1)=z_{1}\\land 1$，通过选择 $z_{1}=1$ 可以使其为真。因此 $C$ 为假而 $C'$ 是可满足的，所以 B 与 $C$ 不是等可满足的。\n\n选项 C：$C'=(x_{1}\\lor x_{2}\\lor \\neg z_{1})\\land(z_{1}\\lor x_{3}\\lor \\neg x_{4})$。\n- 如果 $C$ 为真：\n  - 如果 $(x_{1}\\lor x_{2})$ 为真，设置 $z_{1}=1$。那么第一个子句是 $(x_{1}\\lor x_{2}\\lor 0)=(x_{1}\\lor x_{2})$，为真；第二个子句是 $(1\\lor x_{3}\\lor \\neg x_{4})$，为真。\n  - 如果 $(x_{1}\\lor x_{2})$ 为假，那么 $(x_{3}\\lor \\neg x_{4})$ 必须为真。设置 $z_{1}=0$。那么第一个子句是 $(x_{1}\\lor x_{2}\\lor 1)$，为真；第二个子句是 $(0\\lor x_{3}\\lor \\neg x_{4})=(x_{3}\\lor \\neg x_{4})$，为真。\n  因此，如果 $C$ 为真，则存在一个 $z_{1}$ 使得 $C'$ 为真。\n- 反之，如果对于某个 $z_{1}$，$C'$ 为真：\n  - 如果 $z_{1}=1$，那么第一个子句化简为 $(x_{1}\\lor x_{2})$，所以 $C$ 为真。\n  - 如果 $z_{1}=0$，那么第二个子句化简为 $(x_{3}\\lor \\neg x_{4})$，所以 $C$ 为真。\n因此 C 是一个正确的等可满足转换。\n\n选项 D：$C'=(x_{1}\\lor z_{1}\\lor \\neg z_{1})\\land(x_{2}\\lor x_{3}\\lor \\neg x_{4})$。\n第一个子句是一个永真式，因为 $(z_{1}\\lor \\neg z_{1})$ 总是为真，所以 $C'$ 等价于 $(x_{2}\\lor x_{3}\\lor \\neg x_{4})$。取 $x_{1}=1$, $x_{2}=0$, $x_{3}=0$, $x_{4}=1$。那么 $C=(1\\lor 0\\lor 0\\lor 0)=1$，但是 $C'=(0\\lor 0\\lor 0)=0$，这与 $z_{1}$ 无关。因此 D 与 $C$ 不是等可满足的。\n\n因此，选项 A 和 C 是正确的。", "answer": "$$\\boxed{AC}$$", "id": "1410930"}, {"introduction": "问题复杂性的边界有时仅一线之隔。虽然 3-SAT 是 NP 完全的，但它的“近亲”2-SAT 却可以在多项式时间内解决。这项练习将引导你通过构建蕴含图来探索 2-SAT 问题的独特结构，并理解为何这种结构让问题变得“容易”处理。通过这个对比，你将更深刻地体会到是什么让 3-SAT 如此难以解决 [@problem_id:1410949]。", "problem": "在计算复杂性研究中，2-可满足性（2-SAT）问题与NP完全的3-可满足性（3-SAT）问题形成了一个关键的对比。一个2-SAT实例是一个合取范式下的布尔公式，其中每个子句恰好包含两个文字。一个关键定理指出，一个2-SAT公式是可满足的，当且仅当对于每一个变量 $x_i$，文字 $x_i$ 及其否定 $\\neg x_i$ 不属于该公式蕴含图中的同一个强连通分量。\n\n考虑以下定义在变量 $x_1, x_2, x_3$ 上的2-SAT公式 $\\phi$：\n$$ \\phi = (\\neg x_1 \\lor x_2) \\land (x_2 \\lor x_3) \\land (\\neg x_2 \\lor \\neg x_3) \\land (x_3 \\lor x_1) \\land (\\neg x_1 \\lor \\neg x_2) $$\n基于对 $\\phi$ 的蕴含图的分析，以下哪个陈述是正确的？\n\nA. 文字 $x_1$ 和 $\\neg x_1$ 在同一个强连通分量中。\n\nB. 文字 $x_2$ 和 $\\neg x_2$ 在同一个强连通分量中。\n\nC. 文字 $x_3$ 和 $\\neg x_3$ 在同一个强连通分量中。\n\nD. 对于每个变量 $x_i$，文字 $x_i$ 和 $\\neg x_i$ 在不同的强连通分量中。", "solution": "我们使用标准的2-SAT蕴含图构造方法：每个子句 $(a \\lor b)$ 等价于一对蕴含式 $(\\neg a \\to b)$ 和 $(\\neg b \\to a)$。一个2-SAT公式是可满足的，当且仅当对于每个变量 $x_{i}$，文字 $x_{i}$ 和 $\\neg x_{i}$ 不在蕴含图的同一个强连通分量（SCC）中。\n\n给定\n$$\n\\phi=(\\neg x_{1}\\lor x_{2})\\land(x_{2}\\lor x_{3})\\land(\\neg x_{2}\\lor\\neg x_{3})\\land(x_{3}\\lor x_{1})\\land(\\neg x_{1}\\lor\\neg x_{2}),\n$$\n我们将每个子句转换为蕴含式：\n\n1. 从 $(\\neg x_{1}\\lor x_{2})$ 得到：$(x_{1}\\to x_{2})$ 和 $(\\neg x_{2}\\to \\neg x_{1})$。\n2. 从 $(x_{2}\\lor x_{3})$ 得到：$(\\neg x_{2}\\to x_{3})$ 和 $(\\neg x_{3}\\to x_{2})$。\n3. 从 $(\\neg x_{2}\\lor\\neg x_{3})$ 得到：$(x_{2}\\to \\neg x_{3})$ 和 $(x_{3}\\to \\neg x_{2})$。\n4. 从 $(x_{3}\\lor x_{1})$ 得到：$(\\neg x_{3}\\to x_{1})$ 和 $(\\neg x_{1}\\to x_{3})$。\n5. 从 $(\\neg x_{1}\\lor\\neg x_{2})$ 得到：$(x_{1}\\to \\neg x_{2})$ 和 $(x_{2}\\to \\neg x_{1})$。\n\n收集六个文字 $\\{x_{1},\\neg x_{1},x_{2},\\neg x_{2},x_{3},\\neg x_{3}\\}$ 之间的所有有向边，我们得到：\n$$\n\\begin{aligned}\nx_{1}\\to x_{2},\\quad x_{1}\\to \\neg x_{2},\\\\\nx_{2}\\to \\neg x_{3},\\quad x_{2}\\to \\neg x_{1},\\\\\nx_{3}\\to \\neg x_{2},\\\\\n\\neg x_{1}\\to x_{3},\\\\\n\\neg x_{2}\\to \\neg x_{1},\\quad \\neg x_{2}\\to x_{3},\\\\\n\\neg x_{3}\\to x_{2},\\quad \\neg x_{3}\\to x_{1}.\n\\end{aligned}\n$$\n\n我们通过检查相互可达性来识别强连通分量。观察环路\n$$\nx_{1}\\to x_{2}\\to \\neg x_{3}\\to x_{1},\n$$\n以及这三者之间的相互可达性：\n- $x_{1}\\to x_{2}$, $x_{2}\\to \\neg x_{3}$, $\\neg x_{3}\\to x_{1}$；\n- $x_{2}\\to x_{1}$ 通过 $x_{2}\\to \\neg x_{3}\\to x_{1}$；\n- $x_{1}\\to \\neg x_{3}$ 通过 $x_{1}\\to x_{2}\\to \\neg x_{3}$；\n- $\\neg x_{3}\\to x_{2}$ 直接可达。\n\n因此 $\\{x_{1},x_{2},\\neg x_{3}\\}$ 是一个强连通分量。\n\n类似地，观察环路\n$$\n\\neg x_{1}\\to x_{3}\\to \\neg x_{2}\\to \\neg x_{1},\n$$\n以及这三者之间的相互可达性：\n- $\\neg x_{1}\\to x_{3}$, $x_{3}\\to \\neg x_{2}$, $\\neg x_{2}\\to \\neg x_{1}$；\n- $x_{3}\\to \\neg x_{1}$ 通过 $x_{3}\\to \\neg x_{2}\\to \\neg x_{1}$；\n- $\\neg x_{2}\\to x_{3}$ 直接可达；\n- $\\neg x_{1}\\to \\neg x_{2}$ 通过 $\\neg x_{1}\\to x_{3}\\to \\neg x_{2}$。\n\n因此 $\\{\\neg x_{1},x_{3},\\neg x_{2}\\}$ 是另一个强连通分量。从 $\\{x_{1},x_{2},\\neg x_{3}\\}$ 到 $\\{\\neg x_{1},x_{3},\\neg x_{2}\\}$ 存在边（例如 $x_{1}\\to \\neg x_{2}$, $x_{2}\\to \\neg x_{1}$），但反方向没有边（即从 $\\neg x_{1},x_{3},\\neg x_{2}$ 中的任意一个到 $x_{1},x_{2},\\neg x_{3}$ 中的任意一个），所以它们是不同的强连通分量。\n\n现在根据定理检查每个变量：\n- $x_{1}$ 位于 $\\{x_{1},x_{2},\\neg x_{3}\\}$ 中，而 $\\neg x_{1}$ 位于 $\\{\\neg x_{1},x_{3},\\neg x_{2}\\}$ 中；它们在不同的强连通分量中。\n- $x_{2}$ 位于 $\\{x_{1},x_{2},\\neg x_{3}\\}$ 中，而 $\\neg x_{2}$ 位于 $\\{\\neg x_{1},x_{3},\\neg x_{2}\\}$ 中；它们在不同的强连通分量中。\n- $x_{3}$ 位于 $\\{\\neg x_{1},x_{3},\\neg x_{2}\\}$ 中，而 $\\neg x_{3}$ 位于 $\\{x_{1},x_{2},\\neg x_{3}\\}$ 中；它们在不同的强连通分量中。\n\n因此，对于每个变量 $x_i$，文字 $x_i$ 和 $\\neg x_i$ 都在不同的强连通分量中。因此，正确的陈述是D，并且该公式是可满足的。", "answer": "$$\\boxed{D}$$", "id": "1410949"}]}