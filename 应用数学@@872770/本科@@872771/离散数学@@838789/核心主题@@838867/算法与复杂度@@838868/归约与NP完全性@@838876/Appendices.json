{"hands_on_practices": [{"introduction": "计算复杂性理论的核心技巧之一是通过归约来展示问题之间的联系。这个练习将探讨两个经典的图论问题：独立集（INDEPENDENT-SET）和团（CLIQUE）。通过构建一个补图，我们将揭示这两个问题之间深刻的对偶关系，并学习如何利用一个问题的求解器来解决另一个问题。这是一个基础但至关重要的练习，它展示了归约如何通过巧妙的视角转换来解决问题 [@problem_id:1395778]。", "problem": "在计算复杂性理论中，决策问题通常通过将它们相互关联来进行研究。考虑图论中关于一个简单无向图 $G = (V, E)$ 的以下两个基本问题，其中 $V$ 是顶点集，$E$ 是边集。\n\n1.  **独立集问题 (INDEPENDENT-SET Problem)**：给定一个图 $G$ 和一个正整数 $k$，是否存在一个大小至少为 $k$ 的顶点子集 $S \\subseteq V$，使得对于 $S$ 中任意两个不同的顶点 $u, v \\in S$，边 $(u, v)$ 都不在 $E$ 中？这样的集合 $S$ 被称为独立集。\n\n2.  **团问题 (CLIQUE Problem)**：给定一个图 $G$ 和一个正整数 $k$，是否存在一个大小至少为 $k$ 的顶点子集 $C \\subseteq V$，使得对于 $C$ 中任意两个不同的顶点 $u, v \\in C$，边 $(u, v)$ 都在 $E$ 中？这样的集合 $C$ 被称为团。\n\n假设你有一个假设的、超快速的“黑盒”算法，可以在多项式时间内解决团问题。你现在的任务是为一个特定的图（我们称之为 $G_{IS}$）解决一个独立集问题的实例。该图 $G_{IS}$ 有 75 个顶点。你的目标是确定 $G_{IS}$ 是否包含一个大小至少为 18 的独立集。\n\n为了解决这个问题，你可以构建一个新图（我们称之为 $G'$），并向你的团问题求解器提出一个关于这个新图的单一问题。这个问题将以询问 $G'$ 是否包含一个特定大小的团的形式提出。\n\n对于这个问题，回想一下图 $G=(V, E)$ 的补图（记作 $\\bar{G}$）是一个具有相同顶点集 $V$ 的图，其中边 $(u,v)$ 存在的条件是当且仅当它在 $G$ 中不存在。\n\n为了解决 $G_{IS}$ 上的原始独立集问题，以下哪个选项描述了正确的图 $G'$ 和要查询的团的正确大小？\n\nA. $G'$ 与 $G_{IS}$ 是同一个图，你应该询问是否存在大小为 18 的团。\n\nB. $G'$ 是 $G_{IS}$ 的补图，你应该询问是否存在大小为 $75 - 18 = 57$ 的团。\n\nC. $G'$ 与 $G_{IS}$ 是同一个图，你应该询问是否存在大小为 $75 - 18 = 57$ 的团。\n\nD. $G'$ 是 $G_{IS}$ 的补图，你应该询问是否存在大小为 18 的团。\n\nE. 使用团问题的求解器不可能解决独立集问题。", "solution": "目标是通过使用团问题的求解器来确定图 $G_{IS} = (V, E_{IS})$ 是否具有大小至少为 $k_{IS}$ 的独立集。给定 $|V|=75$ 和 $k_{IS}=18$。\n\n让我们分析图 $G$ 中的独立集与其补图 $\\bar{G}$ 中的团之间的关系。\n\n设 $G = (V, E)$ 是一个图。其补图为 $\\bar{G} = (V, \\bar{E})$，其中 $\\bar{E}$ 是所有满足 $\\{u, v\\} \\notin E$ 的不同顶点对 $\\{u, v\\}$ 的集合。\n\n根据定义，$G$ 中的独立集是一个顶点子集 $S \\subseteq V$，使得对于 $S$ 中每一对不同的顶点 $u, v \\in S$，边 $(u, v)$ 都**不**在 $E$ 中。\n\n根据定义，$\\bar{G}$ 中的团是一个顶点子集 $C \\subseteq V$，使得对于 $C$ 中每一对不同的顶点 $u, v \\in C$，边 $(u, v)$ 都**在** $\\bar{E}$ 中。\n\n现在，让我们将这两个定义联系起来。根据补图 $\\bar{G}$ 的定义，边 $(u, v)$ 在 $\\bar{E}$ 中当且仅当边 $(u, v)$ 不在 $E$ 中。\n\n因此，条件“对于 $C$ 中每一对不同的顶点 $u, v \\in C$，边 $(u, v)$ 都在 $\\bar{E}$ 中”（$C$ 是 $\\bar{G}$ 中团的定义）完全等同于条件“对于 $C$ 中每一对不同的顶点 $u, v \\in C$，边 $(u, v)$ 都不在 $E$ 中”（$C$ 是 $G$ 中独立集的定义）。\n\n这建立了一个直接的等价关系：顶点子集 $S$ 是图 $G$ 中的一个独立集，当且仅当 $S$ 是其补图 $\\bar{G}$ 中的一个团。\n\n因此，一个图 $G$ 具有大小至少为 $k$ 的独立集，当且仅当其补图 $\\bar{G}$ 具有大小至少为 $k$ 的团。\n\n在我们的具体问题中，我们想确定图 $G_{IS}$ 是否具有大小至少为 $k_{IS}=18$ 的独立集。基于上述推理，这等同于询问 $G_{IS}$ 的补图（我们称之为 $\\bar{G}_{IS}$）是否具有大小至少为 18 的团。\n\n所以，要使用我们的团问题求解器，我们必须执行以下步骤：\n1.  构建 $G_{IS}$ 的补图。这将是我们的图 $G'$。所以，$G' = \\bar{G}_{IS}$。顶点数量仍为 75。\n2.  用图 $G'$ 和大小 $k=18$ 来查询团问题求解器。求解器将告诉我们 $G'$ 是否有大小至少为 18 的团。\n\n如果求解器返回 TRUE，那么 $\\bar{G}_{IS}$ 有一个大小至少为 18 的团，这意味着 $G_{IS}$ 有一个大小至少为 18 的独立集。如果它返回 FALSE，则 $G_{IS}$ 没有。\n\n让我们评估给定的选项：\nA. $G'$ 与 $G_{IS}$ 是同一个图，你应该询问是否存在大小为 18 的团。这是不正确的。它会测试 $G_{IS}$ 本身是否有一个大小为 18 的团，而不是一个独立集。\nB. $G'$ 是 $G_{IS}$ 的补图，你应该询问是否存在大小为 $75 - 18 = 57$ 的团。这是不正确的。补图中团的大小与原图中独立集的大小相同。大小 57 与顶点覆盖问题有关，而不是以这种直接的方式与独立集问题相关。\nC. $G'$ 与 $G_{IS}$ 是同一个图，你应该询问是否存在大小为 $75 - 18 = 57$ 的团。这有两个原因是不正确的：它使用了错误的图和错误的大小。\nD. $G'$ 是 $G_{IS}$ 的补图，你应该询问是否存在大小为 18 的团。这是正确的步骤。要查询的图是原图的补图，并且大小参数与所期望的独立集大小保持相同。\nE. 使用团问题的求解器不可能解决独立集问题。这是不正确的，因为我们刚刚描述了一个有效的多项式时间归约。\n\n因此，正确的操作过程在选项 D 中描述。", "answer": "$$\\boxed{D}$$", "id": "1395778"}, {"introduction": "许多NP完全问题都源于数论和组合学，要求从一组数中找到满足特定属性的子集。本练习聚焦于两个这样的基本问题：划分问题（PARTITION）和子集和问题（SUBSET-SUM）。通过这个练习，你将学习如何将一个划分问题实例转化为一个子集和问题实例，关键在于正确设定目标和 $k$。这个过程完美地诠释了多项式时间归约的精髓：将一个问题的“是”实例精确地映射到另一个问题的“是”实例 [@problem_id:1395761]。", "problem": "在计算复杂性理论中，许多困难问题都是通过将一个已知的NP完全问题归约到它们来证明其为非确定性多项式时间（NP）完全问题。考虑以下两个经典的NP完全问题：\n\n1.  **分割问题（PARTITION Problem）：** 给定一个正整数的多重集 $S$，是否能将 $S$ 分割成两个不相交的子集 $A$ 和 $B$（其中 $A \\cup B = S$ 且 $A \\cap B = \\emptyset$），使得 $A$ 中整数的和等于 $B$ 中整数的和？\n\n2.  **子集和问题（SUBSET-SUM Problem）：** 给定一个整数的多重集 $T$ 和一个目标整数 $k$，是否存在一个 $T$ 的非空子集，其元素之和恰好为 $k$？\n\n为了证明分割问题可以在多项式时间内归约到子集和问题（记作 $\\text{PARTITION} \\le_p \\text{SUBSET-SUM}$），我们必须从任意给定的分割问题实例构造出一个子集和问题的实例。设分割问题的一个任意实例是正整数的多重集 $S$。以下哪个选项正确描述了相应子集和问题实例的构造？该实例由数对 $(T, k)$ 表示，其中 $T$ 是一个多重集，$k$ 是目标和。\n\nA. $T = S$ 且 $k = (\\sum_{s \\in S} s) / 2$\n\nB. $T = S$ 且 $k = \\max(S)$\n\nC. $T = \\{s^2 \\mid s \\in S\\}$ 且 $k = (\\sum_{s \\in S} s^2) / 2$\n\nD. $T = S$ 且 $k = \\sum_{s \\in S} s$\n\nE. $T = \\{1/s \\mid s \\in S\\}$ 且 $k = 1$", "solution": "我们已知以下判定问题：\n- 分割问题（PARTITION）：给定一个正整数的多重集 $S$，判断是否存在不相交的子集 $A,B$ 满足 $A \\cup B = S$ 且 $\\sum_{a \\in A} a = \\sum_{b \\in B} b$。\n- 子集和问题（SUBSET-SUM）：给定一个整数的多重集 $T$ 和一个目标整数 $k$，判断是否存在一个非空子集 $U \\subseteq T$ 满足 $\\sum_{u \\in U} u = k$。\n\n为了在多项式时间内将分割问题（PARTITION）归约到子集和问题（SUBSET-SUM），我们取一个分割问题的任意实例 $S$。设其总和为\n$$\nM \\triangleq \\sum_{s \\in S} s.\n$$\n通过设置以下参数来构造子集和问题的实例 $(T,k)$：\n$$\nT = S, \\quad k = \\frac{M}{2}.\n$$\n我们通过证明“是”实例的等价性来证明其正确性。\n\n(1) 如果 $S$ 是分割问题的一个“是”实例，那么存在不相交的子集 $A,B$ 满足 $A \\cup B = S$ 且 $\\sum_{a \\in A} a = \\sum_{b \\in B} b$。将两部分的总和相加，我们得到\n$$\n\\sum_{a \\in A} a + \\sum_{b \\in B} b = M,\n$$\n所以\n$$\n\\sum_{a \\in A} a = \\sum_{b \\in B} b = \\frac{M}{2}.\n$$\n由于 $S$ 只包含正整数，所以 $M > 0$，因此 $A$ 是非空的。因此，$A \\subseteq T$ 是一个非空子集，其和 $\\sum_{a \\in A} a = k$，所以 $(T,k)$ 是子集和问题的一个“是”实例。\n\n(2) 反之，如果 $(T,k)$ 是子集和问题的一个“是”实例，那么存在一个非空子集 $U \\subseteq T=S$ 使得\n$$\n\\sum_{u \\in U} u = k = \\frac{M}{2}.\n$$\n令 $V = S \\setminus U$。那么\n$$\n\\sum_{v \\in V} v = M - \\sum_{u \\in U} u = M - \\frac{M}{2} = \\frac{M}{2}.\n$$\n因此，$(U,V)$ 是 $S$ 的一个分割，它将 $S$ 分成了两个和相等的不相交子集，这使得 $S$ 成为分割问题的一个“是”实例。\n\n因此，使用 $T=S$ 和 $k = M/2$ 的映射 $S \\mapsto (T,k)$ 保持了“是”/“否”答案的一致性。这个构造过程在多项式时间内完成：计算 $M$ 是对输入整数求和，将 $S$ 复制到 $T$ 的时间与输入大小成线性关系，而从 $M$ 生成 $k$ 是常数时间的算术运算。\n\n当 $M$ 为奇数时，分割不存在。在这种情况下，不可能存在任何整数子集的和等于 $M/2$（因为所有子集的和都是整数），所以子集和问题的实例必然是一个“否”实例。在标准的多一归约中，我们也可以先检查 $M$ 的奇偶性，如果 $M$ 是奇数，则输出一个固定的子集和问题的“否”实例；这既保持了正确性，又仍然是多项式时间的。在给定的选项中，正确的构造是 $T=S$ 且 $k = (\\sum_{s \\in S} s)/2$。\n\n其他选项失败的原因如下：\n- B: $k = \\max(S)$ 无法反映相等分割的特性（例如，即使不存在分割，答案也可能为“是”）。\n- C: 对元素求平方不会保留分割问题所需的等和结构。\n- D: $k = \\sum_{s \\in S} s$ 总是可以由整个集合（因为 $S$ 的元素都是正整数）的和达到，这使其不具信息量。\n- E: 使用了非整数元素，违反了子集和问题对整数的要求，并破坏了等价性。\n\n因此，正确选项是A。", "answer": "$$\\boxed{A}$$", "id": "1395761"}, {"introduction": "归约不仅限于在相似类型的问题之间进行，更强大的技术是能将一个问题“编码”成另一个完全不同领域的问题。本练习将向你展示如何将一个图着色问题（k-COLORING）转化为一个布尔可满足性问题（SAT）。通过为图的每个顶点和颜色创建布尔变量，并用逻辑子句来表达着色规则，我们可以将图论问题转化为逻辑问题。这个练习要求你计算生成的逻辑公式的大小，这将促使你深入理解这种编码转换的每一个细节 [@problem_id:1395817]。", "problem": "一个研究团队正在开发一个“图到逻辑编译器”，旨在将图着色问题转化为布尔可满足性（SAT）问题的实例。该编译器接收一个具有 $n = |V|$ 个顶点和 $m = |E|$ 条边的简单无向图 $G=(V, E)$，以及一个表示可用颜色数量的整数 $k > 1$。然后，它会生成一个合取范式（CNF）的布尔公式 $\\phi$，该公式是多个子句的逻辑与，其中每个子句是文字的逻辑或。该公式的构造方式使其可满足当且仅当图 $G$ 可以用 $k$ 种颜色进行着色。\n\n编译器为每个顶点 $v_i \\in V$（索引从 $i=1$ 到 $n$）和每种颜色 $c \\in \\{1, \\dots, k\\}$ 生成变量 $x_{i,c}$。赋值 $x_{i,c} = \\text{True}$ 被解释为“顶点 $v_i$ 被赋予颜色 $c$”。\n\n公式 $\\phi$ 是从以下三个规则派生出的子句的合取：\n1.  **顶点着色规则**：为每个顶点 $v_i$ 生成一个子句。该子句确保该顶点至少被赋予一种颜色，它由该顶点的所有可能颜色分配变量的析取（OR）组成。\n2.  **颜色唯一性规则**：为每个顶点 $v_i$ 和每一对不同的颜色 $\\{c_1, c_2\\}$ 生成一个子句。该子句确保该顶点不能同时被赋予两种颜色。\n3.  **边约束规则**：为每条边 $(v_i, v_j) \\in E$ 和每种颜色 $c$ 生成一个子句。该子句确保两个相邻的顶点 $v_i$ 和 $v_j$ 不被赋予相同的颜色 $c$。\n\n考虑轮图 $W_5$。该图由一个中心毂顶点连接到一个5-循环的所有顶点而形成。它总共有6个顶点和10条边。编译器用于转换该图的4-着色问题，因此我们有 $k=4$。\n\n计算编译器为图 $W_5$ 和 $k=4$ 种颜色生成的布尔公式 $\\phi$ 中的子句总数。", "solution": "我们根据规则使用组合推理来计算子句。\n\n设 $n=|V|$ 为顶点数，$m=|E|$ 为边数，$k$ 为颜色数。编译器为每个 $i \\in \\{1,\\dots,n\\}$ 和 $c \\in \\{1,\\dots,k\\}$ 生成布尔变量 $x_{i,c}$。\n\n- 顶点着色规则：对于每个顶点 $v_{i}$，一个子句强制其至少拥有一种颜色：\n$$\n(x_{i,1} \\lor x_{i,2} \\lor \\dots \\lor x_{i,k}).\n$$\n这产生 $n$ 个子句。\n\n- 颜色唯一性规则：对于每个顶点 $v_{i}$ 和每一对无序的不同颜色 $\\{c_{1},c_{2}\\}$，一个子句\n$$\n(\\neg x_{i,c_{1}} \\lor \\neg x_{i,c_{2}})\n$$\n阻止同时分配两种颜色。每个顶点有 $\\binom{k}{2}$ 对这样的颜色对，因此总共有 $n \\binom{k}{2}$ 个子句。\n\n- 边约束规则：对于每条边 $(v_{i},v_{j}) \\in E$ 和每种颜色 $c$，一个子句\n$$\n(\\neg x_{i,c} \\lor \\neg x_{j,c})\n$$\n阻止相邻顶点共享颜色 $c$。这产生 $m k$ 个子句。\n\n因此，子句的总数是\n$$\nC_{\\text{total}} \\;=\\; n \\;+\\; n \\binom{k}{2} \\;+\\; m k.\n$$\n\n对于问题中定义的轮图 $W_{5}$，有 $n=6$ 个顶点和 $m=10$ 条边，我们使用 $k=4$ 种颜色。代入，\n$$\nC_{\\text{total}} \\;=\\; 6 \\;+\\; 6 \\binom{4}{2} \\;+\\; 10 \\cdot 4\n\\;=\\; 6 \\;+\\; 6 \\cdot 6 \\;+\\; 40\n\\;=\\; 6 \\;+\\; 36 \\;+\\; 40\n\\;=\\; 82.\n$$", "answer": "$$\\boxed{82}$$", "id": "1395817"}]}