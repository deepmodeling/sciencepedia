{"hands_on_practices": [{"introduction": "递归定义不仅限于数字或字符串等抽象对象，它们同样可以用来描述空间中的点集。第一个练习 [@problem_id:1395553] 邀请你探索由简单的重复步骤在笛卡尔网格上生成的一个点集。通过解决这个问题，你将学会如何将这些生成规则转化为一个代数条件，这是分析任何递归定义结构的一项基本技能。", "problem": "考虑笛卡尔平面上的一个整坐标点集 $S$。该集合 $S$ 被递归定义如下：\n- **基础情况：** 点 $(0,0)$ 在 $S$ 中。\n- **递归步骤：** 如果点 $(x, y)$ 在 $S$ 中，那么点 $(x+2, y+1)$ 和 $(x+1, y+2)$ 也在 $S$ 中。\n- **闭包性：** 只有通过上述规则生成的点才在 $S$ 中。\n\n下列哪个点属于集合 $S$？可能有一个或多个正确选项。将所有正确选项的字母按字母顺序连接起来作为你的答案。\n\nA) $(13, 11)$\n\nB) $(15, 12)$\n\nC) $(12, 14)$\n\nD) $(10, 15)$\n\nE) $(14, 13)", "solution": "每一步都将当前点加上 $(2,1)$ 或 $(1,2)$，因此在使用 $m$ 次 $(2,1)$ 和 $n$ 次 $(1,2)$ 后，$S$ 中的每个点都具有以下形式\n$$\n(x,y) = m(2,1) + n(1,2),\n$$\n其中 $m,n \\in \\mathbb{Z}_{\\ge 0}$。这给出了线性方程组\n$$\nx = 2m + n, \\quad y = m + 2n.\n$$\n求解 $m$ 和 $n$：\n$$\n2x - y = 2(2m + n) - (m + 2n) = 3m \\;\\Rightarrow\\; m = \\frac{2x - y}{3},\n$$\n$$\n2y - x = 2(m + 2n) - (2m + n) = 3n \\;\\Rightarrow\\; n = \\frac{2y - x}{3}.\n$$\n因此，$(x,y) \\in S$ 当且仅当上面计算出的 $m$ 和 $n$ 是非负整数，即 $2x - y$ 和 $2y - x$ 是 $3$ 的非负倍数。\n\n检查每个选项：\n\nA) $(13,11)$：$m = \\frac{2\\cdot 13 - 11}{3} = \\frac{15}{3} = 5$， $n = \\frac{2\\cdot 11 - 13}{3} = \\frac{9}{3} = 3$；有效。\n\nB) $(15,12)$：$m = \\frac{30 - 12}{3} = \\frac{18}{3} = 6$， $n = \\frac{24 - 15}{3} = \\frac{9}{3} = 3$；有效。\n\nC) $(12,14)$：$m = \\frac{24 - 14}{3} = \\frac{10}{3}$；不是整数；无效。\n\nD) $(10,15)$：$m = \\frac{20 - 15}{3} = \\frac{5}{3}$；不是整数；无效。\n\nE) $(14,13)$：$m = \\frac{28 - 13}{3} = \\frac{15}{3} = 5$， $n = \\frac{26 - 14}{3} = \\frac{12}{3} = 4$；有效。\n\n因此，正确选项是 A、B 和 E。", "answer": "$$\\boxed{ABE}$$", "id": "1395553"}, {"introduction": "除了简单地识别集合中的成员，递归还是一个强大的计数工具。在这个练习 [@problem_id:1395524] 中，我们将探索一个由禁止特定子串的规则定义的二进制字符串集合。你的任务是确定给定长度的字符串有多少个，这个过程将引导你发现隐藏在问题结构中的一个著名数学序列。", "problem": "考虑所有二进制字符串的集合，这些字符串是由0和1组成的序列。这些字符串的一个特定子集，我们称之为集合 $S$，由以下递归规则定义：\n\n- **基础步骤：** 空字符串 $\\lambda$ 在 $S$ 中。\n- **递归步骤：** 对于任何已在 $S$ 中的字符串 $w$：\n    1. 在 $w$ 后追加一个 '1' 形成的字符串，记为 $w1$，也在 $S$ 中。\n    2. 如果字符串 $w$ 不以数字 '0' 结尾，那么在 $w$ 后追加一个 '0' 形成的字符串，记为 $w0$，也在 $S$ 中。\n\n除了通过应用这些规则生成的字符串外，没有其他字符串在 $S$ 中。根据这个定义，确定 $S$ 中长度恰好为15的字符串的总数。", "solution": "将定义 $S$ 的规则解释为强制要求不能出现两个连续的零。这是因为：\n- 追加 $1$ 总是被允许的，所以 $1$ 不会带来任何限制。\n- 只有当当前字符串不以 $0$ 结尾时才允许追加 $0$，这等价于禁止创建子串 $00$。\n- 反过来说，任何没有 $00$ 的二进制字符串都可以通过从左到右追加每个符号来构造；每个 $1$ 总是被允许的，而每个 $0$ 被允许，恰恰是因为它跟在一个 $1$ 后面（或者是第一个符号，因为空字符串不以 $0$ 结尾）。\n因此，$S$ 正是所有不含两个连续零的二进制字符串的集合。\n\n设 $a_{n}$ 表示 $S$ 中长度为 $n$ 的字符串的数量。定义：\n- $x_{n}$ 为长度为 $n$ 且以 $1$ 结尾的有效字符串的数量。\n- $y_{n}$ 为长度为 $n$ 且以 $0$ 结尾的有效字符串的数量。\n那么 $a_{n} = x_{n} + y_{n}$。\n\n根据构造规则：\n- 将 $1$ 追加到任何长度为 $n-1$ 的有效字符串后，会得到一个长度为 $n$ 且以 $1$ 结尾的有效字符串，所以\n$$\nx_{n} = a_{n-1}.\n$$\n- 只有在长度为 $n-1$ 且以 $1$ 结尾的字符串后才允许追加 $0$，所以\n$$\ny_{n} = x_{n-1}.\n$$\n因此，\n$$\na_{n} = x_{n} + y_{n} = a_{n-1} + x_{n-1}.\n$$\n因为每个长度为 $n-1$ 且以 $1$ 结尾的有效字符串都是通过在长度为 $n-2$ 的有效字符串后追加 $1$ 得到的，我们有\n$$\nx_{n-1} = a_{n-2}.\n$$\n因此，序列 $\\{a_{n}\\}$ 满足斐波那契类型的递推关系\n$$\na_{n} = a_{n-1} + a_{n-2} \\quad \\text{for } n \\geq 2.\n$$\n\n初始条件由规则得出：\n- $a_{0} = 1$ (只有空字符串)。\n- $a_{1} = 2$ (从空字符串开始，可以追加 $0$ 和 $1$，因为空字符串不以 $0$ 结尾)。\n\n设 $\\{F_{n}\\}$ 为斐波那契数列，定义为 $F_{0} = 0$，$F_{1} = 1$，且对于 $n \\geq 2$ 有 $F_{n} = F_{n-1} + F_{n-2}$。那么通过归纳法，\n$$\na_{n} = F_{n+2} \\quad \\text{for all } n \\geq 0,\n$$\n因为 $a_{0} = 1 = F_{2}$ 且 $a_{1} = 2 = F_{3}$，并且递推关系相匹配。\n\n因此，\n$$\na_{15} = F_{17}.\n$$\n计算直到索引 $17$ 的斐波那契数，得到 $F_{17} = 1597$。因此，$S$ 中长度恰好为 $15$ 的字符串总数为 $1597$。", "answer": "$$\\boxed{1597}$$", "id": "1395524"}, {"introduction": "许多复杂系统，从数据结构到生物有机体，都表现出层次化的递归结构。最后一个练习 [@problem_id:1395548] 以一个完美二叉树为例来探索这一思想。你将递归地定义树的一个量化属性，并为其找到一个封闭形式的表达式，从而磨练你解决那些用以模拟复杂结构属性的递归关系的能力。", "problem": "在算法植物学领域，计算机科学家对合成植物的生长进行建模。考虑一类被称为奥瑞利安树的理想化数字植物群。奥瑞利安树的结构是递归定义的：\n\n1.  **基本情况：** 单个节点是高度为 $h=0$ 的奥瑞利安树。\n2.  **递归步骤：** 对于任意整数 $h \\ge 0$，一棵高度为 $h+1$ 的奥瑞利安树由一个新根节点和两棵作为其左右子树的、相同的高度为 $h$ 的奥瑞利安树构成。\n\n与这些树相关联的，有一个称为“结构质量”的量化指标。设 $M_h$ 为高度为 $h$ 的奥瑞利安树的结构质量。结构质量的计算方法如下：\n\n1.  **基本情况：** 高度为 $h=0$ 的奥瑞利安树的结构质量为 $M_0 = c$，其中 $c$ 是一个代表基础节点质量的正常数。\n2.  **递归步骤：** 对于一棵由一个根节点和两棵子树 $T_h$ 构成的高度为 $h+1$ 的奥瑞利安树 $T_{h+1}$，其结构质量 $M_{h+1}$ 是其两棵子树的结构质量之和，再加上一个额外的“连接成本”。该成本与新形成的树 $T_{h+1}$ 中的节点总数成正比。比例常数为 $k$。\n\n请找出高度为 $h$ 的奥瑞利安树的结构质量 $M_h$ 的闭式表达式，用 $h$、$c$ 和 $k$ 表示。", "solution": "高度为 $h$ 的奥瑞利安树是一个完美二叉树。设 $N_{h}$ 为高度为 $h$ 的树的节点总数。根据构造规则，$N_{0}=1$ 并且对于 $h \\ge 0$，一棵高度为 $(h+1)$ 的树有一个新根和两棵高度为 $h$ 的子树，所以\n$$\nN_{h+1}=2N_{h}+1,\\quad N_{0}=1.\n$$\n解此线性递推关系。齐次解为 $N_{h}^{(h)}=B\\,2^{h}$。对于一个常数特解 $N_{h}^{(p)}=d$，我们有 $d-2d=-d=1$，因此 $d=-1$。于是\n$$\nN_{h}=B\\,2^{h}-1.\n$$\n使用 $N_{0}=1$ 可得 $B-1=1$，因此 $B=2$，所以\n$$\nN_{h}=2^{h+1}-1.\n$$\n\n设 $M_{h}$ 为结构质量。根据定义，$M_{0}=c$。对于 $h \\ge 0$，高度为 $(h+1)$ 的树的质量是两棵子树质量之和，加上与总节点数成正比的连接成本：\n$$\nM_{h+1}=2M_{h}+k\\,N_{h+1}.\n$$\n使用 $N_{h+1}=2^{h+2}-1$，这变成非齐次线性递推关系\n$$\nM_{h+1}-2M_{h}=k\\left(2^{h+2}-1\\right)=4k\\,2^{h}-k,\\quad M_{0}=c.\n$$\n\n用待定系数法求解。齐次解为 $M_{h}^{(h)}=A\\,2^{h}$。对于非齐次项 $4k\\,2^{h}$，因为它与齐次解的形式相匹配，尝试设 $M_{h}^{(p1)}=a\\,h\\,2^{h}$。则\n$$\nM_{h+1}^{(p1)}-2M_{h}^{(p1)}=a(h+1)2^{h+1}-2a h 2^{h}=a\\,2^{h}\\left(2(h+1)-2h\\right)=2a\\,2^{h},\n$$\n这必须等于 $4k\\,2^{h}$，得出 $a=2k$。对于常数项 $-k$，尝试设 $M_{h}^{(p2)}=b$，得到 $b-2b=-b=-k$，因此 $b=k$。所以，\n$$\nM_{h}=A\\,2^{h}+2k\\,h\\,2^{h}+k.\n$$\n代入 $M_{0}=c$：\n$$\nc=M_{0}=A\\,2^{0}+2k\\cdot 0\\cdot 2^{0}+k=A+k \\quad\\Rightarrow\\quad A=c-k.\n$$\n因此闭式表达式为\n$$\nM_{h}=2^{h}\\bigl(c-k+2kh\\bigr)+k.\n$$", "answer": "$$\\boxed{2^{h}\\bigl(c-k+2kh\\bigr)+k}$$", "id": "1395548"}]}