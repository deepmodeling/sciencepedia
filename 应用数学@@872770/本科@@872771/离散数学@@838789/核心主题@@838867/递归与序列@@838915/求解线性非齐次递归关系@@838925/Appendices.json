{"hands_on_practices": [{"introduction": "让我们从一个贴近生活的场景开始。这个问题 [@problem_id:1401319] 模拟了一个游戏中得分的增长模式，其递推关系包含一个线性的非齐次项 ($n$)。这是掌握“齐次解 + 特解”这一基本方法的绝佳起点，为你后续解决更复杂的问题打下坚实的基础。", "problem": "在热门在线游戏“递归攀登”中，玩家完成第 $n$ 关所需的总分记为 $S_n$。游戏的设计是这样的：要通过第 $n$ 关（对于 $n \\ge 1$），玩家必须首先通过累积相当于前一关所需分数 $S_{n-1}$ 两倍的分数来展示其熟练度，然后再获得一个与关卡相关的 $n$ 点奖励分数。\n\n新玩家从第 0 关开始，完成该关需要 $S_0 = 3$ 的分数。\n\n求 $S_n$（完成第 $n$ 关所需的分数）的一个闭式表达式，该表达式对所有整数 $n \\ge 0$ 均成立。", "solution": "我们得到了以下线性非齐次递推关系\n$$\nS_{n}=2S_{n-1}+n \\quad \\text{for } n\\geq 1, \\quad S_{0}=3.\n$$\n为了求解，我们使用标准的齐次解和特解的方法。\n\n首先，求解齐次递推关系 $S_{n}^{(h)}=2S_{n-1}^{(h)}$。其通解为\n$$\nS_{n}^{(h)}=C\\,2^{n},\n$$\n其中 $C$ 是一个常数。\n\n接下来，求非齐次递推关系的一个特解。由于非齐次项是关于 $n$ 的一次多项式，并且齐次因子对于多项式拟设不会引起共振，我们尝试一个形如下式的特解\n$$\nS_{n}^{(p)}=\\alpha n+\\beta.\n$$\n将其代入递推关系：\n$$\n\\alpha n+\\beta=2\\big(\\alpha(n-1)+\\beta\\big)+n=2\\alpha n-2\\alpha+2\\beta+n.\n$$\n令 $n$ 的同次幂系数相等：\n$$\n\\text{$n$ 的系数}: \\quad \\alpha=2\\alpha+1 \\;\\Rightarrow\\; -\\alpha=1 \\;\\Rightarrow\\; \\alpha=-1,\n$$\n$$\n\\text{常数项}: \\quad \\beta=-2\\alpha+2\\beta \\;\\Rightarrow\\; \\beta=2\\alpha \\;\\Rightarrow\\; \\beta=2(-1) \\;\\Rightarrow\\; \\beta=-2.\n$$\n因此，一个特解是\n$$\nS_{n}^{(p)}=-n-2.\n$$\n通解是齐次解与特解之和：\n$$\nS_{n}=C\\,2^{n}-n-2.\n$$\n根据初始条件 $S_{0}=3$ 确定 $C$：\n$$\n3=C\\,2^{0}-0-2 \\;\\Rightarrow\\; 3=C-2 \\;\\Rightarrow\\; C=5.\n$$\n因此，对所有整数 $n\\geq 0$ 均成立的闭式表达式为\n$$\nS_{n}=5\\cdot 2^{n}-n-2.\n$$", "answer": "$$\\boxed{S_n = 5\\cdot 2^{n}-n-2}$$", "id": "1401319"}, {"introduction": "接下来，我们提升一个难度。这个问题 [@problem_id:1401338] 引入了一个二阶递推关系，其齐次部分与著名的斐波那契数列相关，而非齐次项是一个常数。此练习不仅让你处理更高阶的递推，还将展示一个巧妙的技巧：通过简单的变量代换，将非齐次问题转化为我们熟悉的齐次问题来求解。", "problem": "一个简单的数字处理系统被设计用于监测一个信号，该信号在任意离散时间步 $n$（对于 $n \\ge 2$）的状态由其前两个时间步 $n-1$ 和 $n-2$ 的状态之和决定。该系统还受到一个外部来源的恒定背景噪声的影响，它在每一步都为状态增加一个值 $K$。信号状态 $s_n$ 的演变因此由关系式 $s_n = s_{n-1} + s_{n-2} + K$ 描述。系统的初始状态为 $s_0 = 1$ 和 $s_1 = 2$。恒定噪声值为 $K=4$。请确定对于任意整数 $n \\ge 0$，$s_n$ 关于 $n$ 的闭式表达式。", "solution": "我们得到线性非齐次递推关系\n$$\ns_{n} = s_{n-1} + s_{n-2} + K \\quad \\text{for } n \\ge 2,\n$$\n初始条件为 $s_{0} = 1$，$s_{1} = 2$，且 $K = 4$。为了消除常数强制项，定义移位序列 $t_{n}$ 为\n$$\nt_{n} = s_{n} + K.\n$$\n那么 $s_{n} = t_{n} - K$，代入递推关系式得到\n$$\nt_{n} - K = (t_{n-1} - K) + (t_{n-2} - K) + K,\n$$\n化简为\n$$\nt_{n} = t_{n-1} + t_{n-2}.\n$$\n$t_{n}$ 的初始值为\n$$\nt_{0} = s_{0} + K = 1 + 4 = 5, \\quad t_{1} = s_{1} + K = 2 + 4 = 6.\n$$\n因此 $t_{n}$ 满足齐次斐波那契型递推关系 $t_{n} = t_{n-1} + t_{n-2}$，且 $t_{0} = 5$ 和 $t_{1} = 6$。其特征方程为\n$$\nr^{2} = r + 1 \\quad \\Longrightarrow \\quad r^{2} - r - 1 = 0,\n$$\n其根为\n$$\n\\phi = \\frac{1 + \\sqrt{5}}{2}, \\quad \\psi = \\frac{1 - \\sqrt{5}}{2}.\n$$\n因此 $t_{n}$ 的通解为\n$$\nt_{n} = \\alpha \\phi^{n} + \\beta \\psi^{n},\n$$\n其中常数 $\\alpha$ 和 $\\beta$ 由以下方程组确定\n$$\n\\alpha + \\beta = t_{0} = 5, \\quad \\alpha \\phi + \\beta \\psi = t_{1} = 6.\n$$\n使用克莱姆法则解这个 $2 \\times 2$ 方程组得到\n$$\n\\alpha = \\frac{6 - 5 \\psi}{\\phi - \\psi}, \\quad \\beta = \\frac{5 \\phi - 6}{\\phi - \\psi}.\n$$\n因为 $\\phi - \\psi = \\sqrt{5}$，$\\psi = \\frac{1 - \\sqrt{5}}{2}$，以及 $\\phi = \\frac{1 + \\sqrt{5}}{2}$，我们计算\n$$\n6 - 5 \\psi = 6 - \\frac{5}{2}(1 - \\sqrt{5}) = \\frac{7 + 5 \\sqrt{5}}{2}, \\quad 5 \\phi - 6 = \\frac{-7 + 5 \\sqrt{5}}{2},\n$$\n所以\n$$\n\\alpha = \\frac{7 + 5 \\sqrt{5}}{2 \\sqrt{5}} = \\frac{1}{2}\\left(5 + \\frac{7\\sqrt{5}}{5}\\right), \\quad\n\\beta = \\frac{-7 + 5 \\sqrt{5}}{2 \\sqrt{5}} = \\frac{1}{2}\\left(5 - \\frac{7\\sqrt{5}}{5}\\right).\n$$\n因此，\n$$\nt_{n} = \\frac{1}{2}\\left(5 + \\frac{7\\sqrt{5}}{5}\\right)\\left(\\frac{1 + \\sqrt{5}}{2}\\right)^{n}\n+ \\frac{1}{2}\\left(5 - \\frac{7\\sqrt{5}}{5}\\right)\\left(\\frac{1 - \\sqrt{5}}{2}\\right)^{n}.\n$$\n最后，回顾 $s_{n} = t_{n} - K$ 且 $K = 4$，我们得到闭式表达式\n$$\ns_{n} = \\frac{1}{2}\\left(5 + \\frac{7\\sqrt{5}}{5}\\right)\\left(\\frac{1 + \\sqrt{5}}{2}\\right)^{n}\n+ \\frac{1}{2}\\left(5 - \\frac{7\\sqrt{5}}{5}\\right)\\left(\\frac{1 - \\sqrt{5}}{2}\\right)^{n} - 4,\n$$\n对所有整数 $n \\ge 0$ 均成立。", "answer": "$$\\boxed{s_n = \\frac{1}{2}\\left(5 + \\frac{7\\sqrt{5}}{5}\\right)\\left(\\frac{1 + \\sqrt{5}}{2}\\right)^{n}+\\frac{1}{2}\\left(5 - \\frac{7\\sqrt{5}}{5}\\right)\\left(\\frac{1 - \\sqrt{5}}{2}\\right)^{n}-4}$$", "id": "1401338"}, {"introduction": "最后，我们来处理一个经常让学习者感到困惑的特殊情况——“共振”。当非齐次项的形式与齐次解的形式“重叠”时，标准的特解假设将不再适用。这个问题 [@problem_id:1401346] 巧妙地构建了这样一个共振情景，并引导我们使用一种优雅的变换方法来化解难题，这是一种非常有力的技巧。", "problem": "一个新的社交媒体平台，“NetWeave”，追踪其用户之间的活跃连接数。在第0天启动时，该平台有 $C_0$ 个活跃连接。该平台的设计鼓励指数级增长。每天，活跃连接的数量都会比前一天翻倍。然而，为了维持网络质量，在每天 $n$（对于 $n \\ge 1$）结束时都会运行一个自动化的日常清理过程。这个过程会识别并移除数量恰好等于 $k \\cdot n \\cdot 2^n$ 的虚假或不活跃连接，其中 $k$ 是一个常数。\n\n设 $a_n$ 表示在第 $n$ 天结束时（清理过程之后）平台上的活跃连接数。初始连接数为 $a_0 = C_0 = 500$，清理常数为 $k=40$。\n\n确定对于所有整数 $n \\ge 0$，$a_n$ 的一个封闭形式表达式。", "solution": "在第 $n$ 天开始时，连接数从前一天结束时的值翻倍，而在第 $n$ 天结束时（对于 $n \\geq 1$），会移除 $k n 2^{n}$ 个连接。这产生了一个线性非齐次递推关系\n$$\na_{n} = 2 a_{n-1} - k n 2^{n} \\quad \\text{for } n \\geq 1, \\quad a_{0} = C_{0}.\n$$\n为了消除齐次增长因子 $2^{n}$，定义 $b_{n} = \\frac{a_{n}}{2^{n}}$。那么\n$$\nb_{n} = \\frac{a_{n}}{2^{n}} = \\frac{2 a_{n-1}}{2^{n}} - \\frac{k n 2^{n}}{2^{n}} = \\frac{a_{n-1}}{2^{n-1}} - k n = b_{n-1} - k n.\n$$\n这个一阶差分方程给出\n$$\nb_{n} - b_{0} = \\sum_{j=1}^{n} (-k j) = -k \\sum_{j=1}^{n} j = -k \\frac{n(n+1)}{2},\n$$\n因此\n$$\nb_{n} = b_0 - \\frac{k}{2} n(n+1).\n$$\n因为 $b_0 = a_0 / 2^0 = C_0$，我们有\n$$\nb_{n} = C_{0} - \\frac{k}{2} n(n+1).\n$$\n使用 $a_{n} = 2^{n} b_{n}$ 回到 $a_{n}$，\n$$\na_{n} = 2^{n} \\left(C_{0} - \\frac{k}{2} n(n+1)\\right).\n$$\n代入 $C_{0} = 500$ 和 $k = 40$，\n$$\na_{n} = 2^{n} \\left(500 - 20\\, n(n+1)\\right),\n$$\n该式对所有整数 $n \\geq 0$ 成立，并满足 $a_{0} = 500$。", "answer": "$$\\boxed{a_n = 2^{n}\\left(500 - 20\\,n(n+1)\\right)}$$", "id": "1401346"}]}