{"hands_on_practices": [{"introduction": "这第一个练习提供了一个经典的场景，用于实践基本的容斥原理。通过计算两个重叠类别中的独立课程总数，你将直接应用公式 $|A \\cup B| = |A| + |B| - |A \\cap B|$，并加深对为何必须减去“重复计数”的交集部分的理解。[@problem_id:1410019]", "problem": "一所大学正在为其计算社会科学（CSS）项目设计一个新的跨学科课程。为了鼓励学习的广度，课程可以有多个类别。在所有批准的CSS课程列表中，总共有157门课程被归类为'Quantitative Methods'。另外，有94门课程被归类为'Ethics in Technology'。对课程目录的审查显示存在重叠：正好有36门课程同时被归类为'Quantitative Methods'和'Ethics in Technology'。\n\n计算被归类为'Quantitative Methods'或'Ethics in Technology'的独立课程总数。", "solution": "问题要求计算至少属于两个指定类别中一个的独立课程总数。这是一个关于两个集合的容斥原理（Principle of Inclusion-Exclusion）的经典应用。\n\n让我们定义两个集合来表示这些课程类别：\n设 $Q$ 为被归类为'Quantitative Methods'的课程集合。\n设 $E$ 为被归类为'Ethics in Technology'的课程集合。\n\n问题提供了以下信息：\n1.  被归类为'Quantitative Methods'的课程数量为157。在集合符号中，这是集合 $Q$ 的大小（或基数）：\n    $$|Q| = 157$$\n2.  被归类为'Ethics in Technology'的课程数量为94。这是集合 $E$ 的基数：\n    $$|E| = 94$$\n3.  同时被归类为'Quantitative Methods'和'Ethics in Technology'的课程数量为36。这对应于两个集合交集 $Q \\cap E$ 中的元素数量：\n    $$|Q \\cap E| = 36$$\n\n我们想要找到属于集合 $Q$ 或集合 $E$ 的独立课程总数。这等同于求两个集合并集的基数，记为 $|Q \\cup E|$。\n\n两个集合的容斥原理指出，两个集合的并集大小等于它们各自大小之和减去它们交集的大小：\n$$|Q \\cup E| = |Q| + |E| - |Q \\cap E|$$\n\n我们减去交集的原因是，当计算集合 $Q$ 的元素和计算集合 $E$ 的元素时，同时属于两个类别的课程被计算了两次。为了得到正确的独立课程总数，我们必须将这部分多计算的减去一次。\n\n现在，我们可以将给定的数值代入公式：\n$$|Q \\cup E| = 157 + 94 - 36$$\n\n首先，进行加法运算：\n$$157 + 94 = 251$$\n\n接着，进行减法运算：\n$$251 - 36 = 215$$\n\n因此，被归类为'Quantitative Methods'或'Ethics in Technology'的独立课程总数为215。", "answer": "$$\\boxed{215}$$", "id": "1410019"}, {"introduction": "这个练习超越了简单的集合，将容斥原理应用到一个结构化的二维空间——一个微胶囊网格中。这个练习将挑战你根据坐标的数学属性（例如整除性）来定义集合，这在计算机图形学和数论等领域中是一种常用技巧。它展示了如何系统地计算由独立条件定义的集合中的元素数量。[@problem_id:1410002]", "problem": "一种新型的实验性电子墨水屏正在开发中。该显示屏由一个微胶囊组成的矩形网格构成，每个微胶囊都可以通过其整数坐标 $(x, y)$ 进行独立寻址。该网格定义在所有满足 $1 \\le x \\le 100$ 和 $1 \\le y \\le 100$ 的整数 $x$ 和 $y$ 上。\n\n在一次全系统诊断检查中，控制器发出两种不同的激活信号来测试微胶囊的功能。\n\\begin{itemize}\n    \\item 第一个信号，信号 A，激活所有水平坐标 $x$ 是 13 的倍数的微胶囊。\n    \\item 第二个信号，信号 B，激活所有垂直坐标 $y$ 是 7 的倍数的微胶囊。\n\\end{itemize}\n如果一个微胶囊接收到信号 A、信号 B，或两者都接收到，它就会亮起。确定在这次诊断测试中总共有多少个微胶囊会亮起。", "solution": "我们将亮起的微胶囊建模为在 $1 \\leq x \\leq 100$ 和 $1 \\leq y \\leq 100$ 的整数点网格内的两个集合的并集。定义\n$$A=\\{(x,y): 1 \\leq x \\leq 100,\\, 1 \\leq y \\leq 100,\\, 13 \\mid x\\}, \\quad B=\\{(x,y): 1 \\leq x \\leq 100,\\, 1 \\leq y \\leq 100,\\, 7 \\mid y\\}.$$\n根据容斥原理，\n$$|A \\cup B| = |A| + |B| - |A \\cap B|.$$\n\n为了计算 $|A|$，注意到在 $\\{1,\\dots,100\\}$ 中是 13 的倍数的 $x$ 值的个数为 $\\left\\lfloor \\frac{100}{13} \\right\\rfloor$。对于每个这样的 $x$，有 100 个可能的 $y$ 值，所以\n$$|A| = 100 \\cdot \\left\\lfloor \\frac{100}{13} \\right\\rfloor = 100 \\cdot 7 = 700.$$\n\n为了计算 $|B|$，在 $\\{1,\\dots,100\\}$ 中是 7 的倍数的 $y$ 值的个数为 $\\left\\lfloor \\frac{100}{7} \\right\\rfloor$。对于每个这样的 $y$，有 100 个可能的 $x$ 值，所以\n$$|B| = 100 \\cdot \\left\\lfloor \\frac{100}{7} \\right\\rfloor = 100 \\cdot 14 = 1400.$$\n\n对于交集 $A \\cap B$，我们需要 $13 \\mid x$ 和 $7 \\mid y$ 同时成立。满足条件的 $x$ 的个数为 $\\left\\lfloor \\frac{100}{13} \\right\\rfloor = 7$，满足条件的 $y$ 的个数为 $\\left\\lfloor \\frac{100}{7} \\right\\rfloor = 14$，且这些选择是独立的，所以\n$$|A \\cap B| = 7 \\cdot 14 = 98.$$\n\n应用容斥原理，\n$$|A \\cup B| = 700 + 1400 - 98 = 2002.$$\n因此，亮起的微胶囊总数为 $2002$。", "answer": "$$\\boxed{2002}$$", "id": "1410002"}, {"introduction": "这最后一个练习向抽象思维迈出了一大步，展示了容斥原理的真正威力与广泛适用性。你将不再是计算具体的物品，而是计算抽象的数学对象——图的配置。这个练习证明了同一个计数原理可以用来解决高级组合学和网络理论中的复杂问题。[@problem_id:1410003]", "problem": "考虑一个包含 $n$ 个不同且带标签的节点 $V = \\{v_1, v_2, \\ldots, v_n\\}$ 的系统，其中 $n \\ge 3$。该系统的一种构型由节点对之间的连接集合定义。任意两个节点之间可以连接或不连接，且连接是无向的。这对应于一个具有 $n$ 个顶点的带标签简单图。\n\n如果一种构型满足以下两个条件中至少一个，则该构型被视为‘有效’：\n1.  节点 $v_1$ 和 $v_2$ 之间存在一个强制性连接。\n2.  节点 $v_3$ 是‘隔离的’，意即它与系统中任何其他节点都没有连接（即其度为0）。\n\n确定该系统可能存在的不同有效构型的总数。将答案表示为一个关于 $n$ 的封闭形式解析表达式。", "solution": "令 $m=\\binom{n}{2}$ 为 $n$ 个带标签顶点上所有可能的无向边的总数。每条边都可以独立地存在或不存在，因此带标签简单图的总数为 $2^{m}$。\n\n定义集合：\n- $A$：边 $\\{v_{1},v_{2}\\}$ 存在的图的集合。\n- $B$：$v_{3}$ 的度为0（是孤立点）的图的集合。\n\n我们需要计算 $|A\\cup B|$，根据容斥原理，\n$$\n|A\\cup B|=|A|+|B|-|A\\cap B|.\n$$\n\n计算每一项：\n- 对于 $|A|$，固定边 $\\{v_{1},v_{2}\\}$ 存在，则剩下 $m-1$ 条独立的边可以自由选择，因此\n$$\n|A|=2^{m-1}.\n$$\n- 对于 $|B|$，隔离 $v_{3}$ 意味着与 $v_{3}$ 相邻的 $n-1$ 条边必须不存在。剩下的边在其他 $n-1$ 个顶点之间，数量为 $\\binom{n-1}{2}$，因此\n$$\n|B|=2^{\\binom{n-1}{2}}.\n$$\n- 对于 $|A\\cap B|$，我们同时施加两个条件：$v_3$ 是孤立的，且边 $\\{v_1,v_2\\}$ 存在。在不与 $v_3$ 相邻的 $\\binom{n-1}{2}$ 条边中，一条边（即 $\\{v_1,v_2\\}$）被固定为存在，而其余的 $\\binom{n-1}{2}-1$ 条边可以自由选择，所以\n$$\n|A\\cap B|=2^{\\binom{n-1}{2}-1}.\n$$\n\n因此，\n$$\n|A\\cup B|=2^{m-1}+2^{\\binom{n-1}{2}}-2^{\\binom{n-1}{2}-1}\n=2^{m-1}+2^{\\binom{n-1}{2}-1}.\n$$\n代入 $m=\\binom{n}{2}$ 并提取公因式，\n$$\n|A\\cup B|=\\frac{1}{2}\\left(2^{\\binom{n}{2}}+2^{\\binom{n-1}{2}}\\right).\n$$\n这就是有效构型的总数。", "answer": "$$\\boxed{\\frac{1}{2}\\left(2^{\\binom{n}{2}}+2^{\\binom{n-1}{2}}\\right)}$$", "id": "1410003"}]}