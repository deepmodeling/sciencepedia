{"hands_on_practices": [{"introduction": "乘法法则（The Product Rule）是组合数学的基石，用于计算由一系列独立步骤组成的总结果数。这个练习提供了一个完美的起点，它将一个复杂的标识符生成系统分解为几个独立的、顺序的步骤。通过解决这个问题，你将练习如何系统地分解问题并应用乘法法则来计算每个部分的可能数量，最终得出总数 [@problem_id:1410460]。", "problem": "一家科技公司正在为其硬件组件设计一个生成唯一标识符的新系统。每个标识符是由三个不同部分组成的字符串，格式为 `[SEGMENT_A]-[SEGMENT_B]-[SEGMENT_C]`。构建每个部分的规则如下：\n\n*   **A部分** 由三个大写英文字母（从 'A' 到 'Z'）组成。此序列中的第一个字母不允许是 'I'、'O' 或 'Q'，以避免与数字产生视觉混淆。第二个字母必须是五个元音字母之一：'A'、'E'、'I'、'O'、'U'。第三个字母可以是任何大写英文字母，没有限制。\n\n*   **B部分** 由四个数字（从 '0' 到 '9'）组成。当解释为一个整数时，这个四位数序列必须表示一个严格大于1000且能被5整除的数。\n\n*   **C部分** 由从集合 { '!', '@', '#', '$', '`', '*' } 中选出的一个特殊字符组成。\n\n假设每个部分的选择是相互独立的，该系统可以生成多少个不同的标识符？", "solution": "我们根据乘法原理，独立计算每个部分的可能性数量，然后将它们相乘。\n\n对于A部分：\n- 第一个字母是一个大写英文字母，不包括 I、O、Q，所以有 $26 - 3 = 23$ 种选择。\n- 第二个字母必须是元音字母 $\\{A, E, I, O, U\\}$ 中的一个，所以有 $5$ 种选择。\n- 第三个字母可以是任何大写英文字母，所以有 $26$ 种选择。\n因此，A部分的可能性数量为\n$$\n23 \\times 5 \\times 26 = 2990.\n$$\n\n对于B部分：\n- 它是一个四位数序列，表示一个严格大于 $1000$ 且能被 $5$ 整除的整数。\n- 满足此条件的整数是区间 $[1001, 9999]$ 内5的倍数。\n- 其数量为\n$$\n\\left\\lfloor \\frac{9999}{5} \\right\\rfloor - \\left\\lfloor \\frac{1000}{5} \\right\\rfloor = 1999 - 200 = 1799.\n$$\n因此，B部分有 $1799$ 种有效选择。\n\n对于C部分：\n- 它是从集合 {'!', '@', '#', '$', '`', '*'} 中选取的一个字符，该集合有 $6$ 个元素。\n因此，C部分有 $6$ 种选择。\n\n根据独立性，标识符的总数为\n$$\n(23 \\times 5 \\times 26) \\times 1799 \\times 6 = 2990 \\times 1799 \\times 6 = 32{,}364{,}060.\n$$", "answer": "$$\\boxed{32364060}$$", "id": "1410460"}, {"introduction": "在计数问题中，直接计算我们想要的结果有时会很棘手。在这种情况下，计算我们*不*想要的结果然后从总数中减去它，通常会更简单。这个问题向你介绍了补集原理（the complement principle），这是乘法法则的一个强大搭档，尤其适用于处理“至少一个”这样的约束条件 [@problem_id:1410423]。", "problem": "在开发一种新的深空通信协议“Inter-Stellar Packet Routing Nomenclature (ISPRN)”时，数据包被分配了唯一的标识符以管理传输路由。每个ISPRN标识符是一个恰好由四个字符组成的字符串。用于构建这些标识符的可用字符集包括26个小写英文字母（`a`到`z`）和10个十进制数字（`0`到`9`）。\n\n一个标识符要被视为有效，必须满足两个特定条件：\n1. 标识符的第一个字符必须是字母。\n2. 标识符必须至少包含一个数字。\n\n根据这些规则，确定可以创建的不同的有效ISPRN标识符的总数。", "solution": "设标识符有$1,2,3,4$四个位置。有$26$个字母和$10$个数字，所以总共有$36$个可用字符。\n\n条件1要求位置$1$必须是字母。这使得位置$1$有$26$种选择。\n\n如果不考虑条件2，位置$2,3,4$每个都可以是$36$个字符中的任意一个，因此这些位置共有$36^{3}$种可能性。因此，第一个字符是字母的字符串总数为$26 \\cdot 36^{3}$。\n\n条件2要求标识符至少包含一个数字。由于位置$1$必须是字母，所以数字必须出现在位置$2,3,$或$4$。我们对位置$2,3,4$使用补集原理：\n- 位置$2,3,4$不含任何数字（即全是字母）的情况有$26^{3}$种。\n- 因此，位置$2,3,4$至少包含一个数字的情况有$36^{3} - 26^{3}$种。\n\n乘以位置$1$的$26$种选择，有效的标识符总数为\n$$\n26 \\left(36^{3} - 26^{3}\\right) = 26 \\cdot 36^{3} - 26^{4}.\n$$\n计算得\n$$\n36^{3} = 46656,\\quad 26 \\cdot 46656 = 1213056,\\quad 26^{4} = 456976,\n$$\n所以\n$$\n26 \\cdot 36^{3} - 26^{4} = 1213056 - 456976 = 756080.\n$$", "answer": "$$\\boxed{756080}$$", "id": "1410423"}, {"introduction": "现实世界中的问题往往涉及多个相互交织的复杂约束。这个练习超越了简单的顺序选择，引导你处理选择之间相互依赖的情形，此时需要将乘法法则与加法法则（通过 casework）结合起来。通过分析不同排程限制之间的相互作用，你将学会如何将一个复杂问题分解为多个更小、更易于管理的部分来解决 [@problem_id:1410442]。", "problem": "某大学的一个系正在为五门不同的高等课程安排期末考试：分析学 (A)、力学 (M)、电动力学 (E)、热力学 (T) 和量子物理 (Q)。考试将在连续五天（从第一天到第五天）内举行，每天只安排一门考试。考试安排必须满足以下条件：\n1. 分析学 (A) 考试必须安排在第一天或第二天。\n2. 力学 (M) 考试不能安排在第五天。\n3. 电动力学 (E) 和热力学 (T) 考试必须安排在连续的两天。\n\n有多少种不同的有效安排？", "solution": "将日期标记为位置 $1,2,3,4,5$，将考试标记为 $A,M,E,T,Q$，每天只安排一门考试。条件是：$A$ 必须在第1天或第2天；$M$ 不能在第5天；$E$ 和 $T$ 必须占据连续的两天，顺序可以是任意一种。\n\n将 $E$ 和 $T$ 视为一个连续的区块，占据相邻日期对 $(1,2)$、$(2,3)$、$(3,4)$ 或 $(4,5)$ 中的一个，其内部顺序可以是 $ET$ 或 $TE$（每次放置该区块时，内部顺序有两种可能，产生一个因子 $2$）。因为 $A$ 必须在第1天或第2天，所以该区块不能占据 $(1,2)$（这会使得 $A$ 无法安排在第1天或第2天）。因此，只有 $(2,3)$、$(3,4)$ 和 $(4,5)$ 这几种放置方式是可能的。\n\n情况 $(2,3)$：剩下的日期是 $\\{1,4,5\\}$。由于第2天已被占用，$A$ 必须安排在第1天（一种方式）。剩下的两天是第4天和第5天，用于安排 $M$ 和 $Q$。由于 $M$ 不能安排在第5天，唯一有效的安排是 $M$ 在第4天，$Q$ 在第5天（一种方式）。$E, T$ 的内部顺序有两种可能（因子为 $2$）。因此，这种情况贡献了 $2 \\times 1 \\times 1 = 2$ 种安排。\n\n情况 $(3,4)$：剩下的日期是 $\\{1,2,5\\}$。这里 $A$ 可以安排在第1天或第2天（两种方式）。剩下的两天是 $\\{1,2\\}$ 中未被A占用的那一天和第5天。由于 $M$ 不能安排在第5天，$M$ 必须安排在 $\\{1,2\\}$ 中剩下的那一天，而 $Q$ 安排在第5天（对于 $A$ 的每一种选择，这都是一种安排方式）。考虑到 $E,T$ 的两种内部顺序，这种情况贡献了 $2 \\times 2 \\times 1 = 4$ 种安排。\n\n情况 $(4,5)$：剩下的日期是 $\\{1,2,3\\}$。这里 $A$ 可以安排在第1天或第2天（两种方式）。剩下的两天是 $\\{1,2\\}$ 中未被A占用的那一天和第3天。由于第5天不在此列，对 $M$ 的限制自动满足；因此 $M$ 和 $Q$可以有两种安排方式。包括 $E,T$ 的两种内部顺序，这种情况贡献了 $2 \\times 2 \\times 2 = 8$ 种安排。\n\n将所有情况加总，得到\n$$\nN = 2 + 4 + 8 = 14.\n$$\n因此，有效的安排总数为 $14$ 种。", "answer": "$$\\boxed{14}$$", "id": "1410442"}]}