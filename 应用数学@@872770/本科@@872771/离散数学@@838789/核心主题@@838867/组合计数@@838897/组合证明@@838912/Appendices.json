{"hands_on_practices": [{"introduction": "许多组合计数问题本质上是关于如何将相同的物品分配到不同的容器中。这个问题展示了一种名为“隔板法”的强大技巧，并引入了一个常见的约束条件，即某个容器必须至少收到特定数量的物品。通过先满足该约束条件再应用基本方法，我们可以优雅地解决这类看似复杂的问题，这对于掌握带约束的分配问题至关重要。", "problem": "一所大学的信息技术部门为一个新的计算软件包购买了 $n$ 个相同的永久软件许可证。这些许可证将被分发给 $k$ 个不同的研究实验室。由于一项特殊的资助安排，一个特定的实验室，“Astrophysics Research Group”，必须至少获得三个许可证。已知 $n$ 和 $k$ 是整数，满足 $n \\ge 3$ 和 $k \\ge 1$，请找出一个关于 $n$ 和 $k$ 的封闭形式表达式，表示分发这 $n$ 个许可证的所有不同方式的总数。封闭形式表达式是指不包含未求值的和、积分或导数的表达式。", "solution": "这个问题要求计算将 $n$ 个相同的物品（软件许可证）分配到 $k$ 个不同的容器（研究实验室）中的方法数量，其中一个容器有特定的约束条件。这是一个经典的组合问题，可以用“隔板法”来解决。\n\n设 $x_i$ 为分配给第 $i$ 个实验室的许可证数量，其中 $i = 1, 2, \\dots, k$。由于实验室是不同的，但许可证是相同的，一个特定的分配由一组值 $\\{x_1, x_2, \\dots, x_k\\}$ 定义。许可证总数为 $n$，因此我们要求解以下方程的非负整数解的数量：\n$$x_1 + x_2 + \\dots + x_k = n$$\n\n我们将实验室1指定为“Astrophysics Research Group”。问题规定该实验室必须至少获得三个许可证。这对变量施加了以下约束：\n- $x_1 \\ge 3$\n- $x_i \\ge 0$ for $i = 2, 3, \\dots, k$\n\n为了处理约束 $x_1 \\ge 3$，我们可以定义一个新变量。令 $y_1 = x_1 - 3$。因为 $x_1$ 必须是大于或等于3的整数，所以 $y_1$ 必须是非负整数（$y_1 \\ge 0$）。我们可以将 $x_1$ 表示为 $x_1 = y_1 + 3$。\n\n现在我们将其代入原始方程：\n$$(y_1 + 3) + x_2 + x_3 + \\dots + x_k = n$$\n\n从两边减去3，我们得到一个新方程：\n$$y_1 + x_2 + x_3 + \\dots + x_k = n - 3$$\n\n问题现在转化为求这个新方程的非负整数解的数量。这是一个标准的隔板法问题。我们要将 $N = n - 3$ 个相同的物品（剩余的许可证）分配到 $K = k$ 个不同的容器中（所有实验室，包括“Astrophysics Research Group”，它现在可以自由接收零个*额外*的许可证）。\n\n将 $N$ 个相同物品分配到 $K$ 个不同容器中的方法数由多重集系数给出，它等价于一个二项式系数：\n$$ \\binom{N+K-1}{K-1} $$\n\n在我们的问题中，有 $N = n - 3$ 和 $K = k$。将这些代入公式，得到：\n$$ \\binom{(n-3) + k - 1}{k-1} $$\n\n化简二项式系数内的表达式，我们得到：\n$$ \\binom{n+k-4}{k-1} $$\n\n这就是根据给定规则分发许可证的方法数的封闭形式表达式。它代表了在总共 $n-3$ 个“星”（许可证）和 $k-1$ 个“隔板”（实验室之间的分隔物）中为 $k-1$ 个“隔板”选择位置的方法数。", "answer": "$$\\boxed{\\binom{n+k-4}{k-1}}$$", "id": "1356649"}, {"introduction": "组合问题的另一种强大解决策略是建立递推关系，即根据较小规模问题的解来构造当前问题的解。这个问题要求我们选择书架上不相邻的书，这是一个经典的递推应用场景。通过分析最后一个元素是否被选中这两种互斥的情况，我们可以将问题分解并发现其与著名的斐波那契数列的深刻联系，从而展示了递推思维在组合学中的威力。", "problem": "一名学生正在从一个书架上选书，书架上排成一排共有 12 本书，编号为 1 到 12。这名学生很迷信，他不会选择任何两本相邻的书。一个有效的选择可以包含任意数量的书，包括零本（即空集）。这名学生可以做出多少种不同的有效选择？", "solution": "设 $a_{n}$ 表示集合 $\\{1,2,\\dots,n\\}$ 中没有两个连续整数的子集的数量。考虑最后一个元素 $n$：\n- 如果不选择 $n$，则剩下的选择是从 $\\{1,\\dots,n-1\\}$ 中任取一个有效的选择，共有 $a_{n-1}$ 种可能性。\n- 如果选择 $n$，则不能选择 $n-1$，剩下的选择是从 $\\{1,\\dots,n-2\\}$ 中任取一个有效的选择，共有 $a_{n-2}$ 种可能性。\n因此，对于 $n \\geq 2$，\n$$\na_{n} = a_{n-1} + a_{n-2}.\n$$\n基本情况是 $a_{0} = 1$（只有空集）和 $a_{1} = 2$（空集或 $\\{1\\}$）。这是一个带有偏移的斐波那契递推关系。如果我们定义斐波那契数 $F_{0}=0$, $F_{1}=1$, $F_{n}=F_{n-1}+F_{n-2}$，那么通过匹配初始条件可得 $a_{0}=F_{2}$ 和 $a_{1}=F_{3}$，因此通过归纳法可得\n$$\na_{n} = F_{n+2}.\n$$\n对于 $n=12$，我们得到 $a_{12} = F_{14}$。计算所需的斐波那契数，\n$$\nF_{2}=1,\\;F_{3}=2,\\;F_{4}=3,\\;F_{5}=5,\\;F_{6}=8,\\;F_{7}=13,\\;F_{8}=21,\\;F_{9}=34,\\;F_{10}=55,\\;F_{11}=89,\\;F_{12}=144,\\;F_{13}=233,\\;F_{14}=377,\n$$\n所以 $a_{12}=377$。\n\n作为直接的组合学验证，从排成一行的 $n$ 本书中选择 $k$ 本不相邻的书的方法数是 $\\binom{n-k+1}{k}$，因此总数为\n$$\n\\sum_{k=0}^{6} \\binom{13-k}{k} = \\binom{13}{0}+\\binom{12}{1}+\\binom{11}{2}+\\binom{10}{3}+\\binom{9}{4}+\\binom{8}{5}+\\binom{7}{6} = 1+12+55+120+126+56+7=377,\n$$\n与斐波那契数的结果一致。", "answer": "$$\\boxed{377}$$", "id": "1356611"}, {"introduction": "对于某些计数问题，直接枚举或建立简单的递推关系可能非常繁琐。此时，我们可以借助代数和对称性的力量，使用一种更巧妙的方法——奇偶性论证。这个问题要求我们计算包含偶数个“1”的三进制字符串数量，通过将所有可能情况分为两类（奇数个“1”和偶数个“1”），并建立它们之间的两个独立方程，我们可以轻松求解，这体现了组合论证的灵活性与美感。", "problem": "一种基于三态逻辑的新型计算机存储器正在开发中，其中每个称为“三进制位”（trit）的存储单元可以存储 0、1 或 2 的值。一个长度为 $n$ 的存储字是由 $n$ 个三进制位组成的序列。对于一种特定的纠错方案，一个存储字被认为是“有效”的，当且仅当它包含偶数个 1。注意，零被视为偶数。\n\n求长度为 $n$ 的有效存储字的总数的闭式解析表达式，其中 $n$ 是一个正整数。请用 $n$ 来表示你的答案。", "solution": "设 $W$ 是所有在 $\\{0,1,2\\}$ 上长度为 $n$ 的字的集合，并设 $E$ 和 $O$ 分别为 $W$ 中包含偶数个和奇数个 1 的字的数量。由于 $n$ 个位置中的每一个都有 $3$ 种选择，我们有\n$$\nE + O = 3^{n}.\n$$\n定义 $c(w)$ 为字 $w \\in W$ 中 1 的数量，并考虑带符号和\n$$\nS = \\sum_{w \\in W} (-1)^{c(w)}.\n$$\n每个位置独立地贡献一个因子，该因子通过对符号选择求和得到：\n$$\n\\sum_{s \\in \\{0,1,2\\}} (-1)^{\\mathbf{1}_{\\{s=1\\}}} = 1 + (-1) + 1 = 1,\n$$\n因此根据 $n$ 个位置的独立性，\n$$\nS = 1^{n} = 1.\n$$\n另一方面，按 $c(w)$ 的奇偶性将字分开，\n$$\nS = \\sum_{\\substack{w \\in W \\\\ c(w)\\ \\text{even}}} 1 + \\sum_{\\substack{w \\in W \\\\ c(w)\\ \\text{odd}}} (-1) = E - O.\n$$\n将 $E + O = 3^{n}$ 与 $E - O = 1$ 结合起来，求解 $E$ 可得\n$$\nE = \\frac{(E + O) + (E - O)}{2} = \\frac{3^{n} + 1}{2}.\n$$\n这计算了所有包含偶数个 1 的字的数量，包括包含零个 1 的情况。", "answer": "$$\\boxed{\\frac{3^{n}+1}{2}}$$", "id": "1356644"}]}