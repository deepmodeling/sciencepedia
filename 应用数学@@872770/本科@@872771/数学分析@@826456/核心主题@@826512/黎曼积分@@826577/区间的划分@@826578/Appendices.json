{"hands_on_practices": [{"introduction": "在学习黎曼积分时，一个核心思想是，分割越精细，我们对面积的近似就越准确。这个练习将具体地展示这一思想。我们将计算一个函数在某个分割下的上和与下和之差，这个差值可以看作是我们近似中的“不确定性”或“误差”。然后，我们会向分割中添加一个点，形成一个更精细的分割，并重新计算这个差值，从而亲眼见证分割的精细化是如何改进我们的近似的。[@problem_id:1314874]", "problem": "设 $f(x) = x^2$ 是定义在闭区间 $I = [0, 2]$ 上的一个函数。对于闭区间 $[a, b]$ 上的一个有界函数 $g$ 和 $[a, b]$ 的一个分割 $P = \\{x_0, x_1, \\dots, x_n\\}$，上和 $U(g, P)$ 与下和 $L(g, P)$ 定义如下：\n$$U(g, P) = \\sum_{i=1}^{n} M_i \\Delta x_i$$\n$$L(g, P) = \\sum_{i=1}^{n} m_i \\Delta x_i$$\n其中 $\\Delta x_i = x_i - x_{i-1}$ 是第 $i$ 个子区间的长度，$M_i = \\sup\\{g(x) : x \\in [x_{i-1}, x_i]\\}$，以及 $m_i = \\inf\\{g(x) : x \\in [x_{i-1}, x_i]\\}$。\n\n考虑区间 $I$ 的两个分割。第一个分割是 $P_1 = \\{0, 1, 2\\}$。第二个分割是 $P_2 = \\{0, 1, 1.5, 2\\}$，它是 $P_1$ 的一个加细。\n\n计算表达式 $(U(f, P_1) - L(f, P_1)) - (U(f, P_2) - L(f, P_2))$ 的值。将你的答案表示为最简分数。", "solution": "给定 $f(x)=x^{2}$ 在 $I=[0,2]$ 上。由于 $f$ 在 $[0,2]$ 上是增函数（因为在此区间上 $f'(x)=2x\\geq 0$），所以在每个子区间 $[x_{i-1},x_{i}]$ 上，我们有 $M_{i}=f(x_{i})$ 和 $m_{i}=f(x_{i-1})$。因此，\n$$U(f,P)-L(f,P)=\\sum_{i=1}^{n}\\big(M_{i}-m_{i}\\big)\\Delta x_{i}=\\sum_{i=1}^{n}\\big(f(x_{i})-f(x_{i-1})\\big)\\big(x_{i}-x_{i-1}\\big).$$\n\n对于 $P_{1}=\\{0,1,2\\}$，子区间为 $[0,1]$ 和 $[1,2]$。\n- 在 $[0,1]$ 上：$M_{1}-m_{1}=f(1)-f(0)=1-0=1$ 且 $\\Delta x_{1}=1$，所以贡献是 $1\\cdot 1=1$。\n- 在 $[1,2]$ 上：$M_{2}-m_{2}=f(2)-f(1)=4-1=3$ 且 $\\Delta x_{2}=1$，所以贡献是 $3\\cdot 1=3$。\n因此，\n$$U(f,P_{1})-L(f,P_{1})=1+3=4.$$\n\n对于 $P_{2}=\\{0,1,1.5,2\\}$，即 $P_2=\\{0,1,\\tfrac{3}{2},2\\}$，子区间为 $[0,1]$、$[1,\\tfrac{3}{2}]$ 和 $[\\tfrac{3}{2},2]$。\n- 在 $[0,1]$ 上：贡献 $=\\big(f(1)-f(0)\\big)\\cdot(1-0)=1\\cdot 1=1$。\n- 在 $[1,\\tfrac{3}{2}]$ 上：$f(\\tfrac{3}{2})=\\tfrac{9}{4}$ 且 $f(1)=1$，$\\Delta x=\\tfrac{1}{2}$，所以贡献是 $\\big(\\tfrac{9}{4}-1\\big)\\cdot\\tfrac{1}{2}=\\tfrac{5}{4}\\cdot\\tfrac{1}{2}=\\tfrac{5}{8}$。\n- 在 $[\\tfrac{3}{2},2]$ 上：$f(2)=4$ 且 $f(\\tfrac{3}{2})=\\tfrac{9}{4}$，$\\Delta x=\\tfrac{1}{2}$，所以贡献是 $\\big(4-\\tfrac{9}{4}\\big)\\cdot\\tfrac{1}{2}=\\tfrac{7}{4}\\cdot\\tfrac{1}{2}=\\tfrac{7}{8}$。\n因此，\n$$U(f,P_{2})-L(f,P_{2})=1+\\tfrac{5}{8}+\\tfrac{7}{8}=1+\\tfrac{12}{8}=1+\\tfrac{3}{2}=\\tfrac{5}{2}.$$\n\n所以，\n$$(U(f,P_{1})-L(f,P_{1}))-(U(f,P_{2})-L(f,P_{2}))=4-\\tfrac{5}{2}=\\tfrac{3}{2}.$$", "answer": "$$\\boxed{\\frac{3}{2}}$$", "id": "1314874"}, {"introduction": "我们刚刚看到，增加分割点可以改善近似效果，但这是否总是有效呢？这个练习将探讨一个“病态”函数的极端情况——狄利克雷函数（Dirichlet function），它在任何点上都不连续。通过计算它对于任意分割的上和，我们将发现，由于有理数和无理数在实数轴上的稠密性，无论我们的分割多么精细，上和与下和总是保持不变且不相等。这个例子深刻地揭示了黎曼积分的局限性，并强调了函数连续性的重要性。[@problem_id:1314823]", "problem": "考虑一个定义在闭区间 $[0, 1]$ 上的函数 $f$，其定义如下：\n$$\nf(x) = \\begin{cases} 1  \\text{若 } x \\text{ 是有理数} \\\\ 0  \\text{若 } x \\text{ 是无理数} \\end{cases}\n$$\n令 $P = \\{x_0, x_1, \\dots, x_n\\}$ 为区间 $[0, 1]$ 的一个任意分割，其中 $0 = x_0  x_1  \\dots  x_n = 1$。\n\n函数 $f$ 关于分割 $P$ 的上达布和，记作 $U(f, P)$，定义为：\n$$\nU(f, P) = \\sum_{i=1}^{n} M_i (x_i - x_{i-1})\n$$\n其中 $M_i$ 是值集合 $\\{f(x) \\mid x \\in [x_{i-1}, x_i]\\}$ 的上确界（最小上界）。\n\n对于区间 $[0, 1]$ 的任意分割 $P$，上和 $U(f, P)$ 的值是多少？", "solution": "给定在 $[0,1]$ 上，当 $x$ 是有理数时 $f(x)=1$，当 $x$ 是无理数时 $f(x)=0$。令 $P=\\{x_{0},x_{1},\\dots,x_{n}\\}$ 是区间 $[0,1]$ 的一个任意分割，其中 $0=x_{0}  x_{1}  \\dots  x_{n}=1$。\n上达布和的定义是 $U(f, P) = \\sum_{i=1}^{n} M_i (x_i - x_{i-1})$，其中 $M_i = \\sup\\{f(x) \\mid x \\in [x_{i-1}, x_i]\\}$。\n对于任意一个子区间 $[x_{i-1}, x_i]$，由于有理数在实数轴上是稠密的，这个区间内必然包含有理数。因此，函数 $f(x)$ 在此子区间上的值的集合中必定包含 1。由于 $f(x)$ 的值只能是 0 或 1，所以其上确界 $M_i$ 必定为 1。\n将 $M_i=1$ 代入上和的公式中，我们得到：\n$$ U(f, P) = \\sum_{i=1}^{n} 1 \\cdot (x_i - x_{i-1}) = \\sum_{i=1}^{n} (x_i - x_{i-1}) $$\n这是一个伸缩和（telescoping sum）：\n$$ (x_1 - x_0) + (x_2 - x_1) + \\dots + (x_n - x_{n-1}) = x_n - x_0 $$\n因为 $x_n=1$ 且 $x_0=0$，所以和为 $1-0=1$。\n由于这个结论对于任意分割 $P$ 都成立，因此上和 $U(f, P)$ 的值恒为 1。", "answer": "$$\\boxed{1}$$", "id": "1314823"}, {"introduction": "既然分割点的选择会影响近似的质量，一个自然的问题是：在子区间数量固定的情况下，我们能否通过巧妙地选择分割点来获得*最佳*的近似效果？这个练习将分割的概念转化为一个优化问题。我们将运用微积分的知识，来寻找一个分割点的最佳位置，使得上达布和（upper Darboux sum）最小化，从而对于一个给定的两区间分割，获得对积分值的最紧凑的上界。[@problem_id:1314821]", "problem": "考虑定义在闭区间 $[0, A]$ 上的函数 $f(x) = kx^2$，其中 $k$ 和 $A$ 是给定的正实数常量。设 $P = \\{x_0, x_1, x_2\\}$ 是由点 $x_0=0$，$x_1=c$ 和 $x_2=A$ 定义的区间 $[0, A]$ 的一个分割，其中 $c$ 是一个满足 $0  c  A$ 的实数。\n\n函数 $f$ 关于分割 $P$ 的上达布和（upper Darboux sum），记作 $U(f, P)$，定义为：\n$$U(f,P) = \\sum_{i=1}^{2} M_i \\Delta x_i$$\n其中 $\\Delta x_i = x_i - x_{i-1}$ 是第 $i$ 个子区间的长度，而 $M_i = \\sup\\{f(x) \\mid x \\in [x_{i-1}, x_i]\\}$ 是函数在该子区间上的上确界（最小上界）。\n\n求使上和 $U(f, P)$ 最小的 $c$ 的值。请用关于 $A$ 的封闭形式表达式表示你的答案。", "solution": "题目要求我们找到一个 $c \\in (0, A)$ 的值，使得对于区间 $[0, A]$ 上的函数 $f(x) = kx^2$ 和分割 $P = \\{0, c, A\\}$，其上达布和 $U(f, P)$ 最小。\n\n首先，我们确定子区间及其长度。分割 $P = \\{0, c, A\\}$ 产生了两个子区间：\n1.  $I_1 = [x_0, x_1] = [0, c]$\n2.  $I_2 = [x_1, x_2] = [c, A]$\n\n这些子区间的长度为：\n$\\Delta x_1 = x_1 - x_0 = c - 0 = c$\n$\\Delta x_2 = x_2 - x_1 = A - c$\n\n接下来，我们需要求出函数 $f(x)$ 在每个子区间上的上确界。函数是 $f(x) = kx^2$。由于 $k  0$，抛物线 $y=kx^2$ 开口向上。其导数为 $f'(x) = 2kx$。对于 $x  0$，有 $f'(x)  0$，这意味着函数 $f(x)$ 在区间 $[0, A]$ 上是严格递增的。\n\n对于一个递增函数，它在任意闭区间 $[a, b]$ 上的上确界在右端点取得，即 $f(b)$。\n因此，对于我们的子区间：\n$M_1 = \\sup\\{f(x) \\mid x \\in [0, c]\\} = f(c) = kc^2$\n$M_2 = \\sup\\{f(x) \\mid x \\in [c, A]\\} = f(A) = kA^2$\n\n现在我们可以写出上和 $U(f, P)$ 的表达式：\n$U(f, P) = M_1 \\Delta x_1 + M_2 \\Delta x_2$\n$U(f, P) = (kc^2)(c) + (kA^2)(A - c)$\n$U(f, P) = kc^3 + kA^3 - kA^2c$\n\n为了找到使这个上和最小的 $c$ 的值，我们可以将 $U(f, P)$ 视为 $c$ 的函数，称之为 $g(c)$：\n$g(c) = k(c^3 - A^2c + A^3)$，其中 $c \\in (0, A)$。\n\n我们可以用微积分来求 $g(c)$ 的最小值。我们求 $g(c)$ 关于 $c$ 的一阶导数，并令其等于零以找到临界点。\n$\\frac{dg}{dc} = \\frac{d}{dc} [k(c^3 - A^2c + A^3)]$\n$\\frac{dg}{dc} = k(3c^2 - A^2)$\n\n将导数设为零：\n$k(3c^2 - A^2) = 0$\n由于 $k$ 是一个正的常数，它不为零，所以我们必须有：\n$3c^2 - A^2 = 0$\n$3c^2 = A^2$\n$c^2 = \\frac{A^2}{3}$\n$c = \\pm \\sqrt{\\frac{A^2}{3}} = \\pm \\frac{A}{\\sqrt{3}}$\n\n题目规定 $c$ 必须在区间 $(0, A)$ 内。因为 $A  0$，所以负数解 $c = -\\frac{A}{\\sqrt{3}}$ 在此区间之外。正数解是 $c = \\frac{A}{\\sqrt{3}}$。由于 $\\sqrt{3}  1$，我们有 $0  \\frac{A}{\\sqrt{3}}  A$，所以这个解在定义域内。\n\n为确认这个 $c$ 值对应的是一个最小值，我们使用二阶导数检验。我们求 $g(c)$ 的二阶导数：\n$\\frac{d^2g}{dc^2} = \\frac{d}{dc} [k(3c^2 - A^2)] = k(6c)$\n\n现在，我们在临界点 $c = \\frac{A}{\\sqrt{3}}$ 处计算二阶导数的值：\n$\\frac{d^2g}{dc^2}\\bigg|_{c=\\frac{A}{\\sqrt{3}}} = k\\left(6 \\cdot \\frac{A}{\\sqrt{3}}\\right) = \\frac{6kA}{\\sqrt{3}} = 2\\sqrt{3}kA$\n\n由于已知 $k  0$ 和 $A  0$，二阶导数 $2\\sqrt{3}kA$ 是正的。正的二阶导数表明函数在该临界点有一个局部最小值。由于这是开区间 $(0, A)$ 内唯一的临界点，因此它也是该区间内的绝对最小值。\n\n因此，使上和 $U(f, P)$ 最小的 $c$ 的值是 $\\frac{A}{\\sqrt{3}}$。作为最后一步，我们可以将分母有理化：\n$c = \\frac{A}{\\sqrt{3}} \\cdot \\frac{\\sqrt{3}}{\\sqrt{3}} = \\frac{A\\sqrt{3}}{3}$。", "answer": "$$\\boxed{\\frac{A\\sqrt{3}}{3}}$$", "id": "1314821"}]}