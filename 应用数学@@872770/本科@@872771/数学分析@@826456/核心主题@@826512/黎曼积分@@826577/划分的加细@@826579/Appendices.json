{"hands_on_practices": [{"introduction": "理论的生命力在于应用。我们首先通过一个具体的计算来亲身体验分割加细的核心效应。这个练习将引导你为一个简单的二次函数计算达布上和与下和，并观察在一个分割中增加一个点后，它们的差值是如何变小的。这是理解黎曼积分理论中“逼近”思想的关键第一步。[@problem_id:1314874]", "problem": "设 $f(x) = x^2$ 是定义在闭区间 $I = [0, 2]$ 上的一个函数。对于闭区间 $[a, b]$ 上的一个有界函数 $g$ 和 $[a, b]$ 的一个分割 $P = \\{x_0, x_1, \\dots, x_n\\}$，其上和 $U(g, P)$ 与下和 $L(g, P)$ 定义如下：\n$$U(g, P) = \\sum_{i=1}^{n} M_i \\Delta x_i$$\n$$L(g, P) = \\sum_{i=1}^{n} m_i \\Delta x_i$$\n其中 $\\Delta x_i = x_i - x_{i-1}$ 是第 $i$ 个子区间的长度，$M_i = \\sup\\{g(x) : x \\in [x_{i-1}, x_i]\\}$，以及 $m_i = \\inf\\{g(x) : x \\in [x_{i-1}, x_i]\\}$。\n\n考虑区间 $I$ 的两个分割。第一个分割是 $P_1 = \\{0, 1, 2\\}$。第二个分割是 $P_2 = \\{0, 1, 1.5, 2\\}$，它是 $P_1$ 的一个加细。\n\n计算表达式 $(U(f, P_1) - L(f, P_1)) - (U(f, P_2) - L(f, P_2))$ 的值。将你的答案表示为最简分数。", "solution": "我们已知 $f(x)=x^{2}$ 定义在 $I=[0,2]$ 上。由于 $f$ 在 $[0,2]$ 上是递增的（因为在这个区间上 $f'(x)=2x\\geq 0$），在每个子区间 $[x_{i-1},x_{i}]$ 上我们有 $M_{i}=f(x_{i})$ 和 $m_{i}=f(x_{i-1})$。因此，\n$$U(f,P)-L(f,P)=\\sum_{i=1}^{n}\\big(M_{i}-m_{i}\\big)\\Delta x_{i}=\\sum_{i=1}^{n}\\big(f(x_{i})-f(x_{i-1})\\big)\\big(x_{i}-x_{i-1}\\big)。$$\n\n对于 $P_{1}=\\{0,1,2\\}$，子区间是 $[0,1]$ 和 $[1,2]$。\n- 在 $[0,1]$ 上：$M_{1}-m_{1}=f(1)-f(0)=1-0=1$ 且 $\\Delta x_{1}=1$，所以贡献是 $1\\cdot 1=1$。\n- 在 $[1,2]$ 上：$M_{2}-m_{2}=f(2)-f(1)=4-1=3$ 且 $\\Delta x_{2}=1$，所以贡献是 $3\\cdot 1=3$。\n因此，\n$$U(f,P_{1})-L(f,P_{1})=1+3=4.$$\n\n对于 $P_{2}=\\{0,1,\\tfrac{3}{2},2\\}$，子区间是 $[0,1]$、$[1,\\tfrac{3}{2}]$ 和 $[\\tfrac{3}{2},2]$。\n- 在 $[0,1]$ 上：贡献 $=\\big(f(1)-f(0)\\big)\\cdot(1-0)=1\\cdot 1=1$。\n- 在 $[1,\\tfrac{3}{2}]$ 上：$f(\\tfrac{3}{2})=\\tfrac{9}{4}$ 且 $f(1)=1$，$\\Delta x=\\tfrac{1}{2}$，所以贡献是 $\\big(\\tfrac{9}{4}-1\\big)\\cdot\\tfrac{1}{2}=\\tfrac{5}{4}\\cdot\\tfrac{1}{2}=\\tfrac{5}{8}$。\n- 在 $[\\tfrac{3}{2},2]$ 上：$f(2)=4$ 且 $f(\\tfrac{3}{2})=\\tfrac{9}{4}$，$\\Delta x=\\tfrac{1}{2}$，所以贡献是 $\\big(4-\\tfrac{9}{4}\\big)\\cdot\\tfrac{1}{2}=\\tfrac{7}{4}\\cdot\\tfrac{1}{2}=\\tfrac{7}{8}$。\n因此，\n$$U(f,P_{2})-L(f,P_{2})=1+\\tfrac{5}{8}+\\tfrac{7}{8}=1+\\tfrac{12}{8}=1+\\tfrac{3}{2}=\\tfrac{5}{2}。$$\n\n所以，\n$$(U(f,P_{1})-L(f,P_{1}))-(U(f,P_{2})-L(f,P_{2}))=4-\\tfrac{5}{2}=\\tfrac{3}{2}。$$", "answer": "$$\\boxed{\\frac{3}{2}}$$", "id": "1314874"}, {"introduction": "掌握了基本计算后，我们来探讨一个更深入的概念性问题。通常，加细分割会使上和与下和的估计更精确，但等号何时成立呢？这个练习要求你为一个余弦函数找到一个特殊的分割点，使得加细后上下和均保持不变，从而揭示分割点与函数极值点之间的深刻联系。[@problem_id:2313812]", "problem": "黎曼积分理论中的一个核心概念是上和与下和在分割加密下的行为。考虑定义在闭区间 $[0, 1]$ 上的函数 $f(x) = \\cos(2\\pi x)$。设 $P = \\{0, 1\\}$ 是该区间的一个初始分割。一个加密分割 $P'$ 是通过在 $P$ 中引入一个额外的点 $c$ 形成的，使得 $P' = \\{0, c, 1\\}$，其中 $c \\in (0, 1)$。\n\n确定唯一的 $c$ 值，使得在加密后，黎曼上和与黎曼下和都保持不变。也就是说，求出同时满足条件 $U(f, P) = U(f, P')$ 和 $L(f, P) = L(f, P')$ 的 $c$ 值。", "solution": "设函数为 $f(x) = \\cos(2\\pi x)$，定义在区间 $I = [0, 1]$ 上。\n\n首先，我们计算初始分割 $P = \\{0, 1\\}$ 的黎曼上和与下和。该分割包含单个子区间 $[0, 1]$。\n上和定义为 $U(f, P) = \\sum_{i=1}^{n} M_i \\Delta x_i$，下和定义为 $L(f, P) = \\sum_{i=1}^{n} m_i \\Delta x_i$，其中 $M_i$ 和 $m_i$ 分别是 $f(x)$ 在第 $i$ 个子区间上的上确界和下确界，$\\Delta x_i$ 是该子区间的长度。\n\n对于分割 $P = \\{0, 1\\}$，我们有一个区间 $[0, 1]$。\n$f(x)$ 在 $[0, 1]$ 上的上确界是 $M_1 = \\sup_{x \\in [0, 1]} \\cos(2\\pi x) = 1$。该值在 $x=0$ 和 $x=1$ 处取得。\n$f(x)$ 在 $[0, 1]$ 上的下确界是 $m_1 = \\inf_{x \\in [0, 1]} \\cos(2\\pi x) = -1$。该值在 $x=1/2$ 处取得。\n区间的长度为 $\\Delta x_1 = 1 - 0 = 1$。\n因此，对于分割 $P$ 的和为：\n$U(f, P) = M_1 \\cdot \\Delta x_1 = 1 \\cdot 1 = 1$。\n$L(f, P) = m_1 \\cdot \\Delta x_1 = -1 \\cdot 1 = -1$。\n\n接下来，我们考虑加密分割 $P' = \\{0, c, 1\\}$，其中 $c \\in (0, 1)$。该分割有两个子区间：$I_1' = [0, c]$ 和 $I_2' = [c, 1]$。\n我们来定义在这些新子区间上的上确界和下确界：\n$M_1' = \\sup_{x \\in [0, c]} f(x)$， $m_1' = \\inf_{x \\in [0, c]} f(x)$。\n$M_2' = \\sup_{x \\in [c, 1]} f(x)$， $m_2' = \\inf_{x \\in [c, 1]} f(x)$。\n子区间的长度为 $\\Delta x_1' = c - 0 = c$ 和 $\\Delta x_2' = 1 - c$。\n\n加密分割 $P'$ 的和为：\n$U(f, P') = M_1' \\Delta x_1' + M_2' \\Delta x_2' = M_1' c + M_2' (1-c)$。\n$L(f, P') = m_1' \\Delta x_1' + m_2' \\Delta x_2' = m_1' c + m_2' (1-c)$。\n\n我们给定的条件是 $U(f, P) = U(f, P')$ 和 $L(f, P) = L(f, P')$。\n我们先分析上和的条件：$U(f, P) = U(f, P')$。\n$1 = M_1' c + M_2' (1-c)$。\n分割加密的一个普遍性质是 $U(f, P') \\le U(f, P)$。此外，对于任何子区间，其上确界必须小于或等于全局上确界，因此 $M_1' \\le M_1 = 1$ 且 $M_2' \\le M_1 = 1$。\n因此，$U(f, P') = M_1' c + M_2' (1-c) \\le 1 \\cdot c + 1 \\cdot (1-c) = 1 = U(f, P)$。\n等号成立当且仅当 $M_1' = 1$ 且 $M_2' = 1$。\n我们来检验函数 $f(x) = \\cos(2\\pi x)$ 是否满足这些条件：\n1. $M_1' = \\sup_{x \\in [0, c]} \\cos(2\\pi x) = 1$。由于 $c \\in (0,1)$，区间 $[0,c]$ 包含点 $x=0$。因为 $f(0) = \\cos(0) = 1$，并且 1 是 $f(x)$ 可能的最大值，所以在 $[0, c]$ 上的上确界确实是 1。这个条件对所有 $c \\in (0, 1)$ 都成立。\n2. $M_2' = \\sup_{x \\in [c, 1]} \\cos(2\\pi x) = 1$。由于 $c \\in (0,1)$，区间 $[c,1]$ 包含点 $x=1$。因为 $f(1) = \\cos(2\\pi) = 1$，所以在 $[c, 1]$ 上的上确界也是 1。这个条件也对所有 $c \\in (0, 1)$ 都成立。\n因此，对于任何 $c \\in (0, 1)$ 的选择，条件 $U(f, P) = U(f, P')$ 都满足。\n\n现在，我们来分析下和的条件：$L(f, P) = L(f, P')$。\n$-1 = m_1' c + m_2' (1-c)$。\n分割加密的一个普遍性质是 $L(f, P) \\le L(f, P')$。此外，全局下确界小于或等于任何子区间上的下确界，因此 $m_1 \\le m_1'$ 且 $m_1 \\le m_2'$。这里 $m_1=-1$。\n因此，$L(f, P') = m_1' c + m_2' (1-c) \\ge (-1) \\cdot c + (-1) \\cdot (1-c) = -1 = L(f, P)$。\n等号成立当且仅当 $m_1' = -1$ 且 $m_2' = -1$。\n我们来检验函数 $f(x) = \\cos(2\\pi x)$ 是否满足这些条件：\n1. $m_1' = \\inf_{x \\in [0, c]} \\cos(2\\pi x) = -1$。$f(x)$ 在 $[0,1]$ 上的全局最小值是 $-1$，出现在 $x = 1/2$ 处。要使子区间 $[0,c]$ 上的下确界为 $-1$，该子区间必须包含点 $x=1/2$。这意味着 $1/2 \\le c$。\n2. $m_2' = \\inf_{x \\in [c, 1]} \\cos(2\\pi x) = -1$。同样地，要使子区间 $[c,1]$ 上的下确界为 $-1$，该子区间必须包含点 $x=1/2$。这意味着 $c \\le 1/2$。\n\n要使下和保持不变，必须同时满足两个条件：$c \\ge 1/2$ 和 $c \\le 1/2$。这迫使 $c$ 必须恰好为 $1/2$。\n\n问题要求上和与下和都保持不变。上和的条件对所有 $c \\in (0, 1)$ 都满足。下和的条件仅对 $c = 1/2$ 满足。这两个解集的交集就是 $c = 1/2$。\n因此，唯一的 $c$ 值为 $1/2$。", "answer": "$$\\boxed{\\frac{1}{2}}$$", "id": "2313812"}, {"introduction": "最后，我们将分析与优化相结合，将我们的理解提升到一个新层次。我们不再仅仅是被动地观察分割加细的效果，而是要主动地设计一个最优的分割。这个练习将挑战你使用微积分工具，去寻找那个能使上和达到最小值的分割点，展示了如何应用达布和的知识来解决优化问题。[@problem_id:1314821]", "problem": "考虑定义在闭区间 $[0, A]$ 上的函数 $f(x) = kx^2$，其中 $k$ 和 $A$ 是给定的正常数。设 $P = \\{x_0, x_1, x_2\\}$ 是由点 $x_0=0$、$x_1=c$ 和 $x_2=A$ 定义的区间 $[0, A]$ 的一个分割，其中 $c$ 是一个满足 $0  c  A$ 的实数。\n\n函数 $f$ 关于分割 $P$ 的上达布和，记作 $U(f, P)$，定义为：\n$$U(f,P) = \\sum_{i=1}^{2} M_i \\Delta x_i$$\n其中 $\\Delta x_i = x_i - x_{i-1}$ 是第 $i$ 个子区间的长度，而 $M_i = \\sup\\{f(x) \\mid x \\in [x_{i-1}, x_i]\\}$ 是函数在该子区间上的上确界（最小上界）。\n\n求使上和 $U(f, P)$ 最小的 $c$ 的值。请用关于 $A$ 的闭式表达式表示你的答案。", "solution": "问题要求我们找到 $c \\in (0, A)$ 的值，使得对于区间 $[0, A]$ 上的函数 $f(x) = kx^2$ 和分割 $P = \\{0, c, A\\}$，上达布和 $U(f, P)$ 最小。\n\n首先，我们确定子区间及其长度。分割 $P = \\{0, c, A\\}$ 产生两个子区间：\n1.  $I_1 = [x_0, x_1] = [0, c]$\n2.  $I_2 = [x_1, x_2] = [c, A]$\n\n这些子区间的长度为：\n$\\Delta x_1 = x_1 - x_0 = c - 0 = c$\n$\\Delta x_2 = x_2 - x_1 = A - c$\n\n接下来，我们需要求出函数 $f(x)$ 在每个子区间上的上确界。函数为 $f(x) = kx^2$。因为 $k  0$，所以抛物线 $y=kx^2$ 开口向上。其导数为 $f'(x) = 2kx$。对于 $x  0$，$f'(x)  0$，这意味着函数 $f(x)$ 在区间 $[0, A]$ 上是严格递增的。\n\n对于一个递增函数，其在任何闭区间 $[a, b]$ 上的上确界在右端点达到，即 $f(b)$。\n因此，对于我们的子区间：\n$M_1 = \\sup\\{f(x) \\mid x \\in [0, c]\\} = f(c) = kc^2$\n$M_2 = \\sup\\{f(x) \\mid x \\in [c, A]\\} = f(A) = kA^2$\n\n现在我们可以写出上和 $U(f, P)$ 的表达式：\n$U(f, P) = M_1 \\Delta x_1 + M_2 \\Delta x_2$\n$U(f, P) = (kc^2)(c) + (kA^2)(A - c)$\n$U(f, P) = kc^3 + kA^3 - kA^2c$\n\n为了找到使这个上和最小的 $c$ 的值，我们可以将 $U(f, P)$ 视为 $c$ 的函数，称之为 $g(c)$：\n$g(c) = k(c^3 - A^2c + A^3)$，对于 $c \\in (0, A)$。\n\n我们可以用微积分来求 $g(c)$ 的最小值。我们求 $g(c)$ 关于 $c$ 的一阶导数，并将其设为零以找到临界点。\n$\\frac{dg}{dc} = \\frac{d}{dc} [k(c^3 - A^2c + A^3)]$\n$\\frac{dg}{dc} = k(3c^2 - A^2)$\n\n将导数设为零：\n$k(3c^2 - A^2) = 0$\n因为 $k$ 是一个正常数，所以它不为零，因此我们必须有：\n$3c^2 - A^2 = 0$\n$3c^2 = A^2$\n$c^2 = \\frac{A^2}{3}$\n$c = \\pm \\sqrt{\\frac{A^2}{3}} = \\pm \\frac{A}{\\sqrt{3}}$\n\n题目规定 $c$ 必须在区间 $(0, A)$ 内。由于 $A  0$，负数解 $c = -\\frac{A}{\\sqrt{3}}$ 在此区间之外。正数解是 $c = \\frac{A}{\\sqrt{3}}$。因为 $\\sqrt{3}  1$，我们有 $0  \\frac{A}{\\sqrt{3}}  A$，所以这个解在定义域内。\n\n为了确认这个 $c$ 值对应一个最小值，我们使用二阶导数检验。我们求 $g(c)$ 的二阶导数：\n$\\frac{d^2g}{dc^2} = \\frac{d}{dc} [k(3c^2 - A^2)] = k(6c)$\n\n现在，我们在临界点 $c = \\frac{A}{\\sqrt{3}}$ 处计算二阶导数：\n$\\frac{d^2g}{dc^2}\\bigg|_{c=\\frac{A}{\\sqrt{3}}} = k\\left(6 \\cdot \\frac{A}{\\sqrt{3}}\\right) = \\frac{6kA}{\\sqrt{3}} = 2\\sqrt{3}kA$\n\n因为题目给定 $k  0$ 和 $A  0$，所以二阶导数 $2\\sqrt{3}kA$ 是正的。一个正的二阶导数表明函数在该临界点有一个局部最小值。由于这是开区间 $(0, A)$ 内唯一的临界点，因此它也是该区间内的全局最小值。\n\n因此，使上和 $U(f, P)$ 最小的 $c$ 值为 $\\frac{A}{\\sqrt{3}}$。作为最后一步，我们可以将分母有理化：\n$c = \\frac{A}{\\sqrt{3}} \\cdot \\frac{\\sqrt{3}}{\\sqrt{3}} = \\frac{A\\sqrt{3}}{3}$。", "answer": "$$\\boxed{\\frac{A\\sqrt{3}}{3}}$$", "id": "1314821"}]}