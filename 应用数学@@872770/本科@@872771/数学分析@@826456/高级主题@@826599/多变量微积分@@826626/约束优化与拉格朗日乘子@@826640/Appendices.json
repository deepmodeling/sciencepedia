{"hands_on_practices": [{"introduction": "我们从一个基本问题开始，它完美地揭示了拉格朗日乘数法的几何精髓。这个问题要求我们找到平面直线上距离原点最近的点，这是一个经典的约束优化问题。通过解决这个问题 [@problem_id:4131]，我们将直观地理解为何在最优点，目标函数（距离的平方）的梯度向量必须与约束函数（定义直线的方程）的梯度向量平行。这个核心思想是整个方法论的基石。", "problem": "考虑二维笛卡尔平面中的一条直线，其方程为 $ax + by = c$，其中 $a$、$b$ 和 $c$ 是非零实数常量。该平面上任意点 $(x, y)$ 到原点 $(0, 0)$ 的距离的平方由函数 $f(x, y) = x^2 + y^2$ 给出。\n\n你的任务是求出该直线上距离原点最近的点 $(x_0, y_0)$。最小化距离等价于最小化距离的平方。使用拉格朗日乘数法，推导该点的坐标。将结果表示为有序对 $(x_0, y_0)$，并用常量 $a$、$b$ 和 $c$ 表示。", "solution": "我们希望最小化\n$$f(x,y)=x^2+y^2$$ \n其约束条件为\n$$g(x,y)=ax+by-c=0.$$ \n引入一个拉格朗日乘子 $\\lambda$ 并构造\n$$\\mathcal L(x,y,\\lambda)=x^2+y^2-\\lambda\\bigl(ax+by-c\\bigr).$$\n求偏导数并令其为零，可得\n$$\\frac{\\partial\\mathcal L}{\\partial x}=2x-\\lambda\\,a=0\n\\quad\\Longrightarrow\\quad x=\\frac{\\lambda a}{2},$$\n$$\\frac{\\partial\\mathcal L}{\\partial y}=2y-\\lambda\\,b=0\n\\quad\\Longrightarrow\\quad y=\\frac{\\lambda b}{2},$$\n$$\\frac{\\partial\\mathcal L}{\\partial \\lambda}=-(ax+by-c)=0\n\\quad\\Longrightarrow\\quad ax+by=c.$$\n将 $x=\\frac{\\lambda a}{2}$ 和 $y=\\frac{\\lambda b}{2}$ 代入约束条件：\n$$a\\frac{\\lambda a}{2}+b\\frac{\\lambda b}{2}\n=\\frac{\\lambda\\,(a^2+b^2)}{2}=c\n\\quad\\Longrightarrow\\quad \\lambda=\\frac{2c}{a^2+b^2}.$$\n因此，使距离最小化的点是\n$$x_0=\\frac{\\lambda a}{2}=\\frac{a\\,c}{a^2+b^2}, \n\\quad \ny_0=\\frac{\\lambda b}{2}=\\frac{b\\,c}{a^2+b^2}.$$", "answer": "$$\\boxed{\\left(\\frac{ac}{a^2+b^2},\\frac{bc}{a^2+b^2}\\right)}$$", "id": "4131"}, {"introduction": "在掌握了基本几何原理后，让我们将拉格朗日乘数法应用于一个更实际的场景：资源分配。这个问题 [@problem_id:4141] 模拟了一个常见的工程或经济学挑战，即在固定的预算下，如何设计一个矩形以获得最大面积，同时考虑到不同边的建造成本不同。这个练习不仅展示了该方法的实用性，其解还将揭示最优设计尺寸与成本参数之间的深刻关系，凸显了拉格朗日乘数法在解决资源优化问题中的强大威力。", "problem": "一个矩形场地需要用栅栏围起来。长度为 $x$ 的两边所用材料的成本为每单位长度 $c_1$，长度为 $y$ 的两边所用材料的成本为每单位长度 $c_2$。该项目的总预算固定为 $C$。\n\n使用拉格朗日乘数法，推导该场地可能的最大面积的表达式。你的最终答案应以预算 $C$ 和成本参数 $c_1$、$c_2$ 表示。", "solution": "我们想要最大化面积\n$$A = x\\,y$$ \n其约束条件为预算约束\n$$2c_1\\,x + 2c_2\\,y = C\\,. $$ \n引入一个拉格朗日乘数 $\\lambda$ 并构造\n$$\\mathcal L = x\\,y + \\lambda\\bigl(C - 2c_1\\,x - 2c_2\\,y\\bigr)\\,. $$\n\n求偏导数并令其为零：\n$$\\frac{\\partial\\mathcal L}{\\partial x}: \\quad y - 2c_1\\,\\lambda = 0 \n   \\;\\Longrightarrow\\; y = 2c_1\\,\\lambda\\,, $$\n$$\\frac{\\partial\\mathcal L}{\\partial y}: \\quad x - 2c_2\\,\\lambda = 0 \n   \\;\\Longrightarrow\\; x = 2c_2\\,\\lambda\\,. $$\n\n令 $\\lambda$ 的两个表达式相等：\n$$\\lambda = \\frac{y}{2c_1} = \\frac{x}{2c_2} \n   \\;\\Longrightarrow\\; y\\,c_2 = x\\,c_1 \n   \\;\\Longrightarrow\\; y = \\frac{c_1}{c_2}\\,x\\,. $$\n\n代入成本约束条件：\n$$2c_1\\,x + 2c_2\\Bigl(\\frac{c_1}{c_2}x\\Bigr) = C\n   \\;\\Longrightarrow\\; 2c_1\\,x + 2c_1\\,x = 4c_1\\,x = C\n   \\;\\Longrightarrow\\; x = \\frac{C}{4c_1}\\,. $$\n\n因此\n$$y = \\frac{c_1}{c_2}\\,\\frac{C}{4c_1} = \\frac{C}{4c_2}\\,. $$\n\n最大面积则为\n$$A_{\\max} = x\\,y = \\frac{C}{4c_1}\\;\\frac{C}{4c_2} = \\frac{C^2}{16\\,c_1\\,c_2}\\,. $$", "answer": "$$\\boxed{\\frac{C^2}{16\\,c_1\\,c_2}}$$", "id": "4141"}, {"introduction": "现实世界中的优化问题往往涉及多个限制条件。拉格朗日乘数法能够优雅地扩展以处理此类复杂情况，只需为每个约束引入一个独立的乘数即可。这个问题的目标是在一个球面和一个平面的交线上找到$z$坐标最高的点 [@problem_id:4128]。通过解决这个问题，我们将学习如何处理具有多个约束的优化，并理解此时目标函数的梯度是如何表示为各个约束函数梯度的线性组合的。", "problem": "考虑由球面 $x^2 + y^2 + z^2 = 4$ 与平面 $x + y + z = 3$ 相交形成的曲线。使用拉格朗日乘数法求该曲线上最高点的坐标 $(x, y, z)$。“最高点”定义为具有最大z坐标的点。", "solution": "我们希望在约束条件\n$$g(x,y,z)=x^2+y^2+z^2-4=0,\\qquad h(x,y,z)=x+y+z-3=0$$\n下最大化 $f(x,y,z)=z$。\n根据拉格朗日乘数法，\n$$\\nabla f = \\lambda\\nabla g + \\mu\\nabla h\n\\;\\Longrightarrow\\;\n(0,0,1) = \\lambda(2x,2y,2z) + \\mu(1,1,1)。$$\n因此\n$$2\\lambda x + \\mu = 0,\\quad 2\\lambda y + \\mu = 0,\\quad 2\\lambda z + \\mu = 1。$$\n因为 $\\lambda\\neq 0$，前两个方程得出 $x=y$。由 $x+y+z=3$ 我们得到\n$$2x+z=3\\quad\\Longrightarrow\\quad z=3-2x。$$\n球面约束变为\n$$2x^2+(3-2x)^2=4\n\\;\\Longrightarrow\\;6x^2-12x+5=0,$$\n所以\n$$x=\\frac{12\\pm\\sqrt{144-120}}{12}\n=\\frac{6\\pm\\sqrt6}{6}。$$\n因此，两个交点是\n$$\\Bigl(\\frac{6+\\sqrt6}{6},\\frac{6+\\sqrt6}{6},1-\\frac{\\sqrt6}{3}\\Bigr)\n\\quad\\text{和}\\quad\n\\Bigl(\\frac{6-\\sqrt6}{6},\\frac{6-\\sqrt6}{6},1+\\frac{\\sqrt6}{3}\\Bigr)。$$\n最大的 $z$ 值为 $1+\\frac{\\sqrt6}{3}$，所以最高点是\n$$\\Bigl(\\frac{6-\\sqrt6}{6},\\frac{6-\\sqrt6}{6},\\frac{3+\\sqrt6}{3}\\Bigr)。$$", "answer": "$$\\boxed{\\left(\\frac{6-\\sqrt{6}}{6},\\frac{6-\\sqrt{6}}{6},\\frac{3+\\sqrt{6}}{3}\\right)}$$", "id": "4128"}]}