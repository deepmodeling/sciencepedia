{"hands_on_practices": [{"introduction": "证明一个集合是可数的，标准方法是构造一个从该集合到已知可数集（如自然数集 $\\mathbb{N}$）的单射函数。对于由多个整数部分定义的结构化对象，算术基本定理提供了一种极其强大的编码工具。本练习 [@problem_id:2295065] 旨在让你运用此思想，为在12进制下具有有限表示的有理数，识别出一种有效的单射映射。", "problem": "在数学分析中，一个重要的概念是集合的可数性。如果一个集合的元素能与自然数集建立一一对应关系，那么该集合就是可数的。考虑在12进制下具有有限表示的正有理数集合。一个数在12进制下有有限表示，当且仅当它被写成最简分数 $a/b$（其中 $a, b \\in \\mathbb{N}$ 且 $\\gcd(a, b) = 1$）时，分母 $b$ 的素因子是基数12的素因子的子集。因为 $12 = 2^2 \\cdot 3$，这意味着 $b$ 必须具有 $2^e 3^f$ 的形式，其中 $e$ 和 $f$ 是非负整数。\n\n因此，每个在12进制下有有限表示的正有理数都可以由一个整数三元组 $(a, e, f)$ 唯一确定，其中分子 $a \\in \\mathbb{N} = \\{1, 2, 3, \\dots\\}$，而 $e, f \\in \\mathbb{N}_0 = \\{0, 1, 2, \\dots\\}$ 是分母 $b=2^e 3^f$ 中的指数。为了证明这个数集是可数的，可以构造一个单射（一对一）函数 $G$，它将每个唯一的三元组 $(a, e, f)$ 映射到 $\\mathbb{N}$ 中的一个唯一的自然数。\n\n下列哪个函数 $G(a, e, f)$ 是从三元组集合 $\\mathbb{N} \\times \\mathbb{N}_0 \\times \\mathbb{N}_0$到自然数集 $\\mathbb{N}$ 的单射映射？\n\nA. $G(a, e, f) = a + e + f$\n\nB. $G(a, e, f) = a \\cdot e \\cdot f + 1$\n\nC. $G(a, e, f) = 2^a 3^e 5^f$\n\nD. $G(a, e, f) = (a+e)^2 + f + 1$\n\nE. $G(a, e, f) = 2^a + 3^e + 5^f$", "solution": "我们必须确定哪个 $G(a,e,f)$ 是从 $\\mathbb{N} \\times \\mathbb{N}_{0} \\times \\mathbb{N}_{0}$到 $\\mathbb{N}$ 的单射。一个函数 $G$ 是单射，当且仅当对于任意的 $(a,e,f)$ 和 $(a',e',f')$，等式 $G(a,e,f)=G(a',e',f')$ 蕴含 $(a,e,f)=(a',e',f')$。\n\n逐一考虑每个选项：\n\n选项A：$G(a,e,f)=a+e+f$。这不是单射，因为不同的三元组可能产生相同的和。例如，\n$$\nG(1,1,0)=1+1+0=2, \\quad G(2,0,0)=2+0+0=2,\n$$\n但 $(1,1,0)\\neq(2,0,0)$。\n\n选项B：$G(a,e,f)=aef+1$。这不是单射，因为如果 $e$ 或 $f$ 中有任何一个为零，乘积 $aef$ 就等于 $0$，而与 $a$ 无关，从而给出相同的输出。例如，\n$$\nG(1,0,0)=1\\cdot 0 \\cdot 0+1=1, \\quad G(2,0,0)=2\\cdot 0 \\cdot 0+1=1,\n$$\n但 $(1,0,0)\\neq(2,0,0)$。\n\n选项C：$G(a,e,f)=2^{a}3^{e}5^{f}$。为了检验单射性，假设\n$$\n2^{a}3^{e}5^{f}=2^{a'}3^{e'}5^{f'}.\n$$\n根据算术基本定理（唯一素数分解），每个素数的指数必须匹配，因此 $a=a'$，$e=e'$，且 $f=f'$。所以，$G$ 是单射。\n\n选项D：$G(a,e,f)=(a+e)^{2}+f+1$。这不是单射，因为具有相同和的不同 $(a,e)$ 对会产生相同的 $(a+e)^{2}$，如果 $f$ 也相同，则会得到相同的值。例如，\n$$\nG(1,1,0)=(1+1)^{2}+0+1=5, \\quad G(2,0,0)=(2+0)^{2}+0+1=5,\n$$\n而 $(1,1,0)\\neq(2,0,0)$。\n\n选项E：$G(a,e,f)=2^{a}+3^{e}+5^{f}$。这不是单射；一个明确的冲突例子是：\n$$\nG(1,1,0)=2^{1}+3^{1}+5^{0}=2+3+1=6, \\quad G(2,0,0)=2^{2}+3^{0}+5^{0}=4+1+1=6,\n$$\n但 $(1,1,0)\\neq(2,0,0)$。\n\n只有选项C通过唯一素数分解给出了一个单射映射。", "answer": "$$\\boxed{C}$$", "id": "2295065"}, {"introduction": "对于一些更复杂的集合，直接构造一个到 $\\mathbb{N}$ 的单射可能相当繁琐。一个更常用且强大的策略是将该集合分解为一系列更简单的、可数子集的并集，并利用“可数个可数集的并集仍然是可数集”这一重要定理。本练习 [@problem_id:2295092] 将此原理应用于一个抽象的数学对象——具有最终周期有理系数的形式幂级数集合，以此展示该方法的普适性和威力。", "problem": "一个具有有理系数的形式幂级数是形如 $f(x) = \\sum_{n=0}^{\\infty} a_n x^n$ 的表达式，其中每个系数 $a_n$ 都是有理数 ($a_n \\in \\mathbb{Q}$)。\n如果存在一个非负整数 $N$（预周期长度）和一个正整数 $p$（周期长度），使得对于所有整数 $n \\ge N$，关系式 $a_{n+p} = a_n$ 成立，那么系数序列 $(a_n)_{n=0}^{\\infty}$ 就被称为**最终周期**的。\n设 $\\mathcal{P}$ 是所有系数序列为最终周期的有理系数形式幂级数的集合。\n\n关于集合 $\\mathcal{P}$ 的下列陈述中，哪一个是正确的？\n\nA. $\\mathcal{P}$ 是一个有限集。\n\nB. $\\mathcal{P}$ 是一个可数无限集。\n\nC. $\\mathcal{P}$ 是一个不可数集，其基数与实数集相同。\n\nD. 集合 $\\mathcal{P}$ 的性质（是可数还是不可数）取决于所选择的预周期长度 $N$ 和周期长度 $p$ 的值。", "solution": "我们考虑所有系数序列 $(a_{n})_{n\\ge 0}$ 是最终周期的有理系数 ($a_{n}\\in \\mathbb{Q}$) 形式幂级数 $f(x)=\\sum_{n=0}^{\\infty} a_{n} x^{n}$ 的集合 $\\mathcal{P}$。对于整数 $N\\in \\mathbb{N}_{0}$ 和 $p\\in \\mathbb{N}$，定义 $\\mathcal{P}_{N,p}$ 为 $\\mathcal{P}$ 的子集，由那些系数对所有 $n\\ge N$ 满足 $a_{n+p}=a_{n}$ 的级数组成。\n\n固定 $N$ 和 $p$。有理数有限元组 $(a_{0},a_{1},\\dots,a_{N+p-1})\\in \\mathbb{Q}^{N+p}$ 的任意选择，都通过将这些值设为初始的 $N+p$ 个值，并根据规则 $a_{n+p}=a_{n}$ 对所有 $n\\ge N$ 进行扩展，从而唯一确定一个序列 $(a_{n})_{n\\ge 0}$。反之，$\\mathcal{P}_{N,p}$ 中的任何元素都由其前 $N+p$ 个系数唯一确定。因此，存在一个双射\n$$\n\\mathcal{P}_{N,p}\\;\\cong\\;\\mathbb{Q}^{N+p}.\n$$\n由于 $\\mathbb{Q}$ 是可数的，且可数集的有限笛卡尔幂是可数的，因此 $\\mathbb{Q}^{N+p}$ 是可数的，从而每个 $\\mathcal{P}_{N,p}$ 都是可数的。\n\n接下来观察到\n$$\n\\mathcal{P}\\;=\\;\\bigcup_{N\\in \\mathbb{N}_{0}}\\;\\bigcup_{p\\in \\mathbb{N}}\\;\\mathcal{P}_{N,p},\n$$\n这是一个可数集的（由 $(N,p)\\in \\mathbb{N}_{0}\\times \\mathbb{N}$ 索引的）可数并集。可数个可数集的并集是可数的，所以 $\\mathcal{P}$ 是可数的。\n\n为说明 $\\mathcal{P}$ 是无限的，注意到对于每个 $r\\in \\mathbb{Q}$，常数序列 $a_{n}=r$（对所有 $n$）是最终周期的（实际上是周期的，取 $N=0$ 和 $p=1$），且不同的 $r$ 给出不同的级数。由于 $\\mathbb{Q}$ 是无限的，所以 $\\mathcal{P}$ 是无限的。\n\n综合以上，$\\mathcal{P}$ 是可数无限的。因此正确选项是B。", "answer": "$$\\boxed{B}$$", "id": "2295092"}, {"introduction": "我们已经知道有理数集 $\\mathbb{Q}$ 是可数的，这意味着我们可以将所有有理数一一列出。一个自然的问题是：具体如何排列？本练习 [@problem_id:2295090] 提供了一种明确的枚举有理数的算法，并要求你计算出特定有理数在该列表中的确切位置。这个实践将抽象的“枚举”概念变得具体可触，并揭示了集合论与数论之间的深刻联系。", "problem": "考虑所有有理数的集合 $\\mathbb{Q}$。每个有理数 $x \\in \\mathbb{Q}$ 都可以唯一地写成其最简分数形式 $x = p/q$，其中 $p$ 是一个整数，$q$ 是一个正整数，且 $|p|$ 和 $q$ 的最大公约数为 1 (即 $\\gcd(|p|, q) = 1$)，并约定当 $x=0$ 时，我们记为 $p=0$ 和 $q=1$。\n\n我们可以创建一个包含所有有理数的有序列表，从而与正整数集合 $\\mathbb{N} = \\{1, 2, 3, \\dots\\}$ 建立一一对应关系。这个枚举过程如下：\n首先，我们定义一个有理数 $x=p/q$ (最简形式) 的“高度”为 $h = |p| + q$。\n有理数首先按其高度的升序排列。\n对于高度相同的有理数，它们再按其分子 $p$ 的值的升序排列。\n\n例如，数字 $0$ (表示为 $0/1$) 的高度为 $h = |0|+1=1$。由于这是可能的最小高度，所以 $0$ 是列表中的第一个数。高度为 $h=2$ 的数是 $-1$ (来自 $-1/1$) 和 $1$ (来自 $1/1$)。因为 $-1  1$，所以有理数列表以 $0, -1, 1, \\dots$ 开始。\n\n设此枚举定义了一个函数 $f: \\mathbb{Q} \\to \\mathbb{N}$，其中 $f(x)$ 是有理数 $x$ 在有序列表中的位置。$f(-2/5)$ 的值是多少？", "solution": "我们将 $x=-\\frac{2}{5}$ 写成最简形式，即 $p=-2$，$q=5$，满足 $\\gcd(|p|,q)=\\gcd(2,5)=1$ 且 $q>0$。其高度为\n$$\nh=|p|+q=2+5=7.\n$$\n$f(x)$ 的位置等于高度小于 $7$ 的最简有理数的数量，加上高度为 $7$ 且分子 $p$ 小于 $-2$ 的最简有理数的数量，再加上 $x$ 本身的 $1$。\n\n对于给定的高度 $h$，允许的最简分数具有满足 $|p|=a \\in \\{0, 1, \\dots, h-1\\}$ 和 $q=h-a$ 的 $p$，且需满足 $\\gcd(a,h-a)=1$。对于 $a=0$，这种情况只在 $h=1$ 时发生 (得到 $0/1$)。对于 $a \\ge 1$，观察到\n$$\n\\gcd(a,h-a)=\\gcd(a,h),\n$$\n因此 $a$ 必须与 $h$ 互质。在 $\\{1,\\dots,h-1\\}$ 中有 $\\varphi(h)$ 个这样的 $a$，每个 $a$ 对应两个分子 $p=\\pm a$。因此，高度为 $h$ 的最简有理数的数量 $N_{h}$ 为：当 $h=1$ 时，$N_1=1$；当 $h \\ge 2$ 时，$N_h=2\\varphi(h)$。\n因此，高度小于 $7$ 的总数为\n$$\nN_{7} = N_{1}+\\sum_{h=2}^{6}N_{h}=1+\\sum_{h=2}^{6}2\\varphi(h).\n$$\n计算 $h=2,3,4,5,6$ 时的 $\\varphi$ 值，得到 $\\varphi(2)=1$，$\\varphi(3)=2$，$\\varphi(4)=2$，$\\varphi(5)=4$，$\\varphi(6)=2$，所以\n$$\nN_{7}=1+2(1+2+2+4+2)=1+22=23.\n$$\n在高度为 $7$ 时，由于 $7$ 是素数，所有 $a\\in\\{1,2,3,4,5,6\\}$ 都与 $7$ 互质，这产生了允许的分子\n$$\np\\in\\{-6,-5,-4,-3,-2,-1,1,2,3,4,5,6\\},\n$$\n按 $p$ 的升序排列。$p$ 小于 $-2$ 的值有 $-6,-5,-4,-3$，正好有 $4$ 个。因此，其位置是\n$$\nf\\left(-\\frac{2}{5}\\right)=N_{7}+4+1=23+4+1=28.\n$$", "answer": "$$\\boxed{28}$$", "id": "2295090"}]}