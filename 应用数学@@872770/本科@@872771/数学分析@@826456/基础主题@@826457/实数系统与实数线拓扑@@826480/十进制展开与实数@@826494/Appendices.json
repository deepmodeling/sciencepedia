{"hands_on_practices": [{"introduction": "将有理数与其循环小数表示联系起来是理解实数系统的基石。这个练习旨在将纯循环小数转换为分数形式，并将其推广到任意整数基底$b$。掌握这种代数方法不仅能让你熟练地处理有理数，还能让你更深刻地理解数字表示的内在结构 [@problem_id:1294266]。", "problem": "考虑一个以任意整数进制 $b  1$ 表示的数 $x$。$x$ 的表示在小数点后是纯循环的，循环节有 $p$ 位，记作 $d_1, d_2, \\ldots, d_p$。每一位数字的值都是一个满足 $0 \\le d_k  b$ 的整数。因此，数 $x$ 可以写成 $x = (0.\\overline{d_1 d_2 \\ldots d_p})_b$。\n\n设 $N$ 是一个整数，其在 $b$ 进制下的表示由循环节中的数字序列给出。也就是说，$N$ 的 $b$ 进制表示为 $(d_1 d_2 \\ldots d_p)_b$。\n\n请将 $x$ 表示为一个由整数 $N$、$b$ 和 $p$ 构成的分数。你的最终答案应该是一个使用标准十进制算术运算的封闭形式解析表达式。", "solution": "设 $x$ 是一个 $b$ 进制数，其纯循环节长度为 $p$，由数字 $d_{1},d_{2},\\ldots,d_{p}$ 给出。设 $N$ 是 $b$ 进制表示为 $(d_{1}d_{2}\\ldots d_{p})_{b}$ 的整数。用按位表示法，\n$$\nN=\\sum_{k=1}^{p} d_{k}\\, b^{p-k}.\n$$\n由于循环节紧跟在小数点后，将 $x$ 乘以 $b^{p}$ 会使小数点向右移动 $p$ 位，得到\n$$\nb^{p}x = N + x,\n$$\n因为小数点移动后揭示的整数部分恰好是 $N$，而小数部分与原来的循环小数 $x$ 相同。\n\n整理可得\n$$\n(b^{p}-1)x = N,\n$$\n所以\n$$\nx = \\frac{N}{b^{p}-1}.\n$$\n\n等价地，将 $x$ 写成一个无穷几何级数也能证实相同的结果。每个循环节贡献了 $N/b^{p}$、$N/b^{2p}$ 等等：\n$$\nx = \\sum_{m=1}^{\\infty} \\frac{N}{b^{mp}} = N \\sum_{m=1}^{\\infty} \\left(b^{-p}\\right)^{m}\n= N \\cdot \\frac{b^{-p}}{1-b^{-p}} = \\frac{N}{b^{p}-1}.\n$$\n两种推导都得出了相同的封闭形式表达式。", "answer": "$$\\boxed{\\frac{N}{b^{p}-1}}$$", "id": "1294266"}, {"introduction": "这个练习将序列分析与数字表示理论巧妙地结合在一起。你需要处理一个由线性递推关系生成的数字序列，并确定其在四进制下的精确分数值。这项实践不仅能巩固你寻找序列周期性的能力，还能让你应用前面学到的转换技巧 [@problem_id:1294266]，从而在一个更复杂的情境中加深理解 [@problem_id:2295629]。", "problem": "一个数字序列 $\\{a_n\\}_{n=1}^{\\infty}$ 被用来构造一个数 $X$。这些数字 $a_n$ 是来自集合 $\\{0, 1, 2, 3\\}$ 的整数。该序列由线性递推关系\n$$ a_{n+2} = (a_{n+1} + a_n) \\pmod 4 $$\n生成，其初始值给定为 $a_1=1$ 和 $a_2=3$。\n\n数字 $X$ 由这个数字序列的四进制展开定义：\n$$ X = (0.a_1 a_2 a_3 \\dots)_4 = \\sum_{n=1}^{\\infty} \\frac{a_n}{4^n} $$\n求 $X$ 的精确值，并将其表示为一个最简分数 $p/q$，其中 $p$ 和 $q$ 是正整数。", "solution": "我们已知递推关系 $a_{n+2} \\equiv a_{n+1}+a_n \\pmod 4$，初始值为 $a_1=1$，$a_2=3$，且 $a_n \\in \\{0,1,2,3\\}$。计算该序列以确定其周期性：\n$$\n\\begin{aligned}\na_1=1,\\quad a_2=3,\\\\\na_3 \\equiv a_2+a_1\\equiv 3+1\\equiv 0\\ (\\bmod\\ 4),\\\\\na_4 \\equiv a_3+a_2\\equiv 0+3\\equiv 3\\ (\\bmod\\ 4),\\\\\na_5 \\equiv a_4+a_3\\equiv 3+0\\equiv 3\\ (\\bmod\\ 4),\\\\\na_6 \\equiv a_5+a_4\\equiv 3+3\\equiv 2\\ (\\bmod\\ 4),\\\\\na_7 \\equiv a_6+a_5\\equiv 2+3\\equiv 1\\ (\\bmod\\ 4),\\\\\na_8 \\equiv a_7+a_6\\equiv 1+2\\equiv 3\\ (\\bmod\\ 4).\n\\end{aligned}\n$$\n因此，数对 $(a_n,a_{n+1})$ 的序列演变如下：\n$$\n(1,3)\\to(3,0)\\to(0,3)\\to(3,3)\\to(3,2)\\to(2,1)\\to(1,3),\n$$\n所以在 $6$ 步之后返回到初始数对。因此，对于所有 $n$，有 $a_{n+6}=a_n$，长度为 $6$ 的数字块是\n$$\n(a_1,a_2,a_3,a_4,a_5,a_6)=(1,3,0,3,3,2).\n$$\n因此 $X$ 是一个纯循环的四进制小数，周期 $L=6$：\n$$\nX=\\sum_{n=1}^{\\infty}\\frac{a_n}{4^n}=\\sum_{k=0}^{\\infty}\\sum_{j=1}^{6}\\frac{a_j}{4^{6k+j}}\n=\\left(\\sum_{j=1}^{6}a_j4^{-j}\\right)\\sum_{k=0}^{\\infty}4^{-6k}.\n$$\n使用几何级数求和公式 $\\sum_{k=0}^{\\infty}r^{k}=\\frac{1}{1-r}$（对于 $|r|1$），其中 $r=4^{-6}$，\n$$\nX=\\left(\\sum_{j=1}^{6}a_j4^{-j}\\right)\\frac{1}{1-4^{-6}}\n=\\frac{\\sum_{j=1}^{6}a_j4^{6-j}}{4^{6}-1}.\n$$\n分子是由数字块 $130332$ 构成的四进制整数：\n$$\n\\sum_{j=1}^{6}a_j4^{6-j}=1\\cdot 4^{5}+3\\cdot 4^{4}+0\\cdot 4^{3}+3\\cdot 4^{2}+3\\cdot 4+2\n=1024+768+0+48+12+2=1854.\n$$\n分母是 $4^{6}-1=4096-1=4095$。因此\n$$\nX=\\frac{1854}{4095}.\n$$\n将分子和分母同除以它们的最大公约数 $\\gcd(1854,4095)=9$ 来化简分数：\n$$\nX=\\frac{206}{455}.\n$$\n由于 $\\gcd(206,455)=1$，此分数为最简形式。", "answer": "$$\\boxed{\\frac{206}{455}}$$", "id": "2295629"}, {"introduction": "虽然我们对数字加法习以为常，但直接对无限小数展开进行加法操作却揭示了其算法上的一个微妙之处：进位。这个练习让你通过一个具体的例子，模拟计算两个小数之和的某一位数字。通过处理从右到左的进位链，你将对算术的算法本质以及无限小数表示的实际操作有更深入的认识 [@problem_id:1294305]。", "problem": "设两个在区间 $[0, 1)$ 内的实数 $x$ 和 $y$ 由其无限小数展开式定义，$x = 0.d_1d_2d_3\\dots = \\sum_{n=1}^{\\infty} d_n 10^{-n}$ 且 $y = 0.e_1e_2e_3\\dots = \\sum_{n=1}^{\\infty} e_n 10^{-n}$。这些数的各位数字由以下规则给出：\n\n$x$ 的各位数字由以下规则给出：\n对于所有整数 $n \\geq 1$，$d_n = 3$。\n\n$y$ 的各位数字由以下规则给出：\n- 当 $1 \\leq n \\leq 5$ 时，$e_n = 6$。\n- $e_6 = 5$。\n- 当 $7 \\leq n \\leq 10$ 时，$e_n = 6$。\n- $e_{11} = 8$。\n- 对于所有 $n \\geq 12$，$e_n = 2$。\n\n设它们的和为 $z = x+y$，其小数展开式为 $z = 0.f_1f_2f_3\\dots$。求和的第6位小数数字 $f_6$ 的值。", "solution": "我们已知 $x=0.d_{1}d_{2}d_{3}\\dots$，其中对于所有 $n\\geq 1$ 都有 $d_{n}=3$，以及 $y=0.e_{1}e_{2}e_{3}\\dots$，其中\n$$\ne_{n}=\\begin{cases}\n6,  1\\leq n\\leq 5,\\\\\n5,  n=6,\\\\\n6,  7\\leq n\\leq 10,\\\\\n8,  n=11,\\\\\n2,  n\\geq 12.\n\\end{cases}\n$$\n设 $z=x+y=0.f_{1}f_{2}f_{3}\\dots$。定义原始数字和 $s_{n}=d_{n}+e_{n}$。那么\n$$\ns_{n}=\\begin{cases}\n9,  1\\leq n\\leq 5,\\\\\n8,  n=6,\\\\\n9,  7\\leq n\\leq 10,\\\\\n11,  n=11,\\\\\n5,  n\\geq 12.\n\\end{cases}\n$$\n我们从右到左进行带进位的加法运算。设 $c_{n}$ 表示从第 $n$ 位到第 $(n-1)$ 位的进位，并约定对于足够大的 $n$，$c_{n}=0$。各位数字和进位满足\n$$\nf_{n}\\equiv s_{n}+c_{n+1}\\pmod{10},\\qquad c_{n}=\\begin{cases}\n1,  s_{n}+c_{n+1}\\geq 10,\\\\\n0,  s_{n}+c_{n+1}\\leq 9.\n\\end{cases}\n$$\n对于 $n\\geq 12$，$s_{n}=5$，因此 $c_{n+1}=0$ 意味着 $c_{n}=0$ 且 $f_{n}=5$。因此 $c_{12}=0$。在 $n=11$ 处，$s_{11}=11$ 给出 $s_{11}+c_{12}=11$，所以 $c_{11}=1$ 且 $f_{11}=1$。\n\n对于 $n=10,9,8,7$，我们有 $s_{n}=9$ 和 $c_{n+1}=1$，所以 $s_{n}+c_{n+1}=10$，在这些位置上得到 $c_{n}=1$ 和 $f_{n}=0$。\n\n在 $n=6$ 处，$s_{6}=8$ 且 $c_{7}=1$，所以 $s_{6}+c_{7}=9$，这意味着 $c_{6}=0$ 且\n$$\nf_{6}=9.\n$$\n由于进位链在 $n=6$ 处停止，更前面的数字不受来自右边的进位的影响。因此，$z$ 的第六位小数数字是 $f_{6}=9$。", "answer": "$$\\boxed{9}$$", "id": "1294305"}]}