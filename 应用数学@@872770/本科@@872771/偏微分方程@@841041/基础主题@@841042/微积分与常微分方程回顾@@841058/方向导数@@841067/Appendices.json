{"hands_on_practices": [{"introduction": "方向导数的一个核心应用是量化一个多变量函数在任意指定方向上的变化率。本练习 [@problem_id:2096953] 提供了一个具体情景——监测水体中的化学物质浓度——来让你实践方向导数的基本计算。通过这个练习，你将应用梯度向量 $\\nabla C$ 与单位方向向量 $\\vec{u}$ 的点积公式 $D_{\\vec{u}}C = \\nabla C \\cdot \\vec{u}$，将抽象的数学概念转化为解决实际问题的工具。", "problem": "正在监测一个浅水体中某种化学物质的浓度。所关注的区域被建模为一个二维平面，坐标为 $(x,y)$，其中距离以米为单位。化学物质的浓度 $C(x,y)$，以毫克/升 (mg/L) 为单位，被发现可以很好地由以下函数描述：\n$$C(x,y) = A y^2 \\exp\\left(-\\frac{x}{L}\\right)$$\n此处，$A$ 和 $L$ 是正常数。对于所研究的特定区域，这些常数的值为 $A = 0.500 \\text{ mg L}^{-1} \\text{m}^{-2}$ 和 $L = 20.0 \\text{ m}$。\n\n一架遥控水样采集无人机位于点 $P$，坐标为 $(0, 10.0)$。该无人机被设定为从该点出发，沿着与x轴正方向成 $\\theta = \\frac{\\pi}{3}$ 弧度角的方向移动。\n\n计算无人机开始移动时测得的化学物质浓度相对于距离的初始瞬时变化率。以 mg L⁻¹m⁻¹ 为单位表示你的答案，并将答案四舍五入到三位有效数字。", "solution": "该问题要求计算浓度 $C(x,y)$ 在特定点沿特定方向的瞬时变化率。这由函数 $C(x,y)$ 在该点的方向导数给出。\n\n函数 $C(x,y)$ 在点 $(x_0, y_0)$ 沿单位向量 $\\vec{u}$ 方向的方向导数由以下公式给出：\n$$D_{\\vec{u}}C(x_0, y_0) = \\nabla C(x_0, y_0) \\cdot \\vec{u}$$\n其中 $\\nabla C(x_0, y_0)$ 是 $C$ 在点 $(x_0, y_0)$ 的梯度。\n\n首先，我们需要求浓度函数 $C(x,y) = A y^2 \\exp(-x/L)$ 的梯度。梯度是偏导数的向量：\n$$\\nabla C(x,y) = \\left\\langle \\frac{\\partial C}{\\partial x}, \\frac{\\partial C}{\\partial y} \\right\\rangle$$\n\n让我们计算偏导数：\n关于 $x$ 的偏导数是：\n$$\\frac{\\partial C}{\\partial x} = \\frac{\\partial}{\\partial x} \\left( A y^2 \\exp\\left(-\\frac{x}{L}\\right) \\right) = A y^2 \\exp\\left(-\\frac{x}{L}\\right) \\cdot \\left(-\\frac{1}{L}\\right) = -\\frac{A y^2}{L} \\exp\\left(-\\frac{x}{L}\\right)$$\n\n关于 $y$ 的偏导数是：\n$$\\frac{\\partial C}{\\partial y} = \\frac{\\partial}{\\partial y} \\left( A y^2 \\exp\\left(-\\frac{x}{L}\\right) \\right) = 2 A y \\exp\\left(-\\frac{x}{L}\\right)$$\n\n所以，梯度向量是：\n$$\\nabla C(x,y) = \\left\\langle -\\frac{A y^2}{L} \\exp\\left(-\\frac{x}{L}\\right), 2 A y \\exp\\left(-\\frac{x}{L}\\right) \\right\\rangle$$\n\n接下来，我们在给定点 $P = (x_0, y_0) = (0, 10.0)$ 处计算梯度。\n$$\\nabla C(0, 10.0) = \\left\\langle -\\frac{A (10.0)^2}{L} \\exp\\left(-\\frac{0}{L}\\right), 2 A (10.0) \\exp\\left(-\\frac{0}{L}\\right) \\right\\rangle$$\n由于 $\\exp(0) = 1$，这可以简化为：\n$$\\nabla C(0, 10.0) = \\left\\langle -\\frac{100 A}{L}, 20.0 A \\right\\rangle$$\n\n现在，我们确定单位方向向量 $\\vec{u}$。方向由与x轴正向的夹角 $\\theta = \\frac{\\pi}{3}$ 弧度给出。单位向量的分量是 $(\\cos\\theta, \\sin\\theta)$。\n$$\\vec{u} = \\left\\langle \\cos\\left(\\frac{\\pi}{3}\\right), \\sin\\left(\\frac{\\pi}{3}\\right) \\right\\rangle = \\left\\langle \\frac{1}{2}, \\frac{\\sqrt{3}}{2} \\right\\rangle$$\n\n现在我们可以通过计算梯度和单位方向向量的点积来计算方向导数：\n$$D_{\\vec{u}}C(0, 10.0) = \\nabla C(0, 10.0) \\cdot \\vec{u} = \\left\\langle -\\frac{100 A}{L}, 20.0 A \\right\\rangle \\cdot \\left\\langle \\frac{1}{2}, \\frac{\\sqrt{3}}{2} \\right\\rangle$$\n$$D_{\\vec{u}}C(0, 10.0) = \\left(-\\frac{100 A}{L}\\right)\\left(\\frac{1}{2}\\right) + (20.0 A)\\left(\\frac{\\sqrt{3}}{2}\\right)$$\n$$D_{\\vec{u}}C(0, 10.0) = -\\frac{50.0 A}{L} + 10.0 \\sqrt{3} A = A \\left( 10.0 \\sqrt{3} - \\frac{50.0}{L} \\right)$$\n\n最后，我们代入常数的给定数值：$A = 0.500 \\text{ mg L}^{-1} \\text{m}^{-2}$ 和 $L = 20.0 \\text{ m}$。\n$$D_{\\vec{u}}C(0, 10.0) = 0.500 \\left( 10.0 \\sqrt{3} - \\frac{50.0}{20.0} \\right)$$\n$$D_{\\vec{u}}C(0, 10.0) = 0.500 (10.0 \\sqrt{3} - 2.50)$$\n使用近似值 $\\sqrt{3} \\approx 1.73205$：\n$$D_{\\vec{u}}C(0, 10.0) \\approx 0.500 (10.0 \\times 1.73205 - 2.50)$$\n$$D_{\\vec{u}}C(0, 10.0) \\approx 0.500 (17.3205 - 2.50) = 0.500 (14.8205)$$\n$$D_{\\vec{u}}C(0, 10.0) \\approx 7.41025$$\n\n问题要求将答案四舍五入到三位有效数字。\n结果是 $7.41$。单位是 (mg/L)/m 或 mg L⁻¹m⁻¹。", "answer": "$$\\boxed{7.41}$$", "id": "2096953"}, {"introduction": "在掌握了方向导数的基本计算后，我们可以进一步探索其与梯度向量之间的深刻几何联系。这个练习 [@problem_id:6827] 提出了一个有趣的思想实验：如果我们只知道函数在两个相互垂直方向上的变化率，我们能推断出什么信息？通过解决这个问题，你将发现一个优雅的结论，它揭示了梯度的模长如何由其在正交方向上的分量（即方向导数）所决定。", "problem": "设 $f(x, y)$ 是一个在点 $P=(x_0, y_0)$ 处可微的标量函数。在点 $P$ 处，$f$ 沿单位向量 $\\mathbf{w}$ 方向的方向导数，记作 $D_{\\mathbf{w}}f(P)$，由 $f$ 在点 $P$ 处的梯度与向量 $\\mathbf{w}$ 的点积给出：\n$$\nD_{\\mathbf{w}}f(P) = \\nabla f(P) \\cdot \\mathbf{w}\n$$\n假设在 $xy$ 平面中给定两个正交单位向量 $\\mathbf{u}$ 和 $\\mathbf{v}$（即 $|\\mathbf{u}|=1$，$|\\mathbf{v}|=1$ 且 $\\mathbf{u} \\cdot \\mathbf{v} = 0$）。同时给定 $f$ 在点 $P$ 处沿这两个方向的方向导数的值：\n$$\nD_{\\mathbf{u}}f(P) = A\n$$\n$$\nD_{\\mathbf{v}}f(P) = B\n$$\n其中 $A$ 和 $B$ 是给定的常数。\n\n请推导 $f$ 在点 $P$ 处的梯度大小（记作 $|\\nabla f(P)|$）关于 $A$ 和 $B$ 的一般表达式。", "solution": "由于 $f$ 在点 $P$ 处可微，其梯度 $\\nabla f(P)$ 存在，并且沿任意单位方向 $\\mathbf w$ 的方向导数为 \n$$D_{\\mathbf w}f(P)=\\nabla f(P)\\cdot\\mathbf w.$$\n我们已知两个标准正交单位向量 $\\mathbf u,\\mathbf v$，满足\n$$\\mathbf u\\cdot\\mathbf u=1,\\quad \\mathbf v\\cdot\\mathbf v=1,\\quad \\mathbf u\\cdot\\mathbf v=0,$$\n且\n$$D_{\\mathbf u}f(P)=\\nabla f(P)\\cdot\\mathbf u=A,$$\n$$D_{\\mathbf v}f(P)=\\nabla f(P)\\cdot\\mathbf v=B.$$\n将梯度在基 $\\{\\mathbf u,\\mathbf v\\}$ 上展开：\n$$\\nabla f(P)=(\\nabla f(P)\\cdot\\mathbf u)\\,\\mathbf u+(\\nabla f(P)\\cdot\\mathbf v)\\,\\mathbf v\n=A\\,\\mathbf u+B\\,\\mathbf v.$$\n取范数的平方，\n$$|\\nabla f(P)|^2=(A\\,\\mathbf u+B\\,\\mathbf v)\\cdot(A\\,\\mathbf u+B\\,\\mathbf v)\n=A^2(\\mathbf u\\cdot\\mathbf u)+2AB(\\mathbf u\\cdot\\mathbf v)+B^2(\\mathbf v\\cdot\\mathbf v)\n=A^2+B^2.$$\n因此\n$$|\\nabla f(P)|=\\sqrt{A^2+B^2}.$$", "answer": "$$\\boxed{\\sqrt{A^2+B^2}}$$", "id": "6827"}, {"introduction": "最后，我们将计算与概念理解融为一体，解决一个更具挑战性的“逆向”问题。在之前的练习中，我们给定方向求变化率；而在这个练习 [@problem_id:2097015] 中，我们需要根据一个期望的变化率来反向求解所有可能的方向。这项任务要求你不仅要计算梯度，还要深刻理解方向导数 $D_{\\mathbf{u}}C = |\\nabla C| \\cos(\\phi)$ 与其最大值（即梯度模长）之间的关系，这是检验你是否真正掌握方向导数精髓的绝佳实践。", "problem": "一颗遥感卫星正在绘制一个大平面区域上某种大气化学物质的浓度分布图。该化学物质的浓度 $C$（单位为百万分之几，即 ppm）由以下函数建模：\n$$C(x, y) = A \\sin\\left(\\frac{\\pi x}{L}\\right) \\cosh\\left(\\frac{\\pi y}{W}\\right)$$\n其中 $x$ 和 $y$ 是空间坐标，单位为千米。模型的参数为 $A = 200$ ppm，$L = 800$ 千米，$W = 600$ 千米。\n\n位于 $(x_0, y_0) = (200, 200)$ 的一个地面传感器需要部署一个探测器。探测器必须沿水平方向发射，在该方向上，化学物质浓度的初始空间变化率恰好是该点最大可能变化率的 $50\\%$。\n\n确定探测器所有可能的发射方向。将答案表示为角度，单位为度，从x轴正方向逆时针测量。按升序提供角度，并四舍五入到四位有效数字。", "solution": "浓度 $C(x,y)$ 在点 $(x_0, y_0)$ 沿单位向量 $\\mathbf{u}$ 方向的空间变化率由方向导数 $D_{\\mathbf{u}}C(x_0, y_0)$ 给出。方向导数可以使用函数的梯度 $\\nabla C(x_0, y_0)$ 计算如下：\n$$D_{\\mathbf{u}}C(x_0, y_0) = \\nabla C(x_0, y_0) \\cdot \\mathbf{u}$$\n在某一点，方向导数的最大值是该点梯度的模，即 $|\\nabla C(x_0, y_0)|$。当方向向量 $\\mathbf{u}$ 与梯度向量 $\\nabla C(x_0, y_0)$ 方向相同时，达到这个最大值。\n\n问题要求的是方向导数为其最大值 $50\\%$ 的方向 $\\mathbf{u}$。这可以表示为：\n$$D_{\\mathbf{u}}C(x_0, y_0) = 0.5 \\times |\\nabla C(x_0, y_0)|$$\n设 $\\phi$ 为梯度向量 $\\nabla C$ 与方向向量 $\\mathbf{u}$ 之间的夹角。点积可以写为：\n$$\\nabla C \\cdot \\mathbf{u} = |\\nabla C| |\\mathbf{u}| \\cos(\\phi)$$\n因为 $\\mathbf{u}$ 是单位向量，所以 $|\\mathbf{u}|=1$。该条件变为：\n$$|\\nabla C(x_0, y_0)| \\cos(\\phi) = 0.5 |\\nabla C(x_0, y_0)|$$\n假设梯度不是零向量，我们可以除以它的模：\n$$\\cos(\\phi) = 0.5$$\n这意味着所需方向与梯度方向之间的夹角 $\\phi$ 必须是 $\\phi = \\pm \\arccos(0.5) = \\pm 60^\\circ$。\n\n第一步是计算浓度函数 $C(x, y)$ 的梯度。偏导数是：\n$$\\frac{\\partial C}{\\partial x} = A \\left(\\frac{\\pi}{L}\\right) \\cos\\left(\\frac{\\pi x}{L}\\right) \\cosh\\left(\\frac{\\pi y}{W}\\right)$$\n$$\\frac{\\partial C}{\\partial y} = A \\left(\\frac{\\pi}{W}\\right) \\sin\\left(\\frac{\\pi x}{L}\\right) \\sinh\\left(\\frac{\\pi y}{W}\\right)$$\n所以，梯度向量是：\n$$\\nabla C(x,y) = \\left\\langle A \\frac{\\pi}{L} \\cos\\left(\\frac{\\pi x}{L}\\right) \\cosh\\left(\\frac{\\pi y}{W}\\right), A \\frac{\\pi}{W} \\sin\\left(\\frac{\\pi x}{L}\\right) \\sinh\\left(\\frac{\\pi y}{W}\\right) \\right\\rangle$$\n现在，我们使用给定的参数 $A=200$，$L=800$ 和 $W=600$，在点 $(x_0, y_0) = (200, 200)$ 处计算梯度。\n三角函数和双曲函数的自变量为：\n$$\\frac{\\pi x_0}{L} = \\frac{\\pi (200)}{800} = \\frac{\\pi}{4}$$\n$$\\frac{\\pi y_0}{W} = \\frac{\\pi (200)}{600} = \\frac{\\pi}{3}$$\n将这些值代入偏导数中：\n$$C_x = \\frac{\\partial C}{\\partial x}\\bigg|_{(200,200)} = 200 \\left(\\frac{\\pi}{800}\\right) \\cos\\left(\\frac{\\pi}{4}\\right) \\cosh\\left(\\frac{\\pi}{3}\\right) = \\frac{\\pi}{4} \\left(\\frac{\\sqrt{2}}{2}\\right) \\cosh\\left(\\frac{\\pi}{3}\\right) = \\frac{\\sqrt{2}\\pi}{8} \\cosh\\left(\\frac{\\pi}{3}\\right)$$\n$$C_y = \\frac{\\partial C}{\\partial y}\\bigg|_{(200,200)} = 200 \\left(\\frac{\\pi}{600}\\right) \\sin\\left(\\frac{\\pi}{4}\\right) \\sinh\\left(\\frac{\\pi}{3}\\right) = \\frac{\\pi}{3} \\left(\\frac{\\sqrt{2}}{2}\\right) \\sinh\\left(\\frac{\\pi}{3}\\right) = \\frac{\\sqrt{2}\\pi}{6} \\sinh\\left(\\frac{\\pi}{3}\\right)$$\n在 $(200, 200)$ 处的梯度向量是 $\\nabla C = \\langle C_x, C_y \\rangle$。\n\n设 $\\theta_{\\nabla}$ 是梯度向量与x轴正方向所成的角度。这个角度由下式给出：\n$$\\tan(\\theta_{\\nabla}) = \\frac{C_y}{C_x} = \\frac{\\frac{\\sqrt{2}\\pi}{6} \\sinh\\left(\\frac{\\pi}{3}\\right)}{\\frac{\\sqrt{2}\\pi}{8} \\cosh\\left(\\frac{\\pi}{3}\\right)} = \\frac{8}{6} \\frac{\\sinh(\\pi/3)}{\\cosh(\\pi/3)} = \\frac{4}{3} \\tanh\\left(\\frac{\\pi}{3}\\right)$$\n因此，$\\theta_{\\nabla} = \\arctan\\left(\\frac{4}{3} \\tanh\\left(\\frac{\\pi}{3}\\right)\\right)$。\n\n所需的发射方向，我们称其角度为 $\\theta$，是与梯度方向相差 $\\pm 60^\\circ$ 的方向：\n$$\\theta = \\theta_{\\nabla} \\pm 60^\\circ$$\n现在我们计算数值。\n首先，计算反正切函数的自变量：\n$$\\tanh\\left(\\frac{\\pi}{3}\\right) \\approx \\tanh(1.04719755) \\approx 0.78071443$$\n$$\\frac{4}{3} \\tanh\\left(\\frac{\\pi}{3}\\right) \\approx \\frac{4}{3} \\times 0.78071443 \\approx 1.04095257$$\n接下来，计算梯度的角度（以度为单位）：\n$$\\theta_{\\nabla} = \\arctan(1.04095257) \\approx 46.13387^\\circ$$\n两个可能的发射角度是：\n$$\\theta_1 = 46.13387^\\circ + 60^\\circ = 106.13387^\\circ$$\n$$\\theta_2 = 46.13387^\\circ - 60^\\circ = -13.86613^\\circ$$\n问题要求角度是从x轴正方向逆时针测量的，通常在 $[0^\\circ, 360^\\circ)$ 范围内。角度 $\\theta_1$ 已经在这个范围内。我们通过加上 $360^\\circ$ 来转换 $\\theta_2$：\n$$\\theta_2 = -13.86613^\\circ + 360^\\circ = 346.13387^\\circ$$\n四舍五入到四位有效数字，我们得到：\n$$\\theta_1 \\approx 106.1^\\circ$$\n$$\\theta_2 \\approx 346.1^\\circ$$\n按升序排列，得到 $106.1^\\circ$ 和 $346.1^\\circ$。", "answer": "$$\\boxed{\\begin{pmatrix}106.1  346.1\\end{pmatrix}}$$", "id": "2097015"}]}