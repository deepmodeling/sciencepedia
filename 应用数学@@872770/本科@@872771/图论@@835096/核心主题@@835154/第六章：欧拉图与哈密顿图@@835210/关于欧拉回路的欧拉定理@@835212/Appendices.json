{"hands_on_practices": [{"introduction": "在设计复杂路线之前，必须能够快速确定一个给定的网络是否支持一次完整的遍历。第一个练习 [@problem_id:1502078] 是欧拉定理核心原则的直接应用，它测试你是否能在一个实际情景中验证欧拉回路存在的充分必要条件。", "problem": "一个城市的公园和娱乐部门正在设计一个新的自行车道网络，以连接五个主要地标。这些车道的设计使得它们只在这些地标处相交。该部门的一个关键目标是为一次推广性的自行车活动创建一条“盛大巡游”路线。这次巡游必须从其中一个地标开始，沿着每一条自行车道恰好走一次，并回到出发的地标。\n\n设计规定，整个车道网络是连通的，这意味着可以从任何一个地标行至任何其他地标。对提议的网络进行的一项调查提供了在五个地标中每个地标处汇集的车道数量。这个数字集合，被称为度序列，是 {2, 2, 4, 4, 4}。\n\n仅根据这些信息，是否能保证存在这样一条“盛大巡游”路线？分析以下陈述并选择最准确的结论。\n\nA. 是的，因为每个地标都有偶数条车道与之相连。\n\nB. 不是，因为在不了解地标之间车道具体布局的情况下，无法确定该巡游路线是否存在。\n\nC. 不是，因为网络中的车道总数是奇数。\n\nD. 是的，因为该网络是连通的并且包含至少四个地标。\n\nE. 无法确定，因为给定的条件是这种巡游存在的必要条件但非充分条件。", "solution": "问题询问的是，在一个给定的图中，是否存在一条遍历每条边恰好一次并返回起始顶点的路径。这种类型的路径在形式上被称为欧拉回路（Eulerian circuit）。\n\n我们可以使用图论来对这个场景建模。地标代表图的顶点，自行车道代表边。问题提供了以下信息：\n1.  该图是连通的。\n2.  该图有5个顶点。\n3.  顶点的度由集合 {2, 2, 4, 4, 4} 给出。一个顶点的度是与它相连的边的数量，这对应于在一个地标处汇集的车道数量。\n\nEuler 定理为欧拉回路的存在性提供了一个明确的判据。该定理指出：一个连通图存在欧拉回路，当且仅当图中每个顶点的度都是偶数。\n\n让我们将这个定理应用到给定的问题中。\n\n首先，我们检查连通性条件。问题明确指出“整个车道网络是连通的”。这个条件得到满足。\n\n其次，我们检查度的条件。五个顶点（地标）的度被给出为 {2, 2, 4, 4, 4}。这个集合中的每个数（2和4）都是偶数。因此，图中每个顶点的度都是偶数。\n\n由于 Euler 定理的两个条件都得到满足（图是连通的，且所有顶点的度都是偶数），因此欧拉回路的存在性是得到保证的。\n\n现在，我们来评估给出的选项：\n\nA. 是的，因为每个地标都有偶数条车道与之相连。\n这个陈述正确地指出了所有顶点的度都是偶数，这对于一个连通图来说，是欧拉回路存在的充分条件。这是正确的结论。\n\nB. 不是，因为在不了解地标之间车道具体布局的情况下，无法确定该巡游路线是否存在。\n这是不正确的。Euler 定理表明，欧拉回路的存在性仅取决于图的连通性和其顶点的度，而不取决于边的具体排列方式（即图的特定同构类）。\n\nC. 不是，因为网络中的车道总数是奇数。\n为了验证这一点，我们使用握手引理，该引理指出所有顶点的度之和等于边数的两倍。\n度的总和 = $2 + 2 + 4 + 4 + 4 = 16$。\n边数（车道数） = (度的总和) / 2 = $16 / 2 = 8$。\n车道的总数是8，这是一个偶数。因此，这个选项的前提是错误的。\n\nD. 是的，因为该网络是连通的并且包含至少四个地标。\n虽然网络是连通的这一点是正确的，但顶点的数量（只要大于0）并不是决定欧拉回路是否存在的因素。关键部分是每个顶点的度。因此，这个推理是不正确的。\n\nE. 无法确定，因为给定的条件是这种巡游存在的必要条件但非充分条件。\n这是不正确的。对于一个连通图，所有顶点的度都是偶数的条件是欧拉回路存在的充分必要条件。\n\n基于以上分析，选项A提供了正确的结论和推理。", "answer": "$$\\boxed{A}$$", "id": "1502078"}, {"introduction": "从验证到设计是工程上的关键一步。这个问题 [@problem_id:1502045] 不仅挑战你应用欧拉定理，还要求你将其与图论的其他基本属性相结合，例如握手引理 $\\sum \\deg(v) = 2|E|$。你将扮演一名网络设计师，从多个选项中选择一个满足所有必要条件的有效蓝图。", "problem": "一个城市的公共工程部门正在为一台新型自动街道清扫机规划路线。该城市的道路网络由6个关键交叉口和连接它们的8条街道组成。该清扫车必须从一个指定的主车库（其中一个交叉口）出发，沿每条街道完整地行驶一次，最后返回同一个车库。\n\n设计团队为街道网络提出了几种可能的布局。每种布局都由其“度序列”来描述，该序列是与6个交叉口中每个交叉口相连的街道数量的列表。为了使一个布局可行，它必须能够被表示为一个简单连通图。简单图是指没有环（连接一个交叉口到其自身的街道）且任意两个交叉口之间没有多重边的图。连通图是指可以从任何一个交叉口到达任何其他交叉口的图。\n\n下列哪个建议的度序列对应于一个允许清扫车按要求路线行驶的街道网络布局？\n\nA. (1, 3, 3, 3, 3, 3)\n\nB. (2, 2, 4, 4, 4, 4)\n\nC. (4, 4, 4, 2, 2, 0)\n\nD. (4, 4, 2, 2, 2, 2)\n\nE. (2, 3, 3, 3, 3, 2)", "solution": "我们将街道网络建模为一个具有 $n=6$ 个顶点（交叉口）和 $m=8$ 条边（街道）的简单、连通、无向图。所要求的路线是一个欧拉回路：一条恰好遍历每条边一次的闭合路径。对于一个无向图，存在欧拉回路的充要条件是：\n- 图是连通的（当限制在度不为零的顶点上时）。\n- 每个顶点的度都是偶数。\n\n根据握手引理，所有顶点的度数之和等于边数的两倍：\n$$\n\\sum_{i=1}^{6} d_{i} = 2m = 16.\n$$\n因此，任何可行的度序列其度数之和必须为 $16$，必须能被一个简单连通图实现，并且为了存在欧拉回路，所有顶点的度都必须是偶数，且没有孤立顶点。\n\n检查每个选项：\n\nA. $(1,3,3,3,3,3)$:\n$$\n\\sum d_{i} = 1 + 5\\cdot 3 = 16,\n$$\n但有六个奇数度。欧拉回路要求所有顶点的度都是偶数。因此无效。\n\nB. $(2,2,4,4,4,4)$:\n$$\n\\sum d_{i} = 2+2+4+4+4+4 = 20 \\neq 16.\n$$\n这与 $m=8$ 时 $2m=16$ 相矛盾，所以它不能表示给定的网络。因此无效。\n\nC. $(4,4,4,2,2,0)$:\n$$\n\\sum d_{i} = 4+4+4+2+2+0 = 16,\n$$\n但有一个顶点的度为 $0$，这使得图不连通。欧拉回路要求图是连通的且没有孤立顶点。因此无效。\n\nD. $(4,4,2,2,2,2)$:\n$$\n\\sum d_{i} = 4+4+2+2+2+2 = 16,\n$$\n所有度数都是偶数且为正。这满足了欧拉回路的度数条件。为了证明其可以实现为一个简单连通图，考虑完全二分图 $K_{2,4}$：将两个度为 $4$ 的顶点中的每一个都连接到所有四个度为 $2$ 的顶点。在 $K_{2,4}$ 中，大小为 $2$ 的部分中的两个顶点度为 $4$，大小为 $4$ 的部分中的四个顶点度为 $2$，正好给出了这个度序列。$K_{2,4}$ 是简单、连通的，并且有\n$$\nm = 2 \\times 4 = 8\n$$\n条边，符合要求。由于所有顶点的度都是偶数且图是连通的，所以存在欧拉回路。因此有效。\n\nE. $(2,3,3,3,3,2)$:\n$$\n\\sum d_{i} = 2+2 + 4\\cdot 3 = 16,\n$$\n但有四个顶点的度是奇数。欧拉回路要求没有奇数度的顶点。因此无效。\n\n因此，唯一一个对应于有 $6$ 个顶点和 $8$ 条边且允许欧拉回路的简单连通图的建议度序列是选项D。", "answer": "$$\\boxed{D}$$", "id": "1502045"}, {"introduction": "知道欧拉回路存在是一回事，而高效地找到它则是另一回事。这个高级练习 [@problem_id:1502047] 探讨了遍历欧拉图的算法层面，揭示了一个简单直观的策略可能并非总是有效。通过模拟一个特定的导航启发式算法，你将发现设计稳健图遍历算法的精妙之处，并理解为什么局部最优选择可能导致全局失败。", "problem": "一个工程团队正在为一个小型自主机器人开发一种简单的算法，该机器人设计用于沿着公园的小路绘制线条。公园的布局可以建模为一个简单的、连通的平面图，其中所有顶点的度数均为偶数，这保证了欧拉回路的存在。该团队提出了一种“逆时针 (CCW) 启发式算法”来遍历该图。\n\n该启发式算法定义如下：\n1.  图 $G=(V, E)$ 具有一个固定的平面嵌入，由每个顶点的笛卡尔坐标 $(x,y)$ 指定。这种嵌入为每个顶点周围的边定义了一个固定的逆时针循环顺序，该顺序由从该顶点指向其邻居的向量的角度决定。\n2.  机器人从一个指定的顶点 $S$ 开始，并遍历一条指定的初始边 $(S, T)$。\n3.  当从邻居 $u$ 到达任何顶点 $v$（初始为 $T$）时，机器人将到达的边识别为 $(u, v)$。然后，它会查询与 $v$ 邻接的边的固定逆时针列表。它选择在逆时针序列中紧随边 $(v, u)$ 之后出现的第一条未遍历过的边 $(v, w)$。\n4.  机器人遍历选定的边 $(v, w)$，并重复此过程。\n5.  如果机器人到达一个顶点，在该顶点没有可用的未遍历出口边，但图中还有其他边尚未遍历，则认为该启发式算法 **失败**。如果它完成一个欧拉回路，在返回起点之前恰好遍历每条边一次，则该算法成功。\n\n你的任务是评估这个启发式算法。对于以下哪种图的设置，CCW 启发式算法会失败？\n\nA. **图 1**：\n    - 顶点 $V_1 = \\{1, 2, 3, 4, 5, 6\\}$。\n    - 边 $E_1 = \\{(1,2), (1,3), (1,4), (1,6), (2,3), (4,5), (5,6)\\}$。\n    - 坐标：$v_1=(0,0), v_2=(2,1), v_3=(2,-1), v_4=(-1,2), v_5=(-3,2), v_6=(-3,-1)$。\n    - 起始条件：从顶点 3 开始，遍历边 $(3,1)$。\n\nB. **图 2**：\n    - 顶点 $V_2 = \\{1, 2, 3, 4, 5, 6, 7\\}$。\n    - 边 $E_2 = \\{(1,2), (1,4), (1,5), (1,7), (2,3), (3,4), (5,6), (6,7)\\}$。\n    - 坐标：$v_1=(0,0), v_2=(1,1), v_3=(2,0), v_4=(1,-1), v_5=(-1,1), v_6=(-2,0), v_7=(-1,-1)$。\n    - 起始条件：从顶点 1 开始，遍历边 $(1,2)$。\n\nC. **图 3**：\n    - 顶点 $V_3 = \\{1, 2, 3, 4, 5, 6, 7\\}$。\n    - 边 $E_3 = \\{(1,2), (1,3), (1,4), (1,5), (2,6), (3,6), (4,7), (5,7)\\}$。\n    - 坐标：$v_1=(0,0), v_2=(0,2), v_3=(2,0), v_4=(0,-2), v_5=(-2,0), v_6=(1,1), v_7=(-1,-1)$。\n    - 起始条件：从顶点 1 开始，遍历边 $(1,3)$。\n\nD. **图 4**：\n    - 顶点 $V_4 = \\{1, 2, 3, 4, 5, 6\\}$。\n    - 边 $E_4 = \\{(1,2), (2,3), (3,4), (4,5), (5,6), (6,1)\\}$。\n    - 坐标：顶点位于单位圆上，$v_k = (\\cos(\\frac{\\pi (k-1)}{3}), \\sin(\\frac{\\pi (k-1)}{3}))$，对于 $k=1, \\dots, 6$。\n    - 起始条件：从顶点 1 开始，遍历边 $(1,2)$。", "solution": "我们通过在每个顶点固定由给定嵌入确定的邻接边的逆时针循环顺序（从该顶点到其邻居的向量的角度），然后从指定的边开始模拟遍历来评估 CCW 启发式算法。在到达一个顶点时，总是选择该逆时针列表中紧随到达边之后的第一条未遍历过的边。如果机器人在某个顶点被卡住，没有可用的未遍历出口边，而图中还有其他边未被遍历，则该启发式算法失败。\n\n图 1。\n顶点：$v_{1}=(0,0)$, $v_{2}=(2,1)$, $v_{3}=(2,-1)$, $v_{4}=(-1,2)$, $v_{5}=(-3,2)$, $v_{6}=(-3,-1)$。\n邻接角顺序（使用精确的象限调整角度）：\n- 在 $v_{1}$ 处：到 $v_{2}$ 的角度为 $\\arctan(1/2)$，到 $v_{3}$ 的角度为 $-\\arctan(1/2)$，到 $v_{4}$ 的角度为 $\\pi-\\arctan(2)$，到 $v_{6}$ 的角度为 $-\\pi+\\arctan(1/3)$。按角度递增给出逆时针顺序 $[6,3,2,4]$。\n- 在 $v_{2}$ 处：到 $v_{1}$ 的角度为 $-\\pi+\\arctan(1/2)$，到 $v_{3}$ 的角度为 $-\\pi/2$。逆时针顺序为 $[1,3]$。\n- 在 $v_{3}$ 处：到 $v_{2}$ 的角度为 $\\pi/2$，到 $v_{1}$ 的角度为 $\\pi-\\arctan(1/2)$。逆时针顺序为 $[2,1]$。\n- 在 $v_{4}$ 处：到 $v_{1}$ 的角度为 $-\\arctan(2)$，到 $v_{5}$ 的角度为 $\\pi$。逆时针顺序为 $[1,5]$。\n- 在 $v_{5}$ 处：到 $v_{6}$ 的角度为 $-\\pi/2$，到 $v_{4}$ 的角度为 $0$。逆时针顺序为 $[6,4]$。\n- 在 $v_{6}$ 处：到 $v_{1}$ 的角度为 $\\arctan(1/3)$，到 $v_{5}$ 的角度为 $\\pi/2$。逆时针顺序为 $[1,5]$。\n从 $(3,1)$ 开始模拟：\n- 从 $3$ 到达 $1$。在 $1$ 处，在 $[6,3,2,4]$ 中 $3$ 之后的第一个未遍历边是 $2$：遍历 $(1,2)$。\n- 从 $1$ 到达 $2$。在 $2$ 处，在 $[1,3]$ 中 $1$ 之后取 $(2,3)$。\n- 从 $2$ 到达 $3$。在 $3$ 处，在 $[2,1]$ 中 $2$ 之后是 $(3,1)$，但 $(1,3)$ 已被遍历；$3$ 处没有其他边。其他地方仍有未遍历的边，因此启发式算法在此失败。\n结论：图 1 失败。\n\n图 2。\n顶点：$v_{1}=(0,0)$, $v_{2}=(1,1)$, $v_{3}=(2,0)$, $v_{4}=(1,-1)$, $v_{5}=(-1,1)$, $v_{6}=(-2,0)$, $v_{7}=(-1,-1)$。\n按简单角度的逆时针顺序：在 $v_{1}$ 处，到邻居的角度为到 $7$ 是 $-\\frac{3\\pi}{4}$，到 $4$ 是 $-\\frac{\\pi}{4}$，到 $2$ 是 $\\frac{\\pi}{4}$，到 $5$ 是 $\\frac{3\\pi}{4}$，所以是 $[7,4,2,5]$。在 $v_{2}$ 处：$[1,3]$。在 $v_{3}$ 处：$[4,2]$。在 $v_{4}$ 处：$[3,1]$。在 $v_{5}$ 处：$[6,1]$。在 $v_{6}$ 处：$[7,5]$。在 $v_{7}$ 处：$[1,6]$。\n从 $(1,2)$ 开始模拟：\n$(1,2)\\to(2,3)\\to(3,4)\\to(4,1)\\to(1,5)\\to(5,6)\\to(6,7)\\to(7,1)$。\n返回到 $1$ 时，所有边都恰好被遍历一次，没有发生失败。\n结论：图 2 成功。\n\n图 3。\n顶点：$v_{1}=(0,0)$, $v_{2}=(0,2)$, $v_{3}=(2,0)$, $v_{4}=(0,-2)$, $v_{5}=(-2,0)$, $v_{6}=(1,1), v_{7}=(-1,-1)$。\n逆时针顺序：在 $v_{1}$ 处，角度到 $4$ 是 $-\\frac{\\pi}{2}$，到 $3$ 是 $0$，到 $2$ 是 $\\frac{\\pi}{2}$，到 $5$ 是 $\\pi$，因此是 $[4,3,2,5]$。在 $v_{2}$ 处：$[1,6]$。在 $v_{3}$ 处：$[6,1]$。在 $v_{4}$ 处：$[1,7]$。在 $v_{5}$ 处：$[7,1]$。在 $v_{6}$ 处：$[3,2]$。在 $v_{7}$ 处：$[4,5]$。\n从 $(1,3)$ 开始模拟：\n$(1,3)\\to(3,6)\\to(6,2)\\to(2,1)\\to(1,5)\\to(5,7)\\to(7,4)\\to(4,1)$。\n返回到 $1$ 时，所有边都恰好被遍历一次，没有发生失败。\n结论：图 3 成功。\n\n图 4。\n顶点 $v_{k}=(\\cos(\\frac{\\pi(k-1)}{3}),\\sin(\\frac{\\pi(k-1)}{3}))$ 在单位圆上，边构成一个 $6$ 边形。每个顶点恰好有两条邻接边；每个顶点的逆时针顺序是其两个邻居在凸多边形上的局部顺序。从 $(1,2)$ 开始模拟：\n$(1,2)\\to(2,3)\\to(3,4)\\to(4,5)\\to(5,6)\\to(6,1)$。\n返回到 $1$ 时，所有边都恰好被遍历一次，没有发生失败。\n结论：图 4 成功。\n\n因此，CCW 启发式算法仅对图 1 失败。", "answer": "$$\\boxed{A}$$", "id": "1502047"}]}