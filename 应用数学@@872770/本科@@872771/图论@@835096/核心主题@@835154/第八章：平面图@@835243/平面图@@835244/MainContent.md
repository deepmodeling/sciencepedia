## 引言
在数学和计算机科学的世界中，图作为一种抽象模型，用于表示实体间的关系。在这些图中，一类具有[特殊几何](@entry_id:194564)直观性的图——[平面图](@entry_id:269787)——占据了核心地位。平面图是指那些可以绘制在平面上，且其边仅在顶点处相交的图。这种“无[交叉](@entry_id:147634)”的特性不仅仅是视觉上的整洁，更蕴含着深刻的结构约束和[组合性](@entry_id:637804)质，使其成为连接纯粹数学与现实世界应用的桥梁。然而，我们如何从数学上精确判断一个复杂的[网络结构](@entry_id:265673)是否具备这种平面性？一旦确定了[平面性](@entry_id:274781)，它又会带来哪些独特的性质和计算上的优势？

本文旨在系统地回答这些问题，为读者揭示[平面图理论](@entry_id:275055)的内在美感与实用价值。我们将从以下三个层面展开：

*   在“**原理与机制**”一章中，我们将建立[平面图](@entry_id:269787)的严格定义，探索其与球面嵌入的拓扑等价性。我们将深入学习著名的欧拉公式，并利用它推导出关于边数和顶点度的重要界限。最后，我们将介绍图论中的里程碑式成果——[库拉托夫斯基定理](@entry_id:276059)，它为平面性提供了最终的判定标准。
*   随后，在“**应用与跨学科联系**”一章中，我们将展示这些理论如何转化为解决实际问题的强大工具。从电子工程中的电路布线，到运筹学中的[资源分配](@entry_id:136615)，再到计算机科学中的算法设计，我们将看到[平面性](@entry_id:274781)约束如何影响可行性分析、优化策略和[计算效率](@entry_id:270255)。
*   最后，在“**动手实践**”部分，读者将有机会通过一系列精心设计的练习，将所学理论付诸实践，加深对核心概念的理解。

通过这一系列的探讨，本文将带领读者从基本定义出发，逐步掌握分析[平面图](@entry_id:269787)的核心工具，并最终能够欣赏其在多个学科领域中的广泛应用。

## 原理与机制

在图论的研究中，一些图所具有的几何特性，不仅带来了视觉上的直观性，也揭示了其深刻的组合结构。平面图（Planar Graph）便是其中最核心和最富成果的研究对象之一。一个图如果可以被绘制在平面上，且任意两条边除了在共同的顶点外不相互[交叉](@entry_id:147634)，我们便称之为一个平面图。本章将深入探讨[平面图](@entry_id:269787)的基本原理与内在机制，从其拓扑定义出发，逐步揭示其所遵循的根本规律。

### 平面性与嵌入

首先，我们需要精确地区分两个概念：**平面图（planar graph）**和**平面图的嵌入（planar embedding）**，后者有时也被称为**平面图（plane graph）**。一个图是“平面的”，这描述的是一种抽象的、内在的可能性——即是否存在一种方式将其无交叉地画在平面上。而一个“[平面图](@entry_id:269787)的嵌入”则是这种可能性的一个具体实现：一个已经画在平面上且没有边[交叉](@entry_id:147634)的图。

同一个平面图可以有多种不同的嵌入方式，但它们都将平面分割成若干个区域，我们称之为**面（faces）**。这些面被图的边所包围。除了那些有界的、封闭的面之外，总有一个特殊的、面积无限的面，我们称之为**无界域（unbounded face）**或**外部面（outer face）**。

理解无界域的一个有效方法是想象将图绘制在一个球面上。任何可以在平面上无交叉绘制的图，也必然可以在球面上无[交叉](@entry_id:147634)绘制，反之亦然。这可以通过**球极投影（stereographic projection）**来理解：将球体放置于平面上，从球体的北极点（假设该点不落在图的任何顶点或边上）发射光线，将球面上的图投影到平面上。在这种投影下，球面上的每一个面都对应平面上的一个面。而包含北极点的那个球面上的面，在投影后就变成了平面上的无界域。因此，无界域在拓扑上与其他面并无本质区别，它的特殊性仅仅源于我们选择的投影方式 [@problem_id:1527299]。

例如，考虑一个构建在球面上的通信网络，它有两个极点和五个沿赤道[分布](@entry_id:182848)的中继站。每个中继站与相邻的两个中继站相连，并同时连接到南北两极。这个网络在球面上可以无[交叉](@entry_id:147634)地绘制。如果我们选择从某个面（比如由北极点和两个相邻中继站围成的区域）的内部进行球极投影，那么这个面就会成为最终[平面嵌入](@entry_id:263159)的无界域。而球面上所有其他的面，都会变成[平面嵌入](@entry_id:263159)中的有界域 [@problem_id:1527299]。

### [欧拉公式](@entry_id:176440)：一个基本的拓扑不变量

对于任何一个连通的[平面图](@entry_id:269787)嵌入，其顶点数（$v$）、边数（$e$）和面数（$f$，包含无界域）之间存在一个惊人而优美的关系，这就是著名的**欧拉公式（Euler's Formula）**：

$v - e + f = 2$

这个公式是拓扑学中的一个基本结果，它表明无论一个连通图如何被扭曲或拉伸，只要它能被嵌入平面（或球面），其顶点、边和面的数量组合 $v-e+f$ 就恒为2。这个[不变量](@entry_id:148850)揭示了图的[平面嵌入](@entry_id:263159)所必须遵循的结构约束。

[欧拉公式](@entry_id:176440)具有强大的应用价值。如果我们知道 $v, e, f$ 中的任意两个量，就可以立即确定第三个。考虑一个实际场景：一位工匠正在设计一扇由彩色玻璃和铅条构成的花窗 [@problem_id:1501827]。这个设计可以被模型化为一个平面图：铅条的交汇点是顶点（$v$），连接两个交汇点的连续铅条段是边（$e$），而每一块封闭的彩色玻璃则对应一个有界域。假设一个设计方案是连通的，包含52个交汇点和96根铅条段。我们可以利用[欧拉公式](@entry_id:176440)来计算所需的玻璃片数量。

首先，计算总面数 $f$：
$f = 2 - v + e = 2 - 52 + 96 = 46$

这个 $f=46$ 包括了所有的玻璃片（有界域）以及一个外部的无界域。因此，所需的玻璃片数量为有界域的数量，即 $f - 1$。
$F_{\text{bounded}} = f - 1 = 46 - 1 = 45$
工匠需要准备45片彩色玻璃。

这个公式同样适用于所有[凸多面体](@entry_id:170947)的表面[骨架图](@entry_id:147556)，因为任何[凸多面体](@entry_id:170947)的表面都可以被“展开”成一个[平面图](@entry_id:269787)。例如，一个由20个等边三角形面构成的[理想晶体](@entry_id:138314)（正二十面体），其每个顶点恰好是5条边的汇集点 [@problem_id:1391461]。我们可以利用这些局部信息和[欧拉公式](@entry_id:176440)来确定其顶点和边的总数。
令 $F=20$。由于每个面都是三角形，它有3条边，而每条边都恰好是两个面的边界，因此通过对边-面关联进行双重计数，我们得到 $2e = 3f$。
$e = \frac{3f}{2} = \frac{3 \times 20}{2} = 30$
同理，每个顶点汇集了5条边，而每条边连接两个顶点，双重计数顶点-边关联得到 $2e = 5v$。
$v = \frac{2e}{5} = \frac{2 \times 30}{5} = 12$
我们得到了 $v=12, e=30, f=20$。代入欧拉公式进行验证：$12 - 30 + 20 = 2$，完全吻合。

### [欧拉公式](@entry_id:176440)的推论

[欧拉公式](@entry_id:176440)的重要性不仅在于其自身，更在于它能够引出一系列关于[平面图](@entry_id:269787)边数和度数的强大推论，这些推论为我们判断一个图是否为平面图提供了简便的判据。

#### 边数的[上界](@entry_id:274738)

对于一个顶点数 $v \ge 3$ 的任意简单连通[平面图](@entry_id:269787)，其边数 $e$ 必须满足以下不等式：

$$e \le 3v - 6$$

这个不等式的推导过程完美地展示了如何结合欧拉公式和图的基本属性 [@problem_id:1527501]。在一个简单图中，没有重边和[自环](@entry_id:274670)，这意味着每个面都由至少3条边围成。令 $f_i$ 表示第 $i$ 个面的边界长度（边的数量）。那么，对于所有面，我们有 $l(f_i) \ge 3$。将所有面的边界长度相加，由于每条边都恰好是两个面（或一个面的两侧）的边界，因此这个总和等于边数的两倍：
$\sum_{i=1}^{f} l(f_i) = 2e$

结合 $l(f_i) \ge 3$，我们得到：
$2e = \sum_{i=1}^{f} l(f_i) \ge \sum_{i=1}^{f} 3 = 3f$
这给出了 $f \le \frac{2e}{3}$。现在，我们将这个关于 $f$ 的不等式代入欧拉公式 $v - e + f = 2$：
$2 = v - e + f \le v - e + \frac{2e}{3} = v - \frac{e}{3}$
整理上式 $2 \le v - \frac{e}{3}$，即可得到 $e \le 3v - 6$。

这个不等式为我们提供了一个强有力的**必要条件**。如果一个图不满足 $e \le 3v - 6$，那么它**一定不是**平面图。例如，[完全图](@entry_id:266483) $K_6$ 有 $v=6$ 个顶点和 $e = \binom{6}{2} = 15$ 条边。根据不等式，一个有6个顶点的简单平面图最多有 $3(6)-6=12$ 条边。由于 $15 > 12$，我们立刻可以断定 $K_6$ 是非平面的 [@problem_id:1391510]。

然而，必须强调的是，$e \le 3v - 6$ 仅仅是一个必要条件，而非充分条件。满足这个不等式的图不一定是平面的。例如，一个包含5个顶点两两相连（构成 $K_5$）再额外连接一个顶点的图，其 $v=6, e=12$。它满足 $12 \le 3(6)-6=12$，但由于它包含非平面的 $K_5$ 作为子图，所以它本身也是非平面的 [@problem_id:1527460]。

#### [最小度](@entry_id:273557)的上界

$e \le 3v - 6$ 这个不等式还揭示了[平面图](@entry_id:269787)的一个重要性质：它们是**稀疏的（sparse）**，即边的数量相对于顶点数量来说是有限的。这一性质直接导出了关于平面图顶点度的深刻结论。

对于任何简单[平面图](@entry_id:269787)，必定存在一个度数不超过5的顶点。

这个结论的证明十分优雅 [@problem_id:1527284]。我们使用[反证法](@entry_id:276604)。假设一个简单[平面图](@entry_id:269787) $G$ 的所有顶点的度数都至少为6。根据[握手引理](@entry_id:261183)，所有顶点的度数之和等于边数的两倍：$\sum_{v \in V} \deg(v) = 2e$。如果每个顶点的度数都至少是6，那么度数总和至少是 $6v$。
$6v \le \sum \deg(v) = 2e \implies 3v \le e$
但是我们已经知道，对于平面图，必须满足 $e \le 3v - 6$。这两个不等式 $3v \le e$ 和 $e \le 3v - 6$ 放在一起，意味着 $3v \le 3v - 6$，即 $0 \le -6$，这显然是矛盾的。因此，最初的假设（所有[顶点度数](@entry_id:264944)至少为6）必定是错误的。故任何简单平面图必有至少一个顶点的度数 $\le 5$。这个结论在图染色问题，尤其是著名的[四色定理](@entry_id:269820)的证明中，扮演了至关重要的角色。

### 平面图的刻画：[库拉托夫斯基定理](@entry_id:276059)

我们已经知道如何通过边数不等式来证明某些图是“非平面”的。但是否存在一种方法，能够完美地“刻画”所有的平面图？也就是说，是否存在一个充要条件，能准确判定任何一个给定的图是否是平面的？答案是肯定的，这便是由波兰数学家 Kazimierz Kuratowski 提出的**[库拉托夫斯基定理](@entry_id:276059)（Kuratowski's Theorem）**。

该定理指出，有两个最基本的[非平面图](@entry_id:268333)，它们是所有[非平面图](@entry_id:268333)的“根源”。这两个图是：
1.  **$K_5$（5个顶点的[完全图](@entry_id:266483)）**：5个顶点，每对顶点之间都有一条边，共10条边。
2.  **$K_{3,3}$（完全二部图）**：6个顶点分为两组，每组3个，边仅存在于不同组的顶点之间，共9条边。这个图常被描述为“三座房子和三个公共设施”问题，即能否将三个房子分别连接到三个设施而所有线路不[交叉](@entry_id:147634)。

[库拉托夫斯基定理](@entry_id:276059)的核心在于**图的剖分（subdivision）**。一个图的剖分是通过在其某些边上插入度为2的新顶点而得到的图。例如，将一条边 $(u,w)$ 替换为路径 $(u,v,w)$，其中 $v$ 是一个新顶点。

**[库拉托夫斯基定理](@entry_id:276059)：** 一个图是平面图，当且仅当它不包含任何[同胚](@entry_id:146933)于（isomorphic to a subdivision of）$K_5$ 或 $K_{3,3}$ 的[子图](@entry_id:273342)。

这个定理提供了一个完整的判据。要证明一个图是平面的，我们需要给出一个[平面嵌入](@entry_id:263159)。而要证明一个图是非平面的，我们只需要在其中找到一个 $K_5$ 或 $K_{3,3}$ 的“骨架”（即剖分）。

例如，前面提到的6顶点图 [@problem_id:1527460]，其中五个顶点两两相连，直接构成了一个 $K_5$ 子图。因此，根据[库拉托夫斯基定理](@entry_id:276059)，该图是非平面的。

另一个经典的[非平面图](@entry_id:268333)是**[彼得森图](@entry_id:265548)（Petersen graph）** [@problem_id:1391466]。它有10个顶点，15条边，每个[顶点的度](@entry_id:264944)数都是3。它满足 $e \le 3v-6$ ($15 \le 3(10)-6=24$)，所以这个判据无法直接判定其非[平面性](@entry_id:274781)。然而，我们可以通过在其中寻找 $K_{3,3}$ 的剖分来证明。这需要选取6个顶点作为 $K_{3,3}$ 的分支顶点（分为两组 $U$ 和 $W$），其余4个顶点作为路径上的中间点。一个关键的观察是，在 $K_{3,3}$ 中，同一组内的分支顶点之间没有边。因此，我们选择的 $U$ (或 $W$) 集合必须是[彼得森图](@entry_id:265548)中的一个**独立集**（集合内任意两顶点都不相邻）。例如，集合 $\\{0, 2, 8\\}$ 就是一个有效的[独立集](@entry_id:270749)，可以作为 $K_{3,3}$ 剖分的一组分支顶点，从而证明[彼得森图](@entry_id:265548)是非平面的 [@problem_id:1391466]。

### 对偶性与嵌入的唯一性

最后，我们探讨与平面图嵌入密切相关的两个高级概念：对偶图和嵌入的唯一性。

#### 平面[对偶图](@entry_id:263734)

对于任意一个平面图 $G$ 的嵌入，我们可以构造出它的**[对偶图](@entry_id:263734)（dual graph）** $G^*$。构造方法如下 [@problem_id:1527483]：
1.  在 $G$ 的每一个面（包括无界域）内部放置一个新顶点。这些新顶点构成了 $G^*$ 的顶点集。
2.  对于 $G$ 中的每一条边 $e$，如果它分隔了两个不同的面 $f_1$ 和 $f_2$，那么就在 $G^*$ 中连接对应于这两个面的顶点 $v_1^*$ 和 $v_2^*$。这条新边 $e^*$ 仅穿过原图的边 $e$。

[对偶图](@entry_id:263734)具有一些优美的性质。令 $G$ 的顶点、边、面数分别为 $v, e, f$，其[对偶图](@entry_id:263734) $G^*$ 的相应数量为 $v^*, e^*, f^*$。那么，我们有：
$v^* = f$
$e^* = e$
$f^* = v$ (如果 $G$ 是连通的)

这意味着我们可以通过[欧拉公式](@entry_id:176440)来推断对偶图的顶点数。例如，对于一个有6个顶点和9条边的连通平面图 $G$ [@problem_id:1527483]，我们首先计算其面数：$f = 2-v+e = 2-6+9=5$。根据对偶性的定义，其[对偶图](@entry_id:263734) $G^*$ 将有 $v^* = f = 5$ 个顶点和 $e^* = e = 9$ 条边。

#### 嵌入的唯一性

一个自然的问题是：一个[平面图](@entry_id:269787)的无[交叉](@entry_id:147634)嵌入方式是唯一的吗？答案是：不一定。这取决于图的**连通度（connectivity）**。

如果移除一个顶点（及其关联的边）就能使图不再连通，则称该顶点为**割点（cut vertex）**。如果一个[连通图](@entry_id:264785)没有割点，则称其为**2-连通的（2-connected）**。类似地，如果一个图至少有4个顶点，且移除任意两个顶点都不能使其断开，则称其为**3-连通的（3-connected）**。

**[惠特尼定理](@entry_id:271195)（Whitney's Theorem）**指出，一个简单[平面图](@entry_id:269787)具有（组合意义上）唯一的[平面嵌入](@entry_id:263159)，当且仅当它是3-连通的。这意味着对于3-连通的[平面图](@entry_id:269787)，无论你怎么画，其面的边界环集合都是相同的。

所有[凸多面体](@entry_id:170947)的[骨架图](@entry_id:147556)都是3-连通的，因此它们都具有唯一的[平面嵌入](@entry_id:263159)。例如，三角柱、立方体和[轮图](@entry_id:271886) $W_n (n \ge 4)$ [@problem_id:1527268]。

相反，如果一个图不是3-连通的，它通常有多种不同的嵌入方式。例如，完全[二部图](@entry_id:262451) $K_{2,5}$ 是2-连通但不是3-连通的（移除两个在同一划分集中的顶点即可使其不连通）。我们可以通过改变一个顶点周围邻居的[排列](@entry_id:136432)顺序，来构造出具有不同面边界的嵌入 [@problem_id:1527268]。这说明，对于连通度较低的图，其“[平面性](@entry_id:274781)”可以有多种不同的几何表现形式。这一区别在需要精确几何布局的应用中至关重要。