{"hands_on_practices": [{"introduction": "我们从一个基础练习开始，以建立你对强连通分量的直观理解。通过分析有向路径图（信息严格单向流动的结构），你将清晰地看到，“相互可达”这一要求如何导致最细粒度的图分解。这个问题通过检验一个被最大限度约束的案例，帮助你巩固强连通分量的核心定义[@problem_id:1535704]。", "problem": "在图论中，有向图（digraph）由一个顶点集和一组连接有序顶点对的有向边组成。有向图的**强连通分量**（strongly connected component）是一个极大子图，其中对于子图中的每一对顶点 $u$ 和 $v$，都存在一条从 $u$ 到 $v$ 的有向路径和一条从 $v$ 到 $u$ 的有向路径。\n\n考虑一个有 $n$ 个顶点的有向路径图，记作 $P_n$，其中 $n \\ge 2$。顶点被标记为 $v_1, v_2, \\dots, v_n$。该图中的有向边集合为 $E = \\{(v_i, v_{i+1}) \\mid 1 \\le i  n\\}$。这个结构代表一个简单的单向序列，其中只能从索引较低的顶点移动到索引较高的顶点。\n\n以下哪个陈述最准确地描述了有向路径图 $P_n$ 的强连通分量？\n\nA. 只有一个强连通分量，包含所有 $n$ 个顶点 $\\{v_1, v_2, \\dots, v_n\\}$。\n\nB. 恰好有两个强连通分量：一个只包含顶点 $v_1$，另一个包含剩余的顶点 $\\{v_2, v_3, \\dots, v_n\\}$。\n\nC. 恰好有 $n$ 个强连通分量，每个分量由一个单独的顶点组成。\n\nD. 该图由一个包含“中间”顶点的大强连通分量和两个分别包含起始和结束顶点的小分量组成，总共有三个分量。\n\nE. 强连通分量的数量是 $\\lceil n/2 \\rceil$，其中 $\\lceil \\cdot \\rceil$ 是向上取整函数。", "solution": "根据定义，强连通分量是一个极大的顶点集合，对于集合中的每一对顶点 $u,v$，都存在一条从 $u$ 到 $v$ 的有向路径和一条从 $v$ 到 $u$ 的有向路径。\n\n在有向路径图 $P_{n}$ 中，边集为\n$$\nE=\\{(v_{i},v_{i+1}) \\mid 1 \\leq i  n\\}.\n$$\n固定索引 $i$ 和 $j$，满足 $1 \\leq i  j \\leq n$。由于边只从较低索引指向下一个较高索引，因此存在一条从 $v_{i}$ 到 $v_{j}$ 的有向路径，由以下边序列给出：\n$$\n(v_{i},v_{i+1}),(v_{i+1},v_{i+2}),\\dots,(v_{j-1},v_{j}),\n$$\n所以存在一条从 $v_i$ 到 $v_j$ 的长度为 $j-i$ 的路径。\n\n然而，不存在从 $v_{j}$ 回到 $v_{i}$ 的有向路径。要理解这一点，请注意每条有向边都将顶点索引精确地增加 $1$。因此，沿着任何从 $v_j$ 出发的有向路径，索引序列是严格递增的：\n$$\nj = k_{0}  k_{1}  \\dots  k_{t}.\n$$\n因此，不可能到达任何索引小于 $j$ 的顶点，特别是无法回到索引为 $i$ 的顶点。", "answer": "$$\\boxed{C}$$", "id": "1535704"}, {"introduction": "在看到一个图如何分解成其最小的独立顶点后，我们现在来探讨如何构建更复杂的结构。这个练习要求你从几个选项中识别出一个具有特定数量和规模强连通分量的图，这会促使你思考“环”是如何成为将顶点“粘合”在一起形成单一分量的关键[@problem_id:1535687]。完成这个例子将提升你在任何有向图中快速发现这些相互可达顶点集的能力。", "problem": "在图论中，有向图（digraph）是一种边具有方向的图。简单有向图是一种没有自环（从一个顶点到其自身的边）且任意两个顶点之间在同一方向上最多只有一条边的有向图。\n\n如果对于每对不同的顶点 $(u, v)$，都存在一条从 $u$ 到 $v$ 的有向路径，则称该有向图是强连通的。有向图的强连通分量是一个极大强连通子图。换句话说，它是一个顶点集合 $C$，其中 $C$ 内的每对顶点都是互相可达的，并且 $C$ 不是任何具有此性质的更大顶点集合的子集。一个强连通分量的大小是它所包含的顶点数。\n\n考虑一个顶点集为 $V = \\{1, 2, 3, 4\\}$ 的简单有向图。下列由邻接表描述的图中，哪一个恰好有3个强连通分量，其中一个的大小为2？\n\n顶点 $u$ 的邻接表是所有满足存在边 $(u, v)$ 的顶点 $v$ 的列表。\n\nA.\n1: [2, 3]\n2: [1]\n3: []\n4: []\n\nB.\n1: [2]\n2: [3]\n3: [4]\n4: []\n\nC.\n1: [2]\n2: [3]\n3: [4]\n4: [1]\n\nD.\n1: [2]\n2: [1]\n3: [4]\n4: [3]\n\nE.\n1: [2]\n2: [3]\n3: [1]\n4: []", "solution": "我们通过确定每个选项的强连通分量来分析它们，依据的定义是：当且仅当两个顶点互相可达时，它们才在同一个强连通分量中。\n\n选项 A：边为 $1 \\to 2$、$1 \\to 3$、$2 \\to 1$。顶点 $1$ 和 $2$ 互相可达，所以 $\\{1,2\\}$ 是一个大小为 $2$ 的强连通分量。顶点 $3$ 没有出边，所以它不能到达任何其他顶点；因此 $\\{3\\}$ 是一个单点分量。顶点 $4$ 是孤立的，所以 $\\{4\\}$ 是另一个单点分量。因此，恰好有 $3$ 个强连通分量：$\\{1,2\\}$、$\\{3\\}$、$\\{4\\}$，其中一个大小为 $2$。\n\n选项 B：边为 $1 \\to 2 \\to 3 \\to 4$，没有反向边。没有任意两个不同的顶点是互相可达的，所以所有的分量都是单点分量：$\\{1\\}$、$\\{2\\}$、$\\{3\\}$、$\\{4\\}$。共有 $4$ 个分量，而不是 $3$ 个。\n\n选项 C：边构成一个有向 $4$-环 $1 \\to 2 \\to 3 \\to 4 \\to 1$。每个顶点都能到达其他所有顶点，所以整个图是一个大小为 $4$ 的强连通分量，而不是 $3$ 个分量。\n\n选项 D：存在两个 $2$-环：$1 \\leftrightarrow 2$ 和 $3 \\leftrightarrow 4$。因此强连通分量是 $\\{1,2\\}$ 和 $\\{3,4\\}$，共有 $2$ 个分量，而不是 $3$ 个。\n\n选项 E：顶点 $1,2,3$ 构成一个有向 $3$-环，所以 $\\{1,2,3\\}$ 是一个大小为 $3$ 的强连通分量，而 $\\{4\\}$ 是一个单点分量。共有 $2$ 个分量，而不是 $3$ 个。\n\n因此，只有选项 A 恰好有 $3$ 个强连通分量，且其中一个的大小为 $2$。", "answer": "$$\\boxed{A}$$", "id": "1535687"}, {"introduction": "现实世界的系统不是静止的，它们会不断演化。这个高级练习模拟了这样一个场景，要求你分析在一个用有向图建模的系统中增加一个新的依赖关系所带来的影响。你将运用收缩图的概念来高效地判断这个单一的改变如何引发连锁反应，将多个先前独立的组件合并成一个庞大的新强连通分量[@problem_id:1535691]。", "problem": "在大型软件系统的分析中，通常使用有向图来建模不同模块之间的依赖关系。在这种图中，一个强连通分量 (SC) 代表了一组相互依赖的模块。凝聚图（其中每个节点代表一个 SC）是一个有向无环图 (DAG)，它揭示了更高层次的依赖结构。\n\n考虑一个由有向图 $G = (V, E)$ 建模的软件项目。一项初步分析确定了七个不同的 SC，记为 $S_1, S_2, S_3, S_4, S_5, S_6, S_7$。凝聚图 $G_{SC}$ 以这七个 SC 作为其顶点。$G_{SC}$ 中存在一条边 $(S_i, S_j)$，当且仅当在原图 $G$ 中至少存在一条从 $S_i$ 中的一个顶点到 $S_j$ 中的一个顶点的边。\n凝聚图中的边集被确定为：\n$E_{SC} = \\{(S_1, S_2), (S_1, S_3), (S_2, S_4), (S_3, S_4), (S_4, S_5), (S_6, S_1)\\}$。\n请注意，在凝聚图中，分量 $S_7$ 与其他分量完全断开。\n\n然后，一名开发者通过向图 $G$ 中添加一条边 $(u, v)$ 引入了一个新的依赖，其中顶点 $u$ 是分量 $S_5$ 中的一个模块，而顶点 $v$ 是分量 $S_6$ 中的一个模块。设新图为 $G'=(V, E \\cup \\{(u,v)\\})$。这条边的添加可能导致几个原始 SC 合并成一个更大的单一强连通分量。\n\n在更新后的图 $G'$ 中，以下哪个集合正确地标识了所有合并形成一个单一新强连通分量的原始强连通分量？\n\nA. $\\{S_5, S_6\\}$\n\nB. $\\{S_1, S_5, S_6\\}$\n\nC. $\\{S_1, S_2, S_4, S_5, S_6\\}$\n\nD. $\\{S_1, S_2, S_3, S_4, S_5, S_6\\}$\n\nE. $\\{S_1, S_2, S_3, S_4, S_5, S_6, S_7\\}$\n\nF. 没有形成新的更大的强连通分量；原始的SC结构得以保留。", "solution": "我们使用强连通分量的定义，即一个极大顶点集合，其中任意一对顶点都是相互可达的；以及有向图的凝聚图是一个有向无环图这一事实。根据构造，凝聚图 $G_{SC}$ 的顶点为 $\\{S_1, S_2, S_3, S_4, S_5, S_6, S_7\\}$，边集为 $E_{SC}=\\{(S_1, S_2), (S_1, S_3), (S_2, S_4), (S_3, S_4), (S_4, S_5), (S_6, S_1)\\}$，而 $S_7$ 是孤立的。\n\n根据凝聚图的定义，在 $G$ 中添加一条边 $(u,v)$ (其中 $u \\in S_5$ 且 $v \\in S_6$) 会在 $G_{SC}$ 中引出一条边 $(S_5, S_6)$。因此，更新后的凝聚图包含上述所有边以及边 $(S_5, S_6)$。\n\n考虑由此产生的可达性。首先，观察有向路径\n$$\nS_6 \\to S_1 \\to S_2 \\to S_4 \\to S_5 \\to S_6\n$$\n和\n$$\nS_6 \\to S_1 \\to S_3 \\to S_4 \\to S_5 \\to S_6.\n$$\n这显示出了分别包含 $S_6, S_1, S_2, S_4, S_5$ 和 $S_6, S_1, S_3, S_4, S_5$ 的有向环。为了证明 $\\{S_1, S_2, S_3, S_4, S_5, S_6\\}$ 是一个单一强连通分量，只需证明它们相互可达。我们证明对于该集合中的任意 $X$，$X$ 可达 $S_6$，且 $S_6$ 可达该集合中的任意 $Y$；这样，路径 $X \\to S_6 \\to Y$ 就意味着 $X$ 可达 $Y$。\n\n到 $S_6$ 的可达性：\n- $S_5 \\to S_6$，通过新加的边。\n- $S_4 \\to S_5 \\to S_6$。\n- $S_2 \\to S_4 \\to S_5 \\to S_6$。\n- $S_3 \\to S_4 \\to S_5 \\to S_6$。\n- $S_1 \\to S_2 \\to S_4 \\to S_5 \\to S_6$。\n\n从 $S_6$ 出发的可达性：\n- $S_6 \\to S_1$，直接可达。\n- $S_6 \\to S_1 \\to S_2$。\n- $S_6 \\to S_1 \\to S_3$。\n- $S_6 \\to S_1 \\to S_2 \\to S_4$ (或经由 $S_3$)。\n- $S_6 \\to S_1 \\to S_2 \\to S_4 \\to S_5$。\n\n因此，对于任意 $X,Y \\in \\{S_1, S_2, S_3, S_4, S_5, S_6\\}$，都存在一条路径 $X \\to S_6 \\to Y$，所以这六个分量在 $G'$ 中合并成一个单一的强连通分量。分量 $S_7$ 仍然是孤立的，因为它之前没有指向或来自其他分量的边，并且没有添加任何边来连接它。因此，恰好是 $\\{S_1, S_2, S_3, S_4, S_5, S_6\\}$ 这些分量合并，这对应于选项D。", "answer": "$$\\boxed{D}$$", "id": "1535691"}]}