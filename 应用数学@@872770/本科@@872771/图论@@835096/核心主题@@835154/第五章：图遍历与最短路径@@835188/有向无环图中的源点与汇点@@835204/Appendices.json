{"hands_on_practices": [{"introduction": "在深入研究复杂图结构之前，让我们从最基础的例子——有向路径图——开始。这个练习将帮助你巩固对源（入度为零的顶点）和汇（出度为零的顶点）这两个基本概念的理解。通过分析这种简单的线性结构，你可以清晰地看到在一个流程的起点和终点，这些定义是如何应用的。[@problem_id:1533651]", "problem": "考虑一个记为 $G$ 的有向无环图 (DAG)，它构建在一个包含 $n$ 个顶点的集合 $V = \\{v_1, v_2, \\dots, v_n\\}$ 上，其中 $n$ 为整数且 $n \\ge 2$。该图的结构由其边定义：对于从 $1$ 到 $n-1$ 的每个整数 $i$，都有一条从顶点 $v_i$ 到顶点 $v_{i+1}$ 的有向边。图 $G$ 中仅存在这些边。\n\n在任何有向图中，如果一个顶点的入度为 0（即没有入边），则称该顶点为**源点**。如果一个顶点的出度为 0（即没有出边），则称该顶点为**汇点**。\n\n根据这些信息，确定图 $G$ 中作为源点或汇点的顶点总数。\n\nA. 1\n\nB. 2\n\nC. $n$\n\nD. $n-1$\n\nE. 数量取决于 $n$ 的值。", "solution": "图 $G$ 的顶点集为 $V=\\{v_{1},v_{2},\\dots,v_{n}\\}$，边集定义如下：对于每个满足 $1 \\leq i \\leq n-1$ 的整数 $i$，存在一条从 $v_{i}$ 到 $v_{i+1}$ 的有向边。因此，边集为 $E=\\{(v_{i},v_{i+1}) : i=1,2,\\dots,n-1\\}$，且不存在其他边。\n\n计算每个顶点的入度和出度：\n- 对于 $v_{1}$，没有进入 $v_{1}$ 的边，所以其入度为 $0$；有一条从 $v_{1}$ 指向 $v_{2}$ 的边，所以其出度为 $1$。因此，$v_{1}$ 是一个源点，但不是汇点。\n- 对于 $v_{n}$，有一条从 $v_{n-1}$ 进入 $v_{n}$ 的边，所以其入度为 $1$；没有从 $v_{n}$ 指出的边，所以其出度为 $0$。因此，$v_{n}$ 是一个汇点，但不是源点。\n- 对于任何满足 $2 \\leq i \\leq n-1$ 的顶点 $v_{i}$，恰好有一条来自 $v_{i-1}$ 的入边和一条指向 $v_{i+1}$ 的出边，所以其入度和出度均为 $1$。因此，这样的 $v_{i}$ 既不是源点也不是汇点。\n\n因此，恰好有两个顶点是源点或汇点，即 $v_{1}$ (源点) 和 $v_{n}$ (汇点)。这对应于选项 B。", "answer": "$$\\boxed{B}$$", "id": "1533651"}, {"introduction": "掌握了基本定义后，我们来挑战一个更深层次的问题，这需要批判性思维。这个练习提出了一个看似合理的猜想：在一个有向无环图中，源和汇的数量是否总是相等？你的任务是检验这个猜想，这不仅能加深你对源和汇属性的理解，还能让你体会到在数学和计算机科学中，通过寻找反例来证伪命题是一种多么重要且强大的技巧。[@problem_id:1533666]", "problem": "一个有向图 $G$ 由一个顶点集 $V$ 和一个边集 $E$ 定义，其中每条边都是一个有序顶点对 $(u,v)$，表示一个从顶点 $u$ 到顶点 $v$ 的有向连接。一个顶点的入度是指向该顶点的边的数量，出度是从该顶点出发的边的数量。\n\n在此背景下，我们定义以下术语：\n- **源点** (source) 是入度为 0 的顶点。\n- **汇点** (sink) 是出度为 0 的顶点。\n- **有向无环图 (DAG)** 是一个不包含有向环的有向图（即，不存在一条从某个顶点出发并最终回到该顶点的边的路径）。\n\n考虑以下论断：“对于任何非空有向无环图，源点的数量总是等于汇点的数量。”\n\n你的任务是确定下列由顶点集 $V$ 和边集 $E$ 描述的图中，哪一个可以作为该论断的反例。\n\nA. $V = \\{1, 2, 3\\}$, $E = \\{(1, 2), (1, 3)\\}$\n\nB. $V = \\{1, 2, 3\\}$, $E = \\{(1, 2), (2, 3)\\}$\n\nC. $V = \\{1, 2, 3\\}$, $E = \\{(1, 2), (2, 3), (3, 1)\\}$\n\nD. $V = \\{1, 2, 3, 4\\}$, $E = \\{(1, 3), (1, 4), (2, 3), (2, 4)\\}$", "solution": "我们检验每个选项，以找到一个非空的有向无环图 (DAG)，其中源点（入度为零的顶点）的数量不等于汇点（出度为零的顶点）的数量。对于每个图，我们计算其入度和出度，验证其无环性，并比较源点和汇点的数量。\n\n选项 A: $V=\\{1,2,3\\}$, $E=\\{(1,2),(1,3)\\}$。各顶点的度为：$\\deg^{-}(1)=0$ 且 $\\deg^{+}(1)=2$ (边指向 $2$ 和 $3$)，$\\deg^{-}(2)=1$ 且 $\\deg^{+}(2)=0$ (仅有来自 $1$ 的入边)，$\\deg^{-}(3)=1$ 且 $\\deg^{+}(3)=0$ (仅有来自 $1$ 的入边)。源点为 $\\{1\\}$ (数量为 $1$)，汇点为 $\\{2,3\\}$ (数量为 $2$)。该图中没有有向环，因为所有边都从 $1$ 指向 $\\{2,3\\}$，而 $2$ 和 $3$ 都没有出边。因此，这是一个源点数量不等于汇点数量的非空有向无环图，所以它是一个反例。\n\n选项 B: $V=\\{1,2,3\\}$, $E=\\{(1,2),(2,3)\\}$。各顶点的度为：$\\deg^{-}(1)=0$, $\\deg^{+}(1)=1$；$\\deg^{-}(2)=1$, $\\deg^{+}(2)=1$；$\\deg^{-}(3)=1$, $\\deg^{+}(3)=0$。源点为 $\\{1\\}$ (数量为 $1$)，汇点为 $\\{3\\}$ (数量为 $1$)。这是一个有向无环图（一条有向路径），且数量相等，因此不是反例。\n\n选项 C: $V=\\{1,2,3\\}$, $E=\\{(1,2),(2,3),(3,1)\\}$。该图包含有向环 $1 \\to 2 \\to 3 \\to 1$，因此它不是一个有向无环图，所以不能作为这个限定于有向无环图的论断的反例。\n\n选项 D: $V=\\{1,2,3,4\\}$, $E=\\{(1,3),(1,4),(2,3),(2,4)\\}$。各顶点的度为：$\\deg^{-}(1)=0$, $\\deg^{+}(1)=2$；$\\deg^{-}(2)=0$, $\\deg^{+}(2)=2$；$\\deg^{-}(3)=2$, $\\deg^{+}(3)=0$；$\\deg^{-}(4)=2$, $\\deg^{+}(4)=0$。源点为 $\\{1,2\\}$ (数量为 $2$)，汇点为 $\\{3,4\\}$ (数量为 $2$)。该图中没有有向环，因为所有边都从 $\\{1,2\\}$ 指向 $\\{3,4\\}$，所以它是一个数量相等的有向无环图，不是反例。\n\n因此，选项中唯一有效的反例是 A。", "answer": "$$\\boxed{A}$$", "id": "1533666"}, {"introduction": "现在，我们将理论付诸实践，解决一个源于真实世界软件工程的问题。在这个场景中，库之间的依赖关系被建模为一个有向无环图，而你的任务是找出所有“顶层”库，即那些不被任何其他库依赖的节点——也就是图的汇点。这个练习要求你将图论概念应用于一种常见的数据结构（邻接表），从而锻炼你解决实际计算问题的算法思维。[@problem_id:1533678]", "problem": "CodeWeavers Inc. 公司管理着一个复杂的内部软件库生态系统。这些库之间的关系被建模为一个有向无环图 (DAG)，其中从库 `u` 到库 `v` 的一条有向边，记为 `(u, v)`，表示库 `u` 是库 `v` 的一个直接依赖。公司需要识别所有的“顶层”库，这些库被定义为不被系统中任何其他库所依赖的库。用图论的术语来说，这些是依赖关系图的汇点。\n\n这个由 0 到 11 的整数标记的 12 个库组成的依赖关系图的结构，以邻接表的形式给出。在这种表示中，`Adj[i]` 是依赖于库 `i` 的库的列表。\n\n- `Adj[0] = [1, 4]`\n- `Adj[1] = [2, 3]`\n- `Adj[2] = []`\n- `Adj[3] = [5]`\n- `Adj[4] = [5]`\n- `Adj[5] = [6]`\n- `Adj[6] = []`\n- `Adj[7] = [8, 9]`\n- `Adj[8] = [10]`\n- `Adj[9] = [10]`\n- `Adj[10] = [11]`\n- `Adj[11] = []`\n\n你的任务是识别出所有的顶层库（汇点）。将你的答案以一个顶点 ID 升序排列的行矩阵形式呈现。", "solution": "我们将这些库建模为一个有向无环图 $G=(V,E)$，其中 $V=\\{0,1,\\dots,11\\}$。一条有向边 $(u,v)\\in E$ 表示 $u$ 是 $v$ 的一个直接依赖。给定的邻接表使得 $\\mathrm{Adj}[i]$ 列出了所有满足 $(i,v)\\in E$ 的顶点 $v$。\n\n顶层库（汇点）是不被任何其他库依赖的顶点。在图论中，汇点是一个出度为零的顶点 $v\\in V$。令 $d^{+}(v)$ 表示 $v$ 的出度。那么 $v$ 是一个汇点当且仅当 $d^{+}(v)=0$，这等价于 $\\mathrm{Adj}[v]$ 是空列表。\n\n我们检查每个顶点的邻接表：\n- $\\mathrm{Adj}[0]=[1,4]\\neq\\emptyset\\Rightarrow d^{+}(0)>0$。\n- $\\mathrm{Adj}[1]=[2,3]\\neq\\emptyset\\Rightarrow d^{+}(1)>0$。\n- $\\mathrm{Adj}[2]=[\\ ]=\\emptyset\\Rightarrow d^{+}(2)=0$ (汇点)。\n- $\\mathrm{Adj}[3]=[5]\\neq\\emptyset\\Rightarrow d^{+}(3)>0$。\n- $\\mathrm{Adj}[4]=[5]\\neq\\emptyset\\Rightarrow d^{+}(4)>0$。\n- $\\mathrm{Adj}[5]=[6]\\neq\\emptyset\\Rightarrow d^{+}(5)>0$。\n- $\\mathrm{Adj}[6]=[\\ ]=\\emptyset\\Rightarrow d^{+}(6)=0$ (汇点)。\n- $\\mathrm{Adj}[7]=[8,9]\\neq\\emptyset\\Rightarrow d^{+}(7)>0$。\n- $\\mathrm{Adj}[8]=[10]\\neq\\emptyset\\Rightarrow d^{+}(8)>0$。\n- $\\mathrm{Adj}[9]=[10]\\neq\\emptyset\\Rightarrow d^{+}(9)>0$。\n- $\\mathrm{Adj}[10]=[11]\\neq\\emptyset\\Rightarrow d^{+}(10)>0$。\n- $\\mathrm{Adj}[11]=[\\ ]=\\emptyset\\Rightarrow d^{+}(11)=0$ (汇点)。\n\n因此，汇点是 $2$、$6$ 和 $11$。按升序排列，行矩阵为 $\\begin{pmatrix}2  6  11\\end{pmatrix}$。", "answer": "$$\\boxed{\\begin{pmatrix}2  6  11\\end{pmatrix}}$$", "id": "1533678"}]}