{"hands_on_practices": [{"introduction": "要真正掌握一个算法，最好的方法莫过于亲手模拟其执行过程。这个练习将引导你在一张小型网络图上逐步追踪 Dijkstra 算法的运行。你将记录在算法的每一步中，从起点到各个节点的预估距离是如何被更新的，这有助于你深入理解算法的核心机制，包括初始化、节点选择和“松弛”操作，为你建立一个关于算法如何探索图的坚实直观模型。[@problem_id:1363296]", "problem": "一名网络管理员正在分析一个小数据中心的路由路径。该网络由六台服务器组成，分别标记为 A、B、C、D、E 和 F。直接相连的服务器之间的延迟（单位：毫秒）由以下无向连接给出：\n- A 到 B：4\n- A 到 C：2\n- B 到 C：5\n- B 到 D：10\n- C 到 E：3\n- D 到 E：4\n- D 到 F：11\n- E 到 F：1\n\n从源服务器 A 运行一个标准的单源最短路径算法，以找到到所有其他服务器的最小延迟路径。该算法维护一个数组，用于存储从 A 到每个服务器的当前最短路径估计值。最初，A 的估计值为 0，所有其他服务器的估计值为无穷大。该算法迭代地确定所有未确定服务器中当前估计值最小的服务器，然后更新其邻居的估计值。\n\n您的任务是追踪此估计值数组的状态。请提供六个数组的序列，其中第 k 个数组显示了在第 k 个服务器被确定后立即的估计值。在您的答案中，请按 (A, B, C, D, E, F) 的顺序表示服务器的估计值。将数组序列表示为一个矩阵，其中每一行对应一个服务器被确定后的估计值状态。使用符号 `\\infty` 来表示无穷大的估计值。", "solution": "我们从源点 $A$ 开始应用 Dijkstra 算法。设 $d(X)$ 表示从 $A$ 到服务器 $X$ 的当前最短距离估计值。初始时，$d(A)=0$ 且 $d(B)=d(C)=d(D)=d(E)=d(F)=\\infty$。在每一步中，确定未确定服务器中 $d(\\cdot)$ 值最小的服务器 $u$，并对其每个相邻的 $v$ 使用 $d(v) \\leftarrow \\min\\{d(v), d(u)+w(u,v)\\}$ 进行松弛操作。\n\n第 1 步：确定 $A$，其 $d(A)=0$。松弛其邻居：\n- $d(B) \\leftarrow \\min(\\infty, 0+4)=4$，\n- $d(C) \\leftarrow \\min(\\infty, 0+2)=2$。\n第 1 次确定后的状态 (A,B,C,D,E,F)：\n$$\n\\begin{pmatrix}\n0  4  2  \\infty  \\infty  \\infty\n\\end{pmatrix}\n$$\n\n第 2 步：确定 $C$，其 $d(C)=2$。松弛其邻居：\n- $d(B) \\leftarrow \\min(4, 2+5)=4$（无变化），\n- $d(E) \\leftarrow \\min(\\infty, 2+3)=5$。\n第 2 次确定后的状态：\n$$\n\\begin{pmatrix}\n0  4  2  \\infty  5  \\infty\n\\end{pmatrix}\n$$\n\n第 3 步：确定 $B$，其 $d(B)=4$。松弛其邻居：\n- $d(D) \\leftarrow \\min(\\infty, 4+10)=14$。\n第 3 次确定后的状态：\n$$\n\\begin{pmatrix}\n0  4  2  14  5  \\infty\n\\end{pmatrix}\n$$\n\n第 4 步：确定 $E$，其 $d(E)=5$。松弛其邻居：\n- $d(D) \\leftarrow \\min(14, 5+4)=9$，\n- $d(F) \\leftarrow \\min(\\infty, 5+1)=6$。\n第 4 次确定后的状态：\n$$\n\\begin{pmatrix}\n0  4  2  9  5  6\n\\end{pmatrix}\n$$\n\n第 5 步：确定 $F$，其 $d(F)=6$。松弛其邻居：\n- $d(D) \\leftarrow \\min(9, 6+11)=9$（无变化）。\n第 5 次确定后的状态：\n$$\n\\begin{pmatrix}\n0  4  2  9  5  6\n\\end{pmatrix}\n$$\n\n第 6 步：确定 $D$，其 $d(D)=9$。没有进一步的改进。\n第 6 次确定后的状态：\n$$\n\\begin{pmatrix}\n0  4  2  9  5  6\n\\end{pmatrix}\n$$\n\n按确定顺序将六个数组作为行收集起来，得到：\n$$\n\\begin{pmatrix}\n0  4  2  \\infty  \\infty  \\infty \\\\\n0  4  2  \\infty  5  \\infty \\\\\n0  4  2  14  5  \\infty \\\\\n0  4  2  9  5  6 \\\\\n0  4  2  9  5  6 \\\\\n0  4  2  9  5  6\n\\end{pmatrix}\n$$", "answer": "$$\\boxed{\\begin{pmatrix}\n0  4  2  \\infty  \\infty  \\infty \\\\\n0  4  2  \\infty  5  \\infty \\\\\n0  4  2  14  5  \\infty \\\\\n0  4  2  9  5  6 \\\\\n0  4  2  9  5  6 \\\\\n0  4  2  9  5  6\n\\end{pmatrix}}$$", "id": "1363296"}, {"introduction": "现实世界中的许多路由问题都带有特定的约束条件，例如必须经过某个检查点或监控服务器。这个问题要求你找到一条必须穿过特定中间节点的最短路径。解决这个问题的诀窍并非设计一个全新的复杂算法，而是巧妙地将其分解为两个独立的、可以用标准 Dijkstra 算法解决的子问题。这个练习旨在训练一种至关重要的问题解决技巧——分解，让你学会如何将一个带有约束的复杂问题重构为多个你已经掌握如何解决的标准子问题。[@problem_id:1363287]", "problem": "一个数据包必须通过一个小型区域网络从源服务器 $S$ 路由到目标服务器 $T$。该网络由一组服务器节点 $V = \\{S, A, B, M, C, D, T\\}$ 组成。这些节点之间的通信是单向的，并且每个有向链接都有一个相关的路由成本。从节点 $X$ 到节点 $Y$ 成本为 $Z$ 的链接用三元组 $(X, Y, Z)$ 表示。\n\n可用的网络链接及其各自的成本如下：\n(S, A, 3), (S, B, 5), (S, M, 10), (A, B, 1), (A, M, 8), (B, M, 3), (B, C, 4), (M, C, 1), (M, D, 6), (C, D, 2), (C, T, 7), (D, T, 2).\n\n出于安全审计的需要，每个源自 $S$ 并发往 $T$ 的数据包都必须经过一个特定的监控服务器 $M$ 处理。您的任务是找到一条从 $S$ 到 $T$ 的路径，该路径遵循此约束，并具有最低的总路由成本。\n\n这条路径的最低总成本是多少？请用成本单位表示您的答案。", "solution": "我们必须找到从 $S$ 到 $T$ 且经过 $M$ 的最低成本路径。对于任何具有非负链接成本的有向图，从 $S$ 到 $T$ 且必须经过 $M$ 的路径的最低成本，等于最短路径距离 $d(S,M)$ 和 $d(M,T)$ 之和。这是因为任何经过 $M$ 的可行 $S \\to T$ 路径都可以分解为一个 $S \\to M$ 段和一个 $M \\to T$ 段，其总成本是这两段成本之和。独立地最小化每个分段的成本可以得到全局的最低成本：\n$$\n\\min_{\\text{paths }S\\to T\\text{ via }M} \\text{cost} \\;=\\; d(S,M) + d(M,T).\n$$\n\n使用给定的有向边计算 $d(S,M)$：可能的路径包括 $(S,M,10)$，$(S,A,3)$ 然后 $(A,M,8)$，$(S,B,5)$ 然后 $(B,M,3)$，以及 $(S,A,3)$ 然后 $(A,B,1)$ 然后 $(B,M,3)$。因此\n$$\nd(S,M) = \\min\\{10,\\; 3+8,\\; 5+3,\\; 3+1+3\\} = \\min\\{10,\\; 11,\\; 8,\\; 7\\} = 7.\n$$\n\n使用从 $M$ 出发的边计算 $d(M,T)$：候选路径为 $(M,D,6)$ 然后 $(D,T,2)$，$(M,C,1)$ 然后 $(C,T,7)$，以及 $(M,C,1)$ 然后 $(C,D,2)$ 然后 $(D,T,2)$。因此\n$$\nd(M,T) = \\min\\{6+2,\\; 1+7,\\; 1+2+2\\} = \\min\\{8,\\; 8,\\; 5\\} = 5.\n$$\n\n因此，一条经过 $M$ 的 $S \\to T$ 路径的最低总成本是\n$$\nd(S,M)+d(M,T) = 7 + 5 = 12.\n$$", "answer": "$$\\boxed{12}$$", "id": "1363287"}, {"introduction": "在许多应用场景中，“最短”路径的定义并不仅仅取决于距离或时间，其他因素如成本、风险或中转次数同样关键。本练习挑战你寻找一条在满足“总时间最短”这一首要目标的前提下，同时实现“中转次数最少”这一附带目标的路径。这需要你对 Dijkstra 算法的核心逻辑进行扩展，不再比较单一的成本值，而是使用一种包含多个维度的成本结构（例如一个代表时间和中转次数的二元组）进行比较。这项进阶练习充分展示了 Dijkstra 算法框架的灵活性，揭示了通过调整“成本”的定义和比较规则，同一基本算法能够被适配于解决更复杂的多目标优化问题。[@problem_id:1496472]", "problem": "一家名为“Stellar Express”的新星际快递服务公司签约，负责将一个至关重要的低温冷却望远镜部件从其位于地球 (E) 的主仓库运输到火星 (M) 上一个新建立的研究前哨站。该运输网络由几个轨道站和拉格朗日点枢纽组成，可以建模为一个加权有向图，其中节点代表位置，边权重代表以天为单位的旅行时间。\n\n主要目标是找到一条总旅行时间尽可能最短的路线。然而，每次在站点之间转移（即在图中遍历一条边）都会带来固定的设备故障风险，并产生显著的程序性成本。因此，作为次要目标，在所有实现最小总旅行时间的路线中，公司必须选择涉及最少站点间转移次数的那一条。\n\n可用的路线及其对应的旅行时间如下：\n- 地球 (E) 到空间站 A：3 天\n- 地球 (E) 到空间站 B：2 天\n- 地球 (E) 到空间站 D：9 天\n- 空间站 A 到火星 (M)：5 天\n- 空间站 A 到空间站 D：4 天\n- 空间站 B 到空间站 C：3 天\n- 空间站 C 到空间站 D：1 天\n- 空间站 C 到火星 (M)：3 天\n- 空间站 D 到火星 (M)：1 天\n\n所有路线都是指定方向的单程路线。你的任务是根据公司的双重标准，确定从地球 (E) 到火星 (M) 的最优路径。\n\n请提供这条最优路径的最小总旅行时间以及相应的转移次数。", "solution": "为了解决这个多目标优化问题，我们将路径的成本定义为一个有序对 $(T, K)$，其中 $T$ 是总旅行时间，$K$ 是转移次数。我们按字典序比较成本对：成本 $(t_1, k_1)$ 小于 $(t_2, k_2)$，当且仅当 $t_1  t_2$ 或 ($t_1=t_2$ 且 $k_1  k_2$)。算法的目标是找到到达火星 $M$ 的成本最小的路径。\n\n我们可以枚举所有从 $E$ 到 $M$ 的可能路径，并计算它们的 (时间, 转移次数) 成本：\n1.  路径 $E \\to A \\to M$：\n    -   总时间：$3 + 5 = 8$ 天\n    -   转移次数：2\n    -   成本：$(8, 2)$\n2.  路径 $E \\to B \\to C \\to M$：\n    -   总时间：$2 + 3 + 3 = 8$ 天\n    -   转移次数：3\n    -   成本：$(8, 3)$\n3.  路径 $E \\to A \\to D \\to M$：\n    -   总时间：$3 + 4 + 1 = 8$ 天\n    -   转移次数：3\n    -   成本：$(8, 3)$\n4.  路径 $E \\to B \\to C \\to D \\to M$：\n    -   总时间：$2 + 3 + 1 + 1 = 7$ 天\n    -   转移次数：4\n    -   成本：$(7, 4)$\n5.  路径 $E \\to D \\to M$：\n    -   总时间：$9 + 1 = 10$ 天\n    -   转移次数：2\n    -   成本：$(10, 2)$\n\n现在，我们比较这些成本对：$(8, 2), (8, 3), (7, 4), (10, 2)$。\n\n根据字典序，我们首先寻找时间最小的路径。成本为 $(7, 4)$ 的路径（$E \\to B \\to C \\to D \\to M$）提供了最短的旅行时间（7天）。由于没有其他路径能达到或少于7天，这条路径就是最优解，即使它的转移次数（4次）比其他一些路径要多。\n\n因此，最优路径的最小总旅行时间是7天，相应的转移次数是4次。", "answer": "$$\\boxed{\\begin{pmatrix}7  4\\end{pmatrix}}$$", "id": "1496472"}]}