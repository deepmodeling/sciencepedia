{"hands_on_practices": [{"introduction": "掌握广度优先搜索（BFS）的第一步是亲手实践其核心机制。这个练习将带你一步步地追踪队列和已访问集合的变化，让你在一个模拟数据中心网络广播的场景中，精确地执行算法。通过解决这个问题[@problem_id:1485198]，你将为理解更复杂的应用打下坚实的基础。", "problem": "在一个小型的、隔离的数据中心，一个由8台服务器组成的网络相互连接，服务器编号从1到8。该网络拓扑是双向的，由一个 $8 \\times 8$ 的邻接矩阵 $A$ 表示，其中如果服务器 $i$ 和服务器 $j$ 之间有直接链接，则 $A_{ij} = 1$，否则 $A_{ij} = 0$。矩阵 $A$ 如下所示：\n$$\nA = \\begin{pmatrix}\n0  1  1  1  0  0  0  0 \\\\\n1  0  0  0  0  0  0  0 \\\\\n1  0  0  0  1  1  0  0 \\\\\n1  0  0  0  0  0  0  0 \\\\\n0  0  1  0  0  0  0  1 \\\\\n0  0  1  0  0  0  1  0 \\\\\n0  0  0  0  0  1  0  0 \\\\\n0  0  0  0  1  0  0  0\n\\end{pmatrix}\n$$\n一个广播协议被启动，用于将一个关键更新从源服务器分发到网络中的所有其他服务器。该协议使用广度优先搜索（BFS）算法来确定服务器被访问的顺序。遍历从服务器3开始。在探索一个服务器的邻居时，如果发现多个未访问过的邻居，它们将按照服务器编号的升序被添加到访问队列中（例如，服务器2将在服务器4之前入队）。\n\n确定在BFS遍历过程中，服务器编号按其首次被发现（即标记为“已访问”）的顺序所组成的序列。", "solution": "将对称邻接矩阵 $A$ 表示的图解释为无向图。从矩阵的行中读取的邻居集合为：\n$$\nN(1)=\\{2,3,4\\},\\quad N(2)=\\{1\\},\\quad N(3)=\\{1,5,6\\},\\quad N(4)=\\{1\\},\n$$\n$$\nN(5)=\\{3,8\\},\\quad N(6)=\\{3,7\\},\\quad N(7)=\\{6\\},\\quad N(8)=\\{5\\}.\n$$\n从服务器3开始使用BFS。原则：将起始节点入队并标记为已访问；然后迭代地将一个节点出队，按升序扫描其邻居，并在发现任何未访问过的邻居时立即将其入队（同时标记为已访问）。发现的顺序就是节点首次入队的顺序。\n\n初始化：队列 $Q=[\\,]$，已访问序列为空。将3入队并标记为已访问。到目前为止的发现顺序：$3$；队列 $Q=[3]$。\n\n将3出队。其邻居按升序排列为 $1,5,6$。它们都未被访问过，所以按此顺序将它们入队，并在入队时标记为已访问。发现顺序：$3,1,5,6$；队列 $Q=[1,5,6]$。\n\n将1出队。其邻居按升序排列为 $2,3,4$。其中，3已被访问；将2然后4入队。发现顺序：$3,1,5,6,2,4$；队列 $Q=[5,6,2,4]$。\n\n将5出队。其邻居为 $3,8$。节点3已被访问；将8入队。发现顺序：$3,1,5,6,2,4,8$；队列 $Q=[6,2,4,8]$。\n\n将6出队。其邻居为 $3,7$。节点3已被访问；将7入队。发现顺序：$3,1,5,6,2,4,8,7$；队列 $Q=[2,4,8,7]$。\n\n将2出队。邻居1已被访问；无变化。队列 $Q=[4,8,7]$。\n\n将4出队。邻居1已被访问；无变化。队列 $Q=[8,7]$。\n\n将8出队。邻居5已被访问；无变化。队列 $Q=[7]$。\n\n将7出队。邻居6已被访问；无变化。队列为空；BFS完成。\n\n因此，首次发现的顺序是 $3,1,5,6,2,4,8,7$。", "answer": "$$\\boxed{\\begin{pmatrix}3  1  5  6  2  4  8  7\\end{pmatrix}}$$", "id": "1485198"}, {"introduction": "熟悉了广度优先搜索的执行过程后，让我们来探索它最强大的功能之一：在无权图中寻找最短路径。这个问题[@problem_id:1485215]提出了一个有趣的挑战：找到包含特定边的最短环路。你需要巧妙地将这个非标准问题转化为一个经典的最短路径问题，这本身就是一种重要的图论解题技巧。", "problem": "一座城市新建的地铁系统连接了几个核心区域。该系统可以被建模为一个无权无向图，其中车站由节点表示，它们之间的直达轨道由边表示。该系统有 8 个车站，用从 0 到 7 的整数进行标记。\n\n轨道网络由以下边集定义：\n`{(0, 1), (0, 2), (1, 3), (2, 4), (2, 5), (3, 6), (4, 6), (5, 7)}`\n\n连接车站 0 和车站 1 的轨道需要进行一次特殊的维护检查。一辆检查列车必须完成一个包含穿过这条特定轨道的完整循环。列车从车站 0 出发，沿指定轨道直接行至车站 1，然后必须通过一系列其他可用轨道返回车站 0。\n\n检查列车完成这趟往返行程所需经过的轨道总数的最小值是多少？", "solution": "将地铁系统建模为一个无权无向图，其顶点集为 $\\{0,1,2,3,4,5,6,7\\}$，边集为 $\\{(0,1),(0,2),(1,3),(2,4),(2,5),(3,6),(4,6),(5,7)\\}$。检查列车必须从 $0$ 到 $1$ 穿过边 $(0,1)$，然后从 $1$ 返回 $0$ 而不使用同一条轨道 $(1,0)$。因此，轨道总数的最小值等于边 $(0,1)$ 的长度 $1$ 加上在移除边 $(0,1)$ 后的图中从 $1$ 到 $0$ 的最短路径长度。\n\n移除 $(0,1)$ 并从节点 $1$ 开始执行广度优先搜索（BFS）：\n- 从 $1$ 出发，唯一的邻居是 $3$，所以 $\\operatorname{dist}(1,3)=1$。\n- 从 $3$ 出发，唯一的新邻居是 $6$，所以 $\\operatorname{dist}(1,6)=2$。\n- 从 $6$ 出发，唯一的新邻居是 $4$，所以 $\\operatorname{dist}(1,4)=3$。\n- 从 $4$ 出发，唯一的新邻居是 $2$，所以 $\\operatorname{dist}(1,2)=4$。\n- 从 $2$ 出发，一个邻居是 $0$，所以 $\\operatorname{dist}(1,0)=5$。\n\n根据广度优先搜索在无权图上的性质，这是可能的最短返回路径长度。因此，经过的轨道总数的最小值为\n$$1+\\operatorname{dist}_{G\\setminus\\{(0,1)\\}}(1,0)=1+5=6.$$", "answer": "$$\\boxed{6}$$", "id": "1485215"}, {"introduction": "在最短路径的基础上，我们更进一步。在网络路由等现实场景中，仅仅知道最短路径的长度往往不够，我们还需要了解存在多少条这样的路径。这个问题[@problem_id:1485209]将展示如何扩展标准的广度优先搜索算法来计数所有不同的最短路径，让你一窥更高级的图分析技术。", "problem": "在一个小规模的实验性分布式计算网络中，任务在不同的计算节点之间进行路由。该网络由10个节点组成，编号从0到9。这些节点之间的连接是双向的，形成一个无权图，其中每个连接代表一次跳跃。网络拓扑由以下直接通信链路定义：\n(0, 1), (0, 2), (0, 3)\n(1, 4)\n(2, 4), (2, 5)\n(3, 5), (3, 6)\n(4, 7)\n(5, 7), (5, 8)\n(6, 8)\n(7, 9)\n(8, 9)\n\n一个任务需要从主节点（即节点0）发送到一个特定的执行节点（即节点9）。为了进行弹性和负载均衡分析，需要确定节点0和节点9之间不同最优传输路径的数量。最优路径定义为具有最少可能跳跃数的路径。\n\n计算从节点0到节点9的不同最优路径的总数。", "solution": "我们将网络建模为一个无向、无权图，因此最优路径是跳跃数意义上的最短路径。设 $D(v)$ 表示从节点0到节点 $v$ 的最小跳跃数，设 $C(v)$ 表示从节点0到节点 $v$ 的最短路径数量。初始化 $D(0)=0$ 和 $C(0)=1$。\n\n从直接链路可知，0的邻居是1、2和3，所以\n$$D(1)=D(2)=D(3)=1,\\quad C(1)=C(2)=C(3)=1.$$\n\n接下来，确定距离为2的节点。根据给定的边：\n- 节点4与1和2相邻，因此 $D(4)=2$ 且\n$$C(4)=C(1)+C(2)=1+1=2.$$\n- 节点5与2和3相邻，因此 $D(5)=2$ 且\n$$C(5)=C(2)+C(3)=1+1=2.$$\n- 节点6与3相邻，因此 $D(6)=2$ 且\n$$C(6)=C(3)=1.$$\n\n接下来，确定距离为3的节点。根据给定的边：\n- 节点7与4和5相邻，两者距离都为2，所以 $D(7)=3$ 且\n$$C(7)=C(4)+C(5)=2+2=4.$$\n- 节点8与5和6相邻，两者距离都为2，所以 $D(8)=3$ 且\n$$C(8)=C(5)+C(6)=2+1=3.$$\n\n最后，节点9与7和8相邻，两者距离都为3，所以 $D(9)=4$ 且不同最优（最短）路径的数量为\n$$C(9)=C(7)+C(8)=4+3=7.$$\n\n因此，从节点0到节点9的不同最优路径的总数为7。", "answer": "$$\\boxed{7}$$", "id": "1485209"}]}