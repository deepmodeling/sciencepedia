{"hands_on_practices": [{"introduction": "第一个练习直接应用了父节点、子节点和兄弟节点的定义。通过构建一个简单但基础的树结构——星形图——你将练习运用组合学原理来计算树内的关系数量，从而加深你对结构如何决定性质的理解。这个问题 [@problem_id:1525686] 是掌握这些基本概念的绝佳起点。", "problem": "在图论中，有根树是一个有向图，其中一个特殊的顶点被指定为根，并且对于其他每个顶点 $v$，都存在一条从根到 $v$ 的唯一有向路径。这种结构定义了顶点之间的亲属关系。对于任意非根顶点 $v$，其父节点是满足存在一条从 $u$ 到 $v$ 的有向边的唯一顶点 $u$。反之，$v$ 是 $u$ 的一个子节点。如果两个不同的顶点共享同一个父节点，则称它们为兄弟节点。没有子节点的顶点称为叶节点。\n\n考虑一个构建在一组 $n$ 个顶点（其中 $n \\ge 3$）上的特定有根树。在这棵树中，一个顶点被指定为根。所有其他 $n-1$ 个顶点都是叶节点。\n\n确定一个用 $n$ 表示的、互为兄弟节点的顶点对总数的闭式表达式。", "solution": "一个包含 $n$ 个顶点、一个根节点以及所有其他 $n-1$ 个顶点都是叶节点的有根树，是一个以根为中心的星形图。根据定义，如果两个不同的顶点共享同一个父节点，则它们是兄弟节点。在这棵树中，每个叶节点都以根为其唯一的父节点，所以所有 $n-1$ 个叶节点都共享同一个父节点，因此任意两个不同的叶节点都是兄弟节点。根没有父节点，因此也没有兄弟节点。\n\n兄弟节点对的总数等于叶节点的无序对的数量，即从一个包含 $n-1$ 个元素的集合中选取 2 个元素组成的子集的数量。根据基础组合学，这个数量是\n$$\n\\binom{n-1}{2}=\\frac{(n-1)(n-2)}{2}.\n$$\n因此，兄弟节点对数量的闭式表达式是 $\\frac{(n-1)(n-2)}{2}$。", "answer": "$$\\boxed{\\frac{(n-1)(n-2)}{2}}$$", "id": "1525686"}, {"introduction": "在前一个练习的基础上，我们现在将重点转移到探索树结构的极限。这个问题 [@problem_id:1525716] 挑战你去思考极值属性：在一个给定大小的树中，一个顶点最多可以有多少个兄弟节点？解决这个问题需要你找出能使该值最大化的特定树形配置，这在图论中是一种常用且强大的技巧。", "problem": "在图论中，有根树是一个连通的无环图，其中一个特殊的顶点被指定为“根”。对于任何其他顶点，从根到该顶点都存在一条唯一的简单路径。这引出了一种父子关系：如果在从根到顶点 $v$ 的唯一路径上，顶点 $u$ 是紧邻顶点 $v$ 前面的那个顶点，那么 $u$ 就是 $v$ 的“父节点”，而 $v$ 是 $u$ 的“子节点”。如果两个不同的顶点共享同一个父节点，则它们被称为“兄弟节点”。\n\n考虑所有包含 $n$ 个顶点（其中 $n \\ge 3$）的有根树的集合。你的任务是确定单个顶点可能拥有的最大兄弟节点数。请用一个关于 $n$ 的公式来表示你的答案。", "solution": "设一个有根树有 $n$ 个顶点，且 $n \\geq 3$。对于任何父节点为 $p$ 的非根顶点 $v$，其兄弟节点的数量等于 $p$ 的子节点数量减一。用 $c(p)$ 表示 $p$ 的子节点数量。那么 $v$ 的兄弟节点数量为\n$$\n\\text{siblings}(v) = c(p) - 1.\n$$\n为了在所有包含 $n$ 个顶点的有根树的所有顶点中最大化 $\\text{siblings}(v)$，我们必须为某个父节点 $p$ 最大化 $c(p)$。\n\n观察可知，$c(p)$ 不能超过除 $p$ 以外的顶点数量。因此：\n- 如果 $p$ 是根节点，那么 $c(p) \\leq n - 1$，当树为有根星形图，且根节点与所有其他 $n-1$ 个顶点（均为其子节点）相邻时，等号成立。\n- 如果 $p$ 不是根节点，那么 $p$ 有一个父节点，所以至少有2个顶点不在其子节点之列（即 $p$ 和它的父节点），这意味着 $c(p) \\leq n - 2$。\n\n因此，$c(p)$ 的全局最大值为 $n - 1$，在 $p$ 是星形图的根节点时达到。\n所以，任何单个顶点可能拥有的最大兄弟节点数是\n$$\n\\max \\text{siblings}(v) = (n - 1) - 1 = n - 2,\n$$\n并且这个上界在包含 $n$ 个顶点的有根星形图中由任意叶节点达到。", "answer": "$$\\boxed{n-2}$$", "id": "1525716"}, {"introduction": "我们的最后一个练习深入探讨了图论原理对潜在树结构设计施加的约束。你将研究一个看似简单的设计规则——每个节点的子节点数量必须不同——并判断其可行性。这个问题 [@problem_id:1525689] 展示了如何利用树的一个基本不变量，即顶点和边的数量关系，来证明某些结构是不可能存在的，这是一种优雅的证明技巧。", "problem": "一名计算机科学专业的学生正在探索层次结构的约束。他们正在考虑一种建模为**有根树**的数据结构。有根树是称为节点的项目的集合，其中一个特殊节点被指定为根，其他每个节点都是根的后代。在有根树中，如果从节点 $P$ 到节点 $C$ 有一条直接的链接，那么节点 $P$ 是节点 $C$ 的父节点；在这种情况下，$C$ 是 $P$ 的**子节点**。\n\n该学生为具有总共 $N$ 个节点的树提出了一条设计规则：“树中的每个节点都必须有不同数量的子节点。”例如，如果一棵树有 3 个节点，并且应用此规则，那么这三个节点的子节点数量必须是三个不同的非负整数。\n\n你的任务是确定对于下列总节点数 $N$ 中的哪些值，数学上可以构造出满足此设计规则的有根树。\n\n选择所有使得这种构造成为可能的 $N$ 值。\n\nA. $N = 3$\nB. $N = 4$\nC. $N = 5$\nD. $N = 1$\nE. $N = 2$", "solution": "设 $N$ 个节点的子节点数量分别为 $d_{1},d_{2},\\ldots,d_{N}$。在任何有根树中，每条边都恰好对子节点计数贡献一次，因此所有子节点数量的总和等于边的总数。一个有 $N$ 个节点的树有 $N-1$ 条边，因此\n$$\n\\sum_{i=1}^{N} d_{i} = N - 1.\n$$\n设计规则要求 $d_{1},\\ldots,d_{N}$ 是 $N$ 个不同的非负整数。在任何有根树中，至少有一个叶节点，因此至少有一个 $d_{i}=0$，而根据不同性的要求，这样的零恰好只有一个。为了最小化 $N$ 个不同非负整数的和，我们必须取\n$$\n\\{d_{1},\\ldots,d_{N}\\} = \\{0,1,2,\\ldots,N-1\\},\n$$\n这得出的最小可能和为\n$$\n\\sum_{i=1}^{N} d_{i} \\ge 0+1+2+\\cdots+(N-1) = \\frac{N(N-1)}{2}.\n$$\n因此一个必要条件是\n$$\n\\frac{N(N-1)}{2} \\le N-1.\n$$\n这个不等式等价于\n$$\nN(N-1) \\le 2(N-1) \\quad\\Longleftrightarrow\\quad (N-1)(N-2) \\le 0,\n$$\n它恰好在 $1 \\le N \\le 2$ 时成立。因此，在给定选项中，唯一可能的值是 $N=1$ 和 $N=2$。\n\n这些值也是充分的：\n- 对于 $N=1$，取单个节点（根节点），其子节点数为 $d_{1}=0$。\n- 对于 $N=2$，取一个带有一个子节点的根，得到多重集 $\\{1,0\\}$，它们是不同的，并且和为 $1=N-1$。\n\n对于 $N\\ge 3$，最小和 $\\frac{N(N-1)}{2}$ 超过 $N-1$，使得这样的树不可能存在。\n\n因此，正确的选项是 $N=1$ 和 $N=2$，即 D 和 E。", "answer": "$$\\boxed{DE}$$", "id": "1525689"}]}