{"hands_on_practices": [{"introduction": "理解块-割点图的第一步是能够在给定的图中准确地识别出其块（双连通分量）和割点。这个练习将通过一个具体的例子——由三个三棱柱图组合而成的图——来引导你完成这个过程。通过这个实践[@problem_id:1538412]，你将掌握从一个图构建其对应的块-割点图的基本方法。", "problem": "考虑一个图 $H$，它表示一个三棱柱的骨架。$H$ 的顶点集为 $V = \\{v_1, v_2, v_3, v_4, v_5, v_6\\}$，边集为 $E = \\{(v_1, v_2), (v_2, v_3), (v_3, v_1), (v_4, v_5), (v_5, v_6), (v_6, v_4), (v_1, v_4), (v_2, v_5), (v_3, v_6)\\}$。\n\n现在，设 $H_1, H_2$ 和 $H_3$ 是图 $H$ 的三个不相交的副本。设 $H_i$ 的顶点记为 $\\{v_{i,1}, v_{i,2}, \\dots, v_{i,6}\\}$。通过以下两个顶点等同操作，由这三个副本构造出一个更大的图 $G$：\n1. 将 $H_1$ 中的顶点 $v_{1,1}$ 与 $H_2$ 中的顶点 $v_{2,1}$ 等同。\n2. 将 $H_2$ 中的顶点 $v_{2,2}$ 与 $H_3$ 中的顶点 $v_{3,2}$ 等同。\n\n一个图 $G'$ 的块-割点图，记作 $BC(G')$，是一个二分图，其顶点表示 $G'$ 的双连通分量（块）和关节点（割点）。在 $BC(G')$ 中，一个块-顶点 $B$ 和一个割-顶点 $c$ 之间存在一条边，当且仅当顶点 $c$ 是块 $B$ 的一部分。\n\n确定块-割点图 $BC(G)$ 中的顶点数和边数。你的答案应以整数对 $(N_v, N_e)$ 的形式给出，其中 $N_v$ 是顶点数，$N_e$ 是边数。", "solution": "设 $H$ 表示三棱柱图。它是双连通的：移除任何单个顶点后，图仍然保持连通，因为每个顶点都位于环上，并且两个三角形面至少由三条竖直边中的两条连接。\n\n通过等同以下顶点，由三个不相交的副本 $H_{1},H_{2},H_{3}$ 构造 $G$：\n$$x:=v_{1,1}=v_{2,1}, \\qquad y:=v_{2,2}=v_{3,2}.$$\n在 $G$ 中，$H_{1}$ 和 $H_{2}$ 恰好共享顶点 $x$，$H_{2}$ 和 $H_{3}$ 恰好共享顶点 $y$。以下标准事实适用：\n- 如果两个双连通图恰好共享一个顶点，那么在它们的并图中，该共享顶点是一个割点。\n- 每个原始的双连通分量在并图中都是一个极大的双连通子图（一个块），因为跨越单个共享顶点添加顶点将会创建一个割点并破坏双连通性。\n\n因此，$G$ 的块恰好是 $H_{1},H_{2},H_{3}$，这在 $BC(G)$ 中给出了3个块-顶点。在 $G$ 中，唯一的割点是 $x$ 和 $y$，因为移除 $x$ 会将 $H_{1}$ 与其余部分断开，移除 $y$ 会将 $H_{3}$ 与其余部分断开，而移除任何其他单个顶点都会使 $H_{2}$ 保持连通，并保留 $x$ 和 $y$ 之间的一条路径。因此，在 $BC(G)$ 中有2个割-顶点。\n\n因此，$BC(G)$ 中的顶点数为\n$$N_{v}=3+2=5.$$\n$BC(G)$ 的边对应于割点与块的关联关系：\n- $x$ 位于 $H_{1}$ 和 $H_{2}$ 中，贡献2条边。\n- $y$ 位于 $H_{2}$ 和 $H_{3}$ 中，贡献2条边。\n没有其他关联关系发生。因此\n$$N_{e}=2+2=4.$$\n所以，\n$$\\text{BC}(G)\\text{ 拥有 }(N_{v},N_{e})=(5,4)。$$", "answer": "$$\\boxed{\\begin{pmatrix}5  4\\end{pmatrix}}$$", "id": "1538412"}, {"introduction": "掌握了如何从一个图得到其块-割点图后，一个自然的问题是：我们能否反向操作？这个练习[@problem_id:1538400]要求你扮演一个图设计师的角色，去构造两个结构不同（非同构）但拥有相同块-割点图的图。这能加深你对块、割点以及它们如何共同决定图的整体拓扑结构的理解。", "problem": "在图论中，我们可以使用块和割点的概念将一个连通图分解为其基本组成部分。\n\n首先，给出无向图 $G$ 的一些定义：\n- **割点**（cut vertex）是指移除后会增加图的连通分量数量的顶点。\n- **块**（block）是 $G$ 的一个极大连通子图，其自身没有割点。直观上，一个块是一个极大的2-连通分量或一个桥（一个移除后会使图不连通的边，该桥与其两个端点被视为一个块）。\n- $G$ 的**块-割点图**（block-cutpoint graph），记为 $BC(G)$，是一个新构造的图，其构造如下：其顶点集是 $G$ 的块集和 $G$ 的割点集的并集。在 $BC(G)$ 中，代表块 $B$ 的顶点与代表割点 $c$ 的顶点之间存在一条边，当且仅当 $c$ 是 $B$ 中的一个顶点。对于任何连通图，其块-割点图都是一棵树。\n- **路图 $P_n$** 是一个有 $n$ 个顶点 $v_1, v_2, \\ldots, v_n$ 和边 $(v_i, v_{i+1})$（$i=1, \\ldots, n-1$）的图。\n\n你的任务是构造两个非同构的连通图，每个图都有恰好6个顶点，并且每个图的块-割点图都是一个长度为2的路（$P_3$）。\n\n选择所有代表这两个图的有效度序列对的选项。度序列以非增序的整数列表形式给出。\n\nA. (4, 3, 3, 2, 1, 1) 和 (5, 2, 2, 2, 2, 1)\n\nB. (4, 2, 2, 2, 2, 2) 和 (3, 2, 2, 2, 2, 1)\n\nC. (5, 3, 3, 3, 2, 2) 和 (4, 2, 2, 2, 2, 2)\n\nD. (5, 4, 1, 1, 1, 1) 和 (3, 3, 2, 2, 1, 1)", "solution": "设 $G$ 是一个有6个顶点的连通图，其块-割点图 $BC(G)$ 是一个路 $P_{3}$。在 $BC(G)$ 中，叶子节点总是块，所以 $BC(G)=B_{1}-c-B_{2}$，其中 $B_{1}$ 和 $B_{2}$ 是 $G$ 的块，而 $c$ 是 $G$ 中唯一同时包含在这两个块中的割点。如果 $|V(B_{i})|=k_{i}$，那么\n$$\n|V(G)|=k_{1}+k_{2}-1=6 \\quad\\Longrightarrow\\quad k_{1}+k_{2}=7.\n$$\n因为一个块要么是 $K_{2}$，要么是一个2-连通图（因此在块内的最小度至少为2），所以唯一的可能性是\n$$\n(k_{1},k_{2})\\in\\{(5,2),(4,3)\\}.\n$$\n这对 $G$ 中度的影响如下：\n- 在 $(4,3)$ 的情况下，所有不等于 $c$ 的顶点都位于一个2-连通块中，因此在 $G$ 中的度至少为2；没有度为1的顶点。割点的度为 $\\deg_{G}(c)=\\deg_{B_{1}}(c)+\\deg_{B_{2}}(c)\\geq 4$。\n- 在 $(5,2)$ 的情况下，$K_{2}$ 在 $G$ 中恰好增加了一个度为1的悬挂顶点（非 $c$ 的端点）。割点满足 $\\deg_{G}(c)=\\deg_{B_{1}}(c)+1\\geq 3$，而所有其他顶点（在5个顶点的2-连通块中）的度至少为2。\n\n因此，这样一个图 $G$ 的任何有效度序列必须要么恰好包含一个1（$(5,2)$ 的情况），要么根本不包含1（$(4,3)$ 的情况）。特别地，任何包含两个或更多个1的序列都是不可能的。这立即排除了：\n- A的第一个序列 $(4,3,3,2,1,1)$ 和D的两个序列（因为它们都包含至少两个1）。\n\n我们现在验证B和C的实现。\n\n选项B：\n1) $(4,2,2,2,2,2)$（没有1）符合 $(4,3)$ 的情况。取 $B_{1}=C_{3}$ 和 $B_{2}=C_{4}$ 共享割点 $c$。那么 $\\deg_{B_{1}}(c)=2$ 且 $\\deg_{B_{2}}(c)=2$，所以 $\\deg_{G}(c)=4$，而其他每个顶点都恰好在一个圈中，度为2。因此度序列是 $(4,2,2,2,2,2)$，并且 $BC(G)=P_{3}$，有两个块 $C_{3}$ 和 $C_{4}$。\n2) $(3,2,2,2,2,1)$（恰好一个1）符合 $(5,2)$ 的情况。取 $B_{1}=C_{5}$ 和 $B_{2}=K_{2}$ 共享 $c$。在 $C_{5}$ 中，每个顶点的度都是2，所以 $\\deg_{G}(c)=2+1=3$，$K_{2}$ 的非 $c$ 端点的度为1，剩下的四个顶点（来自 $C_{5}$）的度为2。因此度序列是 $(3,2,2,2,2,1)$，并且 $BC(G)=P_{3}$。\n\n选项C：\n1) $(5,3,3,3,2,2)$（没有1）符合 $(4,3)$ 的情况。取 $B_{1}=K_{3}$ 和 $B_{2}=K_{4}$ 共享 $c$。那么 $\\deg_{B_{1}}(c)=2$ 且 $\\deg_{B_{2}}(c)=3$，所以 $\\deg_{G}(c)=5$，$K_{4}$ 的另外三个顶点的度为3，$K_{3}$ 的两个非 $c$ 顶点的度为2。因此度序列是 $(5,3,3,3,2,2)$，并且 $BC(G)=P_{3}$。\n2) $(4,2,2,2,2,2)$ 的实现与B(1)中完全相同，即由 $C_{3}$ 和 $C_{4}$ 共享 $c$。\n\n最后，在每个选项中，两个图具有不同的度序列，因此它们是非同构的。因此，有效的选项恰好是B和C。", "answer": "$$\\boxed{BC}$$", "id": "1538400"}, {"introduction": "块-割点图不仅仅是一个理论概念，它在算法设计中具有强大的实用价值。这个练习[@problem_id:1538420]将展示如何利用块-割点树的结构来高效地解决问题，例如计算网络中任意两点之间的最短距离。通过将一个全局问题分解为在各个块上的一系列局部问题，这种方法清晰地揭示了“分而治之”的思想。", "problem": "在计算机网络的设计与分析中，理解网络拓扑对于评估其鲁棒性和效率至关重要。一个网络可以被建模为一个无权无向图 $G=(V, E)$，其中 $V$ 是服务器（顶点）的集合， $E$ 是直接通信链路（边）的集合。两台服务器 $u$ 和 $v$ 之间的距离 $d_G(u, v)$ 是它们之间最短路径上的链路数量。\n\n某些服务器对于维持网络连通性至关重要。如果移除一个服务器（及其所有相连的链路）会增加网络中连通分量的数量，则该服务器被称为**割点**（或关节点）。网络可以被分解为一组**块**（或双连通分量），其中每个块都是一个自身没有割点的极大子图。图中的任意两个块最多共享一个顶点，如果共享，该顶点必定是原始图的一个割点。\n\n这种分解产生了一种更高层次的结构表示，称为**块-割点树**，记为 $T_G$。$T_G$ 的顶点代表原始图 $G$ 的块和割点。在 $T_G$ 中，一个块顶点 $B$ 和一个割点 $c$ 之间存在一条边，当且仅当服务器 $c$ 是图 $G$ 中块 $B$ 的一部分。对于任何连通图 $G$，其块-割点图 $T_G$ 是一棵树。\n\n考虑一个由编号为 0 到 11 的服务器组成的网络，即 $V=\\{0, 1, ..., 11\\}$。通信链路由以下边集 $E$ 给出：\n$E = \\{(0,1), (0,3), (1,2), (2,3), (2,4), (2,5), (4,5), (4,6), (4,7), (4,8), (6,7), (6,8), (7,8), (8,9), (8,11), (9,10), (9,11), (10,11)\\}$.\n\n你的任务是确定服务器 $u=1$ 和服务器 $v=10$ 之间的通信距离。你需要利用块-割点树的结构来解决这个问题。最终答案必须是一个整数。", "solution": "我们将网络建模为给定的无权无向图 $G=(V,E)$。两个顶点 $u$ 和 $v$ 之间的最短路径距离是 $d_{G}(u,v)$。\n\n关键结构性事实：对于一个连通图 $G$，其块-割点图 $T_{G}$ 是一棵树。如果 $u$ 位于块 $B_{s}$ 中，而 $v$ 位于块 $B_{t}$ 中，那么 $G$ 中任何一条 $u$–$v$ 路径都必须沿着 $T_{G}$ 中 $B_{s}$–$B_{t}$ 路径遍历唯一的块和割点序列。这样的最短路径的长度等于在每个遍历的块内部，进入和离开顶点之间的最短距离之和（这些顶点是该路径上的割点，除非在端点处可能是 $u$ 或 $v$）。\n\n从给定的 $E$ 中识别出 $G$ 的块和割点：\n- $B_{1}=\\{0,1,2,3\\}$，包含边 $(0,1),(1,2),(2,3),(0,3)$（一个4-环），因此是双连通的。\n- $B_{2}=\\{2,4,5\\}$，包含边 $(2,4),(2,5),(4,5)$（一个三角形），因此是双连通的。\n- $B_{3}=\\{4,6,7,8\\}$，这四个顶点之间的所有六条边都存在，即一个四顶点的完全图，因此是双连通的。\n- $B_{4}=\\{8,9,10,11\\}$，包含边 $(8,9),(8,11),(9,10),(9,11),(10,11)$（移除任何单个顶点后，该子图仍保持连通），因此是双连通的。\n\n这些块之间唯一的重叠部分是单个顶点：\n- $B_{1}\\cap B_{2}=\\{2\\}$，\n- $B_{2}\\cap B_{3}=\\{4\\}$，\n- $B_{3}\\cap B_{4}=\\{8\\}$。\n因此，$G$ 的割点是 $\\{2,4,8\\}$。块-割点树 $T_{G}$ 是一条路径：\n$$\nB_{1}\\;-\\;2\\;-\\;B_{2}\\;-\\;4\\;-\\;B_{3}\\;-\\;8\\;-\\;B_{4}.\n$$\n\n我们需要计算 $d_{G}(1,10)$。顶点 $1$ 只在块 $B_{1}$ 中，顶点 $10$ 只在块 $B_{4}$ 中。因此，任何从 $1$ 到 $10$ 的路径都必须遵循 $T_{G}$ 中的上述序列，并且在 $G$ 内部必须：\n- 从 $1$ 在 $B_{1}$ 内部走到割点 $2$，\n- 从 $2$ 在 $B_{2}$ 内部走到割点 $4$，\n- 从 $4$ 在 $B_{3}$ 内部走到割点 $8$，\n- 从 $8$ 在 $B_{4}$ 内部走到 $10$。\n\n计算每个块内的最短距离：\n- 在 $B_{1}$ 中，边集包括 $(1,2)$，所以 $d_{B_{1}}(1,2)=1$。\n- 在 $B_{2}$ 中，边集包括 $(2,4)$，所以 $d_{B_{2}}(2,4)=1$。\n- 在 $B_{3}$ 中，由于它是 $\\{4,6,7,8\\}$ 上的完全图，$d_{B_{3}}(4,8)=1$。\n- 在 $B_{4}$ 中，没有边 $(8,10)$，但存在路径 $8\\!\\to\\!9\\!\\to\\!10$ 和 $8\\!\\to\\!11\\!\\to\\!10$，因此 $d_{B_{4}}(8,10)=2$。\n\n根据沿 $T_{G}$ 中唯一路径的可加性，\n$$\nd_{G}(1,10)=d_{B_{1}}(1,2)+d_{B_{2}}(2,4)+d_{B_{3}}(4,8)+d_{B_{4}}(8,10)=1+1+1+2=5.\n$$\n这个距离是最小的，因为所遍历的割点序列是由 $T_{G}$ 决定的，并且在每个块内我们都使用了必需的进入和离开顶点之间的最短内部连接。\n\n因此，服务器 $1$ 和 $10$ 之间的通信距离是 $5$。", "answer": "$$\\boxed{5}$$", "id": "1538420"}]}