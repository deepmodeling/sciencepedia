{"hands_on_practices": [{"introduction": "在图论中，一项基本技能是在一个给定的图中识别和计数特定类型的子图。这个练习将帮助你巩固对路径图和完全图这些基本图结构的理解。通过在一个完全图 $K_4$ 中系统地寻找所有与三顶点路径图 $P_3$ 同构的子图，你将锻炼自己的组合推理能力，并加深对图论核心概念的掌握 [@problem_id:1525932]。", "problem": "在图论中，图 (graph) 是由一个顶点 (vertices) 集合和一个边 (edges) 集合组成的结构，其中每条边连接一对顶点。如果图 $H$ 的顶点是图 $G$ 顶点的子集，且图 $H$ 的边是图 $G$ 边的子集，则图 $H$ 是图 $G$ 的一个**子图 (subgraph)**。如果两个图具有相同数量的顶点和边，并且它们的顶点之间存在一个保持连接关系（邻接性）的一一对应，则称这两个图是**同构的 (isomorphic)**。\n\n具有 $n$ 个顶点的**完全图 (complete graph)**，记作 $K_n$，是一个简单图，其中每对不同的顶点都由一条唯一的边连接。\n具有 $n$ 个顶点的**路径图 (path graph)**，记作 $P_n$，是一个拥有顶点 $v_1, v_2, \\ldots, v_n$ 的图，其中对于所有 $1 \\le i  n$，顶点 $v_i$ 和 $v_{i+1}$ 之间有边连接。\n\n考虑具有四个顶点的完全图 $K_4$。你的任务是确定 $K_4$ 中与具有三个顶点的路径图 $P_3$ 同构的不同子图的总数。", "solution": "设完全图 $K_4$ 的顶点集为 $V = \\{v_1, v_2, v_3, v_4\\}$。在 $K_4$ 中，每对顶点都由一条边连接。因此，$K_4$ 中的边数为 $\\binom{4}{2} = \\frac{4 \\times 3}{2} = 6$。\n\n我们要寻找 $K_4$ 中与路径图 $P_3$ 同构的子图数量。\n首先，我们来描述一下图 $P_3$ 的特征。一个具有三个顶点的路径图 $P_3$ 由3个顶点和2条边组成。这些边将顶点连接成一条线，例如 $a-b-c$。在这种结构中，一个顶点（“中心点”）的度为2，另外两个顶点（“端点”）的度均为1。\n\n为了计算 $K_4$ 中这类子图的数量，我们可以识别出 $K_4$ 中所有符合此描述的结构。子图由其顶点集和边集定义。因此，一个与 $P_3$ 同构的子图由从 $K_4$ 中选出的、能形成一条路径的3个顶点和2条边所确定。\n\n我们可以使用组合方法系统地解决这个问题。让我们通过首先选择路径的中心顶点来计算形成 $P_3$ 路径的方法数。\n\n**步骤1：选择路径的中心顶点。**\n$P_3$ 路径的形式为“端点 - 中心点 - 端点”。$K_4$ 的4个顶点中的任意一个都可以作为路径的中心顶点。因此，有4种选择中心顶点的方式。我们任意选择一个顶点，比如 $v_c$，作为中心点。\n\n**步骤2：选择路径的两个端点。**\n$P_3$ 的中心顶点必须与另外两个顶点相连，这两个顶点将作为路径的端点。在 $K_4$ 中，每个顶点都与其他所有顶点相连。如果我们选择了 $v_c$ 作为中心点，它与剩下的 $4-1=3$ 个顶点相连。我们需要从这3个顶点中选择2个作为路径的端点。\n\n从 $v_c$ 的3个可用邻居中选择2个端点的方法数由二项式系数 $\\binom{3}{2}$ 给出。\n$$ \\binom{3}{2} = \\frac{3!}{2!(3-2)!} = \\frac{3!}{2!1!} = 3 $$\n所以，对于中心顶点的每一种选择，都有3种方法形成一条 $P_3$ 路径。\n\n**步骤3：计算子图的总数。**\n与 $P_3$ 同构的 $K_4$ 子图总数是步骤1和步骤2中选择数的乘积。\n总数 = (中心顶点的选择数) $\\times$ (为其选择2个端点的方法数)\n$$ \\text{总数} = 4 \\times \\binom{3}{2} = 4 \\times 3 = 12 $$\n\n另外，我们也可以计算 $K_4$ 中相邻边对的数量。\n一条 $P_3$ 路径是由两条共享一个公共顶点的边形成的。\n$K_4$ 中的总边数为 $E = \\binom{4}{2} = 6$。\n$K_4$ 中每个顶点的度为 $3$。\n让我们通过对每个顶点的贡献求和来计算长度为2的路径（与 $P_3$ 同构）的数量。以特定顶点 $v$ 为中心的长度为2的路径数量，就是从与 $v$ 相关联的边中选择2条边的方法数。由于每个顶点的度都是3，所以对于每个顶点，都有 $\\binom{3}{2}=3$ 对这样的边。\n因为有4个顶点，所以路径总数为：\n$$ \\sum_{v \\in V(K_4)} \\binom{\\text{deg}(v)}{2} = 4 \\times \\binom{3}{2} = 4 \\times 3 = 12 $$\n两种方法得到相同的结果。\n\n因此，$K_4$ 中有12个与 $P_3$ 同构的不同子图。", "answer": "$$\\boxed{12}$$", "id": "1525932"}, {"introduction": "匹配是图论中的一个核心概念，它在资源分配、网络设计和调度问题中有着广泛的应用。这个练习通过一个数据“融合”的假想场景，引导你思考如何在路径图 $P_n$ 中找到最大匹配，即选取尽可能多的边，且任意两条边都没有公共顶点 [@problem_id:1525950]。通过解决这个问题，你将学会确定路径图的最大匹配数，并理解“完美匹配”的条件，这对于掌握图优化问题至关重要。", "problem": "一个专用计算系统被设计用于处理一个由 $n$ 个不同数据单元组成的线性序列，标记为 $u_1, u_2, \\dots, u_n$。该系统可以执行一种“融合”操作，该操作可以连接序列中任意两个相邻的数据单元（即，对于任意有效的 $i$，$u_i$ 和 $u_{i+1}$）。每个数据单元最多只能参与一次融合操作。总体目标是对于一个给定长度为 $n$ 的序列，最大化融合操作的总数。\n\n令 $M_n$ 为一个长度为 $n$ 的数据单元序列可能的最大融合操作数。\n如果序列中的每一个数据单元都参与了融合操作，则称之为“完全融合”。据观察，完全融合仅在序列长度 $n$ 是某个特定整数 $k  1$ 的整数倍时才可能发生。\n\n请确定 $M_n$ 关于 $n$ 的通用表达式，并求出整数 $k$ 的值。请将 $M_n$ 的表达式和 $k$ 的值作为你的最终答案。", "solution": "我们将数据单元 $u_{1},\\dots,u_{n}$ 建模为路径图 $P_{n}$ 的顶点，其中一次“融合”对应于选择一条边 $\\{u_{i},u_{i+1}\\}$，且每个顶点最多只能使用一次。这正是在 $P_{n}$ 中寻找一个匹配，目标是最大化匹配的大小。\n\n上界：每次融合恰好使用两个不同的数据单元。如果融合次数为 $M_{n}$，那么所用单元的总数为 $2M_{n}$，这个数不能超过 $n$。因此\n$$\n2M_{n} \\leq n \\quad \\Rightarrow \\quad M_{n} \\leq \\left\\lfloor \\frac{n}{2} \\right\\rfloor,\n$$\n利用 $M_{n}$ 是整数这一事实。\n\n可达性（构造法）：从头开始贪心地配对相邻单元：\n$$\n(u_{1},u_{2}),\\ (u_{3},u_{4}),\\ \\dots.\n$$\n如果 $n$ 是偶数，这将产生 $n/2$ 对不相交的相邻单元对，覆盖所有单元。如果 $n$ 是奇数，这将产生 $(n-1)/2$ 对不相交的相邻单元对，恰好留下一个单元未配对。在任何一种情况下，实现的融合次数都是 $\\left\\lfloor \\frac{n}{2} \\right\\rfloor$。因此，\n$$\nM_{n}=\\left\\lfloor \\frac{n}{2} \\right\\rfloor.\n$$\n\n完全融合准则：一次完全融合会使用所有 $n$ 个单元，所以 $n=2M_{n}$。这当且仅当 $n$ 是偶数时才可能，因为 $n$ 必须是一个整数的两倍。反过来，当 $n$ 是偶数时，上述构造方法会配对所有单元。因此，完全融合发生的条件是当且仅当 $n$ 是 $2$ 的倍数。因此，指定的整数是 $k=2$。", "answer": "$$\\boxed{M_n = \\lfloor \\frac{n}{2} \\rfloor, k=2}$$", "id": "1525950"}, {"introduction": "支配集是图论中另一个重要的优化概念，常用于解决监控网络或设施选址等实际问题。此练习将你置于一个为隧道网络安装应急广播系统的场景中，其核心是计算路径图 $P_n$ 的支配数——即覆盖所有节点所需的最小顶点数 [@problem_id:1525966]。这个问题不仅能让你掌握如何为路径图找到最优支配集，还通过计算一系列任务的总成本，锻炼了你将图论洞察与求和技巧相结合的能力。", "problem": "一个交通管理部门正计划在一系列新建的公路隧道中安装应急广播系统。该项目涉及 $N$ 条隧道，其长度分别为 $1, 2, 3, \\ldots, N$ 公里。为便于安装，每条隧道被建模为由离散的1公里长路段组成的线性序列。对于一条长度为 $n$ 公里的隧道，其路段被标记为 $1, 2, \\ldots, n$。\n\n一个放置在路段 $k$ 的广播设备可以覆盖路段 $k$ 本身，以及相邻的路段 $k-1$ 和 $k+1$（如果它们在隧道边界内）。对于这 $N$ 条隧道中的每一条，工程团队都必须确定所需的最少设备数量，以确保该隧道的每个路段都被覆盖。\n\n您的任务是计算整个项目（包括所有 $N$ 条隧道）所需的广播设备总数。\n\n请用一个关于 $N$ 和变量 $r$ 的封闭形式解析表达式给出您的答案，其中 $r$ 定义为 $N$ 除以 3 的余数（即 $r = N \\pmod 3$）。", "solution": "对于长度为 $n$ 的隧道，单个设备最多覆盖 $3$ 个路段（覆盖定义的 $k-1$、$k$ 和 $k+1$）。因此，任何完全覆盖方案都至少需要 $\\lceil n/3 \\rceil$ 个设备：\n$$\n\\text{下界：}\\quad \\text{最少设备数} \\geq \\lceil n/3 \\rceil.\n$$\n这个下界是可以达到的。考虑 $n=3q$、$n=3q+1$ 和 $n=3q+2$ 的情况：\n- 如果 $n=3q$，将设备放置在路段 $2,5,\\ldots,3q-1$（即位置 $3j-1$，其中 $j=1,\\ldots,q$），共需 $q$ 个设备；每个位于 $3j-1$ 的设备覆盖 $\\{3j-2,3j-1,3j\\}$，从而共同覆盖所有 $1,\\ldots,3q$。\n- 如果 $n=3q+1$，上述 $q$ 个设备覆盖了 $1,\\ldots,3q$；在 $3q+1$ 处增加一个设备即可覆盖剩余的路段，总共需要 $q+1=\\lceil (3q+1)/3 \\rceil$ 个设备。\n- 如果 $n=3q+2$，将设备放置在 $2,5,\\ldots,3q+2$（即 $3j-1$，其中 $j=1,\\ldots,q+1$），需要 $q+1=\\lceil (3q+2)/3 \\rceil$ 个设备，可以覆盖所有路段。\n\n因此，对于长度为 $n$ 的隧道，所需的最少设备数量为 $\\lceil n/3 \\rceil$。\n\n设 $S(N)$ 为长度为 $1,2,\\ldots,N$ 的所有隧道所需的设备总数：\n$$\nS(N)=\\sum_{n=1}^{N} \\left\\lceil \\frac{n}{3} \\right\\rceil.\n$$\n将 $N$ 写成 $N=3m+r$ 的形式，其中 $r=N \\bmod 3 \\in \\{0,1,2\\}$。将各项按三个一组进行分组，对于每个 $k=1,\\ldots,m$，我们有\n$$\n\\left\\lceil \\frac{3k-2}{3} \\right\\rceil=\\left\\lceil \\frac{3k-1}{3} \\right\\rceil=\\left\\lceil \\frac{3k}{3} \\right\\rceil=k,\n$$\n所以第 $k$ 组的贡献为 $3k$。任何剩余的 $r$ 项（对于从 $n=3m+1$ 到 $3m+r$ 的项）每一项的贡献都是 $m+1$。因此，\n$$\nS(N)=\\sum_{k=1}^{m} 3k + r(m+1)=3\\frac{m(m+1)}{2}+r(m+1).\n$$\n代入 $m=\\frac{N-r}{3}$：\n$$\nS(N)=3\\cdot \\frac{\\frac{N-r}{3}\\left(\\frac{N-r}{3}+1\\right)}{2}+r\\left(\\frac{N-r}{3}+1\\right)\n=\\frac{(N-r)(N-r+3)}{6}+\\frac{r(N-r+3)}{3}.\n$$\n通分，使用公分母 $6$：\n$$\nS(N)=\\frac{(N-r)(N-r+3)+2r(N-r+3)}{6}\n=\\frac{(N-r+3)\\big((N-r)+2r\\big)}{6}\n=\\frac{(N-r+3)(N+r)}{6}.\n$$\n因此，用 $N$ 和 $r=N \\bmod 3$ 表示，所需的设备总数为\n$$\nS(N)=\\frac{(N-r+3)(N+r)}{6}.\n$$", "answer": "$$\\boxed{\\frac{(N-r+3)(N+r)}{6}}$$", "id": "1525966"}]}