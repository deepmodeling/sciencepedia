{"hands_on_practices": [{"introduction": "在研究由图的并集形成的新图时，我们首先要掌握其最基本的属性——边数。当两个图在相同的顶点集上进行并集操作时，顶点数保持不变，但最终的边数取决于原始边集的重叠程度。这个练习 [@problem_id:1547913] 提供了一个具体的场景，让你能够应用集合论中的基本容斥原理，来精确计算并集图中的边数。", "problem": "考虑一个图 $G$，它构建在一个包含 $n$ 个顶点的集合上，顶点标记为 $V = \\{v_1, v_2, \\ldots, v_n\\}$，其中 $n$ 是一个满足 $n \\ge 3$ 的整数。图 $G$ 是另外两个图的并集，即一个路图 $P_n$ 和一个星形图 $S_n$，这两个图都定义在同一个顶点集 $V$ 上。\n\n路图 $P_n$ 包含边 $(v_i, v_{i+1})$，其中 $i$ 为从 $1$ 到 $n-1$ 的所有整数。\n星形图 $S_n$ 以顶点 $v_k$ 为中心，其中索引 $k$ 是一个满足条件 $1  k  n$ 的整数。这意味着星形图的中心是路图的“内部”顶点之一，而不是端点。\n\n确定最终生成的图 $G$ 中的总边数。请用一个关于 $n$ 的封闭形式解析表达式来表示你的答案。", "solution": "我们将图 $G$ 的边集视为路图 $P_n$ 和以 $v_k$ 为中心的星形图 $S_n$ 的边集的并集。这两个图都定义在同一个顶点集 $V=\\{v_1, \\ldots, v_n\\}$ 上，且满足 $1  k  n$。路图 $P_n$ 有 $n-1$ 条边。星形图 $S_n$ 也有 $n-1$ 条边。根据容斥原理，并集图的总边数为两个图的边数之和减去它们共同拥有的边数。我们需要找出重叠的边。星形图 $S_n$ 的所有边都连接到中心顶点 $v_k$。路图 $P_n$ 中连接到 $v_k$ 的边是 $\\{v_{k-1}, v_k\\}$ 和 $\\{v_k, v_{k+1}\\}$。由于 $1  k  n$（$v_k$ 是内部顶点），这两条边都存在。因此，路图和星形图恰好有 2 条共同的边。所以，并集图 $G$ 的总边数为 $(n-1) + (n-1) - 2 = 2n-4$。", "answer": "$$\\boxed{2n-4}$$", "id": "1547913"}, {"introduction": "理解了如何计算边数之后，下一步自然是探索图的*结构*会如何变化。这个练习 [@problem_id:1547906] 提出了一个引人入胜的情景：两个本身不包含任何圈（即围长为无穷大）的图，通过并集操作，可以生成一个含有圈的新图。这个实践揭示了并集操作不仅是简单地增加边，更重要的是它能够引入原始图所不具备的全新结构特性，这是图构造与分析中的一个核心思想。", "problem": "考虑顶点集为 $V = \\{1, 2, 3, 4\\}$ 的简单无向图。两个图 $G_1 = (V, E_1)$ 和 $G_2 = (V, E_2)$ 的*并集*定义为图 $G = G_1 \\cup G_2 = (V, E_1 \\cup E_2)$。图的*围长*是其最短圈的长度。如果一个图不含圈，其围长被认为是无穷大。\n\n你的任务是确定下列哪一对边集 $(E_1, E_2)$，它所定义的两个图 $G_1 = (V, E_1)$ 和 $G_2 = (V, E_2)$ 的围长均为无穷大，但它们的并集 $G = G_1 \\cup G_2$ 的围长为 3。\n\nA. $E_1 = \\{\\{1,2\\}, \\{2,3\\}, \\{1,3\\}\\}$, $E_2 = \\{\\{3,4\\}\\}$\n\nB. $E_1 = \\{\\{1,2\\}, \\{2,3\\}\\}$, $E_2 = \\{\\{3,4\\}\\}$\n\nC. $E_1 = \\{\\{1,2\\}, \\{3,4\\}\\}$, $E_2 = \\{\\{1,3\\}, \\{2,3\\}\\}$\n\nD. $E_1 = \\{\\{1,2\\}, \\{3,4\\}\\}$, $E_2 = \\{\\{1,4\\}, \\{2,3\\}\\}$", "solution": "我们需要 $G_1=(V,E_1)$ 和 $G_2=(V,E_2)$ 都是无圈的（围长为无穷大），而它们的并集 $G=(V,E_1 \\cup E_2)$ 必须包含一个三角形（围长为 $3$）。我们逐一检查每个选项。\n\n选项A：$E_1=\\{\\{1,2\\},\\{2,3\\},\\{1,3\\}\\}$ 包含一个3-圈 $1-2-3-1$，所以 $G_1$ 的围长为 $3$，不是无穷大。该选项不满足条件。\n\n选项B：$E_1=\\{\\{1,2\\},\\{2,3\\}\\}$ 是顶点集 $\\{1,2,3\\}$ 上的一条路径，因此是无圈的。$E_2=\\{\\{3,4\\}\\}$ 是一条单独的边，也是无圈的。其并集的边集为 $E=\\{\\{1,2\\},\\{2,3\\},\\{3,4\\}\\}$，这是一条路径 $1-2-3-4$，所以它没有圈，因而围长为无穷大。该选项不满足条件。\n\n选项C：$E_1=\\{\\{1,2\\},\\{3,4\\}\\}$ 是两条不相交的边，因此是无圈的。$E_2=\\{\\{1,3\\},\\{2,3\\}\\}$ 是顶点集 $\\{1,2,3\\}$ 上的一棵树，因此是无圈的。其并集的边集为\n$$\nE=\\{\\{1,2\\},\\{3,4\\},\\{1,3\\},\\{2,3\\}\\}\n$$\n在顶点 $\\{1,2,3\\}$ 中，边 $\\{1,2\\},\\{1,3\\},\\{2,3\\}$ 构成一个 3-圈，所以并集的围长为 $3$。该选项满足要求。\n\n选项D：$E_1=\\{\\{1,2\\},\\{3,4\\}\\}$ 和 $E_2=\\{\\{1,4\\},\\{2,3\\}\\}$ 都是森林。其并集的边集为\n$$\nE=\\{\\{1,2\\},\\{3,4\\},\\{1,4\\},\\{2,3\\}\\}\n$$\n它包含一个4-圈 $1-2-3-4-1$ 但不包含三角形，所以其围长为 $4$，而不是 $3$。该选项不满足条件。\n\n因此，只有选项C满足条件。", "answer": "$$\\boxed{C}$$", "id": "1547906"}, {"introduction": "在前面概念的基础上，这最后一个练习将图的并集操作融入一个更复杂的综合性问题中。它要求你首先构建两个路径图的并集，然后确定一个重要的图不变量：染色数 $\\chi(G)$。这个问题 [@problem_id:1547899] 很好地说明了像并集这样的图运算不仅仅是理论概念，更是用于构建和分析复杂图结构的实用工具，你需要先确定并集图的结构，再应用图着色的知识来解决问题。", "problem": "在图论中，路图 $P_n$ 是一个有 $n$ 个顶点 $v_1, v_2, \\dots, v_n$ 和 $n-1$ 条形如 $\\{v_i, v_{i+1}\\}$（其中 $i=1, \\dots, n-1$）的边的图。两个图 $G_1 = (V_1, E_1)$ 和 $G_2 = (V_2, E_2)$ 的并集是图 $G = (V_1 \\cup V_2, E_1 \\cup E_2)$。\n\n考虑一个包含四个顶点的集合 $V = \\{v_1, v_2, v_3, v_4\\}$。设 $G_1$ 是顶点集 $V$ 上的一个路图，由路径序列 $(v_1, v_2, v_3, v_4)$ 定义。设 $G_2$ 是同一顶点集 $V$ 上的另一个路图，由路径序列 $(v_1, v_3, v_2, v_4)$ 定义。\n\n设 $G$ 是由 $G_1$ 和 $G_2$ 的并集形成的图。求图 $G$ 的色数，记作 $\\chi(G)$，它是对 $G$ 的顶点进行染色所需的最少颜色数，要求任意两个相邻的顶点颜色不同。", "solution": "根据有序顶点 $(v_1, \\dots, v_n)$ 上的路图 $P_n$ 的定义，其边集由连续顶点对组成。对于路径为 $(v_1, v_2, v_3, v_4)$ 的图 $G_1$，其边为\n$$\nE_1=\\{\\{v_1,v_2\\},\\{v_2,v_3\\},\\{v_3,v_4\\}\\}\n$$\n对于路径为 $(v_1, v_3, v_2, v_4)$ 的图 $G_2$，其边为\n$$\nE_2=\\{\\{v_1,v_3\\},\\{v_3,v_2\\},\\{v_2,v_4\\}\\}=\\{\\{v_1,v_3\\},\\{v_2,v_3\\},\\{v_2,v_4\\}\\}\n$$\n并图 $G$ 的顶点集为 $V=\\{v_1,v_2,v_3,v_4\\}$，边集为\n$$\nE=E_1 \\cup E_2=\\{\\{v_1,v_2\\},\\{v_2,v_3\\},\\{v_3,v_4\\},\\{v_1,v_3\\},\\{v_2,v_4\\}\\}\n$$\n这是缺少一条边 $\\{v_1,v_4\\}$ 的图 $K_4$，通常记作 $K_4-e$。\n\n色数的一个下界由团数给出：因为 $\\{v_1,v_2,v_3\\}$ 导出一个 $K_3$，所以我们有 $\\chi(G)\\geq 3$。\n\n为了证明 $\\chi(G)\\leq 3$，我们构造一个显式的3-染色。将颜色 $1,2,3$ 按如下方式分配给顶点：$c(v_2)=1, c(v_3)=2, c(v_1)=3, c(v_4)=3$。\n使用边集 $E$ 检查邻接约束：$v_1$ 与 $v_2$ 和 $v_3$ 相邻，后两者颜色分别为 $1$ 和 $2$，因此 $c(v_1)=3$ 是有效的；$v_4$ 与 $v_2$ 和 $v_3$ 相邻，因此 $c(v_4)=3$ 也是有效的；$v_2$ 和 $v_3$ 相邻且颜色不同。唯一的非边是 $\\{v_1,v_4}\\}$，所以它们可以共享颜色 3。因此，存在一个3-染色。\n\n结合下界和上界，我们得到 $\\chi(G)=3$。", "answer": "$$\\boxed{3}$$", "id": "1547899"}]}