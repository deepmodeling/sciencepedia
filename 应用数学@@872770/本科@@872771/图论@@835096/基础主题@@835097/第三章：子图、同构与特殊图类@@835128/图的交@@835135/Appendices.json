{"hands_on_practices": [{"introduction": "图的交集是图论中的一个基本运算，它帮助我们识别在不同网络结构中共享的公共连接。这个练习提供了一个直接计算两个具体图交集的机会，为更复杂的分析奠定了基础。通过处理两个不同划分下的完全二分图，你将练习如何系统地找出它们的共同边集。[@problem_id:1543394]", "problem": "在设计一个分布式计算系统时，需要将一组六个服务器（标记为 $a, b, c, d, e, f$）互连起来。正在考虑两种不同的网络通信协议，协议1和协议2。每种协议定义了一组服务器（顶点）对之间的直接、双向连接（边）。服务器的总集合是 $V = \\{a, b, c, d, e, f\\}$。\n\n为了解决这个问题，我们将使用以下标准的图论定义：\n- 一个图 $G=(V, E)$ 由一个顶点集 $V$ 和一个边集 $E$ 组成，其中每条边是不同顶点的一个无序对。\n- 一个图如果是**完全二分图**（记作 $K_{m,n}$），则其顶点集可以被划分为两个不相交的集合，比如说 $P_1$（有 $m$ 个顶点）和 $P_2$（有 $n$ 个顶点），使得两个顶点之间存在一条边当且仅当一个顶点在 $P_1$ 中，另一个在 $P_2$ 中。\n- 两个基于同一顶点集 $V$ 的图 $G_1 = (V, E_1)$ 和 $G_2 = (V, E_2)$ 的**交集**是图 $G_{int} = (V, E_1 \\cap E_2)$。$G_{int}$ 的边恰好是那些同时存在于 $G_1$ 和 $G_2$ 中的边。\n\n由协议1定义的网络，我们称之为图 $G_1$，是一个完全二分图 $K_{3,3}$。顶点集 $V$ 被划分为两个集合 $A_1 = \\{a, b, c\\}$ 和 $B_1 = \\{d, e, f\\}$。\n\n由协议2定义的网络，我们称之为图 $G_2$，是一个完全二分图 $K_{2,4}$。顶点集 $V$ 被划分为两个集合 $A_2 = \\{a, d\\}$ 和 $B_2 = \\{b, c, e, f\\}$。\n\n您的任务是确定两种协议共有的连接总数。换句话说，求交集图 $G_1 \\cap G_2$ 中的边数。", "solution": "我们将二部划分标记如下：对于 $G_{1}$，$A_{1}=\\{a,b,c\\}$ 和 $B_{1}=\\{d,e,f\\}$；对于 $G_{2}$，$A_{2}=\\{a,d\\}$ 和 $B_{2}=\\{b,c,e,f\\}$。一条边在 $G_{1}\\cap G_{2}$ 中当且仅当它连接 $A_{1}$ 中的一个顶点和 $B_{1}$ 中的一个顶点（这是 $G_{1}$ 的条件），同时连接 $A_{2}$ 中的一个顶点和 $B_{2}$ 中的一个顶点（这是 $G_{2}$ 的条件）。对于无序对，这恰好通过两种互斥的方式发生：\n- 一个端点在 $A_{1}\\cap A_{2}$ 中，另一个端点在 $B_{1}\\cap B_{2}$ 中，\n- 或者一个端点在 $A_{1}\\cap B_{2}$ 中，另一个端点在 $B_{1}\\cap A_{2}$ 中。\n因此，公共边的数量为\n$$\n|E(G_{1}\\cap G_{2})|=|A_{1}\\cap A_{2}|\\cdot|B_{1}\\cap B_{2}|+|A_{1}\\cap B_{2}|\\cdot|B_{1}\\cap A_{2}|.\n$$\n计算这些交集：\n$$\nA_{1}\\cap A_{2}=\\{a\\},\\quad B_{1}\\cap B_{2}=\\{e,f\\},\\quad A_{1}\\cap B_{2}=\\{b,c\\},\\quad B_{1}\\cap A_{2}=\\{d\\}.\n$$\n因此\n$$\n|E(G_{1}\\cap G_{2})|=1\\cdot 2+2\\cdot 1=4.\n$$\n直接枚举可以证实这一点：公共边是 $\\{a,e\\},\\{a,f\\},\\{b,d\\},\\{c,d\\}$，总共有 $4$ 条。", "answer": "$$\\boxed{4}$$", "id": "1543394"}, {"introduction": "图的性质在交集运算下会如何变化？这个练习将引导你探索一个有趣且违反直觉的现象。你将分析两个本身具有很强连通性（2-顶点连通）的图，并发现它们的交集图可能反而变得“脆弱”，出现了一个割点。这个例子深刻地说明了图的交集可能不会继承原图的良好性质。[@problem_id:1543451]", "problem": "在图论中，我们可以根据图的结构和连通性定义若干属性。如果一个图有超过 $k$ 个顶点，并且在移除少于 $k$ 个顶点后仍然保持连通，则称该图是 **$k$-顶点连通**的。**割点**（cut vertex），也称为关节点（articulation point），是图中的一个顶点，移除该顶点会增加图的连通分量的数量。共享相同顶点集 $V$ 的两个图 $G_1 = (V, E_1)$ 和 $G_2 = (V, E_2)$ 的**交**（intersection）定义为图 $G_{int} = (V, E_1 \\cap E_2)$。\n\n考虑顶点集 $V = \\{v_1, v_2, v_3, v_4, v_5\\}$。下列哪对图 $(G_1, G_2)$ 满足以下所有三个条件？\n1.  $G_1$ 是 2-顶点连通的。\n2.  $G_2$ 是 2-顶点连通的。\n3.  交图 $G_1 \\cap G_2$ 至少有一个割点。\n\nA.\n$G_1$ 的边集为 $E_1 = \\{(v_1,v_2), (v_2,v_3), (v_3,v_1), (v_3,v_4), (v_4,v_5), (v_5,v_3), (v_1,v_4)\\}$。\n$G_2$ 的边集为 $E_2 = \\{(v_1,v_2), (v_2,v_3), (v_3,v_1), (v_3,v_4), (v_4,v_5), (v_5,v_3), (v_2,v_5)\\}$。\n\nB.\n$G_1$ 的边集为 $E_1 = \\{(v_1,v_2), (v_2,v_3), (v_3,v_4), (v_4,v_5), (v_5,v_1)\\}$。\n$G_2$ 的边集为 $E_2 = \\{(v_1,v_2), (v_2,v_3), (v_3,v_4), (v_4,v_5), (v_5,v_1)\\}$。\n\nC.\n$G_1$ 的边集为 $E_1 = \\{(v_1,v_2), (v_2,v_3), (v_3,v_1), (v_3,v_4), (v_4,v_5), (v_5,v_3)\\}$。\n$G_2$ 的边集 $E_2$ 对应于顶点集 $V$ 上的完全图 $K_5$。\n\nD.\n$G_1$ 的边集为 $E_1 = \\{(v_1,v_2), (v_2,v_3), (v_3,v_4), (v_4,v_1), (v_1,v_3), (v_2,v_4), (v_5,v_1), (v_5,v_2)\\}$。\n$G_2$ 的边集为 $E_2 = \\{(v_1,v_2), (v_2,v_3), (v_3,v_4), (v_4,v_1), (v_5,v_3), (v_5,v_4)\\}$。", "solution": "我们使用给定的定义：\n- 如果一个图有超过2个顶点，并且在移除任何单个顶点后仍然保持连通，则该图是 2-顶点连通的。\n- 割点是这样一个顶点，移除它会增加连通分量的数量。\n- $G_1=(V,E_1)$ 和 $G_2=(V,E_2)$ 的交是 $(V,E_1\\cap E_2)$。\n\n我们逐一检验每个选项。\n\n选项 B：\n- $G_1$ 和 $G_2$ 都是 5-圈 $C_5$，它是 2-顶点连通的，因为移除任何一个顶点都会留下一个 4 个顶点的路径，而路径是连通的。\n- $G_1\\cap G_2=C_5$。圈没有割点，因为移除任何单个顶点都会留下一个连通的路径。条件 3 不满足。因此 B 无效。\n\n选项 C：\n- $G_2=K_5$ 是 4-顶点连通的，因此也是 2-顶点连通的。\n- $G_1$ 的边集为 $\\{(v_1,v_2),(v_2,v_3),(v_3,v_1),(v_3,v_4),(v_4,v_5),(v_5,v_3)\\}$，这是两个仅共享顶点 $v_3$ 的三角形 $v_1v_2v_3$ 和 $v_3v_4v_5$。移除 $v_3$ 会使图断开（一个分量在 $\\{v_1,v_2\\}$ 上，有边 $(v_1,v_2)$；另一个分量在 $\\{v_4,v_5\\}$ 上，有边 $(v_4,v_5)$）。因此 $G_1$ 不是 2-顶点连通的。因此 C 无效。\n\n选项 D：\n- $G_1$ 包含 $\\{v_1,v_2,v_3,v_4\\}$ 上的 $K_4$ 以及边 $(v_5,v_1)$ 和 $(v_5,v_2)$。移除任何单个顶点都会留下一个连通图：\n  - 移除 $v_1$：$\\{v_2,v_3,v_4\\}$ 导出 $K_3$ 且 $v_5$ 与 $v_2$ 相邻，因此是连通的。\n  - 移除 $v_2$：与前一种情况对称。\n  - 移除 $v_3$ 或 $v_4$：$\\{v_1,v_2,v_4\\}$ 或 $\\{v_1,v_2,v_3\\}$ 导出 $K_3$，且 $v_5$ 仍然与 $v_1,v_2$ 相邻，因此是连通的。\n  - 移除 $v_5$：$K_4$ 保持连通。\n  因此 $G_1$ 是 2-顶点连通的。\n- $G_2$ 的边集为 $\\{(v_1,v_2),(v_2,v_3),(v_3,v_4),(v_4,v_1),(v_5,v_3),(v_5,v_4)\\}$。移除任何单个顶点都使其保持连通（对 $v_1,v_2,v_3,v_4,v_5$ 直接验证表明余下的图是连通的），所以 $G_2$ 是 2-顶点连通的。\n- 交集：$E_1\\cap E_2=\\{(v_1,v_2),(v_2,v_3),(v_3,v_4),(v_4,v_1)\\}$，即在 $\\{v_1,v_2,v_3,v_4\\}$ 上的 4-圈，而 $v_5$ 是孤立的。这个图最初有两个连通分量；移除任何 $i\\in\\{1,2,3,4\\}$ 的 $v_i$ 会得到一个三个顶点的路径加上孤立的 $v_5$，仍然是两个连通分量；移除 $v_5$ 会减少连通分量的数量。因此没有移除操作会增加连通分量的数量，所以没有割点。条件 3 不满足。因此 D 无效。\n\n选项 A：\n- $G_1$ 的边集为 $E_1=\\{(v_1,v_2),(v_2,v_3),(v_3,v_1),(v_3,v_4),(v_4,v_5),(v_5,v_3),(v_1,v_4)\\}$。通过移除每个顶点来检查 2-顶点连通性：\n  - 移除 $v_1$：剩下的边 $\\{(v_2,v_3),(v_3,v_4),(v_4,v_5),(v_5,v_3)\\}$ 构成一个连通图（三角形 $v_3v_4v_5$ 加上与 $v_3$ 相连的 $v_2$）。\n  - 移除 $v_2$：剩下的边 $\\{(v_1,v_3),(v_3,v_4),(v_4,v_5),(v_5,v_3),(v_1,v_4)\\}$ 导出一个连通图。\n  - 移除 $v_3$：剩下的边 $\\{(v_1,v_2),(v_1,v_4),(v_4,v_5)\\}$ 通过 $v_1$–$v_4$–$v_5$ 和 $v_1$–$v_2$ 连接所有四个顶点。\n  - 移除 $v_4$：剩下的边 $\\{(v_1,v_2),(v_2,v_3),(v_3,v_1),(v_5,v_3)\\}$ 是连通的（三角形 $v_1v_2v_3$ 加上与 $v_3$ 相连的 $v_5$）。\n  - 移除 $v_5$：剩下的边 $\\{(v_1,v_2),(v_2,v_3),(v_3,v_1),(v_3,v_4),(v_1,v_4)\\}$ 是连通的。\n  因此 $G_1$ 是 2-顶点连通的。\n- $G_2$ 的边集为 $E_2=\\{(v_1,v_2),(v_2,v_3),(v_3,v_1),(v_3,v_4),(v_4,v_5),(v_5,v_3),(v_2,v_5)\\}$。移除每个顶点：\n  - 移除 $v_1$：剩下的边 $\\{(v_2,v_3),(v_3,v_4),(v_4,v_5),(v_5,v_3),(v_2,v_5)\\}$ 连接所有顶点。\n  - 移除 $v_2$：剩下的边 $\\{(v_1,v_3),(v_3,v_4),(v_4,v_5),(v_5,v_3)\\}$ 连接所有顶点。\n  - 移除 $v_3$：剩下的边 $\\{(v_1,v_2),(v_2,v_5),(v_4,v_5)\\}$ 通过 $v_1$–$v_2$–$v_5$–$v_4$ 连接所有顶点。\n  - 移除 $v_4$：剩下的边 $\\{(v_1,v_2),(v_2,v_3),(v_3,v_1),(v_5,v_3),(v_2,v_5)\\}$ 连接所有顶点。\n  - 移除 $v_5$：剩下的边 $\\{(v_1,v_2),(v_2,v_3),(v_3,v_1),(v_3,v_4)\\}$ 连接所有顶点。\n  因此 $G_2$ 是 2-顶点连通的。\n- 交集：$E_1\\cap E_2=\\{(v_1,v_2),(v_2,v_3),(v_3,v_1),(v_3,v_4),(v_4,v_5),(v_5,v_3)\\}$，这是两个共享顶点 $v_3$ 的三角形 $v_1v_2v_3$ 和 $v_3v_4v_5$。这个图是连通的，移除 $v_3$ 后会留下两个连通分量，其边集分别为 $\\{(v_1,v_2)\\}$ 和 $\\{(v_4,v_5)\\}$，增加了连通分量的数量。因此 $v_3$ 是一个割点，所以条件 3 成立。\n\n因此，只有选项 A 满足所有三个条件。", "answer": "$$\\boxed{A}$$", "id": "1543451"}, {"introduction": "除了计算和分析性质，图的交集也引出了有趣的极值问题。在这个挑战中，你需要在满足特定路径存在性约束的条件下，构建两个图，并最大化它们交集的边数。这个问题将促使你思考在给定限制下，什么样的图结构能够包含最多的公共边，从而将交集的概念与图的结构优化联系起来。[@problem_id:1543428]", "problem": "在图论中，简单图是一个没有自环或相同两顶点之间有多条边的无向图。在同一顶点集 $V$ 上的两个图 $G_1 = (V, E_1)$ 和 $G_2 = (V, E_2)$ 的交是图 $G_{int} = (V, E_1 \\cap E_2)$。长度为 $k$ 的路径定义为一个由 $k+1$ 个不同顶点（例如 $v_0, v_1, \\dots, v_k$）组成的序列，使得对于所有 $i=1, \\dots, k$，$\\{v_{i-1}, v_i\\}$ 都是一条边。\n\n考虑两个简单图 $G_1$ 和 $G_2$，它们都定义在一个包含6个顶点的公共顶点集 $V$ 上。这两个图的构造满足以下标准：\n1.  图 $G_1$ 至少包含一条长度为4的路径。\n2.  图 $G_2$ 也至少包含一条长度为4的路径。\n3.  它们的交图 $G_{int}$ 不包含长度为3的路径。\n\n交图 $G_{int}$ 中可能的最大边数是多少？", "solution": "设 $V$ 是一个包含 $6$ 个顶点的集合，并设 $G_{1}=(V,E_{1})$，$G_{2}=(V,E_{2})$，其交为 $G_{\\mathrm{int}}=(V,E_{1}\\cap E_{2})$。约束条件是：\n- $G_{1}$ 包含一条长度为 $4$ 的路径（一个 $P_{5}$），\n- $G_{2}$ 包含一条长度为 $4$ 的路径，\n- $G_{\\mathrm{int}}$ 不包含长度为 $3$ 的路径（没有作为子图的 $P_{4}$）。\n\n为了最大化 $|E_{1}\\cap E_{2}|$，我们必须最大化一个6顶点图中的边数，该图不包含 $P_{4}$ 作为（不必然是导出的）子图。我们分析没有 $P_{4}$ 的图的结构。\n\n断言：如果一个连通图 $H$ 至少有 $4$ 个顶点且不包含 $P_{4}$ 作为子图，那么 $H$ 是某个 $t\\geq 3$ 的星形图 $K_{1,t}$。\n证明：设 $H$ 是一个连通图，满足 $|V(H)|\\geq 4$ 且没有 $P_{4}$。如果 $H$ 包含一个圈，则它必须包含一个 $C_{3}$ 或更大的圈。一个 $C_{4}$ 或更大的圈包含一个 $P_{4}$，因此唯一允许的圈是 $C_{3}$。但是一个三角形加上任何连接到该分量的额外顶点都会产生一个 $P_{4}$：如果 $abc$ 是一个三角形，而 $x$ 是另一个顶点，与（比如说）$a$ 邻接，那么 $x-a-b-c$ 使用边 $xa$、$ab$、$bc$，构成一个 $P_{4}$，这与假设矛盾。因此，任何至少有4个顶点的连通分量都不能包含圈，所以它是一棵树。一棵至少有4个顶点的非星形树包含一条4个顶点的路径，即一个 $P_{4}$，因为任何非星形树的最长路径长度至少为3条边。因此，唯一至少有4个顶点且没有 $P_{4}$ 的连通图是星形图 $K_{1,t}$。\n\n根据这个特征描述，任何在6个顶点上的无 $P_{4}$ 图都是不相交的连通分量的并集，其中每个分量是以下之一：\n- 一个星形图 $K_{1,t}$，其中 $t\\geq 1$（当 $t=1$ 时为一条边，当 $t=2$ 时为一个3顶点的路径），\n- 一个三角形 $K_{3}$，\n- 一个孤立顶点。\n\n对于每个 $n$ 顶点的分量，不产生 $P_{4}$ 的最大可能边数是：\n- 当 $n=3$ 时为 $3$（三角形 $K_{3}$），\n- 当 $n=2$ 时为 $1$（一条边），\n- 当 $n=1$ 时为 $0$（孤立顶点），\n- 对于 $t+1$ 个顶点上的星形图 $K_{1,t}$ 为 $t$。\n\n我们在这些约束下最大化6个顶点上的总边数。最佳的组合是两个不相交的三角形，它使用 $3+3=6$ 个顶点，有 $3+3=6$ 条边，并且是无 $P_{4}$ 的，因为任何路径都局限于一个三角形内，而三角形中没有长度为3的路径。任何6个顶点上的连通且无 $P_{4}$ 的分量必须是星形图 $K_{1,5}$，它有5条边，数量严格更少。将6个顶点划分为其他大小的分量组合，最多产生5条边：\n- $3+2+1$ 给出 $3+1=4$ 条边，\n- $4+1+1$ 最多给出 $3$ 或 $4$ 条边，这取决于这个4顶点分量是否为 $K_{1,3}$，\n- $5+1$ 最多给出 $5$ 条边（$K_{1,4}$），\n- $6$ 最多给出 $5$ 条边（$K_{1,5}$）。\n\n因此，一个6顶点无 $P_{4}$ 图的最大可能边数为6，通过两个不相交三角形的并集实现。\n\n剩下的工作是检查其是否满足对 $G_{1}$ 和 $G_{2}$ 的附加要求。设 $V=\\{1,2,3,4,5,6\\}$ 并令\n$$\nE_{1}\\cap E_{2}=\\{\\{1,2\\},\\{2,3\\},\\{3,1\\},\\{4,5\\},\\{5,6\\},\\{6,4\\}\\},\n$$\n即两个不相交的三角形 $\\{1,2,3\\}$ 和 $\\{4,5,6\\}$。定义\n$$\nE_{1}= (E_{1}\\cap E_{2}) \\cup \\{\\{3,4\\}\\}, \\quad E_{2}= (E_{1}\\cap E_{2}) \\cup \\{\\{1,6\\}\\}.\n$$\n那么 $G_{\\mathrm{int}}$ 恰好有 $6$ 条边并且是无 $P_{4}$ 的。此外，$G_{1}$ 包含路径 $1-2-3-4-5$（边为 $\\{1,2\\}$, $\\{2,3\\}$, $\\{3,4\\}$, $\\{4,5\\}$），而 $G_{2}$ 包含路径 $3-2-1-6-5$（边为 $\\{3,2\\}$, $\\{2,1\\}$, $\\{1,6\\}$, $\\{6,5\\}$），因此 $G_{1}$ 和 $G_{2}$ 都包含长度为4的路径。所以，上界6是可以达到的。\n\n因此，$G_{\\mathrm{int}}$ 中可能的最大边数是 $6$。", "answer": "$$\\boxed{6}$$", "id": "1543428"}]}