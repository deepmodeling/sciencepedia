{"hands_on_practices": [{"introduction": "在处理任何类型的图时，首要任务是能够理解其表示形式并进行基本遍历。本练习将通过一个邻接矩阵来定义一个混合图，该矩阵同时编码了有向弧和无向边。通过解决这个问题，您将练习从抽象的数学表示转换到具体的图结构，并应用寻找最短路径的基本思想，这是网络分析中的一项核心技能。[@problem_id:1522668]", "problem": "一个混合图 $G$ 由一个顶点集合 $V$、一个有向边（称为弧）集合和一个无向边集合组成。考虑一个顶点集合为 $V = \\{1, 2, 3, 4, 5\\}$ 的混合图。该图的连通性由一个 $5 \\times 5$ 的矩阵 $M$ 描述，其中第 $i$ 行第 $j$ 列的元素 $M_{ij}$ 定义如下：\n- 如果存在从顶点 $i$ 到顶点 $j$ 的有向弧，则 $M_{ij} = 1$。\n- 如果顶点 $i$ 和顶点 $j$ 之间存在无向边，则 $M_{ij} = 2$。\n- 如果从 $i$ 到 $j$ 没有上述类型的直接连接，则 $M_{ij} = 0$。\n\n矩阵 $M$ 如下所示：\n$$\nM = \\begin{pmatrix}\n0  1  2  0  1 \\\\\n0  0  1  2  0 \\\\\n2  0  0  1  1 \\\\\n0  2  0  0  2 \\\\\n0  0  1  2  0\n\\end{pmatrix}\n$$\n图中的*混合游走*是一个顶点序列 $v_0, v_1, \\dots, v_k$，使得对于从 $v_i$ 到 $v_{i+1}$ 的每一步（其中 $0 \\le i  k$），要么存在一条有向弧 $(v_i, v_{i+1})$，要么存在一条无向边 $\\{v_i, v_{i+1}\\}$。这种游走的*长度*定义为 $k$，即步数。\n\n从顶点 1 到顶点 4 的最短混合游走的长度是多少？", "solution": "在混合游走中，当且仅当 $M_{ij}\\in\\{1,2\\}$ 时，才允许从顶点 $i$ 到顶点 $j$ 的一步。从顶点 $1$ 出发，一步可达的邻居是\n$$\nN_{1}=\\{j\\in V:\\,M_{1j}\\in\\{1,2\\}\\}=\\{2,3,5\\}.\n$$\n因为 $M_{14}=0$，所以 $4\\notin N_{1}$，因此任何从 $1$ 到 $4$ 的混合游走的长度至少为 $2$。\n\n要检查是否存在长度为 $2$ 的游走，我们需要找到某个 $x\\in V$，使得 $M_{1x}\\in\\{1,2\\}$ 且 $M_{x4}\\in\\{1,2\\}$。测试 $x\\in N_{1}$：\n- 对于 $x=2$：$M_{12}=1$ 且 $M_{24}=2$，所以 $1\\to 2\\to 4$ 是有效的。\n- 对于 $x=3$：$M_{13}=2$ 且 $M_{34}=1$，所以 $1\\to 3\\to 4$ 是有效的。\n- 对于 $x=5$：$M_{15}=1$ 且 $M_{54}=2$，所以 $1\\to 5\\to 4$ 是有效的。\n\n因此，存在长度为 $2$ 的混合游走，并且由于不存在长度为 $1$ 的游走，所以最短长度是 $2$。", "answer": "$$\\boxed{2}$$", "id": "1522668"}, {"introduction": "理论上，我们可以为图的顶点和边设定任意规则，但这些规则在数学上是否自洽？本练习提出了一个看似合理的设计规范，要求每个节点都满足特定的有向和无向连接度。通过分析这些约束，您将有机会应用如图论基本握手引理等核心原理，来判断一个给定的图结构是否可能存在，从而培养严谨的逻辑推理能力。[@problem_id:1522651]", "problem": "一位系统架构师正在为一个由5个服务器节点组成的小型专用网络起草规范。节点之间的连接可以是单向的（有向边或弧），也可以是双向的（无向边）。该设计必须遵守一套严格的关于容错和数据流管理的规则。\n\n规则如下：\n1.  每个服务器节点必须有且仅有一条到另一个服务器节点的出向有向连接。\n2.  每个服务器节点必须有且仅有一条来自另一个服务器节点的入向有向连接。\n3.  每个服务器节点必须有且仅有一条与另一个服务器节点的双向连接。\n\n假设服务器由顶点表示，连接由混合图中的边表示。以下哪个陈述正确描述了该网络的一种可能结构？\n\nA. 有向连接必须形成一个5-环，无向连接必须形成一个覆盖所有5个节点的单一路径图。\n\nB. 有向连接必须形成一个5-环，无向连接必须形成一个4-环，且有一个节点是孤立的（没有任何无向连接）。\n\nC. 这样的网络结构是不可能构建的。\n\nD. 有向连接可以形成任何配置，但无向连接必须形成一个完美匹配。\n\nE. 有向连接必须形成一个5-环，无向连接必须由两条独立的边组成，留下一个节点没有无向连接。", "solution": "设5个服务器节点的集合为一个混合图$G$的顶点集$V$，其中$|V|=5$。连接由一个有向边（弧）集$A$和一个无向边集$E$表示。\n\n首先，我们来分析有向边的约束条件。\n- 规则1指出，每个服务器必须有且仅有一条出向的有向连接。用图论的术语来说，这意味着每个顶点$v$的出度为1，即对于所有$v \\in V$，$d^+(v) = 1$。\n- 规则2指出，每个服务器必须有且仅有一条入向的有向连接。这意味着每个顶点$v$的入度为1，即对于所有$v \\in V$，$d^-(v) = 1$。\n\n一个每个顶点的入度和出度都为1的有向图，已知其结构是不相交的有向环的并集。由于有5个顶点，有向子图唯一可能的配置就是一个长度为5的有向环（一个5-环）。这告诉我们，网络的有向部分在结构上是确定的。\n\n接下来，我们来分析无向边的约束条件。\n- 规则3指出，每个服务器节点必须属于且仅属于一个双向连接。用图论的术语来说，这意味着无向子图中每个顶点$v$的度为1。设$d_u(v)$表示顶点$v$在无向边下的度。该规则表明，对于所有$v \\in V$，$d_u(v) = 1$。\n\n现在，我们考虑无向子图的性质。无向图的握手引理（或度数和公式）指出，所有顶点的度数之和等于图中边数的两倍。\n$$ \\sum_{v \\in V} d_u(v) = 2|E| $$\n根据规则3，5个顶点中每个顶点的度都为1。所以，度数之和为：\n$$ \\sum_{v \\in V} d_u(v) = 1 + 1 + 1 + 1 + 1 = 5 $$\n应用握手引理，我们得到方程：\n$$ 5 = 2|E| $$\n这个方程要求无向边的数量$|E|$为$2.5$。然而，图中的边数必须是一个非负整数。不可能有$2.5$条边。因此，这里存在一个矛盾。一个有5个顶点的无向图不可能每个顶点的度都为1，因为度数之和将为5，这是一个奇数。任何无向图的度数之和都必须是偶数。\n\n由于对于一个5个节点的网络来说，规则3是不可能满足的，所以由这三条规则描述的整个网络结构是不可能构建的。\n\n让我们简要评估一下其他选项：\n- A: 一个5个顶点的路径图有两个度为1的顶点和三个度为2的顶点。这违反了规则3。\n- B和E: 在这些情况下，有一个顶点的无向度为0，这违反了规则3。\n- D: 图上的完美匹配是一组边，其中每个顶点都恰好是一条边的端点。这只有在顶点数为偶数时才可能。由于我们有5个顶点，所以完美匹配是不可能的。\n\n因此，唯一正确的结论是该网络无法构建。", "answer": "$$\\boxed{C}$$", "id": "1522651"}, {"introduction": "图论的魅力不仅在于分析现有结构，还在于创造性地扩展概念。本练习将引导您探索一个新定义的“二分混合图”结构，这是一个将传统二分图思想与混合图特性相结合的假设概念。您的任务是在这个新框架内，通过最大化连接总数来探索其结构潜能，这有助于培养在面对全新抽象概念时进行分析和优化的能力。[@problem_id:1522672]", "problem": "一个混合图 $G = (V, E, A)$ 由一个顶点集 $V$、一个无向边集 $E$ 和一个有向弧集 $A$ 组成。\n\n我们定义一种特殊类型的混合图，称为**二分混合图**。一个混合图 $G$ 是二分混合图，如果其顶点集 $V$ 可以被划分为两个不相交的子集 $U$ 和 $W$（即 $U \\cup W = V$ 且 $U \\cap W = \\emptyset$），使得满足以下条件：\n1. $E$ 中的每条无向边都连接 $U$ 中的一个顶点和 $W$ 中的一个顶点。\n2. $A$ 中的所有有向弧必须属于以下类别之一：\n    a. 两个端点都在 $U$ 中的弧。\n    b. 两个端点都在 $W$ 中的弧。\n    c. 从 $U$ 中的顶点指向 $W$ 中的顶点的弧。\n（请注意，此定义明确禁止任何从 $W$ 中的顶点到 $U$ 中的顶点的弧。）\n\n考虑一个包含 $N$ 个顶点的集合。要在这些顶点上构建一个二分混合图。图中连接的总数定义为无向边的数量与有向弧的数量之和，即 $|E| + |A|$。\n\n对于这样一个包含 $N$ 个顶点的图，其可能的连接总数的最大值是多少？请用 $N$ 的函数表示你的答案。", "solution": "设 $V$ 被划分为 $U$ 和 $W$，其中 $|U|=u$，$|W|=w$，且 $u+w=N$。根据二分混合图的定义：\n\n- 无向边只允许在 $U$ 和 $W$ 之间存在，因此最多可以包含 $uw$ 条无向边（$U$ 和 $W$ 之间的完全二分图）。\n- 有向弧允许存在于：\n  - $U$ 内部，对于每个无序对，双向均可，最多产生 $u(u-1)$ 条弧（对应 $U$ 中每个不同顶点的有序对），\n  - $W$ 内部，对于每个无序对，双向均可，最多产生 $w(w-1)$ 条弧，\n  - 从 $U$ 到 $W$，最多产生 $uw$ 条弧（对于每个有序对 $(u,w)$，其中 $u\\in U$, $w\\in W$）。\n  - 禁止从 $W$ 到 $U$ 的弧。\n\n如果我们包含所有允许的连接，连接总数为\n$$\nT(u,w)=\\underbrace{uw}_{\\text{无向边}}+\\underbrace{u(u-1)+w(w-1)+uw}_{\\text{有向弧}}。\n$$\n化简得，\n$$\nT(u,w)=u(u-1)+w(w-1)+2uw=(u^{2}-u)+(w^{2}-w)+2uw=(u+w)^{2}-(u+w)=N^{2}-N.\n$$\n因此，对于任意划分 $(U,W)$，取所有允许的连接，得到的总数为 $T=N(N-1)$。\n\n为了证明这是最大值，我们观察任意一对不同的顶点：\n- 如果两个顶点都在同一部分，最多可能有两个连接（两个方向相反的有向弧）。\n- 如果两个顶点在不同的部分，最多可能有两个连接（一条无向边加上唯一允许的从 $U$ 到 $W$ 的有向弧）。\n\n因此，每对无序顶点最多贡献 $2$ 个连接，而总共有 $\\binom{N}{2}$ 对无序顶点，从而得出上限\n$$\nT\\leq 2\\binom{N}{2}=N(N-1).\n$$\n由于上述构造达到了这个上限，因此可能的最大连接总数是 $N(N-1)$。", "answer": "$$\\boxed{N(N-1)}$$", "id": "1522672"}]}