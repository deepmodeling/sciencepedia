{"hands_on_practices": [{"introduction": "图论中的一些基本结论，如握手引理（奇数度顶点的数量为偶数），为判断一个度序列是否可图提供了必要条件，但这些条件并非充分。本练习将挑战你使用 Havel-Hakimi 算法来证明这一点，你需要在一个满足必要条件但本身并不可图的序列中找到一个反例。这个过程将加深你对算法必要性的理解 [@problem_id:1542590]。", "problem": "一个非负整数序列 $S = (d_1, d_2, \\ldots, d_n)$ 如果是某个具有 $n$ 个顶点的简单图的度序列，则称其为**可图的** (graphic)。根据握手引理，一个序列成为可图序列的一个众所周知的必要条件是，它必须包含偶数个奇数。然而，这个条件并非充分条件。\n\n考虑以下论断：“任何包含偶数个奇数的非负整数序列都是可图的。”\n\n你的任务是确定下列哪个序列是该论断的反例。一个反例必须满足必要条件（即含有偶数个奇数），但本身不能是可图序列。为了确认你的答案，你应该使用 Havel-Hakimi 算法来验证其非可图性。\n\n从以下选项中选择正确的序列。\n\nA. $(3, 2, 2, 2, 1)$\n\nB. $(3, 3, 1, 1)$\n\nC. $(4, 3, 3, 2, 2)$\n\nD. $(2, 2, 1, 1)$\n\nE. $(5, 1, 1, 1, 1, 1)$", "solution": "一个序列 $S=(d_{1},\\ldots,d_{n})$ 是可图的，其必要条件是它有偶数个奇数项（根据握手引理）。一个反例必须满足这个必要条件，但不能通过 Havel-Hakimi 测试。Havel-Hakimi 算法的步骤如下：重复地将序列按非递增顺序排序，移除最大的项 $d$，并从接下来的 $d$ 个项中各减去1；如果在此过程中出现任何负项，则该序列不是可图的；如果过程最终得到一个全为零的序列，则它是可图的。\n\n检查每个选项：\n\nA. $(3,2,2,2,1)$ 有两个奇数项。Havel-Hakimi 算法：\n$$(3,2,2,2,1)\\to(1,1,1,1)\\to(1,1,0)\\to(0,0)。$$\n可图。\n\nB. $(3,3,1,1)$ 有四个奇数项。Havel-Hakimi 算法：\n$$(3,3,1,1)\\to(2,0,0)。$$\n现在移除 $2$ 并从接下来的两项中减去1：\n$$(2,0,0)\\to(-1,-1)，$$\n这产生了负项。因此 $(3,3,1,1)$ 不是可图的。\n\nC. $(4,3,3,2,2)$ 有两个奇数项。Havel-Hakimi 算法：\n$$(4,3,3,2,2)\\to(2,2,1,1)\\to(1,1,0)\\to(0,0)。$$\n可图。\n\nD. $(2,2,1,1)$ 有两个奇数项。Havel-Hakimi 算法：\n$$(2,2,1,1)\\to(1,1,0)\\to(0,0)。$$\n可图。\n\nE. $(5,1,1,1,1,1)$ 有六个奇数项。Havel-Hakimi 算法：\n$$(5,1,1,1,1,1)\\to(0,0,0,0,0)。$$\n可图。\n\n因此，满足必要条件但非可图的唯一反例是选项B。", "answer": "$$\\boxed{B}$$", "id": "1542590"}, {"introduction": "在网络设计等实际应用中，我们有时需要处理不完全确定的度序列。本练习模拟了这样一个场景，要求你运用 Havel-Hakimi 算法，在一个包含未知变量 $x$ 的度序列中，找出所有可能的有效值。这展示了该算法作为一种工具，在解决参数化问题时的实用价值 [@problem_id:1542620]。", "problem": "在通信网络的设计中，每个节点的连接数是一个关键参数，称为“度”。网络中所有节点的度的集合构成一个“度序列”。如果可以构造一个实现该序列的简单网络（没有自环或任意两个节点之间没有多重边），则该度序列称为“可图的”。\n\nHavel和Hakimi的一个基本定理提供了一个算法来检验一个序列是否是可图的。对于一个非负整数序列 $S = (d_1, d_2, \\ldots, d_n)$，该算法如下：\n1.  首先，验证所有度的总和 $\\sum_{i=1}^n d_i$ 是一个偶数。如果为奇数，则该序列不是可图的。\n2.  将序列按非递增顺序排序。设排序后的序列为 $d'_1 \\ge d'_2 \\ge \\ldots \\ge d'_n$。\n3.  如果最大度 $d'_1$ 大于或等于节点数 $n$，则该序列不是可图的。\n4.  通过移除最大度 $d'_1$ 并从接下来的 $d'_1$ 个最大度中各减去1，构造一个长度为 $n-1$ 的新序列 $S'$。\n5.  如果此简化步骤导致任何度为负数，则原始序列不是可图的。\n6.  原始序列 $S$ 是可图的，当且仅当递归地发现简化后的序列 $S'$ 是可图的。如果过程最终得到一个全为零的序列，则成功终止。\n\n给定一个包含6个节点的网络的建议度序列：$S(x) = (5, 4, 4, 3, 3, x)$，其中 $x$ 是一个非负整数。确定所有使 $S(x)$ 成为可图序列的 $x$ 的可能值。\n\n计算所有这些有效的 $x$ 值的总和。", "solution": "设 $S(x)=(5,4,4,3,3,x)$ 是一个具有 $n=6$ 个顶点的简单图的度序列。对于一个6个顶点的简单图，每个度必须满足 $0 \\leq d_{i} \\leq 5$，因此 $0 \\leq x \\leq 5$。度的总和必须是偶数，我们有\n$$\n\\sum S(x)=5+4+4+3+3+x=19+x,\n$$\n所以 $19+x$ 是偶数当且仅当 $x$ 是奇数。结合这两个约束，候选值为 $x \\in \\{1,3,5\\}$。我们用Havel-Hakimi算法对每个值进行测试。\n\n情况 $x=1$：排序后的序列是 $(5,4,4,3,3,1)$。去掉 $5$ 并从接下来的 $5$ 个数中各减去 $1$，得到\n$$\n(4,4,3,3,1)\\mapsto(3,3,2,2,0).\n$$\n排序 $(3,3,2,2,0)$；去掉 $3$ 并从接下来的 $3$ 个数中各减去 $1$，得到\n$$\n(3,2,2,0)\\mapsto(2,1,1,0).\n$$\n排序 $(2,1,1,0)$；去掉 $2$ 并从接下来的 $2$ 个数中各减去 $1$，得到\n$$\n(1,1,0)\\mapsto(0,0,0).\n$$\n过程成功终止，所以 $x=1$ 是可图的。\n\n情况 $x=3$：排序后的序列是 $(5,4,4,3,3,3)$。去掉 $5$ 并从接下来的 $5$ 个数中各减去 $1$，得到\n$$\n(4,4,3,3,3)\\mapsto(3,3,2,2,2).\n$$\n排序 $(3,3,2,2,2)$；去掉 $3$ 并从接下来的 $3$ 个数中各减去 $1$，得到\n$$\n(3,2,2,2)\\mapsto(2,1,1,2).\n$$\n排序得到 $(2,2,1,1)$；去掉 $2$ 并从接下来的 $2$ 个数中各减去 $1$，得到\n$$\n(2,1,1)\\mapsto(1,0,1).\n$$\n排序得到 $(1,1,0)$；去掉 $1$ 并从接下来的 $1$ 个数中各减去 $1$，得到\n$$\n(1,0)\\mapsto(0,0).\n$$\n过程成功终止，所以 $x=3$ 是可图的。\n\n情况 $x=5$：排序后的序列是 $(5,5,4,4,3,3)$。去掉 $5$ 并从接下来的 $5$ 个数中各减去 $1$，得到\n$$\n(5,4,4,3,3)\\mapsto(4,3,3,2,2).\n$$\n排序 $(4,3,3,2,2)$；去掉 $4$ 并从接下来的 $4$ 个数中各减去 $1$，得到\n$$\n(3,3,2,2)\\mapsto(2,2,1,1).\n$$\n去掉 $2$ 并从接下来的 $2$ 个数中各减去 $1$，得到\n$$\n(2,1,1)\\mapsto(1,0,1).\n$$\n排序得到 $(1,1,0)$；去掉 $1$ 并从接下来的 $1$ 个数中各减去 $1$，得到\n$$\n(1,0)\\mapsto(0,0).\n$$\n过程成功终止，所以 $x=5$ 是可图的。\n\n因此，有效的 $x$ 值为 $x \\in \\{1,3,5\\}$，它们的总和是 $1+3+5=9$。", "answer": "$$\\boxed{9}$$", "id": "1542620"}, {"introduction": "掌握一个算法不仅在于应用它，更在于理解其内在的运作机制和性能边界。这个练习将引导你从算法的使用者转变为分析者，要求你构造一个能使 Havel-Hakimi 算法达到其最大迭代次数的“最坏情况”序列。这有助于建立关于该算法递归缩减过程的更深刻直觉 [@problem_id:1542635]。", "problem": "Havel-Hakimi 算法是一个迭代过程，用于判断一个有限非负整数序列是否可以是一个简单图的度序列。该过程如下：\n设 $D = (d_1, d_2, \\ldots, d_n)$ 是一个按非递增顺序排序的整数序列，即 $d_1 \\ge d_2 \\ge \\ldots \\ge d_n$。\n1. 如果序列为空或全由零组成，则该序列是可图的，算法终止。\n2. 如果序列包含负数，或者 $d_1 \\geq n$，则该序列是不可图的，算法终止。\n3. 否则，通过移除 $d_1$ 并从序列中接下来的 $d_1$ 个元素中各减去 1，构造一个长度为 $n-1$ 的新序列 $D'$。即，$D' = (d_2-1, d_3-1, \\ldots, d_{d_1+1}-1, d_{d_1+2}, \\ldots, d_n)$。\n4. 将 $D'$ 重新按非递增顺序排序，并用这个新序列重复此过程。\n\n步骤3和4的每次应用被视为算法的一次迭代。该算法保证会终止。一个序列是可图的，当且仅当算法终止于一个全零序列。对于一个长度为 $n$ 的序列，迭代次数最多为 $n-1$，因为序列的长度在每一步都减一。\n\n你的任务是找到一个长度为 $n$ 的可图整数序列 $D_n$，它需要 Havel-Hakimi 算法执行最大可能次数的迭代，即恰好 $n-1$ 次迭代，才能终止于一个全零序列。\n\n对于 $n=7$ 的具体情况，构造一个这样的序列。将你的答案表示为一个包含七个度数的序列，按非递增顺序列出。", "solution": "我们寻求一个长度为 7 的可图序列 $D$，它能使 Havel-Hakimi 算法在达到全零序列之前恰好执行 $7-1=6$ 次迭代。一个自然的选择是完全图 $K_{7}$ 的度序列：\n$$\nD^{(0)}=(6,6,6,6,6,6,6).\n$$\n这个序列按非递增顺序排序，没有负数项，并且满足 $d_{1}=6  7$，因此步骤2不会终止算法。\n\n应用一次迭代（步骤3和4）：移除第一项 6，并从接下来的 6 项中各减去 1，得到\n$$\nD^{(1)}=(5,5,5,5,5,5).\n$$\n这个序列的长度为 6，并满足 $d_{1}=5  6$，所以过程继续。\n\n重复应用相同的推理，在每次迭代中，我们移除最大项，并从所有剩余项中各减去 1（因为最大项总是等于剩余项的数量）。通过归纳法，经过 $k$ 次迭代后我们得到\n$$\nD^{(k)}=\\big(\\underbrace{6-k,\\dots,6-k}_{7-k\\ \\text{terms}}\\big),\n$$\n其中 $0\\leq k\\leq 6$。对于 $k=0,1,2,3,4,5$，序列中的项都是严格正数，所以序列不全是零，算法继续进行。当 $k=6$ 时，我们得到\n$$\nD^{(6)}=(0),\n$$\n这是一个完全由零组成的序列；因此算法在此时终止。总共恰好执行了 6 次迭代，这是 $n=7$ 时可能的最大次数。\n\n因此，序列 $D=(6,6,6,6,6,6,6)$ 是可图的，并迫使 Havel-Hakimi 算法运行恰好 $n-1=6$ 次迭代。", "answer": "$$\\boxed{\\begin{pmatrix} 6  6  6  6  6  6  6 \\end{pmatrix}}$$", "id": "1542635"}]}