{"hands_on_practices": [{"introduction": "在尝试构建一个复杂的有向图系统之前，首要的步骤是验证其设计规范在理论上是否可行。本练习将引导你学习一个图论中的基本原则，即有向图的握手引理，它为任何有向图的度序列设定了一个基本约束。通过这个练习，你将学会如何对一个给定的图结构进行快速的“合理性检查”，从而在设计初期就识别出不可行的方案。[@problem_id:1513062]", "problem": "一个工程师团队正在为一个由五个专业人工智能（AI）代理组成的新分布式系统设计通信架构。这些代理之间的信息流可以建模为一个有向图，其中代理是顶点，从代理 $u$ 到代理 $v$ 的一条有向边表示代理 $u$ 直接向代理 $v$ 发送数据。为防止反馈循环和冗余的数据通道，所提出的架构必须遵守两条规则：一个代理不能向自身发送数据，且从任何代理 $u$ 到任何其他代理 $v$ 最多只能有一个有向数据通道。\n\n一位系统架构师提出了一个设计规范。在此规范中，五个代理的传入数据通道数量（它们的入度）的序列为 $(3, 2, 1, 1, 1)$。五个代理的传出数据通道数量（它们的出度）的序列为 $(2, 2, 1, 1, 1)$。请注意，这些序列代表的是度的集合，而不是任何特定顺序下具体代理的度。\n\n是否有可能构建一个满足此设计规范的通信网络？\n\nA. 是的，这样的网络是可能存在的。\n\nB. 不，因为入度之和不等于出度之和。\n\nC. 不，因为对于一个有五个代理的网络来说，所提议的最大入度（3）太大了。\n\nD. 不，因为即使总和相等，也不可能用这种特定的度数组合构建一个图。\n\nE. 没有足够的信息来判断是否可能。", "solution": "设该有向图的顶点集大小为 $n=5$，其入度为 $\\{d_{i}^{-}\\}_{i=1}^{5}$，出度为 $\\{d_{i}^{+}\\}_{i=1}^{5}$。对于任何没有自环的简单有向图，每条有向边对其头部顶点的入度贡献恰好为 $1$，对其尾部顶点的出度贡献恰好为 $1$。因此，以下基本恒等式成立：\n$$\n\\sum_{i=1}^{5} d_{i}^{-} \\;=\\; \\sum_{i=1}^{5} d_{i}^{+} \\;=\\; m,\n$$\n其中 $m$ 是有向边的总数。\n\n所提议的入度多重集为 $(3,2,1,1,1)$，其和为\n$$\n3+2+1+1+1=8.\n$$\n所提议的出度多重集为 $(2,2,1,1,1)$，其和为\n$$\n2+2+1+1+1=7.\n$$\n由于 $8\\neq 7$，必要的等式 $\\sum d_{i}^{-}=\\sum d_{i}^{+}$ 不成立，因此不存在这样的有向图。\n\n为完整起见，请注意，对于 $n=5$ 的情况，所提议的最大入度 $3$ 并不算太大，因为在一个有 $5$ 个顶点的无自环有向图中，可能的最大入度是 $4$。因此，障碍恰好是总和不匹配，而不是某个度过大。", "answer": "$$\\boxed{B}$$", "id": "1513062"}, {"introduction": "掌握了基本规则后，我们来将其应用于一种常见且重要的图结构——完全对称有向图。这类图可以模拟一个网络，其中每个节点都能与其他任何节点进行双向通信。这个问题通过将入度和出度的定义应用于高度规则和可预测的结构 $K_n^*$，来巩固你对这些核心概念的理解。[@problem_id:1513071]", "problem": "在图论中，一个有向图（digraph）由一个顶点集合和一组有向边组成，其中每条边连接一个有序的顶点对。在有向图的分析中，一个重要的概念是顶点的度。一个顶点的**入度**是入边的数量（指向该顶点的边），而**出度**是出边的数量（从该顶点指出的边）。\n\n考虑一种特殊类型的有向图，称为**完全对称有向图**，记为 $K_n^*$，它建立在一组 $n$ 个顶点上，其中 $n \\geq 2$。这个有向图是“完全”和“对称”的，因为对于每一对不同的顶点，比如说顶点 $u$ 和顶点 $v$，既存在一条从 $u$ 指向 $v$ 的有向边，也存在一条从 $v$ 指向 $u$ 的有向边。\n\n对于这样一个具有 $n$ 个顶点的完全对称有向图 $K_n^*$ 中的任意一个顶点，它的入度和出度是多少？请选择正确的选项。\n\nA. 入度 = $n$, 出度 = $n$\n\nB. 入度 = $n-1$, 出度 = $n-1$\n\nC. 入度 = $n-1$, 出度 = $0$\n\nD. 入度 = $1$, 出度 = $n-1$\n\nE. 入度 = $n(n-1)$, 出度 = $n(n-1)$", "solution": "根据顶点集为 $V$ 且 $|V|=n$ 的完全对称有向图 $K_{n}^{*}$ 的定义，对于每一对不同的顶点 $(u,v)$ 且 $u \\neq v$，有向边 $(u,v)$ 和 $(v,u)$ 都存在。此定义不包含自环 $(v,v)$。\n\n固定一个任意顶点 $v \\in V$。$v$ 的入度是满足 $u \\neq v$ 且存在边 $(u,v)$ 的顶点 $u \\in V$ 的数量。由于对于每一个 $u \\in V \\setminus \\{v\\}$，都存在这样一条边，我们有\n$$\n\\deg^{-}(v)=|V \\setminus \\{v\\}|=n-1.\n$$\n类似地，$v$ 的出度是满足 $u \\neq v$ 且存在边 $(v,u)$ 的顶点 $u \\in V$ 的数量。由于对于每一个 $u \\in V \\setminus \\{v\\}$，都存在这样一条边，我们有\n$$\n\\deg^{+}(v)=|V \\setminus \\{v\\}|=n-1.\n$$\n因此，对于 $K_{n}^{*}$ 中的任意顶点，其入度为 $n-1$，出度也为 $n-1$，这对应于选项B。", "answer": "$$\\boxed{B}$$", "id": "1513071"}, {"introduction": "仅仅知道一个图的度序列，我们就能揭示出其整体结构和性质的许多信息，即使我们没有看到图的具体形态。这个练习将挑战你从简单的计算转向逻辑推断，利用给定的入度和出度序列来推断图的其他属性，例如边的数量以及源点和汇点的存在。掌握这项技能对于网络分析等领域至关重要，因为在这些领域中，我们可能只有汇总统计数据（如度分布），却需要推断出网络的关键特征。[@problem_id:1513078]", "problem": "考虑一个简单有向图 (digraph) $G$，其顶点集为 $V = \\{v_1, v_2, v_3, v_4\\}$，包含4个顶点。简单有向图是指图中没有自环（即从一个顶点到自身的边），且在任意一对顶点之间，给定方向上最多只有一条边。一个顶点的出度是指从该顶点出发的边的数量，而入度是指终止于该顶点的边的数量。\n\n假设构造了一个这样的图 $G$，其四个顶点的出度集合为 $\\{0, 1, 2, 3\\}$，其四个顶点的入度集合也为 $\\{0, 1, 2, 3\\}$。\n\n关于*任何*这样的图 $G$，以下哪个陈述必然为真？\n\nA. 该图恰好有7条边。\n\nB. 该图必须是强连通的。\n\nC. 该图必须包含一个长度为3的有向环。\n\nD. 该图必须恰好有一个入度为0的顶点和一个出度为0的顶点。\n\nE. 出度为3的顶点其入度也必须为3。", "solution": "为了确定对于任何具有给定度序列的简单有向图，哪个陈述必然为真，我们将基于图论的基本原理来分析每个选项。顶点集为 $V=\\{v_1, v_2, v_3, v_4\\}$。出度集合为 $D^+ = \\{d^+(v) \\mid v \\in V\\} = \\{0, 1, 2, 3\\}$，入度集合为 $D^- = \\{d^-(v) \\mid v \\in V\\} = \\{0, 1, 2, 3\\}$。\n\n首先，我们来确定这样一个图中边的总数 $|E|$。有向图的度数和公式（也称为有向图的握手引理）指出，所有顶点的入度之和等于所有顶点的出度之和，且这个和等于边的数量。\n$$ \\sum_{v \\in V} d^+(v) = \\sum_{v \\in V} d^-(v) = |E| $$\n使用给定的度数集合，我们可以计算这个和：\n$$ |E| = 0 + 1 + 2 + 3 = 6 $$\n因此，任何这样的图都必须恰好有6条边。\n\n现在我们可以评估每个给定的选项。\n\n**选项 A：该图恰好有7条边。**\n如上计算，边的数量必须是6。因此，这个陈述是错误的。\n\n**选项 D：该图必须恰好有一个入度为0的顶点和一个出度为0的顶点。**\n给定的出度集合为 $\\{0, 1, 2, 3\\}$。这意味着四个顶点的出度分别为0, 1, 2, 3。根据定义，恰好有一个顶点的出度为0。出度为0的顶点称为汇点。\n类似地，给定的入度集合为 $\\{0, 1, 2, 3\\}$。这意味着恰好有一个顶点的入度为0。入度为0的顶点称为源点。\n因此，该图必须恰好有一个源点和一个汇点。这个陈述必然为真。\n\n**选项 B：该图必须是强连通的。**\n如果对于每对不同的有序顶点 $(u, v)$，都存在一条从 $u$ 到 $v$ 的有向路径，则该有向图是强连通的。正如我们在对选项D的分析中确定的，该图必须有一个源点 $s$（其 $d^-(s) = 0$）和一个汇点 $t$（其 $d^+(t) = 0$）。根据定义，图中不可能存在从任何其他顶点到源点 $s$ 的路径。同样，图中也不可能存在从汇点 $t$ 到任何其他顶点的路径。在一个拥有多于一个顶点的图中，源点或汇点的存在立即意味着该图不是强连通的。因此，这个陈述是错误的。\n\n**选项 C：该图必须包含一个长度为3的有向环。**\n为了检查这个陈述是否*必然*为真，我们只需要找到一个满足条件的图的构造，而这个图不包含长度为3的环（或者任何环）。让我们尝试构造一个有向无环图（DAG）。\n设顶点为 $\\{v_1, v_2, v_3, v_4\\}$。我们按如下方式分配度数：\n$d^+(v_1)=3, d^+(v_2)=2, d^+(v_3)=1, d^+(v_4)=0$。\n$d^-(v_1)=0, d^-(v_2)=1, d^-(v_3)=2, d^-(v_4)=3$。\n这个分配满足度数集合的要求。现在我们构造边集 $E$：\n- 从 $v_1$（出度为3）：添加边 $(v_1, v_2)$, $(v_1, v_3)$, $(v_1, v_4)$。\n- 从 $v_2$（出度为2）：添加边 $(v_2, v_3)$, $(v_2, v_4)$。\n- 从 $v_3$（出度为1）：添加边 $(v_3, v_4)$。\n- 从 $v_4$（出度为0）：没有边。\n让我们检查这个构造的入度：\n$d^-(v_1)=0$（没有入边）。\n$d^-(v_2)=1$（来自 $v_1$）。\n$d^-(v_3)=2$（来自 $v_1, v_2$）。\n$d^-(v_4)=3$（来自 $v_1, v_2, v_3$）。\n入度序列是 $(0, 1, 2, 3)$，这与我们的分配相符。根据构造，出度序列也是正确的。该图是简单的。\n在这个图中，所有的边都从顶点 $v_i$ 指向顶点 $v_j$，其中 $i  j$。这样的图必然是无环的。既然我们找到了一个具有给定属性且不含环的有效图，那么该图不一定需要包含环。因此，这个陈述是错误的。\n\n**选项 E：出度为3的顶点其入度也必须为3。**\n在选项C的反例中，我们构造了一个有效的图，其中顶点 $v_1$ 的出度为3，但其入度为0，而不是3。因此，这个陈述不一定为真。它描述了一种可能的顶点度数分配方式，但不是唯一的一种。\n\n根据对所有选项的分析，只有陈述D对于任何满足给定条件的图都必然为真。", "answer": "$$\\boxed{D}$$", "id": "1513078"}]}