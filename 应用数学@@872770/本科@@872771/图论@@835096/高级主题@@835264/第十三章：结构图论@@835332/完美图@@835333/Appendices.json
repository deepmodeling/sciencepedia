{"hands_on_practices": [{"introduction": "掌握完美图定义的第一步，是亲手验证它。本练习提供了一个绝佳的起点，要求你通过系统地分析路径图 $P_4$ 的所有导出子图来检验其完美性。通过为每个子图 $H$ 计算其团数 $\\omega(H)$ 和色数 $\\chi(H)$ 并验证 $\\chi(H) = \\omega(H)$，你将建立对完美图核心定义的直观理解。[@problem_id:1526462]", "problem": "在图论中，有几个关键属性有助于分类和理解图的结构。设 $G=(V, E)$ 是一个简单无向图，其中 $V$ 是顶点集，$E$ 是边集。\n\n一个关键概念是*诱导子图*。图 $G$ 的一个诱导子图 $H$ 是由顶点子集 $V' \\subseteq V$ 以及 $E$ 中两个端点都在 $V'$ 中的*所有*边构成的图。\n\n图的两个重要的数值不变量是其团数和色数：\n- 图 $G$ 的*团数*，记为 $\\omega(G)$，是 $G$ 中最大团的顶点数。团是一个顶点子集，其中任意两个不同的顶点都由一条边连接。\n- 图 $G$ 的*色数*，记为 $\\chi(G)$，是对 $G$ 的顶点进行染色所需的最少颜色数，使得任意两个相邻的顶点颜色都不同。\n\n一个图 $G$ 被定义为*完美图*，如果对于 $G$ 的每一个诱导子图 $H$（包括 $G$ 本身），其色数都等于其团数；即 $\\chi(H) = \\omega(H)$。\n\n考虑一个四顶点的路径图，记为 $P_4$。该图的顶点集为 $V = \\{v_1, v_2, v_3, v_4\\}$，边集为 $E = \\{(v_1, v_2), (v_2, v_3), (v_3, v_4)\\}$。通过系统地检查 $P_4$ 的所有非空诱导子图 $H$，确定所能生成的所有唯一的有序对 $(\\omega(H), \\chi(H))$ 的完整集合 $S$。\n\n以下哪项代表集合 $S$？\n\nA. $S = \\{(1, 1), (2, 2)\\}$\n\nB. $S = \\{(1, 1), (1, 2), (2, 2)\\}$\n\nC. $S = \\{(1, 1), (2, 2), (2, 3)\\}$\n\nD. $S = \\{(1, 1), (2, 2), (3, 3)\\}$\n\nE. $S = \\{(1, 2), (2, 2)\\}$", "solution": "为了确定 $P_4$ 的所有非空诱导子图 $H$ 的唯一序对 $(\\omega(H), \\chi(H))$ 的集合 $S$，我们必须系统地分析由顶点集 $V = \\{v_1, v_2, v_3, v_4\\}$ 的所有非空子集诱导的子图。我们可以根据顶点的数量对这些子图进行分组。由于图结构的对称性，我们只需要考虑非同构的情况。母图 $P_4$ 的边是 $(v_1, v_2)$, $(v_2, v_3)$ 和 $(v_3, v_4)$。\n\n1.  **1个顶点的诱导子图：**\n    任何由单个顶点（例如集合 $\\{v_1\\}$）诱导的子图都是一个孤立顶点，即图 $K_1$。\n    对于这个子图 $H = K_1$，最大团由单个顶点组成，所以其大小为1。因此，$\\omega(H) = 1$。\n    单个顶点只需要一种颜色。因此，$\\chi(H) = 1$。\n    此分析得出的有序对为 $(\\omega(H), \\chi(H)) = (1, 1)$。\n\n2.  **2个顶点的诱导子图：**\n    对于由两个顶点诱导的子图，有两种非同构的情况。\n    -   情况2a：这两个顶点在 $P_4$ 中是相邻的。一个例子是集合 $\\{v_1, v_2\\}$。诱导子图有边 $(v_1, v_2)$，且同构于 $K_2$。对于这个子图 $H=K_2$，最大团包含两个顶点，所以 $\\omega(H) = 2$。由一条边连接的两个顶点需要两种不同的颜色，所以 $\\chi(H) = 2$。这得到序对 $(2, 2)$。\n    -   情况2b：这两个顶点在 $P_4$ 中不相邻。一个例子是集合 $\\{v_1, v_3\\}$。诱导子图没有边，由两个孤立顶点组成。对于这个子图 $H$，最大团是单个顶点，所以 $\\omega(H) = 1$。由于没有边，所有顶点都可以是相同的颜色，所以 $\\chi(H) = 1$。这得到序对 $(1, 1)$。\n\n3.  **3个顶点的诱导子图：**\n    对于由三个顶点诱导的子图，有两种非同构的情况。\n    -   情况3a：这三个顶点形成一个连通路径。一个例子是 $\\{v_1, v_2, v_3\\}$。诱导边是 $(v_1, v_2)$ 和 $(v_2, v_3)$，形成路径图 $P_3$。对于这个子图 $H=P_3$，最大团是任意一条边（例如 $\\{v_1, v_2\\}$），所以 $\\omega(H) = 2$。这个图是二分的并且有边，所以它需要两种颜色（例如，将 $v_1, v_3$ 染成红色，$v_2$ 染成蓝色）。因此，$\\chi(H) = 2$。这得到序对 $(2, 2)$。\n    -   情况3b：这三个顶点不形成连通路径。一个例子是 $\\{v_1, v_2, v_4\\}$。$P_4$ 中两个端点都在这个集合中的唯一一条边是 $(v_1, v_2)$。诱导子图由一条边和一个孤立顶点组成（$K_2 \\cup K_1$）。对于这个子图 $H$，最大团是边 $\\{v_1, v_2\\}$，所以 $\\omega(H) = 2$。由于该图包含一条边，它至少需要两种颜色。一个2-染色是可能的（例如，$v_1$ 红色，$v_2$ 蓝色，$v_4$ 红色）。因此，$\\chi(H) = 2$。这得到序对 $(2, 2)$。\n\n4.  **4个顶点的诱导子图：**\n    4个顶点的唯一子图是 $P_4$ 本身，由集合 $\\{v_1, v_2, v_3, v_4\\}$ 诱导。\n    对于这个子图 $H = P_4$，最大团是任意一条边（例如 $\\{v_1, v_2\\}$），得出 $\\omega(H) = 2$。\n    图 $P_4$ 是二分的（且不是无边的），意味着它是2-可染色的但不是1-可染色的。一个有效的2-染色是给 $\\{v_1, v_3\\}$ 一种颜色，给 $\\{v_2, v_4\\}$ 另一种颜色。因此，$\\chi(H) = 2$。\n    这得到序对 $(2, 2)$。\n\n通过检查所有可能的非空诱导子图，我们找到了以下的 $(\\omega, \\chi)$ 对：\n- 来自1-顶点子图：$(1, 1)$\n- 来自2-顶点子图：$(2, 2)$ 和 $(1, 1)$\n- 来自3-顶点子图：$(2, 2)$\n- 来自4-顶点子图：$(2, 2)$\n\n所生成的所有唯一序对的集合 $S$ 是这些不同序对的集合。因此，$S = \\{(1, 1), (2, 2)\\}$。\n这个结果也证实了 $P_4$ 是一个完美图，因为对于每一个诱导子图 $H$，我们都发现 $\\omega(H) = \\chi(H)$。\n\n将我们得到的结果集 $S$ 与给定的选项进行比较，正确的是 A。", "answer": "$$\\boxed{A}$$", "id": "1526462"}, {"introduction": "在了解了完美图的定义后，识别出哪些图不具备此性质同样重要。此练习通过一个经典的例子，展示了完美性是如何被“破坏”的：你将比较路径图 $P_5$ 和仅比它多一条边的五边长圈图 $C_5$。这个对比鲜明地揭示了奇圈（Odd Cycle）作为不完美图基本构件的关键作用，为理解更深刻的结构定理（如强完美图定理）铺平道路。[@problem_id:1526484]", "problem": "在图论中，我们通过各种参数来分析图的结构特性。两个基本参数是团数和色数。\n\n图 $G$ 中的一个**团 (clique)** 是其顶点的一个子集，其中子集内的任意两个不同顶点都是相邻的。图 $G$ 的**团数 (clique number)**，记为 $\\omega(G)$，是 $G$ 中最大团的顶点数。\n\n图 $G$ 的一个**正常着色 (proper coloring)** 是对 $G$ 的每个顶点赋予一种“颜色”，使得任意两个相邻的顶点颜色不同。图 $G$ 的**色数 (chromatic number)**，记为 $\\chi(G)$，是对 $G$ 进行正常着色所需的最少颜色数。\n\n如果对于图 $G$ 的每一个导出子图 $H$（包括 $G$ 本身），$H$ 的色数都等于其团数，那么图 $G$ 就被定义为**完美图 (perfect)**。也就是说，对于所有导出子图 $H$，都有 $\\chi(H) = \\omega(H)$。不是完美图的图称为**不完美图 (imperfect)**。\n\n考虑两个图，$G_1$ 和 $G_2$。\n图 $G_1$ 是一个有五个顶点的路径图，其顶点可标记为 $\\{v_1, v_2, v_3, v_4, v_5\\}$，边集为 $E_1 = \\{(v_1, v_2), (v_2, v_3), (v_3, v_4), (v_4, v_5)\\}$。所有路径图都是完美图，这是一个已知的性质。\n图 $G_2$ 是通过在图 $G_1$ 的基础上，在顶点 $v_1$ 和 $v_5$ 之间添加一条边而构成的。\n\n根据所提供的定义，以下哪个陈述是正确的？\n\nA. $G_1$ 和 $G_2$ 都是完美图。\n\nB. $G_1$ 是完美图，$G_2$ 是不完美图。\n\nC. $G_1$ 是不完美图，$G_2$ 是完美图。\n\nD. $G_1$ 和 $G_2$ 都是不完美图。", "solution": "我们通过 $\\chi$ 和 $\\omega$ 来分析 $G_{1}$ 和 $G_{2}$，利用一个图是完美图的充要条件是：对于其每个导出子图 $H$，都有 $\\chi(H)=\\omega(H)$。\n\n对于 $G_{1}$（路径 $P_{5}$）：定义一个二部划分 $A=\\{v_{1},v_{3},v_{5}\\}$ 和 $B=\\{v_{2},v_{4}\\}$；每条边 $(v_{i},v_{i+1})$ 的一个端点在 $A$ 中，另一个在 $B$ 中，因此 $G_{1}$ 是一个二部图。因此 $\\chi(G_{1})\\leq 2$，并且由于 $E_{1}\\neq\\varnothing$，$\\chi(G_{1})\\geq 2$，得到\n$$\n\\chi(G_{1})=2.\n$$\n路径图不含三角形，所以最大的团是任意一条边；因此\n$$\n\\omega(G_{1})=2.\n$$\n二部图的每个导出子图 $H$ 都是二部图。如果 $E(H)=\\varnothing$，那么 $\\chi(H)=1=\\omega(H)$；如果 $E(H)\\neq\\varnothing$，那么 $\\chi(H)=2$，并且由于没有三角形，$\\omega(H)=2$。因此对于所有导出子图 $H$，都有 $\\chi(H)=\\omega(H)$，所以 $G_{1}$ 是完美图。\n\n对于 $G_{2}$：在 $P_{5}$ 上添加边 $(v_{1},v_{5})$ 会产生一个环 $C_{5}$。长度至少为 $4$ 的环不含三角形，所以\n$$\n\\omega(G_{2})=2.\n$$\n奇环不是 $2$-可着色的：尝试用 $2$ 种颜色对着色时，颜色会沿着环交替出现，这会迫使最后一个顶点与其相邻的第一个顶点颜色相同，从而产生矛盾。因此\n$$\n\\chi(G_{2})=3.\n$$\n由于 $\\chi(G_{2})\\neq\\omega(G_{2})$，图 $G_{2}$ 本身就违反了定义中的等式，因此 $G_{2}$ 是不完美图。\n\n所以，$G_{1}$ 是完美图，$G_{2}$ 是不完美图，这对应于选项B。", "answer": "$$\\boxed{B}$$", "id": "1526484"}, {"introduction": "完美图理论的魅力不仅在于其优美的数学结构，更在于其强大的算法应用价值。本练习将你置于一个实际的计算资源调度场景中，该问题可以建模为在一个区间图（一类重要的完美图）上寻找最大权重独立集。通过解决这个问题，你将亲身体会到，对于一般图来说的NP难问题，如何利用完美图的特殊性质找到高效的多项式时间算法。[@problem_id:1526479]", "problem": "一家云计算提供商提供一种专用的高性能处理核心，用于处理计算密集型任务。多个客户提交作业请求，每个请求都由一个开始时间、一个结束时间以及一个代表其业务重要性的优先级值指定。该核心一次只能执行一个作业。\n\n一个从开始时间 $s$ 到结束时间 $e$ 的时间分配的作业由闭区间 $[s, e]$ 表示。如果两个作业的区间 $[s_1, e_1]$ 和 $[s_2, e_2]$ 重叠，则认为它们存在时间冲突。例如，安排在 $[2, 5]$ 和 $[4, 7]$ 的作业存在冲突，而安排在 $[2, 5]$ 和 $[5, 8]$ 的作业则没有冲突，因为一个作业可以在另一个作业结束的瞬间开始。\n\n该提供商的调度系统必须选择所请求作业的一个子集来运行，使得所选的作业中任意两个都没有时间冲突。目标是最大化所选子集中作业的优先级值之和。\n\n给定以下作业请求列表，确定可以实现的最大总优先级值。\n\n*   作业 1: 开始时间 1, 结束时间 4, 优先级值 3\n*   作业 2: 开始时间 3, 结束时间 6, 优先级值 5\n*   作业 3: 开始时间 2, 结束时间 7, 优先级值 6\n*   作业 4: 开始时间 6, 结束时间 8, 优先级值 4\n*   作业 5: 开始时间 5, 结束时间 9, 优先级值 4\n*   作业 6: 开始时间 8, 结束时间 10, 优先级值 2", "solution": "此问题要求从给定列表中选择一组不重叠的作业，使其总优先级值最大。这是一个经典的优化问题，在图论中被称为**区间图上的最大权重独立集问题**。这些作业可以被建模为图中的顶点，如果两个顶点对应的作业时间区间重叠，则它们之间存在一条边。目标是找到一个权重（优先级值）之和最大的独立集（一组互不相邻的顶点）。\n\n一个简单的贪心方法，例如首先选择优先级值最高的作业，并不能保证得到最优解。例如，选择作业3（优先级6，区间[2, 7]）将阻止除作业6之外的任何其他作业被选中，总优先级为 $6+2=8$。我们将看到，这并非最优解。\n\n该问题可以使用动态规划高效地解决。算法步骤如下：\n\n1.  **根据作业的结束时间按非递减顺序对作业进行排序。**\n    观察给定的作业列表，可以发现它已经按结束时间排好序了 (4, 6, 7, 8, 9, 10)。我们按此顺序处理作业，设作业为 $J_i = (s_i, e_i, v_i)$，其中 $i=1, \\dots, 6$。\n\n2.  **定义递推关系。**\n    设 $V(i)$ 为仅考虑前 $i$ 个作业 ($J_1, \\dots, J_i$) 可实现的最大优先级值。为计算 $V(i)$，我们对第 $i$ 个作业 $J_i$ 有两种选择：\n    *   **不选择 $J_i$**：最大总优先级值与只考虑前 $i-1$ 个作业时相同，即 $V(i-1)$。\n    *   **选择 $J_i$**：我们将获得其优先级值 $v_i$。但我们不能再选择任何与 $J_i$ 冲突的作业。由于作业已按结束时间排序，我们只需找到在 $J_i$ 开始之前就已结束的作业。设 $p(i)$ 是与 $J_i$ 兼容的作业中（即满足 $e_j \\le s_i$ 的作业 $j$），索引 $j$ 最大的那个。如果不存在这样的作业，则 $p(i)=0$。此选择能得到的最大值为 $v_i + V(p(i))$。\n\n    结合这两种情况，递推关系为：\n    $$V(i) = \\max(V(i-1), v_i + V(p(i)))$$\n    基本情况是 $V(0) = 0$。\n\n3.  **计算 $p(i)$ 和 $V(i)$。**\n    首先，我们为每个作业 $i=1, \\dots, 6$ 找到 $p(i)$ 的值：\n    *   对于作业 1 ($s_1=1$): 没有之前的作业。$p(1) = 0$。\n    *   对于作业 2 ($s_2=3$): 作业 1 的 $e_1=4 > 3$。不兼容。$p(2) = 0$。\n    *   对于作业 3 ($s_3=2$): 作业 1 ($e_1=4$) 和作业 2 ($e_2=6$) 都不兼容。$p(3) = 0$。\n    *   对于作业 4 ($s_4=6$): 作业 1 ($e_1=4 \\le 6$) 和作业 2 ($e_2=6 \\le 6$) 兼容。作业 3 ($e_3=7$)不兼容。兼容作业的最大索引是 2。所以 $p(4) = 2$。\n    *   对于作业 5 ($s_5=5$): 只有作业 1 ($e_1=4 \\le 5$) 兼容。所以 $p(5) = 1$。\n    *   对于作业 6 ($s_6=8$): 作业 1, 2, 3, 4 都兼容（结束时间分别为4, 6, 7, 8）。最大索引是 4。所以 $p(6) = 4$。\n\n    现在，我们构建 $V(i)$ 的动态规划表：\n    $V(0) = 0$\n    $V(1) = \\max(V(0), v_1 + V(p(1))) = \\max(0, 3 + V(0)) = 3$\n    $V(2) = \\max(V(1), v_2 + V(p(2))) = \\max(3, 5 + V(0)) = 5$\n    $V(3) = \\max(V(2), v_3 + V(p(3))) = \\max(5, 6 + V(0)) = 6$\n    $V(4) = \\max(V(3), v_4 + V(p(4))) = \\max(6, 4 + V(2)) = \\max(6, 4+5) = 9$\n    $V(5) = \\max(V(4), v_5 + V(p(5))) = \\max(9, 4 + V(1)) = \\max(9, 4+3) = 9$\n    $V(6) = \\max(V(5), v_6 + V(p(6))) = \\max(9, 2 + V(4)) = \\max(9, 2+9) = 11$\n\nDP表中的最终值 $V(6)$ 给出了整个作业集合的最大总优先级值。最大值为 11。通过回溯DP表可以找到最优的作业组合：选择作业 2、作业 4 和作业 6，它们的区间分别为[3, 6]、[6, 8]和[8, 10]，优先级值分别为5、4和2，总和为11。", "answer": "$$\\boxed{11}$$", "id": "1526479"}]}