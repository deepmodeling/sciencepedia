## 引言
在[图论](@entry_id:140799)的广阔天地中，线图（Line Graph）是一种精妙而强大的构造，它提供了一种独特的视角来审视和分析图的结构。通过将图中“边”之间的关系巧妙地转化为一个全新图中“点”之间的关系，线图不仅揭示了不同[图论](@entry_id:140799)概念间深刻的内在联系，也为解决一系列复杂的网络问题开辟了新的道路。许多重要的[图论](@entry_id:140799)问题，例如网络中的链路调度（[边着色](@entry_id:271347)）或资源配对（匹配），其本质是关于边的。直接处理这些“边问题”往往比处理“点问题”更为棘手。线图正是为了填补这一鸿沟而生，它系统地将边的问题域映射到点的领域，从而允许我们运用成熟的顶点图论工具进行分析和求解。

本文将带领读者全面探索线图的世界。在**第一章“原理与机制”**中，我们将从线图的定义出发，推导其基本性质，并揭示其核心结构特征。接下来的**第二章“应用与[交叉](@entry_id:147634)学科联系”**将展示线图如何在[算法设计](@entry_id:634229)、网络科学和理论分析中发挥作用，建立起[欧拉回路](@entry_id:268653)与哈密尔顿圈等经典概念之间的桥梁。最后，在**第三章“动手实践”**中，您将通过一系列精心设计的问题，亲手应用所学知识，巩固对线图的理解。

## 原理与机制

在本章中，我们将深入探讨线图的构成原理与核心机制。线图是图论中一种重要的变换，它将关于原图“边”的属性与关系，巧妙地转化为一个新图中“点”的属性与关系。这种视角转换不仅为我们提供了分析图结构的新工具，也揭示了不同图论概念之间深刻而优美的联系。我们将从线图的定义出发，系统地推导其基本性质，剖析其内在结构，并最终探讨其在理论和应用中的独特价值。

### 定义线图：一种边到点的变换

线图（**line graph**）的构造是一种从一个给定图 $G$ 生成一个新图 $L(G)$ 的过程。这个过程遵循一个简单而强大的规则：

**定义**：对于一个简单[无向图](@entry_id:270905) $G=(V, E)$，其**线图** $L(G)$ 是一个图，其顶点集是 $G$ 的[边集](@entry_id:267160) $E$。在 $L(G)$ 中，两个顶点是相邻的，当且仅当它们在 $G$ 中所对应的两条边共享一个公共顶点。

这个定义立刻引出了线图最基本的性质。线图的每一个顶点都唯一对应于原图的一条边。因此，线图的顶点数就等于原图的边数。

例如，如果一个简单图 $G$ 拥有 7 个顶点和 12 条边，那么无论其具体结构如何，它的线图 $L(G)$ 都将精确地拥有 12 个顶点 [@problem_id:1556056]。这个直接的对应关系 $|V(L(G))| = |E(G)|$ 是我们分析线图性质的起点。

### 线图的基本定量性质

仅仅知道线图的顶点数是不够的。为了更深入地理解线图的结构，我们还需要知道它的边数以及其[顶点的度](@entry_id:264944)数。这些性质同样可以从原图 $G$ 的属性中推导出来。

#### 线图的边数

$L(G)$ 中的一条边连接了两个顶点，这两个顶点对应于 $G$ 中两条在某个顶点处相交的边。为了计算 $L(G)$ 的总边数 $|E(L(G))|$，我们可以遍历 $G$ 中的每一个顶点 $v \in V(G)$。假设顶点 $v$ 的度（**degree**）为 $\deg(v)$，这意味着有 $\deg(v)$ 条边在 $v$ 点交汇。根据线图的定义，这 $\deg(v)$ 条边在 $L(G)$ 中对应的顶点两两之间都是相邻的。换句话说，它们在 $L(G)$ 中形成了一个大小为 $\deg(v)$ 的完全子图，即一个团（**clique**）$K_{\deg(v)}$。一个大小为 $k$ 的团拥有 $\binom{k}{2}$ 条边。

因此，在 $G$ 中的每个顶点 $v$ 都为其线图 $L(G)$ 贡献了 $\binom{\deg(v)}{2}$ 条边。由于在[简单图](@entry_id:274882)中，任意两条不同的边最多只共享一个公共顶点，所以我们只需将所有顶点贡献的边数相加，即可得到 $L(G)$ 的总边数，而无需担心重复计数。这样，我们得到了计算线图边数的通用公式：

$$
|E(L(G))| = \sum_{v \in V(G)} \binom{\deg(v)}{2}
$$

为了具体说明这个公式的应用，让我们考虑一个通信[网络模型](@entry_id:136956) $G_{net}$ [@problem_id:1519016]。该网络有一个中心枢纽 $H$ 和四个外围站点 $S_1, S_2, S_3, S_4$。枢纽 $H$ 与每个站点相连，同时四个站点之间也连接成一个环（$S_1-S_2-S_3-S_4-S_1$）。首先，我们确定 $G_{net}$ 的边数，即 $L(G_{net})$ 的顶点数。有 4 条边连接枢纽与站点，4 条边构成外围环，所以 $|E(G_{net})|=8$。因此，$L(G_{net})$ 有 8 个顶点。

接下来，计算 $L(G_{net})$ 的边数。我们需要 $G_{net}$ 中每个顶点的度。中心枢纽 $H$ 与四个站点相连，所以 $\deg(H) = 4$。每个外围站点 $S_i$ 都与枢纽以及环上的两个邻居相连，所以 $\deg(S_i) = 3$。应用上述公式：

$$
|E(L(G_{net}))| = \binom{\deg(H)}{2} + \sum_{i=1}^{4} \binom{\deg(S_i)}{2} = \binom{4}{2} + 4 \times \binom{3}{2} = 6 + 4 \times 3 = 18
$$

所以，$L(G_{net})$ 有 8 个顶点和 18 条边。

#### 线图中[顶点的度](@entry_id:264944)

我们也可以确定线图中某个特定[顶点的度](@entry_id:264944)。设 $v_e$ 是 $L(G)$ 中对应于 $G$ 中边 $e = \{u, w\}$ 的顶点。$v_e$ 在 $L(G)$ 中的度，等于 $G$ 中与边 $e$ 相邻的边的数量。与 $e$ 相邻的边，要么是与 $e$ 共享顶点 $u$ 的边，要么是共享顶点 $w$ 的边。

在顶点 $u$ 处，有 $\deg_G(u)$ 条边与之关联，其中一条是 $e$ 本身。因此，有 $\deg_G(u) - 1$ 条边在 $u$ 处与 $e$ 相邻。同理，在顶点 $w$ 处，有 $\deg_G(w) - 1$ 条边与 $e$ 相邻。由于 $G$ 是[简单图](@entry_id:274882)，没有边会同时与 $e$ 共享 $u$ 和 $w$ 两个顶点（因为这将意味着存在平行边），所以这两组边是不相交的。因此，我们可以将它们的数量相加，得到 $v_e$ 在 $L(G)$ 中的度：

$$
\deg_{L(G)}(v_e) = (\deg_G(u) - 1) + (\deg_G(w) - 1) = \deg_G(u) + \deg_G(w) - 2
$$

例如，考虑一个图 $G$，其中一条边 $e = \{v_1, v_2\}$ 连接了度为 $\deg_G(v_1) = 3$ 和 $\deg_G(v_2) = 3$ 的两个顶点。那么在 $L(G)$ 中，与 $e$ 对应的顶点 $v_e$ 的度将是 $\deg_{L(G)}(v_e) = 3 + 3 - 2 = 4$ [@problem_id:1556060]。

### 典型示例：路径与圈的线图

为了建立对线图变换的直观理解，考察一些[基本图](@entry_id:160617)类的线图是非常有益的。[路径图](@entry_id:274599) $P_n$ 和圈图 $C_n$ 是两个最经典的例子 [@problem_id:1519014]。

- **[路径图](@entry_id:274599)的线图**: [路径图](@entry_id:274599) $P_n$ 有 $n$ 个顶点 $v_1, \dots, v_n$ 和 $n-1$ 条边 $e_i = \{v_i, v_{i+1}\}$（$i=1, \dots, n-1$）。其线图 $L(P_n)$ 有 $n-1$ 个顶点，我们用 $x_i$ 表示对应 $e_i$ 的顶点。在 $P_n$ 中，边 $e_i$ 和 $e_j$ 共享一个公共顶点当且仅当 $|i-j|=1$。这意味着在 $L(P_n)$ 中，顶点 $x_i$ 仅与 $x_{i-1}$ 和 $x_{i+1}$（如果存在）相邻。这正是[路径图](@entry_id:274599)的结构。因此，我们得到一个简洁的结论：对于 $n \ge 2$，$L(P_n)$ 与 $P_{n-1}$ **同构**（isomorphic），记为 $L(P_n) \cong P_{n-1}$。

- **[圈图](@entry_id:149287)的线图**: 圈图 $C_n$ ($n \ge 3$) 有 $n$ 个顶点和 $n$ 条边，构成一个闭环。每条边都恰好与另外两条边相邻（在它的两个端点处各一条）。因此，在 $L(C_n)$ 中，每个顶点也恰好有两个邻居。这 $n$ 个顶点同样形成一个长度为 $n$ 的环。所以，对于 $n \ge 3$，$L(C_n)$ 与 $C_n$ 自身同构，即 $L(C_n) \cong C_n$。

这些例子清晰地展示了线图变换如何保持或改变原图的拓扑结构。

### [结构洞](@entry_id:138651)察：团与禁用子图

线图变换不仅改变图的宏观参数，更深刻地影响其微观结构。对线图中团（**clique**）的分析，揭示了线图的一个根本性特征。

#### 线图中的团

团是图中一个顶点[子集](@entry_id:261956)，其中任意两个不同的顶点都相邻。在 $L(G)$ 中，一个团 $C$ 对应于 $G$ 中的一个边[子集](@entry_id:261956) $E_C$，其中任意两条边都相互邻接（即共享一个公共顶点）。那么，$E_C$ 在原图 $G$ 中必须形成什么样的结构呢？

通过细致的分析 [@problem_id:1519051]，可以证明这样的[边集](@entry_id:267160) $E_C$ 只有两种可能的形式：
1.  $E_C$ 中的所有边都交于 $G$ 中的同一个顶点。
2.  $E_C$ 恰好是 $G$ 中一个三角形（即 $K_3$）的三条边。

反之亦然，这两种结构中的[边集](@entry_id:267160)在线图中也必然形成团。这一结论（Krausz 定理的一个推论）为我们提供了从线图结构反推原图局部特征的有力线索。

#### 爪形图：一个关键的禁用[子图](@entry_id:273342)

并非所有图都是某个图的线图。一个经典的例子是**爪形图**（**claw graph**）$K_{1,3}$，它由一个[中心顶点](@entry_id:264579)和三个与之相连但互不相连的“叶子”顶点组成 [@problem_id:1518997]。

为什么 $K_{1,3}$ 不能是任何图 $G$ 的线图？我们可以利用上面关于团的结论来论证。假设 $K_{1,3} \cong L(G)$。那么 $K_{1,3}$ 的[中心顶点](@entry_id:264579)（我们称之为 $c$）的邻域，即三个叶子顶点，必须可以被划分为至多两个团。然而，在 $K_{1,3}$ 中，这三个叶子顶点是两两不相邻的，它们构成了一个大小为 3 的独立集。一个大小为 3 的独立集无法被划分到两个团中（因为每个团最多只能包含其中一个顶点）。因此，产生了矛盾。

这个论证表明，任何线图都不能包含一个“诱导”的 $K_{1,3}$ 子图（即爪形图作为其子图，且[子图](@entry_id:273342)顶点间的边完全继承自原图）。我们称线图是**无爪的（claw-free）**。$K_{1,3}$ 因此成为表征线图的一个“禁用[子图](@entry_id:273342)”。事实上，Beineke 在 1968 年证明，一个图是线图当且仅当它不包含 $K_{1,3}$ 和其他八个特定图作为[诱导子图](@entry_id:270312)。

### 线图：一种[问题转换](@entry_id:274273)的工具

线图最重要的理论价值之一，在于它能将关于“边”的问题转化为关于“点”的问题，从而利用成熟的顶点图论工具来解决。

#### [边着色](@entry_id:271347)与点着色

图的**[边色数](@entry_id:275746)**（**edge-chromatic number**）$\chi'(G)$，是为 $G$ 的边进行正常着色（即相邻边颜色不同）所需的最少颜色数。而图的**点[色数](@entry_id:274073)**（**vertex-chromatic number**）$\chi(H)$，是为 $H$ 的顶点进行正常着色（即相邻顶点颜色不同）所需的最少颜[色数](@entry_id:274073)。

根据线图的定义， $G$ 中的两条边相邻，当且仅当它们在 $L(G)$ 中对应的顶点相邻。因此，对 $G$ 的边进行正常着色，就完[全等](@entry_id:273198)价于对 $L(G)$ 的顶点进行正常着色。这意味着，它们所需的最小颜色数是相等的：

$$
\chi'(G) = \chi(L(G))
$$

这个等式建立了一座桥梁，将[边着色](@entry_id:271347)问题（通常更难）与点着色问题联系起来 [@problem_id:1519044]。

#### 匹配与独立集

另一个深刻的联系存在于匹配与[独立集](@entry_id:270749)之间。图 $G$ 中的一个**匹配**（**matching**）是指一个边的集合，其中任意两条边都没有公共顶点。而图 $H$ 中的一个**独立集**（**independent set**）是指一个顶点的集合，其中任意两个顶点都不相邻。

再次运用线图的定义， $G$ 中的一个[边集](@entry_id:267160)构成匹配，当且仅当这些边两两不相邻。这完全等价于，在 $L(G)$ 中，与这些边对应的顶点集两两不相邻，即构成一个独立集。因此， $G$ 中的[最大匹配](@entry_id:268950)（包含边数最多的匹配）的大小，记为 $\nu(G)$，精确地等于 $L(G)$ 中的[最大独立集](@entry_id:274181)的大小，即其[独立数](@entry_id:260943) $\alpha(L(G))$：

$$
\nu(G) = \alpha(L(G))
$$

这个等式使得我们可以用研究独立集的算法和理论来解决[最大匹配](@entry_id:268950)问题 [@problem_id:1519041]。例如，对于一个给定的图 $G$，要计算其线图的[独立数](@entry_id:260943)，我们只需要在原图 $G$ 中找到最大匹配的大小即可。

### 变换的唯一性：Whitney [同构定理](@entry_id:145702)

我们已经看到，从 $G$ 可以唯一确定 $L(G)$ 的结构。一个自然的问题是：反过来是否成立？如果两个图 $G_1$ 和 $G_2$ 拥有同构的线图，即 $L(G_1) \cong L(G_2)$，我们是否可以断定 $G_1 \cong G_2$？

Hassler Whitney 在 1932 年给出了一个基本肯定的回答，但带有一个重要的例外。

**Whitney [同构定理](@entry_id:145702)**：设 $G_1$ 和 $G_2$ 是两个连通的[简单图](@entry_id:274882)。如果 $L(G_1) \cong L(G_2)$，那么除了一个特殊的例外情况外，$G_1 \cong G_2$。

这个著名的例外是什么呢？它恰好是三角形 $K_3$ 和爪形图 $K_{1,3}$ [@problem_id:1556063]。让我们来验证这一点 [@problem_id:1556077]。

- **$K_3$ 的线图**：$K_3$ 有 3 条边，每两条边都共享一个顶点。因此，它的线图 $L(K_3)$ 有 3 个顶点，且这 3 个顶点两两相邻。所以 $L(K_3) \cong K_3$。

- **$K_{1,3}$ 的线图**：$K_{1,3}$ 也有 3 条边，这 3 条边都在[中心顶点](@entry_id:264579)处交汇。因此，它们两两相邻。它的线图 $L(K_{1,3})$ 同样有 3 个顶点，且这 3 个顶点两两相邻。所以 $L(K_{1,3}) \cong K_3$。

我们发现 $L(K_3) \cong L(K_{1,3})$（它们都是 $K_3$），但原图 $K_3$ 和 $K_{1,3}$ 显然是不同构的（例如，$K_3$ 是 2-正则的且有圈，而 $K_{1,3}$ 是树且有度为 3 的顶点）。

这对图 $(K_3, K_{1,3})$ 是 Whitney 定理唯一的例外。注意到 $K_3$ 有 3 个顶点，$K_{1,3}$ 有 4 个顶点。只要我们排除这种小图的情况，线图变换的唯一性就能得到保证。定理的一个更精确的版本是：如果 $G_1$ 和 $G_2$ 是顶点数大于 4 的连通图，且 $L(G_1) \cong L(G_2)$，则 $G_1 \cong G_2$。这个定理凸显了线图变换在绝大多数情况下是一种保持结构信息的、可逆的操作，进一步证明了其在图论研究中的基础地位。