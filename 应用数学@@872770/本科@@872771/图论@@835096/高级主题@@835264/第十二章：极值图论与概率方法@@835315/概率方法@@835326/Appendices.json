{"hands_on_practices": [{"introduction": "我们的第一个实践练习将从一个基础问题开始，它完美地展示了期望线性性的威力。通过计算随机网络中“隔离配对”（即孤立边）的期望数量，你将学会使用指示变量这一核心工具 [@problem_id:1546111]。这个练习是掌握概率方法的第一步，为解决更复杂的问题奠定坚实的基础。", "problem": "在一个去中心化的网络模型中，我们考虑一个包含 $n$ 个节点的集合，其中 $n \\geq 2$。任意一对不同的节点之间都以固定的概率 $p$ 独立地建立直接通信链路，其中 $0  p  1$。这个过程会产生一个随机图。\n\n如果一对节点（例如节点 A 和节点 B）之间存在直接链路，但 A 和 B 都不与网络中的任何其他节点有直接链路，那么这对节点就被定义为“隐匿对”(sequestered pair)。\n\n你的任务是确定在这种网络中隐匿对的期望数量。请用包含 $n$ 和 $p$ 的符号表达式给出你的答案。", "solution": "为了计算隐匿对的期望数量，我们使用指示变量和期望的线性性。\n\n考虑图中任意一对不同的节点 $\\{u, v\\}$。图中总共有 $\\binom{n}{2}$ 对这样的节点。我们为每一对定义一个指示变量，如果该对是隐匿对，则其值为1，否则为0。\n\n一对节点 $\\{u, v\\}$ 构成一个隐匿对，必须满足以下三个独立的条件：\n1.  节点 $u$ 和 $v$ 之间存在一条边。该事件的概率是 $p$。\n2.  节点 $u$ 不与任何其他 $n-2$ 个节点相连。该事件的概率是 $(1-p)^{n-2}$。\n3.  节点 $v$ 不与任何其他 $n-2$ 个节点相连。该事件的概率是 $(1-p)^{n-2}$。\n\n由于所有这些事件都是独立的，任意给定的一对节点 $\\{u,v\\}$ 成为隐匿对的概率是：\n$$ P(\\text{隐匿对}) = p \\cdot (1-p)^{n-2} \\cdot (1-p)^{n-2} = p(1-p)^{2(n-2)} $$\n这是该对的指示变量的期望值。\n\n根据期望的线性性，隐匿对的总期望数量是所有节点对成为隐匿对的概率之和，即：\n$$ \\mathbb{E}[\\text{总数}] = \\binom{n}{2} \\cdot p(1-p)^{2(n-2)} $$", "answer": "$$\\boxed{\\binom{n}{2}\\,p\\,(1-p)^{2(n-2)}}$$", "id": "1546111"}, {"introduction": "掌握了基础计数技巧后，我们来看看概率方法最令人称道的应用之一：存在性证明。在这个问题中，我们将探讨锦标赛中的“循环三元组”，它类似于“石头、剪刀、布”游戏中的循环相克关系 [@problem_id:1410201]。通过计算这种结构的期望数量，我们可以证明，只要玩家数量足够，就必然存在这样的非传递性排名，这揭示了概率方法在证明组合对象存在性方面的深刻思想。", "problem": "在一个拥有 $n$ 名玩家的大型在线游戏联盟中，组织了一场循环赛。在这场比赛中，每位玩家都与所有其他玩家进行恰好一次比赛。比赛没有平局；每场比赛都会决出两名玩家中的一名胜者。\n\n玩家们的技能水平非常接近，因此任何一场比赛的结果基本上是随机的。对于任意两位玩家，每一方赢得比赛的概率均为 $1/2$，且所有比赛结果都是相互独立的。\n\n一个特别受关注的结构是“循环三元组”。循环三元组是指一组由三个不同玩家 P1、P2 和 P3 组成的集合，其中 P1 击败 P2，P2 击败 P3，而 P3 又击败 P1。这样的循环展示了排名中的一种非传递关系（即“石头-剪刀-布”动态）。\n\n假设 $n \\geq 3$，在这场比赛中循环三元组的期望数量是多少？请将答案表示为 $n$ 的函数。", "solution": "设这 $n$ 名玩家构成一个随机锦标赛，其中每场比赛的结果都是独立的，且每位玩家在任何一场比赛中获胜的概率均为 $\\frac{1}{2}$。\n\n对每个由不同玩家组成的无序三元组 $T$，定义一个指示随机变量 $X_{T}$：如果该三元组构成一个循环三元组（即一个有向 3-圈），则 $X_T$ 等于 $1$，否则等于 $0$。那么循环三元组的总数就是\n$$\nX=\\sum_{T} X_{T},\n$$\n其中求和遍及所有由玩家组成的无序三元组 $T$。根据期望的线性性，\n$$\n\\mathbb{E}[X]=\\sum_{T} \\mathbb{E}[X_{T}].\n$$\n\n固定任意一个三元组 $T=\\{P_{1},P_{2},P_{3}\\}$。这三名玩家之间有三场比赛，每场比赛的方向（即哪位玩家击败哪位）都是独立决定的，每个方向的概率为 $\\frac{1}{2}$。因此，这三场比赛有 $2^{3}$ 种等可能的结果。一个循环三元组对应一个有向 3-圈，而这样的圈恰好有 $2$ 种方向（顺时针和逆时针）。因此，\n$$\n\\mathbb{P}(X_{T}=1)=\\frac{2}{2^{3}}=\\frac{1}{4},\n$$\n所以\n$$\n\\mathbb{E}[X_{T}]=\\frac{1}{4}.\n$$\n\n玩家的无序三元组共有 $\\binom{n}{3}$ 个。代入期望线性性的求和公式中，得到\n$$\n\\mathbb{E}[X]=\\binom{n}{3}\\cdot\\frac{1}{4}=\\frac{1}{4}\\binom{n}{3}.\n$$\n此式对所有 $n\\geq 3$ 成立。", "answer": "$$\\boxed{\\frac{1}{4}\\binom{n}{3}}$$", "id": "1410201"}, {"introduction": "概率方法不仅能证明“存在”，更能指导我们“寻找”。最后一个练习将我们带入算法设计的领域，展示了如何利用概率思想来构建和分析一个寻找图中大独立集的随机算法 [@problem_id:1410205]。通过分析这个算法，你将得出一个保证独立集大小的下界，这体现了从存在性证明到构造性算法的智力飞跃，也是所谓的“去随机化”过程的第一步。", "problem": "一家科技公司正在一个地理区域内布署大量无线传感器。该传感器网络被建模为一个简单无向图 $G=(V, E)$，其中 $V$ 是 $n$ 个传感器的集合，如果传感器 $u$ 和 $v$ 靠得足够近以至于会相互干扰，则存在一条边 $(u,v) \\in E$。为了减少功耗和信号干扰，公司希望激活一个传感器子集 $I \\subseteq V$，使得任意两个激活的传感器之间都不会相互干扰。这意味着集合 $I$ 必须是图 $G$ 的一个独立集。该网络的设计使得任何一个给定的传感器最多能与 $\\Delta$ 个其他传感器发生干扰，这意味着图的最大度为 $\\Delta$。\n\n为生成独立集 $I$，实现了一个随机化的两阶段算法：\n\n1.  **候选阶段：** 形成一个初步的候选传感器集合 $S$。$V$ 中的每个传感器都以固定的概率 $p$ 被独立地选择加入 $S$。\n2.  **冲突解决阶段：** 两个端点都在 $S$ 中的任何边被称为“冲突边”。为了形成最终的独立集 $I$，从 $S$ 中创建一个新集合 $S'$，方法是对于每条冲突边，移除其恰好一个端点。最终的集合 $I$ 就是 $S'$。\n\n集合 $I$ 的期望大小，记为 $E[|I|]$，难以直接计算，因为它依赖于精确的图结构和具体的移除选择。然而，可以找到该期望的一个有用的下界。令 $X = |S|$ 为第一阶段选出的候选传感器数量，令 $Y$ 为 $S$ 内部的冲突边数量。从 $S$ 中移除的传感器总数最多为 $Y$。因此，最终集合的大小有界：$|I| \\ge X - Y$。这意味着期望大小的一个下界为：$E[|I|] \\ge E[X - Y]$。\n\n你的任务是计算这个期望大小的下界。假设公司将选择概率设为 $p = \\frac{1}{\\Delta+1}$。确定 $E[X-Y]$ 的值，为此数量找到一个仅依赖于 $n$ 和 $\\Delta$ 的通用下界，该下界对任何具有 $n$ 个顶点和最大度为 $\\Delta$ 的图都成立。用一个只含 $n$ 和 $\\Delta$ 的封闭形式解析表达式来表示你的答案。", "solution": "设 $G=(V,E)$ 是一个有 $n$ 个顶点且最大度为 $\\Delta$ 的简单无向图。在候选阶段，每个顶点以概率 $p=\\frac{1}{\\Delta+1}$ 被独立地包含在 $S$ 中。定义 $X=|S|$，并令 $Y$ 为 $G$ 中两个端点均在 $S$ 内的边的数量。由于在冲突解决阶段，每条冲突边最多移除一个端点，所以移除的数量最多为 $Y$，因此 $|I| \\ge X - Y$。根据期望的线性性，\n$$\nE[|I|] \\ge E[X - Y] = E[X] - E[Y].\n$$\n\n使用指示变量计算 $E[X]$。对于每个 $v \\in V$，令 $I_{v}$ 为 $v \\in S$ 的指示变量。那么 $X=\\sum_{v \\in V} I_{v}$ 且 $E[I_{v}] = p$，所以\n$$\nE[X] = \\sum_{v \\in V} E[I_{v}] = \\sum_{v \\in V} p = n p.\n$$\n\n类似地计算 $E[Y]$。对于每条边 $e=\\{u,v\\} \\in E$，令 $J_{e}$ 为 $u$ 和 $v$ 都在 $S$ 中的指示变量。由于选择是独立的，且每个端点以概率 $p$ 被选中，我们有 $E[J_{e}] = p^{2}$。设 $m=|E|$，\n$$\nY=\\sum_{e \\in E} J_{e}\n\\quad\\text{和}\\quad\nE[Y] = \\sum_{e \\in E} E[J_{e}] = m p^{2}.\n$$\n\n因此，\n$$\nE[X - Y] = n p - m p^{2}.\n$$\n这取决于 $m$，而 $m$ 不是固定的，但最大度的限制给出了 $m$ 的一个上界。由于 $\\sum_{v \\in V} \\deg(v) = 2m$ 且对所有 $v$ 都有 $\\deg(v) \\le \\Delta$，\n$$\n2m = \\sum_{v \\in V} \\deg(v) \\le n \\Delta\n\\quad\\Longrightarrow\\quad\nm \\le \\frac{n \\Delta}{2}.\n$$\n将 $m$ 的这个上界代入 $E[X - Y]$，可以得到一个对所有最大度为 $\\Delta$ 的图都成立的统一的下界：\n$$\nE[X - Y] \\ge n p - \\frac{n \\Delta}{2} p^{2}.\n$$\n当 $p=\\frac{1}{\\Delta+1}$ 时，\n$$\nE[X - Y] \\ge n \\cdot \\frac{1}{\\Delta+1} - \\frac{n \\Delta}{2} \\cdot \\frac{1}{(\\Delta+1)^{2}}\n= \\frac{n(\\Delta+2)}{2(\\Delta+1)^{2}}.\n$$\n这仅取决于 $n$ 和 $\\Delta$，并且对任何最大度为 $\\Delta$ 的图都成立。", "answer": "$$\\boxed{\\frac{n(\\Delta+2)}{2(\\Delta+1)^{2}}}$$", "id": "1410205"}]}