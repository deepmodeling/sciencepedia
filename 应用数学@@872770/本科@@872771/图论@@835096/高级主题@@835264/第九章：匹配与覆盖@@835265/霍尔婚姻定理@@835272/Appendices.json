{"hands_on_practices": [{"introduction": "掌握霍尔婚配定理的第一步是学会在具体情境中直接应用其条件。这个练习提供了一个明确的二分图，并要求你识别出哪个顶点子集是导致完美匹配失败的“瓶颈”。通过找出这个违反霍尔条件的集合，你将锻炼识别匹配问题中结构性障碍的基本技能。[@problem_id:1511026]", "problem": "考虑一个二分图 $G = (U \\cup V, E)$，其中两个不相交的顶点集分别为 $U = \\{u_1, u_2, u_3, u_4, u_5\\}$ 和 $V = \\{v_1, v_2, v_3, v_4, v_5\\}$。连接从 $U$ 到 $V$ 的顶点的边集 $E$ 由以下邻接表定义：\n- $N(u_1) = \\{v_1\\}$\n- $N(u_2) = \\{v_1, v_2\\}$\n- $N(u_3) = \\{v_2\\}$\n- $N(u_4) = \\{v_3, v_4\\}$\n- $N(u_5) = \\{v_5\\}$\n\n从 $U$ 到 $V$ 的一个完美匹配是来自 $E$ 的 5 条边的集合，使得任意两条边都不共享顶点，从而有效地将 $U$ 中的每个顶点与 $V$ 中一个唯一的顶点配对。对于此图，完美匹配是不可能的，因为存在一个顶点子集 $S \\subseteq U$，其邻域的大小 $|N(S)|$ 严格小于该子集自身的大小 $|S|$。你的任务是从以下选项中找出这样一个子集 $S$。\n\nA. $S = \\{u_1, u_5\\}$\nB. $S = \\{u_2, u_3, u_4\\}$\nC. $S = \\{u_1, u_2, u_3\\}$\nD. $S = \\{u_4, u_5\\}$\nE. $S = \\{u_1, u_3, u_5\\}$", "solution": "根据霍尔定理，从 $U$ 到 $V$ 存在完美匹配的充要条件是，对于任意子集 $S \\subseteq U$，其邻域都满足 $|N(S)| \\geq |S|$。因此，要证明完美匹配是不可能的，只需找到一个子集 $S$ 使得 $|N(S)|  |S|$。\n\n我们通过计算邻域来评估给定的选项：\n- 对于 $S = \\{u_{1}, u_{5}\\}$，$N(S) = N(u_{1}) \\cup N(u_{5}) = \\{v_{1}\\} \\cup \\{v_{5}\\} = \\{v_{1}, v_{5}\\}$，所以 $|N(S)| = 2$ 且 $|S| = 2$，这不违反霍尔条件。\n- 对于 $S = \\{u_{2}, u_{3}, u_{4}\\}$，$N(S) = \\{v_{1}, v_{2}\\} \\cup \\{v_{2}\\} \\cup \\{v_{3}, v_{4}\\} = \\{v_{1}, v_{2}, v_{3}, v_{4}\\}$，所以 $|N(S)| = 4$ 且 $|S| = 3$，这不违反霍尔条件。\n- 对于 $S = \\{u_{1}, u_{2}, u_{3}\\}$，$N(S) = \\{v_{1}\\} \\cup \\{v_{1}, v_{2}\\} \\cup \\{v_{2}\\} = \\{v_{1}, v_{2}\\}$，所以 $|N(S)| = 2$ 且 $|S| = 3$，得到 $|N(S)|  |S|$，这违反了霍尔条件。\n- 对于 $S = \\{u_{4}, u_{5}\\}$，$N(S) = \\{v_{3}, v_{4}\\} \\cup \\{v_{5}\\} = \\{v_{3}, v_{4}, v_{5}\\}$，所以 $|N(S)| = 3$ 且 $|S| = 2$，这不违反霍尔条件。\n- 对于 $S = \\{u_{1}, u_{3}, u_{5}\\}$，$N(S) = \\{v_{1}\\} \\cup \\{v_{2}\\} \\cup \\{v_{5}\\} = \\{v_{1}, v_{2}, v_{5}\\}$，所以 $|N(S)| = 3$ 且 $|S| = 3$，这不违反霍尔条件。\n\n因此，证明霍尔条件不成立的子集是 $S = \\{u_{1}, u_{2}, u_{3}\\}$。", "answer": "$$\\boxed{C}$$", "id": "1511026"}, {"introduction": "虽然霍尔条件是完美匹配存在的充要条件，但在现实中，我们可能会遇到其他看似合理但不足以保证完美匹配的图属性。这个练习将挑战你像图论学家一样思考，评估几种听起来 plausible 的策略，并构建反例来证明哪些策略是不充分的。这有助于培养对图结构和匹配理论更深层次的批判性思维。[@problem_id:1511047]", "problem": "一家技术咨询公司有 $n$ 名初级顾问和 $n$ 个即将启动的独立客户项目。设顾问集合为 $U = \\{u_1, \\dots, u_n\\}$，项目集合为 $V = \\{v_1, \\dots, v_n\\}$。如果顾问 $u_i$ 具备必要的技能，则认为他/她“胜任”项目 $v_j$。公司的运营模式可以用一个二分图 $G=(U \\cup V, E)$ 来表示，其中当且仅当顾问 $u_i$ 胜任项目 $v_j$ 时，存在一条边 $(u_i, v_j)$。公司的当前目标是将每个项目分配给一位独特的、胜任的顾问，确保每个项目都有人负责，且每位顾问都被分配了任务。这种分配方案是可能的，当且仅当图 $G$ 包含一个完美匹配。\n\n公司遵守两项严格的基本人力资源政策：\n1. 初级顾问的数量始终与项目数量相等（$|U|=|V|=n$）。\n2. 每位顾问必须至少胜任一个项目，每个项目必须至少有一位胜任的顾问。\n\n管理层担心仅凭这两项政策可能不足以保证总能实现完全分配。他们正在评估几项关于额外第三政策的提案。以下哪项提议的政策，在添加到两项基本政策之后，**不足以**保证对于任何项目数量 $n \\ge 2$ 都存在完美分配？选择所有适用的选项。\n\nA. 对于任意 $k$ 个顾问的子集（其中 $1 \\le k \\le n$），他们共同胜任的不同项目的总数至少为 $k$。\n\nB. 代表顾问资质和项目的图是连通的。\n\nC. 对于任意一对顾问，如果他们共同胜任的项目只有一个，那么必须至少有另一位顾问也胜任该项目。\n\nD. 每位顾问恰好胜任 $k$ 个项目，并且每个项目也恰好有 $k$ 位胜任的顾问，其中 $k$ 是某个固定的整数且 $k \\ge 1$。", "solution": "我们用二分图的术语来解释这个问题。基本政策确保了 $|U|=|V|=n$ 并且每个顶点的度至少为1。一个完美分配对应于一个完美匹配。根据霍尔定理(Hall's theorem)，存在完美匹配的充要条件是，对于 $U$ 的每个子集 $S$，都有\n$$\n|N(S)| \\ge |S|,\n$$\n其中 $N(S)$ 是 $S$ 在 $V$ 中的邻居集合。\n\n我们评估每项提议的政策：\n\nA. 该陈述表示：对于任意 $k$ 个顾问的子集，他们共同胜任的不同项目的总数至少为 $k$。形式上，这正是霍尔条件：\n$$\n\\forall S \\subseteq U:\\quad |N(S)| \\ge |S|.\n$$\n在 $|U|=|V|=n$ 的情况下，这保证了存在一个覆盖 $U$ 的匹配，因此是一个完美匹配。所以A是充分条件，不属于“不充分”的政策集合。\n\nB. 图是连通的。这并不能保证满足霍尔条件。提供一个对于某个 $n \\ge 2$ 的反例，该反例满足基本政策和政策 B，但没有完美匹配。取 $n=3$，其中\n$$\nU=\\{u_{1},u_{2},u_{3}\\},\\quad V=\\{v_{1},v_{2},v_{3}\\},\n$$\n边为\n$$\n(u_{1},v_{1}),\\ (u_{2},v_{1}),\\ (u_{3},v_{1}),\\ (u_{3},v_{2}),\\ (u_{3},v_{3}).\n$$\n所有顶点的度至少为1，并且图是连通的。考虑 $S=\\{u_{1},u_{2}\\}$。那么\n$$\nN(S)=\\{v_{1}\\},\\quad |N(S)|=1  2=|S|,\n$$\n所以霍尔条件不成立，不存在完美匹配。因此B不是充分条件。\n\nC. 对于任意一对共同胜任项目恰好只有一个的顾问，该项目必须至少有另一位顾问胜任。我们用与B中相同的反例进行测试：\n$$\nN(u_{1})=\\{v_{1}\\},\\quad N(u_{2})=\\{v_{1}\\},\\quad N(u_{3})=\\{v_{1},v_{2},v_{3}\\}.\n$$\n对于每一对顾问：\n- $N(u_{1}) \\cap N(u_{2})=\\{v_{1}\\}$ 是一个单元素集，并且项目 $v_{1}$ 还有另一位顾问 $u_{3}$ 胜任。\n- $N(u_{1}) \\cap N(u_{3})=\\{v_{1}\\}$ 是一个单元素集，并且项目 $v_{1}$ 还有另一位顾问 $u_{2}$ 胜任。\n- $N(u_{2}) \\cap N(u_{3})=\\{v_{1}\\}$ 是一个单元素集，并且项目 $v_{1}$ 还有另一位顾问 $u_{1}$ 胜任。\n因此政策C成立。然而如前所示，霍尔条件不成立，所以不存在完美匹配。因此C不是充分条件。\n\nD. 每位顾问的度恰好为 $k$，每个项目的度也恰好为 $k$，即图是一个 $k$-正则二分图，其中 $k \\ge 1$。我们证明这蕴含了霍尔条件。对于任意 $S \\subseteq U$，计算 $S$ 和 $N(S)$ 之间的边数。从 $U$ 侧看，从 $S$ 到 $V$ 恰好有 $k|S|$ 条边。所有这些边都终止于 $N(S)$，所以 $S$ 和 $N(S)$ 之间的边数是 $k|S|$。从 $V$ 侧看，$N(S)$ 中的每个顶点的度都是 $k$，所以从 $N(S)$ 到 $U$ 的边数至多是 $k|N(S)|$。因此，\n$$\nk|S| \\le k|N(S)| \\quad \\Rightarrow \\quad |S| \\le |N(S)|,\n$$\n所以霍尔条件对所有 $S \\subseteq U$ 都成立，从而保证了完美匹配的存在。因此D是充分条件。\n\n结论：不充分的政策是B和C。", "answer": "$$\\boxed{BC}$$", "id": "1511047"}, {"introduction": "强大的数学定理通常有其严格的适用范围，理解这些边界与理解定理本身同样重要。本题旨在探索当霍尔婚配定理的一个关键前提——图必须是二分的——被打破时会发生什么。通过在一个非二分图上构建一个分区并检验匹配条件，这个思想实验揭示了为什么定理的结论在更一般的情况下可能不成立，从而加深你对该定理结构重要性的理解。[@problem_id:1510998]", "problem": "考虑一个图 $G$，其顶点集 $V$ 的构造如下。该图包含一个中心顶点，标记为 $v_0$。它还包含三个不相交的三角形 $T_1, T_2, T_3$。这些三角形的顶点标记为 $T_1 = \\{v_{11}, v_{12}, v_{13}\\}$, $T_2 = \\{v_{21}, v_{22}, v_{23}\\}$ 和 $T_3 = \\{v_{31}, v_{32}, v_{33}\\}$。图中唯一的其他边是连接中心顶点 $v_0$ 到每个三角形中恰好一个顶点的边；具体来说，这些边是 $(v_0, v_{11})$、$(v_0, v_{21})$ 和 $(v_0, v_{31})$。图 $G$ 中的总顶点数为 10。\n\n顶点集 $V$ 被划分为两个子集 $U$ 和 $W$，每个子集的大小为 5。划分定义如下：\n$U = \\{v_0, v_{12}, v_{22}, v_{32}, v_{13}\\}$\n$W = \\{v_{11}, v_{21}, v_{31}, v_{23}, v_{33}\\}$\n\n设顶点集 $S \\subseteq U$ 的邻域，记为 $N(S)$，是 $W$ 中所有与 $S$ 中至少一个顶点相邻的顶点的集合。对于划分 $(U,W)$，婚姻条件亏量 $\\beta$ 定义为 $(|S| - |N(S)|)$ 在所有非空子集 $S \\subseteq U$ 上的最大值。\n\n设 $\\alpha$ 为整个图 $G$ 中最大匹配的大小（边的数量）。\n\n计算 $\\alpha - \\beta$ 的值。", "solution": "找出所有从 $U=\\{v_{0},v_{12},v_{22},v_{32},v_{13}\\}$ 中的顶点出发，连接到 $W=\\{v_{11},v_{21},v_{31},v_{23},v_{33}\\}$ 中顶点的边。根据图的描述：\n- $v_{0}$ 与 $v_{11},v_{21},v_{31}$ 相邻。\n- $v_{12}$ 与 $v_{11}$ 相邻（并且与 $v_{13}\\in U$ 相邻，但这不计入 $N(S)\\subseteq W$）。\n- $v_{13}$ 与 $v_{11}$ 相邻（并且与 $v_{12}\\in U$ 相邻）。\n- $v_{22}$ 与 $v_{21},v_{23}$ 相邻。\n- $v_{32}$ 与 $v_{31},v_{33}$ 相邻。\n\n因此，对于任何 $S\\subseteq U$，$N(S)\\subseteq W$ 是上面列出的相应邻集的并集。\n\n计算亏量 $\\beta=\\max_{\\emptyset\\neq S\\subseteq U}\\left(|S|-|N(S)|\\right)$。检查所有可能产生正亏量的模式：\n- 单点集：\n  - $S=\\{v_{0}\\}$ 得到 $|N(S)|=3$，亏量为 $1-3=-2$。\n  - $S=\\{v_{12}\\}$ 或 $S=\\{v_{13}\\}$ 得到 $|N(S)|=1$，亏量为 $1-1=0$。\n  - $S=\\{v_{22}\\}$ 或 $S=\\{v_{32}\\}$ 得到 $|N(S)|=2$，亏量为 $1-2=-1$。\n- 点对 $S=\\{v_{12},v_{13}\\}$ 有 $N(S)=\\{v_{11}\\}$，所以 $|S|-|N(S)|=2-1=1$。\n- 向 $\\{v_{12},v_{13}\\}$ 中添加任何其他顶点会使 $|S|$ 增加 1，但同时会使 $|N(S)|$ 至少增加 1，从而得到的亏量最多为 0；例如：\n  - $S=\\{v_{12},v_{13},v_{0}\\}$ 得到 $N(S)=\\{v_{11},v_{21},v_{31}\\}$，亏量为 $3-3=0$。\n  - $S=\\{v_{12},v_{13},v_{22}\\}$ 得到 $N(S)=\\{v_{11},v_{21},v_{23}\\}$，亏量为 $3-3=0$。\n  - $S=\\{v_{12},v_{13},v_{32}\\}$ 得到 $N(S)=\\{v_{11},v_{31},v_{33}\\}$，亏量为 $3-3=0$。\n- 任何不同时包含 $v_{12}$ 和 $v_{13}$ 的集合 $S$ 都有 $|N(S)|\\geq|S|$（通过上述邻集的并集验证），因此其亏量 $\\leq 0$。\n\n因此，\n$$\n\\beta=1.\n$$\n\n现在计算 $\\alpha$，即图 $G$ 中最大匹配的大小。每个三角形 $T_{i}$ 有 3 个顶点，内部最多允许一个大小为 1 的匹配，这会使得该三角形中至少有一个顶点未被匹配，除非其中一个顶点与 $v_{0}$ 匹配。由于 $v_{0}$ 最多只能与一个三角形顶点匹配，因此最多只有一个三角形的所有顶点能被覆盖（一个顶点由 $v_{0}$ 匹配，另外两个由内部的边匹配），而另外两个三角形中的每一个仍然会留下一个未匹配的顶点。因此，整个图中至少有 2 个顶点必须保持未匹配状态，所以最大匹配顶点数为 $10-2=8$，这意味着\n$$\n\\alpha\\leq 4.\n$$\n这个上界是可以达到的，例如，通过以下匹配：\n$$\n\\{\\,(v_{0}, v_{11}),\\,(v_{12}, v_{13}),\\,(v_{21}, v_{22}),\\,(v_{31}, v_{32})\\,\\},\n$$\n其大小为 4。因此 $\\alpha=4$。\n\n最后，\n$$\n\\alpha-\\beta=4-1=3.\n$$", "answer": "$$\\boxed{3}$$", "id": "1510998"}]}