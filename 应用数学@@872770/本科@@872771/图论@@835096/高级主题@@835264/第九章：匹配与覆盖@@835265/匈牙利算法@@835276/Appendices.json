{"hands_on_practices": [{"introduction": "掌握任何算法的第一步都是通过具体示例亲手实践其核心步骤。这个练习将引导你完整地走一遍匈牙利算法的流程，从初始的成本矩阵出发，通过行和列的归约、划线覆盖零元素、以及调整矩阵，最终找到最小成本的分配方案。这个练习旨在帮助你熟练掌握算法的每一个机械步骤，为解决更复杂的问题打下坚实的基础。[@problem_id:1542864]", "problem": "一家名为“Aether-Logistics”的机器人公司，在一次工业事故后，正在部署一支由四架专业无人机 (D1, D2, D3, D4) 组成的团队，以勘测四个不同的危险区域 (Z1, Z2, Z3, Z4)。由于无人机的能力和区域的特性各不相同，每个无人机-区域分配的预计运营成本也不同。公司编制了一个成本矩阵，其中第 $i$ 行第 $j$ 列的条目代表将无人机 Di 分配给区域 Zj 的成本。较低的成本值表示一个更高效、更安全的分配。\n\n成本矩阵如下：\n$$\n\\text{Cost} = \\begin{pmatrix}\n\\text{}  Z1  Z2  Z3  Z4 \\\\\nD1  90  75  75  80 \\\\\nD2  35  85  55  65 \\\\\nD3  125  95  90  105 \\\\\nD4  45  110  95  115\n\\end{pmatrix}\n$$\n\n目标是为每个区域精确分配一架无人机，以使总运营成本最小化。计算此次完整分配的最低可能总成本。答案以单个整数表示。", "solution": "我们将此分配问题建模为选择一个 $\\{1,2,3,4\\}$ 的排列 $\\sigma$，以最小化总成本 $T(\\sigma) = \\sum_{i=1}^{4} C_{i,\\sigma(i)}$，其中\n$$\nC=\\begin{pmatrix}\n90  75  75  80 \\\\\n35  85  55  65 \\\\\n125  95  90  105 \\\\\n45  110  95  115\n\\end{pmatrix}.\n$$\n应用匈牙利算法。首先进行行规约，减去每行的最小值 $r_{1}=75$、$r_{2}=35$、$r_{3}=90$、$r_{4}=45$：\n$$\n\\begin{pmatrix}\n15  0  0  5 \\\\\n0  50  20  30 \\\\\n35  5  0  15 \\\\\n0  65  50  70\n\\end{pmatrix}.\n$$\n接着进行列规约。第1、2、3列的最小值是$0$，第4列的最小值是$5$。从第4列减去$5$得到\n$$\n\\begin{pmatrix}\n15  0  0  0 \\\\\n0  50  20  25 \\\\\n35  5  0  10 \\\\\n0  65  50  65\n\\end{pmatrix}.\n$$\n用最少的直线覆盖所有零元素；一种选择是覆盖第1行、第1列和第3列，共计3条线，少于4条。未被覆盖的最小元素是 $\\alpha=5$。从所有未被覆盖的元素中减去 $\\alpha$，并将 $\\alpha$ 加到覆盖直线的交点处。得到\n$$\n\\begin{pmatrix}\n20  0  5  0 \\\\\n0  45  20  20 \\\\\n35  0  0  5 \\\\\n0  60  50  60\n\\end{pmatrix}.\n$$\n再次用最少的直线覆盖所有零元素；一种选择是覆盖第1行、第3行和第1列，仍然是3条线。未被覆盖的最小元素是 $\\beta=20$。从所有未被覆盖的元素中减去 $\\beta$，并在交点处加上 $\\beta$，得到\n$$\n\\begin{pmatrix}\n40  0  5  0 \\\\\n0  25  0  0 \\\\\n55  0  0  5 \\\\\n0  40  30  40\n\\end{pmatrix}.\n$$\n现在选择独立的零元素以形成一个完整的分配。一个有效的选择是 $D_{4}\\to Z_{1}$、$D_{3}\\to Z_{2}$、$D_{1}\\to Z_{4}$、$D_{2}\\to Z_{3}$。在原始矩阵中，相应的总成本是\n$$\nT = C_{4,1} + C_{3,2} + C_{1,4} + C_{2,3} = 45 + 95 + 80 + 55 = 275.\n$$\n根据匈牙利算法的最优性保证，这就是可能的最低总成本。", "answer": "$$\\boxed{275}$$", "id": "1542864"}, {"introduction": "在现实世界的应用中，我们常常需要处理带有小数的成本数据，一个看似无害的简化步骤——将成本四舍五入为整数——可能会对最终结果产生意想不到的影响。这个练习通过一个假设场景，让你量化这种简化操作带来的后果。通过对比在原始浮点数矩阵上和四舍五入后的整数矩阵上得到的“最优”解，你将深刻理解为何在优化问题中保持数据精度至关重要。[@problem_id:1542841]", "problem": "一家机器人公司正在部署三架高度专业化的无人机——无人机1、无人机2和无人机3——在三个不同的地点——地点1、地点2和地点3——执行环境调查任务。将一架特定的无人机分配到一个地点的成本由估计的能量消耗（单位：千瓦时，kWh）给出。由于各无人机的能力不同以及每个地点的地理挑战各异，成本并不统一。成本矩阵 $C$ 如下所示，其中元素 $C_{ij}$ 代表将无人机 $i$ 分配到地点 $j$ 的能量成本（单位：kWh）。\n\n$$\nC = \\begin{pmatrix} 2.6  3.4  10.1 \\\\ 3.4  3.6  10.2 \\\\ 10.3  10.4  5.1 \\end{pmatrix}\n$$\n\n该公司的旧版分配软件只能处理整数成本。在运行其优化算法（等同于匈牙利算法）之前，该软件会将矩阵中的每个成本四舍五入到最接近的整数。一项分配是指将每架无人机与一个不同的地点进行唯一配对。\n\n你的任务是评估这种整数取整简化的影响。确定旧版软件找到的分配方案（通过在取整后的整数矩阵上进行优化）。然后，使用原始的浮点成本矩阵计算此分配方案的真实成本。将此成本与通过直接在原始浮点成本矩阵上找到最优分配方案所获得的真实最小可能成本进行比较。\n\n计算旧版软件找到的分配方案的真实成本与真实最小成本之间的差值。以 kWh 为单位表示这个差值，并四舍五入到两位有效数字。", "solution": "设 $C$ 为原始成本矩阵，旧版软件使用的整数取整矩阵为 $\\tilde{C}$，其元素定义为 $\\tilde{C}_{ij}=\\mathrm{round}(C_{ij})$。\n已知\n$$\nC=\\begin{pmatrix}\n2.6  3.4  10.1\\\\\n3.4  3.6  10.2\\\\\n10.3  10.4  5.1\n\\end{pmatrix},\n\\quad\n\\tilde{C}=\\begin{pmatrix}\n3  3  10\\\\\n3  4  10\\\\\n10  10  5\n\\end{pmatrix}.\n$$\n枚举所有分配方案（行1,2,3对应的列的排列）并计算总成本。\n\n在 $\\tilde{C}$ 上：\n$$\n\\begin{aligned}\n(1,2,3)\\ 3+4+5=12,\\\\\n(1,3,2)\\ 3+10+10=23,\\\\\n(2,1,3)\\ 3+3+5=11,\\\\\n(2,3,1)\\ 3+10+10=23,\\\\\n(3,1,2)\\ 10+3+10=23,\\\\\n(3,2,1)\\ 10+4+10=24.\n\\end{aligned}\n$$\n最小的取整后总成本为 $11$，对应的分配方案为 $(2,1,3)$，即无人机 $1\\to$ 地点 $2$，无人机 $2\\to$ 地点 $1$，无人机 $3\\to$ 地点 $3$。\n\n在 $C$ 上评估此分配方案的真实成本：\n$$\nC_{1,2}+C_{2,1}+C_{3,3}=3.4+3.4+5.1=11.9.\n$$\n\n现在通过评估所有分配方案来找到在 $C$ 上的真实最小值：\n$$\n\\begin{aligned}\n(1,2,3)\\ 2.6+3.6+5.1=11.3,\\\\\n(1,3,2)\\ 2.6+10.2+10.4=23.2,\\\\\n(2,1,3)\\ 3.4+3.4+5.1=11.9,\\\\\n(2,3,1)\\ 3.4+10.2+10.3=23.9,\\\\\n(3,1,2)\\ 10.1+3.4+10.4=23.9,\\\\\n(3,2,1)\\ 10.1+3.6+10.3=24.0.\n\\end{aligned}\n$$\n真实最小值为 $11.3$，对应的分配方案为 $(1,2,3)$。\n\n因此，旧版软件找到的分配方案的真实成本与真实最小值之间的差值为\n$$\n11.9-11.3=0.6,\n$$\n四舍五入到两位有效数字为 $0.60$。", "answer": "$$\\boxed{0.60}$$", "id": "1542841"}, {"introduction": "精通一个算法不仅意味着能够执行其步骤，更在于理解其背后的深刻原理。这个练习将挑战你从一个更高的视角来分析问题，而不是直接套用标准的机械步骤。通过分析一个特殊构造的成本函数，你将发现最优解的结构其实早已蕴含在问题本身的定义之中，这揭示了优化问题的一个核心思想：如果你能找到一个满足“局部最优即全局最优”条件的解，那么它就是最终答案。[@problem_id:1542902]", "problem": "一个分布式计算网络由 $N$ 个节点组成，标记为 $1, 2, \\dots, N$。为了执行全系统诊断，节点之间必须传递一个“健康检查令牌”。网络协议要求每个节点 $i$ 必须将令牌传递给另外一个确定的节点 $j$，并且每个节点必须从另外一个确定的节点接收令牌。这个过程定义了发送者到接收者的分配，可以表示为一个排列。\n\n为了确保按特定顺序对所有连接进行全面和顺序的测试，该协议被设计为倾向于形成一个包含所有 $N$ 个节点的单一长循环的令牌路径：节点 $1$ 传递给节点 $2$，节点 $2$ 传递给节点 $3$，以此类推，直到节点 $N-1$ 传递给节点 $N$，最后节点 $N$ 传回给节点 $1$。\n\n节点 $i$ 将令牌传输到节点 $j$ 的能量成本由成本函数 $C_{ij}$ 给出。该成本由基于节点架构属性的以下公式确定：\n$$ C_{ij} = \\begin{cases} \\alpha i^2 + \\beta  \\text{if } j = (i \\pmod N) + 1 \\\\ \\alpha i^2 + \\beta + \\Delta  \\text{if } j \\neq (i \\pmod N) + 1 \\end{cases} $$\n其中 $i, j \\in \\{1, 2, \\dots, N\\}$。参数 $\\alpha$ 和 $\\beta$ 是源自硬件规格的正常量，而 $\\Delta$ 是一个大的正常量，表示偏离预定路径的惩罚。\n\n对于一个有 $N=13$ 个节点的网络，系统参数为 $\\alpha = 3$ 和 $\\beta = 10$，请确定一个包含所有节点的有效令牌传递分配的最小可能总能量成本。答案应该是一个整数。", "solution": "将令牌传递分配定义为集合 $\\{1,2,\\dots,N\\}$ 上的一个排列 $f$，其中每个节点 $i$ 发送给节点 $f(i)$，并且每个节点恰好从一个节点接收令牌。一个分配 $f$ 的总能量成本为\n$$\n\\sum_{i=1}^{N} C_{i,f(i)}.\n$$\n根据给定的成本函数，\n$$\nC_{i,f(i)} = \\begin{cases}\n\\alpha i^{2} + \\beta  \\text{if } f(i) = (i \\pmod N) + 1, \\\\\n\\alpha i^{2} + \\beta + \\Delta  \\text{if } f(i) \\neq (i \\pmod N) + 1,\n\\end{cases}\n$$\n其中 $\\alpha  0$，$\\beta  0$ 且 $\\Delta  0$。因此，对于每个固定的 $i$，\n$$\nC_{i,f(i)} \\ge \\alpha i^{2} + \\beta,\n$$\n当且仅当 $f(i) = (i \\pmod N) + 1$ 时等号成立。对所有 $i$ 求和，得到任何分配 $f$ 的普适下界：\n$$\n\\sum_{i=1}^{N} C_{i,f(i)} \\ge \\sum_{i=1}^{N} \\left(\\alpha i^{2} + \\beta\\right).\n$$\n对于所有 $i$，$f(i) = (i \\pmod N) + 1$ 这个分配是一个双射（它是一个单一的 $N$-循环 $1 \\to 2 \\to \\dots \\to N \\to 1$），因此它是一个有效的排列，能使上述不等式取等号。因此，这个分配是最优的，最小总成本为\n$$\n\\sum_{i=1}^{N} \\left(\\alpha i^{2} + \\beta\\right) = \\alpha \\sum_{i=1}^{N} i^{2} + N\\beta.\n$$\n使用平方和公式，\n$$\n\\sum_{i=1}^{N} i^{2} = \\frac{N(N+1)(2N+1)}{6},\n$$\n我们得到\n$$\n\\text{最小总成本} = \\alpha \\cdot \\frac{N(N+1)(2N+1)}{6} + N\\beta.\n$$\n代入 $N=13$，$\\alpha = 3$ 和 $\\beta = 10$ 得\n$$\n\\sum_{i=1}^{13} i^{2} = \\frac{13 \\cdot 14 \\cdot 27}{6} = 819,\n$$\n所以\n$$\n\\alpha \\sum_{i=1}^{13} i^{2} + 13\\beta = 3 \\cdot 819 + 13 \\cdot 10 = 2457 + 130 = 2587.\n$$\n因此，最小可能总能量成本为 $2587$。", "answer": "$$\\boxed{2587}$$", "id": "1542902"}]}