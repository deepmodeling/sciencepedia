{"hands_on_practices": [{"introduction": "库赛尔定理揭示了图的结构（通过树宽）与算法复杂性之间的深刻联系。对于许多在一般图上难以解决的问题，如果图的树宽有界，我们就可以设计出高效的算法。这个练习将让你亲身体验这一思想：通过计算一个给定图的树宽，来预测一个固定参数可解（FPT）算法的性能表现，从而将一个抽象的理论概念与具体的算法分析联系起来。[@problem_id:1492835]", "problem": "一位计算机科学家正在分析一个定参可解算法的性能。该算法在具有 $n$ 个顶点的输入图 $G$ 上的运行时间由一个形如 $O(f(k) \\cdot p(n))$ 的函数界定，其中 $p(n)$ 是一个关于 $n$ 的多项式，而 $f(k)$ 是一个仅依赖于图的一个结构参数 $k$（称为树宽）的函数。对于她正在研究的问题——求解最大独立集，其复杂度的指数部分由 $f(k) = 3^k$ 给出。\n\n她对算法在特定测试图 $G = (V, E)$ 上的性能感兴趣，其中顶点集为 $V = \\{v_1, v_2, v_3, v_4, v_5\\}$，边集为 $E = \\{\\{v_1, v_2\\}, \\{v_2, v_3\\}, \\{v_3, v_4\\}, \\{v_4, v_1\\}, \\{v_1, v_5\\}, \\{v_2, v_5\\}\\}$。\n\n为了预测算法的行为，请计算此图 $G$ 的参数依赖因子 $f(k)$ 的值。最终答案应为一个整数。", "solution": "我们给定一个形如 $O(f(k)\\cdot p(n))$ 的 FPT 运行时间，其中 $f(k)=3^{k}$，$k$ 是输入图 $G$ 的树宽。因此，要计算给定图 $G$ 的 $f(k)$，我们必须确定 $G$ 的树宽 $k$。\n\n图 $G$ 的结构为：$V=\\{v_{1},v_{2},v_{3},v_{4},v_{5}\\}$ 且 $E=\\{\\{v_{1},v_{2}\\},\\{v_{2},v_{3}\\},\\{v_{3},v_{4}\\},\\{v_{4},v_{1}\\},\\{v_{1},v_{5}\\},\\{v_{2},v_{5}\\}\\}$。由顶点 $\\{v_{1},v_{2},v_{3},v_{4}\\}$ 构成的子图是一个 $4$-圈，而 $\\{v_{1},v_{2},v_{5}\\}$ 构成一个三角形。\n\n树宽的下界：团数 $\\omega(G)$ 至少为 $3$，因为 $\\{v_{1},v_{2},v_{5}\\}$ 是一个三角形。一个标准的界是 $\\text{tw}(G)\\geq \\omega(G)-1$，因此\n$$\n\\text{tw}(G)\\geq 3-1=2.\n$$\n\n通过显式的树分解求上界：考虑以下包\n$$\nB_{1}=\\{v_{1},v_{2},v_{5}\\},\\quad B_{2}=\\{v_{1},v_{2},v_{3}\\},\\quad B_{3}=\\{v_{1},v_{3},v_{4}\\}.\n$$\n将它们排列成一条路径 $B_{1}\\text{—}B_{2}\\text{—}B_{3}$。验证树分解的性质：\n- 边覆盖性：$\\{v_{1},v_{2}\\}\\subseteq B_{1}$ (也在 $B_{2}$ 中)，$\\{v_{2},v_{3}\\}\\subseteq B_{2}$，$\\{v_{3},v_{4}\\}\\subseteq B_{3}$，$\\{v_{4},v_{1}\\}\\subseteq B_{3}$，$\\{v_{1},v_{5}\\}\\subseteq B_{1}$，$\\{v_{2},v_{5}\\}\\subseteq B_{1}$。所有边都被覆盖。\n- 连通性（运行交集）：顶点出现在连通的子树中：$v_{5}$ 只在 $B_{1}$ 中；$v_{2}$ 在 $B_{1},B_{2}$ 中；$v_{3}$ 在 $B_{2},B_{3}$ 中；$v_{4}$ 只在 $B_{3}$ 中；$v_{1}$ 在所有三个包中，这三个包构成一条连通的路径。所有顶点的连通性属性都满足。\n\n最大包的大小为 $3$，所以宽度为 $3-1=2$。因此，\n$$\n\\text{tw}(G)\\leq 2.\n$$\n结合下界，我们得出结论 $\\text{tw}(G)=2$。\n\n最后，使用 $f(k)=3^{k}$，我们得到\n$$\nf(2)=3^{2}=9.\n$$", "answer": "$$\\boxed{9}$$", "id": "1492835"}, {"introduction": "库赛尔定理的强大之处在于它适用于任何可以用一种称为“一元二阶逻辑”（MSO）的语言描述的图属性。在应用该定理之前，我们必须首先学会如何使用这种形式化语言来精确地定义我们感兴趣的属性。这个练习是一个完美的起点，它要求你为“图中没有孤立顶点”这一简单直观的属性选择正确的 MSO 公式，帮助你熟悉 MSO 的基本语法和量词。[@problem_id:1492852]", "problem": "在算法图论的研究中，一元二阶 (MSO) 逻辑提供了一种强大的形式语言，用于表达图的性质。一个关键成果是 Courcelle's theorem，它指出任何可用 MSO 逻辑表达的图性质，对于有界树宽的图都可以在线性时间内判定。\n\n我们考虑在简单无向图 $G=(V, E)$ 上的 MSO 逻辑，其中 $V$ 是顶点集，$E$ 是边集。该语言使用以下组成部分：\n- 小写变量 $u, v, w, \\dots$ 代表单个顶点。\n- 大写变量 $X, Y, Z, \\dots$ 代表顶点集合。\n- 标准的逻辑连接词 $\\land$ (与)、$\\lor$ (或)、$\\neg$ (非)、$\\to$ (蕴含)。\n- 量词 $\\forall$ (对所有) 和 $\\exists$ (存在)，可用于顶点变量和集合变量。\n- 邻接谓词 $\\text{adj}(u, v)$，当且仅当顶点 $u$ 和顶点 $v$ 之间有边时为真。\n- 成员谓词 $u \\in X$，当且仅当顶点 $u$ 在顶点集 $X$ 中时为真。\n- 相等谓词 $u=v$。\n\n你的任务是找出正确表达“图没有孤立顶点”这一性质的 MSO 公式。孤立顶点是度为零的顶点。\n\n以下哪个 MSO 公式表达了图 $G$ 没有孤立顶点？\n\nA. $\\forall v (\\exists u (\\text{adj}(v, u)))$\n\nB. $\\exists v (\\forall u (\\neg\\text{adj}(v, u)))$\n\nC. $\\exists v (\\forall u (\\text{adj}(v, u)))$\n\nD. $\\forall v (\\forall u (v = u \\lor \\text{adj}(v, u)))$\n\nE. $\\forall X ( (\\exists x (x \\in X)) \\rightarrow (\\exists y \\exists z (y \\in X \\land z \\notin X \\land \\text{adj}(y, z))) )$", "solution": "我们需要一个关于简单无向图的 MSO 公式，它断言：对于每个顶点，都至少存在一个邻居。形式上，“没有孤立顶点”意味着对于每个顶点 $v \\in V$，$v$ 的度至少为 $1$，即存在某个 $u \\in V$ 使得 $\\text{adj}(v,u)$ 成立。因为图是简单的，所以 $\\text{adj}(v,v)$ 恒为假，因此无需在公式中明确强制 $u \\neq v$；任何满足 $\\text{adj}(v,u)$ 的见证 $u$ 必定自动与 $v$ 不同。\n\n评估每个选项：\n\n- 选项 A: $\\forall v\\,\\exists u\\,\\text{adj}(v,u)$。这直接陈述了：对于每个顶点 $v$，都存在一个与 $v$ 相邻的顶点 $u$。这正是“没有孤立顶点”的性质，因为每个 $v$ 都至少有一个邻居。在空图中，全称量词是空泛为真的，这与空图没有孤立顶点的常规解释相符。\n\n- 选项 B: $\\exists v\\,\\forall u\\,\\neg\\text{adj}(v,u)$。这表示存在一个没有任何相邻顶点的顶点，即存在一个孤立顶点。这是所需性质的否定。\n\n- 选项 C: $\\exists v\\,\\forall u\\,\\text{adj}(v,u)$。在简单图中，$u=v$ 的情况使得 $\\text{adj}(v,v)$ 为假，所以这个公式对于任何非空简单图都为假。即使隐含地限制 $u \\neq v$，它也要求存在一个全连接（支配）顶点，这个条件比要求更强。\n\n- 选项 D: $\\forall v\\,\\forall u\\,(v = u \\lor \\text{adj}(v,u))$。对于每一对不同的顶点 $u \\neq v$，这要求 $\\text{adj}(v,u)$ 成立，即该图是完全图。这比“没有孤立顶点”的条件要严格得多。\n\n- 选项 E: $\\forall X\\big((\\exists x\\,(x \\in X)) \\to (\\exists y\\,\\exists z\\,(y \\in X \\land z \\notin X \\land \\text{adj}(y,z)))\\big)$。当 $V \\neq \\varnothing$ 时，取 $X=V$，前件为真，而后件要求存在一个顶点 $z \\notin V$，这是不可能的。因此，对于任何非空图，该公式都为假。实际上这个公式是图连通性的一个（不完全正确的）表达方式。正确的连通性公式要求此性质对所有非空真子集 $X$ 成立。因此，它不表达所求的性质。\n\n因此，正确的公式是选项 A。", "answer": "$$\\boxed{A}$$", "id": "1492852"}, {"introduction": "掌握了 MSO 的基础后，我们可以挑战更复杂的图属性。许多有趣的属性涉及精确的数量约束，例如顶点的度数。这个练习将引导你思考如何用 MSO 语言表达“图中所有顶点的度都恰好为2”这一性质，这需要你运用更高级的技巧，即通过量化顶点集来间接实现“计数”的目的。[@problem_id:1492856]", "problem": "在图上逻辑的研究中，一元二阶 (MSO) 逻辑提供了一种强大的语言来表达图的性质。我们考虑简单无向图 $G=(V,E)$，其中 $V$ 是一个有限的顶点集合，$E$ 是一个由 $V$ 的 2-元素子集组成的集合，代表边。\n\n图上 MSO 逻辑的语言允许对顶点进行量化（一阶，例如 $\\forall v$, $\\exists u$）和对顶点集合进行量化（二阶，例如 $\\forall S$, $\\exists Y$）。该逻辑使用小写字母如 $u, v, w, \\dots$ 表示顶点变量，使用大写字母如 $S, X, Y, \\dots$ 表示集合变量。可用的原子公式有：\n- $u=v$ (顶点相等)\n- $u \\in S$ (顶点 $u$ 在集合 $S$ 中)\n- $\\text{adj}(u,v)$ (邻接谓词，如果 $u$ 和 $v$ 之间存在边，则为真)\n\n这些原子公式可以使用标准的逻辑连接词进行组合：$\\land$ (与)、$\\lor$ (或)、$\\neg$ (非)、$\\rightarrow$ (蕴含) 和 $\\leftrightarrow$ (当且仅当)。\n\n你的任务是识别出以下哪个 MSO 句子正确且精确地表达了图是 **2-正则** 的性质。一个图是 2-正则的，当且仅当图中的每个顶点的度数都恰好为二。\n\nA. $\\forall v \\exists S ( (\\exists x \\exists y (x \\neq y \\land x \\in S \\land y \\in S \\land \\forall z (z \\in S \\rightarrow (z=x \\lor z=y)))) \\land (\\forall u (u \\in S \\leftrightarrow \\text{adj}(v,u))) )$\n\nB. $\\forall v \\exists x \\exists y (x \\neq y \\land \\text{adj}(v,x) \\land \\text{adj}(v,y))$\n\nC. $\\forall v \\exists S ( (\\exists x \\exists y (x \\neq y \\land x \\in S \\land y \\in S \\land \\forall z (z \\in S \\rightarrow (z=x \\lor z=y)))) \\land (\\forall u (\\text{adj}(v,u) \\rightarrow u \\in S)) )$\n\nD. $\\forall v \\exists x \\exists y (\\forall z (\\text{adj}(v,z) \\leftrightarrow (z=x \\lor z=y)))$\n\nE. $\\forall v \\exists S ( (\\exists x \\exists y (x \\in S \\land y \\in S)) \\land (\\forall u (u \\in S \\leftrightarrow \\text{adj}(v,u))) )$", "solution": "我们想要一个 MSO 句子，它对且仅对那些每个顶点的度数都恰好为二的简单无向图为真，即对于所有顶点 $v$，其邻域 $N(v)$ 的基数恰好为 $2$。\n\n分析选项 A:\n该句子是\n$$\n\\forall v \\exists S\\Big( \\big(\\exists x \\exists y \\big(x \\neq y \\land x \\in S \\land y \\in S \\land \\forall z (z \\in S \\rightarrow (z=x \\lor z=y))\\big)\\big) \\land \\big(\\forall u (u \\in S \\leftrightarrow \\text{adj}(v,u))\\big) \\Big).\n$$\n第一个合取项断言集合 $S$ 恰好有两个不同的元素 $x$ 和 $y$：它要求 $x \\neq y$，$x$ 和 $y$ 都在 $S$ 中，并且 $S$ 中的每个元素 $z$ 都必须是 $x$ 或 $y$，因此 $|S|=2$。第二个合取项断言 $S$ 恰好是 $v$ 的邻域，即对于所有的 $u$，$u \\in S$ 当且仅当 $\\text{adj}(v,u)$。因此，对于每个 $v$，$N(v)=S$ 且 $|N(v)|=|S|=2$。因此，选项 A 精确地表达了每个顶点的度数恰好为 $2$。反之，如果图是 $2$-正则的，那么对于每个 $v$，我们可以取 $S=N(v)$，它恰好有两个不同的元素，并且两个合取项都成立。因此 A 是正确的。\n\n分析选项 B:\n$$\n\\forall v \\exists x \\exists y (x \\neq y \\land \\text{adj}(v,x) \\land \\text{adj}(v,y)).\n$$\n这要求每个 $v$ 至少有两个不同的邻居，但它不禁止有第三个邻居。因此它没有强制度数恰好为 $2$，而只是度数至少为 $2$。因此 B 是不正确的。\n\n分析选项 C:\n$$\n\\forall v \\exists S\\Big( \\big(\\exists x \\exists y (x \\neq y \\land x \\in S \\land y \\in S \\land \\forall z (z \\in S \\rightarrow (z=x \\lor z=y)))\\big) \\land \\big(\\forall u (\\text{adj}(v,u) \\rightarrow u \\in S)\\big) \\Big).\n$$\n第一个合取项仍然强制 $|S|=2$，但第二个合取项只强制 $N(v) \\subseteq S$。因此强制的是 $\\deg(v) \\leq 2$，而不是相等。特别是，度数为 $0$ 或 $1$ 的顶点也满足该条件（只需选择任何大小为 $2$ 且满足 $N(v)\\subseteq S$ 的集合 $S$）。因此 C 是不正确的。\n\n分析选项 D:\n$$\n\\forall v \\exists x \\exists y (\\forall z (\\text{adj}(v,z) \\leftrightarrow (z=x \\lor z=y))).\n$$\n这个句子意图强制 $N(v)=\\{x,y\\}$ 作为一个集合，但它忽略了 $x \\neq y$ 的约束。如果 $x=y$，则右侧变为 $(z=x)$，这会强制 $N(v)$ 的大小恰好为 $1$。因此，某些顶点度数为 $1$ 的图对于该顶点会满足这个句子，而全局陈述允许所有顶点的度数都为 $1$。因此 D 没有刻画度数恰好为 $2$ 的性质。\n\n分析选项 E:\n$$\n\\forall v \\exists S \\Big( (\\exists x \\exists y (x \\in S \\land y \\in S)) \\land (\\forall u (u \\in S \\leftrightarrow \\text{adj}(v,u))) \\Big).\n$$\n第二个合取项强制 $S=N(v)$。第一个合取项仅仅要求 $S$ 包含 $x$ 和 $y$（不必是不同的）。由于没有 $x \\neq y$ 的约束，这只保证了如果 $x=y$，则 $S$ 非空，或者如果 $x \\neq y$ 被见证，则 $|S| \\geq 2$。因为对 $x, y$ 的量词是存在量词，所以会选择最弱的要求：只要 $N(v)$ 非空，即 $\\deg(v)\\geq 1$，该句子就成立。因此 E 没有强制度数恰好为 $2$。\n\n因此，唯一正确且精确地表达了每个顶点的度数都恰好为 $2$ 的句子是选项 A。", "answer": "$$\\boxed{A}$$", "id": "1492856"}]}