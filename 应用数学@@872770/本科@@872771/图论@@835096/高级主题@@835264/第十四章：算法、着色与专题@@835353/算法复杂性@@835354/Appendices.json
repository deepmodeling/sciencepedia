{"hands_on_practices": [{"introduction": "算法的效率不仅取决于其内在逻辑，还深受数据表示方式的影响。本练习通过一个常见场景——在社交网络中寻找影响力最大的用户——来揭示图的邻接矩阵表示法如何直接决定了算法的时间复杂度 [@problem_id:1480504]。通过分析计算图中度数最高顶点的过程，你将亲身体会到数据结构选择对性能的根本性影响。", "problem": "一位计算机科学家正在分析一个社交网络，以找出最具影响力的用户。该网络被建模为一个简单无向图，其中每个用户是一个顶点，两个用户之间的相互连接是一条边。整个网络结构由 $V$ 个用户组成，以邻接矩阵 $A$ 的形式给出。这个矩阵是一个 $V \\times V$ 的网格，其中如果用户 $i$ 和用户 $j$ 之间有连接，则条目 $A_{ij}$ 为 $1$，否则为 $0$。由于连接是相互的，该矩阵是对称的（$A_{ij} = A_{ji}$）。一个用户拥有的连接数称为其度。目标是设计一个算法来找到度数最高的用户。\n\n设 $V$ 是图中顶点（用户）的数量，$E$ 是边（连接）的数量。在给定邻接矩阵表示的情况下，找到度数最高顶点的确定性算法的最紧密的大O时间复杂度是多少？\n\nA. $O(V)$\n\nB. $O(E)$\n\nC. $O(V+E)$\n\nD. $O(V \\log E)$\n\nE. $O(V^2)$\n\nF. $O(V \\cdot E)$", "solution": "我们给定一个包含 $V$ 个顶点的无向简单图，其邻接矩阵为 $A \\in \\{0,1\\}^{V \\times V}$，且满足 $A_{ij} = A_{ji}$。顶点 $i$ 的度定义为 $\\deg(i) = \\sum_{j=1}^{V} A_{ij}$。为了确定性地找到度数最大的顶点，我们必须计算每个 $i \\in \\{1,\\dots,V\\}$ 的 $\\deg(i)$，并追踪最大值。\n\n一个直接的算法是扫描 $A$ 的每一行 $i$，并通过对 $V$ 个条目求和来计算 $\\deg(i)$。这需要每行进行 $V$ 次加法，共有 $V$ 行，因此总工作量是 $V \\cdot V = V^{2}$ 次条目检查和加法，即 $O(V^{2})$。\n\n我们可以利用对称性，通过只扫描严格上三角部分的条目 $(i,j)$（其中 $1 \\leq i  j \\leq V$）来避免重复计数。对于每个这样的条目，如果 $A_{ij} = 1$，我们同时增加 $\\deg(i)$ 和 $\\deg(j)$ 的计数器。被检查的条目数量为 $\\binom{V}{2} = \\frac{V(V-1)}{2}$，即 $\\Theta(V^{2})$。因此存在一个时间复杂度为 $O(V^{2})$ 的算法。\n\n为了论证其紧密性，考虑任何在最坏情况下不检查某个条目 $A_{ij}$ 的确定性算法。一个对手可以修改那个未被检查的条目，将 $\\deg(i)$ 和 $\\deg(j)$ 改变 $1$，这可能会改变哪个顶点具有最大度数。因此，为了在最坏情况下保证正确性，算法必须检查数量为 $\\Omega(V^{2})$ 的条目。由于我们既有上界 $O(V^{2})$，又有匹配的下界 $\\Omega(V^{2})$，所以紧密界是 $\\Theta(V^{2})$。\n\n在给定的选项中，这对应于 $O(V^{2})$，即选项E。", "answer": "$$\\boxed{E}$$", "id": "1480504"}, {"introduction": "掌握了基本算法后，下一步是学会如何利用特定图的属性来解决更复杂的问题。本练习将图的范围缩小到树形结构，并使用广度优先搜索（BFS）这一基本工具来解决一个实际问题：计算网络的通信直径 [@problem_id:1480548]。你会发现，结合图的特定属性（例如，树中边与点的关系 $E=V-1$）会让复杂度分析变得更加简洁和精确。", "problem": "在设计一个容错的去中心化计算网络时，节点被连接成树形结构。这种拓扑结构确保了连通性，且没有冗余链接。该网络的一个关键性能指标是其“通信直径”，定义为任意两个节点之间最短路径上的最大跳数（边数）。\n\n为确定此直径，执行以下两步过程：\n1.  一个任意的起始节点 $s$ 执行全网络查询，以识别距离其最远的节点 $u$。此查询通过广度优先搜索（BFS）实现，其中“最远”由最大跳数定义。\n2.  识别出的节点 $u$ 接着启动自己的BFS，以找到距离其最远的节点 $v$。$u$ 和 $v$ 之间的距离被声明为网络的通信直径。\n\n该网络被建模为一个具有 $V$ 个节点和 $E$ 条边的连通无权图。已知该图是一棵树，请确定这整个两步过程的最紧凑的最坏情况时间复杂度。请用大O表示法将答案表示为 $V$ 和/或 $E$ 的函数。", "solution": "我们将网络建模为一个具有 $V$ 个节点和 $E$ 条边的连通无权树。对于任何树，根据定义（连通且无环），其结构恒等式 $E=V-1$ 成立。\n\n使用邻接表实现的广度优先搜索（BFS），每个顶点和每条边最多访问一次。因此，单次BFS的时间复杂度为\n$$\nT_{\\text{BFS}}(V,E)=\\Theta(V+E)=O(V+E).\n$$\n步骤1从 $s$ 开始执行一次BFS以找到最远节点 $u$，成本为 $O(V+E)$。步骤2从 $u$ 开始执行另一次BFS以找到最远节点 $v$，成本同样为 $O(V+E)$。因此，总时间为\n$$\nT_{\\text{total}}(V,E)=T_{\\text{BFS}}(V,E)+T_{\\text{BFS}}(V,E)=O\\big((V+E)+(V+E)\\big)=O(V+E).\n$$\n因为该图是一棵树，我们代入 $E=V-1$ 得到\n$$\nT_{\\text{total}}(V,E)=O\\big(V+(V-1)\\big)=O(2V-1)=O(V).\n$$\n这个 $O(V)$ 界限是给定两步过程在树上的最紧凑的最坏情况复杂度。", "answer": "$$\\boxed{O(V)}$$", "id": "1480548"}, {"introduction": "在算法分析中，细节决定成败。虽然广度优先搜索（BFS）和深度优先搜索（DFS）在标准情况下具有相同的渐近复杂度 $O(n+m)$，但它们在特定应用中的表现可能需要更细致的考量。本练习将探讨在二分图匹配中寻找一条增广路径这一高级场景，挑战你精确分析单次BFS与DFS的性能，从而深化对算法复杂性细微之处的理解 [@problem_id:1480488]。", "problem": "在一个大规模的物流系统中，任务必须分配给可用的自主代理。该场景被建模为一个二分图 $G = (U \\cup V, E)$，其中 $U$ 是任务集合，$V$ 是代理集合。如果代理 $v$ 能够执行任务 $u$，则存在一条边 $(u, v)$。一组分配对应于一个匹配 $M \\subseteq E$，它是一组没有公共顶点的边。当无法立即添加更多分配时，该分配被认为是*极大*的，但它可能不是最大可能规模的。\n\n为了改进一个非最优匹配 $M$，可以找到一条*增广路径*。交错路径是图中的一条简单路径，其边在匹配 $M$ 中和不在匹配 $E \\setminus M$ 中交替出现。增广路径是一条始于 $U$ 中自由（未匹配）顶点并终于 $V$ 中自由顶点的交错路径。\n\n一位分析师的任务是实现一个程序来找到一条这样的增广路径。考虑了两种方法，都从一个指定的自由任务 $s \\in U$ 开始：\n\n1.  **基于BFS的搜索**：执行一次广度优先搜索（BFS）来找到从 $s$ 到 $V$ 中任意自由代理的路径。搜索必须遵守交错路径约束：从任务顶点出发，只遍历不在 $M$ 中的边；从代理顶点出发，只遍历在 $M$ 中的边。\n2.  **基于DFS的搜索**：执行一次具有相同交错路径约束的深度优先搜索（DFS）。\n\n设 $n = |U| + |V|$ 是图中顶点的总数，$m = |E|$ 是边的总数。假设使用了标准的、高效的BFS和DFS实现，在单次搜索中，每个顶点和每条边最多被处理常数次。\n\n从 $s$ 开始寻找一条增广路径，基于BFS的搜索（$C_{BFS}$）和基于DFS的搜索（$C_{DFS}$）的最紧最坏情况时间复杂度是多少？\n\nA. $C_{BFS} = O(n+m)$ 且 $C_{DFS} = O(n \\cdot m)$\n\nB. $C_{BFS} = O(m)$ 且 $C_{DFS} = O(n \\cdot m)$\n\nC. $C_{BFS} = O(m)$ 且 $C_{DFS} = O(n+m)$\n\nD. $C_{BFS} = O(n+m)$ 且 $C_{DFS} = O(n+m)$\n\nE. $C_{BFS} = O(n+m)$ 且 $C_{DFS} = O(m \\log n)$\n\nF. $C_{BFS} = O(n^2)$ 且 $C_{DFS} = O(m^2)$", "solution": "我们将交错路径搜索形式化为在由当前匹配 $M$ 导出的二分图的有向版本上的图遍历。在相同的顶点集 $U \\cup V$ 上构造一个隐式有向图 $G'$，其有向边如下：\n- 对于每个 $u \\in U$ 的未匹配边 $\\{u,v\\} \\in E \\setminus M$，添加一条有向边 $u \\to v$（允许从任务移动到代理）。\n- 对于每个 $v \\in V$ 的已匹配边 $\\{u,v\\} \\in M$，添加一条有向边 $v \\to u$（允许从代理移动到任务）。\n\n对于 $M$ 而言，一条从自由任务 $s \\in U$ 开始的交错路径，恰好是 $G'$ 中一条从 $s$ 开始的有向路径。一条增广路径对应于这样一条终点为 $V$ 中自由代理的路径。\n\n对于从 $s$ 开始的单次遍历（无论是BFS还是DFS），在使用维护已访问集合并遍历邻接表一次的标准实现下，关键属性是：\n- 每个顶点最多入队/入栈一次。\n- 每条有向边最多被检查常数次。\n\n因为 $G'$ 与 $G$ 具有相同的顶点集，所以顶点数为 $n = |U| + |V|$。$E$ 中的每条无向边在任何步骤中最多贡献一条与遍历相关的有向边到 $G'$（对于未匹配边是 $u \\to v$，对于匹配边是 $v \\to u$），因此检查的有向边总数为 $O(m)$。因此，在 $G'$ 上进行BFS和DFS的最坏情况时间复杂度都受限于访问所有顶点和探索所有相关的有向边，得出：\n$$\nC_{BFS} = O(n + m), \\quad C_{DFS} = O(n + m).\n$$\n\n在最坏情况下，这些界是紧的，因为存在这样的实例：搜索在找到自由代理或断定没有可达的自由代理之前，会探索整个可达子图，需要检查总共 $\\Theta(n + m)$ 个元素。\n\n注意：更高的 $O(n \\cdot m)$ 界限出现在分阶段从不同的自由任务重复执行多次DFS搜索时（如在朴素的增广匹配算法中），但本问题明确限制为从一个固定的 $s$ 开始的单次BFS或单次DFS，且使用标准实现，其中每个顶点和边只被处理常数次。因此，单次搜索的最紧最坏情况界限对两者都是 $O(n + m)$。", "answer": "$$\\boxed{D}$$", "id": "1480488"}]}