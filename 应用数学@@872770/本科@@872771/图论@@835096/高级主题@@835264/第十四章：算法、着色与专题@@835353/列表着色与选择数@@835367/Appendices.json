{"hands_on_practices": [{"introduction": "虽然列表染色看起来只是顶点着色的一个小小推广，但它具有一些出人意料的不同属性。本练习使用完全二分图 $K_{3,3}$ 来展示一个关键区别：一个图可以是 $k$-可染色的，但不一定是 $k$-可选的。通过这个具体的反例 [@problem_id:1519305]，你将挑战自己的直觉，并理解列表分配带来的独特约束。", "problem": "在图论中，图 $G$ 的一个列表分配 $L$ 是一个函数，它为 $G$ 的每个顶点 $v$ 分配一个可接受的颜色列表，记为 $L(v)$。图 $G$ 的一个 $L$-染色是一个顶点染色 $c$，使得对于每个顶点 $v$，所选颜色 $c(v)$ 都在列表 $L(v)$ 中，并且对于每对相邻顶点 $u$ 和 $v$，它们分配的颜色都不同，即 $c(u) \\neq c(v)$。\n\n考虑完全二分图 $G = K_{3,3}$。$G$ 的顶点集可以被划分为两个不相交的集合 $U = \\{u_1, u_2, u_3\\}$ 和 $V = \\{v_1, v_2, v_3\\}$，使得 $U$ 中的每个顶点都与 $V$ 中的每个顶点相连，而在 $U$ 内部或 $V$ 内部没有边。\n\n为该图的顶点给出了一个特定的列表分配 $L$：\n- 对于划分 $U$ 中的顶点：$L(u_1) = \\{1, 2\\}$，$L(u_2) = \\{1, 3\\}$，以及 $L(u_3) = \\{2, 3\\}$。\n- 对于划分 $V$ 中的顶点：$L(v_1) = \\{1, 2\\}$，$L(v_2) = \\{1, 3\\}$，以及 $L(v_3) = \\{2, 3\\}$。\n\n根据这些信息，判断下列哪个陈述是正确的。\n\nA. 是，存在一个有效的 $L$-染色。一种可能的染色是 $c(u_1)=1, c(u_2)=1, c(u_3)=2, c(v_1)=2, c(v_2)=3, c(v_3)=1$。\nB. 是，存在一个有效的 $L$-染色。一种可能的染色是 $c(u_1)=2, c(u_2)=1, c(u_3)=3, c(v_1)=1, c(v_2)=2, c(v_3)=2$。\nC. 否，不存在有效的 $L$-染色，因为对于划分 $U$ 中顶点的任何有效颜色选择，划分 $V$ 中至少有一个顶点无法从其列表中合法地染色。\nD. 否，不存在有效的 $L$-染色，因为图 $K_{3,3}$ 不是 2-可染色的。\nE. 根据给定信息，无法确定是否存在有效的 $L$-染色。", "solution": "问题要求我们判断，对于给定的列表分配 $L$，完全二分图 $K_{3,3}$ 是否存在一个有效的 $L$-染色。一个有效的 $L$-染色必须满足以下两个条件：\n1. 分配给每个顶点的颜色必须来自其指定的列表。\n2. 相邻顶点的颜色必须不同。\n\n让我们分析给定的选项。\n\n首先，考虑选项 D。它声称不存在染色，因为 $K_{3,3}$ 不是 2-可染色的。这个说法是不正确的。一个图是 2-可染色的当且仅当它是二分图。$K_{3,3}$ 根据定义是二分图，所以它是 2-可染色的。例如，我们可以将划分 $U$ 中的所有顶点染成颜色 'A'，并将划分 $V$ 中的所有顶点染成颜色 'B'。由于在 $U$ 或 $V$ 内部没有边，这是一个有效的 2-染色。因此，选项 D 是错误的。\n\n接下来，考虑选项 A。它提出了一个染色方案 $c(u_1)=1, c(u_2)=1, c(u_3)=2, c(v_1)=2, c(v_2)=3, c(v_3)=1$。\n让我们检查这是否是一个有效的 $L$-染色。这个染色方案是无效的，原因如下：\n1.  **列表约束**：分配给顶点 $v_3$ 的颜色是 $c(v_3)=1$，但这不在其允许的列表 $L(v_3)=\\{2,3\\}$ 中。\n2.  **邻接约束**：相邻的顶点 $v_1$ 和 $u_3$ 都被分配了颜色 2。\n由于存在多个错误，选项 A 是错误的。\n\n现在，考虑选项 B。它提出了一个染色 $c$：$c(u_1)=2, c(u_2)=1, c(u_3)=3, c(v_1)=1, c(v_2)=2, c(v_3)=2$。\n让我们首先检查列表约束。为 $v_2$ 选择的颜色是 $c(v_2)=2$，但这不在其列表 $L(v_2)=\\{1,3\\}$ 中。因此，选项 B 中的染色是无效的。\n\n排除了选项 A、B、D 和 E (因为问题是明确定义的) 之后，我们剩下选项 C。让我们通过证明不存在 $L$-染色来证明 C 是正确的。\n\n让我们尝试构造一个 $L$-染色。我们必须从每个顶点的各自列表中选择颜色。由于划分 $U$ 内的顶点彼此不相邻，我们可以从它们的列表中独立地选择它们的颜色 $c(u_1), c(u_2), c(u_3)$，只要之后我们能为 $V$ 中的顶点染色。\n用于划分 $U$ 的颜色集合是 $C_U = \\{c(u_1), c(u_2), c(u_3)\\}$。\n\n情况1：颜色 $c(u_1), c(u_2), c(u_3)$ 不全是不同的。这意味着 $|C_U| = 2$。（它不可能是 1，因为没有单一颜色同时存在于所有三个列表 $L(u_1), L(u_2), L(u_3)$ 中）。\n让我们假设我们对 $U$ 中的顶点使用两种颜色 $\\{a, b\\}$。要使其成为可能，$U$ 中至少有两个顶点必须共享一种颜色。\n例如，令 $c(u_1) = c(u_2)$。$L(u_1)$ 和 $L(u_2)$ 中唯一的共同颜色是 1。所以，我们必须有 $c(u_1)=1$ 和 $c(u_2)=1$。对于 $u_3$，我们可以选择 $c(u_3)=2$ 或 $c(u_3)=3$。\n- 如果 $c(u_3)=2$，$U$ 上的颜色集合是 $C_U = \\{1, 2\\}$。现在考虑顶点 $v_1 \\in V$。它与 $U$ 中的所有顶点都相邻。因此，$c(v_1)$ 必须与 $C_U$ 中的所有颜色都不同，即 $c(v_1) \\notin \\{1, 2\\}$。然而，$v_1$ 的列表是 $L(v_1)=\\{1, 2\\}$。在 $L(v_1)$ 中没有不在 $C_U$ 中的颜色。所以，$v_1$ 无法被染色。这次尝试失败了。\n- 如果 $c(u_3)=3$，$U$ 上的颜色集合是 $C_U = \\{1, 3\\}$。现在考虑顶点 $v_2 \\in V$。它与 $U$ 中的所有顶点都相邻。它的颜色 $c(v_2)$ 必须不在 $C_U = \\{1, 3\\}$ 中。但是它的列表是 $L(v_2)=\\{1, 3\\}$。所以，$v_2$ 无法被染色。这次尝试也失败了。\n通过对称性，任何试图用仅两种颜色为 $U$ 中的顶点染色的尝试都会失败。如果使用的两种颜色是 $\\{a,b\\}$，那么列表为 $L(v_i)=\\{a,b\\}$ 的顶点 $v_i \\in V$ 就无法被染色。这个列表分配的构造方式是，对于来自 $\\{1,2,3\\}$ 的任何一对颜色，在 $V$ 中都有一个顶点具有该颜色对的列表。\n\n情况2：颜色 $c(u_1), c(u_2), c(u_3)$ 全是不同的。\n这意味着 $|C_U|=3$。\n我们需要找到 $c(u_1) \\in L(u_1)$，$c(u_2) \\in L(u_2)$ 和 $c(u_3) \\in L(u_3)$，且它们都互不相同。\n让我们试着分配它们。\n- 如果我们选择 $c(u_1)=1$，那么为了不同，$c(u_2)$ 必须是 3 (来自 $L(u_2)=\\{1,3\\}$)。然后为了与 1 和 3 不同，$c(u_3)$ 必须是 2 (来自 $L(u_3)=\\{2,3\\}$)。这给出了颜色选择 $(c(u_1), c(u_2), c(u_3)) = (1, 3, 2)$。\n- 如果我们选择 $c(u_1)=2$，那么为了不同，$c(u_2)$ 可以是 1 或 3。如果 $c(u_2)=1$，那么 $c(u_3)$ 必须是 3。这给出了 $(2, 1, 3)$。如果 $c(u_2)=3$，那么 $c(u_3)$ 必须与 2 和 3 都不同，这从其列表 $L(u_3)=\\{2,3\\}$ 来看是不可能的。\n所以，用不同的颜色为 $U$ 染色有两种方式：$(1,3,2)$ 和 $(2,1,3)$。\n在这两种情况下，划分 $U$ 上使用的颜色集合都是 $C_U = \\{1, 2, 3\\}$。\n现在，考虑 $V$ 中的任意一个顶点，例如 $v_1$。它与 $u_1, u_2, u_3$ 相邻。因此，它的颜色 $c(v_1)$ 必须与 $c(u_1), c(u_2), c(u_3)$ 都不同。这意味着 $c(v_1)$ 不能是 1, 2, 或 3。然而，$v_1$ 的列表是 $L(v_1)=\\{1, 2\\}$，其中只包含被禁止的颜色。因此，$v_1$ 无法被染色。同样的逻辑也适用于 $v_2$ 和 $v_3$。\n\n由于两种情况（用2种颜色或3种颜色为 $U$ 染色）都导致矛盾，因此整个图不存在有效的 $L$-染色。这个推理与选项 C 相符：对于 $U$ 的任何有效染色，其上使用的颜色集合将与 $V$ 中至少一个顶点的列表冲突，使得无法完成整个图的染色。", "answer": "$$\\boxed{C}$$", "id": "1519305"}, {"introduction": "上一个练习表明，某些图所需的列表大小可能比其色数所暗示的要大。这引出了“选择数” $\\text{ch}(G)$ 的概念，它表示保证染色存在的最小列表大小 $k$。本练习 [@problem_id:1519355] 将通过建立下界和上界，引导你找出完全二分图 $K_{2,4}$ 的精确选择数，从而掌握确定选择数的核心技巧。", "problem": "在图论中，列表着色是标准顶点着色问题的一种推广。设 $G$ 是一个图，其顶点集为 $V$。$G$ 的一个*列表分配*是一个函数 $L$，它为每个顶点 $v \\in V$ 分配一个允许的颜色列表，记为 $L(v)$。$G$ 的一个*$L$-着色*是一个函数 $c: V \\to \\bigcup_{v \\in V} L(v)$，使得对于每个顶点 $v$，都有 $c(v) \\in L(v)$，并且对于每对相邻顶点 $u$ 和 $v$，都有 $c(u) \\neq c(v)$。\n\n如果对于每个可能的列表分配 $L$（其中每个列表 $L(v)$ 的大小至少为 $k$），都保证存在一个 $G$ 的 $L$-着色，则称图 $G$ 是*$k$-可选的*。图 $G$ 的*选择数*，记为 $\\text{ch}(G)$，是使 $G$ 为 $k$-可选的最小整数 $k$。\n\n考虑完全二分图 $K_{2,4}$。该图的顶点集 $V$ 可以划分为两个不相交的集合，$A = \\{x_1, x_2\\}$ 和 $B = \\{y_1, y_2, y_3, y_4\\}$。集合 $A$ 中的顶点与集合 $B$ 中的顶点之间存在边，但 $A$ 中任意两个顶点之间或 $B$ 中任意两个顶点之间不存在边。\n\n确定该图的选择数 $\\text{ch}(K_{2,4})$。", "solution": "我们回顾一下，选择数 $\\text{ch}(G)$ 是最小的整数 $k$，使得对于任意列表分配 $L$（其中对所有顶点 $v$ 都有 $|L(v)| \\geq k$），都存在一个 $L$-着色。\n\n首先，我们证明 $K_{2,4}$ 不是 $2$-可选的，这给出了下界 $\\text{ch}(K_{2,4}) \\geq 3$。考虑二分划分 $A=\\{x_{1},x_{2}\\}$ 和 $B=\\{y_{1},y_{2},y_{3},y_{4}\\}$。定义一个列表大小为 $2$ 的列表分配 $L$ 如下：\n$$\nL(x_{1})=\\{a,b\\},\\quad L(x_{2})=\\{c,d\\},\\quad L(y_{1})=\\{a,c\\},\\quad L(y_{2})=\\{a,d\\},\\quad L(y_{3})=\\{b,c\\},\\quad L(y_{4})=\\{b,d\\}.\n$$\n假设存在一个 $L$-着色 $c$。那么 $c(x_{1}) \\in \\{a,b\\}$ 且 $c(x_{2}) \\in \\{c,d\\}$。无序对 $\\{c(x_{1}),c(x_{2})\\}$ 必须是 $\\{a,c\\},\\{a,d\\},\\{b,c\\},\\{b,d\\}$ 四者之一。对于 $L(y_{i})$ 等于该对的对应顶点 $y_{i}$ 来说，$L(y_{i})$ 中的两种颜色都与其两个邻点 $x_{1}$ 和 $x_{2}$ 的颜色重合，因此都是被禁止的。例如，如果 $c(x_1)=a$ 且 $c(x_2)=c$，那么对于顶点 $y_1$ 来说，它的邻居使用了颜色 $a$ 和 $c$，而它自己的列表是 $L(y_1)=\\{a,c\\}$，没有可用的颜色。因此，$y_{i}$ 没有可用的颜色，这与存在 $L$-着色相矛盾。所以 $K_{2,4}$ 不是 $2$-可选的，故 $\\text{ch}(K_{2,4}) \\geq 3$。\n\n接下来，我们证明 $K_{2,4}$ 是 $3$-可选的，这将确立 $\\text{ch}(K_{2,4}) \\leq 3$。设 $L$ 是任意一个对所有顶点 $v$ 都有 $|L(v)| \\geq 3$ 的列表分配。任意选择颜色 $\\alpha \\in L(x_{1})$ 和 $\\beta \\in L(x_{2})$，并令 $c(x_{1})=\\alpha$，$c(x_{2})=\\beta$。对于每个 $y \\in B$，它的邻点恰好是 $x_{1}$ 和 $x_{2}$，所以它唯一需要避免的颜色是 $\\alpha$ 和 $\\beta$。由于 $|L(y)| \\geq 3$，集合 $L(y) \\setminus \\{\\alpha,\\beta\\}$ 是非空的（即使 $\\alpha$ 和 $\\beta$ 都属于 $L(y)$）。任意选择一个 $c(y) \\in L(y) \\setminus \\{\\alpha,\\beta\\}$。因为 $B$ 中的顶点两两不相邻，所以这些选择是相互独立的，并产生一个 $L$-着色。\n\n结合下界和上界，我们得出结论 $\\text{ch}(K_{2,4})=3$。", "answer": "$$\\boxed{3}$$", "id": "1519355"}, {"introduction": "列表染色不仅仅是一个抽象概念，它在资源分配问题中有着直接的应用，例如在无线网络中分配频率。本练习 [@problem_id:1519337] 使用完全图 $K_3$ 模拟了这样一个场景，并要求计算在随机选择允许的信道列表时，成功分配信道的概率。这项实践将图论与概率论联系起来，展示了如何分析满足染色约束的可能性。", "problem": "一个小型无线网络由三个相同的通信节点组成，它们的部署位置使得任意两个节点都在彼此的干扰范围内。为实现无干扰运行，每个节点都必须分配一个唯一的频率信道。一个中央系统管理着一个包含四个可用频率信道的信道池，标记为 $\\{1, 2, 3, 4\\}$。\n\n对于这三个节点中的每一个，都会选择一个包含两个允许信道的列表。这个选择过程对每个节点都是独立进行的，并且任何包含两个信道的列表被选中的可能性是均等的。然后，系统必须从每个节点各自的允许信道列表中为其分配一个工作信道。\n\n计算可能实现有效、无干扰的信道分配的概率。请用最简精确分数表示你的答案。", "solution": "设可用信道集为 $U=\\{1,2,3,4\\}$，对于节点 $1,2,3$，其允许信道列表分别为 $L_{1},L_{2},L_{3}$，每个列表都是从 $U$ 的 $\\binom{4}{2}=6$ 个双元素子集中独立且均匀地选择的。列表配置的总数为\n$$\nN_{\\text{total}}=\\left(\\binom{4}{2}\\right)^{3}=6^{3} = 216.\n$$\n存在一个有效、无干扰的分配当且仅当可以从每个 $L_{i}$ 中单射地选择一个元素，即存在一个相异代表系。根据霍尔婚配定理 (Hall's Marriage Theorem)，这样的系统不存在当且仅当存在一个非空子集 $T\\subseteq\\{1,2,3\\}$ 满足霍尔条件失败，即 $\\left|\\bigcup_{i\\in T}L_{i}\\right|  |T|$。\n让我们检查不同大小的 $T$：\n- 如果 $|T|=1$，比如 $T=\\{i\\}$，则 $|\\bigcup_{j\\in T}L_{j}| = |L_i|=2$。条件 $2  1$ 不成立。\n- 如果 $|T|=2$，比如 $T=\\{i,j\\}$，则 $|\\bigcup_{k\\in T}L_{k}| = |L_i \\cup L_j| \\ge |L_i|=2$。条件 $|L_i \\cup L_j|  2$ 不成立。\n- 如果 $|T|=3$，即 $T=\\{1,2,3\\}$，条件是 $\\left|\\bigcup_{i=1}^3 L_i\\right|  3$。\n\n因此，唯一可能违反条件的情况是 $|T|=3$。因为每个 $L_{i}$ 的大小为 $2$，$\\left|\\bigcup_{i=1}^3 L_i\\right|  3$ 的情况发生的唯一方式是当 $\\left|\\bigcup_{i=1}^3 L_i\\right|=2$ 时，这必然导致 $L_{1}=L_{2}=L_{3}=S$，其中 $S$ 是 $U$ 的某个双元素子集。因此，导致分配失败的配置数量即为 $S$ 的选择数量：\n$$\nN_{\\text{fail}}=\\binom{4}{2}=6.\n$$\n因此，所求的成功概率为\n$$\nP_{\\text{success}}=1-\\frac{N_{\\text{fail}}}{N_{\\text{total}}}=1-\\frac{6}{216}=1-\\frac{1}{36}=\\frac{35}{36}.\n$$", "answer": "$$\\boxed{\\frac{35}{36}}$$", "id": "1519337"}]}