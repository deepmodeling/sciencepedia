{"hands_on_practices": [{"introduction": "掌握理论之后，最好的学习方法就是动手实践。这个练习将指导你应用普里姆（Prim）算法，这是一个寻找最小生成树（MST）的核心算法。通过为一个假设的火星殖民地设计通信网络，你将体验到图论如何将现实世界中的网络优化问题转化为可计算的模型，并找到成本最低的连接方案 [@problem_id:1384198]。", "problem": "一家航空航天工程公司负责为新的火星殖民地设计一个基础通信网络。该网络必须连接六个关键定居点，确保数据可以在任意两个地点之间直接或间接地传输。在任意两个定居点之间建立直接通信链路的成本由一个“延迟-能量成本指数”给出，这是一个无量纲量，它综合考虑了信号传播时间、大气干扰和功率需求。较低的指数意味着更高效的链路。\n\n六个定居点分别是：Ares Prime (A)、Valles Marineris Base (B)、Olympus Mons Observatory (C)、Hellas Planitia Colony (D)、Syrtis Major Hub (E) 和 Elysium Outpost (F)。\n\n可能的通信链路及其相关的成本指数如下：\n- A 到 B：5\n- A 到 C：6\n- A 到 D：4\n- B 到 C：2\n- B 到 E：9\n- C 到 D：2\n- C 到 E：5\n- C 到 F：8\n- D 到 F：7\n- E 到 F：3\n\n为确保网络拓扑的标准化和可验证性，必须遵循一个构建协议。使用Prim算法，从定居点Ares Prime (A)开始，确定构建一个连接所有六个定居点的网络的最低可能总成本指数。", "solution": "我们将定居点建模为无向加权图的顶点，将可能的链路建模为具有给定权重（成本指数）的边。Prim算法从一个指定的顶点开始，通过不断添加连接当前树与一个新顶点的权重最小的边，来构建一个最小生成树。\n\n从Ares Prime (A)开始初始化：设当前树的顶点集为 $S = \\{A\\}$。离开 $S$ 的边有权重为 $5$ 的 $A\\text{-}B$、权重为 $6$ 的 $A\\text{-}C$ 和权重为 $4$ 的 $A\\text{-}D$。最小的是权重为 $4$ 的 $A\\text{-}D$，所以添加 $D$。现在 $S = \\{A,D\\}$，当前总成本为 $4$。\n\n从 $S = \\{A,D\\}$ 出发，连接到 $V \\setminus S$ 的候选边有权重为 $5$ 的 $A\\text{-}B$、权重为 $6$ 的 $A\\text{-}C$、权重为 $2$ 的 $D\\text{-}C$ 和权重为 $7$ 的 $D\\text{-}F$。最小的是权重为 $2$ 的 $C\\text{-}D$，所以添加 $C$。现在 $S = \\{A,D,C\\}$，当前总成本为 $4+2=6$。\n\n从 $S = \\{A,D,C\\}$ 出发，候选边有权重为 $2$ 的 $C\\text{-}B$、权重为 $5$ 的 $C\\text{-}E$、权重为 $8$ 的 $C\\text{-}F$、权重为 $7$ 的 $D\\text{-}F$ 和权重为 $5$ 的 $A\\text{-}B$。最小的是权重为 $2$ 的 $B\\text{-}C$，所以添加 $B$。现在 $S = \\{A,D,C,B\\}$，当前总成本为 $4+2+2=8$。\n\n从 $S = \\{A,D,C,B\\}$ 出发，候选边有权重为 $5$ 的 $C\\text{-}E$、权重为 $8$ 的 $C\\text{-}F$、权重为 $7$ 的 $D\\text{-}F$ 和权重为 $9$ 的 $B\\text{-}E$。最小的是权重为 $5$ 的 $C\\text{-}E$，所以添加 $E$。现在 $S = \\{A,D,C,B,E\\}$，当前总成本为 $4+2+2+5=13$。\n\n从 $S = \\{A,D,C,B,E\\}$ 出发，剩下的候选边有权重为 $3$ 的 $E\\text{-}F$、权重为 $7$ 的 $D\\text{-}F$ 和权重为 $8$ 的 $C\\text{-}F$。最小的是权重为 $3$ 的 $E\\text{-}F$，所以添加 $F$。现在所有六个定居点都已连接，算法终止。\n\n最低总成本指数是所选边的权重之和：\n$$4 + 2 + 2 + 5 + 3 = 16.$$", "answer": "$$\\boxed{16}$$", "id": "1384198"}, {"introduction": "虽然普里姆或克鲁斯卡尔（Kruskal）算法是解决任何最小生成树问题的通用工具，但深刻理解其背后的原理往往能带来更巧妙、更高效的解法。这个练习 [@problem_id:1384190] 旨在挑战你利用图中边权重的特殊结构来直接推导出最小生成树。它不仅是计算能力的考验，更是对最小生成树“切割属性”这一关键性质的深化理解。", "problem": "考虑一个完全图，记为 $K_5$，其顶点集为 $V = \\{1, 2, 3, 4, 5\\}$。连接集合 $V$ 中任意两个不同顶点 $i$ 和 $j$ 的边的权重由函数 $w(i, j) = |i - j|$ 定义。一个图的生成树是一个子图，它本身是一棵树，且连接了所有的顶点。最小生成树 (MST) 是所有生成树中总边权最小的生成树。\n\n求该图的最小生成树的总权重。", "solution": "给定完全图 $K_{5}$，其顶点集为 $V=\\{1,2,3,4,5\\}$，对于 $i\\neq j$，边权为 $w(i,j)=|i-j|$。一个有 $5$ 个顶点的最小生成树 (MST) 恰好有 $4$ 条边。\n\n首先，我们利用割集性质证明，连接连续整数的边必须在每个最小生成树中。对于每个 $k\\in\\{1,2,3,4\\}$，考虑割集 $\\left(S_{k},V\\setminus S_{k}\\right)$，其中 $S_{k}=\\{1,2,\\dots,k\\}$。任何跨越此割集的边的端点满足 $i\\in S_{k}$ 和 $j\\in V\\setminus S_{k}$，因此有 $i\\leq k$ 和 $j\\geq k+1$，所以\n$$\nw(i,j)=|i-j|=j-i\\geq (k+1)-k=1.\n$$\n跨越此割集且权重为 $1$ 的唯一边是 $(k,k+1)$，其权重为 $w(k,k+1)=|k-(k+1)|=1$。根据割集性质，对于 $k=1,2,3,4$，每条边 $(k,k+1)$ 都必须属于任何最小生成树。\n\n这 $4$ 条边构成一棵树（一条路径），连接了所有 $5$ 个顶点，因此它们构成了一个最小生成树。其总权重为\n$$\n\\sum_{k=1}^{4} w(k,k+1)=\\sum_{k=1}^{4} |k-(k+1)|=\\sum_{k=1}^{4} 1=4.\n$$\n作为一个验证性的下界，任何生成树都有 $4$ 条边，每条边的权重至少为 $1$，因此总权重至少为 $4$。上面的路径达到了这个下界。因此，最小生成树的总权重为 $4$。", "answer": "$$\\boxed{4}$$", "id": "1384190"}, {"introduction": "现实世界中的网络很少是静止不变的；它们会随着需求的增长而扩展和演变。这个练习模拟了一个在工程中非常常见的场景：如何在一个现有的最优网络中添加新节点，并重新规划以维持整体最优性。通过解决这个问题 [@problem_id:1522123]，你将学会如何将新旧组件整合，并应用最小生成树算法来处理动态更新的网络，这是一个更贴近实际应用的高级挑战。", "problem": "一家科技公司正在将其私有云基础设施扩展到多个数据中心。现有网络连接了 $N=5$ 个数据中心，标记为 $F_1, F_2, F_3, F_4, F_5$。该网络拓扑被设计为最小生成树（MST），以最小化所使用的高带宽光缆的长度。现有最小生成树中的具体连接及其长度（单位：公里）如下：\n- 连接 $F_1$ 和 $F_2$ 的光缆长度为 5 公里。\n- 连接 $F_2$ 和 $F_3$ 的光缆长度为 6 公里。\n- 连接 $F_1$ 和 $F_4$ 的光缆长度为 20 公里。\n- 连接 $F_4$ 和 $F_5$ 的光缆长度为 7 公里。\n\n该公司现在正在基础设施中增加一个新的中心枢纽 $H$。为确保完全连接，计划从枢纽 $H$ 到五个现有数据中心中的每一个都铺设专用的光纤链路。连接枢纽 $H$ 到设施 $F_i$（对于 $i=1, 2, 3, 4, 5$）所需的光缆长度由以下公式确定：\n$$L(H, F_i) = 30 - 4i$$\n其中 $L$ 是以公里为单位的长度，$i$ 是设施的索引。\n\n为了保持最优的资源分配，必须将包含六个位置（$F_1, \\dots, F_5$ 和 $H$）的整个网络重新配置成一个新的最小生成树。计算这个新的最小生成树所需的总光缆长度（单位：公里）。请用整数表示你的答案。", "solution": "我们需要在包含顶点 $F_{1},F_{2},F_{3},F_{4},F_{5},H$ 的图上构建最小生成树（MST），其中现有的设施间链路与原始MST中给出的一致，新的枢纽链路的长度由公式 $L(H,F_{i})=30-4i$（对于 $i=1,2,3,4,5$）指定。\n\n首先，列出所有可用的边及其权重：\n- 现有的设施间链路：\n  - $F_{1}F_{2}$，权重为 $5$，\n  - $F_{2}F_{3}$，权重为 $6$，\n  - $F_{1}F_{4}$，权重为 $20$，\n  - $F_{4}F_{5}$，权重为 $7$。\n- 从 $H$ 出发的新枢纽链路：\n  - $HF_{1}$，权重为 $30-4\\cdot 1=26$，\n  - $HF_{2}$，权重为 $30-4\\cdot 2=22$，\n  - $HF_{3}$，权重为 $30-4\\cdot 3=18$，\n  - $HF_{4}$，权重为 $30-4\\cdot 4=14$，\n  - $HF_{5}$，权重为 $30-4\\cdot 5=10$。\n\n为了找到包含 $6$ 个节点的MST，我们应用 Kruskal 算法：将所有边按权重非递减排序，并且仅当一条边连接两个不同的连通分量时才添加它，直到添加了 $5$ 条边（即 $6-1$）为止。\n\n按权重对边进行排序：\n$$5,\\;6,\\;7,\\;10,\\;14,\\;18,\\;20,\\;22,\\;26.$$\n\n按步骤进行：\n1. 添加 $F_{1}F_{2}$，权重为 $5$；连通分量：$\\{F_{1},F_{2}\\}$，其他点孤立。\n2. 添加 $F_{2}F_{3}$，权重为 $6$；连通分量：$\\{F_{1},F_{2},F_{3}\\}$ 和 $\\{F_{4}\\}$, $\\{F_{5}\\}$, $\\{H\\}$。\n3. 添加 $F_{4}F_{5}$，权重为 $7$；连通分量：$\\{F_{1},F_{2},F_{3}\\}$, $\\{F_{4},F_{5}\\}$, $\\{H\\}$。\n4. 添加 $HF_{5}$，权重为 $10$；连通分量：$\\{F_{1},F_{2},F_{3}\\}$, $\\{F_{4},F_{5},H\\}$。\n5. 考虑 $HF_{4}$，权重为 $14$；这条边将连接 $H$ 和 $F_{4}$，它们已经处于同一个连通分量 $\\{F_{4},F_{5},H\\}$ 中，因此会形成一个环，故跳过。\n6. 添加 $HF_{3}$，权重为 $18$；这条边将 $\\{F_{1},F_{2},F_{3}\\}$ 与 $\\{F_{4},F_{5},H\\}$ 连接起来，将所有顶点合并成一个单一的连通分量。\n\n我们现在有 $5$ 条边，所以最小生成树已经完成。总长度是所包含边的权重之和：\n$$5+6+7+10+18=46.$$\n\n因此，新的最小生成树所需的总光缆长度为 $46$ 公里。", "answer": "$$\\boxed{46}$$", "id": "1522123"}]}