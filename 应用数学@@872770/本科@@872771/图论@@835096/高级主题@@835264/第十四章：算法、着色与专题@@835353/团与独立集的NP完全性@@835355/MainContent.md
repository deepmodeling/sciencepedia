## 引言
团（Clique）和[独立集](@entry_id:270749)（Independent Set）是图论和计算机科学中两个最基本且研究最深入的组合优化问题。它们简洁的定义背后隐藏着深刻的[计算复杂性](@entry_id:204275)，使其成为理论研究的基石和衡量其他问题难度的标尺。尽管在一般情况下寻找[最大团](@entry_id:262975)或[最大独立集](@entry_id:274181)被认为是计算上不可行的，但这并没有削弱它们的重要性；相反，这种固有的难度恰恰反映了它们在捕捉现实世界中“兼容性”与“冲突”关系方面的强大能力。本文旨在填补理论概念与实际应用之间的鸿沟，揭示这两个问题为何如此核心。

在接下来的内容中，我们将踏上一段从理论到实践的旅程。在“原理与机制”一章，我们将精确定义团、[独立集](@entry_id:270749)及其相关概念，探索它们之间优美的对偶关系，并逐步构建证明其[NP完全性](@entry_id:153259)的经典论证。随后，在“应用与交叉学科联系”一章，我们将看到这些理论概念如何化身为强大的建模工具，解决从资源调度到[生物信息学](@entry_id:146759)等不同领域的实际难题。最后，通过“动手实践”部分，你将有机会通过解决具体问题来巩固所学知识，亲身体验这些问题的复杂性与魅力。

## 原理与机制

在深入探讨[计算复杂性](@entry_id:204275)的核心之前，我们必须首先精确地定义本章所关注的几个关键[图论](@entry_id:140799)概念，并揭示它们之间深刻的内在联系。这些联系不仅本身具有理论上的优美性，而且是理解为何这些问题在计算上具有相同“命运”的基石。

### 基本定义与对偶关系

在一个[无向图](@entry_id:270905) $G=(V, E)$ 中，其中 $V$ 是顶点集，$E$ 是[边集](@entry_id:267160)，我们关注顶点的特定[子集](@entry_id:261956)。

**团 (Clique)**：一个顶点[子集](@entry_id:261956) $C \subseteq V$ 被称为**团**，如果其中每对不同的顶点都通过一条边相连。换句话说，由 $C$ 诱导的[子图](@entry_id:273342)是一个[完全图](@entry_id:266483)。**[最大团](@entry_id:262975)问题 (Maximum Clique Problem)** 的目标是找到图中规模最大（即包含顶点数最多）的团。该团的大小记为 $\omega(G)$。

**[独立集](@entry_id:270749) (Independent Set)**：一个顶点[子集](@entry_id:261956) $I \subseteq V$ 被称为**[独立集](@entry_id:270749)**，如果其中任意两个顶点之间都没有边相连。**[最大独立集](@entry_id:274181)问题 (Maximum Independent Set Problem)** 的目标是找到图中规模最大的[独立集](@entry_id:270749)。该独立集的大小记为 $\alpha(G)$。

**顶点覆盖 (Vertex Cover)**：一个顶点[子集](@entry_id:261956) $K \subseteq V$ 被称为**顶点覆盖**，如果图中的每一条边都至少有一个端点在 $K$ 中。**[最小顶点覆盖](@entry_id:265319)问题 (Minimum Vertex Cover Problem)** 的目标是找到图中规模最小（即包含顶点数最少）的顶点覆盖。该[顶点覆盖](@entry_id:260607)的大小记为 $\tau(G)$。

这三个概念并非孤立存在，而是通过优美的对偶关系紧密相连。

#### [团与独立集](@entry_id:276439)：互[补图](@entry_id:267681)中的镜像

理解团和独立集之间关系的关键在于**补图 (complement graph)** 的概念。对于一个图 $G=(V, E)$，其[补图](@entry_id:267681) $\bar{G}=(V, \bar{E})$ 拥有相同的顶点集，但其[边集](@entry_id:267160) $\bar{E}$ 恰好包含所有*不*在 $E$ 中的边。

一个集合 $S \subseteq V$ 是 $G$ 中的一个团，当且仅当对于所有不同的顶点 $u, v \in S$，边 $(u,v)$ 都属于 $E$。根据[补图](@entry_id:267681)的定义，这等价于对于所有不同的 $u, v \in S$，边 $(u,v)$ 都不属于 $\bar{E}$。这正是 $S$ 在 $\bar{G}$ 中是独立集的定义。

因此，我们得到一个基本而强大的结论：**一个顶点[子集](@entry_id:261956)在图 $G$ 中是团，当且仅当它在补图 $\bar{G}$ 中是独立集。**

这个[等价关系](@entry_id:138275)意味着在 $G$ 中寻找[最大团](@entry_id:262975)的问题，完[全等](@entry_id:273198)同于在 $\bar{G}$ 中寻找[最大独立集](@entry_id:274181)的问题，即 $\omega(G) = \alpha(\bar{G})$。这一性质具有重要的算法意义。例如，如果我们有一个能够高效求解[最大独立集](@entry_id:274181)的“黑盒”求解器，我们就可以通过构建补图 $\bar{G}$，并将其输入该求解器，来找到原图 $G$ 中的[最大团](@entry_id:262975)。求解器在 $\bar{G}$ 上找到的[最大独立集](@entry_id:274181)，就是 $G$ 中的一个[最大团](@entry_id:262975) [@problem_id:1524178]。

#### [独立集](@entry_id:270749)与顶点覆盖：同一图中的互补

[独立集](@entry_id:270749)和顶点覆盖之间的关系甚至更为直接，它发生在同一个图 $G$ 上。一个顶点[子集](@entry_id:261956) $S$ 是 $G$ 的一个独立集，意味着 $S$ 中没有边。这等价于说图 $G$ 中的每一条边都必须至少有一个端点不在 $S$ 中，也就是说，至少有一个端点在 $V \setminus S$ 中。这正是 $V \setminus S$ 是一个[顶点覆盖](@entry_id:260607)的定义。

反之，如果 $K$ 是一个[顶点覆盖](@entry_id:260607)，那么图中的每一条边都至少有一个端点在 $K$ 中。这意味着不可能有一条边的两个端点都在 $V \setminus K$ 中，因此 $V \setminus K$ 是一个独立集。

这种互补关系导出了一个关于它们大小的基本恒等式：
$$
\alpha(G) + \tau(G) = |V|
$$
这个恒等式表明，找到一个[最大独立集](@entry_id:274181)等价于找到一个[最小顶点覆盖](@entry_id:265319)。例如，在一个拥有 117 个服务器的数据中心网络中，如果已知最大的互不直接通信的服务器组（[最大独立集](@entry_id:274181)）的大小为 68，那么为了监控所有通信链路而需要部署诊断工具的最少服务器数量（[最小顶点覆盖](@entry_id:265319)）就必然是 $117 - 68 = 49$ [@problem_id:1524171]。

这些对偶关系意味着，从计算复杂性的角度看，[最大团](@entry_id:262975)、[最大独立集](@entry_id:274181)和[最小顶点覆盖](@entry_id:265319)这三个问题是“三位一体”的。针对其中任何一个问题的算法突破，都将直接转化为其他两个问题的突破。

### 计算复杂性：[NP完全性](@entry_id:153259)的证明

[团问题](@entry_id:271629)和[独立集问题](@entry_id:269282)以其计算难度而闻名。对于一般图而言，它们是 **[NP完全](@entry_id:145638) (NP-complete)** 问题的经典范例。这意味着，尽管我们尚不能证明没有快速（[多项式时间](@entry_id:263297)）算法来精确求解它们，但绝大多数[理论计算机科学](@entry_id:263133)家相信这样的算法不存在。

#### NP成员资格：[多项式时间](@entry_id:263297)可验证性

一个问题属于 **NP** 类（[非确定性](@entry_id:273591)[多项式时间](@entry_id:263297)），意味着一个声称的解（称为“证书”）可以在[多项式时间](@entry_id:263297)内被验证其正确性。对于[团问题](@entry_id:271629)和[独立集问题](@entry_id:269282)，这一点是显而易见的。

假设有人提供了一个顶点[子集](@entry_id:261956) $S$，并声称它是在图 $G$ 中一个大小为 $k$ 的团。要验证这个声明，我们只需检查两件事：(1) $|S| = k$；(2) 对于 $S$ 中所有 $\binom{k}{2}$ 对顶点，检查它们之间是否存在一条边。这个验证过程的耗时是 $O(k^2 \cdot \text{poly}(|V|))$，是输入规模的多项式函数。因此，[团问题](@entry_id:271629)（作为决策问题）属于NP。

这个验证过程是[计算理论](@entry_id:273524)的核心。例如，如果一个计算机科学家声称某个顶点集 $C$ 是[补图](@entry_id:267681) $\bar{G}_0$ 中的一个独立集，我们的任务就是扮演验证者的角色。我们需要检查 $C$ 中的任意两个顶点在 $\bar{G}_0$ 中是否都没有边相连，这等价于检查它们在原图 $G_0$ 中是否都有边相连。如果任何一对顶点在 $G_0$ 中没有边，那么这个证书就是无效的，我们无法从中确认任何关于 $G_0$ 中团的信息 [@problem_id:1524143]。

#### NP困难性：通过[3-SAT归约](@entry_id:268165)

证明一个问题是 **NP困难 (NP-hard)** 的标准方法，是展示如何将一个已知的[NP完全问题](@entry_id:142503)在多项式时间内**归约 (reduce)** 到它。对于[独立集问题](@entry_id:269282)，经典的归约来自 **3-[可满足性问题](@entry_id:262806) ([3-SAT](@entry_id:274215))**。

[3-SAT问题](@entry_id:636995)询问：给定一个由多个子句（clause）组成的[合取范式](@entry_id:148377)[布尔表达式](@entry_id:262805) $\phi$，其中每个子句是三个文字（literal，即一个变量或其否定）的析取，是否存在一个对变量的[真值赋值](@entry_id:273237)（True/False）使得整个表达式 $\phi$ 为真？

从一个3-SAT实例 $\phi$（假设有 $k$ 个子句和 $n$ 个变量）到[独立集问题](@entry_id:269282)实例的归约构造如下：

1.  **图的构建**：
    *   对于 $\phi$ 中的每一个子句 $C_i = (l_{i,1} \lor l_{i,2} \lor l_{i,3})$，我们创建一个由三个顶点 $\{v_{i,1}, v_{i,2}, v_{i,3}\}$ 组成的“[子句小工具](@entry_id:276892) (clause gadget)”。每个顶点分别对应子句中的一个文字。因此，图 $G$ 总共将有 $3k$ 个顶点。
    *   **子句内边 (Intra-clause edges)**：在每个[子句小工具](@entry_id:276892)内部，连接所有顶点对，形成一个三角形。即对每个 $i$，顶点 $\{v_{i,1}, v_{i,2}, v_{i,3}\}$ 构成一个 $K_3$ [子图](@entry_id:273342)。
    *   **子句间边 (Inter-clause edges)**：如果来自不同子句的两个顶点 $v_{i,j}$ 和 $v_{p,q}$ ($i \neq p$) 对应的文字是互为否定的（例如，一个代表 $x_m$，另一个代表 $\neg x_m$），则在它们之间添加一条边。

2.  **归约的核心论证**：这个构造的关键在于证明：**[布尔公式](@entry_id:267759) $\phi$ 是可满足的，当且仅当构造出的图 $G$ 中存在一个大小为 $k$ 的独立集。**

这个论证的双[向性](@entry_id:144651)如下：

*   **($\Rightarrow$) 可满足 $\Rightarrow$ 存在大小为 $k$ 的[独立集](@entry_id:270749)**：
    如果 $\phi$ 可满足，那么存在一个满足所有子句的[真值赋值](@entry_id:273237)。对于每个子句 $C_i$，由于它被满足，其中至少有一个文字为真。我们从每个子句 $C_i$ 中选择一个（可以是多个中的任意一个）被该赋值设为真的文字，并把其对应的顶点 $v_{i,j}$ 加入集合 $S$。这样我们选出了 $k$ 个顶点。
    *   $S$ 是一个[独立集](@entry_id:270749)吗？是的。首先，由于我们从每个[子句小工具](@entry_id:276892)（三角形）中只选择了一个顶点，所以 $S$ 中没有子句内的边。其次，我们选择的文字都来自一个一致的[真值赋值](@entry_id:273237)，所以不可能同时选择一个文字 $x_m$ 和它的否定 $\neg x_m$。这意味着 $S$ 中的顶点所对应的文字不会互为否定，因此 $S$ 中也没有子句间的边。故 $S$ 是一个大小为 $k$ 的独立集。

*   **($\Leftarrow$) 存在大小为 $k$ 的[独立集](@entry_id:270749) $\Rightarrow$ 可满足**：
    假设图 $G$ 中存在一个大小为 $k$ 的[独立集](@entry_id:270749) $S$。
    *   **子句内边的作用**：由于每个[子句小工具](@entry_id:276892)都是一个三角形，任何[独立集](@entry_id:270749)最多只能包含其中一个顶点 [@problem_id:1524135]。因为 $|S|=k$ 并且有 $k$ 个[子句小工具](@entry_id:276892)，所以 $S$ 必须恰好从每个小工具中各取一个顶点。
    *   **子句间边的作用**：由于 $S$ 是独立的，其中任意两个顶点之间没有边。特别是，没有子句间的边。这意味着 $S$ 中不可能同时包含代表 $x_m$ 的顶点和代表 $\neg x_m$ 的顶点。
    *   我们可以基于 $S$ 来构建一个[真值赋值](@entry_id:273237)：对于 $S$ 中顶点对应的每个文字，将其设为真。如果某个变量 $x_m$ 及其否定 $\neg x_m$ 都没有出现在 $S$ 中，我们可以任意将 $x_m$ 赋值。这个赋值是无矛盾的。由于 $S$ 从每个子句中都取了一个代表顶点，这意味着每个子句都至少有一个文字被赋值为真，因此整个公式 $\phi$ 是可满足的。

这个归约过程本身可以在[多项式时间](@entry_id:263297)内完成，它严谨地证明了[独立集问题](@entry_id:269282)至少和[3-SAT](@entry_id:274215)一样“难”。一个具体的例子，如“奇美拉计划”中的约束条件，可以被看作一个3-SAT实例，其对应的“[冲突图](@entry_id:272840)”正是上述归约构造的产物。分析该图的[最大独立集](@entry_id:274181)大小，就等同于判断[约束系统](@entry_id:164587)是否可行 [@problem_id:1524181]。

由于[独立集问题](@entry_id:269282)属于NP，并且是NP困难的，所以它是[NP完全](@entry_id:145638)的。再结合前述的对偶关系，我们可以立即推断出[最大团](@entry_id:262975)问题和[最小顶点覆盖](@entry_id:265319)问题也都是[NP完全](@entry_id:145638)的。

### 从判定到搜索：自归约的力量

[NP完全性](@entry_id:153259)的定义通常基于**[判定问题](@entry_id:636780)**（Decision Problem），即回答“是”或“否”的问题（例如，“图中是否存在一个大小为 $k$ 的团？”）。然而，在实践中，我们往往更关心**搜索问题**（Search Problem），即找到一个实际的解（“找出一个大小为 $k$ 的团”）。

对于许多[NP完全问题](@entry_id:142503)，包括[团问题](@entry_id:271629)，[判定问题](@entry_id:636780)和搜索问题在多项式时间内是等价的。这种等价性通过一种称为**自归约 (self-reduction)** 的强大技术来建立。它展示了如何利用一个能解决[判定问题](@entry_id:636780)的“黑盒”预言机（oracle）来构造一个实际的解。

假设我们有一个预言机 `hasClique(G, k)`，它能立即告诉我们图 $G$ 中是否存在大小为 $k$ 的团。我们可以通过多次调用这个预言机来逐步构建一个 $k$-团 [@problem_id:1524164]。以下是两种有效的自归约策略：

1.  **逐个移除顶点的策略**：
    首先调用 `hasClique(G, k)`。如果返回 `False`，则不存在 $k$-团，算法结束。如果返回 `True`，我们初始化一个候选顶点集 $C_{cand} = V$。然后，我们遍历原图中的每一个顶点 $v \in V$，并询问预言机：在去掉 $v$ 后的图中，即 `G[C_{cand} - {v}]`，是否仍然存在一个大小为 $k$ 的团？
    *   如果 `hasClique(G[C_{cand} - {v}], k)` 返回 `True`，说明顶点 $v$ 对于构成一个 $k$-团不是必需的，我们可以安全地将它从候选集中移除，即更新 $C_{cand} = C_{cand} - \{v\}$。
    *   如果返回 `False`，说明所有大小为 $k$ 的团都必须包含 $v$，因此 $v$ 是一个“关键”顶点，我们必须保留它。
    遍历所有顶点后，最终的候选集 $C_{cand}$ 将恰好包含 $k$ 个顶点，且它们构成一个 $k$-团。

2.  **逐个构建团的策略**：
    同样，先确认 `hasClique(G, k)` 为 `True`。初始化一个空团 $C = \emptyset$ 和一个候选池 $U = V$。我们重复 $k$ 次以下过程来向 $C$ 中添加顶点：
    遍历候选池 $U$ 中的每个顶点 $v$。我们将 $v$ 视为下一个加入团 $C$ 的潜在成员。要使 $v$ 成为一个合法选择，剩下的 $k - |C| - 1$ 个顶点必须从 $v$ 的邻居中选取，并且它们本身也要能构成一个团。更精巧的方法是反向思考：我们尝试从 $U$ 中移除一个顶点 $v$，并询问预言机在剩余的顶点中是否还能找到一个大小为 $k-|C|$ 的团。
    *   如果 `hasClique(G[U - {v}], k - |C|)` 返回 `True`，说明即使没有 $v$，我们仍然可以在 $U$ 中找到所需的团，因此可以安全地将 $v$ 从候选池中移除 $U = U - \{v\}$。
    *   如果返回 `False`，说明在当前候选池 $U$ 中，任何大小为 $k-|C|$ 的团都必须包含 $v$。因此，我们将 $v$ 加入我们的团中 ($C = C \cup \{v\}$)，并将候选池缩小为 $v$ 在原候选池中的邻居 ($U = U \cap N(v)$)，以确保后续选择的顶点都与 $v$ 相邻。
    这个过程迭代进行，直到 $|C|=k$。

这两种策略都只需要对预言机进行多项式次（$O(|V|)$ 或 $O(|V|^2)$）调用。这意味着如果[判定问题](@entry_id:636780)是[多项式时间](@entry_id:263297)可解的（即 $P=NP$），那么[搜索问题](@entry_id:270436)也是。

### 可解性的绿洲：特殊图类上的[多项式时间算法](@entry_id:270212)

[NP完全性](@entry_id:153259)是针对**一般图**的性质。当我们将输入限制在具有特定结构的图类时，这些“困难”问题有时会变得出人意料地简单。

#### 二分图 (Bipartite Graphs)

[二分图](@entry_id:262451)是一种顶点集可以被划分为两个独立的[子集](@entry_id:261956) $U$ 和 $W$ 的图，所有边都连接一个 $U$ 中的顶点和一个 $W$ 中的顶点。
*   **[团问题](@entry_id:271629)**：在二分图中，任何三个顶点中至少有两个位于同一部分（$U$ 或 $W$），而同一部分内部没有边。因此，[二分图](@entry_id:262451)中不可能存在三角形 ($K_3$)，更不用说更大的团了。[最大团](@entry_id:262975)的大小最多为2（如果图有边）或1（如果图没有边）。确定[最大团](@entry_id:262975)的大小和位置是平凡的，可以在线性时间内完成。
*   **[独立集问题](@entry_id:269282)**：在[二分图](@entry_id:262451)上，[最大独立集](@entry_id:274181)问题也是[多项式时间](@entry_id:263297)可解的。这源于著名的**[柯尼希定理](@entry_id:268028) (Kőnig's Theorem)**，该定理指出，在任何[二分图](@entry_id:262451)中，[最小顶点覆盖](@entry_id:265319)的大小等于最大匹配（没有公共顶点的[边集](@entry_id:267160)）的大小。由于[最大匹配](@entry_id:268950)可以通过 Hopcroft-Karp 算法等在[多项式时间](@entry_id:263297)内找到，我们就可以计算出 $\tau(G)$。再利用恒等式 $\alpha(G) = |V| - \tau(G)$，我们就能得到[最大独立集](@entry_id:274181)的大小。

因此，在二分图这一重要图类上，团和[独立集问题](@entry_id:269282)都从[NP完全](@entry_id:145638)的“ intractable ”区域进入了[多项式时间](@entry_id:263297)可解的“ tractable ”区域 [@problem_id:1524148]。

#### 完美图 (Perfect Graphs)

[完美图](@entry_id:276112)是另一个更广泛的、[团问题](@entry_id:271629)可在[多项式时间](@entry_id:263297)求解的图类。一个图被称为**完美图**，如果对于它的每一个[诱导子图](@entry_id:270312) $H$，其[色数](@entry_id:274073)（为[顶点着色](@entry_id:267488)使得相邻顶点颜色不同所需的最少颜色数）等于其[最大团](@entry_id:262975)的大小，即 $\chi(H) = \omega(H)$。
一个里程碑式的成果，即**[强完美图定理](@entry_id:274498) (Strong Perfect Graph Theorem)**，给出了[完美图](@entry_id:276112)的结构刻画：一个图是完美的，当且仅当它不包含长度为5或更大的奇数环（称为**[奇洞](@entry_id:270395) (odd hole)**）或其[补图](@entry_id:267681)（称为**奇反洞 (odd antihole)**）作为[诱导子图](@entry_id:270312)。
尽管定义看似抽象，但对于完美图，存在多项式时间的算法来求解[最大团](@entry_id:262975)和[最大独立集](@entry_id:274181)问题。然而，如果一个图不是完美的，例如，它包含一个长度为5的诱导环 ($C_5$)，那么这些专门的算法就不再适用，我们必须退回到针对一般图的（通常是[指数时间](@entry_id:265663)的）方法 [@problem_id:1524168]。

### 超越[NP完全性](@entry_id:153259)：参数化复杂性与[不可近似性](@entry_id:276407)

对[团问题](@entry_id:271629)难度的理解并未止步于[NP完全性](@entry_id:153259)。更现代的复杂性理论分支为我们提供了更精细的视角。

#### [参数化](@entry_id:272587)复杂性 (Parameterized Complexity)

在许多应用中，我们关心的解的规模 $k$（例如团的大小）可能远小于图的总规模 $n$。一个自然的问题是：是否存在一个运行时间为 $f(k) \cdot n^c$ 的算法，其中 $c$ 是一个常数，$f$ 是一个只依赖于 $k$ 的函数？这样的算法被称为**固定参数可解 (Fixed-Parameter Tractable, FPT)**。如果存在，即使对于非常大的图，只要 $k$ 保持很小，问题仍然是可控的。

然而，对于[团问题](@entry_id:271629)，答案被认为是“否”。理论证据来自于**W层级 (W-Hierarchy)**。[团问题](@entry_id:271629)（以 $k$ 为参数）已被证明是 **W[1]-完备 (W[1]-complete)** 的 [@problem_id:1434052]。这是什么意思呢？W[1] 是一个复杂性类，它包含了许多被认为不是[固定参数可解的](@entry_id:268250)问题。一个广泛接受的猜想是 $\text{FPT} \neq \text{W[1]}$。因此，证明一个问题是W[1]-完备的，就如同在经典复杂性中证明一个问题是[NP完全](@entry_id:145638)的一样，是表明它可能不是[固定参数可解的](@entry_id:268250)强有力证据。这比仅仅说它是[NP完全](@entry_id:145638)的提供了更精细的难度分析。

#### [近似算法](@entry_id:139835)的硬度 (Hardness of Approximation)

既然精确求解很困难，我们能否退而求其次，在[多项式时间](@entry_id:263297)内找到一个“足够好”的近似解？例如，是否存在一个[多项式时间算法](@entry_id:270212)，它总能找到一个大小至少为 $\omega(G)/2$ 的团（即一个[2-近似算法](@entry_id:276887)）？

令人惊讶的是，对于[团问题](@entry_id:271629)，答案也是“否”（除非P=NP）。这是一个关于**[不可近似性](@entry_id:276407) (inapproximability)** 的深刻结果。事实上，已经证明，对于任何常数 $\epsilon > 0$，在多项式时间内将[最大团](@entry_id:262975)的大小近似到 $n^{1-\epsilon}$ 的因子内都是不可能的，除非P=NP。

我们可以通过一个巧妙的思维实验来理解为何即使是常数因子近似也非常困难 [@problem_id:1524169]。假设我们真的有一个[多项式时间](@entry_id:263297)的[2-近似算法](@entry_id:276887) `APPROX-CLIQUE`。我们可以利用它来在[多项式时间](@entry_id:263297)内解决[NP完全](@entry_id:145638)的团[判定问题](@entry_id:636780)。其核心思想是**图的张量积**。构造一个新图 $G'$，其顶点是原图 $G$ 的 $k$-元组。可以证明 $\omega(G') = (\omega(G))^k$。
*   如果 $\omega(G) \ge k$，则 $\omega(G') \ge k^k$。我们的[2-近似算法](@entry_id:276887)会返回一个值 $c \ge k^k/2$。
*   如果 $\omega(G) \le k-1$，则 $\omega(G') \le (k-1)^k$。近似算法会返回一个值 $c \le (k-1)^k$。

由于对于 $k \ge 2$ 成立不等式 $\frac{k^k}{2} > (k-1)^k$，这两个区间是不重叠的。因此，通过比较[近似算法](@entry_id:139835)的返回值 $c$ 与阈值 $(k-1)^k$，我们就能精确地判定 $\omega(G)$ 是否大于等于 $k$。

这个归约看起来像是将[团问题](@entry_id:271629)在[多项式时间](@entry_id:263297)内解决了，从而证明了 P=NP。但其中的关键缺陷在于，构造图 $G'$ 所需的时间。$G'$ 的顶点数是 $n^k$，其中 $n=|V|$。当 $k$ 是输入的一部[分时](@entry_id:274419)，这个大小是 $n$ 的指数函数，而不是多项式函数。因此，整个过程不是一个多项式时间的算法。尽管如此，这个思想实验有力地揭示了[团问题](@entry_id:271629)的内在困难：任何能给出常数因子近似的“黑盒”都会导致巨大的理论后果，这正是它极不可能存在的原因。