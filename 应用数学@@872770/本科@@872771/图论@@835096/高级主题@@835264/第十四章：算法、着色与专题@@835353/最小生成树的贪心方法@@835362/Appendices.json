{"hands_on_practices": [{"introduction": "Kruskal 算法是解决最小生成树问题的一种经典贪心策略。本练习将带你一步步执行该算法，特别关注其核心决策过程：如何通过避免形成环路来逐步构建最优网络。通过这个实践 ([@problem_id:1542323])，你将掌握 Kruskal 算法的精髓，并为解决更复杂的问题打下坚实基础。", "problem": "一个工程师团队正在设计一个经济高效的通信网络，以连接七个远程数据中心，分别标记为 A, B, C, D, E, F 和 G。建立任意两个中心之间直接链路的成本是给定的。该网络表示为一个带权的无向图，其中顶点是数据中心，边是可能的链路及其相关成本作为权重。所有可能的链路及其成本列表如下：\n\n*   (B, C)，成本 10\n*   (F, G)，成本 7\n*   (A, F)，成本 11\n*   (A, C)，成本 5\n*   (C, D)，成本 3\n*   (D, G)，成本 8\n*   (E, F)，成本 4\n*   (A, B)，成本 2\n*   (E, G)，成本 9\n*   (B, D)，成本 6\n\n为了最小化总成本，团队决定使用 Kruskal 算法为该网络构建一个最小生成树 (MST)。下列哪条边是算法首先考虑但最终因其加入会形成一个环而被拒绝的？\n\nA. (B, C)\n\nB. (D, G)\n\nC. (E, G)\n\nD. (A, C)\n\nE. (B, D)", "solution": "Kruskal 算法按权重的非递减顺序选择边，当且仅当一条边连接两个不同的连通分量时才添加该边；当一条边的两个端点已经相连时（这会形成一个环），该边就会被拒绝。\n\n按权重对边进行排序：\n$$(A,B):2,\\ (C,D):3,\\ (E,F):4,\\ (A,C):5,\\ (B,D):6,\\ (F,G):7,\\ (D,G):8,\\ (E,G):9,\\ (B,C):10,\\ (A,F):11.$$\n\n逐步进行，维护连通分量的森林：\n1. 考虑边 $(A,B)$，成本为 $2$：连通分量为 $\\{A,B\\},\\ \\{C\\},\\ \\{D\\},\\ \\{E\\},\\ \\{F\\},\\ \\{G\\}$。添加此边。\n2. 考虑边 $(C,D)$，成本为 $3$：连通分量为 $\\{A,B\\},\\ \\{C,D\\},\\ \\{E\\},\\ \\{F\\},\\ \\{G\\}$。添加此边。\n3. 考虑边 $(E,F)$，成本为 $4$：连通分量为 $\\{A,B\\},\\ \\{C,D\\},\\ \\{E,F\\},\\ \\{G\\}$。添加此边。\n4. 考虑边 $(A,C)$，成本为 $5$：此边连接了 $\\{A,B\\}$ 和 $\\{C,D\\}$，因此添加此边。连通分量变为 $\\{A,B,C,D\\},\\ \\{E,F\\},\\ \\{G\\}$。\n5. 考虑边 $(B,D)$，成本为 $6$：$B$ 和 $D$ 都已在同一个连通分量 $\\{A,B,C,D\\}$ 中，所以添加 $(B,D)$ 会形成一个环。这是第一条被考虑但被拒绝的边。\n\n因此，第一条被拒绝的边是 $(B,D)$，对应选项 E。", "answer": "$$\\boxed{E}$$", "id": "1542323"}, {"introduction": "贪心算法保证能找到一个最小生成树，但这个最优解是唯一的吗？本练习 ([@problem_id:1542343]) 引导我们从“如何计算”转向“分析性质”。通过分析不同权重的图，你将发现导致多个最小生成树存在的关键条件——在决策的关键时刻出现相同权重的边，从而深化对贪心选择性质的理解。", "problem": "考虑一个有4个顶点的简单连通无向图，顶点标记为 $V_1, V_2, V_3, V_4$。这样一个图的最小生成树 (MST) 是一个子图，它连接所有顶点，不含任何环，且总边权尽可能小。\n\n下面是由它们的边集定义的四个不同的带权图。每条边表示为一个元组 $(u, v, w)$，其中 $u$ 和 $v$ 是相连的顶点， $w$ 是边的权重。\n\n下列哪个图有多于一个不同的最小生成树？\n\nA. 图 A 的边列表为：$\\{(V_1, V_2, 1), (V_1, V_3, 2), (V_1, V_4, 3), (V_2, V_3, 4), (V_3, V_4, 5)\\}$\n\nB. 图 B 的边列表为：$\\{(V_1, V_2, 2), (V_1, V_3, 2), (V_2, V_3, 3), (V_3, V_4, 1)\\}$\n\nC. 图 C 的边列表为：$\\{(V_1, V_2, 1), (V_3, V_4, 1), (V_1, V_3, 2), (V_2, V_4, 2), (V_2, V_3, 3)\\}$\n\nD. 图 D 的边列表为：$\\{(V_1, V_2, 2), (V_2, V_3, 3), (V_3, V_4, 4), (V_4, V_1, 5), (V_1, V_3, 6)\\}$", "solution": "我们使用最小生成树的切割和环性质，并在方便时使用 Kruskal 算法的思路：按权重非递减顺序对边进行排序，如果一条边连接了两个当前不连通的分量，则添加该边。一个标准的唯一性充分条件是图中所有边的权重都不同；在这种情况下，MST 是唯一的。\n\n分析每个图：\n\n图 A：权重为 $1,2,3,4,5$，所有权重都不同。根据不同权重唯一性条件，只存在一个 MST。因此，图 A 没有多于一个 MST。\n\n图 B：边为 $(V_{3},V_{4},1)$, $(V_{1},V_{2},2)$, $(V_{1},V_{3},2)$, $(V_{2},V_{3},3)$。考虑切割 $\\{V_{4}\\}\\,|\\,\\{V_{1},V_{2},V_{3}\\}$。唯一的最小横切边是 $(V_{3},V_{4},1)$，所以它必须在每个 MST 中。现在限制在 $\\{V_{1},V_{2},V_{3}\\}$ 内，边权为 $2,2,3$。为了连接三个顶点而不形成环，我们需要恰好两条边。两条最小的边是权重为 $2$ 的两条边，即 $(V_{1},V_{2},2)$ 和 $(V_{1},V_{3},2)$，它们不形成环；如果选择任何权重为 $3$ 的边，总权重将为 $1+2+3=6$，这比 $1+2+2=5$ 要大。因此，每个 MST 都必须包含 $(V_{3},V_{4},1)$ 和两条权重为 $2$ 的边，从而产生一个唯一的 MST。因此，图 B 没有多于一个 MST。\n\n图 C：边为 $(V_{1},V_{2},1)$, $(V_{3},V_{4},1)$, $(V_{1},V_{3},2)$, $(V_{2},V_{4},2)$, $(V_{2},V_{3},3)$。根据切割 $\\{V_{1}\\}\\,|\\,\\{V_{2},V_{3},V_{4}\\}$，唯一的最小横切边是 $(V_{1},V_{2},1)$，所以它在每个 MST 中。根据切割 $\\{V_{4}\\}\\,|\\,\\{V_{1},V_{2},V_{3}\\}$，唯一的最小横切边是 $(V_{3},V_{4},1)$，所以它在每个 MST 中。包含这两条边后，连通分量为 $\\{V_{1},V_{2}\\}$ 和 $\\{V_{3},V_{4}\\}$。跨越这个切割的边是 $(V_{1},V_{3},2)$ 和 $(V_{2},V_{4},2)$，它们的最小权重相等，都为 $2$。可以选择其中任意一条来连接这两个分量而不产生环，两种选择的总权重都为 $1+1+2=4$。因此，至少存在两个不同的 MST：一个使用 $(V_{1},V_{3},2)$，另一个使用 $(V_{2},V_{4},2)$。因此，图 C 有多于一个 MST。\n\n图 D：权重为 $2,3,4,5,6$，所有权重都不同。根据不同权重唯一性条件，只存在一个 MST。因此，图 D 没有多于一个 MST。\n\n因此，在给定的图中，只有图 C 有多于一个不同的 MST。", "answer": "$$\\boxed{C}$$", "id": "1542343"}, {"introduction": "在掌握了寻找最小生成树的基础后，我们可以挑战一个更高级的问题。在网络设计和优化中，寻找“次优解”是一个常见的需求，它为系统提供了备选方案和弹性。本练习 ([@problem_id:1542331]) 将展示如何利用最小生成树的环路性质，通过一次最优的“交换”操作，系统地找到成本第二低的生成树。", "problem": "一家科技公司正在设计一个下一代分布式计算网络，以连接其六个主要数据中心，分别标记为A、B、C、D、E和F。在任意两个中心之间建立高带宽连接的成本由地理和后勤因素决定。连接仅在特定的中心对之间可行，且所有可能的连接成本都是不同的。可用的连接及其相关成本（单位：百万美元）如下：\n\n- (A, B): 3\n- (A, C): 5\n- (A, D): 8\n- (B, C): 4\n- (B, E): 7\n- (B, F): 10\n- (C, D): 2\n- (C, E): 12\n- (C, F): 9\n- (D, E): 11\n- (D, F): 6\n- (E, F): 1\n\n一个有效的网络必须确保所有数据中心直接或间接相连，同时不包含任何环路（即，网络必须形成一个生成树）。该公司已经确定了总成本绝对最低的网络。为了进行战略规划和弹性分析，他们现在需要确定成本*第二低*的有效网络配置的总成本。\n\n计算这个成本第二低的网络总成本。用一个以百万美元为单位的数字表示你的答案。", "solution": "我们将数据中心和可行的连接建模为一个具有不同边权的连通、带权、无向图，其顶点集为 $\\{A,B,C,D,E,F\\}$。一个连接所有顶点且没有环路的有效网络是一个生成树。最小生成树（MST）可以通过 Kruskal 算法找到，该算法严格按照权重递增的顺序添加边，跳过任何会形成环路的边，并在获得 $n-1$ 条边（对于 $n$ 个顶点）后停止。\n\n将所有边按权重从小到大排序：\n$$EF:1,\\ CD:2,\\ AB:3,\\ BC:4,\\ AC:5,\\ DF:6,\\ BE:7,\\ AD:8,\\ CF:9,\\ BF:10,\\ DE:11,\\ CE:12.$$\n逐步应用 Kruskal 算法：\n- 添加 $EF$（无环路）。\n- 添加 $CD$（无环路）。\n- 添加 $AB$（无环路）。\n- 添加 $BC$（无环路）。\n- 跳过 $AC$（它会形成环路 $A\\!-\\!B\\!-\\!C\\!-\\!A$）。\n- 添加 $DF$（它连接了当前的两个连通分量）。\n\n我们现在有 $6$ 个顶点和 $5$ 条边，因此这构成了最小生成树（MST）：\n$$\\{EF,\\,CD,\\,AB,\\,BC,\\,DF\\}$$\n其总权重为\n$$w_{\\text{MST}}=1+2+3+4+6=16.$$\n\n因为所有边权都是不同的，所以最小生成树是唯一的。次小生成树可以通过以下方法获得：考虑每条权重为 $w(e)$ 的非树边 $e=\\{u,v\\}$，在最小生成树中找到 $u$ 和 $v$ 之间的唯一路径 $P$，找出 $P$ 上的最大边权 $w_{\\max}(P)$，然后用边 $e$ 替换该路径上的最大权重边，从而形成一棵新的树。由此得到的总权重是\n$$w_{\\text{MST}}+w(e)-w_{\\max}(P),$$\n并且，由于唯一性，$w(e)w_{\\max}(P)$，所以增加量为正。次优的树对应于所有非树边中产生的最小增量。\n\n列出非最小生成树的边并计算增量：\n- $AC:5$，路径 $A\\!-\\!B\\!-\\!C$ 的边权为 $3,4$，所以 $w_{\\max}=4$，增量 $=5-4=1$。\n- $BE:7$，路径 $B\\!-\\!C\\!-\\!D\\!-\\!F\\!-\\!E$ 的边权为 $4,2,6,1$，所以 $w_{\\max}=6$，增量 $=7-6=1$。\n- $AD:8$，路径 $A\\!-\\!B\\!-\\!C\\!-\\!D$ 的边权为 $3,4,2$，所以 $w_{\\max}=4$，增量 $=8-4=4$。\n- $CF:9$，路径 $C\\!-\\!D\\!-\\!F$ 的边权为 $2,6$，所以 $w_{\\max}=6$，增量 $=9-6=3$。\n- $BF:10$，路径 $B\\!-\\!C\\!-\\!D\\!-\\!F$ 的边权为 $4,2,6$，所以 $w_{\\max}=6$, 增量 $=10-6=4$。\n- $DE:11$，路径 $D\\!-\\!F\\!-\\!E$ 的边权为 $6,1$，所以 $w_{\\max}=6$，增量 $=11-6=5$。\n- $CE:12$，路径 $C\\!-\\!D\\!-\\!F\\!-\\!E$ 的边权为 $2,6,1$，所以 $w_{\\max}=6$，增量 $=12-6=6$。\n\n最小增量为 $1$，可以通过替换 $AC$ 或 $BE$ 实现。因此，成本第二低的生成树的总成本为\n$$16+1=17.$$", "answer": "$$\\boxed{17}$$", "id": "1542331"}]}