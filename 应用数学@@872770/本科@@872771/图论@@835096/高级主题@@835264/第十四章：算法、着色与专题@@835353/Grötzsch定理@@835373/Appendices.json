{"hands_on_practices": [{"introduction": "在应用任何数学定理之前，我们必须严格检验其所有前提条件是否都得到满足。格勒奇定理（Grötzsch's Theorem）有两个关键前提：图必须是无三角形的（triangle-free）并且是平面的（planar）。这个练习 [@problem_id:1510173] 将通过一个经典的例子——完全二分图 $K_{3,3}$——来引导你检验这些前提，并理解为什么即使图满足其中一个条件，定理也可能不适用。", "problem": "Grötzsch 定理是图着色理论中的一个基本结果，该定理指出，任何无三角形的平面图都是 3-可着色的。考虑完全二分图 $K_{3,3}$，它有两组顶点，每组三个，我们称之为 $\\{u_1, u_2, u_3\\}$ 和 $\\{v_1, v_2, v_3\\}$。在该图中，对于所有可能的 $i, j \\in \\{1, 2, 3\\}$，顶点 $u_i$ 和顶点 $v_j$ 之间都存在一条边。\n\n选择 Grötzsch 定理不能用于确定 $K_{3,3}$ 色数上界的正确原因。\n\nA. 图 $K_{3,3}$ 包含三角形。\n\nB. $K_{3,3}$ 的色数大于 3。\n\nC. 图 $K_{3,3}$ 不是平面的。\n\nD. Grötzsch 定理只提供色数的下界，而非上界。\n\nE. 图 $K_{3,3}$ 没有足够的边来满足该定理的条件。", "solution": "Grötzsch 定理指出：任何无三角形的平面图都是 3-可着色的。要将该定理应用于给定图，必须同时满足两个前提条件：该图必须是无三角形的且是平面的。\n\n图 $K_{3,3}$ 是一个二分图，其二分划分为 $\\{u_{1},u_{2},u_{3}\\}$ 和 $\\{v_{1},v_{2},v_{3}\\}$，所有边都在这两个部分之间，而没有边在任何一个部分内部。任何二分图都不含奇圈；特别地，它不含三角形。因此，$K_{3,3}$ 是无三角形的，所以满足了无三角形这一前提条件。\n\n然而，$K_{3,3}$ 不是平面的。根据 Kuratowski 定理，一个图是平面的当且仅当它不包含 $K_{5}$ 或 $K_{3,3}$ 的细分；由于 $K_{3,3}$ 本身就是一个 Kuratowski 禁忌图，因此它是非平面的。因此，$K_{3,3}$ 不满足 Grötzsch 定理的平面性前提，所以该定理不能应用于它。这是正确的原因。\n\n其他选项是错误的：$K_{3,3}$ 不包含三角形（所以 A 是错误的），它的色数实际上是 $2$ 因为它是二分图（所以 B 是错误的），Grötzsch 定理为满足其前提条件的图提供了一个为 $3$ 的上界（所以 D 是错误的），并且该定理没有对边的最小数量施加任何条件（所以 E 是错误的）。因此，唯一有效的原因是 $K_{3,3}$ 不是平面的。", "answer": "$$\\boxed{C}$$", "id": "1510173"}, {"introduction": "理解一个定理的适用范围与理解其内容本身同样重要。格勒奇定理指出“无三角形的平面图是 3-可着色的”，但这是否意味着“一个 3-可着色的平面图必然是无三角形的”呢？这个练习 [@problem_id:1510220] 邀请你通过构造一个特定的轮图（wheel graph）来亲自探索这个问题。这有助于你辨别定理的单向蕴含关系，避免在推理中犯下逻辑错误。", "problem": "轮图（记作 $W_k$）是通过将一个中心顶点（轮毂）连接到圈图 $C_k$ 的所有顶点而构成的。在本题中，我们只考虑圈长为 $k \\ge 3$ 的轮图。\n\n求轮图 $G = W_k$ 同时满足以下三个性质所需的最小顶点总数：\n1.  $G$ 是一个平面图。\n2.  $G$ 的色数恰好为 3。\n3.  $G$ 包含一个与长度为 3 的圈（三角形）同构的子图。", "solution": "根据定义，轮图 $W_{k}$ 有一个长度为 $k \\ge 3$ 的圈 $C_{k}$ 和一个与所有 $k$ 个圈顶点相邻的轮毂，因此总顶点数为 $k+1$。\n\n性质 1（平面性）：对所有 $k \\ge 3$，$W_k$ 都是平面图，因为可以将 $C_k$ 画成一个圆，并将轮毂置于中心，再将其与所有圈顶点相连，而不会产生边的交叉。\n\n性质 2（色数恰好为 $3$）：\n- 如果 $k$ 为偶数，则 $C_{k}$ 是二分图，可以用两种颜色交替地对圈上的顶点进行正常着色。轮毂与两种颜色的顶点都相邻，因此需要第三种颜色。所以，当 $k$ 为偶数时，$\\chi(W_{k})=3$。\n- 如果 $k$ 为奇数，则 $C_k$ 需要三种颜色。由于轮毂与所有圈顶点都相邻，它必须避开 $C_k$ 上使用的所有三种颜色，这就需要第四种颜色。所以，当 $k$ 为奇数时，$\\chi(W_k)=4$。\n\n因此，要使色数恰好为 $3$，我们必须取偶数 $k$。\n\n性质 3（包含一个三角形）：对于任何 $k \\ge 3$，在 $C_k$ 上选择两个连续的顶点 $u,v$。$u$ 和 $v$ 在 $C_k$ 中是相邻的，且它们都与轮毂相邻，所以 $\\{u,v,\\text{轮毂}\\}$ 导出一个 3-圈。因此，对于所有 $k \\ge 3$，$W_k$ 都包含一个三角形。\n\n综合这三个性质，我们需要 $k$ 是一个 $\\ge 3$ 的偶数。满足条件的最小 $k$ 值是 $k=4$，此时得到最小顶点总数为 $k+1=5$。", "answer": "$$\\boxed{5}$$", "id": "1510220"}, {"introduction": "格勒奇定理最强大的地方在于它不仅仅是一个存在性结论——它的许多证明本身就是构造性的，为我们提供了一套可执行的算法来找到一个有效的 3-着色。这个终极的动手实践 [@problem_id:1510223] 将让你亲自执行这样一个基于递归和图收缩的算法。通过一步步处理一个具体的图，你将不仅验证定理的正确性，更能深刻体会其背后优雅的算法思想。", "problem": "一个简单图 $G=(V, E)$ 的正常3-着色是一个函数 $C: V \\to \\{1, 2, 3\\}$，使得对于任意边 $(u,v) \\in E$，条件 $C(u) \\ne C(v)$ 成立。图论中的一个著名定理指出，任何无三角形（不包含长度为三的圈）的平面图都有一个正常3-着色。\n\n您的任务是通过细致地应用一个源于该定理构造性证明的确定性递归算法，为一特定图找到这样的着色。\n\n所讨论的图 $G_0$ 由顶点集 $V = \\{1, 2, 3, 4, 5, 6, 7, 8\\}$ 和边集 $E = \\{(1,2), (1,4), (1,5), (2,3), (2,6), (3,4), (3,7), (4,8), (5,6), (5,8), (6,7), (7,8)\\}$ 定义。\n\n该算法，我们称之为 `Find3Coloring`，如下所示：\n\n**算法：`Find3Coloring(G)`**\n\n1.  **基本情况：** 如果图 $G$ 的顶点数小于等于3，则为每个顶点从 $\\{1, 2, 3\\}$ 中分配一个唯一的颜色，并返回得到的着色。为确保确定性，将颜色1分配给标号最小的顶点，颜色2分配给标号次小的顶点，以此类推。\n\n2.  **降度：** 检查是否存在度 $\\deg_G(v) \\le 2$ 的顶点 $v$。\n    *   **是：** 如果存在一个或多个这样的顶点，选择标号最小的那个。设此顶点为 $v$。\n        a. 形成一个更小的图 $G' = G - v$。\n        b. 递归调用 `Find3Coloring(G')` 以获得 $G'$ 的一个着色 $C'$。\n        c. 通过为所有 $u \\in V(G')$ 设置 $C(u) = C'(u)$ 来将着色扩展到 $G$。然后，为 $v$ 分配集合 $\\{1, 2, 3\\}$ 中未被其在 $G$ 中的任何邻点使用的最小颜色。返回这个完整的着色 $C$。\n    *   **否：** 如果所有顶点的度都大于2，则进入步骤3。\n\n3.  **收缩步骤：** （仅当 $G$ 的最小度为3时才执行此步骤）。\n    a. 选择 $G$ 中标号最小的顶点 $v$。\n    b. 找出 $v$ 的邻点，设它们为按标号升序排列的 $u_1, u_2, \\ldots, u_k$。由于图是无三角形的且最小度为3， $v$ 必须至少有三个不相邻的邻点。我们将对标号最小和最大的邻点 $u_1$ 和 $u_k$ 进行操作。\n    c. 通过移除 $v$ 及其所有关联边，然后将顶点 $u_1$ 和 $u_k$ 合并成一个单一的新顶点，来形成一个新图 $G'$。这个新顶点继承两者中较小的标号（即 $u_1$ 的标号）。任何曾与 $u_1$ 或 $u_k$ 关联的边（除了到 $v$ 的边）现在都与这个新的合并顶点相关联。\n    d. 递归调用 `Find3Coloring(G')` 以获得 $G'$ 的一个着色 $C'$。\n    e. 将此着色扩展到 $G$。$G$ 中也存在于 $G'$ 中（且未参与合并）的顶点直接继承它们在 $C'$ 中的颜色。顶点 $v, u_1, u_k$ 的着色方式如下：\n        i. 将合并顶点在 $C'$ 中得到的颜色同时赋给 $u_1$ 和 $u_k$。\n        ii. 为 $v$ 分配集合 $\\{1, 2, 3\\}$ 中未被其在 $G$ 中的任何邻点使用的最小颜色。\n    f. 返回这个完整的着色 $C$。\n\n您的任务是确定图 $G_0$ 的最终着色。将您的答案表示为一个行向量，其中包含分配给从顶点1到顶点8的各顶点的颜色，即 $(C(1), C(2), \\ldots, C(8))$。", "solution": "我们将确定性算法 Find3Coloring 应用于给定的图 $G_{0}$，其顶点集为 $V=\\{1,2,3,4,5,6,7,8\\}$，边集为\n$$\nE=\\{(1,2),(1,4),(1,5),(2,3),(2,6),(3,4),(3,7),(4,8),(5,6),(5,8),(6,7),(7,8)\\}.\n$$\n首先，计算 $G_{0}$ 中各顶点的度：每个顶点的度都是 $3$，因此步骤2不适用，我们进入步骤3。选择标号最小的顶点 $v=1$。其邻点按标号升序排列为 $u_{1}=2$，$u_{2}=4$，$u_{3}=5$。根据步骤3，将 $u_{1}=2$ 和 $u_{3}=5$ 合并为一个标号为 $2$ 的新顶点，并移除 $v=1$。得到的图 $G'$ 的顶点集为 $\\{2,3,4,6,7,8\\}$，其边集是通过移除与 $1$ 关联的边并将 $5$ 替换为 $2$ 得到的：\n$$\nE(G')=\\{(2,3),(2,6),(2,8),(3,4),(3,7),(4,8),(6,7),(7,8)\\}.\n$$\n\n在 $G'$ 中，各顶点的度为 $\\deg(2)=3$, $\\deg(3)=3$, $\\deg(4)=2$, $\\deg(6)=2$, $\\deg(7)=3$, $\\deg(8)=3$。步骤2适用；选择度小于等于 $2$ 的最小标号顶点，即 $4$。移除 $4$ 形成图 $G''=G'-4$，其顶点为 $\\{2,3,6,7,8\\}$，边为\n$$\nE(G'')=\\{(2,3),(2,6),(2,8),(3,7),(6,7),(7,8)\\}.\n$$\n\n在 $G''$ 中，各顶点的度为 $\\deg(2)=3$, $\\deg(3)=2$, $\\deg(6)=2$, $\\deg(7)=3$, $\\deg(8)=2$。步骤2适用；选择度小于等于 $2$ 的最小标号顶点，即 $3$。移除 $3$ 形成图 $G'''=G''-3$，其顶点为 $\\{2,6,7,8\\}$，边为\n$$\nE(G''')=\\{(2,6),(2,8),(6,7),(7,8)\\}.\n$$\n\n在 $G'''$ 中，所有顶点的度都是 $2$。步骤2适用；选择度小于等于 $2$ 的最小标号顶点，即 $2$。移除 $2$ 形成图 $G''''=G'''-2$，其顶点为 $\\{6,7,8\\}$，边为\n$$\nE(G'''')=\\{(6,7),(7,8)\\}.\n$$\n\n该图有 $3$ 个顶点，因此应用基本情况：按标号升序确定性地分配颜色：$C''''(6)=1$, $C''''(7)=2$, $C''''(8)=3$。\n\n现在沿着递归回溯扩展颜色。将顶点 $2$ 重新插入 $G'''$。其邻点为 $\\{6,8\\}$，颜色为 $1$ 和 $3$，因此最小可用颜色为 $2$。于是 $C'''(2)=2$，继承的颜色保持不变：$C'''(6)=1$, $C'''(7)=2$, $C'''(8)=3$。\n\n将顶点 $3$ 重新插入 $G''$。其邻点为 $\\{2,7\\}$，颜色均为 $2$，因此最小可用颜色为 $1$。于是 $C''(3)=1$，继承的颜色为 $C''(2)=2$, $C''(6)=1$, $C''(7)=2$, $C''(8)=3$。\n\n将顶点 $4$ 重新插入 $G'$。其邻点为 $\\{3,8\\}$，颜色为 $1$ 和 $3$，因此最小可用颜色为 $2$。于是 $C'(4)=2$，继承的颜色为 $C'(2)=2$, $C'(3)=1$, $C'(6)=1$, $C'(7)=2$, $C'(8)=3$。\n\n现在撤销从 $G'$ 回到 $G_{0}$ 的收缩操作。$G'$ 中标号为 $2$ 的合并顶点对应于原始顶点 $2$ 和 $5$。根据步骤3(e)(i)，将合并顶点的颜色同时赋给 $2$ 和 $5$：$C(2)=C(5)=C'(2)=2$。顶点 $3,4,6,7,8$ 直接继承它们的颜色：$C(3)=1$, $C(4)=2$, $C(6)=1$, $C(7)=2$, $C(8)=3$。最后，为 $v=1$ 分配一个其邻点 $\\{2,4,5\\}$（颜色均为 $2$）未使用的颜色。最小可用颜色是 $1$，因此 $C(1)=1$。\n\n因此，按顶点 $1$ 到 $8$ 排序的最终着色为\n$$\n\\begin{pmatrix}\n1  & 2  & 1  & 2  & 2  & 1  & 2  & 3\n\\end{pmatrix}.\n$$\n直接对照 $E$ 中的所有边进行验证，可以确认相邻顶点获得了不同的颜色，因此这是由指定算法生成的有效的正常3-着色。", "answer": "$$\\boxed{\\begin{pmatrix}1  & 2  & 1  & 2  & 2  & 1  & 2  & 3\\end{pmatrix}}$$", "id": "1510223"}]}