{"hands_on_practices": [{"introduction": "让我们从一个常见的网络结构——完全二分图——开始。这种结构可以模拟两种不同类型的节点（例如，一组服务器和一组客户端）之间的互动。这个练习 [@problem_id:1483194] 将帮助你理解在信息必须通过特定“中介”节点传递的网络中，介数中心性是如何清晰地量化一个节点的重要性的。", "problem": "考虑一个代表小型通信网络的简单无权图。该网络有五个节点，它们被划分为两个不相交的集合：集合 $U = \\{u_1, u_2\\}$ 和集合 $W = \\{v_1, v_2, v_3\\}$。$U$ 中的任意节点与 $W$ 中的任意节点之间都存在一条边。任何两个同在 $U$ 中或同在 $W$ 中的节点之间不存在边。这个结构对应于一个完全二分图，记作 $K_{2,3}$。\n\n节点的介数中心性是衡量其在网络中信息流动重要性的一个度量。对于一个节点 $v$，其介数中心性 $C_B(v)$ 定义为：\n$$C_B(v) = \\sum_{\\{s,t\\}} \\frac{\\sigma_{st}(v)}{\\sigma_{st}}$$\n其中，求和遍及图中所有满足 $s \\neq v$ 和 $t \\neq v$ 的唯一无序节点对 $\\{s,t\\}$。在此公式中，$\\sigma_{st}$ 是节点 $s$ 和节点 $t$ 之间最短路径的总数，而 $\\sigma_{st}(v)$ 是这些最短路径中经过节点 $v$ 的数量。\n\n计算节点 $u_1$ 的介数中心性。将你的答案表示成一个最简分数。", "solution": "该图是完全二分图 $K_{2,3}$，其两部分别为 $U=\\{u_{1},u_{2}\\}$ 和 $W=\\{v_{1},v_{2},v_{3}\\}$，所有的边都在 $U$ 和 $W$ 之间，而部内部没有边。$u_{1}$ 的介数中心性为\n$$\nC_{B}(u_{1})=\\sum_{\\{s,t\\}} \\frac{\\sigma_{st}(u_{1})}{\\sigma_{st}},\n$$\n其中求和遍及所有满足 $s\\neq u_{1}$ 和 $t\\neq u_{1}$ 的无序对 $\\{s,t\\}$。排除 $u_{1}$ 后，剩余的节点为 $\\{u_{2},v_{1},v_{2},v_{3}\\}$，总共可以构成 $\\binom{4}{2}=6$ 个节点对。将这些节点对按类型划分并计算它们的贡献。\n\n1) 形如 $\\{u_{2},v_{k}\\}$（其中 $k\\in\\{1,2,3\\}$）的节点对：最短路径长度为1（即边 $u_{2}v_{k}$），所以 $\\sigma_{u_{2}v_{k}}=1$，且没有最短路径经过 $u_{1}$，因此 $\\sigma_{u_{2}v_{k}}(u_{1})=0$。每个这样的节点对贡献为0。\n\n2) 形如 $\\{v_{i},v_{j}\\}$（其中 $i\\neq j$）的节点对：任何最短路径的长度都为2，且必须经过 $U$ 中的一个节点。恰好有两条最短路径，一条经过 $u_{1}$，另一条经过 $u_{2}$，所以 $\\sigma_{v_{i}v_{j}}=2$ 且 $\\sigma_{v_{i}v_{j}}(u_{1})=1$。每个这样的节点对贡献为 $\\frac{1}{2}$。共有 $\\binom{3}{2}=3$ 对这样的节点对，所以它们的总贡献是 $3\\cdot \\frac{1}{2}=\\frac{3}{2}$。\n\n将所有贡献相加，得到\n$$\nC_{B}(u_{1})=\\frac{3}{2}.\n$$", "answer": "$$\\boxed{\\frac{3}{2}}$$", "id": "1483194"}, {"introduction": "接下来，我们转向一种更规则、更直观的结构：网格图，它可以代表城市街道、计算机芯片或传感器网络。在这个练习 [@problem_id:1483203] 中，你将通过计算中心节点的介数中心性，来量化处于网络“心脏”位置的价值。这项任务也锻炼了我们利用对称性来简化看似复杂问题的能力。", "problem": "考虑一个建模为图的小型通信网络。该网络由排列成3x3网格的9个节点组成。一个节点只能与其直接邻居（水平或垂直相邻的节点）直接通信。任意两个节点之间的距离定义为连接它们的最短路径中的直接通信链路数。\n\n为了评估节点在信息路由中的重要性，我们使用介数中心性（betweenness centrality）这一度量。节点 $v$ 的未归一化介数中心性定义为，对于所有其他节点的无序点对 $\\{s, t\\}$，经过 $v$ 的 $s$ 与 $t$ 之间的最短路径数量占 $s$ 与 $t$ 之间最短路径总数的比例之和。这可以写成：\n$$C_B(v) = \\sum_{s \\neq v \\neq t} \\frac{\\sigma_{st}(v)}{\\sigma_{st}}$$\n其中 $\\sigma_{st}$ 是节点 $s$ 和 $t$ 之间最短路径的总数，而 $\\sigma_{st}(v)$ 是这些最短路径中经过节点 $v$ 的数量。\n\n计算位于3x3网格正中心的单个节点的未归一化介数中心性。将您的答案表示为最简分数。", "solution": "用坐标 $(i,j)$ 标记网格节点，其中 $i,j \\in \\{1,2,3\\}$，并设中心节点为 $v=(2,2)$。距离为曼哈顿距离：对于节点 $x=(i_{x},j_{x})$ 和 $y=(i_{y},j_{y})$， $d(x,y)=|i_{x}-i_{y}|+|j_{x}-j_{y}|$。对于水平差为 $d_{x}=|i_{s}-i_{t}|$、垂直差为 $d_{y}=|j_{s}-j_{t}|$ 的节点 $s,t$，其间的最短路径数量为\n$$\n\\sigma_{st}=\\binom{d_{x}+d_{y}}{d_{x}}.\n$$\n中心节点 $v$ 位于某条 $s$–$t$ 最短路径上，当且仅当 $d(s,v)+d(v,t)=d(s,t)$，这恰好在 $v$ 位于以 $s$ 和 $t$ 为顶点的坐标轴对齐的矩形内部时成立。在这种情况下，经过 $v$ 的 $s$–$t$ 最短路径数量为\n$$\n\\sigma_{st}(v)=\\sigma_{sv}\\,\\sigma_{vt}.\n$$\n我们将 $8$ 个非中心节点的所有无序点对 $\\{s,t\\}$ 的 $\\sigma_{st}(v)/\\sigma_{st}$ 值相加。根据对称性，将节点分为边中心点 $E=\\{(1,2),(2,1),(2,3),(3,2)\\}$ 和角点 $C=\\{(1,1),(1,3),(3,1),(3,3)\\}$，并将点对划分为 $E$–$E$、$C$–$C$ 和 $E$–$C$ 三类。\n\n1) $E$–$E$ 点对：共有 $\\binom{4}{2}=6$ 对。其中两对穿过 $v$ 相对：$(1,2)$–$(3,2)$ 和 $(2,1)$–$(2,3)$。对于每一对，距离 $d=2$，$\\sigma_{st}=1$，且唯一的最短路径经过 $v$，因此每对的贡献为 $1$。剩下的四对是垂直的，例如 $(1,2)$–$(2,1)$，其距离 $d=2$，$\\sigma_{st}=\\binom{2}{1}=2$，$\\sigma_{sv}=1$，$\\sigma_{vt}=1$，因此贡献为 $\\sigma_{sv}\\sigma_{vt}/\\sigma_{st}=1/2$。因此\n$$\n\\text{sum over }E\\text{–}E = 2\\cdot 1 + 4\\cdot \\frac{1}{2} = 4.\n$$\n\n2) $C$–$C$ 点对：共有 $\\binom{4}{2}=6$ 对。其中两对在对角线上相对：$(1,1)$–$(3,3)$ 和 $(1,3)$–$(3,1)$。对于每一对， $d_{x}=2$，$d_{y}=2$，所以 $\\sigma_{st}=\\binom{4}{2}=6$。同时 $d(s,v)=2$ 且 $\\sigma_{sv}=\\binom{2}{1}=2$，$d(v,t)=2$ 且 $\\sigma_{vt}=2$，得到 $\\sigma_{st}(v)=4$，贡献为 $4/6=2/3$。剩下的四对共享一行或一列（例如 $(1,1)$–$(1,3)$），对于这些点对，$v$ 不在矩形内，贡献为 $0$。因此\n$$\n\\text{sum over }C\\text{–}C = 2\\cdot \\frac{2}{3} = \\frac{4}{3}.\n$$\n\n3) $E$–$C$ 点对：共有 $4\\cdot 4=16$ 对。对于一个给定的角点，比如 $(1,1)$，它与相邻的边中心点 $(1,2)$ 和 $(2,1)$ 组成的点对，距离 $d=1$，贡献为零。与相对的边中心点 $(3,2)$ 和 $(2,3)$ 组成的点对，有 $d_{x}+d_{y}=3$ 且 $(d_{x},d_{y})$ 为 $(2,1)$ 或 $(1,2)$，所以 $\\sigma_{st}=\\binom{3}{2}=3$，而 $\\sigma_{sv}=\\binom{2}{1}=2$ 且 $\\sigma_{vt}=\\binom{1}{1}=1$，每对的贡献为 $2/3$。根据对称性，这对每个角点都成立，因此有 $8$ 对 $E$–$C$ 点对的贡献为 $2/3$，另外 $8$ 对的贡献为 $0$，所以\n$$\n\\text{sum over }E\\text{–}C = 8\\cdot \\frac{2}{3} = \\frac{16}{3}.\n$$\n\n将所有贡献相加得到\n$$\nC_{B}(v) = 4 + \\frac{4}{3} + \\frac{16}{3} = \\frac{32}{3}.\n$$\n这就是中心节点对于无序非重复点对的未归一化介数中心性。", "answer": "$$\\boxed{\\frac{32}{3}}$$", "id": "1483203"}, {"introduction": "最后的挑战是从具体计算走向普适性公式。路径图是网络“主干”的最简单形式，理解其性质至关重要。这个练习 [@problem_id:1483222] 要求你推导出一个通用公式，适用于任何路径图中的任意节点，这体现了从个例中发现普遍规律的科学思维，是网络分析中的一项核心技能。", "problem": "路径图 $P_n$ 由 $n$ 个顶点组成，标记为 $v_1, v_2, \\ldots, v_n$，其中对于所有 $i$ 从 $1$ 到 $n-1$，顶点 $v_i$ 和 $v_{i+1}$ 之间有边相连。顶点 $v$ 的（未归一化）介数中心性，记为 $C_B(v)$，通过计算经过该顶点的最短路径数量来衡量其在网络中的重要性。其形式化定义为：\n$$C_B(v) = \\sum_{s, t \\in V; s \\neq v, t \\neq v, s \\neq t} \\frac{\\sigma_{st}(v)}{\\sigma_{st}}$$\n此处，$V$ 是所有顶点的集合，求和遍及所有不包含 $v$ 的不同顶点无序对 $\\{s, t\\}$，$\\sigma_{st}$ 是任意两个顶点 $s$ 和 $t$ 之间最短路径的总数，而 $\\sigma_{st}(v)$ 是这些最短路径中经过顶点 $v$ 的数量。\n\n对于满足 $1 \\le k \\le n$ 的任意整数 $k$，计算路径图 $P_n$ 中顶点 $v_k$ 的未归一化介数中心性。将最终答案表示为关于 $n$ 和 $k$ 的解析表达式。", "solution": "在路径图 $P_n$ 中，任意两个顶点之间有且仅有一条最短路径。因此，对于任意顶点对 $\\{s,t\\}$，最短路径的总数 $\\sigma_{st} = 1$。\n根据介数中心性的定义，顶点 $v_k$ 的中心性 $C_B(v_k)$ 等于以 $v_k$ 为中间节点的无序顶点对 $\\{s,t\\}$ 的数量。\n\n一个顶点 $v_k$ 要成为 $s$ 和 $t$ 之间路径上的中间节点，当且仅当 $s$ 和 $t$ 分别位于 $v_k$ 的“两侧”。\n- 位于 $v_k$ “左侧”（即标号小于 $k$）的顶点集合是 $\\{v_1, v_2, \\ldots, v_{k-1}\\}$。这个集合中有 $k-1$ 个顶点。\n- 位于 $v_k$ “右侧”（即标号大于 $k$）的顶点集合是 $\\{v_{k+1}, v_{k+2}, \\ldots, v_n\\}$。这个集合中有 $n-k$ 个顶点。\n\n要构成一个经过 $v_k$ 的路径，我们必须从左侧集合中选择一个顶点，并从右侧集合中选择另一个顶点。这样的无序顶点对的数量，等于左侧顶点数乘以右侧顶点数。\n\n因此，顶点 $v_k$ 的（未归一化）介数中心性为：\n$$C_B(v_k) = (k-1)(n-k)$$", "answer": "$$\\boxed{(k-1)(n-k)}$$", "id": "1483222"}]}