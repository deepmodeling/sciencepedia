{"hands_on_practices": [{"introduction": "在我们运用四元数执行复杂的旋转操作之前，必须先掌握其基本的代数性质。本练习将帮助您熟练掌握四元数乘法、共轭以及范数计算等核心运算，这些都是进行包括连续旋转在内的任何高级应用所必需的基础技能。[@problem_id:1534848]", "problem": "在计算力学和计算机图形学中，四元数被用来表示物体的旋转和方向。一个四元数 $q$ 是形如 $q = q_0 + q_1 \\mathbf{i} + q_2 \\mathbf{j} + q_3 \\mathbf{k}$ 的元素，其中 $q_0, q_1, q_2, q_3$ 是实数，而 $\\mathbf{i}, \\mathbf{j}, \\mathbf{k}$ 是基本的四元数单位。这些单位遵循乘法规则：$\\mathbf{i}^2 = \\mathbf{j}^2 = \\mathbf{k}^2 = \\mathbf{ijk} = -1$。\n\n考虑代表两个连续运算的两个四元数：\n$$p = 1 + 2\\mathbf{i} - \\mathbf{j} + 3\\mathbf{k}$$\n$$q = 4 - 3\\mathbf{i} + 2\\mathbf{j} - \\mathbf{k}$$\n组合运算由四元数乘积 $r=pq$ 表示。\n\n求所得四元数 $r$ 的共轭 $r^*$ 和范数 $\\|r\\|$。\n\n将您的答案表示为一个单行矩阵，按以下顺序包含五个元素：共轭四元数 $r^* = r_0^* + r_1^*\\mathbf{i} + r_2^*\\mathbf{j} + r_3^*\\mathbf{k}$ 的四个系数 $(r_0^*, r_1^*, r_2^*, r_3^*)$，以及范数 $\\|r\\|$。例如，如果您求得 $r^* = A + B\\mathbf{i} + C\\mathbf{j} + D\\mathbf{k}$ 且 $\\|r\\| = E$，您的答案应为矩阵 $\\begin{pmatrix} A  B  C  D  E \\end{pmatrix}$。", "solution": "我们使用标准的四元数乘法，其单位满足 $\\mathbf{i}^{2}=\\mathbf{j}^{2}=\\mathbf{k}^{2}=\\mathbf{ijk}=-1$ 以及关系式 $\\mathbf{i}\\mathbf{j}=\\mathbf{k}$，$\\mathbf{j}\\mathbf{k}=\\mathbf{i}$，$\\mathbf{k}\\mathbf{i}=\\mathbf{j}$，且反向乘积取负。\n\n将 $p$ 和 $q$ 写为 $p= p_{0}+p_{1}\\mathbf{i}+p_{2}\\mathbf{j}+p_{3}\\mathbf{k}$ 和 $q= q_{0}+q_{1}\\mathbf{i}+q_{2}\\mathbf{j}+q_{3}\\mathbf{k}$，其中\n$p_{0}=1$, $p_{1}=2$, $p_{2}=-1$, $p_{3}=3$，以及 $q_{0}=4$, $q_{1}=-3$, $q_{2}=2$, $q_{3}=-1$。\n\n乘积 $r=pq$ 的分量为\n$$\n\\begin{aligned}\nr_{0} = p_{0}q_{0}-p_{1}q_{1}-p_{2}q_{2}-p_{3}q_{3},\\\\\nr_{1} = p_{0}q_{1}+p_{1}q_{0}+p_{2}q_{3}-p_{3}q_{2},\\\\\nr_{2} = p_{0}q_{2}-p_{1}q_{3}+p_{2}q_{0}+p_{3}q_{1},\\\\\nr_{3} = p_{0}q_{3}+p_{1}q_{2}-p_{2}q_{1}+p_{3}q_{0}.\n\\end{aligned}\n$$\n代入给定值，\n$$\n\\begin{aligned}\nr_{0} = 1\\cdot 4 - 2\\cdot(-3) - (-1)\\cdot 2 - 3\\cdot(-1) = 4+6+2+3=15,\\\\\nr_{1} = 1\\cdot(-3) + 2\\cdot 4 + (-1)\\cdot(-1) - 3\\cdot 2 = -3+8+1-6=0,\\\\\nr_{2} = 1\\cdot 2 - 2\\cdot(-1) + (-1)\\cdot 4 + 3\\cdot(-3) = 2+2-4-9=-9,\\\\\nr_{3} = 1\\cdot(-1) + 2\\cdot 2 - (-1)\\cdot(-3) + 3\\cdot 4 = -1+4-3+12=12.\n\\end{aligned}\n$$\n因此 $r=15+0\\,\\mathbf{i}-9\\,\\mathbf{j}+12\\,\\mathbf{k}$。\n\n四元数 $a+b\\mathbf{i}+c\\mathbf{j}+d\\mathbf{k}$ 的共轭是 $a-b\\mathbf{i}-c\\mathbf{j}-d\\mathbf{k}$。因此\n$$\nr^{*}=15-0\\,\\mathbf{i}+9\\,\\mathbf{j}-12\\,\\mathbf{k}.\n$$\n\n范数为 $\\|r\\|=\\sqrt{r_{0}^{2}+r_{1}^{2}+r_{2}^{2}+r_{3}^{2}}$。所以，\n$$\n\\|r\\|=\\sqrt{15^{2}+0^{2}+(-9)^{2}+12^{2}}=\\sqrt{225+81+144}=\\sqrt{450}=15\\sqrt{2}.\n$$\n等价地，利用四元数范数的乘法性质，$\\|r\\|=\\|p\\|\\|q\\|$，其中 $\\|p\\|^{2}=1^{2}+2^{2}+(-1)^{2}+3^{2}=15$ 且 $\\|q\\|^{2}=4^{2}+(-3)^{2}+2^{2}+(-1)^{2}=30$，得到 $\\|r\\|=\\sqrt{15\\cdot 30}=15\\sqrt{2}$，这与直接计算的结果一致。\n\n因此，所求的行矩阵是 $\\begin{pmatrix} 15  0  9  -12  15\\sqrt{2} \\end{pmatrix}$。", "answer": "$$\\boxed{\\begin{pmatrix} 15  0  9  -12  15\\sqrt{2} \\end{pmatrix}}$$", "id": "1534848"}, {"introduction": "掌握了基本运算后，我们现在可以着手处理四元数在此背景下的主要应用：旋转三维空间中的向量。本练习将利用“三明治积”公式 $p_{v'} = q p_v q^*$ 来变换一个向量。通过这个例子，您将亲身体验四元数旋转的机制，并了解四元数的模长如何在旋转之外引入缩放效应。[@problem_id:1534811]", "problem": "在计算机图形学和航空航天工程等领域，四元数提供了一种高效且无歧义的方法来表示三维空间中的方向和旋转。一个向量 $\\vec{v} = v_x \\mathbf{i} + v_y \\mathbf{j} + v_z \\mathbf{k}$ 可以表示为一个“纯”四元数（即标量部分为零的四元数），其形式为 $p_v = 0 + v_x \\mathbf{i} + v_y \\mathbf{j} + v_z \\mathbf{k}$。\n\n该向量通过一个通用四元数 $q = w + x\\mathbf{i} + y\\mathbf{j} + z\\mathbf{k}$ 的变换由三明治积描述：\n$$ p_{v'} = q p_v q^* $$\n其中，$p_{v'}$ 是对应于新向量 $\\vec{v'}$ 的纯四元数，而 $q^* = w - x\\mathbf{i} - y\\mathbf{j} - z\\mathbf{k}$ 是 $q$ 的共轭。四元数基元素的乘法遵循以下基本规则：$\\mathbf{i}^2 = \\mathbf{j}^2 = \\mathbf{k}^2 = -1$，以及 $\\mathbf{i}\\mathbf{j} = \\mathbf{k}$，$\\mathbf{j}\\mathbf{k} = \\mathbf{i}$，$\\mathbf{k}\\mathbf{i} = \\mathbf{j}$，这也意味着 $\\mathbf{j}\\mathbf{i} = -\\mathbf{k}$，$\\mathbf{k}\\mathbf{j} = -\\mathbf{i}$，和 $\\mathbf{i}\\mathbf{k} = -\\mathbf{j}$。\n\n考虑四元数 $q = 2 + 2\\mathbf{k}$ 和初始向量 $\\vec{v} = 3\\mathbf{i}$。计算变换后向量 $\\vec{v'}$ 的分量。将您的答案表示为行矩阵 $\\begin{pmatrix} v'_x  v'_y  v'_z \\end{pmatrix}$。", "solution": "我们将向量 $\\vec{v}=3\\mathbf{i}$ 表示为纯四元数 $p_{v}=3\\mathbf{i}$。给定的四元数为 $q=2+2\\mathbf{k}$，其共轭为 $q^{*}=2-2\\mathbf{k}$。变换后的纯四元数通过三明治积 $p_{v'}=q\\,p_{v}\\,q^{*}$ 计算。\n\n首先计算 $q\\,p_{v}$：\n$$\nq\\,p_{v}=(2+2\\mathbf{k})(3\\mathbf{i})=2\\cdot 3\\mathbf{i}+2\\mathbf{k}\\cdot 3\\mathbf{i}=6\\mathbf{i}+6(\\mathbf{k}\\mathbf{i})=6\\mathbf{i}+6\\mathbf{j},\n$$\n使用 $\\mathbf{k}\\mathbf{i}=\\mathbf{j}$。\n\n接下来在右侧乘以 $q^{*}$：\n$$\np_{v'}=(6\\mathbf{i}+6\\mathbf{j})(2-2\\mathbf{k})=(6\\mathbf{i}+6\\mathbf{j})\\cdot 2+(6\\mathbf{i}+6\\mathbf{j})(-2\\mathbf{k})\n=12\\mathbf{i}+12\\mathbf{j}-2(6\\mathbf{i}\\mathbf{k}+6\\mathbf{j}\\mathbf{k}).\n$$\n使用 $\\mathbf{i}\\mathbf{k}=-\\mathbf{j}$ 和 $\\mathbf{j}\\mathbf{k}=\\mathbf{i}$，我们得到\n$$\np_{v'}=12\\mathbf{i}+12\\mathbf{j}-2\\big(6(-\\mathbf{j})+6\\mathbf{i}\\big)=12\\mathbf{i}+12\\mathbf{j}-2(-6\\mathbf{j}+6\\mathbf{i})\n=12\\mathbf{i}+12\\mathbf{j}+12\\mathbf{j}-12\\mathbf{i}=24\\mathbf{j}.\n$$\n\n因此，变换后的向量是 $\\vec{v'}=24\\,\\mathbf{j}$，其分量为 $\\begin{pmatrix}0  24  0\\end{pmatrix}$。（注意：由于 $q$ 不是单位四元数，$q\\,p_{v}\\,q^{*}$ 会将旋转后的向量缩放 $|q|^{2}$ 倍；在此例中 $|q|^{2}=8$，因此将 $3\\mathbf{i}$ 绕 $\\mathbf{k}$ 轴旋转 $\\frac{\\pi}{2}$ 得到 $3\\mathbf{j}$，然后缩放至 $24\\mathbf{j}$。）", "answer": "$$\\boxed{\\begin{pmatrix} 0  24  0 \\end{pmatrix}}$$", "id": "1534811"}, {"introduction": "四元数代数与旋转几何之间的联系虽然强大，但也包含一些微妙之处。本练习探讨了最简单的旋转——单位旋转（即“无操作”旋转）是如何用四元数表示的。通过分析这个特殊案例，我们将揭示一个重要概念：多个不同的单位四元数可以对应同一个物理旋转，这是该数学表示的一个基本属性。[@problem_id:1534830]", "problem": "在机器人技术和航天器姿态控制领域，四元数常被用来表示刚体的姿态。一个物体绕由单位向量 $\\hat{n} = (n_x, n_y, n_z)$ 定义的固定轴旋转角度 $\\theta$ 的过程，可以用一个单位四元数 $q$ 来表示。该四元数由以下公式给出：\n$$q = \\cos\\left(\\frac{\\theta}{2}\\right) + \\left(n_x \\mathbf{i} + n_y \\mathbf{j} + n_z \\mathbf{k}\\right) \\sin\\left(\\frac{\\theta}{2}\\right)$$\n其中 $\\mathbf{i}, \\mathbf{j}, \\mathbf{k}$ 是满足 $\\mathbf{i}^2 = \\mathbf{j}^2 = \\mathbf{k}^2 = \\mathbf{ijk} = -1$ 的四元数基向量。\n\n一颗自主卫星使用其推进器执行一系列修正机动。在这一系列操作完成后，星载计算机必须验证卫星是否已返回其精确的初始姿态。这种“无操作”或单位旋转对应于净旋转角度为零。然而，由于四元数的数学特性，不止一个不同的单位四元数可以表示这同一个物理结果。\n\n以下哪个选项正确列出了所有表示单位旋转的可能单位四元数？\n\nA. $q = 1$ 和 $q = -1$\n\nB. $q = 0$\n\nC. 仅 $q = 1$\n\nD. $q = \\mathbf{i}$，$q = \\mathbf{j}$ 和 $q = \\mathbf{k}$\n\nE. 单位旋转不能用四元数表示。", "solution": "一个表示绕单位向量 $\\hat{n}=(n_{x},n_{y},n_{z})$ 旋转角度 $\\theta$ 的通用单位四元数是\n$$\nq=\\cos\\left(\\frac{\\theta}{2}\\right)+\\left(n_{x}\\mathbf{i}+n_{y}\\mathbf{j}+n_{z}\\mathbf{k}\\right)\\sin\\left(\\frac{\\theta}{2}\\right),\n$$\n其模长条件为 $|q|^{2}=\\cos^{2}\\left(\\frac{\\theta}{2}\\right)+\\sin^{2}\\left(\\frac{\\theta}{2}\\right)=1$。单位旋转对应于物理空间中的净旋转为零，这发生在任何使得最终姿态保持不变的角度 $\\theta$ 上。从四元数表达式来看，单位旋转要求向量部分为零，而标量部分为 $\\pm 1$。具体来说，我们要求\n$$\n\\sin\\left(\\frac{\\theta}{2}\\right)=0 \\quad \\text{和} \\quad \\cos\\left(\\frac{\\theta}{2}\\right)=\\pm 1.\n$$\n条件 $\\sin\\left(\\frac{\\theta}{2}\\right)=0$ 意味着 $\\frac{\\theta}{2}=m\\pi$，其中 $m$ 为某个整数，即 $\\theta=2m\\pi$。那么\n$$\nq=\\cos\\left(m\\pi\\right)+\\left(n_{x}\\mathbf{i}+n_{y}\\mathbf{j}+n_{z}\\mathbf{k}\\right)\\cdot 0=\\cos\\left(m\\pi\\right).\n$$\n因此，当 $m$ 是偶数时（例如 $\\theta=0,4\\pi,\\ldots$），$q=1$；当 $m$ 是奇数时（例如 $\\theta=2\\pi,6\\pi,\\ldots$），$q=-1$。因此，所有表示单位旋转的单位四元数恰好是 $q=1$ 和 $q=-1$。选项 $q=0$ 不是一个单位四元数，而 $q=\\mathbf{i}, q=\\mathbf{j}, q=\\mathbf{k}$ 对应于绕坐标轴旋转 $180^{\\circ}$，而不是单位旋转。最后，单位旋转可以用四元数表示，并且由于其双重覆盖特性，它同时由 $q$ 和 $-q$ 表示。", "answer": "$$\\boxed{A}$$", "id": "1534830"}]}