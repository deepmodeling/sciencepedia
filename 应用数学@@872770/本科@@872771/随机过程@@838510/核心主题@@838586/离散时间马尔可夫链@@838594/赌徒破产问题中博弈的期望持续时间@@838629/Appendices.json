{"hands_on_practices": [{"introduction": "我们的第一个练习将探讨赌徒破产问题的基本情形：一场公平的游戏（即 $p=0.5$）。通过分析当游戏的总资本和初始资本都按比例放大时，预期的游戏时长会如何变化，我们可以对游戏规模与其持续时间之间的关系建立深刻的直觉。这个尺度分析揭示了一个不那么明显的二次方关系，有助于我们理解游戏时长对系统规模的敏感性 [@problem_id:1301315]。", "problem": "玩家 Alice 和 Bob 正在进行一个简单的回合制代币游戏。在每一回合，他们投掷一枚均匀的硬币。如果结果是正面，Alice 给 Bob 一枚代币。如果结果是反面，Bob 给 Alice 一枚代币。当一名玩家的代币用完（即数量为 0）时，游戏结束，此时另一名玩家拥有所有代币。\n\n我们将分析这个游戏的两个不同版本。\n\n在**游戏 1** 中，游戏中的代币总数为 $N$。Alice 开始时持有 $k$ 枚代币，其中 $0  k  N$。设 $T_1$ 为游戏 1 结束时的期望回合数。\n\n在**游戏 2** 中，游戏中的代币总数加倍为 $2N$。为了确保公平比较，Alice 初始代币占总数的比例与游戏 1 中相同。设 $T_2$ 为游戏 2 结束时的期望回合数。\n\n确定比值 $T_2 / T_1$ 的值。结果是一个常数，与 $N$ 和 $k$ 都无关。您的答案应该是一个数字。", "solution": "该游戏可以被建模为一个在一维状态空间 $\\{0, 1, \\dots, N\\}$ 上的对称随机游走，其中状态代表 Alice 拥有的代币数量。边界 0 和 $N$ 是吸收态。这是一个公平博弈（$p=q=1/2$）。\n\n对于一个总资本为 $N$、初始资本为 $i$ 的公平博弈，其期望持续时间由公式 $D_i = i(N-i)$ 给出。\n\n**在游戏 1 中**：\n- 总代币数是 $N$。\n- Alice 的初始代币数是 $k$。\n- 因此，期望回合数 $T_1$ 是：\n$$T_1 = k(N-k)$$\n\n**在游戏 2 中**：\n- 总代币数是 $2N$。\n- Alice 的初始代币数与总数的比例保持不变，所以她的新初始代币数是 $(\\frac{k}{N}) \\times (2N) = 2k$。\n- 将这些新参数（总资本为 $2N$，初始资本为 $2k$）代入公式，我们得到期望回合数 $T_2$：\n$$T_2 = (2k)(2N - 2k) = 2k \\cdot 2(N-k) = 4k(N-k)$$\n\n**计算比值**：\n所求的比值是：\n$$\\frac{T_2}{T_1} = \\frac{4k(N-k)}{k(N-k)} = 4$$\n这个结果是一个常数 4，与 $N$ 和 $k$ 无关。", "answer": "$$\\boxed{4}$$", "id": "1301315"}, {"introduction": "现实世界中的场景很少具有完美平衡的概率。这个练习为游戏引入了“偏见”，即赢和输的机会不相等。我们将此模型应用于一个假设的量子物理场景，以计算一个过程在达到两个吸收边界（满或空）之前的预期时间，这演示了如何处理 $p \\neq q$ 的更一般化的情况 [@problem_id:1301312]。", "problem": "一个纳米级的电荷陷阱被建模为一个一维系统。该陷阱的状态由其容纳的过剩电子数定义。初始时，该陷阱包含 $i = 15$ 个过剩电子。在离散的时间步长内，由于量子隧穿事件，电子的数量会精确地改变一个。一个电子隧穿进入陷阱，使电子数增加一，其概率为 $p = 0.4$。一个电子隧穿出陷阱，使电子数减少一，其概率为 $q = 1-p = 0.6$。\n\n当满足两个边界条件之一时，该过程被认为终止：要么陷阱完全耗尽（过剩电子数降至0），要么陷阱达到饱和（过剩电子数达到其最大容量 $N = 40$）。\n\n计算直到过程终止所需的时间步数的期望值。将您的最终答案四舍五入到三位有效数字。", "solution": "设 $T_{i}$ 为从 $i$ 个电子开始，在吸收边界为 $0$ 和 $N$ 的情况下，到达吸收态的期望步数。通过第一步分析，我们得到递推关系：\n$$\nT_{i} = 1 + p\\,T_{i+1} + q\\,T_{i-1}, \\quad \\text{对于 } 1 \\leq i \\leq N-1\n$$\n边界条件为 $T_{0} = 0$ 和 $T_{N} = 0$。整理递推关系，得到一个二阶线性非齐次差分方程：\n$$\np\\,T_{i+1} - T_{i} + q\\,T_{i-1} = -1\n$$\n该方程的通解形式为齐次解与特解之和 $T_i = T_i^{(h)} + T_i^{(p)}$。\n\n1.  **齐次解**：齐次方程为 $p\\,T_{i+1}^{(h)} - T_{i}^{(h)} + q\\,T_{i-1}^{(h)} = 0$。其特征方程 $pr^2 - r + q = 0$ 的根为 $r_1=1$ 和 $r_2 = q/p$。因此，齐次解为：\n    $$\n    T_{i}^{(h)} = A + B\\left(\\frac{q}{p}\\right)^{i}\n    $$\n2.  **特解**：我们寻找一个形如 $T_{i}^{(p)} = Ci$ 的特解。将其代入非齐次方程：\n    $$\n    pC(i+1) - C(i) + qC(i-1) = -1\n    $$\n    $$\n    C(pi + p - i + qi - q) = -1\n    $$\n    $$\n    C(i(p+q-1) + (p-q)) = -1\n    $$\n    由于 $p+q=1$，上式简化为 $C(p-q) = -1$，因此 $C = \\frac{1}{q-p}$。特解为 $T_i^{(p)} = \\frac{i}{q-p}$。\n\n3.  **通解与边界条件**: 完整的通解是：\n    $$\n    T_{i} = A + B\\left(\\frac{q}{p}\\right)^{i} + \\frac{i}{q-p}\n    $$\n    应用边界条件 $T_0=0$ 和 $T_N=0$ 可以解出 $A$ 和 $B$，最终得到文章中推导的公式：\n    $$\n    T_{i} = \\frac{i}{q-p} - \\frac{N}{q-p} \\frac{1 - (q/p)^i}{1 - (q/p)^N}\n    $$\n\n对于本题，$p = 0.4$，$q = 0.6$，$N = 40$ 和 $i = 15$。我们有 $q - p = 0.2$ 和 $r = q/p = 1.5$。代入公式：\n$$\nT_{15} = \\frac{15}{0.2} - \\frac{40}{0.2} \\frac{1 - (1.5)^{15}}{1 - (1.5)^{40}}\n$$\n$$\nT_{15} = 75 - 200 \\times \\frac{1 - (1.5)^{15}}{1 - (1.5)^{40}}\n$$\n使用计算器，$(1.5)^{15} \\approx 437.8939$ 和 $(1.5)^{40} \\approx 1.1057332 \\times 10^7$。\n$$\nT_{15} \\approx 75 - 200 \\times \\frac{1 - 437.8939}{1 - 11057332} = 75 - 200 \\times \\frac{-436.8939}{-11057331} \\approx 75 - 200 \\times (3.95117 \\times 10^{-5})\n$$\n$$\nT_{15} \\approx 75 - 0.007902 \\approx 74.9921\n$$\n四舍五入到三位有效数字，期望步数为 $75.0$。", "answer": "$$\\boxed{75.0}$$", "id": "1301312"}, {"introduction": "当其中一个玩家拥有几乎无限的资源时会发生什么？这个练习修改了经典的双边界问题，以模拟只有一个吸收壁垒——破产——的情景。我们将计算一个系统的资源完全耗尽前的预期时间，这是一个在金融风险管理和技术资源规划中至关重要的计算 [@problem_id:1301357]。", "problem": "一家科技初创公司使用一个备用服务器池来管理其计算资源。最初，该公司拥有一个包含50台备用服务器的池。系统状态每小时评估一次。在每个小时内，服务器需求的净变化会导致两种结果之一：以 $p=0.49$ 的概率，负载减少，一台服务器返回备用池；以剩余的概率，负载增加，备用池中的一台服务器被激活以处理负载。\n\n该初创公司与一家云服务提供商签订了合同，如果需求需要激活超过最初的50台备用服务器，便可以配置几乎无限数量的服务器。然而，如果备用池被完全耗尽（即备用服务器数量变为零），管理系统将会崩溃。此事件被称为‘池耗尽’。\n\n计算系统经历‘池耗尽’事件的期望时间。以小时为单位表示该期望时间。", "solution": "将备用服务器的数量建模为在非负整数上的有偏随机游走 $\\{S_{t}\\}_{t\\geq 0}$，其中 $S_{0}=50$。在每个小时内，$S_{t}$ 以概率 $p$ 增加 $+1$（一台服务器返回备用池），并以概率 $q=1-p$ 减少 $-1$（一台备用服务器被激活）。状态 $0$ 是吸收态（池耗尽），并且由于能够从外部配置更多服务器，因此没有上界。\n\n设 $m_{i}$ 表示从 $i\\geq 0$ 出发，首次到达 $0$ 的期望时间。我们有边界条件\n$$\nm_{0}=0,\n$$\n对于 $i\\geq 1$，通过首步分析，\n$$\nm_{i}=1+p\\,m_{i+1}+q\\,m_{i-1}.\n$$\n改写后得到非齐次线性差分方程\n$$\np\\,m_{i+1}-m_{i}+q\\,m_{i-1}=-1,\\quad i\\geq 1.\n$$\n\n求解相应的齐次方程 $p\\,m_{i+1}^{(h)}-m_{i}^{(h)}+q\\,m_{i-1}^{(h)}=0$，设解的形式为 $m_{i}^{(h)}=\\lambda^{i}$。其特征方程为\n$$\np\\lambda^{2}-\\lambda+q=0.\n$$\n使用 $p+q=1$，\n$$\n\\lambda=\\frac{1\\pm\\sqrt{1-4pq}}{2p}=\\frac{1\\pm|p-q|}{2p}.\n$$\n对于 $qp$，有 $|p-q|=q-p$，所以根为\n$$\n\\lambda_{1}=\\frac{1+(q-p)}{2p}=\\frac{q}{p},\\qquad \\lambda_{2}=\\frac{1-(q-p)}{2p}=1.\n$$\n因此，齐次解为\n$$\nm_{i}^{(h)}=A+B\\left(\\frac{q}{p}\\right)^{i}.\n$$\n\n寻求一个形如 $m_{i}^{(p)}=a\\,i$ 的特解。代入 $p\\,m_{i+1}-m_{i}+q\\,m_{i-1}=-1$ 可得\n$$\np\\,a(i+1)-a\\,i+q\\,a(i-1)=a(p-q)=-1,\n$$\n所以\n$$\na=\\frac{1}{q-p}.\n$$\n因此，通解为\n$$\nm_{i}=A+B\\left(\\frac{q}{p}\\right)^{i}+\\frac{i}{q-p}.\n$$\n\n应用 $m_{0}=0$ 可得 $A+B=0$，因此\n$$\nm_{i}=B\\left[\\left(\\frac{q}{p}\\right)^{i}-1\\right]+\\frac{i}{q-p}.\n$$\n为了确定与期望首达时间相对应的正确解，我们施加标准正则性条件，即当 $i\\to\\infty$ 时，$m_{i}$ 的增长至多是线性的。由于 $qp$ 意味着 $(q/p)^{i}$ 呈指数增长，我们必须取 $B=0$ 以避免指数增长，并获得最小非负解。因此\n$$\nm_{i}=\\frac{i}{q-p}.\n$$\n\n当 $p=0.49$ 且 $q=1-p=0.51$ 时，从 $i=50$ 开始，\n$$\n\\mathbb{E}[T]=m_{50}=\\frac{50}{0.51-0.49}=\\frac{50}{0.02}=2500.\n$$\n因此，池耗尽的期望时间是 $2500$ 小时。", "answer": "$$\\boxed{2500}$$", "id": "1301357"}]}