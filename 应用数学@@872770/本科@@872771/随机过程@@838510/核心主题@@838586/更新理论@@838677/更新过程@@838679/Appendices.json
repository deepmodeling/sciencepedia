{"hands_on_practices": [{"introduction": "要掌握更新过程，第一步是理解如何追踪事件随时间的累积。本练习介绍了一个核心工具：更新函数 $m(t)$，它代表到时间 $t$ 为止的期望更新次数。通过在一个简单的离散时间场景中逐步计算 $m(t)$，你将亲身体验更新过程的基本动态，并为更复杂的分析打下坚实的基础。[@problem_id:1330920]", "problem": "一家公司运营着一台关键服务器，该服务器由一个专门的软件代理进行监控。该代理具有有限的运行寿命，并且在发生故障时必须立即更换。这些更换的序列构成一个更新过程。任何给定软件代理的寿命，以天为离散时间单位衡量，是一个随机变量。一个代理可能在其运行第一天结束时发生故障，概率为 $p=0.5$，或者在其运行第二天结束时发生故障，概率为 $1-p=0.5$。连续代理的寿命是独立同分布的。在第1天开始时（时间 $t=0$）安装了一个新代理。令 $N(t)$ 为截至时间 $t$（含时间 $t$）已发生的代理更换总数。计算到第4天结束时预期发生的更换次数。请提供您答案的精确数值。", "solution": "将故障和立即更换的序列建模为一个更新过程，其寿命是 i.i.d. 的，以天为单位取值。令到达间隔时间的概率质量函数 (pmf) 为 $f(k)=\\mathbb{P}(X=k)$，其中 $f(1)=\\frac{1}{2}$ 且 $f(2)=\\frac{1}{2}$，并令 $F(n)=\\sum_{k=1}^{n}f(k)$ 为整数 $n$ 处的累积分布函数 (cdf)。定义更新函数 $m(n)=\\mathbb{E}[N(n)]$，其中 $N(n)$ 是到第 $n$ 天结束时的更新（更换）次数。对于整数时间，$m(n)$ 满足离散更新方程\n$$\nm(n)=F(n)+\\sum_{k=1}^{n} m(n-k)\\,f(k), \\quad m(0)=0.\n$$\n此处，$F(1)=\\frac{1}{2}$ 且对于 $n\\geq 2$ 有 $F(n)=1$。迭代计算：\n\n对于 $n=1$，\n$$\nm(1)=F(1)+m(0)f(1)=\\frac{1}{2}+0=\\frac{1}{2}.\n$$\n\n对于 $n=2$，\n$$\nm(2)=F(2)+m(1)f(1)+m(0)f(2)=1+\\frac{1}{2}\\cdot\\frac{1}{2}+0=\\frac{5}{4}.\n$$\n\n对于 $n=3$，\n$$\nm(3)=F(3)+m(2)f(1)+m(1)f(2)=1+\\frac{5}{4}\\cdot\\frac{1}{2}+\\frac{1}{2}\\cdot\\frac{1}{2}=1+\\frac{5}{8}+\\frac{1}{4}=\\frac{15}{8}.\n$$\n\n对于 $n=4$，\n$$\nm(4)=F(4)+m(3)f(1)+m(2)f(2)=1+\\frac{15}{8}\\cdot\\frac{1}{2}+\\frac{5}{4}\\cdot\\frac{1}{2}=1+\\frac{15}{16}+\\frac{5}{8}=1+\\frac{15}{16}+\\frac{10}{16}=\\frac{41}{16}.\n$$\n\n因此，到第4天结束时的预期更换次数为 $m(4)=\\frac{41}{16}$。", "answer": "$$\\boxed{\\frac{41}{16}}$$", "id": "1330920"}, {"introduction": "在计算了累积的期望更新次数后，一个自然而然的问题是：在某个特定时刻，恰好发生一次更新的概率是多少？本练习将带你从期望转向概率，直接处理事件发生的可能性。通过枚举所有可能导致在特定时间点发生更新的事件序列，你将采用一种组合方法，从而更深入地理解更新间隔时间的随机性是如何决定过程的瞬时行为的。[@problem_id:1330950]", "problem": "一台高耐用性服务器使用一种特定类型的闪存单元。在时间 $n=0$ 时安装了一个新的单元。一个单元的寿命，以离散时间步长衡量，是一个随机变量 $X$。当一个单元发生故障后，其内容被迁移，并立即被一个新的相同单元替换。这个故障和替换的过程无限期地持续下去。连续单元的寿命是独立同分布的。\n\n一个新安装的单元在恰好 $k$ 个时间步后发生故障的概率由概率质量函数 $p_k$ 给出：\n$p_1 = \\frac{1}{2}$\n$p_2 = \\frac{1}{3}$\n$p_3 = \\frac{1}{6}$\n且对于所有其他整数 $k \\geq 1$，$p_k = 0$。\n\n“替换事件”是指一个单元的故障及其随后的替换。计算在时间步 $n=4$ 时发生替换事件的精确概率。将你的答案表示为最简分数形式。", "solution": "设 $\\{X_{i}\\}_{i\\geq 1}$ 为独立同分布的寿命，其中 $\\mathbb{P}(X=1)=p_{1}=\\frac{1}{2}$，$\\mathbb{P}(X=2)=p_{2}=\\frac{1}{3}$，$\\mathbb{P}(X=3)=p_{3}=\\frac{1}{6}$，且对于所有其他 $k\\geq 1$，$\\mathbb{P}(X=k)=0$。令 $T_{m}=X_{1}+\\cdots+X_{m}$ 表示第 $m$ 次替换的时间。在时间 $n=4$ 发生替换，当且仅当对于某个 $m\\geq 1$ 有 $T_{m}=4$。因为对于不同的 $m$，事件 $\\{T_{m}=4\\}$ 是互斥的，我们有\n$$\n\\mathbb{P}(\\text{replacement at }4)=\\sum_{m\\geq 1}\\mathbb{P}(T_{m}=4).\n$$\n因为 $X_{i}\\in\\{1,2,3\\}$，所以 $m$ 的取值只可能是 $2,3,4$。枚举和为4、各项属于$\\{1,2,3\\}$的有序分拆：\n\n对于 $m=2$：序列 $(1,3),(2,2),(3,1)$，得出\n$$\n\\mathbb{P}(T_{2}=4)=p_{1}p_{3}+p_{2}^{2}+p_{3}p_{1}=\\frac{1}{2}\\cdot\\frac{1}{6}+\\left(\\frac{1}{3}\\right)^{2}+\\frac{1}{6}\\cdot\\frac{1}{2}=\\frac{5}{18}.\n$$\n\n对于 $m=3$：$(1,1,2)$ 的排列，共三个序列，每个序列的概率为 $p_{1}^{2}p_{2}$，得出\n$$\n\\mathbb{P}(T_{3}=4)=3\\,p_{1}^{2}p_{2}=3\\left(\\frac{1}{2}\\right)^{2}\\left(\\frac{1}{3}\\right)=\\frac{1}{4}.\n$$\n\n对于 $m=4$：序列 $(1,1,1,1)$，得出\n$$\n\\mathbb{P}(T_{4}=4)=p_{1}^{4}=\\left(\\frac{1}{2}\\right)^{4}=\\frac{1}{16}.\n$$\n\n将这些互斥情况的概率相加，得到\n$$\n\\mathbb{P}(\\text{replacement at }4)=\\frac{5}{18}+\\frac{1}{4}+\\frac{1}{16}=\\frac{40}{144}+\\frac{36}{144}+\\frac{9}{144}=\\frac{85}{144}.\n$$\n此分数为最简形式。", "answer": "$$\\boxed{\\frac{85}{144}}$$", "id": "1330950"}, {"introduction": "现实世界中的系统往往是多个独立过程的组合。这个练习探讨了一个重要且微妙的问题：将两个独立的更新过程叠加在一起，会得到一个新的更新过程吗？通过分析一个由两种不同机器故障组成的叠加过程，你将发现一个关键的结论，即叠加过程的更新间隔时间通常不再是独立同分布的。这个练习挑战了直觉，并揭示了更新过程定义中一个至关重要的性质。[@problem_id:1330916]", "problem": "一家工厂运行着两种关键机器，A型和B型。每种类型的机器都遵循一个独立的更新过程。当一台机器发生故障时，它会立即被一台相同的新机器替换。\n\nA型机器的寿命，记为 $T_A$，是一个离散随机变量，其取值可以是1小时或3小时，概率相等。即，$P(T_A = 1 \\text{ hour}) = 0.5$ 且 $P(T_A = 3 \\text{ hours}) = 0.5$。\n\nB型机器的寿命，记为 $T_B$，也是一个离散随机变量，其取值可以是2小时或4小时，概率相等。即，$P(T_B = 2 \\text{ hours}) = 0.5$ 且 $P(T_B = 4 \\text{ hours}) = 0.5$。\n\n在时间 $t=0$ 时，一台新的A型机器和一台新的B型机器同时安装并开始运行。故障的叠加过程由两种机器类型的所有故障事件共同组成。设这些组合故障的时间按递增顺序为 $S_1, S_2, S_3, \\dots$。叠加过程的到达间隔时间定义为 $X_1 = S_1$ 以及当 $n \\ge 2$ 时 $X_n = S_n - S_{n-1}$。\n\n计算第二次到达间隔时间的期望值 $E[X_2]$。答案以小时为单位，保留三位有效数字。", "solution": "我们被要求计算故障叠加过程的第二次到达间隔时间的期望值 $E[X_2]$。第二次到达间隔时间定义为 $X_2 = S_2 - S_1$，其中 $S_1$ 和 $S_2$ 是组合过程中第一次和第二次故障的时间。\n\n为了计算 $E[X_2]$，我们将使用全期望定律。$X_2$ 的值取决于系统在时间 $S_1$ 时的状态。该状态包括哪种类型的机器发生故障以及另一台机器的剩余寿命。这个状态由两台机器的初始寿命 $T_A^{(1)}$ 和 $T_B^{(1)}$ 决定。\n\n初始寿命 $T_A^{(1)}$ 和 $T_B^{(1)}$ 是独立的。$T_A^{(1)}$ 的取值为 $\\{1, 3\\}$，每个取值的概率为0.5。$T_B^{(1)}$ 的取值为 $\\{2, 4\\}$，每个取值的概率为0.5。这给出了数对 $(T_A^{(1)}, T_B^{(1)})$ 的四种等可能组合，每种组合的概率为 $P = 0.5 \\times 0.5 = 0.25$。\n\n让我们分析初始寿命的四种可能情况。\n\n**情况1：$(T_A^{(1)}, T_B^{(1)}) = (1, 2)$** (概率 = 0.25)\n第一次故障的时间是 $S_1 = \\min(T_A^{(1)}, T_B^{(1)}) = \\min(1, 2) = 1$ 小时。故障类型为A型。\n在时间 $t=1$ 时，A型机器被一台寿命为 $T_A^{(2)}$ 的新机器替换。B型机器已经运行了1小时，所以其剩余寿命为 $2 - 1 = 1$ 小时。\n从 $t=1$ 开始，到下一次故障的时间是 $\\min(T_A^{(2)}, 1)$。这就是我们所求的到达间隔时间 $X_2$ 的值。\n由于 $T_A^{(2)}$ 的取值可以是1或3，所以 $\\min(T_A^{(2)}, 1)$ 总是1。\n因此，在这种情况下，$X_2 = 1$。条件期望为 $E[X_2 | (T_A^{(1)}, T_B^{(1)})=(1,2)] = 1$。\n\n**情况2：$(T_A^{(1)}, T_B^{(1)}) = (1, 4)$** (概率 = 0.25)\n第一次故障的时间是 $S_1 = \\min(1, 4) = 1$ 小时。故障类型为A型。\n在时间 $t=1$ 时，A型机器被替换（寿命为 $T_A^{(2)}$）。B型机器的剩余寿命为 $4 - 1 = 3$ 小时。\n到下一次故障的时间是 $X_2 = \\min(T_A^{(2)}, 3)$。\n$T_A^{(2)}$ 以0.5的概率取1，以0.5的概率取3。\n如果 $T_A^{(2)} = 1$，那么 $X_2 = \\min(1, 3) = 1$。\n如果 $T_A^{(2)} = 3$，那么 $X_2 = \\min(3, 3) = 3$。\n条件期望为 $E[X_2 | (T_A^{(1)}, T_B^{(1)})=(1,4)] = (0.5 \\times 1) + (0.5 \\times 3) = 0.5 + 1.5 = 2$。\n\n**情况3：$(T_A^{(1)}, T_B^{(1)}) = (3, 2)$** (概率 = 0.25)\n第一次故障的时间是 $S_1 = \\min(3, 2) = 2$ 小时。故障类型为B型。\n在时间 $t=2$ 时，B型机器被一台寿命为 $T_B^{(2)}$ 的新机器替换。A型机器的剩余寿命为 $3 - 2 = 1$ 小时。\n到下一次故障的时间是 $X_2 = \\min(1, T_B^{(2)})$。\n由于 $T_B^{(2)}$ 的取值可以是2或4，所以 $\\min(1, T_B^{(2)})$ 总是1。\n因此，在这种情况下，$X_2 = 1$。条件期望为 $E[X_2 | (T_A^{(1)}, T_B^{(1)})=(3,2)] = 1$。\n\n**情况4：$(T_A^{(1)}, T_B^{(1)}) = (3, 4)$** (概率 = 0.25)\n第一次故障的时间是 $S_1 = \\min(3, 4) = 3$ 小时。故障类型为A型。\n在时间 $t=3$ 时，A型机器被替换（寿命为 $T_A^{(2)}$）。B型机器的剩余寿命为 $4 - 3 = 1$ 小时。\n到下一次故障的时间是 $X_2 = \\min(T_A^{(2)}, 1)$。\n由于 $T_A^{(2)}$ 的取值可以是1或3，所以 $\\min(T_A^{(2)}, 1)$ 总是1。\n因此，在这种情况下，$X_2 = 1$。条件期望为 $E[X_2 | (T_A^{(1)}, T_B^{(1)})=(3,4)] = 1$。\n\n现在，我们应用全期望定律，通过将条件期望按其概率加权求和来计算 $E[X_2]$。\n$$E[X_2] = \\sum_{\\text{all scenarios}} P(\\text{scenario}) \\times E[X_2 | \\text{scenario}]$$\n$$E[X_2] = 0.25 \\times E[X_2 | (1,2)] + 0.25 \\times E[X_2 | (1,4)] + 0.25 \\times E[X_2 | (3,2)] + 0.25 \\times E[X_2 | (3,4)]$$\n$$E[X_2] = 0.25 \\times (1) + 0.25 \\times (2) + 0.25 \\times (1) + 0.25 \\times (1)$$\n$$E[X_2] = 0.25 \\times (1 + 2 + 1 + 1) = 0.25 \\times 5 = 1.25$$\n第二次到达间隔时间的期望值为1.25小时。题目要求答案保留三位有效数字。数字1.25恰好有三位有效数字。", "answer": "$$\\boxed{1.25}$$", "id": "1330916"}]}