{"hands_on_practices": [{"introduction": "对转移率的理解始于一个最直接的问题：一个随机过程在特定状态下平均会停留多久？本练习将通过一个贴近生活的场景，引导你计算期望逗留时间。你会发现，这个时间由该状态的总“离开率”（即所有从此状态出发的转移率之和）$q_i$ 所决定，其期望值正是 $\\frac{1}{q_i}$。[@problem_id:1347554]", "problem": "一位网约车服务的司机可以处于三种状态之一：“空闲”($S_1$)、“前往接乘客”($S_2$)或“行程中”($S_3$)。这些状态之间的转移被建模为一个具有恒定转移速率的连续时间马尔可夫过程。\n\n当司机处于“空闲”状态($S_1$)时，他们可以收到两种类型的请求。一个标准请求会使其以 $\\lambda_{12} = 2.4$ 请求/小时的速率转移到“前往接乘客”状态($S_2$)。一个即时接单请求（乘客就在司机当前位置）会使其以 $\\lambda_{13} = 0.8$ 请求/小时的速率直接转移到“行程中”状态($S_3$)。\n\n系统中的其他转移如下：从状态 $S_2$ 出发，乘客可能会取消订单，导致司机以 $\\lambda_{21} = 0.7$ /小时的速率返回状态 $S_1$。或者，司机可以成功接到乘客，以 $\\lambda_{23} = 11.5$ /小时的速率转移到状态 $S_3$。在状态 $S_3$ 完成一次行程后，司机以 $\\lambda_{31} = 2.9$ /小时的速率返回“空闲”状态 $S_1$。\n\n假设司机刚刚进入“空闲”状态，那么在转移到另一个状态之前，他们将停留在这个“空闲”状态的期望时间是多少？请以分钟为单位表示你的答案，并四舍五入到三位有效数字。", "solution": "设 $T_1$ 为随机变量，表示司机单次停留在“空闲”状态($S_1$)的时间。在连续时间马尔可夫过程中，任何状态 $i$ 的停留时间都服从指数分布。该分布的速率参数（我们称之为 $q_i$）是从状态 $i$ 出发的所有可能转移的速率之和。\n\n在这个问题中，我们关心的是状态 $S_1$ 的期望停留时间。离开状态 $S_1$ 的总速率，记为 $q_1$，是所有源自 $S_1$ 的转移的速率之和。根据问题描述，司机有两种方式离开“空闲”状态：\n1. 以速率 $\\lambda_{12}$ 转移到状态 $S_2$（“前往接乘客”）。\n2. 以速率 $\\lambda_{13}$ 转移到状态 $S_3$（“行程中”）。\n\n从其他状态转移出去的速率（例如 $\\lambda_{21}$、$\\lambda_{23}$、$\\lambda_{31}$）与计算状态 $S_1$ 的停留时间无关。\n\n从状态 $S_1$ 的总离开速率是这两个转移速率之和：\n$$q_1 = \\lambda_{12} + \\lambda_{13}$$\n代入给定值：\n$$q_1 = 2.4 \\text{ hr}^{-1} + 0.8 \\text{ hr}^{-1} = 3.2 \\text{ hr}^{-1}$$\n因此，停留时间 $T_1$ 服从速率参数为 $q_1 = 3.2 \\text{ hr}^{-1}$ 的指数分布。\n\n速率参数为 $\\lambda$ 的指数随机变量的期望值（均值）由 $E[T] = \\frac{1}{\\lambda}$ 给出。\n因此，司机停留在“空闲”状态的期望时间是：\n$$E[T_1] = \\frac{1}{q_1} = \\frac{1}{3.2 \\text{ hr}^{-1}} = \\frac{1}{3.2} \\text{ 小时}$$\n题目要求以分钟为单位作答。我们必须将单位从小时转换成分钟：\n$$E[T_1] \\text{（分钟）} = \\left(\\frac{1}{3.2} \\text{ 小时}\\right) \\times \\left(\\frac{60 \\text{ 分钟}}{1 \\text{ 小时}}\\right)$$\n现在我们计算数值：\n$$E[T_1] = \\frac{60}{3.2} = \\frac{600}{32} = \\frac{300}{16} = \\frac{150}{8} = \\frac{75}{4} = 18.75 \\text{ 分钟}$$\n最后，我们需要按要求将结果四舍五入到三位有效数字。前三位有效数字是 1、8 和 7。后一位数字是 5，这意味着我们需要将最后一位有效数字向上取整。\n$$18.75 \\approx 18.8$$\n所以，司机停留在“空闲”状态的期望时间是 18.8 分钟。", "answer": "$$\\boxed{18.8}$$", "id": "1347554"}, {"introduction": "在掌握了单个状态的特性后，下一步是描绘整个系统的动态蓝图。本练习将介绍生成元矩阵 $Q$，它像一个“控制面板”，将连续时间马尔可夫链的所有转移规则紧凑地编码在一个矩阵中。通过将一个具体流程转化为其对应的生成元矩阵，你将学会把现实世界的问题模型化的核心技能。[@problem_id:1347534]", "problem": "一家现代物流公司使用连续时间马尔可夫链来为包裹的运送过程建模。一个包裹的状态可以是以下四种可能性之一：\n- 状态 1：`处理中`（在始发仓库）\n- 状态 2：`运输中`（正在送往收件人途中）\n- 状态 3：`已送达`（客户成功签收）\n- 状态 4：`等待退回`（投递失败，等待退回仓库）\n\n包裹根据以下规则和恒定速率在这些状态之间转换：\n- 处于`处理中`状态的包裹被发出并变为`运输中`状态，其速率为 $\\alpha$。\n- 处于`运输中`状态的包裹成功`已送达`的速率为 $\\beta$。\n- 处于`运输中`状态的包裹也可能投递失败并变为`等待退回`状态，其速率为 $\\gamma$。\n- 处于`等待退回`状态的包裹被送回仓库进行重新处理，以速率 $\\delta$ 重新进入`处理中`状态。\n- 一旦包裹`已送达`，它就被视为一个吸收态，意味着它将永远保持`已送达`状态。\n- 没有其他可能的转移。\n\n给定此模型，请确定该过程的正确生成元矩阵 $Q$，其中状态排序为（1: `处理中`，2: `运输中`，3: `已送达`，4: `等待退回`）。\n\n以下哪个矩阵表示 $Q$？\n\nA.\n$$\n\\begin{pmatrix}\n-\\alpha  \\alpha  0  0 \\\\\n0  -(\\beta+\\gamma)  \\beta  \\gamma \\\\\n0  0  0  0 \\\\\n\\delta  0  0  -\\delta\n\\end{pmatrix}\n$$\n\nB.\n$$\n\\begin{pmatrix}\n-\\alpha  \\alpha  0  0 \\\\\n0  -\\beta  \\beta  \\gamma \\\\\n0  0  0  0 \\\\\n\\delta  0  0  -\\delta\n\\end{pmatrix}\n$$\n\nC.\n$$\n\\begin{pmatrix}\n1-\\alpha  \\alpha  0  0 \\\\\n0  1-\\beta-\\gamma  \\beta  \\gamma \\\\\n0  0  1  0 \\\\\n\\delta  0  0  1-\\delta\n\\end{pmatrix}\n$$\n\nD.\n$$\n\\begin{pmatrix}\n-\\alpha  \\alpha  0  \\delta \\\\\n0  -(\\beta+\\gamma)  \\beta  0 \\\\\n0  \\gamma  0  0 \\\\\n0  0  0  -\\delta\n\\end{pmatrix}\n$$\n\nE.\n$$\n\\begin{pmatrix}\n-\\alpha  \\alpha  0  0 \\\\\n\\delta  -(\\beta+\\gamma)  \\beta  \\gamma \\\\\n0  0  0  0 \\\\\n0  0  0  -\\delta\n\\end{pmatrix}\n$$", "solution": "对于连续时间马尔可夫链，其生成元矩阵 $Q$ 满足以下性质：\n- 对于 $i \\neq j$，$q_{ij} \\geq 0$ 表示从状态 $i$ 到状态 $j$ 的转移速率。\n- 对于每个状态 $i$，对角线元素为 $q_{ii} = -\\sum_{j \\neq i} q_{ij}$，因此每行之和为零。\n- 如果一个状态是吸收态，则其对应的整行为零。\n\n根据问题描述，状态按 $(1,2,3,4)$ 排序，分别对应（处理中，运输中，已送达，等待退回），允许的转移及其速率如下：\n- 从状态 1 到状态 2 的速率为 $\\alpha$，没有其他从状态 1 转出的转移。因此，\n$$\nq_{12}=\\alpha,\\quad q_{11}=-\\alpha,\\quad q_{13}=0,\\quad q_{14}=0.\n$$\n- 从状态 2 到状态 3 的速率为 $\\beta$，到状态 4 的速率为 $\\gamma$，没有其他从状态 2 转出的转移。因此，\n$$\nq_{23}=\\beta,\\quad q_{24}=\\gamma,\\quad q_{21}=0,\\quad q_{22}=-(\\beta+\\gamma).\n$$\n- 状态 3（已送达）是吸收态。因此，\n$$\nq_{3j}=0\\ \\text{对所有 } j,\\quad \\text{所以 } q_{33}=0.\n$$\n- 从状态 4 到状态 1 的速率为 $\\delta$，没有其他从状态 4 转出的转移。因此，\n$$\nq_{41}=\\delta,\\quad q_{44}=-\\delta,\\quad q_{42}=0,\\quad q_{43}=0.\n$$\n\n将这些元素汇总，生成元矩阵为\n$$\nQ=\\begin{pmatrix}\n-\\alpha   \\alpha  0  0 \\\\\n0  -(\\beta+\\gamma)  \\beta  \\gamma \\\\\n0  0  0  0 \\\\\n\\delta  0  0  -\\delta\n\\end{pmatrix}.\n$$\n这与选项 A 匹配。选项 B、C、D 和 E 违反了生成元矩阵的性质或包含了禁止的转移：B 的第 2 行对角线元素不正确；C 是离散时间转移矩阵的形式；D 和 E 包含不允许的转移或遗漏了必要的转移。", "answer": "$$\\boxed{A}$$", "id": "1347534"}, {"introduction": "超越了瞬时转移，随机过程研究的核心在于其长期行为。本题是一个更具挑战性的练习，它要求你判断一个无限状态过程的稳定性，即确定其“正常返”的条件。通过分析，你将理解系统是否会收敛到一个稳定的平衡状态（即存在稳态分布），这取决于过程向前和向后“漂移”的速率平衡，此概念在物理、经济和工程领域中至关重要。[@problem_id:1347523]", "problem": "考虑一个在整数集 $\\mathbb{Z} = \\{..., -2, -1, 0, 1, 2, ...\\}$ 上的连续时间马尔可夫链 $\\{X(t) : t \\ge 0\\}$。这个过程可以被看作是一个粒子在整数线上进行随机游走。该粒子只能跳到其最近邻的状态。\n\n转移率是状态依赖的，定义如下，其中 $\\lambda_1, \\lambda_2, \\mu_1, \\mu_2$ 都是严格为正的实常数：\n- 从状态 $i$ 跳到状态 $i+1$ 的速率，当 $i \\ge 0$ 时为 $\\lambda_1$，当 $i  0$ 时为 $\\lambda_2$。\n- 从状态 $i$ 跳到状态 $i-1$ 的速率，当 $i > 0$ 时为 $\\mu_1$，当 $i \\le 0$ 时为 $\\mu_2$。\n\n在下列哪个条件下，该过程是正常返的？\n\nA. $\\lambda_1 > \\mu_1$ 且 $\\lambda_2 > \\mu_2$\nB. $\\lambda_1  \\mu_1$ 且 $\\lambda_2  \\mu_2$\nC. $\\lambda_1 > \\mu_1$ 且 $\\lambda_2  \\mu_2$\nD. $\\lambda_1  \\mu_1$ 且 $\\lambda_2 > \\mu_2$", "solution": "我们把该链建模为在 $\\mathbb{Z}$ 上的一个具有最近邻转移率的生灭过程：\n- 对于 $i \\geq 0$，有 $q_{i,i+1}=\\lambda_{1}$；对于 $i>0$，有 $q_{i,i-1}=\\mu_{1}$。\n- 对于 $i0$，有 $q_{i,i+1}=\\lambda_{2}$；对于 $i \\leq 0$，有 $q_{i,i-1}=\\mu_{2}$。\n所有四个速率都严格为正，因此该链是不可约的。在 $\\mathbb{Z}$ 上的连续时间生灭过程是正常返的，当且仅当它存在一个平稳概率分布 $\\{\\pi_{i}\\}_{i\\in\\mathbb{Z}}$ 满足 $\\sum_{i\\in\\mathbb{Z}}\\pi_{i}=1$。对于生灭过程，通过施加细致平衡关系可以得到一个可逆平稳分布（因此也是平稳的）\n$$\n\\pi_{i}q_{i,i+1}=\\pi_{i+1}q_{i+1,i},\\quad \\text{对所有 }i\\in\\mathbb{Z}.\n$$\n我们分别在正半轴和负半轴上求解这些递推关系。\n\n对于 $i \\geq 0$，有 $q_{i,i+1}=\\lambda_{1}$ 且 $q_{i+1,i}=\\mu_{1}$（因为 $i+1>0$），因此\n$$\n\\pi_{i+1}=\\pi_{i}\\frac{\\lambda_{1}}{\\mu_{1}} \\quad \\Rightarrow \\quad \\pi_{n}=\\pi_{0}\\left(\\frac{\\lambda_{1}}{\\mu_{1}}\\right)^{n},\\quad n\\geq 0.\n$$\n\n跨越 $0$ 点以及在负半轴上，我们首先建立 $\\pi_{-1}$ 与 $\\pi_{0}$ 的关系。当 $i=-1$ 时，$q_{-1,0}=\\lambda_{2}$，当 $i=0$ 时，$q_{0,-1}=\\mu_{2}$，所以细致平衡给出\n$$\n\\pi_{-1}\\lambda_{2}=\\pi_{0}\\mu_{2}\\quad \\Rightarrow \\quad \\pi_{-1}=\\pi_{0}\\frac{\\mu_{2}}{\\lambda_{2}}.\n$$\n对于 $i\\leq -1$，我们有 $q_{i,i-1}=\\mu_{2}$ 和 $q_{i-1,i}=\\lambda_{2}$（因为两个下标都按要求 $\\leq 0$ 或 $ 0$），所以\n$$\n\\pi_{i-1}=\\pi_{i}\\frac{\\mu_{2}}{\\lambda_{2}}.\n$$\n对此进行迭代，对于 $n\\geq 1$ 可得，\n$$\n\\pi_{-n}=\\pi_{0}\\left(\\frac{\\mu_{2}}{\\lambda_{2}}\\right)^{n}.\n$$\n\n因此，在不考虑归一化常数 $\\pi_{0}$ 的情况下，候选的平稳测度为\n$$\n\\pi_{n}=\\pi_{0}\\left(\\frac{\\lambda_{1}}{\\mu_{1}}\\right)^{n}\\ \\text{对于 }n\\geq 0,\\qquad\n\\pi_{-n}=\\pi_{0}\\left(\\frac{\\mu_{2}}{\\lambda_{2}}\\right)^{n}\\ \\text{对于 }n\\geq 1.\n$$\n这定义了一个平稳概率分布，当且仅当其总和有限：\n$$\n\\sum_{n=0}^{\\infty}\\pi_{n}+\\sum_{n=1}^{\\infty}\\pi_{-n}\n=\\pi_{0}\\left(1+\\sum_{n=1}^{\\infty}\\left(\\frac{\\lambda_{1}}{\\mu_{1}}\\right)^{n}+\\sum_{n=1}^{\\infty}\\left(\\frac{\\mu_{2}}{\\lambda_{2}}\\right)^{n}\\right)  \\infty.\n$$\n每个几何级数收敛的充要条件是其公比的绝对值小于 $1$。由于所有速率都严格为正，这要求\n$$\n\\frac{\\lambda_{1}}{\\mu_{1}}  1 \\quad \\text{且} \\quad \\frac{\\mu_{2}}{\\lambda_{2}}  1,\n$$\n等价于，\n$$\n\\lambda_{1}  \\mu_{1}\\quad \\text{且} \\quad \\lambda_{2} > \\mu_{2}.\n$$\n因为该链是不可约的，所以其为正常返的充要条件是存在一个平稳分布。因此该过程是正常返的，当且仅当 $\\lambda_{1}  \\mu_{1}$ 且 $\\lambda_{2} > \\mu_{2}$，这对应于选项D。", "answer": "$$\\boxed{D}$$", "id": "1347523"}]}