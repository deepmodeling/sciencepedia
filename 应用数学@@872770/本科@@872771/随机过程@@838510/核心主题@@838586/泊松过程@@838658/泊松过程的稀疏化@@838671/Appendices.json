{"hands_on_practices": [{"introduction": "泊松过程的“稀疏化”在它与其他核心概率分布之间建立了有趣的联系。第一个练习将探讨，在一个总事件数已知的固定时间区间内，特定类型事件的数量分布情况。通过这个练习，你将发现泊松过程和二项分布之间的基本联系，这是随机建模中的一个基石概念。[@problem_id:1346161]", "problem": "访问某新闻网站主页的访客到达过程被建模为一个泊松过程，其平均速率恒为每分钟 $\\lambda$ 位访客。该网站采用一个内容个性化系统，该系统将每位访客独立地分为“技术爱好者”（概率为 $p$）或“金融爱好者”（概率为 $1-p$）。\n\n考虑一个特定的 $T$ 分钟时间间隔。在此时间间隔内，记录到共有 $N$ 位访客到达主页。基于此信息，求这些访客中恰好有 $k$ 位被分类为“技术爱好者”的概率。假设 $0 \\le k \\le N$。请用 $N$、$k$ 和 $p$ 的符号表达式表示你的答案。", "solution": "设 `N(t)` 表示在长度为 `t` 的时间间隔内到达的访客总数。根据题意，`N(t)` 服从速率为 `\\lambda` 的泊松过程。因此，在 $T$ 分钟时间间隔内的到达次数 $N(T)$ 是一个参数为 $\\lambda T$ 的泊松随机变量。其概率质量函数 (PMF) 由下式给出：\n$$ P(N(T) = n) = \\frac{\\exp(-\\lambda T) (\\lambda T)^n}{n!} $$\n\n访客流被分为两类：“技术爱好者”和“金融爱好者”。设 $N_T(t)$ 为在时间 $t$ 内到达的“技术爱好者”数量，$N_F(t)$ 为在时间 $t$ 内到达的“金融爱好者”数量。\n\n泊松过程的一个基本性质，称为稀疏化或分裂，指出如果一个速率为 $\\lambda$ 的泊松过程中的每次到达以概率 $p$ 和 $1-p$ 被分到两个流中，那么得到的两个流是相互独立的泊松过程。\n“技术爱好者”的速率为 $\\lambda_T = \\lambda p$。\n“金融爱好者”的速率为 $\\lambda_F = \\lambda (1-p)$。\n\n因此，$N_T(T)$ 是一个参数为 $\\lambda p T$ 的泊松随机变量，而 $N_F(T)$ 是一个参数为 $\\lambda (1-p) T$ 的泊松随机变量。它们各自的 PMF 为：\n$$ P(N_T(T) = k) = \\frac{\\exp(-\\lambda p T) (\\lambda p T)^k}{k!} $$\n$$ P(N_F(T) = j) = \\frac{\\exp(-\\lambda (1-p) T) (\\lambda (1-p) T)^j}{j!} $$\n\n我们被要求计算在总访客数为 $N$ 的条件下，有 $k$ 位“技术爱好者”的条件概率。这可以写成 $P(N_T(T) = k | N(T) = N)$。\n\n使用条件概率的定义：\n$$ P(N_T(T) = k | N(T) = N) = \\frac{P(N_T(T) = k \\text{ 且 } N(T) = N)}{P(N(T) = N)} $$\n\n事件 $\\{N_T(T) = k \\text{ 且 } N(T) = N\\}$ 与事件“有 $k$ 位‘技术爱好者’和 $N-k$ 位‘金融爱好者’”是相同的。也就是 $\\{N_T(T) = k \\text{ 且 } N_F(T) = N-k\\}$。\n由于两个稀疏化过程是独立的，我们可以将联合概率写为它们各自概率的乘积：\n$$ P(N_T(T) = k, N_F(T) = N-k) = P(N_T(T) = k) \\cdot P(N_F(T) = N-k) $$\n代入 PMF：\n$$ P(N_T(T) = k, N_F(T) = N-k) = \\left( \\frac{\\exp(-\\lambda p T) (\\lambda p T)^k}{k!} \\right) \\cdot \\left( \\frac{\\exp(-\\lambda (1-p) T) (\\lambda (1-p) T)^{N-k}}{(N-k)!} \\right) $$\n让我们简化分子的表达式：\n$$ \\text{分子} = \\frac{\\exp(-\\lambda p T - \\lambda (1-p) T) (\\lambda T)^k p^k (\\lambda T)^{N-k} (1-p)^{N-k}}{k!(N-k)!} $$\n$$ \\text{分子} = \\frac{\\exp(-\\lambda T (p + 1 - p)) (\\lambda T)^{k + N - k} p^k (1-p)^{N-k}}{k!(N-k)!} $$\n$$ \\text{分子} = \\frac{\\exp(-\\lambda T) (\\lambda T)^N p^k (1-p)^{N-k}}{k!(N-k)!} $$\n\n分母是 $P(N(T) = N)$，我们知道它是：\n$$ \\text{分母} = P(N(T) = N) = \\frac{\\exp(-\\lambda T) (\\lambda T)^N}{N!} $$\n\n现在我们计算比率：\n$$ P(N_T(T) = k | N(T) = N) = \\frac{\\frac{\\exp(-\\lambda T) (\\lambda T)^N p^k (1-p)^{N-k}}{k!(N-k)!}}{\\frac{\\exp(-\\lambda T) (\\lambda T)^N}{N!}} $$\n项 $\\exp(-\\lambda T)$ 和 $(\\lambda T)^N$ 被消去，剩下：\n$$ P(N_T(T) = k | N(T) = N) = \\frac{p^k (1-p)^{N-k} / (k!(N-k)!)}{1/N!} = \\frac{N!}{k!(N-k)!} p^k (1-p)^{N-k} $$\n这个表达式是具有 $N$ 次试验和成功概率为 $p$ 的二项分布的概率质量函数。使用二项式系数表示法 $\\binom{N}{k} = \\frac{N!}{k!(N-k)!}$，最终的表达式为：\n$$ \\binom{N}{k} p^k (1-p)^{N-k} $$", "answer": "$$ \\boxed{\\binom{N}{k} p^{k} (1-p)^{N-k}} $$", "id": "1346161"}, {"introduction": "现在，让我们将视角从固定的时间区间转移到事件发生的序列本身。通过关注每次到达事件的“类型”而不是“时间”，我们可以揭示出一种不同的统计规律。这个练习揭示了稀疏化与几何分布之间的优美关系，将整个过程看作一系列独立的伯努利试验。[@problem_id:1407533]", "problem": "在一个粒子物理实验中，一束粒子被引向一个探测器。这些粒子到达探测器的时间可以被建模为一个泊松过程，其平均速率为常数 $\\lambda$ 粒子/秒。每个到达的粒子，与其他所有粒子无关，被分类为“信号”粒子的概率为 $p$，或被分类为“背景”粒子的概率为 $1-p$。一个数据采集系统被配置为仅在探测到“信号”粒子时触发并记录一个事件；“背景”粒子不会触发系统，并被有效忽略。\n\n设 $N$ 是一个离散随机变量，表示在两个连续的“信号”粒子到达之间，到达探测器的“背景”粒子的数量。求出对于 $k=0, 1, 2, \\dots$ 的概率质量函数 $P(N=k)$。你的最终答案应该是一个用 $p$ 和 $k$ 表示的表达式。", "solution": "该问题要求的是在两个连续的“信号”粒子之间出现的“背景”粒子数量 $N$ 的概率分布。\n\n让我们考虑粒子到达探测器时的类型序列。每个粒子的到达构成一次独立的试验。每次试验的结果可以是“信号”（S），概率为 $p$；或者是“背景”（B），概率为 $1-p$。这构成了一个独立的伯努利试验序列。\n\n问题是关于两个连续信号粒子*之间*的背景粒子的数量。这意味着我们从一个信号粒子刚刚到达的时刻开始观察系统。我们想要找到以下事件序列发生的概率：一定数量的背景粒子到达，然后下一个到达的粒子是一个信号粒子，从而结束这个区间。\n\n让我们将我们感兴趣的事件表示为 $\\{N=k\\}$。这对应于观察到恰好 $k$ 个背景粒子紧接着一个信号粒子。粒子分类的序列会是这样：\n$$\n\\underbrace{\\text{B, B, ..., B}}_{k \\text{ 次}}, \\text{S}\n$$\n单个粒子是背景粒子的概率是 $P(\\text{B}) = 1-p$。\n单个粒子是信号粒子的概率是 $P(\\text{S}) = p$。\n\n由于每个粒子的分类是一个独立事件，观察到这个特定序列的概率是每个单独结果概率的乘积。\n得到 $k$ 个连续背景粒子的概率是 $(P(\\text{B}))^k = (1-p)^k$。\n下一个粒子是信号粒子的概率是 $P(\\text{S})=p$。\n\n因此，整个序列（对应于事件 $\\{N=k\\}$）的概率是：\n$$\nP(N=k) = P(\\underbrace{\\text{B, B, ..., B}}_{k \\text{ 次}}, \\text{S}) = (P(\\text{B}))^{k} \\times P(\\text{S})\n$$\n代入概率，我们得到：\n$$\nP(N=k) = (1-p)^{k} p\n$$\n这是一个几何分布的概率质量函数（PMF），其中“成功”是观察到一个信号粒子。随机变量 $N=k$ 计的是在第一次成功之前“失败”（背景粒子）的次数。这对 $k = 0, 1, 2, \\dots$ 成立。\n\n请注意，泊松过程的速率 $\\lambda$ 没有出现在最终答案中。问题关心的是事件*类型*的序列，而不是它们之间的*时间*。这个问题可以完全重新表述为分析一个独立的伯努利试验序列，这使得由 $\\lambda$ 提供的到达时间信息与最终计算粒子计数的概率无关。", "answer": "$$\\boxed{(1-p)^{k} p}$$", "id": "1407533"}, {"introduction": "在许多现实场景中，我们只能观察到一个更大过程的一部分。这个练习挑战你进行一次“逆向推断”：在已知一个稀疏化子过程信息的情况下，我们能对原始的完整过程做出什么判断？这个问题有力地说明了稀疏化后各个子流之间的独立性——这是一个关键特性，它使我们能够从局部信息推断整体。[@problem_id:1407530]", "problem": "数据包根据泊松过程到达一个核心网络路由器，平均速率为 $\\lambda = 150$ 包/秒。每个到达的数据包被独立地分类为“高优先级”（概率为 $p = 0.20$）或“低优先级”（概率为 $1-p$）。在一个持续时间为 $T = 2.0$ 秒的特定观测区间内，一个网络分析器记录到恰好接收了 k = 50 个高优先级数据包。\n\n根据这一观测结果，计算在这 2.0 秒的区间内到达路由器的总数据包（包括高优先级和低优先级）的期望数量。", "solution": "设 $N(t)$ 为在长度为 $t$ 的区间内到达的数据包总数。根据题意，$N(t)$ 服从速率为 $\\lambda$ 的泊松过程。在持续时间为 $T$ 的时间区间内的到达数量是一个泊松随机变量 $N(T)$，其参数为 $\\lambda T$。\n$$N(T) \\sim \\text{Poisson}(\\lambda T)$$\n\n总数据包流被分解为两个流：高优先级数据包流和低优先级数据包流。这是泊松过程分解（thinning）的一个经典例子。\n设 $N_H(T)$ 为在区间 $T$ 内到达的高优先级数据包数量，$N_L(T)$ 为低优先级数据包数量。\n根据泊松过程的分解特性，$N_H(T)$ 和 $N_L(T)$ 也都是泊松随机变量。\n高优先级到达的速率为 $\\lambda_H = p \\lambda$。因此，$N_H(T) \\sim \\text{Poisson}(p \\lambda T)$。\n低优先级到达的速率为 $\\lambda_L = (1-p) \\lambda$。因此，$N_L(T) \\sim \\text{Poisson}((1-p) \\lambda T)$。\n泊松过程分解的一个关键性质是，分解后得到的各个过程是相互独立的。因此，随机变量 $N_H(T)$ 和 $N_L(T)$ 是独立的。\n\n数据包总数是高优先级和低优先级数据包数量之和：\n$$N(T) = N_H(T) + N_L(T)$$\n\n问题要求的是在观测到恰好有 $k$ 个高优先级数据包的条件下，数据包的总期望数量。这即是条件期望 $E[N(T) | N_H(T) = k]$。\n\n我们可以将其写作：\n$$E[N(T) | N_H(T) = k] = E[N_H(T) + N_L(T) | N_H(T) = k]$$\n\n根据期望的线性性质，我们可以将其分解为两项：\n$$E[N(T) | N_H(T) = k] = E[N_H(T) | N_H(T) = k] + E[N_L(T) | N_H(T) = k]$$\n\n让我们分别计算每一项。\n第一项 $E[N_H(T) | N_H(T) = k]$ 是变量 $N_H(T)$ 在其值固定为 $k$ 的条件下的期望。一个常数的期望就是该常数本身。\n$$E[N_H(T) | N_H(T) = k] = k$$\n\n对于第二项 $E[N_L(T) | N_H(T) = k]$，我们利用 $N_L(T)$ 和 $N_H(T)$ 的独立性。由于这两个随机变量是独立的，对 $N_H(T)$ 的值施加条件并不会提供任何关于 $N_L(T)$ 的信息。因此，条件期望等于无条件期望：\n$$E[N_L(T) | N_H(T) = k] = E[N_L(T)]$$\n\n随机变量 $N_L(T)$ 服从参数为 $(1-p)\\lambda T$ 的泊松分布。泊松随机变量的期望就是其参数。\n$$E[N_L(T)] = (1-p)\\lambda T$$\n\n结合这些结果，我们得到条件期望的表达式：\n$$E[N(T) | N_H(T) = k] = k + (1-p)\\lambda T$$\n\n现在，我们代入给定的数值：\n$k = 50$\n$p = 0.20$\n$\\lambda = 150 \\text{ s}^{-1}$\n$T = 2.0 \\text{ s}$\n\n$$E[N(T) | N_H(T) = 50] = 50 + (1 - 0.20)(150)(2.0)$$\n$$E[N(T) | N_H(T) = 50] = 50 + (0.80)(300)$$\n$$E[N(T) | N_H(T) = 50] = 50 + 240$$\n$$E[N(T) | N_H(T) = 50] = 290$$\n\n所以，在该区间内到达的数据包总数的期望值为 290。", "answer": "$$\\boxed{290}$$", "id": "1407530"}]}