{"hands_on_practices": [{"introduction": "第一个练习直接而直观地应用了无记忆性。通过在一个软件测试的假设场景中计算条件概率，你将亲眼看到在几何过程中，过去的失败如何不影响未来的结果概率。这个练习巩固了“过程不记忆其过去”的核心概念 [@problem_id:1374933]。", "problem": "一家科技初创公司的质量保证工程师正在测试一个新开发的软件模块。每次执行该模块时，它都有一个恒定的、独立的概率 $p$ 触发一个特定的严重故障。这个过程被重复执行，直到观察到第一次故障。令随机变量 $X$ 表示观察到这第一次故障所需的执行次数。\n\n假设在连续 7 次执行后，该严重故障尚未发生。第一次故障将在第 10 次执行之后发生的概率是多少？请用包含 $p$ 的符号表达式来表示你的答案。", "solution": "令 $X$ 为直到第一次故障所需的执行次数，其中每次执行以概率 $p$ 独立地发生故障。那么 $X$ 在 $\\{1,2,\\ldots\\}$ 上服从几何分布，其概率质量函数为\n$$\n\\Pr(X=k)=(1-p)^{k-1}p,\\quad k\\geq 1.\n$$\n第一次故障在第 $10$ 次执行后发生的事件是 $\\{X10\\}$，而在前 $7$ 次执行中没有发生故障的信息是 $\\{X7\\}$。我们要求解的条件概率是\n$$\n\\Pr(X10\\mid X7)=\\frac{\\Pr(X10\\cap X7)}{\\Pr(X7)}=\\frac{\\Pr(X10)}{\\Pr(X7)},\n$$\n因为 $\\{X10\\}\\subseteq\\{X7\\}$。对于几何分布，\n$$\n\\Pr(Xn)=(1-p)^{n},\n$$\n因为这是连续 $n$ 次未发生故障的概率。因此，\n$$\n\\Pr(X10\\mid X7)=\\frac{(1-p)^{10}}{(1-p)^{7}}=(1-p)^{3}.\n$$\n这也反映了几何分布的无记忆性：$\\Pr(Xm+n\\mid Xm)=\\Pr(Xn)$。", "answer": "$$\\boxed{(1-p)^{3}}$$", "id": "1374933"}, {"introduction": "这个练习超越了简单的概率计算，从期望值的角度探讨了无记忆性。你将推导在已知一定数量的试验失败后，成功所需的总期望试验次数。此练习揭示了无记忆性的一个深刻推论：无论你已经等待了多久，未来的期望等待时间是恒定的 [@problem_id:11756]。", "problem": "一个离散随机变量 $X$ 服从几何分布，表示在一系列独立的伯努利试验中首次成功出现的试验次数。任何一次试验成功的概率为 $p$，其中 $0  p \\leq 1$。$X$ 的概率质量函数 (PMF) 由下式给出：\n$$\nP(X=k) = (1-p)^{k-1}p, \\quad \\text{for } k = 1, 2, 3, \\dots\n$$\n给定前 $n$ 次试验没有成功（其中 $n$ 是一个正整数），该事件被描述为 $X  n$。\n\n你的任务是推导条件期望 $E[X | X  n]$ 的一个封闭形式表达式。这个值代表在已知前 $n$ 次试验已经失败的情况下，直到首次成功所需的总试验次数的期望值。\n\n你可以使用公比为 $q = 1-p$ 的几何级数的以下标准结果：\n1.  $\\sum_{j=1}^{\\infty} q^{j-1} = \\frac{1}{1-q} = \\frac{1}{p}$\n2.  $\\sum_{j=1}^{\\infty} j q^{j-1} = \\frac{1}{(1-q)^2} = \\frac{1}{p^2}$", "solution": "目标是推导条件期望 $E[X | X  n]$ 的表达式。\n\n根据离散随机变量的条件期望的定义，我们有：\n$$\nE[X | X  n] = \\sum_{k} k \\cdot P(X=k | X  n)\n$$\n求和是对所有可能的 $k$ 值进行的。由于事件是 $X  n$，所以 $k$ 的可能值为 $n+1, n+2, \\dots$。\n$$\nE[X | X  n] = \\sum_{k=n+1}^{\\infty} k \\cdot P(X=k | X  n)\n$$\n接下来，我们使用条件概率的定义：\n$$\nP(X=k | X  n) = \\frac{P(\\{X=k\\} \\cap \\{Xn\\})}{P(Xn)}\n$$\n对于 $k  n$，事件 $\\{X=k\\}$ 是事件 $\\{Xn\\}$ 的一个子集。因此，它们的交集就是 $\\{X=k\\}$。\n$$\nP(X=k | X  n) = \\frac{P(X=k)}{P(Xn)} \\quad \\text{for } k  n\n$$\n现在，我们需要计算事件 $X  n$ 的概率。这是前 $n$ 次试验全部失败的概率。单次试验失败的概率是 $(1-p)$。由于试验是独立的，连续 $n$ 次失败的概率是：\n$$\nP(Xn) = (1-p)^n\n$$\n或者，我们可以通过对 PMF 求和来计算这个概率：\n$$\nP(Xn) = \\sum_{k=n+1}^{\\infty} P(X=k) = \\sum_{k=n+1}^{\\infty} (1-p)^{k-1}p\n$$\n令 $q = 1-p$。该级数为 $p \\sum_{k=n+1}^{\\infty} q^{k-1} = p (q^n + q^{n+1} + q^{n+2} + \\dots)$。\n这是一个首项为 $a = q^n$、公比为 $r = q$ 的几何级数。其和为 $\\frac{a}{1-r} = \\frac{q^n}{1-q} = \\frac{q^n}{p}$。\n$$\nP(Xn) = p \\left( \\frac{q^n}{p} \\right) = q^n = (1-p)^n\n$$\n现在，我们可以将这些表达式代回条件期望的公式中：\n$$\nE[X | X  n] = \\sum_{k=n+1}^{\\infty} k \\frac{P(X=k)}{P(Xn)} = \\frac{1}{(1-p)^n} \\sum_{k=n+1}^{\\infty} k \\cdot (1-p)^{k-1}p\n$$\n让我们关注求和项。令 $q = 1-p$：\n$$\nS = \\sum_{k=n+1}^{\\infty} k \\cdot q^{k-1}p = p \\sum_{k=n+1}^{\\infty} k q^{k-1}\n$$\n为了计算这个和，我们进行换元。令 $j = k-n$。这意味着 $k = j+n$。当 $k=n+1$ 时，$j=1$。当 $k \\to \\infty$ 时，$j \\to \\infty$。\n$$\nS = p \\sum_{j=1}^{\\infty} (j+n) q^{(j+n)-1} = p \\sum_{j=1}^{\\infty} (j+n) q^{j+n-1}\n$$\n我们可以从和式中提出因子 $q^n$：\n$$\nS = p q^n \\sum_{j=1}^{\\infty} (j+n) q^{j-1}\n$$\n现在，我们将和式分成两部分：\n$$\nS = p q^n \\left( \\sum_{j=1}^{\\infty} j q^{j-1} + \\sum_{j=1}^{\\infty} n q^{j-1} \\right) = p q^n \\left( \\sum_{j=1}^{\\infty} j q^{j-1} + n \\sum_{j=1}^{\\infty} q^{j-1} \\right)\n$$\n使用题目中给出的几何级数的标准结果：\n1.  $\\sum_{j=1}^{\\infty} q^{j-1} = \\frac{1}{1-q} = \\frac{1}{p}$\n2.  $\\sum_{j=1}^{\\infty} j q^{j-1} = \\frac{1}{(1-q)^2} = \\frac{1}{p^2}$\n\n将这些结果代回 $S$ 的表达式中：\n$$\nS = p q^n \\left( \\frac{1}{p^2} + n \\frac{1}{p} \\right)\n$$\n将 $p$ 分配到括号内：\n$$\nS = q^n \\left( p \\cdot \\frac{1}{p^2} + p \\cdot n \\frac{1}{p} \\right) = q^n \\left( \\frac{1}{p} + n \\right)\n$$\n将 $q=1-p$ 代回：\n$$\nS = (1-p)^n \\left(n + \\frac{1}{p}\\right)\n$$\n最后，我们把这个结果代回到 $E[X | X  n]$ 的表达式中：\n$$\nE[X | X  n] = \\frac{1}{(1-p)^n} \\cdot S = \\frac{1}{(1-p)^n} \\cdot (1-p)^n \\left(n + \\frac{1}{p}\\right)\n$$\n$$\nE[X | X  n] = n + \\frac{1}{p}\n$$\n这个结果表明，在已知前 $n$ 次试验失败的情况下，预期的总试验次数，就是已经过去的 $n$ 次试验，加上从头开始的原始预期试验次数 $E[X] = 1/p$。这是几何分布无记忆性的体现。", "answer": "$$\n\\boxed{n + \\frac{1}{p}}\n$$", "id": "11756"}, {"introduction": "最后的这个练习旨在挑战你将无记忆性与其他数学工具结合起来，以解决一个更复杂的问题。你必须首先利用无记忆性原理“重置时钟”，然后运用你对几何级数的知识来计算一个更复杂事件的概率。这表明了无记忆性不仅是一个独立的性质，更是解决复杂问题工具箱中的一个强大组成部分 [@problem_id:11738]。", "problem": "考虑一系列独立的伯努利试验，其中任意一次试验成功的概率为 $p$，失败的概率为 $q = 1-p$。令随机变量 $X$ 表示首次成功出现的试验次数。$X$ 的概率质量函数 (PMF) 由几何分布给出：\n$$P(X=k) = (1-p)^{k-1}p = q^{k-1}p, \\quad \\text{其中 } k = 1, 2, 3, \\ldots$$\n\n假设观察到前 10 次试验均未成功。在此信息下，推导首次成功发生在偶数次试验（即第 12、14、16 次等试验）上的概率的符号表达式。您的最终表达式应仅用 $p$ 表示。", "solution": "我们要求解\n$$P\\bigl(X\\in\\{12,14,16,\\dots\\}\\,\\bigm|\\,X10\\bigr)\n=\\frac{P\\bigl(X\\in\\{12,14,16,\\dots\\}\\bigr)}{P(X10)}.$$\n\n由于 $X\\sim\\mathrm{Geom}(p)$ 且 $q=1-p$，我们有\n$$P(X10)=q^{10}$$ \n且对于偶数 $k=2j\\ge12$，\n$$P(X=2j)=q^{2j-1}p.$$\n因此\n\n$$\nP\\bigl(X\\in\\{12,14,16,\\dots\\}\\bigr)\n=\\sum_{j=6}^{\\infty}q^{2j-1}p\n=p\\sum_{j=6}^{\\infty}q^{2j-1}\n=p\\,q^{-1}\\sum_{j=6}^{\\infty}(q^2)^j\n=\\frac{p\\,q^{-1}\\,(q^2)^6}{1-q^2}\n=\\frac{p\\,q^{11}}{1-q^2}.\n$$\n\n因此\n\n$$\nP\\bigl(X\\in\\{12,14,16,\\dots\\}\\,\\bigm|\\,X10\\bigr)\n=\\frac{\\displaystyle\\frac{p\\,q^{11}}{1-q^2}}{q^{10}}\n=\\frac{p\\,q}{1-q^2}\n=\\frac{p\\,q}{(1-q)(1+q)}\n=\\frac{q}{1+q}\n=\\frac{1-p}{2-p}.\n$$", "answer": "$$\\boxed{\\frac{1-p}{2-p}}$$", "id": "11738"}]}