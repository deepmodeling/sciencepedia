{"hands_on_practices": [{"introduction": "第一个练习将带你掌握条件概率的核心定义。通过一个关于微芯片质量控制的场景，你将直接运用条件概率公式，练习如何重排和组合已知概率来求解一个未知的条件概率。这个练习是理解后续更复杂概念的基石。[@problem_id:3058]", "problem": "在一个制造微芯片的质量控制流程中，会进行两种不同的自动化测试，即测试 A 和测试 B。设 $A$ 为随机选择的微芯片未能通过测试 A 的事件，设 $B$ 为其未能通过测试 B 的事件。与这些测试相关的概率如下所示：\n\n- 芯片未能通过测试 A 的概率为 $P(A) = p_A$。\n- 芯片未能通过测试 B 的概率为 $P(B) = p_B$。\n- 在已知芯片未能通过测试 B 的情况下，其未能通过测试 A 的概率为 $P(A|B) = p_{A|B}$。\n\n假设概率的数值如下：\n- $p_A = \\frac{1}{2}$\n- $p_B = \\frac{2}{5}$\n- $p_{A|B} = \\frac{3}{5}$\n\n使用条件概率的基本定义，推导 $P(B|A)$ 的表达式，即在已知微芯片未能通过测试 A 的情况下，其未能通过测试 B 的概率。然后，计算其数值。", "solution": "问题要求计算条件概率 $P(B|A)$。对于两个事件 $X$ 和 $Y$（其中 $P(Y)0$），条件概率的定义如下：\n$$\nP(X|Y) = \\frac{P(X \\cap Y)}{P(Y)}\n$$\n其中 $P(X \\cap Y)$ 是事件 $X$ 和 $Y$ 同时发生的联合概率。\n\n我们的目标是求 $P(B|A)$。根据定义，我们可以写出：\n$$\nP(B|A) = \\frac{P(B \\cap A)}{P(A)}\n$$\n\n问题给出了 $P(A)$，但没有直接给出联合概率 $P(B \\cap A)$。但是，我们已知 $P(A|B)$ 和 $P(B)$。我们可以使用 $P(A|B)$ 的条件概率定义：\n$$\nP(A|B) = \\frac{P(A \\cap B)}{P(B)}\n$$\n\n我们可以重新整理这个方程来求解联合概率 $P(A \\cap B)$：\n$$\nP(A \\cap B) = P(A|B) P(B)\n$$\n\n事件的交集是可交换的运算，意味着“A 和 B 发生”与“B 和 A 发生”是同一事件。因此，它们的概率相等：\n$$\nP(A \\cap B) = P(B \\cap A)\n$$\n\n现在我们可以将从整理后的公式中得到的 $P(A \\cap B)$ 的表达式代入我们求 $P(B|A)$ 的方程中：\n$$\nP(B|A) = \\frac{P(A \\cap B)}{P(A)} = \\frac{P(A|B) P(B)}{P(A)}\n$$\n\n这样我们就得到了用给定数量表示的 $P(B|A)$ 的符号表达式。现在，我们代入给定的数值：\n- $P(A) = p_A = \\frac{1}{2}$\n- $P(B) = p_B = \\frac{2}{5}$\n- $P(A|B) = p_{A|B} = \\frac{3}{5}$\n\n将这些值代入我们推导出的公式中：\n$$\nP(B|A) = \\frac{\\left(\\frac{3}{5}\\right) \\left(\\frac{2}{5}\\right)}{\\frac{1}{2}}\n$$\n\n首先，我们计算分子中的乘积：\n$$\nP(B|A) = \\frac{\\frac{3 \\times 2}{5 \\times 5}}{\\frac{1}{2}} = \\frac{\\frac{6}{25}}{\\frac{1}{2}}\n$$\n\n要除以一个分数，我们乘以它的倒数：\n$$\nP(B|A) = \\frac{6}{25} \\times \\frac{2}{1} = \\frac{12}{25}\n$$\n\n因此，在已知微芯片未能通过测试 A 的情况下，其未能通过测试 B 的概率为 $\\frac{12}{25}$。", "answer": "$$\n\\boxed{\\frac{12}{25}}\n$$", "id": "3058"}, {"introduction": "这个实践问题从简单的计算转向了贝叶斯定理的经典应用。你将学习如何“逆转”条件，从观察到的结果（产品有缺陷）来推断其原因（它来自哪条生产线）。这个练习展示了条件概率在诊断和质量控制等实际场景中的强大威力。[@problem_id:3074]", "problem": "一家工厂使用两条不同的生产线（A线和B线）生产一种特定类型的微芯片。A线负责生产总微芯片中的一部分，比例为 $p_A$，而B线生产剩余部分，比例为 $p_B = 1-p_A$。\n\n由于设备差异，来自A线的微芯片有缺陷的概率是 $d_A$，而来自B线的微芯片有缺陷的概率是 $d_B$。所有微芯片在装运前都被收集在同一个箱子中。\n\n假设从箱子中随机抽取一个微芯片，发现它是有缺陷的。推导一个表达式，计算这个有缺陷的微芯片是由A线生产的概率。用 $p_A$、$d_A$ 和 $d_B$ 来表示你的答案。", "solution": "我们定义以下事件：\n- $A$：所选微芯片由A线生产的事件。\n- $B$：所选微芯片由B线生产的事件。\n- $D$：所选微芯片是有缺陷的事件。\n\n根据题目陈述，我们已知以下概率：\n- 随机选取的微芯片来自A线的概率是 $P(A) = p_A$。\n- 随机选取的微芯片来自B线的概率是 $P(B) = p_B = 1 - p_A$。\n- 在已知微芯片来自A线的情况下，其为缺陷品的概率是 $P(D|A) = d_A$。\n- 在已知微芯片来自B线的情况下，其为缺陷品的概率是 $P(D|B) = d_B$。\n\n我们想要求的是，在已知微芯片是缺陷品的情况下，它是由A线生产的概率。这即是条件概率 $P(A|D)$。\n\n条件概率的定义如下：\n$$\nP(A|D) = \\frac{P(A \\cap D)}{P(D)}\n$$\n其中 $P(A \\cap D)$ 是微芯片来自A线且是有缺陷的概率，而 $P(D)$ 是随机选取的微芯片是有缺陷的总概率。\n\n首先，我们计算分子 $P(A \\cap D)$。我们可以对 $P(D|A)$ 的条件概率定义进行变形：\n$$\nP(D|A) = \\frac{P(D \\cap A)}{P(A)}\n$$\n求解 $P(D \\cap A)$（这与 $P(A \\cap D)$ 相同），我们得到：\n$$\nP(A \\cap D) = P(D|A) P(A)\n$$\n代入已知值：\n$$\nP(A \\cap D) = d_A p_A\n$$\n\n接下来，我们计算分母 $P(D)$。一个微芯片可能以两种互斥的方式成为缺陷品：它由A线生产且是缺陷品，或者它由B线生产且是缺陷品。根据全概率公式，我们可以将 $P(D)$ 表示为这些可能性的总和：\n$$\nP(D) = P(D \\cap A) + P(D \\cap B)\n$$\n我们已经求出 $P(D \\cap A) = d_A p_A$。类似地，我们可以求出 $P(D \\cap B)$：\n$$\nP(D \\cap B) = P(D|B) P(B) = d_B p_B\n$$\n代入 $p_B = 1 - p_A$：\n$$\nP(D \\cap B) = d_B (1 - p_A)\n$$\n现在，我们可以将是缺陷品的总概率写为：\n$$\nP(D) = d_A p_A + d_B (1 - p_A)\n$$\n\n最后，我们将分子 $P(A \\cap D)$ 和分母 $P(D)$ 的表达式代回到我们最初的 $P(A|D)$ 公式中：\n$$\nP(A|D) = \\frac{d_A p_A}{d_A p_A + d_B (1 - p_A)}\n$$\n这就是有缺陷的部件来自A线的概率的最终表达式。", "answer": "$$\n\\boxed{\\frac{p_A d_A}{p_A d_A + (1-p_A) d_B}}\n$$", "id": "3074"}, {"introduction": "条件概率的应用不限于处理已知的概率值，它在组合计数问题中同样是一个强有力的工具。这个练习将挑战你在一个离散的组合场景中应用条件概率。通过计算在特定条件下实现“无冲突”分配的概率，你将练习如何基于新信息来缩小可能结果的样本空间。[@problem_id:1358438]", "problem": "一个简单的操作系统调度器必须将三个不同的计算进程（我们可以将其标记为集合 $P = \\{1, 2, 3\\}$）分配给一组四个可用的、不同的处理器核心（标记为 $C = \\{a, b, c, d\\}$）。一次分配是一个函数 $f: P \\to C$，其中 $f(i)$ 是分配给进程 $i$ 的核心。调度器从这些可能的分配函数中均匀随机地选择一个。\n\n如果没有任何两个进程被分配到同一个核心（即函数 $f$ 是单射的），则该分配被认为是“无冲突的”。\n\n已知进程 1 被分配到核心 $a$，求该分配是无冲突的概率是多少？请用最简分数表示你的答案。", "solution": "我们将分配建模为从 $P=\\{1,2,3\\}$ 到 $C=\\{a,b,c,d\\}$ 的函数，这些函数是均匀随机选择的。所有此类函数的总数为 $|C|^{|P|}=4^{3}$，但我们的分析是基于事件 $f(1)=a$ 的条件。在此条件下，只有进程 $2$ 和 $3$ 的映像是自由的，它们各自可以取 $C$ 中的任何值。根据乘法原理，与 $f(1)=a$ 一致的分配数量为\n$$\n|S|=4^{2}.\n$$\n一个无冲突的分配是单射的。给定 $f(1)=a$，这要求 $f(2)$ 和 $f(3)$ 都从 $C\\setminus\\{a\\}$ 中选择，并且互不相同。有利的分配数量为\n$$\n|E|=3\\cdot 2,\n$$\n因为在 $C\\setminus\\{a\\}$ 中为 $f(2)$ 有 $3$ 个选择，然后在 $C\\setminus\\{a,f(2)\\}$ 中为 $f(3)$ 有 $2$ 个剩余的选择。\n\n因此，在给定 $f(1)=a$ 的条件下，分配是无冲突的条件概率为\n$$\n\\frac{|E|}{|S|}=\\frac{3\\cdot 2}{4^{2}}=\\frac{6}{16}=\\frac{3}{8}.\n$$", "answer": "$$\\boxed{\\frac{3}{8}}$$", "id": "1358438"}]}