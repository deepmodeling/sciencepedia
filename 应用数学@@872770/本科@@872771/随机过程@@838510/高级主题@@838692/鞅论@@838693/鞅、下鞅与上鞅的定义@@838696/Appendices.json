{"hands_on_practices": [{"introduction": "简单的对称随机游走 $S_n$ 本身是一个鞅，但它的平方 $S_n^2$ 呢？这个过程有一个可预测的增长趋势，因此不是鞅。[@problem_id:1295469] 这个练习引导我们思考如何通过减去一个确定性项来“补偿”这个漂移，从而构建一个新的鞅或超鞅。这是理解鞅理论中一个核心思想——补偿思想的绝佳起点。", "problem": "一个粒子在时间 $n$ 的位置由整数上的简单对称随机游走描述。设 $\\{Y_i\\}_{i \\ge 1}$ 是一个独立同分布的随机变量序列，代表粒子的步长，其概率分布为 $P(Y_i = 1) = P(Y_i = -1) = 1/2$。粒子在时间 $n$ 的位置，记为 $S_n$，由 $S_0 = 0$ 和 $S_n = \\sum_{i=1}^n Y_i$（当 $n \\ge 1$ 时）给出。\n\n在时间 $n$ 可用的信息由自然滤子（filtration）$\\{\\mathcal{F}_n\\}_{n \\ge 0}$ 表示，其中 $\\mathcal{F}_n$ 是由前 $n$ 步生成的 sigma-代数，即 $\\mathcal{F}_n = \\sigma(Y_1, \\dots, Y_n)$（当 $n \\ge 1$ 时），而 $\\mathcal{F}_0$ 是平凡 sigma-代数。\n\n考虑一个随机过程 $\\{X_n\\}_{n \\ge 0}$，由公式 $X_n = S_n^2 - cn$ 定义，其中 $c$ 是一个实常数。为了使这个过程是上鞅（supermartingale）但不是鞅（martingale），常数 $c$ 必须满足一个特定条件。\n\n以下关于 $c$ 的哪个条件能确保 $\\{X_n\\}_{n \\ge 0}$ 是关于滤子 $\\{\\mathcal{F}_n\\}_{n \\ge 0}$ 的上鞅但不是鞅？\n\nA. $c  1$\n\nB. $c = 1$\n\nC. $c > 1$\n\nD. 不存在任何 $c$ 值能使之成立。", "solution": "为了确定使过程 $X_n = S_n^2 - cn$ 成为上鞅但不是鞅的常数 $c$ 的条件，我们必须分析这些随机过程的定义。\n\n一个随机过程 $\\{X_n\\}_{n \\ge 0}$ 是关于滤子 $\\{\\mathcal{F}_n\\}_{n \\ge 0}$ 的上鞅，如果它满足三个条件：\n1.  对所有 $n \\ge 0$，$X_n$ 都适应于滤子 $\\mathcal{F}_n$。\n2.  对所有 $n \\ge 0$，$X_n$ 是可积的，即 $E[|X_n|]  \\infty$。\n3.  对所有 $n \\ge 0$，$E[X_{n+1} | \\mathcal{F}_n] \\le X_n$。\n\n如果第三个条件被等式 $E[X_{n+1} | \\mathcal{F}_n] = X_n$ 替换，那么该过程就是一个鞅。因此，我们寻找 $c$ 的条件，使得 $E[X_{n+1} | \\mathcal{F}_n] \\le X_n$，但等式不总是成立。\n\n首先，我们检查 $X_n$ 是否是适应的且可积的。\n过程 $S_n = \\sum_{i=1}^n Y_i$ 是 $Y_1, \\dots, Y_n$ 的函数，所以它是 $\\mathcal{F}_n$-可测的。因此，$S_n^2$ 也是 $\\mathcal{F}_n$-可测的。由于 $cn$ 是一个确定性项，$X_n = S_n^2 - cn$ 是 $\\mathcal{F}_n$-可测的，这意味着该过程是适应的。\n为了检查可积性，我们计算 $S_n$ 的方差。每一步的期望是 $E[Y_i] = (1)(1/2) + (-1)(1/2) = 0$。每一步平方的期望是 $E[Y_i^2] = (1)^2(1/2) + (-1)^2(1/2) = 1$。每一步的方差是 $\\text{Var}(Y_i) = E[Y_i^2] - (E[Y_i])^2 = 1 - 0^2 = 1$。由于步长是独立的，和的方差是方差的和：$\\text{Var}(S_n) = \\sum_{i=1}^n \\text{Var}(Y_i) = n$。$S_n$ 的期望是 $E[S_n] = \\sum_{i=1}^n E[Y_i] = 0$。\n$S_n^2$ 的期望由 $E[S_n^2] = \\text{Var}(S_n) + (E[S_n])^2 = n + 0^2 = n$ 给出。\n那么，$E[|X_n|] = E[|S_n^2 - cn|] \\le E[S_n^2] + |cn| = n + |c|n = (1+|c|)n$。由于对于任何有限的 $n$ 这都是有限的，所以该过程是可积的。\n\n现在，我们计算条件期望 $E[X_{n+1} | \\mathcal{F}_n]$。\n$$E[X_{n+1} | \\mathcal{F}_n] = E[S_{n+1}^2 - c(n+1) | \\mathcal{F}_n]$$\n根据条件期望的线性性质：\n$$E[X_{n+1} | \\mathcal{F}_n] = E[S_{n+1}^2 | \\mathcal{F}_n] - c(n+1)$$\n我们将 $S_{n+1}$ 表示为 $S_n$ 和 $Y_{n+1}$ 的形式：$S_{n+1} = S_n + Y_{n+1}$。\n$$E[S_{n+1}^2 | \\mathcal{F}_n] = E[(S_n + Y_{n+1})^2 | \\mathcal{F}_n] = E[S_n^2 + 2S_n Y_{n+1} + Y_{n+1}^2 | \\mathcal{F}_n]$$\n再次使用线性性质：\n$$E[S_{n+1}^2 | \\mathcal{F}_n] = E[S_n^2 | \\mathcal{F}_n] + 2E[S_n Y_{n+1} | \\mathcal{F}_n] + E[Y_{n+1}^2 | \\mathcal{F}_n]$$\n由于 $S_n$ 是 $\\mathcal{F}_n$-可测的，我们可以在关于 $\\mathcal{F}_n$ 的条件期望中将其视为常数。此外，$Y_{n+1}$ 独立于 $\\mathcal{F}_n$。\n$$E[S_n^2 | \\mathcal{F}_n] = S_n^2$$\n$$E[S_n Y_{n+1} | \\mathcal{F}_n] = S_n E[Y_{n+1} | \\mathcal{F}_n] = S_n E[Y_{n+1}]$$\n$$E[Y_{n+1}^2 | \\mathcal{F}_n] = E[Y_{n+1}^2]$$\n我们已经计算出 $E[Y_{n+1}] = 0$ 和 $E[Y_{n+1}^2] = 1$。代入这些值：\n$$E[S_{n+1}^2 | \\mathcal{F}_n] = S_n^2 + 2S_n(0) + 1 = S_n^2 + 1$$\n现在，将此结果代回 $E[X_{n+1} | \\mathcal{F}_n]$ 的表达式中：\n$$E[X_{n+1} | \\mathcal{F}_n] = (S_n^2 + 1) - c(n+1) = S_n^2 + 1 - cn - c$$\n为了将其与 $X_n = S_n^2 - cn$ 进行比较，我们重新排列各项：\n$$E[X_{n+1} | \\mathcal{F}_n] = (S_n^2 - cn) + 1 - c = X_n + 1 - c$$\n为了使 $\\{X_n\\}$ 成为上鞅，我们需要 $E[X_{n+1} | \\mathcal{F}_n] \\le X_n$。\n$$X_n + 1 - c \\le X_n$$\n这个不等式简化为 $1 - c \\le 0$，即 $c \\ge 1$。\n\n为了使 $\\{X_n\\}$ 成为鞅，我们需要 $E[X_{n+1} | \\mathcal{F}_n] = X_n$。\n$$X_n + 1 - c = X_n$$\n这意味着 $1 - c = 0$，即 $c = 1$。\n\n问题要求的是使过程成为上鞅但*不是*鞅的 $c$ 的条件。这意味着我们需要 $c \\ge 1$ 且 $c \\ne 1$。唯一可能的情况是 $c > 1$。\n如果 $c > 1$，那么 $1 - c  0$，这使得 $E[X_{n+1} | \\mathcal{F}_n] = X_n + (1 - c)  X_n$，满足了严格上鞅的条件。\n\n因此，条件是 $c > 1$。这对应于选项 C。", "answer": "$$\\boxed{C}$$", "id": "1295469"}, {"introduction": "我们已经知道如何通过加减项来调整一个过程，但如果我们将一个函数作用于一个已知的鞅会发生什么呢？[@problem_id:1295533] 探讨了对简单随机游走取绝对值后的过程 $|S_n|$ 的性质。这个问题不仅展示了如何直接计算条件期望，还巧妙地引入了凸函数和Jensen不等式在判断子鞅中的应用。", "problem": "考虑在整数上的一维简单对称随机游走 $\\{S_n\\}_{n \\ge 0}$。该游走从原点开始，即 $S_0 = 0$。在每个时间步 $n \\ge 1$，游走的位置根据 $S_n = S_0 + \\sum_{i=1}^n X_i$ 更新，其中 $X_i$ 是独立同分布的随机变量，其概率质量函数为 $P(X_i = 1) = P(X_i = -1) = 1/2$。\n\n设 $\\{\\mathcal{F}_n\\}_{n \\ge 0}$ 是由该随机游走生成的自然滤子，其中 $\\mathcal{F}_n$ 表示由步长序列 $(X_1, X_2, \\dots, X_n)$ 所包含的信息。一个随机过程 $\\{Y_n\\}_{n \\ge 0}$（假设对所有 $n$ 都有 $E[|Y_n|]  \\infty$）相对于此滤子可作如下分类：\n- 如果对所有 $n \\ge 0$ 都有 $E[Y_{n+1} | \\mathcal{F}_n] = Y_n$，则它是一个 **鞅 (martingale)**。\n- 如果对所有 $n \\ge 0$ 都有 $E[Y_{n+1} | \\mathcal{F}_n] \\ge Y_n$，则它是一个 **下鞅 (submartingale)**。\n- 如果对所有 $n \\ge 0$ 都有 $E[Y_{n+1} | \\mathcal{F}_n] \\le Y_n$，则它是一个 **上鞅 (supermartingale)**。\n\n现在，考虑由随机游走位置的绝对值定义的随机过程 $\\{Z_n\\}_{n \\ge 0}$，即 $Z_n = |S_n|$。下列哪个陈述正确地分类了过程 $\\{Z_n\\}$？\n\nA. $\\{Z_n\\}$ 是一个鞅。\n\nB. $\\{Z_n\\}$ 是一个下鞅，但不是鞅。\n\nC. $\\{Z_n\\}$ 是一个上鞅，但不是鞅。\n\nD. $\\{Z_n\\}$ 既不是鞅，也不是下鞅，也不是上鞅。", "solution": "设 $\\{S_{n}\\}_{n\\ge 0}$ 为简单对称随机游走，满足 $S_{n}=S_{0}+\\sum_{i=1}^{n}X_{i}$，其中 $S_{0}=0$ 且 $P(X_{i}=1)=P(X_{i}=-1)=\\frac{1}{2}$。设 $\\mathcal{F}_{n}$ 为其自然滤子。定义 $Z_{n}=|S_{n}|$。\n\n首先，注意到 $\\{S_{n}\\}$ 是一个相对于 $\\{\\mathcal{F}_{n}\\}$ 的鞅，因为\n$$\nE[S_{n+1}\\mid \\mathcal{F}_{n}] \\;=\\; S_{n}+E[X_{n+1}\\mid \\mathcal{F}_{n}] \\;=\\; S_{n}.\n$$\n由于 $x\\mapsto |x|$ 是一个凸函数，根据条件期望的詹森不等式可得\n$$\nE[\\,|S_{n+1}| \\mid \\mathcal{F}_{n}\\,] \\;\\ge\\; \\big|E[\\,S_{n+1}\\mid \\mathcal{F}_{n}\\,]\\big| \\;=\\; |S_{n}|,\n$$\n因此 $\\{Z_{n}\\}$ 是一个下鞅。\n\n为确定 $\\{Z_{n}\\}$ 是否为鞅，我们显式地计算 $E[\\,|S_{n+1}|\\mid \\mathcal{F}_{n}\\,]$。由于 $S_{n+1}=S_{n}+X_{n+1}$，其中 $X_{n+1}=\\pm 1$ 各以概率 $\\frac{1}{2}$ 且独立于 $\\mathcal{F}_{n}$，我们有\n$$\nE[\\,|S_{n+1}|\\mid \\mathcal{F}_{n}\\,] \\;=\\; \\tfrac{1}{2}\\,|S_{n}+1| \\;+\\; \\tfrac{1}{2}\\,|S_{n}-1|.\n$$\n分情况讨论：\n- 若 $S_{n}\\ge 1$，则 $|S_{n}+1|=S_{n}+1$ 且 $|S_{n}-1|=S_{n}-1$，因此\n$$\n\\tfrac{1}{2}\\,|S_{n}+1|+\\tfrac{1}{2}\\,|S_{n}-1| \\;=\\; \\tfrac{1}{2}(S_{n}+1)+\\tfrac{1}{2}(S_{n}-1) \\;=\\; S_{n} \\;=\\; |S_{n}|.\n$$\n- 若 $S_{n}\\le -1$，记 $S_{n}=-m$，$m\\ge 1$。则 $|S_{n}+1|=|-m+1|=m-1$ 且 $|S_{n}-1|=|-m-1|=m+1$，因此\n$$\n\\tfrac{1}{2}\\,|S_{n}+1|+\\tfrac{1}{2}\\,|S_{n}-1| \\;=\\; \\tfrac{1}{2}(m-1)+\\tfrac{1}{2}(m+1) \\;=\\; m \\;=\\; |S_{n}|.\n$$\n- 若 $S_{n}=0$，则\n$$\n\\tfrac{1}{2}\\,|S_{n}+1|+\\tfrac{1}{2}\\,|S_{n}-1| \\;=\\; \\tfrac{1}{2}\\cdot 1+\\tfrac{1}{2}\\cdot 1 \\;=\\; 1 \\;\\; 0 \\;=\\; |S_{n}|.\n$$\n因此，\n$$\nE[\\,Z_{n+1}\\mid \\mathcal{F}_{n}\\,] \\;\\ge\\; Z_{n}\\quad\\text{恒成立，且在事件 }\\{S_{n}=0\\}\\text{ 上为严格不等式。}\n$$\n由于对每个整数 $k\\ge 0$，都有 $P(S_{2k}=0)=\\binom{2k}{k}2^{-2k}0$，所以事件 $\\{S_{n}=0\\}$ 对偶数 $n$ 具有正概率。因此鞅的等式对于无穷多个 $n$ 会以正概率不成立。因此 $\\{Z_{n}\\}$ 不是一个鞅。\n\n综合以上事实，$\\{Z_{n}\\}$ 是一个下鞅但不是一个鞅。", "answer": "$$\\boxed{B}$$", "id": "1295533"}, {"introduction": "前面的练习侧重于判断一个给定的随机过程是否为鞅。[@problem_id:1295529] 将挑战升级，要求我们反向操作：给定一个过程的结构 $X_n = S_n^4 - a_n S_n^2 + b_n$，去寻找未知的确定性序列 $a_n$ 和 $b_n$ 来使其成为一个鞅。这个练习不仅能加深对鞅定义的理解，还能锻炼我们通过递推关系解决问题的代数技巧。", "problem": "设 $S_n = \\sum_{k=1}^n Z_k$ 是一个整数上的简单对称随机游走，从 $S_0=0$ 开始。步长 $Z_k$ 是独立同分布的随机变量，满足 $P(Z_k=1) = P(Z_k=-1) = 1/2$。\n\n考虑随机过程 $\\{X_n\\}_{n \\ge 0}$，其定义为 $X_n = S_n^4 - a_n S_n^2 + b_n$，其中 $\\{a_n\\}_{n \\ge 0}$ 和 $\\{b_n\\}_{n \\ge 0}$ 是关于 $n$ 的多项式形式的确定性序列。\n\n求出序列 $a_n$ 和 $b_n$ 的显式表达式，使得 $X_n$ 是关于自然滤子 $\\mathcal{F}_n = \\sigma(S_0, S_1, \\ldots, S_n)$ 的一个鞅。该过程还需满足两个附加条件：\n1. 对所有 $n \\ge 0$，该过程的均值为零，即 $E[X_n] = 0$。\n2. 多项式序列 $a_n$ 在 $n=0$ 处有一个根，即 $a_0=0$。\n\n请以 $(a_n, b_n)$ 表达式对的形式给出你的最终答案。", "solution": "我们寻找确定性的多项式序列 $a_{n}$ 和 $b_{n}$，使得 $X_{n}=S_{n}^{4}-a_{n}S_{n}^{2}+b_{n}$ 是关于 $\\mathcal{F}_{n}=\\sigma(S_{0},\\ldots,S_{n})$ 的鞅，其中 $S_{n}=\\sum_{k=1}^{n}Z_{k}$ 为简单对称随机游走，其步长 $Z_k$ 是独立同分布的，满足 $Z_{k}\\in\\{-1,+1\\}$ 且 $\\mathbb{P}(Z_{k}=1)=\\mathbb{P}(Z_{k}=-1)=\\frac{1}{2}$。鞅的条件要求\n$$\n\\mathbb{E}[X_{n+1}\\mid\\mathcal{F}_{n}]=X_{n}\\quad\\text{对所有 }n\\ge 0.\n$$\n写出 $S_{n+1}=S_{n}+Z_{n+1}$，其中 $Z_{n+1}$ 独立于 $\\mathcal{F}_{n}$ 且满足 $\\mathbb{E}[Z_{n+1}]=0$，$\\mathbb{E}[Z_{n+1}^{2}]=1$，$\\mathbb{E}[Z_{n+1}^{3}]=0$，$\\mathbb{E}[Z_{n+1}^{4}]=1$。那么\n$$\n\\mathbb{E}[S_{n+1}^{2}\\mid\\mathcal{F}_{n}]=\\mathbb{E}[(S_{n}+Z_{n+1})^{2}\\mid\\mathcal{F}_{n}]=S_{n}^{2}+1,\n$$\n并且展开 $(S_{n}+Z_{n+1})^{4}$ 得到\n$$\n(S_{n}+Z_{n+1})^{4}=S_{n}^{4}+4S_{n}^{3}Z_{n+1}+6S_{n}^{2}Z_{n+1}^{2}+4S_{n}Z_{n+1}^{3}+Z_{n+1}^{4},\n$$\n因此\n$$\n\\mathbb{E}[S_{n+1}^{4}\\mid\\mathcal{F}_{n}]=S_{n}^{4}+6S_{n}^{2}+1.\n$$\n所以，\n$$\n\\mathbb{E}[X_{n+1}\\mid\\mathcal{F}_{n}]=\\mathbb{E}[S_{n+1}^{4}\\mid\\mathcal{F}_{n}]-a_{n+1}\\mathbb{E}[S_{n+1}^{2}\\mid\\mathcal{F}_{n}]+b_{n+1}\n=(S_{n}^{4}+6S_{n}^{2}+1)-a_{n+1}(S_{n}^{2}+1)+b_{n+1}.\n$$\n由于等式 $\\mathbb{E}[X_{n+1}\\mid\\mathcal{F}_{n}]=X_{n}=S_{n}^{4}-a_{n}S_{n}^{2}+b_{n}$ 对 $S_{n}$ 的所有取值都成立，比较 $S_n$ 各次幂的系数可得：\n$$\n\\text{对于 }S_{n}^{4}：\\quad 1=1,\n$$\n$$\n\\text{对于 }S_{n}^{2}：\\quad 6-a_{n+1}=-a_{n}\\quad\\Longrightarrow\\quad a_{n+1}=a_{n}+6,\n$$\n$$\n\\text{常数项}：\\quad 1-a_{n+1}+b_{n+1}=b_{n}\\quad\\Longrightarrow\\quad b_{n+1}=b_{n}+a_{n+1}-1.\n$$\n根据给定条件 $a_{0}=0$，第一个递归关系解得\n$$\na_{n}=6n.\n$$\n将 $a_{n+1}=6(n+1)$ 代入第二个递归关系，得到\n$$\nb_{n+1}=b_{n}+6(n+1)-1=b_{n}+6n+5.\n$$\n附加要求 $\\mathbb{E}[X_{n}]=0$ 对所有 $n\\ge 0$ 成立，根据鞅的性质，这意味着 $\\mathbb{E}[X_{n}]=\\mathbb{E}[X_{0}]$，所以我们必须有 $X_{0}=b_{0}=0$。解方程 $b_{n+1}=b_{n}+6n+5$ 并使用初始条件 $b_{0}=0$，得到\n$$\nb_{n}=\\sum_{k=0}^{n-1}(6k+5)=6\\sum_{k=0}^{n-1}k+5n=6\\cdot\\frac{n(n-1)}{2}+5n=3n^{2}+2n.\n$$\n作为一致性检验，使用 $\\mathbb{E}[S_{n}^{2}]=n$ 和 $\\mathbb{E}[S_{n}^{4}]=n\\,\\mathbb{E}[Z_{1}^{4}]+3n(n-1)\\mathbb{E}[Z_{1}^{2}]^{2}=n+3n(n-1)=3n^{2}-2n$，我们得到\n$$\n\\mathbb{E}[X_{n}]=\\mathbb{E}[S_{n}^{4}]-a_{n}\\mathbb{E}[S_{n}^{2}]+b_{n}=(3n^{2}-2n)-(6n)\\cdot n+(3n^{2}+2n)=0,\n$$\n符合要求。因此，满足所有条件的唯一多项式序列是 $a_{n}=6n$ 和 $b_{n}=3n^{2}+2n$。", "answer": "$$\\boxed{a_n = 6n, \\quad b_n = 3n^2+2n}$$", "id": "1295529"}]}