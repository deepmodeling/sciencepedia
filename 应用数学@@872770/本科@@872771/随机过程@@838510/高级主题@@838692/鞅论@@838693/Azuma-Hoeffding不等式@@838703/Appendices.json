{"hands_on_practices": [{"introduction": "理论学习的最佳补充是动手实践。第一个练习将探讨阿祖玛-霍夫丁不等式最直接的应用场景，即一组独立同分布的随机变量之和。通过分析一个模拟的二元任务系统 [@problem_id:1336259]，你将推导出成功次数偏离其期望值的概率上界，从而直观地理解样本数量 $n$ 和偏差阈值 $t$ 是如何影响集中趋势的。", "problem": "一个自主系统被设计用于执行一系列 $n$ 个独立的二元任务。对于每个任务，系统有两个可能的操作，其中只有一个是正确的。在其初始的、未经训练的状态下，系统为每个任务完全随机地选择一个操作，两个操作中的每一个都有同等的可能性被选中。在每个任务之后，系统会收到反馈，指示其选择的操作是否正确。\n\n令 $C_n$ 表示在总共 $n$ 个任务中正确执行的任务总数。成功的期望数量是 $E[C_n]$。我们关心的是实际成功次数显著偏离此期望的概率。\n\n对于一个给定的正实数 $t$，求概率 $P(|C_n - E[C_n]| \\geq t)$ 的一个非平凡上界。你的答案应该是一个关于 $n$ 和 $t$ 的解析表达式。", "solution": "对于 $i \\in \\{1,\\dots,n\\}$，定义指示变量 $X_{i}$，如果系统正确执行任务 $i$，则 $X_{i}=1$，否则 $X_{i}=0$。由于在未经训练的状态下，每个任务的操作是从两个等可能的选项中均匀随机选择的，并且任务是独立的，所以变量 $X_{i}$ 是独立同分布的，满足 $P(X_{i}=1)=\\frac{1}{2}$ 和 $P(X_{i}=0)=\\frac{1}{2}$。因此，对于所有的 $i$，$X_{i} \\in [0,1]$ 几乎必然成立，且 $E[X_{i}]=\\frac{1}{2}$。\n\n正确执行的任务总数是以下总和\n$$\nC_{n}=\\sum_{i=1}^{n} X_{i},\n$$\n其期望为\n$$\nE[C_{n}]=\\sum_{i=1}^{n} E[X_{i}]=\\sum_{i=1}^{n} \\frac{1}{2}=\\frac{n}{2}.\n$$\n\n我们应用霍夫丁不等式来处理独立有界随机变量的和。如果 $X_{i}$ 是独立的，并且几乎必然满足 $a_{i} \\leq X_{i} \\leq b_{i}$，且 $S_{n}=\\sum_{i=1}^{n} X_{i}$，那么对于任意 $t0$，\n$$\nP\\big(|S_{n}-E[S_{n}]|\\geq t\\big) \\leq 2 \\exp\\!\\left(-\\frac{2 t^{2}}{\\sum_{i=1}^{n} (b_{i}-a_{i})^{2}}\\right).\n$$\n在此情况下，对所有 $i$ 都有 $a_{i}=0$ 和 $b_{i}=1$，所以 $\\sum_{i=1}^{n} (b_{i}-a_{i})^{2}=n$。将 $S_{n}=C_{n}$ 和这个界代入霍夫丁不等式，得到非平凡的偏差界\n$$\nP\\big(|C_{n}-E[C_{n}]|\\geq t\\big) \\leq 2 \\exp\\!\\left(-\\frac{2 t^{2}}{n}\\right).\n$$\n这是一个关于 $n$ 和 $t$ 的解析表达式，对所有 $t0$ 都适用。", "answer": "$$\\boxed{2 \\exp\\!\\left(-\\frac{2 t^{2}}{n}\\right)}$$", "id": "1336259"}, {"introduction": "许多现实世界中的随机过程并不满足独立性假设，这恰恰是阿祖玛-霍夫丁不等式展示其强大通用性的地方。在第二个练习中，你将分析一个概率会根据前一次结果动态调整的硬币投掷游戏 [@problem_id:1336222]。这个场景要求你构建一个鞅过程来描述玩家的总收益，并应用不等式来约束其波动，这让你能体会到该工具在处理具有记忆性或依赖性的系统时的威力。", "problem": "一个概率游戏由 $n$ 次连续的掷硬币组成。第 $i$ 次投掷的结果由一个随机变量 $X_i$ 表示，若结果为正面，则 $X_i=1$；若为反面，则 $X_i=0$。\n\n出现正面的概率不是恒定的。对于第一次投掷（$i=1$），出现正面的概率为 $p_1 = p$。对于任何后续的投掷 $i  1$，出现正面的概率 $p_i$ 由前一次投掷的结果 $X_{i-1}$ 决定，具体如下：\n- 如果第 $i-1$ 次投掷为正面（$X_{i-1}=1$），则 $p_i = p - \\delta$。\n- 如果第 $i-1$ 次投掷为反面（$X_{i-1}=0$），则 $p_i = p + \\delta$。\n\n参数 $p$ 和 $\\delta$ 是满足 $0  \\delta  \\min(p, 1-p)$ 的常数。\n\n一名玩家参与一个基于这些投掷的投注游戏。在每一轮 $i$（从 $1$ 到 $n$）开始时，玩家支付 $p_i$ 元的费用参与游戏。如果投掷结果为正面（$X_i=1$），玩家获得 1 元的赔付。如果结果为反面（$X_i=0$），玩家一无所获。令 $W_n$ 为玩家在所有 $n$ 轮结束后的总净收益。\n\n求玩家总净收益的绝对值至少为 $t$ 的概率的一个简单上界，其中 $t$ 是一个正常数。请用 $n$ 和 $t$ 表示你的答案。", "solution": "令 $X_{i}\\in\\{0,1\\}$ 为第 $i$ 次投掷的结果，令 $p_{i}$ 为第 $i$ 轮开始时支付的费用，其中 $p_{1}=p$，且对于 $i1$，若 $X_{i-1}=1$ 则 $p_{i}=p-\\delta$，若 $X_{i-1}=0$ 则 $p_{i}=p+\\delta$。第 $i$ 轮的净收益为 $X_{i}-p_{i}$，因此 $n$ 轮后的总净收益为\n$$\nW_{n}=\\sum_{i=1}^{n}\\left(X_{i}-p_{i}\\right).\n$$\n令 $\\mathcal{F}_{i}=\\sigma(X_{1},\\ldots,X_{i})$ 为自然滤子。根据该过程的构造，对每个 $i$ 有，\n$$\n\\mathbb{E}\\!\\left[X_{i}\\mid\\mathcal{F}_{i-1}\\right]=p_{i},\n$$\n因此\n$$\n\\mathbb{E}\\!\\left[X_{i}-p_{i}\\mid\\mathcal{F}_{i-1}\\right]=0.\n$$\n所以，$\\{W_{i}\\}_{i=0}^{n}$（其中 $W_{0}=0$ 且 $W_{i}=\\sum_{j=1}^{i}(X_{j}-p_{j})$）是一个鞅。\n\n其增量满足几乎必然的界\n$$\n-p_{i}\\leq X_{i}-p_{i}\\leq 1-p_{i},\n$$\n所以其范围长度为\n$$\n(1-p_{i})-(-p_{i})=1\\quad\\text{对每个 }i.\n$$\n对于鞅差有界于区间 $[a_{i},b_{i}]$ 的情况，应用阿祖玛-霍夫丁不等式，该不等式表明：\n$$\n\\mathbb{P}\\!\\left(W_{n}\\geq t\\right)\\leq\\exp\\!\\left(-\\frac{2t^{2}}{\\sum_{i=1}^{n}(b_{i}-a_{i})^{2}}\\right),\n$$\n并使用对所有 $i$ 都有 $b_{i}-a_{i}=1$，我们得到单边界\n$$\n\\mathbb{P}\\!\\left(W_{n}\\geq t\\right)\\leq\\exp\\!\\left(-\\frac{2t^{2}}{n}\\right).\n$$\n根据对称性（或将相同的界应用于 $-W_{n}$），我们得到\n$$\n\\mathbb{P}\\!\\left(W_{n}\\leq -t\\right)\\leq\\exp\\!\\left(-\\frac{2t^{2}}{n}\\right).\n$$\n结合两个尾部不等式，得到所需的双边界\n$$\n\\mathbb{P}\\!\\left(|W_{n}|\\geq t\\right)\\leq 2\\,\\exp\\!\\left(-\\frac{2t^{2}}{n}\\right).\n$$\n这个界只依赖于 $n$ 和 $t$，符合题意要求。", "answer": "$$\\boxed{2\\,\\exp\\!\\left(-\\frac{2t^{2}}{n}\\right)}$$", "id": "1336222"}, {"introduction": "最后一个练习旨在培养对不等式本质的批判性理解。虽然阿祖玛-霍夫丁不等式为我们提供了一个强大的概率上界，但这个界限有多“紧”呢？通过分析一个经典的公平硬币投掷序列 [@problem_id:2972986]，你不仅需要从鞅的视角应用该不等式，还需要计算出事件发生的精确概率，并通过比较两者来量化这个上界的保守程度，从而更深刻地理解其作为“最坏情况”保证的意义。", "problem": "考虑一个由随机变量 $X_{1}, X_{2}, \\ldots, X_{n}$ 建模的独立同分布的公平硬币投掷序列，其中每个 $X_{i}$ 在 $\\{0, 1\\}$ 中取值，且 $\\mathbb{P}(X_{i} = 1) = \\mathbb{P}(X_{i} = 0) = \\frac{1}{2}$。令 $S_{n} = \\sum_{i=1}^{n} X_{i}$ 表示在 $n$ 次投掷中得到正面的总次数，并令 $(\\mathcal{F}_{k})_{k=0}^{n}$ 是由 $(X_{1}, \\ldots, X_{n})$ 生成的自然信息流，其中 $\\mathcal{F}_{k} = \\sigma(X_{1}, \\ldots, X_{k})$。定义中心化和重新缩放的变量 $Z_{i} = 2X_{i} - 1 \\in \\{-1, +1\\}$ 以及过程 $M_{k} = \\sum_{i=1}^{k} Z_{i}$，对于 $k = 0, 1, \\ldots, n$。\n\n使用鞅的定义和有界增量的性质，从 $(M_{k})_{k=0}^{n}$ 构建一个离散时间鞅，并应用阿祖玛-霍夫丁不等式来获得尾部概率 $\\mathbb{P}(S_{n} \\geq n)$ 的一个显式单边指数上界。然后根据第一性原理计算 $\\mathbb{P}(S_{n} \\geq n)$ 的精确值。最后，提供阿祖玛-霍夫丁上界与精确概率 $\\mathbb{P}(S_{n} \\geq n)$ 之比的精确解析表达式，表示为 $n$ 的函数。\n\n您的最终答案必须是单一的闭式解析表达式。不需要四舍五入。", "solution": "该问题陈述已经过严格验证，并被确定为是适定的、有科学依据且内部一致的。因此，我们可以进行形式化的解答。\n\n该问题要求计算与公平硬币投掷序列相关的几个量。我们将按顺序解决问题的每个部分。\n\n首先，我们必须形式化地证明过程 $(M_k)_{k=0}^{n}$ 是关于自然信息流 $(\\mathcal{F}_k)_{k=0}^{n}$ 的离散时间鞅，其中 $\\mathcal{F}_k = \\sigma(X_1, \\ldots, X_k)$。一个过程 $(M_k)$ 是鞅，如果它满足三个条件：\n1.  对于每个 $k \\in \\{0, 1, \\ldots, n\\}$，$M_k$ 是 $\\mathcal{F}_k$-可测的。\n2.  对于每个 $k$，$\\mathbb{E}[|M_k|]  \\infty$。\n3.  对于 $0 \\le k  n$，$\\mathbb{E}[M_{k+1} | \\mathcal{F}_k] = M_k$。\n\n让我们验证过程 $M_k = \\sum_{i=1}^{k} Z_i$（其中 $Z_i = 2X_i - 1$）是否满足这些条件。我们定义 $M_0 = 0$。\n\n1.  **可测性**：对于任何 $k \\in \\{0, \\ldots, n\\}$，过程 $M_k$ 定义为和 $\\sum_{i=1}^{k} (2X_i - 1)$。由于根据定义，对于 $i \\leq k$ 的每个随机变量 $X_i$ 相对于 sigma-代数 $\\mathcal{F}_k = \\sigma(X_1, \\ldots, X_k)$ 都是可测的，因此这些变量的任何函数，包括它们的和 $M_k$，也是 $\\mathcal{F}_k$-可测的。\n\n2.  **可积性**：变量 $Z_i$ 在 $\\{-1, 1\\}$ 中取值，所以对所有 $i$ 都有 $|Z_i| = 1$。$M_k$ 的绝对值可以用三角不等式来界定：\n    $$|M_k| = \\left|\\sum_{i=1}^{k} Z_i\\right| \\le \\sum_{i=1}^{k} |Z_i| = \\sum_{i=1}^{k} 1 = k$$\n    由于 $|M_k|$ 被常数 $k$ 所界定，其期望是有限的：$\\mathbb{E}[|M_k|] \\le \\mathbb{E}[k] = k  \\infty$。\n\n3.  **鞅性质**：我们计算给定 $\\mathcal{F}_k$ 下 $M_{k+1}$ 的条件期望：\n    $$\\mathbb{E}[M_{k+1} | \\mathcal{F}_k] = \\mathbb{E}[M_k + Z_{k+1} | \\mathcal{F}_k]$$\n    根据条件期望的线性性质，并注意到 $M_k$ 是 $\\mathcal{F}_k$-可测的，我们有：\n    $$\\mathbb{E}[M_{k+1} | \\mathcal{F}_k] = M_k + \\mathbb{E}[Z_{k+1} | \\mathcal{F}_k]$$\n    随机变量 $Z_{k+1} = 2X_{k+1} - 1$ 是 $X_{k+1}$ 的函数，而 $X_{k+1}$ 独立于信息流 $\\mathcal{F}_k = \\sigma(X_1, \\ldots, X_k)$。因此，$Z_{k+1}$ 的条件期望就是其无条件期望：\n    $$\\mathbb{E}[Z_{k+1} | \\mathcal{F}_k] = \\mathbb{E}[Z_{k+1}] = \\mathbb{E}[2X_{k+1} - 1] = 2\\mathbb{E}[X_{k+1}] - 1$$\n    $X_{k+1}$ 的期望值为：\n    $$\\mathbb{E}[X_{k+1}] = 1 \\cdot \\mathbb{P}(X_{k+1} = 1) + 0 \\cdot \\mathbb{P}(X_{k+1} = 0) = 1 \\cdot \\frac{1}{2} + 0 \\cdot \\frac{1}{2} = \\frac{1}{2}$$\n    将此代回，我们得到增量的期望：\n    $$\\mathbb{E}[Z_{k+1}] = 2\\left(\\frac{1}{2}\\right) - 1 = 0$$\n    因此，鞅性质得到满足：\n    $$\\mathbb{E}[M_{k+1} | \\mathcal{F}_k] = M_k + 0 = M_k$$\n    验证了所有三个条件后，我们确认 $(M_k)_{k=0}^n$ 是一个离散时间鞅。\n\n接下来，我们应用阿祖玛-霍夫丁不等式来找到 $\\mathbb{P}(S_n \\geq n)$ 的一个上界。首先，我们将事件 $\\{S_n \\geq n\\}$ 与鞅 $M_n$ 联系起来。和 $S_n = \\sum_{i=1}^n X_i$ 与 $M_n = \\sum_{i=1}^n Z_i$ 的关系如下：\n$$M_n = \\sum_{i=1}^{n} (2X_i - 1) = 2\\left(\\sum_{i=1}^{n} X_i\\right) - \\sum_{i=1}^{n} 1 = 2S_n - n$$\n随机变量 $X_i$ 只能在 $\\{0, 1\\}$ 中取值。因此，和 $S_n$ 最多为 $n$。所以事件 $\\{S_n \\geq n\\}$ 等价于事件 $\\{S_n = n\\}$。这又等价于事件 $\\{M_n = 2(n) - n\\}$，即 $\\{M_n = n\\}$。因此，事件 $\\{S_n \\ge n\\}$ 等价于 $\\{M_n \\ge n\\}$。\n\n对于一个鞅 $(M_k)$，若 $M_0=0$ 且其差分 $M_k - M_{k-1}$ 有界，即 $a_k \\le M_k - M_{k-1} \\le b_k$，阿祖玛-霍夫丁不等式表明对于任何 $t  0$：\n$$\\mathbb{P}(M_n \\ge t) \\le \\exp\\left(-\\frac{2t^2}{\\sum_{k=1}^n (b_k - a_k)^2}\\right)$$\n在我们的情况下，鞅的差分是 $M_k - M_{k-1} = Z_k$。由于 $Z_k \\in \\{-1, 1\\}$，我们有对所有 $k=1, \\ldots, n$ 的界 $a_k = -1$ 和 $b_k = 1$。范围是 $b_k - a_k = 1 - (-1) = 2$。\n分母中的和是 $\\sum_{k=1}^n (b_k - a_k)^2 = \\sum_{k=1}^n 2^2 = 4n$。\n我们关心的是概率 $\\mathbb{P}(S_n \\ge n) = \\mathbb{P}(M_n \\ge n)$，因此我们在不等式中设 $t=n$：\n$$\\mathbb{P}(S_n \\ge n) \\le \\exp\\left(-\\frac{2n^2}{4n}\\right) = \\exp\\left(-\\frac{n}{2}\\right)$$\n这就得到了所要求的单边指数上界。\n\n现在，我们从第一性原理计算 $\\mathbb{P}(S_n \\ge n)$ 的精确值。如前所述，这等价于 $\\mathbb{P}(S_n = n)$。事件 $\\{S_n = n\\}$ 发生当且仅当对所有 $i \\in \\{1, \\ldots, n\\}$ 都有 $X_i=1$。由于随机变量 $(X_i)$ 是独立同分布的，且 $\\mathbb{P}(X_i = 1) = \\frac{1}{2}$，这个联合事件的概率是各个概率的乘积：\n$$\\mathbb{P}(S_n \\ge n) = \\mathbb{P}(S_n = n) = \\mathbb{P}(X_1=1, X_2=1, \\ldots, X_n=1) = \\prod_{i=1}^n \\mathbb{P}(X_i=1) = \\left(\\frac{1}{2}\\right)^n = 2^{-n}$$\n\n最后，我们计算阿祖玛-霍夫丁上界与精确概率之比：\n$$\\text{比值} = \\frac{\\text{阿祖玛-霍夫丁上界}}{\\text{精确概率}} = \\frac{\\exp\\left(-\\frac{n}{2}\\right)}{2^{-n}}$$\n为了简化此表达式，我们使用自然底数 $e$ 来表示分母：$2^{-n} = (e^{\\ln 2})^{-n} = e^{-n \\ln 2}$。\n该比值变为：\n$$\\text{比值} = \\frac{\\exp\\left(-\\frac{n}{2}\\right)}{\\exp(-n \\ln 2)} = \\exp\\left(-\\frac{n}{2} - (-n \\ln 2)\\right) = \\exp\\left(n \\ln 2 - \\frac{n}{2}\\right)$$\n从指数中提出因子 $n$，得到最终的解析表达式：\n$$\\text{比值} = \\exp\\left(n\\left(\\ln 2 - \\frac{1}{2}\\right)\\right)$$", "answer": "$$\\boxed{\\exp\\left(n\\left(\\ln 2 - \\frac{1}{2}\\right)\\right)}$$", "id": "2972986"}]}