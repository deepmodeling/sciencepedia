{"hands_on_practices": [{"introduction": "虽然一个零均值的随机游走本身就是一个鞅，但许多由它派生出的过程却并非如此。本练习将探讨如何通过减去一个确定的补偿项，从随机游走的平方中构造出一个新的鞅。这项技巧展示了如何修正一个具有可预测“漂移”的过程，使其变为“公平博弈”，是随机分析中的一个核心思想 [@problem_id:1299933]。", "problem": "一位量化分析师正在为一种投机性资产开发一个简单模型。该模型假设资产价格从零开始，即 $S_0 = 0$。在每一天 $i$ 结束时，价格会变动一个量 $X_i$。第 $n$ 天结束时的总价格由这些每日变动之和给出，即 $S_n = \\sum_{i=1}^{n} X_i$。每日变动量 $X_1, X_2, \\ldots$ 是独立同分布的随机变量。市场被假设为无偏的，意味着每日预期变动为零，即 $E[X_i] = 0$。每日波动率是恒定的，每日变动的方差为 $\\text{Var}(X_i) = \\sigma^2$，其中 $\\sigma^2$ 是一个正常数。\n\n该分析师考虑一种衍生工具，其在第 $n$ 天结束时的价值由 $V_n = S_n^2 - cn$ 给出，其中 $c$ 是一个固定的每日费用。分析师希望设置费用 $c$，使得该工具成为一个“公平博弈”。公平博弈的定义是：给定截至今天（包括今天）的所有信息，该工具明天的期望值等于其今天的价值。在数学上，这个条件表示为 $E[V_{n+1} \\mid S_0, S_1, \\dots, S_n] = V_n$，对所有 $n \\ge 0$ 成立。\n\n确定常数费用 $c$ 的值，以使该工具成为一个公平博弈。请用给定的参数表示你的答案。", "solution": "问题要求常数 $c$ 的值，使得过程 $V_n = S_n^2 - cn$ 满足“公平博弈”条件 $E[V_{n+1} \\mid S_0, S_1, \\dots, S_n] = V_n$。设在时间 $n$ 可用的信息，由历史 $(S_0, S_1, \\dots, S_n)$ 表示，记为 $\\mathcal{F}_n$。该条件可以写成 $E[V_{n+1} \\mid \\mathcal{F}_n] = V_n$。\n\n我们首先用时间 $n$ 的量和新的随机变动 $X_{n+1}$ 来表示 $V_{n+1}$。\n根据定义，$V_{n+1} = S_{n+1}^2 - c(n+1)$。\n时间 $n+1$ 的价格是 $S_{n+1} = S_n + X_{n+1}$。\n将此代入 $V_{n+1}$ 的表达式中：\n$$V_{n+1} = (S_n + X_{n+1})^2 - c(n+1)$$\n展开平方项：\n$$V_{n+1} = S_n^2 + 2S_n X_{n+1} + X_{n+1}^2 - c(n+1)$$\n\n现在，我们对 $V_{n+1}$ 取关于信息 $\\mathcal{F}_n$ 的条件期望：\n$$E[V_{n+1} \\mid \\mathcal{F}_n] = E[S_n^2 + 2S_n X_{n+1} + X_{n+1}^2 - c(n+1) \\mid \\mathcal{F}_n]$$\n\n利用条件期望的线性性质，我们可以将其分解为几个项：\n$$E[V_{n+1} \\mid \\mathcal{F}_n] = E[S_n^2 \\mid \\mathcal{F}_n] + E[2S_n X_{n+1} \\mid \\mathcal{F}_n] + E[X_{n+1}^2 \\mid \\mathcal{F}_n] - E[c(n+1) \\mid \\mathcal{F}_n]$$\n\n让我们逐项计算：\n1.  $S_n$ 在时间 $n$ 是已知的，所以它是 $\\mathcal{F}_n$-可测的。这意味着 $E[S_n^2 \\mid \\mathcal{F}_n] = S_n^2$。同样，常数项 $c(n+1)$ 也是已知的，所以 $E[c(n+1) \\mid \\mathcal{F}_n] = c(n+1)$。\n\n2.  对于项 $E[2S_n X_{n+1} \\mid \\mathcal{F}_n]$，我们可以将已知因子 $2S_n$ 从条件期望中提出（“提出已知部分”）：\n    $$E[2S_n X_{n+1} \\mid \\mathcal{F}_n] = 2S_n E[X_{n+1} \\mid \\mathcal{F}_n]$$\n    由于随机变量 $X_{n+1}$ 独立于过去的历史 $\\mathcal{F}_n$，其条件期望就是它的无条件期望：$E[X_{n+1} \\mid \\mathcal{F}_n] = E[X_{n+1}]$。\n    问题陈述 $E[X_i] = 0$ 对所有 $i$ 成立。因此，$E[X_{n+1}] = 0$。\n    所以，这一项变为 $2S_n \\times 0 = 0$。\n\n3.  对于项 $E[X_{n+1}^2 \\mid \\mathcal{F}_n]$，由于 $X_{n+1}$ 独立于 $\\mathcal{F}_n$，我们有 $E[X_{n+1}^2 \\mid \\mathcal{F}_n] = E[X_{n+1}^2]$。\n    我们已知方差 $\\text{Var}(X_{n+1}) = \\sigma^2$ 和均值 $E[X_{n+1}] = 0$。方差的定义是 $\\text{Var}(X_{n+1}) = E[X_{n+1}^2] - (E[X_{n+1}])^2$。\n    代入已知值：\n    $$\\sigma^2 = E[X_{n+1}^2] - (0)^2$$\n    因此，$E[X_{n+1}^2] = \\sigma^2$。\n\n将这些结果代回 $E[V_{n+1} \\mid \\mathcal{F}_n]$ 的方程中：\n$$E[V_{n+1} \\mid \\mathcal{F}_n] = S_n^2 + 0 + \\sigma^2 - c(n+1)$$\n$$E[V_{n+1} \\mid \\mathcal{F}_n] = S_n^2 + \\sigma^2 - cn - c$$\n\n现在我们应用公平博弈条件，$E[V_{n+1} \\mid \\mathcal{F}_n] = V_n$。我们知道 $V_n = S_n^2 - cn$。\n令两个表达式相等：\n$$S_n^2 + \\sigma^2 - cn - c = S_n^2 - cn$$\n\n我们可以从等式两边消去 $S_n^2$ 和 $-cn$ 项：\n$$\\sigma^2 - c = 0$$\n解出 $c$，我们得到：\n$$c = \\sigma^2$$\n\n因此，为了使该工具成为一个公平博弈，每日费用 $c$ 必须等于每日价格变动的方差 $\\sigma^2$。", "answer": "$$\\boxed{\\sigma^{2}}$$", "id": "1299933"}, {"introduction": "与加性补偿不同，许多现实世界的过程（如资产价格或种群规模）表现出乘性增长的特性。本练习将介绍如何处理这类具有指数趋势的过程，我们将学习如何通过引入一个随时间调整的折扣因子，将一个具有恒定预期增长率的乘性过程转化为一个鞅。这种方法在金融数学的资产定价理论中至关重要 [@problem_id:1299939]。", "problem": "考虑一个由正的、独立同分布 (i.i.d.) 的随机变量构成的序列 $\\{X_k\\}_{k \\ge 1}$。这些随机变量的公共均值为 $E[X_k] = \\mu$，其中 $\\mu$ 是一个正常数且 $\\mu \\neq 1$。\n\n设一个新的随机过程 $\\{M_n\\}_{n \\ge 0}$ 定义如下：\n$M_0 = 1$\n$M_n = c^n \\prod_{k=1}^{n} X_k$ for $n \\ge 1$\n\n这里，$c$ 是一个非零实常数。该过程 $\\{M_n\\}$ 是关于自然信息流 $\\mathcal{F}_n = \\sigma(X_1, \\dots, X_n)$ 来考虑的，它是由该序列的前 $n$ 个变量所生成的信息。\n\n确定常数 $c$ 的具体值，使得过程 $\\{M_n\\}_{n \\ge 0}$ 是关于信息流 $\\{\\mathcal{F}_n\\}_{n \\ge 0}$ 的一个鞅。用 $\\mu$ 表示你的答案。", "solution": "我们要求 $\\{M_n\\}$ 是关于 $\\{\\mathcal{F}_n\\}$ 的一个鞅。这意味着它必须满足鞅性质：$E[M_n | \\mathcal{F}_{n-1}] = M_{n-1}$ 对所有 $n \\ge 1$ 成立（并满足适应性和可积性条件）。\n\n可测性（适应性）由构造即得，因为 $M_n = c^n\\prod_{k=1}^{n}X_k$ 是 $(X_1,\\dots,X_n)$ 的函数。可积性也成立，因为 $E[|M_n|]  \\infty$ 对于有限的 $n$。\n\n对于鞅性质，利用 $X_n$ 相对于 $\\mathcal{F}_{n-1}$ 的独立性来计算条件期望：\n$$\nE[M_n | \\mathcal{F}_{n-1}] = E\\left[c^n\\left(\\prod_{k=1}^{n-1}X_k\\right)X_n | \\mathcal{F}_{n-1}\\right]\n$$\n由于 $c^n\\prod_{k=1}^{n-1}X_k$ 是 $\\mathcal{F}_{n-1}$-可测的，我们可以将其提出，并利用 $X_n$ 的独立性：\n$$\nE[M_n | \\mathcal{F}_{n-1}] = c^n\\left(\\prod_{k=1}^{n-1}X_k\\right)E[X_n] = c^n\\mu \\left(\\prod_{k=1}^{n-1}X_k\\right).\n$$\n我们要求上式几乎必然地等于 $M_{n-1} = c^{n-1}\\prod_{k=1}^{n-1}X_k$，这可以化简为\n$$\nc^n\\mu \\left(\\prod_{k=1}^{n-1}X_k\\right) = c^{n-1}\\left(\\prod_{k=1}^{n-1}X_k\\right).\n$$\n由于 $\\prod_{k=1}^{n-1}X_k > 0$ 几乎必然成立，并且 $c \\neq 0$，我们可以约去公因子得到\n$$\nc\\mu = 1,\n$$\n因此\n$$\nc = \\frac{1}{\\mu}.\n$$\n这个选择确保了 $\\{M_n\\}$ 是一个鞅。（若 $\\mu=1$，则得到 $c=1$，这也成立；给定的条件 $\\mu \\neq 1$ 对于推导并非必要，但也不影响结果。）", "answer": "$$\\boxed{\\frac{1}{\\mu}}$$", "id": "1299939"}, {"introduction": "此前的练习都是从给定的随机过程出发，检验或构建鞅。这个练习则转换了视角，要求我们去“设计”一个随机过程。通过确定需要什么样的转移概率才能使粒子位置的倒数成为一个鞅，我们可以更深刻地理解鞅属性如何对过程的底层动态施加根本性的约束 [@problem_id:1299908]。", "problem": "一个粒子在正整数集 $\\mathbb{Z}^+ = \\{1, 2, 3, \\dots\\}$ 上进行随机游走。令 $X_n$ 表示粒子在时间步 $n$ 的位置，对于所有 $n \\ge 0$，$X_n$ 都是一个正整数。移动规则定义如下：从任意状态 $k  1$，粒子以概率 $p_k$ 跳转到状态 $k+1$，或以概率 $1-p_k$ 跳转到状态 $k-1$。从状态 $k=1$ 出发的移动受到限制，使得粒子的位置必须保持在 $\\mathbb{Z}^+$ 内。\n\n令过程 $\\{M_n\\}_{n\\geq 0}$ 由粒子位置的倒数定义，即 $M_n = 1/X_n$。我们感兴趣的是，在何种特定条件下，$\\{M_n\\}$ 相对于该游走生成的自然信息流 $\\mathcal{F}_n = \\sigma(X_0, X_1, \\dots, X_n)$ 成为一个鞅。\n\n确定对于所有整数 $k  1$，能确保 $\\{M_n\\}$ 是一个鞅的转移概率 $p_k$（作为 $k$ 的函数）。", "solution": "我们要求 $\\{M_n\\}$ 对所有 $n$ 满足鞅性质 $E[M_{n+1} | \\mathcal{F}_n] = M_n$。由于 $\\{X_n\\}$ 是一个时齐马尔可夫链且 $M_n = 1/X_n$，鞅条件简化为调和条件\n$$\nE\\left[\\frac{1}{X_{n+1}} | X_n=k\\right] = \\frac{1}{k}.\n$$\n对于 $k>1$，转移概率为 $P(X_{n+1}=k+1 | X_n=k)=p_k$ 和 $P(X_{n+1}=k-1 | X_n=k)=1-p_k$。因此，\n$$\nE\\left[\\frac{1}{X_{n+1}} | X_n=k\\right] = p_k\\cdot \\frac{1}{k+1} + (1-p_k)\\cdot \\frac{1}{k-1}.\n$$\n应用鞅条件可得\n$$\np_k\\cdot \\frac{1}{k+1} + (1-p_k)\\cdot \\frac{1}{k-1} = \\frac{1}{k}.\n$$\n求解 $p_k$：\n$$\np_k\\left(\\frac{1}{k+1} - \\frac{1}{k-1}\\right) + \\frac{1}{k-1} = \\frac{1}{k},\n$$\n$$\np_k\\left(-\\frac{2}{k^2-1}\\right) = \\frac{1}{k} - \\frac{1}{k-1} = -\\frac{1}{k(k-1)},\n$$\n$$\np_k = \\frac{-\\frac{1}{k(k-1)}}{-\\frac{2}{k^2-1}} = \\frac{k^2-1}{2k(k-1)} = \\frac{(k-1)(k+1)}{2k(k-1)} = \\frac{k+1}{2k}.\n$$\n因此，对于所有 $k>1$，选择\n$$\np_k = \\frac{k+1}{2k}\n$$\n可以确保 $\\{M_n\\}$ 是一个鞅。（在 $k=1$ 处的行为是边界特定的，不影响此处所要求的 $k>1$ 时 $p_k$ 的形式。）", "answer": "$$\\boxed{\\frac{k+1}{2k}}$$", "id": "1299908"}]}