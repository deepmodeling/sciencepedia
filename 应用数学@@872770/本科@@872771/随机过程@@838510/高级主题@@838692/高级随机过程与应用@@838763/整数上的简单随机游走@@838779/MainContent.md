## 引言
[随机游走](@entry_id:142620)是[随机过程](@entry_id:159502)理论的基石，它为描述从微观粒子[扩散](@entry_id:141445)到宏观金融市场波动的各类随机现象提供了一个简洁而强大的数学框架。尽管其规则看似简单——在每个时间点随机选择一个方向移动——但其背后却蕴含着深刻的概率结构和复杂的动态行为。理解如何精确地刻画和预测这些行为，是连接纯粹数学与现实世界应用的关键。

本文旨在系统性地剖析最基础的[随机游走模型](@entry_id:180803)：整数上的一维简单[随机游走](@entry_id:142620)。我们将从其最基本的定义出发，逐步揭示其内在的数学原理和统计规律。读者将通过三个章节的学习，构建一个关于[随机游走](@entry_id:142620)的完整知识体系：
-   在**第一章“原理和机制”**中，我们将建立[随机游走](@entry_id:142620)的数学语言，推导其位置[分布](@entry_id:182848)、期望、[方差](@entry_id:200758)，并探讨[马尔可夫性质](@entry_id:139474)、常返性等核心概念。
-   在**第二章“应用与跨学科联系”**中，我们将展示这些理论如何应用于带有边界的系统、物理学中的[扩散过程](@entry_id:170696)，并介绍持续性游走、鞅等高级模型，揭示其在金融、生物和网络科学中的重要作用。
-   最后，**第三章“动手实践”**将通过一系列具体问题，帮助读者巩固所学知识，并将其应用于解决实际的概率计算和分析任务中。

通过本次学习，你将不仅掌握[随机游走](@entry_id:142620)的基本理论，更能体会到它作为一种思维工具，在不同学科领域中分析和理解复杂动态系统的强大能力。

## 原理和机制

在前一章中，我们介绍了[随机游走](@entry_id:142620)作为一种描述随机运动系统（从股票价格到粒子[扩散](@entry_id:141445)）的数学模型的基本概念。本章将深入探讨整数上一维简单[随机游走](@entry_id:142620)的内在原理和机制。我们将从其基本定义出发，系统地构建其概率性质，并推导其关键的统计特征。通过探索这些基础原理，我们将能够理解[随机游走](@entry_id:142620)在不同时间点的行为，预测其长期趋势，并运用更高级的分析工具来揭示其更深层次的结构。

### 定义简单[随机游走](@entry_id:142620)

想象一个粒子位于一条无限长的数字线上，这条线由整数 $\mathbb{Z}$ 标记。在时间 $t=0$ 时，粒子位于原点，即位置 $0$。在一系列离散的时间步长 $i=1, 2, 3, \ldots$ 中，粒子会根据一个随机规则移动。在最简单的模型中，粒子在每一步要么向右移动一个单位（到位置 $x+1$），要么向左移动一个单位（到位置 $x-1$）。

我们可以用数学语言来精确描述这个过程。设 $S_n$ 为粒子在 $n$ 步之后的位置。我们通常假设粒子从原点开始，即 $S_0 = 0$。每一步的位移是一个[随机变量](@entry_id:195330)，记为 $X_i$。那么，粒子在 $n$ 步后的位置就是所有独立位移的总和：
$$ S_n = \sum_{i=1}^{n} X_i $$
对于**简单[随机游走](@entry_id:142620) (simple random walk)**，每个步长 $X_i$ 都是[独立同分布](@entry_id:169067) (i.i.d.) 的[随机变量](@entry_id:195330)，其[分布](@entry_id:182848)为：
$$
X_i = \begin{cases}
+1  &\text{以概率 } p \\
-1  &\text{以概率 } 1-p
\end{cases}
$$
其中 $0 \lt p \lt 1$。

这个参数 $p$ 是模型的关键。根据 $p$ 的取值，我们可以将[随机游走](@entry_id:142620)分为两类：
1.  **[对称随机游走](@entry_id:273558) (Symmetric Random Walk)**：当向右移动的概率等于向左移动的概率时，即 $p = 1/2$。在这种情况下，游走没有固有的方向偏好。
2.  **非[对称随机游走](@entry_id:273558) (Asymmetric Random Walk)**：当 $p \neq 1/2$ 时。这种游走存在一个**漂移 (drift)**，即一个朝特定方向移动的系统性趋势。如果 $p > 1/2$，则游走向右漂移；如果 $p  1/2$，则游走向左漂移。

在分析[随机游走](@entry_id:142620)时，一个简单的初始观察是**奇偶性原则 (parity principle)**。每走一步，粒子的位置的奇偶性都会改变。因此，经过 $n$ 步后，位置 $S_n$ 的奇偶性必须与步数 $n$ 的奇偶性相同。这意味着，如果 $n$ 是偶数， $S_n$ 也必须是偶数；如果 $n$ 是奇数， $S_n$ 也必须是奇数。换言之，从原点出发，只有当 $n+k$ 是偶数时，才可能在 $n$ 步后到达位置 $k$。

### 位置概率与[分布](@entry_id:182848)

一个基本的问题是：在 $n$ 步之后，粒子位于特定位置 $k$ 的概率是多少？我们可以通过[组合分析](@entry_id:265559)来回答这个问题。

假设在 $n$ 次移动中，有 $r$ 次向右移动（$+1$），有 $l$ 次向左移动（$-1$）。总步数必须是 $n$，最终位置必须是 $k$。这为我们提供了两个方程：
$$ r + l = n $$
$$ r - l = k $$
求解这个[方程组](@entry_id:193238)，我们得到向右和向左的步数：
$$ r = \frac{n+k}{2}, \quad l = \frac{n-k}{2} $$
这个结果再次证实了奇偶性原则：为了使 $r$ 和 $l$ 为整数， $n+k$ 和 $n-k$ 必须是偶数，这意味着 $n$ 和 $k$ 必须具有相同的奇偶性。如果这个条件不满足，那么在 $n$ 步后到达位置 $k$ 是不可能的，概率为零。

如果奇偶性条件满足，那么任何一个由 $r$ 次向右移动和 $l$ 次向左移动组成的特定路径序列，其发生的概率都是 $p^r (1-p)^l$，因为每一步都是独立的。然而，达到最终位置 $k$ 并不需要一个特定的移动序列，任何包含 $r$ 个“右”和 $l$ 个“左”的[排列](@entry_id:136432)组合都可以。在 $n$ 步中选择 $r$ 步向右（其余 $l$ 步自动向左）的组[合数](@entry_id:263553)为[二项式系数](@entry_id:261706) $\binom{n}{r}$。

因此，粒子在 $n$ 步后位于位置 $k$ 的[概率质量函数](@entry_id:265484) (PMF) 为：
$$ P(S_n = k) = \binom{n}{(n+k)/2} p^{(n+k)/2} (1-p)^{(n-k)/2} $$
只要 $n$ 和 $k$ 具有相同的奇偶性且 $|k| \le n$，否则 $P(S_n=k)=0$。这本质上是一个[二项分布](@entry_id:141181)的变体。

例如，考虑一个[对称随机游走](@entry_id:273558)（$p=1/2$），总共进行 $N=6$ 步。我们想知道最终位置在 $x=+2$ 的概率 [@problem_id:1406148]。这里，$n=6, k=2$。我们计算所需的右移和左移次数：$r = (6+2)/2 = 4$，$l = (6-2)/2 = 2$。总共有 $\binom{6}{4} = \frac{6!}{4!2!} = 15$ 条不同的路径可以实现这一结果。每条特定路径的概率都是 $(1/2)^6 = 1/64$。因此，总概率为 $15 \times \frac{1}{64} = \frac{15}{64}$。

概率 $p$ 的不对称性对位置[分布](@entry_id:182848)有显著影响。考虑一个非对称游走，我们比较其到达位置 $k$ 和 $-k$ 的概率比 [@problem_id:1331736]。使用上述公式：
$$ P(S_n = k) = \binom{n}{(n+k)/2} p^{(n+k)/2} (1-p)^{(n-k)/2} $$
$$ P(S_n = -k) = \binom{n}{(n-k)/2} p^{(n-k)/2} (1-p)^{(n+k)/2} $$
利用 $\binom{n}{a} = \binom{n}{n-a}$，我们注意到 $\binom{n}{(n+k)/2} = \binom{n}{(n-k)/2}$。因此，当我们计算比率时，组合系数会抵消掉：
$$ \frac{P(S_n = k)}{P(S_n = -k)} = \frac{p^{(n+k)/2} (1-p)^{(n-k)/2}}{p^{(n-k)/2} (1-p)^{(n+k)/2}} = \frac{p^{(n+k)/2 - (n-k)/2}}{(1-p)^{(n+k)/2 - (n-k)/2}} = \frac{p^k}{(1-p)^k} = \left(\frac{p}{1-p}\right)^k $$
这个简洁的结果揭示了漂移的本质。如果 $p  1/2$，则比值 $p/(1-p)  1$，这意味着粒子在右侧（$k0$）被发现的概率指数级地高于在对称的左侧位置（$-k$）。对于对称游走（$p=1/2$），该比值为 $1$，表明其位置[分布](@entry_id:182848)是关于[原点对称](@entry_id:172995)的。

### 关键统计属性：期望和[方差](@entry_id:200758)

虽然我们可以计算每一点的精确概率，但通常更有用的是理解游走的整体行为，这可以通过其[统计矩](@entry_id:268545)（如期望和[方差](@entry_id:200758)）来捕捉。

#### 期望位置

粒子在 $n$ 步后的**期望位置 (expected position)** 是什么？我们可以利用**[期望的线性](@entry_id:273513)性 (linearity of expectation)**，这是一个非常强大的工具，它指出和的期望等于期望的和，即使[随机变量](@entry_id:195330)不是独立的。

首先，计算单步位移的期望 $E[X_i]$：
$$ E[X_i] = (+1) \cdot P(X_i = +1) + (-1) \cdot P(X_i = -1) = 1 \cdot p - 1 \cdot (1-p) = 2p-1 $$
由于 $S_n = \sum_{i=1}^{n} X_i$，根据[期望的线性](@entry_id:273513)性：
$$ E[S_n] = E\left[\sum_{i=1}^{n} X_i\right] = \sum_{i=1}^{n} E[X_i] = n \cdot E[X_1] = n(2p-1) $$
这个结果非常直观。对于对称游走（$p=1/2$），$E[S_n] = n(2 \cdot 1/2 - 1) = 0$。这意味着平均而言，粒子最终会停留在原点附近。然而，对于非对称游走， $E[S_n]$ 随 $n$ [线性增长](@entry_id:157553)或减少，这证实了我们之前提到的“漂移”概念。$2p-1$ 代表了每一步的平均漂移量。

[期望的线性](@entry_id:273513)性是一个普适的原理，即使步长不是标准的 $+1/-1$ 也能适用。例如，考虑一个粒子，它以 $p=0.55$ 的概率向右移动 $2$ 个单位，以 $1-p=0.45$ 的概率向左移动 $1$ 个单位 [@problem_id:1331766]。单步期望位移为 $E[X_i] = (+2) \cdot 0.55 + (-1) \cdot 0.45 = 1.10 - 0.45 = 0.65$。因此，在 $N=20$ 步之后，期望位置就是 $E[S_{20}] = 20 \times 0.65 = 13$。

#### 位置的[方差](@entry_id:200758)

期望告诉我们粒子位置的“中心”在哪里，而**[方差](@entry_id:200758) (variance)** 则衡量了位置[分布](@entry_id:182848)的离散程度或“宽度”。为了计算 $S_n$ 的[方差](@entry_id:200758)，我们利用了各步 $X_i$ 是相互独立的事实。当[随机变量](@entry_id:195330)独立时，它们的和的[方差](@entry_id:200758)等于它们[方差](@entry_id:200758)的和。

首先，我们计算单步位移的[方差](@entry_id:200758) $\text{Var}(X_i)$ [@problem_id:1406170]。[方差](@entry_id:200758)的定义是 $\text{Var}(Y) = E[Y^2] - (E[Y])^2$。我们已经知道 $E[X_i] = 2p-1$。现在计算 $E[X_i^2]$：
$$ E[X_i^2] = (+1)^2 \cdot p + (-1)^2 \cdot (1-p) = p + (1-p) = 1 $$
这是一个有趣的通用结果：无论 $p$ 值如何，单步位移的平方的期望总是 $1$。
因此，单步[方差](@entry_id:200758)为：
$$ \text{Var}(X_i) = E[X_i^2] - (E[X_i])^2 = 1 - (2p-1)^2 = 1 - (4p^2 - 4p + 1) = 4p - 4p^2 = 4p(1-p) $$
由于各步独立， $S_n$ 的[方差](@entry_id:200758)为：
$$ \text{Var}(S_n) = \text{Var}\left(\sum_{i=1}^{n} X_i\right) = \sum_{i=1}^{n} \text{Var}(X_i) = n \cdot \text{Var}(X_1) = 4np(1-p) $$
对于[对称随机游走](@entry_id:273558)（$p=1/2$），这个表达式简化为 $\text{Var}(S_n) = 4n(1/2)(1/2) = n$。

这个结果至关重要。它表明，位置的[方差](@entry_id:200758)随时间（步数 $n$）[线性增长](@entry_id:157553)。这意味着[标准差](@entry_id:153618) $\sigma_{S_n} = \sqrt{\text{Var}(S_n)} = \sqrt{n}$（在对称情况下）。粒子位置的典型离散程度与时间的平方根成正比。这是所有扩散过程的标志性特征，从热传导到布朗运动都遵循这一定律。

### 时间过程：[马尔可夫性质](@entry_id:139474)与协[方差](@entry_id:200758)

到目前为止，我们主要关注在固定时间 $n$ 的位置[分布](@entry_id:182848)。然而，[随机游走](@entry_id:142620)是一个**[随机过程](@entry_id:159502)**，其本质在于它如何随时间演变。

#### 马尔可夫性质

简单[随机游走](@entry_id:142620)拥有一个称为**[马尔可夫性质](@entry_id:139474) (Markov Property)** 的基本特征，通常被描述为“无记忆性”。这意味着，过程的未来演化仅仅依赖于其当前状态（即当前位置），而与它如何到达当前状态的历史路径无关。

我们可以用[条件期望](@entry_id:159140)来精确地表述这一性质。假设在第 $n$ 步我们观察到粒子位于位置 $S_n = k$。那么，在下一步 $n+1$ 的期望位置是多少？ [@problem_id:1331721]
$$ E[S_{n+1} | S_n = k] = E[S_n + X_{n+1} | S_n = k] $$
利用条件[期望的线性](@entry_id:273513)性，我们得到：
$$ E[S_{n+1} | S_n = k] = E[S_n | S_n = k] + E[X_{n+1} | S_n = k] $$
第一项很简单：已知 $S_n=k$，其期望就是 $k$。对于第二项，由于第 $n+1$ 步的位移 $X_{n+1}$ 独立于之前的所有步数（以及它们构成的和 $S_n$），[条件期望](@entry_id:159140)等于其无[条件期望](@entry_id:159140)：
$$ E[X_{n+1} | S_n = k] = E[X_{n+1}] = 2p-1 $$
将它们结合起来，我们得到：
$$ E[S_{n+1} | S_n = k] = k + 2p-1 $$
这个结果优美地体现了[马尔可夫性质](@entry_id:139474)。给定当前位置 $k$，下一步的期望位置仅仅是当前位置加上一步的平均漂移。过去的所有细节都无关紧要。
特别地，对于[对称随机游走](@entry_id:273558)（$p=1/2$），我们有 $E[S_{n+1} | S_n = k] = k$。满足这一性质的[随机过程](@entry_id:159502)被称为**鞅 (martingale)**。鞅在现代概率论和[金融数学](@entry_id:143286)中扮演着核心角色。

#### 协[方差](@entry_id:200758)

不同时间点的位置 $S_m$ 和 $S_n$ 显然不是独立的。例如，如果一个粒子在时间 $m$ 位于一个非常大的正数位置，那么在稍后的时间 $n$ 它也很可能在一个正数位置。**协[方差](@entry_id:200758) (covariance)** 是衡量这种关系的统计量。

让我们计算[对称随机游走](@entry_id:273558)在两个不同时间点 $m$ 和 $n$（其中 $m  n$）的位置之间的协[方差](@entry_id:200758) $\text{Cov}(S_m, S_n)$ [@problem_id:1331754]。协[方差](@entry_id:200758)的定义为 $\text{Cov}(S_m, S_n) = E[S_m S_n] - E[S_m]E[S_n]$。对于对称游走，我们知道 $E[S_m]=E[S_n]=0$，所以协[方差](@entry_id:200758)简化为 $E[S_m S_n]$。

为了计算这个期望，我们利用了[随机游走](@entry_id:142620)的**[独立增量](@entry_id:262163) (independent increments)** 性质。我们可以将 $S_n$ 分解为：
$$ S_n = S_m + (S_n - S_m) = S_m + \sum_{i=m+1}^{n} X_i $$
这里的增量 $(S_n - S_m)$ 只依赖于第 $m+1$ 步到第 $n$ 步，因此它独立于 $S_m$（它只依赖于第 $1$ 步到第 $m$ 步）。
现在我们可以计算期望：
$$ E[S_m S_n] = E[S_m (S_m + S_n - S_m)] = E[S_m^2] + E[S_m (S_n - S_m)] $$
由于 $S_m$ 和 $(S_n - S_m)$ 独立，最后一项的期望可以分解为期望的乘积：
$$ E[S_m (S_n - S_m)] = E[S_m] E[S_n - S_m] $$
因为 $E[S_k]=0$ 对于任何 $k$，所以 $E[S_m]=0$ 且 $E[S_n - S_m] = E[S_n] - E[S_m] = 0$。因此，该项为零。
我们最终得到：
$$ \text{Cov}(S_m, S_n) = E[S_m^2] = \text{Var}(S_m) + (E[S_m])^2 = \text{Var}(S_m) $$
对于对称游走，我们已经知道 $\text{Var}(S_m) = m$。因此，
$$ \text{Cov}(S_m, S_n) = m \quad (\text{for } m  n) $$
这个结果表明，两个时间点位置的协[方差](@entry_id:200758)等于较早时间的[方差](@entry_id:200758)（或步数）。这很合理：游走在时间 $m$ 的不确定性完全传递给了时间 $n$。[相关系数](@entry_id:147037)为 $\text{Corr}(S_m, S_n) = \frac{\text{Cov}(S_m, S_n)}{\sqrt{\text{Var}(S_m)\text{Var}(S_n)}} = \frac{m}{\sqrt{m \cdot n}} = \sqrt{\frac{m}{n}}$。这表明随着时间间隔 $n-m$ 的增大，相关性会减弱，符合我们的直觉。

### 返回原点：常返性与首次通过

[随机游走理论](@entry_id:138227)中最深刻和最迷人的问题之一涉及粒子返回其起点的行为。

#### 首次返回时间

首先，我们必须区分“在时间 $n$ 返回原点”和“在时间 $n$ *首次* 返回原点”这两个概念。后者被称为**首次通过时间 (first passage time)**。

让我们通过一个具体的例子来阐明这一点。考虑一个[对称随机游走](@entry_id:273558)，计算粒子在第 4 步**首次**返回原点 $S_0=0$ 的概率 [@problem_id:1406141]。
要使首次返回发生在 $n=4$，必须满足两个条件：
1.  $S_4=0$。
2.  $S_1 \neq 0$, $S_2 \neq 0$, $S_3 \neq 0$。

我们已经知道，为了使 $S_4=0$，必须有 2 次向右移动和 2 次向左移动。总共有 $\binom{4}{2}=6$ 条这样的路径。每条路径的概率为 $(1/2)^4 = 1/16$。
现在我们来检查这 6 条路径是否满足第二个条件：
- (R, R, L, L): $S_1=1, S_2=2, S_3=1, S_4=0$。中间位置均不为零。**有效**。
- (R, L, R, L): $S_1=1, S_2=0$。在第 2 步返回，不满足首次返回在第 4 步的条件。**无效**。
- (R, L, L, R): $S_1=1, S_2=0$。**无效**。
- (L, R, R, L): $S_1=-1, S_2=0$。**无效**。
- (L, R, L, R): $S_1=-1, S_2=0$。**无效**。
- (L, L, R, R): $S_1=-1, S_2=-2, S_3=-1, S_4=0$。中间位置均不为零。**有效**。

（我们注意到，由于奇偶性原则，$S_1$ 和 $S_3$ 永远不可能是 0，所以我们只需要检查 $S_2 \neq 0$。）
在 6 条最终回到原点的路径中，只有 2 条路径是首次返回。因此，所求概率为 $2 \times \frac{1}{16} = \frac{1}{8} = 0.125$。

#### 常返性与暂留性

一个更深层次的问题是：一个[随机游走](@entry_id:142620)最终会返回其起点吗？答案惊人地依赖于参数 $p$。

-   **常返性 (Recurrence)**：如果一个[随机游走](@entry_id:142620)以概率 1 返回其起点，则称其为**常返的**。可以证明，一维和二维的[对称随机游走](@entry_id:273558)是常返的。
-   **暂留性 (Transience)**：如果一个[随机游走](@entry_id:142620)有非零的概率永远不返回其起点，则称其为**暂留的**。

所有非对称的一维简单[随机游走](@entry_id:142620)（$p \neq 1/2$）都是暂留的。这是因为漂移会系统地将粒子推离原点，使得它“逃逸”到无穷远的可能性为正。

我们可以量化这种[逃逸概率](@entry_id:266710)。假设一个非对称游走，其向右的概率为 $p=5/7$ [@problem_id:1331751]。粒子从原点出发，我们想计算它在第一步之后永不返回原点的概率。
这个事件可以分解为两种[互斥](@entry_id:752349)的情况：
1.  第一步向右（概率 $p$），然后从位置 $+1$ 开始的游走永不触及 $0$。
2.  第一步向左（概率 $1-p$），然后从位置 $-1$ 开始的游走永不触及 $0$。

对于一个具有向右漂移 ($p  1-p$) 的游走，从一个负位置开始，它几乎肯定会因为漂移而向右移动，从而穿过原点。因此，从 $-1$ 开始永不返回 $0$ 的概率为 $0$。
对于从正位置 $i0$ 开始的游走，可以证明它最终到达 $0$ 的概率（称为击中概率，$h(i)$）为 $h(i) = \left(\frac{1-p}{p}\right)^i$。
因此，从 $+1$ 开始永不返回 $0$ 的概率是 $1 - h(1) = 1 - \frac{1-p}{p}$。

结合这两种情况，第一步后永不返回原点的总概率为：
$$ P(\text{永不返回}) = p \times \left(1 - \frac{1-p}{p}\right) + (1-p) \times 0 = p \left(\frac{p - (1-p)}{p}\right) = p - (1-p) = 2p-1 $$
对于 $p=5/7$，这个概率是 $2(5/7)-1 = 10/7 - 1 = 3/7$。这意味着，对于这个带有微弱正向漂移的“[分子马达](@entry_id:140902)”，有超过40%的机会在迈出第一步后就永远不再回到它的起点。

### 高级分析工具

虽然组合方法在许多基本情况下很有效，但对于更复杂的问题，我们需要更强大的数学工具。

#### [生成函数](@entry_id:146702)

**生成函数 (Generating functions)** 是一种将一个无限序列（如概率序列）编码成一个单一函数的强大技术。通过对这个函数进行代数和微积分操作，我们可以提取关于原序列的信息。

考虑[对称随机游走](@entry_id:273558)。我们感兴趣的是粒子在偶数步 $2n$ 后返回原点的概率序列 $u_{2n} = P(S_{2n}=0)$。我们知道 $u_{2n} = \binom{2n}{n} (\frac{1}{2})^{2n}$。这个序列的[普通生成函数](@entry_id:262271)定义为 $U(s) = \sum_{n=0}^{\infty} u_{2n} s^n$ [@problem_id:1406181]。
$$ U(s) = \sum_{n=0}^{\infty} \binom{2n}{n} \left(\frac{1}{2}\right)^{2n} s^n = \sum_{n=0}^{\infty} \binom{2n}{n} \left(\frac{s}{4}\right)^n $$
这是一个著名的[级数展开](@entry_id:142878)。利用[广义二项式定理](@entry_id:262225)，我们可以证明[中心二项式系数](@entry_id:635096)的[生成函数](@entry_id:146702)为：
$$ \sum_{n=0}^{\infty} \binom{2n}{n} x^n = \frac{1}{\sqrt{1-4x}} $$
在我们的例子中，令 $x=s/4$，我们立即得到一个优美的[闭合形式](@entry_id:271343)：
$$ U(s) = \frac{1}{\sqrt{1-4(s/4)}} = \frac{1}{\sqrt{1-s}} $$
这个函数 $U(s)$ 包含了关于返回原点概率的全部信息。例如，通过分析 $s \to 1^-$ 时的行为，可以证明对称[随机游走的常返性](@entry_id:198448)。

#### [特征函数](@entry_id:186820)

另一种强大的技术是使用**[特征函数](@entry_id:186820) (characteristic functions)**，它本质上是概率[分布的[傅里叶变](@entry_id:265827)换](@entry_id:142120)。一个[随机变量](@entry_id:195330) $Y$ 的[特征函数](@entry_id:186820)定义为 $\phi_Y(t) = E[e^{itY}]$。

[特征函数](@entry_id:186820)的主要优点在于，[独立随机变量](@entry_id:273896)之[和的特征函数](@entry_id:272204)是它们各自[特征函数](@entry_id:186820)的乘积。对于[随机游走](@entry_id:142620) $S_n = \sum_{i=1}^n X_i$，我们有：
$$ \phi_{S_n}(t) = (\phi_{X_1}(t))^n $$
一旦我们有了[和的特征函数](@entry_id:272204)，就可以通过傅里叶逆变换来恢复其[概率质量函数](@entry_id:265484)：
$$ P(S_n=k) = \frac{1}{2\pi} \int_{-\pi}^{\pi} \phi_{S_n}(t) e^{-ikt} dt $$
这种方法特别适用于非标准步长的游走。例如，考虑一个“懒惰”[随机游走](@entry_id:142620)，粒子有概率 $p$ 向右移动，概率 $p$ 向左移动，还有概率 $1-2p$ 保持不动 [@problem_id:1406168]。单步位移 $X_i$ 的特征函数是：
$$ \phi_X(t) = p \cdot e^{it(+1)} + p \cdot e^{it(-1)} + (1-2p) \cdot e^{it(0)} = p(e^{it} + e^{-it}) + 1-2p = 1-2p + 2p\cos(t) $$
假设 $p=1/5$，我们要计算 $P(S_3=1)$。首先得到 $\phi_{S_3}(t)$：
$$ \phi_{S_3}(t) = \left(1-2(1/5) + 2(1/5)\cos(t)\right)^3 = \left(\frac{3}{5} + \frac{2}{5}\cos(t)\right)^3 $$
然后，概率可以通过积分得到：
$$ P(S_3=1) = \frac{1}{2\pi} \int_{-\pi}^{\pi} \left(\frac{3}{5} + \frac{2}{5}\cos(t)\right)^3 e^{-it} dt $$
这个积分看起来很复杂，但可以通过将 $\cos(t)$ 展开为[复指数形式](@entry_id:265806) $\frac{e^{it}+e^{-it}}{2}$ 来求解。利用复指数的正交性（即 $\int_{-\pi}^{\pi} e^{int} dt = 0$ 除非 $n=0$），这个积分实际上只是从多项式展开中“挑选”出 $e^{it}$ 的系数。计算结果为 $\frac{6}{25}$。这个例子展示了傅里叶方法如何将复杂的[组合计数](@entry_id:141086)问题转化为相对直接的积分和代数运算，为分析更广泛的[随机过程](@entry_id:159502)提供了强大的框架。

本章中，我们已经从基本定义出发，系统地揭示了一维简单[随机游走](@entry_id:142620)的丰富结构。我们已经看到，简单的规则如何产生复杂的行为，以及如何使用从组合学到傅里叶分析的各种数学工具来理解这些行为。这些原理不仅是[随机过程](@entry_id:159502)理论的基石，也为模拟物理、金融和[生物系统](@entry_id:272986)中的各种现象提供了基础。