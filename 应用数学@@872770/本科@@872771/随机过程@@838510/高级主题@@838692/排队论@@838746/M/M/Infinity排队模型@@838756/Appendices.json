{"hands_on_practices": [{"introduction": "我们从 M/M/$\\infty$ 模型最核心的特性开始。由于存在无限个服务器，一个新到达的顾客永远不需要排队等候。这个练习将帮助你运用这一基本性质，并结合指数分布的服务时间特性，来计算一个关于顾客在系统中逗留时间的基本概率。[@problem_id:1342062]", "problem": "考虑一个大规模计算卸载系统，其中有无限数量的云服务器可用于处理任务。该系统被建模为一个 M/M/$\\infty$ 排队。任务根据泊松过程到达系统，平均到达率为 $\\lambda$。到达后，每个任务立即被分配给一个唯一的可用服务器。服务器处理一个任务所需的时间是一个独立同分布的随机变量，服从平均服务率为 $\\mu$ 的指数分布。\n\n对于一个新到达的任务，确定其在系统中的总停留时间（从到达至服务完成）小于任何给定任务的平均服务时间的精确概率。\n\n请以单一闭式解析表达式的形式给出您的答案。", "solution": "在 M/M/$\\infty$ 系统中，每个到达的任务都会立即被分配到其自己的服务器，因此没有排队延迟。因此，新到达任务在系统中的总时间等于其服务时间。设 $S$ 表示服务时间，它服从速率为 $\\mu$ 的指数分布，因此 $S \\sim \\text{Exp}(\\mu)$ 且其均值为 $\\mathbb{E}[S]=\\frac{1}{\\mu}$。\n\n我们需要求的是在系统中的总时间小于平均服务时间的概率。即\n$$\n\\mathbb{P}\\!\\left(S \\le \\frac{1}{\\mu}\\right).\n$$\n速率为 $\\mu$ 的指数随机变量的累积分布函数为\n$$\n\\mathbb{P}(S \\leq t)=1-\\exp(-\\mu t), \\quad t \\geq 0.\n$$\n在 $t=\\frac{1}{\\mu}$ 处求值可得\n$$\n\\mathbb{P}\\!\\left(S \\le \\frac{1}{\\mu}\\right)=1-\\exp\\!\\left(-\\mu \\cdot \\frac{1}{\\mu}\\right)=1-\\exp(-1).\n$$\n这个概率与 $\\lambda$ 无关，因为在 M/M/$\\infty$ 系统中，逗留时间等于服务时间。", "answer": "$$\\boxed{1-\\exp(-1)}$$", "id": "1342062"}, {"introduction": "理解了单个顾客的经历后，我们将视角转向整个系统在达到稳态时的表现。这个问题巧妙地将细胞内分子数量的动态变化建模为一个 M/M/$\\infty$ 排队系统，展现了该模型的广泛适用性。你需要计算系统在长时间运行达到统计平衡后，其中“顾客”数量的一个关键统计量——方差。[@problem_id:1342048]", "problem": "在一个单个细胞内基因表达的简化模型中，信使核糖核酸 (mRNA) 分子被产生和降解。新 mRNA 分子的产生是一个随机过程，可以建模为平均速率为每个单位时间 $\\lambda$ 个分子的泊松过程。同时，细胞中每个已存在的 mRNA 分子在每个单位时间内都有一个恒定的概率被降解，且与其他所有分子无关。对于单个分子，此降解过程的特征是其寿命服从指数分布，速率参数为 $\\mu$。\n\n当细胞在这些条件下运行很长一段时间后，mRNA 分子的数量达到一个统计稳态。确定在稳态时细胞中存在的 mRNA 分子数量的方差。将你的答案表示为关于 $\\lambda$ 和 $\\mu$ 的符号表达式。", "solution": "令 $N(t)$ 表示在时间 $t$ 的 mRNA 分子数量。这是一个连续时间马尔可夫生灭过程，其：\n- 生成（产生）转移 $n \\to n+1$ 的速率为 $\\lambda$（与 $n$ 无关）。\n- 消亡（降解）转移 $n \\to n-1$ 的速率为 $\\mu n$（每个分子以速率 $\\mu$ 独立降解）。\n\n对于任意测试函数 $f(n)$，该过程的生成元为\n$$\n\\mathcal{L}f(n) = \\lambda\\,[f(n+1) - f(n)] + \\mu n\\,[f(n-1) - f(n)].\n$$\n根据标准马尔可夫过程理论，期望值的时间演化满足\n$$\n\\frac{\\mathrm{d}}{\\mathrm{d}t}\\mathbb{E}[f(N(t))] = \\mathbb{E}[\\mathcal{L}f(N(t))].\n$$\n\n一阶矩。取 $f(n) = n$。则 $f(n+1) - f(n) = 1$ 且 $f(n-1) - f(n) = -1$，所以\n$$\n\\mathcal{L}n = \\lambda - \\mu n,\n$$\n因此\n$$\n\\frac{\\mathrm{d}}{\\mathrm{d}t}\\mathbb{E}[N(t)] = \\lambda - \\mu\\,\\mathbb{E}[N(t)].\n$$\n在稳态时，等式左侧为零，得到\n$$\n\\mathbb{E}[N] = \\frac{\\lambda}{\\mu}.\n$$\n\n二阶矩。取 $f(n) = n^{2}$。则 $f(n+1) - f(n) = (n+1)^{2} - n^{2} = 2n + 1$ 且 $f(n-1) - f(n) = (n-1)^{2} - n^{2} = 1 - 2n$。因此\n$$\n\\mathcal{L}n^{2} = \\lambda(2n + 1) + \\mu n(1 - 2n) = (2\\lambda + \\mu)n + \\lambda - 2\\mu n^{2}.\n$$\n取期望值，\n$$\n\\frac{\\mathrm{d}}{\\mathrm{d}t}\\mathbb{E}[N(t)^{2}] = (2\\lambda + \\mu)\\,\\mathbb{E}[N(t)] + \\lambda - 2\\mu\\,\\mathbb{E}[N(t)^{2}].\n$$\n在稳态时，将等式左侧设为零，并代入 $\\mathbb{E}[N] = \\lambda/\\mu$ 可得\n$$\n0 = (2\\lambda + \\mu)\\frac{\\lambda}{\\mu} + \\lambda - 2\\mu\\,\\mathbb{E}[N^{2}]\n= \\frac{2\\lambda^{2}}{\\mu} + 2\\lambda - 2\\mu\\,\\mathbb{E}[N^{2}].\n$$\n解出 $\\mathbb{E}[N^{2}]$，\n$$\n\\mathbb{E}[N^{2}] = \\frac{1}{2\\mu}\\left(\\frac{2\\lambda^{2}}{\\mu} + 2\\lambda\\right) = \\frac{\\lambda^{2}}{\\mu^{2}} + \\frac{\\lambda}{\\mu}.\n$$\n\n方差。方差为\n$$\n\\mathrm{Var}(N) = \\mathbb{E}[N^{2}] - \\left(\\mathbb{E}[N]\\right)^{2}\n= \\left(\\frac{\\lambda^{2}}{\\mu^{2}} + \\frac{\\lambda}{\\mu}\\right) - \\left(\\frac{\\lambda}{\\mu}\\right)^{2}\n= \\frac{\\lambda}{\\mu}.\n$$\n因此，在稳态时，方差等于均值，这是参数为 $\\lambda/\\mu$ 的泊松分布的特征。", "answer": "$$\\boxed{\\frac{\\lambda}{\\mu}}$$", "id": "1342048"}, {"introduction": "这个最后的练习挑战你分析系统在条件变化时的动态行为。我们从一个处于稳态的 M/M/$\\infty$ 系统开始，在某一时刻突然停止所有新的到达。你需要结合稳态顾客数的泊松分布特性以及服务时间的无记忆性，来预测系统在关闭输入后，其内部状态的演变情况。[@problem_id:1342052]", "problem": "一个大型自动化数据处理中心负责执行大量小的、独立的计算任务。这些任务的到达可以被建模为一个泊松过程，其平均速率为常数 $\\lambda$ 个任务/秒。每个任务的处理时间是一个独立的、服从指数分布的随机变量，其服务速率为 $\\mu$ 个任务/秒。由于该中心拥有大量的处理核心，可以假设对于任何到达的任务，总有空闲的核心可用，这意味着任务从不排队。这种设置等同于一个 M/M/$\\infty$排队系统。\n\n在运行了很长一段时间并达到统计稳态后，一次全系统更新要求停止所有新任务的提交。这个关闭过程恰好在时间 $t=0$ 发生。对于所有 $t \\ge 0$，没有新任务到达。\n\n确定在关闭后 $\\tau  0$ 秒的时刻，中心里仍有至少一个任务在被处理的概率。用参数 $\\lambda$、$\\mu$ 和 $\\tau$ 的符号表达式给出你的答案。", "solution": "在关闭前，系统是一个处于稳态的 M/M/$\\infty$ 队列。在此状态下，任何时刻正在服务中的任务数量，记为 $N(0)$，服从均值为 $\\frac{\\lambda}{\\mu}$ 的泊松分布。因此，\n$$\n\\Pr\\{N(0)=n\\}=\\exp\\!\\left(-\\frac{\\lambda}{\\mu}\\right)\\frac{\\left(\\frac{\\lambda}{\\mu}\\right)^{n}}{n!}.\n$$\n服务时间是独立的，且服从速率为 $\\mu$ 的指数分布。根据无记忆性，在 $t=0$ 时存在的每个任务的剩余服务时间同样服从速率为 $\\mu$ 的指数分布，且各任务之间相互独立，也与 $N(0)$ 独立。因此，对于任意固定的 $\\tau0$，在 $t=0$ 时存在的每个任务在时刻 $\\tau$ 仍在服务中的概率为\n$$\np(\\tau)=\\Pr\\{\\text{residual time}\\tau\\}=\\exp(-\\mu \\tau),\n$$\n且各任务之间相互独立。在给定 $N(0)=n$ 的条件下，在时刻 $\\tau$ 剩余的任务数量，记为 $N(\\tau)$，服从参数为 $(n,p(\\tau))$ 的二项分布。通过泊松随机变量的稀疏化性质去掉条件，可知 $N(\\tau)$ 服从均值为\n$$\nm(\\tau)=\\frac{\\lambda}{\\mu}\\exp(-\\mu \\tau).\n$$\n的泊松分布。因此，\n$$\n\\Pr\\{N(\\tau)=k\\}=\\exp\\!\\left(-m(\\tau)\\right)\\frac{\\left(m(\\tau)\\right)^{k}}{k!}.\n$$\n所求的在时刻 $\\tau$ 仍有至少一个任务在处理中的概率为\n$$\n\\Pr\\{N(\\tau)\\ge 1\\}=1-\\Pr\\{N(\\tau)=0\\}=1-\\exp\\!\\left(-m(\\tau)\\right)\n=1-\\exp\\!\\left(-\\frac{\\lambda}{\\mu}\\exp(-\\mu \\tau)\\right).\n$$", "answer": "$$\\boxed{1-\\exp\\!\\left(-\\frac{\\lambda}{\\mu}\\exp(-\\mu \\tau)\\right)}$$", "id": "1342052"}]}