{"hands_on_practices": [{"introduction": "排队论的一个核心应用是量化和管理服务系统中的拥堵。这个练习提供了一个常见的场景：大学的IT帮助台。通过将此系统建模为M/M/s队列 [@problem_id:1342382]，我们可以计算在高峰时段等待服务的平均学生人数（$L_q$），这是评估系统效率和规划资源的关键性能指标。", "problem": "一所大学的中央 IT 服务台在高峰时段（即开学第一周）有四名技术支持专家值班。寻求帮助的学生到达过程服从泊松分布，平均到达率为每小时15名学生。专家解决学生问题所需的时间服从指数分布，每位专家平均每小时可以解决4个问题。该系统可以建模为 M/M/s 排队模型。假设队列的容量实际上是无限的，计算在队列中等待专家有空的平均学生人数。\n\n将您的最终答案四舍五入到三位有效数字。", "solution": "我们将系统建模为 M/M/s 排队模型，其中到达率为 $\\lambda$，每个服务台的服务率为 $\\mu$，服务台数量为 $s$。给定 $\\lambda=15$ 人/小时，$\\mu=4$ 人/小时，以及 $s=4$。\n\n系统繁忙度为 $\\rho=\\frac{\\lambda}{s\\mu}$，服务强度为 $a=\\frac{\\lambda}{\\mu}$。为保证系统稳定，要求 $\\rho  1$，此条件成立，因为\n$$\n\\rho=\\frac{15}{4\\cdot 4}=\\frac{15}{16}.\n$$\n\n对于 M/M/s 排队模型，系统为空的概率为\n$$\nP_{0}=\\left[\\sum_{n=0}^{s-1}\\frac{a^{n}}{n!}+\\frac{a^{s}}{s!}\\cdot\\frac{1}{1-\\rho}\\right]^{-1},\n$$\n而爱尔朗 C 等待概率为\n$$\nP_{\\text{wait}}=\\frac{a^{s}}{s!(1-\\rho)}P_{0}.\n$$\n平均队长（等待中，不包括正在接受服务的）为\n$$\nL_{q}=P_{\\text{wait}}\\cdot\\frac{\\rho}{1-\\rho}.\n$$\n\n使用 $a=\\frac{\\lambda}{\\mu}=\\frac{15}{4}$ 和 $s=4$ 计算各分量：\n$$\n\\sum_{n=0}^{3}\\frac{a^{n}}{n!}=1+\\frac{15}{4}+\\frac{\\left(\\frac{15}{4}\\right)^{2}}{2}+\\frac{\\left(\\frac{15}{4}\\right)^{3}}{6}\n=\\frac{2633}{128},\n$$\n$$\n\\frac{a^{4}}{4!}\\cdot\\frac{1}{1-\\rho}=\\frac{\\left(\\frac{15}{4}\\right)^{4}}{24}\\cdot\\frac{1}{1-\\frac{15}{16}}\n=\\frac{50625}{256}\\cdot\\frac{1}{24}\\cdot 16=\\frac{16875}{128}.\n$$\n因此，\n$$\nP_{0}=\\left(\\frac{2633}{128}+\\frac{16875}{128}\\right)^{-1}=\\left(\\frac{19508}{128}\\right)^{-1}=\\left(\\frac{4877}{32}\\right)^{-1}=\\frac{32}{4877}.\n$$\n然后\n$$\nP_{\\text{wait}}=\\frac{a^{4}}{4!(1-\\rho)}P_{0}\n=\\frac{16875}{128}\\cdot\\frac{32}{4877}=\\frac{16875}{19508}.\n$$\n最后，\n$$\nL_{q}=P_{\\text{wait}}\\cdot\\frac{\\rho}{1-\\rho}\n=\\frac{16875}{19508}\\cdot\\frac{\\frac{15}{16}}{\\frac{1}{16}}\n=\\frac{16875}{19508}\\cdot 15=\\frac{253125}{19508}\\approx 12.9754.\n$$\n四舍五入到三位有效数字得到 $13.0$。", "answer": "$$\\boxed{13.0}$$", "id": "1342382"}, {"introduction": "在评估服务质量时，顾客的等待体验至关重要。这个练习将我们的注意力从队列的长度转移到顾客在系统中花费的总时间（$W$）。以机场安检为例 [@problem_id:1342352]，我们将计算乘客从进入队列到完成安检的平均总时间，这个指标直接关系到顾客满意度。", "problem": "一个区域性机场最近升级了其安检区域，增设了三个并行运行的相同安检通道。乘客排成一个单队，并被引导至第一个可用的通道。乘客的到达可被建模为一个泊松过程，平均到达率为每小时110名乘客。单个通道检查一名乘客所需的时间服从指数分布，均值为90秒。假设系统已运行足够长的时间以达到稳态，计算一名乘客从进入安检队列到完成安检所花费的平均总时间。将您的答案以分钟为单位表示，并四舍五入到三位有效数字。", "solution": "我们将安检区域建模为一个 $M/M/s$ 排队系统，其中 $s=3$。到达为泊松过程，到达率 $\\lambda=110$ 人/小时。每个服务台的服务时间服从指数分布，均值为90秒。因此，每个服务台的服务率为 $\\mu=\\frac{1}{90\\ \\text{s}}=\\frac{1}{1.5\\ \\text{min}}=40$ 人/小时。系统利用率为 $\\rho=\\frac{\\lambda}{s\\mu}=\\frac{110}{3\\cdot 40}=\\frac{11}{12}$，这满足 $\\rho  1$，因此稳态存在。\n\n对于一个 $M/M/s$ 排队系统，定义 $a=\\frac{\\lambda}{\\mu}$。那么稳态下系统为空的概率是\n$$\nP_{0}=\\left[\\sum_{n=0}^{s-1}\\frac{a^{n}}{n!}+\\frac{a^{s}}{s!}\\cdot\\frac{1}{1-\\rho}\\right]^{-1},\n$$\n而爱尔朗C延迟概率是\n$$\nP_{\\text{wait}}=\\frac{a^{s}}{s!}\\cdot\\frac{1}{1-\\rho}\\cdot P_{0}.\n$$\n队列中的平均等待时间是\n$$\nW_{q}=P_{\\text{wait}}\\cdot\\frac{1}{s\\mu-\\lambda},\n$$\n而系统中的平均总时间是\n$$\nW=W_{q}+\\frac{1}{\\mu}.\n$$\n\n计算所需的量。首先，$a=\\frac{\\lambda}{\\mu}=\\frac{110}{40}=\\frac{11}{4}=2.75$ 且 $\\rho=\\frac{a}{s}=\\frac{11/4}{3}=\\frac{11}{12}$。然后\n$$\n\\sum_{n=0}^{2}\\frac{a^{n}}{n!}=1+\\frac{11}{4}+\\frac{(11/4)^{2}}{2}=1+\\frac{11}{4}+\\frac{121}{32}=\\frac{241}{32},\n$$\n$$\n\\frac{a^{3}}{3!}\\cdot\\frac{1}{1-\\rho}=\\frac{(11/4)^{3}}{6}\\cdot\\frac{1}{1-11/12}=\\frac{1331}{64}\\cdot\\frac{1}{6}\\cdot 12=\\frac{1331}{32}.\n$$\n因此\n$$\nP_{0}=\\left(\\frac{241}{32}+\\frac{1331}{32}\\right)^{-1}=\\left(\\frac{1572}{32}\\right)^{-1}=\\frac{8}{393},\n$$\n并且\n$$\nP_{\\text{wait}}=\\frac{1331}{32}\\cdot\\frac{8}{393}=\\frac{1331}{1572}.\n$$\n接下来，\n$$\nW_{q}=P_{\\text{wait}}\\cdot\\frac{1}{s\\mu-\\lambda}=\\frac{1331}{1572}\\cdot\\frac{1}{120-110}=\\frac{1331}{1572}\\cdot\\frac{1}{10}\\ \\text{小时}=\\frac{1331}{15720}\\ \\text{小时}.\n$$\n将 $W_{q}$ 转换为分钟，\n$$\nW_{q}=\\frac{1331}{15720}\\cdot 60=\\frac{1331}{262}\\ \\text{分钟}.\n$$\n平均服务时间为 $\\frac{1}{\\mu}=\\frac{1}{40}$ 小时 $=1.5$ 分钟 $=\\frac{3}{2}$ 分钟。因此，以分钟为单位的平均总时间是\n$$\nW=\\frac{1331}{262}+\\frac{3}{2}=\\frac{1331+393}{262}=\\frac{1724}{262}=\\frac{862}{131}\\ \\text{分钟}\\approx 6.58015267\\ \\text{分钟}.\n$$\n四舍五入到三位有效数字，平均总时间为 $6.58$ 分钟。", "answer": "$$\\boxed{6.58}$$", "id": "1342352"}, {"introduction": "排队论不仅能分析现有系统，还能为系统设计提供深刻见解。这个练习探讨了一个经典的权衡问题：是使用一个高速服务器，还是使用多个总处理能力相同的慢速服务器？通过计算和比较两种配置下系统空闲的概率（$P_0$）[@problem_id:1342361]，我们可以理解资源池化（pooling）对系统效率的影响，并为战略决策提供理论依据。", "problem": "一家名为“QuantumLeap AI”的云计算公司负责管理来自客户的传入数据处理任务。这些任务以泊松过程到达，平均速率为每小时 $\\lambda$ 个任务。处理单个任务所需的时间呈指数分布。\n\n该公司正在评估两种不同的服务器配置来处理工作负载：\n\n*   **配置 A（单服务器）：** 采用一台高性能服务器。该服务器能以平均速率每小时 $2\\mu$ 个任务处理任务。\n*   **配置 B（双服务器）：** 采用两台并行运行的标准服务器。每台服务器能以平均速率每小时 $\\mu$ 个任务处理任务。一个新到达的任务会立即分配给任何可用的服务器。如果两台服务器都忙，任务将进入一个单一的公共队列。\n\n为使任一系统保持稳定，总到达率必须小于总处理能力，即 $\\lambda  2\\mu$。设系统的总利用率为总到达率与总服务率之比，即 $\\rho = \\frac{\\lambda}{2\\mu}$。\n\n计算配置 A 中系统为空（即队列中没有任务且没有任务正在被处理）的概率与配置 B 中系统为空的概率之比。将您的最终答案表示为关于 $\\rho$ 的符号表达式。", "solution": "到达是速率为 $\\lambda$ 的泊松过程，服务时间呈指数分布，因此两种配置都是处于稳态的生灭过程。\n\n配置 A 是一个服务速率为 $2\\mu$ 的 $M/M/1$ 队列。对于一个到达率为 $\\lambda$、服务率为 $\\mu_{s}$ 的 $M/M/1$ 系统，系统中无任务的稳态概率为 $P_{0} = 1 - \\lambda/\\mu_{s}$（使用标准的 $M/M/1$ 稳态分布）。当 $\\mu_{s} = 2\\mu$ 且 $\\rho = \\lambda/(2\\mu)$ 时，可得\n$$\nP_{0}^{(A)} = 1 - \\frac{\\lambda}{2\\mu} = 1 - \\rho.\n$$\n\n配置 B 是一个 $M/M/2$ 队列，包含两台服务器，每台的服务速率为 $\\mu$。对于一个有 $s$ 台服务器、到达率为 $\\lambda$、每台服务器服务率为 $\\mu$ 的 $M/M/s$ 系统，定义 $a = \\lambda/\\mu$ 和 $\\rho = \\lambda/(s\\mu)$，系统中无任务的稳态概率为\n$$\nP_{0} = \\left[\\sum_{n=0}^{s-1}\\frac{a^{n}}{n!} + \\frac{a^{s}}{s!}\\cdot\\frac{1}{1 - \\rho}\\right]^{-1}.\n$$\n当 $s=2$ 时，我们有 $a = \\lambda/\\mu = 2\\rho$，所以\n$$\nP_{0}^{(B)} = \\left[1 + a + \\frac{a^{2}}{2}\\cdot\\frac{1}{1 - \\rho}\\right]^{-1}\n= \\left[1 + 2\\rho + \\frac{(2\\rho)^{2}}{2}\\cdot\\frac{1}{1 - \\rho}\\right]^{-1}\n= \\left[1 + 2\\rho + \\frac{2\\rho^{2}}{1 - \\rho}\\right]^{-1}.\n$$\n\n所求的比率为\n$$\n\\frac{P_{0}^{(A)}}{P_{0}^{(B)}} = (1 - \\rho)\\left[1 + 2\\rho + \\frac{2\\rho^{2}}{1 - \\rho}\\right]\n= (1 - \\rho)(1 + 2\\rho) + 2\\rho^{2}\n= (1 + 2\\rho - \\rho - 2\\rho^{2}) + 2\\rho^{2}\n= 1 + \\rho.\n$$", "answer": "$$\\boxed{1+\\rho}$$", "id": "1342361"}]}