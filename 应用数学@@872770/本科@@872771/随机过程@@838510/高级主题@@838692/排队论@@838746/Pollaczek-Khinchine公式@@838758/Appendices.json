{"hands_on_practices": [{"introduction": "Pollaczek-Khinchine 公式揭示了一个深刻的见解：排队系统的性能不仅取决于平均服务时间，还受到服务时间分布的更高阶矩的影响。本练习通过一个经典的对比，帮助我们直观地理解服务时间变异性（即服务时间的稳定性）对系统拥堵的关键影响。通过比较一个服务时间恒定的确定性系统 (M/D/1) 和一个服务时间高度可变的指数系统 (M/M/1)，我们将量化可预测性所带来的效益 [@problem_id:1344039]。", "problem": "一位系统工程师正在分析两种不同的单服务器处理架构在处理传入任务时的性能。对于这两种架构，任务的到达都遵循一个平均速率为 $\\lambda$ 的泊松过程。系统是稳定的，这意味着服务速率足以处理到达速率。\n\n第一种架构，系统 D，处理每个任务所需的时间是固定的常量 $T$。\n\n第二种架构，系统 E，其服务时间是一个遵循指数分布的随机变量。该指数分布的均值也是 $T$，这使得其平均服务时间与系统 D 的相同。\n\n设 $\\rho = \\lambda T$ 为服务器的利用率，它表示服务器处于繁忙状态的时间比例。求系统 D 中任务的长期平均数量（包括正在被服务的任务）与系统 E 中任务的长期平均数量（包括正在被服务的任务）之比的解析表达式。答案请仅用 $\\rho$ 表示。", "solution": "任务以速率 $\\lambda$ 的泊松过程到达，并由一个平均服务时间为 $T$ 的单服务器提供服务，因此利用率为 $\\rho=\\lambda T$。为保证稳定性，有 $0  \\rho  1$。两个系统都是 M/G/1 排队模型，唯一的区别在于服务时间分布 $S$。\n\n对于一个遵循先到先服务原则的 M/G/1 排队模型，Pollaczek–Khinchine 公式给出了队列中的平均等待时间：\n$$\nW_{q}=\\frac{\\lambda \\,\\mathbb{E}[S^{2}]}{2\\,(1-\\rho)}.\n$$\n队列中的平均任务数为 $L_{q}=\\lambda W_{q}$，而系统中的平均任务数（包括正在被服务的任务）为\n$$\nL=L_{q}+\\rho=\\rho+\\frac{\\lambda^{2}\\,\\mathbb{E}[S^{2}]}{2\\,(1-\\rho)}.\n$$\n\n将此公式应用于每个系统，代入各自服务时间的二阶矩。\n\n系统 D（确定性服务）：$S \\equiv T$，所以 $\\mathbb{E}[S^{2}]=T^{2}$。因此，\n$$\nL_{D}=\\rho+\\frac{\\lambda^{2}T^{2}}{2\\,(1-\\rho)}=\\rho+\\frac{\\rho^{2}}{2\\,(1-\\rho)}=\\frac{\\rho\\,(2-\\rho)}{2\\,(1-\\rho)}.\n$$\n\n系统 E（指数服务）：$S$ 服从均值为 $T$ 的指数分布，所以 $\\mathbb{E}[S^{2}]=2T^{2}$。因此，\n$$\nL_{E}=\\rho+\\frac{\\lambda^{2}\\cdot 2T^{2}}{2\\,(1-\\rho)}=\\rho+\\frac{\\rho^{2}}{1-\\rho}=\\frac{\\rho}{1-\\rho}.\n$$\n\n所求的系统 D 中任务的长期平均数量与系统 E 中任务的长期平均数量之比为\n$$\n\\frac{L_{D}}{L_{E}}=\\frac{\\dfrac{\\rho(2-\\rho)}{2(1-\\rho)}}{\\dfrac{\\rho}{1-\\rho}}=\\frac{2-\\rho}{2}.\n$$\n此表达式仅取决于 $\\rho$，并满足 $0  \\rho  1$。", "answer": "$$\\boxed{\\frac{2-\\rho}{2}}$$", "id": "1344039"}, {"introduction": "理论的价值在于其应用，Pollaczek-Khinchine 公式不仅能预测性能，还能作为一种强大的诊断工具。在这个练习中，我们将扮演系统分析师的角色，采用一种“逆向工程”的方法。我们将利用在真实系统中容易观察到的宏观指标（如平均排队长度 $L_q$），来推断难以直接测量的服务过程的微观特性（即服务时间的二阶矩 $E[S^2]$）[@problem_id:1344035]。", "problem": "一个远程数据记录系统从一个大型环境传感器网络接收测量数据。这些测量数据根据泊松过程到达中央服务器，平均到达率为每秒 $\\lambda = 40$ 次测量。服务器以先到先得的方式逐一处理每次测量。处理一次测量所需的时间是一个随机变量，且这些服务时间是独立同分布的。服务时间分布的具体形式是未知的。\n\n在稳态下，观测到两个关键性能指标：\n1. 流量强度 $\\rho$，即到达率与平均服务时间的乘积，其值为 $\\rho = 0.75$。\n2. 在队列中等待处理的测量数据的长期平均数量（不包括任何正在被服务的测量数据）为 $L_q = 9$。\n\n利用这些信息，确定服务时间分布的二阶矩的值。答案以 $s^2$ 为单位，并四舍五入到三位有效数字。", "solution": "该系统是一个 M/G/1 排队模型，其中到达过程为泊松过程，到达率为 $\\lambda$，服务时间 $S$ 独立同分布但分布未知。在稳态下，根据 Pollaczek–Khinchine 公式，队列中的平均等待时间为\n$$\nW_{q}=\\frac{\\lambda \\, \\mathbb{E}[S^{2}]}{2(1-\\rho)},\n$$\n因此，队列中的平均数量（不包括服务中的）为\n$$\nL_{q}=\\lambda W_{q}=\\frac{\\lambda^{2}\\,\\mathbb{E}[S^{2}]}{2(1-\\rho)}.\n$$\n由此求解二阶矩可得\n$$\n\\mathbb{E}[S^{2}]=\\frac{2(1-\\rho)\\,L_{q}}{\\lambda^{2}}.\n$$\n代入给定值 $\\lambda=40$、$\\rho=0.75$ 和 $L_{q}=9$：\n$$\n\\mathbb{E}[S^{2}]=\\frac{2(1-0.75)\\cdot 9}{40^{2}}=\\frac{2\\cdot 0.25 \\cdot 9}{1600}=\\frac{9}{3200}=0.0028125\\ \\text{s}^{2}.\n$$\n四舍五入到三位有效数字，结果为 $0.00281\\ \\text{s}^{2}$。", "answer": "$$\\boxed{0.00281}$$", "id": "1344035"}, {"introduction": "现实世界中的服务过程往往不是单一环节，而是由多个独立的子任务顺序组成。本练习将引导我们分析一个由多个连续阶段构成的服务系统，这在计算机网络、制造流程等领域非常常见。这个问题的精妙之处在于，它凸显了 Pollaczek-Khinchine 公式的强大威力：即使总服务时间的概率分布变得相当复杂，我们也能通过计算服务时间的前两个矩，轻松地分析整个系统的性能 [@problem_id:1343981]。", "problem": "分布式计算网络中的一个计算节点接收数据包进行处理。这些数据包根据泊松过程到达，平均速率为每秒 $\\lambda$ 个数据包。该节点有一个单处理核心和一个大容量缓冲区，该缓冲区可被视为具有无限容量。每个数据包的处理包括三个顺序且独立的任务：（1）解析，（2）计算，和（3）序列化。完成这些任务中每一项所需的时间是一个指数分布的随机变量。解析、计算和序列化任务的速率分别为每秒 $\\mu_1$、$\\mu_2$ 和 $\\mu_3$。假设系统处于稳定的稳态条件下。\n\n确定系统中的长期平均数据包数量，包括当前正在处理的数据包和在缓冲区中等待的数据包。您的答案应该是一个用 $\\lambda$、$\\mu_1$、$\\mu_2$ 和 $\\mu_3$ 表示的符号表达式。", "solution": "到达遵循速率为 $\\lambda$ 的泊松过程，服务时间是三个独立的指数阶段之和，其速率分别为 $\\mu_1$、$\\mu_2$ 和 $\\mu_3$。这是一个 $M/G/1$ 排队模型，服务时间为 $S = X_1 + X_2 + X_3$，其中 $X_i \\sim \\text{Exp}(\\mu_i)$ 是独立的。\n\n对于每个指数阶段，$E[X_i] = \\frac{1}{\\mu_i}$ 且 $E[X_i^{2}] = \\frac{2}{\\mu_i^{2}}$。根据独立性，\n$$\nE[S] = \\sum_{i=1}^{3} E[X_i] = \\frac{1}{\\mu_1} + \\frac{1}{\\mu_2} + \\frac{1}{\\mu_3},\n$$\n且\n$$\nE[S^{2}] = \\operatorname{Var}(S) + \\left(E[S]\\right)^{2} = \\sum_{i=1}^{3} \\frac{1}{\\mu_i^{2}} + \\left(\\frac{1}{\\mu_1} + \\frac{1}{\\mu_2} + \\frac{1}{\\mu_3}\\right)^{2}.\n$$\n\n令 $\\rho = \\lambda E[S]$。稳定性条件是 $\\rho  1$。对于一个 $M/G/1$ 排队，Pollaczek–Khinchine 公式给出\n$$\nL_q = \\frac{\\lambda^{2} E[S^{2}]}{2\\left(1 - \\rho\\right)}, \\quad L = L_q + \\rho.\n$$\n代入 $E[S]$ 和 $E[S^{2}]$ 的表达式可得\n$$\nL = \\lambda\\left(\\frac{1}{\\mu_1} + \\frac{1}{\\mu_2} + \\frac{1}{\\mu_3}\\right) + \\frac{\\lambda^{2}\\left[\\left(\\frac{1}{\\mu_1^{2}} + \\frac{1}{\\mu_2^{2}} + \\frac{1}{\\mu_3^{2}}\\right) + \\left(\\frac{1}{\\mu_1} + \\frac{1}{\\mu_2} + \\frac{1}{\\mu_3}\\right)^{2}\\right]}{2\\left(1 - \\lambda\\left(\\frac{1}{\\mu_1} + \\frac{1}{\\mu_2} + \\frac{1}{\\mu_3}\\right)\\right)}.\n$$\n这就是在稳定性条件 $\\lambda\\left(\\frac{1}{\\mu_1} + \\frac{1}{\\mu_2} + \\frac{1}{\\mu_3}\\right)  1$ 下，系统中数据包的长期平均数量，包括正在服务的和等待的数据包。", "answer": "$$\\boxed{\\lambda\\left(\\frac{1}{\\mu_1}+\\frac{1}{\\mu_2}+\\frac{1}{\\mu_3}\\right)+\\frac{\\lambda^{2}\\left[\\left(\\frac{1}{\\mu_1^{2}}+\\frac{1}{\\mu_2^{2}}+\\frac{1}{\\mu_3^{2}}\\right)+\\left(\\frac{1}{\\mu_1}+\\frac{1}{\\mu_2}+\\frac{1}{\\mu_3}\\right)^{2}\\right]}{2\\left(1-\\lambda\\left(\\frac{1}{\\mu_1}+\\frac{1}{\\mu_2}+\\frac{1}{\\mu_3}\\right)\\right)}}$$", "id": "1343981"}]}