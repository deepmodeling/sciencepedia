{"hands_on_practices": [{"introduction": "单位分解的抽象定义可以通过具体的构造过程来掌握。这个练习 [@problem_id:1007409] 演示了在流形上构建单位分解最经典的方法：使用光滑的“隆起函数”。通过这个实践，你将亲手计算一个具体点上的单位分解函数值，从而加深对支撑集、局部有限性和归一化等核心概念的理解。", "problem": "在微分几何中，一个光滑流形 $M$ 上从属于一个开覆盖 $\\{U_\\alpha\\}_{\\alpha \\in A}$ 的单位分解是一个光滑函数族 $\\{\\psi_\\alpha: M \\to [0,1]\\}_{\\alpha \\in A}$，满足：\n1. 对于每个 $\\alpha \\in A$，$\\psi_\\alpha$ 的支集，记作 $\\text{supp}(\\psi_\\alpha)$，是一个包含在 $U_\\alpha$ 中的闭集。\n2. 支集族 $\\{\\text{supp}(\\psi_\\alpha)\\}_{\\alpha \\in A}$ 是局部有限的。\n3. 对于 $M$ 上的每一点 $p \\in M$，所有函数的和为1：$\\sum_{\\alpha \\in A} \\psi_\\alpha(p) = 1$。\n\n在 $M = \\mathbb{R}$ 上为给定的开覆盖构造这样一个单位分解的标准方法是基于一个光滑“隆起”函数。考虑流形 $\\mathbb{R}$，其开覆盖由所有整数 $n \\in \\mathbb{Z}$ 对应的开区间 $U_n = (n - \\frac{3}{2}, n + \\frac{3}{2})$ 构成的族给出。\n\n从属于此覆盖 $\\{U_n\\}_{n\\in\\mathbb{Z}}$ 的单位分解按如下方式构造：\n1.  从一个光滑隆起函数 $\\theta: \\mathbb{R} \\to \\mathbb{R}$ 开始，其定义为：\n    $$\n    \\theta(x) = \\begin{cases} \\exp\\left(-\\frac{1}{1-x^2}\\right)  \\text{if } |x|  1 \\\\ 0  \\text{if } |x| \\ge 1 \\end{cases}\n    $$\n    该函数的支集是闭区间 $[-1, 1]$。\n2.  对每个整数 $n \\in \\mathbb{Z}$，通过平移隆起函数 $\\theta(x)$ 来定义一个新函数 $\\theta_n(x)$：\n    $$\n    \\theta_n(x) = \\theta(x-n)\n    $$\n    $\\theta_n(x)$ 的支集是区间 $[n-1, n+1]$，它是 $U_n$ 的一个紧子集。\n3.  定义函数 $\\Theta(x)$ 为所有函数 $\\theta_n(x)$ 的和：\n    $$\n    \\Theta(x) = \\sum_{k \\in \\mathbb{Z}} \\theta_k(x)\n    $$\n    因为支集族 $\\{\\text{supp}(\\theta_n)\\}$ 是局部有限的，所以这个和是良定义的且光滑的。此外，对所有 $x \\in \\mathbb{R}$ 都有 $\\Theta(x)  0$。\n4.  最后，通过归一化函数 $\\theta_n(x)$ 来定义单位分解函数 $\\psi_n(x)$：\n    $$\n    \\psi_n(x) = \\frac{\\theta_n(x)}{\\Theta(x)}\n    $$\n\n你的任务是推导函数 $\\psi_0(x)$ 在特定点 $x = \\frac{1}{4}$ 处的精确值。", "solution": "对每个 $n\\in\\mathbb{Z}$，我们有\n$$\\theta_n(x)=\\theta(x-n),\\quad\\Theta(x)=\\sum_{k\\in\\mathbb{Z}}\\theta_k(x),\\quad\\psi_n(x)=\\frac{\\theta_n(x)}{\\Theta(x)}.$$\n\n在 $x=\\tfrac{1}{4}$ 处，只有满足 $|\\tfrac{1}{4}-k|1$ 的 $k$ 才会有贡献，即 $k=0,1$。\n\n因为 $|\\tfrac{1}{4}|1$，\n$$\\theta_0\\bigl(\\tfrac{1}{4}\\bigr)\n=\\exp\\!\\Bigl(-\\frac{1}{1-(\\tfrac{1}{4})^2}\\Bigr)\n=\\exp\\!\\Bigl(-\\frac{1}{1-\\frac{1}{16}}\\Bigr)\n=\\exp\\!\\Bigl(-\\frac{1}{\\frac{15}{16}}\\Bigr)\n=\\exp\\!\\Bigl(-\\frac{16}{15}\\Bigr).$$\n\n因为 $|\\tfrac{1}{4}-1|=|\\,-\\tfrac{3}{4}\\,|1$，\n$$\\theta_1\\bigl(\\tfrac{1}{4}\\bigr)\n=\\exp\\!\\Bigl(-\\frac{1}{1-(-\\tfrac{3}{4})^2}\\Bigr)\n=\\exp\\!\\Bigl(-\\frac{1}{1-\\frac{9}{16}}\\Bigr)\n=\\exp\\!\\Bigl(-\\frac{1}{\\frac{7}{16}}\\Bigr)\n=\\exp\\!\\Bigl(-\\frac{16}{7}\\Bigr).$$\n\n因此\n$$\\Theta\\bigl(\\tfrac{1}{4}\\bigr)\n=\\exp\\!\\Bigl(-\\frac{16}{15}\\Bigr)+\\exp\\!\\Bigl(-\\frac{16}{7}\\Bigr),$$\n并且\n$$\\psi_0\\bigl(\\tfrac{1}{4}\\bigr)\n=\\frac{\\exp(-\\frac{16}{15})}\n      {\\exp(-\\frac{16}{15})+\\exp(-\\frac{16}{7})}.$$", "answer": "$$\\boxed{\\frac{\\exp\\bigl(-\\tfrac{16}{15}\\bigr)}{\\exp\\bigl(-\\tfrac{16}{15}\\bigr)+\\exp\\bigl(-\\tfrac{16}{7}\\bigr)}}$$", "id": "1007409"}, {"introduction": "单位分解是“黏合”或“混合”局部几何结构以形成全局对象的强大工具。这个练习 [@problem_id:1007472] 将这一思想应用于一个核心的几何概念：黎曼度量。我们将使用单位分解来平滑地混合一个标准的欧几里得度量和一个各向异性的度量，从而创造出一个具有空间变化几何特性的新流形。你的任务是计算在这个混合几何中一条曲线的长度，这将抽象的构造与一个可测量的物理量直接联系起来。", "problem": "将二维欧几里得平面 $\\mathbb{R}^2$ 视为一个光滑流形。我们在此流形上定义两个不同的黎曼度量。第一个是标准的欧几里得度量，在笛卡尔坐标 $(x,y)$ 下由下式给出：\n$$g_E = dx^2 + dy^2$$\n第二个是常数各向异性度量，由下式给出：\n$$g_C = a^2 dx^2 + b^2 dy^2$$\n其中 $a$ 和 $b$ 是正常数，且 $a \\neq 1$。\n\n我们定义两个覆盖 $\\mathbb{R}^2$ 的交叠开集：\n$U_1 = \\{ p \\in \\mathbb{R}^2 \\mid \\rho(p)  R \\}$\n$U_2 = \\{ p \\in \\mathbb{R}^2 \\mid \\rho(p)  r \\}$\n其中 $\\rho(p) = \\sqrt{x^2+y^2}$ 是到原点的标准欧几里得距离，而 $0  r  R$ 是固定的半径。\n\n使用从属于开覆盖 $\\{U_1, U_2\\}$ 的单位分解 $\\{\\phi_1, \\phi_2\\}$，通过混合 $g_E$ 和 $g_C$ 在 $\\mathbb{R}^2$ 上构造一个新的混合黎曼度量 $g$：\n$$g = \\phi_1 g_E + \\phi_2 g_C$$\n函数 $\\phi_1, \\phi_2$ 是光滑、非负的，其支集分别在 $U_1$ 和 $U_2$ 中，并且在 $\\mathbb{R}^2$ 上处处满足 $\\phi_1 + \\phi_2 = 1$。\n\n函数 $\\phi_1$ 是径向对称的，即 $\\phi_1(x,y) = \\psi(\\rho(x,y))$。函数 $\\psi: [0, \\infty) \\to [0,1]$ 定义如下：\n- 对于 $\\rho \\le r$，$\\psi(\\rho) = 1$。\n- 对于 $\\rho \\ge R$，$\\psi(\\rho) = 0$。\n- 对于 $r  \\rho  R$，$\\psi(\\rho)$ 由以下表达式定义：\n$$ \\psi(\\rho) = \\frac{[H(\\rho)]^2 - a^2}{1 - a^2} $$\n其中 $H(\\rho)$ 是归一化径向坐标 $u = \\frac{\\rho-r}{R-r}$ 的一个多项式：\n$$ H(\\rho) = 2(1-a)u^3 + 3(a-1)u^2 + 1 $$\n这种构造确保了最终的度量 $g$ 是光滑的。\n\n您的任务是计算沿 x 轴从原点 $(0,0)$ 到点 $(L_0, 0)$ 的直线段的长度，其中 $L_0  R$。请用参数 $a, r, R,$ 和 $L_0$ 表示您的答案。", "solution": "沿 x 轴 ($y=0$) 的线元是\n$$ds^2 = g_{xx}\\,dx^2,\\qquad g = \\phi_1g_E+\\phi_2g_C\\;\\Rightarrow\\;g_{xx}=\\phi_1\\cdot1+\\phi_2\\cdot a^2.$$\n因为 $\\phi_1=\\psi(\\rho)$ 且 $\\phi_2=1-\\psi(\\rho)$，其中 $\\rho=|x|$，\n$$g_{xx}(x)=\\psi(x)+(1-\\psi(x))a^2.$$\n因此长度是\n$$L=\\int_0^{L_0}\\sqrt{g_{xx}(x)}\\,dx\n=\\int_0^{r}1\\,dx\n+\\int_r^{R}H(x)\\,dx\n+\\int_{R}^{L_0}a\\,dx,$$\n我们从\n$$\\psi=\\frac{H^2-a^2}{1-a^2}\n\\quad\\Longrightarrow\\quad\n\\psi+(1-\\psi)a^2=H^2$$\n可以验证 $H(x)=\\sqrt{g_{xx}}$。当\n$$u=\\frac{x-r}{R-r},\\quad H(x)=2(1-a)u^3+3(a-1)u^2+1,\\quad dx=(R-r)\\,du,$$\n我们得到\n$$\\int_r^R H(x)\\,dx=(R-r)\\int_0^1\\bigl[2(1-a)u^3+3(a-1)u^2+1\\bigr]du\n=(R-r)\\frac{1+a}{2}.$$\n因此\n$$L\n=r+\\frac{(R-r)(1+a)}{2}+a\\,(L_0-R)\n=aL_0+\\frac{(1-a)(r+R)}{2}.$$", "answer": "$$\\boxed{aL_0+\\frac{(1-a)(r+R)}{2}}$$", "id": "1007472"}, {"introduction": "单位分解也是一个探索微分几何基本法则的绝佳工具，它能帮助我们揭示一些微妙但至关重要的概念。这个练习 [@problem_id:1007439] 旨在纠正一个关于克氏符号的常见误解。通过尝试使用一个错误的、类似张量的公式来“平均”两个联络，你将发现其与正确定义的联络之间存在一个“误差”项。计算这个误差项将迫使你直面克氏符号的非张量性变换规律，从而深刻理解联络的本质。", "problem": "考虑一个二维光滑流形 $M$，它拓扑等价于 $\\mathbb{R}^2$。$M$ 的几何由平直欧几里得度规描述。我们使用两个不同的坐标卡来描述该流形的一个区域。\n\n第一个坐标卡使用标准笛卡尔坐标 $(x,y)$。第二个坐标卡使用一组双曲坐标 $(u,v)$，它们通过以下变换与笛卡尔坐标相关联：\n$$\nx = u \\cosh v\n$$\n$$\ny = u \\sinh v\n$$\n该坐标系在 $u0$ 时有效，这对应于区域 $x^2  y^2$ 和 $x0$。\n\n在 $M$ 上，我们考虑两个联络 $\\nabla_1$ 和 $\\nabla_2$。两者都是对应于平直度规的 Levi-Civita 联络。然而，它们自然地在不同的坐标系中表达：\n1.  $\\nabla_1$ 在笛卡尔坐标卡 $(x,y)$ 中描述。其 Christoffel 符号，记作 ${}^{(1)}\\Gamma^\\lambda_{\\mu\\nu}$，在这些坐标下全为零。\n2.  $\\nabla_2$ 在双曲坐标卡 $(u,v)$ 中描述。其 Christoffel 符号，记作 ${}^{(2)}\\Gamma^\\gamma_{\\alpha\\beta}$，在这些坐标下全为零。\n\n一名学生试图通过使用单位分解对 $\\nabla_1$ 和 $\\nabla_2$ 的分量进行平均，从而在坐标卡的交集上构造一个全局联络 $\\tilde{\\nabla}$。该单位分解由光滑函数 $\\psi_1(x,y) = 1 - \\frac{y^2}{x^2}$ 和 $\\psi_2(x,y) = \\frac{y^2}{x^2}$ 给出。\n\n该学生通过以下（不正确的）公式定义了 $\\tilde{\\nabla}$ 在笛卡尔 $(x,y)$ 坐标下的 Christoffel 符号：\n$$\n\\tilde{\\Gamma}^\\lambda_{\\mu\\nu}(x,y) = \\psi_1(x,y) {}^{(1)}\\Gamma^\\lambda_{\\mu\\nu}(x,y) + \\psi_2(x,y) \\left( \\frac{\\partial x^\\lambda}{\\partial y^\\gamma} \\frac{\\partial y^\\alpha}{\\partial x^\\mu} \\frac{\\partial y^\\beta}{\\partial x^\\nu} {}^{(2)}\\Gamma^\\gamma_{\\alpha\\beta}(u,v) \\right)\n$$\n其中 $(x^1,x^2)=(x,y)$ 且 $(y^1,y^2)=(u,v)$。这个过程是有缺陷的，因为它将 Christoffel 符号当作张量一样进行变换，忽略了变换法则中的仿射（非张量）部分。\n\n定义混合联络 $\\nabla = \\psi_1 \\nabla_1 + \\psi_2 \\nabla_2$ 的正确方法所得到的在 $(x,y)$ 坐标卡中的 Christoffel 符号 $\\Gamma^\\lambda_{\\mu\\nu}(x,y)$，是 $\\nabla_1$ 和 $\\nabla_2$ 的正确变换后的符号的加权平均。学生计算中的误差由差值 $\\Delta\\Gamma^\\lambda_{\\mu\\nu} = \\Gamma^\\lambda_{\\mu\\nu} - \\tilde{\\Gamma}^\\lambda_{\\mu\\nu}$ 给出。\n\n计算该误差项的分量 $\\Delta\\Gamma^x_{yy}$ 在笛卡尔坐标为 $(x,y)=(2,1)$ 的点 $P$ 处的数值。", "solution": "1. 学生的 Christoffel 符号为零：\n   $\\tilde\\Gamma^x_{yy}=0$。  \n   正确的联络为 \n   $$\\Gamma^x_{yy}=\\psi_2\\,{}^{(x)}\\Gamma^x_{yy},$$ \n   所以 \n   $$\\Delta\\Gamma^x_{yy}=\\psi_2\\,{}^{(x)}\\Gamma^x_{yy}.$$\n2. 由于 ${}^{(u,v)}\\Gamma^\\alpha_{\\beta\\gamma}=0$，在 $(x,y)$ 中的变换后的符号为\n   $${}^{(x)}\\Gamma^i_{jk}\n     =\\frac{\\partial x^i}{\\partial u^\\alpha}\\,\\frac{\\partial^2u^\\alpha}{\\partial x^j\\partial x^k}.$$\n   对于 $i=x$，$j=k=y$，\n   $${}^{(x)}\\Gamma^x_{yy}\n     =\\frac{\\partial x}{\\partial u}\\,u_{yy}\n     +\\frac{\\partial x}{\\partial v}\\,v_{yy}.$$\n3. 从 $x=u\\cosh v,\\ y=u\\sinh v$ 反解出 \n   $u=\\sqrt{x^2-y^2},\\ v=\\operatorname{arctanh}(y/x)$。计算\n   $$u_y=-\\frac y u,\\quad u_{yy}=-\\frac{x^2}{u^3},$$\n   $$v_y=\\frac{x}{x^2-y^2},\\quad v_{yy}=\\frac{2xy}{(x^2-y^2)^2}.$$\n   并且 \n   $$\\frac{\\partial x}{\\partial u}=\\cosh v,\\quad \\frac{\\partial x}{\\partial v}=u\\sinh v.$$\n4. 因此\n   $${}^{(x)}\\Gamma^x_{yy}\n     =\\cosh v\\Bigl(-\\frac{x^2}{u^3}\\Bigr)\n     +u\\sinh v\\Bigl(\\frac{2xy}{(x^2-y^2)^2}\\Bigr).$$\n5. 在点 $P:(x,y)=(2,1)$ 处，我们有 \n   $u=\\sqrt3,\\ \\tanh v=\\tfrac12\\implies\\cosh v=\\tfrac{2}{\\sqrt3},\\ \\sinh v=\\tfrac1{\\sqrt3}$。\n   因此\n   $${}^{(x)}\\Gamma^x_{yy}\n     =\\frac{2}{\\sqrt3}\\bigl(-\\frac{4}{3\\sqrt3}\\bigr)\n     +\\sqrt3\\frac1{\\sqrt3}\\frac{4}{9}\n     =-\\frac{8}{9}+\\frac{4}{9}=-\\frac{4}{9}.$$\n6. 最后 $\\psi_2=\\frac{y^2}{x^2}=\\frac14$，所以\n   $$\\Delta\\Gamma^x_{yy}\n     =\\psi_2\\,{}^{(x)}\\Gamma^x_{yy}\n     =\\frac14\\Bigl(-\\frac{4}{9}\\Bigr)\n     =-\\frac{1}{9}.$$", "answer": "$$\\boxed{-\\frac{1}{9}}$$", "id": "1007439"}]}