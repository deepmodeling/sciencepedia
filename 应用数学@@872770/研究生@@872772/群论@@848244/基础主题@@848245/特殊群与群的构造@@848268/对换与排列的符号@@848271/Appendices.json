{"hands_on_practices": [{"introduction": "置换符号的抽象概念在排序算法的分析中有着具体的应用。许多排序方法（如冒泡排序）通过重复交换相邻元素来工作，其中每次交换都是一个对换。这个练习 [@problem_id:835618] 邀请您分析一个排序算法的单次遍历，计算所执行的对换的确切数量，从而确定它所产生的总置换的符号。", "problem": "考虑整数集合 $S = \\{1, 2, \\dots, n\\}$，其中 $n \\ge 2$。这些整数的一个排列可以表示为一个序列 $A = (a_1, a_2, \\dots, a_n)$。给定初始序列 $A_0 = (2, 3, \\dots, n, 1)$。\n\n该序列通过鸡尾酒排序算法进行一次完整的遍历处理。一次完整的遍历定义为一次正向遍历，然后是一次反向遍历。\n1.  **正向遍历：** 算法从 $i=1$ 迭代到 $n-1$。在每一步中，它比较相邻的元素 $A[i]$ 和 $A[i+1]$。如果 $A[i] > A[i+1]$，则交换这两个元素。每次可能的交换后，序列都会更新。\n2.  **反向遍历：** 在正向遍历完成后，算法对得到的序列进行操作。它从 $i=n-1$ 向下迭代到 $1$。在每一步中，它比较相邻的元素 $A[i]$ 和 $A[i+1]$。如果 $A[i] > A[i+1]$，则交换这两个元素。\n\n每一次两个元素的交换对应于一个对换。由这次完整遍历引起的排列 $\\pi_n$ 是所有执行的对换的复合。一个排列的符号 $\\text{sgn}(\\pi_n)$ 定义为 $(-1)^k$，其中 $k$ 是用于构造该排列的对换（交换）次数。\n\n推导排列 $\\pi_n$ 的符号 $\\text{sgn}(\\pi_n)$，将其表示为 $n$ 的函数。", "solution": "我们将初始序列标记为\n$$A_0=(2,3,\\dots,n,1)\\,. $$\n**正向遍历：** 算法从 $i=1$ 迭代到 $n-1$。在每一步中，它比较相邻的元素 $A[i]$ 和 $A[i+1]$。如果 $A[i] > A[i+1]$，则交换这两个元素。\n**反向遍历：** 在正向遍历完成后，算法对得到的序列进行操作。它从 $i=n-1$ 向下迭代到 $1$。在每一步中，它比较相邻的元素 $A[i]$ 和 $A[i+1]$。如果 $A[i] > A[i+1]$，则交换这两个元素。\n\n**正向遍历（从 $i=1$ 到 $n-1$）：** 在此次遍历中，比较相邻元素时，只有当 $i=n-1$ 时才满足 $A[i] > A[i+1]$ 的条件（因为 $A[n-1]=n > A[n]=1$）。因此只发生一次交换，将 $n$ 移到末尾：\n$$A_{\\rm after\\;forward}=(2,3,\\dots,n-1,1,n)$$\n(1 次对换)。\n\n**反向遍历（从 $i=n-1$ 向下到 $1$）：** 在 $i=n-1$ 处没有交换。然后，对于 $i=n-2,n-3,\\dots,1$ 的每一步比较，都有 $A[i]>1$，所以每一步都将 1 向左交换一个位置。因此，共有 $n-2$ 次交换，得到：\n$$A_{\\rm sorted}=(1,2,\\dots,n)$$\n($n-2$ 次对换)。\n\n总对换次数为\n$$k=1+(n-2)=n-1.$$\n因此，该排列的符号为\n$$\\text{sgn}(\\pi_n)=(-1)^{k}=(-1)^{n-1}\\,. $$", "answer": "$$\\boxed{(-1)^{n-1}}$$", "id": "835618"}, {"introduction": "符号函数的一个基本性质是它是一个群同态，这意味着置换乘积的符号是它们各自符号的乘积。这个强大的工具使我们能够通过将一个复杂的置换分解成更简单的部分来确定其奇偶性。在这个练习 [@problem_id:835682] 中，您将计算一个由两种不同类型的置换复合而成的置换的符号，从而巩固您对这一核心原理的理解。", "problem": "**背景**\n\n对称群 $S_n$ 是集合 $\\{1, 2, \\dots, n\\}$ 上所有置换构成的群。一个置换可以分解为不相交轮换的乘积。对换是长度为 2 的轮换，记作 $(i, j)$，它交换元素 $i$ 和 $j$ 而保持所有其他元素不变。\n\n任何置换 $\\sigma \\in S_n$ 都可以表示为对换的乘积。置换 $\\sigma$ 的符号，记作 $\\text{sgn}(\\sigma)$，定义为：如果 $\\sigma$ 可以写成偶数个对换的乘积，则其符号为 $+1$；如果可以写成奇数个对换的乘积，则其符号为 $-1$。这种奇偶性是置换的一个不变量。\n\n符号函数是从 $S_n$ 到乘法群 $\\{+1, -1\\}$ 的一个同态，这意味着对于任意两个置换 $\\alpha, \\beta \\in S_n$，我们有 $\\text{sgn}(\\alpha \\beta) = \\text{sgn}(\\alpha)\\text{sgn}(\\beta)$。对于一个长度为 $l$ 的轮换，其符号由 $(-1)^{l-1}$ 给出。\n\n**问题**\n\n考虑对称群 $S_n$ 中的两个置换 $\\sigma_n$ 和 $\\pi_n$，其中整数 $n \\ge 2$。它们的定义如下：\n\n1.  $\\sigma_n$ 是由 $n-1$ 个对换的乘积给出的置换：\n    $$\n    \\sigma_n = (1, 2)(1, 3)\\cdots(1, n) = \\prod_{k=2}^{n} (1, k)\n    $$\n    注意，置换的复合是从右到左读取的，这意味着乘积中最右边的对换最先应用。\n\n2.  $\\pi_n$ 是将集合 $\\{1, 2, \\dots, n\\}$ 中元素顺序颠倒的置换：\n    $$\n    \\pi_n(i) = n+1-i \\quad \\text{for all } i \\in \\{1, 2, \\dots, n\\}\n    $$\n\n令置换 $\\rho_n$ 为乘积 $\\rho_n = \\sigma_n \\pi_n$。\n\n在 $n = 2023$ 的特定情况下，求出 $\\text{sgn}(\\rho_n)$ 的值。", "solution": "我们有\n$$\\rho_n=\\sigma_n\\pi_n$$\n且符号同态给出\n$$\\text{sgn}(\\rho_n)=\\text{sgn}(\\sigma_n)\\,\\text{sgn}(\\pi_n)\\,. $$\n\n1.  因为 $\\sigma_n$ 是 $n-1$ 个对换的乘积，\n$$\\text{sgn}(\\sigma_n)=(-1)^{\\,n-1}\\,. $$\n\n2.  逆序置换 $\\pi_n$ 可以写成 $\\lfloor n/2\\rfloor$ 个不相交对换 $(i,n+1-i)$ 的乘积，其中 $i=1,\\dots,\\lfloor n/2\\rfloor$，所以\n$$\\text{sgn}(\\pi_n)=(-1)^{\\,\\lfloor n/2\\rfloor}\\,. $$\n\n3.  因此\n$$\n\\text{sgn}(\\rho_n)\n=(-1)^{\\,n-1+\\lfloor n/2\\rfloor}\\,. \n$$\n\n4.  对于 $n=2023$，我们有 $\\lfloor2023/2\\rfloor=1011$，所以指数为\n$$2023-1+1011=2022+1011=3033$$\n这是一个奇数。因此\n$$\\text{sgn}(\\rho_{2023})=(-1)^{3033}=-1\\,. $$", "answer": "$$\\boxed{-1}$$", "id": "835682"}, {"introduction": "置换不仅限于一维列表；它们还可以描述更复杂结构（如二维网格）的对称性和重排。这个高级问题 [@problem_id:835775] 探讨了一个在 $m \\times n$ 网格上的置换，它由独立的行置换和列置换引起，其符号由其分量的符号决定。解决这个问题需要您在一个新颖的高维背景下，应用轮换分解和符号同态的知识。", "problem": "考虑一个 $m \\times n$ 的方格网格，其中每个方格的位置由一对整数 $(i, j)$ 索引，满足 $1 \\le i \\le m$ 和 $1 \\le j \\le n$。这 $mn$ 个方格的一个置换可以通过同时应用一个行置换 $\\sigma \\in S_m$ 和一个列置换 $\\tau \\in S_n$ 来构造。得到的置换记为 $\\pi \\in S_{mn}$，它将位置 $(i, j)$ 处的方格映射到新位置 $(\\sigma(i), \\tau(j))$。\n\n一个置换 $\\rho \\in S_k$ 的符号，记为 $\\text{sgn}(\\rho)$，是集合 $\\{+1, -1\\}$ 中的一个值。如果 $\\rho$ 可以表示为偶数个对换（2-循环）的复合，则其值为 $+1$；如果可以表示为奇数个对换的复合，则为 $-1$。一个长度为 $k$ 的单个循环的符号由 $(-1)^{k-1}$ 给出。不相交循环的乘积的符号是它们各自符号的乘积。\n\n设网格的维度为 $m$ 和 $n$。行置换 $\\sigma \\in S_m$ 由以下规则定义：\n$$\n\\sigma(i) = \\left( k_1(i-1) + c_1 \\pmod{m} \\right) + 1\n$$\n对于 $i \\in \\{1, 2, ..., m\\}$。\n\n列置换 $\\tau \\in S_n$ 由以下规则定义：\n$$\n\\tau(j) = \\left( k_2(j-1) + c_2 \\pmod{n} \\right) + 1\n$$\n对于 $j \\in \\{1, 2, ..., n\\}$。\n\n给定参数 $m=5$，$n=7$，$k_1=3$，$c_1=1$，$k_2=4$ 和 $c_2=2$，推导出 $\\text{sgn}(\\pi)$ 的值。", "solution": "1. 组合置换的符号为\n$$\\mathrm{sgn}(\\pi)=\\mathrm{sgn}(\\sigma)^n\\;\\mathrm{sgn}(\\tau)^m.$$\n2. 计算当 $m=5$，$ \\sigma(i)=(3(i-1)+1 \\pmod 5)+1$ 时的 $\\mathrm{sgn}(\\sigma)$。在以0为基准的形式下，$a\\mapsto b=(3a+1)\\bmod5$ 的循环为\n$$0\\to1\\to4\\to3\\to0\\quad(\\text{4-轮换}),\\quad2\\to2\\quad(\\text{1-轮换}).$$  \n因此\n$$\\mathrm{sgn}(\\sigma)=(-1)^{4-1}\\cdot(-1)^{1-1}=(-1)^3\\cdot1=-1.$$\n3. 计算当 $n=7$，$ \\tau(j)=(4(j-1)+2 \\pmod 7)+1$ 时的 $\\mathrm{sgn}(\\tau)$。在以0为基准的形式下，$a\\mapsto b=(4a+2)\\bmod7$ 的循环为\n$$0\\to2\\to3\\to0,\\quad1\\to6\\to5\\to1,\\quad4\\to4.$$  \n这是两个 3-轮换和一个 1-轮换，所以\n$$\\mathrm{sgn}(\\tau)=\\bigl((-1)^{3-1}\\bigr)^2\\cdot(-1)^{1-1}=1\\cdot1=1.$$\n4. 因此\n$$\\mathrm{sgn}(\\pi)=(-1)^7\\cdot1^5=-1.$$", "answer": "$$\\boxed{-1}$$", "id": "835775"}]}