{"hands_on_practices": [{"introduction": "任何随机过程的演变都可以被看作一个可预测的趋势部分和一个纯粹随机的、不可预测的波动部分的总和。Doob分解定理精确地描述了这一思想，它是现代随机分析的基石。本练习将引导你从最基本的定义出发，为一类离散时间过程推导出其唯一的Doob分解 [@problem_id:2973617]，从而加深对鞅和可料过程核心概念的理解。", "problem": "设 $(\\Omega,\\mathcal{F},(\\mathcal{F}_n)_{n\\geq 0},\\mathbb{P})$ 是一个带滤概率空间，并设 $(Y_k)_{k\\geq 1}$ 是一个 $(\\mathcal{F}_k)_{k\\geq 0}$-适应序列，使得对所有 $k\\geq 1$ 都有 $\\mathbb{E}[|Y_k|]  \\infty$。定义过程 $(X_n)_{n\\geq 0}$ 为 $X_0=0$ 且\n$$\nX_n=\\sum_{k=1}^n Y_k,\\quad n\\geq 1.\n$$\n仅从适应性、条件期望、鞅、下鞅、可料过程以及条件期望的塔性质的定义出发，推导 $(X_n)$ 的离散时间 Doob 分解为一个和式\n$$\nX_n=M_n+A_n,\n$$\n其中 $(M_n)$ 是一个鞅且 $M_0=0$，$(A_n)$ 是可料过程且 $A_0=0$。证明此分解的唯一性。\n\n然后，确定关于 $(Y_k)$ 的充分必要条件，使得 $(X_n)$ 是一个下鞅且 $(A_n)$ 是递增的。在同样的情境下，用条件期望明确地表示出可料部分。\n\n将你的最终答案表示为 $A_n$ 关于 $(Y_k)$ 和 $(\\mathcal{F}_n)_{n\\geq 0}$ 的显式公式。最终答案中不要包含任何额外的评论。不需要四舍五入，也不涉及物理单位。", "solution": "该问题要求对一个特定结构的适应过程 $(X_n)_{n\\geq 0}$ 推导并证明其唯一的 Doob 分解，并分析其成为下鞅的条件。\n\n设给定的带滤概率空间为 $(\\Omega,\\mathcal{F},(\\mathcal{F}_n)_{n\\geq 0},\\mathbb{P})$。设 $(Y_k)_{k\\geq 1}$ 是一个随机变量序列，适应于滤子 $(\\mathcal{F}_k)_{k\\geq 0}$，意味着对每个 $k \\geq 1$，$Y_k$ 是 $\\mathcal{F}_k$-可测的。题目也给定了对所有 $k\\geq 1$，$\\mathbb{E}[|Y_k|]  \\infty$。过程 $(X_n)_{n\\geq 0}$ 定义为 $X_0=0$ 且对 $n\\geq 1$，$X_n=\\sum_{k=1}^n Y_k$。\n过程 $(X_n)_{n\\geq 0}$ 适应于 $(\\mathcal{F}_n)_{n\\geq 0}$，因为对任意 $n\\geq 1$，$X_n$ 是随机变量 $Y_k$ 的和，其中每个 $Y_k$ 是 $\\mathcal{F}_k$-可测的。由于滤子是递增的，即对 $k \\leq n$ 有 $\\mathcal{F}_k \\subseteq \\mathcal{F}_n$，因此每个 $Y_k$ ($k \\leq n$) 也是 $\\mathcal{F}_n$-可测的。所以，它们的和 $X_n$ 是 $\\mathcal{F}_n$-可测的。$X_0=0$ 是一个常数，因此是 $\\mathcal{F}_0$-可测的。\n该过程也是可积的，因为 $\\mathbb{E}[|X_n|] = \\mathbb{E}[|\\sum_{k=1}^n Y_k|] \\leq \\sum_{k=1}^n \\mathbb{E}[|Y_k|]  \\infty$。\n\n**第1部分：Doob 分解的推导**\n\n我们寻求一个分解 $X_n = M_n + A_n$，其中 $(M_n)_{n\\geq 0}$ 是一个鞅且 $M_0=0$，而 $(A_n)_{n\\geq 0}$ 是一个可料过程且 $A_0=0$。\n一个过程 $(A_n)_{n\\geq 0}$ 是可料的，如果 $A_0$ 是一个常数且对所有 $n \\geq 1$，$A_n$ 是 $\\mathcal{F}_{n-1}$-可测的。\n一个过程 $(M_n)_{n\\geq 0}$ 是鞅，如果它是适应的、可积的，并且对所有 $n \\geq 1$ 满足 $\\mathbb{E}[M_n|\\mathcal{F}_{n-1}] = M_{n-1}$。\n\n让我们考虑过程从时间 $n-1$ 到 $n$ 的变化：\n$X_n - X_{n-1} = (M_n - M_{n-1}) + (A_n - A_{n-1})$。\n对 $n\\geq 1$，我们有 $X_n - X_{n-1} = Y_n$。\n所以，$Y_n = (M_n - M_{n-1}) + (A_n - A_{n-1})$。\n\n让我们对 $\\mathcal{F}_{n-1}$ 取条件期望：\n$\\mathbb{E}[Y_n|\\mathcal{F}_{n-1}] = \\mathbb{E}[M_n - M_{n-1}|\\mathcal{F}_{n-1}] + \\mathbb{E}[A_n - A_{n-1}|\\mathcal{F}_{n-1}]$。\n要使 $(M_n)$ 成为一个鞅，我们必须有 $\\mathbb{E}[M_n|\\mathcal{F}_{n-1}]=M_{n-1}$，这意味着 $\\mathbb{E}[M_n-M_{n-1}|\\mathcal{F}_{n-1}] = 0$。\n要使 $(A_n)$ 是可料的，对 $n \\geq 1$，$A_n$ 必须是 $\\mathcal{F}_{n-1}$-可测的。因此，$A_{n-1}$ 是 $\\mathcal{F}_{n-2}$-可测的，从而也是 $\\mathcal{F}_{n-1}$-可测的。因此，增量 $A_n - A_{n-1}$ 必须是 $\\mathcal{F}_{n-1}$-可测的。这意味着 $\\mathbb{E}[A_n-A_{n-1}|\\mathcal{F}_{n-1}] = A_n-A_{n-1}$。\n\n将这些性质代入条件期望方程得到：\n$\\mathbb{E}[Y_n|\\mathcal{F}_{n-1}] = 0 + (A_n - A_{n-1})$。\n这为可料过程 $(A_n)$ 的增量提供了一个自然的定义。\n让我们如下定义 $(A_n)_{n\\geq 0}$：\n$A_0 = 0$。\n对 $n \\geq 1$，令 $A_n - A_{n-1} = \\mathbb{E}[Y_n|\\mathcal{F}_{n-1}]$。\n将此式从 $k=1$ 到 $n$ 求和，我们得到 $A_n$ 的显式公式：\n$A_n = A_0 + \\sum_{k=1}^n (A_k - A_{k-1}) = \\sum_{k=1}^n \\mathbb{E}[Y_k|\\mathcal{F}_{k-1}]$。\n\n现在，我们来验证这个提议的 $(A_n)$ 确实是可料的。$A_0=0$ 是一个常数。对 $n \\geq 1$，$A_n = \\sum_{k=1}^n \\mathbb{E}[Y_k|\\mathcal{F}_{k-1}]$。根据定义，$\\mathbb{E}[Y_k|\\mathcal{F}_{k-1}]$ 是一个 $\\mathcal{F}_{k-1}$-可测的随机变量。由于滤子是递增的，对任意 $k \\leq n$，$\\mathcal{F}_{k-1} \\subseteq \\mathcal{F}_{n-1}$。因此，每一项 $\\mathbb{E}[Y_k|\\mathcal{F}_{k-1}]$ 都是 $\\mathcal{F}_{n-1}$-可测的。$\\mathcal{F}_{n-1}$-可测的随机变量之和也是 $\\mathcal{F}_{n-1}$-可测的。因此，$A_n$ 是 $\\mathcal{F}_{n-1}$-可测的，$(A_n)$ 是一个可料过程。\n\n接下来，我们通过 $M_n = X_n - A_n$ 定义 $(M_n)_{n\\geq 0}$。\n我们必须验证 $(M_n)$ 是一个鞅且 $M_0=0$。\n$M_0 = X_0 - A_0 = 0 - 0 = 0$。\n要使 $(M_n)$ 成为一个鞅，它必须是适应的、可积的，并满足鞅性质。\n1.  **适应性**：$X_n$ 是 $\\mathcal{F}_n$-可测的。$A_n$ 是 $\\mathcal{F}_{n-1}$-可测的，所以它也是 $\\mathcal{F}_n$-可测的。因此，$M_n = X_n - A_n$ 是 $\\mathcal{F}_n$-可测的。$(M_n)$ 是适应的。\n2.  **可积性**：我们有 $\\mathbb{E}[|X_n|]  \\infty$。使用条件期望的 Jensen 不等式，$\\mathbb{E}[|A_n|] \\leq \\sum_{k=1}^n \\mathbb{E}[|\\mathbb{E}[Y_k|\\mathcal{F}_{k-1}]|] \\leq \\sum_{k=1}^n \\mathbb{E}[\\mathbb{E}[|Y_k||\\mathcal{F}_{k-1}]]$。根据塔性质，这是 $\\sum_{k=1}^n \\mathbb{E}[|Y_k|]  \\infty$。因为 $\\mathbb{E}[|M_n|] \\leq \\mathbb{E}[|X_n|] + \\mathbb{E}[|A_n|]$，所以 $(M_n)$ 是可积的。\n3.  **鞅性质**：对 $n \\geq 1$，我们检查是否 $\\mathbb{E}[M_n|\\mathcal{F}_{n-1}] = M_{n-1}$。\n    $\\mathbb{E}[M_n|\\mathcal{F}_{n-1}] = \\mathbb{E}[X_n - A_n | \\mathcal{F}_{n-1}]$。\n    使用 $X_n = X_{n-1} + Y_n$：\n    $\\mathbb{E}[X_{n-1} + Y_n - A_n | \\mathcal{F}_{n-1}]$。\n    由于 $X_{n-1}$ 是 $\\mathcal{F}_{n-1}$-可测的且 $A_n$ 是 $\\mathcal{F}_{n-1}$-可测的（根据可料性），我们可以将它们从条件期望中取出：\n    $\\mathbb{E}[M_n|\\mathcal{F}_{n-1}] = X_{n-1} + \\mathbb{E}[Y_n|\\mathcal{F}_{n-1}] - A_n$。\n    根据我们对 $A_n$ 的构造，我们有 $\\mathbb{E}[Y_n|\\mathcal{F}_{n-1}] = A_n - A_{n-1}$。将此代入方程：\n    $\\mathbb{E}[M_n|\\mathcal{F}_{n-1}] = X_{n-1} + (A_n - A_{n-1}) - A_n = X_{n-1} - A_{n-1}$。\n    根据定义，$M_{n-1} = X_{n-1} - A_{n-1}$。\n    因此，$\\mathbb{E}[M_n|\\mathcal{F}_{n-1}] = M_{n-1}$。鞅性质成立。\n这就完成了 Doob 分解的推导。\n\n**第2部分：分解的唯一性**\n\n假设存在另一个分解 $X_n = M'_n + A'_n$，其中 $(M'_n)$ 是一个鞅且 $M'_0=0$，而 $(A'_n)$ 是一个可料过程且 $A'_0=0$。\n那么我们有 $M_n + A_n = M'_n + A'_n$，这意味着 $M_n - M'_n = A'_n - A_n$。\n令 $D_n = M_n - M'_n$。作为两个鞅的差，$(D_n)$ 也是一个鞅，且 $D_0=M_0-M'_0=0-0=0$。\n令 $P_n = A'_n - A_n$。作为两个可料过程的差，$(P_n)$ 也是一个可料过程，且 $P_0=A'_0-A_0=0-0=0$。\n我们有对所有 $n \\geq 0$ 都有 $D_n=P_n$。这意味着 $(D_n)$ 是一个同时是鞅和可料的过程。\n根据鞅性质，对 $n \\geq 1$：$D_{n-1} = \\mathbb{E}[D_n|\\mathcal{F}_{n-1}]$。\n根据可料性质，对 $n \\geq 1$：$D_n$ 是 $\\mathcal{F}_{n-1}$-可测的。这意味着 $\\mathbb{E}[D_n|\\mathcal{F}_{n-1}] = D_n$。\n结合这两个方程得到对所有 $n \\geq 1$，$D_n = D_{n-1}$。\n通过归纳法，$D_n=D_{n-1}=...=D_0$。由于 $D_0=0$，我们必须有对所有 $n \\geq 0$，$D_n=0$。\n$D_n=0$ 意味着 $M_n - M'_n = 0$，所以 $M_n=M'_n$。\n$P_n=0$ 意味着 $A'_n - A_n = 0$，所以 $A'_n=A_n$。\n该分解是唯一的。\n\n**第3部分：下鞅和递增可料部分的条件**\n\n一个过程 $(Z_n)$ 是下鞅，如果它是适应的、可积的，并且对所有 $n \\geq 1$ 满足 $\\mathbb{E}[Z_n|\\mathcal{F}_{n-1}] \\geq Z_{n-1}$。\n让我们将这个条件应用于我们的过程 $(X_n)$：\n我们需要对 $n \\geq 1$ 有 $\\mathbb{E}[X_n|\\mathcal{F}_{n-1}] \\geq X_{n-1}$。\n由于 $X_n = X_{n-1} + Y_n$ 且 $X_{n-1}$ 是 $\\mathcal{F}_{n-1}$-可测的：\n$\\mathbb{E}[X_{n-1} + Y_n|\\mathcal{F}_{n-1}] \\geq X_{n-1}$\n$X_{n-1} + \\mathbb{E}[Y_n|\\mathcal{F}_{n-1}] \\geq X_{n-1}$\n$\\mathbb{E}[Y_n|\\mathcal{F}_{n-1}] \\geq 0$。\n这个不等式必须对所有 $n\\geq 1$ 几乎必然成立。这是 $(X_n)$ 成为下鞅的充分必要条件。\n\n现在考虑 $(A_n)$ 是一个递增过程的条件。这意味着对所有 $n \\geq 1$，$A_n \\geq A_{n-1}$ 几乎必然成立。\n从我们的推导可知，$A_n-A_{n-1} = \\mathbb{E}[Y_n|\\mathcal{F}_{n-1}]$。\n所以，$A_n \\geq A_{n-1}$ 的条件等价于 $\\mathbb{E}[Y_n|\\mathcal{F}_{n-1}] \\geq 0$。\n这恰好与 $(X_n)$ 是下鞅的条件相同。\n因此，$(X_n)$ 是下鞅以及其可料部分 $(A_n)$ 是递增的充分必要条件是相同的：对所有 $n \\geq 1$ 有 $\\mathbb{E}[Y_n|\\mathcal{F}_{n-1}] \\geq 0$。\n\n在这种情况下，可料部分 $(A_n)$ 由第1部分中推导的公式明确给出。这个公式是通用的，不依赖于下鞅性质，但在此性质下，$A_n$ 的每个增量都是非负的，从而证实了它是一个递增过程。$A_n$ 的显式公式是：\n$A_n = \\sum_{k=1}^n \\mathbb{E}[Y_k|\\mathcal{F}_{k-1}]$ 对于 $n \\geq 1$，且 $A_0=0$。", "answer": "$$\n\\boxed{A_n = \\sum_{k=1}^n \\mathbb{E}[Y_k|\\mathcal{F}_{k-1}]}\n$$", "id": "2973617"}, {"introduction": "从离散时间过渡到连续时间，Doob分解定理演变为Doob-Meyer分解定理，而伊藤引理（Itô's lemma）则成为我们识别其中鞅部分和可料部分的强大分析工具。本练习将通过分析随机过程理论中一个著名的例子——几何布朗运动，来展示如何运用伊藤引理进行Doob-Meyer分解 [@problem_id:2973590]。你将发现，该过程的可料部分（或称补偿子）为零，这直接证明了它是一个纯粹的鞅。", "problem": "设 $(\\Omega,\\mathcal{F},(\\mathcal{F}_t)_{t\\ge 0},\\mathbb{P})$ 是一个满足通常条件且其上定义了一个标准一维布朗运动 $B=(B_t)_{t\\ge 0}$ 的带流概率空间。固定 $\\theta\\in\\mathbb{R}$ 并定义过程 $X=(X_t)_{t\\ge 0}$ 如下：\n$$\nX_t \\equiv \\exp\\!\\big(\\theta B_t - \\tfrac{1}{2}\\theta^2 t\\big), \\qquad t\\ge 0.\n$$\n使用 $B_t$ 的自然 filtration。仅从伊藤积分 (Itô calculus) 和 Doob–Meyer 分解的基本定义和事实（即每个可积下鞅都允许唯一地分解为一个鞅加上一个可料有限变差过程）出发，完成以下任务：\n\n1. 通过计算 $X_t$ 的随机微分来推导其半鞅分解，然后确定 Doob–Meyer 分解 $X_t = X_0 + M_t + A_t$，其中 $M_t$ 是一个始于 0 的 $(\\mathcal{F}_t)$-鞅，$A_t$ 是一个 $A_0=0$ 的可料有限变差过程。\n\n2. 仅利用 $B_t$ 的高斯分布律和指数函数的基本性质，通过显式计算 $\\mathbb{E}[X_t]$ 来证明 $X_t$ 是一个真鞅。从 Doob–Meyer 定理得出结论：补偿过程是唯一确定的。\n\n3. 为与鞅变换建立联系，设 $H=(H_t)_{t\\ge 0}$ 是一个有界的 $(\\mathcal{F}_t)$-可料过程，并定义 $Y_t \\equiv \\int_0^t H_s\\,\\mathrm{d}X_s$。仅使用关于连续鞅的随机积分的基本定义和第 1 部分的结果，论证 $Y_t$ 是一个 $(\\mathcal{F}_t)$-鞅。\n\n你的最终答案必须是 $X_t$ 的 Doob–Meyer 分解中补偿过程 $A_t$ 作为 $t$ 和 $\\theta$ 的函数的单个显式解析表达式。不涉及单位。如果你的最终解析表达式可简化为一个常数，请以其最简精确形式给出。", "solution": "所述问题是有效的。在随机分析已建立的数学框架内，这是一个适定的、客观的、有科学依据的练习。所有术语都是标准的，要求的任务清晰且可以使用基本原理解答。\n\n我们按顺序处理这三个任务来给出解答。所讨论的过程为 $X_t = \\exp(\\theta B_t - \\frac{1}{2}\\theta^2 t)$，其中 $\\theta \\in \\mathbb{R}$ 是一个常数， $B_t$ 是一个始于 $B_0=0$ 的标准一维布朗运动。Filtration $(\\mathcal{F}_t)_{t \\ge 0}$ 是由 $B_t$ 生成的自然 filtration。在时间 $t=0$ 时，我们有 $X_0 = \\exp(\\theta B_0 - 0) = \\exp(0) = 1$。\n\n1. 为求 $X_t$ 的半鞅分解，我们应用伊藤引理 (Itô's lemma)。设 $f(t, x) = \\exp(\\theta x - \\frac{1}{2}\\theta^2 t)$。则 $X_t = f(t, B_t)$。我们需要 $f(t,x)$ 的偏导数：\n$$\n\\frac{\\partial f}{\\partial t}(t,x) = -\\frac{1}{2}\\theta^2 \\exp\\big(\\theta x - \\tfrac{1}{2}\\theta^2 t\\big) = -\\frac{1}{2}\\theta^2 f(t,x)\n$$\n$$\n\\frac{\\partial f}{\\partial x}(t,x) = \\theta \\exp\\big(\\theta x - \\tfrac{1}{2}\\theta^2 t\\big) = \\theta f(t,x)\n$$\n$$\n\\frac{\\partial^2 f}{\\partial x^2}(t,x) = \\theta^2 \\exp\\big(\\theta x - \\tfrac{1}{2}\\theta^2 t\\big) = \\theta^2 f(t,x)\n$$\n对于过程 $f(t, B_t)$ 的伊藤公式 (Itô's formula) 表明：\n$$\n\\mathrm{d}f(t, B_t) = \\frac{\\partial f}{\\partial t}(t, B_t) \\mathrm{d}t + \\frac{\\partial f}{\\partial x}(t, B_t) \\mathrm{d}B_t + \\frac{1}{2}\\frac{\\partial^2 f}{\\partial x^2}(t, B_t)(\\mathrm{d}B_t)^2\n$$\n代入我们的导数，并使用布朗运动的二次变差 $(\\mathrm{d}B_t)^2 = \\mathrm{d}t$，再将 $f(t, B_t)$ 替换为 $X_t$，我们得到 $X_t$ 的随机微分：\n$$\n\\mathrm{d}X_t = \\left(-\\frac{1}{2}\\theta^2 X_t\\right) \\mathrm{d}t + (\\theta X_t) \\mathrm{d}B_t + \\frac{1}{2}(\\theta^2 X_t) \\mathrm{d}t\n$$\n涉及 $\\mathrm{d}t$ 的项相互抵消：\n$$\n\\mathrm{d}X_t = \\left(-\\frac{1}{2}\\theta^2 X_t + \\frac{1}{2}\\theta^2 X_t\\right) \\mathrm{d}t + \\theta X_t \\mathrm{d}B_t = \\theta X_t \\mathrm{d}B_t\n$$\n这是 $X_t$ 的随机微分。其积分形式为：\n$$\nX_t - X_0 = \\int_0^t \\theta X_s \\mathrm{d}B_s\n$$\n题目要求 Doob–Meyer 分解 $X_t = X_0 + M_t + A_t$。与我们的结果比较，我们可以确定：\n$$\nM_t = \\int_0^t \\theta X_s \\mathrm{d}B_s\n$$\n以及\n$$\nA_t = 0\n$$\n过程 $M_t$ 是一个关于布朗运动的随机积分。由于被积函数 $\\theta X_s$ 是一个 $(\\mathcal{F}_t)$-适应过程，故 $M_t$ 是一个 $M_0 = 0$ 的连续局部鞅。过程 $A_t=0$ 显然是一个 $A_0=0$ 的有限（零）变差的可料过程。因此，我们找到了所要求的分解。补偿过程是 $A_t$。\n\n2. 为证明 $X_t$ 是一个真鞅，我们将计算其期望 $\\mathbb{E}[X_t]$。由于 $X_t  0$，证明 $\\mathbb{E}[X_t] = 1$ (其初始值) 足以将局部鞅性质提升为真鞅性质。\n$$\n\\mathbb{E}[X_t] = \\mathbb{E}\\left[\\exp\\big(\\theta B_t - \\tfrac{1}{2}\\theta^2 t\\big)\\right]\n$$\n$\\exp(-\\frac{1}{2}\\theta^2 t)$ 这一项是确定性的，可以从期望中提出：\n$$\n\\mathbb{E}[X_t] = \\exp\\big(-\\tfrac{1}{2}\\theta^2 t\\big) \\mathbb{E}\\left[\\exp(\\theta B_t)\\right]\n$$\n对于标准布朗运动，$B_t$ 是一个均值为 0、方差为 $t$ 的正态分布随机变量，即 $B_t \\sim \\mathcal{N}(0, t)$。期望 $\\mathbb{E}[\\exp(\\theta B_t)]$ 是 $B_t$ 的矩母函数在 $\\theta$ 处的值。一个随机变量 $Y \\sim \\mathcal{N}(\\mu, \\sigma^2)$ 的矩母函数是 $M_Y(k) = \\exp(k\\mu + \\frac{1}{2}k^2\\sigma^2)$。对于 $B_t$，我们有 $\\mu=0$ 和 $\\sigma^2=t$，所以其矩母函数是 $M_{B_t}(k) = \\exp(\\frac{1}{2}k^2 t)$。在 $k=\\theta$ 处取值，我们得到：\n$$\n\\mathbb{E}[\\exp(\\theta B_t)] = \\exp\\big(\\tfrac{1}{2}\\theta^2 t\\big)\n$$\n将此代回 $\\mathbb{E}[X_t]$ 的表达式中：\n$$\n\\mathbb{E}[X_t] = \\exp\\big(-\\tfrac{1}{2}\\theta^2 t\\big) \\cdot \\exp\\big(\\tfrac{1}{2}\\theta^2 t\\big) = \\exp(0) = 1\n$$\n由于 $X_t$ 是一个正局部鞅（来自第 1 部分），且其期望为常数并等于其初始值 $X_0=1$，所以 $X_t$ 是一个真鞅。\nDoob–Meyer 定理指出，一个可积下鞅允许唯一地分解为一个鞅和一个可料增过程（补偿过程）。由于 $X_t  0$，它是一个下鞅。既然我们刚证明了它实际上是一个真鞅，它的分解就是 $X_t = X_t + 0$。为了与形式 $X_t = X_0 + M_t + A_t$ 保持一致，我们写作 $X_t - X_0 = (X_t - X_0) + 0$，这意味着 $M_t = X_t - X_0$ 且 $A_t=0$。该定理的唯一性部分保证了这是唯一的此类分解，因此唯一地确定了补偿过程为 $A_t=0$，这与我们在第 1 部分中的发现一致。\n\n3. 给定一个有界的 $(\\mathcal{F}_t)$-可料过程 $H=(H_t)_{t\\ge 0}$，我们定义 $Y_t = \\int_0^t H_s\\,\\mathrm{d}X_s$。我们必须论证 $Y_t$ 是一个鞅。\n从第 1 部分，我们有随机微分 $\\mathrm{d}X_t = \\theta X_t \\mathrm{d}B_t$。将其代入 $Y_t$ 的定义中：\n$$\nY_t = \\int_0^t H_s (\\theta X_s \\mathrm{d}B_s) = \\int_0^t (\\theta H_s X_s) \\mathrm{d}B_s\n$$\n这将 $Y_t$ 表示为关于布朗运动的随机积分。设被积过程为 $K_s = \\theta H_s X_s$。要使伊藤积分 $Y_t = \\int_0^t K_s \\mathrm{d}B_s$ 成为一个鞅，过程 $K_s$ 必须是适应的，并且对所有 $t \\ge 0$ 满足条件 $\\mathbb{E}[\\int_0^t K_s^2 \\mathrm{d}s]  \\infty$。\n过程 $H_s$ 是可料的，因此是适应的。过程 $X_s$ 是适应的，因为它依赖于 $B_s$。它们的乘积 $K_s = \\theta H_s X_s$ 因此也是适应的。\n现在我们检查可积性条件。假设 $H$ 被一个常数 $C0$ 所界定，即对所有 $s$ 和 $\\omega$，有 $|H_s(\\omega)| \\le C$。\n$$\n\\mathbb{E}\\left[\\int_0^t K_s^2 \\mathrm{d}s\\right] = \\mathbb{E}\\left[\\int_0^t (\\theta H_s X_s)^2 \\mathrm{d}s\\right] = \\mathbb{E}\\left[\\int_0^t \\theta^2 H_s^2 X_s^2 \\mathrm{d}s\\right]\n$$\n使用 Tonelli 定理（因为被积函数非负）和 $H_s$ 的界：\n$$\n\\mathbb{E}\\left[\\int_0^t K_s^2 \\mathrm{d}s\\right] = \\int_0^t \\theta^2 \\mathbb{E}[H_s^2 X_s^2] \\mathrm{d}s \\le \\int_0^t \\theta^2 C^2 \\mathbb{E}[X_s^2] \\mathrm{d}s = \\theta^2 C^2 \\int_0^t \\mathbb{E}[X_s^2] \\mathrm{d}s\n$$\n我们计算 $\\mathbb{E}[X_s^2]$：\n$$\n\\mathbb{E}[X_s^2] = \\mathbb{E}\\left[\\left(\\exp(\\theta B_s - \\tfrac{1}{2}\\theta^2 s)\\right)^2\\right] = \\mathbb{E}\\left[\\exp(2\\theta B_s - \\theta^2 s)\\right] = \\exp(-\\theta^2 s) \\mathbb{E}[\\exp(2\\theta B_s)]\n$$\n使用 $B_s \\sim \\mathcal{N}(0, s)$ 的矩母函数在 $2\\theta$ 处的值：\n$$\n\\mathbb{E}[\\exp(2\\theta B_s)] = \\exp\\left(\\frac{1}{2}(2\\theta)^2 s\\right) = \\exp(2\\theta^2 s)\n$$\n因此，\n$$\n\\mathbb{E}[X_s^2] = \\exp(-\\theta^2 s) \\exp(2\\theta^2 s) = \\exp(\\theta^2 s)\n$$\n将此代回积分中，假设 $\\theta \\ne 0$：\n$$\n\\mathbb{E}\\left[\\int_0^t K_s^2 \\mathrm{d}s\\right] \\le \\theta^2 C^2 \\int_0^t \\exp(\\theta^2 s) \\mathrm{d}s = \\theta^2 C^2 \\left[ \\frac{1}{\\theta^2}\\exp(\\theta^2 s) \\right]_0^t = C^2 (\\exp(\\theta^2 t) - 1)\n$$\n如果 $\\theta=0$，那么 $X_t=1$，$\\mathrm{d}X_t=0$，且 $Y_t=0$，这显然是一个鞅。在这种情况下，不等式成立，因为 $0 \\le 0$。对于任何 $\\theta \\in \\mathbb{R}$ 和有限的 $t$，值 $C^2 (\\exp(\\theta^2 t) - 1)$ 是有限的。\n由于被积过程 $K_s$ 是适应的且满足 $\\mathbb{E}[\\int_0^t K_s^2 \\mathrm{d}s]  \\infty$，随机积分 $Y_t = \\int_0^t K_s \\mathrm{d}B_s$ 是一个平方可积鞅，因此是一个鞅。按题目要求，这依赖于伊藤积分的基本定义和性质。\n\n所要求的最终答案是 $X_t$ 的 Doob–Meyer 分解中补偿过程 $A_t$ 的显式解析表达式。正如在第 1 部分中确定并在第 2 部分中确认的，这是 $A_t=0$。", "answer": "$$\n\\boxed{0}\n$$", "id": "2973590"}, {"introduction": "理解了Doob分解之后，一个自然的问题是：我们如何利用这个结构来构建或调控新的过程？鞅变换（Martingale Transform）为此提供了答案，它在金融数学中模拟了动态交易策略的收益。本练习设置了一个直观的交易场景，要求你设计一个特定的交易策略，使得最终的收益过程成为一个“公平游戏”，即鞅 [@problem_id:1324733]。通过解决这个问题，你将体会到补偿子（compensator）作为可预测“漂移”的深刻含义，以及如何通过鞅变换来主动地消除这种漂移。", "problem": "在一个简化的离散时间金融模型中，所有过程都适应于一个滤子 $(\\mathcal{F}_n)_{n \\ge 0}$，其中 $\\mathcal{F}_n$ 代表直到时间 $n$ 可用的信息。如果一个过程 $H_n$ 对于每个 $n \\ge 1$ 都是关于 $\\mathcal{F}_{n-1}$ 可测的，那么它被称为可预测过程。\n\n设 $S_n$ 是一个从 $S_0=0$ 开始的简单对称随机游走，由满足 $P(\\xi_k=1) = P(\\xi_k=-1) = 1/2$ 的独立同分布 (i.i.d.) 步长 $\\xi_k$ 生成。其中的滤子是由该游走生成的自然滤子，$\\mathcal{F}_n = \\sigma(S_1, \\dots, S_n)$。\n\n一项资产的价格由一个过程 $X_n$ 描述，已知该过程是一个下鞅。下鞅是一个满足 $E[X_n | \\mathcal{F}_{n-1}] \\ge X_{n-1}$ 的过程。任何下鞅都有唯一的 Doob 分解 $X_n = X_0 + M_n + A_n$，其中 $M_n$ 是一个鞅（满足 $E[M_n | \\mathcal{F}_{n-1}] = M_{n-1}$），$A_n$ 是一个非减的可预测过程，称为补偿过程，且 $M_0=A_0=0$。补偿过程的增量 $\\Delta A_n = A_n - A_{n-1}$ 量化了下鞅的“漂移”，因为 $E[X_n - X_{n-1} | \\mathcal{F}_{n-1}] = \\Delta A_n$。对于我们模型中的资产 $X_n$，其补偿过程由增量 $\\Delta A_n = \\lambda(S_{n-1}^2 - 81)^2$ 刻画，其中 $\\lambda$ 是一个固定的正常数。\n\n一位交易者采用一个由非负过程 $H_n$ 表示的可预测策略，该策略指定了在时间区间 $(n-1, n]$ 内持有的资产单位数量。直到时间 $N$ 为止，该策略的总收益由鞅变换（随机积分）$(H \\cdot X)_N = \\sum_{n=1}^N H_n (X_n - X_{n-1})$ 给出。交易者的目标是选择一个策略，使得其收益过程 $(H \\cdot X)_n$ 是一个鞅，这代表一个没有可预测盈利或亏损的“公平博弈”。\n\n交易者采用的特定策略是仅在标的随机游走 $S_n$ 达到某个水平时才进行交易。该策略定义如下：对于一个特定的正整数 $\\gamma$，当且仅当 $S_{n-1} = \\gamma$ 时，过程 $H_n$ 严格为正，否则为零。\n\n确定使得交易者的收益过程 $(H \\cdot X)_n$ 成为鞅的正整数 $\\gamma$ 的值。", "solution": "我们使用 Doob 分解 $X_{n} = X_{0} + M_{n} + A_{n}$，其中 $(M_{n})$ 是一个鞅，$(A_{n})$ 是一个可预测的非减过程，满足 $A_{0}=0$ 且增量为 $\\Delta A_{n} = A_{n} - A_{n-1}$。对于一个可预测策略 $(H_{n})$，收益过程为\n$$(H \\cdot X)_{n} = \\sum_{k=1}^{n} H_{k} (X_{k} - X_{k-1}).$$\n我们利用塔性质和可预测性计算其条件漂移：\n\n$$\n\\begin{aligned}\nE\\big[(H \\cdot X)_{n} - (H \\cdot X)_{n-1} \\mid \\mathcal{F}_{n-1}\\big]\n= E\\big[H_{n} (X_{n} - X_{n-1}) \\mid \\mathcal{F}_{n-1}\\big] \\\\\n= H_{n} E\\big[X_{n} - X_{n-1} \\mid \\mathcal{F}_{n-1}\\big] \\\\\n= H_{n} \\Delta A_{n},\n\\end{aligned}\n$$\n\n因为对于带有补偿过程 $A_n$ 的下鞅，有 $E[M_{n} - M_{n-1} \\mid \\mathcal{F}_{n-1}] = 0$ 和 $E[X_{n} - X_{n-1} \\mid \\mathcal{F}_{n-1}] = \\Delta A_{n}$。因此，$(H \\cdot X)_{n}$ 是一个鞅当且仅当对于所有 $n$，\n$$H_{n} \\Delta A_{n} = 0 \\quad \\text{几乎必然成立。}$$\n已知 $\\Delta A_{n} = \\lambda (S_{n-1}^{2} - 81)^{2}$ 且 $\\lambda  0$，以及策略为当且仅当 $S_{n-1} = \\gamma$ 时 $H_{n}  0$，否则 $H_n = 0$，则该条件简化为要求在事件 $\\{S_{n-1} = \\gamma\\}$ 上 $\\Delta A_{n} = 0$。这意味着\n$$(\\gamma^{2} - 81)^{2} = 0 \\quad \\Longleftrightarrow \\quad \\gamma^{2} = 81 \\quad \\Longleftrightarrow \\quad \\gamma \\in \\{-9, 9\\}.$$\n由于 $\\gamma$ 被指定为一个正整数，我们必须取 $\\gamma = 9$。", "answer": "$$\\boxed{9}$$", "id": "1324733"}]}