{"hands_on_practices": [{"introduction": "我们从一个基本但至关重要的练习开始，它揭示了后向随机微分方程（BSDE）理论的基石。这个练习 [@problem_id:841719] 考察了一个驱动项为零的BSDE，这种情况下的解可以直接与我们熟悉的条件期望联系起来。通过解决这个问题，我们能巩固BSDE与鞅论之间的深刻联系，并为处理更复杂的情况打下坚实的基础。", "problem": "考虑一个完备的带滤概率空间 $(\\Omega, \\mathcal{F}, \\{\\mathcal{F}_t\\}_{t \\geq 0}, P)$，在此空间上定义了一个标准的一维布朗运动 $W_t$，且 $W_0=0$。\n\n设随机过程 $X_t$ 是一个算术布朗运动，由以下随机微分方程（SDE）描述：\n$$\ndX_t = \\mu dt + \\sigma dW_t\n$$\n其中漂移率 $\\mu$ 和波动率 $\\sigma  0$ 为常数，且初始条件 $X_0 = x_0$ 是确定的。\n\n现在，考虑一对适应随机过程 $(Y_t, Z_t)$，它在时间区间 $[0, T]$ 上满足下面的倒向随机微分方程（BSDE）：\n$$\n-dY_t = -Z_t dW_t\n$$\n这等价于 $dY_t = Z_t dW_t$。该过程满足终端条件：\n$$\nY_T = X_T^2\n$$\n请用参数 $x_0, \\mu, \\sigma$ 和 $T$ 表示 $Y_0$ 的值。", "solution": "对于倒向随机微分方程 \n$$dY_t=Z_t\\,dW_t,\\quad Y_T=X_T^2,$$\n其生成元为零，因此 \n$$Y_t=E\\bigl[X_T^2\\mid\\mathcal{F}_t\\bigr].$$\n特别地，\n$$Y_0=E[X_T^2].$$\n随机微分方程 \n$$dX_t=\\mu\\,dt+\\sigma\\,dW_t$$\n的解为\n$$X_T=x_0+\\mu T+\\sigma W_T.$$\n因此\n$$E[X_T]=x_0+\\mu T,\\quad \\mathrm{Var}(X_T)=\\sigma^2T,$$\n且\n$$E[X_T^2]=\\bigl(E[X_T]\\bigr)^2+\\mathrm{Var}(X_T)\n=(x_0+\\mu T)^2+\\sigma^2T.$$\n所以，\n$$Y_0=(x_0+\\mu T)^2+\\sigma^2T.$$", "answer": "$$\\boxed{(x_0 + \\mu T)^2 + \\sigma^2 T}$$", "id": "841719"}, {"introduction": "在掌握了零驱动项的情形后，我们自然地过渡到更广泛的一类问题：线性BSDE。这类方程的驱动项是关于解 $(Y_t, Z_t)$ 的线性函数，并且在金融和控制论中有广泛应用。这个练习 [@problem_id:772846] 将引导我们使用一种标准的积分因子方法来求解一个线性BSDE，这不仅是一次计算训练，更是理解如何处理非零驱动项对解结构影响的关键一步。", "problem": "设 $(\\Omega, \\mathcal{F}, (\\mathcal{F}_t)_{t \\in [0,T]}, P)$ 是一个支撑标准一维布朗运动 $W_t$ 的过滤概率空间，其中 $W_0 = 0$。\n\n考虑一对适应过程 $(Y_t, Z_t)$，它解下列倒向随机微分方程 (BSDE)：\n$$-dY_t = (\\alpha Y_t + \\beta Z_t + \\gamma) dt - Z_t dW_t$$\n对于 $t \\in [0, T]$，其中 $\\alpha, \\beta, \\gamma$ 是实常数，且 $\\alpha \\neq 0$，$T0$ 是一个固定的终端时刻。\n\n过程 $Y_t$ 必须满足终端条件：\n$$Y_T = \\exp(\\lambda W_T)$$\n其中 $\\lambda$ 是一个实常数。\n\n你的任务是求出过程 $Y_t$ 在时刻 $t=0$ 的值。最终答案应该是一个用常数 $\\alpha, \\beta, \\gamma, \\lambda,$ 和 $T$ 表示的显式闭式表达式。", "solution": "我们考虑线性 BSDE \n$$-dY_t = (\\alpha Y_t + \\beta Z_t + \\gamma)\\,dt - Z_t\\,dW_t,\\quad Y_T=\\exp(\\lambda W_T).$$\n1.  引入积分因子和 Girsanov 核：\n   $$\n   S_t = e^{\\alpha t}, \n   \\quad\n   \\Lambda_t = \\exp\\Bigl(\\beta W_t - \\tfrac12\\beta^2 t\\Bigr).\n   $$\n2.  线性 BSDE 的一般表示形式为\n   $$\n   Y_t\n   =S_t^{-1}\\E\\Bigl[S_T\\,\\Lambda_T\\,Y_T\n            +\\int_t^T S_s\\,\\Lambda_s\\,\\gamma\\,ds\n            \\Bigm|\\F_t\\Bigr].\n   $$\n3.  在 $t=0$ 时，我们有 $S_0=\\Lambda_0=1$ 和 $W_0=0$，所以\n   $$\n   Y_0\n   =\\E\\Bigl[e^{\\alpha T}\n   \\exp\\bigl(\\beta W_T-\\tfrac12\\beta^2T\\bigr)\n   \\exp(\\lambda W_T)\n   +\\gamma\\int_0^T e^{\\alpha s}\n        \\exp\\bigl(\\beta W_s-\\tfrac12\\beta^2s\\bigr)\\,ds\\Bigr].\n   $$\n4.  使用 $W_T\\sim N(0,T)$ 计算第一项：\n   $$\n   \\E\\bigl[e^{(\\beta+\\lambda)W_T}\\bigr]\n   =e^{\\tfrac12(\\beta+\\lambda)^2T},\n   $$\n   所以\n   $$\n   e^{\\alpha T- \\tfrac12\\beta^2T}\n   \\E\\bigl[e^{(\\beta+\\lambda)W_T}\\bigr]\n   =\\exp\\Bigl(\\alpha T+\\beta\\lambda T+\\tfrac12\\lambda^2T\\Bigr).\n   $$\n5.  对于第二项，对每个 $s$，\n   $$\n   \\E\\bigl[e^{\\beta W_s-\\tfrac12\\beta^2s}\\bigr]\n   =1,\n   $$\n   所以\n   $$\n   \\gamma\\int_0^T e^{\\alpha s}\\,ds\n   =\\frac\\gamma\\alpha\\bigl(e^{\\alpha T}-1\\bigr).\n   $$\n6.  结合两者可得\n   $$\n   Y_0\n   =\\exp\\Bigl((\\alpha+\\beta\\lambda+\\tfrac12\\lambda^2)T\\Bigr)\n   +\\frac\\gamma\\alpha\\bigl(e^{\\alpha T}-1\\bigr).\n   $$", "answer": "$$\\boxed{\\exp\\bigl((\\alpha+\\beta\\lambda+\\tfrac12\\lambda^2)T\\bigr)+\\frac{\\gamma}{\\alpha}\\bigl(e^{\\alpha T}-1\\bigr)}$$", "id": "772846"}, {"introduction": "为了进一步深化我们的理解并掌握更强大的分析工具，我们转向Malliavin分析与BSDE理论的交叉点。这个练习 [@problem_id:2969602] 揭示了一个深刻的结论：在特定条件下，解中的$Z_t$过程可以通过终端值的Malliavin导数的条件期望来表示。这不仅为我们提供了一种计算$Z_t$的有效方法，也展示了随机分析中不同分支理论之间的优美联系。", "problem": "设 $\\left(\\Omega,\\mathcal{F},\\{\\mathcal{F}_t\\}_{t\\in[0,T]},\\mathbb{P}\\right)$ 是一个完备的带流概率空间，其上支撑着一个一维标准布朗运动 $W=\\{W_t\\}_{t\\in[0,T]}$ 及其增广自然流。固定 $T\\in(0,\\infty)$。考虑具有确定性驱动项的倒向随机微分方程 (BSDE)\n$$\nY_t \\;=\\; h(W_T) \\;+\\; \\int_t^T g(s)\\,ds \\;-\\; \\int_t^T Z_s\\,dW_s,\\qquad t\\in[0,T],\n$$\n其中 $g\\in L^2([0,T])$ 是确定性的，且 $h:\\mathbb{R}\\to\\mathbb{R}$ 满足 $h(W_T)\\in L^2(\\Omega)$ 和 $h\\in\\mathbb{D}^{1,2}$，即平方可积、Malliavin可微泛函的 Malliavin–Sobolev 空间。假设满足标准条件，以确保 $(Y,Z)$ 在 $L^2$ 中的存在性和唯一性。\n\n1) 从 Malliavin 计算中的 Itô 表示定理和 Clark–Ocone 公式出发，推导被积函数 $Z$ 关于终端条件的 Malliavin 导数的表示。特别地，证明对于几乎所有的 $t\\in[0,T]$，\n$$\nZ_t \\;=\\; \\mathbb{E}\\!\\left[\\,D_t h(W_T)\\,\\middle|\\,\\mathcal{F}_t\\right].\n$$\n\n2) 当 $h(x)=x^2$ 时，计算 $Z_t$ 的显式闭式表达式，并将您的答案简化为仅含 $t$ 和 $W_t$ 的函数。提供您的最终表达式的精确形式。无需四舍五入。", "solution": "这个问题分为两部分。第一部分要求使用 Malliavin 计算中的工具，推导倒向随机微分方程 (BSDE) 中过程 $Z_t$ 的一般表示。第二部分要求对一个特定的终端条件计算 $Z_t$ 的显式解。\n\n第 $1$ 部分：推导 $Z_t$ 的表示。\n\n我们给定的 BSDE 为：\n$$Y_t = h(W_T) + \\int_t^T g(s)\\,ds - \\int_t^T Z_s\\,dW_s, \\quad t\\in[0,T]$$\n其中 $g$ 是 $L^2([0,T])$ 中的一个确定性函数，且 $h(W_T) \\in L^2(\\Omega)$，$h \\in \\mathbb{D}^{1,2}$。数对 $(Y_t, Z_t)$ 是该方程的适应解。\n\n我们可以将 BSDE 重写为微分形式。对于 $t \\in [0,T]$，$Y_t$ 的动态由下式给出：\n$$dY_t = -g(t)\\,dt + Z_t\\,dW_t$$\n让我们通过将确定性漂移项加回到 $Y_t$ 来定义一个新过程 $M_t$：\n$$M_t = Y_t + \\int_0^t g(s)\\,ds$$\n$M_t$ 的随机微分为：\n$$dM_t = dY_t + g(t)\\,dt = (-g(t)\\,dt + Z_t\\,dW_t) + g(t)\\,dt = Z_t\\,dW_t$$\n这意味着 $M_t$ 是一个局部鞅。由于假设解 $(Y,Z)$ 存在于通常的 $L^2$ 空间中，这意味着 $\\mathbb{E}[\\int_0^T Z_s^2 ds]  \\infty$，因此过程 $M_t$ 是一个真鞅。\n\n由于 $M_t$ 是关于流 $\\{\\mathcal{F}_t\\}_{t \\in [0,T]}$ 的鞅，它必须满足性质 $M_t = \\mathbb{E}[M_T | \\mathcal{F}_t]$ 对所有 $t \\in [0,T]$ 成立。\n让我们确定终端值 $M_T$。在时间 $t=T$ 时，BSDE 给出 $Y_T = h(W_T)$。因此，\n$$M_T = Y_T + \\int_0^T g(s)\\,ds = h(W_T) + \\int_0^T g(s)\\,ds$$\n由于积分 $\\int_0^T g(s)\\,ds$ 是一个确定性常数，鞅 $M_t$ 可以表示为：\n$$M_t = \\mathbb{E}\\left[h(W_T) + \\int_0^T g(s)\\,ds \\, \\middle| \\, \\mathcal{F}_t\\right] = \\mathbb{E}[h(W_T)|\\mathcal{F}_t] + \\int_0^T g(s)\\,ds$$\n过程 $M_t$ 是一个 $\\mathcal{F}_t$-适应的平方可积鞅。流 $\\{\\mathcal{F}_t\\}_{t \\in [0,T]}$ 是由布朗运动 $W_t$ 生成的。鞅表示定理指出，任何这样的鞅都可以写成关于 $W_t$ 的随机积分。我们已经从 $M_t$ 的定义中得到了一个这样的表示：\n$$M_t = M_0 + \\int_0^t Z_s\\,dW_s$$\nClark-Ocone 公式为布朗运动泛函的鞅表示中的被积函数提供了显式表达式。具体来说，对于一个 $\\mathcal{F}_T$-可测的随机变量 $F \\in \\mathbb{D}^{1,2}$，鞅 $N_t = \\mathbb{E}[F|\\mathcal{F}_t]$ 具有表示：\n$$N_t = \\mathbb{E}[F] + \\int_0^t \\mathbb{E}[D_s F | \\mathcal{F}_s]\\,dW_s$$\n其中 $D_s$ 是 Malliavin 导数算子。\n\n让我们将此应用于我们的鞅 $M_t = \\mathbb{E}[M_T|\\mathcal{F}_t]$。其表示中的被积函数由 $\\mathbb{E}[D_t M_T | \\mathcal{F}_t]$ 给出。根据鞅表示被积函数的唯一性，我们可以将 $Z_t$ 等同于这个表达式：\n$$Z_t = \\mathbb{E}[D_t M_T | \\mathcal{F}_t]$$\n我们现在计算 $M_T$ 的 Malliavin 导数：\n$$D_t M_T = D_t \\left(h(W_T) + \\int_0^T g(s)\\,ds\\right)$$\nMalliavin 导数是一个线性算子。项 $\\int_0^T g(s)\\,ds$ 是一个确定性常数，任何常数的 Malliavin 导数都为 $0$。因此：\n$$D_t M_T = D_t h(W_T) + D_t\\left(\\int_0^T g(s)\\,ds\\right) = D_t h(W_T) + 0 = D_t h(W_T)$$\n将此代入我们关于 $Z_t$ 的表达式中，我们得到期望的结果：\n$$Z_t = \\mathbb{E}[D_t h(W_T) | \\mathcal{F}_t]$$\n这对于几乎所有的 $t \\in [0,T]$ 都成立。这个结果表明，BSDE 中的被积函数 $Z_t$ 是终端值泛函 $h(W_T)$ 的 Malliavin 导数的条件期望。涉及 $g(s)$ 的项影响过程 $Y_t$，但不影响鞅分量 $Z_t$。\n\n第 $2$ 部分：$h(x)=x^2$ 的显式计算。\n\n我们给定的特定终端条件泛函为 $h(x) = x^2$，因此终端条件为 $Y_T = h(W_T) = W_T^2$。为了找到 $Z_t$，我们使用第 1 部分中推导的公式：\n$$Z_t = \\mathbb{E}[D_t(W_T^2) | \\mathcal{F}_t]$$\n首先，我们计算 Malliavin 导数 $D_t(W_T^2)$。我们使用 Malliavin 导数的链式法则，该法则指出，对于一个可微函数 $f:\\mathbb{R}\\to\\mathbb{R}$ 和一个 Malliavin 可微的随机变量 $F$，有 $D_t(f(F)) = f'(F) D_t(F)$。\n此处，$f(x)=x^2$ 且 $F=W_T$。其导数为 $f'(x) = 2x$。所以，\n$$D_t(W_T^2) = 2 W_T \\cdot D_t(W_T)$$\n布朗运动 $W_s$ 在时间 $t$ 的 Malliavin 导数是指示函数 $D_t(W_s) = \\mathbf{1}_{[0,s]}(t)$。对于 $s=T$，我们有 $D_t(W_T) = \\mathbf{1}_{[0,T]}(t)$。由于我们考虑的是 $t \\in [0,T]$，对于此区间内几乎所有的 $t$，$\\mathbf{1}_{[0,T]}(t) = 1$。\n因此，Malliavin 导数为：\n$$D_t(W_T^2) = 2W_T \\cdot 1 = 2W_T$$\n现在，我们将此代入 $Z_t$ 的表达式中：\n$$Z_t = \\mathbb{E}[2W_T | \\mathcal{F}_t]$$\n根据条件期望的线性性质，这变为：\n$$Z_t = 2 \\mathbb{E}[W_T | \\mathcal{F}_t]$$\n为了计算该条件期望，我们使用布朗运动是鞅的性质。我们可以将 $W_T$ 写成其在时间 $t$ 的值与一个未来增量之和：\n$$W_T = W_t + (W_T - W_t)$$\n取关于 $\\mathcal{F}_t$ 的条件期望：\n$$\\mathbb{E}[W_T | \\mathcal{F}_t] = \\mathbb{E}[W_t + (W_T - W_t) | \\mathcal{F}_t] = \\mathbb{E}[W_t | \\mathcal{F}_t] + \\mathbb{E}[W_T - W_t | \\mathcal{F}_t]$$\n由于 $W_t$ 是 $\\mathcal{F}_t$-可测的，所以 $\\mathbb{E}[W_t | \\mathcal{F}_t] = W_t$。对于 $t  T$，增量 $W_T - W_t$ 独立于流 $\\mathcal{F}_t$。因此，其条件期望等于其无条件期望：\n$$\\mathbb{E}[W_T - W_t | \\mathcal{F}_t] = \\mathbb{E}[W_T - W_t] = \\mathbb{E}[W_T] - \\mathbb{E}[W_t] = 0 - 0 = 0$$\n结合这些结果，我们得到：\n$$\\mathbb{E}[W_T | \\mathcal{F}_t] = W_t + 0 = W_t$$\n最后，我们将此代回到 $Z_t$ 的表达式中：\n$$Z_t = 2 \\mathbb{E}[W_T | \\mathcal{F}_t] = 2W_t$$\n这就是 $Z_t$ 作为 $t$ 和 $W_t$ 的函数的显式闭式表达式。", "answer": "$$\\boxed{2W_t}$$", "id": "2969602"}]}