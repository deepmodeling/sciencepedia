{"hands_on_practices": [{"introduction": "掌握二次变分最直接的方法就是通过计算。本练习 [@problem_id:1327865] 将从一个基础的伊藤积分入手，带你计算其二次变分。通过这个练习，你将亲手验证一个重要的特性：对于一个被积函数是确定性函数的伊藤积分，其二次变分过程本身也是一个确定性的时间函数，这有助于你将抽象的理论与具体的函数形式联系起来。", "problem": "在随机微积分理论中，一个核心研究对象是伊藤积分，它被用来定义一个随机过程关于维纳过程的积分。\n\n考虑一个随机过程 $M_t$，对于时间 $t \\geq 0$，它由伊藤积分定义：\n$$\nM_t = \\int_0^t s \\, dW_s\n$$\n其中 $W_s$ 是一个标准一维维纳过程（也称为布朗运动），且 $W_0 = 0$。\n\n过程 $M_t$ 的二次变分，记作 $[M, M]_t$，是衡量其累积变异性的一个基本属性。下列哪个陈述正确地给出了 $[M, M]_t$ 的表达式并准确地描述了它的性质？\n\nA. $[M, M]_t = \\frac{t^2}{2}$，且它是一个随机过程。\nB. $[M, M]_t = \\frac{t^3}{3}$，且它是一个确定性过程。\nC. $[M, M]_t = \\int_0^t s^2 \\, dW_s$，且它是一个随机过程。\nD. $[M, M]_t = \\frac{t^3}{3}$，且它是一个随机过程。\nE. $[M, M]_t = t$，且它是一个确定性过程。", "solution": "对于一个由伊藤积分 $M_t = \\int_0^t H_s dW_s$ 定义的过程，其二次变分的通用公式为：\n$$\n[M, M]_t = \\left[ \\int H_s dW_s \\right]_t = \\int_0^t H_s^2 ds\n$$\n在我们的问题中，被积函数是一个确定性函数 $H_s = s$。将此代入通用公式，我们得到：\n$$\n[M, M]_t = \\int_0^t s^2 ds\n$$\n这是一个标准的定积分，计算结果为：\n$$\n[M, M]_t = \\left[ \\frac{s^3}{3} \\right]_0^t = \\frac{t^3}{3} - 0 = \\frac{t^3}{3}\n$$\n这个结果 $\\frac{t^3}{3}$ 是一个只依赖于时间 $t$ 的确定性函数，不依赖于布朗运动 $W_s$ 的任何特定路径。因此，二次变分过程 $[M, M]_t$ 是一个确定性过程。\n\n综上所述，过程 $M_t$ 的二次变分是 $[M, M]_t = \\frac{t^3}{3}$，并且它是一个确定性过程。这与选项 B 相符。", "answer": "$$\\boxed{B}$$", "id": "1327865"}, {"introduction": "在掌握了基础的二次变分计算后，我们来处理一个更接近现实模型的例子。许多随机过程不仅包含随机波动，还包含一个确定的趋势，即“漂移项”。这个练习 [@problem_id:2982388] 将引导你计算一个带漂移项的伊藤过程的二次变分，并引入二次协变差的概念，它揭示了过程与其内在随机源（布朗运动）之间的瞬时耦合关系。", "problem": "设 $(\\Omega,\\mathcal{F},(\\mathcal{F}_t)_{t\\geq 0},\\mathbb{P})$ 是一个满足通常条件的带滤概率空间，并设 $W=(W_t)_{t\\geq 0}$ 是一个标准一维布朗运动（也称为维纳过程）。考虑由 $X_t=b\\,t+\\sigma\\,W_t$ 定义的伊藤过程 $X=(X_t)_{t\\geq 0}$，其中 $b\\in\\mathbb{R}$ 和 $\\sigma\\in\\mathbb{R}$ 是常数。\n\n你将使用以下基础定义。对于一个连续半鞅 $Y=(Y_t)_{t\\geq 0}$，其在 $[0,t]$ 上的二次变分 $[Y]_t$ 定义为\n$$\n[Y]_t=\\lim_{\\|\\Pi\\|\\to 0}\\sum_{i}\\big(Y_{t_{i+1}}-Y_{t_i}\\big)^{2},\n$$\n其中极限是对分割 $\\Pi=\\{0=t_0  t_1  \\dots  t_k = t\\}$ 的范数 $\\|\\Pi\\|=\\max_i(t_{i+1}-t_i)$ 趋于零时取得的。对于两个连续半鞅 $Y$ 和 $Z$，二次协变差 $[Y,Z]_t$ 由极化恒等式 $[Y,Z]_t=\\frac{1}{4}\\big([Y+Z]_t-[Y-Z]_t\\big)$ 定义。\n\n求行向量 $([X]_t, [X,W]_t)$。", "solution": "解法如下：\n\n**1. 计算 $[X]_t$**\n\n根据二次变分的性质，对于一个伊藤过程 $X_t = \\int_0^t \\mu_s ds + \\int_0^t \\sigma_s dW_s$，其二次变分仅由扩散项决定，漂移项没有贡献。\n在我们的例子中，$X_t = b\\,t + \\sigma\\,W_t$。漂移项为 $b\\,t$，扩散系数为常数 $\\sigma$。\n因此，二次变分为：\n$$\n[X]_t = \\left[ b\\,t + \\sigma\\,W_t \\right]_t = \\left[ \\sigma\\,W_t \\right]_t = \\sigma^2 [W]_t\n$$\n由于标准布朗运动的二次变分为 $[W]_t = t$，我们得到：\n$$\n[X]_t = \\sigma^2 t\n$$\n\n**2. 计算 $[X,W]_t$**\n\n我们使用二次协变差的双线性性质：\n$$\n[X,W]_t = [b\\,t + \\sigma\\,W_t, W_t] = [b\\,t, W_t] + [\\sigma\\,W_t, W_t]\n$$\n一个有限变分过程（如 $b\\,t$）与一个连续局部鞅（如 $W_t$）的二次协变差为零，所以 $[b\\,t, W_t] = 0$。\n对于第二项，我们可以提出常数 $\\sigma$：\n$$\n[\\sigma\\,W_t, W_t] = \\sigma [W,W]_t = \\sigma [W]_t = \\sigma t\n$$\n因此：\n$$\n[X,W]_t = \\sigma t\n$$\n\n**3. 组合结果**\n\n将上述两个结果组合成一个行向量，得到最终答案：\n$$\n([X]_t, [X,W]_t) = (\\sigma^2 t, \\sigma t)\n$$", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n\\sigma^2 t  \\sigma t\n\\end{pmatrix}\n}\n$$", "id": "2982388"}, {"introduction": "理论的价值最终体现在应用之中。在实际问题中，我们往往只能获得过程在离散时间点上的观测值，那么该如何估计其二次变分呢？这个练习 [@problem_id:2992264] 恰好连接了理论定义与数值近似的桥梁。你将分析用离散平方和来近似二次变差时产生的均方误差，并推导其上界，这对于理解随机过程的数值模拟和金融时间序列分析中的已实现波动率至关重要。", "problem": "设 $(\\Omega,\\mathcal{F},(\\mathcal{F}_t)_{t \\geq 0},\\mathbb{P})$ 是一个带流概率空间，其上定义了一个标准布朗运动 $W=(W_t)_{t \\geq 0}$。考虑一个渐进可测过程 $\\sigma=(\\sigma_t)_{t \\in [0,t]}$，其对所有 $t \\in [0,t]$ 几乎必然满足 $|\\sigma_t| \\leq M$，其中 $M0$ 是一个有限常数。定义 Itô 积分 $X=(X_s)_{s \\in [0,t]}$ 为\n$$\nX_s = \\int_{0}^{s} \\sigma_u \\, dW_u,\n$$\n并令 $[X]_t$ 表示 $X$ 在时间 $t$ 的二次变分。\n\n对于 $[0,t]$ 的一个分割 $\\Pi_n = \\{0=t_0  t_1  \\cdots  t_n = t\\}$，定义二次变分的离散采样近似为\n$$\nQ^n := \\sum_{i=0}^{n-1} \\big( X_{t_{i+1}} - X_{t_i} \\big)^{2},\n$$\n并令剖分步长为 $h_n := \\max_{0 \\leq i \\leq n-1} (t_{i+1} - t_i)$。\n\n仅使用适用于随机积分和连续局部鞅的基本结果，推导均方误差 (MSE) 的一个非平凡上界。该均方误差定义为期望\n$$\n\\mathbb{E}\\big[ \\big( Q^n - [X]_t \\big)^{2} \\big],\n$$\n该上界需用 $M$、$t$ 和 $h_n$ 表示。您的最终答案必须是一个仅依赖于 $M$、$t$ 和 $h_n$ 的单一闭式解析表达式（不得包含不等式或额外的限定条件）。不需要进行数值近似。", "solution": "我们需要推导 Itô 积分二次变差的离散采样近似的均方误差 (MSE) 的一个非平凡上界。MSE 定义为 $\\mathbb{E}\\big[ \\big( Q^n - [X]_t \\big)^{2} \\big]$。\n\n设给定的分割为 $\\Pi_n = \\{0=t_0  t_1  \\cdots  t_n = t\\}$。Itô 积分为 $X_s = \\int_{0}^{s} \\sigma_u \\, dW_u$，其二次变差为 $[X]_s = \\int_{0}^{s} \\sigma_u^2 \\, du$。离散近似为 $Q^n = \\sum_{i=0}^{n-1} (X_{t_{i+1}} - X_{t_i})^2$。\n\n我们可以将误差 $Q^n - [X]_t$ 表示为分割各区间上的和。令 $\\Delta X_i := X_{t_{i+1}} - X_{t_i}$ 及 $\\Delta [X]_i := [X]_{t_{i+1}} - [X]_{t_i}$。则误差为：\n$$\nQ^n - [X]_t = \\sum_{i=0}^{n-1} \\big( (\\Delta X_i)^2 - \\Delta [X]_i \\big).\n$$\n我们定义随机变量 $Y_i := (\\Delta X_i)^2 - \\Delta [X]_i$。MSE 是这些变量之和的平方的期望：\n$$\n\\mathbb{E}\\big[ (Q^n - [X]_t)^2 \\big] = \\mathbb{E}\\left[ \\left( \\sum_{i=0}^{n-1} Y_i \\right)^2 \\right] = \\sum_{i=0}^{n-1} \\mathbb{E}[Y_i^2] + 2 \\sum_{0 \\leq i  j \\leq n-1} \\mathbb{E}[Y_i Y_j].\n$$\n随机分析的一个基本结果表明，如果 $N$ 是一个连续局部鞅，那么 $N^2 - [N]$ 也是一个连续局部鞅。由于过程 $\\sigma$ 是有界的 ($|\\sigma_t| \\le M$)，Itô 积分 $X_t$ 是一个真鞅，因此 $M_t := X_t^2 - [X]_t$ 也是一个真鞅。\n\n鞅性质意味着对于任何 $s > r$，都有 $\\mathbb{E}[M_s | \\mathcal{F}_r] = M_r$。\n项 $Y_j$ 可以写作 $Y_j = (X_{t_{j+1}} - X_{t_j})^2 - ([X]_{t_{j+1}} - [X]_{t_j})$。这是从时间 $t_j$ 开始的一个鞅的增量。更正式地，考虑过程 $Z_s = X_{t_j+s}-X_{t_j}$（其中 $s \\ge 0$）。那么 $Z_s^2 - [Z]_s$ 是一个鞅，因此 $\\mathbb{E}[Z_s^2 - [Z]_s | \\mathcal{F}_{t_j}] = Z_0^2 - [Z]_0 = 0$。令 $s=t_{j+1}-t_j$ 可得 $\\mathbb{E}[Y_j|\\mathcal{F}_{t_j}]=0$。\n\n现在，我们分析交叉项 $\\mathbb{E}[Y_i Y_j]$（其中 $i  j$）。由于 $t_{i+1} \\le t_j$，随机变量 $Y_i$ 是 $\\mathcal{F}_{t_{i+1}}$-可测的，因此也是 $\\mathcal{F}_{t_j}$-可测的。使用条件期望的塔性质：\n$$\n\\mathbb{E}[Y_i Y_j] = \\mathbb{E}\\big[ \\mathbb{E}[Y_i Y_j | \\mathcal{F}_{t_j}] \\big] = \\mathbb{E}\\big[ Y_i \\mathbb{E}[Y_j | \\mathcal{F}_{t_j}] \\big].\n$$\n如上所示，$\\mathbb{E}[Y_j | \\mathcal{F}_{t_j}] = 0$。因此，对于任何 $i \\ne j$，都有 $\\mathbb{E}[Y_i Y_j] = 0$。这意味着误差项 $Y_i$ 是不相关的。MSE 简化为方差之和：\n$$\n\\mathbb{E}\\big[ (Q^n - [X]_t)^2 \\big] = \\sum_{i=0}^{n-1} \\mathbb{E}[Y_i^2].\n$$\n接下来，我们推导每一项 $\\mathbb{E}[Y_i^2]$ 的界。项 $Y_i$ 是鞅 $M_t = X_t^2 - [X]_t$ 的增量，具体为 $Y_i = M_{t_{i+1}} - M_{t_i}$。将 Itô 公式应用于过程 $X_s - X_{t_i}$ 和函数 $f(x)=x^2$，我们发现 $Y_i$ 可以表示为一个随机积分：\n$$\nY_i = (\\Delta X_i)^2 - \\Delta[X]_i = 2 \\int_{t_i}^{t_{i+1}} (X_u - X_{t_i}) \\sigma_u dW_u.\n$$\n我们希望计算 $\\mathbb{E}[Y_i^2]$。使用 Itô 等距性：\n$$\n\\mathbb{E}[Y_i^2] = \\mathbb{E}\\left[ \\left( 2 \\int_{t_i}^{t_{i+1}} (X_u - X_{t_i}) \\sigma_u dW_u \\right)^2 \\right] = 4 \\mathbb{E}\\left[ \\int_{t_i}^{t_{i+1}} (X_u - X_{t_i})^2 \\sigma_u^2 du \\right].\n$$\n根据随机 Fubini 定理，我们可以交换期望和时间积分：\n$$\n\\mathbb{E}[Y_i^2] = 4 \\int_{t_i}^{t_{i+1}} \\mathbb{E}\\left[ (X_u - X_{t_i})^2 \\sigma_u^2 \\right] du.\n$$\n我们使用给定条件 $|\\sigma_t| \\le M$（这意味着 $\\sigma_u^2 \\le M^2$）来界定被积函数：\n$$\n\\mathbb{E}\\left[ (X_u - X_{t_i})^2 \\sigma_u^2 \\right] \\le \\mathbb{E}\\left[ (X_u - X_{t_i})^2 M^2 \\right] = M^2 \\mathbb{E}\\left[ (X_u - X_{t_i})^2 \\right].\n$$\n期望 $\\mathbb{E}\\left[ (X_u - X_{t_i})^2 \\right]$ 可以通过对增量 $X_u - X_{t_i} = \\int_{t_i}^u \\sigma_v dW_v$ 使用 Itô 等距性来计算：\n$$\n\\mathbb{E}\\left[ (X_u - X_{t_i})^2 \\right] = \\mathbb{E}\\left[ \\left(\\int_{t_i}^u \\sigma_v dW_v \\right)^2 \\right] = \\mathbb{E}\\left[ \\int_{t_i}^u \\sigma_v^2 dv \\right].\n$$\n再次使用界 $\\sigma_v^2 \\leq M^2$：\n$$\n\\mathbb{E}\\left[ \\int_{t_i}^u \\sigma_v^2 dv \\right] \\le \\mathbb{E}\\left[ \\int_{t_i}^u M^2 dv \\right] = M^2(u - t_i).\n$$\n将此代回，我们得到被积函数的一个界：\n$$\n\\mathbb{E}\\left[ (X_u - X_{t_i})^2 \\sigma_u^2 \\right] \\le M^2 \\cdot M^2(u-t_i) = M^4(u-t_i).\n$$\n现在，我们将此界代入 $\\mathbb{E}[Y_i^2]$ 的积分中：\n$$\n\\mathbb{E}[Y_i^2] \\le 4 \\int_{t_i}^{t_{i+1}} M^4 (u - t_i) du = 4 M^4 \\left[ \\frac{(u-t_i)^2}{2} \\right]_{t_i}^{t_{i+1}} = 2 M^4 (t_{i+1}-t_i)^2.\n$$\n最后，我们将这些界相加，得到总 MSE 的上界：\n$$\n\\mathbb{E}\\big[ (Q^n - [X]_t)^2 \\big] = \\sum_{i=0}^{n-1} \\mathbb{E}[Y_i^2] \\le \\sum_{i=0}^{n-1} 2 M^4 (t_{i+1}-t_i)^2 = 2 M^4 \\sum_{i=0}^{n-1} (t_{i+1}-t_i)^2.\n$$\n为用剖分步长 $h_n = \\max_{0 \\leq i \\leq n-1} (t_{i+1} - t_i)$ 表示，我们如下界定该和式：\n$$\n\\sum_{i=0}^{n-1} (t_{i+1}-t_i)^2 \\le \\left(\\max_{0 \\leq i \\leq n-1} (t_{i+1}-t_i)\\right) \\cdot \\left(\\sum_{j=0}^{n-1} (t_{j+1}-t_j)\\right) = h_n (t_n - t_0) = h_n t.\n$$\n因此，我们获得了均方误差的非平凡上界：\n$$\n\\mathbb{E}\\big[ (Q^n - [X]_t)^2 \\big] \\le 2 M^4 t h_n.\n$$\n表达式 $2 M^4 t h_n$ 是一个仅依赖于 $M$、$t$ 和 $h_n$ 的单一闭式解析表达式。", "answer": "$$\\boxed{2 M^{4} t h_n}$$", "id": "2992264"}]}