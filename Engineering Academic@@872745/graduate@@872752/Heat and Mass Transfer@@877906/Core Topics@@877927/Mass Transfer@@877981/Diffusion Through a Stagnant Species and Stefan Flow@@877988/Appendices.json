{"hands_on_practices": [{"introduction": "The evaporation of a liquid into a stagnant gas is a classic mass transfer problem where diffusion induces a net convective motion known as Stefan flow. This first practice challenges you to derive the exact molar flux for this process from first principles [@problem_id:2476656]. Mastering this derivation is crucial for understanding how one-way diffusion creates a bulk flow, a cornerstone concept that distinguishes multicomponent diffusion from simple Fickian diffusion in a stationary medium.", "problem": "A pure, flat liquid of species $A$ evaporates into an initially stagnant, insoluble gas $B$ occupying the region $0 \\le z \\le L$ above the liquid surface at $z=0$. The temperature $T$ and total pressure $P$ are spatially uniform, and the gas mixture behaves as an ideal gas. At the liquid–gas interface, the partial pressure of $A$ is fixed at its interfacial value $p_{A,i}$, and at the plane $z=L$ far from the interface, the partial pressure of $A$ is $p_{A,\\infty}$ with $0 \\le p_{A,\\infty} \\le p_{A,i}  P$. Assume steady state, one-dimensional transport in the $z$-direction with no chemical reaction, a constant binary diffusivity $D_{AB}$, and that species $B$ is stagnant in the stationary (laboratory) frame (i.e., its molar flux is zero everywhere), so that Stefan flow develops.\n\nStarting only from fundamental relations that connect molar and diffusive fluxes in a binary mixture and from the ideal gas law, derive a closed-form expression for the molar evaporation flux $N_A$ of species $A$ (taken positive in the $+z$ direction) expressed solely in terms of $D_{AB}$, $R$ (the universal gas constant), $T$, $L$, $P$, $p_{A,i}$, and $p_{A,\\infty}$. Reformulate your result explicitly in terms of the interfacial and bulk partial pressures $p_{A,i}$ and $p_{A,\\infty}$, not mole fractions. Finally, identify the asymptotic form of $N_A$ in the dilute-vapor limit when $p_{A,i} \\ll P$ and the gas phase remains dilute in $A$ throughout the film.\n\nYour final reported answer must be a single analytic expression for $N_A$ in terms of the specified parameters. Do not include units in the final answer box. No numerical evaluation is required.", "solution": "The problem will first be subject to rigorous validation.\n\nStep 1: Extract Givens\nThe problem provides the following information:\n- The system consists of two species, $A$ (a pure liquid evaporating) and $B$ (an initially stagnant, insoluble gas).\n- Transport is one-dimensional in the $z$-direction, occurring over a domain $0 \\le z \\le L$.\n- The liquid-gas interface is at $z=0$.\n- The system is at steady state.\n- Temperature $T$ and total pressure $P$ are constant and spatially uniform.\n- The gas mixture behaves as an ideal gas.\n- The binary diffusivity $D_{AB}$ is constant.\n- Boundary conditions for the partial pressure of species $A$ are: $p_A(z=0) = p_{A,i}$ and $p_A(z=L) = p_{A,\\infty}$.\n- The partial pressures are constrained such that $0 \\le p_{A,\\infty} \\le p_{A,i}  P$.\n- There are no chemical reactions.\n- The molar flux of species $B$ is zero everywhere: $N_B = 0$.\n\nStep 2: Validate Using Extracted Givens\nThe problem is now validated against the required criteria.\n- **Scientifically Grounded**: The problem describes Stefan flow, which is a canonical and fundamental problem in mass transfer. It is based on Fick's law of diffusion and the principles of mass conservation in a binary mixture. The setup is scientifically sound and represents a well-established physical model.\n- **Well-Posed**: The problem is a one-dimensional steady-state boundary value problem. All necessary parameters ($D_{AB}$, $R$, $T$, $L$, $P$) and boundary conditions ($p_{A,i}$, $p_{A,\\infty}$) are provided to solve for the molar flux $N_A$. The constraints on the partial pressures ensure a physically meaningful scenario where evaporation occurs from a region of higher concentration to lower concentration, and the partial pressure never exceeds the total pressure. The problem is self-contained and sufficient for a unique solution.\n- **Objective**: The problem is stated using precise, unambiguous scientific language. It is free of any subjective or non-formalizable content.\n\nStep 3: Verdict and Action\nThe problem is scientifically and mathematically sound, well-posed, and objective. There are no identifiable flaws. It is therefore deemed **valid**. We proceed to the solution.\n\nThe total molar flux of species $A$, denoted $N_A$, in a binary mixture is the sum of its diffusive flux, $J_A$, and its convective flux, which arises from the bulk motion of the fluid. This is expressed as:\n$$\nN_A = J_A + x_A (N_A + N_B)\n$$\nwhere $x_A$ is the mole fraction of species $A$ and $N_B$ is the molar flux of species $B$. The diffusive flux $J_A$ is described by Fick's first law for a binary system:\n$$\nJ_A = -c D_{AB} \\frac{dx_A}{dz}\n$$\nwhere $c$ is the total molar concentration of the mixture and $D_{AB}$ is the binary diffusion coefficient.\n\nThe problem states that species $B$ is a stagnant, non-diffusing gas. This implies that its net molar flux is zero everywhere in the domain:\n$$\nN_B = 0\n$$\nSubstituting this condition and Fick's law into the general flux equation for species $A$ yields:\n$$\nN_A = -c D_{AB} \\frac{dx_A}{dz} + x_A N_A\n$$\nThis equation can be rearranged to separate the variables for integration. We note that at steady state, the molar flux $N_A$ must be constant with respect to the spatial coordinate $z$.\n$$\nN_A (1 - x_A) = -c D_{AB} \\frac{dx_A}{dz}\n$$\n$$\nN_A dz = - \\frac{c D_{AB}}{1 - x_A} dx_A\n$$\nWe integrate this expression across the gas film, from the liquid-gas interface at $z=0$ to the plane at $z=L$. The corresponding mole fractions of species $A$ at these locations are $x_{A,i}$ and $x_{A,\\infty}$, respectively.\n$$\n\\int_{0}^{L} N_A dz = - \\int_{x_{A,i}}^{x_{A,\\infty}} \\frac{c D_{AB}}{1 - x_A} dx_A\n$$\nSince $N_A$, $c$, and $D_{AB}$ are constants, they can be moved outside the integrals:\n$$\nN_A \\int_{0}^{L} dz = - c D_{AB} \\int_{x_{A,i}}^{x_{A,\\infty}} \\frac{1}{1 - x_A} dx_A\n$$\nPerforming the integration gives:\n$$\nN_A [z]_{0}^{L} = - c D_{AB} [-\\ln(1 - x_A)]_{x_{A,i}}^{x_{A,\\infty}}\n$$\n$$\nN_A L = c D_{AB} [\\ln(1 - x_A)]_{x_{A,i}}^{x_{A,\\infty}}\n$$\n$$\nN_A L = c D_{AB} \\left( \\ln(1 - x_{A,\\infty}) - \\ln(1 - x_{A,i}) \\right)\n$$\nUsing the property of logarithms, $\\ln(a) - \\ln(b) = \\ln(a/b)$, we obtain:\n$$\nN_A L = c D_{AB} \\ln\\left(\\frac{1 - x_{A,\\infty}}{1 - x_{A,i}}\\right)\n$$\nSolving for the molar flux $N_A$:\n$$\nN_A = \\frac{c D_{AB}}{L} \\ln\\left(\\frac{1 - x_{A,\\infty}}{1 - x_{A,i}}\\right)\n$$\nThe problem requires the result in terms of partial pressures, not mole fractions. For an ideal gas mixture, the total molar concentration $c$ is given by the ideal gas law, $c = P/(RT)$. The mole fraction $x_A$ is related to the partial pressure $p_A$ and total pressure $P$ by Dalton's law: $x_A = p_A/P$.\n\nSubstituting these relations for $c$, $x_{A,i}$, and $x_{A,\\infty}$:\n$$\nN_A = \\frac{D_{AB}}{L} \\left(\\frac{P}{RT}\\right) \\ln\\left(\\frac{1 - p_{A,\\infty}/P}{1 - p_{A,i}/P}\\right)\n$$\nSimplifying the argument of the logarithm gives:\n$$\nN_A = \\frac{P D_{AB}}{RT L} \\ln\\left(\\frac{(P - p_{A,\\infty})/P}{(P - p_{A,i})/P}\\right)\n$$\n$$\nN_A = \\frac{P D_{AB}}{RT L} \\ln\\left(\\frac{P - p_{A,\\infty}}{P - p_{A,i}}\\right)\n$$\nThis is the closed-form expression for the molar evaporation flux $N_A$ expressed in terms of the specified parameters.\n\nFinally, we identify the asymptotic form in the dilute-vapor limit, where $p_{A,i} \\ll P$ and consequently $p_{A,\\infty} \\ll P$. We can use the Taylor series expansion for the natural logarithm, $\\ln(1 - u) \\approx -u$ for small $u$. First, we rewrite the logarithmic term:\n$$\n\\ln\\left(\\frac{P - p_{A,\\infty}}{P - p_{A,i}}\\right) = \\ln(P - p_{A,\\infty}) - \\ln(P - p_{A,i}) = \\ln\\left(P(1-\\frac{p_{A,\\infty}}{P})\\right) - \\ln\\left(P(1-\\frac{p_{A,i}}{P})\\right)\n$$\n$$\n= \\ln(P) + \\ln\\left(1-\\frac{p_{A,\\infty}}{P}\\right) - \\ln(P) - \\ln\\left(1-\\frac{p_{A,i}}{P}\\right) = \\ln\\left(1-\\frac{p_{A,\\infty}}{P}\\right) - \\ln\\left(1-\\frac{p_{A,i}}{P}\\right)\n$$\nApplying the Taylor approximation, with $u$ being $p_A/P \\ll 1$:\n$$\n\\approx \\left(-\\frac{p_{A,\\infty}}{P}\\right) - \\left(-\\frac{p_{A,i}}{P}\\right) = \\frac{p_{A,i} - p_{A,\\infty}}{P}\n$$\nSubstituting this approximation back into the expression for $N_A$:\n$$\nN_A \\approx \\frac{P D_{AB}}{RT L} \\left(\\frac{p_{A,i} - p_{A,\\infty}}{P}\\right) = \\frac{D_{AB}}{RT L} (p_{A,i} - p_{A,\\infty})\n$$\nThis is the simplified form of Fick's law, valid when the convective component of flux (the Stefan flow) is negligible due to the low concentration of the evaporating species. The final answer required is the full, non-asymptotic expression.", "answer": "$$\n\\boxed{\\frac{P D_{AB}}{RT L} \\ln\\left(\\frac{P - p_{A,\\infty}}{P - p_{A,i}}\\right)}\n$$", "id": "2476656"}, {"introduction": "While the exact Stefan flow equation is elegant, engineers often use simplified models, such as a linear-driving-force approximation that neglects the convective flux. This exercise [@problem_id:2476683] asks you to quantify the error of this simplification and analyze its dependence on concentration. By deriving the relative error and finding where it is most severe, you will develop critical judgment about the limitations of approximate models and the conditions under which they are valid.", "problem": "A single-component liquid droplet of species $A$ evaporates into a quiescent, isothermal, ideal gas of species $B$ at total pressure $p$ and temperature $T$. The gas phase is modeled as a one-dimensional film of thickness $L$ with coordinate $z$ measured normal to the droplet surface, from $z=0$ at the interface to $z=L$ in the bulk gas. The total molar concentration $c$ and the binary diffusivity $D_{AB}$ are constant. Far from the droplet, the gas contains no $A$, so $y_{A,\\infty}=0$. At the interface, the mole fraction of $A$ equals its saturation value $y_{A,s}$, which is treated as a specified parameter satisfying $0 \\le y_{A,s} \\le 0.80$. There is no chemical reaction.\n\nAssume steady state and that species $B$ is non-diffusing in the stationary frame, i.e., $N_{B}=0$ (stagnant $B$), so that convective molar transport associated with Stefan flow may arise. Starting from the steady one-dimensional molar species balances and Fick’s law in the stationary frame, and using that $y_{A}+y_{B}=1$, perform the following:\n\n1) Derive the exact expression for the molar flux of $A$ through the gas film in terms of $y_{A,s}$, $y_{A,\\infty}$, $c$, $D_{AB}$, and $L$, without neglecting the convective contribution associated with Stefan flow.\n\n2) Construct the linear-driving-force approximation by neglecting the convective contribution associated with Stefan flow and assuming a linear profile for $y_{A}(z)$, thereby obtaining an alternative expression for the molar flux of $A$ using the same parameters.\n\n3) Define the relative error function\n$$\nE(y_{A,s}) \\equiv \\frac{N_{A,\\mathrm{lin}} - N_{A,\\mathrm{true}}}{N_{A,\\mathrm{true}}}.\n$$\nWith $y_{A,\\infty}=0$, simplify $E$ to a function only of $y_{A,s}$. Determine analytically where, over the range $0 \\le y_{A,s} \\le 0.80$, the magnitude $|E|$ is maximized, and evaluate that maximum magnitude numerically. Round your final result to four significant figures. Express the answer as a dimensionless decimal (do not use a percent sign).", "solution": "The problem statement is parsed and validated against the required criteria.\n\n**Step 1: Extracted Givens**\n- System: Evaporation of a single-component liquid droplet (species $A$) into a quiescent, isothermal, ideal gas (species $B$).\n- Geometry: One-dimensional film of thickness $L$, with coordinate $z$ from $z=0$ (interface) to $z=L$ (bulk).\n- State: Total pressure $p$, temperature $T$.\n- Properties: Total molar concentration $c$ and binary diffusivity $D_{AB}$ are constant.\n- Boundary conditions: At $z=L$, the mole fraction of $A$ is $y_{A,\\infty}=0$. At $z=0$, the mole fraction of $A$ is its saturation value, $y_{A,s}$.\n- Parameter range: $0 \\le y_{A,s} \\le 0.80$.\n- Assumptions: Steady state; species $B$ is stagnant ($N_{B}=0$); no chemical reaction; $y_{A}+y_{B}=1$.\n- Task:\n  1. Derive the exact molar flux of $A$, $N_{A,\\mathrm{true}}$, including Stefan flow.\n  2. Derive the linear-driving-force approximation for the molar flux, $N_{A,\\mathrm{lin}}$, by neglecting convection.\n  3. Analyze the relative error $E(y_{A,s}) = (N_{A,\\mathrm{lin}} - N_{A,\\mathrm{true}})/N_{A,\\mathrm{true}}$ for $y_{A,\\infty}=0$, find the value of $y_{A,s}$ in $[0, 0.80]$ that maximizes its magnitude $|E|$, and compute this maximum magnitude.\n\n**Step 2: Validation**\n- **Scientific Grounding**: The problem describes diffusion through a stagnant film, a canonical case in mass transfer theory known as the Stefan problem. It is based on Fick's law and molar balances, which are fundamental principles. It is scientifically sound.\n- **Well-Posedness**: The problem is specified with sufficient data and consistent boundary conditions to determine a unique solution for the molar fluxes and the subsequent error function. The optimization task is well-defined on a closed interval.\n- **Objectivity**: The problem is stated in precise, quantitative, and objective scientific language.\n- **Other Flaws**: The problem is free of contradictions, unrealistic conditions (the range for $y_{A,s}$ is physically reasonable), and ambiguities. It is a non-trivial problem that correctly tests the understanding of convective mass transfer versus simple diffusion.\n\n**Step 3: Verdict**\nThe problem is valid. A solution will be provided.\n\n**Solution Derivation**\n\nThe analysis begins with the general expression for the molar flux of species $A$ in a one-dimensional binary system, expressed in the stationary frame:\n$$\nN_A = -c D_{AB} \\frac{d y_A}{dz} + y_A (N_A + N_B)\n$$\nHere, the first term represents Fickian diffusion and the second term represents bulk convective transport (Stefan flow).\n\n**1) Derivation of the True Molar Flux ($N_{A,\\mathrm{true}}$)**\n\nWe apply the conditions given in the problem: steady state (so $N_A$ is constant with respect to $z$) and a stagnant species $B$ (so $N_B = 0$). The flux equation simplifies to:\n$$\nN_A = -c D_{AB} \\frac{d y_A}{dz} + y_A N_A\n$$\nThis equation must be solved for the constant flux $N_A$. We rearrange to separate variables $y_A$ and $z$:\n$$\nN_A (1 - y_A) = -c D_{AB} \\frac{d y_A}{dz}\n$$\n$$\nN_A dz = -c D_{AB} \\frac{dy_A}{1 - y_A}\n$$\nWe integrate this ordinary differential equation across the gas film, from $z=0$ to $z=L$. The corresponding mole fractions of $A$ are $y_{A,s}$ and $y_{A,\\infty}$.\n$$\n\\int_{0}^{L} N_A dz = \\int_{y_{A,s}}^{y_{A,\\infty}} -c D_{AB} \\frac{dy_A}{1 - y_A}\n$$\nSince $N_A$, $c$, and $D_{AB}$ are constants, they can be moved outside the integrals:\n$$\nN_A \\int_{0}^{L} dz = -c D_{AB} \\int_{y_{A,s}}^{y_{A,\\infty}} \\frac{dy_A}{1 - y_A}\n$$\nPerforming the integration yields:\n$$\nN_A [z]_{0}^{L} = -c D_{AB} [-\\ln(1 - y_A)]_{y_{A,s}}^{y_{A,\\infty}}\n$$\n$$\nN_A L = c D_{AB} [\\ln(1 - y_{A,\\infty}) - \\ln(1 - y_{A,s})]\n$$\nUsing the property of logarithms, $\\ln(a) - \\ln(b) = \\ln(a/b)$:\n$$\nN_A L = c D_{AB} \\ln\\left(\\frac{1 - y_{A,\\infty}}{1 - y_{A,s}}\\right)\n$$\nSolving for the molar flux of $A$, which we define as $N_{A,\\mathrm{true}}$, gives the exact expression:\n$$\nN_{A,\\mathrm{true}} = \\frac{c D_{AB}}{L} \\ln\\left(\\frac{1 - y_{A,\\infty}}{1 - y_{A,s}}\\right)\n$$\n\n**2) Derivation of the Linear-Driving-Force Approximation ($N_{A,\\mathrm{lin}}$)**\n\nThis approximation is constructed by neglecting the convective contribution to the flux, i.e., setting the term $y_A (N_A + N_B)$ to zero. The flux equation reduces to Fick's first law for a stationary medium:\n$$\nN_A = -c D_{AB} \\frac{d y_A}{dz}\n$$\nUnder steady-state conditions where $N_A$ is constant, this implies that the gradient $\\frac{d y_A}{dz}$ must also be constant. A constant gradient corresponds to a linear mole fraction profile. The gradient can thus be approximated using the boundary values:\n$$\n\\frac{d y_A}{dz} \\approx \\frac{y_{A,L} - y_{A,0}}{L - 0} = \\frac{y_{A,\\infty} - y_{A,s}}{L}\n$$\nSubstituting this linear approximation of the gradient into the simplified flux equation gives the linear-driving-force approximation, $N_{A,\\mathrm{lin}}$:\n$$\nN_{A,\\mathrm{lin}} = -c D_{AB} \\left(\\frac{y_{A,\\infty} - y_{A,s}}{L}\\right) = \\frac{c D_{AB}}{L}(y_{A,s} - y_{A,\\infty})\n$$\n\n**3) Relative Error Analysis**\n\nThe relative error function $E(y_{A,s})$ is defined as:\n$$\nE(y_{A,s}) \\equiv \\frac{N_{A,\\mathrm{lin}} - N_{A,\\mathrm{true}}}{N_{A,\\mathrm{true}}}\n$$\nSubstitute the derived expressions for $N_{A,\\mathrm{lin}}$ and $N_{A,\\mathrm{true}}$:\n$$\nE(y_{A,s}) = \\frac{\\frac{c D_{AB}}{L}(y_{A,s} - y_{A,\\infty}) - \\frac{c D_{AB}}{L} \\ln\\left(\\frac{1 - y_{A,\\infty}}{1 - y_{A,s}}\\right)}{\\frac{c D_{AB}}{L} \\ln\\left(\\frac{1 - y_{A,\\infty}}{1 - y_{A,s}}\\right)}\n$$\nThe common prefactor $\\frac{c D_{AB}}{L}$ cancels:\n$$\nE(y_{A,s}) = \\frac{y_{A,s} - y_{A,\\infty}}{\\ln\\left(\\frac{1 - y_{A,\\infty}}{1 - y_{A,s}}\\right)} - 1\n$$\nWe now apply the specific condition $y_{A,\\infty}=0$:\n$$\nE(y_{A,s}) = \\frac{y_{A,s}}{\\ln\\left(\\frac{1}{1 - y_{A,s}}\\right)} - 1\n$$\nUsing the logarithm property $\\ln(1/x) = -\\ln(x)$, we obtain the simplified error function:\n$$\nE(y_{A,s}) = \\frac{-y_{A,s}}{\\ln(1 - y_{A,s})} - 1\n$$\nWe must find the value of $y_{A,s}$ in the interval $[0, 0.80]$ that maximizes the magnitude $|E(y_{A,s})|$. To do this, we analyze the behavior of $E(y_{A,s})$ by examining its derivative with respect to $y_{A,s}$. Let $x = y_{A,s}$ for simplicity.\n$$\n\\frac{dE}{dx} = \\frac{d}{dx} \\left( \\frac{-x}{\\ln(1-x)} - 1 \\right)\n$$\nUsing the quotient rule:\n$$\n\\frac{dE}{dx} = \\frac{(-1)\\ln(1-x) - (-x)\\left(\\frac{-1}{1-x}\\right)}{(\\ln(1-x))^2} = \\frac{-\\ln(1-x) - \\frac{x}{1-x}}{(\\ln(1-x))^2}\n$$\nTo determine the sign of the derivative, we analyze the numerator, let's call it $g(x) = -\\ln(1-x) - \\frac{x}{1-x}$.\nFirst, we evaluate $g(x)$ at $x=0$: $g(0) = -\\ln(1) - 0 = 0$.\nNext, we examine the derivative of $g(x)$:\n$$\ng'(x) = \\frac{d}{dx}\\left(-\\ln(1-x) - \\frac{x}{1-x}\\right) = \\frac{1}{1-x} - \\frac{(1)(1-x) - (x)(-1)}{(1-x)^2} = \\frac{1}{1-x} - \\frac{1}{(1-x)^2}\n$$\n$$\ng'(x) = \\frac{(1-x)-1}{(1-x)^2} = \\frac{-x}{(1-x)^2}\n$$\nFor any $x$ in the domain $(0, 1)$, $g'(x)$ is strictly negative. This means that the function $g(x)$ is strictly decreasing from its value of $g(0)=0$. Consequently, $g(x)  0$ for all $x \\in (0, 1)$.\n\nSince the numerator of $\\frac{dE}{dx}$ is $g(x)$, which is negative for $x \\in (0, 0.80]$, and the denominator $(\\ln(1-x))^2$ is positive, the derivative $\\frac{dE}{dx}$ is strictly negative on this interval. This proves that $E(y_{A,s})$ is a monotonically decreasing function on $[0, 0.80]$.\n\nLet's evaluate $E(y_{A,s})$ at the start of the interval. Using L'Hôpital's rule for the first term as $y_{A,s} \\to 0$:\n$$\n\\lim_{y_{A,s}\\to 0} \\frac{-y_{A,s}}{\\ln(1 - y_{A,s})} = \\lim_{y_{A,s}\\to 0} \\frac{-1}{-1/(1 - y_{A,s})} = \\lim_{y_{A,s}\\to 0} (1 - y_{A,s}) = 1\n$$\nSo, $E(0) = 1 - 1 = 0$.\nSince $E(y_{A,s})$ starts at $0$ and is strictly decreasing, the function $E(y_{A,s})$ is negative for all $y_{A,s} \\in (0, 0.80]$. Therefore, maximizing its magnitude $|E(y_{A,s})|$ is equivalent to minimizing the function $E(y_{A,s})$ itself.\n\nFor a monotonically decreasing function on a closed interval, the minimum value occurs at the rightmost point. Thus, the magnitude $|E(y_{A,s})|$ is maximized at the upper bound of the given range, which is $y_{A,s} = 0.80$.\n\nWe now calculate the value of this maximum magnitude:\n$$\n|E(0.80)| = \\left| \\frac{-0.80}{\\ln(1 - 0.80)} - 1 \\right| = \\left| \\frac{-0.80}{\\ln(0.20)} - 1 \\right|\n$$\nNumerically, $\\ln(0.20) \\approx -1.6094379$.\n$$\n|E(0.80)| = \\left| \\frac{-0.80}{-1.6094379} - 1 \\right| = |0.49706859 - 1| = |-0.50293141| = 0.50293141\n$$\nRounding to four significant figures, the maximum magnitude of the relative error is $0.5029$.", "answer": "$$\n\\boxed{0.5029}\n$$", "id": "2476683"}, {"introduction": "In modern engineering, transport phenomena are overwhelmingly solved using numerical methods, but how can we trust a program's output? This final practice [@problem_id:2476687] transitions from analytical derivation to computational verification, a critical skill for any modeler. You will develop a routine to check if a candidate numerical solution correctly satisfies the fundamental physical constraints of the Stefan flow model, such as the zero-flux condition for the stagnant species, $N_B=0$, within a given tolerance.", "problem": "A binary gas mixture in a one-dimensional, steady state, is modeled on a discrete grid of interior points. Species $A$ diffuses through a stagnant species $B$ in the presence of Stefan flow. By construction of the physical model, species $B$ is stagnant in the laboratory frame, which implies that the molar flux of species $B$ is identically zero, and that the total molar flux equals the molar flux of species $A$ at every spatial location. In symbols, at each grid point $j$, the constraints are $N_B(j) = 0$ and $N_t(j) = N_A(j)$. A candidate numerical solution supplies arrays of values $\\{N_A(j)\\}_{j=1}^M$, $\\{N_B(j)\\}_{j=1}^M$, and $\\{N_t(j)\\}_{j=1}^M$ at $M$ grid points. Because of numerical discretization and solver tolerances, it is appropriate to verify these identities within a specified absolute tolerance $\\varepsilon  0$.\n\nYour task is to write a complete program that, for each provided test case, verifies whether both constraints are satisfied at all grid points to within the specified absolute tolerance. The verification must be carried out as follows: for each test case, compute\n$$\ne_1 \\equiv \\max_{1 \\le j \\le M} \\left| N_B(j) - 0 \\right|, \\qquad\ne_2 \\equiv \\max_{1 \\le j \\le M} \\left| N_t(j) - N_A(j) \\right|.\n$$\nThe test case is deemed to pass if and only if $e_1 \\le \\varepsilon$ and $e_2 \\le \\varepsilon$. The program must return a Boolean for each test case: $\\,\\text{True}\\,$ if the test case passes and $\\,\\text{False}\\,$ otherwise.\n\nBase your reasoning on the following fundamental laws and core definitions only: the definition of molar flux in a stationary laboratory frame, additivity of total molar flux $N_t = N_A + N_B$, and the definition of a stagnant species in the laboratory frame (species with zero molar flux).\n\nAll fluxes are to be interpreted as molar fluxes with units of mol per square meter per second (mol m$^{-2}$ s$^{-1}$). The verification tolerance $\\varepsilon$ is dimensionally consistent with the fluxes. Since the program must output Boolean results, do not output any physical units. However, in constructing the verification, you must adhere to the stated physical units.\n\nUse the following test suite. Each test case specifies arrays for $N_A$, $N_B$, $N_t$, and a tolerance $\\varepsilon$. For clarity, each array is listed by its entries in order of increasing grid index $j$:\n\n- Test case $1$ (exact satisfaction): $M = 5$. $N_A = \\left(4.0\\times 10^{-3},\\, 4.0\\times 10^{-3},\\, 4.0\\times 10^{-3},\\, 4.0\\times 10^{-3},\\, 4.0\\times 10^{-3}\\right)$, $N_B = \\left(0,\\, 0,\\, 0,\\, 0,\\, 0\\right)$, $N_t = \\left(4.0\\times 10^{-3},\\, 4.0\\times 10^{-3},\\, 4.0\\times 10^{-3},\\, 4.0\\times 10^{-3},\\, 4.0\\times 10^{-3}\\right)$, $\\varepsilon = 1.0\\times 10^{-12}$.\n\n- Test case $2$ (within tolerance): $M = 6$. $N_A = \\left(1.0\\times 10^{-3},\\, 1.2\\times 10^{-3},\\, 1.4\\times 10^{-3},\\, 1.6\\times 10^{-3},\\, 1.8\\times 10^{-3},\\, 2.0\\times 10^{-3}\\right)$, $N_B = \\left(2\\times 10^{-9},\\, -3\\times 10^{-9},\\, 5\\times 10^{-9},\\, -4\\times 10^{-9},\\, 1\\times 10^{-9},\\, -2\\times 10^{-9}\\right)$, $N_t = N_A + \\left(1\\times 10^{-9},\\, -2\\times 10^{-9},\\, 3\\times 10^{-9},\\, -3\\times 10^{-9},\\, 2\\times 10^{-9},\\, -1\\times 10^{-9}\\right)$, $\\varepsilon = 1.0\\times 10^{-8}$.\n\n- Test case $3$ (violation of $N_B = 0$): $M = 6$. $N_A = \\left(1.0\\times 10^{-3},\\, 1.2\\times 10^{-3},\\, 1.4\\times 10^{-3},\\, 1.6\\times 10^{-3},\\, 1.8\\times 10^{-3},\\, 2.0\\times 10^{-3}\\right)$, $N_B = \\left(1\\times 10^{-7},\\, -2\\times 10^{-7},\\, 2.1\\times 10^{-6},\\, -1\\times 10^{-7},\\, 2\\times 10^{-7},\\, -1\\times 10^{-7}\\right)$, $N_t = N_A + \\left(5\\times 10^{-7},\\, -5\\times 10^{-7},\\, 4\\times 10^{-7},\\, -3\\times 10^{-7},\\, 2\\times 10^{-7},\\, -1\\times 10^{-7}\\right)$, $\\varepsilon = 1.0\\times 10^{-6}$.\n\n- Test case $4$ (single-point edge case, violation of $N_t = N_A$): $M = 1$. $N_A = \\left(0\\right)$, $N_B = \\left(1.0\\times 10^{-12}\\right)$, $N_t = \\left(5.0\\times 10^{-12}\\right)$, $\\varepsilon = 1.0\\times 10^{-12}$.\n\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, in the order of the test cases, with no spaces. For example, a valid output format is $[r_1,r_2,r_3,r_4]$ where each $r_k$ is either $\\text{True}$ or $\\text{False}$ as defined above. The expected data types for each $r_k$ are Boolean values.", "solution": "The problem requires the validation of numerical solutions for molar fluxes in a one-dimensional, steady-state binary gas system. The physical model dictates that species $A$ diffuses through a stagnant species $B$ in the presence of Stefan flow. This model imposes two fundamental constraints that any valid numerical solution must satisfy. The task is to implement a program to verify these constraints for a given set of numerical data.\n\nFirst, let us establish the theoretical foundation. The total molar flux, $N_t$, in a binary mixture of species $A$ and $B$, is defined as the sum of the individual species fluxes:\n$$\nN_t = N_A + N_B\n$$\nThis additivity principle holds at every point $j$ in the spatial domain. The problem states that species $B$ is stagnant. In the laboratory reference frame, this is defined by the condition that the molar flux of species $B$ is identically zero:\n$$\nN_B(j) = 0 \\quad \\text{for all } j\n$$\nSubstituting this condition into the additivity principle yields the second constraint:\n$$\nN_t(j) = N_A(j) + 0 \\implies N_t(j) = N_A(j)\n$$\nTherefore, a physically correct solution for this system must simultaneously satisfy two conditions at every grid point $j$:\n1. $N_B(j) = 0$\n2. $N_t(j) = N_A(j)$\n\nDue to the nature of numerical methods, which involve discretization and iterative solvers, solutions are rarely exact. It is therefore standard practice to verify that the constraints are satisfied within a given numerical tolerance, $\\varepsilon  0$. The problem specifies the use of the maximum absolute error (the $L_{\\infty}$ norm of the error vector) across all $M$ grid points.\n\nFor the first constraint, we define the error $e_1$ as the maximum absolute deviation of $N_B(j)$ from zero:\n$$\ne_1 \\equiv \\max_{1 \\le j \\le M} \\left| N_B(j) - 0 \\right| = \\max_{1 \\le j \\le M} \\left| N_B(j) \\right|\n$$\nThe constraint is considered satisfied if $e_1 \\le \\varepsilon$.\n\nFor the second constraint, we define the error $e_2$ as the maximum absolute difference between $N_t(j)$ and $N_A(j)$:\n$$\ne_2 \\equiv \\max_{1 \\le j \\le M} \\left| N_t(j) - N_A(j) \\right|\n$$\nThis constraint is considered satisfied if $e_2 \\le \\varepsilon$.\n\nA given numerical test case, comprising the arrays for $N_A$, $N_B$, and $N_t$, is deemed to pass the verification if and only if both conditions are met simultaneously:\n$$\n(e_1 \\le \\varepsilon) \\land (e_2 \\le \\varepsilon)\n$$\nwhere $\\land$ denotes the logical AND operator. The program must return a Boolean value, $\\text{True}$ if the test case passes and $\\text{False}$ otherwise.\n\nThe implementation will process each test case as follows:\n1.  Receive the input arrays $N_A$, $N_B$, $N_t$ and the scalar tolerance $\\varepsilon$.\n2.  Compute the element-wise absolute value of the $N_B$ array. The maximum value of this resulting array is $e_1$.\n3.  Compute the element-wise difference between the $N_t$ and $N_A$ arrays. The maximum value of the absolute values of this difference array is $e_2$.\n4.  Evaluate the logical expression $(e_1 \\le \\varepsilon) \\land (e_2 \\le \\varepsilon)$.\n5.  Store the resulting Boolean value.\n6.  After processing all test cases, format the list of Boolean results into the specified string format. The use of the `numpy` library is appropriate for efficient array-based computations.", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the problem by verifying flux constraints for each test case.\n    \"\"\"\n\n    # Define the test cases from the problem statement.\n    test_cases = [\n        {\n            \"N_A\": np.array([4.0e-3, 4.0e-3, 4.0e-3, 4.0e-3, 4.0e-3]),\n            \"N_B\": np.array([0.0, 0.0, 0.0, 0.0, 0.0]),\n            \"N_t\": np.array([4.0e-3, 4.0e-3, 4.0e-3, 4.0e-3, 4.0e-3]),\n            \"epsilon\": 1.0e-12,\n        },\n        {\n            \"N_A\": np.array([1.0e-3, 1.2e-3, 1.4e-3, 1.6e-3, 1.8e-3, 2.0e-3]),\n            \"N_B\": np.array([2.0e-9, -3.0e-9, 5.0e-9, -4.0e-9, 1.0e-9, -2.0e-9]),\n            \"N_t\":np.array([1.0e-3, 1.2e-3, 1.4e-3, 1.6e-3, 1.8e-3, 2.0e-3]) + \\\n                  np.array([1.0e-9, -2.0e-9, 3.0e-9, -3.0e-9, 2.0e-9, -1.0e-9]),\n            \"epsilon\": 1.0e-8,\n        },\n        {\n            \"N_A\": np.array([1.0e-3, 1.2e-3, 1.4e-3, 1.6e-3, 1.8e-3, 2.0e-3]),\n            \"N_B\": np.array([1.0e-7, -2.0e-7, 2.1e-6, -1.0e-7, 2.0e-7, -1.0e-7]),\n            \"N_t\": np.array([1.0e-3, 1.2e-3, 1.4e-3, 1.6e-3, 1.8e-3, 2.0e-3]) + \\\n                   np.array([5.0e-7, -5.0e-7, 4.0e-7, -3.0e-7, 2.0e-7, -1.0e-7]),\n            \"epsilon\": 1.0e-6,\n        },\n        {\n            \"N_A\": np.array([0.0]),\n            \"N_B\": np.array([1.0e-12]),\n            \"N_t\": np.array([5.0e-12]),\n            \"epsilon\": 1.0e-12,\n        },\n    ]\n\n    results = []\n    for case in test_cases:\n        N_A = case[\"N_A\"]\n        N_B = case[\"N_B\"]\n        N_t = case[\"N_t\"]\n        epsilon = case[\"epsilon\"]\n\n        # Compute e1, the maximum absolute error for the stagnant species constraint.\n        # e1 = max |N_B(j)|\n        e1 = np.max(np.abs(N_B))\n        \n        # Compute e2, the maximum absolute error for the total flux constraint.\n        # e2 = max |N_t(j) - N_A(j)|\n        e2 = np.max(np.abs(N_t - N_A))\n\n        # The test case passes if and only if both errors are within the tolerance.\n        passes = (e1 = epsilon) and (e2 = epsilon)\n        results.append(passes)\n\n    # Final print statement in the exact required format.\n    # The map(str, ...) converts boolean True/False to \"True\"/\"False\" which is the required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```", "id": "2476687"}]}