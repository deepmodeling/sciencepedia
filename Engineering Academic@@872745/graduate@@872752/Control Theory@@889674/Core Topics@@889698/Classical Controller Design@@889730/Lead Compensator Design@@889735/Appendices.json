{"hands_on_practices": [{"introduction": "A lead compensator's primary function is to introduce a positive phase shift into a system's open-loop frequency response, thereby improving the phase margin and transient characteristics. This phase shift is not uniform across all frequencies; it rises to a single maximum value, $\\phi_m$, before falling again. This exercise [@problem_id:1570320] focuses on calculating this maximum phase lead, a crucial first step in any frequency-domain design, as it defines the upper limit of phase margin improvement that a given compensator can provide.", "problem": "A control systems engineer is designing a feedback controller to improve the transient response of a positioning system. As part of the design, a lead compensator is introduced into the control loop. The transfer function of the chosen lead compensator is given by:\n$$G_c(s) = K_c \\frac{s+z}{s+p}$$\nFor a lead compensator, the pole location $p$ is always greater than the zero location $z$ (i.e., $p > z > 0$). This configuration allows the compensator to add positive phase to the system's frequency response, which is crucial for improving phase margin. The engineer has selected the zero to be at $z = 2.0 \\text{ rad/s}$ and the pole to be at $p = 18.0 \\text{ rad/s}$. The gain $K_c$ is a positive real constant adjusted separately to meet other performance criteria.\n\nDetermine the maximum phase lead, $\\phi_m$, that this specific compensator can provide to the system. Express your answer in degrees, rounded to three significant figures.", "solution": "The compensator is $G_{c}(s) = K_{c}\\frac{s+z}{s+p}$ with $pz0$. The gain $K_{c}$ does not affect phase, so the phase contribution at frequency $\\omega$ is\n$$\\phi(\\omega) = \\arg(j\\omega+z) - \\arg(j\\omega+p) = \\arctan\\!\\left(\\frac{\\omega}{z}\\right) - \\arctan\\!\\left(\\frac{\\omega}{p}\\right).$$\nTo find the maximum phase lead, differentiate with respect to $\\omega$ and set to zero:\n$$\\frac{d\\phi}{d\\omega} = \\frac{z}{z^{2}+\\omega^{2}} - \\frac{p}{p^{2}+\\omega^{2}} = 0.$$\nSolving gives\n$$z(p^{2}+\\omega^{2}) = p(z^{2}+\\omega^{2}) \\;\\;\\Rightarrow\\;\\; \\omega^{2} = pz \\;\\;\\Rightarrow\\;\\; \\omega_{m} = \\sqrt{pz}.$$\nEvaluating the phase at $\\omega_{m}$,\n$$\\phi_{m} = \\arctan\\!\\left(\\sqrt{\\frac{p}{z}}\\right) - \\arctan\\!\\left(\\sqrt{\\frac{z}{p}}\\right).$$\nUsing trigonometric identities, this can be written as\n$$\\phi_{m} = \\arcsin\\!\\left(\\frac{p - z}{p + z}\\right).$$\nSubstitute $z = 2.0$ and $p = 18.0$:\n$$\\phi_{m} = \\arcsin\\!\\left(\\frac{18 - 2}{18 + 2}\\right) = \\arcsin(0.8).$$\nConvert to degrees and round to three significant figures:\n$$\\phi_{m} = \\arcsin(0.8)\\cdot \\frac{180}{\\pi} \\approx 53.130\\dots \\implies 53.1.$$", "answer": "$$\\boxed{53.1}$$", "id": "1570320"}, {"introduction": "Moving from component analysis to system synthesis, this practice problem [@problem_id:1570554] demonstrates how to use a lead compensator to meet specific transient performance specifications. By strategically placing the compensator's pole and zero, we can reshape the system's root locus to pass through desired closed-loop pole locations, directly influencing metrics like settling time and overshoot. This exercise provides a hands-on application of the root locus design technique and highlights the trade-offs involved, as improving transient response with a lead compensator may require a subsequent lag compensator to meet steady-state error requirements.", "problem": "A simplified model for a single-axis positioning system has an open-loop plant transfer function given by $G_p(s) = \\frac{1}{s(s+4)}$. A feedback controller is to be designed to meet two primary performance specifications: first, the dominant closed-loop poles must be located at $s = -3 \\pm j3$; and second, the static velocity error constant, $K_v$, must be exactly $5.0 \\, \\text{s}^{-1}$.\n\nTo achieve these specifications, a two-stage compensation strategy is employed. A lead compensator of the form $G_{lead}(s) = K \\frac{s+a}{s+b}$ is first designed to meet the transient response requirement (the pole placement). For this lead compensator design, the zero is strategically placed to cancel the stable pole of the plant, i.e., $a=4$.\n\nThe lead compensator alone is found to be insufficient to meet the steady-state error requirement. Therefore, a lag compensator, $G_{lag}(s) = \\frac{s+c}{s+d}$, is cascaded with the plant and the lead compensator. The pole of this lag compensator is placed at $d=0.012$. The parameters of the lag compensator are chosen such that it primarily adjusts the steady-state error without significantly altering the location of the dominant closed-loop poles.\n\nDetermine the required location of the zero, $c$, for the lag compensator. Give your answer as a real number rounded to two significant figures.", "solution": "The goal is to design a controller for the plant $G_p(s) = \\frac{1}{s(s+4)}$ to achieve closed-loop poles at $s_d = -3 \\pm j3$ and a static velocity error constant of $K_v = 5.0 \\, \\text{s}^{-1}$. The controller is a cascade of a lead and a lag compensator, $G_c(s) = G_{lead}(s)G_{lag}(s)$.\n\n**Step 1: Design the Lead Compensator**\n\nThe lead compensator is $G_{lead}(s) = K \\frac{s+a}{s+b}$. The problem states that its zero is set to cancel the plant pole at $s=-4$, so $a=4$. The open-loop transfer function of the lead-compensated system is:\n$$ G_{OL, lead}(s) = G_{lead}(s)G_p(s) = \\left(K \\frac{s+4}{s+b}\\right) \\left(\\frac{1}{s(s+4)}\\right) = \\frac{K}{s(s+b)} $$\nFor the root locus of this system to pass through the desired pole location $s_d = -3+j3$, the angle criterion must be satisfied:\n$$ \\angle G_{OL, lead}(s_d) = -180^\\circ $$\nThe angle is the sum of angles from the zeros minus the sum of angles from the poles to the point $s_d$.\n$$ \\angle\\left(\\frac{K}{s_d(s_d+b)}\\right) = -\\angle(s_d) - \\angle(s_d+b) = -180^\\circ $$\nWe calculate the angle of the vector from the pole at the origin, $s=0$, to $s_d$:\n$$ \\angle(s_d) = \\angle(-3+j3) = \\arctan\\left(\\frac{3}{-3}\\right) = 135^\\circ $$\nSubstituting this into the angle criterion equation:\n$$ -135^\\circ - \\angle(s_d+b) = -180^\\circ $$\n$$ \\angle(s_d+b) = 180^\\circ - 135^\\circ = 45^\\circ $$\nThe term $\\angle(s_d+b)$ is the angle of the vector from the pole at $s=-b$ to $s_d$. Let this angle be $\\theta_b$.\n$$ \\theta_b = \\angle(-3+j3+b) = \\angle((b-3)+j3) = 45^\\circ $$\nFrom the geometry, we can use the tangent function:\n$$ \\tan(\\theta_b) = \\frac{\\text{Im}(s_d)}{\\text{Re}(s_d+b)} = \\frac{3}{b-3} $$\n$$ \\tan(45^\\circ) = 1 = \\frac{3}{b-3} $$\n$$ b-3 = 3 \\implies b = 6 $$\nSo, the pole of the lead compensator is at $s=-6$.\n\nNext, we find the gain $K$ using the magnitude criterion at $s_d$:\n$$ |G_{OL, lead}(s_d)| = 1 $$\n$$ \\left|\\frac{K}{s_d(s_d+b)}\\right|_{s_d=-3+j3, b=6} = 1 $$\n$$ |K| = |s_d| |s_d+6| $$\n$$ |s_d| = |-3+j3| = \\sqrt{(-3)^2 + 3^2} = \\sqrt{9+9} = \\sqrt{18} $$\n$$ |s_d+6| = |-3+j3+6| = |3+j3| = \\sqrt{3^2 + 3^2} = \\sqrt{9+9} = \\sqrt{18} $$\n$$ |K| = \\sqrt{18} \\cdot \\sqrt{18} = 18 $$\nThus, the lead compensator is $G_{lead}(s) = 18 \\frac{s+4}{s+6}$, and the lead-compensated open-loop system is $G_{OL, lead}(s) = \\frac{18}{s(s+6)}$.\n\n**Step 2: Evaluate the Velocity Error Constant of the Lead-Compensated System**\n\nThe static velocity error constant for the lead-compensated system, $K_{v,lead}$, is:\n$$ K_{v,lead} = \\lim_{s \\to 0} s \\, G_{OL, lead}(s) = \\lim_{s \\to 0} s \\frac{18}{s(s+6)} = \\frac{18}{6} = 3.0 \\, \\text{s}^{-1} $$\nThis value is less than the required $K_v = 5.0 \\, \\text{s}^{-1}$.\n\n**Step 3: Design the Lag Compensator**\n\nA lag compensator $G_{lag}(s) = \\frac{s+c}{s+d}$ is added to increase the velocity error constant. The total open-loop transfer function is:\n$$ G_{OL, total}(s) = G_{lag}(s) G_{OL, lead}(s) = \\left(\\frac{s+c}{s+d}\\right) \\left(\\frac{18}{s(s+6)}\\right) $$\nThe total static velocity error constant is:\n$$ K_{v,total} = \\lim_{s \\to 0} s \\, G_{OL, total}(s) = \\lim_{s \\to 0} s \\left(\\frac{s+c}{s+d}\\right) \\left(\\frac{18}{s(s+6)}\\right) $$\n$$ K_{v,total} = \\left(\\frac{c}{d}\\right) \\left(\\frac{18}{6}\\right) = 3 \\frac{c}{d} $$\nWe require $K_{v,total} = 5.0$.\n$$ 5.0 = 3 \\frac{c}{d} $$\n$$ \\frac{c}{d} = \\frac{5.0}{3} $$\nThe problem states that the pole of the lag compensator is placed at $d=0.012$. We can now solve for the zero, $c$.\n$$ c = d \\left(\\frac{5}{3}\\right) = 0.012 \\times \\frac{5}{3} = 0.004 \\times 5 = 0.020 $$\nThe problem asks for the answer rounded to two significant figures. The calculated value is $0.020$.", "answer": "$$\\boxed{0.020}$$", "id": "1570554"}, {"introduction": "In modern control engineering, continuous-time designs are ultimately implemented on digital hardware. This transition is not always direct, as discretization methods can distort the compensator's frequency response. This advanced problem [@problem_id:2718180] addresses this critical implementation challenge by exploring the bilinear transform and the associated phenomenon of frequency warping, deriving the necessary \"prewarping\" correction to ensure the final digital compensator accurately reproduces the intended phase characteristics at a critical frequency.", "problem": "You are designing a digital lead compensator to shape the phase margin of a sampled-data control loop. The compensator will be implemented by discretizing a continuous-time lead compensator using the bilinear transform (BLT). The goal is to match the desired continuous-time phase at the crossover frequency. Let the desired continuous-time crossover frequency be $\\omega_c$ in radians per second and the sampling period be $T$. You will use frequency prewarping to ensure that, after applying the bilinear transform, the discrete-time compensated open-loop phase at the discrete-time frequency corresponding to $\\omega_c$ matches the continuous-time design phase at $\\omega_c$.\n\nStarting from the definition of the bilinear transform and the definition of the frequency responses of continuous-time and discrete-time linear time-invariant systems, derive the prewarped analog frequency $\\omega_w$ (in radians per second) at which the continuous-time lead compensator should be designed so that, after applying the bilinear transform, the discrete-time compensated open-loop phase at the digital frequency that corresponds to $\\omega_c$ equals the continuous-time phase at $\\omega_c$. Express your final answer for $\\omega_w$ symbolically in terms of $\\omega_c$ and $T$. Provide your final answer as an analytic expression in radians per second. No numerical evaluation is required.", "solution": "The objective is to determine the prewarped analog frequency, denoted as $\\omega_w$, for the design of a continuous-time compensator. This compensator, when discretized using the bilinear transform (BLT), must yield a digital compensator whose phase at the digital frequency corresponding to a specified critical continuous frequency, $\\omega_c$, matches the phase of the original continuous-time design at $\\omega_c$.\n\nThe relationship between the continuous-time Laplace domain variable $s$ and the discrete-time Z-domain variable $z$ under the bilinear transform is defined as:\n$$\ns = \\frac{2}{T} \\frac{z-1}{z+1}\n$$\nwhere $T$ is the sampling period.\n\nTo understand the effect of this transformation on the frequency response, we analyze the mapping between the continuous-time frequency axis ($s=j\\omega_a$) and the discrete-time unit circle ($z=e^{j\\Omega}$). Here, $\\omega_a$ is the analog frequency of the continuous-time prototype system, and $\\Omega = \\omega_d T$ is the normalized digital frequency, where $\\omega_d$ is the digital frequency in radians per second.\n\nBy substituting $s = j\\omega_a$ and $z = e^{j\\omega_d T}$ into the BLT definition, we obtain the relationship between the two frequency domains:\n$$\nj\\omega_a = \\frac{2}{T} \\frac{e^{j\\omega_d T} - 1}{e^{j\\omega_d T} + 1}\n$$\nTo simplify the expression on the right-hand side, we factor out $e^{j\\omega_d T / 2}$ from both the numerator and the denominator:\n$$\nj\\omega_a = \\frac{2}{T} \\frac{e^{j\\omega_d T / 2}(e^{j\\omega_d T / 2} - e^{-j\\omega_d T / 2})}{e^{j\\omega_d T / 2}(e^{j\\omega_d T / 2} + e^{-j\\omega_d T / 2})}\n$$\nUsing Euler's identities, $\\sin(x) = \\frac{e^{jx} - e^{-jx}}{2j}$ and $\\cos(x) = \\frac{e^{jx} + e^{-jx}}{2}$, the expression simplifies to:\n$$\nj\\omega_a = \\frac{2}{T} \\frac{2j\\sin(\\frac{\\omega_d T}{2})}{2\\cos(\\frac{\\omega_d T}{2})}\n$$\n$$\nj\\omega_a = \\frac{2}{T} j\\tan\\left(\\frac{\\omega_d T}{2}\\right)\n$$\nCanceling the imaginary unit $j$ from both sides yields the frequency warping equation:\n$$\n\\omega_a = \\frac{2}{T} \\tan\\left(\\frac{\\omega_d T}{2}\\right)\n$$\nThis equation demonstrates the non-linear relationship between the analog frequency axis $\\omega_a$ and the digital frequency axis $\\omega_d$. It dictates that the frequency response of the resulting digital filter at a digital frequency $\\omega_d$ is identical to the frequency response of the source continuous-time filter at the corresponding analog frequency $\\omega_a$.\n\nThe problem requires that the phase of the final digital compensator at the digital frequency corresponding to $\\omega_c$ (that is, at $\\omega_d = \\omega_c$) must be equal to the phase of the ideal continuous-time design at frequency $\\omega_c$. Let $C_d(z)$ be the derived digital compensator and $C_{ideal}(s)$ be the target continuous-time compensator. The condition is:\n$$\n\\angle C_d(e^{j\\omega_c T}) = \\angle C_{ideal}(j\\omega_c)\n$$\nThe continuous-time compensator that is actually implemented before discretization is the prewarped prototype, which we can call $C_{pre}(s)$. Its discretization gives $C_d(z)$. The frequency response mapping tells us that:\n$$\nC_d(e^{j\\omega_d T}) = C_{pre}(j\\omega_a)\n$$\nwhere $\\omega_a$ is given by the warping equation. For our specific frequency of interest, $\\omega_d = \\omega_c$, this implies:\n$$\n\\angle C_d(e^{j\\omega_c T}) = \\angle C_{pre}\\left(j\\frac{2}{T} \\tan\\left(\\frac{\\omega_c T}{2}\\right)\\right)\n$$\nTo satisfy the problem's requirement, we must equate the phases:\n$$\n\\angle C_{pre}\\left(j\\frac{2}{T} \\tan\\left(\\frac{\\omega_c T}{2}\\right)\\right) = \\angle C_{ideal}(j\\omega_c)\n$$\nThis equality dictates the design of the prototype filter $C_{pre}(s)$. We design $C_{ideal}(s)$ based on its desired behavior at frequency $\\omega_c$. The equation shows that to achieve this behavior in the final digital filter at the correct frequency, the prototype $C_{pre}(s)$ must exhibit this same behavior at the frequency $\\frac{2}{T} \\tan(\\frac{\\omega_c T}{2})$.\n\nTherefore, the analog frequency at which the continuous-time compensator must be designed, which the problem labels as the prewarped frequency $\\omega_w$, is precisely this warped analog frequency. All design calculations for the continuous-time prototype (e.g., placement of poles and zeros) that would normally use $\\omega_c$ must instead use $\\omega_w$.\n$$\n\\omega_w = \\frac{2}{T} \\tan\\left(\\frac{\\omega_c T}{2}\\right)\n$$\nThis is the required symbolic expression.", "answer": "$$\n\\boxed{\\frac{2}{T} \\tan\\left(\\frac{\\omega_c T}{2}\\right)}\n$$", "id": "2718180"}]}