{"hands_on_practices": [{"introduction": "The graph Laplacian matrix is the cornerstone of multi-agent consensus theory, encoding the network's topology into a form amenable to dynamic analysis. Its spectral properties, particularly its second-smallest eigenvalue $\\lambda_2$ (the algebraic connectivity), directly determine whether a network of agents can reach consensus. This exercise [@problem_id:2726172] provides fundamental practice in computing the Laplacian and using its eigenvalues to rigorously verify network connectivity.", "problem": "Consider a network of $4$ agents with an undirected weighted communication graph. The adjacency matrix $\\mathbf{A} \\in \\mathbb{R}^{4 \\times 4}$ is given by\n$$\n\\mathbf{A} \\;=\\;\n\\begin{pmatrix}\n0  1  \\alpha  1 \\\\\n1  0  1  0 \\\\\n\\alpha  1  0  1 \\\\\n1  0  1  0\n\\end{pmatrix},\n$$\nwhere $\\alpha \\ge 0$ is a real scalar weight. Let $\\mathbf{D}$ denote the degree matrix and $\\mathbf{L} = \\mathbf{D} - \\mathbf{A}$ denote the (combinatorial) graph Laplacian. Work from first principles, using only the definitions of degree, adjacency, and Laplacian, and standard spectral properties of real symmetric matrices. \n\nTasks:\n- Compute $\\mathbf{D}$ and $\\mathbf{L}$ explicitly.\n- Derive all eigenvalues of $\\mathbf{L}$ analytically in closed form as functions of $\\alpha$.\n- Using the spectral connectivity criterion for undirected graphs, determine whether the graph is connected for $\\alpha \\ge 0$.\n\nAs your final answer, report only the algebraic connectivity, defined as the second-smallest eigenvalue $\\lambda_2(\\mathbf{L})$, as a closed-form expression in $\\alpha$. No units are required, and no rounding is necessary.", "solution": "The problem as stated is scientifically grounded, well-posed, and objective. It is a standard exercise in algebraic graph theory, central to the study of multi-agent consensus. All necessary information is provided, and the definitions are standard. The problem is valid. We will proceed with the solution.\n\nThe problem requires the analysis of a $4$-agent network with a specified weighted, undirected communication graph.\n\nFirst, we are given the adjacency matrix $\\mathbf{A}$:\n$$\n\\mathbf{A} \\;=\\;\n\\begin{pmatrix}\n0  1  \\alpha  1 \\\\\n1  0  1  0 \\\\\n\\alpha  1  0  1 \\\\\n1  0  1  0\n\\end{pmatrix}\n$$\nwhere $\\alpha \\ge 0$ is a real scalar. The graph is undirected, which is consistent with the fact that $\\mathbf{A}$ is a symmetric matrix.\n\nThe first task is to compute the degree matrix $\\mathbf{D}$. The degree $d_i$ of a vertex $i$ is the sum of the weights of all edges connected to it, which corresponds to the sum of the elements in the $i$-th row (or column) of the adjacency matrix $\\mathbf{A}$.\nThe degrees of the four agents (vertices) are:\n$$ d_1 = 0 + 1 + \\alpha + 1 = 2+\\alpha $$\n$$ d_2 = 1 + 0 + 1 + 0 = 2 $$\n$$ d_3 = \\alpha + 1 + 0 + 1 = 2+\\alpha $$\n$$ d_4 = 1 + 0 + 1 + 0 = 2 $$\nThe degree matrix $\\mathbf{D}$ is the diagonal matrix formed by these degrees:\n$$\n\\mathbf{D} = \\text{diag}(d_1, d_2, d_3, d_4) = \n\\begin{pmatrix}\n2+\\alpha  0  0  0 \\\\\n0  2  0  0 \\\\\n0  0  2+\\alpha  0 \\\\\n0  0  0  2\n\\end{pmatrix}\n$$\nNext, we compute the graph Laplacian $\\mathbf{L}$ using its definition, $\\mathbf{L} = \\mathbf{D} - \\mathbf{A}$.\n$$\n\\mathbf{L} = \n\\begin{pmatrix}\n2+\\alpha  0  0  0 \\\\\n0  2  0  0 \\\\\n0  0  2+\\alpha  0 \\\\\n0  0  0  2\n\\end{pmatrix}\n-\n\\begin{pmatrix}\n0  1  \\alpha  1 \\\\\n1  0  1  0 \\\\\n\\alpha  1  0  1 \\\\\n1  0  1  0\n\\end{pmatrix}\n=\n\\begin{pmatrix}\n2+\\alpha  -1  -\\alpha  -1 \\\\\n-1  2  -1  0 \\\\\n-\\alpha  -1  2+\\alpha  -1 \\\\\n-1  0  -1  2\n\\end{pmatrix}\n$$\n\nThe second task is to derive all eigenvalues of $\\mathbf{L}$. We must solve the characteristic equation $\\det(\\mathbf{L} - \\lambda \\mathbf{I}) = 0$. However, it is more efficient to find the eigenvalues by exploiting the structure of the matrix $\\mathbf{L}$ to find its eigenvectors.\n\nA fundamental property of the Laplacian matrix for any undirected graph is that the sum of each row is zero. This implies that the vector $\\mathbf{1} = \\begin{pmatrix} 1  1  1  1 \\end{pmatrix}^T$ is an eigenvector with a corresponding eigenvalue of $0$.\n$$\n\\mathbf{L} \\mathbf{1} = \n\\begin{pmatrix}\n2+\\alpha - 1 - \\alpha - 1 \\\\\n-1 + 2 - 1 + 0 \\\\\n-\\alpha - 1 + 2+\\alpha - 1 \\\\\n-1 + 0 - 1 + 2\n\\end{pmatrix}\n=\n\\begin{pmatrix} 0 \\\\ 0 \\\\ 0 \\\\ 0 \\end{pmatrix}\n= 0 \\cdot \\mathbf{1}\n$$\nThus, one eigenvalue is $\\lambda_1 = 0$.\n\nNow, we observe the symmetries in the graph structure. Vertices $1$ and $3$ are structurally symmetric, as are vertices $2$ and $4$. This suggests eigenvectors that capture these symmetries.\n\nConsider the vector $\\mathbf{v}_2 = \\begin{pmatrix} 1  0  -1  0 \\end{pmatrix}^T$. We compute $\\mathbf{L}\\mathbf{v}_2$:\n$$\n\\mathbf{L} \\mathbf{v}_2 = \n\\begin{pmatrix}\n2+\\alpha  -1  -\\alpha  -1 \\\\\n-1  2  -1  0 \\\\\n-\\alpha  -1  2+\\alpha  -1 \\\\\n-1  0  -1  2\n\\end{pmatrix}\n\\begin{pmatrix} 1 \\\\ 0 \\\\ -1 \\\\ 0 \\end{pmatrix}\n=\n\\begin{pmatrix} (2+\\alpha) - (-\\alpha) \\\\ -1 - (-1) \\\\ -\\alpha - (2+\\alpha) \\\\ -1 - (-1) \\end{pmatrix}\n=\n\\begin{pmatrix} 2+2\\alpha \\\\ 0 \\\\ -2-2\\alpha \\\\ 0 \\end{pmatrix}\n= (2+2\\alpha) \\begin{pmatrix} 1 \\\\ 0 \\\\ -1 \\\\ 0 \\end{pmatrix}\n$$\nThus, another eigenvalue is $\\lambda_2 = 2+2\\alpha$.\n\nConsider the vector $\\mathbf{v}_3 = \\begin{pmatrix} 0  1  0  -1 \\end{pmatrix}^T$. We compute $\\mathbf{L}\\mathbf{v}_3$:\n$$\n\\mathbf{L} \\mathbf{v}_3 = \n\\begin{pmatrix}\n2+\\alpha  -1  -\\alpha  -1 \\\\\n-1  2  -1  0 \\\\\n-\\alpha  -1  2+\\alpha  -1 \\\\\n-1  0  -1  2\n\\end{pmatrix}\n\\begin{pmatrix} 0 \\\\ 1 \\\\ 0 \\\\ -1 \\end{pmatrix}\n=\n\\begin{pmatrix} -1 - (-1) \\\\ 2 \\\\ -1 - (-1) \\\\ -2 \\end{pmatrix}\n=\n\\begin{pmatrix} 0 \\\\ 2 \\\\ 0 \\\\ -2 \\end{pmatrix}\n= 2 \\begin{pmatrix} 0 \\\\ 1 \\\\ 0 \\\\ -1 \\end{pmatrix}\n$$\nThus, a third eigenvalue is $\\lambda_3 = 2$.\n\nTo find the fourth eigenvalue, we use the property that the sum of the eigenvalues of a matrix is equal to its trace.\n$$ \\text{tr}(\\mathbf{L}) = (2+\\alpha) + 2 + (2+\\alpha) + 2 = 8+2\\alpha $$\nLet the fourth eigenvalue be $\\lambda_4$. Then,\n$$ \\sum_{i=1}^{4} \\lambda_i = \\lambda_1 + \\lambda_2 + \\lambda_3 + \\lambda_4 = \\text{tr}(\\mathbf{L}) $$\n$$ 0 + (2+2\\alpha) + 2 + \\lambda_4 = 8+2\\alpha $$\n$$ 4+2\\alpha + \\lambda_4 = 8+2\\alpha $$\n$$ \\lambda_4 = 4 $$\nThe four eigenvalues of $\\mathbf{L}$ as functions of $\\alpha$ are $\\{0, 2, 4, 2+2\\alpha\\}$.\n\nThe third task is to determine if the graph is connected. For an undirected graph, the spectral connectivity criterion states that the graph is connected if and only if the second-smallest eigenvalue of its Laplacian, $\\lambda_2(\\mathbf{L})$, known as the algebraic connectivity, is strictly positive.\n\nWe must order the eigenvalues for the given condition $\\alpha \\ge 0$. The eigenvalues are $\\{0, 2, 4, 2+2\\alpha\\}$.\nThe smallest eigenvalue is always $\\lambda_1(\\mathbf{L}) = 0$.\nThe non-zero eigenvalues are $\\{2, 4, 2+2\\alpha\\}$.\nWe are given $\\alpha \\ge 0$. This implies $2\\alpha \\ge 0$, and therefore $2+2\\alpha \\ge 2$.\nThe second-smallest eigenvalue, $\\lambda_2(\\mathbf{L})$, is the minimum of the set of positive eigenvalues:\n$$ \\lambda_2(\\mathbf{L}) = \\min\\{2, 4, 2+2\\alpha\\} $$\nSince $2+2\\alpha \\ge 2$, the minimum value in this set is $2$.\nTherefore, the algebraic connectivity is $\\lambda_2(\\mathbf{L}) = 2$.\n\nSince $\\lambda_2(\\mathbf{L}) = 2 > 0$ for all $\\alpha \\ge 0$, the graph is connected for all non-negative values of $\\alpha$.\n\nThe problem asks for the algebraic connectivity, $\\lambda_2(\\mathbf{L})$, as the final answer.\nBased on our derivation, this value is a constant.\n$$ \\lambda_2(\\mathbf{L}) = 2 $$", "answer": "$$\n\\boxed{2}\n$$", "id": "2726172"}, {"introduction": "While consensus on undirected graphs often results in agreement on the simple average of initial states, the dynamics on directed graphs can be richer. For a strongly connected directed graph, agents still converge to a common value, but this value is a weighted average that depends on the graph's structure. This exercise [@problem_id:2726175] demonstrates how to find this consensus value by computing the left eigenvector of the Laplacian, revealing the influence of each agent on the final agreement.", "problem": "Consider a network of $N=5$ agents labeled $1,2,3,4,5$ evolving under the continuous-time consensus dynamics\n$$\n\\dot{x}(t) \\;=\\; -L\\,x(t),\n$$\nwhere $x(t)\\in \\mathbb{R}^{5}$ stacks the agent states $x_{i}(t)$ and $L$ is the graph Laplacian constructed from a directed ring. The directed ring has oriented edges $i\\to i+1$ (with indices modulo $5$ so that $5\\to 1$) and strictly positive, unequal edge weights $c_{1},c_{2},c_{3},c_{4},c_{5}$ assigned to edges $1\\to 2,2\\to 3,3\\to 4,4\\to 5,5\\to 1$, respectively. For this convention, the Laplacian $L$ is defined by\n$$\nL_{ii} \\;=\\; \\sum_{j=1}^{5} a_{ij}, \\qquad L_{ij} \\;=\\; -a_{ij} \\text{ for } i\\neq j,\n$$\nwith $a_{i+1,i}=c_{i}$ (and zero otherwise), so that each agent $i$ uses the law\n$$\n\\dot{x}_{i}(t) \\;=\\; \\sum_{j=1}^{5} a_{ij}\\big(x_{j}(t)-x_{i}(t)\\big).\n$$\nLet the edge weights be\n$$\nc_{1}=2,\\quad c_{2}=3,\\quad c_{3}=5,\\quad c_{4}=7,\\quad c_{5}=11,\n$$\nand the initial condition be\n$$\nx(0)\\;=\\;\\begin{pmatrix}4\\\\ -1\\\\ 3\\\\ 0\\\\ 2\\end{pmatrix}.\n$$\n\nStarting from the foundational definitions of the Laplacian, irreducibility of the directed ring, and the convergence properties of consensus dynamics generated by $-L$, do the following:\n\n- Establish that the directed ring is strongly connected and not weight-balanced.\n- Using only these bases, derive the explicit form of the left eigenvector $w\\in\\mathbb{R}^{5}_{0}$ satisfying $w^{\\top}L=0$ and normalize it to form a probability vector $\\pi=w/\\big(w^{\\top}\\mathbf{1}\\big)$, where $\\mathbf{1}$ is the all-ones vector.\n- Compute the consensus limit\n$$\nx_{\\infty} \\;=\\; \\lim_{t\\to\\infty} x_{i}(t) \\quad \\text{(which is independent of }i\\text{)}\n$$\nas the corresponding non-uniform weighted average $\\pi^{\\top}x(0)$.\n\nExpress your final numerical answer for $x_{\\infty}$ as a reduced fraction with no units. No rounding is required.", "solution": "The problem statement is evaluated and determined to be valid. It is scientifically grounded in the established theory of multi-agent systems, well-posed, and free of any contradictions or ambiguities. We may therefore proceed with the solution.\n\nThe system dynamics are given by $\\dot{x}(t) = -L x(t)$, where $x(t) \\in \\mathbb{R}^{5}$ is the vector of agent states and $L$ is the graph Laplacian. The underlying communication graph is a directed ring with edges $i \\to i+1$, for $i \\in \\{1, 2, 3, 4\\}$, and an edge $5 \\to 1$. The weight of the edge $k \\to k+1$ (with indices taken modulo $5$) is denoted by $c_k  0$. The adjacency matrix $A = [a_{ij}]$ of this graph has non-zero entries $a_{i+1,i} = c_i$. Specifically, for $N=5$, we have $a_{21}=c_1$, $a_{32}=c_2$, $a_{43}=c_3$, $a_{54}=c_4$, and $a_{15}=c_5$. All other entries of $A$ are zero.\n\nThe Laplacian matrix $L$ is defined by its elements $L_{ii} = \\sum_{j=1}^{5} a_{ij}$ and $L_{ij} = -a_{ij}$ for $i \\neq j$. The diagonal elements $L_{ii}$ represent the in-degree of node $i$.\nFor this graph:\n- In-degree of node $1$: $d_{in}(1) = a_{15} = c_5$.\n- In-degree of node $2$: $d_{in}(2) = a_{21} = c_1$.\n- In-degree of node $3$: $d_{in}(3) = a_{32} = c_2$.\n- In-degree of node $4$: $d_{in}(4) = a_{43} = c_3$.\n- In-degree of node $5$: $d_{in}(5) = a_{54} = c_4$.\n\nThe Laplacian matrix $L$ is therefore\n$$\nL =\n\\begin{pmatrix}\nc_5  0  0  0  -c_5 \\\\\n-c_1  c_1  0  0  0 \\\\\n0  -c_2  c_2  0  0 \\\\\n0  0  -c_3  c_3  0 \\\\\n0  0  0  -c_4  c_4\n\\end{pmatrix}.\n$$\n\nFirst, we must establish the properties of the graph.\nA directed graph is strongly connected if there exists a directed path from any node to any other node. In the given directed ring topology $1 \\to 2 \\to 3 \\to 4 \\to 5 \\to 1$, one can traverse the cycle to reach any node $j$ starting from any node $i$. Thus, the graph is strongly connected. This property is fundamental as it guarantees that the Laplacian $L$ has a simple eigenvalue at $0$ and all other eigenvalues have positive real parts, ensuring convergence to a consensus state.\n\nNext, we examine if the graph is weight-balanced. A directed graph is weight-balanced if the in-degree equals the out-degree for every node, i.e., $\\sum_j a_{ij} = \\sum_j a_{ji}$ for all $i$.\nThe out-degrees are:\n- Out-degree of node $1$: $d_{out}(1) = a_{21} = c_1$.\n- Out-degree of node $2$: $d_{out}(2) = a_{32} = c_2$.\n- Out-degree of node $3$: $d_{out}(3) = a_{43} = c_3$.\n- Out-degree of node $4$: $d_{out}(4) = a_{54} = c_4$.\n- Out-degree of node $5$: $d_{out}(5) = a_{15} = c_5$.\n\nFor the graph to be weight-balanced, we must have $d_{in}(i) = d_{out}(i)$ for all $i$:\n- For $i=1$: $d_{in}(1) = c_5$ must equal $d_{out}(1) = c_1$.\n- For $i=2$: $d_{in}(2) = c_1$ must equal $d_{out}(2) = c_2$.\n- For $i=3$: $d_{in}(3) = c_2$ must equal $d_{out}(3) = c_3$.\n- For $i=4$: $d_{in}(4) = c_3$ must equal $d_{out}(4) = c_4$.\n- For $i=5$: $d_{in}(5) = c_4$ must equal $d_{out}(5) = c_5$.\nThis requires $c_1 = c_2 = c_3 = c_4 = c_5$. The problem provides the weights $c_1=2$, $c_2=3$, $c_3=5$, $c_4=7$, $c_5=11$, which are not all equal. Therefore, the graph is not weight-balanced.\n\nThe consensus state is determined by the left eigenvector $w \\in \\mathbb{R}^{5}$ corresponding to the zero eigenvalue of $L$. This vector must satisfy $w^{\\top}L=0$. This is equivalent to solving $L^{\\top}w=0$. The transpose of the Laplacian is\n$$\nL^{\\top} =\n\\begin{pmatrix}\nc_5  -c_1  0  0  0 \\\\\n0  c_1  -c_2  0  0 \\\\\n0  0  c_2  -c_3  0 \\\\\n0  0  0  c_3  -c_4 \\\\\n-c_5  0  0  0  c_4\n\\end{pmatrix}.\n$$\nThe system of linear equations $L^{\\top}w=0$ for $w = (w_1, w_2, w_3, w_4, w_5)^{\\top}$ is:\n\\begin{align*}\nc_5 w_1 - c_1 w_2 = 0 \\\\\nc_1 w_2 - c_2 w_3 = 0 \\\\\nc_2 w_3 - c_3 w_4 = 0 \\\\\nc_3 w_4 - c_4 w_5 = 0 \\\\\n-c_5 w_1 + c_4 w_5 = 0\n\\end{align*}\nFrom the first four equations, we obtain the chain of equalities: $c_5 w_1 = c_1 w_2 = c_2 w_3 = c_3 w_4 = c_4 w_5$. The fifth equation, $c_4 w_5 = c_5 w_1$, is thus redundant and confirms consistency.\nLet this common product be a non-zero constant $K$. Then $w_i$ can be expressed as:\n$w_1 = K/c_5$, $w_2 = K/c_1$, $w_3 = K/c_2$, $w_4 = K/c_3$, $w_5 = K/c_4$.\nSince $c_i  0$ for all $i$, all components of $w$ are positive. We can select $K=1$, yielding the eigenvector $w = (1/c_5, 1/c_1, 1/c_2, 1/c_3, 1/c_4)^{\\top}$.\n\nThe normalized left eigenvector, or probability vector, $\\pi$ is obtained by dividing $w$ by the sum of its components, $w^{\\top}\\mathbf{1}$, where $\\mathbf{1}$ is the all-ones vector.\n$$\n\\pi = \\frac{w}{w^{\\top}\\mathbf{1}} = \\frac{w}{\\sum_{i=1}^5 w_i}.\n$$\nThe components of $\\pi$ are given by $\\pi_i = w_i / \\sum_{j=1}^5 w_j$.\n\nThe consensus limit $x_{\\infty}$ is a conserved quantity. The quantity $w^{\\top}x(t)$ is invariant over time because its derivative is zero:\n$$\n\\frac{d}{dt}(w^{\\top}x(t)) = w^{\\top}\\dot{x}(t) = w^{\\top}(-L x(t)) = -(w^{\\top}L)x(t) = 0^{\\top}x(t) = 0.\n$$\nTherefore, $w^{\\top}x(t)$ is constant for all $t \\ge 0$, and so $w^{\\top}x(\\infty) = w^{\\top}x(0)$. As $t \\to \\infty$, all states converge to the same value, $x_i(t) \\to x_{\\infty}$, so $x(\\infty) = x_{\\infty}\\mathbf{1}$.\nSubstituting this into the conservation equation gives:\n$$\nw^{\\top}(x_{\\infty}\\mathbf{1}) = w^{\\top}x(0) \\implies x_{\\infty}(w^{\\top}\\mathbf{1}) = w^{\\top}x(0).\n$$\nThe consensus value is thus the weighted average of the initial states:\n$$\nx_{\\infty} = \\frac{w^{\\top}x(0)}{w^{\\top}\\mathbf{1}} = \\pi^{\\top}x(0) = \\sum_{i=1}^{5} \\pi_i x_i(0).\n$$\nWe now substitute the numerical values: $c_1=2, c_2=3, c_3=5, c_4=7, c_5=11$, and $x(0) = (4, -1, 3, 0, 2)^{\\top}$.\nThe un-normalized left eigenvector components are:\n$w_1 = 1/11$, $w_2 = 1/2$, $w_3 = 1/3$, $w_4 = 1/5$, $w_5 = 1/7$.\n\nThe sum of the components is:\n$$\nw^{\\top}\\mathbf{1} = \\sum_{i=1}^{5} w_i = \\frac{1}{11} + \\frac{1}{2} + \\frac{1}{3} + \\frac{1}{5} + \\frac{1}{7}.\n$$\nThe least common multiple of the denominators $\\{11, 2, 3, 5, 7\\}$ is their product, $2 \\times 3 \\times 5 \\times 7 \\times 11 = 2310$.\n$$\nw^{\\top}\\mathbf{1} = \\frac{210}{2310} + \\frac{1155}{2310} + \\frac{770}{2310} + \\frac{462}{2310} + \\frac{330}{2310} = \\frac{210+1155+770+462+330}{2310} = \\frac{2927}{2310}.\n$$\nThe term $w^{\\top}x(0)$ is:\n$$\nw^{\\top}x(0) = \\sum_{i=1}^{5} w_i x_i(0) = w_1 x_1(0) + w_2 x_2(0) + w_3 x_3(0) + w_4 x_4(0) + w_5 x_5(0)\n$$\n$$\nw^{\\top}x(0) = \\left(\\frac{1}{11}\\right)(4) + \\left(\\frac{1}{2}\\right)(-1) + \\left(\\frac{1}{3}\\right)(3) + \\left(\\frac{1}{5}\\right)(0) + \\left(\\frac{1}{7}\\right)(2) = \\frac{4}{11} - \\frac{1}{2} + 1 + 0 + \\frac{2}{7}.\n$$\nThe least common multiple of $\\{11, 2, 7\\}$ is $154$.\n$$\nw^{\\top}x(0) = \\frac{4 \\times 14}{154} - \\frac{1 \\times 77}{154} + \\frac{154}{154} + \\frac{2 \\times 22}{154} = \\frac{56 - 77 + 154 + 44}{154} = \\frac{177}{154}.\n$$\nFinally, we compute the consensus limit $x_{\\infty}$:\n$$\nx_{\\infty} = \\frac{w^{\\top}x(0)}{w^{\\top}\\mathbf{1}} = \\frac{177/154}{2927/2310} = \\frac{177}{154} \\times \\frac{2310}{2927}.\n$$\nWe simplify the fraction by noting that $2310 = 15 \\times 154$:\n$$\nx_{\\infty} = \\frac{177 \\times (15 \\times 154)}{154 \\times 2927} = \\frac{177 \\times 15}{2927} = \\frac{2655}{2927}.\n$$\nThe prime factors of the numerator are $2655 = 3^2 \\times 5 \\times 59$. The denominator $2927$ is not divisible by $3$, $5$, or $59$. In fact, $2927$ is a prime number. Therefore, the fraction is in its simplest form.", "answer": "$$\\boxed{\\frac{2655}{2927}}$$", "id": "2726175"}, {"introduction": "Beyond achieving consensus on a single state value, multi-agent systems are often used to maintain specific geometric formations. A critical property for formation stability is infinitesimal rigidity, which ensures that the formation cannot be deformed by small, instantaneous motions other than trivial translations or rotations. This practice [@problem_id:2726149] bridges theory and application by asking you to construct the rigidity matrix for a given formation and use its rank to determine its local stability.", "problem": "Consider a formation of $4$ agents in $\\mathbb{R}^{2}$ with labeled vertices $\\{1,2,3,4\\}$ and undirected edges $\\mathcal{E}=\\{(1,2),(2,3),(3,4),(4,1),(1,3)\\}$. The agents are at positions $p_{1}=(0,0)$, $p_{2}=(1,0)$, $p_{3}=(1,1)$, and $p_{4}=(0,1)$. The desired distances are specified on the edges as $d_{12}=1$, $d_{23}=1$, $d_{34}=1$, $d_{41}=1$, and $d_{13}=\\sqrt{2}$, and the current positions satisfy these distances exactly.\n\nUsing only the standard definition that the rigidity matrix $R(p)$ of a framework $(\\mathcal{G},p)$ is the Jacobian of the squared edge-length map with respect to the stacked position vector in $\\mathbb{R}^{2n}$, do the following:\n- Construct the rigidity matrix $R(p)$ for this framework.\n- Compute the rank of $R(p)$.\n- Based on first principles, determine whether the formation is infinitesimally rigid in $\\mathbb{R}^{2}$.\n\nExpress your final answer as the single value equal to the rank of $R(p)$. No rounding is required. No units are required. The determination of infinitesimal rigidity must be justified in your working but is not part of the final numeric answer.", "solution": "The problem requires the construction and analysis of the rigidity matrix for a specified formation of $4$ agents in $\\mathbb{R}^{2}$. The validation of the problem statement indicates that it is well-posed, scientifically grounded, and contains sufficient information for a unique solution. We proceed with the solution.\n\nThe configuration of the $4$ agents is described by a stacked position vector $p \\in \\mathbb{R}^{2 \\times 4} = \\mathbb{R}^{8}$. Let $p_i = (x_i, y_i)$ be the position of agent $i$. The stacked vector is $p = (x_1, y_1, x_2, y_2, x_3, y_3, x_4, y_4)^T$. The given positions are $p_1 = (0,0)$, $p_2 = (1,0)$, $p_3 = (1,1)$, and $p_4 = (0,1)$. Thus, the specific configuration vector is $p = (0, 0, 1, 0, 1, 1, 0, 1)^T$.\n\nThe framework is defined by the graph $\\mathcal{G} = (\\mathcal{V}, \\mathcal{E})$, where $\\mathcal{V}=\\{1,2,3,4\\}$ and the set of edges is $\\mathcal{E}=\\{(1,2),(2,3),(3,4),(4,1),(1,3)\\}$. There are $|\\mathcal{V}|=N=4$ agents and $|\\mathcal{E}|=M=5$ edges.\n\nThe squared edge-length map $f(p): \\mathbb{R}^{8} \\to \\mathbb{R}^{5}$ is a function whose components are the squared lengths of the edges in $\\mathcal{E}$. For an edge $(i,j) \\in \\mathcal{E}$, the corresponding component of $f(p)$ is $f_{ij}(p) = \\|p_i - p_j\\|^2 = (x_i - x_j)^2 + (y_i - y_j)^2$. We order the edges as given: $(1,2)$, $(2,3)$, $(3,4)$, $(4,1)$, $(1,3)$. Thus,\n$$\nf(p) = \\begin{pmatrix}\n\\|p_1 - p_2\\|^2 \\\\\n\\|p_2 - p_3\\|^2 \\\\\n\\|p_3 - p_4\\|^2 \\\\\n\\|p_4 - p_1\\|^2 \\\\\n\\|p_1 - p_3\\|^2\n\\end{pmatrix}\n$$\nThe rigidity matrix $R(p)$ is defined as the Jacobian of this map with respect to $p$: $R(p) = \\frac{\\partial f(p)}{\\partial p}$. This is a $5 \\times 8$ matrix where each row corresponds to an edge. The row corresponding to edge $(i,j)$ is obtained by taking the partial derivatives of $f_{ij}(p)$ with respect to the components of $p$. The only non-zero derivatives are with respect to $p_i=(x_i, y_i)$ and $p_j=(x_j, y_j)$:\n$$\n\\frac{\\partial f_{ij}}{\\partial p_i} = 2(p_i - p_j)^T, \\quad \\frac{\\partial f_{ij}}{\\partial p_j} = -2(p_i - p_j)^T\n$$\nThe row for edge $(i,j)$ will have $2(p_i-p_j)^T$ in the columns corresponding to agent $i$ and $-2(p_i-p_j)^T$ in the columns for agent $j$. Let us construct the matrix row by row.\n\nRow $1$ (edge $(1,2)$): $p_1 - p_2 = (0,0) - (1,0) = (-1,0)$. The entries are $2(-1,0)=(-2,0)$ for agent $1$ and $-2(-1,0)=(2,0)$ for agent $2$.\nRow: $(-2, 0, 2, 0, 0, 0, 0, 0)$\n\nRow $2$ (edge $(2,3)$): $p_2 - p_3 = (1,0) - (1,1) = (0,-1)$. The entries are $2(0,-1)=(0,-2)$ for agent $2$ and $-2(0,-1)=(0,2)$ for agent $3$.\nRow: $(0, 0, 0, -2, 0, 2, 0, 0)$\n\nRow $3$ (edge $(3,4)$): $p_3 - p_4 = (1,1) - (0,1) = (1,0)$. The entries are $2(1,0)=(2,0)$ for agent $3$ and $-2(1,0)=(-2,0)$ for agent $4$.\nRow: $(0, 0, 0, 0, 2, 0, -2, 0)$\n\nRow $4$ (edge $(4,1)$): $p_4 - p_1 = (0,1) - (0,0) = (0,1)$. The entries are $2(0,1)=(0,2)$ for agent $4$ and $-2(0,1)=(0,-2)$ for agent $1$.\nRow: $(0, -2, 0, 0, 0, 0, 0, 2)$\n\nRow $5$ (edge $(1,3)$): $p_1 - p_3 = (0,0) - (1,1) = (-1,-1)$. The entries are $2(-1,-1)=(-2,-2)$ for agent $1$ and $-2(-1,-1)=(2,2)$ for agent $3$.\nRow: $(-2, -2, 0, 0, 2, 2, 0, 0)$\n\nAssembling these rows gives the rigidity matrix $R(p)$:\n$$\nR(p) = \\begin{pmatrix}\n-2  0  2  0  0  0  0  0 \\\\\n0  0  0  -2  0  2  0  0 \\\\\n0  0  0  0  2  0  -2  0 \\\\\n0  -2  0  0  0  0  0  2 \\\\\n-2  -2  0  0  2  2  0  0\n\\end{pmatrix}\n$$\nNext, we compute the rank of $R(p)$. Since the rank is invariant under scaling of the entire matrix, we can compute the rank of $R'(p) = \\frac{1}{2} R(p)$:\n$$\nR'(p) = \\begin{pmatrix}\n-1  0  1  0  0  0  0  0 \\\\\n0  0  0  -1  0  1  0  0 \\\\\n0  0  0  0  1  0  -1  0 \\\\\n0  -1  0  0  0  0  0  1 \\\\\n-1  -1  0  0  1  1  0  0\n\\end{pmatrix}\n$$\nWe perform Gaussian elimination. Let $r_k$ denote the $k$-th row.\n$r_5 \\leftarrow r_5 - r_1$:\n$$\n\\begin{pmatrix}\n-1  0  1  0  0  0  0  0 \\\\\n0  0  0  -1  0  1  0  0 \\\\\n0  0  0  0  1  0  -1  0 \\\\\n0  -1  0  0  0  0  0  1 \\\\\n0  -1  -1  0  1  1  0  0\n\\end{pmatrix}\n$$\n$r_5 \\leftarrow r_5 - r_4$:\n$$\n\\begin{pmatrix}\n-1  0  1  0  0  0  0  0 \\\\\n0  0  0  -1  0  1  0  0 \\\\\n0  0  0  0  1  0  -1  0 \\\\\n0  -1  0  0  0  0  0  1 \\\\\n0  0  -1  0  1  1  0  -1\n\\end{pmatrix}\n$$\nSwapping rows to achieve a row echelon form: swap $r_2$ and $r_4$, then swap $r_3$ and $r_5$.\n$$\n\\begin{pmatrix}\n-1  0  1  0  0  0  0  0 \\\\\n0  -1  0  0  0  0  0  1 \\\\\n0  0  -1  0  1  1  0  -1 \\\\\n0  0  0  -1  0  1  0  0 \\\\\n0  0  0  0  1  0  -1  0\n\\end{pmatrix}\n$$\nThe matrix is now in row echelon form. There are $5$ non-zero rows, and each has a leading non-zero entry (a pivot). The number of pivots is the rank of the matrix. Therefore, the rank of $R'(p)$, and thus of $R(p)$, is $5$.\n$$ \\text{rank}(R(p)) = 5 $$\nFinally, we determine if the formation is infinitesimally rigid. A framework is infinitesimally rigid if the only infinitesimal motions that preserve the edge lengths to first order are the trivial rigid motions (translations and rotations). An infinitesimal motion is a velocity vector $v \\in \\mathbb{R}^{8}$ assigned to the agents. The condition of preserving edge lengths to first order is $R(p) v = 0$. Thus, the space of infinitesimal motions is the null space, or kernel, of $R(p)$.\nFrom the rank-nullity theorem, the dimension of the null space is:\n$$ \\text{dim}(\\text{ker}(R(p))) = (\\text{number of columns}) - \\text{rank}(R(p)) = 8 - 5 = 3 $$\nThe space of trivial rigid motions in $\\mathbb{R}^{d}$ has dimension $d + \\binom{d}{2}$. For $d=2$, this dimension is $2 + \\binom{2}{2} = 2+1 = 3$. These correspond to two independent translations and one rotation.\nSince the dimension of the null space of $R(p)$ is $3$, which is equal to the dimension of the space of trivial rigid motions, the null space consists entirely of these trivial motions. There are no non-trivial infinitesimal flexes. Therefore, by definition, the formation is infinitesimally rigid.\n\nThe required rank for infinitesimal rigidity in $\\mathbb{R}^2$ for a non-collinear set of $N=4$ agents is $2N - 3 = 2(4) - 3 = 5$. Our computed rank is $5$, which confirms this conclusion.", "answer": "$$\n\\boxed{5}\n$$", "id": "2726149"}]}