{"hands_on_practices": [{"introduction": "We begin by exploring the deep connection between the integral-based Principle of Virtual Work and the differential equations that govern equilibrium. This practice challenges you to derive the strong form of equilibrium for a non-prismatic bar from the weak form, and then solve for the exact displacement field [@problem_id:2676315]. This exercise is fundamental for understanding how natural boundary conditions arise automatically from the virtual work statement and how PVW serves as the foundation for more general continuum mechanics formulations.", "problem": "A straight, slender, linearly elastic bar occupies the interval $x \\in [0, L]$ along its axis. The Young’s modulus is constant and equal to $E$. The cross-sectional area varies linearly as $A(x) = A_{0}\\left(1 + \\alpha \\frac{x}{L}\\right)$ with $\\alpha > -1$ so that $A(x) > 0$ on the entire bar. The bar is subjected to an axially distributed load $q(x) = q_{0}\\left(1 + \\frac{x}{L}\\right)$ acting in the positive $x$-direction, and a terminal axial force $P$ applied at the free end $x=L$ in the positive $x$-direction. The left end at $x=0$ is fixed, so the axial displacement satisfies $u(0) = 0$.\n\nUsing the Principle of Virtual Work (PVW) for deformable bodies, do the following:\n- Specify a class of admissible virtual displacement fields for this boundary value problem and invoke the PVW to obtain the weak statement.\n- From the weak statement, deduce the governing equilibrium relation and the natural boundary condition at $x=L$.\n- Solve for the exact axial displacement field $u(x)$ by direct integration, starting from the relation you obtained from PVW.\n\nExpress the final displacement field as a single closed-form analytic expression in terms of $x$, $E$, $A_{0}$, $\\alpha$, $L$, $q_{0}$, and $P$. Express the displacement in meters. Provide the exact expression; do not round.", "solution": "We begin from the Principle of Virtual Work (PVW) for deformable bodies: the internal virtual work equals the external virtual work for all admissible virtual displacements. For a one-dimensional bar in axial deformation, the axial strain is $\\varepsilon(x) = u'(x)$ and the axial stress is $\\sigma(x) = E\\,\\varepsilon(x) = E\\,u'(x)$. The internal virtual work is\n$$\n\\delta W_{\\text{int}} = \\int_{0}^{L} \\sigma(x)\\,\\delta \\varepsilon(x)\\,A(x)\\,dx = \\int_{0}^{L} E\\,u'(x)\\,\\delta u'(x)\\,A(x)\\,dx.\n$$\nThe external virtual work arises from the distributed axial load $q(x)$ and the terminal force $P$ at $x=L$:\n$$\n\\delta W_{\\text{ext}} = \\int_{0}^{L} q(x)\\,\\delta u(x)\\,dx + P\\,\\delta u(L).\n$$\n\nAdmissible virtual displacement fields are those that are kinematically admissible, that is, they satisfy the essential boundary condition associated with the fixed end. Since the displacement is prescribed as $u(0)=0$, the admissible virtual field must satisfy $\\delta u(0)=0$. We require $\\delta u$ to be sufficiently smooth for the integrals to be well-defined, for example $\\delta u \\in C^{1}[0,L]$ with $\\delta u(0)=0$ and $\\delta u$ otherwise arbitrary.\n\nInvoking PVW,\n$$\n\\int_{0}^{L} E\\,A(x)\\,u'(x)\\,\\delta u'(x)\\,dx \\;=\\; \\int_{0}^{L} q(x)\\,\\delta u(x)\\,dx \\;+\\; P\\,\\delta u(L),\n$$\nfor all admissible $\\delta u$.\n\nWe integrate the left-hand side by parts:\n$$\n\\int_{0}^{L} E\\,A(x)\\,u'(x)\\,\\delta u'(x)\\,dx\n= \\left[E\\,A(x)\\,u'(x)\\,\\delta u(x)\\right]_{0}^{L} - \\int_{0}^{L} \\frac{d}{dx}\\!\\left(E\\,A(x)\\,u'(x)\\right)\\,\\delta u(x)\\,dx.\n$$\nUsing $\\delta u(0) = 0$, this becomes\n$$\n\\left[E\\,A(L)\\,u'(L)\\,\\delta u(L)\\right] - \\int_{0}^{L} \\frac{d}{dx}\\!\\left(E\\,A(x)\\,u'(x)\\right)\\,\\delta u(x)\\,dx.\n$$\nSubstituting this back into the PVW statement and rearranging all terms to one side gives:\n$$\n\\int_{0}^{L} \\left[-\\frac{d}{dx}\\!\\left(E\\,A(x)\\,u'(x)\\right) - q(x)\\right]\\,\\delta u(x)\\,dx + \\left[E\\,A(L)\\,u'(L) - P\\right]\\,\\delta u(L) = 0.\n$$\nBecause this equation must hold for all admissible virtual displacements $\\delta u(x)$, we can invoke the fundamental lemma of the calculus of variations. By first choosing arbitrary $\\delta u$ that vanish at the boundary (i.e., $\\delta u(L)=0$), the integral term must be zero, implying its integrand is zero. This recovers the strong form. With the integral term gone, the boundary term must also be zero for an arbitrary $\\delta u(L)$, recovering the natural boundary condition.\n- Governing equilibrium equation:\n$$\n\\frac{d}{dx}\\!\\left(E\\,A(x)\\,u'(x)\\right) + q(x) = 0 \\quad \\text{in } (0,L).\n$$\n- Natural boundary condition at $x=L$:\n$$\nE\\,A(L)\\,u'(L) = P.\n$$\nThe essential boundary condition is $u(0)=0$.\n\nLet the axial force be $N(x) = E\\,A(x)\\,u'(x)$. The equilibrium equation gives\n$$\nN'(x) + q(x) = 0 \\;\\;\\Rightarrow\\;\\; N(x) = C_{1} - \\int_{0}^{x} q(s)\\,ds,\n$$\nfor some constant $C_{1}$. The natural boundary condition at $x=L$ gives\n$$\nN(L) = E\\,A(L)\\,u'(L) = P \\;\\;\\Rightarrow\\;\\; C_{1} - \\int_{0}^{L} q(s)\\,ds = P \\;\\;\\Rightarrow\\;\\; C_{1} = P + \\int_{0}^{L} q(s)\\,ds.\n$$\nWith $q(x) = q_{0}\\left(1 + \\frac{x}{L}\\right)$, we compute\n$$\n\\int_{0}^{x} q(s)\\,ds = q_{0}\\left(x + \\frac{x^{2}}{2L}\\right), \\qquad \\int_{0}^{L} q(s)\\,ds = q_{0}\\left(L + \\frac{L}{2}\\right) = \\frac{3}{2}\\,q_{0}\\,L.\n$$\nThus\n$$\nC_{1} = P + \\frac{3}{2}\\,q_{0}\\,L,\n$$\nand\n$$\nu'(x) = \\frac{N(x)}{E\\,A(x)} = \\frac{C_{1} - q_{0}\\left(x + \\frac{x^{2}}{2L}\\right)}{E\\,A_{0}\\left(1 + \\alpha \\frac{x}{L}\\right)}.\n$$\nImposing $u(0)=0$, we integrate $u'$ from $0$ to $x$ to obtain $u(x)$:\n$$\nu(x) = \\int_{0}^{x} u'(\\xi)\\,d\\xi\n= \\frac{1}{E\\,A_{0}} \\int_{0}^{x} \\frac{C_{1} - q_{0}\\left(\\xi + \\frac{\\xi^{2}}{2L}\\right)}{1 + \\alpha \\frac{\\xi}{L}}\\,d\\xi.\n$$\nIntroduce $a = \\alpha/L$ for compactness. Then\n$$\nu(x) = \\frac{1}{E\\,A_{0}} \\left[\nC_{1} \\int_{0}^{x} \\frac{d\\xi}{1 + a \\xi}\n- q_{0} \\int_{0}^{x} \\frac{\\xi}{1 + a \\xi}\\,d\\xi\n- \\frac{q_{0}}{2L} \\int_{0}^{x} \\frac{\\xi^{2}}{1 + a \\xi}\\,d\\xi\n\\right].\n$$\nThe required integrals are\n$$\n\\int \\frac{d\\xi}{1 + a \\xi} = \\frac{1}{a}\\ln(1 + a \\xi),\n$$\n$$\n\\int \\frac{\\xi}{1 + a \\xi}\\,d\\xi = \\frac{1}{a}\\left(\\xi - \\frac{1}{a}\\ln(1 + a \\xi)\\right),\n$$\n$$\n\\int \\frac{\\xi^{2}}{1 + a \\xi}\\,d\\xi = \\frac{1}{2a}\\,\\xi^{2} - \\frac{1}{a^{2}}\\,\\xi + \\frac{1}{a^{3}} \\ln(1 + a \\xi),\n$$\nwhose lower-limit values at $\\xi=0$ vanish because $\\ln(1)=0$ and the polynomials are zero. Therefore,\n$$\nu(x) = \\frac{1}{E\\,A_{0}} \\left[\n\\frac{C_{1}}{a}\\ln(1 + a x)\n- \\frac{q_{0}}{a}\\left(x - \\frac{1}{a}\\ln(1 + a x)\\right)\n- \\frac{q_{0}}{2L}\\left(\\frac{1}{2a}x^{2} - \\frac{1}{a^{2}}x + \\frac{1}{a^{3}}\\ln(1 + a x)\\right)\n\\right].\n$$\nRe-expressing in terms of $\\alpha$ and $L$ using $a=\\alpha/L$ so that $\\frac{1}{a}=\\frac{L}{\\alpha}$, $\\frac{1}{a^{2}}=\\frac{L^{2}}{\\alpha^{2}}$, and $\\frac{1}{a^{3}}=\\frac{L^{3}}{\\alpha^{3}}$, and substituting $C_{1} = P + \\frac{3}{2} q_{0} L$, we obtain the closed-form displacement field\n$$\nu(x) = \\frac{1}{E\\,A_{0}} \\Bigg\\{\n\\left[\n\\frac{L}{\\alpha}\\,P\n+ \\frac{3}{2}\\,\\frac{q_{0}\\,L^{2}}{\\alpha}\n+ \\frac{q_{0}\\,L^{2}}{\\alpha^{2}}\n- \\frac{q_{0}\\,L^{2}}{2\\,\\alpha^{3}}\n\\right] \\ln\\!\\left(1 + \\frac{\\alpha x}{L}\\right)\n+ \\left[\n- \\frac{q_{0}\\,L}{\\alpha} + \\frac{q_{0}\\,L}{2\\,\\alpha^{2}}\n\\right] x\n- \\frac{q_{0}}{4\\,\\alpha}\\,x^{2}\n\\Bigg\\}.\n$$\nThis expression provides the displacement in meters if all inputs are given in consistent SI units ($E$ in Pascals, $A_0$ in square meters, $q_0$ in Newtons per meter, $P$ in Newtons, and $x, L$ in meters). It is exact and requires no rounding.", "answer": "$$\\boxed{\\frac{1}{E\\,A_{0}}\\left\\{\\left[\\frac{L}{\\alpha}\\,P+\\frac{3}{2}\\,\\frac{q_{0}L^{2}}{\\alpha}+\\frac{q_{0}L^{2}}{\\alpha^{2}}-\\frac{q_{0}L^{2}}{2\\alpha^{3}}\\right]\\ln\\!\\left(1+\\frac{\\alpha x}{L}\\right)+\\left[-\\frac{q_{0}L}{\\alpha}+\\frac{q_{0}L}{2\\alpha^{2}}\\right]x-\\frac{q_{0}}{4\\alpha}x^{2}\\right\\}}$$", "id": "2676315"}, {"introduction": "While exact analytical solutions are invaluable, most real-world engineering problems require approximate methods. This practice introduces the powerful Ritz-Galerkin method, where the Principle of Virtual Work is used to find the best possible solution within a chosen space of functions [@problem_id:2676301]. By solving for the deflection of an Euler-Bernoulli beam, you will gain hands-on experience in constructing a discrete system of equations from the continuous weak form, a core skill in computational mechanics.", "problem": "An Euler–Bernoulli beam of length $L$ with constant flexural rigidity $EI$ is simply supported at $x=0$ and $x=L$. The beam is subjected to a spatially uniform transverse load of intensity $q_0$ over the entire span. Let the transverse deflection be $w(x)$. Starting from first principles of the Principle of Virtual Work for Deformable Bodies, derive the weak form appropriate for this beam problem, identifying the essential and natural boundary conditions. Then, approximate the deflection $w(x)$ using an admissible two-parameter cubic polynomial subspace that satisfies all essential boundary conditions:\n$$\nw(x) = \\alpha\\,x(L-x) + \\beta\\,x^2(L-x),\n$$\nand use the same space for virtual displacements. Determine the coefficients $\\alpha$ and $\\beta$ by enforcing the weak form for all virtual fields in the chosen subspace. From your approximate field $w(x)$, compute the midspan deflection $w(L/2)$ as a symbolic expression in terms of $q_0$, $L$, and $EI$.\n\nProvide the final answer as a single exact symbolic expression for $w(L/2)$ in terms of $q_0$, $L$, and $EI$. Do not substitute numerical values. Do not include units in your final boxed answer. If you were to assign units to $w(L/2)$, they would be meters if $q_0$ is in newtons per meter and $EI$ is in newton-meters squared.", "solution": "The Principle of Virtual Work for a deformable body states that the virtual work done by external forces, $\\delta W_{ext}$, is equal to the change in internal strain energy, $\\delta U$.\n$$ \\delta W_{ext} = \\delta U $$\nFor the given beam, the external virtual work is done by the distributed load $q_0$.\n$$ \\delta W_{ext} = \\int_{0}^{L} q_0 \\delta w(x) \\, dx $$\nwhere $\\delta w(x)$ is an arbitrary, kinematically admissible virtual displacement.\n\nThe strain energy $U$ for an Euler-Bernoulli beam is given by:\n$$ U = \\frac{1}{2} \\int_{0}^{L} M(x) \\kappa(x) \\, dx = \\frac{1}{2} \\int_{0}^{L} EI (w''(x))^2 \\, dx $$\nHere, $M(x)$ is the bending moment and $\\kappa(x) \\approx w''(x)$ is the curvature. The first variation of the strain energy, $\\delta U$, is:\n$$ \\delta U = \\delta \\left( \\frac{1}{2} \\int_{0}^{L} EI (w''(x))^2 \\, dx \\right) = \\int_{0}^{L} EI w''(x) \\delta(w''(x)) \\, dx = \\int_{0}^{L} EI w''(x) (\\delta w(x))'' \\, dx $$\nEquating $\\delta U$ and $\\delta W_{ext}$ gives the weak form of the equilibrium equation:\n$$ \\int_{0}^{L} EI w''(x) (\\delta w)''(x) \\, dx = \\int_{0}^{L} q_0 \\delta w(x) \\, dx $$\nThis equation must hold for all admissible virtual displacements $\\delta w(x)$.\n\nThe boundary conditions must be identified as essential (kinematic) or natural (static). For a simple support at $x=0$ and $x=L$:\n1.  The deflection is zero: $w(0)=0$ and $w(L)=0$. These are constraints on the displacement field and are therefore **essential** boundary conditions. An admissible virtual displacement must also satisfy these conditions, i.e., $\\delta w(0)=0$ and $\\delta w(L)=0$.\n2.  The bending moment is zero: $M(0) = EI w''(0) = 0$ and $M(L) = EI w''(L) = 0$. These are constraints on forces (moments) and are **natural** boundary conditions. They are satisfied implicitly by the weak form, not imposed on the trial functions beforehand.\n\nThe problem specifies an approximate solution subspace:\n$$ w(x) = \\alpha \\phi_1(x) + \\beta \\phi_2(x) $$\nwith basis functions $\\phi_1(x) = x(L-x)$ and $\\phi_2(x) = x^2(L-x)$. The virtual displacement lies in the same space:\n$$ \\delta w(x) = \\delta \\alpha \\phi_1(x) + \\delta \\beta \\phi_2(x) $$\nSince $\\delta \\alpha$ and $\\delta \\beta$ are arbitrary, the Galerkin method requires the weak form to hold for $\\delta w = \\phi_1(x)$ and $\\delta w = \\phi_2(x)$ independently. This yields a system of two linear equations for the two unknowns, $\\alpha$ and $\\beta$.\n\nWe compute the necessary second derivatives of the basis functions:\n$\\phi_1(x) = Lx - x^2 \\implies \\phi_1'(x) = L-2x \\implies \\phi_1''(x) = -2$\n$\\phi_2(x) = Lx^2 - x^3 \\implies \\phi_2'(x) = 2Lx - 3x^2 \\implies \\phi_2''(x) = 2L-6x$\nThe second derivative of $w(x)$ is:\n$w''(x) = \\alpha \\phi_1''(x) + \\beta \\phi_2''(x) = -2\\alpha + \\beta(2L-6x)$\n\nThe system of equations is $[K] \\begin{pmatrix} \\alpha \\\\ \\beta \\end{pmatrix} = \\{F\\}$, where:\n$K_{ij} = \\int_{0}^{L} EI \\phi_i''(x) \\phi_j''(x) \\, dx$\n$F_i = \\int_{0}^{L} q_0 \\phi_i(x) \\, dx$\n\nLet us compute the components of the matrix $[K]$ and vector $\\{F\\}$.\n$K_{11} = \\int_{0}^{L} EI (\\phi_1''(x))^2 \\, dx = EI \\int_{0}^{L} (-2)^2 \\, dx = 4EI \\int_{0}^{L} dx = 4EIL$\n\n$K_{12} = K_{21} = \\int_{0}^{L} EI \\phi_1''(x) \\phi_2''(x) \\, dx = EI \\int_{0}^{L} (-2)(2L-6x) \\, dx = -2EI [2Lx-3x^2]_0^L = -2EI(2L^2-3L^2) = 2EIL^2$\n\n$K_{22} = \\int_{0}^{L} EI (\\phi_2''(x))^2 \\, dx = EI \\int_{0}^{L} (2L-6x)^2 \\, dx = EI \\int_{0}^{L} (4L^2 - 24Lx + 36x^2) \\, dx = EI [4L^2x - 12Lx^2 + 12x^3]_0^L = EI(4L^3 - 12L^3 + 12L^3) = 4EIL^3$\n\n$F_1 = \\int_{0}^{L} q_0 \\phi_1(x) \\, dx = q_0 \\int_{0}^{L} (Lx - x^2) \\, dx = q_0 \\left[ \\frac{Lx^2}{2} - \\frac{x^3}{3} \\right]_0^L = q_0 \\left( \\frac{L^3}{2} - \\frac{L^3}{3} \\right) = \\frac{q_0 L^3}{6}$\n\n$F_2 = \\int_{0}^{L} q_0 \\phi_2(x) \\, dx = q_0 \\int_{0}^{L} (Lx^2 - x^3) \\, dx = q_0 \\left[ \\frac{Lx^3}{3} - \\frac{x^4}{4} \\right]_0^L = q_0 \\left( \\frac{L^4}{3} - \\frac{L^4}{4} \\right) = \\frac{q_0 L^4}{12}$\n\nThe linear system is:\n$$ \\begin{pmatrix} 4EIL & 2EIL^2 \\\\ 2EIL^2 & 4EIL^3 \\end{pmatrix} \\begin{pmatrix} \\alpha \\\\ \\beta \\end{pmatrix} = \\begin{pmatrix} \\frac{q_0L^3}{6} \\\\ \\frac{q_0L^4}{12} \\end{pmatrix} $$\nWe solve this system. Divide the first equation by $2EIL$ and the second by $2EIL^2$:\n1. $2\\alpha + L\\beta = \\frac{q_0L^2}{12EI}$\n2. $\\alpha + 2L\\beta = \\frac{q_0L^2}{24EI}$\nMultiply the second equation by $2$:\n$2\\alpha + 4L\\beta = \\frac{q_0L^2}{12EI}$\nSubtract the first equation from this result:\n$(2\\alpha + 4L\\beta) - (2\\alpha + L\\beta) = \\frac{q_0L^2}{12EI} - \\frac{q_0L^2}{12EI}$\n$3L\\beta = 0 \\implies \\beta = 0$\nThe result $\\beta=0$ is correct and is a consequence of the symmetry of the problem. The load and boundary conditions are symmetric about $x=L/2$, so the exact deflection must also be symmetric. The basis function $\\phi_1(x)$ is symmetric, while $\\phi_2(x)$ is not. The Galerkin method correctly identifies that the best approximation in the given subspace requires eliminating the anti-symmetric component, which in this basis corresponds to setting $\\beta=0$.\n\nSubstituting $\\beta=0$ into the first equation:\n$2\\alpha = \\frac{q_0L^2}{12EI} \\implies \\alpha = \\frac{q_0L^2}{24EI}$\n\nThe approximate deflection field is therefore:\n$$ w(x) = \\frac{q_0L^2}{24EI} x(L-x) $$\nThe problem asks for the midspan deflection, $w(L/2)$:\n$$ w\\left(\\frac{L}{2}\\right) = \\frac{q_0L^2}{24EI} \\left(\\frac{L}{2}\\right) \\left(L - \\frac{L}{2}\\right) = \\frac{q_0L^2}{24EI} \\left(\\frac{L}{2}\\right) \\left(\\frac{L}{2}\\right) = \\frac{q_0L^2}{24EI} \\frac{L^2}{4} $$\n$$ w\\left(\\frac{L}{2}\\right) = \\frac{q_0L^4}{96EI} $$\nThis is the final symbolic expression for the approximate midspan deflection.", "answer": "$$ \\boxed{\\frac{q_0 L^4}{96EI}} $$", "id": "2676301"}, {"introduction": "The Principle of Virtual Work is not limited to static problems; by incorporating inertial effects, it provides a robust foundation for structural dynamics. In this exercise, you will apply d'Alembert's principle within the virtual work framework to derive the semi-discrete equations of motion for a dynamic system [@problem_id:2676289]. This process will lead you to the derivation of the consistent mass matrix, a key concept that distinguishes rigorous finite element formulations from simpler lumped-mass approximations.", "problem": "A straight, prismatic, linearly elastic bar of length $L$, constant cross-sectional area $A$, constant Young’s modulus $E$, and mass density $\\rho$ occupies the interval $x \\in [0,L]$ along the $x$-axis. The bar undergoes small axial deformation $u(x,t)$ and is subjected to an axial body force per unit volume $b(x,t)$ and possibly end tractions on the boundary. Starting from the Principle of Virtual Work (PVW) for deformable bodies and the balance of linear momentum, perform a Galerkin semi-discretization by introducing a finite-dimensional approximation of the displacement of the form\n$$\nu(x,t) \\approx \\boldsymbol{N}(x)\\,\\boldsymbol{d}(t), \\quad \\delta u(x,t) = \\boldsymbol{N}(x)\\,\\delta \\boldsymbol{d}(t),\n$$\nwhere $\\boldsymbol{N}(x)$ collects the chosen shape functions and $\\boldsymbol{d}(t)$ are the nodal degrees of freedom. Use a single two-node linear finite element over $[0,L]$ with the shape functions\n$$\nN_{1}(x) = 1 - \\frac{x}{L}, \\qquad N_{2}(x) = \\frac{x}{L},\n$$\nso that $\\boldsymbol{N}(x) = \\begin{bmatrix} N_{1}(x) & N_{2}(x) \\end{bmatrix}$ and $\\boldsymbol{d}(t) = \\begin{bmatrix} d_{1}(t) \\\\ d_{2}(t) \\end{bmatrix}$.\n\nProceed as follows:\n- Begin from the balance of linear momentum in one dimension and its virtual work statement for small strains, identifying the virtual internal work, virtual inertial work, and virtual external work.\n- Introduce the above approximation and derive the semi-discrete ordinary differential equations governing $\\boldsymbol{d}(t)$. Clearly identify the internal force vector $\\boldsymbol{f}_{\\text{int}}(\\boldsymbol{d})$ and the external force vector $\\boldsymbol{f}_{\\text{ext}}(t)$ in terms of the chosen functions, $E$, $A$, $\\rho$, $b(x,t)$, and any end tractions.\n- From your derivation, extract the consistent element mass matrix $\\boldsymbol{M}$ associated with this two-node linear element.\n\nProvide your final answer as the closed-form analytic expression of the $2 \\times 2$ consistent element mass matrix $\\boldsymbol{M}$ for this element. Do not include units in the final boxed answer. The answer does not require rounding.", "solution": "The starting point is the balance of linear momentum for a deformable body in one dimension under small deformation kinematics. The strong form is\n$$\n\\frac{\\partial \\sigma(x,t)}{\\partial x} + b(x,t) = \\rho\\,\\ddot{u}(x,t),\n$$\nwhere $\\sigma(x,t)$ is the axial stress, $b(x,t)$ is the axial body force per unit volume, $\\rho$ is the mass density, and $u(x,t)$ is the axial displacement. The small strain is $\\varepsilon(x,t) = \\frac{\\partial u}{\\partial x}$, and for linear elasticity $\\sigma(x,t) = E\\,\\varepsilon(x,t) = E\\,\\frac{\\partial u}{\\partial x}$.\n\nThe Principle of Virtual Work (PVW) for deformable bodies, including inertial effects via d'Alembert's principle, states that for arbitrary kinematically admissible virtual displacements $\\delta u(x,t)$,\n$$\n\\int_{0}^{L} \\rho\\,\\ddot{u}(x,t)\\,\\delta u(x,t)\\,A\\,dx + \\int_{0}^{L} \\sigma(x,t)\\,\\delta \\varepsilon(x,t)\\,A\\,dx = \\int_{0}^{L} b(x,t)\\,\\delta u(x,t)\\,A\\,dx + \\left[\\bar{t}(t)\\,A\\,\\delta u(x,t)\\right]_{x \\in \\Gamma_{t}},\n$$\nwhere $\\Gamma_{t}$ denotes the part of the boundary where tractions $\\bar{t}(t)$ (axial force per unit area) are prescribed, and $A$ is the constant cross-sectional area. For a single two-node bar with ends at $x=0$ and $x=L$, $\\Gamma_{t}$ may include either end depending on boundary conditions, and the boundary term reduces to nodal equivalent forces.\n\nIntroduce the finite-dimensional approximations\n$$\nu(x,t) \\approx \\boldsymbol{N}(x)\\,\\boldsymbol{d}(t), \\qquad \\delta u(x,t) = \\boldsymbol{N}(x)\\,\\delta \\boldsymbol{d}(t),\n$$\nwith\n$$\n\\boldsymbol{N}(x) = \\begin{pmatrix} N_{1}(x) & N_{2}(x) \\end{pmatrix}, \\quad N_{1}(x) = 1 - \\frac{x}{L}, \\quad N_{2}(x) = \\frac{x}{L}, \\quad \\boldsymbol{d}(t) = \\begin{pmatrix} d_{1}(t) \\\\ d_{2}(t) \\end{pmatrix}.\n$$\nThe strain-displacement relation in discretized form uses the derivative of the shape functions. Define the matrix\n$$\n\\boldsymbol{B}(x) = \\frac{d \\boldsymbol{N}(x)}{dx} = \\begin{pmatrix} \\frac{d N_{1}}{dx} & \\frac{d N_{2}}{dx} \\end{pmatrix} = \\begin{pmatrix} -\\frac{1}{L} & \\frac{1}{L} \\end{pmatrix}.\n$$\nThen the strain is approximated as\n$$\n\\varepsilon(x,t) = \\boldsymbol{B}(x)\\,\\boldsymbol{d}(t),\n$$\nand the stress becomes\n$$\n\\sigma(x,t) = E\\,\\varepsilon(x,t) = E\\,\\boldsymbol{B}(x)\\,\\boldsymbol{d}(t).\n$$\n\nSubstitute the approximations into the PVW. The virtual inertial work term becomes\n$$\n\\int_{0}^{L} \\rho\\,\\ddot{u}\\,\\delta u\\,A\\,dx = \\int_{0}^{L} \\rho\\,A\\,\\boldsymbol{N}(x)\\,\\ddot{\\boldsymbol{d}}(t)\\,\\boldsymbol{N}(x)\\,\\delta \\boldsymbol{d}(t)\\,dx = \\delta \\boldsymbol{d}(t)^{\\mathsf{T}} \\left[ \\int_{0}^{L} \\rho\\,A\\,\\boldsymbol{N}(x)^{\\mathsf{T}} \\boldsymbol{N}(x)\\,dx \\right] \\ddot{\\boldsymbol{d}}(t).\n$$\nDefine the consistent element mass matrix\n$$\n\\boldsymbol{M} = \\int_{0}^{L} \\rho\\,A\\,\\boldsymbol{N}(x)^{\\mathsf{T}} \\boldsymbol{N}(x)\\,dx.\n$$\n\nThe internal virtual work becomes\n$$\n\\int_{0}^{L} \\sigma\\,\\delta \\varepsilon\\,A\\,dx = \\int_{0}^{L} \\left(E\\,\\boldsymbol{B}\\,\\boldsymbol{d}\\right)\\,\\left(\\boldsymbol{B}\\,\\delta \\boldsymbol{d}\\right)\\,A\\,dx = \\delta \\boldsymbol{d}^{\\mathsf{T}} \\left[ \\int_{0}^{L} A\\,\\boldsymbol{B}(x)^{\\mathsf{T}}\\,E\\,\\boldsymbol{B}(x)\\,dx \\right] \\boldsymbol{d}(t).\n$$\nThis identifies the element stiffness matrix\n$$\n\\boldsymbol{K} = \\int_{0}^{L} A\\,\\boldsymbol{B}(x)^{\\mathsf{T}}\\,E\\,\\boldsymbol{B}(x)\\,dx,\n$$\nand the internal force vector as\n$$\n\\boldsymbol{f}_{\\text{int}}(\\boldsymbol{d}) = \\boldsymbol{K}\\,\\boldsymbol{d}.\n$$\n\nThe external virtual work consists of body force and traction contributions. The body force contribution becomes\n$$\n\\int_{0}^{L} b(x,t)\\,\\delta u\\,A\\,dx = \\delta \\boldsymbol{d}^{\\mathsf{T}} \\left[ \\int_{0}^{L} A\\,\\boldsymbol{N}(x)^{\\mathsf{T}}\\,b(x,t)\\,dx \\right].\n$$\nThe traction contribution at an end $x = x_{e} \\in \\{0,L\\}$ with prescribed traction $\\bar{t}(t)$ yields a nodal equivalent force $\\boldsymbol{N}(x_{e})^{\\mathsf{T}}\\,A\\,\\bar{t}(t)$. Collecting both, the external force vector is\n$$\n\\boldsymbol{f}_{\\text{ext}}(t) = \\int_{0}^{L} A\\,\\boldsymbol{N}(x)^{\\mathsf{T}}\\,b(x,t)\\,dx \\;+\\; \\sum_{x_{e} \\in \\Gamma_{t}} \\boldsymbol{N}(x_{e})^{\\mathsf{T}}\\,A\\,\\bar{t}(t).\n$$\n\nAs $\\delta \\boldsymbol{d}(t)$ is arbitrary, the semi-discrete equations of motion are\n$$\n\\boldsymbol{M}\\,\\ddot{\\boldsymbol{d}}(t) + \\boldsymbol{f}_{\\text{int}}(\\boldsymbol{d}(t)) = \\boldsymbol{f}_{\\text{ext}}(t).\n$$\n\nIt remains to evaluate the consistent element mass matrix $\\boldsymbol{M}$ explicitly for the given linear shape functions. Compute\n$$\n\\boldsymbol{N}(x)^{\\mathsf{T}}\\boldsymbol{N}(x) =\n\\begin{pmatrix}\nN_{1}(x)^{2} & N_{1}(x)\\,N_{2}(x) \\\\\nN_{2}(x)\\,N_{1}(x) & N_{2}(x)^{2}\n\\end{pmatrix},\n\\quad N_{1}(x) = 1 - \\frac{x}{L}, \\quad N_{2}(x) = \\frac{x}{L}.\n$$\nIntegrating each component over $x \\in [0,L]$,\n$$\n\\int_{0}^{L} N_{1}(x)^{2}\\,dx = \\int_{0}^{L} \\left(1 - \\frac{x}{L}\\right)^{2} dx = \\left[ x - \\frac{x^{2}}{L} + \\frac{x^{3}}{3L^{2}} \\right]_{0}^{L} = L - L + \\frac{L}{3} = \\frac{L}{3},\n$$\n$$\n\\int_{0}^{L} N_{2}(x)^{2}\\,dx = \\int_{0}^{L} \\left(\\frac{x}{L}\\right)^{2} dx = \\frac{1}{L^{2}} \\left[ \\frac{x^{3}}{3} \\right]_{0}^{L} = \\frac{L}{3},\n$$\n$$\n\\int_{0}^{L} N_{1}(x)\\,N_{2}(x)\\,dx = \\int_{0}^{L} \\left(1 - \\frac{x}{L}\\right)\\frac{x}{L}\\,dx = \\frac{1}{L} \\int_{0}^{L} x\\,dx - \\frac{1}{L^{2}} \\int_{0}^{L} x^{2}\\,dx = \\frac{L}{2} - \\frac{L}{3} = \\frac{L}{6}.\n$$\nTherefore,\n$$\n\\int_{0}^{L} \\boldsymbol{N}(x)^{\\mathsf{T}}\\boldsymbol{N}(x)\\,dx =\n\\begin{pmatrix}\n\\frac{L}{3} & \\frac{L}{6} \\\\\n\\frac{L}{6} & \\frac{L}{3}\n\\end{pmatrix}.\n$$\nMultiplying by $\\rho\\,A$ yields the consistent element mass matrix\n$$\n\\boldsymbol{M} = \\rho\\,A \\begin{pmatrix}\n\\frac{L}{3} & \\frac{L}{6} \\\\\n\\frac{L}{6} & \\frac{L}{3}\n\\end{pmatrix} = \\frac{\\rho\\,A\\,L}{6} \\begin{pmatrix}\n2 & 1 \\\\\n1 & 2\n\\end{pmatrix}.\n$$\nThis is the requested closed-form expression for the two-node linear bar element’s consistent mass matrix, obtained directly from the Principle of Virtual Work and the chosen finite-dimensional virtual displacements.", "answer": "$$\\boxed{\\frac{\\rho\\,A\\,L}{6}\\begin{pmatrix}2 & 1 \\\\ 1 & 2\\end{pmatrix}}$$", "id": "2676289"}]}