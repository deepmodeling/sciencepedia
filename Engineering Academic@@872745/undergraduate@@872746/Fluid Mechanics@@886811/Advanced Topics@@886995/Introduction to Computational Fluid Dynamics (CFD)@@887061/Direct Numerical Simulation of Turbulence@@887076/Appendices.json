{"hands_on_practices": [{"introduction": "Direct Numerical Simulation (DNS) aims to resolve all spatial and temporal scales of a turbulent flow, a goal that is notoriously demanding on computational resources. To begin appreciating these demands, our first practice involves a fundamental reality check: calculating the memory footprint of a simulation. This exercise will ground the abstract concept of high-fidelity simulation in the concrete reality of computer memory, a primary constraint you will always face in computational fluid dynamics. [@problem_id:1748599]", "problem": "In the field of computational fluid dynamics, Direct Numerical Simulation (DNS) is a powerful technique for studying turbulent flows. A researcher is setting up a DNS for a flow within a cubic box. The computational domain is discretized into a uniform Cartesian grid with a resolution of $512 \\times 512 \\times 512$ grid points.\n\nFor each point on this grid, the simulation needs to store the state of the fluid at a particular instant in time. This \"snapshot\" of data consists of four independent physical quantities: the three components of the fluid velocity vector $(u, v, w)$ and the scalar pressure $p$. Each of these four quantities is stored as a double-precision floating-point number, which occupies exactly 8 bytes of memory.\n\nGiven that 1 gigabyte (GB) is defined as $10^9$ bytes, calculate the total memory required to store a single snapshot of the entire simulation field. Express your answer in gigabytes (GB), rounded to three significant figures.", "solution": "The total number of grid points is given by the product of the grid resolution in each direction, so $N = 512 \\times 512 \\times 512$. Each grid point stores four quantities, each requiring $8$ bytes, so the memory per grid point is $m_{\\text{pt}} = 4 \\times 8 = 32$ bytes. Therefore, the total memory in bytes for one snapshot is\n$$\nM_{\\text{bytes}} = N \\times m_{\\text{pt}} = (512 \\times 512 \\times 512) \\times 32.\n$$\nUsing powers of two, $512 = 2^{9}$, so $N = 2^{27}$ and $32 = 2^{5}$, which gives\n$$\nM_{\\text{bytes}} = 2^{27} \\times 2^{5} = 2^{32} \\text{ bytes}.\n$$\nUsing the definition $1 \\text{ GB} = 10^{9} \\text{ bytes}$, the memory in gigabytes is\n$$\nM_{\\text{GB}} = \\frac{M_{\\text{bytes}}}{10^{9}} = \\frac{2^{32}}{10^{9}} = \\frac{4{,}294{,}967{,}296}{10^{9}} = 4.294967296.\n$$\nRounding to three significant figures yields $4.29$.", "answer": "$$\\boxed{4.29}$$", "id": "1748599"}, {"introduction": "The power of DNS lies not just in running the simulation, but in analyzing the massive datasets it produces to uncover the physics of turbulence. A crucial first step in any turbulence analysis is to compute statistical quantities from the raw, time-varying flow field data. This practice will guide you through the process of calculating the root-mean-square (RMS) of velocity fluctuations, a key metric that quantifies the intensity of the turbulence, turning a series of numbers into meaningful physical insight. [@problem_id:1748617]", "problem": "In the field of computational fluid dynamics, a Direct Numerical Simulation (DNS) is a high-fidelity method used to study turbulent flows by resolving all temporal and spatial scales of the motion. Consider a DNS of a turbulent water flow inside a pipe. A virtual probe is placed at a fixed point in the flow to record the instantaneous velocity component in the axial direction, $u$. A small excerpt from the simulation data file provides the following five consecutive velocity measurements, taken at regular time intervals:\n\n$u_1 = 10.5$ m/s\n$u_2 = 9.8$ m/s\n$u_3 = 10.2$ m/s\n$u_4 = 11.1$ m/s\n$u_5 = 9.4$ m/s\n\nBased on this data sample, calculate the root-mean-square (RMS) of the velocity fluctuations. The velocity fluctuation at any instant is defined as the deviation of the instantaneous velocity from the time-averaged mean velocity of the sample.\n\nExpress your final answer in m/s, rounded to three significant figures.", "solution": "The root-mean-square (RMS) of the velocity fluctuations is defined as the square root of the time average of the squared deviations from the mean. For a discrete sample of size $N$, with instantaneous velocities $u_{i}$ and sample mean $\\bar{u}$, the RMS fluctuation is\n$$\nu'_{\\mathrm{rms}}=\\sqrt{\\frac{1}{N}\\sum_{i=1}^{N}\\left(u_{i}-\\bar{u}\\right)^{2}}, \\quad \\text{where} \\quad \\bar{u}=\\frac{1}{N}\\sum_{i=1}^{N}u_{i}.\n$$\nHere $N=5$ and the data are $u_{1}=10.5$, $u_{2}=9.8$, $u_{3}=10.2$, $u_{4}=11.1$, $u_{5}=9.4$ (in m/s). First compute the mean:\n$$\n\\bar{u}=\\frac{1}{5}\\left(10.5+9.8+10.2+11.1+9.4\\right)=\\frac{51.0}{5}=10.2 \\ \\text{m/s}.\n$$\nCompute the fluctuations $u_{i}'=u_{i}-\\bar{u}$:\n$$\nu_{1}'=0.3,\\quad u_{2}'=-0.4,\\quad u_{3}'=0,\\quad u_{4}'=0.9,\\quad u_{5}'=-0.8.\n$$\nSquare and sum the fluctuations:\n$$\n\\sum_{i=1}^{5}(u_{i}')^{2}=0.3^{2}+(-0.4)^{2}+0^{2}+0.9^{2}+(-0.8)^{2}=0.09+0.16+0+0.81+0.64=1.70.\n$$\nAverage the squared fluctuations and take the square root:\n$$\nu'_{\\mathrm{rms}}=\\sqrt{\\frac{1}{5}\\times 1.70}=\\sqrt{0.34}\\approx 0.583095\\ \\text{m/s}.\n$$\nRounded to three significant figures, the RMS of the velocity fluctuations is $0.583$ m/s.", "answer": "$$\\boxed{0.583}$$", "id": "1748617"}, {"introduction": "Beyond statistics, DNS provides a window into the fundamental mechanisms of turbulence described by the governing equations. One of the most important and fascinating of these is \"vortex stretching,\" a process unique to three-dimensional flows that is central to the turbulent energy cascade. In this exercise, you will move from statistics to dynamics by calculating the vortex stretching term from the vorticity transport equation, giving you a tangible feel for a concept that is at the very heart of turbulence physics. [@problem_id:1748601]", "problem": "An engineer specializing in computational fluid dynamics is setting up a Direct Numerical Simulation (DNS) to investigate the intricate physics of turbulence within a complex flow. The evolution of vorticity, $\\boldsymbol{\\omega}$, in an incompressible fluid with constant kinematic viscosity, $\\nu$, is governed by the vorticity transport equation:\n$$\n\\frac{\\partial \\boldsymbol{\\omega}}{\\partial t} + (\\mathbf{u} \\cdot \\nabla)\\boldsymbol{\\omega} = (\\boldsymbol{\\omega} \\cdot \\nabla)\\mathbf{u} + \\nu \\nabla^2 \\boldsymbol{\\omega}\n$$\nHere, $\\mathbf{u}$ is the fluid velocity vector and $\\boldsymbol{\\omega} = \\nabla \\times \\mathbf{u}$ is the vorticity vector. The term $(\\boldsymbol{\\omega} \\cdot \\nabla)\\mathbf{u}$ on the right-hand side is of particular interest as it describes the production of vorticity through the stretching and tilting of existing vortex lines, a mechanism that is fundamentally three-dimensional.\n\nAs a preliminary analysis, the engineer considers a candidate model for a region of the flow, described by the steady, incompressible three-dimensional velocity field:\n$$\n\\mathbf{u}(x, y, z) = (A yz, B xz, C xy)\n$$\nwhere $A$, $B$, and $C$ are constants.\n\nGiven the constants $A = 2.0 \\text{ m}^{-1}\\text{s}^{-1}$, $B = 5.0 \\text{ m}^{-1}\\text{s}^{-1}$, and $C = 3.0 \\text{ m}^{-1}\\text{s}^{-1}$, calculate the value of the y-component of the vortex stretching and tilting term, $[(\\boldsymbol{\\omega} \\cdot \\nabla)\\mathbf{u}]_y$, at the point $(x_0, y_0, z_0) = (2.0 \\text{ m}, 1.0 \\text{ m}, 4.0 \\text{ m})$. Express your final answer in units of $\\text{s}^{-2}$, rounded to two significant figures.", "solution": "We need the $y$-component of the vortex stretching and tilting term, $(\\boldsymbol{\\omega} \\cdot \\nabla)\\mathbf{u}$, for the velocity field $\\mathbf{u}(x,y,z)=(Ayz, Bxz, Cxy)$. By definition,\n$$\n[(\\boldsymbol{\\omega} \\cdot \\nabla)\\mathbf{u}]_{y}=\\omega_{x}\\frac{\\partial u_{y}}{\\partial x}+\\omega_{y}\\frac{\\partial u_{y}}{\\partial y}+\\omega_{z}\\frac{\\partial u_{y}}{\\partial z}.\n$$\nFirst compute the vorticity $\\boldsymbol{\\omega}=\\nabla\\times\\mathbf{u}$. With $u_{x}=Ayz$, $u_{y}=Bxz$, $u_{z}=Cxy$, we have\n$$\n\\omega_{x}=\\frac{\\partial u_{z}}{\\partial y}-\\frac{\\partial u_{y}}{\\partial z}=Cx-Bx=x(C-B),\n$$\n$$\n\\omega_{y}=\\frac{\\partial u_{x}}{\\partial z}-\\frac{\\partial u_{z}}{\\partial x}=Ay-Cy=y(A-C),\n$$\n$$\n\\omega_{z}=\\frac{\\partial u_{y}}{\\partial x}-\\frac{\\partial u_{x}}{\\partial y}=Bz-Az=z(B-A).\n$$\nNext compute the needed derivatives of $u_{y}=Bxz$:\n$$\n\\frac{\\partial u_{y}}{\\partial x}=Bz,\\quad \\frac{\\partial u_{y}}{\\partial y}=0,\\quad \\frac{\\partial u_{y}}{\\partial z}=Bx.\n$$\nTherefore,\n$$\n[(\\boldsymbol{\\omega} \\cdot \\nabla)\\mathbf{u}]_{y}=\\omega_{x}(Bz)+\\omega_{y}(0)+\\omega_{z}(Bx)=Bz\\,\\omega_{x}+Bx\\,\\omega_{z}.\n$$\nSubstitute the expressions for $\\omega_{x}$ and $\\omega_{z}$:\n$$\n[(\\boldsymbol{\\omega} \\cdot \\nabla)\\mathbf{u}]_{y}=Bz\\,[x(C-B)]+Bx\\,[z(B-A)]=Bxz\\big[(C-B)+(B-A)\\big]=B(C-A)\\,xz.\n$$\nNow substitute the given values $A=2.0\\ \\text{m}^{-1}\\text{s}^{-1}$, $B=5.0\\ \\text{m}^{-1}\\text{s}^{-1}$, $C=3.0\\ \\text{m}^{-1}\\text{s}^{-1}$ and $(x_{0},y_{0},z_{0})=(2.0\\ \\text{m},1.0\\ \\text{m},4.0\\ \\text{m})$:\n$$\n[(\\boldsymbol{\\omega} \\cdot \\nabla)\\mathbf{u}]_{y}=B(C-A)\\,xz=5.0\\,(3.0-2.0)\\,(2.0)\\,(4.0)=40.\n$$\nThe units are $\\text{s}^{-2}$. Rounded to two significant figures, the numerical value is $4.0\\times 10^{1}$.", "answer": "$$\\boxed{4.0 \\times 10^{1}}$$", "id": "1748601"}]}