{"hands_on_practices": [{"introduction": "The common-drain amplifier, or source follower, is prized for its ability to act as a voltage buffer. Its effectiveness stems from a high input impedance and, crucially, a very low output impedance. This exercise guides you through the analysis of this output impedance, revealing how it is determined by the transistor's transconductance, $g_m$, a key insight for designing effective buffer stages [@problem_id:1294141].", "problem": "A design engineer is evaluating a new fabrication process for a Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET). This new process results in transistors that, when biased at the same DC operating point, exhibit a significantly higher transconductance ($g_m$) compared to the old process. The intrinsic output resistance ($r_o$) of the transistor remains unchanged. The engineer plans to use this new transistor in a standard common-drain amplifier configuration, also known as a source follower. In this circuit, the output is taken from the source terminal, and a source resistor, $R_S$, is connected between the source terminal and ground. The drain is connected to a positive DC voltage supply, and the input signal is applied to the gate.\n\nAssuming the transistor is operating in the saturation region, how does this significant increase in $g_m$ (while $r_o$ and $R_S$ are held constant) affect the amplifier's output resistance, $R_{out}$, as seen looking into the source terminal?\n\nA. $R_{out}$ increases significantly, as it is directly proportional to $g_m$.\n\nB. $R_{out}$ remains almost constant, as it is dominated by the parallel combination of $R_S$ and $r_o$.\n\nC. $R_{out}$ decreases, with its value approaching the resistance of the source resistor $R_S$.\n\nD. $R_{out}$ decreases, with its value approaching $1/g_m$.", "solution": "We model the MOSFET in saturation with its small-signal hybrid-pi elements: a dependent current source of value $g_m v_{gs}$ from drain to source and an output resistance $r_o$ between drain and source. The drain is connected to the supply, which is an AC ground for small signals, and the gate is driven by a source that we set to zero to find output resistance, so the gate is also at AC ground. The source node is connected to $R_S$ to ground and is the output node.\n\nTo find the small-signal output resistance $R_{out}$ seen looking into the source, we null all independent sources (gate and supply to AC ground) and apply a test current $i_x$ into the source node, measuring the resulting small-signal voltage $v_x$ at the source. Then $R_{out} = v_x/i_x$.\n\nWith the gate at AC ground, $v_{gs} = v_g - v_s = -v_x$. The dependent current source between drain (ground) and source has value $g_m v_{gs} = -g_m v_x$ directed from drain to source. A negative value in that direction is equivalent to a current of magnitude $g_m v_x$ flowing from the source node to ground. Therefore, the total small-signal current from the source node to ground is the sum of:\n- Through $R_S$: $v_x/R_S$,\n- Through $r_o$: $v_x/r_o$,\n- Through the dependent source: $g_m v_x$.\n\nBy KCL at the source node under the test excitation,\n$$\ni_x = \\frac{v_x}{R_S} + \\frac{v_x}{r_o} + g_m v_x = v_x\\left(g_m + \\frac{1}{R_S} + \\frac{1}{r_o}\\right).\n$$\nHence,\n$$\nR_{out} = \\frac{v_x}{i_x} = \\frac{1}{g_m + \\frac{1}{R_S} + \\frac{1}{r_o}} = \\frac{R_S \\parallel r_o}{1 + g_m\\left(R_S \\parallel r_o\\right)}.\n$$\nWith $R_S$ and $r_o$ held constant, increasing $g_m$ reduces $R_{out}$, and in the limit of large $g_m$,\n$$\nR_{out} \\to \\frac{1}{g_m},\n$$\nsince $g_m \\gg \\frac{1}{R_S} + \\frac{1}{r_o}$ makes the denominator dominated by $g_m$.\n\nTherefore, the correct qualitative behavior is that $R_{out}$ decreases and approaches $1/g_m$ as $g_m$ becomes large.", "answer": "$$\\boxed{D}$$", "id": "1294141"}, {"introduction": "While the common-drain amplifier excels as a buffer, the common-source (CS) and common-gate (CG) topologies are the workhorses for voltage amplification. To make an informed design choice, a direct comparison of their performance is essential. This practice challenges you to derive and compare the overall voltage gain of CS and CG amplifiers, factoring in the practical effects of source and output resistances to understand their relative merits [@problem_id:1294145].", "problem": "An analog circuit designer is evaluating two potential configurations for a single-stage amplifier. The active device is a Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET), which is biased such that its small-signal parameters are a transconductance $g_m$ and a finite output resistance $r_o$. The amplifier is driven by a signal source $v_{sig}$ which has an internal source resistance $R_S$. A load resistor with resistance $R_L$ is connected to the output terminal.\n\nThe two configurations under consideration are:\n1.  **Common-Source (CS) amplifier**: The signal from the source $v_{sig}$ is applied to the gate of the MOSFET, the source terminal is connected to ground, and the output voltage $v_{out}$ is taken at the drain terminal, across which the load resistor $R_L$ is connected.\n2.  **Common-Gate (CG) amplifier**: The gate of the MOSFET is connected to a stable DC bias voltage (acting as an AC ground), the signal source is connected to the source terminal of the MOSFET, and the output voltage $v_{out}$ is taken at the drain terminal, where the load resistor $R_L$ is also connected.\n\nFor a fair comparison, both configurations are biased to have identical values for $g_m$ and $r_o$. The same signal source (with resistance $R_S$) and load resistor $R_L$ are used in both scenarios. The overall voltage gain for each configuration is defined as $A_v = v_{out} / v_{sig}$.\n\nDetermine the ratio of the magnitude of the CS voltage gain to the magnitude of the CG voltage gain, $\\frac{|A_{v,CS}|}{|A_{v,CG}|}$. Express your answer as a symbolic expression in terms of $g_m$, $r_o$, $R_S$, and $R_L$.", "solution": "For the common-source (CS) amplifier, the gate draws no current, so $v_{g} = v_{sig}$ and $v_{s} = 0$, hence $v_{gs} = v_{sig}$. At the drain node, the load $R_{L}$ and $r_{o}$ are both to ground, giving an equivalent resistance $R_{eq} = r_{o} \\parallel R_{L} = \\frac{r_{o}R_{L}}{r_{o}+R_{L}}$. The dependent current source of value $g_{m}v_{gs} = g_{m}v_{sig}$ flows from drain to source, so KCL at the drain gives\n$$\n\\frac{v_{out}}{R_{L}} + \\frac{v_{out}}{r_{o}} + g_{m}v_{sig} = 0\n\\quad\\Rightarrow\\quad\nv_{out} = -\\frac{g_{m}}{\\frac{1}{R_{L}}+\\frac{1}{r_{o}}}\\,v_{sig} = -g_{m}\\left(\\frac{r_{o}R_{L}}{r_{o}+R_{L}}\\right)v_{sig}.\n$$\nThus the CS overall voltage gain magnitude is\n$$\n|A_{v,CS}| = g_{m}\\frac{r_{o}R_{L}}{r_{o}+R_{L}}.\n$$\n\nFor the common-gate (CG) amplifier, the gate is at AC ground, the source node voltage is $v_{s}$, the drain (output) node is $v_{d}=v_{out}$, and the source is driven by a Thevenin source $v_{sig}$ in series with $R_{S}$. The small-signal relations are $v_{gs} = -v_{s}$ and the controlled source current is equivalently $g_{m}v_{s}$ from source to drain. Writing KCL:\n\nAt the source node,\n$$\n\\frac{v_{s}-v_{sig}}{R_{S}} + \\frac{v_{s}-v_{d}}{r_{o}} + g_{m}v_{s} = 0,\n$$\nwhich rearranges to\n$$\n\\left(\\frac{1}{R_{S}}+\\frac{1}{r_{o}}+g_{m}\\right)v_{s} - \\frac{1}{r_{o}}v_{d} = \\frac{v_{sig}}{R_{S}}.\n$$\n\nAt the drain node,\n$$\n\\frac{v_{d}}{R_{L}} + \\frac{v_{d}-v_{s}}{r_{o}} - g_{m}v_{s} = 0,\n$$\nwhich gives\n$$\n\\left(\\frac{1}{R_{L}}+\\frac{1}{r_{o}}\\right)v_{d} = \\left(\\frac{1}{r_{o}}+g_{m}\\right)v_{s}.\n$$\nHence\n$$\nv_{d} = \\frac{\\frac{1}{r_{o}}+g_{m}}{\\frac{1}{R_{L}}+\\frac{1}{r_{o}}}\\,v_{s}\n= \\left(1+g_{m}r_{o}\\right)\\frac{R_{L}}{r_{o}+R_{L}}\\,v_{s}.\n$$\nSubstitute this into the source-node equation:\n$$\n\\left(\\frac{1}{R_{S}}+\\frac{1}{r_{o}}+g_{m}\\right)v_{s} - \\frac{1}{r_{o}}\\left(1+g_{m}r_{o}\\right)\\frac{R_{L}}{r_{o}+R_{L}}\\,v_{s} = \\frac{v_{sig}}{R_{S}}.\n$$\nNoting that $\\frac{1}{r_{o}}\\left(1+g_{m}r_{o}\\right) = \\frac{1}{r_{o}}+g_{m}$, this simplifies to\n$$\n\\left[\\frac{1}{R_{S}} + \\left(\\frac{1}{r_{o}}+g_{m}\\right)\\left(1 - \\frac{R_{L}}{r_{o}+R_{L}}\\right)\\right]v_{s} = \\frac{v_{sig}}{R_{S}},\n$$\nso\n$$\n\\left[\\frac{1}{R_{S}} + \\left(\\frac{1}{r_{o}}+g_{m}\\right)\\frac{r_{o}}{r_{o}+R_{L}}\\right]v_{s} = \\frac{v_{sig}}{R_{S}}.\n$$\nSince $\\left(\\frac{1}{r_{o}}+g_{m}\\right)\\frac{r_{o}}{r_{o}+R_{L}} = \\frac{1+g_{m}r_{o}}{r_{o}+R_{L}}$, we obtain\n$$\n\\left[\\frac{1}{R_{S}} + \\frac{1+g_{m}r_{o}}{r_{o}+R_{L}}\\right]v_{s} = \\frac{v_{sig}}{R_{S}}.\n$$\nThus\n$$\n\\frac{v_{s}}{v_{sig}} = \\frac{\\frac{1}{R_{S}}}{\\frac{1}{R_{S}} + \\frac{1+g_{m}r_{o}}{r_{o}+R_{L}}}\n\\quad\\text{and}\\quad\nA_{v,CG} = \\frac{v_{d}}{v_{sig}} = \\left(1+g_{m}r_{o}\\right)\\frac{R_{L}}{r_{o}+R_{L}} \\cdot \\frac{\\frac{1}{R_{S}}}{\\frac{1}{R_{S}} + \\frac{1+g_{m}r_{o}}{r_{o}+R_{L}}}.\n$$\nSimplifying,\n$$\nA_{v,CG} = \\left(1+g_{m}r_{o}\\right)\\frac{R_{L}}{r_{o}+R_{L}+R_{S}\\left(1+g_{m}r_{o}\\right)}.\n$$\n\nTherefore, the ratio of magnitudes is\n$$\n\\frac{|A_{v,CS}|}{|A_{v,CG}|}\n= \\frac{g_{m}\\frac{r_{o}R_{L}}{r_{o}+R_{L}}}{\\left(1+g_{m}r_{o}\\right)\\frac{R_{L}}{r_{o}+R_{L}+R_{S}\\left(1+g_{m}r_{o}\\right)}}\n= g_{m}r_{o}\\,\\frac{r_{o}+R_{L}+R_{S}\\left(1+g_{m}r_{o}\\right)}{(r_{o}+R_{L})\\left(1+g_{m}r_{o}\\right)}.\n$$\nAll quantities are positive real parameters, so this equals the desired magnitude ratio.", "answer": "$$\\boxed{\\frac{g_{m}r_{o}\\left[r_{o}+R_{L}+R_{S}\\left(1+g_{m}r_{o}\\right)\\right]}{(r_{o}+R_{L})\\left(1+g_{m}r_{o}\\right)}}$$", "id": "1294145"}, {"introduction": "An amplifier's performance extends beyond its small-signal characteristics; its response to large, fast-changing inputs is equally critical. This final practice explores the large-signal dynamic response by examining the slew rate of the CS, CD, and CG configurations. By analyzing the maximum rate at which the output can change, you will discover fundamental asymmetries in their current-driving capabilities that limit high-speed performance [@problem_id:1294169].", "problem": "An analog integrated circuit designer is investigating the large-signal transient response of the three fundamental single-transistor amplifier configurations: Common-Source (CS), Common-Drain (CD), and Common-Gate (CG). Each amplifier is built using an identical n-channel Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) and drives an identical large capacitive load, $C_L$.\n\nFor the CS and CG configurations, the output is taken at the drain. An ideal DC current source of value $I_{bias}$ is connected between the drain and the positive supply, acting as an active load.\n\nFor the CD configuration, also known as a source follower, the output is taken at the source. An ideal DC current source of value $I_{bias}$ is connected between the source and ground, providing the bias.\n\nIn all cases, the transistor is biased to be in the saturation region in its quiescent state. When a large-signal step voltage is applied to the respective input of each amplifier, the output voltage begins to slew. The slew rate is limited by the maximum current available to charge or discharge the load capacitor $C_L$. Due to the nature of the circuits, the positive-going slew rate ($SR^+$) can be different from the magnitude of the negative-going slew rate ($SR^-$).\n\nAssume that in response to a large input signal step, the MOSFET can be driven to one of two extremes: either it is turned fully on, where it conducts a maximum possible drain current of $I_{D,max} = k \\cdot I_{bias}$ for some dimensionless factor $k > 1$, or it is driven into cutoff, where its drain current is zero.\n\nFor each of the three amplifier configurations (CS, CD, and CG), determine the ratio of the positive slew rate to the negative slew rate, $R = SR^+ / SR^-$. Present your three results, denoted $R_{CS}$, $R_{CD}$, and $R_{CG}$, as symbolic expressions in terms of the parameter $k$.", "solution": "We use the large-signal capacitor relation that the slew rate is set by the net current available to charge or discharge the load capacitor. For an output node with load capacitance $C_{L}$, the instantaneous slope is given by\n$$\n\\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}=\\frac{I_{\\text{net}}}{C_{L}},\n$$\nand the positive-going and negative-going slew rates are\n$$\nSR^{+}=\\max\\left(\\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}\\right),\\quad SR^{-}=\\max\\left(-\\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}\\right),\n$$\nboth taken as positive quantities. The MOSFET extremes under a large input step are $I_{D}=0$ (cutoff) or $I_{D}=I_{D,\\max}=k\\,I_{\\text{bias}}$ (fully on), with $k>1$.\n\nCommon-Source (CS), output at drain with a current source of $I_{\\text{bias}}$ from the positive supply to the drain node: write KCL at the drain node taking currents into the node as positive. The current source injects $I_{\\text{bias}}$ into the node, the MOSFET drains $I_{D}$ to ground, and the capacitor current is $C_{L}\\,\\mathrm{d}v_{o}/\\mathrm{d}t$ leaving the node. Thus\n$$\nI_{\\text{bias}}-I_{D}-C_{L}\\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}=0\\quad\\Rightarrow\\quad \\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}=\\frac{I_{\\text{bias}}-I_{D}}{C_{L}}.\n$$\nFor a positive-going output slew, the MOSFET is cut off, $I_{D}=0$, hence\n$$\nSR^{+}=\\frac{I_{\\text{bias}}}{C_{L}}.\n$$\nFor a negative-going output slew, the MOSFET is fully on, $I_{D}=k\\,I_{\\text{bias}}$, hence\n$$\n\\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}=\\frac{I_{\\text{bias}}-k\\,I_{\\text{bias}}}{C_{L}}=-\\frac{(k-1)I_{\\text{bias}}}{C_{L}}\\;\\Rightarrow\\; SR^{-}=\\frac{(k-1)I_{\\text{bias}}}{C_{L}}.\n$$\nTherefore,\n$$\nR_{CS}=\\frac{SR^{+}}{SR^{-}}=\\frac{1}{k-1}.\n$$\n\nCommon-Gate (CG), output at drain with the same active load: the drain node current balance and extremes are identical to the CS case for large-signal on/off limits, so the same expressions apply and\n$$\nR_{CG}=\\frac{1}{k-1}.\n$$\n\nCommon-Drain (CD, source follower), output at source with a current source of $I_{\\text{bias}}$ connected from the source to ground (sinking $I_{\\text{bias}}$). At the source node, take currents into the node positive. The MOSFET can source current into the node from the supply, call it $I_{\\text{MOS}}$, the current source removes $I_{\\text{bias}}$ from the node, and the capacitor current leaves the node as $C_{L}\\,\\mathrm{d}v_{o}/\\mathrm{d}t$. KCL gives\n$$\nI_{\\text{MOS}}-I_{\\text{bias}}-C_{L}\\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}=0\\quad\\Rightarrow\\quad \\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}=\\frac{I_{\\text{MOS}}-I_{\\text{bias}}}{C_{L}}.\n$$\nFor a positive-going slew, the MOSFET is fully on supplying $I_{\\text{MOS}}=k\\,I_{\\text{bias}}$, hence\n$$\nSR^{+}=\\frac{(k-1)I_{\\text{bias}}}{C_{L}}.\n$$\nFor a negative-going slew, the MOSFET is off so $I_{\\text{MOS}}=0$, and the current source alone discharges the capacitor:\n$$\n\\frac{\\mathrm{d}v_{o}}{\\mathrm{d}t}=-\\frac{I_{\\text{bias}}}{C_{L}}\\;\\Rightarrow\\; SR^{-}=\\frac{I_{\\text{bias}}}{C_{L}}.\n$$\nTherefore,\n$$\nR_{CD}=\\frac{SR^{+}}{SR^{-}}=k-1.\n$$\n\nCollecting the three ratios in the order $(R_{CS},R_{CD},R_{CG})$ yields the requested expressions in terms of $k$.", "answer": "$$\\boxed{\\begin{pmatrix}\\frac{1}{k-1} & k-1 & \\frac{1}{k-1}\\end{pmatrix}}$$", "id": "1294169"}]}