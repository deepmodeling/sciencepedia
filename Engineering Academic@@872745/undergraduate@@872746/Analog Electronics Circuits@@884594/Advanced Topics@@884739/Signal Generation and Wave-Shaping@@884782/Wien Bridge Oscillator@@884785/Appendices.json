{"hands_on_practices": [{"introduction": "Building an oscillator that works on the first try is a rewarding experience, but diagnosing one that doesn't is an even more valuable lesson. This first practice places you in a common scenario where a Wien bridge circuit, despite being correctly assembled, fails to produce a signal [@problem_id:1344899]. To solve this, you will apply the Barkhausen criterion for oscillation, which states that for oscillations to begin and be sustained, the total loop gain must be at least unity at the frequency where the loop phase shift is zero. By analyzing the non-inverting amplifier's gain against the feedback network's attenuation, you will pinpoint the precise reason why oscillations fail to start, solidifying your understanding of this fundamental principle.", "problem": "An electronics student is tasked with building a sinusoidal signal source using a Wien bridge oscillator. The circuit is constructed with an ideal operational amplifier (op-amp) in a non-inverting configuration. The frequency-selective part of the bridge, which provides positive feedback to the non-inverting input of the op-amp, is made from two identical resistors, each with resistance $R = 12.0 \\, \\text{k}\\Omega$, and two identical capacitors, each with capacitance $C = 15.0 \\, \\text{nF}$. The gain of the op-amp is set by a negative feedback network consisting of a resistor $R_i$ from the inverting input to ground, and a feedback resistor $R_f$ between the op-amp's output and its inverting input. The student chooses $R_i = 10.0 \\, \\text{k}\\Omega$ and $R_f = 18.0 \\, \\text{k}\\Omega$.\n\nAfter assembling the circuit and applying power, the student observes that the output remains at a steady DC voltage and fails to produce the expected sinusoidal oscillation. Assuming the op-amp is functioning correctly and all connections are sound, which of the following statements provides the most accurate explanation for the circuit's failure to oscillate?\n\nA. The gain of the non-inverting amplifier is too high.\n\nB. The gain of the non-inverting amplifier is too low.\n\nC. The values of R and C are mismatched, preventing a zero-phase-shift condition.\n\nD. The phase shift provided by the op-amp's negative feedback network is incorrect.\n\nE. The total resistance in the positive feedback path is too high.", "solution": "We apply the Barkhausen conditions for oscillation: at the oscillation frequency, the loop phase shift must be zero and the loop gain magnitude must be unity. Denote the op-amp closed-loop gain as $A$ (non-inverting configuration) and the bridge feedback factor as $\\beta(s)$ from output to the non-inverting input.\n\nFor the Wien bridge network with equal elements $R$ and $C$, the frequency-selective positive-feedback path consists of a series branch $Z_{s}$ and a parallel branch $Z_{p}$:\n- Series branch impedance: $Z_{s} = R + \\frac{1}{s C} = \\frac{1 + s R C}{s C}$.\n- Parallel branch impedance: $Z_{p} = \\left(\\frac{1}{R} + s C\\right)^{-1} = \\frac{R}{1 + s R C}$.\n\nThe feedback factor is the voltage divider from the output to the node:\n$$\n\\beta(s) = \\frac{Z_{p}}{Z_{s} + Z_{p}} = \\frac{\\frac{R}{1 + s R C}}{\\frac{1 + s R C}{s C} + \\frac{R}{1 + s R C}} = \\frac{s R C}{(1 + s R C)^{2} + s R C}.\n$$\nExpanding the denominator,\n$$\n\\beta(s) = \\frac{s R C}{1 + 3 s R C + s^{2} R^{2} C^{2}}.\n$$\nSetting $s = j \\omega$,\n$$\n\\beta(j \\omega) = \\frac{j \\omega R C}{1 + 3 j \\omega R C - \\omega^{2} R^{2} C^{2}}.\n$$\nAt $\\omega_{0}$ such that the phase is zero, the denominator must be purely imaginary to cancel the $j$ in the numerator. This occurs when\n$$\n1 - \\omega_{0}^{2} R^{2} C^{2} = 0 \\quad \\Longrightarrow \\quad \\omega_{0} = \\frac{1}{R C}.\n$$\nEvaluating at $\\omega_{0}$ gives\n$$\n\\beta(j \\omega_{0}) = \\frac{j}{3 j} = \\frac{1}{3},\n$$\nwhich is real and positive, satisfying the zero-phase-shift condition. Thus, at $\\omega_{0} = \\frac{1}{R C}$, the magnitude of the positive-feedback factor is $|\\beta| = \\frac{1}{3}$.\n\nThe non-inverting amplifier closed-loop gain is\n$$\nA = 1 + \\frac{R_{f}}{R_{i}}.\n$$\nThe Barkhausen magnitude condition requires\n$$\n|A \\beta| = 1 \\quad \\Longrightarrow \\quad A = 3 \\quad \\text{at} \\quad \\omega_{0}.\n$$\nWith the chosen resistors,\n$$\nA = 1 + \\frac{R_{f}}{R_{i}} = 1 + \\frac{18 \\times 10^{3}}{10 \\times 10^{3}} = 1 + \\frac{18}{10} = 1 + \\frac{9}{5} = \\frac{14}{5},\n$$\nso the loop gain at $\\omega_{0}$ is\n$$\nA \\beta = \\frac{14}{5} \\cdot \\frac{1}{3} = \\frac{14}{15} < 1.\n$$\nSince the loop gain magnitude is less than unity at the zero-phase-shift frequency, the oscillations cannot build up, and the circuit settles to a DC operating point rather than sustaining a sinusoid.\n\nTherefore, the most accurate explanation is that the non-inverting amplifier gain is too low to meet the Barkhausen magnitude condition at the Wien bridge frequency. The other options are inconsistent with the analysis: the component values are matched so the zero-phase-shift condition is achievable; the negative feedback path is purely resistive and does not introduce phase shift in an ideal op-amp; and the absolute magnitudes of $R$ and $C$ do not affect the required gain $\\left(\\beta = \\frac{1}{3}\\right)$, only the frequency.", "answer": "$$\\boxed{B}$$", "id": "1344899"}, {"introduction": "Once you've ensured your oscillator's loop gain is sufficient to start, a new challenge often arises: maintaining a clean, sinusoidal output. In this exercise, the oscillator works, but the observed output is a heavily distorted and clipped waveform instead of a pure sine wave [@problem_id:1344872]. This problem demonstrates what happens when the loop gain is significantly *greater* than what is required for oscillation. Your task is to diagnose why this excessive gain causes the signal amplitude to grow uncontrollably until it is limited by the op-amp's power supply rails, a key concept that highlights the need for automatic gain control mechanisms in practical, high-quality oscillators.", "problem": "An electronics student constructs a Wien bridge oscillator using a standard operational amplifier (op-amp). The positive feedback path consists of a series resistor-capacitor (RC) network ($R_1$, $C_1$) connected to a parallel RC network ($R_2$, $C_2$). For simplicity and to achieve a specific operating frequency, the components are chosen such that $R_1 = R_2 = R$ and $C_1 = C_2 = C$. The op-amp is configured as a non-inverting amplifier, where the gain is set by a feedback resistor $R_f$ and a resistor to ground, $R_g$.\n\nUpon powering the circuit, the student observes the output on an oscilloscope. Instead of the expected pure sinusoidal waveform, the output is a sine wave that is heavily clipped at both its positive and negative peaks. The frequency of the clipped wave is, however, correct.\n\nAssuming the op-amp is functioning ideally and the components in the positive feedback path ($R$ and $C$) have their correct values, which of the following is the most probable cause for the observed distortion in the output signal?\n\nA. The ratio $R_f/R_g$ was set to a value significantly less than 2.\n\nB. The ratio $R_f/R_g$ was set to be exactly equal to 2.\n\nC. The ratio $R_f/R_g$ was set to a value significantly greater than 2.\n\nD. The frequency-determining resistor $R$ was mistakenly chosen to be equal in value to the feedback resistor $R_f$.", "solution": "The Wien bridge oscillator uses a lead-lag RC network for positive feedback. With $R_{1}=R_{2}=R$ and $C_{1}=C_{2}=C$, the series impedance from the op-amp output through the network is $Z_{1}=R+\\frac{1}{sC}$ and the shunt branch to ground is $Z_{2}=\\left(\\frac{1}{R}+sC\\right)^{-1}=\\frac{R}{1+sRC}$, where $s=j\\omega$. The fraction of the output fed to the non-inverting input is given by the voltage divider:\n$$\n\\beta(s)=\\frac{V_{+}}{V_{\\text{out}}}=\\frac{Z_{2}}{Z_{1}+Z_{2}}.\n$$\nAt the oscillation frequency $\\omega_{0}=\\frac{1}{RC}$, substitute $s=j\\omega_{0}$ to evaluate $Z_{1}$ and $Z_{2}$. Using $\\omega_{0}RC=1$,\n$$\nZ_{1}=R+\\frac{1}{j\\omega_{0}C}=R-\\frac{j}{\\omega_{0}C}=R-jR=R(1-j),\n$$\n$$\nZ_{2}=\\frac{R}{1+j\\omega_{0}RC}=\\frac{R}{1+j}=\\frac{R(1-j)}{2}.\n$$\nTherefore,\n$$\nZ_{1}+Z_{2}=R(1-j)+\\frac{R(1-j)}{2}=\\frac{3}{2}R(1-j),\n$$\nand the feedback factor at $\\omega_{0}$ is\n$$\n\\beta(j\\omega_{0})=\\frac{Z_{2}}{Z_{1}+Z_{2}}=\\frac{\\frac{R(1-j)}{2}}{\\frac{3}{2}R(1-j)}=\\frac{1}{3}.\n$$\nThus, at the design frequency, the positive feedback network provides zero phase shift and an attenuation of $\\frac{1}{3}$. Let the non-inverting amplifier gain be $A=1+\\frac{R_{f}}{R_{g}}$. The loop gain at $\\omega_{0}$ is\n$$\nL(j\\omega_{0})=A\\,\\beta(j\\omega_{0})=\\left(1+\\frac{R_{f}}{R_{g}}\\right)\\frac{1}{3}.\n$$\nBy the Barkhausen criterion, sustained undistorted oscillation requires $|L(j\\omega_{0})|=1$, which gives\n$$\n\\left(1+\\frac{R_{f}}{R_{g}}\\right)\\frac{1}{3}=1 \\quad \\Rightarrow \\quad 1+\\frac{R_{f}}{R_{g}}=3 \\quad \\Rightarrow \\quad \\frac{R_{f}}{R_{g}}=2.\n$$\nIf $\\frac{R_{f}}{R_{g}}<2$ (i.e., $A<3$), then $|L(j\\omega_{0})|<1$ and oscillations decay; this does not produce a large-amplitude, heavily clipped sine wave. If $\\frac{R_{f}}{R_{g}}=2$ (i.e., $A=3$), then $|L(j\\omega_{0})|=1$ and the oscillator can sustain a sine wave; in practice, slight amplitude control is needed to avoid drift, but heavy clipping is not expected. If $\\frac{R_{f}}{R_{g}}>2$ (i.e., $A>3$), then $|L(j\\omega_{0})|>1$, so the oscillation amplitude grows until limited by the op-amp supply rails, causing a sine wave at the correct frequency with strong clipping at the peaks. The choice $R=R_{f}$ in itself (option D) has no direct bearing on the loop gain condition and is not a typical cause of symmetric clipping at the correct oscillation frequency.\n\nTherefore, the most probable cause of the observed distortion is that the closed-loop gain was set too high, specifically $\\frac{R_{f}}{R_{g}}$ significantly greater than $2$.", "answer": "$$\\boxed{C}$$", "id": "1344872"}, {"introduction": "Beyond satisfying the gain and phase conditions, the performance of a real-world oscillator is constrained by the physical limitations of its active components. This final practice shifts our focus from the oscillation criteria to the dynamic performance of the operational amplifier, specifically its slew rate [@problem_id:1344863]. You will discover how the op-amp's finite speed—its maximum rate of output voltage change—imposes an upper limit on the frequency of an undistorted sine wave of a given amplitude. This calculation is a critical step in practical circuit design, teaching you to select components that can meet the dynamic demands of your target application.", "problem": "An electronics engineering student is designing a variable frequency sine wave generator for an audio project. The core of the generator is a Wien bridge oscillator circuit, which is built around an operational amplifier (op-amp). The chosen op-amp has a specified slew rate of $SR = 0.500 \\text{ V}/\\mu\\text{s}$. The student requires the generator to produce a stable sinusoidal output with a peak amplitude of $V_p = 5.00 \\text{ V}$. Beyond a certain frequency, the op-amp's finite slew rate will distort the sinusoidal output, a phenomenon known as slew-induced distortion. Calculate the maximum frequency at which the oscillator can operate to produce an undistorted sine wave with the desired peak amplitude.\n\nExpress your final answer in kilohertz (kHz), rounded to three significant figures.", "solution": "For a sinusoidal output $v(t)=V_{p}\\sin(2\\pi f t)$, the time derivative is\n$$\n\\frac{dv}{dt}=2\\pi f V_{p}\\cos(2\\pi f t).\n$$\nThe maximum magnitude of the slope is\n$$\n\\left|\\frac{dv}{dt}\\right|_{\\max}=2\\pi f V_{p}.\n$$\nTo avoid slew-induced distortion, the required condition is\n$$\nSR\\geq 2\\pi f V_{p}\\quad\\Rightarrow\\quad f_{\\max}=\\frac{SR}{2\\pi V_{p}}.\n$$\nSubstitute the given values, converting the slew rate to $\\text{V}/\\text{s}$:\n$$\nSR=0.500\\ \\text{V}/\\mu\\text{s}=0.500\\times 10^{6}\\ \\text{V}/\\text{s},\\qquad V_{p}=5.00\\ \\text{V}.\n$$\nThus,\n$$\nf_{\\max}=\\frac{0.500\\times 10^{6}}{2\\pi\\cdot 5.00}\\ \\text{s}^{-1}=\\frac{0.500\\times 10^{6}}{10\\pi}\\ \\text{Hz}\\approx 1.5915\\times 10^{4}\\ \\text{Hz}=15.9\\ \\text{kHz}.\n$$\nRounded to three significant figures in kilohertz, the result is $15.9$.", "answer": "$$\\boxed{15.9}$$", "id": "1344863"}]}