{"hands_on_practices": [{"introduction": "Before building successful oscillators, it is instructive to understand why certain simple configurations are destined to fail. This exercise explores a common but flawed design that combines an inverting amplifier with a two-stage RC network, which intuitively seems like it might provide the necessary phase shift. By analyzing the phase and gain limitations of this network, you will develop a deeper appreciation for the strict requirements of the Barkhausen criterion, specifically that the phase and magnitude conditions must be satisfied simultaneously at a single, finite frequency [@problem_id:1336402].", "problem": "An electronics engineer is designing a sinusoidal oscillator. The proposed circuit consists of a feedback loop containing an ideal inverting amplifier and a feedback network. The amplifier provides a constant gain, introducing a phase shift of exactly $-180^\\circ$ for all frequencies. According to the Barkhausen criterion for oscillation, the feedback network must provide an additional phase shift of $-180^\\circ$ at the desired oscillation frequency for the total loop phase shift to be $-360^\\circ$.\n\nThe engineer constructs the feedback network using two identical low-pass Resistor-Capacitor (RC) filter stages. To simplify the design and prevent loading effects between the stages, a perfect unity-gain buffer is placed between the first and second stage, making them non-interacting. The transfer function of a single such low-pass RC stage is given by $H_1(s) = \\frac{1}{1+sRC}$, where $s$ is the complex frequency variable, $R$ is the resistance, and $C$ is the capacitance.\n\nThe circuit fails to oscillate. Which of the following statements provides the correct physical reason for this failure?\n\nA. The maximum possible phase shift from the two-stage network is $-90^\\circ$, which is insufficient to meet the oscillation criterion.\n\nB. The maximum possible phase shift from the two-stage network is $-120^\\circ$, which is insufficient to meet the oscillation criterion.\n\nC. The network can produce a $-180^\\circ$ phase shift, but only at zero frequency ($\\omega=0$), which cannot support oscillation.\n\nD. The network's phase shift only approaches $-180^\\circ$ as the frequency approaches infinity. At infinite frequency, the network's gain is zero, so the loop gain magnitude cannot be unity.\n\nE. The gain of the two-stage network is always greater than unity for any non-zero frequency, which makes the loop inherently unstable and unable to produce a stable sinusoid.", "solution": "Let the inverting amplifier have a real, constant gain magnitude denoted by $A>0$ and a fixed phase of $-\\pi$. The feedback network consists of two identical, buffered first-order low-pass RC stages, so the overall feedback transfer is the product of two identical stage responses.\n\nFor one RC low-pass stage,\n$$\nH_{1}(s)=\\frac{1}{1+sRC}.\n$$\nWith the unity-gain buffer eliminating loading, the two-stage network transfer function is\n$$\nH(s)=H_{1}(s)^{2}=\\frac{1}{\\left(1+sRC\\right)^{2}}.\n$$\nOn the imaginary axis $s=j\\omega$,\n$$\nH(j\\omega)=\\frac{1}{\\left(1+j\\omega RC\\right)^{2}}.\n$$\nThe magnitude and phase of a single stage are\n$$\n|H_{1}(j\\omega)|=\\frac{1}{\\sqrt{1+(\\omega RC)^{2}}},\\qquad \\angle H_{1}(j\\omega)=-\\arctan(\\omega RC).\n$$\nTherefore, for the two-stage network,\n$$\n|H(j\\omega)|=|H_{1}(j\\omega)|^{2}=\\frac{1}{1+(\\omega RC)^{2}},\\qquad \\angle H(j\\omega)=2\\,\\angle H_{1}(j\\omega)=-2\\arctan(\\omega RC).\n$$\n\nBarkhausenâ€™s criterion requires at some oscillation frequency $\\omega_{0}$:\n1) Phase condition: the total loop phase equals an integer multiple of $2\\pi$. With the amplifier contributing $-\\pi$, this requires\n$$\n\\angle H(j\\omega_{0})=-\\pi.\n$$\n2) Magnitude condition: the loop gain magnitude is unity,\n$$\nA\\,|H(j\\omega_{0})|=1.\n$$\n\nExamine the phase condition. Since $\\arctan(x)\\in(0,\\frac{\\pi}{2})$ for $x>0$, we have\n$$\n\\angle H(j\\omega)=-2\\arctan(\\omega RC)\\in(-\\pi,0)\\quad\\text{for any finite }\\omega>0,\n$$\nwith limits\n$$\n\\lim_{\\omega\\to 0^{+}}\\angle H(j\\omega)=0,\\qquad \\lim_{\\omega\\to \\infty}\\angle H(j\\omega)=-\\pi.\n$$\nThus, the two-stage network phase only approaches $-\\pi$ as $\\omega\\to\\infty$ and never equals $-\\pi$ at any finite frequency.\n\nAt the same time, the magnitude is\n$$\n|H(j\\omega)|=\\frac{1}{1+(\\omega RC)^{2}},\n$$\nso\n$$\n\\lim_{\\omega\\to \\infty}|H(j\\omega)|=0.\n$$\nTherefore, at the only frequency where the phase condition is approached (as $\\omega\\to\\infty$), the network gain magnitude tends to zero, making $A\\,|H(j\\omega)|\\to 0$ and preventing the loop gain from reaching unity for any finite $A$.\n\nConsequently, the circuit cannot satisfy both Barkhausen phase and magnitude conditions simultaneously at any finite frequency. This exactly corresponds to statement D. Statements A and B are false because the two-stage phase can asymptotically reach $-\\pi$ (not just $-\\pi/2$ or $-2\\pi/3$). Statement C is false because at $\\omega=0$ the phase is $0$, not $-\\pi$. Statement E is false because $|H(j\\omega)|\\leq 1$ for all $\\omega$, with strict inequality for $\\omega\\neq 0$.\n\nHence, the correct physical reason is that the required $-\\pi$ phase shift is only reached asymptotically as frequency goes to infinity, where the network gain vanishes, so the loop gain magnitude cannot be unity.", "answer": "$$\\boxed{D}$$", "id": "1336402"}, {"introduction": "Having explored why some circuits cannot oscillate, we now turn to a classic design that can: the phase-shift oscillator. This problem models a feedback loop composed of an amplifier and three cascaded first-order filter stages, which together can provide the required phase shift for oscillation. This practice provides a fundamental exercise in applying both the phase and magnitude conditions of the Barkhausen criterion to determine the exact frequency of oscillation and the critical amplifier gain required to initiate and sustain it [@problem_id:1336432].", "problem": "A feedback control system is designed using a non-inverting amplifier with a tunable positive real gain, $K$, and a plant modeled as three identical, cascaded, non-interacting first-order lag stages. The overall open-loop transfer function, also known as the loop gain, for this system is given by:\n$$L(s) = \\frac{K}{(s\\tau + 1)^3}$$\nFor this particular system, the characteristic time constant $\\tau$ of each stage is normalized to $1$ second.\n\nAccording to the Barkhausen stability criterion, when the gain $K$ is increased to a specific critical value, $K_{crit}$, the system will transition from stable operation to producing sustained, undamped sinusoidal oscillations at a specific angular frequency, $\\omega_{osc}$.\n\nDetermine the exact value of the critical gain $K_{crit}$ and the corresponding angular frequency of oscillation $\\omega_{osc}$. The gain $K_{crit}$ is a dimensionless quantity, and the angular frequency $\\omega_{osc}$ should be expressed in rad/s.", "solution": "The loop gain is given by $L(s) = \\dfrac{K}{(s+1)^{3}}$ with $\\tau = 1$. Evaluating on the imaginary axis yields\n$$\nL(j\\omega) = \\frac{K}{(1 + j\\omega)^{3}}.\n$$\nWrite the magnitude and phase of $L(j\\omega)$:\n- The magnitude is\n$$\n|L(j\\omega)| = \\frac{K}{|1 + j\\omega|^{3}} = \\frac{K}{\\left(\\sqrt{1 + \\omega^{2}}\\right)^{3}} = \\frac{K}{(1+\\omega^{2})^{3/2}}.\n$$\n- The phase is\n$$\n\\arg L(j\\omega) = -3\\,\\arg(1 + j\\omega) = -3\\,\\arctan(\\omega).\n$$\nThe Barkhausen phase condition for the onset of oscillation in a negative-feedback loop is\n$$\n\\arg L(j\\omega_{osc}) = -\\pi + 2\\pi m,\n$$\nwith the smallest nonnegative integer $m$ giving the lowest positive frequency. Taking $m=0$ gives\n$$\n-3\\,\\arctan(\\omega_{osc}) = -\\pi \\quad \\Rightarrow \\quad \\arctan(\\omega_{osc}) = \\frac{\\pi}{3} \\quad \\Rightarrow \\quad \\omega_{osc} = \\tan\\!\\left(\\frac{\\pi}{3}\\right) = \\sqrt{3}.\n$$\nApply the magnitude condition $|L(j\\omega_{osc})| = 1$ to find $K_{crit}$:\n$$\n1 = \\frac{K_{crit}}{(1+\\omega_{osc}^{2})^{3/2}} \\quad \\Rightarrow \\quad K_{crit} = (1+\\omega_{osc}^{2})^{3/2}.\n$$\nSubstitute $\\omega_{osc} = \\sqrt{3}$:\n$$\nK_{crit} = (1+3)^{3/2} = 4^{3/2} = 8.\n$$\nThus, the critical gain and oscillation frequency are $K_{crit} = 8$ and $\\omega_{osc} = \\sqrt{3}$ rad/s.", "answer": "$$\\boxed{\\begin{pmatrix} 8 & \\sqrt{3} \\end{pmatrix}}$$", "id": "1336432"}, {"introduction": "Many practical oscillator designs are built around frequency-selective networks, such as filters, which naturally \"select\" the frequency of oscillation. This problem investigates a common architecture using a non-inverting amplifier and a second-order band-pass filter in the feedback path. You will see how the inherent phase characteristics of the filter directly determine the oscillation frequency, simplifying one part of the analysis and demonstrating a powerful design principle for creating stable oscillators [@problem_id:1336427].", "problem": "An electronic sinusoidal oscillator is constructed using a non-inverting amplifier and a passive feedback network. The amplifier is characterized by a positive, real, and frequency-independent voltage gain $K$. The feedback network is a second-order band-pass filter whose behavior is described by the transfer function $\\beta(s)$, where $s$ is the complex frequency. The output of the amplifier is connected to the input of the filter, and the output of the filter is fed directly back to the input of the amplifier to close the loop.\n\nThe transfer function of the feedback network is given by:\n$$ \\beta(s) = \\frac{ \\alpha \\left(\\frac{\\omega_0}{Q}\\right) s }{s^2 + \\left(\\frac{\\omega_0}{Q}\\right) s + \\omega_0^2 } $$\nThe parameters for the filter are given as:\n- Center frequency, $\\omega_0 = 2000\\pi$ rad/s\n- Quality factor, $Q = 10$\n- Pass-band gain factor, $\\alpha = 0.125$\n\nDetermine the exact numerical value of the amplifier gain $K$ that is required for the system to sustain steady-state sinusoidal oscillations.", "solution": "The condition for sustained sinusoidal oscillation is given by the Barkhausen criterion, which states that the loop gain of the system must be equal to unity at the frequency of oscillation. The loop gain, $L(s)$, is the product of the amplifier gain, $A(s)$, and the feedback network transfer function, $\\beta(s)$.\n\nIn this problem, the amplifier gain is a constant $K$, so $A(s) = K$. The loop gain is therefore:\n$$ L(s) = A(s)\\beta(s) = K \\beta(s) $$\n\nThe Barkhausen criterion is $L(j\\omega_{osc}) = 1$, where $\\omega_{osc}$ is the frequency of oscillation. This complex equation can be separated into two conditions:\n1.  The magnitude condition: $|L(j\\omega_{osc})| = 1$\n2.  The phase condition: $\\angle L(j\\omega_{osc}) = 0$ (or $2n\\pi$ radians for any integer $n$)\n\nFirst, we use the phase condition to find the frequency of oscillation, $\\omega_{osc}$. We need to find the phase of the loop gain, $L(j\\omega) = K\\beta(j\\omega)$. Since $K$ is a positive real number, its phase is $0$, so $\\angle L(j\\omega) = \\angle \\beta(j\\omega)$. The phase condition becomes $\\angle \\beta(j\\omega_{osc}) = 0$.\n\nLet's find the expression for $\\beta(j\\omega)$ by substituting $s = j\\omega$ into the given transfer function:\n$$ \\beta(j\\omega) = \\frac{ \\alpha \\left(\\frac{\\omega_0}{Q}\\right) (j\\omega) }{(j\\omega)^2 + \\left(\\frac{\\omega_0}{Q}\\right) (j\\omega) + \\omega_0^2 } = \\frac{ j \\alpha \\frac{\\omega_0}{Q} \\omega }{ (\\omega_0^2 - \\omega^2) + j \\frac{\\omega_0}{Q} \\omega } $$\n\nThe phase of $\\beta(j\\omega)$ is the phase of the numerator minus the phase of the denominator:\n$$ \\angle \\beta(j\\omega) = \\angle\\left(j \\alpha \\frac{\\omega_0}{Q} \\omega\\right) - \\angle\\left((\\omega_0^2 - \\omega^2) + j \\frac{\\omega_0}{Q} \\omega\\right) $$\nSince the numerator is purely imaginary and positive (as $\\alpha, \\omega_0, Q, \\omega > 0$), its phase is $\\frac{\\pi}{2}$ radians. The phase of the denominator is $\\arctan\\left(\\frac{\\text{Imaginary part}}{\\text{Real part}}\\right)$.\n$$ \\angle \\beta(j\\omega) = \\frac{\\pi}{2} - \\arctan\\left(\\frac{\\frac{\\omega_0}{Q}\\omega}{\\omega_0^2 - \\omega^2}\\right) $$\n\nTo satisfy the phase condition, we set $\\angle \\beta(j\\omega_{osc}) = 0$:\n$$ 0 = \\frac{\\pi}{2} - \\arctan\\left(\\frac{\\frac{\\omega_0}{Q}\\omega_{osc}}{\\omega_0^2 - \\omega_{osc}^2}\\right) $$\n$$ \\arctan\\left(\\frac{\\frac{\\omega_0}{Q}\\omega_{osc}}{\\omega_0^2 - \\omega_{osc}^2}\\right) = \\frac{\\pi}{2} $$\nThe arctangent function equals $\\frac{\\pi}{2}$ when its argument approaches positive infinity. This occurs when the denominator of the argument is zero and the numerator is positive.\n$$ \\omega_0^2 - \\omega_{osc}^2 = 0 \\implies \\omega_{osc}^2 = \\omega_0^2 \\implies \\omega_{osc} = \\omega_0 $$\nThus, the system oscillates at the center frequency of the filter, $\\omega_0$.\n\nNow, we apply the magnitude condition, $|L(j\\omega_{osc})| = 1$, at the oscillation frequency $\\omega_{osc} = \\omega_0$.\n$$ |L(j\\omega_0)| = |K \\beta(j\\omega_0)| = 1 $$\nWe must evaluate $\\beta(j\\omega)$ at $\\omega = \\omega_0$:\n$$ \\beta(j\\omega_0) = \\frac{ j \\alpha \\frac{\\omega_0}{Q} \\omega_0 }{ (\\omega_0^2 - \\omega_0^2) + j \\frac{\\omega_0}{Q} \\omega_0 } = \\frac{ j \\alpha \\frac{\\omega_0^2}{Q} }{ 0 + j \\frac{\\omega_0^2}{Q} } = \\alpha $$\nThe feedback network's response at the center frequency is purely real with a value of $\\alpha$.\n\nSubstituting this result into the magnitude condition:\n$$ |K \\cdot \\alpha| = 1 $$\nSince both $K$ and $\\alpha$ are given as positive, this simplifies to:\n$$ K \\alpha = 1 $$\nSolving for the required amplifier gain $K$:\n$$ K = \\frac{1}{\\alpha} $$\nThe problem states that $\\alpha = 0.125$.\n$$ K = \\frac{1}{0.125} = \\frac{1}{1/8} = 8 $$\nThe required amplifier gain is 8. The values of $\\omega_0$ and $Q$ determine the frequency of oscillation but are not needed to find the gain $K$.", "answer": "$$\\boxed{8}$$", "id": "1336427"}]}