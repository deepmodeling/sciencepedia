{"hands_on_practices": [{"introduction": "Effective circuit design often involves navigating critical trade-offs. In sample-and-hold circuits, the value of the hold capacitor, $C_H$, presents a classic engineering compromise. This exercise explores the fundamental relationship between capacitance and two key performance metrics: acquisition time and droop rate. By analyzing how changing $C_H$ affects the circuit's speed and stability, you will gain a deeper intuition for the core design principles of sample-and-hold systems [@problem_id:1330142].", "problem": "An engineer is designing a data acquisition system that utilizes a basic Sample-and-Hold (S/H) circuit. The circuit consists of an electronic switch with a constant on-resistance $R_{on}$, a hold capacitor with an initial capacitance $C_{H,1}$, and ideal buffering amplifiers. During the \"hold\" mode, a constant, non-zero leakage current $I_{leak}$ flows out of the capacitor, causing its voltage to gradually decrease. This phenomenon is quantified by the droop rate. The speed at which the circuit can acquire the input signal is characterized by the acquisition time constant, $\\tau_{acq}$.\n\nTo improve the circuit's performance by reducing the voltage decay during the hold phase, the engineer decides to replace the original hold capacitor with a new one of capacitance $C_{H,2} = 2 C_{H,1}$. All other components and their characteristics, including $R_{on}$ and $I_{leak}$, remain unchanged.\n\nWhich of the following statements correctly describes the effect of this modification on the droop rate and the acquisition time constant?\n\nA. The droop rate is halved, and the acquisition time constant is doubled.\n\nB. The droop rate is doubled, and the acquisition time constant is halved.\n\nC. Both the droop rate and the acquisition time constant are doubled.\n\nD. Both the droop rate and the acquisition time constant are halved.", "solution": "To determine the effect of changing the hold capacitor's value, we must analyze its impact on the two specified performance metrics: the acquisition time constant and the droop rate.\n\nFirst, let's analyze the acquisition time constant, $\\tau_{acq}$. During the \"sample\" or \"acquisition\" phase, the electronic switch is closed, and the hold capacitor $C_H$ charges towards the input voltage. This charging process is modeled as a simple RC circuit, where the resistance is the switch's on-resistance, $R_{on}$. The time constant for this RC circuit is given by the product of the resistance and the capacitance.\nInitially, with capacitor $C_{H,1}$, the acquisition time constant is:\n$$ \\tau_{acq, 1} = R_{on} C_{H,1} $$\nAfter the modification, the new capacitor is $C_{H,2} = 2 C_{H,1}$. The new acquisition time constant, $\\tau_{acq, 2}$, is:\n$$ \\tau_{acq, 2} = R_{on} C_{H,2} = R_{on} (2 C_{H,1}) = 2 (R_{on} C_{H,1}) = 2 \\tau_{acq, 1} $$\nTherefore, doubling the capacitance doubles the acquisition time constant.\n\nNext, let's analyze the droop rate. During the \"hold\" phase, the switch is open. The voltage across the capacitor, $V_H$, is ideally constant. However, due to the leakage current $I_{leak}$ discharging the capacitor, the voltage changes over time. The fundamental relationship between current, capacitance, and the rate of change of voltage for a capacitor is $I = C \\frac{dV}{dt}$.\nIn our case, the current is the leakage current $I_{leak}$ discharging the capacitor $C_H$. The droop rate is defined as the magnitude of the rate of voltage change across the capacitor.\n$$ \\text{Droop Rate} = \\left| \\frac{dV_H}{dt} \\right| $$\nFrom the capacitor equation, we have:\n$$ \\left| \\frac{dV_H}{dt} \\right| = \\frac{I_{leak}}{C_H} $$\nInitially, with capacitor $C_{H,1}$, the droop rate is:\n$$ \\text{Droop Rate}_1 = \\frac{I_{leak}}{C_{H,1}} $$\nAfter replacing the capacitor with $C_{H,2} = 2 C_{H,1}$, the new droop rate is:\n$$ \\text{Droop Rate}_2 = \\frac{I_{leak}}{C_{H,2}} = \\frac{I_{leak}}{2 C_{H,1}} = \\frac{1}{2} \\left( \\frac{I_{leak}}{C_{H,1}} \\right) = \\frac{1}{2} \\text{Droop Rate}_1 $$\nTherefore, doubling the capacitance halves the droop rate.\n\nCombining our findings, doubling the hold capacitance results in the acquisition time constant being doubled and the droop rate being halved. This corresponds to option A.", "answer": "$$\\boxed{A}$$", "id": "1330142"}, {"introduction": "Moving from theory to practice, this problem tackles a common design challenge: ensuring a sample-and-hold circuit is fast enough for a specific application. To interface with an Analog-to-Digital Converter (ADC), the circuit's output must settle to the input voltage with high precision within a limited acquisition time, $t_{acq}$. This exercise guides you through calculating the maximum permissible on-resistance, $R_{on}$, of the sampling switch to meet the stringent accuracy requirements of a 10-bit system, directly linking the analog RC settling time to digital resolution [@problem_id:1330097].", "problem": "A data acquisition system employs a sample-and-hold (S/H) circuit to capture a rapidly changing analog voltage before it is digitized. The S/H circuit is modeled as an analog switch connected in series with a holding capacitor. The switch has a non-zero on-resistance, denoted by $R_{on}$, and the holding capacitor has a capacitance $C_H$.\n\nDuring the acquisition phase, the switch is closed for a specific duration, the acquisition time $t_{acq}$, allowing the capacitor to charge towards the input voltage. For this system to function correctly with a downstream 10-bit Analog-to-Digital Converter (ADC), the voltage across the capacitor at the end of the acquisition time must settle to within one-half of a Least Significant Bit (LSB) of the input voltage.\n\nAssume the worst-case scenario where the capacitor is initially fully discharged (0 V) and the input signal makes a full-scale step. Given an acquisition time $t_{acq} = 500 \\text{ ns}$ and a holding capacitance $C_H = 10 \\text{ pF}$, determine the maximum permissible on-resistance $R_{on}$ of the switch that satisfies this accuracy requirement.\n\nExpress your answer in ohms ($\\Omega$), rounded to three significant figures.", "solution": "The sample-and-hold circuit during acquisition behaves as an $RC$ charging network with time constant $\\tau = R_{on}C_{H}$. For a full-scale step from $0$ to $V_{FS}$ at $t=0$, the capacitor voltage is\n$$\nV_{C}(t)=V_{FS}\\left(1-\\exp\\!\\left(-\\frac{t}{R_{on}C_{H}}\\right)\\right).\n$$\nThe settling error relative to the final value is\n$$\nE(t)=V_{FS}-V_{C}(t)=V_{FS}\\exp\\!\\left(-\\frac{t}{R_{on}C_{H}}\\right).\n$$\nFor a 10-bit ADC, the half-LSB requirement is that the error must be less than $V_{FS} / (2 \\cdot 2^{10}) = V_{FS}/2^{11}$.\n$$\nE(t_{acq}) \\leq \\frac{V_{FS}}{2^{11}}.\n$$\nSubstituting the expression for the error and cancelling $V_{FS} > 0$:\n$$\n\\exp\\!\\left(-\\frac{t_{acq}}{R_{on}C_{H}}\\right) \\leq 2^{-11}\n$$\nTaking the natural logarithm of both sides gives:\n$$\n-\\frac{t_{acq}}{R_{on}C_{H}} \\leq -11\\ln 2\n$$\nMultiplying by -1 and reversing the inequality sign:\n$$\n\\frac{t_{acq}}{R_{on}C_{H}} \\geq 11\\ln 2.\n$$\nSolving for $R_{on}$ gives the condition for the maximum permissible on-resistance:\n$$\nR_{on} \\leq \\frac{t_{acq}}{C_{H} \\cdot 11\\ln 2}.\n$$\nSubstituting the given values, $t_{acq}=500 \\times 10^{-9}$ s and $C_{H}=10 \\times 10^{-12}$ F:\n$$\nR_{on,max}=\\frac{500 \\times 10^{-9}}{10 \\times 10^{-12} \\cdot 11 \\ln 2} \\approx \\frac{500 \\times 10^{-9}}{10 \\times 10^{-12} \\cdot 7.6246}\n$$\n$$\nR_{on,max} \\approx \\frac{50 \\times 10^{-9}}{7.6246 \\times 10^{-12}} \\approx 6557.7 \\, \\Omega\n$$\nRounded to three significant figures, the maximum permissible resistance is $6.56 \\times 10^{3} \\, \\Omega$.", "answer": "$$\\boxed{6.56 \\times 10^{3}}$$", "id": "1330097"}, {"introduction": "Having addressed the \"sample\" phase, we now turn our attention to the \"hold\" phase, which is equally critical for accurate data conversion. During this phase, unavoidable leakage currents cause the stored voltage on the hold capacitor to decay, a phenomenon known as \"droop.\" This practice problem demonstrates how to calculate the minimum capacitance needed to ensure this voltage droop remains within the acceptable error margin—half a Least Significant Bit (LSB)—for a high-resolution ADC during its conversion cycle [@problem_id:1330135]. This calculation is essential for maintaining signal integrity in high-precision measurement systems.", "problem": "An engineer is designing a high-precision digital data acquisition system. The system's front-end consists of a sample-and-hold (S&H) circuit that feeds into an Analog-to-Digital Converter (ADC). The S&H circuit uses an ideal analog switch and a hold capacitor, $C_H$.\n\nThe ADC is a Successive Approximation Register (SAR) type with a resolution of $N=14$ bits and operates with a full-scale reference voltage of $V_{ref} = 5.0$ V. The ADC's internal clock runs at a frequency of $f_{clk} = 2.0$ MHz, and a complete conversion requires exactly $N$ clock cycles. During this conversion time, the S&H circuit is in the 'hold' mode.\n\nThe performance is limited by leakage currents, which cause the voltage stored on $C_H$ to \"droop\". There are two sources of leakage: the analog switch, when open, has a leakage current of $I_{leak} = 50.0$ pA, and the ADC input has a bias current of $I_{bias} = 20.0$ pA. To ensure the accuracy of the conversion, the total voltage droop on the capacitor during a single conversion period must be no more than half of the voltage corresponding to one Least Significant Bit (LSB) of the ADC.\n\nCalculate the minimum required value for the hold capacitor, $C_H$. Express your final answer in picofarads (pF), rounded to three significant figures.", "solution": "The problem asks for the minimum value of the hold capacitor, $C_H$, required to keep the voltage droop within a specified limit.\n\nFirst, we establish the relationship for voltage droop. The voltage change on the capacitor, $\\Delta V_{droop}$, during the hold time $t_{hold}$ is caused by the total leakage current $I_{total}$ discharging it:\n$$\\Delta V_{droop} = \\frac{I_{total} \\times t_{hold}}{C_H}$$\n\nThe constraint is that this droop must be no more than half of one Least Significant Bit (LSB):\n$$\\Delta V_{droop} \\le \\frac{1}{2} V_{LSB}$$\nwhere $V_{LSB} = \\frac{V_{ref}}{2^N}$.\n\nTo find the minimum capacitance, $C_{H,min}$, we set the actual droop equal to the maximum allowed droop and solve for $C_H$:\n$$\\frac{I_{total} \\times t_{hold}}{C_{H,min}} = \\frac{1}{2} \\frac{V_{ref}}{2^N}$$\n$$C_{H,min} = \\frac{2 \\times I_{total} \\times t_{hold} \\times 2^N}{V_{ref}}$$\n\nNow, we substitute the given values:\n- Total leakage current, $I_{total} = I_{leak} + I_{bias} = 50.0 \\text{ pA} + 20.0 \\text{ pA} = 70.0 \\times 10^{-12} \\text{ A}$.\n- Hold time, $t_{hold} = \\frac{N}{f_{clk}} = \\frac{14}{2.0 \\times 10^6 \\text{ Hz}} = 7.0 \\times 10^{-6} \\text{ s}$.\n- ADC resolution, $N = 14$.\n- Reference voltage, $V_{ref} = 5.0 \\text{ V}$.\n\nPlugging these into the equation for $C_{H,min}$:\n$$C_{H,min} = \\frac{2 \\times (70.0 \\times 10^{-12} \\text{ A}) \\times (7.0 \\times 10^{-6} \\text{ s}) \\times 2^{14}}{5.0 \\text{ V}}$$\nSince $2^{14} = 16384$:\n$$C_{H,min} = \\frac{2 \\times 70.0 \\times 10^{-12} \\times 7.0 \\times 10^{-6} \\times 16384}{5.0} \\text{ F}$$\n$$C_{H,min} = \\frac{980 \\times 10^{-18} \\times 16384}{5.0} \\text{ F}$$\n$$C_{H,min} = \\frac{16056320 \\times 10^{-18}}{5.0} \\text{ F}$$\n$$C_{H,min} = 3211264 \\times 10^{-18} \\text{ F} = 3.211264 \\times 10^{-12} \\text{ F}$$\n\nThe result is $3.211264 \\times 10^{-12}$ Farads. The question asks for the answer in picofarads (pF), where $1 \\text{ pF} = 10^{-12} \\text{ F}$.\n$$C_{H,min} = 3.211264 \\text{ pF}$$\n\nRounding to three significant figures, we get:\n$$C_{H,min} \\approx 3.21 \\text{ pF}$$", "answer": "$$\\boxed{3.21}$$", "id": "1330135"}]}