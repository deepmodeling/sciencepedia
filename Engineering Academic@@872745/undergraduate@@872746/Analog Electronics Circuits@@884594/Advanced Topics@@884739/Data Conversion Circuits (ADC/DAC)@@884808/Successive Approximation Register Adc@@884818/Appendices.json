{"hands_on_practices": [{"introduction": "Understanding the Successive Approximation Register (SAR) ADC begins with its core logic: a binary search algorithm. This first practice puts you in the driver's seat of the SAR logic. Given the sequence of decisions from the internal comparator, your task is to construct the final digital word, step-by-step, reinforcing the fundamental algorithm at the heart of every conversion [@problem_id:1334890].", "problem": "An embedded system for atmospheric monitoring employs a 6-bit Successive Approximation Register (SAR) Analog-to-Digital Converter (ADC) to digitize the output voltage of a high-precision barometric pressure sensor. The ADC operates with a reference voltage of $V_{ref} = 5.12$ V.\n\nThe conversion process of the SAR ADC is a binary search. It determines the state of each bit, from the Most Significant Bit (MSB) to the Least Significant Bit (LSB), one at a time. For each bit, a trial voltage is generated by a Digital-to-Analog Converter (DAC) and compared to the sensor's analog input voltage, $V_{in}$. If the comparator's output is 'HIGH', it signifies that $V_{in}$ is greater than or equal to the trial voltage, and the bit is kept at 1. If the output is 'LOW', it signifies $V_{in}$ is less than the trial voltage, and the bit is set to 0.\n\nFor a specific, constant pressure measurement, the sequence of comparator outputs, corresponding to the tests from the MSB down to the LSB, was observed to be:\n\nHIGH, LOW, HIGH, HIGH, LOW, HIGH\n\nBased on this sequence, determine the final 6-bit digital word produced by the ADC. Express your answer as the decimal (base-10) integer equivalent of this binary word.", "solution": "The problem asks for the decimal equivalent of a 6-bit binary word determined by a Successive Approximation Register (SAR) Analog-to-Digital Converter (ADC). The ADC has a resolution of $N=6$ bits and a reference voltage of $V_{ref} = 5.12$ V. The sequence of comparator outputs for the bits from Most Significant Bit (MSB), $b_5$, to Least Significant Bit (LSB), $b_0$, is given as HIGH, LOW, HIGH, HIGH, LOW, HIGH.\n\nThe SAR ADC performs a binary search to find the digital representation of the analog input voltage $V_{in}$. We will trace the state of the 6-bit register, $B = b_5 b_4 b_3 b_2 b_1 b_0$, through the 6 steps of the conversion process.\n\nThe internal Digital-to-Analog Converter (DAC) generates a trial voltage based on the current trial digital word. A comparator output of 'HIGH' means the current bit being tested should be kept at '1', while an output of 'LOW' means it should be set to '0'.\n\n**Step 1: Test MSB ($b_5$)**\nThe initial trial word is set by making the MSB '1' and all other bits '0'.\nTrial word: $100000_2$.\nThe comparator output is **HIGH**. This means $V_{in}$ is greater than or equal to the voltage corresponding to $100000_2$. Therefore, the MSB is kept.\n$b_5 = 1$.\nCurrent result: $1????_2$.\n\n**Step 2: Test bit $b_4$**\nThe next trial word is formed by keeping the decided bit ($b_5=1$) and setting the next bit to be tested ($b_4$) to '1'.\nTrial word: $110000_2$.\nThe comparator output is **LOW**. This means $V_{in}$ is less than the voltage corresponding to $110000_2$. Therefore, this bit must be cleared.\n$b_4 = 0$.\nCurrent result: $10???_2$.\n\n**Step 3: Test bit $b_3$**\nThe trial word is formed using the decided bits ($b_5=1, b_4=0$) and setting the bit under test ($b_3$) to '1'.\nTrial word: $101000_2$.\nThe comparator output is **HIGH**. This means $V_{in}$ is greater than or equal to the voltage corresponding to $101000_2$. Therefore, the bit is kept.\n$b_3 = 1$.\nCurrent result: $101??_2$.\n\n**Step 4: Test bit $b_2$**\nThe trial word is formed using decided bits ($b_5=1, b_4=0, b_3=1$) and setting the bit under test ($b_2$) to '1'.\nTrial word: $101100_2$.\nThe comparator output is **HIGH**. This means $V_{in}$ is greater than or equal to the voltage corresponding to $101100_2$. The bit is kept.\n$b_2 = 1$.\nCurrent result: $1011?_2$.\n\n**Step 5: Test bit $b_1$**\nThe trial word is formed using decided bits ($b_5=1, b_4=0, b_3=1, b_2=1$) and setting the bit under test ($b_1$) to '1'.\nTrial word: $101110_2$.\nThe comparator output is **LOW**. This means $V_{in}$ is less than the voltage corresponding to $101110_2$. The bit must be cleared.\n$b_1 = 0$.\nCurrent result: $10110?_2$.\n\n**Step 6: Test LSB ($b_0$)**\nThe final trial word is formed using the previously decided bits and setting the LSB ($b_0$) to '1'.\nTrial word: $101101_2$.\nThe comparator output is **HIGH**. This means $V_{in}$ is greater than or equal to the voltage corresponding to $101101_2$. The bit is kept.\n$b_0 = 1$.\n\nAfter all 6 steps, the final binary word is $101101_2$.\n\nThe final step is to convert this binary word to its decimal equivalent.\n$B_{decimal} = (1 \\times 2^5) + (0 \\times 2^4) + (1 \\times 2^3) + (1 \\times 2^2) + (0 \\times 2^1) + (1 \\times 2^0)$\n$B_{decimal} = (1 \\times 32) + (0 \\times 16) + (1 \\times 8) + (1 \\times 4) + (0 \\times 2) + (1 \\times 1)$\n$B_{decimal} = 32 + 0 + 8 + 4 + 0 + 1$\n$B_{decimal} = 45$\n\nThe decimal integer equivalent of the final digital word is 45.", "answer": "$$\\boxed{45}$$", "id": "1334890"}, {"introduction": "Real-world components are rarely perfect, and their imperfections can affect system performance. This next exercise builds upon the basic conversion process by introducing a common non-ideality: a comparator offset voltage. By simulating the bit-by-bit conversion yourself while accounting for this offset, you will gain a deeper appreciation for how component-level characteristics influence the ADC's final output [@problem_id:1334877].", "problem": "A 4-bit Successive Approximation Register (SAR) Analog-to-Digital Converter (ADC) is being characterized in a laboratory setting. The ADC uses a reference voltage $V_{\\text{ref}} = 8.0 \\text{ V}$. The internal Digital-to-Analog Converter (DAC) is unipolar, with its output $V_{\\text{DAC}}$ scaling linearly with the digital code. A key component, the internal comparator, is discovered to have a non-ideal characteristic: it exhibits a positive input offset voltage of $V_{\\text{os}} = +0.1 \\text{ V}$. The SAR logic sets the bit currently under test to '1' if the analog input signal $V_{\\text{in}}$ is greater than or equal to the DAC's output voltage $V_{\\text{DAC}}$ plus the offset $V_{\\text{os}}$. Otherwise, the bit is set to '0'.\n\nGiven an analog input signal of $V_{\\text{in}} = 5.05 \\text{ V}$, determine the final 4-bit binary output code ($B_3 B_2 B_1 B_0$), where $B_3$ is the Most Significant Bit (MSB).\n\nWhich of the following represents the correct binary output?\n\nA. 1001\n\nB. 1010\n\nC. 1000\n\nD. 1011", "solution": "A 4-bit unipolar DAC in a SAR ADC produces, for a digital code $C \\in \\{0,\\dots,15\\}$, the output\n$$\nV_{\\mathrm{DAC}}=V_{\\mathrm{ref}}\\frac{C}{2^{4}}.\n$$\nThe SAR decision rule with a positive comparator input offset $V_{\\mathrm{os}}$ is: for the trial code, the bit under test is kept at $1$ if\n$$\nV_{\\mathrm{in}} \\ge V_{\\mathrm{DAC}} + V_{\\mathrm{os}},\n$$\notherwise it is cleared to $0$.\n\nGiven $V_{\\mathrm{ref}}=8.0 \\text{ V}$, $V_{\\mathrm{os}}=0.1 \\text{ V}$, and $V_{\\mathrm{in}}=5.05 \\text{ V}$, proceed bit by bit from MSB to LSB.\n\nMSB $B_{3}$ trial: set $B_{3}=1$ (trial code $C=8$), so\n$$\nV_{\\mathrm{DAC}}=8.0\\cdot\\frac{8}{16}=4.0 \\text{ V}.\n$$\nCompare $5.05 \\ge 4.0 + 0.1 = 4.1$, which is true, so keep $B_{3}=1$.\n\nNext $B_{2}$ trial: with $B_{3}=1$, set $B_{2}=1$ (trial code $C=12$), so\n$$\nV_{\\mathrm{DAC}}=8.0\\cdot\\frac{12}{16}=6.0 \\text{ V}.\n$$\nCompare $5.05 \\ge 6.0 + 0.1 = 6.1$, which is false, so set $B_{2}=0$.\n\nNext $B_{1}$ trial: with $B_{3}=1,B_{2}=0$, set $B_{1}=1$ (trial code $C=10$), so\n$$\nV_{\\mathrm{DAC}}=8.0\\cdot\\frac{10}{16}=5.0 \\text{ V}.\n$$\nCompare $5.05 \\ge 5.0 + 0.1 = 5.1$, which is false, so set $B_{1}=0$.\n\nNext $B_{0}$ trial: with $B_{3}=1,B_{2}=0,B_{1}=0$, set $B_{0}=1$ (trial code $C=9$), so\n$$\nV_{\\mathrm{DAC}}=8.0\\cdot\\frac{9}{16}=4.5 \\text{ V}.\n$$\nCompare $5.05 \\ge 4.5 + 0.1 = 4.6$, which is true, so keep $B_{0}=1$.\n\nTherefore, the final 4-bit code is $B_{3}B_{2}B_{1}B_{0}=1001$, which corresponds to option A.", "answer": "$$\\boxed{A}$$", "id": "1334877"}, {"introduction": "An ADC is always part of a larger data acquisition system, and its performance must meet the system's needs. This final practice challenges you to bridge the gap between the ADC's internal operation and external requirements, specifically the need to sample a signal fast enough to prevent aliasing. You will derive an expression for the minimum clock frequency, linking the ADC's resolution and timing to the properties of the signal being measured, a crucial skill in system design [@problem_id:1334898].", "problem": "A biomedical engineering team is developing a wearable Electrocardiogram (ECG) monitor. The device must accurately capture the patient's heart signal, which, after filtering, is known to have significant frequency components up to a maximum frequency of $f_{max}$. To digitize this signal, the design incorporates a Successive Approximation Register (SAR) Analog-to-Digital Converter (ADC) with a resolution of $N$ bits.\n\nThe operation of this SAR ADC for each sample acquisition is a two-phase process. First, an initial sample-and-hold (S/H) phase acquires the analog voltage, a process that requires a fixed duration of $k$ clock cycles. Following this, a conversion phase begins where each of the $N$ bits is determined sequentially. Each bit decision takes exactly one clock cycle.\n\nTo ensure a high-fidelity digital representation of the signal and prevent aliasing, the system must adhere to a strict sampling protocol. The designated sampling rate, $f_s$, is set to be a factor $\\alpha$ times the theoretical minimum Nyquist rate required for the signal. For the system to function correctly, the total time required for one complete ADC conversion must not exceed the time interval between consecutive samples.\n\nDerive a closed-form analytic expression for the minimum clock frequency, $f_{clk, min}$, that the ADC must have to satisfy these system requirements. Express your answer in terms of the parameters $f_{max}$, $N$, $k$, and $\\alpha$.", "solution": "Let the maximum signal frequency after filtering be $f_{max}$. The Nyquist sampling theorem requires $f_{s} \\geq 2 f_{max}$. The system enforces a sampling rate that is a factor $\\alpha$ above this minimum, hence\n$$\nf_{s} = 2 \\alpha f_{max}.\n$$\nEach ADC conversion per sample consists of two serial phases: a sample-and-hold phase taking $k$ clock cycles and a successive-approximation phase taking $N$ clock cycles, for a total of $k+N$ clock cycles per sample. If the ADC clock frequency is $f_{clk}$, the time required to complete one conversion is\n$$\nT_{conv} = \\frac{k+N}{f_{clk}}.\n$$\nTo ensure that each conversion finishes before the next sample is due, the conversion time must not exceed the sampling interval $T_{s} = \\frac{1}{f_{s}}$:\n$$\n\\frac{k+N}{f_{clk}} \\leq \\frac{1}{f_{s}}.\n$$\nSolving for $f_{clk}$ gives\n$$\nf_{clk} \\geq (k+N) f_{s}.\n$$\nSubstituting $f_{s} = 2 \\alpha f_{max}$ yields the minimum required ADC clock frequency:\n$$\nf_{clk, min} = 2 \\alpha (k+N) f_{max}.\n$$", "answer": "$$\\boxed{2 \\alpha (k+N) f_{max}}$$", "id": "1334898"}]}