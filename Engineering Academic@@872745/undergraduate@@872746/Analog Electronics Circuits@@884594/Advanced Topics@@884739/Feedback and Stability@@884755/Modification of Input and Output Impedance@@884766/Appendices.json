{"hands_on_practices": [{"introduction": "A core principle in amplifier design is that the output impedance of a voltage amplifier should be as low as possible to efficiently drive a load without signal loss. This first practice provides a foundational, quantitative look at how negative feedback masterfully achieves this goal. By analyzing a standard series-shunt feedback amplifier, you will calculate the precise factor by which the output impedance is reduced, solidifying your understanding of one of feedback's most powerful benefits. [@problem_id:1317268]", "problem": "An engineer is designing a low-impedance buffer stage for a high-frequency sensor. The core of the buffer is a voltage amplifier block, which can be modeled with a key set of open-loop characteristics: an open-loop voltage gain $A_{OL} = 1.20 \\times 10^5$, an open-loop input impedance $R_i = 2.50 \\, \\text{M}\\Omega$, and an open-loop output impedance $R_o = 80.0 \\, \\Omega$.\n\nTo stabilize the circuit's performance and significantly lower its output impedance, a series-shunt negative feedback configuration is employed. This is realized using a standard non-inverting topology. A feedback resistor with resistance $R_F = 55.2 \\, \\text{k}\\Omega$ is connected from the amplifier's output to its inverting input. Another resistor with resistance $R_G = 1.25 \\, \\text{k}\\Omega$ is connected from the inverting input to ground. The signal from the sensor is applied to the non-inverting input of the amplifier.\n\nAssuming the amplifier operates in its linear region and the feedback network does not load the input signal source, calculate the factor by which the output impedance of the amplifier is reduced. Express your answer as a number rounded to four significant figures.", "solution": "We identify the feedback type as series-shunt (voltage-series) in a non-inverting configuration. For such feedback, the closed-loop output impedance is given by\n$$\nR_{o,\\text{fb}}=\\frac{R_{o}}{1+A_{OL}\\beta},\n$$\nso the reduction factor (ratio of open-loop to closed-loop output impedance) is\n$$\nD=1+A_{OL}\\beta.\n$$\nThe feedback factor for the non-inverting topology is the voltage divider ratio\n$$\n\\beta=\\frac{R_{G}}{R_{F}+R_{G}}.\n$$\nWith $R_{F}=55.2\\times 10^{3}$ and $R_{G}=1.25\\times 10^{3}$,\n$$\n\\beta=\\frac{1.25\\times 10^{3}}{(55.2+1.25)\\times 10^{3}}=\\frac{1.25}{56.45}=\\frac{25}{1129}.\n$$\nThe loop gain is\n$$\nA_{OL}\\beta=\\left(1.20\\times 10^{5}\\right)\\left(\\frac{25}{1129}\\right)=\\frac{3.00\\times 10^{6}}{1129}.\n$$\nHence the reduction factor is\n$$\nD=1+A_{OL}\\beta=1+\\frac{3.00\\times 10^{6}}{1129}=\\frac{3{,}001{,}129}{1129}\\approx 2658.218\\ldots\n$$\nRounded to four significant figures, the factor by which the output impedance is reduced is $2658$.", "answer": "$$\\boxed{2658}$$", "id": "1317268"}, {"introduction": "Moving beyond idealized op-amp blocks, real-world circuit design often involves discrete transistors where multiple feedback mechanisms can be at play simultaneously. This exercise examines a common-emitter amplifier that employs both local series feedback (emitter degeneration) and global shunt feedback (collector-to-base resistor). Your task is to dissect this more complex scenario and derive the resulting input impedance, providing insight into how engineers can layer feedback techniques to precisely tailor an amplifier's characteristics. [@problem_id:1317287]", "problem": "Consider a single-stage voltage amplifier constructed using an NPN Bipolar Junction Transistor (BJT). The circuit is configured as follows: The emitter terminal is connected to ground through an emitter resistor with resistance $R_E$. The collector terminal is connected to a DC power supply through a collector resistor with resistance $R_C$. To stabilize the operating point and modify the amplifier's characteristics, a feedback resistor with resistance $R_F$ is connected directly between the collector and base terminals. The input signal is fed to the base of the transistor, and the output signal is taken from the collector.\n\nFor the purpose of small-signal analysis, the BJT is characterized at its DC operating point by its common-emitter current gain $\\beta$ and its intrinsic base-emitter resistance $r_\\pi$. The transconductance $g_m$ is related to these parameters by $g_m = \\beta/r_\\pi$. You are to assume that the Early effect is negligible, which implies that the transistor's intrinsic output resistance, $r_o$, can be considered infinite.\n\nDetermine the small-signal input resistance, $R_{in}$, of this amplifier as seen looking into the base of the transistor. Your final answer should be a single, closed-form analytic expression in terms of $\\beta$, $r_\\pi$, $R_C$, $R_E$, and $R_F$.", "solution": "Let the small-signal base, collector, and emitter node voltages be $v_{b}$, $v_{c}$, and $v_{e}$, respectively, and define $v_{\\pi}=v_{b}-v_{e}$. Using the hybrid-$\\pi$ model with $r_{o}\\to\\infty$, the elements are: $r_{\\pi}$ between base and emitter, a controlled current source of value $g_{m}v_{\\pi}$ from collector to emitter, $R_{C}$ from collector to ground, $R_{E}$ from emitter to ground, and $R_{F}$ from collector to base.\n\nKCL at the collector node gives\n$$\n\\frac{v_{c}}{R_{C}}+\\frac{v_{c}-v_{b}}{R_{F}}+g_{m}v_{\\pi}=0,\n$$\nwhich yields\n$$\nv_{c}=\\frac{v_{b}R_{C}}{R_{C}+R_{F}}-\\frac{g_{m}R_{C}R_{F}}{R_{C}+R_{F}}\\,v_{\\pi}.\n$$\n\nKCL at the emitter node gives\n$$\n\\frac{v_{e}}{R_{E}}+\\frac{v_{e}-v_{b}}{r_{\\pi}}-g_{m}v_{\\pi}=0\n\\;\\;\\Rightarrow\\;\\;\n\\frac{v_{e}}{R_{E}}=v_{\\pi}\\!\\left(\\frac{1}{r_{\\pi}}+g_{m}\\right).\n$$\nUsing $v_{\\pi}=v_{b}-v_{e}$, this becomes\n$$\nv_{\\pi}\\Bigl[1+R_{E}\\!\\left(\\frac{1}{r_{\\pi}}+g_{m}\\right)\\Bigr]=v_{b}\n\\;\\;\\Rightarrow\\;\\;\nv_{\\pi}=\\frac{v_{b}}{D},\\quad D\\equiv 1+R_{E}\\!\\left(\\frac{1}{r_{\\pi}}+g_{m}\\right).\n$$\n\nThe input current at the base is the sum of currents from base to emitter and from base to collector:\n$$\ni_{in}=\\frac{v_{b}-v_{e}}{r_{\\pi}}+\\frac{v_{b}-v_{c}}{R_{F}}=\\frac{v_{\\pi}}{r_{\\pi}}+\\frac{v_{b}-v_{c}}{R_{F}}.\n$$\nUsing the expression for $v_{c}$,\n$$\n\\frac{v_{b}-v_{c}}{R_{F}}=\\frac{v_{b}}{R_{C}+R_{F}}+\\frac{g_{m}R_{C}}{R_{C}+R_{F}}\\,v_{\\pi}.\n$$\nTherefore,\n$$\n\\frac{i_{in}}{v_{b}}=\\frac{1}{r_{\\pi}D}+\\frac{1}{R_{C}+R_{F}}+\\frac{g_{m}R_{C}}{(R_{C}+R_{F})D}.\n$$\n\nHence the input resistance is\n$$\nR_{in}=\\frac{v_{b}}{i_{in}}=\\frac{(R_{C}+R_{F})D\\,r_{\\pi}}{(R_{C}+R_{F})+D\\,r_{\\pi}+g_{m}R_{C}r_{\\pi}}.\n$$\nUsing $g_{m}=\\beta/r_{\\pi}$, we have $D=1+\\frac{(1+\\beta)R_{E}}{r_{\\pi}}$ and $D\\,r_{\\pi}=r_{\\pi}+(1+\\beta)R_{E}$, $g_{m}R_{C}r_{\\pi}=\\beta R_{C}$. Substituting,\n$$\nR_{in}=\\frac{(R_{C}+R_{F})\\bigl[r_{\\pi}+(1+\\beta)R_{E}\\bigr]}{r_{\\pi}+(1+\\beta)(R_{E}+R_{C})+R_{F}}.\n$$\n\nThis is a closed-form expression in terms of $\\beta$, $r_{\\pi}$, $R_{C}$, $R_{E}$, and $R_{F}$, as required.", "answer": "$$\\boxed{\\frac{(R_{C}+R_{F})\\left[r_{\\pi}+(1+\\beta)R_{E}\\right]}{r_{\\pi}+(1+\\beta)(R_{E}+R_{C})+R_{F}}}$$", "id": "1317287"}, {"introduction": "In many circuits, we treat impedance as a constant value. This final practice explores a more advanced and dynamic concept: signal-dependent impedance. By analyzing a transdiode logarithmic amplifier, where a non-linear diode serves as the feedback element, you will discover how a circuit's input impedance can be designed to change in inverse proportion to the DC input current. This exercise highlights the elegant interplay between feedback theory and device physics, revealing a powerful tool used in instrumentation and signal processing. [@problem_id:1317243]", "problem": "A specific circuit configuration known as a transdiode logarithmic amplifier is constructed using an operational amplifier (op-amp) and a single pn-junction diode. The op-amp can be modeled as having a large but finite open-loop DC voltage gain of $A_{ol}$, infinite input impedance, and zero output impedance. The non-inverting input terminal of the op-amp is connected directly to ground. An input current, which consists of a DC component $I_{IN}$ and a superimposed small-signal AC component $i_{in}$, is fed into the inverting input terminal. The feedback path consists of the diode, with its anode connected to the inverting input terminal and its cathode connected to the op-amp's output.\n\nThe current-voltage relationship of the diode is governed by the Shockley equation, $I_D = I_S \\left(\\exp\\left(\\frac{V_D}{n V_T}\\right) - 1\\right)$, where $I_D$ is the current through the diode, $V_D$ is the voltage across it, $I_S$ is the reverse saturation current, $n$ is the ideality factor, and $V_T$ is the thermal voltage. Assume the circuit is operating in a region where the DC input current $I_{IN}$ is much larger than the reverse saturation current $I_S$.\n\nDetermine the symbolic expression for the small-signal input impedance, $Z_{in} = v_{in}/i_{in}$, seen by the small-signal current source $i_{in}$. Your expression should be in terms of $I_{IN}$, $A_{ol}$, $n$, and $V_T$.", "solution": "The problem asks for the small-signal input impedance $Z_{in}$ of a transdiode logarithmic amplifier. We define the total quantities (DC bias + small-signal AC) with uppercase letters with lowercase subscripts, DC-only quantities with uppercase letters and uppercase subscripts, and small-signal AC quantities with lowercase letters and lowercase subscripts. For example, the total voltage at the inverting input is $v_{in,total} = V_{IN} + v_{in}$, where $V_{IN}$ is the DC voltage and $v_{in}$ is the small-signal voltage. The small-signal input impedance is defined as $Z_{in} = v_{in} / i_{in}$.\n\nFirst, let's analyze the circuit configuration. The non-inverting input of the op-amp is at ground potential ($v_+ = 0$). The input current $i_{in,total} = I_{IN} + i_{in}$ is fed into the inverting node. Due to the op-amp's infinite input impedance, all of this current must flow through the feedback path, which contains the diode. Thus, the diode current $i_{d,total}$ is equal to the input current $i_{in,total}$.\n$$i_{in,total} = i_{d,total}$$\nThis can be separated into DC and AC components:\nDC component: $I_{IN} = I_D$\nAC component: $i_{in} = i_d$\n\nThe voltage at the inverting input is $v_{in}$. For a non-ideal op-amp with finite open-loop gain $A_{ol}$, the output voltage is given by:\n$$v_{out,total} = A_{ol}(v_+ - v_{in,total}) = A_{ol}(0 - v_{in,total}) = -A_{ol}v_{in,total}$$\nFor the small-signal components, this relationship is:\n$$v_{out} = -A_{ol}v_{in}$$\n\nNext, we analyze the diode. The voltage across the diode, $v_{d,total}$, is the voltage at its anode minus the voltage at its cathode. The anode is at the inverting input ($v_{in,total}$) and the cathode is at the op-amp output ($v_{out,total}$).\n$$v_{d,total} = v_{in,total} - v_{out,total}$$\nSubstituting the op-amp equation:\n$$v_{d,total} = v_{in,total} - (-A_{ol}v_{in,total}) = v_{in,total}(1 + A_{ol})$$\nThis relationship also holds for the small-signal components:\n$$v_d = v_{in}(1 + A_{ol})$$\n\nTo find the input impedance, we need a relationship between the small-signal voltage $v_{in}$ and the small-signal current $i_{in}$. We can do this by finding the small-signal resistance of the diode, $r_d$. The small-signal resistance is the inverse of the small-signal conductance, $g_d = \\frac{di_d}{dv_d}$, evaluated at the DC operating point (quiescent point).\nThe diode current is $I_D = I_S \\left(\\exp\\left(\\frac{V_D}{n V_T}\\right) - 1\\right)$.\nThe conductance is the derivative with respect to voltage:\n$$g_d = \\frac{dI_D}{dV_D} = \\frac{d}{dV_D} \\left[I_S \\left(\\exp\\left(\\frac{V_D}{n V_T}\\right) - 1\\right)\\right] = I_S \\left(\\frac{1}{n V_T}\\right) \\exp\\left(\\frac{V_D}{n V_T}\\right)$$\nThe problem states that $I_{IN} \\gg I_S$. This means the diode is significantly forward-biased, so $I_D \\approx I_S \\exp\\left(\\frac{V_D}{n V_T}\\right)$.\nSubstituting this into the expression for $g_d$:\n$$g_d \\approx \\frac{I_D}{n V_T}$$\nThe small-signal resistance of the diode, $r_d$, is the reciprocal of the conductance, evaluated at the DC bias current $I_D$.\n$$r_d = \\frac{1}{g_d} = \\frac{n V_T}{I_D}$$\nFrom our KCL analysis at the beginning, the DC bias current through the diode, $I_D$, is equal to the DC input current, $I_{IN}$.\n$$r_d = \\frac{n V_T}{I_{IN}}$$\n\nNow we can relate the small-signal quantities for the diode:\n$$v_d = i_d r_d$$\nFrom the KCL at the input node, we know $i_{in} = i_d$.\n$$v_d = i_{in} r_d$$\n\nWe now have two expressions for the small-signal voltage across the diode, $v_d$:\n1. $v_d = v_{in}(1 + A_{ol})$\n2. $v_d = i_{in} r_d$\n\nEquating these two expressions gives:\n$$v_{in}(1 + A_{ol}) = i_{in} r_d$$\n\nThe small-signal input impedance is defined as $Z_{in} = \\frac{v_{in}}{i_{in}}$. Rearranging the equation above to solve for this ratio:\n$$Z_{in} = \\frac{v_{in}}{i_{in}} = \\frac{r_d}{1 + A_{ol}}$$\n\nFinally, we substitute the expression we derived for $r_d$:\n$$Z_{in} = \\frac{n V_T / I_{IN}}{1 + A_{ol}} = \\frac{n V_T}{I_{IN}(1 + A_{ol})}$$\n\nThis is the final expression for the small-signal input impedance of the transdiode amplifier. It shows that the impedance is inversely proportional to the DC input current $I_{IN}$, a key characteristic of this circuit.", "answer": "$$\\boxed{\\frac{n V_T}{I_{IN}(1 + A_{ol})}}$$", "id": "1317243"}]}