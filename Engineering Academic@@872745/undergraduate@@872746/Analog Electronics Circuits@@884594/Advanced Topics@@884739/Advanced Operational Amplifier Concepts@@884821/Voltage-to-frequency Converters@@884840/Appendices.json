{"hands_on_practices": [{"introduction": "Understanding the relationship between input voltage and output frequency is the first step in mastering Voltage-to-Frequency Converters (VFCs). This exercise simulates a common real-world task: calibrating a device to determine its performance characteristics. By using two data points, you will calculate the VFC's conversion sensitivity, which is the fundamental parameter defining its linear operation [@problem_id:1344582].", "problem": "In a precision instrumentation setup, a Voltage-to-Frequency Converter (VFC) is used to translate the analog output of a sensor into a frequency signal. This conversion allows for more reliable data transmission over a distance by making the signal less susceptible to amplitude noise. The VFC is characterized by a linear relationship between its input DC voltage, $V_{in}$, and its output frequency, $f$. This relationship can be described by the equation $f = k \\cdot V_{in} + f_{0}$, where $k$ is the conversion sensitivity and $f_0$ is the offset frequency (the frequency output at zero input voltage).\n\nDuring a two-point calibration procedure, it is determined that an input of $V_{in,1} = 0.80$ V results in an output frequency of $f_1 = 5.5$ kHz. A second measurement shows that an input of $V_{in,2} = 12.0$ V produces an output frequency of $f_2 = 62.5$ kHz.\n\nDetermine the conversion sensitivity, $k$, of this VFC. Express your answer in units of kilohertz per volt (kHz/V), rounded to three significant figures.", "solution": "The relationship between the output frequency $f$ and the input voltage $V_{in}$ of the Voltage-to-Frequency Converter (VFC) is stated to be linear, following the model:\n$$f = k \\cdot V_{in} + f_{0}$$\nHere, $k$ represents the conversion sensitivity, which is the slope of the line in the $f$ versus $V_{in}$ plot, and $f_{0}$ is the y-intercept, representing the frequency at zero input voltage.\n\nWe are given two data points from a calibration procedure:\n1. $(V_{in,1}, f_1) = (0.80 \\, \\text{V}, 5.5 \\, \\text{kHz})$\n2. $(V_{in,2}, f_2) = (12.0 \\, \\text{V}, 62.5 \\, \\text{kHz})$\n\nWe can write two equations using the linear model and these two data points:\nFor the first point:\n$$f_1 = k \\cdot V_{in,1} + f_0 \\quad (1)$$\nFor the second point:\n$$f_2 = k \\cdot V_{in,2} + f_0 \\quad (2)$$\n\nTo find the conversion sensitivity $k$, we can eliminate the unknown offset frequency $f_0$. Subtracting equation (1) from equation (2) gives:\n$$f_2 - f_1 = (k \\cdot V_{in,2} + f_0) - (k \\cdot V_{in,1} + f_0)$$\n$$f_2 - f_1 = k \\cdot V_{in,2} - k \\cdot V_{in,1}$$\nFactoring out $k$ on the right-hand side, we get:\n$$f_2 - f_1 = k (V_{in,2} - V_{in,1})$$\nNow, we can solve for $k$ by dividing by the change in voltage:\n$$k = \\frac{f_2 - f_1}{V_{in,2} - V_{in,1}}$$\nThis formula is simply the definition of the slope of a straight line between two points.\n\nNow we substitute the given numerical values into this expression:\n$$k = \\frac{62.5 \\, \\text{kHz} - 5.5 \\, \\text{kHz}}{12.0 \\, \\text{V} - 0.80 \\, \\text{V}}$$\nFirst, calculate the numerator (the change in frequency):\n$$\\Delta f = 62.5 - 5.5 = 57.0 \\, \\text{kHz}$$\nNext, calculate the denominator (the change in voltage):\n$$\\Delta V_{in} = 12.0 - 0.80 = 11.2 \\, \\text{V}$$\nNow, compute the ratio:\n$$k = \\frac{57.0 \\, \\text{kHz}}{11.2 \\, \\text{V}}$$\n$$k \\approx 5.0892857... \\, \\frac{\\text{kHz}}{\\text{V}}$$\nThe problem asks for the answer to be rounded to three significant figures. The first three significant figures are 5, 0, and 8. The fourth significant figure is 9, which is 5 or greater, so we round up the third significant figure (8) to 9.\n$$k \\approx 5.09 \\, \\frac{\\text{kHz}}{\\text{V}}$$", "answer": "$$\\boxed{5.09}$$", "id": "1344582"}, {"introduction": "While the linear model is useful, a deeper understanding requires looking inside the \"black box.\" This problem challenges you to analyze the internal workings of a common VFC topology—one based on an integrator and comparator—to predict its behavior under unexpected conditions. Exploring how a circuit responds to inputs outside its specified range is a critical skill for designing robust and reliable electronic systems [@problem_id:1344546].", "problem": "A common type of Voltage-to-Frequency Converter (VFC) is designed using an integrator, a comparator, and a reset mechanism. In this specific design, an input voltage, $V_{in}$, is fed into an inverting integrator circuit. The output of the integrator, $V_{int}$, ramps downwards at a rate proportional to $V_{in}$. A comparator continuously monitors $V_{int}$ and triggers an output pulse when $V_{int}$ reaches a fixed negative threshold voltage, $-V_{T}$. Immediately after the pulse is generated, a reset switch instantaneously returns the integrator's output voltage $V_{int}$ to 0 volts, and the cycle repeats.\n\nThe VFC is specified to operate for a positive input voltage range, $0 \\le V_{in} \\le V_{max}$, where $V_{max}$ is a positive voltage. Within this range, the output frequency is directly proportional to $V_{in}$. For an input of $V_{in} = 0$, the output frequency is 0 Hz. What is the most likely behavior of the VFC's output if a small, constant negative voltage is applied to the input?\n\nA. The output frequency is proportional to the absolute value of the input voltage, $|V_{in}|$.\n\nB. The output frequency becomes negative, with a magnitude proportional to the input voltage.\n\nC. The circuit becomes unstable, and the output frequency is erratic and unpredictable.\n\nD. The output frequency is a large, saturated value, independent of the negative input's magnitude.\n\nE. The output frequency is zero, and the circuit settles into a stable, non-oscillating state.", "solution": "Let the inverting integrator have resistance-capacitance pair $(R,C)$. For an ideal inverting integrator with constant input $V_{in}$, the output (integrator node) obeys\n$$\n\\frac{dV_{int}}{dt}=-\\frac{V_{in}}{RC}.\n$$\nEach conversion cycle starts at the reset instant with initial condition\n$$\nV_{int}(0)=0,\n$$\nand the comparator triggers when the integrator output reaches the fixed negative threshold\n$$\nV_{int}(t)=-V_{T}, \\quad V_{T}>0.\n$$\n\nCase 1: $V_{in}>0$. Then $\\frac{dV_{int}}{dt}=-\\frac{V_{in}}{RC}<0$, so\n$$\nV_{int}(t)=-\\frac{V_{in}}{RC}\\,t,\n$$\nand the threshold crossing time $t_{p}$ satisfies\n$$\n-\\frac{V_{in}}{RC}\\,t_{p}=-V_{T}\\;\\;\\Rightarrow\\;\\; t_{p}=\\frac{RC\\,V_{T}}{V_{in}}.\n$$\nHence the pulse frequency is\n$$\nf=\\frac{1}{t_{p}}=\\frac{V_{in}}{RC\\,V_{T}},\n$$\nwhich is proportional to $V_{in}$, and for $V_{in}=0$ one gets $f=0$.\n\nCase 2: $V_{in}<0$ (small constant negative input). Then\n$$\n\\frac{dV_{int}}{dt}=-\\frac{V_{in}}{RC}=\\frac{|V_{in}|}{RC}>0,\n$$\nso starting from $V_{int}(0)=0$,\n$$\nV_{int}(t)=\\frac{|V_{in}|}{RC}\\,t>0\\quad \\text{for all } t>0.\n$$\nBecause the comparator threshold is at a negative voltage $-V_{T}$, the condition $V_{int}(t)=-V_{T}$ has no solution for $t\\ge 0$ when $V_{int}(t)$ increases positively from zero. Therefore, no comparator pulse is ever triggered, the reset never occurs, and the VFC produces no output pulses. In practice, the integrator output will eventually saturate at a positive rail, but the frequency remains zero and the system is non-oscillatory for such negative inputs.\n\nThus, the most likely behavior is that the output frequency is zero and the circuit settles into a non-oscillating state.\n\nTherefore, the correct choice is E.", "answer": "$$\\boxed{E}$$", "id": "1344546"}, {"introduction": "Moving from analysis to synthesis is a key milestone in engineering education. This practice problem guides you through the design of a simple VFC using fundamental building blocks: a Voltage-Controlled Current Source (VCCS) and a Unijunction Transistor (UJT) relaxation oscillator. By calculating the necessary component values to meet a performance target, you will integrate your knowledge of transistors and oscillators to create a functional circuit [@problem_id:1344568].", "problem": "A simplified Voltage-to-Frequency Converter (VFC) is being designed for a sensor interface. The circuit is based on a Unijunction Transistor (UJT) relaxation oscillator. The charging rate of the oscillator's capacitor, $C$, is controlled by a linear Voltage-Controlled Current Source (VCCS).\n\nThe VCCS is constructed as follows: The sensor's output voltage, $V_{in}$, is applied to the base of an NPN Bipolar Junction Transistor (BJT). The emitter of this NPN BJT is connected to ground through an emitter resistor, $R_E$. The resulting collector current is then perfectly mirrored by a PNP active load to provide a charging current, $I_{charge}$, to the capacitor $C$. You may assume that the NPN BJT operates in the active region and has a constant base-emitter forward voltage drop of $V_{BE(on)}$.\n\nThe oscillator section consists of the capacitor $C$ and a UJT. The capacitor is charged by the current $I_{charge}$. The UJT is powered by a separate stable DC voltage source $V_{BB}$ and has an intrinsic standoff ratio of $\\eta$. The UJT's emitter is connected to the capacitor. When the capacitor voltage reaches the UJT's peak point voltage, the UJT fires and instantaneously discharges the capacitor to zero volts, at which point the charging cycle restarts.\n\nGiven the following parameters:\n- Input Voltage, $V_{in} = 4.20 \\, \\text{V}$\n- Emitter Resistance, $R_E = 2.50 \\, \\text{k}\\Omega$\n- BJT Base-Emitter Voltage, $V_{BE(on)} = 0.70 \\, \\text{V}$\n- UJT Supply Voltage, $V_{BB} = 15.0 \\, \\text{V}$\n- UJT Intrinsic Standoff Ratio, $\\eta = 0.60$\n\nDetermine the value of the capacitor $C$ required to produce an output frequency of $f_{out} = 12.5 \\, \\text{kHz}$. Express your answer in microfarads ($\\mu\\text{F}$), rounded to three significant figures.", "solution": "The NPN BJT with base at $V_{in}$, emitter resistor $R_{E}$, and constant base-emitter drop $V_{BE(on)}$ has emitter current\n$$\nI_{E}=\\frac{V_{in}-V_{BE(on)}}{R_{E}}.\n$$\nAssuming active region operation with large current gain, the collector current satisfies $I_{C}\\approx I_{E}$. The perfect current mirror therefore provides a charging current\n$$\nI_{\\text{charge}}=I_{C}\\approx \\frac{V_{in}-V_{BE(on)}}{R_{E}}.\n$$\nFor the UJT, using the simplified peak point voltage without additional diode drop,\n$$\nV_{P}=\\eta V_{BB}.\n$$\nWith constant charging current, the capacitor voltage rises linearly, $V_{C}(t)=(I_{\\text{charge}}/C)t$, so the time to reach $V_{P}$ is\n$$\nt=\\frac{C V_{P}}{I_{\\text{charge}}}.\n$$\nAssuming instantaneous discharge, the period is $T\\approx t$ and\n$$\nf_{\\text{out}}=\\frac{1}{T}=\\frac{I_{\\text{charge}}}{C V_{P}}.\n$$\nSolving for $C$ gives\n$$\nC=\\frac{I_{\\text{charge}}}{f_{\\text{out}} V_{P}}=\\frac{\\dfrac{V_{in}-V_{BE(on)}}{R_{E}}}{f_{\\text{out}}\\,\\eta V_{BB}}=\\frac{V_{in}-V_{BE(on)}}{R_{E}\\,f_{\\text{out}}\\,\\eta V_{BB}}.\n$$\nSubstituting the given values,\n$$\nC=\\frac{4.20-0.70}{\\left(2.50\\times 10^{3}\\right)\\left(12.5\\times 10^{3}\\right)\\left(0.60\\right)\\left(15.0\\right)}\\;\\text{F}.\n$$\nNumerically,\n$$\nC=1.244444\\ldots\\times 10^{-8}\\;\\text{F}=0.0124444\\ldots\\;\\mu\\text{F},\n$$\nwhich rounded to three significant figures is $0.0124\\;\\mu\\text{F}$.", "answer": "$$\\boxed{0.0124}$$", "id": "1344568"}]}