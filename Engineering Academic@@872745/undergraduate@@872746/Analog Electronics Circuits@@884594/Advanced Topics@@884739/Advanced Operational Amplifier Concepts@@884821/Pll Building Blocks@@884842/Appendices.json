{"hands_on_practices": [{"introduction": "The Voltage-Controlled Oscillator (VCO) is the heart of a Phase-Locked Loop, responsible for generating the final output signal. Its most critical characteristic is the VCO gain, denoted as $K_{VCO}$, which quantifies how the output frequency changes in response to the input control voltage. This first practice demonstrates how to determine this fundamental parameter from simple experimental data, a core skill for characterizing any PLL system.", "problem": "An electronics student is characterizing a key component for a custom radio receiver: a Voltage-Controlled Oscillator (VCO). A VCO is an electronic oscillator whose output frequency is determined by an input DC voltage, often called the control voltage. The student performs an experiment and records the following data points, assuming the VCO's response is linear over this operating range:\n\nWhen the control voltage is set to a low value, $V_{low}$, the oscillator produces a stable sinusoidal output with a frequency of $f_{low}$.\nWhen the control voltage is increased to a high value, $V_{high}$, the output frequency shifts to $f_{high}$.\n\nBased on these two measurements, determine the gain of the oscillator, denoted as $K_{VCO}$. Express your answer as a symbolic expression in terms of $V_{low}$, $V_{high}$, $f_{low}$, and $f_{high}$. The gain must be provided in units of radians per second per volt (rad/s/V).", "solution": "Assume a linear VCO characteristic between control voltage and output frequency. Let the instantaneous frequency in hertz be modeled as $f(V)=\\alpha+\\beta V$, so the instantaneous angular frequency is $\\omega(V)=2\\pi f(V)=2\\pi\\alpha+2\\pi\\beta V$.\n\nBy definition, the VCO gain is the sensitivity of angular frequency to control voltage:\n$$\nK_{VCO}=\\frac{d\\omega}{dV}.\n$$\nFrom the linear model, this is\n$$\nK_{VCO}=2\\pi\\frac{df}{dV}=2\\pi\\beta.\n$$\nUsing the two measured points $(V_{low},f_{low})$ and $(V_{high},f_{high})$, the slope in frequency is\n$$\n\\frac{df}{dV}=\\frac{f_{high}-f_{low}}{V_{high}-V_{low}}.\n$$\nTherefore,\n$$\nK_{VCO}=2\\pi\\frac{f_{high}-f_{low}}{V_{high}-V_{low}}.\n$$\nThis has units of radians per second per volt, since $2\\pi(f_{high}-f_{low})$ yields a change in angular frequency (rad/s) and division by voltage yields rad/s/V.", "answer": "$$\\boxed{2\\pi\\,\\frac{f_{high}-f_{low}}{V_{high}-V_{low}}}$$", "id": "1325076"}, {"introduction": "The phase detector is the brain of the PLL, comparing the phase of the incoming reference signal against the VCO's output. It generates an error voltage that, after filtering, corrects the VCO's frequency. This exercise explores how a simple digital Exclusive-OR (XOR) gate can function as an effective phase detector, translating a phase difference into an average DC voltage, which is a foundational concept for understanding digital PLLs.", "problem": "An Exclusive-OR (XOR) logic gate is utilized as a phase detector, a fundamental component in many digital Phase-Locked Loop (PLL) systems. This gate is fed by two signals, a reference signal $V_{ref}$ and a voltage-controlled oscillator signal $V_{vco}$. Both signals are perfect square waves with a 50% duty cycle and an identical frequency, $f$. The logic levels of the XOR gate's output, $V_{out}$, correspond to a voltage $V_{OH}$ for a logical high and a voltage $V_{OL}$ for a logical low. In a particular state of operation, the $V_{vco}$ signal is observed to lag the $V_{ref}$ signal by a constant phase difference of $\\phi = \\frac{\\pi}{4}$ radians.\n\nAssuming the subsequent loop filter perfectly extracts the DC component of $V_{out}$, determine the expression for this average DC output voltage, $V_{out,avg}$, in terms of $V_{OH}$ and $V_{OL}$.", "solution": "The problem asks for the average DC output voltage of an XOR phase detector given a specific phase difference between its two square wave inputs.\n\nThe average voltage, $V_{out,avg}$, of a periodic signal $V_{out}(t)$ over one period $T$ is defined as:\n$$ V_{out,avg} = \\frac{1}{T} \\int_{0}^{T} V_{out}(t) dt $$\n\nThe output of an Exclusive-OR (XOR) gate is high if and only if its inputs are different. In terms of voltage levels, this means:\n- $V_{out}(t) = V_{OH}$ when $V_{ref}(t) \\neq V_{vco}(t)$\n- $V_{out}(t) = V_{OL}$ when $V_{ref}(t) = V_{vco}(t)$\n\nSince the output voltage $V_{out}(t)$ is piecewise constant, the integral for the average voltage can be simplified into a weighted sum of the voltage levels, where the weights are the fractional durations (duty cycles) for which the output stays at each level.\n$$ V_{out,avg} = D_{high} \\cdot V_{OH} + D_{low} \\cdot V_{OL} $$\nHere, $D_{high}$ is the duty cycle of the high output state (inputs are different), and $D_{low}$ is the duty cycle of the low output state (inputs are the same). By definition, $D_{high} + D_{low} = 1$.\n\nOur goal is to find $D_{high}$, which is the fraction of the period $T$ during which the input signals are not equal. Let's analyze the waveforms over one period. A phase difference of $\\phi$ between two signals with period $T$ corresponds to a time shift of $\\Delta t = \\frac{\\phi}{2\\pi} T$.\n\nThe inputs are 50% duty cycle square waves. Let's set the rising edge of the reference signal $V_{ref}$ to be at $t=0$.\n- $V_{ref}$ is high for $0 \\leq t < T/2$.\n- $V_{ref}$ is low for $T/2 \\leq t < T$.\n\nThe $V_{vco}$ signal lags $V_{ref}$ by a phase $\\phi$, so it is shifted to the right by a time $\\Delta t$.\n- $V_{vco}$ is high for $\\Delta t \\leq t < T/2 + \\Delta t$.\n- $V_{vco}$ is low for $T/2 + \\Delta t \\leq t < T + \\Delta t$.\n\nThe inputs will be different during two intervals in each period:\n1.  From $t=0$ until $V_{vco}$ also goes high. This interval is from $t=0$ to $t=\\Delta t$. Here, $V_{ref}$ is high and $V_{vco}$ is low. The duration is $\\Delta t$.\n2.  From $t=T/2$ (when $V_{ref}$ goes low) until $V_{vco}$ also goes low. This interval is from $t=T/2$ to $t=T/2 + \\Delta t$. Here, $V_{ref}$ is low and $V_{vco}$ is high. The duration is again $\\Delta t$.\n\nThe total duration within one period $T$ for which the inputs are different is the sum of the durations of these two intervals:\n$$ \\text{Total time different} = \\Delta t + \\Delta t = 2\\Delta t $$\nSubstituting the expression for $\\Delta t$:\n$$ \\text{Total time different} = 2 \\left( \\frac{\\phi}{2\\pi} T \\right) = \\frac{\\phi}{\\pi} T $$\nThe duty cycle for the high output state is this total time divided by the period $T$:\n$$ D_{high} = \\frac{(\\phi/\\pi) T}{T} = \\frac{\\phi}{\\pi} $$\nThe duty cycle for the low output state is:\n$$ D_{low} = 1 - D_{high} = 1 - \\frac{\\phi}{\\pi} $$\nNow we can write the general expression for the average output voltage of an XOR phase detector (for $0 \\leq \\phi \\leq \\pi$):\n$$ V_{out,avg} = \\left(\\frac{\\phi}{\\pi}\\right) V_{OH} + \\left(1 - \\frac{\\phi}{\\pi}\\right) V_{OL} $$\nThe problem specifies a phase difference of $\\phi = \\frac{\\pi}{4}$ radians. We substitute this value into our general expression:\n$$ D_{high} = \\frac{\\pi/4}{\\pi} = \\frac{1}{4} $$\n$$ D_{low} = 1 - \\frac{1}{4} = \\frac{3}{4} $$\nThe average output voltage is therefore:\n$$ V_{out,avg} = \\left(\\frac{1}{4}\\right) V_{OH} + \\left(\\frac{3}{4}\\right) V_{OL} $$\nThis can be written as a single fraction:\n$$ V_{out,avg} = \\frac{V_{OH} + 3V_{OL}}{4} $$", "answer": "$$\\boxed{\\frac{V_{OH} + 3 V_{OL}}{4}}$$", "id": "1325036"}, {"introduction": "Having explored the characteristics of the VCO ([@problem_id:1325076]) and the phase detector ([@problem_id:1325036]), we now consider how they interact within the complete loop. The loop filter, which sits between these two blocks, plays a critical role in the PLL's overall performance. This final practice addresses a fundamental design trade-off associated with the filter: the relationship between the PLL's lock time and its ability to reject noise. Mastering this concept is essential for tailoring a PLL to the specific demands of an application, whether it requires rapid frequency hopping or an ultra-stable output.", "problem": "An electronics engineer is designing a frequency synthesizer for a simple digital communication system. This synthesizer is built around a Phase-Locked Loop (PLL), which must be capable of switching its output frequency rapidly to encode data. The core of the PLL consists of a phase detector (PD), a simple passive RC low-pass loop filter, and a Voltage-Controlled Oscillator (VCO).\n\nIn the initial design, referred to as Design A, the loop filter uses a resistor and a capacitor that result in a specific loop bandwidth, a lock time $T_A$, and a certain level of steady-state output phase noise (jitter).\n\nTo decrease the time it takes for the synthesizer to switch between frequencies, the engineer proposes a second configuration, Design B. In Design B, the components of the RC loop filter are changed such that its cutoff frequency is made significantly higher than that of Design A.\n\nAssuming all other components and parameters of the PLL remain identical, which of the following statements correctly describes the primary performance trade-off resulting from moving from Design A to Design B?\n\nA. Design B will have a shorter lock time and lower output phase noise.\n\nB. Design B will have a longer lock time and higher output phase noise.\n\nC. Design B will have a shorter lock time but higher output phase noise.\n\nD. Design B will have a longer lock time but lower output phase noise.\n\nE. The change in the loop filter's cutoff frequency will not significantly affect either the lock time or the output phase noise, as these are primarily determined by the VCO.\n\nF. The change in the loop filter's cutoff frequency will improve the lock time and the output phase noise simultaneously, but will reduce the PLL's capture range.", "solution": "We model the PLL in the phase domain. Let the phase detector gain be $K_{d}$, the loop filter transfer function be $F(s)$, and the VCO gain be $K_{v}$ in units of $\\mathrm{rad}\\,\\mathrm{s}^{-1}\\,\\mathrm{V}^{-1}$. The VCO contributes a factor $K_{v}/s$ from control voltage to output phase. The open-loop transfer function is\n$$\nL(s)=\\frac{K_{d}K_{v}F(s)}{s}.\n$$\nThe closed-loop transfer function from input phase to output phase is\n$$\nH(s)=\\frac{L(s)}{1+L(s)}.\n$$\nFor a simple passive RC low-pass loop filter, increasing its cutoff frequency increases $|F(\\mathrm{j}\\omega)|$ over the frequency range near the unity-gain crossover, thereby increasing the closed-loop bandwidth. Denote the loop bandwidths of Designs A and B by $\\omega_{bA}$ and $\\omega_{bB}$, respectively, with $\\omega_{cB}\\gg \\omega_{cA}$ implying $\\omega_{bB}>\\omega_{bA}$.\n\nLock time is inversely related to the loopâ€™s characteristic speed (bandwidth or natural frequency). For a standard second-order locked loop with damping ratio $\\zeta$ not drastically altered, the lock or settling time $T$ scales as\n$$\nT \\propto \\frac{1}{\\omega_{n}} \\sim \\frac{1}{\\omega_{b}}.\n$$\nTherefore,\n$$\n\\omega_{bB}>\\omega_{bA}\\quad \\Rightarrow \\quad T_{B}<T_{A}.\n$$\n\nNext, consider output phase noise (jitter). The output phase noise power due to an upstream white noise source with two-sided spectral density $S_{0}$ passed through a low-pass closed-loop shaping $|H(\\mathrm{j}\\omega)|^{2}$ is\n$$\nP_{\\phi,\\text{out}}=\\int_{0}^{\\infty} S_{0}\\,|H(\\mathrm{j}\\omega)|^{2}\\,\\mathrm{d}\\omega=S_{0}\\,B_{\\text{eq}},\n$$\nwhere the equivalent noise bandwidth is\n$$\nB_{\\text{eq}}=\\int_{0}^{\\infty} |H(\\mathrm{j}\\omega)|^{2}\\,\\mathrm{d}\\omega.\n$$\nAs the loop bandwidth increases, $|H(\\mathrm{j}\\omega)|$ remains near unity over a wider range of $\\omega$, so $B_{\\text{eq}}$ increases monotonically with loop bandwidth:\n$$\n\\omega_{bB}>\\omega_{bA}\\quad \\Rightarrow \\quad B_{\\text{eq},B}>B_{\\text{eq},A}\\quad \\Rightarrow \\quad P_{\\phi,\\text{out},B}>P_{\\phi,\\text{out},A}.\n$$\nEquivalently, the integrated output phase noise (and hence rms jitter) increases when the loop bandwidth is widened, because more of the phase-detector/reference and in-loop noise passes through. Although a wider bandwidth suppresses more VCO noise inside the loop, under the stated assumption that all other components and parameters are unchanged, the primary and most general trade-off of raising the loop filter cutoff is faster acquisition (shorter lock time) at the cost of higher in-band noise due to the larger closed-loop noise bandwidth.\n\nCombining these results:\n$$\nT_{B}<T_{A}\\quad \\text{and}\\quad \\text{output phase noise of B}>\\text{output phase noise of A},\n$$\nwhich corresponds to a shorter lock time but higher output phase noise.", "answer": "$$\\boxed{C}$$", "id": "1325056"}]}