{"hands_on_practices": [{"introduction": "The ideal ground is a theoretical point of zero potential, but in the real world, every wire and trace has finite resistance and inductance. This seemingly small imperfection is the source of a common and troublesome noise source known as common impedance coupling. This exercise [@problem_id:1308541] will guide you through a classic mixed-signal scenario to calculate how return currents from a noisy digital circuit can corrupt the ground reference of a sensitive analog circuit when they share a ground path. Understanding this mechanism is the first step toward designing robust grounding schemes.", "problem": "A mixed-signal integrated circuit contains two main functional blocks on the same silicon die: a sensitive Analog-to-Digital Converter (ADC) and a high-power Digital Signal Processor (DSP). To save space, a cost-effective but non-ideal grounding scheme is used. A single \"true ground\" point, considered to be at an ideal 0 V potential, is connected to the ADC's ground terminal, $G_1$, via a conducting trace with resistance $R_{g1}$. The grounding path is then extended from $G_1$ to the DSP's ground terminal, $G_2$, via a second conducting trace with resistance $R_{g2}$. This forms a \"daisy-chain\" ground connection.\n\nDuring operation, the ADC draws a small, constant return current of $I_1$. The DSP, executing a high-speed algorithm, draws a large, time-varying return current modeled as $I_2(t) = I_{2,peak} \\sin(\\omega t)$. Both currents flow towards the true ground point through this shared path. The current from the DSP, being much larger and time-varying, can corrupt the ground reference of the sensitive ADC.\n\nGiven the following parameters:\n- ADC return current, $I_1 = 10.0\\,\\text{mA}$\n- Peak DSP return current, $I_{2,peak} = 500\\,\\text{mA}$\n- Resistance of the first ground trace segment, $R_{g1} = 5.00\\,\\text{m}\\Omega$\n- Resistance of the second ground trace segment, $R_{g2} = 15.0\\,\\text{m}\\Omega$\n\nCalculate the peak amplitude of the AC noise voltage observed at the ADC's ground reference point, $G_1$, relative to the true ground. Express your answer in millivolts (mV), rounded to three significant figures.", "solution": "Let the true ground be at potential $0$. The ADC ground node $G_{1}$ connects to true ground through $R_{g1}$, and the DSP ground node $G_{2}$ connects to $G_{1}$ through $R_{g2}$. By Kirchhoff’s current law at node $G_{1}$, the total current flowing from $G_{1}$ to true ground through $R_{g1}$ is the sum of the ADC and DSP return currents:\n$$\nI_{g1}(t) = I_{1} + I_{2}(t).\n$$\nThe voltage of $G_{1}$ relative to true ground is the drop across $R_{g1}$:\n$$\nV_{G1}(t) = I_{g1}(t) R_{g1} = \\left(I_{1} + I_{2}(t)\\right) R_{g1}.\n$$\nThe time-varying (AC) component is due solely to $I_{2}(t)$, so the AC noise at $G_{1}$ is\n$$\nv_{\\text{ac}}(t) = I_{2}(t) R_{g1}.\n$$\nTherefore, the peak amplitude of the AC noise is\n$$\nV_{\\text{ac,peak}} = I_{2,\\text{peak}} R_{g1}.\n$$\nSubstitute the given values, converting to base units:\n$$\nI_{2,\\text{peak}} = 5.00 \\times 10^{-1} \\text{ A}, \\quad R_{g1} = 5.00 \\times 10^{-3} \\,\\Omega,\n$$\n$$\nV_{\\text{ac,peak}} = \\left(5.00 \\times 10^{-1}\\right)\\left(5.00 \\times 10^{-3}\\right) \\text{ V} = 2.50 \\times 10^{-3} \\text{ V} = 2.50 \\text{ mV}.\n$$\nThe constant drop $I_{1} R_{g1}$ is DC and does not contribute to the AC noise amplitude.", "answer": "$$\\boxed{2.50}$$", "id": "1308541"}, {"introduction": "While proper grounding manages noise generated within a system, shielding is our primary defense against external electromagnetic interference (EMI). A metallic enclosure, or shield, works by reflecting and absorbing incident electromagnetic waves. This practice [@problem_id:1308556] focuses on the absorption mechanism, which is governed by a critical parameter called the skin depth. You will calculate the frequency at which a shield of a given thickness begins to lose its effectiveness, providing a tangible link between physical principles and practical EMI shield design.", "problem": "An electronics engineer is designing a rectangular metallic enclosure to shield a high-precision, low-frequency analog measurement instrument from external electromagnetic interference (EMI). The enclosure is to be constructed from a sheet of copper with a uniform thickness of $d = 1.00\\,\\text{mm}$. The effectiveness of a shield against a plane wave is related to both reflection at the surface and absorption within the material. For good conductors, the absorption loss is the dominant shielding mechanism at high frequencies. This absorption loss depends on the ratio of the shield's thickness to the skin depth, $\\delta$, of the electromagnetic wave in the material. A common engineering guideline considers the shielding to be significantly compromised when the material's thickness is less than or equal to one skin depth.\n\nAssuming the external EMI can be modeled as a plane wave, calculate the frequency at which the skin depth in the copper shield becomes equal to the shield's thickness.\n\nUse the following properties for copper and free space:\n- Electrical conductivity of copper, $\\sigma = 5.96 \\times 10^7\\,\\text{S/m}$.\n- Relative magnetic permeability of copper, $\\mu_r = 1.00$.\n- Magnetic permeability of free space, $\\mu_0 = 4\\pi \\times 10^{-7}\\,\\text{H/m}$.\n\nExpress your answer in kilohertz (kHz), rounded to three significant figures.", "solution": "The skin depth in a good conductor is given by the standard expression\n$$\n\\delta=\\sqrt{\\frac{2}{\\omega \\mu \\sigma}},\n$$\nwhere $\\omega=2\\pi f$ is the angular frequency, $\\mu=\\mu_{0}\\mu_{r}$ is the absolute permeability, and $\\sigma$ is the electrical conductivity.\n\nWe are asked for the frequency at which the skin depth equals the shield thickness $d$. Setting $\\delta=d$ and solving for $f$:\n$$\nd=\\sqrt{\\frac{2}{\\omega \\mu \\sigma}}\n\\;\\;\\Rightarrow\\;\\;\nd^{2}=\\frac{2}{\\omega \\mu \\sigma}\n\\;\\;\\Rightarrow\\;\\;\n\\omega=\\frac{2}{\\mu \\sigma d^{2}}.\n$$\nUsing $\\omega=2\\pi f$, we obtain\n$$\nf=\\frac{\\omega}{2\\pi}=\\frac{1}{\\pi \\mu \\sigma d^{2}}.\n$$\nFor copper with $\\mu_{r}=1$, we have $\\mu=\\mu_{0}\\mu_{r}=\\mu_{0}$, so\n$$\nf=\\frac{1}{\\pi \\mu_{0} \\sigma d^{2}}.\n$$\n\nNow substitute the given numerical values: $\\mu_{0}=4\\pi\\times 10^{-7}\\,\\text{H/m}$, $\\sigma=5.96\\times 10^{7}\\,\\text{S/m}$, and $d=1.00\\times 10^{-3}\\,\\text{m}$:\n$$\nf=\\frac{1}{\\pi \\left(4\\pi\\times 10^{-7}\\right)\\left(5.96\\times 10^{7}\\right)\\left(1.00\\times 10^{-3}\\right)^{2}}\n=\\frac{1}{4\\pi^{2}\\times 5.96\\times 10^{-6}}.\n$$\nEvaluating the denominator numerically,\n$$\n4\\times 5.96=23.84,\\quad \\Rightarrow\\quad \\text{denominator}=23.84\\,\\pi^{2}\\times 10^{-6},\n$$\nso\n$$\nf=\\frac{1}{23.84\\,\\pi^{2}\\times 10^{-6}}\\;\\text{Hz}\\approx 4.2513\\times 10^{3}\\;\\text{Hz}.\n$$\nConverting to kilohertz,\n$$\nf\\approx 4.2513\\;\\text{kHz}.\n$$\nRounded to three significant figures,\n$$\nf\\approx 4.25\\;\\text{kHz}.\n$$", "answer": "$$\\boxed{4.25}$$", "id": "1308556"}, {"introduction": "In many real-world applications, such as automotive or industrial systems, it is impossible to establish a single, clean ground reference. Instead of trying to eliminate ground potential differences, engineers often design systems that can intelligently reject this noise. This advanced exercise [@problem_id:1308539] explores one of the most powerful techniques for this purpose: differential signaling with a dedicated ground-sense wire. By analyzing the interplay between wire resistances and finite amplifier performance (CMRR), you will discover how to optimize a measurement system to operate reliably in an electrically hostile environment.", "problem": "An automotive engineer is tasked with designing a high-precision monitoring system for a sensor located on the engine block of a large truck. The measurements are processed by a Data Acquisition (DAQ) unit in the driver's cabin. Due to high-current systems operating on the truck's chassis, a significant, time-varying ground potential difference, $V_N(t)$, exists between the sensor's local ground (engine block) and the DAQ's local ground (cabin).\n\nTo combat this noise, a differential measurement technique using a dedicated ground-sense wire is employed. The sensor's signal output is connected via a signal wire to the non-inverting input of an instrumentation amplifier in the DAQ. The sensor's local ground is connected via a separate ground-sense wire to the inverting input of the same amplifier. The DAQ's ground is the reference for all its internal measurements.\n\nThe system can be modeled as follows:\n- The sensor produces a true signal voltage $V_{sig}(t)$ and has an output impedance of $R_{out}$.\n- The instrumentation amplifier has an input impedance of $R_{in}$ for both of its inputs, a differential gain of $A_d = 10.0$, and a finite Common-Mode Rejection Ratio (CMRR).\n- The engineer has two bundles of wire available: a high-quality, low-resistance wire with resistance $R_1$, and a standard, higher-resistance wire with resistance $R_2$. One wire must be used for the signal path (resistance $R_w$) and the other for the ground-sense path (resistance $R_g$).\n\nThe final output of the amplifier, $V_{out}(t)$, can be expressed as a linear combination of the desired signal and the unwanted noise: $V_{out}(t) = K_{sig} V_{sig}(t) + K_N V_N(t)$. The quality of the noise cancellation is quantified by the Noise Leakage Ratio, defined as $\\eta = |K_N / K_{sig}|$.\n\nGiven the following parameters:\n- Sensor output impedance: $R_{out} = 15.0\\,\\Omega$\n- High-quality wire resistance: $R_1 = 2.0\\,\\Omega$\n- Standard wire resistance: $R_2 = 20.0\\,\\Omega$\n- DAQ input impedance: $R_{in} = 2.0 \\times 10^6\\,\\Omega$\n- DAQ Common-Mode Rejection Ratio: CMRR $= 2.0 \\times 10^4$ (as a linear ratio)\n\nDetermine the optimal wiring configuration to minimize the Noise Leakage Ratio. Calculate this minimum possible value, $\\eta_{min}$. Round your final answer to three significant figures.", "solution": "We model the system using superposition and a simple instrumentation-amplifier model:\n- The amplifier has differential gain $A_{d}$ and common-mode gain $A_{c}$ with $A_{c} = A_{d}/\\mathrm{CMRR}$. Its two inputs each present an impedance $R_{in}$ to the DAQ ground.\n- The signal wire has resistance $R_{w}$ and the ground-sense wire has resistance $R_{g}$.\n- The sensor has a Thevenin source $V_{sig}(t)$ with series resistance $R_{out}$, referenced to the sensor ground. The sensor ground is at potential $V_{N}(t)$ relative to the DAQ ground.\n\nDefine the DAQ input node voltages $V_{+}$ (non-inverting) and $V_{-}$ (inverting), both referenced to DAQ ground. The amplifier output is modeled as\n$$\nV_{out} = A_{d}\\,(V_{+}-V_{-}) + A_{c}\\,\\frac{V_{+}+V_{-}}{2},\n$$\nwith $A_{c} = A_{d}/\\mathrm{CMRR}$.\n\nBy linearity, write $V_{out} = K_{sig} V_{sig} + K_{N} V_{N}$; compute $K_{sig}$ and $K_{N}$ via superposition.\n\n1) Contribution from $V_{N}$ only (set $V_{sig}=0$). With $V_{sig}=0$, the sensor’s signal terminal is shorted to its ground through $R_{out}$, so both DAQ inputs see the sensor ground node (at $V_{N}$) through series resistances to that node and shunt $R_{in}$ to DAQ ground. Specifically,\n$$\nV_{+} = V_{N}\\,\\frac{R_{in}}{R_{in}+R_{out}+R_{w}},\\qquad\nV_{-} = V_{N}\\,\\frac{R_{in}}{R_{in}+R_{g}}.\n$$\nThus\n$$\nK_{N} = A_{d}\\left(\\frac{R_{in}}{R_{in}+R_{out}+R_{w}} - \\frac{R_{in}}{R_{in}+R_{g}}\\right) + \\frac{A_{d}}{\\mathrm{CMRR}}\\cdot \\frac{1}{2}\\left(\\frac{R_{in}}{R_{in}+R_{out}+R_{w}} + \\frac{R_{in}}{R_{in}+R_{g}}\\right).\n$$\n\n2) Contribution from $V_{sig}$ only (set $V_{N}=0$). With common ground, the inverting input remains at zero, and the non-inverting input sees a divider of the series $(R_{out}+R_{w})$ into $R_{in}$:\n$$\nV_{+} = V_{sig}\\,\\frac{R_{in}}{R_{in}+R_{out}+R_{w}},\\qquad V_{-} = 0.\n$$\nTherefore\n$$\nK_{sig} = A_{d}\\,\\frac{R_{in}}{R_{in}+R_{out}+R_{w}} + \\frac{A_{d}}{\\mathrm{CMRR}}\\cdot \\frac{1}{2}\\,\\frac{R_{in}}{R_{in}+R_{out}+R_{w}} = \\left(A_{d} + \\frac{A_{d}}{2\\,\\mathrm{CMRR}}\\right)\\frac{R_{in}}{R_{in}+R_{out}+R_{w}}.\n$$\n\nIntroduce\n$$\nx \\equiv \\frac{R_{in}}{R_{in}+R_{out}+R_{w}},\\qquad y \\equiv \\frac{R_{in}}{R_{in}+R_{g}},\\qquad \\gamma \\equiv \\frac{1}{\\mathrm{CMRR}}.\n$$\nThen\n$$\nK_{N} = A_{d}\\left[x - y + \\frac{\\gamma}{2}(x+y)\\right],\\qquad K_{sig} = A_{d}\\left(1+\\frac{\\gamma}{2}\\right) x,\n$$\nand the Noise Leakage Ratio simplifies to\n$$\n\\eta = \\left|\\frac{K_{N}}{K_{sig}}\\right| = \\left| \\frac{x - y + \\frac{\\gamma}{2}(x+y)}{\\left(1+\\frac{\\gamma}{2}\\right) x} \\right| = \\left| 1 - \\left(\\frac{y}{x}\\right)\\frac{1-\\frac{\\gamma}{2}}{1+\\frac{\\gamma}{2}} \\right|.\n$$\nDefine $s \\equiv y/x = \\frac{R_{in}+R_{out}+R_{w}}{R_{in}+R_{g}}$ and $r \\equiv \\frac{1-\\frac{\\gamma}{2}}{1+\\frac{\\gamma}{2}}$. Then $\\eta = |1 - s\\,r|$.\n\nWe must choose the assignment of $R_{w}$ and $R_{g}$ from $\\{R_{1},R_{2}\\}$ to minimize $\\eta$.\n\nGiven numerical values:\n- $R_{out} = 15.0$,\n- $R_{1} = 2.0$,\n- $R_{2} = 20.0$,\n- $R_{in} = 2.0 \\times 10^{6}$,\n- $\\mathrm{CMRR} = 2.0 \\times 10^{4}$,\nso $\\gamma = 5.0 \\times 10^{-5}$ and $r = \\frac{1 - \\gamma/2}{1 + \\gamma/2} = \\frac{0.999975}{1.000025} \\approx 0.999950000625$.\n\nOption A (signal uses low-resistance wire): $R_{w}=R_{1}=2.0$, $R_{g}=R_{2}=20.0$.\nThen $s_{A} = \\frac{R_{in}+R_{out}+R_{w}}{R_{in}+R_{g}} = \\frac{2{,}000{,}000+15+2}{2{,}000{,}000+20} = \\frac{2{,}000{,}017}{2{,}000{,}020} \\approx 0.999998500015$.\nThus $\\eta_{A} = |1 - s_{A} r| \\approx 1 - 0.999998500015 \\times 0.999950000625 \\approx 5.149866 \\times 10^{-5}$.\n\nOption B (signal uses high-resistance wire): $R_{w}=R_{2}=20.0$, $R_{g}=R_{1}=2.0$.\nThen $s_{B} = \\frac{2{,}000{,}000+15+20}{2{,}000{,}000+2} = \\frac{2{,}000{,}035}{2{,}000{,}002} \\approx 1.000016499983$.\nThus $\\eta_{B} = |1 - s_{B} r| \\approx |1 - 1.000016499983 \\times 0.999950000625| \\approx 3.349959 \\times 10^{-5}$.\n\nComparing, $\\eta_{B} < \\eta_{A}$, so the optimal configuration is to use the low-resistance wire ($R_{1}$) for the ground-sense return and the higher-resistance wire ($R_{2}$) for the signal path. The minimum achievable Noise Leakage Ratio is\n$$\n\\eta_{\\min} \\approx 3.35 \\times 10^{-5}\n$$\nrounded to three significant figures. Note that $A_{d}$ cancels in the ratio, so the result depends only on the impedance values and the CMRR.", "answer": "$$\\boxed{3.35 \\times 10^{-5}}$$", "id": "1308539"}]}