{"hands_on_practices": [{"introduction": "This first practice provides a foundational exercise in calculating steady-state error for a non-unity feedback system. It features a system with an inherently unstable plant, a common scenario in applications like magnetic levitation, reinforcing that the Final Value Theorem's validity depends on the *closed-loop* stability. This problem [@problem_id:1616037] will solidify your ability to apply the standard steady-state error formula in a concrete numerical setting.", "problem": "Consider a simplified control system for a single-axis magnetic levitation experiment. The system's dynamics are described by a forward path transfer function $G(s)$ and a feedback path transfer function $H(s)$ in a standard negative feedback configuration.\n\nThe forward path, representing a proportional controller and the electromagnet plant, is given by:\n$$G(s) = \\frac{K}{(s - p_1)(s + p_2)}$$\nThe term $(s-p_1)$ in the denominator, with $p_1 > 0$, reflects the inherent instability of the open-loop levitation system.\n\nThe feedback path, which models the dynamics of the position sensor, is given by:\n$$H(s) = \\frac{K_s}{s + a}$$\n\nThe system parameters are specified as follows:\n- Instability pole location, $p_1 = 1.00$ rad/s\n- Stable pole location, $p_2 = 5.00$ rad/s\n- Sensor pole location, $a = 10.0$ rad/s\n- Sensor gain, $K_s = 0.500$ (dimensionless)\n- Forward path gain, $K = 200$ (dimensionless)\n\nIt can be verified that for the given parameters, the overall closed-loop system is stable. The system is subjected to a unit step reference input, $r(t)$. The tracking error is defined as the difference between the reference input and the system's actual output, $e(t) = r(t) - y(t)$.\n\nCalculate the numerical value of the steady-state error, $e_{ss}$.", "solution": "The problem asks for the steady-state error $e_{ss}$ for a non-unity feedback system subjected to a unit step input. The error is defined as $e(t) = r(t) - y(t)$.\n\nFirst, let's express the tracking error $e(t)$ in the Laplace domain, which is $E(s) = R(s) - Y(s)$. Here, $R(s)$ is the Laplace transform of the reference input and $Y(s)$ is the Laplace transform of the system output.\n\nFor a system with a forward path transfer function $G(s)$ and a feedback path transfer function $H(s)$ in a negative feedback loop, the closed-loop transfer function $T(s) = \\frac{Y(s)}{R(s)}$ is given by:\n$$T(s) = \\frac{G(s)}{1 + G(s)H(s)}$$\nFrom this, we can express the output $Y(s)$ in terms of the input $R(s)$:\n$$Y(s) = T(s) R(s) = \\frac{G(s)}{1 + G(s)H(s)} R(s)$$\nNow, we substitute this expression for $Y(s)$ into the equation for the tracking error $E(s)$:\n$$E(s) = R(s) - Y(s) = R(s) - \\frac{G(s)}{1 + G(s)H(s)} R(s)$$\nFactoring out $R(s)$, we get:\n$$E(s) = R(s) \\left( 1 - \\frac{G(s)}{1 + G(s)H(s)} \\right)$$\nCombining the terms inside the parentheses over a common denominator gives:\n$$E(s) = R(s) \\left( \\frac{1 + G(s)H(s) - G(s)}{1 + G(s)H(s)} \\right)$$\nThe steady-state error $e_{ss}$ is the value of $e(t)$ as $t \\to \\infty$. We can find this using the Final Value Theorem (FVT), which is applicable because the problem states the closed-loop system is stable. The FVT is given by:\n$$e_{ss} = \\lim_{t \\to \\infty} e(t) = \\lim_{s \\to 0} s E(s)$$\nThe input is a unit step function, $r(t) = u(t)$, for which the Laplace transform is $R(s) = \\frac{1}{s}$. Substituting this and the expression for $E(s)$ into the FVT formula:\n$$e_{ss} = \\lim_{s \\to 0} s \\left[ \\frac{1}{s} \\left( \\frac{1 + G(s)H(s) - G(s)}{1 + G(s)H(s)} \\right) \\right]$$\nThe $s$ terms cancel out, leaving:\n$$e_{ss} = \\lim_{s \\to 0} \\left( \\frac{1 + G(s)H(s) - G(s)}{1 + G(s)H(s)} \\right) = \\frac{1 + G(0)H(0) - G(0)}{1 + G(0)H(0)}$$\nNow, we need to calculate the DC gains $G(0)$ and $H(0)$ using the given transfer functions and parameters.\nThe forward path transfer function is $G(s) = \\frac{K}{(s - p_1)(s + p_2)}$ with $K=200$, $p_1=1.00$, and $p_2=5.00$.\n$$G(0) = \\frac{200}{(0 - 1)(0 + 5)} = \\frac{200}{(-1)(5)} = \\frac{200}{-5} = -40$$\nThe feedback path transfer function is $H(s) = \\frac{K_s}{s + a}$ with $K_s=0.500$ and $a=10.0$.\n$$H(0) = \\frac{0.500}{0 + 10.0} = \\frac{0.5}{10} = 0.05$$\nFinally, we substitute these DC gain values into the expression for $e_{ss}$:\n$$e_{ss} = \\frac{1 + G(0)H(0) - G(0)}{1 + G(0)H(0)} = \\frac{1 + (-40)(0.05) - (-40)}{1 + (-40)(0.05)}$$\n$$e_{ss} = \\frac{1 - 2 + 40}{1 - 2} = \\frac{39}{-1} = -39$$\nThus, the steady-state error is -39.", "answer": "$$\\boxed{-39}$$", "id": "1616037"}, {"introduction": "Building on the basics, this exercise explores a critical and often misunderstood concept in practical control systems. We investigate why adding an integrator—a tool that typically guarantees zero steady-state error for step inputs—fails to do so when the sensor has a non-unity gain ($H(0) \\neq 1$). This practice [@problem_id:1615992] will deepen your understanding of how sensor characteristics directly impact system accuracy and reveals the importance of where the error is measured.", "problem": "A temperature control system is designed for an industrial chemical process. The system's components are modeled by the following transfer functions:\n\n1.  **Process (Plant) $G(s)$**: The thermal dynamics of the reactor are described by a first-order model $G(s) = \\frac{K_p}{T_p s + 1}$, where $K_p$ is the process gain and $T_p$ is the process time constant.\n2.  **Controller $C(s)$**: A Proportional-Integral (PI) controller is used, with transfer function $C(s) = K_{pc} + \\frac{K_I}{s}$, where $K_{pc}$ is the proportional gain and $K_I$ is the integral gain ($K_I > 0$).\n3.  **Sensor $H(s)$**: The temperature measurement is provided by a sensor and transmitter assembly. Due to signal conditioning and calibration, its transfer function is a simple non-unity gain, $H(s) = K_H$, where $K_H$ is a positive constant not equal to 1.\n\nThe components are configured in a negative feedback loop where the controller $C(s)$ and plant $G(s)$ are in the forward path, and the sensor $H(s)$ is in the feedback path. The system is tasked with tracking a step change in the temperature setpoint, $r(t)$, of magnitude $R_0$, such that the Laplace transform of the input is $R(s) = R_0/s$.\n\nAssuming the closed-loop system is stable, calculate the steady-state tracking error, defined as $e_{ss} = \\lim_{t \\to \\infty} [r(t) - y(t)]$, where $y(t)$ is the actual reactor temperature. Express your answer as a symbolic expression in terms of the given parameters.", "solution": "The closed-loop relationship between the output $Y(s)$ and the input $R(s)$ is given by:\n$$Y(s)=\\frac{C(s)G(s)}{1+C(s)G(s)H(s)}\\,R(s)$$\nThe tracking error is $E(s)=R(s)-Y(s)$, which can be expressed as:\n$$E(s)=R(s)\\left[1-\\frac{C(s)G(s)}{1+C(s)G(s)H(s)}\\right]=R(s)\\,\\frac{1+C(s)G(s)(H(s)-1)}{1+C(s)G(s)H(s)}$$\nAssuming closed-loop stability, the final value theorem yields the steady-state tracking error $e_{ss}$:\n$$e_{ss}=\\lim_{t\\to\\infty}\\big[r(t)-y(t)\\big]=\\lim_{s\\to 0}sE(s)=\\lim_{s\\to 0}sR(s)\\,\\frac{1+C(s)G(s)(H(s)-1)}{1+C(s)G(s)H(s)}$$\nFor a step input $R(s)=\\frac{R_{0}}{s}$, we have $sR(s)=R_{0}$, hence:\n$$e_{ss}=R_{0}\\,\\lim_{s\\to 0}\\frac{1+C(s)G(s)(H(s)-1)}{1+C(s)G(s)H(s)}$$\nWith $G(s)=\\frac{K_{p}}{T_{p}s+1}$, $C(s)=K_{pc}+\\frac{K_{I}}{s}$ with $K_{I}>0$, and $H(s)=K_{H}$. As $s\\to 0$, we have $G(s)\\to K_{p}$ and the forward-path gain $L(s)=C(s)G(s)\\sim \\frac{K_{p}K_{I}}{s}\\to \\infty$. The limit becomes:\n$$\\lim_{s\\to 0}\\frac{1+L(s)(K_{H}-1)}{1+L(s)K_{H}}=\\frac{K_{H}-1}{K_{H}}=1-\\frac{1}{K_{H}}$$\nTherefore, the steady-state tracking error is:\n$$e_{ss}=R_{0}\\left(1-\\frac{1}{K_{H}}\\right)$$\nThis result is consistent with the principle that integral action drives the actuating error, $r(t)-K_{H}y(t)$, to zero. This implies the steady-state output is $y_{ss}=R_{0}/K_{H}$, and hence the tracking error is $e_{ss}=r_{ss}-y_{ss}=R_{0}-R_{0}/K_{H}$.", "answer": "$$\\boxed{R_{0}\\left(1-\\frac{1}{K_{H}}\\right)}$$", "id": "1615992"}, {"introduction": "This final practice moves from analysis to design, challenging you to engineer a solution for a specific performance goal. Given a plant model, you will determine the simplest sensor dynamics required to achieve perfect tracking of a ramp input, a common task in motion control systems. This problem [@problem_id:1616005] demonstrates how non-unity feedback can be leveraged not just as a given constraint, but as a powerful design element to enhance system performance.", "problem": "A control system is designed for a radio telescope's tracking mechanism. The goal is to follow a celestial object that appears to move across the sky at a constant angular velocity. The system's plant, which models the dynamics of the motor and the large dish structure, is given by the transfer function:\n$$G(s) = \\frac{20(s+2)}{s(s+10)}$$\nThe system employs a non-unity feedback configuration, where the sensor measuring the antenna's angular position has a transfer function $H(s)$.\n\nThe desired reference input, representing the target's trajectory, is a unit ramp function, $r(t) = t \\cdot u(t)$, where $u(t)$ is the unit step function. To ensure perfect tracking under ideal conditions, the sensor must be designed to achieve zero steady-state tracking error between the reference and the actual antenna position.\n\nAssuming the closed-loop system must be stable, determine the transfer function for the simplest, physically realizable, dynamic sensor $H(s)$ that accomplishes this goal.", "solution": "Let the plant be $G(s)=\\dfrac{20(s+2)}{s(s+10)}$ and the feedback sensor be $H(s)$ in a standard non-unity feedback configuration. The closed-loop transfer function from $R(s)$ to $Y(s)$ is\n$$\nT(s)=\\frac{Y(s)}{R(s)}=\\frac{G(s)}{1+G(s)H(s)}.\n$$\nWe require zero steady-state tracking error between the reference $r(t)$ and the output $y(t)$ for a unit ramp input $r(t)=t\\,u(t)$, i.e., $R(s)=1/s^{2}$. The tracking error is $e(t)=r(t)-y(t)$, so in the Laplace domain $E(s)=(1-T(s))R(s)$. By the final value theorem, the steady-state ramp error is\n$$\ne_{ss}=\\lim_{t\\to\\infty}e(t)=\\lim_{s\\to 0}sE(s)=\\lim_{s\\to 0}\\frac{1-T(s)}{s}.\n$$\nHence zero ramp error requires $\\lim_{s\\to 0}\\frac{1-T(s)}{s}=0$, which implies that $T(0)=1$ and the coefficient of $s$ in the small-$s$ expansion of $T(s)$ (i.e., $T'(0)$) vanishes.\n\nTo have $T(0)=1$, we must have $H(0)=1$. We expand $G(s)$ and $H(s)$ about $s=0$. For $G(s)$, we first expand $sG(s)$:\n$$sG(s)=\\frac{20(s+2)}{s+10}=4+\\frac{8}{5}s-\\frac{4}{25}s^{2}+O(s^{3})$$\nSo,\n$$G(s)=\\frac{4}{s}+\\frac{8}{5}-\\frac{4}{25}s+O(s^{2}).$$\nWe seek a physically realizable, stable, proper dynamic sensor with unity DC gain. We write its small-$s$ expansion as:\n$$H(s)=1+a s+b s^{2}+O(s^{3}).$$\nThen the loop gain is:\n$$G(s)H(s)=\\left(\\frac{4}{s}+\\frac{8}{5}-\\frac{4}{25}s+\\cdots\\right)\\left(1+a s+b s^{2}+\\cdots\\right)\n=\\frac{4}{s}+\\left(4a+\\frac{8}{5}\\right)+\\left(4b+\\frac{8}{5}a-\\frac{4}{25}\\right)s+\\cdots.$$\nThus,\n$$1+G(s)H(s)=\\frac{4}{s}+\\left(1+4a+\\frac{8}{5}\\right)+\\left(4b+\\frac{8}{5}a-\\frac{4}{25}\\right)s+\\cdots.$$\nNow we form the closed-loop transfer function $T(s)$:\n$$\nT(s)=\\frac{G(s)}{1+G(s)H(s)}=\\frac{\\frac{4}{s}+\\frac{8}{5}-\\frac{4}{25}s+\\cdots}{\\frac{4}{s}+\\left(1+4a+\\frac{8}{5}\\right)+\\left(4b+\\frac{8}{5}a-\\frac{4}{25}\\right)s+\\cdots}.\n$$\nMultiply numerator and denominator by $s$:\n$$\nT(s)=\\frac{4+\\frac{8}{5}s-\\frac{4}{25}s^{2}+\\cdots}{4+\\left(1+4a+\\frac{8}{5}\\right)s+\\left(4b+\\frac{8}{5}a-\\frac{4}{25}\\right)s^{2}+\\cdots}.\n$$\nTo find the first derivative $T'(0)$, we can use the form $T(s) \\approx \\frac{1+p_1 s}{1+q_1 s} \\approx (1+p_1 s)(1-q_1 s) \\approx 1+(p_1-q_1)s$. For $T'(0)=0$, we need $p_1=q_1$.\nFrom the expression for $T(s)$, we identify the coefficients of $s$ in the numerator and denominator:\n$p_1 = \\frac{8}{5} / 4 = \\frac{2}{5}$\n$q_1 = (1+4a+\\frac{8}{5}) / 4 = (\\frac{13}{5}+4a)/4$\nSetting them equal gives:\n$$\n\\frac{2}{5}=\\frac{1}{4}\\left(\\frac{13}{5}+4a\\right)\\;\\Rightarrow\\;\\frac{8}{5}=\\frac{13}{5}+4a\\;\\Rightarrow\\;4a=-1\\;\\Rightarrow\\;a=-\\frac{1}{4}.\n$$\nThe simplest, first-order, physically realizable, stable sensor with $H(0)=1$ and first-order coefficient $a=H'(0)=-\\frac{1}{4}$ is a lag compensator:\n$$H(s) = \\frac{1}{1+\\tau s}, \\quad \\text{where } a = -\\tau$$\nSo $\\tau = \\frac{1}{4}$, which gives:\n$$H(s)=\\frac{1}{1+s/4}=\\frac{4}{s+4}.$$\nTo verify, with $H(s)=\\frac{4}{s+4}$:\n$$\nT(s)=\\frac{G(s)}{1+G(s)H(s)}=\\frac{\\frac{20(s+2)}{s(s+10)}}{1+\\frac{20(s+2)}{s(s+10)}\\frac{4}{s+4}}=\\frac{20(s+2)(s+4)}{s(s+10)(s+4)+80(s+2)}.\n$$\n$$\nT(s)=\\frac{20(s^{2}+6s+8)}{s^{3}+14s^{2}+40s+80s+160} = \\frac{20s^{2}+120s+160}{s^{3}+14s^{2}+120s+160}.\n$$\nNow we find the error transfer function for a ramp input:\n$$\n\\frac{E(s)}{R(s)} = 1-T(s)=\\frac{s^{3}+14s^{2}+120s+160 - (20s^{2}+120s+160)}{s^{3}+14s^{2}+120s+160} = \\frac{s^{3}-6s^{2}}{s^{3}+14s^{2}+120s+160}.\n$$\nThe steady-state ramp error is:\n$$\ne_{ss}=\\lim_{s\\to 0} s E(s)=\\lim_{s\\to 0} s \\left( \\frac{1}{s^2} \\right) \\left( \\frac{s^{3}-6s^{2}}{s^{3}+14s^{2}+120s+160} \\right) = \\lim_{s\\to 0}\\frac{s-6}{s^{3}+14s^{2}+120s+160} = \\frac{-6}{160} \\neq 0.\n$$\nLet's re-check the derivation. The algebra seems to have a mistake.\nAh, the original solution had it right. Let's re-trace its steps carefully.\n$T(s)=\\frac{G(s)}{1+G(s)H(s)}=\\frac{4+\\frac{8}{5}s+\\cdots}{4+\\left(\\frac{13}{5}+4a\\right)s+\\cdots}$\n$T(s) = \\frac{4(1+\\frac{2}{5}s+\\cdots)}{4(1+\\frac{1}{4}(\\frac{13}{5}+4a)s+\\cdots)}$\nThe coefficients must be equal. $\\frac{2}{5} = \\frac{1}{4}(\\frac{13}{5}+4a)$. Correct. $\\frac{8}{5} = \\frac{13}{5}+4a$. Correct. $4a = -\\frac{5}{5} = -1$. Correct. $a=-1/4$.\nThe simplest $H(s)$ is $H(s)=\\frac{1}{1+s/4} = \\frac{4}{s+4}$. Correct.\nLet's re-check the verification.\n$T(s)=\\frac{20s^{2}+120s+160}{s^{3}+14s^{2}+120s+160}$. My previous expansion of the denominator was wrong.\n$s(s+10)(s+4) = s(s^2+14s+40) = s^3+14s^2+40s$.\n$80(s+2) = 80s+160$.\nDenominator = $s^3+14s^2+40s + 80s+160 = s^3+14s^2+120s+160$. This matches.\nNumerator = $20(s+2)(s+4) = 20(s^2+6s+8) = 20s^2+120s+160$. This matches.\nSo $T(s)$ is correct.\nNow for $1-T(s) = \\frac{s^3+14s^2+120s+160 - (20s^2+120s+160)}{s^3+14s^2+120s+160} = \\frac{s^3-6s^2}{s^3+14s^2+120s+160}$.\nThis is also correct.\nNow for $e_{ss}$.\n$e_{ss}=\\lim_{s\\to 0} s E(s)=\\lim_{s\\to 0} s \\cdot \\frac{1}{s^2} \\cdot (1-T(s)) = \\lim_{s\\to 0} \\frac{1-T(s)}{s}$.\n$\\frac{1-T(s)}{s} = \\frac{s^2-6s}{s^3+14s^2+120s+160}$.\n$\\lim_{s\\to 0} \\frac{s^2-6s}{s^3+14s^2+120s+160} = \\frac{0}{160} = 0$.\nThe original solution had a different calculation for the limit which was also correct. Let me restore the original solution's verification text as it was correct. The error was in my own scratchpad calculation. The original solution is fine, just needs formatting and notation consistency.\nFinal corrected solution for problem 3:\nLet the plant be $G(s)=\\dfrac{20(s+2)}{s(s+10)}$ and the feedback sensor be $H(s)$ in a standard non-unity feedback configuration. The closed-loop transfer function from $R(s)$ to $Y(s)$ is\n$$\nT(s)=\\frac{Y(s)}{R(s)}=\\frac{G(s)}{1+G(s)H(s)}.\n$$\nWe require zero steady-state tracking error for a unit ramp input $r(t)=t\\,u(t)$, i.e., $R(s)=1/s^{2}$. The tracking error is $e(t)=r(t)-y(t)$, so in the Laplace domain $E(s)=(1-T(s))R(s)$. By the Final Value Theorem, the steady-state ramp error is\n$$\ne_{ss}=\\lim_{t\\to\\infty}e(t)=\\lim_{s\\to 0}sE(s)=\\lim_{s\\to 0}\\frac{1-T(s)}{s}.\n$$\nZero ramp error requires that $T(0)=1$ and the coefficient of $s$ in the small-$s$ expansion of $T(s)$ vanishes, i.e., $T'(0)=0$. The condition $T(0)=1$ implies $H(0)=1$.\nExpand $G(s)$ and $H(s)$ about $s=0$. First, expand $sG(s)$:\n$$sG(s)=\\frac{20(s+2)}{s+10}=4+\\frac{8}{5}s-\\frac{4}{25}s^{2}+O(s^{3})$$\nso\n$$G(s)=\\frac{4}{s}+\\frac{8}{5}-\\frac{4}{25}s+O(s^{2}).$$\nSeek a physically realizable, stable, proper dynamic sensor with $H(0)=1$. Write the small-$s$ expansion:\n$$H(s)=1+a s+b s^{2}+O(s^{3}).$$\nThen\n$$G(s)H(s)=\\left(\\frac{4}{s}+\\frac{8}{5}-\\frac{4}{25}s+\\cdots\\right)\\left(1+a s+b s^{2}+\\cdots\\right)\n=\\frac{4}{s}+\\left(4a+\\frac{8}{5}\\right)+\\left(4b+\\frac{8}{5}a-\\frac{4}{25}\\right)s+\\cdots.$$\nThe closed-loop transfer function $T(s)$ is:\n$$T(s)=\\frac{G(s)}{1+G(s)H(s)}=\\frac{\\frac{4}{s}+\\frac{8}{5}-\\frac{4}{25}s+\\cdots}{1+\\frac{4}{s}+\\left(4a+\\frac{8}{5}\\right)+\\cdots} = \\frac{4+\\frac{8}{5}s-\\cdots}{4+\\left(1+4a+\\frac{8}{5}\\right)s+\\cdots}.$$\nFor $T'(0)=0$, the coefficients of $s$ in the numerator and denominator (after factoring out 4) must be equal:\n$$\\frac{2}{5}=\\frac{1}{4}\\left(1+4a+\\frac{8}{5}\\right)\\;\\Rightarrow\\;\\frac{8}{5}=\\frac{13}{5}+4a\\;\\Rightarrow\\;4a=-1\\;\\Rightarrow\\;a=-\\frac{1}{4}.$$\nA simplest first-order, physically realizable, stable sensor with $H(0)=1$ and $H'(0)=a=-\\frac{1}{4}$ is the lag compensator:\n$$H(s)=\\frac{1}{1+\\frac{1}{4} s} = \\frac{4}{s+4}.$$\nVerification: With $H(s)=\\frac{4}{s+4}$,\n$$\nT(s)=\\frac{G(s)}{1+G(s)H(s)}=\\frac{\\frac{20(s+2)}{s(s+10)}}{1+\\frac{80(s+2)}{s(s+10)(s+4)}}=\\frac{20(s+2)(s+4)}{s(s+10)(s+4)+80(s+2)}.\n$$\n$$\nT(s)=\\frac{20s^{2}+120s+160}{s^{3}+14s^{2}+120s+160}\n$$\nSo,\n$$\n1-T(s)=\\frac{s^{3}-6s^{2}}{s^{3}+14s^{2}+120s+160}.\n$$\nThe steady-state error is\n$$\ne_{ss}=\\lim_{s\\to 0}\\frac{1-T(s)}{s}=\\lim_{s\\to 0}\\frac{s^{2}-6s}{s^{3}+14s^{2}+120s+160}=0,\n$$\nwhich confirms zero steady-state ramp error. The characteristic polynomial is $s^{3}+14s^{2}+120s+160=0$. By the Routh-Hurwitz criterion, since all coefficients are positive and $14\\cdot 120 > 160$, the closed loop is stable. Therefore, the simplest sensor is $H(s)=\\frac{4}{s+4}$.\nThis is a more readable version that preserves the original logic and fixes notation/formatting. I'll use this.", "answer": "$$\\boxed{\\frac{4}{s+4}}$$", "id": "1616005"}]}