{"hands_on_practices": [{"introduction": "The cornerstone of feedback control is the proportional (P) controller, which generates a control action directly proportional to the tracking error. While simple and intuitive, it's crucial to understand its limitations. This first exercise invites you to analyze a classic scenario—a position control system facing a constant external force—to quantify the resulting steady-state error. By deriving this error, you will build a foundational understanding of why pure proportional control often falls short and sets the stage for introducing more advanced control actions [@problem_id:1562479].", "problem": "A satellite's antenna positioning system is modeled as a simple electromechanical system. The antenna's angular position, $\\theta(t)$, is controlled by a Direct Current (DC) motor. The dynamics of the combined motor and antenna load are described by the second-order linear differential equation:\n$$\nJ \\ddot{\\theta}(t) + b \\dot{\\theta}(t) = T_m(t) - T_L(t)\n$$\nwhere $J$ is the total moment of inertia, $b$ is the viscous friction coefficient, $T_m(t)$ is the torque produced by the motor, and $T_L(t)$ is an external disturbance torque.\n\nThe motor torque is directly proportional to the voltage $V(t)$ applied to it, according to the relation $T_m(t) = K_t V(t)$, where $K_t$ is the motor torque constant.\n\nA proportional controller is implemented to govern the system. The controller sets the motor voltage based on the tracking error, $e(t) = \\theta_{ref}(t) - \\theta(t)$, where $\\theta_{ref}(t)$ is the desired reference angle. The control law is given by:\n$$\nV(t) = K_p e(t)\n$$\nwhere $K_p$ is the proportional gain.\n\nConsider a scenario where the system, initially at rest at $\\theta(0) = 0$, is tasked with pointing to a fixed reference angle $\\theta_{ref}(t) = \\theta_0$ for all time $t \\geq 0$. Simultaneously, the antenna is subjected to a constant disturbance torque $T_L(t) = T_d$ for $t \\geq 0$, representing a persistent force such as solar wind pressure.\n\nDetermine the steady-state position error, defined as $e_{ss} = \\lim_{t\\to\\infty} e(t)$. Express your answer as a symbolic expression in terms of the parameters $J$, $b$, $K_t$, $K_p$, $\\theta_0$, and $T_d$.", "solution": "To solve for the steady-state error, we will analyze the system in the Laplace domain. First, we take the Laplace transform of the system's dynamic equation, assuming zero initial conditions ($\\theta(0) = 0, \\dot{\\theta}(0) = 0$).\n\nThe dynamic equation is:\n$$\nJ \\ddot{\\theta}(t) + b \\dot{\\theta}(t) = T_m(t) - T_L(t)\n$$\nTaking the Laplace transform, we get:\n$$\nJ s^2 \\theta(s) + b s \\theta(s) = T_m(s) - T_L(s)\n$$\n$$\ns(Js + b)\\theta(s) = T_m(s) - T_L(s)\n$$\nHere, $\\theta(s)$, $T_m(s)$, and $T_L(s)$ are the Laplace transforms of $\\theta(t)$, $T_m(t)$, and $T_L(t)$ respectively.\n\nNext, we model the controller and motor torque in the Laplace domain.\nThe control law is $V(t) = K_p e(t)$, which transforms to:\n$$\nV(s) = K_p E(s)\n$$\nThe motor torque is $T_m(t) = K_t V(t)$, which transforms to:\n$$\nT_m(s) = K_t V(s)\n$$\nSubstituting the expression for $V(s)$ into the one for $T_m(s)$, we get the torque generated by the controlled motor:\n$$\nT_m(s) = K_t K_p E(s)\n$$\nThe error signal is defined as $e(t) = \\theta_{ref}(t) - \\theta(t)$, so its Laplace transform is $E(s) = \\theta_{ref}(s) - \\theta(s)$.\n\nNow we can substitute the expression for $T_m(s)$ into the system's dynamic equation:\n$$\ns(Js + b)\\theta(s) = K_t K_p E(s) - T_L(s)\n$$\nOur goal is to find an expression for the error $E(s)$. To do this, we replace $\\theta(s)$ with its equivalent in terms of the error and reference signals: $\\theta(s) = \\theta_{ref}(s) - E(s)$.\n$$\ns(Js + b)[\\theta_{ref}(s) - E(s)] = K_t K_p E(s) - T_L(s)\n$$\nNow, we rearrange the equation to solve for $E(s)$.\n$$\ns(Js + b)\\theta_{ref}(s) - s(Js + b)E(s) = K_t K_p E(s) - T_L(s)\n$$\nGroup all terms with $E(s)$ on one side and all other terms on the other side:\n$$\ns(Js + b)\\theta_{ref}(s) + T_L(s) = [s(Js + b) + K_t K_p] E(s)\n$$\nSolving for $E(s)$:\n$$\nE(s) = \\frac{s(Js + b)}{s(Js + b) + K_t K_p} \\theta_{ref}(s) + \\frac{1}{s(Js + b) + K_t K_p} T_L(s)\n$$\nThe problem specifies a constant reference angle $\\theta_{ref}(t) = \\theta_0$ and a constant disturbance torque $T_L(t) = T_d$. These are step inputs in time, so their Laplace transforms are:\n$$\n\\theta_{ref}(s) = \\mathcal{L}\\{\\theta_0 u(t)\\} = \\frac{\\theta_0}{s}\n$$\n$$\nT_L(s) = \\mathcal{L}\\{T_d u(t)\\} = \\frac{T_d}{s}\n$$\nSubstitute these into the expression for $E(s)$:\n$$\nE(s) = \\frac{s(Js + b)}{s(Js + b) + K_t K_p} \\left(\\frac{\\theta_0}{s}\\right) + \\frac{1}{s(Js + b) + K_t K_p} \\left(\\frac{T_d}{s}\\right)\n$$\n$$\nE(s) = \\frac{Js + b}{s(Js + b) + K_t K_p} \\theta_0 + \\frac{T_d}{s(s(Js + b) + K_t K_p)}\n$$\nTo find the steady-state error $e_{ss}$, we use the Final Value Theorem, which states that if the poles of $sE(s)$ are in the left half of the s-plane, then $e_{ss} = \\lim_{t\\to\\infty} e(t) = \\lim_{s\\to 0} sE(s)$. The closed-loop system is stable for positive gains, so we can apply the theorem.\n$$\ne_{ss} = \\lim_{s\\to 0} s \\left[ \\frac{Js + b}{s(Js + b) + K_t K_p} \\theta_0 + \\frac{T_d}{s(s(Js + b) + K_t K_p)} \\right]\n$$\nDistribute the $s$ inside the brackets:\n$$\ne_{ss} = \\lim_{s\\to 0} \\left[ \\frac{s(Js + b)}{s(Js + b) + K_t K_p} \\theta_0 + \\frac{T_d}{s(Js + b) + K_t K_p} \\right]\n$$\nNow, we evaluate the limit by setting $s=0$:\n$$\ne_{ss} = \\left[ \\frac{0(J(0) + b)}{0(J(0) + b) + K_t K_p} \\theta_0 + \\frac{T_d}{0(J(0) + b) + K_t K_p} \\right]\n$$\n$$\ne_{ss} = \\left[ \\frac{0}{K_t K_p} \\theta_0 + \\frac{T_d}{K_t K_p} \\right]\n$$\n$$\ne_{ss} = 0 + \\frac{T_d}{K_t K_p}\n$$\nThe result shows that the steady-state error due to the step reference input $\\theta_0$ is zero. This is expected as the plant has an integrator ($1/s$ term), making the closed-loop system Type 1 with respect to the reference input. However, there is a non-zero steady-state error due to the constant disturbance torque $T_d$. The final steady-state error is:\n$$\ne_{ss} = \\frac{T_d}{K_t K_p}\n$$", "answer": "$$\\boxed{\\frac{T_d}{K_t K_p}}$$", "id": "1562479"}, {"introduction": "Adding derivative (D) action to a controller can improve stability and transient response by \"anticipating\" the error's future trend. However, in the real world, processes often exhibit time delays, which can complicate controller performance. This practice explores the challenging interaction between an ideal derivative controller and a process time delay, a common issue in chemical and thermal systems. By analyzing the high-frequency phase characteristics, you will uncover a non-intuitive reason why adding derivative action can sometimes be detrimental, emphasizing the practical trade-offs in PID design [@problem_id:1562473].", "problem": "A control engineer is analyzing the feasibility of adding an ideal derivative action to a control loop for a process that exhibits a significant time delay. The derivative action is represented by the transfer function $C_D(s) = T_d s$, where $T_d$ is the derivative time constant. The process time delay is modeled by the transfer function $G_{delay}(s) = e^{-Ls}$, where $L$ is the delay time.\n\nTo understand the interaction between these two elements, the engineer considers a composite block representing the derivative action applied directly to the time-delayed signal, with the combined transfer function $G_{combo}(s) = C_D(s) \\cdot G_{delay}(s)$. Such a configuration can occur, for instance, when the derivative action is implemented on the process variable rather than the error signal.\n\nUsing the first-order Padé approximation for the time delay, given by $e^{-Ls} \\approx \\frac{1 - Ls/2}{1 + Ls/2}$, determine the asymptotic phase of the combined transfer function $G_{combo}(s)$ in the high-frequency limit (i.e., as the angular frequency $\\omega \\to \\infty$).\n\nExpress your final answer as a single number in degrees.", "solution": "We are given the derivative controller $C_{D}(s)=T_{d}s$ and the time delay $G_{delay}(s)=e^{-Ls}$. The combined transfer function is\n$$\nG_{combo}(s)=C_{D}(s)\\,G_{delay}(s)=T_{d}s\\,e^{-Ls}.\n$$\nUsing the first-order Padé approximation $e^{-Ls}\\approx \\frac{1-\\frac{L}{2}s}{1+\\frac{L}{2}s}$, the approximated combined transfer function is\n$$\n\\tilde{G}_{combo}(s)=T_{d}s\\,\\frac{1-\\frac{L}{2}s}{1+\\frac{L}{2}s}.\n$$\nTo determine the high-frequency asymptotic phase, we evaluate the frequency response by setting $s=\\mathrm{j}\\omega$ with $\\omega0$:\n$$\n\\tilde{G}_{combo}(\\mathrm{j}\\omega)=T_{d}(\\mathrm{j}\\omega)\\,\\frac{1-\\mathrm{j}\\frac{L}{2}\\omega}{1+\\mathrm{j}\\frac{L}{2}\\omega}.\n$$\nThe phase of a product is the sum of the phases and the phase of a ratio is the difference of the phases. Assuming $T_{d}0$ (standard in control design), $\\arg(T_{d})=0$. Also, $\\arg(\\mathrm{j}\\omega)=\\frac{\\pi}{2}$. For the Padé factor, as $\\omega\\to\\infty$, the arguments of the numerator and denominator approach:\n$$\n\\arg\\!\\left(1-\\mathrm{j}\\frac{L}{2}\\omega\\right)\\to \\arg\\!\\left(-\\mathrm{j}\\frac{L}{2}\\omega\\right)=-\\frac{\\pi}{2}\n$$\n$$\n\\arg\\!\\left(1+\\mathrm{j}\\frac{L}{2}\\omega\\right)\\to \\arg\\!\\left(\\mathrm{j}\\frac{L}{2}\\omega\\right)=\\frac{\\pi}{2}.\n$$\nTherefore, the high-frequency phase contribution of the Padé factor is:\n$$\n-\\frac{\\pi}{2}-\\frac{\\pi}{2}=-\\pi.\n$$\nSumming all contributions, the asymptotic phase of $\\tilde{G}_{combo}(\\mathrm{j}\\omega)$ as $\\omega\\to\\infty$ is\n$$\n0+\\frac{\\pi}{2}+(-\\pi)=-\\frac{\\pi}{2},\n$$\nwhich corresponds to $-90$ degrees.", "answer": "$$\\boxed{-90}$$", "id": "1562473"}, {"introduction": "Advanced control strategies often combine the strengths of different controller types to meet multiple performance objectives. This problem presents a hypothetical scenario where a controller dynamically switches from a Proportional-Derivative (PD) configuration to a Proportional-Integral-Derivative (PID) one. This exercise challenges you to think critically about the relationship between a system's structure, its \"type,\" and its ability to track dynamic inputs like ramps without error. Analyzing this switched system will reinforce the powerful principle that integral action is the key to eliminating final steady-state errors, regardless of the initial transient behavior [@problem_id:1618099].", "problem": "A servomechanism is designed to control the position of a payload, which can be modeled as a pure inertial mass, leading to a plant transfer function $P(s) = 1/s^2$. The system is configured with unity feedback. For initial rapid response, a Proportional-Derivative (PD) controller is used, with the control law given by $u(t) = K_p e(t) + K_d \\dot{e}(t)$, where $e(t)$ is the tracking error. The gains $K_p$ and $K_d$ are positive and chosen such that the closed-loop system is underdamped.\n\nThe system is initially at rest, with zero output and zero error. At time $t=0$, it is commanded to track a ramp reference trajectory $r(t) = At$ for $t \\ge 0$, where $A$ is a positive constant.\n\nTo eliminate steady-state error, the control strategy is designed to switch at the first instant in time $t_{switch}  0$ when the tracking error $e(t)$ crosses zero. At this moment, an integral action is introduced, and the controller becomes a Proportional-Integral-Derivative (PID) for all subsequent time $t \\ge t_{switch}$. The new control law is $u(t) = K_p e(t) + K_d \\dot{e}(t) + K_i \\int_{t_{switch}}^t e(\\tau)d\\tau$, using the same gains $K_p$, $K_d$ and a positive integral gain $K_i$. You may assume that the gains are such that this resulting PID-controlled system is stable.\n\nDetermine the final steady-state tracking error, $e_{ss} = \\lim_{t\\to\\infty} e(t)$. Provide your answer as a symbolic expression.", "solution": "The plant is $P(s)=\\frac{1}{s^2}$ with unity feedback. For any linear controller $C(s)$ in the forward path with unity feedback, the error–input relation in the Laplace domain is\n$$\nE(s)=\\frac{R(s)}{1+C(s)P(s)}.\n$$\n\nPhase 1 (PD control, $0\\le tt_{switch}$): With $C_{PD}(s)=K_{p}+K_{d}s$ and a ramp input $r(t)=At$ whose transform is $R(s)=\\frac{A}{s^2}$, the error transform is\n$$\nE_{PD}(s)=\\frac{R(s)}{1+\\frac{K_{p}+K_{d}s}{s^2}}=\\frac{\\frac{A}{s^2}}{\\frac{s^2+K_{d}s+K_{p}}{s^2}}=\\frac{A}{s^2+K_{d}s+K_{p}}.\n$$\nBy the stated choice of $K_{p},K_{d}$, the polynomial $s^2+K_{d}s+K_{p}$ has roots with negative real parts (underdamped), and since there is no pole at the origin in $E_{PD}(s)$, the final value of the error is $\\lim_{s\\to 0} s E_{PD}(s) = 0$. This guarantees the existence of a first zero crossing of $e(t)$, so $t_{switch}0$ exists.\n\nPhase 2 (PID control, $t\\ge t_{switch}$): The controller becomes $C_{PID}(s)=K_{p}+K_{d}s+\\frac{K_{i}}{s}$. The integral term is defined as $\\int_{t_{switch}}^{t}e(\\tau)\\,d\\tau$, which is equivalent to resetting the integrator state to zero at $t_{switch}$; this affects only transients, not steady state. For the PID phase, the closed-loop error–input relation is\n$$\nE(s)=\\frac{R(s)}{1+C_{PID}(s)P(s)}=\\frac{R(s)}{1+\\left(K_{p}+K_{d}s+\\frac{K_{i}}{s}\\right)\\frac{1}{s^2}}\n=\\frac{R(s)}{1+\\frac{K_{p}}{s^2}+\\frac{K_{d}}{s}+\\frac{K_{i}}{s^3}}\n=\\frac{s^3 R(s)}{s^3+K_{d}s^2+K_{p}s+K_{i}}.\n$$\nAfter the switch, the system is linear time-invariant, and its final steady-state error is determined only by the final controller (PID) and the input type. The input is a ramp, $r(t)=At$, with transform $R(s)=A/s^2$. Because the closed-loop characteristic polynomial $s^3+K_{d}s^2+K_{p}s+K_{i}$ is assumed to be stable (all roots with negative real parts), the Final Value Theorem applies:\n$$\ne_{ss}=\\lim_{t\\to\\infty}e(t)=\\lim_{s\\to 0}sE(s).\n$$\nWe substitute $E(s)$ and $R(s)$ into this limit:\n$$\ne_{ss} = \\lim_{s\\to 0} s \\left( \\frac{s^3}{s^3+K_d s^2+K_p s+K_i} \\cdot \\frac{A}{s^2} \\right)\n$$\n$$\ne_{ss} = \\lim_{s\\to 0} s \\left( \\frac{As}{s^3+K_d s^2+K_p s+K_i} \\right)\n$$\n$$\ne_{ss} = \\lim_{s\\to 0} \\frac{As^2}{s^3+K_d s^2+K_p s+K_i}\n$$\nEvaluating the limit by substituting $s=0$:\n$$\ne_{ss} = \\frac{A(0)^2}{(0)^3+K_d(0)^2+K_p(0)+K_i} = \\frac{0}{K_i} = 0.\n$$\nThe introduction of the integral term increases the system type to 3. A Type 3 system has zero steady-state error for both step and ramp inputs. The analysis in the solution breaking the input into a shifted ramp and step is also valid and gives the same result. The simpler method is to recognize that for $t \\ge t_{switch}$, the system is a stable LTI system driven by a ramp, and its steady-state properties are independent of the initial conditions at $t_{switch}$.\n\nTherefore, the final steady-state tracking error is zero.", "answer": "$$\\boxed{0}$$", "id": "1618099"}]}