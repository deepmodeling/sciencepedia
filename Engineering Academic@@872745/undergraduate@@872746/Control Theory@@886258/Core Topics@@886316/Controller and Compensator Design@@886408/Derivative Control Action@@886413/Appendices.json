{"hands_on_practices": [{"introduction": "Before manipulating complex equations, a solid understanding of a control system begins with its fundamental physical quantities. This exercise uses dimensional analysis to determine the units of the derivative gain, $K_d$. Understanding the units provides physical intuition for how a numerical gain value translates a rate of change of error into a physical control action, such as torque or voltage. [@problem_id:1569208]", "problem": "A control engineer is designing a high-precision positioning system for a robotic manipulator arm used in semiconductor photolithography. The angular position of the arm, $\\theta(t)$, is regulated by a joint actuator that applies a torque, $\\tau(t)$. The control system implements a Proportional-Derivative (PD) controller to minimize the error between the desired setpoint angle, $\\theta_{sp}$, and the measured actual angle, $\\theta(t)$.\n\nThe error signal is defined as $e(t) = \\theta_{sp} - \\theta(t)$. The output torque command from the PD controller is given by the equation:\n$$\n\\tau(t) = K_p e(t) + K_d \\frac{de(t)}{dt}\n$$\nIn this system, the error $e(t)$ is measured in radians (rad), time $t$ is measured in seconds (s), and the resulting actuator torque $\\tau(t)$ is specified in Newton-meters (N-m). The terms $K_p$ and $K_d$ represent the proportional and derivative gains, respectively.\n\nWhat are the fundamental SI units for the derivative gain constant, $K_d$?\n\nA. $\\frac{\\text{N} \\cdot \\text{m}}{\\text{rad}}$\n\nB. $\\frac{\\text{N} \\cdot \\text{m} \\cdot \\text{s}}{\\text{rad}}$\n\nC. $\\frac{\\text{N} \\cdot \\text{m}}{\\text{rad} \\cdot \\text{s}}$\n\nD. $\\frac{\\text{N} \\cdot \\text{m} \\cdot \\text{rad}}{\\text{s}}$\n\nE. $\\frac{\\text{N}}{\\text{rad} \\cdot \\text{s}}$", "solution": "The problem requires determining the units of the derivative gain, $K_d$, in a Proportional-Derivative (PD) controller equation. The governing equation is:\n$$\n\\tau(t) = K_p e(t) + K_d \\frac{de(t)}{dt}\n$$\nA fundamental principle of dimensional analysis is that all terms being added together in a physical equation must have the same units. Furthermore, the units on the left-hand side of the equation must be equal to the units of the terms on the right-hand side.\n\nLet $[X]$ denote the units of a physical quantity $X$. Based on the principle of dimensional homogeneity, we can write:\n$$\n[\\tau(t)] = [K_p e(t)] = \\left[K_d \\frac{de(t)}{dt}\\right]\n$$\nWe are interested in the units of $K_d$, so we focus on the equality between the torque term and the derivative term:\n$$\n[\\tau(t)] = \\left[K_d \\frac{de(t)}{dt}\\right]\n$$\nThis can be rewritten to express the units of $K_d$ as:\n$$\n[K_d] = \\frac{[\\tau(t)]}{\\left[\\frac{de(t)}{dt}\\right]}\n$$\nThe problem statement provides the units for each variable:\n- The unit of torque $\\tau(t)$ is Newton-meters: $[\\tau(t)] = \\text{N} \\cdot \\text{m}$.\n- The unit of error $e(t)$ is radians: $[e(t)] = \\text{rad}$.\n- The unit of time $t$ is seconds: $[t] = \\text{s}$.\n\nFirst, we determine the units of the derivative of the error with respect to time, $\\frac{de(t)}{dt}$. This represents the rate of change of error.\n$$\n\\left[\\frac{de(t)}{dt}\\right] = \\frac{[e(t)]}{[t]} = \\frac{\\text{rad}}{\\text{s}}\n$$\nNow, we can substitute the known units back into the expression for $[K_d]$:\n$$\n[K_d] = \\frac{[\\tau(t)]}{\\left[\\frac{de(t)}{dt}\\right]} = \\frac{\\text{N} \\cdot \\text{m}}{\\frac{\\text{rad}}{\\text{s}}}\n$$\nTo simplify this compound fraction, we multiply the numerator by the reciprocal of the denominator:\n$$\n[K_d] = (\\text{N} \\cdot \\text{m}) \\cdot \\left(\\frac{\\text{s}}{\\text{rad}}\\right) = \\frac{\\text{N} \\cdot \\text{m} \\cdot \\text{s}}{\\text{rad}}\n$$\nThus, the units for the derivative gain $K_d$ are Newton-meter-seconds per radian.\n\nComparing this result with the given options:\nA. $\\frac{\\text{N} \\cdot \\text{m}}{\\text{rad}}$ corresponds to the units of the proportional gain $K_p$, as $[\\tau] = [K_p][e]$.\nB. $\\frac{\\text{N} \\cdot \\text{m} \\cdot \\text{s}}{\\text{rad}}$ matches our derived units for $K_d$.\nC. $\\frac{\\text{N} \\cdot \\text{m}}{\\text{rad} \\cdot \\text{s}}$ incorrectly divides by seconds.\nD. $\\frac{\\text{N} \\cdot \\text{m} \\cdot \\text{rad}}{\\text{s}}$ incorrectly places the radian unit in the numerator.\nE. $\\frac{\\text{N}}{\\text{rad} \\cdot \\text{s}}$ omits the meter unit from torque.\n\nThe correct option is B.", "answer": "$$\\boxed{B}$$", "id": "1569208"}, {"introduction": "With an understanding of the individual components, the next step is to analyze how they behave together as a system. This practice involves deriving the closed-loop transfer function for a plant under PD control, a core skill in control theory. This process reveals precisely how the proportional ($K_p$) and derivative ($K_d$) gains modify the system's overall dynamics, influencing its stability and transient response. [@problem_id:1569267]", "problem": "A control system is designed to regulate a specific physical process. The process itself, referred to as the plant, can be modeled by a first-order linear time-invariant transfer function, $G(s)$. This transfer function relates the Laplace transform of the plant's output, $Y(s)$, to the Laplace transform of its input control signal, $U(s)$, as follows:\n$$G(s) = \\frac{Y(s)}{U(s)} = \\frac{K}{s+a}$$\nwhere $K$ is the static gain of the plant and $a$ is a positive real constant related to the plant's time constant.\n\nTo regulate the plant's output, a Proportional-Derivative (PD) controller is implemented. The controller's output, $U(s)$, is determined by the error signal, $E(s)$, according to the transfer function:\n$$C(s) = \\frac{U(s)}{E(s)} = K_p + K_d s$$\nwhere $K_p$ is the proportional gain and $K_d$ is the derivative gain.\n\nThe controller and the plant are connected in a standard unity negative feedback configuration, where the error signal is defined as the difference between the reference setpoint, $R(s)$, and the plant's output, $Y(s)$, i.e., $E(s) = R(s) - Y(s)$.\n\nYour task is to derive the overall closed-loop transfer function, $T(s) = \\frac{Y(s)}{R(s)}$, for this system. Express your final answer as a single rational function in terms of the parameters $s, K, a, K_p,$ and $K_d$.", "solution": "In a unity negative feedback loop, the key relationships between the reference $R(s)$, error $E(s)$, control signal $U(s)$, and output $Y(s)$ are:\n$$E(s) = R(s) - Y(s)$$\n$$U(s) = C(s)E(s)$$\n$$Y(s) = G(s)U(s)$$\nCombining these, we get $Y(s) = G(s)C(s)E(s) = G(s)C(s)(R(s) - Y(s))$.\nOur goal is to find the closed-loop transfer function $T(s) = \\frac{Y(s)}{R(s)}$. We start by rearranging the combined equation to solve for $Y(s)$:\n$$Y(s) = G(s)C(s)R(s) - G(s)C(s)Y(s)$$\n$$Y(s) + G(s)C(s)Y(s) = G(s)C(s)R(s)$$\n$$Y(s)(1 + G(s)C(s)) = G(s)C(s)R(s)$$\n$$T(s) = \\frac{Y(s)}{R(s)} = \\frac{G(s)C(s)}{1 + G(s)C(s)}$$\nNow, substitute the given expressions for $G(s) = \\frac{K}{s+a}$ and $C(s) = K_p + K_d s$:\n$$T(s) = \\frac{\\frac{K}{s+a}(K_p + K_d s)}{1 + \\frac{K}{s+a}(K_p + K_d s)}$$\nTo simplify this complex fraction, multiply the numerator and denominator by $(s+a)$:\n$$T(s) = \\frac{K(K_p + K_d s)}{(s+a) + K(K_p + K_d s)}$$\nExpand the terms and group them by powers of $s$:\n$$T(s) = \\frac{K K_p + K K_d s}{s+a + K K_p + K K_d s}$$\n$$T(s) = \\frac{K K_d s + K K_p}{(1 + K K_d)s + (a + K K_p)}$$\nThis is the required closed-loop transfer function.", "answer": "$$\\boxed{\\frac{K K_d s + K K_p}{(1 + K K_d)s + (a + K K_p)}}$$", "id": "1569267"}, {"introduction": "Moving from pure theory to practical implementation introduces new challenges, especially when implementing continuous-time controllers on digital hardware. This problem explores a major real-world drawback of derivative control: its sensitivity to measurement noise. By calculating the controller output generated purely from high-frequency noise, you will gain a crucial understanding of why derivative filtering is often necessary in practical applications. [@problem_id:1569255]", "problem": "A Proportional-Derivative (PD) controller is being implemented on a digital microcontroller to regulate a physical process. The continuous-time control law is given by $u(t) = K_p e(t) + K_d \\frac{de(t)}{dt}$, where $e(t)$ is the error signal and $u(t)$ is the controller output. The microcontroller samples the error signal at a fixed sampling time $T_s$, generating a discrete sequence $e[k] = e(kT_s)$.\n\nTo implement the derivative term, a first-order backward finite difference approximation is used:\n$$ \\frac{de}{dt}\\bigg|_{t=kT_s} \\approx \\frac{e[k] - e[k-1]}{T_s} $$\n\nThe measurement of the error signal is corrupted by high-frequency noise. For this analysis, assume the true error signal is zero, and the measured error, $e_m(t)$, consists purely of a sinusoidal noise component given by $n(t) = A \\sin(\\omega_n t)$.\n\nGiven the following parameters:\n- Derivative gain, $K_d = 0.500 \\text{ V}\\cdot\\text{s/rad}$\n- Sampling time, $T_s = 10.0 \\text{ ms}$\n- Noise amplitude, $A = 0.020 \\text{ rad}$\n- Noise angular frequency, $\\omega_n = 400 \\text{ rad/s}$\n\nCalculate the maximum possible magnitude of the control output from the derivative term alone, produced exclusively by this measurement noise. Express your answer in volts (V), rounded to three significant figures.", "solution": "The problem asks for the maximum magnitude of the output from the derivative part of the controller, which is subjected to a noisy input signal. The continuous derivative action is $u_d(t) = K_d \\frac{de(t)}{dt}$.\n\nIn the digital implementation, this is approximated using a backward finite difference. The output of the derivative term at the k-th time step, $u_d[k]$, is given by:\n$$ u_d[k] = K_d \\left( \\frac{e_m[k] - e_m[k-1]}{T_s} \\right) $$\nwhere $e_m[k]$ is the measured error at time $t = kT_s$.\n\nThe problem states that the true error is zero, so the measured error is only the noise component: $e_m(t) = n(t) = A \\sin(\\omega_n t)$.\nThe sampled noise signal is therefore:\n$$ e_m[k] = A \\sin(\\omega_n k T_s) $$\nAnd the previous sample is:\n$$ e_m[k-1] = A \\sin(\\omega_n (k-1) T_s) $$\n\nSubstituting these into the expression for $u_d[k]$ gives the output due to noise:\n$$ u_d[k] = \\frac{K_d A}{T_s} \\left[ \\sin(\\omega_n k T_s) - \\sin(\\omega_n (k-1) T_s) \\right] $$\n\nTo find the maximum magnitude, we can simplify the term in the brackets using the trigonometric sum-to-product identity:\n$$ \\sin(X) - \\sin(Y) = 2 \\cos\\left(\\frac{X+Y}{2}\\right) \\sin\\left(\\frac{X-Y}{2}\\right) $$\nLet $X = \\omega_n k T_s$ and $Y = \\omega_n (k-1) T_s$. Then:\n$$ \\frac{X+Y}{2} = \\frac{\\omega_n k T_s + \\omega_n k T_s - \\omega_n T_s}{2} = \\omega_n T_s \\left(k - \\frac{1}{2}\\right) $$\n$$ \\frac{X-Y}{2} = \\frac{\\omega_n k T_s - (\\omega_n k T_s - \\omega_n T_s)}{2} = \\frac{\\omega_n T_s}{2} $$\n\nSubstituting this back into the expression for $u_d[k]$:\n$$ u_d[k] = \\frac{K_d A}{T_s} \\left[ 2 \\cos\\left(\\omega_n T_s \\left(k - \\frac{1}{2}\\right)\\right) \\sin\\left(\\frac{\\omega_n T_s}{2}\\right) \\right] $$\n$$ u_d[k] = \\frac{2 K_d A}{T_s} \\sin\\left(\\frac{\\omega_n T_s}{2}\\right) \\cos\\left(\\omega_n T_s \\left(k - \\frac{1}{2}\\right)\\right) $$\n\nTo find the maximum magnitude of $u_d[k]$, we need to find the maximum absolute value of this expression. The term $\\cos\\left(\\omega_n T_s \\left(k - \\frac{1}{2}\\right)\\right)$ varies with the time step $k$, and its maximum magnitude is 1. All other terms are constants. Therefore, the maximum magnitude of the derivative output is:\n$$ |u_d|_{max} = \\left| \\frac{2 K_d A}{T_s} \\sin\\left(\\frac{\\omega_n T_s}{2}\\right) \\right| $$\n\nNow, we substitute the given numerical values:\n- $K_d = 0.500 \\text{ V}\\cdot\\text{s/rad}$\n- $T_s = 10.0 \\text{ ms} = 0.0100 \\text{ s}$\n- $A = 0.020 \\text{ rad}$\n- $\\omega_n = 400 \\text{ rad/s}$\n\nFirst, calculate the argument of the sine function:\n$$ \\frac{\\omega_n T_s}{2} = \\frac{(400 \\text{ rad/s}) (0.0100 \\text{ s})}{2} = \\frac{4.00}{2} = 2.00 \\text{ rad} $$\n\nNow, substitute this and the other values into the expression for the maximum magnitude:\n$$ |u_d|_{max} = \\left| \\frac{2 (0.500 \\text{ V}\\cdot\\text{s/rad}) (0.020 \\text{ rad})}{0.0100 \\text{ s}} \\sin(2.00 \\text{ rad}) \\right| $$\n$$ |u_d|_{max} = \\left| \\frac{0.020}{0.0100} \\text{ V} \\cdot \\sin(2.00) \\right| $$\n$$ |u_d|_{max} = |2.00 \\cdot \\sin(2.00)| \\text{ V} $$\n\nUsing a calculator for $\\sin(2.00 \\text{ rad})$:\n$$ \\sin(2.00) \\approx 0.909297 $$\n$$ |u_d|_{max} \\approx |2.00 \\times 0.909297| \\text{ V} $$\n$$ |u_d|_{max} \\approx 1.81859 \\text{ V} $$\n\nThe problem asks for the answer to be rounded to three significant figures.\n$$ |u_d|_{max} \\approx 1.82 \\text{ V} $$", "answer": "$$\\boxed{1.82}$$", "id": "1569255"}]}