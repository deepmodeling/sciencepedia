{"hands_on_practices": [{"introduction": "Many physical systems, particularly in fluid dynamics, exhibit nonlinear behavior. For control design, it is often essential to approximate these systems with linear models that are valid around a specific operating point. This practice [@problem_id:1593233] provides a fundamental exercise in this technique, where you will linearize the dynamics of a tank with an outflow governed by the nonlinear relationship $q_{out} = k\\sqrt{h(t)}$. By doing so, you will derive key parameters like the system's time constant, which is crucial for predicting its response to small disturbances.", "problem": "A vertical cylindrical tank with a constant internal cross-sectional area $A$ is used to store a liquid. The liquid is supplied to the tank at a volumetric flow rate of $q_{in}(t)$ and exits through an orifice at its base. The outflow rate, $q_{out}(t)$, is proportional to the square root of the liquid height $h(t)$ in the tank, given by the relationship $q_{out}(t) = k\\sqrt{h(t)}$, where $k$ is a constant determined by the orifice characteristics.\n\nInitially, the system is in a steady state, with a constant inflow rate $Q_0$ that results in a constant liquid height of $H_0$. For small variations around this operating point, the dynamic relationship between the deviation in inflow, $\\delta q_{in}(t) = q_{in}(t) - Q_0$, and the deviation in height, $\\delta h(t) = h(t) - H_0$, can be approximated by a first-order linear ordinary differential equation of the form:\n\n$$ \\tau \\frac{d(\\delta h)}{dt} + \\delta h = R \\cdot \\delta q_{in} $$\n\nDetermine the time constant, $\\tau$, of this linearized system. Express your answer as a closed-form analytic expression in terms of the parameters $A$, $k$, and the nominal operating height $H_0$.", "solution": "Apply conservation of volume in the tank. With cross-sectional area $A$, height $h(t)$, inflow $q_{in}(t)$, and outflow $q_{out}(t)=k\\sqrt{h(t)}$, the dynamic balance is\n$$\nA\\frac{dh}{dt}=q_{in}(t)-q_{out}(t)=q_{in}(t)-k\\sqrt{h(t)}.\n$$\nAt the steady operating point $(Q_{0},H_{0})$, the steady-state condition is\n$$\nQ_{0}-k\\sqrt{H_{0}}=0 \\quad \\Longrightarrow \\quad Q_{0}=k\\sqrt{H_{0}}.\n$$\nIntroduce small deviations $\\delta h(t)=h(t)-H_{0}$ and $\\delta q_{in}(t)=q_{in}(t)-Q_{0}$. Substituting $h=H_{0}+\\delta h$ and $q_{in}=Q_{0}+\\delta q_{in}$ into the balance and subtracting the steady-state equation gives\n$$\nA\\frac{d(\\delta h)}{dt}=\\delta q_{in}(t)-\\Big(k\\sqrt{H_{0}+\\delta h}-k\\sqrt{H_{0}}\\Big).\n$$\nLinearize the nonlinear outflow term about $H_{0}$ using a first-order Taylor expansion:\n$$\n\\sqrt{H_{0}+\\delta h}\\approx \\sqrt{H_{0}}+\\frac{1}{2\\sqrt{H_{0}}}\\,\\delta h,\n$$\nwhich yields\n$$\nk\\sqrt{H_{0}+\\delta h}\\approx k\\sqrt{H_{0}}+\\frac{k}{2\\sqrt{H_{0}}}\\,\\delta h.\n$$\nSubstitute this into the deviation balance:\n$$\nA\\frac{d(\\delta h)}{dt}=\\delta q_{in}(t)-\\frac{k}{2\\sqrt{H_{0}}}\\,\\delta h.\n$$\nRearrange into the standard first-order form by dividing through by $\\frac{k}{2\\sqrt{H_{0}}}$:\n$$\n\\underbrace{\\frac{A}{\\frac{k}{2\\sqrt{H_{0}}}}}_{\\tau}\\frac{d(\\delta h)}{dt}+\\delta h=\\underbrace{\\frac{1}{\\frac{k}{2\\sqrt{H_{0}}}}}_{R}\\,\\delta q_{in}(t).\n$$\nTherefore, the time constant is\n$$\n\\tau=\\frac{A}{\\frac{k}{2\\sqrt{H_{0}}}}=\\frac{2A\\sqrt{H_{0}}}{k}.\n$$", "answer": "$$\\boxed{\\frac{2A\\sqrt{H_{0}}}{k}}$$", "id": "1593233"}, {"introduction": "While many processes can be approximated by first-order dynamics, others exhibit oscillatory behavior characteristic of second-order systems. Understanding these dynamics is key to analyzing vibrations, resonance, and damping in both mechanical and fluid systems. This exercise [@problem_id:1593171] uses the familiar U-tube manometer as an intuitive physical model to explore these concepts. You will apply Newton's second law to a fluid column to derive the damping ratio $\\zeta$ and natural frequency $\\omega_n$, parameters that define the nature of the system's transient response.", "problem": "A U-shaped glass tube has a uniform internal cross-sectional area $A$. It is partially filled with an incompressible, viscous fluid of constant density $\\rho$. The total length of the fluid column within the tube is $L$. Under the influence of gravity, with acceleration due to gravity denoted by $g$, the fluid is initially at rest with its surfaces in both arms at the same height.\n\nThe fluid is then momentarily disturbed from its equilibrium, causing the fluid level in one arm to be displaced by a vertical distance $h(t)$ from the equilibrium position. Consequently, the fluid level in the other arm is displaced by $-h(t)$. The subsequent motion of the fluid is opposed by a drag force, which for the entire fluid column can be modeled as $F_{drag} = -\\beta v_{level}$, where $v_{level}$ is the instantaneous velocity of the fluid surface in one arm and $\\beta$ is a positive damping coefficient.\n\nThe equation of motion for this system can be expressed in the standard form for a second-order linear time-invariant system:\n$$\n\\frac{d^2h}{dt^2} + 2\\zeta\\omega_n \\frac{dh}{dt} + \\omega_n^2 h = 0\n$$\nwhere $\\omega_n$ is the natural frequency of oscillation and $\\zeta$ is the dimensionless damping ratio.\n\nDetermine the damping ratio $\\zeta$ for this system as an analytic expression in terms of $\\rho$, $A$, $L$, $g$, and $\\beta$.", "solution": "Let $h(t)$ be the displacement of the left fluid surface; the right surface is displaced by $-h(t)$. Because the tube has uniform cross-sectional area $A$ and the fluid is incompressible, the volumetric flow rate is uniform along the tube and the velocity magnitude is the same everywhere. Denote this common velocity by $u(t)$. The surface velocity in the left arm equals the fluid velocity there, so\n$$\nu(t)=\\frac{dh}{dt}.\n$$\n\nThe total mass of the moving fluid column is\n$$\nm=\\rho A L.\n$$\n\nThe hydrostatic pressure difference between the two arms due to the level difference $2h$ is\n$$\n\\Delta p=2\\rho g h.\n$$\nThis produces a net restoring force (opposing the increase of $h$) of magnitude\n$$\nF_{g}=-A\\,\\Delta p=-2\\rho g A\\,h.\n$$\n\nThe viscous drag for the entire column is modeled as\n$$\nF_{\\text{drag}}=-\\beta\\,u=-\\beta\\,\\frac{dh}{dt}.\n$$\n\nApplying Newtonâ€™s second law to the generalized coordinate $h$ gives\n$$\nm\\,\\frac{d^{2}h}{dt^{2}}=F_{\\text{drag}}+F_{g}=-\\beta\\,\\frac{dh}{dt}-2\\rho g A\\,h,\n$$\nhence\n$$\n\\frac{d^{2}h}{dt^{2}}+\\frac{\\beta}{\\rho A L}\\,\\frac{dh}{dt}+\\frac{2g}{L}\\,h=0.\n$$\n\nComparing with the standard form\n$$\n\\frac{d^{2}h}{dt^{2}}+2\\zeta\\omega_{n}\\frac{dh}{dt}+\\omega_{n}^{2}h=0,\n$$\nwe identify\n$$\n\\omega_{n}^{2}=\\frac{2g}{L},\\qquad 2\\zeta\\omega_{n}=\\frac{\\beta}{\\rho A L}.\n$$\nTherefore,\n$$\n\\zeta=\\frac{1}{2\\omega_{n}}\\frac{\\beta}{\\rho A L}=\\frac{\\beta}{2\\rho A L\\sqrt{\\frac{2g}{L}}}=\\frac{\\beta}{2\\rho A\\sqrt{2gL}}.\n$$", "answer": "$$\\boxed{\\frac{\\beta}{2\\rho A\\sqrt{2gL}}}$$", "id": "1593171"}, {"introduction": "Our previous examples treated systems as single 'lumped' entities, where one variable could describe the state. However, in many engineering systems, properties like temperature vary continuously through space. This problem [@problem_id:1593176] introduces a powerful technique called spatial discretization, or the finite difference method, to model such a distributed-parameter system. By approximating a heated rod with a series of discrete lumps, you will transform a problem governed by a partial differential equation into a manageable multi-state linear system, a cornerstone of modern control modeling suitable for state-space analysis.", "problem": "A uniform metal rod of length $L$, cross-sectional area $A$, thermal conductivity $k$, density $\\rho$, and specific heat capacity $c$, is used as a thermal management component for a high-power electronic system. The rod is oriented along the x-axis from $x=0$ to $x=L$. One end, at $x=0$, receives a time-varying heat flow rate, $Q_{in}(t)$, from the electronic component. The other end, at $x=L$, is exposed to a coolant held at a constant ambient temperature $T_{amb}$. Heat is lost from this end surface via convection, which is characterized by a heat transfer coefficient $h$. The cylindrical surface of the rod is assumed to be perfectly insulated, so heat transfer occurs only along the rod's length.\n\nTo create a dynamic model suitable for control system design, the rod is modeled using a lumped-parameter approximation by dividing it into three segments of equal length. The temperature of the first segment (spanning $x=0$ to $x=L/3$) is represented by a single temperature $T_1(t)$, the second segment (from $x=L/3$ to $x=2L/3$) by $T_2(t)$, and the third segment (from $x=2L/3$ to $x=L$) by $T_3(t)$.\n\nFor the purpose of this model, the conductive heat transfer rate between any two adjacent segments $i$ and $j$ is approximated by $Q_{cond} = kA\\frac{T_i - T_j}{\\Delta x}$, where $\\Delta x$ is the length of a segment. The convective heat loss from the end face at $x=L$ is determined using the temperature of the third segment, $T_3(t)$.\n\nThe dynamics of this system can be described by a linear time-invariant state-space model in the standard form $\\dot{\\mathbf{x}} = A\\mathbf{x} + B u$. The state vector $\\mathbf{x}(t)$ is defined by the temperature deviations of each segment from the ambient temperature: $\\mathbf{x}(t) = [\\theta_1(t), \\theta_2(t), \\theta_3(t)]^T$, where $\\theta_i(t) = T_i(t) - T_{amb}$. The input to the system is the controlled heat flow rate, $u(t) = Q_{in}(t)$.\n\nDetermine the augmented matrix $[A \\ B]$ for this system. Express your answer as a single matrix in terms of the given physical parameters: $L, A, k, \\rho, c, h$.", "solution": "Let the segment length be $\\Delta x=\\frac{L}{3}$ and the thermal capacitance of each lump be $C=\\rho c A \\Delta x=\\frac{\\rho c A L}{3}$. Using energy conservation for each segment (with the cylindrical surface insulated), the conductive heat between adjacent segments $i$ and $j$ is $Q_{cond}=kA\\frac{T_{i}-T_{j}}{\\Delta x}$, and the convective loss at $x=L$ is $Q_{conv}=hA\\left(T_{3}-T_{amb}\\right)$.\n\nWriting energy balances:\n- Segment 1: $C \\frac{dT_{1}}{dt}=u-kA\\frac{T_{1}-T_{2}}{\\Delta x}$.\n- Segment 2: $C \\frac{dT_{2}}{dt}=kA\\frac{T_{1}-T_{2}}{\\Delta x}-kA\\frac{T_{2}-T_{3}}{\\Delta x}$.\n- Segment 3: $C \\frac{dT_{3}}{dt}=kA\\frac{T_{2}-T_{3}}{\\Delta x}-hA\\left(T_{3}-T_{amb}\\right)$.\n\nDefine state deviations $\\theta_{i}=T_{i}-T_{amb}$ and input $u=Q_{in}(t)$. Using $T_{i}-T_{j}=\\theta_{i}-\\theta_{j}$ and $T_{3}-T_{amb}=\\theta_{3}$:\n$$\n\\begin{aligned}\nC \\dot{\\theta}_{1}&=u-kA\\frac{\\theta_{1}-\\theta_{2}}{\\Delta x},\\\\\nC \\dot{\\theta}_{2}&=kA\\frac{\\theta_{1}-\\theta_{2}}{\\Delta x}-kA\\frac{\\theta_{2}-\\theta_{3}}{\\Delta x},\\\\\nC \\dot{\\theta}_{3}&=kA\\frac{\\theta_{2}-\\theta_{3}}{\\Delta x}-hA\\,\\theta_{3}.\n\\end{aligned}\n$$\nDivide by $C$ and simplify the coefficients using $\\Delta x=\\frac{L}{3}$:\n$$\n\\frac{kA}{C\\,\\Delta x}=\\frac{kA}{\\left(\\frac{\\rho c A L}{3}\\right)\\left(\\frac{L}{3}\\right)}=\\frac{9k}{\\rho c L^{2}},\\qquad\n\\frac{hA}{C}=\\frac{hA}{\\frac{\\rho c A L}{3}}=\\frac{3h}{\\rho c L},\\qquad\n\\frac{1}{C}=\\frac{3}{\\rho c A L}.\n$$\nHence, in state-space form $\\dot{\\mathbf{x}}=A\\mathbf{x}+Bu$ with $\\mathbf{x}=[\\theta_{1},\\theta_{2},\\theta_{3}]^{T}$ and $u=Q_{in}(t)$, the matrices are\n$$\nA=\\begin{pmatrix}\n-\\frac{9k}{\\rho c L^{2}} & \\frac{9k}{\\rho c L^{2}} & 0\\\\[4pt]\n\\frac{9k}{\\rho c L^{2}} & -\\frac{18k}{\\rho c L^{2}} & \\frac{9k}{\\rho c L^{2}}\\\\[4pt]\n0 & \\frac{9k}{\\rho c L^{2}} & -\\frac{9k}{\\rho c L^{2}}-\\frac{3h}{\\rho c L}\n\\end{pmatrix},\\qquad\nB=\\begin{pmatrix}\n\\frac{3}{\\rho c A L}\\\\[4pt]\n0\\\\[4pt]\n0\n\\end{pmatrix}.\n$$\nTherefore, the augmented matrix $[A\\ B]$ is the $3\\times 4$ matrix obtained by appending $B$ as the fourth column to $A$.", "answer": "$$\\boxed{\\begin{pmatrix}\n-\\frac{9k}{\\rho c L^{2}} & \\frac{9k}{\\rho c L^{2}} & 0 & \\frac{3}{\\rho c A L}\\\\[4pt]\n\\frac{9k}{\\rho c L^{2}} & -\\frac{18k}{\\rho c L^{2}} & \\frac{9k}{\\rho c L^{2}} & 0\\\\[4pt]\n0 & \\frac{9k}{\\rho c L^{2}} & -\\frac{9k}{\\rho c L^{2}}-\\frac{3h}{\\rho c L} & 0\n\\end{pmatrix}}$$", "id": "1593176"}]}