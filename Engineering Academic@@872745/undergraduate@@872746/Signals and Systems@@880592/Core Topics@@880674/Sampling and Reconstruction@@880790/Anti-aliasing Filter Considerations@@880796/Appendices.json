{"hands_on_practices": [{"introduction": "The Nyquist-Shannon sampling theorem provides a theoretical lower bound for the sampling rate, $f_s \\ge 2f_{max}$. However, this assumes an ideal \"brick-wall\" filter that perfectly passes all frequencies up to $f_{max}$ and completely blocks everything above. This exercise [@problem_id:1698371] brings us into the real world, where filters have a finite transition band between the passband and stopband. You will determine the practical minimum sampling frequency required to ensure that signals in this transition region do not alias back and corrupt the desired signal band.", "problem": "A team of engineers is designing a Software-Defined Radio (SDR) receiver to capture and digitize a specific band of the radio spectrum. The first stage of the receiver is a practical analog anti-aliasing filter, which is designed to condition the incoming signal before it reaches the Analog-to-Digital Converter (ADC).\n\nThe filter has the following characteristics:\n- It passes all signal frequencies from DC up to a passband edge frequency of $f_p = 15.0 \\text{ MHz}$ with negligible attenuation. This range $[0, f_p]$ is considered the desired signal band.\n- It provides significant attenuation for all frequencies above a stopband edge frequency of $f_{stop} = 18.5 \\text{ MHz}$.\n- The frequency range between $f_p$ and $f_{stop}$ is the filter's transition band, where the filter response rolls off and attenuation increases with frequency.\n\nTo prevent irreversible distortion of the signal, the sampling frequency of the ADC must be chosen carefully. Determine the absolute minimum sampling frequency, $f_{sample}$, that guarantees no frequency component from the transition band (or above) can alias down into the desired signal band $[0, f_p]$.\n\nExpress your answer in MHz, rounded to three significant figures.", "solution": "Let the sampling frequency be denoted by $f_{\\text{sample}}$ and the analog frequency by $f$. Under uniform sampling, spectral replicas occur at integer multiples of $f_{\\text{sample}}$, and any analog frequency $f$ can fold into the discrete-time baseband according to\n$$\nf_{\\text{alias}}=\\min_{n\\in\\mathbb{Z}}|f-n\\,f_{\\text{sample}}|.\n$$\nTo preserve the desired band $[0,f_{p}]$ without aliasing:\n1) The desired band itself must lie below the Nyquist frequency, which imposes\n$$\nf_{\\text{sample}} \\geq 2 f_{p}.\n$$\n2) No component from the transition band $[f_{p},f_{stop}]$ (or above) may alias into $[0,f_{p}]$. The portion of the spectrum in $[f_{\\text{sample}}/2,\\,f_{\\text{sample}}]$ mirrors into $[0,\\,f_{\\text{sample}}/2]$ with mapping $f_{\\text{alias}}=f_{\\text{sample}}-f$. Therefore, the analog band that folds into $[0,f_{p}]$ is exactly\n$$\n[f_{\\text{sample}}-f_{p},\\,f_{\\text{sample}}].\n$$\nTo ensure that no frequency from the transition band can fold into $[0,f_{p}]$, this entire aliasing interval must lie at or above the start of the stopband, i.e.,\n$$\nf_{\\text{sample}}-f_{p} \\geq f_{stop}\\quad\\Longrightarrow\\quad f_{\\text{sample}} \\geq f_{p}+f_{stop}.\n$$\nCombining both conditions gives\n$$\nf_{\\text{sample},\\min}=\\max\\{2f_{p},\\,f_{p}+f_{stop}\\}.\n$$\nWith $f_{p}=15.0\\ \\text{MHz}$ and $f_{stop}=18.5\\ \\text{MHz}$,\n$$\n2f_{p}=30.0\\ \\text{MHz},\\qquad f_{p}+f_{stop}=33.5\\ \\text{MHz},\n$$\nhence\n$$\nf_{\\text{sample},\\min}=33.5\\ \\text{MHz}.\n$$\nRounded to three significant figures, this is $33.5$ in MHz.", "answer": "$$\\boxed{33.5}$$", "id": "1698371"}, {"introduction": "Building on the fundamental relationship between sampling rate and filter roll-off, this practice [@problem_id:1698335] examines the effect of anti-aliasing on a complex signal rich with harmonics. By analyzing a periodic square wave, you will need to combine your understanding of Fourier series, filter transfer functions, and the aliasing mechanism. This problem challenges you to predict precisely which of the signal's higher-frequency components are strong enough post-filtering to cause significant aliasing artifacts.", "problem": "In a digital signal processing system, an analog signal must be sampled. To prevent aliasing, an anti-aliasing filter is applied before the sampler. Consider a symmetric periodic square wave signal with a fundamental frequency of $f_0 = 1.0$ kHz. This signal is passed through a second-order analog Butterworth low-pass filter with a cutoff frequency of $f_c = 4.0$ kHz. The filtered signal is then sampled at a rate of $f_s = 10.0$ kHz.\n\nA harmonic of the original square wave is considered to cause significant aliasing if it satisfies two conditions:\n1.  Its frequency is greater than the Nyquist frequency determined by the sampling rate.\n2.  After being attenuated by the filter, its amplitude is greater than 1% of the filtered fundamental's amplitude.\n\nRecall that a symmetric periodic square wave contains only odd harmonics (i.e., its frequency components are at $k f_0$ for $k=1, 3, 5, \\dots$). Determine the set of harmonic numbers, $k$, that cause significant aliasing according to the criteria above.\n\nWhich of the following represents the complete set of such harmonic numbers?\n\nA. $\\{7\\}$\n\nB. $\\{7, 9\\}$\n\nC. $\\{7, 9, 11\\}$\n\nD. $\\{7, 9, 11, 13\\}$\n\nE. $\\{5, 7, 9\\}$", "solution": "The Nyquist frequency is $f_{N} = \\frac{f_{s}}{2} = 5.0\\ \\text{kHz}$. Since the square wave has only odd harmonics at $k f_{0}$ with $k \\in \\{1,3,5,\\dots\\}$ and $f_{0} = 1.0\\ \\text{kHz}$, condition 1 requires $k f_{0} > f_{N}$, i.e., $k > 5$. Thus the candidates are $k \\in \\{7,9,11,13,\\dots\\}$.\n\nFor a symmetric square wave, the magnitude of the $k$-th odd harmonic before filtering is proportional to $\\frac{1}{k}$ times the fundamental. Let $A_{k}^{(0)}$ denote the unfiltered $k$-th harmonic amplitude and $A_{1}^{(0)}$ the unfiltered fundamental amplitude; then $\\frac{A_{k}^{(0)}}{A_{1}^{(0)}} = \\frac{1}{k}$.\n\nA second-order Butterworth low-pass filter has magnitude response\n$$\n|H(f)| = \\frac{1}{\\sqrt{1 + \\left(\\frac{f}{f_{c}}\\right)^{4}}}.\n$$\nTherefore, the ratio of the filtered $k$-th harmonic amplitude to the filtered fundamental amplitude is\n$$\nR_{k} \\equiv \\frac{A_{k}^{(0)} |H(k f_{0})|}{A_{1}^{(0)} |H(f_{0})|} = \\frac{1}{k}\\,\\frac{|H(k f_{0})|}{|H(f_{0})|} = \\frac{1}{k}\\,\\sqrt{\\frac{1 + \\left(\\frac{f_{0}}{f_{c}}\\right)^{4}}{1 + \\left(\\frac{k f_{0}}{f_{c}}\\right)^{4}}}.\n$$\nCondition 2 requires $R_{k} > 0.01$. With $f_{0} = 1.0\\ \\text{kHz}$ and $f_{c} = 4.0\\ \\text{kHz}$, we have $\\frac{f_{0}}{f_{c}} = \\frac{1}{4}$ and $\\frac{k f_{0}}{f_{c}} = \\frac{k}{4}$, so\n$$\nR_{k} = \\frac{1}{k}\\,\\sqrt{\\frac{1 + \\left(\\frac{1}{4}\\right)^{4}}{1 + \\left(\\frac{k}{4}\\right)^{4}}} = \\frac{1}{k}\\,\\sqrt{\\frac{1 + \\frac{1}{256}}{1 + \\frac{k^{4}}{256}}} = \\frac{1}{k}\\,\\sqrt{\\frac{\\frac{257}{256}}{1 + \\frac{k^{4}}{256}}}.\n$$\nImposing $R_{k} > 0.01$ and squaring yields\n$$\n\\frac{1}{k^{2}}\\,\\frac{\\frac{257}{256}}{1 + \\frac{k^{4}}{256}} > 0.0001,\n$$\nwhich rearranges to\n$$\n1 + \\frac{k^{4}}{256} < \\frac{\\frac{257}{256}}{(0.01 k)^{2}} = \\frac{257}{256}\\cdot\\frac{10000}{k^{2}} = \\frac{2570000}{256 k^{2}}.\n$$\nMultiplying both sides by $256 k^{2}$ gives the equivalent inequality\n$$\nk^{6} + 256 k^{2} < 2570000.\n$$\nWe test odd $k > 5$:\n\n- $k=7$: $k^{6} = 117649$, $256 k^{2} = 12544$, sum $= 130193 < 2570000$; satisfies.\n- $k=9$: $k^{6} = 531441$, $256 k^{2} = 20736$, sum $= 552177 < 2570000$; satisfies.\n- $k=11$: $k^{6} = 1771561$, $256 k^{2} = 30976$, sum $= 1802537 < 2570000$; satisfies.\n- $k=13$: $k^{6} = 4826809$, $256 k^{2} = 43264$, sum $= 4870073 > 2570000$; fails.\n\nSince the left-hand side $k^{6} + 256 k^{2}$ increases strictly with $k$, all higher odd $k$ will also fail. Thus the harmonics causing significant aliasing are exactly $k \\in \\{7,9,11\\}$, which corresponds to option C.", "answer": "$$\\boxed{C}$$", "id": "1698335"}, {"introduction": "Engineering design is often a balancing act between performance and cost. This final exercise [@problem_id:1698377] elevates the analysis to a system-level optimization problem, introducing a crucial real-world constraint: budget. You will explore the fundamental trade-off between investing in a more complex, higher-order analog filter versus paying for a faster, more expensive digital subsystem. Your task is to find the optimal design point that meets stringent technical specifications while minimizing total system cost, a core skill for any practicing engineer.", "problem": "A company is designing a new Data Acquisition (DAQ) system to monitor a physical process. The analog signal from the sensor is known to be bandlimited, with its maximum frequency content at $f_{max} = 10.0 \\text{ kHz}$. To prevent aliasing, a hardware N-th order Butterworth low-pass filter is placed before the Analog-to-Digital Converter (ADC). The design specifications mandate that the filter's -3 dB cutoff frequency, $f_c$, must be set equal to $f_{max}$. Furthermore, the filter must provide at least $A_{min} = 60 \\text{ dB}$ of attenuation at the Nyquist frequency, $f_s/2$, where $f_s$ is the sampling frequency.\n\nThe total cost of the system is dominated by two components: the analog filter and the digital subsystem (ADC and memory).\n1.  The cost of the Butterworth filter, $C_{filter}$, is directly proportional to its complexity, given by $C_{filter} = K_N \\cdot N$, where $N$ is the integer order of the filter and the cost coefficient is $K_N = \\$150.00$ per order.\n2.  The cost of the digital subsystem, $C_{digital}$, increases with the required sampling rate, given by $C_{digital} = K_s \\cdot f_s$, where the cost coefficient is $K_s = \\$2.00$ per kHz of sampling frequency.\n\nYour task is to determine the optimal filter order, $N_{opt}$, that minimizes the total system cost, $C_{total} = C_{filter} + C_{digital}$. You must also find this minimum cost, $C_{min}$. The filter order $N$ must be a positive integer.\n\nDetermine the optimal integer filter order $N_{opt}$ and the corresponding minimum total system cost $C_{min}$. Express the final cost in dollars, rounded to three significant figures.", "solution": "The squared magnitude response of an $N$-th order Butterworth low-pass filter with cutoff $f_{c}$ is\n$$\n|H(j2\\pi f)|^{2}=\\frac{1}{1+\\left(\\frac{f}{f_{c}}\\right)^{2N}}.\n$$\nThe attenuation in decibels at frequency $f$ is therefore\n$$\nA(f)=10\\log_{10}\\!\\left(1+\\left(\\frac{f}{f_{c}}\\right)^{2N}\\right).\n$$\nWith $f_{c}=f_{\\max}$ and the Nyquist frequency $f_{s}/2$, the attenuation requirement $A(f_{s}/2)\\geq A_{\\min}$ gives\n$$\n10\\log_{10}\\!\\left(1+\\left(\\frac{f_{s}/2}{f_{\\max}}\\right)^{2N}\\right)\\geq A_{\\min}.\n$$\nLet $r\\equiv \\frac{f_{s}/2}{f_{\\max}}$. Then the inequality becomes\n$$\n1+r^{2N}\\geq 10^{A_{\\min}/10}\\quad\\Rightarrow\\quad r\\geq\\left(10^{A_{\\min}/10}-1\\right)^{\\frac{1}{2N}}.\n$$\nFor a given $N$, the minimum sampling frequency that satisfies the constraint is\n$$\nf_{s,\\min}(N)=2f_{\\max}\\left(10^{A_{\\min}/10}-1\\right)^{\\frac{1}{2N}}.\n$$\nThe costs are $C_{\\text{filter}}=K_{N}N$ and $C_{\\text{digital}}=K_{s}f_{s}$. Minimizing total cost for a given $N$ uses $f_{s}=f_{s,\\min}(N)$, yielding\n$$\nC_{\\text{total}}(N)=K_{N}N+K_{s}\\,f_{s,\\min}(N)\n=K_{N}N+K_{s}\\cdot 2f_{\\max}\\left(10^{\\frac{A_{\\min}}{10}}-1\\right)^{\\frac{1}{2N}}.\n$$\nSubstitute the given numerical specifications $K_{N}=150$, $K_{s}=2$ (per kHz), $f_{\\max}=10.0$ kHz, and $A_{\\min}=60$ dB:\n$$\nC_{\\text{total}}(N)=150\\,N+40\\left(10^{6}-1\\right)^{\\frac{1}{2N}}.\n$$\nEvaluate this for positive integers $N$:\n- $N=3$: $C_{\\text{total}}(3)\\approx 150\\cdot 3+40\\cdot 10^{\\frac{3}{3}}=450+400=850$.\n- $N=4$: $C_{\\text{total}}(4)\\approx 150\\cdot 4+40\\cdot 10^{\\frac{3}{4}}=600+40\\cdot 5.623413\\approx 824.93653$.\n- $N=5$: $C_{\\text{total}}(5)\\approx 750+40\\cdot 10^{0.6}\\approx 750+159.2429\\approx 909.2429$.\n\nThe minimum among these occurs at $N=4$. Therefore, $N_{\\text{opt}}=4$, and the corresponding minimum cost is\n$$\nC_{\\min}=150\\cdot 4+40\\left(10^{6}-1\\right)^{\\frac{1}{8}}\\approx 824.93653,\n$$\nwhich, rounded to three significant figures, is $825$ dollars.", "answer": "$$\\boxed{\\begin{pmatrix}4 & 825\\end{pmatrix}}$$", "id": "1698377"}]}