{"hands_on_practices": [{"introduction": "To begin, let's translate a familiar decimal subtraction problem into the language of our digital circuit. This first practice focuses on configuring the adder-subtractor's inputs to perform a specific task, reinforcing the core principle of using the two's complement method. Understanding how to set the data inputs ($A$ and $B$) and the mode control input ($M$) is the foundational skill for operating any arithmetic logic unit [@problem_id:1958663].", "problem": "A 4-bit digital circuit is designed to function as an adder-subtractor for two 4-bit unsigned integers, denoted as `A = A_3A_2A_1A_0` and `B = B_3B_2B_1B_0`. The specific operation is selected by a single-bit control input `M`. When the control input `M` is set to 0, the circuit computes the sum $S = A + B$. When `M` is set to 1, the circuit computes the difference $D = A - B$ by calculating the two's complement of `B` and adding it to `A`.\n\nDetermine the binary values for each of the nine individual input bits (`A_3, A_2, A_1, A_0, B_3, B_2, B_1, B_0`, and `M`) that must be supplied to the circuit to perform the calculation $7 - 5$.\n\nPresent your answer as a single row matrix containing nine binary digits, with the bits ordered from left to right as `A_3, A_2, A_1, A_0, B_3, B_2, B_1, B_0, M`.", "solution": "We use the standard two's-complement adder-subtractor principle: to compute $A-B$ with a single adder, set the mode bit $M=1$, bitwise invert $B$ (denoted $\\overline{B}$), and add $1$ as the carry-in, so that\n$$\nA-B = A + \\overline{B} + 1.\n$$\nA 4-bit unsigned $7$ is represented as $(0111)_{2}$, so with $A=A_{3}A_{2}A_{1}A_{0}$ we have\n$$\nA_{3}=0,\\quad A_{2}=1,\\quad A_{1}=1,\\quad A_{0}=1.\n$$\nA 4-bit unsigned $5$ is represented as $(0101)_{2}$, so with $B=B_{3}B_{2}B_{1}B_{0}$ we have\n$$\nB_{3}=0,\\quad B_{2}=1,\\quad B_{1}=0,\\quad B_{0}=1.\n$$\nTo perform subtraction, set the control input $M=1$.\n\nOptional check of correctness via two's complement addition:\n$$\n\\overline{B} = 1010,\\quad \\overline{B}+1 = 1011,\\quad A + (\\overline{B}+1) = 0111 + 1011 = 10010,\n$$\nwhose lower $4$ bits are $0010$, i.e., $(2)_{10}$, consistent with $7-5=2$.\n\nTherefore, the required input row (ordered as $A_{3},A_{2},A_{1},A_{0},B_{3},B_{2},B_{1},B_{0},M$) is\n$$\n\\begin{pmatrix}\n0 & 1 & 1 & 1 & 0 & 1 & 0 & 1 & 1\n\\end{pmatrix}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix}0 & 1 & 1 & 1 & 0 & 1 & 0 & 1 & 1\\end{pmatrix}}$$", "id": "1958663"}, {"introduction": "Having learned how to set up the circuit, we now peek inside the \"black box\" to see how the calculation unfolds. This exercise requires you to trace the bit-by-bit computation, paying close attention to the carry bits that \"ripple\" from one full-adder stage to the next. By following the flow of data through the hardware, you will gain a concrete understanding of how a series of simple additions accomplishes the complex task of binary subtraction [@problem_id:1907532].", "problem": "A 4-bit adder-subtractor circuit is a fundamental component in a simple Arithmetic Logic Unit (ALU). It is designed to perform either addition or subtraction on two 4-bit binary numbers, $A = A_3A_2A_1A_0$ and $B = B_3B_2B_1B_0$. The operation is controlled by a single mode-select bit, $M$.\n\nThe circuit is constructed using four full-adder stages. For each stage $i$ (from 0 for the Least Significant Bit to 3 for the Most Significant Bit), a full-adder takes three inputs: $A_i$, a second operand bit, and a carry-in bit $C_i$. It produces a sum bit $S_i$ and a carry-out bit $C_{i+1}$.\n\nThe circuit's functionality is as follows:\n- To perform addition ($A+B$), the control bit $M$ is set to 0. In this mode, the bits of $B$ are passed directly to the full-adders, and the initial carry-in to the first stage, $C_0$, is 0.\n- To perform subtraction ($A-B$), the control bit $M$ is set to 1. The circuit calculates the subtraction by finding the 2's complement of $B$ and adding it to $A$. This is implemented in hardware by inverting each bit of $B$ before it enters the adder and setting the initial carry-in to the first stage, $C_0$, to 1.\n\nConsider the case where the circuit is performing the subtraction of $B = 0011$ from $A = 0101$. Determine the 4-bit binary sum $S = S_3S_2S_1S_0$ and the sequence of carry-out bits $C_1C_2C_3C_4$ generated from the full-adder stages 0, 1, 2, and 3, respectively.\n\nWhich of the following options correctly represents the final sum and the sequence of internal carries?\n\nA. Sum $S = 0010$ and Carries $C_{1}C_{2}C_{3}C_{4} = 1011$\n\nB. Sum $S = 0001$ and Carries $C_{1}C_{2}C_{3}C_{4} = 0111$\n\nC. Sum $S = 1001$ and Carries $C_{1}C_{2}C_{3}C_{4} = 1110$\n\nD. Sum $S = 1000$ and Carries $C_{1}C_{2}C_{3}C_{4} = 1110$\n\nE. Sum $S = 0010$ and Carries $C_{1}C_{2}C_{3}C_{4} = 0101$", "solution": "For a 4-bit adder-subtractor using two's complement, the mode bit $M$ controls inversion of $B$ and the initial carry: when performing $A-B$, we set $M=1$, take $B_{i}'=B_{i}\\oplus M=\\overline{B_{i}}$, and $C_{0}=M=1$. Each full-adder stage satisfies\n$$\nS_{i}=A_{i}\\oplus B_{i}'\\oplus C_{i},\\qquad C_{i+1}=A_{i}B_{i}'+A_{i}C_{i}+B_{i}'C_{i}.\n$$\nGiven $A=0101$ with bits $(A_{3},A_{2},A_{1},A_{0})=(0,1,0,1)$ and $B=0011$ with $(B_{3},B_{2},B_{1},B_{0})=(0,0,1,1)$, for subtraction ($M=1$) we have $B'=\\overline{B}=1100$, so $(B_{3}',B_{2}',B_{1}',B_{0}')=(1,1,0,0)$ and $C_{0}=1$.\n\nStage $i=0$:\n$$\nS_{0}=A_{0}\\oplus B_{0}'\\oplus C_{0}=1\\oplus 0\\oplus 1=0,\n$$\n$$\nC_{1}=A_{0}B_{0}'+A_{0}C_{0}+B_{0}'C_{0}=(1)(0)+(1)(1)+(0)(1)=1.\n$$\n\nStage $i=1$:\n$$\nS_{1}=A_{1}\\oplus B_{1}'\\oplus C_{1}=0\\oplus 0\\oplus 1=1,\n$$\n$$\nC_{2}=A_{1}B_{1}'+A_{1}C_{1}+B_{1}'C_{1}=(0)(0)+(0)(1)+(0)(1)=0.\n$$\n\nStage $i=2$:\n$$\nS_{2}=A_{2}\\oplus B_{2}'\\oplus C_{2}=1\\oplus 1\\oplus 0=0,\n$$\n$$\nC_{3}=A_{2}B_{2}'+A_{2}C_{2}+B_{2}'C_{2}=(1)(1)+(1)(0)+(1)(0)=1.\n$$\n\nStage $i=3$:\n$$\nS_{3}=A_{3}\\oplus B_{3}'\\oplus C_{3}=0\\oplus 1\\oplus 1=0,\n$$\n$$\nC_{4}=A_{3}B_{3}'+A_{3}C_{3}+B_{3}'C_{3}=(0)(1)+(0)(1)+(1)(1)=1.\n$$\n\nThus the sum is $S_{3}S_{2}S_{1}S_{0}=0010$ and the carry sequence is $C_{1}C_{2}C_{3}C_{4}=1011$, which corresponds to option A.", "answer": "$$\\boxed{A}$$", "id": "1907532"}, {"introduction": "A correct calculation is only useful if its result is valid. This final practice addresses a critical limitation of all fixed-width arithmetic circuits: overflow. You will analyze the outcome of an operation from two different perspectives—unsigned and signed two's complement—to see how the same binary result can be valid under one interpretation but invalid under another. Mastering the detection of overflow is essential for designing reliable digital systems that handle arithmetic correctly [@problem_id:1907528].", "problem": "An engineer is designing a simple 4-bit Arithmetic Logic Unit (ALU). The ALU takes two 4-bit binary inputs, $A$ and $B$, and a 1-bit control signal, $S$. The ALU performs one of two operations based on the value of $S$:\n- If $S=0$, the ALU computes the sum $F = A + B$.\n- If $S=1$, the ALU computes the difference $F = A - B$. The subtraction is implemented by adding the two's complement of $B$ to $A$.\n\nThe circuit produces a 4-bit result, $F$. An overflow occurs if the true mathematical result of the operation cannot be represented within the 4-bit output, for a given number representation. For unsigned numbers, the valid range is $[0, 15]$. For signed two's complement numbers, the valid range is $[-8, 7]$.\n\nConsider the inputs $A = 0101_2$ and $B = 0110_2$. The ALU's behavior is analyzed under both unsigned and signed two's complement interpretations. Which of the following statements is true?\n\nA. For the addition operation ($S=0$), an overflow occurs under the signed interpretation, but not under the unsigned interpretation.\n\nB. For the addition operation ($S=0$), an overflow occurs under both the signed and unsigned interpretations.\n\nC. For the subtraction operation ($S=1$), an overflow occurs under the signed interpretation, but not under the unsigned interpretation.\n\nD. For the subtraction operation ($S=1$), an overflow occurs under both the signed and unsigned interpretations.\n\nE. An overflow occurs for the addition operation under the unsigned interpretation and for the subtraction operation under the signed interpretation.", "solution": "Given $A=0101_{2}$ and $B=0110_{2}$.\n\nAddition case ($S=0$):\nCompute the 4-bit sum:\n$F=A+B=0101_{2}+0110_{2}=1011_{2}$.\n- Unsigned interpretation: $0101_{2}=5$, $0110_{2}=6$, so the true result is $5+6=11$. Since $11\\in[0,15]$, there is no unsigned overflow. Equivalently, the carry out of the most significant bit is $0$, so unsigned overflow does not occur.\n- Signed two's complement interpretation: $0101_{2}=+5$, $0110_{2}=+6$, so the true result is $+11$, but the representable range is $[-8,7]$, hence $+11\\notin[-8,7]$ and signed overflow occurs. Consistently, adding two positives produced $1011_{2}$ (a negative), indicating signed overflow.\n\nSubtraction case ($S=1$):\nImplemented as $F=A+(\\text{two's complement of }B)$.\nCompute the two's complement of $B$: invert bits and add $1$,\n$$\\overline{0110_{2}}=1001_{2},\\quad 1001_{2}+0001_{2}=1010_{2}.$$\nThen\n$F=A+(-B)=0101_{2}+1010_{2}=1111_{2}$.\n- Unsigned interpretation: The true result is $5-6=-1$, and since $-1\\notin[0,15]$, unsigned overflow occurs (the wrapped result $1111_{2}=15$ does not reflect the true result).\n- Signed two's complement interpretation: The true result is $+5 - (+6) = -1$, which lies in $[-8,7]$, and $1111_{2}$ indeed represents $-1$, so no signed overflow occurs.\n\nTherefore, for addition there is overflow under the signed interpretation but not under the unsigned interpretation, which matches option A, and for subtraction the opposite does not occur.\n\nHence the correct statement is A.", "answer": "$$\\boxed{A}$$", "id": "1907528"}]}