{"hands_on_practices": [{"introduction": "Before analyzing timing in a complex system, it is essential to understand the fundamental parameters of its building blocks. This first exercise provides a practical look at how clock-to-q contamination delay ($t_{ccq}$) is determined from raw timing data, as one might do with an oscilloscope in a lab. By calculating $t_{ccq}$ from the moment a flip-flop's output begins to change, you will solidify your understanding of this critical parameter, which defines the earliest time new data can propagate through a circuit. [@problem_id:1921462]", "problem": "A digital systems engineer is characterizing the timing parameters of a custom-designed positive-edge-triggered D-type flip-flop. The data input, D, is held stable at a logic '1' state, while the flip-flop's output, Q, is initially at a logic '0' state. Using a high-precision oscilloscope, the engineer records the timing of events surrounding a single rising edge of the clock signal, CLK.\n\nThe measurements are as follows:\n- The rising edge of the CLK signal occurs precisely at time $t_{clk} = 12.350$ nanoseconds (ns).\n- After the clock edge, the output Q begins its transition from logic '0' to logic '1'. The very instant this transition starts, meaning the output is no longer guaranteed to be at its old value, is measured to be $t_{start} = 12.485$ ns.\n- The output Q is measured to be fully settled and stable at the new logic '1' state at time $t_{stable} = 12.710$ ns.\n\nBased on these experimental measurements, determine the clock-to-Q contamination delay ($t_{ccq}$) for this flip-flop. Express your answer in picoseconds (ps).", "solution": "The clock-to-Q contamination delay is defined as the earliest time after the active clock edge at which the output $Q$ may begin to deviate from its previous value. Therefore,\n$$t_{ccq} = t_{start} - t_{clk}.$$\nUsing the measured times,\n$$t_{ccq} = 12.485\\ \\text{ns} - 12.350\\ \\text{ns} = 0.135\\ \\text{ns}.$$\nConverting nanoseconds to picoseconds using $1\\ \\text{ns} = 10^{3}\\ \\text{ps}$,\n$$t_{ccq} = 0.135\\ \\text{ns} \\times \\frac{10^{3}\\ \\text{ps}}{1\\ \\text{ns}} = 135\\ \\text{ps}.$$", "answer": "$$\\boxed{135}$$", "id": "1921462"}, {"introduction": "Building on the definition of contamination delay, this next practice explores its direct impact on circuit reliability. In high-speed designs, a data path can sometimes be \"too fast,\" causing new data to arrive at a register before the old data is properly captured—a condition known as a hold time violation. This problem demonstrates a common real-world scenario where you must calculate the precise amount of additional delay needed to fix such a violation, ensuring the integrity of the data pipeline. [@problem_id:1921485]", "problem": "In the design of a high-speed digital signal processing pipeline, a critical data path consists of a source register, `Reg_A`, and a destination register, `Reg_B`, separated by a block of combinational logic. Both registers are positive-edge-triggered D flip-flops driven by the same system clock. Due to physical layout on the chip, there is a clock skew between the two registers. The clock signal arrives at `Reg_B` later than it arrives at `Reg_A`.\n\nThe timing characteristics of the components are specified as follows:\n- The minimum time from the clock edge to the output of `Reg_A` becoming valid (its contamination clock-to-q delay) is $t_{ccq} = 75$ ps.\n- The minimum time data must be stable at the input of `Reg_B` after the clock edge (its hold time) is $t_{h} = 180$ ps.\n- The minimum propagation delay through the combinational logic block (its contamination delay) is $t_{cd,logic} = 50$ ps.\n- The clock skew, defined as the delay of the clock signal arrival at `Reg_B` relative to `Reg_A`, is $t_{skew} = 25$ ps.\n\nTo ensure the circuit operates reliably and avoids hold-time violations, a set of non-inverting buffer gates must be inserted into the combinational logic path to add delay. Calculate the minimum total delay that these buffers must introduce. Express your answer in picoseconds (ps), rounded to three significant figures.", "solution": "We consider the hold-time requirement between a launching register, Reg_A, and a capturing register, Reg_B, with positive skew (the clock arrives at Reg_B later by $t_{skew}$). For hold-time correctness, the earliest time at which the input $D$ of Reg_B can begin to change due to the new data must be no earlier than $t_{skew} + t_{h}$ after the launching clock edge at Reg_A.\n\nThe earliest possible change at Reg_B’s input occurs after the minimum contamination path delay from Reg_A’s clock edge:\n$$\nt_{\\text{earliest at }B.D} = t_{ccq} + t_{cd,logic} + t_{buf},\n$$\nwhere $t_{buf}$ is the total added buffer delay (contamination delay) to be determined.\n\nThe hold constraint is therefore\n$$\nt_{ccq} + t_{cd,logic} + t_{buf} \\geq t_{skew} + t_{h}.\n$$\nSolving for the required buffer delay,\n$$\nt_{buf} \\geq \\left(t_{skew} + t_{h}\\right) - \\left(t_{ccq} + t_{cd,logic}\\right).\n$$\n\nSubstituting the given values in picoseconds,\n$$\nt_{buf} \\geq \\left(180 + 25\\right) - \\left(75 + 50\\right) = 205 - 125 = 80.\n$$\nHence, the minimum total buffer delay required is $80$ ps. Rounded to three significant figures (as requested), this is $80.0$.", "answer": "$$\\boxed{80.0}$$", "id": "1921485"}, {"introduction": "The ultimate goal of timing analysis is to maximize a circuit's performance while guaranteeing its stability. This final exercise synthesizes all the key concepts: clock-to-q propagation delay ($t_{pcq}$), contamination delay ($t_{ccq}$), setup time, and hold time. By analyzing a complete synchronous pipeline with a feedback loop, you will determine the maximum operating frequency, which is dictated by the slowest path (the setup constraint) while ensuring no path is too fast (the hold constraint). [@problem_id:1921488]", "problem": "A specialized processing element within a custom Digital Signal Processor (DSP) chip is being designed. The core of this element consists of a two-stage synchronous pipeline with a feedback loop. The first stage is a flip-flop, FF1, and the second stage is a flip-flop, FF2. The output of FF1 is connected to the input of a combinational logic block, Logic1, whose output then feeds the input of FF2. The output of FF2 is connected to the input of a second combinational logic block, Logic2, which in turn feeds back to the input of FF1, closing the loop.\n\nAll flip-flops are identical, positive edge-triggered D-type flip-flops with the following timing characteristics:\n- Setup time, $t_{setup} = 60 \\text{ ps}$\n- Hold time, $t_{hold} = 35 \\text{ ps}$\n- Propagation delay (clock-to-Q), $t_{pcq} = 80 \\text{ ps}$\n- Contamination delay (clock-to-Q), $t_{ccq} = 45 \\text{ ps}$\n\nThe two combinational logic blocks have the following delay characteristics:\n- Logic Block 1 (between FF1 and FF2):\n  - Maximum propagation delay, $t_{comb1,max} = 350 \\text{ ps}$\n  - Minimum contamination delay, $t_{comb1,min} = 150 \\text{ ps}$\n- Logic Block 2 (between FF2 and FF1):\n  - Maximum propagation delay, $t_{comb2,max} = 200 \\text{ ps}$\n  - Minimum contamination delay, $t_{comb2,min} = 120 \\text{ ps}$\n\nTo ensure reliable operation, the circuit timing must satisfy both setup and hold time constraints across all paths. Calculate the maximum possible clock frequency for this circuit. Express your answer in gigahertz (GHz), rounded to three significant figures.", "solution": "We analyze the synchronous timing constraints for both register-to-register paths and determine the maximum clock frequency from the most restrictive setup constraint, while ensuring hold constraints are satisfied. All flip-flops are identical and clocked on the same positive edge, and no clock skew is specified, so we assume zero clock skew.\n\nFor a path from a launching flip-flop to a capturing flip-flop, the setup time constraint is\n$$\nT \\geq t_{pcq} + t_{comb,\\max} + t_{setup}.\n$$\nThe hold time constraint is\n$$\nt_{ccq} + t_{comb,\\min} \\geq t_{hold}.\n$$\n\nThere are two paths:\n\n1) Path FF1 → Logic1 → FF2:\n- Setup constraint:\n$$\nT \\geq t_{pcq} + t_{comb1,\\max} + t_{setup} = 80\\,\\text{ps} + 350\\,\\text{ps} + 60\\,\\text{ps} = 490\\,\\text{ps}.\n$$\n- Hold constraint:\n$$\nt_{ccq} + t_{comb1,\\min} = 45\\,\\text{ps} + 150\\,\\text{ps} = 195\\,\\text{ps} \\geq 35\\,\\text{ps},\n$$\nwhich is satisfied.\n\n2) Path FF2 → Logic2 → FF1:\n- Setup constraint:\n$$\nT \\geq t_{pcq} + t_{comb2,\\max} + t_{setup} = 80\\,\\text{ps} + 200\\,\\text{ps} + 60\\,\\text{ps} = 340\\,\\text{ps}.\n$$\n- Hold constraint:\n$$\nt_{ccq} + t_{comb2,\\min} = 45\\,\\text{ps} + 120\\,\\text{ps} = 165\\,\\text{ps} \\geq 35\\,\\text{ps},\n$$\nwhich is satisfied.\n\nThe required minimum clock period is the maximum of the setup constraints across all paths:\n$$\nT_{\\min} = \\max\\{490\\,\\text{ps},\\,340\\,\\text{ps}\\} = 490\\,\\text{ps}.\n$$\nTherefore, the maximum clock frequency is\n$$\nf_{\\max} = \\frac{1}{T_{\\min}} = \\frac{1}{490\\,\\text{ps}} = \\frac{10^{12}}{490}\\,\\text{Hz} \\approx 2.04\\,\\text{GHz}.\n$$\nRounded to three significant figures in gigahertz, the value is $2.04$.", "answer": "$$\\boxed{2.04}$$", "id": "1921488"}]}