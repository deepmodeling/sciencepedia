{"hands_on_practices": [{"introduction": "One of the most fundamental applications of a Moore machine is detecting specific patterns within a stream of input data. This exercise guides you through the design of a non-overlapping sequence detector, a classic problem that illustrates how states serve as a memory of past events. By correctly defining states and transitions, you will build a machine that recognizes the target sequence '101' [@problem_id:1969113], providing a solid foundation for more complex state machine designs.", "problem": "You are tasked with designing a digital circuit that monitors a serial stream of input bits, `x`. The circuit must produce an output `z` that goes to '1' for exactly one clock cycle immediately following the detection of the specific three-bit sequence '101'. A critical constraint is that the detected sequences must be non-overlapping. This means that once a full '101' sequence is identified, the bits that formed this sequence cannot be reused as part of another potential sequence. The detection process must reset and start anew.\n\nYou are to model this behavior using a Moore Finite State Machine (FSM). The machine uses four states to track the progress of the sequence detection:\n- `S0`: The initial or reset state, where no prefix of the target sequence has been detected.\n- `S1`: The state indicating the most recently received bit was a '1' that could be the start of the sequence.\n- `S2`: The state indicating the last two bits received were '10'.\n- `S3`: The state indicating the last three bits received were '101', which is the detection state.\n\nGiven these state definitions, select the state table from the options below that correctly implements the specified Moore machine. The \"Current State\" column indicates the state before the arrival of the next input bit, \"Next State\" indicates the state after the input bit is processed, and \"Output (z)\" is the output associated with the current state.\n\nA.\n| Current State | Next State (Input=0) | Next State (Input=1) | Output (z) |\n| :---: | :---: | :---: | :---: |\n| S0    | S0    | S1    | 0     |\n| S1    | S2    | S1    | 0     |\n| S2    | S0    | S3    | 0     |\n| S3    | S0    | S1    | 1     |\n\nB.\n| Current State | Next State (Input=0) | Next State (Input=1) | Output (z) |\n| :---: | :---: | :---: | :---: |\n| S0    | S0    | S1    | 0     |\n| S1    | S2    | S1    | 0     |\n| S2    | S0    | S3    | 0     |\n| S3    | S2    | S1    | 1     |\n\nC.\n| Current State | Next State (Input=0) | Next State (Input=1) | Output (z) |\n| :---: | :---: | :---: | :---: |\n| S0    | S0    | S1    | 0     |\n| S1    | S2    | S1    | 0     |\n| S2    | S0    | S3    | 1     |\n| S3    | S0    | S1    | 0     |\n\nD.\n| Current State | Next State (Input=0) | Next State (Input=1) | Output (z) |\n| :---: | :---: | :---: | :---: |\n| S0    | S1    | S0    | 0     |\n| S1    | S2    | S1    | 0     |\n| S2    | S0    | S3    | 0     |\n| S3    | S0    | S1    | 1     |", "solution": "We design a Moore FSM for detecting the non-overlapping sequence '101' with output $z=1$ for exactly one clock cycle immediately after detection. In a Moore machine, $z$ depends only on the current state, so the detection state must be the only state with $z=1$.\n\nBy the given state meanings:\n- $S0$: no useful prefix; the next state must depend only on the current input bit.\n- $S1$: the last bit was $1$; on input $0$ we advance to the prefix $10$, and on input $1$ we remain with the longest proper suffix matching the patternâ€™s prefix, which is still $1$.\n- $S2$: the last two bits were $10$; on input $1$ we complete $101$ and enter the detection state, and on input $0$ there is no matching suffix so we reset to $S0$.\n- $S3$: the last three bits were $101$; because the detection must be non-overlapping, after asserting $z=1$ for exactly one cycle we must restart the search without reusing any bits from the detected sequence. Therefore, from $S3$ the transition logic must be identical to starting fresh at $S0$: on input $0$ go to $S0$, and on input $1$ go to $S1$.\n\nNow determine the correct transitions and outputs:\n\n1) From $S0$:\n- Input $0$: still no prefix, so $S0 \\to S0$.\n- Input $1$: start of a potential match, so $S0 \\to S1$.\n\n2) From $S1$:\n- Input $0$: we have $10$, so $S1 \\to S2$.\n- Input $1$: we still have a trailing $1$ as the longest prefix, so $S1 \\to S1$.\n\n3) From $S2$:\n- Input $0$: the sequence becomes $100$ whose longest suffix matching the prefix of $101$ is empty, so $S2 \\to S0$.\n- Input $1$: we complete $101$, so $S2 \\to S3$.\n\n4) From $S3$ (non-overlapping restart):\n- Input $0$: restart with $0$, so $S3 \\to S0$.\n- Input $1$: restart with $1$, so $S3 \\to S1$.\n\nOutput assignment for a Moore machine:\n- $z=1$ only in $S3$ (the detection state), and $z=0$ in $S0$, $S1$, and $S2$.\n\nComparing with the options:\n- Option A matches all transitions above and has $z=1$ only in $S3$.\n- Option B uses $S3 \\to S2$ on input $0$, which reuses suffix information from the detected sequence (overlapping), violating the non-overlapping requirement.\n- Option C assigns $z=1$ in $S2$ and $z=0$ in $S3$, which contradicts the Moore detection definition.\n- Option D has incorrect transitions from $S0$ (it swaps the responses to inputs $0$ and $1$), which is invalid.\n\nTherefore, the correct state table is Option A.", "answer": "$$\\boxed{A}$$", "id": "1969113"}, {"introduction": "Moving beyond abstract data patterns, Moore machines are powerful tools for modeling and implementing control systems for real-world devices. This practice problem challenges you to design the controller for a motorized security gate, a system with distinct operational phases like 'Opening' and 'Closing' [@problem_id:1969131]. This exercise demonstrates how to translate a descriptive specification of a system's behavior into a precise and functional state machine.", "problem": "You are tasked with designing the controller for a motorized security gate using a Moore-type Finite State Machine (FSM). The gate's operation can be described by four distinct states: 'Closed', 'Opening', 'Open', and 'Closing'.\n\nThe system receives a single command input, denoted by the variable `C`. The input `C=1` corresponds to an 'open' command, and `C=0` corresponds to a 'close' command.\n\nThe behavior of the gate is defined as follows:\n-   When 'Closed', an 'open' command (`C=1`) initiates the opening sequence, moving the state to 'Opening'. If a 'close' command (`C=0`) is received, it remains 'Closed'.\n-   The 'Opening' state represents the fixed duration of the gate moving to the fully open position. Once in this state, the gate will always transition to the 'Open' state in the next clock cycle, regardless of any new commands received during this time.\n-   When 'Open', a 'close' command (`C=0`) initiates the closing sequence, moving the state to 'Closing'. If an 'open' command (`C=1`) is received, it remains 'Open'.\n-   The 'Closing' state represents the fixed duration of the gate moving to the fully closed position. Once in this state, the gate will always transition to the 'Closed' state in the next clock cycle, regardless of any new commands received.\n\nThe four states are encoded using two state variables, $Q_1$ and $Q_0$. The next state is represented by $Q_1'$ and $Q_0'$. The state assignments are:\n-   'Closed': $Q_1Q_0 = 00$\n-   'Opening': $Q_1Q_0 = 01$\n-   'Open': $Q_1Q_0 = 10$\n-   'Closing': $Q_1Q_0 = 11$\n\nYour task is to determine the correct state transition table for this Moore FSM. Which of the following tables, representing the present state ($Q_1Q_0$), input ($C$), and next state ($Q_1'Q_0'$), correctly describes the machine's behavior?\n\nA.\n| $Q_1 Q_0$ | $C$ | $Q_1' Q_0'$ |\n|---|---|---|\n| 00 | 0 | 00 |\n| 00 | 1 | 01 |\n| 01 | 0 | 10 |\n| 01 | 1 | 10 |\n| 10 | 0 | 11 |\n| 10 | 1 | 10 |\n| 11 | 0 | 00 |\n| 11 | 1 | 00 |\n\nB.\n| $Q_1 Q_0$ | $C$ | $Q_1' Q_0'$ |\n|---|---|---|\n| 00 | 0 | 00 |\n| 00 | 1 | 01 |\n| 01 | 0 | 00 |\n| 01 | 1 | 10 |\n| 10 | 0 | 11 |\n| 10 | 1 | 10 |\n| 11 | 0 | 00 |\n| 11 | 1 | 10 |\n\nC.\n| $Q_1 Q_0$ | $C$ | $Q_1' Q_0'$ |\n|---|---|---|\n| 00 | 0 | 00 |\n| 00 | 1 | 10 |\n| 01 | 0 | 10 |\n| 01 | 1 | 10 |\n| 10 | 0 | 01 |\n| 10 | 1 | 10 |\n| 11 | 0 | 00 |\n| 11 | 1 | 00 |\n\nD.\n| $Q_1 Q_0$ | $C$ | $Q_1' Q_0'$ |\n|---|---|---|\n| 00 | 0 | 00 |\n| 00 | 1 | 01 |\n| 01 | 0 | 01 |\n| 01 | 1 | 01 |\n| 10 | 0 | 11 |\n| 10 | 1 | 10 |\n| 11 | 0 | 11 |\n| 11 | 1 | 11 |", "solution": "We use the given state encoding: Closed is $Q_1Q_0=00$, Opening is $Q_1Q_0=01$, Open is $Q_1Q_0=10$, and Closing is $Q_1Q_0=11$. The input is $C \\in \\{0,1\\}$.\n\nFrom the specification:\n- When Closed, an open command $C=1$ moves to Opening; a close command $C=0$ stays Closed. Therefore:\n  - If $Q_1Q_0=00$ and $C=0$, then $Q_1'Q_0'=00$.\n  - If $Q_1Q_0=00$ and $C=1$, then $Q_1'Q_0'=01$.\n- When Opening, the next state is always Open regardless of $C$. Therefore:\n  - If $Q_1Q_0=01$ and $C=0$, then $Q_1'Q_0'=10$.\n  - If $Q_1Q_0=01$ and $C=1$, then $Q_1'Q_0'=10$.\n- When Open, a close command $C=0$ moves to Closing; an open command $C=1$ stays Open. Therefore:\n  - If $Q_1Q_0=10$ and $C=0$, then $Q_1'Q_0'=11$.\n  - If $Q_1Q_0=10$ and $C=1$, then $Q_1'Q_0'=10$.\n- When Closing, the next state is always Closed regardless of $C$. Therefore:\n  - If $Q_1Q_0=11$ and $C=0$, then $Q_1'Q_0'=00$.\n  - If $Q_1Q_0=11$ and $C=1$, then $Q_1'Q_0'=00$.\n\nComparing these eight transition cases with the provided options, only option A matches all entries exactly.", "answer": "$$\\boxed{A}$$", "id": "1969131"}, {"introduction": "An abstract state machine design is ultimately implemented using physical hardware, such as flip-flops and logic gates. This practice explores the connection between the logical model and its physical reality by analyzing a machine defined by its next-state Boolean equations [@problem_id:1969124]. You will trace the circuit's behavior from an unplanned-for or 'unused' state, a critical skill for debugging and ensuring a design is robust and predictable under all conditions.", "problem": "A Moore sequential circuit is designed using three D-type flip-flops. The state of the machine is represented by the binary tuple $(Q_2, Q_1, Q_0)$, where $Q_2$ is the most significant bit. The machine has a single binary input, $x$. The logic for the flip-flop inputs $(D_2, D_1, D_0)$ and the machine's output $Z$ is defined by the following Boolean equations. Note that concatenation implies a logical AND operation, the `+` symbol implies a logical OR operation, and an overbar (e.g., $\\overline{Q}$) denotes a logical NOT operation.\n\n$D_2 = \\overline{Q_2} Q_1 + Q_1 \\overline{Q_0}$\n$D_1 = \\overline{Q_1} Q_0 + x \\overline{Q_2}$\n$D_0 = Q_2 \\overline{Q_0} + \\overline{x} Q_1$\n$Z = Q_2 Q_0$\n\nDue to a startup anomaly, the machine enters the state $(Q_2, Q_1, Q_0) = (1, 1, 1)$. From this point forward, the input $x$ is held constant at the value $0$.\n\nDetermine the sequence of states the machine will pass through. The sequence should begin with the initial anomalous state and list the subsequent states after each of the next three clock pulses.\n\nWhich of the following represents this state sequence?\n\nA. $(1,1,1) \\rightarrow (0,0,1) \\rightarrow (0,1,0) \\rightarrow (1,0,1)$\n\nB. $(1,1,1) \\rightarrow (0,0,1) \\rightarrow (1,1,0) \\rightarrow (0,0,0)$\n\nC. $(1,1,1) \\rightarrow (1,0,1) \\rightarrow (0,1,1) \\rightarrow (1,0,0)$\n\nD. $(1,1,1) \\rightarrow (0,0,0) \\rightarrow (0,0,0) \\rightarrow (0,0,0)$\n\nE. $(1,1,1) \\rightarrow (0,1,0) \\rightarrow (1,1,1) \\rightarrow (0,0,1)$", "solution": "For D-type flip-flops, the next state $(Q_2^+, Q_1^+, Q_0^+)$ equals the applied D input $(D_2, D_1, D_0)$ at the active clock edge, so $Q_{i}^{+}=D_{i}$. The input $x$ is held at $0$ (so $\\overline{x}=1$) from the anomalous initial state onward.\n\nThe given next-state equations are:\n$$D_2 = \\overline{Q_2} Q_1 + Q_1 \\overline{Q_0}$$\n$$D_1 = \\overline{Q_1} Q_0 + x \\overline{Q_2}$$\n$$D_0 = Q_2 \\overline{Q_0} + \\overline{x} Q_1$$\n\nWe start at $(Q_2, Q_1, Q_0)=(1,1,1)$ and compute the next state for each clock cycle by substituting the current state values and $x=0$.\n\n1.  **From state $(1, 1, 1)$:**\n    $D_2 = (\\overline{1} \\cdot 1) + (1 \\cdot \\overline{1}) = (0 \\cdot 1) + (1 \\cdot 0) = 0$\n    $D_1 = (\\overline{1} \\cdot 1) + (0 \\cdot \\overline{1}) = (0 \\cdot 1) + (0 \\cdot 0) = 0$\n    $D_0 = (1 \\cdot \\overline{1}) + (1 \\cdot 1) = (1 \\cdot 0) + 1 = 1$\n    The next state is $(0, 0, 1)$.\n\n2.  **From state $(0, 0, 1)$:**\n    $D_2 = (\\overline{0} \\cdot 0) + (0 \\cdot \\overline{1}) = (1 \\cdot 0) + (0 \\cdot 0) = 0$\n    $D_1 = (\\overline{0} \\cdot 1) + (0 \\cdot \\overline{0}) = (1 \\cdot 1) + (0 \\cdot 1) = 1$\n    $D_0 = (0 \\cdot \\overline{1}) + (1 \\cdot 0) = (0 \\cdot 0) + 0 = 0$\n    The next state is $(0, 1, 0)$.\n\n3.  **From state $(0, 1, 0)$:**\n    $D_2 = (\\overline{0} \\cdot 1) + (1 \\cdot \\overline{0}) = (1 \\cdot 1) + (1 \\cdot 1) = 1$\n    $D_1 = (\\overline{1} \\cdot 0) + (0 \\cdot \\overline{0}) = (0 \\cdot 0) + (0 \\cdot 1) = 0$\n    $D_0 = (0 \\cdot \\overline{0}) + (1 \\cdot 1) = (0 \\cdot 1) + 1 = 1$\n    The next state is $(1, 0, 1)$.\n\nTherefore, starting at $(1,1,1)$ and listing the next three clocked states, the sequence is:\n$$(1,1,1)\\rightarrow(0,0,1)\\rightarrow(0,1,0)\\rightarrow(1,0,1)$$\nThis corresponds to option A.", "answer": "$$\\boxed{A}$$", "id": "1969124"}]}