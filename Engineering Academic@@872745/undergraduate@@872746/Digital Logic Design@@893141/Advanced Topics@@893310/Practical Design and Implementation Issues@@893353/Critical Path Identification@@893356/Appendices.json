{"hands_on_practices": [{"introduction": "The fundamental task in timing analysis is identifying the signal paths that dictate a circuit's performance. This involves distinguishing between the longest path, known as the critical path which sets the minimum clock period, and the shortest path, which is relevant for preventing timing hazards. This foundational exercise [@problem_id:1925781] will give you practice in calculating both of these fundamental timing parameters for a basic combinational circuit.", "problem": "Consider a combinational logic circuit constructed from several types of logic gates, each with a specific propagation delay. The circuit has four primary inputs, labeled A, B, C, and D, and produces a single final output, Z. Assume all primary input signals are available simultaneously at time $t=0$.\n\nThe circuit is structured as follows:\n- An inverter (NOT gate) receives input A to produce an intermediate signal N1.\n- A 2-input AND gate receives inputs B and C to produce an intermediate signal N2.\n- A 2-input OR gate takes the signals N1 and N2 as its inputs to produce an intermediate signal N3.\n- Finally, a 2-input XOR gate receives the primary input D and the intermediate signal N3 as its inputs to produce the final output Z.\n\nThe propagation delays for each type of gate are given as:\n- NOT gate delay: 10 ps\n- 2-input AND gate delay: 25 ps\n- 2-input OR gate delay: 30 ps\n- 2-input XOR gate delay: 40 ps\n\nCalculate the critical path delay (the longest possible propagation delay from any input to the output Z) and the shortest path delay (the minimum possible propagation delay from any input to the output Z). Provide your answer as two numerical values: the critical path delay followed by the shortest path delay. Answer in units of picoseconds (ps).", "solution": "All primary inputs are available at time zero, so set the arrival times at the inputs as $t_{A}=t_{B}=t_{C}=t_{D}=0$.\n\nLet the gate delays be $t_{\\text{NOT}}=10$ ps, $t_{\\text{AND}}=25$ ps, $t_{\\text{OR}}=30$ ps, and $t_{\\text{XOR}}=40$ ps.\n\nCompute node arrival times using the rule that the arrival time at a gate's output is the maximum of its input arrival times plus the gate's propagation delay:\n$$t_{N1}=t_{A}+t_{\\text{NOT}}=0+10=10 \\text{ ps}$$\n$$t_{N2}=\\max(t_{B},t_{C})+t_{\\text{AND}}=\\max(0,0)+25=25 \\text{ ps}$$\n$$t_{N3}=\\max(t_{N1},t_{N2})+t_{\\text{OR}}=\\max(10,25)+30=55 \\text{ ps}$$\n$$t_{Z}=\\max(t_{D},t_{N3})+t_{\\text{XOR}}=\\max(0,55)+40=95 \\text{ ps}$$\nThus, the critical path delay (longest) is $95$ ps, realized by the path from $B$ or $C$ through the AND, OR, and XOR gates.\n\nFor the shortest path delay, evaluate the sum of gate delays along each input-to-output path:\n- From $A$: $10+30+40=80$ ps.\n- From $B$ or $C$: $25+30+40=95$ ps.\n- From $D$: $40$ ps.\n\nThe minimum is $40$ ps (from $D$ directly through the XOR).\n\nTherefore, the critical path delay is $95$ ps and the shortest path delay is $40$ ps.", "answer": "$$\\boxed{\\begin{pmatrix}95 & 40\\end{pmatrix}}$$", "id": "1925781"}, {"introduction": "In practical digital design, modifications intended to improve one aspect of a circuit, such as signal integrity, can have unintended consequences on overall performance. A key concept to grasp is that the critical path is not a fixed property; changes to other, previously non-critical paths can cause them to become the new speed bottleneck. This practice problem [@problem_id:1925783] explores this dynamic by having you analyze the effect of inserting a buffer, demonstrating how a seemingly localized change can redefine the circuit's critical path.", "problem": "A custom combinational logic circuit is designed with four primary inputs, labeled A, B, C, and D, and one primary output, F. The circuit's structure is defined by the following interconnections of ideal logic gates:\n\n-   Gate G1 is a 2-input NAND gate with inputs A and B.\n-   Gate G2 is a 2-input NOR gate with inputs B and C.\n-   Gate G3 is an inverter with input D.\n-   Gate G4 is a 2-input NAND gate whose inputs are connected to the outputs of G1 and G2.\n-   Gate G5 is a 2-input NOR gate whose inputs are connected to the outputs of G2 and G3.\n-   Gate G6 is a 2-input NAND gate whose inputs are connected to the outputs of G4 and G5. The output of G6 serves as the circuit's primary output, F.\n\nThe propagation delay for each type of gate is given as follows:\n-   Inverter: 20 ps\n-   2-input NAND gate: 40 ps\n-   2-input NOR gate: 50 ps\n\nA design modification is proposed to improve the signal integrity on a specific net. This modification involves inserting a buffer with a propagation delay of 50 ps into the signal path that connects the output of gate G1 to the input of gate G4.\n\nCalculate the propagation delay of the circuit's critical path after this buffer has been inserted. Provide your answer as a numerical value in units of picoseconds (ps).", "solution": "We perform static timing analysis by computing the latest arrival time at each gate output, using the rule that for a gate with multiple inputs, the output arrival time equals the maximum of its input arrival times plus the gate’s propagation delay. Primary inputs are assumed to arrive at time zero. Let $t_{X}$ denote the arrival time at the output of element $X$.\n\nGiven gate delays:\n-   Inverter: 20 ps\n-   2-input NAND gate: 40 ps\n-   2-input NOR gate: 50 ps\n-   Inserted buffer on the $G1 \\rightarrow G4$ net: 50 ps\n\nPrimary inputs:\n$$t_{A}=t_{B}=t_{C}=t_{D}=0.$$\n\nFirst-stage gates:\n- $G1$ is a 2-input NAND with inputs $A,B$:\n$$t_{G1}=\\max(t_{A},t_{B})+40=\\max(0,0)+40=40 \\text{ ps}.$$\n- $G2$ is a 2-input NOR with inputs $B,C$:\n$$t_{G2}=\\max(t_{B},t_{C})+50=\\max(0,0)+50=50 \\text{ ps}.$$\n- $G3$ is an inverter with input $D$:\n$$t_{G3}=t_{D}+20=0+20=20 \\text{ ps}.$$\n\nBuffer insertion on the $G1 \\rightarrow G4$ path:\n$$t_{G1\\rightarrow G4\\ \\text{input}}=t_{G1}+50=40+50=90 \\text{ ps}.$$\n\nSecond-stage gates:\n- $G4$ is a 2-input NAND driven by $G1$ (through the buffer) and $G2$:\n$$t_{G4}=\\max\\!\\big(90,\\ t_{G2}\\big)+40=\\max(90,50)+40=130 \\text{ ps}.$$\n- $G5$ is a 2-input NOR driven by $G2$ and $G3$:\n$$t_{G5}=\\max(t_{G2},t_{G3})+50=\\max(50,20)+50=100 \\text{ ps}.$$\n\nFinal gate:\n- $G6$ is a 2-input NAND driven by $G4$ and $G5$:\n$$t_{F}=\\max(t_{G4},t_{G5})+40=\\max(130,100)+40=170 \\text{ ps}.$$\n\nTherefore, the critical path is from $A$ or $B$ through $G1$ (40 ps), the inserted buffer (50 ps), $G4$ (40 ps), and $G6$ (40 ps), totaling $170$ ps. All alternative input paths yield smaller totals.", "answer": "$$\\boxed{170}$$", "id": "1925783"}, {"introduction": "While the simplified assumption of fixed gate delays is useful for learning, real-world circuit performance is more nuanced. A gate's propagation delay is significantly affected by its electrical load, specifically the number of subsequent gates it must drive, a property known as fan-out. This final exercise [@problem_id:1925776] introduces a more realistic delay model where propagation time depends on fan-out, challenging you to identify the critical path under these more practical and physically grounded conditions.", "problem": "Consider a combinational digital logic circuit constructed from a set of basic logic gates. The circuit has four primary inputs, labeled A, B, C, and D, and one primary output, labeled Z. Assume that all primary inputs are available at time $t=0$. The interconnections and gates within the circuit are described as follows:\n\n*   **G1**: A NOT gate whose input is the primary input A.\n*   **G2**: A two-input AND gate whose inputs are the primary inputs B and C.\n*   **G3**: A two-input OR gate whose inputs are the primary inputs C and D.\n*   **G4**: A two-input AND gate whose inputs are connected to the outputs of gate G1 and gate G2.\n*   **G5**: A two-input OR gate whose inputs are connected to the outputs of gate G2 and gate G3.\n*   **G6**: A two-input AND gate whose inputs are connected to the outputs of gate G4 and gate G5. The output of this gate is the primary output Z.\n\nThe propagation delay, $t_{pd}$, for each gate in the circuit is dependent on its fan-out. Fan-out is defined as the number of subsequent gate inputs that a gate's output drives. The delay is calculated using the formula:\n$$t_{pd} = t_{base} + k \\times (\\text{fan-out})$$\n\nThe base delays ($t_{base}$) for each gate type and the load-dependent factor ($k$) are given as:\n*   Base delay for NOT gates, $t_{base,NOT} = 0.5$ ns\n*   Base delay for AND gates, $t_{base,AND} = 0.8$ ns\n*   Base delay for OR gates, $t_{base,OR} = 1.0$ ns\n*   Load-dependent delay factor, $k = 0.2$ ns per fan-out unit\n\nThe connection to the primary output Z is considered to have zero load, meaning it does not contribute to the fan-out of gate G6.\n\nCalculate the critical path delay for this circuit. Express your answer in nanoseconds (ns), rounded to three significant figures.", "solution": "We seek the critical path delay from primary inputs to the primary output. Each gate’s propagation delay is load dependent:\n$$t_{pd} = t_{base} + k \\times (\\text{fan-out})$$\nand a gate’s output becomes valid after the latest of its inputs arrives plus its own propagation delay:\n$$t_{\\text{out}} = \\max_{i}(t_{\\text{in},i}) + t_{pd}.$$\n\nFirst determine each gate’s fan-out from the described interconnections:\n- G1 feeds only G4, so fan-out of G1 is $1$.\n- G2 feeds G4 and G5, so fan-out of G2 is $2$.\n- G3 feeds only G5, so fan-out of G3 is $1$.\n- G4 feeds only G6, so fan-out of G4 is $1$.\n- G5 feeds only G6, so fan-out of G5 is $1$.\n- G6 drives only the primary output Z, which is zero load, so fan-out of G6 is $0$.\n\nUsing $t_{base,NOT}=0.5$ ns, $t_{base,AND}=0.8$ ns, $t_{base,OR}=1.0$ ns, and $k=0.2$ ns per fan-out unit, compute each gate’s propagation delay:\n$$t_{pd}(\\text{G1})=0.5+0.2\\times 1=0.7\\ \\text{ns}$$\n$$t_{pd}(\\text{G2})=0.8+0.2\\times 2=1.2\\ \\text{ns}$$\n$$t_{pd}(\\text{G3})=1.0+0.2\\times 1=1.2\\ \\text{ns}$$\n$$t_{pd}(\\text{G4})=0.8+0.2\\times 1=1.0\\ \\text{ns}$$\n$$t_{pd}(\\text{G5})=1.0+0.2\\times 1=1.2\\ \\text{ns}$$\n$$t_{pd}(\\text{G6})=0.8+0.2\\times 0=0.8\\ \\text{ns}$$\n\nAll primary inputs are available at $t=0$, so the output arrival times are:\n- G1 output: $t(\\text{G1})=0+0.7=0.7$ ns.\n- G2 output: $t(\\text{G2})=\\max(0,0)+1.2=1.2$ ns.\n- G3 output: $t(\\text{G3})=\\max(0,0)+1.2=1.2$ ns.\n- G4 output: inputs are G1 at $0.7$ ns and G2 at $1.2$ ns, so\n$$t(\\text{G4})=\\max(0.7,1.2)+1.0=2.2\\ \\text{ns}$$\n- G5 output: inputs are G2 at $1.2$ ns and G3 at $1.2$ ns, so\n$$t(\\text{G5})=\\max(1.2,1.2)+1.2=2.4\\ \\text{ns}$$\n- Z at G6 output: inputs are G4 at $2.2$ ns and G5 at $2.4$ ns, so\n$$t(\\text{Z})=\\max(2.2,2.4)+0.8=3.2\\ \\text{ns}$$\n\nThus the critical path delay is $3.2$ ns. The longest paths are either through G2-G5-G6 or through G3-G5-G6; both yield $3.2$ ns. Rounded to three significant figures, the critical path delay is $3.20$ ns.", "answer": "$$\\boxed{3.20}$$", "id": "1925776"}]}