{"hands_on_practices": [{"introduction": "To effectively use a Complex Programmable Logic Device (CPLD), it's essential to understand how its internal architecture impacts performance. The total time it takes for a signal to travel from an input pin to an output pin is not a single value but the sum of delays through various stages. This first exercise breaks down the total combinational path delay into its constituent parts, helping you visualize the signal's journey and identify which architectural elements contribute most to the overall latency [@problem_id:1924368].", "problem": "An engineering student is using a specific Complex Programmable Logic Device (CPLD) for a project. To ensure their design meets timing requirements, they must calculate the worst-case propagation delay for a critical combinational logic function. The CPLD's architecture consists of input pins feeding into a central Programmable Interconnect Array (PIA), which routes signals to various Logic Array Blocks (LABs). The output of a LAB is then routed to an output pin.\n\nThe datasheet for the CPLD provides the following worst-case timing parameters for a single-pass combinational path:\n- $t_{IN}$: Delay from an external input pin, through the input buffer, to the PIA. Value: 1.5 ns.\n- $t_{PIA}$: Delay for a signal to be routed from the PIA to the inputs of a single LAB. Value: 3.0 ns.\n- $t_{LAB}$: The internal combinational logic delay within a single LAB to compute a standard sum-of-products expression. Value: 5.2 ns.\n- $t_{OUT}$: Delay from the LAB's output to an external output pin. Value: 2.3 ns.\n\nThe student needs to implement the logic function $Y = (A \\cdot B) + (C \\cdot \\neg D)$, where $A, B, C, D$ are inputs and $Y$ is the output. Assume the entire function is implemented within a single LAB and that signals follow a direct path from input pins to the output pin without any feedback.\n\nCalculate the worst-case propagation delay, $t_{PD}$, from the moment any input signal ($A, B, C,$ or $D$) changes to the moment the corresponding change appears at the output $Y$. Express your answer in nanoseconds (ns), rounded to three significant figures.", "solution": "We are asked for the worst-case propagation delay from any input pin ($A, B, C,$ or $D$) to the output pin $Y$, for a combinational function implemented entirely in one LAB, with a single-pass path through the device: input pin $\\rightarrow$ input buffer $\\rightarrow$ PIA $\\rightarrow$ LAB $\\rightarrow$ output pin.\n\nBy definition of the given timing parameters for a single-pass combinational path, the total worst-case propagation delay is the sum of the sequential segments along this path:\n- $t_{IN}$: input pin to PIA,\n- $t_{PIA}$: PIA to LAB inputs,\n- $t_{LAB}$: internal combinational delay within the LAB (which, for a standard sum-of-products implementation, includes the necessary inversions and the AND-OR structure such as $A\\cdot B$ and $C\\cdot \\neg D$),\n- $t_{OUT}$: LAB output to output pin.\n\nThus, the worst-case propagation delay satisfies\n$$\nt_{PD} = t_{IN} + t_{PIA} + t_{LAB} + t_{OUT}.\n$$\n\nUsing the provided worst-case values,\n$$\nt_{PD} = 1.5 + 3.0 + 5.2 + 2.3 = 12.0.\n$$\n\nThis sum already reflects the worst-case for any single input transition propagating through the single LAB implementation of $Y = (A \\cdot B) + (C \\cdot \\neg D)$, and it is rounded to three significant figures as required.", "answer": "$$\\boxed{12.0}$$", "id": "1924368"}, {"introduction": "While combinational delay is fundamental, most digital systems are synchronous, relying on a clock to orchestrate operations between registers. This introduces a new critical constraint: setup time, which ensures data is stable before the clock edge arrives to capture it. This practice builds upon the concept of propagation delay to determine the maximum safe operating frequency of a registered design, a crucial metric for any synchronous system's performance [@problem_id:1924348].", "problem": "A digital systems engineer is designing a synchronous state machine within a single Complex Programmable Logic Device (CPLD). The critical timing path for the design is determined by the signal propagation from the output of a source register, through a block of combinational logic and internal routing, to the data input of a destination register. Both registers are driven by the same global clock.\n\nThe CPLD manufacturer's datasheet provides the following timing parameters for the device family being used:\n- The clock-to-output time ($t_{CO}$) for any register is 4.2 nanoseconds.\n- The setup time requirement ($t_{SU}$) for any register's data input is 2.7 nanoseconds.\n\nBased on the synthesis and place-and-route report for the specific design, the total propagation delay ($t_{PD}$) through the combinational logic and routing fabric on this critical path is 7.1 nanoseconds.\n\nTo ensure reliable operation and avoid metastability, the design must satisfy the setup time constraint on the destination register. Calculate the maximum safe operating clock frequency for this design.\n\nExpress your answer in megahertz (MHz), rounded to three significant figures.", "solution": "For a synchronous path between two registers driven by the same clock with negligible skew, the setup-time constraint is\n$$\nT_{\\text{clk}} \\geq t_{CO} + t_{PD} + t_{SU}.\n$$\nGiven $t_{CO} = 4.2 \\times 10^{-9} \\text{ s}$, $t_{PD} = 7.1 \\times 10^{-9} \\text{ s}$, and $t_{SU} = 2.7 \\times 10^{-9} \\text{ s}$, the minimum allowable clock period is\n$$\nT_{\\text{clk,min}} = \\left(4.2 + 7.1 + 2.7\\right) \\times 10^{-9} \\text{ s} = 14.0 \\times 10^{-9} \\text{ s}.\n$$\nThe maximum clock frequency is the reciprocal of the minimum period:\n$$\nf_{\\text{max}} = \\frac{1}{T_{\\text{clk,min}}} = \\frac{1}{14.0 \\times 10^{-9} \\text{ s}} = \\frac{1}{14.0} \\times 10^{9} \\text{ Hz} = 71.4286 \\times 10^{6} \\text{ Hz}.\n$$\nExpressed in megahertz and rounded to three significant figures, this is $71.4$ MHz.", "answer": "$$\\boxed{71.4}$$", "id": "1924348"}, {"introduction": "Meeting setup time ensures your circuit can run fast enough, but another timing hazard, hold time, can cause failures even at low clock speeds. Hold time violations occur when data changes too quickly after a clock edge, creating a race condition that can lead to metastability. This advanced exercise explores how non-uniform clock delays, known as clock skew, can create a hold time violation, forcing you to analyze the relationship between the fastest possible data path and the slowest clock path [@problem_id:1924330].", "problem": "An engineer is performing a static timing analysis on a critical path within a Complex Programmable Logic Device (CPLD). The CPLD architecture consists of multiple Logic Array Blocks (LABs), which contain macrocells with flip-flops and combinational logic, interconnected by a central Programmable Interconnect Matrix (PIM).\n\nThe path under analysis involves two positive-edge-triggered D-type flip-flops, `source_FF` and `dest_FF`, which are both clocked by the same global clock signal, `gclk`. Due to a specific floorplanning choice aimed at minimizing data path delay, both `source_FF`, `dest_FF`, and the purely combinational logic connecting the Q output of `source_FF` to the D input of `dest_FF` have been placed within the same LAB. This results in a very short and fast data path.\n\nHowever, the global clock distribution network introduces a significant and non-uniform delay (clock skew) in delivering `gclk` to different parts of the chip. In this specific layout, `gclk` reaches `source_FF` significantly earlier than it reaches `dest_FF`. You are given the following timing parameters for the components involved:\n\n-   Clock-to-output delay of a flip-flop: $t_{CO} = 0.75 \\text{ ns}$\n-   Hold time requirement for the D input of a flip-flop: $t_{H} = 0.40 \\text{ ns}$\n-   Propagation delay of the intra-LAB combinational logic path: $t_{LOGIC} = 0.95 \\text{ ns}$\n-   Clock path delay from the CPLD input pin to the clock input of `source_FF`: $t_{CLK\\_S} = 1.10 \\text{ ns}$\n-   Clock path delay from the CPLD input pin to the clock input of `dest_FF`: $t_{CLK\\_D} = 2.80 \\text{ ns}$\n\nCalculate the hold time slack for the data signal at the input of `dest_FF`. A positive slack indicates the timing margin is met, while a negative slack indicates a hold time violation. Express your final answer in nanoseconds (ns), rounded to three significant figures.", "solution": "We perform a hold-time check between two positive-edge-triggered flip-flops clocked by the same clock but with different clock arrival times. For a hold check, the earliest data arrival at the destination input must not occur before the destination clock edge plus the hold time.\n\nDefine the source clock arrival time as $C_{S} = t_{CLK\\_S}$ and the destination clock arrival time as $C_{D} = t_{CLK\\_D}$. The earliest data arrival time at the destination input is\n$$\nt_{\\text{arrival,min}} = C_{S} + t_{CO} + t_{LOGIC}.\n$$\nThe required latest time that the old data must remain at the destination input (to satisfy hold) is\n$$\nt_{\\text{required,hold}} = C_{D} + t_{H}.\n$$\nThe hold slack is the difference between the earliest data arrival and the required hold boundary:\n$$\n\\text{slack}_{\\text{hold}} = t_{\\text{arrival,min}} - t_{\\text{required,hold}} = \\left(C_{S} + t_{CO} + t_{LOGIC}\\right) - \\left(C_{D} + t_{H}\\right).\n$$\nEquivalently, in terms of clock skew $t_{\\text{skew}} = C_{D} - C_{S}$,\n$$\n\\text{slack}_{\\text{hold}} = t_{CO} + t_{LOGIC} - t_{H} - t_{\\text{skew}}.\n$$\nSubstitute the given values:\n$$\nC_{S} = 1.10\\ \\text{ns},\\quad C_{D} = 2.80\\ \\text{ns},\\quad t_{CO} = 0.75\\ \\text{ns},\\quad t_{LOGIC} = 0.95\\ \\text{ns},\\quad t_{H} = 0.40\\ \\text{ns}.\n$$\nCompute the earliest arrival:\n$$\nt_{\\text{arrival,min}} = 1.10 + 0.75 + 0.95 = 2.80\\ \\text{ns}.\n$$\nCompute the required hold boundary:\n$$\nt_{\\text{required,hold}} = 2.80 + 0.40 = 3.20\\ \\text{ns}.\n$$\nTherefore, the hold slack is\n$$\n\\text{slack}_{\\text{hold}} = 2.80 - 3.20 = -0.40\\ \\text{ns}.\n$$\nRounded to three significant figures in nanoseconds, the hold slack is $-0.400$.", "answer": "$$\\boxed{-0.400}$$", "id": "1924330"}]}