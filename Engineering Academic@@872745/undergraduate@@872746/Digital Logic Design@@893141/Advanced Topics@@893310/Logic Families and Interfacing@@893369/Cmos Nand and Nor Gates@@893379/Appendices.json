{"hands_on_practices": [{"introduction": "Before analyzing complex behaviors, we must first understand the basic composition of CMOS gates. This foundational practice connects the abstract concept of an N-input logic gate to its physical implementation [@problem_id:1922013]. By simply counting the required transistors, you will establish a crucial rule for estimating the area and complexity of digital circuits.", "problem": "A digital circuit designer is tasked with implementing two separate logic gates for a new chip using standard static Complementary Metal-Oxide-Semiconductor (CMOS) technology. The first gate required is a 3-input NAND gate, and the second is a 3-input NOR gate. In this fabrication process, any N-input logic gate is constructed with a pull-up network (PUN) made of p-channel Metal-Oxide-Semiconductor Field-Effect Transistors (pMOS) and a pull-down network (PDN) made of n-channel Metal-Oxide-Semiconductor Field-Effect Transistors (nMOS). What is the total number of transistors (counting both pMOS and nMOS types) required to construct both the 3-input NAND gate and the 3-input NOR gate?", "solution": "In static CMOS logic, each input controls one nMOS in the pull-down network (PDN) and one pMOS in the pull-up network (PUN). The PUN is the dual of the PDN: series connections in the PDN correspond to parallel connections in the PUN and vice versa. Therefore, an $N$-input static CMOS gate uses $N$ nMOS transistors in the PDN and $N$ pMOS transistors in the PUN, for a total of $2N$ transistors per gate.\n\nFor a 3-input NAND gate, the PDN uses 3 nMOS transistors in series and the PUN uses 3 pMOS transistors in parallel. Hence, the transistor count is\n$$\n2N = 2 \\cdot 3 = 6.\n$$\nFor a 3-input NOR gate, the PDN uses 3 nMOS transistors in parallel and the PUN uses 3 pMOS transistors in series. Hence, the transistor count is\n$$\n2N = 2 \\cdot 3 = 6.\n$$\nThe total number of transistors required to construct both gates is the sum:\n$$\n6 + 6 = 12,\n$$\nequivalently,\n$$\n4N = 4 \\cdot 3 = 12.\n$$", "answer": "$$\\boxed{12}$$", "id": "1922013"}, {"introduction": "Real-world design often requires adapting available components for specific needs. This exercise tackles the practical problem of modifying a 3-input NAND gate to function as a 2-input one by correctly handling the unused input [@problem_id:1921961]. It demonstrates how simple logic goals must be balanced with sound electrical engineering principles to avoid unreliable or faulty circuit behavior.", "problem": "A digital systems engineer is tasked with implementing a 2-input NAND logic function using a pre-existing 3-input NAND gate fabricated with Complementary Metal-Oxide-Semiconductor (CMOS) technology. The inputs to the 3-input gate are denoted A, B, and C, and its output is Y. The goal is to use inputs A and B for the 2-input function, which means the unused input, C, must be terminated appropriately to ensure the circuit's output is $Y = \\overline{A \\cdot B}$.\n\nBelow are five proposed methods for handling the unused input C. In this context, VDD represents the positive supply voltage corresponding to logic HIGH ('1'), and VSS represents the ground reference corresponding to logic LOW ('0').\n\nWhich of the following methods are valid for correctly and reliably configuring the 3-input NAND gate to function as a 2-input NAND gate?\n\nA. Leave input C disconnected (floating).\n\nB. Connect input C to VSS.\n\nC. Connect input C to VDD.\n\nD. Connect input C to input A.\n\nE. Connect input C to the output Y.\n\nSelect all correct options.", "solution": "A 3-input NAND gate implements the Boolean function\n$$\nY=\\overline{A B C}.\n$$\nWe wish to configure it to behave as a 2-input NAND using inputs $A$ and $B$, i.e., to realize\n$$\nY=\\overline{A B}.\n$$\nWe analyze each proposed handling of the unused input $C$ using Boolean algebra and CMOS considerations.\n\nFirst, recall standard Boolean identities that will be used explicitly:\n- Identity with one: $X \\cdot 1 = X$.\n- Annihilator with zero: $X \\cdot 0 = 0$.\n- Idempotent law: $X \\cdot X = X$.\n\nOption A: Leave input $C$ floating.\nIn CMOS, an unconnected gate input has effectively very high impedance and presents a capacitive node susceptible to leakage and noise pickup. Its logic level becomes indeterminate, which makes $Y=\\overline{A B C}$ unpredictable and unreliable. Additionally, a floating input can cause increased static current and spurious switching. Therefore, leaving $C$ floating does not correctly or reliably realize $Y=\\overline{A B}$.\n\nOption B: Connect input $C$ to $VSS$ (logic $0$).\nSubstituting $C=0$ into $Y=\\overline{A B C}$ gives\n$$\nY=\\overline{A B \\cdot 0}=\\overline{0}=1,\n$$\nwhich is a constant $1$ independent of $A$ and $B$, not equal to $\\overline{A B}$ in general. Hence, this does not implement a 2-input NAND.\n\nOption C: Connect input $C$ to $VDD$ (logic $1$).\nSubstituting $C=1$ into $Y=\\overline{A B C}$ gives\n$$\nY=\\overline{A B \\cdot 1}=\\overline{A B},\n$$\nwhich matches the desired 2-input NAND function. At the transistor level in CMOS, tying $C$ high turns the $C$-input NMOS on (thus not preventing pull-down when $A=B=1$) and turns the $C$-input PMOS off (leaving the $A$ and $B$ PMOS in parallel to provide pull-up when at least one of $A$ or $B$ is $0$), consistent with correct NAND behavior. This is valid and reliable.\n\nOption D: Connect input $C$ to input $A$.\nSubstituting $C=A$ into $Y=\\overline{A B C}$ gives\n$$\nY=\\overline{A B A}=\\overline{(A A) B}=\\overline{A B},\n$$\nusing the idempotent law $A A = A$. Thus this also exactly realizes a 2-input NAND. This is valid and reliable.\n\nOption E: Connect input $C$ to the output $Y$.\nThis imposes the functional equation\n$$\nY=\\overline{A B Y}.\n$$\nConsider the two cases for $A B$:\n- If $A B=0$, then $Y=\\overline{0 \\cdot Y}=\\overline{0}=1$, which is consistent with $\\overline{A B}=1$.\n- If $A B=1$, then $Y=\\overline{1 \\cdot Y}=\\overline{Y}$, which has no Boolean fixed point because it requires $Y=\\overline{Y}$. In a real CMOS circuit, this forms an inverter with unity feedback, which does not have a stable static operating point; it can oscillate or become metastable. Therefore, this configuration is not correct or reliable.\n\nFrom the above, the valid methods are Option C and Option D.", "answer": "$$\\boxed{CD}$$", "id": "1921961"}, {"introduction": "We now move beyond simple logic and structure to optimize the analog performance of our digital gate. This advanced practice explores how to size transistors to achieve a symmetric switching threshold, which is critical for noise immunity and predictable timing [@problem_id:1921976]. You will apply device physics principles to determine the precise width-to-length ratio needed, illustrating a key technique in high-performance circuit design.", "problem": "A digital circuit designer is tasked with creating a 3-input Complementary Metal-Oxide-Semiconductor (CMOS) NOR gate. For optimal noise margins and predictable timing, the gate's logical threshold (also known as the switching threshold voltage, $V_M$) must be set exactly at half the supply voltage, i.e., $V_M = V_{DD}/2$. To achieve this, a specific sizing ratio between the PMOS and NMOS transistors must be implemented.\n\nFor the purpose of analyzing this threshold, assume that all three inputs to the NOR gate are tied together. The transistors operate with a supply voltage $V_{DD}$ and possess symmetric threshold voltages: the NMOS threshold voltage is $V_{tn}$ and the PMOS threshold voltage is $V_{tp}$, such that $V_{tn} = -V_{tp} = V_{T}$, where $V_T$ is a positive constant. All NMOS transistors in the design share an identical width-to-length ratio, $(W/L)_n$, and similarly, all PMOS transistors share an identical ratio, $(W/L)_p$.\n\nThe fabrication process yields an electron mobility $\\mu_n$ and a hole mobility $\\mu_p$ that are related by the expression $\\mu_n = 2.7 \\mu_p$. You may assume the oxide capacitance per unit area, $C_{ox}$, is the same for both transistor types. For this first-order analysis, neglect channel-length modulation and the body effect.\n\nDetermine the required sizing ratio, defined as $r = (W/L)_p / (W/L)_n$, to achieve the symmetric switching threshold. Express your final answer as a numerical value rounded to three significant figures.", "solution": "With all three inputs tied together, the 3-input NOR gate reduces for DC analysis to:\n- A pull-down network of three identical NMOS transistors in parallel.\n- A pull-up network of three identical PMOS transistors in series.\n\nAt the switching threshold, defined by $V_{in}=V_{out}=V_{M}$, the static condition for the switching point is equality of pull-up and pull-down currents:\n$$I_{p}(V_{in}=V_{M},V_{out}=V_{M})=I_{n}(V_{in}=V_{M},V_{out}=V_{M}).$$\n\nUsing the long-channel square-law model in saturation and neglecting channel-length modulation and body effect:\n- For a single NMOS at $V_{in}=V_{M}$ with source at ground and drain at $V_{out}=V_{M}$, $V_{GS}=V_{M}$ and $V_{DS}=V_{M}$. The saturation condition $V_{DS}\\geq V_{GS}-V_{T}$ is $V_{M}\\geq V_{M}-V_{T}$, which holds for $V_{T}\\geq 0$, so each NMOS is in saturation. The current of one NMOS branch is\n$$I_{n,\\text{single}}=\\frac{1}{2}\\mu_{n}C_{ox}(W/L)_{n}(V_{M}-V_{T})^{2}.$$\nWith three identical branches in parallel, the total pull-down current is\n$$I_{n,\\text{tot}}=3\\cdot \\frac{1}{2}\\mu_{n}C_{ox}(W/L)_{n}(V_{M}-V_{T})^{2}.$$\n\n- For the PMOS network, with three identical devices in series and all gates at $V_{M}$, a first-order design approximation treats the series stack as an effective single device whose transconductance parameter is reduced by the number of series devices (series channel resistances add). Thus the effective factor is $K_{p,\\text{eff}}=K_{p}/3$, where $K_{p}=\\frac{1}{2}\\mu_{p}C_{ox}(W/L)_{p}$. Near the switching threshold, the PMOS devices operate in saturation and the overdrive for a single PMOS referenced to $V_{DD}$ is $V_{SG}-V_{T}=(V_{DD}-V_{M})-V_{T}$. Therefore the total pull-up current is approximated by\n$$I_{p,\\text{tot}}=\\frac{1}{3}\\cdot \\frac{1}{2}\\mu_{p}C_{ox}(W/L)_{p}\\bigl((V_{DD}-V_{M})-V_{T}\\bigr)^{2}.$$\n\nFor a symmetric switching threshold $V_{M}=V_{DD}/2$ with symmetric thresholds $V_{tn}=V_{T}$ and $|V_{tp}|=V_{T}$, the NMOS and PMOS overdrives are equal:\n$$(V_{M}-V_{T})=\\left(\\frac{V_{DD}}{2}-V_{T}\\right),\\qquad (V_{DD}-V_{M})-V_{T}=\\left(\\frac{V_{DD}}{2}-V_{T}\\right).$$\nEnforcing $I_{p,\\text{tot}}=I_{n,\\text{tot}}$ gives\n$$\\frac{1}{3}\\cdot \\frac{1}{2}\\mu_{p}C_{ox}(W/L)_{p}\\left(\\frac{V_{DD}}{2}-V_{T}\\right)^{2}\n=3\\cdot \\frac{1}{2}\\mu_{n}C_{ox}(W/L)_{n}\\left(\\frac{V_{DD}}{2}-V_{T}\\right)^{2}.$$\nCanceling the common factors $\\frac{1}{2}C_{ox}\\left(\\frac{V_{DD}}{2}-V_{T}\\right)^{2}$ yields\n$$\\frac{1}{3}\\mu_{p}(W/L)_{p}=3\\,\\mu_{n}(W/L)_{n}.$$\nSolving for the required sizing ratio $r=(W/L)_{p}/(W/L)_{n}$ gives\n$$r=9\\,\\frac{\\mu_{n}}{\\mu_{p}}.$$\nGiven $\\mu_{n}=2.7\\,\\mu_{p}$, we obtain\n$$r=9\\times 2.7=24.3.$$\nRounded to three significant figures, this is $24.3$ as computed.", "answer": "$$\\boxed{24.3}$$", "id": "1921976"}]}