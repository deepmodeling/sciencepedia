{
    "hands_on_practices": [
        {
            "introduction": "The parameters of the Ebers-Moll model are not arbitrary fitting constants; they are deeply rooted in the physical structure and material properties of the transistor. This first practice challenges you to connect the abstract model to a concrete device by calculating the forward and reverse transport factors, $\\alpha_{F}$ and $\\alpha_{R}$, and saturation currents, $I_{ES}$ and $I_{CS}$, from fundamental semiconductor physics principles. By then numerically verifying the fundamental reciprocity relation, $I_{ES}\\alpha_{F} = I_{CS}\\alpha_{R}$, you will gain a deeper appreciation for the internal consistency and physical basis of the model .",
            "id": "3778051",
            "problem": "A uniformly doped silicon $n$-$p$-$n$ Bipolar Junction Transistor (BJT) is operated at $300~\\mathrm{K}$ under low-level injection, one-dimensional transport, and abrupt junction conditions. The base is uniformly doped, and depletion regions at both junctions fully collect carriers at their boundaries. The device has the following geometry and material parameters:\n- Emitter donor concentration $N_{E} = 1.0 \\times 10^{19}~\\mathrm{cm}^{-3}$.\n- Base acceptor concentration $N_{B} = 1.0 \\times 10^{17}~\\mathrm{cm}^{-3}$.\n- Collector donor concentration $N_{C} = 5.0 \\times 10^{16}~\\mathrm{cm}^{-3}$.\n- Intrinsic carrier concentration $n_{i} = 1.0 \\times 10^{10}~\\mathrm{cm}^{-3}$.\n- Base width $W_{B} = 5.0 \\times 10^{-5}~\\mathrm{cm}$.\n- Electron diffusion constant in the base $D_{nB} = 25.0~\\mathrm{cm}^{2}\\mathrm{/s}$ and corresponding minority electron lifetime in the base $\\tau_{nB} = 1.0 \\times 10^{-7}~\\mathrm{s}$.\n- Hole diffusion constant in the emitter $D_{pE} = 10.0~\\mathrm{cm}^{2}\\mathrm{/s}$ and corresponding minority hole lifetime in the emitter $\\tau_{pE} = 1.0 \\times 10^{-7}~\\mathrm{s}$.\n- Hole diffusion constant in the collector $D_{pC} = 12.0~\\mathrm{cm}^{2}\\mathrm{/s}$ and corresponding minority hole lifetime in the collector $\\tau_{pC} = 1.5 \\times 10^{-7}~\\mathrm{s}$.\n- Device cross-sectional area $A = 1.0 \\times 10^{-4}~\\mathrm{cm}^{2}$.\n- Elementary charge $q = 1.602176634 \\times 10^{-19}~\\mathrm{C}$.\n\nUsing only first-principles carrier transport in $p$-$n$ junctions and diffusion-recombination in a uniformly doped base, compute the forward common-base transport factor $\\alpha_{F}$ and the reverse common-base transport factor $\\alpha_{R}$ of the Ebers–Moll large-signal model. Then form the forward emitter saturation current $I_{ES}$ and reverse collector saturation current $I_{CS}$ from the corresponding diffusion-limited contributions at the emitter–base and collector–base junctions, respectively. Finally, evaluate the dimensionless ratio $R = \\dfrac{I_{ES}\\,\\alpha_{F}}{I_{CS}\\,\\alpha_{R}}$ to numerically verify reciprocity. Round your final answer for $R$ to six significant figures and report it as a pure number (no units).",
            "solution": "The problem requires the calculation of the forward and reverse common-base transport factors, $\\alpha_{F}$ and $\\alpha_{R}$, and the forward and reverse saturation currents, $I_{ES}$ and $I_{CS}$, for a given $n$-$p$-$n$ Bipolar Junction Transistor (BJT). These are the fundamental parameters of the Ebers-Moll large-signal model. The final objective is to compute the ratio $R = \\dfrac{I_{ES}\\,\\alpha_{F}}{I_{CS}\\,\\alpha_{R}}$ to numerically verify the reciprocity relation, which states that $I_{ES}\\,\\alpha_{F} = I_{CS}\\,\\alpha_{R}$. The problem is well-posed and scientifically grounded, with all necessary parameters provided for a solution based on first-principles carrier transport.\n\nWe begin by calculating the necessary physical quantities from the given parameters. The temperature is $T=300~\\mathrm{K}$. The thermal voltage is $V_T = k_B T/q$, but it is not directly needed as the Ebers-Moll parameters are defined independently of the operating voltages.\n\nFirst, we calculate the minority carrier diffusion lengths in the emitter, base, and collector regions. The diffusion length $L$ is related to the diffusion constant $D$ and the minority carrier lifetime $\\tau$ by $L = \\sqrt{D\\tau}$.\n\nThe minority carrier (electron) diffusion length in the $p$-type base is:\n$$L_{nB} = \\sqrt{D_{nB}\\tau_{nB}} = \\sqrt{(25.0~\\mathrm{cm}^2\\mathrm{/s}) \\times (1.0 \\times 10^{-7}~\\mathrm{s})} = \\sqrt{2.5 \\times 10^{-6}~\\mathrm{cm}^2} = 1.5811388... \\times 10^{-3}~\\mathrm{cm}$$\n\nThe minority carrier (hole) diffusion length in the $n$-type emitter is:\n$$L_{pE} = \\sqrt{D_{pE}\\tau_{pE}} = \\sqrt{(10.0~\\mathrm{cm}^2\\mathrm{/s}) \\times (1.0 \\times 10^{-7}~\\mathrm{s})} = \\sqrt{1.0 \\times 10^{-6}~\\mathrm{cm}^2} = 1.0 \\times 10^{-3}~\\mathrm{cm}$$\n\nThe minority carrier (hole) diffusion length in the $n$-type collector is:\n$$L_{pC} = \\sqrt{D_{pC}\\tau_{pC}} = \\sqrt{(12.0~\\mathrm{cm}^2\\mathrm{/s}) \\times (1.5 \\times 10^{-7}~\\mathrm{s})} = \\sqrt{1.8 \\times 10^{-6}~\\mathrm{cm}^2} = 1.3416407... \\times 10^{-3}~\\mathrm{cm}$$\n\nThe problem requires using the model for a uniformly doped base of finite width $W_B$. A key dimensionless parameter is the ratio of the base width to the minority carrier diffusion length in the base:\n$$x = \\frac{W_B}{L_{nB}} = \\frac{5.0 \\times 10^{-5}~\\mathrm{cm}}{1.5811388... \\times 10^{-3}~\\mathrm{cm}} = 0.03162277...$$\n\nThe common-base transport factor $\\alpha$ is the product of the base transport factor $\\alpha_T$ and the emitter injection efficiency $\\gamma$.\n\nThe base transport factor, $\\alpha_T$, accounts for recombination in the base. For a uniformly doped base, it is given by:\n$$\\alpha_T = \\mathrm{sech}\\left(\\frac{W_B}{L_{nB}}\\right) = \\mathrm{sech}(x)$$\nDue to the symmetry of the diffusion process, the reverse base transport factor $\\alpha_{TR}$ is identical to the forward one, i.e., $\\alpha_{TR} = \\alpha_T$.\n$$\\alpha_T = \\mathrm{sech}(0.03162277...) = 0.9995001249$$\n\nThe forward emitter injection efficiency, $\\gamma_F$, is the ratio of electron current injected from the emitter to the total emitter current.\n$$\\gamma_F = \\frac{1}{1 + \\frac{I_{pE}}{I_{nE}}}$$\nThe ratio of the hole current injected into the emitter ($I_{pE}$) to the electron current injected into the base ($I_{nE}$) is given by:\n$$\\frac{I_{pE}}{I_{nE}} = \\frac{A q \\frac{D_{pE}}{L_{pE}} p_{n0,E}}{A q \\frac{D_{nB}}{L_{nB}} n_{p0,B} \\coth\\left(\\frac{W_B}{L_{nB}}\\right)} = \\frac{D_{pE} N_B L_{nB}}{D_{nB} N_E L_{pE}} \\tanh\\left(\\frac{W_B}{L_{nB}}\\right)$$\nwhere $p_{n0,E} = n_i^2/N_E$ and $n_{p0,B} = n_i^2/N_B$ are the equilibrium minority carrier concentrations.\nLet's compute this ratio:\n$$G_E = \\frac{D_{pE} N_B L_{nB}}{D_{nB} N_E L_{pE}} = \\frac{(10.0) (1.0 \\times 10^{17}) (1.5811388... \\times 10^{-3})}{(25.0) (1.0 \\times 10^{19}) (1.0 \\times 10^{-3})} = 0.006324555...$$\n$$\\frac{I_{pE}}{I_{nE}} = G_E \\tanh(x) = (0.006324555...) \\times \\tanh(0.03162277...) = 0.0001999500...$$\n$$\\gamma_F = \\frac{1}{1 + 0.0001999500...} = 0.9998000899...$$\nThe forward common-base transport factor is $\\alpha_F = \\gamma_F \\alpha_T$:\n$$\\alpha_F = (0.9998000899...) \\times (0.9995001249...) = 0.999300614...$$\n\nThe reverse collector injection efficiency, $\\gamma_R$, is calculated analogously for the transistor in reverse-active mode:\n$$\\gamma_R = \\frac{1}{1 + \\frac{I_{pC}}{I_{nC,rev}}}$$\nThe ratio of hole current injected into the collector to the electron current injected into the base from the collector side is:\n$$\\frac{I_{pC}}{I_{nC,rev}} = \\frac{D_{pC} N_B L_{nB}}{D_{nB} N_C L_{pC}} \\tanh\\left(\\frac{W_B}{L_{nB}}\\right)$$\nLet's compute this ratio:\n$$G_C = \\frac{D_{pC} N_B L_{nB}}{D_{nB} N_C L_{pC}} = \\frac{(12.0) (1.0 \\times 10^{17}) (1.5811388... \\times 10^{-3})}{(25.0) (5.0 \\times 10^{16}) (1.3416407... \\times 10^{-3})} = 1.1313695...$$\n$$\\frac{I_{pC}}{I_{nC,rev}} = G_C \\tanh(x) = (1.1313695...) \\times \\tanh(0.03162277...) = 0.03575646...$$\n$$\\gamma_R = \\frac{1}{1 + 0.03575646...} = 0.9654763...$$\nThe reverse common-base transport factor is $\\alpha_R = \\gamma_R \\alpha_{TR} = \\gamma_R \\alpha_T$:\n$$\\alpha_R = (0.9654763...) \\times (0.9995001249...) = 0.9649938...$$\n\nNext, we compute the saturation currents $I_{ES}$ and $I_{CS}$.\nThe forward emitter saturation current $I_{ES}$ is the sum of ideal diffusion current components at the emitter-base junction:\n$$I_{ES} = A q n_i^2 \\left( \\frac{D_{pE}}{L_{pE} N_E} + \\frac{D_{nB}}{L_{nB} N_B} \\coth\\left(\\frac{W_B}{L_{nB}}\\right) \\right)$$\nThe two terms in the parenthesis are:\n$$S_E = \\frac{D_{pE}}{L_{pE} N_E} = \\frac{10.0}{(1.0 \\times 10^{-3}) (1.0 \\times 10^{19})} = 1.0 \\times 10^{-15}~\\mathrm{cm}^4\\mathrm{/s}$$\n$$S_B = \\frac{D_{nB}}{L_{nB} N_B} \\coth(x) = \\frac{25.0}{(1.5811388... \\times 10^{-3}) (1.0 \\times 10^{17})} \\coth(0.03162277...) = 5.0 \\times 10^{-12}~\\mathrm{cm}^4\\mathrm{/s}$$\n$$I_{ES} = (1.0 \\times 10^{-4}~\\mathrm{cm}^2) (1.602176634 \\times 10^{-19}~\\mathrm{C}) (1.0 \\times 10^{10}~\\mathrm{cm}^{-3})^2 \\times (1.0 \\times 10^{-15} + 5.0 \\times 10^{-12})~\\mathrm{cm}^4\\mathrm{/s}$$\n$$I_{ES} = (1.602176634 \\times 10^{-3}) \\times (5.001 \\times 10^{-12})~\\mathrm{A} = 8.0124853... \\times 10^{-15}~\\mathrm{A}$$\n\nThe reverse collector saturation current $I_{CS}$ is analogously:\n$$I_{CS} = A q n_i^2 \\left( \\frac{D_{pC}}{L_{pC} N_C} + \\frac{D_{nB}}{L_{nB} N_B} \\coth\\left(\\frac{W_B}{L_{nB}}\\right) \\right)$$\nThe base term $S_B$ is the same. The collector term is:\n$$S_C = \\frac{D_{pC}}{L_{pC} N_C} = \\frac{12.0}{(1.3416407... \\times 10^{-3}) (5.0 \\times 10^{16})} = 1.7888543... \\times 10^{-13}~\\mathrm{cm}^4\\mathrm{/s}$$\n$$I_{CS} = (1.602176634 \\times 10^{-3}) \\times (1.7888543... \\times 10^{-13} + 5.0 \\times 10^{-12})~\\mathrm{A}$$\n$$I_{CS} = (1.602176634 \\times 10^{-3}) \\times (5.1788854... \\times 10^{-12})~\\mathrm{A} = 8.2974486... \\times 10^{-15}~\\mathrm{A}$$\n\nFinally, we compute the ratio $R = \\dfrac{I_{ES}\\,\\alpha_{F}}{I_{CS}\\,\\alpha_{R}}$. First, let's show this analytically.\nThe forward injection efficiency is $\\gamma_F = \\frac{S_B}{S_E+S_B}$, where $S_B=\\frac{D_{nB}}{L_{nB}N_B}\\coth(x)$ and $S_E=\\frac{D_{pE}}{L_{pE}N_E}$. The transport factor is $\\alpha_T=\\text{sech}(x)$. So $\\alpha_F = \\gamma_F \\alpha_T$.\nThen $I_{ES}\\alpha_{F} = A q n_i^2 (S_E+S_B) \\times \\frac{S_B}{S_E+S_B} \\times \\text{sech}(x) = A q n_i^2 S_B \\text{sech}(x)$.\nSimilarly, the reverse injection efficiency is $\\gamma_R = \\frac{S_B}{S_C+S_B}$, where $S_C=\\frac{D_{pC}}{L_{pC}N_C}$. So $\\alpha_R = \\gamma_R \\alpha_T$.\nThen $I_{CS}\\alpha_{R} = A q n_i^2 (S_C+S_B) \\times \\frac{S_B}{S_C+S_B} \\times \\text{sech}(x) = A q n_i^2 S_B \\text{sech}(x)$.\nThe terms are identical, so the reciprocity relation $I_{ES}\\alpha_F = I_{CS}\\alpha_R$ holds analytically. The ratio $R$ must be exactly $1$.\n\nTo numerically verify, we use the computed values:\n$$I_{ES}\\alpha_{F} = (8.0124853... \\times 10^{-15}~\\mathrm{A}) \\times (0.999300614...) = 8.006880... \\times 10^{-15}~\\mathrm{A}$$\n$$I_{CS}\\alpha_{R} = (8.2974486... \\times 10^{-15}~\\mathrm{A}) \\times (0.9649938...) = 8.006880... \\times 10^{-15}~\\mathrm{A}$$\nThe numerical products are identical, confirming the reciprocity relation.\nThe ratio is:\n$$R = \\frac{8.006880... \\times 10^{-15}}{8.006880... \\times 10^{-15}} = 1.0$$\nRounding to six significant figures as requested, the result is $1.00000$.",
            "answer": "$$\\boxed{1.00000}$$"
        },
        {
            "introduction": "While ideal models are useful for initial design, real-world circuit performance depends on non-ideal effects. This exercise moves from device physics to circuit analysis, asking you to quantify the impact of a non-zero reverse transport factor, $\\alpha_{R}$, on the DC operating point of a standard BJT amplifier. Using first-order perturbation theory, you will derive the shift in collector current and voltage, providing a concrete example of how the Ebers-Moll model predicts deviations from idealized behavior .",
            "id": "3778060",
            "problem": "Consider a biased $n$-$p$-$n$ bipolar junction transistor (BJT) operated in forward-active region. The collector is connected to a supply through a resistor, the base is biased from a Thevenin source, and the emitter is grounded. Specifically, the circuit is:\n- Collector node connected to a supply $V_{CC}$ through a resistor $R_{C}$.\n- Base node driven by a Thevenin source $V_{BB}$ in series with a resistor $R_{B}$.\n- Emitter node connected to ground.\n\nAssume an Ebers–Moll large-signal description grounded in the Shockley diode law for both junctions, with forward transport factor $\\alpha_{F}$, reverse transport factor $\\alpha_{R}$, base–emitter saturation current $I_{ES}$, collector–base saturation current $I_{CS}$, and thermal voltage $V_{T}$. Neglect the Early effect and any series resistances. Let $\\beta_{F} \\equiv \\alpha_{F}/(1-\\alpha_{F})$.\n\nAn initial “design” operating point $\\{I_{C0}, V_{CE0}\\}$ is obtained by assuming ideal forward-active behavior that neglects the collector–base diode conduction and sets $\\alpha_{R}=0$. Treat $\\{I_{C0}, V_{CE0}\\}$ as known reference values consistent with the given circuit and parameters. The base–emitter voltage at this reference is $V_{BE0}$, and the collector voltage is $V_{C0} = V_{CC} - I_{C0} R_{C}$. The base–collector voltage at the reference is $V_{BC0} = V_{B0} - V_{C0} = V_{BE0} - V_{C0}$, with $|V_{BC0}| \\gg V_{T}$ in forward-active operation.\n\nNow reinstate a finite reverse transport factor $\\alpha_{R} \\neq 0$ and a finite collector–base saturation current $I_{CS} \\neq 0$ in the Ebers–Moll description. Working to first order in the small parameters $\\alpha_{R}$ and $I_{CS}$ about the ideal reference $\\{I_{C0}, V_{CE0}\\}$, and using $|V_{BC0}| \\gg V_{T}$ to simplify the collector–base diode exponential at the reference, derive the closed-form expressions for the bias shifts in collector current and collector–emitter voltage caused by the finite $\\alpha_{R}$ alone (i.e., the component of the error proportional to $\\alpha_{R}$). Express your final result for\n- $\\Delta I_{C}^{(\\alpha_{R})} \\equiv I_{C} - I_{C0}$ in amperes, and\n- $\\Delta V_{CE}^{(\\alpha_{R})} \\equiv V_{CE} - V_{CE0}$ in volts,\n\nin terms of the circuit and model parameters $I_{C0}$, $\\beta_{F}$, $R_{B}$, $R_{C}$, $\\alpha_{R}$, $I_{CS}$, and $V_{T}$. You may assume that products of small first-order quantities (such as $\\alpha_{R} I_{CS}$ times first-order voltage shifts) are negligible. Provide your final answer as a single row vector $[\\Delta I_{C}^{(\\alpha_{R})},\\ \\Delta V_{CE}^{(\\alpha_{R})}]$. No numerical evaluation is required, and no rounding is needed. Units should not be included in the final boxed expression, but the interpretation must be as specified above.",
            "solution": "The Ebers–Moll equations for the collector and emitter currents, $I_C$ and $I_E$, with currents defined as positive flowing into the device, are given by:\n$$I_C = \\alpha_F I_{ES}(\\exp(V_{BE}/V_T) - 1) - I_{CS}(\\exp(V_{BC}/V_T) - 1)$$\n$$I_E = -I_{ES}(\\exp(V_{BE}/V_T) - 1) + \\alpha_R I_{CS}(\\exp(V_{BC}/V_T) - 1)$$\nThe base current is given by Kirchhoff's Current Law, $I_B = -I_E - I_C$ (with currents defined as flowing into the device):\n$$I_B = (1-\\alpha_F)I_{ES}(\\exp(V_{BE}/V_T) - 1) + (1-\\alpha_R)I_{CS}(\\exp(V_{BC}/V_T) - 1)$$\nThe problem defines an ideal reference operating point $\\{I_{C0}, V_{CE0}\\}$ where $\\alpha_R=0$ and the collector-base diode conduction is neglected. This implies setting the term $I_{CS}(\\exp(V_{BC}/V_T)-1)$ to zero. The reference model is thus:\n$$I_{C0} = \\alpha_F I_{ES}(\\exp(V_{BE0}/V_T) - 1)$$\n$$I_{B0} = (1-\\alpha_F)I_{ES}(\\exp(V_{BE0}/V_T) - 1) = \\frac{I_{C0}}{\\beta_F}$$\nThe external circuit equations at this reference point are:\n$$V_{BB} = I_{B0} R_B + V_{BE0}$$\n$$V_{CE0} = V_{CC} - I_{C0} R_C$$\n\nNow we introduce the non-ideal effects. We perform a first-order perturbation analysis around the reference point. Let $I_C = I_{C0} + \\Delta I_C$, $I_B = I_{B0} + \\Delta I_B$, $V_{BE} = V_{BE0} + \\Delta V_{BE}$, and $V_{CE} = V_{CE0} + \\Delta V_{CE}$. The problem states that for the reference point, $|V_{BC0}| \\gg V_T$. Since the BJT is in forward-active mode, $V_{BC0}$ is negative, so $V_{BC0} \\ll -V_T$. This allows the approximation $\\exp(V_{BC0}/V_T) \\approx 0$. To first order, we approximate $\\exp(V_{BC}/V_T) \\approx \\exp(V_{BC0}/V_T) \\approx 0$. Thus, the term $(\\exp(V_{BC}/V_T) - 1) \\approx -1$.\n\nThe expressions for $I_C$ and $I_B$ become:\n$$I_C \\approx \\alpha_F I_{ES}(\\exp(V_{BE}/V_T) - 1) + I_{CS}$$\n$$I_B \\approx (1-\\alpha_F)I_{ES}(\\exp(V_{BE}/V_T) - 1) - (1-\\alpha_R)I_{CS}$$\n\nWe linearize these equations around the operating point. Assuming forward active bias where $\\exp(V_{BE0}/V_T) \\gg 1$:\n$I_{C0} + \\Delta I_C \\approx \\alpha_F I_{ES}\\exp(V_{BE0}/V_T)(1 + \\Delta V_{BE}/V_T) + I_{CS} \\approx I_{C0}(1 + \\Delta V_{BE}/V_T) + I_{CS}$\nThe first-order shift in collector current is:\n$$\\Delta I_C \\approx \\frac{I_{C0}}{V_T} \\Delta V_{BE} + I_{CS}$$\nFor the base current:\n$I_{B0} + \\Delta I_B \\approx (1-\\alpha_F)I_{ES}\\exp(V_{BE0}/V_T)(1 + \\Delta V_{BE}/V_T) - (1-\\alpha_R)I_{CS} \\approx I_{B0}(1 + \\Delta V_{BE}/V_T) - (1-\\alpha_R)I_{CS}$\nThe first-order shift in base current is:\n$$\\Delta I_B \\approx \\frac{I_{B0}}{V_T} \\Delta V_{BE} - (1-\\alpha_R)I_{CS} = \\frac{I_{C0}}{\\beta_F V_T} \\Delta V_{BE} - I_{CS} + \\alpha_R I_{CS}$$\nThis shows two perturbation source terms affecting the base current: $-I_{CS}$ and $+\\alpha_R I_{CS}$.\n\nThe external circuit imposes constraints on the shifts. From the base loop, $V_{BB} = I_B R_B + V_{BE}$. Since $V_{BB}$ is constant, the shift equation is $0 = \\Delta I_B R_B + \\Delta V_{BE}$, or:\n$$\\Delta V_{BE} = -\\Delta I_B R_B$$\n\nThe problem asks for the shifts caused by $\\alpha_R$ alone. By the principle of superposition for this linearized system, we isolate the effect of the perturbation source term proportional to $\\alpha_R$, which is $\\delta I_{B, \\text{source}}^{(\\alpha_R)} = \\alpha_R I_{CS}$. We set all other perturbation sources to zero. The relevant linearized equations become:\n1) $\\Delta I_B^{(\\alpha_R)} = \\frac{I_{B0}}{V_T} \\Delta V_{BE}^{(\\alpha_R)} + \\alpha_R I_{CS}$\n2) $\\Delta V_{BE}^{(\\alpha_R)} = -\\Delta I_B^{(\\alpha_R)} R_B$\n3) $\\Delta I_C^{(\\alpha_R)} = \\frac{I_{C0}}{V_T} \\Delta V_{BE}^{(\\alpha_R)}$\n\nSubstitute (2) into (1):\n$\\Delta I_B^{(\\alpha_R)} = \\frac{I_{B0}}{V_T} (-\\Delta I_B^{(\\alpha_R)} R_B) + \\alpha_R I_{CS}$\n$\\Delta I_B^{(\\alpha_R)} (1 + \\frac{I_{B0} R_B}{V_T}) = \\alpha_R I_{CS}$\nSolving for $\\Delta I_B^{(\\alpha_R)}$:\n$\\Delta I_B^{(\\alpha_R)} = \\frac{\\alpha_R I_{CS}}{1 + \\frac{I_{B0} R_B}{V_T}} = \\frac{\\alpha_R I_{CS}}{1 + \\frac{I_{C0} R_B}{\\beta_F V_T}}$\n\nNow find $\\Delta V_{BE}^{(\\alpha_R)}$ using (2):\n$\\Delta V_{BE}^{(\\alpha_R)} = -R_B \\left( \\frac{\\alpha_R I_{CS}}{1 + \\frac{I_{C0} R_B}{\\beta_F V_T}} \\right)$\n\nFinally, find $\\Delta I_C^{(\\alpha_R)}$ using (3):\n$$\\Delta I_C^{(\\alpha_R)} = \\frac{I_{C0}}{V_T} \\left( - \\frac{\\alpha_R I_{CS} R_B}{1 + \\frac{I_{C0} R_B}{\\beta_F V_T}} \\right) = - \\frac{\\alpha_{R} I_{CS} \\frac{I_{C0} R_B}{V_T}}{1 + \\frac{I_{C0} R_B}{\\beta_F V_T}}$$\n\nFor the second part, the shift in collector-emitter voltage, $\\Delta V_{CE}^{(\\alpha_R)}$, we use the collector loop equation: $V_{CE} = V_{CC} - I_C R_C$. The first-order shift is:\n$$\\Delta V_{CE}^{(\\alpha_R)} = -\\Delta I_C^{(\\alpha_R)} R_C$$\nSubstituting the derived expression for $\\Delta I_C^{(\\alpha_R)}$:\n$$\\Delta V_{CE}^{(\\alpha_R)} = - \\left( - \\frac{\\alpha_R I_{CS} \\frac{I_{C0} R_B}{V_T}}{1 + \\frac{I_{C0} R_B}{\\beta_F V_T}} \\right) R_C = \\frac{\\alpha_R I_{CS} R_C \\frac{I_{C0} R_B}{V_T}}{1 + \\frac{I_{C0} R_B}{\\beta_F V_T}}$$\nThe final answer is the row vector $[\\Delta I_C^{(\\alpha_R)}, \\Delta V_{CE}^{(\\alpha_R)}]$.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n-\\frac{\\alpha_{R} I_{CS} \\frac{I_{C0} R_{B}}{V_{T}}}{1 + \\frac{I_{C0} R_{B}}{\\beta_{F} V_{T}}}  \\frac{\\alpha_{R} I_{CS} R_{C} \\frac{I_{C0} R_{B}}{V_{T}}}{1 + \\frac{I_{C0} R_{B}}{\\beta_{F} V_{T}}}\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "A model's true power is realized when it can be accurately calibrated to experimental data. This final, computational practice puts you in the role of a characterization engineer, where you will develop a program to extract Ebers-Moll parameters from synthetic current-voltage data using linear least squares. Furthermore, you will investigate the robustness of your extraction by quantifying the sensitivity of the extracted saturation current, $\\widehat{I}_{ES}$, to a small error in the thermal voltage, $V_{T}$, providing a crucial insight into the challenges of real-world device modeling .",
            "id": "3778030",
            "problem": "You are to write a complete, runnable program that uses the Ebers–Moll large-signal model of a Bipolar Junction Transistor (BJT) to generate synthetic current–voltage data, extract model parameters from that data, and quantify the sensitivity of the extracted saturation current to a small error in the thermal voltage. The derivation and algorithm must proceed from fundamental principles and well-tested facts, not by quoting the target model formulas. Start from the pn-junction current–voltage relation and the definition of thermal voltage, under the usual ideal-transistor assumptions (low-level injection, quasi-neutral regions with negligible recombination, and reciprocity of carrier transport across the base), and derive a forward-model mapping from base–emitter voltage and base–collector voltage to the collector current and to the constant offset induced by the reverse-biased junction. Based on this mapping, design a linear-in-parameters extraction method for the unknown junction saturation currents, assuming the forward transport factor is known. Your method must be applicable to multiple data points of base–emitter voltage at a fixed base–collector voltage, and must explicitly handle the constant offset arising from a fixed reverse bias.\n\nYour program must implement the following steps.\n\n1) Synthetic data generation:\n- For each test case, generate synthetic collector-current data from a physically realistic model for a Bipolar Junction Transistor (BJT), with base–emitter voltage samples $\\{V_{BE,i}\\}$ at a fixed base–collector voltage $V_{BC}$. Use the thermal voltage definition $V_{T} = k_{B} T / q$ only as a fundamental starting point; specific numerical values are provided in the test suite. Currents must be in amperes ($\\mathrm{A}$), and voltages in volts ($\\mathrm{V}$).\n\n2) Parameter extraction with known forward transport factor:\n- Assume the forward transport factor $\\alpha_{F}$ is known. Show how the mapping from $\\{V_{BE,i}\\}$ to the collector current $I_{C}$ at fixed $V_{BC}$ can be written so that the dependence on the emitter-side saturation current $I_{ES}$ is linear in a regressor constructed from $\\exp(V_{BE,i}/V_{T})$ and includes a constant offset due to the fixed $V_{BC}$. Use linear least squares over the multiple data points to extract both $I_{ES}$ and the collector-side saturation current $I_{CS}$, treating the constant offset as an unknown intercept. Express all extracted currents in amperes ($\\mathrm{A}$).\n\n3) Sensitivity of $I_{ES}$ to small thermal voltage error:\n- For each test case, repeat the extraction twice with a slightly misspecified thermal voltage $V_{T}^{\\pm} = V_{T} (1 \\pm \\varepsilon)$, where $\\varepsilon = 0.02$ is a small dimensionless error. Quantify the impact on the inferred emitter-side saturation current by reporting the ratios $R_{\\pm} = \\widehat{I}_{ES}(V_{T}^{\\pm}) / \\widehat{I}_{ES}(V_{T})$ as unitless decimal numbers.\n\n4) Output format:\n- For each test case, compute and return a list of four numbers: $\\left[\\widehat{I}_{ES}(V_{T}), \\widehat{I}_{CS}(V_{T}), R_{+}, R_{-}\\right]$, where the two currents are in amperes ($\\mathrm{A}$) and the two ratios are unitless decimals.\n- Your program should produce a single line of output containing the results for all test cases concatenated and enclosed in a single pair of square brackets, with comma separation. For example, if there are three test cases, the output must be of the form:\n\"[Ies1,Ics1,Rp1,Rm1,Ies2,Ics2,Rp2,Rm2,Ies3,Ics3,Rp3,Rm3]\".\n- No additional text must be printed.\n\nTest suite specification:\nImplement exactly the following three test cases, each with its own synthetic data set:\n\n- Test case 1 (typical forward-active, room temperature):\n    - $I_{ES}^{\\text{true}} = 1.0 \\times 10^{-15}\\ \\mathrm{A}$, $I_{CS}^{\\text{true}} = 5.0 \\times 10^{-15}\\ \\mathrm{A}$, $\\alpha_{F} = 0.985$.\n    - $V_{T} = 2.585 \\times 10^{-2}\\ \\mathrm{V}$.\n    - $V_{BC} = -5.0 \\times 10^{-1}\\ \\mathrm{V}$.\n    - $V_{BE}$ samples: an arithmetic progression from $5.5 \\times 10^{-1}\\ \\mathrm{V}$ to $7.0 \\times 10^{-1}\\ \\mathrm{V}$ with step $1.0 \\times 10^{-2}\\ \\mathrm{V}$ inclusive.\n\n- Test case 2 (different junction scales, moderate reverse bias):\n    - $I_{ES}^{\\text{true}} = 1.0 \\times 10^{-12}\\ \\mathrm{A}$, $I_{CS}^{\\text{true}} = 1.0 \\times 10^{-12}\\ \\mathrm{A}$, $\\alpha_{F} = 0.990$.\n    - $V_{T} = 2.585 \\times 10^{-2}\\ \\mathrm{V}$.\n    - $V_{BC} = -2.0 \\times 10^{-1}\\ \\mathrm{V}$.\n    - $V_{BE}$ samples: an arithmetic progression from $3.0 \\times 10^{-1}\\ \\mathrm{V}$ to $4.5 \\times 10^{-1}\\ \\mathrm{V}$ with step $1.5 \\times 10^{-2}\\ \\mathrm{V}$ inclusive.\n\n- Test case 3 (elevated thermal voltage, reduced transport factor):\n    - $I_{ES}^{\\text{true}} = 1.0 \\times 10^{-13}\\ \\mathrm{A}$, $I_{CS}^{\\text{true}} = 2.0 \\times 10^{-13}\\ \\mathrm{A}$, $\\alpha_{F} = 0.960$.\n    - $V_{T} = 3.470 \\times 10^{-2}\\ \\mathrm{V}$.\n    - $V_{BC} = -3.0 \\times 10^{-1}\\ \\mathrm{V}$.\n    - $V_{BE}$ samples: an arithmetic progression from $4.0 \\times 10^{-1}\\ \\mathrm{V}$ to $6.0 \\times 10^{-1}\\ \\mathrm{V}$ with step $2.0 \\times 10^{-2}\\ \\mathrm{V}$ inclusive.\n\nAlgorithmic requirements and numerical details:\n- Use the ideal-junction exponential dependence without any series resistance, high-level injection, or Early effect corrections.\n- Construct, for each test case and each assumed thermal voltage, the regressor $x_{i} = \\exp(V_{BE,i}/V_{T}) - 1$ and fit a line $y_{i} = a x_{i} + b$ to the synthetic collector current data $\\{y_{i}\\}$ by least squares over all samples. From the fitted slope and intercept, recover $\\widehat{I}_{ES}$ and $\\widehat{I}_{CS}$ using known $\\alpha_{F}$ and the fixed $V_{BC}$ for that test case. Express both recovered currents in amperes ($\\mathrm{A}$).\n- Use $\\varepsilon = 2.0 \\times 10^{-2}$ for the thermal voltage perturbations $V_{T}^{\\pm}$.\n- The final output must be a single line containing the concatenated list of $\\left[\\widehat{I}_{ES}(V_{T}), \\widehat{I}_{CS}(V_{T}), R_{+}, R_{-}\\right]$ for all three test cases, as a comma-separated list in one pair of square brackets, with no spaces and no additional text.\n\nYour solution must be general and must not rely on any library beyond standard numerical tools. Do not request input; all values are specified here. All results that involve angles must be expressed in radians if they appear; this problem has no angular quantities. All randomized elements are forbidden; use exactly the values given here so that the output is deterministic.",
            "solution": "The Ebers-Moll model describes the collector current $I_C$ of a BJT as:\n$$\nI_C = \\alpha_F I_{ES} \\left( e^{V_{BE} / V_T} - 1 \\right) - I_{CS} \\left( e^{V_{BC} / V_T} - 1 \\right)\n$$\nwhere $I_{ES}$ and $I_{CS}$ are the saturation currents, $\\alpha_F$ is the forward transport factor, $V_{BE}$ and $V_{BC}$ are the junction voltages, and $V_T$ is the thermal voltage.\n\n**1. Linear Regression Formulation**\nFor parameter extraction, we are given a set of measurements of $I_C$ versus $V_{BE}$ at a fixed $V_{BC}$. We can rearrange the equation into a linear form $y = ax + b$:\n$$\nI_C = (\\alpha_F I_{ES}) \\left( e^{V_{BE} / V_T} - 1 \\right) + \\left[ -I_{CS} \\left( e^{V_{BC} / V_T} - 1 \\right) \\right]\n$$\nWe identify the terms:\n-   $y = I_C$ (the dependent variable, our measurement)\n-   $x = e^{V_{BE} / V_T} - 1$ (the independent variable, or regressor)\n-   $a = \\alpha_F I_{ES}$ (the slope)\n-   $b = -I_{CS} (e^{V_{BC} / V_T} - 1)$ (the intercept, which is constant for a fixed $V_{BC}$)\n\nGiven a set of $N$ data points $(x_i, y_i)$, we can find the best-fit slope $\\widehat{a}$ and intercept $\\widehat{b}$ using linear least squares by solving the normal equations: $\\mathbf{p} = (A^T A)^{-1} A^T \\mathbf{y}$, where $\\mathbf{p} = [\\widehat{a}, \\widehat{b}]^T$ and $A$ is the design matrix.\n\n**2. Parameter Recovery**\nOnce $\\widehat{a}$ and $\\widehat{b}$ are found, we recover the estimates for the saturation currents, $\\widehat{I}_{ES}$ and $\\widehat{I}_{CS}$:\n$$\n\\widehat{I}_{ES} = \\frac{\\widehat{a}}{\\alpha_F}\n$$\n$$\n\\widehat{I}_{CS} = -\\frac{\\widehat{b}}{e^{V_{BC} / V_T} - 1}\n$$\n\n**3. Synthetic Data and Sensitivity Analysis**\nThe algorithm proceeds as follows for each test case:\n1.  Generate synthetic collector current data $\\{y_i\\}$ using the true parameters ($I_{ES}^{\\text{true}}$, $I_{CS}^{\\text{true}}$, $\\alpha_F$) and the nominal thermal voltage $V_T$.\n2.  Perform a linear least-squares fit on this data using the nominal $V_T$ to calculate the regressor $x_i = e^{V_{BE,i}/V_T} - 1$. Extract the estimated parameters $\\widehat{I}_{ES}(V_T)$ and $\\widehat{I}_{CS}(V_T)$. Since the data is noise-free, these will match the true values.\n3.  Define perturbed thermal voltages $V_T^{\\pm} = V_T(1 \\pm \\varepsilon)$.\n4.  Repeat the least-squares fit on the *same* synthetic data $\\{y_i\\}$, but now using the perturbed thermal voltages $V_T^+$ and $V_T^-$ to calculate the regressors. This simulates an error in the assumed value of $V_T$ during analysis.\n5.  From these fits, extract the new estimates $\\widehat{I}_{ES}(V_T^+)$ and $\\widehat{I}_{ES}(V_T^-)$.\n6.  Calculate the sensitivity ratios $R_+ = \\widehat{I}_{ES}(V_T^+) / \\widehat{I}_{ES}(V_T)$ and $R_- = \\widehat{I}_{ES}(V_T^-) / \\widehat{I}_{ES}(V_T)$.\n7.  Collect the four results $[\\widehat{I}_{ES}(V_T), \\widehat{I}_{CS}(V_T), R_+, R_-]$ for the final output.",
            "answer": "```python\nimport numpy as np\n\ndef _perform_extraction(v_be_samples, ic_samples, v_t, alpha_f, v_bc):\n    \"\"\"\n    Performs parameter extraction using linear least squares.\n\n    Args:\n        v_be_samples (np.ndarray): Array of base-emitter voltages.\n        ic_samples (np.ndarray): Array of collector currents (synthetic data).\n        v_t (float): Thermal voltage used for extraction.\n        alpha_f (float): Forward transport factor.\n        v_bc (float): Fixed base-collector voltage.\n\n    Returns:\n        tuple[float, float]: A tuple containing the extracted I_ES and I_CS.\n    \"\"\"\n    x = np.exp(v_be_samples / v_t) - 1\n    y = ic_samples\n\n    A = np.vstack([x, np.ones_like(x)]).T\n    p, _, _, _ = np.linalg.lstsq(A, y, rcond=None)\n    a_hat, b_hat = p[0], p[1]\n\n    ies_hat = a_hat / alpha_f\n    ics_hat = -b_hat / (np.exp(v_bc / v_t) - 1)\n\n    return ies_hat, ics_hat\n\ndef solve():\n    \"\"\"\n    Main function to run all test cases, perform data generation, parameter\n    extraction, sensitivity analysis, and format the final output.\n    \"\"\"\n    test_cases = [\n        {\n            \"I_es_true\": 1.0e-15, \"I_cs_true\": 5.0e-15, \"alpha_f\": 0.985,\n            \"V_t\": 2.585e-2, \"V_bc\": -5.0e-1,\n            \"vbe_range\": (5.5e-1, 7.0e-1, 1.0e-2)\n        },\n        {\n            \"I_es_true\": 1.0e-12, \"I_cs_true\": 1.0e-12, \"alpha_f\": 0.990,\n            \"V_t\": 2.585e-2, \"V_bc\": -2.0e-1,\n            \"vbe_range\": (3.0e-1, 4.5e-1, 1.5e-2)\n        },\n        {\n            \"I_es_true\": 1.0e-13, \"I_cs_true\": 2.0e-13, \"alpha_f\": 0.960,\n            \"V_t\": 3.470e-2, \"V_bc\": -3.0e-1,\n            \"vbe_range\": (4.0e-1, 6.0e-1, 2.0e-2)\n        }\n    ]\n\n    epsilon = 2.0e-2\n    results = []\n    \n    for case in test_cases:\n        I_es_true = case[\"I_es_true\"]\n        I_cs_true = case[\"I_cs_true\"]\n        alpha_f = case[\"alpha_f\"]\n        V_t = case[\"V_t\"]\n        V_bc = case[\"V_bc\"]\n        vbe_start, vbe_stop, vbe_step = case[\"vbe_range\"]\n\n        num_points = int(round((vbe_stop - vbe_start) / vbe_step)) + 1\n        v_be_samples = np.linspace(vbe_start, vbe_stop, num_points)\n\n        ic_samples = (alpha_f * I_es_true * (np.exp(v_be_samples / V_t) - 1) -\n                      I_cs_true * (np.exp(V_bc / V_t) - 1))\n\n        ies_hat, ics_hat = _perform_extraction(v_be_samples, ic_samples, V_t, alpha_f, V_bc)\n\n        v_t_plus = V_t * (1 + epsilon)\n        v_t_minus = V_t * (1 - epsilon)\n\n        ies_hat_plus, _ = _perform_extraction(v_be_samples, ic_samples, v_t_plus, alpha_f, V_bc)\n        ies_hat_minus, _ = _perform_extraction(v_be_samples, ic_samples, v_t_minus, alpha_f, V_bc)\n\n        r_plus = ies_hat_plus / ies_hat\n        r_minus = ies_hat_minus / ies_hat\n        \n        results.extend([ies_hat, ics_hat, r_plus, r_minus])\n\n    print(f\"[{','.join(f'{x:.14e}' for x in results)}]\")\n\nsolve()\n```"
        }
    ]
}