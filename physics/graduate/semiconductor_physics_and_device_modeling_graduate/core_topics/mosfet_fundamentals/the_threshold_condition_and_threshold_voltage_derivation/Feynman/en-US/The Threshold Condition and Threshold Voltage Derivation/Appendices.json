{
    "hands_on_practices": [
        {
            "introduction": "A cornerstone of MOSFET analysis is deriving the threshold voltage, the gate voltage required to form an inversion layer. This practice guides you through the foundational derivation of $V_T$ using the depletion approximation, connecting the device's physical parameters to its turn-on characteristic. By applying this model, you will also explore the critical role of gate dielectrics, comparing traditional silicon dioxide with modern high-$\\kappa$ materials to understand their impact on device performance. ",
            "id": "3781316",
            "problem": "An ideal, long-channel, quasi-static metal-oxide-semiconductor (MOS) capacitor is formed on a uniformly doped p-type silicon substrate. Assume no fixed oxide charge, no interface trapped charge, and a flat-band condition of $V_{FB}=0\\,\\text{V}$. The substrate acceptor concentration is $N_A=1.0\\times 10^{17}\\,\\text{cm}^{-3}$ at temperature $T=300\\,\\text{K}$. The intrinsic carrier density of silicon at $300\\,\\text{K}$ is $n_i=1.0\\times 10^{10}\\,\\text{cm}^{-3}$, and the permittivity of silicon is $\\epsilon_s=11.7\\,\\epsilon_0$, where $\\epsilon_0$ is the vacuum permittivity. The oxide thickness is fixed at $t_{ox}=2\\,\\text{nm}$. Consider two gate dielectrics: Case A is a high-permittivity dielectric with $\\epsilon_{ox}=20\\,\\epsilon_0$, and Case B is silicon dioxide with $\\epsilon_{ox}=3.9\\,\\epsilon_0$.\n\nStarting only from one-dimensional Poisson’s equation in the semiconductor, the depletion approximation, the definition of strong inversion as a surface potential of $\\psi_s=2\\phi_F$ with $\\phi_F=(k_B T/q)\\ln(N_A/n_i)$, and the electrostatics of a parallel-plate capacitor for the oxide, derive the threshold condition and obtain an expression for the threshold voltage $V_T$ as a function of the oxide capacitance per unit area $C_{ox}$ and the semiconductor parameters. Explain, using your derived expression, how replacing $\\text{SiO}_2$ with a higher-permittivity dielectric at fixed $t_{ox}$ modifies $V_T$.\n\nThen, compute the oxide capacitance per unit area $C_{ox}$ for Case A and Case B using the parallel-plate model $C_{ox}=\\epsilon_{ox}/t_{ox}$, expressing $C_{ox}$ in $\\text{F}/\\text{cm}^2$. Finally, define the comparison as the ratio $r=C_{ox}^{(\\text{high-}\\kappa)}/C_{ox}^{(\\text{SiO}_2)}$ and compute $r$.\n\nUse $\\epsilon_0=8.854\\,187\\,817\\times 10^{-14}\\,\\text{F}/\\text{cm}$ and $1\\,\\text{nm}=10^{-7}\\,\\text{cm}$. Round your final reported value of $r$ to four significant figures. Report only the ratio $r$ as your final answer (dimensionless). Do not include any units in your final answer.",
            "solution": "The problem statement is evaluated to be **valid**. It is scientifically grounded in established principles of semiconductor device physics, is well-posed with sufficient and consistent information, and is expressed in objective, formal language. All provided parameters are physically realistic. The problem requires a standard, albeit detailed, derivation and subsequent calculation, which is a legitimate exercise in the field.\n\nWe shall proceed with the derivation and solution.\n\nThe total applied gate voltage $V_G$ across the MOS capacitor is the sum of the voltage drop across the oxide, $V_{ox}$, and the potential drop across the semiconductor, known as the surface potential, $\\psi_s$. For an ideal capacitor with no fixed or trapped charges, the flat-band voltage $V_{FB}$ is zero, so we have:\n$$V_G = V_{ox} + \\psi_s$$\nThe threshold voltage, $V_T$, is defined as the specific gate voltage that induces strong inversion at the semiconductor surface. By convention, strong inversion is reached when the surface potential $\\psi_s$ is twice the bulk Fermi potential, $\\phi_F$.\n$$\\psi_s(\\text{threshold}) = 2\\phi_F$$\nThe bulk Fermi potential, $\\phi_F$, for a p-type semiconductor relates the doping concentration $N_A$ to the intrinsic carrier concentration $n_i$:\n$$\\phi_F = \\frac{k_B T}{q} \\ln\\left(\\frac{N_A}{n_i}\\right)$$\nAt threshold, the gate voltage is $V_T$:\n$$V_T = V_{ox}(\\text{threshold}) + 2\\phi_F$$\nThe voltage across the oxide is related to the charge stored on the gate, $Q_G$, and the oxide capacitance per unit area, $C_{ox}$:\n$$V_{ox} = \\frac{Q_G}{C_{ox}}$$\nDue to charge neutrality, the gate charge must be equal and opposite to the total charge per unit area in the semiconductor, $Q_S$. So, $Q_G = -Q_S$.\n$$V_{ox} = -\\frac{Q_S}{C_{ox}}$$\nAt the threshold of strong inversion, the total semiconductor charge $Q_S$ is primarily composed of the charge from ionized acceptors in the depletion region, which we denote as the bulk charge, $Q_B$. The charge from the newly formed inversion layer of electrons is considered negligible for the purpose of calculating the depletion width at this specific point. Therefore, at threshold, $Q_S \\approx Q_B$.\n$$V_T = -\\frac{Q_B(\\text{threshold})}{C_{ox}} + 2\\phi_F$$\nTo find the bulk charge $Q_B$, we must solve the one-dimensional Poisson's equation in the semiconductor. We use the depletion approximation, which assumes that for a distance $x$ from the oxide-semiconductor interface into the depletion region of width $W_d$, the charge density $\\rho(x)$ is solely due to the fixed ionized acceptors: $\\rho(x) = -qN_A$ for $0 \\le x \\le W_d$, and $\\rho(x) = 0$ for $x > W_d$.\nPoisson's equation is:\n$$\\frac{d^2\\psi}{dx^2} = -\\frac{\\rho(x)}{\\epsilon_s} = \\frac{qN_A}{\\epsilon_s}$$\nIntegrating once with respect to $x$ gives the electric field $E(x) = -\\frac{d\\psi}{dx}$:\n$$\\frac{d\\psi}{dx} = \\frac{qN_A}{\\epsilon_s}x + C_1$$\nThe electric field must be zero at the edge of the depletion region, $x=W_d$. This boundary condition, $E(W_d) = -\\frac{d\\psi}{dx}\\big|_{x=W_d} = 0$, allows us to determine the integration constant $C_1$:\n$$-\\left(\\frac{qN_A}{\\epsilon_s}W_d + C_1\\right) = 0 \\implies C_1 = -\\frac{qN_A W_d}{\\epsilon_s}$$\nThus, the electric field within the depletion region is:\n$$E(x) = -\\frac{d\\psi}{dx} = -\\frac{qN_A}{\\epsilon_s}(x-W_d)$$\nIntegrating again with respect to $x$ gives the potential $\\psi(x)$:\n$$\\psi(x) = -\\int E(x)dx = \\frac{qN_A}{\\epsilon_s}\\left(\\frac{x^2}{2} - W_d x\\right) + C_2$$\nWe define the potential in the neutral bulk region ($x \\ge W_d$) to be zero, so $\\psi(W_d)=0$. This boundary condition yields the constant $C_2$:\n$$0 = \\frac{qN_A}{\\epsilon_s}\\left(\\frac{W_d^2}{2} - W_d^2\\right) + C_2 \\implies C_2 = \\frac{qN_A W_d^2}{2\\epsilon_s}$$\nThe potential profile is then:\n$$\\psi(x) = \\frac{qN_A}{2\\epsilon_s}(W_d-x)^2$$\nThe surface potential $\\psi_s$ is the potential at the interface, $x=0$:\n$$\\psi_s = \\psi(0) = \\frac{qN_A W_d^2}{2\\epsilon_s}$$\nFrom this, we can express the depletion width $W_d$ as a function of $\\psi_s$:\n$$W_d = \\sqrt{\\frac{2\\epsilon_s \\psi_s}{qN_A}}$$\nAt the threshold condition, $\\psi_s = 2\\phi_F$, so the depletion width reaches its maximum value, $W_{d,max}$:\n$$W_{d,max} = \\sqrt{\\frac{2\\epsilon_s (2\\phi_F)}{qN_A}}$$\nThe total bulk charge per unit area at threshold, $Q_B(\\text{threshold})$, is the charge contained within this depletion region:\n$$Q_B(\\text{threshold}) = -qN_A W_{d,max} = -qN_A \\sqrt{\\frac{2\\epsilon_s (2\\phi_F)}{qN_A}} = -\\sqrt{2q\\epsilon_s N_A (2\\phi_F)}$$\nSubstituting this expression for the bulk charge into our equation for $V_T$:\n$$V_T = -\\frac{-\\sqrt{2q\\epsilon_s N_A(2\\phi_F)}}{C_{ox}} + 2\\phi_F$$\nThis yields the final derived expression for the threshold voltage under the given conditions ($V_{FB}=0$):\n$$V_T = 2\\phi_F + \\frac{\\sqrt{2q\\epsilon_s N_A(2\\phi_F)}}{C_{ox}}$$\nThis expression explicitly shows $V_T$ as a function of the oxide capacitance $C_{ox}$ and various semiconductor parameters.\n\nNow we analyze the effect of replacing silicon dioxide ($\\text{SiO}_2$) with a higher-permittivity (high-$\\kappa$) dielectric. The oxide capacitance per unit area, $C_{ox}$, is given by the parallel-plate capacitor formula:\n$$C_{ox} = \\frac{\\epsilon_{ox}}{t_{ox}}$$\nwhere $\\epsilon_{ox}$ is the permittivity of the oxide and $t_{ox}$ is its thickness. The problem states that $t_{ox}$ is fixed. When replacing $\\text{SiO}_2$ with a high-$\\kappa$ dielectric, the value of $\\epsilon_{ox}$ increases. Consequently, $C_{ox}$ increases.\nLooking at the derived expression for $V_T$, the term $2\\phi_F$ depends only on the substrate properties ($N_A$, $n_i$) and temperature ($T$), so it remains constant. The second term, $\\frac{\\sqrt{2q\\epsilon_s N_A(2\\phi_F)}}{C_{ox}}$, represents the voltage drop across the oxide necessary to support the depletion charge. Since $C_{ox}$ is in the denominator of this term, an increase in $C_{ox}$ leads to a decrease in the magnitude of this term. Therefore, replacing $\\text{SiO}_2$ with a higher-permittivity dielectric at a fixed thickness $t_{ox}$ results in a lower threshold voltage $V_T$.\n\nNext, we compute the numerical values for the oxide capacitance per unit area, $C_{ox}$, in both cases. We are given $t_{ox}=2\\,\\text{nm} = 2 \\times 10^{-7}\\,\\text{cm}$ and $\\epsilon_0=8.854\\,187\\,817\\times 10^{-14}\\,\\text{F}/\\text{cm}$.\n\nCase A (high-$\\kappa$): $\\epsilon_{ox} = 20\\,\\epsilon_0$.\n$$C_{ox}^{(\\text{high-}\\kappa)} = \\frac{20\\,\\epsilon_0}{t_{ox}} = \\frac{20 \\times (8.854\\,187\\,817\\times 10^{-14}\\,\\text{F}/\\text{cm})}{2 \\times 10^{-7}\\,\\text{cm}}$$\n$$C_{ox}^{(\\text{high-}\\kappa)} = \\frac{1.770\\,837\\,563 \\times 10^{-12}\\,\\text{F}/\\text{cm}}{2 \\times 10^{-7}\\,\\text{cm}} = 8.854\\,187\\,817 \\times 10^{-6}\\,\\text{F}/\\text{cm}^2$$\n\nCase B ($\\text{SiO}_2$): $\\epsilon_{ox} = 3.9\\,\\epsilon_0$.\n$$C_{ox}^{(\\text{SiO}_2)} = \\frac{3.9\\,\\epsilon_0}{t_{ox}} = \\frac{3.9 \\times (8.854\\,187\\,817\\times 10^{-14}\\,\\text{F}/\\text{cm})}{2 \\times 10^{-7}\\,\\text{cm}}$$\n$$C_{ox}^{(\\text{SiO}_2)} = \\frac{3.453\\,133\\,249 \\times 10^{-13}\\,\\text{F}/\\text{cm}}{2 \\times 10^{-7}\\,\\text{cm}} = 1.726\\,566\\,624 \\times 10^{-6}\\,\\text{F}/\\text{cm}^2$$\n\nFinally, we compute the ratio $r = C_{ox}^{(\\text{high-}\\kappa)}/C_{ox}^{(\\text{SiO}_2)}$.\n$$r = \\frac{\\frac{20\\,\\epsilon_0}{t_{ox}}}{\\frac{3.9\\,\\epsilon_0}{t_{ox}}} = \\frac{20}{3.9}$$\n$$r = 5.128205128...$$\nRounding to four significant figures as required by the problem statement, we get:\n$$r \\approx 5.128$$",
            "answer": "$$\\boxed{5.128}$$"
        },
        {
            "introduction": "Analytical models in physics often rely on clever approximations, and the depletion approximation is a prime example in MOSFET theory. This exercise challenges you to move beyond analytical formulas and write a program to compute the semiconductor charge by numerically solving the full Poisson equation, including mobile carriers. By comparing your exact numerical result with the prediction from the depletion approximation across different doping levels, you will gain a profound, quantitative insight into the validity of this fundamental model. ",
            "id": "3781289",
            "problem": "A one-dimensional Metal-Oxide-Semiconductor (MOS) capacitor on a uniformly doped p-type Silicon substrate is analyzed in thermal equilibrium to validate the depletion approximation at the threshold condition. The substrate doping density is $N_A$ (acceptors per cubic meter), intrinsic carrier concentration is $n_i$ (per cubic meter), temperature is $T$ (Kelvin), and the Silicon permittivity is $\\epsilon_s$ (farads per meter). The threshold condition is defined by the surface potential $\\psi_s$ satisfying $\\psi_s = 2\\phi_F$, where the Fermi potential $\\phi_F$ is given by $\\phi_F = V_T \\ln(N_A/n_i)$ with $V_T = k_B T/q$, Boltzmann constant $k_B$, electron charge magnitude $q$, and $\\ln(\\cdot)$ the natural logarithm. Hole and electron densities under Maxwell–Boltzmann statistics are given by $p(\\psi) = n_i \\exp\\!\\left((\\phi_F - \\psi)/V_T\\right)$ and $n(\\psi) = n_i \\exp\\!\\left((-\\phi_F + \\psi)/V_T\\right)$, respectively. The one-dimensional Poisson equation relates the electric field to the space charge density $\\rho(\\psi) = q\\left(p(\\psi) - n(\\psi) - N_A\\right)$, and the electric field at the surface $E_s$ satisfies\n$$\nE_s^2 = -\\frac{2}{\\epsilon_s} \\int_{0}^{\\psi_s} \\rho(\\psi)\\, d\\psi,\n$$\nfrom which the total semiconductor charge per unit area at the surface is $Q_s = -\\epsilon_s E_s$. For a p-type substrate with $\\psi_s > 0$, $Q_s$ is negative; its magnitude $|Q_s|$ must be computed numerically in this problem by evaluating the integral with the full $\\rho(\\psi)$ that includes mobile carriers.\n\nYour task is to write a complete program that, for each specified $N_A$, computes:\n1. The Fermi potential $\\phi_F$ and sets the threshold surface potential $\\psi_s = 2\\phi_F$.\n2. The numerical magnitude of the semiconductor charge per unit area at the surface, $|Q_s(\\psi_s)|$, using the above integral relation. Use the full $\\rho(\\psi)$; do not invoke any depletion-only simplifications in this step. Express $|Q_s|$ in $\\mathrm{C}/\\mathrm{m}^2$ internally, but you will not output $|Q_s|$ itself.\n3. The magnitude predicted by the depletion approximation at the same $\\psi_s$ (derive this from the depletion assumption applied to Poisson's equation; do not use mobile carriers in this step).\n4. The relative error between the numerical result and the depletion approximation at $\\psi_s = 2\\phi_F$, defined as\n$$\n\\mathrm{error} = \\frac{\\left|\\,|Q_s(\\psi_s)| - |Q_d(\\psi_s)|\\,\\right|}{|Q_s(\\psi_s)|},\n$$\nwhere $|Q_d(\\psi_s)|$ denotes the magnitude predicted by the depletion approximation. Express the relative error as a decimal rounded to six decimal places.\n\nUse the following constants and parameters:\n- $q = 1.602176634\\times 10^{-19}\\,\\mathrm{C}$,\n- $k_B = 1.380649\\times 10^{-23}\\,\\mathrm{J}/\\mathrm{K}$,\n- $\\epsilon_0 = 8.854187817\\times 10^{-12}\\,\\mathrm{F}/\\mathrm{m}$,\n- $\\epsilon_s = 11.7\\,\\epsilon_0$,\n- $T = 300\\,\\mathrm{K}$,\n- $n_i = 1.0\\times 10^{16}\\,\\mathrm{m}^{-3}$.\n\nDesign a numerical integration procedure over $\\psi$ to obtain the integral $\\int_{0}^{\\psi_s} \\rho(\\psi)\\, d\\psi$ accurately for all test cases.\n\nTest suite:\n- Case $1$: $N_A = 5\\times 10^{16}\\,\\mathrm{m}^{-3}$,\n- Case $2$: $N_A = 1\\times 10^{21}\\,\\mathrm{m}^{-3}$,\n- Case $3$: $N_A = 1\\times 10^{22}\\,\\mathrm{m}^{-3}$,\n- Case $4$: $N_A = 3\\times 10^{22}\\,\\mathrm{m}^{-3}$,\n- Case $5$: $N_A = 1\\times 10^{23}\\,\\mathrm{m}^{-3}$,\n- Case $6$: $N_A = 3\\times 10^{23}\\,\\mathrm{m}^{-3}$.\n\nFor each test case, compute and return the relative error as a float. Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets (e.g., $[e_1,e_2,e_3,e_4,e_5,e_6]$), where each $e_i$ is the relative error rounded to six decimal places. No units should be printed because the relative error is dimensionless.",
            "solution": "We analyze a one-dimensional MOS capacitor in thermal equilibrium with a uniformly doped p-type Silicon substrate. The fundamental starting point is the one-dimensional Poisson equation in the semiconductor and the Maxwell–Boltzmann carrier statistics. We proceed step by step from these principles.\n\n1. Fundamental relations:\n   - The thermal voltage is $V_T = k_B T / q$.\n   - For a p-type substrate, the bulk majority hole concentration is $p_0 \\approx N_A$, and the minority electron concentration is $n_0 = n_i^2 / p_0$.\n   - The Fermi potential relative to intrinsic is $\\phi_F = V_T \\ln(p_0/n_i) \\approx V_T \\ln(N_A/n_i)$, valid under non-degenerate, Maxwell–Boltzmann statistics.\n   - At the surface, under band bending $\\psi$, the carrier densities are\n     $$\n     p(\\psi) = p_0 e^{-\\psi/V_T} = n_i \\exp\\!\\left(\\frac{\\phi_F - \\psi}{V_T}\\right), \\quad\n     n(\\psi) = n_0 e^{\\psi/V_T} = n_i \\exp\\!\\left(\\frac{-\\phi_F + \\psi}{V_T}\\right).\n     $$\n   - The space charge density in the semiconductor is\n     $$\n     \\rho(\\psi) = q\\left(p(\\psi) - n(\\psi) - N_A\\right).\n     $$\n\n2. Electric field—potential integral identity:\n   Let $E(x)$ be the electric field and $\\psi(x)$ the electrostatic potential measured from the bulk ($\\psi=0$ in the bulk, $\\psi=\\psi_s$ at the surface). The one-dimensional Poisson equation is\n   $$\n   \\frac{d^2 \\psi}{dx^2} = -\\frac{\\rho(\\psi)}{\\epsilon_s}.\n   $$\n   With $E = -\\,d\\psi/dx$, the Maxwell equation is $dE/dx = \\rho/\\epsilon_s$. Chain rule gives\n   $$\n   \\frac{dE}{d\\psi} = \\frac{dE/dx}{d\\psi/dx} = \\frac{\\rho/\\epsilon_s}{-E} = -\\frac{\\rho(\\psi)}{\\epsilon_s E}.\n   $$\n   Multiplying both sides by $E$ and integrating from the bulk ($\\psi=0$, $E=0$) to the surface ($\\psi=\\psi_s$, $E=E_s$), we obtain\n   $$\n   \\int_{0}^{E_s} E\\, dE = -\\frac{1}{\\epsilon_s} \\int_{0}^{\\psi_s} \\rho(\\psi)\\, d\\psi \\quad \\Rightarrow \\quad \\frac{1}{2} E_s^2 = -\\frac{1}{\\epsilon_s} \\int_{0}^{\\psi_s} \\rho(\\psi)\\, d\\psi.\n   $$\n   Thus,\n   $$\n   E_s^2 = -\\frac{2}{\\epsilon_s} \\int_{0}^{\\psi_s} \\rho(\\psi)\\, d\\psi.\n   $$\n\n3. Semiconductor surface charge:\n   The total semiconductor charge per unit area at the surface is $Q_s = -\\epsilon_s E_s$. For a p-type substrate with $\\psi_s > 0$, the net space charge is negative (ionized acceptors), $E_s$ is negative, and $Q_s$ is negative. From the previous identity, the magnitude is\n   $$\n   |Q_s(\\psi_s)| = \\sqrt{2 \\epsilon_s \\left(-\\int_{0}^{\\psi_s} \\rho(\\psi)\\, d\\psi\\right)}.\n   $$\n   This expression is obtained directly from Poisson’s equation and Maxwell–Boltzmann carrier statistics without invoking any depletion-only simplification. Numerically, we evaluate the integral\n   $$\n   I(\\psi_s) = \\int_{0}^{\\psi_s} \\rho(\\psi)\\, d\\psi = q \\int_{0}^{\\psi_s} \\left(n_i e^{(\\phi_F - \\psi)/V_T} - n_i e^{(-\\phi_F + \\psi)/V_T} - N_A\\right)\\, d\\psi,\n   $$\n   and then compute\n   $$\n   |Q_s(\\psi_s)| = \\sqrt{2 \\epsilon_s \\left(-I(\\psi_s)\\right)}.\n   $$\n\n4. Depletion approximation prediction:\n   Under the depletion approximation, mobile carriers are neglected in the space charge region, so $\\rho(\\psi) \\approx -q N_A$ for $0 \\le \\psi \\le \\psi_s$. Applying Poisson’s equation with this simplification yields the standard relation for the depletion charge magnitude at a given surface potential $\\psi_s$:\n   $$\n   |Q_d(\\psi_s)| = \\sqrt{2 q \\epsilon_s N_A \\psi_s}.\n   $$\n   At threshold, $\\psi_s = 2\\phi_F$, so the depletion approximation predicts\n   $$\n   |Q_d(2\\phi_F)| = \\sqrt{2 q \\epsilon_s N_A \\cdot 2\\phi_F}.\n   $$\n\n5. Threshold condition:\n   The threshold condition $\\psi_s = 2\\phi_F$ is a physically meaningful marker of strong inversion for p-type Silicon because\n   $$\n   n(\\psi_s = 2\\phi_F) = n_i \\exp\\!\\left(\\frac{-\\phi_F + 2\\phi_F}{V_T}\\right) = n_i \\exp\\!\\left(\\frac{\\phi_F}{V_T}\\right) = p_0 \\approx N_A,\n   $$\n   i.e., the surface electron concentration equals the bulk hole concentration.\n\n6. Algorithmic implementation:\n   - For each test case doping $N_A$, compute $V_T = k_B T/q$ and $\\phi_F = V_T \\ln(N_A/n_i)$, then set $\\psi_s = 2\\phi_F$.\n   - Define $\\rho(\\psi) = q\\left(n_i e^{(\\phi_F - \\psi)/V_T} - n_i e^{(-\\phi_F + \\psi)/V_T} - N_A\\right)$.\n   - Numerically evaluate $I(\\psi_s) = \\int_{0}^{\\psi_s} \\rho(\\psi)\\, d\\psi$ using a reliable quadrature scheme over $\\psi$.\n   - Compute $|Q_s(\\psi_s)| = \\sqrt{2 \\epsilon_s \\left(-I(\\psi_s)\\right)}$.\n   - Compute $|Q_d(\\psi_s)|$ using the depletion approximation formula.\n   - Compute the relative error\n     $$\n     \\mathrm{error} = \\frac{\\left|\\,|Q_s(\\psi_s)| - |Q_d(\\psi_s)|\\,\\right|}{|Q_s(\\psi_s)|}.\n     $$\n   - Round each error to six decimal places and output as a single comma-separated list enclosed in square brackets.\n\n7. Units and output:\n   Intermediate quantities carry physical units: $\\epsilon_s$ in $\\mathrm{F}/\\mathrm{m}$, $N_A$ and $n_i$ in $\\mathrm{m}^{-3}$, $\\psi_s$ and $\\phi_F$ in $\\mathrm{V}$, and $|Q_s|$, $|Q_d|$ in $\\mathrm{C}/\\mathrm{m}^{2}$. The final returned quantities are dimensionless relative errors, printed as decimals rounded to six decimal places without units.\n\nThis procedure tests the depletion approximation across a range of doping densities, capturing the boundary case near low doping (where mobile carrier contributions are relatively more important) and higher doping cases (where the depletion approximation is expected to be more accurate). The numerical integral provides a first-principles benchmark rooted in Poisson’s equation and carrier statistics, and the comparison quantifies the validity at the threshold surface potential.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy.integrate import quad\n\n# Physical constants\nq = 1.602176634e-19          # Coulombs\nk_B = 1.380649e-23           # J/K\nepsilon_0 = 8.854187817e-12  # F/m\nepsilon_s = 11.7 * epsilon_0 # Silicon permittivity, F/m\nT = 300.0                    # K\nn_i = 1.0e16                 # 1/m^3 (intrinsic carrier concentration)\n\nV_T = k_B * T / q            # Thermal voltage in V\n\ndef rho_psi(psi, phi_F, N_A):\n    \"\"\"\n    Space charge density rho(psi) = q (p(psi) - n(psi) - N_A),\n    with p(psi) = n_i * exp((phi_F - psi)/V_T)\n         n(psi) = n_i * exp((-phi_F + psi)/V_T)\n    \"\"\"\n    p = n_i * np.exp((phi_F - psi) / V_T)\n    n = n_i * np.exp((-phi_F + psi) / V_T)\n    return q * (p - n - N_A)\n\ndef numerical_Qs_magnitude(phi_F, N_A):\n    \"\"\"\n    Compute |Q_s| at psi_s = 2*phi_F via the integral identity:\n    E_s^2 = -(2/epsilon_s) * ∫_0^{psi_s} rho(psi) dpsi,\n    |Q_s| = sqrt(2 * epsilon_s * ( - ∫_0^{psi_s} rho(psi) dpsi ))\n    \"\"\"\n    psi_s = 2.0 * phi_F\n\n    # Integrate rho(psi) from 0 to psi_s\n    integral_val, _ = quad(lambda psi: rho_psi(psi, phi_F, N_A), 0.0, psi_s, limit=200, epsabs=1e-12, epsrel=1e-12)\n\n    # Compute |Q_s|\n    val = 2.0 * epsilon_s * (-integral_val)\n    # Numerical safeguard: ensure non-negative due to potential tiny quadrature errors\n    val = max(val, 0.0)\n    Qs_mag = np.sqrt(val)\n    return Qs_mag\n\ndef depletion_Qd_magnitude(phi_F, N_A):\n    \"\"\"\n    Under depletion approximation: |Q_d| = sqrt(2*q*epsilon_s*N_A*psi_s) at psi_s = 2*phi_F.\n    \"\"\"\n    psi_s = 2.0 * phi_F\n    val = 2.0 * q * epsilon_s * N_A * psi_s\n    val = max(val, 0.0)\n    return np.sqrt(val)\n\ndef solve():\n    # Define the test cases from the problem statement (doping levels in m^-3).\n    test_cases = [\n        5e16,      # Case 1: near-low doping above intrinsic\n        1e21,      # Case 2: moderate doping\n        1e22,      # Case 3\n        3e22,      # Case 4\n        1e23,      # Case 5\n        3e23       # Case 6: higher doping\n    ]\n\n    results = []\n    for N_A in test_cases:\n        # Compute phi_F and psi_s\n        phi_F = V_T * np.log(N_A / n_i)\n        # Numerical |Q_s|\n        Qs_mag = numerical_Qs_magnitude(phi_F, N_A)\n        # Depletion |Q_d|\n        Qd_mag = depletion_Qd_magnitude(phi_F, N_A)\n        # Relative error\n        if Qs_mag > 0.0:\n            rel_err = abs(Qs_mag - Qd_mag) / Qs_mag\n        else:\n            # If numerical Qs_mag is zero (pathological), set error to 0.0 to avoid division by zero\n            rel_err = 0.0\n        # Round to six decimal places\n        results.append(round(rel_err, 6))\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        },
        {
            "introduction": "Real-world devices are never perfectly ideal, and a common non-ideality is the presence of fixed charges trapped within the gate oxide. This practice demonstrates how to use fundamental electrostatics, specifically Gauss's law, to analyze the impact of such charges on the MOS capacitor's behavior. By deriving the shift in the flat-band voltage, you will understand how these parasitic charges alter the device's threshold voltage, a critical consideration in fabrication and process control. ",
            "id": "3781281",
            "problem": "A one-dimensional, ideal metal–oxide–semiconductor (MOS) capacitor is formed by a metal gate, a silicon dioxide layer of thickness $t_{ox}$ and permittivity $\\epsilon_{ox}$, and a uniformly doped $p$-type silicon substrate. Assume the oxide behaves as a linear, lossless dielectric slab so that its capacitance per unit area is $C_{ox}=\\epsilon_{ox}/t_{ox}$. A sheet of positive fixed charge resides inside the oxide near the oxide–semiconductor interface, with areal density $N_{ox}=5\\times 10^{11}\\,\\text{cm}^{-2}$; the corresponding areal charge density is $Q_{ox}=q N_{ox}$, where $q$ is the elementary charge. Use the standard MOS sign convention in which the applied gate voltage $V_{G}$ is the metal potential minus the semiconductor surface potential. The flat-band condition is defined as zero band bending in the semiconductor, i.e., zero electric field and zero net space charge in the semiconductor.\n\nStarting from Gauss’s law in one dimension and the electrostatic boundary conditions at the metal–oxide and oxide–semiconductor interfaces, and using only the above physical assumptions, derive the shift in flat-band voltage $\\Delta V_{FB}$ induced by the fixed oxide charge relative to the hypothetical case with no oxide charge. Express your result as a single closed-form analytic expression in volts in terms of $q$, $N_{ox}$, $\\epsilon_{ox}$, and $t_{ox}$. In your reasoning, determine the sign of $\\Delta V_{FB}$ for an $n$-channel MOS (nMOS) capacitor with $Q_{ox}>0$. Your final answer must be a single analytic expression; do not insert numerical values for $\\epsilon_{ox}$ or $t_{ox}$.",
            "solution": "The problem asks for the derivation of the shift in flat-band voltage, $\\Delta V_{FB}$, due to a sheet of fixed positive charge, $Q_{ox}$, located at the oxide-semiconductor interface of an ideal MOS capacitor.\n\nWe begin by establishing a one-dimensional coordinate system. Let $x=0$ correspond to the metal-oxide interface and $x=t_{ox}$ correspond to the oxide-semiconductor interface. The oxide occupies the region $0 \\le x \\le t_{ox}$, and the semiconductor occupies $x \\ge t_{ox}$.\n\nThe potential $\\phi(x)$ and electric field $E(x) = -\\frac{d\\phi}{dx}$ are governed by Poisson's equation, which is the differential form of Gauss's law in one dimension:\n$$\n\\frac{d^2\\phi}{dx^2} = -\\frac{\\rho(x)}{\\epsilon} \\quad \\implies \\quad \\frac{dE}{dx} = \\frac{\\rho(x)}{\\epsilon}\n$$\nwhere $\\rho(x)$ is the charge density and $\\epsilon$ is the permittivity of the medium.\n\nInside the oxide ($0 < x < t_{ox}$), the charge distribution consists of the fixed oxide charge, which we model as a general distribution $\\rho_{ox}(x)$. Integrating Poisson's equation for the electric field from the metal-gate interface at $x=0$ to an arbitrary position $x$ within the oxide gives:\n$$\nE_{ox}(x) - E_{ox}(0) = \\int_{0}^{x} \\frac{\\rho_{ox}(\\xi)}{\\epsilon_{ox}} d\\xi\n$$\nThe electric field at the metal-oxide interface, $E_{ox}(0)$, is determined by the surface charge density on the metal gate, $Q_m$, according to the boundary condition derived from Gauss's law: $E_{ox}(0) = Q_m / \\epsilon_{ox}$. Thus, the electric field at any point $x$ in the oxide is:\n$$\nE_{ox}(x) = \\frac{Q_m}{\\epsilon_{ox}} + \\frac{1}{\\epsilon_{ox}} \\int_{0}^{x} \\rho_{ox}(\\xi) d\\xi\n$$\nThe problem defines the applied gate voltage, $V_G$, as the metal potential minus the semiconductor surface potential. This is precisely the voltage drop across the oxide, $V_{ox}$. We can calculate this by integrating the electric field from the gate to the semiconductor interface:\n$$\nV_G \\equiv V_{ox} = \\phi(0) - \\phi(t_{ox}) = -\\int_{t_{ox}}^{0} E_{ox}(x) dx = \\int_{0}^{t_{ox}} E_{ox}(x) dx\n$$\nSubstituting the expression for $E_{ox}(x)$:\n$$\nV_{ox} = \\int_{0}^{t_{ox}} \\left( \\frac{Q_m}{\\epsilon_{ox}} + \\frac{1}{\\epsilon_{ox}} \\int_{0}^{x} \\rho_{ox}(\\xi) d\\xi \\right) dx\n$$\nThe flat-band condition is defined by zero band bending in the semiconductor. This implies that the electric field and the net space charge in the semiconductor are both zero. Let $Q_s$ be the total charge per unit area in the semiconductor. At flat-band, we have $E_{semi} = 0$ and $Q_s = 0$.\n\nThe entire MOS structure must be charge neutral. This means the sum of the charge on the metal gate ($Q_m$), the total fixed charge in the oxide ($Q_{ox}$), and the charge in the semiconductor ($Q_s$) must be zero:\n$$\nQ_m + Q_{ox} + Q_s = 0\n$$\nwhere $Q_{ox} = \\int_0^{t_{ox}} \\rho_{ox}(x) dx$. At the flat-band condition ($Q_s = 0$), the charge on the metal gate is $Q_m = -Q_{ox}$.\n\nThe voltage across the oxide at flat-band, which we denote $V_{ox,FB}$, is found by substituting $Q_m = -Q_{ox}$ into the expression for $V_{ox}$:\n$$\nV_{ox,FB} = \\int_{0}^{t_{ox}} \\left( -\\frac{Q_{ox}}{\\epsilon_{ox}} + \\frac{1}{\\epsilon_{ox}} \\int_{0}^{x} \\rho_{ox}(\\xi) d\\xi \\right) dx\n$$\n$$\nV_{ox,FB} = -\\frac{Q_{ox} t_{ox}}{\\epsilon_{ox}} + \\frac{1}{\\epsilon_{ox}} \\int_{0}^{t_{ox}} \\left( \\int_{0}^{x} \\rho_{ox}(\\xi) d\\xi \\right) dx\n$$\nWe evaluate the double integral using integration by parts. Let $u = \\int_{0}^{x} \\rho_{ox}(\\xi) d\\xi$ and $dv = dx$. Then $du = \\rho_{ox}(x) dx$ and $v=x$.\n$$\n\\int_{0}^{t_{ox}} u \\, dv = [uv]_{0}^{t_{ox}} - \\int_{0}^{t_{ox}} v \\, du = \\left[x \\int_{0}^{x} \\rho_{ox}(\\xi) d\\xi \\right]_{0}^{t_{ox}} - \\int_{0}^{t_{ox}} x \\rho_{ox}(x) dx\n$$\nThe first term evaluates to $t_{ox} \\int_{0}^{t_{ox}} \\rho_{ox}(\\xi) d\\xi - 0 = t_{ox} Q_{ox}$.\nSo, the integral term is $t_{ox} Q_{ox} - \\int_{0}^{t_{ox}} x \\rho_{ox}(x) dx$. Substituting this back into the expression for $V_{ox,FB}$:\n$$\nV_{ox,FB} = -\\frac{Q_{ox} t_{ox}}{\\epsilon_{ox}} + \\frac{1}{\\epsilon_{ox}} \\left( t_{ox} Q_{ox} - \\int_{0}^{t_{ox}} x \\rho_{ox}(x) dx \\right)\n$$\n$$\nV_{ox,FB} = -\\frac{Q_{ox} t_{ox}}{\\epsilon_{ox}} + \\frac{t_{ox} Q_{ox}}{\\epsilon_{ox}} - \\frac{1}{\\epsilon_{ox}} \\int_{0}^{t_{ox}} x \\rho_{ox}(x) dx = - \\frac{1}{\\epsilon_{ox}} \\int_{0}^{t_{ox}} x \\rho_{ox}(x) dx\n$$\nAccording to the problem's definition, the flat-band voltage is the value of $V_G = V_{ox}$ under flat-band conditions. Thus, $V_{FB, \\text{defined}} = V_{ox,FB}$.\n\nThe problem asks for the shift in flat-band voltage, $\\Delta V_{FB}$, relative to the case with no oxide charge.\nCase 1: With oxide charge $Q_{ox}$. The flat-band voltage is $V_{FB}(Q_{ox}) = V_{ox,FB} = - \\frac{1}{\\epsilon_{ox}} \\int_{0}^{t_{ox}} x \\rho_{ox}(x) dx$.\nCase 2: Without oxide charge, $Q_{ox}=0$, so $\\rho_{ox}(x)=0$. The flat-band voltage is $V_{FB}(0) = 0$.\nThe shift is therefore $\\Delta V_{FB} = V_{FB}(Q_{ox}) - V_{FB}(0) = V_{FB}(Q_{ox})$.\n$$\n\\Delta V_{FB} = - \\frac{1}{\\epsilon_{ox}} \\int_{0}^{t_{ox}} x \\rho_{ox}(x) dx\n$$\nThe problem specifies a \"sheet of positive fixed charge ... near the oxide–semiconductor interface\". This is standardly modeled as an ideal sheet of charge located exactly at the interface, $x=t_{ox}$. The charge density is represented by a Dirac delta function: $\\rho_{ox}(x) = Q_{ox} \\delta(x-t_{ox})$.\nSubstituting this into the integral for $\\Delta V_{FB}$:\n$$\n\\Delta V_{FB} = - \\frac{1}{\\epsilon_{ox}} \\int_{0}^{t_{ox}} x \\left( Q_{ox} \\delta(x-t_{ox}) \\right) dx\n$$\nBy the sifting property of the delta function, the integral evaluates to $Q_{ox} t_{ox}$.\n$$\n\\Delta V_{FB} = - \\frac{Q_{ox} t_{ox}}{\\epsilon_{ox}}\n$$\nFinally, we substitute the given expression $Q_{ox}=q N_{ox}$ to express the result in terms of the specified variables:\n$$\n\\Delta V_{FB} = - \\frac{q N_{ox} t_{ox}}{\\epsilon_{ox}}\n$$\nThis is the final analytical expression for the shift in flat-band voltage.\n\nThe problem also asks for the sign of $\\Delta V_{FB}$ for an n-channel MOS (nMOS) capacitor with $Q_{ox}>0$. An nMOS device is built on a p-type substrate, which is consistent with the problem statement. The fixed oxide charge $Q_{ox}$ is given as positive. The quantities $q$, $t_{ox}$, and $\\epsilon_{ox}$ are all positive physical constants. Therefore, for $Q_{ox}=qN_{ox}>0$, the shift $\\Delta V_{FB}$ is negative.\n\nPhysically, the positive fixed charge $Q_{ox}$ at the interface attracts electrons to the semiconductor surface, which tends to cause downward band bending (towards inversion or accumulation). To restore the flat-band condition (zero band bending), a negative voltage must be applied to the gate to repel these electrons. This means the flat-band voltage is shifted to a more negative value, so $\\Delta V_{FB} < 0$. This confirms the sign of our result.",
            "answer": "$$\n\\boxed{-\\frac{q N_{ox} t_{ox}}{\\epsilon_{ox}}}\n$$"
        }
    ]
}