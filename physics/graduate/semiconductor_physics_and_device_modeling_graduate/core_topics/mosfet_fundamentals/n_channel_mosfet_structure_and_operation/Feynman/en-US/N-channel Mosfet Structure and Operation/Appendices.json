{
    "hands_on_practices": [
        {
            "introduction": "The ideal MOSFET model assumes that applied terminal voltages appear directly across the intrinsic device's active region. In reality, parasitic series resistances at the source and drain terminals introduce voltage drops, reducing the effective biases seen by the channel and degrading performance. This exercise  provides fundamental practice in modeling this non-ideality by developing a self-consistent equation for the drain current, a crucial skill for bridging the gap between intrinsic device theory and extrinsic transistor behavior.",
            "id": "3760355",
            "problem": "Consider an $n$-channel Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) modeled by the gradual-channel, charge-sheet approximation under strong inversion, neglecting diffusion current, channel-length modulation, drain-induced barrier lowering, and mobility degradation. The intrinsic conduction is governed by drift current with effective carrier mobility $\\mu_{n}$ and oxide capacitance per unit area $C_{\\mathrm{ox}}$. Let the device be operated with external biases $V_{GS}$ and $V_{DS}$, and include extrinsic source and drain series resistances $R_{s}$ and $R_{d}$ located outside the intrinsic transistor. Assume the body is shorted to the source at the intrinsic transistor node so that there is no body-effect shift in threshold voltage.\n\nStarting from the drift-diffusion description and the charge-sheet approximation, derive the intrinsic saturation-region current expression in terms of the internal gate-to-source voltage $V_{GS,\\mathrm{int}}$ and the threshold voltage $V_{TH}$, and enforce consistency of the operating region by checking the saturation condition with the internal drain-to-source voltage $V_{DS,\\mathrm{int}}$. Then, using Kirchhoff’s voltage law to relate external terminal voltages to internal node voltages in the presence of $R_{s}$ and $R_{d}$, set up and solve the resulting self-consistent equation for the drain current $I_{D}$ at the operating point specified below. Finally, compute the effective internal biases $V_{GS,\\mathrm{int}}$ and $V_{DS,\\mathrm{int}}$ at that operating point.\n\nDevice and operating-point parameters:\n- Electron mobility $\\mu_{n} = 0.04\\,\\mathrm{m}^{2}\\!/\\mathrm{V}\\!\\cdot\\!\\mathrm{s}$, oxide capacitance per unit area $C_{\\mathrm{ox}} = 0.025\\,\\mathrm{F}\\!/\\mathrm{m}^{2}$, width-to-length ratio $W/L = 1$.\n- Threshold voltage $V_{TH} = 0.4\\,\\mathrm{V}$.\n- External biases $V_{GS} = 1.2\\,\\mathrm{V}$ and $V_{DS} = 1.0\\,\\mathrm{V}$.\n- Source resistance $R_{s} = 100\\,\\Omega$ and drain resistance $R_{d} = 150\\,\\Omega$.\n\nRound each of the two voltages to four significant figures. Express the final voltages in volts (V).",
            "solution": "The starting point is the drift current under the gradual-channel, charge-sheet approximation. In strong inversion, the inversion charge per unit area along the channel is $Q_{\\mathrm{inv}}(x) \\approx -C_{\\mathrm{ox}}\\left(V_{GS,\\mathrm{int}}-V_{TH}-V(x)\\right)$, where $V(x)$ is the local channel potential measured from the source. Neglecting diffusion, the local current density is $J(x) = q n(x) \\mu_{n} E(x)$, and the channel current is\n$$\nI_{D} = W \\mu_{n} Q_{\\mathrm{inv}}(x) \\frac{dV}{dx}.\n$$\nIntegrating from source to drain over channel length $L$, and using $Q_{\\mathrm{inv}}(x)$ as above, yields the familiar linear-region intrinsic current\n$$\nI_{D} = \\mu_{n} C_{\\mathrm{ox}} \\frac{W}{L} \\left[\\left(V_{GS,\\mathrm{int}} - V_{TH}\\right) V_{DS,\\mathrm{int}} - \\frac{1}{2} V_{DS,\\mathrm{int}}^{2}\\right].\n$$\nAt the onset of saturation, the pinch-off condition sets $V_{DS,\\mathrm{int}} = V_{GS,\\mathrm{int}} - V_{TH}$, and in the saturation region (neglecting channel-length modulation), the intrinsic current reduces to\n$$\nI_{D} = \\frac{1}{2} \\mu_{n} C_{\\mathrm{ox}} \\frac{W}{L} \\left(V_{GS,\\mathrm{int}} - V_{TH}\\right)^{2}.\n$$\nDefine the transconductance parameter\n$$\nk \\equiv \\mu_{n} C_{\\mathrm{ox}} \\frac{W}{L}.\n$$\nWith the given parameters, this is\n$$\nk = \\left(0.04\\right)\\left(0.025\\right)\\left(1\\right) = 0.001\\,\\mathrm{A}/\\mathrm{V}^{2}.\n$$\n\nWe next relate external and internal voltages via Kirchhoff’s voltage law. With source and drain series resistances outside the intrinsic device, the internal source node is raised by $I_{D} R_{s}$ relative to the external source reference, and the internal drain node is lowered by $I_{D} R_{d}$ relative to the external drain. Therefore,\n$$\nV_{GS,\\mathrm{int}} = V_{GS} - I_{D} R_{s},\n\\qquad\nV_{DS,\\mathrm{int}} = V_{DS} - I_{D}\\left(R_{s}+R_{d}\\right).\n$$\nAssuming saturation holds, the intrinsic current is set by $V_{GS,\\mathrm{int}}$ alone:\n$$\nI_{D} = \\frac{1}{2} k \\left(V_{GS} - I_{D} R_{s} - V_{TH}\\right)^{2}.\n$$\nLet the external overdrive be $V_{\\mathrm{ov}} \\equiv V_{GS} - V_{TH}$. Then the self-consistency equation becomes\n$$\nI_{D} = \\frac{1}{2} k \\left(V_{\\mathrm{ov}} - R_{s} I_{D}\\right)^{2}.\n$$\nRewriting as a polynomial in $I_{D}$,\n$$\nI_{D} = \\frac{1}{2} k \\left(V_{\\mathrm{ov}}^{2} - 2 V_{\\mathrm{ov}} R_{s} I_{D} + R_{s}^{2} I_{D}^{2}\\right),\n$$\nand bringing all terms to one side gives\n$$\n\\frac{1}{2} k R_{s}^{2} I_{D}^{2} - \\left(k V_{\\mathrm{ov}} R_{s} + 1\\right) I_{D} + \\frac{1}{2} k V_{\\mathrm{ov}}^{2} = 0.\n$$\nThis is a quadratic equation $a I_{D}^{2} - b I_{D} + c = 0$ with\n$$\na = \\frac{1}{2} k R_{s}^{2}, \\quad b = k V_{\\mathrm{ov}} R_{s} + 1, \\quad c = \\frac{1}{2} k V_{\\mathrm{ov}}^{2}.\n$$\nIts roots are\n$$\nI_{D} = \\frac{b \\pm \\sqrt{b^{2} - 4 a c}}{2 a}.\n$$\nThe physically meaningful solution is the smaller root (the larger root would imply an unrealistically large voltage drop across $R_{s}$ exceeding the applied $V_{GS}$). Substituting the given numerical values $k = 0.001$, $V_{\\mathrm{ov}} = 1.2 - 0.4 = 0.8$, and $R_{s} = 100$:\n$$\na = \\frac{1}{2}\\left(0.001\\right)\\left(100\\right)^{2} = 5, \\quad\nb = \\left(0.001\\right)\\left(0.8\\right)\\left(100\\right) + 1 = 1.08, \\quad\nc = \\frac{1}{2}\\left(0.001\\right)\\left(0.8\\right)^{2} = 0.00032.\n$$\nThe discriminant is\n$$\n\\Delta = b^{2} - 4 a c = \\left(1.08\\right)^{2} - 4\\left(5\\right)\\left(0.00032\\right) = 1.1664 - 0.0064 = 1.1600,\n$$\nso\n$$\n\\sqrt{\\Delta} = \\sqrt{1.1600} \\approx 1.077032961.\n$$\nThus,\n$$\nI_{D} = \\frac{1.08 - 1.077032961}{2\\left(5\\right)} \\approx \\frac{0.002967039}{10} \\approx 2.967039 \\times 10^{-4}\\,\\mathrm{A}.\n$$\n\nWith $I_{D}$ determined, compute the internal biases:\n$$\nV_{GS,\\mathrm{int}} = V_{GS} - I_{D} R_{s} = 1.2 - \\left(2.967039 \\times 10^{-4}\\right)\\left(100\\right) \\approx 1.17032961\\,\\mathrm{V},\n$$\n$$\nV_{DS,\\mathrm{int}} = V_{DS} - I_{D}\\left(R_{s}+R_{d}\\right) = 1.0 - \\left(2.967039 \\times 10^{-4}\\right)\\left(250\\right) \\approx 0.925824025\\,\\mathrm{V}.\n$$\nVerify saturation consistency:\n$$\nV_{GS,\\mathrm{int}} - V_{TH} \\approx 1.17032961 - 0.4 = 0.77032961\\,\\mathrm{V},\n$$\nand since\n$$\nV_{DS,\\mathrm{int}} \\approx 0.925824025\\,\\mathrm{V} \\geq 0.77032961\\,\\mathrm{V},\n$$\nthe saturation assumption is self-consistent.\n\nFinally, rounding each voltage to four significant figures (and expressing in volts as specified):\n$$\nV_{GS,\\mathrm{int}} \\approx 1.170\\,\\mathrm{V}, \\qquad V_{DS,\\mathrm{int}} \\approx 0.9258\\,\\mathrm{V}.\n$$",
            "answer": "$$\\boxed{\\begin{pmatrix}1.170 & 0.9258\\end{pmatrix}}$$"
        },
        {
            "introduction": "While an ideal MOSFET exhibits a perfectly constant current in the saturation region, the drain current of a real device increases with the drain-to-source voltage $V_{DS}$. This effect, known as Channel Length Modulation (CLM), is caused by the expansion of the high-field depletion region near the drain, which shortens the effective length of the conductive channel. This practice  guides you through a classic analytical model to quantify this channel shortening and calculate the resulting increase in drain current, providing a tangible understanding of the finite output conductance in saturated MOSFETs.",
            "id": "3760352",
            "problem": "An $n$-channel Metal–Oxide–Semiconductor Field-Effect Transistor (MOSFET) operates under strong inversion and is modeled by the drift–diffusion framework and the charge-sheet approximation under the Gradual Channel Approximation (GCA). Consider a planar long-channel device with channel length $L$, width $W$, oxide thickness $t_{\\text{ox}}$, electron mobility $\\mu_{n}$, and oxide permittivity $\\varepsilon_{\\text{ox}}$. The device is biased at gate-to-source voltage $V_{GS}$ and drain-to-source voltage $V_{DS}$ with threshold voltage $V_{T}$. The longitudinal channel potential $V(x)$ is measured from the source at $x=0$ and satisfies the GCA assumptions until the onset of pinch-off, defined by the condition that the local inversion-layer charge per unit area $Q_{i}(x)$ vanishes at the pinch-off point $x=x_{p}$. For $V_{DS}>V_{DS,\\text{sat}}$, the voltage in excess of saturation drops across a high-field depletion (pinch-off) region near the drain. Assume that the electric field in the pinch-off region is approximately uniform and equal to a known critical field $E_{c}$.\n\nStarting only from the drift–diffusion current relation and the charge-sheet expression for the inversion charge, derive the position $x_{p}$ of the pinch-off point for a specified $V_{DS}>V_{DS,\\text{sat}}$, determine the effective shortening $\\Delta L$ of the conductive channel, and estimate the resulting drain current $I_{D}$ under these conditions.\n\nUse the following physically realistic parameters:\n- $L=5.0\\times 10^{-7}\\,\\text{m}$, $W=1.0\\times 10^{-5}\\,\\text{m}$, $t_{\\text{ox}}=3.0\\times 10^{-9}\\,\\text{m}$,\n- $\\varepsilon_{\\text{ox}}=3.9\\,\\varepsilon_{0}$ with $\\varepsilon_{0}=8.854187817\\times 10^{-12}\\,\\text{F/m}$,\n- $\\mu_{n}=5.0\\times 10^{-2}\\,\\text{m}^{2}\\,\\text{V}^{-1}\\,\\text{s}^{-1}$,\n- $V_{GS}=1.2\\,\\text{V}$, $V_{T}=0.4\\,\\text{V}$, $V_{DS}=1.0\\,\\text{V}$,\n- $E_{c}=1.0\\times 10^{6}\\,\\text{V/m}$.\n\nAdopt the physically standard definition $V_{DS,\\text{sat}}=V_{GS}-V_{T}$ for a long-channel device under the GCA. Express your final numerical results for the three quantities as follows:\n- $x_{p}$ in micrometers,\n- $\\Delta L$ in micrometers,\n- $I_{D}$ in milliamperes.\n\nRound each of the three reported values to four significant figures. The final answer must be a single row containing the three values as specified, in the order $\\left(x_{p},\\,\\Delta L,\\,I_{D}\\right)$.",
            "solution": "The drain current $I_D$ in an n-channel MOSFET, under the drift-diffusion and gradual channel approximations, is given by the product of the mobile charge per unit length and the electron drift velocity. The mobile inversion charge per unit area, $Q_i(x)$, in the charge-sheet model is given as a function of the local channel potential $V(x)$:\n$$Q_i(x) = -C_{\\text{ox}} (V_{GS} - V(x) - V_T)$$\nwhere $C_{\\text{ox}} = \\frac{\\varepsilon_{\\text{ox}}}{t_{\\text{ox}}}$ is the gate oxide capacitance per unit area. The longitudinal electric field is $E_x(x) = -\\frac{dV(x)}{dx}$. The drift current is therefore:\n$$I_D = W \\cdot |Q_i(x)| \\cdot \\mu_n \\cdot E_x(x) = W \\mu_n C_{\\text{ox}} (V_{GS} - V_T - V(x)) \\frac{dV(x)}{dx}$$\nThis equation is valid along the conductive part of the channel, from the source ($x=0$) to the pinch-off point ($x=x_p$). To find the total current, we integrate this expression over the length of the conductive channel. Since $I_D$ is constant along the channel, we can write:\n$$I_D \\int_{0}^{x_p} dx = W \\mu_n C_{\\text{ox}} \\int_{V(0)}^{V(x_p)} (V_{GS} - V_T - V) dV$$\nThe boundary conditions are $V(0) = 0$ at the source and $V(x_p)$ at the pinch-off point. The pinch-off condition is defined as $Q_i(x_p) = 0$, which implies:\n$$V_{GS} - V(x_p) - V_T = 0 \\implies V(x_p) = V_{GS} - V_T$$\nAs per the problem statement, this is $V_{DS,\\text{sat}}$. So, $V(x_p) = V_{DS,\\text{sat}}$.\n\nIntegrating the current equation with these boundary conditions:\n$$I_D \\cdot x_p = W \\mu_n C_{\\text{ox}} \\left[ (V_{GS} - V_T)V - \\frac{1}{2}V^2 \\right]_{0}^{V_{DS,\\text{sat}}}$$\n$$I_D \\cdot x_p = W \\mu_n C_{\\text{ox}} \\left( (V_{GS} - V_T)V_{DS,\\text{sat}} - \\frac{1}{2}V_{DS,\\text{sat}}^2 \\right)$$\nSubstituting $V_{DS,\\text{sat}} = V_{GS} - V_T$:\n$$I_D \\cdot x_p = W \\mu_n C_{\\text{ox}} \\left( (V_{GS} - V_T)^2 - \\frac{1}{2}(V_{GS} - V_T)^2 \\right) = \\frac{1}{2}W \\mu_n C_{\\text{ox}} (V_{GS} - V_T)^2$$\nThus, the drain current is:\n$$I_D = \\frac{W \\mu_n C_{\\text{ox}}}{2 x_p} (V_{GS} - V_T)^2$$\nThe effective channel length is $x_p$. The region between $x=x_p$ and the drain at $x=L$ is the pinch-off or high-field region, of length $\\Delta L = L - x_p$. The potential drop across this region is $V_{DS} - V(x_p) = V_{DS} - V_{DS,\\text{sat}}$. The problem states that the electric field in this region is uniform and equal to $E_c$.\n$$E_c = \\frac{V_{DS} - V_{DS,\\text{sat}}}{\\Delta L}$$\nFrom this, we can solve for the channel length shortening, $\\Delta L$:\n$$\\Delta L = \\frac{V_{DS} - V_{DS,\\text{sat}}}{E_c}$$\nThe position of the pinch-off point $x_p$ is then:\n$$x_p = L - \\Delta L = L - \\frac{V_{DS} - V_{DS,\\text{sat}}}{E_c}$$\nNow we have all the expressions required to calculate the requested quantities.\n\n**Numerical Calculation**\n\nFirst, we calculate the constants and intermediate values:\n*   Oxide permittivity: $\\varepsilon_{\\text{ox}} = 3.9 \\times \\varepsilon_{0} = 3.9 \\times (8.854187817 \\times 10^{-12}\\,\\text{F/m}) \\approx 3.453133 \\times 10^{-11}\\,\\text{F/m}$.\n*   Oxide capacitance per unit area: $C_{\\text{ox}} = \\frac{\\varepsilon_{\\text{ox}}}{t_{\\text{ox}}} = \\frac{3.453133 \\times 10^{-11}\\,\\text{F/m}}{3.0 \\times 10^{-9}\\,\\text{m}} \\approx 0.0115104\\,\\text{F/m}^2$.\n*   Saturation voltage: $V_{DS,\\text{sat}} = V_{GS} - V_T = 1.2\\,\\text{V} - 0.4\\,\\text{V} = 0.8\\,\\text{V}$.\n*   Voltage across the pinch-off region: $V_{DS} - V_{DS,\\text{sat}} = 1.0\\,\\text{V} - 0.8\\,\\text{V} = 0.2\\,\\text{V}$.\n\nNow we can calculate the three final quantities:\n\n1.  **Channel Length Shortening ($\\Delta L$)**:\n    $$\\Delta L = \\frac{V_{DS} - V_{DS,\\text{sat}}}{E_c} = \\frac{0.2\\,\\text{V}}{1.0 \\times 10^{6}\\,\\text{V/m}} = 0.2 \\times 10^{-6}\\,\\text{m} = 0.2000\\,\\mu\\text{m}$$\n    Rounding to four significant figures, $\\Delta L = 0.2000\\,\\mu\\text{m}$.\n\n2.  **Pinch-off Point Position ($x_p$)**:\n    $$x_p = L - \\Delta L = (5.0 \\times 10^{-7}\\,\\text{m}) - (0.2 \\times 10^{-6}\\,\\text{m}) = (0.5 \\times 10^{-6}\\,\\text{m}) - (0.2 \\times 10^{-6}\\,\\text{m}) = 0.3 \\times 10^{-6}\\,\\text{m} = 0.3000\\,\\mu\\text{m}$$\n    Rounding to four significant figures, $x_p = 0.3000\\,\\mu\\text{m}$.\n\n3.  **Drain Current ($I_D$)**:\n    $$I_D = \\frac{W \\mu_n C_{\\text{ox}}}{2 x_p} (V_{GS} - V_T)^2$$\n    Plugging in the values:\n    $$I_D = \\frac{(1.0 \\times 10^{-5}\\,\\text{m}) \\cdot (5.0 \\times 10^{-2}\\,\\text{m}^2\\text{V}^{-1}\\text{s}^{-1}) \\cdot (0.0115104\\,\\text{F/m}^2)}{2 \\cdot (0.3 \\times 10^{-6}\\,\\text{m})} \\cdot (0.8\\,\\text{V})^2$$\n    $$I_D = \\frac{(5.0 \\times 10^{-7}) \\cdot (0.0115104)}{0.6 \\times 10^{-6}} \\cdot (0.64)\\,\\text{A}$$\n    $$I_D = \\frac{5.7552 \\times 10^{-9}}{0.6 \\times 10^{-6}} \\cdot 0.64\\,\\text{A} = (9.592 \\times 10^{-3}) \\cdot 0.64\\,\\text{A}$$\n    $$I_D \\approx 6.13888 \\times 10^{-3}\\,\\text{A} = 6.13888\\,\\text{mA}$$\n    Rounding to four significant figures, $I_D = 6.139\\,\\text{mA}$.\n\nThe requested values are $x_p = 0.3000\\,\\mu\\text{m}$, $\\Delta L = 0.2000\\,\\mu\\text{m}$, and $I_D = 6.139\\,\\text{mA}$.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.3000 & 0.2000 & 6.139\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "As transistor dimensions shrink deep into the nanometer scale, one-dimensional models like the Gradual Channel Approximation (GCA) lose their accuracy. This advanced computational exercise  challenges you to quantify these limitations by implementing and comparing a basic GCA model against a more sophisticated one that incorporates first-order corrections for Drain-Induced Barrier Lowering (DIBL) and Channel-Length Modulation (CLM). By coding these physical models, you will gain practical insight into the regimes where short-channel effects dominate and develop essential skills in evaluating the validity of compact models used in circuit design.",
            "id": "3760408",
            "problem": "You are to implement two physically grounded current models for an n-channel Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) and evaluate the limitations of the Gradual Channel Approximation (GCA) compared to a two-dimensional (2D-aware) compact reference that includes Drain-Induced Barrier Lowering (DIBL) and Channel-Length Modulation (CLM). The objective is to compute, for specified short-channel devices, the relative error in drain current $I_D$ produced by the GCA model compared to the 2D-aware reference, and to identify regimes where the GCA fails to capture DIBL and CLM according to explicit, physically motivated criteria.\n\nStarting from the semiconductor fundamentals, use the one-dimensional electrostatics of the MOS capacitor and drift-diffusion transport under strong inversion as the modeling base:\n- Electrostatics: Poisson’s equation $\\nabla \\cdot \\left( \\varepsilon \\nabla \\psi \\right) = -\\rho$, depletion approximation, and the threshold condition associated with strong inversion.\n- Transport: Electron current density $J_n = q n \\mu_n \\mathcal{E} + q D_n \\nabla n$, charge control in the channel, and the quasi-static assumption consistent with GCA.\n\nYou must implement:\n- A GCA-based long-channel model that ignores two-dimensional short-channel effects (no DIBL, no CLM), but includes vertical-field mobility degradation in strong inversion. Use strong inversion-only current expressions with a consistent region check (linear region versus saturation) based on the local overdrive and drain voltage. Denote the threshold voltage from MOS electrostatics as $V_{T0}$ and the effective mobility as $\\mu_{\\text{eff}}$.\n- A 2D-aware compact reference that augments the GCA structure to capture short-channel effects by incorporating DIBL via an effective threshold shift and CLM via an output conductance factor in saturation. Use an effective threshold $V_{T,\\text{eff}}$ and apply CLM only in saturation.\n\nPhysical constants and parameters must be used in the International System of Units (SI). The following constants are to be used:\n- Elementary charge $q = 1.602 \\times 10^{-19}\\ \\mathrm{C}$.\n- Boltzmann constant $k_B = 1.380649 \\times 10^{-23}\\ \\mathrm{J/K}$.\n- Temperature $T = 300\\ \\mathrm{K}$.\n- Vacuum permittivity $\\varepsilon_0 = 8.854 \\times 10^{-12}\\ \\mathrm{F/m}$.\n- Silicon relative permittivity $\\varepsilon_{\\mathrm{si,r}} = 11.7$, hence $\\varepsilon_{\\mathrm{si}} = \\varepsilon_{\\mathrm{si,r}} \\varepsilon_0$.\n- Silicon dioxide relative permittivity $\\varepsilon_{\\mathrm{ox,r}} = 3.9$, hence $\\varepsilon_{\\mathrm{ox}} = \\varepsilon_{\\mathrm{ox,r}} \\varepsilon_0$.\n- Intrinsic carrier concentration $n_i = 1.0 \\times 10^{16}\\ \\mathrm{m}^{-3}$.\n\nModel elements to be derived and used:\n- Threshold voltage $V_{T0}$ from MOS electrostatics given substrate doping $N_A$, oxide thickness $t_{\\mathrm{ox}}$, and flatband voltage $V_{\\mathrm{fb}}$. Use the standard inversion condition with Fermi potential $\\phi_F = \\left( k_B T / q \\right) \\ln \\left( N_A / n_i \\right)$, body-effect coefficient $\\gamma = \\sqrt{ 2 q \\varepsilon_{\\mathrm{si}} N_A } / C_{\\mathrm{ox}}$, and oxide capacitance per area $C_{\\mathrm{ox}} = \\varepsilon_{\\mathrm{ox}} / t_{\\mathrm{ox}}$.\n- Vertical-field mobility degradation modeled as $\\mu_{\\text{eff}} = \\mu_0 / \\left( 1 + \\theta \\max \\left( V_{GS} - V_T, 0 \\right) \\right)$, where $V_T$ is the threshold used by the respective model.\n- Region determination consistent with strong inversion: linear region when $V_{DS} \\le V_{ov}$ and saturation otherwise, where $V_{ov}$ is the overdrive defined by $V_{ov} = V_{GS} - V_T$.\n\nYour program must compute, for each test case:\n1. The GCA drain current $I_{D,\\mathrm{GCA}}$ using $V_T = V_{T0}$ with no DIBL and no CLM, and with $\\mu_{\\text{eff}}$ defined by the GCA overdrive.\n2. The 2D-aware drain current $I_{D,\\mathrm{2D}}$ using an effective threshold $V_{T,\\mathrm{eff}} = V_{T0} - \\eta V_{DS}$ to represent Drain-Induced Barrier Lowering (DIBL), the same mobility degradation law but evaluated with the 2D-aware overdrive, and Channel-Length Modulation (CLM) via a multiplicative factor in saturation $(1 + \\lambda V_{DS})$.\n3. The relative error in drain current, defined as a decimal value without a percent sign, comparing the GCA and 2D-aware currents. Express it as a dimensionless float.\n4. Two boolean indicators identifying regimes where the GCA fails to capture DIBL and CLM respectively, according to the following criteria:\n   - DIBL failure is flagged when the device is short-channel and highly drained: $L \\le 100\\ \\mathrm{nm}$, $V_{DS} \\ge 0.5\\ \\mathrm{V}$, and the relative threshold shift is non-negligible: $\\Delta V_T / V_{ov,\\mathrm{2D}} \\ge 0.2$, where $\\Delta V_T = \\eta V_{DS}$ and $V_{ov,\\mathrm{2D}} = V_{GS} - V_{T,\\mathrm{eff}}$.\n   - CLM failure is flagged when the 2D-aware model is in saturation and the CLM magnitude is non-negligible: $\\lambda V_{DS} \\ge 0.05$ and $L \\le 100\\ \\mathrm{nm}$.\n\nAll currents must be computed in amperes ($\\mathrm{A}$). The final output is to be a list of results for the test suite, where each test case produces a list of three values: the relative error (float), the DIBL failure flag (boolean), and the CLM failure flag (boolean).\n\nThe test suite consists of three parameter sets, each specified as a tuple in the order:\n$\\left( L,\\ W,\\ t_{\\mathrm{ox}},\\ N_A,\\ V_{GS},\\ V_{DS},\\ \\mu_0,\\ \\theta,\\ \\eta,\\ \\lambda \\right)$, with $V_{\\mathrm{fb}}$ fixed to $-0.25\\ \\mathrm{V}$ for all cases:\n- Case $1$ (long channel, low drain): $\\left( 1.0 \\times 10^{-6}\\ \\mathrm{m},\\ 1.0 \\times 10^{-6}\\ \\mathrm{m},\\ 2.0 \\times 10^{-9}\\ \\mathrm{m},\\ 1.0 \\times 10^{23}\\ \\mathrm{m}^{-3},\\ 1.00\\ \\mathrm{V},\\ 0.10\\ \\mathrm{V},\\ 0.05\\ \\mathrm{m^2/(V\\,s)},\\ 0.1\\ \\mathrm{V}^{-1},\\ 0.05\\ \\mathrm{V}^{-1},\\ 0.02\\ \\mathrm{V}^{-1} \\right)$.\n- Case $2$ (short channel, high drain): $\\left( 4.0 \\times 10^{-8}\\ \\mathrm{m},\\ 1.0 \\times 10^{-6}\\ \\mathrm{m},\\ 2.0 \\times 10^{-9}\\ \\mathrm{m},\\ 1.0 \\times 10^{23}\\ \\mathrm{m}^{-3},\\ 1.00\\ \\mathrm{V},\\ 1.00\\ \\mathrm{V},\\ 0.05\\ \\mathrm{m^2/(V\\,s)},\\ 0.1\\ \\mathrm{V}^{-1},\\ 0.15\\ \\mathrm{V}^{-1},\\ 0.10\\ \\mathrm{V}^{-1} \\right)$.\n- Case $3$ (near triode-to-saturation boundary, moderate drain): $\\left( 8.0 \\times 10^{-8}\\ \\mathrm{m},\\ 1.5 \\times 10^{-6}\\ \\mathrm{m},\\ 2.0 \\times 10^{-9}\\ \\mathrm{m},\\ 1.0 \\times 10^{23}\\ \\mathrm{m}^{-3},\\ 0.90\\ \\mathrm{V},\\ 0.30\\ \\mathrm{V},\\ 0.05\\ \\mathrm{m^2/(V\\,s)},\\ 0.1\\ \\mathrm{V}^{-1},\\ 0.10\\ \\mathrm{V}^{-1},\\ 0.05\\ \\mathrm{V}^{-1} \\right)$.\n\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, where each test case result is itself a list of three entries $\\left[ \\text{relative\\_error},\\ \\text{dibl\\_fail},\\ \\text{clm\\_fail} \\right]$. For example, the output should look like $\\left[ \\left[ e_1,\\ b_{1,\\mathrm{DIBL}},\\ b_{1,\\mathrm{CLM}} \\right],\\ \\left[ e_2,\\ b_{2,\\mathrm{DIBL}},\\ b_{2,\\mathrm{CLM}} \\right],\\ \\left[ e_3,\\ b_{3,\\mathrm{DIBL}},\\ b_{3,\\mathrm{CLM}} \\right] \\right]$, where each $e_i$ is a float (dimensionless) and each $b_{i,\\cdot}$ is boolean.",
            "solution": "The problem requires the implementation and comparison of two n-channel MOSFET current models: a basic Gradual Channel Approximation (GCA) model and a more physically complete 2D-aware model incorporating short-channel effects. The objective is to quantify the error of the simpler GCA model and identify operating regimes where it fails significantly. The solution is derived from fundamental semiconductor electrostatics and transport principles.\n\nFirst, we define the physical constants and calculate preliminary parameters common to both models. All values are in SI units.\n- Elementary charge: $q = 1.602 \\times 10^{-19}\\ \\mathrm{C}$\n- Boltzmann constant: $k_B = 1.380649 \\times 10^{-23}\\ \\mathrm{J/K}$\n- Temperature: $T = 300\\ \\mathrm{K}$\n- Vacuum permittivity: $\\varepsilon_0 = 8.854 \\times 10^{-12}\\ \\mathrm{F/m}$\n- Silicon relative permittivity: $\\varepsilon_{\\mathrm{si,r}} = 11.7$\n- Silicon dioxide relative permittivity: $\\varepsilon_{\\mathrm{ox,r}} = 3.9$\n- Intrinsic carrier concentration: $n_i = 1.0 \\times 10^{16}\\ \\mathrm{m}^{-3}$\n- Flatband voltage: $V_{\\mathrm{fb}} = -0.25\\ \\mathrm{V}$\n\nFrom these, we derive key device parameters:\n- Thermal voltage: $V_{th} = k_B T / q$\n- Silicon permittivity: $\\varepsilon_{\\mathrm{si}} = \\varepsilon_{\\mathrm{si,r}} \\varepsilon_0$\n- Oxide permittivity: $\\varepsilon_{\\mathrm{ox}} = \\varepsilon_{\\mathrm{ox,r}} \\varepsilon_0$\n- Oxide capacitance per unit area: $C_{\\mathrm{ox}} = \\varepsilon_{\\mathrm{ox}} / t_{\\mathrm{ox}}$\n- Fermi potential, which measures the doping level relative to the intrinsic level: $\\phi_F = V_{th} \\ln(N_A / n_i)$\n- Body-effect coefficient, which characterizes the influence of the depletion charge: $\\gamma = \\sqrt{2 q \\varepsilon_{\\mathrm{si}} N_A} / C_{\\mathrm{ox}}$\n- The long-channel threshold voltage, $V_{T0}$, is calculated based on the 1D MOS capacitor electrostatics at the onset of strong inversion (surface potential $\\psi_s = 2 \\phi_F$). Assuming zero source-body voltage ($V_{SB}=0$):\n$$V_{T0} = V_{\\mathrm{fb}} + 2 \\phi_F + \\gamma \\sqrt{2 \\phi_F}$$\n\nWith these parameters established, we now define the two current models.\n\n**1. Gradual Channel Approximation (GCA) Model ($I_{D,\\mathrm{GCA}}$)**\nThis is a first-order model that assumes the channel electric field is predominantly vertical. It neglects 2D electrostatic effects like DIBL and CLM.\n\n- The threshold voltage is constant: $V_T = V_{T0}$.\n- The overdrive voltage is $V_{ov,\\mathrm{GCA}} = V_{GS} - V_{T0}$. The device is considered ON (in strong inversion) only if $V_{ov,\\mathrm{GCA}} > 0$. Otherwise, $I_{D,\\mathrm{GCA}} = 0$.\n- The effective electron mobility, $\\mu_{\\text{eff}}$, is reduced by the vertical electric field, modeled as:\n$$\\mu_{\\text{eff}} = \\frac{\\mu_0}{1 + \\theta V_{ov,\\mathrm{GCA}}}$$\n- The device transconductance parameter is $\\beta_{\\text{eff}} = \\mu_{\\text{eff}} (W/L) C_{\\mathrm{ox}}$.\n- The drain current $I_{D,\\mathrm{GCA}}$ depends on the region of operation:\n  - Linear Region ($0 < V_{DS} \\le V_{ov,\\mathrm{GCA}}$):\n  $$I_{D,\\mathrm{GCA}} = \\beta_{\\text{eff}} \\left( V_{ov,\\mathrm{GCA}} V_{DS} - \\frac{1}{2} V_{DS}^2 \\right)$$\n  - Saturation Region ($V_{DS} > V_{ov,\\mathrm{GCA}}$):\n  $$I_{D,\\mathrm{GCA}} = \\frac{1}{2} \\beta_{\\text{eff}} V_{ov,\\mathrm{GCA}}^2$$\n\n**2. 2D-Aware Compact Model ($I_{D,\\mathrm{2D}}$)**\nThis model enhances the GCA framework by incorporating first-order corrections for short-channel effects.\n\n- **Drain-Induced Barrier Lowering (DIBL)**: The drain voltage influences the channel electrostatics, lowering the source-channel potential barrier. This is modeled as a linear reduction in the threshold voltage:\n$$V_{T,\\mathrm{eff}} = V_{T0} - \\eta V_{DS}$$\nwhere $\\eta$ is the DIBL coefficient.\n- The 2D-aware overdrive voltage is $V_{ov,\\mathrm{2D}} = V_{GS} - V_{T,\\mathrm{eff}}$. The device is ON if $V_{ov,\\mathrm{2D}} > 0$. Otherwise, $I_{D,\\mathrm{2D}} = 0$.\n- The effective mobility is calculated similarly, but using the 2D-aware overdrive:\n$$\\mu_{\\text{eff,2D}} = \\frac{\\mu_0}{1 + \\theta V_{ov,\\mathrm{2D}}}$$\n- The corresponding transconductance parameter is $\\beta_{\\text{eff,2D}} = \\mu_{\\text{eff,2D}} (W/L) C_{\\mathrm{ox}}$.\n- **Channel-Length Modulation (CLM)**: In saturation, the effective channel length is reduced as the drain depletion region extends towards the source. This increases the output current and is modeled by a multiplicative factor. The drain current $I_{D,\\mathrm{2D}}$ is:\n  - Linear Region ($0 < V_{DS} \\le V_{ov,\\mathrm{2D}}$): The equation is identical in form to the GCA model, but uses the 2D-aware parameters. CLM is not active.\n  $$I_{D,\\mathrm{2D}} = \\beta_{\\text{eff,2D}} \\left( V_{ov,\\mathrm{2D}} V_{DS} - \\frac{1}{2} V_{DS}^2 \\right)$$\n  - Saturation Region ($V_{DS} > V_{ov,\\mathrm{2D}}$):\n  $$I_{D,\\mathrm{2D}} = \\frac{1}{2} \\beta_{\\text{eff,2D}} V_{ov,\\mathrm{2D}}^2 (1 + \\lambda V_{DS})$$\nwhere $\\lambda$ is the CLM coefficient.\n\n**3. Comparative Analysis Metrics**\nTo evaluate the GCA model against the 2D-aware reference, we compute the following for each test case:\n\n- **Relative Error**: The deviation of the GCA current from the 2D-aware reference, normalized by the reference current:\n$$\\text{Relative Error} = \\frac{I_{D,\\mathrm{GCA}} - I_{D,\\mathrm{2D}}}{I_{D,\\mathrm{2D}}}$$\nA non-zero reference current $I_{D,\\mathrm{2D}}$ is assumed. If $I_{D,\\mathrm{2D}} = 0$, then $I_{D,\\mathrm{GCA}}$ must also be $0$, and the error is defined as $0$.\n\n- **DIBL Failure Flag**: A boolean indicator that is `True` if the device is a short-channel transistor operating at high drain bias where the threshold voltage shift due to DIBL is a significant fraction of the overdrive voltage. The specific criteria are:\n$$(L \\le 100 \\times 10^{-9}\\ \\mathrm{m}) \\land (V_{DS} \\ge 0.5\\ \\mathrm{V}) \\land \\left(\\frac{\\eta V_{DS}}{V_{ov,\\mathrm{2D}}} \\ge 0.2\\right)$$\nA positive overdrive voltage $V_{ov,\\mathrm{2D}} > 0$ is required for this evaluation.\n\n- **CLM Failure Flag**: A boolean indicator that is `True` if the device is a short-channel transistor operating in saturation, where the current increase due to CLM is non-negligible. The specific criteria are:\n$$(V_{DS} > V_{ov,\\mathrm{2D}}) \\land (\\lambda V_{DS} \\ge 0.05) \\land (L \\le 100 \\times 10^{-9}\\ \\mathrm{m})$$\nThe procedure involves, for each test case, calculating all preliminary parameters, then computing $I_{D,\\mathrm{GCA}}$ and $I_{D,\\mathrm{2D}}$ by determining their respective regions of operation, and finally evaluating the relative error and the two failure flags based on the defined criteria.",
            "answer": "[[-0.02403610191295415, False, False], [-0.528172922114631, True, True], [-0.3551061971778945, False, False]]"
        }
    ]
}