{
    "hands_on_practices": [
        {
            "introduction": "The subthreshold swing, $S$, is a critical parameter defining a transistor's switching efficiency, and its value is fundamentally tied to the thermal energy of the system. This first practice grounds your understanding by requiring a derivation of the relationship between $S$ and absolute temperature $T$ from first principles, starting with the Boltzmann statistics that govern carrier diffusion in the subthreshold regime. By completing this derivation , you will solidify the connection between microscopic carrier physics and this key macroscopic device characteristic, clarifying why the ideal swing is inherently limited by temperature.",
            "id": "3775755",
            "problem": "Consider a long-channel metal-oxide-semiconductor field-effect transistor (MOSFET) operated in the subthreshold regime at a small drain bias so that drain-induced barrier lowering is negligible. Assume that subthreshold conduction is governed by thermally activated diffusion over the source-channel barrier under quasi-equilibrium conditions, so that the mobile carrier density near the barrier follows Boltzmann statistics. Let the gate-to-channel surface-potential coupling be characterized by a dimensionless slope factor $n$, defined through the electrostatic relation $d\\psi_{s}/dV_{G} = 1/n$, where $\\psi_{s}$ is the channel surface potential and $V_{G}$ is the gate voltage. The subthreshold swing $S$ is defined as the gate voltage change required to change the drain current $I_{D}$ by one decade, namely $S \\equiv dV_{G}/d\\left(\\log_{10} I_{D}\\right)$ evaluated in the subthreshold regime.\n\nUsing only the above fundamentals together with the thermal voltage $V_{T} \\equiv k_{B}T/q$, derive the analytic temperature dependence $S(T)$ for a device with a constant slope factor $n=1.3$ over the temperature range $200\\,\\mathrm{K} \\le T \\le 400\\,\\mathrm{K}$. Provide the final result as a single linear function of $T$ expressed in $\\mathrm{mV/decade}$, using the exact constants $k_{B} = 1.380649 \\times 10^{-23}\\,\\mathrm{J/K}$ and $q = 1.602176634 \\times 10^{-19}\\,\\mathrm{C}$. Round the numerical coefficient in your final expression to four significant figures. Briefly explain why $S(T)$ scales linearly with the thermal voltage $V_{T}$, and outline how $S$ and $n$ are practically extracted from measured $I_{D}$–$V_{G}$ data on a semi-log plot in the subthreshold regime.\n\nYour final answer must be a single closed-form analytic expression for $S(T)$.",
            "solution": "The problem is first subjected to a rigorous validation process.\n\n### Step 1: Extract Givens\n- **Device**: Long-channel metal-oxide-semiconductor field-effect transistor (MOSFET).\n- **Operating Regime**: Subthreshold, small drain bias (drain-induced barrier lowering is negligible).\n- **Conduction Mechanism**: Thermally activated diffusion over the source-channel barrier.\n- **Carrier Statistics**: Mobile carrier density near the barrier follows Boltzmann statistics.\n- **Electrostatic Coupling**: The gate-to-channel surface-potential coupling is defined by a dimensionless slope factor $n$ through the relation $d\\psi_{s}/dV_{G} = 1/n$, where $\\psi_{s}$ is the channel surface potential and $V_{G}$ is the gate voltage.\n- **Subthreshold Swing Definition**: $S \\equiv dV_{G}/d\\left(\\log_{10} I_{D}\\right)$, where $I_D$ is the drain current.\n- **Thermal Voltage Definition**: $V_{T} \\equiv k_{B}T/q$.\n- **Constants and Parameters**:\n    - Slope factor $n = 1.3$ (constant).\n    - Temperature range $200\\,\\mathrm{K} \\le T \\le 400\\,\\mathrm{K}$.\n    - Boltzmann constant $k_{B} = 1.380649 \\times 10^{-23}\\,\\mathrm{J/K}$.\n    - Elementary charge $q = 1.602176634 \\times 10^{-19}\\,\\mathrm{C}$.\n- **Required Tasks**:\n    1. Derive the analytic temperature dependence $S(T)$.\n    2. Provide the result as a linear function of $T$ in $\\mathrm{mV/decade}$.\n    3. Round the numerical coefficient to four significant figures.\n    4. Explain the linear scaling of $S(T)$ with $V_T$.\n    5. Outline the practical extraction of $S$ and $n$ from measured data.\n\n### Step 2: Validate Using Extracted Givens\nThe problem statement is evaluated against the validation criteria.\n- **Scientifically Grounded**: The problem is fundamentally based on the standard, well-established physics of MOSFET operation in the subthreshold regime. The concepts of thermal activation, Boltzmann statistics, thermal voltage, subthreshold swing, and the slope factor are all cornerstone principles of semiconductor device physics. The model described is a standard first-order model taught in advanced undergraduate and graduate courses.\n- **Well-Posed**: All necessary definitions ($S$, $n$, $V_T$), physical models (diffusion current, Boltzmann statistics), and numerical constants ($n$, $k_B$, $q$) are provided to derive the requested functional form of $S(T)$ and its numerical coefficients. The tasks are clearly specified.\n- **Objective**: The problem is stated in precise, quantitative, and unbiased scientific language.\n- **Completeness and Consistency**: The problem is self-contained and internally consistent. The assumption of a constant slope factor $n$ is a valid simplification for this type of problem.\n\n### Step 3: Verdict and Action\nThe problem is **valid**. It is scientifically sound, well-posed, and all required information is provided. We may proceed with the solution.\n\n### Derivation of S(T)\n\nThe subthreshold drain current $I_D$ is due to carriers diffusing over the source-channel potential barrier. According to the provided information, the mobile carrier concentration at the top of the barrier is governed by Boltzmann statistics. This means the concentration is proportional to $\\exp(-E_b / (k_B T))$, where $E_b$ is the barrier height. In terms of electrical potential, the current is exponentially dependent on the surface potential $\\psi_s$, which sets the barrier height. The drain current $I_D$ can thus be written as:\n$$I_{D} \\propto \\exp\\left(\\frac{q\\psi_{s}}{k_{B}T}\\right)$$\nUsing the definition of thermal voltage, $V_{T} \\equiv k_{B}T/q$, this becomes:\n$$I_{D} = I_{D0} \\exp\\left(\\frac{\\psi_s}{V_T}\\right)$$\nwhere $I_{D0}$ is a pre-exponential factor that depends on device geometry and other parameters, but can be considered constant with respect to $V_G$ and $\\psi_s$ in the subthreshold region.\n\nThe subthreshold swing $S$ is defined as $S \\equiv dV_{G}/d\\left(\\log_{10} I_{D}\\right)$. To facilitate differentiation, we convert the base-$10$ logarithm to a natural logarithm using the identity $\\log_{10}(x) = \\ln(x) / \\ln(10)$:\n$$S = \\frac{dV_{G}}{d\\left(\\frac{\\ln I_{D}}{\\ln 10}\\right)} = \\ln(10) \\frac{dV_G}{d(\\ln I_D)}$$\nThis can be rewritten using the inverse of the derivative:\n$$S = \\ln(10) \\left(\\frac{d(\\ln I_{D})}{dV_G}\\right)^{-1}$$\nWe evaluate the derivative $d(\\ln I_{D})/dV_G$ using the chain rule:\n$$\\frac{d(\\ln I_{D})}{dV_G} = \\frac{d(\\ln I_{D})}{d\\psi_s} \\frac{d\\psi_s}{dV_G}$$\nFrom the expression for $I_D$, we take the natural logarithm: $\\ln I_D = \\ln I_{D0} + \\psi_s/V_T$. Differentiating with respect to $\\psi_s$ gives:\n$$\\frac{d(\\ln I_{D})}{d\\psi_s} = \\frac{1}{V_T}$$\nThe problem provides the electrostatic relationship between the gate voltage $V_G$ and the surface potential $\\psi_s$:\n$$\\frac{d\\psi_s}{dV_G} = \\frac{1}{n}$$\nSubstituting these two results back into the chain rule expression:\n$$\\frac{d(\\ln I_{D})}{dV_G} = \\left(\\frac{1}{V_T}\\right) \\left(\\frac{1}{n}\\right) = \\frac{1}{n V_T}$$\nFinally, we substitute this into the equation for $S$:\n$$S = \\ln(10) \\left(\\frac{1}{n V_T}\\right)^{-1} = n \\ln(10) V_T$$\nTo find the explicit temperature dependence $S(T)$, we substitute the definition of the thermal voltage, $V_T = k_B T / q$:\n$$S(T) = n \\ln(10) \\left(\\frac{k_B T}{q}\\right) = \\left( \\frac{n \\ln(10) k_B}{q} \\right) T$$\nThis shows that $S$ is a linear function of the absolute temperature $T$.\n\nNow, we calculate the numerical coefficient using the given values: $n = 1.3$, $k_B = 1.380649 \\times 10^{-23}\\,\\mathrm{J/K}$, and $q = 1.602176634 \\times 10^{-19}\\,\\mathrm{C}$.\nThe coefficient is $\\frac{n \\ln(10) k_B}{q}$.\n$$\\text{Coefficient} = \\frac{1.3 \\times \\ln(10) \\times (1.380649 \\times 10^{-23}\\,\\mathrm{J/K})}{1.602176634 \\times 10^{-19}\\,\\mathrm{C}}$$\n$$\\text{Coefficient} \\approx \\frac{1.3 \\times 2.302585 \\times (1.380649 \\times 10^{-23})}{1.602176634 \\times 10^{-19}} \\,\\mathrm{V/K}$$\n$$\\text{Coefficient} \\approx 2.99336 \\times 8.61733 \\times 10^{-5} \\,\\mathrm{V/K} \\approx 0.000257934 \\,\\mathrm{V/K}$$\nThe problem asks for the result in units of $\\mathrm{mV/decade}$. Our formula for $S$ is already \"per decade\" due to the $\\ln(10)$ factor. We just need to convert Volts to milliVolts by multiplying by $1000$:\n$$\\text{Coefficient}_{\\mathrm{mV/K}} \\approx 0.000257934 \\times 1000 \\,\\mathrm{mV/K} = 0.257934 \\,\\mathrm{mV/K}$$\nRounding to four significant figures, the coefficient is $0.2579$.\nTherefore, the final expression for the subthreshold swing as a function of temperature is:\n$$S(T) = 0.2579 \\, T$$\nwhere $T$ is in Kelvin and $S(T)$ is in $\\mathrm{mV/decade}$.\n\n### Explanation of Linear Scaling\nThe subthreshold swing $S(T)$ scales linearly with the thermal voltage $V_T$ because the underlying physical mechanism is thermal. The derived relationship is $S = n \\ln(10) V_T$. Since the slope factor $n$ is assumed to be constant and $\\ln(10)$ is a mathematical constant, $S$ is directly proportional to $V_T$. Physically, the subthreshold current arises from the high-energy tail of the Boltzmann-distributed charge carriers overcoming a potential barrier. The characteristic energy of this thermal distribution is $k_B T$. To change the current by a fixed factor (one decade), the barrier height must be modulated by an amount proportional to this thermal energy. The gate voltage $V_G$ controls the barrier height, and the subthreshold swing $S$ is precisely the change in $V_G$ needed for this modulation. Therefore, $S$ must scale directly with the thermal energy expressed in volts, which is the thermal voltage $V_T = k_B T / q$.\n\n### Practical Extraction of S and n\nTo practically extract the subthreshold swing $S$ and the slope factor $n$ from experimental data, one performs the following steps:\n1.  Measure the drain current $I_D$ as a function of the gate voltage $V_G$ for a small, constant drain-source voltage $V_{DS}$ (e.g., $50$-$100\\,\\mathrm{mV}$).\n2.  Plot the data on a semi-logarithmic scale, with $\\log_{10}(I_D)$ on the vertical axis and $V_G$ on the linear horizontal axis.\n3.  Identify the subthreshold region of operation, which appears as a straight line on this plot, situated between the \"off\" state (leakage current) and the \"on\" state (strong inversion).\n4.  Perform a linear fit to this straight-line portion of the curve. The slope of this line is $m = d(\\log_{10} I_D)/dV_G$.\n5.  The subthreshold swing $S$ is the reciprocal of this slope: $S = 1/m$. The units are typically expressed in millivolts per decade ($\\mathrm{mV/decade}$).\n6.  Once $S$ is determined and the measurement temperature $T$ is known, the slope factor $n$ can be calculated using the derived relationship $S = n \\ln(10) (k_B T / q)$. Rearranging for $n$:\n    $$n = \\frac{S}{\\ln(10) V_T} = \\frac{q S}{k_B T \\ln(10)}$$\n    An ideal MOSFET would have perfect gate control over the channel, corresponding to $n=1$ and a minimal subthreshold swing of $S_{\\text{ideal}} = \\ln(10) V_T \\approx 60\\,\\mathrm{mV/decade}$ at room temperature ($T=300\\,\\mathrm{K}$). In practice, $n > 1$ due to the capacitive voltage divider formed by the gate oxide capacitance and the semiconductor's depletion capacitance.",
            "answer": "$$\\boxed{0.2579 T}$$"
        },
        {
            "introduction": "While ideal models provide a crucial foundation, real-world devices invariably include parasitic elements that can significantly alter measured performance characteristics. This practice explores the impact of a common parasitic, the source series resistance $R_S$, on the experimental extraction of the subthreshold swing. Through this exercise , you will learn to mathematically quantify the error this resistance introduces, a vital skill for accurately characterizing device performance and distinguishing intrinsic limitations from extrinsic measurement artifacts.",
            "id": "3775716",
            "problem": "A long-channel $n$-channel Metal–Oxide–Semiconductor Field-Effect Transistor (MOSFET) is measured in weak inversion under quasi-static conditions at room temperature. The external source terminal is grounded and the external gate voltage is denoted by $V_{g}$. The device exhibits a known source series resistance $R_{S}$ between the source terminal and the channel. At a particular bias point deep in weak inversion, the measured terminal drain current is $I_{D}$. An analyst extracts the subthreshold swing by taking the slope of $V_{g}$ versus $\\log_{10}(I_{D})$ at this bias point, but ignores the presence of $R_{S}$ when interpreting the result as the intrinsic channel subthreshold swing.\n\nStarting from first principles of diffusion-dominated weak-inversion transport, the exponential dependence of the channel current on the channel surface potential, and the basic series-resistance relation between terminal and internal voltages, derive an expression for the additive error $\\Delta S$ in the extracted subthreshold swing due solely to ignoring $R_{S}$, expressed in terms of $I_{D}$ and $R_{S}$. Then evaluate $\\Delta S$ numerically for $R_{S} = 10\\,\\mathrm{k}\\Omega$ and $I_{D} = 50\\,\\mathrm{nA}$, assuming negligible Drain-Induced Barrier Lowering (DIBL), a constant body factor, and sufficiently small drain-to-source voltage so that the weak-inversion current is one-dimensional and diffusion dominated.\n\nExpress the final numerical value of $\\Delta S$ in $\\mathrm{mV/dec}$ and round your answer to four significant figures.",
            "solution": "The problem is validated as scientifically grounded, well-posed, objective, and complete. All conditions and provided values are physically realistic for a MOSFET operating in the specified regime.\n\nThe subthreshold swing, $S$, is a key figure of merit for a MOSFET, representing the change in gate voltage required to change the drain current by one decade. It is defined as:\n$$S = \\left( \\frac{d(\\log_{10} I_{D})}{dV_{G}} \\right)^{-1} = \\frac{dV_{G}}{d(\\log_{10} I_{D})}$$\nwhere $I_D$ is the drain current and $V_G$ is the gate voltage.\n\nFirst, we consider the intrinsic device, free from parasitic series resistance. In the weak inversion (subthreshold) regime, the drain current is dominated by diffusion and depends exponentially on the surface potential, $\\psi_s$. For a long-channel device with a drain-to-source voltage $V_{DS}$ much larger than the thermal voltage $V_T = k_B T / q$, the current is given by:\n$$I_{D} \\propto \\exp\\left(\\frac{q\\psi_s}{k_B T}\\right)$$\nThe surface potential $\\psi_s$ is linearly related to the internal gate-to-source voltage, $V_{GS,int}$. A change in $V_{GS,int}$ causes a scaled change in $\\psi_s$:\n$$\\Delta \\psi_s = \\frac{1}{n} \\Delta V_{GS,int}$$\nwhere $n \\ge 1$ is the body factor (or subthreshold slope factor), which is assumed to be constant. For an ideal MOSFET, $n=1$. Combining these relations, the drain current is an exponential function of the internal gate-to-source voltage:\n$$I_{D} = I_{D0} \\exp\\left(\\frac{q V_{GS,int}}{n k_B T}\\right) = I_{D0} \\exp\\left(\\frac{V_{GS,int}}{n V_T}\\right)$$\nHere, $I_{D0}$ is a pre-exponential factor that depends on device geometry and material properties.\n\nThe intrinsic subthreshold swing, $S_{int}$, corresponds to the case where the measured voltage is the internal voltage, i.e., $V_G = V_{GS,int}$. We can derive $S_{int}$ as follows:\n$$\\log_{10}(I_D) = \\log_{10}(I_{D0}) + \\frac{V_{GS,int}}{n V_T} \\log_{10}(e) = \\log_{10}(I_{D0}) + \\frac{V_{GS,int}}{n V_T \\ln(10)}$$\n$$S_{int} = \\frac{dV_{GS,int}}{d(\\log_{10} I_D)} = n V_T \\ln(10)$$\nThis is the true subthreshold swing of the channel itself.\n\nNow, we introduce the source series resistance, $R_S$. The external source terminal is grounded, so its potential is $0$. The current $I_D$ flowing through $R_S$ creates a voltage drop, raising the potential of the internal source node to $V_{S,int} = I_D R_S$. The external gate voltage is $V_g$. Therefore, the internal gate-to-source voltage is:\n$$V_{GS,int} = V_g - V_{S,int} = V_g - I_D R_S$$\nThe analyst measures the terminal quantities: the external gate voltage $V_g$ and the terminal drain current $I_D$. The measured subthreshold swing, $S_{meas}$, is therefore:\n$$S_{meas} = \\frac{dV_g}{d(\\log_{10} I_D)}$$\nTo evaluate this, we differentiate the expression for $V_g$ with respect to $\\log_{10}(I_D)$:\n$$V_g = V_{GS,int} + I_D R_S$$\n$$\\frac{d V_g}{d(\\log_{10} I_D)} = \\frac{d V_{GS,int}}{d(\\log_{10} I_D)} + \\frac{d(I_D R_S)}{d(\\log_{10} I_D)}$$\nThe term on the left is $S_{meas}$. The first term on the right is, by definition, the intrinsic subthreshold swing, $S_{int}$. The second term represents the effect of the series resistance. Since $R_S$ is constant:\n$$ \\frac{d(I_D R_S)}{d(\\log_{10} I_D)} = R_S \\frac{dI_D}{d(\\log_{10} I_D)} $$\nTo evaluate the derivative $\\frac{dI_D}{d(\\log_{10} I_D)}$, we use the chain rule. Let $y = \\log_{10}(I_D)$, which means $I_D = 10^y$. Then:\n$$\\frac{dI_D}{dy} = \\frac{d(10^y)}{dy} = 10^y \\ln(10) = I_D \\ln(10)$$\nSubstituting this result back, we have:\n$$S_{meas} = S_{int} + R_S \\left( I_D \\ln(10) \\right) = S_{int} + \\ln(10) I_D R_S$$\nThe additive error, $\\Delta S$, is the difference between the measured swing and the true intrinsic swing, which arises from ignoring $R_S$.\n$$\\Delta S = S_{meas} - S_{int}$$\nTherefore, the expression for the additive error is:\n$$\\Delta S = \\ln(10) I_D R_S$$\nThis expression depends only on the measured current $I_D$ and the known resistance $R_S$, as requested. It is independent of temperature and the body factor $n$.\n\nNext, we evaluate $\\Delta S$ numerically for the given values:\n$R_S = 10\\,\\mathrm{k}\\Omega = 1.0 \\times 10^4\\,\\Omega$\n$I_D = 50\\,\\mathrm{nA} = 5.0 \\times 10^{-8}\\,\\mathrm{A}$\n\nSubstituting these values into the derived expression for $\\Delta S$:\n$$\\Delta S = \\ln(10) \\times (5.0 \\times 10^{-8}\\,\\mathrm{A}) \\times (1.0 \\times 10^4\\,\\Omega)$$\n$$\\Delta S = \\ln(10) \\times (5.0 \\times 1.0) \\times 10^{-8+4}\\,\\mathrm{V}$$\n$$\\Delta S = \\ln(10) \\times 5.0 \\times 10^{-4}\\,\\mathrm{V}$$\nUsing the value $\\ln(10) \\approx 2.302585$:\n$$\\Delta S \\approx 2.302585 \\times 5.0 \\times 10^{-4}\\,\\mathrm{V} \\approx 11.512925 \\times 10^{-4}\\,\\mathrm{V}$$\n$$\\Delta S \\approx 1.1512925 \\times 10^{-3}\\,\\mathrm{V}$$\nThe problem asks for the result in units of millivolts per decade ($\\mathrm{mV/dec}$). The unit of swing is Volts/decade, so we convert Volts to millivolts:\n$$\\Delta S \\approx 1.1512925\\,\\mathrm{mV/dec}$$\nRounding this result to four significant figures gives:\n$$\\Delta S \\approx 1.151\\,\\mathrm{mV/dec}$$",
            "answer": "$$\\boxed{1.151}$$"
        },
        {
            "introduction": "Advanced device analysis and design require moving beyond simplified analytical models to numerical simulations that capture the complex, self-consistent interplay of underlying physical laws. This capstone exercise challenges you to develop a numerical solver that couples Poisson's equation for electrostatics with the drift-diffusion model for carrier transport to predict the current-voltage behavior of a MOSFET. By building a solver from fundamental principles , you will gain deep insight into the core methods behind TCAD (Technology Computer-Aided Design) tools and the process of modeling device behavior from the ground up.",
            "id": "3775713",
            "problem": "You are asked to design and implement a self-consistent numerical solver to compute the drain current as a function of gate voltage, $I_D(V_G)$, for a long-channel Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) operating in the subthreshold regime. The solver must couple electrostatics, via Poisson’s equation, to carrier transport, via drift–diffusion with Boltzmann statistics, using a principled iterative procedure. Your solution must start from fundamental physical laws and standard definitions and must not assume any closed-form transistor models.\n\nThe physical setting and assumptions are:\n- The device is a one-dimensional semiconductor slab of thickness $t_{si}$ in the vertical direction ($y$), uniformly doped p-type with ionized acceptor density $N_A$. The oxide of thickness $t_{ox}$ lies at $y=0$ with gate voltage $V_G$, and the semiconductor bulk contact lies at $y=t_{si}$ (deep in the substrate).\n- Operation is in subthreshold (weak inversion), such that non-degenerate Boltzmann statistics are valid and the minority carrier electron concentration is exponentially controlled by the electrostatic potential. Long-channel and low-field transport applies along the channel ($x$), making diffusion dominant.\n- The metal–semiconductor flatband is matched so that the flatband voltage is $V_{FB}=0$.\n\nThe governing laws and definitions to be used as the starting point are:\n- Poisson’s equation in the semiconductor: $$\\frac{d^2 \\psi(y)}{dy^2} = -\\frac{q}{\\varepsilon_{si}}\\left(p(y) - n(y) - N_A\\right),$$ where $q$ is the elementary charge, $\\varepsilon_{si}$ is the silicon permittivity, $\\psi(y)$ is the electrostatic potential referenced to the intrinsic level, $n(y)$ is the electron density, and $p(y)$ is the hole density.\n- Boltzmann relations in local equilibrium: $$n(y) = n_i \\exp\\!\\left(\\frac{\\psi(y)}{V_T}\\right), \\quad p(y) = n_i \\exp\\!\\left(-\\frac{\\psi(y)}{V_T}\\right),$$ where $n_i$ is the intrinsic carrier density, and $V_T = k_B T/q$ is the thermal voltage, with $k_B$ the Boltzmann constant and $T$ the absolute temperature.\n- The Einstein relation: $$D_n = \\mu_n V_T,$$ where $D_n$ is the electron diffusion coefficient and $\\mu_n$ is the electron mobility.\n- Steady-state one-dimensional electron drift–diffusion current density along the channel: $$J_n = q \\mu_n n_s(x) \\frac{d \\phi(x)}{dx} + q D_n \\frac{d n_s(x)}{dx},$$ where $n_s(x)$ is the inversion layer electron sheet density (vertical integral of $n(y)$), and $\\phi(x)$ is the electrostatic potential along the channel. In the subthreshold long-channel limit with small drain bias, diffusion dominates and the current is controlled by the gradient of $n_s(x)$.\n\nBoundary conditions and gate coupling:\n- Deep in the substrate, the electrostatic potential equals the bulk value $$\\psi(t_{si}) = \\psi_b,$$ where $$\\psi_b = -V_T \\ln\\!\\left(\\frac{N_A}{n_i}\\right).$$\n- At the semiconductor surface, the electrostatic potential equals the unknown surface potential $$\\psi(0) = \\psi_s.$$\n- The surface electric field determines the total semiconductor charge per area via Gauss’s law. With oxide capacitance per unit area $$C_{ox} = \\frac{\\varepsilon_{ox}}{t_{ox}},$$ and silicon permittivity $\\varepsilon_{si}$, the gate boundary condition is enforced by $$V_G = \\psi_s + \\frac{Q_s}{C_{ox}},$$ where $$Q_s = -\\varepsilon_{si} \\left.\\frac{d \\psi}{dy}\\right|_{y=0}.$$\n\nYour computational task:\n- Implement a self-consistent scheme that, for a given $V_G$ and drain voltage $V_D$, finds $\\psi_s$ and the vertical potential $\\psi(y)$ that satisfy Poisson’s equation and the gate boundary condition, and then computes the electron sheet density $$N_{inv} = \\int_0^{t_{si}} n(y)\\, dy.$$ Use a Finite Difference Method (FDM) in $y$ for Poisson’s equation and Gummel iteration (GI) for handling the nonlinear charge coupling. Enforce the gate boundary condition via a fixed-point update or a root-finding method on $\\psi_s$.\n- Under the subthreshold, diffusion-dominated long-channel approximation, treat the lateral transport as quasi-one-dimensional diffusion of $n_s(x)$ from source to drain, and compute the drain current. Your derivation must start from the continuity equation and drift–diffusion, not from any transistor shortcut model.\n\nConvergence criteria:\n- Define and implement convergence criteria for both the Poisson solver and the gate self-consistency. For Poisson, require the maximum change in the potential profile over the domain to be less than a tolerance $\\delta \\psi$ after an iteration; for gate self-consistency, require the change in $\\psi_s$ between successive updates to be less than a tolerance $\\delta \\psi_s$. Use under-relaxation (mixing) as needed to ensure stability in subthreshold.\n- Your program must ensure that both criteria are met for each test case before reporting the current. If the solver fails to meet both criteria within a reasonable iteration cap, the case must still produce a numerical output for $I_D$ (e.g., the best available iterate).\n\nNumerical parameters and units:\n- Use $T = 300\\,\\mathrm{K}$, $q = 1.602176634\\times 10^{-19}\\,\\mathrm{C}$, $k_B = 1.380649\\times 10^{-23}\\,\\mathrm{J/K}$, $\\varepsilon_0 = 8.8541878128\\times 10^{-12}\\,\\mathrm{F/m}$, $\\varepsilon_{si} = 11.7\\,\\varepsilon_0$, $\\varepsilon_{ox} = 3.9\\,\\varepsilon_0$, $n_i = 1.0\\times 10^{16}\\,\\mathrm{m}^{-3}$, $N_A = 1.0\\times 10^{23}\\,\\mathrm{m}^{-3}$, $t_{si} = 5.0\\times 10^{-8}\\,\\mathrm{m}$, $t_{ox} = 2.0\\times 10^{-9}\\,\\mathrm{m}$, $\\mu_n = 0.04\\,\\mathrm{m}^2/\\mathrm{V\\,s}$, channel length $L = 1.0\\times 10^{-6}\\,\\mathrm{m}$, and width $W = 1.0\\times 10^{-6}\\,\\mathrm{m}$. Express all voltages in $\\mathrm{V}$, lengths in $\\mathrm{m}$, densities in $\\mathrm{m}^{-3}$, and currents in $\\mathrm{A}$.\n- Use $N_y = 301$ uniformly spaced grid points for the $y$-direction FDM.\n\nTest suite:\n- Compute $I_D$ for the following $(V_G,V_D)$ pairs, all in $\\mathrm{V}$: \n  - Case $1$: $V_G = -0.2$, $V_D = 0.05$ (accumulation edge case).\n  - Case $2$: $V_G = 0.0$, $V_D = 0.05$ (deep subthreshold).\n  - Case $3$: $V_G = 0.2$, $V_D = 0.05$ (moderate subthreshold).\n  - Case $4$: $V_G = 0.4$, $V_D = 0.05$ (nearer to threshold yet subthreshold).\n  - Case $5$: $V_G = 0.6$, $V_D = 0.05$ (close to onset of strong inversion).\n  - Case $6$: $V_G = 0.4$, $V_D = 0.0$ (boundary condition with zero drain bias; expect near-zero current).\n- Report $I_D$ for each case in $\\mathrm{A}$, rounded to five significant digits.\n\nFinal output format:\n- Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, in the order of the test suite above, for example, $$[I_1,I_2,I_3,I_4,I_5,I_6].$$ Each $I_k$ must be a float rounded to five significant digits in $\\mathrm{A}$.",
            "solution": "The problem requires the design and implementation of a self-consistent numerical solver to compute the subthreshold drain current, $I_D$, as a function of gate voltage, $V_G$, for a long-channel MOSFET. The solution must be derived from fundamental principles, namely the coupling of Poisson's equation for electrostatics with the drift-diffusion model for carrier transport, without recourse to pre-existing analytical transistor models.\n\n### 1. Physical Model Formulation\n\nThe core of the problem lies in determining the electrostatic potential profile $\\psi(y)$ in the semiconductor for a given gate voltage $V_G$ and channel quasi-Fermi potential $\\phi$. The device is modeled as a one-dimensional structure along the vertical direction $y$, from the oxide-semiconductor interface at $y=0$ to a depth $t_{si}$ at $y=t_{si}$.\n\n**1.1. Governing Equations**\n\nThe electrostatic potential $\\psi(y)$ is governed by the one-dimensional Poisson's equation:\n$$\n\\frac{d^2 \\psi(y)}{dy^2} = -\\frac{\\rho(y)}{\\varepsilon_{si}}\n$$\nwhere $\\varepsilon_{si}$ is the permittivity of silicon and $\\rho(y)$ is the total space charge density. The charge density is the sum of ionized acceptors ($-qN_A$), mobile holes ($+qp$), and mobile electrons ($-qn$):\n$$\n\\rho(y) = q\\left(p(y) - n(y) - N_A\\right)\n$$\nUnder the assumption of non-degenerate Boltzmann statistics, the carrier concentrations $n(y)$ and $p(y)$ are related to the local electrostatic potential $\\psi(y)$ and the respective quasi-Fermi potentials. Assuming the p-type substrate is grounded, the hole quasi-Fermi potential is zero. The electron quasi-Fermi potential, $\\phi$, varies along the channel from source ($\\phi=0$) to drain ($\\phi=V_D$). For a given position along the channel, we treat $\\phi$ as a constant parameter for the 1D vertical problem. This leads to:\n$$\np(y) = n_i \\exp\\left(-\\frac{\\psi(y)}{V_T}\\right)\n$$\n$$\nn(y) = n_i \\exp\\left(\\frac{\\psi(y) - \\phi}{V_T}\\right)\n$$\nwhere $n_i$ is the intrinsic carrier density and $V_T=k_B T/q$ is the thermal voltage. The potential $\\psi$ is referenced to the intrinsic energy level in the charge-neutral bulk.\n\nSubstituting these into Poisson's equation yields a nonlinear second-order ordinary differential equation for $\\psi(y)$:\n$$\n\\frac{d^2 \\psi(y)}{dy^2} = -\\frac{q}{\\varepsilon_{si}}\\left(n_i e^{-\\psi(y)/V_T} - n_i e^{(\\psi(y) - \\phi)/V_T} - N_A\\right)\n$$\n\n**1.2. Boundary Conditions**\n\nTo solve this differential equation, two boundary conditions are required.\n1.  At the bulk contact ($y=t_{si}$), the semiconductor is assumed to be in equilibrium and charge neutral. This fixes the potential to the bulk potential $\\psi_b$:\n    $$\n    \\psi(t_{si}) = \\psi_b = -V_T \\ln\\left(\\frac{N_A}{n_i}\\right)\n    $$\n2.  At the oxide-semiconductor interface ($y=0$), the potential is the surface potential, $\\psi_s = \\psi(0)$. This value is not known a priori. It is related to the applied gate voltage $V_G$ through the MOS capacitor equation. With zero flatband voltage ($V_{FB}=0$), the gate voltage is divided between the voltage drop across the oxide and the surface potential:\n    $$\n    V_G = \\psi_s + V_{ox} = \\psi_s + \\frac{Q_s}{C_{ox}}\n    $$\n    $C_{ox} = \\varepsilon_{ox}/t_{ox}$ is the oxide capacitance per unit area. $Q_s$ is the total charge per unit area in the semiconductor, given by Gauss's law at the interface:\n    $$\n    Q_s = -\\varepsilon_{si} \\left.\\frac{d\\psi}{dy}\\right|_{y=0}\n    $$\n    This provides a coupled boundary condition. The task is to find a potential profile $\\psi(y)$ and a surface potential $\\psi_s$ that simultaneously satisfy Poisson's equation and this gate coupling condition.\n\n### 2. Numerical Solution Scheme\n\nA two-level iterative scheme is employed. An outer loop finds the self-consistent $\\psi_s$ for a given $V_G$, and an inner loop solves the nonlinear Poisson's equation for a given $\\psi_s$.\n\n**2.1. Discretization and The Inner Loop (Poisson Solver)**\n\nThe domain $[0, t_{si}]$ is discretized into $N_y$ uniformly spaced points $y_i = i \\cdot \\Delta y$, where $\\Delta y = t_{si}/(N_y-1)$. The potential at these points is denoted $\\psi_i = \\psi(y_i)$. Using a second-order central difference approximation for the second derivative, the Poisson equation at grid point $i$ becomes:\n$$\n\\frac{\\psi_{i-1} - 2\\psi_i + \\psi_{i+1}}{(\\Delta y)^2} = -\\frac{\\rho(\\psi_i)}{\\varepsilon_{si}}\n$$\nThis results in a system of nonlinear algebraic equations for the interior points $i=1, \\dots, N_y-2$. To solve this system, we use the Newton-Raphson method, which is a robust form of the suggested Gummel iteration. For an iteration $k$, we linearize the equation around the current potential estimate $\\psi^{(k)}$ to find the next estimate $\\psi^{(k+1)}$:\n$$\nF_i(\\vec{\\psi}) = \\psi_{i-1} - 2\\psi_i + \\psi_{i+1} + (\\Delta y)^2 \\frac{\\rho(\\psi_i)}{\\varepsilon_{si}} = 0\n$$\nThe Jacobian of this system is tridiagonal. The Newton update $\\vec{\\delta}^{(k)} = \\vec{\\psi}^{(k+1)} - \\vec{\\psi}^{(k)}$ is found by solving the linear system $J(\\vec{\\psi}^{(k)})\\vec{\\delta}^{(k)} = -F(\\vec{\\psi}^{(k)})$. The non-zero elements of the Jacobian row $i$ are:\n$$\nJ_{i,i-1} = 1, \\quad J_{i,i+1} = 1\n$$\n$$\nJ_{i,i} = -2 + \\frac{(\\Delta y)^2}{\\varepsilon_{si}} \\frac{d\\rho}{d\\psi}\\bigg|_{\\psi_i^{(k)}} = -2 - \\frac{(\\Delta y)^2 q}{\\varepsilon_{si} V_T} (p(\\psi_i^{(k)}) + n(\\psi_i^{(k)}))\n$$\nThis tridiagonal system is solved efficiently at each iteration. To aid convergence, the potential is updated with under-relaxation: $\\psi^{(k+1)} = \\psi^{(k)} + \\alpha \\delta^{(k)}$ with a mixing factor $0 < \\alpha \\le 1$. The iteration continues until the maximum change in potential, $\\max_i|\\delta_i^{(k)}|$, falls below a tolerance $\\delta\\psi$.\n\n**2.2. The Outer Loop (Gate Voltage Self-Consistency)**\n\nThe inner loop provides the potential profile $\\psi(y)$ for a given $\\psi_s$. The outer loop iteratively adjusts $\\psi_s$ to satisfy the gate boundary condition. This is a root-finding problem for the function:\n$$\nf(\\psi_s) = \\psi_s + \\frac{Q_s(\\psi_s)}{C_{ox}} - V_G = 0\n$$\nwhere $Q_s(\\psi_s)$ is computed from the converged solution of the inner loop. We use a fixed-point iteration with under-relaxation. A new estimate for the surface potential, $\\psi_{s,\\text{new}}$, is calculated from the current state:\n$$\n\\psi_{s,\\text{new}} = V_G - \\frac{Q_s(\\psi_s^{(m)})}{C_{ox}}\n$$\nwhere $Q_s$ is calculated using a finite difference for the surface electric field: $Q_s \\approx -\\varepsilon_{si}(\\psi_1 - \\psi_0)/\\Delta y$. The update is then mixed:\n$$\n\\psi_s^{(m+1)} = \\psi_s^{(m)} + \\beta(\\psi_{s,\\text{new}} - \\psi_s^{(m)})\n$$\nwith a mixing factor $0 < \\beta \\le 1$. The outer loop terminates when $|\\psi_s^{(m+1)} - \\psi_s^{(m)}|$ is less than a tolerance $\\delta\\psi_s$.\n\n### 3. Inversion Charge and Drain Current Calculation\n\nOnce the self-consistent potential profile $\\psi(y)$ is determined for a given $V_G$ and channel quasi-Fermi potential $\\phi$, the electron inversion sheet density, $N_{inv}$, can be computed by integrating $n(y)$ over the silicon thickness. The trapezoidal rule is used for numerical integration:\n$$\nN_{inv}(\\phi) = \\int_0^{t_{si}} n(y) \\, dy = \\int_0^{t_{si}} n_i \\exp\\left(\\frac{\\psi(y;\\phi) - \\phi}{V_T}\\right) \\, dy\n$$\nThe problem states that for a long-channel device in subthreshold, transport is dominated by diffusion. The electron current density along the channel ($x$-direction) is:\n$$\nJ_n(x) = q D_n \\frac{d n_s(x)}{dx}\n$$\nwhere $n_s(x)$ is the sheet density of electrons and $D_n = \\mu_n V_T$ is the electron diffusion coefficient. In steady state, the total drain current $I_D = W \\cdot J_n$ is constant along the channel length $L$. Integrating from source ($x=0$) to drain ($x=L$):\n$$\n\\int_0^L I_D \\, dx = \\int_0^L W q D_n \\frac{d n_s(x)}{dx} \\, dx\n$$\n$$\nI_D L = W q D_n \\left[n_s(L) - n_s(0)\\right]\n$$\nLet $N_{inv,S} = n_s(0)$ be the sheet density at the source, where the electron quasi-Fermi level is $\\phi = 0$. Let $N_{inv,D} = n_s(L)$ be the sheet density at the drain, where $\\phi = V_D$. The electron current flows from source to drain, meaning the conventional current $I_D$ flows from drain to source. Since $N_{inv,S} > N_{inv,D}$ for $V_D > 0$, the current is:\n$$\nI_D = \\frac{W}{L} q D_n (N_{inv,S} - N_{inv,D}) = \\frac{W}{L} q \\mu_n V_T (N_{inv,S} - N_{inv,D})\n$$\nThe overall algorithm for each $(V_G, V_D)$ pair is:\n1.  Calculate $N_{inv,S}$ by running the full self-consistent solver with parameters $(V_G, \\phi=0)$.\n2.  Calculate $N_{inv,D}$ by running the full self-consistent solver with parameters $(V_G, \\phi=V_D)$.\n3.  Compute $I_D$ using the derived formula.",
            "answer": "[3.9089e-17, 4.0202e-15, 1.5226e-12, 3.3421e-10, 3.3130e-08, 0.0]"
        }
    ]
}