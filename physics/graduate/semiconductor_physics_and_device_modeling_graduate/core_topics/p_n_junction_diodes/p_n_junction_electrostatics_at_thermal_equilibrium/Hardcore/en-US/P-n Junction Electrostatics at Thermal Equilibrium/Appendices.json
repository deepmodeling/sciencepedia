{
    "hands_on_practices": [
        {
            "introduction": "Understanding the electrostatics of a $p$-$n$ junction begins with the depletion approximation, a foundational model in semiconductor physics. This exercise challenges you to derive, from first principles, how the total depletion width $W$ is partitioned into the $p$-side ($W_p$) and $n$-side ($W_n$) based on doping concentrations $N_A$ and $N_D$. By applying Poisson’s equation and the principle of charge neutrality, you will uncover the inverse relationship between doping and depletion width extension, a critical concept for designing asymmetric junctions in diodes and transistors .",
            "id": "3777594",
            "problem": "Consider an abrupt, uniformly doped, long planar p-n junction at thermal equilibrium with no applied bias. The p-side has acceptor concentration $N_A$ for $x<0$, and the n-side has donor concentration $N_D$ for $x>0$. Assume a one dimensional variation normal to the junction plane with the metallurgical junction at $x=0$. Let the semiconductor have permittivity $\\varepsilon_s$. Under the depletion approximation, the space-charge region contains only uncovered ionized dopants, and the quasi-neutral regions have vanishing electric field.\n\nLet the depletion region extend a distance $W_p$ into the p-side and $W_n$ into the n-side, with total depletion width $W$ defined by $W \\equiv W_p + W_n$.\n\nStarting only from Poisson’s equation $\\frac{dE}{dx}=\\rho(x)/\\varepsilon_s$ and the appropriate electrostatic boundary conditions, derive closed-form expressions for $W_n$ and $W_p$ in terms of $W$, $N_A$, and $N_D$. Express your final answer as algebraic expressions for $W_n$ and $W_p$ in their simplest form. Then briefly justify, in words, the physical conditions under which these expressions are accurate to leading order for a real p-n junction.\n\nYour final reported answer must consist only of the expressions for $W_n$ and $W_p$ (no units), written in closed form. Do not provide intermediate steps there.",
            "solution": "The starting point is Poisson’s equation in one dimension, $\\frac{dE}{dx}=\\rho(x)/\\varepsilon_s$, together with the depletion approximation and standard electrostatic boundary conditions. Under the depletion approximation at thermal equilibrium, the mobile carrier concentrations are negligible inside the depletion region, while the ionized dopant charge is fully uncovered. Hence, the space charge density is piecewise constant:\n- For the p-side depletion region, $-W_p \\le x \\le 0$, the charge density is $\\rho(x)=-q N_A$ due to uncovered ionized acceptors.\n- For the n-side depletion region, $0 \\le x \\le W_n$, the charge density is $\\rho(x)=+q N_D$ due to uncovered ionized donors.\n\nOutside the depletion region, the quasi-neutral regions have negligible net charge and, by assumption of a long junction at equilibrium, the electric field vanishes sufficiently far from the junction. Therefore, the boundary conditions on the electric field at the depletion edges are $E(-W_p)=0$ and $E(W_n)=0$. The electric field must be continuous at $x=0$ because there is no intentional interfacial sheet charge at the metallurgical junction, so $E(0^-)=E(0^+)$.\n\nIntegrate Poisson’s equation piecewise. On the p-side depletion region ($ -W_p \\le x \\le 0 $):\n\n$$\n\\frac{dE}{dx} \\,=\\, \\frac{-q N_A}{\\varepsilon_s} \\quad \\Rightarrow \\quad\nE(x) \\,=\\, -\\frac{q N_A}{\\varepsilon_s}\\,x + C_p.\n$$\n\nApply $E(-W_p)=0$ to find $0= -\\frac{q N_A}{\\varepsilon_s}(-W_p)+C_p$, so $C_p=-\\frac{q N_A}{\\varepsilon_s}W_p$. Hence, for $-W_p \\le x \\le 0$,\n\n$$\nE(x) \\,=\\, -\\frac{q N_A}{\\varepsilon_s}(x+W_p),\n$$\n\nand at the junction from the p-side,\n\n$$\nE(0^-)\\,=\\,-\\frac{q N_A}{\\varepsilon_s}W_p.\n$$\n\n\nOn the n-side depletion region ($0 \\le x \\le W_n$):\n\n$$\n\\frac{dE}{dx} \\,=\\, \\frac{q N_D}{\\varepsilon_s} \\quad \\Rightarrow \\quad\nE(x) \\,=\\, \\frac{q N_D}{\\varepsilon_s}\\,x + C_n.\n$$\n\nApply $E(W_n)=0$ to find $0=\\frac{q N_D}{\\varepsilon_s}W_n+C_n$, so $C_n=-\\frac{q N_D}{\\varepsilon_s}W_n$. Hence, for $0 \\le x \\le W_n$,\n\n$$\nE(x) \\,=\\, \\frac{q N_D}{\\varepsilon_s}(x-W_n),\n$$\n\nand at the junction from the n-side,\n\n$$\nE(0^+)\\,=\\, -\\frac{q N_D}{\\varepsilon_s}W_n.\n$$\n\n\nThe Maxwell boundary condition of continuity of electric field across the metallurgical junction (no sheet charge) requires $E(0^-)=E(0^+)$. Therefore,\n\n$$\n-\\frac{q N_A}{\\varepsilon_s}W_p \\,=\\, -\\frac{q N_D}{\\varepsilon_s}W_n \\quad \\Rightarrow \\quad N_A W_p \\,=\\, N_D W_n.\n$$\n\nThis relation can also be recognized as a consequence of global charge neutrality of the depletion region in this approximation, because the total uncovered charge on the p-side, $-q N_A W_p$, must balance the total uncovered charge on the n-side, $+q N_D W_n$.\n\nTogether with the identity $W=W_p+W_n$, the pair of equations\n\n$$\nN_A W_p \\,=\\, N_D W_n, \\quad W_p + W_n \\,=\\, W\n$$\n\ncan be solved for $W_p$ and $W_n$ in terms of $W$, $N_A$, and $N_D$. From $N_A W_p = N_D W_n$, write $W_p = \\frac{N_D}{N_A} W_n$. Substitute into $W=W_p+W_n$:\n\n$$\nW \\,=\\, \\frac{N_D}{N_A}W_n + W_n \\,=\\, W_n \\left( \\frac{N_D+N_A}{N_A} \\right),\n$$\n\nhence\n\n$$\nW_n \\,=\\, \\frac{N_A}{N_A+N_D}\\,W.\n$$\n\nThen\n\n$$\nW_p \\,=\\, W - W_n \\,=\\, W - \\frac{N_A}{N_A+N_D}W \\,=\\, \\frac{N_D}{N_A+N_D}\\,W.\n$$\n\n\nThese closed-form expressions complete the requested derivation.\n\nValidity considerations for the depletion approximation and the resulting partitioning are as follows. The depletion approximation assumes that mobile carriers are exponentially suppressed inside the space-charge region so that $\\rho(x)\\approx \\pm q N_{A,D}$ in the respective sides, and that the quasi-neutral regions have negligible electric field. This is accurate to leading order when the junction is abrupt on the scale of the Debye screening lengths, the doping densities satisfy $N_A \\gg n_i$ and $N_D \\gg n_i$ so that the built-in potential spans several thermal voltages $k_B T/q$, the applied bias is not in high-level injection, the material is nondegenerate so Boltzmann statistics applies, and there is no interfacial sheet charge at $x=0$ so that the electric field remains continuous. Under these conditions, the neglected mobile charge inside the depletion region and the finite field leakage into the quasi-neutral regions produce only small corrections, and the partitioning derived above remains accurate to leading order.",
            "answer": "$$\\boxed{\\begin{pmatrix}\\dfrac{N_A}{N_A+N_D}\\,W & \\dfrac{N_D}{N_A+N_D}\\,W\\end{pmatrix}}$$"
        },
        {
            "introduction": "While the depletion approximation provides an elegant framework for analyzing $p$-$n$ junctions, it is crucial for a device physicist to understand its limitations. This practice guides you to quantify the validity of this model by comparing the magnitude of the neglected free carrier charge to the dominant ionized dopant charge at the depletion region's edges . This calculation will provide a concrete measure of the approximation's accuracy and reveal how its validity depends on factors like doping levels and the intrinsic carrier concentration, fostering a deeper, more critical understanding of semiconductor modeling.",
            "id": "3764051",
            "problem": "Consider an abrupt, one-dimensional silicon $p$-$n$ junction at thermal equilibrium with no external bias. The acceptor density on the $p$-side is $N_{A} = 7.5 \\times 10^{16}\\ \\text{cm}^{-3}$ and the donor density on the $n$-side is $N_{D} = 2.0 \\times 10^{17}\\ \\text{cm}^{-3}$. Assume complete ionization of dopants, nondegenerate carrier statistics, and an intrinsic carrier concentration for silicon at $T = 300\\ \\text{K}$ of $n_{i} = 1.0 \\times 10^{10}\\ \\text{cm}^{-3}$. The depletion approximation models the space-charge region by neglecting all free carriers and retaining only ionized dopant charges.\n\nDefine the depletion edges on each side as the positions where the electric field vanishes under the depletion approximation. Using only fundamental relations for equilibrium electrostatics and nondegenerate carrier statistics, derive an expression for the ratio of the neglected free charge magnitude to the ionized dopant charge magnitude evaluated at each depletion edge, with the understanding that, to quantify the space-charge error, the neglected free charge at each edge is to be taken as the minority carrier density on that side evaluated at the local quasi-neutral potential.\n\nCompute these ratios for the given parameters on the $n$-side and the $p$-side, respectively. Express the final answer as a row matrix $\\begin{pmatrix} r_{n} & r_{p} \\end{pmatrix}$, where $r_{n}$ is the ratio on the $n$-side edge and $r_{p}$ is the ratio on the $p$-side edge. Round your answer to three significant figures. The ratios are dimensionless.",
            "solution": "The problem requires the derivation and calculation of the ratio of the neglected free charge magnitude to the ionized dopant charge magnitude at the edges of the depletion region in a one-dimensional silicon $p$-$n$ junction at thermal equilibrium. The problem provides a specific definition for the \"neglected free charge\" to be used in this calculation. We will proceed by analyzing each side of the junction according to the provided framework.\n\nLet the metallurgical-junction plane be at $x=0$. The $p$-side corresponds to $x<0$ and the $n$-side to $x>0$. The depletion approximation models the space-charge region as extending from $x = -x_p$ to $x = x_n$. Within this region, the charge density is assumed to consist solely of ionized dopant atoms.\n\nThe charge density $\\rho(x)$ under the depletion approximation is given by:\n$$\n\\rho(x) = \\begin{cases}\nq N_{D} & \\text{for } 0 < x < x_n \\\\\n-q N_{A} & \\text{for } -x_p < x < 0 \\\\\n0 & \\text{otherwise}\n\\end{cases}\n$$\nwhere $q$ is the elementary charge, $N_{A}$ is the acceptor density, and $N_{D}$ is the donor density. We assume complete ionization, so the ionized dopant concentrations are equal to $N_{A}$ and $N_{D}$.\n\nThe electrostatic potential $\\phi(x)$ is related to the carrier concentrations $n(x)$ (electrons) and $p(x)$ (holes) at thermal equilibrium by the Boltzmann relations, assuming non-degenerate statistics:\n$$ n(x) = n_i \\exp\\left(\\frac{q\\phi(x)}{k_B T}\\right) $$\n$$ p(x) = n_i \\exp\\left(-\\frac{q\\phi(x)}{k_B T}\\right) $$\nwhere $n_i$ is the intrinsic carrier concentration, $k_B$ is the Boltzmann constant, and $T$ is the absolute temperature. Let $V_T = k_B T / q$ be the thermal voltage.\n\nIn the quasi-neutral regions outside the depletion layer, the charge density is approximately zero.\nIn the quasi-neutral $n$-region ($x > x_n$), the electron concentration is $n_n \\approx N_D$. The potential $\\phi_n$ in this region is found from $N_D = n_i \\exp(\\phi_n/V_T)$, which gives $\\phi_n = V_T \\ln(N_D/n_i)$. The minority carrier (hole) concentration is $p_n = n_i^2/n_n \\approx n_i^2/N_D$.\nIn the quasi-neutral $p$-region ($x  -x_p$), the hole concentration is $p_p \\approx N_A$. The potential $\\phi_p$ in this region is found from $N_A = n_i \\exp(-\\phi_p/V_T)$, which gives $\\phi_p = -V_T \\ln(N_A/n_i)$. The minority carrier (electron) concentration is $n_p = n_i^2/p_p \\approx n_i^2/N_A$.\n\nThe depletion approximation defines the depletion edges, $-x_p$ and $x_n$, as the points where the electric field becomes zero. This implies that the potential at the edges is equal to the potential in the adjacent quasi-neutral region. Thus, $\\phi(-x_p) = \\phi_p$ and $\\phi(x_n) = \\phi_n$.\n\nThe problem asks for the ratio of the \"neglected free charge magnitude\" to the \"ionized dopant charge magnitude\" at each edge. The \"neglected free charge\" is explicitly defined as \"the minority carrier density on that side evaluated at the local quasi-neutral potential.\"\n\nLet's compute the ratio $r_n$ on the $n$-side edge ($x=x_n$):\nThe ionized dopant charge magnitude per unit volume is $|q N_D| = q N_D$.\nThe neglected free charge magnitude per unit volume is defined based on the minority carrier density. On the $n$-side, the minority carriers are holes. We must evaluate the hole concentration $p(x_n)$ at the potential $\\phi(x_n) = \\phi_n$.\n$$ p(x_n) = n_i \\exp\\left(-\\frac{\\phi(x_n)}{V_T}\\right) = n_i \\exp\\left(-\\frac{\\phi_n}{V_T}\\right) $$\nSubstituting $\\phi_n = V_T \\ln(N_D/n_i)$:\n$$ p(x_n) = n_i \\exp\\left(-\\frac{V_T \\ln(N_D/n_i)}{V_T}\\right) = n_i \\exp\\left(-\\ln\\frac{N_D}{n_i}\\right) = n_i \\left(\\frac{n_i}{N_D}\\right) = \\frac{n_i^2}{N_D} $$\nThe magnitude of the charge density associated with these neglected minority carriers is $q \\cdot p(x_n) = q \\frac{n_i^2}{N_D}$.\nThe ratio $r_n$ is therefore:\n$$ r_n = \\frac{q \\frac{n_i^2}{N_D}}{q N_D} = \\frac{n_i^2}{N_D^2} $$\n\nNext, let's compute the ratio $r_p$ on the $p$-side edge ($x=-x_p$):\nThe ionized dopant charge magnitude per unit volume is $|-q N_A| = q N_A$.\nThe neglected free charge magnitude per unit volume is defined based on the minority carrier density. On the $p$-side, the minority carriers are electrons. We must evaluate the electron concentration $n(-x_p)$ at the potential $\\phi(-x_p) = \\phi_p$.\n$$ n(-x_p) = n_i \\exp\\left(\\frac{\\phi(-x_p)}{V_T}\\right) = n_i \\exp\\left(\\frac{\\phi_p}{V_T}\\right) $$\nSubstituting $\\phi_p = -V_T \\ln(N_A/n_i)$:\n$$ n(-x_p) = n_i \\exp\\left(\\frac{-V_T \\ln(N_A/n_i)}{V_T}\\right) = n_i \\exp\\left(-\\ln\\frac{N_A}{n_i}\\right) = n_i \\left(\\frac{n_i}{N_A}\\right) = \\frac{n_i^2}{N_A} $$\nThe magnitude of the charge density associated with these neglected minority carriers is $q \\cdot n(-x_p) = q \\frac{n_i^2}{N_A}$.\nThe ratio $r_p$ is therefore:\n$$ r_p = \\frac{q \\frac{n_i^2}{N_A}}{q N_A} = \\frac{n_i^2}{N_A^2} $$\n\nNow, we substitute the given numerical values:\n$N_A = 7.5 \\times 10^{16}\\ \\text{cm}^{-3}$\n$N_D = 2.0 \\times 10^{17}\\ \\text{cm}^{-3}$\n$n_i = 1.0 \\times 10^{10}\\ \\text{cm}^{-3}$\n\nFor the $n$-side ratio, $r_n$:\n$$ r_n = \\frac{(1.0 \\times 10^{10}\\ \\text{cm}^{-3})^2}{(2.0 \\times 10^{17}\\ \\text{cm}^{-3})^2} = \\frac{1.0 \\times 10^{20}}{4.0 \\times 10^{34}} = 0.25 \\times 10^{-14} = 2.5 \\times 10^{-15} $$\n\nFor the $p$-side ratio, $r_p$:\n$$ r_p = \\frac{(1.0 \\times 10^{10}\\ \\text{cm}^{-3})^2}{(7.5 \\times 10^{16}\\ \\text{cm}^{-3})^2} = \\frac{1.0 \\times 10^{20}}{56.25 \\times 10^{32}} = \\frac{1.0}{56.25} \\times 10^{-12} \\approx 0.01777... \\times 10^{-12} \\approx 1.777... \\times 10^{-14} $$\n\nRounding the results to three significant figures:\n$r_n = 2.50 \\times 10^{-15}$\n$r_p = 1.78 \\times 10^{-14}$\n\nThe final answer is to be expressed as a row matrix $\\begin{pmatrix} r_n  r_p \\end{pmatrix}$.",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n2.50 \\times 10^{-15}  1.78 \\times 10^{-14}\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "Moving beyond idealized, uniformly doped junctions is essential for modeling realistic semiconductor devices. This advanced problem explores the electrostatics of a junction with a non-uniform, exponential doping profile, a scenario encountered in devices formed by ion implantation or diffusion processes . You will apply Poisson's equation to derive a transcendental relationship between the built-in potential $V_{bi}$ and the depletion width $W$, which requires a numerical strategy to solve. This exercise effectively bridges analytical theory with the computational methods that are indispensable in modern semiconductor device design and simulation.",
            "id": "3764011",
            "problem": "Consider a one-dimensional (1D) abrupt $p$-$n$ junction at thermal equilibrium in the depletion approximation (DA), where the depletion region lies entirely on the $n$-side for $x\\in[0,W]$ due to a heavily doped $p$-side. Let the donor concentration profile on the $n$-side be exponential, $N(x)=N_0 e^{x/L}$ for $x\\in[0,W]$, with full ionization. The electrostatic problem is governed by Poisson’s equation with zero net current at thermal equilibrium, and the electric field (E) and electrostatic potential satisfy $E(x)=-d\\phi/dx$. The space charge density is $\\rho(x)=qN(x)$ within the depleted region, where $q$ is the elementary charge, and is zero outside. Using the integral form of Poisson’s equation in 1D with appropriate boundary conditions, set up the relation that links the built-in potential $V_{bi}$ across the depleted region to the depletion width $W$ for the given $N(x)$, expressing $V_{bi}$ purely as an integral over $x\\in[0,W]$.\n\nFrom this relation, derive a computable expression and formulate a numerical strategy to solve for $W$ given $(N_0,L,\\varepsilon_s,V_{bi})$, where $\\varepsilon_s$ is the semiconductor permittivity. Your program must implement this strategy to compute $W$ for the following test suite. For all cases, use $q=1.602176634\\times 10^{-19}\\ \\mathrm{C}$.\n\n- Case A: $N_0=1.0\\times 10^{21}\\ \\mathrm{m}^{-3}$, $L=1.0\\times 10^{-7}\\ \\mathrm{m}$, $\\varepsilon_s=1.035\\times 10^{-10}\\ \\mathrm{F/m}$, $V_{bi}=0.80\\ \\mathrm{V}$.\n- Case B: $N_0=1.0\\times 10^{22}\\ \\mathrm{m}^{-3}$, $L=5.0\\times 10^{-8}\\ \\mathrm{m}$, $\\varepsilon_s=1.035\\times 10^{-10}\\ \\mathrm{F/m}$, $V_{bi}=0.40\\ \\mathrm{V}$.\n- Case C: $N_0=1.0\\times 10^{21}\\ \\mathrm{m}^{-3}$, $L=5.0\\times 10^{-6}\\ \\mathrm{m}$, $\\varepsilon_s=1.035\\times 10^{-10}\\ \\mathrm{F/m}$, $V_{bi}=0.050\\ \\mathrm{V}$.\n- Case D: $N_0=5.0\\times 10^{21}\\ \\mathrm{m}^{-3}$, $L=1.0\\times 10^{-8}\\ \\mathrm{m}$, $\\varepsilon_s=1.035\\times 10^{-10}\\ \\mathrm{F/m}$, $V_{bi}=0.20\\ \\mathrm{V}$.\n\nExpress each computed depletion width $W$ in meters. Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets (for example, $[w_A,w_B,w_C,w_D]$), where each entry is a plain floating-point number representing the corresponding $W$ in meters.\n\nThe solution must be derived from first principles, starting from Poisson’s equation and appropriate boundary conditions, without invoking any shortcut formulas not justified by the derivation. The numerical strategy must be algorithmically clear and robust for the provided test suite, covering typical, small-$W$ relative to $L$, and large-$W$ relative to $L$ regimes.",
            "solution": "The analysis begins with the one-dimensional Poisson's equation, which relates the electrostatic potential $\\phi(x)$ to the space charge density $\\rho(x)$:\n$$\n\\frac{d^2\\phi}{dx^2} = -\\frac{\\rho(x)}{\\varepsilon_s}\n$$\nwhere $\\varepsilon_s$ is the permittivity of the semiconductor. The electric field $E(x)$ is the negative gradient of the potential:\n$$\nE(x) = -\\frac{d\\phi}{dx}\n$$\nCombining these two equations gives the differential form of Gauss's law in one dimension:\n$$\n\\frac{dE}{dx} = \\frac{\\rho(x)}{\\varepsilon_s}\n$$\nThe problem specifies a $p^+$-$n$ junction, where the p-side is heavily doped. Under the Depletion Approximation (DA), the depletion region is assumed to exist almost entirely on the more lightly doped n-side. The problem defines this region to be $x \\in [0, W]$, where $x=0$ is the metallurgical junction and $x=W$ is the edge of the depletion region on the n-side.\n\nWithin this region, the space charge density is due to the ionized donor atoms. Assuming full ionization, the charge density is given by $\\rho(x) = qN(x)$, where $q$ is the elementary charge and $N(x)$ is the specified exponential donor concentration profile:\n$$\n\\rho(x) = q N_0 e^{x/L} \\quad \\text{for } x \\in [0, W]\n$$\nOutside this region, the semiconductor is assumed to be charge neutral, so $\\rho(x) = 0$ for $x > W$.\n\nTo find the electric field $E(x)$, we integrate $\\frac{dE}{dx}$ from an arbitrary point $x$ within the depletion region to the edge at $W$. A key boundary condition from the DA is that the electric field vanishes at the edge of the depletion region, i.e., $E(W)=0$.\n$$\n\\int_x^W \\frac{dE(x')}{dx'} dx' = E(W) - E(x) = \\int_x^W \\frac{\\rho(x')}{\\varepsilon_s} dx'\n$$\nSubstituting $E(W)=0$ and the expression for $\\rho(x')$, we get:\n$$\n-E(x) = \\frac{qN_0}{\\varepsilon_s} \\int_x^W e^{x'/L} dx'\n$$\n$$\n-E(x) = \\frac{qN_0 L}{\\varepsilon_s} \\left[ L e^{x'/L} \\right]_x^W = \\frac{qN_0 L}{\\varepsilon_s} (e^{W/L} - e^{x/L})\n$$\nSo, the electric field inside the depletion region is:\n$$\nE(x) = \\frac{qN_0 L}{\\varepsilon_s} (e^{x/L} - e^{W/L}) \\quad \\text{for } x \\in [0, W]\n$$\nThe built-in potential, $V_{bi}$, is the total potential difference across the depletion region. For a one-sided junction, this is the potential difference between $x=0$ and $x=W$:\n$$\nV_{bi} = \\phi(W) - \\phi(0) = -\\int_0^W E(x) dx\n$$\nThe problem requests an expression for $V_{bi}$ as an integral over $x \\in [0, W]$. A direct and elegant way to establish this relation is to start from Poisson's equation, multiply by $x$, and integrate across the depletion region:\n$$\n\\int_0^W x \\frac{d^2\\phi}{dx^2} dx = -\\frac{1}{\\varepsilon_s} \\int_0^W x \\rho(x) dx\n$$\nThe left-hand side can be integrated by parts, with $u=x$ and $dv = (d^2\\phi/dx^2)dx = (dE/dx)dx$:\n$$\n\\left[ x \\frac{d\\phi}{dx} \\right]_0^W - \\int_0^W \\frac{d\\phi}{dx} dx = \\left[ -x E(x) \\right]_0^W - [\\phi(x)]_0^W\n$$\n$$\n= (-W E(W) + 0 \\cdot E(0)) - (\\phi(W) - \\phi(0))\n$$\nUsing the boundary condition $E(W)=0$ and recognizing that $\\phi(W) - \\phi(0) = V_{bi}$, the left-hand side simplifies to $-V_{bi}$. Therefore, we have the relation:\n$$\n-V_{bi} = -\\frac{1}{\\varepsilon_s} \\int_0^W x \\rho(x) dx \\implies V_{bi} = \\frac{1}{\\varepsilon_s} \\int_0^W x \\rho(x) dx\n$$\nThis is the integral relation requested by the problem. Now, we substitute $\\rho(x) = q N_0 e^{x/L}$ and evaluate the integral to find a computable expression.\n$$\nV_{bi} = \\frac{qN_0}{\\varepsilon_s} \\int_0^W x e^{x/L} dx\n$$\nThis integral is solved using integration by parts, with $u=x$ and $dv = e^{x/L} dx$. Then $du=dx$ and $v=Le^{x/L}$.\n$$\n\\int x e^{x/L} dx = x(Le^{x/L}) - \\int L e^{x/L} dx = Lx e^{x/L} - L^2 e^{x/L}\n$$\nApplying the definite integral limits from $0$ to $W$:\n$$\n\\int_0^W x e^{x/L} dx = \\left[ Lx e^{x/L} - L^2 e^{x/L} \\right]_0^W \n$$\n$$\n= (LW e^{W/L} - L^2 e^{W/L}) - (0 \\cdot L e^0 - L^2 e^0)\n$$\n$$\n= L^2 e^{W/L} \\left(\\frac{W}{L} - 1\\right) + L^2 = L^2 \\left[ 1 + \\left(\\frac{W}{L} - 1\\right)e^{W/L} \\right]\n$$\nSubstituting this result back into the expression for $V_{bi}$:\n$$\nV_{bi} = \\frac{qN_0 L^2}{\\varepsilon_s} \\left[ 1 + \\left(\\frac{W}{L} - 1\\right)e^{W/L} \\right]\n$$\nThis is the final transcendental equation relating the depletion width $W$ to the given parameters $(N_0, L, \\varepsilon_s, V_{bi})$. This equation cannot be solved for $W$ analytically. A numerical root-finding algorithm is required.\n\nThe numerical strategy is to find the root of the function $g(W)$:\n$$\ng(W) = \\frac{qN_0 L^2}{\\varepsilon_s} \\left[ 1 + \\left(\\frac{W}{L} - 1\\right)e^{W/L} \\right] - V_{bi} = 0\n$$\nTo analyze this function, let's examine its derivative with respect to $W$:\n$$\n\\frac{dg}{dW} = \\frac{qN_0 L^2}{\\varepsilon_s} \\frac{d}{dW} \\left[ 1 + \\left(\\frac{W}{L} - 1\\right)e^{W/L} \\right]\n$$\nLet $u = W/L$, so $du/dW = 1/L$. Using the chain rule and product rule:\n$$\n\\frac{d}{dW} = \\frac{d}{du}\\frac{du}{dW} = \\frac{1}{L} \\frac{d}{du}\n$$\n$$\n\\frac{dg}{dW} = \\frac{qN_0 L}{\\varepsilon_s} \\frac{d}{du} \\left[ 1 + (u-1)e^u \\right] = \\frac{qN_0 L}{\\varepsilon_s} \\left[ 0 + (1)e^u + (u-1)e^u \\right] = \\frac{qN_0 L}{\\varepsilon_s} (u e^u) = \\frac{qN_0 W}{\\varepsilon_s} e^{W/L}\n$$\nSince all parameters $q, N_0, \\varepsilon_s$ and variables $W, L$ are positive, $\\frac{dg}{dW} > 0$ for $W>0$. This proves that $g(W)$ is a monotonically increasing function of $W$.\n\nAt $W=0$, $g(0) = \\frac{qN_0 L^2}{\\varepsilon_s} [1 + (-1)e^0] - V_{bi} = 0 - V_{bi} = -V_{bi}$. Since $V_{bi}>0$, $g(0)$ is negative.\nAs $W \\to \\infty$, the term $e^{W/L}$ grows exponentially, ensuring that $g(W)$ becomes positive.\nA monotonically increasing function that goes from negative to positive must have exactly one positive root. This guarantees that a unique solution for $W$ exists.\n\nThe numerical algorithm will use a bracketing root-finding method, such as Brent's method, which is robust and efficient. We need to supply an interval $[a, b]$ where $g(a)$ and $g(b)$ have opposite signs. We can choose $a$ to be a very small positive number (e.g., $10^{-15}$ m) to avoid $W=0$, for which $g(a) \\approx -V_{bi}  0$. For the upper bound $b$, we need a value large enough to ensure $g(b)  0$. Given the physical scales of semiconductor devices, a depletion width of $1$ millimeter ($10^{-3}$ m) is exceptionally large and serves as a safe upper bound for all practical scenarios, including the test cases provided. Therefore, the interval $[10^{-15}, 10^{-3}]$ is a suitable bracket for the solver.\n\nThe implementation will consist of a Python function that takes the parameters for each case, defines the function $g(W)$, and uses `scipy.optimize.brentq` to find the root $W$ within this bracket.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy import optimize\n\ndef solve():\n    \"\"\"\n    Solves for the depletion width W of a p+-n junction with an exponential\n    doping profile on the n-side.\n    \"\"\"\n    \n    # Physical constant\n    q = 1.602176634e-19  # Elementary charge in Coulombs\n\n    # Define the test cases from the problem statement.\n    test_cases = [\n        # Case A: (N0, L, eps_s, Vbi)\n        (1.0e21, 1.0e-7, 1.035e-10, 0.80),\n        # Case B:\n        (1.0e22, 5.0e-8, 1.035e-10, 0.40),\n        # Case C:\n        (1.0e21, 5.0e-6, 1.035e-10, 0.050),\n        # Case D:\n        (5.0e21, 1.0e-8, 1.035e-10, 0.20),\n    ]\n\n    results = []\n    \n    def calculate_W(params):\n        \"\"\"\n        Calculates the depletion width W for a given set of parameters.\n        \n        Args:\n            params (tuple): A tuple containing (N0, L, eps_s, Vbi).\n                - N0 (float): Doping prefactor in m^-3.\n                - L (float): Characteristic length of doping profile in m.\n                - eps_s (float): Semiconductor permittivity in F/m.\n                - Vbi (float): Built-in potential in V.\n        \n        Returns:\n            float: The calculated depletion width W in meters.\n        \"\"\"\n        N0, L, eps_s, Vbi = params\n\n        # This is the function g(W) for which we need to find the root.\n        # g(W) = (q * N0 * L^2 / eps_s) * (1 + (W/L - 1) * exp(W/L)) - Vbi\n        def g(W):\n            if W = 0:\n                # Physically, W must be  0. g(0) = -Vbi.\n                # Returning -Vbi prevents issues with W/L for W=0 if L is very small.\n                return -Vbi\n            \n            u = W / L\n            prefactor = (q * N0 * L**2) / eps_s\n            # Use np.exp for robust handling of large arguments\n            term = 1.0 + (u - 1.0) * np.exp(u)\n            \n            return prefactor * term - Vbi\n\n        # The function g(W) is monotonic for W  0.\n        # At W - 0+, g(W) - -Vbi  0.\n        # For large W, g(W) - +infinity.\n        # A root is guaranteed to exist for W  0.\n        # We use a robust bracketing root-finding method.\n        # Lower bound a: a small positive number.\n        # Upper bound b: a large number, e.g., 1 mm, which is a very safe\n        # upper limit for depletion widths in semiconductors.\n        a = 1e-15  # Lower bound for W in meters\n        b = 1e-3   # Upper bound for W in meters\n\n        try:\n            # Brent's method is efficient and guaranteed to converge if the\n            # function values at the bracket endpoints have opposite signs.\n            # g(a) is guaranteed to be negative.\n            # g(b) is guaranteed to be positive for the given test cases and bounds.\n            W_solution = optimize.brentq(g, a, b)\n            return W_solution\n        except ValueError:\n            # This would happen if g(a) and g(b) have the same sign, which\n            # indicates an issue with the bracketing or function definition.\n            # Given the analysis, this is not expected for the problem's parameters.\n            return np.nan\n\n    for case in test_cases:\n        w_val = calculate_W(case)\n        results.append(w_val)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        }
    ]
}