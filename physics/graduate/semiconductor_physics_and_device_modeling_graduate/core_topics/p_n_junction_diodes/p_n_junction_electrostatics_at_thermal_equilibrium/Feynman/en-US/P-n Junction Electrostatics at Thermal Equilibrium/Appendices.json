{
    "hands_on_practices": [
        {
            "introduction": "The depletion approximation provides a powerful yet simplified model for analyzing p-n junctions. This exercise explores a cornerstone of that model: the principle of charge neutrality. By starting from Poisson’s equation, you will derive how the total depletion width is partitioned between the p- and n-sides, revealing the direct relationship between doping asymmetry and the structure of the space-charge region .",
            "id": "3777594",
            "problem": "Consider an abrupt, uniformly doped, long planar p-n junction at thermal equilibrium with no applied bias. The p-side has acceptor concentration $N_A$ for $x<0$, and the n-side has donor concentration $N_D$ for $x>0$. Assume a one dimensional variation normal to the junction plane with the metallurgical junction at $x=0$. Let the semiconductor have permittivity $\\varepsilon_s$. Under the depletion approximation, the space-charge region contains only uncovered ionized dopants, and the quasi-neutral regions have vanishing electric field.\n\nLet the depletion region extend a distance $W_p$ into the p-side and $W_n$ into the n-side, with total depletion width $W$ defined by $W \\equiv W_p + W_n$.\n\nStarting only from Poisson’s equation $\\frac{dE}{dx}=\\rho(x)/\\varepsilon_s$ and the appropriate electrostatic boundary conditions, derive closed-form expressions for $W_n$ and $W_p$ in terms of $W$, $N_A$, and $N_D$. Express your final answer as algebraic expressions for $W_n$ and $W_p$ in their simplest form. Then briefly justify, in words, the physical conditions under which these expressions are accurate to leading order for a real p-n junction.\n\nYour final reported answer must consist only of the expressions for $W_n$ and $W_p$ (no units), written in closed form. Do not provide intermediate steps there.",
            "solution": "The starting point is Poisson’s equation in one dimension, $\\frac{dE}{dx}=\\rho(x)/\\varepsilon_s$, together with the depletion approximation and standard electrostatic boundary conditions. Under the depletion approximation at thermal equilibrium, the mobile carrier concentrations are negligible inside the depletion region, while the ionized dopant charge is fully uncovered. Hence, the space charge density is piecewise constant:\n- For the p-side depletion region, $-W_p \\le x \\le 0$, the charge density is $\\rho(x)=-q N_A$ due to uncovered ionized acceptors.\n- For the n-side depletion region, $0 \\le x \\le W_n$, the charge density is $\\rho(x)=+q N_D$ due to uncovered ionized donors.\n\nOutside the depletion region, the quasi-neutral regions have negligible net charge and, by assumption of a long junction at equilibrium, the electric field vanishes sufficiently far from the junction. Therefore, the boundary conditions on the electric field at the depletion edges are $E(-W_p)=0$ and $E(W_n)=0$. The electric field must be continuous at $x=0$ because there is no intentional interfacial sheet charge at the metallurgical junction, so $E(0^-)=E(0^+)$.\n\nIntegrate Poisson’s equation piecewise. On the p-side depletion region:\n\n$$\n\\frac{dE}{dx} \\,=\\, \\frac{-q N_A}{\\varepsilon_s} \\quad \\Rightarrow \\quad\nE(x) \\,=\\, -\\frac{q N_A}{\\varepsilon_s}\\,x + C_p.\n$$\n\nApply $E(-W_p)=0$ to find $0= -\\frac{q N_A}{\\varepsilon_s}(-W_p)+C_p$, so $C_p=-\\frac{q N_A}{\\varepsilon_s}W_p$. Hence, for $-W_p \\le x \\le 0$,\n\n$$\nE(x) \\,=\\, -\\frac{q N_A}{\\varepsilon_s}(x+W_p),\n$$\n\nand at the junction from the p-side,\n\n$$\nE(0^-)\\,=\\,-\\frac{q N_A}{\\varepsilon_s}W_p.\n$$\n\n\nOn the n-side depletion region:\n\n$$\n\\frac{dE}{dx} \\,=\\, \\frac{q N_D}{\\varepsilon_s} \\quad \\Rightarrow \\quad\nE(x) \\,=\\, \\frac{q N_D}{\\varepsilon_s}\\,x + C_n.\n$$\n\nApply $E(W_n)=0$ to find $0=\\frac{q N_D}{\\varepsilon_s}W_n+C_n$, so $C_n=-\\frac{q N_D}{\\varepsilon_s}W_n$. Hence, for $0 \\le x \\le W_n$,\n\n$$\nE(x) \\,=\\, \\frac{q N_D}{\\varepsilon_s}(x-W_n),\n$$\n\nand at the junction from the n-side,\n\n$$\nE(0^+)\\,=\\, -\\frac{q N_D}{\\varepsilon_s}W_n.\n$$\n\n\nThe Maxwell boundary condition of continuity of electric field across the metallurgical junction (no sheet charge) requires $E(0^-)=E(0^+)$. Therefore,\n\n$$\n-\\frac{q N_A}{\\varepsilon_s}W_p \\,=\\, -\\frac{q N_D}{\\varepsilon_s}W_n \\quad \\Rightarrow \\quad N_A W_p \\,=\\, N_D W_n.\n$$\n\nThis relation can also be recognized as a consequence of global charge neutrality of the depletion region in this approximation, because the total uncovered charge on the p-side, $-q N_A W_p$, must balance the total uncovered charge on the n-side, $+q N_D W_n$.\n\nTogether with the identity $W=W_p+W_n$, the pair of equations\n\n$$\nN_A W_p \\,=\\, N_D W_n, \\quad W_p + W_n \\,=\\, W\n$$\n\ncan be solved for $W_p$ and $W_n$ in terms of $W$, $N_A$, and $N_D$. From $N_A W_p = N_D W_n$, write $W_p = \\frac{N_D}{N_A} W_n$. Substitute into $W=W_p+W_n$:\n\n$$\nW \\,=\\, \\frac{N_D}{N_A}W_n + W_n \\,=\\, W_n \\left( \\frac{N_D+N_A}{N_A} \\right),\n$$\n\nhence\n\n$$\nW_n \\,=\\, \\frac{N_A}{N_A+N_D}\\,W.\n$$\n\nThen\n\n$$\nW_p \\,=\\, W - W_n \\,=\\, W - \\frac{N_A}{N_A+N_D}W \\,=\\, \\frac{N_D}{N_A+N_D}\\,W.\n$$\n\n\nThese closed-form expressions complete the requested derivation.\n\nValidity considerations for the depletion approximation and the resulting partitioning are as follows. The depletion approximation assumes that mobile carriers are exponentially suppressed inside the space-charge region so that $\\rho(x)\\approx \\pm q N_{A,D}$ in the respective sides, and that the quasi-neutral regions have negligible electric field. This is accurate to leading order when the junction is abrupt on the scale of the Debye screening lengths, the doping densities satisfy $N_A \\gg n_i$ and $N_D \\gg n_i$ so that the built-in potential spans several thermal voltages $k_B T/q$, the applied bias is not in high-level injection, the material is nondegenerate so Boltzmann statistics applies, and there is no interfacial sheet charge at $x=0$ so that the electric field remains continuous. Under these conditions, the neglected mobile charge inside the depletion region and the finite field leakage into the quasi-neutral regions produce only small corrections, and the partitioning derived above remains accurate to leading order.",
            "answer": "$$\\boxed{W_n = \\frac{N_A}{N_A+N_D}W, \\quad W_p = \\frac{N_D}{N_A+N_D}W}$$"
        },
        {
            "introduction": "While the depletion approximation assumes mobile carrier concentrations are negligible within the space-charge region, the actual concentrations vary continuously and exponentially with the electrostatic potential. This advanced practice challenges you to move beyond the simplified model and derive the precise spatial profiles of electrons and holes. By solving Poisson's equation and applying Boltzmann statistics, you will gain a deeper physical insight into how the potential barrier governs carrier distribution at equilibrium .",
            "id": "3764019",
            "problem": "Consider a one-dimensional, abrupt $p$-$n$ junction at thermal equilibrium in a uniformly doped semiconductor with acceptor density $N_A$ for $x<0$ and donor density $N_D$ for $x>0$. Assume complete ionization, the depletion approximation within a depletion region $[-x_p,\\,x_n]$, and constant semiconductor permittivity $\\epsilon_s$. Let the electrostatic potential be $\\psi(x)$, and choose a fixed reference potential $\\psi_i$ associated with an intrinsic semiconductor where $n=p=n_i$. The thermal voltage is $V_T = k_B T/q$, where $k_B$ is the Boltzmann constant and $q$ is the elementary charge. In thermal equilibrium, assume nondegenerate Boltzmann statistics so that the mobile carrier densities satisfy $n(x) = n_i \\exp\\!\\big((\\psi(x)-\\psi_i)/V_T\\big)$ and $p(x) = n_i \\exp\\!\\big(-(\\psi(x)-\\psi_i)/V_T\\big)$.\n\nStarting from these relations and the fundamental electrostatics (Poisson’s equation, continuity of electric field and potential, and appropriate boundary conditions at the depletion edges where the electric field vanishes), derive explicit, closed-form spatial profiles for the equilibrium electron and hole concentrations $n(x)$ and $p(x)$ throughout the depletion region $x\\in[-x_p,\\,x_n]$. Your derivation must start from first principles without invoking any pre-remembered formulas for depletion widths or built-in potential; these must be derived as part of the solution from the stated assumptions.\n\nExpress your final answer as two analytic expressions, one for $n(x)$ and one for $p(x)$, valid piecewise for $x\\in[-x_p,\\,0]$ (the $p$-side depletion) and $x\\in[0,\\,x_n]$ (the $n$-side depletion). Your expressions must be in terms of $N_A$, $N_D$, $q$, $\\epsilon_s$, $n_i$, $V_T$, and the built-in potential $V_{bi}$, where $V_{bi}$ is defined as the total equilibrium potential drop across the depletion region. The answer must be provided as a single pair in a row-matrix form. No numerical evaluation is required.",
            "solution": "The problem is valid as it represents a standard, well-posed problem in semiconductor device physics, grounded in established scientific principles. The derivation proceeds from first principles as requested.\n\nThe starting point is Poisson's equation for the electrostatic potential $\\psi(x)$:\n$$ \\frac{d^2\\psi(x)}{dx^2} = -\\frac{\\rho(x)}{\\epsilon_s} $$\nwhere $\\rho(x)$ is the net charge density and $\\epsilon_s$ is the semiconductor permittivity.\n\nUnder the depletion approximation, the charge density in the depletion region $[-x_p, x_n]$ is determined by the ionized dopant atoms, as mobile carriers are assumed to be depleted.\nFor the $p$-side, $-x_p \\le x < 0$, the charge density is from negatively charged acceptor ions: $\\rho(x) = -qN_A$.\nFor the $n$-side, $0 < x \\le x_n$, the charge density is from positively charged donor ions: $\\rho(x) = +qN_D$.\nHere, $q$ is the elementary charge, and $N_A$ and $N_D$ are the acceptor and donor concentrations, respectively.\n\nWe solve Poisson's equation piecewise in these two regions.\n\n**1. Potential Profile on the $p$-side ($-x_p \\le x < 0$)**\nPoisson's equation is:\n$$ \\frac{d^2\\psi(x)}{dx^2} = -\\frac{(-qN_A)}{\\epsilon_s} = \\frac{qN_A}{\\epsilon_s} $$\nIntegrating once with respect to $x$ gives the electric field $E(x) = -d\\psi/dx$:\n$$ \\frac{d\\psi(x)}{dx} = \\frac{qN_A}{\\epsilon_s}x + C_1 $$\nThe electric field is zero at the edge of the depletion region, $E(-x_p)=0$.\n$$ -\\left(\\frac{qN_A}{\\epsilon_s}(-x_p) + C_1\\right) = 0 \\implies C_1 = \\frac{qN_A x_p}{\\epsilon_s} $$\nSo, the potential gradient is $\\frac{d\\psi(x)}{dx} = \\frac{qN_A}{\\epsilon_s}(x+x_p)$.\nIntegrating again to find the potential $\\psi(x)$:\n$$ \\psi(x) = \\int \\frac{qN_A}{\\epsilon_s}(x+x_p) dx = \\frac{qN_A}{\\epsilon_s}\\left(\\frac{x^2}{2} + x_p x\\right) + C_2 $$\nLet the potential at the edge $x=-x_p$ be $\\psi(-x_p)$.\n$$ \\psi(-x_p) = \\frac{qN_A}{\\epsilon_s}\\left(\\frac{(-x_p)^2}{2} + x_p(-x_p)\\right) + C_2 = -\\frac{qN_A x_p^2}{2\\epsilon_s} + C_2 $$\nThus, $C_2 = \\psi(-x_p) + \\frac{qN_A x_p^2}{2\\epsilon_s}$.\nThe potential profile on the $p$-side is:\n$$ \\psi(x) = \\psi(-x_p) + \\frac{qN_A}{2\\epsilon_s}(x^2 + 2x_p x + x_p^2) = \\psi(-x_p) + \\frac{qN_A}{2\\epsilon_s}(x+x_p)^2 $$\n\n**2. Potential Profile on the $n$-side ($0 < x \\le x_n$)**\nPoisson's equation is:\n$$ \\frac{d^2\\psi(x)}{dx^2} = -\\frac{qN_D}{\\epsilon_s} $$\nIntegrating once for the electric field:\n$$ \\frac{d\\psi(x)}{dx} = -\\frac{qN_D}{\\epsilon_s}x + C_3 $$\nThe boundary condition $E(x_n)=0$ gives:\n$$ -\\left(-\\frac{qN_D}{\\epsilon_s}x_n + C_3\\right) = 0 \\implies C_3 = \\frac{qN_D x_n}{\\epsilon_s} $$\nIntegrating again to find the potential $\\psi(x)$:\n$$ \\psi(x) = \\int \\left(-\\frac{qN_D}{\\epsilon_s}x + \\frac{qN_D x_n}{\\epsilon_s}\\right) dx = -\\frac{qN_D}{2\\epsilon_s}x^2 + \\frac{qN_D x_n}{\\epsilon_s}x + C_4 $$\nLet the potential at the edge $x=x_n$ be $\\psi(x_n)$.\n$$ \\psi(x_n) = -\\frac{qN_D x_n^2}{2\\epsilon_s} + \\frac{qN_D x_n^2}{\\epsilon_s} + C_4 = \\frac{qN_D x_n^2}{2\\epsilon_s} + C_4 $$\nThus, $C_4 = \\psi(x_n) - \\frac{qN_D x_n^2}{2\\epsilon_s}$.\nThe potential profile on the $n$-side is:\n$$ \\psi(x) = \\psi(x_n) - \\frac{qN_D x_n^2}{2\\epsilon_s} - \\frac{qN_D}{2\\epsilon_s}x^2 + \\frac{qN_D x_n}{\\epsilon_s}x = \\psi(x_n) - \\frac{qN_D}{2\\epsilon_s}(x_n-x)^2 $$\n\n**3. Boundary Conditions and Derivations of $V_{bi}$, $x_p$, $x_n$**\nThe total charge in the depletion region must be zero: $\\int_{-x_p}^{x_n} \\rho(x)dx=0$.\n$$ \\int_{-x_p}^{0} (-qN_A)dx + \\int_{0}^{x_n} (qN_D)dx = -qN_A x_p + qN_D x_n = 0 \\implies N_A x_p = N_D x_n $$\nThe potential must be continuous at $x=0$: $\\psi(0^-) = \\psi(0^+)$.\n$$ \\psi(-x_p) + \\frac{qN_A x_p^2}{2\\epsilon_s} = \\psi(x_n) - \\frac{qN_D x_n^2}{2\\epsilon_s} $$\nThe total potential drop, or built-in potential, is $V_{bi} = \\psi(x_n) - \\psi(-x_p)$.\n$$ V_{bi} = \\frac{q}{2\\epsilon_s}(N_A x_p^2 + N_D x_n^2) $$\nUsing $x_n = (N_A/N_D)x_p$ in the equation for $V_{bi}$:\n$$ V_{bi} = \\frac{q}{2\\epsilon_s}\\left(N_A x_p^2 + N_D\\left(\\frac{N_A}{N_D}\\right)^2 x_p^2\\right) = \\frac{q N_A x_p^2}{2\\epsilon_s}\\left(1 + \\frac{N_A}{N_D}\\right) = \\frac{q N_A x_p^2}{2\\epsilon_s}\\frac{N_A+N_D}{N_D} $$\nSolving for $x_p$:\n$$ x_p = \\sqrt{\\frac{2\\epsilon_s V_{bi}}{q} \\frac{N_D}{N_A(N_A+N_D)}} $$\nSimilarly, by substituting $x_p = (N_D/N_A)x_n$, we find $x_n$:\n$$ x_n = \\sqrt{\\frac{2\\epsilon_s V_{bi}}{q} \\frac{N_A}{N_D(N_A+N_D)}} $$\n\n**4. Boundary Potentials and Carrier Concentrations**\nThe problem provides the carrier densities $n(x) = n_i \\exp((\\psi(x)-\\psi_i)/V_T)$ and $p(x) = n_i \\exp(-(\\psi(x)-\\psi_i)/V_T)$.\nIn the neutral regions bordering the depletion layer, charge neutrality holds.\nAt $x \\le -x_p$, $p(-x_p) \\approx N_A$.\n$N_A = n_i \\exp(-(\\psi(-x_p)-\\psi_i)/V_T) \\implies \\psi(-x_p) = \\psi_i - V_T \\ln(N_A/n_i)$.\nAt $x \\ge x_n$, $n(x_n) \\approx N_D$.\n$N_D = n_i \\exp((\\psi(x_n)-\\psi_i)/V_T) \\implies \\psi(x_n) = \\psi_i + V_T \\ln(N_D/n_i)$.\nThe built-in potential is confirmed: $V_{bi} = \\psi(x_n)-\\psi(-x_p) = V_T \\ln(N_D/n_i) + V_T \\ln(N_A/n_i) = V_T \\ln(N_A N_D / n_i^2)$.\n\n**5. Final Expressions for $n(x)$ and $p(x)$**\nWe now substitute the expressions for $\\psi(x)$ into the carrier density formulas.\n\nFor the $p$-side ($-x_p \\le x < 0$):\n$\\psi(x) = \\psi(-x_p) + \\frac{qN_A}{2\\epsilon_s}(x+x_p)^2 = \\psi_i - V_T \\ln(N_A/n_i) + \\frac{qN_A}{2\\epsilon_s}(x+x_p)^2$.\n$$ \\frac{\\psi(x)-\\psi_i}{V_T} = -\\ln\\left(\\frac{N_A}{n_i}\\right) + \\frac{qN_A}{2\\epsilon_s V_T}(x+x_p)^2 $$\nTherefore,\n$n(x) = n_i \\exp\\left[-\\ln\\left(\\frac{N_A}{n_i}\\right) + \\frac{qN_A}{2\\epsilon_s V_T}(x+x_p)^2\\right] = \\frac{n_i^2}{N_A} \\exp\\left(\\frac{qN_A}{2\\epsilon_s V_T}(x+x_p)^2\\right)$.\n$p(x) = n_i \\exp\\left[\\ln\\left(\\frac{N_A}{n_i}\\right) - \\frac{qN_A}{2\\epsilon_s V_T}(x+x_p)^2\\right] = N_A \\exp\\left(-\\frac{qN_A}{2\\epsilon_s V_T}(x+x_p)^2\\right)$.\n\nFor the $n$-side ($0 < x \\le x_n$):\n$\\psi(x) = \\psi(x_n) - \\frac{qN_D}{2\\epsilon_s}(x_n-x)^2 = \\psi_i + V_T \\ln(N_D/n_i) - \\frac{qN_D}{2\\epsilon_s}(x_n-x)^2$.\n$$ \\frac{\\psi(x)-\\psi_i}{V_T} = \\ln\\left(\\frac{N_D}{n_i}\\right) - \\frac{qN_D}{2\\epsilon_s V_T}(x_n-x)^2 $$\nTherefore,\n$n(x) = n_i \\exp\\left[\\ln\\left(\\frac{N_D}{n_i}\\right) - \\frac{qN_D}{2\\epsilon_s V_T}(x_n-x)^2\\right] = N_D \\exp\\left(-\\frac{qN_D}{2\\epsilon_s V_T}(x_n-x)^2\\right)$.\n$p(x) = n_i \\exp\\left[-\\ln\\left(\\frac{N_D}{n_i}\\right) + \\frac{qN_D}{2\\epsilon_s V_T}(x_n-x)^2\\right] = \\frac{n_i^2}{N_D} \\exp\\left(\\frac{qN_D}{2\\epsilon_s V_T}(x_n-x)^2\\right)$.\n\nSubstituting the derived expressions for $x_p$ and $x_n$ yields the final piecewise functions for the carrier concentrations within the depletion region, expressed in terms of the required parameters.",
            "answer": "$$\n\\boxed{\n\\pmatrix{\n\\begin{cases} \\frac{n_i^2}{N_A} \\exp\\left( \\frac{qN_A}{2\\epsilon_s V_T}\\left(x+\\sqrt{\\frac{2\\epsilon_s V_{bi}}{q} \\frac{N_D}{N_A(N_A+N_D)}}\\right)^2 \\right) & \\text{for } x \\in \\left[-\\sqrt{\\frac{2\\epsilon_s V_{bi}}{q} \\frac{N_D}{N_A(N_A+N_D)}},\\, 0\\right] \\\\ N_D \\exp\\left( -\\frac{qN_D}{2\\epsilon_s V_T}\\left(x-\\sqrt{\\frac{2\\epsilon_s V_{bi}}{q} \\frac{N_A}{N_D(N_A+N_D)}}\\right)^2 \\right) & \\text{for } x \\in \\left(0,\\,\\sqrt{\\frac{2\\epsilon_s V_{bi}}{q} \\frac{N_A}{N_D(N_A+N_D)}}\\right] \\end{cases}\n&\n\\begin{cases} N_A \\exp\\left( -\\frac{qN_A}{2\\epsilon_s V_T}\\left(x+\\sqrt{\\frac{2\\epsilon_s V_{bi}}{q} \\frac{N_D}{N_A(N_A+N_D)}}\\right)^2 \\right) & \\text{for } x \\in \\left[-\\sqrt{\\frac{2\\epsilon_s V_{bi}}{q} \\frac{N_D}{N_A(N_A+N_D)}},\\, 0\\right] \\\\ \\frac{n_i^2}{N_D} \\exp\\left( \\frac{qN_D}{2\\epsilon_s V_T}\\left(x-\\sqrt{\\frac{2\\epsilon_s V_{bi}}{q} \\frac{N_A}{N_D(N_A+N_D)}}\\right)^2 \\right) & \\text{for } x \\in \\left(0,\\,\\sqrt{\\frac{2\\epsilon_s V_{bi}}{q} \\frac{N_A}{N_D(N_A+N_D)}}\\right] \\end{cases}\n}\n}\n$$"
        },
        {
            "introduction": "Real-world semiconductor devices often utilize non-uniform doping profiles to achieve specific electrical characteristics. This practice moves beyond the idealized uniformly doped junction to a more realistic case with an exponential doping profile, where analytical solutions for depletion width are not readily available. This exercise will guide you through setting up the governing integral equation from first principles and developing a numerical strategy to solve it, bridging theoretical understanding with the computational skills essential for modern device modeling and simulation .",
            "id": "3764011",
            "problem": "Consider a one-dimensional (1D) abrupt $p$-$n$ junction at thermal equilibrium in the depletion approximation (DA), where the depletion region lies entirely on the $n$-side for $x\\in[0,W]$ due to a heavily doped $p$-side. Let the donor concentration profile on the $n$-side be exponential, $N(x)=N_0 e^{x/L}$ for $x\\in[0,W]$, with full ionization. The electrostatic problem is governed by Poisson’s equation with zero net current at thermal equilibrium, and the electric field (E) and electrostatic potential satisfy $E(x)=-d\\phi/dx$. The space charge density is $\\rho(x)=qN(x)$ within the depleted region, where $q$ is the elementary charge, and is zero outside. Using the integral form of Poisson’s equation in 1D with appropriate boundary conditions, set up the relation that links the built-in potential $V_{bi}$ across the depleted region to the depletion width $W$ for the given $N(x)$, expressing $V_{bi}$ purely as an integral over $x\\in[0,W]$.\n\nFrom this relation, derive a computable expression and formulate a numerical strategy to solve for $W$ given $(N_0,L,\\varepsilon_s,V_{bi})$, where $\\varepsilon_s$ is the semiconductor permittivity. Your program must implement this strategy to compute $W$ for the following test suite. For all cases, use $q=1.602176634\\times 10^{-19}\\ \\mathrm{C}$.\n\n- Case A: $N_0=1.0\\times 10^{21}\\ \\mathrm{m}^{-3}$, $L=1.0\\times 10^{-7}\\ \\mathrm{m}$, $\\varepsilon_s=1.035\\times 10^{-10}\\ \\mathrm{F/m}$, $V_{bi}=0.80\\ \\mathrm{V}$.\n- Case B: $N_0=1.0\\times 10^{22}\\ \\mathrm{m}^{-3}$, $L=5.0\\times 10^{-8}\\ \\mathrm{m}$, $\\varepsilon_s=1.035\\times 10^{-10}\\ \\mathrm{F/m}$, $V_{bi}=0.40\\ \\mathrm{V}$.\n- Case C: $N_0=1.0\\times 10^{21}\\ \\mathrm{m}^{-3}$, $L=5.0\\times 10^{-6}\\ \\mathrm{m}$, $\\varepsilon_s=1.035\\times 10^{-10}\\ \\mathrm{F/m}$, $V_{bi}=0.050\\ \\mathrm{V}$.\n- Case D: $N_0=5.0\\times 10^{21}\\ \\mathrm{m}^{-3}$, $L=1.0\\times 10^{-8}\\ \\mathrm{m}$, $\\varepsilon_s=1.035\\times 10^{-10}\\ \\mathrm{F/m}$, $V_{bi}=0.20\\ \\mathrm{V}$.\n\nExpress each computed depletion width $W$ in meters. Your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets (for example, $[w_A,w_B,w_C,w_D]$), where each entry is a plain floating-point number representing the corresponding $W$ in meters.\n\nThe solution must be derived from first principles, starting from Poisson’s equation and appropriate boundary conditions, without invoking any shortcut formulas not justified by the derivation. The numerical strategy must be algorithmically clear and robust for the provided test suite, covering typical, small-$W$ relative to $L$, and large-$W$ relative to $L$ regimes.",
            "solution": "The problem statement is evaluated as scientifically sound, well-posed, objective, and self-contained. All provided physical parameters and constants are consistent and realistic. The problem is a valid application of fundamental semiconductor device physics principles, specifically the analysis of p-n junction electrostatics under non-uniform doping. A complete solution will be provided.\n\nThe analysis begins with the one-dimensional Poisson's equation, which relates the electrostatic potential $\\phi(x)$ to the space charge density $\\rho(x)$:\n$$\n\\frac{d^2\\phi}{dx^2} = -\\frac{\\rho(x)}{\\varepsilon_s}\n$$\nwhere $\\varepsilon_s$ is the permittivity of the semiconductor. The electric field $E(x)$ is the negative gradient of the potential:\n$$\nE(x) = -\\frac{d\\phi}{dx}\n$$\nCombining these two equations gives the differential form of Gauss's law in one dimension:\n$$\n\\frac{dE}{dx} = \\frac{\\rho(x)}{\\varepsilon_s}\n$$\nThe problem specifies a $p^+$-$n$ junction, where the p-side is heavily doped. Under the Depletion Approximation (DA), the depletion region is assumed to exist almost entirely on the more lightly doped n-side. The problem defines this region to be $x \\in [0, W]$, where $x=0$ is the metallurgical junction and $x=W$ is the edge of the depletion region on the n-side.\n\nWithin this region, the space charge density is due to the ionized donor atoms. Assuming full ionization, the charge density is given by $\\rho(x) = qN(x)$, where $q$ is the elementary charge and $N(x)$ is the specified exponential donor concentration profile:\n$$\n\\rho(x) = q N_0 e^{x/L} \\quad \\text{for } x \\in [0, W]\n$$\nOutside this region, the semiconductor is assumed to be charge neutral, so $\\rho(x) = 0$ for $x > W$.\n\nTo find the electric field $E(x)$, we integrate $\\frac{dE}{dx}$ from an arbitrary point $x$ within the depletion region to the edge at $W$. A key boundary condition from the DA is that the electric field vanishes at the edge of the depletion region, i.e., $E(W)=0$.\n$$\n\\int_x^W \\frac{dE(x')}{dx'} dx' = E(W) - E(x) = \\int_x^W \\frac{\\rho(x')}{\\varepsilon_s} dx'\n$$\nSubstituting $E(W)=0$ and the expression for $\\rho(x')$, we get:\n$$\n-E(x) = \\frac{qN_0}{\\varepsilon_s} \\int_x^W e^{x'/L} dx'\n$$\n$$\n-E(x) = \\frac{qN_0}{\\varepsilon_s} \\left[ L e^{x'/L} \\right]_x^W = \\frac{qN_0 L}{\\varepsilon_s} (e^{W/L} - e^{x/L})\n$$\nSo, the electric field inside the depletion region is:\n$$\nE(x) = \\frac{qN_0 L}{\\varepsilon_s} (e^{x/L} - e^{W/L}) \\quad \\text{for } x \\in [0, W]\n$$\nThe built-in potential, $V_{bi}$, is the total potential difference across the depletion region. For a one-sided junction, this is the potential difference between $x=0$ and $x=W$:\n$$\nV_{bi} = \\phi(W) - \\phi(0) = -\\int_0^W E(x) dx\n$$\nThe problem requests an expression for $V_{bi}$ as an integral over $x \\in [0, W]$. A direct and elegant way to establish this relation is to start from Poisson's equation, multiply by $x$, and integrate across the depletion region:\n$$\n\\int_0^W x \\frac{d^2\\phi}{dx^2} dx = -\\frac{1}{\\varepsilon_s} \\int_0^W x \\rho(x) dx\n$$\nThe left-hand side can be integrated by parts, with $u=x$ and $dv = (d^2\\phi/dx^2)dx = (dE/dx)dx$:\n$$\n\\left[ x \\frac{d\\phi}{dx} \\right]_0^W - \\int_0^W \\frac{d\\phi}{dx} dx = \\left[ -x E(x) \\right]_0^W - [\\phi(x)]_0^W\n$$\n$$\n= (-W E(W) + 0 \\cdot E(0)) - (\\phi(W) - \\phi(0))\n$$\nUsing the boundary condition $E(W)=0$ and recognizing that $\\phi(W) - \\phi(0) = V_{bi}$, the left-hand side simplifies to $-V_{bi}$. Therefore, we have the relation:\n$$\n-V_{bi} = -\\frac{1}{\\varepsilon_s} \\int_0^W x \\rho(x) dx \\implies V_{bi} = \\frac{1}{\\varepsilon_s} \\int_0^W x \\rho(x) dx\n$$\nThis is the integral relation requested by the problem. Now, we substitute $\\rho(x) = q N_0 e^{x/L}$ and evaluate the integral to find a computable expression.\n$$\nV_{bi} = \\frac{qN_0}{\\varepsilon_s} \\int_0^W x e^{x/L} dx\n$$\nThis integral is solved using integration by parts, with $u=x$ and $dv = e^{x/L} dx$. Then $du=dx$ and $v=Le^{x/L}$.\n$$\n\\int x e^{x/L} dx = x(Le^{x/L}) - \\int L e^{x/L} dx = Lx e^{x/L} - L^2 e^{x/L}\n$$\nApplying the definite integral limits from $0$ to $W$:\n$$\n\\int_0^W x e^{x/L} dx = \\left[ Lx e^{x/L} - L^2 e^{x/L} \\right]_0^W \n$$\n$$\n= (LW e^{W/L} - L^2 e^{W/L}) - (0 \\cdot L e^0 - L^2 e^0)\n$$\n$$\n= L^2 e^{W/L} \\left(\\frac{W}{L} - 1\\right) + L^2 = L^2 \\left[ 1 + \\left(\\frac{W}{L} - 1\\right)e^{W/L} \\right]\n$$\nSubstituting this result back into the expression for $V_{bi}$:\n$$\nV_{bi} = \\frac{qN_0 L^2}{\\varepsilon_s} \\left[ 1 + \\left(\\frac{W}{L} - 1\\right)e^{W/L} \\right]\n$$\nThis is the final transcendental equation relating the depletion width $W$ to the given parameters $(N_0, L, \\varepsilon_s, V_{bi})$. This equation cannot be solved for $W$ analytically. A numerical root-finding algorithm is required.\n\nThe numerical strategy is to find the root of the function $g(W)$:\n$$\ng(W) = \\frac{qN_0 L^2}{\\varepsilon_s} \\left[ 1 + \\left(\\frac{W}{L} - 1\\right)e^{W/L} \\right] - V_{bi} = 0\n$$\nTo analyze this function, let's examine its derivative with respect to $W$:\n$$\n\\frac{dg}{dW} = \\frac{qN_0 L^2}{\\varepsilon_s} \\frac{d}{dW} \\left[ 1 + \\left(\\frac{W}{L} - 1\\right)e^{W/L} \\right]\n$$\nLet $u = W/L$, so $du/dW = 1/L$. Using the chain rule and product rule:\n$$\n\\frac{d}{dW} = \\frac{d}{du}\\frac{du}{dW} = \\frac{1}{L} \\frac{d}{du}\n$$\n$$\n\\frac{dg}{dW} = \\frac{qN_0 L}{\\varepsilon_s} \\frac{d}{du} \\left[ 1 + (u-1)e^u \\right] = \\frac{qN_0 L}{\\varepsilon_s} \\left[ 0 + (1)e^u + (u-1)e^u \\right] = \\frac{qN_0 L}{\\varepsilon_s} (u e^u) = \\frac{qN_0 W}{\\varepsilon_s} e^{W/L}\n$$\nSince all parameters $q, N_0, \\varepsilon_s$ and variables $W, L$ are positive, $\\frac{dg}{dW} > 0$ for $W>0$. This proves that $g(W)$ is a monotonically increasing function of $W$.\n\nAt $W=0$, $g(0) = \\frac{qN_0 L^2}{\\varepsilon_s} [1 + (-1)e^0] - V_{bi} = 0 - V_{bi} = -V_{bi}$. Since $V_{bi}>0$, $g(0)$ is negative.\nAs $W \\to \\infty$, the term $e^{W/L}$ grows exponentially, ensuring that $g(W)$ becomes positive.\nA monotonically increasing function that goes from negative to positive must have exactly one positive root. This guarantees that a unique solution for $W$ exists.\n\nThe numerical algorithm will use a bracketing root-finding method, such as Brent's method, which is robust and efficient. We need to supply an interval $[a, b]$ where $g(a)$ and $g(b)$ have opposite signs. We can choose $a$ to be a very small positive number (e.g., $10^{-15}$ m) to avoid $W=0$, for which $g(a) \\approx -V_{bi} < 0$. For the upper bound $b$, we need a value large enough to ensure $g(b) > 0$. Given the physical scales of semiconductor devices, a depletion width of $1$ millimeter ($10^{-3}$ m) is exceptionally large and serves as a safe upper bound for all practical scenarios, including the test cases provided. Therefore, the interval $[10^{-15}, 10^{-3}]$ is a suitable bracket for the solver.\n\nThe implementation will consist of a Python function that takes the parameters for each case, defines the function $g(W)$, and uses `scipy.optimize.brentq` to find the root $W$ within this bracket.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy import optimize\n\ndef solve():\n    \"\"\"\n    Solves for the depletion width W of a p+-n junction with an exponential\n    doping profile on the n-side.\n    \"\"\"\n    \n    # Physical constant\n    q = 1.602176634e-19  # Elementary charge in Coulombs\n\n    # Define the test cases from the problem statement.\n    test_cases = [\n        # Case A: (N0, L, eps_s, Vbi)\n        (1.0e21, 1.0e-7, 1.035e-10, 0.80),\n        # Case B:\n        (1.0e22, 5.0e-8, 1.035e-10, 0.40),\n        # Case C:\n        (1.0e21, 5.0e-6, 1.035e-10, 0.050),\n        # Case D:\n        (5.0e21, 1.0e-8, 1.035e-10, 0.20),\n    ]\n\n    results = []\n    \n    def calculate_W(params):\n        \"\"\"\n        Calculates the depletion width W for a given set of parameters.\n        \n        Args:\n            params (tuple): A tuple containing (N0, L, eps_s, Vbi).\n                - N0 (float): Doping prefactor in m^-3.\n                - L (float): Characteristic length of doping profile in m.\n                - eps_s (float): Semiconductor permittivity in F/m.\n                - Vbi (float): Built-in potential in V.\n        \n        Returns:\n            float: The calculated depletion width W in meters.\n        \"\"\"\n        N0, L, eps_s, Vbi = params\n\n        # This is the function g(W) for which we need to find the root.\n        # g(W) = (q * N0 * L^2 / eps_s) * (1 + (W/L - 1) * exp(W/L)) - Vbi\n        def g(W):\n            if W <= 0:\n                # Physically, W must be > 0. g(0) = -Vbi.\n                # Returning -Vbi prevents issues with W/L for W=0 if L is very small.\n                return -Vbi\n            \n            u = W / L\n            prefactor = (q * N0 * L**2) / eps_s\n            # Use np.exp for robust handling of large arguments\n            term = 1.0 + (u - 1.0) * np.exp(u)\n            \n            return prefactor * term - Vbi\n\n        # The function g(W) is monotonic for W > 0.\n        # At W -> 0+, g(W) -> -Vbi < 0.\n        # For large W, g(W) -> +infinity.\n        # A root is guaranteed to exist for W > 0.\n        # We use a robust bracketing root-finding method.\n        # Lower bound a: a small positive number.\n        # Upper bound b: a large number, e.g., 1 mm, which is a very safe\n        # upper limit for depletion widths in semiconductors.\n        a = 1e-15  # Lower bound for W in meters\n        b = 1e-3   # Upper bound for W in meters\n\n        try:\n            # Brent's method is efficient and guaranteed to converge if the\n            # function values at the bracket endpoints have opposite signs.\n            # g(a) is guaranteed to be negative.\n            # g(b) is guaranteed to be positive for the given test cases and bounds.\n            W_solution = optimize.brentq(g, a, b)\n            return W_solution\n        except ValueError:\n            # This would happen if g(a) and g(b) have the same sign, which\n            # indicates an issue with the bracketing or function definition.\n            # Given the analysis, this is not expected for the problem's parameters.\n            return np.nan\n\n    for case in test_cases:\n        w_val = calculate_W(case)\n        results.append(w_val)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        }
    ]
}