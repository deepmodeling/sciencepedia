{
    "hands_on_practices": [
        {
            "introduction": "耗尽近似通过假设一个耗尽了可动载流子的区域，简化了对p-n结的分析。这项练习要求你从泊松方程和电荷中性这两个基本原则出发，推导出耗尽区宽度 $W$ 在p区和n区的非对称分割关系 。掌握这个推导过程至关重要，它能加深你对掺杂浓度如何决定结的不对称结构以及耗尽模型内部机制的理解。",
            "id": "3777594",
            "problem": "考虑一个突变的、均匀掺杂的长平面p-n结，处于热平衡状态且没有外加偏压。在$x<0$的p区，受主浓度为$N_A$；在$x>0$的n区，施主浓度为$N_D$。假设沿垂直于结平面的方向呈一维变化，冶金结位于$x=0$处。设半导体的介电常数为$\\varepsilon_s$。在耗尽近似下，空间电荷区仅包含未被覆盖的电离掺杂剂，而准中性区的电场为零。\n\n设耗尽区在p区延伸的距离为$W_p$，在n区延伸的距离为$W_n$，总耗尽宽度$W$定义为$W \\equiv W_p + W_n$。\n\n仅从泊松方程$\\frac{dE}{dx}=\\rho(x)/\\varepsilon_s$和适当的静电边界条件出发，推导$W_n$和$W_p$关于$W$、$N_A$和$N_D$的闭式表达式。以最简形式给出$W_n$和$W_p$的代数表达式作为最终答案。然后，简要地用文字说明，在何种物理条件下，这些表达式对于真实的p-n结是一阶近似准确的。\n\n你最终报告的答案必须只包含$W_n$和$W_p$的闭式表达式（无单位）。不要提供中间步骤。",
            "solution": "出发点是一维泊松方程$\\frac{dE}{dx}=\\rho(x)/\\varepsilon_s$，以及耗尽近似和标准的静电边界条件。在热平衡状态下的耗尽近似中，耗尽区内的移动载流子浓度可以忽略不计，而电离的掺杂剂电荷则完全暴露出来。因此，空间电荷密度是分段恒定的：\n- 对于p区耗尽区，$-W_p \\le x \\le 0$，电荷密度为$\\rho(x)=-q N_A$，这是由于未被覆盖的电离受主造成的。\n- 对于n区耗尽区，$0 \\le x \\le W_n$，电荷密度为$\\rho(x)=+q N_D$，这是由于未被覆盖的电离施主造成的。\n\n在耗尽区之外，准中性区的净电荷可忽略不计，并且根据长结在平衡状态下的假设，电场在远离结的地方消失。因此，耗尽区边缘的电场边界条件为$E(-W_p)=0$和$E(W_n)=0$。电场在$x=0$处必须是连续的，因为在冶金结处没有特意设置的界面面电荷，所以$E(0^-)=E(0^+)$。\n\n对泊松方程进行分段积分。在p区耗尽区：\n\n$$\n\\frac{dE}{dx} \\,=\\, \\frac{-q N_A}{\\varepsilon_s} \\quad \\Rightarrow \\quad\nE(x) \\,=\\, -\\frac{q N_A}{\\varepsilon_s}\\,x + C_p.\n$$\n\n应用$E(-W_p)=0$可得$0= -\\frac{q N_A}{\\varepsilon_s}(-W_p)+C_p$，所以$C_p=-\\frac{q N_A}{\\varepsilon_s}W_p$。因此，对于$-W_p \\le x \\le 0$，\n\n$$\nE(x) \\,=\\, -\\frac{q N_A}{\\varepsilon_s}(x+W_p),\n$$\n\n在结的p区一侧，\n\n$$\nE(0^-)\\,=\\,-\\frac{q N_A}{\\varepsilon_s}W_p.\n$$\n\n\n在n区耗尽区：\n\n$$\n\\frac{dE}{dx} \\,=\\, \\frac{q N_D}{\\varepsilon_s} \\quad \\Rightarrow \\quad\nE(x) \\,=\\, \\frac{q N_D}{\\varepsilon_s}\\,x + C_n.\n$$\n\n应用$E(W_n)=0$可得$0=\\frac{q N_D}{\\varepsilon_s}W_n+C_n$，所以$C_n=-\\frac{q N_D}{\\varepsilon_s}W_n$。因此，对于$0 \\le x \\le W_n$，\n\n$$\nE(x) \\,=\\, \\frac{q N_D}{\\varepsilon_s}(x-W_n),\n$$\n\n在结的n区一侧，\n\n$$\nE(0^+)\\,=\\, -\\frac{q N_D}{\\varepsilon_s}W_n.\n$$\n\n\n麦克斯韦边界条件要求电场在穿过冶金结时是连续的（没有面电荷），即$E(0^-)=E(0^+)$。因此，\n\n$$\n-\\frac{q N_A}{\\varepsilon_s}W_p \\,=\\, -\\frac{q N_D}{\\varepsilon_s}W_n \\quad \\Rightarrow \\quad N_A W_p \\,=\\, N_D W_n.\n$$\n\n这个关系也可以被看作是在此近似下耗尽区全局电中性的结果，因为p区一侧的总暴露电荷$-q N_A W_p$必须与n区一侧的总暴露电荷$+q N_D W_n$相平衡。\n\n结合恒等式$W=W_p+W_n$，方程组\n\n$$\nN_A W_p \\,=\\, N_D W_n, \\quad W_p + W_n \\,=\\, W\n$$\n\n可以解出$W_p$和$W_n$关于$W$，$N_A$和$N_D$的表达式。由$N_A W_p = N_D W_n$，可得$W_p = \\frac{N_D}{N_A} W_n$。代入$W=W_p+W_n$中：\n\n$$\nW \\,=\\, \\frac{N_D}{N_A}W_n + W_n \\,=\\, W_n \\left( \\frac{N_D+N_A}{N_A} \\right),\n$$\n\n因此\n\n$$\nW_n \\,=\\, \\frac{N_A}{N_A+N_D}\\,W.\n$$\n\n然后\n\n$$\nW_p \\,=\\, W - W_n \\,=\\, W - \\frac{N_A}{N_A+N_D}W \\,=\\, \\frac{N_D}{N_A+N_D}\\,W.\n$$\n\n\n这些闭式表达式完成了所要求的推导。\n\n关于耗尽近似及其得出的区域划分的有效性考虑如下。耗尽近似假设空间电荷区内的移动载流子呈指数级抑制，因此在各自区域内$\\rho(x)\\approx \\pm q N_{A,D}$，并且准中性区的电场可以忽略不计。当结在德拜屏蔽长度的尺度上是突变的，掺杂浓度满足$N_A \\gg n_i$和$N_D \\gg n_i$以至于内建电势跨越了几个热电压$k_B T/q$，外加偏压不处于大注入状态，材料是非简并的因此玻尔兹曼统计适用，并且在$x=0$处没有界面面电荷从而电场保持连续时，这个近似是一阶准确的。在这些条件下，耗尽区内被忽略的移动电荷以及泄漏到准中性区的有限电场只产生小的修正，因此上面推导出的区域划分在一阶近似上仍然是准确的。",
            "answer": "$$ \\boxed{W_n = \\frac{N_A}{N_A+N_D}W} \\quad \\boxed{W_p = \\frac{N_D}{N_A+N_D}W} $$"
        },
        {
            "introduction": "耗尽近似的有效性关键在于其忽略了耗尽区内的可动载流子，但在某些条件下（例如强正向偏压下的高注入情况），这一核心假设会失效。这项练习提供了一个具体的数值场景，让你直接计算包含可动载流子时的真实空间电荷密度，并将其与耗尽近似的预测进行比较 。通过量化这种偏差，你将对该模型的适用边界有一个实际的认识，并理解在何种情况下必须采用更精确的分析方法。",
            "id": "3777621",
            "problem": "考虑一个温度为 $T=300\\,\\mathrm{K}$ 的突变硅$p$-$n$结，其n区的施主掺杂浓度为 $N_{D}=5.0\\times 10^{16}\\,\\mathrm{cm}^{-3}$，p区的受主掺杂浓度为 $N_{A}=2.0\\times 10^{16}\\,\\mathrm{cm}^{-3}$。假设掺杂剂完全电离，因此 $N_{D}^{+}=N_{D}$ 且 $N_{A}^{-}=N_{A}$。在强正向偏置下，该结工作在大注入状态。在位于n区耗尽区内的一点 $x_{0}$ 处（此处 $N_{A}=0$），测得的局域非平衡载流子浓度为 $p(x_{0})=2.0\\times 10^{17}\\,\\mathrm{cm}^{-3}$ 和 $n(x_{0})=1.4\\times 10^{17}\\,\\mathrm{cm}^{-3}$。\n\n从微分形式的高斯定律和空间电荷的定义（即电离掺杂剂和可动载流子贡献之和）出发，推导出局域空间电荷密度 $\\rho(x_{0})$，并计算其数值（单位为 $\\mathrm{C/m}^{3}$）。然后，定义在同一位置处通过忽略可动载流子得到的耗尽近似空间电荷 $\\rho_{\\mathrm{dep}}(x_{0})$，并通过无量纲的相对偏差来量化与耗尽近似的偏离程度：\n$$\n\\varepsilon \\equiv \\frac{\\rho(x_{0})-\\rho_{\\mathrm{dep}}(x_{0})}{\\rho_{\\mathrm{dep}}(x_{0})}.\n$$\n请给出 $\\varepsilon$ 的值作为最终答案。将 $\\varepsilon$ 表示为小数（不带百分号），并将最终答案四舍五入到四位有效数字。",
            "solution": "该问题已经过验证，被认为是有效的。它在科学上基于半导体物理学，提法恰当，数据充分且一致，陈述客观。所要求的计算直接评估了在大注入条件下耗尽近似的有效性，这是器件物理学中的一个标准练习。\n\n半导体中的局域空间电荷密度 $\\rho$ 是单位体积内的净电荷。它由可动载流子（空穴和电子）和固定的电离掺杂原子（受主和施主）的电荷总和给出。用 $e$ 表示元电荷，其表达式为：\n$$\n\\rho = e(p - n + N_{D}^{+} - N_{A}^{-})\n$$\n其中 $p$ 和 $n$ 分别是局域的空穴和电子浓度，$N_{D}^{+}$ 和 $N_{A}^{-}$ 是电离施主和受主的浓度。\n\n问题指定了一个位于结的n区的点 $x_0$。在n区，受主浓度为零，即 $N_A = 0$，这意味着 $N_A^{-} = 0$。问题还说明假设掺杂剂完全电离，所以电离施主浓度等于总施主掺杂浓度，$N_{D}^{+} = N_{D}$。在这些条件下，$x_0$ 处的空间电荷密度变为：\n$$\n\\rho(x_{0}) = e(p(x_{0}) - n(x_{0}) + N_{D})\n$$\n我们已知以下数值：\n- $x_0$ 处的空穴浓度：$p(x_{0}) = 2.0 \\times 10^{17}\\,\\mathrm{cm}^{-3}$\n- $x_0$ 处的电子浓度：$n(x_{0}) = 1.4 \\times 10^{17}\\,\\mathrm{cm}^{-3}$\n- 施主掺杂浓度：$N_{D} = 5.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}$\n\n代入这些值，我们得到净电荷浓度：\n$$\np(x_{0}) - n(x_{0}) + N_{D} = (2.0 \\times 10^{17} - 1.4 \\times 10^{17} + 5.0 \\times 10^{16})\\,\\mathrm{cm}^{-3}\n$$\n为方便计算，我们可以将所有浓度用 $10^{16}\\,\\mathrm{cm}^{-3}$ 表示：\n$$\np(x_{0}) - n(x_{0}) + N_{D} = (20.0 \\times 10^{16} - 14.0 \\times 10^{16} + 5.0 \\times 10^{16})\\,\\mathrm{cm}^{-3} = 11.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}\n$$\n为了计算 $\\rho(x_{0})$ 在国际单位制（$\\mathrm{C/m}^{3}$）下的数值，我们使用元电荷 $e \\approx 1.6021766 \\times 10^{-19}\\,\\mathrm{C}$ 和转换因子 $1\\,\\mathrm{cm}^{-3} = 10^{6}\\,\\mathrm{m}^{-3}$：\n$$\n\\rho(x_{0}) = (1.6021766 \\times 10^{-19}\\,\\mathrm{C}) \\times (11.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}) \\times (10^{6}\\,\\mathrm{m}^{3}/\\mathrm{cm}^{3})\n$$\n$$\n\\rho(x_{0}) = (1.6021766 \\times 10^{-19}) \\times (11.0 \\times 10^{22})\\,\\mathrm{C/m}^{3} \\approx 1.7624 \\times 10^{4}\\,\\mathrm{C/m}^{3}\n$$\n\n接下来，我们考虑耗尽近似下的空间电荷密度 $\\rho_{\\mathrm{dep}}$。该近似假设空间电荷区完全耗尽了可动载流子，即 $p \\approx 0$ 和 $n \\approx 0$。此时空间电荷密度仅由固定的电离掺杂剂决定：\n$$\n\\rho_{\\mathrm{dep}} = e(N_{D}^{+} - N_{A}^{-})\n$$\n在n区的点 $x_0$ 处，由于 $N_{A}^{-} = 0$ 且 $N_{D}^{+} = N_{D}$，上式简化为：\n$$\n\\rho_{\\mathrm{dep}}(x_{0}) = e N_{D}\n$$\n代入给定值 $N_{D} = 5.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}$：\n$$\n\\rho_{\\mathrm{dep}}(x_{0}) = (1.6021766 \\times 10^{-19}\\,\\mathrm{C}) \\times (5.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}) \\times (10^{6}\\,\\mathrm{m}^{3}/\\mathrm{cm}^{3})\n$$\n$$\n\\rho_{\\mathrm{dep}}(x_{0}) = (1.6021766 \\times 10^{-19}) \\times (5.0 \\times 10^{22})\\,\\mathrm{C/m}^{3} \\approx 8.0109 \\times 10^{3}\\,\\mathrm{C/m}^{3}\n$$\n问题要求使用无量纲的相对偏差 $\\varepsilon$ 来量化与耗尽近似的偏离程度：\n$$\n\\varepsilon \\equiv \\frac{\\rho(x_{0})-\\rho_{\\mathrm{dep}}(x_{0})}{\\rho_{\\mathrm{dep}}(x_{0})}\n$$\n我们可以代入 $\\rho(x_{0})$ 和 $\\rho_{\\mathrm{dep}}(x_{0})$ 的符号表达式：\n$$\n\\varepsilon = \\frac{e(p(x_{0}) - n(x_{0}) + N_{D}) - e N_{D}}{e N_{D}}\n$$\n分子中包含 $e$ 和 $N_{D}$ 的项相互抵消，得到一个简化的表达式：\n$$\n\\varepsilon = \\frac{p(x_{0}) - n(x_{0})}{N_{D}}\n$$\n这个表达式突出表明，偏差是由净可动电荷密度 $p(x_{0}) - n(x_{0})$ 相对于固定的背景掺杂电荷密度引起的。使用给定的浓度：\n$$\n\\varepsilon = \\frac{2.0 \\times 10^{17}\\,\\mathrm{cm}^{-3} - 1.4 \\times 10^{17}\\,\\mathrm{cm}^{-3}}{5.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}}\n$$\n$$\n\\varepsilon = \\frac{0.6 \\times 10^{17}\\,\\mathrm{cm}^{-3}}{5.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}} = \\frac{6.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}}{5.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}}\n$$\n$$\n\\varepsilon = \\frac{6.0}{5.0} = 1.2\n$$\n问题要求答案四舍五入到四位有效数字。因此，数值 $1.2$ 表示为 $1.200$。如此大的偏差（$\\varepsilon > 1$）证实了在指定的大注入条件下，耗尽近似是无效的，因为此时可动载流子浓度与掺杂浓度相当甚至更高。",
            "answer": "$$\n\\boxed{1.200}\n$$"
        },
        {
            "introduction": "这项高级练习将分析推导与编程实践相结合，旨在弥合理想化模型与实际物理情况之间的差距 。通过引入一个基于载流子浓度的、更精细的耗尽区边界定义，你将探索模型本身的敏感性和局限性，并学习如何通过计算来验证和完善分析模型，这是现代半导体器件建模中的一项核心技能。",
            "id": "3777507",
            "problem": "考虑一个一维突变阶梯结，该结由一个受主密度为 $N_A$ 的均匀掺杂p型区和一个施主密度为 $N_D$ 的均匀掺杂n型区组成，处于温度为 $T$ 的热平衡状态，并施加了外部电压 $V_a$（若 $V_a > 0$ 则为正向偏置，若 $V_a < 0$ 则为反向偏置）。假设完全电离、非简并统计，并以硅作为半导体。仅使用以下基本依据和定义。\n\n1) 静电势 $\\psi(x)$ 和电场 $E(x)$ 满足一维泊松方程：\n$$\\frac{d^2 \\psi}{dx^2} \\;=\\; -\\frac{\\rho(x)}{\\varepsilon_s},\\quad \\frac{dE}{dx} \\;=\\; \\frac{\\rho(x)}{\\varepsilon_s},\\quad E(x) \\;=\\; -\\frac{d\\psi}{dx},$$\n其中 $\\varepsilon_s$ 是半导体介电常数，$\\rho(x)$ 是空间电荷密度。\n\n2) 在空间电荷区内，根据耗尽近似，忽略自由载流子，因此电荷密度为\n$$\\rho(x) \\;=\\; \\begin{cases}\n- q N_A,  & -x_p \\le x \\le 0,\\\\\n+ q N_D,  & 0 \\le x \\le x_n,\\\\\n0,  & \\text{otherwise},\n\\end{cases}$$\n边界条件为 $E(-x_p) = 0$ 和 $E(x_n) = 0$，且 $E(x)$ 在 $x = 0$ 处连续。在耗尽区之外，电中性成立且 $E(x) = 0$。\n\n3) 非简并载流子统计通过以下方式将载流子密度与静电势关联起来：\n$$n(x) \\;=\\; n_i \\exp\\!\\left(\\frac{\\psi(x)-\\psi_i}{V_T}\\right),\\qquad p(x) \\;=\\; n_i \\exp\\!\\left(-\\frac{\\psi(x)-\\psi_i}{V_T}\\right),$$\n其中 $n_i$ 是本征载流子浓度，$V_T = k_B T/q$ 是热电压，$k_B$ 是玻尔兹曼常数，$q$ 是元电荷，$\\psi_i$ 是本征电势参考。在远离结的每个中性区中，多数载流子密度等于相应的电离掺杂剂密度，从而确定了该区域的电势参考。\n\n4) 平衡状态下的内建电势 $V_{bi}$ 可由中性区的质量作用定律和电中性得出：\n$$V_{bi} \\;=\\; V_T \\ln\\!\\left(\\frac{N_A N_D}{n_i^2}\\right).$$\n在外加电压 $V_a$ 下，耗尽区上的总电势降为 $V = V_{bi} - V_a$。\n\n按如下方式以“精确的”操作意义定义耗尽边缘。在n型侧，耗尽区内的点 $x = x_n(\\alpha)$ 被定义为电子密度等于施主密度的固定比例 $\\alpha$ 的位置，即 $n\\!\\left(x_n(\\alpha)\\right) = \\alpha N_D$，其中 $0 < \\alpha < 1$。类似地，在p型侧，$x = -x_p(\\alpha)$ 被定义为 $p\\!\\left(-x_p(\\alpha)\\right) = \\alpha N_A$。使用耗尽近似静电学来描述耗尽区内的 $\\psi(x)$，这些定义引入了两个从经典耗尽边缘 $x_n$ 和 $x_p$（其中 $E=0$）向内测量的偏移量 $\\delta_n(\\alpha)$ 和 $\\delta_p(\\alpha)$，因此 $x_n(\\alpha) = x_n - \\delta_n(\\alpha)$ 且 $x_p(\\alpha) = x_p - \\delta_p(\\alpha)$。耗尽区的“$\\alpha$-宽度”则为\n$$W(\\alpha) \\;=\\; x_n(\\alpha) + x_p(\\alpha).$$\n\n任务 A (推导)：从上述基础出发，不借助任何额外的“捷径”公式，以闭合形式推导出以下表达式：\ni) 经典耗尽宽度 $x_n$ 和 $x_p$ 以及总耗尽宽度 $W_0 = x_n + x_p$，作为 $N_A$、$N_D$、$\\varepsilon_s$、$q$ 和总电势降 $V$ 的函数；\nii) 由多数载流子密度等于相应掺杂剂密度的 $\\alpha$ 倍这一条件所隐含的偏移量 $\\delta_n(\\alpha)$ 和 $\\delta_p(\\alpha)$，使用载流子密度与每侧相对于中性区边缘的电势之间的玻尔兹曼关系；\niii) 由此产生的 $W(\\alpha)$ 及其关于 $\\ln \\alpha$ 的导数，即 $S(\\alpha) = \\frac{\\partial W}{\\partial (\\ln \\alpha)}$；以及无量纲对数灵敏度 $S_{\\mathrm{rel}}(\\alpha) = \\frac{\\partial \\ln W}{\\partial \\ln \\alpha} = \\frac{S(\\alpha)}{W(\\alpha)}$。\n\n任务 B (编程)：实现一个程序，对下面的每个测试用例，使用任务 A 中推导出的表达式计算 $W(\\alpha)$、$S(\\alpha)$ 和 $S_{\\mathrm{rel}}(\\alpha)$。使用硅的参数，其中 $\\varepsilon_s = \\varepsilon_r \\varepsilon_0$，$\\varepsilon_r = 11.7$，$\\varepsilon_0 = 8.854\\,187\\,8128\\times 10^{-12}\\ \\mathrm{F/m}$，$q = 1.602\\,176\\,634\\times 10^{-19}\\ \\mathrm{C}$，$k_B = 1.380\\,649\\times 10^{-23}\\ \\mathrm{J/K}$，$T = 300\\ \\mathrm{K}$，$n_i = 1.0\\times 10^{10}\\ \\mathrm{cm^{-3}}$。在对数内部使用 $N_A$、$N_D$ 和 $n_i$ 时，您必须使用一致的单位，并在与 $\\varepsilon_s$ 一起计算长度时将密度转换为 $\\mathrm{m^{-3}}$。将最终的耗尽宽度 $W(\\alpha)$ 和绝对灵敏度 $S(\\alpha)$ 以 $\\mathrm{nm}$ 表示，相对灵敏度 $S_{\\mathrm{rel}}(\\alpha)$ 表示为无量纲数。将所有三个报告量四舍五入到恰好6位小数。\n\n测试套件（每个测试用例是一个元组 ($N_A, N_D, \\alpha, V_a$)，其中 $N_A$ 和 $N_D$ 的单位是 $\\mathrm{cm^{-3}}$，$\\alpha$ 无单位，$V_a$ 的单位是 $\\mathrm{V}$）：\n1) $(1.0\\times 10^{16},\\ 1.0\\times 10^{16},\\ 1.0\\times 10^{-3},\\ 0.0)$。\n2) $(1.0\\times 10^{18},\\ 1.0\\times 10^{15},\\ 1.0\\times 10^{-4},\\ 0.2)$。\n3) $(1.0\\times 10^{17},\\ 5.0\\times 10^{16},\\ 1.0\\times 10^{-2},\\ -2.0)$。\n4) $(1.0\\times 10^{15},\\ 1.0\\times 10^{15},\\ 9.0\\times 10^{-1},\\ 0.0)$。\n\n最终输出格式：您的程序应生成单行输出，包含一个逗号分隔的列表的列表，每个内层列表对应一个测试用例（顺序与上文相同），每个内层列表包含三个四舍五入的浮点数 $[W(\\alpha)\\ \\mathrm{(nm)},\\ S(\\alpha)\\ \\mathrm{(nm)},\\ S_{\\mathrm{rel}}(\\alpha)]$。例如，一个有效的形状是\n$$[[$w_1,s_1,r_1],[$w_2,s_2,r_2],[$w_3,s_3,r_3],[$w_4,s_4,r_4]].$$",
            "solution": "该问题已经过验证，被认为是科学上合理、提法得当且自洽的。这是半导体器件物理中的一个标准问题，它通过引入一种基于载流子密度的耗尽宽度定义，来探究耗尽近似的局限性。任务涉及从第一性原理进行严谨的推导，然后进行数值实现。\n\n### 任务 A：推导\n\n#### i) 经典耗尽宽度 ($x_n$, $x_p$, $W_0$)\n\n我们从泊松方程 $\\frac{dE}{dx} = \\frac{\\rho(x)}{\\varepsilon_s}$ 和空间电荷密度 $\\rho(x)$ 的耗尽近似开始。\n\n1.  **电场 $E(x)$**：\n    我们在空间电荷层的两个区域内对泊松方程进行积分。\n    *   对于p侧 ($-x_p \\le x \\le 0$)，$\\rho(x) = -qN_A$。从 $x$ 积分到 $0$：\n        $$E(0) - E(x) = \\int_x^0 \\frac{-qN_A}{\\varepsilon_s} dx' = \\frac{qN_A}{\\varepsilon_s}x$$\n        使用边界条件 $E(-x_p)=0$，我们可以找到峰值电场 $E(0) = -\\frac{qN_A}{\\varepsilon_s}x_p$。\n        因此，p区中的电场为 $E(x) = -\\frac{qN_A}{\\varepsilon_s}(x_p+x)$。\n    *   对于n侧 ($0 \\le x \\le x_n$)，$\\rho(x) = +qN_D$。从 $0$ 积分到 $x$：\n        $$E(x) - E(0) = \\int_0^x \\frac{qN_D}{\\varepsilon_s} dx' = \\frac{qN_D}{\\varepsilon_s}x$$\n        使用边界条件 $E(x_n)=0$，我们发现 $E(0) = -\\frac{qN_D}{\\varepsilon_s}x_n$。\n        因此，n区中的电场为 $E(x) = -\\frac{qN_D}{\\varepsilon_s}(x_n-x)$。\n\n2.  **电中性**：\n    $x=0$ 处电场的连续性要求 $E(0)$ 的两个表达式相等：\n    $$-\\frac{qN_A}{\\varepsilon_s}x_p = -\\frac{qN_D}{\\varepsilon_s}x_n \\implies N_A x_p = N_D x_n$$\n    这个关系表示了空间电荷区的整体电中性。\n\n3.  **电势降 $V$**：\n    耗尽区上的总电势降 $V = V_{bi} - V_a$ 是通过对电场积分得到的，因为 $E = -d\\psi/dx$：\n    $$V = \\psi(x_n) - \\psi(-x_p) = -\\int_{-x_p}^{x_n} E(x) dx = -\\left[\\int_{-x_p}^{0} E(x)dx + \\int_{0}^{x_n} E(x)dx\\right]$$\n    $$V = -\\left[\\int_{-x_p}^{0} -\\frac{qN_A}{\\varepsilon_s}(x_p+x)dx + \\int_{0}^{x_n} -\\frac{qN_D}{\\varepsilon_s}(x_n-x)dx\\right]$$\n    $$V = \\frac{qN_A}{\\varepsilon_s}\\left[x_p x + \\frac{x^2}{2}\\right]_{-x_p}^0 + \\frac{qN_D}{\\varepsilon_s}\\left[x_n x - \\frac{x^2}{2}\\right]_0^{x_n}$$\n    $$V = \\frac{qN_A}{\\varepsilon_s}\\left(0 - \\left(-x_p^2 + \\frac{x_p^2}{2}\\right)\\right) + \\frac{qN_D}{\\varepsilon_s}\\left(\\left(x_n^2 - \\frac{x_n^2}{2}\\right) - 0\\right)$$\n    $$V = \\frac{q}{2\\varepsilon_s}(N_A x_p^2 + N_D x_n^2)$$\n\n4.  **求解 $x_n, x_p, W_0$**：\n    我们解以下两个方程组成的方程组：$N_A x_p = N_D x_n$ 和 $V = \\frac{q}{2\\varepsilon_s}(N_A x_p^2 + N_D x_n^2)$。\n    将 $x_p = \\frac{N_D}{N_A}x_n$ 代入电压方程得到：\n    $$V = \\frac{q}{2\\varepsilon_s}\\left(N_A \\left(\\frac{N_D}{N_A}x_n\\right)^2 + N_D x_n^2\\right) = \\frac{qN_D x_n^2}{2\\varepsilon_s}\\left(\\frac{N_D}{N_A} + 1\\right) = \\frac{qN_D(N_A+N_D)}{2\\varepsilon_s N_A}x_n^2$$\n    解出 $x_n$：\n    $$x_n = \\sqrt{\\frac{2\\varepsilon_s V}{q} \\frac{N_A}{N_D(N_A+N_D)}}$$\n    根据对称性，解出 $x_p$：\n    $$x_p = \\sqrt{\\frac{2\\varepsilon_s V}{q} \\frac{N_D}{N_A(N_A+N_D)}}$$\n    总经典耗尽宽度 $W_0 = x_n + x_p$ 是：\n    $$W_0 = \\sqrt{\\frac{2\\varepsilon_s V}{q(N_A+N_D)}} \\left(\\sqrt{\\frac{N_A}{N_D}} + \\sqrt{\\frac{N_D}{N_A}}\\right) = \\sqrt{\\frac{2\\varepsilon_s V}{q(N_A+N_D)}} \\frac{N_A+N_D}{\\sqrt{N_A N_D}}$$\n    $$W_0 = \\sqrt{\\frac{2\\varepsilon_s V (N_A+N_D)}{q N_A N_D}} = \\sqrt{\\frac{2\\varepsilon_s V}{q}\\left(\\frac{1}{N_A}+\\frac{1}{N_D}\\right)}$$\n\n#### ii) 偏移量 $\\delta_n(\\alpha)$ 和 $\\delta_p(\\alpha)$\n\n我们使用基于载流子浓度的耗尽边缘的操作性定义。\n\n1.  **n侧的偏移量 $\\delta_n(\\alpha)$**：\n    定义为 $n(x_n(\\alpha)) = \\alpha N_D$。根据玻尔兹曼关系 $n(x) = N_D \\exp\\left(-\\frac{\\psi_n-\\psi(x)}{V_T}\\right)$，其中 $\\psi_n$ 是中性n区的电势。\n    $$\\alpha N_D = N_D \\exp\\left(-\\frac{\\psi_n-\\psi(x_n(\\alpha))}{V_T}\\right) \\implies \\psi_n-\\psi(x_n(\\alpha)) = -V_T\\ln\\alpha$$\n    在n侧耗尽区内（对于 $x \\le x_n$），电势差 $\\psi_n-\\psi(x)$ 可通过对 $d\\psi/dx = -E(x) = \\frac{qN_D}{\\varepsilon_s}(x_n-x)$ 积分得到：\n    $$\\psi_n - \\psi(x) = \\int_x^{x_n} \\frac{qN_D}{\\varepsilon_s}(x_n-x')dx' = \\frac{qN_D}{2\\varepsilon_s}(x_n-x)^2$$\n    在 $x = x_n(\\alpha) = x_n - \\delta_n(\\alpha)$ 处，电势降为：\n    $$\\psi_n - \\psi(x_n(\\alpha)) = \\frac{qN_D}{2\\varepsilon_s}(x_n - (x_n-\\delta_n(\\alpha)))^2 = \\frac{qN_D}{2\\varepsilon_s}\\delta_n(\\alpha)^2$$\n    令两个电势差的表达式相等：\n    $$\\frac{qN_D}{2\\varepsilon_s}\\delta_n(\\alpha)^2 = -V_T\\ln\\alpha \\implies \\delta_n(\\alpha) = \\sqrt{-\\frac{2\\varepsilon_sV_T}{qN_D}\\ln\\alpha}$$\n    (注意：由于 $0 < \\alpha < 1$ 意味着 $\\ln\\alpha < 0$，因此 $\\delta_n(\\alpha)$ 是实数且为正。)\n\n2.  **p侧的偏移量 $\\delta_p(\\alpha)$**：\n    对称地，定义为 $p(-x_p(\\alpha)) = \\alpha N_A$。玻尔兹曼关系为 $p(x) = N_A \\exp\\left(-\\frac{\\psi(x)-\\psi_p}{V_T}\\right)$。这意味着 $\\psi(-x_p(\\alpha))-\\psi_p = -V_T\\ln\\alpha$。\n    在p侧耗尽区内（对于 $x \\ge -x_p$），电势升高 $\\psi(x)-\\psi_p$ 可通过对 $d\\psi/dx = -E(x) = \\frac{qN_A}{\\varepsilon_s}(x_p+x)$ 积分得到：\n    $$\\psi(x) - \\psi_p = \\int_{-x_p}^{x} \\frac{qN_A}{\\varepsilon_s}(x_p+x')dx' = \\frac{qN_A}{2\\varepsilon_s}(x_p+x)^2$$\n    在 $x = -x_p(\\alpha) = -(x_p-\\delta_p(\\alpha)) = -x_p+\\delta_p(\\alpha)$ 处，电势升高为：\n    $$\\psi(-x_p(\\alpha)) - \\psi_p = \\frac{qN_A}{2\\varepsilon_s}(x_p + (-x_p+\\delta_p(\\alpha)))^2 = \\frac{qN_A}{2\\varepsilon_s}\\delta_p(\\alpha)^2$$\n    令电势差的表达式相等：\n    $$\\frac{qN_A}{2\\varepsilon_s}\\delta_p(\\alpha)^2 = -V_T\\ln\\alpha \\implies \\delta_p(\\alpha) = \\sqrt{-\\frac{2\\varepsilon_sV_T}{qN_A}\\ln\\alpha}$$\n\n#### iii) $W(\\alpha)$、$S(\\alpha)$ 和 $S_{\\mathrm{rel}}(\\alpha)$\n\n1.  **Alpha-宽度 $W(\\alpha)$**：\n    $\\alpha$-宽度定义为 $W(\\alpha) = x_n(\\alpha) + x_p(\\alpha)$。\n    $$W(\\alpha) = (x_n - \\delta_n(\\alpha)) + (x_p - \\delta_p(\\alpha)) = (x_n+x_p) - (\\delta_n(\\alpha) + \\delta_p(\\alpha))$$\n    $$W(\\alpha) = W_0 - (\\delta_n(\\alpha) + \\delta_p(\\alpha))$$\n    代入推导出的表达式：\n    $$W(\\alpha) = \\sqrt{\\frac{2\\varepsilon_s V}{q}\\left(\\frac{1}{N_A}+\\frac{1}{N_D}\\right)} - \\left(\\sqrt{-\\frac{2\\varepsilon_sV_T}{qN_A}\\ln\\alpha} + \\sqrt{-\\frac{2\\varepsilon_sV_T}{qN_D}\\ln\\alpha}\\right)$$\n    $$W(\\alpha) = \\sqrt{\\frac{2\\varepsilon_s V}{q}\\left(\\frac{1}{N_A}+\\frac{1}{N_D}\\right)} - \\sqrt{-\\frac{2\\varepsilon_sV_T \\ln\\alpha}{q}}\\left(\\frac{1}{\\sqrt{N_A}} + \\frac{1}{\\sqrt{N_D}}\\right)$$\n\n2.  **绝对灵敏度 $S(\\alpha)$**：\n    $S(\\alpha)$ 是 $W(\\alpha)$ 关于 $\\ln\\alpha$ 的导数。令 $u = \\ln\\alpha$。\n    $$S(\\alpha) = \\frac{\\partial W(\\alpha)}{\\partial u} = \\frac{\\partial}{\\partial u}\\left[W_0 - (\\delta_n(u) + \\delta_p(u))\\right]$$\n    由于 $W_0$ 与 $\\alpha$ 无关，其导数为零。\n    $$S(\\alpha) = - \\frac{\\partial}{\\partial u}(\\delta_n(u) + \\delta_p(u))$$\n    我们知道 $\\delta_k(u) \\propto \\sqrt{-u}$。其导数为 $\\frac{\\partial \\delta_k}{\\partial u} = \\frac{\\delta_k}{2u}$。\n    因此，\n    $$S(\\alpha) = - \\left( \\frac{\\partial\\delta_n}{\\partial u} + \\frac{\\partial\\delta_p}{\\partial u} \\right) = - \\left( \\frac{\\delta_n}{2u} + \\frac{\\delta_p}{2u} \\right) = - \\frac{\\delta_n(\\alpha) + \\delta_p(\\alpha)}{2\\ln\\alpha}$$\n\n3.  **相对灵敏度 $S_{\\mathrm{rel}}(\\alpha)$**：\n    相对灵敏度定义为 $S_{\\mathrm{rel}}(\\alpha) = \\frac{S(\\alpha)}{W(\\alpha)}$。\n    $$S_{\\mathrm{rel}}(\\alpha) = \\frac{-\\frac{\\delta_n(\\alpha) + \\delta_p(\\alpha)}{2\\ln\\alpha}}{W_0 - (\\delta_n(\\alpha) + \\delta_p(\\alpha))}$$\n    这些表达式现在已准备好用于数值实现。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the semiconductor p-n junction problem based on derived formulas.\n    \"\"\"\n\n    # Define fundamental constants with specified precision\n    eps_0 = 8.8541878128e-12  # F/m\n    eps_r_si = 11.7\n    q = 1.602176634e-19      # C\n    k_B = 1.380649e-23        # J/K\n    T = 300.0                 # K\n\n    # Silicon parameters\n    eps_s = eps_r_si * eps_0\n    n_i_cm3 = 1.0e10          # cm^-3\n    \n    # Thermal voltage\n    V_T = k_B * T / q\n\n    # Define the test cases from the problem statement.\n    # Each case is a tuple (N_A [cm^-3], N_D [cm^-3], alpha, V_a [V])\n    test_cases = [\n        (1.0e16, 1.0e16, 1.0e-3, 0.0),\n        (1.0e18, 1.0e15, 1.0e-4, 0.2),\n        (1.0e17, 5.0e16, 1.0e-2, -2.0),\n        (1.0e15, 1.0e15, 9.0e-1, 0.0),\n    ]\n\n    results = []\n    for case in test_cases:\n        N_A_cm3, N_D_cm3, alpha, V_a = case\n\n        # Convert densities from cm^-3 to m^-3 for calculations with SI units\n        N_A_m3 = N_A_cm3 * 1.0e6\n        N_D_m3 = N_D_cm3 * 1.0e6\n\n        # --- Calculations based on derived formulas ---\n\n        # 1. Potentials\n        # For V_bi, dopant and intrinsic densities must have consistent units (e.g., cm^-3)\n        V_bi = V_T * np.log((N_A_cm3 * N_D_cm3) / n_i_cm3**2)\n        V = V_bi - V_a\n        \n        # Check for invalid potential drop (e.g., strong forward bias)\n        if V = 0:\n            # Depletion approximation breaks down for V = 0.\n            # While the math might work, the physical model is invalid.\n            # However, the problem implies a direct calculation, so we proceed.\n            # For this problem, all V will be positive.\n            pass\n\n        # 2. Classical Depletion Width W_0\n        # Densities must be in m^-3\n        term_W0_sq = (2 * eps_s * V / q) * (1/N_A_m3 + 1/N_D_m3)\n        W_0 = np.sqrt(term_W0_sq)\n\n        # 3. Offsets delta_n and delta_p\n        ln_alpha = np.log(alpha)\n        \n        term_delta_n_sq = -2 * eps_s * V_T * ln_alpha / (q * N_D_m3)\n        delta_n = np.sqrt(term_delta_n_sq)\n        \n        term_delta_p_sq = -2 * eps_s * V_T * ln_alpha / (q * N_A_m3)\n        delta_p = np.sqrt(term_delta_p_sq)\n        \n        # 4. Corrected Width W(alpha)\n        W_alpha = W_0 - (delta_n + delta_p)\n        \n        # 5. Absolute Sensitivity S(alpha)\n        S_alpha = -(delta_n + delta_p) / (2 * ln_alpha)\n        \n        # 6. Relative Sensitivity S_rel(alpha)\n        # Avoid division by zero if W_alpha is zero, though unlikely\n        if W_alpha != 0:\n            S_rel_alpha = S_alpha / W_alpha\n        else:\n            S_rel_alpha = np.nan # Should not happen in this problem\n\n        # --- Unit Conversion and Rounding ---\n        \n        # Convert widths from meters to nanometers\n        W_alpha_nm = W_alpha * 1.0e9\n        S_alpha_nm = S_alpha * 1.0e9\n        \n        # Round all three quantities to 6 decimal places\n        w_rounded = round(W_alpha_nm, 6)\n        s_rounded = round(S_alpha_nm, 6)\n        r_rounded = round(S_rel_alpha, 6)\n        \n        results.append([w_rounded, s_rounded, r_rounded])\n\n    # Final print statement in the exact required format: [[w1,s1,r1],[w2,s2,r2],...]\n    # Using str().replace() to achieve the required compact format.\n    print(str(results).replace(\" \", \"\"))\n\nsolve()\n\n```"
        }
    ]
}