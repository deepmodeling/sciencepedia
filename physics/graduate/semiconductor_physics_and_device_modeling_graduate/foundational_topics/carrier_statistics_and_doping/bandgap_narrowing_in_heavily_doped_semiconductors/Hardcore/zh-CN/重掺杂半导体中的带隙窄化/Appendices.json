{
    "hands_on_practices": [
        {
            "introduction": "带隙变窄最直接、最根本的后果是其对本征载流子浓度 $n_i$ 的影响。由于 $n_i$ 与带隙能量 $E_g$ 呈指数关系，即使带隙发生微小的缩减，也会导致 $n_i$ 的显著增加。这项练习旨在通过推导和计算，量化这一关键关系，帮助你深入理解带隙变窄效应的量级及其对半导体基本性质的改变。",
            "id": "3730688",
            "problem": "考虑一个在温度 $T=300\\,\\mathrm{K}$ 下的非简并、重掺杂半导体，其中导带和价带的有效状态密度 $N_c(T)$ 和 $N_v(T)$ 已知，并假定在所关心的温度范围内，它们不受带隙重整化的影响而保持不变（为具体起见，您可以采用硅在 $300\\,\\mathrm{K}$ 时的典型值，$N_c(300\\,\\mathrm{K})=2.8\\times 10^{19}\\,\\mathrm{cm}^{-3}$ 和 $N_v(300\\,\\mathrm{K})=1.04\\times 10^{19}\\,\\mathrm{cm}^{-3}$，尽管计算不应依赖于其具体的数值）。平衡本征载流子浓度 $n_i$ 通过平衡统计学，根据带隙 $E_g$ 和有效状态密度来定义。在重掺杂样品中，多体相互作用导致带隙变窄（BGN），其模型为带隙减小了 $\\Delta E_g$，因此有效带隙变为 $E_g^{\\mathrm{eff}}=E_g^{0}-\\Delta E_g$，其中 $E_g^{0}$ 是未受扰动的带隙。\n\n仅使用基本的平衡半导体统计学和标准定义，推导比率 $n_i^{\\mathrm{BGN}}/n_i^{0}$ 的表达式，其中 $n_i^{\\mathrm{BGN}}$ 是存在带隙变窄时的本征载流子浓度，$n_i^{0}$ 是未受扰动带隙的本征载流子浓度。然后在 $T=300\\,\\mathrm{K}$ 和 $\\Delta E_g=80\\,\\mathrm{meV}$ 的条件下，对该比率进行数值计算，将 $\\Delta E_g$ 以 $\\mathrm{eV}$ 表示，并使用单位为 $\\mathrm{eV}/\\mathrm{K}$ 的玻尔兹曼常数 $k_B$。将最终比率表示为一个纯数（无单位小数），并将答案四舍五入到四位有效数字。在您的推导中，清楚地说明非简并统计和处理 $N_c(T)$ 与 $N_v(T)$ 所需的任何假设，并简要解释计算出的比率在重掺杂半导体背景下的量级。",
            "solution": "该问题要求推导存在带隙变窄（BGN）时的本征载流子浓度与未受扰动时的本征载流子浓度之比，并在指定条件下对该比率进行数值计算。\n\n推导始于热平衡状态下非简并半导体的导带电子浓度 $n$ 和价带空穴浓度 $p$ 的基本表达式。非简并半导体是指费米能级 $E_F$ 位于带隙内，且距离导带底 $E_c$ 和价带顶 $E_v$ 都足够远。该条件 $(E_c - E_F) \\gg k_B T$ 和 $(E_F - E_v) \\gg k_B T$（其中 $k_B$ 是玻尔兹曼常数，$T$ 是绝对温度）允许使用麦克斯韦-玻尔兹曼分布来近似费米-狄拉克分布。在此假设下，载流子浓度由下式给出：\n$$n = N_c(T) \\exp\\left(-\\frac{E_c - E_F}{k_B T}\\right)$$\n$$p = N_v(T) \\exp\\left(-\\frac{E_F - E_v}{k_B T}\\right)$$\n其中 $N_c(T)$ 和 $N_v(T)$ 分别是导带和价带的有效状态密度。\n\n电子和空穴浓度的乘积被称为质量作用定律。将上述两个表达式相乘，我们得到：\n$$np = \\left(N_c(T) \\exp\\left(-\\frac{E_c - E_F}{k_B T}\\right)\\right) \\left(N_v(T) \\exp\\left(-\\frac{E_F - E_v}{k_B T}\\right)\\right)$$\n$$np = N_c(T) N_v(T) \\exp\\left(-\\frac{E_c - E_F + E_F - E_v}{k_B T}\\right)$$\n指数中的项简化为 $E_c - E_v$，根据定义，它就是带隙能量 $E_g$。\n$$np = N_c(T) N_v(T) \\exp\\left(-\\frac{E_g}{k_B T}\\right)$$\n对于非简并半导体，在给定温度下，该乘积是一个常数，与掺杂浓度或费米能级的位置无关。\n\n本征载流子浓度 $n_i$ 是为本征（未掺杂）半导体定义的，其中电子浓度等于空穴浓度，$n = p = n_i$。将此代入质量作用定律，得到：\n$$n_i^2 = N_c(T) N_v(T) \\exp\\left(-\\frac{E_g}{k_B T}\\right)$$\n取平方根，得到本征载流子浓度的表达式：\n$$n_i = \\sqrt{N_c(T) N_v(T)} \\exp\\left(-\\frac{E_g}{2 k_B T}\\right)$$\n这个基本关系将本征载流子浓度与材料的带隙和有效状态密度联系起来。\n\n现在，我们将此公式应用于问题中描述的两种情况。\n首先，对于未受扰动的半导体，其带隙为 $E_g = E_g^0$。相应的本征载流子浓度为 $n_i^0$：\n$$n_i^0 = \\sqrt{N_c(T) N_v(T)} \\exp\\left(-\\frac{E_g^0}{2 k_B T}\\right)$$\n\n其次，在存在带隙变窄的情况下，有效带隙变为 $E_g^{\\mathrm{eff}} = E_g^0 - \\Delta E_g$。问题陈述了 $N_c(T)$ 和 $N_v(T)$ 不受此过程影响的假设。因此，这种情况下的本征载流子浓度 $n_i^{\\mathrm{BGN}}$ 为：\n$$n_i^{\\mathrm{BGN}} = \\sqrt{N_c(T) N_v(T)} \\exp\\left(-\\frac{E_g^{\\mathrm{eff}}}{2 k_B T}\\right) = \\sqrt{N_c(T) N_v(T)} \\exp\\left(-\\frac{E_g^0 - \\Delta E_g}{2 k_B T}\\right)$$\n\n为了求得所需比率 $n_i^{\\mathrm{BGN}}/n_i^0$，我们将第二个表达式除以第一个表达式：\n$$\\frac{n_i^{\\mathrm{BGN}}}{n_i^0} = \\frac{\\sqrt{N_c(T) N_v(T)} \\exp\\left(-\\frac{E_g^0 - \\Delta E_g}{2 k_B T}\\right)}{\\sqrt{N_c(T) N_v(T)} \\exp\\left(-\\frac{E_g^0}{2 k_B T}\\right)}$$\n指数前因子 $\\sqrt{N_c(T) N_v(T)}$ 被消去。我们可以将分子中的指数项分开：\n$$\\frac{n_i^{\\mathrm{BGN}}}{n_i^0} = \\frac{\\exp\\left(-\\frac{E_g^0}{2 k_B T}\\right) \\exp\\left(\\frac{\\Delta E_g}{2 k_B T}\\right)}{\\exp\\left(-\\frac{E_g^0}{2 k_B T}\\right)}$$\n这简化为比率的最终解析表达式：\n$$\\frac{n_i^{\\mathrm{BGN}}}{n_i^0} = \\exp\\left(\\frac{\\Delta E_g}{2 k_B T}\\right)$$\n该表达式表明，该比率与归一化到两倍热能 $k_B T$ 的带隙变窄量 $\\Delta E_g$ 呈指数关系。值得注意的是，只要 $N_c$ 和 $N_v$ 被视为常数，结果就与未受扰动的带隙 $E_g^0$ 以及 $N_c$ 和 $N_v$ 的具体值无关。\n\n接下来，我们进行数值计算。给定的值为：\n- 带隙变窄：$\\Delta E_g = 80\\,\\mathrm{meV} = 0.080\\,\\mathrm{eV}$\n- 温度：$T = 300\\,\\mathrm{K}$\n- 玻尔兹曼常数：$k_B \\approx 8.617333 \\times 10^{-5}\\,\\mathrm{eV}/\\mathrm{K}$\n\n首先，我们计算热能 $k_B T$：\n$$k_B T = (8.617333 \\times 10^{-5}\\,\\mathrm{eV}/\\mathrm{K}) \\times (300\\,\\mathrm{K}) \\approx 0.025852\\,\\mathrm{eV}$$\n现在，我们可以计算指数函数的参数：\n$$\\frac{\\Delta E_g}{2 k_B T} = \\frac{0.080\\,\\mathrm{eV}}{2 \\times 0.025852\\,\\mathrm{eV}} \\approx \\frac{0.080}{0.051704} \\approx 1.54728$$\n最后，我们计算比率：\n$$\\frac{n_i^{\\mathrm{BGN}}}{n_i^0} = \\exp(1.54728) \\approx 4.69863$$\n按要求四舍五入到四位有效数字，该比率为 $4.699$。\n\n该比率的量级远大于1，表明在室温下 $80\\,\\mathrm{meV}$ 的带隙变窄导致本征载流子浓度增加了近五倍。这是 $n_i$ 对带隙能量呈指数依赖的直接结果。更小的带隙意味着通过将电子从价带激发到导带以产生电子-空穴对所需的热能更少。因此，在任何给定温度下，此类对的平衡浓度都显著更高。在重掺杂半导体器件中，例如双极结型晶体管的发射区，这种效应至关重要，因为高掺杂水平会导致显著的 BGN。由此导致的 $n_i^2$ 增加直接影响注入条件下的少数载流子浓度，并且是决定器件性能（如电流增益）的主导因素。",
            "answer": "$$\\boxed{4.699}$$"
        },
        {
            "introduction": "在理解了带隙变窄如何影响本征载流子浓度后，我们进一步探讨这一效应对 p-n 结这一基本半导体器件特性的影响。p-n 结的内建电势 $V_{bi}$ 由掺杂浓度和本征载流子浓度共同决定，因此带隙变窄会通过改变重掺杂区的有效 $n_i$ 来改变内建电势，进而影响结电容等静电特性。通过这项练习，你将计算这些变化，从而直观地看到带隙变窄对器件物理参数的实际影响。",
            "id": "3730642",
            "problem": "一个均匀掺杂的、单边突变浅结硅 $p^{+}n$ 二极管，在温度 $T=300\\,\\mathrm{K}$ 时，其 p 区的受主浓度为 $N_{A}=1.0\\times 10^{19}\\,\\mathrm{cm^{-3}}$，n 区的施主浓度为 $N_{D}=1.0\\times 10^{16}\\,\\mathrm{cm^{-3}}$。假设耗尽近似、非简并载流子统计成立，并且静电内建电势是由费米能级对准产生的，且每个中性区都处于局部准平衡状态。设在 $T=300\\,\\mathrm{K}$ 时，硅的本征载流子浓度为 $n_{i}=1.0\\times 10^{10}\\,\\mathrm{cm^{-3}}$，基本电荷为 $q=1.602176634\\times 10^{-19}\\,\\mathrm{C}$，硅的介电常数为 $\\epsilon_{s}=11.7\\,\\epsilon_{0}$，其中 $\\epsilon_{0}=8.854187817\\times 10^{-14}\\,\\mathrm{F/cm}$。\n\n在 $p$ 区，当 $N_{A}=1.0\\times 10^{19}\\,\\mathrm{cm^{-3}}$ 时，通过将 $300\\,\\mathrm{K}$ 下的局部带隙减小 $\\Delta E_{g}^{p}=0.10\\,\\mathrm{eV}$ 来模拟带隙变窄（BGN）效应，并伴有对称的带边移动（导带边降低和价带边升高各 $\\Delta E_{g}^{p}/2$），同时假设 $n$ 区的带隙变窄效应可以忽略不计。仅通过带隙变窄对 $p$ 区局部本征载流子浓度的影响来处理 BGN 效应。\n\n从载流子浓度与费米能级的关系定义以及结的耗尽近似出发，确定在考虑 BGN 效应时，相对于不考虑 BGN 的情况，内建电势的变化量 $\\Delta V_{bi}$ 和相应的单位面积零偏压耗尽电容的变化量 $\\Delta C'_{0}$。将 $\\Delta V_{bi}$ 以伏特（V）为单位表示，$\\Delta C'_{0}$ 以 $\\mathrm{F/cm^{2}}$ 为单位表示。将你的答案四舍五入到四位有效数字。",
            "solution": "本问题要求计算一个硅 $p^{+}n$ 结在考虑重掺杂 $p$ 区的带隙变窄（BGN）效应时，内建电势的变化量（$\\Delta V_{bi}$）和单位面积零偏压耗尽电容的变化量（$\\Delta C'_{0}$）。求解过程的结构如下：首先计算不考虑 BGN 时的结特性，然后按照规定引入 BGN 效应，最后确定所求物理量的变化量。\n\n该分析在耗尽近似、非简并载流子统计以及中性区准平衡的明确假设下进行。我们注意到，非简并统计的假设是一个简化，因为受主浓度 $N_{A} = 1.0 \\times 10^{19}\\,\\mathrm{cm^{-3}}$ 与硅在 $T=300\\,\\mathrm{K}$ 时价带的有效状态密度相当。然而，我们将按照问题陈述的指示进行。\n\n热电压 $V_T$ 定义为 $V_T = k_B T/q$，其中 $k_B$ 是玻尔兹曼常数，$T$ 是绝对温度，$q$ 是基本电荷。在 $T=300\\,\\mathrm{K}$ 时，使用给定的 $q$ 值和 $k_B=1.380649 \\times 10^{-23}\\,\\mathrm{J/K}$，热电压为：\n$$V_T = \\frac{k_B T}{q} = \\frac{(1.380649 \\times 10^{-23}\\,\\mathrm{J/K})(300\\,\\mathrm{K})}{1.602176634 \\times 10^{-19}\\,\\mathrm{C}} \\approx 0.025852\\,\\mathrm{V}$$\n\n**第一部分：不考虑带隙变窄的分析**\n\n内建电势 $V_{bi}$ 是由跨结的费米能级（$E_F$）对准产生的。在中性区，根据非简并统计和完全电离的假设，载流子浓度与本征能级（$E_i$）和费米能级的关系如下：\n在 $n$ 区： $n_n \\approx N_D = n_i \\exp\\left(\\frac{E_F - E_{i,n}}{k_B T}\\right)$\n在 $p$ 区： $p_p \\approx N_A = n_i \\exp\\left(\\frac{E_{i,p} - E_F}{k_B T}\\right)$\n\n内建电势是中性区中本征能级之差除以基本电荷：$V_{bi} = (E_{i,p} - E_{i,n})/q$。综合这些关系式，得到内建电势的标准表达式：\n$$V_{bi, \\text{no BGN}} = V_T \\ln\\left(\\frac{N_A N_D}{n_i^2}\\right)$$\n代入给定值：\n$$N_A = 1.0 \\times 10^{19}\\,\\mathrm{cm^{-3}}$$\n$$N_D = 1.0 \\times 10^{16}\\,\\mathrm{cm^{-3}}$$\n$$n_i = 1.0 \\times 10^{10}\\,\\mathrm{cm^{-3}}$$\n$$V_{bi, \\text{no BGN}} = V_T \\ln\\left(\\frac{(1.0 \\times 10^{19})(1.0 \\times 10^{16})}{(1.0 \\times 10^{10})^2}\\right) = V_T \\ln(10^{15}) = 15 \\ln(10) V_T$$\n$$V_{bi, \\text{no BGN}} \\approx (15)(2.302585)(0.025852\\,\\mathrm{V}) \\approx 0.89278\\,\\mathrm{V}$$\n\n**第二部分：考虑带隙变窄的分析**\n\n问题陈述，BGN 发生在 $p$ 区，其大小为 $\\Delta E_{g}^{p}=0.10\\,\\mathrm{eV}$，其效应应完全通过局部本征载流子密度来建模。本征载流子浓度（$n_i$）与带隙（$E_g$）的关系为 $n_i^2 \\propto \\exp(-E_g/k_B T)$。带隙减小 $\\Delta E_g^p$ 会导致 $p$ 区出现一个有效的本征载流子浓度 $n_{ie,p}$：\n$$n_{ie,p}^2 = n_i^2 \\exp\\left(\\frac{\\Delta E_g^p}{k_B T}\\right)$$\n$$n_{ie,p} = n_i \\exp\\left(\\frac{\\Delta E_g^p}{2k_B T}\\right)$$\n$n$ 区不受影响，因此其本征浓度仍为 $n_i$。现在，内建电势由费米能级的对准决定，其中中性区的载流子浓度与不同的局部本征浓度相关：\n$$V_{bi, \\text{BGN}} = V_T \\ln\\left(\\frac{N_A}{n_{ie,p}}\\right) + V_T \\ln\\left(\\frac{N_D}{n_i}\\right) = V_T \\ln\\left(\\frac{N_A N_D}{n_i n_{ie,p}}\\right)$$\n内建电势的变化量 $\\Delta V_{bi}$ 是有 BGN 的情况和没有 BGN 的情况之间的差值：\n$$\\Delta V_{bi} = V_{bi, \\text{BGN}} - V_{bi, \\text{no BGN}} = V_T \\ln\\left(\\frac{N_A N_D}{n_i n_{ie,p}}\\right) - V_T \\ln\\left(\\frac{N_A N_D}{n_i^2}\\right)$$\n$$\\Delta V_{bi} = V_T \\ln\\left(\\frac{n_i^2}{n_i n_{ie,p}}\\right) = V_T \\ln\\left(\\frac{n_i}{n_{ie,p}}\\right)$$\n代入 $n_{ie,p}$ 的表达式：\n$$\\Delta V_{bi} = V_T \\ln\\left(\\frac{n_i}{n_i \\exp\\left(\\frac{\\Delta E_g^p}{2k_B T}\\right)}\\right) = V_T \\ln\\left(\\exp\\left(-\\frac{\\Delta E_g^p}{2k_B T}\\right)\\right) = -\\frac{\\Delta E_g^p}{2q}$$\n这个非常简洁的结果表明，内建电势的减小量等于带隙变窄电压当量的一半。数值上：\n$$\\Delta V_{bi} = -\\frac{0.10\\,\\mathrm{eV}}{2q} = -0.05\\,\\mathrm{V}$$\n保留四位有效数字，即 $\\Delta V_{bi} = -0.05000\\,\\mathrm{V}$。\n\n新的内建电势为：\n$$V_{bi, \\text{BGN}} = V_{bi, \\text{no BGN}} + \\Delta V_{bi} \\approx 0.89278\\,\\mathrm{V} - 0.05\\,\\mathrm{V} = 0.84278\\,\\mathrm{V}$$\n\n**第三部分：耗尽电容的变化**\n\n单位面积的零偏压耗尽电容 $C'_0$ 由 $C'_0 = \\epsilon_s / W_0$ 给出，其中 $W_0$ 是零偏压下耗尽区的总宽度。对于单边 $p^{+}n$ 结（$N_A \\gg N_D$），耗尽区宽度几乎完全位于轻掺杂的 $n$ 区，由下式给出：\n$$W_0 \\approx \\sqrt{\\frac{2 \\epsilon_s V_{bi}}{q N_D}}$$\n因此，单位面积电容为：\n$$C'_0 = \\sqrt{\\frac{q \\epsilon_s N_D}{2 V_{bi}}}$$\n电容的变化量 $\\Delta C'_{0}$ 为：\n$$\\Delta C'_{0} = C'_{0, \\text{BGN}} - C'_{0, \\text{no BGN}} = \\sqrt{\\frac{q \\epsilon_s N_D}{2}} \\left( \\frac{1}{\\sqrt{V_{bi, \\text{BGN}}}} - \\frac{1}{\\sqrt{V_{bi, \\text{no BGN}}}} \\right)$$\n首先，我们计算必要的常数：\n硅的介电常数为 $\\epsilon_s = 11.7 \\epsilon_0 = 11.7 \\times (8.854187817 \\times 10^{-14}\\,\\mathrm{F/cm}) \\approx 1.03594 \\times 10^{-12}\\,\\mathrm{F/cm}$。\n前置因子为：\n$$\\sqrt{\\frac{q \\epsilon_s N_D}{2}} = \\sqrt{\\frac{(1.602176634 \\times 10^{-19})(1.03594 \\times 10^{-12})(1.0 \\times 10^{16})}{2}} \\approx 2.88257 \\times 10^{-8}\\,\\mathrm{F \\cdot V^{1/2} / cm^2}$$\n现在，我们计算电容值：\n$$C'_{0, \\text{no BGN}} = \\frac{2.88257 \\times 10^{-8}}{\\sqrt{0.89278}} \\approx 3.0507 \\times 10^{-8}\\,\\mathrm{F/cm^2}$$\n$$C'_{0, \\text{BGN}} = \\frac{2.88257 \\times 10^{-8}}{\\sqrt{0.84278}} \\approx 3.1400 \\times 10^{-8}\\,\\mathrm{F/cm^2}$$\n电容的变化量为：\n$$\\Delta C'_{0} = (3.1400 \\times 10^{-8} - 3.0507 \\times 10^{-8})\\,\\mathrm{F/cm^2} = 0.0893 \\times 10^{-8}\\,\\mathrm{F/cm^2}$$\n$$\\Delta C'_{0} = 8.93 \\times 10^{-10}\\,\\mathrm{F/cm^2}$$\n使用更高精度的中间值：\n$V_{bi, \\text{no BGN}} = 0.8927828\\,\\mathrm{V}$\n$V_{bi, \\text{BGN}} = 0.8427828\\,\\mathrm{V}$\n$\\sqrt{\\frac{q \\epsilon_s N_D}{2}} = 2.8825672 \\times 10^{-8}\\,\\mathrm{F \\cdot V^{1/2} / cm^2}$\n$C'_{0, \\text{no BGN}} = 3.050730 \\times 10^{-8}\\,\\mathrm{F/cm^2}$\n$C'_{0, \\text{BGN}} = 3.140026 \\times 10^{-8}\\,\\mathrm{F/cm^2}$\n$\\Delta C'_{0} = (3.140026 - 3.050730) \\times 10^{-8} = 0.089296 \\times 10^{-8} = 8.9296 \\times 10^{-10}\\,\\mathrm{F/cm^2}$。\n四舍五入到四位有效数字，$\\Delta C'_{0} = 8.930 \\times 10^{-10}\\,\\mathrm{F/cm^2}$。",
            "answer": "$$\\boxed{\\begin{pmatrix} -0.05000  8.930 \\times 10^{-10} \\end{pmatrix}}$$"
        },
        {
            "introduction": "在前面的练习中，我们将带隙变窄的量值 $\\Delta E_g$ 作为一个给定的参数。然而在实际研究和应用中，这个值必须通过实验来确定。本练习模拟了一个典型的实验数据分析流程：首先，通过拟合本征半导体的实验数据，建立带隙随温度变化的基准模型（Varshni 模型）；然后，从重掺杂半导体的测量数据中减去这个基准，从而精确地提取出由重掺杂引起的带隙变窄量。这项计算实践将让你体验如何从实验数据中提取关键物理参数，架起理论模型与实验表征之间的桥梁。",
            "id": "3730709",
            "problem": "一种非掺杂半导体表现出带隙能量的本征温度依赖性，这可以由瓦什尼关系（Varshni relation）很好地描述。瓦什尼关系是一个广为接受的经验模型，其基础是声子相互作用和热晶格膨胀。设本征带隙由模型 $E_g(T) = E_g(0) - \\alpha \\, T^2/(T + \\beta)$ 描述，其中 $E_g(0)$、$\\alpha$ 和 $\\beta$ 是材料参数。在重掺杂半导体中，多体相互作用（载流子-载流子和载流子-杂质的交换与关联）导致观测到的带隙有效减小，这种现象称为带隙变窄。设重掺杂下测得的有效带隙为 $E_g^{\\mathrm{eff}}(T)$；那么，在选定的参考温度 $T_{\\mathrm{ref}}$ 附近，带隙变窄可以近似为一个与温度无关的偏移量 $\\Delta E_g$，从而在一个适度的温度范围内得到关系式 $E_g^{\\mathrm{eff}}(T) \\approx E_g(T) - \\Delta E_g$。目标是通过拟合本征趋势并从测量的有效带隙中减去该趋势，来提取指定参考温度下的 $\\Delta E_g$。\n\n从能带边缘、载流子的费米-狄拉克统计以及因相互作用引起的准粒子重整化等基本定义出发，假设以下步骤有效：首先，将本征模型 $E_g(T)$ 与轻掺杂或非掺杂的参考测量数据进行拟合，以估计 $E_g(0)$、$\\alpha$ 和 $\\beta$；其次，使用拟合的参数计算 $E_g(T_{\\mathrm{ref}})$；第三，计算 $\\Delta E_g(T_{\\mathrm{ref}}) = E_g(T_{\\mathrm{ref}}) - E_g^{\\mathrm{eff}}(T_{\\mathrm{ref}})$。$E_g(0)$、$\\alpha$ 和 $\\beta$ 的估计必须通过非线性最小二乘法来最小化本征模型 $E_g(T)$ 与参考测量数据之间的残差平方和来执行。所有能量必须以电子伏特 (eV) 表示，所有温度必须以开尔文 (K) 表示，最终结果必须报告为代表 eV 的十进制浮点数。所有测试用例的参考温度为 $T_{\\mathrm{ref}} = 300 \\,\\mathrm{K}$。\n\n您的程序必须为每个测试用例实现这种拟合和减法过程，并生成一行输出，其中包含为每个用例提取的 $\\Delta E_g(T_{\\mathrm{ref}})$，格式为方括号内以逗号分隔的列表。报告的每个值必须四舍五入到小数点后六位，单位为电子伏特。不允许有其他输出。\n\n测试套件包括三个用例，每个用例包括：\n- 用于拟合 $E_g(0)$、$\\alpha$ 和 $\\beta$ 的参考本征数据集 $\\{(T_i, E_{g,i})\\}$，\n- 一个重掺杂数据集 $\\{(T_j, E^{\\mathrm{eff}}_{g,j})\\}$，其测量在相同的温度点进行，并包括 $T_{\\mathrm{ref}}$，\n- 参考温度 $T_{\\mathrm{ref}}$。\n\n请完全按照下面指定的数据集使用。\n\n测试用例 $\\mathrm{A}$：\n- 温度点 (K)：$[200, 250, 300, 350, 400]$。\n- 参考本征带隙 (eV)：$[1.147370, 1.136639, 1.124519, 1.111235, 1.096950]$。\n- 重掺杂有效带隙 (eV)：$[1.097370, 1.086639, 1.074519, 1.061235, 1.046950]$。\n- 参考温度 (K)：$300$。\n\n测试用例 $\\mathrm{B}$：\n- 温度点 (K)：$[100, 200, 300, 400, 500]$。\n- 参考本征带隙 (eV)：$[1.112500, 1.094286, 1.069375, 1.040000, 1.007500]$。\n- 重掺杂有效带隙 (eV)：$[1.012500, 0.994286, 0.969375, 0.940000, 0.907500]$。\n- 参考温度 (K)：$300$。\n\n测试用例 $\\mathrm{C}$（含噪声的测量）：\n- 温度点 (K)：$[100, 150, 200, 250, 300]$。\n- 带微小测量噪声的参考本征带隙 (eV)：$[1.501720, 1.483946, 1.466485, 1.444256, 1.423382]$。\n- 带微小测量噪声的重掺杂有效带隙 (eV)：$[1.472420, 1.453346, 1.436285, 1.413556, 1.393482]$。\n- 参考温度 (K)：$300$。\n\n算法要求：\n- 对于每个测试用例，通过在物理上合理的界限 $E_g(0) \\in [0.5, 2.5]$ (eV)、$\\alpha \\in [10^{-5}, 10^{-3}]$ (eV/K) 和 $\\beta \\in [10, 3000]$ (K) 下最小化 $\\sum_i \\left[E_{g,i} - \\left(E_g(0) - \\alpha \\, T_i^2/(T_i + \\beta)\\right)\\right]^2$ 来拟合参数 $E_g(0)$、$\\alpha$ 和 $\\beta$。\n- 评估拟合的 $E_g(T_{\\mathrm{ref}})$ 并如上所述计算 $\\Delta E_g(T_{\\mathrm{ref}})$。\n- 以电子伏特为单位报告所有 $\\Delta E_g(T_{\\mathrm{ref}})$ 值，四舍五入到小数点后六位。\n\n最终输出格式：\n您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表形式的结果，例如 $\\left[\\delta_1,\\delta_2,\\delta_3\\right]$，其中每个 $\\delta_k$ 是第 $k$ 个测试用例提取的 $\\Delta E_g(T_{\\mathrm{ref}})$，单位为电子伏特，四舍五入到小数点后六位。",
            "solution": "问题陈述已经过严格验证，并被认为是有效的。它在科学上基于半导体物理学，数学上是适定的、客观的，并为其解决提供了一套完整且一致的数据和约束。\n\n该问题要求计算在参考温度 $T_{\\mathrm{ref}}$ 下，重掺杂半导体中的带隙变窄效应 $\\Delta E_g$。该过程基于测量的有效带隙 $E_g^{\\mathrm{eff}}(T)$ 与本征带隙模型 $E_g(T)$ 之间的比较。\n\n本征带隙对温度的依赖性由瓦什尼关系（Varshni relation）建模：\n$$\nE_g(T) = E_g(0) - \\frac{\\alpha T^2}{T + \\beta}\n$$\n其中 $E_g(0)$ 是绝对零度时的带隙，而 $\\alpha$ 和 $\\beta$ 是材料特定的系数。参数 $(E_g(0), \\alpha, \\beta)$ 是未知的，必须从实验数据中确定。\n\n带隙变窄 $\\Delta E_g$ 被定义为由于重掺杂导致的带隙减小。在参考温度 $T_{\\mathrm{ref}}$ 附近，它被近似为一个恒定的偏移量：\n$$\nE_g^{\\mathrm{eff}}(T) \\approx E_g(T) - \\Delta E_g\n$$\n目标是计算在 $T_{\\mathrm{ref}} = 300 \\, \\mathrm{K}$ 时的 $\\Delta E_g$。在该特定温度下重新排列关系式可得：\n$$\n\\Delta E_g(T_{\\mathrm{ref}}) = E_g(T_{\\mathrm{ref}}) - E_g^{\\mathrm{eff}}(T_{\\mathrm{ref}})\n$$\n$E_g^{\\mathrm{eff}}(T_{\\mathrm{ref}})$ 的值在重掺杂测量数据集中直接提供。然而，$E_g(T_{\\mathrm{ref}})$ 的值依赖于瓦什尼参数，这些参数必须首先被估计出来。\n\n为每个测试用例确定 $\\Delta E_g(T_{\\mathrm{ref}})$ 的过程如下：\n\n**第1步：本征带隙模型的参数估计**\n对于每个测试用例，我们都给定了一组本征带隙的参考测量值 $\\{(T_i, E_{g,i})\\}$。瓦什尼参数 $p = (E_g(0), \\alpha, \\beta)$ 通过将模型与这些数据进行拟合来确定。这是通过非线性最小二乘法实现的。目标是找到最小化残差平方和 $S(p)$ 的参数矢量 $\\hat{p}$：\n$$\n\\hat{p} = \\arg\\min_{p} S(p) = \\arg\\min_{p} \\sum_{i} \\left[ E_{g,i} - \\left( E_g(0) - \\frac{\\alpha T_i^2}{T_i + \\beta} \\right) \\right]^2\n$$\n该优化在所提供的具有物理意义的界限下进行：\n*   $E_g(0) \\in [0.5, 2.5] \\, \\mathrm{eV}$\n*   $\\alpha \\in [10^{-5}, 10^{-3}] \\, \\mathrm{eV/K}$\n*   $\\beta \\in [10, 3000] \\, \\mathrm{K}$\n\n这个有界非线性优化问题将使用 `scipy.optimize.least_squares` 函数进行数值求解，该函数非常适合此类任务。\n\n**第2步：带隙变窄的计算**\n一旦通过拟合确定了最优参数 $\\hat{p} = (\\hat{E}_g(0), \\hat{\\alpha}, \\hat{\\beta})$，就可以计算参考温度 $T_{\\mathrm{ref}} = 300 \\, \\mathrm{K}$ 下的本征带隙：\n$$\nE_g(T_{\\mathrm{ref}}) = \\hat{E}_g(0) - \\frac{\\hat{\\alpha} T_{\\mathrm{ref}}^2}{T_{\\mathrm{ref}} + \\hat{\\beta}}\n$$\n然后，我们从提供的重掺杂测量数据集中识别有效带隙的实验值 $E_g^{\\mathrm{eff}}(T_{\\mathrm{ref}})$。这是对应于 $T_j = T_{\\mathrm{ref}}$ 的测量值。\n\n最后，通过从建模的本征带隙中减去测量的有效带隙来计算参考温度下的带隙变窄：\n$$\n\\Delta E_g(T_{\\mathrm{ref}}) = E_g(T_{\\mathrm{ref}}) - E_g^{\\mathrm{eff}}(T_{\\mathrm{ref}})\n$$\n对三个测试用例中的每一个重复此计算。最终结果四舍五入到小数点后六位，并以指定的格式呈现。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy.optimize import least_squares\n\ndef solve():\n    \"\"\"\n    Solves for bandgap narrowing in heavily doped semiconductors by fitting the\n    Varshni model to intrinsic data and comparing with doped data.\n    \"\"\"\n    # Define the test cases from the problem statement.\n    test_cases = [\n        {\n            \"name\": \"A\",\n            \"T_points\": np.array([200, 250, 300, 350, 400]),\n            \"E_g_intrinsic\": np.array([1.147370, 1.136639, 1.124519, 1.111235, 1.096950]),\n            \"E_g_eff_doped\": np.array([1.097370, 1.086639, 1.074519, 1.061235, 1.046950]),\n            \"T_ref\": 300.0,\n        },\n        {\n            \"name\": \"B\",\n            \"T_points\": np.array([100, 200, 300, 400, 500]),\n            \"E_g_intrinsic\": np.array([1.112500, 1.094286, 1.069375, 1.040000, 1.007500]),\n            \"E_g_eff_doped\": np.array([1.012500, 0.994286, 0.969375, 0.940000, 0.907500]),\n            \"T_ref\": 300.0,\n        },\n        {\n            \"name\": \"C\",\n            \"T_points\": np.array([100, 150, 200, 250, 300]),\n            \"E_g_intrinsic\": np.array([1.501720, 1.483946, 1.466485, 1.444256, 1.423382]),\n            \"E_g_eff_doped\": np.array([1.472420, 1.453346, 1.436285, 1.413556, 1.393482]),\n            \"T_ref\": 300.0,\n        },\n    ]\n\n    results = []\n\n    # Define the Varshni model function E_g(T; p)\n    # p = [E_g(0), alpha, beta]\n    def varshni_model(p, T):\n        e_g_0, alpha, beta = p\n        return e_g_0 - (alpha * T**2) / (T + beta)\n\n    # Define the residual function for the least squares minimizer\n    def residuals(p, T, E_g_data):\n        return E_g_data - varshni_model(p, T)\n\n    # Define bounds for the parameters [E_g(0), alpha, beta]\n    bounds = ([0.5, 1e-5, 10], [2.5, 1e-3, 3000])\n    \n    # Define an initial guess for the parameters\n    # A mid-point guess is generally robust for this type of problem.\n    p_initial = [\n        (bounds[0][0] + bounds[1][0]) / 2.0,\n        (bounds[0][1] + bounds[1][1]) / 2.0,\n        (bounds[0][2] + bounds[1][2]) / 2.0,\n    ]\n\n\n    for case in test_cases:\n        T_data = case[\"T_points\"]\n        E_g_intrinsic_data = case[\"E_g_intrinsic\"]\n        E_g_eff_doped_data = case[\"E_g_eff_doped\"]\n        T_ref = case[\"T_ref\"]\n\n        # Perform nonlinear least squares fitting\n        fit_result = least_squares(\n            residuals,\n            p_initial,\n            bounds=bounds,\n            args=(T_data, E_g_intrinsic_data),\n        )\n\n        # Extract the optimal parameters\n        fit_params = fit_result.x\n\n        # Calculate the intrinsic bandgap at T_ref using the fitted model\n        E_g_T_ref = varshni_model(fit_params, T_ref)\n\n        # Find the measured effective bandgap at T_ref from the data\n        try:\n            ref_index = np.where(T_data == T_ref)[0][0]\n            E_g_eff_T_ref = E_g_eff_doped_data[ref_index]\n        except IndexError:\n            # This case should not happen based on problem description but is good practice.\n            # Handle cases where T_ref might not be in T_data, e.g., by interpolation.\n            # For this problem, it's guaranteed to be present.\n            raise ValueError(f\"T_ref={T_ref} not found in temperature data for case {case['name']}\")\n\n        # Calculate the bandgap narrowing\n        delta_E_g = E_g_T_ref - E_g_eff_T_ref\n        \n        # Round to six decimal places and append to results\n        results.append(round(delta_E_g, 6))\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        }
    ]
}