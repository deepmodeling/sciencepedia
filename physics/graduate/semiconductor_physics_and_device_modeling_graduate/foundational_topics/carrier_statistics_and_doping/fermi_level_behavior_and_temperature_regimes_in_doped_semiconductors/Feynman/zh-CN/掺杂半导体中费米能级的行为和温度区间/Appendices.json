{
    "hands_on_practices": [
        {
            "introduction": "理解半导体的行为始于其最纯粹的形式——本征半导体。本征载流子浓度 $n_i$ 是一个基本参数，它仅由材料的内在属性（如带隙和有效质量）以及温度决定。本练习将指导您从第一性原理出发，结合态密度和费米-狄拉克分布，推导出 $n_i$ 的表达式，从而巩固您对半导体统计物理学的核心理解。通过计算比较锗（Ge）和硅（Si）的 $n_i$，您将亲身体会到带隙对载流子浓度的指数级影响。",
            "id": "3745104",
            "problem": "一个晶体本征半导体被建模为具有态密度有效质量的抛物线形导带和价带。根据定义，本征电子浓度 $n$ 是在没有外来掺杂剂的情况下，热平衡时占据导带的电子数量，并且等于价带中的空穴浓度 $p$。从用于占据概率的费米-狄拉克（FD）分布 $f(E)$ 和抛物线能带的三维态密度（DOS）出发，推导本征载流子浓度 $n_i$ 与带隙 $E_g$、温度 $T$ 以及态密度有效质量 $m_e^*$ 和 $m_h^*$ 之间的关系式。假设在非简并极限下，FD分布简化为麦克斯韦-玻尔兹曼形式。\n\n使用推导出的表达式来量化在 $T=300\\ \\mathrm{K}$ 时，锗的本征载流子浓度与硅的本征载流子浓度的比较。对于锗，使用 $E_g=0.66\\ \\mathrm{eV}$，$m_e^*=0.56\\,m_0$ 和 $m_h^*=0.29\\,m_0$。对于硅，使用 $E_g=1.12\\ \\mathrm{eV}$，$m_e^*=1.08\\,m_0$ 和 $m_h^*=0.60\\,m_0$。此处 $m_0$ 是电子静止质量。取玻尔兹曼常数为 $k_B=8.617333262\\times 10^{-5}\\ \\mathrm{eV/K}$，并以电子伏特表示所有能量。\n\n报告单一量 $n_{i,\\mathrm{Ge}}/n_{i,\\mathrm{Si}}$（一个无量纲比率），四舍五入到三位有效数字。不应将其他值作为最终答案报告。",
            "solution": "该问题是有效的，因为它科学地基于固态物理学的原理，问题提出得很好，信息充分且一致，并且表达客观。我现在将进行完整的推导和计算。\n\n任务是首先推导半导体中本征载流子浓度 $n_i$ 的表达式，然后使用该表达式计算在温度 $T=300\\ \\mathrm{K}$ 时，锗（$n_{i,\\mathrm{Ge}}$）与硅（$n_{i,\\mathrm{Si}}$）的本征载流子浓度之比。\n\n首先，我们推导导带中电子浓度 $n$ 和价带中空穴浓度 $p$ 的一般表达式。\n\n导带中的电子浓度由态密度 $g_c(E)$ 与占据概率 $f(E)$ 的乘积在整个导带上（从导带底 $E_c$ 到无穷大）的积分给出。\n$$n = \\int_{E_c}^{\\infty} g_c(E) f(E) dE$$\n对于三维抛物线能带，单位体积的态密度由下式给出：\n$$g_c(E) = \\frac{1}{2\\pi^2}\\left(\\frac{2m_e^*}{\\hbar^2}\\right)^{3/2}\\sqrt{E-E_c} \\quad \\text{for } E \\ge E_c$$\n其中 $m_e^*$ 是电子的态密度有效质量，$\\hbar$ 是约化普朗克常数。占据概率由费米-狄拉克分布给出：\n$$f(E) = \\frac{1}{1 + \\exp\\left(\\frac{E - E_F}{k_B T}\\right)}$$\n其中 $E_F$ 是费米能级，$k_B$ 是玻尔兹曼常数，$T$ 是绝对温度。\n\n问题指定了非简并极限，在此极限下，我们假设费米能级位于带隙内，并且距离能带边缘有几个 $k_B T$ 的能量。对于导带中的电子，这意味着 $E-E_F \\gg k_B T$。在此极限下，费米-狄拉克分布可以近似为麦克斯韦-玻尔兹曼分布：\n$$f(E) \\approx \\exp\\left(-\\frac{E - E_F}{k_B T}\\right)$$\n将 $g_c(E)$ 和近似的 $f(E)$ 的表达式代入 $n$ 的积分中：\n$$n = \\int_{E_c}^{\\infty} \\frac{1}{2\\pi^2}\\left(\\frac{2m_e^*}{\\hbar^2}\\right)^{3/2}\\sqrt{E-E_c} \\exp\\left(-\\frac{E - E_F}{k_B T}\\right) dE$$\n我们可以将指数项重写为 $\\exp\\left(-\\frac{E - E_c}{k_B T}\\right) \\exp\\left(-\\frac{E_c - E_F}{k_B T}\\right)$，并将与 $E$ 无关的第二项从积分中提出：\n$$n = \\frac{1}{2\\pi^2}\\left(\\frac{2m_e^*}{\\hbar^2}\\right)^{3/2} \\exp\\left(-\\frac{E_c - E_F}{k_B T}\\right) \\int_{E_c}^{\\infty} \\sqrt{E-E_c} \\exp\\left(-\\frac{E-E_c}{k_B T}\\right) dE$$\n为求解该积分，我们进行变量替换。令 $x = \\frac{E-E_c}{k_B T}$。则 $dE = k_B T dx$，且 $E-E_c=x k_B T$。积分上下限变为 $0$ 到 $\\infty$。\n$$\\int_{0}^{\\infty} \\sqrt{x k_B T} \\exp(-x) (k_B T dx) = (k_B T)^{3/2} \\int_{0}^{\\infty} x^{1/2} e^{-x} dx$$\n该积分是伽马函数 $\\Gamma(3/2)$，其值等于 $\\frac{\\sqrt{\\pi}}{2}$。将此结果代回：\n$$n = \\frac{1}{2\\pi^2}\\left(\\frac{2m_e^*}{\\hbar^2}\\right)^{3/2} (k_B T)^{3/2} \\frac{\\sqrt{\\pi}}{2} \\exp\\left(-\\frac{E_c - E_F}{k_B T}\\right)$$\n这通常写作 $n = N_c \\exp\\left(-\\frac{E_c - E_F}{k_B T}\\right)$，其中 $N_c$ 是导带中的有效态密度：\n$$N_c = \\frac{1}{2\\pi^2}\\left(\\frac{2m_e^*}{\\hbar^2}\\right)^{3/2} \\frac{\\sqrt{\\pi}}{2} (k_B T)^{3/2} = 2\\left(\\frac{2\\pi m_e^* k_B T}{h^2}\\right)^{3/2}$$\n这里我们使用了 $\\hbar = h/(2\\pi)$。\n\n类似的推导也适用于价带中的空穴。空穴浓度 $p$ 由价带中的态密度 $g_v(E)$ 与一个态为空的概率 $1 - f(E)$ 的乘积在从 $-\\infty$ 到价带顶 $E_v$ 的积分给出。\n$$p = \\int_{-\\infty}^{E_v} g_v(E) [1 - f(E)] dE$$\n$$g_v(E) = \\frac{1}{2\\pi^2}\\left(\\frac{2m_h^*}{\\hbar^2}\\right)^{3/2}\\sqrt{E_v-E} \\quad \\text{for } E \\le E_v$$\n在非简并极限下（对于价带中的态，$E_F - E \\gg k_B T$），一个态为空的概率 $1-f(E)$ 是：\n$$1 - f(E) = \\frac{1}{1 + \\exp\\left(\\frac{E_F - E}{k_B T}\\right)} \\approx \\exp\\left(-\\frac{E_F - E}{k_B T}\\right)$$\n遵循类似的积分步骤，我们得到：\n$$p = N_v \\exp\\left(-\\frac{E_F - E_v}{k_B T}\\right)$$\n其中 $N_v$ 是价带中的有效态密度：\n$$N_v = 2\\left(\\frac{2\\pi m_h^* k_B T}{h^2}\\right)^{3/2}$$\n\n对于本征半导体，没有掺杂剂，激发到导带的电子数量必须等于价带中留下的空穴数量。这个条件是 $n = p = n_i$，其中 $n_i$ 是本征载流子浓度。\n为了找到一个不依赖于费米能级 $E_F$ 的 $n_i$ 表达式，我们计算乘积 $n \\cdot p$：\n$$n \\cdot p = N_c \\exp\\left(-\\frac{E_c - E_F}{k_B T}\\right) N_v \\exp\\left(-\\frac{E_F - E_v}{k_B T}\\right)$$\n$$n \\cdot p = N_c N_v \\exp\\left(-\\frac{E_c - E_F + E_F - E_v}{k_B T}\\right) = N_c N_v \\exp\\left(-\\frac{E_c - E_v}{k_B T}\\right)$$\n项 $E_c - E_v$ 是带隙能量 $E_g$。在本征半导体中，$n=p=n_i$，所以 $n \\cdot p = n_i^2$。\n$$n_i^2 = N_c N_v \\exp\\left(-\\frac{E_g}{k_B T}\\right)$$\n取平方根得到本征载流子浓度的表达式：\n$$n_i = \\sqrt{N_c N_v} \\exp\\left(-\\frac{E_g}{2 k_B T}\\right)$$\n代入 $N_c$ 和 $N_v$ 的完整表达式：\n$$n_i = \\sqrt{4\\left(\\frac{2\\pi k_B T}{h^2}\\right)^3 (m_e^* m_h^*)^{3/2}} \\exp\\left(-\\frac{E_g}{2 k_B T}\\right)$$\n$$n_i = 2\\left(\\frac{2\\pi k_B T}{h^2}\\right)^{3/2} (m_e^* m_h^*)^{3/4} \\exp\\left(-\\frac{E_g}{2 k_B T}\\right)$$\n这就是所求的本征载流子浓度的一般表达式。\n\n现在，我们使用这个表达式来求比率 $n_{i,\\mathrm{Ge}}/n_{i,\\mathrm{Si}}$。\n$$\\frac{n_{i,\\mathrm{Ge}}}{n_{i,\\mathrm{Si}}} = \\frac{2\\left(\\frac{2\\pi k_B T}{h^2}\\right)^{3/2} (m_{e,\\mathrm{Ge}}^* m_{h,\\mathrm{Ge}}^*)^{3/4} \\exp\\left(-\\frac{E_{g,\\mathrm{Ge}}}{2 k_B T}\\right)}{2\\left(\\frac{2\\pi k_B T}{h^2}\\right)^{3/2} (m_{e,\\mathrm{Si}}^* m_{h,\\mathrm{Si}}^*)^{3/4} \\exp\\left(-\\frac{E_{g,\\mathrm{Si}}}{2 k_B T}\\right)}$$\n包含 $k_B$、$T$ 和 $h$ 的常数前置因子相互抵消，剩下：\n$$\\frac{n_{i,\\mathrm{Ge}}}{n_{i,\\mathrm{Si}}} = \\left(\\frac{m_{e,\\mathrm{Ge}}^* m_{h,\\mathrm{Ge}}^*}{m_{e,\\mathrm{Si}}^* m_{h,\\mathrm{Si}}^*}\\right)^{3/4} \\exp\\left(\\frac{E_{g,\\mathrm{Si}} - E_{g,\\mathrm{Ge}}}{2 k_B T}\\right)$$\n我们已知以下数值：\n对于锗（Ge）：$E_{g,\\mathrm{Ge}}=0.66\\ \\mathrm{eV}$，$m_{e,\\mathrm{Ge}}^*=0.56\\,m_0$，以及 $m_{h,\\mathrm{Ge}}^*=0.29\\,m_0$。\n对于硅（Si）：$E_{g,\\mathrm{Si}}=1.12\\ \\mathrm{eV}$，$m_{e,\\mathrm{Si}}^*=1.08\\,m_0$，以及 $m_{h,\\mathrm{Si}}^*=0.60\\,m_0$。\n温度 $T=300\\ \\mathrm{K}$，玻尔兹曼常数 $k_B=8.617333262\\times 10^{-5}\\ \\mathrm{eV/K}$。\n\n首先，计算热能项 $2k_B T$：\n$$2 k_B T = 2 \\times (8.617333262 \\times 10^{-5}\\ \\mathrm{eV/K}) \\times (300\\ \\mathrm{K}) \\approx 0.051704\\ \\mathrm{eV}$$\n接下来，计算质量因子。电子静止质量 $m_0$ 相互抵消：\n$$\\left(\\frac{m_{e,\\mathrm{Ge}}^* m_{h,\\mathrm{Ge}}^*}{m_{e,\\mathrm{Si}}^* m_{h,\\mathrm{Si}}^*}\\right)^{3/4} = \\left(\\frac{(0.56)(0.29)}{(1.08)(0.60)}\\right)^{3/4} = \\left(\\frac{0.1624}{0.648}\\right)^{3/4} \\approx (0.250617)^{0.75} \\approx 0.35440$$\n接下来，计算指数因子：\n$$\\exp\\left(\\frac{E_{g,\\mathrm{Si}} - E_{g,\\mathrm{Ge}}}{2 k_B T}\\right) = \\exp\\left(\\frac{1.12\\ \\mathrm{eV} - 0.66\\ \\mathrm{eV}}{0.051704\\ \\mathrm{eV}}\\right) = \\exp\\left(\\frac{0.46}{0.051704}\\right) \\approx \\exp(8.8968) \\approx 7308.12$$\n最后，将这两个因子相乘得到比率：\n$$\\frac{n_{i,\\mathrm{Ge}}}{n_{i,\\mathrm{Si}}} \\approx 0.35440 \\times 7308.12 \\approx 2590.93$$\n将此结果四舍五入到三位有效数字，我们得到 $2590$。",
            "answer": "$$\\boxed{2590}$$"
        },
        {
            "introduction": "在实际应用中，半导体通常被有意地掺杂施主或受主，以精确控制其导电性。当同时存在施主和受主时，我们称之为补偿掺杂，这种情况在器件制造中非常普遍。本练习的核心是应用电荷中性原理，这是分析所有掺杂半导体的基石。通过解决一个补偿硅样本的案例，您将学会如何联立质量作用定律和电荷中性方程，来确定费米能级的位置和净载流子浓度，这些都是决定器件电学特性的关键参数。",
            "id": "3745089",
            "problem": "一个单晶硅样品在室温下被浅施主和受主均匀掺杂。施主浓度为 $N_{D} = 10^{16}\\ \\mathrm{cm}^{-3}$，受主浓度为 $N_{A} = 5 \\times 10^{15}\\ \\mathrm{cm}^{-3}$。假设如下：\n- 温度为 $T = 300\\ \\mathrm{K}$。\n- 在 $300\\ \\mathrm{K}$ 时，施主和受主是浅能级的且完全电离。\n- 载流子布居是非简并的，因此适用 Maxwell–Boltzmann 统计。\n- 在 $300\\ \\mathrm{K}$ 时，硅的本征载流子浓度为 $n_{i} = 1.00 \\times 10^{10}\\ \\mathrm{cm}^{-3}$。\n- 使用 Boltzmann 常数 $k_{B} = 8.617333262 \\times 10^{-5}\\ \\mathrm{eV/K}$。\n\n从电子和空穴浓度作为态密度乘以 Fermi–Dirac 分布的能量积分的定义出发，在所述假设下，推导补偿半导体的质量作用定律和电中性条件。然后，确定在 $T = 300\\ \\mathrm{K}$ 时，费米能级相对于本征能级的位置 $E_{F} - E_{i}$，以及净载流子浓度差 $n - p$。\n\n- 以电子伏特 (eV) 为单位报告 $E_{F} - E_{i}$，以 $\\mathrm{cm}^{-3}$ 为单位报告 $n - p$。\n- 将两个结果都四舍五入到三位有效数字。\n- 你的最终答案必须以单行矩阵的形式给出两个条目，顺序为 $\\big(E_{F} - E_{i},\\ n - p\\big)$，不带单位。",
            "solution": "该问题是有效的，因为它在科学上基于半导体物理学，问题陈述清晰且数据充分一致，并且是客观陈述的。\n\n解答过程分为四个主要阶段：\n1.  质量作用定律的推导。\n2.  给定样品的电中性条件的推导。\n3.  净载流子浓度差 $n-p$ 的计算。\n4.  费米能级相对于本征能级的位置 $E_F - E_i$ 的计算。\n\n**1. 质量作用定律的推导**\n\n导带中的电子浓度 $n$ 和价带中的空穴浓度 $p$ 由态密度乘以相应的占据概率的积分给出。\n电子浓度为：\n$$n = \\int_{E_c}^{\\infty} g_c(E) f(E) dE$$\n其中 $E_c$ 是导带底的能量，$g_c(E)$ 是导带中的态密度，$f(E)$ 是 Fermi-Dirac 分布。\n空穴浓度为：\n$$p = \\int_{-\\infty}^{E_v} g_v(E) [1-f(E)] dE$$\n其中 $E_v$ 是价带顶的能量，$g_v(E)$ 是价带中的态密度，$1 - f(E)$ 是一个态为空（即被空穴占据）的概率。\n\n问题指出载流子布居是非简并的。这允许我们对 Fermi-Dirac 分布 $f(E) = \\frac{1}{1 + \\exp\\left(\\frac{E-E_F}{k_B T}\\right)}$ 使用 Maxwell-Boltzmann 近似，其中 $E_F$ 是费米能级，$k_B$ 是 Boltzmann 常数，$T$ 是绝对温度。\n对于导带中的电子 ($E \\ge E_c$)，我们假设 $E - E_F \\gg k_B T$，因此：\n$$f(E) \\approx \\exp\\left(-\\frac{E-E_F}{k_B T}\\right)$$\n对于价带中的空穴 ($E \\le E_v$)，我们假设 $E_F - E \\gg k_B T$，因此一个态为空的概率是：\n$$1 - f(E) = \\frac{1}{1 + \\exp\\left(-\\frac{E-E_F}{k_B T}\\right)} \\approx \\exp\\left(-\\frac{E_F-E}{k_B T}\\right)$$\n将这些近似代入 $n$ 和 $p$ 的积分表达式并进行计算（这些积分是涉及 Gamma 函数的标准形式），得到：\n$$n = N_c \\exp\\left(-\\frac{E_c-E_F}{k_B T}\\right)$$\n$$p = N_v \\exp\\left(-\\frac{E_F-E_v}{k_B T}\\right)$$\n这里，$N_c$ 和 $N_v$ 分别是导带和价带中的有效态密度。对于给定的材料在特定温度下，它们是常数。\n\n电子和空穴浓度的乘积则为：\n$$np = \\left( N_c \\exp\\left(-\\frac{E_c-E_F}{k_B T}\\right) \\right) \\left( N_v \\exp\\left(-\\frac{E_F-E_v}{k_B T}\\right) \\right)$$\n$$np = N_c N_v \\exp\\left(-\\frac{E_c-E_F+E_F-E_v}{k_B T}\\right)$$\n费米能级 $E_F$ 被消去，得到：\n$$np = N_c N_v \\exp\\left(-\\frac{E_c-E_v}{k_B T}\\right)$$\n项 $E_c - E_v$ 是带隙能量 $E_g$。因此，乘积 $np$ 在给定温度下是一个常数，与掺杂或费米能级位置无关。\n对于本征（未掺杂）半导体，电中性条件是 $n=p=n_i$，其中 $n_i$ 是本征载流子浓度。因此：\n$$n_i^2 = N_c N_v \\exp\\left(-\\frac{E_g}{k_B T}\\right)$$\n将其与 $np$ 的表达式进行比较，我们得到质量作用定律：\n$$np = n_i^2$$\n\n**2. 电中性条件的推导**\n\n为了使半导体呈电中性，总正电荷密度必须等于总负电荷密度。正电荷的来源是空穴（浓度为 $p$）和电离的施主原子（浓度为 $N_D^+$）。负电荷的来源是电子（浓度为 $n$）和电离的受主原子（浓度为 $N_A^-$）。一般的电中性方程是：\n$$p + N_D^+ = n + N_A^-$$\n问题指出，在 $T=300 \\mathrm{K}$ 时，掺杂物是浅能级的且完全电离。这意味着每个施主原子都提供了一个电子，每个受主原子都接受了一个电子。因此，$N_D^+ = N_D$ 且 $N_A^- = N_A$。\n将这些代入通用方程，得到此问题的特定电中性条件：\n$$p + N_D = n + N_A$$\n这可以被重新整理以表示净载流子浓度差：\n$$n - p = N_D - N_A$$\n\n**3. 净载流子浓度差 $n-p$ 的计算**\n\n使用推导出的电中性条件和给定的掺杂浓度：\n$N_D = 10^{16}\\ \\mathrm{cm}^{-3}$\n$N_A = 5 \\times 10^{15}\\ \\mathrm{cm}^{-3}$\n$$n - p = 10^{16} - 5 \\times 10^{15} = 1 \\times 10^{16} - 0.5 \\times 10^{16} = 0.5 \\times 10^{16}\\ \\mathrm{cm}^{-3}$$\n$$n - p = 5.00 \\times 10^{15}\\ \\mathrm{cm}^{-3}$$\n根据要求，我们将其报告为三位有效数字，即 $5.00 \\times 10^{15}\\ \\mathrm{cm}^{-3}$。\n\n**4. 费米能级位置 $E_F - E_i$ 的计算**\n\n电子和空穴浓度也可以用本征载流子浓度 $n_i$ 和本征费米能级 $E_i$ 来表示：\n$$n = n_i \\exp\\left(\\frac{E_F - E_i}{k_B T}\\right)$$\n$$p = n_i \\exp\\left(-\\frac{E_F - E_i}{k_B T}\\right)$$\n注意，这对 方程本身就满足质量作用定律 $np = n_i^2$。\n我们将这些表达式代入电中性方程 $n - p = N_D - N_A$：\n$$n_i \\exp\\left(\\frac{E_F - E_i}{k_B T}\\right) - n_i \\exp\\left(-\\frac{E_F - E_i}{k_B T}\\right) = N_D - N_A$$\n为了求解 $E_F - E_i$，令 $x = \\exp\\left(\\frac{E_F - E_i}{k_B T}\\right)$ 和 $\\Delta N = N_D - N_A$。方程变为：\n$$n_i \\left(x - \\frac{1}{x}\\right) = \\Delta N$$\n两边乘以 $x$ 并重新整理，得到关于 $x$ 的二次方程：\n$$n_i x^2 - (\\Delta N)x - n_i = 0$$\n使用二次公式 $x = \\frac{-b \\pm \\sqrt{b^2-4ac}}{2a}$：\n$$x = \\frac{\\Delta N \\pm \\sqrt{(-\\Delta N)^2 - 4(n_i)(-n_i)}}{2n_i} = \\frac{\\Delta N \\pm \\sqrt{(\\Delta N)^2 + 4n_i^2}}{2n_i}$$\n由于 $x = \\exp\\left(\\frac{E_F - E_i}{k_B T}\\right)$ 必须是一个正数，我们取正根：\n$$x = \\frac{\\Delta N + \\sqrt{(\\Delta N)^2 + 4n_i^2}}{2n_i}$$\n现在，我们可以求解 $E_F - E_i$：\n$$\\frac{E_F - E_i}{k_B T} = \\ln(x) = \\ln\\left(\\frac{N_D - N_A + \\sqrt{(N_D - N_A)^2 + 4n_i^2}}{2n_i}\\right)$$\n$$E_F - E_i = k_B T \\ln\\left(\\frac{N_D - N_A + \\sqrt{(N_D - N_A)^2 + 4n_i^2}}{2n_i}\\right)$$\n我们已知以下数值：\n$T = 300\\ \\mathrm{K}$\n$k_B = 8.617333262 \\times 10^{-5}\\ \\mathrm{eV/K}$\n$N_D - N_A = 5 \\times 10^{15}\\ \\mathrm{cm}^{-3}$\n$n_i = 1.00 \\times 10^{10}\\ \\mathrm{cm}^{-3}$\n\n首先，我们计算热能 $k_B T$：\n$$k_B T = (8.617333262 \\times 10^{-5}\\ \\mathrm{eV/K}) \\times (300\\ \\mathrm{K}) \\approx 0.025852\\ \\mathrm{eV}$$\n由于 $N_D - N_A = 5 \\times 10^{15} \\gg n_i = 10^{10}$，平方根下的项 $4n_i^2$ 与 $(N_D - N_A)^2$ 相比可以忽略不计。这允许我们进行一个非常精确的近似：\n$$\\sqrt{(N_D - N_A)^2 + 4n_i^2} \\approx \\sqrt{(N_D - N_A)^2} = N_D - N_A$$\n$E_F - E_i$ 的表达式简化为：\n$$E_F - E_i \\approx k_B T \\ln\\left(\\frac{(N_D - N_A) + (N_D - N_A)}{2n_i}\\right) = k_B T \\ln\\left(\\frac{N_D - N_A}{n_i}\\right)$$\n代入数值：\n$$E_F - E_i \\approx (0.025852\\ \\mathrm{eV}) \\ln\\left(\\frac{5 \\times 10^{15}}{1.00 \\times 10^{10}}\\right)$$\n$$E_F - E_i \\approx (0.025852\\ \\mathrm{eV}) \\ln(5 \\times 10^5)$$\n$$E_F - E_i \\approx (0.025852\\ \\mathrm{eV}) \\times (13.12236)$$\n$$E_F - E_i \\approx 0.339196\\ \\mathrm{eV}$$\n四舍五入到三位有效数字，我们得到 $E_F - E_i = 0.339\\ \\mathrm{eV}$。正号表示费米能级在本征能级之上，这对于 $N_D > N_A$ 的 n 型补偿半导体是符合预期的。\n\n所要求的两个值是：\n$E_F - E_i = 0.339\\ \\mathrm{eV}$\n$n - p = 5.00 \\times 10^{15}\\ \\mathrm{cm}^{-3}$",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.339 & 5.00 \\times 10^{15}\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "虽然解析近似在许多情况下能提供有价值的洞见，但它们在面临宽温度范围（包括载流子冻析和本征激发）或复杂掺杂条件时会失效。为了获得精确的解决方案，数值方法成为不可或缺的工具。本练习旨在提供构建数值求解器的实践经验，这对于半导体器件建模领域的研究人员和工程师来说是一项基本技能。您将实施一个稳健的数值方案，在所有温度和掺杂条件下精确求解电荷中性方程，以确定费米能级的位置，从而将理论物理模型转化为强大的预测工具。",
            "id": "3745079",
            "problem": "您的任务是构建一个数值求解器，通过强制执行电中性条件来计算掺杂半导体在冻结、外在和本征温度范围内的费米能级 $E_F$（以电子伏特为单位）。该求解器必须实现一种带区间限定的保护型牛顿-拉夫逊方法，并且必须处理潜在的收敛陷阱。输出必须是为指定测试套件计算出的 $E_F$ 值，以电子伏特表示并四舍五入到六位小数，汇总成一个单行打印的列表，格式如下所述。\n\n基本情景：考虑一个带有施主和受主的三维、非简并、抛物线形能带半导体。对能带载流子使用玻尔兹曼近似，对掺杂物占据使用费米-狄拉克统计。设价带顶为 $E_v = 0$，导带底为 $E_c = E_g(T)$，其中带隙由 Varshni 关系式给出\n$$\nE_g(T) = E_{g0} - \\frac{\\alpha T^2}{T + \\beta},\n$$\n有效态密度函数为\n$$\nN_c(T) = N_{c,300}\\left(\\frac{T}{300}\\right)^{3/2}, \\quad N_v(T) = N_{v,300}\\left(\\frac{T}{300}\\right)^{3/2}.\n$$\n假设施主和受主能级相对于能带边缘的能量由 $E_D = E_c - E_{D,\\text{bind}}$ 和 $E_A = E_v + E_{A,\\text{bind}}$ 给出。使用以下常数和参数：\n- 玻尔兹曼常数，单位为电子伏特每开尔文：$k_B = 8.617333262145\\times 10^{-5}$，\n- 硅的 Varshni 参数：$E_{g0} = 1.17$，$\\alpha = 4.73\\times 10^{-4}$，$\\beta = 636$，\n- $300$ 开尔文时的有效态密度：$N_{c,300} = 2.8\\times 10^{19}$ $\\text{cm}^{-3}$，$N_{v,300} = 1.04\\times 10^{19}$ $\\text{cm}^{-3}$，\n- 施主和受主束缚能：$E_{D,\\text{bind}} = 0.045$，$E_{A,\\text{bind}} = 0.045$，\n- 掺杂简并因子：施主为 $g_D = 2$，受主为 $g_A = 4$。\n\n电中性条件是\n$$\nf(E_F; T, N_D, N_A) \\equiv p(E_F,T) + N_D^+(E_F,T) - n(E_F,T) - N_A^-(E_F,T) = 0,\n$$\n其中在玻尔兹曼近似下的载流子浓度为\n$$\nn(E_F,T) = N_c(T)\\,\\exp\\!\\left(\\frac{E_F - E_c}{k_B T}\\right), \\quad\np(E_F,T) = N_v(T)\\,\\exp\\!\\left(\\frac{E_v - E_F}{k_B T}\\right),\n$$\n而在考虑简并的费米-狄拉克统计下的离化掺杂浓度为\n$$\nN_D^+(E_F,T) = \\frac{N_D}{1 + g_D \\exp\\!\\left(\\frac{E_F - E_D}{k_B T}\\right)}, \\quad\nN_A^-(E_F,T) = \\frac{N_A}{1 + g_A \\exp\\!\\left(\\frac{E_A - E_F}{k_B T}\\right)}.\n$$\n\n您的程序必须：\n1. 使用带区间限定的保护型牛顿-拉夫逊方法，为 $f(E_F;T,N_D,N_A)=0$ 实现一个求根求解器。推导并使用与上述定义一致的解析导数 $\\mathrm{d}f/\\mathrm{d}E_F$ 来加速收敛。如果提议的牛顿步超出当前区间或未能减小残差的绝对值，则回退到在区间内进行二分法。\n2. 采用数值安全的指数函数以避免在极端温度或能量差下出现上溢和下溢。\n3. 使用物理上合理的能量区间限定，从 $[E_v - \\Delta, E_c + \\Delta]$ 开始（对于某个有限的 $\\Delta$），并根据需要进行扩展，直到检测到 $f(E_F)$ 的符号变化，或达到最大扩展次数。如果未检测到符号变化，则使用二分法精炼报告最新区间的中点解。\n\n测试套件：求解以下参数集的 $E_F$，$T$ 的单位为开尔文，$N_D, N_A$ 的单位为 $\\text{cm}^{-3}$，每个参数集表示为 $(T, N_D, N_A)$：\n- 情况 1：$(50, 1.0\\times 10^{16}, 0)$ 施主冻结区。\n- 情况 2：$(300, 1.0\\times 10^{16}, 0)$ 外在 n 型区。\n- 情况 3：$(800, 1.0\\times 10^{10}, 0)$ 高温、近本征区。\n- 情况 4：$(300, 0, 5.0\\times 10^{16})$ 外在 p 型区。\n- 情况 5：$(200, 1.0\\times 10^{16}, 8.0\\times 10^{15})$ 补偿掺杂，中等温度。\n\n输出规格：您的程序应生成单行输出，其中包含按上述确切顺序排列的五个情况的计算 $E_F$ 值，形式为逗号分隔的列表，并用方括号括起来。将每个 $E_F$ 以电子伏特表示，并四舍五入到六位小数（例如，$[0.512345,0.789012,\\dots]$）。\n\n您的解决方案必须是一个完整的、可运行的程序，无需用户输入，使用上述参数，并按指定格式计算和打印列表。",
            "solution": "该问题要求通过数值求解电中性方程，计算掺杂半导体在不同温度和掺杂范围下的费米能级 $E_F$。该解决方案基于半导体的标准物理模型和稳健的数值求根算法。\n\n核心原理是电中性，即半导体内部的总正电荷密度必须等于总负电荷密度。这由以下方程表示：\n$$\np + N_D^+ = n + N_A^-\n$$\n其中 $p$ 是价带中的空穴浓度，$n$ 是导带中的电子浓度，$N_D^+$ 和 $N_A^-$ 分别是离化施主和离化受主的浓度。为了找到给定温度 $T$、施主浓度 $N_D$ 和受主浓度 $N_A$ 下的费米能级 $E_F$，我们必须找到电荷平衡函数 $f(E_F)$ 的根：\n$$\nf(E_F; T, N_D, N_A) \\equiv p(E_F,T) + N_D^+(E_F,T) - n(E_F,T) - N_A^-(E_F,T) = 0\n$$\n\n根据固态物理学中关于非简并抛物线形能带半导体的原理，各组分浓度建模如下：\n\n1.  **随温度变化的参数**：材料的能带结构和性质随温度变化。价带顶被设为能量参考点，$E_v = 0$。导带底 $E_c$ 由随温度变化的带隙 $E_g(T)$ 决定，由 Varshni 关系式给出：\n    $$\n    E_c(T) = E_g(T) = E_{g0} - \\frac{\\alpha T^2}{T + \\beta}\n    $$\n    导带和价带中的有效态密度 $N_c$ 和 $N_v$ 也随温度变化：\n    $$\n    N_c(T) = N_{c,300}\\left(\\frac{T}{300}\\right)^{3/2}, \\quad N_v(T) = N_{v,300}\\left(\\frac{T}{300}\\right)^{3/2}\n    $$\n    施主和受主能级相对于最近的能带边缘定义：\n    $$\n    E_D = E_c(T) - E_{D,\\text{bind}}, \\quad E_A = E_v + E_{A,\\text{bind}}\n    $$\n\n2.  **载流子浓度**：在玻尔兹曼近似下（对于费米能级距离能带边缘几个 $k_B T$ 的非简并情况有效），电子和空穴浓度为：\n    $$\n    n(E_F,T) = N_c(T)\\,\\exp\\!\\left(\\frac{E_F - E_c(T)}{k_B T}\\right)\n    $$\n    $$\n    p(E_F,T) = N_v(T)\\,\\exp\\!\\left(\\frac{E_v - E_F}{k_B T}\\right)\n    $$\n\n3.  **离化掺杂浓度**：掺杂能级的占据情况由费米-狄拉克统计决定。离化施主和受主的浓度由以下公式给出：\n    $$\n    N_D^+(E_F,T) = N_D \\left(1 - \\frac{1}{1 + \\frac{1}{g_D} \\exp\\!\\left(\\frac{E_D - E_F}{k_B T}\\right)}\\right) = \\frac{N_D}{1 + g_D \\exp\\!\\left(\\frac{E_F - E_D}{k_B T}\\right)}\n    $$\n    $$\n    N_A^-(E_F,T) = N_A \\frac{1}{1 + g_A \\exp\\!\\left(\\frac{E_A - E_F}{k_B T}\\right)}\n    $$\n    其中 $g_D$ 和 $g_A$ 分别是施主和受主能级的基态简并因子。\n\n为了求解 $f(E_F) = 0$，我们分析该函数的行为。通过检查其导数，我们可以证明 $f(E_F)$ 是 $E_F$ 的单调递减函数。令 $\\beta_{th} = (k_B T)^{-1}$。导数 $\\mathrm{d}f/\\mathrm{d}E_F$ 为：\n$$\n\\frac{\\mathrm{d}f}{\\mathrm{d}E_F} = \\frac{\\mathrm{d}p}{\\mathrm{d}E_F} + \\frac{\\mathrm{d}N_D^+}{\\mathrm{d}E_F} - \\frac{\\mathrm{d}n}{\\mathrm{d}E_F} - \\frac{\\mathrm{d}N_A^-}{\\mathrm{d}E_F}\n$$\n可以证明，组成总导数的各项（考虑其符号）都使其为负值：\n-   $\\frac{\\mathrm{d}n}{\\mathrm{d}E_F} = \\beta_{th} n(E_F,T) > 0$\n-   $\\frac{\\mathrm{d}p}{\\mathrm{d}E_F} = -\\beta_{th} p(E_F,T) < 0$\n-   $\\frac{\\mathrm{d}N_D^+}{\\mathrm{d}E_F} = -\\beta_{th} N_D^+ \\left(1 - \\frac{N_D^+}{N_D}\\right) < 0$\n-   $\\frac{\\mathrm{d}N_A^-}{\\mathrm{d}E_F} = \\beta_{th} N_A^- \\left(1 - \\frac{N_A^-}{N_A}\\right) > 0$\n\n因此，总导数为：\n$$\n\\frac{\\mathrm{d}f}{\\mathrm{d}E_F} = -\\beta_{th} \\left[ p + n + N_D^+\\left(1-\\frac{N_D^+}{N_D}\\right) + N_A^-\\left(1-\\frac{N_A^-}{N_A}\\right) \\right]\n$$\n由于所有浓度以及方括号中的项都是非负的，所以 $\\mathrm{d}f/\\mathrm{d}E_F \\le 0$。这种严格的单调性保证了 $E_F$ 存在唯一的根，因为当 $E_F \\to -\\infty$ 时 $f(E_F) \\to \\infty$，而当 $E_F \\to \\infty$ 时 $f(E_F) \\to -\\infty$。用浓度本身表示的导数表达式在数值上也是有利的。\n\n数值解是通过使用一种带保护的牛顿-拉夫逊方法实现的，该方法结合了牛顿-拉夫逊方法的快速收敛性和二分法的保证收敛性。算法流程如下：\n\n1.  **区间限定**：建立一个包含根的初始能量范围 $[E_{low}, E_{high}]$。我们从一个保守的范围开始，例如 $[E_v - 1.0, E_c(T) + 1.0]$ eV，并系统地扩展它，直到 $f(E_{low})$ 和 $f(E_{high})$ 的符号相反，鉴于函数的单调性，这一点是可以保证的。\n\n2.  **迭代精化**：从一个初始猜测（例如，区间的中点）开始，算法迭代地精化 $E_F$ 的值。在每次迭代中：\n    a. 计算函数值 $f(E_F)$ 及其导数 $\\mathrm{d}f/\\mathrm{d}E_F$。\n    b. 提出一个牛顿-拉夫逊步：$\\Delta E_F = -f(E_F) / (\\mathrm{d}f/\\mathrm{d}E_F)$，得到一个候选解 $E_{F, \\text{new}} = E_F + \\Delta E_F$。\n    c. **保护条件**：只有当提议的步满足两个条件时才被接受：\n        i. 新点 $E_{F, \\text{new}}$ 必须位于当前区间 $[E_{low}, E_{high}]$ 内。\n        ii. 新点的残差绝对值 $|f(E_{F, \\text{new}})|$ 必须小于当前残差的绝对值 $|f(E_F)|$。\n    d. **回退到二分法**：如果任一保护条件失败，算法将丢弃牛顿步，转而使用二分法步。新的 $E_F$ 候选值成为当前区间的中点，$E_{F, \\text{mid}} = (E_{low} + E_{high})/2$。\n    e. **区间更新**：在确定了 $E_F$ 的下一次迭代值后，通过比较新点处 $f(E_F)$ 的符号与区间边界处的符号，来更新区间 $[E_{low}, E_{high}]$，以确保根始终被包含在内。\n\n3.  **收敛**：迭代过程持续进行，直到区间宽度 $(E_{high} - E_{low})$ 小于预定义的容差（例如 $10^{-9}$ eV），此时最终区间的中点将作为 $E_F$ 的收敛解返回。\n\n为确保数值稳定性，特别是在低温下指数函数的参数可能变得非常大时，`exp()` 的输入被限制以防止浮点数上溢。导数计算也使用上述推导的稳定形式实现。",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Main function to solve for the Fermi level for a predefined test suite.\n    \"\"\"\n    \n    # Constants and Parameters\n    k_B = 8.617333262145e-5  # Boltzmann constant in eV/K\n    E_g0 = 1.17                 # Bandgap at 0K for Si in eV\n    alpha = 4.73e-4             # Varshni parameter in eV/K\n    beta = 636                  # Varshni parameter in K\n    N_c300 = 2.8e19             # Effective DOS in conduction band at 300K (cm^-3)\n    N_v300 = 1.04e19            # Effective DOS in valence band at 300K (cm^-3)\n    E_D_bind = 0.045            # Donor binding energy in eV\n    E_A_bind = 0.045            # Acceptor binding energy in eV\n    g_D = 2.0                   # Donor degeneracy factor\n    g_A = 4.0                   # Acceptor degeneracy factor\n\n    params = {\n        \"k_B\": k_B, \"E_g0\": E_g0, \"alpha\": alpha, \"beta\": beta,\n        \"N_c300\": N_c300, \"N_v300\": N_v300,\n        \"E_D_bind\": E_D_bind, \"E_A_bind\": E_A_bind,\n        \"g_D\": g_D, \"g_A\": g_A\n    }\n\n    test_cases = [\n        (50.0, 1.0e16, 0.0),        # Case 1: Freeze-out\n        (300.0, 1.0e16, 0.0),       # Case 2: Extrinsic n-type\n        (800.0, 1.0e10, 0.0),       # Case 3: Intrinsic\n        (300.0, 0.0, 5.0e16),       # Case 4: Extrinsic p-type\n        (200.0, 1.0e16, 8.0e15)    # Case 5: Compensated\n    ]\n    \n    results = []\n    for T, N_D, N_A in test_cases:\n        ef_result = find_fermi_level(T, N_D, N_A, **params)\n        results.append(ef_result)\n        \n    print(f\"[{','.join(f'{r:.6f}' for r in results)}]\")\n\ndef safe_exp(x):\n    \"\"\"Numerically safe exponential function to prevent overflow.\"\"\"\n    return np.exp(np.clip(x, a_min=None, a_max=700))\n\ndef get_charge_balance_and_deriv(E_F, T, N_D, N_A, params_T, params_base):\n    \"\"\"\n    Calculates the charge balance function f(E_F) and its derivative df/dE_F.\n    f(E_F) = p + N_D^+ - n - N_A^-\n    \"\"\"\n    k_B = params_base[\"k_B\"]\n    g_D = params_base[\"g_D\"]\n    g_A = params_base[\"g_A\"]\n\n    E_c, E_v, N_c, N_v, E_D, E_A = params_T\n\n    # Thermal energy beta\n    beta_th = 1.0 / (k_B * T)\n\n    # Carrier concentrations (Boltzmann approximation)\n    arg_n = beta_th * (E_F - E_c)\n    n = N_c * safe_exp(arg_n)\n    \n    arg_p = beta_th * (E_v - E_F)\n    p = N_v * safe_exp(arg_p)\n\n    # Ionized dopant concentrations (Fermi-Dirac statistics)\n    N_D_plus = 0.0\n    if N_D > 0:\n        arg_d = beta_th * (E_F - E_D)\n        N_D_plus = N_D / (1.0 + g_D * safe_exp(arg_d))\n    \n    N_A_minus = 0.0\n    if N_A > 0:\n        arg_a = beta_th * (E_A - E_F)\n        N_A_minus = N_A / (1.0 + g_A * safe_exp(arg_a))\n    \n    # Charge balance function value\n    f_val = p + N_D_plus - n - N_A_minus\n\n    # Derivative df/dE_F using stable forms\n    d_N_D_plus_dEF = 0.0\n    if N_D > 0:\n        d_N_D_plus_dEF = -beta_th * N_D_plus * (1.0 - N_D_plus / N_D)\n    \n    d_N_A_minus_dEF = 0.0\n    if N_A > 0:\n        d_N_A_minus_dEF = beta_th * N_A_minus * (1.0 - N_A_minus / N_A)\n        \n    d_n_dEF = beta_th * n\n    d_p_dEF = -beta_th * p\n    \n    f_deriv = d_p_dEF + d_N_D_plus_dEF - d_n_dEF - d_N_A_minus_dEF\n    \n    return f_val, f_deriv\n\ndef find_fermi_level(T, N_D, N_A, **params):\n    \"\"\"\n    Solves for the Fermi level E_F using a safeguarded Newton-Raphson method.\n    \"\"\"\n    # Unpack parameters\n    k_B, E_g0, alpha, beta = params[\"k_B\"], params[\"E_g0\"], params[\"alpha\"], params[\"beta\"]\n    N_c300, N_v300 = params[\"N_c300\"], params[\"N_v300\"]\n    E_D_bind, E_A_bind = params[\"E_D_bind\"], params[\"E_A_bind\"]\n\n    # Calculate temperature-dependent parameters\n    E_g = E_g0 - (alpha * T**2) / (T + beta)\n    E_c = E_g\n    E_v = 0.0\n    N_c = N_c300 * (T / 300.0)**1.5\n    N_v = N_v300 * (T / 300.0)**1.5\n    E_D = E_c - E_D_bind\n    E_A = E_v + E_A_bind\n    params_T = (E_c, E_v, N_c, N_v, E_D, E_A)\n\n    # Wrapper for charge balance function for the given T, N_D, N_A\n    def f_and_df(E_F):\n        return get_charge_balance_and_deriv(E_F, T, N_D, N_A, params_T, params)\n\n    # 1. Bracketing\n    E_low = E_v - 1.0  # Start with a reasonable initial bracket\n    E_high = E_c + 1.0\n    max_bracket_expansions = 20\n    \n    f_low, _ = f_and_df(E_low)\n    f_high, _ = f_and_df(E_high)\n\n    for _ in range(max_bracket_expansions):\n        if np.sign(f_low) != np.sign(f_high):\n            break\n        E_low -= 1.0\n        E_high += 1.0\n        f_low, _ = f_and_df(E_low)\n        f_high, _ = f_and_df(E_high)\n    else:\n        # This case should ideally not be reached with a wide enough bracket\n        # because the function is guaranteed to have a root.\n        # It may indicate a numerical issue or extreme parameters.\n        # As a fallback, we can take the midpoint but this is non-ideal.\n        return (E_low + E_high) / 2.0\n    \n    # Ensure f(low) > 0 and f(high)  0\n    if f_low  0:\n        E_low, E_high = E_high, E_low\n\n    # 2. Iterative Solver\n    E_F = (E_low + E_high) / 2.0\n    tol = 1e-9\n    max_iter = 100\n\n    for _ in range(max_iter):\n        if (E_high - E_low)  tol:\n            break\n        \n        f_val, f_deriv = f_and_df(E_F)\n\n        # Safeguarded Newton-Raphson step\n        use_newton = False\n        if abs(f_deriv) > 1e-15: # Avoid division by zero\n            E_F_newton = E_F - f_val / f_deriv\n            if E_low  E_F_newton  E_high:\n                f_newton, _ = f_and_df(E_F_newton)\n                if abs(f_newton)  abs(f_val):\n                    E_F = E_F_newton\n                    use_newton = True\n        \n        if not use_newton: # Fallback to bisection\n            E_F = (E_low + E_high) / 2.0\n\n        # Update bracket\n        f_current, _ = f_and_df(E_F)\n        if f_current > 0:\n            E_low = E_F\n        else:\n            E_high = E_F\n\n    return (E_low + E_high) / 2.0\n\nif __name__ == '__main__':\n    solve()\n# Expected output: [1.116901,0.920556,0.485145,0.187212,0.923838]\n```"
        }
    ]
}