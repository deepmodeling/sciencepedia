{
    "hands_on_practices": [
        {
            "introduction": "DRAM的核心操作在于可靠地读出存储在微小电容器中的电荷。本练习将通过一个基于电荷守恒第一性原理的计算，来揭示DRAM读出过程的物理本质。通过推导并计算确保可靠传感所需的“临界电荷”，您将深入理解DRAM读出的破坏性特性，以及存储单元电容与位线电容比值对读出裕度的决定性影响。",
            "id": "3786817",
            "problem": "一个具有单元电容 $C_{\\mathrm{cell}}$ 的单晶体管单电容动态随机存取存储器 (DRAM) 单元连接到位线 (BL) 上，位线电容为 $C_{\\mathrm{BL}}$。位线初始预充电至 $V_{\\mathrm{BL0}}$，读操作通过一个访问晶体管将单元连接到位线来进行，使得两个电容器在读出放大器 (SA) 启用前能够共享电荷。为了做出可靠的判断，SA 要求在其启用瞬间，位线电压相对于 $V_{\\mathrm{BL0}}$ 的偏离幅度至少为 $\\Delta V_{\\mathrm{req}}$。定义临界电荷 $Q_{\\mathrm{crit}}$ 为存储在 $C_{\\mathrm{cell}}$ 上的初始单元电荷偏移量（相对于 $V_{\\mathrm{BL0}}$）的最小幅度，该偏移量能保证位线电压偏离在电荷共享后、SA 再生前即刻满足 $\\Delta V_{\\mathrm{req}}$ 的要求。假设电荷是理想守恒的，预读出间隔期间的泄漏可忽略不计，且访问器件足够强，使得电荷共享可视为瞬时且无损的。\n\n仅使用电容器的电荷-电压关系和电荷守恒定律，从第一性原理推导 $Q_{\\mathrm{crit}}$ 关于 $\\Delta V_{\\mathrm{req}}$、$C_{\\mathrm{BL}}$ 和 $C_{\\mathrm{cell}}$ 的通用表达式，然后对于 $\\Delta V_{\\mathrm{req}}=20\\ \\mathrm{mV}$、$C_{\\mathrm{BL}}=200\\ \\mathrm{fF}$、$C_{\\mathrm{cell}}=25\\ \\mathrm{fF}$ 和 $V_{\\mathrm{BL0}}=0.5\\ \\mathrm{V}$ 进行数值计算。以飞库侖为单位表示最终答案，并四舍五入至三位有效数字。",
            "solution": "首先对问题陈述进行验证。\n\n### 步骤1：提取已知条件\n- 单元电容：$C_{\\mathrm{cell}}$\n- 位线 (BL) 电容：$C_{\\mathrm{BL}}$\n- 初始位线预充电电压：$V_{\\mathrm{BL0}}$\n- 读出放大器 (SA) 所需的最小位线电压偏离：$\\Delta V_{\\mathrm{req}}$\n- 临界电荷 $Q_{\\mathrm{crit}}$ 的定义：存储在 $C_{\\mathrm{cell}}$ 上的初始单元电荷偏移量（相对于 $V_{\\mathrm{BL0}}$）的最小幅度，该偏移量能保证位线电压偏离满足 $\\Delta V_{\\mathrm{req}}$。\n- 假设：理想的电荷守恒、泄漏可忽略、电荷共享可视为瞬时且无损。\n- 用于计算的数值：\n    - $\\Delta V_{\\mathrm{req}} = 20\\ \\mathrm{mV}$\n    - $C_{\\mathrm{BL}} = 200\\ \\mathrm{fF}$\n    - $C_{\\mathrm{cell}} = 25\\ \\mathrm{fF}$\n    - $V_{\\mathrm{BL0}} = 0.5\\ \\mathrm{V}$\n\n### 步骤2：使用提取的已知条件进行验证\n该问题具有科学依据，描述了一个基于电荷守恒和电容器电荷-电压关系 $Q=CV$ 等基本原理的 1T1C DRAM 读操作的标准模型。问题提法明确，提供了足够的信息和清晰的定义，可以推导出所求量 $Q_{\\mathrm{crit}}$ 的唯一解。语言客观且精确。所提供的数值对于现代半导体存储技术是物理上现实的。该问题不违反任何无效性标准。\n\n### 步骤3：结论与行动\n问题被判定为 **有效**。将从第一性原理推导解答。\n\n推导过程基于电荷守恒原理。由单元电容 $C_{\\mathrm{cell}}$ 和位线电容 $C_{\\mathrm{BL}}$ 组成的孤立系统，在访问晶体管接通前后，其总电荷必须相同。\n\n设 $V_{\\mathrm{cell}, i}$ 为单元电容器上的初始电压。\n位线上的初始电荷为：\n$$Q_{\\mathrm{BL}, i} = C_{\\mathrm{BL}} V_{\\mathrm{BL0}}$$\n单元上的初始电荷为：\n$$Q_{\\mathrm{cell}, i} = C_{\\mathrm{cell}} V_{\\mathrm{cell}, i}$$\n系统中的初始总电荷是这两者之和：\n$$Q_{\\mathrm{total}} = Q_{\\mathrm{BL}, i} + Q_{\\mathrm{cell}, i} = C_{\\mathrm{BL}} V_{\\mathrm{BL0}} + C_{\\mathrm{cell}} V_{\\mathrm{cell}, i}$$\n\n访问晶体管导通后，两个电容器并联连接并共享电荷，直到它们达到一个共同的最终电压 $V_f$。组合节点的总电容为 $C_{\\mathrm{total}} = C_{\\mathrm{BL}} + C_{\\mathrm{cell}}$。根据电荷守恒，最终总电荷 $Q_f$ 等于初始总电荷 $Q_{\\mathrm{total}}$。\n$$Q_f = C_{\\mathrm{total}} V_f = (C_{\\mathrm{BL}} + C_{\\mathrm{cell}}) V_f$$\n令初始总电荷与最终总电荷相等，我们可以解出最终电压 $V_f$：\n$$V_f = \\frac{Q_{\\mathrm{total}}}{C_{\\mathrm{total}}} = \\frac{C_{\\mathrm{BL}} V_{\\mathrm{BL0}} + C_{\\mathrm{cell}} V_{\\mathrm{cell}, i}}{C_{\\mathrm{BL}} + C_{\\mathrm{cell}}}$$\n\n位线上的电压偏离 $\\Delta V_{\\mathrm{BL}}$ 是最终电压 $V_f$ 与初始预充电电压 $V_{\\mathrm{BL0}}$ 之间的差值：\n$$\\Delta V_{\\mathrm{BL}} = V_f - V_{\\mathrm{BL0}} = \\frac{C_{\\mathrm{BL}} V_{\\mathrm{BL0}} + C_{\\mathrm{cell}} V_{\\mathrm{cell}, i}}{C_{\\mathrm{BL}} + C_{\\mathrm{cell}}} - V_{\\mathrm{BL0}}$$\n为了简化这个表达式，我们通分：\n$$\\Delta V_{\\mathrm{BL}} = \\frac{C_{\\mathrm{BL}} V_{\\mathrm{BL0}} + C_{\\mathrm{cell}} V_{\\mathrm{cell}, i} - V_{\\mathrm{BL0}}(C_{\\mathrm{BL}} + C_{\\mathrm{cell}})}{C_{\\mathrm{BL}} + C_{\\mathrm{cell}}}$$\n$$\\Delta V_{\\mathrm{BL}} = \\frac{C_{\\mathrm{BL}} V_{\\mathrm{BL0}} + C_{\\mathrm{cell}} V_{\\mathrm{cell}, i} - C_{\\mathrm{BL}} V_{\\mathrm{BL0}} - C_{\\mathrm{cell}} V_{\\mathrm{BL0}}}{C_{\\mathrm{BL}} + C_{\\mathrm{cell}}}$$\n$$\\Delta V_{\\mathrm{BL}} = \\frac{C_{\\mathrm{cell}} (V_{\\mathrm{cell}, i} - V_{\\mathrm{BL0}})}{C_{\\mathrm{BL}} + C_{\\mathrm{cell}}}$$\n\n问题定义了“初始单元电荷偏移量（相对于 $V_{\\mathrm{BL0}}$）”。我们称之为 $Q_{\\mathrm{offset}}$。这是单元上的实际初始电荷 $Q_{\\mathrm{cell},i} = C_{\\mathrm{cell}} V_{\\mathrm{cell},i}$ 与假设单元处于位线预充电电位时所持有的电荷 $C_{\\mathrm{cell}} V_{\\mathrm{BL0}}$ 之间的差值。\n$$Q_{\\mathrm{offset}} = C_{\\mathrm{cell}} V_{\\mathrm{cell}, i} - C_{\\mathrm{cell}} V_{\\mathrm{BL0}} = C_{\\mathrm{cell}} (V_{\\mathrm{cell}, i} - V_{\\mathrm{BL0}})$$\n将此定义代入我们关于 $\\Delta V_{\\mathrm{BL}}$ 的表达式，我们得到一个直接关系：\n$$\\Delta V_{\\mathrm{BL}} = \\frac{Q_{\\mathrm{offset}}}{C_{\\mathrm{BL}} + C_{\\mathrm{cell}}}$$\n\n读出放大器要求最小电压偏离幅度为 $\\Delta V_{\\mathrm{req}}$，因此 $|\\Delta V_{\\mathrm{BL}}| \\ge \\Delta V_{\\mathrm{req}}$。临界电荷 $Q_{\\mathrm{crit}}$ 定义为满足此条件的电荷偏移量 $|Q_{\\mathrm{offset}}|$ 的最小幅度。这个最小值出现在等式成立的阈值处：\n$$|\\Delta V_{\\mathrm{BL}}| = \\frac{|Q_{\\mathrm{offset}}|_{\\mathrm{min}}}{C_{\\mathrm{BL}} + C_{\\mathrm{cell}}} = \\Delta V_{\\mathrm{req}}$$\n根据定义，$Q_{\\mathrm{crit}} = |Q_{\\mathrm{offset}}|_{\\mathrm{min}}$。因此：\n$$\\frac{Q_{\\mathrm{crit}}}{C_{\\mathrm{BL}} + C_{\\mathrm{cell}}} = \\Delta V_{\\mathrm{req}}$$\n求解 $Q_{\\mathrm{crit}}$ 得到通用表达式：\n$$Q_{\\mathrm{crit}} = \\Delta V_{\\mathrm{req}} (C_{\\mathrm{BL}} + C_{\\mathrm{cell}})$$\n\n现在，我们用所提供的值对此表达式进行数值计算。使用一致的国际单位制（SI）单位至关重要。\n$\\Delta V_{\\mathrm{req}} = 20\\ \\mathrm{mV} = 20 \\times 10^{-3}\\ \\mathrm{V}$\n$C_{\\mathrm{BL}} = 200\\ \\mathrm{fF} = 200 \\times 10^{-15}\\ \\mathrm{F}$\n$C_{\\mathrm{cell}} = 25\\ \\mathrm{fF} = 25 \\times 10^{-15}\\ \\mathrm{F}$\n\n代入这些值：\n$$Q_{\\mathrm{crit}} = (20 \\times 10^{-3}\\ \\mathrm{V}) (200 \\times 10^{-15}\\ \\mathrm{F} + 25 \\times 10^{-15}\\ \\mathrm{F})$$\n$$Q_{\\mathrm{crit}} = (20 \\times 10^{-3}\\ \\mathrm{V}) (225 \\times 10^{-15}\\ \\mathrm{F})$$\n$$Q_{\\mathrm{crit}} = 4500 \\times 10^{-18}\\ \\mathrm{C}$$\n$$Q_{\\mathrm{crit}} = 4.5 \\times 10^{-15}\\ \\mathrm{C}$$\n\n问题要求答案以飞库仑 ($\\mathrm{fC}$) 为单位，其中 $1\\ \\mathrm{fC} = 10^{-15}\\ \\mathrm{C}$。\n$$Q_{\\mathrm{crit}} = 4.5\\ \\mathrm{fC}$$\n最后，按要求四舍五入至三位有效数字：\n$$Q_{\\mathrm{crit}} = 4.50\\ \\mathrm{fC}$$\n$V_{\\mathrm{BL0}} = 0.5\\ \\mathrm{V}$ 的值是问题背景的一部分，但如推导所示，计算临界电荷偏移量并不需要它。",
            "answer": "$$\n\\boxed{4.50}\n$$"
        },
        {
            "introduction": "与依赖电荷存储的DRAM不同，SRAM通过一个由交叉耦合反相器构成的锁存器来主动维持其状态，这使其具有“静态”特性。本练习将带您深入该锁存器的核心物理机制，推导其维持双稳态所需的环路增益条件。通过计算维持数据存储所需的最低电源电压$V_{\\mathrm{DD,min}}$ ，您将揭示SRAM在功耗与数据保持能力之间的根本性权衡。",
            "id": "3786999",
            "problem": "考虑一个由两个相同的交叉耦合互补金属氧化物半导体 (CMOS) 反相器实现的静态随机存取存储器 (SRAM) 单元。每个反相器由一个长沟道金属氧化物半导体场效应晶体管 (MOSFET) 对（一个n沟道和一个p沟道）构成，其在饱和区的漏极电流由带有沟道长度调制的平方律描述。具体来说，对于n沟道器件，\n$$\nI_{n}=\\frac{1}{2}\\beta_{n}\\left(V_{\\mathrm{in}}-V_{Tn}\\right)^{2}\\left(1+\\lambda_{n}V_{\\mathrm{out}}\\right),\n$$\n对于p沟道器件，\n$$\nI_{p}=\\frac{1}{2}\\beta_{p}\\left(V_{\\mathrm{DD}}-V_{\\mathrm{in}}-|V_{Tp}|\\right)^{2}\\left(1+\\lambda_{p}(V_{\\mathrm{DD}}-V_{\\mathrm{out}})\\right),\n$$\n其中，$V_{\\mathrm{in}}$ 是反相器输入电压，$V_{\\mathrm{out}}$ 是反相器输出电压，$V_{\\mathrm{DD}}$ 是电源电压，$\\beta_{n}$ 和 $\\beta_{p}$ 是跨导参数，$V_{Tn}$ 和 $V_{Tp}$ 是阈值电压（$|V_{Tp}|$ 是p沟道器件的阈值电压大小），$\\lambda_{n}$ 和 $\\lambda_{p}$ 是沟道长度调制参数。假设器件相同，即 $\\beta_{n}=\\beta_{p}=\\beta$、$\\lambda_{n}=\\lambda_{p}=\\lambda$ 和 $V_{Tn}=|V_{Tp}|=V_{T}$，并忽略体效应。稳态反相器特性满足 $I_{n}=I_{p}$。\n\n仅使用这些器件方程和反相器作为单端口静态非线性的定义，执行以下操作：\n\n1. 从 $I_{n}=I_{p}$ 和隐式微分出发，推导反相器在对称工作点 $V_{M}$（其中 $V_{\\mathrm{in}}=V_{\\mathrm{out}}=V_{M}$ 且两个器件承载相等电流）处的小信号差分电压增益 $A\\equiv \\left.\\frac{dV_{\\mathrm{out}}}{dV_{\\mathrm{in}}}\\right|_{V_{\\mathrm{in}}=V_{\\mathrm{out}}=V_{M}}$ 的闭式表达式。在所述对称性下，从第一性原理出发论证 $V_{M}=\\frac{V_{\\mathrm{DD}}}{2}$，并将 $A$ 表示为 $V_{\\mathrm{DD}}$、$\\lambda$ 和 $V_{T}$ 的函数。\n\n2. 对于形成SRAM单元的两个相同交叉耦合反相器，围绕对称点线性化其静态动力学，并引用基于该点环路增益的标准双稳态条件。使用您推导的 $A$ 表达式，确定在该阈上平方律模型有效性范围内，单元保持两个稳定状态的最小电源电压 $V_{\\mathrm{DD,min}}$。您必须陈述并证明在此模型下，为获得定义明确的双稳态所需的任何额外物理条件。然后，在给定 $V_{T}=0.35\\,\\mathrm{V}$ 和 $\\lambda=0.10\\,\\mathrm{V}^{-1}$ 的条件下，计算 $V_{\\mathrm{DD,min}}$ 的数值。\n\n将最终的 $V_{\\mathrm{DD,min}}$ 以伏特为单位表示，并将您的答案四舍五入到三位有效数字。",
            "solution": "此问题是有效的，因为它在科学上基于标准的半导体器件物理学，其提法适定且为唯一解提供了足够的信息，并且陈述客观。我们可以开始求解。\n\n该问题分为两部分。首先，我们推导对称CMOS反相器在其开关阈值处的小信号电压增益。其次，我们使用此结果来确定由两个此类反相器构成的SRAM单元实现双稳态所需的最小电源电压。\n\n**第1部分：反相器小信号增益**\n\nCMOS反相器的稳态行为受以下条件支配：n沟道MOSFET的漏极电流 $I_n$ 必须等于p沟道MOSFET的漏极电流 $I_p$。问题提供了饱和区电流方程，并指明器件是相同的，即 $\\beta_n = \\beta_p = \\beta$，$V_{Tn} = |V_{Tp}| = V_T$，以及 $\\lambda_n = \\lambda_p = \\lambda$。将这些对称条件代入给定方程，得到：\n$$\nI_{n}=\\frac{1}{2}\\beta\\left(V_{\\mathrm{in}}-V_{T}\\right)^{2}\\left(1+\\lambda V_{\\mathrm{out}}\\right)\n$$\n$$\nI_{p}=\\frac{1}{2}\\beta\\left(V_{\\mathrm{DD}}-V_{\\mathrm{in}}-V_{T}\\right)^{2}\\left(1+\\lambda(V_{\\mathrm{DD}}-V_{\\mathrm{out}})\\right)\n$$\n令 $I_n = I_p$ 并消去公因式 $\\frac{1}{2}\\beta$，我们得到反相器的电压传输特性 (VTC)：\n$$\n\\left(V_{\\mathrm{in}}-V_{T}\\right)^{2}\\left(1+\\lambda V_{\\mathrm{out}}\\right) = \\left(V_{\\mathrm{DD}}-V_{\\mathrm{in}}-V_{T}\\right)^{2}\\left(1+\\lambda(V_{\\mathrm{DD}}-V_{\\mathrm{out}})\\right)\n$$\n该方程隐式地定义了输出电压 $V_{\\mathrm{out}}$ 作为输入电压 $V_{\\mathrm{in}}$ 的函数。\n\n对称工作点，或称开关阈值 $V_M$，由条件 $V_{\\mathrm{in}} = V_{\\mathrm{out}} = V_M$ 定义。将此代入VTC方程，得到：\n$$\n\\left(V_{M}-V_{T}\\right)^{2}\\left(1+\\lambda V_{M}\\right) = \\left(V_{\\mathrm{DD}}-V_{M}-V_{T}\\right)^{2}\\left(1+\\lambda(V_{\\mathrm{DD}}-V_{M})\\right)\n$$\n由于n沟道和p沟道器件的完全对称性，反相器的VTC必须关于点 $(V_{DD}/2, V_{DD}/2)$ 对称。这意味着开关阈值 $V_M$ 必须为 $V_{DD}/2$。我们可以通过将 $V_M = V_{DD}/2$ 代入方程来验证这一点：\n$$\n\\left(\\frac{V_{\\mathrm{DD}}}{2}-V_{T}\\right)^{2}\\left(1+\\lambda \\frac{V_{\\mathrm{DD}}}{2}\\right) = \\left(V_{\\mathrm{DD}}-\\frac{V_{\\mathrm{DD}}}{2}-V_{T}\\right)^{2}\\left(1+\\lambda(V_{\\mathrm{DD}}-\\frac{V_{\\mathrm{DD}}}{2})\\right)\n$$\n$$\n\\left(\\frac{V_{\\mathrm{DD}}}{2}-V_{T}\\right)^{2}\\left(1+\\lambda \\frac{V_{\\mathrm{DD}}}{2}\\right) = \\left(\\frac{V_{\\mathrm{DD}}}{2}-V_{T}\\right)^{2}\\left(1+\\lambda \\frac{V_{\\mathrm{DD}}}{2}\\right)\n$$\n等式成立，从第一性原理证实了对称点确实是 $V_M = V_{DD}/2$。\n\n接下来，我们求此对称点处的小信号差分电压增益 $A \\equiv \\frac{dV_{\\mathrm{out}}}{dV_{\\mathrm{in}}}$。我们对VTC方程使用隐式微分。让我们定义一个函数 $F(V_{\\mathrm{in}}, V_{\\mathrm{out}}) = 0$ 如下：\n$$\nF(V_{\\mathrm{in}}, V_{\\mathrm{out}}) = \\left(V_{\\mathrm{in}}-V_{T}\\right)^{2}\\left(1+\\lambda V_{\\mathrm{out}}\\right) - \\left(V_{\\mathrm{DD}}-V_{\\mathrm{in}}-V_{T}\\right)^{2}\\left(1+\\lambda V_{\\mathrm{DD}}-\\lambda V_{\\mathrm{out}}\\right) = 0\n$$\n导数 $\\frac{dV_{\\mathrm{out}}}{dV_{\\mathrm{in}}}$ 由 $-\\frac{\\partial F/\\partial V_{\\mathrm{in}}}{\\partial F/\\partial V_{\\mathrm{out}}}$ 给出。我们计算偏导数：\n$$\n\\frac{\\partial F}{\\partial V_{\\mathrm{in}}} = 2(V_{\\mathrm{in}}-V_T)(1+\\lambda V_{\\mathrm{out}}) - 2(V_{\\mathrm{DD}}-V_{\\mathrm{in}}-V_T)(-1)(1+\\lambda V_{\\mathrm{DD}}-\\lambda V_{\\mathrm{out}})\n$$\n$$\n\\frac{\\partial F}{\\partial V_{\\mathrm{out}}} = (V_{\\mathrm{in}}-V_T)^2(\\lambda) - (V_{\\mathrm{DD}}-V_{\\mathrm{in}}-V_T)^2(-\\lambda) = \\lambda \\left[ (V_{\\mathrm{in}}-V_T)^2 + (V_{\\mathrm{DD}}-V_{\\mathrm{in}}-V_T)^2 \\right]\n$$\n现在，我们在对称点 $V_{\\mathrm{in}} = V_{\\mathrm{out}} = V_M = V_{DD}/2$ 处计算这些导数：\n$$\n\\left.\\frac{\\partial F}{\\partial V_{\\mathrm{in}}}\\right|_{V_M} = 2\\left(\\frac{V_{\\mathrm{DD}}}{2}-V_T\\right)\\left(1+\\lambda \\frac{V_{\\mathrm{DD}}}{2}\\right) + 2\\left(\\frac{V_{\\mathrm{DD}}}{2}-V_T\\right)\\left(1+\\lambda \\frac{V_{\\mathrm{DD}}}{2}\\right) = 4\\left(\\frac{V_{\\mathrm{DD}}}{2}-V_T\\right)\\left(1+\\lambda \\frac{V_{\\mathrm{DD}}}{2}\\right)\n$$\n$$\n\\left.\\frac{\\partial F}{\\partial V_{\\mathrm{out}}}\\right|_{V_M} = \\lambda \\left[ \\left(\\frac{V_{\\mathrm{DD}}}{2}-V_T\\right)^2 + \\left(\\frac{V_{\\mathrm{DD}}}{2}-V_T\\right)^2 \\right] = 2\\lambda\\left(\\frac{V_{\\mathrm{DD}}}{2}-V_T\\right)^2\n$$\n增益 $A$ 是该比值：\n$$\nA = -\\frac{4\\left(\\frac{V_{\\mathrm{DD}}}{2}-V_T\\right)\\left(1+\\lambda \\frac{V_{\\mathrm{DD}}}{2}\\right)}{2\\lambda\\left(\\frac{V_{\\mathrm{DD}}}{2}-V_T\\right)^2}\n$$\n假设 $\\frac{V_{\\mathrm{DD}}}{2}-V_T \\neq 0$（这是晶体管导通所必需的），我们可以简化此表达式：\n$$\nA = -\\frac{2\\left(1+\\lambda \\frac{V_{\\mathrm{DD}}}{2}\\right)}{\\lambda\\left(\\frac{V_{\\mathrm{DD}}}{2}-V_T\\right)} = -\\frac{4+2\\lambda V_{\\mathrm{DD}}}{\\lambda(V_{\\mathrm{DD}}-2V_T)}\n$$\n这就是在对称点处，增益作为 $V_{\\mathrm{DD}}$、$\\lambda$ 和 $V_T$ 函数的闭式表达式。\n\n**第2部分：双稳态与最小电源电压**\n\nSRAM单元由两个相同的交叉耦合反相器构成。设两个反相器的输出为 $V_1$ 和 $V_2$。这种耦合意味着 $V_1 = f(V_2)$ 和 $V_2 = f(V_1)$，其中 $f$ 是反相器的传输函数。对称点 $V_1=V_2=V_M$ 是系统的一个平衡点。为使单元具有双稳态（即存储一位数据），这个中心平衡点必须是不稳定的，从而使电路锁存到两个稳定状态之一（近似为 $(V_{DD}, 0)$ 和 $(0, V_{DD})$）。\n\n通过在平衡点附近对系统进行线性化来分析其稳定性。中心点不稳定，从而实现双稳态的标准条件是，小信号环路增益的绝对值必须大于1。环路增益是两个反相器增益的乘积。在对称点，两个反相器具有相同的增益 $A$。环路增益为 $L = A \\cdot A = A^2$。不稳定的条件是 $L > 1$，即 $A^2 > 1$，或 $|A| > 1$。由于反相器的增益 $A$ 是负值，这等价于条件 $A  -1$。\n\n我们将此条件应用于我们推导出的 $A$ 表达式：\n$$\n-\\frac{2\\left(1+\\lambda \\frac{V_{\\mathrm{DD}}}{2}\\right)}{\\lambda\\left(\\frac{V_{\\mathrm{DD}}}{2}-V_T\\right)}  -1\n$$\n在继续之前，我们必须陈述使此分析有效所需的物理条件。增益表达式是使用“阈上”模型推导的。为使增益在对称点 $V_M = V_{DD}/2$ 处有明确定义且非零，两个晶体管都必须导通（即，工作在它们的阈值电压之上）。\n对于n沟道器件：$V_{GS} = V_{in} = V_{DD}/2 > V_T$。\n对于p沟道器件：$V_{SG} = V_{DD}-V_{in} = V_{DD}/2 > V_T$。\n两个要求都导致了相同的条件：$V_{DD} > 2V_T$。这是我们增益计算有效性的关键物理条件。如果 $V_{DD} \\le 2V_T$，则平方律模型在对称点不适用。\n\n现在，我们回到不等式 $A  -1$。由于 $V_{DD} > 2V_T$ 且 $\\lambda > 0$，分母 $\\lambda(\\frac{V_{DD}}{2}-V_T)$ 为正。分子也为正。因此，$A$ 的表达式确实为负。我们可以将不等式两边乘以-1并反转符号：\n$$\n\\frac{2\\left(1+\\lambda \\frac{V_{\\mathrm{DD}}}{2}\\right)}{\\lambda\\left(\\frac{V_{\\mathrm{DD}}}{2}-V_T\\right)} > 1\n$$\n$$\n2 + \\lambda V_{\\mathrm{DD}} > \\lambda\\left(\\frac{V_{\\mathrm{DD}}}{2}-V_T\\right)\n$$\n$$\n2 + \\lambda V_{\\mathrm{DD}} > \\frac{\\lambda V_{\\mathrm{DD}}}{2} - \\lambda V_T\n$$\n$$\n\\frac{\\lambda V_{\\mathrm{DD}}}{2} > -2 - \\lambda V_T \\implies V_{\\mathrm{DD}} > -\\frac{4}{\\lambda} - 2V_T\n$$\n由于 $V_{DD}$、$\\lambda$ 和 $V_T$ 都是正量，不等式的右侧为负。对于任何物理上有意义的电源电压 $V_{DD} > 0$，不等式 $V_{DD} > (\\text{负数})$ 都成立。\n\n这个结果意味着，对于任何使增益模型有效的电源电压 $V_{DD}$，双稳态条件 $|A| > 1$ 都得到满足。因此，最小电源电压不是由 $|A|=1$ 的要求决定的，而是由模型有效性的边界决定的。如前所述，该模型在 $V_{DD} > 2V_T$ 时有效。在极限 $V_{DD} \\to 2V_T^+$ 时，增益 $|A| \\to \\infty$，因此双稳态条件被强满足。在此模型下，可将单元分析为双稳态的最小电源电压是此有效性范围的下界。\n$$\nV_{\\mathrm{DD,min}} = 2V_T\n$$\n给定值 $V_T = 0.35\\,\\mathrm{V}$：\n$$\nV_{\\mathrm{DD,min}} = 2 \\times 0.35\\,\\mathrm{V} = 0.70\\,\\mathrm{V}\n$$\n按要求四舍五入到三位有效数字，结果是 $0.700\\,\\mathrm{V}$。",
            "answer": "$$\\boxed{0.700}$$"
        },
        {
            "introduction": "在理解了SRAM单元如何*保持*数据之后，我们面临一个更实际的挑战：如何在不意外翻转其状态的情况下*读取*数据。本计算练习引入了衡量读取稳定性的关键指标——静态噪声容限（SNM）。您将通过编写程序来寻找最佳的晶体管尺寸比（即“单元比”），以确保SRAM单元在读取过程中的稳定性，从而将理论模型与计算机辅助设计的实践联系起来。",
            "id": "3786860",
            "problem": "考虑一个六晶体管互补金属氧化物半导体 (CMOS) 静态随机存取存储器 (SRAM) 单元在进行读操作时的情形。该单元由两个交叉耦合的反相器和两个存取晶体管组成。定义以下器件角色和符号，它们将贯穿整个问题：下拉 (PD) 晶体管、存取 (AX) 晶体管和上拉 (PU) 晶体管。设电源电压表示为 $V_{\\mathrm{DD}}$。在从节点 $Q$ 读取存储的逻辑零期间，字线被置为 $V_{\\mathrm{DD}}$，位线被预充电至 $V_{\\mathrm{DD}}$，节点 $Q$ 的电压上升到一个读干扰电压 $V_Q$。该电压由存取晶体管（从位线到节点 $Q$）和下拉晶体管（从节点 $Q$ 到地）之间的电流平衡决定。读取稳定性通过静态噪声容限 (SNM) 来量化，此处定义为 $\\mathrm{SNM}_{\\mathrm{read}} = V_M - V_Q$，其中 $V_M$ 是感测节点 $Q$ 的反相器的开关阈值（翻转点）。\n\n假设金属氧化物半导体场效应晶体管 (MOSFET) 的电流由带有沟道长度调制的 Shichman-Hodges 模型描述，其参数化形式为：\n$$\nI_D =\n\\begin{cases}\nK \\left[ (V_{GS} - V_T) V_{DS} - \\dfrac{V_{DS}^2}{2} \\right] \\left( 1 + \\lambda V_{DS} \\right),  \\text{if } V_{DS}  V_{GS} - V_T \\text{ (线性区)},\\\\\nK \\left( V_{GS} - V_T \\right)^2 \\left( 1 + \\lambda V_{DS} \\right),  \\text{if } V_{DS} \\ge V_{GS} - V_T \\text{ (饱和区)},\n\\end{cases}\n$$\n其中，$K$ 是一个与几何因子 $(W/L)$ 成正比的跨导参数，$V_{GS}$ 是栅源电压，$V_{DS}$ 是漏源电压，$V_T$ 是阈值电压，$\\lambda$ 是沟道长度调制参数。不失一般性地，将存取晶体管的强度归一化为 $K_{\\mathrm{AX}} = 1$，使得 $K_{\\mathrm{PD}} = r$ 且 $K_{\\mathrm{PU}} = p$，其中 $r = (W/L)_{\\mathrm{PD}}/(W/L)_{\\mathrm{AX}}$ 是待确定的未知比率，$p$ 是相对于存取晶体管的归一化上拉强度。对于存取晶体管，栅极电压为 $V_{\\mathrm{DD}}$，漏极电压为 $V_{\\mathrm{DD}}$，源极电压为 $V_Q$，因此 $V_{GS}^{\\mathrm{AX}} = V_{DS}^{\\mathrm{AX}} = V_{\\mathrm{DD}} - V_Q$。对于下拉晶体管，栅极电压为 $V_{\\mathrm{DD}}$，漏极电压为 $V_Q$，源极接地，因此 $V_{GS}^{\\mathrm{PD}} = V_{\\mathrm{DD}}$ 且 $V_{DS}^{\\mathrm{PD}} = V_Q$。\n\n感测反相器的翻转点 $V_M$ 由以下条件定义：在阈值点，下拉和上拉器件中的电流大小相等。此定义基于一个简化假设，即两者均处于饱和区，并且在该等式中忽略沟道长度调制：\n$$\nK_n^{1/2} \\left( V_M - V_T^{\\mathrm{PD}} \\right) = K_p^{1/2} \\left( V_{\\mathrm{DD}} - V_M - |V_T^{\\mathrm{PU}}| \\right),\n$$\n其中 $K_n = K_{\\mathrm{PD}} = r$ 且 $K_p = K_{\\mathrm{PU}} = p$，而 $|V_T^{\\mathrm{PU}}|$ 是上拉阈值电压的绝对值。解此方程可得 $V_M$：\n$$\nV_M = \\dfrac{ \\sqrt{p}\\left( V_{\\mathrm{DD}} - |V_T^{\\mathrm{PU}}| \\right) + \\sqrt{r}\\, V_T^{\\mathrm{PD}} }{ \\sqrt{p} + \\sqrt{r} }.\n$$\n\n在读取期间，节点 $Q$ 通过满足以下电流平衡条件而稳定在 $V_Q$：\n$$\nI_{\\mathrm{AX}}(V_Q; K_{\\mathrm{AX}}{=}1, V_T^{\\mathrm{AX}}, \\lambda_n, V_{\\mathrm{DD}}) = I_{\\mathrm{PD}}(V_Q; K_{\\mathrm{PD}}{=}r, V_T^{\\mathrm{PD}}, \\lambda_n, V_{\\mathrm{DD}}),\n$$\n其中，如果 $V_{GS}^{\\mathrm{AX}} \\le V_T^{\\mathrm{AX}}$，则 $I_{\\mathrm{AX}} = 0$，并且下拉电流根据 $V_Q$ 相对于 $V_{\\mathrm{DD}} - V_T^{\\mathrm{PD}}$ 的值来选择适当的工作区。然后，读取静态噪声容限计算如下：\n$$\n\\mathrm{SNM}_{\\mathrm{read}}(r) = V_M(r) - V_Q(r).\n$$\n\n你的任务是编写一个程序，对下面的每个测试用例，计算最小比率 $r_{\\min} = (W/L)_{\\mathrm{PD}}/(W/L)_{\\mathrm{AX}}$，使得 $\\mathrm{SNM}_{\\mathrm{read}}(r_{\\min}) \\ge \\mathrm{SNM}_{\\mathrm{target}}$。在 $r \\in [0.1, 100]$ 的范围内使用单调二分搜索，停止容差为 $\\Delta r = 10^{-3}$。如果 $\\mathrm{SNM}_{\\mathrm{read}}(100)  \\mathrm{SNM}_{\\mathrm{target}}$，则声明该目标无法达到，并为该测试用例输出 $-1.0$。\n\n所有电压必须以 $\\mathrm{V}$ (伏特) 为单位进行处理和报告。最终输出必须是单行，包含一个逗号分隔的列表，其中包含所有测试用例计算出的 $r_{\\min}$ 值，四舍五入到三位小数，并用方括号括起来。\n\n每个用例的测试套件参数化以有序元组的形式给出：\n$$\n\\left( V_{\\mathrm{DD}}, V_T^{\\mathrm{PD}}, V_T^{\\mathrm{AX}}, |V_T^{\\mathrm{PU}}|, p, \\lambda_n, \\mathrm{SNM}_{\\mathrm{target}} \\right),\n$$\n包含以下四个用例：\n- 用例 A (在 $V_{\\mathrm{DD}}$ 下的典型读取)：$\\left( 0.8,\\ 0.35,\\ 0.40,\\ 0.40,\\ 0.50,\\ 0.05,\\ 0.150 \\right)$。\n- 用例 B (强上拉，稍高的 $|V_T^{\\mathrm{PU}}|$)：$\\left( 0.8,\\ 0.35,\\ 0.40,\\ 0.45,\\ 1.20,\\ 0.05,\\ 0.150 \\right)$。\n- 用例 C (因更高阈值和更大沟道长度调制而导致的弱存取晶体管)：$\\left( 0.8,\\ 0.35,\\ 0.45,\\ 0.40,\\ 0.70,\\ 0.10,\\ 0.150 \\right)$。\n- 用例 D (严格的容限目标)：$\\left( 0.8,\\ 0.35,\\ 0.40,\\ 0.40,\\ 0.50,\\ 0.05,\\ 0.300 \\right)$。\n\n你的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表，例如 $\\left[ r_A, r_B, r_C, r_D \\right]$，其中每个 $r$ 值都按要求四舍五入到三位小数。",
            "solution": "该问题是有效的。这是一个在半导体器件建模和数字电路设计领域中具有科学依据的适定问题，具体涉及六晶体管 (6T) 静态随机存取存储器 (SRAM) 单元的读取稳定性。所有必要的物理模型、参数和数值步骤均已提供，没有矛盾或歧义。\n\n目标是确定最小的晶体管尺寸比 $r_{\\min} = (W/L)_{\\mathrm{PD}}/(W/L)_{\\mathrm{AX}}$，使得读取静态噪声容限 $\\mathrm{SNM}_{\\mathrm{read}}$ 能够达到或超过指定目标 $\\mathrm{SNM}_{\\mathrm{target}}$。该比率代表了下拉 (PD) 晶体管相对于存取 (AX) 晶体管的相对强度。更高的 $r$ 值意味着更强的下拉晶体管，这增强了单元在读操作期间保持逻辑“0”状态的能力。\n\n解决方案需要采用数值方法，因为控制方程是非线性的。该方法的核心是二分搜索，以寻找满足条件 $\\mathrm{SNM}_{\\mathrm{read}}(r) = \\mathrm{SNM}_{\\mathrm{target}}$ 的 $r$ 值。由于物理推理和初步分析表明，对于给定参数，$\\mathrm{SNM}_{\\mathrm{read}}$ 是 $r$ 的单调递增函数，因此二分搜索是一种合适且稳健的算法。\n\n每个测试用例的总体计算过程如下：\n1.  实现一个函数，该函数能根据给定的比率 $r$ 和一组器件参数计算 $\\mathrm{SNM}_{\\mathrm{read}}(r)$。\n2.  在指定的 $r$ 范围 $[0.1, 100]$ 内，于一个二分搜索算法中使用此函数，以找到满足 $\\mathrm{SNM}_{\\mathrm{read}}(r_{\\min}) \\ge \\mathrm{SNM}_{\\mathrm{target}}$ 的最小值 $r_{\\min}$。\n\n$\\mathrm{SNM}_{\\mathrm{read}}(r) = V_M(r) - V_Q(r)$ 的计算本身涉及两个不同的步骤：\n\n首先，反相器翻转点 $V_M$ 的计算由一个从简化假设中推导出的直接公式给出：\n$$\nV_M(r) = \\dfrac{ \\sqrt{p}\\left( V_{\\mathrm{DD}} - |V_T^{\\mathrm{PU}}| \\right) + \\sqrt{r}\\, V_T^{\\mathrm{PD}} }{ \\sqrt{p} + \\sqrt{r} }\n$$\n此处，$p$ 是上拉 (PU) 晶体管的归一化强度，$V_{\\mathrm{DD}}$ 是电源电压，$V_T^{\\mathrm{PU}}$ 和 $V_T^{\\mathrm{PD}}$ 分别是 PU 和 PD 晶体管的阈值电压。在二分搜索中，对每个试验的 $r$ 值都会计算此表达式。\n\n其次，存储节点上的读干扰电压 $V_Q$ 的计算更为复杂。$V_Q$ 是存储逻辑“0”的节点因电流从预充电位线通过存取晶体管流入而上升到的电压。当存取晶体管吸入的电流 $I_{\\mathrm{AX}}$ 等于导通的下拉晶体管灌入的电流 $I_{\\mathrm{PD}}$ 时，该电压达到稳定。我们必须为 $V_Q$ 求解以下非线性方程：\n$$\nf(V_Q, r) = I_{\\mathrm{PD}}(V_Q, r) - I_{\\mathrm{AX}}(V_Q) = 0\n$$\n这个求根问题也需要数值求解，方法是在物理上有意义的区间 $[0, V_{\\mathrm{DD}} - V_T^{\\mathrm{AX}}]$ 内对 $V_Q$ 使用嵌套二分搜索。大于 $V_{\\mathrm{DD}} - V_T^{\\mathrm{AX}}$ 的电压会关断存取晶体管，导致 $I_{\\mathrm{AX}} = 0$，这与维持一个非零的 $V_Q$ 相矛盾。\n\n晶体管电流 $I_{\\mathrm{AX}}$ 和 $I_{\\mathrm{PD}}$ 使用所提供的 Shichman-Hodges 模型确定，并考虑每个器件的正确工作区（线性区或饱和区）。\n\n对于存取 (AX) 晶体管，其栅极和漏极连接到 $V_{\\mathrm{DD}}$，源极连接到 $V_Q$，我们有 $V_{GS}^{\\mathrm{AX}} = V_{\\mathrm{DD}} - V_Q$ 且 $V_{DS}^{\\mathrm{AX}} = V_{\\mathrm{DD}} - V_Q$。由于 $V_T^{\\mathrm{AX}} > 0$，当器件导通时（$V_{GS}^{\\mathrm{AX}} > V_T^{\\mathrm{AX}}$），饱和条件 $V_{DS} \\ge V_{GS} - V_T$ 总是满足。因此电流为：\n$$\nI_{\\mathrm{AX}}(V_Q) =\n\\begin{cases}\nK_{\\mathrm{AX}} \\left( (V_{\\mathrm{DD}} - V_Q) - V_T^{\\mathrm{AX}} \\right)^2 \\left( 1 + \\lambda_n (V_{\\mathrm{DD}} - V_Q) \\right),  \\text{if } V_Q  V_{\\mathrm{DD}} - V_T^{\\mathrm{AX}} \\\\\n0,  \\text{if } V_Q \\ge V_{\\mathrm{DD}} - V_T^{\\mathrm{AX}}\n\\end{cases}\n$$\n其归一化强度为 $K_{\\mathrm{AX}} = 1$。\n\n对于下拉 (PD) 晶体管，其栅极电压为 $V_{\\mathrm{DD}}$，漏极电压为 $V_Q$，源极接地，我们有 $V_{GS}^{\\mathrm{PD}} = V_{\\mathrm{DD}}$ 且 $V_{DS}^{\\mathrm{PD}} = V_Q$。如果 $V_Q  V_{\\mathrm{DD}} - V_T^{\\mathrm{PD}}$，器件工作在线性区；否则工作在饱和区。电流为：\n$$\nI_{\\mathrm{PD}}(V_Q, r) = r \\times\n\\begin{cases}\n\\left[ (V_{\\mathrm{DD}} - V_T^{\\mathrm{PD}}) V_Q - \\frac{V_Q^2}{2} \\right] \\left( 1 + \\lambda_n V_Q \\right),  \\text{if } V_Q  V_{\\mathrm{DD}} - V_T^{\\mathrm{PD}} \\text{ (线性区)}\\\\\n\\left( V_{\\mathrm{DD}} - V_T^{\\mathrm{PD}} \\right)^2 \\left( 1 + \\lambda_n V_Q \\right),  \\text{if } V_Q \\ge V_{\\mathrm{DD}} - V_T^{\\mathrm{PD}} \\text{ (饱和区)}\n\\end{cases}\n$$\n其强度为 $K_{\\mathrm{PD}} = r$。\n\n对 $r$ 的主二分搜索按如下方式进行。搜索范围初始化为 $[r_{\\mathrm{low}}, r_{\\mathrm{high}}] = [0.1, 100]$。首先执行一个初步检查：如果 $\\mathrm{SNM}_{\\mathrm{read}}(100)  \\mathrm{SNM}_{\\mathrm{target}}$，则目标被视为无法达到，结果为 $-1.0$。否则，搜索进行迭代：\n1.  计算中点 $r_{\\mathrm{mid}} = (r_{\\mathrm{low}} + r_{\\mathrm{high}}) / 2$。\n2.  通过求解 $V_Q(r_{\\mathrm{mid}})$ 和 $V_M(r_{\\mathrm{mid}})$ 来计算 $\\mathrm{SNM}_{\\mathrm{read}}(r_{\\mathrm{mid}})$。\n3.  如果 $\\mathrm{SNM}_{\\mathrm{read}}(r_{\\mathrm{mid}})  \\mathrm{SNM}_{\\mathrm{target}}$，则比率 $r_{\\mathrm{mid}}$ 太小，无法达到所需的稳定性。搜索空间更新为 $[r_{\\mathrm{mid}}, r_{\\mathrm{high}}]$。\n4.  如果 $\\mathrm{SNM}_{\\mathrm{read}}(r_{\\mathrm{mid}}) \\ge \\mathrm{SNM}_{\\mathrm{target}}$，则比率 $r_{\\mathrm{mid}}$ 是足够的，但更小的比率也可能足够。搜索空间更新为 $[r_{\\mathrm{low}}, r_{\\mathrm{mid}}]$。\n这个过程持续进行，直到区间 $(r_{\\mathrm{high}} - r_{\\mathrm{low}})$ 小于指定的容差 $10^{-3}$。最终结果是所得区间的上界 $r_{\\mathrm{high}}$，它代表了找到的满足容限要求的最小 $r$ 值。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n# from scipy import ...\n\ndef current_balance_func(V_Q, r, V_DD, V_T_PD, V_T_AX, lambda_n):\n    \"\"\"\n    Calculates the difference I_PD - I_AX for a given V_Q and r.\n    The root of this function is the stable read-disturbed voltage V_Q.\n    \"\"\"\n    # I_AX (Access Transistor) Current Calculation\n    # Gate at V_DD, Drain at V_DD, Source at V_Q\n    V_GS_AX = V_DD - V_Q\n    V_DS_AX = V_DD - V_Q\n    \n    I_AX = 0.0\n    # The transistor is on only if V_GS > V_T\n    if V_GS_AX > V_T_AX:\n        # AX transistor is always in saturation when on because V_DS_AX = V_GS_AX\n        # and V_T_AX > 0, so V_DS_AX >= V_GS_AX - V_T_AX is always true.\n        K_AX = 1.0  # Normalized\n        I_AX = K_AX * ((V_GS_AX - V_T_AX) ** 2) * (1 + lambda_n * V_DS_AX)\n\n    # I_PD (Pull-Down Transistor) Current Calculation\n    # Gate at V_DD, Drain at V_Q, Source at 0V\n    V_GS_PD = V_DD\n    V_DS_PD = V_Q\n    K_PD = r\n    \n    Vdsat_PD = V_GS_PD - V_T_PD\n    \n    if V_DS_PD  Vdsat_PD:  # Linear region\n        I_PD = K_PD * ((V_GS_PD - V_T_PD) * V_DS_PD - (V_DS_PD ** 2) / 2) * (1 + lambda_n * V_DS_PD)\n    else:  # Saturation region\n        I_PD = K_PD * ((V_GS_PD - V_T_PD) ** 2) * (1 + lambda_n * V_DS_PD)\n        \n    return I_PD - I_AX\n\ndef find_vq(r, V_DD, V_T_PD, V_T_AX, lambda_n):\n    \"\"\"\n    Finds the read-disturbed voltage V_Q using a bisection search.\n    V_Q is the root of the current_balance_func.\n    \"\"\"\n    # Search for V_Q in the physically meaningful range [0, V_DD - V_T_AX]\n    vq_low = 0.0\n    vq_high = V_DD - V_T_AX\n    \n    # If V_DD = V_T_AX, access transistor is always off, V_Q remains 0.\n    if vq_high = 0:\n        return 0.0\n    \n    # Check if a root exists in the interval.\n    # At V_Q=0, I_PD=0, I_AX>0, so func  0.\n    # At V_Q=vq_high, I_AX=0, I_PD>0, so func > 0. A root is guaranteed.\n    \n    # Bisection search provides sufficient precision with a fixed number of iterations.\n    for _ in range(100):\n        vq_mid = (vq_low + vq_high) / 2\n        balance = current_balance_func(vq_mid, r, V_DD, V_T_PD, V_T_AX, lambda_n)\n        \n        if balance  0:\n            # I_PD  I_AX, V_Q is too low, increase it\n            vq_low = vq_mid\n        else:\n            # I_PD > I_AX, V_Q is too high, decrease it\n            vq_high = vq_mid\n            \n    return (vq_low + vq_high) / 2\n\ndef calculate_snm(r, V_DD, V_T_PD, V_T_AX, abs_V_T_PU, p, lambda_n):\n    \"\"\"Calculates the read Static Noise Margin (SNM) for a given ratio r.\"\"\"\n    # Calculate Inverter Trip Point V_M\n    sqrt_p = np.sqrt(p)\n    sqrt_r = np.sqrt(r)\n    V_M = (sqrt_p * (V_DD - abs_V_T_PU) + sqrt_r * V_T_PD) / (sqrt_p + sqrt_r)\n    \n    # Calculate Read-Disturbed Voltage V_Q\n    V_Q = find_vq(r, V_DD, V_T_PD, V_T_AX, lambda_n)\n    \n    return V_M - V_Q\n\ndef find_min_r(V_DD, V_T_PD, V_T_AX, abs_V_T_PU, p, lambda_n, SNM_target):\n    \"\"\"\n    Finds the minimum ratio r_min such that SNM >= SNM_target\n    using a bisection search over r in [0.1, 100].\n    \"\"\"\n    r_low, r_high = 0.1, 100.0\n    tolerance = 1e-3\n\n    # Check if the target is attainable even with the strongest pull-down.\n    snm_at_max_r = calculate_snm(r_high, V_DD, V_T_PD, V_T_AX, abs_V_T_PU, p, lambda_n)\n    if snm_at_max_r  SNM_target:\n        return -1.0\n    \n    # Since SNM(r) is monotonic increasing with r, we find r where SNM(r) = SNM_target.\n    # This r will be the minimum r satisfying SNM(r) >= SNM_target.\n    while (r_high - r_low) > tolerance:\n        r_mid = (r_low + r_high) / 2\n        current_snm = calculate_snm(r_mid, V_DD, V_T_PD, V_T_AX, abs_V_T_PU, p, lambda_n)\n        \n        if current_snm  SNM_target:\n            # Ratio is too small, need a stronger pull-down\n            r_low = r_mid\n        else:\n            # Ratio is sufficient, try for a smaller one\n            r_high = r_mid\n            \n    # r_high is the lowest value found in the search that meets the target.\n    return r_high\n\ndef solve():\n    # Define the test cases from the problem statement.\n    test_cases = [\n        # (V_DD, V_T^PD, V_T^AX, |V_T^PU|, p, lambda_n, SNM_target)\n        (0.8, 0.35, 0.40, 0.40, 0.50, 0.05, 0.150),  # Case A\n        (0.8, 0.35, 0.40, 0.45, 1.20, 0.05, 0.150),  # Case B\n        (0.8, 0.35, 0.45, 0.40, 0.70, 0.10, 0.150),  # Case C\n        (0.8, 0.35, 0.40, 0.40, 0.50, 0.05, 0.300),  # Case D\n    ]\n\n    results = []\n    for case in test_cases:\n        r_min = find_min_r(*case)\n        # Format to three decimal places. Using format avoids float representation issues.\n        results.append(\"{:.3f}\".format(r_min))\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(results)}]\")\n\nsolve()\n```"
        }
    ]
}