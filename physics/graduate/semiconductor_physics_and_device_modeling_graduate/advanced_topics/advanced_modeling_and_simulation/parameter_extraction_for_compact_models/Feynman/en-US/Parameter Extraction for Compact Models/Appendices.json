{
    "hands_on_practices": [
        {
            "introduction": "A cornerstone of a robust compact model is self-consistency, where parameters extracted from one type of measurement accurately predict behavior in another. This exercise explores the fundamental link between a MOSFET's capacitance-voltage (C-V) and subthreshold current-voltage (I-V) characteristics through the slope factor, $n$. By extracting $n$ from C-V data and using it to predict the Subthreshold Swing ($SS$) across a range of temperatures, you will practice a critical model validation technique and verify the applicability of non-degenerate carrier statistics .",
            "id": "3764173",
            "problem": "A planar, long-channel Metal–Oxide–Semiconductor Field-Effect Transistor (MOSFET) is characterized by quasi-static Capacitance–Voltage (C–V) and subthreshold Current–Voltage (I–V) measurements. The device has a rectangular gate of area $A = 1.0 \\times 10^{-10}\\,\\mathrm{m^2}$, a silicon dioxide gate dielectric of thickness $t_{ox} = 2.00 \\times 10^{-9}\\,\\mathrm{m}$, and dielectric permittivity $\\varepsilon_{ox} = 3.9\\,\\varepsilon_0$ with vacuum permittivity $\\varepsilon_0 = 8.854 \\times 10^{-12}\\,\\mathrm{F/m}$. A quasi-static C–V measurement at a gate bias in mid-depletion yields a small-signal gate capacitance of $C_g = 5.00 \\times 10^{-13}\\,\\mathrm{F}$. Subthreshold I–V measurements of drain current versus gate voltage produce the following Subthreshold Swing (SS) values in $\\mathrm{V/dec}$ over temperature: $SS(200\\,\\mathrm{K}) = 5.620 \\times 10^{-2}$, $SS(300\\,\\mathrm{K}) = 8.433 \\times 10^{-2}$, and $SS(400\\,\\mathrm{K}) = 1.124 \\times 10^{-1}$.\n\nStarting from the definitions of small-signal capacitance in depletion (series combination of oxide and space-charge region) and the Boltzmann carrier statistics for non-degenerate semiconductors (subthreshold drain current proportional to $\\exp\\!\\left(q \\psi_s / k_B T\\right)$, where $\\psi_s$ is the surface potential, $q$ is the elementary charge, $k_B$ is the Boltzmann constant, and $T$ is the absolute temperature), derive the gate–surface potential coupling factor (slope factor) $n$ and extract its value from the given C–V data. Then, use this $n$ to predict the temperature dependence of $SS(T)$ and assess the consistency of the given I–V data with non-degenerate statistics over the provided temperature range, commenting on whether Fermi–Dirac degeneracy is relevant. Take $q = 1.602176634 \\times 10^{-19}\\,\\mathrm{C}$ and $k_B = 1.380649 \\times 10^{-23}\\,\\mathrm{J/K}$.\n\nReport the extracted slope factor $n$ as your final answer. Round your answer to four significant figures. The final answer is dimensionless; do not include units in your final reported value.",
            "solution": "The primary objective is to extract the gate–surface potential coupling factor, or slope factor, $n$, from the provided Capacitance-Voltage (C-V) data and then to assess the consistency of this result with temperature-dependent subthreshold swing (SS) measurements.\n\nFirst, we determine the oxide capacitance per unit area, $C'_{ox}$, and the total oxide capacitance, $C_{ox}$. The oxide capacitance per unit area is given by:\n$$ C'_{ox} = \\frac{\\varepsilon_{ox}}{t_{ox}} $$\nwhere $\\varepsilon_{ox}$ is the permittivity of the gate dielectric and $t_{ox}$ is its thickness. The total gate oxide capacitance $C_{ox}$ is then:\n$$ C_{ox} = C'_{ox} A = \\frac{\\varepsilon_{ox} A}{t_{ox}} $$\nwhere $A$ is the gate area. Using the provided values:\n-   $A = 1.0 \\times 10^{-10}\\,\\mathrm{m^2}$\n-   $t_{ox} = 2.00 \\times 10^{-9}\\,\\mathrm{m}$\n-   $\\varepsilon_{ox} = 3.9\\,\\varepsilon_0 = 3.9 \\times (8.854 \\times 10^{-12}\\,\\mathrm{F/m})$\n\nWe calculate $C_{ox}$:\n$$ C_{ox} = \\frac{3.9 \\times (8.854 \\times 10^{-12}\\,\\mathrm{F/m}) \\times (1.0 \\times 10^{-10}\\,\\mathrm{m^2})}{2.00 \\times 10^{-9}\\,\\mathrm{m}} $$\n$$ C_{ox} = \\frac{3.45306 \\times 10^{-21}\\,\\mathrm{F \\cdot m}}{2.00 \\times 10^{-9}\\,\\mathrm{m}} = 1.72653 \\times 10^{-12}\\,\\mathrm{F} $$\n\nThe problem states that the device is biased in mid-depletion. In this regime, the total small-signal gate capacitance, $C_g$, is a series combination of the oxide capacitance, $C_{ox}$, and the semiconductor depletion-layer capacitance, $C_d$.\n$$ \\frac{1}{C_g} = \\frac{1}{C_{ox}} + \\frac{1}{C_d} $$\nThe slope factor, $n$, quantifies the relationship between the gate voltage, $V_g$, and the surface potential, $\\psi_s$. It is defined as $n = dV_g/d\\psi_s$. Applying the voltage divider principle to the capacitive network of the MOS structure shows that this factor can be expressed as:\n$$ n = 1 + \\frac{C_d}{C_{ox}} $$\nThis equation includes the depletion capacitance $C_d$, which is not directly given. We can express $n$ in terms of the given capacitances, $C_g$ and $C_{ox}$. From the series capacitance formula, we solve for $C_d$:\n$$ \\frac{1}{C_d} = \\frac{1}{C_g} - \\frac{1}{C_{ox}} = \\frac{C_{ox} - C_g}{C_g C_{ox}} \\implies C_d = \\frac{C_g C_{ox}}{C_{ox} - C_g} $$\nSubstituting this expression for $C_d$ into the equation for $n$:\n$$ n = 1 + \\frac{1}{C_{ox}} \\left( \\frac{C_g C_{ox}}{C_{ox} - C_g} \\right) = 1 + \\frac{C_g}{C_{ox} - C_g} $$\n$$ n = \\frac{(C_{ox} - C_g) + C_g}{C_{ox} - C_g} = \\frac{C_{ox}}{C_{ox} - C_g} $$\nNow we can compute the value of $n$ using the calculated $C_{ox}$ and the given $C_g = 5.00 \\times 10^{-13}\\,\\mathrm{F}$.\n$$ n = \\frac{1.72653 \\times 10^{-12}\\,\\mathrm{F}}{1.72653 \\times 10^{-12}\\,\\mathrm{F} - 5.00 \\times 10^{-13}\\,\\mathrm{F}} = \\frac{1.72653 \\times 10^{-12}}{1.22653 \\times 10^{-12}} $$\n$$ n \\approx 1.407699 $$\nRounding to four significant figures as required, we get $n = 1.408$.\n\nNext, we assess the consistency of this extracted value of $n$ with the subthreshold I-V data. The subthreshold drain current, $I_D$, for a long-channel MOSFET is dominated by diffusion and is proportional to the carrier concentration at the surface, which varies exponentially with the surface potential $\\psi_s$ according to Boltzmann statistics:\n$$ I_D \\propto \\exp\\left(\\frac{q \\psi_s}{k_B T}\\right) $$\nwhere $q$ is the elementary charge, $k_B$ is the Boltzmann constant, and $T$ is the absolute temperature. The Subthreshold Swing ($SS$) is defined as the change in gate voltage required to change the drain current by one order of magnitude (one decade):\n$$ SS = \\frac{d V_g}{d (\\log_{10} I_D)} = \\frac{d V_g}{d (\\ln I_D / \\ln 10)} = \\ln(10) \\frac{d V_g}{d (\\ln I_D)} $$\nTo evaluate the derivative, we use the chain rule:\n$$ \\frac{d (\\ln I_D)}{d V_g} = \\frac{d (\\ln I_D)}{d \\psi_s} \\frac{d \\psi_s}{d V_g} $$\nFrom the expression for $I_D$, we find $\\frac{d (\\ln I_D)}{d \\psi_s} = \\frac{q}{k_B T}$. By definition, $\\frac{d \\psi_s}{d V_g} = \\frac{1}{n}$.\nSubstituting these into the chain rule expression:\n$$ \\frac{d (\\ln I_D)}{d V_g} = \\frac{q}{k_B T} \\frac{1}{n} $$\nTherefore, $\\frac{d V_g}{d (\\ln I_D)} = \\frac{n k_B T}{q}$. The expression for the Subthreshold Swing becomes:\n$$ SS(T) = n \\left(\\frac{k_B T}{q}\\right) \\ln(10) $$\nThis equation predicts a linear relationship between $SS$ and temperature $T$, with the slope determined by the factor $n$. We can now use our extracted value $n \\approx 1.4077$ to predict the $SS$ at the given temperatures. The term $\\frac{k_B}{q}\\ln(10)$ evaluates to:\n$$ \\frac{k_B}{q}\\ln(10) = \\frac{1.380649 \\times 10^{-23}\\,\\mathrm{J/K}}{1.602176634 \\times 10^{-19}\\,\\mathrm{C}} \\times \\ln(10) \\approx 1.9840 \\times 10^{-4}\\,\\mathrm{V/K} $$\nPredicted $SS$ values:\n-   At $T = 200\\,\\mathrm{K}$: $SS_{pred} = 1.4077 \\times (200\\,\\mathrm{K}) \\times (1.9840 \\times 10^{-4}\\,\\mathrm{V/K}) \\approx 0.05586\\,\\mathrm{V/dec}$.\n    The measured value is $SS_{data}(200\\,\\mathrm{K}) = 0.05620\\,\\mathrm{V/dec}$. The relative difference is $\\approx 0.6\\%$.\n-   At $T = 300\\,\\mathrm{K}$: $SS_{pred} = 1.4077 \\times (300\\,\\mathrm{K}) \\times (1.9840 \\times 10^{-4}\\,\\mathrm{V/K}) \\approx 0.08379\\,\\mathrm{V/dec}$.\n    The measured value is $SS_{data}(300\\,\\mathrm{K}) = 0.08433\\,\\mathrm{V/dec}$. The relative difference is $\\approx 0.6\\%$.\n-   At $T = 400\\,\\mathrm{K}$: $SS_{pred} = 1.4077 \\times (400\\,\\mathrm{K}) \\times (1.9840 \\times 10^{-4}\\,\\mathrm{V/K}) \\approx 0.1117\\,\\mathrm{V/dec}$.\n    The measured value is $SS_{data}(400\\,\\mathrm{K}) = 0.1124\\,\\mathrm{V/dec}$. The relative difference is $\\approx 0.6\\%$.\n\nThe exceptional agreement (within $1\\%$) between the predicted $SS$ values (derived from C-V data) and the measured $SS$ values (from I-V data) across a wide temperature range confirms the self-consistency of the data set and the validity of the underlying physical model. Specifically, it confirms that the slope factor $n$ is constant for these conditions and that the subthreshold current follows the behavior predicted by non-degenerate Boltzmann statistics. Fermi-Dirac degeneracy, which becomes relevant in strong inversion when the carrier concentration is high enough for quantum statistical effects to appear, is clearly not a factor in the subthreshold regime from which this data was obtained. The consistency of the data with the Boltzmann model is direct evidence against the relevance of degeneracy effects.\n\nThe final extracted value for the slope factor $n$, rounded to four significant figures, is $1.408$.",
            "answer": "$$ \\boxed{1.408} $$"
        },
        {
            "introduction": "As transistor dimensions shrink into the nanometer scale, classical long-channel theory no longer suffices, and high-field effects like carrier velocity saturation become dominant. This practice delves into this crucial short-channel effect by guiding you through the derivation of a compact model expression for the saturation drain voltage, $V_{DS,\\text{sat}}$. You will then apply this model to extract a key parameter, $V_E$, which captures the onset of velocity saturation, directly from a set of hypothetical measurement data .",
            "id": "3764196",
            "problem": "A short-channel $n$-channel Metal-Oxide-Semiconductor Field-Effect Transistor (MOSFET) operated in strong inversion exhibits pinch-off and current saturation when the longitudinal electric field near the drain becomes sufficiently large that carrier transport is limited by velocity saturation rather than by channel charge alone. Consider a device for which the inversion charge per unit area along the channel in the gradual-channel approximation is $Q_{\\text{inv}}(x) = C_{\\text{ox}}\\big(V_{G} - V_{th} - V(x)\\big)$, where $C_{\\text{ox}}$ is the oxide capacitance per unit area, $V_{G}$ is the gate voltage, $V_{th}$ is the threshold voltage, and $V(x)$ is the channel potential referenced to the source. Assume drift transport with a saturating velocity characteristic $v(E)$ that increases linearly at low field and rolls off at high field due to scattering, and that quasi-static conditions hold so that the current density $J$ is uniform along the channel. Use a physically justified velocity-field relation consistent with the above qualitative description to obtain an analytic dependence of the saturation drain voltage $V_{DS,\\text{sat}}$ on the gate overdrive $V_{\\text{ov}} = V_{G} - V_{th}$, introducing a single empirical voltage scale $V_{E}$ which encodes the onset of high-field transport. Show that the resulting compact-model dependence is asymptotically correct in both the long-channel (low-field) and short-channel (high-field) limits, and identify $V_{E}$ with a field-length product that can be interpreted as a carrier transport energy per unit charge across the effective channel.\n\nYou are given measured pinch-off (onset-of-saturation) drain voltages at several gate biases for a device with effective channel length $L = 50\\,\\text{nm}$ and threshold voltage $V_{th} = 0.40\\,\\text{V}$. The measured values are:\n- $V_{G} = 0.60\\,\\text{V}$, $V_{DS,\\text{sat}}^{\\text{meas}} = 0.142857\\,\\text{V}$,\n- $V_{G} = 0.80\\,\\text{V}$, $V_{DS,\\text{sat}}^{\\text{meas}} = 0.222222\\,\\text{V}$,\n- $V_{G} = 1.00\\,\\text{V}$, $V_{DS,\\text{sat}}^{\\text{meas}} = 0.272727\\,\\text{V}$,\n- $V_{G} = 1.20\\,\\text{V}$, $V_{DS,\\text{sat}}^{\\text{meas}} = 0.307692\\,\\text{V}$.\n\nUsing your derived dependence, extract the empirical voltage scale $V_{E}$ from these measurements. Express the final answer in volts and round your answer to four significant figures.",
            "solution": "The problem requires the derivation of an expression for the saturation drain voltage, $V_{DS,\\text{sat}}$, as a function of the gate overdrive voltage, $V_{\\text{ov}}$, for a short-channel MOSFET, and subsequent extraction of a model parameter, $V_E$, from provided data.\n\nFirst, we validate the problem statement.\nThe givens are:\n- Inversion charge density model: $Q_{\\text{inv}}(x) = C_{\\text{ox}}\\big(V_{G} - V_{th} - V(x)\\big)$.\n- Gate overdrive: $V_{\\text{ov}} = V_{G} - V_{th}$.\n- Transport model: Drift current with a saturating velocity profile $v(E)$.\n- A single empirical voltage scale $V_E$ is to be introduced.\n- Asymptotic correctness for long- and short-channel limits must be verified.\n- Device parameters: channel length $L = 50\\,\\text{nm}$, threshold voltage $V_{th} = 0.40\\,\\text{V}$.\n- Measured data pairs $(V_G, V_{DS,\\text{sat}}^{\\text{meas}})$: $(0.60\\,\\text{V}, 0.142857\\,\\text{V})$, $(0.80\\,\\text{V}, 0.222222\\,\\text{V})$, $(1.00\\,\\text{V}, 0.272727\\,\\text{V})$, $(1.20\\,\\text{V}, 0.307692\\,\\text{V})$.\n\nThe problem is scientifically grounded in established semiconductor device physics, specifically the gradual channel approximation and velocity saturation effects. It is well-posed, objective, and contains sufficient information for a unique solution. The provided data values are physically realistic for a nanoscale device. The problem is deemed valid.\n\nWe now proceed with the derivation.\n\nThe drain current $I_D$ in a MOSFET is given by the product of the mobile charge per unit length and the carrier drift velocity $v(x)$. For a device of width $W$, this is:\n$$ I_D = W |Q_{\\text{inv}}(x)| v(x) $$\nUsing the provided expression for the inversion charge, and noting that for an n-channel device the charge is negative, we have $|Q_{\\text{inv}}(x)| = C_{\\text{ox}}\\big(V_{G} - V_{th} - V(x)\\big) = C_{\\text{ox}}\\big(V_{\\text{ov}} - V(x)\\big)$. The current is thus:\n$$ I_D = W C_{\\text{ox}} \\big(V_{\\text{ov}} - V(x)\\big) v(x) $$\nThe problem requires using a physically justified velocity-field relation that is linear at low field $E$ and saturates at high field. A common and simple model for this behavior is:\n$$ v(E) = \\frac{\\mu E}{1 + E/E_{\\text{sat}}} $$\nwhere $\\mu$ is the low-field mobility and $E_{\\text{sat}}$ is the critical electric field at which velocity saturation effects become prominent. The longitudinal electric field is $E(x) = dV/dx$. Substituting this into the current equation:\n$$ I_D = W C_{\\text{ox}} \\big(V_{\\text{ov}} - V(x)\\big) \\frac{\\mu \\frac{dV}{dx}}{1 + \\frac{1}{E_{\\text{sat}}}\\frac{dV}{dx}} $$\nThis equation must hold for any position $x$ along the channel. To find the current-voltage characteristic, we rearrange and integrate along the channel from the source ($x=0$, $V=0$) to the drain ($x=L$, $V=V_{DS}$).\n$$ I_D \\left(1 + \\frac{1}{E_{\\text{sat}}} \\frac{dV}{dx} \\right) dx = W C_{\\text{ox}} \\mu \\big(V_{\\text{ov}} - V(x)\\big) dV $$\n$$ I_D dx = \\left( W C_{\\text{ox}} \\mu (V_{\\text{ov}} - V) - \\frac{I_D}{E_{\\text{sat}}} \\right) dV $$\nIntegrating from source to drain:\n$$ \\int_0^L I_D dx = \\int_0^{V_{DS}} \\left( W C_{\\text{ox}} \\mu (V_{\\text{ov}} - V) - \\frac{I_D}{E_{\\text{sat}}} \\right) dV $$\n$$ I_D L = W C_{\\text{ox}} \\mu \\left(V_{\\text{ov}}V_{DS} - \\frac{V_{DS}^2}{2}\\right) - \\frac{I_D V_{DS}}{E_{\\text{sat}}} $$\nSolving for $I_D$:\n$$ I_D \\left(L + \\frac{V_{DS}}{E_{\\text{sat}}}\\right) = W C_{\\text{ox}} \\mu \\left(V_{\\text{ov}}V_{DS} - \\frac{V_{DS}^2}{2}\\right) $$\n$$ I_D = \\frac{W C_{\\text{ox}} \\mu\\left(V_{\\text{ov}}V_{DS} - \\frac{1}{2}V_{DS}^2\\right)}{L\\left(1 + \\frac{V_{DS}}{L E_{\\text{sat}}}\\right)} $$\n\nThe saturation condition in a short-channel device is reached when carriers at the drain end of the channel reach their saturation velocity, $v_{\\text{sat}} = \\mu E_{\\text{sat}}$. In our velocity-field model, this occurs asymptotically as $E \\to \\infty$. A practical and physically sound definition for the onset of saturation is when the electric field at the drain, $E(L)$, reaches the critical field, $E_{\\text{sat}}$. Let $V_{DS,\\text{sat}}$ be the drain voltage at this point.\n\nWe can express the electric field $E(x)$ from the current equation:\n$$ E(x) = \\frac{dV}{dx} = \\frac{I_D}{W C_{\\text{ox}} \\mu (V_{\\text{ov}}-V) - \\frac{I_D}{E_{\\text{sat}}}} $$\nAt the drain end at the onset of saturation, $x=L$, $V=V_{DS,\\text{sat}}$, and $E(L) = E_{\\text{sat}}$. The current is the saturation current, $I_{D,\\text{sat}}$.\n$$ E_{\\text{sat}} = \\frac{I_{D,\\text{sat}}}{W C_{\\text{ox}} \\mu (V_{\\text{ov}}-V_{DS,\\text{sat}}) - \\frac{I_{D,\\text{sat}}}{E_{\\text{sat}}}} $$\n$$ E_{\\text{sat}} \\left(W C_{\\text{ox}} \\mu (V_{\\text{ov}}-V_{DS,\\text{sat}})\\right) - I_{D,\\text{sat}} = I_{D,\\text{sat}} $$\n$$ 2 I_{D,\\text{sat}} = W C_{\\text{ox}} \\mu E_{\\text{sat}} (V_{\\text{ov}}-V_{DS,\\text{sat}}) $$\nWe now have two expressions for $I_{D,\\text{sat}}$: the one above, and the one from the integrated formula evaluated at $V_{DS}=V_{DS,\\text{sat}}$:\n$$ I_{D,\\text{sat}} = \\frac{W C_{\\text{ox}} \\mu\\left(V_{\\text{ov}}V_{DS,\\text{sat}} - \\frac{1}{2}V_{DS,\\text{sat}}^2\\right)}{L + \\frac{V_{DS,\\text{sat}}}{E_{\\text{sat}}}} $$\nEquating the two expressions for $I_{D,\\text{sat}}$ by substituting the first into the second:\n$$ \\frac{1}{2} W C_{\\text{ox}} \\mu E_{\\text{sat}} (V_{\\text{ov}}-V_{DS,\\text{sat}}) = \\frac{W C_{\\text{ox}} \\mu\\left(V_{\\text{ov}}V_{DS,\\text{sat}} - \\frac{1}{2}V_{DS,\\text{sat}}^2\\right)}{L + \\frac{V_{DS,\\text{sat}}}{E_{\\text{sat}}}} $$\nCanceling common terms $W C_{\\text{ox}} \\mu$ and simplifying:\n$$ \\frac{1}{2} E_{\\text{sat}} (V_{\\text{ov}}-V_{DS,\\text{sat}}) \\left(L + \\frac{V_{DS,\\text{sat}}}{E_{\\text{sat}}}\\right) = V_{\\text{ov}}V_{DS,\\text{sat}} - \\frac{1}{2}V_{DS,\\text{sat}}^2 $$\n$$ \\frac{1}{2} \\left( L E_{\\text{sat}} V_{\\text{ov}} - L E_{\\text{sat}} V_{DS,\\text{sat}} + V_{\\text{ov}}V_{DS,\\text{sat}} - V_{DS,\\text{sat}}^2 \\right) = V_{\\text{ov}}V_{DS,\\text{sat}} - \\frac{1}{2}V_{DS,\\text{sat}}^2 $$\nMultiplying by $2$ and simplifying the algebraic expression:\n$$ L E_{\\text{sat}} V_{\\text{ov}} - L E_{\\text{sat}} V_{DS,\\text{sat}} + V_{\\text{ov}}V_{DS,\\text{sat}} - V_{DS,\\text{sat}}^2 = 2V_{\\text{ov}}V_{DS,\\text{sat}} - V_{DS,\\text{sat}}^2 $$\n$$ L E_{\\text{sat}} V_{\\text{ov}} = L E_{\\text{sat}} V_{DS,\\text{sat}} + V_{\\text{ov}}V_{DS,\\text{sat}} $$\n$$ L E_{\\text{sat}} V_{\\text{ov}} = V_{DS,\\text{sat}} (L E_{\\text{sat}} + V_{\\text{ov}}) $$\nThis gives the desired dependence of $V_{DS,\\text{sat}}$ on $V_{\\text{ov}}$:\n$$ V_{DS,\\text{sat}} = \\frac{L E_{\\text{sat}} V_{\\text{ov}}}{L E_{\\text{sat}} + V_{\\text{ov}}} $$\nAs requested, we introduce the empirical voltage scale $V_E = L E_{\\text{sat}}$. This represents the potential drop over the channel length $L$ under a constant field $E_{\\text{sat}}$, corresponding to an energy per unit charge. The model becomes:\n$$ V_{DS,\\text{sat}} = \\frac{V_E V_{\\text{ov}}}{V_E + V_{\\text{ov}}} $$\nLet us check the asymptotic limits.\n1.  Long-channel limit (low field): $L \\to \\infty$, so $V_E \\to \\infty$. When $V_E \\gg V_{\\text{ov}}$:\n    $V_{DS,\\text{sat}} \\approx \\frac{V_E V_{\\text{ov}}}{V_E} = V_{\\text{ov}}$. This is the classical pinch-off condition, which is correct.\n2.  Short-channel limit (high field): $L \\to 0$, so $V_E \\to 0$. When $V_E \\ll V_{\\text{ov}}$:\n    $V_{DS,\\text{sat}} \\approx \\frac{V_E V_{\\text{ov}}}{V_{\\text{ov}}} = V_E$. The saturation voltage becomes independent of gate overdrive and is determined by the properties of velocity saturation ($V_E = L E_{\\text{sat}}$). This is also a known correct limit.\nThe model is therefore asymptotically correct.\n\nNext, we extract the value of $V_E$ from the experimental data. To facilitate this, we linearize the model equation:\n$$ \\frac{1}{V_{DS,\\text{sat}}} = \\frac{V_E + V_{\\text{ov}}}{V_E V_{\\text{ov}}} = \\frac{1}{V_{\\text{ov}}} + \\frac{1}{V_E} $$\nThis is an equation of a line $y = m x + c$, where $y = 1/V_{DS,\\text{sat}}$, $x = 1/V_{\\text{ov}}$, the slope is $m=1$, and the y-intercept is $c = 1/V_E$.\n\nWe transform the given data points $(V_G, V_{DS,\\text{sat}}^{\\text{meas}})$ into $(1/V_{\\text{ov}}, 1/V_{DS,\\text{sat}})$, using $V_{\\text{ov}} = V_G - V_{th}$ and $V_{th}=0.40\\,\\text{V}$. The provided measured values are high-precision representations of simple fractions.\n1.  $V_G = 0.60\\,\\text{V} \\implies V_{\\text{ov}} = 0.20\\,\\text{V}$. $V_{DS,\\text{sat}}^{\\text{meas}} = 0.142857\\,\\text{V} \\approx \\frac{1}{7}\\,\\text{V}$.\n    $x_1 = 1/(0.20\\,\\text{V}) = 5.0\\,\\text{V}^{-1}$. $y_1 = 1/((1/7)\\,\\text{V}) = 7.0\\,\\text{V}^{-1}$.\n2.  $V_G = 0.80\\,\\text{V} \\implies V_{\\text{ov}} = 0.40\\,\\text{V}$. $V_{DS,\\text{sat}}^{\\text{meas}} = 0.222222\\,\\text{V} \\approx \\frac{2}{9}\\,\\text{V}$.\n    $x_2 = 1/(0.40\\,\\text{V}) = 2.5\\,\\text{V}^{-1}$. $y_2 = 1/((2/9)\\,\\text{V}) = 4.5\\,\\text{V}^{-1}$.\n3.  $V_G = 1.00\\,\\text{V} \\implies V_{\\text{ov}} = 0.60\\,\\text{V}$. $V_{DS,\\text{sat}}^{\\text{meas}} = 0.272727\\,\\text{V} \\approx \\frac{3}{11}\\,\\text{V}$.\n    $x_3 = 1/(0.60\\,\\text{V}) \\approx 1.6667\\,\\text{V}^{-1}$. $y_3 = 1/((3/11)\\,\\text{V}) \\approx 3.6667\\,\\text{V}^{-1}$.\n4.  $V_G = 1.20\\,\\text{V} \\implies V_{\\text{ov}} = 0.80\\,\\text{V}$. $V_{DS,\\text{sat}}^{\\text{meas}} = 0.307692\\,\\text{V} \\approx \\frac{4}{13}\\,\\text{V}$.\n    $x_4 = 1/(0.80\\,\\text{V}) = 1.25\\,\\text{V}^{-1}$. $y_4 = 1/((4/13)\\,\\text{V}) = 3.25\\,\\text{V}^{-1}$.\n\nFor each data point, we can calculate the intercept $c = y - x$, since the slope is $m=1$:\n1.  $c = 7.0 - 5.0 = 2.0\\,\\text{V}^{-1}$.\n2.  $c = 4.5 - 2.5 = 2.0\\,\\text{V}^{-1}$.\n3.  $c = 11/3 - 5/3 = 6/3 = 2.0\\,\\text{V}^{-1}$.\n4.  $c = 3.25 - 1.25 = 2.0\\,\\text{V}^{-1}$.\n\nAll data points perfectly fit the derived model and consistently yield an intercept of $c = 2.0\\,\\text{V}^{-1}$. From our linearization, we have $c = 1/V_E$.\n$$ \\frac{1}{V_E} = 2.0\\,\\text{V}^{-1} $$\nTherefore, the empirical voltage scale is:\n$$ V_E = \\frac{1}{2.0\\,\\text{V}^{-1}} = 0.5\\,\\text{V} $$\nThe problem requires the answer to be rounded to four significant figures.",
            "answer": "$$\\boxed{0.5000}$$"
        },
        {
            "introduction": "A physically sound compact model is only as useful as its numerical implementation is accurate and robust for circuit simulation. Simulators rely on precise analytical derivatives (gradients) of currents and charges with respect to both voltages and model parameters for efficient and reliable convergence. This exercise provides a hands-on introduction to the essential practice of gradient checking, where you will implement an automatic differentiation engine to compute exact derivatives and verify them against a finite-difference approximation, ensuring the model's integrity for deployment in EDA tools .",
            "id": "3764161",
            "problem": "A researcher is validating the parameter sensitivity of a charge-based compact model for a Metal–Oxide–Semiconductor Field-Effect Transistor (MOSFET). The approach requires two independent gradient computations with respect to model parameters: one by automatic differentiation (AD) and another by finite-difference gradient checking. The goal is to quantify the numerical agreement between these gradients under a variety of operating conditions.\n\nStart from the following foundational base and assumptions, without introducing any undocumented shortcuts:\n\n- The drain current in a long-channel device under quasi-static conditions and drift-dominated transport is given by the one-dimensional drift current expression $J = q \\, n \\, \\mu \\, E$, where $q$ is the elementary charge, $n$ is the mobile carrier density, $\\mu$ is the effective mobility, and $E$ is the electric field. Under the charge-sheet approximation, the inversion charge per unit area $Q_{\\mathrm{inv}}$ controls the current, yielding $I_{D} = \\frac{W}{L} \\mu Q_{\\mathrm{inv}} V_{D}$ for small $V_{D}$, and more generally $I_{D} = \\frac{W}{L} \\mu \\int_{0}^{V_{D}} Q_{\\mathrm{inv}}(V) \\, dV$.\n- The thermal voltage is $U_{T} = \\frac{k T}{q}$, where $k$ is the Boltzmann constant and $T$ is the absolute temperature.\n- For a smooth and physically consistent transition between weak and strong inversion, use the Enz–Krummenacher–Vittoz (EKV) interpolation for the normalized inversion level, which leads to a compact current expression that uses the $ \\log(1 + \\exp(x)) $ function to smoothly interpolate regimes and to maintain continuity and differentiability. This avoids piecewise definitions and discontinuities.\n\nFrom these bases, consider the following charge-based compact model for the drain current:\n$$\nI_{D}(V_{G}, V_{D}; \\boldsymbol{\\theta}) = I_{S}(\\mu, C_{\\text{ox}}, W, L, U_{T}) \\left[ \\left( \\ln\\left(1 + \\exp\\left( \\frac{\\kappa \\left(V_{G} - V_{T0}\\right)}{2 U_{T}} \\right)\\right)\\right)^{2} - \\left( \\ln\\left(1 + \\exp\\left( \\frac{\\kappa \\left(V_{G} - V_{T0} - V_{D}\\right)}{2 U_{T}} \\right)\\right)\\right)^{2} \\right],\n$$\nwith the scale current\n$$\nI_{S}(\\mu, C_{\\text{ox}}, W, L, U_{T}) = 2 \\, \\mu \\, C_{\\text{ox}} \\, \\frac{W}{L} \\, U_{T}^{2}.\n$$\nHere, $V_{G}$ is the gate-to-source voltage in volts, $V_{D}$ is the drain-to-source voltage in volts, $W$ is the device width in meters, $L$ is the device length in meters, $\\mu$ is the mobility in $\\mathrm{m}^{2}/(\\mathrm{V}\\cdot\\mathrm{s})$, $C_{\\text{ox}}$ is the oxide capacitance per unit area in $\\mathrm{F}/\\mathrm{m}^{2}$, $\\kappa$ is the gate coupling factor (unitless), $V_{T0}$ is the threshold voltage at zero substrate bias in volts, and $U_{T}$ is the thermal voltage in volts. The parameter vector is $\\boldsymbol{\\theta} = [\\mu, C_{\\text{ox}}, W, L, \\kappa, V_{T0}, U_{T}]$.\n\nYour tasks:\n\n1. Implement an automatic differentiation (AD) engine capable of producing the gradient of $I_{D}$ with respect to the parameter vector $\\boldsymbol{\\theta}$. The AD should be constructed from the chain rule and operate on a single forward pass using dual numbers or an equivalent technique. Every intermediate operation must propagate both value and derivative consistently.\n\n2. Implement central finite-difference gradient checking with a perturbation step $h_{i}$ for each parameter $\\theta_{i}$ chosen as $h_{i} = \\max(10^{-8}, 10^{-6} \\cdot |\\theta_{i}|)$ to balance truncation and rounding errors across scales. Compute the finite-difference approximation:\n$$\n\\frac{\\partial I_{D}}{\\partial \\theta_{i}} \\approx \\frac{I_{D}(\\theta_{1}, \\ldots, \\theta_{i} + h_{i}, \\ldots) - I_{D}(\\theta_{1}, \\ldots, \\theta_{i} - h_{i}, \\ldots)}{2 h_{i}}.\n$$\n\n3. For each test case, compute the maximum absolute relative error across parameters:\n$$\n\\epsilon_{\\max} = \\max_{i} \\frac{\\left| \\left( \\frac{\\partial I_{D}}{\\partial \\theta_{i}} \\right)_{\\text{AD}} - \\left( \\frac{\\partial I_{D}}{\\partial \\theta_{i}} \\right)_{\\text{FD}} \\right|}{\\max\\left(10^{-12}, \\left| \\left( \\frac{\\partial I_{D}}{\\partial \\theta_{i}} \\right)_{\\text{FD}} \\right| \\right)}.\n$$\n\nAll voltages must be in volts, lengths in meters, mobilities in $\\mathrm{m}^{2}/(\\mathrm{V}\\cdot\\mathrm{s})$, capacitances in $\\mathrm{F}/\\mathrm{m}^{2}$, and the final reported errors must be dimensionless in decimal form.\n\nTest suite:\n\n- Case A (moderate inversion, small $V_{D}$): $\\mu = 0.05$, $C_{\\text{ox}} = 3.0 \\times 10^{-3}$, $W = 1.0 \\times 10^{-5}$, $L = 1.0 \\times 10^{-6}$, $\\kappa = 0.7$, $V_{T0} = 0.40$, $U_{T} = 0.02585$, $V_{G} = 0.90$, $V_{D} = 0.10$.\n- Case B (weak inversion): same parameters as Case A except $V_{G} = 0.35$, $V_{D} = 0.02$.\n- Case C (strong inversion, large $V_{D}$): same parameters as Case A except $V_{G} = 1.50$, $V_{D} = 1.20$.\n- Case D (low thermal voltage and shorter channel): $\\mu = 0.05$, $C_{\\text{ox}} = 3.0 \\times 10^{-3}$, $W = 1.0 \\times 10^{-5}$, $L = 5.0 \\times 10^{-7}$, $\\kappa = 0.65$, $V_{T0} = 0.45$, $U_{T} = 0.01500$, $V_{G} = 0.60$, $V_{D} = 0.50$.\n\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets (e.g., \"[result_A,result_B,result_C,result_D]\"), where each result is the value of $\\epsilon_{\\max}$ for the corresponding case, expressed as a decimal number.",
            "solution": "The problem statement has been analyzed and is determined to be valid. It is scientifically grounded in established semiconductor device physics and the EKV compact modeling framework. The problem is well-posed, with all necessary equations, parameters, and objectives clearly defined, ensuring a unique and meaningful solution can be computed. The language used is objective and mathematically precise.\n\nThe core task is to compute the gradient of the drain current $I_D$ with respect to a vector of model parameters $\\boldsymbol{\\theta}$ using two distinct methods—automatic differentiation (AD) and finite differences (FD)—and then to quantify the numerical agreement between them.\n\nThe parameter vector is defined as $\\boldsymbol{\\theta} = [\\mu, C_{\\text{ox}}, W, L, \\kappa, V_{T0}, U_{T}]$. The drain current model is given by:\n$$\nI_{D}(V_{G}, V_{D}; \\boldsymbol{\\theta}) = I_{S} \\left[ \\left( \\ln\\left(1 + \\exp\\left( \\frac{\\kappa \\left(V_{G} - V_{T0}\\right)}{2 U_{T}} \\right)\\right)\\right)^{2} - \\left( \\ln\\left(1 + \\exp\\left( \\frac{\\kappa \\left(V_{G} - V_{T0} - V_{D}\\right)}{2 U_{T}} \\right)\\right)\\right)^{2} \\right]\n$$\nwhere the scale current is:\n$$\nI_{S} = 2 \\, \\mu \\, C_{\\text{ox}} \\, \\frac{W}{L} \\, U_{T}^{2}\n$$\n\nThe solution is structured into three main parts: implementation of the AD gradient, implementation of the FD gradient, and calculation of the maximum relative error between the two.\n\n### 1. Automatic Differentiation (AD)\nForward-mode automatic differentiation is implemented using dual numbers. A dual number is an ordered pair $z = \\langle v, d \\rangle = v + d\\epsilon$, where $v$ is the primal value of a function or variable, $d$ is its derivative, and $\\epsilon$ is an infinitesimal number with the property $\\epsilon^2 = 0$.\n\nLet $f(\\theta_i)$ be a function of a parameter $\\theta_i$. We represent the input as a dual number $\\langle \\theta_i, 1 \\rangle$. Applying a sequence of operations to this dual number propagates the value and its derivative simultaneously according to the chain rule. The final dual number result $\\langle f(\\theta_i), f'(\\theta_i) \\rangle$ contains both the function's value and its derivative.\n\nThe rules for arithmetic operations with dual numbers $z_1 = \\langle v_1, d_1 \\rangle$ and $z_2 = \\langle v_2, d_2 \\rangle$ are:\n- Addition/Subtraction: $z_1 \\pm z_2 = \\langle v_1 \\pm v_2, d_1 \\pm d_2 \\rangle$\n- Multiplication: $z_1 \\cdot z_2 = \\langle v_1 v_2, v_1 d_2 + v_2 d_1 \\rangle$\n- Division: $z_1 / z_2 = \\langle v_1 / v_2, (d_1 v_2 - v_1 d_2) / v_2^2 \\rangle$\n- Power (with constant exponent $c$): $z_1^c = \\langle v_1^c, c v_1^{c-1} d_1 \\rangle$\n\nRules for elementary functions are derived similarly:\n- Exponential: $\\exp(z_1) = \\langle \\exp(v_1), \\exp(v_1) d_1 \\rangle$\n- Natural Logarithm: $\\ln(z_1) = \\langle \\ln(v_1), d_1 / v_1 \\rangle$\n\nTo compute the gradient vector $\\nabla_{\\boldsymbol{\\theta}} I_D$, we iterate through each parameter $\\theta_i \\in \\boldsymbol{\\theta}$. For each $\\theta_i$, we initialize the parameter vector such that the $i$-th parameter is the dual number $\\langle \\theta_i, 1 \\rangle$ and all other parameters $\\theta_j$ ($j \\neq i$) are $\\langle \\theta_j, 0 \\rangle$. The operating conditions $V_G$ and $V_D$ are treated as constants represented by $\\langle V_G, 0 \\rangle$ and $\\langle V_D, 0 \\rangle$. Evaluating the $I_D$ function with these dual number inputs yields a result $\\langle I_D, \\frac{\\partial I_D}{\\partial \\theta_i} \\rangle$. The derivative part is the $i$-th component of the AD gradient. This process is repeated for all parameters.\n\n### 2. Finite-Difference (FD) Gradient\nThe finite-difference method provides a numerical approximation of the gradient. We use the central difference formula for better accuracy compared to the forward or backward difference. The partial derivative of $I_D$ with respect to a parameter $\\theta_i$ is approximated as:\n$$\n\\left(\\frac{\\partial I_{D}}{\\partial \\theta_{i}}\\right)_{\\text{FD}} \\approx \\frac{I_{D}(\\boldsymbol{\\theta} + \\boldsymbol{h}_i) - I_{D}(\\boldsymbol{\\theta} - \\boldsymbol{h}_i)}{2 h_{i}}\n$$\nwhere $\\boldsymbol{h}_i$ is a vector that is zero everywhere except in the $i$-th position, where it has the value $h_i$. The perturbation step size $h_i$ is chosen to balance truncation error (which decreases with $h_i$) and floating-point rounding error (which increases as $h_i$ decreases). The problem specifies the step size as:\n$$\nh_{i} = \\max(10^{-8}, 10^{-6} \\cdot |\\theta_{i}|)\n$$\nThis adaptive step size ensures that the perturbation is significant relative to the parameter's magnitude but still small enough for an accurate derivative approximation.\n\n### 3. Error Quantification\nThe consistency between the AD and FD gradients is quantified by the maximum absolute relative error across all parameters. For each parameter $\\theta_i$, the error is calculated as:\n$$\n\\epsilon_{i} = \\frac{\\left| \\left( \\frac{\\partial I_{D}}{\\partial \\theta_{i}} \\right)_{\\text{AD}} - \\left( \\frac{\\partial I_{D}}{\\partial \\theta_{i}} \\right)_{\\text{FD}} \\right|}{\\max\\left(10^{-12}, \\left| \\left( \\frac{\\partial I_{D}}{\\partial \\theta_{i}} \\right)_{\\text{FD}} \\right| \\right)}\n$$\nThe term $\\max(10^{-12}, |\\dots|)$ in the denominator provides numerical stability. It prevents division by zero when the gradient is zero and avoids artificially large relative errors when the gradient is very close to zero. The final metric for each test case is the maximum of these individual errors:\n$$\n\\epsilon_{\\max} = \\max_{i} \\epsilon_i\n$$\n\nThe implementation will involve creating a Python class for dual numbers that overloads the necessary operators. Separate functions will be written to compute the $I_D$ model, the AD gradient, and the FD gradient. A main loop will iterate through the provided test cases, execute the computations, and format the final results.",
            "answer": "[2.5858064431220556e-09,1.1578331333796857e-08,5.434444588718915e-09,1.066440230303102e-08]"
        }
    ]
}