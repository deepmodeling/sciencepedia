## 引言
在现代集成电路设计中，精确预测晶体管的行为是实现复杂芯片功能的基石。[紧凑模型](@entry_id:1122706)，作为连接器件物理与电路仿真（如SPICE）的桥梁，其准确性和物理一致性直接决定了仿真结果的可靠性。然而，早期的建模方法常因在不同工作区间采用分段公式而导致模型不连续，给[电路仿真](@entry_id:271754)带来严重的收敛问题。为了克服这些局限，现代紧凑模型转向了基于物理的、覆盖全工作区的统一范式，其中基于表面电势和[基于电荷的模型](@entry_id:1122283)是两大主流。本文将系统地阐释这两种先进的建模方法，带领读者从基本原理走向前沿应用。在接下来的“原理与机制”一章中，我们将从第一性原理出发，探索如何通过表面电势描述MOSFET[静电学](@entry_id:140489)特性，并建立从电荷到电流的Pao-Sah积分关系。随后的“应用与交叉学科联系”一章将展示这些模型如何精确描述短沟道效应等真实物理现象，并探讨其在构建可靠电路模型中的关键作用。最后，“动手实践”部分将通过引导性问题，帮助读者将理论知识应用于实践。通过这些内容，读者将对现代[紧凑模型](@entry_id:1122706)背后的深刻物理思想、数学结构及其核心地位建立一个全面而深入的认识。

## 原理与机制

本章旨在深入阐释基于表面电势和[基于电荷的紧凑模型](@entry_id:1122281)的物理原理与核心机制。在前一章介绍背景知识的基础上，我们将从第一性原理出发，系统地构建描述 MOSFET（[金属-氧化物-半导体场效应晶体管](@entry_id:265517)）行为的数学框架。我们将探讨如何从基本的[静电学](@entry_id:140489)变量（如表面电势）出发，建立电荷与电势之间的精确关系，并进一步将这些静态特性与晶体管的输运特性（即漏极电流）联系起来。最后，我们将比较两种现代主流的建模范式——基于表面电势和[基于电荷的模型](@entry_id:1122283)，并分析它们在确保电荷守恒、处理高阶物理效应以及进行精确瞬态仿真方面的优势和特点。

### 基本变量：[静电势](@entry_id:188370)与电荷

MOS 结构的核心在于半导体-绝缘层界面。器件的所有行为，无论是电荷的积累、耗尽或反型，都由该界面的电学状态决定。因此，精确描述这一界面的物理量是建模的第一步。

**表面电势**，记为 $\psi_s$，被定义为半导体-绝缘层界面处（例如，$x=0$）的[静电势](@entry_id:188370)，其参考点通常是远离界面的中性体区（其电势定义为零）。$\psi_s$ 直接决定了界面处的[能带弯曲](@entry_id:271304)程度，从而控制了载流子的浓度分布。它是一个核心的内部[状态变量](@entry_id:138790)，是连接外部施加电压与半导体内部物理状态的桥梁。

与静电势 $\psi(x)$ 不同，**准费米势** $F_n(x)$ 和 $F_p(x)$ 是分别描述电子和空穴的[电化学势](@entry_id:141179)。它们决定了在非[平衡态](@entry_id:270364)下的载流子浓度，其表达式在非简并统计下为：
$$ n(x) = n_i \exp\left(\frac{\psi(x) - F_n(x)}{V_T}\right) $$
$$ p(x) = n_i \exp\left(\frac{F_p(x) - \psi(x)}{V_T}\right) $$
其中 $n_i$ 是[本征载流子浓度](@entry_id:144530)，$V_T = k_{\mathrm{B}}T/q$ 是热电压。[准费米势](@entry_id:1130433)的梯度是驱动载流子输运（即电流）的根本原因。在一个处于[稳态](@entry_id:139253)、无直流电流通过的理想 MOS 电容器中，整个半导体内的准费米势是恒定的 。

这三个电势——$\psi_s$、$F_n$ 和 $F_p$——之间的关系是理解器件工作的基础。$\psi_s$ 描述了能带的“形状”，而 $F_n$ 和 $F_p$ 则描述了电子和空穴在这些能带中的“填充水平”。

将内部状态变量 $\psi_s$ 与外部施加的栅极电压 $V_G$ 联系起来的是 MOS 结构的基本电压[平衡方程](@entry_id:172166)。通过求解横跨整个结构的泊松方程并应用[高斯定律](@entry_id:141493)，我们可以得到栅极电压在氧化层和半导体中的分配关系。计入[平带电压](@entry_id:1125078) $V_{FB}$（它包含了金属-[半导体功函数](@entry_id:1131461)差以及氧化层和界面中的固定电荷效应）后，该关系可以简洁地表示为：
$$ V_G - V_{FB} = \psi_s - \frac{Q_s}{C_{ox}} $$
其中 $Q_s$ 是半导体空间电荷区单位面积的总电荷，而 $C_{ox}$ 是单位面积的氧化层电容。这个方程是所有基于表面电势模型的核心，它隐式地定义了在给定外部电压 $V_G$ 下，内部[状态变量](@entry_id:138790) $\psi_s$ 的值。这个值的求解需要一个关于 $Q_s$ 和 $\psi_s$ 之间关系的附加方程，即电荷-电势模型 。

### 电荷-电势关系

为了求解上述电压[平衡方程](@entry_id:172166)，我们必须建立半导体总电荷 $Q_s$ 与表面电势 $\psi_s$ 之间的函数关系，即 $Q_s(\psi_s)$。这个关系构成了器件静电学模型的核心。

#### 耗尽近似

一个简单而富有洞察力的起点是**耗尽近似**。考虑一个均匀掺杂的 p 型半导体，当施加正的表面电势（$\psi_s > 0$）时，界面处的空穴被排斥，留下一个由带负电的、固定的受主离子组成的空间电荷区，称为耗尽区。在耗尽近似下，我们假设在该区域内（$0 \le x \le W_d$，其中 $W_d$ 是耗尽层宽度）可动载流子密度可以忽略不计，空间电荷密度为常数 $\rho(x) = -qN_A$。

从一维泊松方程出发：
$$ \frac{d^2\psi}{dx^2} = -\frac{\rho(x)}{\epsilon_s} = \frac{qN_A}{\epsilon_s} $$
通过两次积分，并施加物理边界条件——在耗尽层边缘 $x=W_d$ 处电场为零，且电势与体区电势（零）相同——我们可以推导出表面电势 $\psi_s$ 与耗尽层宽度 $W_d$ 的关系：$\psi_s = \frac{qN_A W_d^2}{2\epsilon_s}$。单位面积的耗尽电荷 $Q_d$ 就是该区域内所有电荷的总和，$Q_d = -qN_A W_d$。将 $W_d$ 的表达式代入，即可得到耗尽电荷与表面电势的直接关系 ：
$$ Q_d(\psi_s) = -\sqrt{2qN_A\epsilon_s\psi_s} $$
这个平方根依赖关系是描述 MOS 器件在[耗尽区](@entry_id:136997)和[弱反型](@entry_id:272559)区行为的一个基本特征。

#### 精确的泊松-玻尔兹曼解

耗尽近似在弱反型和[强反型](@entry_id:276839)区域会失效，因为它忽略了可动载流子（特别是反型电子）的贡献。一个更精确的模型需要直接求解包含可动载流子玻尔兹曼分布的**泊松-[玻尔兹曼方程](@entry_id:138866)**。

通过对泊松-玻尔兹曼方程进行一次积分（从体区到界面），可以得到一个将表面电场（从而将总电荷 $Q_s$）与表面电势 $\psi_s$ 和沟道电势 $V_{ch}$（即电子准费米势与空穴准费米势之差）联系起来的精确表达式。这个表达式通常很复杂，但它构成了精确表面电势模型（如 PSP, BSIM-BULK）的基础。

然而，对于模型开发而言，我们通常更关心反型电荷 $Q_i$（即可动电荷），因为它直接参与电流的传导。一个非常强大且广泛应用的建模技巧是**电荷划分**。其思想是，总半导体电荷 $Q_{sc}$ 可以被近似地看作是体区电荷 $Q_{bulk}$（包括耗尽电荷和多子积累/耗尽电荷）和反型电荷 $Q_i$ 的和。通过计算在相同表面电势下，一个没有反型层（即 $n_i=0$）的假想器件的体区电荷 $Q_{bulk}(\psi_s)$，我们可以从总电荷 $Q_{sc}(\psi_s, V_{ch})$ 中精确地分离出反型电荷：
$$ Q_i(\psi_s, V_{ch}) \approx Q_{sc}(\psi_s, V_{ch}) - Q_{bulk}(\psi_s) $$
这种方法能够导出一个非常精确的、覆盖从弱反型到[强反型](@entry_id:276839)所有工作区的反型电荷表达式。例如，对于一个长沟道 MOSFET，该表达式可以写成如下形式 ：
$$ Q_i(\psi_s,V_{ch}) = -\sqrt{2\epsilon_{si}qN_A V_T} \left( \left[ F(\psi_s, V_{ch}) \right]^{1/2} - \left[ F(\psi_s, 0) \right]^{1/2} \right) $$
其中 $F(\psi, V)$ 是一个包含了指数项和线性项的复杂函数，它精确地描述了所有载流子对电荷的贡献。这个表达式的有效性基于**[准平衡](@entry_id:1130431)假设**，即在沟道横向（垂直于界面）的载流子分布能够瞬时达到与局部电势平衡的状态。该假设在长沟道、低纵向电场下成立，但在高场导致的载流子速度饱和、[热载流子效应](@entry_id:1126179)，或在超短沟道器件的弹道/[准弹道输运](@entry_id:1130426)中会失效 。

### 从电荷到电流：Pao-Sah 积分及其思想

建立了精确的电荷模型 $Q_i(\psi_s, V_{ch})$ 后，下一步是将其与器件的输运特性——漏极电流 $I_D$ 联系起来。经典的 **Pao-Sah 积分**为此提供了理论基础。

输运过程由**漂移-扩散方程**描述，电子电流密度 $J_n$ 包括漂移项（由电场驱动）和扩散项（由[载流子浓度梯度](@entry_id:197424)驱动）。一个深刻的物理洞察是，通过引入[准费米势](@entry_id:1130433) $V_n(x)$ 并利用爱因斯坦关系，漂移项和扩散项可以被优雅地合并成一个单一的表达式。电流密度最终只与[准费米势](@entry_id:1130433)的梯度成正比 ：
$$ J_n(x,y) = -q \mu_n n(x,y) \frac{d V_n(x)}{d x} $$
这个表达式清晰地表明，[准费米势](@entry_id:1130433)梯度是驱动电流的真正“势”，它无缝地统一了[漂移和扩散](@entry_id:148816)两种机制。这对于在所有工作区（从扩散主导的亚阈值区到漂移主导的强反型区）建立一个连续的模型至关重要。

将此电流密度在沟道[横截面](@entry_id:154995)上积分，就可以得到在沟道位置 $x$ 处的总电流。考虑到单位面积的反型电荷 $Q_i(x) = -\int q n(x,y) dy$，我们得到电流的微分形式：
$$ I_D(x) = -W \mu_n Q_i(x) \frac{d V_n(x)}{d x} $$
其中 $W$ 是沟道宽度，$\mu_n$ 是电子迁移率。在[稳态](@entry_id:139253)下，电流 $I_D$ 沿沟道是恒定的。对上式进行变量分离并从源端（$x=0$）积分到漏端（$x=L$），我们得到漏极电流的积分形式：
$$ I_D = -\frac{W \mu_n}{L} \int_{V_S}^{V_D} Q_i(V_n) dV_n $$
其中 $V_S$ 和 $V_D$ 分别是源端和漏端的沟道电势（即电子准费米势）。这个结果，即著名的 Pao-Sah/Brewster 积分，是现代[紧凑模型](@entry_id:1122706)的基石。它雄辩地指出，**电流本质上是电荷沿着准费米势的积分**。任何精确的电流模型，无论是基于表面电势还是基于电荷，都必须回归到这一基本关系 。

### 现代[紧凑模型](@entry_id:1122706)范式

基于上述物理原理，业界发展出了多种[紧凑模型](@entry_id:1122706)。早期的模型，如**基于阈值电压的模型**，通常将器件操作区域人为地划分为亚阈值区和强反型区，并为每个区域使用不同的电流公式。这种方法的致命缺陷是在阈值电压附近需要进行“拼接”。如果拼接函数不够光滑，会导致电流导数（如[跨导](@entry_id:274251) $g_m$）出现不连续的“尖峰”或“[突跳](@entry_id:177661)”。这不仅与器件平滑过渡的物理现实相悖，更会给[电路仿真](@entry_id:271754)器（如 SPICE）中依赖于[雅可比矩阵](@entry_id:178326)的牛顿-拉夫逊数值求解算法带来严重的收敛性问题。因此，为了保证物理真实性和[数值鲁棒性](@entry_id:188030)，模型必须在所有工作区内至少保证一阶导数连续 ($C^1$ 连续性) 。为了克服这些问题，现代紧凑模型普遍采用连续的、基于物理的范式。

#### 基于表面电势的模型 (Surface-Potential-Based Models)

这类模型的核心思想是选择**表面电势 $\psi_s$ 作为中心[状态变量](@entry_id:138790)**。对于给定的终端电压，模型首先通过迭代求解[非线性](@entry_id:637147)的电压[平衡方程](@entry_id:172166) $V_G - V_{FB} = \psi_s - Q_s(\psi_s)/C_{ox}$ 来确定源端和漏端的表面电势 $\psi_{ss}$ 和 $\psi_{sd}$。一旦获得 $\psi_s$，就可以计算出电荷 $Q_i$，进而通过 Pao-Sah 积分计算出电流 $I_D$。

一个杰出的例子是 **EKV (Enz-Krummenacher-Vittoz) 模型**。该模型引入了归一化的电势变量 $u$，并通过一个巧妙的[插值函数](@entry_id:262791)来描述归一化的反型电荷 $q$：
$$ q(u) = 2\ln\left(1 + \exp(u/2)\right) $$
这个函数具有绝佳的数学和物理特性：在弱反型区 ($u \ll 0$)，它渐近于指数形式 $q(u) \approx 2\exp(u/2)$，正确地描述了扩散电流行为；在[强反型](@entry_id:276839)区 ($u \gg 0$)，它渐近于[线性形式](@entry_id:276136) $q(u) \approx u$，正确地描述了电容性的电荷控制行为。最重要的是，这个函数在所有区域都是光滑的，从而保证了电流及其所有导数的连续性 。这种从一个统一的物理变量出发，建立一个覆盖全工作区的连续表达式的方法，是表面电势模型强大和优雅的根源。

#### [基于电荷的模型](@entry_id:1122283) (Charge-Based Models)

与将电势作为中心变量不同，[基于电荷的模型](@entry_id:1122283)直接将**反型电荷 $Q_i$ 作为核心状态变量**。这种方法的出发点仍然是电流的积分表达式，但通过变量代换，将对电压的积分转换成对电荷的积分。以一个包含[迁移率退化](@entry_id:1127991)的漂移模型为例 ，电流可以表示为：
$$ I_D = \frac{W}{L C_{inv}} \int_{Q_d}^{Q_s} \frac{\mu_0}{1+\theta Q} Q dQ $$
其中 $Q_s$ 和 $Q_d$ 分别是源端和漏端的反型电荷密度大小。求解这个积分可以得到一个以 $Q_s$ 和 $Q_d$ 为变量的闭合电流表达式。

[基于电荷的模型](@entry_id:1122283)最显著的优势在于**电荷守恒的保证**。在[瞬态分析](@entry_id:262795)中，任何终端的电[容性电流](@entry_id:272835)都必须等于该终端电荷随时间的变化率，即 $I_k^{cap} = dQ_k/dt$。一个物理上自洽的模型必须保证所有终端的总电荷守恒，即 $\sum Q_k = 0$，这意味着 $\sum I_k^{cap} = 0$。在[基于电荷的模型](@entry_id:1122283)中，所有的终端电荷 ($Q_g, Q_s, Q_d, Q_b$) 都被精确地定义为[状态变量](@entry_id:138790)的函数，并且其构造保证了总电荷为零。因此，通过对这些电荷函数求导得到的电容和瞬态电流，**天然地、自动地满足电荷守恒定律** 。

相比之下，一个单纯的基于电势的模型，如果只关注于建立电流模型，其瞬态行为可能会出现问题。为了保证电荷守恒，这类模型必须额外地、自洽地建立所有终端的电荷模型，并采用如 **Ward-Dutton 电荷分配方案**等方法来划分沟道电荷。这样做实际上是在其动态模型部分采纳了基于电荷的思想。因此，现代高性能的表面电势模型（如 PSP）和电荷模型（如 BSIM 系列）在保证[电荷守恒](@entry_id:264158)的哲学上是趋同的 。

### 物理效应与瞬态行为的建模

一个强大的模型框架不仅要能描述理想器件，还必须能精确地包含各种重要的二阶物理效应，并能准确预测器件的动态响应。

#### 物理效应的集成

基于电荷（或以电荷为核心的表面电势）的框架为集成各种物理效应提供了一个自洽的平台。其核心思想是将这些物理效应首先反映在电荷的计算中，而不是直接作为经验公式添加到电流方程里。

*   **量子隧穿效应 (Quantum Capacitance)**: 在纳米级器件中，反型层厚度极薄，[量子限制效应](@entry_id:184087)变得显著。这表现为一个额外的电容，即[量子电容](@entry_id:265635) $C_q$，它与氧化层电容 $C_{ox}$ 串联，共同决定了栅极对沟道电荷的控制能力。这个效应直接修改了电荷-电压关系 。

*   **[漏致势垒降低 (DIBL)](@entry_id:1123970)**: 在短沟道器件中，漏极电压会影响源端附近的势垒高度，导致阈值电压下降。在一个物理模型中，这被正确地描述为漏极电压对表面电势 $\psi_s$ 的影响，从而改变了沟道中的[电荷分布](@entry_id:144400) $Q_i(x)$ 。

*   **[迁移率退化](@entry_id:1127991)**: 载流子迁移率会因为[表面散射](@entry_id:268452)和高电场而降低。这种效应可以被建模为沟道电荷密度或电场的函数，$\mu(Q_i, E)$，并直接代入到电流积分表达式中 。

将这些效应在电荷层面进行建模的最大优势在于，模型对直流 ($I-V$) 和交流/瞬态 ($C-V$) 的描述保持了物理上的一致性。因为电流和电容都源自于同一个经过物理修正的电荷模型，从而避免了不一致和“重复计算”效应 。

#### [瞬态分析](@entry_id:262795)与准静态近似 (QSA)

在处理随时间变化的信号时，**[准静态近似](@entry_id:167818) (Quasi-Static Approximation, QSA)** 是一个基本的简化。QSA 的核心假设是：在信号变化的速率远低于沟道中载流子的渡越速率时，器件内部的电荷分布能够“瞬时”地响应外部终端电压的变化。这意味着在任何时刻 $t$，器件内的电荷分布都与其在直流偏置等于瞬时电压 $V(t)$ 时的稳态分布相同 。

在此近似下，终端电荷 $Q_k$ 成为瞬时电压的函数 $Q_k(V(t))$。总终端电流由两部分组成：一部分是[稳态](@entry_id:139253)输运电流 $I_{k,DC}(V(t))$，另一部分是由电荷变化引起的[位移电流](@entry_id:190231) $I_{k,disp}(t) = dQ_k/dt$。

QSA 的有效性取决于信号的角频率 $\omega$ 和沟道载流子平均[渡越时间](@entry_id:1133357) $\tau_{tr}$ 的比值。只有当信号变化足够慢，即满足条件 $\omega \tau_{tr} \ll 1$ 时，QSA 才成立。对于现代高速器件和高频应用，这个条件很容易被打破。此时，就必须考虑**非准静态 (Non-Quasi-Static, NQS)** 效应，即沟道电荷的响应具有延迟。无论是基于表面电势还是[基于电荷的模型](@entry_id:1122283)，都可以通过引入描述[电荷弛豫](@entry_id:263800)的[微分](@entry_id:158422)方程或等效的 RC 网络来扩展，从而精确地捕捉 NQS 效应  。