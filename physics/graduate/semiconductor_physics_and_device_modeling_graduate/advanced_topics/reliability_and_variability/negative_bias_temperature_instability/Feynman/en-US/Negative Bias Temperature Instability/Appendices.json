{
    "hands_on_practices": [
        {
            "introduction": "A core skill in reliability physics is translating an observed electrical-level degradation, like a threshold voltage shift ($\\Delta V_{th}$), into a quantifiable physical change, such as the density of trapped charge. This exercise provides fundamental practice in this translation by applying the principles of MOS capacitor electrostatics. By working through this problem, you will solidify your understanding of how trapped charges near the semiconductor-dielectric interface directly impact device turn-on characteristics. ",
            "id": "4264417",
            "problem": "A planar $p$-channel metal–oxide–semiconductor field-effect transistor (MOSFET) with a high-$\\kappa$ gate stack exhibits Bias Temperature Instability (BTI), specifically Negative Bias Temperature Instability (NBTI), when subjected to sustained negative gate bias at elevated temperature. Consider a device stressed at gate voltage $V_{g}=-1.2\\ \\text{V}$ and temperature $T=125^{\\circ}\\text{C}$ for a duration of $10^{3}\\ \\text{s}$. A threshold voltage shift of $\\Delta V_{th}=50\\ \\text{mV}$ is observed immediately after stress.\n\nStarting from electrostatics and the definition of the threshold condition in a MOS system, derive the relationship between a small perturbation in the total areal charge $\\Delta Q$ residing in electrically active defects (including interface states and oxide bulk traps) and the corresponding small perturbation in the threshold voltage $\\Delta V_{th}$. Use the gate-stack areal capacitance $C_{ox}$ to parameterize the coupling. Then, using $C_{ox}=1.5\\ \\text{mF}/\\text{m}^{2}$, compute the quantity $Q/C_{ox}$ associated with the observed $\\Delta V_{th}$ and express it in volts. Round your answer to three significant figures.\n\nIn your derivation and discussion, explain the physical basis for why electrically active traps shift the threshold voltage, clarify sign conventions appropriate for a $p$-channel device under negative bias, and, based on the magnitude of the inferred defect charge density and known BTI physics in high-$\\kappa$/metal-gate stacks at $125^{\\circ}\\text{C}$, argue whether the dominant traps responsible for the measured $\\Delta V_{th}$ are likely located at the semiconductor–dielectric interface or distributed within the bulk of the dielectric. Your final numerical answer must be the value of $Q/C_{ox}$ in volts, rounded to three significant figures.",
            "solution": "The problem requires a derivation of the relationship between trapped charge and threshold voltage shift in a MOS device, a calculation based on provided data, and a physical interpretation of the degradation mechanism.\n\n**Part 1: Derivation of the relationship between $\\Delta Q$ and $\\Delta V_{th}$**\n\nThe threshold voltage, $V_{th}$, of a Metal-Oxide-Semiconductor (MOS) structure is the gate voltage required to establish the onset of strong inversion at the semiconductor-dielectric interface. For a p-channel MOSFET built on an n-type semiconductor substrate, strong inversion corresponds to the creation of a hole channel. The total gate voltage is distributed across the gate stack (oxide) and the semiconductor.\n\nThe voltage balance equation for the MOS system is given by:\n$$V_g = V_{ox} + \\phi_s$$\nwhere $V_g$ is the gate voltage, $V_{ox}$ is the voltage drop across the gate dielectric, and $\\phi_s$ is the surface potential of the semiconductor.\n\nThe voltage across the oxide, $V_{ox}$, is determined by the total charge per unit area in the semiconductor, $Q_{semi}$, and any charge per unit area residing in the oxide or at the interface, $Q_{trap}$. By Gauss's law, the electric field in the oxide is $E_{ox} = (Q_{semi} + Q_{trap})/\\epsilon_{ox}$, where $\\epsilon_{ox}$ is the permittivity of the oxide. The voltage drop is then $V_{ox} = E_{ox} \\cdot t_{ox} = (Q_{semi} + Q_{trap})t_{ox}/\\epsilon_{ox}$. Using the definition of the gate oxide capacitance per unit area, $C_{ox} = \\epsilon_{ox}/t_{ox}$, we have:\n$$V_{ox} = \\frac{Q_{semi} + Q_{trap}}{C_{ox}}$$\nIt is important to handle charge signs consistently. For a p-channel device (n-type substrate), the semiconductor charge $Q_{semi}$ at threshold is composed of the positive charge in the depletion region, $Q_{dep}$, and the charge in the newly formed inversion layer, $Q_{inv}$. By definition, at the threshold of strong inversion, the inversion charge is considered negligible, so $Q_{semi} \\approx Q_{dep}$.\nThe gate voltage can be expressed relative to the flat-band voltage, $V_{FB}$. The flat-band voltage is the gate voltage that results in zero band bending ($\\phi_s=0$). Any charge $Q_{trap}$ within the dielectric or fixed at the interface shifts the flat-band voltage from the ideal workfunction difference $\\phi_{ms}$:\n$$V_{FB} = \\phi_{ms} - \\frac{Q_{trap,initial}}{C_{ox}}$$\nHere, $Q_{trap,initial}$ represents the total effective charge density of fixed charges and pre-existing traps. For simplicity, we assume this charge is located at the interface. A more general treatment for distributed charge would replace $Q_{trap}/C_{ox}$ with an integral, but the effect on $V_{th}$ is equivalent to an effective charge sheet at the interface.\n\nThe threshold voltage for a p-channel device is the gate voltage required to bend the bands such that the surface potential reaches $\\phi_s = -2\\phi_B$, where $\\phi_B = (k_B T/q) \\ln(N_D/n_i)$ is the bulk potential of the n-type substrate with donor concentration $N_D$. At this point, a sufficient density of holes is induced at the surface.\n$$V_{th} = V_{FB} + \\phi_s(\\text{inv}) - \\frac{Q_{dep}(\\text{inv})}{C_{ox}}$$\nSubstituting the expressions for $V_{FB}$ and $\\phi_s(\\text{inv})$:\n$$V_{th} = \\left(\\phi_{ms} - \\frac{Q_{trap,initial}}{C_{ox}}\\right) - 2\\phi_B - \\frac{Q_{dep}(-2\\phi_B)}{C_{ox}}$$\nWhen the device is subjected to NBTI stress, new electrically active defects are generated or existing ones are charged. This results in an additional trapped charge density, which we denote as $\\Delta Q$. The total trapped charge becomes $Q_{trap,final} = Q_{trap,initial} + \\Delta Q$. The new threshold voltage, $V_{th,final}$, is:\n$$V_{th,final} = \\phi_{ms} - \\frac{Q_{trap,initial} + \\Delta Q}{C_{ox}} - 2\\phi_B - \\frac{Q_{dep}(-2\\phi_B)}{C_{ox}}$$\nThe threshold voltage shift, $\\Delta V_{th}$, is the difference between the final and initial threshold voltages:\n$$\\Delta V_{th} = V_{th,final} - V_{th,initial} = \\left(\\phi_{ms} - \\frac{Q_{trap,initial} + \\Delta Q}{C_{ox}} - \\dots\\right) - \\left(\\phi_{ms} - \\frac{Q_{trap,initial}}{C_{ox}} - \\dots\\right)$$\nAssuming that the stress does not alter $\\phi_{ms}$, $\\phi_B$, or the depletion charge characteristics, all other terms cancel out, leaving:\n$$\\Delta V_{th} = -\\frac{\\Delta Q}{C_{ox}}$$\nThis is the fundamental relationship between the induced trapped charge density $\\Delta Q$ and the resulting threshold voltage shift $\\Delta V_{th}$.\n\n**Part 2: Physical Basis, Sign Conventions, and Calculation**\n\nThe problem concerns a p-channel MOSFET under Negative Bias Temperature Instability (NBTI) stress.\n- **Device Operation:** A p-channel device has an n-type substrate. To turn it ON (create a hole inversion channel), a negative gate voltage ($V_g  0$) relative to the source/substrate is applied. This attracts holes to the interface.\n- **NBTI Stress:** The stress condition is $V_g = -1.2\\ \\text{V}$, which is the ON state for the p-MOSFET. The high electric field and elevated temperature accelerate degradation.\n- **Physical Basis for Shift:** The negative gate bias creates a high concentration of holes in the inversion layer. These holes can interact with the gate dielectric and the Si/dielectric interface. There are two primary degradation mechanisms:\n    1.  **Interface Trap Generation:** The energetic holes can facilitate the breaking of passivating bonds at the interface, most notably silicon-hydrogen (Si-H) bonds. This creates a dangling bond (an interface trap, $P_b$ center) and a mobile hydrogen species (e.g., H$^+$). The newly created interface traps are positively charged when below the Fermi level, contributing to a positive $\\Delta Q$.\n    2.  **Hole Trapping:** Pre-existing defects within the bulk of the gate dielectric (especially in high-$\\kappa$ materials) can capture holes tunneling from the inversion layer. This also results in a net positive charge, $\\Delta Q  0$, being trapped in the dielectric.\n- **Sign Convention:** Both primary NBTI mechanisms lead to the accumulation of *positive* charge ($\\Delta Q  0$) at or near the interface. According to our derived formula, $\\Delta V_{th} = -\\Delta Q/C_{ox}$, a positive $\\Delta Q$ results in a *negative* $\\Delta V_{th}$. This means the threshold voltage becomes more negative (e.g., from $-0.4\\ \\text{V}$ to $-0.45\\ \\text{V}$). This makes the device harder to turn on, which is the definition of degradation for a p-MOSFET.\n- **Calculation:** The problem states an observed shift of $\\Delta V_{th} = 50\\ \\text{mV}$. As established, this must represent the magnitude of the shift, $|\\Delta V_{th}|$. The actual shift for NBTI degradation is $\\Delta V_{th} = -50\\ \\text{mV} = -0.050\\ \\text{V}$. The problem asks to compute the quantity $Q/C_{ox}$, where we identify $Q$ with the induced charge $\\Delta Q$.\nFrom the derived relation:\n$$ \\frac{\\Delta Q}{C_{ox}} = -\\Delta V_{th} $$\nSubstituting the value of $\\Delta V_{th}$:\n$$ \\frac{Q}{C_{ox}} = -(-0.050\\ \\text{V}) = 0.050\\ \\text{V} $$\nThis positive value is consistent with the trapping of positive charge. The unit is indeed volts, as it represents the voltage shift that would be produced by the trapped charge if it were the only charge acting across the capacitor $C_{ox}$.\nThe problem requires rounding to three significant figures.\n$$ \\frac{Q}{C_{ox}} = 0.0500\\ \\text{V} $$\n\n**Part 3: Inference of Dominant Trap Location**\n\nThe problem asks to argue whether the dominant traps are located at the semiconductor-dielectric interface or within the bulk of the dielectric. Several factors point towards the dominance of bulk traps.\n\n1.  **High-$\\kappa$ Gate Stack:** This is the most critical piece of information. Unlike nearly-perfect thermally grown SiO$_2$, high-$\\kappa$ dielectrics such as HfO$_2$ or HfSiON are deposited materials (e.g., by atomic layer deposition) and inherently contain a much higher density of pre-existing electronic defects (traps). Oxygen vacancies are a well-known example and act as hole traps in many high-$\\kappa$ materials. Consequently, charge trapping in these bulk defects is a very prominent mechanism in BTI for high-$\\kappa$/metal-gate (HKMG) devices.\n\n2.  **Mechanism of Charging:** Under negative gate bias, holes from the inversion layer can tunnel into these pre-existing traps located in the high-$\\kappa$ layer near the interface. This process of charge capture and emission by bulk traps is often described by charge trapping/de-trapping (CT/DT) models and can account for a large portion of the observed $\\Delta V_{th}$.\n\n3.  **Relative Importance:** While interface state generation (described by the Reaction-Diffusion model) still occurs at the Si/high-$\\kappa$ interface (or more accurately, at the Si/interfacial-layer interface, as a thin layer of SiO$_x$ is usually present), its contribution is often found to be smaller compared to the bulk trapping component in modern HKMG technologies. The physics of BTI in these advanced stacks is recognized to be a superposition of both mechanisms, but the large reservoir of available bulk traps in the high-$\\kappa$ layer often makes it the dominant contributor, especially for the stress conditions given ($T=125^{\\circ}\\text{C}$, $t=10^3\\ \\text{s}$), which are sufficient to activate trapping processes.\n\nIn conclusion, given that the device employs a high-$\\kappa$ gate stack, it is highly probable that the dominant source of the measured $50\\ \\text{mV}$ threshold voltage shift is the charging of pre-existing traps distributed within the bulk of the high-$\\kappa$ dielectric, rather than the generation of new traps localized strictly at the interface.",
            "answer": "$$\\boxed{0.0500}$$"
        },
        {
            "introduction": "The term Negative Bias Temperature Instability encompasses several distinct physical mechanisms, primarily the generation of new interface states and the trapping of charge in pre-existing bulk dielectric defects. Distinguishing between these contributors is critical for developing effective mitigation strategies. This practice challenges you to think like an experimentalist, connecting the underlying physics of each mechanism to its unique 'fingerprint' in common characterization data such as Capacitance-Voltage (CV), Charge Pumping (CP), and fast I-V measurements. ",
            "id": "3760988",
            "problem": "A p-channel metal–oxide–semiconductor field-effect transistor with a high-permittivity gate stack is stressed under Negative Bias Temperature Instability (NBTI). Two competing physical pictures are considered for the origin of the observed threshold voltage shift: bulk trapping in the high-permittivity dielectric versus interfacial silicon–hydrogen bond breaking at the silicon interface. You have access to combined Capacitance–Voltage (CV), Charge Pumping (CP), and fast Current–Voltage (I–V) measurements. Without relying on pre-tabulated device-specific models, propose what experimental signatures would distinguish bulk high-permittivity trapping from interfacial silicon–hydrogen bond breaking, grounded in first principles of charge storage and interface state physics, and in the operational definitions of these measurements.\n\nSelect all options that present internally consistent and physically justified sets of signatures for the respective mechanism.\n\nA. Bulk high-permittivity trapping dominates: CV exhibits pronounced sweep-direction hysteresis and strong frequency dispersion in accumulation consistent with slow dielectric traps following the bias only partially; CP current remains essentially unchanged within the measurement uncertainty across stress and recovery; fast I–V taken immediately after stress removal reveals a large recoverable threshold shift component that decays rapidly when bias is removed, with little change in subthreshold slope.\n\nB. Interfacial silicon–hydrogen bond breaking dominates: CP current increases monotonically with stress and remains elevated after unbiased recovery, consistent with persistent interface state generation; CV shows stretch-out and increased slope in depletion/inversion consistent with added interface-state capacitance, with only weak hysteresis; fast I–V reveals a largely non-recoverable threshold shift whose recovery is slow and strongly thermally activated.\n\nC. Bulk high-permittivity trapping dominates: CP current decreases due to carrier capture into bulk traps; CV accumulation capacitance decreases permanently without hysteresis or frequency dispersion; fast I–V shows complete immediate recovery of threshold voltage upon stress removal.\n\nD. Interfacial silicon–hydrogen bond breaking dominates: CV shows strong accumulation hysteresis and no stretch-out; CP current is unchanged by stress; fast I–V reveals a rapidly recoverable threshold shift component with negligible temperature dependence.",
            "solution": "The problem statement is a valid exercise in semiconductor device physics, posing a standard and important question regarding the differentiation of reliability mechanisms in modern transistors.\n\nThe problem is scientifically grounded, well-posed, and objective. It concerns Negative Bias Temperature Instability (NBTI) in p-channel MOSFETs with high-permittivity (high-k) gate dielectrics, which is a critical issue in semiconductor technology. The two proposed mechanisms—bulk trapping and interface state generation—are the principal competing models discussed in scientific literature. The experimental techniques (CV, CP, fast I-V) are standard, appropriate tools for investigating these phenomena. The problem is self-contained and provides sufficient information to deduce the distinguishing signatures based on first principles. The problem is free of the flaws listed in the validation checklist.\n\nWe will now derive the expected experimental signatures for each mechanism from the fundamental principles of MOS device physics.\n\n### 1. Analysis of Mechanism 1: Bulk Trapping in the High-k Dielectric\n\n**Physical Principle**: Under negative gate bias (inversion for a pMOSFET), holes ($h^+$) from the channel can tunnel into pre-existing defect states (traps) within the bulk of the high-k dielectric. These trapped positive charges, with a total density per unit area of $Q_{trap}$, act as a sheet of positive charge within the gate stack. This results in a negative shift of the device's threshold voltage ($V_{th}$). The amount of shift is given by $\\Delta V_{th} \\approx -Q_{trap}/C_{ox_eff}$, where $C_{ox_eff}$ is the effective oxide capacitance per unit area.\n\nTrapping and de-trapping are tunneling processes with a wide distribution of time constants. Traps near the interface respond quickly, while traps deeper in the dielectric respond slowly. Upon removal of the stress bias, trapped holes can tunnel back to the silicon substrate, leading to a recovery of the $V_{th}$ shift. This recovery is typically logarithmic in time and is not strongly thermally activated, as it is governed by tunneling probability rather than thermal energy barriers.\n\n**Predicted Experimental Signatures**:\n\n*   **Fast Current-Voltage (I-V)**: The trapping of positive charge causes the threshold voltage $V_{th}$ to become more negative. Fast I-V measurements immediately after stress removal will capture this full shift. Because de-trapping begins as soon as the stress is removed, a significant portion of the shift is recoverable, often observed as a rapid decay in $|\\Delta V_{th}|$. The subthreshold slope, $S \\approx \\frac{k_B T}{q} \\ln(10) (1 + C_{it}/C_{ox})$, depends on the interface-state capacitance ($C_{it}$). Since pure bulk trapping does not create new states at the silicon interface, $C_{it}$ remains unchanged. Therefore, the subthreshold slope $S$ should show little to no degradation.\n*   **Capacitance-Voltage (CV)**: The trapped positive charge causes a negative shift of the CV curve along the voltage axis. The presence of slow traps—those with time constants comparable to or longer than the CV sweep time—leads to pronounced sweep-direction hysteresis. As the gate voltage is swept from accumulation to inversion and back, these traps capture and emit charge at different points in the sweep, creating two different curves. Furthermore, traps with time constants comparable to the inverse of the AC measurement frequency ($f$) will contribute a frequency-dependent capacitance, leading to frequency dispersion, which is particularly observable in the accumulation capacitance measurement.\n*   **Charge Pumping (CP)**: The charge pumping current, $I_{CP} = q f A_G \\bar{N}_{it}$, is a direct measure of the average density of interface states ($\\bar{N}_{it}$) within the energy range swept by the gate pulse. As bulk trapping does not create new interface states, the CP current is expected to remain essentially unchanged after stress and recovery.\n\n### 2. Analysis of Mechanism 2: Interfacial Silicon-Hydrogen (Si-H) Bond Breaking\n\n**Physical Principle**: According to the widely accepted Reaction-Diffusion model, energetic holes in the inversion layer break passivated silicon-hydrogen (Si-H) bonds at the interface between the silicon substrate and the gate dielectric. This reaction, $Si-H + h^+ \\rightarrow Si^\\bullet + H_{species}$, creates a silicon dangling bond ($Si^\\bullet$), which is an electrically active interface trap ($P_b$ center), and a mobile hydrogen species ($H_{species}$) that diffuses away.\n\nThis mechanism directly increases the density of interface states, $N_{it}$. The created traps are relatively stable. Recovery requires the hydrogen species to diffuse back to the interface and re-passivate the dangling bond. This process is slow, diffusion-limited, and strongly thermally activated.\n\n**Predicted Experimental Signatures**:\n\n*   **Fast Current-Voltage (I-V)**: The newly created interface traps must be charged before a strong inversion layer can form, which requires a more negative gate voltage. This results in a negative shift in $V_{th}$. Since the traps are physically created defects, the shift is largely permanent or non-recoverable on short timescales. The slow back-diffusion of hydrogen makes recovery very slow and highly dependent on temperature. Crucially, the increase in $N_{it}$ directly increases the interface-state capacitance $C_{it}$, which degrades (increases) the subthreshold slope $S$.\n*   **Capacitance-Voltage (CV)**: The increase in interface state density causes the CV curve to \"stretch out\" along the voltage axis in the depletion and weak inversion regions. This is because the interface states contribute their own capacitance ($C_{it}$), which adds in parallel to the depletion capacitance ($C_d$). This makes the transition from accumulation to inversion more gradual, i.e., it decreases the magnitude of the slope ($|dC/dV_g|$). Since interface states respond quickly to the AC signal, they do not typically cause the large sweep-direction hysteresis characteristic of slow bulk traps.\n*   **Charge Pumping (CP)**: This is the definitive measurement for this mechanism. Since $I_{CP}$ is directly proportional to $N_{it}$, the generation of new interface states results in a monotonic increase in $I_{CP}$ with stress time. Because the defects are persistent, the $I_{CP}$ remains elevated even after a period of unbiased recovery.\n\n### Evaluation of Options\n\n**A. Bulk high-permittivity trapping dominates: CV exhibits pronounced sweep-direction hysteresis and strong frequency dispersion in accumulation consistent with slow dielectric traps following the bias only partially; CP current remains essentially unchanged within the measurement uncertainty across stress and recovery; fast I–V taken immediately after stress removal reveals a large recoverable threshold shift component that decays rapidly when bias is removed, with little change in subthreshold slope.**\nThis option aligns perfectly with our derived signatures for bulk trapping.\n*   The CV signatures (hysteresis, frequency dispersion) are correct.\n*   The CP signature (unchanged current) is correct.\n*   The fast I-V signatures (large recoverable shift, no change in $S$) are correct.\n**Verdict: Correct.**\n\n**B. Interfacial silicon–hydrogen bond breaking dominates: CP current increases monotonically with stress and remains elevated after unbiased recovery, consistent with persistent interface state generation; CV shows stretch-out and increased slope in depletion/inversion consistent with added interface-state capacitance, with only weak hysteresis; fast I–V reveals a largely non-recoverable threshold shift whose recovery is slow and strongly thermally activated.**\nThis option's description of the interface state generation mechanism is largely accurate.\n*   The CP signature (increased and persistent $I_{CP}$) is the primary hallmark of this mechanism and is stated correctly.\n*   The fast I-V signatures (largely non-recoverable $\\Delta V_{th}$, slow and thermally activated recovery) are correct.\n*   The CV signatures (\"stretch-out\", \"weak hysteresis\") are correct. The term \"increased slope\" is potentially confusing. A stretch-out implies the magnitude of the slope, $|dC/dV_g|$, *decreases*. However, since the slope $dC/dV_g$ in depletion for a pMOS is negative, an increase (e.g., from $-5$ to $-2$) makes it less negative, corresponding to a less steep curve. Under this technically correct mathematical interpretation, \"increased slope\" is consistent with \"stretch-out\". Given that all other points are physically sound, this set of signatures is internally consistent and physically justified.\n**Verdict: Correct.**\n\n**C. Bulk high-permittivity trapping dominates: CP current decreases due to carrier capture into bulk traps; CV accumulation capacitance decreases permanently without hysteresis or frequency dispersion; fast I–V shows complete immediate recovery of threshold voltage upon stress removal.**\nThis option contains multiple physical errors.\n*   CP current is expected to be unchanged, not decrease.\n*   CV signature for bulk trapping is pronounced hysteresis and frequency dispersion, not their absence. The effect is also largely recoverable, not permanent.\n*   Fast I-V recovery is logarithmic in time, not complete and immediate.\n**Verdict: Incorrect.**\n\n**D. Interfacial silicon–hydrogen bond breaking dominates: CV shows strong accumulation hysteresis and no stretch-out; CP current is unchanged by stress; fast I–V reveals a rapidly recoverable threshold shift component with negligible temperature dependence.**\nThis option incorrectly attributes the signatures of bulk trapping to the interface state generation mechanism.\n*   The CV signature for interface states is stretch-out, not strong hysteresis.\n*   The CP current must increase, not remain unchanged.\n*   The $\\Delta V_{th}$ from bond breaking is largely permanent and recovery is slow and thermal, not rapid and non-thermal.\n**Verdict: Incorrect.**",
            "answer": "$$\\boxed{AB}$$"
        },
        {
            "introduction": "In modern non-planar transistors like FinFETs and Gate-All-Around (GAA) devices, complex 3D geometries lead to significant spatial variations in electric fields and temperature, causing NBTI to be highly non-uniform. This advanced practice guides you in constructing a physics-based computational model to capture this spatial heterogeneity. By implementing a surrogate model that incorporates key physical dependencies, you will gain hands-on experience in predicting degradation patterns and their statistical impact, a crucial skill in modern reliability engineering and Technology Computer-Aided Design (TCAD). ",
            "id": "3760976",
            "problem": "Design and implement a self-contained program that models spatially heterogeneous Negative Bias Temperature Instability (NBTI) in advanced devices using a physics-grounded surrogate. Begin from fundamental and well-tested bases appropriate to semiconductor device reliability:\n\n- Negative Bias Temperature Instability (NBTI) in p-type metal–oxide–semiconductor (pMOS) transistors manifests as a gradual increase in interface or oxide trap occupancy under negative gate bias, producing a positive threshold voltage shift. Local degradation rates are accelerated by temperature and electric field due to thermally activated and field-assisted reaction kinetics.\n- Arrhenius temperature dependence: a thermally activated rate scales as $\\exp\\!\\left(-E_{\\mathrm{a}}/(k_{\\mathrm{B}} T)\\right)$, where $E_{\\mathrm{a}}$ is an activation energy, $k_{\\mathrm{B}}$ is Boltzmann’s constant, and $T$ is absolute temperature.\n- Field acceleration: a local electric field magnitude $|E|$ accelerates degradation with a factor $\\exp\\!\\left(\\gamma |E|\\right)$ for a suitable constant $\\gamma$ with units inverse to $|E|$.\n- Broad distributions of reaction time constants lead to an emergent fractional power-law in time for accumulated damage. A defensible surrogate for the local threshold shift is $\\Delta V_{\\mathrm{th}}(t)\\propto t^{n}$ with $0lt;nlt;1$ when a superposition of many first-order activated processes with a logarithmically broad time constant distribution is considered.\n- Local threshold shift is proportional to the density of active defects or trapped charge, so spatial heterogeneity in the electric field and temperature maps translates into heterogeneous $\\Delta V_{\\mathrm{th}}$.\n\nYour tasks are:\n\n1) Derive, from the bases above, a spatially resolved surrogate model for the local threshold voltage shift at a location index $i$ with local temperature $T_{i}$ and local electric field magnitude $|E_{i}|$:\n- Postulate a proportionality of the form\n$$\n\\Delta V_{\\mathrm{th},i}(t) \\;=\\; K \\,\\exp\\!\\left(\\frac{-E_{\\mathrm{a}}}{k_{\\mathrm{B}} T_{i}}\\right)\\,\\exp\\!\\left(\\gamma |E_{i}|\\right)\\, t^{n},\n$$\nidentify and justify each factor based on the foundational principles, and specify units for each quantity so that $\\Delta V_{\\mathrm{th},i}(t)$ is in volts.\n\n2) Define and compute the following observables for a device discretized into $N$ spatial sites:\n- The spatial mean at a specified stress end time $t_{\\mathrm{end}}$: \n$$\n\\overline{\\Delta V_{\\mathrm{th}}}(t_{\\mathrm{end}})=\\frac{1}{N}\\sum_{i=1}^{N}\\Delta V_{\\mathrm{th},i}(t_{\\mathrm{end}})\\quad\\text{in volts}.\n$$\n- The spatial standard deviation at $t_{\\mathrm{end}}$:\n$$\n\\sigma_{\\Delta V_{\\mathrm{th}}}(t_{\\mathrm{end}})=\\sqrt{\\frac{1}{N}\\sum_{i=1}^{N}\\left(\\Delta V_{\\mathrm{th},i}(t_{\\mathrm{end}})-\\overline{\\Delta V_{\\mathrm{th}}}(t_{\\mathrm{end}})\\right)^{2}}\\quad\\text{in volts}.\n$$\n- A global time exponent estimate $n_{\\mathrm{est}}$ from a least-squares fit of $\\log \\overline{\\Delta V_{\\mathrm{th}}}(t)$ versus $\\log t$ over a provided set of times $\\{t_{k}\\}$:\n$$\nn_{\\mathrm{est}}=\\arg\\min_{a,b}\\sum_{k}\\left(\\log \\overline{\\Delta V_{\\mathrm{th}}}(t_{k})-(a+b\\log t_{k})\\right)^{2}\\quad\\text{and report }b\\text{ as }n_{\\mathrm{est}}\\text{ (dimensionless)}.\n$$\n- The Pearson correlation coefficient between $\\{|E_{i}|\\}$ and $\\{\\Delta V_{\\mathrm{th},i}(t_{\\mathrm{end}})\\}$:\n$$\n\\rho=\\frac{\\sum_{i}\\left(|E_{i}|-\\overline{|E|}\\right)\\left(\\Delta V_{\\mathrm{th},i}(t_{\\mathrm{end}})-\\overline{\\Delta V_{\\mathrm{th}}}(t_{\\mathrm{end}})\\right)}{\\sqrt{\\sum_{i}\\left(|E_{i}|-\\overline{|E|}\\right)^{2}}\\sqrt{\\sum_{i}\\left(\\Delta V_{\\mathrm{th},i}(t_{\\mathrm{end}})-\\overline{\\Delta V_{\\mathrm{th}}}(t_{\\mathrm{end}})\\right)^{2}}}\\quad\\text{dimensionless}.\n$$\nIf either standard deviation in the denominator is zero, define $\\rho=0$.\n\n3) Model post-stress recovery at each site under zero field as a stretched-exponential neutral recovery fraction with Arrhenius time constant:\n- Define the site-dependent characteristic time \n$$\n\\tau_{0}(T_{i})=\\tau_{00}\\,\\exp\\!\\left(\\frac{E_{\\mathrm{ar}}}{k_{\\mathrm{B}} T_{i}}\\right)\\quad\\text{in seconds},\n$$\nand a maximum recoverable fraction\n$$\nr_{\\max}(T_{i})=\\operatorname{clip}\\!\\left(r_{0}+r_{1}\\frac{T_{i}-T_{\\mathrm{ref}}}{\\Delta T},\\,0,\\,r_{\\max}^{\\mathrm{cap}}\\right)\\quad\\text{dimensionless}.\n$$\n- For a recovery duration $t_{\\mathrm{rec}}$, define the residual fraction\n$$\nf_{\\mathrm{res}}(T_{i},t_{\\mathrm{rec}})=1-r_{\\max}(T_{i})\\left(1-\\exp\\!\\left[-\\left(\\frac{t_{\\mathrm{rec}}}{\\tau_{0}(T_{i})}\\right)^{\\beta}\\right]\\right),\n$$\nand set $\\Delta V_{\\mathrm{th},i}^{\\mathrm{post}}=\\Delta V_{\\mathrm{th},i}(t_{\\mathrm{end}})\\,f_{\\mathrm{res}}(T_{i},t_{\\mathrm{rec}})$.\n- Report the average recovery fraction as a decimal (not a percent):\n$$\n\\overline{f}_{\\mathrm{rec}}=1-\\frac{1}{N}\\sum_{i=1}^{N}f_{\\mathrm{res}}(T_{i},t_{\\mathrm{rec}})\\quad\\text{dimensionless}.\n$$\n\nUse the following parameter values and units consistently:\n- $k_{\\mathrm{B}}=8.617333262\\times 10^{-5}\\,\\mathrm{eV/K}$,\n- $E_{\\mathrm{a}}=0.18\\,\\mathrm{eV}$,\n- $\\gamma=0.3\\,(\\mathrm{MV/cm})^{-1}$, where $|E|$ is in $\\mathrm{MV/cm}$,\n- $n=0.2$ (dimensionless),\n- $K=2.0\\,\\mathrm{V}\\cdot \\mathrm{s}^{-n}$,\n- $\\beta=0.3$ (dimensionless),\n- $\\tau_{00}=1.0\\times 10^{-12}\\,\\mathrm{s}$,\n- $E_{\\mathrm{ar}}=0.9\\,\\mathrm{eV}$,\n- $r_{0}=0.3$ (dimensionless),\n- $r_{1}=0.2$ (dimensionless),\n- $T_{\\mathrm{ref}}=300\\,\\mathrm{K}$,\n- $\\Delta T=100\\,\\mathrm{K}$,\n- $r_{\\max}^{\\mathrm{cap}}=0.8$ (dimensionless).\n\nImplement a program that, for each test case below, computes and returns a list containing, in this exact order:\n- $\\overline{\\Delta V_{\\mathrm{th}}}(t_{\\mathrm{end}})$ in volts,\n- $\\sigma_{\\Delta V_{\\mathrm{th}}}(t_{\\mathrm{end}})$ in volts,\n- $n_{\\mathrm{est}}$ (dimensionless),\n- $\\rho$ (dimensionless),\n- $\\overline{f}_{\\mathrm{rec}}$ (dimensionless decimal, not a percent).\n\nTest suite to exercise the model and numerics (fields in $\\mathrm{MV/cm}$, temperatures in $\\mathrm{K}$, times in $\\mathrm{s}$):\n- Case A (tri-gate fin with corner fields): $E=[3.0,\\,2.2,\\,1.5,\\,2.2,\\,3.0]$, $T=[350,\\,350,\\,350,\\,350,\\,350]$, $t\\in\\{1,\\,10,\\,100,\\,1000\\}$, with $t_{\\mathrm{end}}=1000$ and $t_{\\mathrm{rec}}=100$.\n- Case B (gate-all-around nanowire with self-heating gradient): $E=[2.1,\\,2.0,\\,1.9,\\,1.8,\\,1.9,\\,2.0,\\,2.1]$, $T=[330,\\,360,\\,380,\\,400,\\,380,\\,360,\\,330]$, $t\\in\\{1,\\,10,\\,100,\\,1000\\}$, with $t_{\\mathrm{end}}=1000$ and $t_{\\mathrm{rec}}=10$.\n- Case C (near-zero field control): $E=[0.1,\\,0.1,\\,0.1,\\,0.1,\\,0.1]$, $T=[300,\\,300,\\,300,\\,300,\\,300]$, $t\\in\\{1,\\,10,\\,100\\}$, with $t_{\\mathrm{end}}=100$ and $t_{\\mathrm{rec}}=10$.\n\nFinal output format requirement:\n- Your program should produce a single line of output containing the results as a comma-separated list of lists, each inner list ordered as specified above for the corresponding test case, all enclosed in square brackets. For example: \"[[resultA1,resultA2,resultA3,resultA4,resultA5],[resultB1,...],[resultC1,...]]\".",
            "solution": "The user-provided problem is assessed to be **valid**. It is scientifically grounded in the established principles of semiconductor device physics, specifically the modeling of Negative Bias Temperature Instability (NBTI). The problem is well-posed, with all necessary mathematical models, parameters, and data provided for a unique and verifiable solution. Its language is objective and its structure is logical. The following solution is therefore presented.\n\nThe solution is developed in three parts as specified by the problem statement: model derivation, observable computation, and recovery modeling.\n\n### 1. Derivation and Justification of the Surrogate Model\n\nThe problem requires the derivation of a surrogate model for the local threshold voltage shift, $\\Delta V_{\\mathrm{th},i}(t)$, at a spatial site $i$. The postulated form is:\n$$\n\\Delta V_{\\mathrm{th},i}(t) \\;=\\; K \\,\\exp\\!\\left(\\frac{-E_{\\mathrm{a}}}{k_{\\mathrm{B}} T_{i}}\\right)\\,\\exp\\!\\left(\\gamma |E_{i}|\\right)\\, t^{n}\n$$\nThis form arises from the superposition of fundamental, empirically validated physical principles described in the problem statement.\n\n- **Temperature Dependence**: The term $\\exp(-E_{\\mathrm{a}}/(k_{\\mathrm{B}} T_{i}))$ is the Arrhenius factor. NBTI is a thermally activated process, meaning the rate of defect generation (e.g., the breaking of Si-H bonds at the gate dielectric interface) increases with temperature, $T_i$. This factor quantifies this dependence, where $E_{\\mathrm{a}}$ is the activation energy of the underlying degradation reaction and $k_{\\mathrm{B}}$ is the Boltzmann constant. A higher temperature provides more thermal energy to overcome the reaction barrier $E_{\\mathrm{a}}$.\n\n- **Electric Field Dependence**: The term $\\exp(\\gamma |E_{i}|)$ represents the field-assisted nature of the degradation. The local electric field, $|E_{i}|$, across the gate dielectric lowers the effective energy barrier for bond dissociation and can enhance the transport of reactive species (e.g., hydrogen). The parameter $\\gamma$ is the field acceleration factor, which captures the strength of this effect. This exponential dependence is a common feature in models of dielectric degradation.\n\n- **Time Dependence**: The term $t^{n}$ models the characteristic power-law time evolution of NBTI. This emergent behavior is widely observed and is understood to arise from the superposition of a multitude of first-order kinetic processes with a broad, logarithmic distribution of time constants, or from reaction-diffusion limited kinetics. The exponent $n$ is typically in the range $0  n  1$, with the problem specifying $n=0.2$.\n\n- **Proportionality Constant**: The constant $K$ amalgamates other physical parameters not explicitly dependent on time, temperature, or field, such as material properties, the initial concentration of precursor sites for defects, and geometric factors. It functions as a pre-factor that scales the combined effects to match experimental measurements.\n\n**Unit Analysis**: The consistency of physical units is critical for model validity. Let the units of a quantity $X$ be denoted by $[X]$.\n- The arguments of the exponential functions must be dimensionless.\n- For the temperature term: $[E_{\\mathrm{a}}] = \\mathrm{eV}$, $[k_{\\mathrm{B}}] = \\mathrm{eV/K}$, $[T_i] = \\mathrm{K}$. Thus, $[E_{\\mathrm{a}} / (k_{\\mathrm{B}} T_i)] = \\mathrm{eV} / (\\mathrm{eV/K} \\cdot \\mathrm{K}) = \\text{dimensionless}$.\n- For the field term: $[\\gamma] = (\\mathrm{MV/cm})^{-1}$, $[|E_i|] = \\mathrm{MV/cm}$. Thus, $[\\gamma |E_i|] = (\\mathrm{MV/cm})^{-1} \\cdot \\mathrm{MV/cm} = \\text{dimensionless}$.\n- For the overall expression: $[t] = \\mathrm{s}$, so $[t^n] = \\mathrm{s}^n$. The problem specifies $[K] = \\mathrm{V} \\cdot \\mathrm{s}^{-n}$.\n- Therefore, the unit of $\\Delta V_{\\mathrm{th},i}(t)$ is $[\\mathrm{V} \\cdot \\mathrm{s}^{-n}] \\cdot [\\text{dimensionless}] \\cdot [\\text{dimensionless}] \\cdot [\\mathrm{s}^n] = \\mathrm{V}$. The model correctly yields a threshold voltage shift in volts.\n\n### 2. Computation of Observables\n\nThe program will compute five observables for each test case. The implementation will leverage the `numpy` library for efficient vectorized calculations over the $N$ spatial sites.\n\n- **Mean Threshold Shift $\\overline{\\Delta V_{\\mathrm{th}}}(t_{\\mathrm{end}})$**: The model for $\\Delta V_{\\mathrm{th},i}(t)$ is first evaluated for each site $i$ at the stress end time $t_{\\mathrm{end}}$. The arithmetic mean of these values is then computed.\n\n- **Standard Deviation $\\sigma_{\\Delta V_{\\mathrm{th}}}(t_{\\mathrm{end}})$**: The spatial variability of the degradation is quantified by the population standard deviation of the array $\\{\\Delta V_{\\mathrm{th},i}(t_{\\mathrm{end}})\\}$.\n\n- **Time Exponent Estimate $n_{\\mathrm{est}}$**: This requires a log-log linear regression. The model shows that $\\log \\overline{\\Delta V_{\\mathrm{th}}}(t) = n \\log t + C$, where $C$ is a time-independent constant. We first compute $\\overline{\\Delta V_{\\mathrm{th}}}(t_k)$ for each time point $t_k$ in the provided series. Then, a linear least-squares fit is performed on the pairs $(\\log t_k, \\log \\overline{\\Delta V_{\\mathrm{th}}}(t_k))$. The slope of this fit is the estimate $n_{\\mathrm{est}}$, which should be very close to the model parameter $n=0.2$. This is achieved using `numpy.polyfit`.\n\n- **Pearson Correlation Coefficient $\\rho$**: This measures the linear correlation between the local electric field $\\{|E_i|\\}$ and the resulting degradation $\\{\\Delta V_{\\mathrm{th},i}(t_{\\mathrm{end}})\\}$. A positive value indicates that higher fields lead to higher degradation. The calculation follows the provided formula. A critical edge case is handled: if the standard deviation of either input array is zero (i.e., all values are constant), $\\rho$ is defined to be $0$, as specified.\n\n### 3. Recovery Modeling\n\nThe program models the post-stress recovery phase to calculate the average recovery fraction, $\\overline{f}_{\\mathrm{rec}}$.\n\n- A site-dependent characteristic recovery time, $\\tau_0(T_i)$, is calculated, which follows an Arrhenius law with a recovery activation energy $E_{\\mathrm{ar}}$.\n- The maximum recoverable fraction, $r_{\\max}(T_i)$, is determined. It has a baseline value $r_0$ and a linear dependence on temperature, clipped to a physically plausible range $[0, r_{\\max}^{\\mathrm{cap}}]$.\n- The residual (non-recovered) fraction of degradation at site $i$, $f_{\\mathrm{res}}(T_i, t_{\\mathrm{rec}})$, is calculated using a stretched-exponential function. This form captures the dispersive, non-exponential nature of recovery processes. The exponent $\\beta$ determines the \"stretch\" of the exponential.\n- Finally, the average recovery fraction over all sites, $\\overline{f}_{\\mathrm{rec}}$, is computed as $1$ minus the average residual fraction, consistent with the provided definition $\\overline{f}_{\\mathrm{rec}} = 1 - \\frac{1}{N}\\sum_{i=1}^{N}f_{\\mathrm{res}}(T_{i},t_{\\mathrm{rec}})$. This is equivalent to the average of the recovered fraction at each site.",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Models spatially heterogeneous NBTI degradation and recovery in semiconductor devices.\n    \"\"\"\n    # 1. DEFINE CONSTANTS AND PARAMETERS\n    k_B = 8.617333262e-5  # Boltzmann constant in eV/K\n    E_a = 0.18           # Degradation activation energy in eV\n    gamma = 0.3          # Field acceleration factor in (MV/cm)^-1\n    n = 0.2              # Time exponent (dimensionless)\n    K = 2.0              # Proportionality constant in V * s^-n\n    beta = 0.3           # Stretched-exponential exponent for recovery (dimensionless)\n    tau_00 = 1.0e-12     # Pre-factor for recovery time constant in s\n    E_ar = 0.9           # Recovery activation energy in eV\n    r_0 = 0.3            # Baseline recoverable fraction (dimensionless)\n    r_1 = 0.2            # Temperature sensitivity of recoverable fraction (dimensionless)\n    T_ref = 300.0        # Reference temperature for recovery in K\n    delta_T = 100.0      # Temperature scaling factor for recovery in K\n    r_max_cap = 0.8      # Cap for maximum recoverable fraction (dimensionless)\n\n    # 2. DEFINE TEST CASES\n    test_cases = [\n        # Case A: Tri-gate fin with corner fields\n        {\n            \"E\": np.array([3.0, 2.2, 1.5, 2.2, 3.0]),  # MV/cm\n            \"T\": np.array([350.0, 350.0, 350.0, 350.0, 350.0]), # K\n            \"t_k\": np.array([1.0, 10.0, 100.0, 1000.0]), # s\n            \"t_end\": 1000.0, # s\n            \"t_rec\": 100.0  # s\n        },\n        # Case B: Gate-all-around nanowire with self-heating\n        {\n            \"E\": np.array([2.1, 2.0, 1.9, 1.8, 1.9, 2.0, 2.1]), # MV/cm\n            \"T\": np.array([330.0, 360.0, 380.0, 400.0, 380.0, 360.0, 330.0]), # K\n            \"t_k\": np.array([1.0, 10.0, 100.0, 1000.0]), # s\n            \"t_end\": 1000.0, # s\n            \"t_rec\": 10.0  # s\n        },\n        # Case C: Near-zero field control\n        {\n            \"E\": np.array([0.1, 0.1, 0.1, 0.1, 0.1]), # MV/cm\n            \"T\": np.array([300.0, 300.0, 300.0, 300.0, 300.0]), # K\n            \"t_k\": np.array([1.0, 10.0, 100.0]), # s\n            \"t_end\": 100.0, # s\n            \"t_rec\": 10.0  # s\n        },\n    ]\n\n    all_case_results = []\n\n    # 3. PROCESS EACH TEST CASE\n    for case in test_cases:\n        E_i = case[\"E\"]\n        T_i = case[\"T\"]\n        t_k = case[\"t_k\"]\n        t_end = case[\"t_end\"]\n        t_rec = case[\"t_rec\"]\n\n        # Helper function for local threshold voltage shift\n        def calculate_delta_vth(t, T_local, E_local):\n            temp_factor = np.exp(-E_a / (k_B * T_local))\n            field_factor = np.exp(gamma * E_local)\n            time_factor = t ** n\n            return K * temp_factor * field_factor * time_factor\n\n        # --- Compute observables at t_end ---\n        \n        # Calculate local delta_Vth at t_end for all sites\n        dvth_end_i = calculate_delta_vth(t_end, T_i, E_i)\n\n        # Observable 1: Spatial mean of delta_Vth at t_end\n        mean_dvth_end = np.mean(dvth_end_i)\n\n        # Observable 2: Spatial standard deviation of delta_Vth at t_end\n        std_dvth_end = np.std(dvth_end_i)\n\n        # Observable 3: Global time exponent estimate n_est\n        log_t_k = np.log(t_k)\n        mean_dvth_t_k = np.array([np.mean(calculate_delta_vth(t, T_i, E_i)) for t in t_k])\n        log_mean_dvth = np.log(mean_dvth_t_k)\n        # polyfit(x, y, 1) returns [slope, intercept] for a linear fit y = slope*x + intercept\n        n_est = np.polyfit(log_t_k, log_mean_dvth, 1)[0]\n\n        # Observable 4: Pearson correlation coefficient rho\n        # Per problem specification, if either std dev is zero, rho = 0.\n        if np.std(E_i) == 0.0 or np.std(dvth_end_i) == 0.0:\n            rho = 0.0\n        else:\n            # np.corrcoef returns a 2x2 correlation matrix\n            rho = np.corrcoef(E_i, dvth_end_i)[0, 1]\n\n        # --- Compute recovery observable ---\n        \n        # Observable 5: Average recovery fraction\n        # Site-dependent characteristic recovery time\n        tau_0_i = tau_00 * np.exp(E_ar / (k_B * T_i))\n        \n        # Site-dependent maximum recoverable fraction\n        r_max_unclipped = r_0 + r_1 * (T_i - T_ref) / delta_T\n        r_max_i = np.clip(r_max_unclipped, 0, r_max_cap)\n        \n        # Site-dependent recovered fraction\n        # This is the part that is recovered: r_max * (1 - exp(...))\n        recovered_fraction_i = r_max_i * (1 - np.exp(-(t_rec / tau_0_i) ** beta))\n        \n        # Average recovery fraction is the mean of the site-dependent recovered fractions\n        avg_recovery_fraction = np.mean(recovered_fraction_i)\n\n        # Collect results for the current case\n        current_case_results = [\n            mean_dvth_end,\n            std_dvth_end,\n            n_est,\n            rho,\n            avg_recovery_fraction\n        ]\n        all_case_results.append(current_case_results)\n\n    # 4. FORMAT AND PRINT FINAL OUTPUT\n    formatted_cases = []\n    for case_results in all_case_results:\n        # Format each number in the inner list to string\n        # Use a general format that avoids scientific notation for small numbers but handles precision\n        formatted_numbers = [f\"{num:.10f}\".rstrip('0').rstrip('.') if abs(num) > 1e-4 else f\"{num:.6e}\" for num in case_results]\n        formatted_cases.append(f\"[{','.join(formatted_numbers)}]\")\n    \n    final_output_string = f\"[{','.join(formatted_cases)}]\"\n    print(final_output_string)\n\nsolve()\n```"
        }
    ]
}