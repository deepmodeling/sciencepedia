{
    "hands_on_practices": [
        {
            "introduction": "The charge neutrality condition, $n - p = N_D^+ - N_A^-$, is fundamental to semiconductor physics. However, in practice, we often use the approximation that the majority carrier concentration is simply the net dopant concentration. This exercise challenges you to investigate the validity of this common simplification . By comparing a heavily compensated semiconductor where the net doping is comparable to the intrinsic carrier concentration ($N_D - N_A \\sim n_i$) with a more strongly extrinsic case, you will gain a deeper intuition for when minority carriers play a crucial and non-negligible role in maintaining charge balance.",
            "id": "4267729",
            "problem": "A uniformly doped, macroscopically homogeneous bulk semiconductor is held at thermal equilibrium at temperature $300\\,\\text{K}$. All donors and acceptors are shallow and completely ionized, and the semiconductor is non-degenerate. Two compensated $n$-type samples made of germanium are considered, both at the same temperature with intrinsic carrier concentration $n_i = 2.4\\times 10^{13}\\,\\text{cm}^{-3}$:\n- Sample $\\mathcal{A}$: $N_D = 5.02\\times 10^{15}\\,\\text{cm}^{-3}$ and $N_A = 5.00\\times 10^{15}\\,\\text{cm}^{-3}$.\n- Sample $\\mathcal{B}$: $N_D = 1.00\\times 10^{16}\\,\\text{cm}^{-3}$ and $N_A = 9.00\\times 10^{15}\\,\\text{cm}^{-3}$.\n\nAssume no external fields or gradients, and that any electrostatic field arising from uncovered charge is screened by mobile carriers over a Debye length set by the local carrier densities. Consider the roles of majority (electrons) and minority (holes) in enforcing local charge neutrality in such uniformly doped bulks, especially when the donor–acceptor difference $N_D - N_A$ is small.\n\nWhich of the following statements are correct? Select all that apply.\n\nA. In a uniformly doped bulk semiconductor at thermal equilibrium with complete ionization, local charge neutrality on length scales larger than the Debye screening length requires $n - p = N_D - N_A$.\n\nB. When $\\lvert N_D - N_A\\rvert \\ll n_i$, both $n$ and $p$ are of order $n_i$ and comparable to each other, so the minority carrier population cannot be neglected in enforcing neutrality.\n\nC. For Sample $\\mathcal{A}$, the minority carrier concentration is approximately $1.6\\times 10^{13}\\,\\text{cm}^{-3}$, i.e., of order $n_i$, and it contributes at the tens-of-percent level to local neutrality.\n\nD. For Sample $\\mathcal{B}$, the minority carrier concentration is approximately $5.8\\times 10^{11}\\,\\text{cm}^{-3}$ and can be neglected in the neutrality condition to better than $0.1\\%$ accuracy.\n\nE. Because donors and acceptors compensate each other directly, the neutrality condition in a compensated $n$-type bulk always reduces to $n \\approx N_D - N_A$ and $p \\approx n_i^2/(N_D - N_A)$, even when $\\lvert N_D - N_A\\rvert$ is very small.",
            "solution": "The problem has been validated and is scientifically sound, well-posed, and contains sufficient information for a unique solution.\n\nThe fundamental principles governing carrier concentrations in a non-degenerate semiconductor at thermal equilibrium are the charge neutrality condition and the law of mass action.\n\n1.  **Charge Neutrality Condition**: The total positive charge density must equal the total negative charge density. For a semiconductor doped with donors ($N_D$) and acceptors ($N_A$), this is expressed as:\n    $$p + N_D^+ = n + N_A^-$$\n    where $p$ is the hole concentration, $n$ is the electron concentration, $N_D^+$ is the concentration of ionized donors, and $N_A^-$ is the concentration of ionized acceptors. The problem states that all dopants are shallow and completely ionized, so $N_D^+ = N_D$ and $N_A^- = N_A$. The equation simplifies to:\n    $$p + N_D = n + N_A$$\n    This can be rearranged to:\n    $$n - p = N_D - N_A$$\n\n2.  **Law of Mass Action**: For a non-degenerate semiconductor at thermal equilibrium, the product of the electron and hole concentrations is a constant that depends on temperature and the material's bandgap. This constant is the square of the intrinsic carrier concentration, $n_i$.\n    $$np = n_i^2$$\n\nThese two equations form a system that can be solved for $n$ and $p$. Substituting $p = n_i^2/n$ into the charge neutrality equation gives:\n$$n - \\frac{n_i^2}{n} = N_D - N_A$$\nMultiplying by $n$ and rearranging yields a quadratic equation for $n$:\n$$n^2 - (N_D - N_A)n - n_i^2 = 0$$\nThe physically meaningful solution (since $n > 0$) is obtained from the quadratic formula:\n$$n = \\frac{(N_D - N_A) + \\sqrt{(N_D - N_A)^2 + 4n_i^2}}{2} = \\frac{N_D - N_A}{2} + \\sqrt{\\left(\\frac{N_D - N_A}{2}\\right)^2 + n_i^2}$$\nOnce $n$ is found, $p$ can be calculated from $p = n_i^2/n$. An analogous expression for $p$ is:\n$$p = \\frac{-(N_D - N_A) + \\sqrt{(N_D - N_A)^2 + 4n_i^2}}{2} = -\\frac{N_D - N_A}{2} + \\sqrt{\\left(\\frac{N_D - N_A}{2}\\right)^2 + n_i^2}$$\n\nThe given data is:\n- Intrinsic concentration: $n_i = 2.4\\times 10^{13}\\,\\text{cm}^{-3}$\n- Sample $\\mathcal{A}$: $N_D = 5.02\\times 10^{15}\\,\\text{cm}^{-3}$, $N_A = 5.00\\times 10^{15}\\,\\text{cm}^{-3}$, so $N_D - N_A = 2\\times 10^{13}\\,\\text{cm}^{-3}$.\n- Sample $\\mathcal{B}$: $N_D = 1.00\\times 10^{16}\\,\\text{cm}^{-3}$, $N_A = 9.00\\times 10^{15}\\,\\text{cm}^{-3}$, so $N_D - N_A = 1\\times 10^{15}\\,\\text{cm}^{-3}$.\n\nNow we evaluate each option.\n\n**A. In a uniformly doped bulk semiconductor at thermal equilibrium with complete ionization, local charge neutrality on length scales larger than the Debye screening length requires $n - p = N_D - N_A$.**\n\nThis statement is a direct consequence of the principle of charge neutrality. As derived above, the condition that total charge density is zero, $\\rho = q(p + N_D^+ - n - N_A^-) = 0$, with the given assumption of complete ionization ($N_D^+ = N_D$, $N_A^- = N_A$), leads directly to $p + N_D = n + N_A$, which is equivalent to $n - p = N_D - N_A$. The phrase \"on length scales larger than the Debye screening length\" correctly specifies the condition for macroscopic bulk neutrality, distinguishing it from space-charge regions where $\\rho \\neq 0$. This statement is a fundamental truth under the given conditions.\n\nVerdict: **Correct**.\n\n**B. When $\\lvert N_D - N_A\\rvert \\ll n_i$, both $n$ and $p$ are of order $n_i$ and comparable to each other, so the minority carrier population cannot be neglected in enforcing neutrality.**\n\nLet $\\Delta N = N_D - N_A$. The condition is $|\\Delta N| \\ll n_i$. We analyze the exact solution for $n$ in this limit:\n$$n = \\frac{\\Delta N}{2} + \\sqrt{\\left(\\frac{\\Delta N}{2}\\right)^2 + n_i^2}$$\nSince $(\\frac{\\Delta N}{2})^2 \\ll n_i^2$, the term under the square root is approximately $n_i^2$.\n$$n \\approx \\frac{\\Delta N}{2} + \\sqrt{n_i^2} = n_i + \\frac{\\Delta N}{2}$$\nSimilarly for $p$:\n$$p = -\\frac{\\Delta N}{2} + \\sqrt{\\left(\\frac{\\Delta N}{2}\\right)^2 + n_i^2} \\approx -\\frac{\\Delta N}{2} + n_i = n_i - \\frac{\\Delta N}{2}$$\nAs $|\\Delta N/2| \\ll n_i$, both $n$ and $p$ are very close to $n_i$ and thus are of the same order of magnitude and comparable to each other. If we were to neglect the minority carriers (e.g., $p$ for an $n$-type sample, where $\\Delta N > 0$) in the neutrality equation $n - p = \\Delta N$, we would get $n \\approx \\Delta N$. This is a poor approximation, as our analysis shows $n \\approx n_i \\gg \\Delta N$. Therefore, the contribution of minority carriers is essential to satisfy the charge neutrality condition.\n\nVerdict: **Correct**.\n\n**C. For Sample $\\mathcal{A}$, the minority carrier concentration is approximately $1.6\\times 10^{13}\\,\\text{cm}^{-3}$, i.e., of order $n_i$, and it contributes at the tens-of-percent level to local neutrality.**\n\nFor Sample $\\mathcal{A}$, the net donor concentration is $N_D - N_A = 2\\times 10^{13}\\,\\text{cm}^{-3}$. The intrinsic concentration is $n_i = 2.4\\times 10^{13}\\,\\text{cm}^{-3}$. Since $N_D > N_A$, the material is $n$-type, and holes ($p$) are the minority carriers. We use the exact formula to find the electron concentration $n$:\n$$n = \\frac{2\\times 10^{13}}{2} + \\sqrt{\\left(\\frac{2\\times 10^{13}}{2}\\right)^2 + (2.4\\times 10^{13})^2}$$\n$$n = 1\\times 10^{13} + \\sqrt{(1\\times 10^{13})^2 + 5.76\\times 10^{26}} = 1\\times 10^{13} + \\sqrt{1\\times 10^{26} + 5.76\\times 10^{26}}$$\n$$n = 1\\times 10^{13} + \\sqrt{6.76\\times 10^{26}} = 1\\times 10^{13} + 2.6\\times 10^{13} = 3.6\\times 10^{13}\\,\\text{cm}^{-3}$$\nThe minority carrier concentration $p$ is then:\n$$p = \\frac{n_i^2}{n} = \\frac{(2.4\\times 10^{13})^2}{3.6\\times 10^{13}} = \\frac{5.76\\times 10^{26}}{3.6\\times 10^{13}} = 1.6\\times 10^{13}\\,\\text{cm}^{-3}$$\nThe calculated value of $p$ is $1.6\\times 10^{13}\\,\\text{cm}^{-3}$, which matches the statement. This concentration is of the order of $n_i = 2.4\\times 10^{13}\\,\\text{cm}^{-3}$.\nTo assess the contribution to neutrality, we can compare $p$ with $n$. The ratio is $p/n = (1.6\\times 10^{13}) / (3.6\\times 10^{13}) = 1.6/3.6 = 4/9 \\approx 0.444$, or $44.4\\%$. A $44.4\\%$ contribution is certainly \"at the tens-of-percent level\". Neglecting $p$ would lead to a large error.\n\nVerdict: **Correct**.\n\n**D. For Sample $\\mathcal{B}$, the minority carrier concentration is approximately $5.8\\times 10^{11}\\,\\text{cm}^{-3}$ and can be neglected in the neutrality condition to better than $0.1\\%$ accuracy.**\n\nFor Sample $\\mathcal{B}$, the net donor concentration is $N_D - N_A = 1.00\\times 10^{16} - 9.00\\times 10^{15} = 1\\times 10^{15}\\,\\text{cm}^{-3}$.\nHere, $N_D - N_A = 1\\times 10^{15}\\,\\text{cm}^{-3} \\gg n_i = 2.4\\times 10^{13}\\,\\text{cm}^{-3}$. This is the extrinsic regime, where it is a good approximation to assume the majority carrier concentration is equal to the net doping concentration, i.e., $n \\approx N_D - N_A$.\nUsing this approximation: $n \\approx 1\\times 10^{15}\\,\\text{cm}^{-3}$.\nThe minority carrier concentration $p$ is then:\n$$p = \\frac{n_i^2}{n} \\approx \\frac{(2.4\\times 10^{13})^2}{1\\times 10^{15}} = \\frac{5.76\\times 10^{26}}{1\\times 10^{15}} = 5.76\\times 10^{11}\\,\\text{cm}^{-3}$$\nRounding this to two significant figures gives $5.8\\times 10^{11}\\,\\text{cm}^{-3}$, which matches the value in the statement.\nTo check the accuracy of neglecting $p$ in the neutrality condition $n-p=N_D-N_A$, we assess the error in the approximation $n \\approx N_D - N_A$. Let's calculate the exact value of $n$:\n$$n = \\frac{1\\times 10^{15}}{2} + \\sqrt{\\left(\\frac{1\\times 10^{15}}{2}\\right)^2 + (2.4\\times 10^{13})^2}$$\n$$n = 0.5\\times 10^{15} + \\sqrt{0.25\\times 10^{30} + 5.76\\times 10^{26}} = 0.5\\times 10^{15} + \\sqrt{0.25\\times 10^{30} + 0.000576\\times 10^{30}}$$\n$$n = 0.5\\times 10^{15} + \\sqrt{0.250576\\times 10^{30}} = (0.5 + 0.5005756...)\\times 10^{15} = 1.0005756 \\times 10^{15}\\,\\text{cm}^{-3}$$\nThe approximation is $n_{approx} = N_D - N_A = 1\\times 10^{15}\\,\\text{cm}^{-3}$. The relative error of this approximation is:\n$$\\text{Error} = \\frac{|n - n_{approx}|}{n} = \\frac{|1.0005756\\times 10^{15} - 1\\times 10^{15}|}{1.0005756\\times 10^{15}} = \\frac{0.0005756}{1.0005756} \\approx 0.0005753$$\nThis corresponds to an error of $0.05753\\%$, which is indeed less than (better than) $0.1\\%$.\n\nVerdict: **Correct**.\n\n**E. Because donors and acceptors compensate each other directly, the neutrality condition in a compensated $n$-type bulk always reduces to $n \\approx N_D - N_A$ and $p \\approx n_i^2/(N_D - N_A)$, even when $\\lvert N_D - N_A\\rvert$ is very small.**\n\nThis statement claims that the extrinsic approximation ($n \\approx N_D - N_A$) is \"always\" valid in compensated material, \"even when $|N_D - N_A|$ is very small\". This is incorrect. The validity of this approximation depends on the condition $|N_D - N_A| \\gg n_i$. When $|N_D - N_A|$ is small (i.e., comparable to or less than $n_i$), the semiconductor becomes near-intrinsic, and minority carriers cannot be neglected.\nSample $\\mathcal{A}$ provides a direct counterexample. For this sample, $|N_D - N_A| = 2\\times 10^{13}\\,\\text{cm}^{-3}$, which is not much larger than $n_i = 2.4\\times 10^{13}\\,\\text{cm}^{-3}$.\nThe approximation would give $n \\approx 2\\times 10^{13}\\,\\text{cm}^{-3}$.\nOur exact calculation in (C) gave $n = 3.6\\times 10^{13}\\,\\text{cm}^{-3}$. The relative error is $|3.6 - 2.0|/3.6 = 1.6/3.6 \\approx 44\\%$. This is a very large error, demonstrating that the approximation fails significantly in this regime. Therefore, the statement is false.\n\nVerdict: **Incorrect**.",
            "answer": "$$\\boxed{ABCD}$$"
        },
        {
            "introduction": "This practice bridges the gap between theoretical models and experimental characterization. In a real-world setting, material parameters are determined through measurements, and it is essential to have a self-consistent physical model. This problem starts with a net ionized dopant density, a value typically extracted from Capacitance-Voltage (C-V) measurements, and asks you to apply the principles of charge neutrality and the law of mass action to predict the material's electrical conductivity . Successfully completing this exercise demonstrates how fundamental principles can be used to validate and interpret experimental data.",
            "id": "4267709",
            "problem": "A two-dimensional transition metal dichalcogenide (TMD) semiconductor film is characterized by Capacitance–Voltage (C–V) measurements that, after proper profiling of the depletion edge, yield a uniform net ionized dopant density difference of donors and acceptors of $N_D^+ - N_A^- = 3.0 \\times 10^{16}\\ \\text{cm}^{-3}$ in the quasi-neutral region at $T = 300\\ \\text{K}$. The intrinsic carrier concentration of this TMD at $T = 300\\ \\text{K}$ is $n_i = 2.0 \\times 10^{10}\\ \\text{cm}^{-3}$. Independent four-probe measurements report a room-temperature drift conductivity of $\\sigma_{\\text{meas}} = 0.235\\ \\text{S}/\\text{cm}$. Assume non-degenerate statistics, steady-state equilibrium, negligible trap charge, and that the C–V extracted $N_D^+$ and $N_A^-$ represent the ionized dopant densities in the quasi-neutral bulk.\n\nStarting from the requirement of charge neutrality in the quasi-neutral bulk and the equilibrium relation between electron and hole densities implied by detailed balance and equal electrochemical potential, derive the electron density $n$ and hole density $p$ consistent with the measured net ionized dopant density. Then, using the drift conduction model with the elementary charge $q$, compute the predicted conductivity $\\sigma$ from these carrier densities and the measured mobilities $\\mu_n = 50\\ \\text{cm}^2/\\text{V}\\cdot\\text{s}$ and $\\mu_p = 25\\ \\text{cm}^2/\\text{V}\\cdot\\text{s}$. Express your final conductivity in $\\text{S}/\\text{cm}$ and round your answer to four significant figures.",
            "solution": "The problem is subjected to validation before a solution is attempted.\n\n### Step 1: Extract Givens\n- Net ionized dopant density difference: $N_D^+ - N_A^- = 3.0 \\times 10^{16}\\ \\text{cm}^{-3}$\n- Temperature: $T = 300\\ \\text{K}$\n- Intrinsic carrier concentration: $n_i = 2.0 \\times 10^{10}\\ \\text{cm}^{-3}$\n- Measured drift conductivity: $\\sigma_{\\text{meas}} = 0.235\\ \\text{S}/\\text{cm}$\n- Electron mobility: $\\mu_n = 50\\ \\text{cm}^2/(\\text{V}\\cdot\\text{s})$\n- Hole mobility: $\\mu_p = 25\\ \\text{cm}^2/(\\text{V}\\cdot\\text{s})$\n- Elementary charge: $q$ (a fundamental constant, approximately $1.602 \\times 10^{-19}\\ \\text{C}$)\n- Assumptions: non-degenerate statistics, steady-state equilibrium, negligible trap charge, and the C–V extracted dopant densities are valid for the quasi-neutral bulk.\n\n### Step 2: Validate Using Extracted Givens\n- **Scientifically Grounded:** The problem uses fundamental principles of semiconductor physics, including the charge neutrality condition, the law of mass action ($np=n_i^2$), and the drift model for electrical conductivity. The values provided for dopant density, intrinsic concentration, and mobilities are realistic for semiconductor materials, including certain transition metal dichalcogenides.\n- **Well-Posed:** The problem provides a complete set of data and clear objectives: calculate the carrier densities and then the predicted conductivity. The structure leads to a unique, meaningful solution.\n- **Objective:** The problem is stated in precise, quantitative, and unbiased scientific language.\n- **Completeness and Consistency:** All necessary parameters for the calculation are provided. The inclusion of a measured conductivity $\\sigma_{\\text{meas}}$ does not create a contradiction; it serves as a point of comparison for the calculated value, which is a standard practice in physics and engineering problems. The task is to compute the theoretical conductivity based on the given model parameters, not to reconcile it with the measurement.\n\n### Step 3: Verdict and Action\nThe problem is scientifically sound, well-posed, and internally consistent. It is a valid problem. A solution will be derived.\n\nThe solution proceeds in two main steps. First, the equilibrium electron ($n$) and hole ($p$) concentrations in the quasi-neutral bulk are determined. Second, these carrier concentrations, along with the given mobilities, are used to calculate the predicted drift conductivity.\n\nThe first step relies on two fundamental principles for a semiconductor in thermal equilibrium:\n1.  **Charge Neutrality:** The material must be electrically neutral. The total positive charge density must equal the total negative charge density. This is expressed as:\n    $$p + N_D^+ = n + N_A^-$$\n    where $p$ is the hole concentration, $n$ is the electron concentration, $N_D^+$ is the ionized donor concentration, and $N_A^-$ is the ionized acceptor concentration. Rearranging this gives:\n    $$n - p = N_D^+ - N_A^-$$\n    The problem provides the net ionized dopant density, which we denote as $N_{\\text{net}} = N_D^+ - N_A^- = 3.0 \\times 10^{16}\\ \\text{cm}^{-3}$. Since $N_{\\text{net}} > 0$, the semiconductor is n-type. The equation becomes:\n    $$n - p = N_{\\text{net}}$$\n\n2.  **Law of Mass Action:** For a non-degenerate semiconductor in thermal equilibrium, the product of the electron and hole concentrations is a constant that depends on temperature and material properties, specifically the square of the intrinsic carrier concentration, $n_i$.\n    $$np = n_i^2$$\n\nWe now have a system of two equations with two unknowns, $n$ and $p$:\n$$n - p = N_{\\text{net}}$$\n$$np = n_i^2$$\n\nFrom the first equation, we can express $p$ as $p = n - N_{\\text{net}}$. Substituting this into the second equation yields:\n$$n(n - N_{\\text{net}}) = n_i^2$$\nThis rearranges into a quadratic equation for the electron concentration $n$:\n$$n^2 - N_{\\text{net}}n - n_i^2 = 0$$\n\nThis equation is solved using the quadratic formula, $n = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}$, with $a=1$, $b=-N_{\\text{net}}$, and $c=-n_i^2$:\n$$n = \\frac{N_{\\text{net}} \\pm \\sqrt{(-N_{\\text{net}})^2 - 4(1)(-n_i^2)}}{2} = \\frac{N_{\\text{net}} \\pm \\sqrt{N_{\\text{net}}^2 + 4n_i^2}}{2}$$\nSince the electron concentration $n$ must be a positive physical quantity, we must take the positive root, as the negative root would yield a negative value for $n$.\n$$n = \\frac{N_{\\text{net}} + \\sqrt{N_{\\text{net}}^2 + 4n_i^2}}{2}$$\n\nSubstituting the given numerical values: $N_{\\text{net}} = 3.0 \\times 10^{16}\\ \\text{cm}^{-3}$ and $n_i = 2.0 \\times 10^{10}\\ \\text{cm}^{-3}$. We evaluate the terms:\n$N_{\\text{net}}^2 = (3.0 \\times 10^{16})^2 = 9.0 \\times 10^{32}\\ \\text{cm}^{-6}$\n$4n_i^2 = 4 \\times (2.0 \\times 10^{10})^2 = 4 \\times 4.0 \\times 10^{20} = 1.6 \\times 10^{21}\\ \\text{cm}^{-6}$\n\nSince $N_{\\text{net}}^2 \\gg 4n_i^2$ (by more than $11$ orders of magnitude), this signifies a strongly extrinsic semiconductor. The term $4n_i^2$ is negligible in the sum under the square root. Therefore, we can make the highly accurate approximation $n \\approx N_{\\text{net}}$.\nTo be precise:\n$$n = \\frac{3.0 \\times 10^{16} + \\sqrt{9.0 \\times 10^{32} + 1.6 \\times 10^{21}}}{2} \\approx \\frac{3.0 \\times 10^{16} + \\sqrt{9.0 \\times 10^{32}}}{2}$$\n$$n \\approx \\frac{3.0 \\times 10^{16} + 3.0 \\times 10^{16}}{2} = 3.0 \\times 10^{16}\\ \\text{cm}^{-3}$$\nThe majority carrier (electron) concentration is effectively equal to the net donor concentration.\n\nNow, we calculate the minority carrier (hole) concentration $p$ using the law of mass action:\n$$p = \\frac{n_i^2}{n} = \\frac{(2.0 \\times 10^{10}\\ \\text{cm}^{-3})^2}{3.0 \\times 10^{16}\\ \\text{cm}^{-3}} = \\frac{4.0 \\times 10^{20}}{3.0 \\times 10^{16}}\\ \\text{cm}^{-3} = \\frac{4}{3} \\times 10^4\\ \\text{cm}^{-3}$$\n$$p \\approx 1.333 \\times 10^4\\ \\text{cm}^{-3}$$\nAs expected, the minority carrier concentration is extremely low compared to the majority carrier concentration.\n\nThe second step is to calculate the drift conductivity, $\\sigma$, using the formula:\n$$\\sigma = q(n\\mu_n + p\\mu_p)$$\nwhere $q$ is the elementary charge ($q \\approx 1.6021766 \\times 10^{-19}\\ \\text{C}$), and the mobilities are given as $\\mu_n = 50\\ \\text{cm}^2/(\\text{V}\\cdot\\text{s})$ and $\\mu_p = 25\\ \\text{cm}^2/(\\text{V}\\cdot\\text{s})$.\n\nWe calculate the contributions from electrons and holes separately:\nThe electron contribution to conductivity is:\n$$\\sigma_n = qn\\mu_n = (1.6021766 \\times 10^{-19}\\ \\text{C}) \\times (3.0 \\times 10^{16}\\ \\text{cm}^{-3}) \\times (50\\ \\frac{\\text{cm}^2}{\\text{V}\\cdot\\text{s}})$$\n$$\\sigma_n = (1.6021766 \\times 3.0 \\times 50) \\times 10^{-19} \\times 10^{16}\\ \\frac{\\text{S}}{\\text{cm}} = 240.32649 \\times 10^{-3}\\ \\frac{\\text{S}}{\\text{cm}} = 0.24032649\\ \\frac{\\text{S}}{\\text{cm}}$$\n\nThe hole contribution to conductivity is:\n$$\\sigma_p = qp\\mu_p = (1.6021766 \\times 10^{-19}\\ \\text{C}) \\times (\\frac{4}{3} \\times 10^4\\ \\text{cm}^{-3}) \\times (25\\ \\frac{\\text{cm}^2}{\\text{V}\\cdot\\text{s}})$$\n$$\\sigma_p = (1.6021766 \\times \\frac{4}{3} \\times 25) \\times 10^{-19} \\times 10^4\\ \\frac{\\text{S}}{\\text{cm}} \\approx 5.34 \\times 10^{-14}\\ \\frac{\\text{S}}{\\text{cm}}$$\nThe contribution from holes is negligible compared to the contribution from electrons.\n\nThe total conductivity is the sum of the two contributions:\n$$\\sigma = \\sigma_n + \\sigma_p \\approx 0.24032649 + 5.34 \\times 10^{-14} \\approx 0.24032649\\ \\frac{\\text{S}}{\\text{cm}}$$\n\nThe problem requires the final answer to be rounded to four significant figures.\n$$\\sigma \\approx 0.2403\\ \\frac{\\text{S}}{\\text{cm}}$$\nThis theoretical value is in good agreement with the independently measured value of $\\sigma_{\\text{meas}} = 0.235\\ \\text{S}/\\text{cm}$, validating the consistency of the provided parameters within the framework of the physical model.",
            "answer": "$$\\boxed{0.2403}$$"
        },
        {
            "introduction": "Our previous analyses relied on simplifying assumptions, such as non-degenerate statistics and complete dopant ionization. This final practice moves beyond these limits to tackle the charge neutrality problem in its most general and accurate form. For heavily doped (degenerate) semiconductors or at low temperatures, the full Fermi-Dirac statistics must be employed, and the ionization of dopants itself becomes dependent on the Fermi level, $E_F$ . This computational exercise guides you through building a numerical solver to find the unique Fermi level that satisfies the complete charge neutrality equation, a technique at the heart of modern semiconductor device simulation.",
            "id": "4267693",
            "problem": "A fully ionized, nondegenerate approximation for carrier densities in semiconductors fails for degenerately doped materials. Instead, carrier concentrations must be computed with Fermi–Dirac statistics and then enforced through the charge neutrality condition to determine the equilibrium Fermi level. Consider a three-dimensional parabolic-band semiconductor with conduction-band edge energy $E_C$ and valence-band edge energy $E_V$. The Fermi level $E_F$ is unknown. The temperature is $T$, and the bandgap is $E_g$ so that $E_V = E_C - E_g$. Use the following fundamental definitions and relations.\n\n- The electron concentration in the conduction band is\n$$ n = N_C F_{1/2}\\!\\left(\\frac{E_F - E_C}{k_B T}\\right), $$\nwhere $N_C = 2 \\left( \\frac{2 \\pi m_n^\\ast k_B T}{h^2} \\right)^{3/2}$ is the effective density of states for electrons, $m_n^\\ast$ is the electron effective mass, $k_B$ is the Boltzmann constant, $h$ is the Planck constant, and $F_{1/2}(\\eta)$ is the Fermi–Dirac integral of order $1/2$ defined by\n$$ F_{1/2}(\\eta) = \\frac{1}{\\Gamma\\!\\left(\\frac{3}{2}\\right)} \\int_{0}^{\\infty} \\frac{x^{1/2}}{1 + e^{x - \\eta}} \\, dx = \\frac{2}{\\sqrt{\\pi}} \\int_{0}^{\\infty} \\frac{x^{1/2}}{1 + e^{x - \\eta}} \\, dx. $$\n\n- The hole concentration in the valence band is\n$$ p = N_V F_{1/2}\\!\\left(\\frac{E_V - E_F}{k_B T}\\right), $$\nwhere $N_V = 2 \\left( \\frac{2 \\pi m_p^\\ast k_B T}{h^2} \\right)^{3/2}$ is the effective density of states for holes and $m_p^\\ast$ is the hole effective mass.\n\n- The density of ionized donors is\n$$ N_D^+ = \\frac{N_D}{1 + g_D \\exp\\!\\left(\\frac{E_F - E_D}{k_B T}\\right)}, $$\nwhere $N_D$ is the total donor concentration, $E_D$ is the donor energy level (with $E_D  E_C$), and $g_D$ is the donor degeneracy factor.\n\n- The density of ionized acceptors is\n$$ N_A^- = \\frac{N_A}{1 + g_A \\exp\\!\\left(\\frac{E_A - E_F}{k_B T}\\right)}, $$\nwhere $N_A$ is the total acceptor concentration, $E_A$ is the acceptor energy level (with $E_A  E_V$), and $g_A$ is the acceptor degeneracy factor.\n\n- The charge neutrality condition requires\n$$ n + N_A^- = p + N_D^+. $$\n\nAll energies must be referenced to the conduction-band edge so that $E_C = 0$ and $E_V = -E_g$. You must compute $E_F$ that satisfies the neutrality condition for each test case.\n\nPhysical constants to be used are $k_B = 1.380649 \\times 10^{-23} \\,\\text{J/K}$, the Boltzmann constant in joules per kelvin, and $h = 6.62607015 \\times 10^{-34} \\,\\text{J}\\cdot\\text{s}$, the Planck constant. The electron rest mass is $m_0 = 9.1093837015 \\times 10^{-31} \\,\\text{kg}$. For numerical convenience when forming the dimensionless arguments, you may also use $k_B = 8.617333262145 \\times 10^{-5} \\,\\text{eV/K}$.\n\nImplement a program that, for each test case, numerically evaluates the Fermi–Dirac integral of order $1/2$, assembles the charge neutrality residual\n$$ R(E_F) = n(E_F) + N_A^-(E_F) - p(E_F) - N_D^+(E_F), $$\nand finds the root $E_F$ of $R(E_F) = 0$.\n\nExpress the final computed Fermi level for each test case as a float in electronvolts (eV), measured relative to $E_C$ (that is, report $E_F$ with $E_C = 0$). Round each result to six decimal places.\n\nAll number densities $N_D$, $N_A$, $N_C$, and $N_V$ must be used internally in units of $\\text{m}^{-3}$. The provided doping concentrations are given in $\\text{cm}^{-3}$ and must be converted to $\\text{m}^{-3}$ by multiplication with $10^6$.\n\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets (e.g., \"[result1,result2,result3]\").\n\nTest Suite:\nUse the following five test cases, covering degenerate $n$-type, degenerate $p$-type, compensated doping, low-temperature partial ionization, and intrinsic-like conditions. Each test case is a tuple\n$$ (T, E_g, m_n^\\ast/m_0, m_p^\\ast/m_0, N_D \\, [\\text{cm}^{-3}], N_A \\, [\\text{cm}^{-3}], E_d, E_a, g_D, g_A), $$\nwhere $E_d$ is the donor depth such that $E_D = E_C - E_d$, and $E_a$ is the acceptor depth such that $E_A = E_V + E_a. $\n\n- Case 1 (degenerate $n$-type): $(300.0, 1.12, 1.08, 0.81, 5\\times 10^{20}, 0.0, 0.03, 0.05, 2.0, 4.0)$.\n- Case 2 (degenerate $p$-type): $(300.0, 1.42, 0.067, 0.50, 0.0, 1\\times 10^{20}, 0.03, 0.05, 2.0, 4.0)$.\n- Case 3 (compensated moderate doping): $(300.0, 1.12, 1.08, 0.81, 1\\times 10^{19}, 9\\times 10^{18}, 0.04, 0.045, 2.0, 4.0)$.\n- Case 4 (low temperature, partial ionization $n$-type): $(50.0, 1.12, 1.08, 0.81, 5\\times 10^{17}, 0.0, 0.05, 0.05, 2.0, 4.0)$.\n- Case 5 (intrinsic-like, symmetric masses): $(300.0, 1.00, 0.50, 0.50, 0.0, 0.0, 0.05, 0.05, 2.0, 4.0)$.\n\nYour program must compute $E_F$ for each case and print a single line containing the list of five results in eV rounded to six decimals, with the energy reference $E_C = 0$.",
            "solution": "The problem requires the determination of the equilibrium Fermi level, $E_F$, in a semiconductor under various doping and temperature conditions. This is achieved by numerically solving the charge neutrality equation. The solution must account for Fermi-Dirac statistics, which is necessary for the degenerate doping concentrations and low temperatures specified in the test cases.\n\nThe fundamental principle governing the equilibrium carrier and ionized dopant concentrations is the charge neutrality condition. In a semiconductor with electrons (charge $-q$), holes (charge $+q$), ionized donors (charge $+q$), and ionized acceptors (charge $-q$), the total negative charge density must balance the total positive charge density. This is expressed by the equation:\n$$ n + N_A^- = p + N_D^+ $$\nwhere $n$ is the electron concentration in the conduction band, $p$ is the hole concentration in the valence band, $N_D^+$ is the density of ionized donor atoms, and $N_A^-$ is the density of ionized acceptor atoms.\n\nTo solve for the Fermi level $E_F$, we express each term in the neutrality equation as a function of $E_F$ and rearrange it into a root-finding problem for a residual function $R(E_F)$:\n$$ R(E_F) = n(E_F) + N_A^-(E_F) - p(E_F) - N_D^+(E_F) = 0 $$\nThe function $R(E_F)$ is strictly monotonic with respect to $E_F$, as $n(E_F)$ and $N_A^-(E_F)$ are monotonically increasing functions of $E_F$, while $p(E_F)$ and $N_D^+(E_F)$ are monotonically decreasing. This property guarantees the existence of a unique root for $E_F$.\n\nThe individual components of $R(E_F)$ are defined as follows, using the energy reference $E_C = 0$:\n\n1.  **Electron Concentration ($n$)**: For a parabolic conduction band, the electron concentration is given by\n    $$ n(E_F) = N_C F_{1/2}\\!\\left(\\frac{E_F - E_C}{k_B T}\\right) = N_C F_{1/2}\\!\\left(\\frac{E_F}{k_B T}\\right) $$\n    where $k_B$ is the Boltzmann constant, $T$ is the absolute temperature, and $N_C$ is the effective density of states in the conduction band:\n    $$ N_C = 2 \\left( \\frac{2 \\pi m_n^\\ast k_B T}{h^2} \\right)^{3/2} $$\n    Here, $m_n^\\ast$ is the electron effective mass and $h$ is the Planck constant.\n\n2.  **Hole Concentration ($p$)**: Similarly, for a parabolic valence band with edge energy $E_V = E_C - E_g = -E_g$, the hole concentration is\n    $$ p(E_F) = N_V F_{1/2}\\!\\left(\\frac{E_V - E_F}{k_B T}\\right) = N_V F_{1/2}\\!\\left(\\frac{-E_g - E_F}{k_B T}\\right) $$\n    where $N_V$ is the effective density of states in the valence band:\n    $$ N_V = 2 \\left( \\frac{2 \\pi m_p^\\ast k_B T}{h^2} \\right)^{3/2} $$\n    with $m_p^\\ast$ being the hole effective mass.\n\n3.  **Fermi-Dirac Integral ($F_{1/2}$)**: The function $F_{1/2}(\\eta)$ is the Fermi-Dirac integral of order $1/2$. It must be evaluated numerically:\n    $$ F_{1/2}(\\eta) = \\frac{2}{\\sqrt{\\pi}} \\int_{0}^{\\infty} \\frac{x^{1/2}}{1 + e^{x - \\eta}} \\, dx $$\n    This integral will be computed using a numerical quadrature method, such as the one provided by `scipy.integrate.quad`.\n\n4.  **Ionized Dopant Concentrations ($N_D^+, N_A^-$)**: The concentrations of ionized donors and acceptors also depend on $E_F$ through Fermi-Dirac statistics.\n    - The donor energy level is $E_D = E_C - E_d = -E_d$. The concentration of ionized (empty) donors is:\n    $$ N_D^+(E_F) = \\frac{N_D}{1 + g_D \\exp\\!\\left(\\frac{E_F - E_D}{k_B T}\\right)} = \\frac{N_D}{1 + g_D \\exp\\!\\left(\\frac{E_F + E_d}{k_B T}\\right)}$$\n    where $N_D$ is the total donor concentration and $g_D$ is the donor degeneracy factor.\n    - The acceptor energy level is $E_A = E_V + E_a = -E_g + E_a$. The concentration of ionized (occupied by an electron) acceptors is:\n    $$ N_A^-(E_F) = \\frac{N_A}{1 + g_A \\exp\\!\\left(\\frac{E_A - E_F}{k_B T}\\right)} = \\frac{N_A}{1 + g_A \\exp\\!\\left(\\frac{-E_g + E_a - E_F}{k_B T}\\right)} $$\n    where $N_A$ is the total acceptor concentration and $g_A$ is the acceptor degeneracy factor.\n\nThe numerical procedure for each test case is as follows:\n1.  Set the physical constants, and for each case, unpack the parameters: $T, E_g, m_n^\\ast/m_0, m_p^\\ast/m_0, N_D, N_A, E_d, E_a, g_D, g_A$.\n2.  Convert doping concentrations $N_D$ and $N_A$ from units of $\\text{cm}^{-3}$ to $\\text{m}^{-3}$ by multiplying by $10^6$.\n3.  Calculate the temperature-dependent effective densities of states, $N_C$ and $N_V$, using SI units for intermediate calculations ($k_B$ in $\\text{J/K}$, $h$ in $\\text{J}\\cdot\\text{s}$, masses in $\\text{kg}$).\n4.  Define the residual function $R(E_F)$, where $E_F$ is in electronvolts (eV). This function will internally calculate $n, p, N_D^+, N_A^-$ for a given $E_F$. For dimensionless energy arguments like $(E_F - E_D)/(k_B T)$, it is convenient to use energies in eV and the value of $k_B$ in $\\text{eV/K}$.\n5.  Use a numerical root-finding algorithm, specifically a bracketing method like Brent's method (`scipy.optimize.brentq`), to find the value of $E_F$ that solves $R(E_F) = 0$. A sufficiently wide search interval, for example, from $E_V - 2$ eV to $E_C + 2$ eV, ensures that the root is captured.\n6.  The resulting $E_F$ is the equilibrium Fermi level. Round the result to six decimal places as required.\n7.  Repeat this process for all test cases and format the final output as a comma-separated list of values.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy.integrate import quad\nfrom scipy.optimize import brentq\n\ndef solve():\n    \"\"\"\n    Solves for the Fermi level in a semiconductor by enforcing the charge neutrality condition.\n    \"\"\"\n    \n    # Physical Constants\n    k_B_J_K = 1.380649e-23        # Boltzmann constant in J/K\n    k_B_eV_K = 8.617333262145e-5  # Boltzmann constant in eV/K\n    h_Js = 6.62607015e-34         # Planck constant in J.s\n    m0_kg = 9.1093837015e-31      # Electron rest mass in kg\n\n    def fermi_dirac_half(eta):\n        \"\"\"\n        Numerically computes the Fermi-Dirac integral of order 1/2.\n        F_{1/2}(eta) = (2/sqrt(pi)) * integral from 0 to inf of [x^(1/2) / (1 + exp(x - eta))] dx.\n        \n        Args:\n            eta: The dimensionless argument of the integral.\n\n        Returns:\n            The value of the Fermi-Dirac integral.\n        \"\"\"\n        # For large negative eta, use the Boltzmann approximation to avoid numerical overflow.\n        if eta  -30:\n            return np.exp(eta)\n\n        # The integrand function.\n        # A conditional expression is used to maintain numerical stability for large (x - eta).\n        integrand = lambda x: np.sqrt(x) * np.exp(-(x - eta)) if (x - eta)  30 else np.sqrt(x) / (1.0 + np.exp(x - eta))\n        \n        integral_val, _ = quad(integrand, 0, np.inf)\n        return (2.0 / np.sqrt(np.pi)) * integral_val\n\n    # Test cases: (T, Eg, mn*/m0, mp*/m0, ND [cm^-3], NA [cm^-3], Ed, Ea, gD, gA)\n    test_cases = [\n        # Case 1 (degenerate n-type)\n        (300.0, 1.12, 1.08, 0.81, 5e20, 0.0, 0.03, 0.05, 2.0, 4.0),\n        # Case 2 (degenerate p-type)\n        (300.0, 1.42, 0.067, 0.50, 0.0, 1e20, 0.03, 0.05, 2.0, 4.0),\n        # Case 3 (compensated moderate doping)\n        (300.0, 1.12, 1.08, 0.81, 1e19, 9e18, 0.04, 0.045, 2.0, 4.0),\n        # Case 4 (low temperature, partial ionization n-type)\n        (50.0, 1.12, 1.08, 0.81, 5e17, 0.0, 0.05, 0.05, 2.0, 4.0),\n        # Case 5 (intrinsic-like, symmetric masses)\n        (300.0, 1.00, 0.50, 0.50, 0.0, 0.0, 0.05, 0.05, 2.0, 4.0),\n    ]\n\n    results = []\n    \n    for case in test_cases:\n        T, Eg, mn_ratio, mp_ratio, ND_cm, NA_cm, Ed, Ea, gD, gA = case\n\n        # Convert units and calculate effective masses\n        ND = ND_cm * 1e6  # cm^-3 to m^-3\n        NA = NA_cm * 1e6  # cm^-3 to m^-3\n        mn_star = mn_ratio * m0_kg\n        mp_star = mp_ratio * m0_kg\n        \n        # Thermal energies\n        kBT_J = k_B_J_K * T\n        kBT_eV = k_B_eV_K * T\n\n        # Effective densities of states\n        common_factor = 2 * (2 * np.pi * kBT_J / h_Js**2)**1.5\n        NC = common_factor * mn_star**1.5\n        NV = common_factor * mp_star**1.5\n\n        def charge_neutrality_residual(EF):\n            \"\"\"\n            Calculates the residual of the charge neutrality equation: n + NA- - p - ND+\n            \n            Args:\n                EF: Fermi level in eV, referenced to the conduction band edge (EC=0).\n                \n            Returns:\n                The residual value.\n            \"\"\"\n            # Carrier concentrations\n            eta_n = EF / kBT_eV\n            n = NC * fermi_dirac_half(eta_n)\n            \n            eta_p = (-Eg - EF) / kBT_eV\n            p = NV * fermi_dirac_half(eta_p)\n\n            # Ionized dopant concentrations\n            # Donor level ED = EC - Ed = -Ed\n            # Acceptor level EA = EV + Ea = -Eg + Ea\n            ED = -Ed\n            EA = -Eg + Ea\n            \n            # Using np.exp arguments: (EF - ED)/kBT_eV = (EF + Ed)/kBT_eV\n            # and (EA - EF)/kBT_eV = (-Eg + Ea - EF)/kBT_eV\n            exp_D = np.exp((EF - ED) / kBT_eV)\n            ND_plus = ND / (1.0 + gD * exp_D)\n            \n            exp_A = np.exp((EA - EF) / kBT_eV)\n            NA_minus = NA / (1.0 + gA * exp_A)\n\n            return n + NA_minus - p - ND_plus\n\n        # Find the root of the residual function to get EF.\n        # A wide bracket ensures robustness for all cases.\n        bracket_low = -Eg - 2.0  # 2 eV below valence band\n        bracket_high = 2.0       # 2 eV above conduction band\n        \n        try:\n            EF_solution = brentq(charge_neutrality_residual, bracket_low, bracket_high)\n            results.append(round(EF_solution, 6))\n        except ValueError:\n            # Fallback for if the root isn't in the bracket, though unlikely with this wide range.\n            results.append(float('nan'))\n\n    # Format and print the final results\n    # Using 'f-string' with format specifier to ensure 6 decimal places even for trailing zeros.\n    formatted_results = [f\"{res:.6f}\" for res in results]\n    print(f\"[{','.join(formatted_results)}]\")\n\nsolve()\n```"
        }
    ]
}