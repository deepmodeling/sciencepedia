{
    "hands_on_practices": [
        {
            "introduction": "实践的第一步是掌握热平衡状态下半导体的基本分析。本练习将引导你分析一个补偿掺杂的宽禁带半导体，通过应用电中性条件和质量作用定律，计算出载流子浓度。这个过程不仅能巩固你对掺杂补偿如何影响净载流子浓度的理解，还将电子浓度与费米能级 $E_{F}$ 的位置联系起来，这是半导体物理学中的一个核心关系 。",
            "id": "4267698",
            "problem": "研究一块处于温度 $T = 300\\,\\mathrm{K}$ 热平衡状态下的纤锌矿氮化镓体材料。该材料被均匀地掺杂了浅施主和浅受主，其浓度分别为 $N_{D} = 1.10 \\times 10^{16}\\,\\mathrm{cm}^{-3}$ 和 $N_{A} = 1.00 \\times 10^{16}\\,\\mathrm{cm}^{-3}$。假设在 $T = 300\\,\\mathrm{K}$ 时所有掺杂剂都完全电离，半导体在空间上是均匀的，并且非简并统计成立。本征载流子浓度为 $n_{i} = 2.0 \\times 10^{-10}\\,\\mathrm{cm}^{-3}$。\n\n仅使用热平衡状态下的电中性条件和质量作用定律，确定平衡电子浓度 $n$ 和空穴浓度 $p$。然后，基于非简并极限下载流子统计的第一性原理，将费米能级位置 $E_{F}$ 与本征能级 $E_{i}$ 联系起来，并计算 $E_{F} - E_{i}$ 的数值。\n\n将您的最终数值答案四舍五入到四位有效数字，并以 $\\mathrm{eV}$ 为单位表示。最终报告的答案必须是 $E_{F} - E_{i}$ 的单个值，单位为 $\\mathrm{eV}$。",
            "solution": "该问题要求确定在 $T = 300\\,\\mathrm{K}$ 下，纤锌矿氮化镓样品中的平衡电子 ($n$) 和空穴 ($p$) 浓度，以及费米能级 ($E_F$) 相对于本征能级 ($E_i$) 的位置。该材料同时掺杂了施主 ($N_D$) 和受主 ($N_A$)，这种情况被称为补偿掺杂。\n\n首先，我们必须验证问题陈述。\n### 步骤1：提取已知条件\n- 材料：纤锌矿氮化镓 (GaN)\n- 温度：$T = 300\\,\\mathrm{K}$\n- 施主浓度：$N_{D} = 1.10 \\times 10^{16}\\,\\mathrm{cm}^{-3}$\n- 受主浓度：$N_{A} = 1.00 \\times 10^{16}\\,\\mathrm{cm}^{-3}$\n- 本征载流子浓度：$n_{i} = 2.0 \\times 10^{-10}\\,\\mathrm{cm}^{-3}$\n- 假设：\n    1. 热平衡。\n    2. 所有掺杂剂完全电离。\n    3. 半导体在空间上均匀。\n    4. 非简并统计成立。\n\n### 步骤2：使用提取的已知条件进行验证\n该问题在科学上基于半导体物理学的原理。它描述了一个在室温下的补偿半导体的标准情景。给定的掺杂浓度值是典型的，而极低的本征载流子浓度是像 GaN ($E_g \\approx 3.4\\,\\mathrm{eV}$) 这样的宽带隙半导体的特征。该问题是自包含的，提供了确定唯一解所需的所有必要信息和假设（完全电离、热平衡、非简并性）。语言是客观和定量的。没有科学缺陷、矛盾或歧义。\n\n### 步骤3：结论与行动\n该问题被判定为 **有效**。将提供完整解答。\n\n### 解题推导\n\n解答基于热平衡下半导体物理的两个基本原理：电中性条件和质量作用定律。\n\n1.  **电中性条件**：在热平衡状态下的半导体任何区域内，总正电荷密度必须等于总负电荷密度。带电粒子包括电子（浓度为 $n$，电荷为 $-e$）、空穴（浓度为 $p$，电荷为 $+e$）、电离施主（浓度为 $N_D^+$，电荷为 $+e$）和电离受主（浓度为 $N_A^-$，电荷为 $-e$）。条件为：\n    $$p + N_D^+ = n + N_A^-$$\n    问题指出所有掺杂剂都完全电离，这意味着每个施主原子都提供了一个电子，每个受主原子都接受了一个电子。因此，$N_D^+ = N_D$ 且 $N_A^- = N_A$。电中性方程变为：\n    $$p + N_D = n + N_A$$\n    这可以重新排列，以净掺杂浓度表示电子和空穴浓度之差：\n    $$n - p = N_D - N_A$$\n\n2.  **质量作用定律**：对于处于热平衡状态的半导体，电子和空穴浓度的乘积是一个常数，该常数取决于材料和温度，但与掺杂无关。这个常数是本征载流子浓度 $n_i$ 的平方。\n    $$np = n_i^2$$\n\n现在我们有一个包含两个未知数 $n$ 和 $p$ 的方程组。我们可以求解这个方程组。\n从电中性关系中，我们得到 $p = n - (N_D - N_A)$。将其代入质量作用定律得到：\n$$n \\left( n - (N_D - N_A) \\right) = n_i^2$$\n这可以重新整理为关于电子浓度 $n$ 的二次方程：\n$$n^2 - (N_D - N_A)n - n_i^2 = 0$$\n使用二次方程求根公式 $n = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}$，其中 $a=1$，$b = -(N_D - N_A)$，$c = -n_i^2$，我们可以求出 $n$ 的解。由于 $n$ 必须是正的浓度，我们取正根：\n$$n = \\frac{N_D - N_A + \\sqrt{(N_D - N_A)^2 + 4n_i^2}}{2}$$\n\n让我们代入给定的数值：\n$N_D = 1.10 \\times 10^{16}\\,\\mathrm{cm}^{-3}$\n$N_A = 1.00 \\times 10^{16}\\,\\mathrm{cm}^{-3}$\n$n_i = 2.0 \\times 10^{-10}\\,\\mathrm{cm}^{-3}$\n\n净有效掺杂浓度为：\n$$N_D - N_A = (1.10 - 1.00) \\times 10^{16}\\,\\mathrm{cm}^{-3} = 0.10 \\times 10^{16}\\,\\mathrm{cm}^{-3} = 1.0 \\times 10^{15}\\,\\mathrm{cm}^{-3}$$\n由于 $N_D > N_A$，该材料是 n 型半导体，电子是多数载流子。\n\n现在，我们计算 $n$ 解中的各项：\n$(N_D - N_A)^2 = (1.0 \\times 10^{15}\\,\\mathrm{cm}^{-3})^2 = 1.0 \\times 10^{30}\\,\\mathrm{cm}^{-6}$\n$4n_i^2 = 4 \\times (2.0 \\times 10^{-10}\\,\\mathrm{cm}^{-3})^2 = 4 \\times (4.0 \\times 10^{-20}\\,\\mathrm{cm}^{-6}) = 1.6 \\times 10^{-19}\\,\\mathrm{cm}^{-6}$\n\n显然，$(N_D - N_A)^2 \\gg 4n_i^2$。这允许我们进行一个非常精确的近似：\n$$n \\approx \\frac{N_D - N_A + \\sqrt{(N_D - N_A)^2}}{2} = \\frac{N_D - N_A + (N_D - N_A)}{2} = N_D - N_A$$\n因此，平衡电子浓度为：\n$$n \\approx 1.0 \\times 10^{15}\\,\\mathrm{cm}^{-3}$$\n为了精确，我们注意到问题要求最终答案保留四位有效数字，因此我们在计算中将输入值视为精确值。由于数量级上的巨大差异，$n_i^2$ 的贡献可以忽略不计，我们可以自信地断定 $n = N_D - N_A = 1.00 \\times 10^{15}\\,\\mathrm{cm}^{-3}$ (使用减法 $1.10-1.00=0.10$ 得出的三位有效数字，可以写成 $1.00 \\times 10^{15}$)。\n然后根据质量作用定律求出平衡空穴浓度：\n$$p = \\frac{n_i^2}{n} = \\frac{(2.0 \\times 10^{-10}\\,\\mathrm{cm}^{-3})^2}{1.0 \\times 10^{15}\\,\\mathrm{cm}^{-3}} = \\frac{4.0 \\times 10^{-20}\\,\\mathrm{cm}^{-6}}{1.0 \\times 10^{15}\\,\\mathrm{cm}^{-3}} = 4.0 \\times 10^{-35}\\,\\mathrm{cm}^{-3}$$\n\n接下来，我们将费米能级 $E_F$ 与本征能级 $E_i$ 联系起来。对于非简并半导体，电子浓度 $n$ 由下式给出：\n$$n = n_i \\exp\\left(\\frac{E_F - E_i}{k_B T}\\right)$$\n其中 $k_B$ 是玻尔兹曼常数。我们可以解这个方程得到能量差 $E_F - E_i$：\n$$\\frac{n}{n_i} = \\exp\\left(\\frac{E_F - E_i}{k_B T}\\right)$$\n对两边取自然对数：\n$$\\ln\\left(\\frac{n}{n_i}\\right) = \\frac{E_F - E_i}{k_B T}$$\n$$E_F - E_i = k_B T \\ln\\left(\\frac{n}{n_i}\\right)$$\n这就是所要求的关系式。由于 $n > n_i$，对数的参数大于 $1$，其对数值为正，因此 $E_F > E_i$，这与 n 型半导体的情况一致。\n\n现在我们计算数值。在 $T = 300\\,\\mathrm{K}$ 时，热能为：\n$$k_B T \\approx (8.617333 \\times 10^{-5}\\,\\mathrm{eV/K}) \\times (300\\,\\mathrm{K}) \\approx 0.025852\\,\\mathrm{eV}$$\n电子浓度与本征浓度的比值为：\n$$\\frac{n}{n_i} = \\frac{1.00 \\times 10^{15}\\,\\mathrm{cm}^{-3}}{2.0 \\times 10^{-10}\\,\\mathrm{cm}^{-3}} = 5.0 \\times 10^{24}$$\n将这些值代入 $E_F - E_i$ 的表达式中：\n$$E_F - E_i = (0.025852\\,\\mathrm{eV}) \\times \\ln(5.0 \\times 10^{24})$$\n$$E_F - E_i \\approx (0.025852\\,\\mathrm{eV}) \\times (56.871478)$$\n$$E_F - E_i \\approx 1.4704337\\,\\mathrm{eV}$$\n按要求将最终答案四舍五入到四位有效数字：\n$$E_F - E_i = 1.470\\,\\mathrm{eV}$$\n这个大的正值表明费米能级位于带隙中较高的位置，靠近导带边缘，这对于宽带隙 n 型半导体是符合预期的。非简并条件 $E_C - E_F \\gg k_B T$ 是满足的，因为 $E_C - E_i \\approx E_g/2 \\approx 1.7\\,\\mathrm{eV}$，这意味着 $E_C - E_F \\approx 1.7\\,\\mathrm{eV} - 1.470\\,\\mathrm{eV} = 0.23\\,\\mathrm{eV}$，而 $0.23\\,\\mathrm{eV}$ 大约是 $9 \\times k_B T$。",
            "answer": "$$\\boxed{1.470}$$"
        },
        {
            "introduction": "在掌握了平衡态之后，下一个关键是分析非平衡稳态下的半导体，这是所有有源器件工作的物理基础。本练习模拟了光照条件下的半导体，要求你将电中性原理应用于存在超额载流子的情况 。通过这个实践，你将学会使用准费米能级 $E_{Fn}$ 和 $E_{Fp}$ 的概念来描述非平衡系统，并计算它们的能量差，这对于理解发光二极管和太阳能电池等器件的工作原理至关重要。",
            "id": "4267733",
            "problem": "一个均匀掺杂、非简并的单晶p型半导体，在温度 $T=300\\,\\mathrm{K}$ 时，其受主密度为 $N_{A}=1.0\\times 10^{16}\\,\\mathrm{cm}^{-3}$，没有施主，且所有受主都完全电离。本征载流子浓度为 $n_{i}=1.0\\times 10^{10}\\,\\mathrm{cm}^{-3}$。在稳态均匀光激发下，过剩载流子浓度为 $\\Delta=5.0\\times 10^{16}\\,\\mathrm{cm}^{-3}$，因此过剩电子和空穴在各处都满足 $\\delta n=\\delta p=\\Delta$。忽略带隙变窄以及除电离受主外的任何带电缺陷。您可以假设非简并麦克斯韦-玻尔兹曼统计，以及电子和空穴的准费米能级 $E_{Fn}$ 和 $E_{Fp}$ 在空间上是均匀的。\n\n仅从电中性、稳态连续性的基本定义，以及用准费米能级表示的载流子布居的统计表达式出发，按以下步骤进行：\n- 使用电中性条件，将稳态电子和空穴浓度 $n$ 和 $p$ 与 $N_{A}$ 和 $\\Delta$ 联系起来。\n- 使用以准费米能级和本征载流子浓度 $n_{i}$ 表示的 $n$ 和 $p$ 的定义，推导出准费米能级分裂 $\\Delta E_{F}\\equiv E_{Fn}-E_{Fp}$ 关于 $n$、$p$、$n_{i}$ 和 $T$ 的表达式。\n- 对给定参数，数值计算 $\\Delta E_{F}$。在数值计算中，您可以使用在 $T=300\\,\\mathrm{K}$ 时 $k_{B}T=0.025852\\,\\mathrm{eV}$，其中 $k_{B}$ 是玻尔兹曼常数。\n\n仅报告以电子伏特为单位的准费米能级分裂 $\\Delta E_{F}$。将您的答案四舍五入到四位有效数字。最终能量以 $\\mathrm{eV}$ 表示。",
            "solution": "对问题的分析始于对所提供陈述的验证。\n\n**步骤1：提取已知条件**\n- 半导体类型：均匀掺杂、非简并、单晶p型。\n- 温度：$T=300\\,\\mathrm{K}$。\n- 受主密度：$N_{A}=1.0\\times 10^{16}\\,\\mathrm{cm}^{-3}$。\n- 施主存在情况：无施主 ($N_{D}=0$)。\n- 电离情况：所有受主完全电离 ($N_{A}^{-}=N_{A}$)。\n- 本征载流子浓度：$n_{i}=1.0\\times 10^{10}\\,\\mathrm{cm}^{-3}$。\n- 激发：稳态均匀光激发。\n- 过剩载流子浓度：$\\Delta=5.0\\times 10^{16}\\,\\mathrm{cm}^{-3}$。\n- 过剩载流子关系：$\\delta n=\\delta p=\\Delta$。\n- 假设：\n    - 忽略带隙变窄。\n    - 忽略其他带电缺陷。\n    - 非简并麦克斯韦-玻尔兹曼统计。\n    - 空间均匀的准费米能级，$E_{Fn}$ 和 $E_{Fp}$。\n- 定义：准费米能级分裂 $\\Delta E_{F}\\equiv E_{Fn}-E_{Fp}$。\n- 常数：在 $T=300\\,\\mathrm{K}$ 时，$k_{B}T=0.025852\\,\\mathrm{eV}$，其中 $k_{B}$ 是玻尔兹曼常数。\n\n**步骤2：使用提取的已知条件进行验证**\n该问题科学上基于已建立的半导体物理学，描述了p型半导体在光照下的行为，这是一个标准情景。电中性、载流子统计和准费米能级的概念是基本原理。所提供的掺杂浓度 ($N_A$)、本征载流子浓度 ($n_i$) 和过剩载流子浓度 ($\\Delta$) 的数值对于高注入条件下的硅基器件是符合实际的。该问题提法恰当，因为它提供了所有必要的信息和一个明确的目标。语言客观且明确。该问题没有违反任何无效标准。\n\n**步骤3：结论与行动**\n该问题有效。将提供完整解答。\n\n**解题推导**\n\n解答过程首先使用电中性条件确定稳态电子和空穴浓度。然后，从载流子浓度的统计定义推导出准费米能级分裂的表达式。最后，计算其数值。\n\n**1. 稳态载流子浓度**\n半导体中的电中性条件要求总正电荷密度等于总负电荷密度。其一般表达式为：\n$$p + N_{D}^{+} = n + N_{A}^{-}$$\n其中 $p$ 是空穴浓度，$n$ 是电子浓度，$N_{D}^{+}$ 是电离施主浓度，$N_{A}^{-}$ 是电离受主浓度。\n\n根据题目陈述，没有施主（$N_{D}=0$，因此 $N_{D}^{+}=0$），并且所有受主都完全电离（$N_{A}^{-} = N_{A}$）。电中性条件简化为：\n$$p = n + N_{A}$$\n\n在稳态光激发下，总载流子浓度是其平衡值（$n_0$, $p_0$）和过剩浓度（$\\delta n$, $\\delta p$）之和：\n$$n = n_0 + \\delta n$$\n$$p = p_0 + \\delta p$$\n题目指出，过剩电子和空穴浓度相等，即 $\\delta n = \\delta p = \\Delta$。因此：\n$$n = n_0 + \\Delta$$\n$$p = p_0 + \\Delta$$\n\n首先，我们确定平衡浓度 $n_0$ 和 $p_0$。在热平衡状态下，电中性成立（$p_0 = n_0 + N_A$），并且质量作用定律适用（$n_0 p_0 = n_i^2$）。将 $n_0 = n_i^2/p_0$ 代入平衡电中性方程，得到一个关于 $p_0$ 的二次方程：\n$$p_0 = \\frac{n_i^2}{p_0} + N_A \\implies p_0^2 - N_A p_0 - n_i^2 = 0$$\n$p_0$ 的物理上有意义的解是：\n$$p_0 = \\frac{N_A + \\sqrt{N_A^2 + 4n_i^2}}{2}$$\n给定 $N_A = 1.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}$ 和 $n_i = 1.0 \\times 10^{10}\\,\\mathrm{cm}^{-3}$，我们有 $N_A \\gg n_i$。因此，我们可以近似为 $p_0 \\approx N_A = 1.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}$。\n平衡电子浓度为 $n_0 = n_i^2/p_0 \\approx (1.0 \\times 10^{10})^2 / (1.0 \\times 10^{16}) = 1.0 \\times 10^4\\,\\mathrm{cm}^{-3}$。\n\n现在，我们可以利用 $\\Delta = 5.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}$ 来计算光照下的稳态浓度 $n$ 和 $p$：\n$$n = n_0 + \\Delta \\approx (1.0 \\times 10^4) + (5.0 \\times 10^{16}) \\approx 5.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}$$\n$$p = p_0 + \\Delta \\approx (1.0 \\times 10^{16}) + (5.0 \\times 10^{16}) = 6.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}$$\n这些值与稳态电中性条件相符：$p = n + N_A \\implies 6.0 \\times 10^{16} = 5.0 \\times 10^{16} + 1.0 \\times 10^{16}$，该等式成立。条件 $\\Delta > N_A$ 表明该半导体工作在高注入区。\n\n**2. 准费米能级分裂**\n对于非简并半导体，电子和空穴浓度可以用准费米能级 $E_{Fn}$ 和 $E_{Fp}$ 以及本征费米能级 $E_i$ 来表示：\n$$n = n_i \\exp\\left(\\frac{E_{Fn} - E_i}{k_B T}\\right)$$\n$$p = n_i \\exp\\left(\\frac{E_i - E_{Fp}}{k_B T}\\right)$$\n\n根据这些定义，我们可以将准费米能级表示为：\n$$E_{Fn} = E_i + k_B T \\ln\\left(\\frac{n}{n_i}\\right)$$\n$$E_{Fp} = E_i - k_B T \\ln\\left(\\frac{p}{n_i}\\right)$$\n\n准费米能级分裂 $\\Delta E_F = E_{Fn} - E_{Fp}$ 可通过将两个表达式相减得到：\n$$\\Delta E_F = \\left[E_i + k_B T \\ln\\left(\\frac{n}{n_i}\\right)\\right] - \\left[E_i - k_B T \\ln\\left(\\frac{p}{n_i}\\right)\\right]$$\n$$\\Delta E_F = k_B T \\ln\\left(\\frac{n}{n_i}\\right) + k_B T \\ln\\left(\\frac{p}{n_i}\\right)$$\n利用对数的性质 $\\ln(a) + \\ln(b) = \\ln(ab)$，我们合并这些项：\n$$\\Delta E_F = k_B T \\ln\\left(\\frac{n \\cdot p}{n_i^2}\\right)$$\n这个表达式将准费米能级分裂与稳态载流子浓度和本征载流子浓度联系起来。\n\n**3. 数值计算**\n现在我们将数值代入推导出的 $\\Delta E_F$ 表达式中。\n- $n = 5.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}$\n- $p = 6.0 \\times 10^{16}\\,\\mathrm{cm}^{-3}$\n- $n_i = 1.0 \\times 10^{10}\\,\\mathrm{cm}^{-3}$\n- $k_B T = 0.025852\\,\\mathrm{eV}$\n\n首先，计算乘积 $np$：\n$$np = (5.0 \\times 10^{16}) \\times (6.0 \\times 10^{16}) = 30.0 \\times 10^{32} = 3.0 \\times 10^{33}\\,\\mathrm{cm}^{-6}$$\n接下来，计算 $n_i^2$：\n$$n_i^2 = (1.0 \\times 10^{10})^2 = 1.0 \\times 10^{20}\\,\\mathrm{cm}^{-6}$$\n对数内的比值为：\n$$\\frac{np}{n_i^2} = \\frac{3.0 \\times 10^{33}}{1.0 \\times 10^{20}} = 3.0 \\times 10^{13}$$\n现在，计算准费米能级分裂：\n$$\\Delta E_F = (0.025852\\,\\mathrm{eV}) \\times \\ln(3.0 \\times 10^{13})$$\n$$\\Delta E_F \\approx (0.025852\\,\\mathrm{eV}) \\times (31.032215)$$\n$$\\Delta E_F \\approx 0.802246\\,\\mathrm{eV}$$\n按要求将结果四舍五入到四位有效数字，得到：\n$$\\Delta E_F = 0.8022\\,\\mathrm{eV}$$",
            "answer": "$$\\boxed{0.8022}$$"
        },
        {
            "introduction": "虽然解析近似在教学中很有效，但它们在许多前沿材料和器件场景中会失效，例如简并掺杂或低温环境。这项计算实践将带你超越这些简化，要求你使用更精确的费米-狄拉克统计来描述载流子，并考虑掺杂剂的不完全电离效应 。通过编写程序来数值求解完整的电中性方程，你将掌握分析和设计真实半导体器件所需的关键高级技能。",
            "id": "4267693",
            "problem": "对于简并掺杂的半导体材料，用于计算载流子密度的完全电离、非简并近似方法会失效。相反，必须使用费米-狄拉克统计来计算载流子浓度，然后通过电中性条件来确定平衡费米能级。考虑一个三维抛物线能带半导体，其导带边能量为$E_C$，价带边能量为$E_V$。费米能级$E_F$未知。温度为$T$，带隙为$E_g$，因此$E_V = E_C - E_g$。使用以下基本定义和关系。\n\n- 导带中的电子浓度为\n$$ n = N_C F_{1/2}\\!\\left(\\frac{E_F - E_C}{k_B T}\\right), $$\n其中 $N_C = 2 \\left( \\frac{2 \\pi m_n^\\ast k_B T}{h^2} \\right)^{3/2}$ 是电子的有效态密度，$m_n^\\ast$ 是电子有效质量，$k_B$ 是玻尔兹曼常数，$h$ 是普朗克常数，$F_{1/2}(\\eta)$ 是1/2阶费米-狄拉克积分，定义为\n$$ F_{1/2}(\\eta) = \\frac{1}{\\Gamma\\!\\left(\\frac{3}{2}\\right)} \\int_{0}^{\\infty} \\frac{x^{1/2}}{1 + e^{x - \\eta}} \\, dx = \\frac{2}{\\sqrt{\\pi}} \\int_{0}^{\\infty} \\frac{x^{1/2}}{1 + e^{x - \\eta}} \\, dx. $$\n\n- 价带中的空穴浓度为\n$$ p = N_V F_{1/2}\\!\\left(\\frac{E_V - E_F}{k_B T}\\right), $$\n其中 $N_V = 2 \\left( \\frac{2 \\pi m_p^\\ast k_B T}{h^2} \\right)^{3/2}$ 是空穴的有效态密度，$m_p^\\ast$ 是空穴有效质量。\n\n- 电离施主的密度为\n$$ N_D^+ = \\frac{N_D}{1 + g_D \\exp\\!\\left(\\frac{E_F - E_D}{k_B T}\\right)}, $$\n其中 $N_D$ 是总施主浓度，$E_D$ 是施主能级（$E_D  E_C$），$g_D$ 是施主简并因子。\n\n- 电离受主的密度为\n$$ N_A^- = \\frac{N_A}{1 + g_A \\exp\\!\\left(\\frac{E_A - E_F}{k_B T}\\right)}, $$\n其中 $N_A$ 是总受主浓度，$E_A$ 是受主能级（$E_A > E_V$），$g_A$ 是受主简并因子。\n\n- 电中性条件要求\n$$ n + N_A^- = p + N_D^+. $$\n\n所有能量必须以导带边为参考，即 $E_C = 0$ 且 $E_V = -E_g$。您必须计算满足每个测试用例中性条件的 $E_F$。\n\n要使用的物理常数为：$k_B = 1.380649 \\times 10^{-23} \\,\\text{J/K}$（以焦耳每开尔文为单位的玻尔兹曼常数）和 $h = 6.62607015 \\times 10^{-34} \\,\\text{J}\\cdot\\text{s}$（普朗克常数）。电子静止质量为 $m_0 = 9.1093837015 \\times 10^{-31} \\,\\text{kg}$。为了数值计算方便，在构建无量纲参数时，您也可以使用 $k_B = 8.617333262145 \\times 10^{-5} \\,\\text{eV/K}$。\n\n实现一个程序，对于每个测试用例，该程序能数值计算1/2阶费米-狄拉克积分，构建电中性残差\n$$ R(E_F) = n(E_F) + N_A^-(E_F) - p(E_F) - N_D^+(E_F), $$\n并找到 $R(E_F) = 0$ 的根 $E_F$。\n\n将每个测试用例最终计算出的费米能级表示为一个以电子伏特（eV）为单位的浮点数，相对于 $E_C$ 进行测量（即，报告 $E_F$ 时，设 $E_C = 0$）。将每个结果四舍五入到六位小数。\n\n所有数值密度 $N_D$、$N_A$、$N_C$ 和 $N_V$ 在内部必须使用 $\\text{m}^{-3}$ 单位。提供的掺杂浓度以 $\\text{cm}^{-3}$ 为单位，必须通过乘以 $10^6$ 转换为 $\\text{m}^{-3}$。\n\n您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔的结果列表（例如，`[result1,result2,result3]`）。\n\n测试套件：\n使用以下五个测试用例，涵盖简并n型、简并p型、补偿掺杂、低温部分电离和类本征条件。每个测试用例是一个元组\n$$ (T, E_g, m_n^\\ast/m_0, m_p^\\ast/m_0, N_D \\, [\\text{cm}^{-3}], N_A \\, [\\text{cm}^{-3}], E_d, E_a, g_D, g_A), $$\n其中 $E_d$ 是施主深度，使得 $E_D = E_C - E_d$，$E_a$ 是受主深度，使得 $E_A = E_V + E_a$。\n\n- 情况1（简并n型）：$(300.0, 1.12, 1.08, 0.81, 5\\times 10^{20}, 0.0, 0.03, 0.05, 2.0, 4.0)$。\n- 情况2（简并p型）：$(300.0, 1.42, 0.067, 0.50, 0.0, 1\\times 10^{20}, 0.03, 0.05, 2.0, 4.0)$。\n- 情况3（补偿中等掺杂）：$(300.0, 1.12, 1.08, 0.81, 1\\times 10^{19}, 9\\times 10^{18}, 0.04, 0.045, 2.0, 4.0)$。\n- 情况4（低温，部分电离n型）：$(50.0, 1.12, 1.08, 0.81, 5\\times 10^{17}, 0.0, 0.05, 0.05, 2.0, 4.0)$。\n- 情况5（类本征，对称质量）：$(300.0, 1.00, 0.50, 0.50, 0.0, 0.0, 0.05, 0.05, 2.0, 4.0)$。\n\n您的程序必须为每种情况计算 $E_F$，并打印一行包含五个结果的列表，结果以eV为单位，四舍五入到六位小数，能量参考点为 $E_C = 0$。",
            "solution": "该问题要求确定半导体在各种掺杂和温度条件下的平衡费米能级 $E_F$。这可以通过数值求解电中性方程来实现。对于测试用例中指定的简并掺杂浓度和低温情况，该解决方案必须考虑费米-狄拉克统计。\n\n控制平衡载流子和电离掺杂剂浓度的基本原理是电中性条件。在具有电子（电荷-q）、空穴（电荷+q）、电离施主（电荷+q）和电离受主（电荷-q）的半导体中，总负电荷密度必须与总正电荷密度平衡。这由以下方程表示：\n$$ n + N_A^- = p + N_D^+ $$\n其中 $n$ 是导带中的电子浓度，$p$ 是价带中的空穴浓度，$N_D^+$ 是电离施主原子的密度，$N_A^-$ 是电离受主原子的密度。\n\n为了求解费米能级 $E_F$，我们将中性方程中的每一项表示为 $E_F$ 的函数，并将其重新排列为一个关于残差函数 $R(E_F)$ 的求根问题：\n$$ R(E_F) = n(E_F) + N_A^-(E_F) - p(E_F) - N_D^+(E_F) = 0 $$\n函数 $R(E_F)$ 关于 $E_F$ 是严格单调的，因为 $n(E_F)$ 和 $N_A^-(E_F)$ 是 $E_F$ 的单调递增函数，而 $p(E_F)$ 和 $N_D^+(E_F)$ 是单调递减函数。此性质保证了 $E_F$ 存在唯一的根。\n\n使用能量参考点 $E_C = 0$，$R(E_F)$ 的各个组成部分定义如下：\n\n1.  **电子浓度 ($n$)**: 对于抛物线形导带，电子浓度由下式给出\n    $$ n(E_F) = N_C F_{1/2}\\!\\left(\\frac{E_F - E_C}{k_B T}\\right) = N_C F_{1/2}\\!\\left(\\frac{E_F}{k_B T}\\right) $$\n    其中 $k_B$ 是玻尔兹曼常数，$T$ 是绝对温度，$N_C$ 是导带中的有效态密度：\n    $$ N_C = 2 \\left( \\frac{2 \\pi m_n^\\ast k_B T}{h^2} \\right)^{3/2} $$\n    这里，$m_n^\\ast$ 是电子有效质量，$h$ 是普朗克常数。\n\n2.  **空穴浓度 ($p$)**: 类似地，对于带边能量为 $E_V = E_C - E_g = -E_g$ 的抛物线形价带，空穴浓度为\n    $$ p(E_F) = N_V F_{1/2}\\!\\left(\\frac{E_V - E_F}{k_B T}\\right) = N_V F_{1/2}\\!\\left(\\frac{-E_g - E_F}{k_B T}\\right) $$\n    其中 $N_V$ 是价带中的有效态密度：\n    $$ N_V = 2 \\left( \\frac{2 \\pi m_p^\\ast k_B T}{h^2} \\right)^{3/2} $$\n    $m_p^\\ast$ 是空穴有效质量。\n\n3.  **费米-狄拉克积分 ($F_{1/2}$)**: 函数 $F_{1/2}(\\eta)$ 是1/2阶费米-狄拉克积分。它必须通过数值方法计算：\n    $$ F_{1/2}(\\eta) = \\frac{2}{\\sqrt{\\pi}} \\int_{0}^{\\infty} \\frac{x^{1/2}}{1 + e^{x - \\eta}} \\, dx $$\n    该积分将使用数值积分方法（如 `scipy.integrate.quad` 提供的方法）进行计算。\n\n4.  **电离掺杂浓度 ($N_D^+, N_A^-$)**: 电离施主和受主的浓度也通过费米-狄拉克统计依赖于 $E_F$。\n    - 施主能级为 $E_D = E_C - E_d = -E_d$。电离（空）施主的浓度为：\n    $$ N_D^+(E_F) = \\frac{N_D}{1 + g_D \\exp\\!\\left(\\frac{E_F - E_D}{k_B T}\\right)} = \\frac{N_D}{1 + g_D \\exp\\!\\left(\\frac{E_F + E_d}{k_B T}\\right)}$$\n    其中 $N_D$ 是总施主浓度，$g_D$ 是施主简并因子。\n    - 受主能级为 $E_A = E_V + E_a = -E_g + E_a$。电离（被电子占据）受主的浓度为：\n    $$ N_A^-(E_F) = \\frac{N_A}{1 + g_A \\exp\\!\\left(\\frac{E_A - E_F}{k_B T}\\right)} = \\frac{N_A}{1 + g_A \\exp\\!\\left(\\frac{-E_g + E_a - E_F}{k_B T}\\right)} $$\n    其中 $N_A$ 是总受主浓度，$g_A$ 是受主简并因子。\n\n每个测试用例的数值计算步骤如下：\n1.  设置物理常数，并对每个用例，解包参数：$T, E_g, m_n^\\ast/m_0, m_p^\\ast/m_0, N_D, N_A, E_d, E_a, g_D, g_A$。\n2.  将掺杂浓度 $N_D$ 和 $N_A$ 的单位从 $\\text{cm}^{-3}$ 转换为 $\\text{m}^{-3}$，方法是乘以 $10^6$。\n3.  使用国际单位制进行中间计算（$k_B$ 单位为 $\\text{J/K}$，$h$ 单位为 $\\text{J}\\cdot\\text{s}$，质量单位为 $\\text{kg}$），计算与温度相关的有效态密度 $N_C$ 和 $N_V$。\n4.  定义残差函数 $R(E_F)$，其中 $E_F$ 以电子伏特（eV）为单位。此函数将在内部为给定的 $E_F$ 计算 $n, p, N_D^+, N_A^-$。对于像 $(E_F - E_D)/(k_B T)$ 这样的无量纲能量参数，方便使用eV为单位的能量和eV/K为单位的 $k_B$ 值。\n5.  使用数值求根算法，特别是像Brent方法 (`scipy.optimize.brentq`) 这样的区间法，找到解 $R(E_F) = 0$ 的 $E_F$ 值。一个足够宽的搜索区间，例如从 $E_V - 2$ eV 到 $E_C + 2$ eV，可确保捕捉到根。\n6.  得到的 $E_F$ 是平衡费米能级。按要求将结果四舍五入到六位小数。\n7.  对所有测试用例重复此过程，并将最终输出格式化为逗号分隔的值列表。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy.integrate import quad\nfrom scipy.optimize import brentq\n\ndef solve():\n    \"\"\"\n    Solves for the Fermi level in a semiconductor by enforcing the charge neutrality condition.\n    \"\"\"\n    \n    # Physical Constants\n    k_B_J_K = 1.380649e-23        # Boltzmann constant in J/K\n    k_B_eV_K = 8.617333262145e-5  # Boltzmann constant in eV/K\n    h_Js = 6.62607015e-34         # Planck constant in J.s\n    m0_kg = 9.1093837015e-31      # Electron rest mass in kg\n\n    def fermi_dirac_half(eta):\n        \"\"\"\n        Numerically computes the Fermi-Dirac integral of order 1/2.\n        F_{1/2}(eta) = (2/sqrt(pi)) * integral from 0 to inf of [x^(1/2) / (1 + exp(x - eta))] dx.\n        \n        Args:\n            eta: The dimensionless argument of the integral.\n\n        Returns:\n            The value of the Fermi-Dirac integral.\n        \"\"\"\n        # For large negative eta, use the Boltzmann approximation to avoid numerical overflow.\n        if eta  -30:\n            return np.exp(eta)\n\n        # The integrand function.\n        # A conditional expression is used to maintain numerical stability for large (x - eta).\n        integrand = lambda x: np.sqrt(x) * np.exp(-(x - eta)) if (x - eta) > 30 else np.sqrt(x) / (1.0 + np.exp(x - eta))\n        \n        integral_val, _ = quad(integrand, 0, np.inf)\n        return (2.0 / np.sqrt(np.pi)) * integral_val\n\n    # Test cases: (T, Eg, mn*/m0, mp*/m0, ND [cm^-3], NA [cm^-3], Ed, Ea, gD, gA)\n    test_cases = [\n        # Case 1 (degenerate n-type)\n        (300.0, 1.12, 1.08, 0.81, 5e20, 0.0, 0.03, 0.05, 2.0, 4.0),\n        # Case 2 (degenerate p-type)\n        (300.0, 1.42, 0.067, 0.50, 0.0, 1e20, 0.03, 0.05, 2.0, 4.0),\n        # Case 3 (compensated moderate doping)\n        (300.0, 1.12, 1.08, 0.81, 1e19, 9e18, 0.04, 0.045, 2.0, 4.0),\n        # Case 4 (low temperature, partial ionization n-type)\n        (50.0, 1.12, 1.08, 0.81, 5e17, 0.0, 0.05, 0.05, 2.0, 4.0),\n        # Case 5 (intrinsic-like, symmetric masses)\n        (300.0, 1.00, 0.50, 0.50, 0.0, 0.0, 0.05, 0.05, 2.0, 4.0),\n    ]\n\n    results = []\n    \n    for case in test_cases:\n        T, Eg, mn_ratio, mp_ratio, ND_cm, NA_cm, Ed, Ea, gD, gA = case\n\n        # Convert units and calculate effective masses\n        ND = ND_cm * 1e6  # cm^-3 to m^-3\n        NA = NA_cm * 1e6  # cm^-3 to m^-3\n        mn_star = mn_ratio * m0_kg\n        mp_star = mp_ratio * m0_kg\n        \n        # Thermal energies\n        kBT_J = k_B_J_K * T\n        kBT_eV = k_B_eV_K * T\n\n        # Effective densities of states\n        common_factor = 2 * (2 * np.pi * kBT_J / h_Js**2)**1.5\n        NC = common_factor * mn_star**1.5\n        NV = common_factor * mp_star**1.5\n\n        def charge_neutrality_residual(EF):\n            \"\"\"\n            Calculates the residual of the charge neutrality equation: n + NA- - p - ND+\n            \n            Args:\n                EF: Fermi level in eV, referenced to the conduction band edge (EC=0).\n                \n            Returns:\n                The residual value.\n            \"\"\"\n            # Carrier concentrations\n            eta_n = EF / kBT_eV\n            n = NC * fermi_dirac_half(eta_n)\n            \n            eta_p = (-Eg - EF) / kBT_eV\n            p = NV * fermi_dirac_half(eta_p)\n\n            # Ionized dopant concentrations\n            # Donor level ED = EC - Ed = -Ed\n            # Acceptor level EA = EV + Ea = -Eg + Ea\n            ED = -Ed\n            EA = -Eg + Ea\n            \n            # Using np.exp arguments: (EF - ED)/kBT_eV = (EF + Ed)/kBT_eV\n            # and (EA - EF)/kBT_eV = (-Eg + Ea - EF)/kBT_eV\n            exp_D = np.exp((EF - ED) / kBT_eV)\n            ND_plus = ND / (1.0 + gD * exp_D)\n            \n            exp_A = np.exp((EA - EF) / kBT_eV)\n            NA_minus = NA / (1.0 + gA * exp_A)\n\n            return n + NA_minus - p - ND_plus\n\n        # Find the root of the residual function to get EF.\n        # A wide bracket ensures robustness for all cases.\n        bracket_low = -Eg - 2.0  # 2 eV below valence band\n        bracket_high = 2.0       # 2 eV above conduction band\n        \n        try:\n            EF_solution = brentq(charge_neutrality_residual, bracket_low, bracket_high)\n            results.append(round(EF_solution, 6))\n        except ValueError:\n            # Fallback for if the root isn't in the bracket, though unlikely with this wide range.\n            results.append(float('nan'))\n\n    # Format and print the final results\n    # Using 'f-string' with format specifier to ensure 6 decimal places even for trailing zeros.\n    formatted_results = [f\"{res:.6f}\" for res in results]\n    print(f\"[{','.join(formatted_results)}]\")\n\nsolve()\n```"
        }
    ]
}