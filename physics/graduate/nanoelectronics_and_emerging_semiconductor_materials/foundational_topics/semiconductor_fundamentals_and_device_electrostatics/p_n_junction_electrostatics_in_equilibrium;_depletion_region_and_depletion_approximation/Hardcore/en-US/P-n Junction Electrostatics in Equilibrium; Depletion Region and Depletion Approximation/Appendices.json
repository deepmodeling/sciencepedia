{
    "hands_on_practices": [
        {
            "introduction": "Understanding the p-n junction begins with its state in thermal equilibrium. This first practice challenges you to derive the expression for the built-in potential, $V_{bi}$, not from a given formula, but from the fundamental principle that the Fermi level, $E_F$, must be constant throughout the device. By connecting carrier statistics to the electrostatic potential, this exercise reinforces the physical origin of the potential barrier and provides a quantitative basis for evaluating when the widely used depletion approximation is self-consistent and valid .",
            "id": "4291218",
            "problem": "A one-dimensional abrupt silicon $p$-$n$ junction is formed at $x=0$ by joining a uniformly doped $p$-type region with acceptor density $N_A$ for $x0$ and a uniformly doped $n$-type region with donor density $N_D$ for $x>0$. The semiconductor is crystalline silicon at temperature $T$, and the junction is in thermal equilibrium with no external bias. Assume complete ionization of dopants, non-degenerate carrier statistics, and neglect bandgap narrowing and interface charges. Let the intrinsic carrier concentration be $n_i$. \n\nStarting only from the equilibrium condition that the Fermi level is constant throughout the device, the mass action law $np=n_i^2$ in thermal equilibrium, the Maxwell–Boltzmann relations for carriers in a slowly varying potential, and the definitions of majority carriers in the neutral regions ($p_p( -\\infty ) \\approx N_A$ in the $p$-type neutral bulk and $n_n( +\\infty ) \\approx N_D$ in the $n$-type neutral bulk), derive an expression for the built-in potential $V_{bi}$ across the junction. Then evaluate $V_{bi}$ numerically for $T=300\\,\\mathrm{K}$, $N_A=10^{17}\\,\\mathrm{cm}^{-3}$, $N_D=10^{16}\\,\\mathrm{cm}^{-3}$, and $n_i=10^{10}\\,\\mathrm{cm}^{-3}$. Use the Boltzmann constant $k_B=1.380649\\times 10^{-23}\\,\\mathrm{J/K}$ and elementary charge $q=1.602176634\\times 10^{-19}\\,\\mathrm{C}$. \n\nFinally, based on first-principles electrostatics and carrier statistics (without invoking any pre-stated depletion formulas), briefly justify whether the depletion approximation is self-consistent for this junction at the given temperature.\n\nExpress the final numerical value of $V_{bi}$ in volts and round your answer to four significant figures. The final answer must be a single number.",
            "solution": "The problem statement has been validated and is deemed valid. It is a well-posed, scientifically grounded problem in semiconductor physics.\n\nThe problem asks for three parts: first, a derivation of the built-in potential $V_{bi}$; second, a numerical evaluation of $V_{bi}$ for the given parameters; and third, a justification for the self-consistency of the depletion approximation for this junction.\n\n**Part 1: Derivation of the Built-in Potential ($V_{bi}$)**\n\nWe begin from the fundamental condition of thermal equilibrium: the Fermi level, $E_F$, must be constant throughout the entire device. The carrier concentrations, electron density $n(x)$ and hole density $p(x)$, are related to the intrinsic energy level $E_i(x)$ and the Fermi level $E_F$ through the Maxwell-Boltzmann relations for non-degenerate semiconductors:\n$$n(x) = n_i \\exp\\left(\\frac{E_F - E_i(x)}{k_B T}\\right)$$\n$$p(x) = n_i \\exp\\left(\\frac{E_i(x) - E_F}{k_B T}\\right)$$\nHere, $n_i$ is the intrinsic carrier concentration, $k_B$ is the Boltzmann constant, and $T$ is the absolute temperature. These two equations are consistent with the mass action law, $n(x)p(x) = n_i^2$, which holds in equilibrium.\n\nThe electrostatic potential $\\phi(x)$ is related to the intrinsic energy level by the convention $E_i(x) = E_{i,ref} - q\\phi(x)$, where $q$ is the elementary charge and $E_{i,ref}$ is a reference energy level. The built-in potential $V_{bi}$ is the total potential difference across the junction, from the neutral $p$-region (far from the junction at $x \\to -\\infty$) to the neutral $n$-region (far from the junction at $x \\to +\\infty$). Let us set the reference potential in the neutral $p$-region, so $\\phi(-\\infty) = 0$. Then the potential in the neutral $n$-region is $\\phi(+\\infty) = V_{bi}$.\nConsequently, the intrinsic energy levels in the neutral regions are related by:\n$$E_i(-\\infty) - E_i(+\\infty) = -q[\\phi(-\\infty) - \\phi(+\\infty)] = -q[0 - V_{bi}] = qV_{bi}$$\n\nNow, we apply the carrier concentration relations to the neutral regions far from the junction.\n\nIn the neutral $p$-region ($x \\to -\\infty$), the material is charge neutral. Assuming complete ionization of acceptors, the hole concentration is approximately the acceptor density, $p_p = p(-\\infty) \\approx N_A$. From the relation for hole concentration:\n$$p_p = N_A = n_i \\exp\\left(\\frac{E_i(-\\infty) - E_F}{k_B T}\\right)$$\nSolving for the position of the intrinsic level relative to the Fermi level on the $p$-side:\n$$E_i(-\\infty) - E_F = k_B T \\ln\\left(\\frac{N_A}{n_i}\\right)$$\n\nIn the neutral $n$-region ($x \\to +\\infty$), the electron concentration is approximately the donor density, $n_n = n(+\\infty) \\approx N_D$. From the relation for electron concentration:\n$$n_n = N_D = n_i \\exp\\left(\\frac{E_F - E_i(+\\infty)}{k_B T}\\right)$$\nSolving for the position of the Fermi level relative to the intrinsic level on the $n$-side:\n$$E_F - E_i(+\\infty) = k_B T \\ln\\left(\\frac{N_D}{n_i}\\right)$$\n\nNow we use the relationship $E_i(-\\infty) - E_i(+\\infty) = qV_{bi}$. We can write:\n$$qV_{bi} = E_i(-\\infty) - E_i(+\\infty) = [E_F + k_B T \\ln\\left(\\frac{N_A}{n_i}\\right)] - [E_F - k_B T \\ln\\left(\\frac{N_D}{n_i}\\right)]$$\nSince $E_F$ is constant, it cancels out:\n$$qV_{bi} = k_B T \\ln\\left(\\frac{N_A}{n_i}\\right) + k_B T \\ln\\left(\\frac{N_D}{n_i}\\right)$$\nUsing the property of logarithms, $\\ln(a) + \\ln(b) = \\ln(ab)$:\n$$qV_{bi} = k_B T \\ln\\left(\\frac{N_A N_D}{n_i^2}\\right)$$\nIsolating $V_{bi}$ gives the final expression for the built-in potential:\n$$V_{bi} = \\frac{k_B T}{q} \\ln\\left(\\frac{N_A N_D}{n_i^2}\\right)$$\n\n**Part 2: Numerical Evaluation of $V_{bi}$**\n\nWe are given the following values:\n$T = 300\\,\\mathrm{K}$\n$N_A = 10^{17}\\,\\mathrm{cm}^{-3}$\n$N_D = 10^{16}\\,\\mathrm{cm}^{-3}$\n$n_i = 10^{10}\\,\\mathrm{cm}^{-3}$\n$k_B = 1.380649 \\times 10^{-23}\\,\\mathrm{J/K}$\n$q = 1.602176634 \\times 10^{-19}\\,\\mathrm{C}$\n\nFirst, we calculate the thermal voltage, $V_T = \\frac{k_B T}{q}$:\n$$V_T = \\frac{(1.380649 \\times 10^{-23}\\,\\mathrm{J/K}) \\times (300\\,\\mathrm{K})}{1.602176634 \\times 10^{-19}\\,\\mathrm{C}} \\approx 0.025852\\,\\mathrm{V}$$\nNext, we calculate the argument of the natural logarithm:\n$$\\frac{N_A N_D}{n_i^2} = \\frac{(10^{17}\\,\\mathrm{cm}^{-3}) \\times (10^{16}\\,\\mathrm{cm}^{-3})}{(10^{10}\\,\\mathrm{cm}^{-3})^2} = \\frac{10^{33}}{10^{20}} = 10^{13}$$\nNow, we substitute these values into the expression for $V_{bi}$:\n$$V_{bi} = V_T \\ln(10^{13}) = (0.025852\\,\\mathrm{V}) \\times 13 \\ln(10)$$\nUsing the value $\\ln(10) \\approx 2.302585$:\n$$V_{bi} \\approx (0.025852\\,\\mathrm{V}) \\times 13 \\times 2.302585 \\approx 0.773823\\,\\mathrm{V}$$\nRounding the result to four significant figures as requested, we get:\n$$V_{bi} \\approx 0.7738\\,\\mathrm{V}$$\n\n**Part 3: Justification of the Depletion Approximation**\n\nThe depletion approximation is the assumption that within a region surrounding the metallurgical junction (the depletion or space-charge region), the density of mobile carriers (electrons and holes) is negligible compared to the density of fixed, ionized dopant atoms. The self-consistency of this approximation must be justified based on the principles of electrostatics and carrier statistics.\n\nThe carrier concentrations vary with the electrostatic potential $\\phi(x)$ according to the Boltzmann relations. Taking the neutral $p$-region as the potential reference ($\\phi=0$), the hole concentration is $p(x) = p_p \\exp(-q\\phi(x)/k_B T) \\approx N_A \\exp(-q\\phi(x)/V_T)$. Similarly, starting from the neutral $n$-region where the potential is $V_{bi}$, the electron concentration is $n(x) = n_n \\exp(q(\\phi(x)-V_{bi})/k_B T) \\approx N_D \\exp(q(\\phi(x)-V_{bi})/V_T)$.\n\nThe depletion approximation is valid on the $p$-side if $p(x) \\ll N_A$ and on the $n$-side if $n(x) \\ll N_D$.\nFor the p-side, the condition $p(x) \\ll N_A$ requires $N_A \\exp(-q\\phi(x)/k_B T) \\ll N_A$, which simplifies to $\\exp(-q\\phi(x)/k_B T) \\ll 1$. This is true if the potential barrier $q\\phi(x)$ is significantly larger than the thermal energy $k_B T$, or $\\phi(x) \\gg k_B T/q = V_T$.\nFor the n-side, the condition $n(x) \\ll N_D$ requires $N_D \\exp(q(\\phi(x)-V_{bi})/k_B T) \\ll N_D$, which simplifies to $\\exp(q(\\phi(x)-V_{bi})/k_B T) \\ll 1$. This is true if $q(V_{bi}-\\phi(x)) \\gg k_B T$, or $(V_{bi}-\\phi(x)) \\gg V_T$.\n\nIn summary, the depletion approximation is self-consistent if the total potential drop across the junction, $V_{bi}$, is much larger than the thermal voltage, $V_T$. In such a case, over the majority of the transition region where the potential $\\phi(x)$ is changing, the conditions $\\phi(x) \\gg V_T$ (on the $p$-side) and $(V_{bi}-\\phi(x)) \\gg V_T$ (on the $n$-side) are satisfied. This ensures that the mobile carrier concentrations are exponentially suppressed and are thus negligible compared to the fixed dopant concentrations that create the space charge.\n\nFor the given junction, we calculated:\n$$V_{bi} \\approx 0.7738\\,\\mathrm{V}$$\n$$V_T \\approx 0.02585\\,\\mathrm{V}$$\nThe ratio is $V_{bi}/V_T \\approx 0.7738 / 0.02585 \\approx 30$.\nSince $V_{bi} \\gg V_T$, the built-in potential barrier is very large compared to the characteristic thermal energy of the carriers. This large potential barrier effectively sweeps mobile carriers out of the junction region, causing their densities to drop by many orders of magnitude relative to their bulk values. The space charge is therefore overwhelmingly dominated by the fixed ionized acceptor and donor ions. This confirms that the depletion approximation is a highly self-consistent and accurate model for this specific $p$-$n$ junction.",
            "answer": "$$\\boxed{0.7738}$$"
        },
        {
            "introduction": "With the depletion approximation established as a reasonable model, we can now explore the internal electrostatics of the junction. This exercise guides you through the process of solving Poisson’s equation within the space-charge region to determine the spatial distribution of the electric field $E(x)$ and electrostatic potential $\\phi(x)$. Mastering this derivation is essential, as the resulting linear field and parabolic potential profiles form the basis for understanding junction capacitance, breakdown phenomena, and the behavior of the junction under bias .",
            "id": "4291232",
            "problem": "Consider an abrupt, one-dimensional silicon $p$-$n$ junction at thermal equilibrium, formed by uniformly doped $p$-type and $n$-type regions with acceptor density $N_{A}$ and donor density $N_{D}$, respectively. Let the metallurgical junction be at $x=0$, with the $p$-side occupying $x0$ and the $n$-side occupying $x>0$. Assume the depletion approximation: all mobile carriers are neglected in the depletion region, and the space charge is solely due to ionized donors and acceptors. The semiconductor has a spatially uniform dielectric permittivity $\\varepsilon$. Denote the elementary charge magnitude by $q$, the depletion widths by $x_{p}$ on the $p$-side and $x_{n}$ on the $n$-side, and the built-in potential by $V_{\\text{bi}}$.\n\nStarting from first principles—namely, Gauss’s law in differential form specialized to electrostatics in one dimension and the definition of electric potential—derive closed-form expressions for the electric field $E(x)$ and electrostatic potential $\\phi(x)$ inside the depletion region on both the $p$ and $n$ sides. Impose the physically consistent boundary and matching conditions appropriate to the depletion approximation (including the vanishing of the electric field at the depletion edges, continuity of $E(x)$ and $\\phi(x)$ at $x=0$, and charge neutrality of the depletion region), and eliminate $x_{p}$ and $x_{n}$ in favor of $N_{A}$, $N_{D}$, $\\varepsilon$, $q$, and $V_{\\text{bi}}$.\n\nYour final expressions must explicitly exhibit:\n- a linear (triangular) electric field profile in $x$ on each side of the junction, and\n- a quadratic (parabolic) potential profile in $x$ on each side of the junction.\n\nExpress the electric field in volts per meter and the electrostatic potential in volts. Provide the final answer as symbolic expressions only; do not plug in numbers. The final answer must include the fully explicit $E(x)$ and $\\phi(x)$ profiles and the eliminated forms of $x_{p}$ and $x_{n}$ in terms of $N_{A}$, $N_{D}$, $\\varepsilon$, $q$, and $V_{\\text{bi}}$.",
            "solution": "The problem statement has been evaluated against the required criteria and is deemed valid. It is a standard, well-posed problem in semiconductor device physics, grounded in fundamental electrostatic principles. All necessary conditions and parameters are provided, and there are no contradictions or scientific inaccuracies.\n\nThe derivation of the electric field $E(x)$ and electrostatic potential $\\phi(x)$ within the depletion region of a $p$-$n$ junction proceeds from first principles, specifically Poisson's equation, under the depletion approximation.\n\n**1. Foundational Equations**\n\nIn one dimension, Poisson's equation relates the electrostatic potential $\\phi(x)$ to the volume charge density $\\rho(x)$:\n$$\n\\frac{d^2\\phi(x)}{dx^2} = -\\frac{\\rho(x)}{\\varepsilon}\n$$\nwhere $\\varepsilon$ is the dielectric permittivity of the semiconductor. The electric field $E(x)$ is the negative gradient of the potential:\n$$\nE(x) = -\\frac{d\\phi(x)}{dx}\n$$\nCombining these two gives Gauss's law in differential form for this one-dimensional system:\n$$\n\\frac{dE(x)}{dx} = \\frac{\\rho(x)}{\\varepsilon}\n$$\n\n**2. Charge Density under the Depletion Approximation**\n\nThe depletion approximation assumes that within the depletion region, extending from $x = -x_p$ on the $p$-side to $x = x_n$ on the $n$-side, the space charge is due only to ionized, fixed dopant atoms. Mobile carriers (holes and electrons) are assumed to be fully depleted.\n- In the $p$-type region ($-x_p \\le x  0$), the charge density is from negatively ionized acceptors: $\\rho(x) = -qN_A$.\n- In the $n$-type region ($0  x \\le x_n$), the charge density is from positively ionized donors: $\\rho(x) = +qN_D$.\nOutside the depletion region ($x  -x_p$ and $x  x_n$), the material is neutral, so $\\rho(x) = 0$.\n\n**3. Derivation of the Electric Field $E(x)$**\n\nThe electric field is found by integrating Gauss's law, applying the boundary conditions that the electric field must vanish at the edges of the depletion region, i.e., $E(-x_p) = 0$ and $E(x_n) = 0$.\n\n- **For the $p$-side ($-x_p \\le x  0$):**\n$$\n\\frac{dE}{dx} = -\\frac{qN_A}{\\varepsilon}\n$$\nIntegrating from the depletion edge $-x_p$ to a point $x$ within the region:\n$$\n\\int_{E(-x_p)}^{E(x)} dE' = \\int_{-x_p}^{x} -\\frac{qN_A}{\\varepsilon} dx'\n$$\n$$\nE(x) - E(-x_p) = -\\frac{qN_A}{\\varepsilon}(x - (-x_p))\n$$\nWith $E(-x_p) = 0$, we obtain:\n$$\nE(x) = -\\frac{qN_A}{\\varepsilon}(x + x_p)\n$$\nThis expression shows a linear dependence of $E$ on $x$.\n\n- **For the $n$-side ($0 \\le x \\le x_n$):**\n$$\n\\frac{dE}{dx} = \\frac{qN_D}{\\varepsilon}\n$$\nIntegrating from a point $x$ to the depletion edge $x_n$:\n$$\n\\int_{E(x)}^{E(x_n)} dE' = \\int_{x}^{x_n} \\frac{qN_D}{\\varepsilon} dx'\n$$\n$$\nE(x_n) - E(x) = \\frac{qN_D}{\\varepsilon}(x_n - x)\n$$\nWith $E(x_n) = 0$, we get:\n$$\nE(x) = -\\frac{qN_D}{\\varepsilon}(x_n - x) = \\frac{qN_D}{\\varepsilon}(x - x_n)\n$$\nThis is also a linear function of $x$. The electric field profile is thus triangular, reaching its maximum magnitude (most negative value) at the metallurgical junction $x=0$.\n\n**4. Charge Neutrality and Depletion Widths**\n\nThe depletion region as a whole must be electrically neutral. The total negative charge on the $p$-side must balance the total positive charge on the $n$-side. For a junction of cross-sectional area $A$:\n$$\n(-qN_A)(x_p A) + (qN_D)(x_n A) = 0\n$$\n$$\nN_A x_p = N_D x_n\n$$\nThis condition also ensures the continuity of the electric field at $x=0$. Evaluating our expressions for $E(x)$ at $x=0$:\n$$\nE(0) = -\\frac{qN_A x_p}{\\varepsilon} = -\\frac{qN_D x_n}{\\varepsilon}\n$$\nThis is consistent with the charge neutrality condition.\n\n**5. Derivation of the Electrostatic Potential $\\phi(x)$**\n\nThe potential $\\phi(x)$ is found by integrating $E(x) = -d\\phi/dx$. We must set a potential reference. A convenient choice is to set the potential in the neutral $p$-region to be zero, which means $\\phi(-x_p) = 0$. The total potential difference across the junction is the built-in potential, $V_{\\text{bi}}$, so $\\phi(x_n) = V_{\\text{bi}}$.\n\n- **For the $p$-side ($-x_p \\le x  0$):**\n$$\n\\phi(x) - \\phi(-x_p) = -\\int_{-x_p}^{x} E(x') dx' = -\\int_{-x_p}^{x} \\left(-\\frac{qN_A}{\\varepsilon}(x' + x_p)\\right) dx'\n$$\n$$\n\\phi(x) - 0 = \\frac{qN_A}{\\varepsilon} \\left[ \\frac{(x' + x_p)^2}{2} \\right]_{-x_p}^{x}\n$$\n$$\n\\phi(x) = \\frac{qN_A}{2\\varepsilon}(x + x_p)^2\n$$\nThis profile is quadratic (parabolic) in $x$.\n\n- **For the $n$-side ($0 \\le x \\le x_n$):**\nWe integrate from $x$ to the boundary $x_n$:\n$$\n\\phi(x_n) - \\phi(x) = -\\int_{x}^{x_n} E(x') dx' = -\\int_{x}^{x_n} \\left(\\frac{qN_D}{\\varepsilon}(x' - x_n)\\right) dx'\n$$\n$$\nV_{\\text{bi}} - \\phi(x) = -\\frac{qN_D}{\\varepsilon} \\left[ \\frac{(x' - x_n)^2}{2} \\right]_{x}^{x_n} = -\\frac{qN_D}{\\varepsilon} \\left( 0 - \\frac{(x - x_n)^2}{2} \\right)\n$$\n$$\nV_{\\text{bi}} - \\phi(x) = \\frac{qN_D}{2\\varepsilon}(x - x_n)^2\n$$\nSolving for $\\phi(x)$:\n$$\n\\phi(x) = V_{\\text{bi}} - \\frac{qN_D}{2\\varepsilon}(x_n - x)^2\n$$\nThis profile is also quadratic in $x$. The continuity of $\\phi(x)$ at $x=0$ is ensured by the subsequent step.\n\n**6. Final Determination of $x_p$ and $x_n$**\n\nThe built-in potential is the total potential drop across the entire depletion region: $V_{\\text{bi}} = \\phi(x_n) - \\phi(-x_p)$. Using our derived expressions for potential, evaluated at the boundaries:\n$$\nV_{\\text{bi}} = \\left(V_{\\text{bi}} - \\frac{qN_D}{2\\varepsilon}(x_n - x_n)^2\\right) - \\left(\\frac{qN_A}{2\\varepsilon}(-x_p + x_p)^2\\right) = V_{\\text{bi}}\n$$\nA more useful relationship is found by evaluating $\\phi(x_n)$ starting from $\\phi(-x_p)=0$ and integrating across the entire region. This is equivalent to setting the two expressions for $\\phi(0)$ equal. From the $p$-side expression, $\\phi(0) = \\frac{qN_A x_p^2}{2\\varepsilon}$. From the $n$-side, $\\phi(0) = V_{\\text{bi}} - \\frac{qN_D x_n^2}{2\\varepsilon}$. Equating them:\n$$\n\\frac{qN_A x_p^2}{2\\varepsilon} = V_{\\text{bi}} - \\frac{qN_D x_n^2}{2\\varepsilon} \\implies V_{\\text{bi}} = \\frac{q}{2\\varepsilon}(N_A x_p^2 + N_D x_n^2)\n$$\nWe now have a system of two equations for $x_p$ and $x_n$:\n1. $N_A x_p = N_D x_n$\n2. $V_{\\text{bi}} = \\frac{q}{2\\varepsilon}(N_A x_p^2 + N_D x_n^2)$\n\nFrom (1), we substitute $x_n = \\frac{N_A}{N_D}x_p$ into (2):\n$$\nV_{\\text{bi}} = \\frac{q}{2\\varepsilon}\\left(N_A x_p^2 + N_D \\left(\\frac{N_A}{N_D}x_p\\right)^2\\right) = \\frac{qN_A x_p^2}{2\\varepsilon}\\left(1 + \\frac{N_A}{N_D}\\right) = \\frac{qN_A x_p^2}{2\\varepsilon}\\left(\\frac{N_A+N_D}{N_D}\\right)\n$$\nSolving for $x_p$:\n$$\nx_p = \\sqrt{\\frac{2\\varepsilon V_{\\text{bi}}}{q} \\frac{N_D}{N_A(N_A + N_D)}}\n$$\nSimilarly, substituting $x_p = \\frac{N_D}{N_A}x_n$ into (2) and solving for $x_n$:\n$$\nx_n = \\sqrt{\\frac{2\\varepsilon V_{\\text{bi}}}{q} \\frac{N_A}{N_D(N_A + N_D)}}\n$$\nThese are the explicit expressions for the depletion widths in terms of fundamental parameters. The derivation is complete. The expressions for $E(x)$ and $\\phi(x)$ are now fully determined.",
            "answer": "$$\n\\boxed{\n\\pmatrix{\n\\sqrt{\\frac{2\\varepsilon V_{\\text{bi}}}{q} \\frac{N_D}{N_A(N_A + N_D)}}  \\sqrt{\\frac{2\\varepsilon V_{\\text{bi}}}{q} \\frac{N_A}{N_D(N_A + N_D)}}  E(x) = \\begin{cases} -\\frac{q N_A}{\\varepsilon} (x + x_p)  \\text{for } -x_p \\leq x  0 \\\\ \\frac{q N_D}{\\varepsilon} (x - x_n)  \\text{for } 0 \\leq x \\leq x_n \\end{cases}  \\phi(x) = \\begin{cases} \\frac{q N_A}{2\\varepsilon} (x + x_p)^{2}  \\text{for } -x_p \\leq x  0 \\\\ V_{\\text{bi}} - \\frac{q N_D}{2\\varepsilon} (x_n - x)^{2}  \\text{for } 0 \\leq x \\leq x_n \\end{cases}\n}\n}\n$$"
        },
        {
            "introduction": "While the depletion approximation provides invaluable analytical insight, it is ultimately a simplified model that neglects the presence of mobile carriers in the transition region. This advanced computational exercise challenges you to solve the full, nonlinear Poisson-Boltzmann equation numerically to obtain the true electrostatic profile of the junction. By comparing your numerical results for the depletion width to the predictions of the analytical model, you will gain a deeper appreciation for the approximation's limitations and quantify its accuracy under various doping conditions .",
            "id": "4291243",
            "problem": "Consider a one-dimensional abrupt $p$-$n$ junction in electrostatic equilibrium within a non-degenerate, fully ionized semiconductor, where the donor density is $N_D$ for $x > 0$ and the acceptor density is $N_A$ for $x  0$. Let the intrinsic carrier concentration be $n_i$, the absolute temperature be $T$, the elementary charge be $q$, the dielectric permittivity be $\\epsilon = \\epsilon_r \\epsilon_0$ with $\\epsilon_0$ the vacuum permittivity and $\\epsilon_r$ the relative permittivity, and $V_T = k_B T / q$ be the thermal voltage, where $k_B$ is the Boltzmann constant. Assume non-degenerate Boltzmann statistics and complete ionization of dopants.\n\nStarting from the following fundamental laws and core definitions:\n\n- Electrostatic Poisson’s equation in one dimension: $$\\frac{d^2 \\phi(x)}{dx^2} = -\\frac{\\rho(x)}{\\epsilon},$$ where $\\phi(x)$ is the electrostatic potential and $\\rho(x)$ is the charge density.\n- Carrier concentrations in equilibrium under non-degenerate Boltzmann statistics: $$n(x) = n_i e^{u(x)}, \\quad p(x) = n_i e^{-u(x)},$$ where the normalized electrostatic potential is $u(x) = \\phi(x)/V_T$ relative to the intrinsic level.\n- Space charge density under complete ionization: $$\\rho(x) = q\\left[p(x) - n(x) + N_D(x) - N_A(x)\\right],$$ with $N_D(x) = N_D$ for $x > 0$ and $0$ otherwise, and $N_A(x) = N_A$ for $x  0$ and $0$ otherwise.\n- Far-field quasi-neutral boundary conditions: $$u(-\\infty) = -\\ln\\!\\left(\\frac{N_A}{n_i}\\right), \\quad u(+\\infty) = +\\ln\\!\\left(\\frac{N_D}{n_i}\\right),$$ which encode the majority-carrier-dominated neutrality far in the $p$ and $n$ regions.\n\nDerive and implement a numerical method to solve the resulting Poisson–Boltzmann boundary value problem for $u(x)$ on a finite domain large enough to approximate $x \\to \\pm \\infty$, using Newton’s method on a second-order finite-difference discretization. From the computed potential $\\phi(x) = V_T u(x)$, determine the built-in potential and an operational depletion width, and compare them to the predictions under the depletion approximation.\n\nDefinitions and quantities to compute:\n\n1. The true built-in potential in equilibrium: $$V_{bi,\\text{true}} = V_T \\ln\\!\\left(\\frac{N_A N_D}{n_i^2}\\right),$$ derived from equality of Fermi levels and far-field neutrality.\n2. The numerically determined built-in potential from the Poisson–Boltzmann solution as the potential difference across the computational domain: $$V_{bi,\\text{PB}} = \\phi(+L) - \\phi(-L),$$ where $L$ is the half-domain size chosen sufficiently large as described below.\n3. The depletion approximation predicts a piecewise constant space charge in the depletion region and zero elsewhere, with continuity of the electric field at the junction and vanishing field at the depletion edges. Using these constraints, derive the depletion approximation depletion widths on the $p$ and $n$ sides and the total depletion width $W_{\\text{DA}}$ in terms of $V_{bi}$, $N_A$, $N_D$, $q$, and $\\epsilon$.\n4. The operational depletion width $W_{\\text{PB}}$ from the Poisson–Boltzmann solution is defined as the minimal interval $[x_1, x_2]$ containing a fraction $\\alpha$ of the total built-in potential drop, with $\\alpha \\in (0,1)$. For a monotonic $\\phi(x)$, this is equivalently defined by choosing $x_1$ and $x_2$ such that $$\\phi(x_1) = \\phi(-L) + \\frac{1-\\alpha}{2} V_{bi,\\text{true}}, \\quad \\phi(x_2) = \\phi(+L) - \\frac{1-\\alpha}{2} V_{bi,\\text{true}},$$ and setting $$W_{\\text{PB}} = x_2 - x_1.$$\n\nYour program must:\n\n- Solve the normalized Poisson–Boltzmann equation $$\\frac{d^2 u(x)}{dx^2} = \\frac{q}{\\epsilon V_T}\\left[n_i\\left(e^{u(x)} - e^{-u(x)}\\right) - \\left(N_D(x) - N_A(x)\\right)\\right],$$ with Dirichlet boundary conditions $u(-L)$ and $u(+L)$ as given above, on a symmetric domain $x \\in [-L,L]$. Choose $$L = 10 \\max\\left(\\sqrt{\\frac{\\epsilon V_T}{q N_A}}, \\sqrt{\\frac{\\epsilon V_T}{q N_D}}\\right),$$ which is ten times the larger side’s Debye length, ensuring the boundaries are effectively quasi-neutral.\n- Use a uniform spatial grid with at least $N=2000$ points and Newton’s method on the second-order finite difference residual for the interior points until the infinity norm of the residual is below $10^{-10}$, or a maximum of $50$ iterations is reached.\n- Compute $V_{bi,\\text{true}}$, $V_{bi,\\text{PB}}$, $W_{\\text{DA}}$ (from the depletion approximation you derive), and $W_{\\text{PB}}$ (using the $\\alpha$-fraction definition with $\\alpha = 0.99$).\n- Report the absolute error in built-in potential $$\\Delta V_{bi} = \\left|V_{bi,\\text{true}} - V_{bi,\\text{PB}}\\right|$$ expressed in volts, and the absolute error in depletion width $$\\Delta W = \\left|W_{\\text{DA}} - W_{\\text{PB}}\\right|$$ expressed in meters.\n\nPhysical and numerical units:\n\n- Densities $N_A$, $N_D$, and $n_i$ must be in $\\mathrm{m}^{-3}$.\n- Temperature $T$ must be in $\\mathrm{K}$.\n- Permittivity is $\\epsilon = \\epsilon_r \\epsilon_0$ with $\\epsilon_0$ in $\\mathrm{F/m}$ and $\\epsilon_r$ unitless.\n- The computed $V_{bi}$ must be expressed in volts and $W$ in meters.\n\nTest suite:\n\nUse the following four test cases to cover a general case, near-intrinsic cases, and a boundary case:\n\n1. $\\epsilon_r = 11.7$, $T = 300$, $n_i = 1.0 \\times 10^{16}$, $N_A = 2.0 \\times 10^{16}$, $N_D = 5.0 \\times 10^{16}$, $\\alpha = 0.99$.\n2. $\\epsilon_r = 11.7$, $T = 300$, $n_i = 1.0 \\times 10^{16}$, $N_A = 1.2 \\times 10^{16}$, $N_D = 1.3 \\times 10^{16}$, $\\alpha = 0.99$.\n3. $\\epsilon_r = 11.7$, $T = 300$, $n_i = 1.0 \\times 10^{16}$, $N_A = 1.0 \\times 10^{16}$, $N_D = 1.0 \\times 10^{16}$, $\\alpha = 0.99$.\n4. $\\epsilon_r = 20.0$, $T = 300$, $n_i = 5.0 \\times 10^{15}$, $N_A = 5.0 \\times 10^{16}$, $N_D = 1.1 \\times 10^{16}$, $\\alpha = 0.99$.\n\nFinal output format:\n\nYour program should produce a single line of output containing the results as a comma-separated flat list of floats in the following order: $$[\\Delta V_{bi}^{(1)}, \\Delta W^{(1)}, \\Delta V_{bi}^{(2)}, \\Delta W^{(2)}, \\Delta V_{bi}^{(3)}, \\Delta W^{(3)}, \\Delta V_{bi}^{(4)}, \\Delta W^{(4)}],$$ where the superscript $(k)$ denotes the $k$-th test case in the order above. The units must be volts for $\\Delta V_{bi}$ and meters for $\\Delta W$, with values expressed as decimal floats.",
            "solution": "The problem requires the numerical solution of the one-dimensional Poisson-Boltzmann equation for a $p$-$n$ junction and a comparison of key parameters—specifically, the built-in potential and depletion width—with the analytical results from the depletion approximation. The problem is scientifically grounded and well-posed, providing a substantive exercise in computational semiconductor physics.\n\nA critical observation is that the problem prescribes Dirichlet boundary conditions for the normalized potential, $u(\\pm L)$, using the analytical far-field expressions. This means the potential drop across the simulation domain, $V_{bi,\\text{PB}} = \\phi(+L) - \\phi(-L)$, is fixed to be equal to the theoretical built-in potential, $V_{bi,\\text{true}} = V_T \\ln(N_A N_D / n_i^2)$. Consequently, the absolute error in the built-in potential, $\\Delta V_{bi} = |V_{bi,\\text{true}} - V_{bi,\\text{PB}}|$, will be identically zero by construction. While this simplifies one aspect of the problem, the core challenge remains: to numerically determine the potential profile $\\phi(x)$ and from it, the operational depletion width $W_{\\text{PB}}$, which is a non-trivial task.\n\nThe solution proceeds in three main stages:\n1.  Derivation of the depletion width under the depletion approximation, $W_{\\text{DA}}$.\n2.  Formulation of the numerical method to solve the Poisson-Boltzmann boundary value problem.\n3.  Calculation of the operational depletion width $W_{\\text{PB}}$ and the required error metrics.\n\n**1. Depletion Approximation Width ($W_{\\text{DA}}$)**\n\nThe depletion approximation posits a region, $[-x_p, x_n]$, depleted of free carriers, where the space charge density $\\rho(x)$ is determined solely by the ionized dopant concentrations:\n$$\n\\rho(x) = \n\\begin{cases} \n-q N_A  \\text{for } -x_p  x  0 \\\\\n+q N_D  \\text{for } 0  x  x_n \\\\\n0  \\text{otherwise}\n\\end{cases}\n$$\nGlobal charge neutrality requires the total uncompensated charge on both sides of the junction to be equal in magnitude:\n$$q N_A x_p = q N_D x_n \\quad (1)$$\nIntegrating Poisson's equation, $\\frac{dE}{dx} = \\frac{\\rho(x)}{\\epsilon}$, with the boundary condition $E(-\\infty) = 0$, yields the electric field $E(x)$. The built-in potential $V_{bi}$ is the total potential drop across the junction, obtained by integrating the electric field: $V_{bi} = -\\int_{-x_p}^{x_n} E(x) dx$. This integral corresponds to the area of the triangular-shaped electric field profile:\n$$V_{bi} = \\frac{1}{2} (x_p + x_n) |E_{max}|$$\nwhere $|E_{max}| = |E(0)| = \\frac{q N_A x_p}{\\epsilon} = \\frac{q N_D x_n}{\\epsilon}$.\nLet the total depletion width be $W_{\\text{DA}} = x_p + x_n$. Using equation $(1)$, we can express $x_p$ and $x_n$ in terms of $W_{\\text{DA}}$:\n$$x_p = W_{\\text{DA}} \\frac{N_D}{N_A + N_D}, \\quad x_n = W_{\\text{DA}} \\frac{N_A}{N_A + N_D}$$\nSubstituting $x_p$ into the expression for $V_{bi}$:\n$$V_{bi} = \\frac{1}{2} W_{\\text{DA}} \\left(\\frac{q N_A}{\\epsilon} x_p\\right) = \\frac{1}{2} W_{\\text{DA}} \\frac{q N_A}{\\epsilon} \\left(W_{\\text{DA}} \\frac{N_D}{N_A + N_D}\\right) = \\frac{q}{2\\epsilon} \\frac{N_A N_D}{N_A + N_D} W_{\\text{DA}}^2$$\nSolving for $W_{\\text{DA}}$ and using the theoretical built-in potential $V_{bi,\\text{true}}$ for $V_{bi}$, we arrive at the formula:\n$$W_{\\text{DA}} = \\sqrt{\\frac{2\\epsilon V_{bi,\\text{true}}}{q} \\left(\\frac{N_A + N_D}{N_A N_D}\\right)} = \\sqrt{\\frac{2\\epsilon V_{bi,\\text{true}}}{q} \\left(\\frac{1}{N_A} + \\frac{1}{N_D}\\right)}$$\n\n**2. Numerical Solution of the Poisson-Boltzmann Equation**\n\nThe problem requires solving the normalized Poisson-Boltzmann equation on a domain $x \\in [-L, L]$:\n$$\\frac{d^2 u(x)}{dx^2} = \\frac{q}{\\epsilon V_T}\\left[2n_i \\sinh(u(x)) - C(x)\\right]$$\nwhere $C(x) = N_D(x) - N_A(x)$ is the net doping concentration, and $u(x) = \\phi(x)/V_T$. This is a nonlinear second-order boundary value problem. We discretize the domain into $N+1$ points $x_j$ with uniform spacing $\\Delta x$, and approximate the second derivative using a second-order central difference scheme:\n$$\\frac{u_{j-1} - 2u_j + u_{j+1}}{\\Delta x^2} - \\frac{2qn_i}{\\epsilon V_T}\\sinh(u_j) + \\frac{qC(x_j)}{\\epsilon V_T} = 0$$\nThis yields a system of $N-1$ nonlinear equations for the unknown potential values $u_j$ at the interior grid points ($j=1, \\dots, N-1$). The values at the boundaries, $u_0 = u(-L)$ and $u_N = u(L)$, are fixed by the Dirichlet conditions:\n$$u_0 = -\\ln(N_A/n_i), \\quad u_N = \\ln(N_D/n_i)$$\nThis system of equations, $\\mathbf{F}(\\mathbf{U}) = \\mathbf{0}$, where $\\mathbf{U} = [u_1, \\dots, u_{N-1}]^T$, is solved using Newton's method. Starting with an initial guess $\\mathbf{U}^{(0)}$ (a linear profile between boundary values), the solution is iteratively refined:\n$$\\mathbf{U}^{(k+1)} = \\mathbf{U}^{(k)} - \\mathbf{J}(\\mathbf{U}^{(k)})^{-1} \\mathbf{F}(\\mathbf{U}^{(k)})$$\nwhere $\\mathbf{J}$ is the Jacobian matrix of $\\mathbf{F}$. The elements of the Jacobian, $J_{ij} = \\partial F_i / \\partial u_j$, are:\n$$\nJ_{ij} = \n\\begin{cases} \n1/\\Delta x^2  \\text{if } j = i \\pm 1 \\\\\n-2/\\Delta x^2 - \\frac{2qn_i}{\\epsilon V_T}\\cosh(u_i)  \\text{if } j = i \\\\\n0  \\text{otherwise}\n\\end{cases}\n$$\nThe resulting linear system $\\mathbf{J} \\Delta\\mathbf{U} = -\\mathbf{F}$ is solved in each iteration for the update $\\Delta\\mathbf{U}$. The Jacobian matrix is tridiagonal, allowing for an efficient solution using sparse linear algebra routines. The iteration continues until the infinity norm of the residual vector $\\mathbf{F}$ falls below a tolerance of $10^{-10}$.\n\n**3. Calculation of Outputs**\n\nAfter the numerical solution for $u(x)$ has converged, the potential $\\phi(x) = V_T u(x)$ is known at each grid point. The required outputs are then calculated as follows:\n- **$V_{bi,\\text{true}}$ and $V_{bi,\\text{PB}}$**: $V_{bi,\\text{true}} = V_T \\ln(N_A N_D/n_i^2)$ is calculated directly. As established, $V_{bi,\\text{PB}} = \\phi(L) - \\phi(-L)$ is equal to $V_{bi,\\text{true}}$ because of the prescribed boundary conditions. Thus, $\\Delta V_{bi} = 0$.\n- **$W_{\\text{DA}}$**: Calculated using the formula derived in part 1.\n- **$W_{\\text{PB}}$**: The operational width is found by locating the positions $x_1$ and $x_2$ where the potential reaches specific fractions of its total drop. We must find $x_1$ and $x_2$ such that:\n$$\\phi(x_1) = \\phi(-L) + \\frac{1-\\alpha}{2} V_{bi,\\text{true}}$$\n$$\\phi(x_2) = \\phi(+L) - \\frac{1-\\alpha}{2} V_{bi,\\text{true}}$$\nSince the discrete solution $\\phi(x_j)$ is known, linear interpolation is used on the $(\\phi_j, x_j)$ data to find the precise $x_1$ and $x_2$ corresponding to these target potential values. The width is then $W_{\\text{PB}} = x_2 - x_1$.\n- **$\\Delta W$**: The absolute error in the depletion width is $\\Delta W = |W_{\\text{DA}} - W_{\\text{PB}}|$.\n\nFor the special case where $N_A = N_D = n_i$, there is no junction. The semiconductor is homogeneous and intrinsic. In this case, $V_{bi,\\text{true}} = 0$, leading to $W_{\\text{DA}} = 0$. The numerical boundary conditions become $u(\\pm L)=0$, and the trivial solution is $u(x)=0$ for all $x$. This yields $V_{bi,\\text{PB}} = 0$. The primary definition of $W_{\\text{PB}}$ as the \"minimal interval\" containing a fraction of a zero potential drop implies $W_{\\text{PB}}=0$. Therefore, for this case, both $\\Delta V_{bi}$ and $\\Delta W$ are zero.",
            "answer": "[0.000000000000e+00,1.111818274640e-07,0.000000000000e+00,2.228221808603e-07,0.000000000000e+00,0.000000000000e+00,0.000000000000e+00,1.956891465224e-07]"
        }
    ]
}