{
    "hands_on_practices": [
        {
            "introduction": "无力场的一个基本构建单元是傅里叶模式。本练习将指导你通过一个简单的单傅里叶模式来构建一个无力磁场，并动手验证其满足无散和无力的条件。这个过程清晰地揭示了场的空间波数$\\mathbf{k}$如何直接决定其无力参数$\\alpha$。",
            "id": "4216010",
            "problem": "考虑一个电中性的、理想导电的磁化等离子体，在磁流体力学（MHD）的静磁极限下，其磁场 $\\mathbf{B}(\\mathbf{x})$ 满足 $\\nabla \\cdot \\mathbf{B} = 0$，电流密度由 $\\mu_{0} \\mathbf{J} = \\nabla \\times \\mathbf{B}$ 给出，其中 $\\mu_{0}$ 是国际单位制（SI）中自由空间的磁导率。在一个笛卡尔周期性域中，设磁场由具有非零波矢量 $\\mathbf{k} = (k_{x}, k_{y}, k_{z})$ 的单个傅里叶模式表示。定义单位矢量 $\\hat{\\mathbf{k}} = \\mathbf{k} / |\\mathbf{k}|$，并设 $\\hat{\\mathbf{e}}_{1}$ 和 $\\hat{\\mathbf{e}}_{2}$ 为任意两个与 $\\hat{\\mathbf{k}}$ 正交的标准正交单位矢量，其选择方式使得 $\\{\\hat{\\mathbf{e}}_{1}, \\hat{\\mathbf{e}}_{2}, \\hat{\\mathbf{k}}\\}$ 构成一个右手标架。\n\n通过以下方式构造一个具有单个傅里叶模式的实值磁场：\n$$\n\\mathbf{B}(\\mathbf{x}) = B_{0} \\left[ \\hat{\\mathbf{e}}_{1} \\cos(\\mathbf{k} \\cdot \\mathbf{x}) - \\hat{\\mathbf{e}}_{2} \\sin(\\mathbf{k} \\cdot \\mathbf{x}) \\right],\n$$\n其中 $B_{0}$ 是一个实常数振幅。从静磁麦克斯韦方程组和无力场的定义出发，解析地验证该场是无散场和比例常数恒定的无力场，即满足\n$$\n\\nabla \\times \\mathbf{B} = \\alpha \\, \\mathbf{B},\n$$\n对于一个与 $\\mathbf{x}$ 无关的常数 $\\alpha$。确定此常数 $\\alpha$ 关于 $k_{x}$、$k_{y}$ 和 $k_{z}$ 的解析表达式，并验证 $\\mathbf{J} \\times \\mathbf{B} = \\mathbf{0}$ 恒成立。以国际单位制（SI）中的逆米为单位表示最终的 $\\alpha$。你的最终答案必须是单个闭式表达式。",
            "solution": "该问题陈述经评估为有效。它基于已建立的磁流体力学（MHD）和麦克斯韦方程组原理，具有科学依据。所有术语都有明确定义，且解析任务是自洽的，在数学上是一致的。在单模傅里叶分析的理论背景下，不存在矛盾、歧义或不切实际的物理假设。\n\n我们的任务是验证给定磁场的几个性质：\n$$\n\\mathbf{B}(\\mathbf{x}) = B_{0} \\left[ \\hat{\\mathbf{e}}_{1} \\cos(\\mathbf{k} \\cdot \\mathbf{x}) - \\hat{\\mathbf{e}}_{2} \\sin(\\mathbf{k} \\cdot \\mathbf{x}) \\right]\n$$\n其中 $B_{0}$ 是一个常数振幅，$\\mathbf{k} = (k_{x}, k_{y}, k_{z})$ 是一个常数波矢量，$\\{\\hat{\\mathbf{e}}_{1}, \\hat{\\mathbf{e}}_{2}, \\hat{\\mathbf{k}}\\}$ 是一个右手标准正交基，且 $\\hat{\\mathbf{k}} = \\mathbf{k} / |\\mathbf{k}|$。矢量 $\\hat{\\mathbf{e}}_{1}$ 和 $\\hat{\\mathbf{e}}_{2}$ 是常矢量。\n\n首先，我们验证该场是无散的，即 $\\nabla \\cdot \\mathbf{B} = 0$。\n我们计算 $\\mathbf{B}(\\mathbf{x})$ 的散度：\n$$\n\\nabla \\cdot \\mathbf{B} = \\nabla \\cdot \\left( B_{0} \\left[ \\hat{\\mathbf{e}}_{1} \\cos(\\mathbf{k} \\cdot \\mathbf{x}) - \\hat{\\mathbf{e}}_{2} \\sin(\\mathbf{k} \\cdot \\mathbf{x}) \\right] \\right)\n$$\n使用矢量恒等式 $\\nabla \\cdot (f\\mathbf{A}) = (\\nabla f) \\cdot \\mathbf{A} + f(\\nabla \\cdot \\mathbf{A})$，并注意到 $\\hat{\\mathbf{e}}_{1}$ 和 $\\hat{\\mathbf{e}}_{2}$ 是常矢量（因此它们的散度为零），我们得到：\n$$\n\\nabla \\cdot \\mathbf{B} = B_{0} \\left[ \\hat{\\mathbf{e}}_{1} \\cdot \\left(\\nabla \\cos(\\mathbf{k} \\cdot \\mathbf{x})\\right) - \\hat{\\mathbf{e}}_{2} \\cdot \\left(\\nabla \\sin(\\mathbf{k} \\cdot \\mathbf{x})\\right) \\right]\n$$\n标量函数的梯度为：\n$$\n\\nabla \\cos(\\mathbf{k} \\cdot \\mathbf{x}) = -\\sin(\\mathbf{k} \\cdot \\mathbf{x}) \\nabla(\\mathbf{k} \\cdot \\mathbf{x}) = -\\mathbf{k} \\sin(\\mathbf{k} \\cdot \\mathbf{x})\n$$\n$$\n\\nabla \\sin(\\mathbf{k} \\cdot \\mathbf{x}) = \\cos(\\mathbf{k} \\cdot \\mathbf{x}) \\nabla(\\mathbf{k} \\cdot \\mathbf{x}) = \\mathbf{k} \\cos(\\mathbf{k} \\cdot \\mathbf{x})\n$$\n将这些代入散度表达式：\n$$\n\\nabla \\cdot \\mathbf{B} = B_{0} \\left[ \\hat{\\mathbf{e}}_{1} \\cdot (-\\mathbf{k} \\sin(\\mathbf{k} \\cdot \\mathbf{x})) - \\hat{\\mathbf{e}}_{2} \\cdot (\\mathbf{k} \\cos(\\mathbf{k} \\cdot \\mathbf{x})) \\right]\n$$\n$$\n\\nabla \\cdot \\mathbf{B} = -B_{0} \\left[ (\\hat{\\mathbf{e}}_{1} \\cdot \\mathbf{k}) \\sin(\\mathbf{k} \\cdot \\mathbf{x}) + (\\hat{\\mathbf{e}}_{2} \\cdot \\mathbf{k}) \\cos(\\mathbf{k} \\cdot \\mathbf{x}) \\right]\n$$\n根据问题的定义，$\\hat{\\mathbf{e}}_{1}$ 和 $\\hat{\\mathbf{e}}_{2}$ 都与 $\\hat{\\mathbf{k}}$ 正交，因此也与 $\\mathbf{k}$ 正交。这意味着它们的点积为零：$\\hat{\\mathbf{e}}_{1} \\cdot \\mathbf{k} = 0$ 和 $\\hat{\\mathbf{e}}_{2} \\cdot \\mathbf{k} = 0$。\n因此，我们发现：\n$$\n\\nabla \\cdot \\mathbf{B} = -B_{0} [ (0) \\sin(\\mathbf{k} \\cdot \\mathbf{x}) + (0) \\cos(\\mathbf{k} \\cdot \\mathbf{x}) ] = 0\n$$\n该场确实是无散的，满足麦克斯韦方程组之一。\n\n接下来，我们验证该场是比例常数为 $\\alpha$ 的无力场，即满足 $\\nabla \\times \\mathbf{B} = \\alpha \\mathbf{B}$。我们计算 $\\mathbf{B}(\\mathbf{x})$ 的旋度：\n$$\n\\nabla \\times \\mathbf{B} = \\nabla \\times \\left( B_{0} \\left[ \\hat{\\mathbf{e}}_{1} \\cos(\\mathbf{k} \\cdot \\mathbf{x}) - \\hat{\\mathbf{e}}_{2} \\sin(\\mathbf{k} \\cdot \\mathbf{x}) \\right] \\right)\n$$\n使用矢量恒等式 $\\nabla \\times (f\\mathbf{A}) = (\\nabla f) \\times \\mathbf{A} + f(\\nabla \\times \\mathbf{A})$，并注意到 $\\hat{\\mathbf{e}}_{1}$ 和 $\\hat{\\mathbf{e}}_{2}$ 是常矢量（因此它们的旋度为零），我们得到：\n$$\n\\nabla \\times \\mathbf{B} = B_{0} \\left[ (\\nabla \\cos(\\mathbf{k} \\cdot \\mathbf{x})) \\times \\hat{\\mathbf{e}}_{1} - (\\nabla \\sin(\\mathbf{k} \\cdot \\mathbf{x})) \\times \\hat{\\mathbf{e}}_{2} \\right]\n$$\n代入我们之前求出的梯度：\n$$\n\\nabla \\times \\mathbf{B} = B_{0} \\left[ (-\\mathbf{k} \\sin(\\mathbf{k} \\cdot \\mathbf{x})) \\times \\hat{\\mathbf{e}}_{1} - (\\mathbf{k} \\cos(\\mathbf{k} \\cdot \\mathbf{x})) \\times \\hat{\\mathbf{e}}_{2} \\right]\n$$\n利用叉积的反交换律 $\\mathbf{a} \\times \\mathbf{b} = -(\\mathbf{b} \\times \\mathbf{a})$：\n$$\n\\nabla \\times \\mathbf{B} = B_{0} \\left[ \\sin(\\mathbf{k} \\cdot \\mathbf{x}) (\\hat{\\mathbf{e}}_{1} \\times \\mathbf{k}) + \\cos(\\mathbf{k} \\cdot \\mathbf{x}) (\\hat{\\mathbf{e}}_{2} \\times \\mathbf{k}) \\right]\n$$\n我们现在使用右手标准正交标架 $\\{\\hat{\\mathbf{e}}_{1}, \\hat{\\mathbf{e}}_{2}, \\hat{\\mathbf{k}}\\}$ 的性质，这意味着 $\\hat{\\mathbf{e}}_{1} \\times \\hat{\\mathbf{e}}_{2} = \\hat{\\mathbf{k}}$，$\\hat{\\mathbf{e}}_{2} \\times \\hat{\\mathbf{k}} = \\hat{\\mathbf{e}}_{1}$，以及 $\\hat{\\mathbf{k}} \\times \\hat{\\mathbf{e}}_{1} = \\hat{\\mathbf{e}}_{2}$。\n设 $k=|\\mathbf{k}|$。则 $\\mathbf{k} = k \\hat{\\mathbf{k}}$。\n$$\n\\hat{\\mathbf{e}}_{1} \\times \\mathbf{k} = \\hat{\\mathbf{e}}_{1} \\times (k \\hat{\\mathbf{k}}) = k (\\hat{\\mathbf{e}}_{1} \\times \\hat{\\mathbf{k}}) = k (-\\hat{\\mathbf{e}}_{2}) = -|\\mathbf{k}| \\hat{\\mathbf{e}}_{2}\n$$\n$$\n\\hat{\\mathbf{e}}_{2} \\times \\mathbf{k} = \\hat{\\mathbf{e}}_{2} \\times (k \\hat{\\mathbf{k}}) = k (\\hat{\\mathbf{e}}_{2} \\times \\hat{\\mathbf{k}}) = k (\\hat{\\mathbf{e}}_{1}) = |\\mathbf{k}| \\hat{\\mathbf{e}}_{1}\n$$\n将这些结果代入旋度表达式：\n$$\n\\nabla \\times \\mathbf{B} = B_{0} \\left[ \\sin(\\mathbf{k} \\cdot \\mathbf{x}) (-|\\mathbf{k}| \\hat{\\mathbf{e}}_{2}) + \\cos(\\mathbf{k} \\cdot \\mathbf{x}) (|\\mathbf{k}| \\hat{\\mathbf{e}}_{1}) \\right]\n$$\n提出常数 $|\\mathbf{k}|$:\n$$\n\\nabla \\times \\mathbf{B} = |\\mathbf{k}| B_{0} \\left[ \\hat{\\mathbf{e}}_{1} \\cos(\\mathbf{k} \\cdot \\mathbf{x}) - \\hat{\\mathbf{e}}_{2} \\sin(\\mathbf{k} \\cdot \\mathbf{x}) \\right]\n$$\n括号中的表达式正是 $\\mathbf{B}(\\mathbf{x})$ 的定义。因此：\n$$\n\\nabla \\times \\mathbf{B} = |\\mathbf{k}| \\mathbf{B}(\\mathbf{x})\n$$\n这证实了该磁场具有 $\\nabla \\times \\mathbf{B} = \\alpha \\mathbf{B}$ 的形式，其中比例常数 $\\alpha$ 由波矢量的模给出：\n$$\n\\alpha = |\\mathbf{k}|\n$$\n用其笛卡尔分量表示为：\n$$\n\\alpha = \\sqrt{k_{x}^{2} + k_{y}^{2} + k_{z}^{2}}\n$$\n最终答案 $\\alpha$ 应以逆米（SI）为单位的陈述证实了我们的判断，因为三角函数的自变量 $\\mathbf{k} \\cdot \\mathbf{x}$ 必须是无量纲的。由于 $\\mathbf{x}$ 的单位是米，$\\mathbf{k}$ 的单位必须是逆米。\n\n最后，我们验证洛伦兹力密度 $\\mathbf{J} \\times \\mathbf{B}$ 恒为零。\n根据静磁极限下的安培定律，$\\mu_{0} \\mathbf{J} = \\nabla \\times \\mathbf{B}$。\n洛伦兹力密度为：\n$$\n\\mathbf{J} \\times \\mathbf{B} = \\frac{1}{\\mu_{0}} (\\nabla \\times \\mathbf{B}) \\times \\mathbf{B}\n$$\n代入我们的结果 $\\nabla \\times \\mathbf{B} = \\alpha \\mathbf{B}$：\n$$\n\\mathbf{J} \\times \\mathbf{B} = \\frac{1}{\\mu_{0}} (\\alpha \\mathbf{B}) \\times \\mathbf{B} = \\frac{\\alpha}{\\mu_{0}} (\\mathbf{B} \\times \\mathbf{B})\n$$\n任何矢量与自身的叉积为零矢量，$\\mathbf{B} \\times \\mathbf{B} = \\mathbf{0}$。因此，\n$$\n\\mathbf{J} \\times \\mathbf{B} = \\mathbf{0}\n$$\n此式恒成立，证实了该场是无力场。常数 $\\alpha$ 就是已确定的波矢量的模。",
            "answer": "$$\n\\boxed{\\sqrt{k_{x}^{2} + k_{y}^{2} + k_{z}^{2}}}\n$$"
        },
        {
            "introduction": "理论模型与观测数据之间总存在差距，部分原因在于仪器的分辨率有限。本练习模拟了这一现实挑战，通过对一个“真实”磁场应用低通滤波器，来研究有限分辨率如何影响我们推断的磁能和磁螺度等物理量。这为你将来处理和解读来自太阳等离子体的实际观测数据提供了宝贵的实践经验。",
            "id": "4216068",
            "problem": "考虑一个边长为 $L = 2\\pi$ 的周期性立方体域，在无量纲单位下，自由空间的磁导率为 $\\mu_0 = 1$。在该域中，真实磁场 $\\mathbf{B}_{\\text{true}}(\\mathbf{x})$ 被构造为旋度算子的两个精确本征函数（Arnold–Beltrami–Childress 场）的叠加，每个本征函数都独立满足无力条件。设这两个分量场为 $\\mathbf{B}_1(\\mathbf{x})$ 和 $\\mathbf{B}_2(\\mathbf{x})$，对于 $i \\in \\{1,2\\}$ 定义如下\n$$\n\\mathbf{B}_i(x,y,z) = A_i\\left(\\sin(k_i z) + \\cos(k_i y),\\ \\sin(k_i x) + \\cos(k_i z),\\ \\sin(k_i y) + \\cos(k_i x)\\right),\n$$\n振幅为 $A_1$ 和 $A_2$，波数为 $k_1$ 和 $k_2$。每个 $\\mathbf{B}_i$ 都满足线性无力场条件，即 $\\nabla \\times \\mathbf{B}_i = \\alpha_i \\mathbf{B}_i$，其中 $\\alpha_i = k_i$ 为常数，因此代表一个 Beltrami 场。总的真实场为\n$$\n\\mathbf{B}_{\\text{true}}(\\mathbf{x}) = \\mathbf{B}_1(\\mathbf{x}) + \\mathbf{B}_2(\\mathbf{x}).\n$$\n\n为了模拟太阳活动区中使用非线性无力场（NLFFF）模型进行的观测外推，以及未解析的小尺度电流的影响，假设测量和反演在傅里叶空间中充当一个各向同性的高斯低通滤波器。该滤波器将波数大小为 $k$ 的每个傅里叶模式乘以衰减因子\n$$\nS(k;\\sigma) = \\exp\\!\\left(-\\frac{(k\\,\\sigma)^2}{2}\\right),\n$$\n其中 $\\sigma$ 是有效分辨率长度尺度。因为每个 $\\mathbf{B}_i$ 都是单波数的 Beltrami 模式，所以滤波后的分量场为\n$$\n\\mathbf{B}_i^{(\\sigma)}(\\mathbf{x}) = S(k_i;\\sigma)\\,\\mathbf{B}_i(\\mathbf{x}),\n$$\n滤波后的总场为 $\\mathbf{B}_{\\text{inf}}(\\mathbf{x}) = \\mathbf{B}_1^{(\\sigma)}(\\mathbf{x}) + \\mathbf{B}_2^{(\\sigma)}(\\mathbf{x})$，它代表了从分辨率为 $\\sigma$ 的数据通过 NLFFF 建模推断出的场。\n\n在这种周期性、零净通量的设置中，与周期性边界条件一致的参考势场是零场，因此磁自由能等于总磁能。设总磁能定义为\n$$\nE = \\int_V \\frac{\\mathbf{B}^2}{2\\mu_0}\\,dV,\n$$\n并设周期域中的（规范不变的）磁螺旋度为\n$$\nH = \\int_V \\mathbf{A}\\cdot \\mathbf{B}\\,dV,\n$$\n其中 $\\mathbf{A}$ 是库仑规范下的磁矢量势，满足 $\\nabla \\cdot \\mathbf{A} = 0$ 和 $\\nabla \\times \\mathbf{A} = \\mathbf{B}$。\n\n您的任务是为每个指定的测试案例计算以下比率\n$$\nr_E(\\sigma;A_1,A_2) = \\frac{E_{\\text{inf}}(\\sigma;A_1,A_2)}{E_{\\text{true}}(A_1,A_2)},\\qquad\nr_H(\\sigma;A_1,A_2) = \\frac{H_{\\text{inf}}(\\sigma;A_1,A_2)}{H_{\\text{true}}(A_1,A_2)},\n$$\n其中 $E_{\\text{true}}$ 和 $H_{\\text{true}}$ 由 $\\mathbf{B}_{\\text{true}}$ 计算得出，而 $E_{\\text{inf}}$ 和 $H_{\\text{inf}}$ 由 $\\mathbf{B}_{\\text{inf}}$ 计算得出。您必须使用给定的无力场定义和高斯滤波描述，通过对边长为 $L = 2\\pi$ 的周期性立方体进行精确的体积积分，从第一性原理出发构建这些量。\n\n使用以下固定参数：\n- $L = 2\\pi$,\n- $\\mu_0 = 1$,\n- $k_1 = 1$,\n- $k_2 = 4$.\n\n使用以下测试套件，每个测试案例为一个三元组 $(\\sigma, A_1, A_2)$：\n- 案例 $1$：$(0.0,\\ 1.0,\\ 0.5)$，\n- 案例 $2$：$(0.2,\\ 1.0,\\ 0.5)$，\n- 案例 $3$：$(0.5,\\ 1.0,\\ 0.5)$，\n- 案例 $4$：$(1.0,\\ 1.0,\\ 0.5)$，\n- 案例 $5$：$(0.01,\\ 1.0,\\ 0.0)$，\n- 案例 $6$：$(0.5,\\ 0.0,\\ 1.0)$。\n\n所有答案必须是无量纲的浮点数。您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表。列表中的每个元素对应一个测试案例，并且本身是一个列表 $[r_E,r_H]$，两个条目均为浮点数。例如，输出格式必须为\n$$\n\\left[\\left[r_{E,1},r_{H,1}\\right],\\left[r_{E,2},r_{H,2}\\right],\\dots\\right].\n$$",
            "solution": "该问题要求计算“真实”磁场 $\\mathbf{B}_{\\text{true}}$ 与经过滤波的或“推断”的磁场 $\\mathbf{B}_{\\text{inf}}$ 之间的磁能和磁螺旋度的比率。这些场定义在一个边长为 $L = 2\\pi$ 的周期性立方体域中。磁导率给定为 $\\mu_0 = 1$。\n\n真实磁场是两个无力本征场 $\\mathbf{B}_{\\text{true}} = \\mathbf{B}_1 + \\mathbf{B}_2$ 的线性叠加。每个分量场 $\\mathbf{B}_i$ 都是一个 Arnold–Beltrami–Childress (ABC) 场，它是旋度算子的本征函数：\n$$\n\\nabla \\times \\mathbf{B}_i = k_i \\mathbf{B}_i\n$$\n其中 $k_i$ 是波数。这些场也是无散的，$\\nabla \\cdot \\mathbf{B}_i = 0$，这是磁场的必要条件。波数固定为 $k_1 = 1$ 和 $k_2 = 4$。\n\n推断场 $\\mathbf{B}_{\\text{inf}}$ 是通过对 $\\mathbf{B}_{\\text{true}}$ 应用各向同性高斯低通滤波器得到的。由于 $\\mathbf{B}_1$ 和 $\\mathbf{B}_2$ 是单波数模式，滤波操作简化为将每个分量乘以一个因子 $S(k_i; \\sigma)$：\n$$\nS(k; \\sigma) = \\exp\\left(-\\frac{(k\\sigma)^2}{2}\\right)\n$$\n因此，推断场为 $\\mathbf{B}_{\\text{inf}} = S(k_1; \\sigma)\\mathbf{B}_1 + S(k_2; \\sigma)\\mathbf{B}_2$。为简洁起见，我们记作 $S_i = S(k_i; \\sigma)$。\n\n我们的任务是求出比率 $r_E = E_{\\text{inf}}/E_{\\text{true}}$ 和 $r_H = H_{\\text{inf}}/H_{\\text{true}}$。\n\n首先，我们计算总磁能，定义为 $E = \\int_V \\frac{\\mathbf{B}^2}{2\\mu_0} dV$。域的体积为 $V = L^3 = (2\\pi)^3$。\n\n真实场的能量为：\n$$\nE_{\\text{true}} = \\frac{1}{2\\mu_0} \\int_V \\mathbf{B}_{\\text{true}}^2 dV = \\frac{1}{2\\mu_0} \\int_V (\\mathbf{B}_1 + \\mathbf{B}_2)^2 dV = \\frac{1}{2\\mu_0} \\int_V (\\mathbf{B}_1^2 + \\mathbf{B}_2^2 + 2\\mathbf{B}_1 \\cdot \\mathbf{B}_2) dV\n$$\n场 $\\mathbf{B}_1$ 和 $\\mathbf{B}_2$ 的一个关键性质是它们在周期域上的正交性。这些场由诸如 $\\sin(k_i x)$ 和 $\\cos(k_i y)$ 的三角函数组成。交叉项 $\\mathbf{B}_1 \\cdot \\mathbf{B}_2$ 由具有不同波数（$k_1=1$, $k_2=4$）的这些函数的乘积构成。由于 $k_1$ 和 $k_2$ 是不同的整数，任何此类乘积在周期 $[0, 2\\pi]$ 上的积分都为零。例如，$\\int_0^{2\\pi} \\sin(k_1 x) \\cos(k_2 x) dx = 0$。因此，交叉项的积分为零：\n$$\n\\int_V \\mathbf{B}_1 \\cdot \\mathbf{B}_2 dV = 0\n$$\n因此，总能量是各个场能量的总和：\n$$\nE_{\\text{true}} = \\frac{1}{2\\mu_0} \\left( \\int_V \\mathbf{B}_1^2 dV + \\int_V \\mathbf{B}_2^2 dV \\right)\n$$\n我们需要计算 $\\int_V \\mathbf{B}_i^2 dV$。$\\mathbf{B}_i$ 的模的平方为：\n$$\n\\mathbf{B}_i^2 = A_i^2 \\left[ (\\sin(k_i z) + \\cos(k_i y))^2 + (\\sin(k_i x) + \\cos(k_i z))^2 + (\\sin(k_i y) + \\cos(k_i x))^2 \\right]\n$$\n展开后，在体积 $V = [0, 2\\pi]^3$ 上积分时，交叉乘积项（如 $\\sin(k_i z)\\cos(k_i y)$）的积分为零。而平方项（如 $\\sin^2(k_i z)$ 或 $\\cos^2(k_i y)$）在体积上的积分均为 $V/2$。由于共有6个这样的平方项，它们的总积分是 $6 \\times (V/2) = 3V$。因此：\n$$\n\\int_V \\mathbf{B}_i^2 dV = A_i^2 (3V)\n$$\n将此代入 $E_{\\text{true}}$ 的表达式中：\n$$\nE_{\\text{true}} = \\frac{1}{2\\mu_0} (3A_1^2 V + 3A_2^2 V) = \\frac{3V}{2\\mu_0} (A_1^2 + A_2^2)\n$$\n推断场 $E_{\\text{inf}}$ 的能量计算方法类似：\n$$\n\\mathbf{B}_{\\text{inf}} = S_1 \\mathbf{B}_1 + S_2 \\mathbf{B}_2\n$$\n$$\nE_{\\text{inf}} = \\frac{1}{2\\mu_0} \\int_V (S_1 \\mathbf{B}_1 + S_2 \\mathbf{B}_2)^2 dV = \\frac{1}{2\\mu_0} \\int_V (S_1^2 \\mathbf{B}_1^2 + S_2^2 \\mathbf{B}_2^2 + 2 S_1 S_2 \\mathbf{B}_1 \\cdot \\mathbf{B}_2) dV\n$$\n再次利用正交性，交叉项积分为零。\n$$\nE_{\\text{inf}} = \\frac{1}{2\\mu_0} \\left( S_1^2 \\int_V \\mathbf{B}_1^2 dV + S_2^2 \\int_V \\mathbf{B}_2^2 dV \\right) = \\frac{3V}{2\\mu_0} (S_1^2 A_1^2 + S_2^2 A_2^2)\n$$\n因此，能量比 $r_E$ 为：\n$$\nr_E = \\frac{E_{\\text{inf}}}{E_{\\text{true}}} = \\frac{\\frac{3V}{2\\mu_0} (S_1^2 A_1^2 + S_2^2 A_2^2)}{\\frac{3V}{2\\mu_0} (A_1^2 + A_2^2)} = \\frac{S_1^2 A_1^2 + S_2^2 A_2^2}{A_1^2 + A_2^2}\n$$\n代入 $S_i^2 = \\exp(-(k_i \\sigma)^2)$：\n$$\nr_E = \\frac{\\exp(-(k_1\\sigma)^2)A_1^2 + \\exp(-(k_2\\sigma)^2)A_2^2}{A_1^2 + A_2^2}\n$$\n\n接下来，我们计算磁螺旋度 $H = \\int_V \\mathbf{A} \\cdot \\mathbf{B} dV$，其中 $\\mathbf{B} = \\nabla \\times \\mathbf{A}$ 且 $\\nabla \\cdot \\mathbf{A} = 0$（库仑规范）。对于满足 $\\nabla \\times \\mathbf{B}_i = k_i \\mathbf{B}_i$ 且 $k_i \\ne 0$ 的 Beltrami 场，库仑规范下的矢量势就是 $\\mathbf{A}_i = \\mathbf{B}_i / k_i$。\n真实场 $\\mathbf{B}_{\\text{true}} = \\mathbf{B}_1 + \\mathbf{B}_2$ 的矢量势为 $\\mathbf{A}_{\\text{true}} = \\mathbf{A}_1 + \\mathbf{A}_2 = \\frac{\\mathbf{B}_1}{k_1} + \\frac{\\mathbf{B}_2}{k_2}$。\n真实场的螺旋度为：\n$$\nH_{\\text{true}} = \\int_V \\mathbf{A}_{\\text{true}} \\cdot \\mathbf{B}_{\\text{true}} dV = \\int_V \\left(\\frac{\\mathbf{B}_1}{k_1} + \\frac{\\mathbf{B}_2}{k_2}\\right) \\cdot (\\mathbf{B}_1 + \\mathbf{B}_2) dV\n$$\n$$\nH_{\\text{true}} = \\int_V \\left(\\frac{1}{k_1}\\mathbf{B}_1^2 + \\frac{1}{k_2}\\mathbf{B}_2^2 + \\left(\\frac{1}{k_1}+\\frac{1}{k_2}\\right)\\mathbf{B}_1 \\cdot \\mathbf{B}_2\\right) dV\n$$\n利用正交性 $\\int_V \\mathbf{B}_1 \\cdot \\mathbf{B}_2 dV = 0$：\n$$\nH_{\\text{true}} = \\frac{1}{k_1}\\int_V \\mathbf{B}_1^2 dV + \\frac{1}{k_2}\\int_V \\mathbf{B}_2^2 dV = \\frac{3A_1^2 V}{k_1} + \\frac{3A_2^2 V}{k_2} = 3V\\left(\\frac{A_1^2}{k_1} + \\frac{A_2^2}{k_2}\\right)\n$$\n推断场 $\\mathbf{B}_{\\text{inf}} = S_1 \\mathbf{B}_1 + S_2 \\mathbf{B}_2$ 的矢量势为 $\\mathbf{A}_{\\text{inf}} = S_1 \\mathbf{A}_1 + S_2 \\mathbf{A}_2 = S_1 \\frac{\\mathbf{B}_1}{k_1} + S_2 \\frac{\\mathbf{B}_2}{k_2}$。\n推断场的螺旋度为：\n$$\nH_{\\text{inf}} = \\int_V \\mathbf{A}_{\\text{inf}} \\cdot \\mathbf{B}_{\\text{inf}} dV = \\int_V \\left(S_1\\frac{\\mathbf{B}_1}{k_1} + S_2\\frac{\\mathbf{B}_2}{k_2}\\right) \\cdot (S_1\\mathbf{B}_1 + S_2\\mathbf{B}_2) dV\n$$\n$$\nH_{\\text{inf}} = \\int_V \\left(\\frac{S_1^2}{k_1}\\mathbf{B}_1^2 + \\frac{S_2^2}{k_2}\\mathbf{B}_2^2 + S_1 S_2 \\left(\\frac{1}{k_1}+\\frac{1}{k_2}\\right)\\mathbf{B}_1 \\cdot \\mathbf{B}_2\\right) dV\n$$\n同样，交叉项积分为零。\n$$\nH_{\\text{inf}} = \\frac{S_1^2}{k_1}\\int_V \\mathbf{B}_1^2 dV + \\frac{S_2^2}{k_2}\\int_V \\mathbf{B}_2^2 dV = \\frac{3S_1^2 A_1^2 V}{k_1} + \\frac{3S_2^2 A_2^2 V}{k_2} = 3V\\left(\\frac{S_1^2 A_1^2}{k_1} + \\frac{S_2^2 A_2^2}{k_2}\\right)\n$$\n因此，螺旋度比 $r_H$ 为：\n$$\nr_H = \\frac{H_{\\text{inf}}}{H_{\\text{true}}} = \\frac{3V\\left(\\frac{S_1^2 A_1^2}{k_1} + \\frac{S_2^2 A_2^2}{k_2}\\right)}{3V\\left(\\frac{A_1^2}{k_1} + \\frac{A_2^2}{k_2}\\right)} = \\frac{\\frac{S_1^2 A_1^2}{k_1} + \\frac{S_2^2 A_2^2}{k_2}}{\\frac{A_1^2}{k_1} + \\frac{A_2^2}{k_2}}\n$$\n代入 $S_i^2 = \\exp(-(k_i \\sigma)^2)$：\n$$\nr_H = \\frac{\\frac{\\exp(-(k_1\\sigma)^2)A_1^2}{k_1} + \\frac{\\exp(-(k_2\\sigma)^2)A_2^2}{k_2}}{\\frac{A_1^2}{k_1} + \\frac{A_2^2}{k_2}}\n$$\n现在可以实现 $r_E$ 和 $r_H$ 的这些最终表达式，使用固定的参数 $k_1=1$ 和 $k_2=4$ 来求解给定的测试案例。由于至少有一个振幅非零，所有测试案例的分母都非零。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes the ratios of inferred to true magnetic energy (r_E) and helicity (r_H)\n    for a superposition of two force-free magnetic fields subjected to a Gaussian filter.\n    \"\"\"\n    # Define the fixed parameters from the problem statement.\n    k1 = 1.0\n    k2 = 4.0\n\n    # Define the test cases as a list of tuples (sigma, A1, A2).\n    test_cases = [\n        (0.0, 1.0, 0.5),    # Case 1\n        (0.2, 1.0, 0.5),    # Case 2\n        (0.5, 1.0, 0.5),    # Case 3\n        (1.0, 1.0, 0.5),    # Case 4\n        (0.01, 1.0, 0.0),   # Case 5\n        (0.5, 0.0, 1.0),    # Case 6\n    ]\n\n    results = []\n    \n    for case in test_cases:\n        sigma, A1, A2 = case\n        \n        # Calculate squared amplitudes\n        A1_sq = A1**2\n        A2_sq = A2**2\n        \n        # Calculate the squared filter response S_i^2 for each wavenumber.\n        # S(k; sigma) = exp(-(k*sigma)^2 / 2), so S^2 = exp(-(k*sigma)^2).\n        S1_sq = np.exp(-(k1 * sigma)**2)\n        S2_sq = np.exp(-(k2 * sigma)**2)\n        \n        # Calculate the energy ratio r_E.\n        # r_E = (S1^2 * A1^2 + S2^2 * A2^2) / (A1^2 + A2^2)\n        # The denominator (A1^2 + A2^2) is zero only if A1=A2=0,\n        # which is not the case in the test suite.\n        r_E_num = S1_sq * A1_sq + S2_sq * A2_sq\n        r_E_den = A1_sq + A2_sq\n        r_E = r_E_num / r_E_den\n        \n        # Calculate the helicity ratio r_H.\n        # r_H = (S1^2 * A1^2 / k1 + S2^2 * A2^2 / k2) / (A1^2 / k1 + A2^2 / k2)\n        # The denominator is zero only if A1=A2=0.\n        r_H_num = (S1_sq * A1_sq / k1) + (S2_sq * A2_sq / k2)\n        r_H_den = (A1_sq / k1) + (A2_sq / k2)\n        \n        # Handle the case where the denominator might be zero, although\n        # for the given test cases, this won't happen. If A1 and A2 are both zero,\n        # the field is zero, and the ratios would be undefined (0/0).\n        if r_H_den == 0:\n            # If the true helicity is zero, the ratio is ill-defined.\n            # This happens if A1=0 and A2=0. For a single-component field,\n            # this formula works. If there's a mix and the denominator is zero,\n            # it implies total helicity is 0. If the numerator is also 0, it's 1. \n            # If not, it could be infinity. Let's assume valid cases only.\n            # In this problem, k1, k2 > 0, so the denominator is 0 iff A1=A2=0.\n            # For Case 5 (A2=0) and Case 6 (A1=0), r_H_den is non-zero.\n            r_H = 1.0 if r_H_num == 0 else np.nan  # Fallback for 0/0 case\n        else:\n            r_H = r_H_num / r_H_den\n\n        results.append([r_E, r_H])\n\n    # Format the output string as a list of lists, e.g., [[rE1,rH1],[rE2,rH2],...]\n    # The map(str, ...) converts each sublist [r_E, r_H] into its string representation.\n    output_str = f\"[{','.join(map(str, results))}]\"\n\n    # Final print statement in the exact required format.\n    print(output_str)\n\nsolve()\n```"
        }
    ]
}