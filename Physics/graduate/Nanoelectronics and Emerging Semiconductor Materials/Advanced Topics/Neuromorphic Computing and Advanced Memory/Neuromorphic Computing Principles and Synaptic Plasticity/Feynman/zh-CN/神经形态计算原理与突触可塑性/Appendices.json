{
    "hands_on_practices": [
        {
            "introduction": "脉冲时间依赖可塑性（Spike-Timing-Dependent Plasticity, STDP）是模拟大脑学习方式的关键机制，其核心在于突触前后神经元脉冲的精确时间差。本练习将超越STDP的现象学描述，要求您从描述突触前后“资格迹”（eligibility traces）的微分方程出发，推导出权重更新的解析形式。通过这个过程，您将深入理解其动态计算基础，并掌握如何将生物学原理转化为可计算的模型，这是神经形态工程中的一项核心技能 。",
            "id": "4290330",
            "problem": "一个由二氧化钛（$\\mathrm{TiO_2}$）堆栈制成的两端金属氧化物忆阻突触表现出脉冲时间依赖可塑性（Spike-Timing-Dependent Plasticity, STDP），它是通过时间 $t_{\\text{pre}}$ 的突触前电压脉冲和时间 $t_{\\text{post}}$ 的突触后反向传播脉冲的重叠实现的。调节通道电导的场驱动调制的局部离子占据情况由指数衰减的迹线来描述。具体来说，突触前迹线 $x(t)$ 和突触后迹线 $y(t)$ 由以下一阶线性微分方程的因果解定义：\n$$\\frac{d x}{d t} = -\\frac{x}{\\tau_{+}}, \\quad \\frac{d y}{d t} = -\\frac{y}{\\tau_{-}},$$\n其中 $x(t)$ 在 $t=t_{\\text{pre}}$ 时有脉冲激励，$y(t)$ 在 $t=t_{\\text{post}}$ 时有脉冲激励。脉冲处的初始条件为 $x(t_{\\text{pre}}^{+}) = 1$ 和 $y(t_{\\text{post}}^{+}) = 1$，且迹线是因果的，即当 $t  t_{\\text{pre}}$ 时 $x(t) = 0$，当 $t  t_{\\text{post}}$ 时 $y(t) = 0$。\n\n在基于脉冲对的 STDP 中，单个突触前和突触后脉冲对的突触权重更新是在脉冲时刻触发的两个局域贡献之和：在 $t_{\\text{post}}$ 时有一个增强增量，其大小与突触前迹线的幅值 $x(t_{\\text{post}})$ 成正比，比例系数为 $A_{+}$，并在 $t_{\\text{pre}}$ 时有一个抑制减量，其大小与突触后迹线的幅值 $y(t_{\\text{pre}})$ 成正比，比例系数为 $A_{-}$。令 $\\Delta t = t_{\\text{post}} - t_{\\text{pre}}$。\n\n从这些定义和给定的微分方程出发，推导单个突触前后脉冲对的总权重变化 $\\Delta w$ 的闭合形式表达式，用 $A_{\\pm}$、$\\tau_{\\pm}$ 和 $\\Delta t$ 表示，并对 $A_{+} = 4.0 \\times 10^{-3}$、$A_{-} = 3.2 \\times 10^{-3}$、$\\tau_{+} = 20\\,\\mathrm{ms}$、$\\tau_{-} = 30\\,\\mathrm{ms}$ 和 $\\Delta t = 11\\,\\mathrm{ms}$ 进行数值计算。根据 $\\Delta w$ 的符号，确定在此脉冲时间下突触是增强还是抑制。以无量纲单位表示突触权重变化，并将最终数值答案四舍五入到四位有效数字。",
            "solution": "问题指定了通过指数衰减的因果迹线 $x(t)$ 和 $y(t)$ 实现的脉冲时间依赖可塑性（STDP），这两个迹线分别由突触前和突触后脉冲激发。其动力学由一阶衰减控制，突触前资格迹线的时间常数为 $\\tau_{+}$，突触后迹线的时间常数为 $\\tau_{-}$：\n$$\\frac{d x}{d t} = -\\frac{x}{\\tau_{+}}, \\quad x(t_{\\text{pre}}^{+}) = 1, \\quad x(t) = 0 \\text{ for } t  t_{\\text{pre}},$$\n$$\\frac{d y}{d t} = -\\frac{y}{\\tau_{-}}, \\quad y(t_{\\text{post}}^{+}) = 1, \\quad y(t) = 0 \\text{ for } t  t_{\\text{post}}.$$\n\n求解这些具有所述脉冲初始条件的线性微分方程，得到因果指数解：\n$$x(t) = \\exp\\!\\left(-\\frac{t - t_{\\text{pre}}}{\\tau_{+}}\\right) H(t - t_{\\text{pre}}), \\quad y(t) = \\exp\\!\\left(-\\frac{t - t_{\\text{post}}}{\\tau_{-}}\\right) H(t - t_{\\text{post}}),$$\n其中 $H(\\cdot)$ 是强制因果性的亥维赛德阶跃函数。\n\n可塑性规则指出，单个脉冲对的突触权重更新是在突触后脉冲时刻产生的增强项（与在该时刻评估的突触前迹线成正比）和在突触前脉冲时刻产生的抑制项（与在该时刻评估的突触后迹线成正比）之和。将这些贡献表示为：\n$$\\Delta w_{\\text{pot}} = A_{+}\\, x(t_{\\text{post}}), \\quad \\Delta w_{\\text{dep}} = -A_{-}\\, y(t_{\\text{pre}}),$$\n总权重变化为：\n$$\\Delta w = \\Delta w_{\\text{pot}} + \\Delta w_{\\text{dep}} = A_{+}\\, x(t_{\\text{post}}) - A_{-}\\, y(t_{\\text{pre}}).$$\n\n我们使用迹线的表达式和脉冲时间差 $\\Delta t = t_{\\text{post}} - t_{\\text{pre}}$ 来计算 $x(t_{\\text{post}})$ 和 $y(t_{\\text{pre}})$。\n\n情况1：$\\Delta t > 0$（突触前脉冲先于突触后脉冲）。\n- 在 $t = t_{\\text{post}}$ 时，突触前迹线非零，由下式给出：\n$$x(t_{\\text{post}}) = \\exp\\!\\left(-\\frac{t_{\\text{post}} - t_{\\text{pre}}}{\\tau_{+}}\\right) = \\exp\\!\\left(-\\frac{\\Delta t}{\\tau_{+}}\\right).$$\n- 在 $t = t_{\\text{pre}}$ 时，由于突触后脉冲尚未发生，突触后迹线为零：\n$$y(t_{\\text{pre}}) = 0.$$\n因此，对于 $\\Delta t > 0$：\n$$\\Delta w(\\Delta t) = A_{+}\\, \\exp\\!\\left(-\\frac{\\Delta t}{\\tau_{+}}\\right).$$\n\n情况2：$\\Delta t  0$（突触后脉冲先于突触前脉冲）。\n- 在 $t = t_{\\text{post}}$ 时，由于突触前脉冲尚未发生，突触前迹线为零：\n$$x(t_{\\text{post}}) = 0.$$\n- 在 $t = t_{\\text{pre}}$ 时，突触后迹线非零，由下式给出：\n$$y(t_{\\text{pre}}) = \\exp\\!\\left(-\\frac{t_{\\text{pre}} - t_{\\text{post}}}{\\tau_{-}}\\right) = \\exp\\!\\left(-\\frac{-\\Delta t}{\\tau_{-}}\\right) = \\exp\\!\\left(\\frac{\\Delta t}{\\tau_{-}}\\right),$$\n其中因为 $\\Delta t  0$，所以 $\\Delta t/\\tau_{-}  0$，因此其幅值等于 $\\exp\\!\\left(-\\frac{|\\Delta t|}{\\tau_{-}}\\right)$。\n因此，对于 $\\Delta t  0$：\n$$\\Delta w(\\Delta t) = -A_{-}\\, \\exp\\!\\left(\\frac{\\Delta t}{\\tau_{-}}\\right).$$\n\n结合这两种情况，我们从因果迹线动力学中推导出标准的基于脉冲对的 STDP 形式：\n$$\n\\Delta w(\\Delta t) =\n\\begin{cases}\nA_{+}\\, \\exp\\!\\left(-\\dfrac{\\Delta t}{\\tau_{+}}\\right),  \\Delta t > 0, \\\\\n- A_{-}\\, \\exp\\!\\left(\\dfrac{\\Delta t}{\\tau_{-}}\\right),  \\Delta t  0, \\\\\n0,  \\Delta t = 0,\n\\end{cases}\n$$\n其中 $\\Delta t = 0$ 的情况是因为 $x(t_{\\text{post}}) = 1$ 和 $y(t_{\\text{pre}}) = 1$ 同时发生，但只有在 $A_{+} = A_{-}$ 时，增量更新才会抵消；然而，在这种迹线触发的方案中，对于严格同时的脉冲，分离成不同的触发可能是特定于设备的。在本问题中，我们考虑给定的非零 $\\Delta t$。\n\n我们现在对 $A_{+} = 4.0 \\times 10^{-3}$、$A_{-} = 3.2 \\times 10^{-3}$、$\\tau_{+} = 20\\,\\mathrm{ms}$、$\\tau_{-} = 30\\,\\mathrm{ms}$ 和 $\\Delta t = 11\\,\\mathrm{ms}$ 进行数值计算。因为 $\\Delta t > 0$，我们使用：\n$$\\Delta w = A_{+}\\, \\exp\\!\\left(-\\frac{\\Delta t}{\\tau_{+}}\\right) = \\left(4.0 \\times 10^{-3}\\right) \\exp\\!\\left(-\\frac{11\\,\\mathrm{ms}}{20\\,\\mathrm{ms}}\\right).$$\n计算指数：\n$$-\\frac{11\\,\\mathrm{ms}}{20\\,\\mathrm{ms}} = -0.55.$$\n因此：\n$$\\Delta w = \\left(4.0 \\times 10^{-3}\\right)\\, \\exp(-0.55).$$\n将数值计算保留到最后一步，然后计算 $\\exp(-0.55)$：\n$$\\exp(-0.55) \\approx 0.576949810.$$\n因此：\n$$\\Delta w \\approx \\left(4.0 \\times 10^{-3}\\right) \\times 0.576949810 = 2.30779924 \\times 10^{-3}.$$\n四舍五入到四位有效数字，得到：\n$$\\Delta w \\approx 0.002308.$$\n\n因为 $\\Delta w > 0$，所以在这个基于脉冲对的相互作用中，当 $\\Delta t = 11\\,\\mathrm{ms}$ 时，突触发生增强。要求的最终答案是四舍五入到四位有效数字的无量纲突触权重变化。",
            "answer": "$$\\boxed{0.002308}$$"
        },
        {
            "introduction": "将抽象的学习规则付诸实践，需要具体的物理器件，而铁电场效应晶体管（Ferroelectric Field-Effect Transistor, FeFET）因其非易失性存储和可调谐的电导特性，成为一种极具前景的模拟突触器件。本练习旨在连接FeFET的器件物理学（包括MOSFET理论和铁电极化动力学）与其作为突触的功能。通过计算一系列电压脉冲引起的跨导变化（即突触权重），您将获得对新兴硬件技术中可塑性进行建模和量化的实践经验 。",
            "id": "4290315",
            "problem": "一个用作神经形态突触的铁电场效应晶体管 (FeFET) 被偏置在饱和区，在此区域，金属-氧化物-半导体场效应晶体管 (MOSFET) 的漏极电流遵循经过充分检验的长沟道器件的平方律近似。栅叠层包括一个厚度为 $t_{\\mathrm{FE}}$ 的铁电层，与一个常规电介质串联，铁电极化强度 $P$ 通过平面电容器的基本电荷-电容关系来调制有效阈值电压 $V_{T}$。\n\n假设以下基于物理原理的出发点：\n- 饱和区漏极电流：$$I_{D} = \\frac{1}{2}\\,\\mu\\,C_{\\mathrm{ox}}\\,\\frac{W}{L}\\,\\left(V_{G}-V_{T}\\right)^{2},$$ 其中 $\\mu$ 是载流子迁移率，$C_{\\mathrm{ox}}$ 是单位面积栅电容，$W/L$ 是器件几何因子，$V_{G}$ 是栅偏压，$V_{T}$ 是阈值电压。\n- 固定漏偏压下的跨导定义：$$g_{m} \\equiv \\frac{\\partial I_{D}}{\\partial V_{G}} = \\mu\\,C_{\\mathrm{ox}}\\,\\frac{W}{L}\\,\\left(V_{G}-V_{T}\\right).$$\n- 由界面极化电荷引起的铁电阈值调制：$$\\Delta V_{T} = -\\frac{P}{C_{\\mathrm{ox}}},$$ 这可由高斯定律和串联电容器电荷连续性导出，并假设铁电界面束缚电荷与沟道电荷控制理想耦合。\n- 在宽度为 $\\tau_{p}$ 的脉冲期间，恒定电场下的一阶铁电极化动力学：$$\\frac{dP}{dt} = \\frac{P_{\\infty}(E)-P}{\\tau_{0}},\\quad P_{\\infty}(E) = P_{s}\\,\\tanh\\!\\left(\\frac{E}{E_{c}}\\right),$$ 其中 $P_{s}$ 是自发极化强度大小，$E$ 是施加在铁电层上的电场，$E_{c}$ 是一个特征电场标度，$\\tau_{0}$ 是一个特征弛豫时间。对于单个矩形脉冲，极化强度更新为：$$P^{+} = P^{-} + \\left(1-\\exp\\!\\left(-\\frac{\\tau_{p}}{\\tau_{0}}\\right)\\right)\\left(P_{\\infty}(E)-P^{-}\\right),$$ 其中 $P^{-}$ 和 $P^{+}$ 分别表示脉冲前和脉冲后的极化强度。\n\n将一列3个相同的增强脉冲施加到栅极以增强突触。脉冲之间的间隔足够长，使得脉冲间的退极化可以忽略不计。器件和脉冲参数如下：\n- $\\mu = 0.020\\ \\mathrm{m^{2}\\,V^{-1}\\,s^{-1}}$，\n- $C_{\\mathrm{ox}} = 1.5\\ \\mathrm{F\\,m^{-2}}$，\n- $W/L = 5$，\n- $V_{G} = 0.80\\ \\mathrm{V}$，\n- 初始阈值 $V_{T,0} = 0.30\\ \\mathrm{V}$，\n- $t_{\\mathrm{FE}} = 10\\ \\mathrm{nm}$，\n- $P_{s} = 0.20\\ \\mathrm{C\\,m^{-2}}$，\n- $E_{c} = 2.0\\times 10^{8}\\ \\mathrm{V\\,m^{-1}}$，\n- $\\tau_{0} = 10\\ \\mathrm{ns}$，\n- 脉冲幅度 $V_{p} = 2.0\\ \\mathrm{V}$，\n- 脉冲宽度 $\\tau_{p} = 20\\ \\mathrm{ns}$，\n- 初始极化强度 $P_{0} = 0$。\n\n突触权重更新定义为跨导相对于基线的归一化分数变化：$$\\Delta w \\equiv \\frac{\\Delta g_{m}}{g_{m,0}},\\quad g_{m,0} = \\mu\\,C_{\\mathrm{ox}}\\,\\frac{W}{L}\\,\\left(V_{G}-V_{T,0}\\right).$$\n\n仅从上述原理出发，计算施加3个脉冲序列后的跨导变化量 $\\Delta g_{m}$ 以及由此产生的突触权重更新 $\\Delta w$。将跨导变化量以西门子 (S) 为单位表示，突触权重更新以无量纲小数表示。将您的答案四舍五入至四位有效数字。",
            "solution": "目标是计算施加3个相同电压脉冲序列后，跨导的变化量 $\\Delta g_{m}$ 和相应的突触权重更新 $\\Delta w$。\n\n首先，我们计算跨导的常数前置因子，记为 $K$：\n$$K = \\mu\\,C_{\\mathrm{ox}}\\,\\frac{W}{L} = (0.020\\ \\mathrm{m^{2}\\,V^{-1}\\,s^{-1}}) \\times (1.5\\ \\mathrm{F\\,m^{-2}}) \\times 5 = 0.15\\ \\mathrm{S\\,V^{-1}}$$\n单位是西门子每伏特 ($\\mathrm{S\\,V^{-1}}$)，等同于安培每伏特平方 ($\\mathrm{A\\,V^{-2}}$)，这与 $(V_{G}-V_{T})$ 的前置因子相符。\n\n接下来，我们计算基线跨导 $g_{m,0}$，它对应于器件的初始状态，此时极化强度 $P_0 = 0$，阈值电压为 $V_{T,0}$。\n$$g_{m,0} = K \\left(V_{G}-V_{T,0}\\right) = (0.15\\ \\mathrm{S\\,V^{-1}}) \\times (0.80\\ \\mathrm{V} - 0.30\\ \\mathrm{V}) = 0.15 \\times 0.50 = 0.075\\ \\mathrm{S}$$\n\n问题的核心在于确定3个脉冲后的最终极化强度 $P_3$。极化强度根据更新规则演变：\n$P_{n} = P_{n-1} + \\left(1-\\exp\\left(-\\frac{\\tau_{p}}{\\tau_{0}}\\right)\\right)\\left(P_{\\infty}(E)-P_{n-1}\\right)$，其中 $P_n$ 是第 $n$ 个脉冲后的极化强度。\n令 $\\alpha = 1 - \\exp(-\\tau_p/\\tau_0)$。更新规则为 $P_n = (1-\\alpha)P_{n-1} + \\alpha P_{\\infty}(E)$。从 $P_0 = 0$ 开始，经过 $n$ 个脉冲后的极化强度由该递推关系的一般解给出：\n$$P_{n} = P_{\\infty}(E)\\left(1 - (1-\\alpha)^{n}\\right) = P_{\\infty}(E)\\left(1 - \\left(\\exp\\left(-\\frac{\\tau_{p}}{\\tau_{0}}\\right)\\right)^{n}\\right) = P_{\\infty}(E)\\left(1 - \\exp\\left(-n\\frac{\\tau_{p}}{\\tau_{0}}\\right)\\right)$$\n\n我们必须首先计算 $P_{\\infty}(E)$ 项和指数因子。脉冲期间铁电层上的电场 $E$ 为：\n$$E = \\frac{V_{p}}{t_{\\mathrm{FE}}} = \\frac{2.0\\ \\mathrm{V}}{10 \\times 10^{-9}\\ \\mathrm{m}} = 2.0 \\times 10^{8}\\ \\mathrm{V\\,m^{-1}}$$\n渐近极化强度 $P_{\\infty}(E)$ 为：\n$$P_{\\infty}(E) = P_{s}\\,\\tanh\\left(\\frac{E}{E_{c}}\\right) = (0.20\\ \\mathrm{C\\,m^{-2}}) \\times \\tanh\\left(\\frac{2.0 \\times 10^{8}\\ \\mathrm{V\\,m^{-1}}}{2.0 \\times 10^{8}\\ \\mathrm{V\\,m^{-1}}}\\right) = 0.20 \\times \\tanh(1)\\ \\mathrm{C\\,m^{-2}}$$\n现在，我们计算 $n=3$ 个脉冲后的最终极化强度 $P_3$。时间常数比为 $\\tau_{p}/\\tau_{0} = (20\\ \\mathrm{ns}) / (10\\ \\mathrm{ns}) = 2$。\n$$P_3 = P_{\\infty}(E) \\left(1 - \\exp\\left(-3 \\times 2\\right)\\right) = \\left(0.20 \\times \\tanh(1)\\right) \\left(1 - \\exp(-6)\\right)\\ \\mathrm{C\\,m^{-2}}$$\n使用 $\\tanh(1) \\approx 0.761594$ 和 $\\exp(-6) \\approx 0.002479$，我们得到：\n$$P_3 \\approx (0.20 \\times 0.761594) \\times (1 - 0.002479) \\approx 0.152319 \\times 0.997521 \\approx 0.151942\\ \\mathrm{C\\,m^{-2}}$$\n\n最终极化强度 $P_3$ 引起阈值电压的偏移。从初始状态算起的总变化量是 $\\Delta V_{T, \\text{final}} = -P_3 / C_{\\mathrm{ox}}$。最终阈值电压 $V_{T,f}$ 为：\n$$V_{T,f} = V_{T,0} + \\Delta V_{T, \\text{final}} = V_{T,0} - \\frac{P_3}{C_{\\mathrm{ox}}}$$\n$$V_{T,f} \\approx 0.30\\ \\mathrm{V} - \\frac{0.151942\\ \\mathrm{C\\,m^{-2}}}{1.5\\ \\mathrm{F\\,m^{-2}}} \\approx 0.30\\ \\mathrm{V} - 0.101295\\ \\mathrm{V} = 0.198705\\ \\mathrm{V}$$\n注意单位是一致的：$\\mathrm{C\\,m^{-2} / F\\,m^{-2}} = \\mathrm{C/F} = \\mathrm{C/(C/V)} = \\mathrm{V}$。\n\n有了最终阈值电压，我们可以计算最终跨导 $g_{m,f}$：\n$$g_{m,f} = K \\left(V_{G}-V_{T,f}\\right) \\approx (0.15\\ \\mathrm{S\\,V^{-1}}) \\times (0.80\\ \\mathrm{V} - 0.198705\\ \\mathrm{V})$$\n$$g_{m,f} \\approx 0.15 \\times 0.601295 = 0.090194\\ \\mathrm{S}$$\n\n跨导的变化量 $\\Delta g_{m}$ 是最终值与初始值之差：\n$$\\Delta g_{m} = g_{m,f} - g_{m,0} \\approx 0.090194\\ \\mathrm{S} - 0.075\\ \\mathrm{S} = 0.015194\\ \\mathrm{S}$$\n四舍五入到四位有效数字，$\\Delta g_m = 0.01519\\ \\mathrm{S}$。\n\n最后，我们计算突触权重更新 $\\Delta w$，其定义为跨导的归一化分数变化：\n$$\\Delta w = \\frac{\\Delta g_{m}}{g_{m,0}} \\approx \\frac{0.015194\\ \\mathrm{S}}{0.075\\ \\mathrm{S}} \\approx 0.20259$$\n或者，我们可以用符号形式表示 $\\Delta w$：\n$$\\Delta w = \\frac{g_{m,f} - g_{m,0}}{g_{m,0}} = \\frac{K(V_G - V_{T,f}) - K(V_G - V_{T,0})}{K(V_G - V_{T,0})} = \\frac{V_{T,0} - V_{T,f}}{V_G - V_{T,0}} = \\frac{P_3/C_{\\mathrm{ox}}}{V_G - V_{T,0}}$$\n$$\\Delta w \\approx \\frac{0.101295\\ \\mathrm{V}}{0.50\\ \\mathrm{V}} \\approx 0.20259$$\n四舍五入到四位有效数字，$\\Delta w = 0.2026$。\n\n结果是跨导变化量 $\\Delta g_m \\approx 0.01519\\ \\mathrm{S}$ 和突触权重更新 $\\Delta w \\approx 0.2026$。",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 0.01519  0.2026 \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "在理解了学习规则及器件实现后，评估系统级性能至关重要，其中能效是一个核心指标。本练习聚焦于推导神经形态计算中的一个基本运算——乘积累加（Multiply-Accumulate, MAC）——的能量消耗。通过从第一性原理出发，分析在电阻交叉阵列中执行向量-矩阵乘法时充电所需的动态能量，您将学会器件与电路参数（如电导 $G_{j i}$ 和电容 $C_{c}$）以及输入数据（$x_{i}$）如何共同决定系统的整体效率，这是设计有竞争力的神经形态加速器的一个关键方面 。",
            "id": "4290347",
            "problem": "考虑一个神经形态加速器中的电阻交叉阵列，其中每个突触由一个可编程的两端器件实现，其电导编码突触权重。设该交叉阵列有 $M$ 个输入行和 $N$ 个输出列，连接输入行 $i$ 和输出列 $j$ 的交叉点的电导用 $G_{j i}$ 表示。一个电压分量为 $\\{x_{i}\\}_{i=1}^{M}$ 的输入向量被施加到各行，而各列均由一个相同的电容值为 $C_{c}$ 的电容传感元件端接，该电容器在每次向量-矩阵乘法之前完全放电。\n\n假设以下基于物理原理的关系：\n- 每个突触的欧姆定律：由行 $i$ 贡献给列 $j$ 的突触电流为 $I_{j i}=G_{j i}\\,x_{i}$。\n- 列电流是流入该列的所有突触电流之和，因此净列电流为 $I_{j}=\\sum_{i=1}^{M}G_{j i}\\,x_{i}$。\n- 列传感电路在一个固定的计算窗口内将此电流积分到电容 $C_{c}$ 上，并进行增益归一化，使得最终的列电压等于向量-矩阵乘法的算术输出。换句话说，实现的计算是 $y=G\\,x$，最终的列电压是 $y_{j}=\\sum_{i=1}^{M}G_{j i}\\,x_{i}$。\n- 每列从 $0$ 充电到最终电压 $V$ 然后复位（一个完整的计算周期）的动态开关能耗由 $E=C\\,V^{2}$ 给出。\n\n在这些假设下，将每次乘法累加（Multiply-Accumulate (MAC)）操作的能耗定义为所有 $N$ 列的总动态开关能耗之和除以突触 MAC 的总数（即 $M\\,N$）。请推导每次 MAC 操作能耗的闭式表达式，用 $C_{c}$、$\\{G_{j i}\\}$ 和 $\\{x_{i}\\}$ 表示。将您的最终答案表示为单个解析表达式。不需要进行数值计算。",
            "solution": "每次乘法累加（MAC）操作的能耗，记为 $E_{\\text{MAC}}$，定义为总动态开关能耗 $E_{\\text{total}}$ 除以 MAC 操作的总次数 $N_{\\text{MAC}}$。\n$$E_{\\text{MAC}} = \\frac{E_{\\text{total}}}{N_{\\text{MAC}}}$$\n在 $M \\times N$ 的向量-矩阵乘法中，MAC 的总次数是维度的乘积。\n$$N_{\\text{MAC}} = M\\,N$$\n总动态开关能耗 $E_{\\text{total}}$ 是在一个计算周期内，所有 $N$ 列各自消耗的能量之和。\n$$E_{\\text{total}} = \\sum_{j=1}^{N} E_{\\text{col}, j}$$\n其中 $E_{\\text{col}, j}$ 是第 $j$ 列的能耗。\n\n问题陈述，单列充电到最终电压 $V$ 然后复位的动态开关能耗由 $E = C\\,V^{2}$ 给出。对于第 $j$ 列，电容为 $C_c$，最终电压为 $y_j$。因此，第 $j$ 列的能耗为：\n$$E_{\\text{col}, j} = C_{c} (y_j)^2$$\n问题指明，最终列电压 $y_j$ 是该列的向量-矩阵乘法的结果：\n$$y_{j} = \\sum_{i=1}^{M} G_{j i}\\,x_{i}$$\n将 $y_j$ 的这个表达式代入列能耗方程，得到：\n$$E_{\\text{col}, j} = C_{c} \\left( \\sum_{i=1}^{M} G_{j i}\\,x_{i} \\right)^2$$\n现在，我们可以通过对所有 $N$ 列的能量求和来得到总能量 $E_{\\text{total}}$：\n$$E_{\\text{total}} = \\sum_{j=1}^{N} E_{\\text{col}, j} = \\sum_{j=1}^{N} C_{c} \\left( \\sum_{i=1}^{M} G_{j i}\\,x_{i} \\right)^2$$\n由于所有列的电容 $C_c$ 都是相同的，它是一个常数因子，可以移到对 $j$ 的求和之外：\n$$E_{\\text{total}} = C_{c} \\sum_{j=1}^{N} \\left( \\sum_{i=1}^{M} G_{j i}\\,x_{i} \\right)^2$$\n最后，我们将 $E_{\\text{total}}$ 和 $N_{\\text{MAC}}$ 的表达式代入每次 MAC 能耗的定义中：\n$$E_{\\text{MAC}} = \\frac{C_{c} \\sum_{j=1}^{N} \\left( \\sum_{i=1}^{M} G_{j i}\\,x_{i} \\right)^2}{M\\,N}$$\n这就是每次 MAC 操作能耗的最终闭式表达式，用给定的量 $C_c$、$\\{G_{j i}\\}$、$\\{x_i\\}$ 以及维度 $M$ 和 $N$ 表示。",
            "answer": "$$\\boxed{\\frac{C_{c} \\sum_{j=1}^{N} \\left( \\sum_{i=1}^{M} G_{j i}\\,x_{i} \\right)^2}{M\\,N}}$$"
        }
    ]
}