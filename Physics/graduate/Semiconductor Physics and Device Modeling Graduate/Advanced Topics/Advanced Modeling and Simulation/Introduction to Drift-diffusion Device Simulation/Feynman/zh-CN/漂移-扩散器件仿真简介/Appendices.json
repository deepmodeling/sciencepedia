{
    "hands_on_practices": [
        {
            "introduction": "精确的漂移-扩散仿真的基石在于其对复合、迁移率等物理过程的精细建模。本练习聚焦于半导体物理中的核心过程——载流子复合。通过综合考虑三种主要的复合机制：肖克莱-里德-霍尔（SRH）复合、辐射复合和俄歇复合，您将计算在特定注入条件下的总复合率和有效载流子寿命。掌握这项计算有助于您深刻理解不同复合路径在不同掺杂和注入水平下的竞争关系，这对于预测器件的光电转换效率、开关速度等关键性能至关重要。",
            "id": "3756268",
            "problem": "考虑一个漂移扩散器件模拟中，温度为 $T = 300~\\text{K}$ 的一维、均匀掺杂、准中性、稳定光照的晶体硅区域。受主浓度为 $N_{A} = 1.0 \\times 10^{16}~\\text{cm}^{-3}$，且所有掺杂剂都完全电离。本征载流子浓度为 $n_{i} = 1.0 \\times 10^{10}~\\text{cm}^{-3}$。空间上均匀的产生过程导致该区域出现稳态过剩载流子浓度 $\\Delta n = \\Delta p = 5.0 \\times 10^{14}~\\text{cm}^{-3}$。假设该区域足够大，以至于 $\\nabla \\cdot \\mathbf{J}_{n} = \\nabla \\cdot \\mathbf{J}_{p} = 0$ 且 $\\partial n/\\partial t = \\partial p/\\partial t = 0$。\n\n载流子复合由三种机制主导：通过单一陷阱的 Shockley–Read–Hall 复合、带间辐射复合和 Auger 复合。Shockley–Read–Hall 陷阱位于能量 $E_{t}$ 处，满足 $E_{t} - E_{i} = +0.20~\\text{eV}$，其中 $E_{i}$ 是本征能级。电子和空穴的捕获寿命分别为 $\\tau_{n0} = 2.0~\\mu\\text{s}$ 和 $\\tau_{p0} = 0.50~\\mu\\text{s}$。辐射复合系数为 $B = 1.0 \\times 10^{-14}~\\text{cm}^{3}\\,\\text{s}^{-1}$。Auger 系数为 $C_{n} = 2.8 \\times 10^{-31}~\\text{cm}^{6}\\,\\text{s}^{-1}$ 和 $C_{p} = 1.0 \\times 10^{-31}~\\text{cm}^{6}\\,\\text{s}^{-1}$。使用 Boltzmann 统计和 $k_{B} = 8.617333262 \\times 10^{-5}~\\text{eV/K}$。\n\n从电子和空穴的连续性方程以及复合-产生过程的定义出发，推导所需的表达式，然后计算：\n\n1. 该区域的总稳态复合率 $R = R_{\\text{SRH}} + R_{\\text{rad}} + R_{\\text{Aug}}$。\n2. 该区域的有效少数载流子（电子）寿命 $\\tau_{\\text{eff}}$，在给定的稳态、均匀条件下定义为 $\\tau_{\\text{eff}} = \\Delta n / R$。\n\n使用稳态载流子密度 $n = n_{0} + \\Delta n$ 和 $p = p_{0} + \\Delta p$，其中 $p_{0} \\approx N_{A}$ 且 $n_{0} = n_{i}^{2} / p_{0}$。用 $n$、$p$ 和 $n_{i}$ 表示辐射和 Auger 复合的贡献。对于 Shockley–Read–Hall 复合，使用标准陷阱占据定义 $n_{1} = n_{i} \\exp\\!\\big((E_{t} - E_{i})/(k_{B} T)\\big)$ 和 $p_{1} = n_{i} \\exp\\!\\big(-(E_{t} - E_{i})/(k_{B} T)\\big)$。\n\n将每个最终数值结果四舍五入到四位有效数字。复合率 $R$ 以 $\\text{cm}^{-3}\\,\\text{s}^{-1}$ 为单位表示，寿命 $\\tau_{\\text{eff}}$ 以微秒为单位表示。以单行两个数字的形式给出最终答案，顺序为 $\\{R,~\\tau_{\\text{eff}}\\}$。",
            "solution": "首先对问题进行验证，以确保其具有科学依据、适定且客观。在 $T = 300~\\text{K}$ 时给出的晶体硅参数在物理上是现实的。问题提供了所有必要的常数、定义和条件，以唯一确定所求的量。使用稳态（$\\partial/\\partial t = 0$）和空间均匀性（$\\nabla \\cdot \\mathbf{J} = 0$）将连续性方程简化为产生和复合之间的平衡，即 $G - R = 0$。该问题是半导体物理学中一个标准的、尽管内容全面的练习，因此被认为是有效的。\n\n求解过程首先计算所有必要的载流子浓度和中间参数。然后，计算三种指定复合机制的速率——Shockley–Read–Hall（$R_{\\text{SRH}}$）、辐射（$R_{\\text{rad}}$）和 Auger（$R_{\\text{Aug}}$）。总复合率 $R$ 是这些分量的总和。最后，根据定义计算有效少数载流子寿命 $\\tau_{\\text{eff}}$。\n\n**步骤 1：初步计算**\n\n首先，我们确定载流子浓度和其他与温度相关的参数。在 $T = 300~\\text{K}$ 时的热能为：\n$$k_{B} T = (8.617333262 \\times 10^{-5}~\\text{eV/K}) \\times (300~\\text{K}) \\approx 0.025852~\\text{eV}$$\n\n该材料是 p 型，受主浓度为 $N_{A} = 1.0 \\times 10^{16}~\\text{cm}^{-3}$。假设完全电离，平衡多数载流子（空穴）浓度为：\n$$p_{0} \\approx N_{A} = 1.0 \\times 10^{16}~\\text{cm}^{-3}$$\n使用质量作用定律 $n_0 p_0 = n_i^2$ 求得平衡少数载流子（电子）浓度：\n$$n_{0} = \\frac{n_{i}^{2}}{p_{0}} = \\frac{(1.0 \\times 10^{10}~\\text{cm}^{-3})^{2}}{1.0 \\times 10^{16}~\\text{cm}^{-3}} = 1.0 \\times 10^{4}~\\text{cm}^{-3}$$\n\n在稳定光照下，存在过剩载流子浓度 $\\Delta n = \\Delta p = 5.0 \\times 10^{14}~\\text{cm}^{-3}$。总的稳态浓度为：\n$$n = n_{0} + \\Delta n = 1.0 \\times 10^{4}~\\text{cm}^{-3} + 5.0 \\times 10^{14}~\\text{cm}^{-3} = 5.0001 \\times 10^{14}~\\text{cm}^{-3}$$\n$$p = p_{0} + \\Delta p = 1.0 \\times 10^{16}~\\text{cm}^{-3} + 5.0 \\times 10^{14}~\\text{cm}^{-3} = 1.05 \\times 10^{16}~\\text{cm}^{-3}$$\n\n对于 Shockley–Read–Hall 计算，我们需要参数 $n_1$ 和 $p_1$，它们取决于陷阱能级 $E_t$。给定 $E_{t} - E_{i} = 0.20~\\text{eV}$：\n$$n_{1} = n_{i} \\exp\\!\\left(\\frac{E_{t} - E_{i}}{k_{B} T}\\right) = (1.0 \\times 10^{10}) \\exp\\!\\left(\\frac{0.20}{0.025852}\\right) \\approx 2.290 \\times 10^{13}~\\text{cm}^{-3}$$\n$$p_{1} = n_{i} \\exp\\!\\left(-\\frac{E_{t} - E_{i}}{k_{B} T}\\right) = (1.0 \\times 10^{10}) \\exp\\!\\left(-\\frac{0.20}{0.025852}\\right) \\approx 4.367 \\times 10^{6}~\\text{cm}^{-3}$$\n\n**步骤 2：复合率的计算**\n\n总净复合率 $R$ 是三种机制速率的总和：$R = R_{\\text{SRH}} + R_{\\text{rad}} + R_{\\text{Aug}}$。\n\n**A. Shockley–Read–Hall (SRH) 复合 ($R_{\\text{SRH}}$)**\nSRH 复合率由以下表达式给出：\n$$R_{\\text{SRH}} = \\frac{np - n_{i}^{2}}{\\tau_{p0}(n + n_{1}) + \\tau_{n0}(p + p_{1})}$$\n首先，我们计算分子项和分母项。\n乘积 $np - n_{i}^{2}$ 为：\n$$np - n_{i}^{2} = (5.0001 \\times 10^{14})(1.05 \\times 10^{16}) - (1.0 \\times 10^{10})^{2} \\approx 5.2501 \\times 10^{30} - 1.0 \\times 10^{20} \\approx 5.250 \\times 10^{30}~\\text{cm}^{-6}$$\n分母项为，其中 $\\tau_{p0} = 0.50 \\times 10^{-6}~\\text{s}$ 且 $\\tau_{n0} = 2.0 \\times 10^{-6}~\\text{s}$：\n$$\\tau_{p0}(n + n_{1}) = (0.50 \\times 10^{-6}) (5.0001 \\times 10^{14} + 2.290 \\times 10^{13}) \\approx 2.615 \\times 10^{8}~\\text{s}\\cdot\\text{cm}^{-3}$$\n$$\\tau_{n0}(p + p_{1}) = (2.0 \\times 10^{-6}) (1.05 \\times 10^{16} + 4.367 \\times 10^{6}) \\approx 2.100 \\times 10^{10}~\\text{s}\\cdot\\text{cm}^{-3}$$\n分母是这两项的和：\n$$D_{\\text{SRH}} \\approx 2.615 \\times 10^{8} + 2.100 \\times 10^{10} \\approx 2.126 \\times 10^{10}~\\text{s}\\cdot\\text{cm}^{-3}$$\n最后，SRH 速率为：\n$$R_{\\text{SRH}} = \\frac{5.250 \\times 10^{30}~\\text{cm}^{-6}}{2.126 \\times 10^{10}~\\text{s}\\cdot\\text{cm}^{-3}} \\approx 2.469 \\times 10^{20}~\\text{cm}^{-3}\\,\\text{s}^{-1}$$\n\n**B. 辐射复合 ($R_{\\text{rad}}$)**\n辐射复合率为：\n$$R_{\\text{rad}} = B (np - n_{i}^{2})$$\n使用给定的系数 $B = 1.0 \\times 10^{-14}~\\text{cm}^{3}\\,\\text{s}^{-1}$：\n$$R_{\\text{rad}} = (1.0 \\times 10^{-14}~\\text{cm}^{3}\\,\\text{s}^{-1}) (5.250 \\times 10^{30}~\\text{cm}^{-6}) = 5.250 \\times 10^{16}~\\text{cm}^{-3}\\,\\text{s}^{-1}$$\n\n**C. Auger 复合 ($R_{\\text{Aug}}$)**\nAuger 复合率为：\n$$R_{\\text{Aug}} = (C_{n} n + C_{p} p)(np - n_{i}^{2})$$\n使用给定的系数 $C_{n} = 2.8 \\times 10^{-31}~\\text{cm}^{6}\\,\\text{s}^{-1}$ 和 $C_{p} = 1.0 \\times 10^{-31}~\\text{cm}^{6}\\,\\text{s}^{-1}$：\n$$C_{n} n = (2.8 \\times 10^{-31}) (5.0001 \\times 10^{14}) \\approx 1.400 \\times 10^{-16}~\\text{cm}^{3}\\,\\text{s}^{-1}$$\n$$C_{p} p = (1.0 \\times 10^{-31}) (1.05 \\times 10^{16}) = 1.050 \\times 10^{-15}~\\text{cm}^{3}\\,\\text{s}^{-1}$$\n前置因子为：\n$$C_{n} n + C_{p} p \\approx 1.400 \\times 10^{-16} + 1.050 \\times 10^{-15} = 1.190 \\times 10^{-15}~\\text{cm}^{3}\\,\\text{s}^{-1}$$\nAuger 速率为：\n$$R_{\\text{Aug}} = (1.190 \\times 10^{-15}~\\text{cm}^{3}\\,\\text{s}^{-1}) (5.250 \\times 10^{30}~\\text{cm}^{-6}) \\approx 6.248 \\times 10^{15}~\\text{cm}^{-3}\\,\\text{s}^{-1}$$\n\n**步骤 3：总复合率和有效寿命**\n\n总复合率 $R$ 是各个速率之和：\n$$R = R_{\\text{SRH}} + R_{\\text{rad}} + R_{\\text{Aug}}$$\n$$R = (2.469 \\times 10^{20}) + (5.250 \\times 10^{16}) + (6.248 \\times 10^{15})$$\n$$R = (2.469 + 0.0005250 + 0.00006248) \\times 10^{20} \\approx 2.46988 \\times 10^{20}~\\text{cm}^{-3}\\,\\text{s}^{-1}$$\n四舍五入到四位有效数字，总复合率为：\n$$R = 2.470 \\times 10^{20}~\\text{cm}^{-3}\\,\\text{s}^{-1}$$\n\n有效少数载流子（电子）寿命 $\\tau_{\\text{eff}}$ 定义为 $\\tau_{\\text{eff}} = \\Delta n / R$。\n$$\\tau_{\\text{eff}} = \\frac{5.0 \\times 10^{14}~\\text{cm}^{-3}}{2.46988 \\times 10^{20}~\\text{cm}^{-3}\\,\\text{s}^{-1}} \\approx 2.02439 \\times 10^{-6}~\\text{s}$$\n问题要求寿命以微秒（$1~\\mu\\text{s} = 10^{-6}~\\text{s}$）为单位。\n$$\\tau_{\\text{eff}} \\approx 2.02439~\\mu\\text{s}$$\n四舍五入到四位有效数字，有效寿命为：\n$$\\tau_{\\text{eff}} = 2.024~\\mu\\text{s}$$\n\n最终答案是总复合率 $R$ 和有效寿命 $\\tau_{\\text{eff}}$。",
            "answer": "$$\\boxed{\\begin{pmatrix} 2.470 \\times 10^{20} & 2.024 \\end{pmatrix}}$$"
        },
        {
            "introduction": "真实的半导体器件往往在非等温条件下工作，导致载流子迁移率等关键材料参数在器件内部呈现空间非均匀性。本练习将引导您在一个存在线性温度梯度的硅棒中，应用漂移-扩散模型来分析和计算电流密度。通过解决这个问题，您将学会如何将随空间变化的材料特性（如温度依赖的迁移率）与器件的宏观电学行为（如总电流）联系起来，这是分析热效应对器件性能和可靠性影响的一项关键技能。",
            "id": "3756236",
            "problem": "一根长度为 $L$ 的一维均匀掺杂n型硅棒，在 $x=0$ 和 $x=L$ 处有理想欧姆接触，其横截面均匀，接触电阻可忽略不计。施主浓度在空间上是均匀的并且完全电离，因此电子密度处处满足 $n(x) \\approx N_{D}$（准中性体区）。该器件在稳态下工作，施加的直流偏压在 $x=0$ 和 $x=L$ 之间产生总电势降 $V$。体区内没有产生-复合。晶格温度随位置线性变化，其表达式为\n$$\nT(x) = T_{0} + \\frac{\\Delta T}{L}\\,x,\n$$\n其中 $T_{0} = 300\\,\\mathrm{K}$ 且 $\\Delta T = 60\\,\\mathrm{K}$。假设为非简并统计和局域准平衡，因此电子扩散系数和迁移率之间的爱因斯坦关系式成立。低电场电子迁移率受晶格（声学声子）散射限制，并遵循基于参考点的幂律温度依赖关系：\n$$\n\\mu_{n}(T) = \\mu_{\\mathrm{ref}}\\left(\\frac{T_{\\mathrm{ref}}}{T}\\right)^{m},\n$$\n其中 $\\mu_{\\mathrm{ref}} = 1350\\,\\mathrm{cm^{2}\\,V^{-1}\\,s^{-1}}$，$T_{\\mathrm{ref}} = 300\\,\\mathrm{K}$，且 $m=\\tfrac{3}{2}$。忽略除局域爱因斯坦关系式和依赖于温度的迁移率中所包含的效应之外的任何显式热电（塞贝克）源项。将元电荷 $q$ 和玻尔兹曼常数 $k_{B}$ 视为基本常数。\n\n使用漂移-扩散框架，以及适用于此一维器件的稳态电荷连续性和静电约束，完成以下任务：\n\n1) 从给定的 $T(x)$ 和迁移率模型出发，求出迁移率的空间依赖关系 $\\mu_{n}(x)$。\n\n2) 在所述假设下，使用爱因斯坦关系式，将扩散系数的空间依赖关系 $D_{n}(x)$ 用 $T(x)$、$\\mu_{\\mathrm{ref}}$、$T_{\\mathrm{ref}}$、$m$、$k_{B}$ 和 $q$ 表示。\n\n3) 使用稳态漂移-扩散模型和施加在硅棒上的电势降 $V$，确定电子电流密度 $J_{n}(x)$ 的空间依赖关系，并说明在给定假设下它是否在空间上是恒定的。然后，消去电场，用施加的电势降 $V$ 表示，以获得均匀电流密度大小 $J_{n}$ 作为给定参数的函数的闭式表达式。\n\n最后，代入数值 $N_{D} = 1.0\\times 10^{16}\\,\\mathrm{cm^{-3}}$，$L = 10\\,\\mathrm{\\mu m}$，$V = 0.20\\,\\mathrm{V}$，$T_{0} = 300\\,\\mathrm{K}$，$\\Delta T = 60\\,\\mathrm{K}$，$\\mu_{\\mathrm{ref}} = 1350\\,\\mathrm{cm^{2}\\,V^{-1}\\,s^{-1}}$，$T_{\\mathrm{ref}} = 300\\,\\mathrm{K}$ 和 $m=\\tfrac{3}{2}$ 来计算电流密度 $J_{n}$ 的数值。将最终电流密度以 $\\mathrm{A\\,m^{-2}}$ 为单位表示，并将答案四舍五入到四位有效数字。",
            "solution": "首先根据所需标准对问题进行验证。\n\n**步骤1：提取给定条件**\n- **器件结构**：一根长度为 $L$ 的一维均匀掺杂n型硅棒。在 $x=0$ 和 $x=L$ 处有理想欧姆接触。横截面均匀，接触电阻可忽略不计。\n- **掺杂和载流子密度**：空间上均匀的施主浓度 $N_{D}$，完全电离。电子密度 $n(x) \\approx N_{D}$ 处处成立（准中性体区）。\n- **工作条件**：在稳态下工作，直流电势降 $V$ 施加于 $x=0$ 和 $x=L$ 之间。体区内没有产生-复合。\n- **温度分布**：$T(x) = T_{0} + \\frac{\\Delta T}{L}\\,x$，其中 $T_{0} = 300\\,\\mathrm{K}$ 且 $\\Delta T = 60\\,\\mathrm{K}$。\n- **物理模型**：\n    - 非简并统计。\n    - 局域准平衡，验证了爱因斯坦关系式的有效性。\n    - 低电场电子迁移率模型：$\\mu_{n}(T) = \\mu_{\\mathrm{ref}}\\left(\\frac{T_{\\mathrm{ref}}}{T}\\right)^{m}$，其中 $\\mu_{\\mathrm{ref}} = 1350\\,\\mathrm{cm^{2}\\,V^{-1}\\,s^{-1}}$，$T_{\\mathrm{ref}} = 300\\,\\mathrm{K}$，且 $m=\\tfrac{3}{2}$。\n- **约束条件**：忽略显式热电效应源项。\n- **常数**：元电荷 $q$，玻尔兹曼常数 $k_{B}$。\n- **用于最终计算的数值**：$N_{D} = 1.0\\times 10^{16}\\,\\mathrm{cm^{-3}}$，$L = 10\\,\\mathrm{\\mu m}$，$V = 0.20\\,\\mathrm{V}$。\n\n**步骤2：使用提取的给定条件进行验证**\n该问题具有科学依据、提法明确且客观。它基于半导体器件的标准漂移-扩散模型，这是固态物理和电气工程中的一个基本概念。迁移率模型 $\\mu_n \\propto T^{-3/2}$ 适用于硅中的晶格（声学声子）散射。准中性假设（$n(x) \\approx N_{D}$）和无产生-复合假设是此类问题的标准且有效的简化，使其易于处理。所有提供的数据和模型都是自洽的，足以确定唯一的解。指定的简化（例如，忽略显式热电效应）清楚地界定了问题的范围。不存在科学缺陷、矛盾或歧义。\n\n**步骤3：结论和行动**\n问题被判定为有效。将提供一个完整的、有理有据的解答。\n\n**解题推导**\n\n解题过程通过解决三个指定的任务来进行。\n\n1) **迁移率的空间依赖关系, $\\mu_{n}(x)$**\n温度 $T$ 作为位置 $x$ 的函数给出：\n$$T(x) = T_{0} + \\frac{\\Delta T}{L}x$$\n电子迁移率 $\\mu_{n}$ 作为温度 $T$ 的函数给出：\n$$\\mu_{n}(T) = \\mu_{\\mathrm{ref}}\\left(\\frac{T_{\\mathrm{ref}}}{T}\\right)^{m}$$\n为了找到迁移率的空间依赖关系 $\\mu_{n}(x)$，我们将 $T(x)$ 的表达式代入 $\\mu_{n}(T)$ 的方程中：\n$$\\mu_{n}(x) = \\mu_{\\mathrm{ref}}\\left(\\frac{T_{\\mathrm{ref}}}{T_{0} + \\frac{\\Delta T}{L}x}\\right)^{m} = \\mu_{\\mathrm{ref}} T_{\\mathrm{ref}}^{m} \\left(T_{0} + \\frac{\\Delta T}{L}x\\right)^{-m}$$\n\n2) **扩散系数的空间依赖关系, $D_{n}(x)$**\n问题指出爱因斯坦关系式是成立的。对于非简并电子，该关系式为：\n$$D_{n} = \\frac{k_{B}T}{q}\\mu_{n}$$\n为了找到空间依赖关系 $D_{n}(x)$，我们代入 $T(x)$ 和 $\\mu_{n}(x)$ 的表达式：\n$$D_{n}(x) = \\frac{k_{B}}{q} T(x) \\mu_{n}(x)$$\n$$D_{n}(x) = \\frac{k_{B}}{q}\\left(T_{0} + \\frac{\\Delta T}{L}x\\right) \\left[ \\mu_{\\mathrm{ref}} T_{\\mathrm{ref}}^{m} \\left(T_{0} + \\frac{\\Delta T}{L}x\\right)^{-m} \\right]$$\n合并包含空间坐标 $x$ 的项：\n$$D_{n}(x) = \\frac{k_{B} \\mu_{\\mathrm{ref}} T_{\\mathrm{ref}}^{m}}{q} \\left(T_{0} + \\frac{\\Delta T}{L}x\\right)^{1-m}$$\n\n3) **电子电流密度, $J_{n}(x)$**\n电子的一维稳态连续性方程由下式给出：\n$$\\frac{1}{q} \\frac{dJ_{n}}{dx} = -(G_{n} - R_{n})$$\n其中 $G_{n}$ 和 $R_{n}$ 分别是产生率和复合率。问题指出没有净产生-复合，因此 $G_{n} - R_{n} = 0$。这意味着：\n$$\\frac{dJ_{n}}{dx} = 0$$\n因此，电子电流密度 $J_{n}(x)$ 在整个硅棒中是空间恒定的。我们可以将其表示为 $J_{n}$。\n\n总电子电流由漂移-扩散方程描述：\n$$J_{n}(x) = q n(x) \\mu_{n}(x) E(x) + q D_{n}(x) \\frac{dn}{dx}$$\n问题假设体区是准中性的，即 $n(x) \\approx N_{D}$，其中 $N_{D}$ 是均匀的施主浓度。这一简化意味着电子浓度梯度可以忽略不计，即 $\\frac{dn}{dx} \\approx 0$。因此，电流的扩散分量消失。电流完全由漂移引起：\n$$J_{n} = q N_{D} \\mu_{n}(x) E(x)$$\n由于 $J_{n}$、$q$ 和 $N_{D}$ 是常数，而 $\\mu_{n}(x)$ 随位置变化，电场 $E(x)$ 也必须随位置变化以维持恒定的电流：\n$$E(x) = \\frac{J_{n}}{q N_{D} \\mu_{n}(x)}$$\n器件两端的总电势降 $V$ 是电场从 $x=0$ 到 $x=L$ 的积分：\n$$V = \\int_{0}^{L} E(x) dx = \\int_{0}^{L} \\frac{J_{n}}{q N_{D} \\mu_{n}(x)} dx$$\n由于 $J_{n}$、$q$ 和 $N_{D}$ 是常数，我们可以写出：\n$$V = \\frac{J_{n}}{q N_{D}} \\int_{0}^{L} \\frac{1}{\\mu_{n}(x)} dx$$\n我们需要计算这个积分。迁移率的倒数是：\n$$\\frac{1}{\\mu_{n}(x)} = \\frac{1}{\\mu_{\\mathrm{ref}}} \\left(\\frac{T_{0} + \\frac{\\Delta T}{L}x}{T_{\\mathrm{ref}}}\\right)^{m} = \\frac{1}{\\mu_{\\mathrm{ref}} T_{\\mathrm{ref}}^{m}} \\left(T_{0} + \\frac{\\Delta T}{L}x\\right)^{m}$$\n积分为：\n$$\\int_{0}^{L} \\frac{1}{\\mu_{n}(x)} dx = \\frac{1}{\\mu_{\\mathrm{ref}} T_{\\mathrm{ref}}^{m}} \\int_{0}^{L} \\left(T_{0} + \\frac{\\Delta T}{L}x\\right)^{m} dx$$\n为了求解该积分，我们使用换元法，令 $u = T_{0} + \\frac{\\Delta T}{L}x$，则 $du = \\frac{\\Delta T}{L}dx$。积分上下限变为 $u(0)=T_{0}$ 和 $u(L)=T_{0}+\\Delta T$。\n\\begin{align*} \\int_{0}^{L} \\left(T_{0} + \\frac{\\Delta T}{L}x\\right)^{m} dx &= \\int_{T_{0}}^{T_{0}+\\Delta T} u^{m} \\left(\\frac{L}{\\Delta T}\\right) du \\\\ &= \\frac{L}{\\Delta T} \\left[ \\frac{u^{m+1}}{m+1} \\right]_{T_{0}}^{T_{0}+\\Delta T} \\\\ &= \\frac{L}{\\Delta T(m+1)} \\left[ (T_{0}+\\Delta T)^{m+1} - T_{0}^{m+1} \\right]\\end{align*}\n将此结果代回 $V$ 的表达式中：\n$$V = \\frac{J_{n}}{q N_{D}} \\frac{1}{\\mu_{\\mathrm{ref}} T_{\\mathrm{ref}}^{m}} \\frac{L}{\\Delta T(m+1)} \\left[ (T_{0}+\\Delta T)^{m+1} - T_{0}^{m+1} \\right]$$\n最后，我们求解电流密度 $J_{n}$：\n$$J_{n} = \\frac{q N_{D} \\mu_{\\mathrm{ref}} T_{\\mathrm{ref}}^{m} V \\Delta T (m+1)}{L \\left[ (T_{0}+\\Delta T)^{m+1} - T_{0}^{m+1} \\right]}$$\n这就是均匀电流密度的闭式表达式。\n\n**数值计算**\n我们将给定的数值代入 $J_{n}$ 的表达式中。首先，我们将所有参数转换为国际单位制（SI）单位。\n- $q = 1.6021766 \\times 10^{-19}\\, \\mathrm{C}$\n- $N_{D} = 1.0 \\times 10^{16}\\, \\mathrm{cm}^{-3} = 1.0 \\times 10^{16} \\times (10^{2})^{3}\\, \\mathrm{m}^{-3} = 1.0 \\times 10^{22}\\, \\mathrm{m}^{-3}$\n- $\\mu_{\\mathrm{ref}} = 1350\\, \\mathrm{cm^{2}\\,V^{-1}\\,s^{-1}} = 1350 \\times (10^{-2})^{2}\\, \\mathrm{m^{2}\\,V^{-1}\\,s^{-1}} = 0.135\\, \\mathrm{m^{2}\\,V^{-1}\\,s^{-1}}$\n- $T_{\\mathrm{ref}} = 300\\, \\mathrm{K}$\n- $V = 0.20\\, \\mathrm{V}$\n- $L = 10\\, \\mathrm{\\mu m} = 1.0 \\times 10^{-5}\\, \\mathrm{m}$\n- $T_{0} = 300\\, \\mathrm{K}$\n- $\\Delta T = 60\\, \\mathrm{K}$\n- $m = \\frac{3}{2} = 1.5$，所以 $m+1 = 2.5$\n\n分子是： $q N_{D} \\mu_{\\mathrm{ref}} T_{\\mathrm{ref}}^{m} V \\Delta T (m+1)$\n分子 $= (1.6021766 \\times 10^{-19}) (1.0 \\times 10^{22}) (0.135) (300^{1.5}) (0.20) (60) (2.5) \\approx 3.37119 \\times 10^{7}\\,\\mathrm{A \\cdot K^{1.5} \\cdot m^{-1}}$\n\n分母是： $L \\left[ (T_{0}+\\Delta T)^{m+1} - T_{0}^{m+1} \\right]$\n分母 $= (1.0 \\times 10^{-5}) \\left[ (300+60)^{2.5} - 300^{2.5} \\right]$\n分母 $= (1.0 \\times 10^{-5}) \\left[ 360^{2.5} - 300^{2.5} \\right]$\n分母 $\\approx (1.0 \\times 10^{-5}) [2458991.66 - 1558845.73] = (1.0 \\times 10^{-5}) [900145.93] \\approx 9.00146\\,\\mathrm{m \\cdot K^{2.5}}$\n\n电流密度是两者的比值：\n$$J_{n} = \\frac{3.37119 \\times 10^{7}}{9.00146} \\approx 3745143.5\\, \\mathrm{A\\,m^{-2}}$$\n四舍五入到四位有效数字，我们得到：\n$$J_{n} = 3.745 \\times 10^{6}\\, \\mathrm{A\\,m^{-2}}$$",
            "answer": "$$\\boxed{3.745 \\times 10^{6}}$$"
        },
        {
            "introduction": "将连续的物理方程转化为可在计算机上求解的数值模型，需要稳定而精确的离散化方法。本练习要求您亲手实现著名的 Scharfetter–Gummel (SG) 格式，这是漂移-扩散仿真中用于离散化电流连续性方程的黄金标准。通过这个编码实践，您将直接洞察数值求解器如何在处理巨大的电势和载流子浓度梯度时，仍能保持数值稳定性和物理准确性的内在机理，从而真正从“使用者”转变为“理解者”。",
            "id": "3756280",
            "problem": "考虑一个一维、均匀离散化的半导体板，其上有 $N$ 个节点，索引为 $k \\in \\{0,1,\\dots,N-1\\}$，空间步长为 $\\Delta x$，并在边界 $k=0$ 和 $k=N-1$ 处有狄利克雷接触。在无量纲归一化下工作，其中元电荷 $q$、热电压 $V_T$ 和参考长度均等于 $1$，因此扩散系数和迁移率通过爱因斯坦关系 $D_n = \\mu_n$ 和 $D_p = \\mu_p$ 相关联。设节点 $k$ 处的无量纲静电势为 $\\psi_k$，电子密度为 $n_k$，空穴密度为 $p_k$。将节点 $k$ 处的净肖克利-里德-霍尔（SRH）复合-产生率定义为\n$$\nU_k = \\frac{n_k p_k - n_i^2}{\\tau_p (n_k + n_i) + \\tau_n (p_k + n_i)},\n$$\n其中 $n_i$ 是本征载流子密度（无量纲），$\\tau_n$、$\\tau_p$ 是电子和空穴寿命（无量纲时间）。\n\n从漂移-扩散模型出发，一维稳态下电子和空穴的连续性方程为\n$$\n\\frac{\\partial J_n}{\\partial x} = G - R, \\quad \\frac{\\partial J_p}{\\partial x} = - (G - R),\n$$\n其中 $G - R$ 由 $U(x)$ 表示，电子和空穴的电流密度由下式给出\n$$\nJ_n = D_n \\left( \\frac{\\partial n}{\\partial x} - n \\frac{\\partial \\psi}{\\partial x} \\right), \\quad\nJ_p = - D_p \\left( \\frac{\\partial p}{\\partial x} + p \\frac{\\partial \\psi}{\\partial x} \\right).\n$$\n使用 Scharfetter–Gummel (SG) 指数拟合格式对边 $(k,k+1)$ 上的电子和空穴电流进行离散化，并构建内部节点 $k=1,2,\\dots,N-2$ 处的离散稳态残差为\n$$\nR_{n,k} = \\frac{J_{n,k+\\frac{1}{2}} - J_{n,k-\\frac{1}{2}}}{\\Delta x} - U_k, \\quad\nR_{p,k} = \\frac{J_{p,k+\\frac{1}{2}} - J_{p,k-\\frac{1}{2}}}{\\Delta x} + U_k,\n$$\n其中 $J_{n,k+\\frac{1}{2}}$ 和 $J_{p,k+\\frac{1}{2}}$ 分别表示边 $(k,k+1)$ 上的电子和空穴电流，边界节点 $k=0$ 和 $k=N-1$ 由于是狄利克雷接触而被排除在残差评估之外。\n\n您的任务是编写一个完整、可运行的程序，该程序：\n- 仅使用给定的物理基础和定义，在每条边上实现电流的 Scharfetter–Gummel 离散化；不要假设任何超出给定关系可推导出的简化公式。\n- 为每个测试用例计算离散残差向量 $\\{R_{n,k}\\}_{k=1}^{N-2}$ 和 $\\{R_{p,k}\\}_{k=1}^{N-2}$。\n- 通过检查所有边上的总电流（定义为 $J_{t,k+\\frac{1}{2}} = J_{n,k+\\frac{1}{2}} + J_{p,k+\\frac{1}{2}}$）在指定的数值容差内在所有 $k$ 上是否恒定，来验证稳态下的精确离散总电流守恒。\n\n将数值容差定义为 $\\varepsilon = 10^{-10}$。对于每个测试用例，产生两个布尔输出：\n1. $b_{\\mathrm{res}}$: 如果 $\\max\\left(\\max_k |R_{n,k}|, \\max_k |R_{p,k}|\\right) \\le \\varepsilon$ 则为 true，否则为 false。\n2. $b_{\\mathrm{curr}}$: 如果 $\\max_{k} J_{t,k+\\frac{1}{2}} - \\min_{k} J_{t,k+\\frac{1}{2}} \\le \\varepsilon$ 则为 true，否则为 false。\n\n使用以下带有无量纲参数的测试套件：\n- 测试用例 1 (近零场平衡，平滑变化):\n    - $N = 6$，$\\Delta x = 0.1$。\n    - $\\psi = [-0.05, -0.03, -0.01, 0.01, 0.03, 0.05]$。\n    - $n_i = 1.0$, $n_k = n_i \\exp(\\psi_k)$, $p_k = n_i \\exp(-\\psi_k)$。\n    - $\\mu_n = 1.0$, $\\mu_p = 1.0$, $\\tau_n = 1.0$, $\\tau_p = 1.0$。\n- 测试用例 2 (强内建场平衡，大电势差):\n    - $N = 6$，$\\Delta x = 0.1$。\n    - $\\psi = [-2.0, -1.2, -0.4, 0.4, 1.2, 2.0]$。\n    - $n_i = 1.0$, $n_k = n_i \\exp(\\psi_k)$, $p_k = n_i \\exp(-\\psi_k)$。\n    - $\\mu_n = 1.0$, $\\mu_p = 1.0$, $\\tau_n = 1.0$, $\\tau_p = 1.0$。\n- 测试用例 3 (零场和均匀密度):\n    - $N = 6$，$\\Delta x = 0.1$。\n    - $\\psi = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]$。\n    - $n_i = 1.0$, $n_k = 1.0$ 对于所有 $k$, $p_k = 1.0$ 对于所有 $k$。\n    - $\\mu_n = 1.0$, $\\mu_p = 1.0$, $\\tau_n = 1.0$, $\\tau_p = 1.0$。\n\n您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表形式的结果，每个测试用例对应一个双元素列表 $[b_{\\mathrm{res}}, b_{\\mathrm{curr}}]$。例如，输出格式必须与以下完全一样\n$$\n[\\,[\\mathrm{True},\\mathrm{False}],\\,[\\mathrm{True},\\mathrm{True}],\\,[\\mathrm{False},\\mathrm{True}]\\,].\n$$\n不涉及物理单位，因为所有量在构造上都是无量纲的。不出现角度。不出现百分比。",
            "solution": "推导从一维稳态漂移-扩散连续性方程开始。在无量纲归一化（$q=1$, $V_T=1$）下，电子和空穴电流定义为\n$$\nJ_n = D_n \\left( \\frac{\\partial n}{\\partial x} - n \\frac{\\partial \\psi}{\\partial x} \\right), \\quad\nJ_p = - D_p \\left( \\frac{\\partial p}{\\partial x} + p \\frac{\\partial \\psi}{\\partial x} \\right),\n$$\n其中爱因斯坦关系得出 $D_n = \\mu_n$ 和 $D_p = \\mu_p$。稳态连续性方程为\n$$\n\\frac{\\partial J_n}{\\partial x} = U(x), \\qquad \\frac{\\partial J_p}{\\partial x} = -U(x),\n$$\n其中 $U(x)$ 是净复合-产生率，此处用肖克利-里德-霍尔表达式建模\n$$\nU(x) = \\frac{n(x) p(x) - n_i^2}{\\tau_p (n(x) + n_i) + \\tau_n (p(x) + n_i)}.\n$$\n\n对于均匀网格上的有限体积离散化，将一个以每个内部节点 $k$ 为中心的控制体与位于 $(k-\\frac{1}{2})$ 和 $(k+\\frac{1}{2})$ 的边关联起来。离散残差是通过在控制体上对连续性方程进行积分并除以体积（长度 $\\Delta x$）得到的，结果为\n$$\nR_{n,k} = \\frac{J_{n,k+\\frac{1}{2}} - J_{n,k-\\frac{1}{2}}}{\\Delta x} - U_k, \\quad\nR_{p,k} = \\frac{J_{p,k+\\frac{1}{2}} - J_{p,k-\\frac{1}{2}}}{\\Delta x} + U_k,\n$$\n对于 $k=1,2,\\dots,N-2$。逐点对这些残差求和得到\n$$\nR_{n,k} + R_{p,k} = \\frac{(J_{n,k+\\frac{1}{2}} + J_{p,k+\\frac{1}{2}}) - (J_{n,k-\\frac{1}{2}} + J_{p,k-\\frac{1}{2}})}{\\Delta x} = \\frac{J_{t,k+\\frac{1}{2}} - J_{t,k-\\frac{1}{2}}}{\\Delta x},\n$$\n其中 $J_{t,k+\\frac{1}{2}} = J_{n,k+\\frac{1}{2}} + J_{p,k+\\frac{1}{2}}$ 是穿过边 $(k,k+1)$ 的总电流。因此，在稳态下，离散总电流必须在所有边上保持恒定，这与复合-产生的细节无关，从而为电流守恒提供了可靠的验证。\n\n为了离散化每条边 $(k,k+1)$ 上的电流 $J_{n,k+\\frac{1}{2}}$ 和 $J_{p,k+\\frac{1}{2}}$，我们使用 Scharfetter–Gummel 指数拟合格式。该格式源于在每条边内部求解 $n(x)$ 和 $p(x)$ 的稳态漂移-扩散常微分方程，其假设是 $\\partial \\psi/\\partial x$ 在边上为常数，且 $J_n$ 和 $J_p$ 在边上为常数。考虑在长度为 $\\Delta x$ 的边上的电子方程，其左右节点值分别为 $n_L = n_k$，$n_R = n_{k+1}$，电势差为 $\\Delta \\psi = \\psi_{k+1} - \\psi_k$。电子电流在边上是恒定的，\n$$\nJ_n = D_n \\left( \\frac{dn}{dx} - n \\frac{d\\psi}{dx} \\right),\n$$\n其中 $\\frac{d\\psi}{dx} = \\Delta \\psi / \\Delta x$。该微分方程可以重新整理为\n$$\n\\frac{dn}{dx} - n \\frac{\\Delta \\psi}{\\Delta x} = \\frac{J_n}{D_n}.\n$$\n乘以 $\\exp\\left(-\\frac{\\Delta \\psi}{\\Delta x} x\\right)$ 并积分，可以得到能够精确保持指数边界层的边解。施加边界值 $n(0) = n_L$，$n(\\Delta x) = n_R$ 可以得到闭合形式的通量关系\n$$\nJ_{n,k+\\frac{1}{2}} = \\frac{D_n}{\\Delta x} \\left[ B(\\Delta \\psi) \\, n_{k+1} - B(-\\Delta \\psi) \\, n_k \\right],\n$$\n其中伯努利函数 $B(\\xi)$ 定义为\n$$\nB(\\xi) = \\frac{\\xi}{e^{\\xi} - 1}.\n$$\n对空穴进行类似的推导，从\n$$\nJ_p = -D_p \\left( \\frac{dp}{dx} + p \\frac{d\\psi}{dx} \\right),\n$$\n开始，得到\n$$\nJ_{p,k+\\frac{1}{2}} = -\\frac{D_p}{\\Delta x} \\left[ B(-\\Delta \\psi) \\, p_{k+1} - B(\\Delta \\psi) \\, p_k \\right].\n$$\n这些公式是 Scharfetter–Gummel 离散化，保证了单调性和平衡态的精确保持。另外两个恒等式确保了数值的稳健性：\n- 伯努利函数满足 $B(-\\xi) = e^{\\xi} B(\\xi)$，这对于代数检查（如平衡电流）很有用。\n- 对于小自变量，伯努利函数有泰勒展开 $B(\\xi) = 1 - \\frac{\\xi}{2} + \\frac{\\xi^2}{12} - \\frac{\\xi^4}{720} + \\dots$，这可以避免在 $|\\xi|$ 非常小时发生精度损失。\n\n算法步骤：\n1. 对于每个测试用例，构建数组 $\\psi_k$、$n_k$、$p_k$（$k=0,\\dots,N-1$）以及标量 $\\mu_n$、$\\mu_p$、$n_i$、$\\tau_n$、$\\tau_p$ 和 $\\Delta x$。设置 $D_n = \\mu_n$，$D_p = \\mu_p$。\n2. 对于每条边 $(k,k+1)$，计算 $\\Delta \\psi = \\psi_{k+1} - \\psi_k$，评估 $B(\\Delta \\psi)$ 和 $B(-\\Delta \\psi)$，并使用上面的 SG 公式计算 $J_{n,k+\\frac{1}{2}}$ 和 $J_{p,k+\\frac{1}{2}}$。\n3. 对于每个内部节点 $k=1,\\dots,N-2$，通过 SRH 表达式计算 $U_k$，然后计算残差\n$$\nR_{n,k} = \\frac{J_{n,k+\\frac{1}{2}} - J_{n,k-\\frac{1}{2}}}{\\Delta x} - U_k, \\quad\nR_{p,k} = \\frac{J_{p,k+\\frac{1}{2}} - J_{p,k-\\frac{1}{2}}}{\\Delta x} + U_k.\n$$\n4. 计算每条边上的总电流 $J_{t,k+\\frac{1}{2}} = J_{n,k+\\frac{1}{2}} + J_{p,k+\\frac{1}{2}}$，并通过计算其变化范围 $\\max_k J_{t,k+\\frac{1}{2}} - \\min_k J_{t,k+\\frac{1}{2}}$ 来检查其在所有边上是否恒定。\n5. 使用数值容差 $\\varepsilon = 10^{-10}$，为每个测试用例设置布尔输出：\n   - 如果 $\\max\\left(\\max_k |R_{n,k}|, \\max_k |R_{p,k}|\\right) \\le \\varepsilon$，则 $b_{\\mathrm{res}}$ 为 true。\n   - 如果 $\\max_k J_{t,k+\\frac{1}{2}} - \\min_k J_{t,k+\\frac{1}{2}} \\le \\varepsilon$，则 $b_{\\mathrm{curr}}$ 为 true。\n\n测试套件中的验证和边界情况：\n- 在平衡状态下，当 $n_k = n_i e^{\\psi_k}$ 和 $p_k = n_i e^{-\\psi_k}$ 时，SG 格式精确地得出所有边上的 $J_{n,k+\\frac{1}{2}} = 0$ 和 $J_{p,k+\\frac{1}{2}} = 0$，因为\n$$\nJ_{n,k+\\frac{1}{2}} = \\frac{D_n}{\\Delta x} \\left[ B(\\Delta \\psi) e^{\\psi_{k+1}} - B(-\\Delta \\psi) e^{\\psi_k} \\right]\n= \\frac{D_n e^{\\psi_k}}{\\Delta x} \\left[ B(\\Delta \\psi) e^{\\Delta \\psi} - B(-\\Delta \\psi) \\right] = 0,\n$$\n使用 $B(-\\xi) = e^{\\xi} B(\\xi)$。类似地，$J_{p,k+\\frac{1}{2}} = 0$。因此，根据 SRH 模型 $U_k = 0$，因为在平衡状态下 $n_k p_k = n_i^2$，两个残差都恒为零，而总电流在所有边上是恒定（为零）的。这对于小和大 $\\Delta \\psi$ 都成立，测试了 $B(\\xi)$ 在零附近的数值稳定性以及在强场下的稳健性。\n- 在均匀密度的平凡零场情况下，$J_{n,k+\\frac{1}{2}} = 0$，$J_{p,k+\\frac{1}{2}} = 0$，$U_k = 0$，因此残差为零，总电流恒定。\n\n程序实现了这些步骤，对小自变量使用了伯努利函数的稳定评估方法，应用了 SG 离散化，并为每个测试用例返回一对布尔值，指示离散残差是否在容差范围内，以及总电流是否在容差范围内在所有边上守恒。最终输出将这些布尔值对聚合到一个列表中，并以规定的格式作为单行字符串打印。\n```python\nimport numpy as np\n\ndef bernoulli(x):\n    \"\"\"\n    Stable evaluation of the Bernoulli function B(x) = x / (exp(x) - 1).\n    Uses a Taylor expansion for small |x| to avoid loss of significance.\n    Supports numpy arrays.\n    \"\"\"\n    x = np.asarray(x, dtype=float)\n    out = np.empty_like(x)\n    small = np.abs(x)  1e-13\n    # Taylor expansion up to x^4 term for better stability\n    xs = x[small]\n    out[small] = 1.0 - xs/2.0 + xs**2/12.0 - xs**4/720.0\n    # General case\n    not_small = ~small\n    xn = x[not_small]\n    out[not_small] = xn / (np.exp(xn) - 1.0)\n    return out\n\ndef sg_currents(psi, n, p, mu_n, mu_p, dx):\n    \"\"\"\n    Compute Scharfetter-Gummel edge currents for electrons and holes\n    on a uniform 1D grid.\n    psi, n, p: arrays of length N (node values)\n    mu_n, mu_p: scalar mobilities (dimensionless), with D = mu (Einstein relation, V_T=1)\n    dx: scalar grid spacing (dimensionless)\n    Returns:\n        Jn_edges, Jp_edges: arrays of length N-1 (edge currents between k and k+1)\n    \"\"\"\n    psi = np.asarray(psi, dtype=float)\n    n = np.asarray(n, dtype=float)\n    p = np.asarray(p, dtype=float)\n    N = psi.size\n    assert n.size == N and p.size == N\n    Dn = float(mu_n)\n    Dp = float(mu_p)\n    dpsi = psi[1:] - psi[:-1]  # length N-1\n    Bp = bernoulli(dpsi)\n    Bm = bernoulli(-dpsi)\n    # Electron SG flux: J_n = (D_n/dx) [ B(dpsi) * n_right - B(-dpsi) * n_left ]\n    Jn = (Dn / dx) * (Bp * n[1:] - Bm * n[:-1])\n    # Hole SG flux: J_p = -(D_p/dx) [ B(-dpsi) * p_right - B(dpsi) * p_left ]\n    Jp = -(Dp / dx) * (Bm * p[1:] - Bp * p[:-1])\n    return Jn, Jp\n\ndef srh_U(n, p, ni, tau_n, tau_p):\n    \"\"\"\n    Shockley-Read-Hall net recombination-generation rate (dimensionless).\n    U = (np - ni^2) / (tau_p (n + ni) + tau_n (p + ni))\n    \"\"\"\n    n = np.asarray(n, dtype=float)\n    p = np.asarray(p, dtype=float)\n    denom = tau_p * (n + ni) + tau_n * (p + ni)\n    # Avoid division by zero in pathological cases\n    # Here, parameters guarantee denom > 0.\n    return (n * p - ni**2) / denom\n\ndef compute_residuals(psi, n, p, mu_n, mu_p, dx, ni, tau_n, tau_p):\n    \"\"\"\n    Compute discrete residuals for electrons and holes at interior nodes.\n    Returns:\n        Rn, Rp: arrays of length N-2 (nodes 1..N-2),\n        J_total_edges: array of length N-1 (edge total currents)\n    \"\"\"\n    Jn_edges, Jp_edges = sg_currents(psi, n, p, mu_n, mu_p, dx)\n    U_nodes = srh_U(n, p, ni, tau_n, tau_p)\n    # Residuals at interior nodes k=1..N-2\n    # Rn_k = (Jn_right - Jn_left)/dx - U_k\n    # Rp_k = (Jp_right - Jp_left)/dx + U_k\n    Rn = (Jn_edges[1:] - Jn_edges[:-1]) / dx - U_nodes[1:-1]\n    Rp = (Jp_edges[1:] - Jp_edges[:-1]) / dx + U_nodes[1:-1]\n    J_total_edges = Jn_edges + Jp_edges\n    return Rn, Rp, J_total_edges\n\ndef verify_case(psi, n, p, mu_n, mu_p, dx, ni, tau_n, tau_p, tol=1e-10):\n    \"\"\"\n    For a given test case, compute residuals and verify:\n    - residuals are within tolerance,\n    - total current is constant across edges within tolerance.\n    Returns a pair of booleans: [res_ok, curr_ok].\n    \"\"\"\n    Rn, Rp, Jt = compute_residuals(psi, n, p, mu_n, mu_p, dx, ni, tau_n, tau_p)\n    max_res = max(np.max(np.abs(Rn)) if Rn.size > 0 else 0.0,\n                  np.max(np.abs(Rp)) if Rp.size > 0 else 0.0)\n    res_ok = (max_res = tol)\n    spread = (np.max(Jt) - np.min(Jt)) if Jt.size > 0 else 0.0\n    curr_ok = (spread = tol)\n    return [res_ok, curr_ok]\n\ndef solve():\n    # Define the test cases from the problem statement.\n    test_cases = []\n    # Test Case 1\n    N1 = 6\n    dx1 = 0.1\n    psi1 = np.array([-0.05, -0.03, -0.01, 0.01, 0.03, 0.05], dtype=float)\n    ni1 = 1.0\n    n1 = ni1 * np.exp(psi1)\n    p1 = ni1 * np.exp(-psi1)\n    mu_n1 = 1.0\n    mu_p1 = 1.0\n    tau_n1 = 1.0\n    tau_p1 = 1.0\n    test_cases.append((psi1, n1, p1, mu_n1, mu_p1, dx1, ni1, tau_n1, tau_p1))\n    # Test Case 2\n    N2 = 6\n    dx2 = 0.1\n    psi2 = np.array([-2.0, -1.2, -0.4, 0.4, 1.2, 2.0], dtype=float)\n    ni2 = 1.0\n    n2 = ni2 * np.exp(psi2)\n    p2 = ni2 * np.exp(-psi2)\n    mu_n2 = 1.0\n    mu_p2 = 1.0\n    tau_n2 = 1.0\n    tau_p2 = 1.0\n    test_cases.append((psi2, n2, p2, mu_n2, mu_p2, dx2, ni2, tau_n2, tau_p2))\n    # Test Case 3\n    N3 = 6\n    dx3 = 0.1\n    psi3 = np.zeros(N3, dtype=float)\n    ni3 = 1.0\n    n3 = np.ones(N3, dtype=float) * 1.0\n    p3 = np.ones(N3, dtype=float) * 1.0\n    mu_n3 = 1.0\n    mu_p3 = 1.0\n    tau_n3 = 1.0\n    tau_p3 = 1.0\n    test_cases.append((psi3, n3, p3, mu_n3, mu_p3, dx3, ni3, tau_n3, tau_p3))\n\n    results = []\n    for case in test_cases:\n        psi, n, p, mu_n, mu_p, dx, ni, tau_n, tau_p = case\n        res = verify_case(psi, n, p, mu_n, mu_p, dx, ni, tau_n, tau_p, tol=1e-10)\n        results.append(res)\n\n    # Final print statement in the exact required format.\n    # Each result is a pair [bool, bool]; aggregate into a single list.\n    # Ensure booleans are printed as True/False without quotes.\n    formatted = \"[\" + \",\".join(\"[\" + \",\".join(str(x) for x in pair) + \"]\" for pair in results) + \"]\"\n    print(formatted)\n\nif __name__ == \"__main__\":\n    solve()\n```",
            "answer": "[[True, True],[True, True],[True, True]]"
        }
    ]
}