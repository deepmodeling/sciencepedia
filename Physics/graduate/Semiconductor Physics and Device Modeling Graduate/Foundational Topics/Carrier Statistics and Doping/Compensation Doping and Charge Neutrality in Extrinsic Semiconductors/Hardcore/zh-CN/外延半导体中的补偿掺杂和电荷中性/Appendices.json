{
    "hands_on_practices": [
        {
            "introduction": "在我们处理补偿掺杂中的电荷中性问题之前，理解杂质为何以及何时会电离是至关重要的。这个练习将带你回到基本原理，使用有效的氢原子模型来估算施主杂质的束缚能和有效波尔半径。通过这个计算，你将亲身体会到为何在室温下，浅能级杂质通常可以被认为是完全电离的，为后续更宏观的电荷平衡分析奠定物理基础。",
            "id": "3734457",
            "problem": "一种非本征半导体包含替代施主杂质，其束缚电子态可以通过有效质量氢原子图像来建模。考虑一个三维各向同性的导带，其特征为电子有效质量 $m^{*} = 0.2\\,m_{0}$（其中 $m_{0}$ 是电子静止质量）和静态相对介电常数 $\\epsilon_{r} = 12$。从屏蔽库仑势中电子的定态薛定谔方程出发，并仅使用氢原子问题的基本定义和经过充分检验的结果，确定该材料中施主的基态结合能和有效玻尔半径。\n\n您必须根据有效质量和介电屏蔽框架，从第一性原理推导表达式，然后进行数值计算。使用以下国际单位制（SI）中的常数：元电荷 $e = 1.602\\,176\\,634 \\times 10^{-19}\\,\\mathrm{C}$，真空介电常数 $\\epsilon_{0} = 8.854\\,187\\,8128 \\times 10^{-12}\\,\\mathrm{F/m}$，约化普朗克常数 $\\hbar = 1.054\\,571\\,817 \\times 10^{-34}\\,\\mathrm{J\\cdot s}$，以及电子静止质量 $m_{0} = 9.109\\,383\\,7015 \\times 10^{-31}\\,\\mathrm{kg}$。您也可以使用氢原子玻尔半径 $a_{0} = 5.291\\,772\\,10903 \\times 10^{-11}\\,\\mathrm{m}$ 和氢原子里德堡能量 $E_{\\mathrm{Ry}}^{\\mathrm{H}} = 13.605\\,693\\,\\mathrm{eV}$，前提是您能从底层的薛定谔方程中证明其使用的合理性。\n\n- 将施主结合能以 $\\mathrm{meV}$ 表示，玻尔半径以 $\\mathrm{nm}$ 表示。\n- 将最终数值结果四舍五入至四位有效数字。\n- 完成计算后，简要讨论这些数值是否与非本征半导体的浅杂质近似一致，以及这对补偿掺杂情况下电中性适用性的影响。该讨论不影响所需的数值答案。",
            "solution": "提出的问题需要根据既定标准进行验证。\n\n### 步骤1：提取已知条件\n- 系统是一种含有替代施主杂质的非本征半导体。\n- 所使用的模型是有效质量氢原子图像。\n- 导带是三维各向同性的。\n- 电子有效质量：$m^{*} = 0.2\\,m_{0}$。\n- 电子静止质量：$m_{0}$。\n- 静态相对介电常数：$\\epsilon_{r} = 12$。\n- 出发点是屏蔽库仑势中电子的定态薛定谔方程。\n- 提供了基本常数：\n  - 元电荷 $e = 1.602\\,176\\,634 \\times 10^{-19}\\,\\mathrm{C}$\n  - 真空介电常数 $\\epsilon_{0} = 8.854\\,187\\,8128 \\times 10^{-12}\\,\\mathrm{F/m}$\n  - 约化普朗克常数 $\\hbar = 1.054\\,571\\,817 \\times 10^{-34}\\,\\mathrm{J\\cdot s}$\n  - 电子静止质量 $m_{0} = 9.109\\,383\\,7015 \\times 10^{-31}\\,\\mathrm{kg}$\n- 提供了参考值，并附带条件要求证明其使用的合理性：\n  - 氢原子玻尔半径 $a_{0} = 5.291\\,772\\,10903 \\times 10^{-11}\\,\\mathrm{m}$\n  - 氢原子里德堡能量 $E_{\\mathrm{Ry}}^{\\mathrm{H}} = 13.605\\,693\\,\\mathrm{eV}$\n- 要求的输出是施主结合能（单位为 $\\mathrm{meV}$）和有效玻尔半径（单位为 $\\mathrm{nm}$），并四舍五入至四位有效数字。\n- 要求简要讨论浅杂质近似的有效性及其对电中性的影响。\n\n### 步骤2：使用提取的已知条件进行验证\n- **科学依据**：该问题基于有效质量近似和浅杂质的氢原子模型，这些是半导体物理学中标准和基本的概念。问题的所有方面在科学上都是合理的。\n- **适定性**：该问题定义清晰，并提供了所有必要的物理参数（$m^{*}$，$\\epsilon_{r}$）和基本常数，以唯一地确定所要求的量（施主结合能和有效玻尔半径）。\n- **客观性**：该问题使用精确、客观的科学语言陈述，没有歧义或主观论断。\n\n该问题没有表现出任何诸如科学上不合理、不完整、矛盾或不可行之类的缺陷。要求从第一性原理推导表达式并证明氢原子参考值使用的合理性，是确保严谨求解的标准教学要求。\n\n### 步骤3：结论与行动\n该问题被判定为**有效**。将提供一个完整的、有理有据的解答。\n\n### 解题推导\n该问题要求我们为半导体晶格中的施主杂质电子建模。一个典型的施主杂质（例如，硅中的磷）比主晶格原子多一个价电子和原子核中多一个质子。因此，施主原子被建模为嵌入半导体中的一个固定的正点电荷$+e$，束缚着这个额外的电子。它们之间的相互作用是库仑引力，但通过两种关键方式被修正：\n1.  电子的运动受晶体的能带结构支配，这通过用有效质量 $m^*$ 替代电子的静止质量 $m_0$ 来体现。\n2.  电子和施主离子之间的库仑力被主半导体晶体的极化性所削弱或“屏蔽”，这通过用材料的介电常数 $\\epsilon = \\epsilon_r \\epsilon_0$ 替代真空介电常数 $\\epsilon_0$ 来体现。\n\n距离施主离子为 $r$ 处的电子的势能 $V(r)$ 是屏蔽库仑势：\n$$V(r) = -\\frac{e^2}{4\\pi\\epsilon r} = -\\frac{e^2}{4\\pi\\epsilon_r\\epsilon_0 r}$$\n\n那么，施主电子的定态薛定谔方程为：\n$$\\left( -\\frac{\\hbar^2}{2m^*} \\nabla^2 + V(r) \\right) \\psi(\\mathbf{r}) = E \\psi(\\mathbf{r})$$\n代入势能表达式，我们得到：\n$$-\\frac{\\hbar^2}{2m^*} \\nabla^2 \\psi(\\mathbf{r}) - \\frac{e^2}{4\\pi\\epsilon_r\\epsilon_0 r} \\psi(\\mathbf{r}) = E \\psi(\\mathbf{r})$$\n这个方程在数学上与氢原子的薛定谔方程相同，后者描述了一个质量为 $m_0$ 的电子在真空中（介电常数为 $\\epsilon_0$）绕质子运动的情况：\n$$-\\frac{\\hbar^2}{2m_0} \\nabla^2 \\psi_H(\\mathbf{r}) - \\frac{e^2}{4\\pi\\epsilon_0 r} \\psi_H(\\mathbf{r}) = E_H \\psi_H(\\mathbf{r})$$\n氢原子众所周知的基态（$n=1$）解是玻尔半径 $a_0$ 和里德堡能量 $E_{\\mathrm{Ry}}^{\\mathrm{H}}$（基态结合能）：\n$$a_0 = \\frac{4\\pi\\epsilon_0\\hbar^2}{m_0 e^2}$$\n$$E_{\\mathrm{Ry}}^{\\mathrm{H}} = -E_{H,n=1} = \\frac{m_0 e^4}{2(4\\pi\\epsilon_0)^2\\hbar^2}$$\n鉴于这两个薛定谔方程在数学上的等价性，我们可以通过在氢原子解中进行以下替换来获得施主电子的解：\n$m_0 \\rightarrow m^*$\n$\\epsilon_0 \\rightarrow \\epsilon_r\\epsilon_0$\n这个过程证明了使用 $a_0$ 和 $E_{\\mathrm{Ry}}^{\\mathrm{H}}$ 作为参考值的合理性。\n\n因此，施主的有效玻尔半径 $a_B^*$ 为：\n$$a_B^* = \\frac{4\\pi(\\epsilon_r\\epsilon_0)\\hbar^2}{m^* e^2} = \\frac{\\epsilon_r}{m^*/m_0} \\left( \\frac{4\\pi\\epsilon_0\\hbar^2}{m_0 e^2} \\right) = \\frac{\\epsilon_r}{m^*/m_0} a_0$$\n相对于导带底（其能量设为零）的施主电子基态能量是 $E_{d,GS}$。施主结合能 $E_d$ 是将电子从该基态提升到导带所需的能量，所以 $E_d = -E_{d,GS}$。\n$$E_d = \\frac{m^* e^4}{2(4\\pi\\epsilon_r\\epsilon_0)^2\\hbar^2} = \\frac{m^*/m_0}{(\\epsilon_r)^2} \\left( \\frac{m_0 e^4}{2(4\\pi\\epsilon_0)^2\\hbar^2} \\right) = \\frac{m^*/m_0}{(\\epsilon_r)^2} E_{\\mathrm{Ry}}^{\\mathrm{H}}$$\n\n### 数值计算\n我们已知以下数值：\n- $m^*/m_0 = 0.2$\n- $\\epsilon_r = 12$\n- $a_0 = 5.29177210903 \\times 10^{-11}\\,\\mathrm{m}$\n- $E_{\\mathrm{Ry}}^{\\mathrm{H}} = 13.605693\\,\\mathrm{eV}$\n\n首先，我们计算有效玻尔半径 $a_B^*$：\n$$a_B^* = \\frac{12}{0.2} a_0 = 60 \\times (5.29177210903 \\times 10^{-11}\\,\\mathrm{m})$$\n$$a_B^* = 3.175063265 \\times 10^{-9}\\,\\mathrm{m} = 3.175063265\\,\\mathrm{nm}$$\n四舍五入至四位有效数字，我们得到：\n$$a_B^* = 3.175\\,\\mathrm{nm}$$\n\n接下来，我们计算施主结合能 $E_d$：\n$$E_d = \\frac{0.2}{(12)^2} E_{\\mathrm{Ry}}^{\\mathrm{H}} = \\frac{0.2}{144} E_{\\mathrm{Ry}}^{\\mathrm{H}} = \\frac{1}{720} \\times (13.605693\\,\\mathrm{eV})$$\n$$E_d = 0.0188967958\\,\\mathrm{eV} = 18.8967958\\,\\mathrm{meV}$$\n四舍五入至四位有效数字，我们得到：\n$$E_d = 18.90\\,\\mathrm{meV}$$\n\n### 讨论\n有效质量氢原子模型的适用性取决于浅杂质近似，这需要满足两个条件：\n1.  结合能 $E_d$ 必须远小于半导体的带隙能量 $E_g$ ($E_d \\ll E_g$)。\n2.  有效玻尔半径 $a_B^*$ 必须远大于晶体的晶格常数 $a_{\\mathrm{lattice}}$ ($a_B^* \\gg a_{\\mathrm{lattice}}$)。\n\n我们计算出的结合能是 $E_d \\approx 18.9\\,\\mathrm{meV}$。对于典型的半导体，如硅（$E_g \\approx 1.1\\,\\mathrm{eV}$）或砷化镓（$E_g \\approx 1.4\\,\\mathrm{eV}$），这个能量相比之下非常小（$0.0189\\,\\mathrm{eV} \\ll 1.1\\,\\mathrm{eV}$）。这证实了杂质能级是“浅”的，即位于非常靠近导带边的位置。\n我们计算出的有效玻尔半径是 $a_B^* \\approx 3.175\\,\\mathrm{nm}$ 或 $31.75\\,\\mathrm{\\AA}$。半导体的典型晶格常数在 $5-6\\,\\mathrm{\\AA}$ 的范围内。计算出的半径要大得多，意味着电子的波函数扩展到了许多晶胞上。这自洽地证明了使用宏观平均参数如 $m^*$ 和 $\\epsilon_r$ 的合理性。\n两个条件都得到了很好的满足，从而验证了该模型的使用。\n\n这一结果直接影响对补偿半导体中电中性的分析。电中性方程为 $p + N_D^+ = n + N_A^-$，其中电离施主（$N_D^+$）和电离受主（$N_A^-$）的浓度取决于温度及其各自的结合能。一个小的施主结合能，例如计算出的 $E_d \\approx 18.9\\,\\mathrm{meV}$，与室温下的热能 $k_B T \\approx 25.9\\,\\mathrm{meV}$ 相当。这确保了在一个宽泛且实用的温度范围内，几乎所有的施主原子都被电离（$N_D^+ \\approx N_D$）。因此，对于 $N_D > N_A$ 的n型补偿半导体，电中性方程通常简化为 $n \\approx N_D - N_A$，从而在净掺杂浓度和自由电子浓度之间建立了直接的联系。",
            "answer": "$$\\boxed{\\begin{pmatrix} 18.90 & 3.175 \\end{pmatrix}}$$"
        },
        {
            "introduction": "掌握了浅能级杂质的物理图像后，我们现在可以应用半导体物理中两个最核心的定律：电荷中性原理和质量作用定律。此练习要求你在一个同时含有施主和受主杂质的补偿半导体中，求解电子和空穴的平衡浓度。这个经典的计算是理解掺杂如何精确调控半导体导电性质的基石。",
            "id": "3734470",
            "problem": "一个处于热平衡状态的均匀掺杂硅样品被补偿，其施主浓度和受主浓度分别为 $N_{D} = 10^{16}\\,\\text{cm}^{-3}$ 和 $N_{A} = 6\\times 10^{15}\\,\\text{cm}^{-3}$。本征载流子浓度为 $n_{i} = 10^{10}\\,\\text{cm}^{-3}$。假设掺杂剂完全电离且遵循非简并统计。仅从全局电中性和半导体在平衡状态下载流子的热力学质量作用关系出发，推导该补偿样品中电子浓度 $n$ 和空穴浓度 $p$ 的表达式。然后，根据给定数据对 $n$ 和 $p$ 进行数值计算。最后，验证计算出的 $n$ 和 $p$ 在舍入误差范围内与质量作用关系一致。将 $n$ 和 $p$ 均以 $\\text{cm}^{-3}$ 为单位表示，并将您的数值结果四舍五入至四位有效数字。以有序对 $(n, p)$ 的形式报告您的最终答案。",
            "solution": "问题陈述被评估为有效。其科学基础在于半导体物理学原理，问题提法得当，信息充分且一致，语言客观。它是在非本征半导体研究中的一个标准问题。\n\n在热平衡状态下的补偿半导体中，电子浓度 $n$ 和空穴浓度 $p$ 的解可由两条基本原理推导得出：全局电中性原理和质量作用定律。\n\n首先，电中性原理指出，总正电荷密度必须等于总负电荷密度。正电荷是空穴（浓度为 $p$）和电离的施主原子（浓度为 $N_D^+$）。负电荷是电子（浓度为 $n$）和电离的受主原子（浓度为 $N_A^-$）。单个空穴或电子的电荷是元电荷 $e$。因此，电中性方程为：\n$$e \\cdot p + e \\cdot N_D^+ = e \\cdot n + e \\cdot N_A^-$$\n两边同除以 $e$，我们得到浓度之间的关系：\n$$p + N_D^+ = n + N_A^-$$\n问题陈述要求假设掺杂剂完全电离。这意味着每个施主原子都提供了一个电子，每个受主原子都接受了一个电子。因此，电离施主和受主的浓度分别等于它们的总浓度：$N_D^+ = N_D$ 和 $N_A^- = N_A$。电中性方程简化为：\n$$p + N_D = n + N_A$$\n这个方程可以重新整理，用净掺杂浓度来表示电子和空穴浓度之差：\n$$n - p = N_D - N_A$$\n\n其次，热平衡状态下半导体中载流子的质量作用定律指出，电子和空穴浓度的乘积是一个常数，等于本征载流子浓度 $n_i$ 的平方。这个关系由下式给出：\n$$n \\cdot p = n_i^2$$\n无论掺杂水平如何，只要半导体处于热平衡状态并且非简并统计适用（正如问题中所假设的那样），该关系都成立。\n\n我们现在得到一个包含两个未知数 $n$ 和 $p$ 的方程组：\n1. $n - p = N_D - N_A$\n2. $n \\cdot p = n_i^2$\n\n为了求解 $n$，我们可以从方程(2)中将 $p$ 表示为 $p = n_i^2 / n$（因为 $n \\neq 0$），并将其代入方程(1)：\n$$n - \\frac{n_i^2}{n} = N_D - N_A$$\n整个方程乘以 $n$ 以消去分母，得到一个关于 $n$ 的二次方程：\n$$n^2 - n_i^2 = (N_D - N_A)n$$\n整理成标准形式（$ax^2 + bx + c = 0$）得到：\n$$n^2 - (N_D - N_A)n - n_i^2 = 0$$\n这个关于 $n$ 的二次方程可以用二次公式 $n = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}$ 求解，其中 $a=1$，$b=-(N_D - N_A)$ 和 $c=-n_i^2$：\n$$n = \\frac{(N_D - N_A) \\pm \\sqrt{(-(N_D - N_A))^2 - 4(1)(-n_i^2)}}{2}$$\n$$n = \\frac{(N_D - N_A) \\pm \\sqrt{(N_D - N_A)^2 + 4n_i^2}}{2}$$\n由于电子浓度 $n$ 必须是一个正的物理量，我们必须选择正根。负根会得到一个负的 $n$ 值，因为平方根项严格大于 $|N_D - N_A|$。因此，$n$ 的唯一有效解是：\n$$n = \\frac{N_D - N_A}{2} + \\sqrt{\\left(\\frac{N_D - N_A}{2}\\right)^2 + n_i^2}$$\n一旦确定了 $n$，最容易的方法是使用质量作用定律来求 $p$：\n$$p = \\frac{n_i^2}{n}$$\n\n现在，我们使用给定的数据对这些表达式进行数值计算：\n- 施主浓度：$N_D = 10^{16}\\,\\text{cm}^{-3}$\n- 受主浓度：$N_A = 6 \\times 10^{15}\\,\\text{cm}^{-3}$\n- 本征载流子浓度：$n_i = 10^{10}\\,\\text{cm}^{-3}$\n\n首先，计算有效净掺杂浓度：\n$$N_D - N_A = 10^{16} - 6 \\times 10^{15} = 10 \\times 10^{15} - 6 \\times 10^{15} = 4 \\times 10^{15}\\,\\text{cm}^{-3}$$\n由于 $N_D > N_A$，该材料是n型半导体，我们预期 $n > n_i$。\n\n将数值代入推导出的 $n$ 的表达式中：\n$$n = \\frac{4 \\times 10^{15}}{2} + \\sqrt{\\left(\\frac{4 \\times 10^{15}}{2}\\right)^2 + (10^{10})^2}$$\n$$n = 2 \\times 10^{15} + \\sqrt{(2 \\times 10^{15})^2 + 10^{20}}$$\n$$n = 2 \\times 10^{15} + \\sqrt{4 \\times 10^{30} + 10^{20}}$$\n$10^{20}$ 项比 $4 \\times 10^{30}$ 小很多个数量级，所以平方根下的值非常接近 $4 \\times 10^{30}$。进行高精度计算：\n$$n \\approx 2 \\times 10^{15} + 2.000000000025 \\times 10^{15} = 4.000000000025 \\times 10^{15}\\,\\text{cm}^{-3}$$\n按要求将结果四舍五入到四位有效数字：\n$$n = 4.000 \\times 10^{15}\\,\\text{cm}^{-3}$$\n\n接下来，我们使用质量作用定律和计算出的 $n$ 值来计算空穴浓度 $p$：\n$$p = \\frac{n_i^2}{n} = \\frac{(10^{10})^2}{4.000000000025 \\times 10^{15}} = \\frac{10^{20}}{4.000000000025 \\times 10^{15}}$$\n$$p \\approx 24999.9999984... \\,\\text{cm}^{-3}$$\n用科学记数法表示，这是 $2.49999999984... \\times 10^4\\,\\text{cm}^{-3}$。四舍五入到四位有效数字：\n$$p = 2.500 \\times 10^{4}\\,\\text{cm}^{-3}$$\n\n最后，我们验证计算出的 $n$ 和 $p$ 的舍入值与质量作用关系一致。我们计算它们的乘积：\n$$n \\cdot p = (4.000 \\times 10^{15}\\,\\text{cm}^{-3}) \\times (2.500 \\times 10^{4}\\,\\text{cm}^{-3})$$\n$$n \\cdot p = 10.00 \\times 10^{19}\\,\\text{cm}^{-6} = 1.000 \\times 10^{20}\\,\\text{cm}^{-6}$$\n本征载流子浓度平方的给定值为：\n$$n_i^2 = (10^{10}\\,\\text{cm}^{-3})^2 = 10^{20}\\,\\text{cm}^{-6}$$\n计算浓度的乘积 $1.000 \\times 10^{20}\\,\\text{cm}^{-6}$，在要求的舍入精度内与 $n_i^2$ 的值完全匹配。一致性检查成功。\n\n电子和空穴浓度的最终数值答案是 $(n, p) = (4.000 \\times 10^{15}\\,\\text{cm}^{-3}, 2.500 \\times 10^{4}\\,\\text{cm}^{-3})$。",
            "answer": "$$\\boxed{\\begin{pmatrix} 4.000 \\times 10^{15} & 2.500 \\times 10^{4} \\end{pmatrix}}$$"
        },
        {
            "introduction": "虽然“完全电离”的假设在许多情况下是有效的，但真实的半导体器件模拟需要更精确的模型，尤其是在低温或存在深能级杂质时。本练习将指导你建立并数值求解完整的电荷中性方程，其中包含了基于费米-狄拉克统计的杂质电离率。通过编写代码解决这个问题，你将获得处理非理想情况下电荷平衡问题的实践经验，这是半导体器件建模中的一项关键技能。",
            "id": "3734475",
            "problem": "给定一个温度为 $T = 300\\,\\text{K}$ 且满足电中性条件的非本征半导体，其平衡费米能级 $E_F$ 满足以下方程：\n$$ n(E_F, T) - p(E_F, T) + N_A^- (E_F, T) - N_D^+ (E_F, T) = 0. $$\n请从第一性原理推导评估 $n(E_F, T)$、$p(E_F, T)$、$N_D^+(E_F, T)$ 和 $N_A^-(E_F, T)$ 等量值所需的能量参数和密度关系式，然后实现一个数值求根算法，以计算给定参数集下的 $E_F$。\n\n使用以下经过充分检验的、适用于 $T=300\\,\\text{K}$ 时具有抛物线形能带的非简并半导体的定义：\n- 导带底能量 $E_C$ 和价带顶能量 $E_V$ 通过 $E_g = E_C - E_V$ 定义了带隙 $E_g$，$E_V$ 是参考能量，设为 $E_V = 0\\,\\text{eV}$，因此 $E_C = E_g$。\n- 导带中的电子浓度为\n$$ n(E_F, T) = N_C \\exp\\!\\left(-\\frac{E_C - E_F}{k_B T}\\right), $$\n其中 $N_C$ 是导带中的有效态密度。\n- 价带中的空穴浓度为\n$$ p(E_F, T) = N_V \\exp\\!\\left(-\\frac{E_F - E_V}{k_B T}\\right), $$\n其中 $N_V$ 是价带中的有效态密度。\n- 对于能量为 $E_D$、简并度为 $g_D$ 的施主能级，电离施主浓度（带正电的施主）为\n$$ N_D^+(E_F, T) = \\frac{N_D}{1 + g_D\\exp\\left(\\frac{E_F - E_D}{k_B T}\\right)}, $$\n其中 $N_D$ 是总施主密度。\n- 对于能量为 $E_A$、简并度为 $g_A$ 的受主能级，电离受主浓度（带负电的受主）为\n$$ N_A^-(E_F, T) = \\frac{N_A}{1 + g_A \\exp\\!\\left(\\frac{E_A - E_F}{k_B T}\\right)}, $$\n其中 $N_A$ 是总受主密度。\n\n玻尔兹曼常数 $k_B$ 必须使用电子伏特 (eV) 作为能量单位，这样在 $T = 300\\,\\text{K}$ 时，$k_B T$ 的单位就是 eV。取 $k_B = 8.617\\,333\\,262 \\times 10^{-5}\\,\\text{eV/K}$。所有能量必须以 $\\text{eV}$ 表示，所有密度必须以 $\\text{cm}^{-3}$ 表示。明确声明 $E_V = 0\\,\\text{eV}$，并以 $\\text{eV}$ 为单位报告相对于 $E_V$ 的 $E_F$ 值。\n\n您的程序必须：\n- 实现上述关系式。\n- 使用具有保证区间和收敛准则的稳健数值算法，求解标量非线性方程 $n(E_F, T) - p(E_F, T) + N_A^- (E_F, T) - N_D^+ (E_F, T) = 0$ 以得到 $E_F$。\n- 使用固定的简并因子 $g_D = 2$ 和 $g_A = 4$。\n- 使用以下参数集测试套件，每个参数集指定为 $(N_C, N_V, E_g, N_D, E_D, N_A, E_A)$，其中能量单位为 $\\text{eV}$（相对于 $E_V=0\\,\\text{eV}$），密度单位为 $\\text{cm}^{-3}$：\n    1. $(2.8\\times 10^{19},\\,1.04\\times 10^{19},\\,1.12,\\,1.0\\times 10^{16},\\,1.075,\\,0.0,\\,0.057)$\n       一个轻度 $n$ 型非补偿类硅半导体，其浅施主能级位于 $E_D = E_C - 0.045\\,\\text{eV}$，包含受主参数但 $N_A=0$。\n    2. $(2.8\\times 10^{19},\\,1.04\\times 10^{19},\\,1.12,\\,0.0,\\,1.075,\\,1.0\\times 10^{16},\\,0.057)$\n       一个轻度 $p$ 型非补偿情况，其浅受主能级位于 $E_A = E_V + 0.057\\,\\text{eV}$，包含施主参数但 $N_D=0$。\n    3. $(2.8\\times 10^{19},\\,1.04\\times 10^{19},\\,1.12,\\,5.0\\times 10^{16},\\,1.075,\\,3.0\\times 10^{16},\\,0.057)$\n       一个中度补偿的 $n$ 型情况，同时存在施主和受主。\n    4. $(2.8\\times 10^{19},\\,1.04\\times 10^{19},\\,1.12,\\,1.0\\times 10^{17},\\,1.075,\\,1.0\\times 10^{17},\\,0.057)$\n       一个重度补偿情况，施主和受主几乎平衡。\n    5. $(2.8\\times 10^{19},\\,1.04\\times 10^{19},\\,1.12,\\,1.0\\times 10^{16},\\,0.87,\\,0.0,\\,0.057)$\n       一个具有较深施主能级 $E_D = 0.87\\,\\text{eV}$（远低于 $E_C$）的情况，导致部分电离。\n\n您的程序应生成单行输出，包含一个用方括号括起来的逗号分隔列表的结果，其中每个 $E_F$ 值都四舍五入到六位小数，单位为 $\\text{eV}$，相对于 $E_V=0\\,\\text{eV}$（例如，“[0.567890,0.456781,0.500123,0.600000,0.412345]”）。",
            "solution": "该问题要求在固定温度 $T = 300\\,\\text{K}$ 下，计算补偿非本征半导体中的平衡费米能级 $E_F$。该计算基于电中性的基本原理。解决方案包括建立控制非线性方程，然后进行数值求解。\n\n核心原理是半导体的任何宏观体积都必须是电中性的。总正电荷密度必须等于总负电荷密度。载流子是电子、空穴、电离的施主原子和电离的受主原子。\n载流子及其各自的密度为：\n-   导带中的电子，密度为 $n$，电荷为 $-q$。\n-   价带中的空穴，密度为 $p$，电荷为 $+q$。\n-   电离的施主原子，密度为 $N_D^+$，电荷为 $+q$。这些是失去一个电子的施主原子。\n-   电离的受主原子，密度为 $N_A^-$，电荷为 $-q$。这些是获得一个电子的受主原子。\n\n电中性条件表述为：\n$$ q \\cdot p + q \\cdot N_D^+ - q \\cdot n - q \\cdot N_A^- = 0 $$\n两边同除以元电荷 $q$，我们得到需求解费米能级 $E_F$ 的方程：\n$$ p(E_F, T) - n(E_F, T) + N_D^+(E_F, T) - N_A^-(E_F, T) = 0 $$\n问题中给出的电荷符号排列为 $n - p + N_A^- - N_D^+ = 0$，这在代数上是等效的。我们将净电荷密度函数 $\\rho(E_F)$ 定义为：\n$$ \\rho(E_F) = n(E_F, T) - p(E_F, T) + N_A^-(E_F, T) - N_D^+(E_F, T) $$\n我们的目标是找到满足 $\\rho(E_F) = 0$ 的根 $E_F$。\n\n该问题为每一项提供了明确的关系式，这些关系式源于适用于具有抛物线形能带的非简并半导体的半导体统计学。所有能量均以电子伏特 ($\\text{eV}$) 表示，所有密度均以立方厘米 ($\\text{cm}^{-3}$) 表示。温度为 $T = 300\\,\\text{K}$，玻尔兹曼常数为 $k_B = 8.617333262 \\times 10^{-5}\\,\\text{eV/K}$。热能为 $k_B T \\approx 0.025852\\,\\text{eV}$。我们将价带顶设置为参考能量 $E_V = 0\\,\\text{eV}$，这意味着导带底位于 $E_C = E_g$，其中 $E_g$ 是带隙能量。\n\n各组成项如下：\n1.  **电子浓度 ($n$)**：导带中的电子密度由下式给出：\n    $$ n(E_F, T) = N_C \\exp\\!\\left(-\\frac{E_C - E_F}{k_B T}\\right) = N_C \\exp\\!\\left(-\\frac{E_g - E_F}{k_B T}\\right) $$\n    其中 $N_C$ 是导带中的有效态密度。\n\n2.  **空穴浓度 ($p$)**：价带中的空穴密度由下式给出：\n    $$ p(E_F, T) = N_V \\exp\\!\\left(-\\frac{E_F - E_V}{k_B T}\\right) = N_V \\exp\\!\\left(-\\frac{E_F}{k_B T}\\right) $$\n    其中 $N_V$ 是价带中的有效态密度。\n\n3.  **电离施主浓度 ($N_D^+$)**：对于总施主密度为 $N_D$、能量能级为 $E_D$、简并因子为 $g_D$ 的情况，带正电的施主密度为：\n    $$ N_D^+(E_F, T) = \\frac{N_D}{1 + g_D\\exp\\left(\\frac{E_F - E_D}{k_B T}\\right)} $$\n    施主的简并因子给定为 $g_D = 2$。\n\n4.  **电离受主浓度 ($N_A^-$)**：对于总受主密度为 $N_A$、能量能级为 $E_A$、简并因子为 $g_A$ 的情况，带负电的受主密度为：\n    $$ N_A^-(E_F, T) = \\frac{N_A}{1 + g_A \\exp\\!\\left(\\frac{E_A - E_F}{k_B T}\\right)} $$\n    受主的简并因子给定为 $g_A = 4$。\n\n将这些表达式代入电荷平衡方程，得到关于 $E_F$ 的最终非线性标量方程：\n$$ \\rho(E_F) = N_C \\exp\\!\\left(-\\frac{E_g - E_F}{k_B T}\\right) - N_V \\exp\\!\\left(-\\frac{E_F}{k_B T}\\right) + \\frac{N_A}{1 + g_A \\exp\\!\\left(\\frac{E_A - E_F}{k_B T}\\right)} - \\frac{N_D}{1 + g_D\\exp\\left(\\frac{E_F - E_D}{k_B T}\\right)} = 0 $$\n该方程无法解析求解 $E_F$，需要使用数值求根算法。\n\n为了选择一个稳健的数值方法，我们分析函数 $\\rho(E_F)$。$\\rho(E_F)$ 中的每一项都是 $E_F$ 的单调递增函数：\n-   $n(E_F)$ 与 $\\exp(E_F / k_B T)$ 成正比，是递增的。\n-   $-p(E_F)$ 与 $-\\exp(-E_F / k_B T)$ 成正比，是递增的。\n-   $N_A^-(E_F)$ 是 $E_F$ 的一个类 S 型函数，并且是单调递增的。\n-   $-N_D^+(E_F)$ 也是单调递增的，因为 $N_D^+(E_F)$ 是 $E_F$ 的单调递减函数。\n\n由于 $\\rho(E_F)$ 是一系列严格递增连续函数的和，它本身也是一个关于 $E_F$ 的严格递增连续函数。这个性质对于区间求根算法非常理想。此外，当 $E_F \\to -\\infty$ 时，$-p(E_F)$ 项占主导，$\\rho(E_F) \\to -\\infty$。当 $E_F \\to +\\infty$ 时，$n(E_F)$ 项占主导，$\\rho(E_F) \\to +\\infty$。根据介值定理，必须存在一个唯一的根。\n\n必须为 $E_F$ 选择一个合适的搜索区间（括号）$[a, b]$，使得 $\\rho(a) < 0$ 且 $\\rho(b) > 0$。一个在物理上有意义且计算上安全的范围是跨越带隙的区间，即 $[E_V, E_C] = [0, E_g]$。\n-   在 $E_F = 0$ 时，$\\rho(0) \\approx -N_V - N_D^+$，由于 $N_V$ 很大，该值是强负值。\n-   在 $E_F = E_g$ 时，$\\rho(E_g) \\approx N_C + N_A^-$，由于 $N_C$ 很大，该值是强正值。\n因此，区间 $[0, E_g]$ 保证包含唯一的根。\n\n我们将使用一个稳健的区间算法来实现数值解。`scipy.optimize.brentq` 中可用的布伦特方法 (Brent's method) 是一个极佳的选择，因为它结合了二分法 (bisection method) 的保证收敛性与割线法 (secant method) 和反二次插值 (inverse quadratic interpolation) 的速度。\n\n算法如下：\n1.  定义常数 $k_B$、$T$、$g_D$ 和 $g_A$。\n2.  定义一个 Python 函数，用于为给定的材料参数集 $(N_C, N_V, E_g, N_D, E_D, N_A, E_A)$ 计算 $\\rho(E_F)$。\n3.  对于每个提供的测试用例：\n    a.  将材料参数传递给电荷密度函数。\n    b.  使用 `scipy.optimize.brentq` 在区间 $[0, E_g]$ 内找到此函数的根。\n    c.  存储得到的费米能级 $E_F$。\n4.  将收集到的结果格式化为六位小数，并以指定的列表格式打印。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy.optimize import brentq\n\ndef solve():\n    \"\"\"\n    Computes the equilibrium Fermi level in a compensated semiconductor\n    by numerically solving the charge neutrality equation.\n    \"\"\"\n    # Define physical constants and fixed parameters\n    k_B = 8.617333262e-5  # Boltzmann constant in eV/K\n    T = 300.0             # Temperature in K\n    g_D = 2.0             # Donor degeneracy factor\n    g_A = 4.0             # Acceptor degeneracy factor\n    \n    # Thermal energy in eV\n    kT = k_B * T\n\n    # Define the test cases from the problem statement.\n    # Each case is a tuple: (NC, NV, Eg, ND, ED, NA, EA)\n    # Densities (NC, NV, ND, NA) are in cm^-3\n    # Energies (Eg, ED, EA) are in eV\n    test_cases = [\n        # Case 1: Lightly n-type uncompensated\n        (2.8e19, 1.04e19, 1.12, 1.0e16, 1.075, 0.0, 0.057),\n        # Case 2: Lightly p-type uncompensated\n        (2.8e19, 1.04e19, 1.12, 0.0, 1.075, 1.0e16, 0.057),\n        # Case 3: Moderately compensated n-type\n        (2.8e19, 1.04e19, 1.12, 5.0e16, 1.075, 3.0e16, 0.057),\n        # Case 4: Strongly compensated (nearly intrinsic)\n        (2.8e19, 1.04e19, 1.12, 1.0e17, 1.075, 1.0e17, 0.057),\n        # Case 5: Deeper donor level\n        (2.8e19, 1.04e19, 1.12, 1.0e16, 0.87, 0.0, 0.057),\n    ]\n\n    def charge_density(E_F, NC, NV, Eg, ND, ED, NA, EA):\n        \"\"\"\n        Calculates the net charge density rho(E_F) = n - p + N_A^- - N_D^+.\n        This is the function whose root we need to find.\n        \"\"\"\n        # Electron concentration in conduction band (E_C = Eg, since E_V = 0)\n        n = NC * np.exp(-(Eg - E_F) / kT)\n        \n        # Hole concentration in valence band (E_V = 0)\n        p = NV * np.exp(-E_F / kT)\n        \n        # Ionized acceptor concentration\n        NA_minus = NA / (1.0 + g_A * np.exp((EA - E_F) / kT))\n        \n        # Ionized donor concentration (Corrected formula)\n        ND_plus = ND / (1.0 + g_D * np.exp((E_F - ED) / kT))\n        \n        return n - p + NA_minus - ND_plus\n\n    results = []\n    for case in test_cases:\n        NC, NV, Eg, ND, ED, NA, EA = case\n        \n        # The search for E_F is bracketed within the bandgap [E_V, E_C],\n        # which is [0, Eg] since E_V is the reference energy.\n        # This is a safe and numerically stable bracket.\n        bracket_low = 0.0\n        bracket_high = Eg\n        \n        # Use Brent's method to find the root E_F for rho(E_F) = 0.\n        # The arguments to charge_density are passed via the `args` tuple.\n        fermi_level = brentq(\n            charge_density, \n            a=bracket_low, \n            b=bracket_high, \n            args=(NC, NV, Eg, ND, ED, NA, EA)\n        )\n        results.append(fermi_level)\n\n    # Format the results to 6 decimal places and print in the required format.\n    formatted_results = [f\"{r:.6f}\" for r in results]\n    print(f\"[{','.join(formatted_results)}]\")\n\nsolve()\n```"
        }
    ]
}