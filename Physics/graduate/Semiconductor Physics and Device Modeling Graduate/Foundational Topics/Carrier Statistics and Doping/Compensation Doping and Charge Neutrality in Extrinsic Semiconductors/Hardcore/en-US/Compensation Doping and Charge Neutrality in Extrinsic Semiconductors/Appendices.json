{
    "hands_on_practices": [
        {
            "introduction": "To understand how dopants influence carrier concentrations, we must first build a physical model of the dopants themselves. This exercise explores the effective-mass hydrogenic model, which provides a powerful quantum mechanical description of shallow impurities. By treating a donor and its electron within the semiconductor crystal as an analogue to a hydrogen atom, we can estimate key properties like its binding energy and spatial extent. This practice  is crucial for justifying the \"shallow\" impurity approximation and understanding why dopants can be considered fully ionized at room temperature.",
            "id": "3734457",
            "problem": "An extrinsic semiconductor contains substitutional donor impurities whose bound electron states can be modeled in the effective-mass hydrogenic picture. Consider a three-dimensional isotropic conduction band characterized by an electron effective mass $m^{*} = 0.2\\,m_{0}$, where $m_{0}$ is the electron rest mass, and a static relative dielectric constant $\\epsilon_{r} = 12$. Starting from the time-independent Schrödinger equation for an electron in a screened Coulomb potential, and using only fundamental definitions and well-tested results of the hydrogenic problem, determine the donor ground-state binding energy and the effective Bohr radius in this material.\n\nYou must derive expressions from first principles appropriate to the effective-mass and dielectric screening framework, and then evaluate them numerically. Use the following constants from the International System of Units (SI): elementary charge $e = 1.602\\,176\\,634 \\times 10^{-19}\\,\\mathrm{C}$, vacuum permittivity $\\epsilon_{0} = 8.854\\,187\\,8128 \\times 10^{-12}\\,\\mathrm{F/m}$, reduced Planck constant $\\hbar = 1.054\\,571\\,817 \\times 10^{-34}\\,\\mathrm{J\\cdot s}$, and electron rest mass $m_{0} = 9.109\\,383\\,7015 \\times 10^{-31}\\,\\mathrm{kg}$. You may also use the hydrogenic Bohr radius $a_{0} = 5.291\\,772\\,10903 \\times 10^{-11}\\,\\mathrm{m}$ and the hydrogenic Rydberg energy $E_{\\mathrm{Ry}}^{\\mathrm{H}} = 13.605\\,693\\,\\mathrm{eV}$, provided you justify their appearance from the underlying Schrödinger equation.\n\n- Express the donor binding energy in $\\mathrm{meV}$ and the Bohr radius in $\\mathrm{nm}$.\n- Round your final numerical values to four significant figures.\n- After completing the calculation, discuss in brief whether these values are consistent with the shallow-impurity approximation for extrinsic semiconductors and how this influences the applicability of charge neutrality in compensated doping scenarios. The discussion does not affect the required numerical answer.",
            "solution": "The posed problem is subject to validation against the established criteria.\n\n### Step 1: Extract Givens\n- The system is an extrinsic semiconductor with substitutional donor impurities.\n- The model to be used is the effective-mass hydrogenic picture.\n- The conduction band is three-dimensional and isotropic.\n- Electron effective mass: $m^{*} = 0.2\\,m_{0}$.\n- Electron rest mass: $m_{0}$.\n- Static relative dielectric constant: $\\epsilon_{r} = 12$.\n- The starting point is the time-independent Schrödinger equation for an electron in a screened Coulomb potential.\n- Fundamental constants are provided:\n  - Elementary charge $e = 1.602\\,176\\,634 \\times 10^{-19}\\,\\mathrm{C}$\n  - Vacuum permittivity $\\epsilon_{0} = 8.854\\,187\\,8128 \\times 10^{-12}\\,\\mathrm{F/m}$\n  - Reduced Planck constant $\\hbar = 1.054\\,571\\,817 \\times 10^{-34}\\,\\mathrm{J\\cdot s}$\n  - Electron rest mass $m_{0} = 9.109\\,383\\,7015 \\times 10^{-31}\\,\\mathrm{kg}$\n- Reference values are provided, with the condition of justifying their use:\n  - Hydrogenic Bohr radius $a_{0} = 5.291\\,772\\,10903 \\times 10^{-11}\\,\\mathrm{m}$\n  - Hydrogenic Rydberg energy $E_{\\mathrm{Ry}}^{\\mathrm{H}} = 13.605\\,693\\,\\mathrm{eV}$\n- The required outputs are the donor binding energy in $\\mathrm{meV}$ and the effective Bohr radius in $\\mathrm{nm}$, rounded to four significant figures.\n- A brief discussion on the validity of the shallow-impurity approximation and its implications for charge neutrality is requested.\n\n### Step 2: Validate Using Extracted Givens\n- **Scientifically Grounded**: The problem is based on the effective-mass approximation and the hydrogenic model for shallow impurities, which are standard and fundamental concepts in semiconductor physics. All aspects of the problem are scientifically sound.\n- **Well-Posed**: The problem is clearly defined and provides all necessary physical parameters ($m^{*}$, $\\epsilon_{r}$) and fundamental constants to uniquely determine the requested quantities (donor binding energy and effective Bohr radius).\n- **Objective**: The problem is stated using precise, objective scientific language, free from ambiguity or subjective claims.\n\nThe problem does not exhibit any flaws such as scientific unsoundness, incompleteness, contradiction, or infeasibility. The requirement to derive expressions from first principles and justify the use of hydrogenic reference values is a standard pedagogical instruction that ensures a rigorous solution.\n\n### Step 3: Verdict and Action\nThe problem is deemed **valid**. A full, reasoned solution will be provided.\n\n### Solution Derivation\nThe problem requires us to model a donor impurity electron in a semiconductor lattice. A typical donor impurity (e.g., Phosphorus in Silicon) has one more valence electron and one more proton in its nucleus than the host lattice atoms. The donor atom is thus modeled as a fixed positive point charge $+e$ embedded in the semiconductor, binding the extra electron. The interaction is a Coulomb attraction, but it is modified in two key ways:\n1.  The electron's motion is governed by the crystal's band structure, which is accounted for by replacing the electron's rest mass $m_0$ with an effective mass $m^*$.\n2.  The Coulomb force between the electron and the donor ion is weakened or \"screened\" by the polarizability of the host semiconductor crystal, which is accounted for by replacing the vacuum permittivity $\\epsilon_0$ with the material's permittivity $\\epsilon = \\epsilon_r \\epsilon_0$.\n\nThe potential energy $V(r)$ of the electron at a distance $r$ from the donor ion is the screened Coulomb potential:\n$$V(r) = -\\frac{e^2}{4\\pi\\epsilon r} = -\\frac{e^2}{4\\pi\\epsilon_r\\epsilon_0 r}$$\n\nThe time-independent Schrödinger equation for the donor electron is then:\n$$\\left( -\\frac{\\hbar^2}{2m^*} \\nabla^2 + V(r) \\right) \\psi(\\mathbf{r}) = E \\psi(\\mathbf{r})$$\nSubstituting the potential energy expression, we get:\n$$-\\frac{\\hbar^2}{2m^*} \\nabla^2 \\psi(\\mathbf{r}) - \\frac{e^2}{4\\pi\\epsilon_r\\epsilon_0 r} \\psi(\\mathbf{r}) = E \\psi(\\mathbf{r})$$\nThis equation is mathematically identical to the Schrödinger equation for the hydrogen atom, which describes an electron of mass $m_0$ orbiting a proton in a vacuum (with permittivity $\\epsilon_0$):\n$$-\\frac{\\hbar^2}{2m_0} \\nabla^2 \\psi_H(\\mathbf{r}) - \\frac{e^2}{4\\pi\\epsilon_0 r} \\psi_H(\\mathbf{r}) = E_H \\psi_H(\\mathbf{r})$$\nThe well-known ground-state ($n=1$) solutions for the hydrogen atom are the Bohr radius $a_0$ and the Rydberg energy $E_{\\mathrm{Ry}}^{\\mathrm{H}}$ (the ground-state binding energy):\n$$a_0 = \\frac{4\\pi\\epsilon_0\\hbar^2}{m_0 e^2}$$\n$$E_{\\mathrm{Ry}}^{\\mathrm{H}} = -E_{H,n=1} = \\frac{m_0 e^4}{2(4\\pi\\epsilon_0)^2\\hbar^2}$$\nGiven the mathematical equivalence of the two Schrödinger equations, we can obtain the solutions for the donor electron by making the following substitutions in the hydrogen atom solutions:\n$$m_0 \\rightarrow m^*$$\n$$\\epsilon_0 \\rightarrow \\epsilon_r\\epsilon_0$$\nThis procedure justifies the use of $a_0$ and $E_{\\mathrm{Ry}}^{\\mathrm{H}}$ as reference values.\n\nThe effective Bohr radius for the donor, $a_B^*$, is therefore:\n$$a_B^* = \\frac{4\\pi(\\epsilon_r\\epsilon_0)\\hbar^2}{m^* e^2} = \\frac{\\epsilon_r}{m^*/m_0} \\left( \\frac{4\\pi\\epsilon_0\\hbar^2}{m_0 e^2} \\right) = \\frac{\\epsilon_r}{m^*/m_0} a_0$$\nThe ground state energy of the donor electron relative to the conduction band minimum (which is set to zero energy) is $E_{d,GS}$. The donor binding energy, $E_d$, is the energy required to promote the electron from this ground state to the conduction band, so $E_d = -E_{d,GS}$.\n$$E_d = \\frac{m^* e^4}{2(4\\pi\\epsilon_r\\epsilon_0)^2\\hbar^2} = \\frac{m^*/m_0}{(\\epsilon_r)^2} \\left( \\frac{m_0 e^4}{2(4\\pi\\epsilon_0)^2\\hbar^2} \\right) = \\frac{m^*/m_0}{(\\epsilon_r)^2} E_{\\mathrm{Ry}}^{\\mathrm{H}}$$\n\n### Numerical Calculation\nWe are given the following values:\n- $m^*/m_0 = 0.2$\n- $\\epsilon_r = 12$\n- $a_0 = 5.29177210903 \\times 10^{-11}\\,\\mathrm{m}$\n- $E_{\\mathrm{Ry}}^{\\mathrm{H}} = 13.605693\\,\\mathrm{eV}$\n\nFirst, we calculate the effective Bohr radius, $a_B^*$:\n$$a_B^* = \\frac{12}{0.2} a_0 = 60 \\times (5.29177210903 \\times 10^{-11}\\,\\mathrm{m})$$\n$$a_B^* = 3.175063265 \\times 10^{-9}\\,\\mathrm{m} = 3.175063265\\,\\mathrm{nm}$$\nRounding to four significant figures, we get:\n$$a_B^* = 3.175\\,\\mathrm{nm}$$\n\nNext, we calculate the donor binding energy, $E_d$:\n$$E_d = \\frac{0.2}{(12)^2} E_{\\mathrm{Ry}}^{\\mathrm{H}} = \\frac{0.2}{144} E_{\\mathrm{Ry}}^{\\mathrm{H}} = \\frac{1}{720} \\times (13.605693\\,\\mathrm{eV})$$\n$$E_d = 0.0188967958\\,\\mathrm{eV} = 18.8967958\\,\\mathrm{meV}$$\nRounding to four significant figures, we get:\n$$E_d = 18.90\\,\\mathrm{meV}$$\n\n### Discussion\nThe applicability of the effective-mass hydrogenic model hinges on the shallow-impurity approximation, which requires two conditions to be met:\n1.  The binding energy $E_d$ must be much smaller than the semiconductor's band gap energy $E_g$ ($E_d \\ll E_g$).\n2.  The effective Bohr radius $a_B^*$ must be much larger than the crystal's lattice constant $a_{\\mathrm{lattice}}$ ($a_B^* \\gg a_{\\mathrm{lattice}}$).\n\nOur calculated binding energy is $E_d \\approx 18.9\\,\\mathrm{meV}$. For typical semiconductors such as silicon ($E_g \\approx 1.1\\,\\mathrm{eV}$) or gallium arsenide ($E_g \\approx 1.4\\,\\mathrm{eV}$), this energy is very small in comparison ($0.0189\\,\\mathrm{eV} \\ll 1.1\\,\\mathrm{eV}$). This confirms the impurity level is \"shallow,\" i.e., located very close to the conduction band edge.\nOur calculated effective Bohr radius is $a_B^* \\approx 3.175\\,\\mathrm{nm}$ or $31.75\\,\\mathrm{\\AA}$. Typical lattice constants for semiconductors are in the range of $5-6\\,\\mathrm{\\AA}$. The calculated radius is significantly larger, meaning the electron's wavefunction extends over many unit cells. This self-consistently justifies the use of macroscopic, averaged parameters like $m^*$ and $\\epsilon_r$.\nBoth conditions are well satisfied, validating the use of the model.\n\nThis result has a direct influence on the analysis of charge neutrality in compensated semiconductors. The charge neutrality equation is $p + N_D^+ = n + N_A^-$, where the concentrations of ionized donors ($N_D^+$) and acceptors ($N_A^-$) depend on temperature and their respective binding energies. A small donor binding energy, such as the calculated $E_d \\approx 18.9\\,\\mathrm{meV}$, is comparable to the thermal energy at room temperature, $k_B T \\approx 25.9\\,\\mathrm{meV}$. This ensures that nearly all donor atoms are ionized ($N_D^+ \\approx N_D$) over a wide and practical temperature range. Consequently, for an n-type compensated semiconductor where $N_D  N_A$, the charge neutrality equation often simplifies to $n \\approx N_D - N_A$, providing a straightforward link between the net doping concentration and the free electron concentration.",
            "answer": "$$\\boxed{\\begin{pmatrix} 18.90  3.175 \\end{pmatrix}}$$"
        },
        {
            "introduction": "Once we have a physical picture of dopants, we can tackle the central problem of determining the equilibrium electron and hole concentrations in a compensated semiconductor. This practice  challenges you to apply two of the most fundamental principles of semiconductor physics in unison: the law of mass action, which relates the product of carrier concentrations to the intrinsic concentration ($np=n_i^2$), and the principle of charge neutrality. By setting up and solving the governing equations for a common scenario with fully ionized dopants, you will master the foundational algebraic skills needed for analyzing extrinsic materials.",
            "id": "3734470",
            "problem": "A uniformly doped silicon sample at thermal equilibrium is compensated such that the donor and acceptor concentrations are $N_{D} = 10^{16}\\,\\text{cm}^{-3}$ and $N_{A} = 6\\times 10^{15}\\,\\text{cm}^{-3}$, respectively. The intrinsic carrier concentration is $n_{i} = 10^{10}\\,\\text{cm}^{-3}$. Assume full ionization of dopants and nondegenerate statistics. Starting only from global charge neutrality and the thermodynamic mass action relation for carriers in semiconductors at equilibrium, derive expressions for the electron concentration $n$ and hole concentration $p$ in this compensated sample. Then evaluate $n$ and $p$ numerically for the given data. Finally, verify that the computed $n$ and $p$ are consistent with the mass action relation to within rounding. Express both $n$ and $p$ in $\\text{cm}^{-3}$, and round your numerical results to four significant figures. Report your final answer as the ordered pair $\\left(n,\\,p\\right)$.",
            "solution": "The problem statement is evaluated as valid. It is scientifically grounded in the principles of semiconductor physics, well-posed with sufficient and consistent information, and objective in its language. It represents a standard problem in the study of extrinsic semiconductors.\n\nThe solution for the electron concentration $n$ and hole concentration $p$ in a compensated semiconductor at thermal equilibrium is derived from two fundamental principles: the principle of global charge neutrality and the law of mass action.\n\nFirst, the principle of charge neutrality states that the total positive charge density must equal the total negative charge density. The positive charges are holes (concentration $p$) and ionized donor atoms (concentration $N_D^+$). The negative charges are electrons (concentration $n$) and ionized acceptor atoms (concentration $N_A^-$). The charge of a single hole or electron is the elementary charge $e$. Thus, the charge neutrality equation is:\n$$e \\cdot p + e \\cdot N_D^+ = e \\cdot n + e \\cdot N_A^-$$\nDividing by $e$, we get the relation between concentrations:\n$$p + N_D^+ = n + N_A^-$$\nThe problem states to assume full ionization of dopants. This implies that every donor atom has donated an electron, and every acceptor atom has accepted an electron. Therefore, the concentrations of ionized donors and acceptors are equal to their respective total concentrations: $N_D^+ = N_D$ and $N_A^- = N_A$. The charge neutrality equation simplifies to:\n$$p + N_D = n + N_A$$\nThis equation can be rearranged to express the difference between the electron and hole concentrations in terms of the net doping concentration:\n$$n - p = N_D - N_A$$\n\nSecond, the law of mass action for charge carriers in a semiconductor at thermal equilibrium states that the product of the electron and hole concentrations is a constant, equal to the square of the intrinsic carrier concentration, $n_i$. This relationship is given by:\n$$n \\cdot p = n_i^2$$\nThis holds true regardless of the doping levels, provided the semiconductor is in thermal equilibrium and nondegenerate statistics apply, as assumed in the problem.\n\nWe now have a system of two equations with two unknowns, $n$ and $p$:\n1. $n - p = N_D - N_A$\n2. $n \\cdot p = n_i^2$\n\nTo solve for $n$, we can express $p$ from equation (2) as $p = n_i^2 / n$ (since $n \\neq 0$) and substitute it into equation (1):\n$$n - \\frac{n_i^2}{n} = N_D - N_A$$\nMultiplying the entire equation by $n$ to clear the denominator yields a quadratic equation in $n$:\n$$n^2 - n_i^2 = (N_D - N_A)n$$\nRearranging into standard form ($ax^2 + bx + c = 0$) gives:\n$$n^2 - (N_D - N_A)n - n_i^2 = 0$$\nThis quadratic equation for $n$ can be solved using the quadratic formula, $n = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}$, with $a=1$, $b=-(N_D - N_A)$, and $c=-n_i^2$:\n$$n = \\frac{(N_D - N_A) \\pm \\sqrt{(-(N_D - N_A))^2 - 4(1)(-n_i^2)}}{2}$$\n$$n = \\frac{(N_D - N_A) \\pm \\sqrt{(N_D - N_A)^2 + 4n_i^2}}{2}$$\nSince the electron concentration $n$ must be a positive physical quantity, we must select the positive root. The negative root would yield a negative value for $n$ because the square root term is strictly greater than $|N_D - N_A|$. Thus, the unique valid solution for $n$ is:\n$$n = \\frac{N_D - N_A}{2} + \\sqrt{\\left(\\frac{N_D - N_A}{2}\\right)^2 + n_i^2}$$\nOnce $n$ is determined, $p$ is most easily found using the mass action law:\n$$p = \\frac{n_i^2}{n}$$\n\nNow, we evaluate these expressions numerically using the given data:\n- Donor concentration: $N_D = 10^{16}\\,\\text{cm}^{-3}$\n- Acceptor concentration: $N_A = 6 \\times 10^{15}\\,\\text{cm}^{-3}$\n- Intrinsic carrier concentration: $n_i = 10^{10}\\,\\text{cm}^{-3}$\n\nFirst, calculate the effective net doping concentration:\n$$N_D - N_A = 10^{16} - 6 \\times 10^{15} = 10 \\times 10^{15} - 6 \\times 10^{15} = 4 \\times 10^{15}\\,\\text{cm}^{-3}$$\nSince $N_D  N_A$, the material is n-type, and we expect $n  n_i$.\n\nSubstitute the values into the derived expression for $n$:\n$$n = \\frac{4 \\times 10^{15}}{2} + \\sqrt{\\left(\\frac{4 \\times 10^{15}}{2}\\right)^2 + (10^{10})^2}$$\n$$n = 2 \\times 10^{15} + \\sqrt{(2 \\times 10^{15})^2 + 10^{20}}$$\n$$n = 2 \\times 10^{15} + \\sqrt{4 \\times 10^{30} + 10^{20}}$$\nThe term $10^{20}$ is many orders of magnitude smaller than $4 \\times 10^{30}$, so the value under the square root is extremely close to $4 \\times 10^{30}$. Performing the calculation with high precision:\n$$n \\approx 2 \\times 10^{15} + 2.000000000025 \\times 10^{15} = 4.000000000025 \\times 10^{15}\\,\\text{cm}^{-3}$$\nRounding the result to four significant figures as required:\n$$n = 4.000 \\times 10^{15}\\,\\text{cm}^{-3}$$\n\nNext, we calculate the hole concentration $p$ using the law of mass action and the calculated value of $n$:\n$$p = \\frac{n_i^2}{n} = \\frac{(10^{10})^2}{4.000000000025 \\times 10^{15}} = \\frac{10^{20}}{4.000000000025 \\times 10^{15}}$$\n$$p \\approx 24999.9999984... \\,\\text{cm}^{-3}$$\nIn scientific notation, this is $2.49999999984... \\times 10^4\\,\\text{cm}^{-3}$. Rounding to four significant figures:\n$$p = 2.500 \\times 10^{4}\\,\\text{cm}^{-3}$$\n\nFinally, we verify that the computed rounded values for $n$ and $p$ are consistent with the mass action relation. We calculate their product:\n$$n \\cdot p = (4.000 \\times 10^{15}\\,\\text{cm}^{-3}) \\times (2.500 \\times 10^{4}\\,\\text{cm}^{-3})$$\n$$n \\cdot p = 10.00 \\times 10^{19}\\,\\text{cm}^{-6} = 1.000 \\times 10^{20}\\,\\text{cm}^{-6}$$\nThe given value for the square of the intrinsic carrier concentration is:\n$$n_i^2 = (10^{10}\\,\\text{cm}^{-3})^2 = 10^{20}\\,\\text{cm}^{-6}$$\nThe product of the computed concentrations, $1.000 \\times 10^{20}\\,\\text{cm}^{-6}$, matches the value of $n_i^2$ exactly to within the requested rounding precision. The consistency check is successful.\n\nThe final numerical answers for the electron and hole concentrations are $(n, p) = (4.000 \\times 10^{15}\\,\\text{cm}^{-3}, 2.500 \\times 10^{4}\\,\\text{cm}^{-3})$.",
            "answer": "$$\\boxed{\\begin{pmatrix} 4.000 \\times 10^{15}  2.500 \\times 10^{4} \\end{pmatrix}}$$"
        },
        {
            "introduction": "Our previous analysis relied on the simplifying assumption of full dopant ionization. A more rigorous and universally applicable model must account for the fact that the ionization of donors and acceptors is a statistical process, governed by the position of the Fermi level ($E_F$). This advanced, computational practice  guides you through building and solving the complete, non-linear charge neutrality equation. By implementing a numerical root-finding algorithm, you will gain hands-on experience with the methods used in professional device simulation and develop a deeper intuition for the interplay between doping, temperature, and the equilibrium Fermi level.",
            "id": "3734475",
            "problem": "Given an extrinsic semiconductor at temperature $T = 300\\,\\text{K}$ obeying charge neutrality, the equilibrium Fermi level $E_F$ satisfies the equation\n$$ n(E_F, T) - p(E_F, T) + N_A^- (E_F, T) - N_D^+ (E_F, T) = 0. $$\nDerive from first principles the relationships needed to evaluate the quantities $n(E_F, T)$, $p(E_F, T)$, $N_D^+(E_F, T)$, and $N_A^-(E_F, T)$ in terms of the energy parameters and densities, and then implement a numerical root-finding algorithm to compute $E_F$ for given parameter sets.\n\nUse the following well-tested definitions governing nondegenerate semiconductors with parabolic bands at $T=300\\,\\text{K}$:\n- The conduction band edge energy $E_C$ and valence band edge energy $E_V$ define the bandgap $E_g$ by $E_g = E_C - E_V$, and $E_V$ is the reference energy $E_V = 0\\,\\text{eV}$ so that $E_C = E_g$.\n- The electron concentration in the conduction band is\n$$ n(E_F, T) = N_C \\exp\\!\\left(-\\frac{E_C - E_F}{k_B T}\\right), $$\nwhere $N_C$ is the effective density of states in the conduction band.\n- The hole concentration in the valence band is\n$$ p(E_F, T) = N_V \\exp\\!\\left(-\\frac{E_F - E_V}{k_B T}\\right), $$\nwhere $N_V$ is the effective density of states in the valence band.\n- The ionized donor concentration (positively charged donors) for a donor level at energy $E_D$ with degeneracy $g_D$ is\n$$ N_D^+(E_F, T) = N_D \\left[1 - f_D(E_F)\\right] = \\frac{N_D}{1 + \\frac{1}{g_D}\\exp\\!\\left(\\frac{E_F - E_D}{k_B T}\\right)}, $$\nwhere $N_D$ is the total donor density and $f_D(E_F) = \\frac{1}{1 + g_D \\exp\\!\\left(\\frac{E_D - E_F}{k_B T}\\right)}$ is the probability that the donor level is occupied by an electron.\n- The ionized acceptor concentration (negatively charged acceptors) for an acceptor level at energy $E_A$ with degeneracy $g_A$ is\n$$ N_A^-(E_F, T) = N_A f_A(E_F) = \\frac{N_A}{1 + g_A \\exp\\!\\left(\\frac{E_A - E_F}{k_B T}\\right)}, $$\nwhere $N_A$ is the total acceptor density and $f_A(E_F) = \\frac{1}{1 + g_A \\exp\\!\\left(\\frac{E_A - E_F}{k_B T}\\right)}$ is the probability that the acceptor level is occupied by an electron.\n\nThe Boltzmann constant $k_B$ must be used in the energy unit of electronvolts (eV), so that $k_B T$ is in eV at $T = 300\\,\\text{K}$. Take $k_B = 8.617\\,333\\,262 \\times 10^{-5}\\,\\text{eV/K}$. All energies must be expressed in $\\text{eV}$, and all densities must be expressed in $\\text{cm}^{-3}$. State explicitly that $E_V = 0\\,\\text{eV}$, and report $E_F$ in $\\text{eV}$ relative to $E_V$.\n\nYour program must:\n- Implement the above relationships.\n- Solve the scalar nonlinear equation $n(E_F, T) - p(E_F, T) + N_A^- (E_F, T) - N_D^+ (E_F, T) = 0$ for $E_F$ using a robust numerical algorithm with a guaranteed bracket and convergence criterion.\n- Use fixed degeneracy factors $g_D = 2$ and $g_A = 4$.\n- Use the following test suite of parameter sets, each specified as $(N_C, N_V, E_g, N_D, E_D, N_A, E_A)$, where energies are in $\\text{eV}$ (relative to $E_V=0\\,\\text{eV}$) and densities are in $\\text{cm}^{-3}$:\n    1. $(2.8\\times 10^{19},\\,1.04\\times 10^{19},\\,1.12,\\,1.0\\times 10^{16},\\,1.075,\\,0.0,\\,0.057)$\n       A lightly $n$-type uncompensated silicon-like semiconductor with a shallow donor at $E_D = E_C - 0.045\\,\\text{eV}$ and an acceptor parameter included but $N_A=0$.\n    2. $(2.8\\times 10^{19},\\,1.04\\times 10^{19},\\,1.12,\\,0.0,\\,1.075,\\,1.0\\times 10^{16},\\,0.057)$\n       A lightly $p$-type uncompensated case with a shallow acceptor at $E_A = E_V + 0.057\\,\\text{eV}$ and a donor parameter included but $N_D=0$.\n    3. $(2.8\\times 10^{19},\\,1.04\\times 10^{19},\\,1.12,\\,5.0\\times 10^{16},\\,1.075,\\,3.0\\times 10^{16},\\,0.057)$\n       A moderately compensated $n$-type case with both donors and acceptors present.\n    4. $(2.8\\times 10^{19},\\,1.04\\times 10^{19},\\,1.12,\\,1.0\\times 10^{17},\\,1.075,\\,1.0\\times 10^{17},\\,0.057)$\n       A strongly compensated case with nearly balanced donors and acceptors.\n    5. $(2.8\\times 10^{19},\\,1.04\\times 10^{19},\\,1.12,\\,1.0\\times 10^{16},\\,0.87,\\,0.0,\\,0.057)$\n       A case with a deeper donor level $E_D = 0.87\\,\\text{eV}$ (significantly below $E_C$) causing partial ionization.\n\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, with each $E_F$ value rounded to six decimal places in $\\text{eV}$ relative to $E_V=0\\,\\text{eV}$ (e.g., \"[0.567890,0.456781,0.500123,0.600000,0.412345]\").",
            "solution": "The problem requires the calculation of the equilibrium Fermi level, $E_F$, in a compensated extrinsic semiconductor at a fixed temperature $T = 300\\,\\text{K}$. The calculation is based on the fundamental principle of charge neutrality. The solution involves establishing the governing nonlinear equation and then solving it numerically.\n\nThe core principle is that any macroscopic volume of the semiconductor must be electrically neutral. The total positive charge density must equal the total negative charge density. The charge carriers are electrons, holes, ionized donor atoms, and ionized acceptor atoms.\nThe charge carriers and their respective densities are:\n-   Electrons in the conduction band, with density $n$ and charge $-q$.\n-   Holes in the valence band, with density $p$ and charge $+q$.\n-   Ionized donor atoms, with density $N_D^+$ and charge $+q$. These are donor atoms that have lost an electron.\n-   Ionized acceptor atoms, with density $N_A^-$ and charge $-q$. These are acceptor atoms that have gained an electron.\n\nThe charge neutrality condition is stated as:\n$$ q \\cdot p + q \\cdot N_D^+ - q \\cdot n - q \\cdot N_A^- = 0 $$\nDividing by the elementary charge $q$, we obtain the equation to be solved for the Fermi level $E_F$:\n$$ p(E_F, T) - n(E_F, T) + N_D^+(E_F, T) - N_A^-(E_F, T) = 0 $$\nThe problem is specified with the charge signs arranged as $n - p + N_A^- - N_D^+ = 0$, which is algebraically equivalent. We define the net charge density function $\\rho(E_F)$ as:\n$$ \\rho(E_F) = n(E_F, T) - p(E_F, T) + N_A^-(E_F, T) - N_D^+(E_F, T) $$\nOur goal is to find the root $E_F$ that satisfies $\\rho(E_F) = 0$.\n\nThe problem provides the explicit relationships for each term, derived from semiconductor statistics for a nondegenerate semiconductor with parabolic bands. All energies are expressed in electronvolts ($\\text{eV}$) and all densities in cubic centimeters ($\\text{cm}^{-3}$). The temperature is $T = 300\\,\\text{K}$, and the Boltzmann constant is $k_B = 8.617333262 \\times 10^{-5}\\,\\text{eV/K}$. The thermal energy is $k_B T \\approx 0.025852\\,\\text{eV}$. We set the valence band edge as the reference energy, $E_V = 0\\,\\text{eV}$, which implies the conduction band edge is at $E_C = E_g$, where $E_g$ is the bandgap energy.\n\nThe constituent terms are:\n1.  **Electron Concentration ($n$)**: The density of electrons in the conduction band is given by:\n    $$ n(E_F, T) = N_C \\exp\\!\\left(-\\frac{E_C - E_F}{k_B T}\\right) = N_C \\exp\\!\\left(-\\frac{E_g - E_F}{k_B T}\\right) $$\n    where $N_C$ is the effective density of states in the conduction band.\n\n2.  **Hole Concentration ($p$)**: The density of holes in the valence band is given by:\n    $$ p(E_F, T) = N_V \\exp\\!\\left(-\\frac{E_F - E_V}{k_B T}\\right) = N_V \\exp\\!\\left(-\\frac{E_F}{k_B T}\\right) $$\n    where $N_V$ is the effective density of states in the valence band.\n\n3.  **Ionized Donor Concentration ($N_D^+$)**: The density of positively charged donors, for a total donor density $N_D$ at an energy level $E_D$ with degeneracy factor $g_D$, is:\n    $$ N_D^+(E_F, T) = \\frac{N_D}{1 + \\frac{1}{g_D}\\exp\\!\\left(\\frac{E_F - E_D}{k_B T}\\right)} $$\n    The degeneracy factor for donors is given as $g_D = 2$.\n\n4.  **Ionized Acceptor Concentration ($N_A^-$)**: The density of negatively charged acceptors, for a total acceptor density $N_A$ at an energy level $E_A$ with degeneracy factor $g_A$, is:\n    $$ N_A^-(E_F, T) = \\frac{N_A}{1 + g_A \\exp\\!\\left(\\frac{E_A - E_F}{k_B T}\\right)} $$\n    The degeneracy factor for acceptors is given as $g_A = 4$.\n\nSubstituting these expressions into the charge balance equation gives the final nonlinear scalar equation for $E_F$:\n$$ \\rho(E_F) = N_C \\exp\\!\\left(-\\frac{E_g - E_F}{k_B T}\\right) - N_V \\exp\\!\\left(-\\frac{E_F}{k_B T}\\right) + \\frac{N_A}{1 + g_A \\exp\\!\\left(\\frac{E_A - E_F}{k_B T}\\right)} - \\frac{N_D}{1 + \\frac{1}{g_D}\\exp\\!\\left(\\frac{E_F - E_D}{k_B T}\\right)} = 0 $$\nThis equation cannot be solved analytically for $E_F$ and requires a numerical root-finding algorithm.\n\nTo select a robust numerical method, we analyze the function $\\rho(E_F)$. Each term in $\\rho(E_F)$ is a monotonically increasing function of $E_F$:\n-   $n(E_F)$ is proportional to $\\exp(E_F / k_B T)$, which is increasing.\n-   $-p(E_F)$ is proportional to $-\\exp(-E_F / k_B T)$, which is increasing.\n-   $N_A^-(E_F)$ is a sigmoid-like function of $E_F$ and is monotonically increasing.\n-   $-N_D^+(E_F)$ is also monotonically increasing, as $N_D^+(E_F)$ is a monotonically decreasing function of $E_F$.\n\nSince $\\rho(E_F)$ is a sum of strictly increasing continuous functions, it is itself a strictly increasing continuous function of $E_F$. This property is ideal for bracketing root-finders. Furthermore, as $E_F \\to -\\infty$, the term $-p(E_F)$ dominates and $\\rho(E_F) \\to -\\infty$. As $E_F \\to +\\infty$, the term $n(E_F)$ dominates and $\\rho(E_F) \\to +\\infty$. By the Intermediate Value Theorem, a unique root must exist.\n\nA suitable search interval (bracket) $[a, b]$ for $E_F$ must be chosen such that $\\rho(a)  0$ and $\\rho(b)  0$. A physically meaningful and computationally safe range is the interval spanning the bandgap, $[E_V, E_C] = [0, E_g]$.\n-   At $E_F = 0$, $\\rho(0) \\approx -N_V - N_D^+$, which is strongly negative since $N_V$ is large.\n-   At $E_F = E_g$, $\\rho(E_g) \\approx N_C + N_A^-$, which is strongly positive since $N_C$ is large.\nTherefore, the bracket $[0, E_g]$ is guaranteed to contain the unique root.\n\nWe will implement a numerical solution using a robust bracketing algorithm. Brent's method, available in `scipy.optimize.brentq`, is an excellent choice as it combines the guaranteed convergence of the bisection method with the speed of the secant method and inverse quadratic interpolation.\n\nThe algorithm is as follows:\n1.  Define the constants $k_B$, $T$, $g_D$, and $g_A$.\n2.  Define a Python function that computes $\\rho(E_F)$ for a given set of material parameters $(N_C, N_V, E_g, N_D, E_D, N_A, E_A)$.\n3.  For each test case provided:\n    a.  Pass the material parameters to the charge density function.\n    b.  Use `scipy.optimize.brentq` to find the root of this function within the bracket $[0, E_g]$.\n    c.  Store the resulting Fermi level $E_F$.\n4.  Format the collected results to six decimal places and print them in the specified list format.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nfrom scipy.optimize import brentq\n\ndef solve():\n    \"\"\"\n    Computes the equilibrium Fermi level in a compensated semiconductor\n    by numerically solving the charge neutrality equation.\n    \"\"\"\n    # Define physical constants and fixed parameters\n    k_B = 8.617333262e-5  # Boltzmann constant in eV/K\n    T = 300.0             # Temperature in K\n    g_D = 2.0             # Donor degeneracy factor\n    g_A = 4.0             # Acceptor degeneracy factor\n    \n    # Thermal energy in eV\n    kT = k_B * T\n\n    # Define the test cases from the problem statement.\n    # Each case is a tuple: (NC, NV, Eg, ND, ED, NA, EA)\n    # Densities (NC, NV, ND, NA) are in cm^-3\n    # Energies (Eg, ED, EA) are in eV\n    test_cases = [\n        # Case 1: Lightly n-type uncompensated\n        (2.8e19, 1.04e19, 1.12, 1.0e16, 1.075, 0.0, 0.057),\n        # Case 2: Lightly p-type uncompensated\n        (2.8e19, 1.04e19, 1.12, 0.0, 1.075, 1.0e16, 0.057),\n        # Case 3: Moderately compensated n-type\n        (2.8e19, 1.04e19, 1.12, 5.0e16, 1.075, 3.0e16, 0.057),\n        # Case 4: Strongly compensated (nearly intrinsic)\n        (2.8e19, 1.04e19, 1.12, 1.0e17, 1.075, 1.0e17, 0.057),\n        # Case 5: Deeper donor level\n        (2.8e19, 1.04e19, 1.12, 1.0e16, 0.87, 0.0, 0.057),\n    ]\n\n    def charge_density(E_F, NC, NV, Eg, ND, ED, NA, EA):\n        \"\"\"\n        Calculates the net charge density rho(E_F) = n - p + N_A^- - N_D^+.\n        This is the function whose root we need to find.\n        \"\"\"\n        # Electron concentration in conduction band (E_C = Eg, since E_V = 0)\n        n = NC * np.exp(-(Eg - E_F) / kT)\n        \n        # Hole concentration in valence band (E_V = 0)\n        p = NV * np.exp(-E_F / kT)\n        \n        # Ionized acceptor concentration\n        NA_minus = NA / (1.0 + g_A * np.exp((EA - E_F) / kT))\n        \n        # Ionized donor concentration\n        # Note: 1/g_D is used as per the problem's second form for N_D^+\n        ND_plus = ND / (1.0 + (1.0 / g_D) * np.exp((E_F - ED) / kT))\n        \n        return n - p + NA_minus - ND_plus\n\n    results = []\n    for case in test_cases:\n        NC, NV, Eg, ND, ED, NA, EA = case\n        \n        # The search for E_F is bracketed within the bandgap [E_V, E_C],\n        # which is [0, Eg] since E_V is the reference energy.\n        # This is a safe and numerically stable bracket.\n        bracket_low = 0.0\n        bracket_high = Eg\n        \n        # Use Brent's method to find the root E_F for rho(E_F) = 0.\n        # The arguments to charge_density are passed via the `args` tuple.\n        fermi_level = brentq(\n            charge_density, \n            a=bracket_low, \n            b=bracket_high, \n            args=(NC, NV, Eg, ND, ED, NA, EA)\n        )\n        results.append(fermi_level)\n\n    # Format the results to 6 decimal places and print in the required format.\n    formatted_results = [f\"{r:.6f}\" for r in results]\n    print(f\"[{','.join(formatted_results)}]\")\n\nsolve()\n```"
        }
    ]
}