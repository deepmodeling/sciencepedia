{
    "hands_on_practices": [
        {
            "introduction": "Before analyzing doped semiconductors, it is essential to understand the behavior of an undoped, or intrinsic, crystal. This first exercise guides you through the derivation of the intrinsic carrier concentration, $n_i$, from the fundamental principles of statistical mechanics, combining the density of states with the Fermi-Dirac distribution. By applying the resulting formula to compare germanium and silicon, you will gain a quantitative appreciation for how material parameters like the bandgap $E_g$ and effective masses dictate the intrinsic properties of a semiconductor .",
            "id": "3745104",
            "problem": "A crystalline intrinsic semiconductor is modeled by parabolic conduction and valence bands with density-of-states effective masses. The intrinsic electron concentration $n$ is, by definition, the number of electrons occupying the conduction band at thermal equilibrium in the absence of extrinsic dopants, and equals the hole concentration $p$ in the valence band. Starting from the Fermi–Dirac distribution (FD) for occupation probability, $f(E)$, and the three-dimensional density of states (DOS) for a parabolic band, derive the intrinsic carrier concentration $n_i$ in terms of the bandgap $E_g$, the temperature $T$, and the density-of-states effective masses $m_e^*$ and $m_h^*$. Assume the non-degenerate limit in which the FD distribution reduces to the Maxwell–Boltzmann form.\n\nUse the derived expression to quantify how the intrinsic carrier concentration of germanium compares to that of silicon at $T=300\\ \\mathrm{K}$. For germanium, use $E_g=0.66\\ \\mathrm{eV}$, $m_e^*=0.56\\,m_0$, and $m_h^*=0.29\\,m_0$. For silicon, use $E_g=1.12\\ \\mathrm{eV}$, $m_e^*=1.08\\,m_0$, and $m_h^*=0.60\\,m_0$. Here $m_0$ is the electron rest mass. Take the Boltzmann constant as $k_B=8.617333262\\times 10^{-5}\\ \\mathrm{eV/K}$, and express all energies in electron-volts.\n\nReport the single quantity $n_{i,\\mathrm{Ge}}/n_{i,\\mathrm{Si}}$ (a dimensionless ratio), rounded to three significant figures. No other values should be reported as the final answer.",
            "solution": "The problem is valid as it is scientifically grounded in the principles of solid-state physics, is well-posed with sufficient and consistent information, and is expressed objectively. I will now proceed with a full derivation and calculation.\n\nThe task is to first derive an expression for the intrinsic carrier concentration, $n_i$, in a semiconductor and then use this expression to calculate the ratio of intrinsic carrier concentrations for germanium ($n_{i,\\mathrm{Ge}}$) to that of silicon ($n_{i,\\mathrm{Si}}$) at a temperature of $T=300\\ \\mathrm{K}$.\n\nFirst, we derive the general expressions for the electron concentration, $n$, in the conduction band and the hole concentration, $p$, in the valence band.\n\nThe concentration of electrons in the conduction band is given by integrating the product of the density of states, $g_c(E)$, and the probability of occupation, $f(E)$, over the entire conduction band, from the conduction band edge, $E_c$, to infinity.\n$$n = \\int_{E_c}^{\\infty} g_c(E) f(E) dE$$\nFor a three-dimensional parabolic band, the density of states per unit volume is given by:\n$$g_c(E) = \\frac{1}{2\\pi^2}\\left(\\frac{2m_e^*}{\\hbar^2}\\right)^{3/2}\\sqrt{E-E_c} \\quad \\text{for } E \\ge E_c$$\nwhere $m_e^*$ is the density-of-states effective mass for electrons and $\\hbar$ is the reduced Planck constant. The occupation probability is given by the Fermi-Dirac distribution:\n$$f(E) = \\frac{1}{1 + \\exp\\left(\\frac{E - E_F}{k_B T}\\right)}$$\nwhere $E_F$ is the Fermi level, $k_B$ is the Boltzmann constant, and $T$ is the absolute temperature.\n\nThe problem specifies the non-degenerate limit, where we assume that the Fermi level is located within the bandgap and is several $k_B T$ away from the band edges. For electrons in the conduction band, this means $E-E_F \\gg k_B T$. In this limit, the Fermi-Dirac distribution can be approximated by the Maxwell-Boltzmann distribution:\n$$f(E) \\approx \\exp\\left(-\\frac{E - E_F}{k_B T}\\right)$$\nSubstituting the expressions for $g_c(E)$ and the approximated $f(E)$ into the integral for $n$:\n$$n = \\int_{E_c}^{\\infty} \\frac{1}{2\\pi^2}\\left(\\frac{2m_e^*}{\\hbar^2}\\right)^{3/2}\\sqrt{E-E_c} \\exp\\left(-\\frac{E - E_F}{k_B T}\\right) dE$$\nWe can rewrite the exponential term as $\\exp\\left(-\\frac{E - E_c}{k_B T}\\right) \\exp\\left(-\\frac{E_c - E_F}{k_B T}\\right)$ and pull the second term, which is independent of $E$, out of the integral:\n$$n = \\frac{1}{2\\pi^2}\\left(\\frac{2m_e^*}{\\hbar^2}\\right)^{3/2} \\exp\\left(-\\frac{E_c - E_F}{k_B T}\\right) \\int_{E_c}^{\\infty} \\sqrt{E-E_c} \\exp\\left(-\\frac{E-E_c}{k_B T}\\right) dE$$\nTo solve the integral, we perform a change of variables. Let $x = \\frac{E-E_c}{k_B T}$. Then $dE = k_B T dx$, and $E-E_c=x k_B T$. The limits of integration become $0$ to $\\infty$.\n$$\\int_{0}^{\\infty} \\sqrt{x k_B T} \\exp(-x) (k_B T dx) = (k_B T)^{3/2} \\int_{0}^{\\infty} x^{1/2} e^{-x} dx$$\nThe integral is the Gamma function $\\Gamma(3/2)$, which equals $\\frac{\\sqrt{\\pi}}{2}$. Substituting this result back:\n$$n = \\frac{1}{2\\pi^2}\\left(\\frac{2m_e^*}{\\hbar^2}\\right)^{3/2} (k_B T)^{3/2} \\frac{\\sqrt{\\pi}}{2} \\exp\\left(-\\frac{E_c - E_F}{k_B T}\\right)$$\nThis is commonly written as $n = N_c \\exp\\left(-\\frac{E_c - E_F}{k_B T}\\right)$, where $N_c$ is the effective density of states in the conduction band:\n$$N_c = \\frac{1}{2\\pi^2}\\left(\\frac{2m_e^*}{\\hbar^2}\\right)^{3/2} \\frac{\\sqrt{\\pi}}{2} (k_B T)^{3/2} = 2\\left(\\frac{2\\pi m_e^* k_B T}{h^2}\\right)^{3/2}$$\nwhere we used $\\hbar = h/(2\\pi)$.\n\nA similar derivation applies to holes in the valence band. The concentration of holes, $p$, is given by integrating the product of the density of states in the valence band, $g_v(E)$, and the probability that a state is empty, $1 - f(E)$, from $-\\infty$ to the valence band edge, $E_v$.\n$$p = \\int_{-\\infty}^{E_v} g_v(E) [1 - f(E)] dE$$\n$$g_v(E) = \\frac{1}{2\\pi^2}\\left(\\frac{2m_h^*}{\\hbar^2}\\right)^{3/2}\\sqrt{E_v-E} \\quad \\text{for } E \\le E_v$$\nThe probability of a state being empty, $1-f(E)$, in the non-degenerate limit ($E_F - E \\gg k_B T$ for states in the valence band) is:\n$$1 - f(E) = \\frac{1}{1 + \\exp\\left(\\frac{E_F - E}{k_B T}\\right)} \\approx \\exp\\left(-\\frac{E_F - E}{k_B T}\\right)$$\nFollowing an analogous integration procedure, we find:\n$$p = N_v \\exp\\left(-\\frac{E_F - E_v}{k_B T}\\right)$$\nwhere $N_v$ is the effective density of states in the valence band:\n$$N_v = 2\\left(\\frac{2\\pi m_h^* k_B T}{h^2}\\right)^{3/2}$$\n\nFor an intrinsic semiconductor, there are no dopants, and the number of electrons excited to the conduction band must equal the number of holes left behind in the valence band. This condition is $n = p = n_i$, where $n_i$ is the intrinsic carrier concentration.\nTo find an expression for $n_i$ that does not depend on the Fermi level $E_F$, we evaluate the product $n \\cdot p$:\n$$n \\cdot p = N_c \\exp\\left(-\\frac{E_c - E_F}{k_B T}\\right) N_v \\exp\\left(-\\frac{E_F - E_v}{k_B T}\\right)$$\n$$n \\cdot p = N_c N_v \\exp\\left(-\\frac{E_c - E_F + E_F - E_v}{k_B T}\\right) = N_c N_v \\exp\\left(-\\frac{E_c - E_v}{k_B T}\\right)$$\nThe term $E_c - E_v$ is the bandgap energy, $E_g$. In an intrinsic semiconductor, $n=p=n_i$, so $n \\cdot p = n_i^2$.\n$$n_i^2 = N_c N_v \\exp\\left(-\\frac{E_g}{k_B T}\\right)$$\nTaking the square root gives the expression for the intrinsic carrier concentration:\n$$n_i = \\sqrt{N_c N_v} \\exp\\left(-\\frac{E_g}{2 k_B T}\\right)$$\nSubstituting the full expressions for $N_c$ and $N_v$:\n$$n_i = \\sqrt{4\\left(\\frac{2\\pi k_B T}{h^2}\\right)^3 (m_e^* m_h^*)^{3/2}} \\exp\\left(-\\frac{E_g}{2 k_B T}\\right)$$\n$$n_i = 2\\left(\\frac{2\\pi k_B T}{h^2}\\right)^{3/2} (m_e^* m_h^*)^{3/4} \\exp\\left(-\\frac{E_g}{2 k_B T}\\right)$$\nThis is the desired general expression for the intrinsic carrier concentration.\n\nNow, we use this expression to find the ratio $n_{i,\\mathrm{Ge}}/n_{i,\\mathrm{Si}}$.\n$$\\frac{n_{i,\\mathrm{Ge}}}{n_{i,\\mathrm{Si}}} = \\frac{2\\left(\\frac{2\\pi k_B T}{h^2}\\right)^{3/2} (m_{e,\\mathrm{Ge}}^* m_{h,\\mathrm{Ge}}^*)^{3/4} \\exp\\left(-\\frac{E_{g,\\mathrm{Ge}}}{2 k_B T}\\right)}{2\\left(\\frac{2\\pi k_B T}{h^2}\\right)^{3/2} (m_{e,\\mathrm{Si}}^* m_{h,\\mathrm{Si}}^*)^{3/4} \\exp\\left(-\\frac{E_{g,\\mathrm{Si}}}{2 k_B T}\\right)}$$\nThe constant prefactors involving $k_B$, $T$, and $h$ cancel out, leaving:\n$$\\frac{n_{i,\\mathrm{Ge}}}{n_{i,\\mathrm{Si}}} = \\left(\\frac{m_{e,\\mathrm{Ge}}^* m_{h,\\mathrm{Ge}}^*}{m_{e,\\mathrm{Si}}^* m_{h,\\mathrm{Si}}^*}\\right)^{3/4} \\exp\\left(\\frac{E_{g,\\mathrm{Si}} - E_{g,\\mathrm{Ge}}}{2 k_B T}\\right)$$\nWe are given the following values:\nFor Germanium (Ge): $E_{g,\\mathrm{Ge}}=0.66\\ \\mathrm{eV}$, $m_{e,\\mathrm{Ge}}^*=0.56\\,m_0$, and $m_{h,\\mathrm{Ge}}^*=0.29\\,m_0$.\nFor Silicon (Si): $E_{g,\\mathrm{Si}}=1.12\\ \\mathrm{eV}$, $m_{e,\\mathrm{Si}}^*=1.08\\,m_0$, and $m_{h,\\mathrm{Si}}^*=0.60\\,m_0$.\nTemperature $T=300\\ \\mathrm{K}$ and Boltzmann constant $k_B=8.617333262\\times 10^{-5}\\ \\mathrm{eV/K}$.\n\nFirst, calculate the thermal energy term $2k_B T$:\n$$2 k_B T = 2 \\times (8.617333262 \\times 10^{-5}\\ \\mathrm{eV/K}) \\times (300\\ \\mathrm{K}) \\approx 0.051704\\ \\mathrm{eV}$$\nNext, calculate the mass factor. The electron rest mass $m_0$ cancels out:\n$$\\left(\\frac{m_{e,\\mathrm{Ge}}^* m_{h,\\mathrm{Ge}}^*}{m_{e,\\mathrm{Si}}^* m_{h,\\mathrm{Si}}^*}\\right)^{3/4} = \\left(\\frac{(0.56)(0.29)}{(1.08)(0.60)}\\right)^{3/4} = \\left(\\frac{0.1624}{0.648}\\right)^{3/4} \\approx (0.250617)^{0.75} \\approx 0.35440$$\nNext, calculate the exponential factor:\n$$\\exp\\left(\\frac{E_{g,\\mathrm{Si}} - E_{g,\\mathrm{Ge}}}{2 k_B T}\\right) = \\exp\\left(\\frac{1.12\\ \\mathrm{eV} - 0.66\\ \\mathrm{eV}}{0.051704\\ \\mathrm{eV}}\\right) = \\exp\\left(\\frac{0.46}{0.051704}\\right) \\approx \\exp(8.8968) \\approx 7308.12$$\nFinally, multiply the two factors to get the ratio:\n$$\\frac{n_{i,\\mathrm{Ge}}}{n_{i,\\mathrm{Si}}} \\approx 0.35440 \\times 7308.12 \\approx 2590.93$$\nRounding this result to three significant figures, we get $2590$.",
            "answer": "$$\\boxed{2590}$$"
        },
        {
            "introduction": "Real-world semiconductors are intentionally doped with impurities to control their conductivity. This next problem transitions from the intrinsic case to a more practical scenario involving a compensated semiconductor, which contains both donor and acceptor atoms. By applying the crucial principle of charge neutrality, you will calculate the position of the Fermi level and the net carrier concentration, developing a core skill for analyzing doped materials .",
            "id": "3745089",
            "problem": "A single-crystal silicon sample is uniformly doped with shallow donors and acceptors at room temperature. The donor concentration is $N_{D} = 10^{16}\\ \\mathrm{cm}^{-3}$ and the acceptor concentration is $N_{A} = 5 \\times 10^{15}\\ \\mathrm{cm}^{-3}$. Assume the following:\n- The temperature is $T = 300\\ \\mathrm{K}$.\n- Donors and acceptors are shallow and completely ionized at $300\\ \\mathrm{K}$.\n- Carrier populations are nondegenerate, so Maxwell–Boltzmann statistics apply.\n- The intrinsic carrier concentration of silicon at $300\\ \\mathrm{K}$ is $n_{i} = 1.00 \\times 10^{10}\\ \\mathrm{cm}^{-3}$.\n- Use the Boltzmann constant $k_{B} = 8.617333262 \\times 10^{-5}\\ \\mathrm{eV/K}$.\n\nStarting from the definitions of electron and hole concentrations as energy integrals over the density of states multiplied by the Fermi–Dirac distribution, derive the law of mass action and the charge neutrality condition for a compensated semiconductor under the stated assumptions. Then determine the position of the Fermi level relative to the intrinsic level, $E_{F} - E_{i}$, and the net carrier concentration difference, $n - p$, at $T = 300\\ \\mathrm{K}$.\n\n- Report $E_{F} - E_{i}$ in electronvolts (eV) and $n - p$ in $\\mathrm{cm}^{-3}$.\n- Round both results to three significant figures.\n- Your final answer must be given as two entries in a single row matrix, in the order $\\big(E_{F} - E_{i},\\ n - p\\big)$, without units.",
            "solution": "The problem is valid as it is scientifically grounded in semiconductor physics, well-posed with sufficient and consistent data, and objectively stated.\n\nThe solution proceeds in four main stages:\n1.  Derivation of the Law of Mass Action.\n2.  Derivation of the Charge Neutrality condition for the given sample.\n3.  Calculation of the net carrier concentration difference, $n-p$.\n4.  Calculation of the Fermi level position relative to the intrinsic level, $E_F - E_i$.\n\n**1. Derivation of the Law of Mass Action**\n\nThe concentration of electrons, $n$, in the conduction band and the concentration of holes, $p$, in the valence band are given by the integrals of the density of states multiplied by the appropriate occupation probability.\nThe electron concentration is:\n$$n = \\int_{E_c}^{\\infty} g_c(E) f(E) dE$$\nwhere $E_c$ is the energy at the bottom of the conduction band, $g_c(E)$ is the density of states in the conduction band, and $f(E)$ is the Fermi-Dirac distribution.\nThe hole concentration is:\n$$p = \\int_{-\\infty}^{E_v} g_v(E) [1-f(E)] dE$$\nwhere $E_v$ is the energy at the top of the valence band, $g_v(E)$ is the density of states in the valence band, and $1 - f(E)$ is the probability that a state is empty (i.e., occupied by a hole).\n\nThe problem states that the carrier populations are nondegenerate. This allows the use of the Maxwell-Boltzmann approximation for the Fermi-Dirac distribution, $f(E) = \\frac{1}{1 + \\exp\\left(\\frac{E-E_F}{k_B T}\\right)}$, where $E_F$ is the Fermi level, $k_B$ is the Boltzmann constant, and $T$ is the absolute temperature.\nFor electrons in the conduction band ($E \\ge E_c$), we assume $E - E_F \\gg k_B T$, so:\n$$f(E) \\approx \\exp\\left(-\\frac{E-E_F}{k_B T}\\right)$$\nFor holes in the valence band ($E \\le E_v$), we assume $E_F - E \\gg k_B T$, so the probability of a state being empty is:\n$$1 - f(E) = \\frac{1}{1 + \\exp\\left(-\\frac{E-E_F}{k_B T}\\right)} \\approx \\exp\\left(-\\frac{E_F-E}{k_B T}\\right)$$\nSubstituting these approximations into the integral expressions for $n$ and $p$ and evaluating them (the integrals are standard forms involving the Gamma function) yields:\n$$n = N_c \\exp\\left(-\\frac{E_c-E_F}{k_B T}\\right)$$\n$$p = N_v \\exp\\left(-\\frac{E_F-E_v}{k_B T}\\right)$$\nHere, $N_c$ and $N_v$ are the effective densities of states in the conduction and valence bands, respectively. They are constants for a given material at a specific temperature.\n\nThe product of the electron and hole concentrations is then:\n$$np = \\left( N_c \\exp\\left(-\\frac{E_c-E_F}{k_B T}\\right) \\right) \\left( N_v \\exp\\left(-\\frac{E_F-E_v}{k_B T}\\right) \\right)$$\n$$np = N_c N_v \\exp\\left(-\\frac{E_c-E_F+E_F-E_v}{k_B T}\\right)$$\nThe Fermi level $E_F$ cancels out, leading to:\n$$np = N_c N_v \\exp\\left(-\\frac{E_c-E_v}{k_B T}\\right)$$\nThe term $E_c - E_v$ is the bandgap energy, $E_g$. The product $np$ is thus a constant at a given temperature, independent of the doping or Fermi level position.\nFor an intrinsic (undoped) semiconductor, the charge neutrality condition is $n=p=n_i$, where $n_i$ is the intrinsic carrier concentration. Thus:\n$$n_i^2 = N_c N_v \\exp\\left(-\\frac{E_g}{k_B T}\\right)$$\nComparing this with the expression for $np$, we arrive at the Law of Mass Action:\n$$np = n_i^2$$\n\n**2. Derivation of the Charge Neutrality Condition**\n\nFor a semiconductor to be electrically neutral, the total positive charge density must equal the total negative charge density. The sources of positive charge are holes (concentration $p$) and ionized donor atoms (concentration $N_D^+$). The sources of negative charge are electrons (concentration $n$) and ionized acceptor atoms (concentration $N_A^-$). The general charge neutrality equation is:\n$$p + N_D^+ = n + N_A^-$$\nThe problem states that the dopants are shallow and completely ionized at $T=300 \\mathrm{K}$. This means that every donor atom has donated an electron, and every acceptor atom has accepted an electron. Therefore, $N_D^+ = N_D$ and $N_A^- = N_A$.\nSubstituting these into the general equation gives the specific charge neutrality condition for this problem:\n$$p + N_D = n + N_A$$\nThis can be rearranged to express the net carrier concentration difference:\n$$n - p = N_D - N_A$$\n\n**3. Calculation of Net Carrier Concentration Difference, $n-p$**\n\nUsing the derived charge neutrality condition and the given dopant concentrations:\n$N_D = 10^{16}\\ \\mathrm{cm}^{-3}$\n$N_A = 5 \\times 10^{15}\\ \\mathrm{cm}^{-3}$\n$$n - p = 10^{16} - 5 \\times 10^{15} = 1 \\times 10^{16} - 0.5 \\times 10^{16} = 0.5 \\times 10^{16}\\ \\mathrm{cm}^{-3}$$\n$$n - p = 5 \\times 10^{15}\\ \\mathrm{cm}^{-3}$$\nAs requested, we report this to three significant figures, which is $5.00 \\times 10^{15}\\ \\mathrm{cm}^{-3}$.\n\n**4. Calculation of the Fermi Level Position, $E_F - E_i$**\n\nThe electron and hole concentrations can also be expressed in terms of the intrinsic carrier concentration $n_i$ and the intrinsic Fermi level $E_i$:\n$$n = n_i \\exp\\left(\\frac{E_F - E_i}{k_B T}\\right)$$\n$$p = n_i \\exp\\left(-\\frac{E_F - E_i}{k_B T}\\right)$$\nNote that this pair of equations inherently satisfies the mass action law $np = n_i^2$.\nWe substitute these expressions into the charge neutrality equation, $n - p = N_D - N_A$:\n$$n_i \\exp\\left(\\frac{E_F - E_i}{k_B T}\\right) - n_i \\exp\\left(-\\frac{E_F - E_i}{k_B T}\\right) = N_D - N_A$$\nTo solve for $E_F - E_i$, let $x = \\exp\\left(\\frac{E_F - E_i}{k_B T}\\right)$ and $\\Delta N = N_D - N_A$. The equation becomes:\n$$n_i \\left(x - \\frac{1}{x}\\right) = \\Delta N$$\nMultiplying by $x$ and rearranging gives a quadratic equation for $x$:\n$$n_i x^2 - (\\Delta N)x - n_i = 0$$\nUsing the quadratic formula, $x = \\frac{-b \\pm \\sqrt{b^2-4ac}}{2a}$:\n$$x = \\frac{\\Delta N \\pm \\sqrt{(-\\Delta N)^2 - 4(n_i)(-n_i)}}{2n_i} = \\frac{\\Delta N \\pm \\sqrt{(\\Delta N)^2 + 4n_i^2}}{2n_i}$$\nSince $x = \\exp\\left(\\frac{E_F - E_i}{k_B T}\\right)$ must be a positive quantity, we take the positive root:\n$$x = \\frac{\\Delta N + \\sqrt{(\\Delta N)^2 + 4n_i^2}}{2n_i}$$\nNow, we can solve for $E_F - E_i$:\n$$\\frac{E_F - E_i}{k_B T} = \\ln(x) = \\ln\\left(\\frac{N_D - N_A + \\sqrt{(N_D - N_A)^2 + 4n_i^2}}{2n_i}\\right)$$\n$$E_F - E_i = k_B T \\ln\\left(\\frac{N_D - N_A + \\sqrt{(N_D - N_A)^2 + 4n_i^2}}{2n_i}\\right)$$\nWe are given the following values:\n$T = 300\\ \\mathrm{K}$\n$k_B = 8.617333262 \\times 10^{-5}\\ \\mathrm{eV/K}$\n$N_D - N_A = 5 \\times 10^{15}\\ \\mathrm{cm}^{-3}$\n$n_i = 1.00 \\times 10^{10}\\ \\mathrm{cm}^{-3}$\n\nFirst, we calculate the thermal energy $k_B T$:\n$$k_B T = (8.617333262 \\times 10^{-5}\\ \\mathrm{eV/K}) \\times (300\\ \\mathrm{K}) \\approx 0.025852\\ \\mathrm{eV}$$\nSince $N_D - N_A = 5 \\times 10^{15} \\gg n_i = 10^{10}$, the term $4n_i^2$ under the square root is negligible compared to $(N_D - N_A)^2$. This allows for a very accurate approximation:\n$$\\sqrt{(N_D - N_A)^2 + 4n_i^2} \\approx \\sqrt{(N_D - N_A)^2} = N_D - N_A$$\nThe expression for $E_F - E_i$ simplifies to:\n$$E_F - E_i \\approx k_B T \\ln\\left(\\frac{(N_D - N_A) + (N_D - N_A)}{2n_i}\\right) = k_B T \\ln\\left(\\frac{N_D - N_A}{n_i}\\right)$$\nSubstituting the numerical values:\n$$E_F - E_i \\approx (0.025852\\ \\mathrm{eV}) \\ln\\left(\\frac{5 \\times 10^{15}}{1.00 \\times 10^{10}}\\right)$$\n$$E_F - E_i \\approx (0.025852\\ \\mathrm{eV}) \\ln(5 \\times 10^5)$$\n$$E_F - E_i \\approx (0.025852\\ \\mathrm{eV}) \\times (13.12236)$$\n$$E_F - E_i \\approx 0.339196\\ \\mathrm{eV}$$\nRounding to three significant figures, we get $E_F - E_i = 0.339\\ \\mathrm{eV}$. The positive sign indicates that the Fermi level is above the intrinsic level, which is expected for an n-type compensated semiconductor where $N_D > N_A$.\n\nThe two required values are:\n$E_F - E_i = 0.339\\ \\mathrm{eV}$\n$n - p = 5.00 \\times 10^{15}\\ \\mathrm{cm}^{-3}$",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.339 & 5.00 \\times 10^{15}\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "While analytical approximations are useful, they often fail across the wide temperature ranges encountered in device operation, from cryogenic freeze-out to high-temperature intrinsic behavior. This capstone exercise challenges you to bridge the gap between theory and practice by building a robust numerical solver to compute the Fermi level under general conditions . Implementing this tool requires a complete command of the physical model and provides a powerful, versatile method for semiconductor analysis.",
            "id": "3745079",
            "problem": "You are tasked with building a numerical solver to compute the Fermi level $E_F$ (in electron-volts) in a doped semiconductor across the freeze-out, extrinsic, and intrinsic temperature regimes by enforcing charge neutrality. The solver must implement a safeguarded Newton-Raphson method with bracketing, and it must address potential convergence pitfalls. The output must be the computed $E_F$ values for a specified test suite, expressed in electron-volts and rounded to six decimal places, aggregated into a single list printed on one line in the format described below.\n\nBase scenario: Consider a three-dimensional, non-degenerate, parabolic-band semiconductor with donors and acceptors. Use the Boltzmann approximation for band carriers and Fermi-Dirac statistics for dopant occupancy. Let the valence-band edge be $E_v = 0$ and the conduction-band edge be $E_c = E_g(T)$, with the bandgap given by the Varshni relation\n$$\nE_g(T) = E_{g0} - \\frac{\\alpha T^2}{T + \\beta},\n$$\nand the effective density of states functions\n$$\nN_c(T) = N_{c,300}\\left(\\frac{T}{300}\\right)^{3/2}, \\quad N_v(T) = N_{v,300}\\left(\\frac{T}{300}\\right)^{3/2}.\n$$\nAssume donor and acceptor level energies relative to the band edges given by $E_D = E_c - E_{D,\\text{bind}}$ and $E_A = E_v + E_{A,\\text{bind}}$. Use the following constants and parameters:\n- Boltzmann constant in electron-volts per kelvin: $k_B = 8.617333262145\\times 10^{-5}$,\n- Silicon Varshni parameters: $E_{g0} = 1.17$, $\\alpha = 4.73\\times 10^{-4}$, $\\beta = 636$,\n- Effective density of states at $300$ kelvin: $N_{c,300} = 2.8\\times 10^{19}$ $\\text{cm}^{-3}$, $N_{v,300} = 1.04\\times 10^{19}$ $\\text{cm}^{-3}$,\n- Donor and acceptor binding energies: $E_{D,\\text{bind}} = 0.045$, $E_{A,\\text{bind}} = 0.045$,\n- Dopant degeneracy factors: $g_D = 2$ for donors and $g_A = 4$ for acceptors.\n\nThe charge neutrality condition is\n$$\nf(E_F; T, N_D, N_A) \\equiv p(E_F,T) + N_D^+(E_F,T) - n(E_F,T) - N_A^-(E_F,T) = 0,\n$$\nwhere the carrier concentrations under the Boltzmann approximation are\n$$\nn(E_F,T) = N_c(T)\\,\\exp\\!\\left(\\frac{E_F - E_c}{k_B T}\\right), \\quad\np(E_F,T) = N_v(T)\\,\\exp\\!\\left(\\frac{E_v - E_F}{k_B T}\\right),\n$$\nand the ionized dopant concentrations under Fermi-Dirac statistics with degeneracy are\n$$\nN_D^+(E_F,T) = \\frac{N_D}{1 + g_D \\exp\\!\\left(\\frac{E_F - E_D}{k_B T}\\right)}, \\quad\nN_A^-(E_F,T) = \\frac{N_A}{1 + g_A \\exp\\!\\left(\\frac{E_A - E_F}{k_B T}\\right)}.\n$$\n\nYour program must:\n1. Implement a root-finding solver for $f(E_F;T,N_D,N_A)=0$ using a safeguarded Newton-Raphson method with bracketing. Derive and use the analytic derivative $\\mathrm{d}f/\\mathrm{d}E_F$ consistent with the definitions above to accelerate convergence. If a proposed Newton step exits the current bracket or fails to reduce the residual magnitude, fall back to bisection within the bracket.\n2. Adopt numerically safe exponentials to avoid overflow and underflow at extreme temperatures or energy differences.\n3. Use energy bracketing that is physically reasonable, starting with $[E_v - \\Delta, E_c + \\Delta]$ for some finite $\\Delta$ and expand as needed until a sign change in $f(E_F)$ is detected, or a maximum expansion count is reached. If no sign change is detected, report the midpoint solution of the latest bracket using bisection refinement.\n\nTest suite: Solve for $E_F$ for the following parameter sets, each expressed as $(T, N_D, N_A)$ with $T$ in kelvin and $N_D, N_A$ in $\\text{cm}^{-3}$:\n- Case $1$: $(50, 1.0\\times 10^{16}, 0)$ freeze-out regime for donors.\n- Case $2$: $(300, 1.0\\times 10^{16}, 0)$ extrinsic $n$-type regime.\n- Case $3$: $(800, 1.0\\times 10^{10}, 0)$ high-temperature, near-intrinsic regime.\n- Case $4$: $(300, 0, 5.0\\times 10^{16})$ extrinsic $p$-type regime.\n- Case $5$: $(200, 1.0\\times 10^{16}, 8.0\\times 10^{15})$ compensated doping, mid-temperature.\n\nOutput specification: Your program should produce a single line of output containing the computed $E_F$ values for the five cases in the exact order above, as a comma-separated list enclosed in square brackets. Express each $E_F$ in electron-volts rounded to six decimal places (e.g., $[0.512345,0.789012,\\dots]$).\n\nYour solution must be a complete, runnable program that requires no user input, uses the parameters above, and computes and prints the list in the specified format.",
            "solution": "The problem requires the computation of the Fermi level $E_F$ in a doped semiconductor by numerically solving the charge neutrality equation across various temperature and doping regimes. The solution is predicated on a standard physical model of semiconductors and a robust numerical root-finding algorithm.\n\nThe core principle is that of charge neutrality, which dictates that the total positive charge density must equal the total negative charge density within the semiconductor. This is expressed by the equation:\n$$\np + N_D^+ = n + N_A^-\n$$\nwhere $p$ is the hole concentration in the valence band, $n$ is the electron concentration in the conduction band, and $N_D^+$ and $N_A^-$ are the concentrations of ionized donors and acceptors, respectively. To find the Fermi level $E_F$ for a given temperature $T$, donor concentration $N_D$, and acceptor concentration $N_A$, we must find the root of the charge balance function $f(E_F)$:\n$$\nf(E_F; T, N_D, N_A) \\equiv p(E_F,T) + N_D^+(E_F,T) - n(E_F,T) - N_A^-(E_F,T) = 0\n$$\n\nThe constituent concentrations are modeled as follows, based on solid-state physics principles for a non-degenerate semiconductor with parabolic bands:\n\n1.  **Temperature-Dependent Parameters**: The material's band structure and properties vary with temperature. The valence band edge is set as the energy reference, $E_v = 0$. The conduction band edge $E_c$ is determined by the temperature-dependent bandgap $E_g(T)$, given by the Varshni relation:\n    $$\n    E_c(T) = E_g(T) = E_{g0} - \\frac{\\alpha T^2}{T + \\beta}\n    $$\n    The effective densities of states in the conduction and valence bands, $N_c$ and $N_v$, also scale with temperature:\n    $$\n    N_c(T) = N_{c,300}\\left(\\frac{T}{300}\\right)^{3/2}, \\quad N_v(T) = N_{v,300}\\left(\\frac{T}{300}\\right)^{3/2}\n    $$\n    The donor and acceptor energy levels are defined relative to the nearest band edge:\n    $$\n    E_D = E_c(T) - E_{D,\\text{bind}}, \\quad E_A = E_v + E_{A,\\text{bind}}\n    $$\n\n2.  **Carrier Concentrations**: Under the Boltzmann approximation, valid for non-degenerate conditions where the Fermi level is several $k_B T$ away from the band edges, the electron and hole concentrations are:\n    $$\n    n(E_F,T) = N_c(T)\\,\\exp\\!\\left(\\frac{E_F - E_c(T)}{k_B T}\\right)\n    $$\n    $$\n    p(E_F,T) = N_v(T)\\,\\exp\\!\\left(\\frac{E_v - E_F}{k_B T}\\right)\n    $$\n\n3.  **Ionized Dopant Concentrations**: The occupancy of dopant states is governed by Fermi-Dirac statistics. The concentrations of ionized donors and acceptors are given by:\n    $$\n    N_D^+(E_F,T) = N_D \\left(1 - \\frac{1}{1 + \\frac{1}{g_D} \\exp\\!\\left(\\frac{E_D - E_F}{k_B T}\\right)}\\right) = \\frac{N_D}{1 + g_D \\exp\\!\\left(\\frac{E_F - E_D}{k_B T}\\right)}\n    $$\n    $$\n    N_A^-(E_F,T) = N_A \\frac{1}{1 + g_A \\exp\\!\\left(\\frac{E_A - E_F}{k_B T}\\right)}\n    $$\n    where $g_D$ and $g_A$ are the ground-state degeneracy factors for the donor and acceptor levels, respectively.\n\nTo solve $f(E_F) = 0$, we analyze the function's behavior. We can show that $f(E_F)$ is a monotonically decreasing function of $E_F$ by examining its derivative. Let $\\beta_{th} = (k_B T)^{-1}$. The derivative $\\mathrm{d}f/\\mathrm{d}E_F$ is:\n$$\n\\frac{\\mathrm{d}f}{\\mathrm{d}E_F} = \\frac{\\mathrm{d}p}{\\mathrm{d}E_F} + \\frac{\\mathrm{d}N_D^+}{\\mathrm{d}E_F} - \\frac{\\mathrm{d}n}{\\mathrm{d}E_F} - \\frac{\\mathrm{d}N_A^-}{\\mathrm{d}E_F}\n$$\nEach term contributing to the total derivative of $f(E_F)$ is negative:\n-   $\\frac{\\mathrm{d}n}{\\mathrm{d}E_F} = \\beta_{th} n(E_F,T) > 0$\n-   $\\frac{\\mathrm{d}p}{\\mathrm{d}E_F} = -\\beta_{th} p(E_F,T) < 0$\n-   $\\frac{\\mathrm{d}N_D^+}{\\mathrm{d}E_F} = -\\beta_{th} N_D^+ \\left(1 - \\frac{N_D^+}{N_D}\\right) < 0$\n-   $\\frac{\\mathrm{d}N_A^-}{\\mathrm{d}E_F} = \\beta_{th} N_A^- \\left(1 - \\frac{N_A^-}{N_A}\\right) > 0$\n\nThus, the total derivative is:\n$$\n\\frac{\\mathrm{d}f}{\\mathrm{d}E_F} = -\\beta_{th} \\left[ p + n + N_D^+\\left(1-\\frac{N_D^+}{N_D}\\right) + N_A^-\\left(1-\\frac{N_A^-}{N_A}\\right) \\right]\n$$\nSince all concentrations and the term in the square brackets are non-negative, $\\mathrm{d}f/\\mathrm{d}E_F \\le 0$. This strict monotonicity guarantees that a unique root for $E_F$ exists, as $f(E_F) \\to \\infty$ for $E_F \\to -\\infty$ and $f(E_F) \\to -\\infty$ for $E_F \\to \\infty$. The expressions for the derivatives in terms of the concentrations themselves are also numerically advantageous.\n\nThe numerical solution is implemented using a safeguarded Newton-Raphson method, which combines the rapid convergence of the Newton-Raphson method with the guaranteed convergence of the bisection method. The algorithm proceeds as follows:\n\n1.  **Bracketing**: An initial energy range $[E_{low}, E_{high}]$ that brackets the root is established. We start with a conservative range, for instance $[E_v - 1.0, E_c(T) + 1.0]$ eV, and expand it systematically until $f(E_{low})$ and $f(E_{high})$ have opposite signs, which is guaranteed given the function's monotonic nature.\n\n2.  **Iterative Refinement**: Starting from an initial guess (e.g., the midpoint of the bracket), the algorithm iteratively refines the value of $E_F$. In each iteration:\n    a. The function value $f(E_F)$ and its derivative $\\mathrm{d}f/\\mathrm{d}E_F$ are computed.\n    b. A Newton-Raphson step is proposed: $\\Delta E_F = -f(E_F) / (\\mathrm{d}f/\\mathrm{d}E_F)$, leading to a candidate solution $E_{F, \\text{new}} = E_F + \\Delta E_F$.\n    c. **Safeguard Conditions**: The proposed step is accepted only if it satisfies two conditions:\n        i. The new point $E_{F, \\text{new}}$ must lie within the current bracket $[E_{low}, E_{high}]$.\n        ii. The magnitude of the residual at the new point, $|f(E_{F, \\text{new}})|$, must be smaller than the current residual, $|f(E_F)|$.\n    d. **Fallback to Bisection**: If either safeguard condition fails, the algorithm discards the Newton step and instead uses a bisection step. The new candidate for $E_F$ becomes the midpoint of the current bracket, $E_{F, \\text{mid}} = (E_{low} + E_{high})/2$.\n    e. **Bracket Update**: After determining the next iterate for $E_F$, the bracket $[E_{low}, E_{high}]$ is updated by comparing the sign of $f(E_F)$ at the new point with the signs at the bracket boundaries, ensuring the root remains contained.\n\n3.  **Convergence**: The iterative process continues until the width of the bracket $(E_{high} - E_{low})$ falls below a predefined tolerance (e.g., $10^{-9}$ eV), at which point the midpoint of the final bracket is returned as the converged solution for $E_F$.\n\nTo ensure numerical stability, especially at low temperatures where arguments to exponential functions can become large, inputs to `exp()` are clipped to prevent floating-point overflow. The derivative calculation is also implemented using the stable forms derived above.",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Main function to solve for the Fermi level for a predefined test suite.\n    \"\"\"\n    \n    # Constants and Parameters\n    k_B = 8.617333262145e-5  # Boltzmann constant in eV/K\n    E_g0 = 1.17                 # Bandgap at 0K for Si in eV\n    alpha = 4.73e-4             # Varshni parameter in eV/K\n    beta = 636                  # Varshni parameter in K\n    N_c300 = 2.8e19             # Effective DOS in conduction band at 300K (cm^-3)\n    N_v300 = 1.04e19            # Effective DOS in valence band at 300K (cm^-3)\n    E_D_bind = 0.045            # Donor binding energy in eV\n    E_A_bind = 0.045            # Acceptor binding energy in eV\n    g_D = 2.0                   # Donor degeneracy factor\n    g_A = 4.0                   # Acceptor degeneracy factor\n\n    params = {\n        \"k_B\": k_B, \"E_g0\": E_g0, \"alpha\": alpha, \"beta\": beta,\n        \"N_c300\": N_c300, \"N_v300\": N_v300,\n        \"E_D_bind\": E_D_bind, \"E_A_bind\": E_A_bind,\n        \"g_D\": g_D, \"g_A\": g_A\n    }\n\n    test_cases = [\n        (50.0, 1.0e16, 0.0),        # Case 1: Freeze-out\n        (300.0, 1.0e16, 0.0),       # Case 2: Extrinsic n-type\n        (800.0, 1.0e10, 0.0),       # Case 3: Intrinsic\n        (300.0, 0.0, 5.0e16),       # Case 4: Extrinsic p-type\n        (200.0, 1.0e16, 8.0e15)    # Case 5: Compensated\n    ]\n    \n    results = []\n    for T, N_D, N_A in test_cases:\n        ef_result = find_fermi_level(T, N_D, N_A, **params)\n        results.append(ef_result)\n        \n    print(f\"[{','.join(f'{r:.6f}' for r in results)}]\")\n\ndef safe_exp(x):\n    \"\"\"Numerically safe exponential function to prevent overflow.\"\"\"\n    return np.exp(np.clip(x, a_min=None, a_max=700))\n\ndef get_charge_balance_and_deriv(E_F, T, N_D, N_A, params_T, params_base):\n    \"\"\"\n    Calculates the charge balance function f(E_F) and its derivative df/dE_F.\n    f(E_F) = p + N_D^+ - n - N_A^-\n    \"\"\"\n    k_B = params_base[\"k_B\"]\n    g_D = params_base[\"g_D\"]\n    g_A = params_base[\"g_A\"]\n\n    E_c, E_v, N_c, N_v, E_D, E_A = params_T\n\n    # Thermal energy beta\n    beta_th = 1.0 / (k_B * T)\n\n    # Carrier concentrations (Boltzmann approximation)\n    arg_n = beta_th * (E_F - E_c)\n    n = N_c * safe_exp(arg_n)\n    \n    arg_p = beta_th * (E_v - E_F)\n    p = N_v * safe_exp(arg_p)\n\n    # Ionized dopant concentrations (Fermi-Dirac statistics)\n    N_D_plus = 0.0\n    if N_D > 0:\n        arg_d = beta_th * (E_F - E_D)\n        N_D_plus = N_D / (1.0 + g_D * safe_exp(arg_d))\n    \n    N_A_minus = 0.0\n    if N_A > 0:\n        arg_a = beta_th * (E_A - E_F)\n        N_A_minus = N_A / (1.0 + g_A * safe_exp(arg_a))\n    \n    # Charge balance function value\n    f_val = p + N_D_plus - n - N_A_minus\n\n    # Derivative df/dE_F using stable forms\n    d_N_D_plus_dEF = 0.0\n    if N_D > 0:\n        d_N_D_plus_dEF = -beta_th * N_D_plus * (1.0 - N_D_plus / N_D)\n    \n    d_N_A_minus_dEF = 0.0\n    if N_A > 0:\n        d_N_A_minus_dEF = beta_th * N_A_minus * (1.0 - N_A_minus / N_A)\n        \n    d_n_dEF = beta_th * n\n    d_p_dEF = -beta_th * p\n    \n    f_deriv = d_p_dEF + d_N_D_plus_dEF - d_n_dEF - d_N_A_minus_dEF\n    \n    return f_val, f_deriv\n\ndef find_fermi_level(T, N_D, N_A, **params):\n    \"\"\"\n    Solves for the Fermi level E_F using a safeguarded Newton-Raphson method.\n    \"\"\"\n    # Unpack parameters\n    k_B, E_g0, alpha, beta = params[\"k_B\"], params[\"E_g0\"], params[\"alpha\"], params[\"beta\"]\n    N_c300, N_v300 = params[\"N_c300\"], params[\"N_v300\"]\n    E_D_bind, E_A_bind = params[\"E_D_bind\"], params[\"E_A_bind\"]\n\n    # Calculate temperature-dependent parameters\n    E_g = E_g0 - (alpha * T**2) / (T + beta)\n    E_c = E_g\n    E_v = 0.0\n    N_c = N_c300 * (T / 300.0)**1.5\n    N_v = N_v300 * (T / 300.0)**1.5\n    E_D = E_c - E_D_bind\n    E_A = E_v + E_A_bind\n    params_T = (E_c, E_v, N_c, N_v, E_D, E_A)\n\n    # Wrapper for charge balance function for the given T, N_D, N_A\n    def f_and_df(E_F):\n        return get_charge_balance_and_deriv(E_F, T, N_D, N_A, params_T, params)\n\n    # 1. Bracketing\n    E_low = E_v - 1.0  # Start with a reasonable initial bracket\n    E_high = E_c + 1.0\n    max_bracket_expansions = 20\n    \n    f_low, _ = f_and_df(E_low)\n    f_high, _ = f_and_df(E_high)\n\n    for _ in range(max_bracket_expansions):\n        if np.sign(f_low) != np.sign(f_high):\n            break\n        E_low -= 1.0\n        E_high += 1.0\n        f_low, _ = f_and_df(E_low)\n        f_high, _ = f_and_df(E_high)\n    else:\n        # This case should ideally not be reached with a wide enough bracket\n        # because the function is guaranteed to have a root.\n        # It may indicate a numerical issue or extreme parameters.\n        # As a fallback, we can take the midpoint but this is non-ideal.\n        return (E_low + E_high) / 2.0\n    \n    # Ensure f(low) > 0 and f(high)  0\n    if f_low  0:\n        E_low, E_high = E_high, E_low\n\n    # 2. Iterative Solver\n    E_F = (E_low + E_high) / 2.0\n    tol = 1e-9\n    max_iter = 100\n\n    for _ in range(max_iter):\n        if (E_high - E_low)  tol:\n            break\n        \n        f_val, f_deriv = f_and_df(E_F)\n\n        # Safeguarded Newton-Raphson step\n        use_newton = False\n        if abs(f_deriv) > 1e-15: # Avoid division by zero\n            E_F_newton = E_F - f_val / f_deriv\n            if E_low  E_F_newton  E_high:\n                f_newton, _ = f_and_df(E_F_newton)\n                if abs(f_newton)  abs(f_val):\n                    E_F = E_F_newton\n                    use_newton = True\n        \n        if not use_newton: # Fallback to bisection\n            E_F = (E_low + E_high) / 2.0\n\n        # Update bracket\n        f_current, _ = f_and_df(E_F)\n        if f_current > 0:\n            E_low = E_F\n        else:\n            E_high = E_F\n\n    return (E_low + E_high) / 2.0\n    \nif __name__ == \"__main__\":\n    solve()\n\n```"
        }
    ]
}