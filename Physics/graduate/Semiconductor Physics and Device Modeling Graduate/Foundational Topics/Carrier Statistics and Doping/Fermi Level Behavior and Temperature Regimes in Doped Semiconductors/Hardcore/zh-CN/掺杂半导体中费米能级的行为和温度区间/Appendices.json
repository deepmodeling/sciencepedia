{
    "hands_on_practices": [
        {
            "introduction": "理解本征载流子浓度 $n_i$ 是分析任何半导体材料的第一步。本练习将指导你从统计力学和量子力学的基本原理出发，推导 $n_i$ 的表达式。这项实践旨在巩固你对带隙和有效质量如何从根本上决定材料本征特性的理解，这是半导体物理学的基石之一。",
            "id": "3745104",
            "problem": "一个晶体本征半导体通过具有态密度有效质量的抛物线形导带和价带进行建模。根据定义，本征电子浓度 $n$ 是在没有外来掺杂物的情况下，热平衡时占据导带的电子数量，并且等于价带中的空穴浓度 $p$。从费米-狄拉克（FD）分布的占据概率 $f(E)$ 和抛物线能带的三维态密度（DOS）出发，推导本征载流子浓度 $n_i$ 关于带隙 $E_g$、温度 $T$ 以及态密度有效质量 $m_e^*$ 和 $m_h^*$ 的表达式。假设在非简并极限下，费米-狄拉克分布简化为麦克斯韦-玻尔兹曼形式。\n\n使用推导出的表达式来量化在 $T=300\\ \\mathrm{K}$ 时，锗的本征载流子浓度与硅的本征载流子浓度的比较关系。对于锗，使用 $E_g=0.66\\ \\mathrm{eV}$，$m_e^*=0.56\\,m_0$ 和 $m_h^*=0.29\\,m_0$。对于硅，使用 $E_g=1.12\\ \\mathrm{eV}$，$m_e^*=1.08\\,m_0$ 和 $m_h^*=0.60\\,m_0$。此处 $m_0$ 是电子静止质量。取玻尔兹曼常数为 $k_B=8.617333262\\times 10^{-5}\\ \\mathrm{eV/K}$，所有能量以电子伏特表示。\n\n报告单一量 $n_{i,\\mathrm{Ge}}/n_{i,\\mathrm{Si}}$（一个无量纲比率），四舍五入到三位有效数字。不应将其他值报告为最终答案。",
            "solution": "该问题是有效的，因为它科学地基于固态物理学的原理，问题陈述清晰，信息充分且一致，并且表达客观。我现在将进行完整的推导和计算。\n\n任务是首先推导半导体中本征载流子浓度 $n_i$ 的表达式，然后使用该表达式计算在温度 $T=300\\ \\mathrm{K}$ 时，锗（$n_{i,\\mathrm{Ge}}$）与硅（$n_{i,\\mathrm{Si}}$）的本征载流子浓度之比。\n\n首先，我们推导导带中电子浓度 $n$ 和价带中空穴浓度 $p$ 的通用表达式。\n\n导带中的电子浓度由态密度 $g_c(E)$ 和占据概率 $f(E)$ 的乘积在整个导带上（从导带底 $E_c$ 到无穷大）的积分给出。\n$$n = \\int_{E_c}^{\\infty} g_c(E) f(E) dE$$\n对于三维抛物线能带，单位体积的态密度由下式给出：\n$$g_c(E) = \\frac{1}{2\\pi^2}\\left(\\frac{2m_e^*}{\\hbar^2}\\right)^{3/2}\\sqrt{E-E_c} \\quad \\text{for } E \\ge E_c$$\n其中 $m_e^*$ 是电子的态密度有效质量，$\\hbar$ 是约化普朗克常数。占据概率由费米-狄拉克分布给出：\n$$f(E) = \\frac{1}{1 + \\exp\\left(\\frac{E - E_F}{k_B T}\\right)}$$\n其中 $E_F$ 是费米能级，$k_B$ 是玻尔兹曼常数，$T$ 是绝对温度。\n\n问题指定了非简并极限，在此极限下我们假设费米能级位于带隙内，并且距离能带边缘有几个 $k_B T$ 的距离。对于导带中的电子，这意味着 $E-E_F \\gg k_B T$。在此极限下，费米-狄拉克分布可以近似为麦克斯韦-玻尔兹曼分布：\n$$f(E) \\approx \\exp\\left(-\\frac{E - E_F}{k_B T}\\right)$$\n将 $g_c(E)$ 和近似的 $f(E)$ 的表达式代入 $n$ 的积分中：\n$$n = \\int_{E_c}^{\\infty} \\frac{1}{2\\pi^2}\\left(\\frac{2m_e^*}{\\hbar^2}\\right)^{3/2}\\sqrt{E-E_c} \\exp\\left(-\\frac{E - E_F}{k_B T}\\right) dE$$\n我们可以将指数项重写为 $\\exp\\left(-\\frac{E - E_c}{k_B T}\\right) \\exp\\left(-\\frac{E_c - E_F}{k_B T}\\right)$，并将与 $E$ 无关的第二项从积分中提出：\n$$n = \\frac{1}{2\\pi^2}\\left(\\frac{2m_e^*}{\\hbar^2}\\right)^{3/2} \\exp\\left(-\\frac{E_c - E_F}{k_B T}\\right) \\int_{E_c}^{\\infty} \\sqrt{E-E_c} \\exp\\left(-\\frac{E-E_c}{k_B T}\\right) dE$$\n为了求解该积分，我们进行换元。令 $x = \\frac{E-E_c}{k_B T}$。那么 $dE = k_B T dx$，且 $E-E_c=x k_B T$。积分上下限变为 $0$ 到 $\\infty$。\n$$\\int_{0}^{\\infty} \\sqrt{x k_B T} \\exp(-x) (k_B T dx) = (k_B T)^{3/2} \\int_{0}^{\\infty} x^{1/2} e^{-x} dx$$\n该积分是伽马函数 $\\Gamma(3/2)$，其值等于 $\\frac{\\sqrt{\\pi}}{2}$。将此结果代回：\n$$n = \\frac{1}{2\\pi^2}\\left(\\frac{2m_e^*}{\\hbar^2}\\right)^{3/2} (k_B T)^{3/2} \\frac{\\sqrt{\\pi}}{2} \\exp\\left(-\\frac{E_c - E_F}{k_B T}\\right)$$\n这通常写为 $n = N_c \\exp\\left(-\\frac{E_c - E_F}{k_B T}\\right)$，其中 $N_c$ 是导带中的有效态密度：\n$$N_c = \\frac{1}{2\\pi^2}\\left(\\frac{2m_e^*}{\\hbar^2}\\right)^{3/2} \\frac{\\sqrt{\\pi}}{2} (k_B T)^{3/2} = 2\\left(\\frac{2\\pi m_e^* k_B T}{h^2}\\right)^{3/2}$$\n其中我们使用了 $\\hbar = h/(2\\pi)$。\n\n类似的推导也适用于价带中的空穴。空穴浓度 $p$ 由价带中的态密度 $g_v(E)$ 与一个态为空的概率 $1 - f(E)$ 的乘积在从 $-\\infty$ 到价带顶 $E_v$ 的积分给出。\n$$p = \\int_{-\\infty}^{E_v} g_v(E) [1 - f(E)] dE$$\n$$g_v(E) = \\frac{1}{2\\pi^2}\\left(\\frac{2m_h^*}{\\hbar^2}\\right)^{3/2}\\sqrt{E_v-E} \\quad \\text{for } E \\le E_v$$\n在非简并极限下（对于价带中的态，$E_F - E \\gg k_B T$），一个态为空的概率 $1-f(E)$ 是：\n$$1 - f(E) = \\frac{1}{1 + \\exp\\left(-\\frac{E_F - E}{k_B T}\\right)} \\approx \\exp\\left(-\\frac{E_F - E}{k_B T}\\right)$$\n遵循类似的积分过程，我们得到：\n$$p = N_v \\exp\\left(-\\frac{E_F - E_v}{k_B T}\\right)$$\n其中 $N_v$ 是价带中的有效态密度：\n$$N_v = 2\\left(\\frac{2\\pi m_h^* k_B T}{h^2}\\right)^{3/2}$$\n\n对于本征半导体，没有掺杂物，激发到导带的电子数必须等于价带中留下的空穴数。此条件为 $n = p = n_i$，其中 $n_i$ 是本征载流子浓度。\n为了找到一个不依赖于费米能级 $E_F$ 的 $n_i$ 表达式，我们计算乘积 $n \\cdot p$：\n$$n \\cdot p = N_c \\exp\\left(-\\frac{E_c - E_F}{k_B T}\\right) N_v \\exp\\left(-\\frac{E_F - E_v}{k_B T}\\right)$$\n$$n \\cdot p = N_c N_v \\exp\\left(-\\frac{E_c - E_F + E_F - E_v}{k_B T}\\right) = N_c N_v \\exp\\left(-\\frac{E_c - E_v}{k_B T}\\right)$$\n项 $E_c - E_v$ 是带隙能量 $E_g$。在本征半导体中，$n=p=n_i$，因此 $n \\cdot p = n_i^2$。\n$$n_i^2 = N_c N_v \\exp\\left(-\\frac{E_g}{k_B T}\\right)$$\n取平方根得到本征载流子浓度的表达式：\n$$n_i = \\sqrt{N_c N_v} \\exp\\left(-\\frac{E_g}{2 k_B T}\\right)$$\n代入 $N_c$ 和 $N_v$ 的完整表达式：\n$$n_i = \\sqrt{4\\left(\\frac{2\\pi k_B T}{h^2}\\right)^3 (m_e^* m_h^*)^{3/2}} \\exp\\left(-\\frac{E_g}{2 k_B T}\\right)$$\n$$n_i = 2\\left(\\frac{2\\pi k_B T}{h^2}\\right)^{3/2} (m_e^* m_h^*)^{3/4} \\exp\\left(-\\frac{E_g}{2 k_B T}\\right)$$\n这就是所求的本征载流子浓度的通用表达式。\n\n现在，我们使用这个表达式来求比率 $n_{i,\\mathrm{Ge}}/n_{i,\\mathrm{Si}}$。\n$$\\frac{n_{i,\\mathrm{Ge}}}{n_{i,\\mathrm{Si}}} = \\frac{2\\left(\\frac{2\\pi k_B T}{h^2}\\right)^{3/2} (m_{e,\\mathrm{Ge}}^* m_{h,\\mathrm{Ge}}^*)^{3/4} \\exp\\left(-\\frac{E_{g,\\mathrm{Ge}}}{2 k_B T}\\right)}{2\\left(\\frac{2\\pi k_B T}{h^2}\\right)^{3/2} (m_{e,\\mathrm{Si}}^* m_{h,\\mathrm{Si}}^*)^{3/4} \\exp\\left(-\\frac{E_{g,\\mathrm{Si}}}{2 k_B T}\\right)}$$\n涉及 $k_B$、$T$ 和 $h$ 的常数前置因子相互抵消，剩下：\n$$\\frac{n_{i,\\mathrm{Ge}}}{n_{i,\\mathrm{Si}}} = \\left(\\frac{m_{e,\\mathrm{Ge}}^* m_{h,\\mathrm{Ge}}^*}{m_{e,\\mathrm{Si}}^* m_{h,\\mathrm{Si}}^*}\\right)^{3/4} \\exp\\left(\\frac{E_{g,\\mathrm{Si}} - E_{g,\\mathrm{Ge}}}{2 k_B T}\\right)$$\n给定以下值：\n对于锗（Ge）：$E_{g,\\mathrm{Ge}}=0.66\\ \\mathrm{eV}$，$m_{e,\\mathrm{Ge}}^*=0.56\\,m_0$ 和 $m_{h,\\mathrm{Ge}}^*=0.29\\,m_0$。\n对于硅（Si）：$E_{g,\\mathrm{Si}}=1.12\\ \\mathrm{eV}$，$m_{e,\\mathrm{Si}}^*=1.08\\,m_0$ 和 $m_{h,\\mathrm{Si}}^*=0.60\\,m_0$。\n温度 $T=300\\ \\mathrm{K}$ 和玻尔兹曼常数 $k_B=8.617333262\\times 10^{-5}\\ \\mathrm{eV/K}$。\n\n首先，计算热能项 $2k_B T$：\n$$2 k_B T = 2 \\times (8.617333262 \\times 10^{-5}\\ \\mathrm{eV/K}) \\times (300\\ \\mathrm{K}) \\approx 0.051704\\ \\mathrm{eV}$$\n接下来，计算质量因子。电子静止质量 $m_0$ 相互抵消：\n$$\\left(\\frac{m_{e,\\mathrm{Ge}}^* m_{h,\\mathrm{Ge}}^*}{m_{e,\\mathrm{Si}}^* m_{h,\\mathrm{Si}}^*}\\right)^{3/4} = \\left(\\frac{(0.56)(0.29)}{(1.08)(0.60)}\\right)^{3/4} = \\left(\\frac{0.1624}{0.648}\\right)^{3/4} \\approx (0.250617)^{0.75} \\approx 0.35440$$\n接下来，计算指数因子：\n$$\\exp\\left(\\frac{E_{g,\\mathrm{Si}} - E_{g,\\mathrm{Ge}}}{2 k_B T}\\right) = \\exp\\left(\\frac{1.12\\ \\mathrm{eV} - 0.66\\ \\mathrm{eV}}{0.051704\\ \\mathrm{eV}}\\right) = \\exp\\left(\\frac{0.46}{0.051704}\\right) \\approx \\exp(8.8968) \\approx 7308.12$$\n最后，将这两个因子相乘以得到比率：\n$$\\frac{n_{i,\\mathrm{Ge}}}{n_{i,\\mathrm{Si}}} \\approx 0.35440 \\times 7308.12 \\approx 2590.93$$\n将此结果四舍五入到三位有效数字，我们得到 $2590$。",
            "answer": "$$\\boxed{2590}$$"
        },
        {
            "introduction": "在建立了本征半导体的基准之后，下一步是探究掺杂如何改变材料的电学特性。本问题引入了一个更贴近实际的场景：一个同时含有施主和受主的补偿半导体。练习的重点是应用电中性原理来确定费米能级的位置，这是控制半导体器件行为的核心参数。",
            "id": "3745089",
            "problem": "一个单晶硅样品在室温下被浅施主和浅受主均匀掺杂。施主浓度为 $N_{D} = 10^{16}\\ \\mathrm{cm}^{-3}$，受主浓度为 $N_{A} = 5 \\times 10^{15}\\ \\mathrm{cm}^{-3}$。假设如下：\n- 温度为 $T = 300\\ \\mathrm{K}$。\n- 施主和受主是浅能级的，在 $300\\ \\mathrm{K}$ 时完全电离。\n- 载流子布居是非简并的，因此适用麦克斯韦-玻尔兹曼统计。\n- 硅在 $300\\ \\mathrm{K}$ 时的本征载流子浓度为 $n_{i} = 1.00 \\times 10^{10}\\ \\mathrm{cm}^{-3}$。\n- 使用玻尔兹曼常数 $k_{B} = 8.617333262 \\times 10^{-5}\\ \\mathrm{eV/K}$。\n\n从电子和空穴浓度定义为态密度与费米-狄拉克分布乘积的能量积分出发，在所述假设下，推导补偿半导体的质量作用定律和电中性条件。然后，确定在 $T = 300\\ \\mathrm{K}$ 时，费米能级相对于本征能级的位置 $E_{F} - E_{i}$，以及净载流子浓度差 $n - p$。\n\n- 以电子伏特（eV）为单位报告 $E_{F} - E_{i}$，以 $\\mathrm{cm}^{-3}$ 为单位报告 $n - p$。\n- 将两个结果四舍五入至三位有效数字。\n- 你的最终答案必须以单行矩阵的形式给出，包含两个条目，顺序为 $\\big(E_{F} - E_{i},\\ n - p\\big)$，不带单位。",
            "solution": "该问题是有效的，因为它在科学上基于半导体物理学，问题提出得当，数据充分且一致，陈述客观。\n\n解答过程分为四个主要阶段：\n1.  质量作用定律的推导。\n2.  给定样品的电中性条件的推导。\n3.  净载流子浓度差 $n-p$ 的计算。\n4.  费米能级相对于本征能级位置 $E_F - E_i$ 的计算。\n\n**1. 质量作用定律的推导**\n\n导带中的电子浓度 $n$ 和价带中的空穴浓度 $p$ 由态密度与相应占据概率的乘积的积分给出。\n电子浓度为：\n$$n = \\int_{E_c}^{\\infty} g_c(E) f(E) dE$$\n其中 $E_c$ 是导带底的能量，$g_c(E)$ 是导带中的态密度，$f(E)$ 是费米-狄拉克分布。\n空穴浓度为：\n$$p = \\int_{-\\infty}^{E_v} g_v(E) [1-f(E)] dE$$\n其中 $E_v$ 是价带顶的能量，$g_v(E)$ 是价带中的态密度，$1 - f(E)$ 是一个态为空（即被空穴占据）的概率。\n\n问题指出载流子布居是非简并的。这允许我们对费米-狄拉克分布 $f(E) = \\frac{1}{1 + \\exp\\left(\\frac{E-E_F}{k_B T}\\right)}$ 使用麦克斯韦-玻尔兹曼近似，其中 $E_F$ 是费米能级，$k_B$ 是玻尔兹曼常数，$T$ 是绝对温度。\n对于导带中的电子（$E \\ge E_c$），我们假设 $E - E_F \\gg k_B T$，所以：\n$$f(E) \\approx \\exp\\left(-\\frac{E-E_F}{k_B T}\\right)$$\n对于价带中的空穴（$E \\le E_v$），我们假设 $E_F - E \\gg k_B T$，所以一个态为空的概率是：\n$$1 - f(E) = \\frac{1}{1 + \\exp\\left(-\\frac{E-E_F}{k_B T}\\right)} \\approx \\exp\\left(-\\frac{E_F-E}{k_B T}\\right)$$\n将这些近似代入 $n$ 和 $p$ 的积分表达式并求值（这些积分是涉及伽马函数的标准形式），得到：\n$$n = N_c \\exp\\left(-\\frac{E_c-E_F}{k_B T}\\right)$$\n$$p = N_v \\exp\\left(-\\frac{E_F-E_v}{k_B T}\\right)$$\n这里，$N_c$ 和 $N_v$ 分别是导带和价带的有效态密度。对于给定的材料在特定温度下，它们是常数。\n\n电子和空穴浓度的乘积是：\n$$np = \\left( N_c \\exp\\left(-\\frac{E_c-E_F}{k_B T}\\right) \\right) \\left( N_v \\exp\\left(-\\frac{E_F-E_v}{k_B T}\\right) \\right)$$\n$$np = N_c N_v \\exp\\left(-\\frac{E_c-E_F+E_F-E_v}{k_B T}\\right)$$\n费米能级 $E_F$ 被消去，得到：\n$$np = N_c N_v \\exp\\left(-\\frac{E_c-E_v}{k_B T}\\right)$$\n项 $E_c - E_v$ 是禁带宽度能量 $E_g$。因此，乘积 $np$ 在给定温度下是一个常数，与掺杂或费米能级位置无关。\n对于本征（未掺杂）半导体，电中性条件是 $n=p=n_i$，其中 $n_i$ 是本征载流子浓度。因此：\n$$n_i^2 = N_c N_v \\exp\\left(-\\frac{E_g}{k_B T}\\right)$$\n将此与 $np$ 的表达式进行比较，我们得到质量作用定律：\n$$np = n_i^2$$\n\n**2. 电中性条件的推导**\n\n为了使半导体呈电中性，总正电荷密度必须等于总负电荷密度。正电荷的来源是空穴（浓度 $p$）和电离的施主原子（浓度 $N_D^+$）。负电荷的来源是电子（浓度 $n$）和电离的受主原子（浓度 $N_A^-$）。一般的电中性方程是：\n$$p + N_D^+ = n + N_A^-$$\n问题指出，掺杂剂是浅能级的，在 $T=300 \\mathrm{K}$ 时完全电离。这意味着每个施主原子都提供了一个电子，每个受主原子都接受了一个电子。因此，$N_D^+ = N_D$ 且 $N_A^- = N_A$。\n将这些代入一般方程，得到此问题的特定电中性条件：\n$$p + N_D = n + N_A$$\n这可以重新排列以表示净载流子浓度差：\n$$n - p = N_D - N_A$$\n\n**3. 净载流子浓度差 $n-p$ 的计算**\n\n使用推导出的电中性条件和给定的掺杂浓度：\n$N_D = 10^{16}\\ \\mathrm{cm}^{-3}$\n$N_A = 5 \\times 10^{15}\\ \\mathrm{cm}^{-3}$\n$$n - p = 10^{16} - 5 \\times 10^{15} = 1 \\times 10^{16} - 0.5 \\times 10^{16} = 0.5 \\times 10^{16}\\ \\mathrm{cm}^{-3}$$\n$$n - p = 5 \\times 10^{15}\\ \\mathrm{cm}^{-3}$$\n根据要求，我们将此报告为三位有效数字，即 $5.00 \\times 10^{15}\\ \\mathrm{cm}^{-3}$。\n\n**4. 费米能级位置 $E_F - E_i$ 的计算**\n\n电子和空穴浓度也可以用本征载流子浓度 $n_i$ 和本征费米能级 $E_i$ 来表示：\n$$n = n_i \\exp\\left(\\frac{E_F - E_i}{k_B T}\\right)$$\n$$p = n_i \\exp\\left(-\\frac{E_F - E_i}{k_B T}\\right)$$\n注意，这对​​方程固有地满足质量作用定律 $np = n_i^2$。\n我们将这些表达式代入电中性方程 $n - p = N_D - N_A$：\n$$n_i \\exp\\left(\\frac{E_F - E_i}{k_B T}\\right) - n_i \\exp\\left(-\\frac{E_F - E_i}{k_B T}\\right) = N_D - N_A$$\n为了求解 $E_F - E_i$，令 $x = \\exp\\left(\\frac{E_F - E_i}{k_B T}\\right)$ 且 $\\Delta N = N_D - N_A$。方程变为：\n$$n_i \\left(x - \\frac{1}{x}\\right) = \\Delta N$$\n两边乘以 $x$ 并重新排列，得到关于 $x$ 的二次方程：\n$$n_i x^2 - (\\Delta N)x - n_i = 0$$\n使用二次公式 $x = \\frac{-b \\pm \\sqrt{b^2-4ac}}{2a}$：\n$$x = \\frac{\\Delta N \\pm \\sqrt{(-\\Delta N)^2 - 4(n_i)(-n_i)}}{2n_i} = \\frac{\\Delta N \\pm \\sqrt{(\\Delta N)^2 + 4n_i^2}}{2n_i}$$\n由于 $x = \\exp\\left(\\frac{E_F - E_i}{k_B T}\\right)$ 必须是正数，我们取正根：\n$$x = \\frac{\\Delta N + \\sqrt{(\\Delta N)^2 + 4n_i^2}}{2n_i}$$\n现在，我们可以求解 $E_F - E_i$：\n$$\\frac{E_F - E_i}{k_B T} = \\ln(x) = \\ln\\left(\\frac{N_D - N_A + \\sqrt{(N_D - N_A)^2 + 4n_i^2}}{2n_i}\\right)$$\n$$E_F - E_i = k_B T \\ln\\left(\\frac{N_D - N_A + \\sqrt{(N_D - N_A)^2 + 4n_i^2}}{2n_i}\\right)$$\n我们有以下给定值：\n$T = 300\\ \\mathrm{K}$\n$k_B = 8.617333262 \\times 10^{-5}\\ \\mathrm{eV/K}$\n$N_D - N_A = 5 \\times 10^{15}\\ \\mathrm{cm}^{-3}$\n$n_i = 1.00 \\times 10^{10}\\ \\mathrm{cm}^{-3}$\n\n首先，我们计算热能 $k_B T$：\n$$k_B T = (8.617333262 \\times 10^{-5}\\ \\mathrm{eV/K}) \\times (300\\ \\mathrm{K}) \\approx 0.025852\\ \\mathrm{eV}$$\n由于 $N_D - N_A = 5 \\times 10^{15} \\gg n_i = 10^{10}$，平方根下的项 $4n_i^2$ 与 $(N_D - N_A)^2$ 相比可以忽略不计。这允许我们进行一个非常精确的近似：\n$$\\sqrt{(N_D - N_A)^2 + 4n_i^2} \\approx \\sqrt{(N_D - N_A)^2} = N_D - N_A$$\n$E_F - E_i$ 的表达式简化为：\n$$E_F - E_i \\approx k_B T \\ln\\left(\\frac{(N_D - N_A) + (N_D - N_A)}{2n_i}\\right) = k_B T \\ln\\left(\\frac{N_D - N_A}{n_i}\\right)$$\n代入数值：\n$$E_F - E_i \\approx (0.025852\\ \\mathrm{eV}) \\ln\\left(\\frac{5 \\times 10^{15}}{1.00 \\times 10^{10}}\\right)$$\n$$E_F - E_i \\approx (0.025852\\ \\mathrm{eV}) \\ln(5 \\times 10^5)$$\n$$E_F - E_i \\approx (0.025852\\ \\mathrm{eV}) \\times (13.12236)$$\n$$E_F - E_i \\approx 0.339196\\ \\mathrm{eV}$$\n四舍五入到三位有效数字，我们得到 $E_F - E_i = 0.339\\ \\mathrm{eV}$。正号表示费米能级在本征能级之上，这对于 $N_D > N_A$ 的 n 型补偿半导体是符合预期的。\n\n所需的两个值为：\n$E_F - E_i = 0.339\\ \\mathrm{eV}$\n$n - p = 5.00 \\times 10^{15}\\ \\mathrm{cm}^{-3}$",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.339 & 5.00 \\times 10^{15}\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "我们之前所用的解析方法依赖于一些简化假设（例如杂质完全电离），而这些假设并非在所有条件下都成立。这项高级实践将挑战你构建一个数值求解器，通过求解完整的电中性方程，来计算费米能级在所有温度区间（从低温下的“冻析”到高温下的本征状态）的行为。该练习将理论物理与实用的计算器件建模联系起来，是通往高级半导体分析的关键一步。",
            "id": "3745079",
            "problem": "您的任务是构建一个数值求解器，通过强制实现电中性来计算掺杂半导体在冻结区、外禀区和本征区温度范围内的费米能级 $E_F$（以电子伏特为单位）。该求解器必须实现一种带区间划定的安全保护牛顿-拉夫逊方法，并且必须解决潜在的收敛陷阱。输出必须是为指定测试套件计算出的 $E_F$ 值，以电子伏特表示并四舍五入到六位小数，聚合到单个列表中，并按如下所述的格式单行打印。\n\n基本情景：考虑一个具有施主和受主的三维、非简并、抛物线形能带的半导体。对能带载流子使用玻尔兹曼近似，对掺杂剂占据情况使用费米-狄拉克统计。设价带顶为 $E_v = 0$，导带底为 $E_c = E_g(T)$，带隙由 Varshni 关系式给出\n$$\nE_g(T) = E_{g0} - \\frac{\\alpha T^2}{T + \\beta},\n$$\n有效态密度函数为\n$$\nN_c(T) = N_{c,300}\\left(\\frac{T}{300}\\right)^{3/2}, \\quad N_v(T) = N_{v,300}\\left(\\frac{T}{300}\\right)^{3/2}.\n$$\n假设施主和受主能级能量相对于能带边缘由 $E_D = E_c - E_{D,\\text{bind}}$ 和 $E_A = E_v + E_{A,\\text{bind}}$ 给出。使用以下常数和参数：\n- 以电子伏特每开尔文为单位的玻尔兹曼常数：$k_B = 8.617333262145\\times 10^{-5}$，\n- 硅的 Varshni 参数：$E_{g0} = 1.17$，$\\alpha = 4.73\\times 10^{-4}$，$\\beta = 636$，\n- $300$ 开尔文时的有效态密度：$N_{c,300} = 2.8\\times 10^{19}$ $\\text{cm}^{-3}$，$N_{v,300} = 1.04\\times 10^{19}$ $\\text{cm}^{-3}$，\n- 施主和受主束缚能：$E_{D,\\text{bind}} = 0.045$，$E_{A,\\text{bind}} = 0.045$，\n- 掺杂剂简并因子：施主 $g_D = 2$，受主 $g_A = 4$。\n\n电中性条件是\n$$\nf(E_F; T, N_D, N_A) \\equiv p(E_F,T) + N_D^+(E_F,T) - n(E_F,T) - N_A^-(E_F,T) = 0,\n$$\n其中，在玻尔兹曼近似下载流子浓度为\n$$\nn(E_F,T) = N_c(T)\\,\\exp\\!\\left(\\frac{E_F - E_c}{k_B T}\\right), \\quad\np(E_F,T) = N_v(T)\\,\\exp\\!\\left(\\frac{E_v - E_F}{k_B T}\\right),\n$$\n在费米-狄拉克统计和简并情况下，电离掺杂剂浓度为\n$$\nN_D^+(E_F,T) = \\frac{N_D}{1 + g_D \\exp\\!\\left(\\frac{E_F - E_D}{k_B T}\\right)}, \\quad\nN_A^-(E_F,T) = \\frac{N_A}{1 + g_A \\exp\\!\\left(\\frac{E_A - E_F}{k_B T}\\right)}.\n$$\n\n您的程序必须：\n1. 实现一个用于求解 $f(E_F;T,N_D,N_A)=0$ 的求根求解器，使用带区间划定的安全保护牛顿-拉夫逊方法。推导并使用与上述定义一致的解析导数 $\\mathrm{d}f/\\mathrm{d}E_F$ 以加速收敛。如果建议的牛顿步超出当前区间或未能减小残差大小，则回退到在区间内使用二分法。\n2. 采用数值安全的指数函数以避免在极端温度或能量差下出现上溢和下溢。\n3. 使用物理上合理的能量区间划定，从 $[E_v - \\Delta, E_c + \\Delta]$ 开始（对于某个有限的 $\\Delta$），并根据需要进行扩展，直到检测到 $f(E_F)$ 的符号变化，或达到最大扩展次数。如果未检测到符号变化，则使用二分法优化报告最新区间的中点解。\n\n测试套件：求解以下参数集的 $E_F$，每个参数集表示为 $(T, N_D, N_A)$，其中 $T$ 的单位是开尔文，$N_D, N_A$ 的单位是 $\\text{cm}^{-3}$：\n- 情况 1：$(50, 1.0\\times 10^{16}, 0)$ 施主的冻结区。\n- 情况 2：$(300, 1.0\\times 10^{16}, 0)$ 外禀 n 型区。\n- 情况 3：$(800, 1.0\\times 10^{10}, 0)$ 高温近本征区。\n- 情况 4：$(300, 0, 5.0\\times 10^{16})$ 外禀 p 型区。\n- 情况 5：$(200, 1.0\\times 10^{16}, 8.0\\times 10^{15})$ 补偿掺杂，中等温度。\n\n输出规范：您的程序应生成单行输出，其中包含按上述确切顺序排列的五个情况计算出的 $E_F$ 值，形式为用方括号括起来的逗号分隔列表。每个 $E_F$ 以电子伏特表示，并四舍五入到六位小数（例如，$[0.512345,0.789012,\\dots]$）。\n\n您的解决方案必须是一个完整、可运行的程序，无需用户输入，使用上述参数，并按指定格式计算和打印列表。",
            "solution": "该问题要求通过数值求解电中性方程来计算掺杂半导体在不同温度和掺杂区域的费米能级 $E_F$。该解决方案基于半导体的标准物理模型和鲁棒的数值求根算法。\n\n核心原理是电中性，即半导体内的总正电荷密度必须等于总负电荷密度。这由以下方程表示：\n$$\np + N_D^+ = n + N_A^-\n$$\n其中，$p$ 是价带中的空穴浓度，$n$ 是导带中的电子浓度，$N_D^+$ 和 $N_A^-$ 分别是电离施主和电离受主的浓度。为了找到给定温度 $T$、施主浓度 $N_D$ 和受主浓度 $N_A$ 下的费米能级 $E_F$，我们必须找到电荷平衡函数 $f(E_F)$ 的根：\n$$\nf(E_F; T, N_D, N_A) \\equiv p(E_F,T) + N_D^+(E_F,T) - n(E_F,T) - N_A^-(E_F,T) = 0\n$$\n\n基于固态物理学中关于非简并、抛物线形能带半导体的原理，各组成浓度模型如下：\n\n1.  **依赖于温度的参数**：材料的能带结构和性质随温度变化。价带顶被设为能量参考点，$E_v = 0$。导带底 $E_c$ 由依赖于温度的带隙 $E_g(T)$ 决定，由 Varshni 关系式给出：\n    $$\n    E_c(T) = E_g(T) = E_{g0} - \\frac{\\alpha T^2}{T + \\beta}\n    $$\n    导带和价带中的有效态密度 $N_c$ 和 $N_v$ 也随温度变化：\n    $$\n    N_c(T) = N_{c,300}\\left(\\frac{T}{300}\\right)^{3/2}, \\quad N_v(T) = N_{v,300}\\left(\\frac{T}{300}\\right)^{3/2}\n    $$\n    施主和受主能级相对于最近的能带边缘定义：\n    $$\n    E_D = E_c(T) - E_{D,\\text{bind}}, \\quad E_A = E_v + E_{A,\\text{bind}}\n    $$\n\n2.  **载流子浓度**：在玻尔兹曼近似下，对于费米能级距离能带边缘有几个 $k_B T$ 的非简并情况有效，电子和空穴浓度为：\n    $$\n    n(E_F,T) = N_c(T)\\,\\exp\\!\\left(\\frac{E_F - E_c(T)}{k_B T}\\right)\n    $$\n    $$\n    p(E_F,T) = N_v(T)\\,\\exp\\!\\left(\\frac{E_v - E_F}{k_B T}\\right)\n    $$\n\n3.  **电离掺杂剂浓度**：掺杂态的占据情况由费米-狄拉克统计决定。电离施主和受主的浓度由下式给出：\n    $$\n    N_D^+(E_F,T) = N_D \\left(1 - \\frac{1}{1 + \\frac{1}{g_D} \\exp\\!\\left(\\frac{E_D - E_F}{k_B T}\\right)}\\right) = \\frac{N_D}{1 + g_D \\exp\\!\\left(\\frac{E_F - E_D}{k_B T}\\right)}\n    $$\n    $$\n    N_A^-(E_F,T) = N_A \\frac{1}{1 + g_A \\exp\\!\\left(\\frac{E_A - E_F}{k_B T}\\right)}\n    $$\n    其中 $g_D$ 和 $g_A$ 分别是施主和受主能级的基态简并因子。\n\n为了求解 $f(E_F) = 0$，我们分析该函数的行为。通过检查其导数，我们可以证明 $f(E_F)$ 是 $E_F$ 的单调递减函数。令 $\\beta_{th} = (k_B T)^{-1}$。导数 $\\mathrm{d}f/\\mathrm{d}E_F$ 为：\n$$\n\\frac{\\mathrm{d}f}{\\mathrm{d}E_F} = \\frac{\\mathrm{d}p}{\\mathrm{d}E_F} + \\frac{\\mathrm{d}N_D^+}{\\mathrm{d}E_F} - \\frac{\\mathrm{d}n}{\\mathrm{d}E_F} - \\frac{\\mathrm{d}N_A^-}{\\mathrm{d}E_F}\n$$\n可以证明（构成总导数的）每一项都是负的：\n-   $\\frac{\\mathrm{d}n}{\\mathrm{d}E_F} = \\beta_{th} n(E_F,T) > 0$\n-   $\\frac{\\mathrm{d}p}{\\mathrm{d}E_F} = -\\beta_{th} p(E_F,T)  0$\n-   $\\frac{\\mathrm{d}N_D^+}{\\mathrm{d}E_F} = -\\beta_{th} N_D^+ \\left(1 - \\frac{N_D^+}{N_D}\\right)  0$\n-   $\\frac{\\mathrm{d}N_A^-}{\\mathrm{d}E_F} = \\beta_{th} N_A^- \\left(1 - \\frac{N_A^-}{N_A}\\right)  0$\n\n因此，总导数为：\n$$\n\\frac{\\mathrm{d}f}{\\mathrm{d}E_F} = -\\beta_{th} \\left[ p + n + N_D^+\\left(1-\\frac{N_D^+}{N_D}\\right) + N_A^-\\left(1-\\frac{N_A^-}{N_A}\\right) \\right]\n$$\n由于所有浓度和方括号中的项都是非负的，所以 $\\mathrm{d}f/\\mathrm{d}E_F \\le 0$。这种严格的单调性保证了 $E_F$ 存在唯一的根，因为当 $E_F \\to -\\infty$ 时 $f(E_F) \\to \\infty$，当 $E_F \\to \\infty$ 时 $f(E_F) \\to -\\infty$。用浓度本身表示导数的表达式在数值计算上也是有利的。\n\n数值解是使用一种安全保护的牛顿-拉夫逊方法实现的，该方法结合了牛顿-拉夫逊方法的快速收敛性和二分法的保证收敛性。算法流程如下：\n\n1.  **区间划定**：建立一个包含根的初始能量范围 $[E_{low}, E_{high}]$。我们从一个保守的范围开始，例如 $[E_v - 1.0, E_c(T) + 1.0]$ eV，并系统地扩展它，直到 $f(E_{low})$ 和 $f(E_{high})$ 的符号相反，鉴于函数的单调性，这一点是可以保证的。\n\n2.  **迭代优化**：从一个初始猜测值（例如，区间的中点）开始，算法迭代地优化 $E_F$ 的值。在每次迭代中：\n    a. 计算函数值 $f(E_F)$ 及其导数 $\\mathrm{d}f/\\mathrm{d}E_F$。\n    b. 提出一个牛顿-拉夫逊步：$\\Delta E_F = -f(E_F) / (\\mathrm{d}f/\\mathrm{d}E_F)$，得到一个候选解 $E_{F, \\text{new}} = E_F + \\Delta E_F$。\n    c. **安全保护条件**：只有当建议的步长满足两个条件时才被接受：\n        i. 新点 $E_{F, \\text{new}}$ 必须位于当前区间 $[E_{low}, E_{high}]$ 内。\n        ii. 新点的残差绝对值 $|f(E_{F, \\text{new}})|$ 必须小于当前残差的绝对值 $|f(E_F)|$。\n    d. **回退到二分法**：如果任一安全保护条件失败，算法将放弃牛顿步，转而使用二分步。$E_F$ 的新候选值变为当前区间的中点，$E_{F, \\text{mid}} = (E_{low} + E_{high})/2$。\n    e. **区间更新**：在确定 $E_F$ 的下一个迭代值后，通过比较新点处 $f(E_F)$ 的符号与区间边界处的符号来更新区间 $[E_{low}, E_{high}]$，确保根仍然被包含在内。\n\n3.  **收敛**：迭代过程持续进行，直到区间宽度 $(E_{high} - E_{low})$ 小于预定义的容差（例如，$10^{-9}$ eV），此时最终区间的中点将作为 $E_F$ 的收敛解返回。\n\n为确保数值稳定性，特别是在低温下指数函数的参数可能变得很大时，对 `exp()` 的输入进行截断以防止浮点上溢。导数的计算也使用上面推导的稳定形式来实现。",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Main function to solve for the Fermi level for a predefined test suite.\n    \"\"\"\n    \n    # Constants and Parameters\n    k_B = 8.617333262145e-5  # Boltzmann constant in eV/K\n    E_g0 = 1.17                 # Bandgap at 0K for Si in eV\n    alpha = 4.73e-4             # Varshni parameter in eV/K\n    beta = 636                  # Varshni parameter in K\n    N_c300 = 2.8e19             # Effective DOS in conduction band at 300K (cm^-3)\n    N_v300 = 1.04e19            # Effective DOS in valence band at 300K (cm^-3)\n    E_D_bind = 0.045            # Donor binding energy in eV\n    E_A_bind = 0.045            # Acceptor binding energy in eV\n    g_D = 2.0                   # Donor degeneracy factor\n    g_A = 4.0                   # Acceptor degeneracy factor\n\n    params = {\n        \"k_B\": k_B, \"E_g0\": E_g0, \"alpha\": alpha, \"beta\": beta,\n        \"N_c300\": N_c300, \"N_v300\": N_v300,\n        \"E_D_bind\": E_D_bind, \"E_A_bind\": E_A_bind,\n        \"g_D\": g_D, \"g_A\": g_A\n    }\n\n    test_cases = [\n        (50.0, 1.0e16, 0.0),        # Case 1: Freeze-out\n        (300.0, 1.0e16, 0.0),       # Case 2: Extrinsic n-type\n        (800.0, 1.0e10, 0.0),       # Case 3: Intrinsic\n        (300.0, 0.0, 5.0e16),       # Case 4: Extrinsic p-type\n        (200.0, 1.0e16, 8.0e15)    # Case 5: Compensated\n    ]\n    \n    results = []\n    for T, N_D, N_A in test_cases:\n        ef_result = find_fermi_level(T, N_D, N_A, **params)\n        results.append(ef_result)\n        \n    print(f\"[{','.join(f'{r:.6f}' for r in results)}]\")\n\ndef safe_exp(x):\n    \"\"\"Numerically safe exponential function to prevent overflow.\"\"\"\n    return np.exp(np.clip(x, a_min=None, a_max=700))\n\ndef get_charge_balance_and_deriv(E_F, T, N_D, N_A, params_T, params_base):\n    \"\"\"\n    Calculates the charge balance function f(E_F) and its derivative df/dE_F.\n    f(E_F) = p + N_D^+ - n - N_A^-\n    \"\"\"\n    k_B = params_base[\"k_B\"]\n    g_D = params_base[\"g_D\"]\n    g_A = params_base[\"g_A\"]\n\n    E_c, E_v, N_c, N_v, E_D, E_A = params_T\n\n    # Thermal energy beta\n    beta_th = 1.0 / (k_B * T)\n\n    # Carrier concentrations (Boltzmann approximation)\n    arg_n = beta_th * (E_F - E_c)\n    n = N_c * safe_exp(arg_n)\n    \n    arg_p = beta_th * (E_v - E_F)\n    p = N_v * safe_exp(arg_p)\n\n    # Ionized dopant concentrations (Fermi-Dirac statistics)\n    N_D_plus = 0.0\n    if N_D > 0:\n        arg_d = beta_th * (E_F - E_D)\n        N_D_plus = N_D / (1.0 + g_D * safe_exp(arg_d))\n    \n    N_A_minus = 0.0\n    if N_A > 0:\n        arg_a = beta_th * (E_A - E_F)\n        N_A_minus = N_A / (1.0 + g_A * safe_exp(arg_a))\n    \n    # Charge balance function value\n    f_val = p + N_D_plus - n - N_A_minus\n\n    # Derivative df/dE_F using stable forms\n    d_N_D_plus_dEF = 0.0\n    if N_D > 0:\n        d_N_D_plus_dEF = -beta_th * N_D_plus * (1.0 - N_D_plus / N_D)\n    \n    d_N_A_minus_dEF = 0.0\n    if N_A > 0:\n        d_N_A_minus_dEF = beta_th * N_A_minus * (1.0 - N_A_minus / N_A)\n        \n    d_n_dEF = beta_th * n\n    d_p_dEF = -beta_th * p\n    \n    f_deriv = d_p_dEF + d_N_D_plus_dEF - d_n_dEF - d_N_A_minus_dEF\n    \n    return f_val, f_deriv\n\ndef find_fermi_level(T, N_D, N_A, **params):\n    \"\"\"\n    Solves for the Fermi level E_F using a safeguarded Newton-Raphson method.\n    \"\"\"\n    # Unpack parameters\n    k_B, E_g0, alpha, beta = params[\"k_B\"], params[\"E_g0\"], params[\"alpha\"], params[\"beta\"]\n    N_c300, N_v300 = params[\"N_c300\"], params[\"N_v300\"]\n    E_D_bind, E_A_bind = params[\"E_D_bind\"], params[\"E_A_bind\"]\n\n    # Calculate temperature-dependent parameters\n    E_g = E_g0 - (alpha * T**2) / (T + beta)\n    E_c = E_g\n    E_v = 0.0\n    N_c = N_c300 * (T / 300.0)**1.5\n    N_v = N_v300 * (T / 300.0)**1.5\n    E_D = E_c - E_D_bind\n    E_A = E_v + E_A_bind\n    params_T = (E_c, E_v, N_c, N_v, E_D, E_A)\n\n    # Wrapper for charge balance function for the given T, N_D, N_A\n    def f_and_df(E_F):\n        return get_charge_balance_and_deriv(E_F, T, N_D, N_A, params_T, params)\n\n    # 1. Bracketing\n    E_low = E_v - 1.0  # Start with a reasonable initial bracket\n    E_high = E_c + 1.0\n    max_bracket_expansions = 20\n    \n    f_low, _ = f_and_df(E_low)\n    f_high, _ = f_and_df(E_high)\n\n    for _ in range(max_bracket_expansions):\n        if np.sign(f_low) != np.sign(f_high):\n            break\n        E_low -= 1.0\n        E_high += 1.0\n        f_low, _ = f_and_df(E_low)\n        f_high, _ = f_and_df(E_high)\n    else:\n        # This case should ideally not be reached with a wide enough bracket\n        # because the function is guaranteed to have a root.\n        # It may indicate a numerical issue or extreme parameters.\n        # As a fallback, we can take the midpoint but this is non-ideal.\n        return (E_low + E_high) / 2.0\n    \n    # Ensure f(low) > 0 and f(high)  0\n    if f_low  0:\n        E_low, E_high = E_high, E_low\n\n    # 2. Iterative Solver\n    E_F = (E_low + E_high) / 2.0\n    tol = 1e-9\n    max_iter = 100\n\n    for _ in range(max_iter):\n        if (E_high - E_low)  tol:\n            break\n        \n        f_val, f_deriv = f_and_df(E_F)\n\n        # Safeguarded Newton-Raphson step\n        use_newton = False\n        if abs(f_deriv) > 1e-15: # Avoid division by zero\n            E_F_newton = E_F - f_val / f_deriv\n            if E_low  E_F_newton  E_high:\n                f_newton, _ = f_and_df(E_F_newton)\n                if abs(f_newton)  abs(f_val):\n                    E_F = E_F_newton\n                    use_newton = True\n        \n        if not use_newton: # Fallback to bisection\n            E_F = (E_low + E_high) / 2.0\n\n        # Update bracket\n        f_current, _ = f_and_df(E_F)\n        if f_current > 0:\n            E_low = E_F\n        else:\n            E_high = E_F\n\n    return (E_low + E_high) / 2.0\n    \nif __name__ == \"__main__\":\n    solve()\n\n```"
        }
    ]
}