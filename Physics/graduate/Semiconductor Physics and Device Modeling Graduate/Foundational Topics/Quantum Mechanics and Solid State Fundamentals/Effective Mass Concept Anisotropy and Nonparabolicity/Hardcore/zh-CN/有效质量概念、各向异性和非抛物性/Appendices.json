{
    "hands_on_practices": [
        {
            "introduction": "在材料科学和半导体物理中，许多重要的材料本质上是多晶的，由大量取向随机的微小晶粒组成。因此，理解如何从各向异性的微观晶粒特性推导出宏观的、通常是各向同性的材料参数至关重要。这项练习将指导您完成一个基本但功能强大的推导，即通过对所有晶粒取向进行平均，为多晶材料计算一个有效的标量电导率，并由此确定一个等效的标量有效质量 。这个过程不仅是处理无序系统的核心方法，也深刻揭示了微观各向异性如何通过统计平均在宏观尺度上表现为各向同性。",
            "id": "3741357",
            "problem": "一种多晶半导体由多个晶粒组成，其导带底是相同的各向异性椭球，在每个晶粒的主轴坐标系中由 Kane 型非抛物色散关系描述：\n$$E\\left(1+\\alpha E\\right)=\\frac{\\hbar^{2}}{2}\\left(\\frac{k_{x}^{2}}{m_{t}}+\\frac{k_{y}^{2}}{m_{t}}+\\frac{k_{z}^{2}}{m_{l}}\\right),$$\n其中 $E$ 是从能带边缘测量的载流子能量，$\\alpha$ 是非抛物性参数，$\\hbar$ 是约化普朗克常数，$m_{l}$ 和 $m_{t}$ 分别是纵向和横向主有效质量。晶粒取向在所有旋转角度上是均匀随机的。假设输运过程处于低场线性响应区，并对玻尔兹曼输运方程（BTE）采用弛豫时间近似（RTA），其中弛豫时间 $\\tau(E)$ 是一个仅依赖于能量的标量。设 $f_{0}(E)$ 为平衡分布函数。\n\n从半经典输运的第一性原理出发，即电导率张量的线性化 BTE 表达式：\n$$\\sigma_{ij}=e^{2}\\int \\frac{d^{3}k}{(2\\pi)^{3}}\\left(-\\frac{\\partial f_{0}}{\\partial E}\\right)v_{i}(\\mathbf{k})\\,v_{j}(\\mathbf{k})\\,\\tau\\!\\left(E(\\mathbf{k})\\right),$$\n其中 $e$ 是元电荷，$v_{i}(\\mathbf{k})$ 是群速度的笛卡尔分量，请执行以下操作：\n\n- 推导单个晶粒在其主轴坐标系中的电导率张量，用 $m_{l}$、$m_{t}$、$\\alpha$ 以及一个可能包含对 $E$ 的积分的、依赖于能量的标量因子来表示。\n- 对此张量在所有均匀随机的晶粒取向上进行平均，以获得多晶体的宏观电导率张量，并证明该张量是各向同性的。\n- 将平均电导率与一个具有标量有效质量 $m_{s}$ 但能量依赖性相同（即，乘以张量部分的标量能量加权因子相同）的各向同性类 Drude 模型进行比较，从而确定能够精确再现取向平均电导率的标量有效质量 $m_{s}$。\n\n将您的最终答案表示为用 $m_{l}$ 和 $m_{t}$ 表示的 $m_{s}$ 的单个简化符号表达式。无需进行数值计算，最终表达式中也不应报告单位。",
            "solution": "用户提供了一个半导体输运理论问题，要求为一种具有各向异性、非抛物线性能带的多晶材料推导等效标量质量。\n\n### 步骤 1：问题验证\n\n首先对问题进行严格验证。\n\n#### 从问题陈述中提取的已知条件：\n-   **色散关系：** 对于单个晶粒，在其主轴坐标系中，能量 $E$ 与波矢 $\\mathbf{k}=(k_x, k_y, k_z)$ 通过 Kane 型非抛物线模型相关联：\n    $$E\\left(1+\\alpha E\\right)=\\frac{\\hbar^{2}}{2}\\left(\\frac{k_{x}^{2}}{m_{t}}+\\frac{k_{y}^{2}}{m_{t}}+\\frac{k_{z}^{2}}{m_{l}}\\right)$$\n    其中 $\\alpha$ 是非抛物性参数，$m_l$ 是纵向有效质量，$m_t$ 是横向有效质量。\n-   **系统：** 具有均匀随机晶粒取向的多晶体。\n-   **输运模型：** 由玻尔兹曼输运方程（BTE）的弛豫时间近似（RTA）描述的低场线性响应。\n-   **散射：** 弛豫时间 $\\tau$ 是一个仅与能量相关的标量函数 $\\tau(E)$。\n-   **初始公式：** 电导率张量 $\\sigma_{ij}$ 由下式给出：\n    $$\\sigma_{ij}=e^{2}\\int \\frac{d^{3}k}{(2\\pi)^{3}}\\left(-\\frac{\\partial f_{0}}{\\partial E}\\right)v_{i}(\\mathbf{k})\\,v_{j}(\\mathbf{k})\\,\\tau\\!\\left(E(\\mathbf{k})\\right)$$\n    其中 $v_i(\\mathbf{k})$ 是群速度的分量，$f_0(E)$ 是平衡分布函数。\n\n#### 对照标准进行验证：\n-   **科学依据：** 该问题牢固地植根于固态物理和半导体物理的既定原理。各向异性、非抛物线性能带是许多常见半导体（如 Si、Ge）电子结构的标准特征。Kane 模型是对非抛物性的公认描述。RTA 下的 BTE 是输运现象的标准半经典框架。对多晶材料的平均程序也是一种标准技术。\n-   **适定性：** 该问题是适定的。它提供了所有必要的信息（以符号形式），并明确定义了目标：推导单晶粒电导率，对其进行平均，然后通过与各向同性模型比较来确定等效标量质量。预期存在唯一解。\n-   **客观性：** 问题陈述使用精确、客观和标准的科学语言编写。它没有歧义、主观性和偏见。\n\n#### 结论：\n经判定，该问题是有效的，因为它在科学上是合理的、适定的、客观的和完整的。它代表了高等半导体物理学中一个标准的、非平凡的问题。\n\n### 步骤 2：求解\n\n#### 第 1 部分：单个晶粒的电导率张量\n\n我们首先计算群速度 $\\mathbf{v}(\\mathbf{k}) = \\frac{1}{\\hbar}\\nabla_{\\mathbf{k}}E(\\mathbf{k})$。我们将给定的色散关系对分量 $k_i$ 求导：\n$$\\frac{d}{dk_i}\\left[E(1+\\alpha E)\\right] = \\frac{d}{dk_i}\\left[\\frac{\\hbar^{2}}{2}\\left(\\frac{k_{x}^{2}}{m_{t}}+\\frac{k_{y}^{2}}{m_{t}}+\\frac{k_{z}^{2}}{m_{l}}\\right)\\right]$$\n对左侧使用链式法则：\n$$(1+2\\alpha E)\\frac{\\partial E}{\\partial k_i} = \\frac{\\hbar^2 k_i}{m_i}$$\n其中 $m_i$ 表示在主轴坐标系中沿 $i$ 轴的有效质量（$m_x = m_y = m_t$, $m_z = m_l$）。\n群速度的第 $i$ 个分量是 $v_i = \\frac{1}{\\hbar}\\frac{\\partial E}{\\partial k_i}$：\n$$v_i(\\mathbf{k}) = \\frac{1}{\\hbar(1+2\\alpha E)}\\frac{\\hbar^2 k_i}{m_i} = \\frac{\\hbar k_i}{m_i (1+2\\alpha E)}$$\n现在，我们将此代入电导率张量 $\\sigma'_{ij}$ 的公式中，其中上标 ' 表示单晶粒主轴坐标系。\n$$\\sigma'_{ij} = e^{2}\\int \\frac{d^{3}k}{(2\\pi)^{3}}\\left(-\\frac{\\partial f_{0}}{\\partial E}\\right) \\tau(E) v_i v_j$$\n非对角分量（$i \\neq j$）为零。例如，$\\sigma'_{xy}$ 的被积函数与 $k_x k_y$ 成正比。由于能量 $E(\\mathbf{k})$ 是 $k_x$ 和 $k_y$ 的偶函数，等能面关于 $k_x=0$ 和 $k_y=0$ 平面对称。因此，任何在 $k_x$ 或 $k_y$ 上为奇函数的函数在整个 k 空间上的积分都为零。因此，当 $i \\neq j$ 时，$\\sigma'_{ij} = 0$。\n\n单个晶粒的电导率张量是对角的：$\\sigma' = \\text{diag}(\\sigma'_{xx}, \\sigma'_{yy}, \\sigma'_{zz})$。\n对角分量为：\n$$\\sigma'_{ii} = e^{2}\\int \\frac{d^{3}k}{(2\\pi)^{3}}\\left(-\\frac{\\partial f_{0}}{\\partial E}\\right) \\tau(E) v_i^2(\\mathbf{k})$$\n根据半经典输运系数的结构，椭球能谷的电导率张量可以表示为一个标量输运系数乘以逆质量张量。问题中的措辞“乘以张量部分的标量能量加权因子相同”强烈暗示了这种因子分解。因此我们可以写出：\n$$\\sigma' = S \\cdot \\mathbf{M}^{-1} = S \\cdot \\begin{pmatrix} 1/m_t  0  0 \\\\ 0  1/m_t  0 \\\\ 0  0  1/m_l \\end{pmatrix}$$\n其中 $S$ 是一个标量因子，它包含了电荷、散射物理以及对能量分布的平均。它由下式给出：\n$$S = n_1 e^2 \\langle\\tau\\rangle_{eff}$$\n其中 $n_1$ 是能谷中的载流子浓度，$\\langle\\tau\\rangle_{eff}$ 是一个等效平均弛豫时间，它依赖于 $\\alpha$、$\\tau(E)$ 和 $f_0(E)$，但不依赖于质量分量 $m_l, m_t$。这是问题陈述所提示的关键洞见。$S$ 的详细计算是不必要的，因为它最终会被消去。\n\n因此，单晶粒电导率张量的分量为：\n$$\\sigma'_{xx} = \\sigma'_{yy} = \\frac{S}{m_t}$$\n$$\\sigma'_{zz} = \\frac{S}{m_l}$$\n\n#### 第 2 部分：多晶体的平均电导率张量\n\n宏观电导率张量 $\\langle\\sigma\\rangle$ 是单晶粒张量 $\\sigma'$ 在所有可能的晶粒取向上的平均。一个由旋转矩阵 $R$ 定向的晶粒，其在实验室坐标系中的电导率张量由 $\\sigma = R\\sigma'R^T$ 给出。我们必须对所有的 $R$ 进行平均：\n$$\\langle\\sigma\\rangle_{ij} = \\langle (R\\sigma'R^T)_{ij} \\rangle = \\left\\langle \\sum_{k,l} R_{ik} \\sigma'_{kl} R_{jl} \\right\\rangle$$\n由于 $\\sigma'$ 是对角的，$\\sigma'_{kl} = \\sigma'_{kk}\\delta_{kl}$。\n$$\\langle\\sigma\\rangle_{ij} = \\sum_{k} \\sigma'_{kk} \\langle R_{ik} R_{jk} \\rangle$$\n对于均匀（各向同性）的取向分布，旋转矩阵分量乘积的平均值由 $\\langle R_{ik} R_{jk} \\rangle = \\frac{1}{3}\\delta_{ij}$ 给出。\n$$\\langle\\sigma\\rangle_{ij} = \\sum_{k} \\sigma'_{kk} \\left(\\frac{1}{3}\\delta_{ij}\\right) = \\frac{1}{3}\\delta_{ij} \\sum_{k} \\sigma'_{kk} = \\frac{1}{3}\\delta_{ij} \\text{Tr}(\\sigma')$$\n这表明平均电导率张量是各向同性的，$\\langle\\sigma\\rangle = \\sigma_{poly} \\mathbf{I}$，其中标量电导率 $\\sigma_{poly}$ 由下式给出：\n$$\\sigma_{poly} = \\frac{1}{3}\\text{Tr}(\\sigma') = \\frac{1}{3}(\\sigma'_{xx} + \\sigma'_{yy} + \\sigma'_{zz})$$\n代入各分量的表达式：\n$$\\sigma_{poly} = \\frac{1}{3}\\left(\\frac{S}{m_t} + \\frac{S}{m_t} + \\frac{S}{m_l}\\right) = \\frac{S}{3}\\left(\\frac{2}{m_t} + \\frac{1}{m_l}\\right)$$\n\n#### 第 3 部分：标量有效质量 $m_s$ 的确定\n\n问题要求将此结果与一个各向同性类 Drude 模型进行比较。该模型将具有一个各向同性、非抛物线性的能带结构，其标量质量为 $m_s$：\n$$E(1+\\alpha E) = \\frac{\\hbar^2 k^2}{2m_s}$$\n其电导率 $\\sigma_s$ 将是各向同性的。遵循与之前相同的因子分解，其电导率将为：\n$$\\sigma_s = \\frac{S}{m_s}$$\n问题指明这个参考模型具有“相同的能量依赖性”，这证明了使用相同的标量因子 $S$ 是合理的。\n\n为了找到能精确再现取向平均电导率的标量有效质量 $m_s$，我们令 $\\sigma_{poly} = \\sigma_s$：\n$$\\frac{S}{3}\\left(\\frac{2}{m_t} + \\frac{1}{m_l}\\right) = \\frac{S}{m_s}$$\n标量因子 $S$ 从两侧消去，这表明只要 $\\tau$ 是一个标量，$m_s$ 的结果就与非抛物性、具体的散射机制以及载流子分布无关。\n$$\\frac{1}{m_s} = \\frac{1}{3}\\left(\\frac{2}{m_t} + \\frac{1}{m_l}\\right)$$\n求解 $m_s$：\n$$m_s = \\left[\\frac{1}{3}\\left(\\frac{2}{m_t} + \\frac{1}{m_l}\\right)\\right]^{-1} = 3\\left(\\frac{2m_l + m_t}{m_t m_l}\\right)^{-1}$$\n$$m_s = \\frac{3 m_t m_l}{2m_l + m_t}$$\n这就是多晶体的标量电导有效质量的表达式。",
            "answer": "$$\\boxed{\\frac{3 m_l m_t}{2m_l + m_t}}$$"
        },
        {
            "introduction": "最后的这项实践将带您从解析推导走向计算建模，这反映了现代半导体物理研究的趋势。您将把前面学到的各向异性、非抛物线性和应力引起的能谷分裂等概念，综合应用于一个前沿的器件模型——应变硅MOSFET中。这项练习要求您从第一性原理出发，构建一个计算程序来预测机械应变如何改变器件的关键性能指标，如注入速度和量子电容 。这不仅能巩固您的理论知识，还能让您掌握将复杂物理原理转化为具体、可量化预测的实用技能，这在器件设计和技术优化中至关重要。",
            "id": "3741320",
            "problem": "考虑一个具有高介电常数 (high-$\\kappa$) 栅极绝缘层和应变工程硅沟道的金属-氧化物-半导体场效应晶体管 (MOSFET)，其晶体学方向与输运轴对齐。导带由具有各向异性有效质量和应变引起的能谷能量分裂的椭球形能谷组成。目标是模拟由应变引起的有效质量各向异性和能谷分裂所导致的注入速度和量子电容的变化，其中包括导带的非抛物线性。\n\n从以下基本原理开始：\n\n-   适用于非简并载流子的 Maxwell–Boltzmann 分布，其中速度分布可因子分解，且从一个平面一侧的注入通量可以表示为 $v_x  0$ 范围内半程分布的矩。\n\n-   在各向异性和非抛物线性存在的情况下，二维态密度由 Kane 型非抛物线性的各向异性色散关系定义：对于能谷 $i$，能量满足 $E \\left(1 + \\alpha_i E \\right) = \\frac{\\hbar^2}{2} \\left(\\frac{k_x^2}{m_{x,i}} + \\frac{k_y^2}{m_{y,i}}\\right)$，其中 $m_{x,i}$ 和 $m_{y,i}$ 分别是沿输运方向和宽度方向的平面内有效质量，$\\alpha_i$ 是非抛物线性参数。\n\n对于由索引 $i$ 标识的一组能谷，在给定的温度 $T$ 和准费米能级偏移量 $\\eta = E_F - E_{c,\\min}$ 下，你必须计算以下量：\n\n1.  根据半空间 Maxwell–Boltzmann 分布和各向异性质量张量推导出的沿输运方向的按能谷分辨的注入速度 $v_{\\text{inj},i}$。\n\n2.  在非简并极限下，使用各向异性 Kane 色散的二维态密度计算反型层中按能谷分辨的面密度 $n_i$，并考虑相对于最低导带能谷的能谷能量偏移 $\\Delta_i$。\n\n3.  总注入速度 $v_{\\text{inj,tot}}$，作为跨能谷的 $v_{\\text{inj},i}$ 的反型电荷加权平均值。\n\n4.  单位面积的总量子电容 $C_{q,\\text{tot}}$，其值为 $q^2$ 乘以总面密度对准费米能级的导数。\n\n将常数定义为：基本电荷 $q$、玻尔兹曼常数 $k_B$、电子静止质量 $m_0$ 和约化普朗克常数 $\\hbar$。假设自旋简并度 $g_s = 2$。使用非简并极限（Maxwell–Boltzmann 统计）。\n\n对于每个测试用例，你将获得以下信息：\n\n-   温度 $T$（单位：开尔文）。\n\n-   相对于最低能谷边缘的准费米能级偏移量 $\\eta$（单位：电子伏特）。\n\n-   未应变能谷集，其平面内有效质量 $(m_{x,i}^{(0)}, m_{y,i}^{(0)})$ 以 $m_0$ 的倍数表示。\n\n-   应变能谷集，其平面内有效质量 $(m_{x,i}^{(s)}, m_{y,i}^{(s)})$ 以 $m_0$ 的倍数表示。\n\n-   未应变的非抛物线性参数 $\\alpha_i^{(0)}$（单位：逆电子伏特）。\n\n-   应变的非抛物线性参数 $\\alpha_i^{(s)}$（单位：逆电子伏特）。\n\n-   应变能谷的能量偏移 $\\Delta_i^{(s)}$（单位：电子伏特），相对于最低应变能谷；未应变偏移量均为零。\n\n仅使用第一性原理，按如下方式进行计算：\n\n-   根据沿 $v_x0$ 的半程 Maxwell–Boltzmann 通量积分，结合输运质量 $m_{x,i}$，表示 $v_{\\text{inj},i}$。\n\n-   对于各向异性 Kane 色散，用 $m_{x,i}$、$m_{y,i}$ 和非抛物线性 $\\alpha_i$ 表示每个能谷的二维态密度 $D_{2\\text{D},i}(E)$。\n\n-   对于能谷 $i$，通过将 $D_{2\\text{D},i}(E)$ 乘以 Maxwell–Boltzmann 因子，并对从能谷边缘测量的能量进行积分，来计算面密度 $n_i$，计算中包括能谷能量偏移。\n\n-   将总注入速度 $v_{\\text{inj,tot}}$ 计算为加权平均值 $\\sum_i n_i v_{\\text{inj},i} \\Big/ \\sum_i n_i$。\n\n-   计算单位面积的总量子电容 $C_{q,\\text{tot}} = q^2 \\frac{\\partial}{\\partial E_F} \\left( \\sum_i n_i \\right)$。\n\n以比率形式报告由应变引起的变化：\n- $\\delta v = \\frac{v_{\\text{inj,tot}}^{(s)}}{v_{\\text{inj,tot}}^{(0)}}$，\n- $\\delta C_q = \\frac{C_{q,\\text{tot}}^{(s)}}{C_{q,\\text{tot}}^{(0)}}$。\n\n所有以电子伏特提供的能量必须在计算中转换为焦耳。所有以 $m_0$ 倍数提供的有效质量必须转换为千克。所有以逆电子伏特提供的非抛物线性参数必须转换为逆焦耳。\n\n你的程序必须从第一性原理实现以上计算，并为每个测试用例生成最终比率，形式为两个浮点数。将最终输出表示为四舍五入到六位小数的无量纲数。\n\n测试套件：\n\n-   案例 1（一般情况，沿输运方向的拉伸应变）：\n    -   $T = 300$。\n    -   $\\eta = 0.15$。\n    -   未应变能谷（6 个能谷，索引 0 到 5），以 $(m_{x,i}^{(0)}, m_{y,i}^{(0)})/m_0$ 形式给出：\n        -   $i = 0,1$（与输运方向对齐的能谷）：$(0.916, 0.190)$。\n        -   $i = 2,3$（平面内正交，沿宽度方向为纵向的能谷）：$(0.190, 0.916)$。\n        -   $i = 4,5$（沿限制方向为纵向，平面内为横向的能谷）：$(0.190, 0.190)$。\n    -   应变能谷 $(m_{x,i}^{(s)}, m_{y,i}^{(s)})/m_0$：\n        -   $i = 0,1$：$(0.806, 0.190)$。\n        -   $i = 2,3$：$(0.200, 0.843)$。\n        -   $i = 4,5$：$(0.190, 0.190)$。\n    -   所有能谷的未应变非抛物线性 $\\alpha_i^{(0)}$：$0.5$。\n    -   应变非抛物线性 $\\alpha_i^{(s)}$：\n        -   $i = 0,1$：$0.45$。\n        -   $i = 2,3$：$0.525$。\n        -   $i = 4,5$：$0.525$。\n    -   应变能谷能量偏移 $\\Delta_i^{(s)}$（单位：电子伏特）：\n        -   $i = 0,1$：$0.0$。\n        -   $i = 2,3$：$0.05$。\n        -   $i = 4,5$：$0.05$。\n\n-   案例 2（无应变基线检查）：\n    -   $T = 300$。\n    -   $\\eta = 0.15$。\n    -   未应变能谷同案例 1。\n    -   应变能谷与未应变能谷相同。\n    -   所有能谷的未应变和应变 $\\alpha_i$ 均为 $0.5$。\n    -   应变 $\\Delta_i^{(s)}$ 均为 $0.0$。\n\n-   案例 3（强应变和显著的能谷分裂）：\n    -   $T = 300$。\n    -   $\\eta = 0.10$。\n    -   未应变能谷同案例 1。\n    -   应变能谷 $(m_{x,i}^{(s)}, m_{y,i}^{(s)})/m_0$：\n        -   $i = 0,1$：$(0.733, 0.190)$。\n        -   $i = 2,3$：$(0.209, 0.806)$。\n        -   $i = 4,5$：$(0.190, 0.190)$。\n    -   所有能谷的未应变非抛物线性 $\\alpha_i^{(0)}$：$0.6$。\n    -   应变非抛物线性 $\\alpha_i^{(s)}$：\n        -   $i = 0,1$：$0.48$。\n        -   $i = 2,3$：$0.69$。\n        -   $i = 4,5$：$0.72$。\n    -   应变能谷能量偏移 $\\Delta_i^{(s)}$：\n        -   $i = 0,1$：$0.0$。\n        -   $i = 2,3$：$0.15$。\n        -   $i = 4,5$：$0.20$。\n\n最终输出格式：\n\n你的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表，列表中的每个元素对应一个测试用例，并且本身是一个双元素列表 $[\\delta v, \\delta C_q]$。例如，输出应如下所示：$[[\\delta v_1,\\delta C_{q,1}],[\\delta v_2,\\delta C_{q,2}],[\\delta v_3,\\delta C_{q,3}]]$。每个浮点数必须四舍五入到六位小数。不应打印任何其他文本。",
            "solution": "问题陈述经过严格审查，被确定是有效的。它在半导体物理学的既定原理上具有科学依据，问题设定良好，数据充分且一致，并以客观、正式的语言表达。该问题要求应用统计力学和量子力学来模拟现代半导体器件中的载流子统计和输运，这是一项重要且有意义的任务。\n\n解决方案是根据问题陈述的要求从第一性原理推导出来的。\n\n### 1. 理论框架\n\n分析的关键在于通过对由能量-动量色散关系定义的微观态进行积分，并由适当的统计分布加权，来计算关键的宏观属性——载流子密度和注入速度。\n\n**1.1. 常数和参数**\n\n使用的基本物理常数是基本电荷 $q$、玻尔兹曼常数 $k_B$、电子静止质量 $m_0$ 和约化普朗克常数 $\\hbar$。所有计算均以国际单位制 (SI) 进行。以电子伏特 (eV) 或 $m_0$ 的倍数提供的输入参数会相应转换：\n-   能量 ($E_{\\text{J}}$) = 能量 ($E_{\\text{eV}}$) $\\times q$\n-   质量 ($m_{\\text{kg}}$) = 质量 ($m/m_0$) $\\times m_0$\n-   非抛物线性 ($\\alpha_{\\text{1/J}}$) = 非抛物线性 ($\\alpha_{\\text{1/eV}}$) / $q$\n\n**1.2. 按能谷分辨的注入速度 ($v_{\\text{inj},i}$)**\n\n注入速度表示载流子沿输运方向（假设为 $x$ 方向）移动的平均速度。对于遵循 Maxwell-Boltzmann 分布的非简并电子气，速度分布为 $f(\\mathbf{v}) \\propto \\exp(-E_k / (k_B T))$，其中 $E_k = \\frac{1}{2}m_{x,i}v_x^2 + \\frac{1}{2}m_{y,i}v_y^2$。能谷 $i$ 沿 $x$ 方向的注入速度是动量通量与载流子密度的比值，在半空间 $v_x  0$ 上积分得到：\n$$\nv_{\\text{inj},i} = \\frac{\\int_0^\\infty dv_x \\int_{-\\infty}^\\infty dv_y \\, v_x \\exp\\left(-\\frac{m_{x,i}v_x^2 + m_{y,i}v_y^2}{2k_B T}\\right)}{\\int_0^\\infty dv_x \\int_{-\\infty}^\\infty dv_y \\, \\exp\\left(-\\frac{m_{x,i}v_x^2 + m_{y,i}v_y^2}{2k_B T}\\right)}\n$$\n在分子和分母中对 $v_y$ 的积分是相同的，因此可以消去。表达式简化为一维问题：\n$$\nv_{\\text{inj},i} = \\frac{\\int_0^\\infty v_x \\exp\\left(-\\frac{m_{x,i}v_x^2}{2k_B T}\\right) dv_x}{\\int_0^\\infty \\exp\\left(-\\frac{m_{x,i}v_x^2}{2k_B T}\\right) dv_x}\n$$\n计算这些标准积分得到：\n-   分子：$\\left[-\\frac{k_B T}{m_{x,i}} \\exp\\left(-\\frac{m_{x,i}v_x^2}{2k_B T}\\right)\\right]_0^\\infty = \\frac{k_B T}{m_{x,i}}$\n-   分母：$\\frac{1}{2}\\sqrt{\\frac{2\\pi k_B T}{m_{x,i}}}$\n这导致了单侧热速度的著名表达式：\n$$\nv_{\\text{inj},i} = \\sqrt{\\frac{2 k_B T}{\\pi m_{x,i}}}\n$$\n此速度与载流子密度无关，仅取决于温度 $T$ 和沿输运方向的有效质量 $m_{x,i}$。\n\n**1.3. 二维态密度和面密度 ($n_i$)**\n\n能谷 $i$ 的各向异性、非抛物线性色散关系由 $E(1+\\alpha_i E) = \\frac{\\hbar^2}{2}(\\frac{k_x^2}{m_{x,i}} + \\frac{k_y^2}{m_{y,i}})$ 给出，其中 $E$ 是相对于能谷最低点的能量。在 $k$ 空间中，椭圆形等能面轮廓内的态数（包括自旋简并度 $g_s=2$）为：\n$$\nN_i(E) = g_s \\frac{\\text{Area}(E)}{(2\\pi)^2} = g_s \\frac{1}{4\\pi^2} \\left( \\pi \\sqrt{m_{x,i}m_{y,i}} \\frac{2 E(1+\\alpha_i E)}{\\hbar^2} \\right) = \\frac{g_s \\sqrt{m_{x,i}m_{y,i}}}{2\\pi\\hbar^2} E(1+\\alpha_i E)\n$$\n单位面积的二维态密度 $D_{2\\text{D},i}(E)$ 是 $N_i(E)$ 对能量的导数：\n$$\nD_{2\\text{D},i}(E) = \\frac{dN_i(E)}{dE} = \\frac{g_s \\sqrt{m_{x,i}m_{y,i}}}{2\\pi\\hbar^2} (1 + 2\\alpha_i E) = \\frac{g_s m_{d,i}}{2\\pi\\hbar^2} (1 + 2\\alpha_i E)\n$$\n其中 $m_{d,i} = \\sqrt{m_{x,i}m_{y,i}}$ 是二维能谷的态密度有效质量。\n\n对于能谷 $i$，其最低点能量为 $\\Delta_i$（相对于最低导带边缘），其面载流子密度 $n_i$ 通过将态密度乘以 Maxwell-Boltzmann 占据概率 $f(E) = \\exp(-(E-E_F)/(k_B T))$ 进行积分得到：\n$$\nn_i = \\int_0^\\infty D_{2\\text{D},i}(E') \\exp\\left(-\\frac{(E'+\\Delta_i)-E_F}{k_B T}\\right) dE'\n$$\n在这里，$E'$ 是从能谷最低点 $\\Delta_i$ 测量的动能，而 $E_F = \\eta$ 是费米能级，两者都相对于总的最低导带能量。\n$$\nn_i = \\frac{g_s m_{d,i}}{2\\pi\\hbar^2} \\exp\\left(\\frac{E_F - \\Delta_i}{k_B T}\\right) \\int_0^\\infty (1 + 2\\alpha_i E') \\exp\\left(-\\frac{E'}{k_B T}\\right) dE'\n$$\n该积分计算结果为 $k_B T + 2\\alpha_i (k_B T)^2 = k_B T(1+2\\alpha_i k_B T)$。因此，面密度为：\n$$\nn_i = \\frac{g_s m_{d,i}}{2\\pi\\hbar^2} k_B T (1+2\\alpha_i k_B T) \\exp\\left(\\frac{\\eta - \\Delta_i}{k_B T}\\right)\n$$\n\n**1.4. 总注入速度 ($v_{\\text{inj,tot}}$)**\n\n总注入速度是各能谷注入速度的载流子密度加权平均值：\n$$\nv_{\\text{inj,tot}} = \\frac{\\sum_i n_i v_{\\text{inj},i}}{\\sum_i n_i} = \\frac{\\sum_i n_i v_{\\text{inj},i}}{n_{\\text{tot}}}\n$$\n求和遍及所有六个能谷（$i = 0, \\dots, 5$）。\n\n**1.5. 总量子电容 ($C_{q,\\text{tot}}$)**\n\n单位面积的量子电容定义为 $C_{q,\\text{tot}} = q^2 \\frac{\\partial n_{\\text{tot}}}{\\partial E_F}$，其中 $n_{\\text{tot}} = \\sum_i n_i$。我们对 $n_i$ 的表达式关于 $E_F$ 求导：\n$$\n\\frac{\\partial n_i}{\\partial E_F} = \\frac{\\partial}{\\partial E_F} \\left[ C_i \\exp\\left(\\frac{E_F - \\Delta_i}{k_B T}\\right) \\right] = C_i \\exp\\left(\\frac{E_F - \\Delta_i}{k_B T}\\right) \\frac{1}{k_B T} = \\frac{n_i}{k_B T}\n$$\n其中 $C_i$ 包含了所有不依赖于 $E_F$ 的项。对所有能谷求和：\n$$\n\\frac{\\partial n_{\\text{tot}}}{\\partial E_F} = \\sum_i \\frac{\\partial n_i}{\\partial E_F} = \\sum_i \\frac{n_i}{k_B T} = \\frac{n_{\\text{tot}}}{k_B T}\n$$\n因此，在非简并极限下，总量子电容大大简化：\n$$\nC_{q,\\text{tot}} = q^2 \\frac{n_{\\text{tot}}}{k_B T}\n$$\n\n**1.6. 应变与未应变属性的比率**\n\n最终要求的输出是应变 ($s$) 和未应变 ($0$) 配置下总注入速度和总量子电容的比率。\n$$\n\\delta v = \\frac{v_{\\text{inj,tot}}^{(s)}}{v_{\\text{inj,tot}}^{(0)}}\n$$\n$$\n\\delta C_q = \\frac{C_{q,\\text{tot}}^{(s)}}{C_{q,\\text{tot}}^{(0)}} = \\frac{q^2 n_{\\text{tot}}^{(s)} / (k_B T)}{q^2 n_{\\text{tot}}^{(0)} / (k_B T)} = \\frac{n_{\\text{tot}}^{(s)}}{n_{\\text{tot}}^{(0)}}\n$$\n量子电容的比率与总面载流子密度的比率相同。\n\n### 2. 计算步骤\n\n对于每个测试用例，执行以下步骤：\n1.  定义未应变能谷参数：$\\{m_{x,i}^{(0)}, m_{y,i}^{(0)}, \\alpha_i^{(0)}, \\Delta_i^{(0)}=0\\}$，其中 $i=0,\\dots,5$。\n2.  定义应变能谷参数：$\\{m_{x,i}^{(s)}, m_{y,i}^{(s)}, \\alpha_i^{(s)}, \\Delta_i^{(s)}\\}$，其中 $i=0,\\dots,5$。\n3.  使用未应变参数和上述推导的公式计算 $v_{\\text{inj,tot}}^{(0)}$ 和 $n_{\\text{tot}}^{(0)}$。\n4.  使用应变参数计算 $v_{\\text{inj,tot}}^{(s)}$ 和 $n_{\\text{tot}}^{(s)}$。\n5.  计算比率 $\\delta v = v_{\\text{inj,tot}}^{(s)} / v_{\\text{inj,tot}}^{(0)}$ 和 $\\delta C_q = n_{\\text{tot}}^{(s)} / n_{\\text{tot}}^{(0)}$。\n对每个提供的测试用例重复此过程。",
            "answer": "```python\nimport numpy as np\nfrom scipy.constants import k as k_B, e as q, m_e as m_0, hbar\n\ndef solve():\n    \"\"\"\n    Solves the semiconductor physics problem for multiple test cases.\n    \"\"\"\n\n    # Physical constants in SI units\n    # g_s (spin degeneracy) is 2.\n    G_S = 2.0\n\n    # Test cases defined in the problem statement\n    test_cases = [\n        # Case 1 (general case, tensile strain along transport)\n        {\n            \"T\": 300.0,\n            \"eta\": 0.15,\n            \"unstrained\": {\n                \"masses_rel\": [(0.916, 0.190), (0.190, 0.916), (0.190, 0.190)],\n                \"alphas\": [0.5, 0.5, 0.5],\n                \"deltas\": [0.0, 0.0, 0.0]\n            },\n            \"strained\": {\n                \"masses_rel\": [(0.806, 0.190), (0.200, 0.843), (0.190, 0.190)],\n                \"alphas\": [0.45, 0.525, 0.525],\n                \"deltas\": [0.0, 0.05, 0.05]\n            }\n        },\n        # Case 2 (no strain baseline check)\n        {\n            \"T\": 300.0,\n            \"eta\": 0.15,\n            \"unstrained\": {\n                \"masses_rel\": [(0.916, 0.190), (0.190, 0.916), (0.190, 0.190)],\n                \"alphas\": [0.5, 0.5, 0.5],\n                \"deltas\": [0.0, 0.0, 0.0]\n            },\n            \"strained\": {\n                \"masses_rel\": [(0.916, 0.190), (0.190, 0.916), (0.190, 0.190)],\n                \"alphas\": [0.5, 0.5, 0.5],\n                \"deltas\": [0.0, 0.0, 0.0]\n            }\n        },\n        # Case 3 (strong strain and significant valley splitting)\n        {\n            \"T\": 300.0,\n            \"eta\": 0.10,\n            \"unstrained\": {\n                \"masses_rel\": [(0.916, 0.190), (0.190, 0.916), (0.190, 0.190)],\n                \"alphas\": [0.6, 0.6, 0.6],\n                \"deltas\": [0.0, 0.0, 0.0]\n            },\n            \"strained\": {\n                \"masses_rel\": [(0.733, 0.190), (0.209, 0.806), (0.190, 0.190)],\n                \"alphas\": [0.48, 0.69, 0.72],\n                \"deltas\": [0.0, 0.15, 0.20]\n            }\n        }\n    ]\n\n    def calculate_properties(T, eta_ev, params):\n        \"\"\"\n        Calculates total injection velocity and total sheet density for a given configuration.\n        The valley properties are given as 3 types, each with a degeneracy of 2.\n        \"\"\"\n        # Convert inputs to SI units\n        eta_j = eta_ev * q\n        k_B_T = k_B * T\n\n        total_n = 0.0\n        sum_n_v = 0.0\n\n        for i in range(3): # Loop over the 3 valley types\n            m_x_rel, m_y_rel = params[\"masses_rel\"][i]\n            alpha_per_ev = params[\"alphas\"][i]\n            delta_ev = params[\"deltas\"][i]\n            \n            # Valley degeneracy is 2 for each type\n            valley_degeneracy = 2.0\n\n            # Convert parameters to SI units for this valley type\n            m_x = m_x_rel * m_0\n            m_y = m_y_rel * m_0\n            alpha_per_j = alpha_per_ev / q\n            delta_j = delta_ev * q\n\n            # 1. Calculate valley-resolved injection velocity\n            v_inj = np.sqrt((2 * k_B_T) / (np.pi * m_x))\n\n            # 2. Calculate valley-resolved sheet density\n            m_d = np.sqrt(m_x * m_y)\n            dos_const = (G_S * m_d) / (2 * np.pi * hbar**2)\n            \n            non_parab_factor = 1 + 2 * alpha_per_j * k_B_T\n            \n            exp_factor = np.exp((eta_j - delta_j) / k_B_T)\n            \n            n_i = dos_const * k_B_T * non_parab_factor * exp_factor\n            \n            # Accumulate totals using valley degeneracy\n            total_n += valley_degeneracy * n_i\n            sum_n_v += valley_degeneracy * n_i * v_inj\n\n        # 3. Calculate total injection velocity\n        # Handle case where total_n is zero to avoid division by zero\n        v_inj_total = sum_n_v / total_n if total_n  0 else 0.0\n        \n        # 4. Total quantum capacitance is proportional to total_n\n        # We only need total_n to calculate the ratio\n        return v_inj_total, total_n\n\n    results = []\n    for case in test_cases:\n        T = case[\"T\"]\n        eta = case[\"eta\"]\n        \n        # Calculate properties for the unstrained case\n        v_inj_0, n_tot_0 = calculate_properties(T, eta, case[\"unstrained\"])\n        \n        # Calculate properties for the strained case\n        v_inj_s, n_tot_s = calculate_properties(T, eta, case[\"strained\"])\n        \n        # Calculate the final ratios\n        # Handle division by zero for the baseline case, although v_inj_0 should typically be non-zero\n        delta_v = v_inj_s / v_inj_0 if v_inj_0 != 0 else 1.0\n        delta_Cq = n_tot_s / n_tot_0 if n_tot_0 != 0 else 1.0\n        \n        results.append(f\"[{delta_v:.6f},{delta_Cq:.6f}]\")\n\n    print(f\"[{','.join(results)}]\")\n\nsolve()\n```"
        }
    ]
}