{
    "hands_on_practices": [
        {
            "introduction": "要真正理解MOSFET的内在电容，我们必须超越简单的平行板电容器模型，考虑沿沟道分布的电荷。本练习将从线性区的MOSFET入手，这是一个理想化的起点，可帮助我们建立对分布式电荷和电荷分配方案的直观理解。通过假设一个线性的沟道电势分布，我们将对反型层电荷进行积分，并应用Ward-Dutton电荷分配方案来推导关键的栅极电容，如 $C_{gg}$、$C_{gs}$ 和 $C_{gd}$ 。这个推导过程将揭示栅-源和栅-漏耦合在线性区表现出的对称性，为后续更复杂的模型分析奠定基础。",
            "id": "3755631",
            "problem": "考虑一个工作在强反型和线性（非饱和）区的长沟道n沟道金属-氧化物-半导体场效应晶体管（MOSFET），其满足 $|V_{ds}| \\ll V_{g} - V_{th}$。该器件的沟道宽度为 $W$，有效沟道长度为 $L$，单位面积的均匀栅氧化层电容为 $C_{ox}$。假设采用渐变沟道近似和电荷片模型。设从 $x = 0$ 处的源极到 $x = L$ 处的漏极的沟道局部电势为 $V(x)$，其表达式为 $$V(x) = V_{s} + \\frac{x}{L}\\left(V_{d} - V_{s}\\right),$$ 并且设沟道单位面积的反型电荷由以下基于物理的公式给出 $$Q_{inv}(x) = -C_{ox}\\left(V_{g} - V_{th} - V(x)\\right),$$ 该公式在强反型条件下成立，并且为了进行此次小信号推导，可以忽略阈值电压 $V_{th}$ 随偏置的变化。将器件视为本征器件（忽略交叠电容和边缘场），并在强反型时忽略体耗尽调制，因此栅极主要与反型层耦合。\n\n从基本静电学和电荷守恒出发，在栅极电荷等于沟道反型电荷负值的假设下，通过对沟道上的分布式反型电荷 $Q_{inv}(x)$ 进行积分，推导出总栅极电荷 $Q_{g}$。然后，从该电荷表达式中，计算本征栅电容 $C_{gg} = \\frac{\\partial Q_{g}}{\\partial V_{g}}$，以及交叉电容 $C_{gs} = \\frac{\\partial Q_{g}}{\\partial V_{s}}$ 和 $C_{gd} = \\frac{\\partial Q_{g}}{\\partial V_{d}}$。这些电容的推导反映了 Ward-Dutton 电荷分配方案在线性区的核心思想。请评论所推导出的交叉电容之间的对称性。您可以假设准静态条件。\n\n请将您的最终答案表示为仅包含 $W$、$L$ 和 $C_{ox}$ 的 $C_{gg}$ 的单一闭合形式解析表达式。无需进行数值计算。",
            "solution": "首先验证问题，以确保其具有科学依据、自洽且提法恰当。给定条件是：一个工作在强反型和线性区的长沟道n-MOSFET，其沟道宽度为 $W$，长度为 $L$，单位面积的氧化层电容为 $C_{ox}$。假设采用渐变沟道近似和电荷片模型。局部电势和反型电荷密度由以下公式给出：\n$$V(x) = V_{s} + \\frac{x}{L}\\left(V_{d} - V_{s}\\right)$$\n$$Q_{inv}(x) = -C_{ox}\\left(V_{g} - V_{th} - V(x)\\right)$$\n终端电荷 $Q_g$ 和电容 $C_{gg}$、$C_{gs}$、$C_{gd}$ 通过积分和偏导数定义。这些定义和假设在入门级半导体器件建模中是标准的，为推导提供了有效的基础。\n\n第一个目标是推导总栅极电荷 $Q_{g}$。题目陈述栅极电荷等于总沟道反型电荷的负值。总反型电荷是电荷密度 $Q_{inv}(x)$ 在整个沟道面积 $W \\times L$ 上的积分。\n$$Q_{g} = - \\int_{Area} Q_{inv}(x) \\, \\mathrm{d}A = -W\\int_{0}^{L} Q_{inv}(x)\\,\\mathrm{d}x$$\n代入 $Q_{inv}(x)$ 的表达式：\n$$Q_{g} = -W\\int_{0}^{L} \\left[-C_{ox}\\left(V_{g} - V_{th} - V(x)\\right)\\right]\\,\\mathrm{d}x = WC_{ox}\\int_{0}^{L} \\left(V_{g} - V_{th} - V(x)\\right)\\,\\mathrm{d}x$$\n现在，我们代入线性电势分布 $V(x)$:\n$$Q_{g} = WC_{ox}\\int_{0}^{L} \\left[V_{g} - V_{th} - \\left(V_{s} + \\frac{x}{L}(V_{d} - V_{s})\\right)\\right]\\,\\mathrm{d}x$$\n$$Q_{g} = WC_{ox}\\int_{0}^{L} \\left[(V_{g} - V_{th} - V_{s}) - \\frac{x}{L}(V_{d} - V_{s})\\right]\\,\\mathrm{d}x$$\n对 $x$ 进行积分：\n$$Q_{g} = WC_{ox} \\left[ (V_{g} - V_{th} - V_{s})x - \\frac{x^2}{2L}(V_{d} - V_{s}) \\right]_{0}^{L}$$\n$$Q_{g} = WC_{ox} \\left[ (V_{g} - V_{th} - V_{s})L - \\frac{L^2}{2L}(V_{d} - V_{s}) \\right]$$\n$$Q_{g} = WLC_{ox} \\left[ (V_{g} - V_{th} - V_{s}) - \\frac{1}{2}(V_{d} - V_{s}) \\right]$$\n通过合并源极和漏极电压项，可以简化此表达式：\n$$Q_{g} = WLC_{ox} \\left[ V_{g} - V_{th} - V_{s} - \\frac{1}{2}V_{d} + \\frac{1}{2}V_{s} \\right]$$\n$$Q_{g} = WLC_{ox} \\left( V_{g} - V_{th} - \\frac{V_{s} + V_{d}}{2} \\right)$$\n这个结果表明，总栅极电荷与总氧化层电容 $WLC_{ox}$ 以及平均的栅极到沟道过驱动电压成正比。\n\n接下来，我们通过对栅极电压 $V_{g}$ 求 $Q_{g}$ 的导数来计算本征栅电容 $C_{gg}$，同时保持所有其他终端电压（$V_s$、$V_d$）和器件参数不变。\n$$C_{gg} = \\frac{\\partial Q_{g}}{\\partial V_{g}} = \\frac{\\partial}{\\partial V_{g}} \\left[ WLC_{ox} \\left( V_{g} - V_{th} - \\frac{V_{s} + V_{d}}{2} \\right) \\right]$$\n$$C_{gg} = WLC_{ox} \\cdot (1 - 0 - 0) = WLC_{ox}$$\n在强反型区，栅电容就是总的氧化层电容，因为栅极和反型层构成了一个平行板电容器。\n\n问题接着要求计算交叉电容 $C_{gs}$ 和 $C_{gd}$。这些电容是根据标准定义 $C_{ij} = \\partial Q_i / \\partial V_j$ 从总栅极电荷 $Q_g$ 的表达式中获得的。我们对 $Q_g$ 分别关于源电压 $V_s$ 和漏电压 $V_d$ 求偏导数：\n$$C_{gs} = \\frac{\\partial Q_g}{\\partial V_s} = \\frac{\\partial}{\\partial V_s} \\left[ WLC_{ox} \\left( V_g - V_{th} - \\frac{V_s + V_d}{2} \\right) \\right] = -\\frac{1}{2}WLC_{ox}$$\n$$C_{gd} = \\frac{\\partial Q_g}{\\partial V_d} = \\frac{\\partial}{\\partial V_d} \\left[ WLC_{ox} \\left( V_g - V_{th} - \\frac{V_s + V_d}{2} \\right) \\right] = -\\frac{1}{2}WLC_{ox}$$\n一个关键的观察是对称性：$C_{gs} = C_{gd}$。这种对称性直接源于总栅极电荷 $Q_g$ 对 $V_s$ 和 $V_d$ 的依赖是对称的，这是线性区沟道电势呈线性分布的直接结果。这个结果与 Ward-Dutton 分配方案在线性区预测的源极和漏极之间 50/50 的电荷分配是一致的，即栅极电压的变化对源极和漏极电荷的影响是均等的。\n\n问题特别要求将 $C_{gg}$ 的表达式作为最终答案。\n$$C_{gg} = WLC_{ox}$$\n至此，按要求完成了推导和分析。",
            "answer": "$$\\boxed{WLC_{ox}}$$"
        },
        {
            "introduction": "虽然简化的模型在教学中很有价值，但识别其局限性是成为优秀建模专家的关键一步。本练习将我们的注意力转移到饱和区，并对经典的Meyer电容模型进行严格审视，该模型为了简化而做出了诸如“饱和区栅-漏电容为零”等假设。通过具体的计算，你将证明这些假设如何导致模型违背了电荷守恒这一基本物理原理，从而深刻理解为何开发更精确、基于电荷的物理模型（如Ward-Dutton模型）对于保证仿真结果的物理真实性至关重要。",
            "id": "3755626",
            "problem": "一个四端金属-氧化物-半导体场效应晶体管 (MOSFET) 在长沟道、强反型、准静态区域工作，其偏置为：源极为 $0\\ \\text{V}$，体电极连接到源极，栅极为 $V_{g} = 0.80\\ \\text{V}$，漏极为 $V_{d} = 1.00\\ \\text{V}$。阈值电压为 $V_{th} = 0.40\\ \\text{V}$，因此该器件在渐变沟道近似下工作于速度非饱和的饱和区。沟道宽度和长度分别为 $W = 10\\ \\mu\\text{m}$ 和 $L = 1\\ \\mu\\text{m}$。栅极氧化层厚度为 $t_{ox} = 3\\ \\text{nm}$，二氧化硅的介电常数为 $\\varepsilon_{ox} = 3.9\\,\\varepsilon_{0}$，其中 $\\varepsilon_{0} = 8.854 \\times 10^{-12}\\ \\text{F/m}$。忽略交叠电容和边缘电容，并假设在强反型区耗尽电荷随偏置的变化可以忽略不计，因此栅极电荷的小信号变化主要由反型电荷决定。\n\n从端电荷 $Q_{i}$ 和本征电容矩阵元素 $C_{ij} = \\partial Q_{i}/\\partial V_{j}$ (其中 $i,j \\in \\{g,d,s,b\\}$) 的定义，以及基本的电荷守恒恒等式 $\\sum_{i} Q_{i} = 0$ (因此对每一列 $j$ 都有 $\\sum_{i} C_{ij} = 0$) 出发，按以下步骤进行：\n\n1) 使用渐变沟道近似和漂移输运，推导饱和区的总反型电荷量，并由此推导出小信号栅极自电容 $C_{gg} = \\partial Q_{g}/\\partial V_{g}$，用单位面积氧化层电容 $C_{ox} = \\varepsilon_{ox}/t_{ox}$、沟道尺寸 $W$ 和 $L$ 以及过驱动电压 $V_{ov} = V_{g} - V_{th}$ 表示。\n\n2) 采用强反型饱和区的经典准静态 Meyer 模型假设：设置栅-漏电容 $C_{gd} = 0$ 并忽略 $C_{gb}$。此外，通过对与栅极相关的非对角线元素强制施加互易性，即 $C_{sg} = C_{gs}$、$C_{dg} = C_{gd}$ 和 $C_{bg} = C_{gb}$，并取 $C_{gg} = C_{gs} + C_{gd} + C_{gb}$，来构建隐含的四端小信号电容矩阵。在这些假设下，解析地计算列和\n\n$$\n\\Sigma_{g} \\equiv C_{gg} + C_{dg} + C_{sg} + C_{bg}\n$$\n\n并解释为什么非零的 $\\Sigma_{g}$ 表明违反了电荷守恒条件 $\\sum_{i} C_{ij} = 0$。\n\n3) 计算上述给定器件和偏置下 $\\Sigma_{g}$ 的数值。以飞法 (femtofarads) 为单位表示您的最终数值，并四舍五入到三位有效数字。",
            "solution": "该问题被验证为具有科学依据、问题明确且客观。它提出了一个 MOSFET 器件物理学中的标准教学练习，用以展示 Meyer 电容模型的一个已知局限性。所有提供的数据和条件都是一致且足以推导出唯一解的。\n\n解答过程按照题目要求分三部分进行。\n\n### 第一部分：饱和区栅极自电容的推导\n\n题目要求我们推导饱和区的小信号栅极自电容 $C_{gg} = \\partial Q_g / \\partial V_g$。题目指出我们可以忽略耗尽电荷的变化，因此栅极电荷 $Q_g$ 的任何变化都与反型电荷 $Q_{inv}$ 的变化大小相等、符号相反。因此，$Q_g \\approx -Q_{inv}$（在数值上，总电荷和为零，$Q_g + Q_{inv} + Q_{dep} = 0$，所以如果 $Q_{dep}$ 是常数，则 $\\partial Q_g / \\partial V_g = -\\partial Q_{inv} / \\partial V_g$）。按照惯例，对于 n 沟道 MOSFET，反型电荷 $Q_{inv}$ 是负的。我们将使用其绝对值 $|Q_{inv}|$ 进行计算。\n\n在渐变沟道近似下，沿沟道（从源极 $y=0$ 到漏极 $y=L$）在位置 $y$ 处的单位长度反型电荷密度由下式给出：\n$$\n|Q'_{inv}(y)| = W C_{ox} [V_{gs} - V_{th} - V(y)]\n$$\n其中 $W$ 是沟道宽度，$C_{ox} = \\varepsilon_{ox} / t_{ox}$ 是单位面积的栅极氧化层电容，$V_{gs}$ 是栅-源电压，$V_{th}$ 是阈值电压，$V(y)$ 是位置 $y$ 处的沟道电势。\n\n反型电荷的总量是该密度沿沟道长度的积分：\n$$\n|Q_{inv}| = \\int_0^L |Q'_{inv}(y)| \\, dy = W C_{ox} \\int_0^L [V_{gs} - V_{th} - V(y)] \\, dy\n$$\n为了计算这个积分，我们需要将 $dy$ 与 $dV$ 联系起来。沟道中的漂移电流是恒定的，由 $I_{ds} = |Q'_{inv}(y)| v(y)$ 给出，其中 $v(y) = \\mu_n E(y) = \\mu_n \\frac{dV}{dy}$ 是电子漂移速度。\n$$\nI_{ds} = W C_{ox} [V_{gs} - V_{th} - V(y)] \\mu_n \\frac{dV}{dy}\n$$\n由于器件处于饱和区，电流为 $I_{ds,sat}$。我们可以重新整理并积分此表达式以找到标准的饱和电流。在饱和区，沟道在漏极处被夹断 (pinched off)，这发生在局部栅-沟道电压等于 $V_{th}$ 时。在简单模型中，这发生在沟道电势为 $V_{ds,sat} = V_{gs} - V_{th}$ 时。\n$$\nI_{ds,sat} \\int_0^L dy = W \\mu_n C_{ox} \\int_0^{V_{ds,sat}} [V_{gs} - V_{th} - V] \\, dV\n$$\n$$\nI_{ds,sat} L = W \\mu_n C_{ox} \\left[ (V_{gs}-V_{th})V - \\frac{V^2}{2} \\right]_0^{V_{gs}-V_{th}} = \\frac{W \\mu_n C_{ox}}{2} (V_{gs}-V_{th})^2\n$$\n现在我们回到总电荷积分。我们使用电流方程将 $dy$ 表示为 $dV$ 的函数：\n$$\ndy = \\frac{W \\mu_n C_{ox}}{I_{ds,sat}} [V_{gs} - V_{th} - V] \\, dV\n$$\n将此代入 $|Q_{inv}|$ 的积分中：\n$$\n|Q_{inv}| = W C_{ox} \\int_0^{V_{ds,sat}} [V_{gs} - V_{th} - V] \\left( \\frac{W \\mu_n C_{ox}}{I_{ds,sat}} [V_{gs} - V_{th} - V] \\right) dV\n$$\n$$\n|Q_{inv}| = \\frac{W^2 \\mu_n C_{ox}^2}{I_{ds,sat}} \\int_0^{V_{gs}-V_{th}} [V_{gs} - V_{th} - V]^2 dV\n$$\n代入 $I_{ds,sat} = \\frac{W \\mu_n C_{ox}}{2L}(V_{gs}-V_{th})^2$ 的表达式：\n$$\n|Q_{inv}| = \\frac{W^2 \\mu_n C_{ox}^2}{\\frac{W \\mu_n C_{ox}}{2L}(V_{gs}-V_{th})^2} \\left[ -\\frac{(V_{gs} - V_{th} - V)^3}{3} \\right]_0^{V_{gs}-V_{th}}\n$$\n$$\n|Q_{inv}| = \\frac{2WL C_{ox}}{(V_{gs}-V_{th})^2} \\left[ 0 - \\left( -\\frac{(V_{gs} - V_{th})^3}{3} \\right) \\right]\n$$\n$$\n|Q_{inv}| = \\frac{2WL C_{ox}}{(V_{gs}-V_{th})^2} \\frac{(V_{gs} - V_{th})^3}{3} = \\frac{2}{3} WL C_{ox} (V_{gs} - V_{th})\n$$\n栅极电荷为 $Q_g = |Q_{inv}|$。给定 $V_s=0$，则 $V_{gs}=V_g$。过驱动电压为 $V_{ov} = V_g - V_{th}$。\n$$\nQ_g(V_g) = \\frac{2}{3} WL C_{ox} (V_g - V_{th}) = \\frac{2}{3} WL C_{ox} V_{ov}\n$$\n栅极自电容是 $Q_g$ 对 $V_g$ 的导数：\n$$\nC_{gg} = \\frac{\\partial Q_g}{\\partial V_g} = \\frac{\\partial}{\\partial V_g} \\left[ \\frac{2}{3} WL C_{ox} (V_g - V_{th}) \\right] = \\frac{2}{3} WL C_{ox}\n$$\n\n### 第二部分：Meyer 模型分析与电荷守恒\n\n我们被要求使用一组特定的“Meyer 模型假设”来计算列和 $\\Sigma_g = C_{gg} + C_{dg} + C_{sg} + C_{bg}$。\nMOSFET 在饱和区的假设如下：\n1. $C_{gd} = 0$ (由于夹断，栅-漏电容为零)。\n2. $C_{gb} = 0$ (栅-体电容被忽略，特别是在体电极连接到源极的情况下)。\n3. 非对角线电容的互易性：$C_{dg} = C_{gd}$，$C_{sg} = C_{gs}$，$C_{bg} = C_{gb}$。\n4. 栅极电容分配：$C_{gg} = C_{gs} + C_{gd} + C_{gb}$。\n\n根据这些假设，我们可以确定 $\\Sigma_g$ 的分量。\n- 根据假设 1 和 3：$C_{dg} = C_{gd} = 0$。\n- 根据假设 2 和 3：$C_{bg} = C_{gb} = 0$。\n- 根据假设 4，并结合假设 1 和 2，我们得到 $C_{gs}$ 的关系：\n  $$\n  C_{gg} = C_{gs} + 0 + 0 \\implies C_{gs} = C_{gg}\n  $$\n- 根据假设 3，我们有 $C_{sg} = C_{gs}$。因此，$C_{sg} = C_{gg}$。\n\n现在我们可以计算和 $\\Sigma_g$：\n$$\n\\Sigma_g = C_{gg} + C_{dg} + C_{sg} + C_{bg} = C_{gg} + 0 + C_{sg} + 0 = C_{gg} + C_{sg}\n$$\n代入 $C_{sg} = C_{gg}$：\n$$\n\\Sigma_g = C_{gg} + C_{gg} = 2C_{gg}\n$$\n使用第一部分中 $C_{gg}$ 的结果：\n$$\n\\Sigma_g = 2 \\left( \\frac{2}{3} WL C_{ox} \\right) = \\frac{4}{3} WL C_{ox}\n$$\n这是在给定假设下 $\\Sigma_g$ 的解析表达式。\n\n非零的 $\\Sigma_g$ 值表明违反了电荷守恒。电荷守恒原理要求孤立的 MOSFET 系统的总电荷是恒定的（如果是中性的，则为零）。设 $Q_{tot} = Q_g + Q_d + Q_s + Q_b$。那么 $Q_{tot}$ 必须是一个与端电压无关的常数。对任意端电压（例如 $V_j$）求偏导数必须得到零：\n$$\n\\frac{\\partial Q_{tot}}{\\partial V_j} = \\frac{\\partial Q_g}{\\partial V_j} + \\frac{\\partial Q_d}{\\partial V_j} + \\frac{\\partial Q_s}{\\partial V_j} + \\frac{\\partial Q_b}{\\partial V_j} = 0\n$$\n根据定义，$C_{ij} = \\partial Q_i / \\partial V_j$。因此，对于电容矩阵的任何列 $j$，其元素之和必须为零：\n$$\n\\sum_{i \\in \\{g,d,s,b\\}} C_{ij} = 0\n$$\n我们计算的和 $\\Sigma_g$ 是对应于 $j=g$ 的列的和：\n$$\n\\Sigma_g = C_{gg} + C_{dg} + C_{sg} + C_{bg}\n$$\n我们推导出的结果 $\\Sigma_g = \\frac{4}{3} WL C_{ox}$ 显然是非零的。这表明所提供的这组假设（即简单 Meyer 模型的特征）不是自洽的，并且不满足电荷守恒。这是 Meyer 模型的一个众所周知的缺陷，这也促进了更复杂、满足电荷守恒的模型的开发。\n\n### 第三部分：数值计算\n\n我们计算 $\\Sigma_g = \\frac{4}{3} WL C_{ox}$ 的数值。\n首先，我们计算单位面积的氧化层电容 $C_{ox}$。\n给定参数：\n- $W = 10\\ \\mu\\text{m} = 10 \\times 10^{-6}\\ \\text{m}$\n- $L = 1\\ \\mu\\text{m} = 1 \\times 10^{-6}\\ \\text{m}$\n- $t_{ox} = 3\\ \\text{nm} = 3 \\times 10^{-9}\\ \\text{m}$\n- $\\varepsilon_{ox} = 3.9\\,\\varepsilon_{0}$\n- $\\varepsilon_{0} = 8.854 \\times 10^{-12}\\ \\text{F/m}$\n\n氧化层的介电常数为：\n$$\n\\varepsilon_{ox} = 3.9 \\times (8.854 \\times 10^{-12}\\ \\text{F/m}) \\approx 3.45306 \\times 10^{-11}\\ \\text{F/m}\n$$\n单位面积的氧化层电容为：\n$$\nC_{ox} = \\frac{\\varepsilon_{ox}}{t_{ox}} = \\frac{3.45306 \\times 10^{-11}\\ \\text{F/m}}{3 \\times 10^{-9}\\ \\text{m}} \\approx 1.15102 \\times 10^{-2}\\ \\text{F/m}^2\n$$\n总栅极氧化层电容为 $W \\times L \\times C_{ox}$：\n$$\nW L C_{ox} = (10 \\times 10^{-6}\\ \\text{m}) \\times (1 \\times 10^{-6}\\ \\text{m}) \\times (1.15102 \\times 10^{-2}\\ \\text{F/m}^2)\n$$\n$$\nW L C_{ox} = (10 \\times 10^{-12}\\ \\text{m}^2) \\times (1.15102 \\times 10^{-2}\\ \\text{F/m}^2) \\approx 1.15102 \\times 10^{-13}\\ \\text{F}\n$$\n现在，我们可以计算 $\\Sigma_g$：\n$$\n\\Sigma_g = \\frac{4}{3} WL C_{ox} = \\frac{4}{3} \\times (1.15102 \\times 10^{-13}\\ \\text{F}) \\approx 1.53469 \\times 10^{-13}\\ \\text{F}\n$$\n问题要求结果以飞法 ($1\\ \\text{fF} = 10^{-15}\\ \\text{F}$) 为单位，并四舍五入到三位有效数字。\n$$\n\\Sigma_g \\approx 1.53469 \\times 10^{-13}\\ \\text{F} = 153.469 \\times 10^{-15}\\ \\text{F} = 153.469\\ \\text{fF}\n$$\n四舍五入到三位有效数字，我们得到 $153\\ \\text{fF}$。",
            "answer": "$$ \\boxed{153} $$"
        },
        {
            "introduction": "理论上的电荷守恒在实际电路设计中究竟有多重要？本练习将理论与一个核心的数字电路应用——CMOS反相器的开关行为——直接联系起来。通过编程计算并比较有缺陷的Meyer模型和电荷守恒的Ward-Dutton模型所预测的瞬态响应，你将亲手量化精确的电容建模对电路的上升/下降时间等关键性能指标的实际影响。这个实践将最终揭示，一个物理上自洽的电容模型对于准确预测和优化现代集成电路的动态性能是不可或缺的。",
            "id": "3755607",
            "problem": "本题要求您在理想化开关条件下对一个互补金属氧化物半导体 (CMOS) 反相器进行建模，并比较两种金属氧化物半导体场效应晶体管 (MOSFET) 的内禀电容模型——非电荷守恒的 Meyer 模型和电荷守恒的 Ward–Dutton 模型——所预测的瞬态波形。该反相器由一个 n 沟道 MOSFET (NMOS) 和一个 p 沟道 MOSFET (PMOS) 组成。反相器驱动一个集总输出节点，该节点包括漏-体结电容和外部负载。输入是一个理想的阶跃电压源，在低电平和高电平之间切换。反相器输出相应地在电源轨之间转换。\n\n基本建模前提：\n- 在强反型区，使用准静态近似和缓变沟道近似来描述沟道电荷。\n- 将反相器输出瞬态建模为一阶电阻-电容 (RC) 响应，其中主导电阻是相应边沿期间导通晶体管的导通路径，主导电容是输出节点上的总有效电容。\n- 在转换期间，有效的栅-漏耦合会改变输出节点的负载。对于 Meyer 模型，饱和区的栅-漏耦合可以为零。对于 Ward–Dutton 模型，电荷守恒要求即使在饱和区，由于沟道电荷的分配，栅-漏耦合也非零。\n\n您的程序必须为每个提供的测试用例计算：\n1. 对于 Meyer 和 Ward–Dutton 模型，输出从最终值的 $10\\%$ 上升到 $90\\%$ 所需的上升时间，单位为秒。\n2. 对于 Meyer 和 Ward–Dutton 模型，输出从初始值的 $90\\%$ 下降到 $10\\%$ 所需的下降时间，单位为秒。\n\n所有时间均以秒为单位表示。使用以下建模假设以确保科学真实性，而不使用简化公式：\n- 将每个边沿视为在转换开始时由一个饱和区晶体管主导，其中导通器件的有效导通电阻为 $R_{\\mathrm{on}}$，输出端的总有效电容 $C_{\\mathrm{eff}}$ 聚合了连接到输出节点的所有相关电容。\n- 总有效电容 $C_{\\mathrm{eff}}$ 包括外部负载电容、漏-体结电容之和，以及所选模型下导通器件的栅-漏耦合，外加非导通器件的栅-漏交叠电容。假设栅极电压阶跃是理想的，因此在每个边沿期间，连接到栅极节点的电容器的作用等同于连接到固定电压节点的电容器。\n- 对于饱和区的 Meyer 模型，将导通器件的沟道相关栅-漏电容设置为零，仅包含其栅-漏交叠电容。对于饱和区的 Ward–Dutton 模型，由于电荷分配，在栅-漏路径中包含一部分非零的沟道栅电容；使用与长沟道行为一致的线性分配因子，以便在饱和区将一部分分配给漏极。\n- 特征时间常数为 $\\tau = R_{\\mathrm{on}} \\, C_{\\mathrm{eff}}$。对于一阶 RC 响应，$10\\%$ 到 $90\\%$ 的上升时间或 $90\\%$ 到 $10\\%$ 的下降时间等于 $\\tau \\ln(9)$。\n\n定义和参数使用：\n- 单位面积的氧化层电容为 $C_{\\mathrm{ox}}$，单位是 $\\mathrm{F}/\\mathrm{m}^{2}$。\n- 器件的沟道栅电容为 $C_{\\mathrm{ch}} = C_{\\mathrm{ox}} \\, W \\, L$。\n- NMOS 和 PMOS 的栅-漏交叠电容 $C_{\\mathrm{ov},n}$ 和 $C_{\\mathrm{ov},p}$ 直接给出。\n- NMOS 和 PMOS 的漏-体结电容 $C_{j,n}$ 和 $C_{j,p}$ 直接给出。\n- 输出节点的外部负载电容为 $C_{L}$。\n- 导通电阻 $R_{n}$ 和 $R_{p}$ 分别模拟 NMOS（输出下降期间）和 PMOS（输出上升期间）的导通路径。\n\n测试套件：\n对于每个测试用例，参数以元组形式提供：\n$(W_{n}, L_{n}, W_{p}, L_{p}, C_{\\mathrm{ox}}, C_{\\mathrm{ov},n}, C_{\\mathrm{ov},p}, C_{j,n}, C_{j,p}, C_{L}, R_{n}, R_{p})$\n单位为 $(\\mathrm{m}, \\mathrm{m}, \\mathrm{m}, \\mathrm{m}, \\mathrm{F}/\\mathrm{m}^{2}, \\mathrm{F}, \\mathrm{F}, \\mathrm{F}, \\mathrm{F}, \\mathrm{F}, \\Omega, \\Omega)$。\n\n使用 Ward–Dutton 饱和漏极分配分数 $\\alpha_{\\mathrm{sat}} = \\frac{1}{3}$，即饱和期间分配给栅-漏路径的沟道栅电容的分数。对于饱和区的 Meyer 模型，沟道栅-漏贡献使用 $0$。在相应边沿期间，始终将导通器件的栅-漏交叠电容和非导通器件的栅-漏交叠电容加到输出节点负载上。\n\n为每个测试用例计算以下内容：\n- $t_{\\mathrm{rise,Meyer}} = R_{p} \\cdot C_{\\mathrm{eff,rise,Meyer}} \\cdot \\ln(9)$\n- $t_{\\mathrm{fall,Meyer}} = R_{n} \\cdot C_{\\mathrm{eff,fall,Meyer}} \\cdot \\ln(9)$\n- $t_{\\mathrm{rise,WD}} = R_{p} \\cdot C_{\\mathrm{eff,rise,WD}} \\cdot \\ln(9)$\n- $t_{\\mathrm{fall,WD}} = R_{n} \\cdot C_{\\mathrm{eff,fall,WD}} \\cdot \\ln(9)$\n\n其中，对于每个边沿，$C_{\\mathrm{eff}}$ 聚合了：\n- 外部负载 $C_{L}$，\n- 结电容 $C_{j,n} + C_{j,p}$，\n- 根据所选模型计算的导通器件的栅-漏耦合，\n- 非导通器件的栅-漏交叠。\n\n要实现的测试用例：\n1. $(1.0\\times 10^{-6}, 1.8\\times 10^{-7}, 2.0\\times 10^{-6}, 1.8\\times 10^{-7}, 1.0\\times 10^{-2}, 2.0\\times 10^{-16}, 2.5\\times 10^{-16}, 7.0\\times 10^{-16}, 8.0\\times 10^{-16}, 2.0\\times 10^{-15}, 8.0\\times 10^{3}, 1.0\\times 10^{4})$\n2. $(5.0\\times 10^{-7}, 4.0\\times 10^{-8}, 1.0\\times 10^{-6}, 4.0\\times 10^{-8}, 1.0\\times 10^{-2}, 2.5\\times 10^{-16}, 2.5\\times 10^{-16}, 5.0\\times 10^{-16}, 5.0\\times 10^{-16}, 1.0\\times 10^{-15}, 1.2\\times 10^{4}, 1.5\\times 10^{4})$\n3. $(2.0\\times 10^{-5}, 1.8\\times 10^{-7}, 4.0\\times 10^{-5}, 1.8\\times 10^{-7}, 1.0\\times 10^{-2}, 3.0\\times 10^{-15}, 4.0\\times 10^{-15}, 3.0\\times 10^{-15}, 3.0\\times 10^{-15}, 5.0\\times 10^{-15}, 1.0\\times 10^{3}, 1.2\\times 10^{3})$\n4. $(8.0\\times 10^{-7}, 1.2\\times 10^{-7}, 2.0\\times 10^{-6}, 1.2\\times 10^{-7}, 1.0\\times 10^{-2}, 1.8\\times 10^{-16}, 2.2\\times 10^{-16}, 6.0\\times 10^{-16}, 6.0\\times 10^{-16}, 1.5\\times 10^{-15}, 2.0\\times 10^{4}, 5.0\\times 10^{3})$\n\n最终输出规格：\n您的程序应生成单行输出，其中包含用方括号括起来的逗号分隔列表形式的结果。此外层列表的每个元素对应一个测试用例，并且必须是一个包含四个浮点数的列表，单位为秒，顺序为 $[t_{\\mathrm{rise,Meyer}}, t_{\\mathrm{fall,Meyer}}, t_{\\mathrm{rise,WD}}, t_{\\mathrm{fall,WD}}]$。例如：$[[r_{1},f_{1},r'_{1},f'_{1}],[r_{2},f_{2},r'_{2},f'_{2}],...]$。",
            "solution": "该问题是有效的。它在科学上基于半导体器件物理和电路理论的原理，特别是关于 MOSFET 电容建模和 CMOS 数字电路的瞬态分析。该问题提法明确，提供了所有必需的参数和计算所需量的清晰、客观的方法。所提供的物理参数对于现代 CMOS 技术是切合实际的。\n\n核心任务是计算 CMOS 反相器输出的上升和下降时间，对比非电荷守恒的 Meyer 电容模型与电荷守恒的 Ward–Dutton 模型的预测。该分析基于一阶 RC 延迟模型。\n\n对于一阶系统，从 $10\\%$ 到 $90\\%$ 的上升时间或从 $90\\%$ 到 $10\\%$ 的下降时间 $t_{\\mathrm{transient}}$ 由下式给出：\n$$ t_{\\mathrm{transient}} = \\tau \\ln(9) $$\n其中 $\\tau$ 是系统的时间常数。对于 CMOS 反相器，$\\tau$ 是导通晶体管的有效导通电阻 $R_{\\mathrm{on}}$ 与输出节点总有效电容 $C_{\\mathrm{eff}}$ 的乘积。\n$$ \\tau = R_{\\mathrm{on}} C_{\\mathrm{eff}} $$\n\n我们必须为四种情况中的每一种确定 $R_{\\mathrm{on}}$ 和 $C_{\\mathrm{eff}}$：上升和下降转换，每种情况都用两种不同的电容模型进行分析。\n\n**1. 输出上升转换 ($t_{\\mathrm{rise}}$)**\n在输出上升期间，输入从高电平转换到低电平。上拉 PMOS 晶体管导通，下拉 NMOS 晶体管截止。\n- 导通晶体管是 PMOS。相关的导通电阻是 $R_{\\mathrm{on}} = R_{p}$。\n- 非导通晶体管是 NMOS。\n- 该转换的建模假设是在开关事件开始时（当输出为低电平且 PMOS 栅极为低电平时）PMOS 处于饱和区。\n\n**2. 输出下降转换 ($t_{\\mathrm{fall}}$)**\n在输出下降期间，输入从低电平转换到高电平。下拉 NMOS 晶体管导通，上拉 PMOS 晶体管截止。\n- 导通晶体管是 NMOS。相关的导通电阻是 $R_{\\mathrm{on}} = R_{n}$。\n- 非导通晶体管是 PMOS。\n- 该转换的建模假设是在开关事件开始时（当输出为高电平且 NMOS 栅极为高电平时）NMOS 处于饱和区。\n\n**3. 有效电容 ($C_{\\mathrm{eff}}$) 的公式**\n题目规定，输出节点的总有效电容 $C_{\\mathrm{eff}}$ 是几个分量的总和：\n1.  外部负载电容 $C_{L}$。\n2.  两个晶体管的总漏-体结电容 $C_{j, \\mathrm{total}} = C_{j,n} + C_{j,p}$。\n3.  **导通**器件的栅-漏耦合电容 $C_{gd, \\mathrm{active}}$，它取决于所选的模型（Meyer 或 Ward-Dutton）。\n4.  **非导通**器件的栅-漏交叠电容 $C_{\\mathrm{ov}, \\mathrm{inactive}}$。由于非导通器件处于截止状态，其与沟道相关的电容为零，其唯一的栅-漏耦合是通过交叠电容。\n\n因此，在上升转换期间（PMOS 导通，NMOS 非导通），$C_{\\mathrm{eff}}$ 的通用表达式为：\n$$ C_{\\mathrm{eff,rise}} = C_{L} + C_{j,n} + C_{j,p} + C_{gd,p} + C_{\\mathrm{ov},n} $$\n而在下降转换期间（NMOS 导通，PMOS 非导通）：\n$$ C_{\\mathrm{eff,fall}} = C_{L} + C_{j,n} + C_{j,p} + C_{gd,n} + C_{\\mathrm{ov},p} $$\n\nMOSFET 的栅-漏电容是其物理交叠分量和其沟道电荷相关分量的总和：$C_{gd} = C_{\\mathrm{ov}} + C_{gd,\\mathrm{channel}}$。这两个模型在处理饱和区导通晶体管的 $C_{gd,\\mathrm{channel}}$ 时有所不同。\n\n**Meyer 模型：**这是一个非电荷守恒模型，其最简单的形式断言饱和区的栅-漏沟道电容为零。\n$$ C_{gd,\\mathrm{channel}} = 0 \\quad (\\text{in saturation}) $$\n因此，对于导通器件，$C_{gd, \\mathrm{active}} = C_{\\mathrm{ov}, \\mathrm{active}}$。\n\n**Ward–Dutton (WD) 模型：**这是一个电荷守恒模型。它在源极和漏极端子之间正确地划分了沟道电荷。在饱和区，总沟道电荷的一部分仍然由漏极电位控制。对于长沟道器件，栅-漏沟道电容近似为总栅-沟道电容 $C_{\\mathrm{ch}} = C_{\\mathrm{ox}}WL$ 的一个分数。问题指定了分配分数 $\\alpha_{\\mathrm{sat}} = \\frac{1}{3}$。\n$$ C_{gd,\\mathrm{channel}} = \\alpha_{\\mathrm{sat}} C_{\\mathrm{ch}} = \\frac{1}{3} C_{\\mathrm{ox}} W L \\quad (\\text{in saturation}) $$\n因此，对于导通器件，$C_{gd, \\mathrm{active}} = C_{\\mathrm{ov}, \\mathrm{active}} + \\frac{1}{3} C_{\\mathrm{ch}, \\mathrm{active}}$。\n\n**4. 瞬态时间的最终表达式**\n\n我们定义一个基础电容 $C_{\\mathrm{base}}$，它在所有情况下都是共有的：\n$$ C_{\\mathrm{base}} = C_{L} + C_{j,n} + C_{j,p} + C_{\\mathrm{ov},n} + C_{\\mathrm{ov},p} $$\n该电容包括外部负载、所有结电容和所有交叠电容。\n\n**对于 Meyer 模型：**\n导通器件的栅-漏耦合就是其交叠电容。\n- 对于上升时间（PMOS 导通），$C_{\\mathrm{eff,rise,Meyer}} = C_{L} + C_{j,n} + C_{j,p} + C_{\\mathrm{ov},p} + C_{\\mathrm{ov},n} = C_{\\mathrm{base}}$。\n- 对于下降时间（NMOS 导通），$C_{\\mathrm{eff,fall,Meyer}} = C_{L} + C_{j,n} + C_{j,p} + C_{\\mathrm{ov},n} + C_{\\mathrm{ov},p} = C_{\\mathrm{base}}$。\n由此产生的瞬态时间为：\n$$ t_{\\mathrm{rise,Meyer}} = R_{p} \\cdot C_{\\mathrm{base}} \\cdot \\ln(9) $$\n$$ t_{\\mathrm{fall,Meyer}} = R_{n} \\cdot C_{\\mathrm{base}} \\cdot \\ln(9) $$\n\n**对于 Ward-Dutton 模型：**\n导通器件的栅-漏耦合包含一个沟道分配项。\n- 对于上升时间（PMOS 导通），我们加上 PMOS 沟道贡献。设 $C_{\\mathrm{ch},p} = C_{\\mathrm{ox}} W_p L_p$。\n$C_{\\mathrm{eff,rise,WD}} = C_{\\mathrm{base}} + \\frac{1}{3} C_{\\mathrm{ch},p}$。\n- 对于下降时间（NMOS 导通），我们加上 NMOS 沟道贡献。设 $C_{\\mathrm{ch},n} = C_{\\mathrm{ox}} W_n L_n$。\n$C_{\\mathrm{eff,fall,WD}} = C_{\\mathrm{base}} + \\frac{1}{3} C_{\\mathrm{ch},n}$。\n由此产生的瞬态时间为：\n$$ t_{\\mathrm{rise,WD}} = R_{p} \\cdot \\left( C_{\\mathrm{base}} + \\frac{1}{3} C_{\\mathrm{ox}} W_p L_p \\right) \\cdot \\ln(9) $$\n$$ t_{\\mathrm{fall,WD}} = R_{n} \\cdot \\left( C_{\\mathrm{base}} + \\frac{1}{3} C_{\\mathrm{ox}} W_n L_n \\right) \\cdot \\ln(9) $$\n\n这些公式将被实现以计算给定测试用例的数值解。与更简单的 Meyer 模型相比，Ward-Dutton 模型通过考虑额外的电荷分配，预计会预测出更大的有效电容，从而得到更长、更真实的开关时间。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes CMOS inverter transient times for Meyer and Ward-Dutton capacitance models.\n    \"\"\"\n    # Test cases defined in the problem statement.\n    # Each tuple contains:\n    # (W_n, L_n, W_p, L_p, C_ox, C_ov_n, C_ov_p, C_j_n, C_j_p, C_L, R_n, R_p)\n    # Units: (m, m, m, m, F/m^2, F, F, F, F, F, Ohm, Ohm)\n    test_cases = [\n        (1.0e-6, 1.8e-7, 2.0e-6, 1.8e-7, 1.0e-2, 2.0e-16, 2.5e-16, 7.0e-16, 8.0e-16, 2.0e-15, 8.0e3, 1.0e4),\n        (5.0e-7, 4.0e-8, 1.0e-6, 4.0e-8, 1.0e-2, 2.5e-16, 2.5e-16, 5.0e-16, 5.0e-16, 1.0e-15, 1.2e4, 1.5e4),\n        (2.0e-5, 1.8e-7, 4.0e-5, 1.8e-7, 1.0e-2, 3.0e-15, 4.0e-15, 3.0e-15, 3.0e-15, 5.0e-15, 1.0e3, 1.2e3),\n        (8.0e-7, 1.2e-7, 2.0e-6, 1.2e-7, 1.0e-2, 1.8e-16, 2.2e-16, 6.0e-16, 6.0e-16, 1.5e-15, 2.0e4, 5.0e3),\n    ]\n\n    results = []\n    \n    # Ward-Dutton saturation drain partition fraction\n    alpha_sat = 1.0 / 3.0\n    \n    # Factor for 10%-90% delay calculation\n    ln_9 = np.log(9)\n\n    for case in test_cases:\n        W_n, L_n, W_p, L_p, C_ox, C_ov_n, C_ov_p, C_j_n, C_j_p, C_L, R_n, R_p = case\n\n        # Calculate base capacitance, common to Meyer and WD models.\n        # This includes external load, all junction caps, and all overlap caps.\n        C_base = C_L + C_j_n + C_j_p + C_ov_n + C_ov_p\n\n        # --- Meyer Model Calculations ---\n        # For the Meyer model in saturation, C_eff is just C_base.\n        C_eff_meyer = C_base\n        \n        t_rise_meyer = R_p * C_eff_meyer * ln_9\n        t_fall_meyer = R_n * C_eff_meyer * ln_9\n\n        # --- Ward-Dutton Model Calculations ---\n        # Calculate gate-to-channel capacitances for NMOS and PMOS.\n        C_ch_n = C_ox * W_n * L_n\n        C_ch_p = C_ox * W_p * L_p\n\n        # For the Ward-Dutton model, the effective capacitance includes\n        # a fraction of the active device's channel capacitance.\n        \n        # Rise time: PMOS is active.\n        C_eff_rise_wd = C_base + alpha_sat * C_ch_p\n        t_rise_wd = R_p * C_eff_rise_wd * ln_9\n\n        # Fall time: NMOS is active.\n        C_eff_fall_wd = C_base + alpha_sat * C_ch_n\n        t_fall_wd = R_n * C_eff_fall_wd * ln_9\n\n        # Append results for the current test case in the specified order.\n        results.append([t_rise_meyer, t_fall_meyer, t_rise_wd, t_fall_wd])\n\n    # Format the output string to match the problem specification exactly.\n    # This involves creating a string representation of a list of lists\n    # without the spaces Python's default str() adds.\n    list_of_strings = []\n    for res_list in results:\n        # Convert each float in the inner list to its string representation\n        # and join them with commas, then enclose in brackets.\n        list_of_strings.append(f\"[{','.join(map(str, res_list))}]\")\n    \n    # Join the string representations of the inner lists with commas\n    # and enclose the whole thing in brackets.\n    final_output_str = f\"[{','.join(list_of_strings)}]\"\n    \n    # Final print statement in the exact required format.\n    print(final_output_str)\n\nsolve()\n```"
        }
    ]
}