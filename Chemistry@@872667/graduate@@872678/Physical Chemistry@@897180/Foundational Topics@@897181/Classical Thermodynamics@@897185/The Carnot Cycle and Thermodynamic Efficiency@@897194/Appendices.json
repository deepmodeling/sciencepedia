{"hands_on_practices": [{"introduction": "We begin by exploring a cornerstone of thermodynamics: the universal nature of the Carnot efficiency. This exercise [@problem_id:2008747] challenges you to demonstrate that the efficiency of a reversible heat engine remains $\\eta = 1 - T_C/T_H$ even when using a non-ideal van der Waals gas as the working substance. This practice underscores that the maximum possible efficiency is a fundamental limit dictated by the Second Law, not by the specific properties of the material undergoing the cycle.", "problem": "A theoretical heat engine is designed to operate using one mole of a non-ideal gas as its working substance. The behavior of this gas is described by the van der Waals equation of state:\n$$\n\\left(P + \\frac{a}{V^2}\\right)(V - b) = RT\n$$\nwhere $P$ is the pressure, $V$ is the molar volume, $T$ is the temperature, $R$ is the universal gas constant, and $a$ and $b$ are positive constants specific to the gas. For this van der Waals gas, the molar heat capacity at constant volume, $C_V$, is assumed to be a constant.\n\nThe engine executes a reversible Carnot cycle between a hot reservoir at a constant temperature $T_H$ and a cold reservoir at a constant temperature $T_C$. The cycle proceeds through the following four stages:\n1.  Isothermal expansion at temperature $T_H$ from an initial volume $V_1$ to a volume $V_2$.\n2.  Adiabatic expansion from volume $V_2$ to a volume $V_3$, during which the temperature drops from $T_H$ to $T_C$.\n3.  Isothermal compression at temperature $T_C$ from volume $V_3$ to a volume $V_4$.\n4.  Adiabatic compression from volume $V_4$ back to the initial state $(T_H, V_1)$.\n\nYour task is to determine the thermodynamic efficiency, $\\eta$, of this engine. The efficiency is defined as the ratio of the net work done by the engine during one full cycle to the heat absorbed from the hot reservoir. Derive an expression for $\\eta$ in terms of only the temperatures $T_H$ and $T_C$.", "solution": "For one mole of a van der Waals gas the equation of state is\n$$\nP=\\frac{R T}{V-b}-\\frac{a}{V^{2}}.\n$$\nFor any simple compressible system, the change in internal energy $dU$ is given by\n$$\ndU=C_{V}\\,dT+\\left[T\\left(\\frac{\\partial P}{\\partial T}\\right)_{V}-P\\right]dV.\n$$\nWith the van der Waals equation, $(\\partial P/\\partial T)_{V}=R/(V-b)$, so the term in the brackets becomes:\n$$\n\\left(\\frac{\\partial U}{\\partial V}\\right)_{T}=T\\frac{R}{V-b}-\\left(\\frac{R T}{V-b}-\\frac{a}{V^{2}}\\right)=\\frac{a}{V^{2}},\n$$\nand therefore the differential of internal energy is\n$$\ndU=C_{V}\\,dT+\\frac{a}{V^{2}}\\,dV.\n$$\n\n**1. Adiabatic Processes (Reversible)**\nFor a reversible adiabatic process, $\\delta Q_{\\text{rev}}=0$. From the first law $\\delta Q=dU+P\\,dV$, we have:\n$$\n0=C_{V}\\,dT+\\frac{a}{V^{2}}\\,dV+P\\,dV=C_{V}\\,dT+\\left(P+\\frac{a}{V^{2}}\\right)dV.\n$$\nUsing the equation of state, $P+\\frac{a}{V^{2}}=\\frac{R T}{V-b}$, we get:\n$$\nC_{V}\\,dT+\\frac{R T}{V-b}\\,dV=0 \\quad\\Rightarrow\\quad \\frac{C_{V}}{T}\\,dT=-\\frac{R}{V-b}\\,dV.\n$$\nIntegrating this gives the relation for a reversible adiabat:\n$$\nC_{V}\\ln T+R\\ln(V-b)=\\text{const}\\quad\\Rightarrow\\quad T\\,(V-b)^{R/C_{V}}=\\text{const}.\n$$\nApplying this to the adiabatic expansion (2→3) and adiabatic compression (4→1):\n$$\nT_{H}(V_{2}-b)^{R/C_{V}}=T_{C}(V_{3}-b)^{R/C_{V}},\\qquad T_{C}(V_{4}-b)^{R/C_{V}}=T_{H}(V_{1}-b)^{R/C_{V}}.\n$$\nDividing these two equations yields:\n$$\n\\left(\\frac{V_{2}-b}{V_{1}-b}\\right)^{R/C_{V}}=\\left(\\frac{V_{3}-b}{V_{4}-b}\\right)^{R/C_{V}}\\quad\\Rightarrow\\quad \\ln\\!\\left(\\frac{V_{2}-b}{V_{1}-b}\\right)=\\ln\\!\\left(\\frac{V_{3}-b}{V_{4}-b}\\right).\n$$\n\n**2. Isothermal Processes**\nAlong an isotherm, $dT=0$. The heat exchanged is $Q=\\int \\delta Q = \\int (dU+P\\,dV)$.\n$$\nQ=\\int\\left(\\left(C_{V}\\,dT+\\frac{a}{V^{2}}\\,dV\\right)+P\\,dV\\right) = \\int\\left(\\frac{a}{V^{2}}+P\\right)dV\n$$\nSubstituting $P$ from the van der Waals equation:\n$$\nQ = \\int \\left(\\frac{a}{V^{2}} + \\frac{R T}{V-b}-\\frac{a}{V^{2}}\\right)dV = \\int \\frac{RT}{V-b} dV = RT \\ln(V-b) \\Big|_{\\text{initial}}^{\\text{final}}\n$$\nHence, the heat absorbed from the hot reservoir and rejected to the cold reservoir are:\n$$\nQ_{H}=R T_{H}\\ln\\!\\left(\\frac{V_{2}-b}{V_{1}-b}\\right)\n$$\n$$\nQ_{C}=R T_{C}\\ln\\!\\left(\\frac{V_{4}-b}{V_{3}-b}\\right)=-R T_{C}\\ln\\!\\left(\\frac{V_{3}-b}{V_{4}-b}\\right)\n$$\n\n**3. Efficiency Calculation**\nUsing the equality of the logarithmic terms derived from the adiabatic relations:\n$$\n\\ln\\!\\left(\\frac{V_{2}-b}{V_{1}-b}\\right)=\\ln\\!\\left(\\frac{V_{3}-b}{V_{4}-b}\\right)\n$$\nwe can relate $Q_C$ and $Q_H$:\n$$\n\\frac{Q_H}{RT_H} = -\\frac{Q_C}{RT_C} \\quad \\implies \\quad Q_{C}=-\\frac{T_{C}}{T_{H}}\\,Q_{H}.\n$$\nThe net work per cycle is $W=Q_{H}+Q_{C}=Q_{H}\\left(1-\\frac{T_{C}}{T_{H}}\\right)$, and the efficiency is:\n$$\n\\eta=\\frac{W}{Q_{H}}=1-\\frac{T_{C}}{T_{H}}.\n$$\nThis result depends only on the reservoir temperatures and is independent of the van der Waals constants $a$, $b$, and the heat capacity $C_{V}$, confirming the universality of the Carnot efficiency.", "answer": "$$\\boxed{1-\\frac{T_{C}}{T_{H}}}$$", "id": "2008747"}, {"introduction": "Classical Carnot analysis often assumes infinite heat reservoirs that maintain constant temperatures. This practice [@problem_id:489246] moves beyond that idealization by considering an engine operating between two identical, finite bodies whose temperatures change as heat is exchanged. Your task is to calculate the total maximum work that can be extracted before the bodies reach thermal equilibrium, a scenario that requires applying entropy conservation to a dynamic system.", "problem": "Consider two identical, finite bodies used as thermal reservoirs for a reversible heat engine. The bodies are initially at different temperatures, $T_H$ and $T_C$, where $T_H > T_C$. A key characteristic of these bodies is that their heat capacity is not constant, but depends on temperature according to the relation $C(T) = \\alpha T^n$, where $\\alpha$ and $n$ are given positive constants.\n\nA reversible heat engine operates by taking a small amount of heat from the hotter body, converting part of it into work, and rejecting the rest to the colder body. This process is repeated, causing the temperature of the hotter body to decrease and the temperature of the colder body to increase. The engine continues to operate until the two bodies reach a common final equilibrium temperature, $T_f$.\n\nAssuming the bodies are thermally isolated from everything except the heat engine, derive an expression for the total maximum work, $W_{max}$, that can be extracted from this system. Your final answer should be expressed in terms of the initial temperatures $T_H$, $T_C$, and the constants $\\alpha$ and $n$.", "solution": "1.  **Find the final temperature $T_f$ using entropy conservation.** For a reversible process, the total entropy change is zero: $\\Delta S_{\\text{hot}} + \\Delta S_{\\text{cold}} = 0$.\n    $$ \\int_{T_H}^{T_f} \\frac{C(T)}{T} dT + \\int_{T_C}^{T_f} \\frac{C(T)}{T} dT = 0 $$\n    $$ \\int_{T_H}^{T_f} \\alpha T^{n-1} dT + \\int_{T_C}^{T_f} \\alpha T^{n-1} dT = 0 $$\n    $$ \\frac{\\alpha}{n}(T_f^n - T_H^n) + \\frac{\\alpha}{n}(T_f^n - T_C^n) = 0 $$\n    $$ 2T_f^n = T_H^n + T_C^n \\implies T_f = \\left( \\frac{T_H^n + T_C^n}{2} \\right)^{1/n} $$\n\n2.  **Find the maximum work $W_{max}$ using energy conservation.** The work extracted is the decrease in total internal energy of the system, $W_{max} = U_i - U_f$. The internal energy is $U(T) = \\int C(T) dT = \\frac{\\alpha}{n+1} T^{n+1}$.\n    *   Initial energy: $U_i = U(T_H) + U(T_C) = \\frac{\\alpha}{n+1}(T_H^{n+1} + T_C^{n+1})$\n    *   Final energy: $U_f = 2 \\cdot U(T_f) = \\frac{2\\alpha}{n+1} T_f^{n+1} = \\frac{2\\alpha}{n+1} \\left(\\frac{T_H^n + T_C^n}{2}\\right)^{\\frac{n+1}{n}}$\n\n    Therefore, the total work extracted is:\n    $$ W_{max} = U_i - U_f = \\frac{\\alpha}{n+1} \\left[ T_H^{n+1} + T_C^{n+1} - 2\\left(\\frac{T_H^n + T_C^n}{2}\\right)^{\\frac{n+1}{n}} \\right] $$", "answer": "$$\\boxed{\\frac{\\alpha}{n+1}\\Bigl[T_H^{n+1}+T_C^{n+1}-2\\Bigl(\\frac{T_H^n+T_C^n}{2}\\Bigr)^{\\frac{n+1}{n}}\\Bigr]}$$", "id": "489246"}, {"introduction": "Our final practice bridges the gap between ideal cycles and real-world performance by modeling an engine with practical limitations. This problem [@problem_id:2671966] introduces irreversibilities arising from finite heat transfer rates and a parasitic heat leak, shifting the focus from maximizing efficiency to optimizing for power output. By calculating the performance of this 'endoreversible' engine, you will explore more realistic benchmarks like the Curzon–Ahlborn efficiency and appreciate the trade-offs inherent in practical engine design.", "problem": "A heat engine operates between two ideal heat reservoirs at absolute temperatures $T_H$ and $T_C$ with $0  T_C  T_H$ (in Kelvin). The working substance executes an internally reversible cyclic process that, when in contact with the hot-side and cold-side thermal interfaces at intermediate temperatures $T_1$ and $T_2$ (both in Kelvin), obeys the reversible heat flux ratio $\\,\\dot{Q}_c/\\dot{Q}_h = T_2/T_1\\,$ as a direct consequence of the Second Law of Thermodynamics. The external thermal contacts are governed by linear heat transfer laws (a consequence of Fourier’s law in the lumped-parameter limit): the hot-side heat rate into the working fluid is $\\dot{Q}_h = K_h (T_H - T_1)$ and the cold-side heat rate leaving the working fluid is $\\dot{Q}_c = K_c (T_2 - T_C)$, where $K_h$ and $K_c$ are strictly positive thermal conductances (in W/K). In parallel with the engine, there is a measured parasitic heat leak (for example, through an unintended conduction path) directly from the hot reservoir to the cold reservoir, $\\dot{Q}_\\ell = K_\\ell (T_H - T_C)$, with $K_\\ell \\ge 0$ (in W/K). The total power output is $\\dot{W} = \\dot{Q}_h - \\dot{Q}_c$, and the device-level efficiency is defined as $\\eta = \\dot{W}/(\\dot{Q}_h + \\dot{Q}_\\ell)$, since the total heat drawn from the hot reservoir is $\\dot{Q}_h + \\dot{Q}_\\ell$.\n\nStarting only from these statements and fundamental laws and definitions (energy conservation, the Second Law for reversible cycles, and linear heat transfer laws), determine the internal contact temperatures $T_1$ and $T_2$ that maximize the power $\\dot{W}$, and from them obtain the maximal power $\\dot{W}^\\star$ (in W) and the corresponding device efficiency $\\eta^\\star$ (dimensionless, express as a decimal). Also compute, for the same reservoir temperatures, the Carnot efficiency $\\eta_{\\text{Carnot}} = 1 - T_C/T_H$ (dimensionless, express as a decimal) and the Curzon–Ahlborn efficiency $\\eta_{\\text{CA}} = 1 - \\sqrt{T_C/T_H}$ (dimensionless, express as a decimal). Finally, quantify the absolute gaps $\\Delta_{\\text{Carnot}} = \\eta_{\\text{Carnot}} - \\eta^\\star$ and $\\Delta_{\\text{CA}} = \\eta_{\\text{CA}} - \\eta^\\star$ (dimensionless, express as decimals). All numerical outputs for efficiencies and gaps must be rounded to six decimal places, and all power values must be rounded to six decimal places in W.\n\nYour program must implement the above model to compute the requested quantities for each of the following parameter sets (test suite), where temperatures are in Kelvin and conductances are in W/K:\n- Case $1$: $(T_H, T_C, K_h, K_c, K_\\ell) = (900, 300, 200, 200, 5)$.\n- Case $2$: $(T_H, T_C, K_h, K_c, K_\\ell) = (600, 580, 100, 100, 1)$.\n- Case $3$: $(T_H, T_C, K_h, K_c, K_\\ell) = (1000, 250, 150, 50, 10)$.\n- Case $4$: $(T_H, T_C, K_h, K_c, K_\\ell) = (500, 300, 80, 80, 100)$.\n\nFor each case, output a list of six values in the following order:\n$[\\dot{W}^\\star\\ \\text{in W},\\ \\eta^\\star,\\ \\eta_{\\text{Carnot}},\\ \\eta_{\\text{CA}},\\ \\Delta_{\\text{Carnot}},\\ \\Delta_{\\text{CA}}]$,\nwith all six entries rounded to six decimal places as specified above.\n\nFinal output format: Your program should produce a single line of output containing a single list whose elements are the per-case lists in the same order as above, for all cases in the test suite. For example, a syntactically valid output has the form $[[a_1,\\dots,a_6],[b_1,\\dots,b_6],\\dots]$, where each symbol denotes a numeric value. Do not print any other text or lines.", "solution": "We begin with two infinite heat reservoirs at temperatures $T_H$ and $T_C$ with $0  T_C  T_H$. The working substance executes an internally reversible cycle with hot-side and cold-side isothermal contacts at $T_1$ and $T_2$ satisfying $T_C  T_2  T_1  T_H$. For an internally reversible cycle in steady operation, the Second Law of Thermodynamics implies the reversible heat exchange ratio $\\dot{Q}_c/\\dot{Q}_h = T_2/T_1$, equivalently $\\eta_{\\text{int}} = 1 - T_2/T_1$, where $\\eta_{\\text{int}}$ is the internal reversible efficiency of the cycle.\n\nThe external heat transfer laws are linear: $\\dot{Q}_h = K_h (T_H - T_1)$ and $\\dot{Q}_c = K_c (T_2 - T_C)$, with $K_h > 0$ and $K_c > 0$. The parasitic heat leak bypassing the engine is $\\dot{Q}_\\ell = K_\\ell (T_H - T_C)$ with $K_\\ell \\ge 0$. The power output of the engine is $\\dot{W} = \\dot{Q}_h - \\dot{Q}_c$. The device-level efficiency uses the total heat extracted from the hot reservoir, namely $\\dot{Q}_h + \\dot{Q}_\\ell$, giving $\\eta = \\dot{W}/(\\dot{Q}_h + \\dot{Q}_\\ell)$.\n\nWe must maximize $\\dot{W}$ over $T_1$ and $T_2$ subject to the internal reversibility constraint $\\dot{Q}_c/\\dot{Q}_h = T_2/T_1$ and the linear heat transfer relations. Substituting the linear laws into the reversibility constraint yields\n$$\n\\frac{K_c (T_2 - T_C)}{K_h (T_H - T_1)} = \\frac{T_2}{T_1}.\n$$\nRearranging gives a single algebraic constraint coupling $T_1$ and $T_2$:\n$$\nK_c (T_2 - T_C) T_1 = K_h (T_H - T_1) T_2.\n$$\nWe aim to eliminate one variable and maximize $\\dot{W} = K_h (T_H - T_1) - K_c (T_2 - T_C)$ with respect to the remaining one. Solving the constraint for $T_2$ as a function of $T_1$ gives\n$$\nT_2(T_1) = \\frac{K_c T_C\\, T_1}{(K_c + K_h) T_1 - K_h T_H}.\n$$\nDefine $D(T_1) = (K_c + K_h) T_1 - K_h T_H$. Then\n$$\n\\dot{W}(T_1) = K_h T_H + K_c T_C - K_h T_1 - K_c\\, T_2(T_1) = K_h T_H + K_c T_C - K_h T_1 - \\frac{K_c^2 T_C\\, T_1}{D(T_1)}.\n$$\nDifferentiating with respect to $T_1$,\n$$\n\\frac{d \\dot{W}}{d T_1} = -K_h - \\frac{d}{dT_1}\\left(\\frac{K_c^2 T_C\\, T_1}{D}\\right) = -K_h - K_c^2 T_C \\frac{D - T_1 (K_c + K_h)}{D^2}.\n$$\nUsing $D - T_1 (K_c + K_h) = - K_h T_H$, this simplifies to\n$$\n\\frac{d \\dot{W}}{d T_1} = -K_h + \\frac{K_c^2 T_C K_h T_H}{D^2}.\n$$\nSetting $d\\dot{W}/dT_1 = 0$ yields the maximum-power stationarity condition\n$$\nD^2 = K_c^2\\, T_C\\, T_H.\n$$\nSince $T_2 > 0$ requires $D > 0$, we select the positive root, $D^\\star = K_c \\sqrt{T_C T_H}$. Solving $D^\\star = (K_c + K_h) T_1^\\star - K_h T_H$ gives\n$$\nT_1^\\star = \\frac{K_h T_H + K_c \\sqrt{T_C T_H}}{K_c + K_h}.\n$$\nSubstituting into $T_2(T_1)$ produces\n$$\nT_2^\\star = \\frac{K_c T_C\\, T_1^\\star}{D^\\star} = T_1^\\star \\sqrt{\\frac{T_C}{T_H}}.\n$$\nFrom $\\dot{Q}_h^\\star = K_h (T_H - T_1^\\star)$ and the reversible flux ratio,\n$$\n\\frac{\\dot{Q}_c^\\star}{\\dot{Q}_h^\\star} = \\frac{T_2^\\star}{T_1^\\star} = \\sqrt{\\frac{T_C}{T_H}},\n$$\nwe obtain a compact expression for the optimal heat input rate\n$$\n\\dot{Q}_h^\\star = \\frac{K_h K_c}{K_h + K_c}\\, T_H \\left(1 - \\sqrt{\\frac{T_C}{T_H}}\\right),\n$$\nand hence the maximum power\n$$\n\\dot{W}^\\star = \\dot{Q}_h^\\star \\left(1 - \\sqrt{\\frac{T_C}{T_H}}\\right) = \\frac{K_h K_c}{K_h + K_c}\\, T_H \\left(1 - \\sqrt{\\frac{T_C}{T_H}}\\right)^2.\n$$\nDefine the effective series conductance $G = \\frac{K_h K_c}{K_h + K_c}$. Then the above reads $\\dot{Q}_h^\\star = G\\, T_H \\left(1 - \\sqrt{T_C/T_H}\\right)$ and $\\dot{W}^\\star = G\\, T_H \\left(1 - \\sqrt{T_C/T_H}\\right)^2$. The parasitic heat leak is independent of the internal contact temperatures, $\\dot{Q}_\\ell = K_\\ell (T_H - T_C)$, and therefore does not affect the maximization with respect to $T_1$ and $T_2$. However, it contributes to the total heat extracted from the hot reservoir and thus reduces the device-level efficiency at the chosen operating point. The device efficiency at maximum power is\n$$\n\\eta^\\star = \\frac{\\dot{W}^\\star}{\\dot{Q}_h^\\star + \\dot{Q}_\\ell} = \\frac{G\\, T_H \\left(1 - \\sqrt{T_C/T_H}\\right)^2}{G\\, T_H \\left(1 - \\sqrt{T_C/T_H}\\right) + K_\\ell (T_H - T_C)}.\n$$\nFor comparison benchmarks, the Carnot efficiency (from the Second Law upper bound for any engine between the given reservoirs) is\n$$\n\\eta_{\\text{Carnot}} = 1 - \\frac{T_C}{T_H},\n$$\nand the Curzon–Ahlborn efficiency (the maximum-power efficiency of a symmetric endoreversible engine with purely external linear heat transfer irreversibilities and no parasitic leak) is\n$$\n\\eta_{\\text{CA}} = 1 - \\sqrt{\\frac{T_C}{T_H}}.\n$$\nThe absolute gaps to these benchmarks are then\n$$\n\\Delta_{\\text{Carnot}} = \\eta_{\\text{Carnot}} - \\eta^\\star, \\quad \\Delta_{\\text{CA}} = \\eta_{\\text{CA}} - \\eta^\\star.\n$$\n\nAlgorithmic implementation steps for each test case $(T_H, T_C, K_h, K_c, K_\\ell)$:\n1. Compute $\\tau = T_C/T_H$ and $\\sqrt{\\tau} = \\sqrt{T_C/T_H}$.\n2. Compute $G = (K_h K_c)/(K_h + K_c)$.\n3. Compute $\\dot{W}^\\star = G\\, T_H\\, (1 - \\sqrt{\\tau})^2$.\n4. Compute $\\dot{Q}_h^\\star = G\\, T_H\\, (1 - \\sqrt{\\tau})$.\n5. Compute $\\dot{Q}_\\ell = K_\\ell (T_H - T_C)$.\n6. Compute $\\eta^\\star = \\dot{W}^\\star / (\\dot{Q}_h^\\star + \\dot{Q}_\\ell)$.\n7. Compute $\\eta_{\\text{Carnot}} = 1 - \\tau$ and $\\eta_{\\text{CA}} = 1 - \\sqrt{\\tau}$.\n8. Compute $\\Delta_{\\text{Carnot}} = \\eta_{\\text{Carnot}} - \\eta^\\star$ and $\\Delta_{\\text{CA}} = \\eta_{\\text{CA}} - \\eta^\\star$.\n9. Round all six outputs to six decimal places, with power in W and the rest dimensionless decimals, and return them in the prescribed order.\n\nBehavior in edge cases is physically sensible: as $K_\\ell \\to 0$, $\\eta^\\star \\to 1 - \\sqrt{T_C/T_H}$, recovering the Curzon–Ahlborn benchmark; as $K_\\ell$ becomes large, $\\eta^\\star$ decreases toward zero while $\\dot{W}^\\star$ remains fixed (the internal operating point is unaffected by the leak since $\\dot{Q}_\\ell$ does not depend on $T_1$ or $T_2$). As $T_C \\to T_H$, both $\\dot{W}^\\star$ and the benchmark efficiencies vanish consistently with the vanishing thermodynamic force.", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef compute_case(T_H, T_C, K_h, K_c, K_leak):\n    # Ensure inputs are floats\n    T_H = float(T_H)\n    T_C = float(T_C)\n    K_h = float(K_h)\n    K_c = float(K_c)\n    K_leak = float(K_leak)\n\n    # Derived quantities\n    tau = T_C / T_H\n    sqrt_tau = np.sqrt(tau)\n    # Effective series conductance\n    G = (K_h * K_c) / (K_h + K_c)\n\n    # Optimal power and related heat rates (W)\n    W_opt = G * T_H * (1.0 - sqrt_tau) ** 2\n    Qh_opt = G * T_H * (1.0 - sqrt_tau)\n    Q_leak = K_leak * (T_H - T_C)\n\n    # Efficiencies (dimensionless)\n    eta_opt = W_opt / (Qh_opt + Q_leak) if (Qh_opt + Q_leak) != 0.0 else 0.0\n    eta_carnot = 1.0 - tau\n    eta_ca = 1.0 - sqrt_tau\n\n    # Gaps (dimensionless)\n    gap_carnot = eta_carnot - eta_opt\n    gap_ca = eta_ca - eta_opt\n\n    # Round to six decimals as required\n    def r6(x):\n        return float(f\"{x:.6f}\")\n\n    return [r6(W_opt), r6(eta_opt), r6(eta_carnot), r6(eta_ca), r6(gap_carnot), r6(gap_ca)]\n\ndef solve():\n    # Define the test cases from the problem statement.\n    # Each case: (T_H [K], T_C [K], K_h [W/K], K_c [W/K], K_leak [W/K])\n    test_cases = [\n        (900, 300, 200, 200, 5),\n        (600, 580, 100, 100, 1),\n        (1000, 250, 150, 50, 10),\n        (500, 300, 80, 80, 100),\n    ]\n\n    results = []\n    for case in test_cases:\n        T_H, T_C, K_h, K_c, K_leak = case\n        result = compute_case(T_H, T_C, K_h, K_c, K_leak)\n        results.append(result)\n\n    # Build the exact required single-line output format: list of lists with numeric literals\n    # Each number printed with six decimals\n    def fmt_list(lst):\n        # lst is a list of floats already rounded to 6 decimals\n        return \"[\" + \",\".join(f\"{x:.6f}\" for x in lst) + \"]\"\n\n    output = \"[\" + \",\".join(fmt_list(r) for r in results) + \"]\"\n    print(output)\n\nsolve()\n```", "id": "2671966"}]}