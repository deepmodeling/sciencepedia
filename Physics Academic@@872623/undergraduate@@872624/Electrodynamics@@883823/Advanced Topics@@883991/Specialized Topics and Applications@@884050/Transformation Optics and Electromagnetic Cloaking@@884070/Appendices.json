{"hands_on_practices": [{"introduction": "This first exercise provides a gentle introduction to the core mathematical machinery of transformation optics. We will explore how a simple, hypothetical 'spatial expander' can be realized by calculating the necessary anisotropic material properties. This practice demonstrates the fundamental link between a coordinate transformation and the effective permittivity and permeability tensors that a metamaterial must exhibit [@problem_id:1628331].", "problem": "An engineer is designing a science-fiction-inspired \"spatial expander\" device using metamaterials. The goal is to create a region of space that, to an electromagnetic wave passing through it, appears to be stretched along one dimension. The \"virtual\" coordinates are $(x, y, z)$, while the physical coordinates of the device are $(x', y', z')$. The desired effect is described by the linear coordinate transformation from virtual to physical space:\n$$ x' = 2x $$\n$$ y' = y $$\n$$ z' = z $$\nAssume the device is constructed in a region that was initially a vacuum. In transformation optics, this corresponds to a virtual space with permittivity $\\epsilon_0$ and permeability $\\mu_0$. The principle of transformation optics states that such a coordinate transformation is equivalent to filling the physical space with a material of specific effective permittivity and permeability. The required effective permittivity tensor $\\epsilon'$ and permeability tensor $\\mu'$ are given by:\n$$ \\epsilon' = \\frac{\\Lambda \\epsilon \\Lambda^T}{\\det(\\Lambda)} \\quad \\text{and} \\quad \\mu' = \\frac{\\Lambda \\mu \\Lambda^T}{\\det(\\Lambda)} $$\nHere, $\\Lambda$ is the Jacobian matrix of the transformation from virtual to physical coordinates, with elements $\\Lambda_{ij} = \\frac{\\partial x'_i}{\\partial x_j}$, and $\\epsilon = \\epsilon_0 \\mathbb{I}$ and $\\mu = \\mu_0 \\mathbb{I}$ are the tensor properties of the vacuum, where $\\mathbb{I}$ is the 3x3 identity matrix.\n\nDetermine the three diagonal components of the relative permittivity tensor, $\\epsilon'_{r} = \\epsilon'/\\epsilon_0$, that are required to produce this spatial expansion effect. The resulting permittivity tensor, $\\epsilon'$, is known to be diagonal for this transformation. Express your answer as the three numerical values corresponding to the diagonal elements $(\\epsilon'_{r,xx}, \\epsilon'_{r,yy}, \\epsilon'_{r,zz})$.", "solution": "The coordinate transformation from virtual $(x,y,z)$ to physical $(x',y',z')$ coordinates is specified as $x' = 2x$, $y' = y$, $z' = z$. The Jacobian matrix has components $\\Lambda_{ij} = \\partial x'_{i} / \\partial x_{j}$, hence\n$$\n\\Lambda = \\begin{pmatrix}\n2  0  0 \\\\\n0  1  0 \\\\\n0  0  1\n\\end{pmatrix}, \\quad \\det(\\Lambda) = 2.\n$$\nIn the virtual space (vacuum), $\\epsilon = \\epsilon_{0}\\mathbb{I}$ and $\\mu = \\mu_{0}\\mathbb{I}$. By transformation optics, the effective permittivity in the physical space is\n$$\n\\epsilon' = \\frac{\\Lambda \\epsilon \\Lambda^{T}}{\\det(\\Lambda)} = \\frac{\\epsilon_{0}\\,\\Lambda \\Lambda^{T}}{\\det(\\Lambda)}.\n$$\nTherefore, the relative permittivity tensor is\n$$\n\\epsilon'_{r} = \\frac{\\epsilon'}{\\epsilon_{0}} = \\frac{\\Lambda \\Lambda^{T}}{\\det(\\Lambda)}.\n$$\nSince $\\Lambda$ is diagonal and symmetric, $\\Lambda \\Lambda^{T} = \\Lambda^{2} = \\operatorname{diag}(4,1,1)$. Dividing by $\\det(\\Lambda)=2$ gives\n$$\n\\epsilon'_{r} = \\operatorname{diag}\\!\\left( \\frac{4}{2}, \\frac{1}{2}, \\frac{1}{2} \\right) = \\operatorname{diag}\\!\\left( 2, \\frac{1}{2}, \\frac{1}{2} \\right).\n$$\nThus, the diagonal components are $(\\epsilon'_{r,xx}, \\epsilon'_{r,yy}, \\epsilon'_{r,zz}) = \\left(2, \\frac{1}{2}, \\frac{1}{2}\\right)$.", "answer": "$$\\boxed{(2, 1/2, 1/2)}$$", "id": "1628331"}, {"introduction": "Building on the basic principles, we now tackle one of the most celebrated applications of transformation optics: the spherical invisibility cloak. This problem guides you through determining the material parameters required to bend light around a hidden region, rendering it invisible. This exercise is crucial for understanding how to apply the theory to create complex, functional devices with spatially varying and anisotropic properties [@problem_id:1628314].", "problem": "An advanced application of Maxwell's equations is the concept of transformation optics, which allows for the design of exotic electromagnetic devices such as invisibility cloaks. The principle relies on designing a metamaterial that mimics a coordinate transformation, effectively steering light around a hidden region.\n\nConsider the design of a spherical cloaking shell that makes a concentric spherical object of radius $R_1$ invisible to external observers. The cloaking material occupies the physical region defined by $R_1 \\le r' \\le R_2$ in a spherical coordinate system $(r', \\theta', \\phi')$. This is achieved by creating a material that emulates a coordinate transformation from a \"virtual\" space, described by coordinates $(r, \\theta, \\phi)$, to the \"physical\" space.\n\nThe specific transformation compresses the entire virtual space region $0 \\le r \\le R_2$ into the physical space region of the cloaking shell, $R_1 \\le r' \\le R_2$. The mapping is given by:\n$$r' = \\frac{R_2 - R_1}{R_2} r + R_1$$\n$$\\theta' = \\theta$$\n$$\\phi' = \\phi$$\nThe region $0 \\le r  R_1$ in the virtual space is effectively mapped to the single point $r' = R_1$, thus hiding anything placed inside the sphere of radius $R_1$ in physical space.\n\nIt can be shown that if the virtual space is a vacuum (with relative permittivity $\\epsilon_r=1$ and relative permeability $\\mu_r=1$), the required properties of the cloaking material can be described by anisotropic relative permittivity and permeability tensors, $\\boldsymbol{\\epsilon}'_r$ and $\\boldsymbol{\\mu}'_r$. When expressed in a Cartesian basis, these tensors are given by the formula:\n$$\\boldsymbol{\\epsilon}'_r = \\boldsymbol{\\mu}'_r = \\det(\\mathbf{J}) (\\mathbf{J}^T \\mathbf{J})^{-1}$$\nwhere $\\mathbf{J}$ is the Jacobian matrix of the coordinate transformation from the physical Cartesian coordinates $(x', y', z')$ to the virtual Cartesian coordinates $(x, y, z)$, with elements $J_{ij} = \\frac{\\partial x_i}{\\partial x'_j}$.\n\nFor this spherically symmetric transformation, the resulting tensors, when expressed in the physical spherical coordinate basis $(r', \\theta', \\phi')$, are diagonal. Your task is to determine the value of the radial component of the relative permittivity tensor, $\\epsilon'_{r'r'}$, at the radial midpoint of the cloaking shell, i.e., at the physical radius $r' = \\frac{R_1 + R_2}{2}$.\n\nExpress your answer as a symbolic expression in terms of $R_1$ and $R_2$.", "solution": "We begin with the given radial mapping from virtual to physical spherical coordinates:\n$$\nr' = a\\,r + R_{1}, \\quad \\theta'=\\theta,\\quad \\phi'=\\phi,\\quad \\text{with}\\quad a=\\frac{R_{2}-R_{1}}{R_{2}}.\n$$\nThe inverse relation needed below is\n$$\nr=\\frac{r'-R_{1}}{a}.\n$$\nIn transformation optics, for a vacuum virtual space and the given convention\n$$\n\\boldsymbol{\\epsilon}'_{r}=\\boldsymbol{\\mu}'_{r}=\\det(\\mathbf{J})\\left(\\mathbf{J}^{T}\\mathbf{J}\\right)^{-1},\\quad \\mathbf{J}=\\frac{\\partial \\mathbf{x}}{\\partial \\mathbf{x}'},\n$$\nthe tensors are diagonal in the physical spherical orthonormal basis due to spherical symmetry. To evaluate the diagonal components, it is convenient to use the local principal stretches from virtual to physical space along the orthonormal spherical directions. The virtual line elements are\n$$\n\\mathrm{d}\\ell_{r}= \\mathrm{d}r,\\qquad \\mathrm{d}\\ell_{\\theta}= r\\,\\mathrm{d}\\theta,\\qquad \\mathrm{d}\\ell_{\\phi}= r\\sin\\theta\\,\\mathrm{d}\\phi,\n$$\nand the physical line elements (using $r' = a r + R_{1}$, $\\theta'=\\theta$, $\\phi'=\\phi$) are\n$$\n\\mathrm{d}\\ell'_{r}= \\mathrm{d}r' = a\\,\\mathrm{d}r,\\qquad \\mathrm{d}\\ell'_{\\theta}= r'\\,\\mathrm{d}\\theta,\\qquad \\mathrm{d}\\ell'_{\\phi}= r'\\sin\\theta\\,\\mathrm{d}\\phi.\n$$\nTherefore, the principal stretch factors from virtual to physical are\n$$\ns_{r}=\\frac{\\mathrm{d}\\ell'_{r}}{\\mathrm{d}\\ell_{r}}=a,\\qquad s_{\\theta}=\\frac{\\mathrm{d}\\ell'_{\\theta}}{\\mathrm{d}\\ell_{\\theta}}=\\frac{r'}{r},\\qquad s_{\\phi}=\\frac{\\mathrm{d}\\ell'_{\\phi}}{\\mathrm{d}\\ell_{\\phi}}=\\frac{r'}{r}.\n$$\nUsing $r=\\frac{r'-R_{1}}{a}$, we obtain\n$$\ns_{\\theta}=s_{\\phi}=\\frac{r'}{r}= \\frac{a\\,r'}{r'-R_{1}}.\n$$\nSince $\\mathbf{J}=\\partial \\mathbf{x}/\\partial \\mathbf{x}'$ is the Jacobian from physical to virtual space, its diagonal entries in the orthonormal principal basis are $1/s_{i}$. Hence\n$$\n\\mathbf{J}=\\operatorname{diag}\\!\\left(\\frac{1}{s_{r}},\\frac{1}{s_{\\theta}},\\frac{1}{s_{\\phi}}\\right),\\quad\n\\det(\\mathbf{J})=\\frac{1}{s_{r}s_{\\theta}s_{\\phi}},\\quad\n\\left(\\mathbf{J}^{T}\\mathbf{J}\\right)^{-1}=\\operatorname{diag}\\!\\left(s_{r}^{2},s_{\\theta}^{2},s_{\\phi}^{2}\\right).\n$$\nTherefore, the diagonal components of $\\boldsymbol{\\epsilon}'_{r}$ (and $\\boldsymbol{\\mu}'_{r}$) in the physical spherical orthonormal basis are\n$$\n\\epsilon'_{ii}=\\mu'_{ii}=\\det(\\mathbf{J})\\left(\\mathbf{J}^{T}\\mathbf{J}\\right)^{-1}_{ii}=\\frac{s_{i}^{2}}{s_{r}s_{\\theta}s_{\\phi}}.\n$$\nIn particular, the radial component is\n$$\n\\epsilon'_{r'r'}=\\frac{s_{r}^{2}}{s_{r}s_{\\theta}s_{\\phi}}=\\frac{s_{r}}{s_{\\theta}s_{\\phi}}=\\frac{a}{\\left(\\frac{a\\,r'}{r'-R_{1}}\\right)\\left(\\frac{a\\,r'}{r'-R_{1}}\\right)}=\\frac{(r'-R_{1})^{2}}{a\\,r'^{2}}.\n$$\nSince $a=\\frac{R_{2}-R_{1}}{R_{2}}$, this becomes\n$$\n\\epsilon'_{r'r'}(r')=\\frac{R_{2}}{R_{2}-R_{1}}\\cdot\\frac{(r'-R_{1})^{2}}{r'^{2}}.\n$$\nAt the radial midpoint $r'=\\frac{R_{1}+R_{2}}{2}$, we have $r'-R_{1}=\\frac{R_{2}-R_{1}}{2}$ and $r'=\\frac{R_{1}+R_{2}}{2}$, so\n$$\n\\frac{(r'-R_{1})^{2}}{r'^{2}}=\\frac{\\left(\\frac{R_{2}-R_{1}}{2}\\right)^{2}}{\\left(\\frac{R_{1}+R_{2}}{2}\\right)^{2}}=\\frac{(R_{2}-R_{1})^{2}}{(R_{1}+R_{2})^{2}}.\n$$\nThus,\n$$\n\\epsilon'_{r'r'}\\bigg|_{r'=(R_{1}+R_{2})/2}= \\frac{R_{2}}{R_{2}-R_{1}}\\cdot \\frac{(R_{2}-R_{1})^{2}}{(R_{1}+R_{2})^{2}}=\\frac{R_{2}\\,(R_{2}-R_{1})}{(R_{1}+R_{2})^{2}}.\n$$", "answer": "$$\\boxed{\\frac{R_{2}\\left(R_{2}-R_{1}\\right)}{\\left(R_{1}+R_{2}\\right)^{2}}}$$", "id": "1628314"}, {"introduction": "An ideal cloaking device requires precise control over both permittivity and permeability, which can be technologically challenging. This final practice explores the realistic scenario of an 'imperfect' cloak where the magnetic properties are not correctly implemented. By calculating the resulting reflection, you will gain insight into the critical role of wave impedance matching and the practical limitations of transformation optics designs [@problem_id:1628302].", "problem": "Transformation optics provides a framework for designing devices that can manipulate electromagnetic waves in novel ways. One of its most famous applications is the concept of an invisibility cloak. A cylindrical cloaking device can be designed to guide light around a central region, making any object within that region invisible to an outside observer. This is achieved by creating a material with specific, spatially varying, and anisotropic permittivity and permeability.\n\nConsider a cylindrical cloak designed to hide a region of radius $a$. The cloak itself occupies the annular shell between radius $a$ and radius $b$, where $ba$. Such a cloak is designed to work for Transverse Electric (TE) waves, where the electric field is polarized parallel to the cylinder's axis (the $z$-axis). In the physical space of the cloak (where the radial coordinate is $r'$), a perfect cloak would require the following material properties for the tangential magnetic permeability and axial electric permittivity:\n$$ \\mu'_{\\theta}(r') = \\frac{r'}{r'-a} \\mu_0 $$\n$$ \\epsilon'_{z}(r') = \\left(\\frac{b}{b-a}\\right)^{2} \\frac{r'-a}{r'} \\epsilon_0 $$\nwhere $\\epsilon_0$ and $\\mu_0$ are the permittivity and permeability of free space.\n\nAn engineer attempts to build such a device. They successfully fabricate a material with the correct spatially varying anisotropic permittivity, $\\epsilon'_{z}(r')$, as specified above. However, due to technological limitations, they are unable to implement the required magnetic properties. Instead, the permeability inside the entire cloaking shell ($a  r'  b$) is simply the isotropic permeability of free space, i.e., $\\mu' = \\mu_0$.\n\nConsider a high-frequency TE plane wave, with its electric field polarized along the z-axis, propagating through free space and normally incident on the outer boundary of this imperfect cloak at $r'=b$. Calculate the amplitude reflection coefficient, $\\Gamma$, experienced by the wave at this boundary. Express your answer as a symbolic expression in terms of the inner radius $a$ and outer radius $b$.", "solution": "We treat the high-frequency, normally incident TE plane wave at the outer boundary as a locally planar problem with propagation normal to the boundary (radial direction). For TE polarization with electric field along the $z$-axis and propagation along the radial direction, the relevant tangential field components at the interface are $E_{z}$ and $H_{\\theta}$.\n\nConsider a 1D variation along a coordinate $x$ identified with the radial coordinate near $r'=b$, with fields $E=\\hat{z}E_{z}(x)$ and $H=\\hat{\\theta}H_{\\theta}(x)$. Using time-harmonic fields with angular frequency $\\omega$, Maxwellâ€™s equations are\n$$\n\\nabla \\times E = - i \\omega \\mu \\cdot H, \\qquad \\nabla \\times H = i \\omega \\epsilon \\cdot E.\n$$\nFor the stated field components and 1D dependence, these reduce to\n$$\n\\frac{\\partial E_{z}}{\\partial x} = i \\omega \\mu_{\\theta} H_{\\theta}, \\qquad \\frac{\\partial H_{\\theta}}{\\partial x} = i \\omega \\epsilon_{z} E_{z}.\n$$\nAssuming a plane-wave dependence $\\exp(i k x)$, we obtain\n$$\ni k E_{z} = i \\omega \\mu_{\\theta} H_{\\theta}, \\qquad i k H_{\\theta} = i \\omega \\epsilon_{z} E_{z}.\n$$\nEliminating $k$ shows $k^{2} = \\omega^{2} \\mu_{\\theta} \\epsilon_{z}$, and the wave impedance for this TE polarization is\n$$\nZ \\equiv \\frac{E_{z}}{H_{\\theta}} = \\frac{\\omega \\mu_{\\theta}}{k} = \\sqrt{\\frac{\\mu_{\\theta}}{\\epsilon_{z}}}.\n$$\n\nAt the outer boundary $r'=b$, the exterior medium is free space with impedance $Z_{0}=\\sqrt{\\mu_{0}/\\epsilon_{0}}$. Inside the imperfect cloak, the engineer implemented $\\mu'=\\mu_{0}$ isotropically, so at $r'=b$ we have $\\mu_{\\theta}(b)=\\mu_{0}$, while the axial permittivity is as designed:\n$$\n\\epsilon'_{z}(r') = \\left(\\frac{b}{b-a}\\right)^{2} \\frac{r'-a}{r'} \\epsilon_{0} \\;\\;\\Rightarrow\\;\\; \\epsilon_{z}(b) = \\left(\\frac{b}{b-a}\\right)^{2} \\frac{b-a}{b} \\epsilon_0 = \\frac{b}{b-a}\\,\\epsilon_{0}.\n$$\nHence the TE impedance just inside the cloak at $r'=b$ is\n$$\nZ_{2} = \\sqrt{\\frac{\\mu_{\\theta}(b)}{\\epsilon_{z}(b)}} = \\sqrt{\\frac{\\mu_{0}}{\\left(\\frac{b}{b-a}\\right)\\epsilon_{0}}} = Z_{0}\\sqrt{\\frac{b-a}{b}}.\n$$\n\nThe amplitude reflection coefficient for normal incidence from medium 1 (free space, impedance $Z_1=Z_0$) to medium 2 (cloak, impedance $Z_2$) is\n$$\n\\Gamma = \\frac{Z_{2}-Z_{1}}{Z_{2}+Z_{1}} = \\frac{Z_{0}\\sqrt{\\frac{b-a}{b}} - Z_{0}}{Z_{0}\\sqrt{\\frac{b-a}{b}} + Z_{0}} = \\frac{\\sqrt{\\frac{b-a}{b}} - 1}{\\sqrt{\\frac{b-a}{b}} + 1}.\n$$\nThis expression depends only on the geometric ratio $a/b$ and shows that the imperfect cloak produces a nonzero reflection at the outer boundary; for the ideal cloak (with $\\mu_{\\theta}(b)=\\frac{b}{b-a}\\mu_{0}$), one would have $Z_{2}=Z_{0}$ and $\\Gamma=0$.", "answer": "$$\\boxed{\\frac{\\sqrt{\\frac{b-a}{b}}-1}{\\sqrt{\\frac{b-a}{b}}+1}}$$", "id": "1628302"}]}