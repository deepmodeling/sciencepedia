{"hands_on_practices": [{"introduction": "A crucial and often counter-intuitive property of 3D rotations is their non-commutativityâ€”the final orientation depends on the order of rotations. This exercise provides a direct mathematical proof of this principle by comparing the results of two different rotation sequences. Understanding this concept is fundamental to appreciating why standardized conventions like Euler angles are essential for describing orientation unambiguously. [@problem_id:1509856]", "problem": "In the field of robotics, the precise orientation of an end-effector is achieved through a sequence of rotations. The final orientation is critically dependent on the order in which these rotations are applied.\n\nConsider a scenario where a robotic arm's end-effector is initially oriented such that its local coordinate system $(x', y', z')$ is perfectly aligned with the fixed laboratory coordinate system $(x, y, z)$. A control system can perform rotations about the fixed lab axes. The standard matrices for positive (counter-clockwise) rotations by an angle $\\theta$ about the $y$-axis and $z$-axis are given by:\n$$R_y(\\theta) = \\begin{pmatrix} \\cos\\theta  0  \\sin\\theta \\\\ 0  1  0 \\\\ -\\sin\\theta  0  \\cos\\theta \\end{pmatrix}$$\n$$R_z(\\theta) = \\begin{pmatrix} \\cos\\theta  -\\sin\\theta  0 \\\\ \\sin\\theta  \\cos\\theta  0 \\\\ 0  0  1 \\end{pmatrix}$$\n\nTwo different control procedures are proposed to re-orient the end-effector:\n\n**Procedure 1**: First, a rotation by an angle $\\alpha$ about the fixed $z$-axis, followed by a rotation by an angle $\\beta$ about the fixed $y$-axis. The resulting total rotation matrix is denoted by $R_1$.\n\n**Procedure 2**: First, a rotation by an angle $\\beta$ about the fixed $y$-axis, followed by a rotation by an angle $\\alpha$ about the fixed $z$-axis. The resulting total rotation matrix is denoted by $R_2$.\n\nTo quantify the discrepancy between the final orientations produced by these two procedures, a difference matrix $\\Delta R = R_1 - R_2$ is defined. Determine the element $(\\Delta R)_{13}$, which is located in the first row and third column of this difference matrix. Express your answer as a symbolic expression in terms of $\\alpha$ and $\\beta$.", "solution": "We begin with the given standard rotation matrices about the fixed lab axes:\n$$\nR_{y}(\\theta)=\\begin{pmatrix}\n\\cos\\theta  0  \\sin\\theta\\\\\n0  1  0\\\\\n-\\sin\\theta  0  \\cos\\theta\n\\end{pmatrix},\\quad\nR_{z}(\\theta)=\\begin{pmatrix}\n\\cos\\theta  -\\sin\\theta  0\\\\\n\\sin\\theta  \\cos\\theta  0\\\\\n0  0  1\n\\end{pmatrix}.\n$$\nBecause the rotations are about fixed (inertial) axes, the total rotation for sequential rotations is obtained by left-multiplying the matrices in the order applied. Therefore:\n- For Procedure 1 (first about $z$ by $\\alpha$, then about $y$ by $\\beta$), the total rotation is\n$$\nR_{1}=R_{y}(\\beta)R_{z}(\\alpha).\n$$\n- For Procedure 2 (first about $y$ by $\\beta$, then about $z$ by $\\alpha$), the total rotation is\n$$\nR_{2}=R_{z}(\\alpha)R_{y}(\\beta).\n$$\n\nWe compute the $(1,3)$ entry of each product.\n\nFor $R_{1}=R_{y}(\\beta)R_{z}(\\alpha)$, the first row of $R_{y}(\\beta)$ is $\\big(\\cos\\beta,\\;0,\\;\\sin\\beta\\big)$ and the third column of $R_{z}(\\alpha)$ is $\\big(0,\\;0,\\;1\\big)^{T}$, so\n$$\n(R_{1})_{13}=\\cos\\beta\\cdot 0+0\\cdot 0+\\sin\\beta\\cdot 1=\\sin\\beta.\n$$\n\nFor $R_{2}=R_{z}(\\alpha)R_{y}(\\beta)$, the first row of $R_{z}(\\alpha)$ is $\\big(\\cos\\alpha,\\;-\\sin\\alpha,\\;0\\big)$ and the third column of $R_{y}(\\beta)$ is $\\big(\\sin\\beta,\\;0,\\;\\cos\\beta\\big)^{T}$, so\n$$\n(R_{2})_{13}=\\cos\\alpha\\sin\\beta+(-\\sin\\alpha)\\cdot 0+0\\cdot \\cos\\beta=\\cos\\alpha\\,\\sin\\beta.\n$$\n\nThe difference matrix is $\\Delta R=R_{1}-R_{2}$, hence\n$$\n(\\Delta R)_{13}=(R_{1})_{13}-(R_{2})_{13}=\\sin\\beta-\\cos\\alpha\\,\\sin\\beta=\\sin\\beta\\,(1-\\cos\\alpha).\n$$", "answer": "$$\\boxed{\\sin\\beta\\,(1-\\cos\\alpha)}$$", "id": "1509856"}, {"introduction": "Having established that the order of rotations is critical, we now move to a practical application of a defined Euler angle sequence. This exercise simulates the positioning of a sensor on a satellite, a common task in aerospace engineering. You will use the 3-1-3 Euler angle convention to construct the total rotation matrix and transform the sensor's coordinates from its local body frame to the global space frame, reinforcing the core mechanics of applying Euler angles. [@problem_id:2048204]", "problem": "A robotic manipulator on a satellite is used to position a science instrument. The satellite's main structure defines a fixed \"space frame\" $S$ with Cartesian coordinates $(X, Y, Z)$. The instrument itself has a \"body frame\" $B$ with coordinates $(x, y, z)$. Initially, the two frames are perfectly aligned.\n\nThe orientation of the instrument (body frame) relative to the satellite (space frame) is achieved through a sequence of three successive rotations, defined by the 3-1-3 Euler angles $(\\phi, \\theta, \\psi)$:\n1. A rotation by an angle $\\phi$ about the space frame's $Z$-axis.\n2. A rotation by an angle $\\theta$ about the new, intermediate $x'$-axis.\n3. A rotation by an angle $\\psi$ about the final body frame's $z''$-axis.\n\nA sensitive sensor is located on the instrument at a position given by the vector $\\vec{v}_B$ with coordinates $(0, d, 0)$ in the body frame $B$, where $d = 4.5$ m.\n\nThe robotic manipulator orients the instrument to the specific Euler angles $(\\phi, \\theta, \\psi) = (\\frac{\\pi}{2} \\text{ rad}, \\frac{\\pi}{2} \\text{ rad}, 0 \\text{ rad})$.\n\nDetermine the coordinates of the sensor, $(v_X, v_Y, v_Z)$, in the space frame $S$. Express your answer in meters.", "solution": "We seek the coordinates of the sensor vector in the space frame, given its body-frame coordinates $\\vec{v}_{B} = \\begin{pmatrix}0 \\\\ d \\\\ 0\\end{pmatrix}$ with $d=4.5$. For a 3-1-3 Euler sequence as described (about $Z$, then about the intermediate $x'$, then about the final $z''$), the direction cosine matrix mapping body-frame coordinates to space-frame coordinates is\n$$\nC_{SB} = R_{z}(\\phi)\\,R_{x}(\\theta)\\,R_{z}(\\psi),\n$$\nwhere, using the right-hand rule,\n$$\nR_{z}(\\alpha) = \\begin{pmatrix}\n\\cos\\alpha  -\\sin\\alpha  0\\\\\n\\sin\\alpha  \\cos\\alpha  0\\\\\n0  0  1\n\\end{pmatrix},\\qquad\nR_{x}(\\beta) = \\begin{pmatrix}\n1  0  0\\\\\n0  \\cos\\beta  -\\sin\\beta\\\\\n0  \\sin\\beta  \\cos\\beta\n\\end{pmatrix}.\n$$\nWith $(\\phi,\\theta,\\psi)=\\left(\\frac{\\pi}{2},\\frac{\\pi}{2},0\\right)$, we have\n$$\nR_{z}\\!\\left(\\frac{\\pi}{2}\\right) = \\begin{pmatrix}\n0  -1  0\\\\\n1  0  0\\\\\n0  0  1\n\\end{pmatrix},\\quad\nR_{x}\\!\\left(\\frac{\\pi}{2}\\right) = \\begin{pmatrix}\n1  0  0\\\\\n0  0  -1\\\\\n0  1  0\n\\end{pmatrix},\\quad\nR_{z}(0) = \\begin{pmatrix}\n1  0  0\\\\\n0  1  0\\\\\n0  0  1\n\\end{pmatrix}.\n$$\nThe product $R_{x}\\!\\left(\\frac{\\pi}{2}\\right) R_{z}(0)$ is simply $R_{x}\\!\\left(\\frac{\\pi}{2}\\right)$. Thus,\n$$\nC_{SB} = R_{z}\\!\\left(\\frac{\\pi}{2}\\right) R_{x}\\!\\left(\\frac{\\pi}{2}\\right)\n= \\begin{pmatrix}\n0  -1  0\\\\\n1  0  0\\\\\n0  0  1\n\\end{pmatrix}\n\\begin{pmatrix}\n1  0  0\\\\\n0  0  -1\\\\\n0  1  0\n\\end{pmatrix}\n= \\begin{pmatrix}\n0  0  1\\\\\n1  0  0\\\\\n0  1  0\n\\end{pmatrix}.\n$$\nThe sensor coordinates in the space frame are then\n$$\n\\vec{v}_{S} = C_{SB}\\,\\vec{v}_{B}\n= \\begin{pmatrix}\n0  0  1\\\\\n1  0  0\\\\\n0  1  0\n\\end{pmatrix}\n\\begin{pmatrix}\n0\\\\ d\\\\ 0\n\\end{pmatrix}\n=\n\\begin{pmatrix}\n0\\\\ 0\\\\ d\n\\end{pmatrix}.\n$$\nSubstituting $d=4.5$ meters gives $(v_{X},v_{Y},v_{Z})=(0,0,4.5)$ in meters.", "answer": "$$\\boxed{\\begin{pmatrix}0,  0,  4.5\\end{pmatrix}}$$", "id": "2048204"}, {"introduction": "While Euler angles are a powerful tool, they possess mathematical singularities, the most famous of which is \"gimbal lock.\" This practice guides you to the heart of this phenomenon by examining the system's angular velocity at a critical orientation where a degree of rotational freedom is lost. By deriving the effective rotation at this singular point, you will uncover the mathematical reason behind this vital concept in robotics and aerospace. [@problem_id:575880]", "problem": "A rigid body's orientation in 3D space is described using the intrinsic $z-y'-x''$ Euler angle sequence, with angles $(\\phi, \\theta, \\psi)$. The transformation from the body-fixed coordinate system to the space-fixed coordinate system is represented by a rotation matrix $R$. This matrix is constructed as a product of three successive rotations:\n1. A rotation by $\\phi$ about the space-fixed $z$-axis.\n2. A rotation by $\\theta$ about the new intermediate $y'$-axis.\n3. A rotation by $\\psi$ about the final $x''$-axis.\n\nFor this sequence, the total rotation matrix that transforms a vector's components from the body frame to the space frame is given by the product $R(\\phi, \\theta, \\psi) = R_z(\\phi) R_y(\\theta) R_x(\\psi)$, where $R_k(\\alpha)$ denotes the standard rotation matrix about the $k$-axis by an angle $\\alpha$.\n\nThis system exhibits a phenomenon known as gimbal lock when the second angle, $\\theta$, is equal to $\\pi/2$. At this singular configuration, the initial axis of rotation ($z$) and the final axis of rotation ($x''$) become anti-aligned, leading to a loss of one rotational degree of freedom. Consequently, the angular velocity about the space-fixed $z$-axis depends on a combination of $\\dot{\\phi}$ and $\\dot{\\psi}$.\n\nYour task is to determine the effective angle of rotation, $\\alpha_{eff}$, about the space-fixed $z$-axis when the system is at the gimbal lock position $\\theta=\\pi/2$. The rate of change of this effective angle, $\\dot{\\alpha}_{eff}$, must be equal to the component of the total angular velocity vector $\\vec{\\omega}$ along the space-fixed $z$-axis, i.e., $\\dot{\\alpha}_{eff} = \\omega_z$.\n\nDerive the expression for $\\alpha_{eff}$ in terms of the Euler angles $\\phi$ and $\\psi$. Assume the constant of integration is zero.", "solution": "The solution involves deriving the angular velocity vector in the space-fixed frame and then identifying its $z$-component at the gimbal lock condition.\n\n**1. Expressing the Angular Velocity in the Space Frame**\n\nThe total angular velocity $\\vec{\\omega}$ is the sum of the individual angular velocities from the three rotations. When expressed in the space-fixed frame $S$, $\\vec{\\omega}$ is given by:\n$$\n\\vec{\\omega}_S = \\dot{\\phi} \\hat{z}_S + \\dot{\\theta} \\hat{y}'_S + \\dot{\\psi} \\hat{x}''_S\n$$\nwhere $\\hat{z}_S$ is the unit vector along the space $z$-axis, $\\hat{y}'_S$ is the unit vector along the intermediate $y'$-axis expressed in $S$, and $\\hat{x}''_S$ is the unit vector along the final $x''$-axis expressed in $S$.\n\n**2. Determining the Rotation Axes in the Space Frame**\n\nThe axes are found by applying the preceding rotations to the standard basis vectors.\n- The first rotation axis is simply the space $z$-axis:\n$$\n\\hat{z}_S = \\begin{pmatrix} 0 \\\\ 0 \\\\ 1 \\end{pmatrix}\n$$\n- The second rotation axis, $\\hat{y}'$, is obtained by rotating the space $y$-axis by $\\phi$ about the space $z$-axis.\n$$\n\\hat{y}'_S = R_z(\\phi) \\hat{y}_S = \\begin{pmatrix} \\cos\\phi  -\\sin\\phi  0 \\\\ \\sin\\phi  \\cos\\phi  0 \\\\ 0  0  1 \\end{pmatrix} \\begin{pmatrix} 0 \\\\ 1 \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} -\\sin\\phi \\\\ \\cos\\phi \\\\ 0 \\end{pmatrix}\n$$\n- The third rotation axis, $\\hat{x}''$, is obtained by first rotating the space $x$-axis by $\\phi$ about $z$ to get $\\hat{x}'$, and then rotating $\\hat{x}'$ by $\\theta$ about $\\hat{y}'$. This is equivalent to applying the first two rotation matrices to the space $x$-axis vector.\n$$\n\\hat{x}''_S = R_z(\\phi) R_y(\\theta) \\hat{x}_S = \\begin{pmatrix} \\cos\\phi  -\\sin\\phi  0 \\\\ \\sin\\phi  \\cos\\phi  0 \\\\ 0  0  1 \\end{pmatrix} \\begin{pmatrix} \\cos\\theta  0  \\sin\\theta \\\\ 0  1  0 \\\\ -\\sin\\theta  0  \\cos\\theta \\end{pmatrix} \\begin{pmatrix} 1 \\\\ 0 \\\\ 0 \\end{pmatrix}\n$$\n$$\n\\hat{x}''_S = \\begin{pmatrix} \\cos\\phi\\cos\\theta  -\\sin\\phi  \\cos\\phi\\sin\\theta \\\\ \\sin\\phi\\cos\\theta  \\cos\\phi  \\sin\\phi\\sin\\theta \\\\ -\\sin\\theta  0  \\cos\\theta \\end{pmatrix} \\begin{pmatrix} 1 \\\\ 0 \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} \\cos\\phi\\cos\\theta \\\\ \\sin\\phi\\cos\\theta \\\\ -\\sin\\theta \\end{pmatrix}\n$$\n\n**3. Assembling the Angular Velocity Vector**\n\nNow we substitute these axes back into the expression for $\\vec{\\omega}_S$:\n$$\n\\vec{\\omega}_S = \\dot{\\phi} \\begin{pmatrix} 0 \\\\ 0 \\\\ 1 \\end{pmatrix} + \\dot{\\theta} \\begin{pmatrix} -\\sin\\phi \\\\ \\cos\\phi \\\\ 0 \\end{pmatrix} + \\dot{\\psi} \\begin{pmatrix} \\cos\\phi\\cos\\theta \\\\ \\sin\\phi\\cos\\theta \\\\ -\\sin\\theta \\end{pmatrix}\n$$\nCombining the components gives:\n$$\n\\vec{\\omega}_S = \\begin{pmatrix} \\omega_x \\\\ \\omega_y \\\\ \\omega_z \\end{pmatrix} = \\begin{pmatrix} -\\dot{\\theta}\\sin\\phi + \\dot{\\psi}\\cos\\phi\\cos\\theta \\\\ \\dot{\\theta}\\cos\\phi + \\dot{\\psi}\\sin\\phi\\cos\\theta \\\\ \\dot{\\phi} - \\dot{\\psi}\\sin\\theta \\end{pmatrix}\n$$\n\n**4. Applying the Gimbal Lock Condition**\n\nAt the gimbal lock position, $\\theta = \\pi/2$. We have $\\sin(\\pi/2) = 1$ and $\\cos(\\pi/2) = 0$. Substituting these into the expression for $\\vec{\\omega}_S$:\n$$\n\\vec{\\omega}_S(\\theta=\\pi/2) = \\begin{pmatrix} -\\dot{\\theta}\\sin\\phi + \\dot{\\psi}\\cos\\phi(0) \\\\ \\dot{\\theta}\\cos\\phi + \\dot{\\psi}\\sin\\phi(0) \\\\ \\dot{\\phi} - \\dot{\\psi}(1) \\end{pmatrix} = \\begin{pmatrix} -\\dot{\\theta}\\sin\\phi \\\\ \\dot{\\theta}\\cos\\phi \\\\ \\dot{\\phi} - \\dot{\\psi} \\end{pmatrix}\n$$\n\n**5. Deriving the Effective Angle**\n\nThe problem defines the effective angle $\\alpha_{eff}$ such that its rate of change is the $z$-component of the angular velocity in the space frame:\n$$\n\\dot{\\alpha}_{eff} = \\omega_z\n$$\nFrom the result in the previous step, we have:\n$$\n\\omega_z = \\dot{\\phi} - \\dot{\\psi}\n$$\nTherefore:\n$$\n\\frac{d\\alpha_{eff}}{dt} = \\frac{d\\phi}{dt} - \\frac{d\\psi}{dt} = \\frac{d}{dt}(\\phi - \\psi)\n$$\nIntegrating this equation with respect to time yields $\\alpha_{eff}$:\n$$\n\\alpha_{eff} = \\int \\frac{d}{dt}(\\phi - \\psi) dt = \\phi - \\psi + C\n$$\nSetting the constant of integration $C$ to zero as specified in the problem statement, we find the effective angle of rotation about the space $z$-axis.\n$$\n\\alpha_{eff} = \\phi - \\psi\n$$\nThis result shows that at gimbal lock, rotations about the space $z$-axis are controlled by the difference between the first and third Euler angles.", "answer": "$$\n\\boxed{\\phi - \\psi}\n$$", "id": "575880"}]}