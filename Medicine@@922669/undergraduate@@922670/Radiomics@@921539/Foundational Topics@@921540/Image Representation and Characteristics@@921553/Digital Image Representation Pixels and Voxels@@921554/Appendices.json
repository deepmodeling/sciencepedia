{"hands_on_practices": [{"introduction": "The journey from a continuous biological signal to a discrete digital image begins with a critical choice: the size of our voxels. This decision is not arbitrary; it's governed by the fundamental principles of sampling theory. This practice [@problem_id:4536969] challenges you to connect the physical resolution of an imaging system, characterized by its Point Spread Function (PSF), to the digital sampling grid. By applying a practical rule of thumb derived from the Nyquist-Shannon theorem, you will determine an optimal voxel spacing that minimizes artifacts and ensures the stability of subsequent radiomic analyses.", "problem": "An imaging system used in quantitative radiomics is characterized by a Point Spread Function (PSF) that is well-approximated by a Gaussian kernel with full width at half maximum (FWHM) equal to $1.2\\ \\mathrm{mm}$ along each of the three orthogonal axes. You plan to resample reconstructed volumetric data to an isotropic voxel grid before computing texture features such as the Gray-Level Co-occurrence Matrix (GLCM) and wavelet-based metrics. To ensure stability and reproducibility of radiomic features, you wish to choose a voxel spacing that provides $2.5$ samples per FWHM, motivated by the Nyquist–Shannon sampling theorem and the known sensitivity of radiomics to discretization and partial volume effects.\n\nStarting from the following foundational bases:\n\n- The Nyquist–Shannon sampling theorem states that a bandlimited signal with highest frequency $f_{\\max}$ can be exactly reconstructed if sampled at a rate greater than $2 f_{\\max}$, equivalently using a spatial sampling interval $\\Delta$ satisfying $\\Delta < \\frac{1}{2 f_{\\max}}$.\n- The effective spatial resolution of an imaging system is governed by its PSF; for a Gaussian PSF with standard deviation $\\sigma$, the modulation transfer function (MTF) decays as $H(f) = \\exp\\!\\big(-2 \\pi^{2} \\sigma^{2} f^{2}\\big)$, implying rapid attenuation of high spatial frequencies beyond a scale set by $\\sigma$. The FWHM of a Gaussian and $\\sigma$ are related by $\\mathrm{FWHM} = 2 \\sqrt{2 \\ln 2}\\ \\sigma$.\n\nDerive, from these bases and the stated sampling objective of $2.5$ samples per FWHM, the recommended isotropic voxel spacing $\\Delta$ in millimeters for resampling, and justify why this choice promotes radiomics stability by referencing sampling adequacy relative to the system’s resolution and the mitigation of aliasing, discretization, and partial volume artifacts. Round your numerical answer to two significant figures and express the voxel spacing in $\\mathrm{mm}$. The final answer must be a single real-valued number.", "solution": "The problem statement has been critically evaluated and is deemed valid. It is scientifically grounded, well-posed, and contains all necessary information for a unique and meaningful solution. The problem addresses a pertinent issue in quantitative medical imaging, specifically the choice of resampling parameters to ensure the stability of radiomic features.\n\nThe primary objective is to determine the isotropic voxel spacing, denoted as $\\Delta$, for resampling volumetric data. The explicit requirement is that the resampling grid must provide $2.5$ samples per Full Width at Half Maximum (FWHM) of the imaging system's Point Spread Function (PSF).\n\nThe relationship between the number of samples per FWHM, $N_{s}$, the FWHM itself, and the voxel spacing $\\Delta$ is given by:\n$$N_{s} = \\frac{\\mathrm{FWHM}}{\\Delta}$$\nThe problem provides the following values:\n- The desired number of samples per FWHM, $N_{s} = 2.5$.\n- The FWHM of the system's Gaussian PSF, $\\mathrm{FWHM} = 1.2\\ \\mathrm{mm}$.\n\nWe can rearrange the equation to solve for the unknown voxel spacing $\\Delta$:\n$$\\Delta = \\frac{\\mathrm{FWHM}}{N_{s}}$$\nSubstituting the given values into this equation yields:\n$$\\Delta = \\frac{1.2\\ \\mathrm{mm}}{2.5}$$\nPerforming the calculation:\n$$\\Delta = 0.48\\ \\mathrm{mm}$$\nThe problem requires the numerical answer to be rounded to two significant figures. The calculated value of $0.48$ already has exactly two significant figures. Therefore, the recommended isotropic voxel spacing is $\\Delta = 0.48\\ \\mathrm{mm}$.\n\nThe second part of the task is to justify this choice with respect to promoting radiomics stability. This justification rests on three pillars: aliasing, discretization effects, and partial volume effects.\n\n1.  **Sampling Adequacy and Mitigation of Aliasing**:\n    The Nyquist-Shannon sampling theorem mandates a sampling rate greater than twice the maximum frequency ($f_{\\max}$) present in the signal to avoid aliasing. In imaging, the signal's frequency content is limited by the system's PSF. A Gaussian PSF with standard deviation $\\sigma$ has a Gaussian Modulation Transfer Function (MTF) given by $H(f) = \\exp(-2 \\pi^{2} \\sigma^{2} f^{2})$, which demonstrates that high spatial frequencies are rapidly attenuated. The FWHM and $\\sigma$ are related by $\\mathrm{FWHM} = 2\\sqrt{2\\ln 2}\\ \\sigma$.\n    For the given $\\mathrm{FWHM} = 1.2\\ \\mathrm{mm}$, the standard deviation is:\n    $$\\sigma = \\frac{\\mathrm{FWHM}}{2\\sqrt{2\\ln 2}} \\approx \\frac{1.2\\ \\mathrm{mm}}{2.355} \\approx 0.5095\\ \\mathrm{mm}$$\n    Our chosen sampling interval is $\\Delta = 0.48\\ \\mathrm{mm}$. The corresponding Nyquist frequency is the highest frequency that can be unambiguously represented, given by $f_{\\mathrm{Nyquist}} = \\frac{1}{2\\Delta}$.\n    $$f_{\\mathrm{Nyquist}} = \\frac{1}{2 \\times 0.48\\ \\mathrm{mm}} = \\frac{1}{0.96\\ \\mathrm{mm}} \\approx 1.042\\ \\mathrm{cycles/mm}$$\n    At this Nyquist frequency, the MTF has a value of:\n    $$H(f_{\\mathrm{Nyquist}}) = \\exp\\left(-2 \\pi^{2} \\sigma^{2} f_{\\mathrm{Nyquist}}^{2}\\right) \\approx \\exp\\left(-2 \\pi^{2} (0.5095)^{2} (1.042)^{2}\\right) \\approx \\exp(-5.58) \\approx 0.0038$$\n    This means that at the folding frequency determined by our sampling scheme, the signal's amplitude has been attenuated by the imaging system to less than $0.4\\%$ of its zero-frequency value. Any frequencies above $f_{\\mathrm{Nyquist}}$, which could potentially alias into the sampled band, are already almost non-existent in the acquired image. The sampling objective of $2.5$ samples per FWHM is a practical and robust heuristic that ensures significant oversampling relative to the effective bandwidth of the image signal. This aggressive oversampling virtually eliminates the risk of aliasing, a major source of error and instability in quantitative image analysis.\n\n2.  **Mitigation of Discretization Effects**:\n    Radiomic features, especially texture features like the Gray-Level Co-occurrence Matrix (GLCM), quantify spatial relationships between voxel intensities. The calculation of these features is highly sensitive to the grid upon which the image is defined. If the voxel size is too large (coarse discretization), the feature values can become unstable, changing dramatically with minor shifts or rotations of the sampling grid relative to the anatomy. By choosing a voxel spacing $\\Delta = 0.48\\ \\mathrm{mm}$ that is substantially smaller than the scale of the system's resolution limit (FWHM = $1.2\\ \\mathrm{mm}$), we ensure a finer digital representation of the underlying continuous signal. This fine-grained sampling provides a more stable substrate for feature calculation, making the derived radiomic signatures less dependent on the precise position of the resampling grid and thus more reproducible.\n\n3.  **Mitigation of Partial Volume Effects**:\n    The partial volume effect is the averaging of signals from different tissue types within a single voxel. This effect is fundamentally dictated by the system's PSF; structures smaller than the FWHM are inherently blurred. However, the choice of voxel size for resampling can introduce an additional layer of averaging. If the voxel size $\\Delta$ were comparable to or larger than the FWHM, the resampling process itself would become a dominant source of partial volume averaging, further degrading image information. By choosing $\\Delta \\ll \\mathrm{FWHM}$ (in this case, $\\Delta = \\frac{\\mathrm{FWHM}}{2.5}$), we ensure that the voxel grid is fine enough to adequately sample the blur profile of the PSF. This minimizes the additional partial volume artifact introduced by discretization, allowing the radiomic analysis to more accurately reflect the tissue properties as captured by the imaging system, rather than being confounded by artifacts of the digital grid.\n\nIn summary, the derived voxel spacing of $\\Delta = 0.48\\ \\mathrm{mm}$ corresponds to an oversampling strategy that ensures the sampled digital image is a high-fidelity representation of the signal passed by the imaging system. This practice is crucial for promoting the stability and reproducibility of radiomic features by minimizing aliasing, discretization, and partial volume artifacts, which are known to be significant confounding factors in radiomics studies.", "answer": "$$\n\\boxed{0.48}\n$$", "id": "4536969"}, {"introduction": "Once an image is digitized, we analyze it by applying mathematical operators to measure features like texture and edges. However, these operators can produce misleading results at the boundaries of a region. This exercise [@problem_id:4536944] explores the critical impact of 'padding'—the method used to define data beyond an image's edge—on gradient calculation. By comparing mirror-symmetric and zero padding on a simple signal, you will directly compute and see how these choices introduce bias, a crucial lesson for ensuring the robustness of feature extraction in real-world applications.", "problem": "In radiomics, edge and gradient descriptors are extracted from digital images of tissue to quantify boundary sharpness and heterogeneity. Consider a one-dimensional discrete intensity profile along a line passing through an organ boundary in a Computed Tomography (CT) slice, modeled as a ramp signal $f[i] = i$ sampled at integer indices $i \\in \\{0, 1, \\dots, N-1\\}$ with $N \\geq 2$. A first-order gradient estimate is computed by applying the one-dimensional Sobel operator via linear correlation with the kernel $h[-1] = -\\frac{1}{2}$, $h[0] = 0$, $h[1] = \\frac{1}{2}$, namely\n$$\ng[i] = \\sum_{k=-1}^{1} h[k]\\,\\tilde{f}[i+k] = \\frac{\\tilde{f}[i+1] - \\tilde{f}[i-1]}{2},\n$$\nwhere $\\tilde{f}$ denotes a padded extension of $f$ according to a specified boundary condition. Two padding schemes are considered:\n- Mirror-symmetric padding: values beyond the left edge mirror the edge sample, and values beyond the right edge mirror the edge sample, so that $\\tilde{f}[-1] = f[0]$ and $\\tilde{f}[N] = f[N-1]$.\n- Zero padding: values outside the defined index range are set to zero, so that $\\tilde{f}[i] = 0$ for $i < 0$ or $i \\geq N$.\n\nStarting from the definition of discrete correlation above and the padding rules, derive $g[0]$ and $g[N-1]$ under each padding scheme. Define the true derivative of the ramp as $d = 1$, and the pointwise bias at index $i$ under a given padding as $b[i] = g[i] - d$. Compute, for each padding scheme, the mean boundary bias\n$$\n\\bar{b} = \\frac{b[0] + b[N-1]}{2},\n$$\nand then compute the difference in mean boundary bias between zero padding and mirror-symmetric padding,\n$$\n\\Delta \\bar{b} = \\bar{b}_{\\text{zero}} - \\bar{b}_{\\text{mirror}}.\n$$\nExpress your final answer as a single simplified analytic expression in terms of $N$. No rounding is required, and no units are needed.", "solution": "We model the one-dimensional ramp $f[i] = i$ for $i \\in \\{0, 1, \\dots, N-1\\}$, with $N \\geq 2$. The one-dimensional Sobel gradient estimate via correlation with $h[-1] = -\\frac{1}{2}$, $h[0] = 0$, $h[1] = \\frac{1}{2}$ is\n$$\ng[i] = \\sum_{k=-1}^{1} h[k]\\,\\tilde{f}[i+k] = -\\frac{1}{2}\\tilde{f}[i-1] + 0\\cdot \\tilde{f}[i] + \\frac{1}{2}\\tilde{f}[i+1] = \\frac{\\tilde{f}[i+1] - \\tilde{f}[i-1]}{2}.\n$$\nFor interior indices $i$ where $i-1 \\geq 0$ and $i+1 \\leq N-1$, padding is not invoked and $\\tilde{f}[i \\pm 1] = f[i \\pm 1]$. Because $f[i] = i$, the interior estimate is\n$$\ng[i] = \\frac{(i+1) - (i-1)}{2} = \\frac{2}{2} = 1,\n$$\nwhich matches the true derivative $d = 1$. We now focus on the boundaries, where padding affects $\\tilde{f}$.\n\nBoundary at $i = 0$:\n- Mirror-symmetric padding gives $\\tilde{f}[1] = f[1] = 1$ and $\\tilde{f}[-1] = f[0] = 0$. Therefore\n$$\ng_{\\text{mirror}}[0] = \\frac{\\tilde{f}[1] - \\tilde{f}[-1]}{2} = \\frac{1 - 0}{2} = \\frac{1}{2}.\n$$\n- Zero padding gives $\\tilde{f}[1] = f[1] = 1$ and $\\tilde{f}[-1] = 0$. Therefore\n$$\ng_{\\text{zero}}[0] = \\frac{\\tilde{f}[1] - \\tilde{f}[-1]}{2} = \\frac{1 - 0}{2} = \\frac{1}{2}.\n$$\n\nBoundary at $i = N-1$:\n- Mirror-symmetric padding gives $\\tilde{f}[N] = f[N-1] = N-1$ and $\\tilde{f}[N-2] = f[N-2] = N-2$. Therefore\n$$\ng_{\\text{mirror}}[N-1] = \\frac{\\tilde{f}[N] - \\tilde{f}[N-2]}{2} = \\frac{(N-1) - (N-2)}{2} = \\frac{1}{2}.\n$$\n- Zero padding gives $\\tilde{f}[N] = 0$ and $\\tilde{f}[N-2] = f[N-2] = N-2$. Therefore\n$$\ng_{\\text{zero}}[N-1] = \\frac{\\tilde{f}[N] - \\tilde{f}[N-2]}{2} = \\frac{0 - (N-2)}{2} = -\\frac{N-2}{2}.\n$$\n\nWith the true derivative $d = 1$, the pointwise biases $b[i] = g[i] - d$ at the boundary are:\n- Mirror-symmetric padding:\n$$\nb_{\\text{mirror}}[0] = \\frac{1}{2} - 1 = -\\frac{1}{2}, \\quad b_{\\text{mirror}}[N-1] = \\frac{1}{2} - 1 = -\\frac{1}{2}.\n$$\nThus the mean boundary bias for mirror-symmetric padding is\n$$\n\\bar{b}_{\\text{mirror}} = \\frac{b_{\\text{mirror}}[0] + b_{\\text{mirror}}[N-1]}{2} = \\frac{\\left(-\\frac{1}{2}\\right) + \\left(-\\frac{1}{2}\\right)}{2} = -\\frac{1}{2}.\n$$\n- Zero padding:\n$$\nb_{\\text{zero}}[0] = \\frac{1}{2} - 1 = -\\frac{1}{2}, \\quad b_{\\text{zero}}[N-1] = -\\frac{N-2}{2} - 1 = -\\frac{N-2 + 2}{2} = -\\frac{N}{2}.\n$$\nThus the mean boundary bias for zero padding is\n$$\n\\bar{b}_{\\text{zero}} = \\frac{b_{\\text{zero}}[0] + b_{\\text{zero}}[N-1]}{2} = \\frac{\\left(-\\frac{1}{2}\\right) + \\left(-\\frac{N}{2}\\right)}{2} = -\\frac{N+1}{4}.\n$$\n\nThe requested difference in mean boundary bias between zero padding and mirror-symmetric padding is\n$$\n\\Delta \\bar{b} = \\bar{b}_{\\text{zero}} - \\bar{b}_{\\text{mirror}} = \\left(-\\frac{N+1}{4}\\right) - \\left(-\\frac{1}{2}\\right) = -\\frac{N+1}{4} + \\frac{1}{2} = \\frac{1 - N}{4}.\n$$\n\nThis expression shows that, for $N \\geq 2$, zero padding introduces a more negative mean boundary bias than mirror-symmetric padding, and the difference grows linearly in $N$ at a rate of $-\\frac{1}{4}$ per additional sample.", "answer": "$$\\boxed{\\frac{1 - N}{4}}$$", "id": "4536944"}, {"introduction": "In the discrete world of voxels, intuitive geometric concepts like 'connected' or 'a hole' require precise mathematical definitions. The rules we choose for voxel connectivity fundamentally determine the topological properties of the shapes we analyze. This practice [@problem_id:4536950] is a thought experiment designed to sharpen your understanding of these crucial definitions. By analyzing a simple arrangement of two voxel cubes, you will discover how different connectivity rules for an object and its background can lead to non-intuitive, yet rigorously correct, conclusions about the number of objects and holes, providing insight into the foundation of many shape-based radiomic features.", "problem": "In radiomics, features that quantify topology in Three-Dimensional (3D) segmented volumes depend on how digital connectivity is defined for voxels. Consider a binary mask representing a segmented Region of Interest (ROI) on a regular voxel lattice where voxel indices are triples of integers $(i,j,k)\\in\\mathbb{Z}^{3}$. The foreground is the set of voxels belonging to the ROI; the background is the complement. Foreground connectivity is defined by $6$-connectivity (two voxels are adjacent if and only if they share a face). Background connectivity is defined by $26$-connectivity (two background voxels are adjacent if and only if their index difference along each axis is at most $1$ in absolute value). A hole is defined as a bounded connected component of the background under $26$-connectivity that is completely enclosed by the foreground.\n\nThe mask consists of two axis-aligned $2\\times 2\\times 2$ voxel cubes constructed as follows. Let cube $\\mathcal{A}$ be the set of voxels with indices $(i,j,k)$ where $i\\in\\{0,1\\}$, $j\\in\\{0,1\\}$, and $k\\in\\{0,1\\}$, and let cube $\\mathcal{B}$ be the set of voxels with indices $(i,j,k)$ where $i\\in\\{2,3\\}$, $j\\in\\{2,3\\}$, and $k\\in\\{2,3\\}$. The foreground ROI is $\\mathcal{F}=\\mathcal{A}\\cup\\mathcal{B}$. In the geometric embedding where each voxel $(i,j,k)$ is the closed unit cube $[i,i+1]\\times[j,j+1]\\times[k,k+1]$, the sets $\\mathcal{A}$ and $\\mathcal{B}$ have closures that meet at exactly one point, namely $(2,2,2)$, so the cubes “touch at a corner” but do not share a face or an edge.\n\nStarting from the definitions of voxel adjacency and connected components in the digital lattice, and the definition of a hole as a bounded $26$-connected background component enclosed by the foreground, determine the number of foreground connected components and the number of holes for $\\mathcal{F}$ under the stated connectivity conventions. Express your final answer as a pair $(N_{\\text{cc}},N_{\\text{holes}})$, where $N_{\\text{cc}}$ is the number of $6$-connected components in the foreground and $N_{\\text{holes}}$ is the number of holes (bounded $26$-connected background components). No rounding is required, and your answer should be unitless.", "solution": "The problem is validated as self-contained, scientifically grounded, and well-posed. All definitions and data required for a unique solution are provided. The concepts of voxel connectivity and topological features are standard in digital image analysis.\n\nThe problem requires the determination of two quantities for a specified foreground region of interest, $\\mathcal{F}$:\n1.  $N_{\\text{cc}}$, the number of $6$-connected components of the foreground.\n2.  $N_{\\text{holes}}$, the number of bounded $26$-connected components of the background.\n\nThe foreground $\\mathcal{F}$ is defined as the union of two sets of voxels, $\\mathcal{A}$ and $\\mathcal{B}$.\nCube $\\mathcal{A}$ consists of all voxels $(i,j,k)$ such that $i, j, k \\in \\{0, 1\\}$.\nCube $\\mathcal{B}$ consists of all voxels $(i,j,k)$ such that $i, j, k \\in \\{2, 3\\}$.\nThe total foreground is $\\mathcal{F} = \\mathcal{A} \\cup \\mathcal{B}$.\n\n**1. Calculation of the Number of Foreground Connected Components ($N_{\\text{cc}}$)**\n\nForeground connectivity is defined as $6$-connectivity. Two voxels $(i_1, j_1, k_1)$ and $(i_2, j_2, k_2)$ are $6$-adjacent if they share a face, which corresponds to the condition on their integer indices:\n$$|i_1 - i_2| + |j_1 - j_2| + |k_1 - k_2| = 1$$\nA connected component is a maximal set of voxels where any two voxels in the set can be joined by a path of adjacent voxels.\n\nFirst, we analyze connectivity within each cube.\nConsider cube $\\mathcal{A}$. Any two voxels within $\\mathcal{A}$ can be connected by a path of $6$-adjacent voxels that are themselves within $\\mathcal{A}$. For example, to connect $(0,0,0)$ to $(1,1,1)$, a valid path is $(0,0,0) \\to (1,0,0) \\to (1,1,0) \\to (1,1,1)$. All voxels on this path have coordinates in $\\{0,1\\}$ and are thus in $\\mathcal{A}$. Since $\\mathcal{A}$ is a convex set of voxels (a filled cube), it forms a single $6$-connected component.\nSimilarly, cube $\\mathcal{B}$ also forms a single $6$-connected component.\n\nNext, we analyze connectivity between cube $\\mathcal{A}$ and cube $\\mathcal{B}$. Let $v_{\\mathcal{A}} = (i_{\\mathcal{A}}, j_{\\mathcal{A}}, k_{\\mathcal{A}})$ be an arbitrary voxel in $\\mathcal{A}$, so $i_{\\mathcal{A}}, j_{\\mathcal{A}}, k_{\\mathcal{A}} \\in \\{0, 1\\}$. Let $v_{\\mathcal{B}} = (i_{\\mathcal{B}}, j_{\\mathcal{B}}, k_{\\mathcal{B}})$ be an arbitrary voxel in $\\mathcal{B}$, so $i_{\\mathcal{B}}, j_{\\mathcal{B}}, k_{\\mathcal{B}} \\in \\{2, 3\\}$.\n\nFor these two voxels to be $6$-adjacent, their Manhattan distance must be $1$. Let's calculate the minimum possible Manhattan distance between any voxel in $\\mathcal{A}$ and any voxel in $\\mathcal{B}$:\n$$d_1(v_{\\mathcal{A}}, v_{\\mathcal{B}}) = |i_{\\mathcal{A}} - i_{\\mathcal{B}}| + |j_{\\mathcal{A}} - j_{\\mathcal{B}}| + |k_{\\mathcal{A}} - k_{\\mathcal{B}}|$$\nThe minimum value for $|i_{\\mathcal{A}} - i_{\\mathcal{B}}|$ occurs when $i_{\\mathcal{A}}$ is as large as possible ($1$) and $i_{\\mathcal{B}}$ is as small as possible ($2$). So, $\\min(|i_{\\mathcal{A}} - i_{\\mathcal{B}}|) = |1 - 2| = 1$.\nSimilarly, $\\min(|j_{\\mathcal{A}} - j_{\\mathcal{B}}|) = |1 - 2| = 1$ and $\\min(|k_{\\mathcal{A}} - k_{\\mathcal{B}}|) = |1 - 2| = 1$.\nTherefore, the minimum Manhattan distance between any voxel in $\\mathcal{A}$ and any voxel in $\\mathcal{B}$ is $1 + 1 + 1 = 3$.\n\nSince the minimum Manhattan distance is $3$, it can never be $1$. Consequently, no voxel in $\\mathcal{A}$ is $6$-adjacent to any voxel in $\\mathcal{B}$. This means that $\\mathcal{A}$ and $\\mathcal{B}$ are disjoint with respect to $6$-connectivity.\n\nThe foreground $\\mathcal{F}$ thus consists of two separate $6$-connected components: $\\mathcal{A}$ and $\\mathcal{B}$.\nTherefore, the number of foreground connected components is $N_{\\text{cc}} = 2$.\n\n**2. Calculation of the Number of Holes ($N_{\\text{holes}}$)**\n\nA hole is defined as a bounded, $26$-connected component of the background. The background is the set of all voxels not in the foreground, $\\mathbb{Z}^3 \\setminus \\mathcal{F}$.\nTwo voxels $(i_1, j_1, k_1)$ and $(i_2, j_2, k_2)$ are $26$-adjacent if they touch at a face, edge, or corner. This corresponds to the condition:\n$$\\max(|i_1 - i_2|, |j_1 - j_2|, |k_1 - k_2|) = 1$$\nA background component is bounded if it consists of a finite number of voxels. Otherwise, it is unbounded. The unbounded component is typically the \"exterior\" space surrounding the foreground object(s) and is not considered a hole. We must determine if any finite, isolated \"pockets\" of background voxels exist.\n\nLet's analyze an arbitrary background voxel $v_b = (i,j,k) \\in \\mathbb{Z}^3 \\setminus \\mathcal{F}$. We need to determine if it belongs to a bounded component. We can prove that every background voxel is part of a single, unbounded component.\n\nThe foreground $\\mathcal{F}$ is entirely contained within the set of voxels $(i,j,k)$ where $i,j,k \\in \\{0, 1, 2, 3\\}$. Any voxel with at least one coordinate outside this range is a background voxel. All such \"exterior\" voxels are mutually $26$-connected and form a single, unbounded component. For example, any voxel $(i,j,k)$ with $i>3$ can be connected to $(i+1, j, k)$, forming an infinite path.\n\nNow, consider a background voxel $v_b = (i,j,k)$ with $i,j,k \\in \\{0,1,2,3\\}$. Since $v_b$ is in the background, it is not in $\\mathcal{A}$ and not in $\\mathcal{B}$.\n-   $v_b \\notin \\mathcal{A}$ means that it is not the case that $(i \\in \\{0,1\\} \\text{ and } j \\in \\{0,1\\} \\text{ and } k \\in \\{0,1\\})$.\n-   $v_b \\notin \\mathcal{B}$ means that it is not the case that $(i \\in \\{2,3\\} \\text{ and } j \\in \\{2,3\\} \\text{ and } k \\in \\{2,3\\})$.\n\nThis implies that the set of coordinates $\\{i,j,k\\}$ cannot be a subset of $\\{0,1\\}$ and cannot be a subset of $\\{2,3\\}$. Because all coordinates are in $\\{0,1,2,3\\}$, this requires the set of coordinates $\\{i,j,k\\}$ to contain at least one value from $\\{0,1\\}$ and at least one value from $\\{2,3\\}$.\n\nLet's assume, without loss of generality, that $i \\in \\{0,1\\}$ and $j \\in \\{2,3\\}$. The value of $k$ can be any integer.\nNow, consider the infinite line of voxels $L = \\{(i,j,z) \\mid z \\in \\mathbb{Z}\\}$. Any voxel $v'=(i,j,z)$ on this line has its first coordinate $i \\in \\{0,1\\}$ and its second coordinate $j \\in \\{2,3\\}$.\n-   $v'$ cannot be in $\\mathcal{A}$, because its $j$-coordinate is not in $\\{0,1\\}$.\n-   $v'$ cannot be in $\\mathcal{B}$, because its $i$-coordinate is not in $\\{2,3\\}$.\nThus, every voxel on the line $L$ is a background voxel. The line $L$ is an infinite, $26$-connected set of voxels (they are even $6$-connected). The original background voxel $v_b=(i,j,k)$ lies on this line. Therefore, $v_b$ is part of an infinite path of background voxels and belongs to the unbounded background component.\n\nThis argument holds for any background voxel. Every background voxel can be connected via a $26$-connected path to the infinite exterior. Therefore, there is only one connected component in the background, and it is unbounded. There are no bounded background components.\n\nThe number of holes is $N_{\\text{holes}} = 0$.\n\n**Conclusion**\n\nThe number of $6$-connected components in the foreground is $N_{\\text{cc}}=2$. The number of bounded $26$-connected components in the background (holes) is $N_{\\text{holes}}=0$. The result is the pair $(2,0)$.", "answer": "$$\n\\boxed{(2, 0)}\n$$", "id": "4536950"}]}