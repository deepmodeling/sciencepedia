{"hands_on_practices": [{"introduction": "The primary use of a predictive model is to estimate an outcome for a given set of inputs. This first exercise grounds the theory of logistic regression in a practical application: calculating an individual's health risk based on their social determinants of health. By working through this problem [@problem_id:4395920], you will learn how to combine multiple predictor variables using a given model equation to compute the log-odds and then convert this value into a tangible, interpretable probability.", "problem": "A health system scientist is modeling the probability of uncontrolled diabetes as a function of selected Social Determinants of Health (SDoH), defined as the conditions in which people are born, grow, live, work, and age. A widely used, well-tested model for binary outcomes in population health is logistic regression, in which the log-odds of an event is linear in predictors. Consider the following logistic model with binary predictors coded $0/1$:\n$$\n\\text{logit}(p) = -2 + 0.8\\,\\text{FoodInsec} + 0.5\\,\\text{Stress} + 0.6\\,\\text{Access},\n$$\nwhere $\\text{FoodInsec}$ indicates the presence ($1$) or absence ($0$) of food insecurity, $\\text{Stress}$ indicates chronic high stress ($1$) or not ($0$), and $\\text{Access}$ indicates the presence ($1$) or absence ($0$) of limited access barriers to primary care. Using the foundational definition of the logistic link $\\text{logit}(p) = \\ln\\!\\big(p/(1-p)\\big)$ and the given model, compute the predicted risk $p$ of uncontrolled diabetes for an individual with $\\text{FoodInsec}=1$, $\\text{Stress}=1$, and $\\text{Access}=1$. Express your final answer as a decimal and round to four significant figures.", "solution": "The user has provided a valid problem statement. The problem asks for the calculation of a predicted probability from a given logistic regression model, a standard and scientifically sound task in biostatistics and health systems science. All necessary information is provided, and the problem is well-posed.\n\nThe logistic regression model for the probability, $p$, of uncontrolled diabetes is given by:\n$$\n\\text{logit}(p) = -2 + 0.8\\,\\text{FoodInsec} + 0.5\\,\\text{Stress} + 0.6\\,\\text{Access}\n$$\nThe problem specifies the values of the binary predictors as $\\text{FoodInsec}=1$, $\\text{Stress}=1$, and $\\text{Access}=1$, representing the presence of all three risk factors.\n\nFirst, we substitute these values into the model to calculate the value of the log-odds, or $\\text{logit}(p)$.\n$$\n\\text{logit}(p) = -2 + 0.8(1) + 0.5(1) + 0.6(1)\n$$\nPerforming the arithmetic:\n$$\n\\text{logit}(p) = -2 + 0.8 + 0.5 + 0.6 = -2 + 1.9 = -0.1\n$$\nThe problem provides the foundational definition of the logit link function:\n$$\n\\text{logit}(p) = \\ln\\left(\\frac{p}{1-p}\\right)\n$$\nTo find the probability $p$, we must solve for $p$ in the equation:\n$$\n\\ln\\left(\\frac{p}{1-p}\\right) = -0.1\n$$\nWe begin by exponentiating both sides of the equation with base $e$ to remove the natural logarithm:\n$$\n\\exp\\left(\\ln\\left(\\frac{p}{1-p}\\right)\\right) = \\exp(-0.1)\n$$\n$$\n\\frac{p}{1-p} = \\exp(-0.1)\n$$\nNow, we algebraically solve for $p$. Let $K = \\exp(-0.1)$.\n$$\np = K(1-p)\n$$\n$$\np = K - Kp\n$$\n$$\np + Kp = K\n$$\n$$\np(1+K) = K\n$$\n$$\np = \\frac{K}{1+K}\n$$\nSubstituting back $K = \\exp(-0.1)$, the general formula for converting the log-odds (logit) back to a probability is:\n$$\np = \\frac{\\exp(\\text{logit}(p))}{1+\\exp(\\text{logit}(p))}\n$$\nUsing our calculated value $\\text{logit}(p) = -0.1$:\n$$\np = \\frac{\\exp(-0.1)}{1+\\exp(-0.1)}\n$$\nNow, we compute the numerical value.\nThe value of $\\exp(-0.1)$ is approximately $0.9048374$.\n$$\np \\approx \\frac{0.9048374}{1+0.9048374} = \\frac{0.9048374}{1.9048374}\n$$\n$$\np \\approx 0.4750208\n$$\nThe problem requires the answer to be expressed as a decimal rounded to four significant figures. The first four significant figures are $4$, $7$, $5$, and $0$. The fifth significant digit is $2$, which is less than $5$, so we round down (i.e., we truncate at the fourth significant digit).\n$$\np \\approx 0.4750\n$$\nThus, the predicted risk of uncontrolled diabetes for an individual with food insecurity, chronic high stress, and limited access barriers to primary care is $0.4750$.", "answer": "$$\\boxed{0.4750}$$", "id": "4395920"}, {"introduction": "Beyond predicting individual risk, a crucial task in epidemiology is to understand and quantify the influence of a single risk factor. This practice [@problem_id:4970670] focuses on interpreting the model's coefficients, which are not immediately intuitive on their own. You will derive and apply the fundamental relationship between a regression coefficient, $\\beta_j$, and its corresponding odds ratio, $\\exp(\\beta_j)$, which is a cornerstone of interpretation for logistic regression models.", "problem": "A prospective cohort study of adult surgical patients models the binary outcome $Y \\in \\{0,1\\}$, where $Y=1$ denotes severe postoperative infection within $30$ days. Let $\\mathbf{x} = (x_1,\\dots,x_p)$ denote patient covariates including high-sensitivity C-reactive protein (hs-CRP). The hs-CRP covariate is encoded as $x_j$, defined so that a one-unit increase in $x_j$ corresponds to an increase of $10$ mg/L in hs-CRP. Investigators fit a logistic regression model with a logit link, where the probability of infection given covariates is $p(\\mathbf{x}) = \\Pr(Y=1 \\mid \\mathbf{x})$, the odds of infection are $p(\\mathbf{x})/(1 - p(\\mathbf{x}))$, and the log-odds (logit) are $\\ln\\!\\left(\\frac{p(\\mathbf{x})}{1 - p(\\mathbf{x})}\\right)$. Suppose the estimated regression coefficient for $x_j$ is $\\beta_j = 0.693$.\n\nStarting from the definitions of odds and the logit link, and treating all other covariates as fixed, derive the multiplicative change in the odds of severe postoperative infection associated with a one-unit increase in $x_j$. Then, compute this multiplicative change for the given $\\beta_j$. Round your final numeric answer to four significant figures and do not include units. In addition, state the clinical interpretation of an odds ratio of $2$ per one-unit increase in $x_j$ (this interpretation is not part of the final numeric answer).", "solution": "The problem is valid as it is scientifically grounded in the principles of biostatistics, specifically logistic regression, and is well-posed with all necessary information provided for a unique solution.\n\nThe problem asks to derive the multiplicative change in the odds of an event for a unit increase in a covariate in a logistic regression model, compute its value for a given coefficient, and provide a clinical interpretation.\n\nLet the binary outcome be $Y \\in \\{0, 1\\}$, where $Y=1$ represents the event of interest (severe postoperative infection). The probability of this event, conditional on a vector of covariates $\\mathbf{x} = (x_1, \\dots, x_p)$, is denoted by $p(\\mathbf{x}) = \\Pr(Y=1 \\mid \\mathbf{x})$.\n\nThe logistic regression model uses a logit link function, which models the natural logarithm of the odds of the event as a linear function of the covariates. The odds are defined as the ratio of the probability of the event occurring to the probability of it not occurring:\n$$\n\\text{Odds}(\\mathbf{x}) = \\frac{p(\\mathbf{x})}{1 - p(\\mathbf{x})}\n$$\nThe log-odds (or logit) is therefore:\n$$\n\\text{logit}(p(\\mathbf{x})) = \\ln\\left(\\frac{p(\\mathbf{x})}{1 - p(\\mathbf{x})}\\right)\n$$\nIn the logistic regression model, the logit is expressed as:\n$$\n\\ln\\left(\\frac{p(\\mathbf{x})}{1 - p(\\mathbf{x})}\\right) = \\beta_0 + \\beta_1 x_1 + \\dots + \\beta_j x_j + \\dots + \\beta_p x_p = \\beta_0 + \\sum_{k=1}^{p} \\beta_k x_k\n$$\nwhere $\\beta_0, \\beta_1, \\dots, \\beta_p$ are the regression coefficients.\n\nTo derive the multiplicative change in the odds associated with a one-unit increase in a specific covariate $x_j$, we must compare the odds at two different levels of $x_j$, while holding all other covariates $(x_k \\text{ for } k \\neq j)$ constant.\n\nLet the odds for a patient with covariates $\\mathbf{x}$ be denoted by $\\text{Odds}(\\mathbf{x})$. By exponentiating the logit equation, we get:\n$$\n\\text{Odds}(\\mathbf{x}) = \\exp\\left(\\beta_0 + \\sum_{k=1}^{p} \\beta_k x_k\\right)\n$$\nNow, consider a second scenario where the covariate $x_j$ is increased by one unit to $x_j + 1$. The new vector of covariates is $\\mathbf{x}' = (x_1, \\dots, x_j+1, \\dots, x_p)$. The odds for this scenario are:\n$$\n\\text{Odds}(\\mathbf{x}') = \\exp\\left(\\beta_0 + \\sum_{k \\neq j} \\beta_k x_k + \\beta_j(x_j + 1)\\right)\n$$\nThe multiplicative change in the odds is the ratio of the new odds to the original odds. This ratio is defined as the odds ratio (OR) for a one-unit change in $x_j$.\n$$\n\\text{OR}_j = \\frac{\\text{Odds}(\\mathbf{x}')}{\\text{Odds}(\\mathbf{x})} = \\frac{\\exp\\left(\\beta_0 + \\sum_{k \\neq j} \\beta_k x_k + \\beta_j(x_j + 1)\\right)}{\\exp\\left(\\beta_0 + \\sum_{k=1}^{p} \\beta_k x_k\\right)}\n$$\nWe can rewrite the exponent in the numerator:\n$$\n\\beta_0 + \\sum_{k \\neq j} \\beta_k x_k + \\beta_j x_j + \\beta_j = \\left(\\beta_0 + \\sum_{k=1}^{p} \\beta_k x_k\\right) + \\beta_j\n$$\nSubstituting this back into the expression for the odds ratio:\n$$\n\\text{OR}_j = \\frac{\\exp\\left(\\left(\\beta_0 + \\sum_{k=1}^{p} \\beta_k x_k\\right) + \\beta_j\\right)}{\\exp\\left(\\beta_0 + \\sum_{k=1}^{p} \\beta_k x_k\\right)}\n$$\nUsing the property $\\exp(a+b) = \\exp(a)\\exp(b)$, we get:\n$$\n\\text{OR}_j = \\frac{\\exp\\left(\\beta_0 + \\sum_{k=1}^{p} \\beta_k x_k\\right) \\exp(\\beta_j)}{\\exp\\left(\\beta_0 + \\sum_{k=1}^{p} \\beta_k x_k\\right)}\n$$\nThe term $\\exp\\left(\\beta_0 + \\sum_{k=1}^{p} \\beta_k x_k\\right)$ cancels from the numerator and denominator, yielding the fundamental result:\n$$\n\\text{OR}_j = \\exp(\\beta_j)\n$$\nThis derivation shows that the multiplicative change in the odds for a one-unit increase in $x_j$ is equal to the exponential of the coefficient $\\beta_j$.\n\nThe problem states that the estimated coefficient for the covariate $x_j$ (representing hs-CRP) is $\\beta_j = 0.693$. We can now compute the multiplicative change in the odds:\n$$\n\\text{OR}_j = \\exp(0.693)\n$$\nWe calculate this value and round to four significant figures as requested:\n$$\n\\exp(0.693) \\approx 1.99970535 \\approx 2.000\n$$\nThe multiplicative change in the odds is $2.000$.\n\nThe problem also requests the clinical interpretation of an odds ratio of $2$ per one-unit increase in $x_j$. The covariate $x_j$ is encoded such that a one-unit increase corresponds to a $10$ mg/L increase in hs-CRP. Therefore, an odds ratio of $2$ for $x_j$ means that for every $10$ mg/L increase in a patient's hs-CRP level, the odds of developing a severe postoperative infection within $30$ days are estimated to be multiplied by $2$ (i.e., they are doubled), assuming all other patient characteristics in the model are held constant.", "answer": "$$\\boxed{2.000}$$", "id": "4970670"}, {"introduction": "A point estimate, such as an odds ratio, provides our best guess for an effect, but it doesn't convey the uncertainty around that guess. This final exercise [@problem_id:4608660] introduces a critical skill: quantifying this uncertainty by constructing a confidence interval. You will learn the standard method of calculating a confidence interval on the log-odds scale, where statistical approximations are more reliable, and then transforming it back to the odds ratio scale for interpretation.", "problem": "A cohort study of adult participants followed through one influenza season records a binary outcome $Y$ indicating incident influenza ($Y=1$) versus no influenza ($Y=0$), and a set of covariates including a binary indicator $X_{j}$ for current smoking status ($X_{j}=1$ for current smoker, $X_{j}=0$ otherwise). A logistic regression model is fit with the canonical logit link for binary outcomes, so that the conditional mean of $Y$ given covariates $X$ satisfies\n$$\\ln\\!\\left(\\frac{P(Y=1 \\mid X)}{1 - P(Y=1 \\mid X)}\\right) = \\beta_{0} + \\sum_{k} \\beta_{k} X_{k}.$$\nThe odds under covariate vector $X$ is defined as\n$$O(X) = \\frac{P(Y=1 \\mid X)}{1 - P(Y=1 \\mid X)},$$\nand the odds ratio comparing $X_{j}=1$ to $X_{j}=0$ at fixed values of the remaining covariates $X_{-j}$ is\n$$\\text{OR} = \\frac{O(X_{j}=1, X_{-j})}{O(X_{j}=0, X_{-j})}.$$\nSuppose the maximum likelihood estimate (MLE) for the coefficient $\\beta_{j}$ is $\\hat{\\beta}_{j} = 0.6425$ with estimated standard error $\\operatorname{SE}(\\hat{\\beta}_{j}) = 0.158$. Under standard regularity conditions, assume the large-sample normal approximation for $\\hat{\\beta}_{j}$ holds. Using only the definitions above and the assumption of asymptotic normality, derive the point estimate for the odds ratio associated with a one-unit increase in $X_{j}$ and construct a two-sided $0.95$ confidence interval (CI) for this odds ratio by applying a suitable monotone transformation to an appropriate interval on the coefficient scale. Provide the three numerical values—the point estimate, the lower bound, and the upper bound of the CI—and round each to four significant figures. No units are required for the final numerical values.", "solution": "The problem requires the calculation of a point estimate and a $0.95$ confidence interval for an odds ratio (OR) derived from a logistic regression model. The problem is well-posed and contains all necessary information for a complete solution.\n\nThe logistic regression model is given by:\n$$ \\ln\\!\\left(\\frac{P(Y=1 \\mid X)}{1 - P(Y=1 \\mid X)}\\right) = \\beta_{0} + \\sum_{k} \\beta_{k} X_{k} $$\nThe left-hand side of this equation is the natural logarithm of the odds of the outcome $Y=1$ given the covariate vector $X$. This is often called the logit function, $\\text{logit}(p) = \\ln(p/(1-p))$.\nThus, the log-odds are:\n$$ \\ln(O(X)) = \\beta_{0} + \\sum_{k} \\beta_{k} X_{k} $$\nWe are interested in the odds ratio comparing the odds of the outcome when the binary covariate $X_j$ is $1$ versus when it is $0$, while holding all other covariates $X_{-j}$ constant.\n\nLet $X^{(1)}$ be the covariate vector where $X_j = 1$ and $X_{-j}$ are fixed. The log-odds are:\n$$ \\ln(O(X_j=1, X_{-j})) = \\beta_0 + \\beta_j(1) + \\sum_{k \\neq j} \\beta_k X_k $$\nLet $X^{(0)}$ be the covariate vector where $X_j = 0$ and $X_{-j}$ are held at the same fixed values. The log-odds are:\n$$ \\ln(O(X_j=0, X_{-j})) = \\beta_0 + \\beta_j(0) + \\sum_{k \\neq j} \\beta_k X_k = \\beta_0 + \\sum_{k \\neq j} \\beta_k X_k $$\nThe odds ratio (OR) is defined as the ratio of these two odds:\n$$ \\text{OR} = \\frac{O(X_j=1, X_{-j})}{O(X_j=0, X_{-j})} $$\nTaking the natural logarithm of the odds ratio, we get the log-odds-ratio:\n$$ \\ln(\\text{OR}) = \\ln(O(X_j=1, X_{-j})) - \\ln(O(X_j=0, X_{-j})) $$\nSubstituting the expressions for the log-odds:\n$$ \\ln(\\text{OR}) = \\left(\\beta_0 + \\beta_j + \\sum_{k \\neq j} \\beta_k X_k\\right) - \\left(\\beta_0 + \\sum_{k \\neq j} \\beta_k X_k\\right) = \\beta_j $$\nThis shows that the coefficient $\\beta_j$ is the log-odds-ratio for a one-unit change in $X_j$. To find the odds ratio itself, we exponentiate the log-odds-ratio:\n$$ \\text{OR} = \\exp(\\beta_j) $$\n\nA point estimate for the OR can be obtained by substituting the maximum likelihood estimate (MLE) of $\\beta_j$, $\\hat{\\beta}_j$, into this expression. This is justified by the invariance property of MLEs. Given $\\hat{\\beta}_j = 0.6425$:\n$$ \\widehat{\\text{OR}} = \\exp(\\hat{\\beta}_j) = \\exp(0.6425) \\approx 1.901233 $$\nRounding to four significant figures, the point estimate is $1.901$.\n\nTo construct a confidence interval (CI) for the OR, we first construct a CI for the parameter $\\beta_j$ and then apply a monotonic transformation. The problem states that $\\hat{\\beta}_j$ is asymptotically normally distributed. A $(1-\\alpha) \\times 100\\%$ CI for $\\beta_j$ is given by:\n$$ \\hat{\\beta}_j \\pm z_{1-\\alpha/2} \\cdot \\operatorname{SE}(\\hat{\\beta}_j) $$\nFor a $0.95$ CI, $\\alpha = 0.05$, so $1-\\alpha/2 = 0.975$. The corresponding critical value from the standard normal distribution is $z_{0.975} \\approx 1.960$.\nGiven $\\hat{\\beta}_j = 0.6425$ and $\\operatorname{SE}(\\hat{\\beta}_j) = 0.158$, the $95\\%$ CI for $\\beta_j$ is:\n$$ 0.6425 \\pm 1.960 \\times 0.158 $$\nThe margin of error is $1.960 \\times 0.158 = 0.30968$.\nThe lower bound for $\\beta_j$ is $L_{\\beta} = 0.6425 - 0.30968 = 0.33282$.\nThe upper bound for $\\beta_j$ is $U_{\\beta} = 0.6425 + 0.30968 = 0.95218$.\nSo, the $95\\%$ CI for $\\beta_j$ is $[0.33282, 0.95218]$.\n\nSince the function $f(x) = \\exp(x)$ is strictly increasing, we can obtain the CI for the $\\text{OR} = \\exp(\\beta_j)$ by exponentiating the endpoints of the CI for $\\beta_j$.\nThe lower bound for the OR is:\n$$ L_{\\text{OR}} = \\exp(L_{\\beta}) = \\exp(0.33282) \\approx 1.394895 $$\nThe upper bound for the OR is:\n$$ U_{\\text{OR}} = \\exp(U_{\\beta}) = \\exp(0.95218) \\approx 2.591453 $$\n\nFinally, we round the point estimate and the CI bounds to four significant figures as requested.\nPoint estimate: $\\widehat{\\text{OR}} \\approx 1.901$\nLower bound: $L_{\\text{OR}} \\approx 1.395$\nUpper bound: $U_{\\text{OR}} \\approx 2.591$\n\nThe three numerical values are the point estimate $1.901$, the lower bound $1.395$, and the upper bound $2.591$.", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n1.901 & 1.395 & 2.591\n\\end{pmatrix}\n}\n$$", "id": "4608660"}]}