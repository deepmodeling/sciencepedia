{"hands_on_practices": [{"introduction": "Before we can understand how a CT image is reconstructed, we must first master the \"forward problem\": how the scanner maps a point within the patient to a measurement on the detector. This practice guides you through deriving this fundamental geometric relationship for both source-detector systems in a DSCT scanner. Mastering this derivation provides a concrete understanding of the geometric foundation upon which all CT reconstruction is built and underscores the critical importance of precise system calibration [@problem_id:4879802].", "problem": "A dual-source Computed Tomography (CT) system, known as Dual-Source Computed Tomography (DSCT), comprises two X-ray source–detector pairs mounted on a rotating gantry. The sources follow a circular trajectory around the isocenter with source-to-isocenter distance $R$, and each has a flat detector at source-to-detector distance $D$. The detectors are positioned so that the central ray (the ray through the isocenter) is normal to the detector plane and intersects it at detector coordinate $u=0$. The two sources are separated by a fixed angular offset $\\Delta$, so that when source $1$ is at rotation angle $\\theta$, source $2$ is at rotation angle $\\theta+\\Delta$. Assume both subsystems are identically calibrated and rigidly mounted.\n\nLet the object coordinate system be fixed to the isocenter with axes $(x,y)$ in the rotation plane, with the source $1$ position parameterized as $s_{1}(\\theta)=(R\\cos\\theta,R\\sin\\theta)$ and source $2$ as $s_{2}(\\theta)=(R\\cos(\\theta+\\Delta),R\\sin(\\theta+\\Delta))$. For a point $(x,y)$ in the object, define the fan angle $\\phi$ for each source as the signed angle between the central ray (from the source to the isocenter) and the ray from the source to $(x,y)$. The detector coordinate $u$ is related to the fan angle by perspective projection onto the flat detector.\n\nStarting only from Euclidean geometry of rays and angles, derive the mapping from object coordinates $(x,y)$ to the detector coordinate $u$ for each source, expressed as $u_{1}(x,y,\\theta)$ and $u_{2}(x,y,\\theta)$. Your expressions must be written in terms of $R$, $D$, $\\theta$, $\\Delta$, $x$, and $y$. Then, briefly explain why joint reconstruction from the two datasets relies on consistent geometric calibration of both source–detector pairs.\n\nExpress the detector coordinate $u$ in millimeters, assuming all distances $R$, $D$, and object coordinates $(x,y)$ are provided in millimeters. The final answer must be a single closed-form analytic expression for $\\big(u_{1}(x,y,\\theta),\\,u_{2}(x,y,\\theta)\\big)$.", "solution": "The problem statement is assessed to be valid. It is scientifically grounded in the principles of X-ray computed tomography, well-posed with sufficient information for a unique derivation, and expressed in objective, formal language. It presents a standard, non-trivial problem in medical imaging physics. We may therefore proceed with the solution.\n\nThe problem asks for the derivation of the mapping from an object point with coordinates $(x,y)$ to the detector coordinates $u_1$ and $u_2$ for a dual-source CT system. We will first derive the expression for a single, generic source-detector system and then apply it to the two specific systems.\n\nLet the gantry rotation angle be denoted by a generic angle $\\alpha$. The position of the X-ray source, $s$, on a circular path of radius $R$ is given by:\n$$ s(\\alpha) = (R\\cos\\alpha, R\\sin\\alpha) $$\nThe object is described in a fixed Cartesian coordinate system $(x,y)$ with its origin at the isocenter of the gantry rotation. Let an arbitrary point in the object be $p = (x,y)$.\n\nThe problem defines the *central ray* as the ray from the source to the isocenter. The vector corresponding to the central ray, $\\vec{v}_{c}$, is directed from the source $s(\\alpha)$ to the isocenter $(0,0)$:\n$$ \\vec{v}_{c} = (0,0) - s(\\alpha) = (-R\\cos\\alpha, -R\\sin\\alpha) $$\nThe ray from the source to the object point $p$ is described by the vector $\\vec{v}_{p}$:\n$$ \\vec{v}_{p} = p - s(\\alpha) = (x - R\\cos\\alpha, y - R\\sin\\alpha) $$\nThe *fan angle* $\\phi$ is defined as the signed angle from the central ray $\\vec{v}_{c}$ to the point ray $\\vec{v}_{p}$. In a 2D Cartesian plane, the signed angle $\\phi$ from a vector $\\vec{a}=(a_x, a_y)$ to a vector $\\vec{b}=(b_x, b_y)$ can be found using the relationship $\\tan\\phi = \\frac{\\det(\\vec{a},\\vec{b})}{\\vec{a}\\cdot\\vec{b}}$, where the 2D determinant (or scalar cross product) is $\\det(\\vec{a},\\vec{b}) = a_x b_y - a_y b_x$ and the dot product is $\\vec{a}\\cdot\\vec{b} = a_x b_x + a_y b_y$. The counter-clockwise direction is taken as positive.\n\nWe identify $\\vec{a} = \\vec{v}_{c}$ and $\\vec{b} = \\vec{v}_{p}$. Let us compute the determinant and the dot product.\n\nThe determinant is:\n$$ \\det(\\vec{v}_{c}, \\vec{v}_{p}) = (-R\\cos\\alpha)(y - R\\sin\\alpha) - (-R\\sin\\alpha)(x - R\\cos\\alpha) $$\n$$ = -Ry\\cos\\alpha + R^2\\cos\\alpha\\sin\\alpha + Rx\\sin\\alpha - R^2\\sin\\alpha\\cos\\alpha $$\n$$ = R(x\\sin\\alpha - y\\cos\\alpha) $$\nThe dot product is:\n$$ \\vec{v}_{c} \\cdot \\vec{v}_{p} = (-R\\cos\\alpha)(x - R\\cos\\alpha) + (-R\\sin\\alpha)(y - R\\sin\\alpha) $$\n$$ = -Rx\\cos\\alpha + R^2\\cos^2\\alpha - Ry\\sin\\alpha + R^2\\sin^2\\alpha $$\n$$ = R^2(\\cos^2\\alpha + \\sin^2\\alpha) - R(x\\cos\\alpha + y\\sin\\alpha) $$\n$$ = R^2 - R(x\\cos\\alpha + y\\sin\\alpha) = R(R - (x\\cos\\alpha + y\\sin\\alpha)) $$\nThe tangent of the fan angle $\\phi$ is the ratio of these two quantities:\n$$ \\tan\\phi = \\frac{R(x\\sin\\alpha - y\\cos\\alpha)}{R(R - x\\cos\\alpha - y\\sin\\alpha)} = \\frac{x\\sin\\alpha - y\\cos\\alpha}{R - x\\cos\\alpha - y\\sin\\alpha} $$\nThe detector is a flat panel positioned at a distance $D$ from the source, with its plane normal to the central ray. The detector coordinate $u$ is the displacement from the central ray's intersection point ($u=0$). By the definition of the tangent in a right-angled triangle, the relationship between the detector coordinate $u$ and the fan angle $\\phi$ is given by perspective projection:\n$$ u = D \\tan\\phi $$\nSubstituting the expression for $\\tan\\phi$, we obtain the general formula for the detector coordinate $u$ for a source at angle $\\alpha$:\n$$ u(x,y,\\alpha) = D \\left( \\frac{x\\sin\\alpha - y\\cos\\alpha}{R - x\\cos\\alpha - y\\sin\\alpha} \\right) $$\nNow, we apply this general formula to the two source-detector systems in the DSCT scanner.\n\nFor the first system, the source is at rotation angle $\\theta$. We substitute $\\alpha = \\theta$:\n$$ u_{1}(x,y,\\theta) = D \\left( \\frac{x\\sin\\theta - y\\cos\\theta}{R - x\\cos\\theta - y\\sin\\theta} \\right) $$\nFor the second system, the source is at rotation angle $\\theta + \\Delta$. We substitute $\\alpha = \\theta + \\Delta$:\n$$ u_{2}(x,y,\\theta) = D \\left( \\frac{x\\sin(\\theta+\\Delta) - y\\cos(\\theta+\\Delta)}{R - x\\cos(\\theta+\\Delta) - y\\sin(\\theta+\\Delta)} \\right) $$\nThese are the required expressions for the detector coordinates for the two systems.\n\nThe problem also asks for a brief explanation of why joint reconstruction relies on consistent geometric calibration.\nImage reconstruction algorithms, such as filtered backprojection, are inverse processes that aim to recover the object's attenuation map from the set of all projection measurements $\\{u_1, u_2\\}$ over all angles $\\theta$. These algorithms critically rely on a precise mathematical model of the forward projection—the very mapping we just derived. The derived expressions for $u_1$ and $u_2$ explicitly depend on the geometric parameters $R$, $D$, $\\theta$, and $\\Delta$.\nIf the geometric parameters used in the reconstruction algorithm ($R_{recon}$, $D_{recon}$, etc.) do not perfectly match the true physical parameters of *both* scanner subsystems ($R_1$, $D_1$, $R_2$, $D_2$, $\\Delta_{true}$), the backprojection of rays will be spatially misaligned. For instance, if the calibrated value for $\\Delta$ is incorrect, the data from the second source will be systematically misplaced relative to the data from the first source. This inconsistency between the two datasets prevents the rays from properly reinforcing at the correct object locations and canceling elsewhere. The result is a reconstructed image with severe artifacts, such as blurring, streaks, and geometric distortions, which degrade or destroy the diagnostic value of the CT scan. Therefore, consistent and highly accurate geometric calibration of both source-detector pairs is a fundamental prerequisite for artifact-free joint reconstruction.", "answer": "$$ \\boxed{\\begin{pmatrix} D \\frac{x\\sin\\theta - y\\cos\\theta}{R - x\\cos\\theta - y\\sin\\theta} & D \\frac{x\\sin(\\theta+\\Delta) - y\\cos(\\theta+\\Delta)}{R - x\\cos(\\theta+\\Delta) - y\\sin(\\theta+\\Delta)} \\end{pmatrix}} $$", "id": "4879802"}, {"introduction": "One of the primary motivations for developing DSCT was to image rapidly moving organs, particularly the heart. This requires an exceptional \"shutter speed,\" or temporal resolution, to freeze motion. This practice explores how having two sources acquiring data simultaneously reduces the time needed to collect a tomographically complete dataset for image reconstruction [@problem_id:4879790]. By working through this calculation, you will quantify a key performance advantage of the dual-source architecture and understand how it achieves the speeds necessary for advanced applications like cardiac imaging.", "problem": "A Dual-Source Computed Tomography (DSCT) system consists of two X-ray source–detector pairs mounted on the same rotating gantry with a fixed angular separation. Consider a DSCT scanner whose gantry completes one full rotation in $T_{\\text{rot}}=0.25\\ \\text{s}$ and whose two source–detector pairs are separated by $90^\\circ$. In fan-beam filtered backprojection, reconstruction of a point requires a set of unique projection angles spanning $180^\\circ$; when two sources are present, simultaneous acquisitions separated by $90^\\circ$ combine to reduce the required rotation interval for collecting the necessary angular span.\n\nUsing the following assumptions:\n- Angles are measured in degrees.\n- The full-fan angle at isocenter is sufficiently small compared to $90^\\circ$ that it can be neglected in the nominal estimate.\n- View weighting across the short-scan window is symmetric and does not alter the nominal window duration used to define temporal resolution.\n- The gantry rotates at a constant angular velocity and cone angle effects are negligible.\n\nDerive, from these bases, the nominal DSCT temporal resolution and compute its value for $T_{\\text{rot}}=0.25\\ \\text{s}$. Express your final answer in milliseconds and round to four significant figures.", "solution": "The temporal resolution of a CT scanner is defined by the minimum time required to acquire the data needed for one image reconstruction. For standard fan-beam filtered backprojection, the minimally sufficient dataset consists of projections spanning an angular range of $180^\\circ$ plus the fan angle. As per the problem statement, we neglect the fan angle, setting the required angular scan range, $\\theta_{\\text{scan}}$, to $180^\\circ$.\n\nThe gantry completes a full $360^\\circ$ rotation in time $T_{\\text{rot}}$. Assuming constant angular velocity, $\\omega$, we have:\n$$ \\omega = \\frac{360^\\circ}{T_{\\text{rot}}} $$\nIn a single-source system, the scanner must physically rotate by $180^\\circ$ to acquire the necessary data. The time for this \"short scan,\" $T_{\\text{single}}$, would be:\n$$ T_{\\text{single}} = \\frac{180^\\circ}{\\omega} = \\frac{180^\\circ}{360^\\circ/T_{\\text{rot}}} = \\frac{1}{2} T_{\\text{rot}} $$\n\nIn the specified DSCT system, two source-detector pairs acquire data simultaneously. The pairs are separated by a fixed angle of $\\Delta\\theta = 90^\\circ$. Let's denote the angular position of the first source at time $t$ as $\\theta_1(t)$ and the second source as $\\theta_2(t)$. Due to the fixed mounting, we have $\\theta_2(t) = \\theta_1(t) + \\Delta\\theta$.\n\nLet the gantry rotate by an angle $\\alpha_{\\text{gantry}}$ over a time interval $T_{\\text{res}}$. During this interval, the first source acquires projection data over an angular range of width $\\alpha_{\\text{gantry}}$. Simultaneously, the second source acquires data over a different angular range, also of width $\\alpha_{\\text{gantry}}$, but shifted by $\\Delta\\theta$.\n\nBy combining the data from both sources, the total unique angular range covered is the union of the two individual ranges. The total span of this union is $\\alpha_{\\text{gantry}} + \\Delta\\theta$. To satisfy the condition for image reconstruction, this total acquired angular span must equal the required scan range, $\\theta_{\\text{scan}}$.\n$$ \\alpha_{\\text{gantry}} + \\Delta\\theta = \\theta_{\\text{scan}} $$\nWe can solve for the required gantry rotation angle, $\\alpha_{\\text{gantry}}$:\n$$ \\alpha_{\\text{gantry}} = \\theta_{\\text{scan}} - \\Delta\\theta $$\nSubstituting the given values, $\\theta_{\\text{scan}} = 180^\\circ$ and $\\Delta\\theta = 90^\\circ$:\n$$ \\alpha_{\\text{gantry}} = 180^\\circ - 90^\\circ = 90^\\circ $$\nThis result shows that with two sources separated by $90^\\circ$, the gantry only needs to rotate by $90^\\circ$ to collect a full $180^\\circ$ set of projection data.\n\nThe nominal temporal resolution, $T_{\\text{res}}$, is the time it takes for the gantry to perform this rotation of $\\alpha_{\\text{gantry}}$. The time to rotate by any angle $\\alpha$ is given by $t = \\frac{\\alpha}{360^\\circ}T_{\\text{rot}}$. Therefore, the temporal resolution is:\n$$ T_{\\text{res}} = \\frac{\\alpha_{\\text{gantry}}}{360^\\circ} T_{\\text{rot}} $$\nSubstituting $\\alpha_{\\text{gantry}} = 90^\\circ$:\n$$ T_{\\text{res}} = \\frac{90^\\circ}{360^\\circ} T_{\\text{rot}} = \\frac{1}{4} T_{\\text{rot}} $$\nThis is the derived expression for the nominal temporal resolution.\n\nNow, we compute its numerical value for the given $T_{\\text{rot}} = 0.25 \\ \\text{s}$.\n$$ T_{\\text{res}} = \\frac{1}{4} \\times (0.25 \\ \\text{s}) = 0.0625 \\ \\text{s} $$\nThe problem requires the answer to be expressed in milliseconds (ms) and rounded to four significant figures.\n$$ T_{\\text{res}} = 0.0625 \\ \\text{s} \\times \\frac{1000 \\ \\text{ms}}{1 \\ \\text{s}} = 62.5 \\ \\text{ms} $$\nRounding to four significant figures, we get $62.50 \\ \\text{ms}$.", "answer": "$$\\boxed{62.50}$$", "id": "4879790"}, {"introduction": "Beyond imaging a single slice quickly, clinical applications often require scanning large volumes of the body as fast as possible. In helical CT, this is governed by the \"pitch,\" a parameter that relates the speed of patient table motion to the gantry rotation speed. This exercise challenges you to derive the maximum allowable pitch for both single-source and dual-source systems, based on the principle of maintaining complete data sampling along the scan direction [@problem_id:4879815]. This reveals another major benefit of DSCT: the ability to use a much higher pitch, enabling faster volumetric scans while preventing gaps in the data.", "problem": "A helical computed tomography system advances a patient table at constant speed while the gantry rotates. The pitch is defined as the dimensionless ratio $p = \\dfrac{\\text{table feed per rotation}}{\\text{total collimation}}$. Consider a system with a detector of longitudinal width $W$ (total collimation along the $z$-axis), gantry rotation time $T_{\\text{rot}}$, and table speed $v$. Assume filtered backprojection with half-scan data sufficiency: to reconstruct a given voxel without view aliasing, the set of rays used must span a contiguous angular range sufficient to provide complementary projections. Use the following idealized, well-tested facts as the fundamental base: \n- The pitch is given by $p = \\dfrac{v\\,T_{\\text{rot}}}{W}$.\n- Half-scan data sufficiency in fan-beam geometry requires an angular span of approximately $\\pi$ radians of source rotation for a single-source system to provide complementary projections for a voxel. \n- In a dual-source configuration with two identical tubes and detectors separated by $\\dfrac{\\pi}{2}$ radians, the mechanical rotation required to accumulate the same complementary set is reduced to approximately $\\dfrac{\\pi}{2}$ radians because the second source interleaves views midway through the rotation.\n\nNeglect the fan-angle extension beyond $\\pi$ and any cone-angle effects, treat the source as a point source, and measure angles in radians. Using only these fundamentals and the Nyquist-like requirement that the longitudinal advance during the required angular span must not exceed the detector coverage $W$ to avoid view aliasing, derive and compute the maximum pitch $p_{\\max}$ for:\n1) a single-source configuration, and \n2) a dual-source configuration.\n\nExpress your final answers as exact values (no units). If any rounding were required, it would be specified, but here no rounding is needed.", "solution": "The problem asks for the maximum permissible pitch, $p_{\\max}$, for single-source and dual-source computed tomography (CT) configurations, based on a set of idealized principles. The core constraint is a Nyquist-like sampling requirement to avoid view aliasing.\n\nFirst, we formalize the given information and the central constraint. The pitch, $p$, is defined as the dimensionless ratio of the table feed per gantry rotation to the total detector collimation width, $W$.\n$$p = \\frac{v T_{\\text{rot}}}{W}$$\nwhere $v$ is the constant table speed and $T_{\\text{rot}}$ is the time for one full gantry rotation of $2\\pi$ radians.\n\nThe problem states a Nyquist-like sampling requirement: to avoid view aliasing for any given voxel, the longitudinal advance of the table during the acquisition of a sufficient set of projection views must not exceed the total detector width, $W$. Let $\\Delta\\theta$ be the minimum angular span of gantry rotation required to acquire a \"sufficient set of complementary projections\" for reconstruction (as defined by half-scan data sufficiency).\n\nThe constant angular velocity of the gantry, $\\omega$, is given by the total angle of a full rotation, $2\\pi$, divided by the time for one rotation, $T_{\\text{rot}}$:\n$$\\omega = \\frac{2\\pi}{T_{\\text{rot}}}$$\nThe time, $\\Delta t$, required to rotate the source through the angular span $\\Delta\\theta$ is:\n$$\\Delta t = \\frac{\\Delta\\theta}{\\omega} = \\frac{\\Delta\\theta}{2\\pi / T_{\\text{rot}}} = \\frac{\\Delta\\theta T_{\\text{rot}}}{2\\pi}$$\nDuring this time $\\Delta t$, the patient table advances a longitudinal distance $\\Delta z$:\n$$\\Delta z = v \\cdot \\Delta t = v \\left( \\frac{\\Delta\\theta T_{\\text{rot}}}{2\\pi} \\right)$$\nThe Nyquist-like requirement is that this advance must not exceed the detector width $W$:\n$$\\Delta z \\le W$$\nSubstituting the expression for $\\Delta z$, we have:\n$$v \\left( \\frac{\\Delta\\theta T_{\\text{rot}}}{2\\pi} \\right) \\le W$$\nTo find the maximum pitch, we need to find the maximum table speed $v$ that satisfies this condition. We can rearrange the inequality to isolate $v$:\n$$v \\le \\frac{2\\pi W}{\\Delta\\theta T_{\\text{rot}}}$$\nNow, we substitute this constraint on $v$ into the definition of pitch, $p = \\frac{v T_{\\text{rot}}}{W}$:\n$$p = \\frac{v T_{\\text{rot}}}{W} \\le \\frac{1}{W} \\left( \\frac{2\\pi W}{\\Delta\\theta T_{\\text{rot}}} \\right) T_{\\text{rot}}$$\nSimplifying the expression on the right-hand side gives the upper bound for the pitch:\n$$p \\le \\frac{2\\pi}{\\Delta\\theta}$$\nThe maximum pitch, $p_{\\max}$, is therefore determined by the minimum required angular span $\\Delta\\theta$:\n$$p_{\\max} = \\frac{2\\pi}{\\Delta\\theta}$$\n\nWe can now apply this general formula to the two specific cases.\n\n1)  **Single-Source Configuration:**\n    The problem states that for a single-source system, half-scan data sufficiency requires a source rotation span of approximately $\\pi$ radians. Treating this as an exact value for our idealized model, we have:\n    $$\\Delta\\theta_{\\text{SS}} = \\pi$$\n    The maximum pitch for the single-source configuration is:\n    $$p_{\\max, \\text{SS}} = \\frac{2\\pi}{\\Delta\\theta_{\\text{SS}}} = \\frac{2\\pi}{\\pi} = 2$$\n\n2)  **Dual-Source Configuration:**\n    The problem states that for a dual-source system with sources separated by $\\frac{\\pi}{2}$ radians, the required mechanical rotation to acquire the same complementary data set is reduced to approximately $\\frac{\\pi}{2}$ radians. Again, we treat this as an exact value:\n    $$\\Delta\\theta_{\\text{DS}} = \\frac{\\pi}{2}$$\n    The maximum pitch for the dual-source configuration is:\n    $$p_{\\max, \\text{DS}} = \\frac{2\\pi}{\\Delta\\theta_{\\text{DS}}} = \\frac{2\\pi}{\\pi/2} = 2\\pi \\cdot \\frac{2}{\\pi} = 4$$\n\nThus, under the idealized conditions provided, the maximum pitch for a single-source system is $2$, and for a dual-source system is $4$. This result demonstrates that a dual-source architecture allows for significantly faster patient scanning (higher pitch) without introducing view aliasing artifacts, as it acquires the necessary projection data in a shorter gantry rotation.", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n2 & 4\n\\end{pmatrix}\n}\n$$", "id": "4879815"}]}