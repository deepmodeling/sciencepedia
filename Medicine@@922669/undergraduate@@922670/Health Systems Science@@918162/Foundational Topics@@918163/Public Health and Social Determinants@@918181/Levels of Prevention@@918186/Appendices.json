{"hands_on_practices": [{"introduction": "Effective primary prevention begins with a fundamental question: what portion of a disease in a population is caused by a specific risk factor? This exercise guides you through the derivation of the Population Attributable Fraction (PAF), a cornerstone metric in epidemiology that answers this question directly. By working from core definitions of risk and incidence, you will develop the formula that allows public health professionals to estimate the maximum potential impact of eliminating an exposure, thereby providing a quantitative basis for prioritizing primary prevention strategies. [@problem_id:4380229]", "problem": "A health system is planning a primary prevention intervention to eliminate a harmful exposure in order to reduce the population incidence of a chronic condition. Consider a population in which the exposure prevalence is $p_e$, and the disease incidence among the exposed is $I_e$ while that among the unexposed is $I_u$. The relative risk (RR) is defined as $RR = \\frac{I_e}{I_u}$. Under a multiplicative risk model, assume $RR$ is constant across strata and that eliminating the exposure would instantaneously set the risk of the exposed equal to that of the unexposed without otherwise altering $I_u$.\n\nStarting from these definitions and the law of total probability for population incidence, derive a closed-form expression for the Population Attributable Fraction (PAF), defined as the proportionate reduction in overall population incidence that would occur if the exposure were eliminated, expressed as $PAF = \\frac{I_p - I_0}{I_p}$, where $I_p$ is the pre-intervention population incidence and $I_0$ is the counterfactual population incidence after elimination of exposure. Then, for a proposed primary prevention strategy targeting household biomass smoke as the exposure, let $p_e = 0.32$ and $RR = 2.3$. Compute the numerical value of $PAF$ implied by your derived expression. Express your final numerical answer as a decimal fraction, and round your answer to four significant figures. Do not use a percentage sign.", "solution": "The goal is to derive the Population Attributable Fraction (PAF) from first principles using the core definitions of incidence and relative risk, and the law of total probability.\n\nDefine the quantities:\n- $I_e$ as the incidence among exposed individuals.\n- $I_u$ as the incidence among unexposed individuals.\n- $p_e$ as the prevalence of exposure in the population.\n- $RR$ as the Relative Risk, defined by $RR = \\frac{I_e}{I_u}$.\n- $I_p$ as the overall (population) incidence before any intervention.\n- $I_0$ as the counterfactual overall incidence if the exposure were eliminated.\n\nBy the law of total probability applied to incidence, the pre-intervention population incidence is\n$$\nI_p = p_e I_e + (1 - p_e) I_u.\n$$\nUnder a primary prevention intervention that eliminates the exposure, all individuals would experience the incidence of the unexposed state, so\n$$\nI_0 = I_u.\n$$\nThe Population Attributable Fraction is defined as the proportionate reduction in population incidence if the exposure were eliminated:\n$$\nPAF = \\frac{I_p - I_0}{I_p}.\n$$\nSubstitute $I_0 = I_u$ and the expression for $I_p$:\n$$\nPAF = \\frac{p_e I_e + (1 - p_e) I_u - I_u}{p_e I_e + (1 - p_e) I_u} = \\frac{p_e (I_e - I_u)}{p_e I_e + (1 - p_e) I_u}.\n$$\nUse the definition of the Relative Risk to express $I_e$ in terms of $I_u$:\n$$\nI_e = RR \\cdot I_u.\n$$\nSubstitute $I_e = RR \\cdot I_u$ into the PAF expression:\n$$\nPAF = \\frac{p_e (RR \\cdot I_u - I_u)}{p_e (RR \\cdot I_u) + (1 - p_e) I_u} = \\frac{p_e (RR - 1) I_u}{\\left[p_e RR + (1 - p_e)\\right] I_u}.\n$$\nCancel $I_u$ from numerator and denominator:\n$$\nPAF = \\frac{p_e (RR - 1)}{p_e RR + (1 - p_e)}.\n$$\nRewrite the denominator to highlight the attributable component:\n$$\np_e RR + (1 - p_e) = p_e (RR - 1) + 1,\n$$\nso the closed-form expression is\n$$\nPAF = \\frac{p_e (RR - 1)}{p_e (RR - 1) + 1}.\n$$\n\nThis expression quantifies the fraction of current population incidence attributable to the exposure under the multiplicative model. It directly informs primary prevention by estimating the proportionate reduction in incidence achievable through exposure elimination.\n\nNow compute the numerical value for $p_e = 0.32$ and $RR = 2.3$:\n- Compute the term $RR - 1$: $RR - 1 = 2.3 - 1 = 1.3$.\n- Compute the numerator $p_e (RR - 1)$: $0.32 \\times 1.3 = 0.416$.\n- Compute the denominator $p_e (RR - 1) + 1$: $0.416 + 1 = 1.416$.\nThus,\n$$\nPAF = \\frac{0.416}{1.416}.\n$$\nEvaluate the fraction:\n$$\nPAF = \\frac{0.416}{1.416} \\approx 0.293785\\ldots\n$$\nRound to four significant figures as required:\n$$\nPAF \\approx 0.2938.\n$$\nThe final answer is a decimal fraction without a percentage sign.", "answer": "$$\\boxed{0.2938}$$", "id": "4380229"}, {"introduction": "When primary prevention is not possible or entirely effective, the focus shifts to secondary prevention, which aims to detect disease at its earliest stages. This practice explores the mathematics behind screening programs, a central tool of secondary prevention. You will derive the expressions for Positive and Negative Predictive Values (PPV and NPV) and discover the critical dependence of a test's real-world performance on the prevalence of the disease in the population being screened. This exercise is essential for understanding why a test that performs well in a high-risk clinic may be unsuitable for the general population. [@problem_id:4606787]", "problem": "A public health department is evaluating a screening program for a chronic condition as part of secondary prevention within a comprehensive prevention strategy. Screening performance is characterized by sensitivity, specificity, positive predictive value, and negative predictive value. Consider a binary disease status $D \\in \\{0,1\\}$ and a binary test outcome $T \\in \\{-,+\\}$, and let disease prevalence be $\\pi = P(D=1)$. Derive the population-level expressions for positive predictive value $P(D=1 \\mid T=+)$ and negative predictive value $P(D=0 \\mid T=-)$ from core probability definitions and Bayes theorem. Use the following core definitions:\n- Sensitivity is $P(T=+ \\mid D=1)$.\n- Specificity is $P(T=- \\mid D=0)$.\n- Positive predictive value is $P(D=1 \\mid T=+)$.\n- Negative predictive value is $P(D=0 \\mid T=-)$.\nAssume the test has sensitivity $0.95$ and specificity $0.90$. Compute the positive predictive value when $\\pi = 0.01$ and when $\\pi = 0.10$. Express predictive values as a decimal or a fraction; do not write a percentage sign. Provide your final numerical results only for the two positive predictive values at $\\pi = 0.01$ and $\\pi = 0.10$ in the order given.", "solution": "We are asked to derive the population-level expressions for positive predictive value ($PPV$) and negative predictive value ($NPV$) and then to compute the $PPV$ for a given set of parameters. Let the binary disease status be denoted by $D$, where $D=1$ indicates presence of the disease and $D=0$ indicates absence. Let the binary test outcome be denoted by $T$, where $T=+$ is a positive result and $T=-$ is a negative result.\n\nThe core definitions provided are:\nPrevalence: $\\pi = P(D=1)$\nSensitivity: $S_{ens} = P(T=+ \\mid D=1)$\nSpecificity: $S_{pec} = P(T=- \\mid D=0)$\nPositive Predictive Value: $PPV = P(D=1 \\mid T=+)$\nNegative Predictive Value: $NPV = P(D=0 \\mid T=-)$\n\nFrom these, we can state the complementary probabilities:\n$P(D=0) = 1 - P(D=1) = 1 - \\pi$\n$P(T=- \\mid D=1) = 1 - P(T=+ \\mid D=1) = 1 - S_{ens}$\n$P(T=+ \\mid D=0) = 1 - P(T=- \\mid D=0) = 1 - S_{pec}$\n\nThe derivation of $PPV$ and $NPV$ proceeds from Bayes' theorem.\n\nFirst, we derive the expression for $PPV$. By definition, $PPV = P(D=1 \\mid T=+)$. Applying Bayes' theorem, which states $P(A \\mid B) = \\frac{P(B \\mid A)P(A)}{P(B)}$, we have:\n$$PPV = \\frac{P(T=+ \\mid D=1)P(D=1)}{P(T=+)}$$\nThe term in the denominator, $P(T=+)$, is the marginal probability of a positive test result. We can expand this using the law of total probability, conditioning on the disease status $D$:\n$$P(T=+) = P(T=+ \\mid D=1)P(D=1) + P(T=+ \\mid D=0)P(D=0)$$\nSubstituting the defined terms and their complements:\n$$P(T=+) = (S_{ens})(\\pi) + (1 - S_{pec})(1 - \\pi)$$\nSubstituting this back into the expression for $PPV$, we obtain the general formula:\n$$PPV = \\frac{S_{ens} \\cdot \\pi}{S_{ens} \\cdot \\pi + (1 - S_{pec})(1 - \\pi)}$$\n\nNext, we derive the expression for $NPV$. By definition, $NPV = P(D=0 \\mid T=-)$. Applying Bayes' theorem:\n$$NPV = \\frac{P(T=- \\mid D=0)P(D=0)}{P(T=-)}$$\nThe denominator, $P(T=-)$, is the marginal probability of a negative test result, which we expand using the law of total probability:\n$$P(T=-) = P(T=- \\mid D=0)P(D=0) + P(T=- \\mid D=1)P(D=1)$$\nSubstituting the defined terms:\n$$P(T=-) = (S_{pec})(1 - \\pi) + (1 - S_{ens})(\\pi)$$\nSubstituting this back into the expression for $NPV$, we obtain the general formula:\n$$NPV = \\frac{S_{pec} \\cdot (1 - \\pi)}{S_{pec} \\cdot (1 - \\pi) + (1 - S_{ens}) \\cdot \\pi}$$\n\nNow, we are asked to compute the $PPV$ for specific parameter values: sensitivity $S_{ens} = 0.95$ and specificity $S_{pec} = 0.90$. We will perform this calculation for two different prevalence values, $\\pi = 0.01$ and $\\pi = 0.10$.\n\nCase 1: Prevalence $\\pi = 0.01$.\nWe substitute the values into the derived formula for $PPV$:\n$$PPV = \\frac{0.95 \\cdot 0.01}{0.95 \\cdot 0.01 + (1 - 0.90)(1 - 0.01)}$$\n$$PPV = \\frac{0.0095}{0.0095 + (0.10)(0.99)}$$\n$$PPV = \\frac{0.0095}{0.0095 + 0.0990}$$\n$$PPV = \\frac{0.0095}{0.1085} = \\frac{95}{1085} = \\frac{19}{217}$$\n\nCase 2: Prevalence $\\pi = 0.10$.\nWe again substitute the values into the $PPV$ formula:\n$$PPV = \\frac{0.95 \\cdot 0.10}{0.95 \\cdot 0.10 + (1 - 0.90)(1 - 0.10)}$$\n$$PPV = \\frac{0.095}{0.095 + (0.10)(0.90)}$$\n$$PPV = \\frac{0.095}{0.095 + 0.090}$$\n$$PPV = \\frac{0.095}{0.185} = \\frac{95}{185} = \\frac{19}{37}$$\n\nThese calculations demonstrate the critical dependence of predictive values on the prevalence of the condition in the population being tested. Despite the test having constant sensitivity and specificity, the probability that a positive result correctly indicates disease ($PPV$) increases substantially from approximately $8.8\\%$ to approximately $51.4\\%$ as the prevalence increases from $1\\%$ to $10\\%$.", "answer": "$$\n\\boxed{\\begin{pmatrix} \\frac{19}{217} & \\frac{19}{37} \\end{pmatrix}}\n$$", "id": "4606787"}, {"introduction": "The previous exercises provided static snapshots of prevention's impact. However, health systems are dynamic, with interventions unfolding over time and interacting with disease spread. This capstone practice moves from static calculation to dynamic simulation, integrating primary, secondary, and tertiary prevention into a single computational model. By building and running a Susceptible-Exposed-Infectious-Recovered (SEIR) model, you will gain hands-on experience in comparing the effects of vaccination (primary), screening and isolation (secondary), and improved clinical care (tertiary) on the course of an epidemic. This systems-level approach is vital for comprehensive health policy analysis and strategic planning. [@problem_id:4380236]", "problem": "You are asked to build a complete, runnable program that calibrates and simulates a compartmental infectious disease model to quantify the comparative impact of three prevention levels on deaths averted for a respiratory pathogen. The program must encode a Susceptible–Exposed–Infectious–Recovered (SEIR) framework extended with a non-transmitting isolation state and a death counter, and must implement each of the following prevention levels separately: primary prevention (vaccination at time zero), secondary prevention (screening with isolation to reduce transmission), and tertiary prevention (improvements in critical care that reduce mortality without changing infectiousness).\n\nUse the following fundamental base, which is a widely accepted starting point in population health dynamics:\n- A deterministic compartmental model with mass-action transmission, where the incidence term is $\\beta S I$, and compartments are proportions of the population satisfying $S + E + I + Q + R + D = 1$, with $S$ for susceptible, $E$ for exposed (infected but not infectious), $I$ for infectious (transmitting), $Q$ for isolated (non-transmitting), $R$ for recovered (immune), and $D$ for cumulative deaths.\n- The time unit is days. Let $\\sigma$ be the rate from exposed to infectious (so the mean incubation period is $1/\\sigma$), and let $\\tau$ be the total removal rate from the infectious state (so the mean infectious period is $1/\\tau$). Decompose $\\tau$ into recovery and death components as $\\tau = \\gamma + \\delta$, where $\\gamma$ is the recovery rate and $\\delta$ is the death rate from the infectious or isolated states. Let the Infection Fatality Ratio (IFR) be $f = \\delta / (\\gamma + \\delta)$, which implies $\\gamma = (1 - f)\\tau$ and $\\delta = f \\tau$.\n- The baseline basic reproduction number (sometimes called the basic reproductive ratio) is $\\mathcal{R}_0 = \\beta / \\tau$ for this SEIR structure with a non-infectious exposed state. Calibrate the transmission rate by $\\beta = \\mathcal{R}_0 \\, \\tau$.\n- Secondary prevention via screening with isolation is modeled as an additional flow from $I$ to $Q$ at rate $\\eta$. Individuals in $Q$ do not transmit and leave $Q$ at rate $\\tau$, partitioned into recovery and death with the same $\\gamma$ and $\\delta$ as in $I$. This preserves the Infection Fatality Ratio $f$ and the clinical course but reduces transmission by shortening the time spent in the transmitting state.\n- Primary prevention via vaccination at time zero reduces susceptibility by an effective fraction $v = c \\times \\varepsilon$, where $c$ is coverage and $\\varepsilon$ is vaccine efficacy against infection. Implement this by moving the fraction $v$ of $S(0)$ to $R(0)$ before simulating, so $S(0)$ becomes $S(0)\\,(1 - v)$ and $R(0)$ increases by $S(0)\\,v$. No other parameters change for the primary-prevention scenario.\n- Tertiary prevention via improved critical care reduces the Infection Fatality Ratio by a fraction $m$ while keeping the clinical removal time constant (so transmission is not altered). Implement this by setting $f' = f (1 - m)$ and keeping $\\tau$ unchanged, then recomputing $\\gamma' = (1 - f')\\tau$ and $\\delta' = f' \\tau$. Do not change $\\beta$ for the tertiary-prevention scenario so that $\\mathcal{R}_0$ remains $\\beta / \\tau$.\n\nSimulate the following system of ordinary differential equations (ODEs) in continuous time, expressed in proportions of the total population:\n- $S'(t) = -\\beta \\, S(t) \\, I(t)$\n- $E'(t) = \\beta \\, S(t) \\, I(t) - \\sigma \\, E(t)$\n- $I'(t) = \\sigma \\, E(t) - (\\tau + \\eta) \\, I(t)$\n- $Q'(t) = \\eta \\, I(t) - \\tau \\, Q(t)$\n- $R'(t) = \\gamma \\, I(t) + \\gamma \\, Q(t)$\n- $D'(t) = \\delta \\, I(t) + \\delta \\, Q(t)$\n\nCalibrate $\\beta$ using the given target basic reproduction number and the chosen $\\tau$. For the baseline scenario, set $\\eta = 0$ and do not apply vaccination or tertiary changes. For each intervention scenario, change only what is specified for that level and leave the others at their baseline settings.\n\nImplement numerical integration with a fixed-step forward-Euler method using a time step of $\\Delta t = 0.1$ days over the specified time horizon. Treat the total population as fixed with size $N$ and convert between counts and proportions by dividing by $N$ on input and multiplying by $N$ on outputs. For each test case, compute baseline cumulative deaths by time $T$ and, separately, cumulative deaths under each intervention applied alone. Report the deaths averted for each intervention as baseline deaths minus intervention deaths. Express all final outputs in persons, rounded to two decimal places.\n\nYour program must hard-code and run the following test suite. Each test case provides:\n- Population size $N$ in persons.\n- Initial counts $I_0$, $E_0$, $R_0$ (for the recovered compartment), with $Q_0 = 0$ and $D_0 = 0$. The initial susceptible count is $S_0 = N - I_0 - E_0 - R_0 - Q_0 - D_0$.\n- Incubation period in days, so $\\sigma = 1 / \\text{incubation\\_days}$.\n- Infectious period in days, so $\\tau = 1 / \\text{infectious\\_days}$.\n- Baseline Infection Fatality Ratio $f$.\n- Baseline basic reproduction number $\\mathcal{R}_0$.\n- Time horizon $T$ in days.\n- Vaccination coverage $c$ and vaccine efficacy $\\varepsilon$.\n- Screening detection/isolation rate $\\eta$ in per day.\n- Tertiary mortality reduction fraction $m$.\n\nTest cases:\n- Case A (happy path): $N = 1000000$, $I_0 = 100$, $E_0 = 200$, $R_0 = 0$, incubation days $= 3$ so $\\sigma = 1/3$, infectious days $= 5$ so $\\tau = 1/5$, baseline $f = 0.01$, $\\mathcal{R}_0 = 2.5$, $T = 180$, $c = 0.6$, $\\varepsilon = 0.8$, $\\eta = 0.2$, $m = 0.5$.\n- Case B (primary zero coverage boundary): same as Case A except $c = 0.0$.\n- Case C (no initial infections edge): $N = 500000$, $I_0 = 0$, $E_0 = 0$, $R_0 = 0$, incubation days $= 3$ so $\\sigma = 1/3$, infectious days $= 5$ so $\\tau = 1/5$, baseline $f = 0.02$, $\\mathcal{R}_0 = 2.2$, $T = 120$, $c = 0.3$, $\\varepsilon = 0.9$, $\\eta = 0.1$, $m = 0.3$.\n- Case D (tertiary extreme boundary): $N = 200000$, $I_0 = 50$, $E_0 = 50$, $R_0 = 0$, incubation days $= 3$ so $\\sigma = 1/3$, infectious days $= 5$ so $\\tau = 1/5$, baseline $f = 0.02$, $\\mathcal{R}_0 = 1.8$, $T = 120$, $c = 0.4$, $\\varepsilon = 0.7$, $\\eta = 0.15$, $m = 1.0$.\n\nFor each test case, your program must compute a list of three values [primary_averted, secondary_averted, tertiary_averted], each a float in persons and rounded to two decimal places. The final program output must be a single line that is a list of these per-case lists in order A, B, C, D. That is, your program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets (for example: \"[[a,b,c],[d,e,f],...]\"), where each numeric value is in persons and rounded to two decimal places.", "solution": "The solution is a Python program that systematically simulates the SEIQRD model for each test case. The core of the program is a numerical ODE solver implementing the forward-Euler method to approximate the system's evolution over time.\n\n1.  **Model Core: The ODE Solver Function**\n    A central function, `run_simulation`, solves the system of ODEs. It takes initial state proportions, time horizon, time step, and model parameters $(\\beta, \\sigma, \\tau, \\gamma, \\delta, \\eta)$ as input. The function iterates from $t=0$ to $t=T$ in steps of $\\Delta t$. In each step, it calculates the derivatives for each compartment and updates the state vector using the forward-Euler formula: $\\text{state}_{k+1} = \\text{state}_k + \\Delta t \\times \\text{derivatives}_k$. The function returns the final proportion of cumulative deaths, $D(T)$.\n\n2.  **Scenario Simulation Logic**\n    For each test case, four scenarios are simulated:\n    *   **Parameter Calibration**: First, fundamental parameters are calculated from inputs: $\\sigma = 1 / \\text{incubation\\_days}$, $\\tau = 1 / \\text{infectious\\_days}$, $\\beta = \\mathcal{R}_0 \\tau$, $\\delta = f \\tau$, and $\\gamma = (1-f)\\tau$.\n    *   **Baseline Simulation**: The solver is called with baseline parameters, including an isolation rate $\\eta=0$, to find the baseline number of deaths.\n    *   **Primary Prevention (Vaccination)**: Initial conditions are adjusted by moving an effective fraction $v = c \\times \\varepsilon$ of the susceptible population to the recovered compartment. The simulation is then run with these new initial conditions.\n    *   **Secondary Prevention (Isolation)**: The simulation is run with the baseline setup but using the non-zero screening rate $\\eta$ from the test case.\n    *   **Tertiary Prevention (Improved Care)**: The IFR is modified to $f' = f(1-m)$, and the death and recovery rates ($\\delta', \\gamma'$) are recomputed. The simulation is run with these modified rates.\n\n3.  **Final Output Calculation**\n    After running all simulations and converting final death proportions back to counts by multiplying by the population size $N$, the deaths averted for each intervention are calculated as: `Deaths Averted` = (Baseline Deaths) - (Intervention Deaths). These values are rounded and compiled into the specified output format.", "answer": "```python\nimport numpy as np\n\ndef run_simulation(initial_proportions, T, dt, beta, sigma, tau, gamma, delta, eta):\n    \"\"\"\n    Simulates the SEIQRD model using the forward-Euler method.\n    \n    Args:\n        initial_proportions (tuple): Initial proportions (s0, e0, i0, q0, r0, d0).\n        T (float): Time horizon in days.\n        dt (float): Time step for numerical integration.\n        beta (float): Transmission rate.\n        sigma (float): Rate from Exposed to Infectious.\n        tau (float): Removal rate from Infectious/Isolated.\n        gamma (float): Recovery rate.\n        delta (float): Death rate.\n        eta (float): Isolation rate.\n        \n    Returns:\n        float: Final cumulative death proportion at time T.\n    \"\"\"\n    s, e, i, q, r, d = initial_proportions\n    state = np.array([s, e, i, q, r, d], dtype=np.float64)\n    \n    num_steps = int(T / dt)\n    \n    for _ in range(num_steps):\n        s_curr, e_curr, i_curr, q_curr, _, _ = state\n        \n        # Calculate derivatives based on current state\n        ds_dt = -beta * s_curr * i_curr\n        de_dt = beta * s_curr * i_curr - sigma * e_curr\n        di_dt = sigma * e_curr - (tau + eta) * i_curr\n        dq_dt = eta * i_curr - tau * q_curr\n        dr_dt = gamma * i_curr + gamma * q_curr\n        dd_dt = delta * i_curr + delta * q_curr\n        \n        derivatives = np.array([ds_dt, de_dt, di_dt, dq_dt, dr_dt, dd_dt])\n        \n        # Update state using forward-Euler method\n        state += dt * derivatives\n        \n        # Ensure proportions do not go negative due to numerical error\n        state[state < 0] = 0\n        # Optional: re-normalize to 1, though for small dt it should be close\n        # state /= np.sum(state)\n\n    return state[5] # Return final death proportion\n\ndef solve():\n    \"\"\"\n    Main function to run the test suite and print results.\n    \"\"\"\n    test_cases = [\n        # Case A (happy path)\n        {'N': 1000000, 'I0': 100, 'E0': 200, 'R0': 0, 'inc_days': 3, 'inf_days': 5, \n         'f': 0.01, 'R0_val': 2.5, 'T': 180, 'c': 0.6, 'eps': 0.8, 'eta': 0.2, 'm': 0.5},\n        # Case B (primary zero coverage boundary)\n        {'N': 1000000, 'I0': 100, 'E0': 200, 'R0': 0, 'inc_days': 3, 'inf_days': 5, \n         'f': 0.01, 'R0_val': 2.5, 'T': 180, 'c': 0.0, 'eps': 0.8, 'eta': 0.2, 'm': 0.5},\n        # Case C (no initial infections edge)\n        {'N': 500000, 'I0': 0, 'E0': 0, 'R0': 0, 'inc_days': 3, 'inf_days': 5,\n         'f': 0.02, 'R0_val': 2.2, 'T': 120, 'c': 0.3, 'eps': 0.9, 'eta': 0.1, 'm': 0.3},\n        # Case D (tertiary extreme boundary)\n        {'N': 200000, 'I0': 50, 'E0': 50, 'R0': 0, 'inc_days': 3, 'inf_days': 5,\n         'f': 0.02, 'R0_val': 1.8, 'T': 120, 'c': 0.4, 'eps': 0.7, 'eta': 0.15, 'm': 1.0},\n    ]\n\n    all_results = []\n    dt = 0.1\n\n    for case in test_cases:\n        N = case['N']\n        I0, E0, R0 = case['I0'], case['E0'], case['R0']\n        Q0, D0 = 0, 0\n        S0 = N - I0 - E0 - R0 - Q0 - D0\n\n        s0, e0, i0, q0, r0, d0 = S0/N, E0/N, I0/N, Q0/N, R0/N, D0/N\n        \n        # Calculate baseline parameters\n        sigma = 1 / case['inc_days']\n        tau = 1 / case['inf_days']\n        f_base = case['f']\n        R0_base = case['R0_val']\n        \n        beta = R0_base * tau\n        gamma_base = (1 - f_base) * tau\n        delta_base = f_base * tau\n\n        # --- Baseline Scenario ---\n        final_d_base = run_simulation((s0, e0, i0, q0, r0, d0), case['T'], dt,\n                                      beta, sigma, tau, gamma_base, delta_base, eta=0)\n        deaths_base = final_d_base * N\n\n        # --- 1. Primary Prevention (Vaccination) ---\n        v = case['c'] * case['eps']\n        s0_primary = s0 * (1 - v)\n        r0_primary = r0 + s0 * v\n        initial_props_primary = (s0_primary, e0, i0, q0, r0_primary, d0)\n        final_d_primary = run_simulation(initial_props_primary, case['T'], dt,\n                                         beta, sigma, tau, gamma_base, delta_base, eta=0)\n        deaths_primary = final_d_primary * N\n        primary_averted = deaths_base - deaths_primary\n\n        # --- 2. Secondary Prevention (Isolation) ---\n        eta_interv = case['eta']\n        final_d_secondary = run_simulation((s0, e0, i0, q0, r0, d0), case['T'], dt,\n                                           beta, sigma, tau, gamma_base, delta_base, eta=eta_interv)\n        deaths_secondary = final_d_secondary * N\n        secondary_averted = deaths_base - deaths_secondary\n\n        # --- 3. Tertiary Prevention (Improved Care) ---\n        m = case['m']\n        f_tertiary = f_base * (1 - m)\n        gamma_tertiary = (1 - f_tertiary) * tau\n        delta_tertiary = f_tertiary * tau\n        final_d_tertiary = run_simulation((s0, e0, i0, q0, r0, d0), case['T'], dt,\n                                          beta, sigma, tau, gamma_tertiary, delta_tertiary, eta=0)\n        deaths_tertiary = final_d_tertiary * N\n        tertiary_averted = deaths_base - deaths_tertiary\n\n        case_results = [\n            round(primary_averted, 2),\n            round(secondary_averted, 2),\n            round(tertiary_averted, 2)\n        ]\n        all_results.append(case_results)\n    \n    # Format the final output string\n    output_str = \"[\" + \",\".join([f\"[{res[0]:.2f},{res[1]:.2f},{res[2]:.2f}]\" for res in all_results]) + \"]\"\n    print(output_str)\n\nsolve()\n```", "id": "4380236"}]}