{"hands_on_practices": [{"introduction": "A foundational skill in Health Technology Assessment is making decisions in the face of uncertainty. Since outcomes are rarely guaranteed, we rely on expected values to determine the most likely cost or benefit of an intervention. This practice will guide you through calculating the expected cost of two different health strategies by weighting the cost of each possible outcome by its probability of occurring [@problem_id:4534999].", "problem": "A public health agency is conducting a Health Technology Assessment (HTA) for a preventive intervention under the payer perspective over a $1$-year horizon, ignoring discounting. Two mutually exclusive strategies are being compared for a population at risk of a specific acute event: Treat and No Treat. The Treat strategy incurs an upfront implementation cost of $\\$500$ per person and carries a complication risk of $0.05$ per person; if a complication occurs, it incurs an additional cost of $\\$10{,}000$ per person. The No Treat strategy incurs no upfront implementation cost and carries an event risk of $0.02$ per person; if the event occurs, it incurs a cost of $\\$30{,}000$ per person. Assume each person faces at most one realization (complication or event) within the horizon and that risks and costs are independent across persons. Using the foundational definition of expected value from probability theory and standard cost aggregation in Health Technology Assessment (HTA), compute the expected cost per person for each strategy. Express your final answers in United States dollars (USD). If you choose to round, round to four significant figures. Provide your final pair of expected costs in the order Treat, No Treat.", "solution": "The problem is valid as it is scientifically grounded, well-posed, and objective. It provides a complete and consistent set of data for a standard cost analysis problem within Health Technology Assessment (HTA), based on the fundamental principles of probability theory.\n\nThe task is to compute the expected cost per person for two mutually exclusive strategies: 'Treat' and 'No Treat'. The expected value of a discrete random variable is the sum of the products of each possible value of the variable and its corresponding probability. Let $E[C]$ denote the expected cost.\n\nLet us define the parameters for the 'Treat' strategy, denoted by the subscript $T$.\nThe upfront implementation cost per person is $C_{T, \\text{upfront}} = \\$500$.\nThe probability of a complication is $p_{\\text{comp}} = 0.05$.\nThe cost incurred if a complication occurs is $C_{\\text{comp}} = \\$10,000$.\n\nThe cost for a person under the 'Treat' strategy is a random variable, $C_T$. There are two possible outcomes based on the problem's assumption that at most one realization occurs:\n$1$. A complication occurs. The total cost is the sum of the upfront cost and the complication cost: $C_{T,1} = C_{T, \\text{upfront}} + C_{\\text{comp}} = \\$500 + \\$10,000 = \\$10,500$. The probability of this outcome is $p_{\\text{comp}} = 0.05$.\n$2$. No complication occurs. The total cost is just the upfront cost: $C_{T,2} = C_{T, \\text{upfront}} = \\$500$. The probability of this outcome is $1 - p_{\\text{comp}} = 1 - 0.05 = 0.95$.\n\nThe expected cost per person for the 'Treat' strategy, $E[C_T]$, is calculated as follows:\n$$ E[C_T] = C_{T,1} \\cdot p_{\\text{comp}} + C_{T,2} \\cdot (1 - p_{\\text{comp}}) $$\nSubstituting the values:\n$$ E[C_T] = (\\$10,500) \\cdot (0.05) + (\\$500) \\cdot (0.95) $$\n$$ E[C_T] = \\$525 + \\$475 = \\$1,000 $$\nAlternatively, using the linearity of expectation, the expected cost is the certain upfront cost plus the expected cost of the complication:\n$$ E[C_T] = C_{T, \\text{upfront}} + (C_{\\text{comp}} \\cdot p_{\\text{comp}} + \\$0 \\cdot (1 - p_{\\text{comp}})) $$\n$$ E[C_T] = \\$500 + (\\$10,000 \\cdot 0.05) = \\$500 + \\$500 = \\$1,000 $$\n\nNext, let us define the parameters for the 'No Treat' strategy, denoted by the subscript $NT$.\nThe upfront implementation cost is $C_{NT, \\text{upfront}} = \\$0$.\nThe probability of an acute event is $p_{\\text{event}} = 0.02$.\nThe cost incurred if the event occurs is $C_{\\text{event}} = \\$30,000$.\n\nThe cost for a person under the 'No Treat' strategy is a random variable, $C_{NT}$. There are two possible outcomes:\n$1$. The event occurs. The total cost is $C_{NT,1} = C_{\\text{event}} = \\$30,000$. The probability of this outcome is $p_{\\text{event}} = 0.02$.\n$2$. The event does not occur. The total cost is $C_{NT,2} = \\$0$. The probability of this outcome is $1 - p_{\\text{event}} = 1 - 0.02 = 0.98$.\n\nThe expected cost per person for the 'No Treat' strategy, $E[C_{NT}]$, is calculated as follows:\n$$ E[C_{NT}] = C_{NT,1} \\cdot p_{\\text{event}} + C_{NT,2} \\cdot (1 - p_{\\text{event}}) $$\nSubstituting the values:\n$$ E[C_{NT}] = (\\$30,000) \\cdot (0.02) + (\\$0) \\cdot (0.98) $$\n$$ E[C_{NT}] = \\$600 + \\$0 = \\$600 $$\n\nThe calculated expected costs are $\\$1,000$ for the 'Treat' strategy and $\\$600$ for the 'No Treat' strategy. The results are exact integers, so no rounding is required. The problem requests the final pair of expected costs in the order Treat, No Treat.", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n1000 & 600\n\\end{pmatrix}\n}\n$$", "id": "4534999"}, {"introduction": "HTA is fundamentally about comparing the value of different health technologies. The Incremental Cost-Effectiveness Ratio (ICER) is the central metric for this comparison, representing the additional cost for each extra unit of health benefit gained, such as a Quality-Adjusted Life-Year (QALY). In this exercise, you will calculate the ICER for two interventions and use a standard willingness-to-pay threshold to determine which offers better value for money [@problem_id:4535048].", "problem": "A public health agency is conducting a Health Technology Assessment (HTA) of two preventive interventions, A and B, each evaluated relative to a standard baseline. Intervention A has total cost and effectiveness denoted by the pair $\\left(C_{A}, E_{A}\\right) = \\left(\\$8{,}000, 0.4\\ \\text{Quality-Adjusted Life-Years (QALYs)}\\right)$, and intervention B has $\\left(C_{B}, E_{B}\\right) = \\left(\\$11{,}500, 0.7\\ \\text{QALYs}\\right)$. Using the fundamental definition of the Incremental Cost-Effectiveness Ratio (ICER), which compares the incremental cost to the incremental effectiveness of one option over another, compute the ICER of B relative to A in dollars per Quality-Adjusted Life-Year ($\\$/\\text{QALY}$). Then, using the standard willingness-to-pay threshold $\\lambda = \\$40{,}000$ per QALY, determine whether B is cost-effective relative to A under the conventional decision rule that accepts an option if its incremental cost per QALY does not exceed $\\lambda$, assuming the incremental effectiveness is positive.\n\nExpress the ICER in $\\$/\\text{QALY}$ and round your numerical result to four significant figures. The final answer you provide must be the single numerical value of the ICER only; do not include units in your final boxed answer.", "solution": "The problem is subjected to validation against the established criteria.\n\n### Step 1: Extract Givens\n- Intervention A: Cost $C_{A} = \\$8000$, Effectiveness $E_{A} = 0.4$ Quality-Adjusted Life-Years (QALYs).\n- Intervention B: Cost $C_{B} = \\$11500$, Effectiveness $E_{B} = 0.7$ QALYs.\n- Willingness-to-pay threshold: $\\lambda = \\$40000$ per QALY.\n- Objective 1: Compute the Incremental Cost-Effectiveness Ratio (ICER) of B relative to A.\n- Objective 2: Determine if B is cost-effective relative to A using the threshold $\\lambda$.\n- Rounding Requirement: The final numerical ICER value is to be rounded to four significant figures.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is scientifically grounded, well-posed, and objective. It utilizes fundamental concepts of Health Technology Assessment (HTA), including the Incremental Cost-Effectiveness Ratio (ICER), Quality-Adjusted Life-Years (QALYs), and willingness-to-pay thresholds, which are standard metrics in health economics and preventive medicine. The provided data ($C_A, E_A, C_B, E_B, \\lambda$) are complete, consistent, and plausible for a real-world scenario. The problem is clearly stated, with all terms defined and no ambiguity. It requests a specific, calculable quantity and a decision based on a formal rule. Therefore, the problem is deemed valid.\n\n### Step 3: Verdict and Action\nThe problem is valid. A complete solution will be provided.\n\n### Solution\nThe primary task is to compute the Incremental Cost-Effectiveness Ratio (ICER) of intervention B relative to intervention A. The ICER is defined as the ratio of the change in total costs to the change in total effectiveness between two alternative interventions.\n\nThe formula for the ICER of intervention B compared to intervention A is given by:\n$$\n\\text{ICER}_{B \\text{ vs } A} = \\frac{\\Delta C}{\\Delta E} = \\frac{C_B - C_A}{E_B - E_A}\n$$\nwhere $\\Delta C$ is the incremental cost and $\\Delta E$ is the incremental effectiveness.\n\nThe given values are:\n- For intervention A: $C_A = 8000$ dollars and $E_A = 0.4$ QALYs.\n- For intervention B: $C_B = 11500$ dollars and $E_B = 0.7$ QALYs.\n\nFirst, we calculate the incremental cost, $\\Delta C$:\n$$\n\\Delta C = C_B - C_A = \\$11500 - \\$8000 = \\$3500\n$$\n\nNext, we calculate the incremental effectiveness, $\\Delta E$:\n$$\n\\Delta E = E_B - E_A = 0.7 \\text{ QALYs} - 0.4 \\text{ QALYs} = 0.3 \\text{ QALYs}\n$$\n\nSince the incremental effectiveness $\\Delta E = 0.3$ is positive, intervention B is more effective than intervention A, and the ICER can be meaningfully interpreted as the additional cost per additional unit of health gain.\n\nNow, we compute the ICER:\n$$\n\\text{ICER} = \\frac{\\Delta C}{\\Delta E} = \\frac{\\$3500}{0.3 \\text{ QALYs}} = 11666.666... \\frac{\\$}{\\text{QALY}}\n$$\n\nThe problem requires rounding this result to four significant figures. The first four significant digits are $1, 1, 6, 6$. The fifth digit is $6$, which is greater than or equal to $5$, so we round up the fourth digit.\n$$\n\\text{ICER}_{\\text{rounded}} \\approx 11670 \\frac{\\$}{\\text{QALY}}\n$$\n\nThe second part of the task is to determine if intervention B is cost-effective relative to A. The decision rule states that an intervention is considered cost-effective if its ICER does not exceed the willingness-to-pay threshold, $\\lambda$. This is expressed as:\n$$\n\\text{ICER} \\le \\lambda\n$$\n\nThe given willingness-to-pay threshold is $\\lambda = \\$40000$ per QALY. We compare our calculated ICER to this threshold:\n$$\n11666.666... \\frac{\\$}{\\text{QALY}} \\le \\$40000 \\frac{\\$}{\\text{QALY}}\n$$\nThis inequality is true. Since the ICER of B relative to A is less than the specified willingness-to-pay threshold, intervention B is determined to be cost-effective compared to intervention A under this decision framework.\n\nThe problem asks for the single numerical value of the ICER, rounded to four significant figures.", "answer": "$$\\boxed{11670}$$", "id": "4535048"}, {"introduction": "While simple comparisons are useful, many health interventions have effects that unfold over years or decades. This is where dynamic simulation models, such as Markov models, become essential tools for HTA. This hands-on programming exercise challenges you to build a simple Markov model to project how a cohort of patients transitions between health states over time, allowing you to estimate long-term survival and cumulative costs [@problem_id:4374956].", "problem": "A Markov cohort model is used in Health Technology Assessment (HTA) for estimating expected clinical and economic outcomes over discrete time cycles. Consider a simple three-state Markov model with states Healthy ($H$), Sick ($S$), and Dead ($D$). The process is time-homogeneous with annual cycles of length $1$ year. The cohort starts in the Healthy state at time $t=0$ with initial state occupancy vector $\\pi_0 = [1,0,0]$. The Dead state is absorbing. The evolution of the cohort is governed by the Markov property and the state transition matrix $P$, such that the occupancy vector updates according to $\\pi_{t+1} = \\pi_t P$ for each cycle $t$.\n\nThe model uses the following fundamental definitions:\n- The Healthy row of the transition matrix $P$ is defined by annual transition probabilities $p_{HS}$ (transition from Healthy to Sick), $p_{HD}$ (transition from Healthy to Dead), and the remaining probability $p_{HH} = 1 - p_{HS} - p_{HD}$ (stay Healthy), with $0 \\le p_{HS} \\le 1$, $0 \\le p_{HD} \\le 1$, and $p_{HS} + p_{HD} \\le 1$.\n- The Sick row is defined by $p_{SD}$ (transition from Sick to Dead) and $p_{SS} = 1 - p_{SD}$ (stay Sick). Transitions from Sick to Healthy are not allowed in this simplified model.\n- The Dead row is absorbing: $p_{DD} = 1$ and $p_{DH} = p_{DS} = 0$.\n- State-specific costs per cycle are assigned as $c_H$ for Healthy, $c_S$ for Sick, and $c_D$ for Dead, all in United States Dollars (USD) per person per year.\n\nFrom these definitions:\n- The $5$-year survival is defined as the probability of being alive at the end of $5$ cycles, which is $S_5 = \\pi_5(H) + \\pi_5(S)$, where $\\pi_5 = \\pi_0 P^5$.\n- The total nondiscounted expected cost over $5$ cycles is the sum of expected costs in each cycle, $C_5 = \\sum_{t=0}^{4} \\pi_t \\cdot c$, where $c = [c_H, c_S, c_D]$ and $\\cdot$ denotes the dot product. Costs are accrued at the start of each cycle (no half-cycle correction, no discounting).\n\nYour task is to implement a program that, given $p_{HS}$, $p_{SD}$, $p_{HD}$, and the cost vector $[c_H,c_S,c_D]$, computes the $5$-year survival $S_5$ and total cost $C_5$ for the cohort. Express survival as a decimal number rounded to $6$ decimals, and express costs in USD (as a numeric value) rounded to $2$ decimals.\n\nTest Suite:\nProvide computations for the following parameter sets (all costs in USD per person per year):\n1. $p_{HS} = 0.1$, $p_{SD} = 0.2$, $p_{HD} = 0.02$, $[c_H,c_S,c_D] = [500,3000,0]$.\n2. $p_{HS} = 0$, $p_{SD} = 0.2$, $p_{HD} = 0$, $[c_H,c_S,c_D] = [100,1000,0]$.\n3. $p_{HS} = 0.05$, $p_{SD} = 0.5$, $p_{HD} = 0.9$, $[c_H,c_S,c_D] = [200,2000,0]$.\n4. $p_{HS} = 0.3$, $p_{SD} = 0$, $p_{HD} = 0.05$, $[c_H,c_S,c_D] = [400,1500,0]$.\n\nFinal Output Format:\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, where each element is a two-item list $[S_5,C_5]$ corresponding to the test cases in order. For example, the output format is $[[s_1,c_1],[s_2,c_2],[s_3,c_3],[s_4,c_4]]$ with all numeric values rounded as specified.", "solution": "The problem requires the implementation of a three-state discrete-time Markov cohort model to compute two key outcomes: $5$-year survival ($S_5$) and total $5$-cycle nondiscounted expected cost ($C_5$). The model consists of three states: Healthy ($H$), Sick ($S$), and Dead ($D$). The process is defined by annual cycles, and the cohort is followed for $5$ years.\n\nThe fundamental mathematical object governing the system's evolution is the state transition matrix, $P$. The states are ordered as $[H, S, D]$. The matrix $P$ is a $3 \\times 3$ right-stochastic matrix where an element $P_{ij}$ represents the probability of transitioning from state $i$ to state $j$ in one cycle. The problem provides the parameters to construct this matrix.\n- The first row corresponds to transitions from the Healthy state. Given the annual probabilities of transitioning to Sick, $p_{HS}$, and to Dead, $p_{HD}$, the probability of remaining Healthy, $p_{HH}$, is derived from the fact that the row probabilities must sum to $1$. Thus, $p_{HH} = 1 - p_{HS} - p_{HD}$. The first row of $P$ is $[1 - p_{HS} - p_{HD}, p_{HS}, p_{HD}]$.\n- The second row corresponds to transitions from the Sick state. The problem states that recovery to Healthy is not possible, so $p_{SH}=0$. Given the probability of death from the Sick state, $p_{SD}$, the probability of remaining Sick, $p_{SS}$, is $1 - p_{SD}$. The second row of $P$ is $[0, 1 - p_{SD}, p_{SD}]$.\n- The third row corresponds to the Dead state, which is an absorbing state. An individual in this state remains there with probability $1$. Thus, the third row of $P$ is $[0, 0, 1]$.\n\nThe complete transition matrix $P$ is therefore:\n$$\nP = \\begin{pmatrix}\n1 - p_{HS} - p_{HD} & p_{HS} & p_{HD} \\\\\n0 & 1 - p_{SD} & p_{SD} \\\\\n0 & 0 & 1\n\\end{pmatrix}\n$$\nThe distribution of the cohort across the states at the beginning of each cycle $t$ is represented by the state occupancy vector $\\pi_t = [\\pi_t(H), \\pi_t(S), \\pi_t(D)]$. At time $t=0$, the entire cohort is Healthy, so the initial vector is $\\pi_0 = [1, 0, 0]$. The state vector evolves over time according to the Markov property: $\\pi_{t+1} = \\pi_t P$. This can also be expressed as $\\pi_t = \\pi_0 P^t$.\n\nThe total nondiscounted expected cost over $5$ cycles, $C_5$, is the sum of expected costs accrued at the beginning of each cycle from $t=0$ to $t=4$. The cost for a single cycle beginning at time $t$ is the dot product of the state occupancy vector $\\pi_t$ and the state cost vector $c = [c_H, c_S, c_D]^T$. The total cost is:\n$$\nC_5 = \\sum_{t=0}^{4} (\\pi_t \\cdot c)\n$$\nTo compute this, we can use an iterative algorithm. We start with $\\pi_0 = [1, 0, 0]$ and a total cost initialized to zero. For each cycle $t$ from $0$ to $4$, we calculate the cost for that cycle, add it to our running total, and then update the state vector to $\\pi_{t+1}$ for the next cycle.\n\nThe $5$-year survival, $S_5$, is the proportion of the cohort that is alive (in state $H$ or $S$) at the end of the fifth cycle. This corresponds to the time point $t=5$. The state occupancy vector at this time is $\\pi_5$. The survival probability is the sum of the probabilities of being in the Healthy or Sick states:\n$$\nS_5 = \\pi_5(H) + \\pi_5(S)\n$$\nThe state vector $\\pi_5$ is obtained after $5$ transitions from the initial state, i.e., $\\pi_5 = \\pi_0 P^5$. This vector is the final state occupancy vector after the completion of the iterative loop used for the cost calculation.\n\nThe overall algorithm for each test case is as follows:\n1. Construct the matrix $P$ and the cost vector $c$ using the provided parameters. The `numpy` library is suitable for this.\n2. Initialize the state vector $\\pi = [1.0, 0.0, 0.0]$ and the total cost $C_{total} = 0.0$.\n3. Loop for $t$ from $0$ to $4$:\n    a. Calculate the cost for the current cycle: $\\text{cost}_{\\text{cycle}} = \\pi \\cdot c$.\n    b. Add this to the total cost: $C_{total} = C_{total} + \\text{cost}_{\\text{cycle}}$.\n    c. Update the state vector for the next cycle: $\\pi = \\pi P$.\n4. After the loop terminates, the final state vector is $\\pi_5$. Calculate survival as $S_5 = \\pi[0] + \\pi[1]$. The total cost is $C_5 = C_{total}$.\n5. Round $S_5$ to $6$ decimal places and $C_5$ to $2$ decimal places, as specified. The results are then formatted for the final output.", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes 5-year survival and total 5-cycle cost for a three-state Markov model\n    based on a suite of test cases.\n    \"\"\"\n    # Define the test cases from the problem statement.\n    # Each case is a tuple: (p_HS, p_SD, p_HD, costs_vector)\n    test_cases = [\n        (0.1, 0.2, 0.02, [500, 3000, 0]),\n        (0.0, 0.2, 0.0, [100, 1000, 0]),\n        (0.05, 0.5, 0.9, [200, 2000, 0]),\n        (0.3, 0.0, 0.05, [400, 1500, 0]),\n    ]\n\n    results = []\n    for case in test_cases:\n        p_hs, p_sd, p_hd, costs_list = case\n        costs = np.array(costs_list)\n        \n        # 1. Construct the transition matrix P\n        p_hh = 1.0 - p_hs - p_hd\n        p_ss = 1.0 - p_sd\n        \n        P = np.array([\n            [p_hh, p_hs, p_hd],\n            [0.0,  p_ss, p_sd],\n            [0.0,  0.0,  1.0]\n        ])\n\n        # 2. Initialize state vector and total cost\n        pi_current = np.array([1.0, 0.0, 0.0]) # pi_0\n        total_cost = 0.0\n        num_cycles = 5\n\n        # 3. Loop through cycles to calculate total cost and final state vector\n        for _ in range(num_cycles): # t = 0, 1, 2, 3, 4\n            # Accrue cost at the start of the cycle\n            cycle_cost = np.dot(pi_current, costs)\n            total_cost += cycle_cost\n            \n            # Update state vector for the next cycle\n            pi_current = np.dot(pi_current, P)\n\n        # After the loop, pi_current is pi_5\n        pi_5 = pi_current\n        \n        # 4. Calculate 5-year survival (S_5)\n        # S_5 is the probability of being in state H or S at t=5\n        survival_5_year = pi_5[0] + pi_5[1]\n        \n        # 5. Round the results as specified\n        s5_rounded = round(survival_5_year, 6)\n        c5_rounded = round(total_cost, 2)\n        \n        results.append([s5_rounded, c5_rounded])\n\n    # Final print statement in the exact required format.\n    # The str() representation of a list of lists matches the required format.\n    print(f\"{results}\")\n\nsolve()\n```", "id": "4374956"}]}